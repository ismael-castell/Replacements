(this["webpackJsonpbloomreach-pages"]=this["webpackJsonpbloomreach-pages"]||[]).push([[25,12,30,62],{0:function(e,t){e.exports=react_and_react_dom.React},1:function(e,t,n){"use strict";n.d(t,"ab",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"f",(function(){return c})),n.d(t,"c",(function(){return i})),n.d(t,"N",(function(){return l})),n.d(t,"w",(function(){return u})),n.d(t,"K",(function(){return s})),n.d(t,"O",(function(){return d})),n.d(t,"J",(function(){return f})),n.d(t,"M",(function(){return m})),n.d(t,"P",(function(){return p})),n.d(t,"V",(function(){return v})),n.d(t,"s",(function(){return b})),n.d(t,"Q",(function(){return g})),n.d(t,"Z",(function(){return h})),n.d(t,"k",(function(){return y})),n.d(t,"q",(function(){return w})),n.d(t,"l",(function(){return O})),n.d(t,"x",(function(){return E})),n.d(t,"U",(function(){return j})),n.d(t,"R",(function(){return k})),n.d(t,"p",(function(){return S})),n.d(t,"o",(function(){return N})),n.d(t,"E",(function(){return x})),n.d(t,"Y",(function(){return I})),n.d(t,"X",(function(){return C})),n.d(t,"j",(function(){return T})),n.d(t,"H",(function(){return P})),n.d(t,"v",(function(){return _})),n.d(t,"G",(function(){return L})),n.d(t,"y",(function(){return A})),n.d(t,"z",(function(){return M})),n.d(t,"W",(function(){return D})),n.d(t,"T",(function(){return F})),n.d(t,"S",(function(){return R})),n.d(t,"e",(function(){return B})),n.d(t,"g",(function(){return U})),n.d(t,"d",(function(){return H})),n.d(t,"b",(function(){return Y})),n.d(t,"h",(function(){return K})),n.d(t,"i",(function(){return q})),n.d(t,"m",(function(){return G})),n.d(t,"n",(function(){return W})),n.d(t,"A",(function(){return X})),n.d(t,"L",(function(){return z})),n.d(t,"bb",(function(){return V})),n.d(t,"C",(function(){return $})),n.d(t,"B",(function(){return J})),n.d(t,"I",(function(){return Q})),n.d(t,"F",(function(){return Z})),n.d(t,"t",(function(){return ee})),n.d(t,"u",(function(){return te})),n.d(t,"D",(function(){return ne})),n.d(t,"r",(function(){return ae}));var a=n(39),r="br-cms-visitor",o="AnalyticsData",c="APCContainer",i="APCChild",l="SavedProjects",u="Loading".concat("\u2026"),s="visitor_partnerId",d="SFLY",f="delayed_page_load",m="br-cms-spa-config",p="shutterfly.com",v="tinyprints.com",b="https://www.",g="shutterfly.widen.net",h="view/thumbnail",y="content",w="/web",O={DeepCarrot:"deep-carrot",WhiteOverWhite:"white-ow",WhiteOverDark:"white-od",BlackOverWhite:"black-ow",BlackOverDark:"black-od",DeepBlue:"deep-blue",DeepTeal:"deep-teal",DarkRed:"dark-red",snapfish:"snapfish"},E="1600px",j=[{name:"Shutterfly",dataLink:"HPSocialUploadSFLY"},{name:"Facebook",dataLink:"HPSocialUploadFB"},{name:"GooglePhotos",dataLink:"HPSocialUploadGOOG"},{name:"Instagram",dataLink:"HPSocialUploadINST"}],k="signedIn",S='a[href], button:not([disabled]), textarea, input, select, [tabindex="0"]',N="Site links",x="width=600,height=600",I=(new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i"),new RegExp(/^[\+]?[(]?[0-9]{3}[)]?[-\s\.]?[0-9]{3}[-\s\.]?[0-9]{4,6}$/im)),C=new RegExp(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),T=new RegExp(/(\?.*)$/),P=1600,_=984,L=900,A=992,M=768,D=[1,2,3],F=1200,R=484,B="APL Configuration Not Setup Properly",U="Please add AnalyticsData component with a proper pagename",H="apcConfig",Y="APCBaseUrl",K=422,q="Bloomreach CMS",G=["Sun","Mon","Tues","Wed","Thur","Fri","Sat"],W=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],X=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],z=100,V=new Map([[a.g,"FinishProject"],[a.e,"CompleteOrder"],[a.h,"GoToProject"]]),$=767,J=60,Q="OSub",Z="OGlobal",ee="svg, img",te="Image",ne="Nav",ae="Header"},100:function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return p}));var a=n(3),r=n(5),o=n.n(r),c=n(10),i=n(27),l=n(2),u=n(1),s=n(52);function d(){if(window.SFLY_DTL){var e=window.SFLY_DTL.session,t=!(!window.SFLY_DTL.page||!window.SFLY_DTL.page.pageDetails)&&window.SFLY_DTL.page.pageDetails,n=e&&e.visitorDetails&&e.visitorDetails.visitorType===u.R,a=!(!window.$sflyAuth||!window.$sflyAuth.currentUser)&&window.$sflyAuth.currentUser;e&&function(e,t){e?(window.MasterTmsUdo.visitorId="",window.MasterTmsUdo.customerLoggedIn="true"):(t&&(window.MasterTmsUdo.visitorId=t.visitorDetails.visitorId?t.visitorDetails.visitorId:""),window.MasterTmsUdo.customerLoggedIn="false",window.MasterTmsUdo.userId="",window.MasterTmsUdo.uid=""),void 0!==window.MasterTmsUdo.visitorid&&delete window.MasterTmsUdo.visitorid}(n,e),t&&function(e){if(e&&(window.MasterTmsUdo.categoryName=e.productCategory?e.productCategory:"",e.pageName||e.pageBreadcrumb)){var t=e.pageName||e.pageBreadcrumb;t=(t=t.replace(/\/$/,"")).trim().replaceAll(" ","_").replaceAll("/","_"),window.MasterTmsUdo.escapedPagename=escape(t)}}(t),a&&n&&function(e){e&&(window.MasterTmsUdo.userFirstName=e.given_name?e.given_name:"",window.MasterTmsUdo.userlastName=e.family_name?e.family_name:"",window.MasterTmsUdo.userEmail=e.email?e.email:"")}(a)}}function f(e){return m.apply(this,arguments)}function m(){return(m=Object(c.a)(o.a.mark((function e(t){var n,a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"!==typeof window){e.next=2;break}return e.abrupt("return");case 2:if(null===(n=window)||void 0===n?void 0:n.utag){e.next=12;break}return e.prev=3,e.next=6,Object(i.b)('script[src*="utag.js"]',"tealium-script-src",(function(){try{var e,t;return!!(null===(e=window)||void 0===e||null===(t=e.utag)||void 0===t?void 0:t.link)}catch(n){return!1}}),15e3);case 6:e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(3),Object(l.n)("Error waiting for Tealium library to load: ".concat(e.t0.message)),e.abrupt("return");case 12:(null===(a=window)||void 0===a||null===(r=a.utag)||void 0===r?void 0:r.link)&&window.utag.link(t);case 13:case"end":return e.stop()}}),e,null,[[3,8]])})))).apply(this,arguments)}function p(e){return v.apply(this,arguments)}function v(){return(v=Object(c.a)(o.a.mark((function e(t){var n,r,c,u,f,m,p;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"!==typeof window){e.next=2;break}return e.abrupt("return");case 2:if(null===(n=window)||void 0===n?void 0:n.utag){e.next=12;break}return e.prev=3,e.next=6,Object(i.b)('script[src*="utag.js"]',"tealium-script-src",(function(){try{var e,t;return!!(null===(e=window)||void 0===e||null===(t=e.utag)||void 0===t?void 0:t.view)}catch(n){return!1}}),15e3);case 6:e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(3),Object(l.n)("Error waiting for Tealium library to load: ".concat(e.t0.message)),e.abrupt("return");case 12:"undefined"!==typeof window&&(null===(r=window)||void 0===r||null===(c=r.utag)||void 0===c?void 0:c.view)?(Object(s.b)("tealiumTrackPageView"),d(),window.MasterTmsUdo=Object(a.a)(Object(a.a)({},null===(u=window)||void 0===u?void 0:u.MasterTmsUdo),{},{pageType:(null===t||void 0===t?void 0:t.pageType)||null}),null===(f=window)||void 0===f||null===(m=f.utag)||void 0===m||m.view(null===(p=window)||void 0===p?void 0:p.MasterTmsUdo),Object(l.m)("tealiumTrackPageView(".concat(JSON.stringify(Object(a.a)(Object(a.a)({},window.MasterTmsUdo),{},{pageType:(null===t||void 0===t?void 0:t.pageType)||null})),")"))):Object(l.n)("Tealium library loaded but no utag.view is available");case 13:case"end":return e.stop()}}),e,null,[[3,8]])})))).apply(this,arguments)}},101:function(e,t,n){},102:function(e,t,n){},103:function(e,t,n){},104:function(e,t,n){},105:function(e,t,n){},106:function(e,t,n){},107:function(e,t,n){},11:function(e,t,n){"use strict";var a,r,o,c,i,l,u,s,d,f;n.d(t,"d",(function(){return a})),n.d(t,"f",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"e",(function(){return c})),n.d(t,"j",(function(){return i})),n.d(t,"i",(function(){return l})),n.d(t,"g",(function(){return u})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return d})),n.d(t,"h",(function(){return f})),function(e){e.Default="default_font_weight",e.Call_Out="callout_font_weight",e.Shout="shout_font_weight"}(a||(a={})),function(e){e.Browser_Default="",e.Title_Default="default-title-line-height"}(r||(r={})),function(e){e.Center="center",e.Left="left",e.Right="right"}(o||(o={})),function(e){e[e.Heading_2=2]="Heading_2",e[e.Heading_3=3]="Heading_3",e[e.Heading_4=4]="Heading_4",e[e.None=0]="None"}(c||(c={})),function(e){e.Small_24px="small",e.Medium_33px="medium",e.Large_44px="large"}(i||(i={})),function(e){e.Small_14px="small",e.Medium_18px="medium",e.Large_24px="large"}(l||(l={})),function(e){e.Default_Promo_Layout="DefaultPromoLayout",e.Eyebrow_Promo_Layout="EyebrowPromoLayout"}(u||(u={})),function(e){e.DESKTOP="desktop",e.TABLET="tablet",e.MOBILE="mobile"}(s||(s={})),function(e){e.TABLET_MAX_WIDH_QUERY="(max-width: 1199px)",e.MOBILE_MAX_WIDTH_QUERY="(max-width: 768px)",e.DESKTOP_MIN_WIDTH_QUERY="(min-width: 991px)"}(d||(d={})),function(e){e.HALF="+ half (0.5x)",e.REGULAR="+ regular (1x)",e.MEDIUM="+ medium (1.4x)",e.DOUBLE="+ double (2x)",e.LARGE="+ large (3x)",e.EXTRA_LARGE="+ extra large (4x)",e.EXTRA_EXTRA_LARGE="+ extra extra large (6x)",e.MAXIMUM="+ maximum (9x)",e.EXTRA_LARGE_NEGATIVE="- extra large (-4x)"}(f||(f={}))},110:function(e){e.exports=JSON.parse('{"document":{"logos":[{"selectLogoBrand":"SFLY"},{"selectLogoBrand":"TP"},{"selectLogoBrand":"spoonflower","additionalLabel":"Also visit"}],"categories":[{"label":"HOLIDAY","isPermanent":false,"mobileName":"HOLIDAY","url":"/holiday-christmas-gifts","hiddenFlag":true,"color":"#D74012","newFlag":false,"disabledOnMobile":false},{"label":"Photo Books","isPermanent":false,"mobileName":"Photo Books","url":"/photo-books","hiddenFlag":false,"newFlag":false,"disabledOnMobile":false,"flyout":{"flyoutHeading":"Photo Books","flyoutMenu":[{"flyoutContent":[{"heading":{"openInNewWindow":false,"label":"PHOTO BOOKS","hide":false,"openInNewTab":false,"nofollow":false,"hideOnMobile":false,"href":"/photo-books"},"linksFirst":true,"links":[{"openInNewWindow":false,"label":"Get Started","hide":false,"openInNewTab":false,"nofollow":false,"hideOnMobile":false,"href":"/photo-books/styles/"},{"openInNewWindow":false,"label":"NEW Photo Books Experience","hide":false,"openInNewTab":false,"nofollow":false,"hideOnMobile":false,"color":"#d74012","href":"/photo-books/learn-more"}]}]},{"linkedFlyoutContent":{"flyoutContent":[{"heading":{"openInNewWindow":false,"label":"Label","hide":false,"openInNewTab":false,"nofollow":false,"hideOnMobile":false,"href":"/label"},"linksFirst":false,"links":[]}]}}]}}]},"brand":"SFLY"}')},116:function(e,t){e.exports=react_app_polyfills.regeneratorRuntime},12:function(e,t,n){"use strict";var a,r=n(3),o=n(29),c=n(8),i=n(0),l=n.n(i),u=n(25),s=n(48),d=n(31),f=n(23),m=n(17),p=n(4),v=n(1),b=(n(101),n(38)),g={tel:v.Y,mailto:v.X};function h(e,t){var n=function(e){try{return new URL(0===e.indexOf("//")?"http:".concat(e):e).hostname}catch(t){return}}(e);return void 0===n||n===t}n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return O})),function(e){e.button="button",e.link="link"}(a||(a={}));var y=new Map;function w(e){return Object(i.useContext)(d.a).reduce((function(t,n){return t||function(e,t){var n=y.get(t);return void 0!==n||(n=null!==Object(u.f)(t,{path:e.path,exact:e.exact}),y.set(t,n)),n}(n,e)}),!1)}function O(e){var t=e.to,n=e.className,u=e.children,d=e.external,y=e.openNewTab,O=e.openInNewWindow,E=e.queryParams,j=e.userIdParam,k=e.type,S=e.ariaLabel,N=e.ctaButtonDesign,x=e.onClose,I=e.onKeyDown,C=e.tabIndex,T=e.customLinkName,P=e.itemProp,_=e.style,L=e.nofollow,A=e.title,M=e.tracking,D=e.role,F=e.ariahaspopup,R=e.ariaexpanded,B=Object(i.useState)(0),U=Object(c.a)(B,2),H=U[0],Y=U[1],K=Object(i.useState)(""),q=Object(c.a)(K,2),G=q[0],W=q[1],X=0===t.indexOf("/")||[0,4,5,6].includes(t.indexOf("//"))||function(e){if(-1===e.indexOf(":"))return!1;var t=e.split(":"),n=t[0],a=g[n];if(void 0===a)return!1;var r,o=t[1];return"mailto"===n&&(o=null===(r=o)||void 0===r?void 0:r.split("?")[0]),a.test(o)}(t)?t:"//".concat(t),z=w(X),V=y||d||!z,$=function(e,t,n){return"".concat(!0!==t&&h(e,Object(p.f)()||"")?"":"noopener noreferrer ").concat(!0===n?"nofollow":"")}(X,y,L),J=["AppLink"].concat(Object(o.a)(n?[n]:[]),Object(o.a)(function(e,t){return e===a.button?[e,t||v.l.DeepCarrot]:e===a.link?[e]:[]}(k,N))),Q=Object(i.useContext)(f.BrPageContext),Z=Object(i.useContext)(f.BrComponentContext),ee=Object(i.useCallback)((function(e){Q&&Z&&e&&(e.dataset.linkname=Object(m.b)(Q,Z,e,Object(r.a)(Object(r.a)({},M),{},{linkIndex:H})))}),[Q,Z,M]),te=Object(i.useCallback)((function(e){e&&!T&&ee(e)}),[ee,T]);Object(i.useEffect)((function(){var e;(null===M||void 0===M?void 0:M.linkIndexCounter)&&Y(null===M||void 0===M||null===(e=M.linkIndexCounter)||void 0===e?void 0:e.getLinkIndex(te))}),[]);var ne=function(e){O?Object(b.c)(e,G||X):x&&x(e)};return(E||j)&&Object(b.a)(X,E,j).then((function(e){return W(e)})),V?l.a.createElement("a",{href:G||X,ref:te,className:J.join(" "),rel:$,target:!0===y?"_blank":"_self","aria-label":S,tabIndex:C||0,onClick:ne,onKeyDown:I,"data-linkname":T,itemProp:P,style:_,role:D,"aria-haspopup":F,"aria-expanded":R,title:A},u):l.a.createElement(s.b,{to:G||X,ref:te,rel:$,className:J.join(" "),"aria-label":S,onClick:ne,onKeyDown:I,itemProp:P,tabIndex:C||0,"data-linkname":T,style:_,title:A,role:D,"aria-haspopup":F,"aria-expanded":R},u)}},120:function(e,t){},124:function(e,t){},13:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return f}));var a=n(2),r=n(0),o=n.n(r),c=n(37),i=n(1),l=n(4);function u(e){var t=new Map;return function(n,a){if(t.has(n))return t.get(n);var r=function(e,t,n){var a;if(null===(a=n[e])||void 0===a?void 0:a.allowRuntimeOverride){var r=Object(c.b)("".concat(i.M,".").concat(e));if(void 0!==r)return r;if(r=function(e){var t=d.get(e);if(void 0!==t)return t;t="";var n=Object(l.o)("meta[name="+e+"]");if(n){var a=n.getAttribute("content");if(a&&"false"!==a){var r=(""+a).trim();t=r}}return d.set(e,t),t}(e))return r}return function(e,t,n){var a=n[e];if(!a)return;if(a[t])return a[t];if("production"!==t&&a.preProd)return a.preProd;return a.default}(e,t,n)}(n,a,e);return t.set(n,r),r}}var s=o.a.createContext((function(){})),d=new Map;function f(e){var t=Object(r.useContext)(a.b),n=Object(r.useContext)(s);return e&&t?n(e,t):void 0}},130:function(e,t,n){},135:function(e,t,n){},136:function(e,t,n){},137:function(e,t,n){},138:function(e,t,n){},14:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"e",(function(){return o})),n.d(t,"f",(function(){return c})),n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"j",(function(){return s})),n.d(t,"h",(function(){return d})),n.d(t,"i",(function(){return f})),n.d(t,"g",(function(){return m}));var a=n(1),r="enter",o=" ",c="tab",i="shift",l="escape",u="esc";function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[r],n=arguments.length>2?arguments[2]:void 0,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];t.includes(e.key&&e.key.toLowerCase())&&(a&&e.preventDefault(),n&&n())}function d(e){switch(e.preventDefault(),e.key&&e.key.toLowerCase()){case"arrowup":var t;if(e.currentTarget.previousElementSibling)null===(t=e.currentTarget.previousElementSibling)||void 0===t||t.focus();break;case"arrowdown":var n;if(e.currentTarget.nextElementSibling)null===(n=e.currentTarget.nextElementSibling)||void 0===n||n.focus()}}var f=function(e,t,n,r,o){if(n&&"Tab"===e.key&&t&&t.current){var c=t.current.querySelectorAll(a.p);if(0!==c.length){var i=c[0],l=c[c.length-1];if(!e.shiftKey&&document.activeElement===l)return r?r():i.focus(),void e.preventDefault();e.shiftKey&&document.activeElement===i&&(o?o():l.focus(),e.preventDefault())}}},m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[r];return!!e.key&&t.includes(e.key.toLowerCase())}},142:function(e,t,n){"use strict";n.r(t);var a=n(21),r=n(8),o=n(3),c=n(0),i=n.n(c),l=n(12),u=n(60),s=n(168),d=n(1),f=n(11),m=n(4),p=(n(236),n(16)),v=n(9),b=(n(237),{slider:{overflow:"hidden",display:"flex",flexDirection:"column"},slider__inner:{height:"3.1429rem"},slider__slides:{height:"3.1429rem",display:"flex"},slider__slide:{flexBasis:0,flexGrow:1}}),g=function(e,t){return(e%t+t)%t},h=Object(c.forwardRef)((function(e,t){var n=e.slides,a=e.position,l=e.onPosition,u=Object(c.useState)(a||0),s=Object(r.a)(u,2),d=s[0],f=s[1],m=Object(c.useState)(0),p=Object(r.a)(m,2),v=p[0],h=p[1],y=Object(c.useState)(0),w=Object(r.a)(y,2),O=(w[0],w[1],Object(c.useState)(null)),E=Object(r.a)(O,2),j=(E[0],E[1]),k=Object(c.useState)(0),S=Object(r.a)(k,2),N=(S[0],S[1],Object(c.createRef)()),x=Object(c.useRef)(),I=-1;var C=Object(c.useCallback)((function(e){h(e),j(null)}),[]),T=Object(c.useCallback)((function(e){var t=g(e,n.length);h(t),f(t)}),[n.length]),P=Object(c.useCallback)((function(){var e;return(null===(e=N.current)||void 0===e?void 0:e.offsetWidth)||0}),[N]),_=Object(c.useCallback)((function(){x.current||(x.current=requestAnimationFrame((function(){x.current=!1;var e=v-d;Math.abs(e*P())>1?(f(d+.12*e),_()):T(v)})))}),[v,P,T,d]);Object(c.useEffect)((function(){_()}),[_]);Object(c.useImperativeHandle)(t,(function(){return{handleSlide:function(e){!function(e){C(Math.round(v)+e)}(e)}}}));var L=n.length,A=g(d,L),M=Math.round(A),D=M-A;M!==I&&(I=M,l&&l(g(I,L)));for(var F=[],R=M-0;R<=M+0;R++)F.push((R+L)%L);var B=F.map((function(e){return i.a.createElement("div",{style:b.slider__slide},n[e])})),U=Object(o.a)(Object(o.a)({},b.slider__slides),{},{width:"".concat(100*B.length,"%"),transform:"translateX(".concat((D-0)*(100/B.length),"%)")});return i.a.createElement("div",{style:{overflow:"hidden",display:"flex",flexDirection:"column"},ref:N},i.a.createElement("div",{style:b.slider__inner,onPointerDown:function(e){},onPointerMove:function(e){},onPointerUp:function(){}},i.a.createElement("div",{style:U},B)))}));function y(e){var t=e.slides,n=Object(c.useRef)(null),a=Object(c.useState)(-1),o=Object(r.a)(a,2),l=o[0],u=o[1],s=t&&t.map((function(e,t){return i.a.createElement("div",{className:"PromoCarouselSlide",key:t},e)})),d=function(){l>=0&&(window.clearInterval(l),u(-2))};return Object(c.useEffect)((function(){if(s&&(null===s||void 0===s?void 0:s.length)>1&&-1===l){var e=window.setInterval((function(){n.current&&n.current.handleSlide(1)}),3500);u(e)}}),[s,u,l]),i.a.createElement("div",{className:"PromoCarousel"},i.a.createElement("div",{className:"PromoCarouselNav Left"},i.a.createElement("button",{className:"svg-btn-icon uh-btn","aria-label":"Previous Promo",onClick:function(){d(),n.current&&n.current.handleSlide(-1)}},i.a.createElement(p.a,{icon:v.b.ArrowIcon}))),i.a.createElement("div",{className:"PromoCarouselSlider"},i.a.createElement(h,{ref:n,slides:s||[]})),i.a.createElement("div",{className:"PromoCarouselNav Right"},i.a.createElement("button",{className:"svg-btn-icon uh-btn","aria-label":"Next Promo",onClick:function(){d(),n.current&&n.current.handleSlide(1)}},i.a.createElement(p.a,{icon:v.b.ArrowIcon}))))}function w(e,t){var n=e.text,a=e.details,r=e.code,o=e.endDate,c=o?new Date(o):null;return t?i.a.createElement(i.a.Fragment,null,c&&"Ends ".concat(d.m[c.getDay()],", ").concat(d.A[c.getMonth()]," ").concat(c.getDate()," "),i.a.createElement("span",null,n.trim().toUpperCase()),"".concat(a?a+" ":"").concat(r&&"Code: ".concat(r))):i.a.createElement(i.a.Fragment,null,c&&i.a.createElement("strong",null,"Ends:"," ",i.a.createElement("time",{dateTime:c.toLocaleDateString()},"".concat(d.m[c.getDay()],", ").concat(d.A[c.getMonth()]," ").concat(c.getDate()))),i.a.createElement("span",null,n),a&&i.a.createElement("em",null,a),r&&i.a.createElement("strong",null,"Code: ",r))}function O(e,t){var n=e.text,a=e.details,r=e.code;return t?i.a.createElement(i.a.Fragment,null,i.a.createElement("span",null,"".concat(n,"  ").concat(a)),i.a.createElement("div",{className:"seperator"},"|"),r&&i.a.createElement("div",{className:"contents"},"Code: ",r)):w(e,t)}function E(e,t,n,a){return i.a.createElement(i.a.Fragment,null,e.map((function(e,r){var o;return i.a.createElement("div",{className:"Promo",style:t?{gridArea:"Promo-".concat(null===(o=e.alignment)||void 0===o?void 0:o.trim(),"-").concat(r+1),textAlign:f.a.Left}:{},key:e.text},e.url?i.a.createElement(l.b,{to:e.url,tracking:a},n?O(e,t):w(e,t)):n?O(e,t):w(e,t))})))}n.d(t,"default",(function(){return x}));var j=function(e,t){return e.filter((function(e){var n;return(null===(n=e.alignment)||void 0===n?void 0:n.trim())===t}))};function k(e){var t=e.text,n=e.details,a=e.code,r=e.endDate,o=r?new Date(r):null,c=new Date,l=o&&c.getFullYear()===o.getFullYear()&&c.getMonth()===o.getMonth()&&c.getDate()===o.getDate();return i.a.createElement("span",null,i.a.createElement("em",{className:"highlighted-text"},"".concat(t.trim()," ")),"".concat(n?n+" ":""),a&&i.a.createElement("span",null,"\u2013 "),"".concat(o?l?"Today Only":"Ends ".concat(d.n[o.getDay()]," ").concat(o.getMonth()+1,"/").concat(o.getDate(),","):"","\n            ").concat(a&&"Code: ".concat(a)))}function S(e,t,n){var a="SeePromoDetails ".concat(e.seePromoTextDecorationNone?"TextDecoration":"");return i.a.createElement("div",null,e.url?i.a.createElement(l.b,{to:e.url,tracking:Object(o.a)({linkIndex:t},n),key:t},k(e)):i.a.createElement("span",{key:t},k(e)),e.seePromoDetailsUrl&&i.a.createElement(i.a.Fragment,null,"\xa0\xa0",i.a.createElement(l.b,{to:e.seePromoDetailsUrl,tracking:Object(o.a)({linkIndex:t},n),className:a,key:t},"See promo details")))}function N(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0,o=(null===e||void 0===e?void 0:e.trim())===f.g.Eyebrow_Promo_Layout;return i.a.createElement(i.a.Fragment,null,!r&&i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"PromoBanner Desktop ".concat(o?f.g.Eyebrow_Promo_Layout+" eyebrow-grid-container":""," ").concat(a)},E(j(t,f.a.Left),o,!1,n),E(j(t,f.a.Right),o,!1,n)),i.a.createElement("div",{className:"PromoBanner Mobile ".concat(o?f.g.Eyebrow_Promo_Layout:""," ").concat(a)},E([t[0]],o,!0,n))),r&&i.a.createElement("div",{className:"PromoBanner NewExperience ".concat(o?f.g.Eyebrow_Promo_Layout:""," ").concat(a," BannerFullWidthEdgetoEdge")},i.a.createElement(y,{slides:t.map((function(e,t){return S(e,t)}))})))}function x(e){var t,n=e.document,l=e.componentId,d=e.tracking,p=e.classNames,v=e.toggleNewX,b=n||{},g=b.promoLayout,h=b.sticky,y=b.promos,w=b.promoBannerColor,O=b.promoTextColor,E=b.promoArrowColor,k=Object(m.o)("body"),S=Object(c.useState)(new u.a),x=Object(r.a)(S,1)[0];if(!y)return null;var I=(t={},Object(a.a)(t,"--template-area",function(e){for(var t=j(e,f.a.Left).length,n=j(e,f.a.Right).length,a=t>=n?t:n,r="",o=0;o<a;o++)r+="'Promo-left-".concat(o+1," empty Promo-right-").concat(o+1,"'");return r}(y)),Object(a.a)(t,"--promo-text-color",O),Object(a.a)(t,"--promo-arrow-color",E),Object(a.a)(t,"--promo-bg-color",w),t);return i.a.createElement("div",Object.assign({},l&&{id:l},{style:I}),h?i.a.createElement(s.a,{container:k,top:0},N(g,y,Object(o.a)(Object(o.a)({},d),{},{linkIndexCounter:x}),p,v)):N(g,y,Object(o.a)(Object(o.a)({},d),{},{linkIndexCounter:x}),p,v))}},152:function(e,t){},163:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return u}));function a(){return"undefined"===typeof window.navigator?"":window.navigator.userAgent.toLowerCase()}function r(e,t){return-1!==t.indexOf(e)}var o=function(){return"undefined"!==typeof window&&r("ipad",a())},c=function(){if("undefined"===typeof window)return!1;var e=a();return!i()&&Boolean(e.match(/mobile|blackberry|iphone|ipod|bb10|rim|meego|Opera M(obi|ini)/i))},i=function(){if("undefined"===typeof window)return!1;var e=a();return r("tablet",e)||r("ipad",e)||r("android",e)&&!r("mobile",e)||r("windows",e)&&r("touch",e)&&!r("phone",e)},l=function(){return!i()&&!c()},u=function(e){var t=!1;return("OnlyMobile"===e&&c()||"OnlyDesktop"===e&&l()||"OnlyTablet"===e&&i()||"TabletAndDesktop"===e&&(i()||l())||"MobileAndTablet"===e&&(i()||c())||"MobileAndDesktop"===e&&(l()||c())||"All"===e)&&(t=!0),t}},168:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(8),r=n(0),o=n.n(r),c=n(42),i=n(4);function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=e.getBoundingClientRect(),r=a.y,o=a.height,c=r+o;if(n){if(c>Object(i.l)()&&0===t)return c;if(c<Object(i.l)()&&0!==t)return;if(0===t)return Object(i.l)()}else{if(r<0&&0===t)return Object(i.k)()+r;if(Object(i.k)()<t)return 0}}function u(e){var t=e.children,n=e.container,u=e.top,s=e.bottom,d=Object(r.useRef)(),f=Object(r.useRef)(null),m=void 0!==s,p=Object(r.useState)(0),v=Object(a.a)(p,2),b=v[0],g=v[1];Object(r.useEffect)((function(){if(!d.current&&n&&(d.current=Object(i.c)("div"),d.current&&(d.current.classList.add("Sticky"),m?(d.current.style.bottom="".concat(s,"px"),d.current.style.top="unset",d.current.classList.add("bottom")):(d.current.style.top=u||0===u?"".concat(u,"px"):"unset",d.current.style.bottom="unset",d.current.classList.add("top")),d.current.style.position="sticky",d.current.style.zIndex="9999")),n&&d.current&&0!==b&&(m?n.appendChild(d.current):n.insertBefore(d.current,n.firstChild)),f.current){var e=l(f.current,b,m);void 0!==e&&g(e)}return function(){d.current&&d.current.remove()}}),[s,n,m,b,u]);var h=Object(r.useCallback)((function(){if(f.current){var e=l(f.current,b,m);void 0!==e&&g(e)}}),[b,m]);return Object(r.useEffect)((function(){var e;return null===(e=document)||void 0===e||e.addEventListener("scroll",h,{passive:!0}),function(){var e;null===(e=document)||void 0===e||e.removeEventListener("scroll",h)}}),[h]),d.current&&0!==b?Object(c.createPortal)(o.a.createElement("div",{ref:f},t),d.current):o.a.createElement("div",{ref:f},t)}},17:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return u}));var a,r=n(18),o=n(1),c=n(58),i=n(24);function l(e){if(!e)return"";var t=new RegExp(/[\s>.'"?!<]/g);return e.replace(t,"")}function u(e,t,n,u){if((null===u||void 0===u?void 0:u.format)===a.UHF_FORMAT)return function(e,t,n,a){var u=Object(r.e)(t,e).lastModified,s=(null===a||void 0===a?void 0:a.linkText)||l(Object(i.c)(n,!0)),d=(null===a||void 0===a?void 0:a.isSubCategory)?o.I:o.F||o.F,f=n&&n.querySelectorAll(o.t).length?o.u:d===o.I?o.r:o.D;return[l(s),d,u?Object(c.a)(u):"00000",d===o.F?(null===a||void 0===a?void 0:a.linkIndex)||0:l(s),f].join("|")}(e,t,n,u);var s=Object(r.d)(e,o.a)||{},d=s.pageName,f=s.pageType,m=Object(r.e)(t,e),p=m.componentName,v=m.containerName,b=m.componentIndex,g=m.lastModified,h=m.documentName,y=(null===u||void 0===u?void 0:u.linkText)||l(Object(i.c)(n,!0));return[d,f,g?Object(c.a)(g):"00000",[v,b,l((null===u||void 0===u?void 0:u.syntheticComponentName)||p),(null===u||void 0===u?void 0:u.linkIndex)||0].join(":"),l((null===u||void 0===u?void 0:u.syntheticDocumentName)||h),l(y)].join("|")}!function(e){e[e.DEFAULT_FORMAT=0]="DEFAULT_FORMAT",e[e.UHF_FORMAT=1]="UHF_FORMAT"}(a||(a={}))},18:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"f",(function(){return s})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return f})),n.d(t,"e",(function(){return m}));n(3);var a=n(15),r=n(0),o=n.n(r),c=n(44),i=(n(35),n(4)),l=(n(13),o.a.createContext(""));o.a.createContext("");function u(e){var t=e.endpoint,n=e.apiVersion,a=e.refLevel,r=e.path,o=e.httpClient,c="undefined"!==typeof window?new URLSearchParams(Object(i.h)()||"?"):void 0;a&&c&&c.set("_maxreflevel",a);var l=c?c.toString():"";return{endpoint:t,apiVersion:n,httpClient:o,request:{path:"".concat(r).concat(l?"?".concat(l):"")}}}function s(){return!!new URLSearchParams(Object(i.h)()||"?").get("token")}function d(e,t){if(e&&t)return e.getName()===t?e:e.getChildren().reduce((function(e,n){return e||d(n,t)}),void 0)}function f(e,t){var n,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"document",r=d(null===e||void 0===e?void 0:e.getComponent(),t);if(r)return null===e||void 0===e||null===(n=e.getContent(null===r||void 0===r?void 0:r.getModels()[a]))||void 0===n?void 0:n.getData()}function m(e,t){var n,r,o,i,l=t.getComponent(),u=e.getId(),s="Page",d=-1,f=e===t.getComponent()||null===(n=e.model)||void 0===n?void 0:n.ctype,m=Object(a.a)(l.getChildren());try{for(m.s();!(i=m.n()).done;){var p=i.value;p.getComponentById(u)&&(s=p.getName(),d=p.getChildren().findIndex((function(e){return e.getId()===u})))}}catch(N){m.e(N)}finally{m.f()}var v,b,g=t.getDocument(),h=(null===(r=t.getDocument())||void 0===r?void 0:r.lastModified)?new Date(null===(o=t.getDocument())||void 0===o?void 0:o.lastModified):void 0;if(g){var y=e.getModels();for(var w in y){var O,E,j,k=Object(c.isReference)(y[w])?null===(O=t.getContent(y[w]))||void 0===O||null===(E=O.getData())||void 0===E?void 0:E.lastModified:void 0,S=k?new Date(Date.parse(k)):void 0;if(v=!v&&S||v&&S&&S>v?S:v,!b)if(Object(c.isReference)(y[w]))b=null===(j=t.getContent(y[w]))||void 0===j?void 0:j.getName()}}return{componentName:f,componentIndex:d,containerName:s,lastModified:v||h,documentName:b}}},2:function(e,t,n){"use strict";(function(e){n.d(t,"f",(function(){return l})),n.d(t,"i",(function(){return u})),n.d(t,"j",(function(){return s})),n.d(t,"d",(function(){return d})),n.d(t,"l",(function(){return f})),n.d(t,"e",(function(){return m})),n.d(t,"k",(function(){return v})),n.d(t,"g",(function(){return b})),n.d(t,"m",(function(){return y})),n.d(t,"n",(function(){return w})),n.d(t,"a",(function(){return O})),n.d(t,"h",(function(){return E})),n.d(t,"c",(function(){return j}));var a=n(0),r=n.n(a),o=n(1),c=n(4),i=null;function l(e){if(i&&!e)return i;var t=u("sfly-env");return i=b()&&"production"!==t||null===t?"local":t,y("Env::getEnv(using=".concat(i,", reported=").concat(t,")")),i}function u(e){var t=Object(c.o)('meta[name="'.concat(e,'"]'));return t?t.getAttribute("content"):null}function s(e,t,n){var a,r=Object(c.e)(e);if((null===r||void 0===r?void 0:r.textContent)&&!(null===r||void 0===r||null===(a=r.dataset)||void 0===a?void 0:a.pending))try{var o=JSON.parse(r.textContent);return t&&function(e){var t=Object(c.e)(e);t&&(t.textContent="")}(e),n&&n(o)?o:void 0}catch(i){return}}function d(){var e=l();return"production"===e?o.P:"".concat(e,".").concat(o.P)}function f(e){var t=l(),n="TP"===m(e)?o.V:o.P;return"production"===t?"".concat(o.s).concat(n):"local"===t?"".concat(o.s,"beta.").concat(n):"".concat(o.s).concat(t,".").concat(n)}function m(e){if(e)return e;var t=Object(c.o)('meta[name="sfly-brand"]');return(null===t||void 0===t?void 0:t.getAttribute("content"))||void 0}var p=new Map;function v(e){var t=m(e);return t&&p.get(t)?p.get(t):t}function b(){return"undefined"!==typeof e&&!!Object(c.j)("REACT_APP_LOCAL_MODE")}function g(){return"undefined"!==typeof e&&!!Object(c.j)("REACT_APP_DEBUG_MODE")}p.set("SFLY","shutterfly"),p.set("TP","tinyprints");var h=[];function y(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a;g()&&(a=console.log).call.apply(a,[console].concat(t));h.push({level:"log",args:t,timestamp:Date.now()})}function w(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a;g()&&(a=console.warn).call.apply(a,[console].concat(t));h.push({level:"warn",args:t,timestamp:Date.now()})}function O(){h.length=0}function E(){return[].concat(h)}t.b=r.a.createContext(l());Object(c.n)("(max-device-width: ".concat(767,"px)"));function j(){var e;if("undefined"===typeof window)return!1;var t="undefined"===typeof(null===(e=window)||void 0===e?void 0:e.navigator)?"":navigator.userAgent,n=Boolean(t.match(/Android|BlackBerry|iPhone|iPod|Opera Mini|IEMobile|WPDesktop/i)),a=Object(c.m)()<=480&&Object(c.l)()<=926;return!(!n||!a)}}).call(this,n(62))},20:function(e,t,n){"use strict";var a=n(21),r=n(3),o=n(26),c=n(36),i=n(90),l=n(0),u=n.n(l),s=n(2),d=n(17),f=n(16),m=n(9),p=n(6);n(137);var v,b=function(e){var t=e.count,n=e.size,a=e.isHighlighted,r=e.textLength,o="73",c="27";return u.a.createElement("div",{className:"cart-count-icon",style:{width:n,height:n}},u.a.createElement("svg",{viewBox:"0 0 100 100"},u.a.createElement(f.a,{className:"cart-icon",icon:a?m.b.CartSelectedIcon:m.b.CartIcon,additionalProps:{x:"0",y:"20",width:"70",height:"70"}}),t>0&&u.a.createElement("g",null,u.a.createElement("circle",{cx:o,cy:c,r:"30",fill:"white"}),u.a.createElement("circle",{className:"orange",cx:o,cy:c,r:"25"}),u.a.createElement("text",{x:o,y:"38",textLength:r||"35",textAnchor:"middle",fontSize:"32"},t>9?"9+":t))))};!function(e){e.MyAccount="My Account",e.MyProjects="My Projects",e.MyPhotos="My Photos",e.ShareSites="Share Sites",e.Cart="Cart",e.OrderHistory="Order History",e.Lifetouch="Lifetouch",e.MyFavorites="My Favorites"}(v||(v={})),n.d(t,"a",(function(){return g}));var g=function(){function e(){Object(o.a)(this,e)}return Object(c.a)(e,null,[{key:"getEnvPrefix",value:function(){var e=Object(i.getCurrentEnv)();return e===p.c.PROD?"":"".concat(e,".")}},{key:"getHostName",value:function(t){return t===p.a.TINYPRINTS?"".concat(p.g,".").concat(e.getEnvPrefix()).concat(p.p):"".concat(p.g,".").concat(e.getEnvPrefix()).concat(p.o)}},{key:"filterKeyPress",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[p.E.enter];return t.includes(e.which)||t.includes(e.keyCode)||t.includes(e.charCode)}},{key:"getSFLYHostNameBasedonBrand",value:function(t){return t===p.a.SHUTTERFLY||t===p.a.INC?"":"https:".concat(e.getHostName(p.a.SHUTTERFLY))}},{key:"getQueryStringParameters",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a={},r=/\+/g,o=/([^&=]+)=?([^&]*)/g,c=function(e){return decodeURIComponent(e.replace(r," "))};for(n?n.split("?").length>0&&(t=n.split("?")[1]):(n="undefined"!==typeof window?window.location.href:"",t="undefined"!==typeof window?window.location.search.substring(1):"");e=o.exec(t||"");)a[c(e[1])]=c(e[2]);return a}}]),e}();g.keyCodesToHandle=[p.E.enter,p.E.space],g.handleKeyPress=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:g.keyCodesToHandle,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];g.filterKeyPress(e,n)&&(a&&e.preventDefault(),t())},g.trackParams=function(e){return{"data-link-id":e,"data-link-module":"global-header","data-link-module-type":"top-nav","data-link-module-position":"none"}},g.getLinkTrackingAttr=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"global-header",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"mobile-side-menu",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"none",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return{"data-link-id":e,"data-link-module":t,"data-link-module-type":n,"data-link-module-position":a,"data-link-position":r}},g.SvgIconsMap=new Map([[v.MyAccount,function(e,t){var n=e.AccountIcon||"myAccount"===t;return{Component:f.a,props:{className:"accountIcon",icon:n?m.b.AccountSelectedIcon:m.b.AccountIcon},content:u.a.createElement("span",null,v.MyAccount)}}],[v.MyProjects,function(e,t,n){var a=n.projectCount,r=e.MyProjectsIcon||"myProjects"===t;return{Component:f.a,props:{className:"accountIcon",icon:r?m.b.MyProjectsSelectedIcon:m.b.MyProjectsIcon},content:u.a.createElement("span",{className:"minWidth"},a>0?v.MyProjects+"("+a+")":v.MyProjects)}}],[v.MyPhotos,function(e,t){var n=e.PhotosIcon||"myPhotos"===t;return{Component:f.a,props:{className:"accountIcon",icon:n?m.b.PhotosSelectedIcon:m.b.PhotosIcon},content:u.a.createElement("span",{className:"my-photos-label minWidth"},u.a.createElement("span",{className:"my-photos-label-my"},"My "),"Photos")}}],[v.ShareSites,function(e,t){var n=e.GroupIcon||"shareSites"===t;return{Component:f.a,props:{className:"groupIcon",icon:n?m.b.GroupV2SelectedIcon:m.b.GroupV2Icon},content:u.a.createElement("span",{className:"minWidth"},v.ShareSites)}}],[v.Cart,function(e,t,n){var a=n.fetchedCartCount,r=e.CartCountIcon||"cart"===t;return{Component:b,props:{count:a,size:p.b,isHighlighted:r,textLength:a&&a>p.d?p.r:p.q},content:u.a.createElement("span",{className:"cartLink-label minWidth"},v.Cart)}}]]),g.getUserMenuOptions=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"SFLY";return[{key:v.MyAccount,text:v.MyAccount,url:p.w+e,hidden:!1,attr:g.getLinkTrackingAttr("my-account","global-header","mobile-side-menu","none",1)},{key:v.MyFavorites,text:v.MyFavorites,url:p.e,attr:g.getLinkTrackingAttr("my-favorites","global-header","mobile-side-menu","none",2)},{key:v.OrderHistory,text:v.OrderHistory,url:p.x,attr:g.getLinkTrackingAttr("order-history","global-header","mobile-side-menu","none",3)},{key:v.Lifetouch,text:v.Lifetouch,url:p.v,attr:g.getLinkTrackingAttr("lifetouch","global-header","mobile-side-menu","none",4)}]},g.PersonalToolBarOptions=function(e,t,n){var o,c=t.selectedBrand,i=t.fetchedCartCount;return o={},Object(a.a)(o,v.MyProjects,{liClassName:"myProjectsLink-container desktop-only toolbar-menu",isVisible:!(null===n||void 0===n?void 0:n.hideProject),spanClassName:"myProjects-link",activeClassName:"myProjects"===e?"active":"",name:v.MyProjects,iconName:"MyProjectsIcon",checkElevation:!1,checkAuth:!0,linkAttr:Object(r.a)(Object(r.a)({},g.trackParams(v.MyProjects)),{},{tracking:{format:d.a.UHF_FORMAT},className:"myProjects"===e?"active":"",to:"".concat(Object(s.l)()).concat(p.A),"aria-label":v.MyProjects})}),Object(a.a)(o,v.MyPhotos,{liClassName:"desktop-only toolbar-menu",isVisible:!(null===n||void 0===n?void 0:n.hidePhotos),spanClassName:"myPhotos-link",activeClassName:"myPhotos"===e?"active":"",name:v.MyPhotos,iconName:"PhotosIcon",checkElevation:!1,checkAuth:!0,linkAttr:Object(r.a)(Object(r.a)({title:"View, organize and edit your photos."},g.trackParams(v.MyPhotos)),{},{className:"myPhotos"===e?"active":"",to:"".concat(p.z).concat(Object(s.d)(),"?brand=").concat(c),tracking:{format:d.a.UHF_FORMAT},"aria-label":v.MyPhotos})}),Object(a.a)(o,v.Cart,{liClassName:"cartLink-container toolbar-menu",isVisible:!(null===n||void 0===n?void 0:n.hideCart),spanClassName:"cartLink",activeClassName:"cart"===e?"active":"",name:v.Cart,iconName:"CartCountIcon",checkElevation:!1,checkAuth:!0,linkAttr:Object(r.a)(Object(r.a)({},g.trackParams(v.Cart)),{},{className:"cart"===e?"active":"",to:"".concat(Object(s.l)()).concat(p.t).concat(c),tracking:{format:d.a.UHF_FORMAT},"aria-label":i?i+" items added in Cart":v.Cart})}),o},g.dropdownButtonsProps=function(e,t){return Object(r.a)(Object(r.a)({className:"button",role:"button",tabIndex:0},g.trackParams(e)),{},{onClick:t,onKeyPress:function(e){return g.handlePTKeyPress(e,t)},"aria-label":e})},g.handlePTKeyPress=function(e,t){g.filterKeyPress(e,[p.E.enter])?t(e):g.filterKeyPress(e,[p.E.space])&&e.preventDefault()}},218:function(e,t,n){"use strict";n.r(t);var a=n(15),r=n(3),o=n(8),c=n(0),i=n.n(c),l=n(12),u=n(17),s=n(1),d=n(14);n(245);var f=function(e){var t,n,a=Object(c.useRef)(null);if(t=a,n=e.closeDropdownOnOutsideClickCb,Object(c.useEffect)((function(){function e(e){t.current&&!t.current.contains(e.target)&&n&&n()}if(n)return document.addEventListener("click",e),function(){document.removeEventListener("click",e)}}),[t,n]),!e.children)return null;var r=e.showPointer?"show-pointer ".concat(e.pointerDirection||"top-left"):"";return i.a.createElement("div",{className:"dropdown-menu-comp ".concat(r||""," ").concat(e.className||""),ref:a},e.children)},m=n(16),p=n(9),v=n(24),b=n(68),g=n(57),h=n(7);n(246);var y=function(e,t){var n=(null===e||void 0===e?void 0:e.filter((function(e){return[t===h.b.INC?h.b.SHUTTERFLY:t,h.b.CUSTOM].includes(e.selectLogoBrand)})))||[],a=(null===e||void 0===e?void 0:e.filter((function(e){return!n.includes(e)})))||[];return{titleLogos:n,extraLogos:a}};var w=i.a.memo((function(e){var t=e.flyoutHeading,n=e.flyoutMenu,a=e.enableFlyout,o=e.tracking,c=e.toggleNewX,l=e.brandName,u=e.logos;return i.a.createElement("div",Object.assign({className:"header-flyout-container"},"function"===typeof a&&{onMouseEnter:function(){a(!0)},onMouseLeave:function(){a(!1)}}),i.a.createElement("div",{className:"header-flyout-content-wrapper",onKeyDown:function(e){return function(e){if(Object(d.g)(e,[d.e]))e.preventDefault();else if(Object(d.g)(e,[d.c,d.b]))a&&a(!1);else{var t="undefined"!==typeof document?document.querySelector(".header-flyout-content-wrapper"):void 0,n=t?t.querySelectorAll('[href],[tabindex]:not([tabindex="-1"])'):void 0,r=t&&n?n[n.length-1]:void 0,o=e.target===r;Object(d.g)(e,[d.f])&&o&&a&&a(!1)}}(e)}},t&&i.a.createElement("span",{className:"flyout-header"},t),i.a.createElement("div",{className:"flyout-content"},Object(v.f)(n)&&n.map((function(e,t){var n=e.flyoutContent,a=e.linkedFlyoutContent;return function(e,t,n){return t?i.a.createElement("div",{className:"content",key:"content-".concat(e)},Object(v.f)(t)&&t.map((function(t,a){return i.a.createElement(b.a,Object.assign({},t,{key:"column-content-".concat(a,"-").concat(e),tracking:Object(r.a)(Object(r.a)({},n),{},{isSubCategory:!0})}))}))):null}(t,a?a.flyoutContent:n,o)})))),c&&l&&u&&i.a.createElement("div",{className:"flyout-footer"},i.a.createElement("div",{className:"flyout footer-logos"},i.a.createElement(g.a,{brandLogos:y(u,l).extraLogos,brandType:l,toggleNewX:c}))))})),O=(n(247),{container:null,primary:null,primaryItems:null,secondary:null,secondaryItems:null,allItems:null,moreLi:null,permanentList:null}),E=0,j=!1;function k(e){var t=e.category,n=e.isMobile,a=e.attr,r=e.icon,o=e.handleCategoryItemKeyDown,c=e.toggleMoreMenu,u=e.isMoreExpanded,s=e.catFlyoutOpenFlag,f=e.tracking,p=e.classNames;return i.a.createElement("div",{className:"navbar-element-container ".concat(!u&&s?"flyout-open":"","  ").concat(p)},i.a.createElement("span",{className:"newCategoryBadge ".concat(t.newFlag?"":"new-category-badge-hide"," ").concat(p)},"New"),t.url&&a&&"link"===a.role?i.a.createElement(l.b,Object.assign({to:t.url,customLinkName:null===a||void 0===a?void 0:a.datalinkname,ariaLabel:n&&t.mobileName?t.mobileName:t.label,ariahaspopup:a.ariahaspopup,ariaexpanded:a.ariaexpanded,role:null===a||void 0===a?void 0:a.role,tabIndex:null===a||void 0===a?void 0:a.tabIndex},"function"===typeof o&&{onKeyDown:function(e){return o(e,t,t.url)}},{tracking:f}),i.a.createElement(i.a.Fragment,null,i.a.createElement("span",{className:"cat-item-text",style:t.color?{color:t.color}:{}},n&&t.mobileName?t.mobileName:t.label),r&&i.a.createElement(m.a,{icon:r}))):i.a.createElement("span",Object.assign({"aria-label":n&&t.mobileName?t.mobileName:t.label,tabIndex:null===a||void 0===a?void 0:a.tabIndex,role:null===a||void 0===a?void 0:a.role,"data-linkname":null===a||void 0===a?void 0:a.datalinkname,"aria-haspopup":null===a||void 0===a?void 0:a.ariahaspopup,"aria-expanded":null===a||void 0===a?void 0:a.ariaexpanded},"function"===typeof c&&{onKeyDown:function(e){Object(d.j)(e,[d.a,d.e],(function(){c(!u)}),!0),Object(d.j)(e,[d.b,d.c,d.d],(function(){c(!1)}),!0)}}),i.a.createElement("span",{role:null===a||void 0===a?void 0:a.role,className:"cat-item-text",style:t.color?{color:t.color}:{}},n&&t.mobileName?t.mobileName:t.label),r&&i.a.createElement(m.a,{icon:r})))}var S=Object(c.forwardRef)((function(e,t){var n=e.categories,a=e.isMobile,l=e.isMoreExpanded,u=e.setIsMoreExpanded,m=e.containerRef,v=e.tracking,b=e.classNames,g=e.logos,h=e.brandName,y=e.toggleNewX,S=Object(c.useRef)(),N=Object(c.useState)(!1),x=Object(o.a)(N,2),I=x[0],C=x[1],T=Object(c.useState)(void 0),P=Object(o.a)(T,2),_=P[0],L=P[1],A=Object(c.useCallback)((function(e){e?"function"===typeof u&&u(!0):"function"===typeof u&&u(!1)}),[u]),M=Object(c.useCallback)((function(){var e=O.allItems,t=O.moreLi,a=O.primary,r=O.primaryItems,o=O.container,c=O.secondaryItems,i=O.permanentList;if(A(!1),"undefined"!==typeof window&&window.innerWidth>=s.C){var l=s.B;if(E=l,i)for(var u=0;u<i.length;u++)E+=Number(i[u].getBoundingClientRect().width.toFixed(0));if(e)for(var d=0;d<e.length;d++)e[d].classList.remove("hidden");var f=E+5,m=-1,p=a?Number(a.getBoundingClientRect().width.toFixed(0))-6:0;if(r)for(var v=0;v<r.length;v++){var b=n[v];b&&!b.isPermanent&&(m>-1?r[v].classList.add("hidden"):p>=f+Number(r[v].getBoundingClientRect().width.toFixed(0))||v===r.length-1&&Number(r[v].getBoundingClientRect().width.toFixed(0))<=l?f+=Number(r[v].getBoundingClientRect().width.toFixed(0)):(r[v].classList.add("hidden"),m=v))}if(-1===m)t&&(t.classList.add("hidden"),t.setAttribute("aria-expanded","false")),o&&o.classList.remove("-show-secondary");else if(c)for(var g=0;g<c.length;g++){var h=n[g],y=h&&h.isPermanent;(m>g||y)&&c[g].classList.add("hidden")}}}),[n,A]),D=Object(c.useCallback)((function(){if(O.container=null===m||void 0===m?void 0:m.current,O.container){var e,t;if(O.primary=O.container.querySelector(".primary-list"),O.primaryItems=Array.from(O.container.querySelectorAll(".primary-list > li:not(.more-item)")),O.primary)null===(e=O.primary.querySelector(".more-item"))||void 0===e||null===(t=e.querySelector("ul"))||void 0===t||t.classList.add("secondary");O.secondary=O.container.querySelector(".secondary"),O.secondaryItems=O.secondary&&Array.from(O.secondary.querySelectorAll("li")),O.allItems=Array.from(O.container.querySelectorAll("li")),O.moreLi=O.primary&&O.primary.querySelector(".more-item"),O.permanentList=O.primary&&Array.from(O.primary.querySelectorAll(".permanent-nav-element")),M()}}),[m,M]);Object(c.useImperativeHandle)(t,(function(){return{handleDoAdapt:function(){M()}}})),Object(c.useEffect)((function(){D()}),[n,D]),Object(c.useEffect)((function(){return"undefined"!==typeof window&&(window.addEventListener("resize",M),window.addEventListener("orientationchange",M),"undefined"!==typeof document&&"complete"!==document.readyState?window.addEventListener("load",M):M()),function(){"undefined"!==typeof window&&(window.removeEventListener("resize",M),window.removeEventListener("orientationchange",M),window.removeEventListener("load",M))}}),[M]),Object(c.useEffect)((function(){I&&j&&(j=!1)}),[I]);var F=function(e,t){L(e),C(t)},R=function(e,t,n){Object(d.g)(e,[d.a,d.e])?I?I&&n&&(e.preventDefault(),"undefined"!==typeof window&&(window.location.href=n)):(e.preventDefault(),e.stopPropagation(),F(t.flyout,!0)):I&&Object(d.g)(e,[d.b,d.c,d.d])&&(e.stopPropagation(),F(void 0,!1))},B=function(e,t,n,a,r,o){return i.a.createElement(w,{flyoutHeading:e.flyoutHeading||t.label,flyoutMenu:e.flyoutMenu,enableFlyout:C,tracking:n,logos:a,brandName:r,toggleNewX:o})};return i.a.createElement(i.a.Fragment,null,n.map((function(e,t){var n,o,c,u;"undefined"!==typeof window&&(S.current={label:"",url:null===(u=window.SFLY_DTL)||void 0===u?void 0:u.page.pageInfo.pageName});var s=S&&((null===(n=S.current)||void 0===n?void 0:n.url)===e.url||e.url&&(null===(o=S.current)||void 0===o||null===(c=o.url)||void 0===c?void 0:c.includes("".concat(e.url,"/"))));v=Object(r.a)(Object(r.a)({},v),{},{linkIndex:t});var d=I&&_&&!j&&e.flyout===_;return e&&i.a.createElement("li",{key:e.label,className:"category-item ".concat(e.hiddenFlag?"hide":"").concat(e.isPermanent?"permanent-nav-element":""," ").concat(s?"active-nav-category":""," ").concat(a&&e.disabledOnMobile?"hide-on-mobile":""),onMouseEnter:function(t){A(!1),t.stopPropagation(),"undefined"!==typeof e.flyout&&F(e.flyout,!0)},onMouseLeave:function(e){e.stopPropagation(),F(void 0,!1)}},i.a.createElement(k,{category:e,isMobile:a,attr:{role:"link",ariahaspopup:!0,ariaexpanded:s||d,tabIndex:0},isMoreExpanded:l,catFlyoutOpenFlag:d,handleCategoryItemKeyDown:R,tracking:v,classNames:b}),!l&&_&&d&&B(_,e,v,g,h,y))})),i.a.createElement("li",{key:"more",className:"category-item more-item ".concat(l?"relative-position":""),onClick:function(e){e.stopPropagation(),C(!1),A(!l),L(void 0)},onMouseEnter:function(e){e.stopPropagation(),C(!1)},onMouseLeave:function(e){e.stopPropagation(),C(!1)}},i.a.createElement(k,{category:{label:"More"},isMobile:!1,attr:{role:"button",ariahaspopup:!0,ariaexpanded:l,tabIndex:0},icon:l?p.b.CloseSelected:p.b.AddSelected,toggleMoreMenu:A,isMoreExpanded:l,tracking:v,classNames:b}),i.a.createElement("div",{id:"moreDropDownContainer",className:"".concat(l?"":"hidden"," ").concat(b)},i.a.createElement(f,{showPointer:!0,pointerDirection:"right-side-center"},i.a.createElement("ul",{onClick:function(e){return e.stopPropagation()}},function(e,t){return e.map((function(e,n){if(e){var o,c,l;t=Object(r.a)(Object(r.a)({},t),{},{linkIndex:n});var u=S&&((null===(o=S.current)||void 0===o?void 0:o.url)===e.url||e.url&&(null===(c=S.current)||void 0===c||null===(l=c.url)||void 0===l?void 0:l.includes("".concat(e.url,"/"))));return i.a.createElement("li",{key:e.label,className:"category-item ".concat(e.hiddenFlag?"hide":""," ").concat(u?"active-nav-category":""),onMouseEnter:function(t){t.stopPropagation(),F(e.flyout,!0)},onKeyDown:function(t){return function(e,t){I||Object(d.j)(e,[d.a,d.e],(function(){A(!1),j=!0,F(t.flyout,!0)}),!0)}(t,e)}},i.a.createElement(k,{category:e,isMobile:a,attr:{role:"link",tabIndex:0},tracking:t,classNames:b}))}return!1}))}(n))))),i.a.createElement("li",{className:"category-item more-item",onMouseLeave:function(e){e.stopPropagation(),C(!1),L(void 0)}},l&&_&&B(_,{label:_.flyoutHeading},v,g,h,y)))})),N=Object(c.forwardRef)((function(e,t){var n=e.categories,a=e.tracking,r=e.classNames,l=e.toggleNewX,u=e.logos,s=e.brandName,d=Object(c.useState)(!1),f=Object(o.a)(d,2),m=f[0],p=f[1],v=Object(c.useRef)(null),b=Object(c.useRef)(null);return n?(Object(c.useImperativeHandle)(t,(function(){return{handleDoAdapt:function(){var e;null===(e=b.current)||void 0===e||e.handleDoAdapt()}}})),i.a.createElement("div",{className:"category-nav-container"},i.a.createElement("div",{className:"category-nav-wrapper"},i.a.createElement("nav",{"aria-label":"Categories",className:"category-list-container",ref:v},i.a.createElement("ul",{className:"primary-list"},i.a.createElement(S,{categories:n,isMobile:!1,isMoreExpanded:m,setIsMoreExpanded:p,containerRef:v,ref:b,tracking:a,classNames:r,logos:u,brandName:s,toggleNewX:l})))),i.a.createElement("div",{className:"category-nav-mobile-wrapper"},i.a.createElement("nav",{"aria-label":"Categories",className:"cat-list-mobile-container"},i.a.createElement("div",{className:"mobile-nav-menu-wrapper"},i.a.createElement("div",{className:"mobile-fade-menu-right"}),i.a.createElement("div",{className:"mobile-fade-menu-left"}),i.a.createElement("div",{className:"mobile-sub-bar-menu-wrap"},i.a.createElement("ul",{className:"mobile-sub-bar-menu"},i.a.createElement(S,{categories:n,isMobile:!0,ref:b,tracking:a,classNames:r})))))))):null})),x=n(21),I=n(5),C=n.n(I),T=n(10),P=n(20),_=n(6),L=n(2),A=n(33);function M(e,t,n){return D.apply(this,arguments)}function D(){return(D=Object(T.a)(C.a.mark((function e(t,n,a){var r,o,c;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"!==typeof window){e.next=2;break}return e.abrupt("return",0);case 2:return r="".concat(n).concat(_.u),o={headers:{"Content-Type":"application/json","SFLY-Apikey":"".concat(a),Authorization:"Bearer ".concat(t)}},e.prev=4,e.next=7,Object(A.a)(r,o).then((function(e){return e.json()}));case 7:return c=e.sent,e.abrupt("return",c&&c.itemsInCart);case 11:e.prev=11,e.t0=e.catch(4),Object(L.n)("Error Occured in ".concat(r," : ").concat(e.t0));case 14:return e.abrupt("return",0);case 15:case"end":return e.stop()}}),e,null,[[4,11]])})))).apply(this,arguments)}var F=n(13),R=n(22),B=n(4),U=n(26),H=function e(){Object(U.a)(this,e)};H.handleSecuredLinksClick=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];t.preventDefault();var r=t.currentTarget.href;"undefined"!==typeof window&&(a&&window.$sflyAuth?e.jwtToken?n&&Object(R.c)()?Object(R.c)().then((function(t){return H.directToSflyAuth(e,r,t)})):Object(B.r)(r):H.directToSflyAuth(e,r):Object(B.r)(r))},H.directToSflyAuth=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=P.a.getQueryStringParameters(Object(B.g)()||""),c=Object(r.a)({redirectUri:encodeURI(t),cid:o.CID||o.cid||""},H.getSingleSignOnBrandAndTheme(e,a));n?Object(R.d)(c):Object(R.e)(c)},H.getSingleSignOnBrandAndTheme=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.selectedBrand===_.a.INC?_.a.SHUTTERFLY:e.selectedBrand,a=e.ssoTheme?e.ssoTheme:e.selectedBrand;return t&&(a=_.n.INC),{brand:n,theme:a}};n(248);var Y=function(e){var t=Object(c.useState)(!1),n=Object(o.a)(t,2),a=n[0],d=n[1],v=Object(c.useState)(0),b=Object(o.a)(v,2),g=b[0],h=b[1],y=Object(c.useState)({AccountIcon:!1,GroupIcon:!1,PhotosIcon:!1,CartCountIcon:!1,MyProjectsIcon:!1}),w=Object(o.a)(y,2),O=w[0],E=w[1],j=Object(F.c)("apigeeBaseUrl"),k=Object(F.c)("apigeeApiKey"),S=e.ptFlags,N=e.toggleNewX,I=Object(c.useCallback)(Object(T.a)(C.a.mark((function t(){var n;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.jwtToken){t.next=5;break}return t.next=3,M(e.jwtToken,j,k);case 3:n=t.sent,h(n);case 5:case"end":return t.stop()}}),t)}))),[j,k,e.jwtToken]),A=Object(c.useCallback)((function(){a&&U()}),[a]);Object(c.useEffect)((function(){"undefined"!==typeof document&&document.addEventListener("click",A),"undefined"!==typeof window&&window.addEventListener("cartCountUpdate",I,!1),I()}),[e.jwtToken,I,A]);var D=function(e,t){e.preventDefault();var n=O[t];"mouseenter"!==e.type||n?"mouseleave"===e.type&&n&&E((function(e){return Object(r.a)(Object(r.a)({},e),{},Object(x.a)({},t,!1))})):E((function(e){return Object(r.a)(Object(r.a)({},e),{},Object(x.a)({},t,!0))}))},U=function(){d(!1)},Y=function(){d(!a)},K=function(){var t;return!!(null===(t=e.user)||void 0===t?void 0:t.firstName)||!!e.jwtToken},q=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:V,a=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,c=arguments.length>5?arguments[5]:void 0,i={HtmlProps:Object(r.a)(Object(r.a)({to:c?t:$(t),onClose:n},P.a.trackParams(e)),{},{"aria-label":e,tracking:{format:u.a.UHF_FORMAT}}),AdditionalProps:{label:e,liClassName:a,hideOption:o}};return Object(r.a)({},i)},G=function(){return i.a.createElement(f,{showPointer:!0,pointerDirection:"top-right"},i.a.createElement("ul",{className:"logged-in-dropdown-list",onClick:function(e){return e.nativeEvent.stopImmediatePropagation()},onKeyDown:W},function(){var t=[],n=K(),a=e.user,c=0;n?N&&t.push(i.a.createElement("li",{key:"hellotext",className:"mobile-only",style:{textOverflow:"ellipsis"}},(null===a||void 0===a?void 0:a.firstName)&&"Hi, ".concat(null===a||void 0===a?void 0:a.firstName),!(null===a||void 0===a?void 0:a.firstName)&&"Welcome")):(t.push(i.a.createElement("li",{key:"signin-button",className:"signin-button"},i.a.createElement(l.b,{to:"#",type:l.a.button,onClose:function(e){X(e)},tabIndex:0,ariaLabel:_.k,ctaButtonDesign:"TP"===e.selectedBrand?s.l.DeepTeal:s.l.DeepCarrot,tracking:{format:u.a.UHF_FORMAT,linkIndex:c++}},_.k))),t.push(i.a.createElement("li",{key:"signup-button",className:"signup-button"},i.a.createElement(l.b,{to:"#",type:l.a.button,onClose:function(e){z(e)},tabIndex:0,ariaLabel:_.m,ctaButtonDesign:s.l.WhiteOverWhite,tracking:{format:u.a.UHF_FORMAT,linkIndex:c++}},_.m))));var d="/myaccount/?brand="+e.selectedBrand,f=function(e){return V(e,!0)},m={"order-history":q("Order Status",n?_.x:_.y,n?void 0:function(){return""}),"my-projects":q("My Projects","".concat(Object(L.l)()).concat(_.A),V,"my-projects-user-menu-option",!0),"my-account":q("My Shutterfly",d,V,"my-account-user-menu-option"),"my-favorites-logged-in":q("My Favorites",_.e,(function(){})),settings:q("Account & Settings",_.B,f),"address-book":q("Address Book",_.s),shareSites:q("Share Sites","".concat(Object(L.l)()).concat(_.C,"?brand=").concat(e.selectedBrand),V,"shareSites-link desktop-only",void 0,!0),lifetouch:q("Lifetouch",_.v)},p={"order-status":q("Order Status",n?_.x:_.y,n?void 0:function(){return""}),"my-projects":q("My Projects","".concat(Object(L.l)()).concat(_.A),V,"my-projects-user-menu-option NewX mobile-only",!1,!0),"my-account":q("My Shutterfly",d,V,"my-account-user-menu-option"),"my-favorites-logged-in":q("My Favorites",_.e,(function(){})),"my-photos":q("Photos","".concat(_.z).concat(Object(L.d)(),"?brand=").concat(e.selectedBrand),V,"my-photos-user-menu-option NewX mobile-only",!n,!0),settings:q("Account & Settings",_.B,f),"address-book":q("Address Book",_.s,void 0),shareSites:q("Share Sites","".concat(Object(L.l)()).concat(_.C,"?brand=").concat(e.selectedBrand),V,"shareSites-link desktop-only",void 0,!0),lifetouch:q("Lifetouch",_.v)},v=[];if(Object.entries(N?p:m).forEach((function(e){var t=Object(o.a)(e,2),n=t[0],a=t[1],u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c;a.AdditionalProps.hideOption||v.push(i.a.createElement("li",{key:"".concat(n,"+").concat(u),className:a.AdditionalProps.liClassName},i.a.createElement(l.b,Object.assign({},a.HtmlProps,{tracking:Object(r.a)(Object(r.a)({},a.HtmlProps.tracking),{},{linkIndex:u})}),a.AdditionalProps.label))),c++})),e.extraDropdownOptions){v.push(i.a.createElement("li",{className:"divider",key:"extra-divider"}));for(var b=function(t){var a=e.extraDropdownOptions[t];v.push(i.a.createElement("li",{key:a.text},i.a.createElement(l.b,Object.assign({to:"".concat(a.url)},P.a.trackParams(a.text),a.attrs,{tracking:{linkIndex:c},onKeyDown:function(a){!e.extraDropdownOptions||t!==e.extraDropdownOptions.length-1||a.shiftKey||n||setTimeout(U,100)},"aria-label":a.text}),a.text)))},g=0;g<e.extraDropdownOptions.length;g++,c++)b(g)}return n&&(v.push(i.a.createElement("li",{className:"divider",key:"signout-divider"})),v.push(i.a.createElement("li",{key:_.l},i.a.createElement(l.b,{to:$("".concat(_.D,"?brand=").concat(e.selectedBrand)),onKeyDown:function(e){e.shiftKey||P.a.filterKeyPress(e,[_.E.space])||setTimeout(U,100)},"aria-label":_.l,tracking:{format:u.a.UHF_FORMAT,linkIndex:c}},_.l)))),[].concat(t,v)}()))},W=function(e){if(P.a.filterKeyPress(e,[_.E.space]))e.preventDefault();else if(P.a.filterKeyPress(e,[_.E.escape])){var t;if(e.preventDefault(),U(),"undefined"!==typeof document)null===(t=document.getElementById("user-menu"))||void 0===t||t.focus()}},X=function(t){var n,a;t.preventDefault();var r=e.signinForwardUrl;H.directToSflyAuth(e,r||(null===(n=window)||void 0===n||null===(a=n.location)||void 0===a?void 0:a.href),!1,!1)},z=function(){var t=Object(T.a)(C.a.mark((function t(n){var a,o,c,i,l;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),c=e.signupForwardUrl,i=P.a.getQueryStringParameters(Object(B.g)()||""),l=Object(r.a)(Object(r.a)({redirectUri:encodeURI(c||(null===(a=window)||void 0===a||null===(o=a.location)||void 0===o?void 0:o.href))},H.getSingleSignOnBrandAndTheme(e,!1)),{},{ssoAction:!0,cid:i.CID||i.cid||""}),t.next=6,Object(R.f)(l);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),V=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];H.handleSecuredLinksClick(e,t,n,a)},$=function(t){var n="".concat(P.a.getSFLYHostNameBasedonBrand(e.selectedBrand));return"".concat(n).concat(t)},J=function(t,n){var a=t.spanClassName,o=t.name,c=t.iconName,u=t.activeClassName,s=t.linkAttr,d=t.checkElevation,f=t.checkAuth;return s.onClick=function(e){return V(e,d,f)},s.onKeyPress=function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];P.a.filterKeyPress(e,[_.E.space])?e.preventDefault():P.a.filterKeyPress(e,[_.E.enter])&&(e.preventDefault(),V(e,t,n))}(e,d,f)},i.a.createElement("span",{className:"menu-item ".concat(a," ").concat(u),onMouseEnter:function(e){return D(e,c)},onMouseLeave:function(e){return D(e,c)}},i.a.createElement(l.b,Object.assign({},s,{tracking:Object(r.a)(Object(r.a)({},s.tracking),{},{linkIndex:n})}),function(t){var n=e.activeLink,a=e.projectCnt,r=P.a.SvgIconsMap.get(t);if(r){var o=r(O,n,{projectCount:a,fetchedCartCount:g}),c=o.Component,l=o.props,u=o.content;return i.a.createElement(i.a.Fragment,null,i.a.createElement(c,l),u)}return i.a.createElement(i.a.Fragment,null)}(o)))};return i.a.createElement("ul",{className:"uni-header-menu-items ".concat(N?"newX-toolbar-menu":""),"aria-label":"personal toolbar"},!(null===S||void 0===S?void 0:S.hideAccount)&&i.a.createElement("li",{className:"dropdownLink-container ".concat(N?"PTExperience-2 toolbar-menu":"desktop-only")},function(){var t=e.activeLink,n=e.user,r=K(),o=r&&"signedIn"===t||!r&&"signIn"===t?"active":"";return i.a.createElement("span",null,i.a.createElement("span",{className:"menu-item ".concat(N?"":"desktop-only"," ").concat(o),onMouseEnter:function(e){return D(e,"AccountIcon")},onMouseLeave:function(e){return D(e,"AccountIcon")}},i.a.createElement("a",Object.assign({onClick:function(e){e.nativeEvent.stopImmediatePropagation(),Y()},onKeyPress:function(e){return P.a.handleKeyPress(e,(function(){e.stopPropagation(),Y()}))},onKeyDown:function(e){(e.shiftKey||P.a.filterKeyPress(e,[_.E.escape]))&&U()},tabIndex:0,"aria-label":"User Menu",role:"button","aria-haspopup":"true","aria-expanded":a},P.a.trackParams("Sign in menu"),{id:"user-menu"},N&&{className:"PTExperience-2 buttonAppearanceNormal"}),O.AccountIcon||o?i.a.createElement(m.a,{className:"accountIcon ".concat(N?"PTExperience-2":""),icon:p.b.AccountSelectedIcon}):i.a.createElement(m.a,{className:"accountIcon ".concat(N?"PTExperience-2":""),icon:p.b.AccountIcon}),r&&i.a.createElement(i.a.Fragment,null,i.a.createElement("span",{className:"accountIcon-label account-container"},i.a.createElement("span",{className:"hello-text"},(null===n||void 0===n?void 0:n.firstName)&&"Hi, ".concat(null===n||void 0===n?void 0:n.firstName),!(null===n||void 0===n?void 0:n.firstName)&&"Welcome"),i.a.createElement(m.a,{className:"dropdown-icon",icon:p.b.DropDownIcon}))),!r&&i.a.createElement("span",{className:"signIn-label"},"Sign in"))),a&&G())}()),function(){var t=e.activeLink,n=e.selectedBrand,a=P.a.PersonalToolBarOptions(t,{selectedBrand:n,fetchedCartCount:g},S),r=[];return Object.entries(a).forEach((function(e,t){var n=Object(o.a)(e,2),a=n[0],c=n[1],l=c.liClassName;c.isVisible&&r.push(i.a.createElement("li",{key:"".concat(a,"+").concat(t),className:l},J(c,t)))})),r}(),e.children&&i.a.createElement("li",{className:"hamburger-mobileonly toolbar-menu"},i.a.createElement(i.a.Fragment,null,e.children)))},K=n(29),q=(n(249),function(e){var t,n="Sign In";e.isUserLoggedIn&&(n="Hi, ".concat((null===(t=e.user)||void 0===t?void 0:t.firstName)||"Guest"));return i.a.createElement("span",{className:"menu-item myAccount-link",onMouseEnter:function(t){e.handleIconMouseEvents(t,"AccountIcon")},onMouseLeave:function(t){e.handleIconMouseEvents(t,"AccountIcon")}},i.a.createElement("a",Object.assign({onClick:e.toggleDropdown,tabIndex:0,role:"menuitem","aria-label":n,"aria-haspopup":"true","data-test-id":"toggle-dropdown",onKeyDown:function(t){(P.a.filterKeyPress(t,[_.E.enter,_.E.space])||e.dropdownExpanded&&t.shiftKey&&!P.a.filterKeyPress(t,[_.E.tab]))&&(t.nativeEvent.stopImmediatePropagation(),e.toggleDropdown())}},P.a.getLinkTrackingAttr("sign-in-user","global-header","mobile-side-menu","none",0)),i.a.createElement(m.a,{className:"accountIcon-svg",icon:e.iconsMouseOverState.AccountIcon||e.dropdownExpanded?p.b.AccountSelectedIcon:p.b.AccountIcon}),i.a.createElement("span",{className:"hbm-toolbar-menu-label"},n),i.a.createElement(m.a,{className:"accountIcon-svg ".concat(e.dropdownExpanded?"expanded":"collapsed"),icon:p.b.DropDownIcon})),e.dropdownExpanded?e.loggedInDropdown():"")}),G=function(e){var t=e.selectedBrand;return i.a.createElement("span",{className:"menu-item myPhotos",onMouseEnter:function(t){e.handleIconMouseEvents(t,"PhotosIcon")},onMouseLeave:function(t){e.handleIconMouseEvents(t,"PhotosIcon")}},i.a.createElement(l.b,Object.assign({title:"View, organize and edit your photos.",className:"myphotoLink",to:"".concat(_.z).concat(Object(L.d)(),"?brand=").concat(t),onClose:e.handleSecuredLinksClick},P.a.getLinkTrackingAttr("photos","global-header","mobile-side-menu","none",1),{tabIndex:0,tracking:{format:u.a.UHF_FORMAT,linkIndex:1}}),i.a.createElement(i.a.Fragment,null,i.a.createElement(m.a,{className:"accountIcon-svg",icon:e.iconsMouseOverState.PhotosIcon?p.b.PhotosSelectedIcon:p.b.PhotosIcon}),i.a.createElement("span",{className:"hbm-toolbar-menu-label"},_.f))))},W=function(e){return i.a.createElement("span",{className:"menu-item myProjects",onMouseEnter:function(t){e.handleIconMouseEvents(t,"MyProjectsIcon")},onMouseLeave:function(t){e.handleIconMouseEvents(t,"MyProjectsIcon")}},i.a.createElement(l.b,Object.assign({title:"View, organize and edit your projects.",className:"myProjectsLink",to:"".concat(Object(L.l)()).concat(_.A),onClose:e.handleSecuredLinksClick},P.a.getLinkTrackingAttr("mWeb | My Projects","global-header","mobile-side-menu","none",2),{tracking:{format:u.a.UHF_FORMAT,linkIndex:2},tabIndex:0}),i.a.createElement(i.a.Fragment,null,i.a.createElement(m.a,{className:"projectIcon-svg",icon:e.iconsMouseOverState.MyProjectsIcon?p.b.MyProjectsSelectedIcon:p.b.MyProjectsIcon}),i.a.createElement("span",{className:"hbm-toolbar-menu-label"},_.h))))},X=function(e){var t,n=Object(c.useState)(!1),a=Object(o.a)(n,2),d=a[0],m=a[1],p=Object(c.useState)({AccountIcon:!1,GroupIcon:!1,PhotosIcon:!1,CartCountIcon:!1,MyProjectsIcon:!1}),v=Object(o.a)(p,2),b=v[0],g=v[1],h=!!(null===(t=e.user)||void 0===t?void 0:t.firstName)||!!e.jwtToken,y=e.ptFlags,w=function(){e.callback&&e.callback({isDropDownExpanded:!d}),m((function(e){return!e}))},O=function(){e.callback&&e.callback({isDropDownExpanded:!d}),m(!1)},E=function(e,t){e.preventDefault();var n=b[t];"mouseenter"!==e.type||n?"mouseleave"===e.type&&n&&g((function(e){return Object(r.a)(Object(r.a)({},e),{},Object(x.a)({},t,!1))})):g((function(e){return Object(r.a)(Object(r.a)({},e),{},Object(x.a)({},t,!0))}))},j=function(){var t=Object(T.a)(C.a.mark((function t(n){var a,o,c,i,l;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),c=e.signupForwardUrl,i=P.a.getQueryStringParameters(Object(B.g)()||""),l=Object(r.a)(Object(r.a)({redirectUri:encodeURI(c||(null===(a=window)||void 0===a||null===(o=a.location)||void 0===o?void 0:o.href))},H.getSingleSignOnBrandAndTheme(e,!1)),{},{ssoAction:!0,cid:i.CID||i.cid||""}),t.next=6,Object(R.f)(l);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),k=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];H.handleSecuredLinksClick(e,t,n,a)},S=function(t){var n="".concat(P.a.getSFLYHostNameBasedonBrand(e.selectedBrand));return"".concat(n).concat(t)},N=function(){var t=[],n=0;h||t.push(i.a.createElement("div",{className:"sign-in-up-buttons",key:"sign-in-up-buttons"},i.a.createElement("li",{key:"signin-button"},i.a.createElement(l.b,{to:"#",type:l.a.button,onClose:function(t){!function(t){var n,a;t.preventDefault();var r=e.signinForwardUrl;H.directToSflyAuth(e,r||(null===(n=window)||void 0===n||null===(a=n.location)||void 0===a?void 0:a.href),!1,!1)}(t)},tabIndex:0,ariaLabel:_.k,ctaButtonDesign:e.selectedBrand===_.a.TINYPRINTS?s.l.DeepTeal:s.l.DeepCarrot,className:"primary-button button-initial-appearance",tracking:{format:u.a.UHF_FORMAT,linkIndex:n++}},_.k)),i.a.createElement("li",{key:"signup-button"},i.a.createElement(l.b,{to:"#",type:l.a.button,onClose:function(e){j(e)},tabIndex:0,ariaLabel:_.m,ctaButtonDesign:s.l.WhiteOverWhite,className:"secondary-button button-initial-appearance",tracking:{format:u.a.UHF_FORMAT,linkIndex:n++}},_.m))));var a=P.a.getUserMenuOptions(),r=a.filter((function(e){return!e.hidden})).map((function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n,o=t.text;return"my-projects"===t.key&&e.projectCnt>0&&(o=t.text+"("+e.projectCnt+")"),i.a.createElement("li",{key:t.key},i.a.createElement(l.b,Object.assign({to:"".concat(P.a.getHostName(_.a.SHUTTERFLY)).concat(t.url),onClose:function(e){k(e),w()}},t.attr,{onKeyDown:function(e){h||r!==a.length-1||e.shiftKey||!P.a.filterKeyPress(e,[_.E.tab])||(e.nativeEvent.stopImmediatePropagation(),w())},tracking:{format:u.a.UHF_FORMAT,linkIndex:n++}}),o))}));if(e.extraDropdownOptions&&e.extraDropdownOptions.length>0){r.push(i.a.createElement("li",{className:"divider",key:"extra-divider"}));for(var o=0;o<e.extraDropdownOptions.length;o++,n++){var c=e.extraDropdownOptions[o],d=o+a.length;r.push(i.a.createElement("li",{key:o},i.a.createElement(l.b,Object.assign({to:c.url,onClose:w},c.attrs,P.a.getLinkTrackingAttr(c.text,"global-header","mobile-side-menu","none",d),{tracking:{format:u.a.UHF_FORMAT,linkIndex:n}}),c.text)))}}if(h){var f=a.length;e.extraDropdownOptions&&e.extraDropdownOptions.length&&(f+=e.extraDropdownOptions.length),r.push(i.a.createElement("li",{className:"divider",key:"signout-divider"})),r.push(i.a.createElement("li",{key:"sign-out"},i.a.createElement(l.b,Object.assign({to:S("".concat(_.D,"?brand=").concat(e.selectedBrand,"&logout=true"))},P.a.getLinkTrackingAttr("sign-out","global-header","mobile-side-menu","none",f),{onKeyDown:function(e){!e.shiftKey&&P.a.filterKeyPress(e,[_.E.tab])&&(e.nativeEvent.stopImmediatePropagation(),w())},tracking:{format:u.a.UHF_FORMAT,linkIndex:n}}),_.l)))}return[].concat(t,Object(K.a)(r))},I={dropdownExpanded:d,handleIconMouseEvents:E,handleSecuredLinksClick:k,iconsMouseOverState:b,selectedBrand:e.selectedBrand,toggleDropdown:w};return i.a.createElement("div",{className:"hbm-toolbar-menu"},!(null===y||void 0===y?void 0:y.hideAccount)&&i.a.createElement(q,{toggleDropdown:w,dropdownExpanded:d,handleIconMouseEvents:E,iconsMouseOverState:b,isUserLoggedIn:h,loggedInDropdown:function(){return i.a.createElement(f,{closeDropdownOnOutsideClickCb:O},i.a.createElement("ul",{className:"logged-in-dropdown-list"},N()))},user:e.user}),!(null===y||void 0===y?void 0:y.hidePhotos)&&i.a.createElement(G,I),!(null===y||void 0===y?void 0:y.hideProject)&&i.a.createElement(W,I))};n(250);var z=function(e){var t=Object(c.useState)(!1),n=Object(o.a)(t,2),a=n[0],r=n[1],s=Object(c.useState)([_.j]),f=Object(o.a)(s,2),v=f[0],y=f[1],w=Object(c.useState)(),O=Object(o.a)(w,2),E=O[0],j=O[1],k=Object(B.e)("hamburger-icon"),S=e.additionalLogos,N=Object(c.useRef)(null),x=e.setToggleHamburger,I=function(e,t,n){if(e.stopPropagation(),a)e.preventDefault();else if(n){var r=[];E&&r.push.apply(r,Object(K.a)(E)),t.mobileSubCategories&&r.push(t.mobileSubCategories),y((function(e){return[].concat(Object(K.a)(e),[t.mobileName||t.label])})),j(r)}},C=function(){if(E){var e=Object(K.a)(E);e.pop(),j(e)}if(v){var t=Object(K.a)(v);t.pop(),y(t)}};Object(c.useEffect)((function(){return function(){a&&r(!1)}}),[a]);var T=Object(c.useCallback)((function(){null===k||void 0===k||k.focus(),x(!1)}),[k,x]),L=Object(c.useCallback)((function(e){Object(d.j)(e,[d.b,d.c],T,!0),Object(d.i)(e,N,!0,(function(){null===k||void 0===k||k.focus()}))}),[k,T]),A=function(t,n,a,r,o){var c=n.url||n.href;return i.a.createElement("li",{tabIndex:!t&&c?-1:0,key:a+r,className:"hbm-category-item ".concat(e.selectedBrand===h.b.TINYPRINTS?"tinyprint":""),onKeyDown:function(e){P.a.handlePTKeyPress(e,(function(){I(e,n,t)}))},onClick:function(e){I(e,n,t)}},!t&&c?i.a.createElement(l.b,{to:c,style:{color:n.color},tracking:{format:u.a.UHF_FORMAT,isSubCategory:!0,linkIndex:r}},Object(b.c)(a,o)):i.a.createElement("div",{style:{color:n.color}},a),t&&i.a.createElement(m.a,{icon:p.b.ArrowIcon,className:"hbm-icon-span"}))};function M(e,t){var n=(null===e||void 0===e?void 0:e.length)||0,a=v.length;if(e&&a)for(var r=0;r<n;r++){var o=e[r].mobileName||e[r].label;if(t===a-1&&o===v[t])return e[r].href;if(o===v[t]){var c=M(e[r].mobileSubCategories,t+1);if(c)return c}}}var D=function(e,t){var n=(null===e||void 0===e?void 0:e.filter((function(e){return[t===h.b.INC?h.b.SHUTTERFLY:t,h.b.CUSTOM].includes(e.selectLogoBrand)})))||[],a=(null===e||void 0===e?void 0:e.filter((function(e){return!n.includes(e)})))||[];return{titleLogos:n,extraLogos:a}}(e.logos,e.selectedBrand)||{},F=D.titleLogos,R=D.extraLogos;return i.a.createElement("div",{className:"hamburger-menus",onKeyDown:L,ref:N},e.toggleNewX&&i.a.createElement("div",{className:"newX-hamburger-title"},i.a.createElement(g.a,{brandLogos:F,brandType:e.selectedBrand,toggleNewX:e.toggleNewX}),i.a.createElement("div",{onClick:function(){return x(!1)}},i.a.createElement(m.a,{className:"close-icon",icon:p.b.CloseIcon}))),!e.toggleNewX&&i.a.createElement(X,Object.assign({},e,{callback:function(e){var t=e.isDropDownExpanded;return r(t)}})),i.a.createElement("div",null,S&&i.a.createElement("div",{className:"additional-logos"},S),function(){var t=E&&E.length>0,n=t?!E||E.length<1?i.a.createElement("div",null):E[E.length-1].map((function(e,t){var n=e.mobileSubCategories&&e.mobileSubCategories.length>0;return A(n,e,e.label,t,e.textBadges)})):e.categories?e.categories.filter((function(e){return!e.disabledOnMobile&&!e.hiddenFlag})).map((function(e,t){var n=e.mobileSubCategories&&e.mobileSubCategories.length>0,a=e.mobileName||e.label;return A(n,e,a,t,e.textBadges)})):i.a.createElement("div",null),r="hbm-categories ".concat(a?"grayout":""," ").concat(t?"hbm-not-home":""),o=v&&v.length>0?v[v.length-1]:"",c=v&&v.length>1?v[v.length-2]:_.j;return i.a.createElement("div",{className:"hamburger-menu-wrapper-container ".concat(a?"grayout":"")},t&&i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"hbm-back ".concat(e.selectedBrand===h.b.TINYPRINTS?"tinyprint":""),tabIndex:0,role:"menuitem","aria-label":"".concat(_.i," ").concat(c),onKeyDown:function(e){return P.a.handlePTKeyPress(e,(function(){C()}))},onClick:C},i.a.createElement(m.a,{icon:p.b.ArrowIcon,className:"hbm-back-arrow"}),"".concat(_.i," ").concat(c)),i.a.createElement("div",{className:"hbm-menu-title hbm-not-home ".concat(e.selectedBrand===h.b.TINYPRINTS?"tinyPrintsSelectedMenu":"")},o)),i.a.createElement("ul",{className:r},function(t){var n=e.categories,a=null===n||void 0===n?void 0:n.length;if(n&&a&&a>0)for(var r=0;r<a;r++){var o=n[r].mobileName;if(t===o){var c=n[r].url||"";return i.a.createElement("li",{tabIndex:-1,key:"see-all-link",className:"hbm-category-item ".concat(e.selectedBrand===h.b.TINYPRINTS?"tinyprint":"")},i.a.createElement(l.b,{to:c,tracking:{format:u.a.UHF_FORMAT,isSubCategory:!0,linkIndex:-1}},"See All "+o))}if(v.length>2){var s=v[v.length-1],d=M(e.categories,1);if(d)return i.a.createElement("li",{tabIndex:-1,key:"see-all-link",className:"hbm-category-item ".concat(e.selectedBrand===h.b.TINYPRINTS?"tinyprint":"")},i.a.createElement(l.b,{to:d,tracking:{format:u.a.UHF_FORMAT,isSubCategory:!0,linkIndex:-1}},"See All "+s))}}return i.a.createElement(i.a.Fragment,null)}(o),n))}()),e.toggleNewX&&i.a.createElement("div",{className:"footer-logos"},i.a.createElement(g.a,{brandLogos:R,brandType:e.selectedBrand,toggleNewX:e.toggleNewX})))};n(251),n(252);function V(e){var t=e.thumbnailLink,n=e.text,a=e.link;return i.a.createElement(l.b,{className:"recommended-link",to:a,external:!1},i.a.createElement("div",{className:"recommanded-wrapper"},i.a.createElement("img",{src:t,alt:"Product thumbnail"}),i.a.createElement("p",null,n)))}n(253);var $=Object(c.forwardRef)((function(e,t){var n=e.placeholder,a=e.svgIcon,r=e.initValue,o=e.onInputChange,c=e.dataLinkName,l=e.iconClicked,u=e.handleIconKeyDown,s=e.handleInputKeyDown,d=e.onInputClick,f=e.onFocusLost,p=e.role,v=e.ariaLabelText,b=e.ariaLabelIcon;return i.a.createElement("div",{className:"text_box_wrapper"},i.a.createElement("input",Object.assign({placeholder:n,value:r,role:p},v&&{"aria-label":v},{onChange:function(e){return o(e)},className:a?"text_box text_box_icon":"text_box text_box_simple"},c&&{"data-linkname":c},d&&{onClick:d},{onKeyDown:function(e){return s&&s(e)}},d&&{onFocus:d},f&&{onBlur:f},{ref:t})),a&&l?i.a.createElement("div",Object.assign({className:"svg_icon_wrapper buttonAppearanceNormal",onClick:l,onKeyDown:function(e){return u&&u(e)},tabIndex:0},b&&{"aria-label":b},{role:"button"}),i.a.createElement(m.a,{className:"svg_icon",icon:a})):a?i.a.createElement("div",{className:"svg_icon_wrapper"},i.a.createElement(m.a,{className:"svg_icon",icon:a})):i.a.createElement(i.a.Fragment,null))})),J=n(27),Q=n(100),Z="tinyprints",ee="shutterfly";function te(e){if("undefined"===typeof window)return null;var t=document.cookie.match(new RegExp("(^| )".concat(e,"=([^;]+)")));return t?t[2]:null}function ne(e,t){if("undefined"===typeof window)return"";var n=e.split(" ").join("+"),a=window.location.host,r=Object(L.l)(t);return!a||-1===a.indexOf(Z)&&-1===a.indexOf("tp")?"".concat(r,"/sitesearch/").concat(n):"".concat(r,"/tp/sitesearch/").concat(n)}function ae(e,t,n,a){if(""!==t||""!==n){var r={tealium_event:"bloom_auto_suggest",ptype:"suggest",view_id:"DESKTOP",product_name:t,product_title:n};"commonSearchInteraction"===e&&"undefined"!==typeof window._satellite?(window._satellite.track("commonSearchInteraction",{commonSearch:n,userSearchInput:t}),Object(J.c)(ne(n,a))):Object(J.c)(ne(t,a)),Object(Q.b)(r)}}function re(e,t){var n="undefined"!==typeof window?window.location.href:"",a="undefined"!==typeof document?document.referrer:"";a&&(a=encodeURIComponent(a)),n&&(n=encodeURIComponent(n));var r=te("_br_uid_2");return fetch("".concat(t,"&q=").concat(e,"&_br_uid_2=").concat(r,"&ref_url=").concat(a,"&url=").concat(n)).then((function(e){return Promise.resolve(e.json())})).catch((function(){throw new Error(e)}))}function oe(){var e,t,n,a,r=Object(L.f)();r=r&&"production"!==r?"_".concat(r):"";var o=te("visitor".concat(r));return(o||(void 0!==typeof window?null===(e=window)||void 0===e||null===(t=e.SFLY_DTL)||void 0===t||null===(n=t.session)||void 0===n||null===(a=n.visitorDetails)||void 0===a?void 0:a.visitorId:"")).replace(/['"]+/g,"")}n(254);function ce(e){var t=e.categoryName,n=e.categoryLink,a=e.productLink,o=e.productThumbnail,c=e.productName,u=e.productCode,s=e.sku,d=e.categoryCode,f=e.tracking,m=e.onRecentlyViewClicked,p=u&&d&&s?"?productCode=".concat(u,"&categoryCode=").concat(d,"&skuCode=").concat(s):"";return i.a.createElement("div",{className:"recently-viewed-wrapper"},i.a.createElement("div",{className:"section-1"},i.a.createElement(l.b,{to:"".concat(n),external:!1,tracking:f},i.a.createElement(i.a.Fragment,null,i.a.createElement("span",{className:"item-label"},t.toUpperCase()),i.a.createElement("span",{onClick:function(e){return m(e,t)},className:"item-view-all"},"VIEW ALL",">")))),i.a.createElement("div",{onClick:function(e){return m(e,c)},className:"section-2"},i.a.createElement(l.b,{to:"".concat(a).concat(p),tracking:Object(r.a)(Object(r.a)({},f),{},{linkText:c})},i.a.createElement(i.a.Fragment,null,i.a.createElement("img",{className:"product-image",src:o,alt:"product-thumbnail"}),i.a.createElement("div",{className:"product-title"},c)))))}var ie=n(163);function le(e){var t=Object(L.e)(e)||"SFLY";return["SFLY","TP"].includes(t)?t:"SFLY"}function ue(e,t,n){return i.a.createElement("li",{onClick:function(e){return function(e,t,n){"undefined"!==typeof window._satellite&&window._satellite.track("recommmendSearch",{event:{eventDetails:{searchTerm:t,userSearchInput:n}}})}(0,t.displayName,n)},key:"recommended_".concat(e)},i.a.createElement(V,{thumbnailLink:t.thumb_image,text:t.displayName,link:t.url}))}function se(e,t,n,a){return i.a.createElement("li",{onClick:function(){ae("commonSearchInteraction",a,t.dq,n)},key:"suggestion_".concat(e)},t.q)}function de(){return(de=Object(T.a)(C.a.mark((function e(t,n,a){var r,o,c,i,l;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re(t,n);case 2:return r=e.sent,o=[],c=[],r.response&&(r.response.suggestions&&Array.isArray(r.response.suggestions)&&(i=r.response.suggestions.length>10?r.response.suggestions.slice(0,10):r.response.suggestions,o=i.map((function(e,n){return se(n,e,a,t)}))),r.response.products&&Array.isArray(r.response.products)&&(l=r.response.products.length>5?r.response.products.slice(0,5):r.response.products,c=l.map((function(e,n){return ue(n,e,t)})))),e.abrupt("return",{common:o,recommended:c});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fe(e){var t=e.tracking,n=e.brandType,a=function(e){var t=Object(L.k)(e)||ee;return[ee,Z].includes(t)?t:ee}(n),r=Object(F.c)(a)||"",l=Object(c.useState)(""),u=Object(o.a)(l,2),m=u[0],v=u[1],b=Object(c.useState)("Search"),g=Object(o.a)(b,2),h=g[0],y=g[1],w=Object(c.useState)(!1),O=Object(o.a)(w,2),E=O[0],j=O[1],k=Object(c.useState)([]),S=Object(o.a)(k,2),N=S[0],x=S[1],I=Object(c.useState)([]),C=Object(o.a)(I,2),T=C[0],P=C[1],_=Object(c.useRef)(null),A=Object(c.useState)(!1),M=Object(o.a)(A,2),D=M[0],B=M[1],U=Object(c.useState)([]),H=Object(o.a)(U,2),Y=H[0],K=H[1],q=Object(F.c)("apigeeBaseUrl"),G=Object(F.c)("cloud_api_key"),W=i.a.createRef(),X=Object(c.useState)(!1),z=Object(o.a)(X,2),V=z[0],J=z[1],Q=Object(c.useState)(!1),te=Object(o.a)(Q,2),ne=te[0],re=te[1],ue=Object(c.useState)(""),se=Object(o.a)(ue,2),fe=se[0],me=se[1],pe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=Object(c.useState)(e),a=Object(o.a)(n,2),r=a[0],i=a[1];return Object(c.useEffect)((function(){var n=setTimeout((function(){i(e)}),t);return function(){clearTimeout(n)}}),[e,t]),r}(fe,500);Object(c.useEffect)((function(){""!==pe&&function(e,t,n){return de.apply(this,arguments)}(pe,r,n).then((function(e){return function(e,t){P(e),x(t)}(e.common,e.recommended)}))}),[pe,r,n]);var ve=Object(c.useCallback)((function(){E||j(!0)}),[E]),be=Object(c.useCallback)((function(){E&&j(!1)}),[E]);var ge=Object(c.useCallback)((function(){Object(R.b)().then((function(e){var t=null===e||void 0===e?void 0:e.token,a=null===e||void 0===e?void 0:e.id,r=le(n),o="".concat(q,"/usersvc/api/v1/brand/").concat(r),c={headers:{"SFLY-apikey":G},method:"DELETE"};if(t&&a)o="".concat(o,"/user/").concat(a,"/recently-viewed"),Object.assign(c.headers,{Authorization:"Bearer ".concat(t)});else{var i=oe();o="".concat(o,"/visitor/").concat(i,"/recently-viewed")}fetch(o,c).then((function(e){204===e.status&&K([])}))}))}),[q,G,n]);function he(){m?ae("SearchByEnter",m,m,n):y("Enter a search term")}function ye(e,t){"undefined"!==typeof window._satellite&&window._satellite.track("recentlyViewedInteraction",{event:{eventDetails:{productType:t,userSearchInput:m}}})}return Object(c.useEffect)((function(){Y&&Y.length>0&&ve()}),[Y]),Object(c.useEffect)((function(){""===m&&(0!==Y.length&&void 0!==Y.length||be())}),[Y,m,be]),Object(c.useEffect)((function(){B(!1)}),[N,T]),i.a.createElement("div",{className:"search-bar",role:"region","aria-label":"Search Bar",ref:_,onFocus:function(){return J(!0)},onBlur:function(){J(!1),y("Search")}},i.a.createElement($,{iconClicked:he,initValue:m,dataLinkName:"search box selected",onInputChange:function(e){var t,n=(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value)||"";if(y("Enter a search term"),""===n.trimStart()&&(v(""),me("")),"undefined"===typeof n)return v(n),x([]),P([]),void be();n||(B(!0),Oe()),n.match(/[%?&]/gi)||""===n.trimStart()||(B(!0),ve(),v(n),me(n))},handleIconKeyDown:function(e){if(Object(d.g)(e,[d.a]))y("Enter a search term"),Object(d.j)(e,[d.a],he);else if(Object(d.g)(e,[d.c,d.b])){var t;be(),null===(t=W.current)||void 0===t||t.focus()}},handleInputKeyDown:function(e){Object(d.g)(e,[d.a])?(y("Enter a search term"),Object(d.j)(e,[d.a],he)):Object(d.g)(e,[d.e])?y("Enter a search term"):Object(d.g)(e,[d.c,d.b])&&be()},onInputClick:Oe,svgIcon:p.b.SearchIcon,placeholder:h,role:"searchbox",ariaLabelText:"Enter searching text here",ariaLabelIcon:"Go to search result",ref:W}),E&&i.a.createElement(f,{closeDropdownOnOutsideClickCb:function(){V||be()}},D?m.length>0?Ee(s.w):Y&&Y.length>0?we(t):Ee(s.w):T.length>0?i.a.createElement("ul",{className:"autocomplete-container search-result",id:"search_results",role:"listbox"},i.a.createElement("li",{className:"header suggetions-header",id:"header_suggetions"},i.a.createElement("label",null,"Common Searches")),T,!Object(ie.b)()&&i.a.createElement(i.a.Fragment,null,i.a.createElement("li",{className:"header recommended-header",id:"header_recommanded"},i.a.createElement("label",null,"Recommended")),i.a.createElement("div",null,N))):m.length>0?Ee("Result not found"):Y&&Y.length>0?we(t):Ee(s.w)));function we(e){var t=Y.map((function(t,n){return i.a.createElement("li",{key:n},i.a.createElement(ce,{categoryName:t.category&&t.category.name,categoryLink:t.category&&t.category.destinationUri,productName:t&&t.name,productLink:t.productInfoPageUri,productThumbnail:t.imageUrls&&t.imageUrls.thumbnailUrl,productCode:t&&t.productCode,sku:t&&t.sku,subCategory:t&&t.parentCategory&&t.parentCategory.name,brand:t&&t.brand,categoryCode:t&&t.category&&t.category.categoryCode,tracking:e,onRecentlyViewClicked:ye}))}));return i.a.createElement("ul",{className:"autocomplete-container recent-list",id:"recent",role:"listbox"},i.a.createElement("li",{className:"header recent-header",id:"header_suggetions"},i.a.createElement("label",null,"Recently Viewed"),i.a.createElement("label",{onClick:ge},"Clear All")),t)}function Oe(){y("Search"),ne||(Object(R.b)().then((function(e){var t=null===e||void 0===e?void 0:e.token,a=null===e||void 0===e?void 0:e.id,r=le(n),o="".concat(q,"/usersvc/api/v1/brand/").concat(r),c={headers:{"SFLY-apikey":G},method:"GET"};if(t&&a)o="".concat(o,"/user/").concat(a,"/recently-viewed"),Object.assign(c.headers,{Authorization:"Bearer ".concat(t)});else{var i=oe();o="".concat(o,"/visitor/").concat(i,"/recently-viewed")}fetch(o,c).then((function(e){return e.json()})).then((function(e){return K(e)}))})),re(!0)),Y&&Y.length>0&&ve()}function Ee(e){return i.a.createElement("ul",{className:"autocomplete-container",id:"search_results",role:"listbox"},i.a.createElement("li",null,e))}}var me=n(11),pe=(n(255),[{text:"Skip to main content",targetSelector:"#main-content"},{text:"Skip to search",targetSelector:{desktop:".SearchComponent .search-bar .text_box_wrapper input",tablet:".SearchComponentMobile .SearchComponentWrapper .SearchButton",mobile:".SearchComponentMobile .SearchComponentWrapper .SearchButton"}},{text:"Skip to footer",targetSelector:".uhf-footer-wrapper"}]),ve=me.c.DESKTOP;function be(e){var t="";e&&"object"===typeof e?t="undefined"!==typeof e[ve]?e[ve]:"":e&&"string"===typeof e&&(t=e);var n="undefined"!==typeof document&&t?document.querySelector(t):null;return n&&null!==n.offsetParent?n:null}function ge(e){var t=be(e);if(t&&(t.getAttribute("tabindex")||(t.setAttribute("tabindex","-1"),t.addEventListener("blur",(function(){t.removeAttribute("tabindex")}))),t.focus(),"undefined"!==typeof window&&"undefined"!==typeof document)){var n=Object(B.n)(me.b.DESKTOP_MIN_WIDTH_QUERY),a=document.querySelector((null===n||void 0===n?void 0:n.matches)?".PromoBanner.Desktop.EyebrowPromoLayout":".PromoBanner.Mobile.EyebrowPromoLayout"),r=a?a.offsetHeight:60;"scrollBehavior"in document.documentElement.style?window.scrollTo({top:t.offsetTop-(r+5),behavior:"smooth"}):window.scrollTo(0,t.offsetTop-(r+5))}}function he(e,t){var n=["skip-links-wrapper"];return e&&n.push("active"),n.push(t||s.O),n.join(" ")}function ye(e){var t=e.brandType,n=void 0===t?s.O:t,a=Object(c.useState)(!1),r=Object(o.a)(a,2),l=r[0],u=r[1],f=Object(c.useState)(pe),m=Object(o.a)(f,2),p=m[0],b=m[1],g=Object(c.useRef)(null),h=Object(c.useCallback)((function(){!function(){var e=Object(B.n)(me.b.TABLET_MAX_WIDH_QUERY),t=Object(B.n)(me.b.MOBILE_MAX_WIDTH_QUERY),n=me.c.DESKTOP;(null===t||void 0===t?void 0:t.matches)?n=me.c.MOBILE:(null===e||void 0===e?void 0:e.matches)&&(n=me.c.TABLET),ve=n}(),function(){for(var e=[],t=0;t<pe.length;t++){var n=pe[t];be(n.targetSelector)&&e.push(n)}b(e)}()}),[]),y=function(){l||u(!0)},w=function(e){var t=e.relatedTarget&&e.relatedTarget.classList.contains("skip-link");l&&!t&&u(!1)};return Object(c.useEffect)((function(){h(),"undefined"!==typeof window&&(window.addEventListener("resize",Object(v.b)(h,s.L)),"undefined"!==typeof document&&"complete"!==document.readyState&&window.addEventListener("load",(function(){setTimeout(h,0)})))}),[h]),p.length<1?null:i.a.createElement("nav",{ref:g,"aria-label":"Skip links",className:he(l,n)},i.a.createElement("ul",{className:"skip-links-list"},p.map((function(e){return i.a.createElement("li",{className:"skip-link-wrapper",key:e.text},i.a.createElement("span",{className:"skip-link",tabIndex:0,onFocus:y,onBlur:w,role:"link",onClick:function(t){t.preventDefault(),ge(e.targetSelector)},onKeyPress:function(t){Object(d.j)(t,[d.a],(function(){ge(e.targetSelector)}),!0)}},e.text))}))))}var we=n(142);function Oe(){return(Oe=Object(T.a)(C.a.mark((function e(t,n,a){var r,o,c,i,l;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.id,o=t.token,c="".concat(n,"/projects/v1/users/").concat(r,"/projects/counts?activityState=A"),i={headers:{"Content-Type":"application/json","SFLY-Apikey":"".concat(a),Authorization:"Bearer ".concat(o)}},e.prev=3,e.next=6,Object(A.a)(c,i);case 6:return e.next=8,e.sent.json();case 8:return l=e.sent,e.abrupt("return",l.map((function(e){return e.count})).reduce((function(e,t){return e+t})));case 12:return e.prev=12,e.t0=e.catch(3),e.abrupt("return",0);case 15:case"end":return e.stop()}}),e,null,[[3,12]])})))).apply(this,arguments)}var Ee=function(e,t){var n,r=Object(a.a)(e);try{for(r.s();!(n=r.n()).done;){var o,c,i=n.value;i.linkedFlyoutContent&&(null===(o=i.linkedFlyoutContent.flyoutContent)||void 0===o?void 0:o.length)?je(i.linkedFlyoutContent.flyoutContent,t):(null===(c=i.flyoutContent)||void 0===c?void 0:c.length)&&je(i.flyoutContent,t)}}catch(l){r.e(l)}finally{r.f()}},je=function(e,t){var n,r=Object(a.a)(e);try{for(r.s();!(n=r.n()).done;){var o,c=n.value,i=c.heading;if(i.label)i.mobileSubCategories=null===c||void 0===c||null===(o=c.links)||void 0===o?void 0:o.filter((function(e){return e.label})),t.mobileSubCategories||(t.mobileSubCategories=[]),t.mobileSubCategories.push(i)}}catch(l){r.e(l)}finally{r.f()}},ke=(n(256),n(257),function(e){var t=e.open,n=e.onClose,a=e.children,o=e.style,l=e.enableOverlay,u=void 0===l||l,s=e.overlayColor,d=void 0===s?"#000":s,f=e.overlayOpacity,m=void 0===f?.4:f,p=e.zIndex,v=void 0===p?100:p,b=e.duration,g=void 0===b?500:b,h=e.direction,y=e.size,w=void 0===y?250:y,O=e.className,E=e.tabIndex,j=e.animate,k={backgroundColor:"".concat(d),opacity:"".concat(m),zIndex:v},S=Object(r.a)(Object(r.a)({zIndex:v+1,transitionDuration:"".concat(g,"ms")},function(e,t){switch(e){case"left":return{top:0,left:0,transform:"translate3d(-100%, 0, 0)",width:t,height:"100vh"};case"right":return{top:0,right:0,transform:"translate3d(100%, 0, 0)",width:t,height:"100vh"};case"bottom":return{left:0,right:0,bottom:0,transform:"translate3d(0, 100%, 0)",width:"100%",height:t};case"top":return{left:0,right:0,top:0,transform:"translate3d(0, -100%, 0)",width:"100%",height:t};default:return{}}}(h,w)),o),N=Object(c.useRef)(null);return i.a.createElement("div",{tabIndex:E,id:"cms-slider-drawer",className:"Drawer ".concat(O," ").concat(j?"animate":"")},i.a.createElement("input",{type:"checkbox",id:"Drawer__checkbox",className:"Drawer__checkbox",onChange:function(){N.current&&(N.current.checked=!1),n&&n()},checked:t}),i.a.createElement("nav",{role:"navigation",id:"Drawer__container",style:S,className:"Drawer__container "},a),u&&i.a.createElement("label",{htmlFor:"Drawer__checkbox",id:"Drawer__overlay",className:"Drawer__overlay",style:k}))});n.d(t,"default",(function(){return Ie}));var Se=i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"visit-our-new-partner"},"Visit our new partner"),i.a.createElement(l.b,{ariaLabel:"Spoonflower",to:"https://www.spoonflower.com/en/shutterfly?utm_source=shutterfly&utm_medium=referral&utm_campaign=210803_shutterfly&utm_term=global_header&utm_content=intro_creative",tracking:{format:u.a.UHF_FORMAT,linkText:"Spoonflower Logo"},openNewTab:!0},i.a.createElement(i.a.Fragment,null,i.a.createElement(m.a,{className:"spoonflower-logo",icon:p.b.SpoonflowerIcon}),i.a.createElement(m.a,{className:"open-window-logo",icon:p.b.NewWindowSpoonFlowerIcon})))),Ne=function(e){var t=e.doAdaptRef,n=e.trackingInfo,a=e.brandType,r=e.toggleNewX,l=Object(c.useState)(!1),s=Object(o.a)(l,2),d=s[0],f=s[1],v=Object(c.useState)("searchbar-opening"),b=Object(o.a)(v,2),g=b[0],h=b[1];return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"SearchComponent"},i.a.createElement(fe,{tracking:n,brandType:a})),i.a.createElement("div",{className:"SearchComponentMobile"},i.a.createElement("div",{className:"SearchComponentWrapper".concat(d?r?" expanded expanded-nx":" expanded":r?" collapsed collapsed-nx":" collapsed")},d&&i.a.createElement("button",{className:"CloseSearch uh-btn","aria-label":"Close Search Bar",onClick:function(){h("searchbar-closing"),setTimeout((function(){var e;f(!1),null===(e=t.current)||void 0===e||e.handleDoAdapt()}),400)}},i.a.createElement(m.a,{icon:p.b.CloseIcon})),d&&i.a.createElement("div",{className:g},i.a.createElement(fe,{tracking:{format:u.a.UHF_FORMAT},brandType:a})),!d&&i.a.createElement("button",{className:"SearchButton svg-btn-icon uh-btn","aria-label":"Open Search Bar",onClick:function(){h("searchbar-opening"),setTimeout((function(){var e;f(!0),null===(e=t.current)||void 0===e||e.handleDoAdapt()}),1)}},i.a.createElement(m.a,{icon:p.b.SearchIcon})))))},xe=function(e){var t=Object(c.useState)(!1),n=Object(o.a)(t,2),a=n[0],r=n[1],l=function(){}