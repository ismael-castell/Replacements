!function r(o,i,s){function a(t,e){if(!i[t]){if(!o[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(c)return c(t,!0);throw(n=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",n}n=i[t]={exports:{}},o[t][0].call(n.exports,function(e){return a(o[t][1][e]||e)},n,n.exports,r,o,i,s)}return i[t].exports}for(var c="function"==typeof require&&require,e=0;e<s.length;e++)a(s[e]);return a}({1:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=!!document.getElementById("gtm-snippet"),o=n._isGTMAvailable=function(){return r};n.fireEventTracking=function(e){var t=e.category,n=void 0===t?"":t,t=e.action,t=void 0===t?"":t,e=e.label,e=void 0===e?"":e;o()&&window.dataLayer.push({event:"gtm-custom-event","gtm-event-category":n,"gtm-event-action":t,"gtm-event-label":e})},n.fireCustomDimensions=function(e){var t=e.testName,n=void 0===t?"[UNKNOWN]":t,r=e.variantValue,t=void 0===r?"[UNKNOWN]":r,r=e.dimensionNumber;o()&&((e={event:"seti",seti_team_name:"FE | SIGN IN"})[r]=n+"|"+t,window.dataLayer.push(e))},n.firePageLoadEventTracking=function(e){var t=e.category,n=void 0===t?"":t,t=e.action,t=void 0===t?"":t,e=e.label,e=void 0===e?"":e;o()&&window.dataLayer.push({event:"gtm-pageload-event","gtm-event-category":n,"gtm-event-action":t,"gtm-event-label":e})}},{}],2:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=s(e("babel-runtime/helpers/classCallCheck")),o=s(e("babel-runtime/helpers/createClass")),i=e("./analytic-operations");function s(e){return e&&e.__esModule?e:{default:e}}(0,o.default)(a,null,[{key:"trackCustomDimensions",value:function(){(0,i.fireCustomDimensions)({testName:0<arguments.length&&void 0!==arguments[0]?arguments[0]:"[UNKNOWN]",variantValue:1<arguments.length&&void 0!==arguments[1]?arguments[1]:"[UNKNOWN]",dimensionNumber:2<arguments.length&&void 0!==arguments[2]?arguments[2]:"[UNKNOWN]"})}},{key:"trackHamburgerOpen",value:function(){(0,i.fireEventTracking)({category:"M-Menu",action:"Open_Hamburger",label:""})}}]),o=a;function a(){(0,r.default)(this,a)}n.default=o},{"./analytic-operations":1,"babel-runtime/helpers/classCallCheck":94,"babel-runtime/helpers/createClass":95}],3:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=c(e("babel-runtime/helpers/classCallCheck")),o=c(e("babel-runtime/helpers/createClass")),i=e("./analytic-operations"),s=e("../../../../common/metadata"),a=c(e("../operations/sign-in-persistence-validator"));function c(e){return e&&e.__esModule?e:{default:e}}(0,o.default)(l,null,[{key:"trackModalClosing",value:function(){var e=a.default.retrievePassiveSignInStatus();(0,i.fireEventTracking)({category:e?"Sticky SignIn Modal":"Global SignIn/Registration Modal",action:"close",label:""})}},{key:"trackForgotPasswordClick",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"Global SignIn Modal",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"forgot your password",n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",r=a.default.retrievePassiveSignInStatus();(0,i.fireEventTracking)({category:e=r?"Sticky SignIn Modal":e,action:t,label:n})}},{key:"trackForgotPasswordHelpDropdownClick",value:function(){(0,i.fireEventTracking)({category:0<arguments.length&&void 0!==arguments[0]?arguments[0]:"Global Help Drowndown",action:1<arguments.length&&void 0!==arguments[1]?arguments[1]:"forgot your password",label:2<arguments.length&&void 0!==arguments[2]?arguments[2]:""})}},{key:"trackRegistrationPromoInterest",value:function(e){var t=e.isChecked,e=s.ANALYTICS.REGISTRATION_MODAL.CATEGORY;(0,i.fireEventTracking)({category:e,action:(t?"check":"uncheck")+" email promo",label:""})}},{key:"trackCreateAccountButton",value:function(){var e=s.ANALYTICS.REGISTRATION_MODAL.CATEGORY;(0,i.fireEventTracking)({category:e,action:"Register Button",label:0<arguments.length&&void 0!==arguments[0]?arguments[0]:"[UNKNOWN]"})}},{key:"trackSendForgotPasswordLinkButton",value:function(){var e=s.ANALYTICS.FORGOT_PASSWORD_MODAL.CATEGORY;(0,i.fireEventTracking)({category:e,action:"Send Link",label:0<arguments.length&&void 0!==arguments[0]?arguments[0]:"[UNKNOWN]"})}},{key:"trackReturnToSignIn",value:function(){var e=s.ANALYTICS.FORGOT_PASSWORD_MODAL.CATEGORY;(0,i.fireEventTracking)({category:e,action:"Return",label:""})}}]),o=l;function l(){(0,r.default)(this,l)}n.default=o},{"../../../../common/metadata":46,"../operations/sign-in-persistence-validator":20,"./analytic-operations":1,"babel-runtime/helpers/classCallCheck":94,"babel-runtime/helpers/createClass":95}],4:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=c(e("babel-runtime/helpers/classCallCheck")),o=c(e("babel-runtime/helpers/createClass")),i=e("./analytic-operations"),s=c(e("../operations/sign-in-persistence-validator")),a=e("../operations/browser-operations");function c(e){return e&&e.__esModule?e:{default:e}}(0,o.default)(l,null,[{key:"trackSuccessfulSignIn",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"[N/A]";(0,i._isGTMAvailable)()&&window.dataLayer.push({event:"signin-modal-auth","type-of-auth":e,"auth-status":"success",metric1:1})}},{key:"trackChangeStatus",value:function(e){var t=e.category,n=e.action,e=e.label;(0,i.fireEventTracking)({category:void 0===t?"Sign In Status":t,action:void 0===n?"Change Status":n,label:void 0===e?"Active to SignOut":e})}},{key:"trackFailedSignIn",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"[N/A]",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"[N/A]";(0,i._isGTMAvailable)()&&window.dataLayer.push({event:"signin-modal-auth","type-of-auth":e,"auth-status":"failed","error-message":t,metric2:1})}},{key:"trackSignInDropdownButton",value:function(e){var t=e.category,n=e.action,r=void 0===n?"":n,n=e.label,e=void 0===n?"":n,n=window.__PCLN_SI_PERSISTENCE__.isUserSignedIn?"SignOut":"SignIn";(0,i.fireEventTracking)({category:void 0===t?"header":t,action:r=""===r?"Click "+n:r,label:e=""===e?n:e})}},{key:"trackRememberEmailChoice",value:function(e){e=e.isRememberingEmail,e=void 0!==e&&e;s.default.retrievePassiveSignInStatus()||(0,i.fireEventTracking)({category:"Global SignIn Modal",action:(e?"check":"uncheck")+" remember my email address",label:""})}},{key:"trackSignInButtonState",value:function(e){var t=e.isValid,e=void 0!==t&&t,t=s.default.retrievePassiveSignInStatus();(0,i.fireEventTracking)({category:t?"Sticky SignIn Modal":"Global SignIn Modal",action:"SignIn Button",label:e?"Valid":"Error Message"})}},{key:"trackVipTier",value:function(){var e=(0,a._getEl)("#vip-tier-label");(0,i._isGTMAvailable)()&&e&&e.dataset&&e.dataset.tierLabel&&(e={event:"gtm-custom-event",dimension80:e.dataset.tierLabel},window.dataLayer.push(e))}},{key:"trackSignInStatus",value:function(e){var t,n,r=e.category,o=void 0===r?"Sign In Status":r,r=e.action,r=void 0===r?"Page Status":r,e=e.label,e=""===(e=void 0===e?"":e)?(t=s.default.retrieveSignInStatus(),n=s.default.retrievePassiveSignInStatus(),t=t.isUserSignedIn?"Active SignIn":"Sign Out",t=n?"Passive SignIn":t):e;(0,i.firePageLoadEventTracking)({category:o,action:r,label:e})}},{key:"trackChangeUser",value:function(e){var t=e.category,n=e.action,e=e.label;(0,i.fireEventTracking)({category:void 0===t?"Sticky SignIn Modal":t,action:void 0===n?"Change User":n,label:void 0===e?"":e})}},{key:"trackStickySignIn",value:function(e){var t=e.category,n=void 0===t?"Sticky Sign In":t,t=e.action,t=void 0===t?"":t,e=e.label,e=void 0===e?"":e;s.default.retrievePassiveSignInStatus()&&(window&&window.__PCLN_SI_PERSISTENCE__&&window.__PCLN_SI_PERSISTENCE__.stickySignInData&&(t=window.__PCLN_SI_PERSISTENCE__.stickySignInData.cguid),e=Date(),(0,i.firePageLoadEventTracking)({category:n,action:t,label:e}))}}]),o=l;function l(){(0,r.default)(this,l)}n.default=o},{"../operations/browser-operations":9,"../operations/sign-in-persistence-validator":20,"./analytic-operations":1,"babel-runtime/helpers/classCallCheck":94,"babel-runtime/helpers/createClass":95}],5:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=a(e("babel-runtime/helpers/classCallCheck")),o=a(e("babel-runtime/helpers/createClass")),i=e("./analytic-operations"),s=e("../../../../common/metadata");function a(e){return e&&e.__esModule?e:{default:e}}(0,o.default)(c,null,[{key:"trackClickToChat",value:function(){var e=s.ANALYTICS.ACCOUNT_LOCKED_PAGE.CATEGORY;(0,i.fireEventTracking)({category:e,action:"Chat",label:"Prechat Form - Prepop N"})}},{key:"trackClickToHelpCenter",value:function(){var e=s.ANALYTICS.ACCOUNT_LOCKED_PAGE.CATEGORY;(0,i.fireEventTracking)({category:e,action:"Help Center Link",label:""})}},{key:"trackAccountLockedPageLoad",value:function(){var e=s.ANALYTICS.ACCOUNT_LOCKED_PAGE.CATEGORY;(0,i.fireEventTracking)({category:e,action:"Display",label:""})}},{key:"trackPromoBannerDisplay",value:function(e){(0,i.firePageLoadEventTracking)({category:"Promo Banner",action:"Load",label:e})}},{key:"getPromoPages",value:function(){return{"/":"HOMEPAGE","/home":"HOMEPAGE","/home/":"HOMEPAGE","/hotels":"HOTELS","/hotels/":"HOTELS","/home/hotels":"HOTELS","/flights":"FLIGHTS","/flights/":"FLIGHTS","/home/flights":"FLIGHTS","/rentalcars":"RENTALCARS","/rentalcars/":"RENTALCARS","/home/rentalcars":"RENTALCARS","/vacationpackages":"PACKAGES","/vacationpackages/":"PACKAGES","/home/vacationpackages":"PACKAGES"}}},{key:"getGaConfig",value:function(e,t){var n=e||{},r=n.gacategory,o=n.galabel,i=n.gaaction,e=c.getPromoPages()[window.location.pathname],n=["promo-banner"];return e&&n.push(e),t&&n.push("more-info"),o&&n.push(o),{category:r||"promotion",action:i||"generic-promotion",label:n.join("|")}}},{key:"trackMarketingPromoBannerDisplay",value:function(e){var t=c.getGaConfig(e),n=t.category,e=t.action,t=t.label;(0,i.firePageLoadEventTracking)({category:n,action:e,label:t})}},{key:"trackMarketingPromoBannerClick",value:function(e){var t=c.getGaConfig(e,1<arguments.length&&void 0!==arguments[1]&&arguments[1]),n=t.category,e=t.action,t=t.label;(0,i.fireEventTracking)({category:n,action:"Click|"+e,label:t})}},{key:"trackPromoBannerClick",value:function(e){(0,i.fireEventTracking)({category:"Promo Banner",action:"Click",label:e})}},{key:"trackSetNewPasswordPageLoad",value:function(){var e=s.ANALYTICS.SET_NEW_PASSWORD_PAGE.CATEGORY;(0,i.fireEventTracking)({category:e,action:"Display",label:""})}},{key:"trackSetNewPasswordButton",value:function(){var e=s.ANALYTICS.SET_NEW_PASSWORD_PAGE.CATEGORY;(0,i.fireEventTracking)({category:e,action:"Button",label:0<arguments.length&&void 0!==arguments[0]?arguments[0]:"[UNKNOWN]"})}}]),o=c;function c(){(0,r.default)(this,c)}n.default=o},{"../../../../common/metadata":46,"./analytic-operations":1,"babel-runtime/helpers/classCallCheck":94,"babel-runtime/helpers/createClass":95}],6:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){for(var e in o.EVENTS)!function(t){r.default.pclnEventDispatcher.register(o.EVENTS[t],function(e){switch(o.EVENTS[t]){case o.EVENTS.CURRENCY:(0,i.setRealTimeCurrencies)(e.currencyCode);break;case o.EVENTS.LANGUAGE:(0,i.setRealTimeLanguage)(e.locale);break;case o.EVENTS.MODAL_LAUNCHING:window.PCLN.HeaderClient.openModal();break;case o.EVENTS.FORGOT_PASSWORD_EMAIL_CONFIRMATION_VISIBLE:s.default.displayForgotPasswordEmailConfirmation();break;case o.EVENTS.FORGOT_PASSWORD_EMAIL_CONFIRMATION_INVISIBLE:s.default.hideForgotPasswordEmailConfirmation();break;case o.EVENTS.MODAL_LAUNCH_FORGOT_PASSWORD_FORM_VISIBLE:s.default.showModalWithForgotPasswordView();break;case o.EVENTS.MODAL_LAUNCH_REGISTRATION:s.default.showModalWithRegistrationView();break;case o.EVENTS.PACKAGES_ROUTE_FLIGHTS:case o.EVENTS.PACKAGES_ROUTE_HOTELS:s.default.showGlobalPromoBanner();break;case o.EVENTS.PACKAGES_ROUTE_FLIGHT_DETAILS:case o.EVENTS.PACKAGES_ROUTE_HOTEL_DETAILS:case o.EVENTS.PACKAGES_ROUTE_ITINERARY:case o.EVENTS.PACKAGES_ROUTE_UNKNOWN:s.default.hideGlobalPromoBanner();break;case o.EVENTS.RC_ROUTE_LANDING:s.default.showGlobalPromoBanner();break;case o.EVENTS.RC_ROUTE_LISTING:s.default.hideGlobalPromoBanner()}})}(e)};var r=a(e("@pcln/event-dispatcher")),o=e("../../../../common/metadata"),i=e("../operations/browser-operations"),s=a(e("../external/user-interface-api"));function a(e){return e&&e.__esModule?e:{default:e}}},{"../../../../common/metadata":46,"../external/user-interface-api":7,"../operations/browser-operations":9,"@pcln/event-dispatcher":79}],7:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=u(e("babel-runtime/helpers/classCallCheck")),o=u(e("babel-runtime/helpers/createClass")),i=u(e("@pcln/event-dispatcher")),s=e("../../../../common/metadata"),a=u(e("../operations/forgot-password")),c=u(e("../operations/modal-chamber")),l=e("../operations/browser-operations");function u(e){return e&&e.__esModule?e:{default:e}}(0,o.default)(d,null,[{key:"displayForgotPasswordEmailConfirmation",value:function(){[document.getElementById("registration-form"),document.getElementById("sign-in-modal-view-left"),document.getElementById("sign-in-modal-view-right"),document.getElementById("forgot-password")].forEach(function(e){e.classList.add("node-invisible")}),document.getElementById("modal-container").classList.add("modal-container__forgot-password-view--displayed"),document.getElementById("forgot-password-email-confirmation").classList.remove("pw-email-confirmation--hidden")}},{key:"hideForgotPasswordEmailConfirmation",value:function(){document.getElementById("forgot-password-email-confirmation").classList.add("pw-email-confirmation--hidden");var e=[];document.getElementById("modal-container").classList.remove("modal-container__forgot-password-view--displayed");var t,n=document.getElementById("sign-in-modal-view-left");this.isSessionStorageAvailable&&"true"===sessionStorage.getItem("isStreamlinedSetiVariant")?(t=document.getElementById("sign-in-modal-view-right"),e.push(n,t)):e.push(n),e.forEach(function(e){e&&e.classList.remove("node-invisible")})}},{key:"applyCheckoutSpecifics",value:function(){var e;-1<window.location.pathname.indexOf("/checkout")&&((e=(0,l._getEl)("#sign-in-module"))&&e.classList.add("sign-in-group--checkout"))}},{key:"showModalWithForgotPasswordView",value:function(){i.default.pclnEventDispatcher.dispatch(s.EVENTS.MODAL_LAUNCHING,{message:"Modal Successfully Opened"});var e=document.getElementById("registration-form");(0,l.updateElementVisibility)([e],l.nodeVisibility.invisible),a.default.toggleForgotPasswordModal()}},{key:"showModalWithRegistrationView",value:function(){i.default.pclnEventDispatcher.dispatch(s.EVENTS.MODAL_LAUNCHING,{message:"Modal Successfully Opened"}),c.default.toggleRegistrationModal()}},{key:"showGlobalPromoBanner",value:function(){var e=document.getElementById("global-promo-banner");e&&(e.style.display="block")}},{key:"hideGlobalPromoBanner",value:function(){var e=document.getElementById("global-promo-banner");e&&(e.style.display="none")}}]),o=d;function d(){(0,r.default)(this,d)}n.default=o},{"../../../../common/metadata":46,"../operations/browser-operations":9,"../operations/forgot-password":11,"../operations/modal-chamber":17,"@pcln/event-dispatcher":79,"babel-runtime/helpers/classCallCheck":94,"babel-runtime/helpers/createClass":95}],8:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.authorizationProcessingSingleton=n.AuthorizationProcessing=void 0;var r=s(e("babel-runtime/helpers/classCallCheck")),o=s(e("babel-runtime/helpers/createClass")),c=s(e("../analytics/sign-in-analytics")),l=s(e("../../../network/sign-in-service")),i=e("./browser-operations");function s(e){return e&&e.__esModule?e:{default:e}}o=n.AuthorizationProcessing=((0,o.default)(a,[{key:"authenticateUser",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{preventDefault:null};e.preventDefault&&"function"==typeof e.preventDefault&&e.preventDefault(),"click"===e.type&&(e.preventDefault(),this.type="standard");var t=void 0,n=!0;switch(this.rememberMe&&(t=this.rememberMe.checked),this.type){case"google":this.authUser.token=e.code;break;case"facebook":this.authUser.token=e.token;break;case"apple":var r=e.authorization,o=(r=void 0===r?{}:r).code,i=r.id_token,s=e.user,a=(s=void 0===s?{}:s).email,r=s.name,s=(r=void 0===r?{}:r).firstName,r=r.lastName;this.authUser={idToken:i,code:o,username:a,firstName:s,lastName:r};break;default:this.isUserValid()?(this.authUser.username=this.userName.value,this.authUser.password=this.password.value):n=!1}n?(this.disableSignInButton(),l.default.authorizeUser(this.authUser,t,this.type,this.authComplete.bind(this))):c.default.trackSignInButtonState({isValid:!1}),this.isSafeToUseSessionStorage&&sessionStorage.setItem("isRegisteredUserFirstLoad","")}},{key:"googleAuth",value:function(){this.type="google",this.GoogleClient.authenticate(u.authenticateUser.bind(this))}},{key:"facebookAuth",value:function(){this.type="facebook",this.FacebookClient.authenticate(u.authenticateUser.bind(this))}},{key:"appleAuth",value:function(){this.type="apple",this.AppleClient.authenticate(u.authenticateUser.bind(this))}}],[{key:"postSignInUIOperations",value:function(){(0,i._showEl)((0,i._getEl)("#sign-in-module__signedIn")),(0,i._hideEl)((0,i._getEl)("#sign-in-module__anonymous")),(0,i._hideEl)((0,i._getEl)("#sign-in-module__userAvailable")),(0,i._hideEl)((0,i._getEl)("#sign-in-dd")),(0,i._showEl)((0,i._getEl)("#sign-out-dd")),(0,i._hideEl)((0,i._getEl)("#sign-in-add-on-container"))}},{key:"showSignOut",value:function(){(0,i._showEl)((0,i._getEl)("#sign-in-module__signedIn")),(0,i._hideEl)((0,i._getEl)("#sign-in-dd")),(0,i._showEl)((0,i._getEl)("#sign-out-dd"))}}]),a);function a(){(0,r.default)(this,a)}var u=n.authorizationProcessingSingleton=new o},{"../../../network/sign-in-service":35,"../analytics/sign-in-analytics":4,"./browser-operations":9,"babel-runtime/helpers/classCallCheck":94,"babel-runtime/helpers/createClass":95}],9:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.checkPasswordEmailSameness=n.updateElementVisibility=n.nodeVisibilityOps=n.nodeVisibility=n.isSymbol=n.isSecureProtocol=n.DOM_META_DATA=n.getCookieByName=n.debounce=n.validateMobileBrowserByRegEx=n.setRealTimeLanguage=n.setRealTimeCurrencies=n.triggerPageReload=n._toggle=n._getEl=n._showEl=n._hideEl=void 0;var r=d(e("babel-runtime/core-js/symbol")),s=arguments,o=e("./currency-map"),i=e("./language-map"),a=d(e("./mobile-controller")),c=e("../../../../common/metadata"),l=d(e("@pcln/analytics")),u=e("@pcln/domain-utilities");function d(e){return e&&e.__esModule?e:{default:e}}n._hideEl=function(e){e&&e.classList.add("node-invisible")},n._showEl=function(e){e&&e.classList.remove("node-invisible")};var f=n._getEl=function(e){var t=e.split(""),n=void 0;switch(t.shift()){case".":n=document.getElementsByClassName(t.join(""))[0];break;case"#":n=document.getElementById(t.join(""))}return n},h=(n._toggle=function(e){e=f(e);e&&e.classList&&(e.classList.contains("node-invisible")?e.classList.remove("node-invisible"):e.classList.add("node-invisible"))},n.triggerPageReload=function(){var e=window&&window.location&&window.location.pathname?window.location.pathname:null;if(!("/profile"!==e&&"/profile/"!==e))return!1;window.location.reload()},n.setRealTimeCurrencies=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"USD";document.getElementById(h.DESKTOP_SELECTED_CURRENCY_ID).innerHTML=e,document.getElementById(h.AUX_MENU_CURRENCY_SPINNER_ID).value=e,document.getElementById(h.AUX_MENU_LINK_SELECTED_CURRENCY).innerHTML=o.currencyMap.get(e),a.default.hideMobileMenu()},n.setRealTimeLanguage=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"en-us",t=document.getElementById(h.DESKTOP_SELECTED_LANGUAGE_ID),n=i.localeToLangMap.get(e).language;t.className=e,t.setAttribute("src","/global-web-components/public/images/"+e+".svg"),document.getElementById(h.AUX_MENU_LINK_SELECTED_LANGUAGE_FLAG).className=e,document.getElementById(h.AUX_MENU_LANGUAGE_SPINNER_ID).value=n,document.getElementById(h.AUX_MENU_LINK_SELECTED_LANGUAGE).innerHTML=n;n=new Date("July 20, 1969 20:17:00");window.document.cookie="locale="+e+";path=/;",window.document.cookie="locale="+e+";domain="+(0,u.getCookieDomain)(window.location)+";path=/;expires="+n.toUTCString()+";",l.default.logEvent({category:"Language",action:"SelectLanguage",label:e}),location.reload()},n.validateMobileBrowserByRegEx=function(){var e,t=!1;return e=navigator.userAgent||navigator.vendor||window.opera,t=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))?!0:t},n.debounce=function(n,r,o){var i=void 0;return function(){var e=s,t=o&&!i;clearTimeout(i),i=setTimeout(function(){i=null,o||n.apply(void 0,e)},r),t&&n.apply(void 0,e)}},n.getCookieByName=function(e){e=new RegExp("(?:^|;)\\s?"+e+"=(.*?)(?:;|$)","i"),e=document.cookie.match(e);return e&&0<e.length?decodeURI(e[e.length-1]):null},n.DOM_META_DATA={CLICK_EVENT:"click",CHANGE_EVENT:"change",TOUCH_END_EVENT:"touchend",HAMBURGER_SECTION_ID:"hamburger-section",HEADER_ELEMENT_ID:"global-header",HAMBURGER_ICON_CLASS:"navbar-hamburger",MOBILE_MENU_HEADER_ID:"mobile-menu-header",MOBILE_MENU_ID:"mobile-menu",NAV_MENU_SIGN_IN:"nav-menu-sign-in",NAV_MENU_SIGN_IN_GREETING:"nav-menu-sign-greeting",NAV_MENU_SIGN_OUT:"nav-menu-sign-out",NAV_MENU_SIGN_OUT_GREETING:"nav-menu-sign-out-greeting",NAV_MENU_SIGN_OUT_LINK:"nav-menu-sign-out-link",NAV_MENU_LINK_HOTELS_ID:"nav-menu-link-hotels",NAV_MENU_LINK_FLIGHTS_ID:"nav-menu-link-flights",NAV_MENU_LINK_RENTAL_CARS_ID:"nav-menu-link-rental-cars",NAV_MENU_LINK_CRUISES_ID:"nav-menu-link-cruises",NAV_MENU_LINK_VACATION_PACKAGES_ID:"nav-menu-vacation-package-item",NAV_MENU_LINK_CLASS:"nav-menu-link",AUX_MENU_LINK_DESKTOP_SITE_ID:"aux-menu-link-desktop-site",AUX_MENU_LINK_SELECTED_CURRENCY:"aux-menu-selected-currency",AUX_MENU_CURRENCY_SPINNER_ID:"aux-menu-currency-spinner-select",AUX_MENU_LINK_CLASS:"aux-menu-link",DESKTOP_SELECTED_CURRENCY_ID:"currency-label",GLOBAL_HEADER_ELEMENT_ID:"global-header",AUX_MENU_LINK_SELECTED_LANGUAGE:"aux-menu-selected-language",AUX_MENU_LINK_SELECTED_LANGUAGE_FLAG:"language-flag",AUX_MENU_LANGUAGE_SPINNER_ID:"aux-menu-language-spinner-select",DESKTOP_SELECTED_LANGUAGE_ID:"language-flag",MOBILE_HOTEL_URL:"/m/stay",MOBILE_FLIGHT_URL:"/m/flights",MOBILE_RENTAL_CARS_URL:"/rentalcars/",MOBILE_CRUISES_URL:"https://cruises.priceline.com/?utm_medium=partner_site_topnav&utm_source=pclnhp_top_nav&utm_campaign=globalnav&utm_content=hp_top_nav_cruise",AGENT_ANDROID:"Android"}),e=(n.isSecureProtocol=function(e,t){return c.NETWORK_METADATA.HTTPS_PROTOCOL===e?t:t.replace("http:","https:")},n.isSymbol=function(){if("function"!=typeof r.default)return!1;var e=(0,r.default)("test symbol for pcln");try{return String(e)}catch(e){return!1}}),p=n.nodeVisibility={invisible:e()?(0,r.default)("addNodeInvisible"):"addNodeInvisible",visible:e()?(0,r.default)("removeNodeInvisible"):"removeNodeInvisible"},g=n.nodeVisibilityOps={addNodeInvisible:function(e){e&&e.classList.add("node-invisible")},removeNodeInvisible:function(e){e&&e.classList.remove("node-invisible")}};n.updateElementVisibility=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;t&&(t===p.invisible?Array.isArray(e)?e.forEach(function(e){g.addNodeInvisible(e)}):g.addNodeInvisible(e):t===p.visible&&(Array.isArray(e)?e.forEach(function(e){g.removeNodeInvisible(e)}):g.removeNodeInvisible(e)))},n.checkPasswordEmailSameness=function(e,t){if(t&&"string"==typeof t)return t===e||t.split("@")[0]===e}},{"../../../../common/metadata":46,"./currency-map":10,"./language-map":15,"./mobile-controller":16,"@pcln/analytics":70,"@pcln/domain-utilities":78,"babel-runtime/core-js/symbol":91}],10:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.currencyMap=void 0;var r=s(t("babel-runtime/core-js/get-iterator")),o=s(t("babel-runtime/core-js/map")),i=s(t("./iterable-currencies")),t=t("../../../../common/metadata");function s(e){return e&&e.__esModule?e:{default:e}}var a=n.currencyMap=new o.default,n=!!window.__PCLN_SI_PERSISTENCE__&&Array.isArray(window.__PCLN_SI_PERSISTENCE__.supportedCurrencies)&&0<window.__PCLN_SI_PERSISTENCE__.supportedCurrencies.length?window.__PCLN_SI_PERSISTENCE__.supportedCurrencies:t.STATIC_CURRENCIES;if(0<n.length){var c=!0,o=!1,t=void 0;try{for(var l,u=(0,r.default)(new i.default(n));!(c=(l=u.next()).done);c=!0){var d=l.value;a.set(d.currencyCode,d.currencySymbol+" "+d.currencyLongDesc)}}catch(e){o=!0,t=e}finally{try{!c&&u.return&&u.return()}finally{if(o)throw t}}}},{"../../../../common/metadata":46,"./iterable-currencies":12,"babel-runtime/core-js/get-iterator":81,"babel-runtime/core-js/map":83}],11:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=i(e("babel-runtime/helpers/classCallCheck")),o=i(e("babel-runtime/helpers/createClass")),s=i(e("@pcln/event-dispatcher")),a=i(e("../../../network/email-service")),c=i(e("../static-pages/set-a-new-password")),l=i(e("../analytics/modal-analytics")),u=e("../../../../common/metadata");function i(e){return e&&e.__esModule?e:{default:e}}(0,o.default)(d,[{key:"configureForgotPasswordPath",value:function(){d.toggleForgotPasswordModal()}},{key:"revertToSignInStyles",value:function(){d.resetForgotPasswordEmail(),d.resetForgotPasswordSubmitButton(),this._togglePasswordReturnToSignIn_()}},{key:"_togglePasswordReturnToSignIn_",value:function(){var e=document.getElementById("sign-in-modal-view-left"),t=document.getElementById("modal-container"),n=document.getElementById("forgot-password"),r=document.getElementById("sign-in-modal-view-right"),o=document.getElementById("signin-first-name");n.classList.add("node-invisible"),t.classList.remove("forgot-pw-view"),n.classList.remove("forgot-pw-view-left"),e.classList.remove("node-invisible"),r&&r.classList.remove("forgot-pw-view-right"),o.focus()}},{key:"_sendForgotPasswordLink_",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{preventDefault:null};e.preventDefault&&"function"==typeof e.preventDefault&&e.preventDefault(),(this.setNewPasswordRoot?c.default.validateEmail():d.validateForgotPasswordEmail())?d.processForgotPasswordLink():this.setNewPasswordRoot?c.default.toggledSetNewPasswordButtonError():d.toggleForgotPasswordSubmitButtonError()}}],[{key:"toggleForgotPasswordModal",value:function(){var e=document.getElementById("sign-in-modal-view-left"),t=document.getElementById("modal-container"),n=document.getElementById("forgot-password"),r=document.getElementById("sign-in-modal-view-right"),o=document.getElementById("forgot-pw-email"),i=document.getElementById("signin-first-name").value.trim();u.REG_EX_RULES.EMAIL_FORMAT_VALIDATION.test(i)?o.value=i:o.value="",e.classList.add("node-invisible"),t.classList.add("forgot-pw-view"),n.classList.add("forgot-pw-view-left"),n.classList.remove("node-invisible"),r&&(r.classList.add("forgot-pw-view-right"),r.classList.remove("node-invisible")),o.value="",o.focus()}},{key:"resetForgotPasswordEmail",value:function(){var e=document.getElementById("forgot-pw-email");document.getElementById("forgot-pw-email-error").classList.add("node-invisible"),e.placeholder="Email Address",e.classList.remove("forgot-password__placeholder--error"),e.classList.remove("forgot-password__input-body--error")}},{key:"validateForgotPasswordEmail",value:function(){var e=document.getElementById("forgot-pw-email"),t=document.getElementById("forgot-pw-email-error"),n=!u.REG_EX_RULES.EMAIL_FORMAT_VALIDATION.test(e.value.trim());return e.value<1?(t.classList.remove("node-invisible"),e.placeholder="Enter Email Address",e.classList.add("forgot-password__placeholder--error"),!1):!n||(t.classList.remove("node-invisible"),e.classList.add("forgot-password__input-body--error"),!1)}},{key:"resetForgotPasswordSubmitButton",value:function(){var e=document.getElementById("forgot-pw-submit");e.classList.remove("forgot-password__form--button-error"),e.innerHTML="Email a Link"}},{key:"toggleForgotPasswordSubmitButtonError",value:function(){var e=document.getElementById("forgot-pw-email"),t=document.getElementById("forgot-pw-submit");t.classList.add("forgot-password__form--button-error"),e.value<1?t.innerHTML="Complete Form to Continue":t.innerHTML="Invalid Email Address"}},{key:"processForgotPasswordLink",value:function(){var o=this,e=document.getElementById("forgot-pw-email"),t=document.getElementById("set-a-new-password-email-input"),i=(this.setNewPasswordRoot?t:e).value;a.default.sendForgotPasswordEmail(i,function(e){var t,n,r="";200===e.statusCode&&0!==e.exceptionCode?(t=e.exceptionCode,((n={"-1":function(){r="EmailService request is corrupted.",o.setNewPasswordRoot?c.default.toggledSetNewPasswordButtonError():d.toggleForgotPasswordSubmitButtonError()},"-2":function(){r="INVALID DATA",o.setNewPasswordRoot?c.default.toggledSetNewPasswordButtonError():d.toggleForgotPasswordSubmitButtonError()},"-4":function(){r="DINC EXCEPTION",o.setNewPasswordRoot?c.default.toggledSetNewPasswordButtonError():d.toggleForgotPasswordSubmitButtonError()},"-104":function(){r="EXCEEDED ALLOWED LOGIN ATTEMPTS",window.location.href="/global-web-components/account-locked?fpwc=1"},default:function(){r="DEFAULT EXCEPTION",o.setNewPasswordRoot?c.default.toggledSetNewPasswordButtonError():d.toggleForgotPasswordSubmitButtonError()}})[t]||n.default)(),l.default.trackSendForgotPasswordLinkButton(r)):200===e.statusCode&&0===e.exceptionCode&&(l.default.trackSendForgotPasswordLinkButton(r="valid"),o.setNewPasswordRoot?(document.getElementById("set-a-new-password-email-address").innerHTML=i+" to",c.default.showEmailConfirmation()):(document.getElementById("pw-email-confirmation__email-address").innerHTML=i+" to",d.resetForgotPasswordEmail(),d.resetForgotPasswordSubmitButton(),s.default.pclnEventDispatcher.dispatch(u.EVENTS.FORGOT_PASSWORD_EMAIL_CONFIRMATION_VISIBLE,{message:"Forgot Password View Has Been Set To Visible"})))})}}]),o=d;function d(){(0,r.default)(this,d)}n.default=o},{"../../../../common/metadata":46,"../../../network/email-service":32,"../analytics/modal-analytics":3,"../static-pages/set-a-new-password":26,"@pcln/event-dispatcher":79,"babel-runtime/helpers/classCallCheck":94,"babel-runtime/helpers/createClass":95}],12:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=a(e("babel-runtime/core-js/object/get-prototype-of")),o=a(e("babel-runtime/helpers/classCallCheck")),i=a(e("babel-runtime/helpers/possibleConstructorReturn")),s=a(e("babel-runtime/helpers/inherits")),e=a(e("./iterable"));function a(e){return e&&e.__esModule?e:{default:e}}e=e.default,(0,s.default)(c,e),e=c;function c(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];return(0,o.default)(this,c),(0,i.default)(this,(c.__proto__||(0,r.default)(c)).call(this,e))}n.default=e},{"./iterable":14,"babel-runtime/core-js/object/get-prototype-of":87,"babel-runtime/helpers/classCallCheck":94,"babel-runtime/helpers/inherits":97,"babel-runtime/helpers/possibleConstructorReturn":98}],13:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=a(e("babel-runtime/core-js/object/get-prototype-of")),o=a(e("babel-runtime/helpers/classCallCheck")),i=a(e("babel-runtime/helpers/possibleConstructorReturn")),s=a(e("babel-runtime/helpers/inherits")),e=a(e("./iterable"));function a(e){return e&&e.__esModule?e:{default:e}}e=e.default,(0,s.default)(c,e),e=c;function c(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];return(0,o.default)(this,c),(0,i.default)(this,(c.__proto__||(0,r.default)(c)).call(this,e))}n.default=e},{"./iterable":14,"babel-runtime/core-js/object/get-prototype-of":87,"babel-runtime/helpers/classCallCheck":94,"babel-runtime/helpers/inherits":97,"babel-runtime/helpers/possibleConstructorReturn":98}],14:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var s=i(e("babel-runtime/regenerator")),a=i(e("babel-runtime/core-js/get-iterator")),r=i(e("babel-runtime/core-js/symbol/iterator")),o=i(e("babel-runtime/helpers/classCallCheck"));function i(e){return e&&e.__esModule?e:{default:e}}(0,i(e("babel-runtime/helpers/createClass")).default)(c,[{key:r.default,value:s.default.mark(function e(){var t,n,r,o,i;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=!(t=!0),r=void 0,e.prev=3,o=(0,a.default)(this.collection);case 5:if(t=(i=o.next()).done){e.next=12;break}return i=i.value,e.next=9,i;case 9:t=!0,e.next=5;break;case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(3),n=!0,r=e.t0;case 18:e.prev=18,e.prev=19,!t&&o.return&&o.return();case 21:if(e.prev=21,n)throw r;e.next=24;break;case 24:return e.finish(21);case 25:return e.finish(18);case 26:case"end":return e.stop()}},e,this,[[3,14,18,26],[19,,21,25]])})}]),r=c;function c(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];(0,o.default)(this,c),this.collection=e}n.default=r},{"babel-runtime/core-js/get-iterator":81,"babel-runtime/core-js/symbol/iterator":92,"babel-runtime/helpers/classCallCheck":94,"babel-runtime/helpers/createClass":95,"babel-runtime/regenerator":100}],15:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.localeToLangMap=n.langToLocaleMap=void 0;var r=s(t("babel-runtime/core-js/get-iterator")),o=s(t("babel-runtime/core-js/map")),i=s(t("./iterable-languages"));function s(e){return e&&e.__esModule?e:{default:e}}var a=n.langToLocaleMap=new o.default,c=n.localeToLangMap=new o.default,t=!!window.__PCLN_SI_PERSISTENCE__&&!!window.__PCLN_SI_PERSISTENCE__.supportedLanguages,n=t&&window.__PCLN_SI_PERSISTENCE__.supportedLanguages;if(0<n.length){var l=!0,o=!1,t=void 0;try{for(var u,d=(0,r.default)(new i.default(n));!(l=(u=d.next()).done);l=!0){var f=u.value;a.set(f.language,{locale:f.locale,flag:f.locale}),c.set(f.locale,{language:f.language,flag:f.locale})}}catch(e){o=!0,t=e}finally{try{!l&&d.return&&d.return()}finally{if(o)throw t}}}},{"./iterable-languages":13,"babel-runtime/core-js/get-iterator":81,"babel-runtime/core-js/map":83}],16:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=d(e("babel-runtime/helpers/classCallCheck")),o=d(e("babel-runtime/helpers/createClass")),i=e("./browser-operations"),s=e("../../../../common/metadata"),a=e("./currency-map"),c=e("./language-map"),l=d(e("@pcln/event-dispatcher")),u=d(e("../analytics/hamburger-analytics"));function d(e){return e&&e.__esModule?e:{default:e}}(0,o.default)(f,null,[{key:"configureMobileMenu",value:function(){var e=document.querySelectorAll("."+i.DOM_META_DATA.HAMBURGER_ICON_CLASS);Array.prototype.slice.call(e).forEach(function(e){e.addEventListener(i.DOM_META_DATA.CLICK_EVENT,f.showDebouncedMenu),e.addEventListener(i.DOM_META_DATA.TOUCH_END_EVENT,f.showDebouncedMenu)}),f.configureCurrencySpinner(),f.configureLanguageSpinner(),(0,i.validateMobileBrowserByRegEx)()&&f.configureMobileSpecifics(),f.configureSignInOption(),f.configureSignOutOption();e=document.getElementById("mobile-default-currency");e&&e.classList.remove("node-invisible");e=document.getElementById("mobile-default-language");e&&e.classList.remove("node-invisible"),f.configureListItems(),f.configureMobileAuthentication()}},{key:"showDebouncedMenu",value:function(){(0,i.debounce)(function(){f.showMobileMenu(),u.default.trackHamburgerOpen()},10)()}},{key:"hideDebouncedMenu",value:function(){(0,i.debounce)(function(){f.hideMobileMenu()},15)()}},{key:"configureListItems",value:function(){function e(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;e&&e.addEventListener(i.DOM_META_DATA.CLICK_EVENT,f.hideMobileMenu)}var t=[].slice.call(document.querySelectorAll("."+i.DOM_META_DATA.NAV_MENU_LINK_CLASS));0<t.length&&t.forEach(e);t=[].slice.call(document.querySelectorAll("."+i.DOM_META_DATA.AUX_MENU_LINK_CLASS));0<t.length&&t.forEach(e)}},{key:"configureMobileAuthentication",value:function(){var e,t,n;(0,i.validateMobileBrowserByRegEx)()&&(e="node-bootstrap-invisible",t=document.getElementById(i.DOM_META_DATA.NAV_MENU_SIGN_IN),n=document.getElementById(i.DOM_META_DATA.NAV_MENU_SIGN_OUT),t&&t.classList.remove(e),n&&n.classList.remove(e))}},{key:"configureMobileSpecifics",value:function(){var e=document.getElementById(i.DOM_META_DATA.NAV_MENU_LINK_CRUISES_ID),t=document.getElementById(i.DOM_META_DATA.AUX_MENU_LINK_DESKTOP_SITE_ID);e&&(e.href=i.DOM_META_DATA.MOBILE_CRUISES_URL),t&&(0,i._showEl)(t)}},{key:"detectPCLNHeaderClientModule",value:function(){return!!window&&window.hasOwnProperty("PCLN")&&window.PCLN.hasOwnProperty("HeaderClient")}},{key:"validateElementExistence",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return!!e&&e!=={}}},{key:"configureSignInOption",value:function(){function e(){var e;f.detectPCLNHeaderClientModule()&&(f.hideMobileMenu(),e=document.getElementById("signin-social-buttons-variant"),(0,i.updateElementVisibility)(e,i.nodeVisibility.invisible),window.PCLN.HeaderClient.openModal(),setTimeout(function(){(0,i.updateElementVisibility)(e,i.nodeVisibility.visible)},50))}var t=document.getElementById(i.DOM_META_DATA.NAV_MENU_SIGN_IN);f.validateElementExistence(t)&&(t.addEventListener(i.DOM_META_DATA.CLICK_EVENT,e),t.addEventListener(i.DOM_META_DATA.TOUCH_END_EVENT,e))}},{key:"configureSignOutOption",value:function(){function e(){t.innerHTML="Signing Out",f.detectPCLNHeaderClientModule()&&setTimeout(function(){window.PCLN.HeaderClient.signOutUser(void 0,function(){window.PCLN.HeaderClient.handleOpsAfterSignOutServiceResponse(!1),f.hideMobileMenu(),t.innerHTML="Sign Out"},function(){return t.innerHTML="Try Again"})},50)}var t=document.getElementById(i.DOM_META_DATA.NAV_MENU_SIGN_OUT_LINK);f.validateElementExistence(t)&&(t.addEventListener(i.DOM_META_DATA.CLICK_EVENT,e),t.addEventListener(i.DOM_META_DATA.TOUCH_END_EVENT,e))}},{key:"configureCurrencySpinner",value:function(){var e,t;document.getElementById(i.DOM_META_DATA.DESKTOP_SELECTED_CURRENCY_ID)&&(t=document.getElementById(i.DOM_META_DATA.DESKTOP_SELECTED_CURRENCY_ID).innerHTML.trim(),(e=document.getElementById(i.DOM_META_DATA.AUX_MENU_CURRENCY_SPINNER_ID)).value=t,e.addEventListener(i.DOM_META_DATA.CHANGE_EVENT,function(){l.default.pclnEventDispatcher.dispatch(s.EVENTS.CURRENCY,{currencyCode:e.value})}),t=a.currencyMap.get(t),document.getElementById(i.DOM_META_DATA.AUX_MENU_LINK_SELECTED_CURRENCY).innerHTML=t)}},{key:"configureLanguageSpinner",value:function(){var e,t;document.getElementById(i.DOM_META_DATA.DESKTOP_SELECTED_LANGUAGE_ID)&&(e=document.getElementById(i.DOM_META_DATA.DESKTOP_SELECTED_LANGUAGE_ID).className,(t=document.getElementById(i.DOM_META_DATA.AUX_MENU_LANGUAGE_SPINNER_ID)).value=e,t.addEventListener(i.DOM_META_DATA.CHANGE_EVENT,function(){l.default.pclnEventDispatcher.dispatch(s.EVENTS.LANGUAGE,{locale:t.value})}),document.getElementById(i.DOM_META_DATA.AUX_MENU_LINK_SELECTED_LANGUAGE).innerHTML=c.localeToLangMap.get(e).language)}},{key:"showMobileMenu",value:function(){var e=document.querySelectorAll("."+i.DOM_META_DATA.HAMBURGER_ICON_CLASS);Array.prototype.slice.call(e,0,1).forEach(function(e){e.removeEventListener(i.DOM_META_DATA.CLICK_EVENT,f.showDebouncedMenu),e.removeEventListener(i.DOM_META_DATA.TOUCH_END_EVENT,f.showDebouncedMenu),e.addEventListener(i.DOM_META_DATA.CLICK_EVENT,f.hideDebouncedMenu),e.addEventListener(i.DOM_META_DATA.TOUCH_END_EVENT,f.hideDebouncedMenu)});600<document.body.clientWidth&&(document.body.addEventListener(i.DOM_META_DATA.CLICK_EVENT,f.hideDebouncedMenu),document.body.addEventListener(i.DOM_META_DATA.TOUCH_END_EVENT,f.hideDebouncedMenu));e=document.getElementById(i.DOM_META_DATA.MOBILE_MENU_ID);e.addEventListener(i.DOM_META_DATA.CLICK_EVENT,function(e){e.stopPropagation()}),e.addEventListener(i.DOM_META_DATA.TOUCH_END_EVENT,function(e){e.stopPropagation()}),document.body.classList.add("content-clipped"),document.body.classList.add("mobile-menu-activated");e=document.querySelectorAll(".header-promo-unit");Array.prototype.slice.call(e).forEach(function(e){return e.classList.add("burger-menu-open")});e=(0,i._getEl)("#"+i.DOM_META_DATA.HAMBURGER_SECTION_ID);e.classList.add("background-dimmed"),(0,i._showEl)(e);(0,i._getEl)("#"+i.DOM_META_DATA.GLOBAL_HEADER_ELEMENT_ID)}},{key:"hideMobileMenu",value:function(){var e=document.querySelectorAll("."+i.DOM_META_DATA.HAMBURGER_ICON_CLASS);Array.prototype.slice.call(e).forEach(function(e){e.removeEventListener(i.DOM_META_DATA.CLICK_EVENT,f.hideDebouncedMenu),e.removeEventListener(i.DOM_META_DATA.TOUCH_END_EVENT,f.hideDebouncedMenu),e.addEventListener(i.DOM_META_DATA.CLICK_EVENT,f.showDebouncedMenu),e.addEventListener(i.DOM_META_DATA.TOUCH_END_EVENT,f.showDebouncedMenu)});600<document.body.clientWidth&&(document.body.removeEventListener(i.DOM_META_DATA.CLICK_EVENT,f.hideDebouncedMenu),document.body.removeEventListener(i.DOM_META_DATA.TOUCH_END_EVENT,f.hideDebouncedMenu)),document.body.classList.remove("content-clipped"),document.body.classList.remove("mobile-menu-activated");e=document.querySelectorAll(".header-promo-unit");Array.prototype.slice.call(e).forEach(function(e){return e.classList.remove("burger-menu-open")});e=(0,i._getEl)("#"+i.DOM_META_DATA.HAMBURGER_SECTION_ID);e.classList.remove("background-dimmed"),(0,i._hideEl)(e);(0,i._getEl)("#"+i.DOM_META_DATA.GLOBAL_HEADER_ELEMENT_ID)}},{key:"hideSignInOption",value:function(){var e=document.getElementById(i.DOM_META_DATA.NAV_MENU_SIGN_IN);f.validateElementExistence(e)&&e.classList.add("node-invisible")}},{key:"showSignInOption",value:function(){var e=document.getElementById(i.DOM_META_DATA.NAV_MENU_SIGN_IN);f.validateElementExistence(e)&&e.classList.remove("node-invisible")}},{key:"hideSignOutOption",value:function(){var e=document.getElementById(i.DOM_META_DATA.NAV_MENU_SIGN_OUT_GREETING);e&&(e.innerHTML="");e=document.getElementById(i.DOM_META_DATA.NAV_MENU_SIGN_OUT);e&&f.validateElementExistence(e)&&e.classList.add("node-invisible")}},{key:"showSignOutOption",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=document.getElementById(i.DOM_META_DATA.NAV_MENU_SIGN_OUT_GREETING);t&&(t.innerHTML="Hi, "+e);e=document.getElementById(i.DOM_META_DATA.NAV_MENU_SIGN_OUT);e&&f.validateElementExistence(e)&&e.classList.remove("node-invisible")}},{key:"resetToGenericSignIn",value:function(){var e=(0,i._getEl)("#nav-menu-sign-in-greeting");e&&(e.innerText="Hello!")}}]),o=f;function f(){(0,r.default)(this,f)}n.default=o},{"../../../../common/metadata":46,"../analytics/hamburger-analytics":2,"./browser-operations":9,"./currency-map":10,"./language-map":15,"@pcln/event-dispatcher":79,"babel-runtime/helpers/classCallCheck":94,"babel-runtime/helpers/createClass":95}],17:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=i(e("babel-runtime/core-js/weak-map")),o=i(e("babel-runtime/helpers/classCallCheck"));function i(e){return e&&e.__esModule?e:{default:e}}(0,i(e("babel-runtime/helpers/createClass")).default)(s,[{key:"_generatePrivateEntities_",value:function(){var e=document.getElementById("modal-lock-icon"),t=document.getElementById("sign-in-modal-view-left"),n=document.getElementById("outer-area"),r=document.getElementById("modal-container"),o=document.getElementById("registration-form"),i=document.getElementById("sign-in-modal-view-right"),s=document.getElementById("registration-first-name"),a=document.getElementById("signin-first-name");this.privateEngine.set(this,{outerArea:n,modalContainer:r,registrationView:o,modalLockIcon:e,signInView:t,modalViewRight:i,registrationFirstName:s,signinFirstName:a})}},{key:"_applyStyles_",value:function(){var e=this.privateEngine.get(this).modalLockIcon;e&&e.classList.remove("node-invisible")}},{key:"applySignInModalStyles",value:function(){window.__PCLN_SI_PERSISTENCE__&&window.__PCLN_SI_PERSISTENCE__.initialLoad?window.__PCLN_SI_PERSISTENCE__.initialLoad=!1:this._applyStyles_()}},{key:"toggleSignInModal",value:function(){var e=this.privateEngine.get(this).signInView,t=this.privateEngine.get(this).modalContainer,n=this.privateEngine.get(this).registrationView,r=this.privateEngine.get(this).modalViewRight,o=this.privateEngine.get(this).signinFirstName;n.classList.add("node-invisible"),t.classList.remove("registration-view"),t.classList.remove("registration-view-variant"),n.classList.remove("registration-view-left"),e.classList.remove("node-invisible"),r&&r.classList.remove("registration-view-right"),o.focus()}},{key:"configureSocialIcons",value:function(){this._applySocialIconStyling_()}},{key:"_applySocialIconStyling_",value:function(){var e=document.getElementById("signin-social-buttons-variant"),t=document.getElementById("registration-social-buttons-variant"),n=document.getElementById("field--wrapper--top"),r=document.getElementById("button-sign-in"),o=document.getElementById("modal-container");["signin-separator--variant","verification-signin-variant","register-separator--variant","promo-interest-caption-variant","verification-registration-variant"].forEach(function(e){e=document.getElementById(e);e&&e.classList.remove("node-invisible")}),e&&e.classList.remove("node-social-seti-invisible"),t&&t.classList.remove("node-social-seti-invisible"),n&&n.classList.add("field--wrapper--top-variant"),r&&r.classList.add("register__form-sign-in-button--variant"),o&&o.classList.add("register-full__container-variant")}}],[{key:"toggleRegistrationModal",value:function(){var e=document.getElementById("sign-in-modal-view-left"),t=document.getElementById("modal-container"),n=document.getElementById("registration-form"),r=document.getElementById("sign-in-modal-view-right"),o=document.getElementById("registration-first-name");e.classList.add("node-invisible"),t.classList.add("registration-view"),t.classList.add("registration-view-variant"),n.classList.add("registration-view-left"),n.classList.remove("node-invisible"),r&&r.classList.add("registration-view-right"),o.focus()}},{key:"applyInlineStyles",value:function(){var e=document.body;e.style.overflow="hidden",e.style.height="100vh",s.applyAriaAttribute("true")}},{key:"removeInlineStyles",value:function(){var e=document.body;e.style.removeProperty("overflow"),e.style.removeProperty("height"),s.applyAriaAttribute("false")}},{key:"applyAriaAttribute",value:function(e){var t=document.getElementById("pcln-global-header").nextElementSibling;(t=t||document.getElementById("pcln-global-header").parentNode.nextElementSibling)&&t.setAttribute("aria-hidden",e)}}]),e=s;function s(){(0,o.default)(this,s),this.privateEngine=new r.default,this._generatePrivateEntities_()}n.default=e},{"babel-runtime/core-js/weak-map":93,"babel-runtime/helpers/classCallCheck":94,"babel-runtime/helpers/createClass":95}],18:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.showUserAvailable=void 0;var r=e("./browser-operations");n.showUserAvailable=function(){(0,r._hideEl)((0,r._getEl)("#sign-in-module__signedIn")),(0,r._hideEl)((0,r._getEl)("#sign-in-dd")),(0,r._showEl)((0,r._getEl)("#sign-out-dd"))}},{"./browser-operations":9}],19:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.postSignOutProcessing=n.showAnonymous=void 0;var r,o=e("./browser-operations"),i=e("../../../../common/metadata"),s=e("./sign-in-persistence-validator"),a=(r=s)&&r.__esModule?r:{default:r};n.showAnonymous=function(){(0,o._hideEl)((0,o._getEl)("#sign-in-module__signedIn")),(0,o._hideEl)((0,o._getEl)("#sign-in-module__userAvailable")),(0,o._showEl)((0,o._getEl)("#sign-in-module__anonymous")),(0,o._showEl)((0,o._getEl)("#sign-in-dd")),(0,o._hideEl)((0,o._getEl)("#sign-out-dd"));var e=(0,o._getEl)(".is-passive");e&&e.classList.remove("is-passive")},n.postSignOutProcessing=function(){var e,t,n;e=a.default.retrieveValidFirstName(),t=document.querySelector("#sign-in-module__user-name-signedIn"),e="string"==typeof e&&0<e.length?e:"Sign In",t&&(t.innerHTML=e),(0,o._hideEl)((0,o._getEl)("#sign-in-module__signedIn")),(0,o._hideEl)((0,o._getEl)("#sign-in-module__userAvailable")),(0,o._showEl)((0,o._getEl)("#sign-in-module__anonymous")),i.PERSONAL_CONTAINERS.forEach(function(e){e=(0,o._getEl)(e);e&&(e.innerText="")}),(n=(0,o._getEl)(".sign-in-group"))&&(n.classList.add("temp-disable"),setTimeout(function(){n.classList.remove("temp-disable")},1e3)),(0,o._showEl)((0,o._getEl)("#sign-in-add-on-container"))}},{"../../../../common/metadata":46,"./browser-operations":9,"./sign-in-persistence-validator":20}],20:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=a(e("babel-runtime/core-js/object/assign")),o=a(e("babel-runtime/helpers/classCallCheck")),i=a(e("babel-runtime/helpers/createClass")),s=a(e("../store/sticky-sign-in-data-store"));function a(e){return e&&e.__esModule?e:{default:e}}(0,i.default)(c,[{key:"retrieveSignInStatus",value:function(){return this.signedInPersistence}},{key:"retrievePassiveSignInStatus",value:function(){return this.signedInPersistence.isPassiveSignedIn}},{key:"retrieveNameValidStatus",value:function(){return this.signedInPersistence.nameStatus.isNameValid}},{key:"retrieveValidFirstName",value:function(){return this.signedInPersistence.nameStatus.name}},{key:"assignEmail",value:function(){var e=window.__PCLN_SI_PERSISTENCE__&&window.__PCLN_SI_PERSISTENCE__.decryptedEmailAddress?window.__PCLN_SI_PERSISTENCE__.decryptedEmailAddress:null,t=window.__PCLN_SI_PERSISTENCE__&&window.__PCLN_SI_PERSISTENCE__.emailAddress?window.__PCLN_SI_PERSISTENCE__.emailAddress:null;return e||t||""}}]),i=c;function c(){(0,o.default)(this,c);this.signedInPersistence=(0,r.default)({isUserSignedIn:!1,isPassiveSignedIn:!1,nameStatus:{isNameValid:!1,name:""}},{isUserSignedIn:s.default.isUserSignedIn},{isPassiveSignedIn:s.default.isPassiveSignedIn})}n.default=new i},{"../store/sticky-sign-in-data-store":28,"babel-runtime/core-js/object/assign":84,"babel-runtime/helpers/classCallCheck":94,"babel-runtime/helpers/createClass":95}],21:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=s(e("babel-runtime/helpers/classCallCheck")),o=s(e("babel-runtime/helpers/createClass")),i=s(e("../../../network/text-to-download-service"));function s(e){return e&&e.__esModule?e:{default:e}}(0,o.default)(a,[{key:"isKeyNumOrEnter",value:function(e,t){var n=t?new RegExp("\\d"):new RegExp("Enter","i");return void 0!==e.key?!!e.key.match(n):void 0!==e.code?!!e.code.match(n):e.which?this.checkCodeForNumOrEnter(e.which,t):e.keyCode?this.checkCodeForNumOrEnter(e.keyCode,t):e.charCode?this.checkCodeForNumOrEnter(e.charCode,t):void 0}},{key:"checkCodeForNumOrEnter",value:function(e,t){return t?48<=e&&e<=57:13===e}},{key:"allowDigitsOnly",value:function(e){this.isKeyNumOrEnter(e,!0)||this.isKeyNumOrEnter(e,!1)||e.preventDefault()}},{key:"toggleAbility",value:function(e){this.isErrorDisplayed&&!this.isKeyNumOrEnter(e,!1)&&(this.errorText.classList.add("hidden"),this.isErrorDisplayed=!1),10===e.target.value.length?(this.button.disabled=!1,this.button.classList.remove("global-footer__top-column__text-to-download__form__button--disabled")):(this.button.disabled=!0,this.button.classList.add("global-footer__top-column__text-to-download__form__button--disabled")),this.phone=e.target.value,this.numLength=e.target.value.length}},{key:"sendText",value:function(){i.default.sendText(this.phone,this.sendTextCallback.bind(this),this.sendTextErrorCallback.bind(this))}},{key:"sendTextCallback",value:function(e){e.messageSent?this.displayConfirmation():this.sendTextErrorCallback()}},{key:"displayConfirmation",value:function(){var e=this;this.button.classList.add("success"),this.input.classList.add("success"),this.button.classList.disabled=!0,this.errorText.classList.add("hidden"),setTimeout(function(){e.button.innerHTML='<i class="icon-utility-checkLight global-footer__top-column__text-to-download__form__button__icon"></i>Sent to Phone!',setTimeout(e.resetForm.bind(e),2e3)},950)}},{key:"resetForm",value:function(){this.button.classList.remove("success"),this.input.classList.remove("success"),this.button.classList.disabled=!1,this.input.value="",this.button.innerHTML="Send"}},{key:"sendTextErrorCallback",value:function(){this.errorText.classList.remove("hidden"),this.isErrorDisplayed=!0}}]),o=a;function a(){(0,r.default)(this,a),this.phone="",this.numLength=0,this.input=document.getElementById("text-to-download-input"),this.button=document.getElementById("text-to-download-btn"),this.errorText=document.getElementById("text-to-download-error"),this.isErrorDisplayed=!1}n.default=o},{"../../../network/text-to-download-service":42,"babel-runtime/helpers/classCallCheck":94,"babel-runtime/helpers/createClass":95}],22:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});function o(e,t,n){e&&e.addEventListener(t,n)}function r(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"click";e.hasOwnProperty(t)&&o(e[t],r,n)}n.configureSignInButton=function(e){e.hasOwnProperty("signInButton")&&o(e.signInButton,"click",e.authenticateUserCallback)},n.configureSignInAddOnFormButton=function(e){e.hasOwnProperty("signInAddonButton")&&o(e.signInAddonButton,"click",e.authenticateUserCallback)},n.configureGlobalModalSignInForm=function(e){e.hasOwnProperty("globalModalSignInForm")&&o(e.globalModalSignInForm,"submit",e.authenticateUserCallback)},n.configureCloseForm=function(e){e.hasOwnProperty("closeForm")&&o(e.closeForm,"click",e.closeModalCallback)},n.configureModalOuterArea=function(e){e.hasOwnProperty("modalOuterArea")&&o(e.modalOuterArea,"click",e.closeModalCallback)},n.configureRegisterInner=function(e){e.hasOwnProperty("registerInner")&&o(e.registerInner,"click",function(e){e.stopPropagation()})},n.configureSignOutButton=function(e){e.hasOwnProperty("signOutButton")&&o(e.signOutButton,"click",e.signoutUserCallback)},n.configureSocialSignInGoogle=function(e){e.hasOwnProperty("setiGoogle")&&o(e.setiGoogle,"click",e.googleAuthCallback),e.hasOwnProperty("stickyGoogle")&&o(e.stickyGoogle,"click",e.googleAuthCallback),e.hasOwnProperty("regViewSetiGoogle")&&o(e.regViewSetiGoogle,"click",e.googleAuthCallback)},n.configureSocialSignInFacebook=function(e){e.hasOwnProperty("setiFacebook")&&o(e.setiFacebook,"click",e.facebookAuthCallback),e.hasOwnProperty("stickyFacebook")&&o(e.stickyFacebook,"click",e.facebookAuthCallback),e.hasOwnProperty("regViewSetiFacebook")&&o(e.regViewSetiFacebook,"click",e.facebookAuthCallback)},n.configureSocialSignInApple=function(e){r(e,"setiApple",e.appleAuthCallback),r(e,"stickyApple",e.appleAuthCallback),r(e,"regViewSetiApple",e.appleAuthCallback)}},{}],23:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=l(e("babel-runtime/core-js/weak-map")),o=l(e("babel-runtime/helpers/classCallCheck")),i=l(e("babel-runtime/helpers/createClass")),s=l(e("@pcln/event-dispatcher")),a=e("../operations/browser-operations"),c=e("../../../../common/metadata");function l(e){return e&&e.__esModule?e:{default:e}}(0,i.default)(u,[{key:"validateSignInAttempt",value:function(){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;this._displayErrorMessage_(e,6-e)}},{key:"hideInvalidCountErrorMessage",value:function(){var e=this.privateStore.get(this).signinErrorMsg;e&&(0,a.updateElementVisibility)(e,a.nodeVisibility.invisible)}},{key:"_displayErrorMessage_",value:function(e,t){6===e&&window.location.replace("/global-web-components/account-locked?fpwc=1");var n=this.privateStore.get(this).signinErrorMsg,e=this.privateStore.get(this).signinErrorMsgLink;n.firstChild.data="Your log-in did not work. Try ",n.classList.add("font-size-14"),e.addEventListener(a.DOM_META_DATA.CLICK_EVENT,function(e){e.preventDefault(),s.default.pclnEventDispatcher.dispatch(c.EVENTS.MODAL_LAUNCH_FORGOT_PASSWORD_FORM_VISIBLE,{message:"Modal Forgot Password Successfully Opened From Sign-in error link"})}),(0,a.updateElementVisibility)(n,a.nodeVisibility.visible)}}]),i=u;function u(){(0,o.default)(this,u),this.privateStore=new r.default,this.privateStore.set(this,{signinErrorMsg:document.getElementById("signin-error-msg"),signinErrorMsgLink:document.getElementById("signin-error-msg-link")})}n.default=new i},{"../../../../common/metadata":46,"../operations/browser-operations":9,"@pcln/event-dispatcher":79,"babel-runtime/core-js/weak-map":93,"babel-runtime/helpers/classCallCheck":94,"babel-runtime/helpers/createClass":95}],24:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=l(e("babel-runtime/core-js/object/keys")),o=l(e("babel-runtime/helpers/classCallCheck")),i=l(e("babel-runtime/helpers/createClass")),s=l(e("../operations/modal-chamber")),a=e("../../../../common/metadata"),c=e("./helpers");function l(e){return e&&e.__esModule?e:{default:e}}(0,i.default)(u,null,[{key:"configureListeners",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};0===(0,r.default)(e).length||((0,c.configureSignInButton)(e),(0,c.configureSignInAddOnFormButton)(e),(0,c.configureGlobalModalSignInForm)(e),(0,c.configureCloseForm)(e),(0,c.configureModalOuterArea)(e),(0,c.configureRegisterInner)(e),(0,c.configureSignOutButton)(e),(0,c.configureSocialSignInGoogle)(e),(0,c.configureSocialSignInFacebook)(e),(0,c.configureSocialSignInApple)(e),e.hasOwnProperty("signInCalloutNotification")&&u.configureCallout(e.signInCalloutNotification,e.openModalCallback))}},{key:"configureCallout",value:function(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;t&&n&&(e=new s.default,t.addEventListener("click",function(){e.applySignInModalStyles()}),t.addEventListener("click",n))}},{key:"configureSignInByURLProtocol",value:function(){var e=a.NETWORK_METADATA.HTTPS_PROTOCOL;location.protocol===e&&u.configureListeners(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})}}]),i=u;function u(){(0,o.default)(this,u)}n.default=i},{"../../../../common/metadata":46,"../operations/modal-chamber":17,"./helpers":22,"babel-runtime/core-js/object/keys":88,"babel-runtime/helpers/classCallCheck":94,"babel-runtime/helpers/createClass":95}],25:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=i(e("babel-runtime/core-js/weak-map")),o=i(e("babel-runtime/helpers/classCallCheck"));function i(e){return e&&e.__esModule?e:{default:e}}(0,i(e("babel-runtime/helpers/createClass")).default)(s,[{key:"openChatWindow",value:function(e){e=document.getElementById(e);e&&e.click()}},{key:"rootElement",get:function(){return this.privateStore.get(this).accountLockedRoot}},{key:"clickToChatLink",get:function(){return this.privateStore.get(this).chatCenterLink}},{key:"goToHelpLink",get:function(){return this.privateStore.get(this).goToHelpLink}}]),e=s;function s(){(0,o.default)(this,s),this.privateStore=new r.default,this.privateStore.set(this,{accountLockedRoot:document.getElementById("account-locked-root"),chatCenterLink:document.getElementById("chat-center-link"),goToHelpLink:document.getElementById("go-to-help-link")})}n.default=new e},{"babel-runtime/core-js/weak-map":93,"babel-runtime/helpers/classCallCheck":94,"babel-runtime/helpers/createClass":95}],26:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=s(e("babel-runtime/helpers/classCallCheck")),o=s(e("babel-runtime/helpers/createClass")),i=e("../../../../common/metadata");function s(e){return e&&e.__esModule?e:{default:e}}(0,o.default)(a,[{key:"setNewPasswordResetInputField",value:function(){this._resetPasswordInputField_()}},{key:"setNewPasswordResetConfirmInputField",value:function(){this._resetConfirmPasswordInputField_()}},{key:"setNewPasswordResetEmailInputField",value:function(){this._resetEmailInputField_()}},{key:"setNewPasswordResetZipCreditInputField",value:function(){this._resetZipCreditInputField_()}},{key:"clearPasswordStrengthAndIndicator",value:function(){this._clearPasswordStrength_(),this._clearPasswordStrengthIndicator_()}},{key:"clearInputFields",value:function(){document.getElementById("set-a-new-password-user-validation-field").value=""}},{key:"detectPasswordStrength",value:function(){var e=document.getElementById("set-a-new-password-input"),t=document.getElementById("set-a-new-password-strength-wrapper"),n=document.getElementById("set-a-new-password-strength-indicator");if(0===e.value.length)return this._clearPasswordStrength_(),this._clearPasswordStrengthIndicator_(),void t.classList.remove("node-invisible");if(n.className="",e.value.length<6)return this._clearPasswordStrength_(),this._configurePoorPasswordStrength_(),void t.classList.remove("node-invisible");n=0;7<e.value.length&&(n+=1),e.value.match(/([a-z].*[A-Z])|([A-Z].*[a-z])/)&&(n+=1),e.value.match(/([a-zA-Z])/)&&e.value.match(/([0-9])/)&&(n+=1),e.value.match(/([!,%,&,@,#,$,^,*,?,_,~])/)&&(n+=1),e.value.match(/(.*[!,%,&,@,#,$,^,*,?,_,~].*[!,",%,&,@,#,$,^,*,?,_,~])/)&&(n+=1),n<2?this._configureWeakPasswordStrength_():2===n?this._configureGoodPasswordStrength_():this._configureStrongPasswordStrength_(),t.classList.remove("node-invisible")}},{key:"validatePassword",value:function(){var e=document.getElementById("set-a-new-password-input"),t=document.getElementById("set-a-new-password-error-icon"),n=document.getElementById("set-a-new-password-confirm-pw-input");return e.value<1?(this._clearPasswordStrength_(),this._clearPasswordStrengthIndicator_(),t.classList.remove("node-invisible"),e.placeholder="New Password",e.classList.add("set-a-new-password__placeholder--error"),!1):e.value!==n.value?(this._displayMismatchedPasswords_(),!1):(this._resetPasswordInputField_(),this._resetConfirmPasswordInputField_(),!0)}},{key:"validateConfirmPassword",value:function(){var e=document.getElementById("set-a-new-password-input"),t=document.getElementById("set-a-new-password-confirm-pw-input"),n=document.getElementById("set-a-new-password-confirm-error-icon");return t.value<1?(n.classList.remove("node-invisible"),t.classList.add("set-a-new-password__placeholder--error"),!1):e.value!==t.value?(this._displayMismatchedPasswords_(),!1):(this._resetPasswordInputField_(),this._resetConfirmPasswordInputField_(),!0)}},{key:"toggleSubmitBtnError",value:function(){var e=document.getElementById("set-a-new-password-submit-btn");e.classList.add("set-a-new-password__button--error"),e.innerHTML="Passwords Don't Match"}},{key:"togglePasswordRequirementsError",value:function(e){var t=document.getElementById("set-a-new-password-error-icon"),n=document.getElementById("set-a-new-password-input"),r=document.getElementById("set-a-new-password-submit-btn"),o=document.getElementById("set-a-new-password-error-message");this._clearPasswordStrength_(),this._clearPasswordStrengthIndicator_(),t.classList.remove("node-invisible"),n.classList.add("set-a-new-password__field--input-error"),r.classList.add("set-a-new-password__button--error"),r.innerHTML="Complete Form to Continue",o.innerHTML=e||"Password must be 8 characters long and\n                              contain number or special character.",o.classList.remove("node-invisible")}},{key:"validateZipOrCredit",value:function(){var e=document.getElementById("set-a-new-password-user-validation-field"),t=document.getElementById("set-a-new-password-zip-credit-error-icon"),n=void 0,r=void 0,o=void 0;return(n="Billing Zip Code"===document.getElementById("set-a-new-password-select-container").value)?r=!function(e){var t,n=i.REG_EX_RULES.ZIPCODE_VALIDATION,r=void 0;for(t in n)if(n[t].test(e)){r=!0;break}return!!r}(e.value.trim()):n||(o=!function(e){var t,n=i.REG_EX_RULES.CREDIT_CARD_VALIDATION,r=void 0;for(t in n)if(n[t].test(e)){r=!0;break}return!!r}(e.value.trim())),e.value<1?(t.classList.remove("node-invisible"),e.classList.add("set-a-new-password__placeholder--error"),!1):!(n&&r||!n&&o)||(t.classList.remove("node-invisible"),e.classList.add("set-a-new-password__field--input-error"),!1)}},{key:"_resetPasswordInputField_",value:function(){var e=document.getElementById("set-a-new-password-error-icon"),t=document.getElementById("set-a-new-password-input");e.classList.add("node-invisible"),t.placeholder="New Password",t.classList.remove("set-a-new-password__placeholder--error"),t.classList.remove("set-a-new-password__field--input-error")}},{key:"_clearPasswordStrength_",value:function(){var e=document.getElementById("set-a-new-password-strength-wrapper"),t=document.getElementById("set-a-new-password-strength-box-1"),n=document.getElementById("set-a-new-password-strength-box-2"),r=document.getElementById("set-a-new-password-strength-box-3"),o=document.getElementById("set-a-new-password-strength-box-4");e.classList.add("node-invisible"),t.classList.remove("set-a-new-password__field--password-strength-poor"),t.classList.remove("set-a-new-password__field--password-strength-weak"),t.classList.remove("set-a-new-password__field--password-strength-good"),t.classList.remove("set-a-new-password__field--password-strength-strong"),n.classList.remove("set-a-new-password__field--password-strength-weak"),n.classList.remove("set-a-new-password__field--password-strength-good"),n.classList.remove("set-a-new-password__field--password-strength-strong"),r.classList.remove("set-a-new-password__field--password-strength-good"),r.classList.remove("set-a-new-password__field--password-strength-strong"),o.classList.remove("set-a-new-password__field--password-strength-strong")}},{key:"_clearPasswordStrengthIndicator_",value:function(){var e=document.getElementById("set-a-new-password-strength-indicator");e.innerHTML="",e.className="",e.classList.add("node-invisible")}},{key:"_configurePoorPasswordStrength_",value:function(){var e=document.getElementById("set-a-new-password-strength-indicator"),t=document.getElementById("set-a-new-password-strength-box-1");this._clearPasswordStrength_(),t.classList.add("set-a-new-password__field--password-strength-poor"),e.classList.add("set-a-new-password__password-strength-indicator--poor"),e.innerHTML="POOR",e.classList.remove("node-invisible")}},{key:"_configureWeakPasswordStrength_",value:function(){var e=document.getElementById("set-a-new-password-strength-indicator"),t=document.getElementById("set-a-new-password-strength-box-1"),n=document.getElementById("set-a-new-password-strength-box-2");this._clearPasswordStrength_(),t.classList.add("set-a-new-password__field--password-strength-weak"),n.classList.add("set-a-new-password__field--password-strength-weak"),e.classList.add("set-a-new-password__password-strength-indicator--weak"),e.innerHTML="WEAK"}},{key:"_configureGoodPasswordStrength_",value:function(){var e=document.getElementById("set-a-new-password-strength-indicator"),t=document.getElementById("set-a-new-password-strength-box-1"),n=document.getElementById("set-a-new-password-strength-box-2"),r=document.getElementById("set-a-new-password-strength-box-3");this._clearPasswordStrength_(),t.classList.add("set-a-new-password__field--password-strength-good"),n.classList.add("set-a-new-password__field--password-strength-good"),r.classList.add("set-a-new-password__field--password-strength-good"),e.classList.add("set-a-new-password__password-strength-indicator--good"),e.innerHTML="GOOD"}},{key:"_configureStrongPasswordStrength_",value:function(){var e=document.getElementById("set-a-new-password-strength-indicator"),t=document.getElementById("set-a-new-password-strength-box-1"),n=document.getElementById("set-a-new-password-strength-box-2"),r=document.getElementById("set-a-new-password-strength-box-3"),o=document.getElementById("set-a-new-password-strength-box-4");this._clearPasswordStrength_(),t.classList.add("set-a-new-password__field--password-strength-strong"),n.classList.add("set-a-new-password__field--password-strength-strong"),r.classList.add("set-a-new-password__field--password-strength-strong"),o.classList.add("set-a-new-password__field--password-strength-strong"),e.classList.add("set-a-new-password__password-strength-indicator--strong"),e.innerHTML="STRONG"}},{key:"_displayMismatchedPasswords_",value:function(){var e=document.getElementById("set-a-new-password-confirm-error-icon"),t=document.getElementById("set-a-new-password-confirm-pw-input");e.classList.remove("node-invisible"),t.classList.add("set-a-new-password__field--input-error")}},{key:"_resetConfirmPasswordInputField_",value:function(){var e=document.getElementById("set-a-new-password-confirm-error-icon"),t=document.getElementById("set-a-new-password-confirm-pw-input");e.classList.add("node-invisible"),t.classList.remove("set-a-new-password__field--input-error"),t.classList.remove("set-a-new-password__placeholder--error")}},{key:"_resetEmailInputField_",value:function(){var e=document.getElementById("set-a-new-password-email-error-icon"),t=document.getElementById("set-a-new-password-email-input");e.classList.add("node-invisible"),t.classList.remove("set-a-new-password__field--input-error"),t.classList.remove("set-a-new-password__placeholder--error")}},{key:"_resetZipCreditInputField_",value:function(){var e=document.getElementById("set-a-new-password-zip-credit-error-icon"),t=document.getElementById("set-a-new-password-user-validation-field");e.classList.add("node-invisible"),t.classList.remove("set-a-new-password__field--input-error"),t.classList.remove("set-a-new-password__placeholder--error")}}],[{key:"resetSubmitButton",value:function(){var e=document.getElementById("set-a-new-password-submit-btn");e.classList.remove("set-a-new-password__button--error"),e.innerHTML="Set New Password"}},{key:"resetRequestLinkButton",value:function(){var e=document.getElementById("set-a-new-password-request-new-link-btn");e.classList.remove("set-a-new-password__button--error"),e.innerHTML="Request New Link"}},{key:"resetErrorMessage",value:function(){var e=document.getElementById("set-a-new-password-error-message");e.classList.add("node-invisible"),e.innerHTML=""}},{key:"validateEmail",value:function(){var e=document.getElementById("set-a-new-password-email-error-icon"),t=document.getElementById("set-a-new-password-email-input"),n=!i.REG_EX_RULES.EMAIL_FORMAT_VALIDATION.test(t.value.trim());return t.value<1?(e.classList.remove("node-invisible"),t.placeholder="Enter Email Address",t.classList.add("set-a-new-password__placeholder--error"),!1):!n||(e.classList.remove("node-invisible"),t.classList.add("set-a-new-password__field--input-error"),!1)}},{key:"toggledSetNewPasswordButtonError",value:function(){var e=document.getElementById("set-a-new-password-email-input"),t=document.getElementById("set-a-new-password-request-new-link-btn");t.classList.add("set-a-new-password__button--error"),t.innerHTML="Request New Link",e.value<1?t.innerHTML="Complete Form to Continue":t.innerHTML="Invalid Email Address"}},{key:"showRequestNewLinkForm",value:function(){var e=document.getElementById("set-a-new-password-error-message"),t=document.getElementById("set-a-new-password-validation-message"),n=document.getElementById("set-a-new-password-request-new-link-msg"),r=document.getElementById("set-a-new-password-form"),o=document.getElementById("request-new-link-form");r.classList.add("node-invisible"),e.classList.remove("node-invisible"),e.innerHTML="Your reset link has expired",t.classList.add("node-invisible"),n.classList.remove("node-invisible"),o.classList.remove("node-invisible")}},{key:"showVerificationDropdown",value:function(){var e=document.getElementById("set-a-new-password-verify-account-msg"),t=document.getElementById("set-a-new-password-dropdown"),n=document.getElementById("set-a-new-password-validation-input-wrapper"),r=document.getElementById("set-a-new-password-choose-pw-msg");e.classList.remove("node-invisible"),t.classList.remove("node-invisible"),n.classList.remove("node-invisible"),r.classList.remove("node-invisible")}},{key:"showEmailConfirmation",value:function(){var e=document.getElementById("static-forms-wrapper"),t=document.getElementById("set-a-new-password-email-confirmation");e.classList.add("node-invisible"),t.classList.remove("node-invisible")}},{key:"isZipOrCredit",value:function(){var e=document.getElementById("set-a-new-password-select-container"),t=document.getElementById("set-a-new-password-user-validation-field");"Billing Zip Code"===e.value?t.placeholder="Enter Billing Zip Code":t.placeholder="Enter Credit Card Number"}},{key:"toggleButtonDeath",value:function(){var e=document.getElementById("set-a-new-password-submit-btn"),t=document.getElementById("set-a-new-password-error-message");e.classList.add("set-a-new-password__button--death"),e.innerHTML="Try Again Later",t.classList.remove("node-invisible"),t.innerHTML="System Error. Your password reset could not be completed, please try again later."}},{key:"toggleMismatch",value:function(){var e=document.getElementById("set-a-new-password-user-validation-field"),t=document.getElementById("set-a-new-password-zip-credit-error-icon"),n=document.getElementById("set-a-new-password-submit-btn");t.classList.remove("node-invisible"),e.classList.add("set-a-new-password__placeholder--error"),e.classList.add("set-a-new-password__field--input-error"),n.classList.add("set-a-new-password__button--error")}}]),o=a;function a(){(0,r.default)(this,a)}n.default=o},{"../../../../common/metadata":46,"babel-runtime/helpers/classCallCheck":94,"babel-runtime/helpers/createClass":95}],27:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=i(e("babel-runtime/core-js/object/assign")),o=i(e("babel-runtime/helpers/classCallCheck"));function i(e){return e&&e.__esModule?e:{default:e}}(0,i(e("babel-runtime/helpers/createClass")).default)(s,[{key:"findUserPassword",value:function(){this.passwordDataStore=(0,r.default)(this.dataObject,{newPassword:0<arguments.length&&void 0!==arguments[0]?arguments[0]:null},{postalCode:1<arguments.length&&void 0!==arguments[1]?arguments[1]:null},{creditCardNum:2<arguments.length&&void 0!==arguments[2]?arguments[2]:null})}},{key:"emailTokenData",value:function(){return this.emailTokenData}},{key:"data",get:function(){return this.passwordDataStore}}],[{key:"findForgotPasswordEmailTokenData",value:function(){if(window.__PCLN_SI_PERSISTENCE__&&window.__PCLN_SI_PERSISTENCE__.forgotPasswordEmailTokenData)return window.__PCLN_SI_PERSISTENCE__&&window.__PCLN_SI_PERSISTENCE__.forgotPasswordEmailTokenData}}]),e=s;function s(){(0,o.default)(this,s);var e=s.findForgotPasswordEmailTokenData(),t={statusCode:e&&e.statusCode||null,exceptionCode:e&&e.exceptionCode||null,encryptedCustId:e&&e.token||null,newPassword:null,postalCode:null,creditCardNum:null};this.dataObject=t,this.emailTokenData=e}n.default=new e},{"babel-runtime/core-js/object/assign":84,"babel-runtime/helpers/classCallCheck":94,"babel-runtime/helpers/createClass":95}],28:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=a(e("babel-runtime/core-js/weak-map")),o=a(e("babel-runtime/helpers/classCallCheck")),i=a(e("babel-runtime/helpers/createClass")),s=a(e("crypto-js"));function a(e){return e&&e.__esModule?e:{default:e}}var c="global-web-component",i=((0,i.default)(l,[{key:"isUserSignedIn",get:function(){return this.privateStore.get(this).isUserSignedIn}},{key:"isPassiveSignedIn",get:function(){return this.privateStore.get(this).isPassiveSignedIn}},{key:"cachedFirstName",get:function(){var e;return this.validateStringEntry(this.cachedFirstNameValue)&&(e=s.default.AES.encrypt(this.cachedFirstNameValue,c),localStorage.setItem("gwc_first_name",e)),this.cachedFirstNameValue},set:function(e){this.validateStringEntry(e)&&(this.cachedFirstNameValue=e,e=s.default.AES.encrypt(e,c),localStorage.setItem("gwc_first_name",e))}},{key:"cachedEmailAddress",get:function(){var e;return this.validateStringEntry(this.cachedEmailAddressValue)&&(e=s.default.AES.encrypt(this.cachedEmailAddressValue,c),localStorage.setItem("gwc_email_address",e)),this.cachedEmailAddressValue},set:function(e){this.validateStringEntry(e)&&(this.cachedEmailAddressValue=e,e=s.default.AES.encrypt(e,c),localStorage.setItem("gwc_email_address",e))}}],[{key:"determineSignInStatus",value:function(){return window.__PCLN_SI_PERSISTENCE__&&window.__PCLN_SI_PERSISTENCE__.isUserSignedIn}},{key:"determinePassiveSignInStatus",value:function(){var e=window.__PCLN_SI_PERSISTENCE__&&window.__PCLN_SI_PERSISTENCE__.stickySignInData;return!(!e||e==={})&&(!1===e.signedIn&&!0===e.passiveSignIn)}}]),l);function l(){(0,o.default)(this,l),this.privateStore=new r.default,this.privateStore.set(this,{isUserSignedIn:l.determineSignInStatus(),isPassiveSignedIn:l.determinePassiveSignInStatus()}),this.validateStringEntry=function(e){return"string"==typeof e&&0<e.length};var t=localStorage.getItem("gwc_first_name");try{var e=s.default.AES.decrypt(t.toString(),c).toString(s.default.enc.Utf8);this.cachedFirstNameValue=e}catch(e){this.cachedFirstNameValue=t}t=localStorage.getItem("gwc_email_address");try{var n=s.default.AES.decrypt(t.toString(),c).toString(s.default.enc.Utf8);this.cachedEmailAddressValue=n}catch(e){this.cachedEmailAddressValue=t}}n.default=new i},{"babel-runtime/core-js/weak-map":93,"babel-runtime/helpers/classCallCheck":94,"babel-runtime/helpers/createClass":95,"crypto-js":235}],29:[function(e,t,n){"use strict";var r=a(e("babel-runtime/core-js/object/assign")),o=a(e("@pcln/event-dispatcher")),i=a(e("../../common/polyfills")),s=a(e("./header/header-client")),e=a(e("./common/events/global-events"));function a(e){return e&&e.__esModule?e:{default:e}}i.default.init(),(0,e.default)(),window.PCLN=window.PCLN||{},window.PCLN=(0,r.default)(window.PCLN,o.default,{HeaderClient:new s.default})},{"../../common/polyfills":48,"./common/events/global-events":6,"./header/header-client":30,"@pcln/event-dispatcher":79,"babel-runtime/core-js/object/assign":84}],30:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var s=q(e("babel-runtime/core-js/get-iterator")),a=q(e("babel-runtime/core-js/array/from")),c=q(e("babel-runtime/core-js/object/assign")),l=q(e("babel-runtime/helpers/classCallCheck")),r=q(e("babel-runtime/helpers/createClass")),u=q(e("@pcln/event-dispatcher")),i=q(e("../../network/registration-service")),d=q(e("../../network/reset-password-service")),f=q(e("../../network/sign-out-service")),h=q(e("../common/operations/text-to-download")),p=e("../../network/social-clients/google-client.js"),g=q(e("../../network/social-clients/facebook-client.js")),m=q(e("../../network/social-clients/apple-client.js")),_=q(e("../common/sign-in-client-validation/sign-in-https-police")),v=q(e("../common/analytics/sign-in-analytics")),y=q(e("../common/analytics/modal-analytics")),b=q(e("../common/analytics/static-page-analytics")),o=e("../common/analytics/analytic-operations"),w=q(e("../common/operations/sign-in-persistence-validator")),E=q(e("../common/operations/mobile-controller")),S=q(e("../common/operations/modal-chamber")),k=q(e("../common/operations/forgot-password")),I=q(e("../common/sign-in-client-validation/sign-In-attempt-validator")),C=q(e("../common/store/sticky-sign-in-data-store")),L=q(e("../../../common/utils/pcln-ab-testing")),A=e("../../../common/utils/site-path"),O=q(A),P=e("../../../common/utils/subscribe-email-checkbox"),T=q(e("../common/static-pages/set-a-new-password")),N=q(e("../common/store/forgot-password-data-store")),M=q(e("../common/static-pages/account-locked")),R=q(e("../common/external/user-interface-api")),B=q(e("../../../common/utils/current-path")),j=q(e("../../network/social-clients/google-one-tap")),D=e("../../../common/okta/okta-auth"),x=e("../../../common/utils/event-helpers"),U=q(x),F=e("../../../common/metadata"),G=e("../common/operations/browser-operations"),V=e("../common/operations/post-sign-out-processing"),H=e("../common/operations/passive-sign-in-processing"),z=e("../common/operations/authorization-processing");function q(e){return e&&e.__esModule?e:{default:e}}window.addEventListener("load",function(){var e,t=function(e,t){t=t||window.location.href,t=new RegExp("[?&]"+e+"=([^&#]*)","i").exec(t);return t?t[1].toLowerCase():null}("NEGOTIATORAPP");t&&"y"===t&&((t=document.getElementById("pcln-global-footer"))&&(t.style.display="none"),(0,A.isLoginPath)()?(e=document.getElementById("global-header"))&&(e.style.display="none"):(e=document.getElementById("pcln-global-header"))&&(e.style.display="none"))});(0,r.default)(W,[{key:"hideDropdown",value:function(e,t){e.style.cssText="visibility: hidden; opacity: 0;",t.style.cssText="border-bottom: 8px solid transparent;"}},{key:"headerMenuClick",value:function(e,t,n,r){var o=r.target;if(e.style||t.style){do{if(o===t)return""!==e.style.visibility&&"hidden"!==e.style.visibility?void this.hideDropdown(e,t):(e.style.cssText="visibility: visible; opacity: 1;",this.signInStatus.isUserSignedIn&&".sign-in-group"===n?t.style.cssText="border-bottom: 8px solid #FFFFFF;":this.signInStatus.isUserSignedIn||".sign-in-group"!==n||this.hideDropdown(e,t),void(".sign-in-group"!==n&&(t.style.cssText="border-bottom: 8px solid #f2f2f2;")))}while(o=o.parentNode);this.hideDropdown(e,t)}}},{key:"toggleAriaExpanded",value:function(e){var t;e.hasAttribute("aria-expanded")&&(t="true"===e.getAttribute("aria-expanded"),e.setAttribute("aria-expanded",!t))}},{key:"attachListeners",value:function(){for(var n=this,e=[{selector:".sign-in-group",dropdown:"#sign-in-dd"},{selector:".sign-in-group",dropdown:"#sign-out-dd"},{selector:".my-trips-group",dropdown:"#my-trips-dd"},{selector:".help-group",dropdown:"#help-dd"},{selector:".default-currency-d-mc",dropdown:"#mc-dd"},{selector:"#language-module",dropdown:"#lang-dd"}],t=0;t<e.length;t++){var r=document.querySelector(e[t].selector),o=document.querySelector(e[t].dropdown);o&&o.style&&r&&r.style&&(this.hideDropdown(o,r),document.addEventListener("click",this.headerMenuClick.bind(this,o,r,e[t].selector)))}var i={signInCalloutNotification:this.signInCalloutMenu,signInButton:this.signInButton,globalModalSignInForm:this.globalModalSignInForm,closeForm:this.closeForm,modalOuterArea:this.modalOuterArea,registerInner:this.registerInner,signOutButton:this.signOutButton,setiGoogle:this.setiGoogle,setiFacebook:this.setiFacebook,stickyGoogle:this.stickyGoogle,stickyFacebook:this.stickyFacebook,regViewSetiGoogle:this.regViewSetiGoogle,regViewSetiFacebook:this.regViewSetiFacebook,openModalCallback:this.openModal.bind(this),authenticateUserCallback:z.authorizationProcessingSingleton.authenticateUser.bind(this),closeModalCallback:this.closeModal.bind(this),signoutUserCallback:this.signOutUser.bind(this),googleAuthCallback:z.authorizationProcessingSingleton.googleAuth.bind(this),facebookAuthCallback:z.authorizationProcessingSingleton.facebookAuth.bind(this),setiApple:this.setiApple,stickyApple:this.stickyApple,regViewSetiApple:this.regViewSetiApple,appleAuthCallback:z.authorizationProcessingSingleton.appleAuth.bind(this)};_.default.configureSignInByURLProtocol(i),E.default.configureMobileMenu(),this.configureRegistration(),this.configureForgotPassword(),this.generateMultiCurrencies(),this.generateLanguages(),this.configureSetNewPassword(),this.configureAccountLocked(),this.configureHelpDropdownPasswordHelp(),this.configureTextToDownload(),this.configurePromoBanners(),this.configureSignInDropdown(),this.configureDemoPage(),this.signInDropdown&&this.signInDropdown.addEventListener("click",v.default.trackSignInDropdownButton),this.passiveSignOutLink&&this.passiveSignOutLink.addEventListener("click",this.signOutUser.bind(this)),this.signInButton&&this.signInButton.addEventListener("click",function(){var e=n.rememberMe.checked;return v.default.trackRememberEmailChoice({isRememberingEmail:e})});for(var s=[this.signInNavButton,this.myTripsNavButton,this.helpNavButton,this.multiCurrencyNavButton,this.languageNavButton],a=0;a<s.length;a++)!function(e){var t=s[e];t&&t.addEventListener("click",function(){"in-path-sign-in-out-click"===t.id&&n.displaySignInVIPModalViewRightImage(),n.toggleAriaExpanded(t)})}(a)}},{key:"displaySignInVIPModalViewRightImage",value:function(){this.vipModalRight&&(this.vipModalRight.classList.remove("signup"),this.vipModalRight.classList.add("signin"))}},{key:"displaySignUpVIPModalViewRightImage",value:function(){this.vipModalRight&&(this.vipModalRight.classList.remove("signin"),this.vipModalRight.classList.add("signup"))}},{key:"configureRegistration",value:function(){var t=this;this.registrationLinkSetiVariant&&(this.registrationLinkSetiVariant.addEventListener("click",function(e){t.displaySignUpVIPModalViewRightImage(),(0,x.preventDefault)(e),S.default.toggleRegistrationModal()}),this.signinLinkSetiVariant.addEventListener("click",function(){t.displaySignInVIPModalViewRightImage(),t.modalChamber.toggleSignInModal()}),this.registrationFirstName.addEventListener("focus",function(){t._resetRegistrationFirstName_(),t._resetRegistrationSubmitButton_()}),this.registrationFirstName.addEventListener("blur",function(){t._validateRegistrationFirstName_()}),this.registrationLastName.addEventListener("focus",function(){t._resetRegistrationLastName_(),t._resetRegistrationSubmitButton_()}),this.registrationLastName.addEventListener("blur",function(){t._validateRegistrationLastName_()}),this.registrationEmail.addEventListener("focus",function(){t._resetRegistrationEmail_(),t._resetRegistrationSubmitButton_()}),this.registrationEmail.addEventListener("blur",function(){t._validateRegistrationEmail_()}),this.registrationPassword.addEventListener("focus",function(){t._resetRegistrationPassword_(),t._resetRegistrationSubmitButton_(),t.isRegistrationPasswordInitialFocus?t.isRegistrationPasswordInitialFocus=!1:t._detectPasswordStrength_()}),this.registrationPassword.addEventListener("keyup",function(){t._detectPasswordStrength_()}),this.registrationPassword.addEventListener("blur",function(){t._validateRegistrationPassword_()}),this.registrationConfirmPassword.addEventListener("focus",function(){t._resetRegistrationConfirmPassword_(),t._resetRegistrationSubmitButton_()}),this.registrationConfirmPassword.addEventListener("blur",function(){t._validateRegistrationConfirmPassword_()}),this.registrationSubmitButton.addEventListener("click",this.registerUser.bind(this)),this.registrationSubmitButton.addEventListener("click",function(){var e=t.registrationPromoInterest.checked;return y.default.trackRegistrationPromoInterest({isChecked:e})}))}},{key:"configureForgotPassword",value:function(){var t=this;this.modalForgotPasswordLink&&(this.modalForgotPasswordLink.addEventListener("click",function(e){(0,x.preventDefault)(e),t.displaySignInVIPModalViewRightImage(),t.forgotPasswordObj.configureForgotPasswordPath(),y.default.trackForgotPasswordClick()}),this.modalForgotPasswordSignInLink.addEventListener("click",function(){t.boundCloseModal()}),this.forgotPasswordEmailConfirmDoneButton&&this.forgotPasswordEmailConfirmDoneButton.addEventListener("click",function(){t.boundCloseModal()}),this.forgotPasswordEmail.addEventListener("focus",function(){k.default.resetForgotPasswordEmail(),k.default.resetForgotPasswordSubmitButton()}),this.forgotPasswordEmail.addEventListener("blur",function(){k.default.validateForgotPasswordEmail()}),this.forgotPasswordSubmitButton.addEventListener("click",this.forgotPasswordObj._sendForgotPasswordLink_.bind(this)))}},{key:"configureSetNewPassword",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.emailTokenData;this.setNewPasswordRoot&&t&&(b.default.trackSetNewPasswordPageLoad(),T.default.resetErrorMessage(),200===t.statusCode&&-113===t.exceptionCode?(T.default.showRequestNewLinkForm(),this.setNewPasswordEmailInput.addEventListener("click",function(){e.setNewPasswordObj.setNewPasswordResetEmailInputField(),T.default.resetRequestLinkButton()}),this.setNewPasswordEmailInput.addEventListener("blur",function(){T.default.validateEmail()}),this.setNewPasswordRequestNewLinkBtn.addEventListener("click",this.forgotPasswordObj._sendForgotPasswordLink_.bind(this))):200===t.statusCode&&0===t.exceptionCode?(t.verificationReqd&&(T.default.showVerificationDropdown(),this.setNewPasswordSelectContainer.addEventListener("change",function(){e.setNewPasswordObj.setNewPasswordResetZipCreditInputField(),T.default.isZipOrCredit(),e.setNewPasswordObj.setNewPasswordResetInputField(),e.setNewPasswordObj.setNewPasswordResetConfirmInputField(),T.default.resetSubmitButton(),e.setNewPasswordObj.clearInputFields()}),this.setNewPasswordUserValidationField.addEventListener("focus",function(){e.setNewPasswordObj.setNewPasswordResetZipCreditInputField(),T.default.resetSubmitButton()}),this.setNewPasswordUserValidationField.addEventListener("blur",function(){e.setNewPasswordObj.validateZipOrCredit()})),this.setNewPasswordInput.addEventListener("focus",function(){e.setNewPasswordObj.setNewPasswordResetInputField(),T.default.resetSubmitButton(),e.isSetNewPasswordInitialFocus?e.isSetNewPasswordInitialFocus=!1:e.setNewPasswordObj.detectPasswordStrength()}),this.setNewPasswordInput.addEventListener("keyup",function(){e.setNewPasswordObj.detectPasswordStrength()}),this.setNewPasswordInput.addEventListener("blur",function(){e.setNewPasswordObj.validatePassword()}),this.setNewPasswordConfirmPasswordInput.addEventListener("focus",function(){e.setNewPasswordObj.setNewPasswordResetConfirmInputField(),T.default.resetSubmitButton()}),this.setNewPasswordConfirmPasswordInput.addEventListener("blur",function(){e.setNewPasswordObj.validateConfirmPassword()}),this.setNewPasswordSubmitButton.addEventListener("click",this.setNewUserPassword.bind(this))):(console.warn("exception thrown"),window.location.href="/"))}},{key:"configureAccountLocked",value:function(){var e=M.default.rootElement,t=M.default.clickToChatLink,n=M.default.goToHelpLink;e&&(b.default.trackAccountLockedPageLoad(),t.addEventListener("click",function(){M.default.openChatWindow("lp-gwc-account-locked-embedded-placeholder"),b.default.trackClickToChat()}),n.addEventListener("click",function(){b.default.trackClickToHelpCenter(),window.location.href="/help/"}))}},{key:"configureTextToDownload",value:function(){var t=this;this.textToDownloadInput&&this.textToDownloadButton&&(this.textToDownloadInput.addEventListener("keypress",function(e){t.textToDownloadObj.allowDigitsOnly(e)}),this.textToDownloadInput.addEventListener("keyup",function(e){t.textToDownloadObj.toggleAbility(e)}),this.textToDownloadInput.addEventListener("focus",function(e){t.textToDownloadObj.toggleAbility(e)}),this.textToDownloadButton.addEventListener("click",function(){t.textToDownloadObj.sendText()}))}},{key:"configureDemoPage",value:function(){var e=this,t=document.getElementById("display-registration-demo");t&&t.addEventListener("click",function(){e.displaySignUpVIPModalViewRightImage(),u.default.pclnEventDispatcher.dispatch("GLOBAL_PCLN_LAUNCH_REGISTRATION_MODAL")})}},{key:"_clearPasswordStrength_",value:function(){this.registrationPasswordStrength.classList.add("node-invisble"),this.registrationPasswordStrengthBox1.classList.remove("registration-form-body-password-strength-poor"),this.registrationPasswordStrengthBox1.classList.remove("registration-form-body-password-strength-weak"),this.registrationPasswordStrengthBox1.classList.remove("registration-form-body-password-strength-good"),this.registrationPasswordStrengthBox1.classList.remove("registration-form-body-password-strength-strong"),this.registrationPasswordStrengthBox2.classList.remove("registration-form-body-password-strength-weak"),this.registrationPasswordStrengthBox2.classList.remove("registration-form-body-password-strength-good"),this.registrationPasswordStrengthBox2.classList.remove("registration-form-body-password-strength-strong"),this.registrationPasswordStrengthBox3.classList.remove("registration-form-body-password-strength-good"),this.registrationPasswordStrengthBox3.classList.remove("registration-form-body-password-strength-strong"),this.registrationPasswordStrengthBox4.classList.remove("registration-form-body-password-strength-strong")}},{key:"_clearPasswordStrengthIndicator_",value:function(){this.registrationPasswordStrengthIndicator.innerHTML="",this.registrationPasswordStrengthIndicator.className="",this.registrationPasswordStrengthIndicator.classList.add("node-invisible"),this.registrationConfirmPasswordError.classList.remove("registration-form-body-field-error-icon-w-extra-top-margin")}},{key:"_configurePoorPasswordStrength_",value:function(){this._clearPasswordStrength_(),this.registrationPasswordStrengthBox1.classList.add("registration-form-body-password-strength-poor"),this.registrationPasswordStrengthIndicator.classList.add("registration-form-body-password-strength-indicator-poor"),this.registrationPasswordStrengthIndicator.innerHTML="POOR",this.registrationPasswordStrengthIndicator.classList.remove("node-invisible"),this.registrationConfirmPasswordError.classList.add("registration-form-body-field-error-icon-w-extra-top-margin")}},{key:"_configureWeakPasswordStrength_",value:function(){this._clearPasswordStrength_(),this.registrationPasswordStrengthBox1.classList.add("registration-form-body-password-strength-weak"),this.registrationPasswordStrengthBox2.classList.add("registration-form-body-password-strength-weak"),this.registrationPasswordStrengthIndicator.classList.add("registration-form-body-password-strength-indicator-weak"),this.registrationPasswordStrengthIndicator.innerHTML="WEAK"}},{key:"_configureGoodPasswordStrength_",value:function(){this._clearPasswordStrength_(),this.registrationPasswordStrengthBox1.classList.add("registration-form-body-password-strength-good"),this.registrationPasswordStrengthBox2.classList.add("registration-form-body-password-strength-good"),this.registrationPasswordStrengthBox3.classList.add("registration-form-body-password-strength-good"),this.registrationPasswordStrengthIndicator.classList.add("registration-form-body-password-strength-indicator-good"),this.registrationPasswordStrengthIndicator.innerHTML="GOOD"}},{key:"_configureStrongPasswordStrength_",value:function(){this._clearPasswordStrength_(),this.registrationPasswordStrengthBox1.classList.add("registration-form-body-password-strength-strong"),this.registrationPasswordStrengthBox2.classList.add("registration-form-body-password-strength-strong"),this.registrationPasswordStrengthBox3.classList.add("registration-form-body-password-strength-strong"),this.registrationPasswordStrengthBox4.classList.add("registration-form-body-password-strength-strong"),this.registrationPasswordStrengthIndicator.classList.add("registration-form-body-password-strength-indicator-strong"),this.registrationPasswordStrengthIndicator.innerHTML="STRONG"}},{key:"_detectPasswordStrength_",value:function(){if(0===this.registrationPassword.value.length)return this._clearPasswordStrength_(),this._clearPasswordStrengthIndicator_(),void this.registrationPasswordStrength.classList.remove("node-invisible");if(this.registrationPasswordStrengthIndicator.className="",this.registrationPassword.value.length<6)return this._clearPasswordStrength_(),this._configurePoorPasswordStrength_(),void this.registrationPasswordStrength.classList.remove("node-invisible");var e=0;7<this.registrationPassword.value.length&&(e+=1),this.registrationPassword.value.match(/([a-z].*[A-Z])|([A-Z].*[a-z])/)&&(e+=1),this.registrationPassword.value.match(/([a-zA-Z])/)&&this.registrationPassword.value.match(/([0-9])/)&&(e+=1),this.registrationPassword.value.match(/([!,%,&,@,#,$,^,*,?,_,~])/)&&(e+=1),this.registrationPassword.value.match(/(.*[!,%,&,@,#,$,^,*,?,_,~].*[!,",%,&,@,#,$,^,*,?,_,~])/)&&(e+=1),e<2?this._configureWeakPasswordStrength_():2===e?this._configureGoodPasswordStrength_():this._configureStrongPasswordStrength_(),0<this.registrationPasswordStrengthIndicator.innerHTML.length&&this.registrationConfirmPasswordError.classList.add("registration-form-body-field-error-icon-w-extra-top-margin"),this.registrationPasswordStrength.classList.remove("node-invisible")}},{key:"generateMultiCurrencies",value:function(){var e=(0,a.default)(this.multiCurrencySelectors),t=!0,n=!1,r=void 0;try{for(var o,i=(0,s.default)(e);!(t=(o=i.next()).done);t=!0)!function(t){t.addEventListener(G.DOM_META_DATA.CLICK_EVENT,function(e){(0,x.preventDefault)(e);e=t.getAttribute("id").replace("cc-","");u.default.pclnEventDispatcher.dispatch(F.EVENTS.CURRENCY,{currencyCode:e})})}(o.value)}catch(e){n=!0,r=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw r}}}},{key:"generateLanguages",value:function(){var e=(0,a.default)(this.languageSelectors),t=!0,n=!1,r=void 0;try{for(var o,i=(0,s.default)(e);!(t=(o=i.next()).done);t=!0)!function(t){t.addEventListener(G.DOM_META_DATA.CLICK_EVENT,function(e){(0,x.preventDefault)(e);e=t.getAttribute("id").replace("lang-","");u.default.pclnEventDispatcher.dispatch(F.EVENTS.LANGUAGE,{locale:e})})}(o.value)}catch(e){n=!0,r=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw r}}}},{key:"configureHelpDropdownPasswordHelp",value:function(){var t=this;this.helpDropdownPasswordHelp&&this.helpDropdownPasswordHelp.addEventListener("click",function(e){(0,x.preventDefault)(e),u.default.pclnEventDispatcher.dispatch(F.EVENTS.MODAL_LAUNCH_FORGOT_PASSWORD_FORM_VISIBLE,{message:"Header Modal has been launched with Forgot Password View"}),t.forgotPasswordObj.configureForgotPasswordPath(),y.default.trackForgotPasswordHelpDropdownClick()})}},{key:"configureSignInDropdown",value:function(){var e,t=this;this.signInDropdown&&(e=new S.default,this.signInDropdown&&this.signInStatus.isUserSignedIn?(this.signInDropdown.removeEventListener("click",this.boundOpenModal),this.isMobile&&(t.signOutMenu.classList.add("node-invisible"),t.signInDropdown.addEventListener("click",t.redirectToProfile))):(this.signInDropdown.addEventListener("click",function(){e.applySignInModalStyles()}),this.signInDropdown.addEventListener("click",this.boundOpenModal)))}},{key:"disableSignInDropdown",value:function(){this.signInDropdown&&this.signInDropdown.addEventListener("click",this.boundOpenModal),this.isMobile&&this.signInDropdown.removeEventListener("click",this.redirectToProfile)}},{key:"redirectToProfile",value:function(){window.location.href="/next-profile/profile"}},{key:"isPromoExpired",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=e.length<1;if("string"!=typeof e||t)return!1;t=new Date;return new Date(e.replace("-T-"," "))<=t}},{key:"configurePromoBanners",value:function(){var e=L.default.isVariant("HP_WEATHER_ADVISORY","WEATHER_ADVISORY");this.globalPromoBanner&&this.configureMarketingPromoBanner(this.globalPromoBanner,this.globalPromoBannerToolTip),e&&(this.configureWeatherAlertBanner(),this.calcTotalBannersPaddingTop())}},{key:"calcTotalBannersPaddingTop",value:function(){var e=document.querySelector("#exp-hdr"),t=document.querySelector("#pcln-global-header");e&&t&&"fixed"===window.getComputedStyle(t,null).position&&((e=e.nextElementSibling)&&window.matchMedia("(min-width: 601px)").matches&&(t=window.getComputedStyle(t,null).height,t=parseInt(t)-60,e.style.paddingTop=t+"px"))}},{key:"addPromoBannerEventListener",value:function(e,t){e===this.globalPromoBanner?e.addEventListener("click",function(e){e.target&&"more-info-toggle"!==e.target.id&&b.default.trackMarketingPromoBannerClick(t)}):e===this.globalPromoBannerToolTip&&e.addEventListener("click",function(e){e=e.target&&"moreInfoLink"===e.target.id;e&&b.default.trackMarketingPromoBannerClick(t,e)})}},{key:"configureMarketingPromoBanner",value:function(e,t){var n=e.dataset;b.default.trackMarketingPromoBannerDisplay(n),this.addPromoBannerEventListener(e,n),t&&this.addPromoBannerEventListener(t,n)}},{key:"configureWeatherAlertBanner",value:function(){(0,O.default)()&&(b.default.trackPromoBannerDisplay("Y"),(0,G.updateElementVisibility)(this.weatherAlert,G.nodeVisibility.visible))}},{key:"closeOkta",value:function(){var e=this;this.oktaContainer.classList.remove("okta-show"),this.bodyEl.removeEventListener("click",this.boundCloseOkta),this.oktaInnards.removeEventListener("click",U.default),this.oktaCloseButton.removeEventListener("click",this.boundCloseOkta),setTimeout(function(){e.oktaContainer.classList.remove("okta-load")},200)}},{key:"openModal",value:function(e){var n=this;if((0,x.preventDefault)(e),this.useOkta)return(0,D.openOkta)();this._resetValidationStyles_(),(0,G.updateElementVisibility)(this.modalContainer,G.nodeVisibility.visible),S.default.applyInlineStyles(),setTimeout(function(){n.modalContainer.classList.add("fade-in")},0),this.closeForm.focus(),this.userName.value=this.userEmail,setTimeout(function(){var e,t;n.bodyEl.addEventListener("click",n.boundCloseModal),n.bodyEl.addEventListener("touchend",n.boundCloseModal),[n.registrationClosingGroup,n.forgotPasswordClosingGroup,n.forgotPasswordConfirmationClosingGroup].forEach(function(e){e.addEventListener("click",n.boundCloseModal)}),document.getElementById("global-navigation-modal")&&(e=document.getElementById("registration-form"),t=document.getElementById("forgot-password"),document.getElementById("sign-in-modal-view-left").classList.contains("node-invisible")||n.displaySignInVIPModalViewRightImage(),e.classList.contains("node-invisible")||n.displaySignUpVIPModalViewRightImage(),t.classList.contains("node-invisible")||n.displaySignInVIPModalViewRightImage()),n.modalOuterArea.addEventListener("touchend",U.default)},1)}},{key:"closeModal",value:function(){var t=this;this.modalContainer.classList.remove("fade-in"),setTimeout(function(){t.modalContainer.classList.add("node-invisible"),t._resetValidationStyles_(),t.registrationForm.classList.add("node-invisible"),t.forgotPassword.classList.add("node-invisible"),t.registerInner.classList.remove("registration-view"),t.registerInner.classList.remove("registration-view-variant"),t.signInForm.classList.remove("node-invisible"),S.default.removeInlineStyles(),document.activeElement.blur(),u.default.pclnEventDispatcher.dispatch(F.EVENTS.MODAL_CLOSED,{message:"Modal Successfully Closed"}),u.default.pclnEventDispatcher.dispatch(F.EVENTS.FORGOT_PASSWORD_EMAIL_CONFIRMATION_INVISIBLE,{message:"Forgot Password View Has Been Set To Invisible"}),y.default.trackModalClosing()},201),this.bodyEl.removeEventListener("click",this.boundCloseModal),this.bodyEl.removeEventListener("touchend",this.boundCloseModal),[this.registrationClosingGroup,this.forgotPasswordClosingGroup,this.forgotPasswordConfirmationClosingGroup].forEach(function(e){e.removeEventListener("click",t.boundCloseModal)}),this.modalOuterArea.removeEventListener("touchend",U.default),I.default.hideInvalidCountErrorMessage()}},{key:"renderInputError",value:function(e,t,n){t.firstElementChild.innerText=n,t.classList.remove("node-invisible"),e.classList.add("inline-error")}},{key:"renderInvalidAuthError",value:function(){var e="Invalid email or password";this.renderInputError(this.userName,this.userNameTooltip,e),this.renderInputError(this.password,this.passwordTooltip,e),this.signInErrorMessage.focus()}},{key:"isValuePresent",value:function(e){return!!e.value}},{key:"isEmailFormatValid",value:function(e){return F.FORM_VALIDATIONS.username.regex.test(e.value)}},{key:"isEmailValid",value:function(e,t){var n=this.isValuePresent(e),r=this.isEmailFormatValid(e);return n?r||this.renderInputError(e,t,"Invalid email address"):this.renderInputError(e,t,"Email can't be blank"),n&&r}},{key:"isPasswordValid",value:function(e,t){var n=this.isValuePresent(e);return n||this.renderInputError(e,t,"Password can't be blank"),n}},{key:"setSignInErrorFocus",value:function(e,t){(e||t)&&e?t||this.password.focus():this.userName.focus()}},{key:"isUserValid",value:function(){this._resetValidationStyles_();var e=this.isEmailValid(this.userName,this.userNameTooltip),t=this.isPasswordValid(this.password,this.passwordTooltip);return this.setSignInErrorFocus(e,t),e&&t}},{key:"_resetValidationStyles_",value:function(){var e=!!this.emailErrorIcon&&!this.emailErrorIcon.classList.contains("node-invisible"),t=!!this.passwordErrorIcon&&!this.passwordErrorIcon.classList.contains("node-invisible"),n=!!this.userName&&this.userName.classList.contains("inline-error"),r=!!this.password&&this.password.classList.contains("inline-error");e&&this.emailErrorIcon.classList.add("node-invisible"),t&&this.passwordErrorIcon.classList.add("node-invisible"),n&&(this.userName.classList.remove("inline-error"),this.userNameTooltip.classList.add("node-invisible"),this.userNameTooltipMessage.innerText=""),r&&(this.password.classList.remove("inline-error"),this.passwordTooltip.classList.add("node-invisible"),this.passwordTooltipMessage.innerText=""),this.signInButton&&(this.signInButton.innerText="Sign In",this.signInButton.classList.remove("register__form-sign-in-button-error"))}},{key:"authComplete",value:function(e){if(this.enableSignInButton(),0!==e.exceptionCode){switch(e.exceptionCode&&(n=e.exceptionCode+": "+(e.exception||"[N/A]"),v.default.trackFailedSignIn(this.type,n)),e.exceptionCode){case-103:I.default.validateSignInAttempt(this,e.invalidResponseCount),this.renderInvalidAuthError();break;case-104:window.location.href="/global-web-components/account-locked?fpwc=1",this.renderInvalidAuthError();break;case-800:k.default.toggleForgotPasswordModal();break;default:this.renderInvalidAuthError()}v.default.trackSignInButtonState({isValid:!1})}else{var t,n;e.customer&&(v.default.trackSuccessfulSignIn(this.type),"GOOGOT"===e.customer.authProvider&&(0,o.fireEventTracking)({category:"Google_One_Tap_Signin",action:"Successful Sign In",label:"Y"}),this.firstName=e.customer.firstName,t=!!this.nameContainer,n=!!this.signOutGreeting,"string"==typeof this.firstName&&0<this.firstName.length?(t&&(this.nameContainer.innerText=(this.isMobile?"":"Hi, ")+this.firstName),n&&(this.signOutGreeting.innerText="Hi, "+this.firstName),this.navMenuSignOutGreeting&&(this.navMenuSignOutGreeting.innerText="Hi, "+this.firstName),C.default.cachedFirstName=this.firstName):(t&&(this.nameContainer.innerText=this.greeting.navNoName),n&&(this.signOutGreeting.innerText=this.greeting.noName),this.navMenuSignOutGreeting&&(this.navMenuSignOutGreeting.innerText=this.greeting.navNoName)),this.emailAddress=e.customer.emailAddress,"string"==typeof this.emailAddress&&0<this.emailAddress.length&&(this.emailAddressInSignOutMenu&&(this.emailAddressInSignOutMenu.innerText=e.customer.emailAddress),C.default.cachedEmailAddress=this.emailAddress),this.authToken=e.customer.authtoken,this.isSafeToUseSessionStorage&&this.authToken&&sessionStorage.setItem("authToken",this.authToken),this.rememberMe.checked?this.userEmail=this.userName.value:this.userEmail="",z.AuthorizationProcessing.postSignInUIOperations(),(0,G.triggerPageReload)()),u.default.pclnEventDispatcher.dispatch(F.EVENTS.SIGN_IN,e.customer),v.default.trackSignInButtonState({isValid:!0}),this.closeModal(),this.userName.value="",this.password.value="",E.default.hideSignInOption(),E.default.showSignOutOption(this.firstName)}this.postSignInConfiguration()}},{key:"postSignInConfiguration",value:function(){this.isMobile&&(this.signOutMenu.classList.add("node-invisible"),this.signInDropdown.addEventListener("click",this.redirectToProfile)),this.configureSignInDropdown()}},{key:"disableSignInButton",value:function(){this.signInButton.innerText="Signing In...",this.signInButton.classList.add("inactive")}},{key:"enableSignInButton",value:function(){this.signInButton.innerText="Sign In",this.signInButton.classList.remove("inactive")}},{key:"handleOpsAfterSignOutServiceResponse",value:function(e){this.isSafeToUseSessionStorage&&sessionStorage.removeItem("authToken"),this.userNameSignInAddOn&&(this.userNameSignInAddOn.value=this.userEmail),(0,V.postSignOutProcessing)(),this.isSafeToUseSessionStorage&&sessionStorage.setItem("isRegisteredUserFirstLoad",""),this.setSignOutMessage("Sign out"),clearInterval(this.signOutInterval),E.default.hideSignOutOption(),E.default.resetToGenericSignIn(),E.default.showSignInOption(),(0,V.showAnonymous)(),u.default.pclnEventDispatcher.dispatch(F.EVENTS.SIGN_OUT,{message:"Sign Out Successfully"}),e||this.closeModal(),this.disableSignInDropdown();e=(0,O.default)();!this.isMobile&&e&&(this.isSafeToUseSessionStorage&&sessionStorage.setItem("hideGoogot",!0),this.signOutButton.onclick=function(){google.accounts.id.disableAutoSelect()}),(0,A.isVipDashboardPath)()?window.location.href="/vip":(0,G.triggerPageReload)()}},{key:"signOutUser",value:function(e,t,n){var r=this;if((0,x.preventDefault)(e),this.useOkta)return(0,D.logOutOkta)();var o=w.default.retrievePassiveSignInStatus();t=t||function(){return r.handleOpsAfterSignOutServiceResponse(o)},n=n||function(){clearInterval(r.signOutInterval),r.setSignOutMessage("Try again")},this.setSignOutMessage("Signing out"),this.loadDots(),o?(this.userName.value="",this.modalContainer.classList.remove("is-passive"),v.default.trackChangeUser({}),v.default.trackChangeStatus({label:"Passive to SignOut"})):v.default.trackChangeStatus({label:"Active to SignOut"}),f.default.signOut(this.authToken,t,n)}},{key:"setSignOutMessage",value:function(e){this.signOutText&&(this.signOutText.innerText=e)}},{key:"loadDots",value:function(){var e,t=this;this.signOutText&&(e=this.signOutText.innerText,this.signOutInterval=setInterval(function(){t.signOutText.innerText.length>e.length+2?t.signOutText.innerText=e:t.signOutText.innerText+="."},300))}},{key:"_resetRegistrationFirstName_",value:function(){this.registrationFirstNameError.classList.add("node-invisible"),this.registrationFirstName.placeholder="First Name",this.registrationFirstName.classList.remove("registration-form-body-placeholder-error"),this.registrationFirstName.classList.remove("registration-form-body-field-error")}},{key:"_validateRegistrationFirstName_",value:function(){return this.registrationFirstName.value<1?(this.registrationFirstNameError.classList.remove("node-invisible"),this.registrationFirstName.placeholder="Enter First Name",this.registrationFirstName.classList.add("registration-form-body-placeholder-error"),!1):!!F.FORM_VALIDATIONS.firstName.regex.test(this.registrationFirstName.value)||(this.registrationFirstNameError.classList.remove("node-invisible"),this.registrationFirstName.classList.add("registration-form-body-field-error"),!1)}},{key:"_resetRegistrationLastName_",value:function(){this.registrationLastNameError.classList.add("node-invisible"),this.registrationLastName.placeholder="Last Name",this.registrationLastName.classList.remove("registration-form-body-placeholder-error"),this.registrationLastName.classList.remove("registration-form-body-field-error")}},{key:"_validateRegistrationLastName_",value:function(){return this.registrationLastName.value<1?(this.registrationLastNameError.classList.remove("node-invisible"),this.registrationLastName.placeholder="Enter Last Name",this.registrationLastName.classList.add("registration-form-body-placeholder-error"),!1):!!F.FORM_VALIDATIONS.lastName.regex.test(this.registrationLastName.value)||(this.registrationLastNameError.classList.remove("node-invisible"),this.registrationLastName.classList.add("registration-form-body-field-error"),!1)}},{key:"_resetRegistrationEmail_",value:function(){this.registrationEmailError.classList.add("node-invisible"),this.registrationEmail.placeholder="Email Address",this.registrationEmail.classList.remove("registration-form-body-placeholder-error"),this.registrationEmail.classList.remove("registration-form-body-field-error")}},{key:"_validateRegistrationEmail_",value:function(){var e=!F.REG_EX_RULES.EMAIL_FORMAT_VALIDATION.test(this.registrationEmail.value.trim());return this.registrationEmail.value<1?(this.registrationEmailError.classList.remove("node-invisible"),this.registrationEmail.placeholder="Enter Email Address",this.registrationEmail.classList.add("registration-form-body-placeholder-error"),!1):!e||(this.registrationEmailError.classList.remove("node-invisible"),this.registrationEmail.classList.add("registration-form-body-field-error"),!1)}},{key:"_displayMismatchedPasswords_",value:function(){this.registrationConfirmPasswordError.classList.remove("node-invisible"),this.registrationConfirmPassword.classList.add("registration-form-body-field-error"),0<this.registrationPasswordStrengthIndicator.innerHTML.length&&this.registrationConfirmPasswordError.classList.add("registration-form-body-field-error-icon-w-extra-top-margin")}},{key:"_resetRegistrationPassword_",value:function(){this.registrationPasswordError.classList.add("node-invisible"),this.registrationPassword.placeholder="Password",this.registrationPassword.classList.remove("registration-form-body-placeholder-error"),this.registrationPassword.classList.remove("registration-form-body-field-error"),this.registrationConfirmPasswordError.classList.remove("registration-form-body-field-error-icon-w-extra-top-margin")}},{key:"_validateRegistrationPassword_",value:function(){return this.registrationPassword.value<1?(this._clearPasswordStrength_(),this._clearPasswordStrengthIndicator_(),this.registrationPasswordError.classList.remove("node-invisible"),this.registrationPassword.placeholder="Enter Password",this.registrationPassword.classList.add("registration-form-body-placeholder-error"),this.registrationPasswordStrength.classList.add("node-invisible"),!1):this.registrationPassword.value!==this.registrationConfirmPassword.value?(this._displayMismatchedPasswords_(),!1):(this._resetRegistrationPassword_(),this._resetRegistrationConfirmPassword_(),!0)}},{key:"_resetRegistrationConfirmPassword_",value:function(){this.registrationConfirmPasswordError.classList.add("node-invisible"),this.registrationConfirmPassword.classList.remove("registration-form-body-placeholder-error"),this.registrationConfirmPassword.classList.remove("registration-form-body-field-error"),this.registrationConfirmPasswordError.classList.remove("registration-form-body-field-error-icon-w-extra-top-margin")}},{key:"_validateRegistrationConfirmPassword_",value:function(){return this.registrationConfirmPassword.value<1?(this.registrationConfirmPasswordError.classList.remove("node-invisible"),this.registrationConfirmPassword.classList.add("registration-form-body-placeholder-error"),0<this.registrationPasswordStrengthIndicator.innerHTML.length&&this.registrationConfirmPasswordError.classList.add("registration-form-body-field-error-icon-w-extra-top-margin"),!1):this.registrationPassword.value!==this.registrationConfirmPassword.value?(this._displayMismatchedPasswords_(),!1):(this._resetRegistrationPassword_(),this._resetRegistrationConfirmPassword_(),!0)}},{key:"_resetRegistrationSubmitButton_",value:function(){this.registrationSubmitButton.classList.remove("registration-form-body-button-error"),this.registrationSubmitButton.classList.remove("registration-form-body-button-transition"),this.registrationSubmitButton.innerHTML="Create Account"}},{key:"_resetRegistrationForm_",value:function(){this.registrationFormErrorMessage.classList.add("node-invisible"),this.registrationFormErrorMessage.innerHTML="",this.registrationFormAd.classList.remove("node-invisible"),this.registrationFirstName.value="",this.registrationLastName.value="",this.registrationEmail.value="",this.registrationPassword.value="",this.registrationConfirmPassword.value="",this.registrationPasswordStrengthIndicator.classList.add("node-invisible"),this._clearPasswordStrength_(),this.registrationPasswordStrength.classList.remove("node-invisible")}},{key:"_toggleRegistrationSubmitButtonError_",value:function(){this.registrationSubmitButton.classList.add("registration-form-body-button-error"),this.registrationSubmitButton.classList.remove("registration-form-body-button-transition"),this.registrationSubmitButton.innerHTML="Complete Form to Continue"}},{key:"_processRegistration_",value:function(){var o=this,e={firstName:this.registrationFirstName.value,lastName:this.registrationLastName.value,emailAddress:this.registrationEmail.value,answerText:this.registrationPassword.value,alertList:[{alertID:1,dirtyFlag:!0,custID:-2,subscribeFlag:!!this.registrationPromoInterest.checked,sourceOfOrigin:this.isMobile?"ACCOUNT_CREATION_MWEB":"ACCOUNT_CREATION_DESKTOP"}]};i.default.registerUserByService(e,!0,function(e){var t="";if(200===e.statusCode&&0!==e.exceptionCode){var n="Complete Form to Continue";switch(e.exceptionCode){case-1:t="-1 Passwords Too Short",o.showErrorMessage("Password must be at least 8 characters with number or special character."),o.showPasswordError(),o.disableRegisterButton(n);break;case-105:t="-105 Account Existed";o.showErrorMessage('An account already exists with this information.<br>\n              <a id="registration-exit-sign-in"\n                class="registration-form-error-message-link">\n                Sign in</a> or\n              <a class="registration-form-error-message-link"\n                id="registration-form-error-message-reset-password">\n                Reset Password</a>\n            '),o.registrationPasswordStrength.classList.add("node-invisible"),o.registrationPassword.classList.remove("registration-form-body-field-error"),o.disableRegisterButton(n);var r=document.getElementById("registration-exit-sign-in");document.getElementById("registration-form-error-message-reset-password").addEventListener("click",function(){u.default.pclnEventDispatcher.dispatch(F.EVENTS.MODAL_LAUNCH_FORGOT_PASSWORD_FORM_VISIBLE,{message:"Modal Forgot Password Successfully Opened From Registration Form Error Link"})}),r.addEventListener("click",function(){o._resetRegistrationForm_(),o.registrationForm.classList.add("node-invisible"),o.signInForm.classList.remove("node-invisible")});break;case-220:t="-220 Email and password cannot be same",o.showErrorMessage("Email and password values cannot be the same. Please create a unique password."),o.showPasswordError(),o.disableRegisterButton(n);break;default:t="System Error",o.showErrorMessage("System Error. Registration could not be completed. Please try again later.")}y.default.trackCreateAccountButton(t)}else 200===e.statusCode&&0===e.exceptionCode&&((0,G._hideEl)((0,G._getEl)("#sign-in-module")),y.default.trackCreateAccountButton(t="Valid"),o._resetRegistrationForm_(),o.emailAddressInSignOutMenu.innerHTML=e.customer.emailAddress,o.userEmail=e.customer.emailAddress,o.closeModal(),C.default.cachedFirstName=e.customer.firstName,C.default.cachedEmailAddress=e.customer.emailAddress,sessionStorage.setItem("authToken",e.customer.authtoken),sessionStorage.setItem("isRegisteredUserFirstLoad","[TRUE_STRING]"),o._resetRegistrationSubmitButton_(),u.default.pclnEventDispatcher.dispatch(F.EVENTS.SIGN_IN,e.customer),u.default.pclnEventDispatcher.dispatch(F.EVENTS.REGISTRATION_SUCCESS,e.customer),(0,G.triggerPageReload)())})}},{key:"showErrorMessage",value:function(e){this.registrationFormAd.classList.add("node-invisible"),this.registrationFormErrorMessage.innerHTML=e,this.registrationFormErrorMessage.classList.remove("node-invisible")}},{key:"showPasswordError",value:function(){this.registrationPasswordStrength.classList.add("node-invisible"),this.registrationPasswordStrengthIndicator.classList.add("node-invisible"),this.registrationPassword.classList.add("registration-form-body-field-error"),this.registrationPasswordError.classList.remove("node-invisible")}},{key:"disableRegisterButton",value:function(e){this.registrationSubmitButton.classList.add("registration-form-body-button-error"),this.registrationSubmitButton.classList.remove("registration-form-body-button-transition"),this.registrationSubmitButton.innerHTML=e}},{key:"_generateRegistrationGALabel_",value:function(){function e(e){return 2<e.length?(e=e.substr(0,e.length-2),e+=")"):e}var t,n=this,r=this.registrationFirstName.value<1,o=this.registrationLastName.value<1,i=this.registrationEmail.value<1,s=this.registrationPassword.value<1,a=this.registrationConfirmPassword.value<1,c="";t="",(r||o||i||s||a)&&(t="Missing Value(s) (",r&&(t+="first name, "),o&&(t+="last name, "),i&&(t+="email, "),s&&(t+="pw, "),a&&(t+="cpw, "),t=e(t));var l,u,d,c=t;return c+=(u="",d=n.registrationPassword.value===n.registrationConfirmPassword.value,i&&d||i&&s&&a||(l="",i||F.REG_EX_RULES.EMAIL_FORMAT_VALIDATION.test(n.registrationEmail.value.trim())||(l+="email, "),s||d||(l+="pw, "),a||d||(l+="cpw, "),0<l.length&&(d=0===c.length?"":" and ",u=e(u=d+"Invalid Value(s) ("+l))),u)}},{key:"registerUser",value:function(e){(0,x.preventDefault)(e),this.registrationSubmitButton.classList.add("registration-form-body-button-transition"),this.registrationSubmitButton.classList.remove("registration-form-body-button-error"),this.registrationSubmitButton.innerHTML="Registering Account...",this._resetRegistrationFirstName_(),this._resetRegistrationLastName_(),this._resetRegistrationEmail_(),this._resetRegistrationPassword_(),this._resetRegistrationConfirmPassword_();var t=this._validateRegistrationFirstName_(),n=this._validateRegistrationLastName_(),r=this._validateRegistrationEmail_(),o=this._validateRegistrationPassword_(),e=this._validateRegistrationConfirmPassword_(),e=t&&n&&r&&o&&e;if(this.registrationPassword.value.length<8||!(this.registrationPassword.value.match(/([0-9])/)||this.registrationPassword.value.match(/([!,%,&,@,#,$,^,*,?,_,~])/)))return this.showErrorMessage("Password must be at least 8 characters with number or special character."),this.showPasswordError(),this.disableRegisterButton("Complete Form to Continue"),!1;e?this._processRegistration_():(this._toggleRegistrationSubmitButtonError_(),e=this._generateRegistrationGALabel_(),y.default.trackCreateAccountButton(e))}},{key:"_processSetNewPassword_",value:function(){var o=this,e=document.getElementById("set-a-new-password-input"),t=document.getElementById("set-a-new-password-user-validation-field"),n=e.value,r=void 0,e=void 0;"Enter Billing Zip Code"===t.placeholder?r=t.value:e=t.value,N.default.findUserPassword(n,r,e);d.default.recycle(function(e){var t,n,r="";200===e.statusCode&&0!==e.exceptionCode?(t=e.exceptionCode,((n={"-1":function(){r="-1 Incomplete Data.",T.default.toggleMismatch(),o.setNewPasswordSubmitButton.innerHTML="Incomplete Data"},"-108":function(){r="-108 Postal Code Mismatch.",T.default.toggleMismatch(),o.setNewPasswordSubmitButton.innerHTML="Invalid Billing Zip Code"},"-109":function(){r="-109 Credit Card Mismatch.",T.default.toggleMismatch(),o.setNewPasswordSubmitButton.innerHTML="Invalid Credit Card Number"},"-220":function(){r="-220 Email and password cannot be same";o.setNewPasswordObj.togglePasswordRequirementsError("Email and password values cannot be the same. Please create a unique password.")},"-231":function(){r="-231 Password cannot match any of your last 5 passwords.";o.setNewPasswordObj.togglePasswordRequirementsError("Password cannot match any of your last 5 passwords.")},default:function(){r="default exception",T.default.toggleButtonDeath()}})[t]||n.default)(),b.default.trackSetNewPasswordButton(r)):200===e.statusCode&&0===e.exceptionCode&&(b.default.trackSetNewPasswordButton(r="Valid"),T.default.resetErrorMessage(),T.default.resetSubmitButton(),window.location.href="/next-profile/login")})}},{key:"setNewUserPassword",value:function(e){(0,x.preventDefault)(e),T.default.resetErrorMessage();var t=document.getElementById("set-a-new-password-input"),n=document.getElementById("set-a-new-password-confirm-pw-input"),r=F.FORM_VALIDATIONS.password.regex.test(t.value),o=F.FORM_VALIDATIONS.password.regex.test(n.value),e="";r&&o&&t.value===n.value?this._processSetNewPassword_():e=t.value.length<1&&n.value.length<1?(this.setNewPasswordObj.validatePassword(),this.setNewPasswordObj.togglePasswordRequirementsError(),"Empty password and confirm pw inputs"):t.value.length<1||t.value!==n.value?(this.setNewPasswordObj.validatePassword(),this.setNewPasswordObj.toggleSubmitBtnError(),"Empty password value or password mismatch"):(this.setNewPasswordObj.togglePasswordRequirementsError(),"Invalid password"),e&&b.default.trackSetNewPasswordButton(e)}}],[{key:"clearInlineStyles",value:function(){["mobile-menu-header","mobile-menu","global-header","global-navigation-modal","footer-root"].forEach(function(e){e=document.getElementById(e);e&&e.removeAttribute("style")})}}]),r=W;function W(){var r=this;(0,l.default)(this,W),this.userNameSignInAddOn=(0,G._getEl)("#signin-addon-form-input-email"),this.signOutInterval=0,this.signInNavButton=(0,G._getEl)("#in-path-sign-in-out-click"),this.myTripsNavButton=(0,G._getEl)("#in-path-my-trips-click"),this.helpNavButton=(0,G._getEl)("#in-path-help-click"),this.multiCurrencyNavButton=(0,G._getEl)("#in-path-multi-currency-click"),this.languageNavButton=(0,G._getEl)("#in-path-language-click"),this.firstName="",this.emailAddress="",this.authUser={},this.setiGoogle=(0,G._getEl)("#signin-view__google-button-top"),this.stickyGoogle=(0,G._getEl)("#sticky-signin-view__google-button"),this.setiFacebook=(0,G._getEl)("#signin-view__facebook-button-top"),this.stickyFacebook=(0,G._getEl)("#sticky-signin-view__facebook-button"),this.setiApple=(0,G._getEl)("#signin-view__apple-button-top"),this.stickyApple=(0,G._getEl)("#sticky-signin-view__apple-button"),this.regViewSetiGoogle=(0,G._getEl)("#regview__google-button-top"),this.regViewSetiFacebook=(0,G._getEl)("#regview__facebook-button-top"),this.regViewSetiApple=(0,G._getEl)("#regview__apple-button-top"),this.nameContainer=(0,G._getEl)("#sign-in-module__user-name-signedIn"),this.signInDropdown=(0,G._getEl)("#in-path-sign-in-out-click"),this.signInCalloutMenu=(0,G._getEl)("#sign-in-dd"),this.signOutMenu=(0,G._getEl)("#sign-out-dd"),this.helpDropdownPasswordHelp=(0,G._getEl)("#help-dd-password-help"),this.globalModalSignInForm=(0,G._getEl)("#global-modal-sign-in-form"),this.rememberMe=(0,G._getEl)("#remember-email"),this.signInButton=(0,G._getEl)("#button-sign-in"),this.signOutButton=(0,G._getEl)("#sign-out-link"),this.signOutText=document.querySelector("#sign-out-link span"),this.userName=(0,G._getEl)(".register__form-field-email"),this.userNameTooltip=(0,G._getEl)("#email-error-tooltip"),this.userNameTooltipMessage=(0,G._getEl)("#email-error-tooltip-message"),this.password=(0,G._getEl)(".register__form-field-password"),this.passwordTooltip=(0,G._getEl)("#password-error-tooltip"),this.passwordTooltipMessage=(0,G._getEl)("#password-error-tooltip-message"),this.signInErrorMessage=(0,G._getEl)("#signin-error-msg"),this.modalContainer=(0,G._getEl)("#global-navigation-modal"),this.modalOuterArea=document.getElementById("outer-area"),this.registerInner=document.getElementById("modal-container"),this.registrationLinkSetiVariant=(0,G._getEl)("#register-link-variant"),this.signinLinkSetiVariant=(0,G._getEl)("#signin-link-variant"),this.vipModalRight=(0,G._getEl)("#modal-view-right"),this.forgotPasswordEmailConfirmDoneButton=(0,G._getEl)("#forgot-password-email-confirmation-done-button"),this.modalForgotPasswordLink=document.getElementById("forgot-password-link"),this.modalForgotPasswordSignInLink=document.getElementById("forgot-pw-signin-link"),this.forgotPasswordEmail=document.getElementById("forgot-pw-email"),this.forgotPasswordObj=new k.default,this.setNewPasswordRoot=document.getElementById("set-a-new-password-root"),this.emailTokenData=N.default.emailTokenData,this.setNewPasswordObj=new T.default,this.setNewPasswordSelectContainer=document.getElementById("set-a-new-password-select-container"),this.setNewPasswordUserValidationField=document.getElementById("set-a-new-password-user-validation-field"),this.setNewPasswordInput=document.getElementById("set-a-new-password-input"),this.isSetNewPasswordInitialFocus=!0,this.setNewPasswordConfirmPasswordInput=document.getElementById("set-a-new-password-confirm-pw-input"),this.setNewPasswordSubmitButton=document.getElementById("set-a-new-password-submit-btn"),this.setNewPasswordEmailInput=document.getElementById("set-a-new-password-email-input"),this.setNewPasswordRequestNewLinkBtn=document.getElementById("set-a-new-password-request-new-link-btn"),this.bodyEl=document.getElementsByTagName("body")[0],this.boundOpenModal=this.openModal.bind(this),this.boundCloseModal=this.closeModal.bind(this),this.modalChamber=new S.default,this.modalChamber.applySignInModalStyles(),this.modalChamber.configureSocialIcons(),this.emailErrorIcon=document.getElementById("email-error-warning"),this.passwordErrorIcon=document.getElementById("password-error-warning"),this.registrationForm=document.getElementById("registration-form"),this.forgotPassword=document.getElementById("forgot-password"),this.registrationClosingGroup=document.getElementById("registration-closing-group"),this.forgotPasswordClosingGroup=document.getElementById("forgot-password-closing-group"),this.registrationFormAd=document.getElementById("registration-form-ad"),this.registrationFormErrorMessage=document.getElementById("registration-form-error-message"),this.registrationFirstName=document.getElementById("registration-first-name"),this.registrationFirstNameError=document.getElementById("registration-first-name-error"),this.registrationLastName=document.getElementById("registration-last-name"),this.registrationLastNameError=document.getElementById("registration-last-name-error"),this.registrationEmail=document.getElementById("registration-email");var e=document.getElementById("registration-email");e&&(e.onblur=P.invokeSubscribeEmailService),this.registrationEmailError=document.getElementById("registration-email-error"),this.registrationPassword=document.getElementById("registration-password"),this.registrationPasswordError=document.getElementById("registration-password-error"),this.isRegistrationPasswordInitialFocus=!0,this.registrationPasswordStrength=document.getElementById("registration-password-strength"),this.registrationConfirmPassword=document.getElementById("registration-confirm-password"),this.registrationConfirmPasswordError=document.getElementById("registration-confirm-password-error"),this.registrationPasswordStrengthBox1=document.getElementById("registration-password-strength-box-1"),this.registrationPasswordStrengthBox2=document.getElementById("registration-password-strength-box-2"),this.registrationPasswordStrengthBox3=document.getElementById("registration-password-strength-box-3"),this.registrationPasswordStrengthBox4=document.getElementById("registration-password-strength-box-4"),this.registrationPasswordStrengthIndicator=document.getElementById("registration-password-strength-indicator"),this.registrationPromoInterest=document.getElementById("registration-promo-interest"),this.registrationSubmitButton=document.getElementById("registration-submit"),this.forgotPasswordSubmitButton=document.getElementById("forgot-pw-submit"),this.signInForm=document.getElementById("sign-in-modal-view-left"),this.closeForm=(0,G._getEl)("#modal-closing-group"),this.passiveSignOutLink=(0,G._getEl)(".passive__sign-out"),this.useOkta=!!document.getElementById("pcln-okta-widget-placeholder"),this.textToDownloadObj=new h.default,this.textToDownloadInput=document.getElementById("text-to-download-input"),this.textToDownloadButton=document.getElementById("text-to-download-btn"),this.globalPromoBanner=(0,G._getEl)("#global-promo-banner"),this.globalPromoBannerToolTip=(0,G._getEl)("#newTooltipSection"),this.weatherAlert=(0,G._getEl)("#weather-alert-promo-banner"),this.closeForm&&this.closeForm.classList.remove("node-invisible"),this.forgotPasswordConfirmationClosingGroup=document.getElementById("forgot-password-confirmation-closing-group"),this.authToken=null,this.signOutGreeting=(0,G._getEl)("#sign-out-menu-greeting"),this.navMenuSignOutGreeting=(0,G._getEl)("#nav-menu-sign-out-greeting"),this.multiCurrencySelectors=document.querySelectorAll(".global-header-dropdown-item-mc a"),this.languageSelectors=document.querySelectorAll(".global-header-dropdown-item-lang a"),this.emailAddressInSignOutMenu=(0,G._getEl)("#sign-out-menu-email-address"),this.isSafeToUseSessionStorage=!0,this.isMobile=(0,G.validateMobileBrowserByRegEx)(),this.greeting={noName:"Welcome Back!",navNoName:"My Profile"};e=!!this.isSafeToUseSessionStorage&&"[TRUE_STRING]"===sessionStorage.getItem("isRegisteredUserFirstLoad");this.signInStatus={},this.signInStatus=e?(0,c.default)(this.signInStatus,{isUserSignedIn:!0},{isPassiveSignedIn:!1}):w.default.retrieveSignInStatus(),this.passiveSignInStatus=w.default.retrievePassiveSignInStatus(),this.userEmail=w.default.assignEmail();function t(e,t,n){e={nameContainer:(r.isMobile?"":"Hi, ")+e,signOutGreeting:"Hi, "+t,navMenuSignOutGreeting:"Hi, "+e},r.nameContainer&&(r.nameContainer.innerText=e.nameContainer),r.signOutGreeting&&(r.signOutGreeting.innerText=e.signOutGreeting),r.navMenuSignOutGreeting&&(r.navMenuSignOutGreeting.innerText=e.navMenuSignOutGreeting),r.emailAddressInSignOutMenu&&!r.emailAddressInSignOutMenu.innerText&&(r.emailAddressInSignOutMenu.innerText=n)}var n,o,i,s,a;t.bind(this),this.signInStatus.isUserSignedIn?(this.authToken=this.isSafeToUseSessionStorage?sessionStorage.getItem("authToken"):"[UNKOWN]",n=this.greeting.navNoName,o=this.userEmail,i=this.greeting.noName,this.useOkta?(0,D.initOkta)().then(function(){(0,D.getIDToken)().then(function(e){e&&e.claims&&(n=e.claims.name,o=e.claims.email,i=n.split(" ")[0])})}).catch(function(e){console.error(e)}).finally(function(){t(i,i,o)}):("string"==typeof C.default.cachedFirstName&&0<C.default.cachedFirstName.length&&(n=C.default.cachedFirstName,o=C.default.cachedEmailAddress),t(n,n,o)),z.AuthorizationProcessing.showSignOut()):this.passiveSignInStatus&&"string"==typeof this.userEmail&&0<this.userEmail.length?(this.isSafeToUseSessionStorage&&sessionStorage.removeItem("authToken"),this.isMobile&&this.signOutMenu&&this.signOutMenu.classList.add("node-bootstrap-invisible"),(0,H.showUserAvailable)()):(this.isSafeToUseSessionStorage&&sessionStorage.removeItem("authToken"),(0,V.showAnonymous)()),this.useOkta?(0,D.initOkta)():(this.GoogleClient=p.googleClientSingleton,this.FacebookClient=new g.default,this.FacebookClient.install().then(function(){(0,G._showEl)((0,G._getEl)("#signin-social-buttons-variant"))}).catch(function(){}),this.GoogleClient.install().then(function(){(0,G._showEl)((0,G._getEl)("#signin-social-buttons-variant"))}).catch(function(){}),this.AppleClient=new m.default,this.AppleClient.install().then(function(){(0,G._showEl)((0,G._getEl)("#signin-social-buttons-variant"))}).catch(function(){}),a={isMobile:this.isMobile,isSignedIn:this.signInStatus.isUserSignedIn,isPassiveSignedIn:this.passiveSignInStatus,authCompleteFunction:this.authComplete.bind(this),isSafeToUseSessionStorage:this.isSafeToUseSessionStorage},(0,j.default)(a)),this.attachListeners(),W.clearInlineStyles(),R.default.applyCheckoutSpecifics(),v.default.trackSignInStatus({}),v.default.trackStickySignIn({}),v.default.trackVipTier(),this.isMobile||(s=function(e){return e&&e.classList.add("highlight-current-page-link")},e={Hotels:function(){return s(document.getElementById("link_header_nav_hotels"))},Flights:function(){return s(document.getElementById("link_header_nav_flights"))},RentalCars:function(){return s(document.getElementById("link_header_nav_cars"))},VacationPackages:function(){return s(document.getElementById("link_header_nav_vacationpackages"))}},(a=(0,B.default)())&&e[a]())}n.default=r},{"../../../common/metadata":46,"../../../common/okta/okta-auth":47,"../../../common/utils/current-path":49,"../../../common/utils/event-helpers":50,"../../../common/utils/pcln-ab-testing":51,"../../../common/utils/site-path":52,"../../../common/utils/subscribe-email-checkbox":53,"../../network/registration-service":33,"../../network/reset-password-service":34,"../../network/sign-out-service":36,"../../network/social-clients/apple-client.js":37,"../../network/social-clients/facebook-client.js":39,"../../network/social-clients/google-client.js":40,"../../network/social-clients/google-one-tap":41,"../common/analytics/analytic-operations":1,"../common/analytics/modal-analytics":3,"../common/analytics/sign-in-analytics":4,"../common/analytics/static-page-analytics":5,"../common/external/user-interface-api":7,"../common/operations/authorization-processing":8,"../common/operations/browser-operations":9,"../common/operations/forgot-password":11,"../common/operations/mobile-controller":16,"../common/operations/modal-chamber":17,"../common/operations/passive-sign-in-processing":18,"../common/operations/post-sign-out-processing":19,"../common/operations/sign-in-persistence-validator":20,"../common/operations/text-to-download":21,"../common/sign-in-client-validation/sign-In-attempt-validator":23,"../common/sign-in-client-validation/sign-in-https-police":24,"../common/static-pages/account-locked":25,"../common/static-pages/set-a-new-password":26,"../common/store/forgot-password-data-store":27,"../common/store/sticky-sign-in-data-store":28,"@pcln/event-dispatcher":79,"babel-runtime/core-js/array/from":80,"babel-runtime/core-js/get-iterator":81,"babel-runtime/core-js/object/assign":84,"babel-runtime/helpers/classCallCheck":94,"babel-runtime/helpers/createClass":95}],31:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var s=l(e("babel-runtime/core-js/json/stringify")),r=l(e("babel-runtime/helpers/classCallCheck")),o=l(e("babel-runtime/helpers/createClass")),c=e("../../common/metadata"),a=l(e("@pcln/analytics")),i=e("@pcln/domain-utilities");function l(e){return e&&e.__esModule?e:{default:e}}function u(e){var t=e.url,n=e.callback,r=e.errorCallback,o=e.method,i=e.data,e=e.async;a.default.log({actingComponent:"global-web-components",action:"request",responseMessage:"Request initialized to "+t,reqUrl:t});var s=function(){if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;var e,t=void 0;for(e in c.NETWORK_METADATA.ACTIVE_X_OBJECT_VERSIONS)try{if(c.NETWORK_METADATA.ACTIVE_X_OBJECT_VERSIONS.hasOwnProperty(e)){t=new ActiveXObject(c.NETWORK_METADATA.ACTIVE_X_OBJECT_VERSIONS[e]);break}}catch(e){}return t}();s.open(o,t,e),s.timeout=6e3,s.onerror=function(e){if(a.default.log({actingComponent:"global-web-components",action:"request",responseMessage:"xhr connection error",reqUrl:t,responseText:s.responseText,statusText:s.statusText,status:s.status}),!r)throw new Error(c.NETWORK_ERRORS.AJAX_HANDLER_ERROR);r()},s.ontimeout=function(e){if(a.default.log({actingComponent:"global-web-components",action:"request",responseMessage:"xhr connection timeout error",reqUrl:t,responseText:s.responseText,statusText:s.statusText,status:s.status}),!r)throw new Error(c.NETWORK_ERRORS.AJAX_HANDLER_TIMEOUT_ERROR);r()},s.onreadystatechange=function(){4===s.readyState&&(400<=s.status||!s.status?(a.default.log({actingComponent:"global-web-components",action:"request",responseMessage:"API Request Failure",reqUrl:t,responseText:s.responseText,statusText:s.statusText,status:s.status}),r&&r()):(a.default.log({actingComponent:"global-web-components",action:"request",responseMessage:"API Request Success",reqUrl:t,responseText:s.responseText,statusText:s.statusText,status:s.status}),n&&(s.responseText&&-1<s.getResponseHeader("content-type").indexOf("json")?n(JSON.parse(s.responseText)):n())))},o===c.NETWORK_METADATA.REST_POST&&(s.setRequestHeader(c.NETWORK_METADATA.REST_POST_REQUEST_HEADER.ACCEPT,c.NETWORK_METADATA.REST_POST_REQUEST_HEADER.VALUE),s.setRequestHeader(c.NETWORK_METADATA.REST_POST_REQUEST_HEADER.CONTENT_TYPE,c.NETWORK_METADATA.REST_POST_REQUEST_HEADER.VALUE)),s.send(i)}(0,o.default)(d,null,[{key:"getCookieValueByName",value:function(t){var e=document.cookie.split(";").filter(function(e){return 0<=e.trim().indexOf(t+"=")}).shift();return(e=e||"")?e.trim().substring(t.length+1):null}},{key:"setCookie",value:function(e){var t=e.cookieName,n=e.cookieValue,r=e.expirationDays,e=new Date;e.setTime(e.getTime()+24*r*60*60*1e3);e="expires="+e.toUTCString();document.cookie=t+"="+n+";"+e}},{key:"deleteCookie",value:function(e){document.cookie=e+"=; domain="+(0,i.getCookieDomain)(window.location)+"; path=/"}},{key:"get",value:function(e){var t,n=e.url,r=e.parameters,o=e.callback,i=e.errorCallback,e=e.async,s=[];for(t in r)r.hasOwnProperty(t)&&s.push(encodeURIComponent(t)+"="+encodeURIComponent(r[t]));n+=s.length?"?"+s.join("&"):"";try{var a=c.NETWORK_METADATA.REST_GET;u({url:n,data:null,method:a,callback:o,errorCallback:i,async:e})}catch(e){throw e}}},{key:"post",value:function(e){var t=e.url,n=e.data,r=e.callback,o=e.errorCallback,e=e.async;try{var i=c.NETWORK_METADATA.REST_POST,n=(0,s.default)(n);u({url:t,data:n,method:i,callback:r,errorCallback:o,async:e})}catch(e){throw e}}}]),o=d;function d(){(0,r.default)(this,d)}n.default=o},{"../../common/metadata":46,"@pcln/analytics":70,"@pcln/domain-utilities":78,"babel-runtime/core-js/json/stringify":82,"babel-runtime/helpers/classCallCheck":94,"babel-runtime/helpers/createClass":95}],32:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=a(e("babel-runtime/helpers/classCallCheck")),o=a(e("babel-runtime/helpers/createClass")),i=a(e("./ajax-handler")),s=e("../../common/metadata");function a(e){return e&&e.__esModule?e:{default:e}}(0,o.default)(c,null,[{key:"sendForgotPasswordEmail",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;try{i.default.post({url:s.SERVICE_ENDPOINTS.EMAIL_SERVICE,data:{username:e,emailType:"forgot_password"},callback:t,async:!0})}catch(e){new Error(s.NETWORK_ERRORS.EMAIL_SERVICE_ERROR+"\n\n"+e)}}}]),o=c;function c(){(0,r.default)(this,c)}n.default=o},{"../../common/metadata":46,"./ajax-handler":31,"babel-runtime/helpers/classCallCheck":94,"babel-runtime/helpers/createClass":95}],33:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=c(e("babel-runtime/helpers/classCallCheck")),o=c(e("babel-runtime/helpers/createClass")),i=c(e("./ajax-handler")),s=e("../components/common/operations/browser-operations"),a=e("../../common/metadata");function c(e){return e&&e.__esModule?e:{default:e}}(0,o.default)(l,null,[{key:"registerUserByService",value:function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;try{var r=location.href,o=(0,s.validateMobileBrowserByRegEx)()?"MOBILEWEB":"DESKTOP";i.default.post({url:a.SERVICE_ENDPOINTS.REGISTRATION_SERVICE,data:{customer:e,httpReferer:r,appCode:o,rememberMe:t},callback:n,async:!0})}catch(e){new Error(a.NETWORK_ERRORS.REGISTRATION_SERVICE_ERROR+"\n\n"+e)}}}]),o=l;function l(){(0,r.default)(this,l)}n.default=o},{"../../common/metadata":46,"../components/common/operations/browser-operations":9,"./ajax-handler":31,"babel-runtime/helpers/classCallCheck":94,"babel-runtime/helpers/createClass":95}],34:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var s=i(e("babel-runtime/core-js/object/assign")),r=i(e("babel-runtime/helpers/classCallCheck")),o=i(e("babel-runtime/helpers/createClass")),a=i(e("./ajax-handler")),c=i(e("../components/common/store/forgot-password-data-store")),l=e("../../common/metadata");function i(e){return e&&e.__esModule?e:{default:e}}(0,o.default)(u,null,[{key:"recycle",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;try{var t=c.default.data,n=t.encryptedCustId,r=t.newPassword,o="string"==typeof t.postalCode&&t.postalCode,i={encryptedCustId:n,newPassword:r},i=o?(0,s.default)(i,{postalCode:t.postalCode}):(0,s.default)(i,"string"==typeof t.creditCardNum&&t.creditCardNum?{creditCardNum:t.creditCardNum}:{});a.default.post({url:l.SERVICE_ENDPOINTS.RESET_PASSWORD_SERVICE,data:i,callback:e,async:!0})}catch(e){new Error(l.NETWORK_ERRORS.RESET_PASSWORD_SERVICE_ERROR+"\n\n"+e)}}}]),o=u;function u(){(0,r.default)(this,u)}n.default=o},{"../../common/metadata":46,"../components/common/store/forgot-password-data-store":27,"./ajax-handler":31,"babel-runtime/core-js/object/assign":84,"babel-runtime/helpers/classCallCheck":94,"babel-runtime/helpers/createClass":95}],35:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=s(e("babel-runtime/helpers/extends")),c=s(e("babel-runtime/core-js/object/assign")),l=s(e("babel-runtime/core-js/object/keys")),u=s(e("babel-runtime/helpers/typeof")),r=s(e("babel-runtime/helpers/classCallCheck")),o=s(e("babel-runtime/helpers/createClass")),d=s(e("./ajax-handler")),f=e("../../common/metadata"),i=e("../components/common/operations/browser-operations");function s(e){return e&&e.__esModule?e:{default:e}}(0,o.default)(h,null,[{key:"authorizeUser",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=arguments[2],r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;if("object"===(void 0===e?"undefined":(0,u.default)(e))&&0!==(0,l.default)(e)){var o={};switch(n){case"google":o.authProvider=(0,c.default)({},{type:"goog",returnToURL:f.SOCIAL_CLIENT_IDS.returnToURL,code:e.token},h.determinePersistentSignInOption());break;case"googot":o.authProvider=(0,c.default)({},{type:n,returnToURL:f.SOCIAL_CLIENT_IDS.returnToURL,code:e.token},h.determinePersistentSignInOption());break;case"facebook":o.authProvider=(0,c.default)({},{type:"fb",accessToken:e.token},h.determinePersistentSignInOption());break;case"apple":o.authProvider=(0,c.default)({},(0,a.default)({type:n},e),h.determinePersistentSignInOption());break;default:o.authProvider=(0,c.default)({username:e.username,password:e.password,type:e.type||"pcln"},h.determinePersistentSignInOption())}try{var i=o.authProvider,s=location.href;d.default.post({url:f.SERVICE_ENDPOINTS.SIGNIN_SERVICE,data:{authProvider:i,rememberMe:t,httpReferer:s},callback:r,async:!0})}catch(e){new Error(f.NETWORK_ERRORS.SIGN_IN_SERVICE_ERROR+"\n\n"+e)}}}},{key:"determinePersistentSignInOption",value:function(){return(0,i.validateMobileBrowserByRegEx)()?{appCode:"MOBILEWEB",persistentFlag:!0}:{appCode:"DESKTOP"}}}]),o=h;function h(){(0,r.default)(this,h)}n.default=o},{"../../common/metadata":46,"../components/common/operations/browser-operations":9,"./ajax-handler":31,"babel-runtime/core-js/object/assign":84,"babel-runtime/core-js/object/keys":88,"babel-runtime/helpers/classCallCheck":94,"babel-runtime/helpers/createClass":95,"babel-runtime/helpers/extends":96,"babel-runtime/helpers/typeof":99}],36:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=a(e("babel-runtime/helpers/classCallCheck")),o=a(e("babel-runtime/helpers/createClass")),i=a(e("./ajax-handler")),s=e("../../common/metadata");function a(e){return e&&e.__esModule?e:{default:e}}(0,o.default)(c,null,[{key:"signOut",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;try{i.default.post({url:s.SERVICE_ENDPOINTS.SIGNOUT_SERVICE,data:{authToken:e},callback:t,errorCallback:n,async:!0})}catch(e){new Error(s.NETWORK_ERRORS.SIGN_OUT_SERVICE_ERROR+"\n\n"+e)}}}]),o=c;function c(){(0,r.default)(this,c)}n.default=o},{"../../common/metadata":46,"./ajax-handler":31,"babel-runtime/helpers/classCallCheck":94,"babel-runtime/helpers/createClass":95}],37:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=a(e("babel-runtime/core-js/promise")),o=a(e("babel-runtime/helpers/classCallCheck")),i=a(e("babel-runtime/helpers/createClass")),s=e("../../../common/metadata");function a(e){return e&&e.__esModule?e:{default:e}}(0,i.default)(c,[{key:"install",value:function(){return new r.default(function(e,t){var n=document.createElement("script");n.onload=function(){try{AppleID.auth.init({clientId:s.SOCIAL_CLIENT_IDS.apple.clientId,scope:s.SOCIAL_CLIENT_IDS.apple.scope,redirectURI:location.origin,usePopup:!0}),e()}catch(e){t(e)}},n.defer=!0,n.async=!0,document.body.appendChild(n),n.src=s.SOCIAL_CLIENT_IDS.apple.scriptURI})}},{key:"authenticate",value:function(e){AppleID.auth.signIn().then(e).catch(function(e){return console.log(e)})}}]),i=c;function c(){(0,o.default)(this,c)}n.default=i},{"../../../common/metadata":46,"babel-runtime/core-js/promise":90,"babel-runtime/helpers/classCallCheck":94,"babel-runtime/helpers/createClass":95}],38:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=i(e("babel-runtime/core-js/promise")),r=i(e("babel-runtime/helpers/classCallCheck"));function i(e){return e&&e.__esModule?e:{default:e}}(0,i(e("babel-runtime/helpers/createClass")).default)(s,null,[{key:"deferred",value:function(){var n=void 0,r=void 0,e=new o.default(function(e,t){n=e,r=t});return e.resolve=n,e.reject=r,e}}]),e=s;function s(){(0,r.default)(this,s)}n.default=e},{"babel-runtime/core-js/promise":90,"babel-runtime/helpers/classCallCheck":94,"babel-runtime/helpers/createClass":95}],39:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=a(e("babel-runtime/helpers/classCallCheck")),o=a(e("babel-runtime/helpers/createClass")),i=e("../../../common/metadata"),s=a(e("./deferred-promise"));function a(e){return e&&e.__esModule?e:{default:e}}(0,o.default)(c,[{key:"onLoginStatusChanged",value:function(e){"connected"===e.status?this.accessToken=e.authResponse.accessToken:e.status}},{key:"init",value:function(e){var t=this,n=void 0;switch(window.location.host){case"www.qaa.priceline.com":n="qaa";break;case"www.a1.dev.priceline.com":n="dev";break;default:n="prod"}FB.init({appId:i.SOCIAL_CLIENT_IDS.facebook[n],cookie:!("cookie"in e)||e.cookie,version:"version"in e?e.version:"v2.2"}),FB.getLoginStatus(function(e){t.onLoginStatusChanged(e)})}},{key:"install",value:function(){var e=this,t=s.default.deferred(),n=document.createElement("script");n.src="//connect.facebook.net/en_US/sdk.js",window.fbAsyncInit=function(){e.init({}),t.resolve()},document.body.appendChild(n);var r=document.createElement("div");return r.id="fb-root",document.body.insertBefore(r,n),t}},{key:"getFBUser",value:function(){var t=s.default.deferred();return FB.api("/me?fields=first_name, last_name, email",function(e){t.resolve(e)}),t}},{key:"authenticate",value:function(n){var r=this,o=s.default.deferred();return this.accessToken?this.getFBUser().then(function(e){e.token=r.accessToken,n(e),o.resolve(e)}).catch(function(e){o.reject(e)}):FB.login(function(t){"connected"===t.status&&r.getFBUser().then(function(e){e.token=t.authResponse.accessToken,r.accessToken=t.authResponse.accessToken,n(e),o.resolve(e)}).catch(function(e){o.reject(e)})},{scope:"email"}),o}}]),o=c;function c(){(0,r.default)(this,c)}n.default=o},{"../../../common/metadata":46,"./deferred-promise":38,"babel-runtime/helpers/classCallCheck":94,"babel-runtime/helpers/createClass":95}],40:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.googleClientSingleton=n.GoogleClient=void 0;var r=a(e("babel-runtime/helpers/classCallCheck")),o=a(e("babel-runtime/helpers/createClass")),i=e("../../../common/metadata"),s=a(e("./deferred-promise"));function a(e){return e&&e.__esModule?e:{default:e}}o=n.GoogleClient=((0,o.default)(c,[{key:"install",value:function(){var e=this,t=s.default.deferred();window.__pclnInitGoogleAuth=function(){try{gapi.load("auth2",function(){e.auth2=gapi.auth2.init({client_id:i.SOCIAL_CLIENT_IDS.google}),t.resolve(),window.__pclnInitGoogleAuth=null})}catch(e){t.reject(e)}};var n=document.createElement("script");return n.src="https://apis.google.com/js/client:platform.js?onload=__pclnInitGoogleAuth",document.body.appendChild(n),t}},{key:"authenticate",value:function(t){this.auth2.grantOfflineAccess().then(function(e){t(e)})}}]),c);function c(){(0,r.default)(this,c),this.auth2=null}n.googleClientSingleton=new o},{"../../../common/metadata":46,"./deferred-promise":38,"babel-runtime/helpers/classCallCheck":94,"babel-runtime/helpers/createClass":95}],41:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var t=e.isMobile,n=e.isSignedIn,r=e.isPassiveSignedIn,o=e.authCompleteFunction,e=e.isSafeToUseSessionStorage;!(0,i.default)()||t||n||r||e&&Boolean(sessionStorage.getItem("hideGoogot"))||(window.onGoogleLibraryLoad=function(){var i;google.accounts.id.initialize({client_id:a.SOCIAL_CLIENT_IDS.google,callback:function(e){e=e.credential;s.default.authorizeUser({token:e},!0,"googot",o)}}),google.accounts.id.prompt(),(i=new MutationObserver(function(e){e.forEach(function(e){for(var t=e.addedNodes,n=0;n<t.length;n++)if("credential_picker_container"===t[n].id){t[n].classList.add("googot-iframe"),(0,l._showEl)((0,l._getEl)("#googot-messaging")),(0,c.fireEventTracking)({category:u,action:d,label:f});break}for(var r=e.removedNodes,o=0;o<r.length;o++)if(r[o].classList.contains("googot-iframe")){(0,l._hideEl)((0,l._getEl)("#googot-messaging")),i.disconnect();break}})})).observe(document.body,{attributes:!1,childList:!0})})};var s=r(e("../../network/sign-in-service")),i=r(e("../../../common/utils/site-path")),a=e("../../../common/metadata"),c=e("../../components/common/analytics/analytic-operations"),l=e("../../components/common/operations/browser-operations");function r(e){return e&&e.__esModule?e:{default:e}}var u="Google_One_Tap_Signin",d="Display",f="Y"},{"../../../common/metadata":46,"../../../common/utils/site-path":52,"../../components/common/analytics/analytic-operations":1,"../../components/common/operations/browser-operations":9,"../../network/sign-in-service":35}],42:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=a(e("babel-runtime/helpers/classCallCheck")),o=a(e("babel-runtime/helpers/createClass")),i=a(e("./ajax-handler")),s=e("../../common/metadata");function a(e){return e&&e.__esModule?e:{default:e}}(0,o.default)(c,null,[{key:"sendText",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;try{var r=c.removeNonDigits(e);i.default.post({url:s.SERVICE_ENDPOINTS.TEXT_TO_DOWNLOAD_SERVICE,data:{toPhoneNo:r,guid:"aaa1289772a44ef6bbec486b0c907c11"},callback:t,errorCallback:n,async:!0})}catch(e){new Error(s.NETWORK_ERRORS.TEXT_TO_DOWNLOAD_SERVICE_ERROR+"\n\n"+e)}}},{key:"removeNonDigits",value:function(e){return e.replace(/\D/g,"")}}]),o=c;function c(){(0,r.default)(this,c)}n.default=o},{"../../common/metadata":46,"./ajax-handler":31,"babel-runtime/helpers/classCallCheck":94,"babel-runtime/helpers/createClass":95}],43:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.configureArrayFindPolyFill=function(){"function"!=typeof Array.prototype.find&&(Array.prototype.find=Array.prototype.find||function(e){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("callback must be a function");for(var t=Object(this),n=t.length>>>0,r=arguments[1],o=0;o<n;o++){var i=t[o];if(e.call(r,i,o,t))return i}})}},{}],44:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.configureElementClassListShim=function(){var e,n,t;"document"in self&&("classList"in document.createElement("_")?((t=document.createElement("_")).classList.add("c1","c2"),t.classList.contains("c2")||((e=function(e){var r=DOMTokenList.prototype[e];DOMTokenList.prototype[e]=function(e){for(var t=arguments.length,n=0;n<t;n++)r.call(this,arguments[n])}})("add"),e("remove")),t.classList.toggle("c3",!1),t.classList.contains("c3")&&(n=DOMTokenList.prototype.toggle,DOMTokenList.prototype.toggle=function(e,t){return 1 in arguments&&!this.contains(e)==!t?t:n.call(this,e)}),t=null):function(e){if("Element"in e){var t="classList",n="prototype",r=e.Element[n],o=Object,i=String[n].trim||function(){return this.replace(/^\s+|\s+$/g,"")},s=Array[n].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},a=function(e,t){this.name=e,this.code=DOMException[e],this.message=t},c=function(e,t){if(""===t)throw new a("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(t))throw new a("INVALID_CHARACTER_ERR","String contains an invalid character");return s.call(e,t)},l=function(e){for(var t=i.call(e.getAttribute("class")||""),n=t?t.split(/\s+/):[],r=0,o=n.length;r<o;r++)this.push(n[r]);this._updateClassName=function(){e.setAttribute("class",this.toString())}},u=l[n]=[],e=function(){return new l(this)};if(a[n]=Error[n],u.item=function(e){return this[e]||null},u.contains=function(e){return-1!==c(this,e+="")},u.add=function(){for(var e,t=arguments,n=0,r=t.length,o=!1;-1===c(this,e=t[n]+"")&&(this.push(e),o=!0),++n<r;);o&&this._updateClassName()},u.remove=function(){var e,t,n=arguments,r=0,o=n.length,i=!1;do{for(t=c(this,e=n[r]+"");-1!==t;)this.splice(t,1),i=!0,t=c(this,e)}while(++r<o);i&&this._updateClassName()},u.toggle=function(e,t){var n=this.contains(e+=""),r=n?!0!==t&&"remove":!1!==t&&"add";return r&&this[r](e),!0===t||!1===t?t:!n},u.toString=function(){return this.join(" ")},o.defineProperty){u={get:e,enumerable:!0,configurable:!0};try{o.defineProperty(r,t,u)}catch(e){-2146823252===e.number&&(u.enumerable=!1,o.defineProperty(r,t,u))}}else o[n].__defineGetter__&&r.__defineGetter__(t,e)}}(self))}},{}],45:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.configureObjectAssignPolyFill=void 0;var r,o=e("babel-runtime/core-js/object/assign"),i=(r=o)&&r.__esModule?r:{default:r};n.configureObjectAssignPolyFill=function(){"function"!=typeof i.default&&(Object.assign=function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var o in r)r.hasOwnProperty(o)&&(t[o]=r[o])}return t})}},{"babel-runtime/core-js/object/assign":84}],46:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.SERVICE_ENDPOINTS={EMAIL_SERVICE:"/svcs/eng/gblsvcs/v1/customer/email",RESET_PASSWORD_SERVICE:"/svcs/eng/gblsvcs/v1/customer/reset-password",REGISTRATION_SERVICE:"/svcs/eng/gblsvcs/v1/customer/register",SIGNIN_SERVICE:"/svcs/eng/gblsvcs/v1/customer/authorize?fields=all",SIGNOUT_SERVICE:"/svcs/eng/gblsvcs/v1/customer/signout",SETI_BATCH_IMPRESSION_SERVICE:"/svcs/eng/gblsvcs/seti/batch/impression",TEXT_TO_DOWNLOAD_SERVICE:"/svcs/eng/gblsvcs/v1/sms/send"},n.SERVER_ROUTE_PROPERTIES={APP_NAME:"global-web-components",OFFICE_MESSAGE:"The page is under maintenance. Please refresh to browser to try again.",STATIC_PAGE_EMPTY_CONTENT_CHUNK:"[ERROR] Navigation Service is not returning content - Requested by",STATIC_PAGE_PERMISSION_ISSUE_CHUNK:"[ERROR] Static page permission is not granted by URL query string parameter - Requested by"},n.FORM_VALIDATIONS={username:{regex:/^([a-zA-Z0-9_\.\-\+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/},password:{regex:/(?=.*[\d+_!@#$%^&*.,?-])(?=.*[a-z]).{8,}/},firstName:{regex:/^[A-Za-z -]{1,32}$/},lastName:{regex:/^[A-Za-z -]{2,32}$/}},n.NETWORK_METADATA={ASYNCHRONOUS:!0,SYNCHRONOUS:!0,HTTPS_PROTOCOL:"https:",REST_GET:"GET",REST_POST:"POST",REST_POST_REQUEST_HEADER:{ACCEPT:"Accept",CONTENT_TYPE:"Content-type",VALUE:"application/json"},RESPONSE_SUCCESS_CODE:200,ACTIVE_X_OBJECT_VERSIONS:{V6:"MSXML2.XmlHttp.6.0",V5:"MSXML2.XmlHttp.5.0",V4:"MSXML2.XmlHttp.4.0",V3:"MSXML2.XmlHttp.3.0",V2:"MSXML2.XmlHttp.2.0",V1:"Microsoft.XmlHttp"}},n.NETWORK_ERRORS={AJAX_HANDLER_ERROR:"AjaxHandler._send raised an AJAX request error.",AJAX_HANDLER_TIMEOUT_ERROR:"AjaxHandler._send raised an AJAX request timeout error.",FETCH_LOCALE_SERVICE_ERROR:"MultiCurrencyUtilities.fetchDefaultCurrencyByLocaleService method raised an error.",REGISTRATION_SERVICE_ERROR:"Registration service request has raised an error",SIGN_IN_SERVICE_ERROR:"Sign-In service has raised an error",SIGN_OUT_SERVICE_ERROR:"Sign-Out service has raised an error",RESET_PASSWORD_SERVICE_ERROR:"Reset Password service has raised an error",EMAIL_SERVICE_ERROR:"Email service has raised an error",TEXT_TO_DOWNLOAD_SERVICE_ERROR:"Text to Download service has raised an error"},n.SOCIAL_CLIENT_IDS={google:"97269564947-t56o430phqkg9cbg445rqic4tjb3t6b3.apps.googleusercontent.com",facebook:{dev:"142725565859342",qaa:"105860729553166",prod:"289904261106223"},apple:{clientId:"com.priceline.negotiator.servicesid",scriptURI:"https://appleid.cdn-apple.com/appleauth/static/jsapi/appleid/1/en_US/appleid.auth.js",scope:"name email"},returnToURL:"postmessage"},n.EVENTS={SIGN_IN:"GLOBAL_PCLN_CUSTOMER_SIGNIN",SIGN_OUT:"GLOBAL_PCLN_CUSTOMER_SIGNOUT",CURRENCY:"GLOBAL_PCLN_CUSTOMER_CURRENCY",LANGUAGE:"GLOBAL_PCLN_CUSTOMER_LANGUAGE",MODAL_LAUNCHING:"GLOBAL_PCLN_LAUNCH_SIGNIN_MODAL",MODAL_CLOSED:"GLOBAL_PCLN_CUSTOMER_MODAL_CLOSED",REGISTRATION_SUCCESS:"GLOBAL_PCLN_REGISTRATION_SUCCESS",FORGOT_PASSWORD_EMAIL_CONFIRMATION_VISIBLE:"GLOBAL_PCLN_FORGOT_PASSWORD_EMAIL_CONFIRMATION_VISIBLE",FORGOT_PASSWORD_EMAIL_CONFIRMATION_INVISIBLE:"GLOBAL_PCLN_FORGOT_PASSWORD_EMAIL_CONFIRMATION_INVISIBLE",RESET_ACCOUNT_EMAIL_CONFIRMATION_VISIBLE:"GLOBAL_PCLN_RESET_ACCOUNT_EMAIL_CONFIRMATION_VISIBLE",RESET_ACCOUNT_EMAIL_CONFIRMATION_INVISIBLE:"GLOBAL_PCLN_RESET_ACCOUNT_EMAIL_CONFIRMATION_INVISIBLE",MODAL_LAUNCH_FORGOT_PASSWORD_FORM_VISIBLE:"GLOBAL_PCLN_MODAL_LAUNCH_FORGOT_PASSWORD_FORM_VISIBLE",MODAL_LAUNCH_REGISTRATION:"GLOBAL_PCLN_LAUNCH_REGISTRATION_MODAL",PACKAGES_ROUTE_HOTELS:"GLOBAL_PCLN_PKG_SEARCH_ROUTE_HOTELS",PACKAGES_ROUTE_FLIGHTS:"GLOBAL_PCLN_PKG_SEARCH_ROUTE_FLIGHTS",PACKAGES_ROUTE_HOTEL_DETAILS:"GLOBAL_PCLN_PKG_SEARCH_ROUTE_HOTEL_DETAILS",PACKAGES_ROUTE_FLIGHT_DETAILS:"GLOBAL_PCLN_PKG_SEARCH_ROUTE_FLIGHT_DETAILS",PACKAGES_ROUTE_ITINERARY:"GLOBAL_PCLN_PKG_SEARCH_ROUTE_ITINERARY",PACKAGES_ROUTE_UNKNOWN:"GLOBAL_PCLN_PKG_SEARCH_ROUTE_UNKNOWN",RC_ROUTE_LANDING:"RC_ROUTE_LANDING",RC_ROUTE_LISTING:"RC_ROUTE_LISTING"},n.PERSONAL_CONTAINERS=[".passive-email-display","#sign-out-menu-email-address","#sign-in-module__user-name-signedIn","#sign-out-menu-greeting","#nav-menu-sign-out-greeting",".register__headline","#register__headline--username"],n.STATIC_CURRENCIES=[{currencyCode:"USD",currencyLongDesc:"U.S. Dollar",currencySymbol:"$"},{currencyCode:"AUD",currencyLongDesc:"Australian Dollar",currencySymbol:"AU$"},{currencyCode:"BRL",currencyLongDesc:"Brazilian Real",currencySymbol:"R$"},{currencyCode:"GBP",currencyLongDesc:"British Pound",currencySymbol:"£"},{currencyCode:"CAD",currencyLongDesc:"Canadian Dollar",currencySymbol:"C$"},{currencyCode:"CNY",currencyLongDesc:"Chinese Yuan Renminbi",currencySymbol:"¥"},{currencyCode:"DKK",currencyLongDesc:"Danish Krone",currencySymbol:"kr"},{currencyCode:"AED",currencyLongDesc:"Emirati Dirham",currencySymbol:"AED"},{currencyCode:"EUR",currencyLongDesc:"Euro",currencySymbol:"€"},{currencyCode:"HKD",currencyLongDesc:"Hong Kong Dollar",currencySymbol:"HK$"},{currencyCode:"INR",currencyLongDesc:"Indian Rupee",currencySymbol:"₹"},{currencyCode:"MYR",currencyLongDesc:"Malaysian Ringgit",currencySymbol:"RM"},{currencyCode:"MXN",currencyLongDesc:"Mexican Peso",currencySymbol:"MX$"},{currencyCode:"NZD",currencyLongDesc:"New Zealand Dollar",currencySymbol:"$"},{currencyCode:"PHP",currencyLongDesc:"Philippine Peso",currencySymbol:"₱"},{currencyCode:"RUB",currencyLongDesc:"Russian Ruble",currencySymbol:"₽"},{currencyCode:"SGD",currencyLongDesc:"Singapore Dollar",currencySymbol:"S$"},{currencyCode:"TWD",currencyLongDesc:"Taiwan New Dollar",currencySymbol:"NT$"},{currencyCode:"THB",currencyLongDesc:"Thai Baht",currencySymbol:"฿"}],n.ANALYTICS={REGISTRATION_MODAL:{CATEGORY:"Global Register Modal"},FORGOT_PASSWORD_MODAL:{CATEGORY:"Forgot Password Modal"},ACCOUNT_LOCKED_PAGE:{CATEGORY:"Account_Locked_Page"},SET_NEW_PASSWORD_PAGE:{CATEGORY:"Set New Password"}},n.REG_EX_RULES={EMAIL_FORMAT_VALIDATION:/^[\w\'\+\-_]+(\.[\w\'\+\-_]+)*@[a-zA-Z0-9][a-zA-Z0-9\-]*(\.[a-zA-Z0-9\-]+)*\.[a-zA-Z]{2,6}$/,CREDIT_CARD_VALIDATION:{VI:/^4(\d{12}|\d{15})$/,MC:/^(5|2)[1-5]\d{14}$/,AX:/^(34|37)\d{13}$/,DC:/^(30[0-5]\d{11})|(3095\d{10})|(3[689]\d{12})$/,DS:/^6011[02349]\d{11}|(60117[4789]\d{10})|(60118[6789]\d{10})|(64[456789]\d{13})|(65\d{14})$/},ZIPCODE_VALIDATION:{US:/^\d{5}([\s-]?\d{4})?$/,CA:/^[a-z]\d[a-z][\s-]?\d[a-z]\d$/i,GB:/^([A-PR-UWYZ0-9][A-HK-Y0-9][AEHMNPRTVXY0-9]?[ABEHMNPRVWXY0-9]?\s{0,2}[0-9][ABD-HJLN-UW-Z]{2}|GIR 0AA)$/i,BM:/^[a-z]{2}\s{0,1}([a-z]{2}|\d{2})$/i,FK:/^FIQQ[\s-]?1ZZ$/i,PN:/^[a-z]{4}[\s-]?\d[a-z]{2}$/i,MT:/^[a-z]{3}[\s-]?\d{4}$/i,GG:/^(([a-z]{2}\d)|([a-z]{2}\d{2}))[\s-]?\d[a-z]{2}$/i,AI:/^AI[\s-]?2640$/i,JM:/^\d{2}$/,JE:/^JE\d[\s-]?\d[a-z]{2}$/i,IM:/^IM\d{1,2}[\s-]?\d[a-z]{2}$/i,VE:/^\d{4}([\s-]?[a-z])?$/i,GI:/^GX11[\s-]?1AA$/i,AR:/^[a-z][\s-]?\d{4}[\s-]?[a-z]{3}$/i,NL:/^\d{4}([\s-]?[a-z]{2})?$/i,BB:/^BB[\s-]?\d{5}$/i,VG:/^VG[\s-]?\d{4}$/i,KY:/^KY\d[\s-]?\d{4}$/i,LV:/^LV[\s-]?\d{4}$/i,LT:/^LT[\s-]?\d{5}$/i,MD:/^MD[\s-]?\d{4}$/i,MS:/^MSR\s?1110[\s-]?1350$/i,VC:/^VC[\s-]?\d{4}$/i,SI:/^(SI[\s-]?)?\d{4}$/i,TC:/^TKCA 1ZZ$/i}}},{}],47:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var u=o(e("babel-runtime/core-js/json/stringify")),r=o(e("babel-runtime/core-js/promise"));n.initOkta=S,n.openOkta=I,n.getIDToken=function(){return E().authClient.tokenManager.get("idToken")},n.logOutOkta=O;var a=o(e("../utils/event-helpers")),s=e("../metadata"),c=e("../utils/site-path"),d=o(e("../utils/test-ids")),f=e("../../app/components/common/operations/browser-operations");function o(e){return e&&e.__esModule?e:{default:e}}var h="pcln-okta-widget-target",p="/global-web-components/login/callback",g="/auth-svcs/api/v1/auth/token/web/dmc",i="/pws/v0/fly/tag/batch",m="gwcokta",l={logoutErr:{subhead:"There was an error logging you out.",showLoginButton:!1},tooManyRetries:{subhead:"We could not load our sign-in widget.",showLoginButton:!0},authError:{subhead:"There was an error authorizing your account.",showLoginButton:!0},parseLC:{subhead:"There was an error using your social identity provider for authentication.",showLoginButton:!0}},_=100,v=15;function y(){return{body:document.getElementsByTagName("body")[0],oktaWrapper:document.getElementById("pcln-okta-widget-placeholder"),oktaInnerContainer:document.querySelector(".pcln-okta-widget-inner"),oktaTarget:document.getElementById(h),oktaMerch:document.getElementById("pcln-okta-widget-branding"),oktaCloseButton:document.getElementById("pcln-okta-widget-close")}}function b(){return y().oktaWrapper.dataset}var w=void 0;function E(){var e,t;return!w&&window.OktaSignIn&&(e=(t=b()).oktaDomain,t=t.oktaClientId,t={authParams:{issuer:"https://"+e+"/oauth2/default",scopes:["openid","profile","email","offline_access",(0,f.validateMobileBrowserByRegEx)()?"mobileweb":"desktop"]},baseUrl:"https://"+e,clientId:t,useInteractionCodeFlow:!0,redirectUri:p,idpDisplay:"PRIMARY",i18n:{en:{forgotpassword:"Forgot your password?",haveaccount:"Already have an account? Sign in","oie.email.mfa.title":"Unlock via Email","oie.email.verify.subtitleWithEmailAddress":"Click on the button below to unlock your account via email to <$1>{0}</$1>  ","oie.email.verify.subtitleWithoutEmailAddress":"Click on the button below to unlock your account via email","oie.registration.form.title":"Create Your Account","oie.selfservice.reset.password.not.allowed":"Please reset your password with the social sign in provider you used to create your account.","oie.verify.authenticator.button.text":"Continue","password.forgot.email.or.username.placeholder":"Email Address","password.reset.title.generic":"Time to update your password!","primaryauth.password.placeholder":"Password","primaryauth.title":"Sign in","primaryauth.username.placeholder":"Email Address","registration.form.title":"Create Account","registration.signup.label":"Don't have an account?","registration.signup.text":"Create Account","socialauth.apple.label":"Sign in with Apple","socialauth.divider.text":"or sign in with email","socialauth.facebook.label":"Sign in with Facebook","socialauth.google.label":"Sign in with Google",unlockaccount:"Unlock Account"}},features:{rememberMe:!0,registration:!0,selfServiceUnlock:!0}},w=new OktaSignIn(t)),w}function S(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=window.location.search,t=new URLSearchParams(t);return t.get(m)&&!window.oktaInitErrorShown&&(A("initOkta("+e+"): loaded with error code: "+t.get(m)),C(t.get(m))),new r.default(function(c,l){(function e(t,n){var r,o,i,s,a;window.OktaSignIn?(n?function(){var t=E();localStorage.setItem("okta_complete_pathname",window.location.pathname);var e=window.location.search,e=new URLSearchParams(e);e.delete(m),localStorage.setItem("okta_complete_search","?"+e.toString()),localStorage.setItem("okta_complete_hash",window.location.hash),t.showSignInToGetTokens({el:"#"+h}).then(function(e){t.authClient.tokenManager.setTokens(e)}).catch(function(e){A("showOktaSignIn: "+e.message,e.stack),L()})}():(r=E(),o=b(),i=o.oktaDomain,s=o.cguid,a=y().oktaMerch,r.authClient.tokenManager.on("added",function(e,t){var n;"accessToken"===e&&((n=new XMLHttpRequest).open("POST",g,!1),n.setRequestHeader("authorization","Bearer "+t.accessToken),n.setRequestHeader("domain",i),n.setRequestHeader("x-pcln-cguid",s),n.setRequestHeader("Content-Type","application/json"),n.onload=function(){if(299<n.status)return A("tokenManager.on(added): "+n.status+" returned for "+g),O("authError");window.location.pathname===p?localStorage.getItem("okta_complete_pathname")?window.location.href=""+localStorage.getItem("okta_complete_pathname")+localStorage.getItem("okta_complete_search")+localStorage.getItem("okta_complete_hash"):window.location.href="/":location.reload()},t={appCode:(0,f.validateMobileBrowserByRegEx)()?"MOBILEWEB":"DESKTOP"},n.send((0,u.default)(t)))}),r.authClient.start(),function(t){window.location.pathname===p&&t.token.parseFromUrl().then(function(e){t.tokenManager.setTokens(e.tokens)}).catch(function(e){A(e.message,e.stack),O("parseLC")})}(r.authClient),r.on("afterRender",function(e){-1<e.formName.indexOf("enroll")?a.classList.add("pcln-okta-register"):a.classList.remove("pcln-okta-register"),"identify"===e.formName&&((0,d.default)(),document.querySelector('[data-se="enroll"]').innerHTML="Create Account"),"enroll-profile"===e.formName&&(document.getElementsByClassName("o-form-button-bar")[0].getElementsByClassName("button-primary")[0].value="Create Account"),"forgot-password"===e.controller&&(document.getElementsByClassName("o-form-info-container")[0].innerHTML="Reset your password to continue enjoying faster checkouts and easy access to your trip info. Just enter your email so we can send a secure link."),"select-authenticator-unlock-account"===e.formName&&(document.getElementsByClassName("authenticator-label")[0].innerHTML="Unlock via Email"),"authenticator-verification-data"===e.formName&&(document.getElementsByClassName("o-form-button-bar")[0].getElementsByClassName("button-primary")[0].value="Unlock Account")})),c()):v<t?(A("initOkta("+n+"): too many retries"),l(new Error("Failed to load okta")),n?L():C("tooManyRetries")):setTimeout(function(){e(++t,n)},_)})(0,e)})}function k(){var e=y(),t=e.body,n=e.oktaWrapper,r=e.oktaInnerContainer,o=e.oktaTarget,e=e.oktaCloseButton;t.removeEventListener("click",k),n.classList.remove("okta-show"),e.removeEventListener("click",k),r.removeEventListener("click",a.default),setTimeout(function(){n.classList.remove("okta-load"),o.innerHTML="",o.classList.remove("okta-load-failure"),r.classList.remove("okta-init-error");var e=E();e&&e.remove()},200)}function I(){var e=y(),t=e.body,n=e.oktaWrapper,r=e.oktaInnerContainer,o=e.oktaCloseButton;n.classList.add("okta-load"),setTimeout(function(){n.classList.add("okta-show"),(0,c.isLoginPath)()||t.addEventListener("click",k),r.addEventListener("click",a.default),o.addEventListener("click",k)},0),S(!0)}function C(e){var t=y(),n=t.body,r=t.oktaWrapper,o=t.oktaInnerContainer,i=t.oktaTarget,s=t.oktaCloseButton,t=l[e]?l[e].subhead:"A problem has occurred while signing you in",e=l[e]&&l[e].showLoginButton?"<a id='okta-error-back-to-sign-in' class='okta-error-button-link okta-signin-button-link' href='#'>Back to Sign In</a>":"";o.classList.add("okta-init-error"),i.innerHTML="\n    <span class='okta-error-head'>&#9888; Sign In Error</span>\n    <span class='okta-error-subhead'>"+t+" Please try again.</span>\n    <span class='okta-error-body'>If this problem persists, please visit our Help Center.</span>\n    "+e+"\n    <a class='okta-error-button-link' href='https://help.priceline.com/' target='_blank'>Visit Help Center</a>\n  ",r.classList.add("okta-load"),setTimeout(function(){r.classList.add("okta-show"),(0,c.isLoginPath)()||n.addEventListener("click",k),o.addEventListener("click",a.default),s.addEventListener("click",k);var e=document.getElementById("okta-error-back-to-sign-in");e&&e.addEventListener("click",function(){k(),setTimeout(function(){I()},210)}),window.oktaInitErrorShown=!0},0)}function L(){var e=y().oktaTarget;e.classList.add("okta-load-failure"),e.innerHTML="<span class='okta-load-failure-icon'>&#9888;</span>\n  <br />\n  We're sorry, there was a problem loading our sign-in form. Please refresh the page to try again."}function A(e,t){e={category:"okta-client",action:"error",label:e,url:encodeURI(window.location.href),stack:t},t=new XMLHttpRequest;t.open("POST",i,!0),t.send((0,u.default)(e))}function O(r){var o,i=E();i&&((o=new XMLHttpRequest).open("GET",s.SERVICE_ENDPOINTS.SIGNOUT_SERVICE,!1),o.onload=function(){299<o.status&&A("logOutOkta: "+o.status+" returned for "+s.SERVICE_ENDPOINTS.SIGNOUT_SERVICE),i.authClient.signOut(),i.remove();var e=window.location.pathname;window.location.pathname===p&&(e=localStorage.getItem("okta_complete_pathname")||"/");var t=window.location.pathname===p?localStorage.getItem("okta_complete_search"):window.location.search,n=new URLSearchParams(t);r?n.set(m,r):299<o.status?n.set(m,"logoutErr"):n.delete(m);t=window.location.pathname===p?localStorage.getItem("okta_complete_hash"):window.location.hash;window.location.href=e+"?"+n.toString()+t},o.send())}},{"../../app/components/common/operations/browser-operations":9,"../metadata":46,"../utils/event-helpers":50,"../utils/site-path":52,"../utils/test-ids":54,"babel-runtime/core-js/json/stringify":82,"babel-runtime/core-js/promise":90}],48:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=c(e("babel-runtime/helpers/classCallCheck")),o=c(e("babel-runtime/helpers/createClass")),i=e("./lib/object-assign-polyfill"),s=e("./lib/element-class-list-shim"),a=e("./lib/array-find-polyfill");function c(e){return e&&e.__esModule?e:{default:e}}(0,o.default)(l,null,[{key:"init",value:function(){(0,a.configureArrayFindPolyFill)(),(0,i.configureObjectAssignPolyFill)(),(0,s.configureElementClassListShim)()}}]),o=l;function l(){(0,r.default)(this,l)}n.default=o},{"./lib/array-find-polyfill":43,"./lib/element-class-list-shim":44,"./lib/object-assign-polyfill":45,"babel-runtime/helpers/classCallCheck":94,"babel-runtime/helpers/createClass":95}],49:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.default=function(){var e=window&&window.location&&window.location.pathname||"";return 0===e.indexOf("/hotels")?"Hotels":0===e.indexOf("/flights")?"Flights":0===e.indexOf("/rentalcars")?"RentalCars":0===e.indexOf("/vacationpackages")?"VacationPackages":void 0}},{}],50:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){e.stopPropagation()},n.preventDefault=function(e){e&&e.preventDefault&&e.preventDefault()}},{}],51:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=l(e("babel-runtime/core-js/object/assign")),u=l(e("babel-runtime/core-js/get-iterator")),d=l(e("babel-runtime/core-js/map")),o=l(e("babel-runtime/helpers/classCallCheck")),i=l(e("babel-runtime/helpers/createClass")),s=l(e("../../app/network/ajax-handler")),a=e("../../common/metadata"),c=e("../../app/components/common/operations/browser-operations");function l(e){return e&&e.__esModule?e:{default:e}}var f="DEFAULT_BUCKET",i=((0,i.default)(h,[{key:"load",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.__defaultBucket,n=2<arguments.length&&void 0!==arguments[2]&&arguments[2];this.__buckets.has(t)||this.__buckets.set(t,new d.default);var r=this.__buckets.get(t),o=!0,i=!1,s=void 0;try{for(var a,c=(0,u.default)(e.tests);!(o=(a=c.next()).done);o=!0){var l=a.value;r.set(l.setiTagName,l)}}catch(e){i=!0,s=e}finally{try{!o&&c.return&&c.return()}finally{if(i)throw s}}n&&(this.__defaultBucket=t)}},{key:"get",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.__defaultBucket;return(0,r.default)({},this.__buckets.get(t).get(e))}},{key:"isDefined",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.__defaultBucket;return this.__buckets.get(t).has(e)}},{key:"isControl",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.__defaultBucket;return!this.isDefined(e,t)||"CONTROL"===this.get(e,t).setiVariantName}},{key:"isDefault",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.__defaultBucket;return!this.isDefined(e,t)||"DEFAULT"===this.get(e,t).setiVariantName}},{key:"isVariant",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this.__defaultBucket;return t?this.whichVariant(e,n)===t:!this.isDefault(e)}},{key:"whichVariant",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.__defaultBucket,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[];if(!n.length)return this.get(e,t).setiVariantName;try{var r=!0,o=!1,i=void 0;try{for(var s,a=(0,u.default)(n);!(r=(s=a.next()).done);r=!0){var c=s.value;if(c.setiTagName===e)return c.setiVariantName}}catch(e){o=!0,i=e}finally{try{!r&&a.return&&a.return()}finally{if(o)throw i}}}catch(e){}}},{key:"clear",value:function(e){this.__buckets.delete(e),this.__defaultBucket=f}},{key:"fireImpression",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;try{s.default.post({url:a.SERVICE_ENDPOINTS.SETI_BATCH_IMPRESSION_SERVICE+"/"+e.requestGuid,data:e,callback:t,errorCallback:t,async:!0})}catch(e){t&&t()}}},{key:"generateSETIImpressionObjectByTestName",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=(0,c.getCookieByName)("SITESERVER");return{clientIP:"127.0.0.1",custID:"-1",pageName:"global-web-components",productID:"16",requestGuid:t&&"string"==typeof t?t.split("=").filter(function(e){return"ID"!==e})[0]:"",setiTagNames:e,userAgent:window.navigator.userAgent||"UNKNOWN",visitID:(0,c.getCookieByName)("vid"),referralID:window.GLOBAL_BOOTSTRAP_DATA&&window.GLOBAL_BOOTSTRAP_DATA.referral?window.GLOBAL_BOOTSTRAP_DATA.referral.id:null,referralSourceID:window.GLOBAL_BOOTSTRAP_DATA&&window.GLOBAL_BOOTSTRAP_DATA.referral?window.GLOBAL_BOOTSTRAP_DATA.referral.sourceId:null}}}]),h);function h(){(0,o.default)(this,h),this.__buckets=new d.default,this.__defaultBucket=f,this.__buckets.set(this.__defaultBucket,new d.default);try{this.load({tests:window.__PCLN_SI_PERSISTENCE__.setis})}catch(e){}}n.default=new i},{"../../app/components/common/operations/browser-operations":9,"../../app/network/ajax-handler":31,"../../common/metadata":46,"babel-runtime/core-js/get-iterator":81,"babel-runtime/core-js/map":83,"babel-runtime/core-js/object/assign":84,"babel-runtime/helpers/classCallCheck":94,"babel-runtime/helpers/createClass":95}],52:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){var e=window.location.pathname;return"/"===e||"/home/"===e},n.isLoginPath=function(){return r.some(function(e){return window.location.href.includes(e)})},n.isVipDashboardPath=function(){return window.location.href.includes("/next-profile/vip")};var r=["/next-profile/login"]},{}],53:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r,o=e("babel-runtime/core-js/json/stringify"),i=(r=o)&&r.__esModule?r:{default:r};function s(e){var e=JSON.parse(e),t=document.getElementById("registration-promo-interest"),n=document.getElementById("promo-interest-caption-variant");switch(e.checkBoxStatus){case 0:t.checked=!1,t.style.display="none",n.style.visibility="hidden";break;case 1:t.checked=!0,t.style.display="inline-block",n.style.visibility="visible";break;case 2:t.checked=!0,t.style.display="none",n.style.visibility="hidden";break;default:t.checked=!1,t.style.display="inline-block",n.style.visibility="visible"}}n.invokeSubscribeEmailService=function(){var e=document.getElementById("registration-email").value;{var t,n;0<e.length&&(t=new XMLHttpRequest,(n=new Object).emailId=e,n=(0,i.default)(n),t.onreadystatechange=function(){4===this.readyState&&200===this.status&&s(this.responseText)},t.open("POST","/pws/v0/subscribeemail/status",!0),t.setRequestHeader("Content-Type","application/json;charset=UTF-8"),t.send(n))}},n.doPostProcessing=s},{"babel-runtime/core-js/json/stringify":82}],54:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){var e=document.querySelector('[data-se="o-form-input-identifier"]'),t=document.querySelector('[data-se="o-form-input-credentials.passcode"]'),n=document.querySelector('[data-type="save"]'),r=document.querySelector('[data-se-for-name="rememberMe"]'),o=document.querySelector('[data-se="forgot-password"]'),i=document.querySelector('[data-se="social-auth-facebook-button"]'),s=document.querySelector('[data-se="social-auth-apple-button"]'),a=document.querySelector('[data-se="social-auth-google-button"]'),c=document.querySelector('[data-se="unlock"]'),l=document.querySelector('[data-se="help"]'),u=document.querySelector('[data-se="enroll"]');e&&e.getElementsByTagName("input")[0]&&e.getElementsByTagName("input")[0].setAttribute("data-testid","signin-first-name");t&&t.getElementsByTagName("input")[0]&&t.getElementsByTagName("input")[0].setAttribute("data-testid","password");n&&n.setAttribute("data-testid","button-sign-in");r&&r.setAttribute("data-testid","remember-email");o&&o.setAttribute("data-testid","forgot-password-link");i&&i.setAttribute("data-testid","signin-view__facebook-button-top");s&&s.setAttribute("data-testid","signin-view__apple-button-top");a&&a.setAttribute("data-testid","signin-view__google-button-top");c&&c.setAttribute("data-testid","unlock-account-link");l&&l.setAttribute("data-testid","help-link");u&&u.setAttribute("data-testid","register-link-variant")}},{}],55:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("../utils/environment"),e=e("../utils/string");function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=(0,e.uniqueString)("BrowserErrorHandler_handlers"),c=(0,e.uniqueString)("BrowserErrorHandler_onError"),i=(0,e.uniqueString)("BrowserErrorHandler_listening");n.default=function(){function s(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(0,r.isBrowser)()&&"function"==typeof e&&(s[a]||(s[a]=new Set,s[i]=!1),this[c]=e,this.start())}var e,t,n;return e=s,n=[{key:"start",value:function(){var e;s[i]||(e=window.onerror,window.onerror=function(){try{"function"==typeof e&&e.apply(void 0,arguments)}catch(e){}s.handleError.apply(s,arguments)},s[i]=!0)}},{key:"stop",value:function(){s[i]&&(window.onerror=null,s[i]=!1)}},{key:"handleError",value:function(e,t,n,r,o){var i={message:e,source:t,lineno:n,colno:r};o&&o.stack&&(i.stack=o.stack),s[a].forEach(function(e){try{e[c](i)}catch(e){}})}}],(t=[{key:"start",value:function(){s[a].has(this)||(s[a].add(this),s.start())}},{key:"stop",value:function(){s[a].remove(this),s[a].size||s.stop()}}])&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),s}()},{"../utils/environment":71,"../utils/string":77}],56:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=e("../utils/environment"),e=e("../utils/string");function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=(0,e.uniqueString)("PageVisibiltyBehavior_handlers"),a=(0,e.uniqueString)("PageVisibiltyBehavior_onChange"),c=(0,e.uniqueString)("PageVisibiltyBehavior_listening");n.default=function(){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),n[s]||(n[s]=new Set,n[c]=!1),(0,o.isBrowser)()&&(this[a]=e||function(){},this.start())}var e,t,r;return e=n,r=[{key:"start",value:function(){var e;n[c]||(e=n[s])&&e.size&&(document.addEventListener("visibilitychange",n._onVisiblityChange),n[c]=!0)}},{key:"stop",value:function(){n[c]&&(document.removeEventListener("visibilitychange",n._onVisiblityChange),n[c]=!1)}},{key:"_onVisiblityChange",value:function(){var t="hidden"===document.visibilityState;n[s].forEach(function(e){try{e[a](t)}catch(e){}})}}],(t=[{key:"start",value:function(){n[s].has(this)||(n[s].add(this),n.start())}},{key:"stop",value:function(){n[s].remove(this),n[s].size||n.stop()}}])&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),n}()},{"../utils/environment":71,"../utils/string":77}],57:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=o(e("./priority-queue")),i=o(e("./task-pool")),s=e("./logs"),e=e("../utils/string");function o(e){return e&&e.__esModule?e:{default:e}}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){a=!0,o=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,t)||u(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var d=(0,e.uniqueString)("LogManager_batchSize"),f=(0,e.uniqueString)("LogManager_batchDelay"),h=(0,e.uniqueString)("LogManager_batchMeta"),p=(0,e.uniqueString)("LogManager_instance"),g=(0,e.uniqueString)("LogManager_taskPool"),m=(0,e.uniqueString)("LogManager_providers"),_=(0,e.uniqueString)("LogManager_queue"),v=(0,e.uniqueString)("LogManager_manualReleaseTimeout"),y=(0,e.uniqueString)("LogManager_maxLogs"),b=(0,e.uniqueString)("LogManager_resolveDelay"),w=(0,e.uniqueString)("LogManager_running");n.default=function(){function o(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),this[g]=new i.default({poolSize:5}),this[d]=e.batchSize||30,this[f]=e.batchDelay||5e3,this[h]=e.batchMeta,this[m]={},this[_]=new r.default,this[v]=null,this[y]=e.maxLogs||1e3,this[b]=e.resolveDelay||500,this[w]=!1}var e,t,n;return e=o,n=[{key:"parseProviders",value:function(e,t,n){for(var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:new Map,o=t>e.size?t-e.size:t,i=0;i<o;++i){var s=e.front;if(!s)break;!r.has(s.provider)&&r.size<=n&&r.set(s.provider,{data:[]}),r.get(s.provider).data.push(e.dequeue())}return!e.empty&&r.size<n&&this.parseProviders(e,t,--n,r),r}},{key:"instance",get:function(){return this[p]||(this[p]=new o),this[p]}}],(t=[{key:"running",get:function(){return this[w]}},{key:"log",value:function(e,t,n){var r;this[_].size>=this[y]||(r=e instanceof s.Log?e:new s.Log(e),n&&(r.provider=n),this[_].enqueue(r,t),this._start())}},{key:"release",value:function(e){var t=this;this[v]||(this[v]=setTimeout(function(){t[v]=clearTimeout(t[v])},this[f]),this._send(e))}},{key:"_start",value:function(){this[w]=!0,setTimeout(this._send.bind(this),this[f])}},{key:"_send",value:function(){var i=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(this[w]&&!this[g].full){var s,a=this[d],t=this[g].max-this[g].size,t=o.parseProviders(this[_],a,t),c=!!e.manual,n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,t=function(){};return{s:t,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw o}}}}(t);try{var r=function(){for(var e=l(s.value,2),n=e[0],r=e[1],t=Math.ceil(r.data.length/a),o=0;o<t;++o)!function(e){var e=e*a,t=r.data.slice(e,e+a);i[g].add(function(){return n.onBatch(t,{manual:c}).then(function(){i[_].size&&!c?setTimeout(i._send.bind(i),1e3):i[w]=!1})})}(o)};for(n.s();!(s=n.n()).done;)r()}catch(e){n.e(e)}finally{n.f()}}}},{key:"_stop",value:function(){this[w]&&(this[w]=!1)}}])&&c(e.prototype,t),n&&c(e,n),Object.defineProperty(e,"prototype",{writable:!1}),o}()},{"../utils/string":77,"./logs":59,"./priority-queue":60,"./task-pool":62}],58:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,o=(r=e("./log-manager"))&&r.__esModule?r:{default:r};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=(0,e("../utils/string").uniqueString)("LogProvider_batchListener");n.default=function(){function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),"string"!=typeof this.constructor.is)throw new Error("LogProvider -> static property `is` required");this.debugMode=e.debug||!1,this[s]=null}var e,n,r;return e=t,(n=[{key:"log",value:function(e,t){o.default.instance.log(e,t,this)}},{key:"onBatch",value:function(){}},{key:"addBatchListener",value:function(){var n=this;this[s]||(this[s]=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};e.contains(n)&&(e=e.get(n),n.printBatch(e),n.onBatch(e,t))},o.default.instance.on("batch",this[s]))}},{key:"removeBatchListener",value:function(){this[s]&&o.default.instance.off("batch",this[s])}},{key:"printBatch",value:function(e){this.debugMode&&console.log("BATCH : ".concat(this.constructor.is," -> ").concat(e.length," logs"),e)}}])&&i(e.prototype,n),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}()},{"../utils/string":77,"./log-manager":57}],59:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.WarningLog=n.SetiLog=n.Log=n.LOG_TYPES=n.EventLog=n.ErrorLog=void 0;var r=e("../utils/environment");function i(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function s(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?i(Object(o),!0).forEach(function(e){var t,n;t=r,e=o[n=e],n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):i(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o(e,t)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=l(n);return function(e,t){{if(t&&("object"===u(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined")}return function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e)}(this,r?(e=l(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var p={DEFAULT:"Log",ERROR:"Error",EVENT:"Event",SETI:"Seti",WARNING:"Warning"};n.LOG_TYPES=p;var g=function(){function n(e,t){d(this,n),this.type=p.DEFAULT,this.data=e,this.timestamp=new Date,this.provider=t,(0,r.isBrowser)()&&(this.url=window.location.href)}return h(n,[{key:"serialize",value:function(){var e,t={},n=0;for(e in this.data){if(50<n)break;var r=this.data[e];r&&("object"===u(r)&&r instanceof Date==!1||("string"==typeof r&&1e3<r.length&&(r="[TRUNC] ".concat(r.substring(0,1e3))),t[e]=r,n++))}return null!==t.action&&void 0!==t.action||(t.action=this.type),t.timestamp=this.timestamp,this.url&&(t.url=this.url),t}}],[{key:"isLog",value:function(e){return"object"===u(e)&&!Array.isArray(e)&&e instanceof Date==!1}}]),n}();n.Log=g,n.ErrorLog=function(){a(o,g);var r=c(o);function o(e,t){var n;d(this,o),(n=r.call(this,e)).type=p.ERROR;return n.data=s(s({},e),{},{severity:e.severity||9}),t&&console.error("PCLNAnalytics ErrorLog : ".concat(e.message)),n}return h(o)}(),n.EventLog=function(){a(n,g);var t=c(n);function n(e){return d(this,n),(e=t.call(this,e)).type=p.EVENT,e}return h(n)}(),n.SetiLog=function(){a(r,g);var n=c(r);function r(e){var t;return d(this,r),(t=n.call(this,e)).type=p.SETI,t.data=s(s({},e),{},{event:"seti"}),t}return h(r)}(),n.WarningLog=function(){a(o,g);var r=c(o);function o(e,t){var n;return d(this,o),(n=r.call(this,e)).type=p.WARNING,t&&console.warn("PCLNAnalytics WarningLog : ".concat(e.message)),n}return h(o)}()},{"../utils/environment":71}],60:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.PriorityQueueItem=void 0;e=e("../utils/string");function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var s=(0,e.uniqueString)("PriorityQueue_data"),a=(0,e.uniqueString)("PriorityQueue_priority"),c=(0,e.uniqueString)("PriorityQueue_queue"),l=function(){function n(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:9;r(this,n),this[s]=e,this[a]=t}return i(n,[{key:"data",get:function(){return this[s]}},{key:"priority",get:function(){return this[a]}}]),n}();n.PriorityQueueItem=l,n.default=function(){function e(){r(this,e),this[c]=[]}return i(e,[{key:"size",get:function(){return this[c].length}},{key:"empty",get:function(){return 0===this[c].length}},{key:"front",get:function(){return this[c][0]?this[c][0].data:null}},{key:"enqueue",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:9;t<1?t=1:9<t&&(t=9);var n=new l(e,t),r=this[c];if(this.empty)this[c].push(n);else{for(var o=!1,i=0;i<r.length;++i)if(t<r[i].priority){r.splice(i,0,n),o=!0;break}o||this[c].push(n)}}},{key:"dequeue",value:function(){if(!this.empty)return this[c].shift().data}},{key:"clear",value:function(){this[c]=[]}}]),e}()},{"../utils/string":77}],61:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;e=e("../utils/string");function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=(0,e.uniqueString)("Queue_maxSize"),s=(0,e.uniqueString)("Queue_queue");n.default=function(){function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1/0;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this[s]=[],this[i]=Number(e)}var e,n,r;return e=t,(n=[{key:"size",get:function(){return this[s].length}},{key:"empty",get:function(){return 0===this[s].length}},{key:"front",get:function(){return this[s][0]}},{key:"enqueue",value:function(e){this.size>=this[i]||this[s].push(e)}},{key:"dequeue",value:function(){return this[s].shift()}},{key:"clear",value:function(){this[s]=[]}}])&&o(e.prototype,n),r&&o(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}()},{"../utils/string":77}],62:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,o=e("../utils/string"),i=(r=e("./queue"))&&r.__esModule?r:{default:r};function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=(0,o.uniqueString)("TaskPool_pool"),c=(0,o.uniqueString)("TaskPool_queue"),l=(0,o.uniqueString)("TaskPool_maxPoolSize"),u=(0,o.uniqueString)("TaskPool_maxQueueSize");n.default=function(){function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this[l]=e.poolSize||10,this[u]=e.queueSize||1e3,this[a]=[],this[c]=new i.default}var e,n,r;return e=t,(n=[{key:"max",get:function(){return this[l]}},{key:"size",get:function(){return this[a].length}},{key:"queueSize",get:function(){return this[c].size}},{key:"empty",get:function(){return!this.size}},{key:"full",get:function(){return this.size===this[l]}},{key:"add",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0,o=t;r<o.length;r++){var i=o[r];if(this[a].length<this[l])this._run(i);else{if(!(this[c].size<this[u]))break;this[c].enqueue(i)}}}},{key:"_run",value:function(e){var t=this,n=e()||Promise.resolve(),e=function(){return t._complete(n)};n.then(e).catch(e),this[a].push(n)}},{key:"_complete",value:function(e){e=this[a].indexOf(e);if(!(e<0)&&(this[a].splice(e,1),!this.full&&this[c.size]))for(var t=this[l]-this[c].size,n=0;n<t;++n)this._run(this[c].dequeue())}}])&&s(e.prototype,n),r&&s(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}()},{"../utils/string":77,"./queue":61}],63:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.VERSION=n.NAME=n.APP_VERSION=n.APP_NAME=n.APP_LOCALE=void 0;var r,o=(r=e("./utils/pcln-data"))&&r.__esModule?r:{default:r},i=e("./utils/string");function s(){var e=(0,o.default)();return{NAME:"PCLNAnalytics",VERSION:(0,i.version)("1.0.0"),APP_NAME:e.appName||"",APP_VERSION:e.appVersion||"",APP_LOCALE:e.locale||""}}var a=s(),c=a.NAME,l=a.VERSION,u=a.APP_NAME,d=a.APP_VERSION,a=a.APP_LOCALE;n.APP_LOCALE=a,n.APP_VERSION=d,n.APP_NAME=u,n.VERSION=l,n.NAME=c,n.default=s},{"./utils/pcln-data":75,"./utils/string":77}],64:[function(e,t,n){"use strict";function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.pclnHTTPServerHandler=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.url,n=e.type||e.data?"POST":"GET",e=e.data&&"POST"==n?JSON.stringify(e.data):void 0;return r({url:t,type:n,data:e})};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==s(e)&&"function"!=typeof e)return{default:e};t=a(t);if(t&&t.has(e))return t.get(e);var n,r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=o?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(r,n,i):r[n]=e[n])}r.default=e,t&&t.set(e,r);return r}(e("isomorphic-fetch"));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}},{"isomorphic-fetch":261}],65:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=r(e("./classes/log-manager")),i=e("./classes/logs"),s=r(e("./providers/elastic-search-provider")),a=r(e("./providers/splunk-provider")),c=r(e("./providers/gtm-provider")),l=r(e("./providers/ga4-provider")),u=r(e("./behaviors/browser-error-behavior")),d=r(e("./behaviors/page-visibility-behavior")),f=e("./utils/pcln-data"),h=r(e("./utils/storage")),e=e("./utils/string");function r(e){return e&&e.__esModule?e:{default:e}}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function m(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?g(Object(o),!0).forEach(function(e){var t,n;t=r,e=o[n=e],n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):g(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var v=(0,e.uniqueString)("PCLNAnalytics_browserErrorBehavior"),y=(0,e.uniqueString)("PCLNAnalytics_showDebugs"),b=(0,e.uniqueString)("PCLNAnalytics_loggedKeys"),w=(0,e.uniqueString)("PCLNAnalytics_ pageVisibilityBehavior"),E=(0,e.uniqueString)("PCLNAnalytics_elasticSearchProvider"),S=(0,e.uniqueString)("PCLNAnalytics_gtmProvider"),k=(0,e.uniqueString)("PCLNAnalytics_splunkProvider"),I=(0,e.uniqueString)("PCLNAnalytics_ga4provider");n.default=function(){function n(e){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),e=m(m({},e),h.default.state),this[y]=!1,this[b]={},this[E]=new s.default(e),this[k]=new a.default(e),this[S]=new c.default(m({max:e.maxLogs},e)),this[I]=new l.default(e),this[v]=new u.default(function(e){return t.logError(e)}),this[w]=new d.default(function(e){e&&o.default.instance.release({manual:!0})}),this.name=e.name,this.version=e.version,this.debugMode=e.debug||!1,this.GAEnabled="boolean"!=typeof e.GAEnabled||e.GAEnabled,this.GA4Enabled="boolean"==typeof e.GA4Enabled&&e.GA4Enabled}var e,t,r;return e=n,(t=[{key:"appName",set:function(e){(0,f.updatePCLNData)({appName:e})}},{key:"appVersion",set:function(e){(0,f.updatePCLNData)({appVersion:e})}},{key:"debugMode",set:function(e){this[y]=e=void 0===e?!1:e,h.default.save("debug",e)}},{key:"enableGA4",set:function(e){this.GA4Enabled=e=void 0===e?!0:e}},{key:"log",value:function(e,t){this.validateLog(e,i.LOG_TYPES.DEFAULT)&&this[E].log(e,t)}},{key:"logError",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length?arguments[1]:void 0;this.validateLog(e,i.LOG_TYPES.ERROR)&&this[E].log(new i.ErrorLog(e,this[y]),t)}},{key:"logEvent",value:function(){var e,t,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r=1<arguments.length?arguments[1]:void 0;"seti"!==n.event?(e=this.validateLog(n,i.LOG_TYPES.EVENT),t=n instanceof i.Log?n:new i.EventLog(n),e&&(this.GAEnabled&&this[S].log(t),this.GA4Enabled&&this[I].log(t),this[E].log(t,r))):this.logSeti(n,r)}},{key:"logSeti",value:function(){this.logEvent(new i.SetiLog(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}))}},{key:"logSetiOnce",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length?arguments[1]:void 0;t&&this[b][t]||(this[b][t]=!0,this.logEvent(new i.SetiLog(e)))}},{key:"logWarning",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length?arguments[1]:void 0;this.validateLog(e,i.LOG_TYPES.WARNING)&&this[E].log(new i.WarningLog(e,this[y]),t)}},{key:"validateLog",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:i.LOG_TYPES.DEFAULT,n=i.Log.isLog(e);return n?e instanceof i.Log||!e.type||(t="PCLNAnalytics.validateLog -> log.type should not be specified -> Overriding ".concat(e.type," with ").concat(t,"."),this.logWarning({message:t})):(e="PCLNAnalytics.validateLog -> Invalid Log -> type: ".concat(p(e),", value: ").concat(e),this.logError({severity:9,message:e})),n}}])&&_(e.prototype,t),r&&_(e,r),Object.defineProperty(e,"prototype",{writable:!1}),n}()},{"./behaviors/browser-error-behavior":55,"./behaviors/page-visibility-behavior":56,"./classes/log-manager":57,"./classes/logs":59,"./providers/elastic-search-provider":66,"./providers/ga4-provider":67,"./providers/gtm-provider":68,"./providers/splunk-provider":69,"./utils/pcln-data":75,"./utils/storage":76,"./utils/string":77}],66:[function(e,t,n){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=r(e("../utils/http")),s=r(e("../classes/log-provider")),a=r(e("../classes/task-pool")),e=e("../utils/string");function r(e){return e&&e.__esModule?e:{default:e}}function c(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function l(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?c(Object(o),!0).forEach(function(e){var t,n;t=r,e=o[n=e],n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):c(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=h(n);return function(e,t){{if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined")}return function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e)}(this,r?(e=h(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=(0,e.uniqueString)("ElasticSearchProvider_url"),g=(0,e.uniqueString)("ElasticSearchProvider_httpPool"),m=(0,e.uniqueString)("ElasticSearchProvider_meta"),_="/pws/v0/fly/tag/batch";n.default=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(o,s.default);var e,t,n,r=f(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,e))[p]=e.elasticSearchUrl||_,t[g]=new a.default,t[m]=e.batchMeta,t}return e=o,n=[{key:"is",get:function(){return"ElasticSearchProvider"}}],(t=[{key:"onBatch",value:function(e,t){return(0,i.default)({url:this[p],data:this._createRequest(e),beacon:t.manual})}},{key:"_createRequest",value:function(e){var t={tags:e.map(function(e){return{data:e.serialize()}}),timestamp:new Date},e=this[m];return(e="function"==typeof e?e():e)?l(l({},t),e):t}}])&&u(e.prototype,t),n&&u(e,n),Object.defineProperty(e,"prototype",{writable:!1}),o}()},{"../classes/log-provider":58,"../classes/task-pool":62,"../utils/http":72,"../utils/string":77}],67:[function(e,t,n){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,i=(r=e("../classes/log-provider"))&&r.__esModule?r:{default:r};function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=l(n);return function(e,t){{if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined")}return function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e)}(this,r?(e=l(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=(0,e("../utils/environment").isBrowser)();n.default=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t)}(o,i.default);var e,t,n,r=c(o);function o(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),r.call(this,e)}return e=o,n=[{key:"is",get:function(){return"GA4Provider"}},{key:"isGA4Format",value:function(e){e=o.serialize(e);return!(!e.event||!e.attributes)||(console.error("Please ensure your data object has the properties event and attributes"),!1)}},{key:"gtag",get:function(){return u?window.gtag:null}},{key:"dataLayer",get:function(){var e=null;return e=u?window.dataLayer||(window.dataLayer=[]):e}},{key:"serialize",value:function(e){var t,n,n=(n=e).serialize?n.serialize():n;return n.attributes=null==e||null===(t=e.data)||void 0===t?void 0:t.attributes,n}}],(t=[{key:"log",value:function(e){if(u&&o.isGA4Format(e))try{var t=o.serialize(e);"function"==typeof window.gtag?o.gtag("event",t.event,t.attributes):o.dataLayer.push(Object.assign({event:t.event},t.attributes))}catch(e){console.error(e)}}}])&&s(e.prototype,t),n&&s(e,n),Object.defineProperty(e,"prototype",{writable:!1}),o}()},{"../classes/log-provider":58,"../utils/environment":71}],68:[function(e,t,n){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,i=(r=e("../classes/log-provider"))&&r.__esModule?r:{default:r},s=e("../utils/environment"),a=e("../utils/string");function c(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,t=function(){};return{s:t,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw o}}}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=h(n);return function(e,t){{if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined")}return function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e)}(this,r?(e=h(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e){return e.serialize?e.serialize():e}var g=(0,s.isBrowser)(),m=/pageload/i,_=/pageload/i,v=(0,a.uniqueString)("GTMProvider_maxTags"),y=(0,a.uniqueString)("GTMProvider_tags");n.default=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(a,i.default);var e,t,n,r=f(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=r.call(this,e))[y]=[],t[v]=e.maxTags,t}return e=a,n=[{key:"is",get:function(){return"GTMProvider"}},{key:"isTag",value:function(e){e=p(e);return a.isGATag(e)||a.isSetiTag(e)}},{key:"isGATag",value:function(e){e=p(e);return!!(e&&e.category&&e.action)}},{key:"isSetiTag",value:function(e){e=p(e);return!!(e&&"seti"===e.event&&e.teamName&&e.dimension&&e.variantName)}},{key:"transformEventName",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=m.test(e);return"gtm-".concat(t?e:"custom","-event")}},{key:"serialize",value:function(e){e=p(e);if(a.isGATag(e)){var t={event:a.transformEventName(e.event),"gtm-event-category":e.category,"gtm-event-action":e.action,"gtm-event-label":e.label};return _.test(e.event)&&(t.nonInteraction=1),t}if(a.isSetiTag(e)){t={event:"seti",seti_team_name:e.teamName};return t["dimension".concat(e.dimension)]=e.variantName,t}}},{key:"dataLayer",get:function(){var e=null;return e=g?window.dataLayer||(window.dataLayer=[]):e}}],(t=[{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(g){try{t=t.filter(a.isTag).map(a.serialize)}catch(e){console.error(e)}var r,o=c(t);try{for(o.s();!(r=o.n()).done;){var i=r.value;a.dataLayer.push(i),this[y].push(i)}}catch(e){o.e(e)}finally{o.f()}var s=this[y].length-this[v];0<s&&this[y].splice(0,s)}}}])&&u(e.prototype,t),n&&u(e,n),Object.defineProperty(e,"prototype",{writable:!1}),a}()},{"../classes/log-provider":58,"../utils/environment":71,"../utils/string":77}],69:[function(e,t,n){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=r(e("../utils/http")),s=r(e("../classes/log-provider")),a=r(e("../classes/task-pool")),e=e("../utils/string");function r(e){return e&&e.__esModule?e:{default:e}}function c(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function l(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?c(Object(o),!0).forEach(function(e){var t,n;t=r,e=o[n=e],n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):c(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=h(n);return function(e,t){{if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined")}return function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e)}(this,r?(e=h(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p="/splunk",g=(0,e.uniqueString)("SplunkProvider_url"),m=(0,e.uniqueString)("SplunkProvider_httpPool"),_=(0,e.uniqueString)("SplunkProvider_meta");n.default=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(o,s.default);var e,t,n,r=f(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,e))[g]=e.splunkUrl||p,t[m]=new a.default,t[_]=e.batchMeta,t}return e=o,n=[{key:"is",get:function(){return"SplunkProvider"}}],(t=[{key:"onBatch",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return(0,i.default)({url:this[g],data:this._createRequest(e),beacon:t.manual})}},{key:"_createRequest",value:function(e){e={logs:e.map(function(e){return e.serialize()}),timestamp:new Date};return this[_]?l(l({},e),this[_]):e}}])&&u(e.prototype,t),n&&u(e,n),Object.defineProperty(e,"prototype",{writable:!1}),o}()},{"../classes/log-provider":58,"../classes/task-pool":62,"../utils/http":72,"../utils/string":77}],70:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("./utils/environment"),o=e("./utils/http"),i=e("./handlers/pcln-http-node.js"),s=c(e("./pcln-analytics")),a=c(e("./config"));function c(e){return e&&e.__esModule?e:{default:e}}var l=(0,r.isBrowser)()&&!(0,r.isProduction)(),e=(0,a.default)(),u=new s.default({name:e.NAME,version:e.VERSION,debug:l,GAEnabled:(0,r.isBrowser)(),batchMeta:function(){var e=(0,a.default)();return{appName:e.APP_NAME,appVersion:e.APP_VERSION,appLocale:e.APP_LOCALE}}});(0,o.importHTTP)(i.pclnHTTPServerHandler),n.default=u,(0,r.isBrowser)()?((0,r.isAngular1)()?window.angular.module("pcln.analytics",[]).factory("PCLNAnalytics",function(){return u}):(window.PCLN=window.PCLN||{},window.PCLN.Analytics=u),setTimeout(function(){return delete window.PCLNAnalytics})):t.exports=u},{"./config":63,"./handlers/pcln-http-node.js":64,"./pcln-analytics":65,"./utils/environment":71,"./utils/http":72}],71:[function(e,t,r){!function(n){!function(){"use strict";function e(){try{return!!(window&&window.document&&window.document.createElement)}catch(e){return!1}}function t(){return e()?!(!location.protocol.match("http")||location.host.match(/local|dev|qaa|qab|qac/g)):"production"===n.env.NODE_ENV}Object.defineProperty(r,"__esModule",{value:!0}),r.isAngular1=function(){return!(!e()||void 0===window.angular||1!==window.angular.version.major)},r.isBrowser=e,r.isDev=function(){return!t()},r.isNode=function(){return!e()},r.isProduction=t}.call(this)}.call(this,e("_process"))},{_process:262}],72:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ERROR_NO_HTTP_HANDLER=void 0,n.default=s,n.importHTTP=function(e){o=e},n.sendBeacon=function(e,t){(0,r.isBrowser)()&&navigator.sendBeacon?navigator.sendBeacon(e,t):s({url:e,data:t},!1)};var r=e("./environment"),o=null,i="NO HTTP handler found";function s(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return new Promise(function(e,t){"function"==typeof o?o.apply(void 0,n).then(e).catch(t):t(i)})}n.ERROR_NO_HTTP_HANDLER=i},{"./environment":71}],73:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.isLocalStorageAvailable=void 0;n.isLocalStorageAvailable=function(){if(!window.localStorage)return!1;try{return window.localStorage.setItem("isLocalStorageAvailable",!0),window.localStorage.removeItem("isLocalStorageAvailable"),!0}catch(e){return!1}}},{}],74:[function(e,t,n){"use strict";function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e){return{object:r(e),array:Array.isArray(e)}}function r(e){return"object"===c(e)&&e instanceof Date==!1}Object.defineProperty(n,"__esModule",{value:!0}),n.copy=function e(t){var n=l(t);var r=null;if(n.object&&!n.array)for(var o in r={},t){var i=t[o];"object"===c(i)&&i instanceof Date==!1?r[o]=e(i):r[o]=i}else{if(!n.array)return t;r=[];for(var s=0;s<t.length;++s)r[s]=e(t[s])}return r},n.determine=l,n.isObject=r,n.traverse=function(e,t){var n=t.split("."),t=l(e),r=e;if(t.object&&!t.array){var o,i=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,t=function(){};return{s:t,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw o}}}}(n);try{for(i.s();!(o=i.n()).done;){var s=o.value;if(!(r=r[s]))return}}catch(e){i.e(e)}finally{i.f()}}return r}},{}],75:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function o(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?i(Object(o),!0).forEach(function(e){var t,n;t=r,e=o[n=e],n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):i(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){return o({},s)},n.updatePCLNData=function(e){if("object"===r(e))return o(o({},s),e)};var s=(0,e("./environment").isBrowser)()?window.PCLN_BOOTSTRAP_DATA||window.requestHandlerData||{}:{appName:"",appVersion:"-.-.-",node:!0}},{"./environment":71}],76:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,o=(r=e("./pcln-data"))&&r.__esModule?r:{default:r},u=e("./object"),d=e("./string"),f=e("./environment"),h=e("./local-storage-check");function p(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||g(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var m=(0,d.uniqueString)("Storage_state"),_="[STATE] > ".concat((0,o.default)().appName),o=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this[m]=null}var t,n,r;return t=e,(n=[{key:"state",get:function(){return(0,f.isBrowser)()?(this[m]||(e=(0,h.isLocalStorageAvailable)()?localStorage.getItem(_):null,(0,u.determine)(e).object?this[m]=JSON.parse(e)||{}:this[m]={}),(0,u.copy)(this[m])):{};var e}},{key:"get",value:function(e){return(0,u.copy)((0,u.traverse)(this[m],e))}},{key:"save",value:function(e,t){if(e){var n=this.state,r=e.split(/\./);if(1<r.length){var o=r.slice(0,r.length-1),i=d.dotpath.apply(void 0,p(o)),r=r[r.length-1],i=(0,u.traverse)(n,i);if(!(0,u.determine)(i).object){var s,a=n,c=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=g(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,t=function(){};return{s:t,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw o}}}}(o);try{for(c.s();!(s=c.n()).done;)var l=s.value,a=(0,u.determine)(a[l]).object?a[l]:a[l]={}}catch(e){c.e(e)}finally{c.f()}i=a}i[r]=t}else n[e]=t;this[m]=n,(0,f.isBrowser)()&&(0,h.isLocalStorageAvailable)()&&localStorage.setItem(_,JSON.stringify(n))}}}])&&s(t.prototype,n),r&&s(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}());n.default=o},{"./environment":71,"./local-storage-check":73,"./object":74,"./pcln-data":75,"./string":77}],77:[function(e,t,n){"use strict";function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(n,"__esModule",{value:!0}),n.uniqueString=n.dotpath=void 0,n.version=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"0.0.0",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";"string"!=typeof e&&(e="0.0.0");var n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){a=!0,o=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e.split(/\./g),3),r=n[0],o=n[1],n=n[2];r=Number(r)||0,o=Number(o)||0,n=Number(n)||0;n={full:e,major:r,minor:o,dot:n};t&&(n.codeName=t);return n};n.dotpath=function(){for(var e="",t=0;t<arguments.length;++t)0<t&&(e+="."),e+=t<0||arguments.length<=t?void 0:arguments[t];return e};n.uniqueString=function(e){var t=Date.now();return"".concat(e," ").concat(t)}},{}],78:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.isProductionDomain=n.isPricelineDomain=n.getCookieDomain=void 0;function r(e){return e.split(",")[0].trim()}n.getCookieDomain=function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).hostname;return!e||o({hostname:e})?".priceline.com":r(e)};var o=function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).hostname;return!!e&&/\.?priceline\.(com|localhost)$/i.test(r(e))};n.isPricelineDomain=o;n.isProductionDomain=function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).hostname;return!!e&&!/(qa|dev|sandbox|local)[abc]?\.|localhost/i.test(r(e))}},{}],79:[function(e,t,n){"use strict";function o(){this.advPurchase="",this.airCabinClass="",this.airDepBrandCode="",this.airRetBrandCode="",this.appCode="",this.carDropoffLocType="",this.carPickupLocType="",this.clientCountryCode="",this.conversionValue="",this.currencyCode="",this.custId="",this.destAirportCode="",this.destAirportCode2="",this.destAirportCode3="",this.destAirportCode4="",this.destAirportCode5="",this.destCityCode="",this.destCityId="",this.destCityName="",this.destCountryCode="",this.destCountryName="",this.destStateCode="",this.destStateName="",this.destZip="",this.destination="",this.emailAddress="",this.gdsName="",this.hotelBrandId="",this.hotelChainCode="",this.hotelId="",this.lenStay="",this.lre="",this.lrv="",this.mhe="",this.numAdults="",this.numChildren="",this.numInfants="",this.numTravelers="",this.numUnits="",this.numVirtualViews="",this.offerChainLength="",this.offerJustSubmittedFlag="",this.offerMethod="",this.offerNumber="",this.origAirportCode="",this.origAirportCode2="",this.origAirportCode3="",this.origAirportCode4="",this.origAirportCode5="",this.origCityCode="",this.origCityId="",this.origCityName="",this.origCountryCode="",this.origCountryName="",this.origStateCode="",this.origStateName="",this.origZip="",this.origin="",this.pageType="",this.productId="",this.productType="",this.rcBrandCode="",this.refClickId="",this.refId="",this.rentalCarType="",this.rsvTotal="0",this.rsvTotalNoTaxFee="0",this.siteCode="plcn",this.starLevel="",this.supConfirmNum="",this.travelEndDate="",this.travelEndDateYYYYMMDD="",this.travelStartDate="",this.travelStartDate2="",this.travelStartDate3="",this.travelStartDate4="",this.travelStartDate5="",this.travelStartDateYYYYMMDD="",this.tripType="",this.virtualViews=""}function r(e){var t=new o,n=new o;if(e)for(var r in e)n[r]=e[r];this.getInstance=function(){return n},this.read=function(e){return n[e]},this.update=function(e){for(var t in e)n.hasOwnProperty(t)&&(n[t]=e[t])},this.clear=function(e){e?n[e]="":n=t}}function i(e){if(!e)throw"An instance is PclnData is required to instantiate PclnEventDispatcher";var r=e,o={};this.register=function(e,t){return o.hasOwnProperty.call(o,e)||(o[e]=[]),e+(o[e].push(t)-1)},this.unregister=function(e){e=e.match(/([a-zA-Z_-]+)(\d+)/),delete o[e[1]][e[2]]},this.dispatch=function(e,n){var t;o.hasOwnProperty.call(o,e)&&(r.update(n),o[e].forEach(function(e,t){e(n,r.getInstance())}),"function"==typeof window.CustomEvent?(t=new CustomEvent(e,{detail:n}),window.dispatchEvent(t)):((t=document.createEvent("CustomEvent")).initCustomEvent(e,!0,!0,n),window.dispatchEvent(t)))}}t.exports=new function(){this.pclnData=new r(window.pclnData),this.pclnEventDispatcher=new i(this.pclnData)}},{}],80:[function(e,t,n){t.exports={default:e("core-js/library/fn/array/from"),__esModule:!0}},{"core-js/library/fn/array/from":101}],81:[function(e,t,n){t.exports={default:e("core-js/library/fn/get-iterator"),__esModule:!0}},{"core-js/library/fn/get-iterator":102}],82:[function(e,t,n){t.exports={default:e("core-js/library/fn/json/stringify"),__esModule:!0}},{"core-js/library/fn/json/stringify":103}],83:[function(e,t,n){t.exports={default:e("core-js/library/fn/map"),__esModule:!0}},{"core-js/library/fn/map":104}],84:[function(e,t,n){t.exports={default:e("core-js/library/fn/object/assign"),__esModule:!0}},{"core-js/library/fn/object/assign":105}],85:[function(e,t,n){t.exports={default:e("core-js/library/fn/object/create"),__esModule:!0}},{"core-js/library/fn/object/create":106}],86:[function(e,t,n){t.exports={default:e("core-js/library/fn/object/define-property"),__esModule:!0}},{"core-js/library/fn/object/define-property":107}],87:[function(e,t,n){t.exports={default:e("core-js/library/fn/object/get-prototype-of"),__esModule:!0}},{"core-js/library/fn/object/get-prototype-of":108}],88:[function(e,t,n){t.exports={default:e("core-js/library/fn/object/keys"),__esModule:!0}},{"core-js/library/fn/object/keys":109}],89:[function(e,t,n){t.exports={default:e("core-js/library/fn/object/set-prototype-of"),__esModule:!0}},{"core-js/library/fn/object/set-prototype-of":110}],90:[function(e,t,n){t.exports={default:e("core-js/library/fn/promise"),__esModule:!0}},{"core-js/library/fn/promise":111}],91:[function(e,t,n){t.exports={default:e("core-js/library/fn/symbol"),__esModule:!0}},{"core-js/library/fn/symbol":112}],92:[function(e,t,n){t.exports={default:e("core-js/library/fn/symbol/iterator"),__esModule:!0}},{"core-js/library/fn/symbol/iterator":113}],93:[function(e,t,n){t.exports={default:e("core-js/library/fn/weak-map"),__esModule:!0}},{"core-js/library/fn/weak-map":114}],94:[function(e,t,n){"use strict";n.__esModule=!0,n.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},{}],95:[function(e,t,n){"use strict";n.__esModule=!0;var r,o=e("../core-js/object/define-property"),i=(r=o)&&r.__esModule?r:{default:r};function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,i.default)(e,r.key,r)}}n.default=function(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}},{"../core-js/object/define-property":86}],96:[function(e,t,n){"use strict";n.__esModule=!0;var r,o=e("../core-js/object/assign"),e=(r=o)&&r.__esModule?r:{default:r};n.default=e.default||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}},{"../core-js/object/assign":84}],97:[function(e,t,n){"use strict";n.__esModule=!0;var r=s(e("../core-js/object/set-prototype-of")),o=s(e("../core-js/object/create")),i=s(e("../helpers/typeof"));function s(e){return e&&e.__esModule?e:{default:e}}n.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}},{"../core-js/object/create":85,"../core-js/object/set-prototype-of":89,"../helpers/typeof":99}],98:[function(e,t,n){"use strict";n.__esModule=!0;var r,o=e("../helpers/typeof"),i=(r=o)&&r.__esModule?r:{default:r};n.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}},{"../helpers/typeof":99}],99:[function(e,t,n){"use strict";n.__esModule=!0;var r=s(e("../core-js/symbol/iterator")),o=s(e("../core-js/symbol")),i="function"==typeof o.default&&"symbol"==typeof r.default?function(e){return typeof e}:function(e){return e&&"function"==typeof o.default&&e.constructor===o.default&&e!==o.default.prototype?"symbol":typeof e};function s(e){return e&&e.__esModule?e:{default:e}}n.default="function"==typeof o.default&&"symbol"===i(r.default)?function(e){return void 0===e?"undefined":i(e)}:function(e){return e&&"function"==typeof o.default&&e.constructor===o.default&&e!==o.default.prototype?"symbol":void 0===e?"undefined":i(e)}},{"../core-js/symbol":91,"../core-js/symbol/iterator":92}],100:[function(e,t,n){t.exports=e("regenerator-runtime")},{"regenerator-runtime":263}],101:[function(e,t,n){e("../../modules/es6.string.iterator"),e("../../modules/es6.array.from"),t.exports=e("../../modules/_core").Array.from},{"../../modules/_core":130,"../../modules/es6.array.from":203,"../../modules/es6.string.iterator":214}],102:[function(e,t,n){e("../modules/web.dom.iterable"),e("../modules/es6.string.iterator"),t.exports=e("../modules/core.get-iterator")},{"../modules/core.get-iterator":202,"../modules/es6.string.iterator":214,"../modules/web.dom.iterable":226}],103:[function(e,t,n){var e=e("../../modules/_core"),r=e.JSON||(e.JSON={stringify:JSON.stringify});t.exports=function(e){return r.stringify.apply(r,arguments)}},{"../../modules/_core":130}],104:[function(e,t,n){e("../modules/es6.object.to-string"),e("../modules/es6.string.iterator"),e("../modules/web.dom.iterable"),e("../modules/es6.map"),e("../modules/es7.map.to-json"),e("../modules/es7.map.of"),e("../modules/es7.map.from"),t.exports=e("../modules/_core").Map},{"../modules/_core":130,"../modules/es6.map":205,"../modules/es6.object.to-string":212,"../modules/es6.string.iterator":214,"../modules/es7.map.from":217,"../modules/es7.map.of":218,"../modules/es7.map.to-json":219,"../modules/web.dom.iterable":226}],105:[function(e,t,n){e("../../modules/es6.object.assign"),t.exports=e("../../modules/_core").Object.assign},{"../../modules/_core":130,"../../modules/es6.object.assign":206}],106:[function(e,t,n){e("../../modules/es6.object.create");var r=e("../../modules/_core").Object;t.exports=function(e,t){return r.create(e,t)}},{"../../modules/_core":130,"../../modules/es6.object.create":207}],107:[function(e,t,n){e("../../modules/es6.object.define-property");var r=e("../../modules/_core").Object;t.exports=function(e,t,n){return r.defineProperty(e,t,n)}},{"../../modules/_core":130,"../../modules/es6.object.define-property":208}],108:[function(e,t,n){e("../../modules/es6.object.get-prototype-of"),t.exports=e("../../modules/_core").Object.getPrototypeOf},{"../../modules/_core":130,"../../modules/es6.object.get-prototype-of":209}],109:[function(e,t,n){e("../../modules/es6.object.keys"),t.exports=e("../../modules/_core").Object.keys},{"../../modules/_core":130,"../../modules/es6.object.keys":210}],110:[function(e,t,n){e("../../modules/es6.object.set-prototype-of"),t.exports=e("../../modules/_core").Object.setPrototypeOf},{"../../modules/_core":130,"../../modules/es6.object.set-prototype-of":211}],111:[function(e,t,n){e("../modules/es6.object.to-string"),e("../modules/es6.string.iterator"),e("../modules/web.dom.iterable"),e("../modules/es6.promise"),e("../modules/es7.promise.finally"),e("../modules/es7.promise.try"),t.exports=e("../modules/_core").Promise},{"../modules/_core":130,"../modules/es6.object.to-string":212,"../modules/es6.promise":213,"../modules/es6.string.iterator":214,"../modules/es7.promise.finally":220,"../modules/es7.promise.try":221,"../modules/web.dom.iterable":226}],112:[function(e,t,n){e("../../modules/es6.symbol"),e("../../modules/es6.object.to-string"),e("../../modules/es7.symbol.async-iterator"),e("../../modules/es7.symbol.observable"),t.exports=e("../../modules/_core").Symbol},{"../../modules/_core":130,"../../modules/es6.object.to-string":212,"../../modules/es6.symbol":215,"../../modules/es7.symbol.async-iterator":222,"../../modules/es7.symbol.observable":223}],113:[function(e,t,n){e("../../modules/es6.string.iterator"),e("../../modules/web.dom.iterable"),t.exports=e("../../modules/_wks-ext").f("iterator")},{"../../modules/_wks-ext":199,"../../modules/es6.string.iterator":214,"../../modules/web.dom.iterable":226}],114:[function(e,t,n){e("../modules/es6.object.to-string"),e("../modules/web.dom.iterable"),e("../modules/es6.weak-map"),e("../modules/es7.weak-map.of"),e("../modules/es7.weak-map.from"),t.exports=e("../modules/_core").WeakMap},{"../modules/_core":130,"../modules/es6.object.to-string":212,"../modules/es6.weak-map":216,"../modules/es7.weak-map.from":224,"../modules/es7.weak-map.of":225,"../modules/web.dom.iterable":226}],115:[function(e,t,n){t.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},{}],116:[function(e,t,n){t.exports=function(){}},{}],117:[function(e,t,n){t.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},{}],118:[function(e,t,n){var r=e("./_is-object");t.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},{"./_is-object":150}],119:[function(e,t,n){var r=e("./_for-of");t.exports=function(e,t){var n=[];return r(e,!1,n.push,n,t),n}},{"./_for-of":140}],120:[function(e,t,n){var c=e("./_to-iobject"),l=e("./_to-length"),u=e("./_to-absolute-index");t.exports=function(a){return function(e,t,n){var r,o=c(e),i=l(o.length),s=u(n,i);if(a&&t!=t){for(;s<i;)if((r=o[s++])!=r)return!0}else for(;s<i;s++)if((a||s in o)&&o[s]===t)return a||s||0;return!a&&-1}}},{"./_to-absolute-index":189,"./_to-iobject":191,"./_to-length":192}],121:[function(e,t,n){var y=e("./_ctx"),b=e("./_iobject"),w=e("./_to-object"),E=e("./_to-length"),r=e("./_array-species-create");t.exports=function(d,e){var f=1==d,h=2==d,p=3==d,g=4==d,m=6==d,_=5==d||m,v=e||r;return function(e,t,n){for(var r,o,i=w(e),s=b(i),a=y(t,n,3),c=E(s.length),l=0,u=f?v(e,c):h?v(e,0):void 0;l<c;l++)if((_||l in s)&&(o=a(r=s[l],l,i),d))if(f)u[l]=o;else if(o)switch(d){case 3:return!0;case 5:return r;case 6:return l;case 2:u.push(r)}else if(g)return!1;return m?-1:p||g?g:u}}},{"./_array-species-create":123,"./_ctx":132,"./_iobject":147,"./_to-length":192,"./_to-object":193}],122:[function(e,t,n){var r=e("./_is-object"),o=e("./_is-array"),i=e("./_wks")("species");t.exports=function(e){var t;return o(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!o(t.prototype)||(t=void 0),r(t)&&null===(t=t[i])&&(t=void 0)),void 0===t?Array:t}},{"./_is-array":149,"./_is-object":150,"./_wks":200}],123:[function(e,t,n){var r=e("./_array-species-constructor");t.exports=function(e,t){return new(r(e))(t)}},{"./_array-species-constructor":122}],124:[function(){},{"./_cof":125,"./_wks":200}],125:[function(e,t,n){var r={}.toString;t.exports=function(e){return r.call(e).slice(8,-1)}},{}],126:[function(e,t,n){"use strict";function s(e,t){var n,r=p(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n}var a=e("./_object-dp").f,c=e("./_object-create"),l=e("./_redefine-all"),u=e("./_ctx"),d=e("./_an-instance"),f=e("./_for-of"),r=e("./_iter-define"),o=e("./_iter-step"),i=e("./_set-species"),h=e("./_descriptors"),p=e("./_meta").fastKey,g=e("./_validate-collection"),m=h?"_s":"size";t.exports={getConstructor:function(e,o,n,r){var i=e(function(e,t){d(e,i,o,"_i"),e._t=o,e._i=c(null),e._f=void 0,e._l=void 0,e[m]=0,null!=t&&f(t,n,e[r],e)});return l(i.prototype,{clear:function(){for(var e=g(this,o),t=e._i,n=e._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete t[n.i];e._f=e._l=void 0,e[m]=0},delete:function(e){var t,n=g(this,o),r=s(n,e);return r&&(t=r.n,e=r.p,delete n._i[r.i],r.r=!0,e&&(e.n=t),t&&(t.p=e),n._f==r&&(n._f=t),n._l==r&&(n._l=e),n[m]--),!!r},forEach:function(e){g(this,o);for(var t,n=u(e,1<arguments.length?arguments[1]:void 0,3);t=t?t.n:this._f;)for(n(t.v,t.k,this);t&&t.r;)t=t.p},has:function(e){return!!s(g(this,o),e)}}),h&&a(i.prototype,"size",{get:function(){return g(this,o)[m]}}),i},def:function(e,t,n){var r,o=s(e,t);return o?o.v=n:(e._l=o={i:r=p(t,!0),k:t,v:n,p:n=e._l,n:void 0,r:!1},e._f||(e._f=o),n&&(n.n=o),e[m]++,"F"!==r&&(e._i[r]=o)),e},getEntry:s,setStrong:function(e,n,t){r(e,n,function(e,t){this._t=g(e,n),this._k=t,this._l=void 0},function(){for(var e=this._k,t=this._l;t&&t.r;)t=t.p;return this._t&&(this._l=t=t?t.n:this._t._f)?o(0,"keys"==e?t.k:"values"==e?t.v:[t.k,t.v]):(this._t=void 0,o(1))},t?"entries":"values",!t,!0),i(n)}}},{"./_an-instance":117,"./_ctx":132,"./_descriptors":134,"./_for-of":140,"./_iter-define":153,"./_iter-step":155,"./_meta":158,"./_object-create":162,"./_object-dp":163,"./_redefine-all":177,"./_set-species":182,"./_validate-collection":197}],127:[function(e,t,n){var r=e("./_classof"),o=e("./_array-from-iterable");t.exports=function(e){return function(){if(r(this)!=e)throw TypeError(e+"#toJSON isn't generic");return o(this)}}},{"./_array-from-iterable":119,"./_classof":124}],128:[function(e,t,n){"use strict";function s(e){return e._l||(e._l=new _)}function r(e,t){return p(e.a,function(e){return e[0]===t})}var a=e("./_redefine-all"),c=e("./_meta").getWeak,o=e("./_an-object"),l=e("./_is-object"),u=e("./_an-instance"),d=e("./_for-of"),i=e("./_array-methods"),f=e("./_has"),h=e("./_validate-collection"),p=i(5),g=i(6),m=0,_=function(){this.a=[]};_.prototype={get:function(e){e=r(this,e);if(e)return e[1]},has:function(e){return!!r(this,e)},set:function(e,t){var n=r(this,e);n?n[1]=t:this.a.push([e,t])},delete:function(t){var e=g(this.a,function(e){return e[0]===t});return~e&&this.a.splice(e,1),!!~e}},t.exports={getConstructor:function(e,n,r,o){var i=e(function(e,t){u(e,i,n,"_i"),e._t=n,e._i=m++,e._l=void 0,null!=t&&d(t,r,e[o],e)});return a(i.prototype,{delete:function(e){if(!l(e))return!1;var t=c(e);return!0===t?s(h(this,n)).delete(e):t&&f(t,this._i)&&delete t[this._i]},has:function(e){if(!l(e))return!1;var t=c(e);return!0===t?s(h(this,n)).has(e):t&&f(t,this._i)}}),i},def:function(e,t,n){var r=c(o(t),!0);return!0===r?s(e).set(t,n):r[e._i]=n,e},ufstore:s}},{"./_an-instance":117,"./_an-object":118,"./_array-methods":121,"./_for-of":140,"./_has":142,"./_is-object":150,"./_meta":158,"./_redefine-all":177,"./_validate-collection":197}],129:[function(e,t,n){"use strict";var d=e("./_global"),f=e("./_export"),h=e("./_meta"),p=e("./_fails"),g=e("./_hide"),m=e("./_redefine-all"),_=e("./_for-of"),v=e("./_an-instance"),y=e("./_is-object"),b=e("./_set-to-string-tag"),w=e("./_object-dp").f,E=e("./_array-methods")(0),S=e("./_descriptors");t.exports=function(n,e,t,r,o,i){var s=d[n],a=s,c=o?"set":"add",l=a&&a.prototype,u={};return S&&"function"==typeof a&&(i||l.forEach&&!p(function(){(new a).entries().next()}))?(a=e(function(e,t){v(e,a,n,"_c"),e._c=new s,null!=t&&_(t,o,e[c],e)}),E("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(n){var r="add"==n||"set"==n;n in l&&(!i||"clear"!=n)&&g(a.prototype,n,function(e,t){if(v(this,a,n),!r&&i&&!y(e))return"get"==n&&void 0;t=this._c[n](0===e?0:e,t);return r?this:t})}),i||w(a.prototype,"size",{get:function(){return this._c.size}})):(a=r.getConstructor(e,n,o,c),m(a.prototype,t),h.NEED=!0),b(a,n),u[n]=a,f(f.G+f.W+f.F,u),i||r.setStrong(a,n,o),a}},{"./_an-instance":117,"./_array-methods":121,"./_descriptors":134,"./_export":138,"./_fails":139,"./_for-of":140,"./_global":141,"./_hide":143,"./_is-object":150,"./_meta":158,"./_object-dp":163,"./_redefine-all":177,"./_set-to-string-tag":183}],130:[function(e,t,n){t=t.exports={version:"2.6.12"};"number"==typeof __e&&(__e=t)},{}],131:[function(e,t,n){"use strict";var r=e("./_object-dp"),o=e("./_property-desc");t.exports=function(e,t,n){t in e?r.f(e,t,o(0,n)):e[t]=n}},{"./_object-dp":163,"./_property-desc":176}],132:[function(e,t,n){var i=e("./_a-function");t.exports=function(r,o,e){if(i(r),void 0===o)return r;switch(e){case 1:return function(e){return r.call(o,e)};case 2:return function(e,t){return r.call(o,e,t)};case 3:return function(e,t,n){return r.call(o,e,t,n)}}return function(){return r.apply(o,arguments)}}},{"./_a-function":115}],133:[function(e,t,n){t.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},{}],134:[function(e,t,n){t.exports=!e("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./_fails":139}],135:[function(e,t,n){var r=e("./_is-object"),o=e("./_global").document,i=r(o)&&r(o.createElement);t.exports=function(e){return i?o.createElement(e):{}}},{"./_global":141,"./_is-object":150}],136:[function(e,t,n){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},{}],137:[function(e,t,n){var a=e("./_object-keys"),c=e("./_object-gops"),l=e("./_object-pie");t.exports=function(e){var t=a(e),n=c.f;if(n)for(var r,o=n(e),i=l.f,s=0;o.length>s;)i.call(e,r=o[s++])&&t.push(r);return t}},{"./_object-gops":168,"./_object-keys":171,"./_object-pie":172}],138:[function(e,t,n){var g=e("./_global"),m=e("./_core"),_=e("./_ctx"),v=e("./_hide"),y=e("./_has"),b="prototype",w=function(e,t,n){var r,o,i,s=e&w.F,a=e&w.G,c=e&w.S,l=e&w.P,u=e&w.B,d=e&w.W,f=a?m:m[t]||(m[t]={}),h=f[b],p=a?g:c?g[t]:(g[t]||{})[b];for(r in n=a?t:n)(o=!s&&p&&void 0!==p[r])&&y(f,r)||(i=(o?p:n)[r],f[r]=a&&"function"!=typeof p[r]?n[r]:u&&o?_(i,g):d&&p[r]==i?function(r){function e(e,t,n){if(this instanceof r){switch(arguments.length){case 0:return new r;case 1:return new r(e);case 2:return new r(e,t)}return new r(e,t,n)}return r.apply(this,arguments)}return e[b]=r[b],e}(i):l&&"function"==typeof i?_(Function.call,i):i,l&&((f.virtual||(f.virtual={}))[r]=i,e&w.R&&h&&!h[r]&&v(h,r,i)))};w.F=1,w.G=2,w.S=4,w.P=8,w.B=16,w.W=32,w.U=64,w.R=128,t.exports=w},{"./_core":130,"./_ctx":132,"./_global":141,"./_has":142,"./_hide":143}],139:[function(e,t,n){t.exports=function(e){try{return!!e()}catch(e){return!0}}},{}],140:[function(e,t,n){var d=e("./_ctx"),f=e("./_iter-call"),h=e("./_is-array-iter"),p=e("./_an-object"),g=e("./_to-length"),m=e("./core.get-iterator-method"),_={},v={};(n=t.exports=function(e,t,n,r,o){var i,s,a,c,o=o?function(){return e}:m(e),l=d(n,r,t?2:1),u=0;if("function"!=typeof o)throw TypeError(e+" is not iterable!");if(h(o)){for(i=g(e.length);u<i;u++)if((c=t?l(p(s=e[u])[0],s[1]):l(e[u]))===_||c===v)return c}else for(a=o.call(e);!(s=a.next()).done;)if((c=f(a,l,s.value,t))===_||c===v)return c}).BREAK=_,n.RETURN=v},{"./_an-object":118,"./_ctx":132,"./_is-array-iter":148,"./_iter-call":151,"./_to-length":192,"./core.get-iterator-method":201}],141:[function(e,t,n){t=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)},{}],142:[function(e,t,n){var r={}.hasOwnProperty;t.exports=function(e,t){return r.call(e,t)}},{}],143:[function(e,t,n){var r=e("./_object-dp"),o=e("./_property-desc");t.exports=e("./_descriptors")?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},{"./_descriptors":134,"./_object-dp":163,"./_property-desc":176}],144:[function(){}