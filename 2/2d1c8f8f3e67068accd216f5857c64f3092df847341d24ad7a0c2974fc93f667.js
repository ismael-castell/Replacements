/*! For license information please see explorer-production.js.LICENSE.txt */
(()=>{var t={228:t=>{t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,r=new Array(e);a<e;a++)r[a]=t[a];return r}},646:(t,e,a)=>{var r=a(228);t.exports=function(t){if(Array.isArray(t))return r(t)}},506:t=>{t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},575:t=>{t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},913:t=>{function e(t,e){for(var a=0;a<e.length;a++){var r=e[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}t.exports=function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}},713:t=>{t.exports=function(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}},754:t=>{function e(a){return t.exports=e=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},e(a)}t.exports=e},205:(t,e,a)=>{var r=a(489);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}},860:t=>{t.exports=function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}},206:t=>{t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},585:(t,e,a)=>{var r=a(8),n=a(506);t.exports=function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?n(t):e}},489:t=>{function e(a,r){return t.exports=e=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},e(a,r)}t.exports=e},319:(t,e,a)=>{var r=a(646),n=a(860),i=a(379),o=a(206);t.exports=function(t){return r(t)||n(t)||i(t)||o()}},8:t=>{function e(a){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=e=function(t){return typeof t}:t.exports=e=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(a)}t.exports=e},379:(t,e,a)=>{var r=a(228);t.exports=function(t,e){if(t){if("string"==typeof t)return r(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?r(t,e):void 0}}}},e={};function a(r){var n=e[r];if(void 0!==n)return n.exports;var i=e[r]={exports:{}};return t[r](i,i.exports,a),i.exports}a.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return a.d(e,{a:e}),e},a.d=(t,e)=>{for(var r in e)a.o(e,r)&&!a.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},a.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{const t=Vue;var e=a.n(t),r=a(713),n=a.n(r),i=a(575),o=a.n(i),s=a(913),l=a.n(s),c=a(205),p=a.n(c),d=a(585),u=a.n(d),h=a(754),f=a.n(h),y=a(8),m=a.n(y);function g(t){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function v(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function _(t){return function(t){if(Array.isArray(t)){for(var e=0,a=new Array(t.length);e<t.length;e++)a[e]=t[e];return a}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function x(){return"undefined"!=typeof Reflect&&Reflect.defineMetadata&&Reflect.getOwnMetadataKeys}function b(t,e){S(t,e),Object.getOwnPropertyNames(e.prototype).forEach((function(a){S(t.prototype,e.prototype,a)})),Object.getOwnPropertyNames(e).forEach((function(a){S(t,e,a)}))}function S(t,e,a){(a?Reflect.getOwnMetadataKeys(e,a):Reflect.getOwnMetadataKeys(e)).forEach((function(r){var n=a?Reflect.getOwnMetadata(r,e,a):Reflect.getOwnMetadata(r,e);a?Reflect.defineMetadata(r,n,t,a):Reflect.defineMetadata(r,n,t)}))}var k={__proto__:[]}instanceof Array;function P(){for(var t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return e().extend({mixins:a})}function C(t,e){var a=e.prototype._init;e.prototype._init=function(){var e=this,a=Object.getOwnPropertyNames(t);if(t.$options.props)for(var r in t.$options.props)t.hasOwnProperty(r)||a.push(r);a.forEach((function(a){Object.defineProperty(e,a,{get:function(){return t[a]},set:function(e){t[a]=e},configurable:!0})}))};var r=new e;e.prototype._init=a;var n={};return Object.keys(r).forEach((function(t){void 0!==r[t]&&(n[t]=r[t])})),n}var R=["data","beforeCreate","created","beforeMount","mounted","beforeDestroy","destroyed","beforeUpdate","updated","activated","deactivated","render","errorCaptured","serverPrefetch"];function w(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};a.name=a.name||t._componentTag||t.name;var r=t.prototype;Object.getOwnPropertyNames(r).forEach((function(t){if("constructor"!==t)if(R.indexOf(t)>-1)a[t]=r[t];else{var e=Object.getOwnPropertyDescriptor(r,t);void 0!==e.value?"function"==typeof e.value?(a.methods||(a.methods={}))[t]=e.value:(a.mixins||(a.mixins=[])).push({data:function(){return v({},t,e.value)}}):(e.get||e.set)&&((a.computed||(a.computed={}))[t]={get:e.get,set:e.set})}})),(a.mixins||(a.mixins=[])).push({data:function(){return C(this,t)}});var n=t.__decorators__;n&&(n.forEach((function(t){return t(a)})),delete t.__decorators__);var i=Object.getPrototypeOf(t.prototype),o=i instanceof e()?i.constructor:e(),s=o.extend(a);return D(s,t,o),x()&&b(s,t),s}var T={prototype:!0,arguments:!0,callee:!0,caller:!0};function D(t,e,a){Object.getOwnPropertyNames(e).forEach((function(r){if(!T[r]){var n=Object.getOwnPropertyDescriptor(t,r);if(!n||n.configurable){var i,o,s=Object.getOwnPropertyDescriptor(e,r);if(!k){if("cid"===r)return;var l=Object.getOwnPropertyDescriptor(a,r);if(i=s.value,o=g(i),null!=i&&("object"===o||"function"===o)&&l&&l.value===s.value)return}0,Object.defineProperty(t,r,s)}}}))}function A(t){return"function"==typeof t?w(t):function(e){return w(e,t)}}A.registerHooks=function(t){R.push.apply(R,_(t))};const I=A,M=axios;var L=a.n(M),O=function(){function t(e){o()(this,t),this.axios=L().create(e)}return l()(t,[{key:"get",value:function(t,e){return this.axios.get(t,e)}},{key:"post",value:function(t,e,a){return this.axios.post(t,e,a)}}]),t}();function F(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,r=f()(t);if(e){var n=f()(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return u()(this,a)}}var B=function(t){p()(a,t);var e=F(a);function a(){return o()(this,a),e.apply(this,arguments)}return l()(a,[{key:"overviewGraphData",value:function(t,e,a){return this.get("/explorerapi.php",{params:{content:"graphdata",id:t,period:e,divider:a,overview:1}}).then((function(t){return t.data})).catch((function(t){throw t}))}},{key:"leaderboardGraphData",value:function(t,e){return this.get("/explorerapi.php",{params:{content:"graphdata",id:t,xaxis:"days",yaxis:"return",period:e,loadbars:5e3,leaderboard:1}}).then((function(t){return t.data})).catch((function(t){throw t}))}},{key:"tradeGraphData",value:function(t,e,a,r,n){return this.get("/explorerapi.php",{params:{content:"tradegraphdata",id:t,xaxis:e,yaxis:a&&r?[a,r].join(","):a||r,loadbars:n}}).then((function(t){return t.data})).catch((function(t){throw t}))}},{key:"chartedTradeWithSurroundingTrades",value:function(t,e,a,r){return this.get("/explorerapi.php",{params:{content:"chartedtrade",id:t,ticket:e,surrounding:!0,from:a,to:r}}).then((function(t){return t.data})).catch((function(t){throw t}))}},{key:"positionsGraphData",value:function(t,e,a){var r=this;return new Promise((function(n){return r.get("/explorerapi.php",{params:{content:"positions",do:"positions_graph_data",currency:t,interval:e,limit:a}}).then((function(t){n({data:t.data.positions,meta:{total:t.data.total,data_count:t.data.data_count,has_more:t.data.has_more,interval:t.data.interval,currency:t.data.currency,limit:t.data.limit,max_num:void 0}})})).catch((function(t){throw t}))}))}}],[{key:"getInstance",value:function(){return void 0===this.instance&&(this.instance=new this),this.instance}}]),a}(O);var N,j,G,Y,z,E,H,W,q,V,U,K,X,Z,J;"undefined"!=typeof Reflect&&Reflect.getMetadata;function Q(t,e){void 0===e&&(e={});var a,r=e.deep,n=void 0!==r&&r,i=e.immediate,o=void 0!==i&&i;return a=function(e,a){"object"!=typeof e.watch&&(e.watch=Object.create(null));var r=e.watch;"object"!=typeof r[t]||Array.isArray(r[t])?void 0===r[t]&&(r[t]=[]):r[t]=[r[t]],r[t].push({handler:a,deep:n,immediate:o})},function(t,e,r){var n="function"==typeof t?t:t.constructor;n.__decorators__||(n.__decorators__=[]),"number"!=typeof r&&(r=void 0),n.__decorators__.push((function(t){return a(t,e,r)}))}}!function(t){t[t.stroke=1]="stroke",t[t.fill=2]="fill",t[t.fillAndStroke=3]="fillAndStroke",t[t.none=4]="none"}(N||(N={})),function(t){t[t.Up=1]="Up",t[t.Down=2]="Down",t[t.Left=3]="Left",t[t.Right=4]="Right"}(j||(j={})),function(t){t.TopLeft="top-left",t.TopRight="top-right",t.BottomLeft="bottom-left",t.BottomRight="bottom-right"}(G||(G={})),function(t){t[t.None=0]="None",t[t.Momentum=1]="Momentum",t[t.Default=2]="Default"}(Y||(Y={})),function(t){t[t.ToCursor=0]="ToCursor",t[t.ToLeft=1]="ToLeft",t[t.ToRight=2]="ToRight",t[t.ToMiddle=3]="ToMiddle",t[t.Disabled=4]="Disabled"}(z||(z={})),function(t){t.TopLeft="top-left",t.TopRight="top-right",t.BottomLeft="bottom-left",t.BottomRight="bottom-right"}(E||(E={})),function(t){t[t.Default=0]="Default",t[t.Percent=1]="Percent",t[t.BigNumber=2]="BigNumber"}(H||(H={})),function(t){t[t.Exact=0]="Exact",t[t.Approximate=1]="Approximate",t[t.Basic=2]="Basic"}(W||(W={})),function(t){t[t.ActiveFromMouseOver=0]="ActiveFromMouseOver",t[t.ActiveFromClick=1]="ActiveFromClick",t[t.Inactive=2]="Inactive"}(q||(q={})),function(t){t.ShapeTextComponent="ShapeTextComponent",t.MacdObjectComponent="MacdObjectComponent",t.MovingAverageObjectComponent="MovingAverageObjectComponent",t.ShapeHorizontalLineComponent="ShapeHorizontalLineComponent",t.ShapeEllipseComponent="ShapeEllipseComponent",t.SeriesGroupLeftComponent="SeriesGroupLeftComponent",t.SeriesGroupRightComponent="SeriesGroupRightComponent",t.FloatingElementComponent="FloatingElementComponent",t.SeriesRatioComponent="SeriesRatioComponent",t.SeriesAreaComponent="SeriesAreaComponent",t.SeriesBarComponent="SeriesBarComponent",t.ShapeVerticalLineComponent="ShapeVerticalLineComponent",t.ShapeXabcdComponent="ShapeXabcdComponent",t.ShapeMultiLineComponent="ShapeMultiLineComponent",t.ShapeTrendLineComponent="ShapeTrendLineComponent",t.SeriesLineComponent="SeriesLineComponent",t.ShapeImageComponent="ShapeImageComponent",t.SeriesOHLCComponent="SeriesOHLCComponent",t.SeriesBlipComponent="SeriesBlipComponent",t.SeriesPieComponent="SeriesPieComponent",t.ShapeXAxisLabelComponent="ShapeXAxisLabelComponent",t.YAxisStandardComponent="YAxisStandardComponent",t.YAxisLeftComponent="YAxisLeftComponent",t.YAxisRightComponent="YAxisRightComponent",t.YAxisRatioRightComponent="YAxisRatioRightComponent",t.SeriesRatioYAxisLabelComponent="SeriesRatioYAxisLabelComponent",t.SeriesYAxisLabelComponent="SeriesYAxisLabelComponent",t.ShapeYAxisLabelComponent="ShapeYAxisLabelComponent",t.ShapeRectangleComponent="ShapeRectangleComponent",t.SeriesCandleStickComponent="SeriesCandleStickComponent",t.CursorComponent="CursorComponent",t.GridLeftComponent="GridLeftComponent",t.GridRightComponent="GridRightComponent",t.GridRatioComponent="GridRatioComponent",t.ImpactIndicatorComponent="ImpactIndicatorComponent",t.LayeredComponent="LayeredComponent",t.PaneComponent="PaneComponent",t.TradeMarkerComponent="TradeMarkerComponent",t.PaneResizerComponent="PaneResizerComponent",t.PaneWatermarkComponent="PaneWatermarkComponent",t.RangeReadoutComponent="RangeReadoutComponent",t.RangeSelectorComponent="RangeSelectorComponent",t.RootComponent="RootComponent",t.SeriesGroupComponent="SeriesGroupComponent",t.SeriesLabelComponent="SeriesLabelComponent",t.SessionsBackgroundComponent="SessionsBackgroundComponent",t.SessionsComponent="SessionsComponent",t.WatermarkComponent="WatermarkComponent",t.XAxisComponent="XAxisComponent",t.XAxisLabelComponent="XAxisLabelComponent",t.YAxisComponent="YAxisComponent",t.YAxisLabelComponent="YAxisLabelComponent"}(V||(V={})),function(t){t.Default="",t.Hidden="none",t.Pointer="pointer",t.Grab="grab",t.Grabbing="grabbing",t.EWResize="ew-resize",t.NSResize="ns-resize",t.NWSEResize="nwse-resize",t.NESWResize="nesw-resize",t.RowResize="row-resize",t.Bullseye="bullseye"}(U||(U={})),function(t){t[t.Twelve=12]="Twelve",t[t.TwentyFour=24]="TwentyFour"}(K||(K={})),function(t){t[t.Locked=1]="Locked",t[t.Unlocked=2]="Unlocked"}(X||(X={})),function(t){t[t.Loading=0]="Loading",t[t.Listening=1]="Listening",t[t.Dragging=2]="Dragging",t[t.Scrolling=3]="Scrolling",t[t.Throwing=4]="Throwing",t[t.Resizing=5]="Resizing",t[t.Disabled=6]="Disabled"}(Z||(Z={})),function(t){t[t.Disabled=0]="Disabled",t[t.Enabled=1]="Enabled"}(J||(J={}));const tt=60,et={name:"M5",shortTitle:"5 Minute",longTitle:"5 Minute",seconds:5*tt},at={name:"H1",shortTitle:"1 Hour",longTitle:"1 Hour",seconds:60*tt},rt={name:"D1",shortTitle:"1 Day",longTitle:"1 Day",seconds:24*at.seconds},nt={name:"W1",shortTitle:"1 Week",longTitle:"1 Week",seconds:7*rt.seconds},it={name:"MN1",shortTitle:"1 Month",longTitle:"1 Month",seconds:31*rt.seconds},ot={name:"Y1",shortTitle:"1 Year",longTitle:"1 Year",seconds:365*rt.seconds};var st=function(){function t(){o()(this,t)}return l()(t,null,[{key:"fetch",value:function(){return void 0===t.promise&&(t.promise=new Promise((function(t,e){document.deferredScripts.loadByName("cgs",(function(a){a&&a.length?t(a):e()}))}))),t.promise}}]),t}();function lt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,r=f()(t);if(e){var n=f()(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return u()(this,a)}}var ct=function(t,e,a,r){var n,i=arguments.length,o=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,a):r;if("object"===("undefined"==typeof Reflect?"undefined":m()(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,a,r);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(o=(i<3?n(o):i>3?n(e,a,o):n(e,a))||o);return i>3&&o&&Object.defineProperty(e,a,o),o},pt=function(t){p()(a,t);var e=lt(a);function a(){var t;return o()(this,a),(t=e.apply(this,arguments)).listening=!1,t}return l()(a,[{key:"applyFluidWidth",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=0,a=0;this.$app&&(e=parseInt(this.$app.container.style.width,10)||320,this.$app.container.style.width="0",a=Math.min(window.innerWidth,this.$app.container.parentNode.offsetWidth||e),this.$app.container.style.width="".concat(a,"px"),e===a)||(this.$app.setDimensions(a,this.$app.height),t&&(this.$app.rebuild(),this.$app.prepareRender(),this.$app.deferredPrepareRender(),this.$app.render()))}},{key:"setUpFluidWidth",value:function(){var t=this;this.listening||(this.listening=!0,documentResize.push((function(){t.applyFluidWidth(!0)}))),this.applyFluidWidth()}}]),a}(e());function dt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,r=f()(t);if(e){var n=f()(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return u()(this,a)}}pt=ct([I],pt);var ut,ht,ft,yt,mt=function(t,e,a,r){var n,i=arguments.length,o=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,a):r;if("object"===("undefined"==typeof Reflect?"undefined":m()(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,a,r);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(o=(i<3?n(o):i>3?n(e,a,o):n(e,a))||o);return i>3&&o&&Object.defineProperty(e,a,o),o},gt=ut=function(t){p()(a,t);var e=dt(a);function a(){var t;return o()(this,a),(t=e.apply(this,arguments)).$tradeGraphDataPromises={},t.isLoading=!0,t.rangeReadoutState=yt.Message,t.viewMode=ht.Equity,t.yAxisPrimary="return",t.yAxisSecondary="equity",t.xAxis="days",t.typePrimary="area",t.typeSecondary="area",t.colorPrimary="#2874cd",t.colorSecondary="#d39b5e",t.colorTransfer="#0f2c4d",t.cursor="cross",t.overlay="on",t.numBars=300,t.moreBars=300,t.types={"y-*-x-*":"line","y-*-x-dayofweek":"bar","y-annualizedreturn-x-*":"line","y-balance-x-*":"line","y-equity-x-*":"area","y-ncpips-x-*":"bar","y-ncprofit-x-*":"bar","y-ncreturn-x-*":"bar","y-pips-x-*":"line","y-profit-x-*":"area","y-return-x-*":"line","y-timereturn-x-*":"line"},t.range={from:"",to:""},t.readout={primary:{value:"",date:""},secondary:{value:"",date:""}},t.graphData={d:[],i:{can_view_cash:!1}},t.graphDimensions={width:0,height:375},t}return l()(a,[{key:"onYAxisPrimaryChange",value:function(){this.isLoading||(this.typePrimary=this.getGraphTypeForAxes(this.xAxis,this.yAxisPrimary))}},{key:"onYAxisSecondaryChange",value:function(){this.isLoading||(this.typeSecondary=this.getGraphTypeForAxes(this.xAxis,this.yAxisSecondary))}},{key:"onXAxisChange",value:function(){this.isLoading||(this.typePrimary=this.getGraphTypeForAxes(this.xAxis,this.yAxisPrimary),this.typeSecondary=this.getGraphTypeForAxes(this.xAxis,this.yAxisSecondary))}},{key:"onTypePrimaryChange",value:function(t){if(!this.isLoading){var e=this.getGraphTypeKeyForAxes(this.xAxis,this.yAxisPrimary);e&&(this.types[e]=t)}}},{key:"onTypeSecondaryChange",value:function(t){if(!this.isLoading){var e=this.getGraphTypeKeyForAxes(this.xAxis,this.yAxisSecondary);e&&(this.types[e]=t)}}},{key:"onSettingsChange",value:function(t,e){var a=this;if(this.$emit("settings-change",t),!this.isLoading){this.$app.disable(),this.isLoading=!0;var r=[];Object.keys(t).forEach((function(a){e[a]!==t[a]&&r.push(a)}));var n=["cursor","color_primary","color_secondary","color_transfer","type_primary","type_secondary"].includes(r[0]),i={from:this.$app.range.from,to:this.$app.range.to};this.getData().then((function(t){a.graphData=t,a.update(),n&&(a.$app.setRange(i),a.$app.prepareRender(),a.$app.deferredPrepareRender(),a.$app.render()),a.$app.enable(),a.isLoading=!1}))}}},{key:"getGraphTypeForAxes",value:function(t,e){var a,r;return null!==(r=this.types[null!==(a=this.getGraphTypeKeyForAxes(t,e))&&void 0!==a?a:""])&&void 0!==r?r:"line"}},{key:"getGraphTypeKeyForAxes",value:function(t,e){var a=["y-".concat(e,"-x-").concat(t),"y-*-x-".concat(t),"y-".concat(e,"-x-*"),"y-*-x-*"];return Object.keys(this.types).sort((function(t,e){return 100*(t.match(/\*/g)||[]).length+t.indexOf("*")-(100*(e.match(/\*/g)||[]).length+e.indexOf("*"))})).filter((function(t){return a.includes(t)}))[0]}},{key:"onRangeReadout",value:function(t){var e,a,r,n=null!==(e=t.currentIndex)&&void 0!==e?e:NaN,i=null!==(a=(this.graphData.i.keys||{})[this.yAxisPrimary])&&void 0!==a?a:this.yAxisPrimary,o=null!==(r=(this.graphData.i.keys||{})[this.yAxisSecondary])&&void 0!==r?r:this.yAxisSecondary;switch(this.xAxis){case"trades":this.readout.primary.date="Trade#".concat((this.graphData.d[n]||{}).trade),this.range.from="Trade#".concat(this.graphData.d[t.rangeStartIndex].trade),this.range.to="Trade#".concat(this.graphData.d[t.rangeEndIndex].trade);break;case"dayofweek":this.readout.primary.date="".concat((this.graphData.d[n]||{}).day_of_week),this.range.from="".concat((this.graphData.d[t.rangeStartIndex]||{}).day_of_week),this.range.to="".concat((this.graphData.d[t.rangeEndIndex]||{}).day_of_week);break;default:this.readout.primary.date=t.currentDate,this.range.from=t.rangeStartDate,this.range.to=t.rangeEndDate}this.readout.secondary.date=this.readout.primary.date,this.readout.primary.value=CGS.DataPointHelpers.getDisplayValue((this.graphData.d[n]||{})[i]/(this.primaryFormat===ft.Percent?100:1),this.primaryFormat===ft.Percent?H.Percent:H.Default,this.primaryReadoutParams),this.readout.secondary.value=CGS.DataPointHelpers.getDisplayValue((this.graphData.d[n]||{})[o]/(this.secondaryFormat===ft.Percent?100:1),this.secondaryFormat===ft.Percent?H.Percent:H.Default,this.secondaryReadoutParams),this.rangeReadoutState="number"==typeof t.currentIndex?yt.Readout:yt.Range}},{key:"onDefaultSettingsClick",value:function(){var t=this;this.settings=Object.assign({},this.defaultSettings),this.saveSettings(),this.$nextTick((function(){$(t.$refs.colorPrimary).miniColors("value",t.colorPrimary),$(t.$refs.colorSecondary).miniColors("value",t.colorSecondary),$(t.$refs.colorTransfer).miniColors("value",t.colorTransfer)}))}},{key:"loadSettings",value:function(){var t=this,e=Object.assign({},this.settings);Object.keys(this.settings).forEach((function(a){var r=ffSettings_explorersettings.fetchSetting(a);try{r=JSON.parse(decodeURIComponent(null!=r?r:""))}catch(t){r="string"==typeof r?decodeURIComponent(r):void 0}void 0===r||"string"==typeof r&&"default"===r.toLowerCase()?e[a]=t.defaultSettings[a]:e[a]=r})),this.settings=Object.assign({},e,this.settingsFromUrlHash)}},{key:"saveSettings",value:function(){var t=this;return new Promise((function(e){Object.keys(t.settings).forEach((function(e){var a=t.settings[e];t.saveSetting(e,"string"==typeof a?a:JSON.stringify(a))})),ffSettings_explorersettings.doSaveSettings((function(){return e()}))}))}},{key:"saveSetting",value:function(t,e){return new Promise((function(a){ffSettings_explorersettings.doForce=!0,ffSettings_explorersettings.doAjax=!1,ffSettings_explorersettings.saveSetting(t,e,(function(){a()}))}))}},{key:"getData",value:function(t){return this.getTradeGraphData(this.accountId,this.xAxis,this.yAxisPrimary,this.isOverlay?this.yAxisSecondary:"",null!=t?t:this.numBars)}},{key:"getPreloadData",value:function(){return this.getData(this.nextNumBars)}},{key:"loadOrPreloadMore",value:function(){this.isMore&&this.$app.state===Z.Listening&&this.$app.range.from<=this.$app.presentRange.from?this.loadMore():this.isMore&&this.getPreloadData()}},{key:"loadMore",value:function(){var t=this;if(this.$app.state!==Z.Disabled){var e=this.$leftSeriesGroup.seriesComponents[0].dataPoints[this.$app.range.from].timestamp,a=this.$leftSeriesGroup.seriesComponents[0].dataPoints[this.$app.range.to].timestamp;this.$app.disable(),this.isLoading=!0,this.numBars=this.nextNumBars,this.getData().then((function(r){t.graphData=r,t.update(),t.$app.rebuild(!0),t.$app.setRange({from:t.$app.getIndexForTimestamp(e),to:t.$app.getIndexForTimestamp(a)}),t.$app.prepareRender(),t.$app.deferredPrepareRender(),t.$app.render(),t.$app.enable(),t.isLoading=!1}))}}},{key:"getTradeGraphData",value:function(t,e,a,r,i){var o=[t,e,a,r,i].join("-");return this.$tradeGraphDataPromises&&this.$tradeGraphDataPromises[o]||(this.$tradeGraphDataPromises=Object.assign(this.$tradeGraphDataPromises||{},n()({},o,this.$api.tradeGraphData(t,e,a,r,i)))),this.$tradeGraphDataPromises[o]}},{key:"updateGraphDimensions",value:function(){var t=this.$refs.cgs.querySelector("canvas"),e=this.$refs.container.getBoundingClientRect();t&&(this.graphDimensions.width=e.width,this.graphDimensions.height=FF.isMobile()?200:375,t.style.width="".concat(this.graphDimensions.width,"px"),t.style.height="".concat(this.graphDimensions.height,"px"),t.width=this.graphDimensions.width,t.height=this.graphDimensions.height)}},{key:"setUpCgs",value:function(){var t,e;this.$app=new window.CGS.App(this.$refs.cgs,{interval:this.interval,from:0,to:0,allowPast:!0,allowPastBeyondYAxis:!0,allowFuture:!1,timezoneOffset:parseFloat(FF.timezone),mouseWheelZoom:z.ToCursor,hourFormat:parseInt(FF.format,10)},{frame:FF.isMobile()?{panePaddingLeft:.015,panePaddingRight:.015,panePaddingIsPercent:!0}:{}}),this.$paneComponent=this.$app.addPane({heightPercent:1}),this.$paneComponent.addGridLeft({horizontalLineColors:{0:null!==(e=null===(t=FF.Color.getByVariable("grey"))||void 0===t?void 0:t.getHex())&&void 0!==e?e:"gray"}}),this.$yAxisLeft=this.$paneComponent.addYAxisLeft({dataPointFormat:H.Default,isScalePrivate:this.isPrimaryYAxisPrivate,privateScaleText:this.primaryPrivateScaleText,displayValueParams:{scale:0,showNegativeSymbol:!0,suffix:""}}),this.$leftSeriesGroup=this.$paneComponent.addLeftSeriesGroup({paddingTopPercent:.07,paddingBottomPercent:.07,numStrata:7,strataPrecision:W.Approximate,displayValueParams:{scale:0,showNegativeSymbol:!0,suffix:""}}),this.$app.addXAxis(),this.$app.addRangeSelector({heightPercent:.25,minHeightPixels:10,maxHeightPixels:50,tooltipDateFormat:this.rangeSelectorDateFormat}),this.$cursorComponent=this.$app.addCursor(this.cursorDataPoints,{snapX:!0,hideX:!1,hideY:!1}),this.$paneComponent.addWatermark({text:"&copy; Fair Economy",url:"https://www.forexfactory.com/notices#copyright",position:E.BottomLeft}),this.$paneComponent.onRangeReadout(this.onRangeReadout.bind(this)),this.setUpFluidWidth()}},{key:"setUp",value:function(){this.setUpCgs(),this.update(),this.isLoading=!1,this.rangeReadoutState=yt.Range}},{key:"getPrimaryDataPointColors",value:function(t){var e,a=void 0,r=this.colorPrimary;return(t.has_deposits||t.has_withdraws)&&this.hasTransfers?(a=t.is_open?this.colorTransferWithOpenTrades:this.colorTransfer,r=this.colorTransfer):t.is_open&&(a="line"===this.typePrimary?null===(e=FF.Color.getByVariable("$white"))||void 0===e?void 0:e.getHex():this.colorPrimaryWithOpenTrades),{fill:a,stroke:r}}},{key:"getSecondaryDataPointColors",value:function(t){var e,a=void 0,r=this.colorSecondary;return(t.has_deposits||t.has_withdraws)&&this.hasTransfers?(a=t.is_open?this.colorTransferWithOpenTrades:this.colorTransfer,r=this.colorTransfer):t.is_open&&(a="line"===this.typeSecondary?null===(e=FF.Color.getByVariable("$white"))||void 0===e?void 0:e.getHex():this.colorSecondaryWithOpenTrades),{fill:a,stroke:r}}},{key:"update",value:function(){var t,e,a=this;this.$app.interval=this.interval,this.$leftSeriesGroup.disposeOfAllChildComponents(),null===(t=this.$rightSeriesGroup)||void 0===t||t.dispose(),null===(e=this.$yAxisRight)||void 0===e||e.dispose(),this.$yAxisLeft.setTheme({yAxis:{font:{color:this.colorPrimary}}}),this.$leftSeriesGroup.showZeroLine=!0,this.$yAxisLeft.dataPointFormat=this.primaryFormat===ft.Percent?H.Percent:H.Default,this.$yAxisLeft.isScalePrivate=this.isPrimaryYAxisPrivate,this.$yAxisLeft.privateScaleText=this.primaryPrivateScaleText,this.$paneComponent.labelComponent.clearAllLabels(),Object.assign(this.$yAxisLeft.displayValueParams,{prefix:this.primaryYAxisPrefix,suffix:""}),this.$app.customXAxisBreakers=this.customXAxisBreakers,this.$cursorComponent.dataPoints=this.cursorDataPoints,Object.assign(this.$cursorComponent.params,{hideX:["horizontal","none"].includes(this.cursor),hideY:["vertical","none"].includes(this.cursor)});var r=this.graphData.d.map((function(t){var e,r,n=null!==(e=(a.graphData.i.keys||{})[a.yAxisPrimary])&&void 0!==e?e:a.yAxisPrimary,i=a.getPrimaryDataPointColors(t);return{timestamp:t.dateline,value:parseFloat(null!==(r=t["".concat(n,"_raw")])&&void 0!==r?r:"")/(a.primaryFormat===ft.Percent?100:1),fillColor:i.fill,strokeColor:i.stroke,dotFillColor:i.fill,dotStrokeColor:i.stroke}}));switch(this.typePrimary){case"line":this.$leftSeriesGroup.addDottedLineSeries(r,{showLabels:!this.isPrimaryYAxisPrivate,labelParams:this.primaryReadoutParams});break;case"bar":this.$leftSeriesGroup.addBarSeries(r,{showLabels:!this.isPrimaryYAxisPrivate,labelParams:this.primaryReadoutParams,dataPointWidthProps:{padding:.25}});break;case"area":this.$leftSeriesGroup.addAreaSeries(r,{showLabels:!this.isPrimaryYAxisPrivate,labelParams:this.primaryReadoutParams,fillMin:0})}if(this.$leftSeriesGroup.setTheme({barSeries:{fillColor:this.colorPrimary,strokeColor:this.colorPrimary},barNegativeSeries:{fillColor:this.colorPrimary,strokeColor:this.colorPrimary},areaSeries:{fillColor:this.colorPrimary,strokeColor:this.colorPrimary},lineSeries:{fillColor:this.colorPrimary,strokeColor:this.colorPrimary,dotRadius:3}}),this.isOverlay){var n=this.graphData.d.map((function(t){var e,r=a.getSecondaryDataPointColors(t);return{timestamp:t.dateline,value:parseFloat(null!==(e=t["".concat(a.yAxisSecondary,"_raw")])&&void 0!==e?e:"")/(a.secondaryFormat===ft.Percent?100:1),fillColor:r.fill,strokeColor:r.stroke}}));switch(this.$rightSeriesGroup=this.$paneComponent.addRightSeriesGroup({showZeroLine:!0,paddingTopPercent:.07,paddingBottomPercent:.07}),this.$yAxisRight=this.$paneComponent.addYAxisRight({isScalePrivate:this.isSecondaryYAxisPrivate,privateScaleText:this.secondaryPrivateScaleText,dataPointFormat:this.secondaryFormat===ft.Percent?H.Percent:H.Default,displayValueParams:{scale:0,showNegativeSymbol:!0,suffix:""}}),this.$yAxisRight.setTheme({yAxis:{font:{color:this.colorSecondary}}}),Object.assign(this.$yAxisRight.displayValueParams,{prefix:this.secondaryYAxisPrefix,suffix:""}),this.typeSecondary){case"line":this.$rightSeriesGroup.addDottedLineSeries(n,{showLabels:!this.isSecondaryYAxisPrivate,labelParams:this.secondaryReadoutParams});break;case"bar":this.$rightSeriesGroup.addBarSeries(n,{showLabels:!this.isSecondaryYAxisPrivate,labelParams:this.secondaryReadoutParams,dataPointWidthProps:{padding:.25}});break;case"area":this.$rightSeriesGroup.addAreaSeries(n,{showLabels:!this.isSecondaryYAxisPrivate,labelParams:this.secondaryReadoutParams,fillMin:0})}this.$rightSeriesGroup.setTheme({barSeries:{fillColor:this.semiTransparentColorSecondary,strokeColor:this.semiTransparentColorSecondary},barNegativeSeries:{fillColor:this.semiTransparentColorSecondary,strokeColor:this.semiTransparentColorSecondary},areaSeries:{fillColor:this.semiTransparentColorSecondary,strokeColor:this.semiTransparentColorSecondary},lineSeries:{fillColor:this.semiTransparentColorSecondary,strokeColor:this.semiTransparentColorSecondary,dotRadius:3}})}this.$app.clearCache(),this.$app.rebuild(!0),this.$app.setRange({from:Math.max(0,r.length-this.defaultNumVisibleBars),to:Math.max(0,r.length-1)}),this.$app.rebuild(),this.$app.prepareRender(),this.$app.deferredPrepareRender(),this.$app.render()}},{key:"showColorPicker",value:function(t){t.preventDefault(),$(t.target).closest("li").find("a.miniColors-trigger").trigger("click")}},{key:"setUpColorPickers",value:function(){var t=this;$([this.$refs.colorPrimary,this.$refs.colorSecondary,this.$refs.colorTransfer]).miniColors({change:function(){return t.updateColors()},close:function(){return t.updateColors()}})}},{key:"updateColors",value:function(){this.colorPrimary=this.$refs.colorPrimary.value,this.colorSecondary=this.$refs.colorSecondary.value,this.colorTransfer=this.$refs.colorTransfer.value}},{key:"mounted",value:function(){var t=this;this.loadSettings(),this.updateGraphDimensions(),this.$nextTick((function(){return t.setUpColorPickers()})),this.$api=new B;var e=[st.fetch(),this.getData()];Promise.all(e).then((function(e){t.graphData=e[1],t.setUp()})).then((function(){return window.explorerEventBus.$emit("setUp")})),this.$refs.cgs.addEventListener("cgsRangeSelectorEnd",(function(){return t.loadOrPreloadMore()})),this.$refs.cgs.addEventListener("cgsStateChange",(function(){return t.loadOrPreloadMore()})),window.explorerEventBus.$on("setSettings",(function(e){return t.settings=Object.assign({},t.settings,e)}))}},{key:"isOverlayDisabled",get:function(){return FF.isMobile()}},{key:"RangeReadoutState",get:function(){return yt}},{key:"defaultTypes",get:function(){return this.defaultSettings.default_types}},{key:"primaryPrivateScaleText",get:function(){return FF.isMobile()?"Private Scale":"".concat(ut.getYAxisTitle(this.yAxisPrimary)," Scale Private")}},{key:"secondaryPrivateScaleText",get:function(){return FF.isMobile()?"Private Scale":"".concat(ut.getYAxisTitle(this.yAxisSecondary)," Scale Private")}},{key:"isPrimaryYAxisPrivate",get:function(){return!this.graphData.i.can_view_cash&&ut.isYAxisPrivate(this.yAxisPrimary)}},{key:"isSecondaryYAxisPrivate",get:function(){return!this.graphData.i.can_view_cash&&ut.isYAxisPrivate(this.yAxisSecondary)}},{key:"interval",get:function(){switch(this.xAxis){case"days":return rt;case"weeks":return nt;case"months":return it;case"years":return ot;default:return rt}}},{key:"hasTransfers",get:function(){var t=["equity","balance"];return t.includes(this.yAxisPrimary)||this.isOverlay&&t.includes(this.yAxisSecondary)}},{key:"primaryRangeReadoutDescription",get:function(){return"".concat(this.primaryYAxisTitle," by ").concat(this.xAxisTitle)}},{key:"secondaryRangeReadoutDescription",get:function(){return"".concat(this.secondaryYAxisTitle," by ").concat(this.xAxisTitle)}},{key:"primaryYAxisTitle",get:function(){return ut.getYAxisTitle(this.yAxisPrimary)}},{key:"secondaryYAxisTitle",get:function(){return ut.getYAxisTitle(this.yAxisSecondary)}},{key:"error",get:function(){return this.accountAgeDays<30&&("annualreturn"===this.yAxisPrimary||"annualreturn"===this.yAxisSecondary)?"Annualized Return will not display until the account is 30 days or older.":""}},{key:"xAxisTitle",get:function(){switch(this.xAxis){case"trades":return"Trade#";case"days":return"Days";case"weeks":return"Weeks";case"months":return"Months";case"years":return"Years";case"dayofweek":return"Day of Week";default:return this.xAxis}}},{key:"isDayOfWeekDisabled",get:function(){var t=["ncreturn","ncprofit","ncpips","timereturn","annualreturn"];return t.includes(this.yAxisPrimary)||this.isOverlay&&t.includes(this.yAxisSecondary)}},{key:"primaryFormat",get:function(){return ut.getFormat(this.yAxisPrimary)}},{key:"secondaryFormat",get:function(){return ut.getFormat(this.yAxisSecondary)}},{key:"semiTransparentColorSecondary",get:function(){return"".concat(this.colorSecondary,"BF")}},{key:"colorTransferWithOpenTrades",get:function(){return"".concat(this.colorTransfer,"80")}},{key:"colorSecondaryWithOpenTrades",get:function(){return"".concat(this.colorSecondary,"80")}},{key:"colorPrimaryWithOpenTrades",get:function(){return"".concat(this.colorPrimary,"80")}},{key:"semiTransparentColorTransfer",get:function(){return"".concat(this.colorTransfer,"BF")}},{key:"darkerColorPrimary",get:function(){return FF.Color.lightenDarkenColor(this.colorPrimary,-15)}},{key:"darkerColorSecondary",get:function(){return FF.Color.lightenDarkenColor(this.colorSecondary,-15)}},{key:"rangeSelectorDateFormat",get:function(){switch(this.interval){case nt:return"M j, Y";default:return"M Y"}}},{key:"isOverlay",get:function(){return"on"===this.overlay.toLowerCase().trim()&&!FF.isMobile()}},{key:"formClassObject",get:function(){return{explorer_graph__options:!0,"explorer_graph__options--overlay":this.isOverlay,"explorer_graph__options--nooverlay":!this.isOverlay,"explorer_graph__options--loading":this.isLoading}}},{key:"primaryRadioStyle",get:function(){return{backgroundColor:this.isOverlay?this.colorPrimary:void 0}}},{key:"secondaryRadioStyle",get:function(){return{backgroundColor:this.isOverlay?this.colorSecondary:void 0}}},{key:"primaryYAxisPrefix",get:function(){return this.primaryFormat===ft.Money?this.currencySymbol:""}},{key:"secondaryYAxisPrefix",get:function(){return this.secondaryFormat===ft.Money?this.currencySymbol:""}},{key:"isMore",get:function(){return 0===this.graphData.d.length||this.graphData.d.length>=this.numBars}},{key:"nextNumBars",get:function(){return this.numBars+this.moreBars}},{key:"cursorDataPoints",get:function(){switch(this.xAxis){case"trades":return this.graphData.d.map((function(t){return{timestamp:t.dateline,label:"Trade#".concat(t.trade)}}));case"dayofweek":return this.graphData.d.map((function(t){return{timestamp:t.dateline,label:"".concat(CGS.FormattedDate.get(new Date(1e3*t.dateline),"l"),"s")}}));default:return}}},{key:"customXAxisBreakers",get:function(){switch(this.xAxis){case"trades":return this.graphData.d.map((function(t){var e;return(null!==(e=t.trade)&&void 0!==e?e:0)%50==0?"Trade#".concat(t.trade):""}));case"days":return this.graphData.d.map((function(t){var e=parseInt(CGS.FormattedDate.get(new Date(1e3*t.dateline),"j"),10);return[1,15].includes(e)?CGS.FormattedDate.get(new Date(1e3*t.dateline),"M j, Y"):""}));case"weeks":var t={};return this.graphData.d.map((function(e){var a=CGS.FormattedDate.get(new Date(1e3*e.dateline),"m-Y"),r="";return t[a]||(t[a]=!0,r=CGS.FormattedDate.get(new Date(1e3*e.dateline),"M j, Y")),r}));case"months":return this.graphData.d.map((function(t){return CGS.FormattedDate.get(new Date(1e3*t.dateline),"M Y")}));case"years":return this.graphData.d.map((function(t){return CGS.FormattedDate.get(new Date(1e3*t.dateline),"Y")}));case"dayofweek":return this.graphData.d.map((function(t){return"".concat(CGS.FormattedDate.get(new Date(1e3*t.dateline),"l"),"s")}));default:return}}},{key:"settings",get:function(){return{types:this.types,default_types:this.defaultTypes,yaxis_primary:this.yAxisPrimary,yaxis_secondary:this.yAxisSecondary,xaxis:this.xAxis,type_primary:this.typePrimary,type_secondary:this.typeSecondary,color_primary:this.colorPrimary,color_secondary:this.colorSecondary,color_transfer:this.colorTransfer,cursor:this.cursor,overlay:this.overlay}},set:function(t){var e,a,r,n,i,o,s,l,c,p,d,u,h,f;this.types=Object.assign({},this.defaultTypes,t.types),this.yAxisPrimary=null!==(e=t.yaxis_primary)&&void 0!==e?e:this.defaultSettings.yaxis_primary,this.yAxisSecondary=null!==(a=t.yaxis_secondary)&&void 0!==a?a:this.defaultSettings.yaxis_secondary,this.xAxis=null!==(r=t.xaxis)&&void 0!==r?r:this.defaultSettings.xaxis,this.typePrimary=null!==(n=t.type_primary)&&void 0!==n?n:this.defaultSettings.type_primary,this.typeSecondary=null!==(i=t.type_secondary)&&void 0!==i?i:this.defaultSettings.type_secondary,this.colorPrimary=null!==(s=null!==(o=t.color_primary)&&void 0!==o?o:this.defaultSettings.color_primary)&&void 0!==s?s:null===(l=FF.Color.getByVariable("graphblue"))||void 0===l?void 0:l.getHex(),this.colorSecondary=null!==(p=null!==(c=t.color_secondary)&&void 0!==c?c:this.defaultSettings.color_secondary)&&void 0!==p?p:null===(d=FF.Color.getByVariable("graphorange"))||void 0===d?void 0:d.getHex(),this.colorTransfer=null!==(u=t.color_transfer)&&void 0!==u?u:this.defaultSettings.color_transfer,this.cursor=null!==(h=t.cursor)&&void 0!==h?h:this.defaultSettings.cursor,this.overlay=null!==(f=t.overlay)&&void 0!==f?f:this.defaultSettings.overlay}},{key:"primaryReadoutParams",get:function(){return{scale:this.primaryFormat===ft.Percent?1:0,prefix:this.primaryFormat===ft.Money?this.currencySymbol:"",showNegativeSymbol:!0}}},{key:"secondaryReadoutParams",get:function(){return{scale:this.secondaryFormat===ft.Percent?1:0,prefix:this.secondaryFormat===ft.Money?this.currencySymbol:"",showNegativeSymbol:!0}}},{key:"settingsFromUrlHash",get:function(){var t={};return window.location.hash.split("-").slice(2).map((function(t){return t.split(".")})).forEach((function(e){if("yaxis"===e[0]){var a=e[1].split(",");a[0]&&(t.yaxis_primary=a[0]),a[1]&&(t.yaxis_secondary=a[1]),t.overlay=a.length>1?"on":"off"}else t[e[0]]=e[1]})),t}},{key:"defaultNumVisibleBars",get:function(){return parseInt((window.location.hash.split("-").slice(2).map((function(t){return t.split(".")})).filter((function(t){return"bars"===t[0]}))[0]||[])[1],10)||100}}],[{key:"getYAxisTitle",value:function(t){switch(t){case"equity":return"Equity";case"balance":return"Balance";case"return":return"Return";case"profit":return"Profit";case"pips":return"Pips";case"ncreturn":return"Non-Cume Return";case"ncprofit":return"Non-Cume Profit";case"ncpips":return"Non-Cume Pips";case"timereturn":return"Time Return";case"annualreturn":return"Annualized Return";default:return t}}},{key:"isYAxisPrivate",value:function(t){return["equity","balance","profit","ncprofit"].includes(t)}},{key:"isZeroLine",value:function(t){return["return","timereturn","annualreturn","profit","equity","balance","pips"].includes(t)}},{key:"getFormat",value:function(t){switch(t){case"return":case"ncreturn":case"timereturn":case"annualreturn":return ft.Percent;case"balance":case"equity":case"profit":case"ncprofit":return ft.Money;default:return ft.Default}}}]),a}(P(pt,e().extend({props:{accountId:{type:Number},currencySymbol:{type:String},defaultSettings:{type:Object},explorerTimezone:{type:String,default:""},accountAgeDays:{type:Number,default:""}}})));mt([Q("yAxisPrimary")],gt.prototype,"onYAxisPrimaryChange",null),mt([Q("yAxisSecondary")],gt.prototype,"onYAxisSecondaryChange",null),mt([Q("xAxis")],gt.prototype,"onXAxisChange",null),mt([Q("typePrimary")],gt.prototype,"onTypePrimaryChange",null),mt([Q("typeSecondary")],gt.prototype,"onTypeSecondaryChange",null),mt([Q("settings")],gt.prototype,"onSettingsChange",null),gt=ut=mt([I({template:'\n\t\t<div class="explorer__panel explorer__panel--graph" :class="{ \'explorer__panel--loading\': isLoading, \'explorer__panel--error\': error }">\n\t\t\t<table>\n\t\t\t\t<thead>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th>\n\t\t\t\t\t\t\t<div class="explorer_graph__rangereadout">\n\t\t\t\t\t\t\t\t<ul class="cga__rangereadout cga-range-readout">\n\t\t\t\t\t\t\t\t\t<li v-show="isLoading">\n\t\t\t\t\t\t\t\t\t\t<span class="icon icon--loader"></span>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t<li class="cga__range range noborder left" v-show="!isLoading && rangeReadoutState === RangeReadoutState.Range">\n\t\t\t\t\t\t\t\t\t\t<span class="left">\n\t\t\t\t\t\t\t\t\t\t\t<span class="cga__circle" :style="\'background-color: \' + colorPrimary + \'; border-color: \' + darkerColorPrimary"></span>\n\t\t\t\t\t\t\t\t\t\t\t{{ primaryRangeReadoutDescription }} | {{ range.from }} &ndash; {{ range.to }}</span>\n\t\t\t\t\t\t\t\t\t\t<span class="right" v-show="isOverlay">\n\t\t\t\t\t\t\t\t\t\t\t<span class="cga__circle" :style="\'background-color: \' + colorSecondary + \'; border-color: \' + darkerColorSecondary"></span>\n\t\t\t\t\t\t\t\t\t\t\t{{ secondaryRangeReadoutDescription }}\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t<li class="cga__readout readout noborder left" v-show="!isLoading && rangeReadoutState === RangeReadoutState.Readout">\n\t\t\t\t\t\t\t\t\t\t<span class="left">\n\t\t\t\t\t\t\t\t\t\t\t<span class="cga__circle" :style="\'background-color: \' + colorPrimary + \'; border-color: \' + darkerColorPrimary"></span>\n\t\t\t\t\t\t\t\t\t\t\t{{ primaryRangeReadoutDescription }} | <span v-show="!isPrimaryYAxisPrivate">{{ readout.primary.value }} on </span>{{ readout.primary.date }}\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t<span class="right" v-show="isOverlay">\n\t\t\t\t\t\t\t\t\t\t\t<span class="cga__circle" :style="\'background-color: \' + colorSecondary + \'; border-color: \' + darkerColorSecondary"></span>\n\t\t\t\t\t\t\t\t\t\t\t{{ secondaryRangeReadoutDescription }} | <span v-show="!isSecondaryYAxisPrivate">{{ readout.secondary.value }} on </span>{{ readout.secondary.date }}\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</th>\n\t\t\t\t\t</tr>\n\t\t\t\t</thead>\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td ref="container" style="padding: 0;">\n\t\t\t\t\t\t\t<div class="alert alert--tradegraph" v-show="error" v-text="error"></div>\n\t\t\t\t\t\t\t<div ref="cgs" v-show="!error">\n\t\t\t\t\t\t\t\t<canvas width="1" height="375" style="width: 1px; height: 375px;"></canvas>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</tr>\n\t\t\t\t</tbody>\n\t\t\t</table>\n\t\t\t<form :class="formClassObject">\n\t\t\t\t<div class="explorer_graph__cell explorer_graph__cell--yaxis">\n\t\t\t\t\t<div class="explorer_graph__block explorer_graph__block--yaxis">\n\t\t\t\t\t\t<strong>Y-Axis Options</strong>\n\t\t\t\t\t\t<ul class="explorer_graph__list explorer_graph__list--yaxis">\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<a href="javascript:void(0);" class="tooltip__info" data-info="help_gainloss_deposits_equity"></a>\n\t\t\t\t\t\t\t\t<span class="explorer_graph__radio explorer_graph__radio--primary">\n\t\t\t\t\t\t\t\t\t<input type="radio" :id="accountId + \'_yaxis_primary_equity\'" name="yaxis_primary" value="equity" v-model="yAxisPrimary">\n\t\t\t\t\t\t\t\t\t<label :for="accountId + \'_yaxis_primary_equity\'" :style="primaryRadioStyle"></label>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<span class="explorer_graph__radio explorer_graph__radio--secondary">\n\t\t\t\t\t\t\t\t\t<input type="radio" :id="accountId + \'_yaxis_secondary_equity\'" name="yaxis_secondary" value="equity" v-model="yAxisSecondary">\n\t\t\t\t\t\t\t\t\t<label :for="accountId + \'_yaxis_secondary_equity\'" :style="secondaryRadioStyle"></label>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<label :for="isOverlay ? undefined : accountId + \'_yaxis_primary_equity\'">Equity</label>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<a href="javascript:void(0);" class="tooltip__info" data-info="help_gainloss_deposits_balance"></a>\n\t\t\t\t\t\t\t\t<span class="explorer_graph__radio explorer_graph__radio--primary">\n\t\t\t\t\t\t\t\t\t<input type="radio" :id="accountId + \'_yaxis_primary_balance\'" name="yaxis_primary" value="balance" v-model="yAxisPrimary">\n\t\t\t\t\t\t\t\t\t<label :for="accountId + \'_yaxis_primary_balance\'" :style="primaryRadioStyle"></label>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<span class="explorer_graph__radio explorer_graph__radio--secondary">\n\t\t\t\t\t\t\t\t\t<input type="radio" :id="accountId + \'_yaxis_secondary_balance\'" name="yaxis_secondary" value="balance" v-model="yAxisSecondary">\n\t\t\t\t\t\t\t\t\t<label :for="accountId + \'_yaxis_secondary_balance\'" :style="secondaryRadioStyle"></label>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<label :for="isOverlay ? undefined : accountId + \'_yaxis_primary_balance\'">Balance</label>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<a href="javascript:void(0);" class="tooltip__info" :data-info="\'help_roi_\' + viewMode"></a>\n\t\t\t\t\t\t\t\t<span class="explorer_graph__radio explorer_graph__radio--primary">\n\t\t\t\t\t\t\t\t\t<input type="radio" :id="accountId + \'_yaxis_primary_return\'" name="yaxis_primary" value="return" v-model="yAxisPrimary">\n\t\t\t\t\t\t\t\t\t<label :for="accountId + \'_yaxis_primary_return\'" :style="primaryRadioStyle"></label>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<span class="explorer_graph__radio explorer_graph__radio--secondary">\n\t\t\t\t\t\t\t\t\t<input type="radio" :id="accountId + \'_yaxis_secondary_return\'" name="yaxis_secondary" value="return" v-model="yAxisSecondary">\n\t\t\t\t\t\t\t\t\t<label :for="accountId + \'_yaxis_secondary_return\'" :style="secondaryRadioStyle"></label>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<label :for="isOverlay ? undefined : accountId + \'_yaxis_primary_return\'">Return</label>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<a href="javascript:void(0);" class="tooltip__info" :data-info="\'help_gainloss_\' + viewMode"></a>\n\t\t\t\t\t\t\t\t<span class="explorer_graph__radio explorer_graph__radio--primary">\n\t\t\t\t\t\t\t\t\t<input type="radio" :id="accountId + \'_yaxis_primary_profit\'" name="yaxis_primary" value="profit" v-model="yAxisPrimary">\n\t\t\t\t\t\t\t\t\t<label :for="accountId + \'_yaxis_primary_profit\'" :style="primaryRadioStyle"></label>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<span class="explorer_graph__radio explorer_graph__radio--secondary">\n\t\t\t\t\t\t\t\t\t<input type="radio" :id="accountId + \'_yaxis_secondary_profit\'" name="yaxis_secondary" value="profit" v-model="yAxisSecondary">\n\t\t\t\t\t\t\t\t\t<label :for="accountId + \'_yaxis_secondary_profit\'" :style="secondaryRadioStyle"></label>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<label :for="isOverlay ? undefined : accountId + \'_yaxis_primary_profit\'">Profit</label>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<a href="javascript:void(0);" class="tooltip__info" :data-info="\'help_netpips_\' + viewMode"></a>\n\t\t\t\t\t\t\t\t<span class="explorer_graph__radio explorer_graph__radio--primary">\n\t\t\t\t\t\t\t\t\t<input type="radio" :id="accountId + \'_yaxis_primary_pips\'" name="yaxis_primary" value="pips" v-model="yAxisPrimary">\n\t\t\t\t\t\t\t\t\t<label :for="accountId + \'_yaxis_primary_pips\'" :style="primaryRadioStyle"></label>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<span class="explorer_graph__radio explorer_graph__radio--secondary">\n\t\t\t\t\t\t\t\t\t<input type="radio" :id="accountId + \'_yaxis_secondary_pips\'" name="yaxis_secondary" value="pips" v-model="yAxisSecondary">\n\t\t\t\t\t\t\t\t\t<label :for="accountId + \'_yaxis_secondary_pips\'" :style="secondaryRadioStyle"></label>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<label :for="isOverlay ? undefined : accountId + \'_yaxis_primary_pips\'">Pips</label>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<a href="javascript:void(0);" class="tooltip__info" :data-info="\'help_net_percent_\' + viewMode"></a>\n\t\t\t\t\t\t\t\t<span class="explorer_graph__radio explorer_graph__radio--primary" :class="{ \'explorer_graph__radio--disabled\': xAxis === \'dayofweek\' }">\n\t\t\t\t\t\t\t\t\t<input type="radio" :id="accountId + \'_yaxis_primary_ncreturn\'" name="yaxis_primary" value="ncreturn" v-model="yAxisPrimary" :disabled="xAxis === \'dayofweek\'">\n\t\t\t\t\t\t\t\t\t<label :for="accountId + \'_yaxis_primary_ncreturn\'" :style="primaryRadioStyle"></label>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<span class="explorer_graph__radio explorer_graph__radio--secondary" :class="{ \'explorer_graph__radio--disabled\': xAxis === \'dayofweek\' }">\n\t\t\t\t\t\t\t\t\t<input type="radio" :id="accountId + \'_yaxis_secondary_ncreturn\'" name="yaxis_secondary" value="ncreturn" v-model="yAxisSecondary" :disabled="xAxis === \'dayofweek\'">\n\t\t\t\t\t\t\t\t\t<label :for="accountId + \'_yaxis_secondary_ncreturn\'" :style="secondaryRadioStyle"></label>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<label :for="isOverlay ? undefined : accountId + \'_yaxis_primary_ncreturn\'">Non-Cume Return</label>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<a href="javascript:void(0);" class="tooltip__info" :data-info="\'help_money_\' + viewMode"></a>\n\t\t\t\t\t\t\t\t<span class="explorer_graph__radio explorer_graph__radio--primary" :class="{ \'explorer_graph__radio--disabled\': xAxis === \'dayofweek\' }">\n\t\t\t\t\t\t\t\t\t<input type="radio" :id="accountId + \'_yaxis_primary_ncprofit\'" name="yaxis_primary" value="ncprofit" v-model="yAxisPrimary" :disabled="xAxis === \'dayofweek\'">\n\t\t\t\t\t\t\t\t\t<label :for="accountId + \'_yaxis_primary_ncprofit\'" :style="primaryRadioStyle"></label>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<span class="explorer_graph__radio explorer_graph__radio--secondary" :class="{ \'explorer_graph__radio--disabled\': xAxis === \'dayofweek\' }">\n\t\t\t\t\t\t\t\t\t<input type="radio" :id="accountId + \'_yaxis_secondary_ncprofit\'" name="yaxis_secondary" value="ncprofit" v-model="yAxisSecondary" :disabled="xAxis === \'dayofweek\'">\n\t\t\t\t\t\t\t\t\t<label :for="accountId + \'_yaxis_secondary_ncprofit\'" :style="secondaryRadioStyle"></label>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<label :for="isOverlay ? undefined : accountId + \'_yaxis_primary_ncprofit\'">Non-Cume Profit</label>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<a href="javascript:void(0);" class="tooltip__info" :data-info="\'help_pips_\' + viewMode"></a>\n\t\t\t\t\t\t\t\t<span class="explorer_graph__radio explorer_graph__radio--primary" :class="{ \'explorer_graph__radio--disabled\': xAxis === \'dayofweek\' }">\n\t\t\t\t\t\t\t\t\t<input type="radio" :id="accountId + \'_yaxis_primary_ncpips\'" name="yaxis_primary" value="ncpips" v-model="yAxisPrimary" :disabled="xAxis === \'dayofweek\'">\n\t\t\t\t\t\t\t\t\t<label :for="accountId + \'_yaxis_primary_ncpips\'" :style="primaryRadioStyle"></label>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<span class="explorer_graph__radio explorer_graph__radio--secondary" :class="{ \'explorer_graph__radio--disabled\': xAxis === \'dayofweek\' }">\n\t\t\t\t\t\t\t\t\t<input type="radio" :id="accountId + \'_yaxis_secondary_ncpips\'" name="yaxis_secondary" value="ncpips" v-model="yAxisSecondary" :disabled="xAxis === \'dayofweek\'">\n\t\t\t\t\t\t\t\t\t<label :for="accountId + \'_yaxis_secondary_ncpips\'" :style="secondaryRadioStyle"></label>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<label :for="isOverlay ? undefined : accountId + \'_yaxis_primary_ncpips\'">Non-Cume Pips</label>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class="explorer_graph__cell explorer_graph__cell--xaxis">\n\t\t\t\t\t<div class="explorer_graph__block explorer_graph__block--xaxis">\n\t\t\t\t\t\t<strong>X-Axis Options</strong>\n\t\t\t\t\t\t<ul class="explorer_graph__list explorer_graph__list--xaxis">\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<a href="javascript:void(0);" class="tooltip__info" :data-info="\'help_trades_\' + viewMode"></a>\n\t\t\t\t\t\t\t\t<span class="explorer_graph__radio explorer_graph__radio--shared">\n\t\t\t\t\t\t\t\t\t<input type="radio" :id="accountId + \'_xaxis_trades\'" name="xaxis" value="trades" v-model="xAxis">\n\t\t\t\t\t\t\t\t\t<label :for="accountId + \'_xaxis_trades\'"></label>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<label :for="accountId + \'_xaxis_trades\'">Trade#</label>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<a href="javascript:void(0);" class="tooltip__info" :data-info="\'help_days_\' + viewMode"></a>\n\t\t\t\t\t\t\t\t<span class="explorer_graph__radio explorer_graph__radio--shared">\n\t\t\t\t\t\t\t\t\t<input type="radio" :id="accountId + \'_xaxis_days\'" name="xaxis" value="days" v-model="xAxis">\n\t\t\t\t\t\t\t\t\t<label :for="accountId + \'_xaxis_days\'"></label>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<label :for="accountId + \'_xaxis_days\'">Days</label>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<a href="javascript:void(0);" class="tooltip__info" :data-info="\'help_weeks_\' + viewMode"></a>\n\t\t\t\t\t\t\t\t<span class="explorer_graph__radio explorer_graph__radio--shared">\n\t\t\t\t\t\t\t\t\t<input type="radio" :id="accountId + \'_xaxis_weeks\'" name="xaxis" value="weeks" v-model="xAxis">\n\t\t\t\t\t\t\t\t\t<label :for="accountId + \'_xaxis_weeks\'"></label>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<label :for="accountId + \'_xaxis_weeks\'">Weeks</label>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<a href="javascript:void(0);" class="tooltip__info" :data-info="\'help_months_\' + viewMode"></a>\n\t\t\t\t\t\t\t\t<span class="explorer_graph__radio explorer_graph__radio--shared">\n\t\t\t\t\t\t\t\t\t<input type="radio" :id="accountId + \'_xaxis_months\'" name="xaxis" value="months" v-model="xAxis">\n\t\t\t\t\t\t\t\t\t<label :for="accountId + \'_xaxis_months\'"></label>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<label :for="accountId + \'_xaxis_months\'">Months</label>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<a href="javascript:void(0);" class="tooltip__info" :data-info="\'help_years_\' + viewMode"></a>\n\t\t\t\t\t\t\t\t<span class="explorer_graph__radio explorer_graph__radio--shared">\n\t\t\t\t\t\t\t\t\t<input type="radio" :id="accountId + \'_xaxis_years\'" name="xaxis" value="years" v-model="xAxis">\n\t\t\t\t\t\t\t\t\t<label :for="accountId + \'_xaxis_years\'"></label>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<label :for="accountId + \'_xaxis_years\'">Years</label>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<a href="javascript:void(0);" class="tooltip__info" :data-info="\'help_dayofweek_\' + viewMode" :data-timezone="explorerTimezone"></a>\n\t\t\t\t\t\t\t\t<span class="explorer_graph__radio explorer_graph__radio--shared" :class="{ \'explorer_graph__radio--disabled\': isDayOfWeekDisabled }">\n\t\t\t\t\t\t\t\t\t<input type="radio" :id="accountId + \'_xaxis_dayofweek\'" name="xaxis" value="dayofweek" v-model="xAxis" :disabled="isDayOfWeekDisabled">\n\t\t\t\t\t\t\t\t\t<label :for="accountId + \'_xaxis_dayofweek\'"></label>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<label :for="accountId + \'_xaxis_dayofweek\'">Day of Week</label>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t<div class="explorer_graph__cell explorer_graph__cell--style">\n\t\t\t\t\t<div class="explorer_graph__block explorer_graph__block--type">\n\t\t\t\t\t\t<strong>Graph Type</strong>\n\t\t\t\t\t\t<ul class="explorer_graph__list explorer_graph__list--type">\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<span class="explorer_graph__radio explorer_graph__radio--primary">\n\t\t\t\t\t\t\t\t\t<input type="radio" :id="accountId + \'_type_primary_line\'" name="type_primary" value="line" v-model="typePrimary">\n\t\t\t\t\t\t\t\t\t<label :for="accountId + \'_type_primary_line\'" :style="primaryRadioStyle"></label>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<span class="explorer_graph__radio explorer_graph__radio--secondary">\n\t\t\t\t\t\t\t\t\t<input type="radio" :id="accountId + \'_type_secondary_line\'" name="type_secondary" value="line" v-model="typeSecondary">\n\t\t\t\t\t\t\t\t\t<label :for="accountId + \'_type_secondary_line\'" :style="secondaryRadioStyle"></label>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<label :for="isOverlay ? undefined : accountId + \'_type_primary_line\'">Line</label>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<span class="explorer_graph__radio explorer_graph__radio--primary">\n\t\t\t\t\t\t\t\t\t<input type="radio" :id="accountId + \'_type_primary_bar\'" name="type_primary" value="bar" v-model="typePrimary">\n\t\t\t\t\t\t\t\t\t<label :for="accountId + \'_type_primary_bar\'" :style="primaryRadioStyle"></label>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<span class="explorer_graph__radio explorer_graph__radio--secondary">\n\t\t\t\t\t\t\t\t\t<input type="radio" :id="accountId + \'_type_secondary_bar\'" name="type_secondary" value="bar" v-model="typeSecondary">\n\t\t\t\t\t\t\t\t\t<label :for="accountId + \'_type_secondary_bar\'" :style="secondaryRadioStyle"></label>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<label :for="isOverlay ? undefined : accountId + \'_type_primary_bar\'">Bar</label>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<span class="explorer_graph__radio explorer_graph__radio--primary">\n\t\t\t\t\t\t\t\t\t<input type="radio" :id="accountId + \'_type_primary_area\'" name="type_primary" value="area" v-model="typePrimary">\n\t\t\t\t\t\t\t\t\t<label :for="accountId + \'_type_primary_area\'" :style="primaryRadioStyle"></label>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<span class="explorer_graph__radio explorer_graph__radio--secondary">\n\t\t\t\t\t\t\t\t\t<input type="radio" :id="accountId + \'_type_secondary_area\'" name="type_secondary" value="area" v-model="typeSecondary">\n\t\t\t\t\t\t\t\t\t<label :for="accountId + \'_type_secondary_area\'" :style="secondaryRadioStyle"></label>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<label :for="isOverlay ? undefined : accountId + \'_type_primary_area\'">Area</label>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="explorer_graph__block explorer_graph__block--color">\n\t\t\t\t\t\t<strong>Graph Color</strong>\n\t\t\t\t\t\t<ul class="explorer_graph__list explorer_graph__list--color">\n\t\t\t\t\t\t\t<li class="explorer_graph__color explorer_graph__color--primary">\n\t\t\t\t\t\t\t\t<input type="hidden" :id="accountId + \'_color_primary\'" name="color_primary" v-model="colorPrimary" ref="colorPrimary">\n\t\t\t\t\t\t\t\t<a href="javascript:void(0);" class="internal" v-on:click="showColorPicker"><span>Primary Graph</span></a>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li class="explorer_graph__color explorer_graph__color--secondary" v-show="isOverlay">\n\t\t\t\t\t\t\t\t<input type="hidden" :id="accountId + \'_color_secondary\'" name="color_secondary" v-model="colorSecondary" ref="colorSecondary">\n\t\t\t\t\t\t\t\t<a href="javascript:void(0);" class="internal" v-on:click="showColorPicker"><span>Overlay Graph</span></a>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li class="explorer_graph__color explorer_graph__color--transfer" v-show="hasTransfers">\n\t\t\t\t\t\t\t\t<input type="hidden" :id="accountId + \'_color_transfer\'" name="color_transfer" v-model="colorTransfer" ref="colorTransfer">\n\t\t\t\t\t\t\t\t<a href="javascript:void(0);" class="internal" v-on:click="showColorPicker"><span>Period Includes Transfer(s)</span></a>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class="explorer_graph__cell explorer_graph__cell--settings">\n\t\t\t\t\t<div class="explorer_graph__block explorer_graph__block--cursor">\n\t\t\t\t\t\t<strong>Cursor Type</strong>\n\t\t\t\t\t\t<ul class="explorer_graph__list explorer_graph__list--cursor">\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<span class="explorer_graph__radio explorer_graph__radio--shared">\n\t\t\t\t\t\t\t\t\t<input type="radio" :id="accountId + \'_cursor_cross\'" name="cursor" value="cross" v-model="cursor">\n\t\t\t\t\t\t\t\t\t<label :for="accountId + \'_cursor_cross\'"></label>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<label :for="accountId + \'_cursor_cross\'">Cross</label>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<span class="explorer_graph__radio explorer_graph__radio--shared">\n\t\t\t\t\t\t\t\t\t<input type="radio" :id="accountId + \'_cursor_horizontal\'" name="cursor" value="horizontal" v-model="cursor">\n\t\t\t\t\t\t\t\t\t<label :for="accountId + \'_cursor_horizontal\'"></label>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<label :for="accountId + \'_cursor_horizontal\'">Horizontal</label>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<span class="explorer_graph__radio explorer_graph__radio--shared">\n\t\t\t\t\t\t\t\t\t<input type="radio" :id="accountId + \'_cursor_vertical\'" name="cursor" value="vertical" v-model="cursor">\n\t\t\t\t\t\t\t\t\t<label :for="accountId + \'_cursor_vertical\'"></label>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<label :for="accountId + \'_cursor_vertical\'">Vertical</label>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<span class="explorer_graph__radio explorer_graph__radio--shared">\n\t\t\t\t\t\t\t\t\t<input type="radio" :id="accountId + \'_cursor_none\'" name="cursor" value="none" v-model="cursor">\n\t\t\t\t\t\t\t\t\t<label :for="accountId + \'_cursor_none\'"></label>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<label :for="accountId + \'_cursor_none\'">None</label>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="explorer_graph__block explorer_graph__block--options">\n\t\t\t\t\t\t<strong>Options</strong>\n\t\t\t\t\t\t<ul class="explorer_graph__list explorer_graph__list--options">\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<a href="javascript:void(0);" class="internal explorer_graph__action explorer_graph__action--savesettings" v-on:click="saveSettings">\n\t\t\t\t\t\t\t\t\t<span class="visible-tv visible-dv">\n\t\t\t\t\t\t\t\t\t\tRemember These Settings\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t<span class="visible-mv">\n\t\t\t\t\t\t\t\t\t\tRemember Settings\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<a href="javascript:void(0);" class="internal explorer_graph__action explorer_graph__action--defaultsettings" v-on:click="onDefaultSettingsClick">\n\t\t\t\t\t\t\t\t\t<span class="visible-tv visible-dv">\n\t\t\t\t\t\t\t\t\t\tReturn to Default Settings\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t<span class="visible-mv">\n\t\t\t\t\t\t\t\t\t\tDefault Settings\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li><label class="explorer_graph__overlay" :class="{\'explorer_graph__overlay--disabled\': isOverlayDisabled}"><input :disabled="isOverlayDisabled" type="checkbox" v-model="overlay" :id="accountId + \'_overlay\'" name="overlay" value="on" true-value="on" false-value="off"> Overlay Graph<span>(not available on small screen)</span></label></li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t</form>\n\t\t</div>\n\t'})],gt),function(t){t.Equity="equity",t.Balance="balance"}(ht||(ht={})),function(t){t[t.Percent=0]="Percent",t[t.Money=1]="Money",t[t.Default=2]="Default"}(ft||(ft={})),function(t){t[t.Range=0]="Range",t[t.Readout=1]="Readout",t[t.Message=2]="Message"}(yt||(yt={}));var vt=function(){function t(){o()(this,t),this.cache={}}return l()(t,[{key:"get",value:function(t){return this.cache[t]}},{key:"set",value:function(t,e){this.cache[t]=e}}]),t}(),_t=function(){function t(e){var a,r,n,i;o()(this,t),this.closedColor=null!==(r=null===(a=FF.Color.getByVariable("$graphblue"))||void 0===a?void 0:a.getHex())&&void 0!==r?r:"#2874cd",this.openColor=null!==(i="".concat(null===(n=FF.Color.getByVariable("$graphblue"))||void 0===n?void 0:n.getHex(),"99"))&&void 0!==i?i:"#72a4de",this.accountId=e,st.fetch()}return l()(t,[{key:"setConfig",value:function(t,e){this.container=t,this.period=e.toLowerCase(),this.pane&&this.pane.dispose(),delete this.app}},{key:"update",value:function(){var t=this;this.loadData().then((function(e){st.fetch().then((function(){t.data=e,t.render()}))}))}},{key:"render",value:function(){void 0===this.app&&this.initCgs(),this.app.rebuild(),this.app.prepareRender(),this.app.deferredPrepareRender(),this.app.render(),this.container.classList.remove("loading"),this.container.classList.add("loaded")}},{key:"initCgs",value:function(){void 0===this.app&&(this.app=new CGS.App(this.container,{from:0,to:this.data.d.length-1,mouseWheelZoom:z.Disabled},this.theme),this.app.eventManager.stopListeningAll(),this.pane=this.app.addPane(),this.group=this.pane.addRightSeriesGroup({paddingTopPercent:.05,paddingBottomPercent:.05,numStrata:0}),this.series=this.group.addAreaSeries(this.dataPoints,{fillMin:0}))}},{key:"loadData",value:function(){var e=this;return new Promise((function(a){var r=t.cache.get(e.cacheKey);void 0!==r?a(r):B.getInstance().leaderboardGraphData(e.accountId,e.period).then((function(r){t.cache.set(e.cacheKey,r),a(r)}))}))}},{key:"dataPoints",get:function(){var t=this;return this.data.d.map((function(e){return{value:parseFloat(e.return_raw.replace(",","")),timestamp:e.dateline,fillColor:e.is_open?t.openColor:t.closedColor,strokeColor:e.is_open?t.openColor:t.closedColor}}))}},{key:"cacheKey",get:function(){return[this.accountId,this.period].join("-")}},{key:"theme",get:function(){return{pane:{backgroundColor:"transparent"},areaSeries:{fillColor:this.closedColor,strokeColor:this.closedColor}}}}]),t}();_t.cache=new vt;var xt=function(){function t(){o()(this,t),this.graphInstances={}}return l()(t,[{key:"init",value:function(t){this.flexBox=t,this.initSlideTable(),this.initGraphs()}},{key:"initSlideTable",value:function(){FF.isMobile()&&FF.slideTable({table:this.flexBox.querySelector(".slidetable__table:not(.slidetable__table--processed)"),deepclone:!1})}},{key:"initGraphs",value:function(){var t=this;this.flexBox.querySelectorAll("td.chart > a").forEach((function(e){var a,r=parseInt(e.dataset.accountId,10),n=e.dataset.period;t.graphInstances[r]=null!==(a=t.graphInstances[r])&&void 0!==a?a:new _t(r),t.graphInstances[r].setConfig(e,n),t.graphInstances[r].update()}))}}],[{key:"getInstance",value:function(){return void 0===t.instance&&(t.instance=new t),t.instance}}]),t}(),bt=function(){function t(e,a){var r,n,i,s;o()(this,t),this.closedColor=null!==(n=null===(r=FF.Color.getByVariable("$graphblue"))||void 0===r?void 0:r.getHex())&&void 0!==n?n:"#2874cd",this.openColor=null!==(s="".concat(null===(i=FF.Color.getByVariable("$graphblue"))||void 0===i?void 0:i.getHex(),"99"))&&void 0!==s?s:"#72a4de",this.container=e,this.xAxis=a}return l()(t,[{key:"setData",value:function(t){this.data=t}},{key:"render",value:function(){void 0===this.app&&this.initCgs(),this.app.rebuild(),this.app.prepareRender(),this.app.deferredPrepareRender(),this.app.render()}},{key:"dispose",value:function(){var t,e,a;null===(t=this.pane)||void 0===t||t.dispose(),null===(e=this.grid)||void 0===e||e.dispose(),null===(a=this.group)||void 0===a||a.dispose(),delete this.app}},{key:"initCgs",value:function(){var t,e;void 0===this.app&&(this.app=new CGS.App(this.container,{from:0,to:this.data.d.length-1,mouseWheelZoom:z.Disabled},Object.assign(this.theme,{frame:{panePaddingLeft:5,panePaddingRight:5}})),this.app.eventManager.stopListeningAll(),this.pane=this.app.addPane(),this.grid=this.pane.addGridRight({horizontalLineColors:{0:null!==(e=null===(t=FF.Color.getByVariable("$grey"))||void 0===t?void 0:t.getHexWithHash())&&void 0!==e?e:""}}),this.group=this.pane.addRightSeriesGroup({showZeroLine:!0,paddingTopPercent:.07,paddingBottomPercent:.07,numStrata:5}),this.addSeries())}}]),t}();function St(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,r=f()(t);if(e){var n=f()(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return u()(this,a)}}var kt=function(t){p()(a,t);var e=St(a);function a(){var t,r,n;return o()(this,a),(t=e.apply(this,arguments)).dotOpenColor=null!==(n=null===(r=FF.Color.getByVariable("$white"))||void 0===r?void 0:r.getHex())&&void 0!==n?n:"#fff",t}return l()(a,[{key:"getDescription",value:function(){var t=this.data.d.length;return"".concat(5e3===t?'<span class="worse">Last ':""," ").concat(t.toLocaleString("en-US")).concat(5e3===t?"</span>":""," Trade").concat(1===t?"":"s")}},{key:"addSeries",value:function(){this.series=this.group.addDottedLineSeries(this.dataPoints)}},{key:"dataPoints",get:function(){var t=this;return this.data.d.map((function(e){return{value:parseFloat(e.return_raw.replace(",","")),timestamp:e.dateline,dotFillColor:e.is_open?t.dotOpenColor:t.closedColor,dotStrokeColor:t.closedColor}}))}},{key:"theme",get:function(){return{lineSeries:{strokeColor:this.closedColor,dotRadius:2}}}}]),a}(bt);function Pt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,r=f()(t);if(e){var n=f()(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return u()(this,a)}}var Ct=function(t){p()(a,t);var e=Pt(a);function a(){return o()(this,a),e.apply(this,arguments)}return l()(a,[{key:"getDescription",value:function(){var t=this.data.d.length;return"".concat(t.toLocaleString("en-US")," ").concat(this.xAxis.substring(0,1).toUpperCase()).concat(this.xAxis.substring(1,this.xAxis.length-(1===t?1:0)))}},{key:"addSeries",value:function(){this.series=this.group.addAreaSeries(this.dataPoints,{fillMin:0})}},{key:"dataPoints",get:function(){var t=this;return this.data.d.map((function(e){return{value:e.profit_raw,timestamp:e.dateline,fillColor:e.is_open?t.openColor:t.closedColor,strokeColor:e.is_open?t.openColor:t.closedColor}}))}},{key:"theme",get:function(){return{}}}]),a}(bt);function Rt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,r=f()(t);if(e){var n=f()(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return u()(this,a)}}var wt=function(t){p()(a,t);var e=Rt(a);function a(){return o()(this,a),e.apply(this,arguments)}return l()(a,[{key:"getDescription",value:function(){var t=this.data.d.length;return"".concat(5e3===t?'<span class="worse">Last ':""," ").concat(t.toLocaleString("en-US")).concat(5e3===t?"</span>":""," Trade").concat(1===t?"":"s")}},{key:"addSeries",value:function(){this.series=this.group.addBarSeries(this.dataPoints)}},{key:"dataPoints",get:function(){var t=this;return this.data.d.map((function(e){return{value:parseFloat(e.ncreturn_raw.replace(",","")),timestamp:e.dateline,fillColor:e.is_open?t.openColor:t.closedColor,strokeColor:e.is_open?t.openColor:t.closedColor}}))}},{key:"theme",get:function(){return{}}}]),a}(bt);function Tt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,r=f()(t);if(e){var n=f()(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return u()(this,a)}}var Dt,At,$t,It,Mt=function(t){p()(a,t);var e=Tt(a);function a(){var t,r,n;return o()(this,a),(t=e.apply(this,arguments)).balanceColor=null!==(n=null===(r=FF.Color.getByVariable("$graphorange"))||void 0===r?void 0:r.getHex())&&void 0!==n?n:"#d39b5e",t.transfersColor="#0f2c4d",t}return l()(a,[{key:"getDescription",value:function(){var t=this.data.d.length;return"".concat(t.toLocaleString("en-US")," ").concat(this.xAxis.substring(0,1).toUpperCase()).concat(this.xAxis.substring(1,this.xAxis.length-(1===t?1:0)))}},{key:"addSeries",value:function(){this.equitySeries=this.group.addAreaSeries(this.equityDataPoints,{fillMin:0}),this.balanceSeries=this.group.addDottedLineSeries(this.balanceDataPoints)}},{key:"equityDataPoints",get:function(){var t=this;return this.data.d.map((function(e){return{value:e.equity_raw,timestamp:e.dateline,fillColor:e.is_open?t.openColor:e.has_deposits||e.has_withdraws?t.transfersColor:t.closedColor,strokeColor:e.is_open?t.openColor:e.has_deposits||e.has_withdraws?t.transfersColor:t.closedColor}}))}},{key:"balanceDataPoints",get:function(){var t=this;return this.data.d.map((function(e){return{value:e.balance_raw,timestamp:e.dateline,dotFillColor:e.has_deposits||e.has_withdraws?t.transfersColor:t.balanceColor,dotStrokeColor:e.has_deposits||e.has_withdraws?t.transfersColor:t.balanceColor}}))}},{key:"theme",get:function(){return{lineSeries:{strokeColor:this.balanceColor,dotRadius:2}}}}]),a}(bt),Lt=function(){function t(e){o()(this,t),this.overviewGraphs=[],this.viewMode="equity",this.accountId=e,st.fetch()}return l()(t,[{key:"setPeriod",value:function(t){this.period=t}},{key:"setViewMode",value:function(t){this.viewMode=t}},{key:"disposeGraphs",value:function(){this.overviewGraphs.forEach((function(t){var e;return null===(e=t.renderer)||void 0===e?void 0:e.dispose()})),this.overviewGraphs=[]}},{key:"addGraph",value:function(t,e,a){var r,n=t.querySelector(".explorer_minigraph__graph a"),i=t.querySelector(".explorer_minigraph__loader"),o=t.querySelector(".explorer_minigraph__error"),s=t.querySelector(".explorer_minigraph__graph"),l=t.querySelector(".explorer_minigraph__description");switch(a){case"return":r=new kt(n,e);break;case"profit":r=new Ct(n,e);break;case"ncreturn":r=new wt(n,e);break;case"equity,balance":r=new Mt(n,e)}this.overviewGraphs.push({container:t,xAxis:e,yAxis:a,renderer:r,loader:i,error:o,outerContainer:s,description:l})}},{key:"draw",value:function(){var t=this;this.loadData().then((function(e){st.fetch().then((function(){t.overviewGraphs.forEach((function(a){var r=[a.xAxis,a.yAxis].join("|");if(void 0===e[r])t.error("Cannot load data.",a);else if(void 0===a.renderer)t.error("Invalid graph type.",a);else{switch(t.viewMode){case"balance":a.renderer.setData({i:e[r].i,d:e[r].d.filter((function(t){return!t.is_open}))});break;case"equity":default:a.renderer.setData(e[r])}a.renderer.render();var n=a.loader.getBoundingClientRect();a.outerContainer.style.height="".concat(n.height,"px"),a.outerContainer.style.width="".concat(n.width,"px"),a.loader.classList.add("explorer_minigraph__loader--hidden"),a.outerContainer.style.display="",a.description.innerHTML=a.renderer.getDescription()}}))}))})).catch((function(e){t.overviewGraphs.forEach((function(e){t.error("Cannot load data.",e)}))}))}},{key:"error",value:function(t,e){e.loader.classList.add("explorer_minigraph__loader--hidden"),e.outerContainer.style.display="none",e.error.append(document.createTextNode(t)),e.error.classList.remove("explorer_minigraph__error--hidden")}},{key:"loadData",value:function(){var e=this;return new Promise((function(a){var r=t.dataCache.get(e.cacheKey);if(void 0!==r)a(r);else{var n=B.getInstance().overviewGraphData(e.accountId,e.period,e.divider);t.dataCache.set(e.cacheKey,n),a(n)}}))}},{key:"divider",get:function(){var t,e;return null!==(e=null===(t=this.overviewGraphs.find((function(t){return"trades"!==t.xAxis})))||void 0===t?void 0:t.xAxis)&&void 0!==e?e:""}},{key:"cacheKey",get:function(){return[this.accountId,this.period].join("-")}}],[{key:"getInstance",value:function(e){var a=t.instanceCache.get(e.toString());return void 0===a&&(a=new t(e),t.instanceCache.set(e.toString(),a)),a}}]),t}();function Ot(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,r=f()(t);if(e){var n=f()(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return u()(this,a)}}Lt.dataCache=new vt,Lt.instanceCache=new vt,function(t){t.Buy="BUY",t.Sell="SELL"}(Dt||(Dt={})),function(t){t[t.Low=0]="Low",t[t.Medium=1]="Medium",t[t.High=2]="High"}(At||(At={})),function(t){t.Sydney="Sydney",t.Tokyo="Tokyo",t.London="London",t.NewYork="New York"}($t||($t={})),function(t){t[t.Past=0]="Past",t[t.Present=1]="Present",t[t.Future=2]="Future"}(It||(It={}));var Ft,Bt=function(t){p()(a,t);var e=Ot(a);function a(){return o()(this,a),e.call(this,{baseURL:FF.mds_api_endpoint+"/"})}return l()(a,[{key:"instruments",value:function(t){return this.get("/instruments",{params:{instruments:t.join(",")}}).then((function(t){return t.data})).catch((function(t){throw t}))}},{key:"bars",value:function(t,e,a,r,n,i){return this.get("/bars",{params:{instrument:t,interval:e,from:a,to:r,per_page:null!=n?n:200,extra_fields:(i||[]).join(",")}}).then((function(t){return t.data})).catch((function(t){throw t}))}},{key:"barTimestamps",value:function(t,e,a,r,n,i){return this.get("/bar-timestamps",{params:{instrument:t,interval:e,from:a,to:r,per_page:null!=n?n:200,extra_fields:(i||[]).join(",")}}).then((function(t){return t.data})).catch((function(t){throw t}))}},{key:"sessions",value:function(t,e,a,r){return this.get("/indicators/sessions",{params:{instrument:t,interval:e,from:a,to:r}}).then((function(t){return t.data})).catch((function(t){throw t}))}},{key:"calendar",value:function(t,e,a,r){return this.get("/indicators/calendar",{params:{instrument:t,interval:e,from:a,to:r}}).then((function(t){return t.data})).catch((function(t){throw t}))}},{key:"news",value:function(t,e,a,r){return this.get("/indicators/news",{params:{instrument:t,interval:e,from:a,to:r}}).then((function(t){return t.data})).catch((function(t){throw t}))}},{key:"offsetDates",value:function(t,e,a,r,n,i){return this.get("/bars/offset-dates",{params:{instrument:t,interval:e,from:a,to:r,offset_left:n,offset_right:i}}).then((function(t){return t.data.data})).catch((function(t){throw t}))}},{key:"futureTimestamps",value:function(t,e,a,r){return this.get("/indicators/futures",{params:{instrument:t,interval:e,from:a,to:r}}).then((function(t){return t.data.data})).catch((function(t){throw t}))}},{key:"breakers",value:function(t,e,a,r){return this.get("/indicators/breakers",{params:{instrument:t,interval:e,from:a,to:r}}).then((function(t){return t.data.data})).catch((function(t){throw t}))}}],[{key:"getInstance",value:function(){return void 0===this.instance&&(this.instance=new this),this.instance}}]),a}(O),Nt=a(319),jt=a.n(Nt),Gt=function(){function t(e){o()(this,t),this.items=[],this.key=e}return l()(t,[{key:"first",get:function(){return this.items[0]}}],[{key:"groupBy",value:function(e,a){var r={};return e.forEach((function(e){var n=a(e);void 0===r[n]&&(r[n]=new t(n)),r[n].items.push(e)})),Object.values(r)}}]),t}(),Yt=function(){function t(e,a){o()(this,t),this.from=void 0,this.to=void 0,this.dataPipes=[],this.pipePromises=new Map,this.id=a,this.setNumBars(e)}return l()(t,[{key:"getPromiseId",value:function(){}},{key:"pipe",value:function(){var t=this,e=this.getPromiseId();return this.pipePromises.has(e)?this.pipePromises.get(e):(this.pipePromises.has(this.previousPipePromiseId)&&(this.pipePromises.get(this.previousPipePromiseId).cancelled=!0),this.previousPipePromiseId=e,this.pipePromises.set(e,{promise:this.pipeData(e).then((function(){t.pipePromises.delete(e)})),cancelled:!1}).get(e))}},{key:"pipeData",value:function(t){var e,a=this,r=Gt.groupBy((e=[]).concat.apply(e,jt()(this.dataPipes.map((function(t){return t.getInlinePipes()})))),(function(t){return t.uniqueId})).map((function(e){return e.first.resolve(e.items,(function(){var e,r;return null!==(r=null===(e=a.pipePromises.get(t))||void 0===e?void 0:e.cancelled)&&void 0!==r&&r}))}));return Promise.all(r)}},{key:"fireOnLoaded",value:function(){this.dataPipes.forEach((function(t){return t.fireOnLoaded(t.data(),t.meta())}))}},{key:"setNumBars",value:function(t){return this.numBars=t,this}},{key:"getNumBars",value:function(){return this.numBars}},{key:"setTimestampRange",value:function(t,e){return this.from=t,this.to=e,this}},{key:"getTimestampRange",value:function(){return{from:this.from,to:this.to}}},{key:"clear",value:function(){this.dataPipes.forEach((function(t){return t.clear()}))}},{key:"addDataPipe",value:function(t){return this.dataPipes.push(t),this}},{key:"getPipeById",value:function(t){return this.dataPipes.find((function(e){return e.getId()===t}))}},{key:"removeDataPipe",value:function(t){void 0!==t&&this.removeDataPipeById(t.getId())}},{key:"removeDataPipeById",value:function(t){var e=this.dataPipes.findIndex((function(e){return e.getId()===t}));e>=0&&(this.dataPipes[e].clear(),this.dataPipes.splice(e,1))}},{key:"removeAllDataPipes",value:function(){this.dataPipes.forEach((function(t){return t.clear()})),this.dataPipes=[]}},{key:"numBarsForInterval",value:function(t,e,a){return Math.ceil(t*(Ft[e]/Ft[a]))}},{key:"onLiveTick",value:function(t){this.dataPipes.forEach((function(e){return e.onLiveTick(t)}))}},{key:"pipeCount",get:function(){return this.dataPipes.length}}]),t}();!function(t){t[t.M1=1]="M1",t[t.M5=5]="M5",t[t.M10=10]="M10",t[t.M15=15]="M15",t[t.M30=30]="M30",t[t.H1=60]="H1",t[t.H4=240]="H4",t[t.D1=1440]="D1",t[t.W1=10080]="W1",t[t.MN1=40320]="MN1"}(Ft||(Ft={}));var zt,Et={};function Ht(t){var e=function(){function e(a,r,n){o()(this,e),this.onLoaded=[],this.pipeline=a,this.id=r,this.dataStoreKey=[n,a.id].join("-"),void 0===Et[t][this.dataStoreKey]&&(Et[t][this.dataStoreKey]={})}return l()(e,[{key:"getNumBars",value:function(){return this.pipeline.getNumBars()}},{key:"onLoad",value:function(t){this.onLoaded.push(t)}},{key:"fireOnLoaded",value:function(){}