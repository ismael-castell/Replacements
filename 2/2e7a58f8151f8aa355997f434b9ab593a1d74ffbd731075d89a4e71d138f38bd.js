!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("Coveo__temporary",[],t):"object"==typeof exports?exports.Coveo__temporary=t():e.Coveo__temporary=t()}("undefined"!=typeof self?self:this,function(){return function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n=window.webpackJsonpCoveo__temporary;window.webpackJsonpCoveo__temporary=function(t,r,o){for(var s,a,u=0,l=[];u<t.length;u++)a=t[u],i[a]&&l.push(i[a][0]),i[a]=0;for(s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s]);for(n&&n(t,r,o);l.length;)l.shift()()};var r={},i={79:0};return t.e=function(e){function n(){a.onerror=a.onload=null,clearTimeout(u);var t=i[e];0!==t&&(t&&t[1](new Error("Loading chunk "+e+" failed.")),i[e]=void 0)}var r=i[e];if(0===r)return new Promise(function(e){e()});if(r)return r[2];var o=new Promise(function(t,n){r=i[e]=[t,n]});r[2]=o;var s=document.getElementsByTagName("head")[0],a=document.createElement("script");a.type="text/javascript",a.charset="utf-8",a.async=!0,a.timeout=12e4,t.nc&&a.setAttribute("nonce",t.nc),a.src=t.p+""+({0:"RelevanceInspector",1:"HierarchicalFacet",2:"TimespanFacet",3:"FacetRange",4:"Searchbox",5:"Facet",6:"Omnibox",7:"Querybox",8:"FacetSlider",9:"AdvancedSearch",10:"CategoryFacet",11:"Recommendation",12:"OmniboxResultList",13:"Quickview",14:"ResultList",15:"Tab",16:"Backdrop",17:"ResultsFiltersPreferences",18:"SimpleFilter",19:"ResultLayoutSelector",20:"FieldTable",21:"ResultsPreferences",22:"Sort",23:"Settings",24:"YouTubeThumbnail",25:"Thumbnail",26:"PrintableUri",27:"SearchAlerts",28:"Badge",29:"ResultRating",30:"Pager",31:"Breadcrumb",32:"DistanceResources",33:"ResultFolding",34:"Matrix",35:"FacetValueSuggestions",36:"CardOverlay",37:"SearchButton",38:"FieldValue",39:"AnalyticsSuggestions",40:"ResultsPerPage",41:"ResultLink",42:"ErrorReport",43:"FoldingForThread",44:"FollowItem",45:"ResultTagging",46:"ResultAttachments",47:"QuerySummary",48:"HiddenQuery",49:"FieldSuggestions",50:"CardActionBar",51:"Logo",52:"NumericSpinner",53:"Folding",54:"ChatterPostedBy",55:"ChatterPostAttachment",56:"ChatterLikedBy",57:"DatePicker",58:"RadioButton",59:"MultiSelect",60:"FormGroup",61:"Triggers",62:"Text",63:"ShareQuery",64:"ResultActionsMenu",65:"QueryDuration",66:"PromotedResultsBadge",67:"PreferencesPanel",68:"ExportToExcel",69:"Excerpt",70:"DidYouMean",71:"AuthenticationProvider",72:"TemplateLoader",73:"PipelineContext",74:"Icon",75:"Dropdown",76:"ChatterTopic",77:"Aggregate"}[e]||e)+".min__3eb9c07b01d15e8bb712.js";var u=setTimeout(n,12e4);return a.onerror=a.onload=n,s.appendChild(a),o},t.m=e,t.c=r,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="js/",t.oe=function(e){throw console.error(e),e},t(t.s=501)}([function(e,t,n){(function(e,n){var r,i;!function(){var o="object"==typeof self&&self.self===self&&self||"object"==typeof e&&e.global===e&&e||this||{},s=o._,a=Array.prototype,u=Object.prototype,l="undefined"!=typeof Symbol?Symbol.prototype:null,c=a.push,d=a.slice,p=u.toString,f=u.hasOwnProperty,h=Array.isArray,y=Object.keys,m=Object.create,g=function(){},v=function(e){return e instanceof v?e:this instanceof v?void(this._wrapped=e):new v(e)};void 0===t||t.nodeType?o._=v:(void 0!==n&&!n.nodeType&&n.exports&&(t=n.exports=v),t._=v),v.VERSION="1.9.1";var b,S=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)}}return function(){return e.apply(t,arguments)}},E=function(e,t,n){return v.iteratee!==b?v.iteratee(e,t):null==e?v.identity:v.isFunction(e)?S(e,t,n):v.isObject(e)&&!v.isArray(e)?v.matcher(e):v.property(e)};v.iteratee=b=function(e,t){return E(e,t,1/0)};var w=function(e,t){return t=null==t?e.length-1:+t,function(){for(var n=Math.max(arguments.length-t,0),r=Array(n),i=0;i<n;i++)r[i]=arguments[i+t];switch(t){case 0:return e.call(this,r);case 1:return e.call(this,arguments[0],r);case 2:return e.call(this,arguments[0],arguments[1],r)}var o=Array(t+1);for(i=0;i<t;i++)o[i]=arguments[i];return o[t]=r,e.apply(this,o)}},C=function(e){if(!v.isObject(e))return{};if(m)return m(e);g.prototype=e;var t=new g;return g.prototype=null,t},_=function(e){return function(t){return null==t?void 0:t[e]}},T=function(e,t){return null!=e&&f.call(e,t)},A=function(e,t){for(var n=t.length,r=0;r<n;r++){if(null==e)return;e=e[t[r]]}return n?e:void 0},x=Math.pow(2,53)-1,O=_("length"),M=function(e){var t=O(e);return"number"==typeof t&&t>=0&&t<=x};v.each=v.forEach=function(e,t,n){t=S(t,n);var r,i;if(M(e))for(r=0,i=e.length;r<i;r++)t(e[r],r,e);else{var o=v.keys(e);for(r=0,i=o.length;r<i;r++)t(e[o[r]],o[r],e)}return e},v.map=v.collect=function(e,t,n){t=E(t,n);for(var r=!M(e)&&v.keys(e),i=(r||e).length,o=Array(i),s=0;s<i;s++){var a=r?r[s]:s;o[s]=t(e[a],a,e)}return o};var I=function(e){var t=function(t,n,r,i){var o=!M(t)&&v.keys(t),s=(o||t).length,a=e>0?0:s-1;for(i||(r=t[o?o[a]:a],a+=e);a>=0&&a<s;a+=e){var u=o?o[a]:a;r=n(r,t[u],u,t)}return r};return function(e,n,r,i){var o=arguments.length>=3;return t(e,S(n,i,4),r,o)}};v.reduce=v.foldl=v.inject=I(1),v.reduceRight=v.foldr=I(-1),v.find=v.detect=function(e,t,n){var r=M(e)?v.findIndex:v.findKey,i=r(e,t,n);if(void 0!==i&&-1!==i)return e[i]},v.filter=v.select=function(e,t,n){var r=[];return t=E(t,n),v.each(e,function(e,n,i){t(e,n,i)&&r.push(e)}),r},v.reject=function(e,t,n){return v.filter(e,v.negate(E(t)),n)},v.every=v.all=function(e,t,n){t=E(t,n);for(var r=!M(e)&&v.keys(e),i=(r||e).length,o=0;o<i;o++){var s=r?r[o]:o;if(!t(e[s],s,e))return!1}return!0},v.some=v.any=function(e,t,n){t=E(t,n);for(var r=!M(e)&&v.keys(e),i=(r||e).length,o=0;o<i;o++){var s=r?r[o]:o;if(t(e[s],s,e))return!0}return!1},v.contains=v.includes=v.include=function(e,t,n,r){return M(e)||(e=v.values(e)),("number"!=typeof n||r)&&(n=0),v.indexOf(e,t,n)>=0},v.invoke=w(function(e,t,n){var r,i;return v.isFunction(t)?i=t:v.isArray(t)&&(r=t.slice(0,-1),t=t[t.length-1]),v.map(e,function(e){var o=i;if(!o){if(r&&r.length&&(e=A(e,r)),null==e)return;o=e[t]}return null==o?o:o.apply(e,n)})}),v.pluck=function(e,t){return v.map(e,v.property(t))},v.where=function(e,t){return v.filter(e,v.matcher(t))},v.findWhere=function(e,t){return v.find(e,v.matcher(t))},v.max=function(e,t,n){var r,i,o=-1/0,s=-1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e){e=M(e)?e:v.values(e);for(var a=0,u=e.length;a<u;a++)null!=(r=e[a])&&r>o&&(o=r)}else t=E(t,n),v.each(e,function(e,n,r){((i=t(e,n,r))>s||i===-1/0&&o===-1/0)&&(o=e,s=i)});return o},v.min=function(e,t,n){var r,i,o=1/0,s=1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e){e=M(e)?e:v.values(e);for(var a=0,u=e.length;a<u;a++)null!=(r=e[a])&&r<o&&(o=r)}else t=E(t,n),v.each(e,function(e,n,r){((i=t(e,n,r))<s||i===1/0&&o===1/0)&&(o=e,s=i)});return o},v.shuffle=function(e){return v.sample(e,1/0)},v.sample=function(e,t,n){if(null==t||n)return M(e)||(e=v.values(e)),e[v.random(e.length-1)];var r=M(e)?v.clone(e):v.values(e),i=O(r);t=Math.max(Math.min(t,i),0);for(var o=i-1,s=0;s<t;s++){var a=v.random(s,o),u=r[s];r[s]=r[a],r[a]=u}return r.slice(0,t)},v.sortBy=function(e,t,n){var r=0;return t=E(t,n),v.pluck(v.map(e,function(e,n,i){return{value:e,index:r++,criteria:t(e,n,i)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return e.index-t.index}),"value")};var P=function(e,t){return function(n,r,i){var o=t?[[],[]]:{};return r=E(r,i),v.each(n,function(t,i){var s=r(t,i,n);e(o,t,s)}),o}};v.groupBy=P(function(e,t,n){T(e,n)?e[n].push(t):e[n]=[t]}),v.indexBy=P(function(e,t,n){e[n]=t}),v.countBy=P(function(e,t,n){T(e,n)?e[n]++:e[n]=1});var L=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;v.toArray=function(e){return e?v.isArray(e)?d.call(e):v.isString(e)?e.match(L):M(e)?v.map(e,v.identity):v.values(e):[]},v.size=function(e){return null==e?0:M(e)?e.length:v.keys(e).length},v.partition=P(function(e,t,n){e[n?0:1].push(t)},!0),v.first=v.head=v.take=function(e,t,n){return null==e||e.length<1?null==t?void 0:[]:null==t||n?e[0]:v.initial(e,e.length-t)},v.initial=function(e,t,n){return d.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},v.last=function(e,t,n){return null==e||e.length<1?null==t?void 0:[]:null==t||n?e[e.length-1]:v.rest(e,Math.max(0,e.length-t))},v.rest=v.tail=v.drop=function(e,t,n){return d.call(e,null==t||n?1:t)},v.compact=function(e){return v.filter(e,Boolean)};var R=function(e,t,n,r){r=r||[];for(var i=r.length,o=0,s=O(e);o<s;o++){var a=e[o];if(M(a)&&(v.isArray(a)||v.isArguments(a)))if(t)for(var u=0,l=a.length;u<l;)r[i++]=a[u++];else R(a,t,n,r),i=r.length;else n||(r[i++]=a)}return r};v.flatten=function(e,t){return R(e,t,!1)},v.without=w(function(e,t){return v.difference(e,t)}),v.uniq=v.unique=function(e,t,n,r){v.isBoolean(t)||(r=n,n=t,t=!1),null!=n&&(n=E(n,r));for(var i=[],o=[],s=0,a=O(e);s<a;s++){var u=e[s],l=n?n(u,s,e):u;t&&!n?(s&&o===l||i.push(u),o=l):n?v.contains(o,l)||(o.push(l),i.push(u)):v.contains(i,u)||i.push(u)}return i},v.union=w(function(e){return v.uniq(R(e,!0,!0))}),v.intersection=function(e){for(var t=[],n=arguments.length,r=0,i=O(e);r<i;r++){var o=e[r];if(!v.contains(t,o)){var s;for(s=1;s<n&&v.contains(arguments[s],o);s++);s===n&&t.push(o)}}return t},v.difference=w(function(e,t){return t=R(t,!0,!0),v.filter(e,function(e){return!v.contains(t,e)})}),v.unzip=function(e){for(var t=e&&v.max(e,O).length||0,n=Array(t),r=0;r<t;r++)n[r]=v.pluck(e,r);return n},v.zip=w(v.unzip),v.object=function(e,t){for(var n={},r=0,i=O(e);r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n};var k=function(e){return function(t,n,r){n=E(n,r);for(var i=O(t),o=e>0?0:i-1;o>=0&&o<i;o+=e)if(n(t[o],o,t))return o;return-1}};v.findIndex=k(1),v.findLastIndex=k(-1),v.sortedIndex=function(e,t,n,r){n=E(n,r,1);for(var i=n(t),o=0,s=O(e);o<s;){var a=Math.floor((o+s)/2);n(e[a])<i?o=a+1:s=a}return o};var D=function(e,t,n){return function(r,i,o){var s=0,a=O(r);if("number"==typeof o)e>0?s=o>=0?o:Math.max(o+a,s):a=o>=0?Math.min(o+1,a):o+a+1;else if(n&&o&&a)return o=n(r,i),r[o]===i?o:-1;if(i!==i)return o=t(d.call(r,s,a),v.isNaN),o>=0?o+s:-1;for(o=e>0?s:a-1;o>=0&&o<a;o+=e)if(r[o]===i)return o;return-1}};v.indexOf=D(1,v.findIndex,v.sortedIndex),v.lastIndexOf=D(-1,v.findLastIndex),v.range=function(e,t,n){null==t&&(t=e||0,e=0),n||(n=t<e?-1:1);for(var r=Math.max(Math.ceil((t-e)/n),0),i=Array(r),o=0;o<r;o++,e+=n)i[o]=e;return i},v.chunk=function(e,t){if(null==t||t<1)return[];for(var n=[],r=0,i=e.length;r<i;)n.push(d.call(e,r,r+=t));return n};var z=function(e,t,n,r,i){if(!(r instanceof t))return e.apply(n,i);var o=C(e.prototype),s=e.apply(o,i);return v.isObject(s)?s:o};v.bind=w(function(e,t,n){if(!v.isFunction(e))throw new TypeError("Bind must be called on a function");var r=w(function(i){return z(e,r,t,this,n.concat(i))});return r}),v.partial=w(function(e,t){var n=v.partial.placeholder,r=function(){for(var i=0,o=t.length,s=Array(o),a=0;a<o;a++)s[a]=t[a]===n?arguments[i++]:t[a];for(;i<arguments.length;)s.push(arguments[i++]);return z(e,r,this,this,s)};return r}),v.partial.placeholder=v,v.bindAll=w(function(e,t){t=R(t,!1,!1);var n=t.length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var r=t[n];e[r]=v.bind(e[r],e)}}),v.memoize=function(e,t){var n=function(r){var i=n.cache,o=""+(t?t.apply(this,arguments):r);return T(i,o)||(i[o]=e.apply(this,arguments)),i[o]};return n.cache={},n},v.delay=w(function(e,t,n){return setTimeout(function(){return e.apply(null,n)},t)}),v.defer=v.partial(v.delay,v,1),v.throttle=function(e,t,n){var r,i,o,s,a=0;n||(n={});var u=function(){a=!1===n.leading?0:v.now(),r=null,s=e.apply(i,o),r||(i=o=null)},l=function(){var l=v.now();a||!1!==n.leading||(a=l);var c=t-(l-a);return i=this,o=arguments,c<=0||c>t?(r&&(clearTimeout(r),r=null),a=l,s=e.apply(i,o),r||(i=o=null)):r||!1===n.trailing||(r=setTimeout(u,c)),s};return l.cancel=function(){clearTimeout(r),a=0,r=i=o=null},l},v.debounce=function(e,t,n){var r,i,o=function(t,n){r=null,n&&(i=e.apply(t,n))},s=w(function(s){if(r&&clearTimeout(r),n){var a=!r;r=setTimeout(o,t),a&&(i=e.apply(this,s))}else r=v.delay(o,t,this,s);return i});return s.cancel=function(){clearTimeout(r),r=null},s},v.wrap=function(e,t){return v.partial(t,e)},v.negate=function(e){return function(){return!e.apply(this,arguments)}},v.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,r=e[t].apply(this,arguments);n--;)r=e[n].call(this,r);return r}},v.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},v.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}},v.once=v.partial(v.before,2),v.restArguments=w;var N=!{toString:null}.propertyIsEnumerable("toString"),F=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],U=function(e,t){var n=F.length,r=e.constructor,i=v.isFunction(r)&&r.prototype||u,o="constructor";for(T(e,o)&&!v.contains(t,o)&&t.push(o);n--;)(o=F[n])in e&&e[o]!==i[o]&&!v.contains(t,o)&&t.push(o)};v.keys=function(e){if(!v.isObject(e))return[];if(y)return y(e);var t=[];for(var n in e)T(e,n)&&t.push(n);return N&&U(e,t),t},v.allKeys=function(e){if(!v.isObject(e))return[];var t=[];for(var n in e)t.push(n);return N&&U(e,t),t},v.values=function(e){for(var t=v.keys(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=e[t[i]];return r},v.mapObject=function(e,t,n){t=E(t,n);for(var r=v.keys(e),i=r.length,o={},s=0;s<i;s++){var a=r[s];o[a]=t(e[a],a,e)}return o},v.pairs=function(e){for(var t=v.keys(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=[t[i],e[t[i]]];return r},v.invert=function(e){for(var t={},n=v.keys(e),r=0,i=n.length;r<i;r++)t[e[n[r]]]=n[r];return t},v.functions=v.methods=function(e){var t=[];for(var n in e)v.isFunction(e[n])&&t.push(n);return t.sort()};var j=function(e,t){return function(n){var r=arguments.length;if(t&&(n=Object(n)),r<2||null==n)return n;for(var i=1;i<r;i++)for(var o=arguments[i],s=e(o),a=s.length,u=0;u<a;u++){var l=s[u];t&&void 0!==n[l]||(n[l]=o[l])}return n}};v.extend=j(v.allKeys),v.extendOwn=v.assign=j(v.keys),v.findKey=function(e,t,n){t=E(t,n);for(var r,i=v.keys(e),o=0,s=i.length;o<s;o++)if(r=i[o],t(e[r],r,e))return r};var Q=function(e,t,n){return t in n};v.pick=w(function(e,t){var n={},r=t[0];if(null==e)return n;v.isFunction(r)?(t.length>1&&(r=S(r,t[1])),t=v.allKeys(e)):(r=Q,t=R(t,!1,!1),e=Object(e));for(var i=0,o=t.length;i<o;i++){var s=t[i],a=e[s];r(a,s,e)&&(n[s]=a)}return n}),v.omit=w(function(e,t){var n,r=t[0];return v.isFunction(r)?(r=v.negate(r),t.length>1&&(n=t[1])):(t=v.map(R(t,!1,!1),String),r=function(e,n){return!v.contains(t,n)}),v.pick(e,r,n)}),v.defaults=j(v.allKeys,!0),v.create=function(e,t){var n=C(e);return t&&v.extendOwn(n,t),n},v.clone=function(e){return v.isObject(e)?v.isArray(e)?e.slice():v.extend({},e):e},v.tap=function(e,t){return t(e),e},v.isMatch=function(e,t){var n=v.keys(t),r=n.length;if(null==e)return!r;for(var i=Object(e),o=0;o<r;o++){var s=n[o];if(t[s]!==i[s]||!(s in i))return!1}return!0};var B,H;B=function(e,t,n,r){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!==e)return t!==t;var i=typeof e;return("function"===i||"object"===i||"object"==typeof t)&&H(e,t,n,r)},H=function(e,t,n,r){e instanceof v&&(e=e._wrapped),t instanceof v&&(t=t._wrapped);var i=p.call(e);if(i!==p.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return l.valueOf.call(e)===l.valueOf.call(t)}var o="[object Array]"===i;if(!o){if("object"!=typeof e||"object"!=typeof t)return!1;var s=e.constructor,a=t.constructor;if(s!==a&&!(v.isFunction(s)&&s instanceof s&&v.isFunction(a)&&a instanceof a)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],r=r||[];for(var u=n.length;u--;)if(n[u]===e)return r[u]===t;if(n.push(e),r.push(t),o){if((u=e.length)!==t.length)return!1;for(;u--;)if(!B(e[u],t[u],n,r))return!1}else{var c,d=v.keys(e);if(u=d.length,v.keys(t).length!==u)return!1;for(;u--;)if(c=d[u],!T(t,c)||!B(e[c],t[c],n,r))return!1}return n.pop(),r.pop(),!0},v.isEqual=function(e,t){return B(e,t)},v.isEmpty=function(e){return null==e||(M(e)&&(v.isArray(e)||v.isString(e)||v.isArguments(e))?0===e.length:0===v.keys(e).length)},v.isElement=function(e){return!(!e||1!==e.nodeType)},v.isArray=h||function(e){return"[object Array]"===p.call(e)},v.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},v.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],function(e){v["is"+e]=function(t){return p.call(t)==="[object "+e+"]"}}),v.isArguments(arguments)||(v.isArguments=function(e){return T(e,"callee")});var q=o.document&&o.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof q&&(v.isFunction=function(e){return"function"==typeof e||!1}),v.isFinite=function(e){return!v.isSymbol(e)&&isFinite(e)&&!isNaN(parseFloat(e))},v.isNaN=function(e){return v.isNumber(e)&&isNaN(e)},v.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"===p.call(e)},v.isNull=function(e){return null===e},v.isUndefined=function(e){return void 0===e},v.has=function(e,t){if(!v.isArray(t))return T(e,t);for(var n=t.length,r=0;r<n;r++){var i=t[r];if(null==e||!f.call(e,i))return!1;e=e[i]}return!!n},v.noConflict=function(){return o._=s,this},v.identity=function(e){return e},v.constant=function(e){return function(){return e}},v.noop=function(){},v.property=function(e){return v.isArray(e)?function(t){return A(t,e)}:_(e)},v.propertyOf=function(e){return null==e?function(){}:function(t){return v.isArray(t)?A(e,t):e[t]}},v.matcher=v.matches=function(e){return e=v.extendOwn({},e),function(t){return v.isMatch(t,e)}},v.times=function(e,t,n){var r=Array(Math.max(0,e));t=S(t,n,1);for(var i=0;i<e;i++)r[i]=t(i);return r},v.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},v.now=Date.now||function(){return(new Date).getTime()};var $={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},Y=v.invert($),V=function(e){var t=function(t){return e[t]},n="(?:"+v.keys(e).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(e){return e=null==e?"":""+e,r.test(e)?e.replace(i,t):e}};v.escape=V($),v.unescape=V(Y),v.result=function(e,t,n){v.isArray(t)||(t=[t]);var r=t.length;if(!r)return v.isFunction(n)?n.call(e):n;for(var i=0;i<r;i++){var o=null==e?void 0:e[t[i]];void 0===o&&(o=n,i=r),e=v.isFunction(o)?o.call(e):o}return e};var W=0;v.uniqueId=function(e){var t=++W+"";return e?e+t:t},v.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var G=/(.)^/,J={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},K=/\\|'|\r|\n|\u2028|\u2029/g,Z=function(e){return"\\"+J[e]};v.template=function(e,t,n){!t&&n&&(t=n),t=v.defaults({},t,v.templateSettings);var r=RegExp([(t.escape||G).source,(t.interpolate||G).source,(t.evaluate||G).source].join("|")+"|$","g"),i=0,o="__p+='";e.replace(r,function(t,n,r,s,a){return o+=e.slice(i,a).replace(K,Z),i=a+t.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?o+="'+\n((__t=("+r+"))==null?'':__t)+\n'":s&&(o+="';\n"+s+"\n__p+='"),t}),o+="';\n",t.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";var s;try{s=new Function(t.variable||"obj","_",o)}catch(e){throw e.source=o,e}var a=function(e){return s.call(this,e,v)};return a.source="function("+(t.variable||"obj")+"){\n"+o+"}",a},v.chain=function(e){var t=v(e);return t._chain=!0,t};var X=function(e,t){return e._chain?v(t).chain():t};v.mixin=function(e){return v.each(v.functions(e),function(t){var n=v[t]=e[t];v.prototype[t]=function(){var e=[this._wrapped];return c.apply(e,arguments),X(this,n.apply(v,e))}}),v},v.mixin(v),v.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=a[e];v.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],X(this,n)}}),v.each(["concat","join","slice"],function(e){var t=a[e];v.prototype[e]=function(){return X(this,t.apply(this._wrapped,arguments))}}),v.prototype.value=function(){return this._wrapped},v.prototype.valueOf=v.prototype.toJSON=v.prototype.value,v.prototype.toString=function(){return String(this._wrapped)},r=[],void 0!==(i=function(){return v}.apply(t,r))&&(n.exports=i)}()}).call(t,n(63),n(107)(e))},function(e,t,n){"use strict";function r(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 1===e.length&&e[0]instanceof l?e[0]:new l(1!==e.length||i.isString(e[0])?l.createElement.apply(l,e):e[0])}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=n(5),s=n(11),a=n(59),u=n(4),l=function(){function e(e){o.Assert.exists(e),this.el=e}return e.createElement=function(t,n){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];var s=document.createElement(t);for(var a in n)if("className"===a)s.className=n.className;else{var l=-1!==a.indexOf("-")?a:u.Utils.toDashCase(a);s.setAttribute(l,n[a])}return i.each(r,function(t){t instanceof HTMLElement?s.appendChild(t):i.isString(t)?s.innerHTML+=t:t instanceof e&&s.appendChild(t.el)}),s},e.prototype.append=function(e){this.el.appendChild(e)},e.prototype.css=function(e){return this.el.style[e]?this.el.style[e]:window.getComputedStyle(this.el).getPropertyValue(e)},e.prototype.text=function(e){if(u.Utils.isUndefined(e))return this.el.innerText||this.el.textContent;void 0!=this.el.innerText?this.el.innerText=e:void 0!=this.el.textContent&&(this.el.textContent=e)},e.prototype.nodeListToArray=function(e){for(var t=e.length,n=new Array(t);t--;)n[t]=e.item(t);return n},e.prototype.empty=function(){for(;this.el.firstChild;)this.el.removeChild(this.el.firstChild)},e.prototype.remove=function(){this.el.parentNode&&this.el.parentNode.removeChild(this.el)},e.prototype.show=function(){this.el.style.display="block",r(this.el).setAttribute("aria-hidden","false")},e.prototype.hide=function(){this.el.style.display="none",r(this.el).setAttribute("aria-hidden","true")},e.prototype.toggle=function(e){void 0===e?"block"==this.el.style.display?this.hide():this.show():e?this.show():this.hide()},e.prototype.isVisible=function(){return"none"!=this.el.style.display&&("hidden"!=this.el.style.visibility&&!this.hasClass("coveo-tab-disabled"))},e.prototype.getAttribute=function(e){return this.el.getAttribute(e)},e.prototype.setAttribute=function(e,t){this.el.setAttribute(e,t)},e.prototype.find=function(e){return this.el.querySelector(e)},e.prototype.is=function(e){return this.el.tagName.toLowerCase()==e.toLowerCase()||(!("."!=e[0]||!this.hasClass(e.substr(1)))||"#"==e[0]&&this.el.getAttribute("id")==e.substr(1))},e.prototype.closest=function(e){return this.traverseAncestorForClass(this.el,e)},e.prototype.parent=function(e){if(void 0!=this.el.parentElement)return this.traverseAncestorForClass(this.el.parentElement,e)},e.prototype.parents=function(t){for(var n=[],r=this.parent(t);r;)n.push(r),r=new e(r).parent(t);return n},e.prototype.children=function(){return this.nodeListToArray(this.el.children)},e.prototype.siblings=function(e){for(var t=[],n=this.el.parentNode.firstChild;n;n=n.nextSibling)n!=this.el&&(!this.matches(n,e)&&e||t.push(n));return t},e.prototype.matches=function(e,t){for(var n=document.querySelectorAll(t),r=0;r<n.length;r++)if(n[r]===e)return!0;return!1},e.prototype.findAll=function(e){return this.nodeListToArray(this.el.querySelectorAll(e))},e.prototype.findClass=function(e){if("getElementsByClassName"in this.el)return this.nodeListToArray(this.el.getElementsByClassName(e))},e.prototype.findId=function(e){return document.getElementById(e)},e.prototype.addClass=function(e){var t=this;i.isArray(e)?i.each(e,function(e){t.addClass(e)}):this.hasClass(e)||(this.el.className?this.el.className+=" "+e:this.el.className=e)},e.prototype.removeClass=function(e){this.el.className=this.el.className.replace(new RegExp("(^|\\s)"+e+"(\\s|$)","g"),"$1").trim()},e.prototype.toggleClass=function(e,t){u.Utils.isNullOrUndefined(t)?this.hasClass(e)?this.removeClass(e):this.addClass(e):t?this.addClass(e):this.removeClass(e)},e.prototype.setHtml=function(e){this.el.innerHTML=e},e.prototype.getClass=function(){var t=this.getAttribute("class");return t&&t.match?t.match(e.CLASS_NAME_REGEX)||[]:[]},e.prototype.hasClass=function(e){return i.contains(this.getClass(),e)},e.prototype.detach=function(){this.el.parentElement&&this.el.parentElement.removeChild(this.el)},e.prototype.insertAfter=function(e){e.parentNode&&e.parentNode.insertBefore(this.el,e.nextSibling)},e.prototype.insertBefore=function(e){e.parentNode&&e.parentNode.insertBefore(this.el,e)},e.prototype.prepend=function(t){this.el.firstChild?new e(t).insertBefore(this.el.firstChild):this.el.appendChild(t)},e.prototype.on=function(t,n){var r=this;if(i.isArray(t))i.each(t,function(e){r.on(e,n)});else{var o=this.processEventTypeToBeJQueryCompatible(t),s=a.JQueryUtils.getJQuery();if(this.shouldUseJQueryEvent())s(this.el).on(o,n);else if(this.el.addEventListener){var u=function(e){n(e,e.detail)};e.handlers.set(n,u),o&&-1!=o.indexOf("touch")?this.el.addEventListener(o,u,{passive:!0}):this.el.addEventListener(o,u,!1)}else this.el.on&&this.el.on("on"+o,n)}},e.prototype.one=function(e,t){var n=this;if(i.isArray(e))i.each(e,function(e){n.one(e,t)});else{var r=this.processEventTypeToBeJQueryCompatible(e),o=function(e,i){return n.off(r,o),t(e,i)};this.on(r,o)}},e.prototype.off=function(t,n){var r=this;if(i.isArray(t))i.each(t,function(e){r.off(e,n)});else{var o=this.processEventTypeToBeJQueryCompatible(t),s=a.JQueryUtils.getJQuery();if(this.shouldUseJQueryEvent())s(this.el).off(o,n);else if(this.el.removeEventListener){var u=e.handlers.get(n);u&&this.el.removeEventListener(o,u,!1)}else this.el.off&&this.el.off("on"+o,n)}},e.prototype.trigger=function(e,t){var n=this.processEventTypeToBeJQueryCompatible(e);if(this.shouldUseJQueryEvent())a.JQueryUtils.getJQuery()(this.el).trigger(n,t);else if(void 0!==window.CustomEvent){var r=new CustomEvent(n,{detail:t,bubbles:!0});this.el.dispatchEvent(r)}else try{this.el.dispatchEvent(this.buildIE11CustomEvent(n,t))}catch(e){this.oldBrowserError()}},e.prototype.isEmpty=function(){return e.ONLY_WHITE_SPACE_REGEX.test(this.el.innerHTML)},e.prototype.isDescendant=function(e){for(var t=this.el.parentNode;null!=t;){if(t==e)return!0;t=t.parentNode}return!1},e.prototype.replaceWith=function(t){this.el.parentNode&&new e(t).insertAfter(this.el),this.detach()},e.prototype.position=function(){var e=this.offsetParent(),t=this.offset(),n={top:0,left:0};r(e).is("html")||(n=r(e).offset());var i=parseInt(r(e).css("borderTopWidth")),o=parseInt(r(e).css("borderLeftWidth"));i=isNaN(i)?0:i,o=isNaN(o)?0:o,n={top:n.top+i,left:n.left+o};var s=parseInt(this.css("marginTop")),a=parseInt(this.css("marginLeft"));return s=isNaN(s)?0:s,a=isNaN(a)?0:a,{top:t.top-n.top-s,left:t.left-n.left-a}},e.prototype.offsetParent=function(){for(var e=this.el.offsetParent;e instanceof HTMLElement&&"static"===r(e).css("position");)e=e.offsetParent;return e instanceof HTMLElement?e:document.documentElement},e.prototype.offset=function(){if(!this.el.getClientRects().length)return{top:0,left:0};var e=this.el.getBoundingClientRect();if(e.width||e.height){var t=this.el.ownerDocument,n=t.documentElement;return{top:e.top+window.pageYOffset-n.clientTop,left:e.left+window.pageXOffset-n.clientLeft}}return e},e.prototype.width=function(){return this.el.offsetWidth},e.prototype.height=function(){return this.el.offsetHeight},e.prototype.clone=function(e){return void 0===e&&(e=!1),r(this.el.cloneNode(e))},e.prototype.buildIE11CustomEvent=function(e,t){var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!0,!0,t),n},e.prototype.shouldUseJQueryEvent=function(){return a.JQueryUtils.getJQuery()&&!e.useNativeJavaScriptEvents},e.prototype.processEventTypeToBeJQueryCompatible=function(e){return e?e.replace(/[^a-zA-Z0-9\:\_]/g,""):e},e.prototype.traverseAncestorForClass=function(e,t){void 0===e&&(e=this.el),0==t.indexOf(".")&&(t=t.substr(1));for(var n=!1;!n&&(r(e).hasClass(t)&&(n=!0),"body"!=e.tagName.toLowerCase())&&null!=e.parentElement;)n||(e=e.parentElement);if(n)return e},e.prototype.oldBrowserError=function(){new s.Logger(this).error("CANNOT TRIGGER EVENT FOR OLDER BROWSER")},e.CLASS_NAME_REGEX=/-?[_a-zA-Z]+[_a-zA-Z0-9-]*/g,e.ONLY_WHITE_SPACE_REGEX=/^\s*$/,e.useNativeJavaScriptEvents=!1,e.handlers=new WeakMap,e}();t.Dom=l;var c=function(){function e(e){this.win=e}return e.prototype.height=function(){return this.win.innerHeight},e.prototype.width=function(){return this.win.innerWidth},e.prototype.scrollY=function(){return this.supportPageOffset()?this.win.pageYOffset:this.isCSS1Compat()?this.win.document.documentElement.scrollTop:this.win.document.body.scrollTop},e.prototype.scrollX=function(){return this.supportPageOffset()?window.pageXOffset:this.isCSS1Compat()?document.documentElement.scrollLeft:document.body.scrollLeft},e.prototype.isCSS1Compat=function(){return"CSS1Compat"===(this.win.document.compatMode||"")},e.prototype.supportPageOffset=function(){return void 0!==this.win.pageXOffset},e}();t.Win=c;var d=function(){function e(e){this.doc=e}return e.prototype.height=function(){var e=this.doc.body;return Math.max(e.scrollHeight,e.offsetHeight)},e.prototype.width=function(){var e=this.doc.body;return Math.max(e.scrollWidth,e.offsetWidth)},e}();t.Doc=d,t.$$=r},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}u((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;u;)try{if(i=1,o&&(s=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(s=s.call(o,n[1])).done)return s;switch(o=0,s&&(n=[0,s.value]),n[0]){case 0:case 1:s=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,o=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(s=u.trys,!(s=s.length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){u.label=n[1];break}if(6===n[0]&&u.label<s[1]){u.label=s[1],s=n;break}if(s&&u.label<s[2]){u.label=s[2],u.ops.push(n);break}s[2]&&u.ops.pop(),u.trys.pop();continue}n=t.call(e,u)}catch(e){n=[6,e],o=0}finally{i=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,s,a,u={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a};Object.defineProperty(t,"__esModule",{value:!0});var s=n(0),a=n(34),u=n(16),l=n(5),c=n(11),d=n(25),p=n(61),f=n(12),h=n(1),y=n(39),m=n(59),g=n(4),v=n(9),b=n(6),S=n(18),E=n(307),w=n(26),C=function(){function e(){}return e.registerDefaultOptions=function(e,t){var n=e.CoveoDefaultOptions||{},r=g.Utils.extendDeep(n,t);e.CoveoDefaultOptions=r},e.resolveDefaultOptions=function(t,n){var r,i=t.CoveoDefaultOptions;return r=g.Utils.exists(i)?g.Utils.extendDeep(i,n):n,t.parentElement?e.resolveDefaultOptions(t.parentElement,r):r},e.registerAutoCreateComponent=function(t){l.Assert.exists(t),l.Assert.exists(t.ID),l.Assert.doesNotExists(e.namedMethods[t.ID]),s.contains(e.registeredComponents,t.ID)||(e.registeredComponents.push(t.ID),t.aliases&&(e.componentAliases[t.ID]=t.aliases)),null==T.eagerlyLoadedComponents[t.ID]&&(T.eagerlyLoadedComponents[t.ID]=t),null==_.lazyLoadedComponents[t.ID]&&(_.lazyLoadedComponents[t.ID]=function(){return new Promise(function(e,n){e(t)})})},e.registerComponentFields=function(t,n){e.fieldsNeededForQuery=g.Utils.concatWithoutDuplicate(e.fieldsNeededForQuery,n);var r=function(t){null==e.fieldsNeededForQueryByComponent[t]?e.fieldsNeededForQueryByComponent[t]=n:e.fieldsNeededForQueryByComponent[t]=g.Utils.concatWithoutDuplicate(e.fieldsNeededForQueryByComponent[t],n)};r(t),r(b.Component.computeCssClassNameForType(t))},e.getRegisteredFieldsForQuery=function(){return e.fieldsNeededForQuery},e.getRegisteredFieldsComponentForQuery=function(t){var n=e.fieldsNeededForQueryByComponent[t]||[],r=e.fieldsNeededForQueryByComponent[b.Component.computeCssClassNameForType(t)]||[];return g.Utils.concatWithoutDuplicate(n,r)},e.isComponentClassIdRegistered=function(t){return s.contains(e.registeredComponents,t)||s.contains(e.registeredComponents,b.Component.computeCssClassNameForType(t))},e.getListOfRegisteredComponents=function(){return e.registeredComponents},e.getListOfLoadedComponents=function(){return s.keys(T.eagerlyLoadedComponents)},e.getRegisteredComponent=function(e){return T.eagerlyLoadedComponents[e]},e.initializeFramework=function(t,n,r){var s=this;if(l.Assert.exists(t),b.Component.get(t,a.QueryController,!0))return this.logger.error("This DOM element has already been initialized as a search interface, skipping initialization",t),Promise.resolve({elem:t});n=e.resolveDefaultOptions(t,n);var c=function(e,t){return i(s,void 0,void 0,function(){var n,r=this;return o(this,function(i){try{return n=t.map(function(t){return t.catch(function(t){return r.logger.warn('An error occurred when trying to defer the "'+e+'" event. The defer will be ignored.',"Error: "+t)})}),[2,Promise.all(n)]}catch(e){this.logger.error('An unexpected error occurred when trying to defer the "'+event+'" event. All defers will be ignored.',"Error: "+e)}return[2]})})},d=function(e){var n={defer:[]};return h.$$(t).trigger(e,n),n.defer.length>0?c(e,n.defer):Promise.resolve()};e.performInitFunctionsOption(n,u.InitializationEvents.beforeInitialization),h.$$(t).trigger(u.InitializationEvents.beforeInitialization);var p=function(){return i(s,void 0,void 0,function(){var r,i,s;return o(this,function(o){switch(o.label){case 0:return[4,e.initExternalComponents(t,n)];case 1:return r=o.sent(),e.performInitFunctionsOption(n,u.InitializationEvents.afterComponentsInitialization),[4,d(u.InitializationEvents.afterComponentsInitialization)];case 2:return o.sent(),h.$$(t).trigger(u.InitializationEvents.restoreHistoryState),e.performInitFunctionsOption(n,u.InitializationEvents.afterInitialization),[4,d(u.InitializationEvents.afterInitialization)];case 3:return o.sent(),i=b.Component.get(t,S.SearchInterface),e.shouldExecuteFirstQueryAutomatically(i)&&(e.logFirstQueryCause(i),s=!0,Coveo.Recommendation&&(s=!(i instanceof Coveo.Recommendation)),b.Component.get(t,a.QueryController).executeQuery({logInActionsHistory:s,isFirstQuery:!0})),[2,r]}})})},f=r(t,n);return f.isLazyInit?f.initResult.then(p).then(function(){return{elem:t}}):p().then(function(){return{elem:t}})},e.initSearchInterface=function(t,n){void 0===n&&(n={}),n=e.resolveDefaultOptions(t,n);var r=new S.SearchInterface(t,n.SearchInterface,n.Analytics);r.options.originalOptionsObject=n;var i={options:n,bindings:r.getBindings()};return e.automaticallyCreateComponentsInside(t,i,["Recommendation"])},e.initStandaloneSearchInterface=function(t,n){void 0===n&&(n={}),n=e.resolveDefaultOptions(t,n),n.Querybox||(n.Querybox={}),n.Omnibox||(n.Omnibox={}),n.Searchbox||(n.Searchbox={}),n.Querybox.triggerQueryOnClear&&n.Omnibox.triggerQueryOnClear&&n.Searchbox.triggerOnQueryClear||(n.Querybox.triggerQueryOnClear=!1,n.Omnibox.triggerQueryOnClear=!1,n.Searchbox.triggerQueryOnClear=!1);var r=new S.StandaloneSearchInterface(t,n.StandaloneSearchInterface,n.Analytics);r.options.originalOptionsObject=n;var i={options:n,bindings:r.getBindings()};return e.automaticallyCreateComponentsInside(t,i)},e.initRecommendationInterface=function(t,n){void 0===n&&(n={}),n=e.resolveDefaultOptions(t,n);var r=s.extend({},n.SearchInterface,n.Recommendation);r.mainSearchInterface&&(r.firstLoadingAnimation=h.$$("span").el);var i=new window.Coveo.Recommendation(t,r,n.Analytics);i.options.originalOptionsObject=n;var o={options:n,bindings:i.getBindings()};return e.automaticallyCreateComponentsInside(t,o)},e.automaticallyCreateComponentsInsideResult=function(t,n,i){void 0===i&&(i={});var o=r({initOptions:i},n.searchInterface.options.originalOptionsObject),s=r({},n.searchInterface.getBindings(),{resultElement:t}),a={options:o,bindings:s,result:n};return e.automaticallyCreateComponentsInside(t,a)},e.automaticallyCreateComponentsInside=function(e,t,n){var r=this;void 0===n&&(n=[]),l.Assert.exists(e);var i,o=E.InitializationHelper.findDOMElementsToIgnore(e,n),a=E.InitializationHelper.findDOMElementsToInitialize(e,o),u=s.chain(a).map(function(e){var n=r.componentsFactory(e.htmlElements,e.componentClassId,t);return i=n.isLazyInit,n.factory}).map(function(e){var t=e();return t?Promise.all(t).then(function(){return!0}):Promise.resolve(!0)}).value();return{initResult:Promise.all(u).then(function(){return!0}).catch(function(e){return r.logger.error(e),r.logger.warn("Skipping initialization of previous component in error ... "),!0}),isLazyInit:i}},e.registerNamedMethod=function(t,n){l.Assert.isNonEmptyString(t),l.Assert.doesNotExists(T.eagerlyLoadedComponents[t]),l.Assert.doesNotExists(e.namedMethods[t]),l.Assert.exists(n),e.namedMethods[t]=n},e.isNamedMethodRegistered=function(t){return g.Utils.exists(e.namedMethods[t])},e.monkeyPatchComponentMethod=function(e,t,n){l.Assert.isNonEmptyString(e),l.Assert.exists(n);var r;if(e.indexOf(".")>0){var i=e.split(".");l.Assert.check(2==i.length,"Invalid method name, correct syntax is CoveoComponent.methodName."),r=i[0],e=i[1]}var o=b.Component.get(t,r);l.Assert.exists(o),l.Assert.exists(o[e]);var s="__"+e;g.Utils.exists(o[s])||(o[s]=o[e]),o[e]=n},e.initBoxInterface=function(t,n,r,i){void 0===n&&(n={}),void 0===r&&(r="Standard"),void 0===i&&(i=!0),n=e.resolveDefaultOptions(t,n);var o="Box";"Standard"!=r&&(o+="For"+r);var s=b.Component.getComponentRef(o);if(s){new c.Logger(t).info("Initializing box of type "+o);var a=i?s.getInjection:function(){},u=new s(t,n[o],n.Analytics,a,n);u.options.originalOptionsObject=n;var d={options:n,bindings:u.getBindings()};return e.automaticallyCreateComponentsInside(t,d)}return{initResult:new Promise(function(e,n){new c.Logger(t).error("Trying to initialize box of type : "+o+" but not found in code (not compiled)!"),l.Assert.fail("Cannot initialize unknown type of box"),n(!1)}),isLazyInit:!1}},e.dispatchNamedMethodCall=function(t,n,r){l.Assert.isNonEmptyString(t),l.Assert.exists(n);var i=e.namedMethods[t];return l.Assert.exists(i),e.logger.trace("Dispatching named method call of "+t,n,r),0!=r.length?i.apply(null,[n].concat(r)):i.apply(null,[n])},e.dispatchNamedMethodCallOrComponentCreation=function(t,n,r){return l.Assert.isNonEmptyString(t),l.Assert.exists(n),e.isNamedMethodRegistered(t)?e.dispatchNamedMethodCall(t,n,r):e.isThereASingleComponentBoundToThisElement(n)?e.dispatchMethodCallOnBoundComponent(t,n,r):void l.Assert.fail("No method or component named "+t+" are registered.")},e.isSearchFromLink=function(e){return g.Utils.isNonEmptyString(e.getBindings().queryStateModel.get("q"))},e.isThereASingleComponentBoundToThisElement=function(e){return l.Assert.exists(e),g.Utils.exists(b.Component.get(e,null,!0))},e.isThereANonSearchInterfaceComponentBoundToThisElement=function(t){return!!h.$$(t).hasClass("CoveoRecommendation")||e.isThereASingleComponentBoundToThisElement(t)&&!w.get(t,S.SearchInterface,!0)&&!h.$$(t).hasClass("CoveoRecommendation")},e.dispatchMethodCallOnBoundComponent=function(e,t,n){l.Assert.isNonEmptyString(e),l.Assert.exists(t);var r=b.Component.get(t);l.Assert.exists(r);var i=r[e];if(g.Utils.exists(i))return i.apply(r,n);l.Assert.fail("No method named "+e+" exist on component "+r.type)},e.logFirstQueryCause=function(t){var n=y.HashUtils.getValue("firstQueryCause",y.HashUtils.getHash());if(null!=n){var r=y.HashUtils.getValue("firstQueryMeta",y.HashUtils.getHash())||{};t.usageAnalytics.logSearchEvent(v.analyticsActionCauseList[n],r)}else e.isSearchFromLink(t)?t.usageAnalytics.logSearchEvent(v.analyticsActionCauseList.searchFromLink,{}):t.usageAnalytics.logSearchEvent(v.analyticsActionCauseList.interfaceLoad,{})},e.performInitFunctionsOption=function(t,n){g.Utils.exists(t)&&e.performFunctions(t[n])},e.performFunctions=function(e){g.Utils.exists(e)&&s.each(e,function(e){"function"==typeof e&&e()})},e.initExternalComponents=function(t,n){var r=this;if(n&&n.externalComponents){var i=b.Component.get(t,S.SearchInterface),o=b.Component.get(t,f.QueryStateModel),u=b.Component.get(t,p.ComponentStateModel),c=b.Component.get(t,a.QueryController),h=b.Component.get(t,d.ComponentOptionsModel),y=i.usageAnalytics;l.Assert.exists(i),l.Assert.exists(o),l.Assert.exists(c),l.Assert.exists(u),l.Assert.exists(y);var v={options:n,bindings:{searchInterface:i,queryStateModel:o,queryController:c,usageAnalytics:y,componentStateModel:u,componentOptionsModel:h,root:t}},E=s.map(n.externalComponents,function(t){var n=t;return g.Utils.isHtmlElement(n)?e.automaticallyCreateComponentsInside(n,v).initResult:m.JQueryUtils.isInstanceOfJQuery(n)?e.automaticallyCreateComponentsInside(n.get(0),v).initResult:void 0});return Promise.all(E).then(function(e){return s.first(e)}).catch(function(e){return r.logger.error(e),!1})}return Promise.resolve(!1)},e.shouldExecuteFirstQueryAutomatically=function(e){var t=e.options;return!t||!1!==t.autoTriggerQuery&&(!0===t.allowQueriesWithoutKeywords||""!=w.state(e.element).get("q"))},e.logger=new c.Logger("Initialization"),e.registeredComponents=[],e.componentAliases={},e.namedMethods={},e.fieldsNeededForQuery=[],e.fieldsNeededForQueryByComponent={},e}();t.Initialization=C;var _=function(){function e(){}return e.getLazyRegisteredComponent=function(t){return e.lazyLoadedComponents[t]()},e.getLazyRegisteredModule=function(t){return e.lazyLoadedModule[t]()},e.registerLazyComponent=function(t,n,r){null==e.lazyLoadedComponents[t]?(l.Assert.exists(n),s.contains(C.registeredComponents,t)||C.registeredComponents.push(t),e.lazyLoadedComponents[t]=n,r&&(C.componentAliases[t]=r)):this.logger.warn("Component being registered twice",t)},e.buildErrorCallback=function(t,n){return function(r){e.logger.warn("Cannot load chunk for "+t+". You may need to add the coveo-script class on the script tag that includes the Coveo framework. More details here https://docs.coveo.com/en/295/javascript-search-framework/lazy-versus-eager-component-loading#fixing-code-chunks-loading-path-issues\n        "+r),n(function(){})}},e.registerLazyModule=function(t,n){null==e.lazyLoadedModule[t]?(l.Assert.exists(n),e.lazyLoadedModule[t]=n):this.logger.warn("Module being registered twice",t)},e.componentsFactory=function(t,n,r){return{factory:function(){var i=[];return s.each(t,function(t){if(null==b.Component.get(t,n)){var o=void 0;if(g.Utils.exists(r.options)){var a=r.options[n],u=r.options[t.id],l=r.options.initOptions?r.options.initOptions[n]:{};o=g.Utils.extendDeep(u,l),o=g.Utils.extendDeep(a,o)}var c=s.extend({},r,{options:o});i.push(e.createComponentOfThisClassOnElement(n,t,c))}}),i},isLazyInit:!0}},e.createComponentOfThisClassOnElement=function(t,n,r){return l.Assert.isNonEmptyString(t),l.Assert.exists(n),C.isThereANonSearchInterfaceComponentBoundToThisElement(n)?null:e.getLazyRegisteredComponent(t).then(function(i){if(l.Assert.exists(i),C.isThereANonSearchInterfaceComponentBoundToThisElement(n))return null;var o,a={},u={};return void 0!=r&&(s.each(r.bindings,function(e,t){a[t]=e}),u=r.options,o=r.result),e.logger.trace("Creating component of class "+t,n,u),new i(n,u,a,o)})},e.logger=new c.Logger("LazyInitialization"),e.lazyLoadedComponents={},e.lazyLoadedModule={},e}();t.LazyInitialization=_;var T=function(){function e(){}return e.componentsFactory=function(t,n,r){return{factory:function(){s.each(t,function(t){if(null==b.Component.get(t,n)){var i=void 0;if(g.Utils.exists(r.options)){var o=r.options[n],a=r.options[t.id],u=r.options.initOptions?r.options.initOptions[n]:{};i=g.Utils.extendDeep(a,u),i=g.Utils.extendDeep(o,i)}var l=s.extend({},r,{options:i});e.createComponentOfThisClassOnElement(n,t,l)}})},isLazyInit:!1}},e.createComponentOfThisClassOnElement=function(t,n,r){l.Assert.isNonEmptyString(t),l.Assert.exists(n);var i,o=C.getRegisteredComponent(t),a={},u={};return void 0!=r&&(s.each(r.bindings,function(e,t){a[t]=e}),u=r.options,i=r.result),C.isThereANonSearchInterfaceComponentBoundToThisElement(n)?null:(e.logger.trace("Creating component of class "+t,n,u),null==o?(_.getLazyRegisteredComponent(t).then(function(r){e.logger.warn("Component of class "+t+' was not found in "Eager" mode. Using lazy mode as a fallback.'),new r(n,u,a,i)}).catch(function(){e.logger.error("Component of class "+t+' was not found in "Eager" mode nor "Lazy" mode. It will not be initialized properly...')}),null):new o(n,u,a,i))},e.logger=new c.Logger("EagerInitialization"),e.eagerlyLoadedComponents={},e}();t.EagerInitialization=T},function(e,t,n){"use strict";function r(e){void 0==window.Coveo&&(window.Coveo={}),s.each(s.keys(e),function(t){null==window.Coveo[t]&&(window.Coveo[t]=e[t])})}function i(e,t){e.doExport?e.doExport():new a.Logger(this).error("Component "+e+" has no export function !"),u.Initialization.registerAutoCreateComponent(e),t(e)}function o(e,t){e.doExport&&e.doExport(),t(e)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(0),a=n(11),u=n(2);t.exportGlobally=r,t.lazyExport=i,t.lazyExportModule=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=/^@[a-zA-Z0-9_\.]+$/,o=function(){function e(){}return e.isUndefined=function(e){return void 0===e},e.isNull=function(e){return null===e},e.isNullOrUndefined=function(t){return e.isUndefined(t)||e.isNull(t)},e.exists=function(t){return!e.isNullOrUndefined(t)},e.toNotNullString=function(e){return r.isString(e)?e:""},e.anyTypeToString=function(e){return e?e.toString():""},e.isNullOrEmptyString=function(t){return e.isNullOrUndefined(t)||!e.isNonEmptyString(t)},e.isNonEmptyString=function(e){return r.isString(e)&&""!==e},e.isEmptyString=function(t){return!e.isNonEmptyString(t)},e.stringStartsWith=function(e,t){return e.slice(0,t.length)==t},e.isNonEmptyArray=function(e){return r.isArray(e)&&e.length>0},e.isEmptyArray=function(t){return!e.isNonEmptyArray(t)},e.isHtmlElement=function(e){return void 0!=window.HTMLElement?e instanceof HTMLElement:e&&e.nodeType&&1==e.nodeType},e.parseIntIfNotUndefined=function(t){return e.isNonEmptyString(t)?parseInt(t,10):void 0},e.parseFloatIfNotUndefined=function(t){return HTMLDocument,e.isNonEmptyString(t)?parseFloat(t):void 0},e.round=function(e,t){return Math.round(e*Math.pow(10,t))/Math.pow(10,t)},e.parseBooleanIfNotUndefined=function(t){if(e.isNonEmptyString(t))switch(t.toLowerCase()){case"true":case"1":case"yes":return!0;case"false":case"0":case"no":return!1;default:return}},e.trim=function(e){return null==e?null:e.replace(/^\s+|\s+$/g,"")},e.encodeHTMLEntities=function(e){for(var t=[],n=e.length-1;n>=0;n--)/^[a-z0-9]/i.test(e[n])?t.unshift(e[n]):t.unshift(["&#",e.charCodeAt(n),";"].join(""));return t.join("")},e.decodeHTMLEntities=function(e){return e.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(t)})},e.safeEncodeURIComponent=function(e){return r.isString(e)?encodeURIComponent(e.replace(/[\uD800-\uDBFF](?![\uDC00-\uDFFF])/g,"").split("").reverse().join("").replace(/[\uDC00-\uDFFF](?![\uD800-\uDBFF])/g,"").split("").reverse().join("")):encodeURIComponent(e)},e.arrayEqual=function(e,t,n){if(void 0===n&&(n=!0),n)return r.isEqual(e,t);var i=[e,t];return r.all(i,function(e){return e.length==i[0].length&&0==r.difference(e,i[0]).length})},e.objectEqual=function(e,t){return r.isEqual(e,t)},e.isCoveoField=function(e){return i.test(e)},e.escapeRegexCharacter=function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},e.getCaseInsensitiveProperty=function(e,t){var n=e[t];if(null==n){var i=t.toLowerCase();if(null==(n=e[i])){var o=r.find(r.keys(e),function(e){return e.toLowerCase()==i});null!=o&&(n=e[o])}}return n},e.getFirstAvailableFieldValue=function(t,n){for(var r=0;r<n.length;r++){var i=e.getFieldValue(t,n[r]);if(void 0!==i)return i}},e.getFieldValue=function(t,n){if(null!=n&&(n=e.trim(n),"@"==n[0]&&(n=n.substr(1)),""!=n)){if(!e.isCoveoField("@"+n))throw"Not a valid field : "+n;for(var r=n.split(".").reverse(),i=t.raw;r.length>1;)if(i=e.getCaseInsensitiveProperty(i,r.pop()),e.isUndefined(i))return;var o=e.getCaseInsensitiveProperty(i,r[0]);return null==o&&(o=e.getCaseInsensitiveProperty(t,n)),o}},e.throttle=function(e,t,n,r,i){void 0===n&&(n={});var o,s=null,a=0,u=function(){a=!1===n.leading?0:(new Date).getTime(),s=null,o=e.apply(r,i)};return function(){var l=(new Date).getTime();a||!1!==n.leading||(a=l);var c=t-(l-a);return r=this,i=arguments,c<=0?(clearTimeout(s),s=null,a=l,o=e.apply(r,i)):s||!1===n.trailing||(s=window.setTimeout(u,c)),o}},e.extendDeep=function(t,n){t||(t={});var i=r.isArray(n),o=i&&[]||{};return i?(t=t||[],o=o.concat(t),r.each(n,function(n,i,s){void 0===t[i]?o[i]=n:"object"!=typeof n||r.isElement(n)?-1===t.indexOf(n)&&o.push(n):o[i]=e.extendDeep(t[i],n)})):(t&&"object"==typeof t&&!r.isElement(t)&&r.each(r.keys(t),function(e){o[e]=t[e]}),r.each(r.keys(n),function(r){"object"==typeof n[r]&&n[r]&&t[r]?o[r]=e.extendDeep(t[r],n[r]):o[r]=n[r]})),o},e.getQueryStringValue=function(e,t){return void 0===t&&(t=window.location.search),t.replace(new RegExp("^(?:.*[&\\?]"+e.replace(/[\.\+\*]/g,"\\$&")+"(?:\\=([^&]*))?)?.*$","i"),"$1")},e.isValidUrl=function(e){return/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/.test(e)},e.debounce=function(e,t){var n,r;return function(){for(var i=this,o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];null==n?(n=window.setTimeout(function(){n=null},t),r=setTimeout(function(){e.apply(i,o),r=null})):null==r&&(clearTimeout(n),n=window.setTimeout(function(){e.apply(i,o),n=null},t))}},e.readCookie=function(e){for(var t=e+"=",n=document.cookie.split(";"),r=0;r<n.length;r++){for(var i=n[r];" "==i.charAt(0);)i=i.substring(1,i.length);if(0==i.indexOf(t))return i.substring(t.length,i.length)}return null},e.toDashCase=function(e){return e.replace(/([a-z][A-Z])/g,function(e){return e[0]+"-"+e[1].toLowerCase()})},e.toCamelCase=function(e){return e.replace(/-([a-z])/g,function(e){return e[1].toUpperCase()})},e.parseXml=function(e){if("undefined"!=typeof DOMParser)return(new DOMParser).parseFromString(e,"text/xml");if("undefined"!=typeof ActiveXObject&&new ActiveXObject("Microsoft.XMLDOM")){var t=new ActiveXObject("Microsoft.XMLDOM");return t.async="false",t.loadXML(e),t}throw new Error("No XML parser found")},e.copyObject=function(e,t){var n=this;r.each(r.keys(t),function(r){"object"==typeof t[r]&&t[r]&&e[r]?n.copyObject(e[r],t[r]):e[r]=t[r]})},e.copyObjectAttributes=function(e,t,n){var i=this;r.each(r.keys(t),function(o){r.contains(n,o)&&("object"==typeof t[o]&&t[o]&&e[o]?i.copyObject(e[o],t[o]):e[o]=t[o])})},e.concatWithoutDuplicate=function(e,t){var n=r.difference(t,e);return n&&n.length>0&&(e=e.concat(n)),e},e.differenceBetweenObjects=function(e,t){var n={},r=function(e,t){for(var r in e)e[r]!==t[r]&&null==n[r]&&(n[r]=e[r])};return r(e,t),r(t,e),n},e}();t.Utils=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(11),o=n(4),s=n(0),a=function(){function e(){}return e.fail=function(t){e.failureHandler(t)},e.check=function(t,n){t||e.fail(n)},e.isUndefined=function(t){e.check(o.Utils.isUndefined(t),"Value should be undefined.")},e.isNotUndefined=function(t){e.check(!o.Utils.isUndefined(t),"Value should not be undefined.")},e.isNull=function(t){e.check(o.Utils.isNull(t),"Value should be null.")},e.isNotNull=function(t){e.check(!o.Utils.isNull(t),"Value should not be null.")},e.exists=function(t){e.check(!o.Utils.isNullOrUndefined(t),"Value should not be null or undefined")},e.doesNotExists=function(t){e.check(o.Utils.isNullOrUndefined(t),"Value should be null or undefined")},e.isString=function(t){e.check(s.isString(t),"Value should be a string.")},e.stringStartsWith=function(t,n){e.isNonEmptyString(t),e.isNonEmptyString(n),e.check(0==t.indexOf(n),"Value should start with "+n)},e.isNonEmptyString=function(t){e.check(o.Utils.isNonEmptyString(t),"Value should be a non-empty string.")},e.isNumber=function(t){e.check(s.isNumber(t),"Value should be a number.")},e.isLargerThan=function(t,n){e.check(n>t,"Value "+n+" should be larger than "+t)},e.isLargerOrEqualsThan=function(t,n){e.check(n>=t,"Value "+n+" should be larger or equal than "+t)},e.isSmallerThan=function(t,n){e.check(n<t,"Value "+n+" should be smaller than "+t)},e.isSmallerOrEqualsThan=function(t,n){e.check(n<=t,"Value "+n+" should be smaller or equal than "+t)},e.logger=new i.Logger("Assert"),e.failureHandler=function(t){throw e.logger.error("Assertion Failed!",t),window.console&&console.trace&&console.trace(),new u(o.Utils.isNonEmptyString(t)?t:"Assertion Failed!")},e}();t.Assert=a;var u=function(e){function t(t){var n=e.call(this,t)||this;return n.message=t,n}return r(t,e),t.prototype.toString=function(){return this.message},t}(Error);t.PreconditionFailedException=u},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),o=n(4),s=n(59),a=n(1),u=n(12),l=n(61),c=n(25),d=n(34),p=n(18),f=n(76),h=n(27),y=n(75),m=n(0),g=function(e){function t(t,n,r){void 0===r&&(r={});var i=e.call(this,t,n)||this;return i.element=t,i.type=n,i.bind=new v(i),i.root=r.root||i.resolveRoot(),i.queryStateModel=r.queryStateModel||i.resolveQueryStateModel(),i.componentStateModel=r.componentStateModel||i.resolveComponentStateModel(),i.queryController=r.queryController||i.resolveQueryController(),i.searchInterface=r.searchInterface||i.resolveSearchInterface(),i.usageAnalytics=r.usageAnalytics||i.resolveUA(),i.componentOptionsModel=r.componentOptionsModel||i.resolveComponentOptionsModel(),i.ensureDom=m.once(function(){return i.createDom()}),null!=i.searchInterface&&i.searchInterface.attachComponent(n,i),i.initDebugInfo(),i}return r(t,e),t.prototype.getBindings=function(){return{root:this.root,queryStateModel:this.queryStateModel,queryController:this.queryController,searchInterface:this.searchInterface,componentStateModel:this.componentStateModel,componentOptionsModel:this.componentOptionsModel,usageAnalytics:this.usageAnalytics}},t.prototype.createDom=function(){},t.prototype.resolveSearchInterface=function(){return t.resolveBinding(this.element,p.SearchInterface)},t.prototype.resolveRoot=function(){var e=t.resolveBinding(this.element,p.SearchInterface);return e?e.element:void 0},t.prototype.resolveQueryController=function(){return t.resolveBinding(this.element,d.QueryController)},t.prototype.resolveComponentStateModel=function(){return t.resolveBinding(this.element,l.ComponentStateModel)},t.prototype.resolveQueryStateModel=function(){return t.resolveBinding(this.element,u.QueryStateModel)},t.prototype.resolveComponentOptionsModel=function(){return t.resolveBinding(this.element,c.ComponentOptionsModel)},t.prototype.resolveUA=function(){var e=this.resolveSearchInterface();return e&&e.usageAnalytics?e.usageAnalytics:new f.NoopAnalyticsClient},t.prototype.resolveResult=function(){return t.getResult(this.element)},t.prototype.initDebugInfo=function(){var e=this;a.$$(this.element).on("dblclick",function(t){if(t.altKey){null!=e.debugInfo()&&a.$$(e.root).trigger(y.DebugEvents.showDebugPanel,e.debugInfo())}})},t.get=function(e,n,r){if(i.Assert.exists(e),m.isString(n))return e[t.computeCssClassNameForType(n)];if(o.Utils.exists(n))return i.Assert.exists(n.ID),e[t.computeCssClassNameForType(n.ID)];var s=h.BaseComponent.getBoundComponentsForElement(e);return r||i.Assert.check(s.length<=1,"More than one component is bound to this element. You need to specify the component type."),s[0]},t.getResult=function(e,t){void 0===t&&(t=!1);var n=a.$$(e).closest(".CoveoResult");return i.Assert.check(t||void 0!=n),n.CoveoResult},t.bindResultToElement=function(e,t){i.Assert.exists(e),i.Assert.exists(t),a.$$(e).addClass("CoveoResult"),e.CoveoResult=t;var n=s.JQueryUtils.getJQuery();n&&n(e).data(t)},t.resolveBinding=function(e,n){i.Assert.exists(e),i.Assert.exists(n),i.Assert.exists(n.ID);var r,o=t.computeCssClassNameForType(n.ID);if(a.$$(e).is("."+o))r=e;else{var s=a.$$(e).findClass(o);if(s&&0!==s.length)r=s[0];else{var u=a.$$(e).closest(o);u&&(r=u)}}return r?r[o]:void 0},t.pointElementsToDummyForm=function(e){var t=a.$$(e).is("input")?[e]:[];t=t.concat(a.$$(e).findAll("input")),m.each(m.compact(t),function(e){e.setAttribute("form","coveo-dummy-form")})},t}(h.BaseComponent);t.Component=g;var v=function(){function e(e){this.owner=e,i.Assert.exists(e)}return e.prototype.on=function(e,t,n){if(s.JQueryUtils.getJQuery()&&s.JQueryUtils.isInstanceOfJQuery(e)){e.on(t,this.wrapToCallIfEnabled(n))}else{var r=e;a.$$(r).on(t,this.wrapToCallIfEnabled(n))}},e.prototype.one=function(e,t,n){if(e instanceof HTMLElement){var r=e;a.$$(r).one(t,this.wrapToCallIfEnabled(n))}else{e.one(t,this.wrapToCallIfEnabled(n))}},e.prototype.onRootElement=function(e,t){this.on(this.owner.root,e,t)},e.prototype.oneRootElement=function(e,t){this.one(this.owner.root,e,t)},e.prototype.onQueryState=function(e,t,n){this.onRootElement(this.getQueryStateEventName(e,t),n)},e.prototype.onComponentOptions=function(e,t,n){this.onRootElement(this.getComponentOptionEventName(e,t),n)},e.prototype.oneQueryState=function(e,t,n){this.oneRootElement(this.getQueryStateEventName(e,t),n)},e.prototype.trigger=function(e,t,n){this.wrapToCallIfEnabled(function(){if(e instanceof HTMLElement){var r=e;a.$$(r).trigger(t,n)}else{e.trigger(t,n)}})(n)},e.prototype.wrapToCallIfEnabled=function(e){var t=this;return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(!t.owner.disabled)return n&&n[0]instanceof CustomEvent?n[0].detail&&(n=[n[0].detail]):n&&s.JQueryUtils.isInstanceOfJqueryEvent(n[0])&&(n=void 0!=n[1]?[n[1]]:[]),e.apply(t.owner,n)}},e.prototype.getQueryStateEventName=function(e,t){return this.getModelEvent(this.owner.queryStateModel,e,t)},e.prototype.getComponentOptionEventName=function(e,t){return this.getModelEvent(this.owner.componentOptionsModel,e,t)},e.prototype.getModelEvent=function(e,t,n){return t&&n?e.getEventName(t+n):e.getEventName(t)},e}();t.ComponentEvents=v},function(e,t,n){"use strict";function r(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i.L10N.format.apply(this,arguments)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(115);t.l=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(0),o=n(5),s=n(11),a=n(7),u=n(1),l=n(13),c=n(4),d=n(53);!function(e){e[e.BOOLEAN=0]="BOOLEAN",e[e.NUMBER=1]="NUMBER",e[e.STRING=2]="STRING",e[e.LOCALIZED_STRING=3]="LOCALIZED_STRING",e[e.LIST=4]="LIST",e[e.SELECTOR=5]="SELECTOR",e[e.CHILD_HTML_ELEMENT=6]="CHILD_HTML_ELEMENT",e[e.TEMPLATE=7]="TEMPLATE",e[e.FIELD=8]="FIELD",e[e.FIELDS=9]="FIELDS",e[e.ICON=10]="ICON",e[e.COLOR=11]="COLOR",e[e.OBJECT=12]="OBJECT",e[e.QUERY=13]="QUERY",e[e.HELPER=14]="HELPER",e[e.LONG_STRING=15]="LONG_STRING",e[e.JSON=16]="JSON",e[e.JAVASCRIPT=17]="JAVASCRIPT",e[e.NONE=18]="NONE",e[e.QUERY_EXPRESSION=19]="QUERY_EXPRESSION"}(r=t.ComponentOptionsType||(t.ComponentOptionsType={}));var p=/([A-Z])|\W+(\w)/g,f=/\s*,\s*/,h=/([a-zA-Z\-]+)\s*:\s*(([^,]|,\s*(?!([a-zA-Z\-]+)\s*:))+)/g,y=function(){function e(){}return e.buildTemplateOption=function(e){return d.TemplateComponentOptions.buildTemplateOption(e)},e.buildBooleanOption=function(t){return e.buildOption(r.BOOLEAN,e.loadBooleanOption,t)},e.buildNumberOption=function(t){return e.buildOption(r.NUMBER,e.loadNumberOption,t)},e.buildStringOption=function(t){return e.buildOption(r.STRING,e.loadStringOption,t)},e.buildIconOption=function(t){return e.buildOption(r.ICON,e.loadIconOption,t)},e.buildColorOption=function(t){return e.buildOption(r.COLOR,e.loadStringOption,t)},e.buildHelperOption=function(t){return e.buildOption(r.HELPER,e.loadStringOption,t)},e.buildJsonOption=function(t){return e.buildOption(r.JSON,e.loadJsonObjectOption,t)},e.buildJsonObjectOption=function(t){return e.buildJsonOption(t)},e.buildLocalizedStringOption=function(t){return e.buildOption(r.LOCALIZED_STRING,e.loadLocalizedStringOption,t)},e.buildFieldOption=function(t){return e.buildOption(r.FIELD,e.loadFieldOption,t)},e.buildFieldsOption=function(t){return e.buildOption(r.FIELDS,e.loadFieldsOption,t)},e.buildQueryExpressionOption=function(t){return e.buildOption(r.QUERY_EXPRESSION,e.loadStringOption,t)},e.buildListOption=function(t){return e.buildOption(r.LIST,e.loadListOption,t)},e.buildSelectorOption=function(t){return e.buildOption(r.SELECTOR,e.loadSelectorOption,t)},e.buildChildHtmlElementOption=function(t){return e.buildOption(r.CHILD_HTML_ELEMENT,e.loadChildHtmlElementOption,t)},e.buildCustomOption=function(t,n){var i=function(n,r,i){var o=e.loadStringOption(n,r,i);if(!c.Utils.isNullOrEmptyString(o))return t(o)};return e.buildOption(r.STRING,i,n)},e.buildCustomListOption=function(t,n){var i=function(n,r,i){var o=e.loadListOption(n,r,i);return t(o)};return e.buildOption(r.LIST,i,n)},e.buildObjectOption=function(t){var n=function(n,r,o){for(var s=i.keys(t.subOptions),a={},u={},l=0;l<s.length;l++){var c=s[l],d=e.mergeCamelCase(r,c);a[d]=t.subOptions[c]}e.initOptions(n,a,u);for(var p={},f=!1,l=0;l<s.length;l++){var c=s[l],d=e.mergeCamelCase(r,c);null!=u[d]&&(p[c]=u[d],f=!0)}return f?p:null};return e.buildOption(r.OBJECT,n,t)},e.buildOption=function(e,t,n){void 0===n&&(n={});var r=n;return r.type=e,r.load=t,r},e.attrNameFromName=function(t,n){return n&&n.attrName?n.attrName:t?"data-"+e.camelCaseToHyphen(t):t},e.camelCaseToHyphen=function(e){return e.replace(p,"-$1$2").toLowerCase()},e.mergeCamelCase=function(e,t){return e+t.substr(0,1).toUpperCase()+t.substr(1)},e.initComponentOptions=function(t,n,r){return e.initOptions(t,n.options,r,n.ID)},e.initOptions=function(e,t,n,o){var u=new s.Logger(this);null==n&&(n={});for(var l=i.keys(t),d=0;d<l.length;d++){var p=l[d],f=t[p],h=void 0,y=f.load;if(null!=y&&(h=y(e,p,f))&&f.deprecated&&u.warn(o+"."+p+": "+f.deprecated),c.Utils.isNullOrUndefined(h)&&void 0!=n[p]&&(h=n[p]),null==h&&void 0==n[p]&&(null!=f.defaultValue?h=f.type==r.LIST?i.extend([],f.defaultValue):f.type==r.OBJECT?i.extend({},f.defaultValue):f.defaultValue:null!=f.defaultFunction&&(h=f.defaultFunction(e))),null!=h){if(f.validator){if(!f.validator(h)){u.warn(o+" ."+p+" has invalid value: "+h),f.required&&u.error(o+" ."+p+" is required and has an invalid value: "+h+". ***THIS COMPONENT WILL NOT WORK***"),delete n[p];continue}}f.type==r.OBJECT&&null!=n[p]?n[p]=i.extend(n[p],h):f.type==r.LOCALIZED_STRING?n[p]=a.l(h):n[p]=h}void 0==n[p]&&f.required&&u.warn('Option "'+p+'" is *REQUIRED* on the component "'+o+'". The component or the search page might *NOT WORK PROPERLY*.',e)}for(var d=0;d<l.length;d++){var m=l[d],f=t[m];f.postProcessing&&(n[m]=f.postProcessing(n[m],n))}return n},e.loadStringOption=function(t,n,r){return t.getAttribute(e.attrNameFromName(n,r))||e.getAttributeFromAlias(t,r)},e.loadIconOption=function(t,n,r){var i=e.loadStringOption(t,n,r);return null==i?null:(i=i.replace("coveo-sprites-replies","replies"),i=i.replace("coveo-sprites-main-search-active","search"),c.Utils.isNullOrUndefined(l.SVGIcons.icons[i])?(new s.Logger(t).warn("Icon with name "+i+" not found."),null):i=c.Utils.toCamelCase(i))},e.loadFieldOption=function(t,n,r){var i=e.loadStringOption(t,n,r);return o.Assert.check(!c.Utils.isNonEmptyString(i)||c.Utils.isCoveoField(i),i+" is not a valid field"),i},e.loadFieldsOption=function(t,n,r){var s=e.loadStringOption(t,n,r);if(null==s)return null;var a=s.split(f);return i.each(a,function(e){o.Assert.check(c.Utils.isCoveoField(e),e+" is not a valid field")}),a},e.loadLocalizedStringOption=function(t,n,r){var o=e.loadStringOption(t,n,r),s=String.locale||String.defaultLocale;if(null!=s&&null!=o){var a=s.toLowerCase().split("-"),u=i.map(a,function(e,t){return a.slice(0,t+1).join("-")}),l=o.match(h);if(null!=l)for(var c=0;c<l.length;c++){var d=h.exec(l[c]);if(null!=d){var p=d[1].toLowerCase();if(i.contains(u,p))return d[2].replace(/^\s+|\s+$/g,"")}}return null!=o?o.toLocaleString():null}return o},e.loadNumberOption=function(t,n,r){var i=e.loadStringOption(t,n,r);if(null==i)return null;var o=!0===r.float?c.Utils.parseFloatIfNotUndefined(i):c.Utils.parseIntIfNotUndefined(i);return null!=r.min&&r.min>o&&(new s.Logger(t).info("Value for option "+n+" is less than the possible minimum (Value is "+o+", minimum is "+r.min+"). It has been forced to its minimum value.",r),o=r.min),null!=r.max&&r.max<o&&(new s.Logger(t).info("Value for option "+n+" is higher than the possible maximum (Value is "+o+", maximum is "+r.max+"). It has been forced to its maximum value.",r),o=r.max),o},e.loadBooleanOption=function(t,n,r){return c.Utils.parseBooleanIfNotUndefined(e.loadStringOption(t,n,r))},e.loadListOption=function(t,n,r){var i=r.separator||/\s*,\s*/,o=e.loadStringOption(t,n,r);return c.Utils.isNonEmptyString(o)?o.split(i):null},e.loadEnumOption=function(t,n,r,i){var o=e.loadStringOption(t,n,r);return null!=o?i[o]:null},e.loadJsonObjectOption=function(t,n,r){var i=e.loadStringOption(t,n,r);if(null==i)return null;try{return JSON.parse(i)}catch(e){return new s.Logger(t).info("Value for option "+n+" is not a valid JSON string (Value is "+i+"). It has been disabled.",e),null}},e.loadSelectorOption=function(t,n,r,i){void 0===i&&(i=document);var o=e.loadStringOption(t,n,r);return c.Utils.isNonEmptyString(o)?i.querySelector(o):null},e.loadChildHtmlElementOption=function(t,n,r,i){void 0===i&&(i=document);var o,s=r.selectorAttr||e.attrNameFromName(n,r)+"-selector",a=t.getAttribute(s)||e.getAttributeFromAlias(t,r);if(null!=a&&(o=i.body.querySelector(a)),null==o){var u=r.childSelector;null==u&&(u="."+n),o=e.loadChildHtmlElementFromSelector(t,u)}return o},e.loadChildHtmlElementFromSelector=function(e,t){return o.Assert.isNonEmptyString(t),u.$$(e).is(t)?e:u.$$(e).find(t)},e.loadChildrenHtmlElementFromSelector=function(e,t){return o.Assert.isNonEmptyString(t),u.$$(e).findAll(t)},e.findParentScrolling=function(t,n){for(void 0===n&&(n=document);t!=n&&null!=t;){if(e.isElementScrollable(t))return"body"!==t.tagName.toLowerCase()?t:window;t=t.parentElement}return window},e.isElementScrollable=function(e){var t=u.$$(e).css("overflow-y");return"scroll"==t||"auto"==t},e.getAttributeFromAlias=function(t,n){if(i.isArray(n.alias)){var r;return i.each(n.alias,function(n){var i=t.getAttribute(e.attrNameFromName(n));i&&(r=i)}),r}return n.alias?t.getAttribute(e.attrNameFromName(n.alias)):void 0},e}();t.ComponentOptions=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.analyticsActionCauseList={interfaceLoad:{name:"interfaceLoad",type:"interface"},interfaceChange:{name:"interfaceChange",type:"interface",metaMap:{interfaceChangeTo:1}},contextRemove:{name:"contextRemove",type:"misc",metaMap:{contextName:1}},didyoumeanAutomatic:{name:"didyoumeanAutomatic",type:"misc"},didyoumeanClick:{name:"didyoumeanClick",type:"misc"},resultsSort:{name:"resultsSort",type:"misc",metaMap:{resultsSortBy:1}},searchboxSubmit:{name:"searchboxSubmit",type:"search box"},searchboxClear:{name:"searchboxClear",type:"search box"},searchboxAsYouType:{name:"searchboxAsYouType",type:"search box"},breadcrumbFacet:{name:"breadcrumbFacet",type:"breadcrumb",metaMap:{facetId:1,facetValue:2,facetTitle:3}},breadcrumbAdvancedSearch:{name:"breadcrumbAdvancedSearch",type:"breadcrumb"},breadcrumbResetAll:{name:"breadcrumbResetAll",type:"breadcrumb"},documentTag:{name:"documentTag",type:"document",metaMap:{facetId:1,facetValue:2,facetTitle:3}},documentField:{name:"documentField",type:"document",metaMap:{facetId:1,facetValue:2,facetTitle:3}},documentQuickview:{name:"documentQuickview",type:"document",metaMap:{documentTitle:1,documentURL:2}},documentOpen:{name:"documentOpen",type:"document",metaMap:{documentTitle:1,documentURL:2}},omniboxFacetSelect:{name:"omniboxFacetSelect",type:"omnibox",metaMap:{facetId:1,facetValue:2,facetTitle:3}},omniboxFacetExclude:{name:"omniboxFacetExclude",type:"omnibox",metaMap:{facetId:1,facetValue:2,facetTitle:3}},omniboxFacetDeselect:{name:"omniboxFacetDeselect",type:"omnibox",metaMap:{facetId:1,facetValue:2,facetTitle:3}},omniboxFacetUnexclude:{name:"omniboxFacetUnexclude",type:"omnibox",metaMap:{faceId:1,facetValue:2,facetTitle:3}},omniboxAnalytics:{name:"omniboxAnalytics",type:"omnibox",metaMap:{partialQuery:1,suggestionRanking:2,partialQueries:3,suggestions:4}},omniboxFromLink:{name:"omniboxFromLink",type:"omnibox",metaMap:{partialQuery:1,suggestionRanking:2,partialQueries:3,suggestions:4}},omniboxField:{name:"omniboxField",type:"omnibox"},facetClearAll:{name:"facetClearAll",type:"facet",metaMap:{facetId:1}},facetSearch:{name:"facetSearch",type:"facet",metaMap:{facetId:1}},facetToggle:{name:"facetToggle",type:"facet",metaMap:{facetId:1,facetOperatorBefore:2,facetOperatorAfter:3}},facetRangeSlider:{name:"facetRangeSlider",type:"facet",metaMap:{facetId:1,facetRangeStart:2,facetRangeEnd:3}},facetRangeGraph:{name:"facetRangeGraph",type:"facet",metaMap:{facetId:1,facetRangeStart:2,facetRangeEnd:3}},facetSelect:{name:"facetSelect",type:"facet",metaMap:{facetId:1,facetValue:2,facetTitle:3}},facetSelectAll:{name:"facetSelectAll",type:"facet",metaMap:{facetId:1,facetValue:2,facetTitle:3}},facetDeselect:{name:"facetDeselect",type:"facet",metaMap:{facetId:1,facetValue:2,facetTitle:3}},facetExclude:{name:"facetExclude",type:"facet",metaMap:{facetId:1,facetValue:2,facetTitle:3}},facetUnexclude:{name:"facetUnexclude",type:"facet",metaMap:{facetId:1,facetValue:2,facetTitle:3}},facetUpdateSort:{name:"facetUpdateSort",type:"facet"},categoryFacetSelect:{name:"categoryFacetSelect",type:"categoryFacet",metaMap:{categoryFacetId:1,categoryFacetValue:2,categoryFacetTitle:3}},categoryFacetReload:{name:"categoryFacetReload",type:"categoryFacet"},categoryFacetClear:{name:"categoryFacetClear",type:"categoryFacet",metaMap:{categoryFacetId:1,categoryFacetValue:2,categoryFacetTitle:3}},categoryFacetBreadcrumb:{name:"categoryFacetBreadcrumb",type:"categoryFacet",metaMap:{categoryFacetId:1,categoryFacetValue:2,categoryFacetTitle:3}},categoryFacetSearch:{name:"categoryFacetSearch",type:"categoryFacet",metaMap:{categoryFacetId:1,categoryFacetValue:2,categoryFacetTitle:3}},errorBack:{name:"errorBack",type:"errors"},errorClearQuery:{name:"errorClearQuery",type:"errors"},errorRetry:{name:"errorRetry",type:"errors"},noResultsBack:{name:"noResultsBack",type:"noResults"},expandToFullUI:{name:"expandToFullUI",type:"interface"},caseCreationInputChange:{name:"inputChange",type:"caseCreation"},caseCreationSubmitButton:{name:"submitButton",type:"caseCreation"},caseCreationCancelButton:{name:"cancelButton",type:"caseCreation"},caseCreationUnloadPage:{name:"unloadPage",type:"caseCreation"},casecontextAdd:{name:"casecontextAdd",type:"casecontext",metaMap:{caseID:5}},casecontextRemove:{name:"casecontextRemove",type:"casecontext",metaMap:{caseID:5}},preferencesChange:{name:"preferencesChange",type:"preferences",metaMap:{preferenceName:1,preferenceType:2}},getUserHistory:{name:"getUserHistory",type:"userHistory"},userActionDocumentClick:{name:"userActionDocumentClick",type:"userHistory"},caseAttach:{name:"caseAttach",type:"case",metaMap:{documentTitle:1,resultUriHash:3,articleID:4,caseID:5}},caseDetach:{name:"caseDetach",type:"case",metaMap:{documentTitle:1,resultUriHash:3,articleID:4,caseID:5}},customfiltersChange:{name:"customfiltersChange",type:"customfilters",metaMap:{customFilterName:1,customFilterType:2,customFilterExpression:3}},pagerNumber:{name:"pagerNumber",type:"getMoreResults",metaMap:{pagerNumber:1}},pagerNext:{name:"pagerNext",type:"getMoreResults",metaMap:{pagerNumber:1}},pagerPrevious:{name:"pagerPrevious",type:"getMoreResults",metaMap:{pagerNumber:1}},pagerScrolling:{name:"pagerScrolling",type:"getMoreResults"},pagerResize:{name:"pagerResize",type:"getMoreResults"},positionSet:{name:"positionSet",type:"distance"},searchFromLink:{name:"searchFromLink",type:"interface"},triggerNotify:{name:"notify",type:"queryPipelineTriggers"},triggerExecute:{name:"execute",type:"queryPipelineTriggers"},triggerQuery:{name:"query",type:"queryPipelineTriggers"},triggerRedirect:{name:"redirect",type:"queryPipelineTriggers"},queryError:{name:"query",type:"errors",metaMap:{query:1,aq:2,cq:3,dq:4,errorType:5,errorMessage:6}},exportToExcel:{name:"exportToExcel",type:"misc"},recommendation:{name:"recommendation",type:"recommendation"},recommendationInterfaceLoad:{name:"recommendationInterfaceLoad",type:"recommendation"},recommendationOpen:{name:"recommendationOpen",type:"recommendation"},advancedSearch:{name:"advancedSearch",type:"advancedSearch"},searchAlertsFollowDocument:{name:"followDocument",type:"searchAlerts"},searchAlertsFollowQuery:{name:"followQuery",type:"searchAlerts"},searchAlertsUpdateSubscription:{name:"updateSubscription",type:"searchAlerts"},searchAlertsDeleteSubscription:{name:"deleteSubscription",type:"searchAlerts"},searchAlertsUnfollowDocument:{name:"unfollowDocument",type:"searchAlerts"},searchAlertsUnfollowQuery:{name:"unfollowQuery",type:"searchAlerts"},simpleFilterSelectValue:{name:"selectValue",type:"simpleFilter",metaMap:{simpleFilterTitle:1,simpleFilterValue:2,simpleFilterField:3}},simpleFilterDeselectValue:{name:"selectValue",type:"simpleFilter",metaMap:{simpleFilterTitle:1,simpleFilterValues:2,simpleFilterField:3}},simpleFilterClearAll:{name:"selectValue",type:"simpleFilter",metaMap:{simpleFilterTitle:1,simpleFilterField:3}},resultsLayoutChange:{name:"changeResultsLayout",type:"resultsLayout"},foldingShowMore:{name:"showMoreFoldedResults",type:"folding"},foldingShowLess:{name:"showLessFoldedResults",type:"folding"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.newQuery="newQuery",e.buildingQuery="buildingQuery",e.doneBuildingQuery="doneBuildingQuery",e.duringQuery="duringQuery",e.duringFetchMoreQuery="duringFetchMoreQuery",e.querySuccess="querySuccess",e.fetchMoreSuccess="fetchMoreSuccess",e.deferredQuerySuccess="deferredQuerySuccess",e.queryError="queryError",e.preprocessResults="preprocessResults",e.preprocessMoreResults="preprocessMoreResults",e.noResults="noResults",e.buildingCallOptions="buildingCallOptions",e}();t.QueryEvents=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),window.console||(console={log:function(){},debug:function(){},info:function(){},warn:function(){},error:function(){},assert:function(){},clear:function(){},count:function(){},dir:function(){},dirxml:function(){},group:function(){},groupCollapsed:function(){},groupEnd:function(){},msIsIndependentlyComposed:function(e){},profile:function(){},profileEnd:function(){},select:function(){},time:function(){},timeEnd:function(){},trace:function(){}});var r=function(){function e(e){this.owner=e}return e.prototype.trace=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e.level<=e.TRACE&&this.log("TRACE",t)},e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e.level<=e.DEBUG&&this.log("DEBUG",t)},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e.level<=e.INFO&&this.log("INFO",t)},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e.level<=e.WARN&&this.log("WARN",t)},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e.level<=e.ERROR&&this.log("ERROR",t)},e.prototype.log=function(t,n){window.console&&console.log&&(console.error&&"ERROR"==t?console.error([t,this.owner].concat(n)):console.info&&"INFO"==t?console.info([t,this.owner].concat(n)):console.warn&&"WARN"==t?console.warn([t,this.owner].concat(n)):console.log([t,this.owner].concat(n)),e.executionTime&&(console.timeEnd("Execution time"),console.time("Execution time")))},e.enable=function(){e.level=e.TRACE},e.disable=function(){e.level=e.NOTHING},e.TRACE=1,e.DEBUG=2,e.INFO=3,e.WARN=4,e.ERROR=5,e.NOTHING=6,e.level=e.INFO,e.executionTime=!1,e}();t.Logger=r},function(e,t,n){"use strict";function r(e,t){if(a.Assert.exists(e),0==t.length||void 0==t[0])return e;if(1==t.length&&l.Utils.isNonEmptyString(t[0]))return e.get(t[0]);if(u.isObject(t[0])){var n=t[0],r=u.extend({customAttribute:!0},t[1]);return e.setMultiple(n,r)}if(t.length>1){var i=t[0],o=t[1],r=u.extend({customAttribute:!0},t[2]);return a.Assert.isNonEmptyString(i),e.set(i,o,r)}}var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var s=n(15),a=n(5),u=n(0),l=n(4);t.QUERY_STATE_ATTRIBUTES={Q:"q",FIRST:"first",T:"t",TG:"tg",SORT:"sort",LAYOUT:"layout",HD:"hd",HQ:"hq",QUICKVIEW:"quickview",DEBUG:"debug",NUMBER_OF_RESULTS:"numberOfResults"};var c=function(e){function t(n,r){var i=o({},t.defaultAttributes,r);return e.call(this,n,t.ID,i)||this}return i(t,e),t.getFacetId=function(e,t){return void 0===t&&(t=!0),"f:"+e+(t?"":":not")},t.getFacetOperator=function(e){return"f:"+e+":operator"},t.getFacetLookupValue=function(e){return t.getFacetId(e)+":lookupvalues"},t.prototype.atLeastOneFacetIsActive=function(){var e=this;return!u.isUndefined(u.find(this.attributes,function(t,n){return 0==n.indexOf("f:")&&!l.Utils.arrayEqual(e.getDefault(n),t)}))},t.prototype.set=function(t,n,r){this.validate(t,n),e.prototype.set.call(this,t,n,r)},t.prototype.validate=function(e,n){e==t.attributesEnum.first&&(a.Assert.isNumber(n),a.Assert.isLargerOrEqualsThan(0,n))},t.ID="state",t.defaultAttributes={q:"",first:0,fv:"",t:"",hd:"",hq:"",sort:"",layout:"list",tg:"",quickview:"",debug:!1,numberOfResults:10},t.attributesEnum={q:"q",first:"first",fv:"fv",t:"t",sort:"sort",layout:"layout",hd:"hd",hq:"hq",tg:"tg",quickview:"quickview",debug:"debug",numberOfResults:"numberOfResults"},t}(s.Model);t.QueryStateModel=c,t.setState=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.icons={search:n(263),more:n(264),loading:n(265),checkboxHookExclusionMore:n(266),arrowUp:n(267),arrowDown:n(268),mainClear:n(269),orAnd:n(270),sort:n(271),ascending:n(272),descending:n(273),dropdownMore:n(274),dropdownLess:n(275),facetCollapse:n(276),facetExpand:n(277),dropdownShareQuery:n(278),dropdownPreferences:n(279),dropdownAuthenticate:n(280),dropdownExport:n(281),dropdownFollowQuery:n(282),quickview:n(283),pagerRightArrow:n(284),pagerLeftArrow:n(285),replies:n(286),video:n(287),coveoLogo:n(288),coveoPoweredBy:n(289),taggingOk:n(290),edit:n(291),star:n(292),listLayout:n(293),cardLayout:n(294),tableLayout:n(295)},e}();t.SVGIcons=r},,function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(5),s=n(4),a=n(27),u=n(0);t.MODEL_EVENTS={PREPROCESS:"preprocess",CHANGE_ONE:"change:",CHANGE:"change",RESET:"reset",ALL:"all"};var l=function(e){function t(t,n,r){var i=e.call(this,t,n)||this;return i.eventNameSpace=n,i.defaultAttributes=s.Utils.extendDeep(i.defaultAttributes,r),i.attributes=r,i.logger.debug("Creating model"),i}return r(t,e),t.prototype.set=function(e,t,n){var r={};r[e]=t,this.setMultiple(r,n)},t.prototype.getAttributes=function(){var e=this,t={};return u.each(this.attributes,function(n,r){u.isObject(n)?s.Utils.objectEqual(n,e.defaultAttributes[r])||(t[r]=s.Utils.extendDeep({},n)):n!=e.defaultAttributes[r]&&(t[r]=n)}),t},t.prototype.setMultiple=function(e,t){var n=this,r=!1;this.preprocessEvent(e),u.each(e,function(e,i){t&&t.customAttribute||n.checkIfAttributeExists(i),e=n.parseToCorrectType(i,e),(t&&!t.validateType||n.typeIsValid(i,e))&&n.checkIfAttributeChanged(i,e)&&(n.attributes[i]=e,r=!0,null!=t&&t.silent||n.attributeHasChangedEvent(i))}),!r||null!=t&&t.silent||(this.attributesHasChangedEvent(),this.anyEvent())},t.prototype.setNewDefault=function(e,t,n){n&&n.customAttribute||this.checkIfAttributeExists(e),this.defaultAttributes[e]=t},t.prototype.setDefault=function(e){this.set(e,this.defaultAttributes[e])},t.prototype.get=function(e){return void 0==e?this.attributes:this.attributes[e]},t.prototype.getDefault=function(e){return void 0==e?this.defaultAttributes:this.defaultAttributes[e]},t.prototype.reset=function(){this.setMultiple(this.defaultAttributes),this.modelWasResetEvent()},t.prototype.registerNewAttribute=function(e,t){this.defaultAttributes[e]=t,this.attributes[e]=t},t.prototype.getEventName=function(e){return this.eventNameSpace+":"+e},t.prototype.attributesHasChangedEvent=function(){i.$$(this.element).trigger(this.getEventName(t.eventTypes.change),this.createAttributesChangedArgument())},t.prototype.attributeHasChangedEvent=function(e){i.$$(this.element).trigger(this.getEventName(t.eventTypes.changeOne)+e,this.createAttributeChangedArgument(e))},t.prototype.preprocessEvent=function(e){i.$$(this.element).trigger(this.getEventName(t.eventTypes.preprocess),e)},t.prototype.modelWasResetEvent=function(){i.$$(this.element).trigger(this.getEventName(t.eventTypes.reset),this.createModelChangedArgument())},t.prototype.anyEvent=function(){i.$$(this.element).trigger(this.getEventName(t.eventTypes.all),this.createModelChangedArgument())},t.prototype.createAttributeChangedArgument=function(e){return{attribute:e,value:this.attributes[e]}},t.prototype.createAttributesChangedArgument=function(){return{attributes:this.attributes}},t.prototype.createModelChangedArgument=function(){return{model:this}},t.prototype.checkIfAttributeExists=function(e){o.Assert.check(u.has(this.attributes,e),"The attribute "+e+" is not registered.")},t.prototype.typeIsValid=function(e,t){return!(!s.Utils.isNullOrUndefined(this.attributes[e])&&!s.Utils.isUndefined(t))||(u.isNumber(this.attributes[e])?this.validateNumber(e,t):u.isBoolean(this.attributes[e])?this.validateBoolean(e,t):this.validateOther(e,t))},t.prototype.validateNumber=function(e,t){return!(!u.isNumber(t)||isNaN(t))||(this.logger.error("Non-matching type for "+e+". Expected number and got "+t),!1)},t.prototype.validateBoolean=function(e,t){return!(!u.isBoolean(t)&&void 0!==!s.Utils.parseBooleanIfNotUndefined(t))||(this.logger.error("Non matching type for "+e+". Expected boolean and got "+t),!1)},t.prototype.validateOther=function(e,t){return!(!s.Utils.isNullOrUndefined(this.defaultAttributes[e])&&typeof t!=typeof this.defaultAttributes[e])||(this.logger.error("Non-matching type for "+e+". Expected "+typeof this.defaultAttributes[e]+" and got "+t),!1)},t.prototype.parseToCorrectType=function(e,t){return u.isNumber(this.attributes[e])?parseInt(t,10):u.isBoolean(this.attributes[e])?u.isBoolean(t)?t:s.Utils.parseBooleanIfNotUndefined(t):t},t.prototype.checkIfAttributeChanged=function(e,t){var n=this.attributes[e];return u.isNumber(n)||u.isString(n)||u.isBoolean(n)?n!==t:u.isArray(n)?!s.Utils.arrayEqual(n,t):!u.isObject(n)||!s.Utils.objectEqual(n,t)},t.prototype.debugInfo=function(){return null},t.eventTypes={preprocess:"preprocess",changeOne:"change:",change:"change",reset:"reset",all:"all"},t}(a.BaseComponent);t.Model=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.beforeInitialization="beforeInitialization",e.afterComponentsInitialization="afterComponentsInitialization",e.restoreHistoryState="restoreHistoryState",e.afterInitialization="afterInitialization",e.nuke="nuke",e}();t.InitializationEvents=r},,function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var o=n(253),s=n(254);n(257),n(258),n(259),n(260);var a=n(0),u=n(117),l=n(118),c=n(261),d=n(34),p=n(16),f=n(10),h=n(71),y=n(5),m=n(262),g=n(25),v=n(61),b=n(15),S=n(12),E=n(44),w=n(1),C=n(39),_=n(4),T=n(9),A=n(76),x=n(27),O=n(8),M=n(138),I=n(35),P=n(121),L=n(43),R=n(303),k=n(304),D=n(305),z=function(e){function t(n,r,i,o){void 0===o&&(o=window);var s=e.call(this,n,t.ID)||this;return s.element=n,s.options=r,s.analyticsOptions=i,s._window=o,s.isResultsPerPageModifiedByPipeline=!1,s.options=O.ComponentOptions.initComponentOptions(n,t,r),y.Assert.exists(n),y.Assert.exists(s.options),s.root=n,s.setupQueryMode(),s.setupMobileFastclick(n),s.queryStateModel=new S.QueryStateModel(n),s.componentStateModel=new v.ComponentStateModel(n),s.componentOptionsModel=new g.ComponentOptionsModel(n),s.usageAnalytics=s.initializeAnalytics(),s.queryController=new d.QueryController(n,s.options,s.usageAnalytics,s),s.facetValueStateHandler=new k.FacetValueStateHandler(function(e){return s.getComponents(e)}),new m.SentryLogger(s.queryController),s.setupEventsHandlers(),s.setupHistoryManager(n,o),s.element.style.display=n.style.display||"block",s.setupDebugInfo(),s.setupResponsiveComponents(),new D.AriaLive(n),s}return r(t,e),Object.defineProperty(t.prototype,"resultsPerPage",{get:function(){return null!=this.queryPipelineConfigurationForResultsPerPage&&0!=this.queryPipelineConfigurationForResultsPerPage?this.queryPipelineConfigurationForResultsPerPage:null!=this.queryController.options.resultsPerPage&&0!=this.queryController.options.resultsPerPage?this.queryController.options.resultsPerPage:(this.logger.warn("Results per page is incoherent in the search interface.",this),10)},set:function(e){this.options.resultsPerPage=this.queryController.options.resultsPerPage=e},enumerable:!0,configurable:!0}),t.prototype.attachComponent=function(e,t){this.getComponents(e).push(t)},t.prototype.detachComponent=function(e,t){var n=this.getComponents(e),r=a.indexOf(n,t);r>-1&&n.splice(r,1)},t.prototype.getBindings=function(){return{root:this.root,queryStateModel:this.queryStateModel,queryController:this.queryController,searchInterface:this,componentStateModel:this.componentStateModel,componentOptionsModel:this.componentOptionsModel,usageAnalytics:this.usageAnalytics}},t.prototype.getQueryContext=function(){var e,t=this.queryController.getLastQuery();if(t.context)e=t.context;else{var n=this.getComponents("PipelineContext");if(n&&!a.isEmpty(n)){var r=a.chain(n).map(function(e){return e.getContext()}).reduce(function(e,t){return i({},e,t)},{}).value();a.isEmpty(r)||(e=r)}}return e},t.prototype.getComponents=function(e){return null==this.attachedComponents&&(this.attachedComponents={}),e in this.attachedComponents||(this.attachedComponents[e]=[]),this.attachedComponents[e]},t.prototype.detachComponentsInside=function(e){var t=this;a.each(this.attachedComponents,function(n,r){n.filter(function(t){return e!=t.element&&e.contains(t.element)}).forEach(function(e){return t.detachComponent(r,e)})})},t.prototype.initializeAnalytics=function(){var e=x.BaseComponent.getComponentRef("Analytics");return e?e.create(this.element,this.analyticsOptions,this.getBindings()):new A.NoopAnalyticsClient},t.prototype.setupHistoryManager=function(e,t){var n=this;return this.options.enableHistory?this.options.useLocalStorageForHistory?void(this.historyManager=new l.LocalStorageHistoryController(e,t,this.queryStateModel,this.queryController)):void(this.historyManager=new u.HistoryController(e,t,this.queryStateModel,this.queryController,this.usageAnalytics)):(this.historyManager=new c.NoopHistoryController,void w.$$(this.element).on(p.InitializationEvents.restoreHistoryState,function(){return n.queryStateModel.setMultiple(i({},n.queryStateModel.defaultAttributes))}))},t.prototype.setupQueryMode=function(){this.options.allowQueriesWithoutKeywords?this.initializeEmptyQueryAllowed():this.initializeEmptyQueryNotAllowed()},t.prototype.setupMobileFastclick=function(e){(0,o.attach)(e)},t.prototype.setupEventsHandlers=function(){var e=this,t=this.queryStateModel.getEventName(b.Model.eventTypes.preprocess);w.$$(this.element).on(t,function(t,n){return e.handlePreprocessQueryStateModel(n)}),w.$$(this.element).on(f.QueryEvents.buildingQuery,function(t,n){return e.handleBuildingQuery(n)}),w.$$(this.element).on(f.QueryEvents.querySuccess,function(t,n){return e.handleQuerySuccess(n)}),w.$$(this.element).on(f.QueryEvents.queryError,function(t,n){return e.handleQueryError(n)}),w.$$(this.element).on(p.InitializationEvents.afterComponentsInitialization,function(){return e.handleAfterComponentsInitialization()});var n=this.queryStateModel.getEventName(b.Model.eventTypes.changeOne+S.QueryStateModel.attributesEnum.debug);w.$$(this.element).on(n,function(t,n){return e.handleDebugModeChange(n)}),this.queryStateModel.registerNewAttribute(S.QueryStateModel.attributesEnum.fv,{});var r=this.queryStateModel.getEventName(b.Model.eventTypes.changeOne+S.QueryStateModel.attributesEnum.quickview);w.$$(this.element).on(r,function(t,n){return e.handleQuickviewChanged(n)})},t.prototype.setupDebugInfo=function(){var e=this;this.options.enableDebugInfo&&setTimeout(function(){return new P.Debug(e.element,e.getBindings())})},t.prototype.setupResponsiveComponents=function(){this.responsiveComponents=new L.ResponsiveComponents,this.responsiveComponents.setMediumScreenWidth(this.options.responsiveMediumBreakpoint),this.responsiveComponents.setSmallScreenWidth(this.options.responsiveSmallBreakpoint),this.responsiveComponents.setResponsiveMode(this.options.responsiveMode)},t.prototype.handleDebugModeChange=function(e){var t=this;e.value&&!this.relevanceInspector&&this.options.enableDebugInfo&&n.e(0).then(function(){var e=n(172),r=e.RelevanceInspector,i=w.$$("btn");w.$$(t.element).prepend(i.el),t.relevanceInspector=new r(i.el,t.getBindings())}.bind(null,n)).catch(null)},t.prototype.handlePreprocessQueryStateModel=function(e){var t=this.queryStateModel.get(S.QueryStateModel.attributesEnum.tg),n=this.queryStateModel.get(S.QueryStateModel.attributesEnum.t),r=t,i=n;e&&void 0!==e.tg&&(e.tg=this.getTabGroupId(e.tg),r!=e.tg&&(e.t=e.t||S.QueryStateModel.defaultAttributes.t,e.sort=e.sort||S.QueryStateModel.defaultAttributes.sort,r=e.tg)),e&&void 0!==e.t&&(e.t=this.getTabId(r,e.t),i!=e.t&&(e.sort=e.sort||S.QueryStateModel.defaultAttributes.sort,i=e.t)),e&&void 0!==e.sort&&(e.sort=this.getSort(i,e.sort)),e&&void 0!==e.quickview&&(e.quickview=this.getQuickview(e.quickview)),!e||!e.fv||this instanceof N||this.facetValueStateHandler.handleFacetValueState(e)},t.prototype.getTabGroupId=function(e){var t=x.BaseComponent.getComponentRef("TabGroup");if(t){var n=this.getComponents(t.ID);if(e!=S.QueryStateModel.defaultAttributes.tg&&a.any(n,function(t){return!t.disabled&&e==t.options.id}))return e;if(n.length>0)return n[0].options.id}return S.QueryStateModel.defaultAttributes.tg},t.prototype.getTabId=function(e,t){var n=x.BaseComponent.getComponentRef("Tab"),r=x.BaseComponent.getComponentRef("TabGroup");if(n){var i=this.getComponents(n.ID);if(r&&e!=S.QueryStateModel.defaultAttributes.tg){var o=this.getComponents(r.ID),s=a.find(o,function(t){return e==t.options.id});if(t!=S.QueryStateModel.defaultAttributes.t&&a.any(i,function(e){return t==e.options.id&&s.isElementIncludedInTabGroup(e.element)}))return t;var u=a.find(i,function(e){return s.isElementIncludedInTabGroup(e.element)});return null!=u?u.options.id:S.QueryStateModel.defaultAttributes.t}if(t!=S.QueryStateModel.defaultAttributes.t&&a.any(i,function(e){return t==e.options.id}))return t;if(i.length>0)return i[0].options.id}return S.QueryStateModel.defaultAttributes.t},t.prototype.getSort=function(e,t){var n=x.BaseComponent.getComponentRef("Sort");if(n){var r=this.getComponents(n.ID),i=x.BaseComponent.getComponentRef("Tab");if(i&&e!=S.QueryStateModel.defaultAttributes.t){var o=this.getComponents(i.ID),s=a.find(o,function(t){return e==t.options.id}),u=s.options.sort;if(t!=S.QueryStateModel.defaultAttributes.sort&&a.any(r,function(e){return s.isElementIncludedInTab(e.element)&&e.match(t)}))return t;if(null!=u)return u.toString();var l=a.find(r,function(e){return s.isElementIncludedInTab(e.element)});return null!=l?l.options.sortCriteria[0].toString():S.QueryStateModel.defaultAttributes.sort}if(t!=S.QueryStateModel.defaultAttributes.sort&&a.any(r,function(e){return e.match(t)}))return t;if(r.length>0)return r[0].options.sortCriteria[0].toString()}return S.QueryStateModel.defaultAttributes.sort},t.prototype.getQuickview=function(e){var t=x.BaseComponent.getComponentRef("Quickview");if(t){var n=this.getComponents(t.ID);if(a.any(n,function(t){return t.getHashId()==e}))return e}return S.QueryStateModel.defaultAttributes.quickview},t.prototype.handleQuickviewChanged=function(e){var t=x.BaseComponent.getComponentRef("Quickview");if(t){var n=this.getComponents(t.ID);if(""!=e.value){var r=a.partition(n,function(t){return t.getHashId()==e.value});0!=r[0].length&&(a.first(r[0]).open(),a.each(a.tail(r[0]),function(e){return e.close()})),a.each(r[1],function(e){return e.close()})}else a.each(n,function(e){e.close()})}},t.prototype.handleBuildingQuery=function(e){this.options.enableDuplicateFiltering&&(e.queryBuilder.enableDuplicateFiltering=!0),_.Utils.isNullOrUndefined(this.options.pipeline)||(e.queryBuilder.pipeline=this.options.pipeline),_.Utils.isNullOrUndefined(this.options.maximumAge)||(e.queryBuilder.maximumAge=this.options.maximumAge),_.Utils.isNullOrUndefined(this.options.resultsPerPage)||(e.queryBuilder.numberOfResults=this.options.resultsPerPage),_.Utils.isNullOrUndefined(this.options.excerptLength)||(e.queryBuilder.excerptLength=this.options.excerptLength),_.Utils.isNonEmptyString(this.options.expression)&&e.queryBuilder.constantExpression.add(this.options.expression),_.Utils.isNonEmptyString(this.options.filterField)&&(e.queryBuilder.filterField=this.options.filterField),_.Utils.isNonEmptyString(this.options.timezone)&&(e.queryBuilder.timezone=this.options.timezone),e.queryBuilder.enableCollaborativeRating=this.options.enableCollaborativeRating,e.queryBuilder.enableDuplicateFiltering=this.options.enableDuplicateFiltering,e.queryBuilder.allowQueriesWithoutKeywords=this.options.allowQueriesWithoutKeywords;var t=this.queryController.getEndpoint();null!=t&&t.options&&this.queryStateModel.get(S.QueryStateModel.attributesEnum.debug)&&(e.queryBuilder.maximumAge=0,e.queryBuilder.enableDebug=!0,e.queryBuilder.fieldsToExclude=["allmetadatavalues"],e.queryBuilder.fieldsToInclude=null)},t.prototype.handleQuerySuccess=function(e){var t=0==e.results.results.length;this.toggleSectionState("coveo-no-results",t),this.handlePossiblyModifiedNumberOfResultsInQueryPipeline(e);var n=w.$$(this.element).find(".coveo-results-header");n&&w.$$(n).removeClass("coveo-query-error")},t.prototype.handlePossiblyModifiedNumberOfResultsInQueryPipeline=function(e){if(e&&e.query&&e.results){var t=e.query.numberOfResults,n=e.results.results.length,r=e.results.totalCountFiltered-e.query.firstResult===n,i=!r&&e.results.totalCountFiltered>n;t!=n&&i?(this.isResultsPerPageModifiedByPipeline=!0,this.queryPipelineConfigurationForResultsPerPage=n):(this.isResultsPerPageModifiedByPipeline=!1,this.queryPipelineConfigurationForResultsPerPage=null)}},t.prototype.handleQueryError=function(e){this.toggleSectionState("coveo-no-results");var t=w.$$(this.element).find(".coveo-results-header");t&&w.$$(t).addClass("coveo-query-error")},t.prototype.handleAfterComponentsInitialization=function(){var e=this;a.each(this.attachedComponents,function(t){t.forEach(function(t){R.FacetColumnAutoLayoutAdjustment.isAutoLayoutAdjustable(t)&&R.FacetColumnAutoLayoutAdjustment.initializeAutoLayoutAdjustment(e.element,t)})})},t.prototype.toggleSectionState=function(e,t){var n=this;void 0===t&&(t=!0);var r=w.$$(this.element).find(".coveo-facet-column"),i=w.$$(this.element).find(".coveo-results-column"),o=w.$$(this.element).find(".coveo-results-header"),s=w.$$(this.element).findAll(".coveo-facet-search-results"),u=w.$$(this.element).find(".coveo-recommendation-main-section");r&&w.$$(r).toggleClass(e,t&&!this.queryStateModel.atLeastOneFacetIsActive()),i&&w.$$(i).toggleClass(e,t&&!this.queryStateModel.atLeastOneFacetIsActive()),o&&w.$$(o).toggleClass(e,t&&!this.queryStateModel.atLeastOneFacetIsActive()),u&&w.$$(u).toggleClass(e,t),s&&s.length>0&&a.each(s,function(r){w.$$(r).toggleClass(e,t&&!n.queryStateModel.atLeastOneFacetIsActive())})},t.prototype.initializeEmptyQueryAllowed=function(){new M.InitializationPlaceholder(this.element).withFullInitializationStyling().withAllPlaceholders()},t.prototype.initializeEmptyQueryNotAllowed=function(){var e=this,t=new M.InitializationPlaceholder(this.element).withEventToRemovePlaceholder(f.QueryEvents.newQuery).withFullInitializationStyling().withHiddenRootElement().withPlaceholderForFacets().withPlaceholderForResultList();w.$$(this.root).on(p.InitializationEvents.restoreHistoryState,function(){t.withVisibleRootElement(),""==e.queryStateModel.get("q")&&t.withWaitingForFirstQueryMode()}),w.$$(this.element).on(f.QueryEvents.doneBuildingQuery,function(t,n){if(!n.queryBuilder.containsEndUserKeywords()){var r=e.queryController.getLastQuery().q;_.Utils.isNonEmptyString(r)?(e.queryStateModel.set(S.QUERY_STATE_ATTRIBUTES.Q,r),n.queryBuilder.expression.add(r)):(e.logger.info("Query cancelled by the Search Interface","Configuration does not allow empty query",e,e.options),n.cancel=!0,e.queryStateModel.reset(),new M.InitializationPlaceholder(e.element).withEventToRemovePlaceholder(f.QueryEvents.newQuery).withFullInitializationStyling().withVisibleRootElement().withPlaceholderForFacets().withPlaceholderForResultList().withWaitingForFirstQueryMode())}})},t.ID="SearchInterface",t.options={enableHistory:O.ComponentOptions.buildBooleanOption({defaultValue:!1}),enableAutomaticResponsiveMode:O.ComponentOptions.buildBooleanOption({defaultValue:!0}),useLocalStorageForHistory:O.ComponentOptions.buildBooleanOption({defaultValue:!1}),resultsPerPage:O.ComponentOptions.buildNumberOption({defaultValue:10,min:0}),excerptLength:O.ComponentOptions.buildNumberOption({defaultValue:200,min:0}),expression:O.ComponentOptions.buildQueryExpressionOption({defaultValue:""}),filterField:O.ComponentOptions.buildFieldOption({defaultValue:""}),hideUntilFirstQuery:O.ComponentOptions.buildBooleanOption({deprecated:"Exposed for legacy reasons. The loading animation is now composed of placeholders, and this option is obsolete."}),firstLoadingAnimation:O.ComponentOptions.buildChildHtmlElementOption({deprecated:"Exposed for legacy reasons. The loading animation is now composed of placeholder, and this options is obsolete."}),autoTriggerQuery:O.ComponentOptions.buildBooleanOption({defaultValue:!0}),allowQueriesWithoutKeywords:O.ComponentOptions.buildBooleanOption({defaultValue:!0}),endpoint:O.ComponentOptions.buildCustomOption(function(e){return null!=e&&e in E.SearchEndpoint.endpoints?E.SearchEndpoint.endpoints[e]:null},{defaultFunction:function(){return E.SearchEndpoint.endpoints.default}}),timezone:O.ComponentOptions.buildStringOption({defaultFunction:function(){return s.determine().name()}}),enableDebugInfo:O.ComponentOptions.buildBooleanOption({defaultValue:!0}),enableCollaborativeRating:O.ComponentOptions.buildBooleanOption({defaultValue:!1}),enableDuplicateFiltering:O.ComponentOptions.buildBooleanOption({defaultValue:!1}),pipeline:O.ComponentOptions.buildStringOption(),maximumAge:O.ComponentOptions.buildNumberOption(),searchPageUri:O.ComponentOptions.buildStringOption(),responsiveMediumBreakpoint:O.ComponentOptions.buildNumberOption({defaultValue:L.MEDIUM_SCREEN_WIDTH,depend:"enableAutomaticResponsiveMode"}),responsiveSmallBreakpoint:O.ComponentOptions.buildNumberOption({defaultValue:L.SMALL_SCREEN_WIDTH,depend:"enableAutomaticResponsiveMode"}),responsiveMode:O.ComponentOptions.buildCustomOption(function(e){return"auto"===e||"small"===e||"medium"===e||"large"===e?e:(console.warn(e+" is not a proper value for responsiveMode, auto has been used instead."),"auto")},{defaultValue:"auto"})},t.SMALL_INTERFACE_CLASS_NAME="coveo-small-search-interface",t}(I.RootComponent);t.SearchInterface=z;var N=function(e){function t(n,r,i,o){void 0===o&&(o=window);var s=e.call(this,n,O.ComponentOptions.initComponentOptions(n,t,r),i,o)||this;return s.element=n,s.options=r,s.analyticsOptions=i,s._window=o,w.$$(s.root).on(f.QueryEvents.newQuery,function(e,t){return s.handleRedirect(e,t)}),s}return r(t,e),t.prototype.handleRedirect=function(e,t){if(!1!==t.shouldRedirectStandaloneSearchbox){var n={searchPageUri:this.options.searchPageUri,cancel:!1};w.$$(this.root).trigger(h.StandaloneSearchInterfaceEvents.beforeRedirect,n),n.cancel||(t.cancel=!0,this.searchboxIsEmpty()&&!this.options.redirectIfEmpty||this.redirectToSearchPage(n.searchPageUri))}},t.prototype.redirectToSearchPage=function(e){var t=this,n=this.queryStateModel.getAttributes(),r=this.usageAnalytics.getCurrentEventCause();null!=r&&(r==T.analyticsActionCauseList.searchboxSubmit.name&&(r=T.analyticsActionCauseList.searchFromLink.name),n.firstQueryCause=r);var i=this.usageAnalytics.getCurrentEventMeta();null==i||a.isEmpty(i)||(n.firstQueryMeta=i);var o=document.createElement("a");o.href=e,o.href=o.href;var s=0==o.pathname.indexOf("/")?o.pathname:"/"+o.pathname,u=o.hash?o.hash+"&":"#";setTimeout(function(){t._window.location.href=o.protocol+"//"+o.host+s+o.search+u+C.HashUtils.encodeValues(n)},0)},t.prototype.searchboxIsEmpty=function(){return _.Utils.isEmptyString(this.queryStateModel.get(S.QueryStateModel.attributesEnum.q))},t.ID="StandaloneSearchInterface",t.options={redirectIfEmpty:O.ComponentOptions.buildBooleanOption({defaultValue:!0})},t}(z);t.StandaloneSearchInterface=N},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),i=n(1),o=n(296),s=n(0),a=function(){function e(){}return e.javascriptEncode=function(e){return r.Assert.isString(e),e=e.replace(/\\/g,"\\\\"),e=e.replace(/'/g,"\\'"),e=e.replace(/"/g,'\\"')},e.htmlEncode=function(e){r.Assert.isString(e);var t=i.$$("div");return t.text(e),t.el.innerHTML},e.splice=function(e,t,n,r){return e.slice(0,t)+r+e.slice(t+Math.abs(n))},e.removeMiddle=function(t,n,r){if(t.length<n)return t;var i=t.length-n,o=Math.floor(n/2);return e.splice(t,o,i,r)},e.regexEncode=function(e){return r.Assert.isString(e),e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},e.stringToRegex=function(t,n){void 0===n&&(n=!1),r.Assert.isString(t);var i=e.regexEncode(t);return n?s.map(i,function(t){var n=s.find(e.accented,function(e){return null!=t.match(e)});return n?n.source:t}).join(""):i},e.wildcardsToRegex=function(t,n){void 0===n&&(n=!1),r.Assert.isString(t);var i=e.stringToRegex(t,n);return i=i.replace(/\\\*/,".*"),i=i.replace(/\\\?/,".")},e.getHighlights=function(e,t,n){for(var r,i=[];r=t.exec(e);){var o=r[2],a=r[1],u=r.index+a.length;if(i.push({offset:u,length:o.length,dataHighlightGroupTerm:n}),!t.global)break}return s.isEmpty(i)?void 0:i},e.encodeCarriageReturn=function(e){return r.Assert.isString(e),e.replace(/\n/g,"<br/>")},e.equalsCaseInsensitive=function(e,t){return e.toLowerCase()==t.toLowerCase()},e.match=function(e,t){for(var n,r=[];null!==(n=t.exec(e));)r.push(n);return r},e.hashCode=function(e){for(var t=0,n=e.length,r=0;r<n;r++){t=(t<<5)-t+e.charCodeAt(r),t&=t}return t.toString(16)},e.latinize=function(e){return o(e)},e.capitalizeFirstLetter=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},e.accented={A:/[Aa\xaa\xc0-\xc5\xe0-\xe5\u0100-\u0105\u01cd\u01ce\u0200-\u0203\u0226\u0227\u1d2c\u1d43\u1e00\u1e01\u1e9a\u1ea0-\u1ea3\u2090\u2100\u2101\u213b\u249c\u24b6\u24d0\u3371-\u3374\u3380-\u3384\u3388\u3389\u33a9-\u33af\u33c2\u33ca\u33df\u33ff\uff21\uff41]/g,B:/[Bb\u1d2e\u1d47\u1e02-\u1e07\u212c\u249d\u24b7\u24d1\u3374\u3385-\u3387\u33c3\u33c8\u33d4\u33dd\uff22\uff42]/g,C:/[Cc\xc7\xe7\u0106-\u010d\u1d9c\u2100\u2102\u2103\u2105\u2106\u212d\u216d\u217d\u249e\u24b8\u24d2\u3376\u3388\u3389\u339d\u33a0\u33a4\u33c4-\u33c7\uff23\uff43]/g,D:/[Dd\u010e\u010f\u01c4-\u01c6\u01f1-\u01f3\u1d30\u1d48\u1e0a-\u1e13\u2145\u2146\u216e\u217e\u249f\u24b9\u24d3\u32cf\u3372\u3377-\u3379\u3397\u33ad-\u33af\u33c5\u33c8\uff24\uff44]/g,E:/[Ee\xc8-\xcb\xe8-\xeb\u0112-\u011b\u0204-\u0207\u0228\u0229\u1d31\u1d49\u1e18-\u1e1b\u1eb8-\u1ebd\u2091\u2121\u212f\u2130\u2147\u24a0\u24ba\u24d4\u3250\u32cd\u32ce\uff25\uff45]/g,F:/[Ff\u1da0\u1e1e\u1e1f\u2109\u2131\u213b\u24a1\u24bb\u24d5\u338a-\u338c\u3399\ufb00-\ufb04\uff26\uff46]/g,G:/[Gg\u011c-\u0123\u01e6\u01e7\u01f4\u01f5\u1d33\u1d4d\u1e20\u1e21\u210a\u24a2\u24bc\u24d6\u32cc\u32cd\u3387\u338d-\u338f\u3393\u33ac\u33c6\u33c9\u33d2\u33ff\uff27\uff47]/g,H:/[Hh\u0124\u0125\u021e\u021f\u02b0\u1d34\u1e22-\u1e2b\u1e96\u210b-\u210e\u24a3\u24bd\u24d7\u32cc\u3371\u3390-\u3394\u33ca\u33cb\u33d7\uff28\uff48]/g,I:/[Ii\xcc-\xcf\xec-\xef\u0128-\u0130\u0132\u0133\u01cf\u01d0\u0208-\u020b\u1d35\u1d62\u1e2c\u1e2d\u1ec8-\u1ecb\u2071\u2110\u2111\u2139\u2148\u2160-\u2163\u2165-\u2168\u216a\u216b\u2170-\u2173\u2175-\u2178\u217a\u217b\u24a4\u24be\u24d8\u337a\u33cc\u33d5\ufb01\ufb03\uff29\uff49]/g,J:/[Jj\u0132-\u0135\u01c7-\u01cc\u01f0\u02b2\u1d36\u2149\u24a5\u24bf\u24d9\u2c7c\uff2a\uff4a]/g,K:/[Kk\u0136\u0137\u01e8\u01e9\u1d37\u1d4f\u1e30-\u1e35\u212a\u24a6\u24c0\u24da\u3384\u3385\u3389\u338f\u3391\u3398\u339e\u33a2\u33a6\u33aa\u33b8\u33be\u33c0\u33c6\u33cd-\u33cf\uff2b\uff4b]/g,L:/[Ll\u0139-\u0140\u01c7-\u01c9\u02e1\u1d38\u1e36\u1e37\u1e3a-\u1e3d\u2112\u2113\u2121\u216c\u217c\u24a7\u24c1\u24db\u32cf\u3388\u3389\u33d0-\u33d3\u33d5\u33d6\u33ff\ufb02\ufb04\uff2c\uff4c]/g,M:/[Mm\u1d39\u1d50\u1e3e-\u1e43\u2120\u2122\u2133\u216f\u217f\u24a8\u24c2\u24dc\u3377-\u3379\u3383\u3386\u338e\u3392\u3396\u3399-\u33a8\u33ab\u33b3\u33b7\u33b9\u33bd\u33bf\u33c1\u33c2\u33ce\u33d0\u33d4-\u33d6\u33d8\u33d9\u33de\u33df\uff2d\uff4d]/g,N:/[Nn\xd1\xf1\u0143-\u0149\u01ca-\u01cc\u01f8\u01f9\u1d3a\u1e44-\u1e4b\u207f\u2115\u2116\u24a9\u24c3\u24dd\u3381\u338b\u339a\u33b1\u33b5\u33bb\u33cc\u33d1\uff2e\uff4e]/g,O:/[Oo\xba\xd2-\xd6\xf2-\xf6\u014c-\u0151\u01a0\u01a1\u01d1\u01d2\u01ea\u01eb\u020c-\u020f\u022e\u022f\u1d3c\u1d52\u1ecc-\u1ecf\u2092\u2105\u2116\u2134\u24aa\u24c4\u24de\u3375\u33c7\u33d2\u33d6\uff2f\uff4f]/g,P:/[Pp\u1d3e\u1d56\u1e54-\u1e57\u2119\u24ab\u24c5\u24df\u3250\u3371\u3376\u3380\u338a\u33a9-\u33ac\u33b0\u33b4\u33ba\u33cb\u33d7-\u33da\uff30\uff50]/g,Q:/[Qq\u211a\u24ac\u24c6\u24e0\u33c3\uff31\uff51]/g,R:/[Rr\u0154-\u0159\u0210-\u0213\u02b3\u1d3f\u1d63\u1e58-\u1e5b\u1e5e\u1e5f\u20a8\u211b-\u211d\u24ad\u24c7\u24e1\u32cd\u3374\u33ad-\u33af\u33da\u33db\uff32\uff52]/g,S:/[Ss\u015a-\u0161\u017f\u0218\u0219\u02e2\u1e60-\u1e63\u20a8\u2101\u2120\u24ae\u24c8\u24e2\u33a7\u33a8\u33ae-\u33b3\u33db\u33dc\ufb06\uff33\uff53]/g,T:/[Tt\u0162-\u0165\u021a\u021b\u1d40\u1d57\u1e6a-\u1e71\u1e97\u2121\u2122\u24af\u24c9\u24e3\u3250\u32cf\u3394\u33cf\ufb05\ufb06\uff34\uff54]/g,U:/[Uu\xd9-\xdc\xf9-\xfc\u0168-\u0173\u01af\u01b0\u01d3\u01d4\u0214-\u0217\u1d41\u1d58\u1d64\u1e72-\u1e77\u1ee4-\u1ee7\u2106\u24b0\u24ca\u24e4\u3373\u337a\uff35\uff55]/g,V:/[Vv\u1d5b\u1d65\u1e7c-\u1e7f\u2163-\u2167\u2173-\u2177\u24b1\u24cb\u24e5\u2c7d\u32ce\u3375\u33b4-\u33b9\u33dc\u33de\uff36\uff56]/g,W:/[Ww\u0174\u0175\u02b7\u1d42\u1e80-\u1e89\u1e98\u24b2\u24cc\u24e6\u33ba-\u33bf\u33dd\uff37\uff57]/g,X:/[Xx\u02e3\u1e8a-\u1e8d\u2093\u213b\u2168-\u216b\u2178-\u217b\u24b3\u24cd\u24e7\u33d3\uff38\uff58]/g,Y:/[Yy\xdd\xfd\xff\u0176-\u0178\u0232\u0233\u02b8\u1e8e\u1e8f\u1e99\u1ef2-\u1ef9\u24b4\u24ce\u24e8\u33c9\uff39\uff59]/g,Z:/[Zz\u0179-\u017e\u01f1-\u01f3\u1dbb\u1e90-\u1e95\u2124\u2128\u24b5\u24cf\u24e9\u3390-\u3394\uff3a\uff5a]/g},e}();t.StringUtils=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),i=n(4),o=n(0),s=function(){function e(){}return e.createGuid=function(){var t,n=!1;if("undefined"!=typeof crypto&&void 0!==crypto.getRandomValues)try{t=e.generateWithCrypto(),n=!0}catch(e){n=!1}return n||(t=e.generateWithRandom()),t},e.generateWithRandom=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})},e.generateWithCrypto=function(){var e=new Uint16Array(8);crypto.getRandomValues(e);var t=function(e){for(var t=e.toString(16);t.length<4;)t="0"+t;return t};return t(e[0])+t(e[1])+"-"+t(e[2])+"-"+t(e[3])+"-"+t(e[4])+"-"+t(e[5])+t(e[6])+t(e[7])},e.setStateObjectOnQueryResults=function(t,n){e.setPropertyOnResults(n,"state",t)},e.setStateObjectOnQueryResult=function(t,n){e.setPropertyOnResult(n,"state",t)},e.setSearchInterfaceObjectOnQueryResult=function(t,n){e.setPropertyOnResult(n,"searchInterface",t)},e.setIndexAndUidOnQueryResults=function(t,n,i,o,s){r.Assert.exists(t),r.Assert.exists(n);var a=t.firstResult;e.setPropertyOnResults(n,"queryUid",i),e.setPropertyOnResults(n,"pipeline",o),e.setPropertyOnResults(n,"splitTestRun",s),e.setPropertyOnResults(n,"index",a,function(){return++a})},e.setTermsToHighlightOnQueryResults=function(t,n){e.setPropertyOnResults(n,"termsToHighlight",n.termsToHighlight),e.setPropertyOnResults(n,"phrasesToHighlight",n.phrasesToHighlight)},e.splitFlags=function(e,t){return void 0===t&&(t=";"),r.Assert.exists(e),e.split(t)},e.isAttachment=function(t){return o.contains(e.splitFlags(t.flags),"IsAttachment")},e.containsAttachment=function(t){return o.contains(e.splitFlags(t.flags),"ContainsAttachment")},e.hasHTMLVersion=function(t){return o.contains(e.splitFlags(t.flags),"HasHtmlVersion")},e.hasThumbnail=function(t){return o.contains(e.splitFlags(t.flags),"HasThumbnail")},e.hasExcerpt=function(e){return void 0!=e.excerpt&&""!=e.excerpt},e.getAuthor=function(e){return e.raw.author},e.getUriHash=function(e){return e.raw.urihash},e.getObjectType=function(e){return e.raw.objecttype},e.getCollection=function(e){return e.raw.collection||"default"},e.getSource=function(e){return e.raw.source},e.getLanguage=function(e){return e.raw.language},e.getPermanentId=function(e){var t,n,r=i.Utils.getFieldValue(e,"permanentid");return r?(n="permanentid",t=r):(n="urihash",t=i.Utils.getFieldValue(e,"urihash")),{fieldValue:t,fieldUsed:n}},e.quoteAndEscapeIfNeeded=function(t){return r.Assert.isString(t),e.isAtomicString(t)||e.isRangeString(t)||e.isRangeWithoutOuterBoundsString(t)?t:e.quoteAndEscape(t)},e.quoteAndEscape=function(t){return r.Assert.isString(t),'"'+e.escapeString(t)+'"'},e.escapeString=function(e){return r.Assert.isString(e),e.replace(/"/g," ")},e.isAtomicString=function(e){return r.Assert.isString(e),/^\d+(\.\d+)?$|^[\d\w]+$/.test(e)},e.isRangeString=function(e){return r.Assert.isString(e),/^\d+(\.\d+)?\.\.\d+(\.\d+)?$|^\d{4}\/\d{2}\/\d{2}@\d{2}:\d{2}:\d{2}\.\.\d{4}\/\d{2}\/\d{2}@\d{2}:\d{2}:\d{2}$/.test(e)},e.isRangeWithoutOuterBoundsString=function(e){return r.Assert.isString(e),/^\d+(\.\d+)?$|^\d{4}\/\d{2}\/\d{2}@\d{2}:\d{2}:\d{2}$/.test(e)},e.buildFieldExpression=function(t,n,i){return r.Assert.isNonEmptyString(t),r.Assert.stringStartsWith(t,"@"),r.Assert.isNonEmptyString(n),r.Assert.isLargerOrEqualsThan(1,i.length),1==i.length?t+n+e.quoteAndEscapeIfNeeded(i[0]):t+n+"("+o.map(i,function(t){return e.quoteAndEscapeIfNeeded(t)}).join(",")+")"},e.buildFieldNotEqualExpression=function(t,n){r.Assert.isNonEmptyString(t),r.Assert.stringStartsWith(t,"@"),r.Assert.isLargerOrEqualsThan(1,n.length);return"(NOT "+(1==n.length?t+"=="+e.quoteAndEscapeIfNeeded(n[0]):t+"==("+o.map(n,function(t){return e.quoteAndEscapeIfNeeded(t)}).join(",")+")")+")"},e.setPropertyOnResults=function(t,n,r,i){o.each(t.results,function(t){e.setPropertyOnResult(t,n,r),r=i?i():r})},e.setPropertyOnResult=function(e,t,n){e[t]=n,o.each(e.childResults,function(e){e[t]=n}),i.Utils.isNullOrUndefined(e.parentResult)||(e.parentResult[t]=n)},e.isStratusAgnosticField=function(e,t){var n=/^(@?)(sys)?(.*)/i,r=n.exec(e),i=n.exec(t);return!(!r||!i)&&(r[1]+r[3]).toLowerCase()==(i[1]+i[3]).toLowerCase()},e}();t.QueryUtils=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(11),i=n(1),o=n(119),s=n(297),a=n(43),u=n(0),l=n(2),c=n(4),d=function(){function e(){this.currentLayout=null,this.checkCondition=!0,this.wrapInDiv=!0,this.responsiveComponents=new a.ResponsiveComponents}return e.prototype.get=function(){return{currentLayout:this.currentLayout,checkCondition:this.checkCondition,wrapInDiv:this.wrapInDiv,responsiveComponents:this.responsiveComponents}},e.prototype.merge=function(e){return e?u.extend(this.get(),e):this.get()},e}();t.DefaultInstantiateTemplateOptions=d;var p=function(){function e(e){this.dataToString=e,this.logger=new r.Logger(this),this.fields=[]}return e.prototype.instantiateToString=function(e,t){if(void 0===t&&(t=new d),this.dataToString){if(!1===t.checkCondition)return this.dataToString(e);if(null==t.responsiveComponents&&(t.responsiveComponents=new a.ResponsiveComponents),!0===this.mobile&&!t.responsiveComponents.isSmallScreenWidth())return this.logger.trace("Template was skipped because it is optimized for small screen width",this),null;if(!1===this.mobile&&t.responsiveComponents.isSmallScreenWidth())return this.logger.trace("Template was skipped because it is not optimized for small screen width",this),null;if(!0===this.tablet&&!t.responsiveComponents.isMediumScreenWidth())return this.logger.trace("Template was skipped because it is optimized for medium screen width",this),null;if(!1===this.tablet&&t.responsiveComponents.isMediumScreenWidth())return this.logger.trace("Template was skipped because it is not optimized for medium screen width",this),null;if(!0===this.desktop&&!t.responsiveComponents.isLargeScreenWidth())return this.logger.trace("Template was skipped because it is optimized for large screen width",this),null;if(!1===this.desktop&&t.responsiveComponents.isLargeScreenWidth())return this.logger.trace("Template was skipped because it is not optimized for large screen width",this),null;if(null!=this.layout&&null!=t.currentLayout&&t.currentLayout!==this.layout)return this.logger.trace("Template was skipped because layout does not match",this,this.layout),null;try{if(this.logger.trace("Evaluating template ..."),null!=this.condition&&this.condition(e))return this.logger.trace("Template was loaded because condition was :",this.condition,e),this.dataToString(e);if(null!=this.conditionToParse&&o.TemplateConditionEvaluator.evaluateCondition(this.conditionToParse,e,t.responsiveComponents))return this.logger.trace("Template was loaded because condition was :",this.conditionToParse,e),this.dataToString(e);if(null!=this.fieldsToMatch&&s.TemplateFieldsEvaluator.evaluateFieldsToMatch(this.fieldsToMatch,e))return this.logger.trace("Template was loaded because condition was :",this.fieldsToMatch,e),this.dataToString(e);if(null==this.condition&&null==this.conditionToParse&&null==this.fieldsToMatch)return this.logger.trace("Template was loaded because there was *NO* condition",this.condition,e),this.dataToString(e)}catch(e){return new r.Logger(this).error("Cannot instantiate template",e.message,this.getTemplateInfo()),new r.Logger(this).warn("A default template was used"),null}}return this.logger.trace("Template was skipped because it did not match any condition",this),null},e.prototype.addField=function(e){u.contains(this.fields,e)||this.fields.push(e)},e.prototype.addFields=function(e){c.Utils.isNonEmptyArray(e)&&(this.fields=c.Utils.concatWithoutDuplicate(this.fields,e))},e.prototype.getComponentsInside=function(e){var t=u.map(l.Initialization.getListOfRegisteredComponents(),function(t){return new RegExp("Coveo"+t,"g").exec(e)?t:null});return u.compact(t)},e.prototype.instantiateToElement=function(e,t){var n=this;void 0===t&&(t={});var r=(new d).merge(t),i=this.instantiateToString(e,r);return null==i?null:this.ensureComponentsInHtmlStringHaveLoaded(i).then(function(){var t=n.buildTemplate(i,r);return n.logger.trace("Instantiated result template",e,t),t})},e.prototype.toHtmlElement=function(){return null},e.prototype.getFields=function(){return this.fields},e.prototype.getType=function(){return"Template"},e.prototype.setConditionWithFallback=function(e){try{this.condition=new Function("obj","with(obj||{}){return "+e+"}")}catch(t){this.conditionToParse=e}},e.prototype.getTemplateInfo=function(){return void 0!=this.conditionToParse?this.conditionToParse:void 0!=this.condition?this.condition:this.fieldsToMatch},e.prototype.ensureComponentsInHtmlStringHaveLoaded=function(e){var t=this.getComponentsInside(e).map(function(e){return l.LazyInitialization.getLazyRegisteredComponent(e)});return Promise.all(t)},e.prototype.buildTemplate=function(e,t){var n=this.layout||t.currentLayout,r="table"===n?"tr":"div",o=i.$$(r,{},e).el;return t.wrapInDiv||1!==o.children.length||(o=o.children.item(0)),n&&i.$$(o).addClass("coveo-"+n+"-layout"),o.template=this,o},e}();t.Template=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(43),i=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),o=function(){function e(){}return e.getDeviceName=function(e){return void 0===e&&(e=navigator.userAgent),e.match(/Edge/i)?"Edge":e.match(/Opera Mini/i)?"Opera Mini":e.match(/Android/i)?"Android":e.match(/BlackBerry/i)?"BlackBerry":e.match(/iPhone/i)?"iPhone":e.match(/iPad/i)?"iPad":e.match(/iPod/i)?"iPod":e.match(/Chrome/i)?"Chrome":e.match(/MSIE/i)||e.match(/Trident/i)?"IE":e.match(/Opera/i)?"Opera":e.match(/Firefox/i)?"Firefox":e.match(/Safari/i)?"Safari":"Others"},e.isAndroid=function(){return"Android"==e.getDeviceName()},e.isIos=function(){var t=e.getDeviceName();return"iPhone"==t||"iPad"==t||"iPod"==t},e.isMobileDevice=function(){return i},e.isSmallScreenWidth=function(){return(new r.ResponsiveComponents).isSmallScreenWidth()},e}();t.DeviceUtils=o},function(e,t,n){(function(t){e.exports=t.Globalize=n(248)}).call(t,n(63))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ModalBox=n(246),t.LocaleString=n(247)},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(15),o=n(0);t.COMPONENT_OPTIONS_ATTRIBUTES={RESULT_LINK:"resultLink",SEARCH_HUB:"searchHub",SEARCH_BOX:"searchBox"};var s=function(e){function t(n,r){var i=o.extend({},t.defaultAttributes,r);return e.call(this,n,t.ID,i)||this}return r(t,e),t.ID="ComponentOptions",t.defaultAttributes={resultLink:void 0,searchHub:void 0,searchBox:void 0},t.attributesEnum={resultLink:"resultLink",searchHub:"searchHub",searchBox:"searchBox"},t}(i.Model);t.ComponentOptionsModel=s},function(e,t,n){"use strict";function r(e,t){return void 0===t&&(t={}),w.Initialization.initializeFramework(e,t,function(){return w.Initialization.initSearchInterface(e,t)})}function i(e,t,n){void 0===n&&(n={}),C.Assert.isNonEmptyString(t);var r={};return r.searchPageUri=t,r.autoTriggerQuery=!1,r.enableHistory=!1,n=M.extend({},n,{StandaloneSearchInterface:r}),w.Initialization.initializeFramework(e,n,function(){return w.Initialization.initStandaloneSearchInterface(e,n)})}function o(e,t,n,r){void 0===r&&(r={});var i={};return i.mainSearchInterface=t,i.userContext=n,i.enableHistory=!1,r=M.extend({},r,{Recommendation:i}),null!=window.Coveo.Recommendation&&(w.LazyInitialization.registerLazyComponent("Recommendation",function(){return Promise.resolve(window.Coveo.Recommendation)}),w.EagerInitialization.eagerlyLoadedComponents.Recommendation=window.Coveo.Recommendation),w.LazyInitialization.getLazyRegisteredComponent("Recommendation").then(function(){return w.Initialization.initializeFramework(e,r,function(){return w.Initialization.initRecommendationInterface(e,r)})})}function s(e){C.Assert.exists(e);var t=O.Component.resolveBinding(e,_.QueryController);return C.Assert.exists(t),t.executeQuery()}function a(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];C.Assert.exists(e);var r=O.Component.resolveBinding(e,T.QueryStateModel);return T.setState(r,t)}function u(e,t,n){return C.Assert.exists(e),O.Component.get(e,t,n)}function l(e,t){return C.Assert.exists(e),O.Component.getResult(e,t)}function c(e){var t=d(e);return t?t.client:void 0}function d(e){var t=x.$$(e).find("."+O.Component.computeCssClassNameForType("Analytics"));return t?O.Component.get(t):void 0}function p(e,t,n){var r=c(e);r&&r.logCustomEvent(t,n,e)}function f(e,t,n){var r=c(e);r&&r.logSearchEvent(t,n)}function h(e,t,n){var r=c(e);r&&r.logSearchAsYouType(t,n)}function y(e,t,n,r){var i=c(e);i&&i.logClickEvent(t,n,r,e)}function m(e,t){void 0===t&&(t={}),w.Initialization.registerDefaultOptions(e,t)}function g(e,t,n){w.Initialization.monkeyPatchComponentMethod(t,e,n)}function v(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r,i,o={};0==t.length?(r="Standard",i=!1):1==t.length?"string"==typeof t[0]?(r=t[0],i=!0):"object"==typeof t[0]?(r="Standard",i=!1,o=t[0]):C.Assert.fail("Invalid parameters to init a box"):2==t.length&&(r=t[0],o=t[1],i=!0);var s={};s[r||"Container"]=M.extend({},o.SearchInterface,o[r]),o=M.extend({},o,s),w.Initialization.initializeFramework(e,o,function(){return w.Initialization.initBoxInterface(e,o,r,i)})}function b(e){x.$$(e).trigger(A.InitializationEvents.nuke)}function S(e){I.PublicPathUtils.configureResourceRoot(e)}function E(e){return null!=w.LazyInitialization.lazyLoadedComponents[e]?w.LazyInitialization.getLazyRegisteredComponent(e):null!=w.LazyInitialization.lazyLoadedModule[e]?w.LazyInitialization.getLazyRegisteredModule(e):Promise.reject("Module "+e+" is not available")}Object.defineProperty(t,"__esModule",{value:!0});var w=n(2),C=n(5),_=n(34),T=n(12),A=n(16),x=n(1),O=n(6),M=n(0),I=n(122);t.init=r,w.Initialization.registerNamedMethod("init",function(e,t){return void 0===t&&(t={}),r(e,t)}),t.initSearchbox=i,w.Initialization.registerNamedMethod("initSearchbox",function(e,t,n){void 0===n&&(n={}),i(e,t,n)}),t.initRecommendation=o,w.Initialization.registerNamedMethod("initRecommendation",function(e,t,n,r){void 0===n&&(n={}),void 0===r&&(r={}),o(e,t,n,r)}),t.executeQuery=s,w.Initialization.registerNamedMethod("executeQuery",function(e){return s(e)}),t.state=a,w.Initialization.registerNamedMethod("state",function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return 0!=t.length?a.apply(void 0,[e].concat(t)):a.apply(void 0,[e])}),t.get=u,w.Initialization.registerNamedMethod("get",function(e,t,n){return u(e,t,n)}),t.result=l,w.Initialization.registerNamedMethod("result",function(e,t){return l(e,t)}),t.logCustomEvent=p,w.Initialization.registerNamedMethod("logCustomEvent",function(e,t,n){p(e,t,n)}),t.logSearchEvent=f,w.Initialization.registerNamedMethod("logSearchEvent",function(e,t,n){f(e,t,n)}),t.logSearchAsYouTypeEvent=h,w.Initialization.registerNamedMethod("logSearchAsYouTypeEvent",function(e,t,n){h(e,t,n)}),t.logClickEvent=y,w.Initialization.registerNamedMethod("logClickEvent",function(e,t,n,r){y(e,t,n,r)}),t.options=m,w.Initialization.registerNamedMethod("options",function(e,t){void 0===t&&(t={}),m(e,t)}),t.patch=g,w.Initialization.registerNamedMethod("patch",function(e,t,n){g(e,t,n)}),t.initBox=v,w.Initialization.registerNamedMethod("initBox",function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];v(e,t)}),t.nuke=b,w.Initialization.registerNamedMethod("nuke",function(e){b(e)}),t.configureResourceRoot=S,w.Initialization.registerNamedMethod("configureResourceRoot",function(e){S(e)}),t.load=E,w.Initialization.registerNamedMethod("require",function(e){return E(e)})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),i=n(1),o=n(11),s=function(){function e(t,n){this.element=t,this.type=n,this.disabled=!1,r.Assert.exists(t),r.Assert.isNonEmptyString(n),this.logger=new o.Logger(this),e.bindComponentToElement(t,this)}return e.prototype.debugInfo=function(){var e={};return e[this.constructor.ID]=this,e},e.prototype.disable=function(){this.disabled=!0},e.prototype.enable=function(){this.disabled=!1},e.bindComponentToElement=function(t,n){r.Assert.exists(t),r.Assert.exists(n),r.Assert.isNonEmptyString(n.type),t[e.computeCssClassNameForType(n.type)]=n,i.$$(t).addClass(e.computeCssClassNameForType(n.type)),e.getBoundComponentsForElement(t).push(n)},e.computeCssClassName=function(t){return e.computeCssClassNameForType(t.ID)},e.computeCssClassNameForType=function(e){return r.Assert.isNonEmptyString(e),"Coveo"+e},e.computeSelectorForType=function(t){return r.Assert.isNonEmptyString(t),"."+e.computeCssClassNameForType(t)},e.getBoundComponentsForElement=function(e){return r.Assert.exists(e),null==e.CoveoBoundComponents&&(e.CoveoBoundComponents=[]),e.CoveoBoundComponents},e.getComponentRef=function(e){return Coveo[e]},e}();t.BaseComponent=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=function(){function e(){}return e.defer=function(t){e.functions.push(t),e.arm()},e.flush=function(){for(;e.popOne(););},e.arm=function(){r.defer(function(){e.popOne()&&e.arm()})},e.popOne=function(){if(e.functions.length>0){var t=e.functions[0];return e.functions=r.rest(e.functions),t(),e.functions.length>0}return!1},e.functions=[],e}();t.Defer=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(4),o=n(0);!function(e){e[e.BACKSPACE=8]="BACKSPACE",e[e.TAB=9]="TAB",e[e.ENTER=13]="ENTER",e[e.SHIFT=16]="SHIFT",e[e.CTRL=17]="CTRL",e[e.ALT=18]="ALT",e[e.ESCAPE=27]="ESCAPE",e[e.SPACEBAR=32]="SPACEBAR",e[e.PAGE_UP=33]="PAGE_UP",e[e.PAGE_DOWN=34]="PAGE_DOWN",e[e.HOME=36]="HOME",e[e.LEFT_ARROW=37]="LEFT_ARROW",e[e.UP_ARROW=38]="UP_ARROW",e[e.RIGHT_ARROW=39]="RIGHT_ARROW",e[e.DOWN_ARROW=40]="DOWN_ARROW",e[e.INSERT=45]="INSERT",e[e.DELETE=46]="DELETE"}(r=t.KEYBOARD||(t.KEYBOARD={}));var s=function(){function e(){}return e.keysEqual=function(e,t){return i.Utils.isNullOrUndefined(e.keyCode)?!i.Utils.isNullOrUndefined(e.which)&&e.which==t:e.keyCode==t},e.isAllowedKeyForOmnibox=function(t){var n=t.keyCode;return e.isNumberKeyPushed(n)||32==n||13==n||e.isLetterKeyPushed(n)||n>95&&n<112||n>185&&n<193||n>218&&n<223||n==r.BACKSPACE||n==r.DELETE||e.isArrowKeyPushed(n)},e.isAllowedKeyForSearchAsYouType=function(t){return e.isAllowedKeyForOmnibox(t)&&!e.isArrowKeyPushed(t.keyCode)},e.isDeleteOrBackspace=function(t){return e.keysEqual(t,r.BACKSPACE)||e.keysEqual(t,r.DELETE)},e.isArrowKeyPushed=function(e){return e==r.LEFT_ARROW||e==r.UP_ARROW||e==r.RIGHT_ARROW||e==r.DOWN_ARROW},e.isNumberKeyPushed=function(e){return e>47&&e<58},e.isLetterKeyPushed=function(e){return e>64&&e<91},e.keypressAction=function(e,t){return function(n){for(var r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];if(n){var s=n.charCode||n.keyCode;s&&(o.isArray(e)&&o.contains(e,s)?t(n):s===e&&t(n))}}},e}();t.KeyboardUtils=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(60),o=n(4),s=n(7),a=n(0),u=n(102),l=n(11),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.now=u().toDate(),t.useTodayYesterdayAndTomorrow=!0,t.useWeekdayIfThisWeek=!0,t.omitYearIfCurrentOne=!0,t.useLongDateFormat=!1,t.includeTimeIfToday=!0,t.includeTimeIfThisWeek=!0,t.alwaysIncludeTime=!1,t.predefinedFormat=void 0,t}return r(t,e),t}(i.Options),d=function(){function e(){}return e.convertFromJsonDateIfNeeded=function(t){return e.convertToStandardDate(t)},e.convertToStandardDate=function(e){if(a.isDate(e))return u(e).toDate();if(null!==e&&!isNaN(Number(e)))return u(Number(e)).toDate();if(a.isString(e)){var t=["YYYY/MM/DD@HH:mm:ssZ",u.ISO_8601];return u(e,t).toDate()}},e.setLocale=function(){var e=String.locale;"no"==e.toLowerCase()?e="nn":"es-es"==e.toLowerCase()&&(e="es"),u.locale(e),u.updateLocale(e,{calendar:{lastDay:"["+s.l("Yesterday")+"]",sameDay:"["+s.l("Today")+"]",nextDay:"["+s.l("Tomorrow")+"]"}})},e.dateForQuery=function(t){return e.setLocale(),u(t).format("YYYY/MM/DD")},e.keepOnlyDatePart=function(t){e.setLocale();var n=u(t);return new Date(n.year(),n.month(),n.date())},e.offsetDateByDays=function(e,t){return u(e).add(t,"days").toDate()},e.isTodayYesterdayOrTomorrow=function(t,n){var r=u(e.keepOnlyDatePart(t)),i=u(e.keepOnlyDatePart(n.now)),o=r.diff(i,"days");return 0==o||1==o||-1==o},e.dateToString=function(t,n){if(e.setLocale(),o.Utils.isNullOrUndefined(t))return new l.Logger(this).warn("Impossible to format an undefined or null date."),"";n=(new c).merge(n);var r=u(e.keepOnlyDatePart(t)),i=u(e.keepOnlyDatePart(n.now));if(n.predefinedFormat)return r.format(n.predefinedFormat.replace(/yyyy/g,"YYYY"));if(n.useTodayYesterdayAndTomorrow&&e.isTodayYesterdayOrTomorrow(t,n))return u(r).calendar(u(i));var a=0==r.diff(u(i),"weeks");return n.useWeekdayIfThisWeek&&a?r.valueOf()>i.valueOf()?s.l("NextDay",r.format("dddd")):r.valueOf()<i.valueOf()?s.l("LastDay",r.format("dddd")):r.format("dddd"):n.omitYearIfCurrentOne&&r.year()===i.year()?r.format("MMMM DD"):n.useLongDateFormat?r.format("dddd, MMMM DD, YYYY"):r.format("M/D/YYYY")},e.timeToString=function(e,t){return o.Utils.isNullOrUndefined(e)?"":u(e).format("h:mm A")},e.dateTimeToString=function(t,n){if(e.setLocale(),n=(new c).merge(n),o.Utils.isNullOrUndefined(t))return new l.Logger(this).warn("Impossible to format an undefined or null date."),"";if(!u(t).isValid())return new l.Logger(this).warn("Impossible to format an invalid date: "+t),"";if(n.predefinedFormat)return u(t).format(n.predefinedFormat);var r=e.keepOnlyDatePart(n.now),i=e.dateToString(t,n),s=e.keepOnlyDatePart(t),a=0==u(t).diff(u(r),"weeks"),d=s.valueOf()==r.valueOf();return function(){return!!n.alwaysIncludeTime||(!(!n.includeTimeIfThisWeek||!a)||!(!n.includeTimeIfToday||!d))}()?i+", "+e.timeToString(t):i},e.monthToString=function(t){e.setLocale();var n=u(new Date(1980,t)).toDate();return u(n).format("MMMM")},e.isValid=function(t){return e.setLocale(),t instanceof Date&&!isNaN(t.getTime())},e.timeBetween=function(e,t){return o.Utils.isNullOrUndefined(e)||o.Utils.isNullOrUndefined(t)?"":("0"+((u(t).valueOf()-u(e).valueOf())/36e5).toFixed()).slice(-2)+":"+("0"+((u(t).valueOf()-u(e).valueOf())%36e5/6e4).toFixed()).slice(-2)+":"+("0"+((u(t).valueOf()-u(e).valueOf())%6e4/1e3).toFixed()).slice(-2)},e}();t.DateUtils=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.populateOmnibox="populateOmnibox",e.populateOmniboxSuggestions="populateOmniboxSuggestions",e.omniboxPreprocessResultForQuery="omniboxPreprocessResultForQuery",e}();t.OmniboxEvents=r},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.newResultsDisplayed="newResultsDisplayed",e.newResultDisplayed="newResultDisplayed",e.openQuickview="openQuickview",e.changeLayout="changeLayout",e}();t.ResultListEvents=r},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(89),o=n(0),s=n(10),a=n(24),u=n(5),l=n(28),c=n(251),d=n(27),p=n(36),f=n(35),h=n(1),y=n(38),m=n(20),g=n(45),v=n(4),b=function(){function e(){this.searchAsYouType=!1,this.cancel=!1,this.logInActionsHistory=!1,this.shouldRedirectStandaloneSearchbox=!0}return e}(),S=function(e){function t(n,r,o,s){var l=e.call(this,n,t.ID)||this;return l.options=r,l.usageAnalytics=o,l.searchInterface=s,l.modalBox=a.ModalBox,l.closeModalBox=!0,l.showingExecutingQueryAnimation=!1,l.localStorage=new y.LocalStorageUtils("lastQueryHash"),u.Assert.exists(n),u.Assert.exists(r),l.firstQuery=!0,l.historyStore=new i.history.HistoryStore,l}return r(t,e),t.prototype.setEndpoint=function(e){this.overrideEndpoint=e,this.logger.debug("Endpoint set",e)},t.prototype.getEndpoint=function(){var e=this.overrideEndpoint||this.options.endpoint;return new c.SearchEndpointWithDefaultCallOptions(e,this.getCallOptions())},t.prototype.getLastQuery=function(){return this.lastQuery||(new p.QueryBuilder).build()},t.prototype.getLastResults=function(){return this.lastQueryResults},t.prototype.executeQuery=function(e){var t=this;e=o.extend(new b,e),this.closeModalBoxIfNeeded(e?e.closeModalBox:void 0),this.logger.debug("Executing new query"),this.cancelAnyCurrentPendingQuery(),null!=e.beforeExecuteQuery&&e.beforeExecuteQuery(),e.ignoreWarningSearchEvent||this.usageAnalytics.warnAboutSearchEvent(),this.showExecutingQueryAnimation();var n={searchAsYouType:e.searchAsYouType,cancel:e.cancel,origin:e.origin,shouldRedirectStandaloneSearchbox:e.shouldRedirectStandaloneSearchbox};if(this.newQueryEvent(n),n.cancel)return void this.cancelQuery();var r=this.createQueryBuilder(e);if(r){var i=r.build();e.logInActionsHistory&&this.logQueryInActionsHistory(i,e.isFirstQuery);var s=this.getEndpoint(),a=this.currentPendingQuery=s.search(i);a.then(function(n){if(u.Assert.exists(n),t.firstQuery&&(t.firstQuery=!1),a===t.currentPendingQuery){t.logger.debug("Query results received",i,n),t.keepLastSearchUid(i,n,e)?(n.searchUid=t.getLastSearchUid(),n._reusedSearchUid=!0,m.QueryUtils.setPropertyOnResults(n,"queryUid",t.getLastSearchUid())):(t.lastQueryHash=t.queryHash(i,n),t.lastSearchUid=n.searchUid),t.lastQuery=i,t.lastQueryResults=n,t.currentError=null;var o={queryBuilder:r,query:i,results:n,searchAsYouType:e.searchAsYouType};t.preprocessResultsEvent(o);var s={queryBuilder:r,query:i,results:n,searchAsYouType:e.searchAsYouType,retryTheQuery:!1};if(0==n.results.length&&t.noResultEvent(s),s.retryTheQuery)return t.executeQuery();t.lastQueryBuilder=r,t.currentPendingQuery=void 0;var c={queryBuilder:r,query:i,results:n,searchAsYouType:e.searchAsYouType};return t.querySuccessEvent(c),l.Defer.defer(function(){t.deferredQuerySuccessEvent(c),t.hideExecutingQueryAnimation()}),n}}).catch(function(n){if(a===t.currentPendingQuery){t.logger.error("Query triggered an error",i,n),t.currentPendingQuery=void 0;var o={queryBuilder:r,endpoint:s,query:i,error:n,searchAsYouType:e.searchAsYouType};t.lastQuery=i,t.lastQueryResults=null,t.currentError=n,t.queryError(o),t.hideExecutingQueryAnimation()}});var c={queryBuilder:r,query:i,searchAsYouType:e.searchAsYouType,promise:a};return this.duringQueryEvent(c),this.currentPendingQuery}},t.prototype.fetchMore=function(e){var t=this;if(void 0==this.currentPendingQuery){this.usageAnalytics.sendAllPendingEvents();var n=new p.QueryBuilder;this.continueLastQueryBuilder(n,e);var r=n.build(),i=this.getEndpoint(),a=this.currentPendingQuery=i.search(r),u={queryBuilder:n,query:r,searchAsYouType:!1,promise:a};return h.$$(this.element).trigger(s.QueryEvents.duringFetchMoreQuery,u),this.lastQueryBuilder=n,this.lastQuery=r,a.then(function(e){t.currentPendingQuery=void 0,null==t.lastQueryResults?t.lastQueryResults=e:o.forEach(e.results,function(e){t.lastQueryResults.results.push(e)});var i={queryBuilder:n,query:r,results:e,searchAsYouType:!1};t.preprocessResultsEvent(i),m.QueryUtils.setIndexAndUidOnQueryResults(r,e,t.getLastSearchUid(),e.pipeline,e.splitTestRun);var s={query:r,results:e,queryBuilder:n,searchAsYouType:!1};t.fetchMoreSuccessEvent(s)}),this.currentPendingQuery}},t.prototype.cancelQuery=function(){this.cancelAnyCurrentPendingQuery(),this.hideExecutingQueryAnimation()},t.prototype.deferExecuteQuery=function(e){var t=this;this.showExecutingQueryAnimation(),l.Defer.defer(function(){return t.executeQuery(e)})},t.prototype.ensureCreatedQueryBuilder=function(){this.createdOneQueryBuilder||this.createQueryBuilder(new b)},t.prototype.createQueryBuilder=function(e){u.Assert.exists(e),this.createdOneQueryBuilder=!0;var t=new p.QueryBuilder;t.locale=String.locale,t.firstResult=t.firstResult||0;var n={queryBuilder:t,searchAsYouType:e.searchAsYouType,cancel:e.cancel};this.buildingQueryEvent(n);var r={queryBuilder:t,searchAsYouType:e.searchAsYouType,cancel:e.cancel};if(this.doneBuildingQueryEvent(r),n.cancel||r.cancel)return void this.cancelQuery();var i=this.getPipelineInUrl();return i&&(t.pipeline=i),t},t.prototype.isStandaloneSearchbox=function(){return v.Utils.isNonEmptyString(this.options.searchPageUri)},t.prototype.saveLastQuery=function(){this.localStorage.save({expire:(new Date).getTime()+18e5,hash:this.lastQueryHash,uid:this.lastSearchUid})},t.prototype.getLastQueryHash=function(){return null!=this.lastQueryHash?this.lastQueryHash:(this.loadLastQueryHash(),this.lastQueryHash||this.queryHash((new p.QueryBuilder).build()))},t.prototype.closeModalBoxIfNeeded=function(e){(void 0!=e?e:this.closeModalBox)&&this.modalBox.close(!0)},t.prototype.getLastSearchUid=function(){return null!=this.lastSearchUid?this.lastSearchUid:(this.loadLastQueryHash(),this.lastSearchUid)},t.prototype.loadLastQueryHash=function(){var e=this.localStorage.load();null!=e&&(new Date).getTime()<=e.expire&&(this.lastQueryHash=e.hash,this.lastSearchUid=e.uid,this.localStorage.remove())},t.prototype.continueLastQueryBuilder=function(e,t){o.extend(e,this.lastQueryBuilder),e.firstResult=e.firstResult+e.numberOfResults,e.numberOfResults=t},t.prototype.getPipelineInUrl=function(){return g.UrlUtils.getUrlParameter("pipeline")},t.prototype.cancelAnyCurrentPendingQuery=function(){return!!v.Utils.exists(this.currentPendingQuery)&&(this.logger.debug("Cancelling current pending query"),Promise.reject("Cancelling current pending query"),this.currentPendingQuery=void 0,!0)},t.prototype.showExecutingQueryAnimation=function(){this.showingExecutingQueryAnimation||(h.$$(this.element).addClass("coveo-executing-query"),this.showingExecutingQueryAnimation=!0)},t.prototype.hideExecutingQueryAnimation=function(){this.showingExecutingQueryAnimation&&(h.$$(this.element).removeClass("coveo-executing-query"),this.showingExecutingQueryAnimation=!1)},t.prototype.keepLastSearchUid=function(e,t,n){return!0===n.keepLastSearchUid||this.searchInterface&&this.searchInterface.options&&this.searchInterface.options.enableHistory&&this.getLastQueryHash()==this.queryHash(e,t)},t.prototype.queryHash=function(e,t){var n=JSON.stringify(o.omit(e,"firstResult","groupBy","debug"));return null!=t&&(n+=t.pipeline),n},t.prototype.getCallOptions=function(){var e={options:{authentication:[]}};return h.$$(this.element).trigger(s.QueryEvents.buildingCallOptions,e),e.options},t.prototype.newQueryEvent=function(e){h.$$(this.element).trigger(s.QueryEvents.newQuery,e)},t.prototype.buildingQueryEvent=function(e){h.$$(this.element).trigger(s.QueryEvents.buildingQuery,e)},t.prototype.doneBuildingQueryEvent=function(e){h.$$(this.element).trigger(s.QueryEvents.doneBuildingQuery,e)},t.prototype.duringQueryEvent=function(e){h.$$(this.element).trigger(s.QueryEvents.duringQuery,e)},t.prototype.querySuccessEvent=function(e){h.$$(this.element).trigger(s.QueryEvents.querySuccess,e)},t.prototype.fetchMoreSuccessEvent=function(e){h.$$(this.element).trigger(s.QueryEvents.fetchMoreSuccess,e)},t.prototype.deferredQuerySuccessEvent=function(e){h.$$(this.element).trigger(s.QueryEvents.deferredQuerySuccess,e)},t.prototype.queryError=function(e){h.$$(this.element).trigger(s.QueryEvents.queryError,e)},t.prototype.preprocessResultsEvent=function(e){h.$$(this.element).trigger(s.QueryEvents.preprocessResults,e)},t.prototype.noResultEvent=function(e){h.$$(this.element).trigger(s.QueryEvents.noResults,e)},t.prototype.debugInfo=function(){var e=this,t={query:this.lastQuery};return null!=this.lastQueryResults&&(t.queryDuration=function(){return e.buildQueryDurationSection(e.lastQueryResults)},t.results=function(){return o.omit(e.lastQueryResults,"results")}),null!=this.currentError&&(t.error=function(){return e.currentError}),t},t.prototype.buildQueryDurationSection=function(e){var t=h.Dom.createElement("div",{className:"coveo-debug-queryDuration"}),n=h.Dom.createElement("div",{className:"coveo-debug-durations"}),r=d.BaseComponent.getComponentRef("Debug");return t.appendChild(n),o.forEach(r.durationKeys,function(r){var i=e[r];if(null!=i){n.appendChild(h.Dom.createElement("div",{className:"coveo-debug-duration",style:"width:"+i+"px","data-id":r}));var o=h.Dom.createElement("div",{className:"coveo-debug-duration-legend","data-id":r});t.appendChild(o);var s=h.Dom.createElement("span",{className:"coveo-debug-duration-label"});s.appendChild(document.createTextNode(r)),o.appendChild(s);var a=h.Dom.createElement("span",{className:"coveo-debug-duration-value"});a.appendChild(document.createTextNode(i)),o.appendChild(a)}}),t},t.prototype.logQueryInActionsHistory=function(e,t){var n={name:"Query",value:e.q,time:JSON.stringify(new Date)};this.historyStore.addElement(n)},t.ID="QueryController",t}(f.RootComponent);t.QueryController=S},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(27),o=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.element=t,r.type=n,r}return r(t,e),t}(i.BaseComponent);t.RootComponent=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(55),i=n(130),o=n(0),s=n(4),a=function(){function e(){this.expression=new r.ExpressionBuilder,this.advancedExpression=new r.ExpressionBuilder,this.constantExpression=new r.ExpressionBuilder,this.longQueryExpression=new r.ExpressionBuilder,this.disjunctionExpression=new r.ExpressionBuilder,this.enableQuerySyntax=!1,this.firstResult=0,this.numberOfResults=10,this.requiredFields=[],this.includeRequiredFields=!1,this.enableDidYouMean=!1,this.enableDebug=!1,this.sortCriteria="relevancy",this.retrieveFirstSentences=!0,this.queryFunctions=[],this.rankingFunctions=[],this.groupByRequests=[],this.categoryFacets=[],this.enableDuplicateFiltering=!1}return e.prototype.build=function(){return{q:this.expression.build(),aq:this.advancedExpression.build(),cq:this.constantExpression.build(),lq:this.longQueryExpression.build(),dq:this.disjunctionExpression.build(),searchHub:this.searchHub,tab:this.tab,locale:this.locale,pipeline:this.pipeline,maximumAge:this.maximumAge,wildcards:this.enableWildcards,questionMark:this.enableQuestionMarks,lowercaseOperators:this.enableLowercaseOperators,partialMatch:this.enablePartialMatch,partialMatchKeywords:this.partialMatchKeywords,partialMatchThreshold:this.partialMatchThreshold,firstResult:this.firstResult,numberOfResults:this.numberOfResults,excerptLength:this.excerptLength,filterField:this.filterField,filterFieldRange:this.filterFieldRange,parentField:this.parentField,childField:this.childField,fieldsToInclude:this.computeFieldsToInclude(),fieldsToExclude:this.fieldsToExclude,enableDidYouMean:this.enableDidYouMean,sortCriteria:this.sortCriteria,sortField:this.sortField,queryFunctions:this.queryFunctions,rankingFunctions:this.rankingFunctions,groupBy:this.groupByRequests,categoryFacets:this.categoryFacets,retrieveFirstSentences:this.retrieveFirstSentences,timezone:this.timezone,enableQuerySyntax:this.enableQuerySyntax,enableDuplicateFiltering:this.enableDuplicateFiltering,enableCollaborativeRating:this.enableCollaborativeRating,debug:this.enableDebug,context:this.context,actionsHistory:this.actionsHistory,recommendation:this.recommendation,allowQueriesWithoutKeywords:this.allowQueriesWithoutKeywords}},e.prototype.computeCompleteExpression=function(){return this.computeCompleteExpressionParts().full},e.prototype.computeCompleteExpressionParts=function(){return new i.QueryBuilderExpression(this.expression.build(),this.advancedExpression.build(),this.constantExpression.build(),this.disjunctionExpression.build())},e.prototype.computeCompleteExpressionExcept=function(e){return this.computeCompleteExpressionPartsExcept(e).full},e.prototype.computeCompleteExpressionPartsExcept=function(e){r.ExpressionBuilder.merge(this.expression,this.advancedExpression).remove(e);var t=new r.ExpressionBuilder;t.fromExpressionBuilder(this.expression),t.remove(e);var n=new r.ExpressionBuilder;n.fromExpressionBuilder(this.advancedExpression),n.remove(e);var o=new r.ExpressionBuilder;o.fromExpressionBuilder(this.constantExpression),o.remove(e);var s=new r.ExpressionBuilder;return s.fromExpressionBuilder(this.disjunctionExpression),s.remove(e),new i.QueryBuilderExpression(t.build(),n.build(),o.build(),s.build())},e.prototype.addFieldsToInclude=function(e){this.fieldsToInclude=o.uniq((this.fieldsToInclude||[]).concat(e))},e.prototype.addRequiredFields=function(e){this.requiredFields=o.uniq(this.requiredFields.concat(e))},e.prototype.addFieldsToExclude=function(e){this.fieldsToExclude=o.uniq((this.fieldsToInclude||[]).concat(e))},e.prototype.computeFieldsToInclude=function(){return this.includeRequiredFields||null!=this.fieldsToInclude?this.requiredFields.concat(this.fieldsToInclude||[]):null},e.prototype.addContextValue=function(e,t){null==this.context&&(this.context={}),this.context[e]=t},e.prototype.addContext=function(e){null==this.context&&(this.context={}),o.extend(this.context,e)},e.prototype.containsEndUserKeywords=function(){var e=this.build();return s.Utils.isNonEmptyString(e.q)||s.Utils.isNonEmptyString(e.lq)},e}();t.QueryBuilder=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.populateBreadcrumb="populateBreadcrumb",e.clearBreadcrumb="clearBreadcrumb",e.redrawBreadcrumb="redrawBreadcrumb",e}();t.BreadcrumbEvents=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r;try{r=window.localStorage}catch(e){r=null}var i=function(){function e(e){this.id=e}return e.prototype.save=function(e){try{null!=r&&r.setItem(this.getLocalStorageKey(),JSON.stringify(e))}catch(e){}},e.prototype.load=function(){try{if(null==r)return null;var e=r.getItem(this.getLocalStorageKey());return e&&JSON.parse(e)}catch(e){return null}},e.prototype.remove=function(e){try{if(null!=r)if(void 0==e)r.removeItem(this.getLocalStorageKey());else{var t=this.load();delete t[e],this.save(t)}}catch(e){}},e.prototype.getLocalStorageKey=function(){return"coveo-"+this.id},e}();t.LocalStorageUtils=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),i=n(4),o=n(0),s=n(54),a=function(){function e(){}return e.getHash=function(t){void 0===t&&(t=window),r.Assert.exists(t);var n="#"+(t.location.href.split("#")[1]||"");return e.getAjaxcrawlableHash(n)},e.getValue=function(t,n){r.Assert.isNonEmptyString(t),r.Assert.exists(n),n=e.getAjaxcrawlableHash(n);var i=e.getRawValue(t,n);return void 0!=i&&(i=e.getValueDependingOnType(t,i)),i},e.encodeValues=function(t){var n=[];return o.each(t,function(t,r,s){var a="";i.Utils.isNonEmptyArray(t)?a=e.encodeArray(t):o.isObject(t)&&i.Utils.isNonEmptyArray(o.keys(t))?a=e.encodeObject(t):i.Utils.isNullOrUndefined(t)||(a=i.Utils.safeEncodeURIComponent(t.toString())),""!=a&&n.push(r+"="+a)}),n.join("&")},e.getAjaxcrawlableHash=function(e){return void 0!=e[1]&&"!"==e[1]?e.substring(0,1)+e.substring(2):e},e.getRawValue=function(e,t){r.Assert.exists(e),r.Assert.exists(t),r.Assert.check(0==t.indexOf("#")||""==t);for(var n=t.substr(1).split("&"),i=0,o=!0,s=void 0;o;){var a=n[i].split("=");a[0]==e?(o=!1,s=a[1]):++i>=n.length&&(i=void 0,o=!1)}return s},e.getValueDependingOnType=function(t,n){var r,i=e.getValueType(t,n);if("object"==i)r=e.decodeObject(n);else if("array"==i)r=e.decodeArray(n);else try{r=decodeURIComponent(n)}catch(r){new s.Logger(e).warn("Error while decoding a value from the URL as a standard value",r,t,n)}return r},e.getValueType=function(t,n){return"q"==t?"other":e.isObject(n)?"object":e.startsOrEndsWithSquareBracket(n)?"array":"other"},e.startsWithLeftSquareBracket=function(t){return e.DELIMITER.arrayStartRegExp.test(t)},e.startsWithEncodedLeftSquareBracket=function(t){return 0==t.indexOf(i.Utils.safeEncodeURIComponent(e.DELIMITER.arrayStart))},e.endsWithRightSquareBracket=function(t){return e.DELIMITER.arrayEndRegExp.test(t)},e.endsWithEncodedRightSquareBracket=function(t){var n=i.Utils.safeEncodeURIComponent(e.DELIMITER.arrayEnd);return t.indexOf(n)==t.length-n.length},e.isObjectStartNotEncoded=function(t){return t.substr(0,1)==e.DELIMITER.objectStart},e.isObjectStartEncoded=function(t){return 0==t.indexOf(i.Utils.safeEncodeURIComponent(e.DELIMITER.objectStart))},e.isObjectEndNotEncoded=function(t){return t.substr(t.length-1)==e.DELIMITER.objectEnd},e.isObjectEndEncoded=function(t){return t.indexOf(i.Utils.safeEncodeURIComponent(e.DELIMITER.objectEnd))==t.length-i.Utils.safeEncodeURIComponent(e.DELIMITER.objectEnd).length},e.isObject=function(t){var n=e.isObjectStartNotEncoded(t)||e.isObjectStartEncoded(t),r=e.isObjectEndNotEncoded(t)||e.isObjectEndEncoded(t);return n&&r},e.startsOrEndsWithSquareBracket=function(t){var n=e.startsWithLeftSquareBracket(t)||e.startsWithEncodedLeftSquareBracket(t),r=e.endsWithRightSquareBracket(t)||e.endsWithEncodedRightSquareBracket(t);return n||r},e.encodeArray=function(t){var n=o.map(t,function(e){return i.Utils.safeEncodeURIComponent(e)});return e.DELIMITER.arrayStart+n.join(",")+e.DELIMITER.arrayEnd},e.encodeObject=function(t){var n=this,r=o.map(t,function(e,t,r){return'"'+i.Utils.safeEncodeURIComponent(t)+'":'+n.encodeValue(e)});return e.DELIMITER.objectStart+r.join(" , ")+e.DELIMITER.objectEnd},e.encodeValue=function(t){return o.isArray(t)?e.encodeArray(t):o.isObject(t)?JSON.stringify(t):o.isNumber(t)||o.isBoolean(t)?i.Utils.safeEncodeURIComponent(t.toString()):'"'+i.Utils.safeEncodeURIComponent(t)+'"'},e.decodeObject=function(t){e.isObjectStartEncoded(t)&&e.isObjectEndEncoded(t)&&(t=t.replace(/encodeURIComponent(HashUtils.Delimiter.objectStart)/,e.DELIMITER.objectStart),t=t.replace(i.Utils.safeEncodeURIComponent(e.DELIMITER.objectEnd),e.DELIMITER.objectEnd));try{var n=/(\[.*\])/.exec(t);n&&(t=t.replace(/(\[.*\])/,"["+this.decodeArray(n[1]).map(function(e){return'"'+e+'"'}).join(",")+"]"));var r=decodeURIComponent(t);return JSON.parse(r)}catch(n){return new s.Logger(e).warn("Error while decoding a value from the URL as an object",n,t),{}}},e.decodeArray=function(t){var n=e.removeSquareBrackets(t),r=n.split(",");return o.chain(r).map(function(n){try{return decodeURIComponent(n)}catch(r){return new s.Logger(e).warn("Error while decoding a value from the URL as an array",r,n,t),null}}).compact().value()},e.removeSquareBrackets=function(t){return e.startsWithEncodedLeftSquareBracket(t)&&(t=t.replace(i.Utils.safeEncodeURIComponent(e.DELIMITER.arrayStart),"")),e.endsWithEncodedRightSquareBracket(t)&&(t=t.replace(i.Utils.safeEncodeURIComponent(e.DELIMITER.arrayEnd),"")),e.startsWithLeftSquareBracket(t)&&(t=t.replace(e.DELIMITER.arrayStart,"")),e.endsWithRightSquareBracket(t)&&(t=t.replace(e.DELIMITER.arrayEnd,"")),t},e.DELIMITER={objectStart:"{",objectEnd:"}",arrayStart:"[",arrayEnd:"]",arrayStartRegExp:/^\[/,arrayEndRegExp:/\]$/},e}();t.HashUtils=a},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.settingsPopulateMenu="settingsPopulateMenu",e}();t.SettingsEvents=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5);n(234),t.MEDIUM_SCREEN_WIDTH=800,t.SMALL_SCREEN_WIDTH=480;var i=function(){function e(e){void 0===e&&(e=window),this.windoh=e,this.responsiveMode="auto"}return e.prototype.setSmallScreenWidth=function(e){r.Assert.check("auto"===this.responsiveMode,"Cannot modify medium screen width if responsiveMode is locked on "+this.responsiveMode+"."),r.Assert.check(e<this.getMediumScreenWidth(),"Cannot set small screen width ("+e+") larger or equal to the current medium screen width ("+this.getMediumScreenWidth()+")"),this.smallScreenWidth=e},e.prototype.setMediumScreenWidth=function(e){r.Assert.check("auto"===this.responsiveMode,"Cannot modify medium screen width if responsiveMode is locked on "+this.responsiveMode+"."),r.Assert.check(e>this.getSmallScreenWidth(),"Cannot set medium screen width ("+e+") smaller or equal to the current small screen width ("+this.getSmallScreenWidth()+")"),this.mediumScreenWidth=e},e.prototype.setResponsiveMode=function(e){this.responsiveMode=e},e.prototype.getSmallScreenWidth=function(){return"small"===this.responsiveMode?Number.POSITIVE_INFINITY:"auto"!==this.responsiveMode?0:null==this.smallScreenWidth?t.SMALL_SCREEN_WIDTH:this.smallScreenWidth},e.prototype.getMediumScreenWidth=function(){return"medium"===this.responsiveMode?Number.POSITIVE_INFINITY:"auto"!==this.responsiveMode?0:null==this.mediumScreenWidth?t.MEDIUM_SCREEN_WIDTH:this.mediumScreenWidth},e.prototype.getResponsiveMode=function(){return this.responsiveMode},e.prototype.isSmallScreenWidth=function(){return null!=this.windoh.clientWidth?this.windoh.clientWidth<=this.getSmallScreenWidth():document.body.clientWidth<=this.getSmallScreenWidth()},e.prototype.isMediumScreenWidth=function(){return!this.isSmallScreenWidth()&&(null!=this.windoh.clientWidth?this.windoh.clientWidth<=this.getMediumScreenWidth():document.body.clientWidth<=this.getMediumScreenWidth())},e.prototype.isLargeScreenWidth=function(){return!this.isSmallScreenWidth()&&!this.isMediumScreenWidth()},e}();t.ResponsiveComponents=i},function(e,t,n){"use strict";function r(e,t,n){return{originalMethod:n.value,nbParams:e[t].prototype.constructor.length}}function i(){return{url:"",queryString:[],requestData:{},method:"",responseType:"",errorsAsSuccess:!1}}function o(e){return function(t,n,o){var s=r(t,n,o),a=s.originalMethod,u=s.nbParams;return o.value=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=this.buildBaseUri(e);if(t[u-1])t[u-1].url=r;else{var o=O.extend(i(),{url:r});t[u-1]=o}return a.apply(this,t)},o}}function s(e){return function(t,n,o){var s=r(t,n,o),a=s.originalMethod,u=s.nbParams;return o.value=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=this.buildSearchAlertsUri(e);if(t[u-1])t[u-1].url=r;else{var o=O.extend(i(),{url:r});t[u-1]=o}return a.apply(this,t)},o}}function a(e){return function(t,n,o){var s=r(t,n,o),a=s.originalMethod,u=s.nbParams;return o.value=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(t[u-1])t[u-1].requestDataType=e;else{var r=O.extend(i(),{requestDataType:e});t[u-1]=r}return a.apply(this,t)},o}}function u(e){return function(t,n,o){var s=r(t,n,o),a=s.originalMethod,u=s.nbParams;return o.value=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(t[u-1])t[u-1].method=e;else{var r=O.extend(i(),{method:e});t[u-1]=r}return a.apply(this,t)},o}}function l(e){return function(t,n,o){var s=r(t,n,o),a=s.originalMethod,u=s.nbParams;return o.value=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(t[u-1])t[u-1].responseType=e;else{var r=O.extend(i(),{responseType:e});t[u-1]=r}return a.apply(this,t)},o}}function c(e){return void 0===e&&(e="access_token"),function(t,n,o){var s=r(t,n,o),a=s.originalMethod,u=s.nbParams,l=function(e,t){var n=[];return x.Utils.isNonEmptyString(t.accessToken.token)&&n.push(e+"="+x.Utils.safeEncodeURIComponent(t.accessToken.token)),n};return o.value=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=l(e,this);if(t[u-1])t[u-1].queryString=t[u-1].queryString.concat(r);else{var o=O.extend(i(),{queryString:r});t[u-1]=o}return a.apply(this,t)},o}}function d(e){return void 0===e&&(e=new M.history.HistoryStore),function(t,n,o){var s=r(t,n,o),a=s.originalMethod,u=s.nbParams;return o.value=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=e.getHistory();if(null==r&&(r=[]),t[u-1])t[u-1].requestData.actionsHistory=r;else{var o=O.extend(i(),{requestData:{actionsHistory:r}});t[u-1]=o}return a.apply(this,t)},o}}function p(){return function(e,t,n){var o=r(e,t,n),s=o.originalMethod,a=o.nbParams;return n.value=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=document.referrer;if(null==n&&(n=""),e[a-1])e[a-1].requestData.referrer=n;else{var r=O.extend(i(),{requestData:{referrer:n}});e[a-1]=r}return s.apply(this,e)},n}}function f(){return function(e,t,n){var o=r(e,t,n),s=o.originalMethod,a=o.nbParams;return n.value=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=I.Cookie.get("visitorId");if(null==n&&(n=""),e[a-1])e[a-1].requestData.visitorId=n;else{var r=O.extend(i(),{requestData:{visitorId:n}});e[a-1]=r}return s.apply(this,e)},n}}function h(){return function(e,t,n){var o=r(e,t,n),s=o.originalMethod,a=o.nbParams;return n.value=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.options.isGuestUser;if(e[a-1])e[a-1].requestData.isGuestUser=n;else{var r=O.extend(i(),{requestData:{isGuestUser:n}});e[a-1]=r}return s.apply(this,e)},n}}var y=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},m=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},g=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}u((r=r.apply(e,t||[])).next())})},v=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;u;)try{if(i=1,o&&(s=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(s=s.call(o,n[1])).done)return s;switch(o=0,s&&(n=[0,s.value]),n[0]){case 0:case 1:s=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,o=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(s=u.trys,!(s=s.length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){u.label=n[1];break}if(6===n[0]&&u.label<s[1]){u.label=s[1],s=n;break}if(s&&u.label<s[2]){u.label=s[2],u.ops.push(n);break}s[2]&&u.ops.pop(),u.trys.pop();continue}n=t.call(e,u)}catch(e){n=[6,e],o=0}finally{i=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,s,a,u={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a};Object.defineProperty(t,"__esModule",{value:!0});var b=n(67),S=n(11),E=n(5),w=n(74),C=n(236),_=n(237),T=n(20),A=n(108),x=n(4),O=n(0),M=n(89),I=n(69),P=n(57),L=n(45),R=n(113),k=n(244),D=function(){function e(){this.version="v2",this.queryStringArguments={},this.anonymous=!1,this.isGuestUser=!1}return e}();t.DefaultSearchEndpointOptions=D;var z=function(){function e(t){var n=this;this.options=t,E.Assert.exists(t),E.Assert.exists(t.restUri);var r=new D;r.anonymous=0==window.location.href.indexOf("file://")&&x.Utils.isNonEmptyString(t.accessToken),this.options=O.extend({},r,t),this.accessToken=new R.AccessToken(this.options.accessToken,this.options.renewAccessToken),this.accessToken.subscribeToRenewal(function(){return n.createEndpointCaller()}),e.isDebugArgumentPresent()&&(this.options.queryStringArguments.debug=1),this.onUnload=function(){n.handleUnload()},window.addEventListener("beforeunload",this.onUnload),this.logger=new S.Logger(this),this.createEndpointCaller()}return e.configureSampleEndpoint=function(t){e.isUseLocalArgumentPresent()?e.endpoints.default=new e(O.extend({restUri:"http://localhost:8100/rest/search",searchAlertsUri:"http://localhost:8088/rest/search/alerts/"},t)):e.endpoints.default=new e(O.extend({restUri:"https://cloudplatform.coveo.com/rest/search",accessToken:"52d806a2-0f64-4390-a3f2-e0f41a4a73ec"},t))},e.configureSampleEndpointV2=function(t){e.endpoints.default=new e(O.extend({restUri:"https://platform.cloud.coveo.com/rest/search",accessToken:"xx564559b1-0045-48e1-953c-3addd1ee4457",queryStringArguments:{organizationId:"searchuisamples",viewAllContent:1}},t))},e.configureCloudEndpoint=function(t,n,r,i){void 0===r&&(r="https://cloudplatform.coveo.com/rest/search");var o={restUri:r,accessToken:n,queryStringArguments:{organizationId:t}},s=e.mergeConfigOptions(o,i);e.endpoints.default=new e(e.removeUndefinedConfigOption(s))},e.configureCloudV2Endpoint=function(t,n,r,i){return void 0===r&&(r="https://platform.cloud.coveo.com/rest/search"),e.configureCloudEndpoint(t,n,r,i)},e.configureOnPremiseEndpoint=function(t,n,r){var i=e.mergeConfigOptions({restUri:t,accessToken:n},r);e.endpoints.default=new e(e.removeUndefinedConfigOption(i))},e.removeUndefinedConfigOption=function(e){return O.each(O.keys(e),function(t){void 0==e[t]&&delete e[t]}),e},e.mergeConfigOptions=function(t,n){return t=e.removeUndefinedConfigOption(t),n=e.removeUndefinedConfigOption(n),O.extend({},t,n)},e.prototype.reset=function(){this.createEndpointCaller()},e.prototype.setRequestModifier=function(e){this.caller.options.requestModifier=e},e.prototype.getBaseUri=function(){return this.buildBaseUri("")},e.prototype.getBaseAlertsUri=function(){return this.buildSearchAlertsUri("")},e.prototype.getAuthenticationProviderUri=function(e,t,n,r,i){return L.UrlUtils.normalizeAsString({paths:[i.url,e],queryAsString:i.queryString,query:y({redirectUri:t,message:n},this.buildBaseQueryString(r))})},e.prototype.isJsonp=function(){return this.caller.useJsonp},e.prototype.search=function(e,t,n){var r=this;E.Assert.exists(e),n=y({},n,{requestData:y({},n.requestData,O.omit(e,function(e){return x.Utils.isNullOrUndefined(e)}))}),this.logger.info("Performing REST query",e);var i=new Date;return this.performOneCall(n,t).then(function(t){return r.logger.info("REST query successful",t,e),null==t.apiVersion&&(t.apiVersion=1),t.apiVersion<w.version.supportedApiVersion&&r.logger.error("Please update your REST Search API"),t.searchAPIDuration=t.duration,t.duration=P.TimeSpan.fromDates(i,new Date).getMilliseconds(),x.Utils.isNullOrEmptyString(t.searchUid)&&(t.searchUid=T.QueryUtils.createGuid()),T.QueryUtils.setIndexAndUidOnQueryResults(e,t,t.searchUid,t.pipeline,t.splitTestRun),T.QueryUtils.setTermsToHighlightOnQueryResults(e,t),t})},e.prototype.getExportToExcelLink=function(e,t,n,r){return L.UrlUtils.normalizeAsString({paths:r.url,queryAsString:r.queryString,query:y({numberOfResults:t?t.toString():null,format:"xlsx"},this.buildQueryAsQueryString(null,e),this.buildBaseQueryString(n))})},e.prototype.getRawDataStream=function(e,t,n,r){var i=this;return E.Assert.exists(e),r=L.UrlUtils.merge(r,{paths:r.url,query:y({dataStream:t},this.buildViewAsHtmlQueryString(e,n))}),this.logger.info("Performing REST query for datastream "+t+" on item uniqueID "+e),this.performOneCall(r,n).then(function(t){return i.logger.info("REST query successful",t,e),t})},e.prototype.getViewAsDatastreamUri=function(e,t,n,r){return void 0===n&&(n={}),L.UrlUtils.normalizeAsString({paths:r.url,queryAsString:r.queryString,query:y({dataStream:t},this.buildViewAsHtmlQueryString(e,n),this.buildQueryAsQueryString(n.query,n.queryObject),this.buildBaseQueryString(n))})},e.prototype.getDocument=function(e,t,n){var r=this;return n=L.UrlUtils.merge(n,{paths:n.url,queryAsString:n.queryString,query:y({},this.buildViewAsHtmlQueryString(e,t))}),this.logger.info("Performing REST query to retrieve document",e),this.performOneCall(n,t).then(function(t){return r.logger.info("REST query successful",t,e),t})},e.prototype.getDocumentText=function(e,t,n){var r=this;return n=L.UrlUtils.merge(n,{paths:n.url,queryAsString:n.queryString,query:y({},this.buildViewAsHtmlQueryString(e,t))}),this.logger.info('Performing REST query to retrieve "TEXT" version of document',e),this.performOneCall(n,t).then(function(t){return r.logger.info("REST query successful",t,e),t.content})},e.prototype.getDocumentHtml=function(e,t,n){var r=this;return t=y({},t),n=L.UrlUtils.merge(y({},n,{requestData:t.queryObject||{q:t.query}}),{paths:n.url,queryAsString:n.queryString,query:y({},this.buildViewAsHtmlQueryString(e,t))}),this.logger.info('Performing REST query to retrieve "HTML" version of document',e),this.performOneCall(n,t).then(function(t){return r.logger.info("REST query successful",t,e),t})},e.prototype.getViewAsHtmlUri=function(e,t,n){return L.UrlUtils.normalizeAsString({paths:n.url,queryAsString:n.queryString,query:y({},this.buildViewAsHtmlQueryString(e,t),this.buildBaseQueryString(t))})},e.prototype.listFieldValues=function(e,t,n){var r=this;return E.Assert.exists(e),n=y({},n,{requestData:y({},n.requestData,e)}),this.logger.info("Listing field values",e),this.performOneCall(n,t).then(function(t){return r.logger.info("REST list field values successful",t.values,e),t.values})},e.prototype.listFieldValuesBatch=function(e,t,n){var r=this;return E.Assert.exists(e),n=y({},n,{requestData:y({},n.requestData,e)}),this.logger.info("Listing field batch values",e),this.performOneCall(n,t).then(function(t){return r.logger.info("REST list field batch values successful",t.batch,e),t.batch})},e.prototype.listFields=function(e,t){var n=this;return this.logger.info("Listing fields"),this.performOneCall(t,e).then(function(e){return n.logger.info("REST list fields successful",e.fields),e.fields})},e.prototype.extensions=function(e,t){var n=this;return this.logger.info("Performing REST query to list extensions"),this.performOneCall(t,e).then(function(e){return n.logger.info("REST query successful",e),e})},e.prototype.rateDocument=function(e,t,n){var r=this;return this.logger.info("Performing REST query to rate a document",e),n=y({},n,{requestData:y({},n.requestData,e)}),this.performOneCall(n,t).then(function(){return r.logger.info("REST query successful",e),!0})},e.prototype.tagDocument=function(e,t,n){var r=this;return this.logger.info("Performing REST query to tag an item",e),n=y({},n,{requestData:y({},n.requestData,e)}),this.performOneCall(n,t).then(function(){return r.logger.info("REST query successful",e),!0})},e.prototype.getQuerySuggest=function(e,t,n){var r=this;return n=y({},n,{requestData:y({},n.requestData,O.omit(e,function(e){return x.Utils.isNullOrUndefined(e)}))}),this.logger.info("Performing REST query to get query suggest",e),this.performOneCall(n,t).then(function(e){return r.logger.info("REST query successful",e),e})},e.prototype.getRevealQuerySuggest=function(e,t,n){return this.getQuerySuggest(e,t,n)},e.prototype.follow=function(e,t,n){var r=this;return n.requestData=e,this.logger.info("Performing REST query to follow an item or a query",e),this.performOneCall(n,t).then(function(e){return r.logger.info("REST query successful",e),e})},e.prototype.listSubscriptions=function(e,t,n){var r=this;return this.options.isGuestUser?new Promise(function(e,t){t()}):(null==this.currentListSubscriptions&&(n=L.UrlUtils.merge(n,{paths:n.url,query:{page:e||0}}),this.logger.info("Performing REST query to list subscriptions"),this.currentListSubscriptions=this.performOneCall(n,t),this.currentListSubscriptions.then(function(e){return r.currentListSubscriptions=null,r.logger.info("REST query successful",e),e}).catch(function(e){if(403!=e.status)throw e})),this.currentListSubscriptions)},e.prototype.updateSubscription=function(e,t,n){var r=this;return n=L.UrlUtils.merge(y({},n,{requestData:y({},n.requestData,e)}),{paths:[n.url,e.id]}),this.logger.info("Performing REST query to update a subscription",e),this.performOneCall(n,t).then(function(e){return r.logger.info("REST query successful",e),e})},e.prototype.deleteSubscription=function(e,t,n){var r=this;return n=L.UrlUtils.merge(n,{paths:[n.url,e.id]}),this.logger.info("Performing REST query to delete a subscription",e),this.performOneCall(n,t).then(function(e){return r.logger.info("REST query successful",e),e})},e.prototype.logError=function(e,t,n){return n=y({},n,{requestData:y({},n.requestData,e)}),this.performOneCall(n,t).then(function(){return!0}).catch(function(){return!1})},e.prototype.nuke=function(){window.removeEventListener("beforeunload",this.onUnload)},e.prototype.createEndpointCaller=function(){this.caller=new b.EndpointCaller(y({},this.options,{accessToken:this.accessToken.token}))},e.isDebugArgumentPresent=function(){return/[?&]debug=1([&]|$)/.test(window.location.search)},e.isUseLocalArgumentPresent=function(){return/[?&]useLocal=1([&]|$)/.test(window.location.search)},e.prototype.handleUnload=function(){this.isRedirecting=!0},e.prototype.buildBaseUri=function(e){return E.Assert.isString(e),L.UrlUtils.normalizeAsString({paths:[this.options.restUri,this.options.version,e]})},e.prototype.buildSearchAlertsUri=function(e){E.Assert.isString(e);var t=this.options.searchAlertsUri||L.UrlUtils.normalizeAsString({paths:[this.options.restUri,"/alerts"]});return L.UrlUtils.normalizeAsString({paths:[t,e]})},e.prototype.buildBaseQueryString=function(e){return e=y({},e),O.isArray(e.authentication)&&x.Utils.isNonEmptyArray(e.authentication)?y({},this.options.queryStringArguments,{authentication:e.authentication.join(",")}):y({},this.options.queryStringArguments)},e.prototype.buildQueryAsQueryString=function(e,t){t=y({},t);var n={};["q","aq","cq","dq","searchHub","tab","locale","pipeline","lowercaseOperators"].forEach(function(e){n[e]=t[e]});var r={};if(O.pairs(t.context).forEach(function(e){var t=e[0],n=e[1];r["context["+x.Utils.safeEncodeURIComponent(t)+"]"]=n}),t.fieldsToInclude){var i=t.fieldsToInclude.map(function(e){return'"'+x.Utils.safeEncodeURIComponent(e.replace("@",""))+'"'});n.fieldsToInclude="["+i.join(",")+"]"}return y({q:e},r,n)},e.prototype.buildViewAsHtmlQueryString=function(e,t){return t=O.extend({},t),{uniqueId:e,enableNavigation:"true",requestedOutputSize:t.requestedOutputSize?t.requestedOutputSize.toString():null,contentType:t.contentType}},e.prototype.performOneCall=function(e,t){return g(this,void 0,void 0,function(){var n,r,i,o,s,a,r,u=this;return v(this,function(l){switch(l.label){case 0:e=L.UrlUtils.merge(e,{paths:e.url,queryAsString:e.queryString,query:y({},this.buildBaseQueryString(t))}),n=function(){return u.caller.call(e)},l.label=1;case 1:return l.trys.push([1,3,,10]),[4,n()];case 2:return r=l.sent(),[2,r.data];case 3:if(!(i=l.sent()))throw new Error("Request failed but it did not return an error.");switch(o=i.statusCode,s=o){case 419:return[3,4];case 429:return[3,6]}return[3,8];case 4:return[4,this.accessToken.doRenew()];case 5:if(!(a=l.sent()))throw this.handleErrorResponse(i);return[2,this.performOneCall(e,t)];case 6:return[4,this.backOffThrottledRequest(n)];case 7:return r=l.sent(),[2,r.data];case 8:throw this.handleErrorResponse(i);case 9:return[3,10];case 10:return[2]}})})},e.prototype.backOffThrottledRequest=function(e){return g(this,void 0,void 0,function(){var t,n,r=this;return v(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),t={fn:function(){return e()},retry:function(e,t){return r.retryIf429Error(e,t)}},[4,k.BackOffRequest.enqueue(t)];case 1:return[2,i.sent()];case 2:throw n=i.sent(),this.handleErrorResponse(n);case 3:return[2]}})})},e.prototype.retryIf429Error=function(e,t){return!!this.isThrottled(e)&&(this.logger.info("Resending the request because it was throttled. Retry attempt "+t),!0)},e.prototype.isThrottled=function(e){return e&&429===e.statusCode},e.prototype.handleErrorResponse=function(e){return this.isMissingAuthenticationProviderStatus(e.statusCode)?new _.MissingAuthenticationError(e.data.provider):e.data&&e.data.message&&e.data.type?new A.QueryError(e):e.data&&e.data.message?new C.AjaxError("Request Error : "+e.data.message,e.statusCode):new C.AjaxError("Request Error",e.statusCode)},e.prototype.isMissingAuthenticationProviderStatus=function(e){return 402==e},e.endpoints={},m([o("/login/"),c()],e.prototype,"getAuthenticationProviderUri",null),m([o("/"),u("POST"),l("text"),d(),p(),f(),h()],e.prototype,"search",null),m([o("/"),c()],e.prototype,"getExportToExcelLink",null),m([o("/datastream"),c(),u("GET"),l("arraybuffer")],e.prototype,"getRawDataStream",null),m([o("/datastream"),c()],e.prototype,"getViewAsDatastreamUri",null),m([o("/document"),u("GET"),l("text")],e.prototype,"getDocument",null),m([o("/text"),u("GET"),l("text")],e.prototype,"getDocumentText",null),m([o("/html"),u("POST"),l("document")],e.prototype,"getDocumentHtml",null),m([o("/html"),c()],e.prototype,"getViewAsHtmlUri",null),m([o("/values"),u("POST"),l("text")],e.prototype,"listFieldValues",null),m([o("/values/batch"),u("POST"),l("text")],e.prototype,"listFieldValuesBatch",null),m([o("/fields"),u("GET"),l("text")],e.prototype,"listFields",null),m([o("/extensions"),u("GET"),l("text")],e.prototype,"extensions",null),m([o("/rating"),u("POST"),l("text")],e.prototype,"rateDocument",null),m([o("/tag"),u("POST"),l("text")],e.prototype,"tagDocument",null),m([o("/querySuggest"),u("POST"),l("text"),d(),p(),f(),h()],e.prototype,"getQuerySuggest",null),m([s("/subscriptions"),c("accessToken"),u("POST"),a("application/json"),l("text")],e.prototype,"follow",null),m([s("/subscriptions"),c("accessToken"),u("GET"),a("application/json"),l("text")],e.prototype,"listSubscriptions",null),m([s("/subscriptions/"),c("accessToken"),u("PUT"),a("application/json"),l("text")],e.prototype,"updateSubscription",null),m([s("/subscriptions/"),c("accessToken"),u("DELETE"),a("application/json"),l("text")],e.prototype,"deleteSubscription",null),m([o("/log"),u("POST")],e.prototype,"logError",null),e}();t.SearchEndpoint=z},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=n(4),s=function(){function e(){}return e.getUrlParameter=function(e){return decodeURIComponent((new RegExp("[?|&]"+e+"=([^&;]+?)(&|#|;|$)").exec(location.search)||[,""])[1].replace(/\+/g,"%20"))||null},e.merge=function(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];return n.forEach(function(n){var i=e.normalizeAsParts(n),s=i.path,a=i.queryNormalized;if(o.Utils.isNonEmptyString(s)&&(t=r({},t,{url:s})),o.Utils.isNonEmptyArray(a)){var u=o.Utils.isNonEmptyArray(t.queryString),l=u?o.Utils.concatWithoutDuplicate(t.queryString,a):a;t=r({},t,{queryString:l})}}),t},e.normalizeAsString=function(e){var t=this.normalizeAsParts(e),n=t.queryNormalized;return""+t.path+this.addToUrlIfNotEmpty(n,"&","?")},e.normalizeAsParts=function(t){var n=this.normalizePaths(t);return{pathsNormalized:n,queryNormalized:this.normalizeQueryString(t),path:this.addToUrlIfNotEmpty(n,"/",e.getRelativePathLeadingCharacters(t))}},e.getRelativePathLeadingCharacters=function(e){var t="",n=/^(([\/])+)/,r=i.first(this.toArray(e.paths));if(r){var o=n.exec(r);o&&(t=o[0])}return t},e.normalizePaths=function(e){var t=this;return this.toArray(e.paths).map(function(e){return o.Utils.isNonEmptyString(e)?t.removeProblematicChars(e):""})},e.normalizeQueryString=function(t){var n=this,r=[];if(t.queryAsString){var s=this.toArray(t.queryAsString).map(function(e){return e=n.removeProblematicChars(e),e=n.encodeKeyValuePair(e)});r=r.concat(s)}if(t.query){var a=i.pairs(t.query),u=a.map(function(t){var r=t[0],s=t[1],a=["pipeline"];return i.isString(r)&&i.contains(a,r.toLowerCase())||!e.isInvalidQueryStringValue(s)&&!e.isInvalidQueryStringValue(r)?n.isEncoded(s)?[n.removeProblematicChars(r),s].join("="):[n.removeProblematicChars(r),o.Utils.safeEncodeURIComponent(s)].join("="):""});r=r.concat(u)}return i.uniq(r)},e.addToUrlIfNotEmpty=function(e,t,n){return o.Utils.isNonEmptyArray(e)?""+n+i.compact(e).join(t):""},e.startsWith=function(e,t){return t.substr(0,e.length)===e},e.endsWith=function(e,t){return t.substring(t.length-e.length,t.length)===e},e.removeAtEnd=function(e,t){for(;this.endsWith(e,t);)t=t.slice(0,t.length-e.length);return t},e.removeAtStart=function(e,t){for(;this.startsWith(e,t);)t=t.slice(e.length);return t},e.toArray=function(e){return i.isArray(e)?e:[e]},e.encodeKeyValuePair=function(e){var t=e.split("=");if(0==t.length)return e;var n=t[0],r=i.rest(t,1).join("");return n&&r?(n=this.removeProblematicChars(n),this.isEncoded(r)||(r=o.Utils.safeEncodeURIComponent(r)),n+"="+r):e},e.removeProblematicChars=function(e){var t=this;return["?","/","#","="].forEach(function(n){e=t.removeAtStart(n,e),e=t.removeAtEnd(n,e)}),e},e.isEncoded=function(e){return e!=decodeURIComponent(e)},e.isInvalidQueryStringValue=function(e){return i.isString(e)?o.Utils.isEmptyString(e):o.Utils.isNullOrUndefined(e)},e}();t.UrlUtils=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(21),o=n(5),s=n(4),a=n(11),u=n(120),l=n(87),c=n(0),d=n(1),p=function(e){function t(n){var r=e.call(this)||this;r.element=n,o.Assert.exists(n);var i=n.innerHTML;try{r.template=c.template(i)}catch(e){new a.Logger(r).error("Cannot instantiate underscore template. Might be caused by strict Content-Security-Policy. Will fallback on a default template...",e)}return r.templateFromAScriptTag=new u.TemplateFromAScriptTag(r,r.element),r.dataToString=function(e){var n=c.extend({},e,t.templateHelpers);if(!r.template)return(new l.DefaultResultTemplate).getFallbackTemplate();try{return r.template(n)}catch(e){return new a.Logger(r).error("Cannot instantiate template",e.message,r.getTemplateInfo()),new a.Logger(r).warn("A default template was used"),(new l.DefaultResultTemplate).getFallbackTemplate()}},r}return r(t,e),t.prototype.toHtmlElement=function(){var e=this.templateFromAScriptTag.toHtmlElement(d.$$("script"));return e.setAttribute("type",c.first(t.mimeTypes)),e},t.prototype.getType=function(){return"UnderscoreTemplate"},t.prototype.getTemplateInfo=function(){return this.element},t.registerTemplateHelper=function(e,n){t.templateHelpers[e]=n},t.isLibraryAvailable=function(){return s.Utils.exists(window._)},t.fromString=function(e,n){var r=u.TemplateFromAScriptTag.fromString(e,n,document.createElement("script"));return r.setAttribute("type",t.mimeTypes[0]),new t(r)},t.create=function(e){return o.Assert.exists(e),new t(e)},t.templateHelpers={},t.mimeTypes=["text/underscore","text/underscore-template","text/x-underscore","text/x-underscore-template"],t}(i.Template);t.UnderscoreTemplate=p},,,function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),window.Promise instanceof Function||n(228);var i=n(150);t._=i.underscoreInstance,r(n(231)),r(n(54)),r(n(249)),r(n(103)),r(n(250)),r(n(147)),r(n(252)),r(n(308)),r(n(86))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(7),o=n(1),s=n(29),a=function(){function e(e,t){void 0===e&&(e=function(e){}),this.onChange=e,this.name=t,this.lastQueryText="",this.buildContent()}return e.doExport=function(){r.exportGlobally({TextInput:e})},e.prototype.getElement=function(){return this.element},e.prototype.getValue=function(){return o.$$(this.element).find("input").value},e.prototype.setValue=function(e){var t=this.getValue();o.$$(this.element).find("input").value=e,t!=e&&this.onChange(this)},e.prototype.reset=function(){var e=this.getValue();o.$$(this.element).find("input").value="",""!=e&&this.onChange(this)},e.prototype.build=function(){return this.element},e.prototype.getInput=function(){return o.$$(this.element).find("input")},e.prototype.buildContent=function(){var e=this,t=o.$$("div",{className:"coveo-input"}),n=o.$$("input",{type:"text","aria-label":this.name?i.l(this.name):""});if(n.on(["keydown","blur"],function(t){"blur"!=t.type&&t.keyCode!=s.KEYBOARD.ENTER||e.triggerChange()}),n.el.required=!0,t.append(n.el),this.name){var r=o.$$("label");r.text(this.name),t.append(r.el)}this.element=t.el},e.prototype.triggerChange=function(){this.lastQueryText!=this.getInput().value&&(this.onChange(this),this.lastQueryText=this.getInput().value)},e}();t.TextInput=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),i=n(5),o=n(0),s=function(){function e(){}return e.replace=function(t,n,i){var o=new e;if(r.Utils.isNullOrEmptyString(t))return o;var s=t.lastIndexOf(n);if(-1==s)return o.value=t,o;for(var a=[];s>=0;){var u={begin:s,size:n.length,replacementSize:i.length};a.push(u),t=t.slice(0,s)+i+t.slice(s+n.length),s=t.lastIndexOf(n)}return o.holes=a,o.value=t,o},e.shortenPath=function(t,n){var i=new e,o=t;if(r.Utils.isNullOrEmptyString(o)||o.length<=n)return i.value=o,i;var s=[],a=-1;if(-1!==(a=r.Utils.stringStartsWith(o,"\\\\")?o.indexOf("\\",a+2):o.indexOf("\\"))){for(var u=0,l=o.indexOf("\\",a+1);-1!==l&&o.length-u+e.SHORTEN_END.length>n;)u=l-a-1,l=o.indexOf("\\",l+1);if(u>0){o=o.slice(0,a+1)+e.SHORTEN_END+o.slice(u);var c={begin:a+1,size:u-e.SHORTEN_END.length,replacementSize:e.SHORTEN_END.length};s.push(c)}}if(o.length>n){var d=o.length-n+e.SHORTEN_END.length,p=o.length-d;o=o.slice(0,p)+e.SHORTEN_END;var c={begin:p,size:d,replacementSize:e.SHORTEN_END.length};s.push(c)}return i.holes=s,i.value=o,i},e.shortenString=function(t,n,i){void 0===n&&(n=200);var o=t;i=r.Utils.toNotNullString(i);var s=new e;if(r.Utils.isNullOrEmptyString(o)||n<=i.length)return s.value=o,s;if(o.length<=n)return s.value=o,s;var a=o;if(n-=i.length,a=a.slice(0,n)," "!==o.charAt(a.length)){var u=a.lastIndexOf(" ");-1!==u&&a.length-u<e.WORD_SHORTER&&(a=a.slice(0,u))}var l=[];return l[0]={begin:a.length,size:o.length-a.length,replacementSize:i.length},a+=i,s.value=a,s.holes=l,s},e.shortenUri=function(t,n){var i=new e;if(r.Utils.isNullOrEmptyString(t)||t.length<=n)return i.value=t,i;var o=[],s=t.indexOf("//");if(-1!==s&&(s=t.indexOf("/",s+2)),-1!==s){for(var a=0,u=t.indexOf("/",s+1);-1!==u&&t.length-a+e.SHORTEN_END.length>n;)a=u-s-1,u=t.indexOf("/",u+1);if(a>0){t=t.slice(0,s+1)+e.SHORTEN_END+t.slice(s+1+a);var l={begin:s+1,size:a,replacementSize:e.SHORTEN_END.length};o.push(l)}}if(t.length>n){var c=t.length-n+e.SHORTEN_END.length,d=t.length-c;t=t.slice(0,d)+e.SHORTEN_END;var l={begin:d,size:c,replacementSize:e.SHORTEN_END.length};o.push(l)}return i.holes=o,i.value=t,i},e.SHORTEN_END="...",e.WORD_SHORTER=10,e}();t.StringAndHoles=s;var a=function(){function e(){}return e.highlightString=function(e,t,n,s){if(i.Assert.isNotUndefined(t),i.Assert.isNotNull(t),i.Assert.isNonEmptyString(s),r.Utils.isNullOrEmptyString(e))return e;for(var a=e.length,u="",l=0,c=0;c<t.length;c++){var d=t[c],p=d.offset,f=p+d.length;if(null!==n){for(var h=!1,y=0;y<n.length;y++){var m=n[y],g=m.begin,v=g+m.size;if(p<g&&f>=g&&f<v)f=g;else{if(p>=g&&f<v){h=!0;break}if(p>=g&&p<v&&f>=v)p=g+m.replacementSize,f-=m.size-m.replacementSize;else if(p<g&&f>=v)f-=m.size-m.replacementSize;else if(p>=v){var b=m.size-m.replacementSize;p-=b,f-=b}}}if(h||p===f)continue}if(f>a)break;u+=o.escape(e.slice(l,p)),u+='<span class="'+s+'"',d.dataHighlightGroup&&(u+=' data-highlight-group="'+d.dataHighlightGroup.toString()+'"'),d.dataHighlightGroupTerm&&(u+=' data-highlight-group-term="'+d.dataHighlightGroupTerm+'"'),u+=">",u+=o.escape(e.slice(p,f)),u+="</span>",l=f}return l!=a&&(u+=o.escape(e.slice(l))),u},e}();t.HighlightUtils=a},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(56),i=n(73),o=n(46),s=n(77),a=n(8),u=n(5),l=n(4),c=n(0),d=function(){function e(){}return e.buildTemplateOption=function(t){return a.ComponentOptions.buildOption(a.ComponentOptionsType.TEMPLATE,e.loadTemplateOption,t)},e.loadTemplateOption=function(t,n,r,i){void 0===i&&(i=document);var o,s=r.selectorAttr||a.ComponentOptions.attrNameFromName(n,r)+"-selector",u=t.getAttribute(s)||a.ComponentOptions.getAttributeFromAlias(t,r);if(null!=u){var l=i.querySelector(u);null!=l&&(o=e.createResultTemplateFromElement(l))}if(null==o){var c=r.idAttr||a.ComponentOptions.attrNameFromName(n,r)+"-id",d=t.getAttribute(c)||a.ComponentOptions.getAttributeFromAlias(t,r);null!=d&&(o=e.loadResultTemplateFromId(d))}if(null==o){var p=r.childSelector;null==p&&(p="."+n.replace(/([A-Z])/g,"-$1").toLowerCase()),o=e.loadChildrenResultTemplateFromSelector(t,p)}return o},e.createResultTemplateFromElement=function(e){u.Assert.exists(e);var t=e.getAttribute("type"),n="You must specify the type of template. Valid values are: "+o.UnderscoreTemplate.mimeTypes.toString()+" "+s.HtmlTemplate.mimeTypes.toString();return u.Assert.check(l.Utils.isNonEmptyString(t),n),-1!=c.indexOf(o.UnderscoreTemplate.mimeTypes,t.toLowerCase())?o.UnderscoreTemplate.create(e):-1!=c.indexOf(s.HtmlTemplate.mimeTypes,t.toLowerCase())?new s.HtmlTemplate(e):void u.Assert.fail("Cannot guess template type from attribute: "+t+". Valid values are "+n)},e.loadResultTemplateFromId=function(e){return l.Utils.isNonEmptyString(e)?r.TemplateCache.getTemplate(e):null},e.loadChildrenResultTemplateFromSelector=function(t,n){var r=a.ComponentOptions.loadChildrenHtmlElementFromSelector(t,n);return r.length>0?new i.TemplateList(c.compact(r.map(function(t){return e.createResultTemplateFromElement(t)}))):null},e}();t.TemplateComponentOptions=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5);t.Assert=r.Assert;var i=n(28);t.Defer=i.Defer;var o=n(115);t.L10N=o.L10N;var s=n(11);t.Logger=s.Logger;var a=n(60);t.Options=a.Options;var u=n(7);t.l=u.l,n(11).Logger.disable()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),i=n(20),o=n(0),s=function(){function e(){this.parts=[],this.wrapParts=!0}return e.prototype.add=function(e){r.Assert.isNonEmptyString(e),this.parts.push(e)},e.prototype.fromExpressionBuilder=function(e){this.parts=this.parts.concat(e.parts)},e.prototype.addFieldExpression=function(e,t,n){r.Assert.isNonEmptyString(e),r.Assert.stringStartsWith(e,"@"),r.Assert.isNonEmptyString(t),r.Assert.isLargerOrEqualsThan(1,n.length),this.add(i.QueryUtils.buildFieldExpression(e,t,n))},e.prototype.addFieldNotEqualExpression=function(e,t){r.Assert.isNonEmptyString(e),r.Assert.stringStartsWith(e,"@"),r.Assert.isLargerOrEqualsThan(1,t.length),this.add(i.QueryUtils.buildFieldNotEqualExpression(e,t))},e.prototype.remove=function(e){r.Assert.isNonEmptyString(e),-1!=o.indexOf(this.parts,e)&&this.parts.splice(o.indexOf(this.parts,e),1)},e.prototype.isEmpty=function(){return 0==this.parts.length},e.prototype.build=function(e){return void 0===e&&(e=" "),0==this.parts.length?void 0:1==this.parts.length?this.parts[0]:this.wrapParts?"("+this.parts.join(")"+e+"(")+")":this.parts.join(e)},e.prototype.getParts=function(){return this.parts},e.merge=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=new e;return o.each(t,function(e){r.parts=r.parts.concat(e.parts)}),r},e.mergeUsingOr=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=o.filter(t,function(e){return!e.isEmpty()}),i=new e;if(1==r.length)i.parts=[].concat(r[0].parts);else if(r.length>1){var s=o.map(r,function(e){return e.build()});i.add("("+s.join(") OR (")+")")}return i},e}();t.ExpressionBuilder=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(21),i=n(5),o=n(46),s=n(77),a=n(0),u=function(){function e(){}return e.registerTemplate=function(t,n,o,s,u){void 0===o&&(o=!0),void 0===s&&(s=!1),void 0===u&&(u=!1),i.Assert.isNonEmptyString(t),i.Assert.exists(n),n instanceof r.Template||(n=new r.Template(n)),null==n.name&&(n.name=t),e.templates[t]=n,o&&!a.contains(e.templateNames,t)&&e.templateNames.push(t),u&&!a.contains(e.resultListTemplateNames,t)&&e.resultListTemplateNames.push(t),s&&(e.defaultTemplates[t]=n)},e.unregisterTemplate=function(t){i.Assert.isNonEmptyString(t),void 0!=e.templates[t]&&delete e.templates[t],void 0!=e.defaultTemplates[t]&&delete e.defaultTemplates[t]},e.getTemplate=function(t){return e.templates[t]||e.scanAndRegisterTemplates(),i.Assert.exists(e.templates[t]),e.templates[t]},e.getTemplates=function(){return e.templates},e.getTemplateNames=function(){return e.templateNames},e.getResultListTemplateNames=function(){return e.resultListTemplateNames},e.getDefaultTemplates=function(){return a.keys(e.defaultTemplates)},e.getDefaultTemplate=function(t){return i.Assert.exists(e.defaultTemplates[t]),e.defaultTemplates[t]},e.scanAndRegisterTemplates=function(){o.UnderscoreTemplate.isLibraryAvailable()&&e.scanAndRegisterUnderscoreTemplates(),e.scanAndRegisterHtmlTemplates()},e.scanAndRegisterUnderscoreTemplates=function(){a.each(o.UnderscoreTemplate.mimeTypes,function(t){for(var n=document.querySelectorAll("script[id][type='"+t+"']"),r=n.length,i=new Array(r);r--;)i[r]=n.item(r);a.each(i,function(t){var n=new o.UnderscoreTemplate(t);e.registerTemplate(t.getAttribute("id"),n)})})},e.scanAndRegisterHtmlTemplates=function(){a.each(s.HtmlTemplate.mimeTypes,function(t){for(var n=document.querySelectorAll("script[id][type='"+t+"']"),r=n.length,i=new Array(r);r--;)i[r]=n.item(r);a.each(i,function(t){var n=new s.HtmlTemplate(t);e.registerTemplate(t.getAttribute("id"),n)})})},e.templates={},e.templateNames=[],e.resultListTemplateNames=[],e.defaultTemplates={},e}();t.TemplateCache=u,document.addEventListener("DOMContentLoaded",function(){u.scanAndRegisterTemplates()})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),i=function(){function e(e,t){void 0===t&&(t=!0),this.milliseconds=t?e:1e3*e}return e.prototype.getMilliseconds=function(){return this.milliseconds},e.prototype.getSeconds=function(){return this.getMilliseconds()/1e3},e.prototype.getMinutes=function(){return this.getSeconds()/60},e.prototype.getHours=function(){return this.getMinutes()/60},e.prototype.getDays=function(){return this.getHours()/24},e.prototype.getWeeks=function(){return this.getDays()/7},e.prototype.getHHMMSS=function(){var e,t,n,r=Math.floor(this.getHours()),i=Math.floor(this.getMinutes())%60,o=Math.floor(this.getSeconds())%60;return e=0==r?"":r<10?"0"+r.toString():r.toString(),t=i<10?"0"+i.toString():i.toString(),n=o<10?"0"+o.toString():o.toString(),(""!=e?e+":":"")+t+":"+n},e.fromDates=function(t,n){return r.Assert.exists(t),r.Assert.exists(n),new e(n.valueOf()-t.valueOf())},e}();t.TimeSpan=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(301);var r=n(3),i=n(1),o=function(){function e(e,t){void 0===e&&(e=function(e){}),this.onChange=e,this.label=t,this.buildContent()}return e.prototype.toggle=function(){this.checkbox.checked=!this.isSelected(),i.$$(this.checkbox).trigger("change")},e.prototype.getElement=function(){return this.element},e.prototype.build=function(){return this.element},e.prototype.getValue=function(){return this.label},e.prototype.reset=function(){var e=this.isSelected();this.checkbox.checked=!1,e&&i.$$(this.checkbox).trigger("change")},e.prototype.select=function(e){void 0===e&&(e=!0);var t=this.isSelected();this.checkbox.checked=!0,!t&&e&&i.$$(this.checkbox).trigger("change")},e.prototype.isSelected=function(){return this.checkbox.checked},e.prototype.getLabel=function(){return this.element},e.prototype.buildContent=function(){var e=this,t=i.$$("label",{className:"coveo-checkbox-label"});this.checkbox=i.$$("input",{type:"checkbox",className:"coveo-checkbox",value:this.label}).el;var n=i.$$("button",{type:"button",className:"coveo-checkbox-button","aria-label":this.label}),r=i.$$("span",{className:"coveo-checkbox-span-label"});r.text(this.label),t.append(this.checkbox),t.append(n.el),t.append(r.el),n.on("click",function(t){t.preventDefault(),e.toggle()}),i.$$(this.checkbox).on("change",function(){return e.onChange(e)}),this.element=t.el},e.doExport=function(){r.exportGlobally({Checkbox:e})},e}();t.Checkbox=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.getJQuery=function(){return!!(window&&window.Coveo&&window.Coveo.$)&&window.Coveo.$},e.isInstanceOfJQuery=function(e){var t=this.getJQuery();return!!t&&e instanceof t},e.isInstanceOfJqueryEvent=function(e){var t=this.getJQuery();return!!t&&e instanceof t.Event},e}();t.JQueryUtils=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),i=n(0),o=function(){function e(){}return e.prototype.merge=function(e){return i.extend({},this,e)},e.prototype.mergeDeep=function(e){return i.extend({},r.Utils.extendDeep(this,e))},e}();t.Options=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(15),o=function(e){function t(n){return e.call(this,n,t.ID,{})||this}return r(t,e),t.prototype.registerComponent=function(e,t){void 0==this.attributes[e]?this.attributes[e]=[t]:this.attributes[e].push(t)},t.ID="ComponentState",t}(i.Model);t.ComponentStateModel=o},,function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.searchAlertsCreated="searchAlertsCreated",e.searchAlertsDeleted="searchAlertsDeleted",e.searchAlertsFail="searchAlertsFail",e.searchAlertsPopulateMessage="searchAlertsPopulateMessage",e}();t.SearchAlertsEvents=r},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(30),s=n(94),a=n(4),u=n(19),l=n(13),c=n(26),d=n(11),p=n(49),f=function(){function e(){}return e.getPopUpCloseButton=function(e,t){var n=document.createElement("span"),r=document.createElement("span");i.$$(r).addClass("coveo-close-button"),n.appendChild(r);var o=document.createElement("span");i.$$(o).addClass("coveo-icon"),i.$$(o).addClass("coveo-sprites-quickview-close"),r.appendChild(o),i.$$(r).text(e);var s=document.createElement("span");return i.$$(s).addClass("coveo-pop-up-reminder"),i.$$(s).text(t),n.appendChild(s),n.outerHTML},e.getBasicLoadingAnimation=function(){var e=document.createElement("div");return e.className="coveo-first-loading-animation",e.innerHTML="<div class='coveo-logo'>"+l.SVGIcons.icons.coveoLogo+"</div>\n    <div class='coveo-loading-container'>\n      <div class='coveo-loading-dot'></div>\n      <div class='coveo-loading-dot'></div>\n      <div class='coveo-loading-dot'></div>\n      <div class='coveo-loading-dot'></div>\n    </div>",e},e.highlightElement=function(e,t,n){void 0===n&&(n="coveo-highlight");var r=new RegExp(a.Utils.escapeRegexCharacter(u.StringUtils.latinize(t)),"i"),i=u.StringUtils.latinize(e).search(r);if(i>=0){var o=i+t.length;return u.StringUtils.htmlEncode(e.slice(0,i))+"<span class='"+n+"'>"+u.StringUtils.htmlEncode(e.slice(i,o))+"</span>"+u.StringUtils.htmlEncode(e.slice(o))}return e},e.getLoadingSpinner=function(){return i.$$("div",{className:"coveo-loading-spinner"}).el},e.getModalBoxHeader=function(e){var t=i.$$("div");return t.el.innerHTML="<div class='coveo-modalbox-right-header'>\n        <span class='coveo-modalbox-close-button'>\n          <span class='coveo-icon coveo-sprites-common-clear'></span>\n        </span>\n      </div>\n      <div class='coveo-modalbox-left-header'>\n        <span class='coveo-modalbox-pop-up-reminder'> "+(e||"")+"</span>\n      </div>",t},e.getQuickviewHeader=function(e,t,n){var u=this,l="";if(t.showDate){var f=a.Utils.getFieldValue(e,"date");f&&(l=o.DateUtils.dateTimeToString(new Date(f)))}var h=s.FileTypes.get(e),y=i.$$("div");y.el.innerHTML="<div class='coveo-quickview-right-header'>\n        <span class='coveo-quickview-time'>"+l+"</span>\n        <span class='coveo-quickview-close-button'>\n          <span class='coveo-icon coveo-sprites-common-clear'></span>\n        </span>\n      </div>\n      <div class='coveo-quickview-left-header'>\n        <span class='coveo-quickview-icon coveo-small "+h.icon+"'></span>\n      </div>";var m=i.$$("a",{className:"coveo-quickview-pop-up-reminder"}),g=Coveo.Salesforce?"SalesforceResultLink":"ResultLink",v=r({},e);return t.title&&(v.title=t.title),c.load(g).then(function(){return m.addClass("Coveo"+g),p.Initialization.automaticallyCreateComponentsInsideResult(m.el,v)}).catch(function(e){var n=new d.Logger(u);n.error("Failed to load module "+g+" : "+e),n.info("Fallback on displaying a non clickable header"),m.text(t.title)}).finally(function(){i.$$(y.find(".coveo-quickview-left-header")).append(m.el)}),y},e}();t.DomUtils=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.buildingAdvancedSearch="buildingAdvancedSearch",e.executeAdvancedSearch="executeAdvancedSearch",e}();t.AdvancedSearchEvents=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(11),o=n(5),s=n(57),a=n(22),u=n(4),l=n(59),c=n(0),d=n(45);!function(e){e[e.OPENED=XMLHttpRequest.OPENED||1]="OPENED",e[e.HEADERS_RECEIVED=XMLHttpRequest.HEADERS_RECEIVED||2]="HEADERS_RECEIVED",e[e.DONE=XMLHttpRequest.DONE||4]="DONE"}(r||(r={}));var p=function(){function e(e){void 0===e&&(e={}),this.options=e,this.useJsonp=!1,this.logger=new i.Logger(this)}return e.prototype.call=function(e){var t={url:e.url,queryString:e.errorsAsSuccess?e.queryString.concat(["errorsAsSuccess=1"]):e.queryString,requestData:e.requestData,requestDataType:e.requestDataType||'application/x-www-form-urlencoded; charset="UTF-8"',begun:new Date,method:e.method};t.headers=this.buildRequestHeaders(t),c.isFunction(this.options.requestModifier)&&(t=this.options.requestModifier(t)),this.logger.trace("Performing REST request",t);var n=this.parseURL(t.url),r=window.location.hostname===n.hostname||""===n.hostname,i=""!=window.location.port?window.location.port:"https:"==window.location.protocol?"443":"80",o=i==n.port,s=!(r&&o);return this.useJsonp?this.callUsingAjaxJsonP(t):this.isCORSSupported()||!s?this.callUsingXMLHttpRequest(t,e.responseType):this.isXDomainRequestSupported()?this.callUsingXDomainRequest(t):this.callUsingAjaxJsonP(t)},e.prototype.callUsingXMLHttpRequest=function(e,t){var n=this;return void 0===t&&(t="text"),new Promise(function(i,o){var s=n.getXmlHttpRequest(),u=!1;s.onreadystatechange=function(l){if(s.readyState!=r.OPENED||u){if(s.readyState==r.HEADERS_RECEIVED){var d=s.status;n.isSuccessHttpStatus(d)?s.responseType=t:s.responseType="text"}else if(s.readyState==r.DONE){var p=s.status,f=void 0;switch(t){case"json":if(f=s.response,"json"==t&&"IE"==a.DeviceUtils.getDeviceName())try{f=JSON.parse(f)}catch(e){}break;case"text":f=n.tryParseResponseText(s.responseText,s.getResponseHeader("Content-Type"));break;default:f=s.response}void 0==f&&(f=n.tryParseResponseText(s.responseText,s.getResponseHeader("Content-Type"))),n.isSuccessHttpStatus(p)?n.handleSuccessfulResponseThatMightBeAnError(e,f,i,o):n.handleError(e,s.status,f,o)}}else u=!0,s.withCredentials=!0,c.each(e.headers,function(e,t){s.setRequestHeader(t,e)}),"GET"==e.method?s.send():0===e.requestDataType.indexOf("application/json")?s.send(JSON.stringify(e.requestData)):s.send(n.convertJsonToFormBody(e.requestData))};var l=e.queryString;"GET"==e.method&&(l=l.concat(n.convertJsonToQueryString(e.requestData))),s.open(e.method,n.combineUrlAndQueryString(e.url,l))})},e.prototype.callUsingXDomainRequest=function(e){var t=this;return new Promise(function(n,r){var i=e.queryString.concat([]);t.options.accessToken&&i.push("access_token="+u.Utils.safeEncodeURIComponent(t.options.accessToken));var o=new XDomainRequest;"GET"==e.method&&(i=i.concat(t.convertJsonToQueryString(e.requestData))),o.open(e.method,t.combineUrlAndQueryString(e.url,i)),o.onload=function(){var i=t.tryParseResponseText(o.responseText,o.contentType);t.handleSuccessfulResponseThatMightBeAnError(e,i,n,r)},o.onerror=function(){var n=t.tryParseResponseText(o.responseText,o.contentType);t.handleError(e,0,n,r)},o.ontimeout=function(){return t.logger.error("Request timeout",o,e.requestData)},o.onprogress=function(){return t.logger.trace("Request progress",o,e.requestData)},c.defer(function(){"GET"==e.method?o.send():o.send(t.convertJsonToFormBody(e.requestData))})})},e.prototype.callUsingAjaxJsonP=function(t){var n=this,r=l.JQueryUtils.getJQuery();return o.Assert.check(r,"Using jsonp without having included jQuery is not supported."),new Promise(function(i,o){var s=t.queryString.concat(n.convertJsonToQueryString(t.requestData));n.options.accessToken&&s.push("access_token="+u.Utils.safeEncodeURIComponent(n.options.accessToken)),s.push("callback=?"),r.ajax({url:n.combineUrlAndQueryString(t.url,s),dataType:"jsonp",success:function(e){return n.handleSuccessfulResponseThatMightBeAnError(t,e,i,o)},timeout:e.JSONP_ERROR_TIMEOUT,error:function(){return n.handleError(t,0,void 0,o)}})})},e.prototype.parseURL=function(e){var t=document.createElement("a");return t.href=e,t},e.prototype.getXmlHttpRequest=function(){return new(this.options.xmlHttpRequest||XMLHttpRequest)},e.prototype.convertJsonToQueryString=function(e){o.Assert.exists(e);var t=[];return c.each(e,function(e,n){null!=e&&(c.isObject(e)?t.push(n+"="+u.Utils.safeEncodeURIComponent(JSON.stringify(e))):t.push(n+"="+u.Utils.safeEncodeURIComponent(e.toString())))}),t},e.prototype.convertJsonToFormBody=function(e){return this.convertJsonToQueryString(e).join("&")},e.prototype.handleSuccessfulResponseThatMightBeAnError=function(e,t,n,r){this.isErrorResponseBody(t)?this.handleError(e,t.statusCode,t,r):this.handleSuccess(e,t,n)},e.prototype.handleSuccess=function(e,t,n){var r={duration:s.TimeSpan.fromDates(e.begun,new Date).getMilliseconds(),data:t};this.logger.trace("REST request successful",t,e),n(r)},e.prototype.handleError=function(e,t,n,r){var i={statusCode:t,data:n};this.logger.error("REST request failed",t,n,e),r(i)},e.prototype.combineUrlAndQueryString=function(e,t){return d.UrlUtils.normalizeAsString({paths:[e],queryAsString:t})},e.prototype.isXDomainRequestSupported=function(){return"XDomainRequest"in window},e.prototype.isCORSSupported=function(){return"withCredentials"in this.getXmlHttpRequest()},e.prototype.isSuccessHttpStatus=function(e){return e>=200&&e<300||304===e},e.prototype.tryParseResponseText=function(e,t){if(null==t||-1==t.indexOf("application/json"))return e;if(u.Utils.isNonEmptyString(e))try{return JSON.parse(e)}catch(e){return}},e.prototype.isErrorResponseBody=function(e){return!(!e||!e.statusCode)&&!this.isSuccessHttpStatus(e.statusCode)},e.prototype.buildRequestHeaders=function(e){var t={};return this.options.accessToken?t.Authorization="Bearer "+this.options.accessToken:this.options.username&&this.options.password&&(t.Authorization="Basic "+btoa(this.options.username+":"+this.options.password)),"GET"==e.method?t:(0===e.requestDataType.indexOf("application/json")?t["Content-Type"]='application/json; charset="UTF-8"':t["Content-Type"]='application/x-www-form-urlencoded; charset="UTF-8"',t)},e.JSONP_ERROR_TIMEOUT=1e4,e}();t.EndpointCaller=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.searchEvent="analyticsSearchEvent",e.documentViewEvent="analyticsDocumentViewEvent",e.customEvent="analyticsCustomEvent",e.changeAnalyticsCustomData="changeAnalyticsCustomData",e}();t.AnalyticsEvents=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.set=function(t,n,r){var i,o,s,a,u;r?(s=new Date,s.setTime(s.getTime()+r),a="; expires="+s.toGMTString()):a="",u=location.hostname,1===u.split(".").length?document.cookie=this.prefix+t+"="+n+a+"; path=/":(o=u.split("."),o.shift(),i="."+o.join("."),document.cookie=this.prefix+t+"="+n+a+"; path=/; domain="+i,null!=e.get(t)&&e.get(t)==n||(i="."+u,document.cookie=this.prefix+t+"="+n+a+"; path=/; domain="+i))},e.get=function(e){for(var t=this.prefix+e+"=",n=document.cookie.split(";"),r=0;r<n.length;r++){for(var i=n[r];" "==i.charAt(0);)i=i.substring(1,i.length);if(0==i.indexOf(t))return i.substring(t.length,i.length)}return null},e.erase=function(t){e.set(t,"",-1)},e.prefix="coveo_",e}();t.Cookie=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(1);!function(e){e[e.TOP=0]="TOP",e[e.MIDDLE=1]="MIDDLE",e[e.BOTTOM=2]="BOTTOM",e[e.INNERTOP=3]="INNERTOP",e[e.INNERBOTTOM=4]="INNERBOTTOM"}(r=t.PopupVerticalAlignment||(t.PopupVerticalAlignment={}));var o;!function(e){e[e.LEFT=0]="LEFT",e[e.CENTER=1]="CENTER",e[e.RIGHT=2]="RIGHT",e[e.INNERLEFT=3]="INNERLEFT",e[e.INNERRIGHT=4]="INNERRIGHT"}(o=t.PopupHorizontalAlignment||(t.PopupHorizontalAlignment={}));var s=function(){function e(){}return e.positionPopup=function(t,n,r,o,s,a){void 0===a&&(a=0),t.style.position="absolute",s&&i.$$(s).append(t),o.verticalOffset=o.verticalOffset?o.verticalOffset:0,o.horizontalOffset=o.horizontalOffset?o.horizontalOffset:0;var u=i.$$(n).offset();e.basicVerticalAlignment(u,t,n,o),e.basicHorizontalAlignment(u,t,n,o),e.finalAdjustement(i.$$(t).offset(),u,t,o);var l=e.getBoundary(t),c=e.getBoundary(r);if(a<2){var d=e.checkForOutOfBoundary(l,c);if("ok"!=d.horizontal&&!0===o.horizontalClip){var p=t.offsetWidth;l.left<c.left&&(p-=c.left-l.left),l.right>c.right&&(p-=l.right-c.right),t.style.width=p+"px",d.horizontal="ok"}if("ok"!=d.vertical||"ok"!=d.horizontal){var f=e.alignInsideBoundary(o,d);e.positionPopup(t,n,r,f,s,a+1)}}},e.finalAdjustement=function(e,t,n,r){var o=i.$$(n).position();n.style.top=o.top+r.verticalOffset-(e.top-t.top)+"px",n.style.left=o.left+r.horizontalOffset-(e.left-t.left)+"px"},e.basicVerticalAlignment=function(e,t,n,i){switch(i.vertical){case r.TOP:e.top-=t.offsetHeight;break;case r.BOTTOM:e.top+=n.offsetHeight;break;case r.MIDDLE:e.top-=t.offsetHeight/3;case r.INNERTOP:break;case r.INNERBOTTOM:e.top-=t.offsetHeight-n.offsetHeight}},e.basicHorizontalAlignment=function(t,n,r,i){switch(i.horizontal){case o.LEFT:t.left-=n.offsetWidth;break;case o.RIGHT:t.left+=r.offsetWidth;break;case o.CENTER:t.left+=e.offSetToAlignCenter(n,r);break;case o.INNERLEFT:break;case o.INNERRIGHT:t.left-=n.offsetWidth-r.offsetWidth}},e.alignInsideBoundary=function(e,t){var n=e;return"left"==t.horizontal&&(n.horizontal=o.RIGHT),"right"==t.horizontal&&(n.horizontal=o.LEFT),"top"==t.vertical&&(n.vertical=r.BOTTOM),"bottom"==t.vertical&&(n.vertical=r.TOP),n},e.offSetToAlignCenter=function(e,t){return(t.offsetWidth-e.offsetWidth)/2},e.getBoundary=function(e){var t,n=i.$$(e).offset();return t="body"==e.tagName.toLowerCase()?Math.max(e.scrollHeight,e.offsetHeight):"html"==e.tagName.toLowerCase()?Math.max(e.clientHeight,e.scrollHeight,e.offsetHeight):e.offsetHeight,{top:n.top,left:n.left,right:n.left+e.offsetWidth,bottom:n.top+t}},e.checkForOutOfBoundary=function(e,t){var n={vertical:"ok",horizontal:"ok"};return e.top<t.top&&(n.vertical="top"),e.bottom>t.bottom&&(n.vertical="bottom"),e.left<t.left&&(n.horizontal="left"),e.right>t.right&&(n.horizontal="right"),n},e}();t.PopupUtils=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.beforeRedirect="beforeRedirect",e}();t.StandaloneSearchInterfaceEvents=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.savePreferences="savePreferences",e.exitPreferencesWithoutSave="exitPreferencesWithoutSave",e}();t.PreferencesPanelEvents=r},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(21),o=n(87),s=n(5),a=n(0),u=function(e){function t(t){var n=e.call(this)||this;return n.templates=t,s.Assert.exists(t),n}return r(t,e),t.prototype.instantiateToString=function(e,t){void 0===t&&(t={});for(var n=(new i.DefaultInstantiateTemplateOptions).merge(t),r=a.reject(this.templates,function(e){return null!=e.role}),o=0;o<r.length;o++){var s=r[o].instantiateToString(e,n);if(null!=s)return s}return this.getFallbackTemplate().instantiateToString(e,t)},t.prototype.instantiateToElement=function(e,t){void 0===t&&(t={});for(var n=(new i.DefaultInstantiateTemplateOptions).merge(t),r=a.reject(this.templates,function(e){return null!=e.role}),o=0;o<r.length;o++){var s=r[o].instantiateToElement(e,n);if(null!=s)return s}return this.getFallbackTemplate().instantiateToElement(e,n)},t.prototype.getFields=function(){return a.reduce(this.templates,function(e,t){return e.concat(t.getFields())},[])},t.prototype.getType=function(){return"TemplateList"},t.prototype.getFallbackTemplate=function(){return new o.DefaultResultTemplate},t}(i.Template);t.TemplateList=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version={lib:"2.4710.19",product:"2.4710.19",supportedApiVersion:2}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.showDebugPanel="showDebugPanel",e}();t.DebugEvents=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.isContextual=!1,this.endpoint=null}return e.prototype.isActivated=function(){return!1},e.prototype.getCurrentEventCause=function(){return this.currentEventCause},e.prototype.getCurrentEventMeta=function(){return this.currentEventMeta},e.prototype.logSearchEvent=function(e,t){this.setNoopCauseAndMeta(e.name,t)},e.prototype.logSearchAsYouType=function(e,t){this.setNoopCauseAndMeta(e.name,t)},e.prototype.logClickEvent=function(e,t,n,r){return this.setNoopCauseAndMeta(e.name,t),Promise.resolve(null)},e.prototype.logCustomEvent=function(e,t,n){return this.setNoopCauseAndMeta(e.name,t),Promise.resolve(null)},e.prototype.getTopQueries=function(e){return new Promise(function(e,t){e([])})},e.prototype.getCurrentVisitIdPromise=function(){return new Promise(function(e,t){e(null)})},e.prototype.getCurrentVisitId=function(){return null},e.prototype.sendAllPendingEvents=function(){},e.prototype.cancelAllPendingEvents=function(){},e.prototype.warnAboutSearchEvent=function(){},e.prototype.getPendingSearchEvent=function(){return null},e.prototype.setOriginContext=function(e){},e.prototype.setNoopCauseAndMeta=function(e,t){this.currentEventCause=e,this.currentEventMeta=t},e}();t.NoopAnalyticsClient=r},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(21),o=n(5),s=n(120),a=function(e){function t(t){var n=e.call(this,function(){return t.innerHTML})||this;return n.element=t,n.templateFromAScriptTag=new s.TemplateFromAScriptTag(n,n.element),n}return r(t,e),t.prototype.toHtmlElement=function(){return this.templateFromAScriptTag.toHtmlElement()},t.prototype.getType=function(){return"HtmlTemplate"},t.create=function(e){return o.Assert.exists(e),new t(e)},t.fromString=function(e,n){return new t(s.TemplateFromAScriptTag.fromString(e,n))},t.prototype.getTemplateInfo=function(){return this.element},t.mimeTypes=["text/html","text/HTML"],t}(i.Template);t.HtmlTemplate=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10),i=n(5),o=n(1),s=n(18),a=n(6),u=n(34),l=n(28),c=n(124),d=n(68),p=n(9),f=n(12),h=n(0),y=function(){function e(e,t,n,s){var a=this;this.root=e,this.endpoint=t,this.templateSearchEvent=n,this.sendToCloud=s,this.searchPromises=[],this.results=[],this.cancelled=!1,this.finished=!1,this.searchEvents=[],i.Assert.exists(e),i.Assert.exists(t),i.Assert.exists(n),this.handler=function(e,t){a.handleDuringQuery(e,t)},o.$$(e).on(r.QueryEvents.duringQuery,this.handler)}return e.prototype.getEventCause=function(){return this.templateSearchEvent.actionCause},e.prototype.getEventMeta=function(){return this.templateSearchEvent.customData},e.prototype.cancel=function(){this.stopRecording(),this.cancelled=!0},e.prototype.handleDuringQuery=function(e,t,n){var r=this;i.Assert.check(!this.finished),i.Assert.check(!this.cancelled),this.searchPromises.push(t.promise);var o=e.target,l=a.Component.get(o,s.SearchInterface);i.Assert.exists(l),n||(n=l.queryStateModel.get(f.QueryStateModel.attributesEnum.q));var c=a.Component.get(o,u.QueryController);i.Assert.exists(c),t.promise.then(function(e){if(i.Assert.exists(e),i.Assert.check(!r.finished),!0!==e._reusedSearchUid||r.templateSearchEvent.actionCause==p.analyticsActionCauseList.recommendation.name){var o=h.extend({},r.templateSearchEvent);return r.fillSearchEvent(o,l,t.query,e,n),r.searchEvents.push(o),r.results.push(e),e}}).finally(function(){var e=h.indexOf(r.searchPromises,t.promise);r.searchPromises.splice(e,1),0==r.searchPromises.length&&r.flush()})},e.prototype.stopRecording=function(){this.handler&&(o.$$(this.root).off(r.QueryEvents.duringQuery,this.handler),o.$$(this.root).off(r.QueryEvents.duringFetchMoreQuery,this.handler),this.handler=null)},e.prototype.flush=function(){var e=this;this.cancelled||(this.stopRecording(),this.finished=!0,i.Assert.check(this.searchEvents.length==this.results.length),l.Defer.defer(function(){e.sendToCloud&&e.endpoint.sendSearchEvents(e.searchEvents);var t=h.map(e.searchEvents,function(e){return c.APIAnalyticsBuilder.convertSearchEventToAPI(e)});o.$$(e.root).trigger(d.AnalyticsEvents.searchEvent,{searchEvents:t})}))},e.prototype.fillSearchEvent=function(e,t,n,r,o){i.Assert.exists(e),i.Assert.exists(t),i.Assert.exists(n),i.Assert.exists(r);var s=t.queryStateModel.get(f.QueryStateModel.attributesEnum.q);e.queryPipeline=r.pipeline,e.splitTestRunName=e.splitTestRunName||r.splitTestRun,e.splitTestRunVersion=e.splitTestRunVersion||(void 0!=r.splitTestRun?r.pipeline:void 0),e.originLevel2=e.originLevel2||t.queryStateModel.get("t")||"default",e.queryText=o||s||n.q||"",e.advancedQuery=n.aq||"",e.didYouMean=n.enableDidYouMean,e.numberOfResults=r.totalCount,e.responseTime=r.duration,e.pageNumber=n.firstResult/n.numberOfResults,e.resultsPerPage=n.numberOfResults,e.searchQueryUid=r.searchUid,e.queryPipeline=r.pipeline,void 0!=n.context&&h.each(n.context,function(t,n){e.customData["context_"+n]=t}),void 0!=r.refinedKeywords&&0!=r.refinedKeywords.length&&(e.customData.refinedKeywords=r.refinedKeywords)},e}();t.PendingSearchEvent=y},,,function(e,t,n){"use strict";function r(e,t,n,r){var s=[],a=i(t,n);return f.each(a,function(n){var i=f.compact([n].concat(t[n]).sort(o));i=f.map(i,function(e){return d.Utils.escapeRegexCharacter(e)});var a=y;a+=i.join("|")+")(?=(?:"+h+"|$)+)";var u=c.StringUtils.getHighlights(e,new RegExp(a,r.regexFlags),n);void 0!=u&&d.Utils.isNonEmptyArray(u)&&s.push(u)}),f.each(n,function(t,n){var i=n.split(" "),o=y;f.each(i,function(e,n){o+="(?:"+[e].concat(t[e]).join("|")+")",n==i.length-1&&(o+="(?="),o+=h,n==i.length-1&&(o+="|$)"),n!=i.length-1&&(o+="+")}),o+=")";var a=c.StringUtils.getHighlights(e,new RegExp(o,r.regexFlags),n);void 0!=a&&d.Utils.isNonEmptyArray(a)&&s.push(a)}),f.chain(s).flatten().compact().uniq(function(e){return e.offset}).sortBy(function(e){return e.offset}).map(function(e){var r=f.keys(t),i=f.keys(n),o=r.concat(i),s=f.indexOf(o,e.dataHighlightGroupTerm)+1;return f.extend(e,{dataHighlightGroup:s})}).value()}function i(e,t){var n=f.keys(e).sort(o),r=f.chain(t).values().map(f.keys).flatten().value();return f.difference(n,r)}function o(e,t){return e.length-t.length}function s(e){var t=p.$$("div").el;return t.innerHTML=e,t}var a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var u=n(60),l=n(51),c=n(19),d=n(4),p=n(1),f=n(0),h="[\\.\\-\\u2011\\s~=,.\\|\\/:'`;_()!?&+]",y="("+h+"|^)(",m=function(e){function t(t,n,r){void 0===t&&(t="coveo-highlight"),void 0===n&&(n=0),void 0===r&&(r="gi");var i=e.call(this)||this;return i.cssClass=t,i.shorten=n,i.regexFlags=r,i}return a(t,e),t}(u.Options);t.DefaultStreamHighlightOptions=m;var g=function(){function e(){}return e.highlightStreamHTML=function(t,n,i,o){var a=(new m).merge(o),u=s(t),c=p.$$(u).findAll("*");return c.length>0?(f.each(c,function(e,t){var o=p.$$(e).text();e.innerHTML=l.HighlightUtils.highlightString(o,r(o,n,i,a),[],a.cssClass)}),u.innerHTML):e.highlightStreamText(t,n,i,o)},e.highlightStreamText=function(e,t,n,i){var o=(new m).merge(i);return l.HighlightUtils.highlightString(e,r(e,t,n,o),[],o.cssClass)},e}();t.StreamHighlightUtils=g,t.getRestHighlightsForAllTerms=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),i=n(46),o=n(4),s=function(){function e(){}return e.registerFieldHelper=function(t,n){e.fieldHelpers.push(t),e.registerTemplateHelper(t,n)},e.registerTemplateHelper=function(t,n){r.Assert.isNonEmptyString(t),r.Assert.exists(n),e.registerTemplateHelperInUnderscore(t,n),e.helpers[t]=n},e.getHelper=function(t){return o.Utils.getCaseInsensitiveProperty(e.helpers,t)},e.getHelpers=function(){return e.helpers},e.registerTemplateHelperInUnderscore=function(e,t){r.Assert.isNonEmptyString(e),r.Assert.exists(t),i.UnderscoreTemplate.registerTemplateHelper(e,t)},e.helpers={},e.fieldHelpers=[],e}();t.TemplateHelpers=s},,,function(e,t,n){"use strict";function r(e){e.logSearchEvent(o.analyticsActionCauseList.searchboxSubmit,{})}function i(e,t){e.logSearchEvent(o.analyticsActionCauseList.resultsSort,{resultsSortBy:t})}Object.defineProperty(t,"__esModule",{value:!0});var o=n(9);t.logSearchBoxSubmitEvent=r,t.logSortEvent=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(106);t.ColorUtils=r.ColorUtils;var i=n(69);t.Cookie=i.Cookie;var o=n(105);t.CurrencyUtils=o.CurrencyUtils;var s=n(30);t.DateUtils=s.DateUtils;var a=n(22);t.DeviceUtils=a.DeviceUtils;var u=n(1);t.Dom=u.Dom,t.$$=u.$$;var l=n(65);t.DomUtils=l.DomUtils;var c=n(139);t.EmailUtils=c.EmailUtils;var d=n(39);t.HashUtils=d.HashUtils;var p=n(51);t.HighlightUtils=p.HighlightUtils,t.StringAndHoles=p.StringAndHoles;var f=n(140);t.HTMLUtils=f.HTMLUtils;var h=n(29);t.KEYBOARD=h.KEYBOARD,t.KeyboardUtils=h.KeyboardUtils;var y=n(38);t.LocalStorageUtils=y.LocalStorageUtils;var m=n(127);t.OSUtils=m.OSUtils,t.OS_NAME=m.OS_NAME;var g=n(70);t.PopupUtils=g.PopupUtils;var v=n(20);t.QueryUtils=v.QueryUtils;var b=n(81);t.StreamHighlightUtils=b.StreamHighlightUtils;var S=n(19);t.StringUtils=S.StringUtils;var E=n(57);t.TimeSpan=E.TimeSpan;var w=n(4);t.Utils=w.Utils;var C=n(45);t.UrlUtils=C.UrlUtils},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(21),o=n(46),s=n(56),a=n(5),u=n(1),l=n(0),c=n(2),d=function(e){function t(){var t=e.call(this)||this;return t.addFields(c.Initialization.getRegisteredFieldsForQuery()),t}return r(t,e),t.prototype.instantiateToString=function(e,t){void 0===t&&(t={}),a.Assert.exists(e);var n=(new i.DefaultInstantiateTemplateOptions).merge(t);e=l.extend({},e,o.UnderscoreTemplate.templateHelpers);for(var r=l.chain(s.TemplateCache.getDefaultTemplates()).map(function(e){return s.TemplateCache.getTemplate(e)}).value(),u=l.chain(r).sortBy(function(e){return null==e.condition}).sortBy(function(e){return null==e.fieldsToMatch}).value(),c=0;c<u.length;c++){var d=u[c].instantiateToString(e,n);if(null!=d)return d}return this.getFallbackTemplate()},t.prototype.getFields=function(){var e=l.map(s.TemplateCache.getDefaultTemplates(),function(e){return s.TemplateCache.getTemplate(e)});return l.flatten(l.map(e,function(e){return e.getFields()}))},t.prototype.getType=function(){return"DefaultResultTemplate"},t.prototype.getFallbackTemplate=function(){var e=u.$$("div",{className:"coveo-title"}),t=u.$$("a",{className:"CoveoResultLink"});e.append(t.el);var n=u.$$("div",{className:"CoveoExcerpt"}),r=u.$$("div");return r.append(e.el),r.append(n.el),r.el.outerHTML},t}(i.Template);t.DefaultResultTemplate=d},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(78),o=n(1),s=n(16),a=n(18),u=n(6),l=n(12),c=n(0),d=function(e){function t(t,n,r,i){var a=e.call(this,t,n,r,i)||this;return a.root=t,a.endpoint=n,a.templateSearchEvent=r,a.sendToCloud=i,a.delayBeforeSending=5e3,a.queryContent="",a.beforeUnloadHandler=function(){a.onWindowUnload()},window.addEventListener("beforeunload",a.beforeUnloadHandler),o.$$(t).on(s.InitializationEvents.nuke,function(){return a.handleNuke()}),a}return r(t,e),t.prototype.handleDuringQuery=function(t,n){var r=this,i=c.clone(t),o=t.target,s=u.Component.get(o,a.SearchInterface);this.modifyQueryContent(s.queryStateModel.get(l.QueryStateModel.attributesEnum.q)),this.beforeResolve=new Promise(function(t){r.toSendRightNow=function(){r.isCancelledOrFinished()||(t(r),e.prototype.handleDuringQuery.call(r,i,n,r.queryContent))},c.delay(function(){r.toSendRightNow()},r.delayBeforeSending)})},t.prototype.sendRightNow=function(){this.toSendRightNow&&this.toSendRightNow()},t.prototype.modifyCustomData=function(e,t){c.each(this.searchEvents,function(n){n.customData[e]=t}),this.templateSearchEvent.customData||(this.templateSearchEvent.customData={}),this.templateSearchEvent.customData[e]=t},t.prototype.modifyEventCause=function(e){c.each(this.searchEvents,function(t){t.actionCause=e.name,t.actionType=e.type}),this.templateSearchEvent.actionCause=e.name,this.templateSearchEvent.actionType=e.type},t.prototype.modifyQueryContent=function(e){this.queryContent=e},t.prototype.stopRecording=function(){e.prototype.stopRecording.call(this),this.beforeUnloadHandler&&(window.removeEventListener("beforeunload",this.beforeUnloadHandler),this.beforeUnloadHandler=void 0)},t.prototype.handleNuke=function(){window.removeEventListener("beforeunload",this.beforeUnloadHandler)},t.prototype.onWindowUnload=function(){this.isCancelledOrFinished()||this.sendRightNow()},t.prototype.isCancelledOrFinished=function(){return!!this.cancelled||!!this.finished&&(this.cancel(),!0)},t}(i.PendingSearchEvent);t.PendingSearchAsYouTypeSearchEvent=d},function(e,t,n){"use strict";var r=n(109);t.analytics=r;var i=n(240);t.SimpleAnalytics=i;var o=n(110);t.history=o;var s=n(243);t.donottrack=s;var a=n(111);t.storage=a},,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(4),o=n(7),s=n(5),a=n(0),u=function(){function e(){}return e.get=function(t){var n=i.Utils.getFieldValue(t,"objecttype"),r=i.Utils.getFieldValue(t,"filetype");return i.Utils.isNonEmptyString(n)&&!n.match(/^(file|document|contentversion|item)$/i)?e.getObjectType(n):i.Utils.isNonEmptyString(r)?e.getFileType(r):{icon:"coveo-icon filetype",caption:o.l("Unknown")}},e.getObjectType=function(e){var t=e.toLowerCase(),n="objecttype_"+t,r=o.l(n);return r.toLowerCase()==n.toLowerCase()&&(r=o.l(e)),{icon:"coveo-icon objecttype "+t.replace(" ","-"),caption:r}},e.getFileType=function(e){var t=e.toLowerCase();"."==t[0]&&(t=t.substring(1));var n="filetype_"+t,r=o.l(n);return r.toLowerCase()==n.toLowerCase()&&(r=o.l(e)),{icon:"coveo-icon filetype "+t.replace(" ","-"),caption:r}},e.getFileTypeCaptions=function(){if(void 0==r){r={};var e=String.locales[String.locale.toLowerCase()];s.Assert.isNotUndefined(e),a.each(a.keys(e),function(e){0==e.indexOf("filetype_")?r[e.substr("filetype_".length)]=e.toLocaleString():0==e.indexOf("objecttype_")&&(r[e.substr("objecttype_".length)]=e.toLocaleString())})}return r},e}();t.FileTypes=u},,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.populateResultLayout="populateResultLayout",e}();t.ResultLayoutEvents=r},function(e,t,n){(function(e){!function(t,n){e.exports=n()}(0,function(){"use strict";function t(){return xr.apply(null,arguments)}function n(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function r(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function i(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}function o(e){return void 0===e}function s(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function a(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function u(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}function l(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function c(e,t){for(var n in t)l(t,n)&&(e[n]=t[n]);return l(t,"toString")&&(e.toString=t.toString),l(t,"valueOf")&&(e.valueOf=t.valueOf),e}function d(e,t,n,r){return _t(e,t,n,r,!0).utc()}function p(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function f(e){return null==e._pf&&(e._pf=p()),e._pf}function h(e){if(null==e._isValid){var t=f(e),n=Or.call(t.parsedDateParts,function(e){return null!=e}),r=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(r=r&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return r;e._isValid=r}return e._isValid}function y(e){var t=d(NaN);return null!=e?c(f(t),e):f(t).userInvalidated=!0,t}function m(e,t){var n,r,i;if(o(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),o(t._i)||(e._i=t._i),o(t._f)||(e._f=t._f),o(t._l)||(e._l=t._l),o(t._strict)||(e._strict=t._strict),o(t._tzm)||(e._tzm=t._tzm),o(t._isUTC)||(e._isUTC=t._isUTC),o(t._offset)||(e._offset=t._offset),o(t._pf)||(e._pf=f(t)),o(t._locale)||(e._locale=t._locale),Mr.length>0)for(n=0;n<Mr.length;n++)r=Mr[n],i=t[r],o(i)||(e[r]=i);return e}function g(e){m(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===Ir&&(Ir=!0,t.updateOffset(this),Ir=!1)}function v(e){return e instanceof g||null!=e&&null!=e._isAMomentObject}function b(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function S(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=b(t)),n}function E(e,t,n){var r,i=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),s=0;for(r=0;r<i;r++)(n&&e[r]!==t[r]||!n&&S(e[r])!==S(t[r]))&&s++;return s+o}function w(e){!1===t.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function C(e,n){var r=!0;return c(function(){if(null!=t.deprecationHandler&&t.deprecationHandler(null,e),r){for(var i,o=[],s=0;s<arguments.length;s++){if(i="","object"==typeof arguments[s]){i+="\n["+s+"] ";for(var a in arguments[0])i+=a+": "+arguments[0][a]+", ";i=i.slice(0,-2)}else i=arguments[s];o.push(i)}w(e+"\nArguments: "+Array.prototype.slice.call(o).join("")+"\n"+(new Error).stack),r=!1}return n.apply(this,arguments)},n)}function _(e,n){null!=t.deprecationHandler&&t.deprecationHandler(e,n),Pr[e]||(w(n),Pr[e]=!0)}function T(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function A(e){var t,n;for(n in e)t=e[n],T(t)?this[n]=t:this["_"+n]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function x(e,t){var n,i=c({},e);for(n in t)l(t,n)&&(r(e[n])&&r(t[n])?(i[n]={},c(i[n],e[n]),c(i[n],t[n])):null!=t[n]?i[n]=t[n]:delete i[n]);for(n in e)l(e,n)&&!l(t,n)&&r(e[n])&&(i[n]=c({},i[n]));return i}function O(e){null!=e&&this.set(e)}function M(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return T(r)?r.call(t,n):r}function I(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])}function P(){return this._invalidDate}function L(e){return this._ordinal.replace("%d",e)}function R(e,t,n,r){var i=this._relativeTime[n];return T(i)?i(e,t,n,r):i.replace(/%d/i,e)}function k(e,t){var n=this._relativeTime[e>0?"future":"past"];return T(n)?n(t):n.replace(/%s/i,t)}function D(e,t){var n=e.toLowerCase();Nr[n]=Nr[n+"s"]=Nr[t]=e}function z(e){return"string"==typeof e?Nr[e]||Nr[e.toLowerCase()]:void 0}function N(e){var t,n,r={};for(n in e)l(e,n)&&(t=z(n))&&(r[t]=e[n]);return r}function F(e,t){Fr[e]=t}function U(e){var t=[];for(var n in e)t.push({unit:n,priority:Fr[n]});return t.sort(function(e,t){return e.priority-t.priority}),t}function j(e,t,n){var r=""+Math.abs(e),i=t-r.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}function Q(e,t,n,r){var i=r;"string"==typeof r&&(i=function(){return this[r]()}),e&&(Br[e]=i),t&&(Br[t[0]]=function(){return j(i.apply(this,arguments),t[1],t[2])}),n&&(Br[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function B(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function H(e){var t,n,r=e.match(Ur);for(t=0,n=r.length;t<n;t++)Br[r[t]]?r[t]=Br[r[t]]:r[t]=B(r[t]);return function(t){var i,o="";for(i=0;i<n;i++)o+=T(r[i])?r[i].call(t,e):r[i];return o}}function q(e,t){return e.isValid()?(t=$(t,e.localeData()),Qr[t]=Qr[t]||H(t),Qr[t](e)):e.localeData().invalidDate()}function $(e,t){function n(e){return t.longDateFormat(e)||e}var r=5;for(jr.lastIndex=0;r>=0&&jr.test(e);)e=e.replace(jr,n),jr.lastIndex=0,r-=1;return e}function Y(e,t,n){si[e]=T(t)?t:function(e,r){return e&&n?n:t}}function V(e,t){return l(si,e)?si[e](t._strict,t._locale):new RegExp(W(e))}function W(e){return G(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,r,i){return t||n||r||i}))}function G(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function J(e,t){var n,r=t;for("string"==typeof e&&(e=[e]),s(t)&&(r=function(e,n){n[t]=S(e)}),n=0;n<e.length;n++)ai[e[n]]=r}function K(e,t){J(e,function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)})}function Z(e,t,n){null!=t&&l(ai,e)&&ai[e](t,n._a,n,e)}function X(e){return ee(e)?366:365}function ee(e){return e%4==0&&e%100!=0||e%400==0}function te(){return ee(this.year())}function ne(e,n){return function(r){return null!=r?(ie(this,e,r),t.updateOffset(this,n),this):re(this,e)}}function re(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function ie(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&ee(e.year())&&1===e.month()&&29===e.date()?e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),ue(n,e.month())):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function oe(e){return e=z(e),T(this[e])?this[e]():this}function se(e,t){if("object"==typeof e){e=N(e);for(var n=U(e),r=0;r<n.length;r++)this[n[r].unit](e[n[r].unit])}else if(e=z(e),T(this[e]))return this[e](t);return this}function ae(e,t){return(e%t+t)%t}function ue(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=ae(t,12);return e+=(t-n)/12,1===n?ee(e)?29:28:31-n%7%2}function le(e,t){return e?n(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||bi).test(t)?"format":"standalone"][e.month()]:n(this._months)?this._months:this._months.standalone}function ce(e,t){return e?n(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[bi.test(t)?"format":"standalone"][e.month()]:n(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function de(e,t,n){var r,i,o,s=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=d([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?(i=gi.call(this._shortMonthsParse,s),-1!==i?i:null):(i=gi.call(this._longMonthsParse,s),-1!==i?i:null):"MMM"===t?-1!==(i=gi.call(this._shortMonthsParse,s))?i:(i=gi.call(this._longMonthsParse,s),-1!==i?i:null):-1!==(i=gi.call(this._longMonthsParse,s))?i:(i=gi.call(this._shortMonthsParse,s),-1!==i?i:null)}function pe(e,t,n){var r,i,o;if(this._monthsParseExact)return de.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=d([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function fe(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=S(t);else if(t=e.localeData().monthsParse(t),!s(t))return e;return n=Math.min(e.date(),ue(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function he(e){return null!=e?(fe(this,e),t.updateOffset(this,!0),this):re(this,"Month")}function ye(){return ue(this.year(),this.month())}function me(e){return this._monthsParseExact?(l(this,"_monthsRegex")||ve.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(l(this,"_monthsShortRegex")||(this._monthsShortRegex=wi),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function ge(e){return this._monthsParseExact?(l(this,"_monthsRegex")||ve.call(this),e?this._monthsStrictRegex:this._monthsRegex):(l(this,"_monthsRegex")||(this._monthsRegex=Ci),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function ve(){function e(e,t){return t.length-e.length}var t,n,r=[],i=[],o=[];for(t=0;t<12;t++)n=d([2e3,t]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(r.sort(e),i.sort(e),o.sort(e),t=0;t<12;t++)r[t]=G(r[t]),i[t]=G(i[t]);for(t=0;t<24;t++)o[t]=G(o[t]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function be(e,t,n,r,i,o,s){var a=new Date(e,t,n,r,i,o,s);return e<100&&e>=0&&isFinite(a.getFullYear())&&a.setFullYear(e),a}function Se(e){var t=new Date(Date.UTC.apply(null,arguments));return e<100&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function Ee(e,t,n){var r=7+t-n;return-(7+Se(e,0,r).getUTCDay()-t)%7+r-1}function we(e,t,n,r,i){var o,s,a=(7+n-r)%7,u=Ee(e,r,i),l=1+7*(t-1)+a+u;return l<=0?(o=e-1,s=X(o)+l):l>X(e)?(o=e+1,s=l-X(e)):(o=e,s=l),{year:o,dayOfYear:s}}function Ce(e,t,n){var r,i,o=Ee(e.year(),t,n),s=Math.floor((e.dayOfYear()-o-1)/7)+1;return s<1?(i=e.year()-1,r=s+_e(i,t,n)):s>_e(e.year(),t,n)?(r=s-_e(e.year(),t,n),i=e.year()+1):(i=e.year(),r=s),{week:r,year:i}}function _e(e,t,n){var r=Ee(e,t,n),i=Ee(e+1,t,n);return(X(e)-r+i)/7}function Te(e){return Ce(e,this._week.dow,this._week.doy).week}function Ae(){return this._week.dow}function xe(){return this._week.doy}function Oe(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function Me(e){var t=Ce(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function Ie(e,t){return"string"!=typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"==typeof e?e:null):parseInt(e,10)}function Pe(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Le(e,t){return e?n(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]:n(this._weekdays)?this._weekdays:this._weekdays.standalone}function Re(e){return e?this._weekdaysShort[e.day()]:this._weekdaysShort}function ke(e){return e?this._weekdaysMin[e.day()]:this._weekdaysMin}function De(e,t,n){var r,i,o,s=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=d([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===t?(i=gi.call(this._weekdaysParse,s),-1!==i?i:null):"ddd"===t?(i=gi.call(this._shortWeekdaysParse,s),-1!==i?i:null):(i=gi.call(this._minWeekdaysParse,s),-1!==i?i:null):"dddd"===t?-1!==(i=gi.call(this._weekdaysParse,s))?i:-1!==(i=gi.call(this._shortWeekdaysParse,s))?i:(i=gi.call(this._minWeekdaysParse,s),-1!==i?i:null):"ddd"===t?-1!==(i=gi.call(this._shortWeekdaysParse,s))?i:-1!==(i=gi.call(this._weekdaysParse,s))?i:(i=gi.call(this._minWeekdaysParse,s),-1!==i?i:null):-1!==(i=gi.call(this._minWeekdaysParse,s))?i:-1!==(i=gi.call(this._weekdaysParse,s))?i:(i=gi.call(this._shortWeekdaysParse,s),-1!==i?i:null)}function ze(e,t,n){var r,i,o;if(this._weekdaysParseExact)return De.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=d([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".",".?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function Ne(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Ie(e,this.localeData()),this.add(e-t,"d")):t}function Fe(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Ue(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=Pe(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function je(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||He.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(l(this,"_weekdaysRegex")||(this._weekdaysRegex=Oi),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Qe(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||He.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(l(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Mi),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Be(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||He.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(l(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ii),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function He(){function e(e,t){return t.length-e.length}var t,n,r,i,o,s=[],a=[],u=[],l=[];for(t=0;t<7;t++)n=d([2e3,1]).day(t),r=this.weekdaysMin(n,""),i=this.weekdaysShort(n,""),o=this.weekdays(n,""),s.push(r),a.push(i),u.push(o),l.push(r),l.push(i),l.push(o);for(s.sort(e),a.sort(e),u.sort(e),l.sort(e),t=0;t<7;t++)a[t]=G(a[t]),u[t]=G(u[t]),l[t]=G(l[t]);this._weekdaysRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+s.join("|")+")","i")}function qe(){return this.hours()%12||12}function $e(){return this.hours()||24}function Ye(e,t){Q(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function Ve(e,t){return t._meridiemParse}function We(e){return"p"===(e+"").toLowerCase().charAt(0)}function Ge(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}function Je(e){return e?e.toLowerCase().replace("_","-"):e}function Ke(e){for(var t,n,r,i,o=0;o<e.length;){for(i=Je(e[o]).split("-"),t=i.length,n=Je(e[o+1]),n=n?n.split("-"):null;t>0;){if(r=Ze(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&E(i,n,!0)>=t-1)break;t--}o++}return null}function Ze(t){var n=null;if(!Di[t]&&void 0!==e&&e&&e.exports)try{n=Pi._abbr;!function(){var e=new Error('Cannot find module "./locale"');throw e.code="MODULE_NOT_FOUND",e}(),Xe(n)}catch(e){}return Di[t]}function Xe(e,t){var n;return e&&(n=o(t)?nt(e):et(e,t))&&(Pi=n),Pi._abbr}function et(e,t){if(null!==t){var n=ki;if(t.abbr=e,null!=Di[e])_("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=Di[e]._config;else if(null!=t.parentLocale){if(null==Di[t.parentLocale])return zi[t.parentLocale]||(zi[t.parentLocale]=[]),zi[t.parentLocale].push({name:e,config:t}),null;n=Di[t.parentLocale]._config}return Di[e]=new O(x(n,t)),zi[e]&&zi[e].forEach(function(e){et(e.name,e.config)}),Xe(e),Di[e]}return delete Di[e],null}function tt(e,t){if(null!=t){var n,r,i=ki;r=Ze(e),null!=r&&(i=r._config),t=x(i,t),n=new O(t),n.parentLocale=Di[e],Di[e]=n,Xe(e)}else null!=Di[e]&&(null!=Di[e].parentLocale?Di[e]=Di[e].parentLocale:null!=Di[e]&&delete Di[e]);return Di[e]}function nt(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Pi;if(!n(e)){if(t=Ze(e))return t;e=[e]}return Ke(e)}function rt(){return Lr(Di)}function it(e){var t,n=e._a;return n&&-2===f(e).overflow&&(t=n[li]<0||n[li]>11?li:n[ci]<1||n[ci]>ue(n[ui],n[li])?ci:n[di]<0||n[di]>24||24===n[di]&&(0!==n[pi]||0!==n[fi]||0!==n[hi])?di:n[pi]<0||n[pi]>59?pi:n[fi]<0||n[fi]>59?fi:n[hi]<0||n[hi]>999?hi:-1,f(e)._overflowDayOfYear&&(t<ui||t>ci)&&(t=ci),f(e)._overflowWeeks&&-1===t&&(t=yi),f(e)._overflowWeekday&&-1===t&&(t=mi),f(e).overflow=t),e}function ot(e,t,n){return null!=e?e:null!=t?t:n}function st(e){var n=new Date(t.now());return e._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function at(e){var t,n,r,i,o,s=[];if(!e._d){for(r=st(e),e._w&&null==e._a[ci]&&null==e._a[li]&&ut(e),null!=e._dayOfYear&&(o=ot(e._a[ui],r[ui]),(e._dayOfYear>X(o)||0===e._dayOfYear)&&(f(e)._overflowDayOfYear=!0),n=Se(o,0,e._dayOfYear),e._a[li]=n.getUTCMonth(),e._a[ci]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=s[t]=r[t];for(;t<7;t++)e._a[t]=s[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[di]&&0===e._a[pi]&&0===e._a[fi]&&0===e._a[hi]&&(e._nextDay=!0,e._a[di]=0),e._d=(e._useUTC?Se:be).apply(null,s),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[di]=24),e._w&&void 0!==e._w.d&&e._w.d!==i&&(f(e).weekdayMismatch=!0)}}function ut(e){var t,n,r,i,o,s,a,u;if(t=e._w,null!=t.GG||null!=t.W||null!=t.E)o=1,s=4,n=ot(t.GG,e._a[ui],Ce(Tt(),1,4).year),r=ot(t.W,1),((i=ot(t.E,1))<1||i>7)&&(u=!0);else{o=e._locale._week.dow,s=e._locale._week.doy;var l=Ce(Tt(),o,s);n=ot(t.gg,e._a[ui],l.year),r=ot(t.w,l.week),null!=t.d?((i=t.d)<0||i>6)&&(u=!0):null!=t.e?(i=t.e+o,(t.e<0||t.e>6)&&(u=!0)):i=o}r<1||r>_e(n,o,s)?f(e)._overflowWeeks=!0:null!=u?f(e)._overflowWeekday=!0:(a=we(n,r,i,o,s),e._a[ui]=a.year,e._dayOfYear=a.dayOfYear)}function lt(e){var t,n,r,i,o,s,a=e._i,u=Ni.exec(a)||Fi.exec(a);if(u){for(f(e).iso=!0,t=0,n=ji.length;t<n;t++)if(ji[t][1].exec(u[1])){i=ji[t][0],r=!1!==ji[t][2];break}if(null==i)return void(e._isValid=!1);if(u[3]){for(t=0,n=Qi.length;t<n;t++)if(Qi[t][1].exec(u[3])){o=(u[2]||" ")+Qi[t][0];break}if(null==o)return void(e._isValid=!1)}if(!r&&null!=o)return void(e._isValid=!1);if(u[4]){if(!Ui.exec(u[4]))return void(e._isValid=!1);s="Z"}e._f=i+(o||"")+(s||""),gt(e)}else e._isValid=!1}function ct(e,t,n,r,i,o){var s=[dt(e),Ei.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return o&&s.push(parseInt(o,10)),s}function dt(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function pt(e){return e.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}function ft(e,t,n){if(e){if(Ai.indexOf(e)!==new Date(t[0],t[1],t[2]).getDay())return f(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function ht(e,t,n){if(e)return qi[e];if(t)return 0;var r=parseInt(n,10),i=r%100;return(r-i)/100*60+i}function yt(e){var t=Hi.exec(pt(e._i));if(t){var n=ct(t[4],t[3],t[2],t[5],t[6],t[7]);if(!ft(t[1],n,e))return;e._a=n,e._tzm=ht(t[8],t[9],t[10]),e._d=Se.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),f(e).rfc2822=!0}else e._isValid=!1}function mt(e){var n=Bi.exec(e._i);if(null!==n)return void(e._d=new Date(+n[1]));lt(e),!1===e._isValid&&(delete e._isValid,yt(e),!1===e._isValid&&(delete e._isValid,t.createFromInputFallback(e)))}function gt(e){if(e._f===t.ISO_8601)return void lt(e);if(e._f===t.RFC_2822)return void yt(e);e._a=[],f(e).empty=!0;var n,r,i,o,s,a=""+e._i,u=a.length,l=0;for(i=$(e._f,e._locale).match(Ur)||[],n=0;n<i.length;n++)o=i[n],r=(a.match(V(o,e))||[])[0],r&&(s=a.substr(0,a.indexOf(r)),s.length>0&&f(e).unusedInput.push(s),a=a.slice(a.indexOf(r)+r.length),l+=r.length),Br[o]?(r?f(e).empty=!1:f(e).unusedTokens.push(o),Z(o,r,e)):e._strict&&!r&&f(e).unusedTokens.push(o);f(e).charsLeftOver=u-l,a.length>0&&f(e).unusedInput.push(a),e._a[di]<=12&&!0===f(e).bigHour&&e._a[di]>0&&(f(e).bigHour=void 0),f(e).parsedDateParts=e._a.slice(0),f(e).meridiem=e._meridiem,e._a[di]=vt(e._locale,e._a[di],e._meridiem),at(e),it(e)}function vt(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(r=e.isPM(n),r&&t<12&&(t+=12),r||12!==t||(t=0),t):t}function bt(e){var t,n,r,i,o;if(0===e._f.length)return f(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<e._f.length;i++)o=0,t=m({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],gt(t),h(t)&&(o+=f(t).charsLeftOver,o+=10*f(t).unusedTokens.length,f(t).score=o,(null==r||o<r)&&(r=o,n=t));c(e,n||t)}function St(e){if(!e._d){var t=N(e._i);e._a=u([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),at(e)}}function Et(e){var t=new g(it(wt(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function wt(e){var t=e._i,r=e._f;return e._locale=e._locale||nt(e._l),null===t||void 0===r&&""===t?y({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),v(t)?new g(it(t)):(a(t)?e._d=t:n(r)?bt(e):r?gt(e):Ct(e),h(e)||(e._d=null),e))}function Ct(e){var i=e._i;o(i)?e._d=new Date(t.now()):a(i)?e._d=new Date(i.valueOf()):"string"==typeof i?mt(e):n(i)?(e._a=u(i.slice(0),function(e){return parseInt(e,10)}),at(e)):r(i)?St(e):s(i)?e._d=new Date(i):t.createFromInputFallback(e)}function _t(e,t,o,s,a){var u={};return!0!==o&&!1!==o||(s=o,o=void 0),(r(e)&&i(e)||n(e)&&0===e.length)&&(e=void 0),u._isAMomentObject=!0,u._useUTC=u._isUTC=a,u._l=o,u._i=e,u._f=t,u._strict=s,Et(u)}function Tt(e,t,n,r){return _t(e,t,n,r,!1)}function At(e,t){var r,i;if(1===t.length&&n(t[0])&&(t=t[0]),!t.length)return Tt();for(r=t[0],i=1;i<t.length;++i)t[i].isValid()&&!t[i][e](r)||(r=t[i]);return r}function xt(){return At("isBefore",[].slice.call(arguments,0))}function Ot(){return At("isAfter",[].slice.call(arguments,0))}function Mt(e){for(var t in e)if(-1===gi.call(Wi,t)||null!=e[t]&&isNaN(e[t]))return!1;for(var n=!1,r=0;r<Wi.length;++r)if(e[Wi[r]]){if(n)return!1;parseFloat(e[Wi[r]])!==S(e[Wi[r]])&&(n=!0)}return!0}function It(){return this._isValid}function Pt(){return Jt(NaN)}function Lt(e){var t=N(e),n=t.year||0,r=t.quarter||0,i=t.month||0,o=t.week||0,s=t.day||0,a=t.hour||0,u=t.minute||0,l=t.second||0,c=t.millisecond||0;this._isValid=Mt(t),this._milliseconds=+c+1e3*l+6e4*u+1e3*a*60*60,this._days=+s+7*o,this._months=+i+3*r+12*n,this._data={},this._locale=nt(),this._bubble()}function Rt(e){return e instanceof Lt}function kt(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Dt(e,t){Q(e,0,0,function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+j(~~(e/60),2)+t+j(~~e%60,2)})}function zt(e,t){var n=(t||"").match(e);if(null===n)return null;var r=n[n.length-1]||[],i=(r+"").match(Gi)||["-",0,0],o=60*i[1]+S(i[2]);return 0===o?0:"+"===i[0]?o:-o}function Nt(e,n){var r,i;return n._isUTC?(r=n.clone(),i=(v(e)||a(e)?e.valueOf():Tt(e).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+i),t.updateOffset(r,!1),r):Tt(e).local()}function Ft(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Ut(e,n,r){var i,o=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=zt(ri,e)))return this}else Math.abs(e)<16&&!r&&(e*=60);return!this._isUTC&&n&&(i=Ft(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),o!==e&&(!n||this._changeInProgress?tn(this,Jt(e-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:Ft(this)}function jt(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function Qt(e){return this.utcOffset(0,e)}function Bt(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Ft(this),"m")),this}function Ht(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=zt(ni,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function qt(e){return!!this.isValid()&&(e=e?Tt(e).utcOffset():0,(this.utcOffset()-e)%60==0)}function $t(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Yt(){if(!o(this._isDSTShifted))return this._isDSTShifted;var e={};if(m(e,this),e=wt(e),e._a){var t=e._isUTC?d(e._a):Tt(e._a);this._isDSTShifted=this.isValid()&&E(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Vt(){return!!this.isValid()&&!this._isUTC}function Wt(){return!!this.isValid()&&this._isUTC}function Gt(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function Jt(e,t){var n,r,i,o=e,a=null;return Rt(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:s(e)?(o={},t?o[t]=e:o.milliseconds=e):(a=Ji.exec(e))?(n="-"===a[1]?-1:1,o={y:0,d:S(a[ci])*n,h:S(a[di])*n,m:S(a[pi])*n,s:S(a[fi])*n,ms:S(kt(1e3*a[hi]))*n}):(a=Ki.exec(e))?(n="-"===a[1]?-1:(a[1],1),o={y:Kt(a[2],n),M:Kt(a[3],n),w:Kt(a[4],n),d:Kt(a[5],n),h:Kt(a[6],n),m:Kt(a[7],n),s:Kt(a[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(i=Xt(Tt(o.from),Tt(o.to)),o={},o.ms=i.milliseconds,o.M=i.months),r=new Lt(o),Rt(e)&&l(e,"_locale")&&(r._locale=e._locale),r}function Kt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Zt(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Xt(e,t){var n;return e.isValid()&&t.isValid()?(t=Nt(t,e),e.isBefore(t)?n=Zt(e,t):(n=Zt(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function en(e,t){return function(n,r){var i,o;return null===r||isNaN(+r)||(_(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=r,r=o),n="string"==typeof n?+n:n,i=Jt(n,r),tn(this,i,e),this}}function tn(e,n,r,i){var o=n._milliseconds,s=kt(n._days),a=kt(n._months);e.isValid()&&(i=null==i||i,a&&fe(e,re(e,"Month")+a*r),s&&ie(e,"Date",re(e,"Date")+s*r),o&&e._d.setTime(e._d.valueOf()+o*r),i&&t.updateOffset(e,s||a))}function nn(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function rn(e,n){var r=e||Tt(),i=Nt(r,this).startOf("day"),o=t.calendarFormat(this,i)||"sameElse",s=n&&(T(n[o])?n[o].call(this,r):n[o]);return this.format(s||this.localeData().calendar(o,this,Tt(r)))}function on(){return new g(this)}function sn(e,t){var n=v(e)?e:Tt(e);return!(!this.isValid()||!n.isValid())&&(t=z(o(t)?"millisecond":t),"millisecond"===t?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function an(e,t){var n=v(e)?e:Tt(e);return!(!this.isValid()||!n.isValid())&&(t=z(o(t)?"millisecond":t),"millisecond"===t?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function un(e,t,n,r){return r=r||"()",("("===r[0]?this.isAfter(e,n):!this.isBefore(e,n))&&(")"===r[1]?this.isBefore(t,n):!this.isAfter(t,n))}function ln(e,t){var n,r=v(e)?e:Tt(e);return!(!this.isValid()||!r.isValid())&&(t=z(t||"millisecond"),"millisecond"===t?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function cn(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function dn(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function pn(e,t,n){var r,i,o;if(!this.isValid())return NaN;if(r=Nt(e,this),!r.isValid())return NaN;switch(i=6e4*(r.utcOffset()-this.utcOffset()),t=z(t)){case"year":o=fn(this,r)/12;break;case"month":o=fn(this,r);break;case"quarter":o=fn(this,r)/3;break;case"second":o=(this-r)/1e3;break;case"minute":o=(this-r)/6e4;break;case"hour":o=(this-r)/36e5;break;case"day":o=(this-r-i)/864e5;break;case"week":o=(this-r-i)/6048e5;break;default:o=this-r}return n?o:b(o)}function fn(e,t){var n,r,i=12*(t.year()-e.year())+(t.month()-e.month()),o=e.clone().add(i,"months");return t-o<0?(n=e.clone().add(i-1,"months"),r=(t-o)/(o-n)):(n=e.clone().add(i+1,"months"),r=(t-o)/(n-o)),-(i+r)||0}function hn(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function yn(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?q(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):T(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this._d.valueOf()).toISOString().replace("Z",q(n,"Z")):q(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function mn(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var n="["+e+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i=t+'[")]';return this.format(n+r+"-MM-DD[T]HH:mm:ss.SSS"+i)}function gn(e){e||(e=this.isUtc()?t.defaultFormatUtc:t.defaultFormat);var n=q(this,e);return this.localeData().postformat(n)}function vn(e,t){return this.isValid()&&(v(e)&&e.isValid()||Tt(e).isValid())?Jt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function bn(e){return this.from(Tt(),e)}function Sn(e,t){return this.isValid()&&(v(e)&&e.isValid()||Tt(e).isValid())?Jt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function En(e){return this.to(Tt(),e)}function wn(e){var t;return void 0===e?this._locale._abbr:(t=nt(e),null!=t&&(this._locale=t),this)}function Cn(){return this._locale}function _n(e){switch(e=z(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function Tn(e){return void 0===(e=z(e))||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))}function An(){return this._d.valueOf()-6e4*(this._offset||0)}function xn(){return Math.floor(this.valueOf()/1e3)}function On(){return new Date(this.valueOf())}function Mn(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function In(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Pn(){return this.isValid()?this.toISOString():null}function Ln(){return h(this)}function Rn(){return c({},f(this))}function kn(){return f(this).overflow}function Dn(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function zn(e,t){Q(0,[e,e.length],0,t)}function Nn(e){return Qn.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Fn(e){return Qn.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Un(){return _e(this.year(),1,4)}function jn(){var e=this.localeData()._week;return _e(this.year(),e.dow,e.doy)}function Qn(e,t,n,r,i){var o;return null==e?Ce(this,r,i).year:(o=_e(e,r,i),t>o&&(t=o),Bn.call(this,e,t,n,r,i))}function Bn(e,t,n,r,i){var o=we(e,t,n,r,i),s=Se(o.year,0,o.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}function Hn(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function qn(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function $n(e,t){t[hi]=S(1e3*("0."+e))}function Yn(){return this._isUTC?"UTC":""}function Vn(){return this._isUTC?"Coordinated Universal Time":""}function Wn(e){return Tt(1e3*e)}function Gn(){return Tt.apply(null,arguments).parseZone()}function Jn(e){return e}function Kn(e,t,n,r){var i=nt(),o=d().set(r,t);return i[n](o,e)}function Zn(e,t,n){if(s(e)&&(t=e,e=void 0),e=e||"",null!=t)return Kn(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=Kn(e,r,n,"month");return i}function Xn(e,t,n,r){"boolean"==typeof e?(s(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,s(t)&&(n=t,t=void 0),t=t||"");var i=nt(),o=e?i._week.dow:0;if(null!=n)return Kn(t,(n+o)%7,r,"day");var a,u=[];for(a=0;a<7;a++)u[a]=Kn(t,(a+o)%7,r,"day");return u}function er(e,t){return Zn(e,t,"months")}function tr(e,t){return Zn(e,t,"monthsShort")}function nr(e,t,n){return Xn(e,t,n,"weekdays")}function rr(e,t,n){return Xn(e,t,n,"weekdaysShort")}function ir(e,t,n){return Xn(e,t,n,"weekdaysMin")}function or(){var e=this._data;return this._milliseconds=uo(this._milliseconds),this._days=uo(this._days),this._months=uo(this._months),e.milliseconds=uo(e.milliseconds),e.seconds=uo(e.seconds),e.minutes=uo(e.minutes),e.hours=uo(e.hours),e.months=uo(e.months),e.years=uo(e.years),this}function sr(e,t,n,r){var i=Jt(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function ar(e,t){return sr(this,e,t,1)}function ur(e,t){return sr(this,e,t,-1)}function lr(e){return e<0?Math.floor(e):Math.ceil(e)}function cr(){var e,t,n,r,i,o=this._milliseconds,s=this._days,a=this._months,u=this._data;return o>=0&&s>=0&&a>=0||o<=0&&s<=0&&a<=0||(o+=864e5*lr(pr(a)+s),s=0,a=0),u.milliseconds=o%1e3,e=b(o/1e3),u.seconds=e%60,t=b(e/60),u.minutes=t%60,n=b(t/60),u.hours=n%24,s+=b(n/24),i=b(dr(s)),a+=i,s-=lr(pr(i)),r=b(a/12),a%=12,u.days=s,u.months=a,u.years=r,this}function dr(e){return 4800*e/146097}function pr(e){return 146097*e/4800}function fr(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=z(e))||"year"===e)return t=this._days+r/864e5,n=this._months+dr(t),"month"===e?n:n/12;switch(t=this._days+Math.round(pr(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}}function hr(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*S(this._months/12):NaN}function yr(e){return function(){return this.as(e)}}function mr(){return Jt(this)}function gr(e){return e=z(e),this.isValid()?this[e+"s"]():NaN}function vr(e){return function(){return this.isValid()?this._data[e]:NaN}}function br(){return b(this.days()/7)}function Sr(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function Er(e,t,n){var r=Jt(e).abs(),i=To(r.as("s")),o=To(r.as("m")),s=To(r.as("h")),a=To(r.as("d")),u=To(r.as("M")),l=To(r.as("y")),c=i<=Ao.ss&&["s",i]||i<Ao.s&&["ss",i]||o<=1&&["m"]||o<Ao.m&&["mm",o]||s<=1&&["h"]||s<Ao.h&&["hh",s]||a<=1&&["d"]||a<Ao.d&&["dd",a]||u<=1&&["M"]||u<Ao.M&&["MM",u]||l<=1&&["y"]||["yy",l];return c[2]=t,c[3]=+e>0,c[4]=n,Sr.apply(null,c)}function wr(e){return void 0===e?To:"function"==typeof e&&(To=e,!0)}function Cr(e,t){return void 0!==Ao[e]&&(void 0===t?Ao[e]:(Ao[e]=t,"s"===e&&(Ao.ss=t-1),!0))}function _r(e){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),n=Er(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)}function Tr(e){return(e>0)-(e<0)||+e}function Ar(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,r=xo(this._milliseconds)/1e3,i=xo(this._days),o=xo(this._months);e=b(r/60),t=b(e/60),r%=60,e%=60,n=b(o/12),o%=12;var s=n,a=o,u=i,l=t,c=e,d=r?r.toFixed(3).replace(/\.?0+$/,""):"",p=this.asSeconds();if(!p)return"P0D";var f=p<0?"-":"",h=Tr(this._months)!==Tr(p)?"-":"",y=Tr(this._days)!==Tr(p)?"-":"",m=Tr(this._milliseconds)!==Tr(p)?"-":"";return f+"P"+(s?h+s+"Y":"")+(a?h+a+"M":"")+(u?y+u+"D":"")+(l||c||d?"T":"")+(l?m+l+"H":"")+(c?m+c+"M":"")+(d?m+d+"S":"")}var xr,Or;Or=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};var Mr=t.momentProperties=[],Ir=!1,Pr={};t.suppressDeprecationWarnings=!1,t.deprecationHandler=null;var Lr;Lr=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)l(e,t)&&n.push(t);return n};var Rr={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},kr={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Dr=/\d{1,2}/,zr={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Nr={},Fr={},Ur=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,jr=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Qr={},Br={},Hr=/\d/,qr=/\d\d/,$r=/\d{3}/,Yr=/\d{4}/,Vr=/[+-]?\d{6}/,Wr=/\d\d?/,Gr=/\d\d\d\d?/,Jr=/\d\d\d\d\d\d?/,Kr=/\d{1,3}/,Zr=/\d{1,4}/,Xr=/[+-]?\d{1,6}/,ei=/\d+/,ti=/[+-]?\d+/,ni=/Z|[+-]\d\d:?\d\d/gi,ri=/Z|[+-]\d\d(?::?\d\d)?/gi,ii=/[+-]?\d+(\.\d{1,3})?/,oi=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,si={},ai={},ui=0,li=1,ci=2,di=3,pi=4,fi=5,hi=6,yi=7,mi=8;Q("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),Q(0,["YY",2],0,function(){return this.year()%100}),Q(0,["YYYY",4],0,"year"),Q(0,["YYYYY",5],0,"year"),Q(0,["YYYYYY",6,!0],0,"year"),D("year","y"),F("year",1),Y("Y",ti),Y("YY",Wr,qr),Y("YYYY",Zr,Yr),Y("YYYYY",Xr,Vr),Y("YYYYYY",Xr,Vr),J(["YYYYY","YYYYYY"],ui),J("YYYY",function(e,n){n[ui]=2===e.length?t.parseTwoDigitYear(e):S(e)}),J("YY",function(e,n){n[ui]=t.parseTwoDigitYear(e)}),J("Y",function(e,t){t[ui]=parseInt(e,10)}),t.parseTwoDigitYear=function(e){return S(e)+(S(e)>68?1900:2e3)};var gi,vi=ne("FullYear",!0);gi=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},Q("M",["MM",2],"Mo",function(){return this.month()+1}),Q("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),Q("MMMM",0,0,function(e){return this.localeData().months(this,e)}),D("month","M"),F("month",8),Y("M",Wr),Y("MM",Wr,qr),Y("MMM",function(e,t){return t.monthsShortRegex(e)}),Y("MMMM",function(e,t){return t.monthsRegex(e)}),J(["M","MM"],function(e,t){t[li]=S(e)-1}),J(["MMM","MMMM"],function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[li]=i:f(n).invalidMonth=e});var bi=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Si="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Ei="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),wi=oi,Ci=oi;Q("w",["ww",2],"wo","week"),Q("W",["WW",2],"Wo","isoWeek"),D("week","w"),D("isoWeek","W"),F("week",5),F("isoWeek",5),Y("w",Wr),Y("ww",Wr,qr),Y("W",Wr),Y("WW",Wr,qr),K(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=S(e)});var _i={dow:0,doy:6};Q("d",0,"do","day"),Q("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),Q("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),Q("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),Q("e",0,0,"weekday"),Q("E",0,0,"isoWeekday"),D("day","d"),D("weekday","e"),D("isoWeekday","E"),F("day",11),F("weekday",11),F("isoWeekday",11),Y("d",Wr),Y("e",Wr),Y("E",Wr),Y("dd",function(e,t){return t.weekdaysMinRegex(e)}),Y("ddd",function(e,t){return t.weekdaysShortRegex(e)}),Y("dddd",function(e,t){return t.weekdaysRegex(e)}),K(["dd","ddd","dddd"],function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);null!=i?t.d=i:f(n).invalidWeekday=e}),K(["d","e","E"],function(e,t,n,r){t[r]=S(e)});var Ti="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ai="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),xi="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Oi=oi,Mi=oi,Ii=oi;Q("H",["HH",2],0,"hour"),Q("h",["hh",2],0,qe),Q("k",["kk",2],0,$e),Q("hmm",0,0,function(){return""+qe.apply(this)+j(this.minutes(),2)}),Q("hmmss",0,0,function(){return""+qe.apply(this)+j(this.minutes(),2)+j(this.seconds(),2)}),Q("Hmm",0,0,function(){return""+this.hours()+j(this.minutes(),2)}),Q("Hmmss",0,0,function(){return""+this.hours()+j(this.minutes(),2)+j(this.seconds(),2)}),Ye("a",!0),Ye("A",!1),D("hour","h"),F("hour",13),Y("a",Ve),Y("A",Ve),Y("H",Wr),Y("h",Wr),Y("k",Wr),Y("HH",Wr,qr),Y("hh",Wr,qr),Y("kk",Wr,qr),Y("hmm",Gr),Y("hmmss",Jr),Y("Hmm",Gr),Y("Hmmss",Jr),J(["H","HH"],di),J(["k","kk"],function(e,t,n){var r=S(e);t[di]=24===r?0:r}),J(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),J(["h","hh"],function(e,t,n){t[di]=S(e),f(n).bigHour=!0}),J("hmm",function(e,t,n){var r=e.length-2;t[di]=S(e.substr(0,r)),t[pi]=S(e.substr(r)),f(n).bigHour=!0}),J("hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[di]=S(e.substr(0,r)),t[pi]=S(e.substr(r,2)),t[fi]=S(e.substr(i)),f(n).bigHour=!0}),J("Hmm",function(e,t,n){var r=e.length-2;t[di]=S(e.substr(0,r)),t[pi]=S(e.substr(r))}),J("Hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[di]=S(e.substr(0,r)),t[pi]=S(e.substr(r,2)),t[fi]=S(e.substr(i))});var Pi,Li=/[ap]\.?m?\.?/i,Ri=ne("Hours",!0),ki={calendar:Rr,longDateFormat:kr,invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:Dr,relativeTime:zr,months:Si,monthsShort:Ei,week:_i,weekdays:Ti,weekdaysMin:xi,weekdaysShort:Ai,meridiemParse:Li},Di={},zi={},Ni=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Fi=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ui=/Z|[+-]\d\d(?::?\d\d)?/,ji=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Qi=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Bi=/^\/?Date\((\-?\d+)/i,Hi=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,qi={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};t.createFromInputFallback=C("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),t.ISO_8601=function(){},t.RFC_2822=function(){};var $i=C("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Tt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:y()}),Yi=C("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Tt.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:y()}),Vi=function(){return Date.now?Date.now():+new Date},Wi=["year","quarter","month","week","day","hour","minute","second","millisecond"];Dt("Z",":"),Dt("ZZ",""),Y("Z",ri),Y("ZZ",ri),J(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=zt(ri,e)});var Gi=/([\+\-]|\d\d)/gi;t.updateOffset=function(){};var Ji=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Ki=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;Jt.fn=Lt.prototype,Jt.invalid=Pt;var Zi=en(1,"add"),Xi=en(-1,"subtract");t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",t.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var eo=C("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});Q(0,["gg",2],0,function(){return this.weekYear()%100}),Q(0,["GG",2],0,function(){return this.isoWeekYear()%100}),zn("gggg","weekYear"),zn("ggggg","weekYear"),zn("GGGG","isoWeekYear"),zn("GGGGG","isoWeekYear"),D("weekYear","gg"),D("isoWeekYear","GG"),F("weekYear",1),F("isoWeekYear",1),Y("G",ti),Y("g",ti),Y("GG",Wr,qr),Y("gg",Wr,qr),Y("GGGG",Zr,Yr),Y("gggg",Zr,Yr),Y("GGGGG",Xr,Vr),Y("ggggg",Xr,Vr),K(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=S(e)}),K(["gg","GG"],function(e,n,r,i){n[i]=t.parseTwoDigitYear(e)}),Q("Q",0,"Qo","quarter"),D("quarter","Q"),F("quarter",7),Y("Q",Hr),J("Q",function(e,t){t[li]=3*(S(e)-1)}),Q("D",["DD",2],"Do","date"),D("date","D"),F("date",9),Y("D",Wr),Y("DD",Wr,qr),Y("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),J(["D","DD"],ci),J("Do",function(e,t){t[ci]=S(e.match(Wr)[0])});var to=ne("Date",!0);Q("DDD",["DDDD",3],"DDDo","dayOfYear"),D("dayOfYear","DDD"),F("dayOfYear",4),Y("DDD",Kr),Y("DDDD",$r),J(["DDD","DDDD"],function(e,t,n){n._dayOfYear=S(e)}),Q("m",["mm",2],0,"minute"),D("minute","m"),F("minute",14),Y("m",Wr),Y("mm",Wr,qr),J(["m","mm"],pi);var no=ne("Minutes",!1);Q("s",["ss",2],0,"second"),D("second","s"),F("second",15),Y("s",Wr),Y("ss",Wr,qr),J(["s","ss"],fi);var ro=ne("Seconds",!1);Q("S",0,0,function(){return~~(this.millisecond()/100)}),Q(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),Q(0,["SSS",3],0,"millisecond"),Q(0,["SSSS",4],0,function(){return 10*this.millisecond()}),Q(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),Q(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),Q(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),Q(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),Q(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),D("millisecond","ms"),F("millisecond",16),Y("S",Kr,Hr),Y("SS",Kr,qr),Y("SSS",Kr,$r);var io;for(io="SSSS";io.length<=9;io+="S")Y(io,ei);for(io="S";io.length<=9;io+="S")J(io,$n);var oo=ne("Milliseconds",!1);Q("z",0,0,"zoneAbbr"),Q("zz",0,0,"zoneName");var so=g.prototype;so.add=Zi,so.calendar=rn,so.clone=on,so.diff=pn,so.endOf=Tn,so.format=gn,so.from=vn,so.fromNow=bn,so.to=Sn,so.toNow=En,so.get=oe,so.invalidAt=kn,so.isAfter=sn,so.isBefore=an,so.isBetween=un,so.isSame=ln,so.isSameOrAfter=cn,so.isSameOrBefore=dn,so.isValid=Ln,so.lang=eo,so.locale=wn,so.localeData=Cn,so.max=Yi,so.min=$i,so.parsingFlags=Rn,so.set=se,so.startOf=_n,so.subtract=Xi,so.toArray=Mn,so.toObject=In,so.toDate=On,so.toISOString=yn,so.inspect=mn,so.toJSON=Pn,so.toString=hn,so.unix=xn,so.valueOf=An,so.creationData=Dn,so.year=vi,so.isLeapYear=te,so.weekYear=Nn,so.isoWeekYear=Fn,so.quarter=so.quarters=Hn,so.month=he,so.daysInMonth=ye,so.week=so.weeks=Oe,so.isoWeek=so.isoWeeks=Me,so.weeksInYear=jn,so.isoWeeksInYear=Un,so.date=to,so.day=so.days=Ne,so.weekday=Fe,so.isoWeekday=Ue,so.dayOfYear=qn,so.hour=so.hours=Ri,so.minute=so.minutes=no,so.second=so.seconds=ro,so.millisecond=so.milliseconds=oo,so.utcOffset=Ut,so.utc=Qt,so.local=Bt,so.parseZone=Ht,so.hasAlignedHourOffset=qt,so.isDST=$t,so.isLocal=Vt,so.isUtcOffset=Wt,so.isUtc=Gt,so.isUTC=Gt,so.zoneAbbr=Yn,so.zoneName=Vn,so.dates=C("dates accessor is deprecated. Use date instead.",to),so.months=C("months accessor is deprecated. Use month instead",he),so.years=C("years accessor is deprecated. Use year instead",vi),so.zone=C("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",jt),so.isDSTShifted=C("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Yt);var ao=O.prototype;ao.calendar=M,ao.longDateFormat=I,ao.invalidDate=P,ao.ordinal=L,ao.preparse=Jn,ao.postformat=Jn,ao.relativeTime=R,ao.pastFuture=k,ao.set=A,ao.months=le,ao.monthsShort=ce,ao.monthsParse=pe,ao.monthsRegex=ge,ao.monthsShortRegex=me,ao.week=Te,ao.firstDayOfYear=xe,ao.firstDayOfWeek=Ae,ao.weekdays=Le,ao.weekdaysMin=ke,ao.weekdaysShort=Re,ao.weekdaysParse=ze,ao.weekdaysRegex=je,ao.weekdaysShortRegex=Qe,ao.weekdaysMinRegex=Be,ao.isPM=We,ao.meridiem=Ge,Xe("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===S(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),t.lang=C("moment.lang is deprecated. Use moment.locale instead.",Xe),t.langData=C("moment.langData is deprecated. Use moment.localeData instead.",nt);var uo=Math.abs,lo=yr("ms"),co=yr("s"),po=yr("m"),fo=yr("h"),ho=yr("d"),yo=yr("w"),mo=yr("M"),go=yr("y"),vo=vr("milliseconds"),bo=vr("seconds"),So=vr("minutes"),Eo=vr("hours"),wo=vr("days"),Co=vr("months"),_o=vr("years"),To=Math.round,Ao={ss:44,s:45,m:45,h:22,d:26,M:11},xo=Math.abs,Oo=Lt.prototype;return Oo.isValid=It,Oo.abs=or,Oo.add=ar,Oo.subtract=ur,Oo.as=fr,Oo.asMilliseconds=lo,Oo.asSeconds=co,Oo.asMinutes=po,Oo.asHours=fo,Oo.asDays=ho,Oo.asWeeks=yo,Oo.asMonths=mo,Oo.asYears=go,Oo.valueOf=hr,Oo._bubble=cr,Oo.clone=mr,Oo.get=gr,Oo.milliseconds=vo,Oo.seconds=bo,Oo.minutes=So,Oo.hours=Eo,Oo.days=wo,Oo.weeks=br,Oo.months=Co,Oo.years=_o,Oo.humanize=_r,Oo.toISOString=Ar,Oo.toString=Ar,Oo.toJSON=Ar,Oo.locale=wn,Oo.localeData=Cn,Oo.toIsoString=C("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Ar),Oo.lang=eo,Q("X",0,0,"unix"),Q("x",0,0,"valueOf"),Y("x",ti),Y("X",ii),J("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),J("x",function(e,t,n){n._d=new Date(S(e))}),t.version="2.20.1",function(e){xr=e}(Tt),t.fn=so,t.min=xt,t.max=Ot,t.now=Vi,t.utc=d,t.unix=Wn,t.months=er,t.isDate=a,t.locale=Xe,t.invalid=y,t.duration=Jt,t.isMoment=v,t.weekdays=nr,t.parseZone=Gn,t.localeData=nt,t.isDuration=Rt,t.monthsShort=tr,t.weekdaysMin=ir,t.defineLocale=et,t.updateLocale=tt,t.locales=rt,t.weekdaysShort=rr,t.normalizeUnits=z,t.relativeTimeRounding=wr,t.relativeTimeThreshold=Cr,t.calendarFormat=nn,t.prototype=so,t.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"YYYY-[W]WW",MONTH:"YYYY-MM"},t})}).call(t,n(107)(e))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(66);t.AdvancedSearchEvents=r.AdvancedSearchEvents;var i=n(68);t.AnalyticsEvents=i.AnalyticsEvents;var o=n(37);t.BreadcrumbEvents=o.BreadcrumbEvents;var s=n(75);t.DebugEvents=s.DebugEvents;var a=n(146);t.DistanceEvents=a.DistanceEvents;var u=n(16);t.InitializationEvents=u.InitializationEvents;var l=n(31);t.OmniboxEvents=l.OmniboxEvents;var c=n(72);t.PreferencesPanelEvents=c.PreferencesPanelEvents;var d=n(10);t.QueryEvents=d.QueryEvents;var p=n(33);t.ResultListEvents=p.ResultListEvents;var f=n(101);t.ResultLayoutEvents=f.ResultLayoutEvents;var h=n(64);t.SearchAlertsEvents=h.SearchAlertsEvents;var y=n(42);t.SettingsEvents=y.SettingsEvents;var m=n(104);t.SliderEvents=m.SliderEvents;var g=n(71);t.StandaloneSearchInterfaceEvents=g.StandaloneSearchInterfaceEvents},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.startSlide="startSlide",e.duringSlide="duringSlide",e.endSlide="endSlide",e.graphValueSelected="graphValueSelected",e}();t.SliderEvents=r},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),o=n(60),s=n(4),a=n(23),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.decimals=0,t}return r(t,e),t}(o.Options),l=function(){function e(){}return e.currencyToString=function(e,t){if(s.Utils.isNullOrUndefined(e))return"";e=Number(e),i.Assert.isNumber(e),t=(new u).merge(t);var n=a.culture().numberFormat.currency,r=n.symbol;s.Utils.isNonEmptyString(t.symbol)&&(n.symbol=t.symbol);var o=a.format(e,"c"+t.decimals.toString());return n.symbol=r,o},e}();t.CurrencyUtils=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.hsvToRgb=function(e,t,n){var r,i,o,s=Math.floor(6*e),a=6*e-s,u=n*(1-t),l=n*(1-a*t),c=n*(1-(1-a)*t);switch(s%6){case 0:r=n,i=c,o=u;break;case 1:r=l,i=n,o=u;break;case 2:r=u,i=n,o=c;break;case 3:r=u,i=l,o=n;break;case 4:r=c,i=u,o=n;break;case 5:r=n,i=u,o=l}return[Math.round(255*r),Math.round(255*i),Math.round(255*o)]},e.rgbToHsv=function(e,t,n){e/=255,t/=255,n/=255;var r,i,o=Math.max(e,t,n),s=Math.min(e,t,n),a=o,u=o-s;if(i=0==o?0:u/o,o==s)r=0;else{switch(o){case e:r=(t-n)/u+(t<n?6:0);break;case t:r=(n-e)/u+2;break;case n:r=(e-t)/u+4}r/=6}return[r,i,a]},e}();t.ColorUtils=r},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),i=function(){function e(e){this.status=e.statusCode,this.message=e.data.message,this.name=this.type=e.data.type,this.queryExecutionReport=e.data.executionReport,r.Assert.isNumber(this.status),r.Assert.isNonEmptyString(this.message),r.Assert.isNonEmptyString(this.type)}return e}();t.QueryError=i},function(e,t,n){"use strict";function r(e){return e.json().then(function(t){return t.raw=e,t})}var i=n(110);n(239),t.Version="v15",t.Endpoints={default:"https://usageanalytics.coveo.com",production:"https://usageanalytics.coveo.com",dev:"https://usageanalyticsdev.coveo.com",staging:"https://usageanalyticsstaging.coveo.com"};var o=function(){function e(e){if(void 0===e)throw new Error("You have to pass options to this constructor");this.endpoint=e.endpoint||t.Endpoints.default,this.token=e.token,this.version=e.version||t.Version}return e.prototype.sendEvent=function(e,t){return fetch(this.getRestEndpoint()+"/analytics/"+e,{method:"POST",headers:this.getHeaders(),mode:"cors",body:JSON.stringify(t),credentials:"include"})},e.prototype.sendSearchEvent=function(e){return this.sendEvent("search",e).then(r)},e.prototype.sendClickEvent=function(e){return this.sendEvent("click",e).then(r)},e.prototype.sendCustomEvent=function(e){return this.sendEvent("custom",e).then(r)},e.prototype.sendViewEvent=function(e){""===e.referrer&&delete e.referrer;var t=new i.HistoryStore,n={name:"PageView",value:e.contentIdValue,time:JSON.stringify(new Date)};return t.addElement(n),this.sendEvent("view",e).then(r)},e.prototype.getVisit=function(){return fetch(this.getRestEndpoint()+"/analytics/visit").then(r)},e.prototype.getHealth=function(){return fetch(this.getRestEndpoint()+"/analytics/monitoring/health").then(r)},e.prototype.getRestEndpoint=function(){return this.endpoint+"/rest/"+this.version},e.prototype.getHeaders=function(){var e={"Content-Type":"application/json"};return this.token&&(e.Authorization="Bearer "+this.token),e},e}();t.Client=o,Object.defineProperty(t,"__esModule",{value:!0}),t.default=o},function(e,t,n){"use strict";var r=n(111),i=n(112);t.STORE_KEY="__coveo.analytics.history",t.MAX_NUMBER_OF_HISTORY_ELEMENTS=20,t.MIN_THRESHOLD_FOR_DUPLICATE_VALUE=6e4,t.MAX_VALUE_SIZE=75;var o=function(){function e(e){this.store=e||r.getAvailableStorage(),this.store instanceof r.CookieStorage||!i.hasCookieStorage()||(new r.CookieStorage).removeItem(t.STORE_KEY)}return e.prototype.addElement=function(e){e.internalTime=(new Date).getTime(),this.cropQueryElement(e);var t=this.getHistoryWithInternalTime();null!=t?this.isValidEntry(e)&&this.setHistory([e].concat(t)):this.setHistory([e])},e.prototype.getHistory=function(){var e=this.getHistoryWithInternalTime();return this.stripInternalTime(e)},e.prototype.getHistoryWithInternalTime=function(){try{return JSON.parse(this.store.getItem(t.STORE_KEY))}catch(e){return[]}},e.prototype.setHistory=function(e){try{this.store.setItem(t.STORE_KEY,JSON.stringify(e.slice(0,t.MAX_NUMBER_OF_HISTORY_ELEMENTS)))}catch(e){}},e.prototype.clear=function(){try{this.store.removeItem(t.STORE_KEY)}catch(e){}},e.prototype.getMostRecentElement=function(){var e=this.getHistoryWithInternalTime();if(null!=e){return e.sort(function(e,t){return null==e.internalTime&&null==t.internalTime?0:null==e.internalTime&&null!=t.internalTime?1:null!=e.internalTime&&null==t.internalTime?-1:t.internalTime-e.internalTime})[0]}return null},e.prototype.cropQueryElement=function(e){e.name&&"query"==e.name.toLowerCase()&&null!=e.value&&(e.value=e.value.slice(0,t.MAX_VALUE_SIZE))},e.prototype.isValidEntry=function(e){var n=this.getMostRecentElement();return!n||n.value!=e.value||e.internalTime-n.internalTime>t.MIN_THRESHOLD_FOR_DUPLICATE_VALUE},e.prototype.stripInternalTime=function(e){return e&&e.forEach(function(e,t,n){delete e.internalTime}),e},e}();t.HistoryStore=o,Object.defineProperty(t,"__esModule",{value:!0}),t.default=o},function(e,t,n){"use strict";function r(){return t.preferredStorage?t.preferredStorage:i.hasLocalStorage()?localStorage:i.hasCookieStorage()?new s:i.hasSessionStorage()?sessionStorage:new a}var i=n(112),o=n(238);t.preferredStorage=null,t.getAvailableStorage=r;var s=function(){function e(){}return e.prototype.getItem=function(e){return o.Cookie.get(e)},e.prototype.removeItem=function(e){o.Cookie.erase(e)},e.prototype.setItem=function(e,t){o.Cookie.set(e,t)},e}();t.CookieStorage=s;var a=function(){function e(){}return e.prototype.getItem=function(e){return null},e.prototype.removeItem=function(e){},e.prototype.setItem=function(e,t){},e}();t.NullStorage=a},function(e,t,n){"use strict";function r(){try{return"localStorage"in window&&null!==window.localStorage}catch(e){return!1}}function i(){try{return"sessionStorage"in window&&null!==window.sessionStorage}catch(e){return!1}}function o(){return navigator.cookieEnabled}function s(){return null!==document}function a(){return s()&&null!==document.location}t.hasLocalStorage=r,t.hasSessionStorage=i,t.hasCookieStorage=o,t.hasDocument=s,t.hasDocumentLocation=a},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;u;)try{if(i=1,o&&(s=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(s=s.call(o,n[1])).done)return s;switch(o=0,s&&(n=[0,s.value]),n[0]){case 0:case 1:s=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,o=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(s=u.trys,!(s=s.length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){u.label=n[1];break}if(6===n[0]&&u.label<s[1]){u.label=s[1],s=n;break}if(s&&u.label<s[2]){u.label=s[2],u.ops.push(n);break}s[2]&&u.ops.pop(),u.trys.pop();continue}n=t.call(e,u)}catch(e){n=[6,e],o=0}finally{i=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,s,a,u={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a};Object.defineProperty(t,"__esModule",{value:!0});var o,s=n(11),a=n(0);!function(e){e.NO_RENEW_FUNCTION="NO_RENEW_FUNCTION",e.REPEATED_FAILURES="REPEATED_FAILURES"}(o=t.ACCESS_TOKEN_ERRORS||(t.ACCESS_TOKEN_ERRORS={}));var u=function(){function e(e,t){var n=this;this.token=e,this.renew=t,this.subscribers=[],this.logger=new s.Logger(this),this.triedRenewals=0,this.resetRenewalTriesAfterDelay=a.debounce(function(){n.triedRenewals=0},500,!1)}return e.prototype.isExpired=function(e){return null!=e&&419===e.statusCode},e.prototype.doRenew=function(e){return r(this,void 0,void 0,function(){var t,n,r=this;return i(this,function(i){switch(i.label){case 0:this.triedRenewals++,this.resetRenewalTriesAfterDelay(),i.label=1;case 1:return i.trys.push([1,3,,4]),this.verifyRenewSetup(),this.logger.info("Renewing expired access token"),t=this,[4,this.renew()];case 2:return t.token=i.sent(),this.logger.info("Access token renewed",this.token),this.subscribers.forEach(function(e){return e(r.token)}),[2,!0];case 3:switch(n=i.sent(),n.message){case o.REPEATED_FAILURES:this.logger.error("AccessToken tried to renew itself extremely fast in a short period of time"),this.logger.error("There is most probably an authentication error, or a bad implementation of the custom renew function"),this.logger.error("Inspect the developer console of your browser to find out the root cause");break;case o.NO_RENEW_FUNCTION:this.logger.error("AccessToken tried to renew, but no function is configured on initialization to provide acess token renewal"),this.logger.error("The option name is renewAccessToken on the SearchEndpoint class")}return this.logger.error("Failed to renew access token",n),e&&e(n),[2,!1];case 4:return[2]}})})},e.prototype.subscribeToRenewal=function(e){this.subscribers.push(e)},e.prototype.verifyRenewSetup=function(){if(null==this.renew)throw new Error(o.NO_RENEW_FUNCTION);if(this.triedRenewals>=5)throw new Error(o.REPEATED_FAILURES)},e}();t.AccessToken=u},function(e,t,n){"use strict";function r(){var e=String.locales||(String.locales={});e.en=s(e.en,a),String.toLocaleString.call(this,{en:a}),String.locale="en",String.defaultLocale="en",o.culture("en")}function i(){var e=String.locales||(String.locales={});e.en=s(e.en,a),String.toLocaleString.call(this,{en:a}),String.locale="en",String.defaultLocale="en",o.culture("en")}Object.defineProperty(t,"__esModule",{value:!0});var o=n(23),s=function(e,t){var n={};for(var r in e)n[r]=e[r];for(var r in t)n[r]=t[r];return n},a={"box user":"User","filetype_box user":"User",html:"HTML File",filetype_html:"HTML File",wiki:"Wiki",filetype_wiki:"Wiki",webscraperwebpage:"Web Page",filetype_webscraperwebpage:"Web Page",image:"Image",filetype_image:"Image",folder:"Folder",filetype_folder:"Folder",txt:"Text",filetype_txt:"Text",zip:"Zip File",filetype_zip:"Zip File",olefile:"OLE file",filetype_olefile:"OLE file",gmailmessage:"Gmail Message",filetype_gmailmessage:"Gmail Message",pdf:"PDF File",filetype_pdf:"PDF File",swf:"Flash File",filetype_swf:"Flash File",xml:"XML File",filetype_xml:"XML File",vsd:"Visio",filetype_vsd:"Visio",svg:"SVG",filetype_svg:"SVG",svm:"Open Office",filetype_svm:"Open Office",rssitem:"RSS feed",filetype_rssitem:"RSS feed",doc:"Document",filetype_doc:"Document",docx:"Microsoft Word Document",filetype_docx:"Microsoft Word Document",xls:"Spreadsheet Document",filetype_xls:"Spreadsheet Document",ppt:"Presentation Document",filetype_ppt:"Presentation Document",video:"Video",filetype_video:"Video",youtube:"YouTube video",filetype_youtube:"YouTube video",saleforceitem:"Salesforce",filetype_saleforceitem:"Salesforce",dynamicscrmitem:"Dynamics CRM",filetype_dynamicscrmitem:"Dynamics CRM",salesforceitem:"Salesforce",filetype_salesforceitem:"Salesforce",odt:"Open Text Document",filetype_odt:"Open Text Document",box:"User",filetype_box:"User",jiraissue:"Jira Issue",filetype_jiraissue:"Jira Issue",cfpage:"Confluence Page",filetype_cfpage:"Confluence Page",cfcomment:"Confluence Comment",filetype_cfcomment:"Confluence Comment",cfspace:"Confluence Space",filetype_cfspace:"Confluence Space",cfblogentry:"Confluence Blog Entry",filetype_cfblogentry:"Confluence Blog Entry",confluencespace:"Confluence Space",filetype_confluencespace:"Confluence Space",exchangemessage:"Message",filetype_exchangemessage:"Message",exchangeappointment:"Appointment",filetype_exchangeappointment:"Appointment",exchangenote:"Note",filetype_exchangenote:"Note",exchangetask:"Task",filetype_exchangetask:"Task",exchangeperson:"Exchange User",filetype_exchangeperson:"Exchange User",activedirperson:"Active Directory User",filetype_activedirperson:"Active Directory User",exchangeactivity:"Activity",filetype_exchangeactivity:"Activity",exchangecalendarmessage:"Calendar Message",filetype_exchangecalendarmessage:"Calendar Message",exchangedocument:"Exchange Document",filetype_exchangedocument:"Exchange Document",exchangedsn:"DSN",filetype_exchangedsn:"DSN",exchangefreebusy:"Free/Busy",filetype_exchangefreebusy:"Free/Busy",exchangegroup:"Group",filetype_exchangegroup:"Group",exchangerssfeed:"RSS Feed",filetype_exchangerssfeed:"RSS Feed",exchangejunkmessage:"Junk Email",filetype_exchangejunkmessage:"Junk Email",exchangeofficecom:"Communications",filetype_exchangeofficecom:"Communications",lithiummessage:"Lithium Message",filetype_lithiummessage:"Lithium Message",lithiumthread:"Lithium Thread",filetype_lithiumthread:"Lithium Thread",lithiumboard:"Lithium Board",filetype_lithiumboard:"Lithium Board",lithiumcategory:"Lithium Category",filetype_lithiumcategory:"Lithium Category",lithiumcommunity:"Lithium Community",filetype_lithiumcommunity:"Lithium Community",people:"User",objecttype_people:"User",message:"Message",objecttype_message:"Message",feed:"RSS Feed",objecttype_feed:"RSS Feed",thread:"Thread",objecttype_thread:"Thread",file:"File",objecttype_file:"File",board:"Board",objecttype_board:"Board",category:"Category",objecttype_category:"Category",account:"Account",objecttype_account:"Account",annotation:"Note",objecttype_annotation:"Note",campaign:"Campaign",objecttype_campaign:"Campaign",case:"Case",objecttype_case:"Case",contact:"Contact",objecttype_contact:"Contact",contract:"Contract",objecttype_contract:"Contract",event:"Event",objecttype_event:"Event",email:"Email",objecttype_email:"Email",goal:"Goal",objecttype_goal:"Goal",incident:"Case",objecttype_incident:"Case",invoice:"Invoice",objecttype_invoice:"Invoice",lead:"Lead",objecttype_lead:"Lead",list:"List",objecttype_list:"Marketing List",solution:"Solution",objecttype_solution:"Solution",report:"Report",objecttype_report:"Report",task:"Task",objecttype_task:"Task",user:"User",objecttype_user:"User",attachment:"Attachment",objecttype_attachment:"Attachment",casecomment:"Case Comment",objecttype_casecomment:"Case Comment",opportunity:"Opportunity",objecttype_opportunity:"Opportunity",opportunityproduct:"Opportunity Product",objecttype_opportunityproduct:"Opportunity Product",feeditem:"Chatter",objecttype_feeditem:"Chatter",feedcomment:"Comment",objecttype_feedcomment:"Comment",note:"Note",objecttype_note:"Note",product:"Product",objecttype_product:"Product",partner:"Partner",objecttype_partner:"Partner",queueitem:"Queue Item",objecttype_queueitem:"Queue Item",quote:"Quote",objecttype_quote:"Quote",salesliterature:"Sales Literature",objecttype_salesliterature:"Sales Literature",salesorder:"Sales Order",objecttype_salesorder:"Sales Order",service:"Service",objecttype_service:"Service",socialprofile:"Social Profile",objecttype_socialprofile:"Social Profile",kbdocumentation:"Knowledge Document",objecttype_kbdocumentation:"Knowledge Document",kbtechnicalarticle:"Technical Documentation",objecttype_kbtechnicalarticle:"Technical Documentation",kbsolution:"Solution",objecttype_kbsolution:"Solution",kbknowledgearticle:"Knowledge Article",objecttype_kbknowledgearticle:"Knowledge Article",kbattachment:"Attachment",objecttype_kbattachment:"Attachment",kbarticle:"Article",objecttype_kbarticle:"Article",kbarticlecomment:"Article Comment",objecttype_kbarticlecomment:"Article Comment",knowledgearticle:"Knowledge Article",objecttype_knowledgearticle:"Knowledge Article",topic:"Topic",objecttype_topic:"Topic",dashboard:"Dashboard",objecttype_dashboard:"Dashboard",contentversion:"Document",objecttype_contentversion:"Document",collaborationgroup:"Collaboration group",objecttype_collaborationgroup:"Collaboration group",phonecall:"Phone call",objecttype_phonecall:"Phone call",appointment:"Appointment",objecttype_appointment:"Appointment",spportal:"Portal",filetype_spportal:"Portal",spsite:"SharePoint Site",filetype_spsite:"SharePoint Site",spuserprofile:"SharePoint User",filetype_spuserprofile:"SharePoint User",sparea:"Area",filetype_sparea:"Area",spannouncement:"Announcement",filetype_spannouncement:"Announcement",spannouncementlist:"Announcements",filetype_spannouncementlist:"Announcements",spcontact:"Contact",filetype_spcontact:"Contact",spcontactlist:"Contacts",filetype_spcontactlist:"Contacts",spcustomlist:"Custom Lists",filetype_spcustomlist:"Custom Lists",spdiscussionboard:"Discussion Board",filetype_spdiscussionboard:"Discussion Board",spdiscussionboardlist:"Discussion Boards",filetype_spdiscussionboardlist:"Discussion Boards",spdocumentlibrarylist:"Document Library",filetype_spdocumentlibrarylist:"Document Library",spevent:"Event",filetype_spevent:"Event",speventlist:"Events",filetype_speventlist:"Events",spformlibrarylist:"Form Library",filetype_spformlibrarylist:"Form Library",spissue:"Issue",filetype_spissue:"Issue",spissuelist:"Issues",filetype_spissuelist:"Issues",splink:"Link",filetype_splink:"Link",splinklist:"Links",filetype_splinklist:"Links",sppicturelibrarylist:"Picture Library",filetype_sppicturelibrarylist:"Picture Library",spsurvey:"Survey",filetype_spsurvey:"Survey",spsurveylist:"Surveys",filetype_spsurveylist:"Surveys",sptask:"Task",filetype_sptask:"Task",sptasklist:"Tasks",filetype_sptasklist:"Tasks",spagenda:"Agenda",filetype_spagenda:"Agenda",spagendalist:"Agendas",filetype_spagendalist:"Agendas",spattendee:"Attendee",filetype_spattendee:"Attendee",spattendeelist:"Attendees",filetype_spattendeelist:"Attendees",spcustomgridlist:"Custom Grids",filetype_spcustomgridlist:"Custom Grids",spdecision:"Decision",filetype_spdecision:"Decision",spdecisionlist:"Decisions",filetype_spdecisionlist:"Decisions",spobjective:"Objective",filetype_spobjective:"Objective",spobjectivelist:"Objectives",filetype_spobjectivelist:"Objectives",sptextbox:"Textbox",filetype_sptextbox:"Textbox",sptextboxlist:"Textbox list",filetype_sptextboxlist:"Textbox list",spthingstobring:"Thing To Bring",filetype_spthingstobring:"Thing To Bring",spthingstobringlist:"Things To Bring",filetype_spthingstobringlist:"Things To Bring",sparealisting:"Area Listing",filetype_sparealisting:"Area Listing",spmeetingserie:"Meeting series",filetype_spmeetingserie:"Meeting series",spmeetingserielist:"Meeting Series List",filetype_spmeetingserielist:"Meeting Series List",spsitedirectory:"Site Directory Item",filetype_spsitedirectory:"Site Directory Item",spsitedirectorylist:"Site Directory",filetype_spsitedirectorylist:"Site Directory",spdatasource:"Data Source",filetype_spdatasource:"Data Source",spdatasourcelist:"Data Source List",filetype_spdatasourcelist:"Data Source List",splisttemplatecataloglist:"List Template Gallery",filetype_splisttemplatecataloglist:"List Template Gallery",spwebpartcataloglist:"WebPart Gallery",filetype_spwebpartcataloglist:"WebPart Gallery",spwebtemplatecataloglist:"Site Template Gallery",filetype_spwebtemplatecataloglist:"Site Template Gallery",spworkspacepagelist:"Workspace Pages",filetype_spworkspacepagelist:"Workspace Pages",spunknownlist:"Custom List",filetype_spunknownlist:"Custom List",spadministratortask:"Administrator Task",filetype_spadministratortask:"Administrator Task",spadministratortasklist:"Administrator Tasks",filetype_spadministratortasklist:"Administrator Tasks",spareadocumentlibrarylist:"Area Document Library",filetype_spareadocumentlibrarylist:"Area Document Library",spblogcategory:"Blog Category",filetype_spblogcategory:"Blog Category",spblogcategorylist:"Blog Categories",filetype_spblogcategorylist:"Blog Categories",spblogcomment:"Blog Comment",filetype_spblogcomment:"Blog Comment",spblogcommentlist:"Blog Comments",filetype_spblogcommentlist:"Blog Comments",spblogpost:"Blog Post",filetype_spblogpost:"Blog Post",spblogpostlist:"Blog Posts",filetype_spblogpostlist:"Blog Posts",spdataconnectionlibrarylist:"Data Connection Library",filetype_spdataconnectionlibrarylist:"Data Connection Library",spdistributiongroup:"Distribution Group",filetype_spdistributiongroup:"Distribution Group",spdistributiongrouplist:"Distribution Groups",filetype_spdistributiongrouplist:"Distribution Groups",spipfslist:"InfoPath Forms Servers",filetype_spipfslist:"InfoPath Forms Servers",spkeyperformanceindicator:"Key Performance Indicator",filetype_spkeyperformanceindicator:"Key Performance Indicator",spkeyperformanceindicatorlist:"Key Performance Indicators",filetype_spkeyperformanceindicatorlist:"Key Performance Indicators",splanguagesandtranslator:"Languages and Translator",filetype_splanguagesandtranslator:"Languages and Translator",splanguagesandtranslatorlist:"Languages and Translators",filetype_splanguagesandtranslatorlist:"Languages and Translators",spmasterpagescataloglist:"Master Page Gallery",filetype_spmasterpagescataloglist:"Master Page Gallery",spnocodeworkflowlibrarylist:"No-code Workflow Libraries",filetype_spnocodeworkflowlibrarylist:"No-code Workflow Libraries",spprojecttask:"Project Task",filetype_spprojecttask:"Project Task",spprojecttasklist:"Project Tasks",filetype_spprojecttasklist:"Project Tasks",sppublishingpageslibrarylist:"Page Library",filetype_sppublishingpageslibrarylist:"Page Library",spreportdocumentlibrarylist:"Report Document Library",filetype_spreportdocumentlibrarylist:"Report Document Library",spreportlibrarylist:"Report Library",filetype_spreportlibrarylist:"Report Library",spslidelibrarylist:"Slide Library",filetype_spslidelibrarylist:"Slide Library",sptab:"Tabs",filetype_sptab:"Tabs",sptablist:"Tabs List",filetype_sptablist:"Tabs List",sptranslationmanagementlibrarylist:"Translation Management Library",filetype_sptranslationmanagementlibrarylist:"Translation Management Library",spuserinformation:"User Information",filetype_spuserinformation:"User Information",spuserinformationlist:"User Information List",filetype_spuserinformationlist:"User Information List",spwikipagelibrarylist:"Wiki Page Library",filetype_spwikipagelibrarylist:"Wiki Page Library",spworkflowhistory:"Workflow History",filetype_spworkflowhistory:"Workflow History",spworkflowhistorylist:"Workflow History List",filetype_spworkflowhistorylist:"Workflow History List",spworkflowprocess:"Custom Workflow Process",filetype_spworkflowprocess:"Custom Workflow Process",spworkflowprocesslist:"Custom Workflow Processes",filetype_spworkflowprocesslist:"Custom Workflow Processes",sppublishingimageslibrarylist:"Publishing Image Library",filetype_sppublishingimageslibrarylist:"Publishing Image Library",spcirculation:"Circulation",filetype_spcirculation:"Circulation",spcirculationlist:"Circulations",filetype_spcirculationlist:"Circulations",spdashboardslibrarylist:"Dashboards Library",filetype_spdashboardslibrarylist:"Dashboards Library",spdataconnectionforperformancepointlibrarylist:"PerformancePoint Data Connection Library",filetype_spdataconnectionforperformancepointlibrarylist:"PerformancePoint Data Connection Library",sphealthreport:"Health Report",filetype_sphealthreport:"Health Report",sphealthreportlist:"Health Reports",filetype_sphealthreportlist:"Health Reports",sphealthrule:"Health Rule",filetype_sphealthrule:"Health Rule",sphealthrulelist:"Health Rules",filetype_sphealthrulelist:"Health Rules",spimedictionary:"IME Dictionary",filetype_spimedictionary:"IME Dictionary",spimedictionarylist:"IME Dictionaries",filetype_spimedictionarylist:"IME Dictionaries",spperformancepointcontent:"PerformancePoint Content",filetype_spperformancepointcontent:"PerformancePoint Content",spperformancepointcontentlist:"PerformancePoint Contents",filetype_spperformancepointcontentlist:"PerformancePoint Contents",spphonecallmemo:"Phone Call Memo",filetype_spphonecallmemo:"Phone Call Memo",spphonecallmemolist:"Phone Call Memos",filetype_spphonecallmemolist:"Phone Call Memos",sprecordlibrarylist:"Record Library",filetype_sprecordlibrarylist:"Record Library",spresource:"Resource",filetype_spresource:"Resource",spresourcelist:"Resources",filetype_spresourcelist:"Resources",spprocessdiagramslibrarylist:"Process Diagram Library",filetype_spprocessdiagramslibrarylist:"Process Diagram Library",spsitethemeslibrarylist:"Site Theme Library",filetype_spsitethemeslibrarylist:"Site Theme Library",spsolutionslibrarylist:"Solution Library",filetype_spsolutionslibrarylist:"Solution Library",spwfpublibrarylist:"WFPUB Library",filetype_spwfpublibrarylist:"WFPUB Library",spwhereabout:"Whereabout",filetype_spwhereabout:"Whereabout",spwhereaboutlist:"Whereabouts",filetype_spwhereaboutlist:"Whereabouts",spdocumentlink:"Link to a Document",filetype_spdocumentlink:"Link to a Document",spdocumentset:"Document Set",filetype_spdocumentset:"Document Set",spmicrofeedpost:"Microfeed Post",filetype_spmicrofeedpost:"Microfeed Post",spmicrofeedlist:"Microfeed",filetype_spmicrofeedlist:"Microfeed",splistfolder:"List Folder",filetype_splistfolder:"List Folder",youtubevideo:"YouTube video",filetype_youtubevideo:"YouTube video",youtubeplaylistitem:"YouTube playlist item",filetype_youtubeplaylistitem:"YouTube playlist item",youtubeplaylist:"YouTube playlist",filetype_youtubeplaylist:"YouTube playlist",Unknown:"Unknown",And:"AND",Authenticating:"Authenticating {0}...",Clear:"Clear {0}",CompleteQuery:"Complete query",Exclude:"Exclude {0}",EnterTag:"Add Tag",Next:"Next",Last:"Last",Link:"Link",Or:"OR",Previous:"Previous",QueryDidntMatchAnyDocuments:"Your query did not match any documents.",QueryException:"Your query has an error: {0}.",Me:"Me",Remove:"Remove",Search:"Search",SearchFor:"Search for {0}",ShareQuery:"Share Query",Preferences:"Preferences",LinkOpeningSettings:"Link opening settings",Reauthenticate:"Reauthenticate {0}",ResultsFilteringExpression:"Results filtering expressions",FiltersInYourPreferences:"Filters in your preferences",Create:"Create",SearchIn:"Search in {0}",Seconds:"in {0} second<pl>s</pl>",ShowingResultsOf:"Result<pl>s</pl> {0}<pl>-{1}</pl> of {2}",ShowingResultsOfWithQuery:"Result<pl>s</pl> {0}<pl>-{1}</pl> of {2} for {3}",SwitchTo:"Switch to {0}",Unexclude:"Unexclude {0}",ClearAllFilters:"Clear All Filters",SkipLogin:"Skip login",LoginInProgress:"Login in progress, please wait ...",Login:"Log In",GetStarted:"Get Started",More:"More",NMore:"{0} more...",Less:"Fewer",Settings:"Settings",Score:"Score",ScoreDescription:"The score is computed from the number of occurrences as well as from the position in the result set.",Occurrences:"Occurrences",OccurrencesDescription:"Sort by number of occurrences, with values having the highest number appearing first.",Label:"Label",Of:"of",LabelDescription:"Sort alphabetically on the field values.",Value:"Value",ValueDescription:"Sort on the values of the first computed field",AlphaAscending:"Value Ascending",AlphaDescending:"Value Descending",ChiSquare:"Chi Square",Nosort:"No Sort",NosortDescription:"Do not sort the values. The values will be returned in a random order.",RelativeFrequency:"Relative Frequency",RelativeFrequencyDescription:"Sort based on the relative frequency of values. Less common values will appear higher.",DateDistribution:"Date distribution",Custom:"Custom",CustomDescription:"Sort based on a custom order",ComputedField:"Computed Field",Ascending:"Ascending",Descending:"Descending",noResultFor:"No results for {0}",autoCorrectedQueryTo:"Query was automatically corrected to {0}",didYouMean:"Did you mean: {0}",SuggestedResults:"Suggested Results",SuggestedQueries:"Suggested Queries",MostRelevantItems:"Most relevant items:",AllItems:"All items:",ShowLess:"Show less",ShowMore:"Show more",HideFacet:"Hide Facet",ShowFacet:"Show Facet",AndOthers:"and {0} other<pl>s</pl>",Others:"{0} other<pl>s</pl>",MostRelevantPosts:"Most Relevant Posts:",CompleteThread:"Complete Thread:",ShowCompleteThread:"Show Complete Thread",ShowOnlyTopMatchingPosts:"Show Only Top Matching Posts",MostRelevantReplies:"Most Relevant Replies:",AllConversation:"All Conversation:",ShowAllConversation:"Show All Conversation",ShowAllReplies:"Show All Replies",ShowOnlyMostRelevantReplies:"Show Only Most Relevant Replies",Close:"Close",Open:"Open",OpenInOutlookWhenPossible:"Open in Outlook (when possible)",AlwaysOpenInNewWindow:"Always open results in new window",Quickview:"Quick View",NoQuickview:"The Quick View for this document is unavailable",ErrorReport:"Error Report",OopsError:"Something went wrong.",ProblemPersists:"If the problem persists contact the administrator.",GoBack:"Go Back",Reset:"Reset",Retry:"Retry",MoreInfo:"More Information",Username:"Username",Password:"Password",PostedBy:"Posted by",CannotConnect:"Cannot connect to the server address.",BadUserPass:"Password does not match with username.",PleaseEnterYourCredentials:"Please enter your credentials for {0}.",PleaseEnterYourSearchPage:"Please enter your search page URL",Collapse:"Collapse",Collapsable:"Collapsible",Expand:"Expand",Today:"Today",Yesterday:"Yesterday",Tomorrow:"Tomorrow",Duration:"Duration: {0}",IndexDuration:"Index Duration: {0}",ProxyDuration:"Proxy Duration: {0}",ClientDuration:"Client Duration: {0}",Unavailable:"Unavailable",Reply:"Reply",ReplyAll:"Reply All",Forward:"Forward",From:"From",Caption:"Caption",Expression:"Expression",Tab:"Tab",Tabs:"Tabs",EnterExpressionName:"Enter expression name",EnterExpressionToFilterWith:"Enter expression to filter results with",SelectTab:"Select Tab",SelectAll:"Select All",PageUrl:"Search page URL",ErrorSavingToDevice:"Error while saving the information to your device",ErrorReadingFromDevice:"Error while reading the information from your device",AppIntro:"Speak with a product specialist who can answer your questions about Coveo and help you decide which Coveo solution is right for you. Or, try a live demo !",TryDemo:"Try the demo",ContactUs:"Contact us",NewToCoveo:"New to Coveo?",LetUsHelpGetStarted:"Let us help you get started",LikesThis:"{0} like<sn>s</sn> this.",CannotConnectSearchPage:"Cannot connect to your search page",AreYouSureDeleteFilter:"Are you sure you want to delete the filter {0} with the expression {1}",OnlineHelp:"Online Help",Done:"Done",SaveFacetState:"Save this facet state",ClearFacetState:"Clear facet state",DisplayingTheOnlyMessage:"Displaying the only message in this conversation",NoNetworkConnection:"No network connection",UnknownConnection:"Unknown connection",EthernetConnection:"Ethernet connection",WiFi:"WiFi connection",CELL:"Cellular connection",CELL_2G:"Cellular 2G connection",CELL_3G:"Cellular 3G connection",CELL_4G:"Cellular 4G connection",Relevance:"Relevance",Date:"Date",Amount:"Amount",QueryExceptionNoException:"No exception",QueryExceptionInvalidSyntax:"Invalid syntax",QueryExceptionInvalidCustomField:"Invalid custom field",QueryExceptionInvalidDate:"Invalid date",QueryExceptionInvalidExactPhrase:"Invalid exact phrase",QueryExceptionInvalidDateOp:"Invalid date operator",QueryExceptionInvalidNear:"Invalid NEAR operator",QueryExceptionInvalidWeightedNear:"Invalid weighted NEAR",QueryExceptionInvalidTerm:"Invalid term",QueryExceptionTooManyTerms:"Too many terms",QueryExceptionWildcardTooGeneral:"Wildcard too general",QueryExceptionInvalidSortField:"Invalid sort field",QueryExceptionInvalidSmallStringOp:"Invalid small string operator",QueryExceptionRequestedResultsMax:"Requested results maximum",QueryExceptionAggregatedMirrorDead:"Aggregated mirror is offline",QueryExceptionAggregatedMirrorQueryTimeOut:"Aggregated mirror query timeout",QueryExceptionAggregatedMirrorInvalidBuildNumber:"Aggregated mirror invalid build number",QueryExceptionAggregatedMirrorCannotConnect:"Aggregated mirror cannot connect",QueryExceptionNotEnoughLeadingCharsWildcard:"Not enough leading character wildcard",QueryExceptionSecurityInverterNotFound:"Security inverter not found",QueryExceptionSecurityInverterAccessDenied:"Security inverter access denied",QueryExceptionAggregatedMirrorCannotImpersonate:"Aggregated mirror cannot impersonate",QueryExceptionUnexpected:"Unexpected",QueryExceptionAccessDenied:"Access denied",QueryExceptionSuperUserTokenInvalid:"Super user token invalid",QueryExceptionSuperUserTokenExpired:"Super user token is expired",QueryExceptionLicenseQueriesExpired:"Queries license expired",QueryExceptionLicenseSuperUserTokenNotSupported:"License super user token not supported",QueryExceptionInvalidSession:"Invalid session",QueryExceptionInvalidDocument:"Invalid document",QueryExceptionSearchDisabled:"Search disabled",FileType:"File type",ShowAttachment:"Show attachment",OnFeed:"on {0}'s feed.",Author:"Author",NoTitle:"No title",CurrentSelections:"Current selections",AllContent:"All content",CancelLastAction:"Cancel last action",SearchTips:"Search tips",CheckSpelling:"Check the spelling of your keywords.",TryUsingFewerKeywords:"Try using fewer, different or more general keywords.",SelectFewerFilters:"Select fewer filters to broaden your search.",Document:"Document",Time:"Time",StartDate:"Start Date",StartTime:"Start Time",DurationTitle:"Duration",UserQuery:"User query",ShowUserActions:"Show User Actions",NoData:"No data available",EventType:"Event type",GoToFullSearch:"Full search",GoToEdition:"Customize Panel",RemoveContext:"Remove context",BoxAttachToCase:"Attach to case",AttachToCase:"Attach to case",Attach:"Attach",Attached:"Attached",Detach:"Detach",Details:"Details",AdditionalFilters:"Additional filters",SelectNonContextualSearch:"Remove the context from the current record to broaden your search",CopyPasteToSupport:"Copy paste this message to the Coveo Support team for more information.",FollowQueryDescription:"Alert me for changes to the search results of this query.",SearchAlerts_Panel:"Manage Alerts",SearchAlerts_PanelDescription:"View and manage your search alerts.",SearchAlerts_PanelNoSearchAlerts:"You have no subscriptions.",SearchAlerts_Fail:"The Search Alerts service is currently unavailable.",SearchAlerts_Type:"Type",SearchAlerts_Content:"Content",SearchAlerts_Actions:"Action",EmptyQuery:"<empty>",SearchAlerts_Type_followQuery:"Query",SearchAlerts_Type_followDocument:"Item",SearchAlerts_unFollowing:"Stop Following",SearchAlerts_follow:"Follow",SearchAlerts_followed:"Followed",SearchAlerts_followQuery:"Follow Query",Subscription_StopFollowingQuery:"Stop Following Query",SearchAlerts_Frequency:"When",SubscriptionsManageSubscriptions:"Manage Alerts",SubscriptionsMessageFollowQuery:"You will receive alerts when the query <b>{0}</b> returns new or updated items.",SubscriptionsMessageFollow:"You will receive alerts for changes to the item <b>{0}</b>.",Expiration:"Expiration",Monthly:"Monthly",Daily:"Daily",Monday:"Monday",Tuesday:"Tuesday",Wednesday:"Wednesday",Thursday:"Thursday",Friday:"Friday",Saturday:"Saturday",Sunday:"Sunday",NextDay:"Next {0}",LastDay:"Last {0}",StartTypingCaseForSuggestions:"Describe your problem to see possible solutions",ExportToExcel:"Export to Excel",ExportToExcelDescription:"Export search results to Excel",CaseCreationNoResults:"No recommended solutions were found",SortBy:"Sort by",BoxCreateArticle:"Create Article",Facets:"Facets",AdvancedSearch:"Advanced Search",Keywords:"Keywords",AllTheseWords:"All these words",ExactPhrase:"This exact phrase",AnyOfTheseWords:"Any of these words",NoneOfTheseWords:"None of these words",Anytime:"Anytime",InTheLast:"In the last",Days:"days",Months:"months",Month:"Month",Year:"Year",Between:"Between",Language:"Language",Size:"Size",AtLeast:"at least",AtMost:"at most",Contains:"contains",DoesNotContain:"does not contain",Matches:"matches",Bytes:"bytes",card:"Card",table:"Table",ResultLinks:"Result links",EnableQuerySyntax:"Enable query syntax",On:"On",Off:"Off",Automatic:"Automatic",ResultsPerPage:"Results per page",PreviousMonth:"Previous month",NextMonth:"Next month",Title:"Title",FiltersInAdvancedSearch:"Filters in Advanced Search",NoEndpoints:"{0} has no registered endpoints.",InvalidToken:"The token used is invalid.",AddSources:"You will need to add sources in your index, or wait for the created sources to finish indexing.",TryAgain:"Please try again.",CoveoOnlineHelp:"Coveo Online Help",CannotAccess:"{0} cannot be accessed.",CoveoOrganization:"Coveo Organization",SearchAPIDuration:"Search API Duration: {0}",LastUpdated:"Last updated",AllDates:"All dates",WithinLastDay:"Within last day",WithinLastWeek:"Within last week",WithinLastMonth:"Within last month",WithinLastYear:"Within last year",RelevanceInspector:"Relevance Inspector",KeywordInCategory:"{0} in {1}",ResultCount:"{0} results",ShowingResults:"{0} result<pl>s</pl>",ShowingResultsWithQuery:"{0} result<pl>s</pl> for {1}",NumberOfVideos:"Number of videos",AllCategories:"All Categories",Recommended:"Recommended",Featured:"Featured",CoveoHomePage:"Coveo Home page",SizeValue:"Size value",UnitMeasurement:"Unit of measurement",Toggle:"Toggle",FilterOn:"Filter on {0}",RemoveFilterOn:"Remove filter on {0}",Enter:"Enter",InsertAQuery:"Insert a query",PressEnterToSend:"Press enter to send",SortResultsBy:"Sort results by {0}",DisplayResultsAs:"Display results as {0}",FacetTitle:"{0} facet",SelectValueWithResultCount:"Select {0} with {1}",UnselectValueWithResultCount:"Unselect {0} with {1}",PageNumber:"Page {0}",DisplayResultsPerPage:"Display {0} results per page"};t.defaultLanguage=r,t.setLanguageAfterPageLoaded=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(24),i=n(0);String.toLocaleString=r.LocaleString;var o=/<pl>(((?!<\/pl>).)*)<\/pl>/g,s=/<sn>(((?!<\/sn>).)*)<\/sn>/g;t.L10N={format:function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=e.toLocaleString();if(o==e){var s=e.toUpperCase().toLocaleString(),a=e.toLowerCase().toLocaleString(),u=(e.charAt(0).toUpperCase()+e.toLowerCase().slice(1)).toLocaleString();s!=e.toUpperCase().toLocaleString()?o=s:a!=e.toLowerCase().toLocaleString()?o=a:u!=e.charAt(0).toUpperCase()+e.toLowerCase().slice(1)&&(o=u)}if(n.length>0){var l=i.last(n);(i.isBoolean(l)||i.isNumber(l))&&(n.pop(),o=t.L10N.formatPlSn(o,l)),i.each(n,function(e,t){return o=o.replace("{"+t+"}",e)})}else o=o.replace(/{[0-9]}|<pl>[a-zA-Z]+<\/pl>|<sn>|<\/sn>/g,"").trim();return o},formatPlSn:function(e,t){return e=(i.isBoolean(t)?t:t>1)?e.replace(o,"$1").replace(s,""):e.replace(o,"").replace(s,"$1")}}},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}u((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;u;)try{if(i=1,o&&(s=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(s=s.call(o,n[1])).done)return s;switch(o=0,s&&(n=[0,s.value]),n[0]){case 0:case 1:s=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,o=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(s=u.trys,!(s=s.length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){u.label=n[1];break}if(6===n[0]&&u.label<s[1]){u.label=s[1],s=n;break}if(s&&u.label<s[2]){u.label=s[2],u.ops.push(n);break}s[2]&&u.ops.pop(),u.trys.pop();continue}n=t.call(e,u)}catch(e){n=[6,e],o=0}finally{i=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,s,a,u={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a};Object.defineProperty(t,"__esModule",{value:!0});var s=n(0),a=n(5),u=n(11),l=n(67),c=n(69),d=n(45),p=n(4),f=function(){function e(e){this.options=e,this.logger=new u.Logger(this);var t={accessToken:this.options.accessToken.token};this.endpointCaller=new l.EndpointCaller(t),this.organization=e.organization}return e.prototype.getCurrentVisitId=function(){return this.visitId},e.prototype.getCurrentVisitIdPromise=function(){var e=this;return new Promise(function(t,n){if(e.getCurrentVisitId())t(e.getCurrentVisitId());else{var r=e.buildAnalyticsUrl("/analytics/visit");e.getFromService(r,{}).then(function(n){e.visitId=n.id,t(e.visitId)}).catch(function(e){n(e)})}})},e.prototype.sendSearchEvents=function(e){if(e.length>0)return this.logger.info("Logging analytics search events",e),this.sendToService(e,"searches","searchEvents")},e.prototype.sendDocumentViewEvent=function(e){return a.Assert.exists(e),this.logger.info("Logging analytics document view",e),this.sendToService(e,"click","clickEvent")},e.prototype.sendCustomEvent=function(e){return a.Assert.exists(e),this.logger.info("Logging analytics custom event",e),this.sendToService(e,"custom","customEvent")},e.prototype.getTopQueries=function(e){var t=this.buildAnalyticsUrl("/stats/topQueries");return this.getFromService(t,e)},e.prototype.sendToService=function(t,n,r){return i(this,void 0,void 0,function(){var i,s,a,u,l,p;return o(this,function(o){switch(o.label){case 0:if(i=e.CUSTOM_ANALYTICS_VERSION||e.DEFAULT_ANALYTICS_VERSION,s=d.UrlUtils.normalizeAsParts({paths:[this.options.serviceUrl,"/rest/",i,"/analytics/",n],query:{org:this.organization,visitor:c.Cookie.get("visitorId")}}),null==e.pendingRequest)return[3,4];o.label=1;case 1:return o.trys.push([1,,3,4]),[4,e.pendingRequest];case 2:return o.sent(),[3,4];case 3:return[2,this.sendToService(t,n,r)];case 4:a=e.pendingRequest=this.endpointCaller.call({errorsAsSuccess:!1,method:"POST",queryString:s.queryNormalized,requestData:t,url:s.path,responseType:"text",requestDataType:"application/json"}),o.label=5;case 5:return o.trys.push([5,7,,10]),[4,a];case 6:return u=o.sent(),e.pendingRequest=null,this.handleAnalyticsEventResponse(u.data),[2,u.data];case 7:return l=o.sent(),e.pendingRequest=null,this.options.accessToken.isExpired(l)?[4,this.options.accessToken.doRenew()]:[3,9];case 8:if(p=o.sent())return[2,this.sendToService(t,n,r)];o.label=9;case 9:throw l;case 10:return[2]}})})},e.prototype.getFromService=function(e,t){var n=r({},t,{access_token:this.options.accessToken.token});return this.endpointCaller.call({errorsAsSuccess:!1,method:"GET",queryString:this.options.organization?["org="+p.Utils.safeEncodeURIComponent(this.options.organization)]:[],requestData:n,responseType:"json",url:e}).then(function(e){return e.data})},e.prototype.handleAnalyticsEventResponse=function(t){var n,r;return t.visitId?(n=t.visitId,r=t.visitorId):t.searchEventResponses&&(n=s.first(t.searchEventResponses).visitId,r=s.first(t.searchEventResponses).visitorId),n&&(this.visitId=n),r&&c.Cookie.set("visitorId",r,e.VISITOR_COOKIE_TIME),t},e.prototype.buildAnalyticsUrl=function(t){return d.UrlUtils.normalizeAsString({paths:[this.options.serviceUrl,"/rest/",e.CUSTOM_ANALYTICS_VERSION||e.DEFAULT_ANALYTICS_VERSION,t]})},e.DEFAULT_ANALYTICS_URI="https://usageanalytics.coveo.com",e.DEFAULT_ANALYTICS_VERSION="v15",e.CUSTOM_ANALYTICS_VERSION=void 0,e.VISITOR_COOKIE_TIME=864e9,e}();t.AnalyticsEndpoint=f},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),o=n(16),s=n(1),a=n(39),u=n(28),l=n(35),c=n(4),d=n(0),p=n(12),f=n(9),h=n(85),y=n(15),m=function(e){function t(n,r,a,u,l){var c=e.call(this,n,t.ID)||this;return c.window=r,c.queryStateModel=a,c.queryController=u,c.usageAnalytics=l,c.ignoreNextHashChange=!1,c.initialHashChange=!1,c.willUpdateHash=!1,i.Assert.exists(c.queryStateModel),i.Assert.exists(c.queryController),s.$$(c.element).on(o.InitializationEvents.restoreHistoryState,function(){c.logger.trace("Restore history state. Update model"),c.updateModelFromHash(),c.lastState=c.queryStateModel.getAttributes()}),s.$$(c.element).on(c.queryStateModel.getEventName(y.Model.eventTypes.all),function(){c.logger.trace("Query model changed. Update hash"),c.updateHashFromModel()}),c.hashchange=function(){c.handleHashChange(),c.lastState=c.queryStateModel.getAttributes()},c.window.addEventListener("hashchange",c.hashchange),s.$$(c.element).on(o.InitializationEvents.nuke,function(){return c.handleNuke()}),c}return r(t,e),Object.defineProperty(t.prototype,"hashUtils",{get:function(){}