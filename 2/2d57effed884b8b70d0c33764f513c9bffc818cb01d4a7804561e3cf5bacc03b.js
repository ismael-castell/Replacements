/*! For license information please see prebid.js.LICENSE.txt */
var prebid_6_19_0;!function(){var e={7028:function(e,t,r){r(5418),r(4569),r(711),r(1114),r(214).Set},7836:function(e){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},236:function(e,t,r){var n=r(2766)("unscopables"),i=Array.prototype;null==i[n]&&r(161)(i,n,{}),e.exports=function(e){i[n][e]=!0}},5304:function(e){e.exports=function(e,t,r,n){if(!(e instanceof t)||void 0!==n&&n in e)throw TypeError(r+": incorrect invocation!");return e}},2666:function(e,t,r){var n=r(4245);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},4121:function(e,t,r){var n=r(5134),i=r(6260),o=r(3513);e.exports=function(e){return function(t,r,a){var s,d=n(t),c=i(d.length),u=o(a,c);if(e&&r!=r){for(;c>u;)if((s=d[u++])!=s)return!0}else for(;c>u;u++)if((e||u in d)&&d[u]===r)return e||u||0;return!e&&-1}}},4473:function(e,t,r){var n=r(3781),i=r(2766)("toStringTag"),o="Arguments"==n(function(){return arguments}());e.exports=function(e){var t,r,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?r:o?n(t):"Object"==(a=n(t))&&"function"==typeof t.callee?"Arguments":a}},3781:function(e){var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},8545:function(e,t,r){"use strict";var n=r(6171).f,i=r(1517),o=r(4943),a=r(9810),s=r(5304),d=r(3921),c=r(5983),u=r(1788),p=r(7723),l=r(7695),f=r(9131).fastKey,m=r(7441),g=l?"_s":"size",v=function(e,t){var r,n=f(t);if("F"!==n)return e._i[n];for(r=e._f;r;r=r.n)if(r.k==t)return r};e.exports={getConstructor:function(e,t,r,c){var u=e((function(e,n){s(e,u,t,"_i"),e._t=t,e._i=i(null),e._f=void 0,e._l=void 0,e[g]=0,null!=n&&d(n,r,e[c],e)}));return o(u.prototype,{clear:function(){for(var e=m(this,t),r=e._i,n=e._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete r[n.i];e._f=e._l=void 0,e[g]=0},delete:function(e){var r=m(this,t),n=v(r,e);if(n){var i=n.n,o=n.p;delete r._i[n.i],n.r=!0,o&&(o.n=i),i&&(i.p=o),r._f==n&&(r._f=i),r._l==n&&(r._l=o),r[g]--}return!!n},forEach:function(e){m(this,t);for(var r,n=a(e,arguments.length>1?arguments[1]:void 0,3);r=r?r.n:this._f;)for(n(r.v,r.k,this);r&&r.r;)r=r.p},has:function(e){return!!v(m(this,t),e)}}),l&&n(u.prototype,"size",{get:function(){return m(this,t)[g]}}),u},def:function(e,t,r){var n,i,o=v(e,t);return o?o.v=r:(e._l=o={i:i=f(t,!0),k:t,v:r,p:n=e._l,n:void 0,r:!1},e._f||(e._f=o),n&&(n.n=o),e[g]++,"F"!==i&&(e._i[i]=o)),e},getEntry:v,setStrong:function(e,t,r){c(e,t,(function(e,r){this._t=m(e,t),this._k=r,this._l=void 0}),(function(){for(var e=this,t=e._k,r=e._l;r&&r.r;)r=r.p;return e._t&&(e._l=r=r?r.n:e._t._f)?u(0,"keys"==t?r.k:"values"==t?r.v:[r.k,r.v]):(e._t=void 0,u(1))}),r?"entries":"values",!r,!0),p(t)}}},8350:function(e,t,r){"use strict";var n=r(9125),i=r(8292),o=r(5984),a=r(4943),s=r(9131),d=r(3921),c=r(5304),u=r(4245),p=r(3629),l=r(4080),f=r(442),m=r(5991);e.exports=function(e,t,r,g,v,h){var b=n[e],y=b,I=v?"set":"add",E=y&&y.prototype,T={},w=function(e){var t=E[e];o(E,e,"delete"==e||"has"==e?function(e){return!(h&&!u(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return h&&!u(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,r){return t.call(this,0===e?0:e,r),this})};if("function"==typeof y&&(h||E.forEach&&!p((function(){(new y).entries().next()})))){var x=new y,S=x[I](h?{}:-0,1)!=x,C=p((function(){x.has(1)})),_=l((function(e){new y(e)})),A=!h&&p((function(){for(var e=new y,t=5;t--;)e[I](t,t);return!e.has(-0)}));_||((y=t((function(t,r){c(t,y,e);var n=m(new b,t,y);return null!=r&&d(r,v,n[I],n),n}))).prototype=E,E.constructor=y),(C||A)&&(w("delete"),w("has"),v&&w("get")),(A||S)&&w(I),h&&E.clear&&delete E.clear}else y=g.getConstructor(t,e,v,I),a(y.prototype,r),s.NEED=!0;return f(y,e),T[e]=y,i(i.G+i.W+i.F*(y!=b),T),h||g.setStrong(y,e,v),y}},214:function(e){var t=e.exports={version:"2.6.5"};"number"==typeof __e&&(__e=t)},9810:function(e,t,r){var n=r(7836);e.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,i){return e.call(t,r,n,i)}}return function(){return e.apply(t,arguments)}}},1091:function(e){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},7695:function(e,t,r){e.exports=!r(3629)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},9713:function(e,t,r){var n=r(4245),i=r(9125).document,o=n(i)&&n(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},7622:function(e){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},8292:function(e,t,r){var n=r(9125),i=r(214),o=r(161),a=r(5984),s=r(9810),d=function(e,t,r){var c,u,p,l,f=e&d.F,m=e&d.G,g=e&d.S,v=e&d.P,h=e&d.B,b=m?n:g?n[t]||(n[t]={}):(n[t]||{}).prototype,y=m?i:i[t]||(i[t]={}),I=y.prototype||(y.prototype={});for(c in m&&(r=t),r)p=((u=!f&&b&&void 0!==b[c])?b:r)[c],l=h&&u?s(p,n):v&&"function"==typeof p?s(Function.call,p):p,b&&a(b,c,p,e&d.U),y[c]!=p&&o(y,c,l),v&&I[c]!=p&&(I[c]=p)};n.core=i,d.F=1,d.G=2,d.S=4,d.P=8,d.B=16,d.W=32,d.U=64,d.R=128,e.exports=d},3629:function(e){e.exports=function(e){try{return!!e()}catch(e){return!0}}},3921:function(e,t,r){var n=r(9810),i=r(7277),o=r(646),a=r(2666),s=r(6260),d=r(9094),c={},u={},p=e.exports=function(e,t,r,p,l){var f,m,g,v,h=l?function(){return e}:d(e),b=n(r,p,t?2:1),y=0;if("function"!=typeof h)throw TypeError(e+" is not iterable!");if(o(h)){for(f=s(e.length);f>y;y++)if((v=t?b(a(m=e[y])[0],m[1]):b(e[y]))===c||v===u)return v}else for(g=h.call(e);!(m=g.next()).done;)if((v=i(g,b,m.value,t))===c||v===u)return v};p.BREAK=c,p.RETURN=u},7017:function(e,t,r){e.exports=r(2132)("native-function-to-string",Function.toString)},9125:function(e){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)},474:function(e){var t={}.hasOwnProperty;e.exports=function(e,r){return t.call(e,r)}},161:function(e,t,r){var n=r(6171),i=r(1678);e.exports=r(7695)?function(e,t,r){return n.f(e,t,i(1,r))}:function(e,t,r){return e[t]=r,e}},378:function(e,t,r){var n=r(9125).document;e.exports=n&&n.documentElement},8479:function(e,t,r){e.exports=!r(7695)&&!r(3629)((function(){return 7!=Object.defineProperty(r(9713)("div"),"a",{get:function(){return 7}}).a}))},5991:function(e,t,r){var n=r(4245),i=r(7366).set;e.exports=function(e,t,r){var o,a=t.constructor;return a!==r&&"function"==typeof a&&(o=a.prototype)!==r.prototype&&n(o)&&i&&i(e,o),e}},7209:function(e,t,r){var n=r(3781);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},646:function(e,t,r){var n=r(4853),i=r(2766)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||o[i]===e)}},4245:function(e){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},7277:function(e,t,r){var n=r(2666);e.exports=function(e,t,r,i){try{return i?t(n(r)[0],r[1]):t(r)}catch(t){var o=e.return;throw void 0!==o&&n(o.call(e)),t}}},4223:function(e,t,r){"use strict";var n=r(1517),i=r(1678),o=r(442),a={};r(161)(a,r(2766)("iterator"),(function(){return this})),e.exports=function(e,t,r){e.prototype=n(a,{next:i(1,r)}),o(e,t+" Iterator")}},5983:function(e,t,r){"use strict";var n=r(840),i=r(8292),o=r(5984),a=r(161),s=r(4853),d=r(4223),c=r(442),u=r(3584),p=r(2766)("iterator"),l=!([].keys&&"next"in[].keys()),f="keys",m="values",g=function(){return this};e.exports=function(e,t,r,v,h,b,y){d(r,t,v);var I,E,T,w=function(e){if(!l&&e in _)return _[e];switch(e){case f:case m:return function(){return new r(this,e)}}return function(){return new r(this,e)}},x=t+" Iterator",S=h==m,C=!1,_=e.prototype,A=_[p]||_["@@iterator"]||h&&_[h],O=A||w(h),k=h?S?w("entries"):O:void 0,R="Array"==t&&_.entries||A;if(R&&(T=u(R.call(new e)))!==Object.prototype&&T.next&&(c(T,x,!0),n||"function"==typeof T[p]||a(T,p,g)),S&&A&&A.name!==m&&(C=!0,O=function(){return A.call(this)}),n&&!y||!l&&!C&&_[p]||a(_,p,O),s[t]=O,s[x]=g,h)if(I={values:S?O:w(m),keys:b?O:w(f),entries:k},y)for(E in I)E in _||o(_,E,I[E]);else i(i.P+i.F*(l||C),t,I);return I}},4080:function(e,t,r){var n=r(2766)("iterator"),i=!1;try{var o=[7][n]();o.return=function(){i=!0},Array.from(o,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var r=!1;try{var o=[7],a=o[n]();a.next=function(){return{done:r=!0}},o[n]=function(){return a},e(o)}catch(e){}return r}},1788:function(e){e.exports=function(e,t){return{value:t,done:!!e}}},4853:function(e){e.exports={}},840:function(e){e.exports=!1},9131:function(e,t,r){var n=r(5258)("meta"),i=r(4245),o=r(474),a=r(6171).f,s=0,d=Object.isExtensible||function(){return!0},c=!r(3629)((function(){return d(Object.preventExtensions({}))})),u=function(e){a(e,n,{value:{i:"O"+ ++s,w:{}}})},p=e.exports={KEY:n,NEED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,n)){if(!d(e))return"F";if(!t)return"E";u(e)}return e[n].i},getWeak:function(e,t){if(!o(e,n)){if(!d(e))return!0;if(!t)return!1;u(e)}return e[n].w},onFreeze:function(e){return c&&p.NEED&&d(e)&&!o(e,n)&&u(e),e}}},1517:function(e,t,r){var n=r(2666),i=r(6058),o=r(7622),a=r(9930)("IE_PROTO"),s=function(){},d=function(){var e,t=r(9713)("iframe"),n=o.length;for(t.style.display="none",r(378).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),d=e.F;n--;)delete d.prototype[o[n]];return d()};e.exports=Object.create||function(e,t){var r;return null!==e?(s.prototype=n(e),r=new s,s.prototype=null,r[a]=e):r=d(),void 0===t?r:i(r,t)}},6171:function(e,t,r){var n=r(2666),i=r(8479),o=r(8360),a=Object.defineProperty;t.f=r(7695)?Object.defineProperty:function(e,t,r){if(n(e),t=o(t,!0),n(r),i)try{return a(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}},6058:function(e,t,r){var n=r(6171),i=r(2666),o=r(8387);e.exports=r(7695)?Object.defineProperties:function(e,t){i(e);for(var r,a=o(t),s=a.length,d=0;s>d;)n.f(e,r=a[d++],t[r]);return e}},3935:function(e,t,r){var n=r(7313),i=r(1678),o=r(5134),a=r(8360),s=r(474),d=r(8479),c=Object.getOwnPropertyDescriptor;t.f=r(7695)?c:function(e,t){if(e=o(e),t=a(t,!0),d)try{return c(e,t)}catch(e){}if(s(e,t))return i(!n.f.call(e,t),e[t])}},3584:function(e,t,r){var n=r(474),i=r(7634),o=r(9930)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),n(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},8662:function(e,t,r){var n=r(474),i=r(5134),o=r(4121)(!1),a=r(9930)("IE_PROTO");e.exports=function(e,t){var r,s=i(e),d=0,c=[];for(r in s)r!=a&&n(s,r)&&c.push(r);for(;t.length>d;)n(s,r=t[d++])&&(~o(c,r)||c.push(r));return c}},8387:function(e,t,r){var n=r(8662),i=r(7622);e.exports=Object.keys||function(e){return n(e,i)}},7313:function(e,t){t.f={}.propertyIsEnumerable},1678:function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},4943:function(e,t,r){var n=r(5984);e.exports=function(e,t,r){for(var i in t)n(e,i,t[i],r);return e}},5984:function(e,t,r){var n=r(9125),i=r(161),o=r(474),a=r(5258)("src"),s=r(7017),d="toString",c=(""+s).split(d);r(214).inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,r,s){var d="function"==typeof r;d&&(o(r,"name")||i(r,"name",t)),e[t]!==r&&(d&&(o(r,a)||i(r,a,e[t]?""+e[t]:c.join(String(t)))),e===n?e[t]=r:s?e[t]?e[t]=r:i(e,t,r):(delete e[t],i(e,t,r)))})(Function.prototype,d,(function(){return"function"==typeof this&&this[a]||s.call(this)}))},7366:function(e,t,r){var n=r(4245),i=r(2666),o=function(e,t){if(i(e),!n(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,n){try{(n=r(9810)(Function.call,r(3935).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,r){return o(e,r),t?e.__proto__=r:n(e,r),e}}({},!1):void 0),check:o}},7723:function(e,t,r){"use strict";var n=r(9125),i=r(6171),o=r(7695),a=r(2766)("species");e.exports=function(e){var t=n[e];o&&t&&!t[a]&&i.f(t,a,{configurable:!0,get:function(){return this}})}},442:function(e,t,r){var n=r(6171).f,i=r(474),o=r(2766)("toStringTag");e.exports=function(e,t,r){e&&!i(e=r?e:e.prototype,o)&&n(e,o,{configurable:!0,value:t})}},9930:function(e,t,r){var n=r(2132)("keys"),i=r(5258);e.exports=function(e){return n[e]||(n[e]=i(e))}},2132:function(e,t,r){var n=r(214),i=r(9125),o="__core-js_shared__",a=i[o]||(i[o]={});(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:n.version,mode:r(840)?"pure":"global",copyright:"Â© 2019 Denis Pushkarev (zloirock.ru)"})},839:function(e,t,r){var n=r(2369),i=r(1091);e.exports=function(e){return function(t,r){var o,a,s=String(i(t)),d=n(r),c=s.length;return d<0||d>=c?e?"":void 0:(o=s.charCodeAt(d))<55296||o>56319||d+1===c||(a=s.charCodeAt(d+1))<56320||a>57343?e?s.charAt(d):o:e?s.slice(d,d+2):a-56320+(o-55296<<10)+65536}}},3513:function(e,t,r){var n=r(2369),i=Math.max,o=Math.min;e.exports=function(e,t){return(e=n(e))<0?i(e+t,0):o(e,t)}},2369:function(e){var t=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:t)(e)}},5134:function(e,t,r){var n=r(7209),i=r(1091);e.exports=function(e){return n(i(e))}},6260:function(e,t,r){var n=r(2369),i=Math.min;e.exports=function(e){return e>0?i(n(e),9007199254740991):0}},7634:function(e,t,r){var n=r(1091);e.exports=function(e){return Object(n(e))}},8360:function(e,t,r){var n=r(4245);e.exports=function(e,t){if(!n(e))return e;var r,i;if(t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;if("function"==typeof(r=e.valueOf)&&!n(i=r.call(e)))return i;if(!t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},5258:function(e){var t=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++t+r).toString(36))}},7441:function(e,t,r){var n=r(4245);e.exports=function(e,t){if(!n(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},2766:function(e,t,r){var n=r(2132)("wks"),i=r(5258),o=r(9125).Symbol,a="function"==typeof o;(e.exports=function(e){return n[e]||(n[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=n},9094:function(e,t,r){var n=r(4473),i=r(2766)("iterator"),o=r(4853);e.exports=r(214).getIteratorMethod=function(e){if(null!=e)return e[i]||e["@@iterator"]||o[n(e)]}},5719:function(e,t,r){"use strict";var n=r(236),i=r(1788),o=r(4853),a=r(5134);e.exports=r(5983)(Array,"Array",(function(e,t){this._t=a(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?r:"values"==t?e[r]:[r,e[r]])}),"values"),o.Arguments=o.Array,n("keys"),n("values"),n("entries")},5418:function(e,t,r){"use strict";var n=r(4473),i={};i[r(2766)("toStringTag")]="z",i+""!="[object z]"&&r(5984)(Object.prototype,"toString",(function(){return"[object "+n(this)+"]"}),!0)},1114:function(e,t,r){"use strict";var n=r(8545),i=r(7441);e.exports=r(8350)("Set",(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(e){return n.def(i(this,"Set"),e=0===e?0:e,e)}},n)},4569:function(e,t,r){"use strict";var n=r(839)(!0);r(5983)(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,r=this._i;return r>=t.length?{value:void 0,done:!0}:(e=n(t,r),this._i+=e.length,{value:e,done:!1})}))},711:function(e,t,r){for(var n=r(5719),i=r(8387),o=r(5984),a=r(9125),s=r(161),d=r(4853),c=r(2766),u=c("iterator"),p=c("toStringTag"),l=d.Array,f={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},m=i(f),g=0;g<m.length;g++){var v,h=m[g],b=f[h],y=a[h],I=y&&y.prototype;if(I&&(I[u]||s(I,u,l),I[p]||s(I,p,h),d[h]=l,b))for(v in n)I[v]||o(I,v,n[v],!0)}},3665:function(e){"undefined"!=typeof window&&window,e.exports=function(e){e=e||{};var t={},r=Array.prototype.slice;return Object.defineProperties(e,{on:{value:function(r,n){return"function"==typeof n&&(t[r]=t[r]||[]).push(n),e},enumerable:!1,writable:!1,configurable:!1},off:{value:function(r,n){if("*"!=r||n)if(n)for(var i,o=t[r],a=0;i=o&&o[a];++a)i==n&&o.splice(a--,1);else delete t[r];else t={};return e},enumerable:!1,writable:!1,configurable:!1},one:{value:function(t,r){return e.on(t,(function n(){e.off(t,n),r.apply(e,arguments)}))},enumerable:!1,writable:!1,configurable:!1},trigger:{value:function(n){var i,o,a,s=arguments.length-1,d=new Array(s);for(a=0;a<s;a++)d[a]=arguments[a+1];for(i=r.call(t[n]||[],0),a=0;o=i[a];++a)o.apply(e,d);return t["*"]&&"*"!=n&&e.trigger.apply(e,["*",n].concat(d)),e},enumerable:!1,writable:!1,configurable:!1}}),e}},5121:function(){!function(e,t){"use strict";function r(e){this.time=e.time,this.target=e.target,this.rootBounds=e.rootBounds,this.boundingClientRect=e.boundingClientRect,this.intersectionRect=e.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0},this.isIntersecting=!!e.intersectionRect;var t=this.boundingClientRect,r=t.width*t.height,n=this.intersectionRect,i=n.width*n.height;this.intersectionRatio=r?i/r:this.isIntersecting?1:0}function n(e,t){var r,n,i,o=t||{};if("function"!=typeof e)throw new Error("callback must be a function");if(o.root&&1!=o.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=(r=this._checkForIntersections.bind(this),n=this.THROTTLE_TIMEOUT,i=null,function(){i||(i=setTimeout((function(){r(),i=null}),n))}),this._callback=e,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(o.rootMargin),this.thresholds=this._initThresholds(o.threshold),this.root=o.root||null,this.rootMargin=this._rootMarginValues.map((function(e){return e.value+e.unit})).join(" ")}function i(e,t,r,n){"function"==typeof e.addEventListener?e.addEventListener(t,r,n||!1):"function"==typeof e.attachEvent&&e.attachEvent("on"+t,r)}function o(e,t,r,n){"function"==typeof e.removeEventListener?e.removeEventListener(t,r,n||!1):"function"==typeof e.detatchEvent&&e.detatchEvent("on"+t,r)}function a(e,t){var r=Math.max(e.top,t.top),n=Math.min(e.bottom,t.bottom),i=Math.max(e.left,t.left),o=Math.min(e.right,t.right),a=o-i,s=n-r;return 0<=a&&0<=s&&{top:r,bottom:n,left:i,right:o,width:a,height:s}}function s(e){var t;try{t=e.getBoundingClientRect()}catch(e){}return t?(t.width&&t.height||(t={top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.right-t.left,height:t.bottom-t.top}),t):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function d(e,t){for(var r=t;r;){if(r==e)return!0;r=c(r)}return!1}function c(e){var t=e.parentNode;return t&&11==t.nodeType&&t.host?t.host:t}if("IntersectionObserver"in e&&"IntersectionObserverEntry"in e&&"intersectionRatio"in r.prototype)"isIntersecting"in r.prototype||Object.defineProperty(r.prototype,"isIntersecting",{get:function(){return 0<this.intersectionRatio}});else{var u=[];n.prototype.THROTTLE_TIMEOUT=100,n.prototype.POLL_INTERVAL=null,n.prototype.observe=function(e){if(!this._observationTargets.some((function(t){return t.element==e}))){if(!e||1!=e.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:e,entry:null}),this._monitorIntersections()}},n.prototype.unobserve=function(e){this._observationTargets=this._observationTargets.filter((function(t){return t.element!=e})),this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance())},n.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorIntersections(),this._unregisterInstance()},n.prototype.takeRecords=function(){var e=this._queuedEntries.slice();return this._queuedEntries=[],e},n.prototype._initThresholds=function(e){var t=e||[0];return Array.isArray(t)||(t=[t]),t.sort().filter((function(e,t,r){if("number"!=typeof e||isNaN(e)||0>e||1<e)throw new Error("threshold must be a number between 0 and 1 inclusively");return e!==r[t-1]}))},n.prototype._parseRootMargin=function(e){var t=(e||"0px").split(/\s+/).map((function(e){var t=/^(-?\d*\.?\d+)(px|%)$/.exec(e);if(!t)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(t[1]),unit:t[2]}}));return t[1]=t[1]||t[0],t[2]=t[2]||t[0],t[3]=t[3]||t[1],t},n.prototype._monitorIntersections=function(){this._monitoringIntersections||(this._monitoringIntersections=!0,this._checkForIntersections(),this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(i(e,"resize",this._checkForIntersections,!0),i(t,"scroll",this._checkForIntersections,!0),"MutationObserver"in e&&(this._domObserver=new MutationObserver(this._checkForIntersections),this._domObserver.observe(t,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))},n.prototype._unmonitorIntersections=function(){this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,o(e,"resize",this._checkForIntersections,!0),o(t,"scroll",this._checkForIntersections,!0),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null))},n.prototype._checkForIntersections=function(){var t=this._rootIsInDom(),n=t?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach((function(i){var o=i.element,a=s(o),d=this._rootContainsTarget(o),c=i.entry,u=t&&d&&this._computeTargetAndRootIntersection(o,n),p=i.entry=new r({time:e.performance&&performance.now&&performance.now(),target:o,boundingClientRect:a,rootBounds:n,intersectionRect:u});c?t&&d?this._hasCrossedThreshold(c,p)&&this._queuedEntries.push(p):c&&c.isIntersecting&&this._queuedEntries.push(p):this._queuedEntries.push(p)}),this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)},n.prototype._computeTargetAndRootIntersection=function(r,n){if("none"!=e.getComputedStyle(r).display){for(var i=s(r),o=c(r),d=!1;!d;){var u=null,p=1==o.nodeType?e.getComputedStyle(o):{};if("none"==p.display)return;if(o==this.root||o==t?(d=!0,u=n):o!=t.body&&o!=t.documentElement&&"visible"!=p.overflow&&(u=s(o)),u&&!(i=a(u,i)))break;o=c(o)}return i}},n.prototype._getRootRect=function(){var e;if(this.root)e=s(this.root);else{var r=t.documentElement,n=t.body;e={top:0,left:0,right:r.clientWidth||n.clientWidth,width:r.clientWidth||n.clientWidth,bottom:r.clientHeight||n.clientHeight,height:r.clientHeight||n.clientHeight}}return this._expandRectByRootMargin(e)},n.prototype._expandRectByRootMargin=function(e){var t=this._rootMarginValues.map((function(t,r){return"px"==t.unit?t.value:t.value*(r%2?e.width:e.height)/100})),r={top:e.top-t[0],right:e.right+t[1],bottom:e.bottom+t[2],left:e.left-t[3]};return r.width=r.right-r.left,r.height=r.bottom-r.top,r},n.prototype._hasCrossedThreshold=function(e,t){var r=e&&e.isIntersecting?e.intersectionRatio||0:-1,n=t.isIntersecting?t.intersectionRatio||0:-1;if(r!==n)for(var i,o=0;o<this.thresholds.length;o++)if((i=this.thresholds[o])==r||i==n||i<r!=i<n)return!0},n.prototype._rootIsInDom=function(){return!this.root||d(t,this.root)},n.prototype._rootContainsTarget=function(e){return d(this.root||t,e)},n.prototype._registerInstance=function(){0>u.indexOf(this)&&u.push(this)},n.prototype._unregisterInstance=function(){var e=u.indexOf(this);-1!=e&&u.splice(e,1)},e.IntersectionObserver=n,e.IntersectionObserverEntry=r}}(window,document)},4202:function(e,t,r){"use strict";r.d(t,{Th:function(){return u},_U:function(){return l},Pd:function(){return p}});var n=r(3596),i=r(8376),o={},a=["adloox","criteo","outstream","adagio","browsi","brandmetrics","justtag"];function s(e,t,r){return t&&e?(0,n.q9)(a,t)?o[e]?(r&&"function"==typeof r&&(o[e].loaded?r():o[e].callbacks.push(r)),o[e].tag):(o[e]={loaded:!1,tag:null,callbacks:[]},r&&"function"==typeof r&&o[e].callbacks.push(r),(0,i.logWarn)("module "+t+" is loading external JavaScript"),function(t,r){var n=document.createElement("script");return n.type="text/javascript",n.async=!0,o[e].tag=n,n.readyState?n.onreadystatechange=function(){("loaded"===n.readyState||"complete"===n.readyState)&&(n.onreadystatechange=null,r())}:n.onload=function(){r()},n.src=t,(0,i.insertElement)(n),n}(e,(function(){o[e].loaded=!0;try{for(var t=0;t<o[e].callbacks.length;t++)o[e].callbacks[t]()}catch(e){(0,i.logError)("Error executing callback","adloader.js:loadExternalScript",e)}}))):void(0,i.logError)(t+" not whitelisted for loading external JavaScript"):void(0,i.logError)("cannot load external script without url and moduleCode")}var d=r(265),c="outstream";function u(e){var t=this,r=e.url,n=e.config,o=e.id,a=e.callback,d=e.loaded,u=e.adUnitCode;this.url=r,this.config=n,this.handlers={},this.id=o,this.loaded=d,this.cmd=[],this.push=function(e){return"function"==typeof e?void(t.loaded?e.call():t.cmd.push(e)):void(0,i.logError)("Commands given to Renderer.push must be wrapped in a function")},this.callback=a||function(){t.loaded=!0,t.process()},this.render=function(){var e=this,t=arguments,n=function(){e._render?e._render.apply(e,t):(0,i.logWarn)("No render function was provided, please use .setRender on the renderer")};f(u)?((0,i.logWarn)("External Js not loaded by Renderer since renderer url and callback is already defined on adUnit "+u),n()):(this.cmd.unshift(n),s(r,c,this.callback))}.bind(this)}function p(e){return!(!e||!e.url)}function l(e,t){e.render(t)}function f(e){var t=pbjs.adUnits,r=(0,n.sE)(t,(function(t){return t.code===e}));if(!r)return!1;var i=(0,d.Z)(r,"renderer"),o=!!(i&&i.url&&i.render),a=(0,d.Z)(r,"mediaTypes.video.renderer"),s=!!(a&&a.url&&a.render);return!!(o&&!0!==i.backupOnly||s&&!0!==a.backupOnly)}u.install=function(e){return new u({url:e.url,config:e.config,id:e.id,callback:e.callback,loaded:e.loaded,adUnitCode:e.adUnitCode})},u.prototype.getConfig=function(){return this.config},u.prototype.setRender=function(e){this._render=e},u.prototype.setEventHandlers=function(e){this.handlers=e},u.prototype.handleVideoEvent=function(e){var t=e.id,r=e.eventName;"function"==typeof this.handlers[r]&&this.handlers[r](),(0,i.logMessage)("Prebid Renderer event for id "+t+" type "+r)},u.prototype.process=function(){for(;0<this.cmd.length;)try{this.cmd.shift().call()}catch(e){(0,i.logError)("Error processing Renderer command: ",e)}}},8160:function(e,t,r){"use strict";r.d(t,{f:function(){return a}});var n=r(265),i={};function o(e,t,r){var n=function(e,t){var r=i[e]=i[e]||{bidders:{}};return t?r.bidders[t]=r.bidders[t]||{}:r}(e,r);return n[t]=(n[t]||0)+1,n[t]}var a={incrementRequestsCounter:function(e){return o(e,"requestsCounter")},incrementBidderRequestsCounter:function(e,t){return o(e,"requestsCounter",t)},incrementBidderWinsCounter:function(e,t){return o(e,"winsCounter",t)},getRequestsCounter:function(e){return(0,n.Z)(i,e+".requestsCounter")||0},getBidderRequestsCounter:function(e,t){return(0,n.Z)(i,e+".bidders."+t+".requestsCounter")||0},getBidderWinsCounter:function(e,t){return(0,n.Z)(i,e+".bidders."+t+".winsCounter")||0}}},1939:function(e,t,r){"use strict";function n(e){var t=e;return{callBids:function(){},setBidderCode:function(e){t=e},getBidderCode:function(){return t}}}r.d(t,{Z:function(){return n}})},4732:function(e,t,r){"use strict";r.d(t,{ZP:function(){return L},rp:function(){return M},nX:function(){return Z}});var n=r(7040),i=r(8376),o=r(265),a=r(4020),s=r(3881),d=r(2290),c=r(8883),u=r(8273),p=r(4906),l=r(3596),f=r(8160),m=r(5688);function g(e,t){return g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},g(e,t)}function v(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,g(e,t)}var h=r(3223),b=r(187),y=r(2577),I=(0,y.Z)("enabled"),E=(0,y.Z)("data"),T=(0,y.Z)("promise"),w=(0,y.Z)("resolve"),x=(0,y.Z)("ready"),S=function(){function e(){Object.defineProperty(this,I,{writable:!0,value:void 0}),Object.defineProperty(this,E,{writable:!0,value:void 0}),Object.defineProperty(this,T,{writable:!0,value:void 0}),Object.defineProperty(this,w,{writable:!0,value:void 0}),Object.defineProperty(this,x,{writable:!0,value:void 0}),this.generatedTime=void 0,this.reset()}var t=e.prototype;return t.reset=function(){var e=this;(0,b.Z)(this,T)[T]=new Promise((function(t){(0,b.Z)(e,w)[w]=function(r){(0,b.Z)(e,x)[x]=!0,(0,b.Z)(e,E)[E]=r,t(r)}})),(0,b.Z)(this,I)[I]=!1,(0,b.Z)(this,E)[E]=null,(0,b.Z)(this,x)[x]=!1,this.generatedTime=null},t.enable=function(){(0,b.Z)(this,I)[I]=!0},t.setConsentData=function(e,t){void 0===t&&(t=(0,i.timestamp)()),this.generatedTime=t,(0,b.Z)(this,w)[w](e)},t.getConsentData=function(){return(0,b.Z)(this,E)[E]},(0,h.Z)(e,[{key:"enabled",get:function(){return(0,b.Z)(this,I)[I]}},{key:"ready",get:function(){return(0,b.Z)(this,x)[x]}},{key:"promise",get:function(){return(0,b.Z)(this,x)[x]?Promise.resolve((0,b.Z)(this,E)[E]):((0,b.Z)(this,I)[I]||(0,b.Z)(this,w)[w](null),(0,b.Z)(this,T)[T])}}]),e}(),C=function(e){function t(){return e.apply(this,arguments)||this}return v(t,e),t.prototype.getConsentMeta=function(){var e=this.getConsentData();if(e&&this.generatedTime)return{usp:e,generatedAt:this.generatedTime}},t}(S),_=function(e){function t(){return e.apply(this,arguments)||this}return v(t,e),t.prototype.getConsentMeta=function(){var e=this.getConsentData();if(e&&e.vendorData&&this.generatedTime)return{gdprApplies:e.gdprApplies,consentStringSize:(0,i.isStr)(e.vendorData.tcString)?e.vendorData.tcString.length:0,generatedAt:this.generatedTime,apiVersion:e.apiVersion}},t}(S),A="client",O="server",k=r(1999),R=r(8078),P={},U=P.bidderRegistry={},D=P.aliasRegistry={},j=[];u.vc.getConfig("s2sConfig",(function(e){e&&e.s2sConfig&&(j=(0,i.isArray)(e.s2sConfig)?e.s2sConfig:[e.s2sConfig])}));var B={};var N=(0,p.z3)("sync",(function(e){var t=e.bidderCode,r=e.auctionId,n=e.bidderRequestId,a=e.adUnits,s=e.src;return a.reduce((function(e,a){return e.push(a.bids.filter((function(e){return e.bidder===t})).reduce((function(e,t){var d=null==(t=Object.assign({},t,(0,i.getDefinedParams)(a,["nativeParams","ortb2Imp","mediaType","renderer","storedAuctionResponse"]))).mediaTypes?a.mediaTypes:t.mediaTypes;return(0,i.isValidMediaTypes)(d)?t=Object.assign({},t,{mediaTypes:d}):(0,i.logError)("mediaTypes is not correctly configured for adunit "+a.code),e.push(Object.assign({},t,{adUnitCode:a.code,transactionId:a.transactionId,sizes:(0,o.Z)(d,"banner.sizes")||(0,o.Z)(d,"video.playerSize")||[],bidId:t.bid_id||(0,i.getUniqueIdentifierStr)(),bidderRequestId:n,auctionId:r,src:s,bidRequestsCount:f.f.getRequestsCounter(a.code),bidderRequestsCount:f.f.getBidderRequestsCounter(a.code,t.bidder),bidderWinsCount:f.f.getBidderWinsCounter(a.code,t.bidder)})),e}),[])),e}),[]).reduce(i.flatten,[]).filter((function(e){return""!==e}))}),"getBids");var q=(0,p.z3)("sync",(function(e,t,r){var n=(void 0===r?{}:r).getS2SBidders;if(null==t)return e;var i=(void 0===n?F:n)(t);return e.filter((function(e){return i.has(e.bidder)}))}),"filterBidsForAdUnit");var M=new _,Z=new C,z=(0,p.z3)("sync",(function(e,t){return(0,a.UB)(e,t)}),"setupAdUnitMediaTypes");function F(e){(0,i.isArray)(e)||(e=[e]);var t=new Set([null]);return e.filter((function(e){return e&&e.enabled})).flatMap((function(e){return e.bidders})).forEach((function(e){return t.add(e)})),t}var W=(0,p.z3)("sync",(function(e,t,r){var n,o=(void 0===r?{}:r).getS2SBidders,a=(void 0===o?F:o)(t);return(0,i.getBidderCodes)(e).reduce((function(e,t){return e[a.has(t)?O:A].push(t),e}),((n={})[A]=[],n[O]=[],n))}),"partitionBidders");function V(e,t,r){try{var n=U[e].getSpec();n&&n[t]&&"function"==typeof n[t]&&((0,i.logInfo)("Invoking "+e+"."+t),u.vc.runWithBidder(e,i.bind.call(n[t],n,r)))}catch(r){(0,i.logWarn)("Error calling "+t+" of "+e)}}P.makeBidRequests=(0,p.z3)("sync",(function(e,t,r,n,o){R.emit(k.EVENTS.BEFORE_REQUEST_BIDS,e),(0,s.Fb)(e),e=z(e,o);var a=W(e,j),d=a[A],c=a[O];u.vc.getConfig("bidderSequence")===u.FD&&(d=(0,i.shuffle)(d));var p=(0,m.n)(),f=[];j.forEach((function(n){if(n&&n.enabled){var o=function(e,t){var r=(0,i.deepClone)(e);return r.forEach((function(e){e.bids=q(e.bids,t).map((function(e){return e.bid_id=(0,i.getUniqueIdentifierStr)(),e}))})),r.filter((function(e){return 0!==e.bids.length}))}(e,n),a=(0,i.generateUUID)();c.forEach((function(e){var s=(0,i.getUniqueIdentifierStr)(),d={bidderCode:e,auctionId:r,bidderRequestId:s,uniquePbsTid:a,bids:N({bidderCode:e,auctionId:r,bidderRequestId:s,adUnits:(0,i.deepClone)(o),src:k.S2S.SRC}),auctionStart:t,timeout:n.timeout,src:k.S2S.SRC,refererInfo:p};0!==d.bids.length&&f.push(d)})),o.forEach((function(e){var t=e.bids.filter((function(e){return(0,l.sE)(f,(function(t){return(0,l.sE)(t.bids,(function(t){return t.bidId===e.bid_id}))}))}));e.bids=t})),f.forEach((function(e){void 0===e.adUnitsS2SCopy&&(e.adUnitsS2SCopy=o.filter((function(e){return 0<e.bids.length})))}))}}));var g=function(e){var t=(0,i.deepClone)(e);return t.forEach((function(e){e.bids=q(e.bids,null)})),t.filter((function(e){return 0!==e.bids.length}))}(e);return d.forEach((function(e){var a=(0,i.getUniqueIdentifierStr)(),s={bidderCode:e,auctionId:r,bidderRequestId:a,bids:N({bidderCode:e,auctionId:r,bidderRequestId:a,adUnits:(0,i.deepClone)(g),labels:o,src:"client"}),auctionStart:t,timeout:n,refererInfo:p},d=U[e];d||(0,i.logError)("Trying to make a request for bidder that does not exist: "+e),d&&s.bids&&0!==s.bids.length&&f.push(s)})),M.getConsentData()&&f.forEach((function(e){e.gdprConsent=M.getConsentData()})),Z.getConsentData()&&f.forEach((function(e){e.uspConsent=Z.getConsentData()})),f}),"makeBidRequests"),P.callBids=function(e,t,r,o,a,s,d){if(t.length){var p=t.reduce((function(e,t){return e[+(void 0!==t.src&&t.src===k.S2S.SRC)].push(t),e}),[[],[]]),l=p[0],f=p[1],m=[];f.forEach((function(e){for(var t=-1,r=0;r<m.length;++r)if(e.uniquePbsTid===m[r].uniquePbsTid){t=r;break}-1>=t&&m.push(e)}));var g=0,v=(0,i.generateUUID)();j.forEach((function(e){if(e&&m[g]&&F(e).has(m[g].bidderCode)){var t=(0,c.O)(s,a?{request:a.request.bind(null,"s2s"),done:a.done}:void 0),d=e.bidders,u=U[e.adapter],p=m[g].uniquePbsTid,l=m[g].adUnitsS2SCopy,h=f.filter((function(e){return e.uniquePbsTid===p}));if(u){var b={tid:v,ad_units:l,s2sConfig:e};if(b.ad_units.length){var y=h.map((function(e){return e.start=(0,i.timestamp)(),o.bind(e)})),I=(0,i.getBidderCodes)(b.ad_units).filter((function(e){return d.includes(e)}));(0,i.logMessage)("CALLING S2S HEADER BIDDERS ==== "+(0<I.length?I.join(", "):'No bidder specified, using "ortb2Imp" definition(s) only')),h.forEach((function(e){R.emit(k.EVENTS.BID_REQUESTED,(0,n.Z)({},e,{tid:v}))})),u.callBids(b,f,r,(function(){return y.forEach((function(e){return e()}))}),t)}}else(0,i.logError)("missing "+e.adapter);g++}})),l.forEach((function(e){e.start=(0,i.timestamp)();var t=U[e.bidderCode];u.vc.runWithBidder(e.bidderCode,(function(){(0,i.logMessage)("CALLING BIDDER"),R.emit(k.EVENTS.BID_REQUESTED,e)}));var n=(0,c.O)(s,a?{request:a.request.bind(null,e.bidderCode),done:a.done}:void 0),p=o.bind(e);try{u.vc.runWithBidder(e.bidderCode,i.bind.call(t.callBids,t,e,r,p,n,d,u.vc.callbackWithBidder(e.bidderCode)))}catch(t){(0,i.logError)(e.bidderCode+" Bid Adapter emitted an uncaught error when parsing their bidRequest",{e:t,bidRequest:e}),p()}}))}else(0,i.logWarn)("callBids executed with no bidRequests.  Were they filtered by labels or sizing?")},P.videoAdapters=[],P.registerBidAdapter=function(e,t,r){var n=(void 0===r?{}:r).supportedMediaTypes,o=void 0===n?[]:n;e&&t?"function"==typeof e.callBids?(U[t]=e,(0,l.q9)(o,"video")&&P.videoAdapters.push(t),(0,l.q9)(o,"native")&&s.Sg.push(t)):(0,i.logError)("Bidder adaptor error for bidder code: "+t+"bidder must implement a callBids() function"):(0,i.logError)("bidAdapter or bidderCode not specified")},P.aliasBidAdapter=function(e,t,r){if(void 0===U[t]){var n=U[e];if(void 0===n){var o=[];j.forEach((function(r){if(r.bidders&&r.bidders.length){var n=r&&r.bidders;r&&(0,l.q9)(n,t)?D[t]=e:o.push(e)}})),o.forEach((function(e){(0,i.logError)('bidderCode "'+e+'" is not an existing bidder.',"adapterManager.aliasBidAdapter")}))}else try{var a,c=function(e){var t=[];return(0,l.q9)(P.videoAdapters,e)&&t.push("video"),(0,l.q9)(s.Sg,e)&&t.push("native"),t}(e);if(n.constructor.prototype!=Object.prototype)(a=new n.constructor).setBidderCode(t);else{var u=n.getSpec(),p=r&&r.gvlid,f=r&&r.skipPbsAliasing;a=(0,d.PZ)(Object.assign({},u,{code:t,gvlid:p,skipPbsAliasing:f})),D[t]=e}P.registerBidAdapter(a,t,{supportedMediaTypes:c})}catch(t){(0,i.logError)(e+" bidder does not currently support aliasing.","adapterManager.aliasBidAdapter")}}else(0,i.logMessage)('alias name "'+t+'" has been already specified.')},P.registerAnalyticsAdapter=function(e){var t=e.adapter,r=e.code,n=e.gvlid;t&&r?"function"==typeof t.enableAnalytics?(t.code=r,B[r]={adapter:t,gvlid:n}):(0,i.logError)('Prebid Error: Analytics adaptor error for analytics "'+r+'"\n        analytics adapter must implement an enableAnalytics() function'):(0,i.logError)("Prebid Error: analyticsAdapter or analyticsCode not specified")},P.enableAnalytics=function(e){(0,i.isArray)(e)||(e=[e]),(0,i._each)(e,(function(e){var t=B[e.provider];t&&t.adapter?t.adapter.enableAnalytics(e):(0,i.logError)("Prebid Error: no analytics adapter found in registry for '"+e.provider+"'.")}))},P.getBidAdapter=function(e){return U[e]},P.getAnalyticsAdapter=function(e){return B[e]},P.callTimedOutBidders=function(e,t,r){t=t.map((function(t){return t.params=(0,i.getUserConfiguredParams)(e,t.adUnitCode,t.bidder),t.timeout=r,t})),t=(0,i.groupBy)(t,"bidder"),Object.keys(t).forEach((function(e){V(e,"onTimeout",t[e])}))},P.callBidWonBidder=function(e,t,r){t.params=(0,i.getUserConfiguredParams)(r,t.adUnitCode,t.bidder),f.f.incrementBidderWinsCounter(t.adUnitCode,t.bidder),V(e,"onBidWon",t)},P.callSetTargetingBidder=function(e,t){V(e,"onSetTargeting",t)},P.callBidViewableBidder=function(e,t){V(e,"onBidViewable",t)},P.callBidderError=function(e,t,r){V(e,"onBidderError",{error:t,bidderRequest:r})};var L=P},2290:function(e,t,r){"use strict";r.d(t,{dX:function(){return T},PZ:function(){return w},Q1:function(){return C},JY:function(){return _}});var n=r(1939),i=r(4732),o=r(8273),a=r(3654),s=r(5690),d=r(3881),c=r(5329),u=r(1999),p=r(8078),l=r(3596),f=r(8883),m=r(8376),g=r(265),v=r(7137),h=r(4906),b=r(4513),y=r(1371),I=(0,b.eA)("bidderFactory"),E=["cpm","ttl","creativeId","netRevenue","currency"];function T(e){function t(e){var t=w(e);i.ZP.registerBidAdapter(t,e.code,r)}var r=Array.isArray(e.supportedMediaTypes)?{supportedMediaTypes:e.supportedMediaTypes}:void 0;t(e),Array.isArray(e.aliases)&&e.aliases.forEach((function(r){var n,o,a=r;(0,m.isPlainObject)(r)&&(a=r.code,n=r.gvlid,o=r.skipPbsAliasing),i.ZP.aliasRegistry[a]=e.code,t(Object.assign({},e,{code:a,gvlid:n,skipPbsAliasing:o}))}))}function w(e){function t(t,r,n){S(e,t,r,n)}function r(t){return!!e.isBidRequestValid(t)||((0,m.logWarn)("Invalid bid sent to bidder "+e.code+": "+JSON.stringify(t)),!1)}return Object.assign(new n.Z(e.code),{getSpec:function(){return Object.freeze(e)},registerSyncs:t,callBids:function(n,s,d,c,l,f){function g(){d(),o.vc.runWithBidder(e.code,(function(){p.emit(u.EVENTS.BIDDER_DONE,n),t(h,n.gdprConsent,n.uspConsent)}))}if(Array.isArray(n.bids)){var v={},h=[],b=n.bids.filter(r);if(0===b.length)return void g();var y={};b.forEach((function(e){y[e.bidId]=e,e.adUnitCode||(e.adUnitCode=e.placementCode)})),x(e,b,n,c,f,{onRequest:function(e){return p.emit(u.EVENTS.BEFORE_BIDDER_HTTP,n,e)},onResponse:function(t){l(e.code),h.push(t)},onError:function(t,r){l(e.code),i.ZP.callBidderError(e.code,r,n),p.emit(u.EVENTS.BIDDER_ERROR,{error:r,bidderRequest:n}),(0,m.logError)("Server call for "+e.code+" failed: "+t+" "+r.status+". Continuing without bids.")},onBid:function(t){var r=y[t.requestId];if(r){t.originalCpm=t.cpm,t.originalCurrency=t.currency,t.meta=t.meta||Object.assign({},t[r.bidder]);var n=Object.assign((0,a.m)(u.STATUS.GOOD,r),t);!function(e,t){v[e]=!0,_(e,t)&&s(e,t)}(r.adUnitCode,n)}else(0,m.logWarn)("Bidder "+e.code+" made bid for unknown request ID: "+t.requestId+". Ignoring.")},onCompletion:g})}}})}var x=(0,h.z3)("sync",(function(e,t,r,n,i,o){var a=o.onRequest,s=o.onResponse,d=o.onError,c=o.onBid,u=o.onCompletion,p=e.buildRequests(t,r);if(p&&0!==p.length){Array.isArray(p)||(p=[p]);var l=(0,m.delayExecution)(u,p.length);p.forEach((function(t){var r,o=i((function(r,n){try{r=JSON.parse(r)}catch(e){}var i;r={body:r,headers:{get:n.getResponseHeader.bind(n)}},s(r);try{i=e.interpretResponse(r,t)}catch(t){return(0,m.logError)("Bidder "+e.code+" failed to interpret the server's response. Continuing without bids",null,t),void l()}i&&((0,m.isArray)(i)?i.forEach(c):c(i)),l()})),u=i((function(e,t){d(e,t),l()}));switch(a(t),t.method){case"GET":n(t.url+((r=t.data)?"?"+("object"==typeof r?(0,m.parseQueryStringParameters)(r):r):""),{success:o,error:u},void 0,Object.assign({method:"GET",withCredentials:!0},t.options));break;case"POST":n(t.url,{success:o,error:u},"string"==typeof t.data?t.data:JSON.stringify(t.data),Object.assign({method:"POST",contentType:"text/plain",withCredentials:!0},t.options));break;default:(0,m.logWarn)("Skipping invalid request from "+e.code+". Request type "+t.type+" must be GET or POST"),l()}}))}else u()}),"processBidderRequests"),S=(0,h.z3)("async",(function(e,t,r,n){var a=o.vc.getConfig("userSync.aliasSyncEnabled");if(e.getUserSyncs&&(a||!i.ZP.aliasRegistry[e.code])){var d=o.vc.getConfig("userSync.filterSettings"),c=e.getUserSyncs({iframeEnabled:!(!d||!d.iframe&&!d.all),pixelEnabled:!(!d||!d.image&&!d.all)},t,r,n);c&&(!Array.isArray(c)&&(c=[c]),c.forEach((function(t){s.k_.registerSync(t.type,e.code,t.url)})))}}),"registerSyncs");function C(e,t){var r=i.ZP.getBidAdapter(e);if(r.getSpec().getMappingFileInfo){var n=r.getSpec().getMappingFileInfo(),o=n.localStorageKey?n.localStorageKey:r.getBidderCode(),a=I.getDataFromLocalStorage(o);if(a){try{a=JSON.parse(a)}catch(t){(0,m.logError)("Failed to parse "+e+" mapping data stored in local storage")}return a.mapping[t]?a.mapping[t]:null}}}function _(e,t,r){function n(e){return"Invalid bid from "+t.bidderCode+". Ignoring bid: "+e}var i,o=(void 0===r?{}:r).index,a=void 0===o?y.K.index:o;return e?t?(i=Object.keys(t),E.every((function(e){return(0,l.q9)(i,e)&&!(0,l.q9)([void 0,null],t[e])}))?"native"!==t.mediaType||(0,d.r4)(t,{index:a})?"video"!==t.mediaType||(0,c.Dn)(t,{index:a})?!("banner"===t.mediaType&&!function(e,t,r){var n=(void 0===r?{}:r).index,i=void 0===n?y.K.index:n;if((t.width||0===parseInt(t.width,10))&&(t.height||0===parseInt(t.height,10)))return t.width=parseInt(t.width,10),t.height=parseInt(t.height,10),!0;var o=i.getBidRequest(t),a=i.getMediaTypes(t),s=o&&o.sizes||a&&a.banner&&a.banner.sizes,d=(0,m.parseSizesInput)(s);if(1===d.length){var c=d[0].split("x"),u=c[0],p=c[1];return t.width=parseInt(u,10),t.height=parseInt(p,10),!0}return!1}(0,t,{index:a})&&((0,m.logError)(n("Banner bids require a width and height")),1)):((0,m.logError)(n("Video bid does not have required vastUrl or renderer property")),!1):((0,m.logError)(n("Native bid missing some required properties.")),!1):((0,m.logError)(n("Bidder "+t.bidderCode+" is missing required params. Check http://prebid.org/dev-docs/bidder-adapter-1.html for list of params.")),!1)):((0,m.logWarn)("Some adapter tried to add an undefined bid for "+e+"."),!1):((0,m.logWarn)("No adUnitCode was supplied to addBidResponse."),!1)}(0,h.v5)("checkAdUnitSetup").before((function(e,t){if(!o.vc.getConfig("adpod.brandCategoryExclusion"))return e.call(this,t);t.filter((function(e){return(0,g.Z)(e,"mediaTypes.video.context")===v.Oh})).map((function(e){return e.bids.map((function(e){return e.bidder}))})).reduce(m.flatten,[]).filter(m.uniques).forEach((function(e){var t=i.ZP.getBidAdapter(e);if(t.getSpec().getMappingFileInfo){var r=t.getSpec().getMappingFileInfo(),n=r.refreshInDays?r.refreshInDays:1,o=r.localStorageKey?r.localStorageKey:t.getSpec().code,a=I.getDataFromLocalStorage(o);try{(!(a=a?JSON.parse(a):void 0)||(0,m.timestamp)()>a.lastUpdated+24*n*60*60*1e3)&&(0,f.h)(r.url,{success:function(t){try{t=JSON.parse(t);var r={lastUpdated:(0,m.timestamp)(),mapping:t.mapping};I.setDataInLocalStorage(o,JSON.stringify(r))}catch(t){(0,m.logError)("Failed to parse "+e+" bidder translation mapping file")}},error:function(){(0,m.logError)("Failed to load "+e+" bidder translation file")}})}catch(t){(0,m.logError)("Failed to parse "+e+" bidder translation mapping file")}}})),e.call(this,t)}))},8883:function(e,t,r){"use strict";r.d(t,{h:function(){return o},O:function(){return a}});var n=r(8273),i=r(8376),o=a();function a(e,t){void 0===e&&(e=3e3);var r=void 0===t?{}:t,o=r.request,a=r.done;return function(t,r,s,d){void 0===d&&(d={});try{var c,u=d.method||(s?"POST":"GET"),p=document.createElement("a");p.href=t;var l="object"==typeof r&&null!==r?r:{success:function(){(0,i.logMessage)("xhr success")},error:function(e){(0,i.logError)("xhr error",null,e)}};if("function"==typeof r&&(l.success=r),(c=new window.XMLHttpRequest).onreadystatechange=function(){if(4===c.readyState){"function"==typeof a&&a(p.origin);var e=c.status;200<=e&&300>e||304===e?l.success(c.responseText,c):l.error(c.statusText,c)}},n.vc.getConfig("disableAjaxTimeout")||(c.ontimeout=function(){(0,i.logError)("  xhr timeout after ",c.timeout,"ms")}),"GET"===u&&s){var f=(0,i.parseUrl)(t,d);Object.assign(f.search,s),t=(0,i.buildUrl)(f)}c.open(u,t,!0),n.vc.getConfig("disableAjaxTimeout")||(c.timeout=e),d.withCredentials&&(c.withCredentials=!0),(0,i._each)(d.customHeaders,(function(e,t){c.setRequestHeader(t,e)})),d.preflight&&c.setRequestHeader("X-Requested-With","XMLHttpRequest"),c.setRequestHeader("Content-Type",d.contentType||"text/plain"),"function"==typeof o&&o(p.origin),"POST"===u&&s?c.send(s):c.send()}catch(e){(0,i.logError)("xhr construction",e),"object"==typeof r&&null!==r&&r.error(e)}}}},9259:function(e,t,r){"use strict";r.d(t,{mv:function(){return w},Yt:function(){return A},e0:function(){return O},LX:function(){return N},vO:function(){return _}});var n=r(8376),i=r(265),o=r(8747),a=r(3881),s=r(8883),d=r(8273),c=r(1371);function u(e,t){var r,n,i=(void 0===t?{}:t).index,o=void 0===i?c.K.index:i,a=e.vastXml?e.vastXml:(r=e.vastUrl,n=e.vastImpUrl,'<VAST version="3.0">\n    <Ad>\n      <Wrapper>\n        <AdSystem>prebid.org wrapper</AdSystem>\n        <VASTAdTagURI><![CDATA['+r+"]]></VASTAdTagURI>\n        <Impression>"+(n?"<![CDATA["+n+"]]>":"")+"</Impression>\n        <Creatives></Creatives>\n      </Wrapper>\n    </Ad>\n  </VAST>"),s=o.getAuction(e),u={type:"xml",value:a,ttlseconds:+e.ttl};return d.vc.getConfig("cache.vasttrack")&&(u.bidder=e.bidder,u.bidid=e.requestId,u.aid=e.auctionId),null!=s&&(u.timestamp=s.getAuctionStart()),"string"==typeof e.customCacheKey&&""!==e.customCacheKey&&(u.key=e.customCacheKey),u}function p(e,t){var r={puts:e.map(u)};(0,s.h)(d.vc.getConfig("cache.url"),function(e){return{success:function(t){var r;try{r=JSON.parse(t).responses}catch(t){return void e(t,[])}r?e(null,r):e(new Error("The cache server didn't respond with a responses property."),[])},error:function(t,r){e(new Error("Error storing video ad in the cache: "+t+": "+JSON.stringify(r)),[])}}}(t),JSON.stringify(r),{contentType:"text/plain",withCredentials:!0})}var l=r(4202),f=r(5690),m=r(4906),g=r(3596),v=r(5329),h=r(7137),b=r(6396),y=f.k_.syncUsers,I=r(4732).ZP,E=r(8078),T=r(1999),w="completed";E.on(T.EVENTS.BID_ADJUSTMENT,(function(e){!function(e){var t=e.bidderCode,r=e.cpm,i=b.S.get(t||null,"bidCpmAdjustment");if(i&&"function"==typeof i)try{r=i(e.cpm,Object.assign({},e))}catch(e){(0,n.logError)("Error during bid adjustment","bidmanager.js",e)}0<=r&&(e.cpm=r)}(e)}));var x={},S={},C=[];function _(e){function t(){return{auctionId:L,timestamp:p,auctionEnd:f,auctionStatus:m,adUnits:q,adUnitCodes:z,labels:Z,bidderRequests:F,noBids:V,bidsReceived:W,winningBids:X,timeout:K}}function r(e,r){if(r&&clearTimeout(h),void 0===f){var i=[];e&&((0,n.logMessage)("Auction "+L+" timedOut"),o=H,(i=F.map((function(e){return(e.bids||[]).filter((function(e){return!o.has(e.bidder)}))})).reduce(n.flatten,[]).map((function(e){return{bidId:e.bidId,bidder:e.bidder,adUnitCode:e.adUnitCode,auctionId:e.auctionId}}))).length&&E.emit(T.EVENTS.BID_TIMEOUT,i)),m=w,f=Date.now(),E.emit(T.EVENTS.AUCTION_END,t()),k(q,(function(){try{if(null!=G){var t=W.filter(n.bind.call(n.adUnitsFilter,this,z)).reduce(M,{});G.apply(pbjs,[t,e,L]),G=null}}catch(e){(0,n.logError)("Error executing bidsBackHandler",null,e)}finally{i.length&&I.callTimedOutBidders(b,i,K);var r=d.vc.getConfig("userSync")||{};r.enableOverride||y(r.syncDelay)}}))}var o}function a(){d.vc.resetBidder(),(0,n.logInfo)("Bids Received for Auction with id: "+L,W),m=w,r(!1,!0)}function s(e){H.add(e)}function u(e){var u=this;function p(e){var t=!0,r=d.vc.getConfig("maxRequestsPerOrigin")||4;return e.bidRequests.some((function(e){var n=1,i=void 0!==e.src&&e.src===T.S2S.SRC?"s2s":e.bidderCode;return S[i]&&(!1===S[i].SRA&&(n=Math.min(e.bids.length,r)),x[S[i].origin]+n>r&&(t=!1)),!t})),t&&e.run(),t}function f(e,t){void 0===e[t]?e[t]=1:e[t]++}e.forEach((function(e){var t;t=e,F=F.concat(t)}));var b={},y={bidRequests:e,run:function(){var y,w;y=r.bind(null,!0),w=setTimeout(y,K),h=w,m="inProgress",E.emit(T.EVENTS.AUCTION_INIT,t());var _=function(e,t,r){function a(e,t){null==x[e]&&(x[e]=Promise.resolve()),x[e]=x[e].then((function(){return Promise.resolve(t).catch((function(){}))}))}function s(e,r){var n=e.timeout;(null==n||n>t.getTimeout())&&(n=t.getTimeout());var i=t.getAuctionStart()+n-Date.now(),o=x[e.bidderRequestId],a=x[""];(null!=o||null!=a)&&0<i?Promise.race([new Promise((function(e){return setTimeout(e,i)})),Promise.resolve(a).then((function(){return o}))]).then(r):r()}function u(){b--,y&&0===b&&e()}function p(e,r){w[r.requestId]=!0,b++;var a=function(e,t){var r=e.adUnitCode,i=e.bid,a=e.auctionId,s=(void 0===t?{}:t).index,u=void 0===s?c.K.index:s,p=u.getBidderRequest(i),f=p&&p.start||i.requestTimestamp,m=Object.assign({},i,{auctionId:a,responseTimestamp:(0,n.timestamp)(),requestTimestamp:f,cpm:parseFloat(i.cpm)||0,bidder:i.bidderCode,adUnitCode:r});m.timeToRespond=m.responseTimestamp-m.requestTimestamp,E.emit(T.EVENTS.BID_ADJUSTMENT,m);var g=u.getAdUnit(m).renderer,v=m.mediaType,h=u.getMediaTypes(m),b=h&&h[v],y=b&&b.renderer,I=null;y&&y.url&&y.render&&(!0!==y.backupOnly||!i.renderer)?I=y:g&&g.url&&g.render&&!(!0===g.backupOnly&&i.renderer)&&(I=g),I&&(m.renderer=l.Th.install({url:I.url}),m.renderer.setRender(I.render));var w=D(i.mediaType,h,d.vc.getConfig("mediaTypePriceGranularity")),x=(0,o.D)(m.cpm,"object"==typeof w?w:d.vc.getConfig("customPriceBucket"),d.vc.getConfig("currency.granularityMultiplier"));return m.pbLg=x.low,m.pbMg=x.med,m.pbHg=x.high,m.pbAg=x.auto,m.pbDg=x.dense,m.pbCg=x.custom,m}({adUnitCode:e,bid:r,auctionId:t.getAuctionId()});"video"===a.mediaType?function(e,t,r,o){var a=(void 0===o?{}:o).index,s=void 0===a?c.K.index:a,u=!0,p=(0,i.Z)(s.getMediaTypes({requestId:t.originalRequestId||t.requestId,transactionId:t.transactionId}),"video"),l=p&&(0,i.Z)(p,"context");d.vc.getConfig("cache.url")&&l!==v.gZ&&(!t.videoCacheKey||d.vc.getConfig("cache.ignoreBidderCacheKey")?(u=!1,U(e,t,r,p)):!t.vastUrl&&((0,n.logError)("videoCacheKey specified but not required vastUrl for video bid"),u=!1)),u&&(P(e,t),r())}(t,a,u):(P(t,a),u())}function f(){var r=this,i=t.getBidRequests(),o=d.vc.getConfig("auctionOptions");if(I.add(r),o&&!(0,n.isEmpty)(o)){var a=o.secondaryBidders;a&&!i.every((function(e){return(0,g.q9)(a,e.bidderCode)}))&&(i=i.filter((function(e){return!(0,g.q9)(a,e.bidderCode)})))}y=i.every((function(e){return I.has(e)})),r.bids.forEach((function(e){w[e.bidId]||(t.addNoBid(e),E.emit(T.EVENTS.NO_BID,e))})),y&&0===b&&e()}var m=(void 0===r?{}:r).index,h=void 0===m?c.K.index:m,b=0,y=!1,I=new Set,w={},x={};return{addBidResponse:function(e,t){var r=h.getBidderRequest(t);a(r&&r.bidderRequestId||"",A.call({dispatch:p},e,t))},adapterDone:function(){s(this,f.bind(this))}}}(a,u);I.callBids(q,e,_.addBidResponse,_.adapterDone,{request:function(e,t){f(x,t),f(b,e),S[e]||(S[e]={SRA:!0,origin:t}),1<b[e]&&(S[e].SRA=!1)},done:function(e){x[e]--,C[0]&&p(C[0])&&C.shift()}},K,s)}};p(y)||((0,n.logWarn)("queueing auction due to limited endpoint capacity"),C.push(y))}var p,f,m,h,b=e.adUnits,_=e.adUnitCodes,R=e.callback,j=e.cbTimeout,B=e.labels,N=e.auctionId,q=b,Z=B,z=_,F=[],W=[],V=[],L=N||(0,n.generateUUID)(),G=R,K=j,X=[],H=new Set;return{addBidReceived:function(e){W=W.concat(e)},addNoBid:function(e){V=V.concat(e)},executeCallback:r,callBids:function(){m="started",p=Date.now();var e=I.makeBidRequests(q,p,L,K,Z);(0,n.logInfo)("Bids Requested for Auction with id: "+L,e),1>e.length?((0,n.logWarn)("No valid bid requests returned for auction"),a()):O.call({dispatch:u,context:this},e)},addWinningBid:function(e){X=X.concat(e),I.callBidWonBidder(e.bidder,e,b)},setBidTargeting:function(e){I.callSetTargetingBidder(e.bidder,e)},getWinningBids:function(){return X},getAuctionStart:function(){return p},getTimeout:function(){return K},getAuctionId:function(){return L},getAuctionStatus:function(){return m},getAdUnits:function(){return q},getAdUnitCodes:function(){return z},getBidRequests:function(){return F},getBidsReceived:function(){return W},getNoBids:function(){return V}}}var A=(0,m.z3)("sync",(function(e,t){this.dispatch.call(null,e,t)}),"addBidResponse"),O=(0,m.z3)("sync",(function(e){this.dispatch.call(this.context,e)}),"addBidderRequests"),k=(0,m.z3)("async",(function(e,t){t&&t()}),"bidsBackCallback");function R(e,t){t.timeToRespond>e.getTimeout()+d.vc.getConfig("timeoutBuffer")&&e.executeCallback(!0)}function P(e,t){var r,n,i;r=t,i=!0===b.S.get(r.bidderCode,"allowZeroCpmBids")?0<=r.cpm:0<r.cpm,r.bidderCode&&(i||r.dealId)&&(n=function(e,t,r){var n=(void 0===r?{}:r).index,i=void 0===n?c.K.index:n;if(!t)return{};var o=i.getBidRequest(t),s={},d=N(t.mediaType,e);return q(s,d,t,o),e&&b.S.getOwn(e,T.JSON_MAPPING.ADSERVER_TARGETING)&&(q(s,b.S.ownSettingsFor(e),t,o),t.sendStandardTargeting=b.S.get(e,"sendStandardTargeting")),t.native&&(s=Object.assign({},s,(0,a.Ur)(t))),s}(r.bidderCode,r)),r.adserverTargeting=Object.assign(r.adserverTargeting||{},n),E.emit(T.EVENTS.BID_RESPONSE,t),e.addBidReceived(t),R(e,t)}var U=(0,m.z3)("async",(function(e,t,r){p([t],(function(i,o){var a;i?((0,n.logWarn)("Failed to save to the video cache: "+i+". Video bid must be discarded."),R(e,t)):""===o[0].uuid?((0,n.logWarn)("Supplied video cache key was already in use by Prebid Cache; caching attempt was rejected. Video bid must be discarded."),R(e,t)):(t.videoCacheKey=o[0].uuid,!t.vastUrl&&(t.vastUrl=(a=t.videoCacheKey,d.vc.getConfig("cache.url")+"?uuid="+a)),P(e,t),r())}))}),"callPrebidCache");function D(e,t,r){if(e&&r){if(e===h.pX){var n=(0,i.Z)(t,h.pX+".context","instream");if(r[h.pX+"-"+n])return r[h.pX+"-"+n]}return r[e]}}var j=function(e){return function(t){var r=e||function(e,t){var r=(void 0===t?{}:t).index,n=void 0===r?c.K.index:r,i=D(e.mediaType,n.getMediaTypes(e),d.vc.getConfig("mediaTypePriceGranularity"));return"string"==typeof e.mediaType&&i?"string"==typeof i?i:"custom":d.vc.getConfig("priceGranularity")}(t);return r===T.GRANULARITY_OPTIONS.AUTO?t.pbAg:r===T.GRANULARITY_OPTIONS.DENSE?t.pbDg:r===T.GRANULARITY_OPTIONS.LOW?t.pbLg:r===T.GRANULARITY_OPTIONS.MEDIUM?t.pbMg:r===T.GRANULARITY_OPTIONS.HIGH?t.pbHg:r===T.GRANULARITY_OPTIONS.CUSTOM?t.pbCg:void 0}};function B(e,t){return{key:e,val:"function"==typeof t?function(e,r){return t(e,r)}:function(e){return(0,n.getValue)(e,t)}}}function N(e,t){var r=T.TARGETING_KEYS,o=Object.assign({},b.S.settingsFor(null));if(o[T.JSON_MAPPING.ADSERVER_TARGETING]||(o[T.JSON_MAPPING.ADSERVER_TARGETING]=function(){var e=T.TARGETING_KEYS;return[B(e.BIDDER,"bidderCode"),B(e.AD_ID,"adId"),B(e.PRICE_BUCKET,j()),B(e.SIZE,"size"),B(e.DEAL,"dealId"),B(e.SOURCE,"source"),B(e.FORMAT,"mediaType"),B(e.ADOMAIN,(function(e){return e.meta&&e.meta.advertiserDomains&&0<e.meta.advertiserDomains.length?e.meta.advertiserDomains[0]:""}))]}()),"video"===e){var a=o[T.JSON_MAPPING.ADSERVER_TARGETING].slice();if(o[T.JSON_MAPPING.ADSERVER_TARGETING]=a,[r.UUID,r.CACHE_ID].forEach((function(e){void 0===(0,g.sE)(a,(function(t){return t.key===e}))&&a.push(B(e,"videoCacheKey"))})),d.vc.getConfig("cache.url")&&(!t||!1!==b.S.get(t,"sendStandardTargeting"))){var s=(0,n.parseUrl)(d.vc.getConfig("cache.url"));void 0===(0,g.sE)(a,(function(e){return e.key===r.CACHE_HOST}))&&a.push(B(r.CACHE_HOST,(function(e){return(0,i.Z)(e,"adserverTargeting."+r.CACHE_HOST)?e.adserverTargeting[r.CACHE_HOST]:s.hostname})))}}return o}function q(e,t,r,i){var o=t[T.JSON_MAPPING.ADSERVER_TARGETING];return r.size=r.getSize(),(0,n._each)(o,(function(o){var a=o.key,s=o.val;if(e[a]&&(0,n.logWarn)("The key: "+a+" is being overwritten"),(0,n.isFn)(s))try{s=s(r,i)}catch(e){(0,n.logError)("bidmanager","ERROR",e)}(void 0===t.suppressEmptyKeys||!0!==t.suppressEmptyKeys)&&a!==T.TARGETING_KEYS.DEAL||!(0,n.isEmptyStr)(s)&&null!=s?e[a]=s:(0,n.logInfo)("suppressing empty key '"+a+"' from adserver targeting")})),e}function M(e,t){return e[t.adUnitCode]||(e[t.adUnitCode]={bids:[]}),e[t.adUnitCode].bids.push(t),e}},1371:function(e,t,r){"use strict";r.d(t,{K:function(){return d}});var n=r(8376),i=r(9259),o=r(3596);function a(e){Object.assign(this,{getAuction:function(t){var r=t.auctionId;if(null!=r)return e().find((function(e){return e.getAuctionId()===r}))},getAdUnit:function(t){var r=t.transactionId;if(null!=r)return e().flatMap((function(e){return e.getAdUnits()})).find((function(e){return e.transactionId===r}))},getMediaTypes:function(e){var t=e.transactionId,r=e.requestId;if(null!=r){var n=this.getBidRequest({requestId:r});if(null!=n&&(null==t||n.transactionId===t))return n.mediaTypes}else if(null!=t){var i=this.getAdUnit({transactionId:t});if(null!=i)return i.mediaTypes}},getBidderRequest:function(t){var r=t.requestId,n=t.bidderRequestId;if(null!=r||null!=n){var i=e().flatMap((function(e){return e.getBidRequests()}));return null!=n&&(i=i.filter((function(e){return e.bidderRequestId===n}))),null==r?i[0]:i.find((function(e){return e.bids&&null!=e.bids.find((function(e){return e.bidId===r}))}))}},getBidRequest:function(t){var r=t.requestId;if(null!=r)return e().flatMap((function(e){return e.getBidRequests()})).flatMap((function(e){return e.bids})).find((function(e){return e&&e.bidId===r}))}})}var s=r(1999);var d=function(){var e=[],t={addWinningBid:function(t){var r=(0,o.sE)(e,(function(e){return e.getAuctionId()===t.auctionId}));r?(t.status=s.BID_STATUS.RENDERED,r.addWinningBid(t)):(0,n.logWarn)("Auction not found when adding winning bid")},getAllWinningBids:function(){return e.map((function(e){return e.getWinningBids()})).reduce(n.flatten,[])},getBidsRequested:function(){return e.map((function(e){return e.getBidRequests()})).reduce(n.flatten,[])},getNoBids:function(){return e.map((function(e){return e.getNoBids()})).reduce(n.flatten,[])},getBidsReceived:function(){return e.map((function(e){if(e.getAuctionStatus()===i.mv)return e.getBidsReceived()})).reduce(n.flatten,[]).filter((function(e){return e}))},getAllBidsForAdUnitCode:function(t){return e.map((function(e){return e.getBidsReceived()})).reduce(n.flatten,[]).filter((function(e){return e&&e.adUnitCode===t}))},getAdUnits:function(){return e.map((function(e){return e.getAdUnits()})).reduce(n.flatten,[])},getAdUnitCodes:function(){return e.map((function(e){return e.getAdUnitCodes()})).reduce(n.flatten,[]).filter(n.uniques)}};return t.createAuction=function(t){var r=t.adUnits,n=t.adUnitCodes,o=t.callback,a=t.cbTimeout,s=t.labels,d=t.auctionId,c=(0,i.vO)({adUnits:r,adUnitCodes:n,callback:o,cbTimeout:a,labels:s,auctionId:d});return function(t){e.push(t)}(c),c},t.findBidByAdId=function(t){return(0,o.sE)(e.map((function(e){return e.getBidsReceived()})).reduce(n.flatten,[]),(function(e){return e.adId===t}))},t.getStandardBidderAdServerTargeting=function(){return(0,i.LX)()[s.JSON_MAPPING.ADSERVER_TARGETING]},t.setStatusForBids=function(r,n){var i=t.findBidByAdId(r);if(i&&(i.status=n),i&&n===s.BID_STATUS.BID_TARGETING_SET){var a=(0,o.sE)(e,(function(e){return e.getAuctionId()===i.auctionId}));a&&a.setBidTargeting(i)}},t.getLastAuctionId=function(){return e.length&&e[e.length-1].getAuctionId()},t.clearAllAuctions=function(){e.length=0},t.index=new a((function(){return e})),t}()},6396:function(e,t,r){"use strict";r.d(t,{S:function(){return p}});var n=r(187),i=r(2577),o=r(265),a=r(8376),s=r(139),d=r(1999),c=(0,i.Z)("resolveScope");function u(e){return null==e?this.defaultScope:e}var p=new(function(){function e(e,t){Object.defineProperty(this,c,{value:u}),this.getSettings=e,this.defaultScope=t}var t=e.prototype;return t.get=function(e,t){var r=this.getOwn(e,t);return void 0===r&&(r=this.getOwn(null,t)),r},t.getOwn=function(e,t){return e=(0,n.Z)(this,c)[c](e),(0,o.Z)(this.getSettings(),e+"."+t)},t.getScopes=function(){var e=this;return Object.keys(this.getSettings()).filter((function(t){return t!==e.defaultScope}))},t.settingsFor=function(e){return(0,a.mergeDeep)({},this.ownSettingsFor(null),this.ownSettingsFor(e))},t.ownSettingsFor=function(e){return e=(0,n.Z)(this,c)[c](e),this.getSettings()[e]||{}},e}())((function(){return(0,s.R)().bidderSettings||{}}),d.JSON_MAPPING.BD_SETTING_STANDARD)},3654:function(e,t,r){"use strict";r.d(t,{m:function(){return o}});var n=r(8376);function i(e,t){var r=void 0===t?{}:t,i=r.src,o=void 0===i?"client":i,a=r.bidder,s=void 0===a?"":a,d=r.bidId,c=r.transactionId,u=r.auctionId,p=e||0;this.bidderCode=s,this.width=0,this.height=0,this.statusMessage=0===p?"Pending":1===p?"Bid available":2===p?"Bid returned empty or error response":3===p?"Bid timed out":void 0,this.adId=(0,n.getUniqueIdentifierStr)(),this.requestId=d,this.transactionId=c,this.auctionId=u,this.mediaType="banner",this.source=o,this.getStatusCode=function(){return p},this.getSize=function(){return this.width+"x"+this.height},this.getIdentifiers=function(){return{src:this.source,bidder:this.bidderCode,bidId:this.requestId,transactionId:this.transactionId,auctionId:this.auctionId}}}function o(e,t){return new i(e,t)}},8273:function(e,t,r){"use strict";r.d(t,{FD:function(){return l},vc:function(){return v}});var n=r(7040);var i=r(8747),o=r(3596),a=r(8376),s=r(265),d=["fpd"],c=r(1999),u="TRUE"===(0,a.getParameterByName)(c.DEBUG_MODE).toUpperCase(),p=window.location.origin,l="random",f={};f[l]=!0,f.fixed=!0;var m=l,g={LOW:"low",MEDIUM:"medium",HIGH:"high",AUTO:"auto",DENSE:"dense",CUSTOM:"custom"};var v=function(){function e(){function e(e){return(0,o.sE)(Object.keys(g),(function(t){return e===g[t]}))}function t(t){if(!t)return(0,a.logError)("Prebid Error: no value passed to `setPriceGranularity()`"),!1;if("string"==typeof t)e(t)||(0,a.logWarn)("Prebid Warning: setPriceGranularity was called with invalid setting, using `medium` as default.");else if((0,a.isPlainObject)(t)&&!(0,i.t)(t))return(0,a.logError)("Invalid custom price value passed to `setPriceGranularity()`"),!1;return!0}E={};var r={_debug:u,get debug(){return this._debug},set debug(e){this._debug=e},_bidderTimeout:3e3,get bidderTimeout(){return this._bidderTimeout},set bidderTimeout(e){this._bidderTimeout=e},_publisherDomain:p,get publisherDomain(){return this._publisherDomain},set publisherDomain(e){this._publisherDomain=e},_priceGranularity:g.MEDIUM,set priceGranularity(r){t(r)&&("string"==typeof r?this._priceGranularity=e(r)?r:g.MEDIUM:(0,a.isPlainObject)(r)&&(this._customPriceBucket=r,this._priceGranularity=g.CUSTOM,(0,a.logMessage)("Using custom price granularity")))},get priceGranularity(){return this._priceGranularity},_customPriceBucket:{},get customPriceBucket(){return this._customPriceBucket},_mediaTypePriceGranularity:{},get mediaTypePriceGranularity(){return this._mediaTypePriceGranularity},set mediaTypePriceGranularity(r){var n=this;this._mediaTypePriceGranularity=Object.keys(r).reduce((function(i,o){return t(r[o])?"string"==typeof r?i[o]=e(r[o])?r[o]:n._priceGranularity:(0,a.isPlainObject)(r)&&(i[o]=r[o],(0,a.logMessage)("Using custom price granularity for "+o)):(0,a.logWarn)("Invalid price granularity for media type: "+o),i}),{})},_sendAllBids:true,get enableSendAllBids(){return this._sendAllBids},set enableSendAllBids(e){this._sendAllBids=e},_useBidCache:false,get useBidCache(){return this._useBidCache},set useBidCache(e){this._useBidCache=e},_deviceAccess:true,get deviceAccess(){return this._deviceAccess},set deviceAccess(e){this._deviceAccess=e},_bidderSequence:m,get bidderSequence(){return this._bidderSequence},set bidderSequence(e){f[e]?this._bidderSequence=e:(0,a.logWarn)("Invalid order: "+e+". Bidder Sequence was not set.")},_timeoutBuffer:400,get timeoutBuffer(){return this._timeoutBuffer},set timeoutBuffer(e){this._timeoutBuffer=e},_disableAjaxTimeout:false,get disableAjaxTimeout(){return this._disableAjaxTimeout},set disableAjaxTimeout(e){this._disableAjaxTimeout=e},_maxNestedIframes:10,get maxNestedIframes(){return this._maxNestedIframes},set maxNestedIframes(e){this._maxNestedIframes=e},_auctionOptions:{},get auctionOptions(){return this._auctionOptions},set auctionOptions(e){(function(e){if(!(0,a.isPlainObject)(e))return(0,a.logWarn)("Auction Options must be an object"),!1;for(var t,r=0,n=Object.keys(e);r<n.length;r++){if("secondaryBidders"!==(t=n[r])&&"suppressStaleRender"!==t)return(0,a.logWarn)("Auction Options given an incorrect param: "+t),!1;if("secondaryBidders"===t){if(!(0,a.isArray)(e[t]))return(0,a.logWarn)("Auction Options "+t+" must be of type Array"),!1;if(!e[t].every(a.isStr))return(0,a.logWarn)("Auction Options "+t+" must be only string"),!1}else if("suppressStaleRender"===t&&!(0,a.isBoolean)(e[t]))return(0,a.logWarn)("Auction Options "+t+" must be of type boolean"),!1}return!0})(e)&&(this._auctionOptions=e)}};T&&h(Object.keys(T).reduce((function(e,t){return T[t]!==r[t]&&(e[t]=r[t]||{}),e}),{})),T=r,w={}}function t(){if(S&&w&&(0,a.isPlainObject)(w[S])){var e=w[S],t=new Set(Object.keys(T).concat(Object.keys(e)));return(0,o.Oc)(t).reduce((function(t,r){return t[r]=void 0===e[r]?T[r]:void 0===T[r]?e[r]:(0,a.isPlainObject)(e[r])?(0,a.mergeDeep)({},T[r],e[r]):e[r],t}),{})}return Object.assign({},T)}function r(e){var t={};return Object.keys(e).forEach((function(r){var n="context"===r?"site":r;t[n]="site"==n||"user"===n?Object.keys(e[r]).reduce((function(t,n){var i;"data"===n?(0,a.mergeDeep)(t,{ext:{data:e[r][n]}}):(0,a.mergeDeep)(t,((i={})[n]=e[r][n],i));return t}),{}):e[r]})),t}function c(e){var t={};return Object.keys(e).filter((function(e){return"context"===e})).forEach((function(r){Object.keys(e[r]).forEach((function(n){if("data"===n)(0,a.mergeDeep)(t,{ext:{data:e[r][n]}});else if("object"!=typeof e[r][n]||Array.isArray(e[r][n])){var i;(0,a.mergeDeep)(t,{ext:{data:(i={},i[n.toLowerCase()]=e[r][n],i)}})}else Object.keys(e[r][n]).forEach((function(i){var o,s;(0,a.mergeDeep)(t,{ext:{data:(s={},s[n.toLowerCase()]=(o={},o[i.toLowerCase()]=e[r][n][i],o),s)}})}))}))})),t}function l(e){if((0,a.isPlainObject)(e)){var t=Object.keys(e),n={};t.forEach((function(t){var i="fpd"===t?"ortb2":t,o="fpd"===t?r(e[t]):e[t];(0,a.isPlainObject)(E[i])&&(0,a.isPlainObject)(o)&&(o=Object.assign({},E[i],o)),n[i]=T[i]=o})),h(n)}else(0,a.logError)("setConfig options must be an object")}function v(e,t){var r=t;if("string"!=typeof e&&(r=e,e="*"),"function"==typeof r){var n={topic:e,callback:r};return x.push(n),function(){x.splice(x.indexOf(n),1)}}(0,a.logError)("listener must be a function")}function h(e){var t=Object.keys(e);x.filter((function(e){return(0,o.q9)(t,e.topic)})).forEach((function(t){var r;t.callback(((r={})[t.topic]=e[t.topic],r))})),x.filter((function(e){return"*"===e.topic})).forEach((function(t){return t.callback(e)}))}function b(e,t){void 0===t&&(t=!1);try{(function(e){if(!(0,a.isPlainObject)(e))throw"setBidderConfig bidder options must be an object";if(!Array.isArray(e.bidders)||!e.bidders.length)throw"setBidderConfig bidder options must contain a bidders list with at least 1 bidder";if(!(0,a.isPlainObject)(e.config))throw"setBidderConfig bidder options must contain a config object"})(e),e.bidders.forEach((function(n){w[n]||(w[n]={}),Object.keys(e.config).forEach((function(i){var o="fpd"===i?"ortb2":i,s="fpd"===i?r(e.config[i]):e.config[i];if((0,a.isPlainObject)(s)){var d=t?a.mergeDeep:Object.assign;w[n][o]=d({},w[n][o]||{},s)}else w[n][o]=s}))}))}catch(e){(0,a.logError)(e)}}function y(e,t){S=e;try{return t()}finally{I()}}function I(){S=null}var E,T,w,x=[],S=null;return e(),{getCurrentBidder:function(){return S},resetBidder:I,getConfig:function(){if(1>=arguments.length&&"function"!=typeof(0>=arguments.length?void 0:arguments[0])){var e=0>=arguments.length?void 0:arguments[0];return e?(0,s.Z)(t(),e):t()}return v.apply(void 0,arguments)},readConfig:function(){if(1>=arguments.length&&"function"!=typeof(0>=arguments.length?void 0:arguments[0])){var e=0>=arguments.length?void 0:arguments[0],r=(0,a.deepClone)(t());return e?(0,s.Z)(r,e):r}return v.apply(void 0,arguments)},setConfig:l,mergeConfig:function(e){if((0,a.isPlainObject)(e)){var r=Object.keys(e).reduce((function(r,n){var i=t()[n]||{};return r[n]=(0,a.mergeDeep)(i,e[n]),r}),{});return l((0,n.Z)({},r)),r}(0,a.logError)("mergeConfig input must be an object")},setDefaults:function(e){return(0,a.isPlainObject)(E)?(Object.assign(E,e),void Object.assign(T,e)):void(0,a.logError)("defaults must be an object")},resetConfig:e,runWithBidder:y,callbackWithBidder:function(e){return function(t){return function(){if("function"==typeof t){for(var r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];return y(e,a.bind.call.apply(a.bind,[t,this].concat(n)))}(0,a.logWarn)("config.callbackWithBidder callback is not a function")}}},setBidderConfig:b,getBidderConfig:function(){return w},mergeBidderConfig:function(e){return b(e,!0)},convertAdUnitFpd:function(e){var t=[];return e.forEach((function(e){e.fpd?(e.ortb2Imp?(0,a.mergeDeep)(e.ortb2Imp,c(e.fpd)):e.ortb2Imp=c(e.fpd),t.push(function(e){e.fpd;return function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,d)}(e))):t.push(e)})),t},getLegacyFpd:function(e){if("object"==typeof e){var t={};return Object.keys(e).forEach((function(r){var n="site"===r?"context":r;t[n]="context"==n||"user"===n?Object.keys(e[r]).filter((function(e){return"data"!==e})).reduce((function(t,n){var i;"ext"===n?(0,a.mergeDeep)(t,e[r][n]):(0,a.mergeDeep)(t,((i={})[n]=e[r][n],i));return t}),{}):e[r]})),t}},getLegacyImpFpd:function(e){if("object"==typeof e){var t={};return(0,s.Z)(e,"ext.data")&&Object.keys(e.ext.data).forEach((function(r){if("pbadslot"===r)(0,a.mergeDeep)(t,{context:{pbAdSlot:e.ext.data[r]}});else if("adserver"===r)(0,a.mergeDeep)(t,{context:{adServer:e.ext.data[r]}});else{var n;(0,a.mergeDeep)(t,{context:{data:(n={},n[r]=e.ext.data[r],n)}})}})),t}}}}()},8747:function(e,t,r){"use strict";r.d(t,{D:function(){return u},t:function(){return l}});var n=r(3596),i=r(8376),o={buckets:[{max:5,increment:.5}]},a={buckets:[{max:20,increment:.1}]},s={buckets:[{max:20,increment:.01}]},d={buckets:[{max:3,increment:.01},{max:8,increment:.05},{max:20,increment:.5}]},c={buckets:[{max:5,increment:.05},{max:10,increment:.1},{max:20,increment:.5}]};function u(e,t,r){void 0===r&&(r=1);var n=parseFloat(e);return isNaN(n)&&(n=""),{low:""===n?"":p(e,o,r),med:""===n?"":p(e,a,r),high:""===n?"":p(e,s,r),auto:""===n?"":p(e,c,r),dense:""===n?"":p(e,d,r),custom:""===n?"":p(e,t,r)}}function p(e,t,r){var i="";if(!l(t))return i;var o=t.buckets.reduce((function(e,t){return e.max>t.max?e:t}),{max:0}),a=0,s=(0,n.sE)(t.buckets,(function(t){if(e>o.max*r){var n=t.precision;void 0===n&&(n=2),i=(t.max*r).toFixed(n)}else{if(e<=t.max*r&&e>=a*r)return t.min=a,t;a=t.max}}));return s&&(i=function(e,t,r){var n=void 0===t.precision?2:t.precision,i=t.increment*r,o=t.min*r,a=Math.pow(10,n+2),s=Math.floor((e*a-o*a)/(i*a))*i+o;return(s=+s.toFixed(10)).toFixed(n)}(e,s,r)),i}function l(e){if((0,i.isEmpty)(e)||!e.buckets||!Array.isArray(e.buckets))return!1;var t=!0;return e.buckets.forEach((function(e){e.max&&e.increment||(t=!1)})),t}},8078:function(e,t,r){"use strict";r.r(t),r.d(t,{on:function(){return p},off:function(){return l},get:function(){return f},getEvents:function(){return m},emit:function(){return g}});var n=r(8376),i=r(1999),o=Array.prototype.slice,a=Array.prototype.push,s=n._map(i.EVENTS,(function(e){return e})),d=i.EVENT_ID_PATHS,c=[],u=function(){function e(e,r){n.logMessage("Emitting event for: "+e);var i=r[0]||{},o=i[d[e]],s=t[e]||{que:[]},u=n._map(s,(function(e,t){return t})),p=[];c.push({eventType:e,args:i,id:o,elapsedTime:n.getPerformanceNow()}),o&&n.contains(u,o)&&a.apply(p,s[o].que),a.apply(p,s.que),n._each(p,(function(e){if(e)try{e.apply(null,r)}catch(e){n.logError("Error executing handler:","events.js",e)}}))}var t={},r={};return r.on=function(e,r,i){if(function(e){return n.contains(s,e)}(e)){var o=t[e]||{que:[]};i?(o[i]=o[i]||{que:[]},o[i].que.push(r)):o.que.push(r),t[e]=o}else n.logError("Wrong event name : "+e+" Valid event names :"+s)},r.emit=function(t){var r=o.call(arguments,1);e(t,r)},r.off=function(e,r,i){var o=t[e];n.isEmpty(o)||n.isEmpty(o.que)&&n.isEmpty(o[i])||i&&(n.isEmpty(o[i])||n.isEmpty(o[i].que))||(i?n._each(o[i].que,(function(e){var t=o[i].que;e===r&&t.splice(t.indexOf(e),1)})):n._each(o.que,(function(e){var t=o.que;e===r&&t.splice(t.indexOf(e),1)})),t[e]=o)},r.get=function(){return t},r.getEvents=function(){var e=[];return n._each(c,(function(t){var r=Object.assign({},t);e.push(r)})),e},r}(),p=u.on,l=u.off,f=u.get,m=u.getEvents,g=u.emit},4906:function(e,t,r){"use strict";r.d(t,{z3:function(){return o},v5:function(){return a},bA:function(){return d},Bx:function(){return c}});var n=r(1432),i=r.n(n),o=i()({ready:i().SYNC|i().ASYNC|i().QUEUE}),a=o.get;var s={};function d(e,t,r){var n=(void 0===r?{}:r).postInstallAllowed;o("async",(function(r){r.forEach((function(e){return t.apply(void 0,e)})),void 0!==n&&n&&(s[e]=t)}),e)([])}function c(e){for(var t=arguments.length,r=Array(1<t?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var i=s[e];return i?i.apply(void 0,r):void a(e).before((function(e,t){t.push(r),e(t)}))}},7137:function(e,t,r){"use strict";r.d(t,{B5:function(){return n},pX:function(){return i},Mk:function(){return o},Oh:function(){return a}});var n="native",i="video",o="banner",a="adpod"},3881:function(e,t,r){"use strict";r.d(t,{Sg:function(){return c},xc:function(){return u},Fb:function(){return f},r4:function(){return m},e6:function(){return g},Ur:function(){return v},eK:function(){return h},JL:function(){return b}});var n=r(7040),i=r(265),o=r(8376),a=r(3596),s=r(1371),d=r(1999),c=[],u=Object.keys(d.NATIVE_KEYS).map((function(e){return d.NATIVE_KEYS[e]})),p={image:{image:{required:!0},title:{required:!0},sponsoredBy:{required:!0},clickUrl:{required:!0},body:{required:!1},icon:{required:!1}}};function l(e){return e&&e.type&&((t=e.type)&&(0,a.q9)(Object.keys(p),t)||((0,o.logError)(t+" nativeParam is not supported"),0))?p[e.type]:e;var t}function f(e){e.forEach((function(e){var t=e.nativeParams||(0,i.Z)(e,"mediaTypes.native");t&&(e.nativeParams=l(t))}))}function m(e,t){var r=(void 0===t?{}:t).index,n=void 0===r?s.K.index:r;if(!(0,i.Z)(e,"native.clickUrl"))return!1;var o=n.getAdUnit(e).nativeParams;if(!o)return!0;var d=Object.keys(o).filter((function(e){return o[e].required})),c=Object.keys(e.native).filter((function(t){return e.native[t]}));return d.every((function(e){return(0,a.q9)(c,e)}))}function g(e,t){var r;return"click"===e.action?r=t.native&&t.native.clickTrackers:(r=t.native&&t.native.impressionTrackers,t.native&&t.native.javascriptTrackers&&(0,o.insertHtmlIntoIframe)(t.native.javascriptTrackers)),(r||[]).forEach(o.triggerPixel),e.action}function v(e,t){var r=(void 0===t?{}:t).index,o=void 0===r?s.K.index:r,a={},c=o.getAdUnit(e);(0,i.Z)(c,"nativeParams.rendererUrl")?e.native.rendererUrl=y(c.nativeParams.rendererUrl):(0,i.Z)(c,"nativeParams.adTemplate")&&(e.native.adTemplate=y(c.nativeParams.adTemplate));var u=!1!==(0,i.Z)(c,"nativeParams.sendTargetingKeys"),p=function(e){var t={};return(0,i.Z)(e,"nativeParams.ext")&&Object.keys(e.nativeParams.ext).forEach((function(e){t[e]="hb_native_"+e})),(0,n.Z)({},d.NATIVE_KEYS,t)}(c),l=(0,n.Z)({},e.native,e.native.ext);return delete l.ext,Object.keys(l).forEach((function(t){var r=p[t],n=y(e.native[t])||y((0,i.Z)(e,"native.ext."+t));if("adTemplate"!==t&&r&&n){var o=(0,i.Z)(c,"nativeParams."+t+".sendId");if("boolean"!=typeof o&&(o=(0,i.Z)(c,"nativeParams.ext."+t+".sendId")),o)n=r+":"+e.adId;var s=(0,i.Z)(c,"nativeParams."+t+".sendTargetingKeys");"boolean"!=typeof s&&(s=(0,i.Z)(c,"nativeParams.ext."+t+".sendTargetingKeys")),("boolean"==typeof s?s:u)&&(a[r]=n)}})),a}function h(e,t){var r={message:"assetResponse",adId:e.adId,assets:[]};return t.native.hasOwnProperty("adTemplate")&&(r.adTemplate=y(t.native.adTemplate)),t.native.hasOwnProperty("rendererUrl")&&(r.rendererUrl=y(t.native.rendererUrl)),e.assets.forEach((function(e){var n=(0,o.getKeyByValue)(d.NATIVE_KEYS,e),i=y(t.native[n]);r.assets.push({key:n,value:i})})),r}function b(e,t){var r={message:"assetResponse",adId:e.adId,assets:[]};return Object.keys(t.native).forEach((function(e){if("adTemplate"===e&&t.native[e])r.adTemplate=y(t.native[e]);else if("rendererUrl"===e&&t.native[e])r.rendererUrl=y(t.native[e]);else if("ext"===e)Object.keys(t.native[e]).forEach((function(n){if(t.native[e][n]){var i=y(t.native[e][n]);r.assets.push({key:n,value:i})}}));else if(t.native[e]&&d.NATIVE_KEYS.hasOwnProperty(e)){var n=y(t.native[e]);r.assets.push({key:e,value:n})}})),r}function y(e){return"object"==typeof e&&e.url?e.url:e}},3596:function(e,t,r){"use strict";function n(e,t,r){return e&&e.includes(t,r)||!1}function i(){return Array.from.apply(Array,arguments)}function o(e,t,r){return e&&e.find(t,r)}r.d(t,{q9:function(){return n},Oc:function(){return i},sE:function(){return o}})},139:function(e,t,r){"use strict";function n(){return window.pbjs}r.d(t,{R:function(){return n}}),window.pbjs=window.pbjs||{},window.pbjs.cmd=window.pbjs.cmd||[],window.pbjs.que=window.pbjs.que||[],window._pbjsGlobals=window._pbjsGlobals||[],window._pbjsGlobals.push("pbjs")},5688:function(e,t,r){"use strict";r.d(t,{n:function(){return o}});var n=r(8273),i=r(8376);var o=function(e){function t(e){var t=n.vc.getConfig("pageUrl");if(t)return t;try{var r=e.querySelector("link[rel='canonical']");if(null!==r)return r.href}catch(e){}return null}return function(){var r,o,a,s=[],d=function(e){try{return e.location.ancestorOrigins?e.location.ancestorOrigins:void 0}catch(e){}}(e),c=n.vc.getConfig("maxNestedIframes"),u=!1,p=0,l=!1,f=!1;do{var m=r,g=f,v=void 0,h=!1,b=null;f=!1,r=r?r.parent:e;try{v=r.location.href||null}catch(e){h=!0}if(h)if(g){var y=m.context;try{o=b=y.sourceUrl,l=!0,r===e.top&&(u=!0),y.canonicalUrl&&(a=y.canonicalUrl)}catch(e){}}else{(0,i.logWarn)("Trying to access cross domain iframe. Continuing without referrer and location");try{var I=m.document.referrer;I&&(b=I,r===e.top&&(u=!0))}catch(e){}!b&&d&&d[p-1]&&(b=d[p-1]),b&&!l&&(o=b)}else{if(v&&(o=b=v,l=!1,r===e.top)){u=!0;var E=t(r.document);E&&(a=E)}r.context&&r.context.sourceUrl&&(f=!0)}s.push(b),p++}while(r!==e.top&&p<c);return s.reverse(),{referer:o||null,reachedTop:u,isAmp:l,numIframes:p-1,stack:s,canonicalUrl:a||null}}}(window)},4020:function(e,t,r){"use strict";r.d(t,{lO:function(){return c},UB:function(){return l}});var n=r(8273),i=r(8376),o=r(265),a=r(3596),s=[];function d(e,t){return e.labelAll?{labelAll:!0,labels:e.labelAll,activeLabels:t}:{labelAll:!1,labels:e.labelAny,activeLabels:t}}function c(e,t){void 0===t&&(t=s);var r=p(t);return!r.shouldFilter||!!r.sizesSupported[e]}function u(e,t,r,n){var d=void 0===e?{}:e,c=d.labels,u=void 0===c?[]:c,l=d.labelAll,f=void 0!==l&&l,m=d.activeLabels,g=void 0===m?[]:m;void 0===n&&(n=s);var v=p(n);t=(0,i.isPlainObject)(t)?(0,i.deepClone)(t):r?{banner:{sizes:r}}:{};var h=(0,o.Z)(t,"banner.sizes");v.shouldFilter&&h&&(t.banner.sizes=h.filter((function(e){return v.sizesSupported[e]})));var b=Object.keys(t),y={active:b.every((function(e){return"banner"!==e}))||b.some((function(e){return"banner"===e}))&&0<(0,o.Z)(t,"banner.sizes.length")&&(0===u.length||!f&&(u.some((function(e){return v.labels[e]}))||u.some((function(e){return(0,a.q9)(g,e)})))||f&&u.reduce((function(e,t){return e?v.labels[t]||(0,a.q9)(g,t):e}),!0)),mediaTypes:t};return h&&h.length!==t.banner.sizes.length&&(y.filterResults={before:h,after:t.banner.sizes}),y}function p(e){return e.reduce((function(e,t){if("object"==typeof t&&"string"==typeof t.mediaQuery&&0<t.mediaQuery.length){var r=!1;try{r=(0,i.getWindowTop)().matchMedia(t.mediaQuery).matches}catch(e){(0,i.logWarn)("Unfriendly iFrame blocks sizeConfig from being correctly evaluated"),r=matchMedia(t.mediaQuery).matches}r&&(Array.isArray(t.sizesSupported)&&(e.shouldFilter=!0),["labels","sizesSupported"].forEach((function(r){return(t[r]||[]).forEach((function(t){return e[r][t]=!0}))})))}else(0,i.logWarn)('sizeConfig rule missing required property "mediaQuery"');return e}),{labels:{},sizesSupported:{},shouldFilter:!1})}function l(e,t){return e.reduce((function(e,r){var n=u(d(r,t),r.mediaTypes,r.sizes),o=n.active,a=n.mediaTypes,s=n.filterResults;return o?(s&&(0,i.logInfo)('Size mapping filtered adUnit "'+r.code+'" banner sizes from ',s.before,"to ",s.after),r.mediaTypes=a,r.bids=r.bids.reduce((function(e,n){var o=u(d(n,t),r.mediaTypes),a=o.active,s=o.mediaTypes,c=o.filterResults;return a?(c&&((0,i.logInfo)('Size mapping filtered adUnit "'+r.code+'" bidder "'+n.bidder+'" banner sizes from ',c.before,"to ",c.after),n.mediaTypes=s),e.push(n)):(0,i.logInfo)('Size mapping deactivated adUnit "'+r.code+'" bidder "'+n.bidder+'"'),e}),[]),e.push(r)):(0,i.logInfo)('Size mapping disabled adUnit "'+r.code+'"'),e}),[])}n.vc.getConfig("sizeConfig",(function(e){return function(e){s=e}(e.sizeConfig)}))},4513:function(e,t,r){"use strict";r.d(t,{Ld:function(){return d},S6:function(){return u},eA:function(){return p},df:function(){return l}});var n=r(4906),i=r(8376),o=r(3596),a=r(6396),s=["core","prebid-module"],d=[];function c(e,t){function r(e){return(0,o.q9)(s,f)?e({valid:!0}):function(){if(null==l)return!1;var e=g.get(l,"storageAllowed");return null!=e&&!e}()?((0,i.logInfo)("bidderSettings denied access to device storage for bidder '"+l+"'"),e({valid:!1})):(u(c,l||p,{hasEnforcementHook:!1},(function(r){if(r&&r.hasEnforcementHook)t=e(r);else{var n={hasEnforcementHook:!1,valid:(0,i.hasDeviceAccess)()};t=e(n)}})),t);var t}var n=void 0===e?{}:e,c=n.gvlid,p=n.moduleName,l=n.bidderCode,f=n.moduleType,m=(void 0===t?{}:t).bidderSettings,g=void 0===m?a.S:m,v=function(e){var t=function(e){if(e&&e.valid)try{return!!window.localStorage}catch(e){(0,i.logError)("Local storage api disabled")}return!1};return e&&"function"==typeof e?void d.push((function(){var n=r(t);e(n)})):r(t)};return{setCookie:function(e,t,n,i,o,a){var s=function(r){if(r&&r.valid){var a=o&&""!==o?" ;domain="+encodeURIComponent(o):"",s=n&&""!==n?" ;expires="+n:"",d=null!=i&&"none"==i.toLowerCase()?"; Secure":"";document.cookie=e+"="+encodeURIComponent(t)+s+"; path=/"+a+(i?"; SameSite="+i:"")+d}};return a&&"function"==typeof a?void d.push((function(){var e=r(s);a(e)})):r(s)},getCookie:function(e,t){var n=function(t){if(t&&t.valid){var r=window.document.cookie.match("(^|;)\\s*"+e+"\\s*=\\s*([^;]*)\\s*(;|$)");return r?decodeURIComponent(r[2]):null}return null};return t&&"function"==typeof t?void d.push((function(){var e=r(n);t(e)})):r(n)},localStorageIsEnabled:function(e){var t=function(e){if(e&&e.valid)try{return localStorage.setItem("prebid.cookieTest","1"),"1"===localStorage.getItem("prebid.cookieTest")}catch(e){}finally{try{localStorage.removeItem("prebid.cookieTest")}catch(e){}}return!1};return e&&"function"==typeof e?void d.push((function(){var n=r(t);e(n)})):r(t)},cookiesAreEnabled:function(e){var t=function(e){return!(!e||!e.valid||!(0,i.checkCookieSupport)()&&(window.document.cookie="prebid.cookieTest",-1===window.document.cookie.indexOf("prebid.cookieTest")))};return e&&"function"==typeof e?void d.push((function(){var n=r(t);e(n)})):r(t)},setDataInLocalStorage:function(e,t,n){var i=function(r){r&&r.valid&&v()&&window.localStorage.setItem(e,t)};return n&&"function"==typeof n?void d.push((function(){var e=r(i);n(e)})):r(i)},getDataFromLocalStorage:function(e,t){var n=function(t){return t&&t.valid&&v()?window.localStorage.getItem(e):null};return t&&"function"==typeof t?void d.push((function(){var e=r(n);t(e)})):r(n)},removeDataFromLocalStorage:function(e,t){var n=function(t){t&&t.valid&&v()&&window.localStorage.removeItem(e)};return t&&"function"==typeof t?void d.push((function(){var e=r(n);t(e)})):r(n)},hasLocalStorage:v,findSimilarCookies:function(e,t){var n=function(t){if(t&&t.valid){var r=[];if((0,i.hasDeviceAccess)())for(var n=document.cookie.split(";");n.length;){var o=n.pop(),a=o.indexOf("=");a=0>a?o.length:a,0<=decodeURIComponent(o.slice(0,a).replace(/^\s+/,"")).indexOf(e)&&r.push(decodeURIComponent(o.slice(a+1)))}return r}};return t&&"function"==typeof t?void d.push((function(){var e=r(n);t(e)})):r(n)}}}var u=(0,n.z3)("async",(function(e,t,r,n){n(r)}),"validateStorageEnforcement");function p(e){return c({moduleName:e,moduleType:"core"})}function l(e){var t=void 0===e?{}:e,r=t.gvlid,n=t.moduleName,o=t.bidderCode;if(1<arguments.length||0<arguments.length&&!(0,i.isPlainObject)(arguments[0]))throw new Error("Invalid invocation for getStorageManager");return c({gvlid:r,moduleName:n,bidderCode:o})}},5690:function(e,t,r){"use strict";r.d(t,{k_:function(){return c}});var n=r(8376),i=r(8273),o=r(3596),a=r(4513);i.vc.setDefaults({userSync:(0,n.deepClone)({syncEnabled:!0,filterSettings:{image:{bidders:"*",filter:"include"}},syncsPerBidder:5,syncDelay:3e3,auctionDelay:0})});var s=(0,a.eA)("usersync");var d=!(0,n.isSafariBrowser)()&&s.cookiesAreEnabled(),c=function(e){function t(){if(l.syncEnabled&&e.browserSupportsCookies){try{p.iframe&&r(d.iframe,(function(e){var t=e[0],r=e[1];(0,n.logMessage)("Invoking iframe user sync for bidder: "+t),(0,n.insertUserSyncIframe)(r),function(e,t){e.image=e.image.filter((function(e){return e[0]!==t}))}(d,t)})),p.image&&r(d.image,(function(e){var t=e[0],r=e[1];(0,n.logMessage)("Invoking image pixel user sync for bidder: "+t),(0,n.triggerPixel)(r)}))}catch(e){return(0,n.logError)("Error firing user syncs",e)}d={image:[],iframe:[]}}}function r(e,t){(0,n.shuffle)(e).forEach((function(e){t(e),c.add(e[0])}))}function a(e,t){var r=l.filterSettings;if(function(e,t){if(e.all&&e[t])return(0,n.logWarn)('Detected presence of the "filterSettings.all" and "filterSettings.'+t+'" in userSync config.  You cannot mix "all" with "iframe/image" configs; they are mutually exclusive.'),!1;var r=e.all?e.all:e[t],i=e.all?"all":t;if(!r)return!1;var o=r.filter,a=r.bidders;return o&&"include"!==o&&"exclude"!==o?((0,n.logWarn)('UserSync "filterSettings.'+i+".filter\" setting '"+o+"' is not a valid option; use either 'include' or 'exclude'."),!1):!!("*"===a||Array.isArray(a)&&0<a.length&&a.every((function(e){return(0,n.isStr)(e)&&"*"!==e})))||((0,n.logWarn)('Detected an invalid setup in userSync "filterSettings.'+i+".bidders\"; use either '*' (to represent all bidders) or an array of bidders."),!1)}(r,e)){p[e]=!0;var i=r.all?r.all:r[e],a="*"===i.bidders?[t]:i.bidders,s={include:function(e,t){return!(0,o.q9)(e,t)},exclude:function(e,t){return(0,o.q9)(e,t)}};return s[i.filter||"include"](a,t)}return!p[e]}var s={},d={image:[],iframe:[]},c=new Set,u={},p={image:!0,iframe:!1},l=e.config;return i.vc.getConfig("userSync",(function(e){if(e.userSync){var t=e.userSync.filterSettings;!(0,n.isPlainObject)(t)||t.image||t.all||(e.userSync.filterSettings.image={bidders:"*",filter:"include"})}l=Object.assign(l,e.userSync)})),s.registerSync=function(e,t,r){return c.has(t)?(0,n.logMessage)('already fired syncs for "'+t+'", ignoring registerSync call'):l.syncEnabled&&(0,n.isArray)(d[e])?t?0!==l.syncsPerBidder&&+u[t]>=l.syncsPerBidder?(0,n.logWarn)('Number of user syncs exceeded for "'+t+'"'):s.canBidderRegisterSync(e,t)?(d[e].push([t,r]),void(u=function(e,t){return e[t]?e[t]+=1:e[t]=1,e}(u,t))):(0,n.logWarn)('Bidder "'+t+'" not permitted to register their "'+e+'" userSync pixels.'):(0,n.logWarn)("Bidder is required for registering sync"):(0,n.logWarn)('User sync type "'+e+'" not supported')},s.syncUsers=function(e){return void 0===e&&(e=0),e?setTimeout(t,+e):void t()},s.triggerUserSyncs=function(){l.enableOverride&&s.syncUsers()},s.canBidderRegisterSync=function(e,t){return!(l.filterSettings&&a(e,t))},s}({config:i.vc.getConfig("userSync"),browserSupportsCookies:d})},8376:function(e,t,r){"use strict";r.r(t),r.d(t,{deepAccess:function(){return d.Z},deepSetValue:function(){return c.Z},internal:function(){return g},getPrebidInternal:function(){return h},bind:function(){return I},getUniqueIdentifierStr:function(){return T},generateUUID:function(){return w},getBidIdParameter:function(){return x},tryAppendQueryString:function(){return S},parseQueryStringParameters:function(){return C},transformAdServerTargetingObj:function(){return _},getAdUnitSizes:function(){return A},parseSizesInput:function(){return O},parseGPTSingleSizeArray:function(){return k},parseGPTSingleSizeArrayToRtbSize:function(){return R},getWindowTop:function(){return U},getWindowSelf:function(){return D},getWindowLocation:function(){return j},logMessage:function(){return B},logInfo:function(){return N},logWarn:function(){return q},logError:function(){return M},prefixLog:function(){return Z},hasConsoleLogger:function(){return z},debugTurnedOn:function(){return F},createInvisibleIframe:function(){return W},getParameterByName:function(){return V},isA:function(){return L},isFn:function(){return G},isStr:function(){return K},isArray:function(){return X},isNumber:function(){return H},isPlainObject:function(){return Y},isBoolean:function(){return J},isEmpty:function(){return $},isEmptyStr:function(){return Q},_each:function(){return ee},contains:function(){return te},_map:function(){return re},hasOwn:function(){return ne},insertElement:function(){return ie},waitForElementToLoad:function(){return oe},triggerPixel:function(){return ae},callBurl:function(){return se},insertHtmlIntoIframe:function(){return de},insertUserSyncIframe:function(){return ce},createTrackPixelHtml:function(){return ue},createTrackPixelIframeHtml:function(){return pe},getValueString:function(){return le},uniques:function(){return fe},flatten:function(){return me},getBidRequest:function(){return ge},getKeys:function(){return ve},getValue:function(){return he},getKeyByValue:function(){return be},getBidderCodes:function(){return ye},isGptPubadsDefined:function(){return Ie},isApnGetTagDefined:function(){return Ee},getHighestCpm:function(){return Te},getOldestHighestCpmBid:function(){return we},getLatestHighestCpmBid:function(){return xe},shuffle:function(){return Ce},adUnitsFilter:function(){return _e},deepClone:function(){return Ae},inIframe:function(){return Oe},isSafariBrowser:function(){return ke},replaceAuctionPrice:function(){return Re},replaceClickThrough:function(){return Pe},timestamp:function(){return Ue},getPerformanceNow:function(){return De},hasDeviceAccess:function(){return je},checkCookieSupport:function(){return Be},delayExecution:function(){return Ne},groupBy:function(){return qe},getDefinedParams:function(){return Me},isValidMediaTypes:function(){return Ze},getUserConfiguredParams:function(){return ze},getOrigin:function(){return Fe},getDNT:function(){return We},isAdUnitCodeMatchingSlot:function(){return Le},isSlotMatchingAdUnitCode:function(){return Ge},getGptSlotInfoForAdUnitCode:function(){return Ke},unsupportedBidderMessage:function(){return Xe},isInteger:function(){return He},convertCamelToUnderscore:function(){return Ye},cleanObj:function(){return Je},pick:function(){return $e},transformBidderParamKeywords:function(){return Qe},convertTypes:function(){return et},isArrayOfNums:function(){return tt},fill:function(){return rt},chunk:function(){return nt},getMinValueFromArray:function(){return it},getMaxValueFromArray:function(){return ot},compareOn:function(){return at},parseQS:function(){return st},formatQS:function(){return dt},parseUrl:function(){return ct},buildUrl:function(){return ut},deepEqual:function(){return pt},mergeDeep:function(){return lt},cyrb53Hash:function(){return ft}});var n,i=r(8273),o=r(7079),a=r.n(o),s=r(3596),d=r(265),c=r(4806),u=r(1999),p=Object.prototype.toString,l=!!window.console,f=!(!l||!window.console.log),m=(!l||window.console.info,!l||window.console.warn,!l||window.console.error,function(){return null==n&&(n=r(8078)),n.emit.apply(n,arguments)}),g={checkCookieSupport:Be,createTrackPixelIframeHtml:pe,getWindowSelf:D,getWindowTop:U,getWindowLocation:j,insertUserSyncIframe:ce,insertElement:ie,isFn:G,triggerPixel:ae,logError:M,logWarn:q,logMessage:B,logInfo:N,parseQS:st,formatQS:dt,deepEqual:pt},v={};function h(){return v}var b,y={},I=function(e,t){return t}.bind(null,1,y)()===y?Function.prototype.bind:function(e){var t=this,r=Array.prototype.slice.call(arguments,1);return function(){return t.apply(e,r.concat(Array.prototype.slice.call(arguments)))}},E=(b=0,function(){return++b});function T(){return E()+Math.random().toString(16).substr(2)}function w(e){return e?(e^(window&&window.crypto&&window.crypto.getRandomValues?crypto.getRandomValues(new Uint8Array(1))[0]%16:16*Math.random())>>e/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,w)}function x(e,t){return t&&t[e]?t[e]:""}function S(e,t,r){return r?e+t+"="+encodeURIComponent(r)+"&":e}function C(e){var t="";for(var r in e)e.hasOwnProperty(r)&&(t+=r+"="+encodeURIComponent(e[r])+"&");return t=t.replace(/&$/,"")}function _(e){return e&&0<Object.getOwnPropertyNames(e).length?ve(e).map((function(t){return t+"="+encodeURIComponent(he(e,t))})).join("&"):""}function A(e){if(e){var t=[];if(e.mediaTypes&&e.mediaTypes.banner&&Array.isArray(e.mediaTypes.banner.sizes)){var r=e.mediaTypes.banner.sizes;Array.isArray(r[0])?t=r:t.push(r)}else Array.isArray(e.sizes)&&(Array.isArray(e.sizes[0])?t=e.sizes:t.push(e.sizes));return t}}function O(e){var t=[];if("string"==typeof e){var r=e.split(",");if(r)for(var n in r)ne(r,n)&&r[n].match(/^(\d)+x(\d)+$/i)&&t.push(r[n])}else if("object"==typeof e){var i=e.length;if(0<i)if(2===i&&"number"==typeof e[0]&&"number"==typeof e[1])t.push(k(e));else for(var o=0;o<i;o++)t.push(k(e[o]))}return t}function k(e){if(P(e))return e[0]+"x"+e[1]}function R(e){if(P(e))return{w:e[0],h:e[1]}}function P(e){return X(e)&&2===e.length&&!isNaN(e[0])&&!isNaN(e[1])}function U(){return window.top}function D(){return window.self}function j(){return window.location}function B(){F()}function N(){F()}function q(){F(),m(u.EVENTS.AUCTION_DEBUG,{type:"WARNING",arguments:arguments})}function(){}function Z(e){function t(t){return function(){for(var r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(void 0,[e].concat(n))}}return{logError:t(M),logWarn:t(q),logMessage:t(B),logInfo:t(N)}}function z(){return f}function F(){return!!i.vc.getConfig("debug")}function W(){var e=document.createElement("iframe");return e.id=T(),e.height=0,e.width=0,e.border="0px",e.hspace="0",e.vspace="0",e.marginWidth="0",e.marginHeight="0",e.style.border="0",e.scrolling="no",e.frameBorder="0",e.src="about:blank",e.style.display="none",e}function V(e){return st(j().search)[e]||""}function L(e,t){return p.call(e)==="[object "+t+"]"}function G(e){return L(e,"Function")}function K(e){return L(e,"String")}function X(e){return L(e,"Array")}function H(e){return L(e,"Number")}function Y(e){return L(e,"Object")}function J(e){return L(e,"Boolean")}function $(e){if(!e)return!0;if(X(e)||K(e))return!(0<e.length);for(var t in e)if(hasOwnProperty.call(e,t))return!1;return!0}function Q(e){return K(e)&&(!e||0===e.length)}function ee(e,t){if(!$(e)){if(G(e.forEach))return e.forEach(t,this);var r=0,n=e.length;if(0<n)for(;r<n;r++)t(e[r],r,e);else for(r in e)hasOwnProperty.call(e,r)&&t.call(this,e[r],r)}}function te(e,t){if($(e))return!1;if(G(e.indexOf))return-1!==e.indexOf(t);for(var r=e.length;r--;)if(e[r]===t)return!0;return!1}function re(e,t){if($(e))return[];if(G(e.map))return e.map(t);var r=[];return ee(e,(function(n,i){r.push(t(n,i,e))})),r}function ne(e,t){return e.hasOwnProperty?e.hasOwnProperty(t):void 0!==e[t]&&e.constructor.prototype[t]!==e[t]}function ie(e,t,r,n){t=t||document;var i=r?t.getElementsByTagName(r):t.getElementsByTagName("head");try{if((i=i.length?i:t.getElementsByTagName("body")).length){i=i[0];var o=n?null:i.firstChild;return i.insertBefore(e,o)}}catch(e){}}function oe(e,t){var r=null;return new Promise((function(n){var i=function(){e.removeEventListener("load",i),e.removeEventListener("error",i),null!=r&&window.clearTimeout(r),n()};e.addEventListener("load",i),e.addEventListener("error",i),null!=t&&(r=window.setTimeout(i,t))}))}function ae(e,t,r){var n=new Image;t&&g.isFn(t)&&oe(n,r).then(t),n.src=e}function se(e){var t=e.source,r=e.burl;t===u.S2S.SRC&&r&&g.triggerPixel(r)}function de(e){if(e){var t=document.createElement("iframe");t.id=T(),t.width=0,t.height=0,t.hspace="0",t.vspace="0",t.marginWidth="0",t.marginHeight="0",t.style.display="none",t.style.height="0px",t.style.width="0px",t.scrolling="no",t.frameBorder="0",t.allowtransparency="true",g.insertElement(t,document,"body"),t.contentWindow.document.open(),t.contentWindow.document.write(e),t.contentWindow.document.close()}}function ce(e,t,r){var n=g.createTrackPixelIframeHtml(e,!1,"allow-scripts allow-same-origin"),i=document.createElement("div");i.innerHTML=n;var o=i.firstChild;t&&g.isFn(t)&&oe(o,r).then(t),g.insertElement(o,document,"html",!0)}function ue(e){if(!e)return"";var t='<div style="position:absolute;left:0px;top:0px;visibility:hidden;">';return t+='<img src="'+encodeURI(e)+'"></div>'}function pe(e,t,r){return void 0===t&&(t=!0),void 0===r&&(r=""),e?(t&&(e=encodeURI(e)),r&&(r='sandbox="'+r+'"'),"<iframe "+r+' id="'+T()+'"\n      frameborder="0"\n      allowtransparency="true"\n      marginheight="0" marginwidth="0"\n      width="0" hspace="0" vspace="0" height="0"\n      style="height:0px;width:0px;display:none;"\n      scrolling="no"\n      src="'+e+'">\n    </iframe>'):""}function le(e,t,r){return null==t?r:K(t)?t:H(t)?t.toString():void g.logWarn("Unsuported type for param: "+e+" required type: String")}function fe(e,t,r){return r.indexOf(e)===t}function me(e,t){return e.concat(t)}function ge(e,t){var r;if(e)return t.some((function(t){var n=(0,s.sE)(t.bids,(function(t){return["bidId","adId","bid_id"].some((function(r){return t[r]===e}))}));return n&&(r=n),n})),r}function ve(e){return Object.keys(e)}function he(e,t){return e[t]}function be(e,t){for(var r in e)if(e.hasOwnProperty(r)&&e[r]===t)return r}function ye(e){return void 0===e&&(e=pbjs.adUnits),e.map((function(e){return e.bids.map((function(e){return e.bidder})).reduce(me,[])})).reduce(me,[]).filter(fe)}function Ie(){if(window.googletag&&G(window.googletag.pubads)&&G(window.googletag.pubads().getSlots))return!0}function Ee(){if(window.apntag&&G(window.apntag.getTag))return!0}var Te=Se("timeToRespond",(function(e,t){return e>t})),we=Se("responseTimestamp",(function(e,t){return e>t})),xe=Se("responseTimestamp",(function(e,t){return e<t}));function Se(e,t){return function(r,n){return r.cpm===n.cpm?t(r[e],n[e])?n:r:r.cpm<n.cpm?n:r}}function Ce(e){for(var t=e.length;0<t;){var r=Math.floor(Math.random()*t),n=e[--t];e[t]=e[r],e[r]=n}return e}function _e(e,t){return(0,s.q9)(e,t&&t.adUnitCode)}function Ae(e){return a()(e)}function Oe(){try{return g.getWindowSelf()!==g.getWindowTop()}catch(e){return!0}}function ke(){return/^((?!chrome|android|crios|fxios).)*safari/i.test(navigator.userAgent)}function Re(e,t){return e?e.replace(/\$\{AUCTION_PRICE\}/g,t):void 0}function Pe(e,t){return e&&t&&"string"==typeof t?e.replace(/\${CLICKTHROUGH}/g,t):void 0}function Ue(){return(new Date).getTime()}function De(){return window.performance&&window.performance.now&&window.performance.now()||0}function je(){return!1!==i.vc.getConfig("deviceAccess")}function Be(){if(window.navigator.cookieEnabled||document.cookie.length)return!0}function Ne(e,t){if(1>t)throw new Error("numRequiredCalls must be a positive number. Got "+t);var r=0;return function(){++r===t&&e.apply(this,arguments)}}function qe(e,t){return e.reduce((function(e,r){return(e[r[t]]=e[r[t]]||[]).push(r),e}),{})}function Me(e,t){return t.filter((function(t){return e[t]})).reduce((function(t,r){var n;return Object.assign(t,((n={})[r]=e[r],n))}),{})}function Ze(e){var t=["banner","native","video"];return!!Object.keys(e).every((function(e){return(0,s.q9)(t,e)}))&&(!(e.video&&e.video.context)||(0,s.q9)(["instream","outstream","adpod"],e.video.context))}function ze(e,t,r){return e.filter((function(e){return e.code===t})).map((function(e){return e.bids})).reduce(me,[]).filter((function(e){return e.bidder===r})).map((function(e){return e.params||{}}))}function Fe(){return window.location.origin?window.location.origin:window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")}function We(){return"1"===navigator.doNotTrack||"1"===window.doNotTrack||"1"===navigator.msDoNotTrack||"yes"===navigator.doNotTrack}var Ve=function(e,t){return e.getAdUnitPath()===t||e.getSlotElementId()===t};function Le(e){return function(t){return Ve(e,t)}}function Ge(e){return function(t){return Ve(t,e)}}function Ke(e){var t;return Ie()&&(t=(0,s.sE)(window.googletag.pubads().getSlots(),Ge(e))),t?{gptSlot:t.getAdUnitPath(),divId:t.getSlotElementId()}:{}}function Xe(e,t){var r=Object.keys(e.mediaTypes||{banner:"banner"}).join(", ");return"\n    "+e.code+" is a "+r+" ad unit\n    containing bidders that don't support "+r+": "+t+".\n    This bidder won't fetch demand.\n  "}function He(e){return Number.isInteger?Number.isInteger(e):"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}function Ye(e){return e.replace(/(?:^|\.?)([A-Z])/g,(function(e,t){return"_"+t.toLowerCase()})).replace(/^_/,"")}function Je(e){return Object.keys(e).reduce((function(t,r){return void 0!==e[r]&&(t[r]=e[r]),t}),{})}function $e(e,t){return"object"==typeof e?t.reduce((function(r,n,i){if("function"==typeof n)return r;var o=n,a=n.match(/^(.+?)\sas\s(.+?)$/i);a&&(n=a[1],o=a[2]);var s=e[n];return"function"==typeof t[i+1]&&(s=t[i+1](s,r)),void 0!==s&&(r[o]=s),r}),{}):{}}function Qe(e,t){void 0===t&&(t="keywords");var r=[];return ee(e,(function(e,n){if(X(e)){var i=[];ee(e,(function(e){((e=le(t+"."+n,e))||""===e)&&i.push(e)})),e=i}else{if(!K(e=le(t+"."+n,e)))return;e=[e]}r.push({key:n,value:e})})),r}function et(e,t){return Object.keys(e).forEach((function(r){var n,i;t[r]&&(t[r]=G(e[r])?e[r](t[r]):(n=e[r],i=t[r],"string"===n?i&&i.toString():"number"===n?+i:i),isNaN(t[r])&&delete t.key)})),t}function tt(e,t){return X(e)&&(!t||e.length===t)&&e.every((function(e){return He(e)}))}function rt(e,t){for(var r,n=[],i=0;i<t;i++)r=Y(e)?Ae(e):e,n.push(r);return n}function nt(e,t){for(var r=[],n=0;n<Math.ceil(e.length/t);n++){var i=n*t;r.push(e.slice(i,i+t))}return r}function it(e){return Math.min.apply(Math,e)}function ot(e){return Math.max.apply(Math,e)}function at(e){return function(t,r){return t[e]<r[e]?1:t[e]>r[e]?-1:0}}function st(e){return e?e.replace(/^\?/,"").split("&").reduce((function(e,t){var r=t.split("="),n=r[0],i=r[1];return/\[\]$/.test(n)?(e[n=n.replace("[]","")]=e[n]||[],e[n].push(i)):e[n]=i||"",e}),{}):{}}function dt(e){return Object.keys(e).map((function(t){return Array.isArray(e[t])?e[t].map((function(e){return t+"[]="+e})).join("&"):t+"="+e[t]})).join("&")}function ct(e,t){var r=document.createElement("a");r.href=t&&"noDecodeWholeURL"in t&&t.noDecodeWholeURL?e:decodeURIComponent(e);var n=t&&"decodeSearchAsString"in t&&t.decodeSearchAsString;return{href:r.href,protocol:(r.protocol||"").replace(/:$/,""),hostname:r.hostname,port:+r.port,pathname:r.pathname.replace(/^(?!\/)/,"/"),search:n?r.search:g.parseQS(r.search||""),hash:(r.hash||"").replace(/^#/,""),host:r.host||window.location.host}}function ut(e){return(e.protocol||"http")+"://"+(e.host||e.hostname+(e.port?":"+e.port:""))+(e.pathname||"")+(e.search?"?"+g.formatQS(e.search||""):"")+(e.hash?"#"+e.hash:"")}function pt(e,t,r){var n=(void 0===r?{}:r).checkTypes,i=void 0!==n&&n;if(e===t)return!0;if("object"==typeof e&&null!==e&&"object"==typeof t&&null!==t&&(!i||e.constructor===t.constructor)){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var o in e){if(!t.hasOwnProperty(o))return!1;if(!pt(e[o],t[o],{checkTypes:i}))return!1}return!0}return!1}function lt(e){for(var t=arguments.length,r=Array(1<t?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];if(!r.length)return e;var i=r.shift();if(Y(e)&&Y(i)){var o=function(t){var r;if(Y(i[t]))e[t]||Object.assign(e,((r={})[t]={},r)),lt(e[t],i[t]);else if(X(i[t]))if(e[t])X(e[t])&&i[t].forEach((function(r){for(var n=1,i=0;i<e[t].length;i++)if(pt(e[t][i],r)){n=0;break}n&&e[t].push(r)}));else{var n;Object.assign(e,((n={})[t]=[].concat(i[t]),n))}else{var o;Object.assign(e,((o={})[t]=i[t],o))}};for(var a in i)o(a)}return lt.apply(void 0,[e].concat(r))}function ft(e,t){void 0===t&&(t=0);for(var r,n=function(e,t){if(G(Math.imul))return Math.imul(e,t);var r=(4194303&e)*(t|=0);return 4290772992&e&&(r+=0|(4290772992&e)*t),0|r},i=3735928559^t,o=1103547991^t,a=0;a<e.length;a++)i=n(i^(r=e.charCodeAt(a)),2654435761),o=n(o^r,1597334677);return i=n(i^i>>>16,2246822507)^n(o^o>>>13,3266489909),(4294967296*(2097151&(o=n(o^o>>>16,2246822507)^n(i^i>>>13,3266489909)))+(i>>>0)).toString()}},5329:function(e,t,r){"use strict";r.d(t,{gZ:function(){return d},LD:function(){return c},Dn:function(){return u}});var n=r(265),i=r(8376),o=r(8273),a=r(4906),s=r(1371),d="outstream",c="instream";function u(e,t){var r=(void 0===t?{}:t).index,i=void 0===r?s.K.index:r,o=(0,n.Z)(i.getMediaTypes(e),"video"),a=o&&(0,n.Z)(o,"context"),d=i.getAdUnit(e);return p(e,d,o,a)}var p=(0,a.z3)("sync",(function(e,t,r,n){return r&&n!==d?o.vc.getConfig("cache.url")||!e.vastXml||e.vastUrl?!(!e.vastUrl&&!e.vastXml):((0,i.logError)('\n        This bid contains only vastXml and will not work when a prebid cache url is not specified.\n        Try enabling prebid cache with pbjs.setConfig({ cache: {url: "..."} });\n      '),!1):n!==d||!!(e.renderer||t&&t.renderer||r.renderer)}),"checkVideoBidSetup")},265:function(e,t,r){"use strict";function n(e,t,r,n,i){for(t=t.split?t.split("."):t,n=0;n<t.length;n++)e=e?e[t[n]]:i;return e===i?r:e}r.d(t,{Z:function(){return n}})},4806:function(e,t,r){"use strict";function n(e,t,r){t.split&&(t=t.split("."));for(var n,i=0,o=t.length,a=e;i<o;++i)n=a[t[i]],a=a[t[i]]=i===o-1?r:null!=n?n:!~t[i+1].indexOf(".")&&+t[i+1]>-1?[]:{}}r.d(t,{Z:function(){return n}})},1432:function(e){a.SYNC=1,a.ASYNC=2,a.QUEUE=4;var t=Object.freeze({useProxy:!0,ready:0}),r=new WeakMap,n="2,1,0"===[1].reduce((function(e,t,r){return[e,t,r]}),2).toString()?Array.prototype.reduce:function(e,t){var r,n=Object(this),i=n.length>>>0,o=0;if(t)r=t;else{for(;o<i&&!(o in n);)o++;r=n[o++]}for(;o<i;)o in n&&(r=e(r,n[o],o,n)),o++;return r};function i(e,t){return Array.prototype.slice.call(e,t)}var o=Object.assign||function(e){return n.call(i(arguments,1),(function(e,t){return t&&Object.keys(t).forEach((function(r){e[r]=t[r]})),e}),e)};function a(e){var s,d={},c=[];function u(e,t){return"function"==typeof e?m.call(null,"sync",e,t):"string"==typeof e&&"function"==typeof t?m.apply(null,arguments):"object"==typeof e?p.apply(null,arguments):void 0}function p(e,t,r){var n=!0;void 0===t&&(t=Object.getOwnPropertyNames(e),n=!1);var i={},o=["constructor"];do{(t=t.filter((function(t){return!("function"!=typeof e[t]||-1!==o.indexOf(t)||t.match(/^_/))}))).forEach((function(t){var n=t.split(":"),o=n[0],a=n[1]||"sync";if(!i[o]){var s=e[o];i[o]=e[o]=m(a,s,r?[r,o]:void 0)}})),e=Object.getPrototypeOf(e)}while(n&&e);return i}function l(e){var t=Array.isArray(e)?e:e.split(".");return n.call(t,(function(e,r,n){var i=e[r];return i||(n===t.length-1?(s||c.push((function(){})),e[r]=f((function(t){e[r]=t,!0}))):e[r]={})}),d)}function(){}function(){}return(e=o({},t,e)).ready?u.ready=function(){s=!0,function(e){for(var t;t=e.shift();)t()}(c)}:s=!0,u.get=l,u}e.exports=a},7079:function(e){e.exports=function e(t){var r=Array.isArray(t)?[]:{};for(var n in t){var i=t[n];r[n]=i&&"object"==typeof i?e(i):i}return r}},187:function(e,t,r){"use strict";function n(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}r.d(t,{Z:function(){return n}})},2577:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=0;function i(e){return"__private_"+n+++"_"+e}},3223:function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}r.d(t,{Z:function(){return i}})},7040:function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?Object(arguments[t]):{},i=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&i.push.apply(i,Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),i.forEach((function(t){n(e,t,r[t])}))}return e}r.d(t,{Z:function(){return i}})},1999:function(e){"use strict";e.exports=JSON.parse('{"JSON_MAPPING":{"PL_CODE":"code","PL_SIZE":"sizes","PL_BIDS":"bids","BD_BIDDER":"bidder","BD_ID":"paramsd","BD_PL_ID":"placementId","ADSERVER_TARGETING":"adserverTargeting","BD_SETTING_STANDARD":"standard"},"DEBUG_MODE":"pbjs_debug","STATUS":{"GOOD":1,"NO_BID":2},"CB":{"TYPE":{"ALL_BIDS_BACK":"allRequestedBidsBack","AD_UNIT_BIDS_BACK":"adUnitBidsBack","BID_WON":"bidWon","REQUEST_BIDS":"requestBids"}},"EVENTS":{"AUCTION_INIT":"auctionInit","AUCTION_END":"auctionEnd","BID_ADJUSTMENT":"bidAdjustment","BID_TIMEOUT":"bidTimeout","BID_REQUESTED":"bidRequested","BID_RESPONSE":"bidResponse","NO_BID":"noBid","BID_WON":"bidWon","BIDDER_DONE":"bidderDone","BIDDER_ERROR":"bidderError","SET_TARGETING":"setTargeting","BEFORE_REQUEST_BIDS":"beforeRequestBids","BEFORE_BIDDER_HTTP":"beforeBidderHttp","REQUEST_BIDS":"requestBids","ADD_AD_UNITS":"addAdUnits","AD_RENDER_FAILED":"adRenderFailed","AD_RENDER_SUCCEEDED":"adRenderSucceeded","TCF2_ENFORCEMENT":"tcf2Enforcement","AUCTION_DEBUG":"auctionDebug","BID_VIEWABLE":"bidViewable","STALE_RENDER":"staleRender","BILLABLE_EVENT":"billableEvent"},"AD_RENDER_FAILED_REASON":{"PREVENT_WRITING_ON_MAIN_DOCUMENT":"preventWritingOnMainDocument","NO_AD":"noAd","EXCEPTION":"exception","CANNOT_FIND_AD":"cannotFindAd","MISSING_DOC_OR_ADID":"missingDocOrAdid"},"EVENT_ID_PATHS":{"bidWon":"adUnitCode"},"GRANULARITY_OPTIONS":{"LOW":"low","MEDIUM":"medium","HIGH":"high","AUTO":"auto","DENSE":"dense","CUSTOM":"custom"},"TARGETING_KEYS":{"BIDDER":"hb_bidder","AD_ID":"hb_adid","PRICE_BUCKET":"hb_pb","SIZE":"hb_size","DEAL":"hb_deal","SOURCE":"hb_source","FORMAT":"hb_format","UUID":"hb_uuid","CACHE_ID":"hb_cache_id","CACHE_HOST":"hb_cache_host","ADOMAIN":"hb_adomain"},"DEFAULT_TARGETING_KEYS":{"BIDDER":"hb_bidder","AD_ID":"hb_adid","PRICE_BUCKET":"hb_pb","SIZE":"hb_size","DEAL":"hb_deal","FORMAT":"hb_format","UUID":"hb_uuid","CACHE_HOST":"hb_cache_host"},"NATIVE_KEYS":{"title":"hb_native_title","body":"hb_native_body","body2":"hb_native_body2","privacyLink":"hb_native_privacy","privacyIcon":"hb_native_privicon","sponsoredBy":"hb_native_brand","image":"hb_native_image","icon":"hb_native_icon","clickUrl":"hb_native_linkurl","displayUrl":"hb_native_displayurl","cta":"hb_native_cta","rating":"hb_native_rating","address":"hb_native_address","downloads":"hb_native_downloads","likes":"hb_native_likes","phone":"hb_native_phone","price":"hb_native_price","salePrice":"hb_native_saleprice","rendererUrl":"hb_renderer_url","adTemplate":"hb_adTemplate"},"S2S":{"SRC":"s2s","DEFAULT_ENDPOINT":"https://prebid.adnxs.com/pbs/v1/openrtb2/auction","SYNCED_BIDDERS_KEY":"pbjsSyncs"},"BID_STATUS":{"BID_TARGETING_SET":"targetingSet","RENDERED":"rendered","BID_REJECTED":"bidRejected"}}')}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var o=t[n]={exports:{}},a=!0;try{e[n](o,o.exports,r),a=!1}finally{a&&delete t[n]}return o.exports}r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};!function(){"use strict";r.r(n);var e=r(139),t=r(8376),i=r(265),o=r(8078),a=r(3881),s=r(1999),d=r(1371),c=r(3596),u=r(4202),p=r(8273),l=s.EVENTS,f=l.AD_RENDER_FAILED,m=l.AD_RENDER_SUCCEEDED;function g(e){var r=e.reason,n=e.message,i=e.bid,a=e.id,s={reason:r,message:n};i&&(s.bid=i),a&&(s.adId=a),(0,t.logError)(n),o.emit(f,s)}function v(e){var t=e.doc,r=e.bid,n=e.id,i={doc:t};r&&(i.bid=r),n&&(i.adId=n),o.emit(m,i)}var h=s.EVENTS.BID_WON,b=s.EVENTS.STALE_RENDER,y={"Prebid Request":function(e,r,n){if(null==n)return void g({reason:s.AD_RENDER_FAILED_REASON.CANNOT_FIND_AD,message:"Cannot find ad '"+r.adId+"' for cross-origin render request",id:r.adId});if(n.status!==s.BID_STATUS.RENDERED||((0,t.logWarn)("Ad id "+n.adId+" has been rendered before"),o.emit(b,n),!(0,i.Z)(p.vc.getConfig("auctionOptions"),"suppressStaleRender"))){try{!function(e,r){var n=e.adId,i=e.ad,o=e.adUrl,a=e.width,s=e.height,d=e.renderer,c=e.cpm,p=e.originalCpm;(0,u.Pd)(d)?(0,u._U)(d,e):n&&(E(e),r({message:"Prebid Response",ad:(0,t.replaceAuctionPrice)(i,p||c),adUrl:(0,t.replaceAuctionPrice)(o,p||c),adId:n,width:a,height:s}))}(n,e)}catch(e){return void g({reason:s.AD_RENDER_FAILED_REASON.EXCEPTION,message:e.message,id:r.adId,bid:n})}d.K.addWinningBid(n),o.emit(h,n)}},"Prebid Native":function(e,r,n){if(null==n)return void(0,t.logError)("Cannot find ad '"+r.adId+"' for x-origin event request");switch(r.action){case"assetRequest":e((0,a.eK)(r,n));break;case"allAssetRequest":e((0,a.JL)(r,n));break;case"resizeNativeHeight":n.height=r.height,n.width=r.width,E(n);break;default:if("click"===(0,a.e6)(r,n))return;d.K.addWinningBid(n),o.emit(h,n)}},"Prebid Event":function(e,r,n){if(null==n)return void(0,t.logError)("Cannot find ad '"+r.adId+"' for x-origin event request");if(n.status!==s.BID_STATUS.RENDERED)return void(0,t.logWarn)("Received x-origin event request without corresponding render request for ad '"+r.adId+"'");switch(r.event){case s.EVENTS.AD_RENDER_FAILED:g({bid:n,id:r.adId,reason:r.info.reason,message:r.info.message});break;case s.EVENTS.AD_RENDER_SUCCEEDED:v({doc:null,bid:n,id:r.adId});break;default:(0,t.logError)("Received x-origin event request for unsupported event: '"+r.event+"' (adId: '"+r.adId+"')")}}};function I(e){var r=e.message?"message":"data",n={};try{n=JSON.parse(e[r])}catch(e){return}if(n&&n.adId&&n.message){var i=(0,c.sE)(d.K.getBidsReceived(),(function(e){return e.adId===n.adId}));y.hasOwnProperty(n.message)&&y[n.message](function(e){return null==e.origin&&0===e.ports.length?function(){var e="Cannot post message to a frame with null origin. Please update creatives to use MessageChannel, see https://github.com/prebid/Prebid.js/issues/7870";throw(0,t.logError)(e),new Error(e)}:0<e.ports.length?function(t){e.ports[0].postMessage(JSON.stringify(t))}:function(t){e.source.postMessage(JSON.stringify(t),e.origin)}}(e),n,i)}}function E(e){function r(e){var r=function(e,r){return(0,t.isGptPubadsDefined)()?function(e){var t=(0,c.sE)(window.googletag.pubads().getSlots(),(function(t){return(0,c.sE)(t.getTargetingKeys(),(function(r){return(0,c.q9)(t.getTargeting(r),e)}))}));return t?t.getSlotElementId():null}(e):(0,t.isApnGetTagDefined)()?function(e){var t=window.apntag.getTag(e);return t&&t.targetId}(r):r}(n,i),o=document.getElementById(r);return o&&o.querySelector(e)}var n=e.adId,i=e.adUnitCode,o=e.width,a=e.height;["div","iframe"].forEach((function(e){var n=r(e+':not([style*="display: none"])');if(n){var s=n.style;s.width=o+"px",s.height=a+"px"}else(0,t.logWarn)("Unable to locate matching page element for adUnitCode "+i+".  Can't resize it to ad's dimensions.  Please review setup.")}))}var T=r(5690),w=r(4020),x=r(7137),S=r(4906),C=r(6396),_=r(1999),A=[],O="targetingControls.allowTargetingKeys",k="targetingControls.addTargetingKeys",R='Only one of "'+O+'" or "'+k+'" can be set',P=Object.keys(_.TARGETING_KEYS).map((function(e){return _.TARGETING_KEYS[e]})),U=function(e){return e.responseTimestamp+1e3*e.ttl-1e3>(0,t.timestamp)()},D=function(e){return e&&(e.status&&!(0,c.q9)([_.BID_STATUS.RENDERED],e.status)||!e.status)},j=(0,S.z3)("sync",(function(e,r,n,i){if(void 0===n&&(n=0),void 0===i&&(i=!1),!i){var o=[],a=p.vc.getConfig("sendBidsControl.dealPrioritization"),s=(0,t.groupBy)(e,"adUnitCode");return Object.keys(s).forEach((function(e){var i=[],d=(0,t.groupBy)(s[e],"bidderCode");Object.keys(d).forEach((function(e){return i.push(d[e].reduce(r))})),0<n?(i=a?i.sort(B(!0)):i.sort((function(e,t){return t.cpm-e.cpm})),o.push.apply(o,i.slice(0,n))):o.push.apply(o,i)})),o}return e}));function B(e){return void 0===e&&(e=!1),function(t,r){return void 0!==t.adserverTargeting.hb_deal&&void 0===r.adserverTargeting.hb_deal?-1:void 0===t.adserverTargeting.hb_deal&&void 0!==r.adserverTargeting.hb_deal?1:e?r.cpm-t.cpm:r.adserverTargeting.hb_pb-t.adserverTargeting.hb_pb}}var N,q,M=function(e){function r(e,r){return e.adserverTargeting&&r&&((0,t.isArray)(r)&&(0,c.q9)(r,e.adUnitCode)||"string"==typeof r&&e.adUnitCode===r)}function n(e,r){var n=(0,t.deepClone)(e);return Object.keys(n).map((function(e){return{adUnitCode:e,adserverTargeting:n[e]}})).sort(B()).reduce((function(e,i,o,a){var s,d=(s=i.adserverTargeting,Object.keys(s).reduce((function(e,t){return e+(t+"%3d")+encodeURIComponent(s[t])+"%26"}),""));o+1===a.length&&(d=d.slice(0,-3));var c=i.adUnitCode,u=d.length;return u<=r?(r-=u,(0,t.logInfo)("AdUnit '"+c+"' auction keys comprised of "+u+" characters.  Deducted from running threshold; new limit is "+r,n[c]),e[c]=n[c]):(0,t.logWarn)("The following keys for adUnitCode '"+c+"' exceeded the current limit of the 'auctionKeyMaxChars' setting.\nThe key-set size was "+u+", the current allotted amount was "+r+".\n",n[c]),o+1===a.length&&0===Object.keys(e).length&&(0,t.logError)("No auction targeting keys were permitted due to the setting in setConfig(targetingControls.auctionKeyMaxChars).  Please review setup and consider adjusting."),e}),{})}function o(r){return"string"==typeof r?[r]:(0,t.isArray)(r)?r:e.getAdUnitCodes()||[]}function s(){var r=e.getBidsReceived();if(p.vc.getConfig("useBidCache")){var n=p.vc.getConfig("bidCacheFilterFunction");"function"==typeof n&&(r=r.filter((function(e){return b[e.adUnitCode]===e.auctionId||!!n(e)})))}else r=r.filter((function(e){return b[e.adUnitCode]===e.auctionId}));return r=r.filter((function(e){return(0,i.Z)(e,"video.context")!==x.Oh})).filter((function(e){return"banner"!==e.mediaType||(0,w.lO)([e.width,e.height])})).filter(D).filter(U),j(r,t.getOldestHighestCpmBid)}function d(e,t){var r=h.getWinningBids(e,t),n=u();return r=r.map((function(e){var t;return(t={})[e.adUnitCode]=Object.keys(e.adserverTargeting).filter((function(t){return void 0===e.sendStandardTargeting||e.sendStandardTargeting||-1===n.indexOf(t)})).reduce((function(t,r){var n,i=[e.adserverTargeting[r]],o=((n={})[r.substring(0,20)]=i,n);if(r===_.TARGETING_KEYS.DEAL){var a,s=((a={})[(r+"_"+e.bidderCode).substring(0,20)]=i,a);return[].concat(t,[o,s])}return[].concat(t,[o])}),[]),t})),r}function u(){return e.getStandardBidderAdServerTargeting().map((function(e){return e.key})).concat(P).filter(t.uniques)}function l(e,r){return Object.keys(r.adserverTargeting).filter(f()).forEach((function(n){e.length&&e.filter(function(e){return function(t){return t.adUnitCode===r.adUnitCode&&t.adserverTargeting[e]}}(n)).forEach(function(e){return function(n){(0,t.isArray)(n.adserverTargeting[e])||(n.adserverTargeting[e]=[n.adserverTargeting[e]]),n.adserverTargeting[e]=n.adserverTargeting[e].concat(r.adserverTargeting[e]).filter(t.uniques),delete r.adserverTargeting[e]}}(n))})),e.push(r),e}function f(){var e=u().concat(a.xc);return function(t){return-1===e.indexOf(t)}}function m(e){var t;return(t={})[e.adUnitCode]=Object.keys(e.adserverTargeting).filter(f()).map((function(t){var r;return(r={})[t.substring(0,20)]=[e.adserverTargeting[t]],r})),t}function g(e,t){return t.map((function(t){var r;return(r={})[(t+"_"+e.bidderCode).substring(0,20)]=[e.adserverTargeting[t]],r}))}function v(r){function n(e){return(0,i.Z)(e,_.JSON_MAPPING.ADSERVER_TARGETING)}return e.getAdUnits().filter((function(e){return(0,c.q9)(r,e.code)&&n(e)})).map((function(e){var r;return(r={})[e.code]=function(e){var r=n(e);return Object.keys(r).map((function(e){var n;return(0,t.isStr)(r[e])&&(r[e]=r[e].split(",").map((function(e){return e.trim()}))),(0,t.isArray)(r[e])||(r[e]=[r[e]]),(n={})[e]=r[e],n}))}(e),r}))}var h={},b={};return h.setLatestAuctionForAdUnit=function(e,t){b[e]=t},h.resetPresetTargeting=function(r,n){if((0,t.isGptPubadsDefined)()){var i=o(r),a=e.getAdUnits().filter((function(e){return(0,c.q9)(i,e.code)})),s=A.reduce((function(e,t){return e[t]=null,e}),{});window.googletag.pubads().getSlots().forEach((function(e){var r=(0,t.isFn)(n)&&n(e);a.forEach((function(n){(n.code===e.getAdUnitPath()||n.code===e.getSlotElementId()||(0,t.isFn)(r)&&r(n.code))&&e.updateTargetingFromMap(s)}))}))}},h.resetPresetTargetingAST=function(e){o(e).forEach((function(e){var t=window.apntag.getTag(e);if(t&&t.keywords){var r=Object.keys(t.keywords),n={};r.forEach((function(e){(0,c.q9)(A,e.toLowerCase())||(n[e]=t.keywords[e])})),window.apntag.modifyTag(e,{keywords:n})}}))},h.getAllTargeting=function(e,i){void 0===i&&(i=s());var u=o(e),f=d(u,i).concat(function(e,t){return t.filter((function(t){return(0,c.q9)(e,t.adUnitCode)})).map((function(e){return Object.assign({},e)})).reduce(l,[]).map(m).filter((function(e){return e}))}(u,i)).concat(p.vc.getConfig("enableSendAllBids")?function(e,n){var i=P.concat(a.xc),o=p.vc.getConfig("sendBidsControl.bidLimit"),s=j(n,t.getHighestCpm,o),d=p.vc.getConfig("targetingControls.allowSendAllBidsTargetingKeys"),c=d?d.map((function(e){return _.TARGETING_KEYS[e]})):i;return s.map((function(t){var n;if(r(t,e))return(n={})[t.adUnitCode]=g(t,i.filter((function(e){return void 0!==t.adserverTargeting[e]&&-1!==c.indexOf(e)}))),n})).filter((function(e){return e}))}(u,i):function(e,n){if(!0===p.vc.getConfig("targetingControls.alwaysIncludeDeals")){var i=P.concat(a.xc);return j(n,t.getHighestCpm).map((function(t){var n;if(t.dealId&&r(t,e))return(n={})[t.adUnitCode]=g(t,i.filter((function(e){return void 0!==t.adserverTargeting[e]}))),n})).filter((function(e){return e}))}return[]}(u,i)).concat(v(u));f.map((function(e){Object.keys(e).map((function(t){e[t].map((function(e){-1===A.indexOf(Object.keys(e)[0])&&(A=Object.keys(e).concat(A))}))}))}));var h=Object.keys(Object.assign({},_.DEFAULT_TARGETING_KEYS,_.NATIVE_KEYS)),b=p.vc.getConfig(O),y=p.vc.getConfig(k);if(null!=y&&null!=b)throw new Error(R);b=null==y?b||h:h.concat(y),Array.isArray(b)&&0<b.length&&(f=function(e,r){var n=Object.assign({},_.TARGETING_KEYS,_.NATIVE_KEYS),i=Object.keys(n),o={};(0,t.logInfo)("allowTargetingKeys - allowed keys [ "+r.map((function(e){return n[e]})).join(", ")+" ]"),e.map((function(e){var t=Object.keys(e)[0],a=e[t].filter((function(e){var t=Object.keys(e)[0],a=0===i.filter((function(e){return 0===t.indexOf(n[e])})).length||(0,c.sE)(r,(function(e){var r=n[e];return 0===t.indexOf(r)}));return o[t]=!a,a}));e[t]=a}));var a=Object.keys(o).filter((function(e){return o[e]}));return(0,t.logInfo)("allowTargetingKeys - removed keys [ "+a.join(", ")+" ]"),e.filter((function(e){return 0<e[Object.keys(e)[0]].length}))}(f,b)),f=function(e){var t=e.map((function(e){var t;return(t={})[Object.keys(e)[0]]=e[Object.keys(e)[0]].map((function(e){var t;return(t={})[Object.keys(e)[0]]=e[Object.keys(e)[0]].join(","),t})).reduce((function(e,t){return Object.assign(t,e)}),{}),t})).reduce((function(e,t){var r=Object.keys(t)[0];return e[r]=Object.assign({},e[r],t[r]),e}),{});return t}(f);var I=p.vc.getConfig("targetingControls.auctionKeyMaxChars");return I&&((0,t.logInfo)("Detected 'targetingControls.auctionKeyMaxChars' was active for this auction; set with a limit of "+I+" characters.  Running checks on auction keys..."),f=n(f,I)),u.forEach((function(e){f[e]||(f[e]={})})),f},p.vc.getConfig("targetingControls",(function(e){null!=(0,i.Z)(e,O)&&null!=(0,i.Z)(e,k)&&(0,t.logError)(R)})),h.setTargetingForGPT=function(e,r){window.googletag.pubads().getSlots().forEach((function(n){Object.keys(e).filter(r?r(n):(0,t.isAdUnitCodeMatchingSlot)(n)).forEach((function(r){Object.keys(e[r]).forEach((function(t){var n=e[r][t];"string"==typeof n&&-1!==n.indexOf(",")&&(n=n.split(",")),e[r][t]=n})),(0,t.logMessage)("Attempting to set targeting-map for slot: "+n.getSlotElementId()+" with targeting-map:",e[r]),n.updateTargetingFromMap(e[r])}))}))},h.getWinningBids=function(e,r){void 0===r&&(r=s());var n=o(e);return r.filter((function(e){return(0,c.q9)(n,e.adUnitCode)})).filter((function(e){return!0===C.S.get(e.bidderCode,"allowZeroCpmBids")?0<=e.cpm:0<e.cpm})).map((function(e){return e.adUnitCode})).filter(t.uniques).map((function(e){return r.filter((function(t){return t.adUnitCode===e?t:null})).reduce(t.getHighestCpm)}))},h.setTargetingForAst=function(e){var r=h.getAllTargeting(e);try{h.resetPresetTargetingAST(e)}catch(e){(0,t.logError)("unable to reset targeting for AST"+e)}Object.keys(r).forEach((function(e){return Object.keys(r[e]).forEach((function(n){if((0,t.logMessage)("Attempting to set targeting for targetId: "+e+" key: "+n+" value: "+r[e][n]),(0,t.isStr)(r[e][n])||(0,t.isArray)(r[e][n])){var i={};0>n.search(/pt[0-9]/)?i[n.toUpperCase()]=r[e][n]:i[n]=r[e][n],window.apntag.setKeywords(e,i,{overrideKeyValue:!0})}}))}))},h.isApntagDefined=function(){if(window.apntag&&(0,t.isFn)(window.apntag.setKeywords))return!0},h}(d.K),Z=r(9259),z=(0,t.prefixLog)("DEBUG:"),F=z.logWarn,W=z.logMessage,V="pbjs:debugging",L=[function(e){K(),function(e){N=$.bind(e),Z.Yt.before(N,5),q=Q.bind(e),Z.e0.before(q,5)}(e)}],G=[K];function K(){Z.Yt.getHooks({hook:N}).remove(),Z.e0.getHooks({hook:q}).remove()}function X(e,t){void 0===t&&(t=!1),p.vc.setConfig({debug:!0}),L.forEach((function(t){return t(e)})),W("bidder overrides enabled"+(t?" from session":""))}function H(e,t,r){return!(!e.bidder||e.bidder===t)||!(!e.adUnitCode||e.adUnitCode===r)}function Y(e,t){return Array.isArray(e)&&-1===e.indexOf(t)}function J(e,t,r){return Object.keys(e).filter((function(e){return-1===["adUnitCode","bidder"].indexOf(e)})).reduce((function(t,n){return W("bidder overrides changed '"+t.adUnitCode+"/"+t.bidderCode+"' "+r+"."+n+" from '"+t[n]+".js' to '"+e[n]+"'"),t[n]=e[n],t.isDebug=!0,t}),t)}function $(e,t,r){var n=this;return Y(n.bidders,r.bidderCode)?void F("bidder '"+r.bidderCode+"' excluded from auction by bidder overrides"):(Array.isArray(n.bids)&&n.bids.forEach((function(e){H(e,r.bidderCode,t)||J(e,r,"bidder")})),void e(t,r))}function Q(e,t){var r=this,n=t.filter((function(e){return!Y(r.bidders,e.bidderCode)||(F("bidRequest '"+e.bidderCode+"' excluded from auction by bidder overrides"),!1)}));Array.isArray(r.bidRequests)&&n.forEach((function(e){r.bidRequests.forEach((function(t){e.bids.forEach((function(r){H(t,e.bidderCode,r.adUnitCode)||J(t,r,"bidRequest")}))}))})),e(n)}var ee=(0,S.z3)("sync",(function(e,t){var r=(void 0===t?{}:t).sessionStorage,n=void 0===r?window.sessionStorage:r;if(e.enabled)try{n.setItem(V,JSON.stringify(e))}catch(e){}else try{n.removeItem(V)}catch(e){}}));function te(e,t){var r=(void 0===t?{}:t).sessionStorage,n=void 0===r?window.sessionStorage:r;ee(e,{sessionStorage:n}),e.enabled?X(e):(G.forEach((function(e){return e()})),W("bidder overrides disabled"))}p.vc.getConfig("debugging",(function(e){return te(e.debugging)}));var re=r(8160),ne=r(3654),ie=r(4513),oe=r(4732),ae=(0,e.R)(),se=r(1999),de=r(4732).ZP,ce=r(8078),ue=T.k_.triggerUserSyncs,pe=se.EVENTS,le=pe.ADD_AD_UNITS,fe=pe.BID_WON,me=pe.REQUEST_BIDS,ge=pe.SET_TARGETING,ve=pe.STALE_RENDER,he=se.AD_RENDER_FAILED_REASON,be=he.PREVENT_WRITING_ON_MAIN_DOCUMENT,ye=he.NO_AD,Ie=he.EXCEPTION,Ee=he.CANNOT_FIND_AD,Te=he.MISSING_DOC_OR_ADID,we={bidWon:function(e){var r=d.K.getBidsRequested().map((function(e){return e.bids.map((function(e){return e.adUnitCode}))})).reduce(t.flatten).filter(t.uniques);return!!(0,t.contains)(r,e)||void(0,t.logError)('The "'+e+'" placement is not defined.')}};function xe(e,t,r){e.defaultView&&e.defaultView.frameElement&&(e.defaultView.frameElement.width=t,e.defaultView.frameElement.height=r)}function Se(e,r){var n=[];return(0,t.isArray)(e)&&(r?e.length===r:0<e.length)&&(e.every((function(e){return(0,t.isArrayOfNums)(e,2)}))?n=e:(0,t.isArrayOfNums)(e,2)&&n.push(e)),n}function Ce(e){var r=(0,t.deepClone)(e),n=r.mediaTypes.banner,i=Se(n.sizes);return 0<i.length?(n.sizes=i,r.sizes=i):((0,t.logError)("Detected a mediaTypes.banner object without a proper sizes field.  Please ensure the sizes are listed like: [[300, 250], ...].  Removing invalid mediaTypes.banner object from request."),delete r.mediaTypes.banner),r}function _e(e){var r=(0,t.deepClone)(e),n=r.mediaTypes.video;if(n.playerSize){var i="number"==typeof n.playerSize[0]?2:1,o=Se(n.playerSize,i);0<o.length?(2===i&&(0,t.logInfo)("Transforming video.playerSize from [640,480] to [[640,480]] so it's in the proper format."),n.playerSize=o,r.sizes=o):((0,t.logError)("Detected incorrect configuration of mediaTypes.video.playerSize.  Please specify only one set of dimensions in a format like: [[640, 480]]. Removing invalid mediaTypes.video.playerSize property from request."),delete r.mediaTypes.video.playerSize)}return r}function Ae(e){var r=(0,t.deepClone)(e),n=r.mediaTypes.native;return n.image&&n.image.sizes&&!Array.isArray(n.image.sizes)&&((0,t.logError)("Please use an array of sizes for native.image.sizes field.  Removing invalid mediaTypes.native.image.sizes property from request."),delete r.mediaTypes.native.image.sizes),n.image&&n.image.aspect_ratios&&!Array.isArray(n.image.aspect_ratios)&&((0,t.logError)("Please use an array of sizes for native.image.aspect_ratios field.  Removing invalid mediaTypes.native.image.aspect_ratios property from request."),delete r.mediaTypes.native.image.aspect_ratios),n.icon&&n.icon.sizes&&!Array.isArray(n.icon.sizes)&&((0,t.logError)("Please use an array of sizes for native.icon.sizes field.  Removing invalid mediaTypes.native.icon.sizes property from request."),delete r.mediaTypes.native.icon.sizes),r}function Oe(e,r){var n=(0,i.Z)(e,"mediaTypes."+r+".pos");if(!(0,t.isNumber)(n)||isNaN(n)||!isFinite(n)){var o="Value of property 'pos' on ad unit "+e.code+" should be of type: Number";(0,t.logWarn)(o),ce.emit(se.EVENTS.AUCTION_DEBUG,{type:"WARNING",arguments:o}),delete e.mediaTypes[r].pos}return e}function ke(e){var r=function(t){return"adUnit.code '"+e.code+"' "+t},n=e.mediaTypes,i=e.bids;return null==i||(0,t.isArray)(i)?null==i&&null==e.ortb2Imp?((0,t.logError)(r("has no 'adUnit.bids' and no 'adUnit.ortb2Imp'. Removing adUnit from auction")),null):n&&0!==Object.keys(n).length?(null!=e.ortb2Imp&&(null==i||0===i.length)&&(e.bids=[{bidder:null}],(0,t.logMessage)(r("defines 'adUnit.ortb2Imp' with no 'adUnit.bids'; it will be seen only by S2S adapters"))),e):((0,t.logError)(r("does not define a 'mediaTypes' object.  This is a required field for the auction, so this adUnit has been removed.")),null):((0,t.logError)(r("defines 'adUnit.bids' that is not an array. Removing adUnit from auction")),null)}(function(e){var t;try{e=e||window.sessionStorage,t=JSON.parse(e.getItem(V))}catch(e){}t&&X(t,!0)})(),ae.bidderSettings=ae.bidderSettings||{},ae.libLoaded=!0,ae.version="v6.19.0",(0,t.logInfo)("Prebid.js v6.19.0 loaded"),ae.installedModules=ae.installedModules||[],ae.adUnits=ae.adUnits||[],ae.triggerUserSyncs=ue;var Re=(0,S.z3)("sync",(function(e){var t=[];return e.forEach((function(e){if(null!=(e=ke(e))){var r,n,i,o=e.mediaTypes;o.banner&&(r=Ce(e),o.banner.hasOwnProperty("pos")&&(r=Oe(r,"banner"))),o.video&&(n=_e(r||e),o.video.hasOwnProperty("pos")&&(n=Oe(n,"video"))),o.native&&(i=Ae(n||(r||e)));var a=Object.assign({},r,n,i);t.push(a)}})),t}),"checkAdUnitSetup");function Pe(e){var r=d.K[e]().filter(t.bind.call(t.adUnitsFilter,this,d.K.getAdUnitCodes())),n=d.K.getLastAuctionId();return r.map((function(e){return e.adUnitCode})).filter(t.uniques).map((function(e){return r.filter((function(t){return t.auctionId===n&&t.adUnitCode===e}))})).filter((function(e){return e&&e[0]&&e[0].adUnitCode})).map((function(e){var t;return(t={})[e[0].adUnitCode]={bids:e},t})).reduce((function(e,t){return Object.assign(e,t)}),{})}function Ue(e,r,n){var i=r.querySelector(n);e.parentNode&&e.parentNode===i||(0,t.insertElement)(e,r,n)}ae.getAdserverTargetingForAdUnitCodeStr=function(e){if((0,t.logInfo)("Invoking pbjs.getAdserverTargetingForAdUnitCodeStr",arguments),e){var r=ae.getAdserverTargetingForAdUnitCode(e);return(0,t.transformAdServerTargetingObj)(r)}(0,t.logMessage)("Need to call getAdserverTargetingForAdUnitCodeStr with adunitCode")},ae.getHighestUnusedBidResponseForAdUnitCode=function(e){if(e){var r=d.K.getAllBidsForAdUnitCode(e).filter(D).filter(U);return r.length?r.reduce(t.getHighestCpm):{}}(0,t.logMessage)("Need to call getHighestUnusedBidResponseForAdUnitCode with adunitCode")},ae.getAdserverTargetingForAdUnitCode=function(e){return ae.getAdserverTargeting(e)[e]},ae.getAdserverTargeting=function(e){return(0,t.logInfo)("Invoking pbjs.getAdserverTargeting",arguments),M.getAllTargeting(e)},ae.getConsentMetadata=function(){return(0,t.logInfo)("Invoking pbjs.getConsentMetadata"),{gdpr:oe.rp.getConsentMeta(),usp:oe.nX.getConsentMeta(),coppa:!!p.vc.getConfig("coppa")}},ae.getNoBids=function(){return(0,t.logInfo)("Invoking pbjs.getNoBids",arguments),Pe("getNoBids")},ae.getNoBidsForAdUnitCode=function(e){return{bids:d.K.getNoBids().filter((function(t){return t.adUnitCode===e}))}},ae.getBidResponses=function(){return(0,t.logInfo)("Invoking pbjs.getBidResponses",arguments),Pe("getBidsReceived")},ae.getBidResponsesForAdUnitCode=function(e){return{bids:d.K.getBidsReceived().filter((function(t){return t.adUnitCode===e}))}},ae.setTargetingForGPTAsync=function(e,r){if((0,t.logInfo)("Invoking pbjs.setTargetingForGPTAsync",arguments),(0,t.isGptPubadsDefined)()){var n=M.getAllTargeting(e);M.resetPresetTargeting(e,r),M.setTargetingForGPT(n,r),Object.keys(n).forEach((function(e){Object.keys(n[e]).forEach((function(t){"hb_adid"===t&&d.K.setStatusForBids(n[e][t],se.BID_STATUS.BID_TARGETING_SET)}))})),ce.emit(ge,n)}else(0,t.logError)("window.googletag is not defined on the page")},ae.setTargetingForAst=function(e){return(0,t.logInfo)("Invoking pbjs.setTargetingForAn",arguments),M.isApntagDefined()?(M.setTargetingForAst(e),void ce.emit(ge,M.getAllTargeting())):void(0,t.logError)("window.apntag is not defined on the page")},ae.renderAd=(0,S.z3)("async",(function(e,r,n){if((0,t.logInfo)("Invoking pbjs.renderAd",arguments),(0,t.logMessage)("Calling renderAd with adId :"+r),e&&r)try{var o=d.K.findBidByAdId(r);if(o){var a=!0;if(o&&o.status===se.BID_STATUS.RENDERED&&((0,t.logWarn)("Ad id "+o.adId+" has been rendered before"),ce.emit(ve,o),(0,i.Z)(p.vc.getConfig("auctionOptions"),"suppressStaleRender")&&(a=!1)),a){if(o.ad=(0,t.replaceAuctionPrice)(o.ad,o.originalCpm||o.cpm),o.adUrl=(0,t.replaceAuctionPrice)(o.adUrl,o.originalCpm||o.cpm),n&&n.clickThrough){var s=n.clickThrough;o.ad=(0,t.replaceClickThrough)(o.ad,s),o.adUrl=(0,t.replaceClickThrough)(o.adUrl,s)}d.K.addWinningBid(o),ce.emit(fe,o);var c=o.height,l=o.width,f=o.ad,m=o.mediaType,h=o.adUrl,b=o.renderer,y=document.createComment("Creative "+o.creativeId+" served by "+o.bidder+" Prebid.js Header Bidding");if((0,t.insertElement)(y,e,"html"),(0,u.Pd)(b))(0,u._U)(b,o),Ue(y,e,"html"),v({doc:e,bid:o,id:r});else if(e===document&&!(0,t.inIframe)()||"video"===m)g({reason:be,message:"Error trying to write ad. Ad render call ad id "+r+" was prevented from writing to the main document.",bid:o,id:r});else if(f)e.write(f),e.close(),xe(e,l,c),Ue(y,e,"html"),(0,t.callBurl)(o),v({doc:e,bid:o,id:r});else if(h){var I=(0,t.createInvisibleIframe)();I.height=c,I.width=l,I.style.display="inline",I.style.overflow="hidden",I.src=h,(0,t.insertElement)(I,e,"body"),xe(e,l,c),Ue(y,e,"html"),(0,t.callBurl)(o),v({doc:e,bid:o,id:r})}else g({reason:ye,message:"Error trying to write ad. No ad for bid response id: "+r,bid:o,id:r})}}else g({reason:Ee,message:"Error trying to write ad. Cannot find ad by given id : "+r,id:r})}catch(e){var E="Error trying to write ad Id :"+r+" to the page:"+e.message;g({reason:Ie,message:E,id:r})}else g({reason:Te,message:"Error trying to write ad Id :"+r+" to the page. Missing document or adId",id:r})})),ae.removeAdUnit=function(e){((0,t.logInfo)("Invoking pbjs.removeAdUnit",arguments),e)?((0,t.isArray)(e)?e:[e]).forEach((function(e){for(var t=ae.adUnits.length-1;0<=t;t--)ae.adUnits[t].code===e&&ae.adUnits.splice(t,1)})):ae.adUnits=[]},ae.requestBids=(0,S.z3)("async",(function(e){var r=void 0===e?{}:e,n=r.bidsBackHandler,i=r.timeout,o=r.adUnits,a=r.adUnitCodes,s=r.labels,u=r.auctionId;ce.emit(me);var l=i||p.vc.getConfig("bidderTimeout");o=o&&p.vc.convertAdUnitFpd((0,t.isArray)(o)?o:[o])||ae.adUnits,(0,t.logInfo)("Invoking pbjs.requestBids",arguments);var f=[],m=[];if(p.vc.getConfig("s2sConfig",(function(e){e&&e.s2sConfig&&(f=Array.isArray(e.s2sConfig)?e.s2sConfig:[e.s2sConfig])})),f.forEach((function(e){m.push.apply(m,e.bidders)})),o=Re(o),a&&a.length?o=o.filter((function(e){return(0,c.q9)(a,e.code)})):a=o&&o.map((function(e){return e.code})),o.forEach((function(e){var r=Object.keys(e.mediaTypes||{banner:"banner"}),n=e.bids.map((function(e){return e.bidder})),i=de.bidderRegistry,o=n.filter((function(e){return!(0,c.q9)(m,e)}));e.transactionId=(0,t.generateUUID)(),o.forEach((function(n){var o=i[n],a=o&&o.getSpec&&o.getSpec(),s=a&&a.supportedMediaTypes||["banner"];r.some((function(e){return(0,c.q9)(s,e)}))?re.f.incrementBidderRequestsCounter(e.code,n):((0,t.logWarn)((0,t.unsupportedBidderMessage)(e,n)),e.bids=e.bids.filter((function(e){return e.bidder!==n})))})),re.f.incrementRequestsCounter(e.code)})),o&&0!==o.length){var g=d.K.createAuction({adUnits:o,adUnitCodes:a,callback:n,cbTimeout:l,labels:s,auctionId:u}),v=o.length;15<v&&(0,t.logInfo)("Current auction "+g.getAuctionId()+" contains "+v+" adUnits.",o),a.forEach((function(e){return M.setLatestAuctionForAdUnit(e,g.getAuctionId())})),g.callBids()}else if((0,t.logMessage)("No adUnits configured. No bids requested."),"function"==typeof n)try{n()}catch(e){(0,t.logError)("Error executing bidsBackHandler",null,e)}})),ae.requestBids.before((function(e,t){function r(e){for(var t;t=e.shift();)t()}r(ie.Ld),r(De),e.call(this,t)}),49),ae.addAdUnits=function(e){(0,t.logInfo)("Invoking pbjs.addAdUnits",arguments),ae.adUnits.push.apply(ae.adUnits,p.vc.convertAdUnitFpd((0,t.isArray)(e)?e:[e])),ce.emit(le)},ae.onEvent=function(e,r,n){return(0,t.logInfo)("Invoking pbjs.onEvent",arguments),(0,t.isFn)(r)?n&&!we[e].call(null,n)?void(0,t.logError)('The id provided is not valid for event "'+e+'" and no handler was set.'):void ce.on(e,r,n):void(0,t.logError)('The event handler provided is not a function and was not set on event "'+e+'".')},ae.offEvent=function(e,r,n){(0,t.logInfo)("Invoking pbjs.offEvent",arguments),n&&!we[e].call(null,n)||ce.off(e,r,n)},ae.getEvents=function(){return(0,t.logInfo)("Invoking pbjs.getEvents"),ce.getEvents()},ae.registerBidAdapter=function(e,r){(0,t.logInfo)("Invoking pbjs.registerBidAdapter",arguments);try{de.registerBidAdapter(e(),r)}catch(e){(0,t.logError)("Error registering bidder adapter : "+e.message)}},ae.registerAnalyticsAdapter=function(e){(0,t.logInfo)("Invoking pbjs.registerAnalyticsAdapter",arguments);try{de.registerAnalyticsAdapter(e)}catch(e){(0,t.logError)("Error registering analytics adapter : "+e.message)}},ae.createBid=function(e){return(0,t.logInfo)("Invoking pbjs.createBid",arguments),(0,ne.m)(e)};var De=[],je=(0,S.z3)("async",(function(e){e&&!(0,t.isEmpty)(e)?((0,t.logInfo)("Invoking pbjs.enableAnalytics for: ",e),de.enableAnalytics(e)):(0,t.logError)("pbjs.enableAnalytics should be called with option {}")}),"enableAnalyticsCb");function Be(e){e.forEach((function(e){if(void 0===e.called)try{e.call(),e.called=!0}catch(e){(0,t.logError)("Error processing command :","prebid.js",e)}}))}ae.enableAnalytics=function(e){De.push(je.bind(this,e))},ae.aliasBidder=function(e,r,n){(0,t.logInfo)("Invoking pbjs.aliasBidder",arguments),e&&r?de.aliasBidAdapter(e,r,n):(0,t.logError)("bidderCode and alias must be passed as arguments","pbjs.aliasBidder")},ae.getAllWinningBids=function(){return d.K.getAllWinningBids()},ae.getAllPrebidWinningBids=function(){return d.K.getBidsReceived().filter((function(e){return e.status===se.BID_STATUS.BID_TARGETING_SET}))},ae.getHighestCpmBids=function(e){return M.getWinningBids(e)},ae.markWinningBidAsUsed=function(e){var r=[];e.adUnitCode&&e.adId?r=d.K.getBidsReceived().filter((function(t){return t.adId===e.adId&&t.adUnitCode===e.adUnitCode})):e.adUnitCode?r=M.getWinningBids(e.adUnitCode):e.adId?r=d.K.getBidsReceived().filter((function(t){return t.adId===e.adId})):(0,t.logWarn)("Improper use of markWinningBidAsUsed. It needs an adUnitCode or an adId to function."),0<r.length&&(r[0].status=se.BID_STATUS.RENDERED)},ae.getConfig=p.vc.getConfig,ae.readConfig=p.vc.readConfig,ae.mergeConfig=p.vc.mergeConfig,ae.mergeBidderConfig=p.vc.mergeBidderConfig,ae.setConfig=p.vc.setConfig,ae.setBidderConfig=p.vc.setBidderConfig,ae.que.push((function(){window.addEventListener("message",I,!1)})),ae.cmd.push=function(e){if("function"==typeof e)try{e.call()}catch(e){(0,t.logError)("Error processing command :",e.message,e.stack)}else(0,t.logError)("Commands written into pbjs.cmd.push must be wrapped in a function")},ae.que.push=ae.cmd.push,ae.processQueue=function(){S.z3.ready(),Be(ae.que),Be(ae.cmd)};var Ne=ae,qe=(r(7028),r(2290)),Me=r(5329),Ze="appnexus",ze="https://ib.adnxs.com/ut/v3/prebid",Fe="https://ib.adnxs-simple.com/ut/v3/prebid",We=["id","minduration","maxduration","skippable","playback_method","frameworks","context","skipoffset"],Ve=["minduration","maxduration","skip","skipafter","playbackmethod","api"],Le=["age","externalUid","segments","gender","dnt","language"],Ge=["geo","device_id"],Ke=["enabled","dongle","member_id","debug_timeout"],Xe={playback_method:{unknown:0,auto_play_sound_on:1,auto_play_sound_off:2,click_to_play:3,mouse_over:4,auto_play_sound_unknown:5},context:{unknown:0,pre_roll:1,mid_roll:2,post_roll:3,outstream:4,"in-banner":5}},He={body:"description",body2:"desc2",cta:"ctatext",image:{serverName:"main_image",requiredParams:{required:!0}},icon:{serverName:"icon",requiredParams:{required:!0}},sponsoredBy:"sponsored_by",privacyLink:"privacy_link",salePrice:"saleprice",displayUrl:"displayurl"},Ye=/\/\/cdn\.adnxs\.com\/v|\/\/cdn\.adnxs\-simple\.com\/v/,Je=(0,ie.df)({gvlid:32,bidderCode:Ze}),$e={code:Ze,gvlid:32,aliases:[{code:"appnexusAst",gvlid:32},{code:"brealtime"},{code:"emxdigital",gvlid:183},{code:"pagescience"},{code:"defymedia"},{code:"gourmetads"},{code:"matomy"},{code:"featureforward"},{code:"oftmedia"},{code:"districtm",gvlid:144},{code:"adasta"},{code:"beintoo",gvlid:618}],supportedMediaTypes:[x.Mk,x.pX,x.B5],isBidRequestValid:function(e){return!!(e.params.placementId||e.params.member&&e.params.invCode)},buildRequests:function(e,r){var n=e.map(nt),o=(0,c.sE)(e,ot),a={};!0===p.vc.getConfig("coppa")&&(a={coppa:!0}),o&&Object.keys(o.params.user).filter((function(e){return(0,c.q9)(Le,e)})).forEach((function(e){var r=(0,t.convertCamelToUnderscore)(e);if("segments"===e&&(0,t.isArray)(o.params.user[e])){var n=[];o.params.user[e].forEach((function(e){(0,t.isNumber)(e)?n.push({id:e}):(0,t.isPlainObject)(e)&&n.push(e)})),a[r]=n}else"segments"!==e&&(a[r]=o.params.user[e])}));var s,d=(0,c.sE)(e,st);d&&d.params&&d.params.app&&(s={},Object.keys(d.params.app).filter((function(e){return(0,c.q9)(Ge,e)})).forEach((function(e){return s[e]=d.params.app[e]})));var u,l=(0,c.sE)(e,dt);l&&l.params&&d.params.app&&d.params.app.id&&(u={appid:l.params.app.id});var f={},m={},g=Je.getCookie("apn_prebid_debug")||null;if(g)try{f=JSON.parse(g)}catch(e){(0,t.logError)("AppNexus Debug Auction Cookie Error:\n\n"+e)}else{var v=(0,c.sE)(e,ct);v&&v.debug&&(f=v.debug)}f&&f.enabled&&Object.keys(f).filter((function(e){return(0,c.q9)(Ke,e)})).forEach((function(e){m[e]=f[e]}));var h=(0,c.sE)(e,at),b=h?parseInt(h.params.member,10):0,y=e[0].schain,I=(0,c.sE)(e,pt),E={tags:[].concat(n),user:a,sdk:{source:"pbjs",version:"6.19.0"},schain:y};I&&(E.iab_support={omidpn:"Appnexus",omidpv:"6.19.0"}),0<b&&(E.member_id=b),d&&(E.device=s),l&&(E.app=u);var T=p.vc.getConfig("appnexusAuctionKeywords");if((0,t.isPlainObject)(T)){var w=(0,t.transformBidderParamKeywords)(T);0<w.length&&w.forEach(et),E.keywords=w}if(p.vc.getConfig("adpod.brandCategoryExclusion")&&(E.brand_category_uniqueness=!0),m.enabled&&(E.debug=m,(0,t.logInfo)("AppNexus Debug Auction Settings:\n\n"+JSON.stringify(m,null,4))),r&&r.gdprConsent&&(E.gdpr_consent={consent_string:r.gdprConsent.consentString,consent_required:r.gdprConsent.gdprApplies},r.gdprConsent.addtlConsent&&-1!==r.gdprConsent.addtlConsent.indexOf("~"))){var x=r.gdprConsent.addtlConsent,S=x.substring(x.indexOf("~")+1);E.gdpr_consent.addtl_consent=S.split(".").map((function(e){return parseInt(e,10)}))}if(r&&r.uspConsent&&(E.us_privacy=r.uspConsent),r&&r.refererInfo){var C={rd_ref:encodeURIComponent(r.refererInfo.referer),rd_top:r.refererInfo.reachedTop,rd_ifs:r.refererInfo.numIframes,rd_stk:r.refererInfo.stack.map((function(e){return encodeURIComponent(e)})).join(",")};E.referrer_detection=C}if((0,c.sE)(e,ut)&&e.filter(ut).forEach((function(e){var r=function(e,r){var n=r.mediaTypes.video,i=n.durationRangeSec,o=n.requireExactDuration,a=function(e){var r=e.adPodDurationSec,n=e.durationRangeSec,i=e.requireExactDuration,o=(0,t.getMinValueFromArray)(n),a=Math.floor(r/o);return i?Math.max(a,n.length):a}(r.mediaTypes.video),s=(0,t.getMaxValueFromArray)(i),d=e.filter((function(e){return e.uuid===r.bidId})),c=t.fill.apply(void 0,d.concat([a]));if(o){var u=Math.ceil(a/i.length),p=(0,t.chunk)(c,u);i.forEach((function(e,t){p[t].map((function(t){lt(t,"minduration",e),lt(t,"maxduration",e)}))}))}else c.map((function(e){return lt(e,"maxduration",s)}));return c}(n,e),i=E.tags.filter((function(t){return t.uuid!==e.bidId}));E.tags=[].concat(i,r)})),e[0].userId){var _=[];gt(_,(0,i.Z)(e[0],"userId.flocId.id"),"chrome.com",null),gt(_,(0,i.Z)(e[0],"userId.criteoId"),"criteo.com",null),gt(_,(0,i.Z)(e[0],"userId.netId"),"netid.de",null),gt(_,(0,i.Z)(e[0],"userId.idl_env"),"liveramp.com",null),gt(_,(0,i.Z)(e[0],"userId.tdid"),"adserver.org","TDID"),gt(_,(0,i.Z)(e[0],"userId.uid2.id"),"uidapi.com","UID2"),e[0].userId.pubProvidedId&&e[0].userId.pubProvidedId.forEach((function(e){e.uids.forEach((function(t){_.push({source:e.source,id:t.id})}))})),_.length&&(E.eids=_)}n[0].publisher_id&&(E.publisher_id=n[0].publisher_id);var A=function(e,r){var n=[],i={withCredentials:!0},o=ze;if(rt(r)||(o=Fe),("TRUE"===(0,t.getParameterByName)("apn_test").toUpperCase()||!0===p.vc.getConfig("apn_test"))&&(i.customHeaders={"X-Is-Test":1}),e.tags.length>15){var a=(0,t.deepClone)(e);(0,t.chunk)(e.tags,15).forEach((function(e){a.tags=e;var t=JSON.stringify(a);n.push({method:"POST",url:o,data:t,bidderRequest:r,options:i})}))}else{var s=JSON.stringify(e);n={method:"POST",url:o,data:s,bidderRequest:r,options:i}}return n}(E,r);return A},interpretResponse:function(e,r){var n=this,o=r.bidderRequest;e=e.body;var a=[];if(!e||e.error){var s="in response for "+o.bidderCode+" adapter";return e&&e.error&&(s+=": "+e.error),(0,t.logError)(s),a}if(e.tags&&e.tags.forEach((function(e){var r,s=(r=e)&&r.ads&&r.ads.length&&(0,c.sE)(r.ads,(function(e){return e.rtb}));if(s&&((!0===C.S.get(o.bidderCode,"allowZeroCpmBids")?0<=s.cpm:0<s.cpm)&&(0,c.q9)(n.supportedMediaTypes,s.ad_type))){var d=function(e,r,n){var o=(0,t.getBidRequest)(e.uuid,[n]),a={requestId:e.uuid,cpm:r.cpm,creativeId:r.creative_id,dealId:r.deal_id,currency:"USD",netRevenue:!0,ttl:300,adUnitCode:o.adUnitCode,appnexus:{buyerMemberId:r.buyer_member_id,dealPriority:r.deal_priority,dealCode:r.deal_code}};if(r.adomain&&(a.meta=Object.assign({},a.meta,{advertiserDomains:[]})),r.advertiser_id&&(a.meta=Object.assign({},a.meta,{advertiserId:r.advertiser_id})),r.buyer_member_id&&(a.meta=Object.assign({},a.meta,{dchain:function(e){return{ver:"1.0",complete:0,nodes:[{bsid:e.buyer_member_id.toString()}]}}(r)})),r.brand_id&&(a.meta=Object.assign({},a.meta,{brandId:r.brand_id})),r.rtb.video){switch(Object.assign(a,{width:r.rtb.video.player_width,height:r.rtb.video.player_height,vastImpUrl:r.notify_url,ttl:3600}),(0,i.Z)(o,"mediaTypes.video.context")){case x.Oh:var s=(0,qe.Q1)(o.bidder,r.brand_category_id);a.meta=Object.assign({},a.meta,{primaryCatId:s});var d=r.deal_priority;a.video={context:x.Oh,durationSeconds:Math.floor(r.rtb.video.duration_ms/1e3),dealTier:d},a.vastUrl=r.rtb.video.asset_url;break;case Me.gZ:if(a.adResponse=e,a.adResponse.ad=a.adResponse.ads[0],a.adResponse.ad.video=a.adResponse.ad.rtb.video,a.vastXml=r.rtb.video.content,r.renderer_url){var p=(0,c.sE)(n.bids,(function(t){return t.bidId===e.uuid})),l=(0,i.Z)(p,"renderer.options");a.renderer=function(e,r,n){void 0===n&&(n={});var i=u.Th.install({id:r.renderer_id,url:r.renderer_url,config:n,loaded:!1,adUnitCode:e});try{i.setRender(ft)}catch(e){(0,t.logWarn)("Prebid Error calling setRender on renderer",e)}return i.setEventHandlers({impression:function(){return(0,t.logMessage)("AppNexus outstream video impression event")},loaded:function(){return(0,t.logMessage)("AppNexus outstream video loaded event")},ended:function(){(0,t.logMessage)("AppNexus outstream renderer video event"),document.querySelector("#"+e).style.display="none"}}),i}(a.adUnitCode,r,l)}break;case Me.LD:a.vastUrl=r.notify_url+"&redir="+encodeURIComponent(r.rtb.video.asset_url)}}else if(r.rtb[x.B5]){var f=r.rtb[x.B5],m=r.viewability.config.replace("src=","data-src="),g=f.javascript_trackers;null==g?g=m:(0,t.isStr)(g)?g=[g,m]:g.push(m),a[x.B5]={title:f.title,body:f.desc,body2:f.desc2,cta:f.ctatext,rating:f.rating,sponsoredBy:f.sponsored,privacyLink:f.privacy_link,address:f.address,downloads:f.downloads,likes:f.likes,phone:f.phone,price:f.price,salePrice:f.saleprice,clickUrl:f.link.url,displayUrl:f.displayurl,clickTrackers:f.link.click_trackers,impressionTrackers:f.impression_trackers,javascriptTrackers:g},f.main_img&&(a.native.image={url:f.main_img.url,height:f.main_img.height,width:f.main_img.width}),f.icon&&(a.native.icon={url:f.icon.url,height:f.icon.height,width:f.icon.width})}else{Object.assign(a,{width:r.rtb.banner.width,height:r.rtb.banner.height,ad:r.rtb.banner.content});try{if(r.rtb.trackers)for(var v=0;v<r.rtb.trackers[0].impression_urls.length;v++){var h=r.rtb.trackers[0].impression_urls[v],b=(0,t.createTrackPixelHtml)(h);a.ad+=b}}catch(e){(0,t.logError)("Error appending tracking pixel",e)}}return a}(e,s,o);d.mediaType=function(e){var t=e.ad_type;return t===x.pX?x.pX:t===x.B5?x.B5:x.Mk}(s),a.push(d)}})),e.debug&&e.debug.debug_info){var d="AppNexus Debug Auction for Prebid\n\n"+e.debug.debug_info;d=d.replace(/(<td>|<th>)/gm,"\t").replace(/(<\/td>|<\/th>)/gm,"\n").replace(/^<br>/gm,"").replace(/(<br>\n|<br>)/gm,"\n").replace(/<h1>(.*)<\/h1>/gm,"\n\n===== $1 =====\n\n").replace(/<h[2-6]>(.*)<\/h[2-6]>/gm,"\n\n*** $1 ***\n\n").replace(/(<([^>]+)>)/gim,""),(0,t.logMessage)("https://console.appnexus.com/docs/understanding-the-debug-auction"),(0,t.logMessage)(d)}return a},getMappingFileInfo:function(){return{url:"https://acdn.adnxs-simple.com/prebid/appnexus-mapping/mappings.json",refreshInDays:2}},getUserSyncs:function(e,t,r){if(e.iframeEnabled&&rt({gdprConsent:r}))return[{type:"iframe",url:"https://acdn.adnxs.com/dmp/async_usersync.html"}]},transformBidParams:function(e,r){var n=t.transformBidderParamKeywords;if(!0===r){var o=p.vc.getConfig("s2sConfig"),a=(0,i.Z)(o,"endpoint.p1Consent");a&&a.match("/openrtb2/prebid")&&(n=vt)}return e=(0,t.convertTypes)({member:"string",invCode:"string",placementId:"number",keywords:n,publisherId:"number"},e),r&&(e.use_pmt_rule="boolean"==typeof e.usePaymentRule&&e.usePaymentRule,e.usePaymentRule&&delete e.usePaymentRule,Qe(e.keywords)&&e.keywords.forEach(et),Object.keys(e).forEach((function(r){var n=(0,t.convertCamelToUnderscore)(r);n!==r&&(e[n]=e[r],delete e[r])}))),e},onBidWon:function(e){e.native&&function(e){var r=function(e){var r;if((0,t.isStr)(e)&&tt(e))r=e;else if((0,t.isArray)(e))for(var n,i=0;i<e.length;i++)tt(n=e[i])&&(r=n);return r}(e.native.javascriptTrackers);if(r)for(var n,i="pbjs_adid="+e.adId+";pbjs_auc="+e.adUnitCode,o=function(e){var t=e.indexOf('src="')+5,r=e.indexOf('"',t);return e.substring(t,r)}(r),a=o.replace("dom_id=%native_dom_id%",i),s=document.getElementsByTagName("iframe"),d=!1,c=0;c<s.length&&!d;c++){n=s[c];try{var u=n.contentDocument||n.contentWindow.document;if(u)for(var p,l=u.getElementsByTagName("script"),f=0;f<l.length&&!d;f++)(p=l[f]).getAttribute("data-src")==o&&(p.setAttribute("src",a),p.setAttribute("data-src",""),p.removeAttribute&&p.removeAttribute("data-src"),d=!0)}catch(e){if(!(e instanceof DOMException&&"SecurityError"===e.name))throw e}}}(e)}};function Qe(e){return!!((0,t.isArray)(e)&&0<e.length)}function et(e){Qe(e.value)&&""===e.value[0]&&delete e.value}function tt(e){var t=e.match(Ye),r=null!=t&&1<=t.length,n=e.match("trk.js"),i=null!=n&&1<=n.length;return e.startsWith("<script")&&i&&r}function rt(e){var t=!0;return e&&e.gdprConsent&&e.gdprConsent.gdprApplies&&2===e.gdprConsent.apiVersion&&(t=!0===(0,i.Z)(e.gdprConsent,"vendorData.purpose.consents.1")),t}function nt(e){var r={};r.sizes=it(e.sizes),r.primary_size=r.sizes[0],r.ad_types=[],r.uuid=e.bidId,e.params.placementId?r.id=parseInt(e.params.placementId,10):r.code=e.params.invCode,r.allow_smaller_sizes=e.params.allowSmallerSizes||!1,r.use_pmt_rule=e.params.usePaymentRule||!1,r.prebid=!0,r.disable_psa=!0;var n=function(e){if(!(0,t.isFn)(e.getFloor))return e.params.reserve?e.params.reserve:null;var r=e.getFloor({currency:"USD",mediaType:"*",size:"*"});return(0,t.isPlainObject)(r)&&!isNaN(r.floor)&&"USD"===r.currency?r.floor:null}(e);if(n&&(r.reserve=n),e.params.position&&(r.position={above:1,below:2}[e.params.position]||0),e.params.trafficSourceCode&&(r.traffic_source_code=e.params.trafficSourceCode),e.params.privateSizes&&(r.private_sizes=it(e.params.privateSizes)),e.params.supplyType&&(r.supply_type=e.params.supplyType),e.params.pubClick&&(r.pubclick=e.params.pubClick),e.params.extInvCode&&(r.ext_inv_code=e.params.extInvCode),e.params.publisherId&&(r.publisher_id=parseInt(e.params.publisherId,10)),e.params.externalImpId&&(r.external_imp_id=e.params.externalImpId),!(0,t.isEmpty)(e.params.keywords)){var o=(0,t.transformBidderParamKeywords)(e.params.keywords);0<o.length&&o.forEach(et),r.keywords=o}var a,s,u=(0,i.Z)(e,"ortb2Imp.ext.data.pbadslot");if(u&&(r.gpid=u),(e.mediaType===x.B5||(0,i.Z)(e,"mediaTypes."+x.B5))&&(r.ad_types.push(x.B5),0===r.sizes.length&&(r.sizes=it([1,1])),e.nativeParams)){var p=(a=e.nativeParams,s={},Object.keys(a).forEach((function(e){var r=He[e]&&He[e].serverName||He[e]||e,n=He[e]&&He[e].requiredParams;if(s[r]=Object.assign({},n,a[e]),(r===He.image.serverName||r===He.icon.serverName)&&s[r].sizes){var i=s[r].sizes;((0,t.isArrayOfNums)(i)||(0,t.isArray)(i)&&0<i.length&&i.every((function(e){return(0,t.isArrayOfNums)(e)})))&&(s[r].sizes=it(s[r].sizes))}r===He.privacyLink&&(s.privacy_supported=!0)})),s);r[x.B5]={layouts:[p]}}var l=(0,i.Z)(e,"mediaTypes."+x.pX),f=(0,i.Z)(e,"mediaTypes.video.context");r.hb_source=l&&"adpod"===f?7:1,(e.mediaType===x.pX||l)&&r.ad_types.push(x.pX),(e.mediaType===x.pX||l&&"outstream"!==f)&&(r.require_asset_url=!0),e.params.video&&(r.video={},Object.keys(e.params.video).filter((function(e){return(0,c.q9)(We,e)})).forEach((function(n){switch(n){case"context":case"playback_method":var i=e.params.video[n];i=(0,t.isArray)(i)?i[0]:i,r.video[n]=Xe[n][i];break;case"frameworks":break;default:r.video[n]=e.params.video[n]}})),e.params.video.frameworks&&(0,t.isArray)(e.params.video.frameworks)&&(r.video_frameworks=e.params.video.frameworks)),l&&(r.video=r.video||{},Object.keys(l).filter((function(e){return(0,c.q9)(Ve,e)})).forEach((function(e){switch(e){case"minduration":case"maxduration":"number"!=typeof r.video[e]&&(r.video[e]=l[e]);break;case"skip":"boolean"!=typeof r.video.skippable&&(r.video.skippable=1===l[e]);break;case"skipafter":"number"!=typeof r.video.skipoffset&&(r.video.skippoffset=l[e]);break;case"playbackmethod":if("number"!=typeof r.video.playback_method){var n=l[e];1<=(n=(0,t.isArray)(n)?n[0]:n)&&4>=n&&(r.video.playback_method=n)}break;case"api":if(!r.video_frameworks&&(0,t.isArray)(l[e])){var i=l[e].map((function(e){var t=4===e?5:5===e?4:e;if(1<=t&&5>=t)return t})).filter((function(e){return e}));r.video_frameworks=i}}}))),e.renderer&&(r.video=Object.assign({},r.video,{custom_renderer_present:!0})),e.params.frameworks&&(0,t.isArray)(e.params.frameworks)&&(r.banner_frameworks=e.params.frameworks);var m=(0,c.sE)(d.K.getAdUnits(),(function(t){return e.transactionId===t.transactionId}));return m&&m.mediaTypes&&m.mediaTypes.banner&&r.ad_types.push(x.Mk),0===r.ad_types.length&&delete r.ad_types,r}function it(e){var r=[],n={};if((0,t.isArray)(e)&&2===e.length&&!(0,t.isArray)(e[0]))n.width=parseInt(e[0],10),n.height=parseInt(e[1],10),r.push(n);else if("object"==typeof e)for(var i,o=0;o<e.length;o++)i=e[o],(n={}).width=parseInt(i[0],10),n.height=parseInt(i[1],10),r.push(n);return r}function ot(e){return!!e.params.user}function at(e){return!!parseInt(e.params.member,10)}function st(e){if(e.params)return!!e.params.app}function dt(e){return e.params&&e.params.app?!!e.params.app.id:!!e.params.app}function ct(e){return!!e.debug}function ut(e){return e.mediaTypes&&e.mediaTypes.video&&e.mediaTypes.video.context===x.Oh}function pt(e){var r=!1,n=e.params,i=e.params.video;return n.frameworks&&(0,t.isArray)(n.frameworks)&&(r=(0,c.q9)(e.params.frameworks,6)),!r&&i&&i.frameworks&&(0,t.isArray)(i.frameworks)&&(r=(0,c.q9)(e.params.video.frameworks,6)),r}function lt(e,r,n){(0,t.isEmpty)(e.video)&&(e.video={}),e.video[r]=n}function ft(e){var t,r;t=e.adUnitCode,(r=document.getElementById(t).querySelectorAll("div[id^='google_ads']"))[0]&&r[0].style.setProperty("display","none"),function(e){try{var t=document.getElementById(e).querySelectorAll("script[id^='sas_script']");t[0].nextSibling&&"iframe"===t[0].nextSibling.localName&&t[0].nextSibling.style.setProperty("display","none")}catch(e){}}(e.adUnitCode),e.renderer.push((function(){window.ANOutstreamVideo.renderAd({tagId:e.adResponse.tag_id,sizes:[e.getSize().split("x")],targetId:e.adUnitCode,uuid:e.adResponse.uuid,adResponse:e.adResponse,rendererOptions:e.renderer.getConfig()},mt.bind(null,e))}))}function mt(e,t,r){e.renderer.handleVideoEvent({id:t,eventName:r})}function gt(e,t,r,n){return t&&(n?e.push({source:r,id:t,rti_partner:n}):e.push({source:r,id:t})),e}function vt(e){var r="";return Object.keys(e).forEach((function(n){(0,t.isStr)(e[n])?""===e[n]?r+=n+",":r+=n+"="+e[n]+",":(0,t.isArray)(e[n])&&(""===e[n][0]?r+=n+",":e[n].forEach((function(e){r+=n+"="+e+","})))})),r=r.substring(0,r.length-1)}(0,qe.dX)($e),window.pbjs.installedModules.push("appnexusBidAdapter");var ht=r(7040),bt=r(4806);function yt(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return It(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?It(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function It(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var Et="ix",Tt="roundel",wt=[x.Mk,x.pX],xt=8e3,St={JPY:1},Ct="p",_t="x",At=1,Ot=2,kt=3,Rt=4,Pt=5,Ut=6,Dt=7,jt=8,Bt=9,Nt={SITE:["id","name","domain","cat","sectioncat","pagecat","page","ref","search","mobile","privacypolicy","publisher","content","keywords","ext"],USER:["id","buyeruid","yob","gender","keywords","customdata","geo","data","ext"]},qt={"liveramp.com":"idl","netid.de":"NETID","neustar.biz":"fabrickId","zeotap.com":"zeotapIdPlus","uidapi.com":"UID2","adserver.org":"TDID","id5-sync.com":"","crwdcntrl.net":"","epsilon.com":"","audigent.com":"","pubcid.org":"","trustpid.com":""},Mt=["britepoolid","lipbid","criteoId","merkleId","parrableId","connectid","tapadId","quantcastId","flocId","pubProvidedId"],Zt=["mimes","minduration","maxduration"],zt=["mimes","minduration","maxduration","protocols","protocol","startdelay","placement","linearity","skip","skipmin","skipafter","sequence","battr","maxextended","minbitrate","maxbitrate","boxingallowed","playbackmethod","playbackend","delivery","pos","companionad","api","companiontype","ext","playerSize","w","h"],Ft="ixdiag",Wt=!1,Vt=(0,ie.df)({gvlid:10,bidderCode:Et}),Lt=2;function Gt(e){var t={};return t.id=e.bidId,t.ext={},t.ext.siteID=e.params.siteId.toString(),e.params.hasOwnProperty("id")&&("string"==typeof e.params.id||"number"==typeof e.params.id)&&(t.ext.sid=e.params.id+""),t}function Kt(e,r,n){var i=null,o=null;if(e.params.bidFloor&&e.params.bidFloorCur&&(i={floor:e.params.bidFloor,currency:e.params.bidFloorCur}),(0,t.isFn)(e.getFloor)){var a="*",s="*";if(n&&(0,t.contains)(wt,n)){var d=r[n];a=n,s=[d.w,d.h]}try{o=e.getFloor({mediaType:a,size:s})}catch(e){(0,t.logWarn)("priceFloors module call getFloor failed, error : ",e)}}o?(r.bidfloor=o.floor,r.bidfloorcur=o.currency,r.ext.fl=Ct):i&&(r.bidfloor=i.floor,r.bidfloorcur=i.currency,r.ext.fl=_t)}function Xt(e,r,n){var o={},a=!(!(0,i.Z)(e,"exp")||!(0,t.isInteger)(e.exp)),s=(0,i.Z)(e,"dealid")||(0,i.Z)(e,"ext.dealid");return o.cpm=St.hasOwnProperty(r)?e.price/St[r]:e.price/100,o.requestId=e.impid,s&&(o.dealId=s),o.netRevenue=true,o.currency=r,o.creativeId=e.hasOwnProperty("crid")?e.crid:"-",e.mtype==Lt?o.vastXml=e.adm:e.ext&&e.ext.vasturl&&(o.vastUrl=e.ext.vasturl),e.ext&&e.ext.vasturl||e.mtype==Lt?(o.width=n.video.w,o.height=n.video.h,o.mediaType=x.pX,o.mediaTypes=n.mediaTypes,o.ttl=a?e.exp:3600):(o.ad=e.adm,o.width=e.w,o.height=e.h,o.mediaType=x.Mk,o.ttl=a?e.exp:300),o.meta={},o.meta.networkId=(0,i.Z)(e,"ext.dspid"),o.meta.brandId=(0,i.Z)(e,"ext.advbrandid"),o.meta.brandName=(0,i.Z)(e,"ext.advbrand"),e.adomain&&0<e.adomain.length&&(o.meta.advertiserDomains=e.adomain),o}function Ht(e){return Array.isArray(e)&&2===e.length&&(0,t.isInteger)(e[0])&&(0,t.isInteger)(e[1])}function Yt(e,t){if(void 0===e&&(e=[]),void 0===t&&(t=[]),Ht(e))return e[0]===t[0]&&e[1]===t[1];for(var r=0;r<e.length;r++)if(e[r][0]===t[0]&&e[r][1]===t[1])return!0;return!1}function Jt(e,r){var n=[];e||(0,t.logWarn)("IX Bid Adapter: mediaTypes.video is the preferred location for video params in ad unit");for(var i,o=yt(Zt);!(i=o()).done;){var a=i.value,s=e&&e.hasOwnProperty(a),d=r&&r.hasOwnProperty(a);s||d||n.push("IX Bid Adapter: "+a+" is not included in either the adunit or params level")}var c=e&&e.hasOwnProperty("protocol"),u=e&&e.hasOwnProperty("protocols"),p=r&&r.hasOwnProperty("protocol"),l=r&&r.hasOwnProperty("protocols");return c||u||p||l||n.push("IX Bid Adapter: protocol/protcols is not included in either the adunit or params level"),n}function $t(e){return void 0===e&&(e=[]),Ht(e)?e:!!Ht(e[0])&&e[0]}function Qt(e,t,r){if(e)return(0,ht.Z)({},(0,c.sE)(r,(function(t){return t.bidId===e})),(0,c.sE)(t,(function(t){return t.id===e})))}function er(e,r,n,o){var a="https://htlb.casalemedia.com/cygnus",s=function(e,r){var n=[],o={};if((0,t.isArray)(e))for(var a,s,d=yt(e);!(a=d()).done;)s=a.value,qt.hasOwnProperty(s.source)&&(0,i.Z)(s,"uids.0")&&(o[s.source]=!0,""!=qt[s.source]&&(s.uids[0].ext={rtiPartner:qt[s.source]}),delete s.uids[0].atype,n.push(s));if(r&&r.id&&r.version){var c={source:"chrome.com",uids:[{id:r.id,ext:{rtiPartner:"flocId",ver:r.version}}]};n.push(c),o["chrome.com"]=!0}return{toSend:n,seenSources:o}}((0,i.Z)(e,"0.userIdAsEids"),(0,i.Z)(e,"0.userId.flocId")),d=s.toSend,c=function(){var e=p.vc.getConfig("pageUrl");try{return new URL(e).href}catch(r){return void(0,t.logWarn)("IX Bid Adapter: invalid pageUrl config property value set: "+e)}}()||(0,i.Z)(r,"refererInfo.referer");if(window.headertag&&"function"==typeof window.headertag.getIdentityInfo){var u=window.headertag.getIdentityInfo();if(u&&"object"==typeof u)for(var l in u)if(u.hasOwnProperty(l)){var f=u[l];!f.responsePending&&f.data&&"object"==typeof f.data&&Object.keys(f.data).length&&!s.seenSources[f.data.source]&&d.push(f.data)}}if(r&&r.bidderCode===Tt&&!s.seenSources["liveramp.com"])return[];var m={};m.id=e[0].bidderRequestId.toString(),m.site={},m.ext={},m.ext.source="prebid",m.ext.ixdiag={},m.ext.ixdiag.msd=0,m.ext.ixdiag.msi=0,m.imp=[],m.at=1;var g=function(e){for(var t=e.map((function(e){return e.transactionId})).filter((function(e,t,r){return r.indexOf(e)===t})),r={mfu:0,bu:0,iu:0,nu:0,ou:0,allu:0,ren:!1,version:"6.19.0",userIds:tr(e[0])},n=function(n){if(a=e.filter((function(e){return e.transactionId===t[n]}))[0],(0,i.Z)(a,"mediaTypes")){if(1<Object.keys(a.mediaTypes).length&&r.mfu++,(0,i.Z)(a,"mediaTypes.native")&&r.nu++,(0,i.Z)(a,"mediaTypes.banner")&&r.bu++,"outstream"===(0,i.Z)(a,"mediaTypes.video.context")){r.ou++;var o="object"==typeof((0,i.Z)(a,"renderer")||(0,i.Z)(a,"mediaTypes.video.renderer"));r.ren=r.ren&&o?(0,i.Z)(r,"ren"):o}"instream"===(0,i.Z)(a,"mediaTypes.video.context")&&r.iu++,r.allu++}},o=0;o<t.length;o++){var a;n(o)}return r}(e);for(var v in g)m.ext.ixdiag[v]=g[v];var h=function(){if(Vt.localStorageIsEnabled()){var e,r={};try{e=JSON.parse(Vt.getDataFromLocalStorage(Ft)||"{}")}catch(e){return(0,t.logError)("ix can not read ixdiag from localStorage."),null}return Object.keys(e).forEach((function(t){Object.keys(e[t]).forEach((function(n){"number"==typeof e[t][n]&&(r[n]=r[n]?r[n]+e[t][n]:e[t][n])}))})),r}}();if((0,t.isEmpty)(h)||(m.ext.ixdiag.err=h),e[0].schain&&(m.source={ext:{schain:e[0].schain}}),0<d.length&&(m.user={},m.user.eids=d),document.referrer&&""!==document.referrer&&(m.site.ref=document.referrer),r){if(r.gdprConsent){var b=r.gdprConsent;b.hasOwnProperty("gdprApplies")&&(m.regs={ext:{gdpr:b.gdprApplies?1:0}}),b.hasOwnProperty("consentString")&&(m.user=m.user||{},m.user.ext={consent:b.consentString||""},b.hasOwnProperty("addtlConsent")&&b.addtlConsent&&(m.user.ext.consented_providers_settings={consented_providers:b.addtlConsent}))}r.uspConsent&&(0,bt.Z)(m,"regs.ext.us_privacy",r.uspConsent),c&&(m.site.page=c)}p.vc.getConfig("coppa")&&(0,bt.Z)(m,"regs.coppa",1);var y={};y.s=e[0].params.siteId,y.v=o,y.ac="j",y.sd=1,8.1===o&&(y.nf=1);var I=r&&r.bidderCode||"ix",E=p.vc.getConfig(I),T=[],w=0,S=Object.keys(n),C=(""+a+(0,t.parseQueryStringParameters)((0,ht.Z)({},y,{r:JSON.stringify(m)}))).length;if(C>xt)return(0,t.logError)("IX Bid Adapter: Base request size has exceeded maximum request size.",{bidder:Et,code:Dt}),T;var _=C,A=0,O=!1;if(E){if("object"==typeof E.firstPartyData){var k=E.firstPartyData,R="?";for(var P in k)k.hasOwnProperty(P)&&(R+=encodeURIComponent(P)+"="+encodeURIComponent(k[P])+"&");R=R.slice(0,-1),(A=encodeURIComponent(R).length)<xt?("page"in m.site?m.site.page+=R:m.site.page=R,_+=A):(0,t.logError)("IX Bid Adapter: IX config FPD request size has exceeded maximum request size.",{bidder:Et,code:Ut})}"number"==typeof E.timeout&&(y.t=E.timeout),m.ext.ixdiag.dms="boolean"!=typeof E.detectMissingSizes||E.detectMissingSizes}for(var U=function(r){if(_>=xt||T.length>=4)return"break";for(var i=n[S[r]],o=i.missingCount,s=void 0===o?0:o,d=i.missingImps,c=void 0===d?[]:d,u=i.ixImps,l=!1,f=xt-_,g={ixImps:void 0===u?[]:u,missingBannerImpressions:c},v=Object.keys(g).map((function(e){return g[e]})).filter((function(e){return Array.isArray(e)})).reduce((function(e,t){return e.concat.apply(e,t)}),[]),h=encodeURIComponent(JSON.stringify({impressionObjects:v})).length;v.length&&h>f;)l=!0,v.pop(),h=encodeURIComponent(JSON.stringify({impressionObjects:v})).length;var b=n[S[r]].gpid,I=n[S[r]].dfp_ad_unit_code;if(v.length&&x.Mk in v[0]){var E=v[0],A={id:E.id,banner:{topframe:E.banner.topframe,format:v.map((function(e){var t=e.banner;return{w:t.w,h:t.h,ext:e.ext}}))}};(I||b)&&(A.ext={},A.ext.dfp_ad_unit_code=I,A.ext.gpid=b),"bidfloor"in v[0]&&(A.bidfloor=v[0].bidfloor),"bidfloorcur"in v[0]&&(A.bidfloorcur=v[0].bidfloorcur),m.imp.push(A),m.ext.ixdiag.msd+=s,m.ext.ixdiag.msi+=c.length}else{var k;v.forEach((function(e){return(0,bt.Z)(e,"ext.gpid",b)})),(k=m.imp).push.apply(k,v)}_+=h;var R=p.vc.getConfig("ortb2")||{};if(!(0,t.isEmpty)(R)&&!O){m.ext.ixdiag.fpd=!0;var P=(0,ht.Z)({},R.site||R.context);Object.keys(P).forEach((function(e){-1===Nt.SITE.indexOf(e)&&delete P[e]}));var U=(0,ht.Z)({},R.user);Object.keys(U).forEach((function(e){-1===Nt.USER.indexOf(e)&&delete U[e]}));var D=(0,t.deepClone)(m);if(D.site=(0,t.mergeDeep)({},D.site,P),D.user=(0,t.mergeDeep)({},D.user,U),(""+a+(0,t.parseQueryStringParameters)((0,ht.Z)({},y,{r:JSON.stringify(D)}))).length<xt){m.site=(0,t.mergeDeep)({},m.site,P),m.user=(0,t.mergeDeep)({},m.user,U),O=!0;var j=encodeURIComponent(JSON.stringify((0,ht.Z)({},P,U))).length;_+=j}else(0,t.logError)("IX Bid Adapter: FPD request size has exceeded maximum request size.",{bidder:Et,code:jt})}var B=r===S.length-1;if(l||B){var N=(0,t.deepClone)(y);(!B||w)&&(m.ext.ixdiag.sn=w,N.sn=w),w++,N.r=JSON.stringify(m),T.push({method:"GET",url:a,data:N,validBidRequests:e}),_=C,m.imp=[],m.ext.ixdiag.msd=0,m.ext.ixdiag.msi=0,O=!1}},D=0;D<S.length&&"break"!==U(D);D++);return T}function tr(e){var t=e.userId||{};return Mt.filter((function(e){return t[e]}))}function rr(e,t){if(t)for(var r,n=0;n<e.length;n++)if(r=e[n],t[0]===r[0]&&t[1]===r[1]){e.splice(n,1);break}}function nr(e,r){var n=function(e){var r=Gt(e),n=(0,i.Z)(e,"mediaTypes.video"),o=(0,i.Z)(e,"params.video");if(Jt(n,o).length)return{};for(var a in r.video=o?(0,t.deepClone)(e.params.video):{},n)-1===zt.indexOf(a)||r.video.hasOwnProperty(a)||(r.video[a]=n[a]);if(r.video.minduration>r.video.maxduration)return(0,t.logError)("IX Bid Adapter: video minduration ["+r.video.minduration+"] cannot be greater than video maxduration ["+r.video.maxduration+"]",{bidder:Et,code:Bt}),{};var s=o&&o.context||n&&n.context;if(s&&!r.video.hasOwnProperty("placement")&&(s===Me.LD?r.video.placement=1:s===Me.gZ?r.video.placement=4:(0,t.logWarn)("IX Bid Adapter: Video context '"+s+"' is not supported")),!r.video.w||!r.video.h){var d=$t((0,i.Z)(r,"video.playerSize"))||$t((0,i.Z)(e,"params.size"));if(!d)return(0,t.logWarn)("IX Bid Adapter: Video size is missing in [mediaTypes.video] missing"),{};r.video.w=d[0],r.video.h=d[1],(0,i.Z)(r,"ext.sid")||(r.ext.sid=(0,t.parseGPTSingleSizeArray)(d))}return Kt(e,r,x.pX),r}(e);0!=Object.keys(n).length&&(r[e.transactionId]={},r[e.transactionId].ixImps=[],r[e.transactionId].ixImps.push(n),r[e.transactionId].gpid=(0,i.Z)(e,"ortb2Imp.ext.gpid"))}function ir(e,r,n){var o=(0,ht.Z)({},{detectMissingSizes:!0},p.vc.getConfig("ix")),a=function(e){var r=Gt(e);r.banner={};var n=(0,i.Z)(e,"params.size");return n&&(r.banner.w=n[0],r.banner.h=n[1],!(0,i.Z)(r,"ext.sid")&&(r.ext.sid=(0,t.parseGPTSingleSizeArray)(n))),r.banner.topframe=(0,t.inIframe)()?0:1,Kt(e,r,x.Mk),r}(e),s=Yt((0,i.Z)(e,"mediaTypes.banner.sizes"),(0,i.Z)(e,"params.size"));n.hasOwnProperty(e.transactionId)||(n[e.transactionId]={}),n[e.transactionId].gpid=(0,i.Z)(e,"ortb2Imp.ext.gpid"),n[e.transactionId].dfp_ad_unit_code=(0,i.Z)(e,"ortb2Imp.ext.data.adserver.adslot"),s&&(!n[e.transactionId].hasOwnProperty("ixImps")&&(n[e.transactionId].ixImps=[]),n[e.transactionId].ixImps.push(a)),o.hasOwnProperty("detectMissingSizes")&&o.detectMissingSizes&&function(e,r,n){var o=e.transactionId;if(r.hasOwnProperty(o)){var a=[];r[o].hasOwnProperty("missingSizes")&&(a=r[o].missingSizes),rr(a,e.params.size),r[o].missingSizes=a}else if((0,i.Z)(e,"mediaTypes.banner.sizes")){var s=(0,t.deepClone)(e.mediaTypes.banner.sizes);rr(s,e.params.size),r[o]={missingSizes:s,impression:n}}}(e,r,a)}function or(e,r,n){var i=(0,t.deepClone)(r);return i.ext.sid=(0,t.parseGPTSingleSizeArray)(n),i.banner.w=n[0],i.banner.h=n[1],Kt(e,i,x.Mk),i}function ar(e){if("ERROR"===e.type&&e.arguments&&e.arguments[1]&&e.arguments[1].bidder===Et){var r={hasEnforcementHook:!1,valid:(0,t.hasDeviceAccess)()};(0,ie.S6)(10,Et,r,(function(r){r.valid&&function(e){if(Vt.localStorageIsEnabled()){var r;try{r=JSON.parse(Vt.getDataFromLocalStorage(Ft)||"{}")}catch(e){(0,t.logWarn)("ix can not read ixdiag from localStorage.")}var n=new Date;if(Object.keys(r).map((function(e){var t=new Date(e);0>t.setDate(t.getDate()+7)-n&&delete r[e]})),"ERROR"===e.type&&e.arguments&&e.arguments[1]&&e.arguments[1].bidder===Et){var i=n.toISOString().slice(0,10),o=e.arguments[1].code;o&&(r[i]=r[i]||{},!+r[i][o]&&(r[i][o]=0),r[i][o]++)}Vt.setDataInLocalStorage(Ft,JSON.stringify(r))}}(e)}))}}function sr(e){e.renderer.push((function(){var t={width:e.width,height:e.height,timeout:3e3};e.vastXml?window.IXOutstreamPlayer(e.vastXml,e.adUnitCode,t):window.IXOutstreamPlayer(e.vastUrl,e.adUnitCode,t)}))}function dr(e){var r=u.Th.install({id:e,url:"https://js-sec.indexww.com/htv/video-player.js",loaded:!1});try{r.setRender(sr)}catch(e){(0,t.logWarn)("Prebid Error calling setRender on renderer",e)}return r}var cr={code:Et,gvlid:10,aliases:[{code:Tt,gvlid:10,skipPbsAliasing:!1}],supportedMediaTypes:wt,isBidRequestValid:function(e){Wt||(o.on(s.EVENTS.AUCTION_DEBUG,ar),o.on(s.EVENTS.AD_RENDER_FAILED,ar),Wt=!0);var r,n,a=(0,i.Z)(e,"params.video"),d=(0,i.Z)(e,"params.size"),c=(0,i.Z)(e,"mediaTypes.banner.sizes"),u=(0,i.Z)(e,"mediaTypes.video"),p=(0,i.Z)(e,"mediaTypes.video.playerSize"),l=e.params.hasOwnProperty("bidFloor"),f=e.params.hasOwnProperty("bidFloorCur");if(e.hasOwnProperty("mediaType")&&!(0,t.contains)(wt,e.mediaType))return(0,t.logWarn)("IX Bid Adapter: media type is not supported."),!1;if((0,i.Z)(e,"mediaTypes.banner")&&!c)return!1;if(d){var m=$t(d);if(!m)return(0,t.logError)("IX Bid Adapter: size has invalid format.",{bidder:Et,code:At}),!1;if(!Yt(e.sizes,m)&&!Yt(p,m)&&!Yt(c,m))return(0,t.logError)("IX Bid Adapter: bid size is not included in ad unit sizes or player size.",{bidder:Et,code:Ot}),!1}if("string"!=typeof e.params.siteId&&"number"!=typeof e.params.siteId)return(0,t.logError)("IX Bid Adapter: siteId must be string or number type.",{bidder:Et,code:Rt}),!1;if("string"!=typeof e.params.siteId&&isNaN(+e.params.siteId))return(0,t.logError)("IX Bid Adapter: siteId must valid value",{bidder:Et,code:Rt}),!1;if((l||f)&&!(l&&f&&(r=e.params.bidFloor,n=e.params.bidFloorCur,"number"==typeof r&&"string"==typeof n&&n.match(/^[A-Z]{3}$/))))return(0,t.logError)("IX Bid Adapter: bidFloor / bidFloorCur parameter has invalid format.",{bidder:Et,code:Pt}),!1;if(u&&a){var g=Jt(u,a);if(g.length)return g.forEach((function(e){(0,t.logError)(e,{bidder:Et,code:kt})})),!1}return!0},buildRequests:function(e,t){var r=[],n={},o={},a={},s={};for(var d in e.forEach((function(e){var t=Object.keys((0,i.Z)(e,"mediaTypes",{}));switch(function(e){return(0,i.Z)(e,"params.video")&&(0,i.Z)(e,"mediaTypes.video")?x.pX:x.Mk}(e)){case x.Mk:ir(e,s,n);break;case x.pX:nr(e,o)}(0,c.q9)(t,x.Mk)&&(0,c.q9)(t,x.pX)&&(a[e.transactionId]=e)})),Object.keys(a).forEach((function(e){var t=a[e];n[e]||ir(t,s,n),o[e]||nr(t,o)})),s)if(s.hasOwnProperty(d)){var u=s[d].missingSizes;n.hasOwnProperty(d)||(n[d]={}),n[d].hasOwnProperty("missingImps")||(n[d].missingImps=[],n[d].missingCount=0);for(var p,l=s[d].impression,f=0;f<u.length;f++)p=or(e[0],l,u[f]),n[d].missingImps.push(p),n[d].missingCount++}return 0<Object.keys(n).length&&r.push.apply(r,er(e,t,n,7.2)),0<Object.keys(o).length&&r.push.apply(r,er(e,t,o,8.1)),r},interpretResponse:function(e,r){var n=[],o=null;if(!e.hasOwnProperty("body")||!e.body.hasOwnProperty("seatbid"))return n;for(var a=e.body,s=a.seatbid,d=0;d<s.length;d++)if(s[d].hasOwnProperty("bid")){for(var c,u=s[d].bid,p=JSON.parse(r.data.r),l=0;l<u.length;l++)c=Qt(u[l].impid,p.imp,r.validBidRequests),o=Xt(u[l],a.cur,c),(0,i.Z)(o,"mediaTypes.video.renderer")||"outstream"!==(0,i.Z)(o,"mediaTypes.video.context")||(o.renderer=dr(u[l].bidId)),n.push(o);if((0,i.Z)(p,"ext.ixdiag.err")&&Vt.localStorageIsEnabled())try{Vt.removeDataFromLocalStorage(Ft)}catch(e){(0,t.logError)("ix can not clear ixdiag from localStorage.")}}return n},transformBidParams:function(e){return(0,t.convertTypes)({siteID:"number"},e)},getUserSyncs:function(e){return e.iframeEnabled?[{type:"iframe",url:"https://js-sec.indexww.com/um/ixmatch.html"}]:[]}};(0,qe.dX)(cr),window.pbjs.installedModules.push("ixBidAdapter");var ur="pubmatic",pr="PubMatic: ",lr="USD",fr=["groupm"],mr=void 0,gr="https://pubmatic.bbvms.com/r/".concat("$RENDERER",".js"),vr={kadpageurl:"",gender:"",yob:"",lat:"",lon:"",wiid:"",profId:"",verId:""},hr="number",br="string",yr="boolean",Ir="array",Er={mimes:Ir,minduration:hr,maxduration:hr,startdelay:hr,playbackmethod:Ir,api:Ir,protocols:Ir,w:hr,h:hr,battr:Ir,linearity:hr,placement:hr,minbitrate:hr,maxbitrate:hr,skip:hr},Tr={TITLE:{ID:1,KEY:"title",TYPE:0},IMAGE:{ID:2,KEY:"image",TYPE:0},ICON:{ID:3,KEY:"icon",TYPE:0},SPONSOREDBY:{ID:4,KEY:"sponsoredBy",TYPE:1},BODY:{ID:5,KEY:"body",TYPE:2},CLICKURL:{ID:6,KEY:"clickUrl",TYPE:0},VIDEO:{ID:7,KEY:"video",TYPE:0},EXT:{ID:8,KEY:"ext",TYPE:0},DATA:{ID:9,KEY:"data",TYPE:0},LOGO:{ID:10,KEY:"logo",TYPE:0},SPONSORED:{ID:11,KEY:"sponsored",TYPE:1},DESC:{ID:12,KEY:"data",TYPE:2},RATING:{ID:13,KEY:"rating",TYPE:3},LIKES:{ID:14,KEY:"likes",TYPE:4},DOWNLOADS:{ID:15,KEY:"downloads",TYPE:5},PRICE:{ID:16,KEY:"price",TYPE:6},SALEPRICE:{ID:17,KEY:"saleprice",TYPE:7},PHONE:{ID:18,KEY:"phone",TYPE:8},ADDRESS:{ID:19,KEY:"address",TYPE:9},DESC2:{ID:20,KEY:"desc2",TYPE:10},DISPLAYURL:{ID:21,KEY:"displayurl",TYPE:11},CTA:{ID:22,KEY:"cta",TYPE:12}},wr=1,xr=2,Sr=3,Cr=[{id:Tr.SPONSOREDBY.ID,required:!0,data:{type:1}},{id:Tr.TITLE.ID,required:!0},{id:Tr.IMAGE.ID,required:!0}],_r={1:"PMP",5:"PREF",6:"PMPG"},Ar=1,Or=2,kr={bootstrapPlayer:function(e){var r={code:e.adUnitCode};if(e.vastXml?r.vastXml=e.vastXml:e.vastUrl&&(r.vastUrl=e.vastUrl),e.vastXml||e.vastUrl){for(var n,i=kr.getRendererId("pubmatic",e.rendererCode),o=document.getElementById(e.adUnitCode),a=0;a<window.bluebillywig.renderers.length;a++)if(window.bluebillywig.renderers[a]._id===i){n=window.bluebillywig.renderers[a];break}n?n.bootstrap(r,o):(0,t.logWarn)("PubMatic: : Couldn't find a renderer with "+i)}else(0,t.logWarn)("PubMatic: : No vastXml or vastUrl on bid, bailing...")},newRenderer:function(e,r){var n=gr.replace("$RENDERER",e),i=u.Th.install({url:n,loaded:!1,adUnitCode:r});try{i.setRender(kr.outstreamRender)}catch(e){(0,t.logWarn)("PubMatic: : Error tying to setRender on renderer",e)}return i},outstreamRender:function(e){e.renderer.push((function(){kr.bootstrapPlayer(e)}))},getRendererId:function(e,t){return e+"-"+t}},Rr=[x.Mk,x.pX,x.B5],Pr=0,Ur=!1,Dr={},jr={};function Br(e,r){return(0,t.isStr)(r)?"pmzoneid"===e?r.split(",").slice(0,50).map((function(e){return e.trim()})).join():"kadfloor"===e||"lat"===e||"lon"===e?parseFloat(r)||mr:"yob"===e?parseInt(r)||mr:r:(r&&(0,t.logWarn)("PubMatic: Ignoring param key: "+e+", expects string-value, found "+typeof r),mr)}function Nr(e){var r;e.params.adUnit="",e.params.adUnitIndex="0",e.params.width=0,e.params.height=0,e.params.adSlot=(r=e.params.adSlot,(0,t.isStr)(r)?r.replace(/^\s+/g,"").replace(/\s+$/g,""):(r&&(0,t.logWarn)("pubmatic: adSlot must be a string. Ignoring adSlot"),""));var n=e.params.adSlot,i=n.split(":");if(n=i[0],2==i.length&&(e.params.adUnitIndex=i[1]),i=n.split("@"),e.params.adUnit=i[0],1<i.length){if(2!=(i=i[1].split("x")).length)return void(0,t.logWarn)("PubMatic: AdSlot Error: adSlot not in required format");e.params.width=parseInt(i[0],10),e.params.height=parseInt(i[1],10)}else if(e.hasOwnProperty("mediaTypes")&&e.mediaTypes.hasOwnProperty(x.Mk)&&e.mediaTypes.banner.hasOwnProperty("sizes")){for(var o=0,a=[];o<e.mediaTypes.banner.sizes.length;o++)2===e.mediaTypes.banner.sizes[o].length&&a.push(e.mediaTypes.banner.sizes[o]);e.mediaTypes.banner.sizes=a,1<=e.mediaTypes.banner.sizes.length&&(e.params.width=e.mediaTypes.banner.sizes[0][0],e.params.height=e.mediaTypes.banner.sizes[0][1],e.mediaTypes.banner.sizes=e.mediaTypes.banner.sizes.splice(1,e.mediaTypes.banner.sizes.length-1))}}function qr(e,r,n){var i;return n===yr?i=t.isBoolean:n===hr?i=t.isNumber:n===br?i=t.isStr:n===Ir&&(i=t.isArray),i(r)?r:((0,t.logWarn)("PubMatic: Ignoring param key: "+e+", expects "+n+", found "+typeof r),mr)}function Mr(e,t){var r=e.KEY;return{id:e.ID,required:t[r].required?1:0,data:{type:e.TYPE,len:t[r].len,ext:t[r].ext}}}function Zr(e){var r={assets:[]};for(var n in e){if(e.hasOwnProperty(n)){var i={};if(!(r.assets&&0<r.assets.length&&r.assets.hasOwnProperty(n)))switch(n){case Tr.TITLE.KEY:e[n].len||e[n].length?i={id:Tr.TITLE.ID,required:e[n].required?1:0,title:{len:e[n].len||e[n].length,ext:e[n].ext}}:(0,t.logWarn)("PubMatic: Error: Title Length is required for native ad: "+JSON.stringify(e));break;case Tr.IMAGE.KEY:e[n].sizes&&0<e[n].sizes.length?i={id:Tr.IMAGE.ID,required:e[n].required?1:0,img:{type:Sr,w:e[n].w||e[n].width||(e[n].sizes?e[n].sizes[0]:mr),h:e[n].h||e[n].height||(e[n].sizes?e[n].sizes[1]:mr),wmin:e[n].wmin||e[n].minimumWidth||(e[n].minsizes?e[n].minsizes[0]:mr),hmin:e[n].hmin||e[n].minimumHeight||(e[n].minsizes?e[n].minsizes[1]:mr),mimes:e[n].mimes,ext:e[n].ext}}:(0,t.logWarn)("PubMatic: Error: Image sizes is required for native ad: "+JSON.stringify(e));break;case Tr.ICON.KEY:e[n].sizes&&0<e[n].sizes.length?i={id:Tr.ICON.ID,required:e[n].required?1:0,img:{type:wr,w:e[n].w||e[n].width||(e[n].sizes?e[n].sizes[0]:mr),h:e[n].h||e[n].height||(e[n].sizes?e[n].sizes[1]:mr)}}:(0,t.logWarn)("PubMatic: Error: Icon sizes is required for native ad: "+JSON.stringify(e));break;case Tr.VIDEO.KEY:i={id:Tr.VIDEO.ID,required:e[n].required?1:0,video:{minduration:e[n].minduration,maxduration:e[n].maxduration,protocols:e[n].protocols,mimes:e[n].mimes,ext:e[n].ext}};break;case Tr.EXT.KEY:i={id:Tr.EXT.ID,required:e[n].required?1:0};break;case Tr.LOGO.KEY:i={id:Tr.LOGO.ID,required:e[n].required?1:0,img:{type:xr,w:e[n].w||e[n].width||(e[n].sizes?e[n].sizes[0]:mr),h:e[n].h||e[n].height||(e[n].sizes?e[n].sizes[1]:mr)}};break;case Tr.SPONSOREDBY.KEY:case Tr.BODY.KEY:case Tr.RATING.KEY:case Tr.LIKES.KEY:case Tr.DOWNLOADS.KEY:case Tr.PRICE.KEY:case Tr.SALEPRICE.KEY:case Tr.PHONE.KEY:case Tr.ADDRESS.KEY:case Tr.DESC2.KEY:case Tr.DISPLAYURL.KEY:case Tr.CTA.KEY:i=Mr(jr[n],e)}}i&&i.id&&(r.assets[r.assets.length]=i)}var o=Cr.length,a=0;return Cr.forEach((function(e){for(var t=r.assets.length,n=0;n<t;n++)if(e.id==r.assets[n].id){a++;break}})),Ur=o!=a,r}function zr(e){var r,n=e.mediaTypes.banner.sizes,i=[];if(n!==mr&&(0,t.isArray)(n)){if(r={},e.params.width||e.params.height)r.w=e.params.width,r.h=e.params.height;else{if(0===n.length)return r=mr,(0,t.logWarn)("PubMatic: Error: mediaTypes.banner.size missing for adunit: "+e.params.adUnit+". Ignoring the banner impression in the adunit."),r;r.w=parseInt(n[0][0],10),r.h=parseInt(n[0][1],10),n=n.splice(1,n.length-1)}0<n.length&&(i=[],n.forEach((function(e){1<e.length&&i.push({w:e[0],h:e[1]})})),0<i.length&&(r.format=i)),r.pos=0,r.topframe=(0,t.inIframe)()?0:1}else(0,t.logWarn)("PubMatic: Error: mediaTypes.banner.size missing for adunit: "+e.params.adUnit+". Ignoring the banner impression in the adunit."),r=mr;return r}function Fr(e){var r,n=(0,t.mergeDeep)((0,i.Z)(e.mediaTypes,"video"),e.params.video);if(n!==mr){for(var o in r={},function(e,r){(0,i.Z)(e,"placement")||(0,t.logWarn)("Video.Placement param missing for "+r)}(n,e.adUnitCode),Er)n.hasOwnProperty(o)&&(r[o]=qr(o,n[o],Er[o]));(0,t.isArray)(e.mediaTypes.video.playerSize[0])?(r.w=parseInt(e.mediaTypes.video.playerSize[0][0],10),r.h=parseInt(e.mediaTypes.video.playerSize[0][1],10)):(0,t.isNumber)(e.mediaTypes.video.playerSize[0])&&(r.w=parseInt(e.mediaTypes.video.playerSize[0],10),r.h=parseInt(e.mediaTypes.video.playerSize[1],10))}else r=mr,(0,t.logWarn)("PubMatic: Error: Video config params missing for adunit: "+e.params.adUnit+" with mediaType set as video. Ignoring video impression in the adunit.");return r}function Wr(e,t,r){var n=t.rtd&&t.rtd.jwplayer&&t.rtd.jwplayer.targeting||void 0,i="";if(void 0!==n&&""!==n&&n.hasOwnProperty("segments")){var o,a=n.segments.length;i+="jw-id="+n.content.id;for(var s=0;s<a;s++)i+="|jw-"+n.segments[s]+"=1";r?void 0===e.dctr||0==e.dctr.length?e.dctr=i:e.dctr+="|"+i:(o=e.ext)&&void 0===o.key_val?o.key_val=i:o.key_val+="|"+i}}function Vr(e){var r,n,o={},a={},s=e.hasOwnProperty("sizes")?e.sizes:[],d="",c=[];if(function(e,r){r.params.deals&&((0,t.isArray)(r.params.deals)?r.params.deals.forEach((function(r){(0,t.isStr)(r)&&3<r.length?(!e.pmp&&(e.pmp={private_auction:0,deals:[]}),e.pmp.deals.push({id:r})):(0,t.logWarn)("PubMatic: Error: deal-id present in array bid.params.deals should be a strings with more than 3 charaters length, deal-id ignored: "+r)})):(0,t.logWarn)("PubMatic: Error: bid.params.deals should be an array of strings."))}(o={id:e.bidId,tagid:e.params.adUnit||void 0,bidfloor:Br("kadfloor",e.params.kadfloor),secure:1,ext:{pmZoneId:Br("pmzoneid",e.params.pmzoneid)},bidfloorcur:e.params.currency?Br("currency",e.params.currency):lr},e),function(e,r){var n,i="";if(r.params.dctr)if(i=r.params.dctr,(0,t.isStr)(i)&&0<i.length){var o=i.split("|");i="",o.forEach((function(e){i+=0<e.length?e.trim()+"|":""})),n=i.length,"|"===i.substring(n,n-1)&&(i=i.substring(0,n-1)),e.ext.key_val=i.trim()}else(0,t.logWarn)("PubMatic: Ignoring param : dctr with value : "+i+", expects string-value, found empty or non-string value")}(o,e),Wr(o,e),e.hasOwnProperty("mediaTypes"))for(d in e.mediaTypes)d===x.Mk?(r=zr(e))!==mr&&(o.banner=r):d===x.B5?(a.request=JSON.stringify(Zr(e.nativeParams)),Ur?(0,t.logWarn)("PubMatic: Error: Error in Native adunit "+e.params.adUnit+". Ignoring the adunit. Refer to http://prebid.org/dev-docs/show-native-ads.html for more details."):o.native=a):d===x.pX&&((n=Fr(e))!==mr&&(o.video=n));else r={pos:0,w:e.params.width,h:e.params.height,topframe:(0,t.inIframe)()?0:1},(0,t.isArray)(s)&&1<s.length&&((s=s.splice(1,s.length-1)).forEach((function(e){c.push({w:e[0],h:e[1]})})),r.format=c),o.banner=r;return function(e,t){var r=(0,ht.Z)({},(0,i.Z)(t,"ortb2Imp.ext.data"));Object.keys(r).forEach((function(t){"pbadslot"===t?"string"==typeof r[t]&&r[t]&&(0,bt.Z)(e,"ext.data.pbadslot",r[t]):"adserver"===t?["name","adslot"].forEach((function(t){var n=(0,i.Z)(r,"adserver."+t);"string"==typeof n&&n&&((0,bt.Z)(e,"ext.data.adserver."+t.toLowerCase(),n),"adslot"===t&&(0,bt.Z)(e,"ext.dfp_ad_unit_code",n))})):(0,bt.Z)(e,"ext.data."+t,r[t])}))}(o,e),function(e,r){var n=-1;"function"!=typeof r.getFloor||p.vc.getConfig("pubmatic.disableFloors")||[x.Mk,x.pX,x.B5].forEach((function(i){if(e.hasOwnProperty(i)){var o=[];"banner"===i&&(e[i].w&&e[i].h&&o.push([e[i].w,e[i].h]),(0,t.isArray)(e[i].format)&&e[i].format.forEach((function(e){return o.push([e.w,e.h])}))),0===o.length&&o.push("*"),o.forEach((function(o){var a=r.getFloor({currency:e.bidfloorcur,mediaType:i,size:o});if((0,t.logInfo)(pr,"floor from floor module returned for mediatype:",i," and size:",o," is: currency",a.currency,"floor",a.floor),"object"==typeof a&&a.currency===e.bidfloorcur&&!isNaN(parseInt(a.floor))){var s=parseFloat(a.floor);(0,t.logInfo)(pr,"floor from floor module:",s,"previous floor value",n,"Min:",Math.min(s,n)),n=-1===n?s:Math.min(s,n),(0,t.logInfo)(pr,"new floor value:",n)}}))}})),e.bidfloor&&((0,t.logInfo)(pr,"floor from floor module:",n,"impObj.bidfloor",e.bidfloor,"Max:",Math.max(n,e.bidfloor)),n=Math.max(n,e.bidfloor)),e.bidfloor=!isNaN(n)&&0<n?n:mr,(0,t.logInfo)(pr,"new impObj.bidfloor value:",e.bidfloor)}(o,e),o.hasOwnProperty(x.Mk)||o.hasOwnProperty(x.B5)||o.hasOwnProperty(x.pX)?o:mr}function(){}function Gr(e){return!!(!0===(0,t.isArray)(e)&&0<e.length)}(0,t._each)(Tr,(function(e){Dr[e.ID]=e.KEY})),(0,t._each)(Tr,(function(e){jr[e.KEY]=e}));var Kr={code:ur,gvlid:76,supportedMediaTypes:[x.Mk,x.pX,x.B5],aliases:[{code:"groupm",gvlid:98}],isBidRequestValid:function(e){if(e&&e.params){if(!(0,t.isStr)(e.params.publisherId))return(0,t.logWarn)("PubMatic: Error: publisherId is mandatory and cannot be numeric (wrap it in quotes in your config). Call to OpenBid will not be sent for ad unit: "+JSON.stringify(e)),!1;if(e.hasOwnProperty("mediaTypes")&&e.mediaTypes.hasOwnProperty(x.pX)){var r=(0,i.Z)(e.mediaTypes,"video.mimes"),n=(0,i.Z)(e,"params.video.mimes");if(!1===Gr(r)&&!1===Gr(n))return(0,t.logWarn)("PubMatic: Error: For video ads, bid.mediaTypes.video.mimes OR bid.params.video.mimes should be present and must be a non-empty array. Call to OpenBid will not be sent for ad unit:"+JSON.stringify(e)),!1;if(!e.mediaTypes[x.pX].hasOwnProperty("context"))return(0,t.logError)("PubMatic: : no context specified in bid. Rejecting bid: ",e),!1;if("outstream"===e.mediaTypes[x.pX].context&&!(0,t.isStr)(e.params.outstreamAU)&&!e.hasOwnProperty("renderer")&&!e.mediaTypes[x.pX].hasOwnProperty("renderer"))return e.mediaTypes.hasOwnProperty(x.Mk)||e.mediaTypes.hasOwnProperty(x.B5)?(delete e.mediaTypes[x.pX],(0,t.logWarn)('PubMatic: : for "outstream" bids either outstreamAU parameter must be provided or ad unit supplied renderer is required. Rejecting mediatype Video of bid: ',e),!0):((0,t.logError)('PubMatic: : for "outstream" bids either outstreamAU parameter must be provided or ad unit supplied renderer is required. Rejecting bid: ',e),!1)}return!0}return!1},buildRequests:function(e,r){if(r&&fr.includes(r.bidderCode))(0,t.logInfo)("For all publishers using "+r.bidderCode+" bidder, the PubMatic bidder will also be enabled so PubMatic server will respond back with the bids that needs to be submitted for PubMatic and "+r.bidderCode+" in the network call sent by PubMatic bidder. Hence we do not want to create a network call for "+r.bidderCode+". This way we are trying to save a network call from browser.");else{var n;r&&r.refererInfo&&(n=r.refererInfo);var o,a,s,d=function(e){return{pageURL:e&&e.referer?e.referer:window.location.href,refURL:window.document.referrer}}(n),c=function(e){return{id:""+(new Date).getTime(),at:1,cur:[lr],imp:[],site:{page:e.pageURL,ref:e.refURL,publisher:{}},device:{ua:navigator.userAgent,js:1,dnt:"yes"==navigator.doNotTrack||"1"==navigator.doNotTrack||"1"==navigator.msDoNotTrack?1:0,h:screen.height,w:screen.width,language:navigator.language},user:{},ext:{}}}(d),u="",l=[],f=[];if(e.forEach((function(e){if((o=(0,t.deepClone)(e)).params.adSlot=o.params.adSlot||"",Nr(o),o.mediaTypes&&o.mediaTypes.hasOwnProperty("video")||o.params.hasOwnProperty("video"));else if(!(o.hasOwnProperty("mediaTypes")&&o.mediaTypes.hasOwnProperty(x.B5)||0!==o.params.width||0!==o.params.height))return void(0,t.logWarn)("PubMatic: Skipping the non-standard adslot: ",o.params.adSlot,JSON.stringify(o));d.pubId=d.pubId||o.params.publisherId,(d=function(e,r){var n,i,o;for(n in r.kadpageurl||(r.kadpageurl=r.pageURL),vr)vr.hasOwnProperty(n)&&(i=e[n])&&("object"==typeof(o=vr[n])&&(i=o.f(i,r)),(0,t.isStr)(i)?r[n]=i:(0,t.logWarn)("PubMatic: Ignoring param : "+n+" with value : "+vr[n]+", expects string-value, found "+typeof i));return r}(o.params,d)).transactionId=o.transactionId,""===u?u=o.params.currency||mr:o.params.hasOwnProperty("currency")&&u!==o.params.currency&&(0,t.logWarn)("PubMatic: Currency specifier ignored. Only one currency permitted."),o.params.currency=u,o.params.hasOwnProperty("dctr")&&(0,t.isStr)(o.params.dctr)&&l.push(o.params.dctr),o.params.hasOwnProperty("bcat")&&(0,t.isArray)(o.params.bcat)&&(f=f.concat(o.params.bcat));var r=Vr(o);r&&c.imp.push(r)})),0!=c.imp.length){c.site.publisher.id=d.pubId.trim(),Pr=d.pubId.trim(),c.ext.wrapper={},c.ext.wrapper.profile=parseInt(d.profId)||mr,c.ext.wrapper.version=parseInt(d.verId)||mr,c.ext.wrapper.wiid=d.wiid||r.auctionId,c.ext.wrapper.wv="prebid_prebid_6.19.0",c.ext.wrapper.transactionId=d.transactionId,c.ext.wrapper.wp="pbjs",c.user.gender=d.gender?d.gender.trim():mr,c.user.geo={},c.user.geo.lat=Br("lat",d.lat),c.user.geo.lon=Br("lon",d.lon),c.user.yob=Br("yob",d.yob),c.device.geo=c.user.geo,c.site.page=d.kadpageurl.trim()||c.site.page.trim(),c.site.domain=(a=c.site.page,(s=document.createElement("a")).href=a,s.hostname),"object"==typeof p.vc.getConfig("content")&&(c.site.content=p.vc.getConfig("content")),"object"==typeof p.vc.getConfig("device")&&(c.device=Object.assign(c.device,p.vc.getConfig("device"))),(0,bt.Z)(c,"source.tid",d.transactionId),-1!==window.location.href.indexOf("pubmaticTest=true")&&(c.test=1),e[0].schain&&(0,bt.Z)(c,"source.ext.schain",e[0].schain),r&&r.gdprConsent&&((0,bt.Z)(c,"user.ext.consent",r.gdprConsent.consentString),(0,bt.Z)(c,"regs.ext.gdpr",r.gdprConsent.gdprApplies?1:0)),r&&r.uspConsent&&(0,bt.Z)(c,"regs.ext.us_privacy",r.uspConsent),!0===p.vc.getConfig("coppa")&&(0,bt.Z)(c,"regs.coppa",1),function(e,r){var n=(0,i.Z)(r,"0.userIdAsEids"),o=Lr(r,Ar);o&&(!n&&(n=[]),n.push(o)),(0,t.isArray)(n)&&0<n.length&&(0,bt.Z)(e,"user.eids",n)}(c,e),function(e,r){0<(r=r.filter((function(e){return!("string"!=typeof e&&((0,t.logWarn)("PubMatic: bcat: Each category should be a string, ignoring category: "+e),1))})).map((function(e){return e.trim()})).filter((function(e,r,n){return 3<e.length?n.indexOf(e)===r:void(0,t.logWarn)("PubMatic: bcat: Each category should have a value of a length of more than 3 characters, ignoring category: "+e)}))).length&&((0,t.logWarn)("PubMatic: bcat: Selected: ",r),e.bcat=r)}(c,f),function(e,t){var r=Lr(t,Or);r&&(!e.user&&(e.user={}),!e.user.data&&(e.user.data=[]),e.user.data.push(r))}(c,e);var m=p.vc.getConfig("ortb2")||{};return m.site&&(0,t.mergeDeep)(c,{site:m.site}),m.user&&(0,t.mergeDeep)(c,{user:m.user}),"object"==typeof p.vc.getConfig("app")&&(c.app=p.vc.getConfig("app"),c.app.publisher=c.site.publisher,c.app.ext=c.site.ext||mr,"object"!=typeof c.app.content&&(c.app.content=c.site.content||mr),delete c.site),{method:"POST",url:"https://hbopenbid.pubmatic.com/translator?source=prebid-client",data:JSON.stringify(c),bidderRequest:r}}}},interpretResponse:function(e,r){var n=[],i=lr,o=JSON.parse(r.data),a=o.site&&o.site.ref?o.site.ref:"";try{e.body&&e.body.seatbid&&(0,t.isArray)(e.body.seatbid)&&(i=e.body.cur||i,e.body.seatbid.forEach((function(e){e.bid&&(0,t.isArray)(e.bid)&&e.bid.forEach((function(s){var d={requestId:s.impid,cpm:(parseFloat(s.price)||0).toFixed(2),width:s.w,height:s.h,creativeId:s.crid||s.id,dealId:s.dealid,currency:i,netRevenue:true,ttl:300,referrer:a,ad:s.adm,pm_seat:e.seat||null,pm_dspid:s.ext&&s.ext.dspid?s.ext.dspid:null,partnerImpId:s.id||""};o.imp&&0<o.imp.length&&o.imp.forEach((function(e){if(s.impid===e.id)switch(function(e,r){if(e.ext&&null!=e.ext.bidtype)r.mediaType=Rr[e.ext.bidtype];else{(0,t.logInfo)("PubMatic: bid.ext.bidtype does not exist, checking alternatively for mediaType");var n=e.adm,i="",o=new RegExp(/VAST\s+version/);if(0<=n.indexOf('span class="PubAPIAd"'))r.mediaType=x.Mk;else if(o.test(n))r.mediaType=x.pX;else try{(i=JSON.parse(n.replace(/\\/g,"")))&&i.native&&(r.mediaType=x.B5)}catch(e){(0,t.logWarn)("PubMatic: Error: Cannot parse native reponse for ad response: "+n)}}}(s,d),d.mediaType){case x.Mk:break;case x.pX:d.width=s.hasOwnProperty("w")?s.w:e.video.w,d.height=s.hasOwnProperty("h")?s.h:e.video.h,d.vastXml=s.adm,function(e,t){var r,n,i;if(t.bidderRequest&&t.bidderRequest.bids){for(var o=0;o<t.bidderRequest.bids.length;o++)t.bidderRequest.bids[o].bidId===e.requestId&&(r=t.bidderRequest.bids[o].params,n=t.bidderRequest.bids[o].mediaTypes[x.pX].context,i=t.bidderRequest.bids[o].adUnitCode);n&&"outstream"===n&&r&&r.outstreamAU&&i&&(e.rendererCode=r.outstreamAU,e.renderer=kr.newRenderer(e.rendererCode,i))}}(d,r);break;case x.B5:!function(e,r){if(r.native={},e.hasOwnProperty("adm")){var n="";try{n=JSON.parse(e.adm.replace(/\\/g,""))}catch(e){return void(0,t.logWarn)("PubMatic: Error: Cannot parse native reponse for ad response: "+r.adm)}if(n&&n.native&&n.native.assets&&0<n.native.assets.length){r.mediaType=x.B5;for(var i=0,o=n.native.assets.length;i<o;i++)switch(n.native.assets[i].id){case Tr.TITLE.ID:r.native.title=n.native.assets[i].title&&n.native.assets[i].title.text;break;case Tr.IMAGE.ID:r.native.image={url:n.native.assets[i].img&&n.native.assets[i].img.url,height:n.native.assets[i].img&&n.native.assets[i].img.h,width:n.native.assets[i].img&&n.native.assets[i].img.w};break;case Tr.ICON.ID:r.native.icon={url:n.native.assets[i].img&&n.native.assets[i].img.url,height:n.native.assets[i].img&&n.native.assets[i].img.h,width:n.native.assets[i].img&&n.native.assets[i].img.w};break;case Tr.SPONSOREDBY.ID:case Tr.BODY.ID:case Tr.LIKES.ID:case Tr.DOWNLOADS.ID:case Tr.PRICE:case Tr.SALEPRICE.ID:case Tr.PHONE.ID:case Tr.ADDRESS.ID:case Tr.DESC2.ID:case Tr.CTA.ID:case Tr.RATING.ID:case Tr.DISPLAYURL.ID:r.native[Dr[n.native.assets[i].id]]=n.native.assets[i].data&&n.native.assets[i].data.value}r.native.clickUrl=n.native.link&&n.native.link.url,r.native.clickTrackers=n.native.link&&n.native.link.clicktrackers||[],r.native.impressionTrackers=n.native.imptrackers||[],r.native.jstracker=n.native.jstracker||[],r.width||(r.width=0),r.height||(r.height=0)}}}(s,d)}})),s.ext&&s.ext.deal_channel&&(d.dealChannel=_r[s.ext.deal_channel]||null),d.meta={},s.ext&&s.ext.dspid&&(d.meta.networkId=s.ext.dspid),s.ext&&s.ext.advid&&(d.meta.buyerId=s.ext.advid),s.adomain&&0<s.adomain.length&&(d.meta.advertiserDomains=s.adomain,d.meta.clickUrl=s.adomain[0]),e.ext&&e.ext.buyid&&(d.adserverTargeting={hb_buyid_pubmatic:e.ext.buyid}),s.ext&&!!s.ext.marketplace&&fr.includes(s.ext.marketplace)&&(d.bidderCode=s.ext.marketplace,d.bidder=s.ext.marketplace),n.push(d)}))})))}catch(e){(0,t.logError)(e)}return n},getUserSyncs:function(e,t,r,n){var i=""+Pr;return r&&(i+="&gdpr="+(r.gdprApplies?1:0),i+="&gdpr_consent="+encodeURIComponent(r.consentString||"")),n&&(i+="&us_privacy="+encodeURIComponent(n)),!0===p.vc.getConfig("coppa")&&(i+="&coppa=1"),e.iframeEnabled?[{type:"iframe",url:"https://ads.pubmatic.com/AdServer/js/user_sync.html?kdntuid=1&p="+i}]:[{type:"image",url:"https://image8.pubmatic.com/AdServer/ImgSync?p="+i}]},transformBidParams:function(e,r,n){return Wr(e,n.bids[0],!0),(0,t.convertTypes)({publisherId:"string",adSlot:"string"},e)}};(0,qe.dX)(Kr),window.pbjs.installedModules.push("pubmaticBidAdapter");var Xr="https://video-outstream.rubiconproject.com/apex-2.2.1.js",Hr={};p.vc.getConfig("rubicon",(function(e){(0,t.mergeDeep)(Hr,e.rubicon)}));var Yr={1:"468x60",2:"728x90",5:"120x90",7:"125x125",8:"120x600",9:"160x600",10:"300x600",13:"200x200",14:"250x250",15:"300x250",16:"336x280",17:"240x400",19:"300x100",31:"980x120",32:"250x360",33:"180x500",35:"980x150",37:"468x400",38:"930x180",39:"750x100",40:"750x200",41:"750x300",42:"2x4",43:"320x50",44:"300x50",48:"300x300",53:"1024x768",54:"300x1050",55:"970x90",57:"970x250",58:"1000x90",59:"320x80",60:"320x150",61:"1000x1000",64:"580x500",65:"640x480",66:"930x600",67:"320x480",68:"1800x1000",72:"320x320",73:"320x160",78:"980x240",79:"980x300",80:"980x400",83:"480x300",85:"300x120",90:"548x150",94:"970x310",95:"970x100",96:"970x210",101:"480x320",102:"768x1024",103:"480x280",105:"250x800",108:"320x240",113:"1000x300",117:"320x100",125:"800x250",126:"200x600",144:"980x600",145:"980x150",152:"1000x250",156:"640x320",159:"320x250",179:"250x600",195:"600x300",198:"640x360",199:"640x200",213:"1030x590",214:"980x360",221:"1x1",229:"320x180",230:"2000x1400",232:"580x400",234:"6x6",251:"2x2",256:"480x820",257:"400x600",258:"500x200",259:"998x200",264:"970x1000",265:"1920x1080",274:"1800x200",278:"320x500",282:"320x400",288:"640x380",548:"500x1000",550:"980x480",552:"300x200",558:"640x640",562:"300x431",564:"320x431",566:"320x300",568:"300x150",570:"300x125",572:"250x350",574:"620x891",576:"610x877",578:"980x552",580:"505x656"};(0,t._each)(Yr,(function(e,t){return Yr[e]=t}));var Jr={code:"rubicon",gvlid:52,supportedMediaTypes:[x.Mk,x.pX],isBidRequestValid:function(e){if("object"!=typeof e.params)return!1;for(var r=0,n=["accountId","siteId","zoneId"];r<n.length;r++)if(e.params[n[r]]=parseInt(e.params[n[r]]),isNaN(e.params[n[r]]))return(0,t.logError)("Rubicon: wrong format of accountId or siteId or zoneId."),!1;var o=nn(e,!0);return!!o&&("video"!==o||function(e){var r=!0,n=Object.prototype.toString.call([]),o=Object.prototype.toString.call(0),a={mimes:n,protocols:n,linearity:o,api:n};return Object.keys(a).forEach((function(n){Object.prototype.toString.call((0,i.Z)(e,"mediaTypes.video."+n))!==a[n]&&(r=!1,(0,t.logError)("Rubicon: mediaTypes.video."+n+" is required and must be of type: "+a[n]))})),r}(e))},buildRequests:function(r,n){var o=[],a=r.filter((function(e){return"video"===nn(e)})).map((function(r){var o;r.startTime=(new Date).getTime();var a,s={id:r.transactionId,test:p.vc.getConfig("debug")?1:0,cur:["USD"],source:{tid:r.transactionId},tmax:n.timeout,imp:[{exp:p.vc.getConfig("s2sConfig.defaultTtl"),id:r.adUnitCode,secure:1,ext:(o={},o[r.bidder]=r.params,o),video:(0,i.Z)(r,"mediaTypes.video")||{}}],ext:{prebid:{channel:{name:"pbjs",version:pbjs.version},cache:{vastxml:{returnCreative:!0===Hr.returnVast}},targeting:{includewinners:!0,includebidderkeys:!1,pricegranularity:on(p.vc)},bidders:{rubicon:{integration:Hr.int_type||"pbjs"}}}}};"rubicon"!==r.bidder&&(s.ext.prebid.aliases=((a={})[r.bidder]="rubicon",a));var d,c,u,l,f=(0,e.R)().installedModules;if(f&&(!f.length||-1!==f.indexOf("rubiconAnalyticsAdapter"))&&(0,bt.Z)(s,"ext.prebid.analytics",{rubicon:{"client-analytics":!0}}),"function"!=typeof r.getFloor||Hr.disableFloors)d=parseFloat((0,i.Z)(r,"params.floor"));else{var m;try{m=r.getFloor({currency:"USD",mediaType:"video",size:en(r,"video")})}catch(e){(0,t.logError)("Rubicon: getFloor threw an error: ",e)}d="object"!=typeof m||"USD"!==m.currency||isNaN(parseInt(m.floor))?void 0:parseFloat(m.floor)}(isNaN(d)||(s.imp[0].bidfloor=d),s.imp[0].ext[r.bidder].video.size_id=(u=r,l=parseInt((0,i.Z)(u,"params.video.size_id")),isNaN(l)?"outstream"===(0,i.Z)(u,"mediaTypes."+x.pX+".context")?203:201:l),function(e,t,r){e&&("object"==typeof p.vc.getConfig("app")?e.app=p.vc.getConfig("app"):e.site={page:$r(t,r)},"object"==typeof p.vc.getConfig("device")&&(e.device=p.vc.getConfig("device")),t.params.video.language&&["site","device"].forEach((function(r){e[r]&&("site"===r?e[r].content=Object.assign({language:t.params.video.language},e[r].content):e[r]=Object.assign({language:t.params.video.language},e[r]))})))}(s,r,n),function(e,t){"object"==typeof e.imp[0].video&&void 0===e.imp[0].video.skip&&(e.imp[0].video.skip=t.params.video.skip),"object"==typeof e.imp[0].video&&void 0===e.imp[0].video.skipafter&&(e.imp[0].video.skipafter=t.params.video.skipdelay),"object"==typeof e.imp[0].video&&void 0===e.imp[0].video.pos&&("atf"===t.params.position?e.imp[0].video.pos=1:"btf"===t.params.position&&(e.imp[0].video.pos=3));var r=en(t,"video");e.imp[0].video.w=r[0],e.imp[0].video.h=r[1]}(s,r),n.gdprConsent)&&("boolean"==typeof n.gdprConsent.gdprApplies&&(c=n.gdprConsent.gdprApplies?1:0),(0,bt.Z)(s,"regs.ext.gdpr",c),(0,bt.Z)(s,"user.ext.consent",n.gdprConsent.consentString));n.uspConsent&&(0,bt.Z)(s,"regs.ext.us_privacy",n.uspConsent);var g=(0,i.Z)(n,"bids.0.userIdAsEids");g&&g.length&&(0,bt.Z)(s,"user.ext.eids",g);var v=p.vc.getConfig("user.id");v&&(0,bt.Z)(s,"user.id",v),!0===p.vc.getConfig("coppa")&&(0,bt.Z)(s,"regs.coppa",1),r.schain&&an(r.schain)&&(0,bt.Z)(s,"source.ext.schain",r.schain);var h=p.vc.getConfig("multibid");return h&&(0,bt.Z)(s,"ext.prebid.multibid",h.reduce((function(e,t){var r={};return Object.keys(t).forEach((function(e){r[e.toLowerCase()]=t[e]})),e.push(r),e}),[])),tn(r,x.pX,s),r.storedAuctionResponse&&(0,bt.Z)(s.imp[0],"ext.prebid.storedauctionresponse.id",r.storedAuctionResponse.toString()),(0,bt.Z)(s.imp[0],"ext.prebid.auctiontimestamp",n.auctionStart),{method:"POST",url:"https://"+(Hr.videoHost||"prebid-server")+".rubiconproject.com/openrtb2/auction",data:s,bidRequest:r}}));if(!0!==Hr.singleRequest)o=a.concat(r.filter((function(e){return"banner"===nn(e)})).map((function(e){var r=Jr.createSlotParams(e,n);return{method:"GET",url:"https://"+(Hr.bannerHost||"fastlane")+".rubiconproject.com/a/api/fastlane.json",data:Jr.getOrderedParams(r).reduce((function(e,n){var i=r[n];return(0,t.isStr)(i)&&""!==i||(0,t.isNumber)(i)?""+e+sn(n,i)+"&":e}),"")+"slots=1&rand="+Math.random(),bidRequest:e}})));else{var s=r.filter((function(e){return"banner"===nn(e)})).reduce((function(e,t){return(e[t.params.siteId]=e[t.params.siteId]||[]).push(t),e}),{});o=a.concat(Object.keys(s).reduce((function(e,r){return(i=s[r],o=10,i.map((function(e,t){return 0==t%o?i.slice(t,t+o):null})).filter((function(e){return e}))).forEach((function(r){var i=Jr.combineSlotUrlParams(r.map((function(e){return Jr.createSlotParams(e,n)})));e.push({method:"GET",url:"https://"+(Hr.bannerHost||"fastlane")+".rubiconproject.com/a/api/fastlane.json",data:Jr.getOrderedParams(i).reduce((function(e,r){var n=i[r];return(0,t.isStr)(n)&&""!==n||(0,t.isNumber)(n)?""+e+sn(r,n)+"&":e}),"")+"slots="+r.length+"&rand="+Math.random(),bidRequest:r})})),e;var i,o}),[]))}return o},getOrderedParams:function(e){var t=["account_id","site_id","zone_id","size_id","alt_size_ids","p_pos","gdpr","gdpr_consent","us_privacy","rp_schain"].concat(Object.keys(e).filter((function(e){return/^eid_|^tpid_/.test(e)}))).concat(["x_liverampidl","ppuid","rf","p_geo.latitude","p_geo.longitude","kw"]).concat(Object.keys(e).filter((function(e){return/^tg_v/.test(e)}))).concat(Object.keys(e).filter((function(e){return/^tg_i/.test(e)}))).concat(["tk_flint","x_source.tid","l_pb_bid_id","x_source.pchain","p_screen_res","rp_floor","rp_secure","tk_user_key"]);return t.concat(Object.keys(e).filter((function(e){return-1===t.indexOf(e)})))},combineSlotUrlParams:function(e){if(1===e.length)return e[0];var t=e.reduce((function(t,r,n){return Object.keys(r).forEach((function(i){t.hasOwnProperty(i)||(t[i]=Array(e.length)),t[i].splice(n,1,r[i])})),t}),{});return Object.keys(t).forEach((function(e){var r=t[e].join(";"),n=r.match(/^([^;]*)(;\1)+$/);t[e]=n?n[1]:r})),t},createSlotParams:function(e,r){e.startTime=(new Date).getTime();var n=e.params,o=en(e,"banner"),a=n.latLong||[],s=a[0],d=a[1],u={account_id:n.accountId,site_id:n.siteId,zone_id:n.zoneId,size_id:o[0],alt_size_ids:o.slice(1).join(",")||void 0,rp_floor:.01<=(n.floor=parseFloat(n.floor))?n.floor:void 0,rp_secure:"1",tk_flint:(Hr.int_type||"pbjs_lite")+"_v6.19.0","x_source.tid":e.transactionId,l_pb_bid_id:e.bidId,"x_source.pchain":n.pchain,p_screen_res:[window.screen.width,window.screen.height].join("x"),tk_user_key:n.userId,"p_geo.latitude":isNaN(parseFloat(s))?void 0:parseFloat(s).toFixed(4),"p_geo.longitude":isNaN(parseFloat(d))?void 0:parseFloat(d).toFixed(4),"tg_fl.eid":e.code,rf:$r(e,r)};if("function"==typeof e.getFloor&&!Hr.disableFloors){var l;try{l=e.getFloor({currency:"USD",mediaType:"banner",size:"*"})}catch(e){(0,t.logError)("Rubicon: getFloor threw an error: ",e)}u.rp_hard_floor="object"!=typeof l||"USD"!==l.currency||isNaN(parseInt(l.floor))?void 0:l.floor}var f={1:"atf",3:"btf"}[(0,i.Z)(e,"mediaTypes.banner.pos")]||"";u.p_pos="atf"===n.position||"btf"===n.position?n.position:f;var m=p.vc.getConfig("user.id");return m&&(u.ppuid=m),e.userIdAsEids&&e.userIdAsEids.forEach((function(e){try{if("adserver.org"===e.source?(u.tpid_tdid=e.uids[0].id,u["eid_adserver.org"]=e.uids[0].id):"liveintent.com"===e.source?(u["tpid_liveintent.com"]=e.uids[0].id,u["eid_liveintent.com"]=e.uids[0].id,e.ext&&Array.isArray(e.ext.segments)&&e.ext.segments.length&&(u["tg_v.LIseg"]=e.ext.segments.join(","))):"liveramp.com"===e.source?u.x_liverampidl=e.uids[0].id:"id5-sync.com"===e.source?u["eid_id5-sync.com"]=e.uids[0].id+"^"+e.uids[0].atype+"^"+(e.uids[0].ext&&e.uids[0].ext.linkType||""):u["eid_"+e.source]=e.uids[0].id+"^"+(e.uids[0].atype||""),!u.ppuid){var r=(0,c.sE)(e.uids,(function(e){return e.ext&&"ppuid"===e.ext.stype}));r&&r.id&&(u.ppuid=r.id)}}catch(r){(0,t.logWarn)("Rubicon: error reading eid:",e,r)}})),r.gdprConsent&&("boolean"==typeof r.gdprConsent.gdprApplies&&(u.gdpr=+r.gdprConsent.gdprApplies),u.gdpr_consent=r.gdprConsent.consentString),r.uspConsent&&(u.us_privacy=encodeURIComponent(r.uspConsent)),u.rp_maxbids=r.bidLimit||1,tn(e,x.Mk,u),!0===p.vc.getConfig("coppa")&&(u.coppa=1),e.schain&&an(e.schain)&&(u.rp_schain=Jr.serializeSupplyChain(e.schain)),u},serializeSupplyChain:function(e){if(!an(e))return"";var t=e.ver,r=e.complete,n=e.nodes;return t+","+r+"!"+Jr.serializeSupplyChainNodes(n)},serializeSupplyChainNodes:function(e){var t=["asi","sid","hp","rid","name","domain"];return e.map((function(e){return t.map((function(t){return encodeURIComponent(e[t]||"")})).join(",")})).join("!")},interpretResponse:function(e,r){var n=r.bidRequest;if(!(e=e.body)||"object"!=typeof e)return[];if(e.seatbid){var o=(0,i.Z)(e,"ext.errors.rubicon");Array.isArray(o)&&0<o.length&&(0,t.logWarn)("Rubicon: Error in video response");var a=[];return e.seatbid.forEach((function(r){(r.bid||[]).forEach((function(o){var s={requestId:n.bidId,currency:e.cur||"USD",creativeId:o.crid,cpm:o.price||0,bidderCode:r.seat,ttl:300,netRevenue:!1!==Hr.netRevenue,width:o.w||(0,i.Z)(n,"mediaTypes.video.w")||(0,i.Z)(n,"params.video.playerWidth"),height:o.h||(0,i.Z)(n,"mediaTypes.video.h")||(0,i.Z)(n,"params.video.playerHeight")};o.id&&(s.seatBidId=o.id),o.dealid&&(s.dealId=o.dealid),o.adomain&&(0,bt.Z)(s,"meta.advertiserDomains",Array.isArray(o.adomain)?o.adomain:[o.adomain]),(0,i.Z)(o,"ext.bidder.rp.advid")&&(0,bt.Z)(s,"meta.advertiserId",o.ext.bidder.rp.advid);var d=(0,i.Z)(e,"ext.responsetimemillis.rubicon");if(n&&d&&(n.serverResponseTimeMs=d),(0,i.Z)(o,"ext.prebid.type")===x.pX){s.mediaType=x.pX,(0,bt.Z)(s,"meta.mediaType",x.pX);var c=(0,i.Z)(o,"ext.prebid.targeting");c&&"object"==typeof c&&(s.adserverTargeting=c),o.ext.prebid.cache&&"object"==typeof o.ext.prebid.cache.vastXml&&o.ext.prebid.cache.vastXml.cacheId&&o.ext.prebid.cache.vastXml.url?(s.videoCacheKey=o.ext.prebid.cache.vastXml.cacheId,s.vastUrl=o.ext.prebid.cache.vastXml.url):c&&c.hb_uuid&&c.hb_cache_host&&c.hb_cache_path&&(s.videoCacheKey=c.hb_uuid,s.vastUrl="https://"+c.hb_cache_host+c.hb_cache_path+"?uuid="+c.hb_uuid),o.adm&&(s.vastXml=o.adm),o.nurl&&(s.vastUrl=o.nurl),!s.vastUrl&&o.nurl&&(s.vastUrl=o.nurl),"outstream"===(0,i.Z)(n,"mediaTypes.video.context").toLowerCase()&&(s.renderer=function(){}(s))}else(0,t.logWarn)("Rubicon: video response received non-video media type");a.push(s)}))})),a}var s,d=e.ads,c=0;return"object"!=typeof n||Array.isArray(n)||"video"!==nn(n)||"object"!=typeof d||(d=d[n.adUnitCode]),!Array.isArray(d)||1>d.length?[]:d.reduce((function(r,i,o){if(i.impression_id&&s===i.impression_id?c++:s=i.impression_id,"ok"!==i.status)return r;var a,d=Array.isArray(n)?n[o-c]:n;if(d&&"object"==typeof d){var u={requestId:d.bidId,currency:"USD",creativeId:i.creative_id||(i.network||"")+"-"+(i.advertiser||""),cpm:i.cpm||0,dealId:i.deal,ttl:300,netRevenue:!1!==Hr.netRevenue,rubicon:{advertiserId:i.advertiser,networkId:i.network},meta:{advertiserId:i.advertiser,networkId:i.network,mediaType:x.Mk}};if(i.creative_type&&(u.mediaType=i.creative_type),i.adomain&&(u.meta.advertiserDomains=Array.isArray(i.adomain)?i.adomain:[i.adomain]),i.creative_type===x.pX)u.width=d.params.video.playerWidth,u.height=d.params.video.playerHeight,u.vastUrl=i.creative_depot_url,u.impression_id=i.impression_id,u.videoCacheKey=i.impression_id;else{u.ad=(a=i.script,"<html>\n<head><script type='text/javascript'>inDapIF=true;<\/script></head>\n<body style='margin : 0; padding: 0;'>\n\x3c!-- Rubicon Project Ad Tag --\x3e\n<div data-rp-impression-id='"+i.impression_id+"'>\n<script type='text/javascript'>"+a+"<\/script>\n</div>\n</body>\n</html>");var p=Yr[i.size_id].split("x").map((function(e){return+e}));u.width=p[0],u.height=p[1]}u.rubiconTargeting=(Array.isArray(i.targeting)?i.targeting:[]).reduce((function(e,t){return e[t.key]=t.values[0],e}),{rpfl_elemid:d.adUnitCode}),r.push(u)}else(0,t.logError)("Rubicon: bidRequest undefined at index position:"+o,n,e);return r}),[]).sort((function(e,t){return(t.cpm||0)-(e.cpm||0)}))},getUserSyncs:function(e,r,n,i){if(!dn&&e.iframeEnabled){var o={};return n&&("boolean"==typeof n.gdprApplies&&(o.gdpr=+n.gdprApplies),"string"==typeof n.consentString&&(o.gdpr_consent=n.consentString)),i&&(o.us_privacy=encodeURIComponent(i)),o=Object.keys(o).length?"?"+(0,t.formatQS)(o):"",dn=!0,{type:"iframe",url:"https://"+(Hr.syncHost||"eus")+".rubiconproject.com/usync.html"+o}}},transformBidParams:function(e){return(0,t.convertTypes)({accountId:"number",siteId:"number",zoneId:"number"},e)}};function $r(e,t){var r=p.vc.getConfig("pageUrl");return e.params.referrer?r=e.params.referrer:!r&&(r=t.refererInfo.referer),e.params.secure?r.replace(/^http:/i,"https:"):r}function Qr(e){var t,r=document.getElementById(e.adUnitCode);(t=r.querySelector("div[id^='google_ads']"))&&t.style.setProperty("display","none"),function(e){var t=e.querySelector("script[id^='sas_script']"),r=t&&t.nextSibling;r&&"iframe"===r.localName&&r.style.setProperty("display","none")}(r);var n=e.renderer.getConfig();e.renderer.push((function(){window.MagniteApex.renderAd({width:e.width,height:e.height,vastUrl:e.vastUrl,placement:{attachTo:r,align:n.align||"center",position:n.position||"append"},closeButton:n.closeButton||!1,label:n.label||void 0,collapse:n.collapse||!0})}))}function en(e,r){var n=e.params;if("video"===r){var o=[];return n.video&&n.video.playerWidth&&n.video.playerHeight?o=[n.video.playerWidth,n.video.playerHeight]:Array.isArray((0,i.Z)(e,"mediaTypes.video.playerSize"))&&1===e.mediaTypes.video.playerSize.length?o=e.mediaTypes.video.playerSize[0]:Array.isArray(e.sizes)&&0<e.sizes.length&&Array.isArray(e.sizes[0])&&1<e.sizes[0].length&&(o=e.sizes[0]),o}var a=[];return Array.isArray(n.sizes)?a=n.sizes:void 0===(0,i.Z)(e,"mediaTypes.banner.sizes")?Array.isArray(e.sizes)&&0<e.sizes.length?a=rn(e.sizes):(0,t.logWarn)("Rubicon: no sizes are setup or found"):a=rn(e.mediaTypes.banner.sizes),function(e){var t=[15,2,9];return e.sort((function(e,r){var n=t.indexOf(e),i=t.indexOf(r);return-1<n||-1<i?-1===n?1:-1===i?-1:n-i:e-r}))}(a)}function tn(e,r,n){var o={user:{ext:{data:(0,ht.Z)({},e.params.visitor)}},site:{ext:{data:(0,ht.Z)({},e.params.inventory)}}};e.params.keywords&&(o.site.keywords=(0,t.isArray)(e.params.keywords)?e.params.keywords.join(","):e.params.keywords);var a=(0,t.mergeDeep)({},p.vc.getConfig("ortb2")||{},o),s=(0,i.Z)(e.ortb2Imp,"ext.data")||{},d=(0,i.Z)(e,"ortb2Imp.ext.gpid"),c={user:[4],site:[1,2,5,6]},u={user:"tg_v.",site:"tg_i.",adserver:"tg_i.dfp_ad_unit_code",pbadslot:"tg_i.pbadslot",keywords:"kw"},l=function(e,r,o,a){void 0===a&&(a=!0);var s=function(e,r,n){if("data"===r&&Array.isArray(e))return e.filter((function(e){return e.segment&&(0,i.Z)(e,"ext.segtax")&&c[n]&&-1!==c[n].indexOf((0,i.Z)(e,"ext.segtax"))})).map((function(e){var t=e.segment.filter((function(e){return e.id})).reduce((function(e,t){return e.push(t.id),e}),[]);if(0<t.length)return t.toString()})).toString();if("object"!=typeof e||Array.isArray(e)){if(void 0!==e)return Array.isArray(e)?e.filter((function(e){return"object"!=typeof e&&void 0!==e?e.toString():void(0,t.logWarn)("Rubicon: Filtered value: ",e,"for key",r,": Expected value to be string, integer, or an array of strings/ints")})).toString():e.toString()}else(0,t.logWarn)("Rubicon: Filtered FPD key: ",r,": Expected value to be string, integer, or an array of strings/ints")}(e,o,r),d=u[o]&&a?""+u[o]:"data"===o?u[r]+"iab":""+u[r]+o;n[d]=n[d]?n[d].concat(",",s):s};r===x.Mk?(["site","user"].forEach((function(e){Object.keys(a[e]).forEach((function(t){"site"===e&&"content"===t&&a[e][t].data?l(a[e][t].data,e,"data"):"ext"===t?a[e][t].data&&Object.keys(a[e].ext.data).forEach((function(t){l(a[e].ext.data[t],e,t,!1)})):l(a[e][t],e,t)}))})),Object.keys(s).forEach((function(e){"adserver"===e?"gam"===s[e].name&&l(s[e].adslot,name,e):l(s[e],"site",e)})),d&&(n.p_gpid=d),n["tg_i.pbadslot"]&&delete n["tg_i.dfp_ad_unit_code"]):(Object.keys(s).length&&(0,t.mergeDeep)(n.imp[0].ext,{data:s}),d&&(n.imp[0].ext.gpid=d),(0,t.mergeDeep)(n,a))}function rn(e){return(0,t.parseSizesInput)(e).reduce((function(e,t){var r=parseInt(Yr[t],10);return r&&e.push(r),e}),[])}function nn(e,r){return void 0===r&&(r=!1),n=e,"object"==typeof(0,i.Z)(n,"params.video")&&void 0!==(0,i.Z)(n,"mediaTypes."+x.pX)?-1===["outstream","instream"].indexOf((0,i.Z)(e,"mediaTypes."+x.pX+".context"))?void(r&&(0,t.logError)("Rubicon: mediaTypes.video.context must be outstream or instream")):2>en(e,"video").length?void(r&&(0,t.logError)("Rubicon: could not determine the playerSize of the video")):(r&&(0,t.logMessage)("Rubicon: making video request for adUnit",e.adUnitCode),"video"):0===en(e,"banner").length?void(r&&(0,t.logError)("Rubicon: could not determine the sizes for banner request")):(r&&(0,t.logMessage)("Rubicon: making banner request for adUnit",e.adUnitCode),"banner");var n}function on(e){return{ranges:{low:[{max:5,increment:.5}],medium:[{max:20,increment:.1}],high:[{max:20,increment:.01}],auto:[{max:5,increment:.05},{min:5,max:10,increment:.1},{min:10,max:20,increment:.5}],dense:[{max:3,increment:.01},{min:3,max:8,increment:.05},{min:8,max:20,increment:.5}],custom:e.getConfig("customPriceBucket")&&e.getConfig("customPriceBucket").buckets}[e.getConfig("priceGranularity")]}}function an(e){var r=!1,n=["asi","sid","hp"];return e.nodes?((r=e.nodes.reduce((function(e,t){return e?n.every((function(e){return t.hasOwnProperty(e)})):e}),!0))||(0,t.logError)("Rubicon: required schain params missing"),r):r}function sn(e,t){return"rp_schain"===e?"rp_schain="+t:e+"="+encodeURIComponent(t)}var dn=!1;(0,qe.dX)(Jr),window.pbjs.installedModules.push("rubiconBidAdapter");var cn=[x.Mk,x.pX],un=["startdelay","mimes","minduration","maxduration","startdelay","skippable","playbackmethod","api","protocols","boxingallowed","linearity","delivery","protocol","placement","minbitrate","maxbitrate"],pn={britepoolid:"britepoolid",criteoId:"criteoid",fabrickId:"nuestarid",haloId:"audigentid",id5id:"id5id",idl_env:"lre",IDP:"zeotapid",idxId:"idxid",intentIqId:"intentiqid",lipb:"lipbid",lotamePanoramaId:"lotameid",merkleId:"merkleid",netId:"netid",parrableId:"parrableid",pubcid:"pubcid",quantcastId:"quantcastid",tapadId:"tapadid",tdid:"ttduuid",uid2:"uid2",flocId:"floc",admixerId:"admixerid",deepintentId:"deepintentid",dmdId:"dmdid",nextrollId:"nextrollid",novatiq:"novatiqid",mwOpenLinkId:"mwopenlinkid",dapId:"dapid",amxId:"amxid",kpuid:"kpuid",publinkId:"publinkid",naveggId:"naveggid",imuid:"imuid",adtelligentId:"adtelligentid"},ln={code:"openx",gvlid:69,supportedMediaTypes:cn,isBidRequestValid:function(e){var t=e.params.delDomain||e.params.platform;return(0,i.Z)(e,"mediaTypes.banner")&&t?!!e.params.unit||0<(0,i.Z)(e,"mediaTypes.banner.sizes.length"):!(!e.params.unit||!t)},buildRequests:function(e,r){if(0===e.length)return[];var n=[],o=function(e){return e.reduce((function(e,t){return r=t,(0,i.Z)(r,"mediaTypes.video")&&!(0,i.Z)(r,"mediaTypes.banner")||r.mediaType===x.pX?e[0].push(t):e[1].push(t),e;var r}),[[],[]])}(e),a=o[0],s=o[1];return 0<s.length&&n.push(function(e,r){var n=[],o=!1,a=mn(e,r),s=(0,t._map)(e,(function(e){return e.params.unit}));return a.aus=(0,t._map)(e,(function(e){return(0,t.parseSizesInput)(e.mediaTypes.banner.sizes).join(",")})).join("|"),a.divids=(0,t._map)(e,(function(e){return encodeURIComponent(e.adUnitCode)})).join(","),a.aucs=(0,t._map)(e,(function(e){var t=(0,i.Z)(e,"ortb2Imp.ext.data.pbadslot");return encodeURIComponent(t||"")})).join(","),s.some((function(e){return e}))&&(a.auid=s.join(",")),e.some((function(e){return e.params.doNotTrack}))&&(a.ns=1),(!0===p.vc.getConfig("coppa")||e.some((function(e){return e.params.coppa})))&&(a.tfcd=1),e.forEach((function(e){if(e.params.customParams){var r=(0,t._map)(Object.keys(e.params.customParams),(function(r){return function(e,r){var n=r[e];return(0,t.isArray)(n)&&(n=n.join(",")),(e.toLowerCase()+"="+n.toLowerCase()).replace("+",".").replace("/","_")}(r,e.params.customParams)})),i=window.btoa(r.join("&"));o=!0,n.push(i)}else n.push("")})),o&&(a.tps=n.join(",")),vn(a,x.Mk,e),{method:"GET",url:a.ph?"https://u.openx.net/w/1.0/arj":"https://"+e[0].params.delDomain+"/w/1.0/arj",data:a,payload:{bids:e,startTime:new Date}}}(s,r)),0<a.length&&a.forEach((function(e){n.push(function(e,r){var n=function(e,r){var n,o,a=(0,i.Z)(e,"mediaTypes.video"),s=mn([e],r),d=(0,i.Z)(e,"params.video")||{},u=(0,i.Z)(e,"mediaTypes.video.context"),p=(0,i.Z)(e,"mediaTypes.video.playerSize");(0,t.isArray)(e.sizes)&&2===e.sizes.length&&!(0,t.isArray)(e.sizes[0])?(n=parseInt(e.sizes[0],10),o=parseInt(e.sizes[1],10)):(0,t.isArray)(e.sizes)&&(0,t.isArray)(e.sizes[0])&&2===e.sizes[0].length?(n=parseInt(e.sizes[0][0],10),o=parseInt(e.sizes[0][1],10)):(0,t.isArray)(p)&&2===p.length&&(n=parseInt(p[0],10),o=parseInt(p[1],10));var l={w:n,h:o},f=e.params.video||e.params.openrtb||{};f.openrtb&&(f=f.openrtb),(0,t.isArray)(f.imp)&&(f=f.imp[0].video),Object.keys(f).filter((function(e){return(0,c.q9)(un,e)})).forEach((function(e){return l[e]=f[e]})),Object.keys(a).filter((function(e){return(0,c.q9)(un,e)})).forEach((function(e){return l[e]=a[e]})),s.openrtb=JSON.stringify({imp:[{video:l}]}),s.auid=e.params.unit,s.vwd=n||d.vwd,s.vht=o||d.vht,"outstream"===u&&(s.vos="101"),d.mimes&&(s.vmimes=d.mimes),e.params.test&&(s.vtest=1);var m=(0,i.Z)(e,"ortb2Imp.ext.data.pbadslot");return m&&(s.aucs=encodeURIComponent(m)),vn(s,x.pX,[e]),s}(e,r);return{method:"GET",url:n.ph?"https://u.openx.net/v/1.0/avjp":"https://"+e.params.delDomain+"/v/1.0/avjp",data:n,payload:{bid:e,startTime:new Date}}}(e,r))})),n},interpretResponse:function(e,r){var n=e.body,i=function(e){return/avjp$/.test(e.url)?x.pX:x.Mk}(r);return i===x.pX?function(e,r){var n=r.bid,i=(r.startTime,[]);if(void 0!==e&&""!==e.vastUrl&&0<e.pub_rev){var o=(0,t.parseUrl)(e.vastUrl).search||{},a={};a.requestId=n.bidId,e.deal_id&&(a.dealId=e.deal_id),a.ttl=300,a.netRevenue=!0,a.currency=e.currency,a.cpm=parseInt(e.pub_rev,10)/1e3,a.width=parseInt(e.width,10),a.height=parseInt(e.height,10),a.creativeId=e.adid,a.vastUrl=e.vastUrl,a.mediaType=x.pX,e.ph=o.ph,e.colo=o.colo,e.ts=o.ts,i.push(a)}return i}(n,r.payload):function(e,t){for(var r=t.bids,n=(t.startTime,e.ads.ad),i=[],o=0;o<n.length;o++){var a=n[o],s=parseInt(a.idx,10),d={};if(d.requestId=r[s].bidId,a.pub_rev){d.cpm=+a.pub_rev/1e3;var c=a.creative[0];c&&(d.width=c.width,d.height=c.height),d.creativeId=c.id,d.ad=a.html,a.deal_id&&(d.dealId=a.deal_id),d.ttl=300,d.netRevenue=!0,d.currency=a.currency,a.tbd&&(d.tbd=a.tbd),d.ts=a.ts,d.meta={},a.brand_id&&(d.meta.brandId=a.brand_id),d.meta.advertiserDomains=a.adomain&&0<length(a.adomain)?a.adomain:[],a.adv_id&&(d.meta.dspid=a.adv_id),i.push(d)}}return i}(n,r.payload)},getUserSyncs:function(e,t,r,n){if(e.iframeEnabled||e.pixelEnabled){var o=e.iframeEnabled?"iframe":"image",a=(0,i.Z)(t,"0.body.ads.pixels")||(0,i.Z)(t,"0.body.pixels")||function(e,t){var r=[];return e&&(r.push("gdpr="+(e.gdprApplies?1:0)),r.push("gdpr_consent="+encodeURIComponent(e.consentString||""))),t&&r.push("us_privacy="+encodeURIComponent(t)),"https://u.openx.net/w/1.0/pd"+(0<r.length?"?"+r.join("&"):"")}(r,n);return[{type:o,url:a}]}},transformBidParams:function(e){return(0,t.convertTypes)({unit:"string",customFloor:"number"},e)}};function fn(e){var t,r,n,i=window,o=document,a=o.documentElement;if(e){try{i=window.top,o=window.top.document}catch(e){return}a=o.documentElement,n=o.body,t=i.innerWidth||a.clientWidth||n.clientWidth,r=i.innerHeight||a.clientHeight||n.clientHeight}else a=o.documentElement,t=i.innerWidth||a.clientWidth,r=i.innerHeight||a.clientHeight;return t+"x"+r}function mn(e,r){var n,o=(0,t.inIframe)();n={ju:p.vc.getConfig("pageUrl")||r.refererInfo.referer,ch:document.charSet||document.characterSet,res:screen.width+"x"+screen.height+"x"+screen.colorDepth,ifr:o,tz:(new Date).getTimezoneOffset(),tws:fn(o),be:1,bc:e[0].params.bc||"hb_pb_3.0.3",dddid:(0,t._map)(e,(function(e){return e.transactionId})).join(","),nocache:(new Date).getTime()};var a=gn("ortb2.user.data");0<a.length&&(n.sm=a);var s,d,c,u,l,f=gn("ortb2.site.content.data");if(0<f.length&&(n.scsm=f),e[0].params.platform&&(n.ph=e[0].params.platform),r.gdprConsent){var m=r.gdprConsent;void 0!==m.consentString&&(n.gdpr_consent=m.consentString),void 0!==m.gdprApplies&&(n.gdpr=m.gdprApplies?1:0),"iab"===p.vc.getConfig("consentManagement.cmpApi")&&(n.x_gdpr_f=1)}return r&&r.uspConsent&&(n.us_privacy=r.uspConsent),(0,i.Z)(e[0],"crumbs.pubcid")&&(0,bt.Z)(e[0],"userId.pubcid",(0,i.Z)(e[0],"crumbs.pubcid")),u=n,l=e[0].userId,(0,t._each)(l,(function(e,t){var r=pn[t];if(pn.hasOwnProperty(t))switch(t){case"merkleId":case"flocId":case"uid2":u[r]=e.id;break;case"lipb":if(u[r]=e.lipbid,Array.isArray(e.segments)&&0<e.segments.length){var n="liveintent:"+e.segments.join("|");u.sm=(u.sm?u.sm+",":"")+n}break;case"parrableId":u[r]=e.eid;break;case"id5id":u[r]=e.uid;break;case"novatiq":u[r]=e.snowflake;break;default:u[r]=e}})),n=u,e[0].schain&&(n.schain=(s=e[0].schain).ver+","+s.complete+"!"+(d=s.nodes,c=["asi","sid","hp","rid","name","domain"],d.map((function(e){return c.map((function(t){return e[t]||""})).join(",")})).join("!"))),n}function gn(e){var t=p.vc.getConfig(e);if(!Array.isArray(t)||!t.length)return"";var r=t.filter((function(e){return Array.isArray(e.segment)&&0<e.segment.length&&void 0!==e.name&&0<e.name.length})).reduce((function(e,t){var r="object"==typeof t.ext&&t.ext.segtax?t.name+"/"+t.ext.segtax:t.name;return e[r]=(e[r]||[]).concat(t.segment.map((function(e){return e.id}))),e}),{});return Object.keys(r).map((function(e){return e+":"+r[e].join("|")})).join(",")}function vn(e,t,r){var n=[],i=!1;r.forEach((function(e){var r=function(e,t){var r={},n=p.vc.getConfig("currency.adServerCurrency")||"USD";"function"==typeof e.getFloor&&(r=e.getFloor({currency:n,mediaType:t,size:"*"}));var i=r.floor||e.params.customFloor||0;return Math.round(1e3*i)}(e,t);r?(n.push(r),i=!0):n.push(0)})),i&&(e.aumfs=n.join(","))}(0,qe.dX)(ln),window.pbjs.installedModules.push("openxBidAdapter");var hn=p.vc.getConfig,bn={0:"title",2:"icon",3:"image",5:"sponsoredBy",4:"body",1:"cta"},yn={title:{id:0,name:"title"},icon:{id:2,type:1,name:"img"},image:{id:3,type:3,name:"img"},sponsoredBy:{id:5,name:"data",type:1},body:{id:4,name:"data",type:2},cta:{id:1,type:12,name:"data"}},In={code:"adf",aliases:[{code:"adformOpenRTB",gvlid:50},{code:"adform",gvlid:50}],gvlid:50,supportedMediaTypes:[x.B5,x.Mk,x.pX],isBidRequestValid:function(e){var t=e.params||{},r=t.mid,n=t.inv,i=t.mname;return!!(r||n&&i)},buildRequests:function(e,r){var n,o,a=hn("ortb2")||{},s=a.user;"object"==typeof hn("app")?(n=hn("app")||{},a.app&&(0,t.mergeDeep)(n,a.app)):(o=hn("site")||{},a.site&&(0,t.mergeDeep)(o,a.site),!o.page&&(o.page=r.refererInfo.referer));var d=hn("device")||{};d.w=d.w||window.innerWidth,d.h=d.h||window.innerHeight,d.ua=d.ua||navigator.userAgent;var c=En(e,"params.adxDomain")||"adx.adform.net",u=En(e,"params.pt")||En(e,"params.priceType")||"net",p=e[0].transactionId,l=En(e,"params.test"),f=hn("currency.adServerCurrency"),m=En(e,"userIdAsEids"),g=En(e,"schain"),v=e.map((function(e,r){e.netRevenue=u;var n=e.getFloor?e.getFloor({currency:f||"USD"}):{},o=n.floor,a=n.currency,s=e.params,d={id:r+1,tagid:s.mid,bidfloor:o,bidfloorcur:a,ext:{bidder:{inv:s.inv,mname:s.mname}}},c=(0,t._map)(e.nativeParams,(function(e,t){var r=yn[t],n={required:1&e.required};if(r){n.id=r.id;var i,o,a,s,d=e.aspect_ratios;if(d&&d[0]&&(i=(d=d[0]).min_width||0,o=0|d.ratio_height*i/d.ratio_width),e.sizes){var c=Tn(e.sizes);a=c[0],s=c[1]}return n[r.name]={len:e.len,type:r.type,wmin:i,hmin:o,w:a,h:s},n}})).filter(Boolean);c.length&&(d.native={request:{assets:c}});var p=(0,i.Z)(e,"mediaTypes.banner");if(p&&p.sizes){var l=(0,t.parseSizesInput)(p.sizes).map((function(e){var t=e.split("x"),r=t[0],n=t[1];return{w:parseInt(r,10),h:parseInt(n,10)}}));d.banner={format:l}}var m=(0,i.Z)(e,"mediaTypes.video");return m&&(d.video=m),d})),h={id:r.auctionId,site:o,app:n,user:s,device:d,source:{tid:p,fd:1},ext:{pt:u},cur:f&&[f],imp:v};return l&&(h.is_debug=!!l,h.test=1),void 0!==(0,i.Z)(r,"gdprConsent.gdprApplies")&&((0,bt.Z)(h,"user.ext.consent",r.gdprConsent.consentString),(0,bt.Z)(h,"regs.ext.gdpr",1&r.gdprConsent.gdprApplies)),r.uspConsent&&(0,bt.Z)(h,"regs.ext.us_privacy",r.uspConsent),m&&(0,bt.Z)(h,"user.ext.eids",m),g&&(0,bt.Z)(h,"source.ext.schain",g),{method:"POST",url:"https://"+c+"/adx/openrtb",data:JSON.stringify(h),options:{contentType:"application/json"},bids:e}},interpretResponse:function(e,t){var r=t.bids;if(e.body){var n=e.body,o=n.seatbid,a=n.cur,s=Tn(o.map((function(e){return e.bid}))).reduce((function(e,t){return e[t.impid-1]=t,e}),[]);return r.map((function(e,t){var r=s[t];if(r){var n=(0,i.Z)(r,"ext.prebid.type"),o={requestId:e.bidId,cpm:r.price,creativeId:r.crid,ttl:360,netRevenue:"net"===e.netRevenue,currency:a,mediaType:n,width:r.w,height:r.h,dealId:r.dealid,meta:{mediaType:n,advertiserDomains:r.adomain}};return r.native?o.native=function(e){var t=e.native,r=t.assets,n=t.link,i=t.imptrackers,o=t.jstracker,a={clickUrl:n.url,clickTrackers:n.clicktrackers||void 0,impressionTrackers:i||void 0,javascriptTrackers:o?[o]:void 0};return r.forEach((function(e){var t=bn[e.id],r=t&&e[yn[t].name];r&&(a[t]=r.text||r.value||{url:r.url,width:r.w,height:r.h})})),a}(r):o[n===x.pX?"vastXml":"ad"]=r.adm,e.renderer||n!==x.pX||"outstream"!==(0,i.Z)(e,"mediaTypes.video.context")||(o.renderer=u.Th.install({id:e.bidId,url:"https://s2.adform.net/banners/scripts/video/outstream/render.js",adUnitCode:e.adUnitCode}),o.renderer.setRender(wn)),o}})).filter(Boolean)}}};function En(e,t){for(var r,n=0;n<e.length;n++)if(r=(0,i.Z)(e[n],t))return r}function Tn(e){var t;return(t=[]).concat.apply(t,e)}function wn(e){e.renderer.push((function(){window.Adform.renderOutstream(e)}))}(0,qe.dX)(In),window.pbjs.installedModules.push("adfBidAdapter");var xn=new function(){function e(e,t){var r,n=[],s=0;if(t&&t.refererInfo&&t.refererInfo.stack.length){var d=document.createElement("a");d.href=t.refererInfo.stack[0],s="https:"==d.protocol?1:0}for(var c=0;c<e.length;c++){f[e[c].adUnitCode]=e[c];var u={id:e[c].adUnitCode,bidfloor:0,secure:s};if((0,i.Z)(e[c],"mediaTypes.banner")||"banner"===(0,i.Z)(e[c],"mediaType")){var p=o(e[c]);p&&(u.banner=p)}((0,i.Z)(e[c],"mediaTypes.video")||"video"===(0,i.Z)(e[c],"mediaType"))&&(u.video=a(e[c])),(u.banner||u.video)&&(u.ext={bidder:{placementId:(r=e[c]).params.placementId,zone:r.params&&r.params.zone?r.params.zone:"1r",path:r.params&&r.params.path?r.params.path:"mvo"}},n.push(u))}return n}function r(e){var t={domain:"",page:"",ref:""};if(e&&e.refererInfo){var r=e.refererInfo;if(t.ref=r.referer,r.stack.length){t.page=r.stack[r.stack.length-1];var n=document.createElement("a");n.href=r.stack[0],t.domain=n.hostname}}return t}function n(e){var t=parseInt(e[0]),r=parseInt(e[1]);return!(t!=t||r!=r)&&[t,r]}function o(e){var r=e.sizes;e.mediaTypes&&e.mediaTypes.banner&&(r=e.mediaTypes.banner.sizes);var i=(0,t.parseSizesInput)(r),o=[];return i.forEach((function(e){if(e){var t=n(e.split("x"));t&&o.push({w:t[0],h:t[1]})}})),!!o.length&&{format:o}}function a(e){var r=[];if((0,i.Z)(e,"mediaTypes.video.playerSize")){var o=e.mediaTypes.video.playerSize;(0,t.isArray)(e.mediaTypes.video.playerSize[0])&&(o=e.mediaTypes.video.playerSize[0]);var a=n(o);a&&(r=a)}return{mimes:(0,i.Z)(e,"mediaTypes.video.mimes")||c,protocols:(0,i.Z)(e,"mediaTypes.video.protocols")||d,w:r[0],h:r[1],startdelay:(0,i.Z)(e,"mediaTypes.video.startdelay")||0,skip:(0,i.Z)(e,"mediaTypes.video.skip")||0,playbackmethod:(0,i.Z)(e,"mediaTypes.video.playbackmethod")||u,delivery:(0,i.Z)(e,"mediaTypes.video.delivery")||p,api:(0,i.Z)(e,"mediaTypes.video.api")||l}}function s(e,t){for(var r=0;r<t.length;r++)if(t[r].params&&t[r].params[e])return t[r].params[e]}this.code="rhythmone",this.supportedMediaTypes=[x.pX,x.Mk],this.gvlid=36;var d=[2,3,5,6],c=["video/mp4"],u=[1,2,3,4],p=[1],l=[1,2,5],f={},m=this;this.isBidRequestValid=function(e){return!(!e.params||!e.params.placementId)},this.getUserSyncs=function(){return[]},this.buildRequests=function(n,o){var a=s("placementId",n);if(void 0===a||1>n.length)return[];var d=s("endpoint",n)||"https://tag.1rx.io/rmp/{placementId}/0/{path}?z={zone}",c=s("zone",n)||"1r",u=s("path",n)||"mvo";d=(d=(d=d.replace(/\{placementId\}/i,a)).replace(/\{zone\}/i,c)).replace(/\{path\}/i,u);var p=/(^v|(\.0)+$)/gi;d+="&hbv="+"6.19.0".replace(p,"")+","+"2.1".replace(p,"");var l=function(n,o){var a={id:n[0].bidderRequestId,imp:e(n,o),site:r(o),device:{ua:navigator.userAgent,ip:"",dnt:(0,t.getDNT)()?1:0},user:{ext:{consent:(0,i.Z)(o,"gdprConsent.gdprApplies")?o.gdprConsent.consentString:""}},at:1,tmax:1e3,regs:{ext:{gdpr:!!(0,i.Z)(o,"gdprConsent.gdprApplies")&&!!(1&o.gdprConsent.gdprApplies)}}};return n[0].schain&&(a.source={ext:{schain:n[0].schain}}),a}(n,o);return l.imp.length?{method:"POST",url:d,data:JSON.stringify(l)}:{}},this.interpretResponse=function(e){var t=e.body||[],r=[],n=0;if(t.seatbid){var i=[];for(n=0;n<t.seatbid.length;n++)for(var o=0;o<t.seatbid[n].bid.length;o++)i.push(t.seatbid[n].bid[o]);t=i}for(n=0;n<t.length;n++){var a=t[n],s=f[a.impid],d={requestId:s.bidId,bidderCode:m.code,cpm:parseFloat(a.price),width:a.w,height:a.h,meta:{advertiserDomains:a.adomain},creativeId:a.crid,currency:"USD",netRevenue:!0,ttl:350};s.mediaTypes&&s.mediaTypes.video?(d.vastUrl=a.nurl,d.mediaType="video",d.ttl=600):d.ad=a.adm,r.push(d)}return r}};(0,qe.dX)(xn),window.pbjs.installedModules.push("rhythmoneBidAdapter");var Sn="sonobi",Cn=(0,t.generateUUID)(),_n="https://mtrx.go.sonobi.com/sbi_outstream_renderer.js",An={code:Sn,supportedMediaTypes:[x.Mk,x.pX],isBidRequestValid:function(e){if(!e.params)return!1;if(!e.params.ad_unit&&!e.params.placement_id)return!1;if(!(0,i.Z)(e,"mediaTypes.banner")&&!(0,i.Z)(e,"mediaTypes.video"))return!1;if((0,i.Z)(e,"mediaTypes.banner")){if(!(0,i.Z)(e,"mediaTypes.banner.sizes")&&!e.params.sizes)return!1}else if((0,i.Z)(e,"mediaTypes.video")){if("outstream"===(0,i.Z)(e,"mediaTypes.video.context")&&!e.params.sizes)return!1;if("instream"===(0,i.Z)(e,"mediaTypes.video.context")&&!(0,i.Z)(e,"mediaTypes.video.playerSize"))return!1}return!0},buildRequests:function(e,r){var n=e.map((function(e){var r,n,i=function(e){return e.params.ad_unit?e.params.ad_unit:e.params.placement_id}(e);return/^[\/]?[\d]+[[\/].+[\/]?]?$/.test(i)?((r={})[(i="/"===i.charAt(0)?i:"/"+i)+"|"+e.bidId]=""+On(e)+kn(e)+Rn(e),r):/^[0-9a-fA-F]{20}$/.test(i)&&20===i.length?((n={})[e.bidId]=i+"|"+On(e)+kn(e)+Rn(e),n):void(0,t.logError)("The ad unit code or Sonobi Placement id for slot "+e.bidId+" is invalid")})),o={};n.forEach((function(e){Object.assign(o,e)}));var a={key_maker:JSON.stringify(o),ref:r.refererInfo.referer,s:(0,t.generateUUID)(),pv:Cn,vp:Un(),lib_name:"prebid",lib_v:"6.19.0",us:0},s=p.vc.getConfig("ortb2");if(s&&(a.fpd=JSON.stringify(s)),p.vc.getConfig("userSync")&&p.vc.getConfig("userSync").syncsPerBidder&&(a.us=p.vc.getConfig("userSync").syncsPerBidder),a.ius=T.k_.canBidderRegisterSync("iframe",Sn)?1:0,(0,i.Z)(e[0],"params.hfa")&&(a.hfa=(0,i.Z)(e[0],"params.hfa")),e[0].params.referrer&&(a.ref=e[0].params.referrer),r&&r.gdprConsent&&(a.gdpr=r.gdprConsent.gdprApplies?"true":"false",r.gdprConsent.consentString&&(a.consent_string=r.gdprConsent.consentString)),e[0].schain&&(a.schain=JSON.stringify(e[0].schain)),(0,i.Z)(e[0],"userId")&&0<Object.keys(e[0].userId).length){var d=(0,t.deepClone)(e[0].userId);d.id5id&&(d.id5id=(0,i.Z)(d,"id5id.uid")),a.userid=JSON.stringify(d)}var c=(0,i.Z)(e[0],"userIdAsEids");Array.isArray(c)&&0<c.length&&(a.eids=JSON.stringify(c));var u=e[0].params.keywords;if(u&&(a.kw=u),r&&r.uspConsent&&(a.us_privacy=r.uspConsent),a.coppa=!0===p.vc.getConfig("coppa")?1:0,(0,t.isEmpty)(o))return null;var l="https://apex.go.sonobi.com/trinity.json";return(0,i.Z)(e[0],"params.bid_request_url")&&(l=(0,i.Z)(e[0],"params.bid_request_url")),{method:"GET",url:l,withCredentials:!0,data:a,bidderRequests:e}},interpretResponse:function(e,r){var n=e.body,o=[],a=r.data.ref;return 0===Object.keys(n.slots).length||Object.keys(n.slots).forEach((function(e){var s=n.slots[e],d=e.split("|").slice(-1)[0],c=function(e,t){for(var r=0;r<e.length;r++)if(e[r].bidId===t)return e[r]}(r.bidderRequests,d),p=null;"video"===s.sbi_ct&&(p="video","outstream"===(0,i.Z)(c,"mediaTypes.video.context")&&(p="outstream"));var l=Pn(p,a);if(s.sbi_aid&&s.sbi_mouse&&s.sbi_size){var f=s.sbi_size.split("x"),m=f[0],g=void 0===m?1:m,v=f[1],h=void 0===v?1:v,b=[];s.sbi_adomain&&(b=[s.sbi_adomain]);var y={requestId:d,cpm:+s.sbi_mouse,width:+g,height:+h,ad:l(n.sbi_dc,s.sbi_aid),ttl:500,creativeId:s.sbi_crid||s.sbi_aid,aid:s.sbi_aid,netRevenue:!0,currency:"USD",meta:{advertiserDomains:b}};if(s.sbi_dozer&&(y.dealId=s.sbi_dozer),"video"===p)y.mediaType="video",y.vastUrl=l(n.sbi_dc,s.sbi_aid),delete y.ad,delete y.width,delete y.height;else if("outstream"===p&&c){delete y.ad,y.mediaType="video",y.vastUrl=l(n.sbi_dc,s.sbi_aid),y.renderer=function(e,r,n){void 0===n&&(n={});var i=u.Th.install({id:r.aid,url:_n,config:n,loaded:!1,adUnitCode:e});try{i.setRender(Dn)}catch(e){(0,t.logWarn)("Prebid Error calling setRender on renderer",e)}return i.setEventHandlers({impression:function(){return(0,t.logMessage)("Sonobi outstream video impression event")},loaded:function(){return(0,t.logMessage)("Sonobi outstream video loaded event")},ended:function(){(0,t.logMessage)("Sonobi outstream renderer video event")}}),i}(c.adUnitCode,y,(0,i.Z)(c,"renderer.options"));var I=(0,i.Z)(c,"params.sizes");Array.isArray(I)&&Array.isArray(I[0])&&(I=I[0]),I&&(y.width=I[0],y.height=I[1])}o.push(y)}})),o},getUserSyncs:function(e,t){var r=[];try{e.pixelEnabled&&t[0].body.sbi_px.forEach((function(e){r.push({type:e.type,url:e.url})}))}catch(e){}return r}};function On(e){return(0,i.Z)(e,"mediaTypes.video")?"":e.params.sizes?(0,t.parseSizesInput)(e.params.sizes).join(","):(0,i.Z)(e,"mediaTypes.banner.sizes")?(0,t.parseSizesInput)((0,i.Z)(e,"mediaTypes.banner.sizes")).join(","):e.sizes?(0,t.parseSizesInput)(e.sizes).join(","):void 0}function kn(e){var r=function(e){if(!(0,t.isFn)(e.getFloor))return e.params.floor?e.params.floor:null;var r=e.getFloor({currency:"USD",mediaType:"*",size:"*"});return(0,t.isPlainObject)(r)&&!isNaN(r.floor)&&"USD"===r.currency?r.floor:""}(e);return r?"|f="+r:""}function Rn(e){var r=(0,i.Z)(e,"ortb2Imp.ext.data.pbadslot")||(0,i.Z)((0,t.getGptSlotInfoForAdUnitCode)(e.adUnitCode),"gptSlot")||e.params.ad_unit;return r?"|gpid="+r:""}var Pn=function(e,t){return function(r,n){return"video"===e||"outstream"===e?function(e,t,r){return"https://"+e+"apex.go.sonobi.com/vast.xml?vid="+t+"&ref="+encodeURIComponent(r)}(r,n,t):'<script type="text/javascript" src="'+("https://"+r+"apex.go.sonobi.com/sbi.js?aid="+n+"&as=null&ref="+encodeURIComponent(t))+'"><\/script>'}};function Un(e){void 0===e&&(e=window);var t=function(e){return void 0===e&&(e=window),function(t,r){return void 0===t&&(t=0),void 0===r&&(r=Number.MAX_SAFE_INTEGER),e.innerWidth>=t&&e.innerWidth<r}}(e),r=992,n=768;return t(0,768)?"mobile":t(n,r)?"tablet":"desktop"}function Dn(e){e.renderer.push((function(){var t=e.getSize().split("x"),r=t[0],n=t[1],i=new window.SbiOutstreamRenderer;i.init({vastUrl:e.vastUrl,height:n,width:r}),i.setRootElement(e.adUnitCode)}))}function jn(){try{return window.self!==window.top&&!window.mantis_link}catch(e){return!0}}function Bn(e,t){var r=document.createElement("img");r.src=e,r.style.cssText="display:none !important;",(t||document.body).appendChild(r)}function Nn(e,t,r,n){var i,o,a=null,s=!1,d=null,c=function(){s&&d&&d(),s=!1},u=function(e,u,p){var l=void 0!==document.hidden&&document.hidden;if(0==p.width||0==p.height||l)return c();var f=p.height*n,m=p.width*n;return(0>p.top&&p.bottom>=f||0<p.top&&u-p.top>=f)&&(0>p.left&&p.right>=m||0<p.left&&e-p.left>=m)?!a&&r?(a=Date.now(),c()):r&&Date.now()-a<r?c():void(s||t((function(e){e?s=!0:(i&&clearInterval(i),o&&o())}),(function(e){d=e}))):c()};Zn()&&(o=window.context.observeIntersection((function(e){e.forEach((function(e){u(e.rootBounds.width,e.rootBounds.height,e.boundingClientRect)}))}))),i=setInterval((function(){var t=window.innerHeight||document.documentElement.clientHeight,r=window.innerWidth||document.documentElement.clientWidth;u(r,t,e.getBoundingClientRect())}),100)}function qn(e){return null!=e&&("string"==typeof e?e&&!/^\s*$/.test(e):"number"!=typeof e||!isNaN(e))}function Mn(e){return"[object Object]"===Object.prototype.toString.call(e)}function Zn(){return"object"==typeof window.context&&("AMP-AD"===window.context.tagName||"AMP-EMBED"===window.context.tagName)}function zn(e,t,r){if(!e)return null;var n,i=r||[];for(var o in e){var a=o;t&&(a=t+"["+o+"]");var s=e[o];if(n=s,"[object Array]"===Object.prototype.toString.call(n))for(var d=0;d<s.length;d++){var c=a+"["+d+"]",u=s[d];Mn(u)?zn(u,c,i):qn(u)&&i.push(c+"="+encodeURIComponent(u))}else Mn(s)&&s!=e?zn(s,a,i):qn(s)&&i.push(a+"="+encodeURIComponent(s))}return i.join("&")}function Fn(e,t,r){var n={referrer:document.referrer,tz:(new Date).getTimezoneOffset(),buster:(new Date).getTime(),secure:"https:"===document.location.protocol,version:9};if((!jn()||Zn())&&(n.mobile=!Zn()&&function(e){var t=!e&&("ontouchstart"in window||navigator.msMaxTouchPoints);if(jn())return!t;var r=window.innerWidth||window.document.documentElement.clientWidth||window.document.body.clientWidth;return!t&&(!r||r>=(window.mantis_breakpoint||768))}(!0)?"false":"true"),window.mantis_uuid)n.uuid=window.mantis_uuid;else if(window.localStorage){var i=window.localStorage.getItem("mantis:uuid");i&&(n.uuid=i)}if(jn())n.iframe=!0;else try{n.title=window.top.document.title,n.referrer=window.top.document.referrer,n.url=window.top.document.location.href}catch(e){}Zn()&&(n.amp=!0,!n.url&&window.context.canonicalUrl&&(n.url=window.context.canonicalUrl),!n.url&&window.context.location&&(n.url=window.context.location.href),!n.referrer&&window.context.referrer&&(n.referrer=window.context.referrer)),Object.keys(t||{}).forEach((function(e){n[e]=t[e]}));var o=zn(n);return(void 0===window.mantis_domain?r||"https://mantodea.mantisadnetwork.com":window.mantis_domain)+e+"?"+o}(0,qe.dX)(An),window.pbjs.installedModules.push("sonobiBidAdapter");var Wn,Vn,Ln,Gn,Kn,Xn={code:"mantis",supportedMediaTypes:["banner","video","native"],isBidRequestValid:function(e){return!(!e.params.property||!(e.params.code||e.params.zoneId||e.params.zone))},buildRequests:function(e){var t=null;return e.some((function(e){if(e.params.property)return t=e.params.property,!0})),{method:"GET",url:Fn("/prebid/display",{measurable:!0,bids:e.map((function(e){return{bidId:e.bidId,config:e.params,sizes:e.sizes.map((function(e){return{width:e[0],height:e[1]}}))}})),property:t})+"&foo",data:""}},interpretResponse:function(e){return function(e){if(window.mantis_uuid)return!1;if(window.mantis_uuid=e,window.localStorage)try{window.localStorage.setItem("mantis:uuid",e)}catch(e){}}(e.body.uuid),e.body.ads.map((function(t){return{requestId:t.bid,cpm:t.cpm,width:t.width,height:t.height,ad:t.html,ttl:t.ttl||e.body.ttl||86400,creativeId:t.view,netRevenue:!0,currency:"USD"}}))},getUserSyncs:function(e){return e.iframeEnabled?[{type:"iframe",url:Fn("/prebid/iframe")}]:e.pixelEnabled?[{type:"image",url:Fn("/prebid/pixel")}]:void 0}};function Hn(e,t){return t||(t=e.slice(0)),e.raw=t,e}Wn="iframe",Vn=function(e){if(window.$sf){var t=!1;$sf.ext.register(e.width,e.height,(function(){50>$sf.ext.inViewPercentage()||t||(t=!0,Bn(e.pixel))}))}else for(var r,n=document.getElementsByTagName("iframe"),i=0;i<n.length;i++)(r=n[i]).name==e.frame&&Nn(r,(function(t){Bn(e.pixel),t()}),1e3,.5)},window.addEventListener("message",(function(e){e.data&&e.data.mantis&&e.data.type==Wn&&Vn(e.data.data)}),!1),(0,qe.dX)(Xn);var Yn="aol",Jn="verizon",$n="onemobile",Qn="onedisplay",ei={GET:"display-get"},ti={GET:"mobile-get",POST:"mobile-post"},ri={TAG:"iframe",TYPE:"iframe"},ni={TAG:"img",TYPE:"image"},ii=["adserver.org","criteo.com","id5-sync.com","intentiq.com","liveintent.com","quantcast.com","verizonmedia.com","liveramp.com","yahoo.com"],oi=ui(Ln||(Ln=Hn(["","/pubapi/3.0/","/","/","/","/ADTECH;v=2;cmd=bid;cors=yes;alias=",";misc=",";",""])),"host","network","placement","pageid","sizeid","alias","misc","dynamicParams"),ai=ui(Gn||(Gn=Hn(["","/bidRequest?"])),"host"),si=ui(Kn||(Kn=Hn(["dcn=","&pos=","&cmd=bid",""])),"dcn","pos","dynamicParams"),di={us:"adserver-us.adtech.advertising.com",eu:"adserver-eu.adtech.advertising.com",as:"adserver-as.adtech.advertising.com"},ci=1;function ui(e){for(var r=arguments.length,n=Array(1<r?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return function(){for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i[i.length-1]||{},s=[e[0]];return n.forEach((function(r,n){var o=(0,t.isInteger)(r)?i[r]:a[r];s.push(o,e[n+1])})),s.join("")}}function pi(e){return e===Yn||e===Jn||e===$n}function li(e){if(pi(e.bidder)&&e.params.id&&e.params.imp&&e.params.imp[0]){var t=e.params.imp[0];return t.id&&t.tagid&&t.banner&&t.banner.w&&t.banner.h}}function fi(e){return pi(e.bidder)&&e.params.dcn&&e.params.pos}function mi(e){return((t=e.bidder)===Yn||t===Jn||t===Qn)&&e.params.placement&&e.params.network;var t}function gi(e){return e.userIdAsEids.filter((function(e){return-1!==ii.indexOf(e.source)}))}var vi={code:Yn,gvlid:25,aliases:[$n,Qn,Jn],supportedMediaTypes:[x.Mk],isBidRequestValid:function(e){return mi(e)||function(e){return fi(e)||li(e)}(e)},buildRequests:function(e,t){var r=this,n={};return t&&(n.gdpr=t.gdprConsent,n.uspConsent=t.uspConsent),e.map((function(e){var t=function(e){return fi(e)?ti.GET:li(e)?ti.POST:mi(e)?ei.GET:void 0}(e);if(t)return r.formatBidRequest(t,e,n)}))},interpretResponse:function(e,r){var n=e.body;if(n){var i=this._parseBidResponse(n,r);if(i)return i}else(0,t.logError)("Empty bid response",r.bidderCode,n)},getUserSyncs:function(e,r){var n=!(0,t.isEmpty)(r)&&r[0].body;return n&&n.ext&&n.ext.pixels?this.parsePixelItems(n.ext.pixels):[]},formatBidRequest:function(e,t,r){var n;return e===ei.GET?n={url:this.buildMarketplaceUrl(t,r),method:"GET",ttl:60}:e===ti.GET?n={url:this.buildOneMobileGetUrl(t,r),method:"GET",ttl:3600}:e===ti.POST&&(n={url:this.buildOneMobileBaseUrl(t),method:"POST",ttl:3600,data:this.buildOpenRtbRequestData(t,r),options:{contentType:"application/json",customHeaders:{"x-openrtb-version":"2.2"}}}),n.bidderCode=t.bidder,n.bidId=t.bidId,n.userSyncOn=t.params.userSyncOn,n},buildMarketplaceUrl:function(e,r){var n,i=e.params,o=i.server,a=i.region||"us";return di.hasOwnProperty(a)||((0,t.logWarn)("Unknown region '"+a+"' for AOL bidder."),a="us"),n=o||di[a],i.region=a,this.applyProtocol(oi({host:n,network:i.network,placement:parseInt(i.placement),pageid:i.pageId||0,sizeid:i.sizeId||0,alias:i.alias||(0,t.getUniqueIdentifierStr)(),misc:(new Date).getTime(),dynamicParams:this.formatMarketplaceDynamicParams(i,r)}))},buildOneMobileGetUrl:function(e,t){var r=e.params,n=r.dcn,i=r.pos,o=r.ext;"object"==typeof e.userId&&(o=o||{},gi(e).forEach((function(e){o["eid"+e.source]=e.uids[0].id})));var a=this.buildOneMobileBaseUrl(e);if(n&&i){var s=this.formatOneMobileDynamicParams(o,t);a+=si({dcn:n,pos:i,dynamicParams:s})}return a},buildOneMobileBaseUrl:function(e){return this.applyProtocol(ai({host:e.params.host||"c2shb.ssp.yahoo.com"}))},applyProtocol:function(e){return/^https?:\/\//i.test(e)?e:0===e.indexOf("//")?"https:"+e:"https://"+e},formatMarketplaceDynamicParams:function(e,r){void 0===e&&(e={}),void 0===r&&(r={});var n={};Object.assign(n,this.formatKeyValues(e.keyValues)),Object.assign(n,this.formatConsentData(r));var i="";return(0,t._each)(n,(function(e,t){i+=t+"="+encodeURIComponent(e)+";"})),i},formatOneMobileDynamicParams:function(e,r){void 0===e&&(e={}),void 0===r&&(r={}),this.isSecureProtocol()&&(e.secure=ci),Object.assign(e,this.formatConsentData(r));var n="";return(0,t._each)(e,(function(e,t){n+="&"+t+"="+encodeURIComponent(e)})),n},buildOpenRtbRequestData:function(e,t){void 0===t&&(t={});var r={id:e.params.id,imp:e.params.imp};if(this.isEUConsentRequired(t)&&((0,bt.Z)(r,"regs.ext.gdpr",ci),t.gdpr.consentString&&(0,bt.Z)(r,"user.ext.consent",t.gdpr.consentString)),t.uspConsent&&(0,bt.Z)(r,"regs.ext.us_privacy",t.uspConsent),"object"==typeof e.userId){r.user=r.user||{},r.user.ext=r.user.ext||{};var n=gi(e);0<n.length&&(r.user.ext.eids=n)}return r},isEUConsentRequired:function(e){return!!(e&&e.gdpr&&e.gdpr.gdprApplies)},formatKeyValues:function(e){var r={};return(0,t._each)(e,(function(e,t){r["kv"+t]=e})),r},formatConsentData:function(e){var t={};return this.isEUConsentRequired(e)&&(t.gdpr=ci,e.gdpr.consentString&&(t.euconsent=e.gdpr.consentString)),e.uspConsent&&(t.us_privacy=e.uspConsent),t},parsePixelItems:function(e){var t=[];if(e){var r=e.match(/(img|iframe)[\s\S]*?src\s*=\s*("|')(.*?)\2/gi);r&&r.forEach((function(e){var r=e.match(/\w*(?=\s)/)[0],n=e.match(/src=("|')(.*?)\1/)[2];r&&n&&t.push({type:r===ni.TAG?ni.TYPE:ri.TYPE,url:n})}))}return t},_parseBidResponse:function(e,r){var n,i;try{n=e.seatbid[0].bid[0]}catch(e){return}if(n.ext&&n.ext.encp)i=n.ext.encp;else if(null===(i=n.price)||isNaN(i))return void(0,t.logError)("Invalid price in bid response",Yn,n);return{bidderCode:r.bidderCode,requestId:r.bidId,ad:n.adm,cpm:i,width:n.w,height:n.h,creativeId:n.crid||0,pubapiId:e.id,currency:e.cur||"USD",dealId:n.dealid,netRevenue:!0,meta:{advertiserDomains:n&&n.adomain?n.adomain:[]},ttl:r.ttl}},isOneMobileBidder:pi,isSecureProtocol:function(){return"https:"===document.location.protocol}};(0,qe.dX)(vi),window.pbjs.installedModules.push("aolBidAdapter");var hi="gumgum",bi=(0,ie.df)({bidderCode:hi}),yi={t:0,rq:8,pbv:"6.19.0"},Ii=[x.Mk,x.pX],Ei={},Ti=null;function wi(e){var n,i,o,a,s,d,c,u,p,l,f=function(e){return new RegExp("[?#&]("+e+"=(.*?))($|&)","i")},m={};try{i=(n=r.g.top).screen,o=e||""}catch(e){return(0,t.logError)(e),m}return m={vw:n.innerWidth,vh:n.innerHeight,sw:i.width,sh:i.height,pu:(l=o,["ggad","ggdeal"].reduce((function(e,t){var r=l.match(f(t));return r?(r[1]&&(e=e.replace(r[1],"")),r[3]&&(e=e.replace(r[3],"")),e):e}),l)),ce:bi.cookiesAreEnabled(),dpr:n.devicePixelRatio||1,jcsi:JSON.stringify(yi),ogu:(p=(document&&document.getElementsByTagName("head")[0]).querySelector("meta[property='og:url']"),p?p.content:null)},c=window.navigator&&(window.navigator.connection||window.navigator.mozConnection||window.navigator.webkitConnection),(d=(u=c&&(c.downlink||c.bandwidth))?Math.round(1024*u):null)&&(m.ns=d),(a=(o.match(f("ggad"))||[0,0,0])[2])&&(m[isNaN(a)?"eAdBuyId":"adBuyId"]=a),(s=(o.match(f("ggdeal"))||[0,0,0])[2])&&(m.ggdeal=s),m}function xi(e,t){return e.replace("AD_JSON",window.btoa(JSON.stringify(t)))}function Si(e){var t=e.digitrustid&&e.digitrustid.data;return!t||t.privacy&&t.privacy.optout?{}:{dt:t.id}}function Ci(e){var t=0,r=0,n=0;return e.forEach((function(e){var i=e[0],o=e[1],a=i>o?i:o;(a>n||a===n&&i>=t&&o>=r)&&(n=a,t=i,r=o)})),[t,r]}var _i={code:hi,aliases:["gg"],isBidRequestValid:function(e){var r=e.params,n=e.adUnitCode,i=r.inScreen||r.inScreenPubID||r.inSlot||r.ICV||r.video||r.inVideo||r.slot||r.native||r.zone||r.pubID;if(Ei[i])return(0,t.logWarn)("[GumGum] Please check the implementation for "+i+" for the placement "+n),!1;switch(!0){case!!r.zone:case!!r.pubId:case!!r.inScreen:case!!r.inScreenPubID:case!!r.inSlot:case!!r.ICV:case!!r.video:case!!r.inVideo:case!!r.videoPubID:break;default:return(0,t.logWarn)("[GumGum] No product selected for the placement "+n+", please check your implementation."),!1}return!r.bidfloor||"number"==typeof r.bidfloor&&isFinite(r.bidfloor)||((0,t.logWarn)("[GumGum] bidfloor must be a Number"),!1)},buildRequests:function(e,r){var n=[],o=r&&r.gdprConsent,a=r&&r.uspConsent,s=p.vc.getConfig("bidderTimeout"),d=r&&r.refererInfo&&r.refererInfo.referer;return(0,t._each)(e,(function(e){var r,c,u=e.bidId,p=e.mediaTypes,l=void 0===p?{}:p,f=e.params,m=void 0===f?{}:f,g=e.schain,v=e.transactionId,h=e.userId,b=void 0===h?{}:h,y=e.ortb2Imp,I=e.adUnitCode,E=void 0===I?"":I,T=function(e,t,r){var n=Object.keys(e)[0]||"banner",i={floor:0,currency:"USD"};if("function"==typeof r.getFloor){var o=r.getFloor({mediaType:n,size:"*"}),a=o.currency,s=o.floor;s&&(i.floor=s),a&&(i.currency=a),t&&s&&"USD"===a&&(i.floor=Math.max(t,parseFloat(s)))}else t&&(i.floor=t);return i}(l,m.bidfloor,e),w=T.currency,x=T.floor,S=function(e){var t=["uid","eid","lipbid"];return Object.keys(e).reduce((function(r,n){var i=e[n];switch(typeof i){case"string":r[n]=i;break;case"object":var o=t.filter((function(e){return i.hasOwnProperty(e)}));o.length&&(r[n]=i[o[0]])}return r}),{})}(b),C=(0,i.Z)(y,"ext.data.pbadslot")||(0,i.Z)(y,"ext.data.adserver.adslot"),_=[1,1],A={},O=new Date,k=O.getTime(),R=O.getTimezoneOffset();for(var P in A.lt=k,A.to=R,E&&(A.aun=E),S)A[P]=S[P];if(C&&(A.gpid=C),l.banner?_=l.banner.sizes:l.video&&(_=l.video.playerSize,A=function(e){var r=e.minduration,n=e.maxduration,i=e.linearity,o=e.startdelay,a=e.placement,s=e.protocols,d=void 0===s?[]:s,c=e.playerSize,u=void 0===c?[]:c,p=(0,t.parseSizesInput)(u),l=p[0]&&p[0].split("x"),f=l[0],m=l[1],g="";return d.length&&(g=d.join(",")),{mind:r,maxd:n,li:i,sd:o,pt:a,pr:g,viw:f,vih:m}}(l.video)),Ti&&(A.pv=Ti),x&&(A.fp=x,A.fpc=w),m.iriscat&&"string"==typeof m.iriscat&&(A.iriscat=m.iriscat),m.irisid&&"string"==typeof m.irisid&&(A.irisid=m.irisid),m.zone||m.pubId)if(m.zone?A.t=m.zone:A.pubId=m.pubId,A.pi=2,m.slot){var U=Ci(_),D=U[0],j=U[1];A.maxw=D,A.maxh=j,A.si=m.slot,A.pi=3,A.bf=_.reduce((function(e,t){return""+e+(e&&",")+t[0]+"x"+t[1]}),"")}else m.native?(A.ni=m.native,A.pi=5):l.video&&(A.pi=2===l.video.linearity?6:7);else A=(0,ht.Z)({},A,function(e,t){var r={};if(e.inScreenPubID&&(r.pubId=e.inScreenPubID,r.pi=2),e.inScreen&&(r.t=e.inScreen,r.pi=2),e.inSlot){var n=Ci(t),i=n[0],o=n[1];r.maxw=i,r.maxh=o,r.si=e.inSlot,r.pi=3,r.bf=t.reduce((function(e,t){return""+e+(e&&",")+t[0]+"x"+t[1]}),"")}return e.ICV&&(r.ni=e.ICV,r.pi=5),e.videoPubID&&(r.pubId=e.videoPubID,r.pi=7),e.video&&(r.t=e.video,r.pi=7),e.inVideo&&(r.t=e.inVideo,r.pi=6),r}(m,_));o&&(A.gdprApplies=o.gdprApplies?1:0),A.gdprApplies&&(A.gdprConsent=o.consentString),a&&(A.uspConsent=a),g&&g.nodes&&(A.schain=(c=(r=g).ver+","+r.complete,r.nodes.map((function(e){c+="!"+encodeURIComponent(e.asi||"")+",",c+=encodeURIComponent(e.sid||"")+",",c+=encodeURIComponent(e.hp||"")+",",c+=encodeURIComponent(e.rid||"")+",",c+=encodeURIComponent(e.name||"")+",",c+=""+encodeURIComponent(e.domain||"")})),c)),n.push({id:u,tmax:s,tId:v,pi:A.pi,selector:m.selector,sizes:_,url:"https://g2.gumgum.com/hbid/imp",method:"GET",data:Object.assign(A,wi(d),Si(b))})})),n},interpretResponse:function(e,r){var n=[],i=e.body;if(!i||i.err){var o=r.data||{},a=o.si||o.ni||o.t||o.pubId,s=i?i.err.drt:18e5;Ei[a]={productId:o.pi,timestamp:(new Date).getTime()},setTimeout((function(){!Ei[a]||delete Ei[a]}),s),(0,t.logWarn)("[GumGum] Please check the implementation for "+a)}var d=Object.assign({ad:{price:0,id:0,markup:"",width:0,height:0},pag:{pvid:0},meta:{adomain:[],mediaType:""}},i),u=d.ad,p=u.price,l=u.id,f=u.markup,m=u.cur,g=u.width,v=u.height,h=u.maxw,b=u.maxh,y=d.cw,I=d.pag.pvid,E=d.jcsi,T=d.meta,w=T.adomain,S=T.mediaType,C=r.data||{},_=C.pi,A=6===_||7===_?x.pX:x.Mk,O=3===_&&9===C.si,k=(0,t.parseSizesInput)(r.sizes);if(h&&b)k=[h+"x"+b];else if(5===_&&(0,c.q9)(k,"1x1"))k=["1x1"];else if(2===_&&(0,c.q9)(k,"1x1")){var R=r.sizes&&r.sizes.reduce((function(e,t){var r=t[0],n=t[1];return(g===r||v===n)&&e.push(t.join("x")),e}),[])||[];k=R.length?R:(0,t.parseSizesInput)(r.sizes)}var P=k[0].split("x"),U=P[0],D=P[1];return E&&(i.jcsi=yi),Ti=I,l&&n.push((0,ht.Z)({ad:y?xi(y,Object.assign({},i,{bidRequest:r})):f},A===x.pX&&{ad:f,vastXml:f},{mediaType:A,cpm:O?.1:p,creativeId:l,currency:m||"USD",height:D,netRevenue:!0,requestId:r.id,ttl:60,width:U,meta:{advertiserDomains:w||[],mediaType:S||A}})),n},getUserSyncs:function(e,t){return t.map((function(e){return e.body&&e.body.pxs&&e.body.pxs.scr||[]})).reduce((function(e,t){return e.concat(t)}),[]).map((function(e){return{type:"f"===e.t?"iframe":"image",url:e.u}}))},supportedMediaTypes:Ii};(0,qe.dX)(_i),window.pbjs.installedModules.push("gumgumBidAdapter");var Ai="cur",Oi={protocols:"protocols",mimes:"mimes",min_dur:"minduration",max_dur:"maxduration",min_btr:"minbitrate",max_btr:"maxbitrate",vi_format:null,api:"api",skippable:"skip"},ki="ALLOW",Ri="NOT_ALLOW",Pi=["sid"],Ui={code:"getintent",aliases:["getintentAdapter"],supportedMediaTypes:["video","banner"],isBidRequestValid:function(e){return!!(e&&e.params&&e.params.pid&&e.params.tid)},buildRequests:function(e){return e.map((function(e){var r,n=function(e){var r={bid_id:e.bidId,pid:e.params.pid,tid:e.params.tid,known:e.params.known||1,is_video:"video"===e.mediaType,resp_type:"JSON",provider:"direct.prebidjs"};e.sizes&&(r.size=function(e){function r(e){if(Array.isArray(e)&&2===e.length&&(0,t.isInteger)(e[0])&&(0,t.isInteger)(e[1]))return e.join("x");throw"Malformed parameter 'sizes'"}return Array.isArray(e)&&Array.isArray(e[0])?e.map(r).join(","):r(e)}(e.sizes));var n=(0,t.getBidIdParameter)(Ai,e.params),i=function(e,r){var n={};return(0,t.isFn)(e.getFloor)&&(n=e.getFloor({currency:r||"RUB",mediaType:e.mediaType,size:e.sizes||"*"})),{floor:n.floor||e.params.floor||0,currency:n.currency||r||""}}(e,n);return i.floor&&(r.floor=i.floor),i.currency&&(r.cur=i.currency),r.is_video&&function(e,t,r){for(var n in e=e||{},t=t||{},Oi){var i=void 0,o=Oi[n];e.hasOwnProperty(n)?i=e[n]:null!==o&&t.hasOwnProperty(o)&&(i="skip"===o?1===t[o]?ki:Ri:t[o]),void 0!==i&&(r[n]=Array.isArray(i)?i.join(","):i)}}(e.params.video,e.mediaTypes.video,r),function(e,t,r){for(var n=0;n<r.length;n++)e.hasOwnProperty(r[n])&&(t[r[n]]=e[r[n]])}(e.params,r,Pi),r}(e);return{method:"GET",url:(r=n,"https://px.adhigh.net"+(r.is_video?"/rtb/direct_vast":"/rtb/direct_banner")),data:n}}))},interpretResponse:function(e){var t=e.body,r=[];if(t&&1!==t.no_bid){var n=t.size.split("x").map(Number),i={requestId:t.bid_id,ttl:360,netRevenue:true,currency:t.currency,creativeId:t.creative_id,cpm:t.cpm,width:n[0],height:n[1],meta:{advertiserDomains:t.adomain||[]}};t.vast_url?(i.mediaType="video",i.vastUrl=t.vast_url):(i.mediaType="banner",i.ad=t.ad),r.push(i)}return r}};(0,qe.dX)(Ui),window.pbjs.installedModules.push("getintentBidAdapter");var Di,ji,Bi,Ni,qi,Mi={value:true,definedInConfig:!1},Zi=0,zi=!1,Fi={iab:function(e){function r(e,r){(0,t.logInfo)("Received a response from CMP",e),r?(!1===e.gdprApplies||"tcloaded"===e.eventStatus||"useractioncomplete"===e.eventStatus)&&Li(e,{onSuccess:o,onError:a}):a("CMP unable to register callback function.  Please check CMP setup.")}function n(e,t){window.$sf.ext.register(s,d,(function(r,n){if("cmpReturn"===r){var i="getConsentData"===e?n.vendorConsentData:n.vendorConsents;t(i)}})),window.$sf.ext.cmp(e)}function i(e,t,r){function n(e){var t=i+"Return",r="string"==typeof e.data&&(0,c.q9)(e.data,t)?JSON.parse(e.data):e.data;if(r[t]&&r[t].callId){var n=r[t];void 0!==p[n.callId]&&p[n.callId](n.returnValue,n.success)}}var i=2===Zi?"__tcfapi":"__cmp",o=i+"Call";2===Zi?(window[i]=function(e,r,n,i){var a,s=Math.random()+"",d=((a={})[o]={command:e,version:r,parameter:i,callId:s},a);p[s]=n,t.postMessage(d,"*")},window.addEventListener("message",n,!1),window[i](e,Zi,r)):(window[i]=function(e,r,n){var i,a=Math.random()+"",s=((i={})[o]={command:e,parameter:r,callId:a},i);p[a]=n,t.postMessage(s,"*")},window.addEventListener("message",n,!1),window[i](e,void 0,r))}var o=e.onSuccess,a=e.onError,s=e.width,d=e.height,u=function(){function e(){r.getConsentData&&r.getVendorConsents&&((0,t.logInfo)("Received all requested responses from CMP",r),Li(r,{onSuccess:o,onError:a}))}var r={};return{consentDataCallback:function(t){r.getConsentData=t,e()},vendorConsentsCallback:function(t){r.getVendorConsents=t,e()}}}(),p={},l=function(){for(var e,t,r=window;!e;){try{if("function"==typeof r.__tcfapi||"function"==typeof r.__cmp){"function"==typeof r.__tcfapi?(Zi=2,t=r.__tcfapi):(Zi=1,t=r.__cmp),e=r;break}}catch(e){}try{if(r.frames.__tcfapiLocator){Zi=2,e=r;break}}catch(e){}try{if(r.frames.__cmpLocator){Zi=1,e=r;break}}catch(e){}if(r===window.top)break;r=r.parent}return{cmpFrame:e,cmpFunction:t}}(),f=l.cmpFrame,m=l.cmpFunction;return f?void((0,t.isFn)(m)?((0,t.logInfo)("Detected CMP API is directly accessible, calling it now..."),1===Zi?(m("getConsentData",null,u.consentDataCallback),m("getVendorConsents",null,u.vendorConsentsCallback)):2==Zi&&m("addEventListener",Zi,r)):1===Zi&&window.$sf&&window.$sf.ext&&"function"==typeof window.$sf.ext.cmp?((0,t.logInfo)("Detected Prebid.js is encased in a SafeFrame and CMP is registered, calling it now..."),n("getConsentData",u.consentDataCallback),n("getVendorConsents",u.vendorConsentsCallback)):((0,t.logInfo)("Detected CMP is outside the current iframe where Prebid.js is located, calling it now..."),1===Zi?(i("getConsentData",f,u.consentDataCallback),i("getVendorConsents",f,u.vendorConsentsCallback)):2==Zi&&i("addEventListener",f,r))):a("CMP not found.")},static:function(e){(0,e.onSuccess)(Ni)}};function Wi(e,t,r){function n(t,r,n){if(null!=o&&clearTimeout(o),i=!0,oe.rp.setConsentData(t),null!=e){for(var a=arguments.length,s=Array(3<a?a-3:0),d=3;d<a;d++)s[d-3]=arguments[d];e.apply(void 0,[r,n].concat(s))}}void 0===t&&(t=1),void 0===r&&(r=1);var i=!1,o=null;if((0,c.q9)(Object.keys(Fi),Di)){var a={onSuccess:function(e){return n(e,!1)},onError:function(e){var t=null,r=!0;Mi.value&&1===Zi&&(t=Gi(void 0),r=!1);for(var i=arguments.length,o=Array(1<i?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];n.apply(void 0,[t,r,e].concat(o))}};Fi[Di]((0,ht.Z)({width:t,height:r},a)),i||(0===ji?Li(void 0,a):o=setTimeout((function(){2===Zi?n(Gi(void 0),!1,"No response from CMP, continuing auction..."):a.onError("CMP workflow exceeded timeout threshold.")}),ji))}else n(null,!1,"CMP framework ("+Di+") is not a supported framework.  Aborting consentManagement module and resuming auction.")}function Vi(e,r){(function(){if(qi)return(0,t.logInfo)("User consent information already known.  Pulling internally stored information..."),function(e){e(!1)};var e=r.adUnits||pbjs.adUnits,n=1,i=1;if(Array.isArray(e)&&0<e.length){var o=(0,t.getAdUnitSizes)(e[0]);n=o[0][0],i=o[0][1]}return function(e){Wi(e,n,i)}})()((function(n,i){if(i){var o=t.logWarn;1!==Zi||n?n&&(o=t.logError,i+=" Canceling auction as per consentManagement config."):i+=" 'allowAuctionWithoutConsent' activated.";for(var a=arguments.length,s=Array(2<a?a-2:0),d=2;d<a;d++)s[d-2]=arguments[d];o.apply(void 0,[i].concat(s))}n?"function"==typeof r.bidsBackHandler?r.bidsBackHandler():(0,t.logError)("Error executing bidsBackHandler"):e.call(this,r)}))}function Li(e,r){var n=r.onSuccess,i=r.onError;"static"===Di&&(2===(Zi=e.getConsentData?1:e.getTCData?2:0)&&(e=e.getTCData));var o=1===Zi?function(e){var r=e&&e.getConsentData&&e.getConsentData.gdprApplies;return!("boolean"==typeof r&&(!0!==r||(0,t.isStr)(e.getConsentData.consentData)&&(0,t.isPlainObject)(e.getVendorConsents)&&1<Object.keys(e.getVendorConsents).length))}:2===Zi?function(){var r=e&&"boolean"==typeof e.gdprApplies?e.gdprApplies:Bi,n=e&&e.tcString;return!("boolean"==typeof r&&(!0!==r||(0,t.isStr)(n)))}:null;(0,t.isFn)(o)?o(e)?i("CMP returned unexpected value during lookup process.",e):n(Gi(e)):i("Unable to derive CMP version to process data.  Consent object does not conform to TCF v1 or v2 specs.",e)}function Gi(e){return 1===Zi?qi={consentString:e?e.getConsentData.consentData:void 0,vendorData:e?e.getVendorConsents:void 0,gdprApplies:e?e.getConsentData.gdprApplies:Bi}:(qi={consentString:e?e.tcString:void 0,vendorData:e||void 0,gdprApplies:e&&"boolean"==typeof e.gdprApplies?e.gdprApplies:Bi},e&&e.addtlConsent&&(0,t.isStr)(e.addtlConsent)&&(qi.addtlConsent=e.addtlConsent)),qi.apiVersion=Zi,qi}p.vc.getConfig("consentManagement",(function(e){return function(e){return(e=e&&(e.gdpr||e.usp?e.gdpr:e))&&"object"==typeof e?((0,t.isStr)(e.cmpApi)?Di=e.cmpApi:(Di="iab",(0,t.logInfo)("consentManagement config did not specify cmp.  Using system default setting (iab).")),(0,t.isNumber)(e.timeout)?ji=e.timeout:(ji=1e4,(0,t.logInfo)("consentManagement config did not specify timeout.  Using system default setting (10000).")),"boolean"==typeof e.allowAuctionWithoutConsent&&(Mi.value=e.allowAuctionWithoutConsent,Mi.definedInConfig=!0),Bi=!0===e.defaultGdprScope,(0,t.logInfo)("consentManagement module has been activated..."),"static"===Di&&((0,t.isPlainObject)(e.consentData)?(Ni=e.consentData,ji=0):(0,t.logError)("consentManagement config with cmpApi: 'static' did not specify consentData. No consents will be available to adapters.")),!zi&&pbjs.requestBids.before(Vi,50),zi=!0,oe.rp.enable(),Wi(),void(Mi.definedInConfig&&2===Zi?(0,t.logWarn)("'allowAuctionWithoutConsent' ignored for TCF 2"):!Mi.definedInConfig&&1==Zi&&(0,t.logInfo)("'allowAuctionWithoutConsent' using system default: (true)."))):void(0,t.logWarn)("consentManagement config not defined, exiting consent manager")}(e.consentManagement)})),window.pbjs.installedModules.push("consentManagement");var Ki=(0,e.R)();var Xi={env:"vp",gdfp_req:1,output:"vast",unviewed_position_start:1},Hi={};function Yi(e,r,n){if(!p.vc.getConfig("cache.url"))if((0,i.Z)(r,n+".description_url"))(0,t.logError)("input cannnot contain description_url");else{var o=e&&e.vastUrl;if(o)return encodeURIComponent(o)}}function Ji(e,r,n){var a,d=e&&e.adserverTargeting||{},c={},u=r&&r.adUnit;if(u){var p=M.getAllTargeting(u.code);c=p?p[u.code]:{}}var l=Object.assign({},{hb_uuid:e&&e.videoCacheKey},{hb_cache_id:e&&e.videoCacheKey},c,d);o.emit(s.EVENTS.SET_TARGETING,((a={})[u.code]=l,a));var f=(0,i.Z)(r,"params.cust_params"),m=Object.assign({},l,f),g=encodeURIComponent((0,t.formatQS)(m));return n&&(g=n+"%26"+g),g}p.vc.getConfig("brandCategoryTranslation.translationFile")&&(0,S.v5)("registerAdserver").before((function(e){e.call(this,"dfp")})),function(e,r){Ki.adServers=Ki.adServers||{},Ki.adServers[e]=Ki.adServers[e]||{},Object.keys(r).forEach((function(n){return Ki.adServers[e][n]?void(0,t.logWarn)("Attempting to add an already registered function property "+n+" for AdServer "+e+"."):void(Ki.adServers[e][n]=r[n])}))}("dfp",{buildVideoUrl:function(e){if(e.params||e.url){var r=e.adUnit,n=e.bid||M.getWinningBids(r.code)[0],o={};if(e.url&&(o=(0,t.parseUrl)(e.url,{noDecodeWholeURL:!0}),(0,t.isEmpty)(e.params)))return function(e,r,n){var i=Yi(r,e,"search");return i&&(e.search.description_url=i),e.search.cust_params=Ji(r,n,e.search.cust_params),(0,t.buildUrl)(e)}(o,n,e);var a={correlator:Date.now(),sz:(0,t.parseSizesInput)((0,i.Z)(r,"mediaTypes.video.playerSize")).join("|"),url:encodeURIComponent(location.href)},s=o.search,d=s&&s.sz;d&&(a.sz=d+"|"+a.sz);var c=Ji(n,e,s&&s.cust_params),u=Object.assign({},Xi,o.search,a,e.params,{cust_params:c}),p=Yi(n,e,"params");p&&(u.description_url=p);var l=oe.rp.getConsentData();l&&("boolean"==typeof l.gdprApplies&&(u.gdpr=+l.gdprApplies),l.consentString&&(u.gdpr_consent=l.consentString),l.addtlConsent&&(u.addtl_consent=l.addtlConsent));var f=oe.nX.getConsentData();return f&&(u.us_privacy=f),(0,t.buildUrl)(Object.assign({protocol:"https",host:"securepubads.g.doubleclick.net",pathname:"/gampad/ads"},o,{search:u}))}(0,t.logError)("A params object or a url is required to use pbjs.adServers.dfp.buildVideoUrl")},buildAdpodVideoUrl:function(e){var r=void 0===e?{}:e,n=r.code,o=r.params,a=r.callback;if(o&&a){var s={correlator:Date.now(),sz:function(e){var r=d.K.getAdUnits().filter((function(t){return t.code===e})),n=(0,i.Z)(r[0],"mediaTypes.video.playerSize");return(0,t.parseSizesInput)(n).join("|")}(n),url:encodeURIComponent(location.href)};Hi.getTargeting({codes:[n],callback:function(e,r){var i;if(e)a(e,null);else{var d=((i={})[Hi.TARGETING_KEY_PB_CAT_DUR]=void 0,i[Hi.TARGETING_KEY_CACHE_ID]=void 0,i),c={};r[n]&&(c=r[n].reduce((function(e,t){return Object.keys(t)[0]===Hi.TARGETING_KEY_PB_CAT_DUR?e[Hi.TARGETING_KEY_PB_CAT_DUR]=void 0===e[Hi.TARGETING_KEY_PB_CAT_DUR]?t[Hi.TARGETING_KEY_PB_CAT_DUR]:e[Hi.TARGETING_KEY_PB_CAT_DUR]+","+t[Hi.TARGETING_KEY_PB_CAT_DUR]:Object.keys(t)[0]===Hi.TARGETING_KEY_CACHE_ID&&(e[Hi.TARGETING_KEY_CACHE_ID]=t[Hi.TARGETING_KEY_CACHE_ID]),e}),d));var u=encodeURIComponent((0,t.formatQS)(c)),p=Object.assign({},Xi,s,o,{cust_params:u}),l=oe.rp.getConsentData();l&&("boolean"==typeof l.gdprApplies&&(p.gdpr=+l.gdprApplies),l.consentString&&(p.gdpr_consent=l.consentString),l.addtlConsent&&(p.addtl_consent=l.addtlConsent));var f=oe.nX.getConsentData();f&&(p.us_privacy=f);var m=(0,t.buildUrl)({protocol:"https",host:"securepubads.g.doubleclick.net",pathname:"/gampad/ads",search:p});a(null,m)}}})}else(0,t.logError)("A params object and a callback is required to use pbjs.adServers.dfp.buildAdpodVideoUrl")},getAdpodTargeting:function(e){return Hi.getTargeting(e)}}),(0,S.Bx)("adpod",Hi),window.pbjs.installedModules.push("dfpAdServerVideo");var $i={code:"oneVideo",VERSION:"3.1.2",ENDPOINT:"https://ads.adaptv.advertising.com/rtb/openrtb?ext_id=",E2ETESTENDPOINT:"https://ads-wc.v.ssp.yahoo.com/rtb/openrtb?ext_id=",SYNC_ENDPOINT1:"https://pixel.advertising.com/ups/57304/sync?gdpr=&gdpr_consent=&_origin=0&redir=true",SYNC_ENDPOINT2:"https://match.adsrvr.org/track/cmf/generic?ttd_pid=adaptv&ttd_tpi=1",supportedMediaTypes:["video","banner"],gvlid:25,isBidRequestValid:function(e){if("oneVideo"!==e.bidder||void 0===e.params)return!1;if(e.params&&e.params.video&&e.params.video.e2etest)return!0;if(void 0===e.mediaTypes.video&&void 0===e.mediaTypes.banner)return(0,t.logError)("Failed validation: adUnit mediaTypes.video OR mediaTypes.banner not declared"),!1;if(e.mediaTypes.video){if(void 0===e.mediaTypes.video.playerSize&&e.params.video&&(void 0===e.params.video.playerWidth||void 0===e.params.video.playerHeight))return(0,t.logError)("Failed validation: Player size not declared in either mediaTypes.playerSize OR bid.params.video.plauerWidth & bid.params.video.playerHeight."),!1;if(void 0===e.mediaTypes.video.mimes&&(!e.params.video||void 0===e.params.video.mimes))return(0,t.logError)("Failed validation: adUnit mediaTypes.mimes OR params.video.mimes not declared"),!1;if("outstream"===e.mediaTypes.video.context&&e.params.video&&1===e.params.video.display)return(0,t.logError)("Failed validation: Dynamic Ad Placement cannot be used with context Outstream (params.video.display=1)"),!1}return void 0!==e.params.pubId||((0,t.logError)("Failed validation: Adapter cannot send requests without bid.params.pubId"),!1)},buildRequests:function(e,t){var r=t?t.gdprConsent:null;return e.map((function(e){var n=$i.ENDPOINT,i=e.params.pubId;return e.params.video.e2etest&&(n=$i.E2ETESTENDPOINT,i="HBExchange"),{method:"POST",url:n+i,data:to(e,r,t),bidRequest:e}}))},interpretResponse:function(e,r){var n,i,o,a=r.bidRequest;try{n=(e=e.body).seatbid[0].bid[0]}catch(t){e=null}return e&&n&&(n.adm||n.nurl)&&n.price?(i=Qi(a.sizes),(o={requestId:a.bidId,bidderCode:$i.code,cpm:n.price,creativeId:n.crid,width:i.width,height:i.height,currency:e.cur,ttl:0<a.params.video.ttl&&3600>=a.params.video.ttl?a.params.video.ttl:300,netRevenue:!0,adUnitCode:a.adUnitCode,meta:{advertiserDomains:n.adomain}}).mediaType=a.mediaTypes.banner?"banner":"video",n.nurl?o.vastUrl=n.nurl:n.adm&&1===a.params.video.display?o.ad=n.adm:n.adm&&(o.vastXml=n.adm),a.mediaTypes.video&&(o.renderer="outstream"===a.mediaTypes.video.context?function(e){e.renderer||(e.renderer={},e.renderer.url="https://cdn.vidible.tv/prod/hb-outstream-renderer/renderer.js",e.renderer.render=function(e){setTimeout((function(){o2PlayerRender(e)}),700)})}(a):void 0),o):((0,t.logWarn)("No valid bids from "+$i.code+" bidder"),[])},getUserSyncs:function(e,t,r){void 0===r&&(r={});var n=r,i=n.gdprApplies,o=n.consentString,a=void 0===o?"":o;if(e.pixelEnabled)return[{type:"image",url:$i.SYNC_ENDPOINT1},{type:"image",url:"https://sync-tm.everesttech.net/upi/pid/m7y5t93k?gdpr="+(i?1:0)+"&gdpr_consent="+a+"&redir=https%3A%2F%2Fpixel.advertising.com%2Fups%2F55986%2Fsync%3Fuid%3D%24%7BUSER_ID%7D%26_origin%3D0"+encodeURI("&gdpr="+(i?1:0)+"&gdpr_consent="+a)},{type:"image",url:$i.SYNC_ENDPOINT2}]}};function Qi(e){var r=(0,t.parseSizesInput)(e),n=r.length?r[0].split("x"):[],i=n[0],o=n[1];return{width:parseInt(i,10)||void 0,height:parseInt(o,10)||void 0}}function eo(e){return!(!e||!e.gdprApplies)}function to(e,r,n){var i=n.refererInfo.referer,o=e.params.site&&e.params.site.page?e.params.site.page:i.href,a=e.params.site&&e.params.site.referrer?e.params.site.referrer:n.refererInfo.referer,s={currency:e.params.cur||"USD",mediaType:"video",size:"*"},d={id:(0,t.generateUUID)(),at:2,imp:[{id:"1",secure:"https:"===document.location.protocol,ext:{hb:1,prebidver:"6.19.0",adapterver:$i.VERSION}}],site:{page:o,ref:a},device:{ua:navigator.userAgent},tmax:200};if(null==e.params.video.display||1!=e.params.video.display){if(d.imp[0].video={linearity:1},e.params.video.playerWidth&&e.params.video.playerHeight)d.imp[0].video.w=e.params.video.playerWidth,d.imp[0].video.h=e.params.video.playerHeight;else{var c=Qi(e.mediaTypes.video.playerSize);d.imp[0].video.w=c.width,d.imp[0].video.h=c.height}d.imp[0].video.mimes=e.params.video.mimes?e.params.video.mimes:e.mediaTypes.video.mimes,(e.mediaTypes.video.maxbitrate||e.params.video.maxbitrate)&&(d.imp[0].video.maxbitrate=e.params.video.maxbitrate||e.mediaTypes.video.maxbitrate),(e.mediaTypes.video.maxduration||e.params.video.maxduration)&&(d.imp[0].video.maxduration=e.params.video.maxduration||e.mediaTypes.video.maxduration),(e.mediaTypes.video.minduration||e.params.video.minduration)&&(d.imp[0].video.minduration=e.params.video.minduration||e.mediaTypes.video.minduration),(e.mediaTypes.video.api||e.params.video.api)&&(d.imp[0].video.api=e.params.video.api||e.mediaTypes.video.api),(e.mediaTypes.video.delivery||e.params.video.delivery)&&(d.imp[0].video.delivery=e.params.video.delivery||e.mediaTypes.video.delivery),(e.mediaTypes.video.position||e.params.video.position)&&(d.imp[0].video.pos=e.params.video.position||e.mediaTypes.video.position),(e.mediaTypes.video.playbackmethod||e.params.video.playbackmethod)&&(d.imp[0].video.playbackmethod=e.params.video.playbackmethod||e.mediaTypes.video.playbackmethod),(e.mediaTypes.video.placement||e.params.video.placement)&&(d.imp[0].video.placement=e.params.video.placement||e.mediaTypes.video.placement),e.params.video.rewarded&&(d.imp[0].ext.rewarded=e.params.video.rewarded),(e.mediaTypes.video.linearity||e.params.video.linearity)&&(d.imp[0].video.linearity=e.params.video.linearity||e.mediaTypes.video.linearity||1),(e.mediaTypes.video.protocols||e.params.video.protocols)&&(d.imp[0].video.protocols=e.params.video.protocols||e.mediaTypes.video.protocols||[2,5])}else 1==e.params.video.display&&(s.mediaType="banner",d.imp[0].banner={mimes:e.params.video.mimes,w:e.params.video.playerWidth,h:e.params.video.playerHeight,pos:e.params.video.position},e.params.video.placement&&(d.imp[0].banner.placement=e.params.video.placement),e.params.video.maxduration&&(d.imp[0].banner.ext=d.imp[0].banner.ext||{},d.imp[0].banner.ext.maxduration=e.params.video.maxduration),e.params.video.minduration&&(d.imp[0].banner.ext=d.imp[0].banner.ext||{},d.imp[0].banner.ext.minduration=e.params.video.minduration));if((0,t.isFn)(e.getFloor)){var u=e.getFloor(s);d.imp[0].bidfloor=u.floor,d.cur=u.currency}else d.imp[0].bidfloor=e.params.bidfloor;if(e.params.video.inventoryid&&(d.imp[0].ext.inventoryid=e.params.video.inventoryid),e.params.video.sid?(d.source={ext:{schain:{complete:1,nodes:[{sid:e.params.video.sid,rid:d.id}]}}},1==e.params.video.hp&&(d.source.ext.schain.nodes[0].hp=e.params.video.hp)):e.schain&&(d.source={ext:{schain:e.schain}},d.source.ext.schain.nodes[0].rid=d.id),e.params.site&&e.params.site.id&&(d.site.id=e.params.site.id),(eo(r)||n&&n.uspConsent)&&(d.regs={ext:{}},eo(r)&&(d.regs.ext.gdpr=1),r&&r.consentString&&(d.user={ext:{consent:r.consentString}}),n&&n.uspConsent&&(d.regs.ext.us_privacy=n.uspConsent)),e.params.video.e2etest&&((0,t.logMessage)("E2E test mode enabled: \n The following parameters are being overridden by e2etest mode:\n* bidfloor:null\n* width:300\n* height:250\n* mimes: video/mp4, application/javascript\n* api:2\n* site.page/ref: verizonmedia.com\n* tmax:1000"),d.imp[0].bidfloor=null,d.imp[0].video.w=300,d.imp[0].video.h=250,d.imp[0].video.mimes=["video/mp4","application/javascript"],d.imp[0].video.api=[2],d.site.page="https://verizonmedia.com",d.site.ref="https://verizonmedia.com",d.tmax=1e3),e.params.video.custom&&(0,t.isPlainObject)(e.params.video.custom))for(var p in d.imp[0].ext.custom={},e.params.video.custom)((0,t.isStr)(e.params.video.custom[p])||(0,t.isNumber)(e.params.video.custom[p]))&&(d.imp[0].ext.custom[p]=e.params.video.custom[p]);if(e.params.video.content&&(0,t.isPlainObject)(e.params.video.content)){d.site.content={};var l=["id","title","series","season","genre","contentrating","language"],f=["episode","prodq","context","livestream","len"],m=["cat"],g=["ext"];for(var v in e.params.video.content)-1<l.indexOf(v)&&(0,t.isStr)(e.params.video.content[v])||-1<f.indexOf(v)&&(0,t.isNumber)(e.params.video.content[v])||-1<g.indexOf(v)&&(0,t.isPlainObject)(e.params.video.content[v])||-1<m.indexOf(v)&&(0,t.isArray)(e.params.video.content[v])&&e.params.video.content[v].every((function(e){return(0,t.isStr)(e)}))?d.site.content[v]=e.params.video.content[v]:(0,t.logMessage)("oneVideo bid adapter validation error: ",v," is either not supported is OpenRTB V2.5 or value is undefined")}return d}(0,qe.dX)($i),window.pbjs.installedModules.push("oneVideoBidAdapter");var ro="1.19",no="BFIO_PREBID",io="USD",oo=["mimes","playbackmethod","maxduration","placement","skip","skipmin","skipafter"],ao=["video/mp4","application/javascript"],so=[{key:"tdid",source:"adserver.org",rtiPartner:"TDID",queryParam:"tdid"},{key:"idl_env",source:"liveramp.com",rtiPartner:"idl",queryParam:"idl"},{key:"uid2.id",source:"uidapi.com",rtiPartner:"UID2",queryParam:"uid2"},{key:"haloId",source:"audigent.com",atype:1,queryParam:"haloid"}],co="",uo={code:"beachfront",supportedMediaTypes:[x.pX,x.Mk],isBidRequestValid:function(e){if(bo(e)){if(!Io(e,"appId"))return(0,t.logWarn)("Beachfront: appId param is required for video bids."),!1;if(!Io(e,"bidfloor"))return(0,t.logWarn)("Beachfront: bidfloor param is required for video bids."),!1}if(yo(e)){if(!Eo(e,"appId"))return(0,t.logWarn)("Beachfront: appId param is required for banner bids."),!1;if(!Eo(e,"bidfloor"))return(0,t.logWarn)("Beachfront: bidfloor param is required for banner bids."),!1}return!0},buildRequests:function(e,t){var r=[],n=e.filter((function(){})),i=e.filter((function(e){return function(e){return yo(e)&&Eo(e,"appId")&&Eo(e,"bidfloor")}(e)}));return n.forEach((function(e){co=Io(e,"appId"),r.push({method:"POST",url:"https://reachms.bfmio.com/bid.json?exchange_id="+co,data:Co(e,t),bidRequest:e})})),i.length&&(co=Eo(i[0],"appId"),r.push({method:"POST",url:"https://display.bfmio.com/prebid_display",data:_o(i,t),bidRequest:i})),r},interpretResponse:function(e,r){var n=r.bidRequest;if(e=e.body,bo(n)){if(!e||!e.bidPrice)return(0,t.logWarn)("No valid video bids from "+uo.code+" bidder"),[];var o=lo(mo(n)),a=(0,i.Z)(n,"mediaTypes.video.context"),s=Io(n,"responseType")||"both",d=Object.assign({mediaType:x.pX,advertiserDomains:[]},e.meta),u={requestId:n.bidId,bidderCode:uo.code,cpm:e.bidPrice,width:o.w,height:o.h,creativeId:e.crid||e.cmpId,meta:d,renderer:"outstream"===a?po(n):null,mediaType:x.pX,currency:io,netRevenue:!0,ttl:300};return("nurl"===s||"both"===s)&&(u.vastUrl=e.url),("adm"===s||"both"===s)&&(u.vastXml=e.vast),u}return e&&e.length?e.filter((function(e){return e.adm})).map((function(e){var t=(0,c.sE)(n,(function(t){return t.adUnitCode===e.slot})),r=Object.assign({mediaType:x.Mk,advertiserDomains:[]},e.meta);return{requestId:t.bidId,bidderCode:uo.code,ad:e.adm,creativeId:e.crid,cpm:e.price,width:e.w,height:e.h,meta:r,mediaType:x.Mk,currency:io,netRevenue:!0,ttl:300}})):((0,t.logWarn)("No valid banner bids from "+uo.code+" bidder"),[])},getUserSyncs:function(e,r,n,i){void 0===r&&(r=[]),void 0===n&&(n={}),void 0===i&&(i="");var o=[],a=n,s=a.gdprApplies,d=a.consentString,u=void 0===d?"":d,p=(0,c.sE)(r,(function(e){return(0,t.isArray)(e.body)}));return p?e.iframeEnabled&&p.body.filter((function(e){return e.sync})).forEach((function(e){o.push({type:"iframe",url:e.sync})})):e.iframeEnabled?o.push({type:"iframe",url:"https://sync.bfmio.com/sync_iframe?ifg=1&id="+co+"&gdpr="+(s?1:0)+"&gc="+u+"&gce=1&us_privacy="+i}):e.pixelEnabled&&o.push({type:"image",url:"https://sync.bfmio.com/syncb?pid=144&id="+co+"&gdpr="+(s?1:0)+"&gc="+u+"&gce=1&us_privacy="+i}),o}};function po(e){var t=u.Th.install({id:e.bidId,url:"https://player-cdn.beachfrontmedia.com/playerapi/loader/outstream.js",loaded:!1});return t.setRender((function(){})),t}function(){}function fo(e){return(0,t.parseSizesInput)(e).map((function(e){var t=e.split("x"),r=t[0],n=t[1];return{w:parseInt(r,10)||void 0,h:parseInt(n,10)||void 0}}))}function mo(e){return fo((0,i.Z)(e,"mediaTypes.video.playerSize")||e.sizes)}function go(e){return fo((0,i.Z)(e,"mediaTypes.banner.sizes")||e.sizes)}function vo(){return/(ios|ipod|ipad|iphone|android)/i.test(navigator.userAgent)}function ho(){return"1"===navigator.doNotTrack||"1"===window.doNotTrack||"1"===navigator.msDoNoTrack||"yes"===navigator.doNotTrack}function bo(e){return(0,i.Z)(e,"mediaTypes.video")}function yo(e){return(0,i.Z)(e,"mediaTypes.banner")||!bo(e)}function Io(e,t){return(0,i.Z)(e,"params.video."+t)||(0,i.Z)(e,"params."+t)}function Eo(e,t){return(0,i.Z)(e,"params.banner."+t)||(0,i.Z)(e,"params."+t)}function To(e,t,r){var n=(0,i.Z)(e,"params.player."+t);return void 0===n?r:n}function wo(e){return((0,t.isFn)(e.getFloor)?e.getFloor({currency:io,mediaType:"banner",size:"*"}):{}).floor||Eo(e,"bidfloor")}function xo(e){var r=e&&e.refererInfo&&e.refererInfo.referer;return(0,t.parseUrl)(p.vc.getConfig("pageUrl")||r,{decodeSearchAsString:!0})}function So(e){return so.map(function(e){return function(t){var r=t.key,n=t.source,o=t.rtiPartner,a=t.atype,s=(0,i.Z)(e,"userId."+r);return s?function(e,t,r,n){var i={id:e};return r&&(i.ext={rtiPartner:r}),n&&(i.atype=n),{source:t,uids:[i]}}(s,n,o,a):null}}(e)).filter((function(e){return e}))}function Co(e,r){var n=lo(mo(e)),o=function(e){var t={},r=["playerSize","context","w","h"];return Object.keys(Object(e.mediaTypes.video)).filter((function(e){return!(0,c.q9)(r,e)})).forEach((function(r){t[r]=e.mediaTypes.video[r]})),Object.keys(Object(e.params.video)).filter((function(e){return(0,c.q9)(oo,e)})).forEach((function(r){t[r]=e.params.video[r]})),t}(e),a=Io(e,"appId"),s=function(e){return((0,t.isFn)(e.getFloor)?e.getFloor({currency:io,mediaType:"video",size:"*"}):{}).floor||Io(e,"bidfloor")}(e),d=Io(e,"tagid"),u=xo(r),l=So(e),f=(0,t.deepClone)(p.vc.getConfig("ortb2")),m={isPrebid:!0,appId:a,domain:document.location.hostname,id:(0,t.getUniqueIdentifierStr)(),imp:[{video:Object.assign({w:n.w,h:n.h,mimes:ao},o),bidfloor:s,tagid:d,secure:0===u.protocol.indexOf("https")?1:0,displaymanager:no,displaymanagerver:ro}],site:(0,ht.Z)({},(0,i.Z)(f,"site",{}),{page:u.href,domain:u.hostname}),device:{ua:navigator.userAgent,language:navigator.language,devicetype:vo()?1:/(smart[-]?tv|hbbtv|appletv|googletv|hdmi|netcast\.tv|viera|nettv|roku|\bdtv\b|sonydtv|inettvbrowser|\btv\b)/i.test(navigator.userAgent)?3:2,dnt:ho()?1:0,js:1,geo:{}},app:(0,i.Z)(f,"app"),user:(0,i.Z)(f,"user"),cur:[io]};if(r&&r.uspConsent&&(0,bt.Z)(m,"regs.ext.us_privacy",r.uspConsent),r&&r.gdprConsent){var g=r.gdprConsent,v=g.gdprApplies,h=g.consentString;(0,bt.Z)(m,"regs.ext.gdpr",v?1:0),(0,bt.Z)(m,"user.ext.consent",h)}e.schain&&(0,bt.Z)(m,"source.ext.schain",e.schain),0<l.length&&(0,bt.Z)(m,"user.ext.eids",l);var b=navigator.connection||navigator.webkitConnection;return b&&b.effectiveType&&(0,bt.Z)(m,"device.connectiontype",b.effectiveType),m}function _o(e,r){var n,o=xo(r),a=function(){try{return window.top.document.referrer}catch(e){return""}}(),s={slots:e.map((function(){})),ortb2:(0,t.deepClone)(p.vc.getConfig("ortb2")),page:o.href,domain:o.hostname,search:o.search,secure:0===o.protocol.indexOf("https")?1:0,referrer:a,ua:navigator.userAgent,deviceOs:(n=(0,c.sE)([{s:"Android",r:/Android/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"Linux",r:/(Linux|X11)/},{s:"Windows 10",r:/(Windows 10.0|Windows NT 10.0)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows Vista",r:/Windows NT 6.0/},{s:"Windows Server 2003",r:/Windows NT 5.2/},{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},{s:"UNIX",r:/UNIX/},{s:"Search Bot",r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}],(function(e){return e.r.test(navigator.userAgent)})),n?n.s:"unknown"),isMobile:vo()?1:0,dnt:ho()?1:0,adapterVersion:ro,adapterName:no};if(r&&r.uspConsent&&(s.usPrivacy=r.uspConsent),r&&r.gdprConsent){var d=r.gdprConsent,u=d.gdprApplies,l=d.consentString;s.gdpr=u?1:0,s.gdprConsent=l}return e[0]&&e[0].schain&&(s.schain=e[0].schain),so.forEach((function(t){var r=t.key,n=t.queryParam,o=(0,i.Z)(e,"0.userId."+r);o&&(s[n]=o)})),s}(0,qe.dX)(uo),window.pbjs.installedModules.push("beachfrontBidAdapter");var Ao=r(5688),Oo="https://ads.betweendigital.com/adjson?t=prebid",ko=["inpage","preroll","midroll","postroll"],Ro={code:"between",aliases:["btw"],supportedMediaTypes:["banner","video"],isBidRequestValid:function(e){return!!e.params.s},buildRequests:function(e,r){var n=[],i=r&&r.gdprConsent,o=(0,Ao.n)();return e.forEach((function(e){var r,a,s,d=e.mediaTypes&&e.mediaTypes.video,u={eids:(r=e,a=r.userIdAsEids,a&&0!==a.length?a:[]),sizes:(0,t.parseSizesInput)((0,t.getAdUnitSizes)(e)),jst:"hb",ord:1e16*Math.random(),tz:(new Date).getTimezoneOffset(),fl:Uo(),rr:Po(),s:e.params&&e.params.s,bidid:e.bidId,transactionid:e.transactionId,auctionid:e.auctionId};if(d&&(u.mediaType=2,u.maxd=d.maxd,u.mind=d.mind,u.pos="atf",Oo+="&jst=pvc",u.codeType=(0,c.q9)(ko,d.codeType)?d.codeType:"inpage"),void 0!==e.params.itu&&(u.itu=e.params.itu),void 0!==e.params.cur&&(u.cur=e.params.cur),void 0!==e.params.subid&&(u.subid=e.params.subid),void 0!==e.params.click3rd&&(u.click3rd=e.params.click3rd),void 0!==e.params.pubdata)for(var p in e.params.pubdata)u["pubside_macro["+p+"]"]=encodeURIComponent(e.params.pubdata[p]);e.schain&&(u.schain=(s=JSON.stringify(e.schain),btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,""))),o&&o.referer&&(u.ref=o.referer),i&&(void 0!==i.gdprApplies&&(u.gdprApplies=!!i.gdprApplies),void 0!==i.consentString&&(u.consentString=i.consentString)),n.push({data:u})})),{method:"POST",url:Oo,data:JSON.stringify(n)}},interpretResponse:function(e){for(var t,r=[],n=0;n<e.body.length;n++)t={requestId:e.body[n].bidid,cpm:e.body[n].cpm||0,width:e.body[n].w,height:e.body[n].h,vastXml:e.body[n].vastXml,mediaType:e.body[n].mediaType,ttl:e.body[n].ttl,creativeId:e.body[n].creativeid,currency:e.body[n].currency||"USD",netRevenue:e.body[n].netRevenue||!0,ad:e.body[n].ad,meta:{advertiserDomains:e.body[n].adomain?e.body[n].adomain:[]}},r.push(t);return r},getUserSyncs:function(){return[{type:"iframe",url:"https://ads.betweendigital.com/sspmatch-iframe"},{type:"image",url:"https://ads.betweendigital.com/sspmatch"}]}};function Po(){try{var e=top.document.referrer}catch(e){return!1}return void 0!==e&&0<e.length?encodeURIComponent(e):void 0!==e&&""==e?"direct":void 0}function Uo(){if(void 0!==navigator.plugins&&null!==navigator.plugins&&void 0!==navigator.plugins["Shockwave Flash"]&&null!==navigator.plugins["Shockwave Flash"]&&"object"==typeof navigator.plugins["Shockwave Flash"]){var e=navigator.plugins["Shockwave Flash"].description;if(e&&(void 0===navigator.mimeTypes||!navigator.mimeTypes["application/x-shockwave-flash"]||navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin))return e=e.replace(/^.*\s+(\S+\s+\S+$)/,"$1").replace(/^(.*)\..*$/,"$1"),parseInt(e,10)}return 0}(0,qe.dX)(Ro),window.pbjs.installedModules.push("betweenBidAdapter");var Do="prebid_js_6.19.0_1.6",jo="USD",Bo=function(e,r){var n={id:r.auctionId,at:1,cur:[jo],tmax:r.timeout,site:{id:window.location.hostname,domain:window.location.hostname,page:window.location.href,ref:r.refererInfo.referer},device:{language:navigator&&navigator.language?navigator.language.split("-")[0]:"",ua:navigator.userAgent,dnt:(0,t.getDNT)()?1:0,h:screen.height,w:screen.width},regs:{coppa:!0===p.vc.getConfig("coppa")?1:0,ext:{}},user:{ext:{}},source:{ext:{schain:e.schain}},ext:{client:Do}},o=p.vc.getConfig("ortb2")||{};if(Object.assign(n.user,o.user),Object.assign(n.site,o.site),(0,bt.Z)(n,"site.publisher.id",(0,i.Z)(e,"params.publisherId")),r.gdprConsent&&!0===r.gdprConsent.gdprApplies&&((0,bt.Z)(n,"regs.ext.gdpr",r.gdprConsent.gdprApplies?1:0),(0,bt.Z)(n,"user.ext.consent",r.gdprConsent.consentString)),void 0!==r.uspConsent&&(0,bt.Z)(n,"regs.ext.us_privacy",r.uspConsent),(0,i.Z)(e,"params.app")){var a=(0,i.Z)(e,"params.app.geo");(0,bt.Z)(n,"device.geo",a);var s=(0,i.Z)(e,"params.app.ifa");(0,bt.Z)(n,"device.ifa",s)}var d=(0,i.Z)(e,"userIdAsEids");d&&d.length&&(0,bt.Z)(n,"user.ext.eids",d);var c=[];if((0,i.Z)(e,"mediaTypes.banner")){var u=Object.assign({},n,function(e){var r=(0,t.getAdUnitSizes)(e),n=r.map((function(e){return{w:e[0],h:e[1]}}));return{imp:[{id:e.bidId,tagid:(0,i.Z)(e,"params.adspaceId"),bidfloor:zo(e,x.Mk,r),instl:(0,i.Z)(e.ortb2Imp,"instl"),banner:{w:n[0].w,h:n[0].h,format:n}}]}}(e));c.push(u)}var l=(0,i.Z)(e,"mediaTypes.video");if(l)if(l.context===x.Oh){var f=Object.assign({},n,function(e,r){var n=(0,i.Z)(e,"params.adbreakId"),o=p.vc.getConfig("adpod.brandCategoryExclusion"),a={id:e.bidId,tagid:n,bidfloor:zo(e,x.pX,r.playerSize),instl:(0,i.Z)(e.ortb2Imp,"instl"),video:{w:r.playerSize[0][0],h:r.playerSize[0][1],mimes:r.mimes,startdelay:r.startdelay,linearity:r.linearity,skip:r.skip,protocols:r.protocols,skipmin:r.skipmin,api:r.api,ext:{context:x.Oh,brandcategoryexclusion:void 0!==o&&o}}},s=function(e){var r=e.adPodDurationSec,n=e.durationRangeSec,i=e.requireExactDuration,o=(0,t.getMinValueFromArray)(n),a=Math.floor(r/o);return i?Math.max(a,n.length):a}(r),d=(0,t.fill)(a,s),c=r.durationRangeSec;if(r.requireExactDuration){var u=Math.ceil(s/c.length),l=(0,t.chunk)(d,u);c.forEach((function(e,t){l[t].map((function(r){r.video.minduration=e,r.video.maxduration=e,r.video.sequence=t+1}))}))}else{var f=(0,t.getMaxValueFromArray)(c);d.map((function(e,t){e.video.maxduration=f,e.video.sequence=t+1}))}return{imp:d}}(e,l));Zo(f,l),c.push(f)}else{var m=Object.assign({},n,function(e,t){return{imp:[{id:e.bidId,tagid:(0,i.Z)(e,"params.adspaceId"),bidfloor:zo(e,x.pX,t.playerSize),instl:(0,i.Z)(e.ortb2Imp,"instl"),video:{mimes:t.mimes,minduration:t.minduration,startdelay:t.startdelay,linearity:t.linearity,w:t.playerSize[0][0],h:t.playerSize[0][1],maxduration:t.maxduration,skip:t.skip,protocols:t.protocols,ext:{rewarded:t.ext&&t.ext.rewarded?t.ext.rewarded:0},skipmin:t.skipmin,api:t.api}}]}}(e,l));c.push(m)}return c},No={code:"smaato",supportedMediaTypes:[x.Mk,x.pX],gvlid:82,isBidRequestValid:function(e){if("object"!=typeof e.params)return(0,t.logError)("[SMAATO] Missing params object"),!1;if("string"!=typeof e.params.publisherId)return(0,t.logError)("[SMAATO] Missing mandatory publisherId param"),!1;if((0,i.Z)(e,"mediaTypes.video.context")===x.Oh){if((0,t.logInfo)("[SMAATO] Verifying adpod bid request"),"string"!=typeof e.params.adbreakId)return(0,t.logError)("[SMAATO] Missing for adpod request mandatory adbreakId param"),!1;if(e.params.adspaceId)return(0,t.logError)("[SMAATO] The adspaceId param is not allowed in an adpod bid request"),!1}else{if((0,t.logInfo)("[SMAATO] Verifying a non adpod bid request"),"string"!=typeof e.params.adspaceId)return(0,t.logError)("[SMAATO] Missing mandatory adspaceId param"),!1;if(e.params.adbreakId)return(0,t.logError)("[SMAATO] The adbreakId param is only allowed in an adpod bid request"),!1}return(0,t.logInfo)("[SMAATO] Verification done, all good"),!0},buildRequests:function(e,r){return(0,t.logInfo)("[SMAATO] Client version:",Do),e.map((function(e){return Bo(e,r).map((function(r){return function(e,r){return(0,t.logInfo)("[SMAATO] OpenRTB Request:",r),{method:"POST",url:e.params.endpoint||"https://prebid.ad.smaato.net/oapi/prebid",data:JSON.stringify(r),options:{withCredentials:!0,crossOrigin:!0}}}(e,r)}))})).reduce((function(e,t){return null!=t&&e.concat(t)}),[])},interpretResponse:function(e,r){if((0,t.isEmpty)(e.body))return(0,t.logInfo)("[SMAATO] Empty response body HTTP 204, no bids"),[];var n=e.headers,o=n.get("X-SMT-Expires");(0,t.logInfo)("[SMAATO] Expires:",o);var a=o?Math.floor((o-Date.now())/1e3):300,s=e.body;(0,t.logInfo)("[SMAATO] OpenRTB Response:",s);var d=n.get("X-SMT-ADTYPE"),c=[];return s.seatbid.forEach((function(e){e.bid.forEach((function(n){var o={requestId:n.impid,cpm:n.price||0,width:n.w,height:n.h,ttl:a,creativeId:n.crid,dealId:n.dealid||null,netRevenue:(0,i.Z)(n,"ext.net",!0),currency:s.cur,meta:{advertiserDomains:n.adomain,networkName:n.bidderName,agencyId:e.seat}};(0,i.Z)(JSON.parse(r.data).imp[0],"video.ext.context")===x.Oh?(o.vastXml=n.adm,o.mediaType=x.pX,p.vc.getConfig("adpod.brandCategoryExclusion")&&(o.meta.primaryCatId=n.cat[0]),o.video={context:x.Oh,durationSeconds:n.ext.duration},c.push(o)):"Img"===d?(o.ad=qo(n.adm),o.mediaType=x.Mk,c.push(o)):"Richmedia"===d?(o.ad=Mo(n.adm),o.mediaType=x.Mk,c.push(o)):"Video"===d?(o.vastXml=n.adm,o.mediaType=x.pX,c.push(o)):(0,t.logInfo)("[SMAATO] Invalid ad type:",d),o.meta.mediaType=o.mediaType}))})),(0,t.logInfo)("[SMAATO] Prebid bids:",c),c},getUserSyncs:function(){return[]}};(0,qe.dX)(No);var qo=function(e){var t=JSON.parse(e).image,r="";t.clicktrackers.forEach((function(e){r+="fetch(decodeURIComponent('"+encodeURIComponent(e)+"'), {cache: 'no-cache'});"}));var n='<div style="cursor:pointer" onclick="'+r+";window.open(decodeURIComponent('"+encodeURIComponent(t.img.ctaurl)+'\'));"><img src="'+t.img.url+'" width="'+t.img.w+'" height="'+t.img.h+'"/>';return t.impressiontrackers.forEach((function(e){n+='<img src="'+e+'" alt="" width="0" height="0"/>'})),n+"</div>"},Mo=function(e){var t=JSON.parse(e).richmedia,r="";t.clicktrackers.forEach((function(e){r+="fetch(decodeURIComponent('"+encodeURIComponent(e)+"'), {cache: 'no-cache'});"}));var n='<div onclick="'+r+'">'+t.mediadata.content;return t.impressiontrackers.forEach((function(e){n+='<img src="'+e+'" alt="" width="0" height="0"/>'})),n+"</div>"};var Zo=function(e,r){var n={};r.tvSeriesName&&(n.series=r.tvSeriesName),r.tvEpisodeName&&(n.title=r.tvEpisodeName),"number"==typeof r.tvSeasonNumber&&(n.season=r.tvSeasonNumber.toString()),"number"==typeof r.tvEpisodeNumber&&(n.episode=r.tvEpisodeNumber),"number"==typeof r.contentLengthSec&&(n.len=r.contentLengthSec),r.contentMode&&0<=["live","on-demand"].indexOf(r.contentMode)&&(n.livestream="live"===r.contentMode?1:0),(0,t.isEmpty)(n)||(e.site.content=n)};function zo(e,t,r){if("function"==typeof e.getFloor){var n=1===r.length?r[0]:"*",i=e.getFloor({currency:jo,mediaType:t,size:n});if(i&&!isNaN(i.floor)&&i.currency===jo)return i.floor}}window.pbjs.installedModules.push("smaatoBidAdapter");var Fo="6.19.0",Wo="USD",Vo=["admixer.net","adserver.org","adtelligent.com","akamai.com","amxrtb.com","audigent.com","britepool.com","criteo.com","crwdcntrl.net","deepintent.com","hcn.health","id5-sync.com","idx.lat","intentiq.com","intimatemerger.com","liveintent.com","liveramp.com","mediawallahscript.com","merkleinc.com","netid.de","neustar.biz","nextroll.com","novatiq.com","parrable.com","pubcid.org","quantcast.com","quantcast.com","tapad.com","uidapi.com","verizonmedia.com","yahoo.com","zeotap.com"];function Lo(e){return!(e&&e.gdprConsent&&e.gdprConsent.gdprApplies&&2===e.gdprConsent.apiVersion)||!0===(0,i.Z)(e.gdprConsent,"vendorData.purpose.consents.1")}function Go(e){return{w:parseInt(e[0]),h:parseInt(e[1])}}function Ko(e){return(0,t.isArray)(e)&&2===e.length&&!(0,t.isArray)(e[0])?[Go(e)]:e.map(Go)}function Xo(e){return(0,t.isArray)((0,i.Z)(e,"userIdAsEids"))?e.userIdAsEids.filter((function(e){return-1!==Vo.indexOf(e.source)})):[]}function Ho(e){return(0,i.Z)(e,"params.bidOverride.imp.secure")||"https:"===document.location.protocol?1:0}function Yo(e){var t;return(0,i.Z)(e,"params.pubId")?t=!0:(0,i.Z)(e,"params.dcn")&&(0,i.Z)(e,"params.pos")&&(t=!1),t}function Jo(){var e=p.vc.getConfig("yahoossp.mode");return void 0===(e=e?e.toLowerCase():void 0)||e===x.Mk?x.Mk:e===x.pX?x.pX:"all"===e?"*":void 0}function $o(e){var r=Jo(),n={currency:(0,i.Z)(e,"params.bidOverride.cur")||Wo,mediaType:r,size:"*"};return!!(0,t.isFn)(e.getFloor)&&e.getFloor(n)}function Qo(e,r,n,i){var o=(0,ht.Z)({},i);for(var a in n)switch(e){case"string":-1!==r.indexOf(a)&&(0,t.isStr)(n[a])&&(o[a]=n[a]);break;case"number":-1!==r.indexOf(a)&&(0,t.isNumber)(n[a])&&(o[a]=n[a]);break;case"array":-1!==r.indexOf(a)&&(0,t.isArray)(n[a])&&(o[a]=n[a]);break;case"object":-1!==r.indexOf(a)&&(0,t.isPlainObject)(n[a])&&(o[a]=n[a]);break;case"objectAllKeys":(0,t.isPlainObject)(n)&&(o[a]=n[a])}return o}function ea(e){var t=p.vc.getConfig("yahoossp.ttl");return ta(t||(0,i.Z)(e,"params.ttl"))}function ta(e){return(0,t.isNumber)(e)&&0<e&&3600>e?e:300}function ra(e){return(0,t.isStr)(e)&&0<e.length}function na(e,r){if(e){var n={id:(0,t.generateUUID)(),cur:[$o(e).currency||(0,i.Z)(r,"params.bidOverride.cur")||Wo],imp:[],site:{page:(0,i.Z)(e,"refererInfo.referer")},device:{dnt:0,ua:navigator.userAgent,ip:(0,i.Z)(r,"params.bidOverride.device.ip")||(0,i.Z)(r,"params.ext.ip")||void 0},regs:{ext:{us_privacy:e.uspConsent?e.uspConsent:"",gdpr:e.gdprConsent&&e.gdprConsent.gdprApplies?1:0}},source:{ext:{hb:1,adapterver:"1.0.2",prebidver:Fo,integration:{name:"prebid.js",ver:Fo}},fd:1},user:{ext:{consent:e.gdprConsent&&e.gdprConsent.gdprApplies?e.gdprConsent.consentString:"",eids:Xo(r)}}};return!0===Yo(r)?(n.site.publisher={id:r.params.pubId},((0,i.Z)(r,"params.bidOverride.site.id")||(0,i.Z)(r,"params.siteId"))&&(n.site.id=(0,i.Z)(r,"params.bidOverride.site.id")||r.params.siteId)):n.site.id=r.params.dcn,p.vc.getConfig("ortb2")&&(n=function(e){var r=p.vc.getConfig("ortb2"),n=(0,i.Z)(r,"site")||void 0,o=(0,i.Z)(n,"content")||void 0,a=(0,i.Z)(n,"content.data")||void 0,s=(0,i.Z)(r,"app.content")||void 0,d=(0,i.Z)(r,"app.content.data")||void 0,c=(0,i.Z)(r,"user")||void 0;n&&(0,t.isPlainObject)(n)&&(e.site=Qo("string",["name","domain","page","ref","keywords","search"],n,e.site),e.site=Qo("array",["cat","sectioncat","pagecat"],n,e.site),e.site=Qo("object",["ext"],n,e.site));o&&(0,t.isPlainObject)(o)&&(e.site.content=Qo("string",["id","title","series","season","genre","contentrating","language"],o,e.site.content),e.site.content=Qo("number",["episode","prodq","context","livestream","len"],o,e.site.content),e.site.content=Qo("array",["cat"],o,e.site.content),e.site.content=Qo("object",["ext"],o,e.site.content),a&&(0,t.isArray)(a)&&a.every((function(t){var r={};r=Qo("string",["id","name"],t,r),r=Qo("array",["segment"],t,r),r=Qo("object",["ext"],t,r),e.site.content.data=[],e.site.content.data.push(r)})));s&&(0,t.isPlainObject)(s)&&d&&(0,t.isArray)(d)&&d.every((function(t){var r={};r=Qo("string",["id","name"],t,r),r=Qo("array",["segment"],t,r),r=Qo("object",["ext"],t,r),e.app={content:{data:[]}},e.app.content.data.push(r)})),c&&(0,t.isPlainObject)(c)&&(e.user=Qo("string",["id","buyeruid","gender","keywords","customdata"],c,e.user),e.user=Qo("number",["yob"],c,e.user),e.user=Qo("array",["data"],c,e.user),e.user.ext=Qo("object",["ext"],c,e.user.ext));return e}(n)),(0,i.Z)(r,"schain")&&(n.source.ext.schain=r.schain,n.source.ext.schain.nodes[0].rid=n.id),n}}function ia(e,r){var n=Jo();if(r&&e){var o={id:e.bidId,secure:Ho(e),bidfloor:$o(e).floor||(0,i.Z)(e,"params.bidOverride.imp.bidfloor")};if(e.mediaTypes.banner&&(void 0===n||n===x.Mk||"*"===n)&&(o.banner={mimes:e.mediaTypes.banner.mimes||["text/html","text/javascript","application/javascript","image/jpg"],format:Ko(e.sizes)},e.mediaTypes.banner.pos&&(o.banner.pos=e.mediaTypes.banner.pos)),e.mediaTypes.video&&(n===x.pX||"*"===n)){var a=Ko(e.mediaTypes.video.playerSize);o.video={mimes:(0,i.Z)(e,"params.bidOverride.imp.video.mimes")||e.mediaTypes.video.mimes||["video/mp4","application/javascript"],w:(0,i.Z)(e,"params.bidOverride.imp.video.w")||a[0].w,h:(0,i.Z)(e,"params.bidOverride.imp.video.h")||a[0].h,maxbitrate:(0,i.Z)(e,"params.bidOverride.imp.video.maxbitrate")||e.mediaTypes.video.maxbitrate||void 0,maxduration:(0,i.Z)(e,"params.bidOverride.imp.video.maxduration")||e.mediaTypes.video.maxduration||void 0,minduration:(0,i.Z)(e,"params.bidOverride.imp.video.minduration")||e.mediaTypes.video.minduration||void 0,api:(0,i.Z)(e,"params.bidOverride.imp.video.api")||e.mediaTypes.video.api||[2],delivery:(0,i.Z)(e,"params.bidOverride.imp.video.delivery")||e.mediaTypes.video.delivery||void 0,pos:(0,i.Z)(e,"params.bidOverride.imp.video.pos")||e.mediaTypes.video.pos||void 0,playbackmethod:(0,i.Z)(e,"params.bidOverride.imp.video.playbackmethod")||e.mediaTypes.video.playbackmethod||void 0,placement:(0,i.Z)(e,"params.bidOverride.imp.video.placement")||e.mediaTypes.video.placement||void 0,linearity:(0,i.Z)(e,"params.bidOverride.imp.video.linearity")||e.mediaTypes.video.linearity||1,protocols:(0,i.Z)(e,"params.bidOverride.imp.video.protocols")||e.mediaTypes.video.protocols||[2,5],startdelay:(0,i.Z)(e,"params.bidOverride.imp.video.startdelay")||e.mediaTypes.video.startdelay||0,rewarded:(0,i.Z)(e,"params.bidOverride.imp.video.rewarded")||void 0}}if(o.ext={dfp_ad_unit_code:e.adUnitCode},(0,i.Z)(e,"params.kvp")&&(0,t.isPlainObject)(e.params.kvp))for(var s in o.ext.kvs={},e.params.kvp)if((0,t.isStr)(e.params.kvp[s])||(0,t.isNumber)(e.params.kvp[s]))o.ext.kvs[s]=e.params.kvp[s];else if((0,t.isArray)(e.params.kvp[s])){var d=e.params.kvp[s];(d.every((function(e){return(0,t.isStr)(e)}))||d.every((function(e){return(0,t.isNumber)(e)})))&&(o.ext.kvs[s]=e.params.kvp[s])}(0,i.Z)(e,"ortb2Imp.ext.data")&&(0,t.isPlainObject)(e.ortb2Imp.ext.data)&&(o.ext.data=e.ortb2Imp.ext.data),(0,i.Z)(e,"ortb2Imp.instl")&&(0,t.isNumber)(e.ortb2Imp.instl)&&1===e.ortb2Imp.instl&&(o.instl=e.ortb2Imp.instl),!1===Yo(e)?(o.tagid=e.params.pos,o.ext.pos=e.params.pos):(0,i.Z)(e,"params.placementId")&&(o.tagid=e.params.placementId),r.imp.push(o)}}function oa(e){var r=e.payload,n=e.requestOptions,o=e.bidderRequest,a=Yo(o),s=p.vc.getConfig("yahoossp.endpoint")||"https://c2shb.pubgw.yahoo.com/bidRequest";if(!0===a&&(s=p.vc.getConfig("yahoossp.endpoint")||"https://c2shb.pubgw.yahoo.com/admax/bid/partners/PBJS"),!0===(0,i.Z)(o,"params.testing.e2etest"))if((0,t.logInfo)("yahoossp adapter e2etest mode is active"),n.withCredentials=!1,!0===a)r.site.id="1234567";else{var d=Jo();r.site.id="8a969516017a7a396ec539d97f540011",r.imp.forEach((function(e){e.ext.e2eTestMode=!0,d===x.Mk?e.tagid="8a969978017a7aaabab4ab0bc01a0009":d===x.pX?e.tagid="8a96958a017a7a57ac375d50c0c700cc":((0,t.logWarn)('yahoossp adapter e2etest mode does not support yahoossp.mode="all". \n Please specify either "banner" or "video"'),(0,t.logWarn)("yahoossp adapter e2etest mode: Please make sure your adUnit matches the yahoossp.mode video or banner"))}))}return{url:s,method:"POST",data:r,options:n,bidderRequest:o}}var aa={code:"yahoossp",gvlid:25,aliases:[],supportedMediaTypes:[x.Mk,x.pX],isBidRequestValid:function(e){var r=e.params;return!(!0!==(0,i.Z)(r,"testing.e2etest")&&(!(0,t.isPlainObject)(r)||!(ra(r.pubId)||ra(r.dcn)&&ra(r.pos)))&&((0,t.logWarn)("yahoossp bidder params missing or incorrect, please pass object with either: dcn & pos OR pubId"),1))},buildRequests:function(e,r){if(!(0,t.isEmpty)(e)&&!(0,t.isEmpty)(r)){var n={contentType:"application/json",customHeaders:{"x-openrtb-version":"2.5"},withCredentials:Lo(r)},i=function(e){var t=Jo(),r=[];return t===x.Mk?r=e.filter((function(e){return Object.keys(e.mediaTypes).some((function(e){return e===x.Mk}))})):t===x.pX?r=e.filter((function(e){return Object.keys(e.mediaTypes).some((function(e){return e===x.pX}))})):"*"===t&&(r=e.filter((function(e){return Object.keys(e.mediaTypes).some((function(e){return e===x.Mk||e===x.pX}))}))),r}(e);if(!0===p.vc.getConfig("yahoossp.singleRequestMode")){var o=na(r,i[0]);return i.forEach((function(e){ia(e,o)})),oa({payload:o,requestOptions:n,bidderRequest:r})}return i.map((function(e){var t=na(r,e);return ia(e,t),oa({payload:t,requestOptions:n,bidderRequest:e})}))}(0,t.logWarn)('yahoossp Adapter: buildRequests called with either empty "validBidRequests" or "bidderRequest"')},interpretResponse:function(e,r){r.data;var n=r.bidderRequest,o=[];return e.body&&Array.isArray(e.body.seatbid)?(e.body.seatbid.forEach((function(e){var r;try{r=e.bid[0]}catch(e){return o}var a=r.ext&&r.ext.encp?r.ext.encp:r.price,s={adId:(0,i.Z)(r,"adId")?r.adId:r.impid||r.crid,adUnitCode:n.adUnitCode,requestId:r.impid,cpm:a,width:r.w,height:r.h,creativeId:r.crid||0,currency:r.cur||Wo,dealId:r.dealid?r.dealid:null,netRevenue:!0,ttl:ea(n),meta:{advertiserDomains:r.adomain}},d=function(e){var t=e.adm;return-1!==t.indexOf("o2playerSettings")||-1!==t.indexOf("YAHOO.VideoPlatform.VideoPlayer")||-1!==t.indexOf("AdPlacement")?x.Mk:-1===t.indexOf("VAST")?void 0:x.pX}(r);d===x.Mk?(s.mediaType=x.Mk,s.ad=r.adm,s.meta.mediaType=x.Mk):d===x.pX&&(s.mediaType=x.pX,s.meta.mediaType=x.pX,s.vastXml=r.adm,r.nurl&&(s.vastUrl=r.nurl)),"outstream"!==(0,i.Z)(n,"mediaTypes.video.context")||n.renderer||(s.renderer=function(e){var r=u.Th.install({url:"https://cdn.vidible.tv/prod/hb-outstream-renderer/renderer.js",loaded:!1,adUnitCode:e.adUnitCode});try{r.setRender((function(t){setTimeout((function(){o2PlayerRender(t)}),(0,i.Z)(e,"params.testing.renderer.setTimeout")||700)}))}catch(e){(0,t.logWarn)("yahoossp renderer error: setRender() failed",e)}return r}(n)||void 0),o.push(s)})),o):o},getUserSyncs:function(e,r){var n=!(0,t.isEmpty)(r)&&r[0].body;return n&&n.ext&&n.ext.pixels?function(e,t){var r=[];if(t){var n=t.match(/(img|iframe)[\s\S]*?src\s*=\s*("|')(.*?)\2/gi);n&&n.forEach((function(t){var n=t.match(/\w*(?=\s)/)[0],i=t.match(/src=("|')(.*?)\1/)[2];if(n&&i){var o="img"===n.toLowerCase()?"image":"iframe";if(!e.iframeEnabled&&"iframe"===o||!e.pixelEnabled&&"image"===o)return;r.push({type:o,url:i})}}))}return r}(e,n.ext.pixels):[]}};(0,qe.dX)(aa),window.pbjs.installedModules.push("yahoosspBidAdapter");var sa=r(8883),da=(0,ie.df)(),ca={name:"identityLink",gvlid:97,decode:function(e){return{idl_env:e}},getId:function(e,r){var n=e&&e.params||{};if(n&&"string"==typeof n.pid){var o=r&&"boolean"==typeof r.gdprApplies&&r.gdprApplies?1:0,a=o?r.consentString:"",s=2===i.Z(r,"vendorData.tcfPolicyVersion");if(!o||a&&""!==a){var d,c="https://api.rlcdn.com/api/identity/envelope?pid="+n.pid+(o?(s?"&ct=4&cv=":"&ct=1&cv=")+a:"");return d=function(e){window.ats?(t.logInfo("identityLink: ATS exists!"),window.ats.retrieveEnvelope((function(r){r?(t.logInfo("identityLink: An envelope can be retrieved from ATS!"),pa(!0),e(JSON.parse(r).envelope)):ua(c,e,n)}))):ua(c,e,n)},{callback:d}}t.logInfo("identityLink: Consent string is required to call envelope API.")}else t.logError("identityLink: requires partner id to be defined")}};function ua(e,r,n){var i;n.notUse3P||da.getCookie("_lr_retry_request")||((i=new Date).setTime(i.getTime()+36e5),da.setCookie("_lr_retry_request","true",i.toUTCString()),t.logInfo("identityLink: A 3P retrieval is attempted!"),pa(!1),(0,sa.h)(e,{success:function(e){var n;if(e)try{n=JSON.parse(e)}catch(e){t.logInfo(e)}r(n&&n.envelope?n.envelope:"")},error:function(e){t.logInfo("identityLink: identityLink: ID fetch encountered an error",e),r()}},void 0,{method:"GET",withCredentials:!0}))}function pa(e){var t=new Date;t.setTime(t.getTime()+2592e6),da.setCookie("_lr_env_src_ats",e,t.toUTCString())}(0,S.Bx)("userId",ca),window.pbjs.installedModules.push("identityLinkIdSystem");var la={trustpid:{source:"trustpid.com",atype:1,getValue:function(e){return e}},intentIqId:{source:"intentiq.com",atype:1},naveggId:{source:"navegg.com",atype:1},justId:{source:"justtag.com",atype:1},pubcid:{source:"pubcid.org",atype:1},tdid:{source:"adserver.org",atype:1,getUidExt:function(){return{rtiPartner:"TDID"}}},id5id:{getValue:function(e){return e.uid},source:"id5-sync.com",atype:1,getUidExt:function(e){if(e.ext)return e.ext}},ftrackId:{source:"flashtalking.com",atype:1,getValue:function(e){return e.uid},getUidExt:function(e){if(e.ext)return e.ext}},parrableId:{source:"parrable.com",atype:1,getValue:function(e){return e.eid?e.eid:e.ccpaOptout?"":null},getUidExt:function(e){var r=(0,t.pick)(e,["ibaOptout","ccpaOptout"]);if(Object.keys(r).length)return r}},idl_env:{source:"liveramp.com",atype:3},lipb:{getValue:function(e){return e.lipbid},source:"liveintent.com",atype:3,getEidExt:function(e){if(Array.isArray(e.segments)&&e.segments.length)return{segments:e.segments}}},britepoolid:{source:"britepool.com",atype:3},dmdId:{source:"hcn.health",atype:3},lotamePanoramaId:{source:"crwdcntrl.net",atype:1},criteoId:{source:"criteo.com",atype:1},merkleId:{source:"merkleinc.com",atype:3,getValue:function(e){return e.id},getUidExt:function(e){return e&&e.keyID?{keyID:e.keyID}:void 0}},netId:{source:"netid.de",atype:1},IDP:{source:"zeotap.com",atype:1},hadronId:{source:"audigent.com",atype:1},haloId:{source:"audigent.com",atype:1},quantcastId:{source:"quantcast.com",atype:1},nextrollId:{source:"nextroll.com",atype:1},idx:{source:"idx.lat",atype:1},connectid:{source:"verizonmedia.com",atype:3},fabrickId:{source:"neustar.biz",atype:1},mwOpenLinkId:{source:"mediawallahscript.com",atype:1},tapadId:{source:"tapad.com",atype:1},novatiq:{getValue:function(e){return e.snowflake},source:"novatiq.com",atype:1},uid2:{source:"uidapi.com",atype:3,getValue:function(e){return e.id}},dapId:{source:"akamai.com",atype:1},deepintentId:{source:"deepintent.com",atype:3},admixerId:{source:"admixer.net",atype:3},adtelligentId:{source:"adtelligent.com",atype:3},amxId:{source:"amxrtb.com",atype:1},publinkId:{source:"epsilon.com",atype:3},kpuid:{source:"kpuid.com",atype:3},imuid:{source:"intimatemerger.com",atype:1},connectId:{source:"yahoo.com",atype:3},qid:{source:"adquery.io",atype:1},dacId:{source:"impact-ad.jp",atype:1}};function fa(e,r){var n=la[r];if(n&&e){var i={source:n.source},o=(0,t.isFn)(n.getValue)?n.getValue(e):e;if((0,t.isStr)(o)){var a={id:o,atype:n.atype};if((0,t.isFn)(n.getUidExt)){var s=n.getUidExt(e);s&&(a.ext=s)}if(i.uids=[a],(0,t.isFn)(n.getEidExt)){var d=n.getEidExt(e);d&&(i.ext=d)}return i}}return null}function ma(e){var t=[];for(var r in e)if(e.hasOwnProperty(r))if("pubProvidedId"===r)t=t.concat(e.pubProvidedId);else{var n=fa(e[r],r);n&&t.push(n)}return t}function ga(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return va(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?va(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function va(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var ha,ba,ya,Ia,Ea,Ta="cookie",wa="html5",xa="_pbjs_userid_consent_data",Sa=30,Ca="_pbjs_id_optout",_a=(0,ie.eA)("userid"),Aa=[],Oa=!1,ka=[],Ra=[],Pa=[];function Ua(e,r){var n=e.config.storage,i="function"==typeof e.submodule.domainOverride?e.submodule.domainOverride():null;try{var o=(0,t.isPlainObject)(r)?JSON.stringify(r):r,a=new Date(Date.now()+864e5*n.expires).toUTCString();n.type===Ta?(_a.setCookie(n.name,o,a,"Lax",i),"number"==typeof n.refreshInSeconds&&_a.setCookie(n.name+"_last",(new Date).toUTCString(),a,"Lax",i)):n.type===wa&&(_a.setDataInLocalStorage(n.name+"_exp",a),_a.setDataInLocalStorage(n.name,encodeURIComponent(o)),"number"==typeof n.refreshInSeconds&&_a.setDataInLocalStorage(n.name+"_last",(new Date).toUTCString()))}catch(e){(0,t.logError)(e)}}function Da(e){var r=(0,t.getPrebidInternal)().setEidPermissions;"function"==typeof r&&(0,t.isArray)(e)&&r(function(e){var r=[];return e.filter((function(e){return(0,t.isPlainObject)(e.idObj)&&Object.keys(e.idObj).length})).forEach((function(e){Object.keys(e.idObj).forEach((function(t){(0,i.Z)(e,"config.bidders")&&Array.isArray(e.config.bidders)&&(0,i.Z)(la,t+".source")&&r.push({source:la[t].source,bidders:e.config.bidders})}))})),r}(e))}function ja(e,r){void 0===r&&(r=void 0);var n,i=r?e.name+"_"+r:e.name;try{if(e.type===Ta)n=_a.getCookie(i);else if(e.type===wa){var o=_a.getDataFromLocalStorage(e.name+"_exp");""===o?n=_a.getDataFromLocalStorage(i):o&&0<new Date(o).getTime()-Date.now()&&(n=decodeURIComponent(_a.getDataFromLocalStorage(i)))}"string"==typeof n&&"{"===n.trim().charAt(0)&&(n=JSON.parse(n))}catch(e){(0,t.logError)(e)}return n}function Ba(e){var r={consentString:"",gdprApplies:!1,apiVersion:0};return e&&(r.consentString=e.consentString,r.gdprApplies=e.gdprApplies,r.apiVersion=e.apiVersion),(0,t.cyrb53Hash)(JSON.stringify(r))}function Na(e){try{var r=new Date(Date.now()+864e5*Sa).toUTCString();_a.setCookie(xa,Ba(e),r,"Lax")}catch(e){(0,t.logError)(e)}}function qa(){try{return _a.getCookie(xa)}catch(e){(0,t.logError)(e)}}function Ma(e){if(e&&"boolean"==typeof e.gdprApplies&&e.gdprApplies){if(!e.consentString)return!1;if(1===e.apiVersion&&!1===(0,i.Z)(e,"vendorData.purposeConsents.1"))return!1;if(2===e.apiVersion&&!1===(0,i.Z)(e,"vendorData.purpose.consents.1"))return!1}return!0}function Za(e){if(void 0===e&&(e=window.location.hostname),!_a.cookiesAreEnabled())return e;var r=e.split(".");if(2==r.length)return e;var n,i,o=-2,a="_rdc"+Date.now(),s="writeable";do{n=r.slice(o).join(".");var d=new Date((0,t.timestamp)()+1e4).toUTCString();_a.setCookie(a,s,d,"Lax",n,void 0),_a.getCookie(a,void 0)===s?(i=!1,_a.setCookie(a,"","Thu, 01 Jan 1970 00:00:01 GMT",void 0,n,void 0)):(o+=-1,i=Math.abs(o)<=r.length)}while(i);return n}function za(e,r){var n=function(){};r&&(n=(0,t.delayExecution)((function(){clearTimeout(ba),r()}),e.length)),e.forEach((function(e){e.callback((function(r){r?(e.config.storage&&Ua(e,r),e.idObj=e.submodule.decode(r,e.config)):(0,t.logInfo)("User ID: "+e.submodule.name+" - request id responded with an empty value"),n()})),e.callback=void 0}))}function Fa(e){return Array.isArray(e)&&e.length?e.filter((function(e){return(0,t.isPlainObject)(e.idObj)&&Object.keys(e.idObj).length})).reduce((function(e,t){return Object.keys(t.idObj).forEach((function(r){e[r]=t.idObj[r]})),e}),{}):{}}function(){}