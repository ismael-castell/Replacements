(window.webpackJsonp=window.webpackJsonp||[]).push([[100],{117:function(e,t,r){"use strict";r.d(t,"b",(function(){return c})),r.d(t,"a",(function(){return l}));r(60);var n=r(8),o=r.n(n);function c(){return(new Date).getTime()>new Date("2020/08/05").getTime()}function l(){var e=o()();return{check_in:e.format("YYYY-MM-DD"),check_out:e.add(1,"d").format("YYYY-MM-DD"),adult_num:2,room_num:1,child_num:0,age:""}}},118:function(e,t,r){"use strict";r(11),r(16),r(12),r(9),r(7),r(10);var n=r(1),o=r(0),c=(r(24),r(2)),l=r(375),d=r(213),_=r.n(d),f=r(138),m=r.n(f),h=r(263),v=r(22);"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual",window.addEventListener("beforeunload",(function(){window.history.scrollRestoration="auto"})),window.addEventListener("load",(function(){window.history.scrollRestoration="manual"})));var y=function(e,t,r){var n=!1,o=Object(v.e)(e);o.length<2&&o.every((function(e){return!1!==e.options.scrollToTop}))?n={x:0,y:0}:o.some((function(e){return e.options.scrollToTop}))&&(n={x:0,y:0}),r&&(n=r);var c=window.$klook;return e.path===t.path&&e.hash!==t.hash&&c.$nextTick((function(){return c.$emit("triggerScroll")})),new Promise((function(t){c.$once("triggerScroll",(function(){if(e.hash){var r=e.hash;void 0!==window.CSS&&void 0!==window.CSS.escape&&(r="#"+window.CSS.escape(r.substr(1)));try{document.querySelector(r)&&(n={selector:r})}catch(e){console.warn("Failed to save scroll position. Please add CSS.escape() polyfill (https://github.com/mathiasbynens/CSS.escape).")}}t(n)}))}))};c.default.use(h.a);var k=function(e){return e.then((function(e){return e.default||e}))},T=function(){return k(r.e(181).then(r.bind(null,2227)))},S=function(){return k(r.e(182).then(r.bind(null,2228)))},E=function(){return k(r.e(180).then(r.bind(null,2229)))},O=function(){return k(Promise.all([r.e(0),r.e(2),r.e(1),r.e(8),r.e(194)]).then(r.bind(null,2238)))},w=function(){return k(Promise.all([r.e(0),r.e(1),r.e(3),r.e(8),r.e(193)]).then(r.bind(null,2236)))},P=function(){return k(Promise.all([r.e(0),r.e(2),r.e(1),r.e(8),r.e(188)]).then(r.bind(null,2237)))},I=function(){return k(Promise.all([r.e(0),r.e(93),r.e(1),r.e(3),r.e(187)]).then(r.bind(null,2281)))},R=function(){return k(r.e(246).then(r.bind(null,2273)))},A=function(){return k(Promise.all([r.e(0),r.e(93),r.e(1),r.e(3),r.e(199)]).then(r.bind(null,2274)))},j=function(){return k(Promise.all([r.e(0),r.e(3),r.e(231)]).then(r.bind(null,2282)))},x=function(){return k(Promise.all([r.e(0),r.e(232)]).then(r.bind(null,2283)))},C=function(){return k(Promise.all([r.e(0),r.e(4),r.e(86),r.e(196)]).then(r.bind(null,2230)))},D=function(){return k(Promise.all([r.e(0),r.e(4),r.e(85),r.e(195)]).then(r.bind(null,2231)))},L=function(){return k(Promise.all([r.e(0),r.e(4),r.e(86),r.e(198)]).then(r.bind(null,2232)))},N=function(){return k(Promise.all([r.e(0),r.e(4),r.e(85),r.e(197)]).then(r.bind(null,2233)))},H=function(){return k(r.e(234).then(r.bind(null,2284)))},U=function(){return k(r.e(233).then(r.bind(null,2285)))},K=function(){return k(r.e(210).then(r.bind(null,2250)))},$=function(){return k(r.e(209).then(r.bind(null,2257)))},M=function(){return k(r.e(237).then(r.bind(null,2242)))},F=function(){return k(r.e(245).then(r.bind(null,2286)))},G=function(){return k(Promise.all([r.e(5),r.e(244)]).then(r.bind(null,2287)))},B=function(){return k(Promise.all([r.e(87),r.e(200)]).then(r.bind(null,2252)))},Y=function(){return k(Promise.all([r.e(87),r.e(201)]).then(r.bind(null,2245)))},V=function(){return k(r.e(213).then(r.bind(null,2266)))},W=function(){return k(r.e(211).then(r.bind(null,2288)))},z=function(){return k(r.e(212).then(r.bind(null,2289)))},Q=function(){return k(Promise.all([r.e(0),r.e(92),r.e(236)]).then(r.bind(null,2251)))},J=function(){return k(Promise.all([r.e(0),r.e(3),r.e(5),r.e(92),r.e(235)]).then(r.bind(null,2239)))},Z=function(){return k(Promise.all([r.e(5),r.e(242)]).then(r.bind(null,2258)))},X=function(){return k(r.e(243).then(r.bind(null,2290)))},ee=function(){return k(r.e(241).then(r.bind(null,2253)))},te=function(){return k(Promise.all([r.e(95),r.e(277),r.e(5),r.e(239)]).then(r.bind(null,2291)))},re=function(){return k(r.e(240).then(r.bind(null,2292)))},ne=function(){return k(Promise.all([r.e(95),r.e(276),r.e(238)]).then(r.bind(null,2293)))},ae=function(){return k(Promise.all([r.e(0),r.e(226)]).then(r.bind(null,2246)))},ie=function(){return k(Promise.all([r.e(0),r.e(225)]).then(r.bind(null,2259)))},oe=function(){return k(r.e(221).then(r.bind(null,2294)))},ce=function(){return k(r.e(220).then(r.bind(null,2295)))},se=function(){return k(Promise.all([r.e(0),r.e(222)]).then(r.bind(null,2296)))},ue=function(){return k(Promise.all([r.e(94),r.e(91),r.e(219)]).then(r.bind(null,2297)))},le=function(){return k(Promise.all([r.e(94),r.e(91),r.e(218)]).then(r.bind(null,2298)))},pe=function(){return k(r.e(202).then(r.bind(null,2299)))},de=function(){return k(Promise.all([r.e(0),r.e(2),r.e(223)]).then(r.bind(null,2267)))},_e=function(){return k(Promise.all([r.e(0),r.e(2),r.e(224)]).then(r.bind(null,2268)))},fe=function(){return k(r.e(228).then(r.bind(null,2269)))},me=function(){return k(Promise.all([r.e(9),r.e(227)]).then(r.bind(null,2300)))},ge=function(){return k(Promise.all([r.e(9),r.e(230)]).then(r.bind(null,2255)))},he=function(){return k(Promise.all([r.e(9),r.e(229)]).then(r.bind(null,2256)))},ve=function(){return k(Promise.all([r.e(0),r.e(1),r.e(83),r.e(190)]).then(r.bind(null,2275)))},ye=function(){return k(Promise.all([r.e(0),r.e(1),r.e(83),r.e(189)]).then(r.bind(null,2276)))},be=function(){return k(r.e(183).then(r.bind(null,2260)))},ke=function(){return k(r.e(185).then(r.bind(null,2247)))},Te=function(){return k(r.e(184).then(r.bind(null,2261)))},Se=function(){return k(Promise.all([r.e(0),r.e(186)]).then(r.bind(null,2254)))},Ee=function(){return k(Promise.all([r.e(0),r.e(1),r.e(84),r.e(192)]).then(r.bind(null,2265)))},Oe=function(){return k(Promise.all([r.e(0),r.e(1),r.e(84),r.e(191)]).then(r.bind(null,2277)))},we=function(){return k(Promise.all([r.e(0),r.e(1),r.e(88),r.e(204)]).then(r.bind(null,2248)))},Pe=function(){return k(Promise.all([r.e(0),r.e(1),r.e(88),r.e(203)]).then(r.bind(null,2244)))},Ie=function(){return k(Promise.all([r.e(90),r.e(217)]).then(r.bind(null,2270)))},Re=function(){return k(Promise.all([r.e(90),r.e(216)]).then(r.bind(null,2271)))},Ae=function(){return k(Promise.all([r.e(0),r.e(2),r.e(1),r.e(89),r.e(206)]).then(r.bind(null,2249)))},je=function(){return k(Promise.all([r.e(0),r.e(2),r.e(1),r.e(89),r.e(205)]).then(r.bind(null,2241)))},xe=function(){return k(r.e(208).then(r.bind(null,2301)))},Ce=function(){return k(r.e(207).then(r.bind(null,2302)))},De=function(){return k(Promise.all([r.e(0),r.e(1),r.e(215)]).then(r.bind(null,2240)))},Le=function(){return k(Promise.all([r.e(0),r.e(1),r.e(3),r.e(214)]).then(r.bind(null,2243)))};function Ne(e){return He.apply(this,arguments)}function He(){return(He=Object(n.a)(regeneratorRuntime.mark((function e(t){var n,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={mode:"history",base:"/",fallback:!1,linkActiveClass:"nuxt-link-active",linkExactActiveClass:"nuxt-link-exact-active",scrollBehavior:y,routes:[{path:"/404/",name:"Error404",component:T,pathToRegexpOptions:{strict:!0}},{path:"/401/",name:"Error401",component:T,pathToRegexpOptions:{strict:!0}},{path:"/500/",name:"Error500",component:S,pathToRegexpOptions:{strict:!0}},{path:"/apiHealthCheck/",name:"apiHealthCheck",component:E,pathToRegexpOptions:{strict:!0}},{path:"/",name:"Home",components:{mobile:O,desktop:w},pathToRegexpOptions:{strict:!0},meta:{fixedSecondaryNav:!0,bodyClass:"page-home-wrapper",trackedPageName:"Home",gaPageName:"HomePage"}},{path:"/city/:id(\\d+):path?/",name:"CityIndex",components:{mobile:P,desktop:I},pathToRegexpOptions:{strict:!0},meta:{trackedPageName:"City",bodyClass:"page-city-wrapper"}},{path:"/zhenxing-coupon-taiwan-tc/",name:"ZhenxingCouponTaiwanTc",components:{mobile:R,desktop:R},pathToRegexpOptions:{strict:!0},meta:{trackedPageName:"ZhenxingCouponTaiwanTc",bodyClass:"page-zhenxing-coupon-taiwan-tc"}},{path:"/jenga/page-test/:pageTypeKey/",name:"jengaPageTest",components:{desktop:A},pathToRegexpOptions:{strict:!0},meta:{bodyClass:"jenga-page-test-wrapper",trackedPageName:"jengaPageTest",gaPageName:"jengaPageTest"}},{path:"/theme-v2/:theme_id(\\d+)-:path?/",name:"Theme",components:{desktop:j,mobile:x},pathToRegexpOptions:{strict:!0},meta:{gaPageName:"TravelTheme",bodyClass:"page-theme-wrapper"}},{path:"/nearby/all/",name:"HomeNearby",components:{mobile:C,desktop:D},pathToRegexpOptions:{strict:!0},meta:{trackedPageName:"Nearby",gaPageName:"HomeNearbyPage"}},{path:"/popular/all/",name:"HomePopularActivities",components:{mobile:L,desktop:N},pathToRegexpOptions:{strict:!0},meta:{trackedPageName:"PopularActivity",gaPageName:"HomePopularActivitiesPage"}},{path:"/:type(conditions|policy|price|cookiepolicy|bugbounty)/",name:"TncHome",components:{mobile:H,desktop:U},pathToRegexpOptions:{strict:!0},meta:{trackedPageName:"TNC",gaPageName:"TncHomePage"}},{path:"/:type(about|careers)/",name:"OtherAbout",components:{mobile:K,desktop:$},pathToRegexpOptions:{strict:!0},meta:{gaPageName:"OtherAboutPage"}},{path:"/gift-card/",name:"GiftCard",components:{mobile:M},pathToRegexpOptions:{strict:!0},meta:{gaPageName:"Gift Card Page"}},{path:"/taiwan-coupons/",name:"TaiWanCoupons",components:{mobile:F,desktop:G},pathToRegexpOptions:{strict:!0},meta:{gaPageName:"TaiWan Coupons Page",bodyClass:"taiwan-coupons-list-wrapper"}},{path:"/klook-preferred/",name:"KlookPreferred",components:{desktop:B,mobile:Y},pathToRegexpOptions:{strict:!0},meta:{gaPageName:"Klook Preferred"}},{path:"/select-website/",name:"SelectSite",components:{desktop:T,mobile:V},pathToRegexpOptions:{strict:!0},meta:{gaPageName:"Select Website"}},{path:"/select-currency/",name:"SelectCurrency",components:{desktop:T,mobile:W},pathToRegexpOptions:{strict:!0},meta:{gaPageName:"Select Currency"}},{path:"/select-language/",name:"SelectLanguage",components:{desktop:T,mobile:z},pathToRegexpOptions:{strict:!0},meta:{gaPageName:"Select Language"}},{path:"/bookings/",name:"BookingList",components:{mobile:Q,desktop:J},pathToRegexpOptions:{strict:!0},meta:{trackedPageName:"Booking",bodyClass:"page-booking-list-wrapper",gaPageName:"BookingListPage"}},{path:"/manage_passengers/",name:"PassengerManagement",components:{desktop:Z,mobile:X},pathToRegexpOptions:{strict:!0},meta:{auth:!0,gaPageName:"PassengerManagementPage"}},{path:"/edit_passenger/",name:"PassengerEdit",components:{mobile:ee},pathToRegexpOptions:{strict:!0},meta:{gaPageName:"PassengerEditPage"}},{path:"/manage_address/",name:"MailManagement",components:{desktop:te,mobile:re},pathToRegexpOptions:{strict:!0},meta:{auth:!0,trackedPageName:"ManageMailingAddress",gaPageName:"MailManagementPage"}},{path:"/edit_address/",name:"MailEdit",components:{mobile:ne},pathToRegexpOptions:{strict:!0},meta:{auth:!0,trackedPageName:"ManageMailingAddress",gaPageName:"MailEditPage"}},{path:"/search/result/",name:"SearchResult",components:{mobile:ae,desktop:ie},pathToRegexpOptions:{strict:!0},meta:{bodyClass:"search-result"}},{path:"/poi/:type(activityList|nearbyList|poiList|searchList)/",name:"PoiList",components:{mobile:oe,desktop:ce},pathToRegexpOptions:{strict:!0},meta:{gaPageName:"Poi List Page",trackedPageName:"PoiActivityList",bodyClass:"page-poi-list-wrapper"}},{path:"/poi/toppoilist/",name:"PoiTopList",components:{mobile:se},pathToRegexpOptions:{strict:!0},meta:{trackedPageName:"PoiTopList",bodyClass:"page-poi-list-wrapper"}},{path:"/poi/detail/:poiId(\\d+)/",name:"PoiDetail",components:{mobile:ue,desktop:le},pathToRegexpOptions:{strict:!0},meta:{gaPageName:"Poi Detail Page",trackedPageName:"PoiDetail",bodyClass:"page-poi-detail-wrapper"}},{path:"/shorturl/landing/",name:"Landing",components:{mobile:pe},pathToRegexpOptions:{strict:!0},meta:{trackedPageName:"AppDownload",bodyClass:"download-landing-wrapper"}},{path:"/safe-guard-travel/",name:"SafeGuardTravel",components:{desktop:de,mobile:_e},pathToRegexpOptions:{strict:!0},meta:{trackedPageName:"SafeGuardTravel"}},{path:"/referralcoupon/record/",name:"ShareCouponRecord",components:{mobile:fe,desktop:fe},pathToRegexpOptions:{strict:!0},meta:{bodyClass:"page-coupon-record-wrapper"}},{path:"/referralcoupon/specialevent/:eventId(\\w+)/",name:"ShareCouponEvent",components:{mobile:me,desktop:me},pathToRegexpOptions:{strict:!0}},{path:"/referralcoupon/group/:taskId(\\w+)/",name:"ShareCouponTask",components:{mobile:ge,desktop:ge},pathToRegexpOptions:{strict:!0}},{path:"/community/secretprice/:taskId(\\w+)/",name:"ShareCouponSocialTask",components:{mobile:he,desktop:he},pathToRegexpOptions:{strict:!0}},{path:"/travel-deals/",name:"DealsPage",components:{mobile:ve,desktop:ye},pathToRegexpOptions:{strict:!0},meta:{trackedPageName:"Deals",gaPageName:"DealsPage"}},{path:"/travel-deals/:type(coureg|city)/:id(\\d+):path?/",name:"DealsPageSeo",components:{mobile:ve,desktop:ye},pathToRegexpOptions:{strict:!0},meta:{trackedPageName:"Deals",gaPageName:"DealsPage"}},{path:"/joypersonalityquiz/",name:"Joypersonalityquiz",components:{mobile:be,desktop:be},pathToRegexpOptions:{strict:!0},meta:{trackedPageName:"JoyQuizGame",gaPageName:"JoyQuizGame"}},{path:"/joypersonalityquiz/result/",name:"JoypersonalityquizResult",components:{mobile:ke,desktop:ke},pathToRegexpOptions:{strict:!0},meta:{trackedPageName:"JoyQuizResult",gaPageName:"JoyQuizResult"}},{path:"/joypersonalityquiz/prize/",name:"JoypersonalityquizPrize",components:{mobile:Te,desktop:Te},pathToRegexpOptions:{strict:!0},meta:{trackedPageName:"JoyQuizGoodie",gaPageName:"JoyQuizGoodie",bodyClass:"QuizPrize"}},{path:"/best-on-klook/",name:"BestOnKlook",components:{mobile:Se,desktop:Se},pathToRegexpOptions:{strict:!0},meta:{trackedPageName:"Billboard",gaPageName:"Billboard",bodyClass:"Billboard"}},{path:"/travel-restrictions/",name:"TravelRestriction",components:{mobile:Ee,desktop:Oe},pathToRegexpOptions:{strict:!0},meta:{trackedPageName:"TravelRestriction",gaPageName:"TravelRestriction",bodyClass:"TravelRestriction"}},{path:"/value-pack/:id(\\d+):path?/",name:"MemberShipActivity",components:{mobile:we,desktop:Pe},pathToRegexpOptions:{strict:!0},meta:{trackedPageName:"ValuePackDetail",gaPageName:"ValuePackDetail",bodyClass:"page-value-pack"}},{path:"/platform/pay/",name:"PlatformCheckout",components:{mobile:Ie,desktop:Re},pathToRegexpOptions:{strict:!0},meta:{hideSecondaryNav:!0,trackedPageName:"Payment",gaPageName:"Payment",bodyClass:"page-checkout-wrapper"}},{path:"/value-pack/order-details/",name:"MemberShipOrderDetail",components:{mobile:Ae,desktop:je},pathToRegexpOptions:{strict:!0},meta:{trackedPageName:"BookingDetail",gaPageName:"BookingDetail",bodyClass:"MemberShipOrderDetail"}},{path:"/value-pack/refund/",name:"MemberShipOrderRefund",components:{mobile:xe},pathToRegexpOptions:{strict:!0},meta:{footer:!1,trackedPageName:"ApplyForRefund",gaPageName:"ApplyForRefund",bodyClass:"page-valPack-refund"}},{path:"/value-pack/refund-details/",name:"MemberShipOrderRefundDetail",components:{mobile:Ce},pathToRegexpOptions:{strict:!0},meta:{trackedPageName:"RefundDetail",gaPageName:"RefundDetail",bodyClass:"page-valPack-refund-detail"}},{path:"/payment/success/",name:"PaymentSuccessPage",components:{mobile:De,desktop:Le},pathToRegexpOptions:{strict:!0},meta:{footer:!1,trackedPageName:"PaymentCompleted",gaPageName:"PaymentCompleted"}}]},e.prev=1,o=r(587),c=o.createRouter,e.next=5,c(t,n);case 5:n=e.sent,e.next=10;break;case 8:e.prev=8,e.t0=e.catch(1);case 10:return e.abrupt("return",new h.a(n));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}var Ue,Ke={name:"NuxtChild",functional:!0,props:{nuxtChildKey:{type:String,default:""},keepAlive:Boolean,keepAliveProps:{type:Object,default:void 0}},render:function(e,t){var r=t.parent,data=t.data,n=t.props;data.nuxtChild=!0;for(var o=r,c=r.$klook.nuxt.transitions,l=r.$klook.nuxt.defaultTransition,d=0;r;)r.$vnode&&r.$vnode.data.nuxtChild&&d++,r=r.$parent;data.nuxtChildDepth=d;var _=c[d]||l,f={};$e.forEach((function(e){void 0!==_[e]&&(f[e]=_[e])}));var m={};Me.forEach((function(e){"function"==typeof _[e]&&(m[e]=_[e].bind(o))}));var h=m.beforeEnter;if(m.beforeEnter=function(e){if(window.$klook.$nextTick((function(){window.$klook.$emit("triggerScroll")})),h)return h.call(o,e)},!1===_.css){var v=m.leave;(!v||v.length<2)&&(m.leave=function(e,t){v&&v.call(o,e),o.$nextTick(t)})}var y=e("routerView",data);return n.keepAlive&&(y=e("keep-alive",{props:n.keepAliveProps},[y])),e("transition",{props:f,on:m},[y])}},$e=["name","mode","appear","css","type","duration","enterClass","leaveClass","appearClass","enterActiveClass","enterActiveClass","leaveActiveClass","appearActiveClass","enterToClass","leaveToClass","appearToClass"],Me=["beforeEnter","enter","afterEnter","enterCancelled","beforeLeave","leave","afterLeave","leaveCancelled","beforeAppear","appear","afterAppear","appearCancelled"],Fe=(r(43),{name:"Error",layout:"errors",props:{error:{type:Object,default:null}},computed:{statusCode:function(){return this.error&&this.error.statusCode||500},message:function(){return this.error.message||""}},mounted:function(){this.redirect()},beforeDestroy:function(){clearInterval(this.timerId)},methods:{redirect:function(){var e=this,t=document.querySelector(".count");if(t){var r=Number(t.textContent);this.timerId=setInterval((function(){var n=+new Date,o=void 0!==arguments?arguments:null,c=function(e){if("undefined"!=typeof __in_house&&__in_house.get_spm_info)try{var t=+new Date-n;e=__in_house.get_spm_info(e,{duration:t,args:o})}catch(e){console.warn("Get spm info error",e)}return e};r-=1,t.textContent=r,r<1&&(clearInterval(e.timerId),window.location.href=c(e.$href("/")))}),1e3)}}}}),Ge=(r(588),r(46)),Be=Object(Ge.a)(Fe,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"page-error"},[r("div",{staticClass:"page-error_content"},[404===e.statusCode?[r("h1",{staticClass:"page-error_title"},[e._v(e._s(e.$t("page_404_message")))]),e._v(" "),r("p",{staticClass:"page-error_message",domProps:{innerHTML:e._s(e.$t("page_404_tips"))}}),e._v(" "),r("img",{attrs:{src:"https://res.klook.com/image/upload/q_80/v1578304257/klook-nuxt-web/404.png",alt:"404 Not Found!"}})]:[r("h1",{staticClass:"page-error_title"},[e._v(e._s(e.$t("page_500_message")))]),e._v(" "),r("p",{staticClass:"page-error_message",domProps:{innerHTML:e._s(e.$t("page_500_tips"))}}),e._v(" "),r("img",{attrs:{src:"https://res.klook.com/image/upload/q_80/v1578304257/klook-nuxt-web/500.png",alt:"500 Internal Server Error!"}})]],2)])}),[],!1,null,null,null).exports,qe=(r(58),r(59),r(25),r(15)),Ye={name:"Nuxt",components:{NuxtChild:Ke,NuxtError:Be},props:{nuxtChildKey:{type:String,default:void 0},keepAlive:Boolean,keepAliveProps:{type:Object,default:void 0},name:{type:String,default:"default"}},errorCaptured:function(e){this.displayingNuxtError&&(this.errorFromNuxtError=e,this.$forceUpdate())},computed:{routerViewKey:function(){if(void 0!==this.nuxtChildKey||this.$route.matched.length>1)return this.nuxtChildKey||Object(v.b)(this.$route.matched[0].path)(this.$route.params);var e=Object(qe.a)(this.$route.matched,1)[0];if(!e)return this.$route.path;var t=e.components.default;if(t&&t.options){var r=t.options;if(r.key)return"function"==typeof r.key?r.key(this.$route):r.key}return/\/$/.test(e.path)?this.$route.path:this.$route.path.replace(/\/$/,"")}},beforeCreate:function(){c.default.util.defineReactive(this,"nuxt",this.$root.$options.nuxt)},render:function(e){var t=this;return this.nuxt.err?this.errorFromNuxtError?(this.$nextTick((function(){return t.errorFromNuxtError=!1})),e("div",{},[e("h2","An error occured while showing the error page"),e("p","Unfortunately an error occured and while showing the error page another error occured"),e("p","Error details: ".concat(this.errorFromNuxtError.toString())),e("nuxt-link",{props:{to:"/"}},"Go back to home")])):(this.displayingNuxtError=!0,this.$nextTick((function(){return t.displayingNuxtError=!1})),e(Be,{props:{error:this.nuxt.err}})):e("NuxtChild",{key:this.routerViewKey,props:this.$props})}},Ve=(r(35),{name:"NuxtLoading",data:function(){return{percent:0,show:!1,canSucceed:!0,reversed:!1,skipTimerCount:0,rtl:!1,throttle:200,duration:5e3,continuous:!1}},computed:{left:function(){return!(!this.continuous&&!this.rtl)&&(this.rtl?this.reversed?"0px":"auto":this.reversed?"auto":"0px")}},beforeDestroy:function(){this.clear()},methods:{clear:function(){clearInterval(this._timer),clearTimeout(this._throttle),this._timer=null},start:function(){var e=this;return this.clear(),this.percent=0,this.reversed=!1,this.skipTimerCount=0,this.canSucceed=!0,this.throttle?this._throttle=setTimeout((function(){return e.startTimer()}),this.throttle):this.startTimer(),this},set:function(e){return this.show=!0,this.canSucceed=!0,this.percent=Math.min(100,Math.max(0,Math.floor(e))),this},get:function(){return this.percent},increase:function(e){return this.percent=Math.min(100,Math.floor(this.percent+e)),this},decrease:function(e){return this.percent=Math.max(0,Math.floor(this.percent-e)),this},pause:function(){return clearInterval(this._timer),this},resume:function(){return this.startTimer(),this},finish:function(){return this.percent=this.reversed?0:100,this.hide(),this},hide:function(){var e=this;return this.clear(),setTimeout((function(){e.show=!1,e.$nextTick((function(){e.percent=0,e.reversed=!1}))}),500),this},fail:function(){return this.canSucceed=!1,this},startTimer:function(){var e=this;this.show||(this.show=!0),void 0===this._cut&&(this._cut=1e4/Math.floor(this.duration)),this._timer=setInterval((function(){e.skipTimerCount>0?e.skipTimerCount--:(e.reversed?e.decrease(e._cut):e.increase(e._cut),e.continuous&&(e.percent>=100?(e.skipTimerCount=1,e.reversed=!e.reversed):e.percent<=0&&(e.skipTimerCount=1,e.reversed=!e.reversed)))}),100)}},render:function(e){var t=e(!1);return this.show&&(t=e("div",{staticClass:"nuxt-progress",class:{"nuxt-progress-notransition":this.skipTimerCount>0,"nuxt-progress-failed":!this.canSucceed},style:{width:this.percent+"%",left:this.left}})),t}}),We=(r(589),Object(Ge.a)(Ve,void 0,void 0,!1,null,null,null).exports),ze=(r(590),r(591),r(592),{"_activity-booking-options":function(){return Promise.all([r.e(6),r.e(7),r.e(169)]).then(r.bind(null,2303)).then((function(e){return e.default||e}))},"_app-faq":function(){return r.e(170).then(r.bind(null,2304)).then((function(e){return e.default||e}))},_blank:function(){return r.e(171).then(r.bind(null,2305)).then((function(e){return e.default||e}))},"_booking-options":function(){return r.e(172).then(r.bind(null,2306)).then((function(e){return e.default||e}))},"_contact-tracking":function(){return r.e(173).then(r.bind(null,2307)).then((function(e){return e.default||e}))},_default:function(){return r.e(174).then(r.bind(null,2308)).then((function(e){return e.default||e}))},_errors:function(){return r.e(175).then(r.bind(null,2309)).then((function(e){return e.default||e}))},"_events-booking-options":function(){return r.e(176).then(r.bind(null,2310)).then((function(e){return e.default||e}))},_partnership:function(){return r.e(177).then(r.bind(null,2311)).then((function(e){return e.default||e}))},_plain:function(){return r.e(178).then(r.bind(null,2312)).then((function(e){return e.default||e}))},"_white-label":function(){return r.e(179).then(r.bind(null,2313)).then((function(e){return e.default||e}))}}),Qe={},Je={head:{title:"Klook Travel",meta:[{charset:"utf-8"},{hid:"keywords",name:"keywords",content:"klook, travel"},{hid:"description",name:"description",content:"Klook Travel"}],link:[],style:[],script:[{src:"https://www.googletagmanager.com/gtm.js?id=GTM-5NWTPH",async:!0}],noscript:[{hid:"gtm-noscript",innerHTML:'<iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5NWTPH" height="0" width="0" style="display:none;visibility:hidden"></iframe>',pbody:!0}]},render:function(e,t){var r=e("NuxtLoading",{ref:"loading"});this.nuxt.err&&Be.layout&&this.setLayout("function"==typeof Be.layout?Be.layout(this.context):Be.layout);var n=e(this.layout||"nuxt"),o=e("div",{domProps:{id:"__layout"},key:this.layoutName},[n]),c=e("transition",{props:{name:"layout",mode:"out-in"},on:{beforeEnter:function(e){window.$klook.$nextTick((function(){window.$klook.$emit("triggerScroll")}))}}},[o]);return e("div",{domProps:{id:"__klook"}},[r,c])},data:function(){return{isOnline:!0,layout:null,layoutName:""}},beforeCreate:function(){c.default.util.defineReactive(this,"nuxt",this.$options.nuxt)},created:function(){c.default.prototype.$klook=this,window.$klook=window.$nuxt=this,this.refreshOnlineStatus(),window.addEventListener("online",this.refreshOnlineStatus),window.addEventListener("offline",this.refreshOnlineStatus),this.error=this.nuxt.error,this.context=this.$options.context},mounted:function(){this.$loading=this.$refs.loading},watch:{"nuxt.err":"errorChanged"},computed:{isOffline:function(){return!this.isOnline}},methods:{refreshOnlineStatus:function(){void 0===window.navigator.onLine?this.isOnline=!0:this.isOnline=window.navigator.onLine},refresh:(Ue=Object(n.a)(regeneratorRuntime.mark((function e(){var t,r,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=Object(v.f)(this.$route)).length){e.next=3;break}return e.abrupt("return");case 3:return this.$loading.start(),r=t.map((function(e){var p=[];return e.$options.fetch&&p.push(Object(v.l)(e.$options.fetch,n.context)),e.$options.asyncData&&p.push(Object(v.l)(e.$options.asyncData,n.context).then((function(t){for(var r in t)c.default.set(e.$data,r,t[r])}))),Promise.all(p)})),e.prev=5,e.next=8,Promise.all(r);case 8:e.next=15;break;case 10:e.prev=10,e.t0=e.catch(5),this.$loading.fail(),Object(v.i)(e.t0),this.error(e.t0);case 15:this.$loading.finish();case 16:case"end":return e.stop()}}),e,this,[[5,10]])}))),function(){return Ue.apply(this,arguments)}),errorChanged:function(){this.nuxt.err&&this.$loading&&(this.$loading.fail&&this.$loading.fail(),this.$loading.finish&&this.$loading.finish())},setLayout:function(e){e&&Qe["_"+e]||(e="default"),this.layoutName=e;var t="_"+e;return this.layout=Qe[t],this.layout},loadLayout:function(e){var t=this,r=!e,n=!(ze["_"+e]||Qe["_"+e]),o="_"+(r||n?"default":e);return Qe[o]?Promise.resolve(Qe[o]):ze[o]().then((function(e){return Qe[o]=e,delete ze[o],Qe[o]})).catch((function(e){if(t.$klook)return t.$klook.error({statusCode:500,message:e.message})}))}},components:{NuxtLoading:We}},Ze=(r(68),r(17),r(30),r(97));c.default.use(Ze.a);var Xe=["state","getters","actions","mutations"],et={};(et=function(e,t){if((e=e.default||e).commit)throw new Error("[nuxt] ".concat(t," should export a method that returns a Vuex instance."));return"function"!=typeof e&&(e=Object.assign({},e)),nt(e,t)}(r(812),"store/index.ts")).modules=et.modules||{},at(r(594),"auth.ts"),at(r(808),"hotel/index.ts"),at(r(262),"experience/index.ts"),at(r(813),"eventlive/index.ts"),at(r(609),"event-vertical/index.ts"),at(r(673),"car-rental/index.ts"),at(r(814),"ceg/chat.ts"),at(r(674),"common/area.ts"),at(r(675),"common/header-search.ts"),at(r(676),"common/kepler.ts"),at(r(677),"event-vertical/common.ts"),at(r(815),"event-vertical/detail.ts"),at(r(678),"event-vertical/hub-page.ts"),at(r(679),"event-vertical/vertical.ts"),at(r(816),"fnb/hubpage.ts"),at(r(680),"fnb/restaurant.ts"),at(r(809),"fnb/verticalpage.ts"),at(r(681),"hotel/AB.ts"),at(r(682),"hotel/chain.ts"),at(r(683),"hotel/cityhub.ts"),at(r(684),"hotel/detail.ts"),at(r(685),"hotel/list.ts"),at(r(686),"hotel/order-settlement.ts"),at(r(687),"hotel/promotions.ts"),at(r(688),"hotel/staycation.ts"),at(r(817),"hotel/vertical.ts"),at(r(689),"hotel/voucher.ts"),at(r(690),"ptp-standard/common.ts"),at(r(691),"ptp-standard/dlp.ts"),at(r(692),"ptp-standard/home.ts"),at(r(693),"ptp-standard/search-list.ts"),at(r(698),"traveller/booking-list.ts"),at(r(810),"traveller/chat.ts"),at(r(699),"traveller/faq.ts"),at(r(700),"traveller/gift-card.ts"),at(r(811),"traveller/home-page.ts"),at(r(701),"traveller/klookpreferred.ts"),at(r(702),"traveller/poi.ts"),at(r(703),"traveller/search-result.ts"),at(r(704),"traveller/theme.ts"),at(r(705),"partnership/phone-register-with-coupon/index.ts"),at(r(706),"traveller/activity/actions.ts"),at(r(723),"traveller/activity/getters.ts"),at(r(724),"traveller/activity/mutations.ts"),at(r(725),"traveller/activity/state.ts"),at(r(4),"traveller/activity/types.ts"),at(r(726),"white-label/ptp/dlp.ts"),at(r(727),"white-label/ptp/home.ts"),at(r(728),"white-label/ptp/search-list.ts");var tt=et instanceof Function?et:function(){return new Ze.a.Store(Object.assign({strict:!1},et))};function nt(e,t){if(e.state&&"function"!=typeof e.state){console.warn("'state' should be a method that returns an object in ".concat(t));var r=Object.assign({},e.state);e=Object.assign({},e,{state:function(){return r}})}return e}function at(e,t){e=e.default||e;var r=t.replace(/\.(js|mjs|ts)$/,"").split("/"),n=r[r.length-1],o="store/".concat(t);if(e="state"===n?function(e,t){if("function"!=typeof e){console.warn("".concat(t," should export a method that returns an object"));var r=Object.assign({},e);return function(){return r}}return nt(e,t)}(e,o):nt(e,o),Xe.includes(n)){var c=n;ot(it(et,r,{isProperty:!0}),e,c)}else{"index"===n&&(r.pop(),n=r[r.length-1]);var l=it(et,r),d=!0,_=!1,f=void 0;try{for(var m,h=Xe[Symbol.iterator]();!(d=(m=h.next()).done);d=!0){var v=m.value;ot(l,e[v],v)}}catch(e){_=!0,f=e}finally{try{d||null==h.return||h.return()}finally{if(_)throw f}}!1===e.namespaced&&delete l.namespaced}}function it(e,t){var r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).isProperty,n=void 0!==r&&r;if(!t.length||n&&1===t.length)return e;var o=t.shift();return e.modules[o]=e.modules[o]||{},e.modules[o].namespaced=!0,e.modules[o].modules=e.modules[o].modules||{},it(e.modules[o],t,{isProperty:n})}function ot(e,t,r){t&&("state"===r?e.state=t||e.state:e[r]=Object.assign({},e[r],t))}var ct=r(166),st=function(e,t,r){return r.meta.some((function(meta){return meta[e]===t}))};ct.a.auth=function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(t){var r,n,o,c,l,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.app,n=t.route,o=t.store,c=t.redirect,!st("auth",!1,n)){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,o.dispatch("auth/canVerify");case 5:if(e.sent){e.next=8;break}return e.abrupt("return");case 8:return e.next=10,o.dispatch("auth/verify");case 10:l=e.sent,r.user=l,st("auth",!0,n)&&(l||(d=encodeURIComponent(n.fullPath),c("".concat(r.$href("/signin"),"/?signin_jump=").concat(d))));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();r(119),r(81);var ut=r(98),lt=r.n(ut),pt=r(381),_t=r.n(pt),ft="c2ca8b423fd75a10792debf44cd6b51a",mt="mp_"+ft+"_mixpanel";var gt=function(){var e=function(e){var t=null;try{t=localStorage.getItem(e)}catch(e){}return t}(mt);try{e=JSON.parse(e)}catch(e){}return e&&e.distinct_id}();function ht(e,t){var r=window.__KLOOK__.state,n=r.klook,o=r.auth.user,c={Language:n.language,Platform:"mobile"===n.platform?"Mobile":"Web",Domain:window.location.host||document.domain,"Login Status":!1};o&&(c["Login Status"]=!0,c["User ID"]=o.globalId,c.Email=o.emailHash,c["Registration Date"]=o.createTime,o.countryCode&&(c["Backend User Country"]=o.countryCode));var l=n.affiliateConf.aid_extra_info||{},d=n.affiliateConf.wid,_=l.aff_pid,f=l.aff_sid,m=l.aff_adid,h=e.$cookies.get("cid_mixpanel");d&&(c["Affiliate ID"]=d,c["Affiliate PID"]=_,c["Affiliate SID"]=f,c["Affiliate ADID"]=m,c.utm_medium="affiliate-alwayson",c.utm_source=n.affiliateConf.affiliate_type,c.utm_campaign=n.affiliateConf.wid,c.utm_term=n.affiliateConf.aid_extra_info&&n.affiliateConf.aid_extra_info.aff_pid),h&&(c["Campaign Page ID"]=h),t&&Object.assign(c,t),lt.a.register(c)}lt.a.init(ft,{track_pageview:!1,persistence:"localStorage",loaded:function(e){!function(e){var t=gt;if(window.__KLOOK__&&window.__KLOOK__.state&&window.__KLOOK__.state.klook.platformMp){var r=decodeURIComponent((new RegExp("[?|&]"+"mp_tracking"+"=([^&;]+?)(&|#|;|$)").exec(o||location.search)||[void 0,""])[1].replace(/\+/g,"%20"))||null,n={};try{n=JSON.parse(r).super}catch(e){}if(n.distinctId){t=n.distinctId;try{window.sessionStorage.setItem("MP_DISCINCT_ID",n.distinctId)}catch(e){}}else try{t=window.sessionStorage.getItem("MP_DISCINCT_ID")}catch(e){}}var o;t||(c=_t.a.parse(document.cookie),t=c&&c.kepler_id||window.BaseData&&window.BaseData.keplerId);var c;t&&e.identify(t)}(e)}}),c.default.prototype.$sendMixpanel=function(e){ht(this,e.sprops),lt.a.track(e.name,e.props)};var vt=["click","mousedown","mouseup","mouseenter","mouseleave"];c.default.directive("mixpanel",{bind:function(e,t,r){var n=t.arg,o=t.modifiers,c=t.value,l=r.context;if(vt.includes(n))if(c){t._callback=function(e){o.prevent&&e.preventDefault(),o.stop&&e.stopPropagation(),l.$sendMixpanel(c)},e.addEventListener(n,t._callback,{once:!!o.once})}else console.warn("You must binding a value to the directive");else console.warn("[mixpanel directive] Unsupport event:",n)},unbind:function(e,t){var r=t.arg,n=t._callback;"function"==typeof n&&e.removeEventListener(r,n)}});var yt=function(e){e.app.router.afterEach((function(){setTimeout((function(){ht(e.app),lt.a.track("Page View")}),0)}))};r(60);function bt(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function kt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=window.__KLOOK__.state.klook,r=window.__KLOOK__.state.auth.user,n=window.dataLayer.find((function(e){return e.Language&&e.Currency})),c=r?{BackendUserCountry:r.countryCode,Gender:r.title,UserEmailMD5:r.emailHash,UserCreateTime:r.createTime,userId:r.globalId}:{};if(n)Object.assign(n,c,e);else{var l=function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?bt(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):bt(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({Currency:t.currency,IPLocationCity:void 0,IPLocationCountry:t.ipCountry,Language:t.backendLanguage,Page:void 0},c,{},e);window.dataLayer.push(l)}}function Tt(data){window.dataLayer&&data&&("virtualPageView"===data.event?kt({Page:data.pageName}):kt(),window.dataLayer.push(data))}c.default.prototype.$sendGTM=Tt,c.default.prototype.$sendGTMCustomEvent=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e&&"string"==typeof e){var r=e.split("|"),n=Object(qe.a)(r,4);Tt({event:"trackEventCustom",eventNonInteractive:t,eventCategory:n[0],eventAction:n[1],eventLabel:n[2],eventValue:n[3]})}};var St=["click","mousedown","mouseup","mouseenter","mouseleave"];c.default.directive("gtm",{bind:function(e,t,r){var n=t.arg,o=t.modifiers,c=t.value,l=r.context;if(St.includes(n))if(c){t._callback=function(e){o.prevent&&e.preventDefault(),o.stop&&e.stopPropagation(),l.$sendGTMCustomEvent(c)},e.addEventListener(n,t._callback,{once:!!o.once})}else console.warn("You must binding a value to the directive");else console.warn("[gtm directive] Unsupport event:",n)},unbind:function(e,t){var r=t.arg,n=t._callback;"function"==typeof n&&e.removeEventListener(r,n)}});var Et=function(e){var t=!0;window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"gtm.js","gtm.start":Date.now()}),e.app.router.afterEach((function(e){t?t=!1:setTimeout((function(){e&&!1===(e.meta||{}).autoGATrack||Tt({event:"virtualPageView",pageType:"PageView",pageUrl:e.fullPath,pageName:e.meta.gaPageName||void 0})}),0)}))},Ot=r(382),wt=r.n(Ot),Pt=function(e,t){var r=e.req,n=e.res,o=!0;t("cookies",wt()(r,n,o))},It=r(408);function Rt(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function At(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Rt(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):Rt(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var jt=function(e,t){var r,n;t("clientReport",new It.a({url:"https://log.klook.com/v3/frontlogsrv/log/web",platform:e.store.state.klook.platform,extraMsg:At({},(null===(r=e.store.state.klook)||void 0===r?void 0:r.pageTemplate)?{page_template:null===(n=e.store.state.klook)||void 0===n?void 0:n.pageTemplate}:{})}))},xt=r(383),Ct=r.n(xt),Dt=function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new Ct.a({cookies:t.app.$cookies}),e.next=3,n.ready();case 3:r("traffic",n);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Lt=(r(19),r(354),r(265)),Nt=r(284),Ht=r(285),Ut=r(167);c.default.use(Lt.a);var map=new Map;function Kt(e){return $t.apply(this,arguments)}function $t(){return($t=Object(n.a)(regeneratorRuntime.mark((function e(t){var n,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="locale-".concat(t,".json"),o=null,e.prev=2,e.next=5,r(743)("./".concat(n));case 5:c=e.sent,o=c.default||c,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(2),console.error("Load locale error:",e.t0),e.abrupt("return",o);case 13:return e.abrupt("return",o);case 14:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}var Mt=function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(t,r){var n,c,l,d,_,f,m,h,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=t.app,l=t.store,d=t.route,_=Ut.a.fallbackLocale,f=_,m=Ut.a.testMessages,h=(null===(n=d.fullPath)||void 0===n?void 0:n.includes("cmstextid=1"))||!1,f=l.state.klook.language||_,map.get(f)){e.next=12;break}return e.next=10,Kt(f);case 10:v=e.sent,map.set(f,new Lt.a({isDebugMode:h,locale:f,messages:v?Object(o.a)({},f,v):m,interpolation:{prefix:"{",postfix:"}",linkKeyWord:"MULTILANG_URL_PLACEHOLDER"}}));case 12:return c.i18n=map.get(f),c.i18n.options.isDebugMode=h,e.next=16,Promise.all([Object(Nt.a)(c.i18n),Object(Ht.a)(c.i18n)]);case 16:r("i18n",c.i18n);case 17:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Ft=r(13),Gt=r(66),Bt=r(6),qt=r(137),Yt=r.n(qt),Vt=r(131),Wt=r.n(Vt);r(67);function zt(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function Qt(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?zt(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):zt(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var Jt=new c.default;function Zt(e){return"[object Object]"===Object.prototype.toString.call(e)}function Xt(e){if(e.loading){var t=e.loading;if(Zt(t)){var r=t.el,n=Object(Gt.a)(t,["el"]);if(r){var o="string"==typeof r?document.querySelector(r):r;if(o){var component=new(c.default.component("klk-loading"))({el:document.createElement("div"),propsData:Qt({showOverlay:!0,overlayColor:"rgba(255, 255, 255, .6)"},n)}).$mount();o.appendChild(component.$el),o._$loading=component.$el}}else Jt.$showLoading(n)}else Jt.$showLoading()}}function er(e){if(e&&e.loading){var t=e.loading;if(Zt(t)){var r=t.el;if(r){var n="string"==typeof r?document.querySelector(r):r;n&&n._$loading&&(n.removeChild(n._$loading),delete n._$loading)}else Jt.$hideLoading()}else Jt.$hideLoading()}}var rr=r(3),nr=r(5);function ar(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}var ir=function(e,t){var r=e.app,c=e.store,l=e.req,d=Yt.a.create({baseURL:"/",timeout:15e3,withCredentials:!1,headers:{Version:"5.4",Accept:"application/json, text/plain, */*","X-Requested-With":"XMLHttpRequest"}});d.CancelToken=Yt.a.CancelToken,d.isCancel=Yt.a.isCancel,function(e){for(var t=function(){var t=n[r];e["$"+t]=function(){return this[t].apply(this,arguments).then((function(e){return e&&e.data}))}},r=0,n=["request","delete","get","head","options","post","put","patch"];r<n.length;r++)t()}(d),d.interceptors.request.use(function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(t){var o,_,f,m,h,v,y,k,T,S,E,O,w,P,I,R,A,j,x,C;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x=function(){return(x=Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.$cookies.get("CSRF-Token-Valid")&&r.$cookies.get("CSRF-Token")){e.next=4;break}return e.next=4,d.get("/v1/gatewaysrv/csrftoken");case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)},j=function(){return x.apply(this,arguments)},f=t.headers,m=t.noCache,h=void 0===m||m,v=t.CSRF,y=void 0!==v&&v,k=c.state,T=k.klook,S=k.common.kepler,E=S.tintedList||"",O=T.utilConfig.is_guest_checkout,w=S.keplerId||"",f["Accept-Language"]=T.backendLanguage||"",f.Currency=T.currency||"",f.Token=r.$cookies.get("_pt")||"",f._pt=r.$cookies.get("device_id_new")||w||"",f["X-Klook-Kepler-Id"]=w,f["X-Klook-Tint"]=E||"",f["X-Klook-Page-Open-Id"]=T.pageId||"",f["X-Klook-Host"]=T.host||"",f["X-Klook-Affiliate-Aid"]=Wt()(T.affiliateConf,"wid",""),f["X-Klook-Affiliate-Pid"]=Wt()(T.affiliateConf,"aid_extra_info.aff_pid",""),(P=r.$i18n.options.isDebugMode?"text":"")&&(f["X-Klook-Debug-Mode"]=P),I=null===(o=l)||void 0===o?void 0:o.trafficChannel,R=r.$traffic.useState({type:r.$traffic.constant.TrafficChannel}),(I=null===(_=R.channel)||void 0===_?void 0:_.channel)&&(f["X-Klook-Traffic-Channel"]=I),h&&(f["Cache-Control"]="no-cache"),!y){e.next=30;break}if(A=r.$cookies.get("CSRF-Token")||""){e.next=29;break}return e.next=28,j();case 28:A=r.$cookies.get("CSRF-Token")||"";case 29:f["X-CSRF-Token"]=A;case 30:return C=T.isIOS,T.isKlookApp?f["X-Platform"]=f["X-Platform"]||(C?"ios":"android"):f["X-Platform"]=f["X-Platform"]||T.platform||"","production",O&&rr.b.includes(t.url||"")&&(t.baseURL="/xos_gc"),t.startTime=Date.now(),t.fullURL=(t.baseURL||"").replace(/\/$/,"")+t.url,t.requestId=Object(nr.L)(),Xt(t),e.abrupt("return",t);case 42:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){return Promise.reject(e)})),d.interceptors.response.use((function(t){var data=t.data,n=t.config;t.status,t.request;if(er(n),"object"===Object(Bt.a)(data)&&!data.success&&(data.error=data.error||{code:"",message:r.$i18n.t("client_server_failure")},n.throwError)){var c=data.error,code=c.code,l=c.message,d=Object(Gt.a)(c,["code","message"]),_=new Error(l);return Promise.reject(Object.assign(_,function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ar(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):ar(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},d,{code:code,data:data,config:n,errorType:"service"})))}return e.app.$clientReport&&e.app.$clientReport.reportRequestSuccess({pageName:Object.assign.apply(Object,[{}].concat(Object(Ft.a)(e.route.meta))).trackedPageName},n,t),t}),(function(t){if(!d.isCancel(t)){t.message;var n=t.config,o=t.response;t.request;if(er(n),o){var data=o.data,c=o.status;t.errorType="network",t.code=data.error&&data.error.code||String(c),t.message=data.error&&data.error.message||r.$i18n.t("client_server_failure")}else t.code="990001",t.errorType="client",t.message=r.$i18n.t("client_network_failure");e.app.$clientReport&&e.app.$clientReport.reportRequestError({pageName:Object.assign.apply(Object,[{}].concat(Object(Ft.a)(e.route.meta))).trackedPageName},n,o,t)}return Promise.reject(t)})),t("axios",d)},or=r(96),cr=r(8),sr=r.n(cr),ur=r(133),lr=r.n(ur),pr=r(34),dr=r(47),_r=r(41),fr=r(38),mr=r(42),gr=r(407),vr=function(e){function t(e,r,n){var o;return Object(pr.a)(this,t),(o=Object(_r.a)(this,Object(fr.a)(t).call(this,r))).status=e,o.message=r,o.ctx=n,o}return Object(mr.a)(t,e),Object(dr.a)(t,[{key:"send",value:function(e){var t=this.ctx.$store.state.klook.platform;e&&e instanceof Function?e.call(this,this.message):"desktop"===t?this.ctx.$alert(this.message,void 0,{okLabel:this.ctx.$t("global.tips.okTxt")}):this.ctx.$message.errorTip(this.message)}}]),t}(Object(gr.a)(Error)),yr=function(e){function t(e,r){var n;return Object(pr.a)(this,t),(n=Object(_r.a)(this,Object(fr.a)(t).call(this,e.status||500,e.message,r))).app=r,n}return Object(mr.a)(t,e),t}(vr);function kr(e){var t,r=(new Date).toISOString(),n=e.level.toUpperCase();(t=console)[e.level].apply(t,["[".concat(r,"] ").concat(n)].concat(Object(Ft.a)(e.args)))}function Tr(e){return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return kr({level:e,args:r})}}var Sr={trace:Tr("trace"),debug:Tr("debug"),info:Tr("info"),warn:Tr("warn"),error:Tr("error"),fatal:Tr("error")},Er=r(140),Or=r(74),wr=Object(Or.a)();sr.a.extend(lr.a),c.default.filter("currencyToSymbol",(function(e){return Er.b[e]})),c.default.filter("formatThousands",(function(e){return Object(nr.j)(e)})),c.default.filter("percent",(function(e,t){return Object(nr.I)(e,t)})),c.default.filter("imageFormat",(function(e,t,r){return Object(nr.x)(e,t,r)}));var Pr=function(e,t){var r=e.app,o=(e.req,e.store);e.route;var c={interval:5e3,size:15};t("logquery",new or.default({url:"https://log.klook.com/v2/frontlogsrv/log/web",headers:{"X-Platform":o.state.klook.platform},queue:c})),t("logger",Sr),t("href",(function(e,t,r){var n=o.state.klook.host,c=Object(nr.G)(e)||{},l=c.protocol,d=void 0===l?"":l,_=c.host,f=void 0===_?"":_;return d&&f?f!==n?e.replace(f,n):e:(t||this.$i18n&&(t=this.$i18n.locale),Object(nr.w)(e,t,r))})),t("expection",{__default:function(e,t){return new vr(e.status,e.message,t)},systemError:function(e){return new yr({message:e.$t("12298"),status:500},e)}}),t("getAllCountryCode",function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(){var t,n,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;break;case 2:if(t="".concat(o.state.klook.language,"_AllCountries"),!(n=wr.getItem(t))){e.next=6;break}return e.abrupt("return",n);case 6:return e.prev=6,e.next=9,r.$axios.$get(rr.a.getAllCountries);case 9:return c=e.sent,(l=c.result).forEach((function(e){e.value=e.country_number,e.countryCode=e.name,e.country=e.country_code})),wr.setItem(t,l,86400),e.abrupt("return",l);case 16:return e.prev=16,e.t0=e.catch(6),e.abrupt("return",[]);case 19:case"end":return e.stop()}}),e,null,[[6,16]])})));return function(){return e.apply(this,arguments)}}())},Ir=(r(87),r(28)),Rr=function(e,t,r,desc){var n,o=arguments.length,c=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(Bt.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,desc);else for(var i=e.length-1;i>=0;i--)(n=e[i])&&(c=(o<3?n(c):o>3?n(t,r,c):n(t,r))||c);return o>3&&c&&Object.defineProperty(t,r,c),c},Ar=function(e){function t(){return Object(pr.a)(this,t),Object(_r.a)(this,Object(fr.a)(t).apply(this,arguments))}return Object(mr.a)(t,e),Object(dr.a)(t,[{key:"created",value:function(){var e="";try{e=r(760)("./".concat(this.spriteName,".svg"))}catch(e){return}var t=this.$root;t._svgSprites||(t._svgSprites=new Set),t._svgSprites.has(e)||(t._svgSprites.add(e),Yt.a.get(e,{noCache:!1}).then((function(e){var t=document.createElement("div");t.innerHTML=e.data,document.body.insertBefore(t.firstChild,document.body.childNodes[0])})))}},{key:"colorClass",get:function(){var e=this.color,style=this.attrStyle;if(e&&!style)return"klook-symbol-".concat(e)}},{key:"attrWidth",get:function(){return this.width?this.width:this.size}},{key:"attrHeight",get:function(){return this.height?this.height:this.size}},{key:"attrStyle",get:function(){var e=this.color;if(e&&/#|rgba?/.test(e))return{color:e}}},{key:"spriteName",get:function(){return this.name.includes("#")?this.name.split("#")[0]:"default"}},{key:"iconName",get:function(){return this.name.includes("#")?this.scoped?"#".concat(this.name.replace("#","-")):"#".concat(this.name.split("#")[1]):"#".concat(this.name)}}]),t}(Ir.Vue);Rr([Object(Ir.Prop)({required:!0})],Ar.prototype,"name",void 0),Rr([Object(Ir.Prop)({default:!0})],Ar.prototype,"scoped",void 0),Rr([Object(Ir.Prop)({type:[String,Number]})],Ar.prototype,"width",void 0),Rr([Object(Ir.Prop)({type:[String,Number]})],Ar.prototype,"height",void 0),Rr([Object(Ir.Prop)({type:[String,Number]})],Ar.prototype,"size",void 0),Rr([Object(Ir.Prop)({type:String})],Ar.prototype,"color",void 0);var jr=Ar=Rr([Ir.Component],Ar),xr=(r(782),Object(Ge.a)(jr,(function(){var e=this.$createElement,t=this._self._c||e;return t("svg",{class:["svg-icon",this.colorClass],style:this.attrStyle,attrs:{width:this.attrWidth,height:this.attrHeight}},[t("use",{attrs:{href:this.iconName,"xlink:href":this.iconName}})])}),[],!1,null,null,null).exports),Cr=r(23),Dr=function(e,t,r,desc){var n,o=arguments.length,c=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(Bt.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,desc);else for(var i=e.length-1;i>=0;i--)(n=e[i])&&(c=(o<3?n(c):o>3?n(t,r,c):n(t,r))||c);return o>3&&c&&Object.defineProperty(t,r,c),c},Lr=function(e){function t(){return Object(pr.a)(this,t),Object(_r.a)(this,Object(fr.a)(t).apply(this,arguments))}return Object(mr.a)(t,e),Object(dr.a)(t,[{key:"handleBtnYesClick",value:function(){this.confirmCallback(!0),this.close()}},{key:"handleBtnNoClick",value:function(){this.confirmCallback(!1),this.close()}}]),t}(Cr.Vue),Nr=Lr=Dr([Cr.Component],Lr),Hr=(r(783),Object(Ge.a)(Nr,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"},{name:"no-scroll",rawName:"v-no-scroll",value:e.visible,expression:"visible"}],staticClass:"klk-customer-message"},[r("div",{staticClass:"klk-customer-message_masker"}),e._v(" "),r("div",{staticClass:"klk-customer-message_box"},[e.title?r("div",{staticClass:"klk-customer-message_header"},[e._v(e._s(e.title))]):e._e(),e._v(" "),r("div",{staticClass:"klk-customer-message_body"},[e._v("\n      "+e._s(e.content)+"\n    ")]),e._v(" "),r("div",{staticClass:"klk-customer-message_footer"},[e.btnNo?r("a",{staticClass:"klk-customer-message_btn-no",attrs:{href:"javascript:;"},on:{click:e.handleBtnNoClick}},[e._v(e._s(e.btnNo))]):e._e(),e._v(" "),r("a",{staticClass:"klk-customer-message_btn-yes",class:{"klk-message_btn-yes--alert":e.btnNo&&""===e.btnNo},attrs:{href:"javascript:;"},on:{click:e.handleBtnYesClick}},[e._v(e._s(e.btnYes))])])])])}),[],!1,null,null,null).exports),Ur=function(e,t,r,desc){var n,o=arguments.length,c=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(Bt.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,desc);else for(var i=e.length-1;i>=0;i--)(n=e[i])&&(c=(o<3?n(c):o>3?n(t,r,c):n(t,r))||c);return o>3&&c&&Object.defineProperty(t,r,c),c},Kr=function(e){function t(){var e;return Object(pr.a)(this,t),(e=Object(_r.a)(this,Object(fr.a)(t).apply(this,arguments))).visible=!1,e.delay=3e3,e}return Object(mr.a)(t,e),Object(dr.a)(t,[{key:"change",value:function(e){var t=this;e&&setTimeout((function(){t.visible=!1,setTimeout((function(){t.close()}),1e3)}),this.delay)}},{key:"hide",value:function(){this.visible=!1}}]),t}(Cr.Vue);Ur([Object(Cr.Watch)("visible")],Kr.prototype,"change",null);var $r=Kr=Ur([Cr.Component],Kr),Mr=(r(784),Object(Ge.a)($r,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"error-tip-wrap--module-error-tip j-error-tip-wrap"},[t("transition",{attrs:{name:"slide-down"}},[this.visible?t("div",{staticClass:"error-tip",on:{click:this.hide}},[this._v("\n      "+this._s(this.content)+"\n    ")]):this._e()])],1)}),[],!1,null,null,null).exports);function Fr(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}var Gr={visible:!1,delay:3e3},Br=null;function qr(e,t){if(e.prototype.$isServer)return null;if(!document.getElementsByClassName("j-error-tip-wrap").length){Br||((Br=e.extend(Mr)).prototype.close=function(){this.visible=!1,this.$el&&this.$el.parentNode&&this.$el.parentNode.removeChild(this.$el),this.$destroy()});var r=function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Fr(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):Fr(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},Gr,{},t),n=new Br({el:document.createElement("div"),data:r});return document.body.appendChild(n.$el),e.nextTick((function(){n.visible=!0})),n}}var Yr=function(e,t,r,desc){var n,o=arguments.length,c=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(Bt.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,desc);else for(var i=e.length-1;i>=0;i--)(n=e[i])&&(c=(o<3?n(c):o>3?n(t,r,c):n(t,r))||c);return o>3&&c&&Object.defineProperty(t,r,c),c},Vr=function(e){function t(){var e;return Object(pr.a)(this,t),(e=Object(_r.a)(this,Object(fr.a)(t).apply(this,arguments))).visible=!1,e.delay=3e3,e}return Object(mr.a)(t,e),Object(dr.a)(t,[{key:"change",value:function(e){var t=this;e&&setTimeout((function(){t.visible=!1,setTimeout((function(){t.close()}),1e3)}),this.delay)}},{key:"hide",value:function(){this.visible=!1}}]),t}(Cr.Vue);Yr([Object(Cr.Watch)("visible")],Vr.prototype,"change",null);var Wr=Vr=Yr([Cr.Component],Vr),zr=(r(785),Object(Ge.a)(Wr,(function(){var e=this.$createElement,t=this._self._c||e;return t("transition",{attrs:{name:"message-fade"}},[t("div",{directives:[{name:"show",rawName:"v-show",value:this.visible,expression:"visible"}],staticClass:"klook-message-tips--module-message j-klook-message-tips"},[this._v("\n    "+this._s(this.content)+"\n  ")])])}),[],!1,null,null,null).exports);function Qr(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}var Jr={visible:!1,delay:3e3},Zr=null;function Xr(e,t){if(e.prototype.$isServer)return null;var r=document.getElementsByClassName("j-klook-message-tips");r.length&&r[0].parentNode.removeChild(r[0]),Zr||((Zr=e.extend(zr)).prototype.close=function(){this.visible=!1,this.$el&&this.$el.parentNode&&this.$el.parentNode.removeChild(this.$el),this.$destroy()});var n=function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Qr(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):Qr(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},Jr,{},t),c=new Zr({el:document.createElement("div"),data:n});return document.body.appendChild(c.$el),e.nextTick((function(){c.visible=!0})),c}function en(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function tn(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?en(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):en(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var rn,nn={install:function(e){var t=[];if(!e.prototype.$message){var r=function(){},n={visible:!1,title:"",content:"",btnYes:"",btnNo:"",confirmCallback:r},o=e.extend(Hr);o.prototype.close=function(){this.visible=!1,this.$el&&this.$el.parentNode&&this.$el.parentNode.removeChild(this.$el),this.$destroy()};var c=function(r){if(e.prototype.$isServer)return null;var c=tn({},n,{},r),l=new o({el:document.createElement("div"),data:c});return document.body.appendChild(l.$el),e.nextTick((function(){l.visible=!0,t.push(l)})),l};Object.defineProperty(e.prototype,"$message",{get:function(){return{alert:l.bind(this),confirm:d.bind(this),prompt:_.bind(this),errorTip:f.bind(this),messageTip:m.bind(this),closeAll:h.bind(this)}}})}function l(e){var t=tn({confirmCallback:arguments.length>1&&void 0!==arguments[1]?arguments[1]:r},e);return c(t)}function d(e){var t=tn({confirmCallback:arguments.length>1&&void 0!==arguments[1]?arguments[1]:r},e);return c(t)}function _(){}function f(t){return qr(e,t)}function m(t){return Xr(e,t)}function h(){t.forEach((function(e){return e.close()}))}}},an=Object(Cr.Component)(rn=function(e){function t(){return Object(pr.a)(this,t),Object(_r.a)(this,Object(fr.a)(t).apply(this,arguments))}return Object(mr.a)(t,e),t}(Cr.Vue))||rn,on=(r(786),Object(Ge.a)(an,(function(){var e=this.$createElement,t=this._self._c||e;return t("transition",{attrs:{name:"top"}},[t("div",{directives:[{name:"show",rawName:"v-show",value:this.visible,expression:"visible"}],staticClass:"cp_transition_tip"},[this._v(this._s(this.message))])])}),[],!1,null,null,null).exports);function cn(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function sn(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?cn(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):cn(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var un={install:function(e){if(!e.prototype.$mobileWarnTip){var t={message:"something wrong happened? Check this message out!",time:5e3,visible:!1},r=e.extend(on);e.prototype.$mobileWarnTip=function(n){return function(n){if(e.prototype.$isServer)return null;var o=sn({},t,{},n),c=new r({el:document.createElement("div"),data:o});return document.body.appendChild(c.$el),e.nextTick((function(){c.visible=!0,setTimeout((function(){c.visible=!1,c.$el&&c.$el.parentNode&&c.$el.parentNode.removeChild(c.$el),c.$destroy()}),c.time)})),c}(sn({},n))}}}},ln=function(){c.default.component("SvgIcon",xr),c.default.use(nn),c.default.use(un)};function pn(){"fixed"!==document.body.style.position&&(this.fixScrollY=window.pageYOffset,document.body.style.position="fixed",document.body.style.top=-this.fixScrollY+"px")}function dn(){document.body.style.position="static",document.body.scrollTop=this.fixScrollY,document.documentElement.scrollTop=this.fixScrollY}var _n={bind:function(e,t,r){var n=t.value;!1!==r.context.releaseBody&&n&&pn.apply(r.context)},update:function(e,t,r){var n=t.value,o=t.oldValue;!1!==r.context.releaseBody&&n!==o&&(n?pn.apply(r.context):dn.apply(r.context))},unbind:function(e,t,r){!1!==r.context.releaseBody&&dn.apply(r.context)}},fn=(r(100),r(129)),mn=r.n(fn),gn=r(288),hn=r.n(gn);var vn="provide",yn=["inject","custom"];function bn(e){return e.$parent||e.context.$parent}function kn(e,t,r){var n=(Tn(t)||{}).type,o="spm".concat(hn()(n));if(!e.dataset[o]){var c=Sn(t,r);c&&e.setAttribute(c.name,c.track)}}function Tn(e){var t,r=null===(t=e.arg)||void 0===t?void 0:t.split(":");if(r&&r.length){var n=Object(qe.a)(r,2),o=n[0],c=n[1];return{type:o,name:void 0===c?"":c}}}function Sn(e,t){var r,n=e.value,o=Tn(e);if(o){var c=o.type,l=o.name;if(n||l){var d="data-spm-".concat(c);if(!n)return{name:d,track:l};if("string"==typeof n)return{name:d,track:l+"?"+n};var _=n,f=_.inject,m=_.custom;if(l||f){if(f){var h=function(e,t){for(var r,n,o=bn(e);o;){var c=null===(n=null===(r=o.$vnode)||void 0===r?void 0:r.data)||void 0===n?void 0:n.directives;if(c&&c.length){var l=function(){var e="v-track:".concat(vn,":").concat(t),r=c.find((function(t){return t.rawName.startsWith(e)}));if(r)return{v:r.value}}();if("object"===Object(Bt.a)(l))return l.v}o=bn(o)}}(t,f);if(!(null===(r=h)||void 0===r?void 0:r.name)&&!l)return;if(h){var v=h.name,y=Object(Gt.a)(h,["name"]);n=m?m(h):Object.assign({},y,n),l="".concat(v,":").concat(l||"")}}return{name:d,track:Object.keys(n).reduce((function(e,t){var r=n[t];if(null==r)return e;if(yn.includes(t))return e;if("ext"===t)try{Object.keys(r).forEach((function(e){var t=r[e];t.startsWith("http")&&(r[e]=encodeURIComponent(t))})),r=JSON.stringify(r)}catch(t){return e}var mark=e.includes("?")?"&":"?";return"".concat(e).concat(mark).concat(t,"=").concat(r)}),l)}}}}}var En={bind:function(e,t,r){var n,o;null!==(o=null===(n=t)||void 0===n?void 0:n.value)&&void 0!==o&&o.inject||kn(e,t,r)},inserted:function(e,t,r){var n,o;(null===(o=null===(n=t)||void 0===n?void 0:n.value)||void 0===o?void 0:o.inject)&&kn(e,t,r)},update:function(e,t,r){var n=t.value,o=t.oldValue;if(!mn()(n,o)){var c=r.context;c&&c.$inhouse.updateBinding(e,n)}}};c.default.directive("no-scroll",_n),c.default.directive("track",En);var On=r(260),wn=r.n(On),Pn=r(369),In=r.n(Pn),Rn=r(402),An=r.n(Rn),jn=r(401),xn=r.n(jn),Cn=r(400),Dn=r.n(Cn),Ln=r(399),Nn=r.n(Ln),Hn=r(398),Un=r.n(Hn),Kn=r(397),$n=r.n(Kn),Mn=r(294),Fn=r.n(Mn),Gn=r(396),Bn=r.n(Gn),qn=r(293),Yn=r.n(qn),Vn=r(368),Wn=r.n(Vn),zn=r(395),Qn=r.n(zn),Jn=r(394),Zn=r.n(Jn),Xn=r(393),ea=r.n(Xn),ta=r(392),ra=r.n(ta),na=r(292),aa=r.n(na),ia=r(391),oa=r.n(ia),ca=r(99),sa=r.n(ca),ua=r(54),la=r.n(ua),pa=r(197),da=r.n(pa),_a=r(259),fa=r.n(_a),progress=r(390),ma=r.n(progress),ga=r(389),ha=r.n(ga),va=r(388),ya=r.n(va),ba=r(387),ka=r.n(ba),Ta=r(271),Sa=r.n(Ta),Ea=r(365),Oa=r.n(Ea),wa=r(170),Pa=r.n(wa),Ia=r(279),Ra=r.n(Ia),Aa=r(174),ja=r.n(Aa),xa=r(386),Ca=r.n(xa),input=r(115),Da=r.n(input),La=r(385),Na=r.n(La),Ha=r(103),Ua=r.n(Ha),Ka=r(205),$a=r.n(Ka),Ma=r(291),Fa=r.n(Ma),Ga=r(264),Ba=r.n(Ga),qa=r(101),Ya=r.n(qa),Va=r(290),Wa=r.n(Va),za=r(26),Qa=r.n(za),Ja=r(289),Za=r.n(Ja);function Xa(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function ei(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Xa(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):Xa(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var ti={install:function(e){function dialog(content,title,t){return"object"===Object(Bt.a)(title)&&(t=title,title=void 0),t=t||{},new Promise((function(r){var n=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];r(e),document.body.removeChild(o.$el),o.$destroy(),o=null},o=new e({render:function(e){return e("klk-modal",{props:ei({},t,{scrollable:!0,open:!0,overlayClosable:!0,title:title}),on:{"on-confirm":function(){return n(!0)},"on-cancel":n,close:n,"on-close":n}},["function"==typeof content?content(e):content])}}).$mount();document.body.appendChild(o.$el)}))}["alert","confirm"].forEach((function(e,t){dialog[e]=function(content,title){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return"object"===Object(Bt.a)(title)&&(e=title,title=void 0),e=e||{},this(content,title,ei({titleAlign:"center",buttonAlign:"center",showCancelButton:Boolean(t)},e))}})),e.prototype.$dialog=dialog}},ri=function(e){return ni.apply(this,arguments)};function ni(){return(ni=Object(n.a)(regeneratorRuntime.mark((function e(t){var n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.store.state.klook.language,e.next=3,r(446)("./".concat(n));case 3:o=e.sent,Za.a.use(o),c.default.use(Qa.a),c.default.use(Wa.a),c.default.use(Ya.a),c.default.use(Ba.a),c.default.use(Fa.a),c.default.use($a.a),c.default.use(Ua.a),c.default.use(Na.a),c.default.use(Da.a),c.default.use(Ca.a),c.default.use(ja.a),c.default.use(Ra.a),c.default.use(Pa.a),c.default.use(Oa.a),c.default.use(Sa.a),c.default.use(ka.a),c.default.use(ya.a),c.default.use(ha.a),c.default.use(ma.a),c.default.use(fa.a),c.default.use(da.a),c.default.use(la.a),c.default.use(sa.a),c.default.use(oa.a),c.default.use(aa.a),c.default.use(ra.a),c.default.use(ea.a),c.default.use(Zn.a),c.default.use(Qn.a),c.default.use(Wn.a),c.default.use(Da.a),c.default.use(Yn.a),c.default.use(Bn.a),c.default.use(Fn.a),c.default.use($n.a),c.default.use(Ba.a),c.default.use(Un.a),c.default.use(Nn.a),c.default.use(Dn.a),c.default.use(xn.a),c.default.use(An.a),c.default.use(In.a),c.default.use(ti),c.default.use(wn.a);case 49:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var head=r(267);c.default.prototype.$setMeta=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],meta={};return e.name&&(meta.hid=e.name,meta.name=e.name),e.property&&(meta.hid=e.property,meta.property=e.property),e.content&&(meta.content=t?this.$t(e.content):e.content),meta},c.default.prototype.$title=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?this.$t(e):e;return e?"ja"===this.$i18n.locale?t:"".concat(t).concat(this.$t("global.seo.titlesite")):this.$t("global.seo.title")},c.default.prototype.$keywords=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.$setMeta({name:"keywords",content:e},t)},c.default.prototype.$description=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.$setMeta({name:"description",content:e},t)},c.default.prototype.$robots=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.$setMeta({name:"robots",content:e},t)},c.default.prototype.$canonical=function(path,e){return Object(head.a)(this,path||this.$route.fullPath,e||[])},c.default.prototype.$ldjson=function(e){return{type:"application/ld+json",json:e}};var ai=r(206),ii=r.n(ai);function oi(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function ci(data){var e=Object.keys(data).reduce((function(e,t){return function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?oi(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):oi(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},e,Object(o.a)({},t,ii.a.inHTMLData(data[t])))}),{});try{return JSON.stringify(e)}catch(e){return"{}"}}c.default.prototype.$insetDataLayer=function(data){return"[object Object]"!==Object.prototype.toString.call(data)?{}:{innerHTML:"\n       var dataLayer = dataLayer || []\n       dataLayer.push(".concat(ci(data),")\n    ")}};var si=function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.store.dispatch("auth/getProfile",{ctx:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ui=(r(144),r(168)),pi=r(32),di=r(121);function _i(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function fi(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?_i(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):_i(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var mi=function(e){var t,r,o,l,d,_,f=e.app,m=e.store,h=m.state.auth,v=m.state.klook,y=m.state.common.kepler,k="";Object(nr.p)()&&document.referrer.includes("/promo/")&&(k=f.$cookies.get("cid_mixpanel")),c.default.prototype.$inhouse=ui.a,f.$clientReport&&f.$clientReport.reportPerformance({pageName:Object.assign.apply(Object,[{}].concat(Object(Ft.a)(e.route.meta))).trackedPageName||e.route.name}),ui.a.setConfig({url:"https://log.klook.com/v2/frontlogsrv/log/web",enableProxyClick:!0}),f.router.beforeEach(function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(t,r,n){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.matched||!r.matched.length){e.next=5;break}if(o=m.state.klook.supportLanguages,mn()(Object(pi.g)(m.state.klook.websiteConfig.website),o)){e.next=5;break}return e.next=5,m.dispatch("syncSupportLanguages",Object(pi.g)(m.state.klook.websiteConfig.website));case 5:n();case 6:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}());var T=f.$traffic;f.router.afterEach((function(e){var t;T.useAction({type:T.constant.TrafficCommon,action:"routerChange"}),T.useAction({type:T.constant.TrafficCommon,action:"processTrafficQuery"});var r=(null===(t=T.useState({type:T.constant.TrafficAll}).trafficCommon)||void 0===t?void 0:t.marketing)||{};k&&(r.campaignId=String(k)),setTimeout((function(){for(var t,n,o=[],c=0,l=Object.values(y.experimentsGroup);c<l.length;c++){var d=l[c];o.push({experimentId:d.id,groupId:d.group.id})}var _=lt.a.get_distinct_id(),m=function(e,t){if(t.platformMp){var r={project:t.platformMp};try{r=Object.assign(r,JSON.parse(e.mp_tracking).super)}catch(e){}return r.distinctId?Object(di.d)("MP_DISCINCT_ID",r.distinctId):r.distinctId=Object(di.b)("MP_DISCINCT_ID"),r}return Object(di.a)("MP_DISCINCT_ID"),{}}(e.query,v);m.distinctId&&(_=m.distinctId,delete m.distinctId),v.utilConfig.whiteLabelUtilConfig&&(m.partner_id=v.utilConfig.whiteLabelUtilConfig.partner_id,m.platform_id="WhitelabelPlatform");var k=f.$cookies.get("kepler_id")||(null===(t=window.BaseData)||void 0===t?void 0:t.keplerId);!_&&k&&(lt.a.identify(k),_=k),ui.a.init({url:"https://log.klook.com/v2/frontlogsrv/log/web",isDebugMode:!1,autoPageView:!1,serverTime:null===(n=window.BaseData)||void 0===n?void 0:n.serverTime,props:{userId:h.user&&h.user.globalId,pageId:v.pageId,distinctId:_,deviceId:k||"",keplerId:k||"",experiments:o,siteName:window.location.host,siteLanguage:v.language,siteCurrency:v.currency,platform:v.platform,marketing:r},sprops:fi({},m)})}),0),setTimeout((function(){ui.a.track("pageview","all")}),500)})),m.commit("common/kepler/SET_KEPLER_ID",(null===(t=window.BaseData)||void 0===t?void 0:t.keplerId)||""),m.commit("common/kepler/SET_EXPERIMENTS_HIT_LIST",(null===(r=window.BaseData)||void 0===r?void 0:r.experimentList)||{}),m.commit("common/kepler/SET_TINTED_LIST",(null===(o=window.BaseData)||void 0===o?void 0:o.tintedList)||[]),m.commit("SET_CLIENT_INIT_DATA",{ip:(null===(l=window.BaseData)||void 0===l?void 0:l.ip)||"",isIOS:(null===(d=window.BaseData)||void 0===d?void 0:d.isIOS)||"",pageId:(null===(_=window.BaseData)||void 0===_?void 0:_.pageId)||""})},gi=r(403),hi=r.n(gi);c.default.component("infinite-loading",hi.a);var vi=r(404),yi=r.n(vi);c.default.use(yi.a);var bi=r(261);function ki(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function Ti(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ki(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):ki(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}function Si(){var e=document.referrer.match(/\/activity\/(\d+)/);return e?e[1]:"NA"}var base=["Activity ID","Destination City ID","Country ID","Category ID"],Ei=[].concat(base,["Event Type","Page Name"]),Oi={"Activity Page":[].concat(base,["Vertical Type","Entrance Path","Landing Page"]),"Activity Page Imp":[].concat(base,["Pre Activity Page ID","Operation Tag","Landing Page","Event Type","Added To Wishlist","Notification Status"]),SelectOption_Clicked:[].concat(base,["Event Type","Page Name"]),Date_Selected:[].concat(base,["Entry Point","Event Type","Page Name"]),Attribute_Selected:[].concat(base,["Option Type ID","Event Type","Page Name"]),AddToCart_Clicked:Ei,BookNow_Clicked:Ei,"Booking Options Page":[].concat(base,["Entry Point","Event Type","Landing Page"]),Quantity_Selected:[].concat(base,["Entry Point","Event Type","Page Name"]),AddToCart_Confirmed:Ei,BookNow_Confirmed:Ei};var wi=function(e){return function(data){var t=function(e){var t=e.store.state.traveller.activity,r=e.query.type,n=e.route.name,o=t.templateId,c=!document.referrer||!document.referrer.includes("klook."),l=document.referrer&&document.referrer.includes("/things_to_do"),d=bi.c[o]||"NA",_={"Activity ID":t.activityId,"Destination City ID":t.cityId,"Country ID":t.countryId,"Category ID":o,"Pre Activity Page ID":Si(),"Landing Page":c,"Notification Status":t.reopen&&t.reopen.need_remind?"On":"Off","Added To Wishlist":t.favorite},f=t.cardTags,m=void 0===f?{}:f;_["Operation Tag"]=Object(bi.b)(m);var h="ActivityHome"===n,v=h?"Activity Page":"Booking Options Page",y="book"===r?"book_now":"add_to_cart",k=h?{"Entry Point":"activity_page","Page Name":"Activity Page"}:{"Entry Point":y,"Page Name":"Booking Options Page"},T={"Activity Page":Ti({},_)};return c&&(T={"Activity Page":Ti({},_,{"Vertical Type":d,"Entrance Path":"External"})}),l&&(T={"Activity Page":Ti({},_,{"Landing Page":!1,"Entrance Path":"Homepage Pre Activity Search Layer Clicked".concat(e.query["ttd-popular-activity"]?"(Popular Activity)":""),"Vertical Type":d})}),Ti({},T,{"Activity Page Imp":Ti({},_,{"Event Type":"Page"}),SelectOption_Clicked:Ti({},_,{"Event Type":"Action","Page Name":"Activity Page"}),Date_Selected:Ti({},_,{"Event Type":"Action"},k),Attribute_Selected:Ti({},_,{"Event Type":"Action","Page Name":v}),AddToCart_Clicked:Ti({},_,{"Event Type":"Action","Page Name":"Activity Page"}),BookNow_Clicked:Ti({},_,{"Event Type":"Action","Page Name":"Activity Page"}),"Booking Options Page":Ti({},_,{"Event Type":"Page","Entry Point":y}),Quantity_Selected:Ti({},_,{"Event Type":"Action","Page Name":"Booking Options Page","Entry Point":y}),AddToCart_Confirmed:Ti({},_,{"Event Type":"Action","Page Name":"Booking Options Page"}),BookNow_Confirmed:Ti({},_,{"Event Type":"Action","Page Name":"Booking Options Page"})})}(e.ctx),r="string"==typeof data?{name:data}:data,n=r.name,c=r.props,l=void 0===c?{}:c,d=r.sprops,_=void 0===d?{}:d,f=t[n];if(f){var m=f.name?f.name:n,h=Oi[m];if(h){var v=h.reduce((function(e,t){var r=l[t];return null==r&&null==(r=f[t])&&(console.log("--- mixpanel ---","".concat(m," need ").concat(t)),r="NA"),Ti({},e,Object(o.a)({},t,r))}),{});e.tracker.$sendMixpanel({name:m,props:v,sprops:_})}}}},Pi=function(e){var t=new c.default(e.app),r={ctx:e,tracker:t};t.$on("activity.sendMixpanel",wi(r)),t.$on("home.sendMixpanel",function(e){return function(t){var r=t.sectionName,n=t.dataName,data=t.data,o="Homepage_".concat(r,"_").concat(n);e.tracker.$sendMixpanel({name:"Activity Page",props:{"Entrance Path":o,"Activity ID":data.activity_id||"NA","Landing Page":!1,"Destination City ID":data.city_id||"NA",Activity:data.title||"NA"}})}}(r)),c.default.prototype.$tracker=t},Ii=r(371),Ri="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAADUExURenp6VcjxIwAAAAKSURBVAjXY2AAAAACAAHiIbwzAAAAAElFTkSuQmCC",Ai=function(e){var t=e.store.state.klook,r=t.platform,n=t.retina;return c.default.use(Ii.a,{observer:!0,loading:Ri,error:Ri,filter:{webp:function(e,t){var o,c=(null===(o=e.el.dataset)||void 0===o?void 0:o.imgType)||"",l="mobile"===r&&n,d=Object(nr.x)(e.src,c,l);if(t.supportWebp){/res\.klook\.com/.test(d)&&(e.src=d.replace(/\.\w+$/,".webp"))}}}}),Promise.resolve()},ji=r(405);function xi(){return(xi=Object(n.a)(regeneratorRuntime.mark((function e(data){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([r.e(280),r.e(282)]).then(r.bind(null,2234));case 2:return t=e.sent,e.next=5,t.default(data);case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}c.default.use(ji.a);var Ci=function(e){return xi.apply(this,arguments)},Di=function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(t){var r,n,o,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.store,o=t.query,!(null===(r=n.state.klook.utilConfig)||void 0===r?void 0:r.whiteLabelUtilConfig)){e.next=8;break}return Object(nr.s)("dev_domain",o),c=n.state.klook.host,e.next=6,Ci({host:c||"",platform:n.state.klook.platform,language:n.state.klook.language,currency:n.state.klook.currency});case 6:l=e.sent,n.state.klook.utilConfig.whiteLabelUtilConfig.sdk=l;case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Li=r(406),Ni=function(e){Object(Li.initRiskDeepKnow)({isPrdEnv:!0,platform:e.store.state.klook.platform})},Hi=function(e,t,r,desc){var n,o=arguments.length,c=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(Bt.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,desc);else for(var i=e.length-1;i>=0;i--)(n=e[i])&&(c=(o<3?n(c):o>3?n(t,r,c):n(t,r))||c);return o>3&&c&&Object.defineProperty(t,r,c),c},Ui=function(e){function t(){return Object(pr.a)(this,t),Object(_r.a)(this,Object(fr.a)(t).apply(this,arguments))}return Object(mr.a)(t,e),t}(Cr.Vue);Hi([Object(Cr.Prop)({default:function(){return!0}})],Ui.prototype,"isOffScreen",void 0);var Ki=Ui=Hi([Cr.Component],Ui),$i=Object(Ge.a)(Ki,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"off-screen"},[this.isOffScreen?t("ClientOnly",[this._t("default"),this._v(" "),t("template",{slot:"placeholder"},[this._t("placeholder")],2)],2):this._t("default")],2)}),[],!1,null,null,null).exports,Mi=function(e,t,r,desc){var n,o=arguments.length,c=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(Bt.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,desc);else for(var i=e.length-1;i>=0;i--)(n=e[i])&&(c=(o<3?n(c):o>3?n(t,r,c):n(t,r))||c);return o>3&&c&&Object.defineProperty(t,r,c),c},Fi=function(e){function t(){return Object(pr.a)(this,t),Object(_r.a)(this,Object(fr.a)(t).apply(this,arguments))}return Object(mr.a)(t,e),Object(dr.a)(t,[{key:"styles",get:function(){var e={};return this.width&&(e.width=this.width),this.height&&(e.height="".concat(this.height,"px")),this.gap&&(e.marginBottom="".concat(this.gap,"px")),e}}]),t}(Cr.Vue);Mi([Object(Cr.Prop)()],Fi.prototype,"width",void 0),Mi([Object(Cr.Prop)()],Fi.prototype,"gap",void 0),Mi([Object(Cr.Prop)({default:14,type:[Number,String]})],Fi.prototype,"height",void 0);var Gi=Fi=Mi([Cr.Component],Fi),Bi=(r(806),Object(Ge.a)(Gi,(function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"skeleton",style:this.styles})}),[],!1,null,"34a71f82",null).exports),qi=function(e,t,r,desc){var n,o=arguments.length,c=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(Bt.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,desc);else for(var i=e.length-1;i>=0;i--)(n=e[i])&&(c=(o<3?n(c):o>3?n(t,r,c):n(t,r))||c);return o>3&&c&&Object.defineProperty(t,r,c),c},Yi=function(e){function t(){return Object(pr.a)(this,t),Object(_r.a)(this,Object(fr.a)(t).apply(this,arguments))}return Object(mr.a)(t,e),t}(Cr.Vue),Vi=Yi=qi([Object(Cr.Component)({components:{Skeleton:Bi}})],Yi),Wi=(r(807),Object(Ge.a)(Vi,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"placeholder"},[t("Skeleton",{attrs:{gap:"12",width:"80%"}}),this._v(" "),t("Skeleton",{attrs:{gap:"12",width:"80%"}}),this._v(" "),t("Skeleton",{attrs:{gap:"12"}}),this._v(" "),t("Skeleton",{attrs:{gap:"16",height:"174"}})],1)}),[],!1,null,"5b494c87",null).exports);function zi(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function Qi(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?zi(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):zi(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var Ji=function(e,t,r,desc){var n,o=arguments.length,c=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(Bt.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,desc);else for(var i=e.length-1;i>=0;i--)(n=e[i])&&(c=(o<3?n(c):o>3?n(t,r,c):n(t,r))||c);return o>3&&c&&Object.defineProperty(t,r,c),c},Zi=function(e){return function(t){var r=function(r){function n(){return Object(pr.a)(this,n),Object(_r.a)(this,Object(fr.a)(n).apply(this,arguments))}return Object(mr.a)(n,r),Object(dr.a)(n,[{key:"render",value:function(){var t=arguments[0];return t(e,{attrs:{isOffScreen:this.offScreen},props:Qi({},this.$attrs)},[this.$slots.default,t("template",{slot:"placeholder"},[this.$slots.placeholder||t(Wi)])])}},{key:"offScreen",get:function(){return!t&&this.isOffScreen}}]),n}(Cr.Vue);return Ji([Object(Cr.Prop)()],r.prototype,"isOffScreen",void 0),r=Ji([Cr.Component],r)}}($i),Xi=function(e){var t=e.store.state.klook.isBot,component=Zi(t);c.default.component("off-screen",component)};function eo(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function to(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?eo(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):eo(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}r.d(t,"b",(function(){return no})),r.d(t,"a",(function(){return Be})),c.default.component(_.a.name,_.a),c.default.component(m.a.name,to({},m.a,{render:function(e,t){return m.a._warned||(m.a._warned=!0,console.warn("<no-ssr> has been deprecated and will be removed in Nuxt 3, please use <client-only> instead")),m.a.render(e,t)}})),c.default.component(Ke.name,Ke),c.default.component("NChild",Ke),c.default.component(Ye.name,Ye),c.default.use(l.a,{keyName:"head",attribute:"data-n-head",ssrAttribute:"data-n-head-ssr",tagIDKeyName:"hid"});var ro={name:"page",mode:"out-in",appear:!1,appearClass:"appear",appearActiveClass:"appear-active",appearToClass:"appear-to"};function no(e){return ao.apply(this,arguments)}function ao(){return(ao=Object(n.a)(regeneratorRuntime.mark((function e(t){var r,n,o,l,d,_,path,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ne(t);case 2:return r=e.sent,(n=tt(t)).$router=r,o=n.registerModule,n.registerModule=function(path,e,t){return o.call(n,path,e,Object.assign({preserveState:!0},t))},l=to({store:n,router:r,nuxt:{defaultTransition:ro,transitions:[ro],setTransitions:function(e){return Array.isArray(e)||(e=[e]),e=e.map((function(e){return e=e?"string"==typeof e?Object.assign({},ro,{name:e}):Object.assign({},ro,e):ro})),this.$options.nuxt.transitions=e,e},err:null,dateErr:null,error:function(e){e=e||null,l.context._errored=Boolean(e),e=e?Object(v.k)(e):null;var r=this.nuxt||this.$options.nuxt;return r.dateErr=Date.now(),r.err=e,t&&(t.nuxt.error=e),e}}},Je),n.app=l,d=t?t.next:function(e){return l.router.push(e)},t?_=r.resolve(t.url).route:(path=Object(v.d)(r.options.base),_=r.resolve(path).route),e.next=13,Object(v.o)(l,{store:n,route:_,next:d,error:l.nuxt.error.bind(l),payload:t?t.payload:void 0,req:t?t.req:void 0,res:t?t.res:void 0,beforeRenderFns:t?t.beforeRenderFns:void 0,ssrContext:t});case 13:f=function(e,t){if(!e)throw new Error("inject(key, value) has no key provided");if(void 0===t)throw new Error("inject(key, value) has no value provided");l[e="$"+e]=t,n[e]=l[e];var r="__klook_"+e+"_installed__";c.default[r]||(c.default[r]=!0,c.default.use((function(){c.default.prototype.hasOwnProperty(e)||Object.defineProperty(c.default.prototype,e,{get:function(){return this.$root.$options[e]}})})))},window.__KLOOK__&&window.__KLOOK__.state&&n.replaceState(window.__KLOOK__.state),e.next=18;break;case 18:if("function"!=typeof yt){e.next=21;break}return e.next=21,yt(l.context,f);case 21:if("function"!=typeof Et){e.next=24;break}return e.next=24,Et(l.context,f);case 24:e.next=27;break;case 27:if("function"!=typeof Pt){e.next=30;break}return e.next=30,Pt(l.context,f);case 30:if("function"!=typeof jt){e.next=33;break}return e.next=33,jt(l.context,f);case 33:if("function"!=typeof Dt){e.next=36;break}return e.next=36,Dt(l.context,f);case 36:if("function"!=typeof Mt){e.next=39;break}return e.next=39,Mt(l.context,f);case 39:if("function"!=typeof ir){e.next=42;break}return e.next=42,ir(l.context,f);case 42:if("function"!=typeof Pr){e.next=45;break}return e.next=45,Pr(l.context,f);case 45:if("function"!=typeof ln){e.next=48;break}return e.next=48,ln(l.context,f);case 48:e.next=51;break;case 51:if("function"!=typeof ri){e.next=54;break}return e.next=54,ri(l.context,f);case 54:e.next=57;break;case 57:e.next=60;break;case 60:if("function"!=typeof si){e.next=63;break}return e.next=63,si(l.context,f);case 63:if("function"!=typeof mi){e.next=66;break}return e.next=66,mi(l.context,f);case 66:e.next=69;break;case 69:e.next=72;break;case 72:if("function"!=typeof Pi){e.next=75;break}return e.next=75,Pi(l.context,f);case 75:if("function"!=typeof Ai){e.next=78;break}return e.next=78,Ai(l.context,f);case 78:e.next=81;break;case 81:if("function"!=typeof Di){e.next=84;break}return e.next=84,Di(l.context,f);case 84:if("function"!=typeof Ni){e.next=87;break}return e.next=87,Ni(l.context,f);case 87:if("function"!=typeof Xi){e.next=90;break}return e.next=90,Xi(l.context,f);case 90:e.next=93;break;case 93:return e.abrupt("return",{store:n,app:l,router:r});case 94:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},121:function(e,t,r){"use strict";r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return c})),r.d(t,"a",(function(){return l})),r.d(t,"d",(function(){return d}));r(58),r(59),r(7);var n=r(74);function(){}function c(e){var data=o(e);try{return JSON.parse(data)}catch(e){return data}}function l(e){Object(n.c)()&&sessionStorage.removeItem(e)}function d(e,t){Object(n.c)()&&("[object Object]"===Object.prototype.toString.call(t)?sessionStorage.setItem(e,JSON.stringify(t)):sessionStorage.setItem(e,t))}},128:function(e,t,r){"use strict";r.d(t,"a",(function(){return _}));r(16),r(12),r(9),r(7),r(10);var n=r(0);function o(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}var c={ip_country:"US",default_currency:"USD",default_languages:"en",support_currencies:["HKD","USD","TWD","SGD","CNY","AUD","GBP","LAK","EUR","THB","NZD","MYR","JPY","AED","PHP","KRW","VND","IDR","SEK","NOK","DKK","CHF","TRY","ISK","INR","KHR","MMK","MOP","QAR","OMR","JOD","FJD","CAD","MUR","MXN","MAD","EGP","ZAR","MGA"],support_languages:["de","en","en-AU","en-CA","en-GB","en-HK","en-IN","en-MY","en-NZ","en-PH","en-SG","en-US","es","fr","id","it","ja","ko","ru","th","vi","zh-CN","zh-HK","zh-TW"],change_site_tip:!1,footer_change_site:!0,href:"https://www.klook.com/",website:"www.klook.com",business_license:!1},l={ip_country:"CN",default_currency:"CNY",default_languages:"zh-CN",support_currencies:["CNY"],support_languages:["zh-CN"],change_site_tip:!0,href:"https://www.klook.cn/",website:"www.klook.cn",business_license:!0},d={"www.klook.cn":l,"klook.cn":l,"guest.klook.com":{website:"guest.klook.com",footer_change_site:!1},"cap.klook.com":{website:"cap.klook.com"}},_=["www.klook.cn","www.klook.com"];t.b=function(e){return function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?o(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):o(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},c,{},d[e]||{})}},136:function(e,t,r){"use strict";var n;r.d(t,"a",(function(){return n})),function(e){!function(e){e[e.Rerender=0]="Rerender",e[e.Session=1]="Session",e[e.Destroy=2]="Destroy",e[e.Reset=3]="Reset"}(e.RefreshType||(e.RefreshType={})),function(e){e[e.None=1]="None",e[e.Auto=2]="Auto",e[e.Manual=3]="Manual",e[e.Normal=4]="Normal"}(e.ChooseType||(e.ChooseType={})),function(e){e[e.Auto=0]="Auto",e[e.Manual=1]="Manual"}(e.ControllType||(e.ControllType={})),function(e){e.Auto="AUTO_ASSIGN",e.HoldToken="HOLD_TOKEN",e.Manual="HOLD_SEAT",e.Release="RELEASE_HOLD_SEAT",e.ReleaseAll="RELEASE_ALL_SEAT"}(e.OperateType||(e.OperateType={}))}(n||(n={}))},139:function(e,t,r){"use strict";r.d(t,"b",(function(){return f})),r.d(t,"a",(function(){return m}));r(15),r(30),r(25),r(17),r(19),r(9),r(7),r(10);var n=r(8),o=r.n(n),c=(r(661),r(662),r(663),r(664),r(665),r(666),r(667),r(668),r(669),r(670),r(671),r(672),{"en-AU":"en","en-CA":"en","en-GB":"en","en-HK":"en","en-IN":"en","en-MY":"en","en-NZ":"en","en-PH":"en","en-SG":"en","en-US":"en","zh-CN":"zh-cn","zh-HK":"zh-cn","zh-TW":"zh-cn"}),l={"h:mma":["en","en-AU","en-CA","en-GB","en-HK","en-IN","en-MY","en-NZ","en-PH","en-SG","en-US"],"h:mm A":["zh-CN","zh-TW","zh-HK"],"A h:mm":["ko"],"HH:mm":["th","vi","id","ja"]};function d(e){return c[e]||e}function _(e){for(var t=Object.keys(l),r=0;r<t.length;r+=1){var n=t[r];if(l[n].includes(e))return n}return""}function f(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",l=e;o.a.locale(d(r)),"string"==typeof l&&(l=new Date(l.replace(/-/g,"/")));var f=t("global.standard.date.format");return 2===n&&(l.getHours()>0||l.getMinutes()>0)&&(f+=" HH:mm"),3===n&&(f=t("global.standard.date.format_hide_year")),4===n&&(f=_(r)),5===n&&(f+=" ".concat(_(r))),6===n&&(f=t("global.standard.date.format")),c&&/d+/.test(c)&&(f+=c),6===n&&(l.getHours()>=0||l.getMinutes()>=0)&&(f+=" HH:mm"),o()(l).format(f)}function m(e,t,r){return o.a.locale(d(e)),o()(t).format(r)}},140:function(e,t,r){"use strict";r.d(t,"b",(function(){return o})),r.d(t,"a",(function(){return c})),r.d(t,"d",(function(){return _})),r.d(t,"c",(function(){return f}));r(17),r(19);var n=r(128),o={HKD:"HK$",USD:"US$",TWD:"NT$",SGD:"S$",CNY:"",AUD:"AUD",GBP:"",LAK:"",EUR:"",THB:"",NZD:"NZ$",MYR:"RM",JPY:"",AED:"AED",PHP:"",KRW:"",VND:"",IDR:"Rp",SEK:"kr",NOK:"kr",DKK:"kr",CHF:"CHF",RUB:"",TRY:"YTL",ISK:"kr",INR:"",KHR:"KHR",MMK:"BUK",MOP:"MOP$",QAR:"QR",OMR:"OMR",JOD:"JOD",LBP:"LBP",FJD:"$",CAD:"CAD",MUR:"Rs",MXN:"$",MAD:"DH",EGP:"EGP",ZAR:"R",MGA:"MGA"},c={USDHKD:7.845045,CNYHKD:1.185581,EURHKD:9.171115,GBPHKD:10.360332,AUDHKD:5.810271,SGDHKD:5.759771,TWDHKD:.257535,THBHKD:.237656,JPYHKD:.070887,KRWHKD:.007046,IDRHKD:548e-6,PHPHKD:.147159,LAKHKD:934e-6,MYRHKD:1.942785,VNDHKD:342e-6,AEDHKD:2.13604,NZDHKD:5.310731,ISKHKD:.074466,SEKHKD:.877825,NOKHKD:.963397,DKKHKD:1.230825,CHFHKD:7.921733,RUBHKD:.124951,TRYHKD:1.710574,INRHKD:.11461,KHRHKD:.001947,MMKHKD:.005568,QARHKD:2.155052,OMRHKD:20.381958,JODHKD:11.072726,LBPHKD:.005211,AFNHKD:.107201,ALLHKD:.072842,AMDHKD:.016285,ANGHKD:4.304537,AOAHKD:.03151,ARSHKD:.271643,AWGHKD:4.407325,AZNHKD:4.616081,BAMHKD:4.68053,BBDHKD:3.922522,BDTHKD:.09384,BGNHKD:4.676066,BHDHKD:20.751624,BIFHKD:.00448,BMDHKD:7.845045,BNDHKD:5.817573,BOBHKD:1.143525,BRLHKD:2.026457,BSDHKD:7.845045,BTCHKD:49933.08218,BTNHKD:.114109,BWPHKD:.755028,BYNHKD:3.921815,BYRHKD:4e-4,BZDHKD:3.926835,CADHKD:5.972146,CDFHKD:.005011,CLFHKD:329.163924,CLPHKD:.012001,COPHKD:.002678,CRCHKD:.013891,CUCHKD:7.845045,CUPHKD:.296039,CVEHKD:.083122,CZKHKD:.353125,DJFHKD:.044196,DOPHKD:.159032,DZDHKD:.066866,EGPHKD:.439735,ERNHKD:.513742,ETBHKD:.288315,FJDHKD:3.758635,FKPHKD:10.360547,GELHKD:3.210572,GGPHKD:10.360332,GHSHKD:1.646939,GIPHKD:10.35647,GMDHKD:.167807,GNFHKD:872e-6,GTQHKD:1.047051,GYDHKD:.038042,HKDHKD:1,HNLHKD:.328093,HRKHKD:1.240224,HTGHKD:.120749,HUFHKD:.027862,ILSHKD:2.147909,IMPHKD:10.360332,IQDHKD:.006626,IRRHKD:184e-6,JEPHKD:10.360332,JMDHKD:.061132,KESHKD:.077944,KGSHKD:.115106,KMFHKD:.01862,KPWHKD:.008717,KWDHKD:25.942356,KYDHKD:9.562698,KZTHKD:.022992,LKRHKD:.049589,LRDHKD:.05257,LSLHKD:.569704,LTLHKD:2.573241,LVLHKD:12.642065,LYDHKD:5.711707,MADHKD:.827667,MDLHKD:.466216,MGAHKD:.002399,MKDHKD:.149371,MNTHKD:.003202,MOPHKD:.970872,MROHKD:.022099,MURHKD:.227368,MVRHKD:.503844,MWKHKD:.010996,MXNHKD:.394044,MZNHKD:.133577,NADHKD:.572197,NGNHKD:.021975,NIOHKD:.250878,NPRHKD:.071742,PABHKD:7.845045,PENHKD:2.391995,PGKHKD:2.420182,PKRHKD:.064499,PLNHKD:2.096928,PYGHKD:.001384,RONHKD:1.968442,RSDHKD:.077648,RWFHKD:.009236,SARHKD:2.091954,SBDHKD:.988782,SCRHKD:.585231,SDGHKD:.436923,SHPHKD:10.35647,SLLHKD:981e-6,SOSHKD:.013739,SRDHKD:1.058657,STDHKD:374e-6,SVCHKD:.896538,SYPHKD:.015234,SZLHKD:.572083,TJSHKD:.856735,TMTHKD:2.300596,TNDHKD:2.993869,TOPHKD:3.387167,TTDHKD:1.159051,TZSHKD:.003457,UAHHKD:.298518,UGXHKD:.002025,UYUHKD:.250878,UZSHKD:999e-6,VEFHKD:82e-6,VUVHKD:.072012,WSTHKD:3.012221,XAFHKD:.013987,XAGHKD:126.326427,XAUHKD:9803.921569,XCDHKD:2.901696,XDRHKD:11.034605,XOFHKD:.013987,XPFHKD:.076853,YERHKD:.031393,ZARHKD:.5717,ZMKHKD:872e-6,ZMWHKD:.789211,ZWLHKD:.024337},l={de:["EUR","GBP","USD","HKD","TWD","CNY"],en:["SGD","HKD","PHP","MYR","TWD","USD","CNY","KRW"],"en-AU":["AUD","SGD","HKD","MYR","TWD","USD","CNY","KRW"],"en-CA":["CAD","SGD","HKD","MYR","TWD","USD","CNY","KRW"],"en-GB":["GBP","SGD","HKD","MYR","TWD","USD","CNY","KRW"],"en-HK":["HKD","TWD","SGD","USD","MYR","CNY","KRW"],"en-IN":["INR","SGD","HKD","MYR","TWD","USD","CNY","KRW"],"en-MY":["MYR","PHP","HKD","SGD","TWD","USD","CNY","KRW"],"en-NZ":["NZD","SGD","HKD","MYR","TWD","USD","CNY","KRW"],"en-PH":["PHP","HKD","SGD","MYR","TWD","USD","CNY","KRW"],"en-SG":["SGD","HKD","PHP","MYR","TWD","USD","CNY","KRW"],"en-US":["USD","SGD","HKD","PHP","MYR","TWD","CNY","KRW"],es:["EUR","GBP","USD","HKD","TWD","CNY"],fr:["EUR","GBP","USD","HKD","TWD","CNY"],id:["IDR","HKD","SGD","USD","TWD","CNY","KRW"],it:["EUR","GBP","USD","HKD","TWD","CNY"],ja:["JPY","HKD","SGD","USD","TWD","CNY","KRW"],ko:["KRW","HKD","SGD","USD","TWD","CNY","MYR"],ru:["EUR","GBP","USD","HKD","TWD","CNY"],th:["THB","HKD","SGD","USD","TWD","CNY","MYR","KRW"],vi:["VND","HKD","SGD","USD","TWD","CNY","KRW"],"zh-CN":["CNY","HKD","MYR","TWD","SGD","USD","KRW"],"zh-HK":["HKD","TWD","SGD","USD","MYR","CNY","KRW"],"zh-TW":["TWD","HKD","SGD","USD","MYR","CNY","KRW"]};function d(e){return Object(n.b)(e).support_currencies}function _(e,t){var r=d(t),n={suggestCurrencies:[],otherCurrencies:[]};return n.suggestCurrencies=l[e].filter((function(e){return r.includes(e)})),n.otherCurrencies=r.filter((function(t){return!l[e].includes(t)})).sort(),n}function f(e){return o[e]}},164:function(e,t,r){"use strict";r.r(t),r.d(t,"types",(function(){return n})),r.d(t,"platform",(function(){return o})),r.d(t,"CMSGenericItemCacheKey",(function(){return c}));var n={TYPE_GENERAL:999,TYPE_THEME_SEASONAL:111,TYPE_HOME_BANNER:101,TYPE_HOME_DESTINATION:102,TYPE_HOME_ACTIVITIES:103,TYPE_ACTIVITY_HELP_CONTENT:104,TYPE_ACTIVITY_HELP_CONTENT_MAP:1041,TYPE_BRAND:105,TYPE_CAMPAIGN:1051,TYPE_CITY_THEME:121,TYPE_CITY_TEMPLATE_THEME:122,TYPE_FAQ:401,TYPE_IN_THE_NEWS:402,TYPE_NEWS_ROOM:414,TYPE_JOIN_US:403,TYPE_CITY_ARTICLES:123,TYPE_CONTENT_ARTICLE:1231,TYPE_ACTIVITY_SEO_LINK:501,TYPE_WEB_CONFIG:502,TYPE_KLOOK_NOTICE:405,TYPE_KLOOK_TERMS:406,TYPE_HOME_BANNER_AD:106,TYPE_CITY_BANNER_AD:126,TYPE_KLOOK_VN_POLICY:413,TYPE_KLOOK_PLATFORM_NOTICE:407,TYPE__EUROPE_LAND:437,TYPE_CHINA_LAND:447},o={ALL:15,ANDROID:1,IOS:2,APP:3,MOBILE:4,WEB:8},c="CMS_GENERIC_ITEM_CACHE"},166:function(e,t,r){"use strict";var n={};n.experienceRedirect=r(512),n.experienceRedirect=n.experienceRedirect.default||n.experienceRedirect,n.hotelwhitelist=r(513),n.hotelwhitelist=n.hotelwhitelist.default||n.hotelwhitelist,n.jsessionid=r(516),n.jsessionid=n.jsessionid.default||n.jsessionid,n["need-login-white-label"]=r(562),n["need-login-white-label"]=n["need-login-white-label"].default||n["need-login-white-label"],n.needLogin=r(563),n.needLogin=n.needLogin.default||n.needLogin,n.redirectToCn=r(564),n.redirectToCn=n.redirectToCn.default||n.redirectToCn,n["transport-ticket/base-info"]=r(565),n["transport-ticket/base-info"]=n["transport-ticket/base-info"].default||n["transport-ticket/base-info"],n["transport-ticket/settlement"]=r(580),n["transport-ticket/settlement"]=n["transport-ticket/settlement"].default||n["transport-ticket/settlement"],t.a=n},167:function(e,t,r){"use strict";(function(e){r(9),r(7),r(10);var n,o,c=r(384);t.a={apiUrl:"https://admin.klook.com/v1/locpublishserv/publish/texts",localesRequestPublishIds:"undefined"==typeof window?"10":"",rootDir:e,isDebugMode:!1,systemId:16,fallbackLocale:"en",testMessages:{en:{test:"test"},"zh-HK":{test:""}},interpolation:{prefix:"{",postfix:"}",linkKeyWord:"MULTILANG_URL_PLACEHOLDER"},colorMap:(n=c.tokens,o={},Object.keys(n).forEach((function(e){0===e.indexOf("$")?o[e.slice(1)]=n[e]:o[e]=n[e]})),o)}}).call(this,"/")},198:function(e,t,r){},199:function(e,t,r){},200:function(e,t,r){},201:function(e,t,r){},202:function(e,t,r){},203:function(e,t,r){},204:function(e,t,r){},207:function(e,t,r){},208:function(e,t,r){},211:function(e,t,r){"use strict";r(7),r(68),r(12),r(9),r(17),r(19);var n=r(2),o=window.requestIdleCallback||function(e){var t=Date.now();return setTimeout((function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})}),1)},c=window.cancelIdleCallback||function(e){clearTimeout(e)},l=window.IntersectionObserver&&new window.IntersectionObserver((function(e){e.forEach((function(e){var t=e.intersectionRatio,link=e.target;t<=0||link.__prefetch()}))}));t.a={name:"NuxtLink",extends:n.default.component("RouterLink"),props:{prefetch:{type:Boolean,default:!1},noPrefetch:{type:Boolean,default:!1}},mounted:function(){this.prefetch&&!this.noPrefetch&&(this.handleId=o(this.observe,{timeout:2e3}))},beforeDestroy:function(){c(this.handleId),this.__observed&&(l.unobserve(this.$el),delete this.$el.__prefetch)},methods:{observe:function(){l&&this.shouldPrefetch()&&(this.$el.__prefetch=this.prefetchLink.bind(this),l.observe(this.$el),this.__observed=!0)},shouldPrefetch:function(){return this.getPrefetchComponents().length>0},canPrefetch:function(){var e=navigator.connection;return!(this.$klook.isOffline||e&&((e.effectiveType||"").includes("2g")||e.saveData))},getPrefetchComponents:function(){return this.$router.resolve(this.to,this.$route,this.append).resolved.matched.map((function(e){return e.components.default})).filter((function(e){return"function"==typeof e&&!e.options&&!e.__prefetched}))},prefetchLink:function(){if(this.canPrefetch()){l.unobserve(this.$el);var e=this.getPrefetchComponents(),t=!0,r=!1,n=void 0;try{for(var o,c=e[Symbol.iterator]();!(t=(o=c.next()).done);t=!0){var d=o.value,_=d();_ instanceof Promise&&_.catch((function(){})),d.__prefetched=!0}}catch(e){r=!0,n=e}finally{try{t||null==c.return||c.return()}finally{if(r)throw n}}}}}}},215:function(e,t,r){"use strict";function n(){var body=document.body,html=document.documentElement,e=Math.max(body.scrollHeight,body.offsetHeight,html.clientHeight,html.scrollHeight,html.offsetHeight),t=window.innerHeight||document.documentElement.clientHeight||document.getElementsByTagName("body")[0].clientHeight;return e>t?e-t:0}function o(){return document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop}function c(){return document.documentElement.clientHeight}r.d(t,"c",(function(){return l})),r.d(t,"a",(function(){return d})),r.d(t,"b",(function(){return _}));var l=o,d=function(e){if(e){var t=o();return parseInt(e.getBoundingClientRect().top+t)}return 0},_=function(e){var t,r=e.scrollY,l=void 0===r?0:r,d=e.lockType,_=void 0===d?"free":d,f=e.duration,m=void 0===f?200:f,h=e.callback,v=e.lockLocation,y=void 0===v?0:v,k=o(),T=n(),S={top:0,middle:c()/2,bottom:c(),free:y},E=1e3*((l=T<=(l=l<0?0:l-S[_])?T:l)-k)/60/m;t=requestAnimationFrame((function e(){var r=o();if(E>0&&r+E>l||E<0&&r+E<l||0===E)window.scrollTo(0,l),cancelAnimationFrame(t),h&&"function"==typeof h&&h(l,t);else{window.scrollTo(0,r+=E);var c=o();if(n()<=c||0===c)return cancelAnimationFrame(t),void(h&&"function"==typeof h&&h(l,t));t=requestAnimationFrame(e)}}))}},22:function(e,t,r){"use strict";r.d(t,"i",(function(){return m})),r.d(t,"a",(function(){return h})),r.d(t,"n",(function(){return v})),r.d(t,"e",(function(){return y})),r.d(t,"f",(function(){return k})),r.d(t,"c",(function(){return T})),r.d(t,"m",(function(){return S})),r.d(t,"h",(function(){return E})),r.d(t,"o",(function(){return w})),r.d(t,"j",(function(){return I})),r.d(t,"l",(function(){return R})),r.d(t,"d",(function(){return A})),r.d(t,"b",(function(){return j})),r.d(t,"g",(function(){return x})),r.d(t,"k",(function(){return C}));r(16),r(12);var n=r(15),o=(r(30),r(100),r(241),r(6)),c=(r(58),r(59),r(81),r(119),r(25),r(11),r(1)),l=(r(35),r(9),r(7),r(10),r(24),r(0)),d=r(2);function _(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function f(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?_(Object(source),!0).forEach((function(t){Object(l.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):_(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}function m(e){d.default.config.errorHandler&&d.default.config.errorHandler(e)}function h(e,t){if(t||!e.options.__hasNuxtData){var r=e.options._originDataFn||e.options.data||function(){return{}};e.options._originDataFn=r,e.options.data=function(){var data=r.call(this,this);return this.$ssrContext&&(t=this.$ssrContext.asyncData[e.cid]),f({},data,{},t)},e.options.__hasNuxtData=!0,e._Ctor&&e._Ctor.options&&(e._Ctor.options.data=e.options.data)}}function v(e){return e.options&&e._Ctor===e?e:(e.options?(e._Ctor=e,e.extendOptions=e.options):(e=d.default.extend(e))._Ctor=e,!e.options.name&&e.options.__file&&(e.options.name=e.options.__file),e)}function y(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"components";return Array.prototype.concat.apply([],e.matched.map((function(e,n){return Object.keys(e[r]).map((function(o){return t&&t.push(n),e[r][o]}))})))}function k(e){return y(e,arguments.length>1&&void 0!==arguments[1]&&arguments[1],"instances")}function T(e,t){return Array.prototype.concat.apply([],e.matched.map((function(e,r){return Object.keys(e.components).reduce((function(n,o){return e.components[o]?n.push(t(e.components[o],e.instances[o],e,o,r)):delete e.components[o],n}),[])})))}function S(e,t){return Promise.all(T(e,function(){var e=Object(c.a)(regeneratorRuntime.mark((function e(r,n,o,c){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("function"!=typeof r||r.options){e.next=4;break}return e.next=3,r();case 3:r=e.sent;case 4:return o.components[c]=r=v(r),e.abrupt("return","function"==typeof t?t(r,n,o,c):r);case 6:case"end":return e.stop()}}),e)})));return function(t,r,n,o){return e.apply(this,arguments)}}()))}function E(e){return O.apply(this,arguments)}function O(){return(O=Object(c.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,S(t);case 4:return e.abrupt("return",f({},t,{meta:y(t).map((function(e,r){return f({},e.options.meta,{},(t.matched[r]||{}).meta)}))}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e,t){return P.apply(this,arguments)}function P(){return(P=Object(c.a)(regeneratorRuntime.mark((function e(t,r){var c,l,d,_;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.context||(t.context={isStatic:!1,isDev:!1,isHMR:!1,app:t,store:t.store,payload:r.payload,error:r.error,base:"/",env:{BASE_LINK:"",API_URL:"http://elb-apiv2.klook.io",API_URL_BROWSER:"/",LOGQUERY_URL_NATS:"nats://nlb-nats.klook.io:6222",LOGQUERY_URL:"https://log.klook.com/v2/frontlogsrv/log/web",LOGQUERY_URL_V3:"https://log.klook.com/v3/frontlogsrv/log/web",SLACK_ALERT_URL:"https://hooks.slack.com/services/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",GTM_ID:"GTM-5NWTPH",MIXPANEL_ID:"c2ca8b423fd75a10792debf44cd6b51a",WHITELABEL_GTM_ID:"GTM-5LZNQKB",APP_ENV:"production"}},r.req&&(t.context.req=r.req),r.res&&(t.context.res=r.res),r.ssrContext&&(t.context.ssrContext=r.ssrContext),t.context.redirect=function(e,path,r){var n=+new Date,c=void 0!==arguments?arguments:null,l=function(e){if("undefined"!=typeof __in_house&&__in_house.get_spm_info)try{var t=+new Date-n;e=__in_house.get_spm_info(e,{duration:t,args:c})}catch(e){console.warn("Get spm info error",e)}return e};if(e){t.context._redirected=!0;var d=Object(o.a)(path);if("number"==typeof e||"undefined"!==d&&"object"!==d||(r=path||{},path=e,d=Object(o.a)(path),e=302),"object"===d&&(path=t.router.resolve(path).route.fullPath),!/(^[.]{1,2}\/)|(^\/(?!\/))/.test(path))throw path=U(path,r),window.location.replace(l(l(path))),new Error("ERR_REDIRECT");t.context.next({path:path,query:r,status:e})}},t.context.nuxtState=window.__KLOOK__),e.next=3,Promise.all([E(r.route),E(r.from)]);case 3:c=e.sent,l=Object(n.a)(c,2),d=l[0],_=l[1],r.route&&(t.context.route=d),r.from&&(t.context.from=_),t.context.next=r.next,t.context._redirected=!1,t.context._errored=!1,t.context.isHMR=!1,t.context.params=t.context.route.params||{},t.context.query=t.context.route.query||{};case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e,t){return!e.length||t._redirected||t._errored?Promise.resolve():R(e[0],t).then((function(){return I(e.slice(1),t)}))}function R(e,t){var r;return(r=2===e.length?new Promise((function(r){e(t,(function(e,data){e&&t.error(e),r(data=data||{})}))})):e(t))&&r instanceof Promise&&"function"==typeof r.then?r:Promise.resolve(r)}function A(base,e){var path=decodeURI(window.location.pathname);return"hash"===e?window.location.hash.replace(/^#\//,""):(base&&0===path.indexOf(base)&&(path=path.slice(base.length)),(path||"/")+window.location.search+window.location.hash)}function j(e,t){return function(e){for(var t=new Array(e.length),i=0;i<e.length;i++)"object"===Object(o.a)(e[i])&&(t[i]=new RegExp("^(?:"+e[i].pattern+")$"));return function(r,n){for(var path="",data=r||{},o=(n||{}).pretty?L:encodeURIComponent,c=0;c<e.length;c++){var l=e[c];if("string"!=typeof l){var d=data[l.name||"pathMatch"],_=void 0;if(null==d){if(l.optional){l.partial&&(path+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(Array.isArray(d)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(d)+"`");if(0===d.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var f=0;f<d.length;f++){if(_=o(d[f]),!t[c].test(_))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(_)+"`");path+=(0===f?l.prefix:l.delimiter)+_}}else{if(_=l.asterisk?L(d,!0):o(d),!t[c].test(_))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+_+'"');path+=l.prefix+_}}else path+=l}return path}}(function(e,t){var r,n=[],o=0,c=0,path="",l=t&&t.delimiter||"/";for(;null!=(r=D.exec(e));){var d=r[0],_=r[1],f=r.index;if(path+=e.slice(c,f),c=f+d.length,_)path+=_[1];else{var m=e[c],h=r[2],v=r[3],y=r[4],k=r[5],T=r[6],S=r[7];path&&(n.push(path),path="");var E=null!=h&&null!=m&&m!==h,O="+"===T||"*"===T,w="?"===T||"*"===T,P=r[2]||l,pattern=y||k;n.push({name:v||o++,prefix:h||"",delimiter:P,optional:w,repeat:O,partial:E,asterisk:Boolean(S),pattern:pattern?H(pattern):S?".*":"[^"+N(P)+"]+?"})}}c<e.length&&(path+=e.substr(c));path&&n.push(path);return n}(e,t))}function x(e,t){var r={},n=f({},e,{},t);for(var o in n)String(e[o])!==String(t[o])&&(r[o]=!0);return r}function C(e){var t;if(e.message||"string"==typeof e)t=e.message||e;else try{t=JSON.stringify(e,null,2)}catch(r){t="[".concat(e.constructor.name,"]")}return f({},e,{message:t,statusCode:e.statusCode||e.status||e.response&&e.response.status||500})}window.onKlookReadyCbs=[],window.onKlookReady=function(e){window.onKlookReadyCbs.push(e)};var D=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function L(e,t){var r=t?/[?#]/g:/[/?#]/g;return encodeURI(e).replace(r,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function N(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function H(e){return e.replace(/([=!:$/()])/g,"\\$1")}function U(e,t){var r,o=e.indexOf("://");-1!==o?(r=e.substring(0,o),e=e.substring(o+3)):e.startsWith("//")&&(e=e.substring(2));var c,l=e.split("/"),d=(r?r+"://":"//")+l.shift(),path=l.filter(Boolean).join("/");if(2===(l=path.split("#")).length){var _=l,f=Object(n.a)(_,2);path=f[0],c=f[1]}return d+=path?"/"+path:"",t&&"{}"!==JSON.stringify(t)&&(d+=(2===e.split("?").length?"&":"?")+function(e){return Object.keys(e).sort().map((function(t){var r=e[t];return null==r?"":Array.isArray(r)?r.slice().map((function(e){return[t,"=",e].join("")})).join("&"):t+"="+r})).filter(Boolean).join("&")}(t)),d+=c?"#"+c:""}},261:function(e,t,r){"use strict";r.d(t,"c",(function(){return l})),r.d(t,"b",(function(){return d})),r.d(t,"a",(function(){return _}));var n=r(13),o=(r(9),r(7),r(10),r(14)),c=r.n(o),l={1:"Attractions & Shows",2:"Tours & Sightseeing",3:"Activities & Experiences",4:"Beats Food & Must Eats",5:"Transport & Travel Service"};function d(e){if(!c()(e)){var t={percentageOff:"Percentage Off",percentage_off:"Percentage Off",skip_the_line:"Fast Track",skipTheLine:"Fast Track",newActivity:"New",new_activity:"New",bestseller:"Bestseller",editorChoice:"Editor Choice",editor_choice:"Editor Choice"};return Object.keys(e).reduce((function(r,o){return e[o]?[].concat(Object(n.a)(r),[t[o]]):r}),[])}return["NA"]}function _(){return{deliveryFromId:259692,deliveryToId:259693,messageId:259694,deliveryDateId:259695}}var f={13604:{from_des:"shh",to_des:"bjp"},15244:{from_des:"gzq",to_des:"xja"},13715:{from_des:"szq",to_des:"gzq"},13603:{from_des:"bjp",to_des:"shh"},13908:{from_des:"szh",to_des:"hzh"},13655:{from_des:"bjp",to_des:"xay"},13862:{from_des:"glz",to_des:"szq"},13902:{from_des:"szq",to_des:"xms"},13911:{from_des:"csq",to_des:"diq"},13845:{from_des:"vuq",to_des:"seq"},15714:{from_des:"fzs",to_des:"xja"},13871:{from_des:"cqw",to_des:"cdw"},15725:{from_des:"xms",to_des:"xja"},15811:{from_des:"glz",to_des:"xja"},15797:{from_des:"shh",to_des:"xja"},13708:{from_des:"cdw",to_des:"xay"},15739:{from_des:"csq",to_des:"xja"},15798:{from_des:"whn",to_des:"xja"},15814:{from_des:"giw",to_des:"xja"},15799:{from_des:"zzf",to_des:"xja"},15815:{from_des:"hzh",to_des:"xja"},15816:{from_des:"ncg",to_des:"xja"},15663:{from_des:"bjp",to_des:"xja"},15507:{from_des:"kmm",to_des:"xja"},20480:{from_des:"hzh",to_des:"shh"},20688:{from_des:"gzq",to_des:"zhq"},20393:{from_des:"gzq",to_des:"shh"},20547:{from_des:"gzq",to_des:"hzh"},20406:{from_des:"shh",to_des:"zjh"},20556:{from_des:"hzh",to_des:"zjh"},20440:{from_des:"xay",to_des:"shh"},20637:{from_des:"kmm",to_des:"gzq"},26723:{from_des:"",to_des:""}},m={17136:{from_des:"",to_des:""}};function h(e){return function(t){var r={er:m,cr:f}[e][t];return r?{er:"/europe-rail/?from_des_code=".concat(r.from_des,"&to_des_code=").concat(r.to_des),cr:"/china-train-ticket/?from_des_code=".concat(r.from_des,"&to_des_code=").concat(r.to_des)}[e]:""}}h("cr"),h("er")},262:function(e,t,r){"use strict";r.r(t);r(16),r(12);var n,o=r(66),c=(r(9),r(7),r(10),r(11),r(1)),l=r(0),d=(r(43),r(13)),_=(r(24),r(17),r(19),r(30),r(14)),f=r.n(_),m="Experience",h="Header",v="SubVerticalMenu",y="HotCountry_ActivityLIST",k="TopDestination",T="ThemeActivity_LIST",S="NearbyActivity_LIST",E="NearbyDestination",O="CountrySeoLink",w="CitySeoLink",P="BlogLIST",I="UserReview_UserReviewCardLIST",R="SeoLink",A=r(3);function j(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function x(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?j(Object(source),!0).forEach((function(t){Object(l.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):j(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}function C(e){var t=e.name,data=e.data,r=e.dataType,n=e.sync,o=void 0===n||n,title=e.title,c=e.sub_title,l=e.src,d=e.type,_=void 0===d?"any":d,f=e.more_title,h=e.more_deep_link,v=e.bottom_button_title,y=e.bottom_button_deep_link;return{meta:{type:_,track:null,name:t},data:null,body:{content:{handler:m,data_type:r,load_type:o?"sync":"async",src:l,track:null,data:x({title:title,sub_title:c,more_title:f,more_deep_link:h,bottom_button_title:v,bottom_button_deep_link:y},data)}}}}var D=[h,v,y],L=[h,v,k,T,P,I,O],N=[h,v,T,P,S,E,I,w],H={"world-l0":D,"world-l1":D,"country-l0":L,"country-l1":L,"city-l0":N,"city-l1":N},U={sync:!0,type:"common",required:!1},K=x({},U,{dataType:R,sync:!0,type:"common",title:"",validate:function(e){return e.seo_static_link&&e.seo_static_link.length}});n={},Object(l.a)(n,h,x({},U,{action:"experience/getSectionHeader",sync:!0,type:"any"})),Object(l.a)(n,v,x({},U,{src:A.a.getExperienceActivityNav,sync:!0,type:"any",validate:function(e){return e.categories&&e.categories.length}})),Object(l.a)(n,P,x({},U,{src:A.a.getExperienceBlog,sync:!0,title:"16785",validate:function(e){return e.blogs&&e.blogs.length}})),Object(l.a)(n,I,x({},U,{src:A.a.getExperienceReviewList,sync:!0,type:"common",title:function(e){var t=e.destinationTitle,r=void 0===t?"":t,n=e.categoryTitle;return["23035",{destination:r,keyword:void 0===n?"":n}]},params:function(e){return{city_id:e.cityId,country_id:e.countryId,frontend_id:e.frontendId}},validate:function(e){return e.review_list&&e.review_list.length}})),Object(l.a)(n,k,x({},U,{src:A.a.getExperienceHotCity,sync:!0,title:function(e){var t=e.destinationTitle;return["16792",{destination:void 0===t?"":t}]},validate:function(e){return e.hot_cities&&e.hot_cities.length}})),Object(l.a)(n,E,x({},U,{sync:!1,type:"common",src:A.a.getExperienceNearbyCity,title:"16790",validate:function(e){return e.nearby_city&&e.nearby_city.length}})),Object(l.a)(n,y,x({},U,{sync:!0,type:"common",src:A.a.getExperienceHotCountry,validate:function(e){return e.hot_countries&&e.hot_countries.length}})),Object(l.a)(n,T,x({},U,{src:A.a.getExperienceActivityHighlight,sync:!0,title:"16775",params:function(e){var t=e.cityId,r=e.countryId,n=e.pageType,o=e.frontendId,c="all";return n.includes("city")?c="city":n.includes("country")&&(c="country"),{city_id:t,country_id:r,frontend_id:o,type:c}},validate:function(e){return e.highlight_activities&&e.highlight_activities.length}})),Object(l.a)(n,S,x({},U,{sync:!1,type:"common",src:A.a.getExperienceNearbyActivity,title:function(e){var t=e.destinationTitle;return["16788",{destination:void 0===t?"":t}]},bottom_button_title:"16776",bottom_button_deep_link:function(e){var t=e.cityId,r=e.frontendId;return"/experiences/nearby/?cityId=".concat(t,"&frontendId=").concat(r)},validate:function(e){return e.activities&&e.activities.length}})),Object(l.a)(n,O,x({},K,{src:A.a.experienceCountrySeo,title:"more_recommended"})),Object(l.a)(n,w,x({},K,{src:A.a.experienceCitySeo,title:"more_recommended"}));function $(e,t){return"function"==typeof e?e(t):e}var M,F=r(215);function G(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function B(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?G(Object(source),!0).forEach((function(t){Object(l.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):G(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}r.d(t,"state",(function(){return Y})),r.d(t,"formatRangeData",(function(){return z})),r.d(t,"mutations",(function(){return ae})),r.d(t,"actions",(function(){return ie}));var Y=function(){return{sections:{},sectionList:[],cityId:void 0,countryId:void 0,frontendId:void 0,categoryVisible:!1,currentCategory:{id:0,name:"",deeplink:""},destinationVisible:!1,categoryTreeData:[],rangeData:[],searchResultActivities:[],travelServices:[],searchResultActivitiesCount:0,urlQuery:{keyword:"",sort:"",range_id:"",country_ids:"",city_ids:"",frontend_id_list:"",page:1,size:24,start_date:"",price_from:"",price_to:"",instant:0},searchStartTime:[],priceFrom:0,priceTo:0,searchPageStatus:"default",selectedRanges:null,selectedCategory:null,pageType:"",bannerUrl:"",destinationTitle:"",categoryTitle:"",description:"",breadcrumb:{city:null,country:null,frontend_tree:[]},canAutoScrollToTop:!0,preInfo:{destination_title:"",redirect_url:"",isFromDestination:!1},activities:[]}},V={};function W(e,t,title,r){var n=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return{type:e,id:t,show:!(arguments.length>5&&void 0!==arguments[5])||arguments[5],title:title,expand:!(!V[e]||!V[e][t]),disabled:n,checked:!n&&r,children:null}}function z(e,t){var r=(t.rangeIds||"").split(","),n=(t.countryIds||"").split(","),o=(t.cityIds||"").split(",");return e.map((function(e){var t=!0,c=r.includes(String(e.range_id)),l=W("range",e.range_id,e.range_name,c);return l.children=(e.countries||[]).map((function(e){var r=!0,l=n.includes(String(e.country_id));c&&(l=!0);var d=W("country",e.country_id,e.country_name,l);return d.children=(e.cities||[]).map((function(t){var c=o.includes(String(t.city_id));n.includes(String(e.country_id))&&(c=!0),l&&(c=!0);var d=W("city",t.city_id,t.city_name,c,t.disable);return d.disabled?l=!1:r=!1,d})),d.disabled=r,d.disabled?(c=!1,d.checked=!1):t=!1,d.checked=l,d})),l.disabled=t,l.disabled&&(l.checked=!1),l.checked=c,l}))}var Q,J,Z,X,ee,te,re,ne,ae=(M={},Object(l.a)(M,"SET_ACTIVITIES",(function(e,data){var t=e.urlQuery.page;e.activities=1===t?data:[].concat(Object(d.a)(e.activities),Object(d.a)(data))})),Object(l.a)(M,"SET_PAGE_INFO",(function(e,data){data.cityId&&(e.cityId=Number(data.cityId)),data.countryId&&(e.countryId=Number(data.countryId)),data.frontendId&&(e.frontendId=Number(data.frontendId)),data.type&&(e.pageType=data.type)})),Object(l.a)(M,"SET_DESTINATION_TITLE",(function(e,data){e.destinationTitle=data.destinationTitle,e.categoryTitle=data.categoryTitle,e.description=data.description,e.bannerUrl=data.bannerUrl||"https://res.klook.com/image/upload/v1606978266/ued/ttd/banner/ttd_veritcal_page_banner_experiences.jpg"})),Object(l.a)(M,"SET_SECTIONS",(function(e,data){[].concat(data).forEach((function(t){var r=t.meta.name;r&&(e.sections[r]=t)}))})),Object(l.a)(M,"SET_SECTION_LIST",(function(e,t){e.sectionList=t})),Object(l.a)(M,"CATEGORY_VISIBLE",(function(e,t){e.categoryVisible=t})),Object(l.a)(M,"CHANGE_DESTINATION_VISIBLE",(function(e,t){e.destinationVisible=t})),Object(l.a)(M,"SET_SEARCH_RESULT",(function(e,data){var t=e.urlQuery.frontend_id_list||"",r=e.urlQuery,n=r.range_id,o=r.country_ids,c=r.city_ids;e.categoryTreeData=function(data,e){return data.map((function(t){var r=e.split(",").includes(String(t.id)),n=W("category",t.id,t.name,r,!t.enable);return n.children=t.children?t.children.map((function(t){var n=e.split(",").includes(String(t.id));return r&&(n=!0),W("category",t.id,t.name,n,!t.enable)})):null,n}))}(data.categoryTreeData,t),e.rangeData=z(data.rangeData,{rangeIds:n,countryIds:o,cityIds:c}),e.searchResultActivities=data.searchResultActivities,e.travelServices=data.travelServices,e.searchResultActivitiesCount=data.searchResultActivitiesCount,e.searchStartTime=data.searchStartTime})),Object(l.a)(M,"SET_URL_QUERY",(function(e,t){var r=JSON.parse(JSON.stringify(e.urlQuery)),data=Object.assign(r,t);e.urlQuery.keyword=data.keyword,e.urlQuery.keyword_id=data.keyword_id,e.urlQuery.sort=data.sort||"",e.urlQuery.range_id=data.range_id||"",e.urlQuery.country_ids=data.country_ids||"",e.urlQuery.city_ids=data.city_ids||"",e.urlQuery.frontend_id_list=data.frontend_id_list||"",e.urlQuery.page=data.page||1,e.urlQuery.size=data.size||24,e.urlQuery.start_date=data.start_date||"",e.urlQuery.price_from=data.price_from||"",e.urlQuery.price_to=data.price_to||"",e.urlQuery.instant=data.instant||0})),Object(l.a)(M,"SET_FILTER_PRICE",(function(e,data){e.priceFrom=Number(data.priceFrom),e.priceTo=Number(data.priceTo)})),Object(l.a)(M,"SET_STATUS",(function(e,t){e.searchPageStatus=t})),Object(l.a)(M,"SET_SELECTED_RANGES",(function(e,data){e.selectedRanges=data})),Object(l.a)(M,"SET_SELECTED_CATEGORY",(function(e,data){e.selectedCategory=data})),Object(l.a)(M,"SET_BREADCRUMB",(function(e,data){e.breadcrumb=data})),Object(l.a)(M,"SET_PRE_INFO",(function(e,data){e.preInfo=data})),Object(l.a)(M,"SET_CAN_AUTO_SCROLL_TO_TOP",(function(e,data){e.canAutoScrollToTop=data})),M),ie={setSectionList:function(e,t){(0,e.commit)("SET_SECTION_LIST",H[t]||[])},changeCategoryVisible:function(e,t){(0,e.commit)("CATEGORY_VISIBLE",t)},changeDestinationVisible:function(e,t){(0,e.commit)("CHANGE_DESTINATION_VISIBLE",t)},createSection:(ne=Object(c.a)(regeneratorRuntime.mark((function e(t,r){var n,o,c,l,d,_,m,h,v,y,k,T,S,E,O,w;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.commit,o=t.state,c=r.name,l=r.dataType,d=r.sync,_=r.src,m=r.required,h=r.validate,v=o.cityId,y=o.countryId,k=o.frontendId,f()(o.sections[c])){e.next=5;break}return e.abrupt("return",!0);case 5:if(T={bottom_button_deep_link:$(r.bottom_button_deep_link,o),title:$(r.title,o)},d){e.next=9;break}return n("SET_SECTIONS",C(B({name:c,dataType:l||c},r,{},T))),e.abrupt("return",!0);case 9:return S=$(r.params,o)||{city_id:v,country_id:y,frontend_id:k},e.prev=10,e.next=13,this.$axios.$get(_,{params:S,timeout:m?0:3e3});case 13:if(E=e.sent,O=E.success,w=E.result,O&&w){e.next=18;break}return e.abrupt("return",!m);case 18:if(!h||h(w)){e.next=20;break}return e.abrupt("return",!m);case 20:return n("SET_SECTIONS",C(B({name:c,dataType:l||c},r,{data:w},T))),e.abrupt("return",!0);case 24:return e.prev=24,e.t0=e.catch(10),e.abrupt("return",!m);case 27:case"end":return e.stop()}}),e,this,[[10,24]])}))),function(e,t){return ne.apply(this,arguments)}),getSectionHeader:function(e,t){var r=e.commit,n=e.state,o=n.categoryTitle,c=n.description,l=n.destinationTitle,d=n.bannerUrl;return r("SET_SECTIONS",C({name:t.name,dataType:h,data:{backgroundUrl:d,vertical:{title:o,deepLink:"/v1/experiencesrv/home/filter/category"},description:c,destination:{title:l,deepLink:"/v1/experiencesrv/home/filter/destination"},search:{placeholder:""}}})),!0},fetchHeaderInfo:(re=Object(c.a)(regeneratorRuntime.mark((function e(t,r){var n,o,c,l,d,_,f,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.commit,e.prev=1,e.next=4,this.$axios.$get(A.a.getExperienceMainBanner,{params:{frontend_id:r.frontendId,city_id:r.cityId,country_id:r.countryId},throwError:!0});case 4:o=e.sent,c=o.success,l=o.result,c&&l&&(d=l.destination_title,_=l.description,f=l.category_title,m=l.banner_url,n("SET_DESTINATION_TITLE",{destinationTitle:d,categoryTitle:f,description:_,bannerUrl:m})),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(1);case 12:case"end":return e.stop()}}),e,this,[[1,10]])}))),function(e,t){return re.apply(this,arguments)}),getPageInfo:function(e,t){var r=e.commit,n=t.frontendId;r("SET_PAGE_INFO",{cityId:t.cityId,countryId:t.countryId,frontendId:n,type:t.type})},setUrlQuery:(te=Object(c.a)(regeneratorRuntime.mark((function e(t,data){var r,n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.commit,n=t.dispatch,o=t.state,r("SET_URL_QUERY",data),e.next=4,n("getSearchResult",o.urlQuery);case 4:r("SET_CAN_AUTO_SCROLL_TO_TOP",!0);case 5:case"end":return e.stop()}}),e)}))),function(e,t){return te.apply(this,arguments)}),formatQuery:function(e,t){(0,e.commit)("SET_URL_QUERY",B({},t));var r={};return Object.keys(t).forEach((function(e){t[e]&&(r[e]=t[e])})),r},setWindowHistory:function(e){var t=e.state.urlQuery,r=[];Object.keys(t).forEach((function(e){!t[e]||"page"===e&&1===t[e]||r.push("".concat(e,"=").concat(t[e]))}));var n="?"+r.join("&");window.history.replaceState(null,"",n)},getSearchResult:(ee=Object(c.a)(regeneratorRuntime.mark((function e(t,r){var n,o,c,l,b,d,_,f,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.commit,o=t.dispatch,c=t.state,n("SET_STATUS","loading"),l=!1,b=setTimeout((function(){l=!0,clearTimeout(b)}),800),e.next=6,o("formatQuery",r);case 6:return d=e.sent,_=A.a.experiencesrvSearch,"search"!==c.pageType&&(_=A.a.getExperienceCategoryActivity,d.page&&(d.start=d.page,delete d.page)),"mfo"===c.pageType&&(_=A.a.experienceMFOActivityList),!d.size&&(d.size=24),e.prev=11,e.next=14,this.$axios.$get(_,{params:d});case 14:if(!(f=e.sent).success||!f.result){e.next=23;break}n("SET_SEARCH_RESULT",{rangeData:f.result.ranges||[],categoryTreeData:f.result.frontend_tree_mapping||[],searchResultActivities:f.result.activities||[],travelServices:f.result.travel_services||[],searchResultActivitiesCount:f.result.total||0,searchStartTime:f.result.start_time||[]}),n("SET_ACTIVITIES",f.result.activities),n("SET_FILTER_PRICE",{priceFrom:(f.result.price||{}).from||0,priceTo:(f.result.price||{}).to||0}),o("setWindowHistory"),l?n("SET_STATUS","success"):a=setTimeout((function(){n("SET_STATUS","success"),clearTimeout(a)}),500),e.next=25;break;case 23:return n("SET_STATUS","fail"),e.abrupt("return",null);case 25:e.next=31;break;case 27:return e.prev=27,e.t0=e.catch(11),n("SET_STATUS","fail"),e.abrupt("return",null);case 31:case"end":return e.stop()}}),e,this,[[11,27]])}))),function(e,t){return ee.apply(this,arguments)}),scrollToListTop:function(e){if(e.state.canAutoScrollToTop&&window&&window.document){var t=window.document.querySelector(".js-category-tree-and-activity-list"),r=Object(F.a)(t)+-120;Object(F.b)({scrollY:r})}},getDestination:(X=Object(c.a)(regeneratorRuntime.mark((function e(t){var r,n,o,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.state,n=r.cityId,o=r.countryId,c=r.frontendId,e.next=4,this.$axios.$get(A.a.getExperienceDestination,{params:{city_id:n,country_id:o,frontend_id:c}});case 4:return l=e.sent,e.abrupt("return",l);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return X.apply(this,arguments)}),getSearchSuggestions:(Z=Object(c.a)(regeneratorRuntime.mark((function e(t){var r,n,c,l,d,_,f,m,h=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.state,n=h.length>1&&void 0!==h[1]?h[1]:{},c=r.cityId,l=r.countryId,d=r.frontendId,_=n.keyword,f=Object(o.a)(n,["keyword"]),e.next=6,this.$axios.$get(A.a.experienceSearch,B({params:{city_id:c,country_id:l,frontend_id:d,query:_,limit:20,htl_gry:1}},f));case 6:return m=e.sent,e.abrupt("return",m);case 8:case"end":return e.stop()}}),e,this)}))),function(e){return Z.apply(this,arguments)}),setSelectedRanges:function(e,data){(0,e.commit)("SET_SELECTED_RANGES",data)},setSelectedCategory:function(e,data){(0,e.commit)("SET_SELECTED_CATEGORY",data)},setExpandNode:function(e,data){var t=data.type,r=data.id;V[t]?V[t][r]?delete V[t][r]:V[t][r]=data:(V[t]={},V[t][r]=data)},getBreadcrumb:(J=Object(c.a)(regeneratorRuntime.mark((function e(t){var r,n,o,c,l,d,_,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.commit,n=t.state,o=n.cityId,c=n.countryId,l=n.frontendId,e.prev=2,e.next=5,this.$axios.$get(A.a.getBreadcrumb,{params:{city_id:o,country_id:c,frontend_id:l}});case 5:d=e.sent,_=d.success,f=d.result,_&&f&&r("SET_BREADCRUMB",f),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(2);case 13:case"end":return e.stop()}}),e,this,[[2,11]])}))),function(e){return J.apply(this,arguments)}),setCanAutoScrollToTop:function(e,data){(0,e.commit)("SET_CAN_AUTO_SCROLL_TO_TOP",data)},getPreInfo:(Q=Object(c.a)(regeneratorRuntime.mark((function e(t){var r,data,n,o,c,l,d,_,f,m=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.commit,data=m.length>1&&void 0!==m[1]?m[1]:{},n=data.frontendId,o=data.cityId,c=data.countryId,l={frontend_id:n},o&&(l.city_id=o),c&&(l.country_id=o),e.next=8,this.$axios.$get(A.a.getExperiencePreInfo,{params:l});case 8:d=e.sent,_=d.success,f=d.result,_&&f&&r("SET_PRE_INFO",B({},f,{isFromDestination:!(!o&&!c)}));case 12:case"end":return e.stop()}}),e,this)}))),function(e){return Q.apply(this,arguments)})}},266:function(e,t,r){"use strict";r.d(t,"c",(function(){return _})),r.d(t,"f",(function(){return f})),r.d(t,"a",(function(){return m})),r.d(t,"e",(function(){return h})),r.d(t,"b",(function(){return v})),r.d(t,"d",(function(){return k}));r(16),r(12),r(9),r(7),r(10);var n=r(0);r(17),r(19),r(24),r(25);function o(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function c(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?o(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):o(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var l="https://res.klook.com/image/upload/fl_lossy.progressive,",d={activity_card:"".concat(l,"q_65/c_fill,w_800,h_448/activities/"),hot_destination:"".concat(l,"q_65/c_fill,w_480,h_384/cities/"),city_top_banner:"".concat(l,"q_65/c_fill,w_1920,h_450/cities/"),theme_act_pic:"".concat(l,"q_65/c_fill,w_499,h_398/activities/"),m_activity_card_xs:"".concat(l,"q_65/c_fill,w_640,h_368/activities/"),m_activity_card_xs_160:"".concat(l,"q_65/c_fill,w_160,h_160/activities/"),m_activity_card_xs_288:"".concat(l,"q_65/c_fill,w_288,h_288/activities/"),m_country_destination:"".concat(l,"q_95/c_fill,w_336,h_188/cities/"),my_reviews:"".concat(l,"q_95/c_fill,w_240,h_160/activities/"),m_hot_destination:"".concat(l,"q_95/c_fill,w_400,h_533/cities/"),fnb_mvp_activites:"".concat(l,"q_65/c_fill,w_372,h_372/activities/"),other_about:"".concat(l,"q_65/c_fill,w_372,h_372/activities/"),recently_purchase:"".concat(l,"q_65/c_fill,w_192,h_144,f_auto/activities/")};function _(e,t,r,n){if(/^https?:\/\//.test(e))return e;var o=d[t]||"",c="".concat(o).concat(e);return r&&c.indexOf("res.klook.com")>0&&(c=c.replace(/.(jpg|png|jpeg|gif)$/,".webp")),"activity_card"===t&&(c=c.replace("w_800,h_448","w_750,h_420"),n||(c=c.replace("w_750,h_420","w_375,h_210"))),"m_activity_card_xs_288"===t&&(n||(c=c.replace("w_288,h_288","w_144,h_144"))),c}function f(e,t,r,n,o){var c=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],l=e||"";if(t&&e){var d=t+"fl_lossy.progressive,q_85/",_=n>0?",h_"+n+"/":"/";l=(l=l.replace(t,d)).replace(d,d+(c?"c_fill,":"")+"w_"+r+_),o&&l.indexOf("res.klook.com")>0&&(l=l.replace(/.(jpg|png|jpeg|gif)$/,".webp"))}return l}function m(e){var t="https://cdn.klook.com/upload/img200X200/";return e&&e!==t&&"avatar.png"!==e?/^https?:\/\//.test(e)?e:"".concat(t).concat(e):"".concat(t,"avatar.png")}function h(e,t){var r=e;return t&&r&&r.includes("res.klook.com")&&(r=r.replace(/.(jpg|png|jpeg|gif)$/,".webp")),r}function v(e){var t,r,n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(null===(n=null===(t=e)||void 0===t?void 0:(r=t).includes)||void 0===n?void 0:n.call(r,"res.klook.com")))return e;var c=[];o.width&&c.push("w_".concat(o.width)),o.height&&c.push("h_".concat(o.height)),o.isFill&&c.push("c_fill");var l=c.length?"/".concat(c.join(",")):"",d=o.sectionStr||"image/upload";return e.replace(d,"".concat(d,"/fl_lossy.progressive,q_85").concat(l))}var y={quality:85,waterMark:!1,blur:0,customize:""},k={desktopActivityCard:c({},y,{w:550,h:308}),homePageThemeListBg:c({},y,{w:1160,h:370}),homePageFnbCard:c({},y,{w:420,h:280}),HomePagePromoteCard:c({},y,{w:746,h:560}),HomePagePromoteVideoBg:c({},y,{w:770,h:371}),homePageCampaign:c({},y,{w:1160,h:180}),hotCityCard:c({},y,{w:352,h:470}),mobileActivityCardLarge:c({},y,{w:375,h:210}),promote:c({},y,{w:800,h:510}),mobileActivityCardXs:c({},y,{w:200,h:300}),desktopActivityDetailImages:c({},y,{w:220,h:120}),headerRecentlyView:c({},y,{w:160,h:120}),desktopEventDetailBanner:c({},y,{w:1160,h:460,quality:0}),mobileEventDetailBanner:c({},y,{w:375,h:196,quality:0}),desktopEventDetailMap:c({},y,{w:790,h:316,quality:0}),mobileEventDetailMap:c({},y,{w:343,h:316,quality:0}),hotDestinationsImg:c({},y,{w:260,h:148}),cityHeaderMainImg:c({},y,{w:904,h:300}),cityHeaderGalleryImg:c({},y,{w:252,h:168}),desktopChatEntranceIcon:c({},y,{w:64,h:64}),desktopChatEntranceIconWithText:c({},y,{w:48,h:48}),mobileChatEntranceIcon:c({},y,{w:96,h:96,quality:100}),mobileChatEntranceIconWithText:c({},y,{w:72,h:72,quality:100}),desktopRelateActivityCard:c({},y,{w:100,h:100,quality:80})}},267:function(e,t,r){"use strict";r.d(t,"a",(function(){return h})),r.d(t,"c",(function(){return v})),r.d(t,"b",(function(){return k})),r.d(t,"d",(function(){return T}));r(274);var n=r(13),o=(r(9),r(7),r(10),r(30),r(15)),c=(r(17),r(19),r(25),r(116)),l=r.n(c),d=r(206),_=r.n(d),f=r(32),m=r(167);function h(e,t,r){var n=e.$i18n.locale,c=t.replace("/".concat(n),""),d=e.$store.state.klook.supportLanguages,_="https://".concat(e.$store.state.klook.host)||!1,h=(t.includes("/".concat(n))?"".concat(_,"/").concat(n).concat(c):"".concat(_).concat(c)).split("?"),v=Object(o.a)(h,2),y=v[0],k=v[1];try{if(r.length>0){var T,S=l.a.parse(k);Object.keys(S).forEach((function(e){r.includes(e)||delete S[e]})),(T=l.a.stringify(S))&&(y+="?".concat(T))}}catch(e){console.log("canonical whitelist err:"+e)}var E=[{hid:"canonical",rel:"canonical",href:y}];return d.forEach((function(e){var t=f.j[e]||e,r="".concat(_,"/").concat(e).concat(c);e===m.a.fallbackLocale&&(t="x-default",r="".concat(_).concat(c)),E.push({hid:"ah-".concat(t),rel:"alternate",href:r,hreflang:t}),"zh-TW"===e&&E.push({hid:"ah-zh-Hant",rel:"alternate",href:r,hreflang:"zh-Hant"})})),E}function v(e){return{meta:[e.$setMeta({name:"viewport",content:"initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, viewport-fit=cover"}),e.$setMeta({name:"apple-mobile-web-app-capable",content:"yes"}),e.$setMeta({name:"apple-touch-fullscreen",content:"yes"}),e.$setMeta({name:"format-detection",content:"telephone=no,email=no"})],link:[],script:[]}}var y={desktop:function(e){return{meta:[e.$setMeta({name:"X-UA-Compatible",content:"IE=edge,chrome=1"}),e.$setMeta({name:"renderer",content:"webkit"}),e.$setMeta({name:"viewport",content:"width=device-width, initial-scale=1"})],link:[],script:[]}},mobile:v};function k(e){var t=e.$i18n.locale,r=e.$store.state.klook.platform,o=e.$store.state.klook.platformMp,c=y[r](e),l=function(e){var t=e.$route.meta,meta=void 0===t?{}:t,r=e.$store.state.klook,n=r.currency,o=r.ipCountry,c=r.backendLanguage,l=_.a.inHTMLData(e.$cookies.get("device_id_new")),data={};return meta.gaPageName&&Object.assign(data,{Currency:n,IPLocationCity:void 0,IPLocationCountry:o,Language:c,Page:meta.gaPageName}),l&&(data.DeviceId=l),data}(e);return{htmlAttrs:{lang:f.j[t]||t},bodyAttrs:{"data-spm-page":e.$route.meta.trackedPageName,class:o?"klook-platform-mp "+(e.$route.meta.bodyClass||""):e.$route.meta.bodyClass},title:e.$t("global.seo.title"),meta:[{charset:"utf-8"},e.$setMeta({name:"keywords",content:e.$t("global.seo.keywords")}),e.$setMeta({name:"description",content:e.$t("global.seo.description")}),e.$setMeta({name:"msvalidate.01",content:"F9AF19DB43086103E6C6EF03373C2EEF"}),e.$setMeta({name:"author",content:e.$t("global.seo.author")}),e.$setMeta({name:"google-site-verification",content:"m-vUVyQRvMiIbMOyDm-13PmkhgZHQ0O3JqRVkfSB7uw"}),e.$setMeta({name:"yandex-verification",content:"794dfaf8476c38c4"}),e.$setMeta({property:"fb:pages",content:"1437638383172374"})].concat(Object(n.a)(c.meta)),link:[{rel:"dns-prefetch",href:"https://res.klook.com"},{rel:"dns-prefetch",href:"https://cdn.klook.com"},{rel:"icon",type:"image/png",href:"https://cdn.klook.com/s/dist_web/favicons/favicon-32x32.png"}].concat(Object(n.a)(c.link)),script:[e.$insetDataLayer(l)].concat(Object(n.a)(c.script),Object(n.a)([{innerHTML:'!function(a,b,c,d,e,f){a.ddjskey=e;a.ddoptions=f||null;var m=b.createElement(c),n=b.getElementsByTagName(c)[0];m.async=1,m.src=d,n.parentNode.insertBefore(m,n)}(window,document,"script","https://js.datadome.co/tags.js","1A2CDFCDF412CD9D3C93BB2E078906", { ajaxListenerPath: true });',type:"text/javascript","data-dome":1,pbody:!0}])),__dangerouslyDisableSanitizers:["script","noscript"]}}function T(e){return"www.klook.cn"===e.$store.state.klook.host?{}:{script:[]}}},273:function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return o}));r(24);var n=[{title:"AU",value:"https://www.klook.com",site:"www.klook.com",language:"en-AU"},{title:"CA",value:"https://www.klook.com",site:"www.klook.com",language:"en-CA"},{title:"CN",value:"https://www.klook.cn",site:"www.klook.cn",language:"zh-CN"},{title:"DE",value:"https://www.klook.com",site:"www.klook.com",language:"de"},{title:"ES",value:"https://www.klook.com",site:"www.klook.com",language:"es"},{title:"FR",value:"https://www.klook.com",site:"www.klook.com",language:"fr"},{title:"GB",value:"https://www.klook.com",site:"www.klook.com",language:"en-GB"},{title:"HK",value:"https://www.klook.com",site:"www.klook.com",language:"zh-HK"},{title:"IT",value:"https://www.klook.com",site:"www.klook.com",language:"it"},{title:"ID",value:"https://www.klook.com",site:"www.klook.com",language:"id"},{title:"IN",value:"https://www.klook.com",site:"www.klook.com",language:"en-IN"},{title:"JP",value:"https://www.klook.com",site:"www.klook.com",language:"ja"},{title:"PH",value:"https://www.klook.com",site:"www.klook.com",language:"en-PH"},{title:"KR",value:"https://www.klook.com",site:"www.klook.com",language:"ko"},{title:"MY",value:"https://www.klook.com",site:"www.klook.com",language:"en-MY"},{title:"NZ",value:"https://www.klook.com",site:"www.klook.com",language:"en-NZ"},{title:"RU",value:"https://www.klook.com",site:"www.klook.com",language:"ru"},{title:"SG",value:"https://www.klook.com",site:"www.klook.com",language:"en-SG"},{title:"TW",value:"https://www.klook.com",site:"www.klook.com",language:"zh-TW"},{title:"US",value:"https://www.klook.com",site:"www.klook.com",language:"en-US"},{title:"VN",value:"https://www.klook.com",site:"www.klook.com",language:"vi"},{title:"TH",value:"https://www.klook.com",site:"www.klook.com",language:"th"},{title:"OTHER",value:"https://www.klook.com",site:"www.klook.com",language:"en"}],o=function(e,t){for(var i=0;i<e.length;i++)for(var r=0;r<t.length;r++){if(e[i].title===t[r].country_code){e[i].languagesKey=t[r].name;break}if("OTHER"===e[i].title){e[i].languagesKey="cn.international.site";break}}return e}},278:function(e,t,r){"use strict";t.a={language:{key:"klk_lang",lifetime:2592e6},currency:{key:"klk_currency",lifetime:6048e5},retina:{key:"retina_support",lifetime:2592e6},deviceId:{key:"device_id_new",lifetime:2592e6},platform:{key:"klk_platform_status",lifetime:0},token:{key:"_pt",lifetime:6048e5}}},280:function(e,t,r){"use strict";r(16),r(12),r(9),r(7),r(10);var n=r(0),o=(r(25),r(132)),c=r.n(o),l=r(380),d=r.n(l);r(274),r(58),r(59),r(30),r(81);function _(){}_.prototype.render=function(e){var t,r,n=e.walker();for(this.buffer="",this.lastOut="\n";t=n.next();)this[r=t.node.type]&&this[r](t.node,t.entering);return console.log(this.allItems),this.buffer},_.prototype.renderAst=function(e){var t,r,n=e.walker();for(this.buffer="",this.lastOut="\n",this.allItems=[];t=n.next();)this[r=t.node.type]&&this[r](t.node,t.entering);return function(e){e&&e.length>0&&"title"!=e[0].type&&"section_title"!=e[0].type&&(e[0].props.margin_top=(e[0].props.margin_top||0)+16);return e}(this.allItems)},_.prototype.out=function(e){this.lit(e)},_.prototype.lit=function(e){this.buffer+=e,this.lastOut=e},_.prototype.cr=function(){"\n"!==this.lastOut&&this.lit("\n")};var f=function(s){switch(s){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";default:return s}};var m=function(s,e){var t=new RegExp('[&<>"]',"g"),r=new RegExp('&(?:#x[a-f0-9]{1,8}|#[0-9]{1,8}|[a-z][a-z0-9]{1,31});|[&<>"]',"gi");return t.test(s)?e?s.replace(r,f):s.replace(t,f):s},h=/^javascript:|vbscript:|file:|data:/i,v=/^data:image\/(?:png|gif|jpeg|webp)/i,y=function(e){return h.test(e)&&!v.test(e)};function k(e){(e=e||{}).softbreak=e.softbreak||"\n",this.disableTags=0,this.lastOut="\n",this.options=e,this.allItems=[],this._tag=void 0,this._props={},this._content="",this._inImage=!1,this._order=0}k.prototype=Object.create(_.prototype),k.prototype.text=function(e){this.out(e.literal),this._inImage?this._props.alt=e.literal:this._content+=m(e.literal,!1)},k.prototype.html_inline=function(e){this.options.safe?this.lit("\x3c!-- raw HTML omitted --\x3e"):this.lit(e.literal)},k.prototype.html_block=function(e){this.cr(),this.options.safe?this.lit("\x3c!-- raw HTML omitted --\x3e"):this.lit(e.literal),this.cr()},k.prototype.softbreak=function(){this.lit(this.options.softbreak),"paragraph"==this._tag||"item"==this._tag||this._tag,this._content+=" "},k.prototype.linebreak=function(){this.tag("br",[],!0),this.cr(),"paragraph"!=this._tag&&"item"!=this._tag&&"order_item"!=this._tag||(this._content+="\n")},k.prototype.link=function(e,t){var r=this.attrs(e);t?(this.options.safe&&y(e.destination)||r.push(["href",m(e.destination,!0)]),e.title&&r.push(["title",m(e.title,!0)]),this.tag("a",r)):this.tag("/a");var n=this.attrs(e);t?(this.options.safe&&y(e.destination)||n.push(["href",m(e.destination,!0)]),e.title&&n.push(["title",m(e.title,!0)]),this._content+=this.getTagContent("a",n)):this._content+=this.getTagContent("/a")},k.prototype.image=function(e,t){t?(0===this.disableTags&&(this.options.safe&&y(e.destination)?this.lit('<img src="" alt="'):this.lit('<img src="'+m(e.destination,!0)+'" alt="')),0===this.disableTags&&("paragraph"==this._tag&&(this._inParagraph=!0,this.closeLastItem()),this._tag="image",this._props.src=e.destination,this._inImage=!0),this.disableTags+=1):(this.disableTags-=1,0===this.disableTags&&(e.title&&this.lit('" title="'+m(e.title,!0)),this.lit('" />')),0===this.disableTags&&(e.title&&(this._props.title=e.title),this.closeLastItem(),this._inImage=!1,this._tag="paragraph"))},k.prototype.emph=function(e,t){t?(this.tag(t?"em":"/em"),0===this.disableTags&&(this._content+=this.getTagContent("em"))):(this.tag(t?"em":"/em"),0===this.disableTags&&(this._content+=this.getTagContent("/em")))},k.prototype.strong=function(e,t){t?(this.tag(t?"strong":"/strong"),0===this.disableTags&&(this._content+=this.getTagContent("strong"))):(this.tag(t?"strong":"/strong"),0===this.disableTags&&(this._content+=this.getTagContent("/strong")))},k.prototype.paragraph=function(e,t){var r=e.parent.parent,n=this.attrs(e);null!==r&&"list"===r.type||(t?(this.cr(),this.tag("p",n)):(this.tag("/p"),this.cr()),t?this._tag="paragraph":this.closeLastItem())},k.prototype.heading=function(e,t){var r="h"+e.level,n=this.attrs(e);t?(this.cr(),this.tag(r,n)):(this.tag("/"+r),this.cr()),t?6==e.level?this._tag="section_title":1==e.level?this._tag="title":this._tag="sub_title":this.closeLastItem()},k.prototype.code=function(e){this.tag("code"),this.out(e.literal),this.tag("/code")},k.prototype.code_block=function(e){var t=e.info?e.info.split(/\s+/):[],r=this.attrs(e);t.length>0&&t[0].length>0&&r.push(["class","language-"+m(t[0],!0)]),this.cr(),this.tag("pre"),this.tag("code",r),this.out(e.literal),this.tag("/code"),this.tag("/pre"),this.cr()},k.prototype.thematic_break=function(e){var t=this.attrs(e);this.cr(),this.tag("hr",t,!0),this.cr()},k.prototype.block_quote=function(e,t){var r=this.attrs(e);t?(this.cr(),this.tag("blockquote",r),this.cr()):(this.cr(),this.tag("/blockquote"),this.cr())},k.prototype.list=function(e,t){var r="bullet"===e.listType?"ul":"ol",n=this.attrs(e);if(t){var o=e.listStart;null!==o&&1!==o&&n.push(["start",o.toString()]),this.cr(),this.tag(r,n),this.cr()}else this.cr(),this.tag("/"+r),this.cr();if(t)this._list_type=r,this._open_list=!0;else if(this._list_type=void 0,this.allItems.length>0){var c=this.allItems[this.allItems.length-1];"item"!=c.type&&"order_item"!=c.type||(c.props.is_last=!0)}},k.prototype.item=function(e,t){var r=this.attrs(e);t?this.tag("li",r):(this.tag("/li"),this.cr()),t?"ul"==this._list_type?this._tag="item":this._tag="order_item":this.closeLastItem()},k.prototype.custom_inline=function(e,t){t&&e.onEnter?this.lit(e.onEnter):!t&&e.onExit&&this.lit(e.onExit)},k.prototype.custom_block=function(e,t){this.cr(),t&&e.onEnter?this.lit(e.onEnter):!t&&e.onExit&&this.lit(e.onExit),this.cr()},k.prototype.out=function(s){this.lit(m(s,!1))},k.prototype.tag=function(e,t,r){if(!(this.disableTags>0)){if(this.buffer+="<"+e,t&&t.length>0)for(var n,i=0;void 0!==(n=t[i]);)this.buffer+=" "+n[0]+'="'+n[1]+'"',i++;r&&(this.buffer+=" /"),this.buffer+=">",this.lastOut=">"}},k.prototype.getTagContent=function(e,t,r){if(this.disableTags>0)return"";var n="";if(n+="<"+e,t&&t.length>0)for(var o,i=0;void 0!==(o=t[i]);)n+=" "+o[0]+'="'+o[1]+'"',i++;return r&&(n+=" /"),n+=">"},k.prototype.closeLastItem=function(){if(this._tag){if("paragraph"!=this._tag||""!=this._content.replace(/^\s|\s$/,"")){var e={type:this._tag,content:this._content,props:this._props};"order_item"==this._tag?(this._order+=1,e.props.order=this._order):this._order=0,!this._open_list||"item"!=this._tag&&"order_item"!=this._tag||(this._props.is_first=!0,this._open_list=!1),this.allItems.push(e)}this._tag=null,this._content="",this._props={}}},k.prototype.attrs=function(e){var t=[];if(this.options.sourcepos){var r=e.sourcepos;r&&t.push(["data-sourcepos",String(r[0][0])+":"+String(r[0][1])+"-"+String(r[1][0])+":"+String(r[1][1])])}return t};var T=k,S=r(5);function E(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function O(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?E(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):E(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}r.d(t,"a",(function(){return R})),r.d(t,"b",(function(){return A})),r.d(t,"c",(function(){return j}));var w=new c.a.Converter;function P(e){if("paragraph"===e.type){var t=/^<strong>(.+)<\/strong>$/.exec(e.content),r=/^<em>(.+)<\/em>$/.exec(e.content);if(t)return{type:"title",content:t[1].replace(/<\/?strong>/g,"")};if(r)return{type:"sub_title",content:r[1].replace(/<\/?em>/g,"")}}return e}function I(e,content,t){return t?"<".concat(e,' class="').concat(t,'">').concat(content,"</").concat(e,">"):"<".concat(e,">").concat(content,"</").concat(e,">")}function R(e){var t=new d.a.Parser,r=new T,n=t.parse(e),o=r.renderAst(n);if(o&&o.length>0)for(var i=0,c=o.length;i<c;i++)o[i]=P(o[i]);return o}function A(e,header){if(!Array.isArray(e)||0===e.length)return"";var t=e[0];return header&&("paragraph"===t.type&&t.content==="<strong>"+header+"</strong>"||"title"===t.type&&t.content===header)&&(e=e.slice(1)),function(e){for(var t=[],i=0,r=e.length;i<r;i++){var n=O({},e[i]);n.content=Object(S.M)(n.content),"title"===n.type?n.props&&n.props.has_style?t.push(I("h4",n.content,"has_style")):t.push(I("h4",n.content)):"sub_title"===n.type?t.push(I("h5",n.content)):"section_title"===n.type?t.push(I("h6",n.content)):"item"===n.type?(n.props.is_first&&t.push("<ul>"),t.push(I("li",n.content)),n.props.is_last&&t.push("</ul>")):"order_item"===n.type?(n.props.is_first&&t.push("<ol>"),t.push(I("li",n.content)),n.props.is_last&&t.push("</ol>")):"paragraph"===n.type?e[i+1]&&"paragraph"===P(e[i+1]).type?t.push(I("p",n.content,"p_followed")):t.push(I("p",n.content)):"image"===n.type&&(t.push('<img src="'.concat(n.props.src,'"')),n.props.alt&&t.push(' alt="'.concat(n.props.alt,'" ')),n.props.title&&t.push(' title="'.concat(n.props.title,'" ')),t.push(">"))}return t.join("")}(e)}function j(e){return e?w.makeHtml(e):e}w.setOption("tables",!0)},287:function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return o}));r(30),r(67);function n(e){var t=(e||navigator.userAgent).match(/klook\/(\d+\.)+\d+/);return!!t&&t[0].split("/")[1]}function o(e,t){var r=e.split("."),n=t.split("."),c=r[0]-n[0];return 0===c&&e!==t?o(r.splice(1).join("."),n.splice(1).join(".")):c}},3:function(e,t,r){"use strict";r.d(t,"b",(function(){return c}));var n=r(33),o={verify:"/v3/userserv/user/profile_service/get_simple_profile_by_token",profile:"/v3/userserv/user/profile_service/get_my_profile_by_token",simpleProfile:"/v3/userserv/user/profile_service/get_simple_profile_by_token",userprofileserv:"/v1/userprofileserv/collector",jsessionId:"/v1/usrcsrv/session/getkey",unreview:"/v1/usrcsrv/myreviews/unreview",updateBanner:"/v1/usrcsrv/component/campaign/banner",taiwanCoupon:"/v1/cashier/asset_voucher/klook_guolv/query",menus:"/v1/usrcsrv/vertical/menu?source=3",regions:"/v1/websrv/ranges",hotDestinations:"/v1/usrcsrv/generic/types/102",search:"/v1/usrcsrv/search/suggest",search_suggest:"/v1/searchapisrv/activity/custom_service/suggest_v2",changeLanguage:"/v3/userserv/user/profile_service/change_language",changeCurrency:"/v3/userserv/user/profile_service/change_currency",dealsPage:"/v1/usrcsrv/jenga/page/deals_page",memberShipOrderDetail:"/v1/mpsrv/jenga_page/order_detail",memberShip:"/v1/mpsrv/jenga/page/product_page",memberShipBenefit:"/v1/mpsrv/benefit/info",memberShipAddCart:"/v1/mpsrv/order/add/shoppingcart",memberOrderSettlement:"/v1/mpsrv/order/settlement",memberOrderCouponList:"/v1/mpsrv/order/benefit/detail",memberOrderGenerate:"/v1/mpsrv/order/generate",memberRefundReasons:"/v1/mpsrv/get/refund/reasons",memberRefundApply:"/v1/mpsrv/order/refund/apply",memberRefundDetail:"/v1/mpsrv/order/refund/detail",wishListAdd:"/v3/usrcsrv/publish/wishlist/add",wishListCancel:"/v3/usrcsrv/publish/wishlist/cancel",billboardGroup:"/v1/usrcsrv/billboard/group",billboardGroupDestinations:"/v1/usrcsrv/billboard/group/destinations",commonCoupon:"/v1/usrcsrv/refer/amount",inviteCoupon:"/v1/usrcsrv/refer/friends",newInviteCoupon:"/v1/couponapisrv/refer/description",recentlyView:"/v1/usrcsrv/home/recently/viewed",shoppingCartCount:"/v3/order/shoppingcart/count",shoppingCartList:"/v3/order/shoppingcart",conditions:"/v1/usrcsrv/generic/types/:type",emailCreateSubscribe:"/v1/websrv/subscribe/:email/create",emailSendSubscribe:"/v1/websrv/subscribe/:email/send",logout:"/v3/usrcsrv/user/logout",downloadApk:"/web2/download.action",destinationNav:"/v1/usrcsrv/destination/guide",affiliateConf:"/v1/affinternalsrv/aid2uid",faqDetail:"/v1/usrcsrv/faq/detail",faqCategory:"/v1/usrcsrv/faq/category/get",faqSearchSuggest:"/v1/usrcsrv/faq/suggest",categoryFaqs:"/v1/usrcsrv/faq/get/by/category",mostHelpfulFaqs:"/v1/usrcsrv/faq/most/helpful/get",faqFeedback:"/v1/usrcsrv/faq/comment/add",faqHelpful:"/v1/usrcsrv/faq/helpful/info/add",experienceActivityDetail:"/v1/experiencesrv/activity/component_service/detail",experienceFastPassActivityDetail:"/v1/experiencesrv/dock/fast_pass_service/activity_detail",experienceActivityDetailForWhiteLabel:"/v1/experiencesrv/dock/white_label_service/activity_detail",activityDetail:"/v1/usrcsrv/activity/:activityId/detail",activitySchedules:"/v1/usrcsrv/activity/:activityId/schedules",activityReviewGallery:"/v1/usrcsrv/activities/:activityId/images/show",getActivityCards:"/v1/experiencesrv/activity/detail/cards",activityReviewGalleryImages:"/v1/usrcsrv/activities/:activityId/images/get",activityPackageDetail:"/v1/usrcsrv/packages/:packageId/base/published",activityPackageDetailPreview:"/v1/usrcsrv/packages/:packageId/base/all",activityReviews:"/v1/usrcsrv/activities/:activityId/reviews",activityReviewsLikeAdd:"/v1/usrcsrv/review/like/add",reviewFilter:"/v1/usrcsrv/review/filter/info",activityCard:"/v1/usrcsrv/activities/:activityIdList/cards",activityTranslate:"/v2/usrcsrv/translate",activityPriceSchedules:"/v2/usrcsrv/activity/schedules",activityPromotions:"/v1/usrcsrv/activity/package_promo_price",activityPackagePromotion:"/v1/usrcsrv/package/promo_price",activityPackagePriceList:"/v1/experiencesrv/packages/credits_and_promo_price",activityRedirectInfo:"/v1/experiencesrv/activity/detail_service/pre_info",activityTemplate:"/v1/prodbasesrv/activities/:activityId/basic",expressCheckOutRedirect:"/v1/experiencesrv/dock/fast_pass_service/express_check_out_redirect",multiPassReservationPackages:"/v1/experiencesrv/travelpass/service/get_reservation_packages",getBookingDetailsRefundAbleSkus:"/v1/experiencesrv/order/refund_service/get_refund_able_skus",calcBookingDetailsRefundAmount:"/v1/experiencesrv/order/refund_service/calc_refund_amount",submitBookingDetailsRefund:"/v1/experiencesrv/order/refund_service/submit_refund",experienceManageBookingInfos:"/v2/usrcsrv/order/alter/ticket/infos",experienceManageBookingRevert:"/v2/usrcsrv/order/alter/ticket/revert",experienceManageBookingSubmit:"/v2/usrcsrv/order/alter/ticket/submit",experienceManageBookingModify:"/v1/usrcsrv/packages/:packageId/schedules/modify",ptpBasicInfo:"/v1/reappserv/ptp/basic_info",ptpSearchForm:"/v1/reappserv/ptp/:productType/search/form",ptpSearchId:"/v1/reappserv/ptp/:productType/route/search",ptpSearchResult:"/v3/reappserv/ptp/:productType/route/search/result",ptpSearchFilter:"/v3/reappserv/ptp/:productType/route/search/filter",ptpPolicy:"/v1/reappserv/ptp/:productType/route/ticket/policy",ptpFaq:"/v1/reappserv/rail/:productType/richcontent?action=getFaq",ptpRouteDetail:"/v1/reappserv/ptp/:productType/route/detail",ptpRouteSections:"/v3/reappserv/ptp/:productType/route/sections",ptpPackageSelectApiName:"route_detail_package_ticket",ptpTicketSelectApiName:"route_detail_select_ticket",ptpPriceAdd:"/v3/reappserv/ptp/:productType/route/price/add",ptpValidate:"/v2/reappserv/ptp/:productType/route/validate",ptpAddonDetail:"/v1/reappserv/ptp/:productType/addon/detail",ptpHomeSections:"/v2/reappserv/rail/homepage/sections",ptpDlpDetail:"/v1/reappserv/ptp/:productType/dlp_page_detail",ptpDlpMostRoute:"/v1/reappserv/ptp/:productType/dlp_most_route",ptpStationSearch:"/v3/reappserv/ptp/:productType/location/search",ptpNotice:"/v1/reappserv/rail/notice?product_type=:productType&withCredentials=false",ptpDlpSearchForm:"/v1/reappserv/ptp/:productType/search/dlp_form",ptpDlpSearchResult:"/v1/reappserv/ptp/:productType/route/search/dlp_result",ptpCoupons:"/v1/reappserv/ptp/:productType/order/coupon",ptpCouponRedeem:"/v1/reappserv/ptp/:productType/order/redeem",ptpSettlementSections:"/v2/reappserv/ptp/:productType/checkout/sections",ptpSettlementSettle:"/v1/reappserv/ptp/:productType/order/settlement",ptpSettlementOrder:"/v1/reappserv/ptp/:productType/order/create",ptpSettlementStatus:"/v1/reappserv/ptp/order/poll/status",ptpSettlementGetSeats:"/v3/reappserv/ptp/:productType/seat/map",ptpSettlementGetPickupForm:"/v1/reappserv/ptp/:productType/pick_up_option/forms",ptpSettlementGetPassengerType:"/v2/reappserv/ptp/:productType/passenger/type",ptpSettlementGetAddonDetail:"/v1/reappserv/ptp/:productType/addon/detail",ptpSettlementGetAddonSchedule:"/v1/reappserv/ptp/:productType/addon/schedules",ptpWhiteLabelHomeSections:"/v1/reappserv/ptp/whitelabel/home/skeleton",ptpWhiteLabelCheckoutSections:"/v1/reappserv/ptp/whitelabel/checkout/skeleton",ptpWhiteLabelSearchListSections:"/v1/reappserv/ptp/whitelabel/search/result/skeleton",ptpWhiteLabelRouteDetailSkeleton:"/v1/reappserv/ptp/whitelabel/route/detail/skeleton",ptpWhiteLabelOrderDetailSkeleton:"/v1/reappserv/ptp/whitelabel/order/detail/skeleton",updateWishList:"/v1/usrcsrv/wishlist/update",addWishList:"/v1/usrcsrv/wishlist/add",cancelWishList:"/v1/usrcsrv/wishlist/cancel",getWishStatus:"/v1/usrcsrv/favorite_activity",getPackageSchedulesAndUnits:"/v1/usrcsrv/packages/:packageId/schedules_and_units",getPackagePriceSchedulesAndUnits:"/v2/usrcsrv/packages/schedules_and_units",getPackageUnits:"/v1/usrcsrv/arrangements/:arrangementId/units",bookingNow:"/v3/order/booking/add",addToShoppingCard:"/v3/order/booking/edit",getCategoryInfo:"/v3/userserv/user/profile_service/get_user_category_info",getPresalePackages:"/v1/usrcsrv/activity/rail/presale/info",noticeList:"/v1/usrcsrv/notice",secondCateList:"/v1/usrcsrv/faq/root/category/get",carRentalsAdd:"/v1/transfercarrentalapisrv/carrental/order/noshoppingcart/get_cache_id",carRentalOrderDetail:"/v1/transfercarrentalapisrv/carrental/order/detail",carRentalRefundReason:"/v1/transfercarrentalapisrv/carrental/order/refund/reason",carRentalGetAmount:"/v1/transfercarrentalapisrv/carrental/order/refund/get_amount",carRentalApplyAmount:"/v1/transfercarrentalapisrv/carrental/order/refund/apply_refund",carRentalRefundDetail:"/v1/transfercarrentalapisrv/carrental/order/refund/detail",orderUserCancel:"/v1/order/user/cancel",registerGuest:"/v3/usrcsrv/user/register/guest",getExperimentsHitList:"/v2/usrcsrv/hit/experiments",giftCardInformaton:"/v1/usrcsrv/egiftcard",accountGiftCard:"/v1/usrcsrv/personal/giftcard",redeemGiftCardCode:"/v1/order/trades/exchange",redeemCouponCode:"/v1/couponapisrv/redeem",getCouponData:"/v1/usrcsrv/coupon/tag/act/entrance",getWalletsData:"/v1/order/wallets",getWalletsTrades:"/v1/order/trades",preferredActivities:"/v1/usrcsrv/landing_page/preferred/activities",searchHit:"/v1/usrcsrv/search/hit",preferredRange:"/v1/usrcsrv/landing_page/preferred",updateReopen:"/v1/usrcsrv/reopen/notice/update",activitySeoLink:"v1/usrcsrv/activity/seo/content",homePage:"/v2/usrcsrv/component/page/home",travelPolicyPage:"/v1/usrcsrv/jenga/page/travel_policy_page",slideWord:"/v1/cardinfocenterservicesrv/public/recommend/get_slide_words",loginWay:"/v3/userserv/user/profile_service/get_my_login_ways_by_token",specialTermDetail:"/v3/userserv/user/term_service/get_special_term_detail",uncheckSpecialTermDetail:"/v3/userserv/user/term_service/get_user_uncheck_special_term_info",updateUncheckSpecialTermDetail:"/v3/userserv/user/term_service/update_user_special_term_status",homeNearbyAll:"/v2/usrcsrv/nearby/cards/all",homePopularAll:"/v2/usrcsrv/popular/cards/all",wifiFilter:"/v1/usrcsrv/wifi/filter_options",siteChange:"/v1/usrcsrv/transformer/jump",changePreferSite:"/v3/userserv/user/profile_service/change_prefer_site",getPhoneCouponInfo:"/v1/usrcsrv/generic/types/499",sendSmsCodeWithCaptcha:"/v3/userserv/user/register_service/send_sms_code_with_captcha",checkMobileAccount:"/v3/userserv/user/register_service/check_mobile_account",loginBySMS:"/v3/usrcsrv/user/login/mobile_sms",redeemCampaign:"/v1/redeemcodesrv/redeem/campaign/:campaignName",accountIsExist:"/v3/userserv/user/register_service/account_is_exist",googleLogin:"/v3/usrcsrv/user/login/google",googleBind:"/v3/userserv/user/profile_service/bind_google",getSpecialTerms:"/v3/userserv/user/term_service/get_special_term_detail",updateSpecialTermStatus:"/v3/userserv/user/term_service/update_user_special_term_status",SMSVefiry:"/v1/usrcsrv/dot/sms/verify",getSMSCode:"/v1/usrcsrv/dot/sms/code",submitDotEntrance:"/v1/usrcsrv/dot/entrance",submitDotExit:"/v1/usrcsrv/dot/visitor/exit",verifyPhone:"/v1/usrcsrv/dot/get/visitor",getAttraction:"/v1/usrcsrv/dot/get/attraction",getRecentlyPurchase:"/v1/usrcsrv/recently/purchased/act/cards",getBookingList:"/v1/usrcsrv/booking/list",getLogistics:"/v1/usrcsrv/logistics/detail",bookingPopularList:"/v1/cardinfocenterservicesrv/public/recommend/bookings/page/pop_acts",deleteBooking:"/v1/usrcsrv/booking/sort/archive",cancelDeleteBooking:"/v1/usrcsrv/booking/cancel_archive",stickBooking:"/v1/usrcsrv/booking/sort/stick",cancelStickBooking:"/v1/usrcsrv/booking/sort/cancel_stick",comboQuery:"/v1/usrcsrv/booking/combo",bookingManagement:"/v1/order/alter/ticket/infos",submitBookingManagement:"/v1/order/alter/ticket/submit",revertBookingManagement:"/v1/order/alter/ticket/revert",getHotKeyword:"/v1/usrcsrv/search/hot",getHotKeywordNew:"/v1/cardinfocenterservicesrv/search/getStartupPageInfo",getHotKeywordDestination:"/v1/cardinfocenterservicesrv/search/getDestinationPageInfo",getSearchResult:"/v1/cardinfocenterservicesrv/search/platform/",getExperienceCategory:"/v1/experiencesrv/category/menu",getExperienceDestination:"/v1/experiencesrv/destination/guide",getExperienceActivityNav:"/v1/experiencesrv/category/activity/menu",getExperienceHotCountry:"/v1/experiencesrv/hot/country",getExperiencePageInfo:"/v1/experiencesrv/page_info",getExperiencePreInfo:"/v1/experiencesrv/pre_info",getExperienceHotCity:"/v1/experiencesrv/hot/city",getExperienceMainBanner:"/v1/experiencesrv/banner/main",getExperienceReviewList:"/v1/experiencesrv/vertical/home_service/review",getExperienceNearbyActivity:"/v1/experiencesrv/nearby/activity",getExperienceNearbyCity:"/v1/experiencesrv/nearby/city",getExperienceBlog:"/v1/experiencesrv/blog/list",getExperienceNearbyMenu:"/v1/experiencesrv/category/menu",getExperienceActivityHighlight:"/v1/experiencesrv/activity/highlight",experienceSearch:"/v1/experiencesrv/search/suggest",experienceCitySeo:"/v1/usrcsrv/experience/city/seo/content",experienceCountrySeo:"/v1/usrcsrv/experience/country/seo/content",destinationSearch:"/v1/experiencesrv/search/suggest",getBreadcrumb:"/v1/experiencesrv/breadcrumb",getElevyTravelers:"/v1/usrcsrv/elevy/travelers",experiencesrvSearch:"/v1/experiencesrv/search/activity",getExperienceCategoryActivity:"/v1/experiencesrv/category/activity",sendEmail:"/v1/usrcsrv/user/feedback/email",getOrderList:"/v1/order/myorders/list",getActivityDetail:"/v1/usrcsrv/activities/:id/cards",regenerateOrder:"/v1/bookingapiserv/generate/again",experienceMFOSections:"/v1/experiencesrv/component/page/mfo",experienceMFOActivityList:"/v1/experiencesrv/mfo/search/activity",getBookingDetailSections:"/v1/experiencesrv/order/detail_service/get_booking_detail",getBookingPaymentDetail:"/v1/experiencesrv/order/detail_service/payment_detail",postBookingChase:"/v1/order/booking/chase",getBookingRefundDetail:"/v1/experiencesrv/order/detail_service/refund_detail",getPoiDetail:"/v1/usrcsrv/component/page/poi",getPoiReviewList:"v1/usrcsrv/get/poi/review/info/list",getChatEntranceConfig:"/v1/faqchatcommsrv/unifiedentrance/config",sendOfflineMsg:"/v1/faqchatcommsrv/comm/offline/message",chatAuth:"/v1/faqchatcommsrv/comm/zendesk/visitor/auth",getOrderDetail:"/v1/usrcsrv/order/detail",postFaqAnswerFeedback:"/v1/faqchatcommsrv/feedback/faqid",isChinaMainland:"/v3/userserv/user/profile_service/get_user_category_info",checkHasOrder:"/v1/faqchatcommsrv/comm/has_order",getSingleOrderInfo:"/v1/usrcsrv/booking/list/by_order_nos",checkHasSubmitted:"/v1/faqchatcommsrv/comm/booking/:bookingNo/has_submit",uploadAttachment:"/v1/faqchatcommsrv/comm/upload/mail/attachment",sendEmailToCEG:"/v1/faqchatcommsrv/comm/mail/send",getMembershipCard:"/v1/mpsrv/product/card",getFullOrderDetail:"/v1/order/myorders/orderdetail",themepage:"/v1/usrcsrv/theme/detail",cityIndexComponent:"/v1/usrcsrv/jenga/page/city_page",homePageComponent:"/v1/usrcsrv/jenga/page/home_page",paymentPageComponent:"/v1/usrcsrv/jenga/page/payment_success_page",jengaPage:"/v1/usrcsrv/jenga/page/",cityActivitiesFilter:"/v3/usrcsrv/search/city/activities",updateAdBanner:"/v1/usrcsrv/get/city/banner/ad",safeGuardTravelQuery:"/v1/usrcsrv/tw_covid19_campaign/query",hotelApiRefundReson:"/v1/hotelapiserv/order/refund/reason",hotelApiRefundPrice:"/v1/hotelapiserv/order/refund/price",hotelApiRefundApply:"/v1/hotelapiserv/order/refund/apply",hotelApiFilter:"/v2/hotelapiserv/hotelapi/filter/hotel",hotelApiItemsV1:"/v1/hotelapiserv/hotelapi/hotelItems",hotelApiItemsV2:"/v2/hotelapiserv/hotelapi/hotelItems",hotelApiSuggest:"/v2/hotelapiserv/hotelapi/suggest",hotelApiQuickFacts:"/v1/campaignapisrv/hubpage/quick_facts",hotelApiFaqs:"/v1/campaignapisrv/hubpage/faqs",hotelApiInternalLinks:"/v1/campaignapisrv/hubpage/internal_links",hotelOrderData:"/v3/hotelapiserv/hotelapi/order/portionData",guestSendSmsCodeWithCaptcha:"/v3/userserv/user/profile_service/send_sms_code_with_captcha",verifyGuestBookingSmsCode:"/v3/userserv/user/profile_service/verify_guest_booking_sms_code",getCitySummary:"/v1/campaignapisrv/destination/service/get_node_by_city_country_idlist",getCityImages:"/v1/campaignapisrv/destination/service/get_destination_image",getAllCountries:"/v1/experiencesrv/area/strative_area_service/get_all_countries"},c=[o.profile,o.carRentalsAdd,o.carRentalOrderDetail,o.carRentalRefundReason,o.carRentalGetAmount,o.carRentalApplyAmount,o.carRentalRefundDetail,o.orderUserCancel,o.registerGuest,o.bookingNow,o.addToShoppingCard,o.getBookingList,o.verify,o.getRecentlyPurchase,o.deleteBooking,o.getLogistics,o.deleteBooking,o.cancelDeleteBooking,o.stickBooking,o.cancelStickBooking,o.comboQuery,o.bookingManagement,o.submitBookingManagement,o.revertBookingManagement,o.hotelApiRefundReson,o.hotelApiRefundPrice,o.hotelApiRefundApply,n.e,n.g,n.d,o.guestSendSmsCodeWithCaptcha,o.verifyGuestBookingSmsCode,o.chatAuth,o.getOrderDetail,o.isChinaMainland,o.checkHasOrder,o.getSingleOrderInfo,o.checkHasSubmitted,o.uploadAttachment,o.sendEmailToCEG,o.getBookingDetailSections,o.getBookingPaymentDetail,o.getElevyTravelers,o.getBookingDetailsRefundAbleSkus,o.calcBookingDetailsRefundAmount,o.submitBookingDetailsRefund,o.experienceManageBookingInfos,o.experienceManageBookingRevert,o.experienceManageBookingSubmit,o.experienceManageBookingModify,o.paymentPageComponent,"/v1/cardinfocenterservicesrv/public/recommend/pay_success/page/recommend_acts_v2","/v1/couponapisrv/order/campaign/result","/v1/experiencesrv/dock/fast_pass_service/express_check_out_voucher"];t.a=o},32:function(e,t,r){"use strict";r.d(t,"k",(function(){return l})),r.d(t,"l",(function(){return d})),r.d(t,"g",(function(){return _})),r.d(t,"f",(function(){return f})),r.d(t,"d",(function(){return m})),r.d(t,"a",(function(){return h})),r.d(t,"b",(function(){return v})),r.d(t,"j",(function(){return y})),r.d(t,"h",(function(){return T})),r.d(t,"e",(function(){return S})),r.d(t,"c",(function(){return E})),r.d(t,"i",(function(){return w}));r(9),r(7),r(10),r(17),r(19);var n=r(374),o=r.n(n),c=r(128),l=[{title:"English (Australia)",value:"en-AU"},{title:"English (Canada)",value:"en-CA"},{title:"English (Hong Kong, SAR)",value:"en-HK"},{title:"English (India)",value:"en-IN"},{title:"English (Malaysia)",value:"en-MY"},{title:"English (New Zealand)",value:"en-NZ"},{title:"English (Philippines)",value:"en-PH"},{title:"English (Singapore)",value:"en-SG"},{title:"English (US)",value:"en-US"},{title:"English (UK)",value:"en-GB"},{title:"English (International)",value:"en"},{title:"",value:"zh-CN"},{title:"",children:[{title:"",value:"zh-HK"},{title:"",value:"zh-TW"}]},{title:"",value:"ja"},{title:"",value:"ko"},{title:"",value:"th"},{title:"Ting Vit",value:"vi"},{title:"Bahasa Indonesia",value:"id"},{title:"Franais",value:"fr"},{title:"Espaol",value:"es"},{title:"Deutsch",value:"de"},{title:"Italiano",value:"it"},{title:"",value:"ru"}],d=["de","en","en-AU","en-CA","en-GB","en-HK","en-IN","en-MY","en-NZ","en-PH","en-SG","en-US","es","fr","id","it","ja","ko","ru","th","vi","zh-CN","zh-HK","zh-TW"];function _(e){return Object(c.b)(e).support_languages}function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d,r=o()(t,_(e));return l.filter((function(e){return Array.isArray(e.children)?(e.children=e.children.filter((function(e){return e.value&&r.includes(e.value)})),e.children.some((function(e){return!!e.value&&r.includes(e.value)}))):!!e.value&&r.includes(e.value)}))}var m={de:"de_DE",en:"en_BS","en-AU":"en_AU","en-CA":"en_CA","en-GB":"en_GB","en-HK":"en_HK","en-IN":"en_IN","en-MY":"en_MY","en-NZ":"en_NZ","en-PH":"en_PH","en-SG":"en_SG","en-US":"en_US",es:"es_ES",fr:"fr_FR",id:"id_ID",it:"it_IT",ja:"ja_JP",ko:"ko_KR",ru:"ru_RU",th:"th_TH",vi:"vi_VN","zh-CN":"zh_CN","zh-HK":"zh_HK","zh-TW":"zh_TW"},h=function(e){return m[e]},v=function(e){var t="en";return Object.keys(m).some((function(r){var n=r;return m[n]===e&&(t=n,!0)})),t},y={de:"de",en:"en","en-AU":"en-AU","en-CA":"en-CA","en-GB":"en-GB","en-HK":"en-HK","en-IN":"en-IN","en-MY":"en-MY","en-NZ":"en-NZ","en-PH":"en-PH","en-SG":"en-SG","en-US":"en-US",es:"es",fr:"fr",id:"id",it:"it",ja:"ja",ko:"ko",ru:"ru",th:"th",vi:"vi","zh-CN":"zh-Hans-CN","zh-HK":"zh-Hant-HK","zh-TW":"zh-Hant-TW"},k=["de","it","fr","ru","es"];function T(e){return k.includes(e)}function S(e){return["zh-HK","en-HK","th","en-SG","en-PH","en-MY","en-AU","vi","id","en-GB","en-NZ","ja"].includes(e)}var E={USDHKD:7.845045,CNYHKD:1.185581,EURHKD:9.171115,GBPHKD:10.360332,AUDHKD:5.810271,SGDHKD:5.759771,TWDHKD:.257535,THBHKD:.237656,JPYHKD:.070887,KRWHKD:.007046,IDRHKD:548e-6,PHPHKD:.147159,LAKHKD:934e-6,MYRHKD:1.942785,VNDHKD:342e-6,AEDHKD:2.13604,NZDHKD:5.310731,ISKHKD:.074466,SEKHKD:.877825,NOKHKD:.963397,DKKHKD:1.230825,CHFHKD:7.921733,RUBHKD:.124951,TRYHKD:1.710574,INRHKD:.11461,KHRHKD:.001947,MMKHKD:.005568,QARHKD:2.155052,OMRHKD:20.381958,JODHKD:11.072726,LBPHKD:.005211,AFNHKD:.107201,ALLHKD:.072842,AMDHKD:.016285,ANGHKD:4.304537,AOAHKD:.03151,ARSHKD:.271643,AWGHKD:4.407325,AZNHKD:4.616081,BAMHKD:4.68053,BBDHKD:3.922522,BDTHKD:.09384,BGNHKD:4.676066,BHDHKD:20.751624,BIFHKD:.00448,BMDHKD:7.845045,BNDHKD:5.817573,BOBHKD:1.143525,BRLHKD:2.026457,BSDHKD:7.845045,BTCHKD:49933.08218,BTNHKD:.114109,BWPHKD:.755028,BYNHKD:3.921815,BYRHKD:4e-4,BZDHKD:3.926835,CADHKD:5.972146,CDFHKD:.005011,CLFHKD:329.163924,CLPHKD:.012001,COPHKD:.002678,CRCHKD:.013891,CUCHKD:7.845045,CUPHKD:.296039,CVEHKD:.083122,CZKHKD:.353125,DJFHKD:.044196,DOPHKD:.159032,DZDHKD:.066866,EGPHKD:.439735,ERNHKD:.513742,ETBHKD:.288315,FJDHKD:3.758635,FKPHKD:10.360547,GELHKD:3.210572,GGPHKD:10.360332,GHSHKD:1.646939,GIPHKD:10.35647,GMDHKD:.167807,GNFHKD:872e-6,GTQHKD:1.047051,GYDHKD:.038042,HKDHKD:1,HNLHKD:.328093,HRKHKD:1.240224,HTGHKD:.120749,HUFHKD:.027862,ILSHKD:2.147909,IMPHKD:10.360332,IQDHKD:.006626,IRRHKD:184e-6,JEPHKD:10.360332,JMDHKD:.061132,KESHKD:.077944,KGSHKD:.115106,KMFHKD:.01862,KPWHKD:.008717,KWDHKD:25.942356,KYDHKD:9.562698,KZTHKD:.022992,LKRHKD:.049589,LRDHKD:.05257,LSLHKD:.569704,LTLHKD:2.573241,LVLHKD:12.642065,LYDHKD:5.711707,MADHKD:.827667,MDLHKD:.466216,MGAHKD:.002399,MKDHKD:.149371,MNTHKD:.003202,MOPHKD:.970872,MROHKD:.022099,MURHKD:.227368,MVRHKD:.503844,MWKHKD:.010996,MXNHKD:.394044,MZNHKD:.133577,NADHKD:.572197,NGNHKD:.021975,NIOHKD:.250878,NPRHKD:.071742,PABHKD:7.845045,PENHKD:2.391995,PGKHKD:2.420182,PKRHKD:.064499,PLNHKD:2.096928,PYGHKD:.001384,RONHKD:1.968442,RSDHKD:.077648,RWFHKD:.009236,SARHKD:2.091954,SBDHKD:.988782,SCRHKD:.585231,SDGHKD:.436923,SHPHKD:10.35647,SLLHKD:981e-6,SOSHKD:.013739,SRDHKD:1.058657,STDHKD:374e-6,SVCHKD:.896538,SYPHKD:.015234,SZLHKD:.572083,TJSHKD:.856735,TMTHKD:2.300596,TNDHKD:2.993869,TOPHKD:3.387167,TTDHKD:1.159051,TZSHKD:.003457,UAHHKD:.298518,UGXHKD:.002025,UYUHKD:.250878,UZSHKD:999e-6,VEFHKD:82e-6,VUVHKD:.072012,WSTHKD:3.012221,XAFHKD:.013987,XAGHKD:126.326427,XAUHKD:9803.921569,XCDHKD:2.901696,XDRHKD:11.034605,XOFHKD:.013987,XPFHKD:.076853,YERHKD:.031393,ZARHKD:.5717,ZMKHKD:872e-6,ZMWHKD:.789211,ZWLHKD:.024337};var O={"zh-TW":["TW","HK","MO","SG","CN","TH","MY","AU","US","KR"],"zh-HK":["HK","TW","MO","SG","CN","TH","MY","AU","US","KR"],"zh-CN":["CN","HK","SG","MY","KR","US","CA","AU","TH"],en:["DE","FR","RU","NL","BE","CH","SE","ES","BR","AE"],"en-US":["US","MX","CA","BR","CO","AG","PE","VE","CL","KR"],"en-AU":["AU","NZ","PG","SG","ID","MY","IN","AE","GB","US"],"en-NZ":["NZ","AU","PG","SG","ID","MY","IN","AE","GB","US"],"en-GB":["GB","DK","FI","IS","NO","SE","IE","BE","NL","CH"],"en-IN":["IN","LK","PK","BD","MY","SG","NP","AE","GB","US"],"en-SG":["SG","MY","PH","TH","ID","IN","AU","HK","CA","GB"],"en-CA":["CA","US","HK","GB","FR","LB","AE","SG","PH","CN"],"en-HK":["HK","TW","MO","SG","CN","TH","MY","AU","US","KR"],"en-PH":["PH","SG","MY","TH","ID","IN","AU","HK","CA","US"],"en-MY":["MY","SG","PH","TH","ID","IN","AU","HK","AE","GB"],ko:["KR","CN","JP","US","TW","HK","PH","SG","TH","MY"],th:["TH","SG","HK","PH","KR","MY","IN","AU","ID","CA"],vi:["VN","SG","HK","PH","KR","MY","IN","AU","ID","CA"],id:["ID","SG","HK","MY","PH","TW","KR","CN","TH","US"],ja:["JP","US","GB","AU","CA","SG","CN","HK","TW","KR"],de:["DE","AU","CH","BE","DK","SE","GB","NL","NO","IS"],it:["IT","AL","US","CH","CA","MT","BE","HR","SM","MC"],fr:["FR","CA","BE","CH","LU","SE","NL","GB","MC","MA"],ru:["RU","UA","KZ","BY","KG","EE","LV","LT","IL","MD"],es:["ES","MX","AR","CO","PE","VE","CL","EC","CR","PA"]},w=function(e){return O[e]}},33:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return c})),r.d(t,"f",(function(){return l})),r.d(t,"e",(function(){return d})),r.d(t,"g",(function(){return _})),r.d(t,"d",(function(){return f})),r.d(t,"i",(function(){return m})),r.d(t,"j",(function(){return h})),r.d(t,"h",(function(){return v})),r.d(t,"m",(function(){return y})),r.d(t,"k",(function(){return k})),r.d(t,"l",(function(){return T}));var n=function(){var text=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"http://res.klook.com/image/upload/v1639721175/cavobu4damovch1ztlcx.gif",r=arguments.length>3?arguments[3]:void 0;return{text:text,showLoadingBg:!0,contentWidth:e+"px",render:t?function(e){return e("img",{slot:"icon",attrs:{src:t},style:r?{width:r+"px",height:r+"px"}:void 0})}:void 0}},o="/v1/hotelapiserv/hotelapi/hotelImgs",c="/v1/hotelapiserv/hotelapi/hotelNearByInfo",l="/v1/hotelapiserv/hotelapi/review/list",d="/v3/hotelapiserv/hotelapi/order/preBook",_="/v3/hotelapiserv/hotelapi/order/settlement",f="/v3/hotelapiserv/hotelapi/order/book",m="/v3/hotelapiserv/voucher/order/preBook",h="/v3/hotelapiserv/voucher/order/settlement",v="/v3/hotelapiserv/voucher/order/book",y="/v2/hotelapiserv/hotelapi/vertical_page",k="/v4/hotelapiserv/hotelapi/rate/room/list",T="/v4/hotelapiserv/hotelapi/rate/room/calendar/list"},4:function(e,t,r){"use strict";r.r(t),r.d(t,"GET_ACTIVITY_DETAIL",(function(){return n})),r.d(t,"GET_REVIEW_IMAGES_INFO",(function(){return o})),r.d(t,"GET_PACKAGE_SCHEDULE",(function(){return c})),r.d(t,"SET_PACKAGE_SELECTED_DATE",(function(){return l})),r.d(t,"SET_PACKAGE_ID",(function(){return d})),r.d(t,"GET_PACKAGE_DETAIL",(function(){return _})),r.d(t,"CLEAR_PACKAGE",(function(){return f})),r.d(t,"CLEAR_PACKAGE_OPTIONS",(function(){return m})),r.d(t,"SET_PACKAGE_UNITS",(function(){return h})),r.d(t,"SET_PACKAGE_TIME",(function(){return v})),r.d(t,"CHANGE_UNIT_COUNT",(function(){return y})),r.d(t,"SET_PACKAGE_SCHEDULE",(function(){return k})),r.d(t,"SET_ATTRIBUTES",(function(){return T})),r.d(t,"SET_INITIAL_DATA",(function(){return S})),r.d(t,"SET_PACKAGE_UNITMAP",(function(){return E})),r.d(t,"RESET_BOOKING_OPTIONS",(function(){return O})),r.d(t,"SET_PRESALE_PACKAGES",(function(){return w})),r.d(t,"SET_ACTIVITY_INSTANT",(function(){return P})),r.d(t,"SET_ACTIVITY_REVIEWS",(function(){return I})),r.d(t,"SET_REVIEWS_LIKED",(function(){return R})),r.d(t,"CLEAR_REVIEW_LIST",(function(){return A})),r.d(t,"TRIGGER_REVIEW_LIST_VISIBLE",(function(){return j})),r.d(t,"GET_ACTIVITY_FAQ",(function(){return x})),r.d(t,"ACTIVITY_FAQ_VISIBLE",(function(){return C})),r.d(t,"SET_REOPEN_MODAL_VISIBLE",(function(){return D})),r.d(t,"SET_REOPEN_REMIND",(function(){return L})),r.d(t,"SET_REOPEN_REMIND_SUCCESSS",(function(){return N})),r.d(t,"GET_PRICE_PACKAGE_SCHEDULE",(function(){return H})),r.d(t,"SET_PRICE_PACKAGE_SCHEDULE",(function(){return U})),r.d(t,"SHOW_DATE_PICKER",(function(){return K})),r.d(t,"KEEP_SOURCE_ACTIVITY_DETAIL",(function(){return $})),r.d(t,"KEEP_SOURCE_PACKAGE_DETAIL",(function(){return M})),r.d(t,"SAVE_ACTIVITY_TRANSLATE",(function(){return F})),r.d(t,"SAVE_PACKAGE_TRANSLATE",(function(){return G})),r.d(t,"CHANGE_TRANSLATE_STATUS",(function(){return B})),r.d(t,"CMS_AND_PREVIEW",(function(){return Y})),r.d(t,"CLEAR_ALL_CLICK",(function(){return V})),r.d(t,"SET_MODIFICATION_SHOPPING_CART",(function(){return W})),r.d(t,"SET_ROUTE_NAME",(function(){return z})),r.d(t,"CHANGE_SCHEDULE_MODE",(function(){return Q})),r.d(t,"GET_PROMOTION_DETAIL",(function(){return J})),r.d(t,"CLEAR_PROMOTION_DETAIL",(function(){return Z})),r.d(t,"BATCH_SET_UNITS_COUNT",(function(){return X})),r.d(t,"SET_UNITS_COUNT_TO_ONE",(function(){return ee})),r.d(t,"SET_PRICE_PACKAGE_SCHEDULE_STATE",(function(){return te})),r.d(t,"SET_EXPERIENCES_ABTEST",(function(){return re})),r.d(t,"SET_ACTIVITY_INFO",(function(){return ne})),r.d(t,"GET_ACTIVITY_CARDS",(function(){return ae})),r.d(t,"SET_ACTIVITY_PREINFO",(function(){return ie})),r.d(t,"SET_ACTIVITY_DETAIL",(function(){return oe}));var n="GET_ACTIVITY_DETAIL",o="GET_REVIEW_IMAGES_INFO",c="GET_PACKAGE_SCHEDULE",l="SET_PACKAGE_SELECTED_DATE",d="SET_PACKAGE_ID",_="GET_PACKAGE_DETAIL",f="CLEAR_PACKAGE",m="CLEAR_PACKAGE_OPTIONS",h="SET_PACKAGE_UNITS",v="SET_PACKAGE_TIME",y="CHANGE_UNIT_COUNT",k="SET_PACKAGE_SCHEDULE",T="SET_ATTRIBUTES",S="SET_INITIAL_DATA",E="SET_PACKAGE_UNITMAP",O="RESET_BOOKING_OPTIONS",w="SET_PRESALE_PACKAGES",P="SET_ACTIVITY_INSTANT",I="SET_ACTIVITY_REVIEWS",R="SET_REVIEWS_LIKED",A="CLEAR_REVIEW_LIST",j="TRIGGER_REVIEW_LIST_VISIBLE",x="GET_ACTIVITY_FAQ",C="ACTIVITY_FAQ_VISIBLE",D="SET_REOPEN_MODAL_VISIBLE",L="SET_REOPEN_REMIND",N="SET_REOPEN_REMIND_SUCCESSS",H="GET_PRICE_PACKAGE_SCHEDULE",U="SET_PRICE_PACKAGE_SCHEDULE",K="SHOW_DATE_PICKER",$="KEEP_SOURCE_ACTIVITY_DETAIL",M="KEEP_SOURCE_PACKAGE_DETAIL",F="SAVE_ACTIVITY_TRANSLATE",G="SAVE_PACKAGE_TRANSLATE",B="CHANGE_TRANSLATE_STATUS",Y="CMS_AND_PREVIEW",V="CLEAR_ALL_CLICK",W="SET_MODIFICATION_SHOPPING_CART",z="SET_ROUTE_NAME",Q="CHANGE_SCHEDULE_MODE",J="GET_PROMOTION_DETAIL",Z="CLEAR_PROMOTION_DETAIL",X="BATCH_SET_UNITS_COUNT",ee="SET_UNITS_COUNT_TO_ONE",te="SET_PRICE_PACKAGE_SCHEDULE_STATE",re="SET_EXPERIENCES_ABTEST",ne="SET_ACTIVITY_INFO",ae="GET_ACTIVITY_CARDS",ie="SET_ACTIVITY_PREINFO",oe="SET_ACTIVITY_DETAIL"},446:function(e,t,r){var map={"./de":[421,10],"./de.json":[421,10],"./en":[432,11],"./en-AU":[422,12],"./en-AU.json":[422,12],"./en-CA":[423,13],"./en-CA.json":[423,13],"./en-GB":[424,14],"./en-GB.json":[424,14],"./en-HK":[425,15],"./en-HK.json":[425,15],"./en-IN":[426,16],"./en-IN.json":[426,16],"./en-MY":[427,17],"./en-MY.json":[427,17],"./en-NZ":[428,18],"./en-NZ.json":[428,18],"./en-PH":[429,19],"./en-PH.json":[429,19],"./en-SG":[430,20],"./en-SG.json":[430,20],"./en-US":[431,21],"./en-US.json":[431,21],"./en.json":[432,11],"./es":[433,22],"./es.json":[433,22],"./fr":[434,23],"./fr.json":[434,23],"./id":[435,24],"./id.json":[435,24],"./it":[436,25],"./it.json":[436,25],"./ja":[437,26],"./ja.json":[437,26],"./ko":[438,27],"./ko.json":[438,27],"./ru":[439,28],"./ru.json":[439,28],"./th":[440,29],"./th.json":[440,29],"./vi":[441,30],"./vi.json":[441,30],"./zh-CN":[442,31],"./zh-CN.json":[442,31],"./zh-HK":[443,32],"./zh-HK.json":[443,32],"./zh-TW":[444,33],"./zh-TW.json":[444,33]};function n(e){if(!r.o(map,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=map[e],n=t[0];return r.e(t[1]).then((function(){return r.t(n,3)}))}n.keys=function(){return Object.keys(map)},n.id=446,e.exports=n},496:function(e,t,r){e.exports=r(497)},497:function(e,t,r){"use strict";r.r(t),function(e){r(35),r(68),r(12);var t=r(6),n=(r(11),r(67),r(1)),o=(r(17),r(19),r(9),r(7),r(10),r(24),r(227),r(504),r(509),r(511),r(2)),c=r(372),l=r(166),d=r(22),_=r(118),f=r(211);o.default.component(f.a.name,f.a),o.default.component("NLink",f.a),e.fetch||(e.fetch=c.a);var m,h,v=[],y=window.__KLOOK__||{};Object.assign(o.default.config,{warnHandler:function(e,t,r){var n=window.__KLOOK__.state.klook,o=window.__KLOOK__.state.auth;t&&t.$logquery.service({timestamp:Date.now(),level:"W",tag:"client",uid:o.user?o.user.globalId:"",message:JSON.stringify({errorMessage:e,errorStack:r,more:{url:window.location.href,userAgent:window.navigator.userAgent,ip:n.ip,ipCountry:n.ipCountry,isLoggedIn:o.isLoggedIn}})},{headers:{"X-Platform":n.platform}})},errorHandler:function(e,t,r){var n=window.__KLOOK__.state.klook,o=window.__KLOOK__.state.auth;return t&&t.$logquery.service({timestamp:Date.now(),level:"E",tag:"client",uid:o.user?o.user.globalId:"",message:JSON.stringify({errorMessage:"".concat(e.message," (").concat(r,")"),errorStack:e.stack,more:{url:window.location.href,userAgent:window.navigator.userAgent,ip:n.ip,ipCountry:n.ipCountry,isLoggedIn:o.isLoggedIn}})},{headers:{"X-Platform":n.platform}}),!0},silent:!0,performance:!1});var k=o.default.config.errorHandler||console.error;function T(e,t,r){var n=function(component){var e=function(component,e){if(!component||!component.options||!component.options[e])return{};var option=component.options[e];if("function"==typeof option){for(var t=arguments.length,r=new Array(t>2?t-2:0),n=2;n<t;n++)r[n-2]=arguments[n];return option.apply(void 0,r)}return option}(component,"transition",t,r)||{};return"string"==typeof e?{name:e}:e};return e.map((function(e){var t=Object.assign({},n(e));if(r&&r.matched.length&&r.matched[0].components.default){var o=n(r.matched[0].components.default);Object.keys(o).filter((function(e){return o[e]&&e.toLowerCase().includes("leave")})).forEach((function(e){t[e]=o[e]}))}return t}))}function S(e,t,r){return E.apply(this,arguments)}function E(){return(E=Object(n.a)(regeneratorRuntime.mark((function e(t,r,n){var o,c,l,_,f=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._pathChanged=Boolean(m.nuxt.err)||r.path!==t.path,this._queryChanged=JSON.stringify(t.query)!==JSON.stringify(r.query),this._diffQuery=this._queryChanged?Object(d.g)(t.query,r.query):[],this._pathChanged&&this.$loading.start&&!this.$loading.manual&&this.$loading.start(),e.prev=4,this._pathChanged||!this._queryChanged){e.next=11;break}return e.next=8,Object(d.m)(t,(function(e,t){return{Component:e,instance:t}}));case 8:o=e.sent,o.some((function(e){var n=e.Component,o=e.instance,c=n.options.watchQuery;return!0===c||(Array.isArray(c)?c.some((function(e){return f._diffQuery[e]})):"function"==typeof c&&c.apply(o,[t.query,r.query]))}))&&this.$loading.start&&!this.$loading.manual&&this.$loading.start();case 11:n(),e.next=25;break;case 14:if(e.prev=14,e.t0=e.catch(4),c=e.t0||{},l=c.statusCode||c.status||c.response&&c.response.status||500,_=c.message||"",!/^Loading( CSS)? chunk (\d)+ failed\./.test(_)){e.next=22;break}return window.location.reload(!0),e.abrupt("return");case 22:this.error({statusCode:l,message:_}),this.$klook.$emit("routeChanged",t,r,c),n();case 25:case"end":return e.stop()}}),e,this,[[4,14]])})))).apply(this,arguments)}function O(e,t){return y.serverRendered&&t&&Object(d.a)(e,t),e._Ctor=e,e}function w(e){var path=Object(d.d)(e.options.base,e.options.mode);return Object(d.c)(e.match(path),function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(t,r,n,o,c){var l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("function"!=typeof t||t.options){e.next=4;break}return e.next=3,t();case 3:t=e.sent;case 4:return l=O(Object(d.n)(t),y.data?y.data[c]:null),n.components[o]=l,e.abrupt("return",l);case 7:case"end":return e.stop()}}),e)})));return function(t,r,n,o,c){return e.apply(this,arguments)}}())}function P(e,t,r){var n=this,o=["auth"],c=!1;if(void 0!==r&&(o=[],(r=Object(d.n)(r)).options.middleware&&(o=o.concat(r.options.middleware)),e.forEach((function(e){e.options.middleware&&(o=o.concat(e.options.middleware))}))),o=o.map((function(e){return"function"==typeof e?e:("function"!=typeof l.a[e]&&(c=!0,n.error({statusCode:500,message:"Unknown middleware "+e})),l.a[e])})),!c)return Object(d.j)(o,t)}function I(e,t,r){return R.apply(this,arguments)}function R(){return(R=Object(n.a)(regeneratorRuntime.mark((function e(t,r,n){var o,c,l,f,h,y,k,S,E,O,w,I,R,A,j,x,C,D=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==this._pathChanged||!1!==this._queryChanged){e.next=2;break}return e.abrupt("return",n());case 2:return t===r?v=[]:(o=[],v=Object(d.e)(r,o).map((function(e,i){return Object(d.b)(r.matched[o[i]].path)(r.params)}))),c=!1,l=function(path){r.path===path.path&&D.$loading.finish&&D.$loading.finish(),r.path!==path.path&&D.$loading.pause&&D.$loading.pause(),c||(c=!0,n(path))},e.next=7,Object(d.o)(m,{route:t,from:r,next:l.bind(this)});case 7:if(this._dateLastError=m.nuxt.dateErr,this._hadError=Boolean(m.nuxt.err),f=[],(h=Object(d.e)(t,f)).length){e.next=25;break}return e.next=14,P.call(this,h,m.context);case 14:if(!c){e.next=16;break}return e.abrupt("return");case 16:return e.next=18,this.loadLayout("function"==typeof _.a.layout?_.a.layout(m.context):_.a.layout);case 18:return y=e.sent,e.next=21,P.call(this,h,m.context,y);case 21:if(!c){e.next=23;break}return e.abrupt("return");case 23:return m.context.error({statusCode:404,message:"This page could not be found"}),e.abrupt("return",n());case 25:return h.forEach((function(e){e._Ctor&&e._Ctor.options&&(e.options.asyncData=e._Ctor.options.asyncData,e.options.fetch=e._Ctor.options.fetch)})),this.setTransitions(T(h,t,r)),e.prev=27,e.next=30,P.call(this,h,m.context);case 30:if(!c){e.next=32;break}return e.abrupt("return");case 32:if(!m.context._errored){e.next=34;break}return e.abrupt("return",n());case 34:return"function"==typeof(k=h[0].options.layout)&&(k=k(m.context)),e.next=38,this.loadLayout(k);case 38:return k=e.sent,e.next=41,P.call(this,h,m.context,k);case 41:if(!c){e.next=43;break}return e.abrupt("return");case 43:if(!m.context._errored){e.next=45;break}return e.abrupt("return",n());case 45:S=!0,e.prev=46,E=!0,O=!1,w=void 0,e.prev=50,I=h[Symbol.iterator]();case 52:if(E=(R=I.next()).done){e.next=64;break}if("function"==typeof(A=R.value).options.validate){e.next=56;break}return e.abrupt("continue",61);case 56:return e.next=58,A.options.validate(m.context);case 58:if(S=e.sent){e.next=61;break}return e.abrupt("break",64);case 61:E=!0,e.next=52;break;case 64:e.next=70;break;case 66:e.prev=66,e.t0=e.catch(50),O=!0,w=e.t0;case 70:e.prev=70,e.prev=71,E||null==I.return||I.return();case 73:if(e.prev=73,!O){e.next=76;break}throw w;case 76:return e.finish(73);case 77:return e.finish(70);case 78:e.next=84;break;case 80:return e.prev=80,e.t1=e.catch(46),this.error({statusCode:e.t1.statusCode||"500",message:e.t1.message}),e.abrupt("return",n());case 84:if(S){e.next=87;break}return this.error({statusCode:404,message:"This page could not be found"}),e.abrupt("return",n());case 87:return e.next=89,Promise.all(h.map((function(e,i){if(e._path=Object(d.b)(t.matched[f[i]].path)(t.params),e._dataRefresh=!1,D._pathChanged&&D._queryChanged||e._path!==v[i])e._dataRefresh=!0;else if(!D._pathChanged&&D._queryChanged){var n=e.options.watchQuery;!0===n?e._dataRefresh=!0:Array.isArray(n)?e._dataRefresh=n.some((function(e){return D._diffQuery[e]})):"function"==typeof n&&(j||(j=Object(d.f)(t)),e._dataRefresh=n.apply(j[i],[t.query,r.query]))}if(D._hadError||!D._isMounted||e._dataRefresh){var o=[],c=e.options.asyncData&&"function"==typeof e.options.asyncData,l=Boolean(e.options.fetch),_=c&&l?30:45;if(c){var h=Object(d.l)(e.options.asyncData,m.context).then((function(t){Object(d.a)(e,t),D.$loading.increase&&D.$loading.increase(_)}));o.push(h)}if(D.$loading.manual=!1===e.options.loading,l){var p=e.options.fetch(m.context);p&&(p instanceof Promise||"function"==typeof p.then)||(p=Promise.resolve(p)),p.then((function(e){D.$loading.increase&&D.$loading.increase(_)})),o.push(p)}return Promise.all(o)}})));case 89:c||(this.$loading.finish&&!this.$loading.manual&&this.$loading.finish(),n()),e.next=106;break;case 92:if(e.prev=92,e.t2=e.catch(27),"ERR_REDIRECT"!==(x=e.t2||{}).message){e.next=97;break}return e.abrupt("return",this.$klook.$emit("routeChanged",t,r,x));case 97:return v=[],Object(d.i)(x),"function"==typeof(C=_.a.layout)&&(C=C(m.context)),e.next=103,this.loadLayout(C);case 103:this.error(x),this.$klook.$emit("routeChanged",t,r,x),n();case 106:case"end":return e.stop()}}),e,this,[[27,92],[46,80],[50,66,70,78],[71,,73,77]])})))).apply(this,arguments)}function A(e,r){Object(d.c)(e,(function(e,r,n,c){return"object"!==Object(t.a)(e)||e.options||((e=o.default.extend(e))._Ctor=e,n.components[c]=e),e}))}function j(e){this._hadError&&this._dateLastError===this.$options.nuxt.dateErr&&this.error();var t=this.$options.nuxt.err?_.a.layout:e.matched[0].components.default.options.layout;"function"==typeof t&&(t=t(m.context)),this.setLayout(t)}function x(e,t){var r=this;if(!1!==this._pathChanged||!1!==this._queryChanged){var n=Object(d.f)(e),c=Object(d.e)(e);o.default.nextTick((function(){n.forEach((function(e,i){if(e&&!e._isDestroyed&&e.constructor._dataRefresh&&c[i]===e.constructor&&!0!==e.$vnode.data.keepAlive&&"function"==typeof e.constructor.options.data){var t=e.constructor.options.data.call(e);for(var r in t)o.default.set(e.$data,r,t[r]);window.$klook.$nextTick((function(){window.$klook.$emit("triggerScroll")}))}})),j.call(r,e)}))}}function C(e){window.onKlookReadyCbs.forEach((function(t){"function"==typeof t&&t(e)})),"function"==typeof window._onKlookLoaded&&window._onKlookLoaded(e),h.afterEach((function(t,r){o.default.nextTick((function(){return e.$klook.$emit("routeChanged",t,r)}))}))}function D(){return(D=Object(n.a)(regeneratorRuntime.mark((function e(t){var r,n,c,l,_;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m=t.app,h=t.router,t.store,r=new o.default(m),n=y.layout||"default",e.next=7,r.loadLayout(n);case 7:return r.setLayout(n),c=function(){r.$mount("#__klook"),h.afterEach(A),h.afterEach(x.bind(r)),o.default.nextTick((function(){C(r)}))},e.next=11,Promise.all(w(h));case 11:if(l=e.sent,r.setTransitions=r.$options.nuxt.setTransitions.bind(r),l.length&&(r.setTransitions(T(l,h.currentRoute)),v=h.currentRoute.matched.map((function(e){return Object(d.b)(e.path)(h.currentRoute.params)}))),r.$loading={},y.error&&r.error(y.error),h.beforeEach(S.bind(r)),h.beforeEach(I.bind(r)),!y.serverRendered){e.next=21;break}return c(),e.abrupt("return");case 21:_=function(){A(h.currentRoute,h.currentRoute),j.call(r,h.currentRoute),c()},I.call(r,h.currentRoute,h.currentRoute,(function(path){if(path){var e=h.afterEach((function(t,r){e(),_()}));h.push(path,void 0,(function(e){e&&k(e)}))}else _()}));case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(_.b)().then((function(e){return D.apply(this,arguments)})).catch(k)}.call(this,r(48))},5:function(e,t,r){"use strict";r.d(t,"t",(function(){return P})),r.d(t,"w",(function(){return I})),r.d(t,"L",(function(){return R})),r.d(t,"R",(function(){return A})),r.d(t,"j",(function(){return j})),r.d(t,"k",(function(){return x})),r.d(t,"E",(function(){return C})),r.d(t,"s",(function(){return D})),r.d(t,"b",(function(){return L})),r.d(t,"P",(function(){return N})),r.d(t,"J",(function(){return H})),r.d(t,"F",(function(){return U})),r.d(t,"h",(function(){return K})),r.d(t,"H",(function(){return $})),r.d(t,"D",(function(){return M})),r.d(t,"y",(function(){return F})),r.d(t,"A",(function(){return G})),r.d(t,"l",(function(){return B})),r.d(t,"I",(function(){return Y})),r.d(t,"i",(function(){return V})),r.d(t,"u",(function(){return W})),r.d(t,"N",(function(){return z})),r.d(t,"C",(function(){return Q})),r.d(t,"z",(function(){return J})),r.d(t,"e",(function(){return Z})),r.d(t,"p",(function(){return X})),r.d(t,"c",(function(){return ee})),r.d(t,"O",(function(){return te})),r.d(t,"q",(function(){return re})),r.d(t,"x",(function(){return ae})),r.d(t,"m",(function(){return oe})),r.d(t,"S",(function(){return ce})),r.d(t,"n",(function(){return ue})),r.d(t,"o",(function(){return le})),r.d(t,"M",(function(){return pe})),r.d(t,"G",(function(){return de})),r.d(t,"r",(function(){return _e})),r.d(t,"a",(function(){return fe})),r.d(t,"f",(function(){return me})),r.d(t,"d",(function(){return ge})),r.d(t,"Q",(function(){return he})),r.d(t,"v",(function(){return ve})),r.d(t,"g",(function(){return ye})),r.d(t,"B",(function(){return be})),r.d(t,"K",(function(){return ke}));r(16),r(10),r(11),r(142),r(67),r(68),r(12);var n=r(1),o=(r(43),r(119),r(6)),c=(r(35),r(80),r(34),r(47),r(0)),l=r(15),d=(r(9),r(420),r(24),r(81),r(30),r(17),r(19),r(58),r(59),r(7),r(25),r(100),r(373)),_=r.n(d),f=r(130),m=r.n(f),h=r(8),v=r.n(h),y=r(14),k=r.n(y),T=r(131),S=r.n(T),E=r(272),O=(r(140),r(266));function w(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function P(){return v()().format("Z")}function I(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n="";return t&&"en"!==t&&e&&!e.startsWith("/"+t)&&(n="/".concat(t)),r+n+e}function R(){return m()().slice(0,8)}function A(e,t){return e.replace(/:([a-z]+)/gi,(function(r,n){if(!t[n])throw new Error("url parameter not find: ".concat(e));return t[n]}))}function j(e){var t=(e||"0").toString(),r="";if(t.includes(".")){var n=t.split(".");r="".concat(n[0].toString().replace(/(?=(?!(\b))(\d{3})+$)/g,","),".").concat(n[1])}else r=t.replace(/(?=(?!(\b))(\d{3})+$)/g,",");return r}function x(e){var t=(e||"0").toString(),r="0";return t.includes(".")||(r=t.replace(/(?=(?!(\b))(\d{3})+$)/g,",")),t.length>6&&(r="999K+"),r}function C(e){var t;return e>=1e4?t="10k+":e>=1e3&&e<1e4?t=Math.floor(e/1e3*Math.pow(10,1))/Math.pow(10,1)+"k":e<1e3&&(t=e),t}function D(e,t){if(!t||!e)return"";var r=t[e]||"";return Array.isArray(r)&&r.length?r[0]:r}function L(e){return window.btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,(function(e,t){var s="0x"+t;return String.fromCharCode(s)})))}var N=[{name:"camel2under",reg:/([a-z][A-Z])/g,transform:function(e,t){return t[0]+"_"+t[1].toLowerCase()}},{name:"under2camel",reg:/(_[a-z])/g,transform:function(e,t){return t[1].toUpperCase()}}].reduce((function(e,t){var r=t.name,n=t.reg,o=t.transform;return Object.assign(e,Object(c.a)({},r,(function e(data){switch(Object.prototype.toString.call(data).slice(8,-1)){case"Array":data.forEach(e);break;case"Object":Object.entries(data).forEach((function(t){var r=Object(l.a)(t,2),c=r[0],d=r[1];e(d),n.test(c)&&(data[c.replace(n,o)]=d,delete data[c])}))}return data})))}),{}),H=Object.assign((function(data){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];switch(Object.prototype.toString.call(data).slice(8,-1)){case"Object":return H.obj2str.apply(H,[data].concat(t));case"String":return H.str2obj.apply(H,[data].concat(t));default:return data}}),{str2obj:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e.slice(e.indexOf("?")+1).split("&").reduce((function(e,n){var o=n.split("="),c=Object(l.a)(o,2),d=c[0],_=c[1];return t&&/^-?\d+(\.\d+)?$/.test(_)&&(_=+_),e[d]&&r?Array.isArray(e[d])?e[d].push(_):e[d]=[e[d],_]:e[d]=_,e}),{})},obj2str:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n="",l=function(t){var l=e[t];l||"number"==typeof l||(l=""),n+="&"+(r&&"object"===Object(o.a)(l)?Array.isArray(l)?l.map((function(e){return H.obj2str(Object(c.a)({},t,e),!1,!0)})).join("&"):H.obj2str(l,!1,!0):"".concat(t,"=").concat(l.toString()))};for(var d in e)l(d);return n.replace(/^&/,t?"?":"")}});function U(e,t){if(!t){if(1!==arguments.length||"object"!==("undefined"==typeof window?"undefined":Object(o.a)(window)))return"";t=window.location.search}var r=new RegExp("[?|&]*"+e+"=([^&;]+?)(&|#|;|$)").exec(t)||[],n=Object(l.a)(r,2)[1],c=void 0===n?"":n;return c&&decodeURIComponent(c.replace(/\+/g,"%20"))}var K=function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return(null===(r=e)||void 0===r?void 0:r.length)?e.reduce((function(e){for(var r=arguments.length,o=new Array(r>1?r-1:0),c=1;c<r;c++)o[c-1]=arguments[c];var l=t.apply(n||e,o);return l&&e.push(l),e}),[]):e};function $(){var e=window.location.search,t={};if(e.includes("?"))for(var r=e.split("?")[1].split("&"),i=0;i<r.length;i++)t[decodeURIComponent(r[i].split("=")[0])]=decodeURIComponent(r[i].split("=")[1]);return t}function M(e){return new Promise((function(t){var head=document.getElementsByTagName("head")[0]||document.documentElement,script=document.createElement("script");script.src=e;var r=!1;script.onload=script.onreadystatechange=function(){r||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(r=!0,t(),script.onload=script.onreadystatechange=null,head&&script.parentNode&&head.removeChild(script))},head.insertBefore(script,head.firstChild)}))}function F(e){return null===e||function(){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}()}function G(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return/(Sogou web spider)|(bingbot)|(Googlebot)|(Baiduspider)|(AdsBot)|(TweetmemeBot)|(Slackbot)|(James BOT)|(Applebot)|(Facebot)|(YandexMobileBot)|(AhrefsBot)|(contxbot)|(Livechat OpenGraph Robot)|(Mail.RU_Bot)|(archive.org_bot)|(MojeekBot)|(Discordbot)|(startmebot)/i.test(e)}function B(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",",r=e.toString();if(r.includes(","))return r;if(r.includes(".")){var n=r.split(".");return"".concat(n[0].replace(/(?=(?!(\b))(\d{3})+$)/g,t),".").concat(n[1])}return r.replace(/(?=(?!(\b))(\d{3})+$)/g,t)}function Y(e,t){return 0===t?0:Math.round(e/t*100)}function V(e){if(!e)return"0";var t=e.toString();if(t.includes(".")){var r=t.split(".");return"".concat(B(r[0]),".").concat(r[1])}return B(t)}function W(e){for(var t=[],r=e.length,i=1;i<Math.pow(2,r);i++){for(var n=[],o=0;o<r;o++)i>>o&1&&n.push(e[o]);t.push(n)}return t}function z(e,t,r){if(t>=r)return e({1:"review_not_recommended",2:"review_unsatisfactory",3:"review_average",4:"review_good",5:"review_highly_recommended"}[t/20])}function Q(e){var link=document.createElement("link");link.type="text/css",link.rel="stylesheet",link.href=e,document.getElementsByTagName("head")[0].appendChild(link)}function J(link){return link.includes("klook.")}function Z(text,e){var input=document.createElement("input");document.body.appendChild(input),input.setAttribute("value",text),input.select(),document.execCommand("copy")&&(document.execCommand("copy"),e()),document.body.removeChild(input)}function X(){return/https?:\/\/(.*.klook.(io|com)|localhost:3004)/.exec(document.referrer)?document.referrer:""}function ee(e){return/^[a-zA-Z0-9_-]+(\.([a-zA-Z0-9_-])+)*@[a-zA-Z0-9_-]+[.][a-zA-Z0-9_-]+([.][a-zA-Z0-9_-]+)*$/.test(e)}function te(e){var t=Number(e);return isNaN(t)?0:t}function re(){return ne.apply(this,arguments)}function ne(){return(ne=Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.location.href.includes("setlatlng"),e.next=4;break;case 4:if(!navigator.geolocation){e.next=14;break}return e.prev=5,e.next=8,new Promise((function(e,t){navigator.geolocation.getCurrentPosition(e,t,{maximumAge:6e4,timeout:1e4})}));case 8:return e.abrupt("return",e.sent);case 11:e.prev=11,e.t0=e.catch(5),console.log("geolocation error",e.t0);case 14:case"end":return e.stop()}}),e,null,[[5,11]])})))).apply(this,arguments)}function ae(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",r=arguments.length>2?arguments[2]:void 0,n=e,option=O.d[t];if(option){var o=function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?w(Object(source),!0).forEach((function(t){Object(c.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):w(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},option);if(r){var l=o.w,d=o.h;l&&(o.w=2*l),d&&(o.h=2*d)}var _=o,f=_.w&&_.w>0?",w_".concat(_.w):"",m=_.h&&_.h>0?",h_".concat(_.h):"",h=f&&m?"c_fill".concat(f).concat(m):"",v=_.blur&&_.blur>0?"e_blur:".concat(_.blur):"",y=_.quality&&_.quality>0?"fl_lossy.progressive,q_".concat(_.quality,",f_auto"):"fl_lossy.progressive,q_auto",k=_.customize&&""!==_.customize?_.customize:"",mark=_.waterMark?"w_80,x_15,y_15,g_south_west,l_Klook_water_br_trans_yhcmh3":"";h&&(n=n.replace(/\/[^/]*c_fill*[^/]*\//,"/")),v&&(n=n.replace(/\/[^/]*e_blur:(\d*)*[^/]*\//,"/")),y&&(n=n.replace(/\/[^/]*fl_lossy\.progressive*[^/]*\//,"/")),/\/[^/]*_water*[^/]*\//.test(n)&&(mark="/");var T=[h,y,v,mark,k].filter((function(e){return""!==e})).join("/"),S="image/upload/".concat(T,"/");n=n.replace("image/upload/",S)}return n}var ie=function(e){return!k()(e.klook.affiliateConf)},oe=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return ie(e)?S()(e.klook.affiliateConf,t,r):r},ce=function(e,t){if(ie(e)){var r=oe(e,"partner_web_config.vertical_menu_types",!1);r&&(t=se(t,(function(e){return e.partner_extra_info&&e.partner_extra_info.category&&r.includes(e.partner_extra_info.category)})))}return t},se=function e(t,r){if(!t||!t.length)return[];function n(e){if(r(e))return!0;if(e.sub_menu&&e.sub_menu.items&&e.sub_menu.items.length){var t=!0,n=!1,o=void 0;try{for(var c,l=e.sub_menu.items[Symbol.iterator]();!(t=(c=l.next()).done);t=!0){var d=c.value;if(r(d))return!0}}catch(e){n=!0,o=e}finally{try{t||null==l.return||l.return()}finally{if(n)throw o}}}return!1}var o=[],c=!0,l=!1,d=void 0;try{for(var _,f=t[Symbol.iterator]();!(c=(_=f.next()).done);c=!0){var m=_.value;n(m)&&(o.push(m),m.sub_menu&&(m.sub_menu.items=e(m.sub_menu.items,r)))}}catch(e){l=!0,d=e}finally{try{c||null==f.return||f.return()}finally{if(l)throw d}}return o},ue=function(e){var t=e.getFullYear(),r=e.getMonth()+1;r=r<10?"0"+r:r;var n=e.getDate();return n<10&&(n="0"+n),t+"-"+r+"-"+n},le=function(e,t,r){return"HKD"===t?e:(e*r[t+"HKD"]).toFixed(1)},pe=function(e){var t=/https?:\/\/(www.)?klook.com+/gi,r=/blog/.test(e);return t.test(e)&&!r&&(e=e.replace(t,"")),e};function de(link){if(link)try{return _.a.parse(link)}catch(e){}}function _e(e){var t=de(e);if(!t)return e;var r=t.protocol,n=t.host;if(r&&n){var o=new RegExp("".concat(r,"//").concat(n));return e.replace(o,"")}return e}function fe(p){return new Promise((function(e){p.then((function(t){e([null,t])})).catch((function(t){e([t,null])}))}))}var me=function(e){return new Promise((function(t){var r=document.createElement("textarea");r.value=e,r.style.position="absolute",r.style.left="-9999px",r.readOnly=!0,r.contentEditable="true",document.body.appendChild(r),function(e,t,r){if(navigator.userAgent.match(/ipad|iPod|iphone/i)){var n=document.createRange();n.selectNodeContents(e);var o=window.getSelection();o.removeAllRanges(),o.addRange(n),e.setSelectionRange(t,r)}else e.select()}(r,0,e.length),document.execCommand("copy")?(document.body.removeChild(r),t(!0)):t(!1)}))};function ge(e,t){if(!e)return function(){return!1};var r=e[t];return r?function(e){var t;return(null===(t=r.group)||void 0===t?void 0:t.name)===e}:function(){return!1}}var he=function(e,element,t){element&&element.setAttribute(e,"".concat(t||""))};function ve(e){return e.split("").reduce((function(e,t){return(e<<5)-e+t.charCodeAt(0)|0}),0)}function ye(e,t){var r,n,o,c=null;return e&&e.card_styles&&e.card_styles[0]?(c=e.card_styles[0],Object.freeze({style_config:null===(r=c)||void 0===r?void 0:r.style_config,style_name:(null===(n=c)||void 0===n?void 0:n.style_name)||"",style_id:(null===(o=c)||void 0===o?void 0:o.style_id)||0,card_name:e.card_name,card_id:e.card_id})):Object.freeze({style_config:{},style_name:"",style_id:0,card_name:"",card_id:0})}var be=function(e){return"skytone"===oe(e,"partner_name")},ke=function(e){return Object(E.stringify)(e)}},512:function(e,t,r){"use strict";r.r(t);var n=r(15),o=(r(11),r(1)),c=r(3),l=function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(t){var r,o,l,d,_,f,m,h,v,y;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.redirect,o=t.params,l=t.route,d=t.app,_=Object(n.a)(l.meta,1),"redirect"===_[0].type){e.next=4;break}return e.abrupt("return");case 4:return f=o.frontendId,m=void 0===f?1:f,e.prev=5,e.next=8,d.$axios.$get(c.a.getExperiencePreInfo,{params:{frontend_id:m}});case 8:if(h=e.sent,v=h.success,y=h.result,v&&y.redirect_url){e.next=13;break}return e.abrupt("return",r({name:"ExperienceAroundTheWorld"}));case 13:return e.abrupt("return",r(y.redirect_url));case 16:return e.prev=16,e.t0=e.catch(5),e.abrupt("return",r({name:"ExperienceAroundTheWorld"}));case 19:case"end":return e.stop()}}),e,null,[[5,16]])})));return function(t){return e.apply(this,arguments)}}();t.default=l},513:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return c}));r(17);var n=r(117),o=["1036147","105929122","142333","107182106","3961944","3312953","106793833","104887685","110438867","526090","1","7","3914","107703247","1065629","110762999","85350","388849","1119346","1431080","106159293","107834039","105069603","110365682","106128590","103494955","2603866","107280180","106156142","110454196","104148029","107628555","110473197","110473208","110473212","105235969","110526383","107180320","100007030","110610584","2506199","101681631","851334","1478461","107048588","107687521","3580588","100377083","100031111","100377162","100376002","100014021","100030479","100377971","100377973","100012977","100031537","100026299","100085553","107180320","105235969","100000501","100012893"];function c(e){var t=e.app,r=e.error;if(!Object(n.b)()&&t.user&&!o.includes("".concat(t.user.id)))return r({statusCode:404})}},516:function(e,t,r){"use strict";r.r(t);r(11);var n=r(1),o=r(3),c=(r(5),function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.app.$cookies.get("JSESSIONID")){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,t.app.$axios.$get(o.a.jsessionId);case 4:r=e.sent,n="",r.success&&r.result&&(n=r.result.sid,t.app.$cookies.set("JSESSIONID",n,{path:"/",httpOnly:!0,expires:new Date(Date.now()+432e5)}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());t.default=c},562:function(e,t,r){"use strict";r.r(t);r(11);var n=r(1),o=(r(3),function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(t,r){var n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=17;break;case 7:if(e.sent.success){e.next=11;break}return e.next=11,n.login({redirectUrl:o});case 11:e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(4),e.next=17,n.login({redirectUrl:o});case 17:r();case 18:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(t,r){return e.apply(this,arguments)}}());t.default=o},563:function(e,t,r){"use strict";r.r(t);r(11);var n=r(1),o=r(3),c=function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(t,r){var n,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.store.state.klook.language,c="signin_jump=".concat(encodeURIComponent(t.route.fullPath)),l="en"===n?"/signin/?".concat(c):"/".concat(n,"/signin/?").concat(c),e.prev=3,e.next=6,t.app.$axios.$get(o.a.verify);case 6:e.sent.success||t.redirect(l),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),t.redirect(l);case 13:r();case 14:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t,r){return e.apply(this,arguments)}}();t.default=c},564:function(e,t,r){"use strict";r.r(t);r(24),r(81),r(67),r(60),r(17),r(19);var n=r(273),o=r(128),c=r(278);t.default=function(e,t){var r,l,d;if(o.a.includes(e.store.state.klook.websiteConfig.website)&&!e.store.state.klook.isKlookApp){var _=n.b.find((function(t){return t.title===e.store.state.klook.ipCountry})),f=null===(r=e.app.user)||void 0===r?void 0:r.preferSite,m=(null===(l=_)||void 0===l?void 0:l.site)||"www.klook.com",h=m&&e.store.state.klook.websiteConfig.website===m,v=e.app.$cookies.get(c.a.language.key),path=(null===(d=e.req)||void 0===d?void 0:d.url)||"",y=v&&path.match(new RegExp("^/".concat(v)));if(!f&&m&&!h&&!y&&"CN"===e.store.state.klook.ipCountry&&"Home"===e.route.name&&(e.req.headers["accept-language"]||"").includes("zh-CN"))return void e.redirect("https://www.klook.cn")}t()}},565:function(e,t,r){"use strict";r.r(t);r(30),r(17),r(19),r(24);var n=r(15),o=(r(11),r(1)),c=r(3),l=r(32),d=function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(t){var r,o,d,_,f,m,h,v,y,k,T,S,E,O,w,P,I,R,A,j,x,C,D,L,N,H,U,K,$,M,F,G,B,Y,V,W,z;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.req,o=t.app,d=t.store,_=t.route,f=_.query,m=_.params,h=m.productId,v=m.poiInfo,y=_.name,k=Object(n.a)(_.meta,1),T=k[0],S=T.urlPre,E=T.listName,O=t.redirect,w=t.error,R=d.state.klook,A=R.language,j=R.currency,x="ptp_basic_info_".concat(h,"_").concat(A,"_").concat(j),e.t0=r,!e.t0){e.next=8;break}return e.next=7,r.redis.get(x);case 7:e.t0=e.sent;case 8:if(C=e.t0)try{C=JSON.parse(C)}catch(e){C=null}if(D="",C&&(!C||C.result.publish_languages)){e.next=20;break}return e.next=14,o.$axios.$get(c.a.ptpBasicInfo,{throwError:!0,params:{product_type_id:h,local_poi:1}}).catch((function(e){var t=e||{},r=t.code;w("E0000"===r?{statusCode:404}:{statusCode:500,message:t.message||""})}));case 14:if(C=e.sent,!(null===(P=C)||void 0===P?void 0:P.success)){e.next=20;break}if(e.t1=r,!e.t1){e.next=20;break}return e.next=20,r.redis.set(x,JSON.stringify(C),7200);case 20:if(null===(I=C)||void 0===I?void 0:I.success){e.next=22;break}return e.abrupt("return");case 22:if(L=C.result,N=L.product_type,H=L.template_id,U=L.poi_id,K=L.poi_locale_name,$=L.kind_name_singular,M=L.kind_name_plural,F=L.promotions,G=C.result.publish_languages,N){e.next=27;break}return O({name:"Error404"}),e.abrupt("return");case 27:if(G&&G.length){e.next=29;break}return e.abrupt("return",O({name:"Error404"}));case 29:if(B=[],(B="ALL"===G[0]?l.l:G.map((function(e){return Object(l.b)(e)}))).includes(A)){e.next=34;break}return O({name:"Error404"}),e.abrupt("return");case 34:if(D=N.toLowerCase(),Y="",V="",!U){e.next=45;break}if(W=U.split("|")[1],z=U.split("|")[0].toLowerCase().split(" ").join("-"),Y=v&&v.split("-")[0]||"",V=v&&v.split("-").slice(1).join("-").toLowerCase()||"",Y===W&&V===z){e.next=45;break}return O({name:y,params:{productId:h,poiInfo:"".concat(W,"-").concat(z)},query:f}),e.abrupt("return");case 45:return d.commit("ptp-standard/common/SET_PRPDUCT_INFO",{productId:h,productName:C.result.current_title,productType:D,poiLocaleName:K,kindNameSingular:$,kindNamePlural:M,poiId:Y,poiName:V,listName:E,urlPre:S,templateId:H,promotions:F}),e.next=48,d.dispatch("syncSupportLanguages",B);case 48:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.default=d},580:function(e,t,r){"use strict";r.r(t);r(11);var n=r(1),o=function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(t){var r,n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=t.app).$cookies.get("tag_fok")){e.next=6;break}return e.next=4,r.$axios.get("/api/timestamp");case 4:(n=e.sent).data.success&&(o=parseInt(n.data.result),r.$cookies.set("tag_fok",1e3*o,{path:"/",httpOnly:!1,expires:new Date(Date.now()+2592e6)}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.default=o},587:function(e,t,r){"use strict";r.r(t),r.d(t,"createRouter",(function(){return n}));var n=function(e,t){var r="en",n="mobile";return r=window.__KLOOK__.state.klook.language,n=window.__KLOOK__.state.klook.platform,t.routes&&(t.routes=function e(t,r,n){var o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],c=t.map((function(t){return o&&"en"!==r&&(t.path="/".concat(r).concat(t.path),t.redirect&&(t.redirect="/".concat(r).concat(t.redirect))),t.components&&(t.component=t.components[n],delete t.components),t.children&&(t.children=e(t.children,r,n,!1)),t}));return c}(t.routes,r,n)),t}},588:function(e,t,r){"use strict";var n=r(198);r.n(n).a},589:function(e,t,r){"use strict";var n=r(199);r.n(n).a},591:function(e,t,r){},594:function(e,t,r){"use strict";r.r(t),r.d(t,"state",(function(){return h})),r.d(t,"mutations",(function(){return v})),r.d(t,"actions",(function(){return y}));r(11);var n,o,c,l=r(1),d=(r(25),r(377)),_=r.n(d),f=r(3),m=r(5),h=function(){return{lastVerify:Date.now(),isLoggedIn:!1,user:null}},v={SET_VERIFY_STATUS:function(e){e.lastVerify=Date.now()},SET_USER:function(e,t){t?(e.isLoggedIn=!0,e.user={id:t.user_id,globalId:t.global_id,username:t.user_name,title:t.title,email:t.email,emailHash:t.email&&(new _.a).update(t.email).digest("hex"),avatar:t.avatar,countryCode:t.country_code,createTime:t.create_time&&new Date(t.create_time.replace(/-/g,"/")).toLocaleDateString("en-US"),unreview:t.unreview,giftCard:t.gift_card,registerSite:t.register_site,preferSite:t.prefer_site}):(e.isLoggedIn=!1,e.user=null)}},y={canVerify:function(e){var t=e.commit,r=e.state;return Date.now()-r.lastVerify>18e4&&(t("SET_VERIFY_STATUS"),!0)},userprofileserv:(c=Object(l.a)(regeneratorRuntime.mark((function e(t){var r,n,o,c,l,d,_,data,h=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=h.length>1&&void 0!==h[1]?h[1]:{},n=r.ctx,e.prev=1,l=null===(c=null===(o=n)||void 0===o?void 0:o.app)||void 0===c?void 0:c.$cookies,d=window.sessionStorage.getItem("collectorData"),_=!1,data={browser_lang:window.navigator.language||window.navigator.languages[0],kepler_id:l.get("kepler_id")},l.get("user_id")&&(data.user_id=l.get("user_id")),(!d||"login"===d&&!data.user_id||"not_login"===d&&data.user_id)&&(_=!0),_){e.next=10;break}return e.abrupt("return");case 10:return e.next=12,this.$axios.$post(f.a.userprofileserv,{event_type:"device",event_data:Object(m.b)(JSON.stringify(data))});case 12:e.sent.success&&window.sessionStorage.setItem("collectorData",data.user_id?"login":"not_login"),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),console.warn(e.t0);case 19:case"end":return e.stop()}}),e,this,[[1,16]])}))),function(e){return c.apply(this,arguments)}),verify:(o=Object(l.a)(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$axios.$get(f.a.verify);case 3:if(!(t=e.sent).success||!t.result){e.next=9;break}return r=t.result,e.abrupt("return",{id:r.user_id,globalId:r.global_id,username:r.user_name,title:r.title,email:r.email,avatar:r.avatar,countryCode:r.country_code,preferSite:r.prefer_site});case 9:return e.abrupt("return",null);case 10:e.next=15;break;case 12:return e.prev=12,e.t0=e.catch(0),e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,this,[[0,12]])}))),function(){return o.apply(this,arguments)}),updateUid:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t||{},n=r.cookies,o=r.global_id,c=r.type;n&&"remove"===c?n.remove("user_id"):n&&o&&n.get("user_id")!==o&&n.set("user_id",o,{path:"/",maxAge:604800})},getProfile:(n=Object(l.a)(regeneratorRuntime.mark((function e(t){var r,n,o,c,l,d,_,m,h,v,y=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.commit,n=t.dispatch,o=y.length>1&&void 0!==y[1]?y[1]:{},c=o.ctx,e.prev=2,e.next=5,this.$axios.$get(f.a.simpleProfile);case 5:if(m=e.sent,h=0,v=null===(d=null===(l=c)||void 0===l?void 0:l.app)||void 0===d?void 0:d.$cookies,!m.success||!m.result){e.next=16;break}return m.result.unreview=h,r("SET_USER",m.result),e.next=13,n("updateUid",{cookies:v,global_id:null===(_=m.result)||void 0===_?void 0:_.global_id});case 13:return e.next=15,n("userprofileserv",{ctx:c});case 15:return e.abrupt("return",m.result);case 16:return r("SET_USER",null),e.next=19,n("updateUid",{cookies:v,type:"remove"});case 19:return e.next=21,n("userprofileserv",{ctx:c});case 21:return e.abrupt("return",null);case 24:return e.prev=24,e.t0=e.catch(2),r("SET_USER",null),e.abrupt("return",null);case 28:case"end":return e.stop()}}),e,this,[[2,24]])}))),function(e){return n.apply(this,arguments)})}},599:function(e,t){},601:function(e,t){},609:function(e,t,r){"use strict";r.r(t),r.d(t,"state",(function(){return G})),r.d(t,"mutations",(function(){return B})),r.d(t,"actions",(function(){return Y})),r.d(t,"getters",(function(){return V}));r(16),r(12),r(10),r(9),r(7),r(87),r(35),r(80);var n,o=r(13),c=(r(17),r(19),r(60),r(11),r(0)),l=r(1),d=r(2),_=r(8),f=r.n(_),m=r(94),h=r(378),v=r.n(h),y=r(129),k=r.n(y),T=r(61),S=r.n(T),E=r(5),O=r(136),w=r(139);function P(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function I(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?P(Object(source),!0).forEach((function(t){Object(c.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):P(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var R="SET_ACTIVITY_DETAIL",A="SET_ATTR_IDS",j="SET_SELECTED_SKU_ID",x="SET_SKU_SELECTED_DATE",C="SET_SKU_COUNT",D="SET_PLAIN_VALUE",L="SET_SEATS_PARAMS",N="SET_SEATS_MODAL",H="SET_CHOOSE_TYPE";function U(e,t,r){return K.apply(this,arguments)}function K(){return(K=Object(l.a)(regeneratorRuntime.mark((function e(t,r,n){var path,o,c,l,d,data,_,f,m,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return path=r.path,o=r.params,c=r.type,l=void 0===c?"get":c,e.prev=1,e.next=4,t.$axios[l](path,"get"===l?{params:o}:o,{timeout:8e3});case 4:return d=e.sent,data=d.data,_=d.data,f=_.result,m=_.success,h=_.error,"function"==typeof n&&n.call(t,data),(!m||h&&h.code)&&t.commit("event-vertical/SET_PLAIN_VALUE",{key:"error",data:h||{}}),e.abrupt("return",!!m&&f);case 15:return e.prev=15,e.t0=e.catch(1),t.commit("event-vertical/SET_PLAIN_VALUE",{key:"error",data:e.t0||{}}),e.abrupt("return",!1);case 19:case"end":return e.stop()}}),e,null,[[1,15]])})))).apply(this,arguments)}var $,M,F,G=function(){return{current_lang_published:!1,published:!1,id:1,activity_name:"",banner_list:[],venue_info:{},sale_time:"2020-10-10T15:30Z",confirm_type:1,voucher_get_method:1,seat_assign_type:1,max_count:0,min_count:0,step:1,info_list:[],attribute_groups:[],sku_list:[],error:{code:"",message:""},selectedSkuId:null,skuCount:1,chosenAttrIds:[],skuSelectedDate:"",showSeatModal:!1,showAvalibleTip:!1,manualCountTip:"",seatsParams:{},seatsInfo:{},chooseType:O.a.ChooseType.None,originTop:0}},B=(n={},Object(c.a)(n,D,(function(e,t){e[t.key]=Array.isArray(t.data)?S()(t.data):t.data})),Object(c.a)(n,N,(function(e,data){e.showSeatModal=data})),Object(c.a)(n,L,(function(e,data){e.seatsParams=data})),Object(c.a)(n,R,(function(e,data){for(var t in e.id=data.id,e.attribute_groups=data.attribute_groups,e.sku_list=data.sku_list,data.detail){var r=data.detail[t];if("info_list"===t)try{r.forEach((function(e){var content=e.content;content&&(e.content=JSON.parse(content))}))}catch(e){}d.default.set(e,t,r),e.skuCount=data.min_count||1}})),Object(c.a)(n,A,(function(e,t){e.chosenAttrIds=t})),Object(c.a)(n,j,(function(e,t){e.selectedSkuId=t})),Object(c.a)(n,x,(function(e,data){e.skuSelectedDate=data})),Object(c.a)(n,C,(function(e,t){e.skuCount=t})),Object(c.a)(n,H,(function(e,data){var t;e.chooseType=(null===(t=data.detail)||void 0===t?void 0:t.seat_assign_type)||O.a.ChooseType.Auto})),n),Y={initialData:(F=Object(l.a)(regeneratorRuntime.mark((function e(t,r){var n,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.commit,o=r.activityId,e.next=4,U(this,{path:"/v1/enteventapisrv/public/activity/detail",params:{activity_id:o},type:"get"});case 4:return(c=e.sent)&&(n(R,c),n(H,c)),e.abrupt("return",c);case 7:case"end":return e.stop()}}),e,this)}))),function(e,t){return F.apply(this,arguments)}),setChosenAttributeIds:function(e,t){var r=e.commit,n=e.state;r(A,t);var o=n.attribute_groups,c=n.sku_list,l=null;if(t.length===o.length){var d=c.find((function(e){var r=e.attribute_value_ids;return k()(t,r)}));l=d?d.sku_id:null}r(j,l)},setSeatsParams:function(e,data){(0,e.commit)(L,data)},setPlainValue:function(e,t){(0,e.commit)(D,t)},setSeatsModalStatus:function(e,data){(0,e.commit)(N,data)},getAssignedSeats:(M=Object(l.a)(regeneratorRuntime.mark((function e(t){var r,n,o,c,l,d,_,f,m,h,v,y,i,section,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.state,n=t.getters,o=t.commit,_=n.currentUnit,f=r.skuCount,m={},h=!0,e.next=7,U(this,{path:"/v1/enteventapisrv/public/seats/assigned_seat",params:{event_key:_.event_key},type:"get"});case 7:if(v=e.sent,y=(null===(c=v)||void 0===c?void 0:c.seat_label_list)||[],v&&y.length===f)for(i=0;i<y.length;i++)section=null===(d=null===(l=v)||void 0===l?void 0:l.assigned_seats_info)||void 0===d?void 0:d.seat_details[y[i]],_.category_labels.includes(section&&section.category_label)||(h=!1);else h=!1;if(!h){e.next=14;break}m=v,e.next=18;break;case 14:return e.next=16,U(this,{path:"/v1/enteventapisrv/public/seats/assign_seat",params:{event_key:_.event_key,seat_categories:_.category_labels,count:f},type:"post"});case 16:(data=e.sent)&&(m=data);case 18:return o(D,{key:"seatsInfo",data:{objects:m.seat_label_list,holdToken:m.hold_token,expires_at:m.expires_at}}),e.abrupt("return",m);case 20:case"end":return e.stop()}}),e,this)}))),function(e){return M.apply(this,arguments)}),releaseSeats:($=Object(l.a)(regeneratorRuntime.mark((function e(t){var r,n,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.state,n=t.commit,e.next=3,U(this,{path:"/v1/enteventapisrv/public/seats/release_seat",params:{event_key:r.seatsParams.eventKey},type:"post"});case 3:return(data=e.sent)&&n(D,{key:"seatsInfo",data:{}}),e.abrupt("return",data);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return $.apply(this,arguments)})},V={isPublished:function(e){return e.current_lang_published&&e.published},isSoldOut:function(e){var t=e.sku_list;return 0===t.length||t.every((function(e){return e.inventory_quantity<1}))},isBeforeSale:function(e){var t=e.sale_time;return!!t&&f()(Date.now()).isBefore(f()(t))},currentUnit:function(e){var t=e.selectedSkuId,r=e.sku_list;return t?r.find((function(e){return e.sku_id===t})):null},lowestPrice:function(e){var t=e.sku_list;if(0===t.length)return"0";var r=v()(t,["selling_price"]);return r.length>0?Object(E.j)(r[0].selling_price):"0"},totalPrice:function(e,t,r){var n=t.currentUnit,o=e.skuCount,c=r.klook.currencySymbol;return n?c+" "+Object(E.j)(Object(m.b)(n.selling_price,o)):""},totalCredits:function(e,t){var r=t.currentUnit,n=e.skuCount;return r?Math.floor(Object(m.b)(r.credits||0,n)):0},schedules:function(e){var t=e.attribute_groups.find((function(e){return 1===e.data_type}));return t?t.attribute_values.map((function(e){return e.value})):[]},eventHighlight:function(e){var data=e.info_list.find((function(e){return"HIGHLIGHT"===e.type}));return data&&data.content?data.content:null},eventPolicy:function(e){var data=e.info_list.find((function(e){return"POLICY"===e.type}));return data&&data.content?data.content:null},eventDesc:function(e){var data=e.info_list.find((function(e){return"DESC"===e.type}));return data&&data.content?data.content:null},eventBasicInfo:function(e){var t=e.seat_assign_type,r=e.voucher_get_method;return function(n){var o={2:n("12272"),4:n("16198")},c={5:n("12271"),1:n("16197")};return{title:e.activity_name,saletime:e.sale_time||"",address:e.venue_info.address,latlong:"".concat(e.venue_info.latitude,",").concat(e.venue_info.longitude),venue:e.venue_info.venue_name,confirmType:n("12273"),voucherType:c[r],seatType:o[t],organizer:e.organizer,map_review_image:e.venue_info.map_review_image}}},eventDateRange:function(e,t){return function(e,r){var n=t.schedules.map((function(t){return Object(w.a)(r,t,e("16992"))})),o=n.length;return o>1?"".concat(n[0]," - ").concat(n[o-1]):n[0]}},validSkus:function(e){return e.sku_list.filter((function(e){return e.inventory_quantity>0}))},validSkuAttrIds:function(e,t){var r=e.attribute_groups;return t.validSkus.reduce((function(e,t){var n=t.attribute_value_ids,l=void 0===n?[]:n;return Object(E.u)(l).reduce((function(e,n){var l=Object(o.a)(n).sort().join(","),d=n.length===r.length;return I({},e,Object(c.a)({},l,!d||t))}),e)}),{})},availableAttributeGroups:function(e,t){var r=e.attribute_groups,n=e.chosenAttrIds,o=t.validSkuAttrIds;return r.map((function(e){return I({},e,{attribute_values:e.attribute_values.map((function(t){var r=t.attribute_value_id,c=n.filter((function(t){return!e.attribute_values.find((function(e){return e.attribute_value_id===t}))})),l=Array.from(new Set(c).add(r)).sort().join(",");return I({},t,{isPackageMatched:o[l]||!1,isActive:n.includes(t.attribute_value_id)})}))})}))}}},673:function(e,t,r){"use strict";r.r(t),r.d(t,"state",(function(){return h})),r.d(t,"mutations",(function(){return v})),r.d(t,"actions",(function(){return y}));r(16),r(12),r(9),r(10),r(43),r(11);var n,o=r(1),c=(r(7),r(0));function l(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function d(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(t){Object(c.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var _,f={12571:{dlpId:13641,city:"naha"},44679:{dlpId:95,city:"darwin"},53605:{dlpId:24658,city:"bega-valley-shire-council"},78238:{dlpId:16897,city:"hobart"},79447:{dlpId:85,city:"wellington"},114094:{dlpId:87,city:"nelson"},700350:{dlpId:69,city:"melbourne"},22062:{dlpId:702416,city:"bali"},365201:{dlpId:702414,city:"ko-samui"}},m={allLocation:"/v1/transfercarrentalapisrv/carrental/all_location",locationComplete:"/v1/transfercarrentalapisrv/carrental/autocomplete",home:"/v1/transfercarrentalapisrv/home",mwebHome:"/v1/transfercarrentalapisrv/mweb_home",result:{desktop:"/v1/transfercarrentalapisrv/carrental/vehicle/polling_result",mobile:"/v1/transfercarrentalapisrv/carrental/vehicle/mweb_polling_result"},country:"/v1/transfercarrentalapisrv/source_country_code",detail:{desktop:"/v1/transfercarrentalapisrv/carrental/all_package_detail_info",mobile:"/v1/transfercarrentalapisrv/carrental/mweb_all_package_detail_info"},updatePrice:{desktop:"/v1/transfercarrentalapisrv/carrental/update_price_detail",mobile:"/v1/transfercarrentalapisrv/carrental/mweb_update_price_detail"},poi:"/v1/transfercarrentalapisrv/carrental/all_location_v2",cancellationNotice:"/v1/transfercarrentalapisrv/app/notice",dlp:"/v1/transfercarrentalapisrv/carrental/dlp",homeConfig:"/v1/transfercarrentalapisrv/poi/home_config",domesticCity:"/v1/transfercarrentalapisrv/poi/domestic_city",internationalCity:"/v1/transfercarrentalapisrv/poi/overseas_city",cityPoiList:"/v1/transfercarrentalapisrv/poi/get_city_poi",locationCompleteV2:"/v1/transfercarrentalapisrv/poi/autocomplete_V2",orderDetail:"/v1/transfercarrentalapisrv/carrental/order/detail",refund:{reason:"/v1/transfercarrentalapisrv/carrental/order/refund/reason",get_amount:"/v1/transfercarrentalapisrv/carrental/order/refund/get_amount",apply_amount:"/v1/transfercarrentalapisrv/carrental/order/refund/apply_refund",detail:"/v1/transfercarrentalapisrv/carrental/order/refund/detail"}},h=function(){return{allLocationList:[],completePlaceList:{list:[],keyword:""},completePlaceListV2:{search_result_item_list:[],tips:"",title:""},urlParams:{pick:"",drop:"",diffLoc:"",pDate:"",dDate:"",age:"",lat:"",long:"",dLat:"",dLong:"",code:"",dCode:"",iata:"",dIata:"",pCityId:"",pCityName:"",pPoiId:"",dCityId:"",dCityName:"",dPoiId:""},vehicleList:[],filterList:[],supplierMap:null,shopMap:null,country:"",rateToHDK:"",vehicleDetail:{},poiList:[],cancellationNotice:[],carmoreMention:{}}},v=(n={},Object(c.a)(n,"SET_ALL_LOCATION_LIST",(function(e,data){e.allLocationList=data})),Object(c.a)(n,"SET_COMPLETE_PlACE_LIST",(function(e,data){e.completePlaceList=data})),Object(c.a)(n,"SET_COMPLETE_PlACE_LIST_V2",(function(e,data){e.completePlaceListV2=data})),Object(c.a)(n,"SET_URL_PARAMS",(function(e,data){e.urlParams=Object.assign(e.urlParams,data)})),Object(c.a)(n,"SET_VEHICLE_LIST",(function(e,data){e.vehicleList=data})),Object(c.a)(n,"SET_DATA_MAP",(function(e,data){e.filterList=data.filter_groups_v2?data.filter_groups_v2:data.filter_groups,e.supplierMap=data.supplier_map,e.shopMap=data.shop_map})),Object(c.a)(n,"SET_USER_COUNTRY",(function(e,data){e.country=data})),Object(c.a)(n,"SET_VEHICLE_DETAIL",(function(e,data){e.vehicleDetail=data})),Object(c.a)(n,"SET_RATE_TO_HKD",(function(e,data){e.rateToHKD=data})),Object(c.a)(n,"SET_POI",(function(e,data){e.poiList=data})),Object(c.a)(n,"SET_CANCELLATION_NOTICE",(function(e,data){e.cancellationNotice=data})),Object(c.a)(n,"SET_CARMORE_MENTION",(function(e,data){e.carmoreMention=data})),n),y={getPOI:function(e){var t=e.commit;return this.$axios.$get(m.poi).then((function(e){if(e.success&&e.result){var data=e.result.location_item_list;t("SET_POI",data)}else t("SET_POI",[])})).catch((function(){t("SET_POI",[])}))},getAllLocation:function(e){var t=e.state,r=e.commit;return t.allLocationList.length>0?[]:this.$axios.$get(m.allLocation).then((function(e){if(e.success&&e.result){var data=e.result.location_group_list;r("SET_ALL_LOCATION_LIST",data)}else r("SET_ALL_LOCATION_LIST",[])})).catch((function(){r("SET_ALL_LOCATION_LIST",[])}))},getCompletePlace:function(e,t){var r=e.commit,n=t.search_word;return this.$axios.$get(m.locationComplete,{params:{search_word:n}}).then((function(e){if(e.success&&e.result){var data={list:e.result,keyword:n};r("SET_COMPLETE_PlACE_LIST",data)}else r("SET_COMPLETE_PlACE_LIST",{list:[],keyword:n});return Promise.resolve(n)})).catch((function(){return r("SET_COMPLETE_PlACE_LIST",{list:[],keyword:""}),Promise.reject(n)}))},resetCompeletePlaceList:function(e){(0,e.commit)("SET_COMPLETE_PlACE_LIST",{list:[],keyword:""})},setUrlParams:function(e,t){var r=e.state;return(0,e.commit)("SET_URL_PARAMS",t),Promise.resolve(r.urlParams)},getHome:function(){return this.$axios.$get(m.home).then((function(e){return Promise.resolve(e)}))},getMwebHome:function(){return this.$axios.$get(m.mwebHome).then((function(e){return Promise.resolve(e)}))},getHomeConfig:function(e,t){e.commit;var r=t.source_country_code;return this.$axios.$get(m.homeConfig,{params:{source_country_code:r}}).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},getDomesticCity:function(e,t){e.commit;var r=t.source_country_code;return this.$axios.$get(m.domesticCity,{params:{source_country_code:r}}).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},getInternationalCity:function(e,t){e.commit;var r=t.source_country_code;return this.$axios.$get(m.internationalCity,{params:{source_country_code:r}}).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},getCityPoiList:function(e,t){e.commit;var r=t.city_id;return this.$axios.$get(m.cityPoiList,{params:{city_id:r}}).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},getLocationCompleteV2:function(e,t){var r=e.commit,n=t.is_domestic,o=t.search_word,c=t.source_country_code;return this.$axios.$get(m.locationCompleteV2,{params:{is_domestic:n,search_word:o,source_country_code:c}}).then((function(e){if(e.success&&e.result){var data=e.result;r("SET_COMPLETE_PlACE_LIST_V2",data)}else r("SET_COMPLETE_PlACE_LIST_V2",{});return Promise.resolve(o)})).catch((function(){r("SET_COMPLETE_PlACE_LIST_V2",{})}))},resetCompeletePlaceV2List:function(e){(0,e.commit)("SET_COMPLETE_PlACE_LIST_V2",{})},getVehicleList:function(e,t){e.commit;var r=t.searchId,n=t.platform,o="searchId=".concat(r);return this.$axios.$post(m.result[n],o,{headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},timeout:1e4,throwError:!0}).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},getCountry:function(e){var t=e.commit;return this.$axios.$get(m.country).then((function(e){if(e.success&&e.result){var data=e.result;t("SET_USER_COUNTRY",data)}return Promise.resolve(e)}))},getVehicleDetail:(_=Object(o.a)(regeneratorRuntime.mark((function e(t,r){var n,o,c,l,_,header,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.commit,o=r.payload,c=r.networkErrorMsg,l=r.platform,_=void 0===l?"desktop":l,header={"Content-Type":"application/json; charset=UTF-8"},e.next=5,this.$axios.$post(m.detail[_],o,{headers:header,timeout:15e3}).catch((function(e){throw Object.assign(e,{type:"network",message:c,cause:e}),e})).then((function(e){if(e.success&&e.result){var data=JSON.parse(JSON.stringify(e.result));return n("SET_VEHICLE_DETAIL",data),e}var t=new Error("undefined");throw Object.assign(t,d({cause:e,type:"business"},e.error)),t}));case 5:return p=e.sent,e.abrupt("return",p);case 7:case"end":return e.stop()}}),e,this)}))),function(e,t){return _.apply(this,arguments)}),postDetailPrice:function(e,t){e.commit;var r=t.payload,n=t.platform;return this.$axios.$post(m.updatePrice[n],r,{headers:{"Content-Type":"application/json; charset=UTF-8"},throwError:!0}).then((function(e){return e.success&&e.result,Promise.resolve(e)}))},getCancellationNotice:function(e){var t=e.commit;return this.$axios.$get(m.cancellationNotice).then((function(e){if(e.success&&e.result){var data=e.result;t("SET_CANCELLATION_NOTICE",data)}else t("SET_CANCELLATION_NOTICE",[])})).catch((function(){t("SET_CANCELLATION_NOTICE",[])}))},clearVehicleData:function(e){var t=e.commit;t("SET_VEHICLE_LIST",[]),t("SET_DATA_MAP",{filter_groups:[],supplier_map:null,shop_map:null})},setPollingData:function(e,t){var r=e.commit;r("SET_VEHICLE_LIST",t.vehicle_info_list),r("SET_DATA_MAP",t),r("SET_RATE_TO_HKD",t.rate_to_hkd)},getDlpData:function(e,t){e.commit;var r=t.id,n=t.type,o=t.redirect,c=t.lang,path=t.path,l=f[Number(r)];if(l&&o){var d=l.dlpId,_=l.city;o(301,"/".concat(c,"/car-rentals/city/").concat(d,"-").concat(_,"-car-rentals/"))}return this.$axios.$get(m.dlp,{params:{id:r,type:n}}).then((function(e){if(e&&e.success&&e.result)return e.result.seo_info&&e.result.seo_info.seo_url!==path&&o(301,encodeURI(e.result.seo_info.seo_url)),{searchLocationInfo:e.result.search_location_info,headerInfo:e.result.dlp_header_info||{},vehicleInfo:e.result.dlp_vehicle_info||{},supplierInfo:e.result.dlp_supplier_info||{},faqsInfo:e.result.dlp_faqs_info||{},nearCityInfo:e.result.near_city_info||{},seoInfo:e.result.seo_info||{},banner:e.result.banner||{},cityId:e.result.city_id}})).catch((function(e){return Promise.reject(e)}))},getSupplierDlpData:function(e,t){e.commit;var r=t.id,n=t.type;return this.$axios.$get(m.dlp,{params:{id:r,type:n}}).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},getOrderDetail:function(e,t){e.commit;var r=t.orderGuid,n=t.bookingNo;return this.$axios.$get(m.orderDetail,{params:{orderGuid:r,bookingNo:n}}).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},getRefundReason:function(e,t){e.commit;return this.$axios.$post(m.refund.reason,t,{headers:{"Content-Type":"application/json; charset=UTF-8"},timeout:15e3,throwError:!0}).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},getRefundAmount:function(e,t){e.commit;return this.$axios.$post(m.refund.get_amount,t,{headers:{"Content-Type":"application/json; charset=UTF-8"},timeout:15e3,throwError:!0}).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},applyRefund:function(e,t){e.commit;return this.$axios.$post(m.refund.apply_amount,t,{headers:{"Content-Type":"application/json; charset=UTF-8"},timeout:15e3,throwError:!0}).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},getRefundDetail:function(e,t){e.commit;var r=t.orderGuid,n=t.bookingNo;return this.$axios.$get(m.refund.detail,{params:{orderGuid:r,bookingNo:n}}).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},setCarmoreMention:function(e,t){(0,e.commit)("SET_CARMORE_MENTION",t)}}},674:function(e,t,r){"use strict";r.r(t),r.d(t,"actions",(function(){return n}));r(7);var n={getCityById:function(e,t){return this.$axios.$get("/v1/usrcsrv/city/".concat(t)).then((function(e){return e.success&&e.result?e.result:Promise.reject(new Error("getCityById error"))}))},getCouregById:function(e,t){return this.$axios.$get("/v1/usrcsrv/country/".concat(t,"/basic_info")).then((function(e){return e.success&&e.result?e.result:Promise.reject(new Error("getCouregById error"))}))}}},675:function(e,t,r){"use strict";r.r(t),r.d(t,"state",(function(){return l})),r.d(t,"mutations",(function(){return d})),r.d(t,"actions",(function(){return _}));var n,o=r(0),c=r(3),l=function(){return{placeholder:"",suggestParams:null,searchQuery:"",searchHistoryArr:[],slideWordList:[]}},d=(n={},Object(o.a)(n,"SET_HEADER_SEARCH_DATA",(function(e,data){e.placeholder=data.placeholder,e.searchQuery=data.searchQuery,e.suggestParams=data.suggestParams})),Object(o.a)(n,"SET_HEADER_SEARCH_HISTORY",(function(e,data){e.searchHistoryArr=data})),Object(o.a)(n,"SET_SLIDE_WORD_DATA",(function(e,data){e.slideWordList=data})),n),_={setHeaderSearch:function(e,data){(0,e.commit)("SET_HEADER_SEARCH_DATA",data)},getSlideWord:function(e){var t=e.commit;return this.$axios.$get(c.a.slideWord).then((function(e){e.success&&e.result&&t("SET_SLIDE_WORD_DATA",e.result.data||[])}))}}},676:function(e,t,r){"use strict";r.r(t),r.d(t,"state",(function(){return _})),r.d(t,"mutations",(function(){return f})),r.d(t,"actions",(function(){return m}));r(11);var n,o,c=r(1),l=r(0),d=r(3),_=function(){return{keplerId:"",experimentsGroup:{},tintedList:""}},f=(n={},Object(l.a)(n,"SET_KEPLER_ID",(function(e,t){e.keplerId=t})),Object(l.a)(n,"SET_EXPERIMENTS_HIT_LIST",(function(e,t){e.experimentsGroup=t})),Object(l.a)(n,"SET_TINTED_LIST",(function(e,t){e.tintedList=t})),n),m={getExperimentsHitList:(o=Object(c.a)(regeneratorRuntime.mark((function e(t){var r,n,o,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.commit,n=t.rootState,e.prev=1,e.next=4,this.$axios.$get(d.a.getExperimentsHitList,{timeout:500,headers:{"X-Platform":n.klook.platform}});case 4:(o=e.sent)&&o.result&&(c=o.result.exps||[],l=[],c.forEach((function(e){e.need_dye&&l.push("".concat(e.experiment_id,":").concat(e.group_id))})),l.length&&r("SET_TINTED_LIST",JSON.stringify({kepler:l}))),r("SET_EXPERIMENTS_HIT_LIST",o.result.exps||[]),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),r("SET_EXPERIMENTS_HIT_LIST",[]);case 12:case"end":return e.stop()}}),e,this,[[1,9]])}))),function(e){return o.apply(this,arguments)})}},677:function(e,t,r){"use strict";r.r(t),r.d(t,"state",(function(){return f})),r.d(t,"getters",(function(){return m})),r.d(t,"mutations",(function(){return h})),r.d(t,"actions",(function(){return v}));var n,o=r(0),c=(r(11),r(1)),l=r(95),d="SET_HUB_PAGE_ENTRY",_=function(){var e=Object(c.a)(regeneratorRuntime.mark((function e(t,r,n){var path,o,c,d,_,data,f,m,h,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return path=r.path,o=r.params,c=r.type,d=void 0===c?"get":c,e.prev=1,e.next=4,t.$axios[d](path,"get"===d?{params:o}:o,{timeout:8e3});case 4:if(_=e.sent,data=_.data,f=_.data,m=f.result,h=f.success,v=f.error,"function"==typeof n&&n.call(t,data),!(!h||v&&v.code)){e.next=13;break}throw v;case 13:return e.abrupt("return",!!h&&m);case 16:return e.prev=16,e.t0=e.catch(1),t.commit("event-vertical/common/SET_ERROR",{type:l.a.errorType.NetworkError}),e.abrupt("return",!1);case 20:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(t,r,n){return e.apply(this,arguments)}}(),f=function(){return{error:{code:"",type:"",message:""},hupPageEntryList:[]}},m={},h=Object(o.a)({},d,(function(e,data){e.hupPageEntryList=data||[]})),v={queryHubPageEntry:(n=Object(c.a)(regeneratorRuntime.mark((function e(t,r){var n,o,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.commit,e.next=3,_(this,{path:"/v1/enteventapisrv/public/content/hub_page_formats",params:{city_id:r.city_id,format_id:r.format_id,from:r.from}});case 3:return data=e.sent,n(d,null===(o=data)||void 0===o?void 0:o.hub_page_formats),e.abrupt("return",data);case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})}},678:function(e,t,r){"use strict";r.r(t),r.d(t,"state",(function(){return T})),r.d(t,"getters",(function(){return S})),r.d(t,"mutations",(function(){return E})),r.d(t,"actions",(function(){return O}));r(30);var n,o,c,l=r(15),d=r(0),_=(r(24),r(11),r(1)),f=r(95),m="SET_ERROR",h="SET_HUB_PAGE_INFO",v="SET_CONTENT_DATA",y="SET_ROUTER_PARAMS",k=function(){var e=Object(_.a)(regeneratorRuntime.mark((function e(t,r,n){var path,o,c,l,d,data,_,m,h,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return path=r.path,o=r.params,c=r.type,l=void 0===c?"get":c,e.prev=1,e.next=4,t.$axios[l](path,"get"===l?{params:o}:o,{timeout:8e3});case 4:if(d=e.sent,data=d.data,_=d.data,m=_.result,h=_.success,v=_.error,"function"==typeof n&&n.call(t,data),!(!h||v&&v.code)){e.next=13;break}throw v;case 13:return e.abrupt("return",!!h&&m);case 16:return e.prev=16,e.t0=e.catch(1),t.commit("event-vertical/hub-page/SET_ERROR",{type:f.a.errorType.NetworkError}),e.abrupt("return",!1);case 20:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(t,r,n){return e.apply(this,arguments)}}(),T=function(){return{error:{code:"",type:"",message:""},cityId:"",slug:"",extType:{name:"",value:""},pageNum:1,pageSize:24,info:{},contentTotal:0,contentList:[]}},S={},E=(n={},Object(d.a)(n,m,(function(e,data){e.error=data||{}})),Object(d.a)(n,h,(function(e,data){e.info=data||{}})),Object(d.a)(n,v,(function(e,data){e.contentList=data.data_list||[],e.contentTotal=data.total||0})),Object(d.a)(n,y,(function(e,data){e.cityId=data.cityId||"",e.slug=data.slug||"",e.pageNum=data.pageNum||1,e.extType.name=data.extTypeName||"",e.extType.value=data.extTypeValue||""})),n),O={setPageRouteParams:function(e,t){var r,n,o=e.commit,c=(null===(r=t.hubtype)||void 0===r?void 0:r.split("-"))||[],d=Object(l.a)(c,2)[1],_=(null===(n=t.hubpath)||void 0===n?void 0:n.split(/(\d+)-(\d+)-?(.+)?/))||[],f=Object(l.a)(_,4),m=f[1],h=f[2],v=f[3];o(y,{pageNum:+t.page,extTypeName:d,extTypeValue:h,cityId:m,slug:v})},queryHubPageInfo:(c=Object(_.a)(regeneratorRuntime.mark((function e(t,r){var n,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.commit,e.next=3,k(this,{path:"/v1/enteventapisrv/public/content/hub_page",params:{city_id:r.city_id,format_id:r.format_id}});case 3:return data=e.sent,n(h,data),e.abrupt("return",data);case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return c.apply(this,arguments)}),queryHubPageContent:(o=Object(_.a)(regeneratorRuntime.mark((function e(t,r){var n,o,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.commit,o=t.state,e.next=3,k(this,{type:"post",path:"/v1/enteventapisrv/public/content/query",params:{city_id:r.city_id,formats:[r.format_id],pagination:{page_size:o.pageSize,page_num:r.page_num}}});case 3:return data=e.sent,n(v,data||{}),e.abrupt("return",data);case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return o.apply(this,arguments)})}},679:function(e,t,r){"use strict";r.r(t),r.d(t,"state",(function(){return y})),r.d(t,"mutations",(function(){return k})),r.d(t,"actions",(function(){return T})),r.d(t,"getters",(function(){return S}));r(16),r(12),r(10),r(9),r(7),r(35);var n,o=r(15),c=(r(11),r(1)),l=r(0);function d(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function _(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(t){Object(l.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var f,m="/v1/enteventapisrv/public/content/vertical_page",h="/v1/enteventapisrv/public/content/query";!function(e){e[e.Format=0]="Format",e[e.Date=1]="Date"}(f||(f={}));var v,y=function(){return{info:{},listData:{},queryOptions:{},queryFormatOptions:[],queryDateOptions:[],querySortOptions:[],filterData:{start_date:"",end_date:"",date_key:"",format_id:"",sort_type:1}}},k=(n={},Object(l.a)(n,"SET_BASE_INFO",(function(e,data){e.info=data})),Object(l.a)(n,"SET_CONTENT_LIST",(function(e,data){e.listData=data})),Object(l.a)(n,"SET_QUERY_OPTIONS",(function(e,data){e.queryOptions=data})),Object(l.a)(n,"SET_QUERY_SORT_OPTIONS",(function(e,data){e.querySortOptions=data})),Object(l.a)(n,"SET_QUERY_FORMAT_OPTIONS",(function(e,data){e.queryFormatOptions=data})),Object(l.a)(n,"SET_QUERY_DATE_OPTIONS",(function(e,data){e.queryDateOptions=data})),Object(l.a)(n,"SET_FILTER_FORMAT_DATA",(function(e,t){var r=t.format_id;e.filterData.format_id=r})),Object(l.a)(n,"SET_FILTER_DATE_DATA",(function(e,t){var r=t.date_key,n=t.start_date,o=t.end_date;e.filterData.date_key=r,e.filterData.start_date=n,e.filterData.end_date=o})),Object(l.a)(n,"SET_FILTER_SORT_DATA",(function(e,t){var r=t.sort_type;e.filterData.sort_type=r})),n),T={setFilterData:function(e,t){(0,e.commit)(t.type,t.data)},getFCPRenderData:(v=Object(c.a)(regeneratorRuntime.mark((function e(t,r){var n,c,l,d,f,v,y,k=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.commit,l=function(path,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"get";return k.$axios[t](path,"get"===t?{params:_({},e,{_t:Date.now()})}:_({},e))},e.prev=2,e.next=5,Promise.all([l(m,{city_id:r}),l(h,{city_id:r,pagination:{page_num:1}},"post")]);case 5:if(d=e.sent,f=Object(o.a)(d,2),v=f[0].data,y=f[1].data,v.success&&y.success){e.next=13;break}return e.abrupt("return",v.error&&v.error.code||500);case 13:return((null===(c=y.result)||void 0===c?void 0:c.date_list)||[]).forEach((function(e,i){e.pos="1_"+(i+1),e.page=1})),v.result.recommend_events.forEach((function(e,t){e.pos="1-".concat(t)})),n("SET_BASE_INFO",v.result),n("SET_CONTENT_LIST",y.result),n("SET_QUERY_OPTIONS",[y.result.format_options,y.result.date_options]),n("SET_QUERY_FORMAT_OPTIONS",y.result.format_options),n("SET_QUERY_DATE_OPTIONS",y.result.date_options),n("SET_QUERY_SORT_OPTIONS",y.result.sort_options||[]),e.abrupt("return",v.result);case 22:e.next=27;break;case 24:return e.prev=24,e.t0=e.catch(2),e.abrupt("return",e.t0.response?e.t0.response.status:500);case 27:case"end":return e.stop()}}),e,null,[[2,24]])}))),function(e,t){return v.apply(this,arguments)})},S={filterItems:function(e){return function(t){return e.queryOptions.map((function(e,r){return{name:r===f.Format?t("28660"):r===f.Date?t("12267"):"",hasDate:r===f.Date,options:e}}))}}}},680:function(e,t,r){"use strict";r.r(t),r.d(t,"state",(function(){return k})),r.d(t,"mutations",(function(){return T})),r.d(t,"actions",(function(){return S})),r.d(t,"getters",(function(){return E}));r(11);var n,o,c,l=r(1),d=r(0),_=r(32),f="/v1/fnbvouchersrv/outer/restaurant_page/info",m="/v1/fnbvouchersrv/outer/restaurant_page/add_notice",h="setRestaurantInfo",v="UpdateSubcribe",y="SetPagePreview",k=function(){return{isPreview:!1,restaurant_id:-1,restaurantTitle:"",published:!1,cur_language_published:!1,cityInfo:{},awardInfo:{list:[],icon:"",right_image:""},bannerImageList:[],dishesInfo:{placeholder_image_web:"",recommend_dish_list:[]},recommend_info:{desc:""},restaurantInfo:{},reminderInfo:{icon:"",subscribed:!1},bottomBanner:{image_web:"",deeplink:""},seoInfo:{title:"",desc:"",image:"",slug:""},seoFooterLinkGroups:[],breadcrumbInfo:{area:null}}},T=(n={},Object(d.a)(n,h,(function(e,data){e.restaurantId=data.restaurant_id,e.restaurantTitle=data.restaurant_title,e.published=data.published,e.curLanguagePublished=data.cur_language_published,e.cityInfo=data.city_info,e.dishesInfo=data.dishes_info,e.topBanner=data.top_banner,e.recommendInfo=data.recommend_info,e.restaurantInfo=data.restaurant_info,e.awardInfo=data.award_info,e.reminderInfo=data.reminder_info,e.bottomBanner=data.bottom_banner,e.seoInfo=data.seo_info,e.unavailableInfo=data.unavailable_info,e.seoFooterLinkGroups=data.seo_footer,e.breadcrumbInfo=data.breadcrumb_info})),Object(d.a)(n,v,(function(e,data){e.reminderInfo.subscribed=data})),Object(d.a)(n,y,(function(e,data){e.isPreview=data})),n),S={getRestaurantInfo:(c=Object(l.a)(regeneratorRuntime.mark((function e(t,r){var n,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.commit,o=t.dispatch,e.next=3,this.$axios.$get(f,{params:r});case 3:if(!(c=e.sent)||!c.success){e.next=10;break}return n(h,c.result),o("syncSupportLanguages",c.result.published_language_list.map((function(e){return Object(_.b)(e)})),{root:!0}),e.abrupt("return",!0);case 10:return e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,this)}))),function(e,t){return c.apply(this,arguments)}),addNotice:(o=Object(l.a)(regeneratorRuntime.mark((function e(t,r){var n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.commit,e.next=3,this.$axios.$post(m,r);case 3:if(!(o=e.sent)||!o.success){e.next=9;break}return n(v,!0),e.abrupt("return",!0);case 9:return e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e,this)}))),function(e,t){return o.apply(this,arguments)})},E={}},681:function(e,t,r){"use strict";r.r(t),r.d(t,"state",(function(){return o})),r.d(t,"mutations",(function(){return c})),r.d(t,"actions",(function(){return l})),r.d(t,"ABFlexibleFunc",(function(){return d}));var n=r(5),o=function(){return{ABFlexible:!1}},c={setABFlexible:function(e,t){e.ABFlexible=t}},l={setABFlexible:function(e){var t,r;(0,e.commit)("setABFlexible",d(null===(r=null===(t=this.state.common)||void 0===t?void 0:t.kepler)||void 0===r?void 0:r.experimentsGroup,this.state.klook.platform))}},d=function(e,t){var r="desktop"===t?"hotel flexible-search (web)":"hotel flexible-search (mweb)";return Object(n.d)(e,r)("flexible_search_treatment")}},682:function(e,t,r){"use strict";r.r(t),r.d(t,"actions",(function(){return n}));r(7);var n={getChainDetail:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.$axios.$get("/v1/hotelapiserv/hotelapi/chain/detail",{params:t,throwError:!0}).then((function(e){return e.success&&e.result?e.result:Promise.reject(e&&e.error)}))},getChainDetailDestination:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.$axios.$get("/v1/hotelapiserv/hotelapi/chain/destination",{params:t,throwError:!0}).then((function(e){return e.success&&e.result?e.result:Promise.reject(e&&e.error)}))},getChainPageData:function(){return this.$axios.$get("/v1/hotelapiserv/hotelapi/chain").then((function(e){var t;if(null===(t=e)||void 0===t?void 0:t.result)return e.result}))}}},683:function(e,t,r){"use strict";r.r(t),r.d(t,"state",(function(){return T})),r.d(t,"mutations",(function(){return S})),r.d(t,"actions",(function(){return O}));r(16),r(12),r(9),r(10),r(17),r(19),r(142),r(7);var n=r(0),o=(r(11),r(1)),c=r(5),l=r(3);function d(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function _(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var f,m,h,v,y,k=null,T=function(){return{cityId:"",cityName:"",citySeoName:"",cityBanner:"",mobileCityBanner:"",cardImage:"",countryId:"",countryName:""}},S={setCityId:function(e,data){e.cityId=data},setCityName:function(e,data){e.cityName=data},setCitySeoName:function(e,data){e.citySeoName=data},setCityBanner:function(e,data){e.cityBanner=data},setMobileCityBanner:function(e,data){e.mobileCityBanner=data},setCardImage:function(e,data){e.cardImage=data},setCountryId:function(e,data){e.countryId=data},setCountryName:function(e,data){e.countryName=data}},E=null,O={fetchCityInfoSimple:(y=Object(o.a)(regeneratorRuntime.mark((function e(t,r){var n,o,c,d,_,f,m,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.commit,o=t.rootState,e.next=3,this.$axios.$get(l.a.getCitySummary,{params:{language:o.klook.backendLanguage,city_id_list:r}});case 3:m=e.sent,h=m.result.cities,n("setCityId",r),n("setCityName",h[0].title),n("setCitySeoName",h[0].seo_url),n("setCountryId",null===(d=null===(c=h[0])||void 0===c?void 0:c.country)||void 0===d?void 0:d.area_id),n("setCountryName",null===(f=null===(_=h[0])||void 0===_?void 0:_.country)||void 0===f?void 0:f.title);case 10:case"end":return e.stop()}}),e,this)}))),function(e,t){return y.apply(this,arguments)}),fetchCityImages:(v=Object(o.a)(regeneratorRuntime.mark((function e(t,r){var n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.commit,e.next=3,this.$axios.$get(l.a.getCityImages,{params:{area_id_list:r}});case 3:o=e.sent,n("setCityBanner",o.result[0].destination_banner_image),n("setMobileCityBanner",o.result[0].destination_mobile_banner_image),n("setCardImage",o.result[0].destination_card_image);case 7:case"end":return e.stop()}}),e,this)}))),function(e,t){return v.apply(this,arguments)}),getHotelList:function(e,t){E&&(E("cancel"),E=null);var r=t.isList?l.a.hotelApiItemsV2:l.a.hotelApiItemsV1;t=_({limit:12},t);var n=c.P.camel2under(_({},t));return delete n.is_list,this.$axios.$post(r,n,{cancelToken:new this.$axios.CancelToken((function(e){E=e}))}).then((function(e){if(!e.success||!e.result)return Promise.reject(new Error("no result"));if(!t.isList)return Object.freeze(c.P.under2camel(e.result));var content=e.result.content;return _({},e.result,{cardContent:Object.freeze((content||[]).filter((function(e){return["normal","card","header"].includes(e.type)})))})}))},getPopularHotelList:function(e,t){var r=t.isList?l.a.hotelApiItemsV2:l.a.hotelApiItemsV1,n=c.P.camel2under(_({},t));return n.is_list&&delete n.is_list,this.$axios.$post(r,n).then((function(e){if(!e.success||!e.result)return Promise.reject(new Error("no result"));if(!t.isList)return Object.freeze(c.P.under2camel(e.result));var content=e.result.content;return _({},e.result,{cardContent:Object.freeze((content||[]).filter((function(e){return["normal","card","header"].includes(e.type)})))})}))},getBestHotels:function(e,t){var r=l.a.hotelApiItemsV1;t=_({},t,{sort:"review_score"});var n=c.P.camel2under(_({},t));return n.is_list&&delete n.is_list,this.$axios.$post(r,n).then((function(e){return e.success&&e.result?Object.freeze(c.P.under2camel(e.result)):Promise.reject(new Error("no result"))}))},getFiveStarHotels:function(e,t){var r=l.a.hotelApiItemsV1;t=_({},t,{filter_list:["hotelStar|5"],sort:"sort_participants_by_language"});var n=c.P.camel2under(_({},t));return n.is_list&&delete n.is_list,this.$axios.$post(r,n).then((function(e){return e.success&&e.result?Object.freeze(c.P.under2camel(e.result)):Promise.reject(new Error("no result"))}))},getFourStarHotels:function(e,t){var r=l.a.hotelApiItemsV1;t=_({},t,{filter_list:["hotelStar|4"],sort:"sort_participants_by_language"});var n=c.P.camel2under(_({},t));return n.is_list&&delete n.is_list,this.$axios.$post(r,n).then((function(e){return e.success&&e.result?Object.freeze(c.P.under2camel(e.result)):Promise.reject(new Error("no result"))}))},getCheapestHotels:function(e,t){var r=l.a.hotelApiItemsV1;t=_({},t,{sort:"price_asc"});var n=c.P.camel2under(_({},t));return n.is_list&&delete n.is_list,this.$axios.$post(r,n).then((function(e){return e.success&&e.result?Object.freeze(c.P.under2camel(e.result)):Promise.reject(new Error("no result"))}))},getHotelSuggest:function(e,t){k&&(k("cancel"),k=null);var r="".concat(l.a.hotelApiSuggest);return"string"==typeof t&&(t={keyword:t}),this.$axios.$get(r,{params:t,cancelToken:new this.$axios.CancelToken((function(e){k=e}))}).then((function(e){var t;return k=null,e&&e.success?(null===(t=e.result)||void 0===t?void 0:t.suggests.filter((function(e){return"city"===e.stype})))||[]:Promise.reject(new Error("getHotelSuggest no result"))}))},getHotelFilter:function(e,t){return this.$axios.$post(l.a.hotelApiFilter,c.P.camel2under(JSON.parse(JSON.stringify(t)))).then((function(e){var t,r=["hotelStar","hotelCategory","hotelRating","area"];return e.success&&e.result?(t=e.result.filter_list.filter((function(e){return r.includes(e.id)})),e.result.filter_list=t,e.result):Promise.reject(new Error(e&&e.error))}))},getHotelQuickFacts:(h=Object(o.a)(regeneratorRuntime.mark((function e(t,r){var n,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.a.hotelApiQuickFacts,o={vertical:"hotel",item_id:+r,category:"city"},e.next=4,this.$axios.$get(n,{params:o});case 4:if((c=e.sent).success&&c.result){e.next=7;break}return e.abrupt("return",Promise.reject(new Error("no result")));case 7:return e.abrupt("return",c.result);case 8:case"end":return e.stop()}}),e,this)}))),function(e,t){return h.apply(this,arguments)}),getHotelFaqs:(m=Object(o.a)(regeneratorRuntime.mark((function e(t,r){var n,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.a.hotelApiFaqs,o={vertical:"hotel",item_id:+r,category:"city"},e.next=4,this.$axios.$get(n,{params:o});case 4:if((c=e.sent).success&&c.result){e.next=7;break}return e.abrupt("return",Promise.reject(new Error("no result")));case 7:return e.abrupt("return",c.result);case 8:case"end":return e.stop()}}),e,this)}))),function(e,t){return m.apply(this,arguments)}),getHotelInternalLinks:(f=Object(o.a)(regeneratorRuntime.mark((function e(t){var r,n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.a.hotelApiInternalLinks,n={vertical:"hotel",item_id:+t.state.countryId,category:"country"},e.next=4,this.$axios.$get(r,{params:n});case 4:if((o=e.sent).success&&o.result){e.next=7;break}return e.abrupt("return",Promise.reject(new Error("no result")));case 7:return e.abrupt("return",o.result);case 8:case"end":return e.stop()}}),e,this)}))),function(e){return f.apply(this,arguments)})}},684:function(e,t,r){"use strict";r.r(t),r.d(t,"state",(function(){return m})),r.d(t,"mutations",(function(){return v})),r.d(t,"actions",(function(){return y})),r.d(t,"getters",(function(){return k}));r(7),r(11);var n,o,c=r(1),l=r(15),d=(r(17),r(19),r(122)),_=r(117),f=r(33),m=function(){return{pageSections:{},mapLayer:{visible:!1,mapType:""},nearByInfoList:[],reviewListInfoState:{layerVisible:!1}}},h=null,v={setPageSections:function(e,t){var r=this.state.klook,n=r.utilConfig.is_guest_checkout,o=(r.platformMp||n)&&["VoucherInfoList","AddOn"];t.reduce((function(e,section){var t,r,n,c=Object(d.upperFirst)(Object(d.camelCase)(null===(r=null===(t=section.body)||void 0===t?void 0:t.content)||void 0===r?void 0:r.data_type));if(c&&!(null===(n=o)||void 0===n?void 0:n.includes(c))){var l=section.body.content,_=l.load_type,f=l.src,data=l.data;(data||"async"===_&&f)&&(e[c]={loadType:_,src:f,data:data})}return e}),e.pageSections)},setSection:function(e,t){var r=Object(l.a)(t,2),n=r[0],data=r[1];n in e.pageSections&&(e.pageSections[n].data=data)},SET_DETAIL_POPUP_VISIBLE:function(e,data){e.detailPopupVisible=data},setReviewListLayerState:function(e,data){e.reviewListInfoState=data},changeMapLayerVisible:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.mapLayer.visible=t},setIntoMapType:function(e,t){this.commit("hotel/detail/changeMapLayerVisible"),e.mapLayer.mapType=t},setNearby:function(e,data){e.nearByInfoList=data||[]}},y={getRateList:(o=Object(c.a)(regeneratorRuntime.mark((function e(t,r){var n,o,c,l,d,_,f,m,h,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.getters.hotelInfo,o=t.state.pageSections.RateList.src,c=t.rootState,l=c.hotel.query,d=l.params,_=l.travelDate,f=_.check_in,m=_.check_out,h=c.klook.utilConfig,e.next=3,this.$axios.$get(o,{params:Object.assign({hotel_id:n.hotel_info.hotel_id,check_in:f,check_out:m,required_non_member_rate:!!h.is_guest_checkout},d,r)});case 3:return v=e.sent,e.abrupt("return",v.success?v.result:Promise.reject(v.error));case 5:case"end":return e.stop()}}),e,this)}))),function(e,t){return o.apply(this,arguments)}),fetchPageInfo:(n=Object(c.a)(regeneratorRuntime.mark((function e(t,r){var n,o,c,l,d,f,m,h,time,v,y;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.commit,o=t.rootState.hotel.query,c=o.params,l=o.travelDate,time=null,l.check_in&&l.check_out||(v=Object(_.a)(),time={check_in:v.check_in,check_out:v.check_out}),e.next=5,this.$axios.$get("/v3/hotelapiserv/hotelapi/detail",{params:Object.assign({hotel_id:r},c,l,time)});case 5:if(!((y=e.sent).success&&(null===(h=null===(m=null===(f=null===(d=y.result)||void 0===d?void 0:d.page)||void 0===f?void 0:f.body)||void 0===m?void 0:m.sections)||void 0===h?void 0:h.length))){e.next=8;break}return e.abrupt("return",n("setPageSections",y.result.page.body.sections));case 8:return e.abrupt("return",Promise.reject(y&&y.error));case 9:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)}),getHotelImageList:function(e){var t,r,n=(null===(r=null===(t=e.state.pageSections.HotelInfo)||void 0===t?void 0:t.data)||void 0===r?void 0:r.hotel_info)||{},o=n.hotel_id,c=n.supplier_id,l=n.supplier_hotel_id;return this.$axios.$get(f.b,{params:{content_supplier_id:c||"",content_supplier_hotel_id:l||"",hotel_id:o}})},fetchNearbyInfo:function(e){var t,r,n=e.state,o=e.commit,c=((null===(r=null===(t=n.pageSections.HotelInfo)||void 0===t?void 0:t.data)||void 0===r?void 0:r.hotel_info)||{}).hotel_id;return this.$axios.$get(f.c,{params:{hotel_id:c}}).then((function(e){if(e.success&&e.result)return o("setNearby",e.result),e.result}),(function(){}))},getReviewList:function(e,t){return this.$axios.$post(f.f,t).then((function(e){var t=e.success&&e.result;return t?(!t.review_list&&(t.review_list=[]),t):Promise.reject(e&&e.error)}))},getNoDateRoomList:function(e,t){var r=e.rootState.hotel.query,n=r.params,o=r.travelDate;return this.$axios.$get(f.k,{params:Object.assign({},n,o,t)}).then((function(e){return e.success?e.result||{}:Promise.reject(e&&e.error)}))},getRateRoomCalendar:function(e,t){var r=e.rootState.hotel.query.params;return h&&(h("cancel"),h=null),this.$axios.$get(f.l,{params:Object.assign({},r,t),cancelToken:new this.$axios.CancelToken((function(e){h=e}))}).then((function(e){return e.success?e.result:Promise.reject(e&&e.error)}))},getAsyncSectionData:function(e,data){var t=e.commit,r=e.state,n=(data||{}).sectionName;if(delete data.sectionName,n){var o=r.pageSections[n]||{},c=o.loadType,l=o.src;if("async"===c&&l)return this.$axios.$get(l,data).then((function(e){if(!e.success)return Promise.reject(e&&e.error);t("setSection",[n,e.result||{}])}))}}},k={hotelInfo:function(e){return e.pageSections.HotelInfo.data||{}}}},685:function(e,t,r){"use strict";r.r(t),r.d(t,"state",(function(){return d})),r.d(t,"getters",(function(){return _})),r.d(t,"mutations",(function(){return f})),r.d(t,"actions",(function(){return h}));r(16),r(12),r(9),r(10),r(17),r(19),r(142),r(7);var n=r(0),o=r(5);function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function l(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var d=function(){return{currentCityCourge:{},currentSearchType:{type:"",extra:""}}},_={currentCityCourge:function(e){return e.currentCityCourge},currentSearchType:function(e){return e.currentSearchType}},f={setCurrentCityCourge:function(e){var data=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.currentCityCourge=data},setCurrentSearchType:function(e){var data=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.currentSearchType=data}},m=null,h={setCurrentCityCourge:function(e,data){(0,e.commit)("setCurrentCityCourge",data)},getHotelList:function(e,t){m&&(m("cancel"),m=null);var r=t.isList?"/v3/hotelapiserv/hotelapi/search/hotel":"v1/hotelapiserv/hotelapi/hotelItems",n=o.P.camel2under(l({},t));return delete n.is_list,this.$axios.$post(r,n,{cancelToken:new this.$axios.CancelToken((function(e){m=e}))}).then((function(e){if(!e.success||!e.result)return Promise.reject(new Error("no result"));if(!t.isList)return Object.freeze(o.P.under2camel(e.result));var content=e.result.content;return l({},e.result,{cardContent:Object.freeze((content||[]).filter((function(e){return["normal","card","header"].includes(e.type)})))})}))},getHotelFilter:function(e,t){return this.$axios.$post("/v3/hotelapiserv/hotelapi/filter/hotel",o.P.camel2under(JSON.parse(JSON.stringify(t)))).then((function(e){return e.success&&e.result?e.result:Promise.reject(new Error(e&&e.error))}))},setCurrentSearchType:function(e,data){(0,e.commit)("setCurrentSearchType",data)}}},686:function(e,t,r){"use strict";r.r(t),r.d(t,"state",(function(){return v})),r.d(t,"mutations",(function(){return y})),r.d(t,"actions",(function(){return k})),r.d(t,"getters",(function(){return T})),r.d(t,"getSection",(function(){return E}));r(16),r(12),r(9),r(10),r(60),r(7),r(11);var n=r(1),o=r(0),c=(r(17),r(19),r(122)),l=r(33);function d(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function _(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var f,m,h,v=function(){return{pageSections:[],asideSections:[],defaultParams:{},settlementInfo:{price_info:{}},extraData:{},sessionId:""}},y={setPageSections:function(e,t){var r=t.sections,n=t.server_data,o=t.biz_error_info,l=t.session_id;e.extraData.prebookServerData=n,e.extraData.prebookBizError=o||null,e.sessionId=l;var d=this.state.klook,f=d.utilConfig.is_guest_checkout,m=d.platformMp,h=d.platform,v=d.affiliateConf,y=f&&["GiftCardInfoList","SpecialTerm"],k=m&&["GiftCardInfoList"],T=null;e.pageSections=[],e.asideSections=[],r.reduce((function(e,section){var t,r,n,o=Object(c.upperFirst)(Object(c.camelCase)(section.data_type));return(null===(t=y)||void 0===t?void 0:t.includes(o))||(null===(r=k)||void 0===r?void 0:r.includes(o))?e:"PayAtHotel"===o?(e.extraData[o]=_({data_type:o},section.data),e):("desktop"===h&&["HotelApi","HotelVoucher","PayAtHotel"].includes(o)?"PayAtHotel"===o?T=section.data:e.asideSections.push(_({data_type:o},section.data)):("PaymentSummary"===o&&(null===(n=v)||void 0===n?void 0:n.point_earn)&&e.pageSections.push({data_type:"PointEarn",pointEarn:v.point_earn}),e.pageSections.push(_({data_type:o},section.data))),e)}),e),"desktop"===h&&(e.pageSections.push({data_type:"SectionHeader",section_header:{tip:this.$i18n.t("30590")},section_data:{class_name:"step2"}}),e.asideSections.push({data_type:"AsidePaymentSummary",pay_at_hotel:T}))},setDefaultParams:function(e,t){e.defaultParams=t},settlement:function(e,t){e.settlementInfo=t},setExtraData:function(e,t){e.extraData=Object.assign({},e.extraData,t)}},k={getPreBook:(h=Object(n.a)(regeneratorRuntime.mark((function e(t,r){var n,o,c,d,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.commit,o=t.state,e.next=3,this.$axios.$post(o.extraData.isHotel?l.e:l.i,Object.assign(_({},o.defaultParams,{},r)));case 3:if(!((f=e.sent).success&&(null===(d=null===(c=f.result)||void 0===c?void 0:c.sections)||void 0===d?void 0:d.length))){e.next=7;break}return n("setPageSections",f.result),e.abrupt("return",f.result);case 7:return e.abrupt("return",Promise.reject(f.result&&f.result.biz_error_info||f&&f.error));case 8:case"end":return e.stop()}}),e,this)}))),function(e,t){return h.apply(this,arguments)}),getSettlement:(m=Object(n.a)(regeneratorRuntime.mark((function e(t,r){var n,o,c,d,f,m,h,v,y,k,T,O,w,P,I,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.state,o=t.commit,c=t.dispatch,d=t.rootState.klook,f=r.opt,m=r.settlementInfoParam,h=r.prebookParam,!f.init&&!f.refresh){e.next=5;break}return e.next=5,c("getPreBook",h);case 5:return v={},n.extraData.isHotel&&(y=E(n.pageSections,n.asideSections,"HotelApi")||{},k=y.package_info,T=(k=void 0===k?{}:k).cancel_policy,O=(T=void 0===T?{}:T).refundable,w=k.rate_plan_type,v={rate_plan_type:w,refundable:O}),P={},d.platformMp&&(P["X-Platform"]=d.platformMp),e.next=11,this.$axios.$post(n.extraData.isHotel?l.g:l.j,Object.assign(_({},v,{server_data:n.extraData.prebookServerData},m)),{headers:P});case 11:if(!(I=e.sent).success||!I.result){e.next=18;break}return data=S(I.result),o("settlement",data),e.abrupt("return",data);case 18:return e.abrupt("return",Promise.reject(I&&I.error));case 19:case"end":return e.stop()}}),e,this)}))),function(e,t){return m.apply(this,arguments)}),createOrder:(f=Object(n.a)(regeneratorRuntime.mark((function e(t,r){var n,o,c,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.state,o=t.rootState.klook,c={},o.platformMp&&(c["X-Platform"]=o.platformMp),e.next=5,this.$axios.$post(n.extraData.isHotel?l.d:l.h,_({server_data:n.settlementInfo.server_data},r),{headers:c});case 5:if(!(d=e.sent).success||!d.result){e.next=10;break}return e.abrupt("return",d.result);case 10:return e.abrupt("return",Promise.reject(d&&d.error));case 11:case"end":return e.stop()}}),e,this)}))),function(e,t){return f.apply(this,arguments)})},T={srvInfo:function(e){var t=e.settlementInfo,r=t.hotel_srv_info,n=t.shoppingcart_items,o=(void 0===n?[]:n).reduce((function(e,t){if(!t)return e;var r=t.commodity_info,n=void 0===r?{}:r,o=t.price_items;if(n.srv){var c=(o||[]).map((function(e){return{sku_id:e.id,uen_id:n.srv.uen_id,venue_id:n.srv.venue_id,is_minor:e.srv_is_minor,participation_date:n.schedule_time}}));return _({},e,{isSrv:!0,skuList:(e.skuList||[]).concat(c),tips:e.tips||n.srv.tips})}return _({},e,{isNotSrv:!0})}),{});return{isSrv:o.isSrv&&void 0===o.isNotSrv&&r&&r.is_srv_activity,skuList:o.skuList||[],isSrvMixed:o.isSrv&&o.isNotSrv,hasChild:(o.skuList||[]).some((function(e){return e.is_minor})),tips:o.tips}},priceInfo:function(e){return e.settlementInfo.price_info}},S=function(data){var e=data.hotel_id,t=data.amount,r=data.actual_amount,n=data.discount,o=data.giftcard_info,c=data.coupon_info,l=data.price_list,d=data.credit_info,f=data.gift_card_info_list,m=data.hotel_srv_info,h=data.activity_id,v=data.shoppingcart_items,y=data.server_data,k=data.currency,T=data.template_id,S=data.hotel_coupon,E=data.shoppingcart_guid,O={};return m&&((O=m.srv_price||{}).srv_coupon_code=m.srv_coupon_code),c&&(c.is_srv_only=c.srv_only),{price_info:_({coupon_info:c,credit_info:d,giftcard_info:o,price_items:l,total_payment_value:r,total_amount:t,discount:n},O,{currency:k}),shoppingcart_guid:E,server_data:y,gift_card_info_list:f,hotel_srv_info:m,activity_id:h,hotel_id:e,shoppingcart_items:v,currency:k,template_id:T,hotel_coupon:S}};function E(e,t,r){return(e.find((function(section){return r===section.data_type}))||t.find((function(section){return r===section.data_type}))||{}).section_data||{}}},687:function(e,t,r){"use strict";r.r(t),r.d(t,"actions",(function(){return y}));r(16),r(12),r(9),r(7),r(10);var n=r(0),o=(r(11),r(1)),c=r(5);function l(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function d(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var _,f,m=null,h=null,v=null,y={baseInfoFetch:function(e,t){var r=t.city_id,n=void 0===r?"":r;return this.$axios.$get("/v2/hotelapiserv/hotelapi/promotion/destination",{params:{city_id:n},throwError:!0})},getDestinationList:(f=Object(o.a)(regeneratorRuntime.mark((function e(){var t,r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$axios.$get("/v2/hotelapiserv/hotelapi/destination?type=promotion_page",{throwError:!0}).catch((function(){}));case 2:return n=e.sent,e.abrupt("return",(null===(r=null===(t=n)||void 0===t?void 0:t.result)||void 0===r?void 0:r.destination)||[]);case 4:case"end":return e.stop()}}),e,this)}))),function(){return f.apply(this,arguments)}),recommendListFetch:function(e,t){var r=t.city_id,n=void 0===r?"":r;return m&&m.cancel("cancel"),m=this.$axios.CancelToken.source(),this.$axios.$get("/v2/hotelapiserv/hotelapi/promotion/promotionVoucher",{params:{city_id:n},throwError:!0,cancelToken:m.token})},voucherListFetch:function(e,t){return h&&h.cancel("cancel"),h=this.$axios.CancelToken.source(),this.$axios.$post("/v2/hotelapiserv/hotelapi/promotion/voucherList",d({},t,{hotel_pre_filter_list:t.hotel_pre_filter_list.map((function(e){return{type:e.type,note_list:e.note_list.map((function(e){return{value:e.value}}))}}))}),{throwError:!0,cancelToken:h.token})},getFilterList:(_=Object(o.a)(regeneratorRuntime.mark((function e(t,r){var n,o,c,l,d,_;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.city_id,o=r.longitude,c=r.latitude,e.next=3,this.$axios.$post("/v1/hotelapiserv/hotelapi/preFilter",{city_id:n,longitude:o,latitude:c,pre_filter_type:"promotion_page"}).catch((function(){}));case 3:return _=e.sent,e.abrupt("return",(null===(d=null===(l=_)||void 0===l?void 0:l.result)||void 0===d?void 0:d.hotel_pre_filter_list)||[]);case 5:case"end":return e.stop()}}),e,this)}))),function(e,t){return _.apply(this,arguments)}),dealListFetch:function(e,data){return v&&v.cancel("cancel"),v=this.$axios.CancelToken.source(),this.$axios.$post("/v2/hotelapiserv/hotelapi/promotion/promotionList",d({},data,{hotel_pre_filter_list:Object(c.h)(data.hotel_pre_filter_list,(function(e){return"sortList"!==e.type&&d({},e,{note_list:e.note_list.map((function(e){return{value:e.value}}))})}))}),{throwError:!0,cancelToken:v.token})}}},688:function(e,t,r){"use strict";r.r(t),r.d(t,"actions",(function(){return n}));var n={getStaycationIndex:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.$axios.$get("/v1/hotelapiserv/staycation/index",{params:t,throwError:!0})},getStaycationDestinationList:function(e,t){return this.$axios.$get("/v1/hotelapiserv/staycation/destination/list",{params:t,throwError:!0})},getStaycationHotelList:function(e){var t=e.rootState.hotel.query.travelDate,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.$axios.$get("/v2/hotelapiserv/staycation/list",{params:Object.assign({},r,t),throwError:!0})}}},689:function(e,t,r){"use strict";r.r(t),r.d(t,"state",(function(){return y})),r.d(t,"actions",(function(){return k})),r.d(t,"mutations",(function(){return T}));r(7),r(11);var n,o,c,l,d,_,f,m=r(1),h=r(33),v=r(5),y=function(){return{voucherDetail:{}}},k={getRefundDetailList:(f=Object(m.a)(regeneratorRuntime.mark((function e(t,r){var n,o,c,l,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.rootGetters,e.next=3,this.$axios.$get("/v1/hotelapiserv/order/refund/refundList",{params:r,throwError:!0,loading:Object(h.a)(this.$i18n.t("hotel.wait_for_prebooking"),"desktop"===n.platform?354:246,void 0,"desktop"===n.platform?200:150)});case 3:if(!((c=e.sent)&&c.success&&(null===(o=c.result)||void 0===o?void 0:o.length))){e.next=9;break}if(l=[{desc:this.$i18n.t("ptp_refund_process"),status:"process",tip:this.$i18n.t("ptp_refund_detail_tip_process")},{desc:this.$i18n.t("ptp_refund_complete"),status:"confirm",tip:this.$i18n.t("ptp_refund_detail_tips")}],!(d=Object(v.h)(c.result,(function(e){return e.refund_status<3&&Object.assign(e,{refund_status:l[e.refund_status%2]})}))).length){e.next=9;break}return e.abrupt("return",d);case 9:return e.abrupt("return",Promise.reject(new Error));case 10:case"end":return e.stop()}}),e,this)}))),function(e,t){return f.apply(this,arguments)}),postRefundApply:(_=Object(m.a)(regeneratorRuntime.mark((function e(t,data){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.rootGetters,e.next=3,this.$axios.$post("/v1/hotelapiserv/order/refund/apply",data,{throwError:!0,loading:Object(h.a)(this.$i18n.t("hotel.wait_for_prebooking"),"desktop"===r.platform?354:246,void 0,"desktop"===r.platform?200:150)});case 3:if(!((n=e.sent)&&n.success&&n.result)){e.next=6;break}return e.abrupt("return",n.result);case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return _.apply(this,arguments)}),getRefundReason:(d=Object(m.a)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$axios.$get("/v1/hotelapiserv/order/refund/reason",{throwError:!0});case 2:if(!(t=e.sent)||!t.success){e.next=5;break}return e.abrupt("return",t.result);case 5:case"end":return e.stop()}}),e,this)}))),function(){return d.apply(this,arguments)}),getRefundPrice:(l=Object(m.a)(regeneratorRuntime.mark((function e(t,r){var n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.rootGetters,e.next=3,this.$axios.$get("/v1/hotelapiserv/order/refund/price",{params:{ticket_guid:r},throwError:!0,loading:"desktop"===n.platform&&Object(h.a)(this.$i18n.t("hotel.wait_for_prebooking"),"desktop"===n.platform?354:246,void 0,"desktop"===n.platform?200:150)});case 3:if(!(o=e.sent)||!o.success){e.next=6;break}return e.abrupt("return",o.result);case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return l.apply(this,arguments)}),createVoucherOrder:(c=Object(m.a)(regeneratorRuntime.mark((function e(t,data){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.rootGetters,e.next=3,this.$axios.$post("/v1/hotelapiserv/order/voucher/reserve/create",data,{throwError:!0,loading:Object(h.a)(this.$i18n.t("hotel.wait_for_prebooking"),"desktop"===r.platform?354:246,void 0,"desktop"===r.platform?200:150)});case 3:if(!(n=e.sent)||!n.success){e.next=6;break}return e.abrupt("return",n.result);case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return c.apply(this,arguments)}),getVoucherDetail:(o=Object(m.a)(regeneratorRuntime.mark((function e(t,r){var n,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.rootGetters,e.next=3,this.$axios.$get("/v1/hotelapiserv/order/voucher/reserve/detail",{params:r,throwError:!0,loading:Object(h.a)(this.$i18n.t("hotel.wait_for_prebooking"),"desktop"===n.platform?354:246,void 0,"desktop"===n.platform?200:150)});case 3:return c=e.sent,e.abrupt("return",c&&c.success&&c.result?r.voucher_count&&!(null===(o=c.result.check_in_info_list)||void 0===o?void 0:o.length)?Promise.reject(new Error(this.$i18n.t("activity.new.all_sold_out"))):c.result:Promise.reject(new Error));case 5:case"end":return e.stop()}}),e,this)}))),function(e,t){return o.apply(this,arguments)}),fetchVoucherDetail:(n=Object(m.a)(regeneratorRuntime.mark((function e(t,r){var n,o,c,l,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.rootGetters,o=t.commit,c=r.showLoading,l=null!=c?c:Object(h.a)(this.$i18n.t("hotel.wait_for_prebooking"),"desktop"===n.platform?354:246,void 0,"desktop"===n.platform?200:150),delete r.showLoading,e.next=5,this.$axios.$get("/v2/hotelapiserv/voucher/detail",{params:r,loading:l});case 5:if(!(d=e.sent)||!d.success){e.next=10;break}o("setVoucherDetail",d.result),e.next=11;break;case 10:return e.abrupt("return",Promise.reject(new Error));case 11:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},T={setVoucherDetail:function(e){var data=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.voucherDetail=data}}},690:function(e,t,r){"use strict";r.r(t),r.d(t,"state",(function(){return n})),r.d(t,"mutations",(function(){return o})),r.d(t,"actions",(function(){return c}));var n=function(){return{productInfo:{}}},o={SET_PRPDUCT_INFO:function(e,t){e.productInfo=t}},c={}},691:function(e,t,r){"use strict";r.r(t),r.d(t,"state",(function(){return v})),r.d(t,"mutations",(function(){return y})),r.d(t,"actions",(function(){return k}));r(16),r(12),r(9),r(10),r(7);var n=r(0),o=(r(11),r(1)),c=r(3),l=r(5);function d(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function _(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var f,m,h,v=function(){return{productInfo:{},baseInfo:null,hotRoute:{},searchFormConfig:{},searchResult:{},selfSearchParams:{},searchId:"",searchResultLoading:!1}},y={SET_PRPDUCT_INFO:function(e,t){e.productInfo=t},SET_BASE_INFO:function(e,t){e.baseInfo=t},SET_HOT_ROUTE:function(e,t){e.hotRoute=t},SET_SEARCH_RESULT:function(e,t){e.searchResult=t},SET_SEARCH_CONFIG:function(e,t){e.searchFormConfig=t},SET_SELF_SEARCH_PARAMS:function(e,t){e.selfSearchParams=t},SET_SEARCH_SEARCHID:function(e,t){e.searchId=t},SET_SEARCH_LOADING:function(e,t){e.searchResultLoading=t}},k={getPtpSkeleton:(h=Object(o.a)(regeneratorRuntime.mark((function e(t,r){var n,o,d,f,m,h,v,y;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y=function(e){return new Promise((function(t){for(var r=0,n=0,o=0;o<e.length;o++)e[o].then((function(){n++})).catch((function(){n++})).finally((function(){++r===e.length&&t(n)}))}))},n=t.commit,o=t.rootState,d=r.route_id,f=o["ptp-standard"].common.productInfo,m=f.productType,n("SET_PRPDUCT_INFO",_({},f,{route_id:d})),h=this.$axios.$get(Object(l.R)(c.a.ptpDlpDetail,{productType:m}),{regularUrl:"/v1/reappserv/ptp/{*}/dlp_page_detail",params:{route_id:d,tpl_no:1}}).then((function(e){e.success&&n("SET_BASE_INFO",e.result)})).catch((function(e){return e})),v=this.$axios.$get(Object(l.R)(c.a.ptpDlpMostRoute,{productType:m}),{regularUrl:"/v1/reappserv/ptp/{*}/dlp_most_route",params:{route_id:d}}).then((function(e){e.success&&n("SET_HOT_ROUTE",e.result)})).catch((function(e){return e})),e.next=10,y([h,v]);case 10:case"end":return e.stop()}}),e,this)}))),function(e,t){return h.apply(this,arguments)}),getSearchFormConfig:(m=Object(o.a)(regeneratorRuntime.mark((function e(t){var r,n,o,d,_,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.commit,n=t.dispatch,o=t.state.productInfo,d=o.productType,_=o.route_id,e.next=3,this.$axios.$get(Object(l.R)(c.a.ptpDlpSearchForm,{productType:d}),{regularUrl:"/v1/reappserv/ptp/{*}/search/dlp_form",params:{route_id:_}});case 3:if(!(f=e.sent).success){e.next=9;break}return r("SET_SEARCH_CONFIG",f.result),r("SET_SELF_SEARCH_PARAMS",f.result),e.next=9,n("getSearchId");case 9:case"end":return e.stop()}}),e,this)}))),function(e){return m.apply(this,arguments)}),getSearchId:(f=Object(o.a)(regeneratorRuntime.mark((function e(t){var r,n,o,d,_,f,m,h=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.state,n=t.commit,o=h.length>1&&void 0!==h[1]?h[1]:{},n("SET_SELF_SEARCH_PARAMS",Object.assign(Object.assign({},r.selfSearchParams),o)),n("SET_SEARCH_LOADING",!0),d={origin_position:r.selfSearchParams.origin_position,destination_position:r.selfSearchParams.destination_position,departure_date:r.selfSearchParams.departure_date,departure_time:r.selfSearchParams.departure_time,passengers:r.selfSearchParams.passengers||[],filter_only:!1},e.next=7,this.$axios.$post(Object(l.R)(c.a.ptpSearchId,{productType:r.productInfo.productType}),d,{regularUrl:"/v1/reappserv/ptp/{*}/route/search"});case 7:if(!(_=e.sent).success){e.next=15;break}return f=_.result.search_id,n("SET_SEARCH_SEARCHID",f),e.next=13,this.$axios.$get(Object(l.R)(c.a.ptpDlpSearchResult,{productType:r.productInfo.productType}),{regularUrl:"/v1/reappserv/ptp/{*}/route/search/dlp_result",params:{search_id:f}});case 13:(m=e.sent).success&&n("SET_SEARCH_RESULT",m.result);case 15:n("SET_SEARCH_LOADING",!1);case 16:case"end":return e.stop()}}),e,this)}))),function(e){return f.apply(this,arguments)})}},692:function(e,t,r){"use strict";r.r(t),r.d(t,"state",(function(){return d})),r.d(t,"mutations",(function(){return _})),r.d(t,"actions",(function(){return f}));r(144),r(24),r(68),r(12),r(9),r(7),r(35),r(11);var n,o=r(1),c=r(5),l=r(3),d=function(){return{productInfo:{},productType:"",currentSubType:"",productList:[],ptpSkeleton:[],ptpSection:{},inWeChatLikeApp:!1,fullPath:"",currentTitle:"",ptpNotice:[]}},_={SET_PRPDUCT_INFO:function(e,t){e.productInfo=t},SET_PRODUCR_TYPE:function(e,t){e.productType=t},SET_CURRENT_SUB_TYPE:function(e,t){e.currentSubType=t},SET_PRODUCT_LIST:function(e,t){e.productList=t},SET_PTP_SKELETON:function(e,t){e.ptpSkeleton=t},SET_PTP_SECTION:function(e,t){e.ptpSection=t},SET_CURRENT_SUB_TITLE:function(e,t){e.currentTitle=t},SET_PTP_NOTICE:function(e,t){e.ptpNotice=t}},f={getPtpSkeleton:(n=Object(o.a)(regeneratorRuntime.mark((function e(t,r){var n,o,d,_,f,m,h,v,y,k,T,S,E,O,w,P,I,R,A,j,x,C,D,L,N,H,U,K,$,M=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.commit,o=t.rootState,d=r.req,_=r.store,f=r.error,v=_.state.klook,y=v.language,k=v.platform,T=o["ptp-standard"].common.productInfo,S="ptp_home_sections_".concat(T.productId,"_").concat(y,"_").concat(k),n("SET_PRPDUCT_INFO",T),n("SET_PRODUCR_TYPE",T.productType),e.t0=d,!e.t0){e.next=12;break}return e.next=11,d.redis.get(S);case 11:e.t0=e.sent;case 12:if(E=e.t0)try{E=JSON.parse(E)}catch(e){E=null}if(E){e.next=23;break}return e.next=17,this.$axios.$get("".concat(l.a.ptpHomeSections,"?product_type=").concat(T.productType),{throwError:!0}).catch((function(e){f({statusCode:500,message:(e||{}).message||""})}));case 17:if(E=e.sent,!(null===(m=E)||void 0===m?void 0:m.success)){e.next=23;break}if(e.t1=d,!e.t1){e.next=23;break}return e.next=23,d.redis.set(S,JSON.stringify(E),3600);case 23:if(null===(h=E)||void 0===h?void 0:h.success){e.next=25;break}return e.abrupt("return");case 25:for(O=E.result.type_list,w=E.result.home_sections,n("SET_CURRENT_SUB_TYPE",E.result.current_type),n("SET_CURRENT_SUB_TITLE",E.result.current_title),n("SET_PRODUCT_LIST",O),n("SET_PTP_SKELETON",w),P={},I={},R=!1,A=!0,j=!1,x=void 0,e.prev=37,C=function(){var section=L.value;P[section.sub_type]=[],I[section.sub_type]={};var e=!0,t=!1,r=void 0;try{for(var n,o=function(){var e=n.value;e.api_path&&P[section.sub_type].push(M.$axios.$get(e.api_path,{params:e.params||{}}).then((function(t){t.success?I[section.sub_type][e.name]=t.result:e.is_need&&f({statusCode:500,message:t.message})}),(function(t){var r=t||{};e.is_need&&(R=!0,f({statusCode:500,message:r.message||""}))})))},c=section.sections[Symbol.iterator]();!(e=(n=c.next()).done);e=!0)o()}catch(e){t=!0,r=e}finally{try{e||null==c.return||c.return()}finally{if(t)throw r}}},D=w[Symbol.iterator]();!(A=(L=D.next()).done);A=!0)C();e.next=46;break;case 42:e.prev=42,e.t2=e.catch(37),j=!0,x=e.t2;case 46:e.prev=46,e.prev=47,A||null==D.return||D.return();case 49:if(e.prev=49,!j){e.next=52;break}throw x;case 52:return e.finish(49);case 53:return e.finish(46);case 54:if(!R){e.next=56;break}return e.abrupt("return");case 56:for(N=this.$axios.$get(Object(c.R)(l.a.ptpNotice,{productType:T.productType})).then((function(e){if(e.success){var t=e.result.filter((function(e){return new Date(e.content.end_time).getTime()>Date.now()&&new Date(e.content.start_time).getTime()<Date.now()})).sort((function(pre,e){return e.content.start_time-pre.content.start_time}));n("SET_PTP_NOTICE",t)}}),(function(){n("SET_PTP_NOTICE",[])})),H=[N],U=0,K=Object.values(P);U<K.length;U++)$=K[U],H=H.concat($);return e.next=61,Promise.all(H);case 61:n("SET_PTP_SECTION",I);case 62:case"end":return e.stop()}}),e,this,[[37,42,46,54],[47,,49,53]])}))),function(e,t){return n.apply(this,arguments)})}},693:function(e,t,r){"use strict";r.r(t),r.d(t,"state",(function(){return O})),r.d(t,"mutations",(function(){return w})),r.d(t,"actions",(function(){return P}));r(16),r(12),r(10);var n=r(0),o=(r(17),r(19),r(9),r(7),r(35),r(15)),c=(r(11),r(1)),l=r(13),d=(r(24),r(134)),_=r.n(d),f=r(61),m=r.n(f),h=r(3),v=r(5);function y(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function k(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?y(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):y(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var T,S,E,O=function(){return{isRoundTrip:!1,tripPhase:"0",forwardSearchId:"",forwardRouteId:"",forwardPostData:null,templateId:0,productType:"",productName:"",searchFormConfig:{},productTicketPolicy:null,faqData:null,searchId:"",expiry:0,sortOptions:[],defaultSort:null,sortTypeName:"",filterTypeLabel:"",filterSections:[],searchResultStatus:"loading",searchResultQuery:{search_id:"",latest_revision:0,sort_type:"",filters:[],quick_filters:[],is_from_filter:!1,is_from_quick_filter:!1},searchResultData:[],searchResultCount:0,isValidate:!1,searchResultTempData:[],selectApi:"",isTHSR:!1,THSRTimeRangeList:["00:00","08:00","14:00","19:00"],initialTHSRTimeRangeIndex:3}},w={SET_PTP_IS_ROUND_TRIP:function(e,t){e.isRoundTrip=t},SET_PTP_TRIP_PHASE:function(e,t){e.tripPhase=t},SET_PTP_TEMPLATE_ID:function(e,t){e.templateId=t},SET_PTP_PRODUCT_TYPE:function(e,t){e.productType=t},SET_PTP_PRODUCT_NAME:function(e,t){e.productName=t},SET_PTP_SEARCH_FORM_CONFIG:function(e,t){e.searchFormConfig=t},SET_PTP_FAQ:function(e,t){e.faqData=t},SET_PTP_TICKET_POLICY:function(e,t){e.productTicketPolicy=t},SET_PTP_SEARCH_RESULT_STATUS:function(e,t){e.searchResultStatus=t},SET_PTP_SEARCH_ID:function(e,t){e.searchId=t},SET_PTP_SEARCH_ID_EXPIRY:function(e,t){e.expiry=t},SET_PTP_FILTER_DATA:function(e,t){e.filterSections=t},SET_PTP_SEARCH_RESULT_QUERY:function(e,t){e.searchResultQuery=t},SET_PTP_SEARCH_RESULT_QUERY_FILTERS:function(e,t){e.searchResultQuery.filters=t},SET_PTP_SEARCH_RESULT_QUERY_QUICK_FILTERS:function(e,t){e.searchResultQuery.quick_filters=t},SET_PTP_SEARCH_RESULT_QUERY_FROM_FILTER:function(e,t){e.searchResultQuery.is_from_filter=t},SET_PTP_SEARCH_RESULT_QUERY_FROM_QUICK_FILTER:function(e,t){e.searchResultQuery.is_from_quick_filter=t},SET_PTP_SEARCH_RESULT_TEMP_DATA:function(e,t){e.searchResultTempData=t},PUSH_PTP_SEARCH_RESULT_TEMP_DATA:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];e.searchResultTempData.push(r)},SET_PTP_SEARCH_RESULT_DATA:function(e,t){e.searchResultData=t},PUSH_PTP_SEARCH_RESULT_DATA:function(e,t){var r;(r=e.searchResultData).push.apply(r,Object(l.a)(t))},SET_PTP_SEARCH_RESULT_COUNT:function(e,t){e.searchResultCount=t},SET_PTP_SEARCH_VALIDATE:function(e,t){e.isValidate=t},SET_PTP_SORT_DATA:function(e,t){e.sortOptions=t},SET_PTP_DEFAULT_SORT:function(e,t){e.defaultSort=t},SET_PTP_SORT_TYPE_NAME:function(e,t){e.sortTypeName=t},SET_PTP_FILTER_TYPE_LABEL:function(e,t){e.filterTypeLabel=t},SET_PTP_SELECT_API:function(e,t){e.selectApi=t},SET_PTP_FORWARD_SEARCH_ID:function(e,t){e.forwardSearchId=t},SET_PTP_FORWARD_ROUTE_ID:function(e,t){e.forwardRouteId=t},SET_PTP_IS_THSR:function(e,t){e.isTHSR=t},SET_PTP_FORWARD_POST_DATA:function(e,t){e.forwardPostData=t},SET_INITIAL_THSR_TIME_RANGE_INDEX:function(e,t){e.initialTHSRTimeRangeIndex=t}},P={fetchSearchConfigAndPolicyAndFaq:(E=Object(c.a)(regeneratorRuntime.mark((function e(t,r){var n,c,l,d,f,y,k,T,S,E,O,w,P,I,R,A,j,x,C,D,L,N,H,U,K,$,M,F,G,B,Y,V,W,z;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.commit,c=t.state,l=t.rootState,d=c.isTHSR,f=r.productType,y=r.productName,k=r.templateId,T=r.origin_position,S=r.origin_position_name,E=r.destination_position,O=r.destination_position_name,w=r.departure_date,P=r.departure_time,I=r.return_date,R=r.return_time,A=r.filter_only,j=r.passengers,x=r.seat_class,C={origin_position:T,origin_position_name:S,destination_position:E,destination_position_name:O,filter_only:A&&"false"!==A,seat_class:x||""},w&&(C.departure_date=w),P&&!d&&(C.departure_time=P),I&&(C.return_date=I),R&&!d&&(C.return_time=R),j&&(C.passengers=JSON.parse(j)||[]),f&&(n("SET_PTP_PRODUCT_TYPE",f),n("SET_PTP_TEMPLATE_ID",k),n("SET_PTP_PRODUCT_NAME",y)),D="desktop"===l.klook.platform,L=this.$axios.$get(Object(v.R)(h.a.ptpSearchForm,{productType:f}),{throwError:!0,regularUrl:"/v1/reappserv/ptp/{*}/search/form"}),N=D?this.$axios.$get(Object(v.R)(h.a.ptpRouteSections,{productType:f}),{throwError:!0,regularUrl:"/v3/reappserv/ptp/{*}/route/sections"}):null,H=D?this.$axios.$get(Object(v.R)(h.a.ptpPolicy,{productType:f}),{regularUrl:"/v1/reappserv/ptp/{*}/route/ticket/policy"}).catch((function(){})):null,U=D?this.$axios.$get(Object(v.R)(h.a.ptpFaq,{productType:f}),{regularUrl:"/v1/reappserv/rail/{*}/richcontent",params:{from:"result"}}).catch((function(){})):null,e.next=17,Promise.all([L,H,U,N]);case 17:return K=e.sent,$=Object(o.a)(K,4),M=$[0],F=$[1],G=$[2],B=$[3],M.success&&(j||(C.passengers=(M.result.passenger_types||[]).filter((function(e){return e.count>0})).map((function(e){return{count:e.count,name:e.name,passenger_type:e.value}}))),(Y=M.result).default_departure_date=Y.departure_date,n("SET_PTP_SEARCH_FORM_CONFIG",_()(m()(Y),C))),F&&F.success&&n("SET_PTP_TICKET_POLICY",F.result),G&&G.success&&n("SET_PTP_FAQ",G.result),B&&B.success&&(V=B.result.sections,W=[h.a.ptpPackageSelectApiName,h.a.ptpTicketSelectApiName],(z=(V||[]).filter((function(section){return W.includes(section.name)}))).length&&n("SET_PTP_SELECT_API",z[0].api_path)),e.abrupt("return",!0);case 28:case"end":return e.stop()}}),e,this)}))),function(e,t){return E.apply(this,arguments)}),fetchData:(S=Object(c.a)(regeneratorRuntime.mark((function e(t,r){var n,c,l,d,_,f,m,y,T,S,E,O,w,P,I,R,A,j,x,C,D,L,N,H,U,K,$,M,F,G,B,Y,V,W,z,Q;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.dispatch,c=t.commit,l=t.state,d=l.productType,_=l.THSRTimeRangeList,f=l.isTHSR,m=l.initialTHSRTimeRangeIndex,c("SET_PTP_SEARCH_RESULT_STATUS","loading"),y="boolean"==typeof(y=r.filter_only||!1)?y:"false"!==y,T=r.origin_position,S=r.destination_position,E=r.departure_date,O=r.departure_time,w=r.max_departure_time,P=r.return_date,I=r.return_time,R=r.max_return_time,A={origin_position:T,destination_position:S,departure_date:E||l.searchFormConfig.departure_date,departure_time:O||l.searchFormConfig.departure_time,passengers:r.passengers&&JSON.parse(r.passengers)||l.searchFormConfig.passengers||[],filter_only:y,seat_class:r.seat_class||""},f&&(A.max_departure_time=w,w||(A.departure_time=_[m],A.max_departure_time=_[m+1]||"24:00")),P?(c("SET_PTP_IS_ROUND_TRIP",!0),A.return_date=P,A.return_time=I,f&&(A.max_return_time=R),A.search_type="0"===l.tripPhase?"round_departure":"round_return"):(c("SET_PTP_IS_ROUND_TRIP",!1),c("SET_PTP_TRIP_PHASE","0")),e.next=11,this.$axios.$post(Object(v.R)(h.a.ptpSearchId,{productType:d}),A,{throwError:!0,regularUrl:"/v1/reappserv/ptp/{*}/route/search"}).catch((function(){c("SET_PTP_SEARCH_RESULT_STATUS","failed")}));case 11:if(j=e.sent){e.next=14;break}return e.abrupt("return");case 14:if(x="",j.result.search_id&&(C=j.result,D=C.search_id,L=C.expiry,c("SET_PTP_SEARCH_ID",x=D),c("SET_PTP_SEARCH_ID_EXPIRY",L)),!x){e.next=31;break}return N=l.searchResultQuery,H=l.tripPhase,U=l.forwardSearchId,K=l.forwardRouteId,$=r.isInitial,M=r.isDateSwitched,F=r.isReSearch,G=r.to_sort,B=k({},N,{search_id:x}),P&&("1"===H?(B.forward_search_id=U,B.forward_route_id=K):"0"===H&&(B.forward_search_id="",B.forward_route_id="")),!N.sort_type&&G&&(B.sort_type=G),c("SET_PTP_SEARCH_RESULT_QUERY",B),Y=this.$axios.$get(Object(v.R)(h.a.ptpSearchFilter,{productType:d}),{regularUrl:"/v3/reappserv/ptp/{*}/route/search/filter",params:{search_id:x}}).catch((function(){})),V=n("getPtpSearchResultData",{isStart:!0,isDateSwitched:M||!1,isInitial:$||!1,isReSearch:F||!1}),e.next=27,Promise.all([Y,V]);case 27:W=e.sent,z=Object(o.a)(W,1),(Q=z[0])&&Q.success&&c("SET_PTP_FILTER_DATA",Q.result.section||[]);case 31:return e.abrupt("return",!0);case 32:case"end":return e.stop()}}),e,this)}))),function(e,t){return S.apply(this,arguments)}),getPtpSearchResultData:(T=Object(c.a)(regeneratorRuntime.mark((function e(t){var r,n,o,option,c,l,d,_,f,y,T,S,section,E,O,w,P,I,R,A=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.dispatch,n=t.commit,o=t.state,option=A.length>1&&void 0!==A[1]?A[1]:{},c=o.isTHSR,l=option.isStart,d=option.departure_time,_=option.return_time,f=option.errorCb,l&&(n("SET_PTP_SEARCH_RESULT_STATUS","loading"),n("SET_PTP_SEARCH_RESULT_TEMP_DATA",[]),n("SET_PTP_SEARCH_RESULT_DATA",[]),n("SET_PTP_SEARCH_RESULT_QUERY",Object.assign(m()(o.searchResultQuery),{latest_revision:0}))),y=o.searchResultQuery,e.next=8,this.$axios.$post(Object(v.R)(h.a.ptpSearchResult,{productType:o.productType}),k({},y,{departure_time:d,return_time:_}),{timeout:15e3,regularUrl:"/v3/reappserv/ptp/{*}/route/search/result"}).catch((function(e){c?l?n("SET_PTP_SEARCH_RESULT_STATUS","failed"):"function"==typeof f&&f(e):n("SET_PTP_SEARCH_RESULT_STATUS","failed")}));case 8:if(T=e.sent){e.next=11;break}return e.abrupt("return");case 11:if(y.latest_revision===o.searchResultQuery.latest_revision){e.next=13;break}return e.abrupt("return");case 13:if(T.success){e.next=17;break}c?l?n("SET_PTP_SEARCH_RESULT_STATUS","failed"):"function"==typeof f&&f(T.error):n("SET_PTP_SEARCH_RESULT_STATUS","failed"),e.next=31;break;case 17:if(S=T.result,section=S.section,E=S.metadata,O=S.filter_sorts,n("PUSH_PTP_SEARCH_RESULT_TEMP_DATA",section),n("PUSH_PTP_SEARCH_RESULT_DATA",section),n("SET_PTP_SEARCH_VALIDATE",E.is_validate),!E.search_completed){e.next=25;break}o.searchResultData.filter((function(e){return"rail_route_card"===e.view_type})).length?(w=[],P=null,I="",R="",(O||[]).forEach((function(e){"filter"!==e.filter_sort_type?((e.filter_sort_items||[]).forEach((function(e){if(!e.value.includes("_init")){var t={sortLabel:e.display_name,sortValue:e.value};w.push(t),e.default_select&&(P=t)}})),I=e.filter_sort_type_name):R=e.filter_sort_type_name})),n("SET_PTP_DEFAULT_SORT",P),n("SET_PTP_SEARCH_RESULT_COUNT",E.result_count),n("SET_PTP_SORT_TYPE_NAME",I),n("SET_PTP_FILTER_TYPE_LABEL",R),n("SET_PTP_SORT_DATA",w),n("SET_PTP_SEARCH_RESULT_STATUS","complete")):option.isInitial||option.isReSearch?n("SET_PTP_SEARCH_RESULT_STATUS","initialNone"):y.filters.length?n("SET_PTP_SEARCH_RESULT_STATUS","filterNone"):option.isDateSwitched&&n("SET_PTP_SEARCH_RESULT_STATUS","switchDateNone"),e.next=31;break;case 25:if(n("SET_PTP_SEARCH_RESULT_STATUS","success"),n("SET_PTP_SEARCH_RESULT_QUERY",Object.assign(m()(y),{latest_revision:E.revision})),!option.isInitial&&!c){e.next=29;break}return e.abrupt("return");case 29:return e.next=31,r("getPtpSearchResultData");case 31:case"end":return e.stop()}}),e,this)}))),function(e){return T.apply(this,arguments)})}},698:function(e,t,r){"use strict";r.r(t),r.d(t,"state",(function(){return o})),r.d(t,"mutations",(function(){return c})),r.d(t,"actions",(function(){return l}));var n=r(3),o=function(){return{recentlyPurchased:[],orderList:[],totalPage:0,orderStatus:"loading",pageIndex:1,listType:"normal",logisticsVisible:!1,logisticsInfo:null,mergeOptionVisible:!1,mergeOptionInfo:null,appDownloadVisible:!1,bookingManagementVisible:!1,coupon:null,bookingManagementInfo:{bookingReferenceNumber:"",confirmationType:""},bookingPopularData:null}},c={SET_BOOKING_POPULAR_DATA:function(e,t){e.bookingPopularData=t},SET_LIST_TYPE:function(e,data){e.listType=data},SET_PAGE_INDEX:function(e,data){e.pageIndex=data},SET_RECENTLY_PURCHASED:function(e,data){e.recentlyPurchased=data.recentlyPurchased},PUSH_ORDER_LIST:function(e,t){e.orderList=e.orderList.concat(t)},SET_ORDER_LIST:function(e,t){e.orderList=t},SET_TOTAL_PAGE:function(e,t){e.totalPage=t.totalPage},SET_ORDER_STATUS:function(e,t){e.orderStatus=t},SET_DOWNLOAD_VISIBLE:function(e,t){e.appDownloadVisible=t},SET_LOGISTICS_VISIBLE:function(e,t){e.logisticsVisible=t},SET_LOGISTICS_INFO:function(e,t){e.logisticsInfo=t},SET_MERGE_OPTION_VISIBLE:function(e,t){e.mergeOptionVisible=t},SET_MERGE_OPTION_INFO:function(e,t){e.mergeOptionInfo=t},SET_BOOKING_MANAGEMENT_INFO:function(e,t){e.bookingManagementInfo.bookingReferenceNumber=t.bookingReferenceNumber,e.bookingManagementInfo.confirmationType=t.confirmationType},SET_BOOKING_VISIBLE:function(e,t){e.bookingManagementVisible=t},SET_COUPON:function(e,t){e.coupon=t}},l={getCoupon:function(e){var t=e.commit;return this.$axios.$get(n.a.commonCoupon).then((function(e){e.success&&e.result&&t("SET_COUPON",e.result)}))},getBookingPopularList:function(e){var t=e.commit;return this.$axios.$get(n.a.bookingPopularList,{params:{limit:10}}).then((function(e){e.success&&e.result&&t("SET_BOOKING_POPULAR_DATA",e.result)}))},getRecentlyPurchased:function(e){var t=e.commit;return this.$axios.$get(n.a.getRecentlyPurchase).then((function(e){if(e.success&&e.result&&e.result.activity_list.length>0){var data=e.result;t("SET_RECENTLY_PURCHASED",{recentlyPurchased:data.activity_list.map((function(e){return{title:e.title,market_price:e.market_price,sell_price:e.sell_price,sold_out:e.sold_out,image_url:e.image_url,id:e.id,url_seo:e.url_seo,currency:e.currency}}))})}}))},getOrderList:function(e){var t=e.commit,r=e.state,o={lang:e.rootState.klook.backendLanguage,page:r.pageIndex,page_size:10,list_type:r.listType};return this.$axios.$post(n.a.getBookingList,o).then((function(e){e.success?(t("SET_ORDER_STATUS","success"),e.result&&e.result.booking_list&&e.result.booking_list.length>0&&(t("SET_TOTAL_PAGE",{totalPage:e.result.num_page}),t("SET_PAGE_INDEX",r.pageIndex+1),t("PUSH_ORDER_LIST",e.result.booking_list))):t("SET_ORDER_STATUS","error")})).catch((function(){t("SET_ORDER_STATUS","error")}))},getBookingList:function(e){var t=e.commit,r=e.state,o=e.rootState,c=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],l=[],d=10,_={lang:o.klook.backendLanguage,page:r.pageIndex,page_size:d,list_type:r.listType};return this.$axios.$post(n.a.getBookingList,_,{loading:c}).then((function(e){e.success?(t("SET_ORDER_STATUS","success"),e.result&&e.result.booking_list&&e.result.booking_list.length>0?(t("SET_TOTAL_PAGE",{totalPage:e.result.num_page}),t("SET_ORDER_LIST",e.result.booking_list)):(t("SET_TOTAL_PAGE",0),t("SET_ORDER_LIST",l))):(t("SET_ORDER_STATUS","error"),t("SET_TOTAL_PAGE",0),t("SET_ORDER_LIST",l))})).catch((function(){t("SET_ORDER_STATUS","error"),t("SET_ORDER_LIST",l)}))},showLogisticsModal:function(e,t){var r=e.commit;return this.$axios.$get(n.a.getLogistics,{params:{booking_reference_no:t},loading:!0}).then((function(e){e.success&&e.result&&(r("SET_LOGISTICS_VISIBLE",!0),r("SET_LOGISTICS_INFO",e.result))}))},showBookingManagement:function(e,t){var r=e.commit;r("SET_BOOKING_MANAGEMENT_INFO",{confirmationType:t.confirmationType,bookingReferenceNumber:t.bookingReferenceNumber}),r("SET_BOOKING_VISIBLE",!0)},showMergeOption:function(e,t){var r=e.commit,o=t.orderNo,c=t.type;return this.$axios.$get(n.a.comboQuery,{params:{order_no:o,type:c},loading:!0}).then((function(e){e.success&&e.result&&(e.result.type=c,r("SET_MERGE_OPTION_INFO",e.result),r("SET_MERGE_OPTION_VISIBLE",!0))}))}}},699:function(e,t,r){"use strict";r.r(t),r.d(t,"state",(function(){return m})),r.d(t,"mutations",(function(){return h})),r.d(t,"actions",(function(){return v}));r(24),r(7);var n,o=r(0),c=r(132),l=r.n(c),d=r(3),_=new l.a.Converter({tables:!0}),f=function(e){return e.category_id},m=function(){return{popularFaqs:[],helpfulFaqs:[],categories:[],faq:null,recommendFaqs:[],relatedFaqs:[],searchResults:[],searchResultCount:0,categoryFaqs:[],categoryFaqTotal:0,secondCateList:[]}},h=(n={},Object(o.a)(n,"SET_POPULAR_FAQS",(function(e,data){e.popularFaqs=data.popularFaqs})),Object(o.a)(n,"SET_HELPFUL_FAQS",(function(e,data){e.helpfulFaqs=data.helpfulFaqs})),Object(o.a)(n,"SET_FAQ",(function(e,data){e.faq=data.faq,e.recommendFaqs=data.recommendFaqs,e.relatedFaqs=data.relatedFaqs})),Object(o.a)(n,"SET_SEARCH_RESULTS",(function(e,data){e.searchResultCount=data.count,e.searchResults=data.searchResults})),Object(o.a)(n,"SET_CATEGORY",(function(e,data){e.categories=data.categories})),Object(o.a)(n,"SET_CATEGORY_FAQS",(function(e,data){e.categoryFaqs=data.categoryFaqs,e.categoryFaqTotal=data.categoryFaqTotal})),Object(o.a)(n,"SET_SECOND_CATE_LIST",(function(e,data){e.secondCateList=data.secondCateList})),n),v={getPopularFaqs:function(e){var t=e.commit;return this.$axios.$get(d.a.categoryFaqs,{params:{category_id:14,limit:8,page:1}}).then((function(e){if(e.success&&e.result&&e.result.faq_info_list.length>0){var data=e.result;t("SET_POPULAR_FAQS",{popularFaqs:data.faq_info_list.map((function(e){return{faqId:e.faq_id,question:e.question,categoryId:e.sub_category_id||e.category_id}}))})}}))},getHelpfulFaqs:function(e){var t=e.commit;return this.$axios.$get(d.a.mostHelpfulFaqs,{params:{limit:5}}).then((function(e){if(e.success&&e.result&&e.result.helpful_faqs.length>0){var data=e.result;t("SET_HELPFUL_FAQS",{helpfulFaqs:data.helpful_faqs})}}))},getFaqById:function(e,t){var r=e.commit,n=t.faqId,o={faq:null,recommendFaqs:[],relatedFaqs:[]};return this.$axios.$get(d.a.faqDetail,{params:{faq_id:n}}).then((function(e){if(e.success&&e.result){var data=e.result,t=data.recommend_faq_list||[],n=data.same_category_faq_list||[],c={faq:{faqId:data.faq_id,question:data.question,answer:_.makeHtml(data.answer),voteStatus:data.helpful_status,categoryId:data.sub_category_id||data.category_id,categoryName:data.sub_category_name||data.category_name,firstClassName:data.category_name,firstCategoryId:data.category_id},recommendFaqs:t.map((function(e){return{faqId:e.faq_id,question:e.question,categoryId:e.sub_category_id||e.category_id}})),relatedFaqs:n.map((function(e){return{faqId:e.faq_id,question:e.question,categoryId:data.sub_category_id||data.category_id}}))};return r("SET_FAQ",c),c}return r("SET_FAQ",o),o})).catch((function(){return r("SET_FAQ",o),o}))},search:function(e,t){var r=e.commit,n=t.keyword,o=t.limit,c=void 0===o?10:o,l={count:0,searchResults:[]};return n?this.$axios.$get(d.a.faqSearchSuggest,{params:{keyword:n,limit:c}}).then((function(e){if(e.success&&e.result){var data=e.result.faq_category_list||[],t={count:e.result.count||0,searchResults:data.map((function(e){return{categoryId:e.category_id,categoryName:e.category_name,subCategoryId:e.sub_category_id,subCategoryName:e.sub_category_name,faqs:(e.faq_list||[]).map((function(t){return{faqId:t.faq_id,question:t.question,categoryId:e.sub_category_id||e.category_id}}))}}))};return r("SET_SEARCH_RESULTS",t),t}return r("SET_SEARCH_RESULTS",l),l})).catch((function(){return r("SET_SEARCH_RESULTS",l),l})):(r("SET_SEARCH_RESULTS",l),Promise.resolve(l))},getCategories:function(e){var t=e.commit,r=e.rootState,n={categories:[]};return this.$axios.$get(d.a.faqCategory).then((function(e){if(e.success&&e.result&&e.result.length>0){var o=e.result;t("SET_CATEGORY",{categories:o.map((function(e){return{categoryId:f(e),level:e.category_level,type:e.category_type,name:e.name,desc:e.desc,iconUrl:e.icon_url,opened:"desktop"===r.klook.platform,children:(e.children_category_list||[]).map((function(e){return{categoryId:e.category_id,level:e.category_level,type:e.category_type,name:e.name,desc:e.desc,iconUrl:e.icon_url}}))}}))})}else t("SET_CATEGORY",n)})).catch((function(){t("SET_CATEGORY",n)}))},getCategoryFaqs:function(e,t){var r=e.commit,n=t.categoryId,o=t.limit,c=t.page,l={categoryFaqTotal:0,categoryFaqs:[]};return this.$axios.$get(d.a.categoryFaqs,{params:{category_id:n,limit:o,page:c}}).then((function(e){if(e.success&&e.result&&e.result.faq_info_list.length>0){var data=e.result;r("SET_CATEGORY_FAQS",{categoryFaqTotal:data.count,categoryFaqs:data.faq_info_list.map((function(e){return{faqId:e.faq_id,question:e.question,categoryId:e.sub_category_id||e.category_id}}))})}else r("SET_CATEGORY_FAQS",l)})).catch((function(){r("SET_CATEGORY_FAQS",l)}))},getSecondCateList:function(e,t){var r=e.commit,n=t.categoryId,o={secondCateList:[]};return this.$axios.$get(d.a.secondCateList,{params:{category_id:n}}).then((function(e){if(e.success&&e.result&&e.result.children_category_with_faq_list.length>0){var data=e.result,t=e.result.children_category_with_faq_list;r("SET_SECOND_CATE_LIST",{categoryName:data.name,categoryId:data.category_id,secondCateList:t.map((function(e){return{subName:e.name,categoryId:e.category_id,isViewAll:e.faq_count>4,faqList:e.faq_info_list.map((function(e){return{faqId:e.faq_id,question:e.question,categoryId:e.sub_category_id}}))}}))})}else r("SET_SECOND_CATE_LIST",o)})).catch((function(){r("SET_SECOND_CATE_LIST",o)}))}}},700:function(e,t,r){"use strict";r.r(t),r.d(t,"state",(function(){return v})),r.d(t,"mutations",(function(){return y})),r.d(t,"actions",(function(){return k}));r(11);var n,o,c,l,d,_=r(1),f=r(0),m=r(3),h=r(5),v=function(){return{giftCardInformaton:{},packageSchedules:{},accountGiftCard:{}}},y=(n={},Object(f.a)(n,"SET_GIFT_CARD",(function(e,data){e.giftCardInformaton=data})),Object(f.a)(n,"SET_PACKAGE_SCHDULES",(function(e,data){e.packageSchedules=data})),Object(f.a)(n,"SET_ACCOUNT_GIFT_CARD",(function(e,data){e.accountGiftCard=data})),Object(f.a)(n,"SET_WALLETS",(function(e,data){e.accountGiftCard.wallets=data})),n),k={getInformaton:(d=Object(_.a)(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.commit,e.next=3,this.$axios.$get(m.a.giftCardInformaton);case 3:return n=e.sent,r("SET_GIFT_CARD",n.result),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return d.apply(this,arguments)}),getPackageSchedules:(l=Object(_.a)(regeneratorRuntime.mark((function e(t,r){var n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.commit,r){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,this.$axios.$get(Object(h.R)(m.a.getPackageSchedulesAndUnits,{packageId:r}),{regularUrl:"/v1/usrcsrv/packages/{*}/schedules_and_units"});case 5:return o=e.sent,n("SET_PACKAGE_SCHDULES",o.result),e.abrupt("return",o);case 8:case"end":return e.stop()}}),e,this)}))),function(e,t){return l.apply(this,arguments)}),getAccountGiftCardInfo:(c=Object(_.a)(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.commit,e.next=3,this.$axios.$get(m.a.accountGiftCard);case 3:return n=e.sent,r("SET_ACCOUNT_GIFT_CARD",n.result),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)}),getWalletsData:(o=Object(_.a)(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.commit,e.next=3,this.$axios.$get(m.a.getWalletsData,{params:{pending_total:1}});case 3:return(n=e.sent).success&&r("SET_WALLETS",n.result),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})}},701:function(e,t,r){"use strict";r.r(t),r.d(t,"state",(function(){return f})),r.d(t,"mutations",(function(){return m})),r.d(t,"actions",(function(){return h}));r(11);var n,o,c=r(1),l=r(0),d=r(3),_=r(164),f=function(){return{preferredBannerList:[],preferredActivities:[],sectionDescription:"",sectionDisclaimer:"",sectionName:"",total:0,banner:[],ranges:[]}},m=(n={},Object(l.a)(n,"SET_ACTIVITY_LIST",(function(e,data){1===data.page?e.preferredActivities=data.data.activities||[]:e.preferredActivities=e.preferredActivities.concat(data.data.activities||[]),e.total=data.data.total})),Object(l.a)(n,"SET_PREFERRED_INFO",(function(e,data){e.sectionDescription=data.section_description,e.sectionDisclaimer=data.section_disclaimer,e.sectionName=data.section_name})),Object(l.a)(n,"SET_RSNGES",(function(e,data){e.ranges=data.ranges||[]})),Object(l.a)(n,"SET_BANNER",(function(e,data){e.banner=data})),n),h={getPreferredActivities:function(e,t){var r=e.commit,n=t.countryIds,o=t.cityIds,c=t.page,l=t.limit,_={};return this.$axios.$get(d.a.preferredActivities,{params:{country_ids:n,city_ids:o,page:c,limit:l}}).then((function(e){if(e.success&&e.result){var data=e.result;return _=data.activity,r("SET_ACTIVITY_LIST",{page:c,data:_}),r("SET_PREFERRED_INFO",data),!0}return null})).catch((function(){return null}))},getRanges:function(e){var t=e.commit;return this.$axios.$get(d.a.preferredRange).then((function(e){if(!e.success||!e.result)return null;t("SET_RSNGES",{ranges:e.result.filter})})).catch((function(){return null}))},getHomePageBanner:(o=Object(c.a)(regeneratorRuntime.mark((function e(t){var r,n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.commit,n=t.dispatch,e.next=3,n("getCMSGenericItemList",{type:_.types.TYPE_HOME_BANNER},{root:!0});case 3:(o=e.sent)&&o.photos&&r("SET_BANNER",o.photos);case 5:case"end":return e.stop()}}),e)}))),function(e){return o.apply(this,arguments)}),search:function(e){var t=e.commit;return this.$axios.$get(d.a.searchHit,{params:{query:"",start:1,size:40}}).then((function(e){if(!e.success||!e.result)return[];t("SET_ACTIVITY_LIST",{page:2,data:e.result})})).catch((function(){return[]}))}}},702:function(e,t,r){"use strict";r.r(t),r.d(t,"state",(function(){return h})),r.d(t,"mutations",(function(){return v})),r.d(t,"actions",(function(){return y}));r(16),r(12),r(10),r(11);var n=r(1),o=(r(9),r(7),r(87),r(35),r(80),r(13)),c=r(0),l=r(3);function d(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function _(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(t){Object(c.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var f,m,h=function(){return{sectionList:[],reviewIdList:[],reviewListVisible:!1,reviewMap:null,reviewTotal:0,breadcrumb:null,shareInfo:null}},v={SET_ACTIVITY_REVIEWS:function(e,data){var t=(data.item||[]).map((function(e){var t=e.review_image;return{id:e.id,author:e.author,date:e.date,avatar:e.avatar,rating:e.rating,content:e.content,translateContent:e.translate_content,needTranslateButton:e.need_translate_button,packageName:e.package_name,reviewImage:t&&t.map((function(img){return{imgResizeUrl:img.img_resize_url,imageId:img.image_id,imgUrl:img.img_url}})),hasReply:e.has_reply,reply:e.reply?{content:e.reply.content,translateContent:e.reply.translate_content}:{},hasLiked:e.has_liked,likeCount:e.like_count}})).reduce((function(e,t){return{reviewMap:_({},e.reviewMap,Object(c.a)({},t.id,t)),reviewIdList:[].concat(Object(o.a)(e.reviewIdList),[t.id])}}),{reviewMap:{},reviewIdList:[]});e.reviewIdList=Array.from(new Set([].concat(Object(o.a)(e.reviewIdList),Object(o.a)(t.reviewIdList)))),e.reviewMap=_({},e.reviewMap,{},t.reviewMap),e.reviewTotal=data.total},SET_BREADCRUMB:function(e,data){e.breadcrumb=data},SET_SHAREINFO:function(e,data){e.shareInfo=data},SET_SECTION_List:function(e,data){e.sectionList=[].concat(data)},SET_REVIEWS_LIKED:function(e,t){var r=e.reviewMap,n=r[t];n&&(n.likeCount+=1,n.hasLiked+=!0,e.reviewMap=_({},r,Object(c.a)({},n.id,n)))},TRIGGER_REVIEW_LIST_VISIBLE:function(e,t){e.reviewListVisible=t}},y={getPoiDetail:(m=Object(n.a)(regeneratorRuntime.mark((function e(t,r){var n,o,c,d,_,f,m,h,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.commit,o=r.poiId,c=r.redirect,e.prev=2,e.next=5,this.$axios.$get(l.a.getPoiDetail,{params:{poi_id:o},throwError:!0});case 5:f=e.sent,m=f.success,h=f.result,m&&h&&(v=h.page,n("SET_SECTION_List",null===(_=null===(d=v)||void 0===d?void 0:d.body)||void 0===_?void 0:_.sections),n("SET_BREADCRUMB",h.poi_area_info),n("SET_SHAREINFO",h.share_info)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),c&&c({name:"Error404"});case 14:case"end":return e.stop()}}),e,this,[[2,11]])}))),function(e,t){return m.apply(this,arguments)}),setReviewLiked:function(e,t){(0,e.commit)("SET_REVIEWS_LIKED",t)},getActivityReviews:(f=Object(n.a)(regeneratorRuntime.mark((function e(t,r){var n,o,c,d,_,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.commit,o=r.poi_id,c=r.page,e.prev=2,e.next=5,this.$axios.$get(l.a.getPoiReviewList,{params:{poi_id:o,page:c,limit:10},throwError:!0});case 5:if(d=e.sent,_=d.success,f=d.result,!_||!f){e.next=11;break}return n("SET_ACTIVITY_REVIEWS",f),e.abrupt("return",f);case 11:e.next=15;break;case 13:e.prev=13,e.t0=e.catch(2);case 15:case"end":return e.stop()}}),e,this,[[2,13]])}))),function(e,t){return f.apply(this,arguments)}),triggerReviewListVisible:function(e){var t=e.commit,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t("TRIGGER_REVIEW_LIST_VISIBLE",r)}}},703:function(e,t,r){"use strict";r.r(t),r.d(t,"state",(function(){return k})),r.d(t,"mutations",(function(){return T})),r.d(t,"actions",(function(){return S}));r(16),r(12),r(9),r(7),r(10);var n=r(13),o=r(0),c=(r(17),r(19),r(11),r(1)),l=r(61),d=r.n(l),_=r(134),f=r.n(_),m=r(3);function h(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function v(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?h(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):h(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var y,k=function(){return{status:"firstLoading",fromType:"",requestId:"",tagSearchNum:0,searchResult:{aggr_condition:{destinations:[],frontend_tree:[],sort:[],time:null,price:null,srv_option:null,nsw_option:null,yfq_option:null,gvq_option:null},relation_result:{cards:[],total:0},search_result:{cards:[],total:0},top_one_list:[]},filterData:{sort:"most_relevant",query:"",city_ids:"",frontend_ids:"",country_ids:"",start_time:"",price_from:"",price_to:"",instant:!1,nsw_option:!1,srv_option:!1,yfq_option:!1,gvq_option:!1}}},T={SET_REQUEST_ID:function(e,t){e.requestId=t},SET_TAG_SEARCH_NUMBER:function(e,t){e.tagSearchNum=t},SET_FROM_TYPE:function(e,t){e.fromType=t},SET_FILTER_DATA:function(e,t){e.filterData=t},SET_PAGE_STATUS:function(e,t){e.status=t},SET_AGGR_CONDITION:function(e,t){e.searchResult.aggr_condition=t},SET_RELATION_RESULT:function(e,t){e.searchResult.relation_result=t},SET_SEARCH_RESULT_CARDS:function(e,t){e.searchResult.search_result.cards=t},SET_SEARCH_RESULT_TOTAL:function(e,t){e.searchResult.search_result.total=t},SET_TOP_ONE_LIST:function(e,t){e.searchResult.top_one_list=t}},S={getSearchResult:(y=Object(c.a)(regeneratorRuntime.mark((function e(t,r){var o,c,l,_,h,y,k,T,S,E,O,w,P,I,R,A,j;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t.commit,c=t.state,l=r.params,_=void 0===l?{}:l,h=r.loading_type,y=void 0===h?"":h,k=r.is_only_total,T=void 0!==k&&k,S=r.page_num,E=void 0===S?1:S,!["pageLoading","changeLoading"].includes(c.status)){e.next=4;break}return e.abrupt("return",!1);case 4:for(P in o("SET_PAGE_STATUS",y),O=d()(_),T&&(O=f()({},c.filterData,O),w=c.searchResult.aggr_condition.price,O.price_from===w.from+""&&O.price_to===w.to+""&&(delete O.price_from,delete O.price_to),O.sort=c.filterData.sort,O.query=c.filterData.query,O.country_ids=c.filterData.country_ids),O)O[P]||delete O[P];return O.start_time&&(O.start_time=O.start_time.substring(0,10)+"T00:00:00Z"),e.prev=9,I="",I="city"===c.fromType?"".concat(m.a.getSearchResult,"city_search"):"country"===c.fromType?"".concat(m.a.getSearchResult,"country_search"):"".concat(m.a.getSearchResult,"complete_search"),e.next=14,this.$axios.get(I,{params:v({},O,{page_num:E,page_size:10,is_only_total:T}),throwError:!0});case 14:if(!((R=e.sent)&&R.data&&R.data.success&&R.data.result)){e.next=21;break}return A=R.data.result,o("SET_PAGE_STATUS","success"),R.headers&&R.headers["x-klook-request-id"]&&o("SET_REQUEST_ID",R.headers["x-klook-request-id"]),A.search_result?(o("SET_TAG_SEARCH_NUMBER",A.search_result.total),T||(o("SET_SEARCH_RESULT_TOTAL",A.search_result.total),o("SET_AGGR_CONDITION",A.aggr_condition),o("SET_RELATION_RESULT",A.relation_result),o("SET_TOP_ONE_LIST",A.top_one_list),1===E?o("SET_SEARCH_RESULT_CARDS",A.search_result.cards):(j=[].concat(Object(n.a)(c.searchResult.search_result.cards),Object(n.a)(A.search_result.cards)),o("SET_SEARCH_RESULT_CARDS",j)))):(o("SET_AGGR_CONDITION",A.aggr_condition),o("SET_RELATION_RESULT",A.relation_result),o("SET_TOP_ONE_LIST",A.top_one_list)),e.abrupt("return",A);case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(9),o("SET_PAGE_STATUS","error");case 26:case"end":return e.stop()}}),e,this,[[9,23]])}))),function(e,t){return y.apply(this,arguments)})}},704:function(e,t,r){"use strict";r.r(t),r.d(t,"state",(function(){return c})),r.d(t,"mutations",(function(){return l})),r.d(t,"actions",(function(){return d}));var n=r(0),o=r(3),c=function(){return{theme:{banner_info:"",description:"",title:"",items:[]}}},l=Object(n.a)({},"SET_THEME_DATA",(function(e,data){e.theme=data})),d={getThemePageData:function(e,t){var r=e.commit,n=t.theme_id,c=t.redirect;return n||c&&c({name:"Error404"}),this.$axios.$get(o.a.themepage,{params:{theme_id:n}}).then((function(e){e.success&&e.result?r("SET_THEME_DATA",e.result):c&&c({name:"Error404"})}))}}},705:function(e,t,r){"use strict";r.r(t),r.d(t,"state",(function(){return _})),r.d(t,"mutations",(function(){return f})),r.d(t,"actions",(function(){return m}));r(16),r(12),r(9),r(7),r(10);var n,o=r(0),c=r(3);function l(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function d(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var _=function(){return{landingPageInfo:{},partnerInfo:{},successfulRedeemedInfo:{},failedRedeemedInfo:{}}},f=(n={},Object(o.a)(n,"SET_LANDING_PAGE_CONTENT",(function(e,data){var t=data.landing_page_title,r=data.action_btn_name,n=data.action_bottom_tip;e.landingPageInfo=d({},data,{landing_page_title:t,action_btn_name:r,action_bottom_tip:n})})),Object(o.a)(n,"SET_PARTNER_INFO",(function(e,data){e.partnerInfo=data})),Object(o.a)(n,"SET_SUCCESSFUL_REDEEMED_INFO",(function(e,data){var t=data.successful_redeemed_copyright,r=data.redeemed_copyright,n=data.action_btn_label,o=data.recommend_act_title;e.successfulRedeemedInfo=d({},data,{successful_redeemed_copyright:t,redeemed_copyright:r,action_btn_label:n,recommend_act_title:o})})),Object(o.a)(n,"SET_FAILED_REDEEMED_INFO",(function(e,data){var t=data.failed_redeemed_copyright,r=data.event_end_copyright,n=data.action_btn_label,o=data.custom_service_tel;e.failedRedeemedInfo=d({},data,{failed_redeemed_copyright:t||"",event_end_copyright:r,action_btn_label:n,custom_service_tel:o||"0755-36561628"})})),n),m={getLandingPageInfo:function(e,t){var r=this,n=e.commit;return this.$axios.$get(c.a.getPhoneCouponInfo,{params:t}).then((function(e){if(e.success&&e.result){var content=e.result.shift().content;n("SET_LANDING_PAGE_CONTENT",content.landing_page_info),n("SET_PARTNER_INFO",content.partner_info),n("SET_SUCCESSFUL_REDEEMED_INFO",content.successful_redeemed_info),n("SET_FAILED_REDEEMED_INFO",content.failed_redeemed_info)}else r.app.context.redirect({name:"Error404"})}))}}},706:function(e,t,r){"use strict";r.r(t);r(16),r(12),r(10),r(43),r(87),r(80),r(9),r(7),r(35),r(269);var n=r(66),o=(r(60),r(11),r(1)),c=r(13),l=r(0),d=(r(17),r(19),r(209)),_=r.n(d),f=r(14),m=r.n(f),h=r(4),v=r(32),y=r(5),k=r(3),T=r(280);function S(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function E(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?S(Object(source),!0).forEach((function(t){Object(l.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):S(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var O,w,P,I,R,A,j,x,C,D,L,N,H,U,K,$,M,F,G,B,Y,V,W=r(164),z=null,Q=null,J={initialData:function(e,t){var r=e.commit,n=e.rootState,o=t.activityDetail,d=t.CMSGenericItem,f=t.preview;if(n.klook.utilConfig.is_guest_checkout){var m=o.packages,y=void 0===m?[]:m,k=o.spec,T=void 0===k?[]:k,S=o.best_package_id,O=[],w=[];o.packages=y&&y.filter((function(e){var t=[2,3].includes(e.db_voucher_usage);return t&&(O=O.concat(e.spec_attr_id||[]),w=w.concat(e.package_id)),!t})),T&&1===T.length&&(o.spec[0].attr=(T[0].attr||[]).filter((function(e){return!O.includes(e.id)}))),w.includes(S)&&(o.best_package_id="")}r(h.GET_ACTIVITY_DETAIL,E({},o)),r(h.CMS_AND_PREVIEW,{CMSGenericItem:d,preview:f});var P=n.klook.language,I=o.support_language||[],R=_()(v.d,(function(e,t,r){return E({},e,Object(l.a)({},t,r))}),{}),A=_()(I,(function(e,t){if("vi"===P&&"en"===t)return e;if("en"===P&&"vi"===t)return e;var r=R[t];return r?[].concat(Object(c.a)(e),[r]):e}),[]);f||r(h.SET_INITIAL_DATA,{supportLanguages:A},{root:!0})},getActivityDetail:(V=Object(o.a)(regeneratorRuntime.mark((function e(t){var r,n,o,source,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.state,n=r.activityId,o=r.preview,source=r.source,c=Object(y.R)(k.a.activityDetail,{activityId:n}),e.next=5,this.$axios.$get(c,{regularUrl:"/v1/usrcsrv/activity/{*}/detail",params:{preview:o?1:0,campaign_id:source,testing_4958:"Variant1",only_static:!0}});case 5:return l=e.sent,e.abrupt("return",l);case 7:case"end":return e.stop()}}),e,this)}))),function(e){return V.apply(this,arguments)}),getPromotionDetail:(Y=Object(o.a)(regeneratorRuntime.mark((function e(t){var r,n,o,c,l,d,_,f,v,y,T,S,E;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.state,n=t.commit,o=t.rootState,d=o.klook,!(null===(l=null===(c=d.utilConfig)||void 0===c?void 0:c.whiteLabelUtilConfig)||void 0===l?void 0:l.hide_merchandising_promotion)){e.next=5;break}return e.abrupt("return");case 5:if(_=r.packageId,f=r.packages,v=r.packageSelectedDate,!(y=f.find((function(e){return e.packageId===_})))||!y.needPromotionPrice){e.next=27;break}return T={package_id:_},v&&(T.date=v),e.prev=10,z&&z.cancel("cancel"),z=this.$axios.CancelToken.source(),n(h.GET_PROMOTION_DETAIL,{status:"fetching"}),e.next=16,this.$axios.$get(k.a.activityPackagePromotion,{params:T,cancelToken:z.token});case 16:S=e.sent,E=S.result,S.success&&!m()(E)?n(h.GET_PROMOTION_DETAIL,{status:"success",detail:E}):(n(h.CLEAR_PROMOTION_DETAIL),n(h.GET_PROMOTION_DETAIL,{status:"failure"})),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(10),n(h.CLEAR_PROMOTION_DETAIL);case 25:e.next=28;break;case 27:n(h.CLEAR_PROMOTION_DETAIL);case 28:case"end":return e.stop()}}),e,this,[[10,22]])}))),function(e){return Y.apply(this,arguments)}),getReviewsImageInfo:(B=Object(o.a)(regeneratorRuntime.mark((function e(t){var r,n,o,c,l,d,_,f,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.commit,n=t.state,o=n.preview,c=n.activityId,e.next=4,this.$axios.$get(Object(y.R)(k.a.activityReviewGallery,{activityId:c}),{params:{preview:o},regularUrl:"/v1/usrcsrv/activities/{*}/images/show"});case 4:l=e.sent,d=l.result,l.success&&!m()(d)&&(_=d.count,f=d.should_show,v=d.image_info,r(h.GET_REVIEW_IMAGES_INFO,{count:_,reviewGalleryShouldShow:f,imageInfo:v}));case 7:case"end":return e.stop()}}),e,this)}))),function(e){return B.apply(this,arguments)}),getCards:(G=Object(o.a)(regeneratorRuntime.mark((function e(t){var r,n,o,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.commit,n=t.state,o=n.activityId,e.prev=2,e.next=5,this.$axios.$get(k.a.getActivityCards,{params:{activity_id:o},timeout:1e3});case 5:c=e.sent,l=c.result,c.success&&!m()(l)&&r(h.GET_ACTIVITY_CARDS,l),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(2);case 12:case"end":return e.stop()}}),e,this,[[2,10]])}))),function(e){return G.apply(this,arguments)}),getReviewsImages:(F=Object(o.a)(regeneratorRuntime.mark((function e(t,r){var n,o,d,f,h,v,T,S,O,w;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.state,o=r.page,d=r.pageSize,f=void 0===d?10:d,h=n.activityId,e.next=5,this.$axios.$get(Object(y.R)(k.a.activityReviewGalleryImages,{activityId:h}),{regularUrl:"/v1/usrcsrv/activities/{*}/images/get",params:{page:o,limit:f}});case 5:if(v=e.sent,T=v.result,!v.success||m()(T)){e.next=13;break}if(S=T.image_total_count,O=T.review_images_info,0!==S&&!m()(O)&&!m()(O)){e.next=11;break}return e.abrupt("return",{});case 11:return w=_()(O,(function(e,t){return e.imageList=[].concat(Object(c.a)(e.imageList),Object(c.a)(t.images.map((function(img){return E({},img,{reviewId:t.review_id})})))),e.reviewsMap=E({},e.reviewsMap,Object(l.a)({},t.review_id,t)),e}),{imageList:[],reviewsMap:{}}),e.abrupt("return",{imageTotalCount:T.image_total_count,reviewsCount:T.reviews_count,reviewImagesInfo:T.review_images_info,imageList:w.imageList,reviewsMap:w.reviewsMap});case 13:case"end":return e.stop()}}),e,this)}))),function(e,t){return F.apply(this,arguments)}),getPackageDetail:(M=Object(o.a)(regeneratorRuntime.mark((function e(t,r){var n,o,c,l,d,_,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.state,o=t.commit,c=n.preview,null!=(l=n.packageId)){e.next=4;break}return e.abrupt("return");case 4:if(o(h.GET_PACKAGE_DETAIL,{status:"fetching"}),d=null,!c){e.next=12;break}return e.next=9,this.$axios.$get(Object(y.R)(k.a.activityPackageDetailPreview,{packageId:l}),{params:{preview:c,translation:!!r},regularUrl:"/v1/usrcsrv/packages/{*}/base/all"});case 9:d=e.sent,e.next=15;break;case 12:return e.next=14,this.$axios.$get(Object(y.R)(k.a.activityPackageDetail,{packageId:l}),{params:{preview:c,translation:!!r},regularUrl:"/v1/usrcsrv/packages/{*}/base/published"});case 14:d=e.sent;case 15:_=d.result,d.success&&!m()(_)?(f=_[0],o(h.GET_PACKAGE_DETAIL,{status:"success",detail:f}),o(h.KEEP_SOURCE_PACKAGE_DETAIL,f)):o(h.GET_PACKAGE_DETAIL,{status:"failure"});case 17:case"end":return e.stop()}}),e,this)}))),function(e,t){return M.apply(this,arguments)}),selectPackage:($=Object(o.a)(regeneratorRuntime.mark((function e(t,r){var n,o,c,l,d,_;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.commit,o=t.dispatch,c=t.state,l=r.packageId,n(h.SET_PACKAGE_ID,{packageId:l}),!l){e.next=14;break}if(d=c.packages,!(_=d.find((function(e){return e.packageId===l})))){e.next=12;break}return n(h.SET_ATTRIBUTES,_.specAttrIds),e.next=10,o("getPromotionDetail");case 10:return e.next=12,o("getPackageDetail");case 12:e.next=15;break;case 14:o("clearPackage");case 15:case"end":return e.stop()}}),e)}))),function(e,t){return $.apply(this,arguments)}),clearPackage:function(e){var t=e.commit;t(h.CLEAR_PACKAGE),t(h.CLEAR_PROMOTION_DETAIL)},clearPackageOptions:function(e){var t=e.commit;t(h.CLEAR_PACKAGE),t(h.CLEAR_PACKAGE_OPTIONS),t(h.CLEAR_PROMOTION_DETAIL),t(h.SET_PACKAGE_SELECTED_DATE,""),t(h.CLEAR_ALL_CLICK,!0)},getActivityReviews:(K=Object(o.a)(regeneratorRuntime.mark((function e(t,r){var n,o,c,l,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.commit,o=t.dispatch,e.next=3,o("fetchActivityReview",r);case 3:if(!(c=e.sent)||!c.result){e.next=8;break}return l=c.result,d=c.activityReviewsCancelToken,n(h.SET_ACTIVITY_REVIEWS,l),e.abrupt("return",E({},l,{activityReviewsCancelToken:d}));case 8:case"end":return e.stop()}}),e)}))),function(e,t){return K.apply(this,arguments)}),fetchActivityReview:(U=Object(o.a)(regeneratorRuntime.mark((function e(t,r){var n,o,c,l,d,_,f,h,v,T,S,O,w,P,I,R,A,j,x,C;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.state,o=r.page,c=void 0===o?1:o,l=r.pageSize,d=void 0===l?15:l,_=r.star_num,f=void 0===_?"":_,h=r.lang,v=void 0===h?"":h,T=r.sort_type,S=void 0===T?0:T,O=r.only_image,w=void 0!==O&&O,P=r.timeout,I=r.activityId,R=r.config,j=E({regularUrl:"/v1/usrcsrv/activities/{*}/reviews",params:{page:c,limit:d,star_num:f,lang:v,sort_type:S,only_image:w}},R),Q=this.$axios.CancelToken.source(),P&&(j.timeout=P),j.cancelToken=null===(A=Q)||void 0===A?void 0:A.token,e.prev=6,e.next=9,this.$axios.$get(Object(y.R)(k.a.activityReviews,{activityId:I||n.activityId}),j);case 9:if(x=e.sent,C=x.result,!x.success||m()(C)){e.next=13;break}return e.abrupt("return",{result:C,activityReviewsCancelToken:Q});case 13:e.next=17;break;case 15:e.prev=15,e.t0=e.catch(6);case 17:case"end":return e.stop()}}),e,this,[[6,15]])}))),function(e,t){return U.apply(this,arguments)}),fetchActivityReviewsList:(H=Object(o.a)(regeneratorRuntime.mark((function e(t,r){var o,c,l,d,_,f,m,h,v,y;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.dispatch,c=r.pageSize,l=Object(n.a)(r,["pageSize"]),d=Math.floor(c/100),_=c%100,f=new Array(d).fill(100).concat(_).filter((function(e){return e})),m=f.map((function(e,t){return o("fetchActivityReview",E({page:t+1,pageSize:e},l))})),e.next=9,Promise.all(m);case 9:if((h=e.sent)&&h.length){e.next=12;break}return e.abrupt("return");case 12:if(v=-1,y=h.reduce((function(e,t){var r;if(!t)return e;var n=t.result;return v<0&&(v=null===(r=n)||void 0===r?void 0:r.total),n&&n.item?e.concat(n.item):e}),[]),!(v>-1)){e.next=16;break}return e.abrupt("return",{total:v,item:y||[]});case 16:case"end":return e.stop()}}),e)}))),function(e,t){return H.apply(this,arguments)}),replaceActivityReviews:(N=Object(o.a)(regeneratorRuntime.mark((function e(t,r){var n,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.dispatch,o=t.commit,e.next=3,n("fetchActivityReviewsList",r);case 3:if(!(c=e.sent)){e.next=8;break}return o(h.CLEAR_REVIEW_LIST),o(h.SET_ACTIVITY_REVIEWS,c),e.abrupt("return",c);case 8:case"end":return e.stop()}}),e)}))),function(e,t){return N.apply(this,arguments)}),getSchedules:(L=Object(o.a)(regeneratorRuntime.mark((function e(t){var r,n,o,c,l,d,_;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.commit,n=t.state,o=n.preview,c=n.activityId,r(h.GET_PACKAGE_SCHEDULE,{status:"fetching"}),e.next=5,this.$axios.$get(Object(y.R)(k.a.activitySchedules,{activityId:c}),{params:{preview:o},regularUrl:"/v1/usrcsrv/activity/{*}/schedules"});case 5:return l=e.sent,d=l.result,l.success&&!m()(d)?(_=d.schedules,r(h.GET_PACKAGE_SCHEDULE,{schedules:_,status:"success"})):r(h.GET_PACKAGE_SCHEDULE,{status:"failure"}),e.abrupt("return",l);case 9:case"end":return e.stop()}}),e,this)}))),function(e){return L.apply(this,arguments)}),getPriceSchedules:(D=Object(o.a)(regeneratorRuntime.mark((function e(t){var r,n,o,c,l,d,_,f,v,y;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.commit,n=t.state,o=n.preview,c=void 0===o?0:o,l=n.activityId,d=n.salesChannels,_=void 0===d?0:d,r(h.GET_PRICE_PACKAGE_SCHEDULE,{status:"fetching"}),e.next=5,this.$axios.$get(k.a.activityPriceSchedules,{params:{preview:c,activity_id:l,sales_channel:_}});case 5:return f=e.sent,v=f.result,f.success&&!m()(v)?(y=v.schedules,r(h.GET_PRICE_PACKAGE_SCHEDULE,{schedules:y,status:"success"})):r(h.GET_PRICE_PACKAGE_SCHEDULE,{status:"failure"}),e.abrupt("return",f);case 9:case"end":return e.stop()}}),e,this)}))),function(e){return D.apply(this,arguments)}),getPackagePriceSchedule:(C=Object(o.a)(regeneratorRuntime.mark((function e(t){var r,n,o,c,l,d,_,f,v,y,T,S,E,O;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.commit,n=t.dispatch,o=t.state,c=t.getters,l=t.rootState,d=o.packageId,_=o.preview,f=o.selectedTime.arrangementId,v=c.isNewOpenTicket,d){e.next=5;break}return e.abrupt("return");case 5:if(r(h.SET_PRICE_PACKAGE_SCHEDULE_STATE,"fetching"),!(y=o.packagePriceSchedulesMap[d])){e.next=12;break}return f||"desktop"!==l.klook.platform||m()(y.units)||r(h.SET_PACKAGE_UNITMAP,{prices:y.units}),v&&n("autoSetFeasibleDate"),r(h.SET_PRICE_PACKAGE_SCHEDULE_STATE,"success"),e.abrupt("return",!0);case 12:return e.next=14,this.$axios.$get(k.a.getPackagePriceSchedulesAndUnits,{params:{package_id:d,preview:_}});case 14:if(T=e.sent,S=T.result,!T.success||m()(S)||m()(S.schedules)){e.next=23;break}return E=S.schedules,O=S.units,r(h.SET_PRICE_PACKAGE_SCHEDULE,{packageId:d,schedules:E,units:O}),"desktop"!==l.klook.platform||m()(O)||r(h.SET_PACKAGE_UNITMAP,{prices:O}),v&&n("autoSetFeasibleDate"),r(h.SET_PRICE_PACKAGE_SCHEDULE_STATE,"success"),e.abrupt("return",!0);case 23:return r(h.SET_PRICE_PACKAGE_SCHEDULE_STATE,"failure"),e.abrupt("return",!1);case 25:case"end":return e.stop()}}),e,this)}))),function(e){return C.apply(this,arguments)}),autoSetFeasibleDate:function(e){var t,r=e.commit,n=e.getters,o=e.state,c=o.packageSelectedDate,l=o.routeName,d=n.packagePriceSchedules,_=n.currentSelectedPackage,f=function(e){return!!e.stock&&e.stock>=_.minPax};if("ActivityBookOptions"===l&&c&&((null===(t=d.find((function(e){return e.date===c})))||void 0===t?void 0:t.time_slots)||[]).some(f))return;var m=d.find((function(e){return(e.time_slots||[]).some(f)}));r(h.SET_PACKAGE_SELECTED_DATE,m?m.date:"")},setSelectedDate:function(e,t){(0,e.commit)(h.SET_PACKAGE_SELECTED_DATE,t)},setDefaultPackageSelectedDate:function(e){var t=e.dispatch,r=e.getters.packagePriceSchedules;r&&r.length&&t("setPackageSelectedDate",r[0].date)},setValuablePackageSelectedDate:function(e){var t=e.dispatch,r=e.getters.packagePriceSchedules;if(r&&r.length){var n=r.find((function(e){return(e.time_slots||[]).find((function(slot){return slot.stock}))}));n&&t("setPackageSelectedDate",n.date)}},setPackageSelectedDate:(x=Object(o.a)(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t.dispatch)("setSelectedDate",r),n("packageSelectedDateChange"),e.next=5,n("getPromotionDetail");case 5:case"end":return e.stop()}}),e)}))),function(e,t){return x.apply(this,arguments)}),packageSelectedDateChange:function(e){var t=e.dispatch,r=e.state,n=e.getters,o=r.packageId;r.packageSelectedDate&&(n.packagesInDate.find((function(e){return e.packageId===o}))||t("setChosenAttributeIds",[]))},setPackageTime:function(e,data){var t=e.commit,r=e.getters.currentSelectedPackage.maxPax;t(h.SET_PACKAGE_TIME,E({},data,{maxPax:r}))},fetchPackageUnits:(j=Object(o.a)(regeneratorRuntime.mark((function e(t){var r,n,o,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.commit,n=t.state,o=n.selectedTime.arrangementId){e.next=4;break}return e.abrupt("return",{success:!1});case 4:return e.next=6,this.$axios.$get(Object(y.R)(k.a.getPackageUnits,{arrangementId:o}),{regularUrl:"/v1/usrcsrv/arrangements/{*}/units"});case 6:if(c=e.sent,l=c.result,!c.success||m()(l)||m()(l.prices)||m()(l.inventories)){e.next=11;break}return r(h.SET_PACKAGE_UNITMAP,E({},l,{arrangementId:o})),e.abrupt("return",E({},c,{success:!0}));case 11:return e.abrupt("return",{success:!1});case 12:case"end":return e.stop()}}),e,this)}))),function(e){return j.apply(this,arguments)}),addUnit:function(e,t){(0,e.commit)(h.CHANGE_UNIT_COUNT,{priceId:t,type:"add"})},minusUnit:function(e,t){(0,e.commit)(h.CHANGE_UNIT_COUNT,{priceId:t,type:"minus"})},setChosenAttributeIds:function(e,t){var r=e.commit,n=e.state,o=e.getters,l=e.dispatch,d=n.specList,_=n.packages,f=n.packageId,m=d.reduce((function(e,t){var r=t.attrs;return r&&1===r.length?[].concat(Object(c.a)(e),[r[0].id]):e}),[]),v=Array.from(new Set([].concat(Object(c.a)(t),Object(c.a)(m))));r(h.SET_ATTRIBUTES,v);var y=null;if(o.isAttrsSelectedAll&&v.length===d.length){var k=_.find((function(e){var t=e.specAttrIds;return Object(c.a)(t).sort().join(",")===Object(c.a)(v).sort().join(",")}));k&&k.packageId!==f&&(y=k.packageId)}l("selectPackage",{packageId:y})},attributesChange:function(e,t){var r=e.commit,n=e.state,o=e.dispatch,l=t.attr,d=t.spec,_=l.id,f=l.isScheduleMatch,m=l.isPackageMatch,v=n.chosenIds,y=[];if(f&&m){var k=v.filter((function(e){return!d.attrs.find((function(t){return t.id===e}))}));y=[].concat(Object(c.a)(k),[_])}else y=[_],f||r(h.SET_PACKAGE_SELECTED_DATE,"");o("setChosenAttributeIds",y)},getActivityFaq:(A=Object(o.a)(regeneratorRuntime.mark((function e(t){var r,n,o,c,l,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.dispatch,n=t.commit,o=t.state,e.next=3,r("getCMSGenericItemList",{type:W.types.TYPE_ACTIVITY_HELP_CONTENT,options:{type_id:o.activityId}},{root:!0});case 3:if(c=e.sent,!m()(c)&&!m()(c.qa_list)){e.next=6;break}return e.abrupt("return",[]);case 6:l=c.qa_list.map((function(e){return e.question&&e.answer?"## "+e.question+" \n\n "+e.answer:""})).join("\n\n"),d=Object(T.a)(l),n(h.GET_ACTIVITY_FAQ,d);case 9:case"end":return e.stop()}}),e)}))),function(e){return A.apply(this,arguments)}),getActivityPreInfo:(R=Object(o.a)(regeneratorRuntime.mark((function e(t,r){var n,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.state,o=r.activityId,e.prev=2,e.next=5,this.$axios.$get(k.a.activityRedirectInfo,{params:{activity_id:o||n.activityId},timeout:2e3});case 5:if(!(c=e.sent).success||!c.result){e.next=8;break}return e.abrupt("return",c.result);case 8:e.next=12;break;case 10:e.prev=10,e.t0=e.catch(2);case 12:case"end":return e.stop()}}),e,this,[[2,10]])}))),function(e,t){return R.apply(this,arguments)}),resetBookingOptions:(I=Object(o.a)(regeneratorRuntime.mark((function e(t,data){var r,n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.dispatch,n=data.packageId,o=data.packageSelectedDate,e.next=4,r("selectPackage",{packageId:n});case 4:r("setPackageSelectedDate",o);case 5:case"end":return e.stop()}}),e)}))),function(e,t){return I.apply(this,arguments)}),getPresalePackages:(P=Object(o.a)(regeneratorRuntime.mark((function e(t,r){var n,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.commit,e.next=3,this.$axios.$get(k.a.getPresalePackages,{params:{activity_id:r}});case 3:(o=e.sent).success&&!m()(o.result)&&(c=o.result.packages,n(h.SET_PRESALE_PACKAGES,(c||[]).map((function(e){return{isSupportPresale:e.is_support_presale,packageId:e.package_id,presaleDate:e.presale_date,presaleDay:e.presale_day}}))));case 5:case"end":return e.stop()}}),e,this)}))),function(e,t){return P.apply(this,arguments)}),getReopenActivity:(w=Object(o.a)(regeneratorRuntime.mark((function e(t,data){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.commit,e.next=3,this.$axios.$post(k.a.updateReopen,data);case 3:if(!(n=e.sent).success){e.next=8;break}return r(h.SET_REOPEN_MODAL_VISIBLE,!1),r(h.SET_REOPEN_REMIND,n.result.reopen_notice),e.abrupt("return",n);case 8:case"end":return e.stop()}}),e,this)}))),function(e,t){return w.apply(this,arguments)}),setActivityInstant:function(e,t){(0,e.commit)(h.SET_ACTIVITY_INSTANT,t)},setReviewLiked:function(e,t){(0,e.commit)(h.SET_REVIEWS_LIKED,t)},triggerReviewListVisible:function(e){var t=e.commit,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t(h.TRIGGER_REVIEW_LIST_VISIBLE,r)},triggerActivityFaqVisible:function(e){var t=e.commit,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t(h.ACTIVITY_FAQ_VISIBLE,r)},updateActivityDetail:function(e,data){var t=e.commit;t(h.SAVE_ACTIVITY_TRANSLATE,data),t(h.GET_ACTIVITY_DETAIL,E({},data))},updatePackageDetail:function(e,data){var t=e.commit;t(h.SAVE_PACKAGE_TRANSLATE,data),t(h.GET_PACKAGE_DETAIL,{status:"success",detail:data})},changeTranslateStatus:function(e,data){(0,e.commit)(h.CHANGE_TRANSLATE_STATUS,data)},saveActivityTranslate:function(e,data){(0,e.commit)(h.SAVE_ACTIVITY_TRANSLATE,data)},savePackageTranslate:function(e,data){(0,e.commit)(h.SAVE_PACKAGE_TRANSLATE,data)},getShoppingCartList:(O=Object(o.a)(regeneratorRuntime.mark((function e(t,data){var r,n,o,c,l,d,_,f,i,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.commit,n=t.state,e.next=3,this.$axios.$get(k.a.shoppingCartList);case 3:if(!((o=e.sent)&&o.success&&o.result)){e.next=26;break}if(c=o.result.group,r(h.SET_MODIFICATION_SHOPPING_CART),!(l=data.shopId)||!c){e.next=26;break}if(d=null,c.find((function(e){return!!(d=e.items.find((function(e){return e.shoppingcart_id===Number(l)})))})),d){e.next=13;break}return e.abrupt("return",0);case 13:if(_=d.package_id,f=n.packages.find((function(e){return e.packageId===_}))){e.next=17;break}return e.abrupt("return",0);case 17:i=0;case 18:if(!(i<d.main_package_specs.length)){e.next=25;break}if(m=d.main_package_specs[i],f.specAttrIds.includes(m.attr_id)){e.next=22;break}return e.abrupt("return",0);case 22:i++,e.next=18;break;case 25:return e.abrupt("return",_);case 26:case"end":return e.stop()}}),e,this)}))),function(e,t){return O.apply(this,arguments)}),setRouteName:function(e,t){(0,e.commit)(h.SET_ROUTE_NAME,t)},changeScheduleMode:function(e,data){(0,e.commit)(h.CHANGE_SCHEDULE_MODE,data)}};t.default=J},723:function(e,t,r){"use strict";r.r(t);r(16),r(68),r(12),r(87),r(35),r(80),r(144),r(9),r(7),r(10),r(60);var n=r(0),o=r(13),c=(r(17),r(19),r(43),r(14)),l=r.n(c),d=r(8),_=r.n(d),f=r(5);function m(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function h(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):m(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var v={breadcrumbDetail:function(e){return["countryName","templateName","mainTagName","indexName","cityName","langPath","countryId","cityId","countrySeoUrl","templateId","mainTagId","citySeo","isCityPublish","isCountryPublish","frontendTree"].reduce((function(t,r){return t[r]=e[r],t}),{})},headBannerImage:function(e){var t=e.actBannerV2List;return l()(t)?{}:t[0]},merchatImageAmount:function(e){var t=e.actBannerV2List;return l()(t)?0:t.length},headInfo:function(e){var t=e.score,r=e.reviewCount,n=e.participantsFormat;return{score:t>0?parseFloat(String(t)).toFixed(1):"",reviewCount:Number(r)>0?Object(f.i)(r):"",participantsFormat:n}},editorChoice:function(e){return e.cardTags.editorChoice},packageSelectedDate:function(e){return e.packageSelectedDate},isPublished:function(e){return e.isCurrentLangPublish&&(e.published||e.preview)},isSoldOut:function(e){var t=e.packages;return l()(t)||t.every((function(e){return!e.hasStocks}))},isCrosellBannerVisible:function(e,t){var r=t.isPublished,n=t.isSoldOut,o=e.crosellBanner;return r&&!n&&!!o},isShowPromotionDetail:function(e){var t=e.promotionDetail.promotion_event||{};return 4===t.status||5===t.status},isInPromotion:function(e,t,r){var n=e.promotionDetail.promotion_event||{},o="mobile"===r.klook.platform?"mweb":"web",c=n.platforms||[];return 5===n.status&&c.includes(o)},isSingleSpecWithDiscount:function(e){var t=e.havePackageDiscount,r=e.specList;return t&&1===r.length},isMultiSpecWithDiscount:function(e){var t=e.havePackageDiscount,r=e.specList;return t&&r.length>1},isGlobalShowMarketPrice:function(){return!0},validPackages:function(e){return e.packages.filter((function(e){return e.hasStocks}))},singleAttrPackages:function(e){return e.packages.filter((function(e){return 1===e.specAttrIds.length}))},validPackageAttrIds:function(e,t){return t.validPackages.reduce((function(t,r){var c=r.specAttrIds,l=void 0===c?[]:c;return Object(f.u)(l).reduce((function(t,c){var l=Object(o.a)(c).sort().join(","),d=c.length===e.specList.length;return h({},t,Object(n.a)({},l,!d||r))}),t)}),{})},currentSelectedPackage:function(e){var t=e.packageId,r=e.packages;return null!=t&&r.find((function(e){return e.packageId===t}))||{}},packageDetailIcons:function(e){return e.packageDetail.multiLanguageIcons},validSchedules:function(e){var t=e.schedules;return Object(o.a)(Object.keys(t)).sort((function(a,b){return _()(a).diff(_()(b))})).filter((function(e){var r=t[e];return!!r&&Object.values(r).reduce((function(e,t){return e+t}),0)})).reduce((function(e,r){return h({},e,Object(n.a)({},r,t[r]))}),{})},totalUnitCount:function(e){var t=e.selectedTime.arrangementId,r=e.unitsMap;if(!t)return 0;var n=r[t];return n?n.unitList.reduce((function(e,t){return e+t.count}),0):0},units:function(e,t){var r=e.selectedTime,n=r.arrangementId,o=r.maxPurchased,c=e.unitsMap,l=t.totalUnitCount;if(!n)return c.default&&c.default.unitList||[];var d=c[n];return d?d.unitList.map((function(e){return h({},e,{minCount:e.required?e.priceMinPax:0,maxCount:Math.min(e.priceMaxPax,o-(l-e.count))})})):void 0},inventories:function(e){var t=e.selectedTime.arrangementId,r=e.unitsMap;if(t){var n=r[t];if(n)return n.inventories}return{}},packageSchedules:function(e){var t=e.packageId,r=e.packageSchedulesMap;return t&&r[t]||[]},priceSchedulesObj:function(e){return e.priceSchedules.reduce((function(e,t){return h({},e,Object(n.a)({},t.date,t))}),{})},selectedPackagePriceSchedule:function(e,t){var r=e.packageSelectedDate;return t.packagePriceSchedulesObj[r]},packagePriceSchedulesObj:function(e,t){return t.packagePriceSchedules.reduce((function(e,t){return h({},e,Object(n.a)({},t.date,t))}),{})},packagePriceSchedules:function(e){var t=e.packageId,r=e.packagePriceSchedulesMap;return t&&r[t]?r[t].schedules:[]},packageSchedulesFormatInDay:function(e){var t=e.packageId,r=e.packageSchedulesFormatInDayMap;return t&&r[t]||{}},soldoutSchedules:function(e,t){var r=e.packageId,o=e.schedules,c=t.packageSchedulesFormatInDay,d=t.currentSelectedPackage;return Object.keys(o).reduce((function(e,t){if(r){var _=[];if(c[t]&&(_=_.concat(c[t])),l()(_))return h({},e,Object(n.a)({},t,!1));var f=_.reduce((function(e,t){return e+t.stock}),0);return h({},e,Object(n.a)({},t,0===f||f<(d||{}).minPax))}var m=o[t];if(void 0!==m){for(var v in m){if(0!==m[v])return h({},e,Object(n.a)({},t,!1))}return h({},e,Object(n.a)({},t,!1))}return h({},e,Object(n.a)({},t,!1))}),{})},activitySoldOutSchedules:function(e){var t=e.schedules,r={};return Object.keys(t).forEach((function(e){var n=0;for(var o in t[e])n+=t[e][o];r[e]=n<=0})),r},activitySpecList:function(e,t){var r=e.specList,n=e.chosenIds,c=e.packageSelectedDate,l=t.validPackageAttrIds,d=t.packagesInDate,_=t.singleAttrPackages,f=t.isSingleSpecWithDiscount,m=t.isNewOpenTicket;return r.map((function(e){return h({},e,{attrs:e.attrs.map((function(t){var r=t.id,v=n.filter((function(t){return!e.attrs.find((function(e){return e.id===t}))})),y=Array.from(new Set(v).add(r)).sort().join(","),k=!(!m&&c)||d.find((function(e){return e.specAttrIds.includes(r)})),T=0;if(f){var S=_.find((function(e){return e.specAttrIds.includes(r)}));T=S?S.promotionDiscount:0}var E=d.some((function(e){return[].concat(Object(o.a)(v),[r]).every((function(t){return e.specAttrIds.includes(t)}))}));return h({},t,{promotionDiscount:T,isPackageMatch:l[y]&&(m||E),isScheduleMatch:k,isActive:n.includes(t.id)})}))})}))},isAttrsSelectedAll:function(e){var t=e.specList,r=e.chosenIds;return t.length===r.length},packagesInDate:function(e,t){var r=e.packageSelectedDate,n=e.routeName,o=t.priceSchedulesObj,c=t.validPackages;if(!r)return c;var l=o[r];return l?"ActivityBookOptions"===n?c:c.filter((function(e){var t=l.stocks;if(!t)return!1;var r=t.find((function(t){return t.package_id===e.packageId}));return!!r&&r.stock>0})):[]},validBookInfo:function(e){var t=e.activityBookInfo,r=[],n=!0,c=!1,d=void 0;try{for(var _,f=t[Symbol.iterator]();!(n=(_=f.next()).done);n=!0){var m=_.value,h=m.additional;if(h){var v=h.filter((function(e){return e.data}));l()(v)||(r=[].concat(Object(o.a)(r),[{additional:v}]))}else r=r.concat(m.data?m:[])}}catch(e){c=!0,d=e}finally{try{n||null==f.return||f.return()}finally{if(c)throw d}}return r},bookInfoVisible:function(e,t){var r=t.validBookInfo;return!l()(r)},isNoWatermarkActivity:function(e){return e.isNoWatermarkActivity},bookingStartDate:function(e){var t=e.packages,r=Object(o.a)(t).sort((function(a,b){return _()(a.availableDate).isBefore(b.availableDate)?-1:1}));return r[0]&&r[0].availableDate},packageDetailImages:function(e){return e.packageDetail.images},isPresale:function(e){var t=e.templateId,r=e.packageSelectedDate,n=e.packageId,o=(e.presalePackages||[]).filter((function(e){return e.isSupportPresale}));if(5===t&&r&&n&&!l()(o)){var c=o.find((function(e){return e.packageId===n}));if(c)return _()(c.presaleDate).isBefore(_()(r))}return!1},isNewOpenTicket:function(e,t){var r=e.activityTicketType,n=e.routeName,o=t.currentSelectedPackage;return["ActivityBookOptions","ExperienceActivityBookOptions"].includes(n)?3===o.packageTicketType:3===r},isYiFunVoucher:function(e){var t;return!!(null===(t=e.tagsInfo)||void 0===t?void 0:t.find((function(e){return"yifun_voucher"===e.tag_key})))}};t.default=v},724:function(e,t,r){"use strict";r.r(t);r(16),r(12),r(10),r(9),r(7),r(87),r(35),r(80);var n,o=r(13),c=(r(17),r(19),r(60),r(43),r(24),r(0)),l=(r(25),r(14)),d=r.n(l),_=r(8),f=r.n(_),m=r(4);function h(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function v(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?h(Object(source),!0).forEach((function(t){Object(c.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):h(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var y=(n={},Object(c.a)(n,m.SET_EXPERIENCES_ABTEST,(function(e,data){e.useAbTestMobilePage=data})),Object(c.a)(n,m.SET_ACTIVITY_INFO,(function(e,t){var r=t.activityId,n=t.preview,source=t.source;e.activityId=r,e.preview=n,e.source=source})),Object(c.a)(n,m.GET_ACTIVITY_DETAIL,(function(e,data){e.useSection=data.use_section,e.sectionContent=data.section_content,e.activityId=data.id,e.instant=data.instant,e.isCurrentLangPublish=data.is_current_lang_publish||!1,e.published=data.published,e.countryId=data.country_id,e.countryName=data.country_name,e.seoUrl=data.seo_url,e.countrySeoUrl=data.country_seo_url,e.cityId=data.city_id,e.cityName=data.city_name,e.citySeo=data.city_seo,e.templateId=data.template_id,e.address=data.address,e.videoUrl=data.video_url,e.mainTagName=data.main_tag_name,e.mainTagId=data.main_tag_id,e.templateName=data.template_name,e.bannerImage=data.banner_url.replace(/(.jpg|.jpeg|.png)$/i,""),e.lastUpdatedTime=data.last_updated_time,e.title=data.title,e.subtitle=data.subtitle,e.frontendTree=data.frontend_tree||[],e.shareActivity={title:data.share_activity.title,subTitle:data.share_activity.sub_title,image:data.share_activity.image,url:data.share_activity.url},e.favorite=data.favorite;var t=data.latest_best_review;e.latestBestReview=t&&{id:t.id,avatar:t.avatar,author:t.author,date:t.date,rating:t.rating,content:t.content,packageName:t.package_name,needTranslateButton:t.need_translate_button,translateContent:t.translate_content,reviewImage:t.review_image&&t.review_image.map((function(e){return{imageId:e.image_id,imgUrl:e.img_url,imgResizeUrl:e.img_resize_url}})),hasReply:t.has_reply,reply:t.reply?{content:t.reply.content,translateContent:t.reply.translate_content}:{}},e.reviewCount=data.review_count,e.participate=data.participate,e.sellingPrice=data.selling_price,e.marketPrice=data.market_price,e.score=data.score,e.participantsFormat=data.participants_format,e.bestPriceGuarantee=data.best_price_guarantee,e.activityCancellationType=data.activity_cancellation_type,e.actBannerV2List=d()(data.act_banner_v_2_list)?[]:data.act_banner_v_2_list.map((function(e){return{prefix:e.prefix,preProcess:e.pre_process,suffix:e.suffix,imageDesc:e.image_desc}})),e.discount=data.discount,e.seo=v({},data.seo,{topKeywords:data.seo.top_keywords}),e.multiLanguageIcons=d()(data.multi_language_icons)?[]:data.multi_language_icons.map((function(e){return{iconKey:e.icon_key,iconDesc:e.icon_desc}})),data.use_section&&(e.multiLanguageIcons=d()(data.section_content.icons)?[]:data.section_content.icons.map((function(e){return{iconType:e.icon_key,iconUrl:e.icon_url,iconDesc:e.icon_desc}})));var r=data.card_tags||{};e.cardTags={percentageOff:r.percentage_off,percentageTag:r.promotion_tag,skipTheLine:r.skip_the_line,newActivity:r.new_activity,bestseller:r.bestseller,editorChoice:r.editor_choice},e.summaryRenderObj=data.use_section?data.section_content.highlight_render_obj:data.summary_render_obj;var n=[];e.packages=(data.packages||[]).map((function(e){return n.push(e.package_id),{hasStocks:e.has_stocks,packageId:e.package_id,specAttrIds:e.spec_attr_id||[],sellPrice:e.sell_price,marketPrice:e.market_price,credits:e.credits,maxPax:e.max_pax,minPax:e.min_pax,isOpenTicket:e.is_open_ticket,discountDesc:e.discount_desc,availableDate:e.available_date,from_price:e.from_price,to_price:e.to_price,promotionDiscount:e.promotion?e.promotion.discount:0,needPromotionPrice:!!e.promotion&&e.promotion.need_promotion_price,iconList:e.icon_list,packageName:e.package_name,packageSubName:e.sub_name||"",packageOption:e.package_option||"",packageTicketType:e.package_ticket_type,reminder:e.reminder}})),e.packageIdList=n,e.specList=(data.spec||[]).map((function(e){return{id:e.id,textType:e.text_type,name:e.name,attrs:(e.attr||[]).map((function(e){return{id:e.id,name:e.name,tips:e.tips,tipsRenderObj:e.tips_render_obj}}))}}));var o=data.heading_editable||{};if(e.headingEditable={packageOptions:o.package_options,reviews:o.reviews,bookingInformation:o.booking_information,whatToExpect:o.what_to_expect,faqs:o.faqs,mostRecentReview:o.most_recent_review},e.fastEntryList=(data.fast_entry_list||[]).map((function(e){return v({},e,{entryType:e.entry_type,subTitle:e.sub_title})})),e.bestPackageId=data.best_package_id,e.pickupDateDescription=data.date_description,e.topActivities=data.top_activities?data.top_activities.slice(0,3):null,e.otherFaq=(data.covid_faq||[]).concat(data.seo_faq||[]),e.whatWeLoveRenderObj=data.what_we_love_render_obj,e.reopen=data.reopen,e.activitySeoLink=data.seo_static_link?data.seo_static_link.map((function(e){return{heading:e.heading,linking:e.linking,isShowMore:!1}})):[],e.activityBookInfo=[{type:"activityConfirmationDetail",title:"activity.v2.label.actinfo.confirmation",data:data.confirmation_details_render_obj},{type:"activityInclusiveOf",title:"activity.v2.label.actinfo.inclusive_of",data:data.inclusive_of_render_obj},{type:"activityNotInclusiveOf",title:"activity.v2.label.actinfo.not_inclusive_of",data:data.not_inclusive_of_render_obj},{type:"activityPackageOptions",title:"activity.v2.label.actinfo.package_option",data:data.package_options_render_obj},{type:"activityItinerary",title:"activity.v2.label.actinfo.itinerary",data:data.itinerary_render_obj},{additional:[{type:"activityInsiderTips",title:"activity.v2.label.actinfo.insider_tips",data:data.insider_tips_render_obj},{type:"activityAdditionalInformation",title:"activity.v2.label.actinfo.addtional_infomation",data:data.additional_information_render_obj}]}],e.mapBoxImageUrl=data.map_box_image_url,data.image_item){var c=data.image_item,l=c.act_images,_=c.hide_water_mark;e.descriptionImages=l&&l.map((function(e){return{url:e.image_url,desc:e.image_desc,alt:e.image_alt,width:e.width,height:e.height}})),e.isNoWatermarkActivity=!!_}if(data.srv_info){var f=data.srv_info,title=f.srv_title,m=f.srv_content_render_markdown_obj;e.srvInfo={srvTitle:title,srvContentObj:m}}data.eligibility_hint&&(e.eligibilityHint={title:data.eligibility_hint.title,icon:data.eligibility_hint.icon,titleColor:data.eligibility_hint.title_color,backgroundColor:data.eligibility_hint.background_color,contentObj:data.eligibility_hint.content_render_markdown_obj}),e.isNswActivity=data.is_nsw_activity,e.images=(data.images||[]).map((function(e){return{url:e.image_url,desc:e.image_desc,alt:e.image_alt,width:e.width,height:e.height}})),e.usageImages=data.image_item.usage_images,e.bannerImages=data.image_item.banner,e.klookInsider=data.klook_insider,e.isCountryPublish=data.is_country_publish,e.isCityPublish=data.is_city_publish,e.chatInfo={chatUrl:(data.chat_info||{}).chat_url,isOpenChat:(data.chat_info||{}).is_open_chat},e.isSrvActivity=data.is_srv_activity,e.rebate=data.rebate,e.bannerUrl=data.banner_url,e.enableTranslationButton=data.translation_bot,e.specPriceDesc=data.spec_price&&data.spec_price.desc,e.salesChannels=data.sales_channels,e.fromPrice=Number(data.from_price)||0,e.toPrice=Number(data.to_price)||0,e.promotionInfoList=data.promotions||[],e.havePackageDiscount=!!data.have_package_discount,e.addressDesc=data.address_desc,e.activityTicketType=data.activity_ticket_type,e.crosellBanner=data.crosell_banner,e.tagsInfo=data.tags_info})),Object(c.a)(n,m.GET_ACTIVITY_CARDS,(function(e,data){e.recommendActivities=data.recommend_activities?data.recommend_activities.slice(0,3):null,e.relatedActivities=(data.related_activities||[]).filter((function(e){return!e.sold_out})),e.relatedAndRecommendActivities=data.related_and_recommend_activities?data.related_and_recommend_activities.map((function(e){return v({},e,{sell_price:Number(e.sell_price),market_price:Number(e.market_price)})})):[]})),Object(c.a)(n,m.GET_PROMOTION_DETAIL,(function(e,t){var r=t.status,n=t.detail;r&&(e.fetchPromotionDetailStatus=r),n&&(e.promotionDetail=n)})),Object(c.a)(n,m.GET_REVIEW_IMAGES_INFO,(function(e,data){e.customerImageAmount=data.count,e.reviewGalleryShouldShow=data.reviewGalleryShouldShow,e.reviewGalleryList=data.imageInfo})),Object(c.a)(n,m.CMS_AND_PREVIEW,(function(e,data){e.preview=data.preview?1:0,e.noindexIds=d()(data.CMSGenericItem)?"":data.CMSGenericItem.noindex_ids})),Object(c.a)(n,m.GET_PACKAGE_SCHEDULE,(function(e,data){var t=data.schedules,r=data.status;t&&(e.schedules=t),r&&(e.fetchScheduleStatus=r)})),Object(c.a)(n,m.GET_PRICE_PACKAGE_SCHEDULE,(function(e,data){var t=data.schedules,r=data.status;t&&(e.priceSchedules=t),r&&(e.fetchPriceScheduleStatus=r)})),Object(c.a)(n,m.SET_PRICE_PACKAGE_SCHEDULE_STATE,(function(e,t){e.fetchPackagePriceScheduleStatus=t})),Object(c.a)(n,m.SET_PACKAGE_SELECTED_DATE,(function(e,data){e.packageSelectedDate=data})),Object(c.a)(n,m.SET_PACKAGE_ID,(function(e,data){e.packageId=data.packageId})),Object(c.a)(n,m.GET_PACKAGE_DETAIL,(function(e,data){var t=data.status,r=data.detail;t&&(e.fetchPackageDetailStatus=t),r&&(e.packageDetail={multiLanguageIcons:r.use_section?r.section_content.icons.map((function(e){return{iconUrl:e.icon_url,iconDesc:e.icon_desc}})):r.multi_language_icons.map((function(e){return{iconKey:e.icon_key,iconDesc:e.icon_desc}})),useSection:r.use_section,sectionContent:r.section_content,confirmationDetail:r.guide_lines&&r.guide_lines.confirmation_details_render_obj,cancelationPolicy:r.policy_render_obj_v2,packageOption:r.package_option_render_obj_v2,howToUse:r.usages&&r.usages.how_to_use_render_obj,instant:r.instant,images:(r.images||[]).map((function(e){return{width:e.width,height:e.height,url:e.image_url,desc:e.image_desc}})),enableTranslationButton:r.translation_bot,translationButtonStatus:r.translation_status,packageName:r.package_name,packageSubName:r.package_sub_name})})),Object(c.a)(n,m.CLEAR_PACKAGE,(function(e){var t=e.packageDetail.enableTranslationButton||!1,r=e.packageDetail.translationButtonStatus||!1;e.packageDetail={multiLanguageIcons:[],useSection:!1,sectionContent:{},confirmationDetail:[],cancelationPolicy:[],packageOption:[],howToUse:[],instant:!1,images:[],enableTranslationButton:t,translationButtonStatus:r,packageName:"",packageSubName:""},e.packageId=0})),Object(c.a)(n,m.CLEAR_PROMOTION_DETAIL,(function(e){e.promotionDetail={currency:"",discount:0,is_subscribed:!1,original_selling_price:"",package_id:0,selling_price:"",market_price:"",promotion_event:{}}})),Object(c.a)(n,m.CLEAR_PACKAGE_OPTIONS,(function(e){e.packageId=0,e.chosenIds=[]})),Object(c.a)(n,m.SET_PACKAGE_TIME,(function(e){var data=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.selectedTime=v({},data,{arrangementId:data.arrangement_id||data.arrangementId,stock:data.stock,date:data.date,maxPurchased:Math.min(data.stock,data.maxPax)})})),Object(c.a)(n,m.SET_PACKAGE_UNITMAP,(function(e,data){var t=data.prices,r=data.inventories,n=void 0===r?{}:r,o=e.selectedTime,l=o.arrangementId,d=void 0===l?"default":l,_=o.maxPurchased,f=t.filter((function(e){return e.required&&(e.price_min_pax||e.min_pax)})).reduce((function(e,t){return e+(t.price_min_pax||t.min_pax)}),0),m=t.map((function(e){var t=e.price_min_pax||e.min_pax||0,r=_-f,o=!1;o=r<0||!(e.required&&t)&&Math.max(t,1)>r;var c=Math.max(t,1)>n[e.inventory_id],l=e.required?t:0;return{priceMinPax:t,priceMaxPax:e.price_max_pax||e.max_pax||0,count:l,credits:e.credits,priceId:e.price_id||e.id,sellingPrice:e.selling_price||e.price||0,marketPrice:e.market_price||0,originalPrice:e.original_price||0,promotionDiscount:e.discount||0,priceName:e.price_name||e.name,isSoldOut:o||c,isFree:0===parseFloat(e.selling_price),specPriceDesc:e.spec_price&&e.spec_price.desc,requireBuy:e.required&&t,requireMinPax:!e.required&&l>=t&&t>1,required:e.required,skuId:e.sku_id,srvSkuInfo:e.srv_sku_info,inventoryId:e.inventory_id,eventId:e.promotion_event?e.promotion_event.event_id:0,isInPromotion:!!e.promotion_event&&!!e.promotion_event.event_id,isDefault:"default"===d}}));e.unitsMap=Object(c.a)({},d,{inventories:n,unitList:m})})),Object(c.a)(n,m.CHANGE_UNIT_COUNT,(function(e,t){var r=t.priceId,n=t.type,o=e.unitsMap[e.selectedTime.arrangementId];if(o){var c=o.unitList.find((function(e){return e.priceId===r}));if(c){var l=c.count,d=c.priceMinPax,_=c.required;if("add"===n)0===l?c.count+=Math.max(d,1):c.count++;else{if(0===l)return;l>d?c.count--:_||(c.count-=d)}}}})),Object(c.a)(n,m.SET_UNITS_COUNT_TO_ONE,(function(e){var t=e.unitsMap[e.selectedTime.arrangementId];t&&t.unitList&&t.unitList.forEach((function(e){e.isSoldOut||(e.count=1)}))})),Object(c.a)(n,m.BATCH_SET_UNITS_COUNT,(function(e,t){var r=e.unitsMap[e.selectedTime.arrangementId];if(r){var n=r.unitList,o=n.map((function(u){return u.priceId}));t.every((function(u){return o.includes(u.priceId)}))&&t.forEach((function(u){var e=n.find((function(e){return e.priceId===u.priceId}));if(e){var t=e.priceMinPax;e.count=Math.max(t,u.count)}}))}})),Object(c.a)(n,m.SET_PACKAGE_SCHEDULE,(function(e,t){var r=t.packageId,n=t.schedules,o=t.minPax,l={};e.packageSchedulesMap=Object(c.a)({},r,n.map((function(e){var data={date:e.date,time:f()(e.date).format("HH:mm"),arrangementId:e.arrangement_id,disabled:!e.stock||e.stock<o,stock:e.stock},t=f()(e.date).format("YYYY-MM-DD");return l[t]||(l[t]=[]),l[t].push(data),data}))),e.packageSchedulesFormatInDayMap=Object(c.a)({},r,l)})),Object(c.a)(n,m.SET_PRICE_PACKAGE_SCHEDULE,(function(e,t){var r=t.packageId,n=t.schedules,o=t.units,l=e.packagePriceSchedulesMap;l[r]||(e.packagePriceSchedulesMap=v({},l,Object(c.a)({},r,{schedules:n,units:o})))})),Object(c.a)(n,m.SET_ATTRIBUTES,(function(e,t){e.chosenIds=t})),Object(c.a)(n,m.RESET_BOOKING_OPTIONS,(function(e,data){var t=data.packageSelectedDate,r=data.selectedTime;e.packageSelectedDate=t,e.selectedTime=r})),Object(c.a)(n,m.SET_PRESALE_PACKAGES,(function(e,data){e.presalePackages=data})),Object(c.a)(n,m.SET_ACTIVITY_INSTANT,(function(e,data){e.instant=data})),Object(c.a)(n,m.SET_ACTIVITY_REVIEWS,(function(e,data){var t=(data.item||[]).map((function(e){var t=e.review_image;return{id:e.id,author:e.author,date:e.date,avatar:e.avatar,rating:e.rating,content:e.content,translateContent:e.translate_content,needTranslateButton:e.need_translate_button,packageName:e.package_name,reviewImage:t&&t.map((function(img){return{imgResizeUrl:img.img_resize_url,imageId:img.image_id,imgUrl:img.img_url}})),hasReply:e.has_reply,reply:e.reply?{content:e.reply.content,translateContent:e.reply.translate_content}:{},hasLiked:e.has_liked,likeCount:e.like_count}})).reduce((function(e,t){return{reviewMap:v({},e.reviewMap,Object(c.a)({},t.id,t)),reviewIdList:[].concat(Object(o.a)(e.reviewIdList),[t.id])}}),{reviewMap:{},reviewIdList:[]});e.reviewIdList=Array.from(new Set([].concat(Object(o.a)(e.reviewIdList),Object(o.a)(t.reviewIdList)))),e.reviewMap=v({},e.reviewMap,{},t.reviewMap),e.reviewTotal=data.total})),Object(c.a)(n,m.CLEAR_REVIEW_LIST,(function(e){e.reviewIdList=[],e.reviewMap={},e.reviewTotal=0})),Object(c.a)(n,m.SET_REVIEWS_LIKED,(function(e,t){var r=e.reviewMap,n=r[t];n&&(n.likeCount+=1,n.hasLiked+=!0,e.reviewMap=v({},r,Object(c.a)({},n.id,n)))})),Object(c.a)(n,m.TRIGGER_REVIEW_LIST_VISIBLE,(function(e,t){e.reviewListVisible=t})),Object(c.a)(n,m.GET_ACTIVITY_FAQ,(function(e,data){e.activityFaq=data,e.activityFaqRenderObj=data})),Object(c.a)(n,m.ACTIVITY_FAQ_VISIBLE,(function(e,t){e.activityFaqVisible=t})),Object(c.a)(n,m.SET_REOPEN_MODAL_VISIBLE,(function(e,t){e.activityReopenModalVisible=t})),Object(c.a)(n,m.SET_REOPEN_REMIND,(function(e,t){e.reopen.remind=t})),Object(c.a)(n,m.SHOW_DATE_PICKER,(function(e,t){e.dateShow=!0===t||!1===t?t:!e.dateShow})),Object(c.a)(n,m.KEEP_SOURCE_ACTIVITY_DETAIL,(function(e,data){e.sourceActivityDetail=JSON.stringify(data)})),Object(c.a)(n,m.KEEP_SOURCE_PACKAGE_DETAIL,(function(e,data){e.sourcePackageDetail=JSON.stringify(data)})),Object(c.a)(n,m.SAVE_ACTIVITY_TRANSLATE,(function(e,data){e.translateActivityResult||(e.translateActivityResult=data)})),Object(c.a)(n,m.SAVE_PACKAGE_TRANSLATE,(function(e,data){e.packageId&&!e.translatePackageResult[e.packageId]&&(e.translatePackageResult[e.packageId]=data)})),Object(c.a)(n,m.CHANGE_TRANSLATE_STATUS,(function(e,data){e.activityContentTranslated=data})),Object(c.a)(n,m.CLEAR_ALL_CLICK,(function(e,t){e.isClearAllClick=t})),Object(c.a)(n,m.SET_MODIFICATION_SHOPPING_CART,(function(e){e.modificationShoppingCart=!0})),Object(c.a)(n,m.SET_ROUTE_NAME,(function(e,t){e.routeName=t})),Object(c.a)(n,m.CHANGE_SCHEDULE_MODE,(function(e,t){e.isUsingPackagePriceSchedule=t})),Object(c.a)(n,m.SET_ACTIVITY_PREINFO,(function(e,t){e.preInfo=t})),Object(c.a)(n,m.SET_ACTIVITY_DETAIL,(function(e,t){e.activityDetail=t})),n);t.default=y},725:function(e,t,r){"use strict";r.r(t);t.default=function(){return{useAbTestMobilePage:"ActivityPage",customerImageAmount:0,reviewGalleryShouldShow:!1,reviewGalleryList:[],packageId:null,packages:null,packageIdList:[],fetchPackageDetailStatus:"",packageDetail:{multiLanguageIcons:[],useSection:!1,sectionContent:{},confirmationDetail:null,cancelationPolicy:null,packageOption:null,howToUse:null,instant:!1,images:[],enableTranslationButton:!1},schedules:{},priceSchedules:[],packagePriceSchedulesMap:{},fetchPriceScheduleStatus:"fetching",packageSelectedDate:"",activityReviews:[],selectedTime:{},unitsMap:{},packageSchedulesMap:{},chosenIds:[],fetchScheduleStatus:"success",presalePackages:[],reviewIdList:[],reviewMap:{},reviewListVisible:!1,activityFaqVisible:!1,activityReopenModalVisible:!1,activitySeoLink:[],favorite:!1,dateShow:!1,sourcePackageDetail:null,translatePackageResult:{},translateActivityResult:null,activityContentTranslated:!1,packageSchedulesFormatInDayMap:{},packagePriceSchedulesFormatInDayMap:{},isClearAllClick:!1,enableTranslationButton:!1,modificationShoppingCart:!1,routeName:"ActivityHome",isUsingPackagePriceSchedule:!1,fromPrice:0,toPrice:0,promotionInfoList:[],havePackageDiscount:!1,promotionDetail:{},fetchPromotionDetailStatus:"success",promotionDetailMap:{},otherFaq:[],fetchPackagePriceScheduleStatus:"success",relatedActivities:[],recommendActivities:[],relatedAndRecommendActivities:[],activityTicketType:0,tagsInfo:[]}}},726:function(e,t,r){"use strict";r.r(t),r.d(t,"state",(function(){return v})),r.d(t,"mutations",(function(){return y})),r.d(t,"actions",(function(){return k}));r(16),r(12),r(9),r(10),r(7);var n=r(0),o=(r(11),r(1)),c=r(3),l=r(5);function d(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function _(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var f,m,h,v=function(){return{productInfo:{},baseInfo:null,hotRoute:{},searchFormConfig:{},searchResult:{},selfSearchParams:{},searchId:"",searchResultLoading:!1}},y={SET_PRPDUCT_INFO:function(e,t){e.productInfo=t},SET_BASE_INFO:function(e,t){e.baseInfo=t},SET_HOT_ROUTE:function(e,t){e.hotRoute=t},SET_SEARCH_RESULT:function(e,t){e.searchResult=t},SET_SEARCH_CONFIG:function(e,t){e.searchFormConfig=t},SET_SELF_SEARCH_PARAMS:function(e,t){e.selfSearchParams=t},SET_SEARCH_SEARCHID:function(e,t){e.searchId=t},SET_SEARCH_LOADING:function(e,t){e.searchResultLoading=t}},k={getPtpSkeleton:(h=Object(o.a)(regeneratorRuntime.mark((function e(t,r){var n,o,d,f,m,h,v,y;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y=function(e){return new Promise((function(t){for(var r=0,n=0,o=0;o<e.length;o++)e[o].then((function(){n++})).catch((function(){n++})).finally((function(){++r===e.length&&t(n)}))}))},n=t.commit,o=t.rootState,d=r.route_id,f=o["ptp-standard"].common.productInfo,m=f.productType,n("SET_PRPDUCT_INFO",_({},f,{route_id:d})),h=this.$axios.$get(Object(l.R)(c.a.ptpDlpDetail,{productType:m}),{params:{route_id:d,tpl_no:1},regularUrl:"/v1/reappserv/ptp/{*}/dlp_page_detail"}).then((function(e){e.success&&n("SET_BASE_INFO",e.result)})).catch((function(e){return e})),v=this.$axios.$get(Object(l.R)(c.a.ptpDlpMostRoute,{productType:m}),{params:{route_id:d},regularUrl:"/v1/reappserv/ptp/{*}/dlp_most_route"}).then((function(e){e.success&&n("SET_HOT_ROUTE",e.result)})).catch((function(e){return e})),e.next=10,y([h,v]);case 10:case"end":return e.stop()}}),e,this)}))),function(e,t){return h.apply(this,arguments)}),getSearchFormConfig:(m=Object(o.a)(regeneratorRuntime.mark((function e(t){var r,n,o,d,_,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.commit,n=t.dispatch,o=t.state.productInfo,d=o.productType,_=o.route_id,e.next=3,this.$axios.$get(Object(l.R)(c.a.ptpDlpSearchForm,{productType:d}),{params:{route_id:_},regularUrl:"/v1/reappserv/ptp/:productType/search/dlp_form"});case 3:if(!(f=e.sent).success){e.next=9;break}return r("SET_SEARCH_CONFIG",f.result),r("SET_SELF_SEARCH_PARAMS",f.result),e.next=9,n("getSearchId");case 9:case"end":return e.stop()}}),e,this)}))),function(e){return m.apply(this,arguments)}),getSearchId:(f=Object(o.a)(regeneratorRuntime.mark((function e(t){var r,n,o,d,_,f,m,h=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.state,n=t.commit,o=h.length>1&&void 0!==h[1]?h[1]:{},n("SET_SELF_SEARCH_PARAMS",Object.assign(Object.assign({},r.selfSearchParams),o)),n("SET_SEARCH_LOADING",!0),d={origin_position:r.selfSearchParams.origin_position,destination_position:r.selfSearchParams.destination_position,departure_date:r.selfSearchParams.departure_date,departure_time:r.selfSearchParams.departure_time,passengers:r.selfSearchParams.passengers||[],filter_only:!1},e.next=7,this.$axios.$post(Object(l.R)(c.a.ptpSearchId,{productType:r.productInfo.productType}),d,{regularUrl:"/v1/reappserv/ptp/{*}/route/search"});case 7:if(!(_=e.sent).success){e.next=15;break}return f=_.result.search_id,n("SET_SEARCH_SEARCHID",f),e.next=13,this.$axios.$get(Object(l.R)(c.a.ptpDlpSearchResult,{productType:r.productInfo.productType}),{params:{search_id:f},regularUrl:"/v1/reappserv/ptp/{*}/route/search/dlp_result"});case 13:(m=e.sent).success&&n("SET_SEARCH_RESULT",m.result);case 15:n("SET_SEARCH_LOADING",!1);case 16:case"end":return e.stop()}}),e,this)}))),function(e){return f.apply(this,arguments)})}},727:function(e,t,r){"use strict";r.r(t),r.d(t,"state",(function(){return d})),r.d(t,"mutations",(function(){return _})),r.d(t,"actions",(function(){return f}));r(144),r(24),r(68),r(12),r(9),r(7),r(35),r(11);var n,o=r(1),c=r(5),l=r(3),d=function(){return{productInfo:{},productType:"",currentSubType:"",productList:[],ptpSkeleton:[],ptpSection:{},inWeChatLikeApp:!1,fullPath:"",currentTitle:"",ptpNotice:[],wlConfig:{}}},_={SET_PRPDUCT_INFO:function(e,t){e.productInfo=t},SET_PRODUCR_TYPE:function(e,t){e.productType=t},SET_CURRENT_SUB_TYPE:function(e,t){e.currentSubType=t},SET_PRODUCT_LIST:function(e,t){e.productList=t},SET_PTP_SKELETON:function(e,t){e.ptpSkeleton=t},SET_PTP_SECTION:function(e,t){e.ptpSection=t},SET_CURRENT_SUB_TITLE:function(e,t){e.currentTitle=t},SET_PTP_NOTICE:function(e,t){e.ptpNotice=t}},f={getPtpSkeleton:(n=Object(o.a)(regeneratorRuntime.mark((function e(t,r){var n,o,d,_,f,m,h,v,y,k,T,S,E,O,w,P,I,R,A,j,x,C,D=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.commit,o=t.rootState,d=r.error,f=o["ptp-standard"].common.productInfo,n("SET_PRPDUCT_INFO",f),n("SET_PRODUCR_TYPE",f.productType),e.next=7,this.$axios.$get("".concat(l.a.ptpWhiteLabelHomeSections,"?product_type=").concat(f.productType),{throwError:!0}).catch((function(e){d({statusCode:500,message:(e||{}).message||""})}));case 7:if(m=e.sent,null===(_=m)||void 0===_?void 0:_.success){e.next=10;break}return e.abrupt("return");case 10:for(h=m.result.type_list,v=m.result.home_sections,n("SET_CURRENT_SUB_TYPE",m.result.current_type),n("SET_CURRENT_SUB_TITLE",m.result.current_title),n("SET_PRODUCT_LIST",h),n("SET_PTP_SKELETON",v),y={},k={},T=!1,S=!0,E=!1,O=void 0,e.prev=22,w=function(){var section=I.value;y[section.sub_type]=[],k[section.sub_type]={};var e=!0,t=!1,r=void 0;try{for(var n,o=function(){var e=n.value;e.api_path&&y[section.sub_type].push(D.$axios.$get(e.api_path,{params:e.params||{}}).then((function(t){t.success?k[section.sub_type][e.name]=t.result:e.is_need&&d({statusCode:500,message:t.message})}),(function(t){var r=t||{};e.is_need&&(T=!0,d({statusCode:500,message:r.message||""}))})))},c=section.sections[Symbol.iterator]();!(e=(n=c.next()).done);e=!0)o()}catch(e){t=!0,r=e}finally{try{e||null==c.return||c.return()}finally{if(t)throw r}}},P=v[Symbol.iterator]();!(S=(I=P.next()).done);S=!0)w();e.next=31;break;case 27:e.prev=27,e.t0=e.catch(22),E=!0,O=e.t0;case 31:e.prev=31,e.prev=32,S||null==P.return||P.return();case 34:if(e.prev=34,!E){e.next=37;break}throw O;case 37:return e.finish(34);case 38:return e.finish(31);case 39:if(!T){e.next=41;break}return e.abrupt("return");case 41:for(R=this.$axios.$get(Object(c.R)(l.a.ptpNotice,{productType:f.productType})).then((function(e){if(e.success){var t=e.result.filter((function(e){return new Date(e.content.end_time).getTime()>Date.now()&&new Date(e.content.start_time).getTime()<Date.now()})).sort((function(pre,e){return e.content.start_time-pre.content.start_time}));n("SET_PTP_NOTICE",t)}}),(function(){n("SET_PTP_NOTICE",[])})),A=[R],j=0,x=Object.values(y);j<x.length;j++)C=x[j],A=A.concat(C);return e.next=46,Promise.all(A);case 46:n("SET_PTP_SECTION",k);case 47:case"end":return e.stop()}}),e,this,[[22,27,31,39],[32,,34,38]])}))),function(e,t){return n.apply(this,arguments)})}},728:function(e,t,r){"use strict";r.r(t),r.d(t,"state",(function(){return O})),r.d(t,"mutations",(function(){return w})),r.d(t,"actions",(function(){return P}));r(16),r(12),r(10);var n=r(0),o=(r(17),r(19),r(9),r(7),r(35),r(15)),c=(r(11),r(1)),l=r(13),d=(r(24),r(134)),_=r.n(d),f=r(61),m=r.n(f),h=r(3),v=r(5);function y(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function k(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?y(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):y(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var T,S,E,O=function(){return{isRoundTrip:!1,tripPhase:"0",forwardSearchId:"",forwardRouteId:"",forwardPostData:null,templateId:0,productType:"",productName:"",searchFormConfig:{},productTicketPolicy:null,faqData:null,searchId:"",expiry:0,sortOptions:[],defaultSort:null,sortTypeName:"",filterTypeLabel:"",filterSections:[],searchResultStatus:"loading",searchResultQuery:{search_id:"",latest_revision:0,sort_type:"",filters:[],quick_filters:[],is_from_filter:!1,is_from_quick_filter:!1},searchResultData:[],searchResultCount:0,isValidate:!1,searchResultTempData:[],selectApi:"",isTHSR:!1,THSRTimeRangeList:["00:00","08:00","14:00","19:00"],initialTHSRTimeRangeIndex:3,wlConfig:{breadcrumb:"Y",top_navigation:"Y",live_chat:"Y",back_button:"Y",date_selector:"Y",faq_config:"Y"}}},w={SET_PTP_IS_ROUND_TRIP:function(e,t){e.isRoundTrip=t},SET_PTP_TRIP_PHASE:function(e,t){e.tripPhase=t},SET_PTP_TEMPLATE_ID:function(e,t){e.templateId=t},SET_PTP_PRODUCT_TYPE:function(e,t){e.productType=t},SET_PTP_PRODUCT_NAME:function(e,t){e.productName=t},SET_PTP_SEARCH_FORM_CONFIG:function(e,t){e.searchFormConfig=t},SET_PTP_FAQ:function(e,t){e.faqData=t},SET_PTP_TICKET_POLICY:function(e,t){e.productTicketPolicy=t},SET_PTP_SEARCH_RESULT_STATUS:function(e,t){e.searchResultStatus=t},SET_PTP_SEARCH_ID:function(e,t){e.searchId=t},SET_PTP_SEARCH_ID_EXPIRY:function(e,t){e.expiry=t},SET_PTP_FILTER_DATA:function(e,t){e.filterSections=t},SET_PTP_SEARCH_RESULT_QUERY:function(e,t){e.searchResultQuery=t},SET_PTP_SEARCH_RESULT_QUERY_FILTERS:function(e,t){e.searchResultQuery.filters=t},SET_PTP_SEARCH_RESULT_QUERY_QUICK_FILTERS:function(e,t){e.searchResultQuery.quick_filters=t},SET_PTP_SEARCH_RESULT_QUERY_FROM_FILTER:function(e,t){e.searchResultQuery.is_from_filter=t},SET_PTP_SEARCH_RESULT_QUERY_FROM_QUICK_FILTER:function(e,t){e.searchResultQuery.is_from_quick_filter=t},SET_PTP_SEARCH_RESULT_TEMP_DATA:function(e,t){e.searchResultTempData=t},PUSH_PTP_SEARCH_RESULT_TEMP_DATA:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];e.searchResultTempData.push(r)},SET_PTP_SEARCH_RESULT_DATA:function(e,t){e.searchResultData=t},PUSH_PTP_SEARCH_RESULT_DATA:function(e,t){var r;(r=e.searchResultData).push.apply(r,Object(l.a)(t))},SET_PTP_SEARCH_RESULT_COUNT:function(e,t){e.searchResultCount=t},SET_PTP_SEARCH_VALIDATE:function(e,t){e.isValidate=t},SET_PTP_SORT_DATA:function(e,t){e.sortOptions=t},SET_PTP_DEFAULT_SORT:function(e,t){e.defaultSort=t},SET_PTP_SORT_TYPE_NAME:function(e,t){e.sortTypeName=t},SET_PTP_FILTER_TYPE_LABEL:function(e,t){e.filterTypeLabel=t},SET_PTP_SELECT_API:function(e,t){e.selectApi=t},SET_PTP_FORWARD_SEARCH_ID:function(e,t){e.forwardSearchId=t},SET_PTP_FORWARD_ROUTE_ID:function(e,t){e.forwardRouteId=t},SET_PTP_IS_THSR:function(e,t){e.isTHSR=t},SET_PTP_FORWARD_POST_DATA:function(e,t){e.forwardPostData=t},SET_INITIAL_THSR_TIME_RANGE_INDEX:function(e,t){e.initialTHSRTimeRangeIndex=t},SET_WL_CONFIG:function(e,t){e.wlConfig=t}},P={fetchSearchConfigAndPolicyAndFaq:(E=Object(c.a)(regeneratorRuntime.mark((function e(t,r){var n,c,l,d,f,y,k,T,S,E,O,w,P,I,R,A,j,x,C,D,L,N,H,U,K,$,M,F,G,B,Y,V,W,z,Q,J;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.commit,c=t.state,l=t.rootState,d=c.isTHSR,f=r.productType,y=r.productName,k=r.templateId,T=r.origin_position,S=r.origin_position_name,E=r.destination_position,O=r.destination_position_name,w=r.departure_date,P=r.departure_time,I=r.return_date,R=r.return_time,A=r.filter_only,j=r.passengers,x=r.seat_class,C={origin_position:T,origin_position_name:S,destination_position:E,destination_position_name:O,filter_only:A&&"false"!==A,seat_class:x||""},w&&(C.departure_date=w),P&&!d&&(C.departure_time=P),I&&(C.return_date=I),R&&!d&&(C.return_time=R),j&&(C.passengers=JSON.parse(j)||[]),f&&(n("SET_PTP_PRODUCT_TYPE",f),n("SET_PTP_TEMPLATE_ID",k),n("SET_PTP_PRODUCT_NAME",y)),D="desktop"===l.klook.platform,L=this.$axios.$get(Object(v.R)(h.a.ptpSearchForm,{productType:f}),{throwError:!0,regularUrl:"/v1/reappserv/ptp/{*}/search/form"}),N=this.$axios.$get(h.a.ptpWhiteLabelSearchListSections,{params:{product_type:f},throwError:!0}),H=D?this.$axios.$get(h.a.ptpWhiteLabelRouteDetailSkeleton,{params:{product_type:f},throwError:!0}):null,U=D?this.$axios.$get(Object(v.R)(h.a.ptpPolicy,{productType:f}),{regularUrl:"/v1/reappserv/ptp/{*}/route/ticket/policy"}).catch((function(){})):null,K=D?this.$axios.$get(Object(v.R)(h.a.ptpFaq,{productType:f}),{regularUrl:"/v1/reappserv/rail/{*}/richcontent",params:{from:"result"}}).catch((function(){})):null,e.next=18,Promise.all([L,U,K,H,N]);case 18:return $=e.sent,M=Object(o.a)($,5),F=M[0],G=M[1],B=M[2],Y=M[3],(V=M[4]).success&&n("SET_WL_CONFIG",V.result),F.success&&(j||(C.passengers=(F.result.passenger_types||[]).filter((function(e){return e.count>0})).map((function(e){return{count:e.count,name:e.name,passenger_type:e.value}}))),(W=F.result).default_departure_date=W.departure_date,n("SET_PTP_SEARCH_FORM_CONFIG",_()(m()(W),C))),G&&G.success&&n("SET_PTP_TICKET_POLICY",G.result),B&&B.success&&n("SET_PTP_FAQ",B.result),Y&&Y.success&&(z=Y.result.sections,Q=[h.a.ptpPackageSelectApiName,h.a.ptpTicketSelectApiName],(J=(z||[]).filter((function(section){return Q.includes(section.name)}))).length&&n("SET_PTP_SELECT_API",J[0].api_path)),e.abrupt("return",!0);case 31:case"end":return e.stop()}}),e,this)}))),function(e,t){return E.apply(this,arguments)}),fetchData:(S=Object(c.a)(regeneratorRuntime.mark((function e(t,r){var n,c,l,d,_,f,m,y,T,S,E,O,w,P,I,R,A,j,x,C,D,L,N,H,U,K,$,M,F,G,B,Y,V,W,z,Q;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.dispatch,c=t.commit,l=t.state,d=l.productType,_=l.THSRTimeRangeList,f=l.isTHSR,m=l.initialTHSRTimeRangeIndex,c("SET_PTP_SEARCH_RESULT_STATUS","loading"),y="boolean"==typeof(y=r.filter_only||!1)?y:"false"!==y,T=r.origin_position,S=r.destination_position,E=r.departure_date,O=r.departure_time,w=r.max_departure_time,P=r.return_date,I=r.return_time,R=r.max_return_time,A={origin_position:T,destination_position:S,departure_date:E||l.searchFormConfig.departure_date,departure_time:O||l.searchFormConfig.departure_time,passengers:r.passengers&&JSON.parse(r.passengers)||l.searchFormConfig.passengers||[],filter_only:y,seat_class:r.seat_class||""},f&&(A.max_departure_time=w,w||(A.departure_time=_[m],A.max_departure_time=_[m+1]||"24:00")),P?(c("SET_PTP_IS_ROUND_TRIP",!0),A.return_date=P,A.return_time=I,f&&(A.max_return_time=R),A.search_type="0"===l.tripPhase?"round_departure":"round_return"):(c("SET_PTP_IS_ROUND_TRIP",!1),c("SET_PTP_TRIP_PHASE","0")),e.next=11,this.$axios.$post(Object(v.R)(h.a.ptpSearchId,{productType:d}),A,{throwError:!0,regularUrl:"/v1/reappserv/ptp/{*}/route/search"}).catch((function(){c("SET_PTP_SEARCH_RESULT_STATUS","failed")}));case 11:if(j=e.sent){e.next=14;break}return e.abrupt("return");case 14:if(x="",j.result.search_id&&(C=j.result,D=C.search_id,L=C.expiry,c("SET_PTP_SEARCH_ID",x=D),c("SET_PTP_SEARCH_ID_EXPIRY",L)),!x){e.next=31;break}return N=l.searchResultQuery,H=l.tripPhase,U=l.forwardSearchId,K=l.forwardRouteId,$=r.isInitial,M=r.isDateSwitched,F=r.isReSearch,G=r.to_sort,B=k({},N,{search_id:x}),P&&("1"===H?(B.forward_search_id=U,B.forward_route_id=K):"0"===H&&(B.forward_search_id="",B.forward_route_id="")),!N.sort_type&&G&&(B.sort_type=G),c("SET_PTP_SEARCH_RESULT_QUERY",B),Y=this.$axios.$get(Object(v.R)(h.a.ptpSearchFilter,{productType:d}),{params:{search_id:x}}).catch((function(){})),V=n("getPtpSearchResultData",{isStart:!0,isDateSwitched:M||!1,isInitial:$||!1,isReSearch:F||!1}),e.next=27,Promise.all([Y,V]);case 27:W=e.sent,z=Object(o.a)(W,1),(Q=z[0])&&Q.success&&c("SET_PTP_FILTER_DATA",Q.result.section||[]);case 31:return e.abrupt("return",!0);case 32:case"end":return e.stop()}}),e,this)}))),function(e,t){return S.apply(this,arguments)}),getPtpSearchResultData:(T=Object(c.a)(regeneratorRuntime.mark((function e(t){var r,n,o,option,c,l,d,_,f,y,T,S,section,E,O,w,P,I,R,A=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.dispatch,n=t.commit,o=t.state,option=A.length>1&&void 0!==A[1]?A[1]:{},c=o.isTHSR,l=option.isStart,d=option.departure_time,_=option.return_time,f=option.errorCb,l&&(n("SET_PTP_SEARCH_RESULT_STATUS","loading"),n("SET_PTP_SEARCH_RESULT_TEMP_DATA",[]),n("SET_PTP_SEARCH_RESULT_DATA",[]),n("SET_PTP_SEARCH_RESULT_QUERY",Object.assign(m()(o.searchResultQuery),{latest_revision:0}))),y=o.searchResultQuery,e.next=8,this.$axios.$post(Object(v.R)(h.a.ptpSearchResult,{productType:o.productType}),k({},y,{departure_time:d,return_time:_}),{timeout:15e3,regularUrl:"/v3/reappserv/ptp/{*}/route/search/result"}).catch((function(e){c?l?n("SET_PTP_SEARCH_RESULT_STATUS","failed"):"function"==typeof f&&f(e):n("SET_PTP_SEARCH_RESULT_STATUS","failed")}));case 8:if(T=e.sent){e.next=11;break}return e.abrupt("return");case 11:if(y.latest_revision===o.searchResultQuery.latest_revision){e.next=13;break}return e.abrupt("return");case 13:if(T.success){e.next=17;break}c?l?n("SET_PTP_SEARCH_RESULT_STATUS","failed"):"function"==typeof f&&f(T.error):n("SET_PTP_SEARCH_RESULT_STATUS","failed"),e.next=31;break;case 17:if(S=T.result,section=S.section,E=S.metadata,O=S.filter_sorts,n("PUSH_PTP_SEARCH_RESULT_TEMP_DATA",section),n("PUSH_PTP_SEARCH_RESULT_DATA",section),n("SET_PTP_SEARCH_VALIDATE",E.is_validate),!E.search_completed){e.next=25;break}o.searchResultData.filter((function(e){return"rail_route_card"===e.view_type})).length?(w=[],P=null,I="",R="",(O||[]).forEach((function(e){"filter"!==e.filter_sort_type?((e.filter_sort_items||[]).forEach((function(e){if(!e.value.includes("_init")){var t={sortLabel:e.display_name,sortValue:e.value};w.push(t),e.default_select&&(P=t)}})),I=e.filter_sort_type_name):R=e.filter_sort_type_name})),n("SET_PTP_DEFAULT_SORT",P),n("SET_PTP_SEARCH_RESULT_COUNT",E.result_count),n("SET_PTP_SORT_TYPE_NAME",I),n("SET_PTP_FILTER_TYPE_LABEL",R),n("SET_PTP_SORT_DATA",w),n("SET_PTP_SEARCH_RESULT_STATUS","complete")):option.isInitial||option.isReSearch?n("SET_PTP_SEARCH_RESULT_STATUS","initialNone"):y.filters.length?n("SET_PTP_SEARCH_RESULT_STATUS","filterNone"):option.isDateSwitched&&n("SET_PTP_SEARCH_RESULT_STATUS","switchDateNone"),e.next=31;break;case 25:if(n("SET_PTP_SEARCH_RESULT_STATUS","success"),n("SET_PTP_SEARCH_RESULT_QUERY",Object.assign(m()(y),{latest_revision:E.revision})),!option.isInitial&&!c){e.next=29;break}return e.abrupt("return");case 29:return e.next=31,r("getPtpSearchResultData");case 31:case"end":return e.stop()}}),e,this)}))),function(e){return T.apply(this,arguments)})}},739:function(e,t){},74:function(e,t,r){"use strict";r.d(t,"c",(function(){return o})),r.d(t,"e",(function(){return c})),r.d(t,"b",(function(){return l})),r.d(t,"d",(function(){return d}));var n=!1;function o(){if(n)return n;try{return window.localStorage.setItem("test","4"),window.localStorage.removeItem("test"),n=!0,!0}catch(e){return n=!1,!1}}function c(e,t){o()&&window.localStorage.setItem(e,t)}function l(e,t){return o()?window.localStorage.getItem(e):t&&t.get(e)}function d(e){o()&&window.localStorage.removeItem(e)}t.a=function(){return{setItem:function(e,t,r){o()&&window.localStorage.setItem(e,JSON.stringify({localData:t,expires:(new Date).getTime()+r}))},getItem:function(e){if(o())try{var data=JSON.parse(window.localStorage.getItem(e)),t=(new Date).getTime();if(data){if(!(t>data.expires))return data.localData;window.localStorage.removeItem(e)}}catch(e){}},removeItem:function(){}