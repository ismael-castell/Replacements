/*
 jQuery DateTimePicker plugin v2.2.5
 @homepage http://xdsoft.net/jqplugins/datetimepicker/
 (c) 2014, Chupurnov Valeriy.
 @fileOverview TouchSwipe - jQuery Plugin
 @version 1.6.18

 @author Matt Bryson http://www.github.com/mattbryson
 @see https://github.com/mattbryson/TouchSwipe-Jquery-Plugin
 @see http://labs.rampinteractive.co.uk/touchSwipe/
 @see http://plugins.jquery.com/project/touchSwipe
 @license
 Copyright (c) 2010-2015 Matt Bryson
 Dual licensed under the MIT or GPL Version 2 licenses.

*/
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.owns=function(c,f){return Object.prototype.hasOwnProperty.call(c,f)};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(c,f,h){if(h.get||h.set)throw new TypeError("ES3 does not support getters and setters.");c!=Array.prototype&&c!=Object.prototype&&(c[f]=h.value)};$jscomp.getGlobal=function(c){return"undefined"!=typeof window&&window===c?c:"undefined"!=typeof global&&null!=global?global:c};
$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(c,f,h,a){if(f){h=$jscomp.global;c=c.split(".");for(a=0;a<c.length-1;a++){var e=c[a];e in h||(h[e]={});h=h[e]}c=c[c.length-1];a=h[c];f=f(a);f!=a&&null!=f&&$jscomp.defineProperty(h,c,{configurable:!0,writable:!0,value:f})}};$jscomp.polyfill("Object.assign",function(c){return c?c:function(c,h){for(var a=1;a<arguments.length;a++){var e=arguments[a];if(e)for(var f in e)$jscomp.owns(e,f)&&(c[f]=e[f])}return c}},"es6-impl","es3");
$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(c){return $jscomp.SYMBOL_PREFIX+(c||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var c=$jscomp.global.Symbol.iterator;c||(c=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[c]&&$jscomp.defineProperty(Array.prototype,c,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(c){var f=0;return $jscomp.iteratorPrototype(function(){return f<c.length?{done:!1,value:c[f++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(c){$jscomp.initSymbolIterator();c={next:c};c[$jscomp.global.Symbol.iterator]=function(){return this};return c};$jscomp.polyfill("Array.from",function(c){return c?c:function(c,h,a){$jscomp.initSymbolIterator();h=null!=h?h:function(b){return b};var e=[],f=c[Symbol.iterator];if("function"==typeof f)for(c=f.call(c);!(f=c.next()).done;)e.push(h.call(a,f.value));else for(var f=c.length,b=0;b<f;b++)e.push(h.call(a,c[b]));return e}},"es6-impl","es3");
$jscomp.polyfill("Object.getOwnPropertySymbols",function(c){return c?c:function(){return[]}},"es6-impl","es5");$jscomp.iteratorFromArray=function(c,f){$jscomp.initSymbolIterator();c instanceof String&&(c+="");var h=0,a={next:function(){if(h<c.length){var e=h++;return{value:f(e,c[e]),done:!1}}a.next=function(){return{done:!0,value:void 0}};return a.next()}};a[Symbol.iterator]=function(){return a};return a};
$jscomp.polyfill("Array.prototype.keys",function(c){return c?c:function(){return $jscomp.iteratorFromArray(this,function(c){return c})}},"es6-impl","es3");$jscomp.polyfill("Reflect.apply",function(c){if(c)return c;var f=Function.prototype.apply;return function(c,a,e){return f.call(c,a,e)}},"es6","es3");$jscomp.polyfill("Reflect.construct",function(c){return c?c:function(c,h,a){void 0===a&&(a=c);a=Object.create(a.prototype||Object.prototype);return Reflect.apply(c,a,h)||a}},"es6","es5");
$jscomp.makeIterator=function(c){$jscomp.initSymbolIterator();var f=c[Symbol.iterator];return f?f.call(c):$jscomp.arrayIterator(c)};$jscomp.EXPOSE_ASYNC_EXECUTOR=!0;$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise",function(c){function f(){this.batch_=null}if(c&&!$jscomp.FORCE_POLYFILL_PROMISE)return c;f.prototype.asyncExecute=function(e){null==this.batch_&&(this.batch_=[],this.asyncExecuteBatch_());this.batch_.push(e);return this};f.prototype.asyncExecuteBatch_=function(){var e=this;this.asyncExecuteFunction(function(){e.executeBatch_()})};var h=$jscomp.global.setTimeout;f.prototype.asyncExecuteFunction=function(e){h(e,0)};f.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var e=
this.batch_;this.batch_=[];for(var b=0;b<e.length;++b){var k=e[b];delete e[b];try{k()}catch(n){this.asyncThrow_(n)}}}this.batch_=null};f.prototype.asyncThrow_=function(e){this.asyncExecuteFunction(function(){throw e;})};var a=function(e){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var b=this.createResolveAndReject_();try{e(b.resolve,b.reject)}catch(k){b.reject(k)}};a.prototype.createResolveAndReject_=function(){function e(e){return function(a){k||(k=!0,e.call(b,a))}}var b=this,k=
!1;return{resolve:e(this.resolveTo_),reject:e(this.reject_)}};a.prototype.resolveTo_=function(e){if(e===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof a)this.settleSameAsPromise_(e);else{var b;a:switch(typeof e){case "object":b=null!=e;break a;case "function":b=!0;break a;default:b=!1}b?this.resolveToNonPromiseObj_(e):this.fulfill_(e)}};a.prototype.resolveToNonPromiseObj_=function(e){var b=void 0;try{b=e.then}catch(k){this.reject_(k);return}"function"==
typeof b?this.settleSameAsThenable_(b,e):this.fulfill_(e)};a.prototype.reject_=function(e){this.settle_(2,e)};a.prototype.fulfill_=function(e){this.settle_(1,e)};a.prototype.settle_=function(e,b){if(0!=this.state_)throw Error("Cannot settle("+e+", "+b|"): Promise already settled in state"+this.state_);this.state_=e;this.result_=b;this.executeOnSettledCallbacks_()};a.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var e=this.onSettledCallbacks_,b=0;b<e.length;++b)e[b].call(),
e[b]=null;this.onSettledCallbacks_=null}};var e=new f;a.prototype.settleSameAsPromise_=function(e){var b=this.createResolveAndReject_();e.callWhenSettled_(b.resolve,b.reject)};a.prototype.settleSameAsThenable_=function(e,b){var k=this.createResolveAndReject_();try{e.call(b,k.resolve,k.reject)}catch(n){k.reject(n)}};a.prototype.then=function(e,b){function k(b,e){return"function"==typeof b?function(e){try{c(b(e))}catch(u){f(u)}}:e}var c,f,h=new a(function(b,e){c=b;f=e});this.callWhenSettled_(k(e,c),
k(b,f));return h};a.prototype["catch"]=function(e){return this.then(void 0,e)};a.prototype.callWhenSettled_=function(a,b){function k(){switch(c.state_){case 1:a(c.result_);break;case 2:b(c.result_);break;default:throw Error("Unexpected state: "+c.state_);}}var c=this;null==this.onSettledCallbacks_?e.asyncExecute(k):this.onSettledCallbacks_.push(function(){e.asyncExecute(k)})};a.resolve=function(e){return e instanceof a?e:new a(function(b,k){b(e)})};a.reject=function(e){return new a(function(b,k){k(e)})};
a.race=function(e){return new a(function(b,k){for(var c=$jscomp.makeIterator(e),f=c.next();!f.done;f=c.next())a.resolve(f.value).callWhenSettled_(b,k)})};a.all=function(e){var b=$jscomp.makeIterator(e),k=b.next();return k.done?a.resolve([]):new a(function(e,c){function n(b){return function(k){f[b]=k;p--;0==p&&e(f)}}var f=[],p=0;do f.push(void 0),p++,a.resolve(k.value).callWhenSettled_(n(f.length-1),c),k=b.next();while(!k.done)})};$jscomp.EXPOSE_ASYNC_EXECUTOR&&(a.$jscomp$new$AsyncExecutor=function(){return new f});
return a},"es6-impl","es3");$jscomp.polyfill("Object.setPrototypeOf",function(c){return c?c:"object"!=typeof"".__proto__?null:function(c,h){c.__proto__=h;if(c.__proto__!==h)throw new TypeError(c+" is not extensible");return c}},"es6","es5");
$jscomp.polyfill("Reflect.defineProperty",function(c){return c?c:function(c,h,a){try{Object.defineProperty(c,h,a);var e=Object.getOwnPropertyDescriptor(c,h);return e?e.configurable===(a.configurable||!1)&&e.enumerable===(a.enumerable||!1)&&("value"in e?e.value===a.value&&e.writable===(a.writable||!1):e.get===a.get&&e.set===a.set):!1}catch(l){return!1}}},"es6","es5");
$jscomp.polyfill("Array.prototype.fill",function(c){return c?c:function(c,h,a){var e=this.length||0;0>h&&(h=Math.max(0,e+h));if(null==a||a>e)a=e;a=Number(a);0>a&&(a=Math.max(0,e+a));for(h=Number(h||0);h<a;h++)this[h]=c;return this}},"es6-impl","es3");$jscomp.findInternal=function(c,f,h){c instanceof String&&(c=String(c));for(var a=c.length,e=0;e<a;e++){var l=c[e];if(f.call(h,l,e,c))return{i:e,v:l}}return{i:-1,v:void 0}};
$jscomp.polyfill("Array.prototype.find",function(c){return c?c:function(c,h){return $jscomp.findInternal(this,c,h).v}},"es6-impl","es3");
var ready=function(){function c(){if(!e.isReady){try{document.documentElement.doScroll("left")}catch(l){setTimeout(c,1);return}e.ready()}}var f,h,a={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object"},e={isReady:!1,readyWait:1,holdReady:function(a){a?e.readyWait++:e.ready(!0)},ready:function(a){if(!0===a&&!--e.readyWait||!0!==a&&!e.isReady){if(!document.body)return setTimeout(e.ready,
1);e.isReady=!0;!0!==a&&0<--e.readyWait||f.resolveWith(document,[e])}},bindReady:function(){if(!f){f=e._Deferred();if("complete"===document.readyState)return setTimeout(e.ready,1);if(document.addEventListener)document.addEventListener("DOMContentLoaded",h,!1),window.addEventListener("load",e.ready,!1);else if(document.attachEvent){document.attachEvent("onreadystatechange",h);window.attachEvent("onload",e.ready);var a=!1;try{a=null==window.frameElement}catch(b){}document.documentElement.doScroll&&
a&&c()}}},_Deferred:function(){var a=[],b,k,c,f={done:function(){if(!c){var k=arguments,n,p,h,l,w;b&&(w=b,b=0);n=0;for(p=k.length;n<p;n++)h=k[n],l=e.type(h),"array"===l?f.done.apply(f,h):"function"===l&&a.push(h);w&&f.resolveWith(w[0],w[1])}return this},resolveWith:function(e,n){if(!c&&!b&&!k){n=n||[];k=1;try{for(;a[0];)a.shift().apply(e,n)}finally{b=[e,n],k=0}}return this},resolve:function(){f.resolveWith(this,arguments);return this},isResolved:function(){return!(!k&&!b)},cancel:function(){c=1;a=
[];return this}};return f},type:function(e){return null==e?String(e):a[Object.prototype.toString.call(e)]||"object"}};document.addEventListener?h=function(){document.removeEventListener("DOMContentLoaded",h,!1);e.ready()}:document.attachEvent&&(h=function(){"complete"===document.readyState&&(document.detachEvent("onreadystatechange",h),e.ready())});return function(a){e.bindReady();e.type(a);f.done(a)}}();
!function(c,f,h){function a(){var b=c.L;e.noConflict=function(){return c.L=b,this};c.L=e}var e={version:"1.0.3+ed36a04"};"object"==typeof module&&"object"==typeof module.exports?module.exports=e:"function"==typeof define&&define.amd&&define(e);"undefined"!=typeof c&&a();e.Util={extend:function(b){var e,a,c,f;a=1;for(c=arguments.length;a<c;a++)for(e in f=arguments[a],f)b[e]=f[e];return b},create:Object.create||function(){function b(){}return function(e){return b.prototype=e,new b}}(),bind:function(b,
e){var k=Array.prototype.slice;if(b.bind)return b.bind.apply(b,k.call(arguments,1));var a=k.call(arguments,2);return function(){return b.apply(e,a.length?a.concat(k.call(arguments)):arguments)}},stamp:function(b){return b._leaflet_id=b._leaflet_id||++e.Util.lastId,b._leaflet_id},lastId:0,throttle:function(b,e,a){var k,c,n,f;return f=function(){k=!1;c&&(n.apply(a,c),c=!1)},n=function(){k?c=arguments:(b.apply(a,arguments),setTimeout(f,e),k=!0)}},wrapNum:function(b,e,a){var k=e[1];e=e[0];var c=k-e;return b===
k&&a?b:((b-e)%c+c)%c+e},falseFn:function(){return!1},formatNum:function(b,e){var k=Math.pow(10,e||5);return Math.round(b*k)/k},trim:function(b){return b.trim?b.trim():b.replace(/^\s+|\s+$/g,"")},splitWords:function(b){return e.Util.trim(b).split(/\s+/)},setOptions:function(b,k){b.hasOwnProperty("options")||(b.options=b.options?e.Util.create(b.options):{});for(var a in k)b.options[a]=k[a];return b.options},getParamString:function(b,e,a){var k=[],c;for(c in b)k.push(encodeURIComponent(a?c.toUpperCase():
c)+"="+encodeURIComponent(b[c]));return(e&&-1!==e.indexOf("?")?"&":"?")+k.join("&")},template:function(b,k){return b.replace(e.Util.templateRe,function(b,e){var a=k[e];if(a===h)throw Error("No value provided for variable "+b);return"function"==typeof a&&(a=a(k)),a})},templateRe:/\{ *([\w_\-]+) *\}/g,isArray:Array.isArray||function(b){return"[object Array]"===Object.prototype.toString.call(b)},indexOf:function(b,e){for(var k=0;k<b.length;k++)if(b[k]===e)return k;return-1},emptyImageUrl:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="};
(function(){function b(b){return c["webkit"+b]||c["moz"+b]||c["ms"+b]}function k(b){var e=+new Date,k=Math.max(0,16-(e-a));return a=e+k,c.setTimeout(b,k)}var a=0,f=c.requestAnimationFrame||b("RequestAnimationFrame")||k,h=c.cancelAnimationFrame||b("CancelAnimationFrame")||b("CancelRequestAnimationFrame")||function(b){c.clearTimeout(b)};e.Util.requestAnimFrame=function(b,a,n){return n&&f===k?void b.call(a):f.call(c,e.bind(b,a))};e.Util.cancelAnimFrame=function(b){b&&h.call(c,b)}})();e.extend=e.Util.extend;
e.bind=e.Util.bind;e.stamp=e.Util.stamp;e.setOptions=e.Util.setOptions;e.Class=function(){};e.Class.extend=function(b){var k=function(){this.initialize&&this.initialize.apply(this,arguments);this.callInitHooks()},a=k.__super__=this.prototype,c=e.Util.create(a);c.constructor=k;k.prototype=c;for(var f in this)this.hasOwnProperty(f)&&"prototype"!==f&&(k[f]=this[f]);return b.statics&&(e.extend(k,b.statics),delete b.statics),b.includes&&(e.Util.extend.apply(null,[c].concat(b.includes)),delete b.includes),
c.options&&(b.options=e.Util.extend(e.Util.create(c.options),b.options)),e.extend(c,b),c._initHooks=[],c.callInitHooks=function(){if(!this._initHooksCalled){a.callInitHooks&&a.callInitHooks.call(this);this._initHooksCalled=!0;for(var b=0,e=c._initHooks.length;b<e;b++)c._initHooks[b].call(this)}},k};e.Class.include=function(b){return e.extend(this.prototype,b),this};e.Class.mergeOptions=function(b){return e.extend(this.prototype.options,b),this};e.Class.addInitHook=function(b){var e=Array.prototype.slice.call(arguments,
1);return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push("function"==typeof b?b:function(){this[b].apply(this,e)}),this};e.Evented=e.Class.extend({on:function(b,k,a){if("object"==typeof b)for(var c in b)this._on(c,b[c],k);else{b=e.Util.splitWords(b);c=0;for(var n=b.length;c<n;c++)this._on(b[c],k,a)}return this},off:function(b,k,a){if(b)if("object"==typeof b)for(var c in b)this._off(c,b[c],k);else{b=e.Util.splitWords(b);c=0;for(var n=b.length;c<n;c++)this._off(b[c],
k,a)}else delete this._events;return this},_on:function(b,e,a){this._events=this._events||{};var k=this._events[b];k||(k=[],this._events[b]=k);a===this&&(a=h);b={fn:e,ctx:a};for(var c=0,n=k.length;c<n;c++)if(k[c].fn===e&&k[c].ctx===a)return;k.push(b)},_off:function(b,k,a){var c,n,f;if(this._events&&(c=this._events[b])){if(!k){n=0;for(f=c.length;n<f;n++)c[n].fn=e.Util.falseFn;return void delete this._events[b]}if(a===this&&(a=h),c)for(n=0,f=c.length;n<f;n++){var l=c[n];if(l.ctx===a&&l.fn===k)return l.fn=
e.Util.falseFn,this._firingCount&&(this._events[b]=c=c.slice()),void c.splice(n,1)}}},fire:function(b,k,a){if(!this.listens(b,a))return this;k=e.Util.extend({},k,{type:b,target:this});if(this._events&&(b=this._events[b])){this._firingCount=this._firingCount+1||1;for(var c=0,n=b.length;c<n;c++){var f=b[c];f.fn.call(f.ctx||this,k)}this._firingCount--}return a&&this._propagateEvent(k),this},listens:function(b,e){var k=this._events&&this._events[b];if(k&&k.length)return!0;if(e)for(var a in this._eventParents)if(this._eventParents[a].listens(b,
e))return!0;return!1},once:function(b,k,a){if("object"==typeof b){for(var c in b)this.once(c,b[c],k);return this}var n=e.bind(function(){this.off(b,k,a).off(b,n,a)},this);return this.on(b,k,a).on(b,n,a)},addEventParent:function(b){return this._eventParents=this._eventParents||{},this._eventParents[e.stamp(b)]=b,this},removeEventParent:function(b){return this._eventParents&&delete this._eventParents[e.stamp(b)],this},_propagateEvent:function(b){for(var k in this._eventParents)this._eventParents[k].fire(b.type,
e.extend({layer:b.target},b),!0)}});var l=e.Evented.prototype;l.addEventListener=l.on;l.removeEventListener=l.clearAllEventListeners=l.off;l.addOneTimeEventListener=l.once;l.fireEvent=l.fire;l.hasEventListeners=l.listens;e.Mixin={Events:l};(function(){var b=navigator.userAgent.toLowerCase(),k=f.documentElement,a="ActiveXObject"in c,p=-1!==b.indexOf("webkit"),h=-1!==b.indexOf("phantom"),l=-1!==b.search("android [23]"),t=-1!==b.indexOf("chrome"),r=-1!==b.indexOf("gecko")&&!p&&!c.opera&&!a,u=0===navigator.platform.indexOf("Win"),
w="undefined"!=typeof orientation||-1!==b.indexOf("mobile"),N=!c.PointerEvent&&c.MSPointerEvent,D=c.PointerEvent||N,F=a&&"transition"in k.style,M="WebKitCSSMatrix"in c&&"m11"in new c.WebKitCSSMatrix&&!l,O="MozPerspective"in k.style,k="OTransition"in k.style,P=!c.L_NO_TOUCH&&(D||"ontouchstart"in c||c.DocumentTouch&&f instanceof c.DocumentTouch);e.Browser={ie:a,ielt9:a&&!f.addEventListener,edge:"msLaunchUri"in navigator&&!("documentMode"in f),webkit:p,gecko:r,android:-1!==b.indexOf("android"),android23:l,
chrome:t,safari:!t&&-1!==b.indexOf("safari"),win:u,ie3d:F,webkit3d:M,gecko3d:O,opera12:k,any3d:!c.L_DISABLE_3D&&(F||M||O)&&!k&&!h,mobile:w,mobileWebkit:w&&p,mobileWebkit3d:w&&M,mobileOpera:w&&c.opera,mobileGecko:w&&r,touch:!!P,msPointer:!!N,pointer:!!D,retina:1<(c.devicePixelRatio||c.screen.deviceXDPI/c.screen.logicalXDPI)}})();e.Point=function(b,e,a){this.x=a?Math.round(b):b;this.y=a?Math.round(e):e};e.Point.prototype={clone:function(){return new e.Point(this.x,this.y)},add:function(b){return this.clone()._add(e.point(b))},
_add:function(b){return this.x+=b.x,this.y+=b.y,this},subtract:function(b){return this.clone()._subtract(e.point(b))},_subtract:function(b){return this.x-=b.x,this.y-=b.y,this},divideBy:function(b){return this.clone()._divideBy(b)},_divideBy:function(b){return this.x/=b,this.y/=b,this},multiplyBy:function(b){return this.clone()._multiplyBy(b)},_multiplyBy:function(b){return this.x*=b,this.y*=b,this},scaleBy:function(b){return new e.Point(this.x*b.x,this.y*b.y)},unscaleBy:function(b){return new e.Point(this.x/
b.x,this.y/b.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},distanceTo:function(b){b=e.point(b);var k=b.x-this.x;b=b.y-this.y;return Math.sqrt(k*k+b*b)},equals:function(b){return b=
e.point(b),b.x===this.x&&b.y===this.y},contains:function(b){return b=e.point(b),Math.abs(b.x)<=Math.abs(this.x)&&Math.abs(b.y)<=Math.abs(this.y)},toString:function(){return"Point("+e.Util.formatNum(this.x)+", "+e.Util.formatNum(this.y)+")"}};e.point=function(b,k,a){return b instanceof e.Point?b:e.Util.isArray(b)?new e.Point(b[0],b[1]):b===h||null===b?b:"object"==typeof b&&"x"in b&&"y"in b?new e.Point(b.x,b.y):new e.Point(b,k,a)};e.Bounds=function(b,e){if(b)for(var k=e?[b,e]:b,a=0,c=k.length;a<c;a++)this.extend(k[a])};
e.Bounds.prototype={extend:function(b){return b=e.point(b),this.min||this.max?(this.min.x=Math.min(b.x,this.min.x),this.max.x=Math.max(b.x,this.max.x),this.min.y=Math.min(b.y,this.min.y),this.max.y=Math.max(b.y,this.max.y)):(this.min=b.clone(),this.max=b.clone()),this},getCenter:function(b){return new e.Point((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,b)},getBottomLeft:function(){return new e.Point(this.min.x,this.max.y)},getTopRight:function(){return new e.Point(this.max.x,this.min.y)},
getSize:function(){return this.max.subtract(this.min)},contains:function(b){var k,a;return b="number"==typeof b[0]||b instanceof e.Point?e.point(b):e.bounds(b),b instanceof e.Bounds?(k=b.min,a=b.max):k=a=b,k.x>=this.min.x&&a.x<=this.max.x&&k.y>=this.min.y&&a.y<=this.max.y},intersects:function(b){b=e.bounds(b);var k=this.min,a=this.max,c=b.min;b=b.max;var f=b.y>=k.y&&c.y<=a.y;return b.x>=k.x&&c.x<=a.x&&f},overlaps:function(b){b=e.bounds(b);var k=this.min,a=this.max,c=b.min;b=b.max;var f=b.y>k.y&&c.y<
a.y;return b.x>k.x&&c.x<a.x&&f},isValid:function(){return!(!this.min||!this.max)}};e.bounds=function(b,k){return!b||b instanceof e.Bounds?b:new e.Bounds(b,k)};e.Transformation=function(b,e,a,c){this._a=b;this._b=e;this._c=a;this._d=c};e.Transformation.prototype={transform:function(b,e){return this._transform(b.clone(),e)},_transform:function(b,e){return e=e||1,b.x=e*(this._a*b.x+this._b),b.y=e*(this._c*b.y+this._d),b},untransform:function(b,k){return k=k||1,new e.Point((b.x/k-this._b)/this._a,(b.y/
k-this._d)/this._c)}};e.DomUtil={get:function(b){return"string"==typeof b?f.getElementById(b):b},getStyle:function(b,e){var k=b.style[e]||b.currentStyle&&b.currentStyle[e];k&&"auto"!==k||!f.defaultView||(k=(k=f.defaultView.getComputedStyle(b,null))?k[e]:null);return"auto"===k?null:k},create:function(b,e,a){b=f.createElement(b);return b.className=e||"",a&&a.appendChild(b),b},remove:function(b){var e=b.parentNode;e&&e.removeChild(b)},empty:function(b){for(;b.firstChild;)b.removeChild(b.firstChild)},
toFront:function(b){b.parentNode.appendChild(b)},toBack:function(b){var e=b.parentNode;e.insertBefore(b,e.firstChild)},hasClass:function(b,k){if(b.classList!==h)return b.classList.contains(k);var a=e.DomUtil.getClass(b);return 0<a.length&&(new RegExp("(^|\\s)"+k+"(\\s|$)")).test(a)},addClass:function(b,k){if(b.classList!==h)for(var a=e.Util.splitWords(k),c=0,f=a.length;c<f;c++)b.classList.add(a[c]);else e.DomUtil.hasClass(b,k)||(a=e.DomUtil.getClass(b),e.DomUtil.setClass(b,(a?a+" ":"")+k))},removeClass:function(b,
k){b.classList!==h?b.classList.remove(k):e.DomUtil.setClass(b,e.Util.trim((" "+e.DomUtil.getClass(b)+" ").replace(" "+k+" "," ")))},setClass:function(b,e){b.className.baseVal===h?b.className=e:b.className.baseVal=e},getClass:function(b){return b.className.baseVal===h?b.className:b.className.baseVal},setOpacity:function(b,k){"opacity"in b.style?b.style.opacity=k:"filter"in b.style&&e.DomUtil._setOpacityIE(b,k)},_setOpacityIE:function(b,e){var k=!1;try{k=b.filters.item("DXImageTransform.Microsoft.Alpha")}catch(p){if(1===
e)return}e=Math.round(100*e);k?(k.Enabled=100!==e,k.Opacity=e):b.style.filter+=" progid:DXImageTransform.Microsoft.Alpha(opacity="+e+")"},testProp:function(b){for(var e=f.documentElement.style,a=0;a<b.length;a++)if(b[a]in e)return b[a];return!1},setTransform:function(b,k,a){k=k||new e.Point(0,0);b.style[e.DomUtil.TRANSFORM]=(e.Browser.ie3d?"translate("+k.x+"px,"+k.y+"px)":"translate3d("+k.x+"px,"+k.y+"px,0)")+(a?" scale("+a+")":"")},setPosition:function(b,k){b._leaflet_pos=k;e.Browser.any3d?e.DomUtil.setTransform(b,
k):(b.style.left=k.x+"px",b.style.top=k.y+"px")},getPosition:function(b){return b._leaflet_pos||new e.Point(0,0)}};(function(){e.DomUtil.TRANSFORM=e.DomUtil.testProp(["transform","WebkitTransform","OTransform","MozTransform","msTransform"]);var b=e.DomUtil.TRANSITION=e.DomUtil.testProp(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);if(e.DomUtil.TRANSITION_END="webkitTransition"===b||"OTransition"===b?b+"End":"transitionend","onselectstart"in f)e.DomUtil.disableTextSelection=
function(){e.DomEvent.on(c,"selectstart",e.DomEvent.preventDefault)},e.DomUtil.enableTextSelection=function(){e.DomEvent.off(c,"selectstart",e.DomEvent.preventDefault)};else{var k=e.DomUtil.testProp(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);e.DomUtil.disableTextSelection=function(){if(k){var b=f.documentElement.style;this._userSelect=b[k];b[k]="none"}};e.DomUtil.enableTextSelection=function(){k&&(f.documentElement.style[k]=this._userSelect,delete this._userSelect)}}e.DomUtil.disableImageDrag=
function(){e.DomEvent.on(c,"dragstart",e.DomEvent.preventDefault)};e.DomUtil.enableImageDrag=function(){e.DomEvent.off(c,"dragstart",e.DomEvent.preventDefault)};e.DomUtil.preventOutline=function(b){for(;-1===b.tabIndex;)b=b.parentNode;b&&b.style&&(e.DomUtil.restoreOutline(),this._outlineElement=b,this._outlineStyle=b.style.outline,b.style.outline="none",e.DomEvent.on(c,"keydown",e.DomUtil.restoreOutline,this))};e.DomUtil.restoreOutline=function(){this._outlineElement&&(this._outlineElement.style.outline=
this._outlineStyle,delete this._outlineElement,delete this._outlineStyle,e.DomEvent.off(c,"keydown",e.DomUtil.restoreOutline,this))}})();e.LatLng=function(b,e,a){if(isNaN(b)||isNaN(e))throw Error("Invalid LatLng object: ("+b+", "+e+")");this.lat=+b;this.lng=+e;a!==h&&(this.alt=+a)};e.LatLng.prototype={equals:function(b,k){if(!b)return!1;b=e.latLng(b);return Math.max(Math.abs(this.lat-b.lat),Math.abs(this.lng-b.lng))<=(k===h?1E-9:k)},toString:function(b){return"LatLng("+e.Util.formatNum(this.lat,b)+
", "+e.Util.formatNum(this.lng,b)+")"},distanceTo:function(b){return e.CRS.Earth.distance(this,e.latLng(b))},wrap:function(){return e.CRS.Earth.wrapLatLng(this)},toBounds:function(b){b=180*b/40075017;var k=b/Math.cos(Math.PI/180*this.lat);return e.latLngBounds([this.lat-b,this.lng-k],[this.lat+b,this.lng+k])},clone:function(){return new e.LatLng(this.lat,this.lng,this.alt)}};e.latLng=function(b,k,a){return b instanceof e.LatLng?b:e.Util.isArray(b)&&"object"!=typeof b[0]?3===b.length?new e.LatLng(b[0],
b[1],b[2]):2===b.length?new e.LatLng(b[0],b[1]):null:b===h||null===b?b:"object"==typeof b&&"lat"in b?new e.LatLng(b.lat,"lng"in b?b.lng:b.lon,b.alt):k===h?null:new e.LatLng(b,k,a)};e.LatLngBounds=function(b,e){if(b)for(var k=e?[b,e]:b,a=0,c=k.length;a<c;a++)this.extend(k[a])};e.LatLngBounds.prototype={extend:function(b){var k,a,c=this._southWest,f=this._northEast;if(b instanceof e.LatLng)a=k=b;else{if(!(b instanceof e.LatLngBounds))return b?this.extend(e.latLng(b)||e.latLngBounds(b)):this;if(k=b._southWest,
a=b._northEast,!k||!a)return this}return c||f?(c.lat=Math.min(k.lat,c.lat),c.lng=Math.min(k.lng,c.lng),f.lat=Math.max(a.lat,f.lat),f.lng=Math.max(a.lng,f.lng)):(this._southWest=new e.LatLng(k.lat,k.lng),this._northEast=new e.LatLng(a.lat,a.lng)),this},pad:function(b){var k=this._southWest,a=this._northEast,c=Math.abs(k.lat-a.lat)*b;b*=Math.abs(k.lng-a.lng);return new e.LatLngBounds(new e.LatLng(k.lat-c,k.lng-b),new e.LatLng(a.lat+c,a.lng+b))},getCenter:function(){return new e.LatLng((this._southWest.lat+
this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new e.LatLng(this.getNorth(),this.getWest())},getSouthEast:function(){return new e.LatLng(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},
contains:function(b){b="number"==typeof b[0]||b instanceof e.LatLng||"lat"in b?e.latLng(b):e.latLngBounds(b);var k,a,c=this._southWest,f=this._northEast;return b instanceof e.LatLngBounds?(k=b.getSouthWest(),a=b.getNorthEast()):k=a=b,k.lat>=c.lat&&a.lat<=f.lat&&k.lng>=c.lng&&a.lng<=f.lng},intersects:function(b){b=e.latLngBounds(b);var k=this._southWest,a=this._northEast,c=b.getSouthWest();b=b.getNorthEast();var f=b.lng>=k.lng&&c.lng<=a.lng;return b.lat>=k.lat&&c.lat<=a.lat&&f},overlaps:function(b){b=
e.latLngBounds(b);var k=this._southWest,a=this._northEast,c=b.getSouthWest();b=b.getNorthEast();var f=b.lng>k.lng&&c.lng<a.lng;return b.lat>k.lat&&c.lat<a.lat&&f},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join()},equals:function(b){return!!b&&(b=e.latLngBounds(b),this._southWest.equals(b.getSouthWest())&&this._northEast.equals(b.getNorthEast()))},isValid:function(){return!(!this._southWest||!this._northEast)}};e.latLngBounds=function(b,k){return b instanceof
e.LatLngBounds?b:new e.LatLngBounds(b,k)};e.Projection={};e.Projection.LonLat={project:function(b){return new e.Point(b.lng,b.lat)},unproject:function(b){return new e.LatLng(b.y,b.x)},bounds:e.bounds([-180,-90],[180,90])};e.Projection.SphericalMercator={R:6378137,MAX_LATITUDE:85.0511287798,project:function(b){var k=Math.PI/180,a=this.MAX_LATITUDE,a=Math.sin(Math.max(Math.min(a,b.lat),-a)*k);return new e.Point(this.R*b.lng*k,this.R*Math.log((1+a)/(1-a))/2)},unproject:function(b){var k=180/Math.PI;
return new e.LatLng((2*Math.atan(Math.exp(b.y/this.R))-Math.PI/2)*k,b.x*k/this.R)},bounds:function(){var b=6378137*Math.PI;return e.bounds([-b,-b],[b,b])}()};e.CRS={latLngToPoint:function(b,e){var k=this.projection.project(b),a=this.scale(e);return this.transformation._transform(k,a)},pointToLatLng:function(b,e){var k=this.scale(e),k=this.transformation.untransform(b,k);return this.projection.unproject(k)},project:function(b){return this.projection.project(b)},unproject:function(b){return this.projection.unproject(b)},
scale:function(b){return 256*Math.pow(2,b)},zoom:function(b){return Math.log(b/256)/Math.LN2},getProjectedBounds:function(b){if(this.infinite)return null;var k=this.projection.bounds,a=this.scale(b);b=this.transformation.transform(k.min,a);k=this.transformation.transform(k.max,a);return e.bounds(b,k)},infinite:!1,wrapLatLng:function(b){var k=this.wrapLng?e.Util.wrapNum(b.lng,this.wrapLng,!0):b.lng,a=this.wrapLat?e.Util.wrapNum(b.lat,this.wrapLat,!0):b.lat;return e.latLng(a,k,b.alt)},wrapLatLngBounds:function(b){var k=
b.getCenter(),a=this.wrapLatLng(k),c=k.lat-a.lat,k=k.lng-a.lng;if(0===c&&0===k)return b;a=b.getSouthWest();b=b.getNorthEast();a=e.latLng({lat:a.lat-c,lng:a.lng-k});c=e.latLng({lat:b.lat-c,lng:b.lng-k});return new e.LatLngBounds(a,c)}};e.CRS.Simple=e.extend({},e.CRS,{projection:e.Projection.LonLat,transformation:new e.Transformation(1,0,-1,0),scale:function(b){return Math.pow(2,b)},zoom:function(b){return Math.log(b)/Math.LN2},distance:function(b,e){var k=e.lng-b.lng,a=e.lat-b.lat;return Math.sqrt(k*
k+a*a)},infinite:!0});e.CRS.Earth=e.extend({},e.CRS,{wrapLng:[-180,180],R:6371E3,distance:function(b,e){var k=Math.PI/180,a=b.lat*k,c=e.lat*k;return this.R*Math.acos(Math.min(Math.sin(a)*Math.sin(c)+Math.cos(a)*Math.cos(c)*Math.cos((e.lng-b.lng)*k),1))}});e.CRS.EPSG3857=e.extend({},e.CRS.Earth,{code:"EPSG:3857",projection:e.Projection.SphericalMercator,transformation:function(){var b=.5/(Math.PI*e.Projection.SphericalMercator.R);return new e.Transformation(b,.5,-b,.5)}()});e.CRS.EPSG900913=e.extend({},
e.CRS.EPSG3857,{code:"EPSG:900913"});e.CRS.EPSG4326=e.extend({},e.CRS.Earth,{code:"EPSG:4326",projection:e.Projection.LonLat,transformation:new e.Transformation(1/180,1,-1/180,.5)});e.Map=e.Evented.extend({options:{crs:e.CRS.EPSG3857,center:h,zoom:h,minZoom:h,maxZoom:h,layers:[],maxBounds:h,renderer:h,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(b,k){k=e.setOptions(this,k);this._initContainer(b);
this._initLayout();this._onResize=e.bind(this._onResize,this);this._initEvents();k.maxBounds&&this.setMaxBounds(k.maxBounds);k.zoom!==h&&(this._zoom=this._limitZoom(k.zoom));k.center&&k.zoom!==h&&this.setView(e.latLng(k.center),k.zoom,{reset:!0});this._handlers=[];this._layers={};this._zoomBoundLayers={};this._sizeChanged=!0;this.callInitHooks();(this._zoomAnimated=e.DomUtil.TRANSITION&&e.Browser.any3d&&!e.Browser.mobileOpera&&this.options.zoomAnimation)&&(this._createAnimProxy(),e.DomEvent.on(this._proxy,
e.DomUtil.TRANSITION_END,this._catchTransitionEnd,this));this._addLayers(this.options.layers)},setView:function(b,k,a){if(k=k===h?this._zoom:this._limitZoom(k),b=this._limitCenter(e.latLng(b),k,this.options.maxBounds),a=a||{},this._stop(),this._loaded&&!a.reset&&!0!==a)if(a.animate!==h&&(a.zoom=e.extend({animate:a.animate},a.zoom),a.pan=e.extend({animate:a.animate,duration:a.duration},a.pan)),this._zoom!==k?this._tryAnimatedZoom&&this._tryAnimatedZoom(b,k,a.zoom):this._tryAnimatedPan(b,a.pan))return clearTimeout(this._sizeTimer),
this;return this._resetView(b,k),this},setZoom:function(b,e){return this._loaded?this.setView(this.getCenter(),b,{zoom:e}):(this._zoom=b,this)},zoomIn:function(b,k){return b=b||(e.Browser.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+b,k)},zoomOut:function(b,k){return b=b||(e.Browser.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-b,k)},setZoomAround:function(b,k,a){var c=this.getZoomScale(k),n=this.getSize().divideBy(2);b=(b instanceof e.Point?b:this.latLngToContainerPoint(b)).subtract(n).multiplyBy(1-
1/c);n=this.containerPointToLatLng(n.add(b));return this.setView(n,k,{zoom:a})},_getBoundsCenterZoom:function(b,k){k=k||{};b=b.getBounds?b.getBounds():e.latLngBounds(b);var a=e.point(k.paddingTopLeft||k.padding||[0,0]),c=e.point(k.paddingBottomRight||k.padding||[0,0]),f=this.getBoundsZoom(b,!1,a.add(c)),f="number"==typeof k.maxZoom?Math.min(k.maxZoom,f):f,a=c.subtract(a).divideBy(2),c=this.project(b.getSouthWest(),f),h=this.project(b.getNorthEast(),f);return{center:this.unproject(c.add(h).divideBy(2).add(a),
f),zoom:f}},fitBounds:function(b,k){if(b=e.latLngBounds(b),!b.isValid())throw Error("Bounds are not valid.");var a=this._getBoundsCenterZoom(b,k);return this.setView(a.center,a.zoom,k)},fitWorld:function(b){return this.fitBounds([[-90,-180],[90,180]],b)},panTo:function(b,e){return this.setView(b,this._zoom,{pan:e})},panBy:function(b,k){if(b=e.point(b).round(),k=k||{},!b.x&&!b.y)return this.fire("moveend");if(!0!==k.animate&&!this.getSize().contains(b))return this._resetView(this.unproject(this.project(this.getCenter()).add(b)),
this.getZoom()),this;if(this._panAnim||(this._panAnim=new e.PosAnimation,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),k.noMoveStart||this.fire("movestart"),!1!==k.animate){e.DomUtil.addClass(this._mapPane,"leaflet-pan-anim");var a=this._getMapPanePos().subtract(b).round();this._panAnim.run(this._mapPane,a,k.duration||.25,k.easeLinearity)}else this._rawPanBy(b),this.fire("move").fire("moveend");return this},flyTo:function(b,k,a){function c(b){b=(M*M-F*F+(b?
-1:1)*v*v*O*O)/(2*(b?M:F)*v*O);b=Math.sqrt(b*b+1)-b;return 1E-9>b?-18:Math.log(b)}function n(b){return(Math.exp(b)+Math.exp(-b))/2}function f(b){return F*(n(J)/n(J+P*b))}function l(b){var e=F,k=n(J);b=J+P*b;b=(Math.exp(b)-Math.exp(-b))/2/n(b);return e*(k*b-(Math.exp(J)-Math.exp(-J))/2)/v}function r(){var a=(Date.now()-R)/S,c=(1-Math.pow(1-a,1.5))*Z;1>=a?(this._flyToFrame=e.Util.requestAnimFrame(r,this),this._move(this.unproject(u.add(w.subtract(u).multiplyBy(l(c)/O)),D),this.getScaleZoom(F/f(c),D),
{flyTo:!0})):this._move(b,k)._moveEnd(!0)}if(a=a||{},!1===a.animate||!e.Browser.any3d)return this.setView(b,k,a);this._stop();var u=this.project(this.getCenter()),w=this.project(b),N=this.getSize(),D=this._zoom;b=e.latLng(b);k=k===h?D:k;var F=Math.max(N.x,N.y),M=F*this.getZoomScale(D,k),O=w.distanceTo(u)||1,P=1.42,v=P*P,J=c(0),R=Date.now(),Z=(c(1)-J)/P,S=a.duration?1E3*a.duration:800*Z;return this._moveStart(!0),r.call(this),this},flyToBounds:function(b,e){var k=this._getBoundsCenterZoom(b,e);return this.flyTo(k.center,
k.zoom,e)},setMaxBounds:function(b){return b=e.latLngBounds(b),b.isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=b,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(b){return this.options.minZoom=b,this._loaded&&this.getZoom()<this.options.minZoom?this.setZoom(b):this},setMaxZoom:function(b){return this.options.maxZoom=
b,this._loaded&&this.getZoom()>this.options.maxZoom?this.setZoom(b):this},panInsideBounds:function(b,k){this._enforcingBounds=!0;var a=this.getCenter(),c=this._limitCenter(a,this._zoom,e.latLngBounds(b));return a.equals(c)||this.panTo(c,k),this._enforcingBounds=!1,this},invalidateSize:function(b){if(!this._loaded)return this;b=e.extend({animate:!1,pan:!0},!0===b?{animate:!0}:b);var k=this.getSize();this._sizeChanged=!0;this._lastCenter=null;var a=this.getSize(),c=k.divideBy(2).round(),f=a.divideBy(2).round(),
c=c.subtract(f);return c.x||c.y?(b.animate&&b.pan?this.panBy(c):(b.pan&&this._rawPanBy(c),this.fire("move"),b.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(e.bind(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:k,newSize:a})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(b){if(b=this._locateOptions=e.extend({timeout:1E4,watch:!1},b),!("geolocation"in
navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var k=e.bind(this._handleGeolocationResponse,this),a=e.bind(this._handleGeolocationError,this);return b.watch?this._locationWatchId=navigator.geolocation.watchPosition(k,a,b):navigator.geolocation.getCurrentPosition(k,a,b),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=
!1),this},_handleGeolocationError:function(b){var e=b.code;b=b.message||(1===e?"permission denied":2===e?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld();this.fire("locationerror",{code:e,message:"Geolocation error: "+b+"."})},_handleGeolocationResponse:function(b){var k=new e.LatLng(b.coords.latitude,b.coords.longitude),a=k.toBounds(b.coords.accuracy),c=this._locateOptions;if(c.setView){var f=this.getBoundsZoom(a);this.setView(k,c.maxZoom?Math.min(f,c.maxZoom):
f)}var k={latlng:k,bounds:a,timestamp:b.timestamp},h;for(h in b.coords)"number"==typeof b.coords[h]&&(k[h]=b.coords[h]);this.fire("locationfound",k)},addHandler:function(b,e){if(!e)return this;var k=this[b]=new e(this);return this._handlers.push(k),this.options[b]&&k.enable(),this},remove:function(){if(this._initEvents(!0),this._containerId!==this._container._leaflet_id)throw Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(k){this._containerId=
this._container._leaflet_id=h}e.DomUtil.remove(this._mapPane);this._clearControlPos&&this._clearControlPos();this._clearHandlers();this._loaded&&this.fire("unload");for(var b in this._layers)this._layers[b].remove();return this},createPane:function(b,k){var a="leaflet-pane"+(b?" leaflet-"+b.replace("Pane","")+"-pane":""),a=e.DomUtil.create("div",a,k||this._mapPane);return b&&(this._panes[b]=a),a},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},
getZoom:function(){return this._zoom},getBounds:function(){var b=this.getPixelBounds(),k=this.unproject(b.getBottomLeft()),b=this.unproject(b.getTopRight());return new e.LatLngBounds(k,b)},getMinZoom:function(){return this.options.minZoom===h?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===h?this._layersMaxZoom===h?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(b,k,a){b=e.latLngBounds(b);a=e.point(a||[0,0]);var c=this.getZoom()||
0,n=this.getMinZoom(),f=this.getMaxZoom(),h=b.getNorthWest();b=b.getSouthEast();a=this.getSize().subtract(a);h=e.bounds(this.project(b,c),this.project(h,c)).getSize();b=e.Browser.any3d?this.options.zoomSnap:1;return c=this.getScaleZoom(Math.min(a.x/h.x,a.y/h.y),c),b&&(c=b/100*Math.round(c/(b/100)),c=k?Math.ceil(c/b)*b:Math.floor(c/b)*b),Math.max(n,Math.min(f,c))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new e.Point(this._container.clientWidth||0,this._container.clientHeight||
0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(b,a){var k=this._getTopLeftPoint(b,a);return new e.Bounds(k,k.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(b){return this.options.crs.getProjectedBounds(b===h?this.getZoom():b)},getPane:function(b){return"string"==typeof b?this._panes[b]:b},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(b,
e){var a=this.options.crs;return e=e===h?this._zoom:e,a.scale(b)/a.scale(e)},getScaleZoom:function(b,e){var a=this.options.crs;e=e===h?this._zoom:e;a=a.zoom(b*a.scale(e));return isNaN(a)?1/0:a},project:function(b,a){return a=a===h?this._zoom:a,this.options.crs.latLngToPoint(e.latLng(b),a)},unproject:function(b,a){return a=a===h?this._zoom:a,this.options.crs.pointToLatLng(e.point(b),a)},layerPointToLatLng:function(b){b=e.point(b).add(this.getPixelOrigin());return this.unproject(b)},latLngToLayerPoint:function(b){return this.project(e.latLng(b))._round()._subtract(this.getPixelOrigin())},
wrapLatLng:function(b){return this.options.crs.wrapLatLng(e.latLng(b))},wrapLatLngBounds:function(b){return this.options.crs.wrapLatLngBounds(e.latLngBounds(b))},distance:function(b,a){return this.options.crs.distance(e.latLng(b),e.latLng(a))},containerPointToLayerPoint:function(b){return e.point(b).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(b){return e.point(b).add(this._getMapPanePos())},containerPointToLatLng:function(b){b=this.containerPointToLayerPoint(e.point(b));return this.layerPointToLatLng(b)},
latLngToContainerPoint:function(b){return this.layerPointToContainerPoint(this.latLngToLayerPoint(e.latLng(b)))},mouseEventToContainerPoint:function(b){return e.DomEvent.getMousePosition(b,this._container)},mouseEventToLayerPoint:function(b){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(b))},mouseEventToLatLng:function(b){return this.layerPointToLatLng(this.mouseEventToLayerPoint(b))},_initContainer:function(b){b=this._container=e.DomUtil.get(b);if(!b)throw Error("Map container not found.");
if(b._leaflet_id)throw Error("Map container is already initialized.");e.DomEvent.addListener(b,"scroll",this._onScroll,this);this._containerId=e.Util.stamp(b)},_initLayout:function(){var b=this._container;this._fadeAnimated=this.options.fadeAnimation&&e.Browser.any3d;e.DomUtil.addClass(b,"leaflet-container"+(e.Browser.touch?" leaflet-touch":"")+(e.Browser.retina?" leaflet-retina":"")+(e.Browser.ielt9?" leaflet-oldie":"")+(e.Browser.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":
""));var a=e.DomUtil.getStyle(b,"position");"absolute"!==a&&"relative"!==a&&"fixed"!==a&&(b.style.position="relative");this._initPanes();this._initControlPos&&this._initControlPos()},_initPanes:function(){var b=this._panes={};this._paneRenderers={};this._mapPane=this.createPane("mapPane",this._container);e.DomUtil.setPosition(this._mapPane,new e.Point(0,0));this.createPane("tilePane");this.createPane("shadowPane");this.createPane("overlayPane");this.createPane("markerPane");this.createPane("tooltipPane");
this.createPane("popupPane");this.options.markerZoomAnimation||(e.DomUtil.addClass(b.markerPane,"leaflet-zoom-hide"),e.DomUtil.addClass(b.shadowPane,"leaflet-zoom-hide"))},_resetView:function(b,a){e.DomUtil.setPosition(this._mapPane,new e.Point(0,0));var k=!this._loaded;this._loaded=!0;a=this._limitZoom(a);this.fire("viewprereset");var c=this._zoom!==a;this._moveStart(c)._move(b,a)._moveEnd(c);this.fire("viewreset");k&&this.fire("load")},_moveStart:function(b){return b&&this.fire("zoomstart"),this.fire("movestart")},
_move:function(b,e,a){e===h&&(e=this._zoom);var k=this._zoom!==e;return this._zoom=e,this._lastCenter=b,this._pixelOrigin=this._getNewPixelOrigin(b),(k||a&&a.pinch)&&this.fire("zoom",a),this.fire("move",a)},_moveEnd:function(b){return b&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return e.Util.cancelAnimFrame(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(b){e.DomUtil.setPosition(this._mapPane,this._getMapPanePos().subtract(b))},_getZoomSpan:function(){return this.getMaxZoom()-
this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw Error("Set map center and zoom first.");},_initEvents:function(b){e.DomEvent&&(this._targets={},this._targets[e.stamp(this._container)]=this,b=b?"off":"on",e.DomEvent[b](this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress",this._handleDOMEvent,this),this.options.trackResize&&e.DomEvent[b](c,
"resize",this._onResize,this),e.Browser.any3d&&this.options.transform3DLimit&&this[b]("moveend",this._onMoveEnd))},_onResize:function(){e.Util.cancelAnimFrame(this._resizeRequest);this._resizeRequest=e.Util.requestAnimFrame(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0;this._container.scrollLeft=0},_onMoveEnd:function(){var b=this._getMapPanePos();Math.max(Math.abs(b.x),Math.abs(b.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),
this.getZoom())},_findEventTargets:function(b,a){for(var k,c=[],f="mouseout"===a||"mouseover"===a,h=b.target||b.srcElement,l=!1;h;){if(k=this._targets[e.stamp(h)],k&&("click"===a||"preclick"===a)&&!b._simulated&&this._draggableMoved(k)){l=!0;break}if(k&&k.listens(a,!0)){if(f&&!e.DomEvent._isExternalTarget(h,b))break;if(c.push(k),f)break}if(h===this._container)break;h=h.parentNode}return c.length||l||f||!e.DomEvent._isExternalTarget(h,b)||(c=[this]),c},_handleDOMEvent:function(b){if(this._loaded&&
!e.DomEvent._skipped(b)){var a="keypress"===b.type&&13===b.keyCode?"click":b.type;"mousedown"===a&&e.DomUtil.preventOutline(b.target||b.srcElement);this._fireDOMEvent(b,a)}},_fireDOMEvent:function(b,a,c){if("click"===b.type){var k=e.Util.extend({},b);k.type="preclick";this._fireDOMEvent(k,k.type,c)}if(!b._stopped&&(c=(c||[]).concat(this._findEventTargets(b,a)),c.length)){var n=c[0];"contextmenu"===a&&n.listens(a,!0)&&e.DomEvent.preventDefault(b);k={originalEvent:b};if("keypress"!==b.type){var f=n instanceof
e.Marker;k.containerPoint=f?this.latLngToContainerPoint(n.getLatLng()):this.mouseEventToContainerPoint(b);k.layerPoint=this.containerPointToLayerPoint(k.containerPoint);k.latlng=f?n.getLatLng():this.layerPointToLatLng(k.layerPoint)}for(b=0;b<c.length&&!(c[b].fire(a,k,!0),k.originalEvent._stopped||c[b].options.nonBubblingEvents&&-1!==e.Util.indexOf(c[b].options.nonBubblingEvents,a));b++);}},_draggableMoved:function(b){return b=b.dragging&&b.dragging.enabled()?b:this,b.dragging&&b.dragging.moved()||
this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var b=0,e=this._handlers.length;b<e;b++)this._handlers[b].disable()},whenReady:function(b,e){return this._loaded?b.call(e||this,{target:this}):this.on("load",b,e),this},_getMapPanePos:function(){return e.DomUtil.getPosition(this._mapPane)||new e.Point(0,0)},_moved:function(){var b=this._getMapPanePos();return b&&!b.equals([0,0])},_getTopLeftPoint:function(b,e){return(b&&e!==h?this._getNewPixelOrigin(b,e):this.getPixelOrigin()).subtract(this._getMapPanePos())},
_getNewPixelOrigin:function(b,e){var a=this.getSize()._divideBy(2);return this.project(b,e)._subtract(a)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(b,e,a){a=this._getNewPixelOrigin(a,e);return this.project(b,e)._subtract(a)},_latLngBoundsToNewLayerBounds:function(b,a,c){c=this._getNewPixelOrigin(c,a);return e.bounds([this.project(b.getSouthWest(),a)._subtract(c),this.project(b.getNorthWest(),a)._subtract(c),this.project(b.getSouthEast(),a)._subtract(c),this.project(b.getNorthEast(),
a)._subtract(c)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(b){return this.latLngToLayerPoint(b).subtract(this._getCenterLayerPoint())},_limitCenter:function(b,a,c){if(!c)return b;var k=this.project(b,a),n=this.getSize().divideBy(2),n=new e.Bounds(k.subtract(n),k.add(n));c=this._getBoundsOffset(n,c,a);return c.round().equals([0,0])?b:this.unproject(k.add(c),a)},_limitOffset:function(b,a){if(!a)return b;var k=this.getPixelBounds(),
k=new e.Bounds(k.min.add(b),k.max.add(b));return b.add(this._getBoundsOffset(k,a))},_getBoundsOffset:function(b,a,c){c=e.bounds(this.project(a.getNorthEast(),c),this.project(a.getSouthWest(),c));a=c.min.subtract(b.min);c=c.max.subtract(b.max);b=this._rebound(a.x,-c.x);a=this._rebound(a.y,-c.y);return new e.Point(b,a)},_rebound:function(b,e){return 0<b+e?Math.round(b-e)/2:Math.max(0,Math.ceil(b))-Math.max(0,Math.floor(e))},_limitZoom:function(b){var a=this.getMinZoom(),c=this.getMaxZoom(),f=e.Browser.any3d?
this.options.zoomSnap:1;return f&&(b=Math.round(b/f)*f),Math.max(a,Math.min(c,b))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){e.DomUtil.removeClass(this._mapPane,"leaflet-pan-anim");this.fire("moveend")},_tryAnimatedPan:function(b,e){var a=this._getCenterOffset(b)._floor();return!(!0!==(e&&e.animate)&&!this.getSize().contains(a))&&(this.panBy(a,e),!0)},_createAnimProxy:function(){var b=this._proxy=e.DomUtil.create("div","leaflet-proxy leaflet-zoom-animated");
this._panes.mapPane.appendChild(b);this.on("zoomanim",function(a){var k=e.DomUtil.TRANSFORM,c=b.style[k];e.DomUtil.setTransform(b,this.project(a.center,a.zoom),this.getZoomScale(a.zoom,1));c===b.style[k]&&this._animatingZoom&&this._onZoomTransitionEnd()},this);this.on("load moveend",function(){var a=this.getCenter(),c=this.getZoom();e.DomUtil.setTransform(b,this.project(a,c),this.getZoomScale(c,1))},this)},_catchTransitionEnd:function(b){this._animatingZoom&&0<=b.propertyName.indexOf("transform")&&
this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(b,a,c){if(this._animatingZoom)return!0;if(c=c||{},!this._zoomAnimated||!1===c.animate||this._nothingToAnimate()||Math.abs(a-this._zoom)>this.options.zoomAnimationThreshold)return!1;var k=this.getZoomScale(a),k=this._getCenterOffset(b)._divideBy(1-1/k);return!(!0!==c.animate&&!this.getSize().contains(k))&&(e.Util.requestAnimFrame(function(){this._moveStart(!0)._animateZoom(b,
a,!0)},this),!0)},_animateZoom:function(b,a,c,f){c&&(this._animatingZoom=!0,this._animateToCenter=b,this._animateToZoom=a,e.DomUtil.addClass(this._mapPane,"leaflet-zoom-anim"));this.fire("zoomanim",{center:b,zoom:a,noUpdate:f});setTimeout(e.bind(this._onZoomTransitionEnd,this),250)},_onZoomTransitionEnd:function(){this._animatingZoom&&(e.DomUtil.removeClass(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),e.Util.requestAnimFrame(function(){this._moveEnd(!0)},
this))}});e.map=function(b,a){return new e.Map(b,a)};e.Layer=e.Evented.extend({options:{pane:"overlayPane",nonBubblingEvents:[],attribution:null},addTo:function(b){return b.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(b){return b&&b.removeLayer(this),this},getPane:function(b){return this._map.getPane(b?this.options[b]||b:this.options.pane)},addInteractiveTarget:function(b){return this._map._targets[e.stamp(b)]=this,this},removeInteractiveTarget:function(b){return delete this._map._targets[e.stamp(b)],
this},getAttribution:function(){return this.options.attribution},_layerAdd:function(b){var e=b.target;if(e.hasLayer(this)){if(this._map=e,this._zoomAnimated=e._zoomAnimated,this.getEvents){var a=this.getEvents();e.on(a,this);this.once("remove",function(){e.off(a,this)},this)}this.onAdd(e);this.getAttribution&&e.attributionControl&&e.attributionControl.addAttribution(this.getAttribution());this.fire("add");e.fire("layeradd",{layer:this})}}});e.Map.include({addLayer:function(b){var a=e.stamp(b);return this._layers[a]?
this:(this._layers[a]=b,b._mapToAdd=this,b.beforeAdd&&b.beforeAdd(this),this.whenReady(b._layerAdd,b),this)},removeLayer:function(b){var a=e.stamp(b);return this._layers[a]?(this._loaded&&b.onRemove(this),b.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(b.getAttribution()),delete this._layers[a],this._loaded&&(this.fire("layerremove",{layer:b}),b.fire("remove")),b._map=b._mapToAdd=null,this):this},hasLayer:function(b){return!!b&&e.stamp(b)in this._layers},eachLayer:function(b,
e){for(var a in this._layers)b.call(e,this._layers[a]);return this},_addLayers:function(b){b=b?e.Util.isArray(b)?b:[b]:[];for(var a=0,c=b.length;a<c;a++)this.addLayer(b[a])},_addZoomLimit:function(b){!isNaN(b.options.maxZoom)&&isNaN(b.options.minZoom)||(this._zoomBoundLayers[e.stamp(b)]=b,this._updateZoomLevels())},_removeZoomLimit:function(b){b=e.stamp(b);this._zoomBoundLayers[b]&&(delete this._zoomBoundLayers[b],this._updateZoomLevels())},_updateZoomLevels:function(){var b=1/0,e=-(1/0),a=this._getZoomSpan(),
c;for(c in this._zoomBoundLayers)var f=this._zoomBoundLayers[c].options,b=f.minZoom===h?b:Math.min(b,f.minZoom),e=f.maxZoom===h?e:Math.max(e,f.maxZoom);this._layersMaxZoom=e===-(1/0)?h:e;this._layersMinZoom=b===1/0?h:b;a!==this._getZoomSpan()&&this.fire("zoomlevelschange");this.options.maxZoom===h&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom);this.options.minZoom===h&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});
e.DomEvent={on:function(b,a,c,f){if("object"==typeof a)for(var k in a)this._on(b,k,a[k],c);else{a=e.Util.splitWords(a);k=0;for(var n=a.length;k<n;k++)this._on(b,a[k],c,f)}return this},off:function(b,a,c,f){if("object"==typeof a)for(var k in a)this._off(b,k,a[k],c);else{a=e.Util.splitWords(a);k=0;for(var n=a.length;k<n;k++)this._off(b,a[k],c,f)}return this},_on:function(b,a,f,h){var k=a+e.stamp(f)+(h?"_"+e.stamp(h):"");if(b._leaflet_events&&b._leaflet_events[k])return this;var n=function(e){return f.call(h||
b,e||c.event)},l=n;return e.Browser.pointer&&0===a.indexOf("touch")?this.addPointerListener(b,a,n,k):!e.Browser.touch||"dblclick"!==a||!this.addDoubleTapListener||e.Browser.pointer&&e.Browser.chrome?"addEventListener"in b?"mousewheel"===a?b.addEventListener("onwheel"in b?"wheel":"mousewheel",n,!1):"mouseenter"===a||"mouseleave"===a?(n=function(a){a=a||c.event;e.DomEvent._isExternalTarget(b,a)&&l(a)},b.addEventListener("mouseenter"===a?"mouseover":"mouseout",n,!1)):("click"===a&&e.Browser.android&&
(n=function(b){return e.DomEvent._filterClick(b,l)}),b.addEventListener(a,n,!1)):"attachEvent"in b&&b.attachEvent("on"+a,n):this.addDoubleTapListener(b,n,k),b._leaflet_events=b._leaflet_events||{},b._leaflet_events[k]=n,this},_off:function(b,a,c,f){c=a+e.stamp(c)+(f?"_"+e.stamp(f):"");return(f=b._leaflet_events&&b._leaflet_events[c])?(e.Browser.pointer&&0===a.indexOf("touch")?this.removePointerListener(b,a,c):e.Browser.touch&&"dblclick"===a&&this.removeDoubleTapListener?this.removeDoubleTapListener(b,
c):"removeEventListener"in b?"mousewheel"===a?b.removeEventListener("onwheel"in b?"wheel":"mousewheel",f,!1):b.removeEventListener("mouseenter"===a?"mouseover":"mouseleave"===a?"mouseout":a,f,!1):"detachEvent"in b&&b.detachEvent("on"+a,f),b._leaflet_events[c]=null,this):this},stopPropagation:function(b){return b.stopPropagation?b.stopPropagation():b.originalEvent?b.originalEvent._stopped=!0:b.cancelBubble=!0,e.DomEvent._skipped(b),this},disableScrollPropagation:function(b){return e.DomEvent.on(b,
"mousewheel",e.DomEvent.stopPropagation)},disableClickPropagation:function(b){var a=e.DomEvent.stopPropagation;return e.DomEvent.on(b,e.Draggable.START.join(" "),a),e.DomEvent.on(b,{click:e.DomEvent._fakeStop,dblclick:a})},preventDefault:function(b){return b.preventDefault?b.preventDefault():b.returnValue=!1,this},stop:function(b){return e.DomEvent.preventDefault(b).stopPropagation(b)},getMousePosition:function(b,a){if(!a)return new e.Point(b.clientX,b.clientY);var k=a.getBoundingClientRect();return new e.Point(b.clientX-
k.left-a.clientLeft,b.clientY-k.top-a.clientTop)},_wheelPxFactor:e.Browser.win&&e.Browser.chrome?2:e.Browser.gecko?c.devicePixelRatio:1,getWheelDelta:function(b){return e.Browser.edge?b.wheelDeltaY/2:b.deltaY&&0===b.deltaMode?-b.deltaY/e.DomEvent._wheelPxFactor:b.deltaY&&1===b.deltaMode?20*-b.deltaY:b.deltaY&&2===b.deltaMode?60*-b.deltaY:b.deltaX||b.deltaZ?0:b.wheelDelta?(b.wheelDeltaY||b.wheelDelta)/2:b.detail&&32765>Math.abs(b.detail)?20*-b.detail:b.detail?b.detail/-32765*60:0},_skipEvents:{},_fakeStop:function(b){e.DomEvent._skipEvents[b.type]=
!0},_skipped:function(b){var e=this._skipEvents[b.type];return this._skipEvents[b.type]=!1,e},_isExternalTarget:function(b,e){var a=e.relatedTarget;if(!a)return!0;try{for(;a&&a!==b;)a=a.parentNode}catch(p){return!1}return a!==b},_filterClick:function(b,a){var k=b.timeStamp||b.originalEvent&&b.originalEvent.timeStamp,c=e.DomEvent._lastClick&&k-e.DomEvent._lastClick;return c&&100<c&&500>c||b.target._simulatedClick&&!b._simulated?void e.DomEvent.stop(b):(e.DomEvent._lastClick=k,void a(b))}};e.DomEvent.addListener=
e.DomEvent.on;e.DomEvent.removeListener=e.DomEvent.off;e.PosAnimation=e.Evented.extend({run:function(b,a,c,f){this.stop();this._el=b;this._inProgress=!0;this._duration=c||.25;this._easeOutPower=1/Math.max(f||.5,.2);this._startPos=e.DomUtil.getPosition(b);this._offset=a.subtract(this._startPos);this._startTime=+new Date;this.fire("start");this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=e.Util.requestAnimFrame(this._animate,this);
this._step()},_step:function(b){var e=+new Date-this._startTime,a=1E3*this._duration;e<a?this._runFrame(this._easeOut(e/a),b):(this._runFrame(1),this._complete())},_runFrame:function(b,a){var k=this._startPos.add(this._offset.multiplyBy(b));a&&k._round();e.DomUtil.setPosition(this._el,k);this.fire("step")},_complete:function(){e.Util.cancelAnimFrame(this._animId);this._inProgress=!1;this.fire("end")},_easeOut:function(b){return 1-Math.pow(1-b,this._easeOutPower)}});e.Projection.Mercator={R:6378137,
R_MINOR:6356752.314245179,bounds:e.bounds([-2.003750834279E7,-1.549657073972E7],[2.003750834279E7,1.876465623138E7]),project:function(b){var a=Math.PI/180,c=this.R,f=b.lat*a,h=this.R_MINOR/c,h=Math.sqrt(1-h*h),l=h*Math.sin(f);return f=-c*Math.log(Math.max(Math.tan(Math.PI/4-f/2)/Math.pow((1-l)/(1+l),h/2),1E-10)),new e.Point(b.lng*a*c,f)},unproject:function(b){var a,c=180/Math.PI,f=this.R,h=this.R_MINOR/f,h=Math.sqrt(1-h*h),l=Math.exp(-b.y/f),t=Math.PI/2-2*Math.atan(l),r=0;for(a=.1;15>r&&1E-7<Math.abs(a);r++)a=
h*Math.sin(t),a=Math.pow((1-a)/(1+a),h/2),a=Math.PI/2-2*Math.atan(l*a)-t,t+=a;return new e.LatLng(t*c,b.x*c/f)}};e.CRS.EPSG3395=e.extend({},e.CRS.Earth,{code:"EPSG:3395",projection:e.Projection.Mercator,transformation:function(){var b=.5/(Math.PI*e.Projection.Mercator.R);return new e.Transformation(b,.5,-b,.5)}()});e.GridLayer=e.Layer.extend({options:{tileSize:256,opacity:1,updateWhenIdle:e.Browser.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:h,noWrap:!1,pane:"tilePane",
className:"",keepBuffer:2},initialize:function(b){e.setOptions(this,b)},onAdd:function(){this._initContainer();this._levels={};this._tiles={};this._resetView();this._update()},beforeAdd:function(b){b._addZoomLimit(this)},onRemove:function(b){this._removeAllTiles();e.DomUtil.remove(this._container);b._removeZoomLimit(this);this._tileZoom=this._container=null},bringToFront:function(){return this._map&&(e.DomUtil.toFront(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&
(e.DomUtil.toBack(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(b){return this.options.opacity=b,this._updateOpacity(),this},setZIndex:function(b){return this.options.zIndex=b,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var b={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,
moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=e.Util.throttle(this._onMoveEnd,this.options.updateInterval,this)),b.move=this._onMove),this._zoomAnimated&&(b.zoomanim=this._animateZoom),b},createTile:function(){return f.createElement("div")},getTileSize:function(){var b=this.options.tileSize;return b instanceof e.Point?b:new e.Point(b,b)},_updateZIndex:function(){this._container&&this.options.zIndex!==h&&null!==this.options.zIndex&&(this._container.style.zIndex=
this.options.zIndex)},_setAutoZIndex:function(b){for(var e,a=this.getPane().children,c=-b(-(1/0),1/0),f=0,h=a.length;f<h;f++)e=a[f].style.zIndex,a[f]!==this._container&&e&&(c=b(c,+e));isFinite(c)&&(this.options.zIndex=c+b(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!e.Browser.ielt9){e.DomUtil.setOpacity(this._container,this.options.opacity);var b=+new Date,a=!1,c=!1,f;for(f in this._tiles){var h=this._tiles[f];if(h.current&&h.loaded){var l=Math.min(1,(b-h.loaded)/200);e.DomUtil.setOpacity(h.el,
l);1>l?a=!0:(h.active&&(c=!0),h.active=!0)}}c&&!this._noPrune&&this._pruneTiles();a&&(e.Util.cancelAnimFrame(this._fadeFrame),this._fadeFrame=e.Util.requestAnimFrame(this._updateOpacity,this))}},_initContainer:function(){this._container||(this._container=e.DomUtil.create("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),1>this.options.opacity&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var b=this._tileZoom,a=this.options.maxZoom;
if(b===h)return h;for(var c in this._levels)this._levels[c].el.children.length||c===b?this._levels[c].el.style.zIndex=a-Math.abs(b-c):(e.DomUtil.remove(this._levels[c].el),this._removeTilesAtZoom(c),delete this._levels[c]);c=this._levels[b];var f=this._map;return c||(c=this._levels[b]={},c.el=e.DomUtil.create("div","leaflet-tile-container leaflet-zoom-animated",this._container),c.el.style.zIndex=a,c.origin=f.project(f.unproject(f.getPixelOrigin()),b).round(),c.zoom=b,this._setZoomTransform(c,f.getCenter(),
f.getZoom()),e.Util.falseFn(c.el.offsetWidth)),this._level=c,c},_pruneTiles:function(){if(this._map){var b,e,a=this._map.getZoom();if(a>this.options.maxZoom||a<this.options.minZoom)return void this._removeAllTiles();for(b in this._tiles)e=this._tiles[b],e.retain=e.current;for(b in this._tiles)if(e=this._tiles[b],e.current&&!e.active)a=e.coords,this._retainParent(a.x,a.y,a.z,a.z-5)||this._retainChildren(a.x,a.y,a.z,a.z+2);for(b in this._tiles)this._tiles[b].retain||this._removeTile(b)}},_removeTilesAtZoom:function(b){for(var e in this._tiles)this._tiles[e].coords.z===
b&&this._removeTile(e)},_removeAllTiles:function(){for(var b in this._tiles)this._removeTile(b)},_invalidateAll:function(){for(var b in this._levels)e.DomUtil.remove(this._levels[b].el),delete this._levels[b];this._removeAllTiles();this._tileZoom=null},_retainParent:function(b,a,c,f){b=Math.floor(b/2);a=Math.floor(a/2);--c;var k=new e.Point(+b,+a);k.z=+c;k=this._tileCoordsToKey(k);return(k=this._tiles[k])&&k.active?(k.retain=!0,!0):(k&&k.loaded&&(k.retain=!0),c>f&&this._retainParent(b,a,c,f))},_retainChildren:function(b,
a,c,f){for(var k=2*b;k<2*b+2;k++)for(var n=2*a;n<2*a+2;n++){var h=new e.Point(k,n);h.z=c+1;h=this._tileCoordsToKey(h);(h=this._tiles[h])&&h.active?h.retain=!0:(h&&h.loaded&&(h.retain=!0),c+1<f&&this._retainChildren(k,n,c+1,f))}},_resetView:function(b){b=b&&(b.pinch||b.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),b,b)},_animateZoom:function(b){this._setView(b.center,b.zoom,!0,b.noUpdate)},_setView:function(b,e,a,c){var k=Math.round(e);(this.options.maxZoom!==h&&k>this.options.maxZoom||
this.options.minZoom!==h&&k<this.options.minZoom)&&(k=h);var f=this.options.updateWhenZooming&&k!==this._tileZoom;c&&!f||(this._tileZoom=k,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),k!==h&&this._update(b),a||this._pruneTiles(),this._noPrune=!!a);this._setZoomTransforms(b,e)},_setZoomTransforms:function(b,e){for(var a in this._levels)this._setZoomTransform(this._levels[a],b,e)},_setZoomTransform:function(b,a,c){var k=this._map.getZoomScale(c,b.zoom);a=b.origin.multiplyBy(k).subtract(this._map._getNewPixelOrigin(a,
c)).round();e.Browser.any3d?e.DomUtil.setTransform(b.el,a,k):e.DomUtil.setPosition(b.el,a)},_resetGrid:function(){var b=this._map,e=b.options.crs,a=this._tileSize=this.getTileSize(),c=this._tileZoom,f=this._map.getPixelWorldBounds(this._tileZoom);f&&(this._globalTileRange=this._pxBoundsToTileRange(f));this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(b.project([0,e.wrapLng[0]],c).x/a.x),Math.ceil(b.project([0,e.wrapLng[1]],c).x/a.y)];this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(b.project([e.wrapLat[0],
0],c).y/a.x),Math.ceil(b.project([e.wrapLat[1],0],c).y/a.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(b){var a=this._map,c=a._animatingZoom?Math.max(a._animateToZoom,a.getZoom()):a.getZoom(),c=a.getZoomScale(c,this._tileZoom);b=a.project(b,this._tileZoom).floor();a=a.getSize().divideBy(2*c);return new e.Bounds(b.subtract(a),b.add(a))},_update:function(b){var a=this._map;if(a){var c=a.getZoom();if(b===h&&(b=a.getCenter()),this._tileZoom!==
h){var a=this._getTiledPixelBounds(b),l=this._pxBoundsToTileRange(a),q=l.getCenter(),a=[],G=this.options.keepBuffer,G=new e.Bounds(l.getBottomLeft().subtract([G,-G]),l.getTopRight().add([G,-G])),t;for(t in this._tiles){var r=this._tiles[t].coords;r.z===this._tileZoom&&G.contains(e.point(r.x,r.y))||(this._tiles[t].current=!1)}if(1<Math.abs(c-this._tileZoom))return void this._setView(b,c);for(c=l.min.y;c<=l.max.y;c++)for(b=l.min.x;b<=l.max.x;b++)if(t=new e.Point(b,c),t.z=this._tileZoom,this._isValidTile(t))(G=
this._tiles[this._tileCoordsToKey(t)])?G.current=!0:a.push(t);if(a.sort(function(b,e){return b.distanceTo(q)-e.distanceTo(q)}),0!==a.length){this._loading||(this._loading=!0,this.fire("loading"));l=f.createDocumentFragment();for(b=0;b<a.length;b++)this._addTile(a[b],l);this._level.el.appendChild(l)}}}},_isValidTile:function(b){var a=this._map.options.crs;if(!a.infinite){var c=this._globalTileRange;if(!a.wrapLng&&(b.x<c.min.x||b.x>c.max.x)||!a.wrapLat&&(b.y<c.min.y||b.y>c.max.y))return!1}if(!this.options.bounds)return!0;
b=this._tileCoordsToBounds(b);return e.latLngBounds(this.options.bounds).overlaps(b)},_keyToBounds:function(b){return this._tileCoordsToBounds(this._keyToTileCoords(b))},_tileCoordsToBounds:function(b){var a=this._map,c=this.getTileSize(),f=b.scaleBy(c),c=f.add(c),f=a.unproject(f,b.z);b=a.unproject(c,b.z);b=new e.LatLngBounds(f,b);return this.options.noWrap||a.wrapLatLngBounds(b),b},_tileCoordsToKey:function(b){return b.x+":"+b.y+":"+b.z},_keyToTileCoords:function(b){b=b.split(":");var a=new e.Point(+b[0],
+b[1]);return a.z=+b[2],a},_removeTile:function(b){var a=this._tiles[b];a&&(e.DomUtil.remove(a.el),delete this._tiles[b],this.fire("tileunload",{tile:a.el,coords:this._keyToTileCoords(b)}))},_initTile:function(b){e.DomUtil.addClass(b,"leaflet-tile");var a=this.getTileSize();b.style.width=a.x+"px";b.style.height=a.y+"px";b.onselectstart=e.Util.falseFn;b.onmousemove=e.Util.falseFn;e.Browser.ielt9&&1>this.options.opacity&&e.DomUtil.setOpacity(b,this.options.opacity);e.Browser.android&&!e.Browser.android23&&
(b.style.WebkitBackfaceVisibility="hidden")},_addTile:function(b,a){var c=this._getTilePos(b),k=this._tileCoordsToKey(b),f=this.createTile(this._wrapCoords(b),e.bind(this._tileReady,this,b));this._initTile(f);2>this.createTile.length&&e.Util.requestAnimFrame(e.bind(this._tileReady,this,b,null,f));e.DomUtil.setPosition(f,c);this._tiles[k]={el:f,coords:b,current:!0};a.appendChild(f);this.fire("tileloadstart",{tile:f,coords:b})},_tileReady:function(b,a,c){this._map&&(a&&this.fire("tileerror",{error:a,
tile:c,coords:b}),c=this._tileCoordsToKey(b),(c=this._tiles[c])&&(c.loaded=+new Date,this._map._fadeAnimated?(e.DomUtil.setOpacity(c.el,0),e.Util.cancelAnimFrame(this._fadeFrame),this._fadeFrame=e.Util.requestAnimFrame(this._updateOpacity,this)):(c.active=!0,this._pruneTiles()),a||(e.DomUtil.addClass(c.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:c.el,coords:b})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),e.Browser.ielt9||!this._map._fadeAnimated?e.Util.requestAnimFrame(this._pruneTiles,
this):setTimeout(e.bind(this._pruneTiles,this),250))))},_getTilePos:function(b){return b.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(b){var a=new e.Point(this._wrapX?e.Util.wrapNum(b.x,this._wrapX):b.x,this._wrapY?e.Util.wrapNum(b.y,this._wrapY):b.y);return a.z=b.z,a},_pxBoundsToTileRange:function(b){var a=this.getTileSize();return new e.Bounds(b.min.unscaleBy(a).floor(),b.max.unscaleBy(a).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var b in this._tiles)if(!this._tiles[b].loaded)return!1;
return!0}});e.gridLayer=function(b){return new e.GridLayer(b)};e.TileLayer=e.GridLayer.extend({options:{minZoom:0,maxZoom:18,maxNativeZoom:null,minNativeZoom:null,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(b,a){this._url=b;a=e.setOptions(this,a);a.detectRetina&&e.Browser.retina&&0<a.maxZoom&&(a.tileSize=Math.floor(a.tileSize/2),a.zoomReverse?(a.zoomOffset--,a.minZoom++):(a.zoomOffset++,a.maxZoom--),a.minZoom=Math.max(0,a.minZoom));
"string"==typeof a.subdomains&&(a.subdomains=a.subdomains.split(""));e.Browser.android||this.on("tileunload",this._onTileRemove)},setUrl:function(b,e){return this._url=b,e||this.redraw(),this},createTile:function(b,a){var c=f.createElement("img");return e.DomEvent.on(c,"load",e.bind(this._tileOnLoad,this,a,c)),e.DomEvent.on(c,"error",e.bind(this._tileOnError,this,a,c)),this.options.crossOrigin&&(c.crossOrigin=""),c.alt="",c.setAttribute("role","presentation"),c.src=this.getTileUrl(b),c},getTileUrl:function(b){var a=
{r:e.Browser.retina?"@2x":"",s:this._getSubdomain(b),x:b.x,y:b.y,z:this._getZoomForUrl()};this._map&&!this._map.options.crs.infinite&&(b=this._globalTileRange.max.y-b.y,this.options.tms&&(a.y=b),a["-y"]=b);return e.Util.template(this._url,e.extend(a,this.options))},_tileOnLoad:function(b,a){e.Browser.ielt9?setTimeout(e.bind(b,this,null,a),0):b(null,a)},_tileOnError:function(b,e,a){var c=this.options.errorTileUrl;c&&e.src!==c&&(e.src=c);b(a,e)},getTileSize:function(){var b=this._map,a=e.GridLayer.prototype.getTileSize.call(this),
c=this._tileZoom+this.options.zoomOffset,f=this.options.minNativeZoom,h=this.options.maxNativeZoom;return null!==f&&c<f?a.divideBy(b.getZoomScale(f,c)).round():null!==h&&c>h?a.divideBy(b.getZoomScale(h,c)).round():a},_onTileRemove:function(b){b.tile.onload=null},_getZoomForUrl:function(){var b=this._tileZoom,e=this.options.maxZoom,a=this.options.zoomOffset,c=this.options.minNativeZoom,f=this.options.maxNativeZoom;return this.options.zoomReverse&&(b=e-b),b+=a,null!==c&&b<c?c:null!==f&&b>f?f:b},_getSubdomain:function(b){return this.options.subdomains[Math.abs(b.x+
b.y)%this.options.subdomains.length]},_abortLoading:function(){var b,a;for(b in this._tiles)this._tiles[b].coords.z!==this._tileZoom&&(a=this._tiles[b].el,a.onload=e.Util.falseFn,a.onerror=e.Util.falseFn,a.complete||(a.src=e.Util.emptyImageUrl,e.DomUtil.remove(a)))}});e.tileLayer=function(b,a){return new e.TileLayer(b,a)};e.TileLayer.WMS=e.TileLayer.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},
initialize:function(b,a){this._url=b;var c=e.extend({},this.defaultWmsParams),k;for(k in a)k in this.options||(c[k]=a[k]);a=e.setOptions(this,a);c.width=c.height=a.tileSize*(a.detectRetina&&e.Browser.retina?2:1);this.wmsParams=c},onAdd:function(b){this._crs=this.options.crs||b.options.crs;this._wmsVersion=parseFloat(this.wmsParams.version);this.wmsParams[1.3<=this._wmsVersion?"crs":"srs"]=this._crs.code;e.TileLayer.prototype.onAdd.call(this,b)},getTileUrl:function(b){var a=this._tileCoordsToBounds(b),
c=this._crs.project(a.getNorthWest()),a=this._crs.project(a.getSouthEast()),c=(1.3<=this._wmsVersion&&this._crs===e.CRS.EPSG4326?[a.y,c.x,c.y,a.x]:[c.x,a.y,a.x,c.y]).join(",");b=e.TileLayer.prototype.getTileUrl.call(this,b);return b+e.Util.getParamString(this.wmsParams,b,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+c},setParams:function(b,a){return e.extend(this.wmsParams,b),a||this.redraw(),this}});e.tileLayer.wms=function(b,a){return new e.TileLayer.WMS(b,a)};e.ImageOverlay=
e.Layer.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1},initialize:function(b,a,c){this._url=b;this._bounds=e.latLngBounds(a);e.setOptions(this,c)},onAdd:function(){this._image||(this._initImage(),1>this.options.opacity&&this._updateOpacity());this.options.interactive&&(e.DomUtil.addClass(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image));this.getPane().appendChild(this._image);this._reset()},onRemove:function(){e.DomUtil.remove(this._image);this.options.interactive&&
this.removeInteractiveTarget(this._image)},setOpacity:function(b){return this.options.opacity=b,this._image&&this._updateOpacity(),this},setStyle:function(b){return b.opacity&&this.setOpacity(b.opacity),this},bringToFront:function(){return this._map&&e.DomUtil.toFront(this._image),this},bringToBack:function(){return this._map&&e.DomUtil.toBack(this._image),this},setUrl:function(b){return this._url=b,this._image&&(this._image.src=b),this},setBounds:function(b){return this._bounds=b,this._map&&this._reset(),
this},getEvents:function(){var b={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(b.zoomanim=this._animateZoom),b},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var b=this._image=e.DomUtil.create("img","leaflet-image-layer "+(this._zoomAnimated?"leaflet-zoom-animated":""));b.onselectstart=e.Util.falseFn;b.onmousemove=e.Util.falseFn;b.onload=e.bind(this.fire,this,"load");this.options.crossOrigin&&(b.crossOrigin="");b.src=
this._url;b.alt=this.options.alt},_animateZoom:function(b){var a=this._map.getZoomScale(b.zoom);b=this._map._latLngBoundsToNewLayerBounds(this._bounds,b.zoom,b.center).min;e.DomUtil.setTransform(this._image,b,a)},_reset:function(){var b=this._image,a=new e.Bounds(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),c=a.getSize();e.DomUtil.setPosition(b,a.min);b.style.width=c.x+"px";b.style.height=c.y+"px"},_updateOpacity:function(){e.DomUtil.setOpacity(this._image,
this.options.opacity)}});e.imageOverlay=function(b,a,c){return new e.ImageOverlay(b,a,c)};e.Icon=e.Class.extend({initialize:function(b){e.setOptions(this,b)},createIcon:function(b){return this._createIcon("icon",b)},createShadow:function(b){return this._createIcon("shadow",b)},_createIcon:function(b,e){var a=this._getIconUrl(b);if(!a){if("icon"===b)throw Error("iconUrl not set in Icon options (see the docs).");return null}a=this._createImg(a,e&&"IMG"===e.tagName?e:null);return this._setIconStyles(a,
b),a},_setIconStyles:function(b,a){var c=this.options,k=c[a+"Size"];"number"==typeof k&&(k=[k,k]);var k=e.point(k),f=e.point("shadow"===a&&c.shadowAnchor||c.iconAnchor||k&&k.divideBy(2,!0));b.className="leaflet-marker-"+a+" "+(c.className||"");f&&(b.style.marginLeft=-f.x+"px",b.style.marginTop=-f.y+"px");k&&(b.style.width=k.x+"px",b.style.height=k.y+"px")},_createImg:function(b,e){return e=e||f.createElement("img"),e.src=b,e},_getIconUrl:function(b){return e.Browser.retina&&this.options[b+"RetinaUrl"]||
this.options[b+"Url"]}});e.icon=function(b){return new e.Icon(b)};e.Icon.Default=e.Icon.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(b){return e.Icon.Default.imagePath||(e.Icon.Default.imagePath=this._detectIconPath()),(this.options.imagePath||e.Icon.Default.imagePath)+e.Icon.prototype._getIconUrl.call(this,b)},_detectIconPath:function(){var b=
e.DomUtil.create("div","leaflet-default-icon-path",f.body),a=e.DomUtil.getStyle(b,"background-image")||e.DomUtil.getStyle(b,"backgroundImage");return f.body.removeChild(b),0===a.indexOf("url")?a.replace(/^url\([\"\']?/,"").replace(/marker-icon\.png[\"\']?\)$/,""):""}});e.Marker=e.Layer.extend({options:{icon:new e.Icon.Default,interactive:!0,draggable:!1,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",nonBubblingEvents:["click","dblclick","mouseover",
"mouseout","contextmenu"]},initialize:function(b,a){e.setOptions(this,a);this._latlng=e.latLng(b)},onAdd:function(b){(this._zoomAnimated=this._zoomAnimated&&b.options.markerZoomAnimation)&&b.on("zoomanim",this._animateZoom,this);this._initIcon();this.update()},onRemove:function(b){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks());this._zoomAnimated&&b.off("zoomanim",this._animateZoom,this);this._removeIcon();this._removeShadow()},getEvents:function(){return{zoom:this.update,
viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(b){var a=this._latlng;return this._latlng=e.latLng(b),this.update(),this.fire("move",{oldLatLng:a,latlng:this._latlng})},setZIndexOffset:function(b){return this.options.zIndexOffset=b,this.update()},setIcon:function(b){return this.options.icon=b,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon){var b=
this._map.latLngToLayerPoint(this._latlng).round();this._setPos(b)}return this},_initIcon:function(){var b=this.options,a="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),c=b.icon.createIcon(this._icon),f=!1;c!==this._icon&&(this._icon&&this._removeIcon(),f=!0,b.title&&(c.title=b.title),b.alt&&(c.alt=b.alt));e.DomUtil.addClass(c,a);b.keyboard&&(c.tabIndex="0");this._icon=c;b.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var c=b.icon.createShadow(this._shadow),
h=!1;c!==this._shadow&&(this._removeShadow(),h=!0);c&&(e.DomUtil.addClass(c,a),c.alt="");this._shadow=c;1>b.opacity&&this._updateOpacity();f&&this.getPane().appendChild(this._icon);this._initInteraction();c&&h&&this.getPane("shadowPane").appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex});e.DomUtil.remove(this._icon);this.removeInteractiveTarget(this._icon);this._icon=null},_removeShadow:function(){this._shadow&&
e.DomUtil.remove(this._shadow);this._shadow=null},_setPos:function(b){e.DomUtil.setPosition(this._icon,b);this._shadow&&e.DomUtil.setPosition(this._shadow,b);this._zIndex=b.y+this.options.zIndexOffset;this._resetZIndex()},_updateZIndex:function(b){this._icon.style.zIndex=this._zIndex+b},_animateZoom:function(b){b=this._map._latLngToNewLayerPoint(this._latlng,b.zoom,b.center).round();this._setPos(b)},_initInteraction:function(){if(this.options.interactive&&(e.DomUtil.addClass(this._icon,"leaflet-interactive"),
this.addInteractiveTarget(this._icon),e.Handler.MarkerDrag)){var b=this.options.draggable;this.dragging&&(b=this.dragging.enabled(),this.dragging.disable());this.dragging=new e.Handler.MarkerDrag(this);b&&this.dragging.enable()}},setOpacity:function(b){return this.options.opacity=b,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var b=this.options.opacity;e.DomUtil.setOpacity(this._icon,b);this._shadow&&e.DomUtil.setOpacity(this._shadow,b)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},
_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor||[0,0]},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor||[0,0]}});e.marker=function(b,a){return new e.Marker(b,a)};e.DivIcon=e.Icon.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(b){b=b&&"DIV"===b.tagName?b:f.createElement("div");var a=this.options;if(b.innerHTML=!1!==a.html?a.html:"",a.bgPos)a=e.point(a.bgPos),
b.style.backgroundPosition=-a.x+"px "+-a.y+"px";return this._setIconStyles(b,"icon"),b},createShadow:function(){return null}});e.divIcon=function(b){return new e.DivIcon(b)};e.DivOverlay=e.Layer.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(b,a){e.setOptions(this,b);this._source=a},onAdd:function(b){this._zoomAnimated=b._zoomAnimated;this._container||this._initLayout();b._fadeAnimated&&e.DomUtil.setOpacity(this._container,0);clearTimeout(this._removeTimeout);this.getPane().appendChild(this._container);
this.update();b._fadeAnimated&&e.DomUtil.setOpacity(this._container,1);this.bringToFront()},onRemove:function(b){b._fadeAnimated?(e.DomUtil.setOpacity(this._container,0),this._removeTimeout=setTimeout(e.bind(e.DomUtil.remove,e.DomUtil,this._container),200)):e.DomUtil.remove(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(b){return this._latlng=e.latLng(b),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(b){return this._content=
b,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var b={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(b.zoomanim=this._animateZoom),b},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&
e.DomUtil.toFront(this._container),this},bringToBack:function(){return this._map&&e.DomUtil.toBack(this._container),this},_updateContent:function(){if(this._content){var b=this._contentNode,e="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof e)b.innerHTML=e;else{for(;b.hasChildNodes();)b.removeChild(b.firstChild);b.appendChild(e)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var b=this._map.latLngToLayerPoint(this._latlng),
a=e.point(this.options.offset),c=this._getAnchor();this._zoomAnimated?e.DomUtil.setPosition(this._container,b.add(c)):a=a.add(b).add(c);b=this._containerBottom=-a.y;a=this._containerLeft=-Math.round(this._containerWidth/2)+a.x;this._container.style.bottom=b+"px";this._container.style.left=a+"px"}},_getAnchor:function(){return[0,0]}});e.Popup=e.DivOverlay.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,
5],keepInView:!1,closeButton:!0,autoClose:!0,className:""},openOn:function(b){return b.openPopup(this),this},onAdd:function(b){e.DivOverlay.prototype.onAdd.call(this,b);b.fire("popupopen",{popup:this});this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof e.Path||this._source.on("preclick",e.DomEvent.stopPropagation))},onRemove:function(b){e.DivOverlay.prototype.onRemove.call(this,b);b.fire("popupclose",{popup:this});this._source&&(this._source.fire("popupclose",{popup:this},
!0),this._source instanceof e.Path||this._source.off("preclick",e.DomEvent.stopPropagation))},getEvents:function(){var b=e.DivOverlay.prototype.getEvents.call(this);return("closeOnClick"in this.options?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(b.preclick=this._close),this.options.keepInView&&(b.moveend=this._adjustPan),b},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var b=this._container=e.DomUtil.create("div","leaflet-popup "+(this.options.className||
"")+" leaflet-zoom-animated");if(this.options.closeButton){var a=this._closeButton=e.DomUtil.create("a","leaflet-popup-close-button",b);a.href="#close";a.innerHTML="&#215;";e.DomEvent.on(a,"click",this._onCloseButtonClick,this)}a=this._wrapper=e.DomUtil.create("div","leaflet-popup-content-wrapper",b);this._contentNode=e.DomUtil.create("div","leaflet-popup-content",a);e.DomEvent.disableClickPropagation(a).disableScrollPropagation(this._contentNode).on(a,"contextmenu",e.DomEvent.stopPropagation);this._tipContainer=
e.DomUtil.create("div","leaflet-popup-tip-container",b);this._tip=e.DomUtil.create("div","leaflet-popup-tip",this._tipContainer)},_updateLayout:function(){var b=this._contentNode,a=b.style;a.width="";a.whiteSpace="nowrap";var c=b.offsetWidth,c=Math.min(c,this.options.maxWidth),c=Math.max(c,this.options.minWidth);a.width=c+1+"px";a.whiteSpace="";a.height="";var c=b.offsetHeight,f=this.options.maxHeight;f&&c>f?(a.height=f+"px",e.DomUtil.addClass(b,"leaflet-popup-scrolled")):e.DomUtil.removeClass(b,
"leaflet-popup-scrolled");this._containerWidth=this._container.offsetWidth},_animateZoom:function(b){b=this._map._latLngToNewLayerPoint(this._latlng,b.zoom,b.center);var a=this._getAnchor();e.DomUtil.setPosition(this._container,b.add(a))},_adjustPan:function(){if(!(!this.options.autoPan||this._map._panAnim&&this._map._panAnim._inProgress)){var b=this._map,a=parseInt(e.DomUtil.getStyle(this._container,"marginBottom"),10)||0,a=this._container.offsetHeight+a,c=this._containerWidth,f=new e.Point(this._containerLeft,
-a-this._containerBottom);f._add(e.DomUtil.getPosition(this._container));var f=b.layerPointToContainerPoint(f),h=e.point(this.options.autoPanPadding),l=e.point(this.options.autoPanPaddingTopLeft||h),h=e.point(this.options.autoPanPaddingBottomRight||h),t=b.getSize(),r=0,u=0;f.x+c+h.x>t.x&&(r=f.x+c-t.x+h.x);0>f.x-r-l.x&&(r=f.x-l.x);f.y+a+h.y>t.y&&(u=f.y+a-t.y+h.y);0>f.y-u-l.y&&(u=f.y-l.y);(r||u)&&b.fire("autopanstart").panBy([r,u])}},_onCloseButtonClick:function(b){this._close();e.DomEvent.stop(b)},
_getAnchor:function(){return e.point(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});e.popup=function(b,a){return new e.Popup(b,a)};e.Map.mergeOptions({closePopupOnClick:!0});e.Map.include({openPopup:function(b,a,c){return b instanceof e.Popup||(b=(new e.Popup(c)).setContent(b)),a&&b.setLatLng(a),this.hasLayer(b)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=b,this.addLayer(b))},closePopup:function(b){return b&&b!==this._popup||
(b=this._popup,this._popup=null),b&&this.removeLayer(b),this}});e.Layer.include({bindPopup:function(b,a){return b instanceof e.Popup?(e.setOptions(b,a),this._popup=b,b._source=this):(this._popup&&!a||(this._popup=new e.Popup(a,this)),this._popup.setContent(b)),this._popupHandlersAdded||(this.on({click:this._openPopup,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,remove:this.closePopup,move:this._movePopup}),
this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(b,a){if(b instanceof e.Layer||(a=b,b=this),b instanceof e.FeatureGroup)for(var c in this._layers){b=this._layers[c];break}return a||(a=b.getCenter?b.getCenter():b.getLatLng()),this._popup&&this._map&&(this._popup._source=b,this._popup.update(),this._map.openPopup(this._popup,a)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(b){return this._popup&&(this._popup._map?this.closePopup():
this.openPopup(b)),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(b){return this._popup&&this._popup.setContent(b),this},getPopup:function(){return this._popup},_openPopup:function(b){var a=b.layer||b.target;if(this._popup&&this._map)return e.DomEvent.stop(b),a instanceof e.Path?void this.openPopup(b.layer||b.target,b.latlng):void(this._map.hasLayer(this._popup)&&this._popup._source===a?this.closePopup():this.openPopup(a,b.latlng))},_movePopup:function(b){this._popup.setLatLng(b.latlng)}});
e.Tooltip=e.DivOverlay.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(b){e.DivOverlay.prototype.onAdd.call(this,b);this.setOpacity(this.options.opacity);b.fire("tooltipopen",{tooltip:this});this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(b){e.DivOverlay.prototype.onRemove.call(this,b);b.fire("tooltipclose",{tooltip:this});this._source&&this._source.fire("tooltipclose",{tooltip:this},
!0)},getEvents:function(){var b=e.DivOverlay.prototype.getEvents.call(this);return e.Browser.touch&&!this.options.permanent&&(b.preclick=this._close),b},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){this._contentNode=this._container=e.DomUtil.create("div","leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(b){var a=this._map,c=this._container,
f=a.latLngToContainerPoint(a.getCenter()),a=a.layerPointToContainerPoint(b),h=this.options.direction,l=c.offsetWidth,t=c.offsetHeight,r=e.point(this.options.offset),u=this._getAnchor();"top"===h?b=b.add(e.point(-l/2+r.x,-t+r.y+u.y,!0)):"bottom"===h?b=b.subtract(e.point(l/2-r.x,-r.y,!0)):"center"===h?b=b.subtract(e.point(l/2+r.x,t/2-u.y+r.y,!0)):"right"===h||"auto"===h&&a.x<f.x?(h="right",b=b.add(e.point(r.x+u.x,u.y-t/2+r.y,!0))):(h="left",b=b.subtract(e.point(l+u.x-r.x,t/2-u.y-r.y,!0)));e.DomUtil.removeClass(c,
"leaflet-tooltip-right");e.DomUtil.removeClass(c,"leaflet-tooltip-left");e.DomUtil.removeClass(c,"leaflet-tooltip-top");e.DomUtil.removeClass(c,"leaflet-tooltip-bottom");e.DomUtil.addClass(c,"leaflet-tooltip-"+h);e.DomUtil.setPosition(c,b)},_updatePosition:function(){var b=this._map.latLngToLayerPoint(this._latlng);this._setPosition(b)},setOpacity:function(b){this.options.opacity=b;this._container&&e.DomUtil.setOpacity(this._container,b)},_animateZoom:function(b){b=this._map._latLngToNewLayerPoint(this._latlng,
b.zoom,b.center);this._setPosition(b)},_getAnchor:function(){return e.point(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});e.tooltip=function(b,a){return new e.Tooltip(b,a)};e.Map.include({openTooltip:function(b,a,c){return b instanceof e.Tooltip||(b=(new e.Tooltip(c)).setContent(b)),a&&b.setLatLng(a),this.hasLayer(b)?this:this.addLayer(b)},closeTooltip:function(b){return b&&this.removeLayer(b),this}});e.Layer.include({bindTooltip:function(b,
a){return b instanceof e.Tooltip?(e.setOptions(b,a),this._tooltip=b,b._source=this):(this._tooltip&&!a||(this._tooltip=e.tooltip(a,this)),this._tooltip.setContent(b)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(b){if(b||!this._tooltipHandlersAdded){var a={remove:this.closeTooltip,
move:this._moveTooltip};this._tooltip.options.permanent?a.add=this._openTooltip:(a.mouseover=this._openTooltip,a.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(a.mousemove=this._moveTooltip),e.Browser.touch&&(a.click=this._openTooltip));this[b?"off":"on"](a);this._tooltipHandlersAdded=!b}},openTooltip:function(b,a){if(b instanceof e.Layer||(a=b,b=this),b instanceof e.FeatureGroup)for(var c in this._layers){b=this._layers[c];break}return a||(a=b.getCenter?b.getCenter():b.getLatLng()),this._tooltip&&
this._map&&(this._tooltip._source=b,this._tooltip.update(),this._map.openTooltip(this._tooltip,a),this._tooltip.options.interactive&&this._tooltip._container&&(e.DomUtil.addClass(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(e.DomUtil.removeClass(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),
this},toggleTooltip:function(b){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(b)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(b){return this._tooltip&&this._tooltip.setContent(b),this},getTooltip:function(){return this._tooltip},_openTooltip:function(b){var e=b.layer||b.target;this._tooltip&&this._map&&this.openTooltip(e,this._tooltip.options.sticky?b.latlng:h)},_moveTooltip:function(b){var e,a,c=b.latlng;this._tooltip.options.sticky&&
b.originalEvent&&(e=this._map.mouseEventToContainerPoint(b.originalEvent),a=this._map.containerPointToLayerPoint(e),c=this._map.layerPointToLatLng(a));this._tooltip.setLatLng(c)}});e.LayerGroup=e.Layer.extend({initialize:function(b){this._layers={};var e,a;if(b)for(e=0,a=b.length;e<a;e++)this.addLayer(b[e])},addLayer:function(b){var e=this.getLayerId(b);return this._layers[e]=b,this._map&&this._map.addLayer(b),this},removeLayer:function(b){b=b in this._layers?b:this.getLayerId(b);return this._map&&
this._layers[b]&&this._map.removeLayer(this._layers[b]),delete this._layers[b],this},hasLayer:function(b){return!!b&&(b in this._layers||this.getLayerId(b)in this._layers)},clearLayers:function(){for(var b in this._layers)this.removeLayer(this._layers[b]);return this},invoke:function(b){var e,a,c=Array.prototype.slice.call(arguments,1);for(e in this._layers)a=this._layers[e],a[b]&&a[b].apply(a,c);return this},onAdd:function(b){for(var e in this._layers)b.addLayer(this._layers[e])},onRemove:function(b){for(var e in this._layers)b.removeLayer(this._layers[e])},
eachLayer:function(b,e){for(var a in this._layers)b.call(e,this._layers[a]);return this},getLayer:function(b){return this._layers[b]},getLayers:function(){var b=[],e;for(e in this._layers)b.push(this._layers[e]);return b},setZIndex:function(b){return this.invoke("setZIndex",b)},getLayerId:function(b){return e.stamp(b)}});e.layerGroup=function(b){return new e.LayerGroup(b)};e.FeatureGroup=e.LayerGroup.extend({addLayer:function(b){return this.hasLayer(b)?this:(b.addEventParent(this),e.LayerGroup.prototype.addLayer.call(this,
b),this.fire("layeradd",{layer:b}))},removeLayer:function(b){return this.hasLayer(b)?(b in this._layers&&(b=this._layers[b]),b.removeEventParent(this),e.LayerGroup.prototype.removeLayer.call(this,b),this.fire("layerremove",{layer:b})):this},setStyle:function(b){return this.invoke("setStyle",b)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var b=new e.LatLngBounds,a;for(a in this._layers){var c=this._layers[a];
b.extend(c.getBounds?c.getBounds():c.getLatLng())}return b}});e.featureGroup=function(b){return new e.FeatureGroup(b)};e.Renderer=e.Layer.extend({options:{padding:.1},initialize:function(b){e.setOptions(this,b);e.stamp(this);this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&e.DomUtil.addClass(this._container,"leaflet-zoom-animated"));this.getPane().appendChild(this._container);this._update();this.on("update",this._updatePaths,this)},onRemove:function(){e.DomUtil.remove(this._container);
this.off("update",this._updatePaths,this)},getEvents:function(){var b={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(b.zoomanim=this._onAnimZoom),b},_onAnimZoom:function(b){this._updateTransform(b.center,b.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(b,a){var c=this._map.getZoomScale(a,this._zoom),k=e.DomUtil.getPosition(this._container),f=this._map.getSize().multiplyBy(.5+
this.options.padding),h=this._map.project(this._center,a),h=this._map.project(b,a).subtract(h),k=f.multiplyBy(-c).add(k).add(f).subtract(h);e.Browser.any3d?e.DomUtil.setTransform(this._container,k,c):e.DomUtil.setPosition(this._container,k)},_reset:function(){this._update();this._updateTransform(this._center,this._zoom);for(var b in this._layers)this._layers[b]._reset()},_onZoomEnd:function(){for(var b in this._layers)this._layers[b]._project()},_updatePaths:function(){for(var b in this._layers)this._layers[b]._update()},
_update:function(){var b=this.options.padding,a=this._map.getSize(),c=this._map.containerPointToLayerPoint(a.multiplyBy(-b)).round();this._bounds=new e.Bounds(c,c.add(a.multiplyBy(1+2*b)).round());this._center=this._map.getCenter();this._zoom=this._map.getZoom()}});e.Map.include({getRenderer:function(b){b=b.options.renderer||this._getPaneRenderer(b.options.pane)||this.options.renderer||this._renderer;return b||(b=this._renderer=this.options.preferCanvas&&e.canvas()||e.svg()),this.hasLayer(b)||this.addLayer(b),
b},_getPaneRenderer:function(b){if("overlayPane"===b||b===h)return!1;var a=this._paneRenderers[b];return a===h&&(a=e.SVG&&e.svg({pane:b})||e.Canvas&&e.canvas({pane:b}),this._paneRenderers[b]=a),a}});e.Path=e.Layer.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0},beforeAdd:function(b){this._renderer=b.getRenderer(this)},onAdd:function(){this._renderer._initPath(this);
this._reset();this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(b){return e.setOptions(this,b),this._renderer&&this._renderer._updateStyle(this),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project();
this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(e.Browser.touch?10:0)}});e.LineUtil={simplify:function(b,e){if(!e||!b.length)return b.slice();var a=e*e;return b=this._reducePoints(b,a),this._simplifyDP(b,a)},pointToSegmentDistance:function(b,e,a){return Math.sqrt(this._sqClosestPointOnSegment(b,e,a,!0))},closestPointOnSegment:function(b,e,a){return this._sqClosestPointOnSegment(b,e,a)},_simplifyDP:function(b,e){var a=b.length,c=new (typeof Uint8Array!=
h+""?Uint8Array:Array)(a);c[0]=c[a-1]=1;this._simplifyDPStep(b,c,e,0,a-1);var k,f=[];for(k=0;k<a;k++)c[k]&&f.push(b[k]);return f},_simplifyDPStep:function(b,e,a,c,f){var k,h,n,l=0;for(h=c+1;h<=f-1;h++)n=this._sqClosestPointOnSegment(b[h],b[c],b[f],!0),n>l&&(k=h,l=n);l>a&&(e[k]=1,this._simplifyDPStep(b,e,a,c,k),this._simplifyDPStep(b,e,a,k,f))},_reducePoints:function(b,e){for(var a=[b[0]],c=1,k=0,f=b.length;c<f;c++)this._sqDist(b[c],b[k])>e&&(a.push(b[c]),k=c);return k<f-1&&a.push(b[f-1]),a},clipSegment:function(b,
e,a,c,f){var k,h,n=c?this._lastCode:this._getBitCode(b,a),l=this._getBitCode(e,a);for(this._lastCode=l;;){if(!(n|l))return[b,e];if(n&l)return!1;c=n||l;k=this._getEdgeIntersection(b,e,c,a,f);h=this._getBitCode(k,a);c===n?(b=k,n=h):(e=k,l=h)}},_getEdgeIntersection:function(b,a,c,f,h){var k,n,l=a.x-b.x;a=a.y-b.y;var p=f.min;f=f.max;return 8&c?(k=b.x+l*(f.y-b.y)/a,n=f.y):4&c?(k=b.x+l*(p.y-b.y)/a,n=p.y):2&c?(k=f.x,n=b.y+a*(f.x-b.x)/l):1&c&&(k=p.x,n=b.y+a*(p.x-b.x)/l),new e.Point(k,n,h)},_getBitCode:function(b,
e){var a=0;return b.x<e.min.x?a|=1:b.x>e.max.x&&(a|=2),b.y<e.min.y?a|=4:b.y>e.max.y&&(a|=8),a},_sqDist:function(b,e){var a=e.x-b.x,c=e.y-b.y;return a*a+c*c},_sqClosestPointOnSegment:function(b,a,c,f){var k,h=a.x;a=a.y;var n=c.x-h,l=c.y-a,p=n*n+l*l;return 0<p&&(k=((b.x-h)*n+(b.y-a)*l)/p,1<k?(h=c.x,a=c.y):0<k&&(h+=n*k,a+=l*k)),n=b.x-h,l=b.y-a,f?n*n+l*l:new e.Point(h,a)}};e.Polyline=e.Path.extend({options:{smoothFactor:1,noClip:!1},initialize:function(b,a){e.setOptions(this,a);this._setLatLngs(b)},getLatLngs:function(){return this._latlngs},
setLatLngs:function(b){return this._setLatLngs(b),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(b){for(var a,c,f=1/0,h=null,l=e.LineUtil._sqClosestPointOnSegment,t=0,r=this._parts.length;t<r;t++)for(var u=this._parts[t],w=1,N=u.length;w<N;w++){a=u[w-1];c=u[w];var D=l(b,a,c,!0);D<f&&(f=D,h=l(b,a,c))}return h&&(h.distance=Math.sqrt(f)),h},getCenter:function(){if(!this._map)throw Error("Must add layer to map before using getCenter()");var b,e,a,c,f,h,l,r=this._rings[0],
u=r.length;if(!u)return null;for(e=b=0;b<u-1;b++)e+=r[b].distanceTo(r[b+1])/2;if(0===e)return this._map.layerPointToLatLng(r[0]);for(c=b=0;b<u-1;b++)if(f=r[b],h=r[b+1],a=f.distanceTo(h),c+=a,c>e)return l=(c-e)/a,this._map.layerPointToLatLng([h.x-l*(h.x-f.x),h.y-l*(h.y-f.y)])},getBounds:function(){return this._bounds},addLatLng:function(b,a){return a=a||this._defaultShape(),b=e.latLng(b),a.push(b),this._bounds.extend(b),this.redraw()},_setLatLngs:function(b){this._bounds=new e.LatLngBounds;this._latlngs=
this._convertLatLngs(b)},_defaultShape:function(){return e.Polyline._flat(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(b){for(var a=[],c=e.Polyline._flat(b),f=0,h=b.length;f<h;f++)c?(a[f]=e.latLng(b[f]),this._bounds.extend(a[f])):a[f]=this._convertLatLngs(b[f]);return a},_project:function(){var b=new e.Bounds;this._rings=[];this._projectLatlngs(this._latlngs,this._rings,b);var a=this._clickTolerance(),a=new e.Point(a,a);this._bounds.isValid()&&b.isValid()&&(b.min._subtract(a),
b.max._add(a),this._pxBounds=b)},_projectLatlngs:function(b,a,c){var k,f,h=b.length;if(b[0]instanceof e.LatLng){f=[];for(k=0;k<h;k++)f[k]=this._map.latLngToLayerPoint(b[k]),c.extend(f[k]);a.push(f)}else for(k=0;k<h;k++)this._projectLatlngs(b[k],a,c)},_clipPoints:function(){var b=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(b)){if(this.options.noClip)return void(this._parts=this._rings);var a,c,f,h,l,t,r,u=this._parts;f=a=0;for(h=this._rings.length;a<h;a++)for(r=
this._rings[a],c=0,l=r.length;c<l-1;c++)(t=e.LineUtil.clipSegment(r[c],r[c+1],b,c,!0))&&(u[f]=u[f]||[],u[f].push(t[0]),t[1]===r[c+1]&&c!==l-2||(u[f].push(t[1]),f++))}},_simplifyPoints:function(){for(var b=this._parts,a=this.options.smoothFactor,c=0,f=b.length;c<f;c++)b[c]=e.LineUtil.simplify(b[c],a)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)}});e.polyline=function(b,a){return new e.Polyline(b,
a)};e.Polyline._flat=function(b){return!e.Util.isArray(b[0])||"object"!=typeof b[0][0]&&"undefined"!=typeof b[0][0]};e.PolyUtil={};e.PolyUtil.clipPolygon=function(b,a,c){var k,f,h,n,l,u,w,N,D=[1,4,2,8],F=e.LineUtil;f=0;for(u=b.length;f<u;f++)b[f]._code=F._getBitCode(b[f],a);for(n=0;4>n;n++){w=D[n];k=[];f=0;u=b.length;for(h=u-1;f<u;h=f++)l=b[f],h=b[h],l._code&w?h._code&w||(N=F._getEdgeIntersection(h,l,w,a,c),N._code=F._getBitCode(N,a),k.push(N)):(h._code&w&&(N=F._getEdgeIntersection(h,l,w,a,c),N._code=
F._getBitCode(N,a),k.push(N)),k.push(l));b=k}return b};e.Polygon=e.Polyline.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw Error("Must add layer to map before using getCenter()");var b,e,a,c,f,h,l,r,u=this._rings[0],w=u.length;if(!w)return null;b=f=h=l=0;for(e=w-1;b<w;e=b++)a=u[b],e=u[e],c=a.y*e.x-e.y*a.x,h+=(a.x+e.x)*c,l+=(a.y+e.y)*c,f+=3*c;return r=0===f?u[0]:[h/f,l/f],this._map.layerPointToLatLng(r)},
_convertLatLngs:function(b){b=e.Polyline.prototype._convertLatLngs.call(this,b);var a=b.length;return 2<=a&&b[0]instanceof e.LatLng&&b[0].equals(b[a-1])&&b.pop(),b},_setLatLngs:function(b){e.Polyline.prototype._setLatLngs.call(this,b);e.Polyline._flat(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return e.Polyline._flat(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var b=this._renderer._bounds,a=this.options.weight,a=new e.Point(a,a);if(b=
new e.Bounds(b.min.subtract(a),b.max.add(a)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(b)){if(this.options.noClip)return void(this._parts=this._rings);for(var c=0,f=this._rings.length;c<f;c++)a=e.PolyUtil.clipPolygon(this._rings[c],b,!0),a.length&&this._parts.push(a)}},_updatePath:function(){this._renderer._updatePoly(this,!0)}});e.polygon=function(b,a){return new e.Polygon(b,a)};e.Rectangle=e.Polygon.extend({initialize:function(b,a){e.Polygon.prototype.initialize.call(this,this._boundsToLatLngs(b),
a)},setBounds:function(b){return this.setLatLngs(this._boundsToLatLngs(b))},_boundsToLatLngs:function(b){return b=e.latLngBounds(b),[b.getSouthWest(),b.getNorthWest(),b.getNorthEast(),b.getSouthEast()]}});e.rectangle=function(b,a){return new e.Rectangle(b,a)};e.CircleMarker=e.Path.extend({options:{fill:!0,radius:10},initialize:function(b,a){e.setOptions(this,a);this._latlng=e.latLng(b);this._radius=this.options.radius},setLatLng:function(b){return this._latlng=e.latLng(b),this.redraw(),this.fire("move",
{latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(b){return this.options.radius=this._radius=b,this.redraw()},getRadius:function(){return this._radius},setStyle:function(b){var a=b&&b.radius||this._radius;return e.Path.prototype.setStyle.call(this,b),this.setRadius(a),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng);this._updateBounds()},_updateBounds:function(){var b=this._radius,a=this._radiusY||b,c=this._clickTolerance(),b=[b+c,
a+c];this._pxBounds=new e.Bounds(this._point.subtract(b),this._point.add(b))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)}});e.circleMarker=function(b,a){return new e.CircleMarker(b,a)};e.Circle=e.CircleMarker.extend({initialize:function(b,a,c){if("number"==typeof a&&(a=e.extend({},c,{radius:a})),e.setOptions(this,a),this._latlng=e.latLng(b),isNaN(this.options.radius))throw Error("Circle radius cannot be NaN");
this._mRadius=this.options.radius},setRadius:function(b){return this._mRadius=b,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var b=[this._radius,this._radiusY||this._radius];return new e.LatLngBounds(this._map.layerPointToLatLng(this._point.subtract(b)),this._map.layerPointToLatLng(this._point.add(b)))},setStyle:e.Path.prototype.setStyle,_project:function(){var b=this._latlng.lng,a=this._latlng.lat,c=this._map,f=c.options.crs;if(f.distance===e.CRS.Earth.distance){var h=
Math.PI/180,f=this._mRadius/e.CRS.Earth.R/h,l=c.project([a+f,b]),t=c.project([a-f,b]),t=l.add(t).divideBy(2),r=c.unproject(t).lat,h=Math.acos((Math.cos(f*h)-Math.sin(a*h)*Math.sin(r*h))/(Math.cos(a*h)*Math.cos(r*h)))/h;(isNaN(h)||0===h)&&(h=f/Math.cos(Math.PI/180*a));this._point=t.subtract(c.getPixelOrigin());this._radius=isNaN(h)?0:Math.max(Math.round(t.x-c.project([r,b-h]).x),1);this._radiusY=Math.max(Math.round(t.y-l.y),1)}else b=f.unproject(f.project(this._latlng).subtract([this._mRadius,0])),
this._point=c.latLngToLayerPoint(this._latlng),this._radius=this._point.x-c.latLngToLayerPoint(b).x;this._updateBounds()}});e.circle=function(b,a,c){return new e.Circle(b,a,c)};e.SVG=e.Renderer.extend({getEvents:function(){var b=e.Renderer.prototype.getEvents.call(this);return b.zoomstart=this._onZoomStart,b},_initContainer:function(){this._container=e.SVG.create("svg");this._container.setAttribute("pointer-events","none");this._rootGroup=e.SVG.create("g");this._container.appendChild(this._rootGroup)},
_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||!this._bounds){e.Renderer.prototype._update.call(this);var b=this._bounds,a=b.getSize(),c=this._container;this._svgSize&&this._svgSize.equals(a)||(this._svgSize=a,c.setAttribute("width",a.x),c.setAttribute("height",a.y));e.DomUtil.setPosition(c,b.min);c.setAttribute("viewBox",[b.min.x,b.min.y,a.x,a.y].join(" "));this.fire("update")}},_initPath:function(b){var a=b._path=e.SVG.create("path");b.options.className&&
e.DomUtil.addClass(a,b.options.className);b.options.interactive&&e.DomUtil.addClass(a,"leaflet-interactive");this._updateStyle(b);this._layers[e.stamp(b)]=b},_addPath:function(b){this._rootGroup.appendChild(b._path);b.addInteractiveTarget(b._path)},_removePath:function(b){e.DomUtil.remove(b._path);b.removeInteractiveTarget(b._path);delete this._layers[e.stamp(b)]},_updatePath:function(b){b._project();b._update()},_updateStyle:function(b){var e=b._path;b=b.options;e&&(b.stroke?(e.setAttribute("stroke",
b.color),e.setAttribute("stroke-opacity",b.opacity),e.setAttribute("stroke-width",b.weight),e.setAttribute("stroke-linecap",b.lineCap),e.setAttribute("stroke-linejoin",b.lineJoin),b.dashArray?e.setAttribute("stroke-dasharray",b.dashArray):e.removeAttribute("stroke-dasharray"),b.dashOffset?e.setAttribute("stroke-dashoffset",b.dashOffset):e.removeAttribute("stroke-dashoffset")):e.setAttribute("stroke","none"),b.fill?(e.setAttribute("fill",b.fillColor||b.color),e.setAttribute("fill-opacity",b.fillOpacity),
e.setAttribute("fill-rule",b.fillRule||"evenodd")):e.setAttribute("fill","none"))},_updatePoly:function(b,a){this._setPath(b,e.SVG.pointsToPath(b._parts,a))},_updateCircle:function(b){var e=b._point,a=b._radius,c="a"+a+","+(b._radiusY||a)+" 0 1,0 ",e=b._empty()?"M0 0":"M"+(e.x-a)+","+e.y+c+2*a+",0 "+c+2*-a+",0 ";this._setPath(b,e)},_setPath:function(b,e){b._path.setAttribute("d",e)},_bringToFront:function(b){e.DomUtil.toFront(b._path)},_bringToBack:function(b){e.DomUtil.toBack(b._path)}});e.extend(e.SVG,
{create:function(b){return f.createElementNS("http://www.w3.org/2000/svg",b)},pointsToPath:function(b,a){var c,k,f,h,l,r,u="";c=0;for(f=b.length;c<f;c++){l=b[c];k=0;for(h=l.length;k<h;k++)r=l[k],u+=(k?"L":"M")+r.x+" "+r.y;u+=a?e.Browser.svg?"z":"x":""}return u||"M0 0"}});e.Browser.svg=!(!f.createElementNS||!e.SVG.create("svg").createSVGRect);e.svg=function(b){return e.Browser.svg||e.Browser.vml?new e.SVG(b):null};e.Browser.vml=!e.Browser.svg&&function(){try{var b=f.createElement("div");b.innerHTML=
'<v:shape adj="1"/>';var e=b.firstChild;return e.style.behavior="url(#default#VML)",e&&"object"==typeof e.adj}catch(n){return!1}}();e.SVG.include(e.Browser.vml?{_initContainer:function(){this._container=e.DomUtil.create("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(e.Renderer.prototype._update.call(this),this.fire("update"))},_initPath:function(b){var a=b._container=e.SVG.create("shape");e.DomUtil.addClass(a,"leaflet-vml-shape "+(this.options.className||""));a.coordsize=
"1 1";b._path=e.SVG.create("path");a.appendChild(b._path);this._updateStyle(b);this._layers[e.stamp(b)]=b},_addPath:function(b){var e=b._container;this._container.appendChild(e);b.options.interactive&&b.addInteractiveTarget(e)},_removePath:function(b){var a=b._container;e.DomUtil.remove(a);b.removeInteractiveTarget(a);delete this._layers[e.stamp(b)]},_updateStyle:function(b){var a=b._stroke,c=b._fill,f=b.options,h=b._container;h.stroked=!!f.stroke;h.filled=!!f.fill;f.stroke?(a||(a=b._stroke=e.SVG.create("stroke")),
h.appendChild(a),a.weight=f.weight+"px",a.color=f.color,a.opacity=f.opacity,f.dashArray?a.dashStyle=e.Util.isArray(f.dashArray)?f.dashArray.join(" "):f.dashArray.replace(/( *, *)/g," "):a.dashStyle="",a.endcap=f.lineCap.replace("butt","flat"),a.joinstyle=f.lineJoin):a&&(h.removeChild(a),b._stroke=null);f.fill?(c||(c=b._fill=e.SVG.create("fill")),h.appendChild(c),c.color=f.fillColor||f.color,c.opacity=f.fillOpacity):c&&(h.removeChild(c),b._fill=null)},_updateCircle:function(b){var e=b._point.round(),
a=Math.round(b._radius),c=Math.round(b._radiusY||a);this._setPath(b,b._empty()?"M0 0":"AL "+e.x+","+e.y+" "+a+","+c+" 0,23592600")},_setPath:function(b,e){b._path.v=e},_bringToFront:function(b){e.DomUtil.toFront(b._container)},_bringToBack:function(b){e.DomUtil.toBack(b._container)}}:{});e.Browser.vml&&(e.SVG.create=function(){try{return f.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(b){return f.createElement("<lvml:"+b+' class="lvml">')}}catch(b){return function(b){return f.createElement("<"+
b+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}());e.Canvas=e.Renderer.extend({getEvents:function(){var b=e.Renderer.prototype.getEvents.call(this);return b.viewprereset=this._onViewPreReset,b},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){e.Renderer.prototype.onAdd.call(this);this._draw()},_initContainer:function(){var b=this._container=f.createElement("canvas");e.DomEvent.on(b,"mousemove",e.Util.throttle(this._onMouseMove,32,this),this).on(b,"click dblclick mousedown mouseup contextmenu",
this._onClick,this).on(b,"mouseout",this._handleMouseOut,this);this._ctx=b.getContext("2d")},_updatePaths:function(){if(!this._postponeUpdatePaths){var b;this._redrawBounds=null;for(var e in this._layers)b=this._layers[e],b._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){this._drawnLayers={};e.Renderer.prototype._update.call(this);var b=this._bounds,a=this._container,c=b.getSize(),f=e.Browser.retina?2:1;e.DomUtil.setPosition(a,b.min);a.width=f*c.x;a.height=
f*c.y;a.style.width=c.x+"px";a.style.height=c.y+"px";e.Browser.retina&&this._ctx.scale(2,2);this._ctx.translate(-b.min.x,-b.min.y);this.fire("update")}},_reset:function(){e.Renderer.prototype._reset.call(this);this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(b){this._updateDashArray(b);this._layers[e.stamp(b)]=b;b=b._order={layer:b,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=b);this._drawLast=b;this._drawFirst=this._drawFirst||
this._drawLast},_addPath:function(b){this._requestRedraw(b)},_removePath:function(b){var a=b._order,c=a.next,a=a.prev;c?c.prev=a:this._drawLast=a;a?a.next=c:this._drawFirst=c;delete b._order;delete this._layers[e.stamp(b)];this._requestRedraw(b)},_updatePath:function(b){this._extendRedrawBounds(b);b._project();b._update();this._requestRedraw(b)},_updateStyle:function(b){this._updateDashArray(b);this._requestRedraw(b)},_updateDashArray:function(b){if(b.options.dashArray){var e,a=b.options.dashArray.split(","),
c=[];for(e=0;e<a.length;e++)c.push(Number(a[e]));b.options._dashArray=c}},_requestRedraw:function(b){this._map&&(this._extendRedrawBounds(b),this._redrawRequest=this._redrawRequest||e.Util.requestAnimFrame(this._redraw,this))},_extendRedrawBounds:function(b){var a=(b.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new e.Bounds;this._redrawBounds.extend(b._pxBounds.min.subtract([a,a]));this._redrawBounds.extend(b._pxBounds.max.add([a,a]))},_redraw:function(){this._redrawRequest=null;this._redrawBounds&&
(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil());this._clear();this._draw();this._redrawBounds=null},_clear:function(){var b=this._redrawBounds;if(b){var e=b.getSize();this._ctx.clearRect(b.min.x,b.min.y,e.x,e.y)}else this._ctx.clearRect(0,0,this._container.width,this._container.height)},_draw:function(){var b,e=this._redrawBounds;if(this._ctx.save(),e)b=e.getSize(),this._ctx.beginPath(),this._ctx.rect(e.min.x,e.min.y,b.x,b.y),this._ctx.clip();this._drawing=!0;for(var a=this._drawFirst;a;a=
a.next)b=a.layer,(!e||b._pxBounds&&b._pxBounds.intersects(e))&&b._updatePath();this._drawing=!1;this._ctx.restore()},_updatePoly:function(b,e){if(this._drawing){var a,c,f,k,h=b._parts,l=h.length,u=this._ctx;if(l){this._drawnLayers[b._leaflet_id]=b;u.beginPath();u.setLineDash&&u.setLineDash(b.options&&b.options._dashArray||[]);for(a=0;a<l;a++){c=0;for(f=h[a].length;c<f;c++)k=h[a][c],u[c?"lineTo":"moveTo"](k.x,k.y);e&&u.closePath()}this._fillStroke(u,b)}}},_updateCircle:function(b){if(this._drawing&&
!b._empty()){var e=b._point,a=this._ctx,c=b._radius,f=(b._radiusY||c)/c;this._drawnLayers[b._leaflet_id]=b;1!==f&&(a.save(),a.scale(1,f));a.beginPath();a.arc(e.x,e.y/f,c,0,2*Math.PI,!1);1!==f&&a.restore();this._fillStroke(a,b)}},_fillStroke:function(b,e){var a=e.options;a.fill&&(b.globalAlpha=a.fillOpacity,b.fillStyle=a.fillColor||a.color,b.fill(a.fillRule||"evenodd"));a.stroke&&0!==a.weight&&(b.globalAlpha=a.opacity,b.lineWidth=a.weight,b.strokeStyle=a.color,b.lineCap=a.lineCap,b.lineJoin=a.lineJoin,
b.stroke())},_onClick:function(b){for(var a,c,f=this._map.mouseEventToLayerPoint(b),h=this._drawFirst;h;h=h.next)a=h.layer,a.options.interactive&&a._containsPoint(f)&&!this._map._draggableMoved(a)&&(c=a);c&&(e.DomEvent._fakeStop(b),this._fireEvent([c],b))},_onMouseMove:function(b){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var e=this._map.mouseEventToLayerPoint(b);this._handleMouseHover(b,e)}},_handleMouseOut:function(b){var a=this._hoveredLayer;a&&(e.DomUtil.removeClass(this._container,
"leaflet-interactive"),this._fireEvent([a],b,"mouseout"),this._hoveredLayer=null)},_handleMouseHover:function(b,a){for(var c,f,k=this._drawFirst;k;k=k.next)c=k.layer,c.options.interactive&&c._containsPoint(a)&&(f=c);f!==this._hoveredLayer&&(this._handleMouseOut(b),f&&(e.DomUtil.addClass(this._container,"leaflet-interactive"),this._fireEvent([f],b,"mouseover"),this._hoveredLayer=f));this._hoveredLayer&&this._fireEvent([this._hoveredLayer],b)},_fireEvent:function(b,e,a){this._map._fireDOMEvent(e,a||
e.type,b)},_bringToFront:function(b){var e=b._order,a=e.next,c=e.prev;a&&(a.prev=c,c?c.next=a:a&&(this._drawFirst=a),e.prev=this._drawLast,this._drawLast.next=e,e.next=null,this._drawLast=e,this._requestRedraw(b))},_bringToBack:function(b){var e=b._order,a=e.next,c=e.prev;c&&(c.next=a,a?a.prev=c:c&&(this._drawLast=c),e.prev=null,e.next=this._drawFirst,this._drawFirst.prev=e,this._drawFirst=e,this._requestRedraw(b))}});e.Browser.canvas=!!f.createElement("canvas").getContext;e.canvas=function(b){return e.Browser.canvas?
new e.Canvas(b):null};e.Polyline.prototype._containsPoint=function(b,a){var c,f,k,h,l,r,u=this._clickTolerance();if(!this._pxBounds.contains(b))return!1;c=0;for(h=this._parts.length;c<h;c++)for(r=this._parts[c],f=0,l=r.length,k=l-1;f<l;k=f++)if((a||0!==f)&&e.LineUtil.pointToSegmentDistance(b,r[k],r[f])<=u)return!0;return!1};e.Polygon.prototype._containsPoint=function(b){var a,c,f,h,l,t,r,u=!1;if(!this._pxBounds.contains(b))return!1;h=0;for(t=this._parts.length;h<t;h++)for(a=this._parts[h],l=0,r=a.length,
f=r-1;l<r;f=l++)c=a[l],f=a[f],c.y>b.y!=f.y>b.y&&b.x<(f.x-c.x)*(b.y-c.y)/(f.y-c.y)+c.x&&(u=!u);return u||e.Polyline.prototype._containsPoint.call(this,b,!0)};e.CircleMarker.prototype._containsPoint=function(b){return b.distanceTo(this._point)<=this._radius+this._clickTolerance()};e.GeoJSON=e.FeatureGroup.extend({initialize:function(b,a){e.setOptions(this,a);this._layers={};b&&this.addData(b)},addData:function(b){var a,c,f=e.Util.isArray(b)?b:b.features;if(f){b=0;for(a=f.length;b<a;b++)c=f[b],(c.geometries||
c.geometry||c.features||c.coordinates)&&this.addData(c);return this}f=this.options;return f.filter&&!f.filter(b)?this:(a=e.GeoJSON.geometryToLayer(b,f))?(a.feature=e.GeoJSON.asFeature(b),a.defaultOptions=a.options,this.resetStyle(a),f.onEachFeature&&f.onEachFeature(b,a),this.addLayer(a)):this},resetStyle:function(b){return b.options=e.Util.extend({},b.defaultOptions),this._setLayerStyle(b,this.options.style),this},setStyle:function(b){return this.eachLayer(function(e){this._setLayerStyle(e,b)},this)},
_setLayerStyle:function(b,e){"function"==typeof e&&(e=e(b.feature));b.setStyle&&b.setStyle(e)}});e.extend(e.GeoJSON,{geometryToLayer:function(b,a){var c,f,k,h="Feature"===b.type?b.geometry:b,l=h?h.coordinates:null,r=[],u=a&&a.pointToLayer,w=a&&a.coordsToLatLng||this.coordsToLatLng;if(!l&&!h)return null;switch(h.type){case "Point":return c=w(l),u?u(b,c):new e.Marker(c);case "MultiPoint":f=0;for(k=l.length;f<k;f++)c=w(l[f]),r.push(u?u(b,c):new e.Marker(c));return new e.FeatureGroup(r);case "LineString":case "MultiLineString":return f=
this.coordsToLatLngs(l,"LineString"===h.type?0:1,w),new e.Polyline(f,a);case "Polygon":case "MultiPolygon":return f=this.coordsToLatLngs(l,"Polygon"===h.type?1:2,w),new e.Polygon(f,a);case "GeometryCollection":f=0;for(k=h.geometries.length;f<k;f++)(c=this.geometryToLayer({geometry:h.geometries[f],type:"Feature",properties:b.properties},a))&&r.push(c);return new e.FeatureGroup(r);default:throw Error("Invalid GeoJSON object.");}},coordsToLatLng:function(b){return new e.LatLng(b[1],b[0],b[2])},coordsToLatLngs:function(b,
e,a){for(var c,f=[],k=0,h=b.length;k<h;k++)c=e?this.coordsToLatLngs(b[k],e-1,a):(a||this.coordsToLatLng)(b[k]),f.push(c);return f},latLngToCoords:function(b){return b.alt!==h?[b.lng,b.lat,b.alt]:[b.lng,b.lat]},latLngsToCoords:function(b,a,c){for(var f=[],k=0,h=b.length;k<h;k++)f.push(a?e.GeoJSON.latLngsToCoords(b[k],a-1,c):e.GeoJSON.latLngToCoords(b[k]));return!a&&c&&f.push(f[0]),f},getFeature:function(b,a){return b.feature?e.extend({},b.feature,{geometry:a}):e.GeoJSON.asFeature(a)},asFeature:function(b){return"Feature"===
b.type||"FeatureCollection"===b.type?b:{type:"Feature",properties:{},geometry:b}}});l={toGeoJSON:function(){return e.GeoJSON.getFeature(this,{type:"Point",coordinates:e.GeoJSON.latLngToCoords(this.getLatLng())})}};e.Marker.include(l);e.Circle.include(l);e.CircleMarker.include(l);e.Polyline.prototype.toGeoJSON=function(){var b=!e.Polyline._flat(this._latlngs),a=e.GeoJSON.latLngsToCoords(this._latlngs,b?1:0);return e.GeoJSON.getFeature(this,{type:(b?"Multi":"")+"LineString",coordinates:a})};e.Polygon.prototype.toGeoJSON=
function(){var b=!e.Polyline._flat(this._latlngs),a=b&&!e.Polyline._flat(this._latlngs[0]),c=e.GeoJSON.latLngsToCoords(this._latlngs,a?2:b?1:0,!0);return b||(c=[c]),e.GeoJSON.getFeature(this,{type:(a?"Multi":"")+"Polygon",coordinates:c})};e.LayerGroup.include({toMultiPoint:function(){var b=[];return this.eachLayer(function(e){b.push(e.toGeoJSON().geometry.coordinates)}),e.GeoJSON.getFeature(this,{type:"MultiPoint",coordinates:b})},toGeoJSON:function(){var b=this.feature&&this.feature.geometry&&this.feature.geometry.type;
if("MultiPoint"===b)return this.toMultiPoint();var a="GeometryCollection"===b,c=[];return this.eachLayer(function(b){b.toGeoJSON&&(b=b.toGeoJSON(),c.push(a?b.geometry:e.GeoJSON.asFeature(b)))}),a?e.GeoJSON.getFeature(this,{geometries:c,type:"GeometryCollection"}):{type:"FeatureCollection",features:c}}});e.geoJSON=function(b,a){return new e.GeoJSON(b,a)};e.geoJson=e.geoJSON;e.Draggable=e.Evented.extend({options:{clickTolerance:3},statics:{START:e.Browser.touch?["touchstart","mousedown"]:["mousedown"],
END:{mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},MOVE:{mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"}},initialize:function(b,e,a){this._element=b;this._dragStartTarget=e||b;this._preventOutline=a},enable:function(){this._enabled||(e.DomEvent.on(this._dragStartTarget,e.Draggable.START.join(" "),this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(e.Draggable._dragging===this&&this.finishDrag(),
e.DomEvent.off(this._dragStartTarget,e.Draggable.START.join(" "),this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(b){if(!b._simulated&&this._enabled&&(this._moved=!1,!(e.DomUtil.hasClass(this._element,"leaflet-zoom-anim")||e.Draggable._dragging||b.shiftKey||1!==b.which&&1!==b.button&&!b.touches||(e.Draggable._dragging=this,this._preventOutline&&e.DomUtil.preventOutline(this._element),e.DomUtil.disableImageDrag(),e.DomUtil.disableTextSelection(),this._moving)))){this.fire("down");
var a=b.touches?b.touches[0]:b;this._startPoint=new e.Point(a.clientX,a.clientY);e.DomEvent.on(f,e.Draggable.MOVE[b.type],this._onMove,this).on(f,e.Draggable.END[b.type],this._onUp,this)}},_onMove:function(b){if(!b._simulated&&this._enabled){if(b.touches&&1<b.touches.length)return void(this._moved=!0);var a=b.touches&&1===b.touches.length?b.touches[0]:b,a=(new e.Point(a.clientX,a.clientY)).subtract(this._startPoint);(a.x||a.y)&&(Math.abs(a.x)+Math.abs(a.y)<this.options.clickTolerance||(e.DomEvent.preventDefault(b),
this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=e.DomUtil.getPosition(this._element).subtract(a),e.DomUtil.addClass(f.body,"leaflet-dragging"),this._lastTarget=b.target||b.srcElement,c.SVGElementInstance&&this._lastTarget instanceof SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),e.DomUtil.addClass(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(a),this._moving=!0,e.Util.cancelAnimFrame(this._animRequest),this._lastEvent=
b,this._animRequest=e.Util.requestAnimFrame(this._updatePosition,this,!0)))}},_updatePosition:function(){var b={originalEvent:this._lastEvent};this.fire("predrag",b);e.DomUtil.setPosition(this._element,this._newPos);this.fire("drag",b)},_onUp:function(b){!b._simulated&&this._enabled&&this.finishDrag()},finishDrag:function(){e.DomUtil.removeClass(f.body,"leaflet-dragging");this._lastTarget&&(e.DomUtil.removeClass(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null);for(var b in e.Draggable.MOVE)e.DomEvent.off(f,
e.Draggable.MOVE[b],this._onMove,this).off(f,e.Draggable.END[b],this._onUp,this);e.DomUtil.enableImageDrag();e.DomUtil.enableTextSelection();this._moved&&this._moving&&(e.Util.cancelAnimFrame(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)}));this._moving=!1;e.Draggable._dragging=!1}});e.Handler=e.Class.extend({initialize:function(b){this._map=b},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?
(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});e.Map.mergeOptions({dragging:!0,inertia:!e.Browser.android23,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});e.Map.Drag=e.Handler.extend({addHooks:function(){if(!this._draggable){var b=this._map;this._draggable=new e.Draggable(b._mapPane,b._container);this._draggable.on({down:this._onDown,dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},
this);this._draggable.on("predrag",this._onPreDragLimit,this);b.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),b.on("zoomend",this._onZoomEnd,this),b.whenReady(this._onZoomEnd,this))}e.DomUtil.addClass(this._map._container,"leaflet-grab leaflet-touch-drag");this._draggable.enable();this._positions=[];this._times=[]},removeHooks:function(){e.DomUtil.removeClass(this._map._container,"leaflet-grab");e.DomUtil.removeClass(this._map._container,"leaflet-touch-drag");this._draggable.disable()},
moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDown:function(){this._map._stop()},_onDragStart:function(){var b=this._map;if(this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var a=e.latLngBounds(this._map.options.maxBounds);this._offsetLimit=e.bounds(this._map.latLngToContainerPoint(a.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(a.getSouthEast()).multiplyBy(-1).add(this._map.getSize()));
this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;b.fire("movestart").fire("dragstart");b.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(b){if(this._map.options.inertia){var a=this._lastTime=+new Date,e=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(e);this._times.push(a);50<a-this._times[0]&&(this._positions.shift(),this._times.shift())}this._map.fire("move",b).fire("drag",b)},_onZoomEnd:function(){var b=
this._map.getSize().divideBy(2);this._initialWorldOffset=this._map.latLngToLayerPoint([0,0]).subtract(b).x;this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(b,a){return b-(b-a)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var b=this._draggable._newPos.subtract(this._draggable._startPos),a=this._offsetLimit;b.x<a.min.x&&(b.x=this._viscousLimit(b.x,a.min.x));b.y<a.min.y&&(b.y=this._viscousLimit(b.y,a.min.y));b.x>a.max.x&&(b.x=
this._viscousLimit(b.x,a.max.x));b.y>a.max.y&&(b.y=this._viscousLimit(b.y,a.max.y));this._draggable._newPos=this._draggable._startPos.add(b)}},_onPreDragWrap:function(){var b=this._worldWidth,a=Math.round(b/2),e=this._initialWorldOffset,c=this._draggable._newPos.x,f=(c-a+e)%b+a-e,b=(c+a+e)%b-a-e,e=Math.abs(f+e)<Math.abs(b+e)?f:b;this._draggable._absPos=this._draggable._newPos.clone();this._draggable._newPos.x=e},_onDragEnd:function(b){var a=this._map,c=a.options,f=!c.inertia||2>this._times.length;
if(a.fire("dragend",b),f)a.fire("moveend");else{b=this._lastPos.subtract(this._positions[0]);var h=c.easeLinearity,f=b.multiplyBy(h/((this._lastTime-this._times[0])/1E3)),l=f.distanceTo([0,0]);b=Math.min(c.inertiaMaxSpeed,l);var f=f.multiplyBy(b/l),t=b/(c.inertiaDeceleration*h),r=f.multiplyBy(-t/2).round();r.x||r.y?(r=a._limitOffset(r,a.options.maxBounds),e.Util.requestAnimFrame(function(){a.panBy(r,{duration:t,easeLinearity:h,noMoveStart:!0,animate:!0})})):a.fire("moveend")}}});e.Map.addInitHook("addHandler",
"dragging",e.Map.Drag);e.Map.mergeOptions({doubleClickZoom:!0});e.Map.DoubleClickZoom=e.Handler.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(b){var a=this._map,e=a.getZoom(),c=a.options.zoomDelta,e=b.originalEvent.shiftKey?e-c:e+c;"center"===a.options.doubleClickZoom?a.setZoom(e):a.setZoomAround(b.containerPoint,e)}});e.Map.addInitHook("addHandler","doubleClickZoom",
e.Map.DoubleClickZoom);e.Map.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});e.Map.ScrollWheelZoom=e.Handler.extend({addHooks:function(){e.DomEvent.on(this._map._container,"mousewheel",this._onWheelScroll,this);this._delta=0},removeHooks:function(){e.DomEvent.off(this._map._container,"mousewheel",this._onWheelScroll,this)},_onWheelScroll:function(b){var a=e.DomEvent.getWheelDelta(b),c=this._map.options.wheelDebounceTime;this._delta+=a;this._lastMousePos=this._map.mouseEventToContainerPoint(b);
this._startTime||(this._startTime=+new Date);a=Math.max(c-(+new Date-this._startTime),0);clearTimeout(this._timer);this._timer=setTimeout(e.bind(this._performZoom,this),a);e.DomEvent.stop(b)},_performZoom:function(){var b=this._map,a=b.getZoom(),e=this._map.options.zoomSnap||0;b._stop();var c=4*Math.log(2/(1+Math.exp(-Math.abs(this._delta/(4*this._map.options.wheelPxPerZoomLevel)))))/Math.LN2,e=e?Math.ceil(c/e)*e:c,e=b._limitZoom(a+(0<this._delta?e:-e))-a;this._delta=0;this._startTime=null;e&&("center"===
b.options.scrollWheelZoom?b.setZoom(a+e):b.setZoomAround(this._lastMousePos,a+e))}});e.Map.addInitHook("addHandler","scrollWheelZoom",e.Map.ScrollWheelZoom);e.extend(e.DomEvent,{_touchstart:e.Browser.msPointer?"MSPointerDown":e.Browser.pointer?"pointerdown":"touchstart",_touchend:e.Browser.msPointer?"MSPointerUp":e.Browser.pointer?"pointerup":"touchend",addDoubleTapListener:function(b,a,c){function f(b){var a;if(e.Browser.pointer){if(!e.Browser.edge||"mouse"===b.pointerType)return;a=e.DomEvent._pointersCount}else a=
b.touches.length;if(!(1<a)){a=Date.now();var c=a-(h||a);l=b.touches?b.touches[0]:b;n=0<c&&c<=u;h=a}}function k(b){if(n&&!l.cancelBubble){if(e.Browser.pointer){if(!e.Browser.edge||"mouse"===b.pointerType)return;var c,f={};for(c in l)b=l[c],f[c]=b&&b.bind?b.bind(l):b;l=f}l.type="dblclick";a(l);h=null}}var h,l,n=!1,u=250,w=this._touchstart,N=this._touchend;return b["_leaflet_"+w+c]=f,b["_leaflet_"+N+c]=k,b["_leaflet_dblclick"+c]=a,b.addEventListener(w,f,!1),b.addEventListener(N,k,!1),b.addEventListener("dblclick",
a,!1),this},removeDoubleTapListener:function(b,a){var c=b["_leaflet_"+this._touchend+a],f=b["_leaflet_dblclick"+a];return b.removeEventListener(this._touchstart,b["_leaflet_"+this._touchstart+a],!1),b.removeEventListener(this._touchend,c,!1),e.Browser.edge||b.removeEventListener("dblclick",f,!1),this}});e.extend(e.DomEvent,{POINTER_DOWN:e.Browser.msPointer?"MSPointerDown":"pointerdown",POINTER_MOVE:e.Browser.msPointer?"MSPointerMove":"pointermove",POINTER_UP:e.Browser.msPointer?"MSPointerUp":"pointerup",
POINTER_CANCEL:e.Browser.msPointer?"MSPointerCancel":"pointercancel",TAG_WHITE_LIST:["INPUT","SELECT","OPTION"],_pointers:{},_pointersCount:0,addPointerListener:function(b,a,e,c){return"touchstart"===a?this._addPointerStart(b,e,c):"touchmove"===a?this._addPointerMove(b,e,c):"touchend"===a&&this._addPointerEnd(b,e,c),this},removePointerListener:function(b,a,e){e=b["_leaflet_"+a+e];return"touchstart"===a?b.removeEventListener(this.POINTER_DOWN,e,!1):"touchmove"===a?b.removeEventListener(this.POINTER_MOVE,
e,!1):"touchend"===a&&(b.removeEventListener(this.POINTER_UP,e,!1),b.removeEventListener(this.POINTER_CANCEL,e,!1)),this},_addPointerStart:function(b,a,c){var k=e.bind(function(b){if("mouse"!==b.pointerType&&b.MSPOINTER_TYPE_MOUSE&&b.pointerType!==b.MSPOINTER_TYPE_MOUSE){if(!(0>this.TAG_WHITE_LIST.indexOf(b.target.tagName)))return;e.DomEvent.preventDefault(b)}this._handlePointer(b,a)},this);(b["_leaflet_touchstart"+c]=k,b.addEventListener(this.POINTER_DOWN,k,!1),this._pointerDocListener)||(b=e.bind(this._globalPointerUp,
this),f.documentElement.addEventListener(this.POINTER_DOWN,e.bind(this._globalPointerDown,this),!0),f.documentElement.addEventListener(this.POINTER_MOVE,e.bind(this._globalPointerMove,this),!0),f.documentElement.addEventListener(this.POINTER_UP,b,!0),f.documentElement.addEventListener(this.POINTER_CANCEL,b,!0),this._pointerDocListener=!0)},_globalPointerDown:function(b){this._pointers[b.pointerId]=b;this._pointersCount++},_globalPointerMove:function(b){this._pointers[b.pointerId]&&(this._pointers[b.pointerId]=
b)},_globalPointerUp:function(b){delete this._pointers[b.pointerId];this._pointersCount--},_handlePointer:function(b,a){b.touches=[];for(var e in this._pointers)b.touches.push(this._pointers[e]);b.changedTouches=[b];a(b)},_addPointerMove:function(b,a,c){var f=e.bind(function(b){(b.pointerType!==b.MSPOINTER_TYPE_MOUSE&&"mouse"!==b.pointerType||0!==b.buttons)&&this._handlePointer(b,a)},this);b["_leaflet_touchmove"+c]=f;b.addEventListener(this.POINTER_MOVE,f,!1)},_addPointerEnd:function(b,a,c){var f=
e.bind(function(b){this._handlePointer(b,a)},this);b["_leaflet_touchend"+c]=f;b.addEventListener(this.POINTER_UP,f,!1);b.addEventListener(this.POINTER_CANCEL,f,!1)}});e.Map.mergeOptions({touchZoom:e.Browser.touch&&!e.Browser.android23,bounceAtZoomLimits:!0});e.Map.TouchZoom=e.Handler.extend({addHooks:function(){e.DomUtil.addClass(this._map._container,"leaflet-touch-zoom");e.DomEvent.on(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){e.DomUtil.removeClass(this._map._container,
"leaflet-touch-zoom");e.DomEvent.off(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(b){var a=this._map;if(b.touches&&2===b.touches.length&&!a._animatingZoom&&!this._zooming){var c=a.mouseEventToContainerPoint(b.touches[0]),h=a.mouseEventToContainerPoint(b.touches[1]);this._centerPoint=a.getSize()._divideBy(2);this._startLatLng=a.containerPointToLatLng(this._centerPoint);"center"!==a.options.touchZoom&&(this._pinchStartLatLng=a.containerPointToLatLng(c.add(h)._divideBy(2)));
this._startDist=c.distanceTo(h);this._startZoom=a.getZoom();this._moved=!1;this._zooming=!0;a._stop();e.DomEvent.on(f,"touchmove",this._onTouchMove,this).on(f,"touchend",this._onTouchEnd,this);e.DomEvent.preventDefault(b)}},_onTouchMove:function(b){if(b.touches&&2===b.touches.length&&this._zooming){var a=this._map,c=a.mouseEventToContainerPoint(b.touches[0]),f=a.mouseEventToContainerPoint(b.touches[1]),h=c.distanceTo(f)/this._startDist;if(this._zoom=a.getScaleZoom(h,this._startZoom),!a.options.bounceAtZoomLimits&&
(this._zoom<a.getMinZoom()&&1>h||this._zoom>a.getMaxZoom()&&1<h)&&(this._zoom=a._limitZoom(this._zoom)),"center"===a.options.touchZoom){if(this._center=this._startLatLng,1===h)return}else{c=c._add(f)._divideBy(2)._subtract(this._centerPoint);if(1===h&&0===c.x&&0===c.y)return;this._center=a.unproject(a.project(this._pinchStartLatLng,this._zoom).subtract(c),this._zoom)}this._moved||(a._moveStart(!0),this._moved=!0);e.Util.cancelAnimFrame(this._animRequest);a=e.bind(a._move,a,this._center,this._zoom,
{pinch:!0,round:!1});this._animRequest=e.Util.requestAnimFrame(a,this,!0);e.DomEvent.preventDefault(b)}},_onTouchEnd:function(){return this._moved&&this._zooming?(this._zooming=!1,e.Util.cancelAnimFrame(this._animRequest),e.DomEvent.off(f,"touchmove",this._onTouchMove).off(f,"touchend",this._onTouchEnd),void(this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom)))):
void(this._zooming=!1)}});e.Map.addInitHook("addHandler","touchZoom",e.Map.TouchZoom);e.Map.mergeOptions({tap:!0,tapTolerance:15});e.Map.Tap=e.Handler.extend({addHooks:function(){e.DomEvent.on(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){e.DomEvent.off(this._map._container,"touchstart",this._onDown,this)},_onDown:function(b){if(b.touches){if(e.DomEvent.preventDefault(b),this._fireClick=!0,1<b.touches.length)return this._fireClick=!1,void clearTimeout(this._holdTimeout);
var a=b.touches[0];b=a.target;this._startPos=this._newPos=new e.Point(a.clientX,a.clientY);b.tagName&&"a"===b.tagName.toLowerCase()&&e.DomUtil.addClass(b,"leaflet-active");this._holdTimeout=setTimeout(e.bind(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",a))},this),1E3);this._simulateEvent("mousedown",a);e.DomEvent.on(f,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(b){if(clearTimeout(this._holdTimeout),e.DomEvent.off(f,{touchmove:this._onMove,
touchend:this._onUp},this),this._fireClick&&b&&b.changedTouches){b=b.changedTouches[0];var a=b.target;a&&a.tagName&&"a"===a.tagName.toLowerCase()&&e.DomUtil.removeClass(a,"leaflet-active");this._simulateEvent("mouseup",b);this._isTapValid()&&this._simulateEvent("click",b)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(b){b=b.touches[0];this._newPos=new e.Point(b.clientX,b.clientY);this._simulateEvent("mousemove",b)},_simulateEvent:function(b,
a){var e=f.createEvent("MouseEvents");e._simulated=!0;a.target._simulatedClick=!0;e.initMouseEvent(b,!0,!0,c,1,a.screenX,a.screenY,a.clientX,a.clientY,!1,!1,!1,!1,0,null);a.target.dispatchEvent(e)}});e.Browser.touch&&!e.Browser.pointer&&e.Map.addInitHook("addHandler","tap",e.Map.Tap);e.Map.mergeOptions({boxZoom:!0});e.Map.BoxZoom=e.Handler.extend({initialize:function(b){this._map=b;this._container=b._container;this._pane=b._panes.overlayPane},addHooks:function(){e.DomEvent.on(this._container,"mousedown",
this._onMouseDown,this)},removeHooks:function(){e.DomEvent.off(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_resetState:function(){this._moved=!1},_onMouseDown:function(b){return!(!b.shiftKey||1!==b.which&&1!==b.button)&&(this._resetState(),e.DomUtil.disableTextSelection(),e.DomUtil.disableImageDrag(),this._startPoint=this._map.mouseEventToContainerPoint(b),void e.DomEvent.on(f,{contextmenu:e.DomEvent.stop,mousemove:this._onMouseMove,mouseup:this._onMouseUp,
keydown:this._onKeyDown},this))},_onMouseMove:function(b){this._moved||(this._moved=!0,this._box=e.DomUtil.create("div","leaflet-zoom-box",this._container),e.DomUtil.addClass(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart"));this._point=this._map.mouseEventToContainerPoint(b);b=new e.Bounds(this._point,this._startPoint);var a=b.getSize();e.DomUtil.setPosition(this._box,b.min);this._box.style.width=a.x+"px";this._box.style.height=a.y+"px"},_finish:function(){this._moved&&(e.DomUtil.remove(this._box),
e.DomUtil.removeClass(this._container,"leaflet-crosshair"));e.DomUtil.enableTextSelection();e.DomUtil.enableImageDrag();e.DomEvent.off(f,{contextmenu:e.DomEvent.stop,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(b){1!==b.which&&1!==b.button||(this._finish(),!this._moved)||(setTimeout(e.bind(this._resetState,this),0),b=new e.LatLngBounds(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point)),this._map.fitBounds(b).fire("boxzoomend",
{boxZoomBounds:b}))},_onKeyDown:function(b){27===b.keyCode&&this._finish()}});e.Map.addInitHook("addHandler","boxZoom",e.Map.BoxZoom);e.Map.mergeOptions({keyboard:!0,keyboardPanDelta:80});e.Map.Keyboard=e.Handler.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(b){this._map=b;this._setPanDelta(b.options.keyboardPanDelta);this._setZoomDelta(b.options.zoomDelta)},addHooks:function(){var b=this._map._container;0>=b.tabIndex&&
(b.tabIndex="0");e.DomEvent.on(b,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this);this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks();e.DomEvent.off(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this);this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var b=f.body,a=f.documentElement,e=b.scrollTop||a.scrollTop,b=b.scrollLeft||
a.scrollLeft;this._map._container.focus();c.scrollTo(b,e)}},_onFocus:function(){this._focused=!0;this._map.fire("focus")},_onBlur:function(){this._focused=!1;this._map.fire("blur")},_setPanDelta:function(b){var a,e,c=this._panKeys={},f=this.keyCodes;a=0;for(e=f.left.length;a<e;a++)c[f.left[a]]=[-1*b,0];a=0;for(e=f.right.length;a<e;a++)c[f.right[a]]=[b,0];a=0;for(e=f.down.length;a<e;a++)c[f.down[a]]=[0,b];a=0;for(e=f.up.length;a<e;a++)c[f.up[a]]=[0,-1*b]},_setZoomDelta:function(b){var a,e,c=this._zoomKeys=
{},f=this.keyCodes;a=0;for(e=f.zoomIn.length;a<e;a++)c[f.zoomIn[a]]=b;a=0;for(e=f.zoomOut.length;a<e;a++)c[f.zoomOut[a]]=-b},_addHooks:function(){e.DomEvent.on(f,"keydown",this._onKeyDown,this)},_removeHooks:function(){e.DomEvent.off(f,"keydown",this._onKeyDown,this)},_onKeyDown:function(b){if(!(b.altKey||b.ctrlKey||b.metaKey)){var a;a=b.keyCode;var c=this._map;if(a in this._panKeys){if(c._panAnim&&c._panAnim._inProgress)return;a=this._panKeys[a];b.shiftKey&&(a=e.point(a).multiplyBy(3));c.panBy(a);
c.options.maxBounds&&c.panInsideBounds(c.options.maxBounds)}else if(a in this._zoomKeys)c.setZoom(c.getZoom()+(b.shiftKey?3:1)*this._zoomKeys[a]);else{if(27!==a)return;c.closePopup()}e.DomEvent.stop(b)}}});e.Map.addInitHook("addHandler","keyboard",e.Map.Keyboard);e.Handler.MarkerDrag=e.Handler.extend({initialize:function(b){this._marker=b},addHooks:function(){var b=this._marker._icon;this._draggable||(this._draggable=new e.Draggable(b,b,!0));this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,
dragend:this._onDragEnd},this).enable();e.DomUtil.addClass(b,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this).disable();this._marker._icon&&e.DomUtil.removeClass(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng();this._marker.closePopup().fire("movestart").fire("dragstart")},
_onDrag:function(b){var a=this._marker,c=a._shadow,f=e.DomUtil.getPosition(a._icon),h=a._map.layerPointToLatLng(f);c&&e.DomUtil.setPosition(c,f);a._latlng=h;b.latlng=h;b.oldLatLng=this._oldLatLng;a.fire("move",b).fire("drag",b)},_onDragEnd:function(b){delete this._oldLatLng;this._marker.fire("moveend").fire("dragend",b)}});e.Control=e.Class.extend({options:{position:"topright"},initialize:function(b){e.setOptions(this,b)},getPosition:function(){return this.options.position},setPosition:function(b){var a=
this._map;return a&&a.removeControl(this),this.options.position=b,a&&a.addControl(this),this},getContainer:function(){return this._container},addTo:function(b){this.remove();this._map=b;var a=this._container=this.onAdd(b),c=this.getPosition();b=b._controlCorners[c];return e.DomUtil.addClass(a,"leaflet-control"),-1!==c.indexOf("bottom")?b.insertBefore(a,b.firstChild):b.appendChild(a),this},remove:function(){return this._map?(e.DomUtil.remove(this._container),this.onRemove&&this.onRemove(this._map),
this._map=null,this):this},_refocusOnMap:function(b){this._map&&b&&0<b.screenX&&0<b.screenY&&this._map.getContainer().focus()}});e.control=function(b){return new e.Control(b)};e.Map.include({addControl:function(b){return b.addTo(this),this},removeControl:function(b){return b.remove(),this},_initControlPos:function(){function b(b,h){a[b+h]=e.DomUtil.create("div",c+b+" "+c+h,f)}var a=this._controlCorners={},c="leaflet-",f=this._controlContainer=e.DomUtil.create("div",c+"control-container",this._container);
b("top","left");b("top","right");b("bottom","left");b("bottom","right")},_clearControlPos:function(){e.DomUtil.remove(this._controlContainer)}});e.Control.Zoom=e.Control.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"-",zoomOutTitle:"Zoom out"},onAdd:function(b){var a=e.DomUtil.create("div","leaflet-control-zoom leaflet-bar"),c=this.options;return this._zoomInButton=this._createButton(c.zoomInText,c.zoomInTitle,"leaflet-control-zoom-in",a,this._zoomIn),this._zoomOutButton=
this._createButton(c.zoomOutText,c.zoomOutTitle,"leaflet-control-zoom-out",a,this._zoomOut),this._updateDisabled(),b.on("zoomend zoomlevelschange",this._updateDisabled,this),a},onRemove:function(b){b.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(b){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*
(b.shiftKey?3:1))},_zoomOut:function(b){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(b.shiftKey?3:1))},_createButton:function(b,a,c,f,h){c=e.DomUtil.create("a",c,f);return c.innerHTML=b,c.href="#",c.title=a,c.setAttribute("role","button"),c.setAttribute("aria-label",a),e.DomEvent.on(c,"mousedown dblclick",e.DomEvent.stopPropagation).on(c,"click",e.DomEvent.stop).on(c,"click",h,this).on(c,"click",this._refocusOnMap,this),c},_updateDisabled:function(){var b=
this._map;e.DomUtil.removeClass(this._zoomInButton,"leaflet-disabled");e.DomUtil.removeClass(this._zoomOutButton,"leaflet-disabled");(this._disabled||b._zoom===b.getMinZoom())&&e.DomUtil.addClass(this._zoomOutButton,"leaflet-disabled");(this._disabled||b._zoom===b.getMaxZoom())&&e.DomUtil.addClass(this._zoomInButton,"leaflet-disabled")}});e.Map.mergeOptions({zoomControl:!0});e.Map.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new e.Control.Zoom,this.addControl(this.zoomControl))});
e.control.zoom=function(b){return new e.Control.Zoom(b)};e.Control.Attribution=e.Control.extend({options:{position:"bottomright",prefix:'<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(b){e.setOptions(this,b);this._attributions={}},onAdd:function(b){b.attributionControl=this;this._container=e.DomUtil.create("div","leaflet-control-attribution");e.DomEvent&&e.DomEvent.disableClickPropagation(this._container);for(var a in b._layers)b._layers[a].getAttribution&&
this.addAttribution(b._layers[a].getAttribution());return this._update(),this._container},setPrefix:function(b){return this.options.prefix=b,this._update(),this},addAttribution:function(b){return b?(this._attributions[b]||(this._attributions[b]=0),this._attributions[b]++,this._update(),this):this},removeAttribution:function(b){return b?(this._attributions[b]&&(this._attributions[b]--,this._update()),this):this},_update:function(){if(this._map){var b=[],a;for(a in this._attributions)this._attributions[a]&&
b.push(a);a=[];this.options.prefix&&a.push(this.options.prefix);b.length&&a.push(b.join(", "));this._container.innerHTML=a.join(" | ")}}});e.Map.mergeOptions({attributionControl:!0});e.Map.addInitHook(function(){this.options.attributionControl&&(new e.Control.Attribution).addTo(this)});e.control.attribution=function(b){return new e.Control.Attribution(b)};e.Control.Scale=e.Control.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(b){var a=e.DomUtil.create("div",
"leaflet-control-scale"),c=this.options;return this._addScales(c,"leaflet-control-scale-line",a),b.on(c.updateWhenIdle?"moveend":"move",this._update,this),b.whenReady(this._update,this),a},onRemove:function(b){b.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(b,a,c){b.metric&&(this._mScale=e.DomUtil.create("div",a,c));b.imperial&&(this._iScale=e.DomUtil.create("div",a,c))},_update:function(){var b=this._map,a=b.getSize().y/2,b=b.distance(b.containerPointToLatLng([0,
a]),b.containerPointToLatLng([this.options.maxWidth,a]));this._updateScales(b)},_updateScales:function(b){this.options.metric&&b&&this._updateMetric(b);this.options.imperial&&b&&this._updateImperial(b)},_updateMetric:function(b){var a=this._getRoundNum(b);this._updateScale(this._mScale,1E3>a?a+" m":a/1E3+" km",a/b)},_updateImperial:function(b){var a,e,c;b*=3.2808399;5280<b?(a=b/5280,e=this._getRoundNum(a),this._updateScale(this._iScale,e+" mi",e/a)):(c=this._getRoundNum(b),this._updateScale(this._iScale,
c+" ft",c/b))},_updateScale:function(b,a,e){b.style.width=Math.round(this.options.maxWidth*e)+"px";b.innerHTML=a},_getRoundNum:function(b){var a=Math.pow(10,(Math.floor(b)+"").length-1);b/=a;return b=10<=b?10:5<=b?5:3<=b?3:2<=b?2:1,a*b}});e.control.scale=function(b){return new e.Control.Scale(b)};e.Control.Layers=e.Control.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(b,a,e,c){return e<c?-1:c<e?1:0}},initialize:function(b,a,c){e.setOptions(this,
c);this._layers=[];this._lastZIndex=0;this._handlingClick=!1;for(var f in b)this._addLayer(b[f],f);for(f in a)this._addLayer(a[f],f,!0)},onAdd:function(b){return this._initLayout(),this._update(),this._map=b,b.on("zoomend",this._checkDisabledLayers,this),this._container},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var b=0;b<this._layers.length;b++)this._layers[b].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(b,a){return this._addLayer(b,
a),this._map?this._update():this},addOverlay:function(b,a){return this._addLayer(b,a,!0),this._map?this._update():this},removeLayer:function(b){b.off("add remove",this._onLayerChange,this);b=this._getLayer(e.stamp(b));return b&&this._layers.splice(this._layers.indexOf(b),1),this._map?this._update():this},expand:function(){e.DomUtil.addClass(this._container,"leaflet-control-layers-expanded");this._form.style.height=null;var b=this._map.getSize().y-(this._container.offsetTop+50);return b<this._form.clientHeight?
(e.DomUtil.addClass(this._form,"leaflet-control-layers-scrollbar"),this._form.style.height=b+"px"):e.DomUtil.removeClass(this._form,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return e.DomUtil.removeClass(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var b=this._container=e.DomUtil.create("div","leaflet-control-layers"),a=this.options.collapsed;b.setAttribute("aria-haspopup",!0);e.DomEvent.disableClickPropagation(b);e.Browser.touch||
e.DomEvent.disableScrollPropagation(b);var c=this._form=e.DomUtil.create("form","leaflet-control-layers-list");a&&(this._map.on("click",this.collapse,this),e.Browser.android||e.DomEvent.on(b,{mouseenter:this.expand,mouseleave:this.collapse},this));var f=this._layersLink=e.DomUtil.create("a","leaflet-control-layers-toggle",b);f.href="#";f.title="Layers";e.Browser.touch?e.DomEvent.on(f,"click",e.DomEvent.stop).on(f,"click",this.expand,this):e.DomEvent.on(f,"focus",this.expand,this);e.DomEvent.on(c,
"click",function(){setTimeout(e.bind(this._onInputClick,this),0)},this);a||this.expand();this._baseLayersList=e.DomUtil.create("div","leaflet-control-layers-base",c);this._separator=e.DomUtil.create("div","leaflet-control-layers-separator",c);this._overlaysList=e.DomUtil.create("div","leaflet-control-layers-overlays",c);b.appendChild(c)},_getLayer:function(b){for(var a=0;a<this._layers.length;a++)if(this._layers[a]&&e.stamp(this._layers[a].layer)===b)return this._layers[a]},_addLayer:function(b,a,
c){b.on("add remove",this._onLayerChange,this);this._layers.push({layer:b,name:a,overlay:c});this.options.sortLayers&&this._layers.sort(e.bind(function(b,a){return this.options.sortFunction(b.layer,a.layer,b.name,a.name)},this));this.options.autoZIndex&&b.setZIndex&&(this._lastZIndex++,b.setZIndex(this._lastZIndex))},_update:function(){if(!this._container)return this;e.DomUtil.empty(this._baseLayersList);e.DomUtil.empty(this._overlaysList);var b,a,c,f,h=0;for(c=0;c<this._layers.length;c++)f=this._layers[c],
this._addItem(f),a=a||f.overlay,b=b||!f.overlay,h+=f.overlay?0:1;return this.options.hideSingleBase&&(b=b&&1<h,this._baseLayersList.style.display=b?"":"none"),this._separator.style.display=a&&b?"":"none",this},_onLayerChange:function(b){this._handlingClick||this._update();var a=this._getLayer(e.stamp(b.target));(b=a.overlay?"add"===b.type?"overlayadd":"overlayremove":"add"===b.type?"baselayerchange":null)&&this._map.fire(b,a)},_createRadioElement:function(b,a){var e='<input type="radio" class="leaflet-control-layers-selector" name="'+
b+'"'+(a?' checked="checked"':"")+"/>",c=f.createElement("div");return c.innerHTML=e,c.firstChild},_addItem:function(b){var a,c=f.createElement("label"),h=this._map.hasLayer(b.layer);b.overlay?(a=f.createElement("input"),a.type="checkbox",a.className="leaflet-control-layers-selector",a.defaultChecked=h):a=this._createRadioElement("leaflet-base-layers",h);a.layerId=e.stamp(b.layer);e.DomEvent.on(a,"click",this._onInputClick,this);h=f.createElement("span");h.innerHTML=" "+b.name;var l=f.createElement("div");
c.appendChild(l);l.appendChild(a);l.appendChild(h);return(b.overlay?this._overlaysList:this._baseLayersList).appendChild(c),this._checkDisabledLayers(),c},_onInputClick:function(){var b,a,e,c=this._form.getElementsByTagName("input"),f=[],h=[];this._handlingClick=!0;for(var l=c.length-1;0<=l;l--)b=c[l],a=this._getLayer(b.layerId).layer,e=this._map.hasLayer(a),b.checked&&!e?f.push(a):!b.checked&&e&&h.push(a);for(l=0;l<h.length;l++)this._map.removeLayer(h[l]);for(l=0;l<f.length;l++)this._map.addLayer(f[l]);
this._handlingClick=!1;this._refocusOnMap()},_checkDisabledLayers:function(){for(var b,a,e=this._form.getElementsByTagName("input"),c=this._map.getZoom(),f=e.length-1;0<=f;f--)b=e[f],a=this._getLayer(b.layerId).layer,b.disabled=a.options.minZoom!==h&&c<a.options.minZoom||a.options.maxZoom!==h&&c>a.options.maxZoom},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}});e.control.layers=function(b,a,c){return new e.Control.Layers(b,a,c)}}(window,document);
(function(c){var f={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},h={array:function(a){var e=["["],c,b,f,n=a.length,p;for(f=0;f<n;f+=1)if(p=a[f],b=h[typeof p])p=b(p),"string"==typeof p&&(c&&(e[e.length]=","),e[e.length]=p,c=!0);e[e.length]="]";return e.join("")},"boolean":function(a){return String(a)},"null":function(a){return"null"},number:function(a){return isFinite(a)?String(a):"null"},object:function(a){if(a){if(a instanceof Array)return h.array(a);var e=["{"],
c,b,f,n;for(f in a)if(n=a[f],b=h[typeof n])n=b(n),"string"==typeof n&&(c&&(e[e.length]=","),e.push(h.string(f),":",n),c=!0);e[e.length]="}";return e.join("")}return"null"},string:function(a){/["\\\x00-\x1f]/.test(a)&&(a=a.replace(/([\x00-\x1f\\"])/g,function(a,c){var b=f[c];if(b)return b;b=c.charCodeAt();return"\\u00"+Math.floor(b/16).toString(16)+(b%16).toString(16)}));return'"'+a+'"'}};c.toJSON=function(a){var e=isNaN(a)?h[typeof a]:h.number;if(e)return e(a)};c.parseJSON=function(a,e){void 0===
e&&(e=c.parseJSON.safe);if(!e||/^("(\\.|[^"\\\n\r])*?"|[,:{}\[\]0-9.\-+Eaeflnr-u \n\r\t])+?$/.test(a))return eval("("+a+")")};c.parseJSON.safe=!1})(jQuery);
!function(c,f,h){L.drawVersion="0.4.10";L.Draw={};L.drawLocal={draw:{toolbar:{actions:{title:"Cancel drawing",text:"Cancel"},finish:{title:"Finish drawing",text:"Finish"},undo:{title:"Delete last point drawn",text:"Delete last point"},share:{title:"Do share",text:"Share"},buttons:{polyline:"Draw a polyline",polygon:"Draw a polygon",rectangle:"Draw a rectangle",circle:"Draw a circle",marker:"Draw a marker"}},handlers:{circle:{tooltip:{start:"Click and drag to draw circle."},radius:"Radius"},marker:{tooltip:{start:"Click map to place marker."}},
polygon:{tooltip:{start:"Click to start drawing shape.",cont:"Click to continue drawing shape.",end:"Click first point to close this shape."}},polyline:{error:"<strong>Error:</strong> shape edges cannot cross!",tooltip:{start:"Click to start drawing line.",cont:"Click to continue drawing line.",end:"Click last point to finish line."}},rectangle:{tooltip:{start:"Click and drag to draw rectangle."}},simpleshape:{tooltip:{end:"Release mouse to finish drawing."}}}},edit:{toolbar:{actions:{save:{title:"Save changes.",
text:"Save"},cancel:{title:"Cancel editing, discards all changes.",text:"Cancel"},clearAll:{title:"clear all layers.",text:"Clear All"}},buttons:{edit:"Edit layers.",editDisabled:"No layers to edit.",remove:"Delete layers.",removeDisabled:"No layers to delete."}},handlers:{edit:{tooltip:{text:"Drag handles, or marker to edit feature.",subtext:"Click cancel to undo changes."}},remove:{tooltip:{text:"Click on a feature to remove"}}}}};L.Draw.Event={};L.Draw.Event.CREATED="draw:created";L.Draw.Event.EDITED=
"draw:edited";L.Draw.Event.DELETED="draw:deleted";L.Draw.Event.DRAWSTART="draw:drawstart";L.Draw.Event.DRAWSTOP="draw:drawstop";L.Draw.Event.DRAWVERTEX="draw:drawvertex";L.Draw.Event.EDITSTART="draw:editstart";L.Draw.Event.EDITMOVE="draw:editmove";L.Draw.Event.EDITRESIZE="draw:editresize";L.Draw.Event.EDITVERTEX="draw:editvertex";L.Draw.Event.EDITSTOP="draw:editstop";L.Draw.Event.DELETESTART="draw:deletestart";L.Draw.Event.DELETESTOP="draw:deletestop";L.Draw=L.Draw||{};L.Draw.Feature=L.Handler.extend({includes:L.Mixin.Events,
initialize:function(a,e){this._map=a;this._container=a._container;this._overlayPane=a._panes.overlayPane;this._popupPane=a._panes.popupPane;e&&e.shapeOptions&&(e.shapeOptions=L.Util.extend({},this.options.shapeOptions,e.shapeOptions));L.setOptions(this,e)},enable:function(){isDrawActived?($(".popup-box-measure").remove(),$("body").prepend('<div class="popup-box-measure"><div class="popup-bg"></div><div class="popup-info"><div class="popup-head"><h2>Info</h2><div class="popup-head-r"><a class="close_measure" href="#"></a></div></div><div class="popup-text"><span class="info_txt">Before use close other drawing!</span></div></div></div>')):
(isDrawActived=!0,this._enabled||(L.Handler.prototype.enable.call(this),this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DRAWSTART,{layerType:this.type})))},disable:function(){isDrawActived=!1;this._enabled&&(L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DRAWSTOP,{layerType:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var a=this._map;a&&(L.DomUtil.disableTextSelection(),a.getContainer().focus(),this._tooltip=new L.Draw.Tooltip(this._map),
L.DomEvent.on(this._container,"keyup",this._cancelDrawing,this))},removeHooks:function(){this._map&&(L.DomUtil.enableTextSelection(),this._tooltip.dispose(),this._tooltip=null,L.DomEvent.off(this._container,"keyup",this._cancelDrawing,this))},setOptions:function(a){L.setOptions(this,a)},_fireCreatedEvent:function(a){this._map.fire(L.Draw.Event.CREATED,{layer:a,layerType:this.type})},_cancelDrawing:function(a){this._map.fire("draw:canceled",{layerType:this.type});27===a.keyCode&&this.disable()}});
L.Draw.Polyline=L.Draw.Feature.extend({statics:{TYPE:"polyline"},Poly:L.Polyline,options:{allowIntersection:!0,repeatMode:!1,drawError:{color:"#b00b00",timeout:2500},icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),guidelineDistance:20,maxGuideLineLength:4E3,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!1,clickable:!0},
metric:!0,feet:!0,nautic:!1,showLength:!0,zIndexOffset:2E3},initialize:function(a,e){L.Browser.touch&&(this.options.icon=this.options.touchIcon);this.options.drawError.message=L.drawLocal.draw.handlers.polyline.error;e&&e.drawError&&(e.drawError=L.Util.extend({},this.options.drawError,e.drawError));this.type=L.Draw.Polyline.TYPE;L.Draw.Feature.prototype.initialize.call(this,a,e)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this);this._map&&(this._markers=[],this._markerGroup=new L.LayerGroup,
this._map.addLayer(this._markerGroup),this._poly=new L.Polyline([],this.options.shapeOptions),this._tooltip.updateContent(this._getTooltipText()),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("mouseout",this._onMouseOut,this).on("mousemove",this._onMouseMove,this).on("mousedown",this._onMouseDown,this).on("mouseup",
this._onMouseUp,this).addTo(this._map),this._map.on("mouseup",this._onMouseUp,this).on("mousemove",this._onMouseMove,this).on("zoomlevelschange",this._onZoomEnd,this).on("touchstart",this._onTouch,this).on("zoomend",this._onZoomEnd,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this);this._clearHideErrorTimeout();this._cleanUpShape();this._map.removeLayer(this._markerGroup);delete this._markerGroup;delete this._markers;this._map.removeLayer(this._poly);delete this._poly;
this._mouseMarker.off("mousedown",this._onMouseDown,this).off("mouseout",this._onMouseOut,this).off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this);this._map.removeLayer(this._mouseMarker);delete this._mouseMarker;this._clearGuides();this._map.off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this).off("zoomlevelschange",this._onZoomEnd,this).off("zoomend",this._onZoomEnd,this).off("touchstart",this._onTouch,this).off("click",this._onTouch,this)},doShare:function(){Measure._doShare()},
deleteLastVertex:function(){if(!(1>=this._markers.length)){var a=this._markers.pop(),e=this._poly,c=e.getLatLngs(),b=c.splice(-1,1)[0];this._poly.setLatLngs(c);this._markerGroup.removeLayer(a);2>e.getLatLngs().length&&this._map.removeLayer(e);this._vertexChanged(b,!1)}},addVertex:function(a){if(2<=this._markers.length&&!this.options.allowIntersection&&this._poly.newLatLngIntersects(a))return void this._showErrorTooltip();this._errorShown&&this._hideErrorTooltip();this._markers.push(this._createMarker(a));
this._poly.addLatLng(a);2===this._poly.getLatLngs().length&&this._map.addLayer(this._poly);this._vertexChanged(a,!0)},completeShape:function(){1>=this._markers.length||(this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable())},_finishShape:function(){var a=this._poly._defaultShape?this._poly._defaultShape():this._poly.getLatLngs(),a=this._poly.newLatLngIntersects(a[a.length-1]);if(!this.options.allowIntersection&&a||!this._shapeIsValid())return void this._showErrorTooltip();
this._fireCreatedEvent();this.disable();this.options.repeatMode&&this.enable()},_shapeIsValid:function(){return!0},_onZoomEnd:function(){null!==this._markers&&this._updateGuide()},_onMouseMove:function(a){var e=this._map.mouseEventToLayerPoint(a.originalEvent),c=this._map.layerPointToLatLng(e);this._currentLatLng=c;this._updateTooltip(c);this._updateGuide(e);this._mouseMarker.setLatLng(c);L.DomEvent.preventDefault(a.originalEvent)},_vertexChanged:function(a,e){this._map.fire(L.Draw.Event.DRAWVERTEX,
{layers:this._markerGroup});this._updateFinishHandler();this._updateRunningMeasure(a,e);this._clearGuides();this._updateTooltip()},_onMouseDown:function(a){this._clickHandled||this._touchHandled||this._disableMarkers||(this._onMouseMove(a),this._clickHandled=!0,this._disableNewMarkers(),a=a.originalEvent,this._startPoint.call(this,a.clientX,a.clientY))},_startPoint:function(a,e){this._mouseDownOrigin=L.point(a,e)},_onMouseUp:function(a){var e=a.originalEvent;this._endPoint.call(this,e.clientX,e.clientY,
a);this._clickHandled=null},_endPoint:function(a,e,f){this._mouseDownOrigin&&(a=L.point(a,e).distanceTo(this._mouseDownOrigin),10>this._calculateFinishDistance(f.latlng)&&L.Browser.touch?this._finishShape():Math.abs(a)<9*(c.devicePixelRatio||1)&&this.addVertex(f.latlng),this._enableNewMarkers());this._mouseDownOrigin=null},_onTouch:function(a){var e,c,b=a.originalEvent;!b.touches||!b.touches[0]||this._clickHandled||this._touchHandled||this._disableMarkers||(e=b.touches[0].clientX,c=b.touches[0].clientY,
this._disableNewMarkers(),this._touchHandled=!0,this._startPoint.call(this,e,c),this._endPoint.call(this,e,c,a),this._touchHandled=null);this._clickHandled=null},_onMouseOut:function(){this._tooltip&&this._tooltip._onMouseOut.call(this._tooltip)},_calculateFinishDistance:function(a){var e;if(0<this._markers.length){if(this.type===L.Draw.Polyline.TYPE)e=this._markers[this._markers.length-1];else{if(this.type!==L.Draw.Polygon.TYPE)return 1/0;e=this._markers[0]}e=this._map.latLngToContainerPoint(e.getLatLng());
a=new L.Marker(a,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset});a=this._map.latLngToContainerPoint(a.getLatLng());e=e.distanceTo(a)}else e=1/0;return e},_updateFinishHandler:function(){var a=this._markers.length;1<a&&this._markers[a-1].on("click",this._finishShape,this);2<a&&this._markers[a-2].off("click",this._finishShape,this)},_createMarker:function(a){a=new L.Marker(a,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset});return this._markerGroup.addLayer(a),a},
_updateGuide:function(a){var e=this._markers?this._markers.length:0;0<e&&(a=a||this._map.latLngToLayerPoint(this._currentLatLng),this._clearGuides(),this._drawGuide(this._map.latLngToLayerPoint(this._markers[e-1].getLatLng()),a))},_updateTooltip:function(a){var e=this._getTooltipText();a&&this._tooltip.updatePosition(a);this._errorShown||this._tooltip.updateContent(e)},_drawGuide:function(a,e){var c,b,f=Math.floor(Math.sqrt(Math.pow(e.x-a.x,2)+Math.pow(e.y-a.y,2))),h=this.options.guidelineDistance;
c=this.options.maxGuideLineLength;h=f>c?f-c:h;for(this._guidesContainer||(this._guidesContainer=L.DomUtil.create("div","leaflet-draw-guides",this._overlayPane));h<f;h+=this.options.guidelineDistance)c=h/f,c={x:Math.floor(a.x*(1-c)+c*e.x),y:Math.floor(a.y*(1-c)+c*e.y)},b=L.DomUtil.create("div","leaflet-draw-guide-dash",this._guidesContainer),b.style.backgroundColor=this._errorShown?this.options.drawError.color:this.options.shapeOptions.color,L.DomUtil.setPosition(b,c)},_updateGuideColor:function(a){if(this._guidesContainer)for(var e=
0,c=this._guidesContainer.childNodes.length;e<c;e++)this._guidesContainer.childNodes[e].style.backgroundColor=a},_clearGuides:function(){if(this._guidesContainer)for(;this._guidesContainer.firstChild;)this._guidesContainer.removeChild(this._guidesContainer.firstChild)},_getTooltipText:function(){var a,e,c=this.options.showLength;return L.Browser.touch&&(c=!1),0===this._markers.length?a={text:L.drawLocal.draw.handlers.polyline.tooltip.start}:(e=c?this._getMeasurementString():"",a=1===this._markers.length?
{text:L.drawLocal.draw.handlers.polyline.tooltip.cont,subtext:e}:{text:L.drawLocal.draw.handlers.polyline.tooltip.end,subtext:e}),a},_updateRunningMeasure:function(a,e){var c,b,f=this._markers.length;1===this._markers.length?this._measurementRunningTotal=0:(c=f-(e?2:1),b=a.distanceTo(this._markers[c].getLatLng()),this._measurementRunningTotal+=b*(e?1:-1))},_getMeasurementString:function(){var a,e=this._currentLatLng,c=this._markers[this._markers.length-1].getLatLng();return a=c&&e&&e.distanceTo?this._measurementRunningTotal+
e.distanceTo(c):this._measurementRunningTotal||0,L.GeometryUtil.readableDistance(a,this.options.metric,this.options.feet,this.options.nautic,this.options.precision)},_showErrorTooltip:function(){this._errorShown=!0;this._tooltip.showAsError().updateContent({text:this.options.drawError.message});this._updateGuideColor(this.options.drawError.color);this._poly.setStyle({color:this.options.drawError.color});this._clearHideErrorTimeout();this._hideErrorTimeout=setTimeout(L.Util.bind(this._hideErrorTooltip,
this),this.options.drawError.timeout)},_hideErrorTooltip:function(){this._errorShown=!1;this._clearHideErrorTimeout();this._tooltip.removeError().updateContent(this._getTooltipText());this._updateGuideColor(this.options.shapeOptions.color);this._poly.setStyle({color:this.options.shapeOptions.color})},_clearHideErrorTimeout:function(){this._hideErrorTimeout&&(clearTimeout(this._hideErrorTimeout),this._hideErrorTimeout=null)},_disableNewMarkers:function(){this._disableMarkers=!0},_enableNewMarkers:function(){setTimeout(function(){this._disableMarkers=
!1}.bind(this),50)},_cleanUpShape:function(){1<this._markers.length&&this._markers[this._markers.length-1].off("click",this._finishShape,this)},_fireCreatedEvent:function(){var a=new this.Poly(this._poly.getLatLngs(),this.options.shapeOptions);L.Draw.Feature.prototype._fireCreatedEvent.call(this,a)}});L.Draw.Polygon=L.Draw.Polyline.extend({statics:{TYPE:"polygon"},Poly:L.Polygon,options:{showArea:!1,showLength:!1,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,
clickable:!0},metric:!0,feet:!0,nautic:!1,precision:{}},initialize:function(a,e){L.Draw.Polyline.prototype.initialize.call(this,a,e);this.type=L.Draw.Polygon.TYPE},_updateFinishHandler:function(){var a=this._markers.length;1===a&&this._markers[0].on("click",this._finishShape,this);2<a&&(this._markers[a-1].on("dblclick",this._finishShape,this),3<a&&this._markers[a-2].off("dblclick",this._finishShape,this))},_getTooltipText:function(){var a,e;return 0===this._markers.length?a=L.drawLocal.draw.handlers.polygon.tooltip.start:
3>this._markers.length?(a=L.drawLocal.draw.handlers.polygon.tooltip.cont,e=this._getMeasurementString()):(a=L.drawLocal.draw.handlers.polygon.tooltip.end,e=this._getMeasurementString()),{text:a,subtext:e}},_getMeasurementString:function(){var a=this._area,e="";return a||this.options.showLength?(this.options.showLength&&(e=L.Draw.Polyline.prototype._getMeasurementString.call(this)),a&&(e+="<br>"+L.GeometryUtil.readableArea(a,this.options.metric,this.options.precision)),e):null},_shapeIsValid:function(){return 3<=
this._markers.length},_vertexChanged:function(a,e){var c;!this.options.allowIntersection&&this.options.showArea&&(c=this._poly.getLatLngs(),this._area=L.GeometryUtil.geodesicArea(c));L.Draw.Polyline.prototype._vertexChanged.call(this,a,e)},_cleanUpShape:function(){var a=this._markers.length;0<a&&(this._markers[0].off("click",this._finishShape,this),2<a&&this._markers[a-1].off("dblclick",this._finishShape,this))}});L.SimpleShape={};L.Draw.SimpleShape=L.Draw.Feature.extend({options:{repeatMode:!1},
initialize:function(a,e){this._endLabelText=L.drawLocal.draw.handlers.simpleshape.tooltip.end;L.Draw.Feature.prototype.initialize.call(this,a,e)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this);this._map&&(this._mapDraggable=this._map.dragging.enabled(),this._mapDraggable&&this._map.dragging.disable(),this._container.style.cursor="crosshair",this._tooltip.updateContent({text:this._initialLabelText}),this._map.on("mousedown",this._onMouseDown,this).on("mousemove",this._onMouseMove,
this).on("touchstart",this._onMouseDown,this).on("touchmove",this._onMouseMove,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this);this._map&&(this._mapDraggable&&this._map.dragging.enable(),this._container.style.cursor="",this._map.off("mousedown",this._onMouseDown,this).off("mousemove",this._onMouseMove,this).off("touchstart",this._onMouseDown,this).off("touchmove",this._onMouseMove,this),L.DomEvent.off(f,"mouseup",this._onMouseUp,this),L.DomEvent.off(f,"touchend",this._onMouseUp,
this),this._shape&&(this._map.removeLayer(this._shape),delete this._shape));this._isDrawing=!1},_getTooltipText:function(){return{text:this._endLabelText}},_onMouseDown:function(a){this._isDrawing=!0;this._startLatLng=a.latlng;L.DomEvent.on(f,"mouseup",this._onMouseUp,this).on(f,"touchend",this._onMouseUp,this).preventDefault(a.originalEvent)},_onMouseMove:function(a){a=a.latlng;this._tooltip.updatePosition(a);this._isDrawing&&(this._tooltip.updateContent(this._getTooltipText()),this._drawShape(a))},
_onMouseUp:function(){this._shape&&this._fireCreatedEvent();this.disable();this.options.repeatMode&&this.enable()}});L.Draw.Rectangle=L.Draw.SimpleShape.extend({statics:{TYPE:"rectangle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,showArea:!0,clickable:!0},metric:!0},initialize:function(a,e){this.type=L.Draw.Rectangle.TYPE;this._initialLabelText=L.drawLocal.draw.handlers.rectangle.tooltip.start;L.Draw.SimpleShape.prototype.initialize.call(this,
a,e)},_drawShape:function(a){this._shape?this._shape.setBounds(new L.LatLngBounds(this._startLatLng,a)):(this._shape=new L.Rectangle(new L.LatLngBounds(this._startLatLng,a),this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var a=new L.Rectangle(this._shape.getBounds(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,a)},_getTooltipText:function(){var a,e,c,b=L.Draw.SimpleShape.prototype._getTooltipText.call(this),f=this.options.showArea;
return this._shape&&(a=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),e=L.GeometryUtil.geodesicArea(a),c=f?L.GeometryUtil.readableArea(e,this.options.metric):""),{text:b.text,subtext:c}}});L.Draw.Circle=L.Draw.SimpleShape.extend({statics:{TYPE:"circle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},showRadius:!0,metric:!0,feet:!0,nautic:!1},initialize:function(a,e){this.type=L.Draw.Circle.TYPE;
this._initialLabelText=L.drawLocal.draw.handlers.circle.tooltip.start;L.Draw.SimpleShape.prototype.initialize.call(this,a,e)},_drawShape:function(a){this._shape?this._shape.setRadius(this._startLatLng.distanceTo(a)):(this._shape=new L.Circle(this._startLatLng,this._startLatLng.distanceTo(a),this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var a=new L.Circle(this._startLatLng,this._shape.getRadius(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,
a)},_onMouseMove:function(a){var e;e=a.latlng;a=this.options.showRadius;var c=this.options.metric;if(this._tooltip.updatePosition(e),this._isDrawing){this._drawShape(e);e=this._shape.getRadius().toFixed(1);var b="";a&&(b=L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(e,c,this.options.feet,this.options.nautic));this._tooltip.updateContent({text:this._endLabelText,subtext:b})}}});L.Draw.Marker=L.Draw.Feature.extend({statics:{TYPE:"marker"},options:{icon:new L.Icon.Default,
repeatMode:!1,zIndexOffset:2E3},initialize:function(a,e){this.type=L.Draw.Marker.TYPE;L.Draw.Feature.prototype.initialize.call(this,a,e)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this);this._map&&(this._tooltip.updateContent({text:L.drawLocal.draw.handlers.marker.tooltip.start}),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),
this._mouseMarker.on("click",this._onClick,this).addTo(this._map),this._map.on("mousemove",this._onMouseMove,this),this._map.on("click",this._onTouch,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this);this._map&&(this._marker&&(this._marker.off("click",this._onClick,this),this._map.off("click",this._onClick,this).off("click",this._onTouch,this).removeLayer(this._marker),delete this._marker),this._mouseMarker.off("click",this._onClick,this),this._map.removeLayer(this._mouseMarker),
delete this._mouseMarker,this._map.off("mousemove",this._onMouseMove,this))},_onMouseMove:function(a){a=a.latlng;this._tooltip.updatePosition(a);this._mouseMarker.setLatLng(a);this._marker?(a=this._mouseMarker.getLatLng(),this._marker.setLatLng(a)):(this._marker=new L.Marker(a,{icon:this.options.icon,zIndexOffset:this.options.zIndexOffset}),this._marker.on("click",this._onClick,this),this._map.on("click",this._onClick,this).addLayer(this._marker))},_onClick:function(){this._fireCreatedEvent();this.disable();
this.options.repeatMode&&this.enable()},_onTouch:function(a){this._onMouseMove(a);this._onClick()},_fireCreatedEvent:function(){var a=new L.Marker.Touch(this._marker.getLatLng(),{icon:this.options.icon});L.Draw.Feature.prototype._fireCreatedEvent.call(this,a)}});L.Edit=L.Edit||{};L.Edit.Marker=L.Handler.extend({initialize:function(a,e){this._marker=a;L.setOptions(this,e)},addHooks:function(){var a=this._marker;a.dragging.enable();a.on("dragend",this._onDragEnd,a);this._toggleMarkerHighlight()},removeHooks:function(){var a=
this._marker;a.dragging.disable();a.off("dragend",this._onDragEnd,a);this._toggleMarkerHighlight()},_onDragEnd:function(a){a=a.target;a.edited=!0;this._map.fire(L.Draw.Event.EDITMOVE,{layer:a})},_toggleMarkerHighlight:function(){var a=this._marker._icon;a&&(a.style.display="none",L.DomUtil.hasClass(a,"leaflet-edit-marker-selected")?(L.DomUtil.removeClass(a,"leaflet-edit-marker-selected"),this._offsetMarker(a,-4)):(L.DomUtil.addClass(a,"leaflet-edit-marker-selected"),this._offsetMarker(a,4)),a.style.display=
"")},_offsetMarker:function(a,e){var c=parseInt(a.style.marginTop,10)-e,b=parseInt(a.style.marginLeft,10)-e;a.style.marginTop=c+"px";a.style.marginLeft=b+"px"}});L.Marker.addInitHook(function(){L.Edit.Marker&&(this.editing=new L.Edit.Marker(this),this.options.editable&&this.editing.enable())});L.Edit=L.Edit||{};L.Edit.Poly=L.Handler.extend({options:{},initialize:function(a,e){this.latlngs=[a._latlngs];a._holes&&(this.latlngs=this.latlngs.concat(a._holes));this._poly=a;L.setOptions(this,e);this._poly.on("revert-edited",
this._updateLatLngs,this)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._poly._latlngs)?this._poly._latlngs:this._poly._latlngs[0]:this._poly._latlngs},_eachVertexHandler:function(a){for(var e=0;e<this._verticesHandlers.length;e++)a(this._verticesHandlers[e])},addHooks:function(){this._initHandlers();this._eachVertexHandler(function(a){a.addHooks()})},removeHooks:function(){this._eachVertexHandler(function(a){a.removeHooks()})},updateMarkers:function(){this._eachVertexHandler(function(a){a.updateMarkers()})},
_initHandlers:function(){this._verticesHandlers=[];for(var a=0;a<this.latlngs.length;a++)this._verticesHandlers.push(new L.Edit.PolyVerticesEdit(this._poly,this.latlngs[a],this.options))},_updateLatLngs:function(a){this.latlngs=[a.layer._latlngs];a.layer._holes&&(this.latlngs=this.latlngs.concat(a.layer._holes))}});L.Edit.PolyVerticesEdit=L.Handler.extend({options:{icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,
20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),drawError:{color:"#b00b00",timeout:1E3}},initialize:function(a,e,c){L.Browser.touch&&(this.options.icon=this.options.touchIcon);this._poly=a;c&&c.drawError&&(c.drawError=L.Util.extend({},this.options.drawError,c.drawError));this._latlngs=e;L.setOptions(this,c)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._latlngs)?this._latlngs:this._latlngs[0]:this._latlngs},addHooks:function(){var a=this._poly;
a instanceof L.Polygon||(a.options.fill=!1,a.options.editing&&(a.options.editing.fill=!1));a.setStyle(a.options.editing);this._poly._map&&(this._map=this._poly._map,this._markerGroup||this._initMarkers(),this._poly._map.addLayer(this._markerGroup))},removeHooks:function(){var a=this._poly;a.setStyle(a.options.original);a._map&&(a._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers)},updateMarkers:function(){this._markerGroup.clearLayers();this._initMarkers()},_initMarkers:function(){this._markerGroup||
(this._markerGroup=new L.LayerGroup);this._markers=[];var a,e,c,b=this._defaultShape();a=0;for(c=b.length;a<c;a++)e=this._createMarker(b[a],a),e.on("click",this._onMarkerClick,this),this._markers.push(e);var f,h;a=0;for(e=c-1;a<c;e=a++)(0!==a||L.Polygon&&this._poly instanceof L.Polygon)&&(f=this._markers[e],h=this._markers[a],this._createMiddleMarker(f,h),this._updatePrevNext(f,h))},_createMarker:function(a,e){var c=new L.Marker.Touch(a,{draggable:!0,icon:this.options.icon});return c._origLatLng=
a,c._index=e,c.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._fireEdit,this).on("touchmove",this._onTouchMove,this).on("touchend",this._fireEdit,this).on("MSPointerMove",this._onTouchMove,this).on("MSPointerUp",this._fireEdit,this),this._markerGroup.addLayer(c),c},_onMarkerDragStart:function(){this._poly.fire("editstart")},_spliceLatLngs:function(){var a=this._defaultShape(),e=[].splice.apply(a,arguments);return this._poly._convertLatLngs(a,!0),
this._poly.redraw(),e},_removeMarker:function(a){var e=a._index;this._markerGroup.removeLayer(a);this._markers.splice(e,1);this._spliceLatLngs(e,1);this._updateIndexes(e,-1);a.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._fireEdit,this).off("touchmove",this._onMarkerDrag,this).off("touchend",this._fireEdit,this).off("click",this._onMarkerClick,this).off("MSPointerMove",this._onTouchMove,this).off("MSPointerUp",this._fireEdit,this)},_fireEdit:function(){this._poly.edited=
!0;this._poly.fire("edit");this._poly._map.fire(L.Draw.Event.EDITVERTEX,{layers:this._markerGroup,poly:this._poly})},_onMarkerDrag:function(a){var e=a.target,c=this._poly;if(L.extend(e._origLatLng,e._latlng),e._middleLeft&&e._middleLeft.setLatLng(this._getMiddleLatLng(e._prev,e)),e._middleRight&&e._middleRight.setLatLng(this._getMiddleLatLng(e,e._next)),c.options.poly){var b=c._map._editTooltip;if(!c.options.poly.allowIntersection&&c.intersects()){var f=c.options.color;c.setStyle({color:this.options.drawError.color});
0!==L.version.indexOf("0.7")&&e.dragging._draggable._onUp(a);this._onMarkerClick(a);b&&b.updateContent({text:L.drawLocal.draw.handlers.polyline.error});setTimeout(function(){c.setStyle({color:f});b&&b.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext})},1E3)}}this._poly.redraw();this._poly.fire("editdrag")},_onMarkerClick:function(a){var e=L.Polygon&&this._poly instanceof L.Polygon?4:3;a=a.target;this._defaultShape().length<e||(this._removeMarker(a),
this._updatePrevNext(a._prev,a._next),a._middleLeft&&this._markerGroup.removeLayer(a._middleLeft),a._middleRight&&this._markerGroup.removeLayer(a._middleRight),a._prev&&a._next?this._createMiddleMarker(a._prev,a._next):a._prev?a._next||(a._prev._middleRight=null):a._next._middleLeft=null,this._fireEdit())},_onTouchMove:function(a){var e=this._map.mouseEventToLayerPoint(a.originalEvent.touches[0]),e=this._map.layerPointToLatLng(e);a=a.target;L.extend(a._origLatLng,e);a._middleLeft&&a._middleLeft.setLatLng(this._getMiddleLatLng(a._prev,
a));a._middleRight&&a._middleRight.setLatLng(this._getMiddleLatLng(a,a._next));this._poly.redraw();this.updateMarkers()},_updateIndexes:function(a,e){this._markerGroup.eachLayer(function(c){c._index>a&&(c._index+=e)})},_createMiddleMarker:function(a,e){var c,b,f,h=this._getMiddleLatLng(a,e),p=this._createMarker(h);p.setOpacity(.6);a._middleRight=e._middleLeft=p;b=function(){p.off("touchmove",b,this);var f=e._index;p._index=f;p.off("click",c,this).on("click",this._onMarkerClick,this);h.lat=p.getLatLng().lat;
h.lng=p.getLatLng().lng;this._spliceLatLngs(f,0,h);this._markers.splice(f,0,p);p.setOpacity(1);this._updateIndexes(f,1);e._index++;this._updatePrevNext(a,p);this._updatePrevNext(p,e);this._poly.fire("editstart")};f=function(){p.off("dragstart",b,this);p.off("dragend",f,this);p.off("touchmove",b,this);this._createMiddleMarker(a,p);this._createMiddleMarker(p,e)};c=function(){b.call(this);f.call(this);this._fireEdit()};p.on("click",c,this).on("dragstart",b,this).on("dragend",f,this).on("touchmove",b,
this);this._markerGroup.addLayer(p)},_updatePrevNext:function(a,e){a&&(a._next=e);e&&(e._prev=a)},_getMiddleLatLng:function(a,e){var c=this._poly._map,b=c.project(a.getLatLng()),f=c.project(e.getLatLng());return c.unproject(b._add(f)._divideBy(2))}});L.Polyline.addInitHook(function(){this.editing||(L.Edit.Poly&&(this.editing=new L.Edit.Poly(this,this.options.poly),this.options.editable&&this.editing.enable()),this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()}),
this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()}))});L.Edit=L.Edit||{};L.Edit.SimpleShape=L.Handler.extend({options:{moveIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move"}),resizeIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize"}),touchMoveIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move leaflet-touch-icon"}),
touchResizeIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize leaflet-touch-icon"})},initialize:function(a,e){L.Browser.touch&&(this.options.moveIcon=this.options.touchMoveIcon,this.options.resizeIcon=this.options.touchResizeIcon);this._shape=a;L.Util.setOptions(this,e)},addHooks:function(){var a=this._shape;this._shape._map&&(this._map=this._shape._map,a.setStyle(a.options.editing),a._map&&(this._map=a._map,this._markerGroup||this._initMarkers(),
this._map.addLayer(this._markerGroup)))},removeHooks:function(){var a=this._shape;if(a.setStyle(a.options.original),a._map){this._unbindMarker(this._moveMarker);for(var a=0,e=this._resizeMarkers.length;a<e;a++)this._unbindMarker(this._resizeMarkers[a]);this._resizeMarkers=null;this._map.removeLayer(this._markerGroup);delete this._markerGroup}this._map=null},updateMarkers:function(){this._markerGroup.clearLayers();this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup);
this._createMoveMarker();this._createResizeMarker()},_createMoveMarker:function(){},_createResizeMarker:function(){},_createMarker:function(a,e){var c=new L.Marker.Touch(a,{draggable:!0,icon:e,zIndexOffset:10});return this._bindMarker(c),this._markerGroup.addLayer(c),c},_bindMarker:function(a){a.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._onMarkerDragEnd,this).on("touchstart",this._onTouchStart,this).on("touchmove",this._onTouchMove,this).on("MSPointerMove",
this._onTouchMove,this).on("touchend",this._onTouchEnd,this).on("MSPointerUp",this._onTouchEnd,this)},_unbindMarker:function(a){a.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._onMarkerDragEnd,this).off("touchstart",this._onTouchStart,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onTouchEnd,this).off("MSPointerUp",this._onTouchEnd,this)},_onMarkerDragStart:function(a){a.target.setOpacity(0);
this._shape.fire("editstart")},_fireEdit:function(){this._shape.edited=!0;this._shape.fire("edit")},_onMarkerDrag:function(a){a=a.target;var e=a.getLatLng();a===this._moveMarker?this._move(e):this._resize(e);this._shape.redraw();this._shape.fire("editdrag")},_onMarkerDragEnd:function(a){a.target.setOpacity(1);this._fireEdit()},_onTouchStart:function(a){if(L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,a),"function"==typeof this._getCorners){var e=this._getCorners();a=a.target;var c=a._cornerIndex;
a.setOpacity(0);this._oppositeCorner=e[(c+2)%4];this._toggleCornerMarkers(0,c)}this._shape.fire("editstart")},_onTouchMove:function(a){var e=this._map.mouseEventToLayerPoint(a.originalEvent.touches[0]),e=this._map.layerPointToLatLng(e);return a.target===this._moveMarker?this._move(e):this._resize(e),this._shape.redraw(),!1},_onTouchEnd:function(a){a.target.setOpacity(1);this.updateMarkers();this._fireEdit()},_move:function(){},_resize:function(){}});L.Edit=L.Edit||{};L.Edit.Rectangle=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var a=
this._shape.getBounds().getCenter();this._moveMarker=this._createMarker(a,this.options.moveIcon)},_createResizeMarker:function(){var a=this._getCorners();this._resizeMarkers=[];for(var e=0,c=a.length;e<c;e++)this._resizeMarkers.push(this._createMarker(a[e],this.options.resizeIcon)),this._resizeMarkers[e]._cornerIndex=e},_onMarkerDragStart:function(a){L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,a);var e=this._getCorners();a=a.target._cornerIndex;this._oppositeCorner=e[(a+2)%4];this._toggleCornerMarkers(0,
a)},_onMarkerDragEnd:function(a){var e,c,b=a.target;b===this._moveMarker&&(e=this._shape.getBounds(),c=e.getCenter(),b.setLatLng(c));this._toggleCornerMarkers(1);this._repositionCornerMarkers();L.Edit.SimpleShape.prototype._onMarkerDragEnd.call(this,a)},_move:function(a){for(var e,c=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),b=this._shape.getBounds().getCenter(),f=[],h=0,p=c.length;h<p;h++)e=[c[h].lat-b.lat,c[h].lng-b.lng],f.push([a.lat+e[0],a.lng+e[1]]);this._shape.setLatLngs(f);
this._repositionCornerMarkers();this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})},_resize:function(a){this._shape.setBounds(L.latLngBounds(a,this._oppositeCorner));a=this._shape.getBounds();this._moveMarker.setLatLng(a.getCenter());this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})},_getCorners:function(){var a=this._shape.getBounds();return[a.getNorthWest(),a.getNorthEast(),a.getSouthEast(),a.getSouthWest()]},_toggleCornerMarkers:function(a){for(var e=0,c=this._resizeMarkers.length;e<
c;e++)this._resizeMarkers[e].setOpacity(a)},_repositionCornerMarkers:function(){for(var a=this._getCorners(),e=0,c=this._resizeMarkers.length;e<c;e++)this._resizeMarkers[e].setLatLng(a[e])}});L.Rectangle.addInitHook(function(){L.Edit.Rectangle&&(this.editing=new L.Edit.Rectangle(this),this.options.editable&&this.editing.enable())});L.Edit=L.Edit||{};L.Edit.Circle=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var a=this._shape.getLatLng();this._moveMarker=this._createMarker(a,this.options.moveIcon)},
_createResizeMarker:function(){var a=this._shape.getLatLng(),a=this._getResizeMarkerPoint(a);this._resizeMarkers=[];this._resizeMarkers.push(this._createMarker(a,this.options.resizeIcon))},_getResizeMarkerPoint:function(a){var e=this._shape._radius*Math.cos(Math.PI/4);a=this._map.project(a);return this._map.unproject([a.x+e,a.y-e])},_move:function(a){var e=this._getResizeMarkerPoint(a);this._resizeMarkers[0].setLatLng(e);this._shape.setLatLng(a);this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})},
_resize:function(a){a=this._moveMarker.getLatLng().distanceTo(a);this._shape.setRadius(a);this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})}});L.Circle.addInitHook(function(){L.Edit.Circle&&(this.editing=new L.Edit.Circle(this),this.options.editable&&this.editing.enable());this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()});this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()})});L.Map.mergeOptions({touchExtend:!0});
L.Map.TouchExtend=L.Handler.extend({initialize:function(a){this._map=a;this._container=a._container;this._pane=a._panes.overlayPane},addHooks:function(){L.DomEvent.on(this._container,"touchstart",this._onTouchStart,this);L.DomEvent.on(this._container,"touchend",this._onTouchEnd,this);L.DomEvent.on(this._container,"touchmove",this._onTouchMove,this);this._detectIE()?(L.DomEvent.on(this._container,"MSPointerDown",this._onTouchStart,this),L.DomEvent.on(this._container,"MSPointerUp",this._onTouchEnd,
this),L.DomEvent.on(this._container,"MSPointerMove",this._onTouchMove,this),L.DomEvent.on(this._container,"MSPointerCancel",this._onTouchCancel,this)):(L.DomEvent.on(this._container,"touchcancel",this._onTouchCancel,this),L.DomEvent.on(this._container,"touchleave",this._onTouchLeave,this))},removeHooks:function(){L.DomEvent.off(this._container,"touchstart",this._onTouchStart);L.DomEvent.off(this._container,"touchend",this._onTouchEnd);L.DomEvent.off(this._container,"touchmove",this._onTouchMove);
this._detectIE()?(L.DomEvent.off(this._container,"MSPointerDowm",this._onTouchStart),L.DomEvent.off(this._container,"MSPointerUp",this._onTouchEnd),L.DomEvent.off(this._container,"MSPointerMove",this._onTouchMove),L.DomEvent.off(this._container,"MSPointerCancel",this._onTouchCancel)):(L.DomEvent.off(this._container,"touchcancel",this._onTouchCancel),L.DomEvent.off(this._container,"touchleave",this._onTouchLeave))},_touchEvent:function(a,e){var c;if(void 0!==a.touches){if(!a.touches.length)return;
c=a.touches[0]}else if("touch"!==a.pointerType||(c=a,!this._filterClick(a)))return;var b=this._map.mouseEventToContainerPoint(c),f=this._map.mouseEventToLayerPoint(c),h=this._map.layerPointToLatLng(f);this._map.fire(e,{latlng:h,layerPoint:f,containerPoint:b,pageX:c.pageX,pageY:c.pageY,originalEvent:a})},_filterClick:function(a){var e=a.timeStamp||a.originalEvent.timeStamp,c=L.DomEvent._lastClick&&e-L.DomEvent._lastClick;return c&&100<c&&500>c||a.target._simulatedClick&&!a._simulated?(L.DomEvent.stop(a),
!1):(L.DomEvent._lastClick=e,!0)},_onTouchStart:function(a){this._map._loaded&&this._touchEvent(a,"touchstart")},_onTouchEnd:function(a){this._map._loaded&&this._touchEvent(a,"touchend")},_onTouchCancel:function(a){if(this._map._loaded){var e="touchcancel";this._detectIE()&&(e="pointercancel");this._touchEvent(a,e)}},_onTouchLeave:function(a){this._map._loaded&&this._touchEvent(a,"touchleave")},_onTouchMove:function(a){this._map._loaded&&this._touchEvent(a,"touchmove")},_detectIE:function(){var a=
c.navigator.userAgent,e=a.indexOf("MSIE ");if(0<e)return parseInt(a.substring(e+5,a.indexOf(".",e)),10);if(0<a.indexOf("Trident/"))return e=a.indexOf("rv:"),parseInt(a.substring(e+3,a.indexOf(".",e)),10);e=a.indexOf("Edge/");return 0<e&&parseInt(a.substring(e+5,a.indexOf(".",e)),10)}});L.Map.addInitHook("addHandler","touchExtend",L.Map.TouchExtend);L.Marker.Touch=L.Marker.extend({_initInteraction:function(){return this.addInteractiveTarget?L.Marker.prototype._initInteraction.apply(this):this._initInteractionLegacy()},
_initInteractionLegacy:function(){if(this.options.clickable){var a=this._icon,e="dblclick mousedown mouseover mouseout contextmenu touchstart touchend touchmove".split(" ");this._detectIE?e.concat(["MSPointerDown","MSPointerUp","MSPointerMove","MSPointerCancel"]):e.concat(["touchcancel"]);L.DomUtil.addClass(a,"leaflet-clickable");L.DomEvent.on(a,"click",this._onMouseClick,this);L.DomEvent.on(a,"keypress",this._onKeyPress,this);for(var c=0;c<e.length;c++)L.DomEvent.on(a,e[c],this._fireMouseEvent,this);
L.Handler.MarkerDrag&&(this.dragging=new L.Handler.MarkerDrag(this),this.options.draggable&&this.dragging.enable())}},_detectIE:function(){var a=c.navigator.userAgent,e=a.indexOf("MSIE ");if(0<e)return parseInt(a.substring(e+5,a.indexOf(".",e)),10);if(0<a.indexOf("Trident/"))return e=a.indexOf("rv:"),parseInt(a.substring(e+3,a.indexOf(".",e)),10);e=a.indexOf("Edge/");return 0<e&&parseInt(a.substring(e+5,a.indexOf(".",e)),10)}});L.LatLngUtil={cloneLatLngs:function(a){for(var e=[],c=0,b=a.length;c<
b;c++)Array.isArray(a[c])?e.push(L.LatLngUtil.cloneLatLngs(a[c])):e.push(this.cloneLatLng(a[c]));return e},cloneLatLng:function(a){return L.latLng(a.lat,a.lng)}};(function(){var a={km:2,ha:2,m:0,mi:2,ac:2,yd:0,ft:0,nm:2};L.GeometryUtil=L.extend(L.GeometryUtil||{},{geodesicArea:function(a){var e,b,c=a.length,f=0,h=Math.PI/180;if(2<c){for(var q=0;q<c;q++)e=a[q],b=a[(q+1)%c],f+=(b.lng-e.lng)*h*(2+Math.sin(e.lat*h)+Math.sin(b.lat*h));f=40680631590769*f/2}return Math.abs(f)},formattedNumber:function(a,
c){var b=a.toFixed(c),e=L.drawLocal.format&&L.drawLocal.format.numeric,f=e&&e.delimiters,e=f&&f.thousands,f=f&&f.decimal;if(e||f){var h=b.split("."),b=e?h[0].replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+e):h[0];1<h.length&&(b=b+(f||".")+h[1])}return b},readableArea:function(e,c,b){var f,h;b=L.Util.extend({},a,b);return c?(h=["ha","m"],type=typeof c,"string"===type?h=[c]:"boolean"!==type&&(h=c),f=1E6<=e&&-1!==h.indexOf("km")?L.GeometryUtil.formattedNumber(1E-6*e,b.km)+" km\u00b2":1E4<=e&&-1!==h.indexOf("ha")?
L.GeometryUtil.formattedNumber(1E-4*e,b.ha)+" ha":L.GeometryUtil.formattedNumber(e,b.m)+" m\u00b2"):(e/=.836127,f=3097600<=e?L.GeometryUtil.formattedNumber(e/3097600,b.mi)+" mi\u00b2":4840<=e?L.GeometryUtil.formattedNumber(e/4840,b.ac)+" acres":L.GeometryUtil.formattedNumber(e,b.yd)+" yd\u00b2"),f},readableDistance:function(e,c,b,f,h){h=L.Util.extend({},a,h);switch(c?"string"==typeof c?c:"metric":b?"feet":f?"nauticalMile":"yards"){case "metric":e=1E3<e?L.GeometryUtil.formattedNumber(e/1E3,h.km)+" km":
L.GeometryUtil.formattedNumber(e,h.m)+" m";break;case "feet":e=L.GeometryUtil.formattedNumber(3.28083*e,h.ft)+" ft";break;case "nauticalMile":e=L.GeometryUtil.formattedNumber(.53996*e/1E3,h.nm)+" nm";break;default:e*=1.09361,e=1760<e?L.GeometryUtil.formattedNumber(e/1760,h.mi)+" miles":L.GeometryUtil.formattedNumber(e,h.yd)+" yd"}return e}})})();L.Util.extend(L.LineUtil,{segmentsIntersect:function(a,e,c,b){return this._checkCounterclockwise(a,c,b)!==this._checkCounterclockwise(e,c,b)&&this._checkCounterclockwise(a,
e,c)!==this._checkCounterclockwise(a,e,b)},_checkCounterclockwise:function(a,e,c){return(c.y-a.y)*(e.x-a.x)>(e.y-a.y)*(c.x-a.x)}});L.Polyline.include({intersects:function(){var a,e,c,b=this._getProjectedPoints();a=b?b.length:0;if(this._tooFewPointsForIntersection())return!1;for(--a;3<=a;a--)if(e=b[a-1],c=b[a],this._lineSegmentsIntersectsRange(e,c,a-2))return!0;return!1},newLatLngIntersects:function(a,e){return!!this._map&&this.newPointIntersects(this._map.latLngToLayerPoint(a),e)},newPointIntersects:function(a,
e){var c=this._getProjectedPoints(),b=c?c.length:0,c=c?c[b-1]:null,b=b-2;return!this._tooFewPointsForIntersection(1)&&this._lineSegmentsIntersectsRange(c,a,b,e?1:0)},_tooFewPointsForIntersection:function(a){var e=this._getProjectedPoints(),c=e?e.length:0;return c+=a||0,!e||3>=c},_lineSegmentsIntersectsRange:function(a,e,c,b){var f,h,l=this._getProjectedPoints();for(b=b||0;c>b;c--)if(f=l[c-1],h=l[c],L.LineUtil.segmentsIntersect(a,e,f,h))return!0;return!1},_getProjectedPoints:function(){if(!this._defaultShape)return this._originalPoints;
for(var a=[],e=this._defaultShape(),c=0;c<e.length;c++)a.push(this._map.latLngToLayerPoint(e[c]));return a}});L.Polygon.include({intersects:function(){var a,e,c,b,f=this._getProjectedPoints();return!this._tooFewPointsForIntersection()&&(!!L.Polyline.prototype.intersects.call(this)||(a=f.length,e=f[0],c=f[a-1],b=a-2,this._lineSegmentsIntersectsRange(c,e,b,1)))}});L.Control.Draw=L.Control.extend({options:{position:"topleft",draw:{},edit:!1},initialize:function(a){if("0.7">L.version)throw Error("Leaflet.draw 0.2.3+ requires Leaflet 0.7.0+. Download latest from https://github.com/Leaflet/Leaflet/");
L.Control.prototype.initialize.call(this,a);var e;this._toolbars={};L.DrawToolbar&&this.options.draw&&(e=new L.DrawToolbar(this.options.draw),this._toolbars[L.DrawToolbar.TYPE]=e,this._toolbars[L.DrawToolbar.TYPE].on("enable",this._toolbarEnabled,this));L.EditToolbar&&this.options.edit&&(e=new L.EditToolbar(this.options.edit),this._toolbars[L.EditToolbar.TYPE]=e,this._toolbars[L.EditToolbar.TYPE].on("enable",this._toolbarEnabled,this));L.toolbar=this},onAdd:function(a){var e,c=L.DomUtil.create("div",
"leaflet-draw"),b=!1,f;for(f in this._toolbars)this._toolbars.hasOwnProperty(f)&&(e=this._toolbars[f].addToolbar(a))&&(b||(L.DomUtil.hasClass(e,"leaflet-draw-toolbar-top")||L.DomUtil.addClass(e.childNodes[0],"leaflet-draw-toolbar-top"),b=!0),c.appendChild(e));return c},onRemove:function(){for(var a in this._toolbars)this._toolbars.hasOwnProperty(a)&&this._toolbars[a].removeToolbar()},setDrawingOptions:function(a){for(var e in this._toolbars)this._toolbars[e]instanceof L.DrawToolbar&&this._toolbars[e].setOptions(a)},
_toolbarEnabled:function(a){a=a.target;for(var e in this._toolbars)this._toolbars[e]!==a&&this._toolbars[e].disable()}});L.Map.mergeOptions({drawControlTooltips:!0,drawControl:!1});L.Map.addInitHook(function(){this.options.drawControl&&(this.drawControl=new L.Control.Draw,this.addControl(this.drawControl))});L.Toolbar=L.Class.extend({includes:[L.Mixin.Events],initialize:function(a){L.setOptions(this,a);this._modes={};this._actionButtons=[];this._activeMode=null},enabled:function(){return null!==this._activeMode},
disable:function(){this.enabled()&&this._activeMode.handler.disable()},addToolbar:function(a){var e=L.DomUtil.create("div","leaflet-draw-section"),c=0,b=this._toolbarClass||"",f=this.getModeHandlers(a);this._toolbarContainer=L.DomUtil.create("div","leaflet-draw-toolbar leaflet-bar");this._map=a;for(a=0;a<f.length;a++)f[a].enabled&&this._initModeHandler(f[a].handler,this._toolbarContainer,c++,b,f[a].title);if(c)return this._lastButtonIndex=--c,this._actionsContainer=L.DomUtil.create("ul","leaflet-draw-actions"),
e.appendChild(this._toolbarContainer),e.appendChild(this._actionsContainer),e},removeToolbar:function(){for(var a in this._modes)this._modes.hasOwnProperty(a)&&(this._disposeButton(this._modes[a].button,this._modes[a].handler.enable,this._modes[a].handler),this._modes[a].handler.disable(),this._modes[a].handler.off("enabled",this._handlerActivated,this).off("disabled",this._handlerDeactivated,this));this._modes={};a=0;for(var e=this._actionButtons.length;a<e;a++)this._disposeButton(this._actionButtons[a].button,
this._actionButtons[a].callback,this);this._actionButtons=[];this._actionsContainer=null},_initModeHandler:function(a,e,c,b,f){var h=a.type;this._modes[h]={};this._modes[h].handler=a;this._modes[h].button=this._createButton({type:h,title:f,className:b+"-"+h,container:e,callback:this._modes[h].handler.enable,context:this._modes[h].handler});this._modes[h].buttonIndex=c;this._modes[h].handler.on("enabled",this._handlerActivated,this).on("disabled",this._handlerDeactivated,this)},_createButton:function(a){var e=
L.DomUtil.create("a",a.className||"",a.container),c=L.DomUtil.create("span","sr-only",a.container);return e.href="#",e.appendChild(c),a.title&&(e.title=a.title,c.innerHTML=a.title),a.text&&(e.innerHTML=a.text,c.innerHTML=a.text),L.DomEvent.on(e,"click",L.DomEvent.stopPropagation).on(e,"mousedown",L.DomEvent.stopPropagation).on(e,"dblclick",L.DomEvent.stopPropagation).on(e,"touchstart",L.DomEvent.stopPropagation).on(e,"click",L.DomEvent.preventDefault).on(e,"click",a.callback,a.context),e},_disposeButton:function(a,
e){L.DomEvent.off(a,"click",L.DomEvent.stopPropagation).off(a,"mousedown",L.DomEvent.stopPropagation).off(a,"dblclick",L.DomEvent.stopPropagation).off(a,"touchstart",L.DomEvent.stopPropagation).off(a,"click",L.DomEvent.preventDefault).off(a,"click",e)},_handlerActivated:function(a){this.disable();this._activeMode=this._modes[a.handler];L.DomUtil.addClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled");this._showActionsToolbar();this.fire("enable")},_handlerDeactivated:function(){this._hideActionsToolbar();
L.DomUtil.removeClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled");this._activeMode=null;this.fire("disable")},_createActions:function(a){var e,c,b,f,h=this._actionsContainer;a=this.getActions(a);var p=a.length;c=0;for(b=this._actionButtons.length;c<b;c++)this._disposeButton(this._actionButtons[c].button,this._actionButtons[c].callback);for(this._actionButtons=[];h.firstChild;)h.removeChild(h.firstChild);for(c=0;c<p;c++)"enabled"in a[c]&&!a[c].enabled||(e=L.DomUtil.create("li","",
h),f=this._createButton({title:a[c].title,text:a[c].text,container:e,callback:a[c].callback,context:a[c].context}),this._actionButtons.push({button:f,callback:a[c].callback}))},_showActionsToolbar:function(){var a=this._activeMode.buttonIndex,e=this._lastButtonIndex,c=this._activeMode.button.offsetTop-1;this._createActions(this._activeMode.handler);this._actionsContainer.style.top=c+"px";0===a&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.addClass(this._actionsContainer,
"leaflet-draw-actions-top"));a===e&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-bottom"));this._actionsContainer.style.display="block"},_hideActionsToolbar:function(){this._actionsContainer.style.display="none";L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-notop");L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom");L.DomUtil.removeClass(this._actionsContainer,
"leaflet-draw-actions-top");L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-bottom")}});L.Draw=L.Draw||{};L.Draw.Tooltip=L.Class.extend({initialize:function(a){this._map=a;this._popupPane=a._panes.popupPane;this._visible=!1;this._container=a.options.drawControlTooltips?L.DomUtil.create("div","leaflet-draw-tooltip",this._popupPane):null;this._singleLineLabel=!1;this._map.on("mouseout",this._onMouseOut,this)},dispose:function(){this._map.off("mouseout",this._onMouseOut,this);this._container&&
(this._popupPane.removeChild(this._container),this._container=null)},updateContent:function(a){return this._container?(a.subtext=a.subtext||"",0!==a.subtext.length||this._singleLineLabel?0<a.subtext.length&&this._singleLineLabel&&(L.DomUtil.removeClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!1):(L.DomUtil.addClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!0),this._container.innerHTML=(0<a.subtext.length?'<span class="leaflet-draw-tooltip-subtext">'+
a.subtext+"</span><br />":"")+"<span>"+a.text+"</span>",a.text||a.subtext?(this._visible=!0,this._container.style.visibility="inherit"):(this._visible=!1,this._container.style.visibility="hidden"),this):this},updatePosition:function(a){a=this._map.latLngToLayerPoint(a);var e=this._container;return this._container&&(this._visible&&(e.style.visibility="inherit"),L.DomUtil.setPosition(e,a)),this},showAsError:function(){return this._container&&L.DomUtil.addClass(this._container,"leaflet-error-draw-tooltip"),
this},removeError:function(){return this._container&&L.DomUtil.removeClass(this._container,"leaflet-error-draw-tooltip"),this},_onMouseOut:function(){this._container&&(this._container.style.visibility="hidden")}});L.DrawToolbar=L.Toolbar.extend({statics:{TYPE:"draw"},options:{polyline:{},polygon:{},rectangle:{},circle:{},marker:{}},initialize:function(a){for(var e in this.options)this.options.hasOwnProperty(e)&&a[e]&&(a[e]=L.extend({},this.options[e],a[e]));this._toolbarClass="leaflet-draw-draw";
L.Toolbar.prototype.initialize.call(this,a)},getModeHandlers:function(a){return[{enabled:this.options.polyline,handler:new L.Draw.Polyline(a,this.options.polyline),title:L.drawLocal.draw.toolbar.buttons.polyline},{enabled:this.options.polygon,handler:new L.Draw.Polygon(a,this.options.polygon),title:L.drawLocal.draw.toolbar.buttons.polygon},{enabled:this.options.rectangle,handler:new L.Draw.Rectangle(a,this.options.rectangle),title:L.drawLocal.draw.toolbar.buttons.rectangle},{enabled:this.options.circle,
handler:new L.Draw.Circle(a,this.options.circle),title:L.drawLocal.draw.toolbar.buttons.circle},{enabled:this.options.marker,handler:new L.Draw.Marker(a,this.options.marker),title:L.drawLocal.draw.toolbar.buttons.marker}]},getActions:function(a){return[{enabled:a.completeShape,title:L.drawLocal.draw.toolbar.finish.title,text:L.drawLocal.draw.toolbar.finish.text,callback:a.completeShape,context:a},{enabled:a.deleteLastVertex,title:L.drawLocal.draw.toolbar.undo.title,text:L.drawLocal.draw.toolbar.undo.text,
callback:a.deleteLastVertex,context:a},{enabled:!0,title:L.drawLocal.draw.toolbar.share.title,text:L.drawLocal.draw.toolbar.share.text,callback:a.doShare,context:a},{title:L.drawLocal.draw.toolbar.actions.title,text:L.drawLocal.draw.toolbar.actions.text,callback:this.disable,context:this}]},setOptions:function(a){L.setOptions(this,a);for(var e in this._modes)this._modes.hasOwnProperty(e)&&a.hasOwnProperty(e)&&this._modes[e].handler.setOptions(a[e])}});L.EditToolbar=L.Toolbar.extend({statics:{TYPE:"edit"},
options:{edit:{selectedPathOptions:{dashArray:"10, 10",fill:!0,fillColor:"#fe57a1",fillOpacity:.1,maintainColor:!1}},remove:{},poly:null,featureGroup:null},initialize:function(a){a.edit&&(void 0===a.edit.selectedPathOptions&&(a.edit.selectedPathOptions=this.options.edit.selectedPathOptions),a.edit.selectedPathOptions=L.extend({},this.options.edit.selectedPathOptions,a.edit.selectedPathOptions));a.remove&&(a.remove=L.extend({},this.options.remove,a.remove));a.poly&&(a.poly=L.extend({},this.options.poly,
a.poly));this._toolbarClass="leaflet-draw-edit";L.Toolbar.prototype.initialize.call(this,a);this._selectedFeatureCount=0},getModeHandlers:function(a){var e=this.options.featureGroup;return[{enabled:this.options.edit,handler:new L.EditToolbar.Edit(a,{featureGroup:e,selectedPathOptions:this.options.edit.selectedPathOptions,poly:this.options.poly}),title:L.drawLocal.edit.toolbar.buttons.edit},{enabled:this.options.remove,handler:new L.EditToolbar.Delete(a,{featureGroup:e}),title:L.drawLocal.edit.toolbar.buttons.remove}]},
getActions:function(){return[{title:L.drawLocal.edit.toolbar.actions.save.title,text:L.drawLocal.edit.toolbar.actions.save.text,callback:this._save,context:this},{title:L.drawLocal.edit.toolbar.actions.cancel.title,text:L.drawLocal.edit.toolbar.actions.cancel.text,callback:this.disable,context:this},{title:L.drawLocal.edit.toolbar.actions.clearAll.title,text:L.drawLocal.edit.toolbar.actions.clearAll.text,callback:this._clearAllLayers,context:this}]},addToolbar:function(a){a=L.Toolbar.prototype.addToolbar.call(this,
a);return this._checkDisabled(),this.options.featureGroup.on("layeradd layerremove",this._checkDisabled,this),a},removeToolbar:function(){this.options.featureGroup.off("layeradd layerremove",this._checkDisabled,this);L.Toolbar.prototype.removeToolbar.call(this)},disable:function(){this.enabled()&&(this._activeMode.handler.revertLayers(),L.Toolbar.prototype.disable.call(this))},_save:function(){this._activeMode.handler.save();this._activeMode&&this._activeMode.handler.disable()},_clearAllLayers:function(){this._activeMode.handler.removeAllLayers();
this._activeMode&&this._activeMode.handler.disable()},_checkDisabled:function(){var a,e=0!==this.options.featureGroup.getLayers().length;this.options.edit&&(a=this._modes[L.EditToolbar.Edit.TYPE].button,e?L.DomUtil.removeClass(a,"leaflet-disabled"):L.DomUtil.addClass(a,"leaflet-disabled"),a.setAttribute("title",e?L.drawLocal.edit.toolbar.buttons.edit:L.drawLocal.edit.toolbar.buttons.editDisabled));this.options.remove&&(a=this._modes[L.EditToolbar.Delete.TYPE].button,e?L.DomUtil.removeClass(a,"leaflet-disabled"):
L.DomUtil.addClass(a,"leaflet-disabled"),a.setAttribute("title",e?L.drawLocal.edit.toolbar.buttons.remove:L.drawLocal.edit.toolbar.buttons.removeDisabled))}});L.EditToolbar.Edit=L.Handler.extend({statics:{TYPE:"edit"},includes:L.Mixin.Events,initialize:function(a,e){if(L.Handler.prototype.initialize.call(this,a),L.setOptions(this,e),this._featureGroup=e.featureGroup,!(this._featureGroup instanceof L.FeatureGroup))throw Error("options.featureGroup must be a L.FeatureGroup");this._uneditedLayerProps=
{};this.type=L.EditToolbar.Edit.TYPE},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.EDITSTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._featureGroup.on("layeradd",this._enableLayerEdit,this).on("layerremove",this._disableLayerEdit,this))},disable:function(){this._enabled&&(this._featureGroup.off("layeradd",this._enableLayerEdit,this).off("layerremove",this._disableLayerEdit,this),L.Handler.prototype.disable.call(this),
this._map.fire(L.Draw.Event.EDITSTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var a=this._map;a&&(a.getContainer().focus(),this._featureGroup.eachLayer(this._enableLayerEdit,this),this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}),a._editTooltip=this._tooltip,this._updateTooltip(),this._map.on("mousemove",this._onMouseMove,this).on("touchmove",
this._onMouseMove,this).on("MSPointerMove",this._onMouseMove,this).on(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},removeHooks:function(){this._map&&(this._featureGroup.eachLayer(this._disableLayerEdit,this),this._uneditedLayerProps={},this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this).off("touchmove",this._onMouseMove,this).off("MSPointerMove",this._onMouseMove,this).off(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},revertLayers:function(){this._featureGroup.eachLayer(function(a){this._revertLayer(a)},
this)},save:function(){var a=new L.LayerGroup;this._featureGroup.eachLayer(function(e){e.edited&&(a.addLayer(e),e.edited=!1)});this._map.fire(L.Draw.Event.EDITED,{layers:a})},_backupLayer:function(a){var e=L.Util.stamp(a);this._uneditedLayerProps[e]||(a instanceof L.Polyline||a instanceof L.Polygon||a instanceof L.Rectangle?this._uneditedLayerProps[e]={latlngs:L.LatLngUtil.cloneLatLngs(a.getLatLngs())}:a instanceof L.Circle?this._uneditedLayerProps[e]={latlng:L.LatLngUtil.cloneLatLng(a.getLatLng()),
radius:a.getRadius()}:a instanceof L.Marker&&(this._uneditedLayerProps[e]={latlng:L.LatLngUtil.cloneLatLng(a.getLatLng())}))},_getTooltipText:function(){return{text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}},_updateTooltip:function(){this._tooltip.updateContent(this._getTooltipText())},_revertLayer:function(a){var e=L.Util.stamp(a);a.edited=!1;this._uneditedLayerProps.hasOwnProperty(e)&&(a instanceof L.Polyline||a instanceof L.Polygon||a instanceof
L.Rectangle?a.setLatLngs(this._uneditedLayerProps[e].latlngs):a instanceof L.Circle?(a.setLatLng(this._uneditedLayerProps[e].latlng),a.setRadius(this._uneditedLayerProps[e].radius)):a instanceof L.Marker&&a.setLatLng(this._uneditedLayerProps[e].latlng),a.fire("revert-edited",{layer:a}))},_enableLayerEdit:function(a){var e,c;a=a.layer||a.target||a;this._backupLayer(a);this.options.poly&&(c=L.Util.extend({},this.options.poly),a.options.poly=c);this.options.selectedPathOptions&&(e=L.Util.extend({},this.options.selectedPathOptions),
e.maintainColor&&(e.color=a.options.color,e.fillColor=a.options.fillColor),a.options.original=L.extend({},a.options),a.options.editing=e);a instanceof L.Marker?(a.editing&&a.editing.enable(),a.dragging.enable(),a.on("dragend",this._onMarkerDragEnd).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onMarkerDragEnd,this).on("MSPointerUp",this._onMarkerDragEnd,this)):a.editing.enable()},_disableLayerEdit:function(a){a=a.layer||a.target||a;a.edited=
!1;a.editing&&a.editing.disable();delete a.options.editing;delete a.options.original;this._selectedPathOptions&&(a instanceof L.Marker?this._toggleMarkerHighlight(a):(a.setStyle(a.options.previousOptions),delete a.options.previousOptions));a instanceof L.Marker?(a.dragging.disable(),a.off("dragend",this._onMarkerDragEnd,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onMarkerDragEnd,this).off("MSPointerUp",this._onMarkerDragEnd,this)):
a.editing.disable()},_onMouseMove:function(a){this._tooltip.updatePosition(a.latlng)},_onMarkerDragEnd:function(a){a=a.target;a.edited=!0;this._map.fire(L.Draw.Event.EDITMOVE,{layer:a})},_onTouchMove:function(a){var e=this._map.mouseEventToLayerPoint(a.originalEvent.changedTouches[0]),e=this._map.layerPointToLatLng(e);a.target.setLatLng(e)},_hasAvailableLayers:function(){return 0!==this._featureGroup.getLayers().length}});L.EditToolbar.Delete=L.Handler.extend({statics:{TYPE:"remove"},includes:L.Mixin.Events,
initialize:function(a,e){if(L.Handler.prototype.initialize.call(this,a),L.Util.setOptions(this,e),this._deletableLayers=this.options.featureGroup,!(this._deletableLayers instanceof L.FeatureGroup))throw Error("options.featureGroup must be a L.FeatureGroup");this.type=L.EditToolbar.Delete.TYPE},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DELETESTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._deletableLayers.on("layeradd",
this._enableLayerDelete,this).on("layerremove",this._disableLayerDelete,this))},disable:function(){this._enabled&&(this._deletableLayers.off("layeradd",this._enableLayerDelete,this).off("layerremove",this._disableLayerDelete,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DELETESTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var a=this._map;a&&(a.getContainer().focus(),this._deletableLayers.eachLayer(this._enableLayerDelete,this),
this._deletedLayers=new L.LayerGroup,this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.remove.tooltip.text}),this._map.on("mousemove",this._onMouseMove,this))},removeHooks:function(){this._map&&(this._deletableLayers.eachLayer(this._disableLayerDelete,this),this._deletedLayers=null,this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this))},revertLayers:function(){this._deletedLayers.eachLayer(function(a){this._deletableLayers.addLayer(a);
a.fire("revert-deleted",{layer:a})},this)},save:function(){this._map.fire(L.Draw.Event.DELETED,{layers:this._deletedLayers})},removeAllLayers:function(){this._deletableLayers.eachLayer(function(a){this._removeLayer({layer:a})},this);this.save()},_enableLayerDelete:function(a){(a.layer||a.target||a).on("click",this._removeLayer,this)},_disableLayerDelete:function(a){a=a.layer||a.target||a;a.off("click",this._removeLayer,this);this._deletedLayers.removeLayer(a)},_removeLayer:function(a){a=a.layer||
a.target||a;this._deletableLayers.removeLayer(a);this._deletedLayers.addLayer(a);a.fire("deleted")},_onMouseMove:function(a){this._tooltip.updatePosition(a.latlng)},_hasAvailableLayers:function(){return 0!==this._deletableLayers.getLayers().length}})}(window,document);
!function(c,f){L.Pattern=L.Class.extend({includes:[L.Mixin.Events],options:{x:0,y:0,width:8,height:8,patternUnits:"userSpaceOnUse",patternContentUnits:"userSpaceOnUse"},_addShapes:L.Util.falseFn,_update:L.Util.falseFn,initialize:function(c){this._shapes={};L.setOptions(this,c)},onAdd:function(c){this._map=c.target?c.target:c;this._map._initDefRoot();this._initDom();for(var a in this._shapes)this._shapes[a].onAdd(this);this._addShapes();this._addDom();this.redraw();this.getEvents&&this._map.on(this.getEvents(),
this);this.fire("add");this._map.fire("patternadd",{pattern:this})},onRemove:function(){this._removeDom()},redraw:function(){if(this._map){this._update();for(var c in this._shapes)this._shapes[c].redraw()}return this},setStyle:function(c){return L.setOptions(this,c),this._map&&(this._updateStyle(),this.redraw()),this},addTo:function(c){return c.addPattern(this),this},remove:function(){return this.removeFrom(this._map)},removeFrom:function(c){return c&&c.removePattern(this),this}});L.Map.addInitHook(function(){this._patterns=
{}});L.Map.include({addPattern:function(c){var a=L.stamp(c);return this._patterns[a]?c:(this._patterns[a]=c,this.whenReady(c.onAdd,c),this)},removePattern:function(c){var a=L.stamp(c);return this._patterns[a]?(this._loaded&&c.onRemove(this),c.getEvents&&this.off(c.getEvents(),c),delete this._patterns[a],this._loaded&&(this.fire("patternremove",{pattern:c}),c.fire("remove")),c._map=null,this):this},hasPattern:function(c){return!!c&&L.stamp(c)in this._patterns}});L.Pattern.SVG_NS="http://www.w3.org/2000/svg";
L.Pattern=L.Pattern.extend({_createElement:function(c){return f.createElementNS(L.Pattern.SVG_NS,c)},_initDom:function(){this._dom=this._createElement("pattern");this.options.className&&L.DomUtil.addClass(this._dom,this.options.className);this._updateStyle()},_addDom:function(){this._map._defRoot.appendChild(this._dom)},_removeDom:function(){L.DomUtil.remove(this._dom)},_updateStyle:function(){var c=this._dom,a=this.options;if(c){if(c.setAttribute("id",L.stamp(this)),c.setAttribute("x",a.x),c.setAttribute("y",
a.y),c.setAttribute("width",a.width),c.setAttribute("height",a.height),c.setAttribute("patternUnits",a.patternUnits),c.setAttribute("patternContentUnits",a.patternContentUnits),a.patternTransform||a.angle){var e=a.patternTransform?a.patternTransform+" ":"",e=e+(a.angle?"rotate("+a.angle+") ":"");c.setAttribute("patternTransform",e)}else c.removeAttribute("patternTransform");for(var f in this._shapes)this._shapes[f]._updateStyle()}}});L.Map.include({_initDefRoot:function(){if(!this._defRoot)if("function"==
typeof this.getRenderer){var c=this.getRenderer(this);this._defRoot=L.Pattern.prototype._createElement("defs");c._container.appendChild(this._defRoot)}else this._pathRoot||this._initPathRoot(),this._defRoot=L.Pattern.prototype._createElement("defs"),this._pathRoot.appendChild(this._defRoot)}});L.SVG?L.SVG.include({_superUpdateStyle:L.SVG.prototype._updateStyle,_updateStyle:function(c){this._superUpdateStyle(c);c.options.fill&&c.options.fillPattern&&c._path.setAttribute("fill","url(#"+L.stamp(c.options.fillPattern)+
")")}}):L.Path.include({_superUpdateStyle:L.Path.prototype._updateStyle,_updateStyle:function(){this._superUpdateStyle();this.options.fill&&this.options.fillPattern&&this._path.setAttribute("fill","url(#"+L.stamp(this.options.fillPattern)+")")}});L.StripePattern=L.Pattern.extend({options:{weight:4,spaceWeight:4,color:"#000000",spaceColor:"#ffffff",opacity:1,spaceOpacity:0},_addShapes:function(){this._stripe=new L.PatternPath({stroke:!0,weight:this.options.weight,color:this.options.color,opacity:this.options.opacity});
this._space=new L.PatternPath({stroke:!0,weight:this.options.spaceWeight,color:this.options.spaceColor,opacity:this.options.spaceOpacity});this.addShape(this._stripe);this.addShape(this._space);this._update()},_update:function(){this._stripe.options.d="M0 "+this._stripe.options.weight/2+" H "+this.options.width;this._space.options.d="M0 "+(this._stripe.options.weight+this._space.options.weight/2)+" H "+this.options.width},setStyle:L.Pattern.prototype.setStyle});L.stripePattern=function(c){return new L.StripePattern(c)};
L.PatternShape=L.Class.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",fillOpacity:.2,fillRule:"evenodd"},initialize:function(c){L.setOptions(this,c)},onAdd:function(c){this._pattern=c;this._pattern._dom&&(this._initDom(),this._addDom())},addTo:function(c){return c.addShape(this),this},redraw:function(){return this._pattern&&this._updateShape(),this},setStyle:function(c){return L.setOptions(this,c),this._pattern&&this._updateStyle(),this},setShape:function(c){this.options=
L.extend({},this.options,c);this._updateShape()}});L.Pattern.include({addShape:function(c){var a=L.stamp(c);return this._shapes[a]?c:(this._shapes[a]=c,c.onAdd(this),void 0)}});L.PatternShape.SVG_NS="http://www.w3.org/2000/svg";L.PatternShape=L.PatternShape.extend({_createElement:function(c){return f.createElementNS(L.PatternShape.SVG_NS,c)},_initDom:L.Util.falseFn,_updateShape:L.Util.falseFn,_initDomElement:function(c){this._dom=this._createElement(c);this.options.className&&L.DomUtil.addClass(this._dom,
this.options.className);this._updateStyle()},_addDom:function(){this._pattern._dom.appendChild(this._dom)},_updateStyle:function(){var c=this._dom,a=this.options;c&&(a.stroke?(c.setAttribute("stroke",a.color),c.setAttribute("stroke-opacity",a.opacity),c.setAttribute("stroke-width",a.weight),c.setAttribute("stroke-linecap",a.lineCap),c.setAttribute("stroke-linejoin",a.lineJoin),a.dashArray?c.setAttribute("stroke-dasharray",a.dashArray):c.removeAttribute("stroke-dasharray"),a.dashOffset?c.setAttribute("stroke-dashoffset",
a.dashOffset):c.removeAttribute("stroke-dashoffset")):c.setAttribute("stroke","none"),a.fill?(a.fillPattern?c.setAttribute("fill","url(#"+L.stamp(a.fillPattern)+")"):c.setAttribute("fill",a.fillColor||a.color),c.setAttribute("fill-opacity",a.fillOpacity),c.setAttribute("fill-rule",a.fillRule||"evenodd")):c.setAttribute("fill","none"),c.setAttribute("pointer-events",a.pointerEvents||(a.interactive?"visiblePainted":"none")))}});L.PatternPath=L.PatternShape.extend({_initDom:function(){this._initDomElement("path")},
_updateShape:function(){this._dom&&this._dom.setAttribute("d",this.options.d)}});L.PatternCircle=L.PatternShape.extend({options:{x:0,y:0,radius:0},_initDom:function(){this._initDomElement("circle")},_updateShape:function(){this._dom&&(this._dom.setAttribute("cx",this.options.x),this._dom.setAttribute("cy",this.options.y),this._dom.setAttribute("r",this.options.radius))}});L.PatternRect=L.PatternShape.extend({options:{x:0,y:0,width:10,height:10},_initDom:function(){this._initDomElement("rect")},_updateShape:function(){this._dom&&
(this._dom.setAttribute("x",this.options.x),this._dom.setAttribute("y",this.options.y),this._dom.setAttribute("width",this.options.width),this._dom.setAttribute("height",this.options.height),this.options.rx&&this._dom.setAttribute("rx",this.options.rx),this.options.ry&&this._dom.setAttribute("ry",this.options.ry))}})}(window,document);
!function(c,f){"object"==typeof exports&&"object"==typeof module?module.exports=f(require("leaflet")):"function"==typeof define&&define.amd?define(["leaflet"],f):"object"==typeof exports?exports["leaflet-ant-path"]=f(require("leaflet")):c["leaflet-ant-path"]=f(c.L)}(window,function(c){return function(c){function f(e){if(a[e])return a[e].exports;var h=a[e]={i:e,l:!1,exports:{}};return c[e].call(h.exports,h,h.exports,f),h.l=!0,h.exports}var a={};return f.m=c,f.c=a,f.d=function(a,c,b){f.o(a,c)||Object.defineProperty(a,
c,{configurable:!1,enumerable:!0,get:b})},f.r=function(a){Object.defineProperty(a,"__esModule",{value:!0})},f.n=function(a){var e=a&&a.__esModule?function(){return a["default"]}:function(){return a};return f.d(e,"a",e),e},f.o=function(a,c){return Object.prototype.hasOwnProperty.call(a,c)},f.p="",f(f.s=85)}([function(c,h,a){var e=a(3);c.exports=function(a){if(!e(a))throw TypeError(a+" is not an object!");return a}},function(c,h,a){var e=a(2),f=a(9),b=a(18),k=a(30),n=a(46),p=function(a,c,h){var l,q,
G=a&p.F;q=a&p.G;var t=a&p.S,D=a&p.P,F=a&p.B,t=q?e:t?e[c]||(e[c]={}):(e[c]||{}).prototype,M=q?f:f[c]||(f[c]={}),O=M.prototype||(M.prototype={});for(l in q&&(h=c),h)c=((q=!G&&t&&void 0!==t[l])?t:h)[l],q=F&&q?n(c,e):D&&"function"==typeof c?n(Function.call,c):c,t&&k(t,l,c,a&p.U),M[l]!=c&&b(M,l,q),D&&O[l]!=c&&(O[l]=c)};e.core=f;p.F=1;p.G=2;p.S=4;p.P=8;p.B=16;p.W=32;p.U=64;p.R=128;c.exports=p},function(c,h){var a=c.exports="undefined"!=typeof window&&Math==Math?window:"undefined"!=typeof self&&self.Math==
Math?self:Function("return this")();"number"==typeof __g&&(__g=a)},function(c,h){c.exports=function(a){return"object"==typeof a?null!==a:"function"==typeof a}},function(c,h){var a={}.hasOwnProperty;c.exports=function(e,c){return a.call(e,c)}},function(c,h,a){var e=a(0),f=a(48),b=a(17),k=Object.defineProperty;h.f=a(10)?Object.defineProperty:function(a,c,h){if(e(a),c=b(c,!0),e(h),f)try{return k(a,c,h)}catch(G){}if("get"in h||"set"in h)throw TypeError("Accessors not supported!");return"value"in h&&(a[c]=
h.value),a}},function(c,h){c.exports=function(a){try{return!!a()}catch(e){return!0}}},function(c,h,a){var e=a(22),f=a(13),b=a(11),k=a(17),n=a(4),p=a(48),q=Object.getOwnPropertyDescriptor;h.f=a(10)?q:function(a,c){if(a=b(a),c=k(c,!0),p)try{return q(a,c)}catch(r){}if(n(a,c))return f(!e.f.call(a,c),a[c])}},function(c,h,a){var e=a(29)("wks"),f=a(12),b=a(2).Symbol,k="function"==typeof b;(c.exports=function(a){return e[a]||(e[a]=k&&b[a]||(k?b:f)("Symbol."+a))}).store=e},function(c,h){var a=c.exports={version:"2.5.6"};
"number"==typeof __e&&(__e=a)},function(c,h,a){c.exports=!a(6)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(c,h,a){var e=a(79),f=a(42);c.exports=function(b){return e(f(b))}},function(c,h){var a=0,e=Math.random();c.exports=function(c){return"Symbol(".concat(void 0===c?"":c,")_",(++a+e).toString(36))}},function(c,h){c.exports=function(a,e){return{enumerable:!(1&a),configurable:!(2&a),writable:!(4&a),value:e}}},function(c,h,a){Object.defineProperty(h,"__esModule",
{value:!0});var e,f=(e=a(39))&&e.__esModule?e:{"default":e},b=Object.assign||function(b){for(var a=1;a<arguments.length;a++){var e=arguments[a],c;for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&(b[c]=e[c])}return b},k=function(){function b(b,a){for(var e=0;e<a.length;e++){var c=a[e];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(b,c.key,c)}}return function(a,e,c){return e&&b(a.prototype,e),c&&b(a,c),a}}(),n=a(15),p=Symbol("main"),q=Symbol("pulse");
a=function(a){function e(a){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");!0;var f;f=(e.__proto__||Object.getPrototypeOf(e)).call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");f=!f||"object"!=typeof f&&"function"!=typeof f?this:f;return f[p]=null,f[q]=null,f._map=null,f._path=null,f._animatedPathId=null,f._animatedPathClass="leaflet-ant-path",f._reversePathClass=
f._animatedPathClass+"__reverse",f._hardwareAccClass="hardware-acceleration",f._defaultOptions={paused:!1,reverse:!1,hardwareAcceleration:!1,renderer:(0,n.svg)(),delay:400,dashArray:[10,20],weight:5,opacity:.5,color:"#0000FF",pulseColor:"#FFFFFF"},n.Util.setOptions(f,b({},f._defaultOptions,c)),f._path=a,f._animatedPathId="ant-path-"+(new Date).getTime(),f._mount(),f}return function(b,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+
typeof a);b.prototype=Object.create(a&&a.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});a&&(Object.setPrototypeOf?Object.setPrototypeOf(b,a):b.__proto__=a)}(e,n.FeatureGroup),k(e,[{key:"map",value:function(a){return new (0,this.constructor[Symbol.species])(this._path.map(a),b({},this.options))}},{key:Symbol.iterator,value:f["default"].mark(function u(){return f["default"].wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.delegateYield(this._path,"t0",1);case 1:case "end":return b.stop()}},
u,this)})},{key:"_processOptions",value:function(){var a=this.options,e=this._animatedPathClass,c=this._reversePathClass,f=this._hardwareAccClass,h=this._animatedPathId,k=a.reverse,l=a.hardwareAcceleration,n=b({},a),q=b({},a);return q.color=q.pulseColor||a.pulseColor,q.className=[e,h,k?c:"",l?e+"__"+f:""].join(" "),delete n.dashArray,Array.isArray(q.dashArray)&&(q.dashArray=String(q.dashArray)),{pathOpts:n,pulseOpts:q}}},{key:"_mount",value:function(){var b=this._processOptions(),a=b.pulseOpts;this.addLayer(this[p]=
new n.Polyline(this._path,b.pathOpts));this.addLayer(this[q]=new n.Polyline(this._path,a))}},{key:"_calculateAnimationSpeed",value:function(){var b=this.options,a=this._map,e=this._animatedPathId;if(!b.paused&&a){var a=a.getZoom(),e=document.getElementsByClassName(e),c=1+b.delay/3/a+"s",f=["-webkit-","-moz-","-ms-","-o-",""].map(function(b){return b+"animation-duration: "+c}).join(";");Array.from(e,function(b){b.style.cssText=f;b.setAttribute("data-animated","true")})}}},{key:"_pureReverse",value:function(){var b=
this[q].getElement();b&&(this.options.reverse?b.classList.remove(this._reversePathClass):b.classList.add(this._reversePathClass))}},{key:"onAdd",value:function(b){return this._map=b,this._map.on("zoomend",this._calculateAnimationSpeed,this),this._mount(),this._calculateAnimationSpeed(),this}},{key:"onRemove",value:function(b){return this._map&&(this._map.off("zoomend",this._calculateAnimationSpeed,this),this._map=null),b&&b.removeLayer(this[p]).removeLayer(this[q]),this}},{key:"pause",value:function(){if(!this.options.paused){var b=
this[q].getElement();return this.options.paused=!0,b&&(b.removeAttribute("style"),b.setAttribute("data-animated","true")),!0}return!1}},{key:"resume",value:function(){var b=this.options;return!!b.paused&&(b.paused=!1,this._calculateAnimationSpeed(),!0)}},{key:"bringToFront",value:function(){return this[p].bringToFront(),this[q].bringToFront(),this}},{key:"bringToBack",value:function(){return this[q].bringToBack(),this[p].bringToBack(),this}},{key:"removeFrom",value:function(b){return b&&b.hasLayer(this)&&
b.removeLayer(this),this}},{key:"setStyle",value:function(a){var e=a.delay,c=a.reverse;a.paused?this.pause():this.resume();e!==this.options.delay&&(this.options.delay=e||this._defaultOptions.delay,this._calculateAnimationSpeed());void 0!==c&&c!==this.options.reverse&&this._pureReverse();this.options=b({},this.options,a);a=this._processOptions();e=a.pulseOpts;return this[p].setStyle(a.pathOpts),this[q].setStyle(e),this}},{key:"reverse",value:function(){return this._pureReverse(),this.options.reverse=
!this.options.reverse,this}},{key:"redraw",value:function(){return this[p].redraw(),this[q].redraw(),this}},{key:"addLatLng",value:function(){for(var b,a,e=arguments.length,c=Array(e),f=0;f<e;f++)c[f]=arguments[f];return this._path=[].concat(function(b){if(Array.isArray(b)){for(var a=0,e=Array(b.length);a<b.length;a++)e[a]=b[a];return e}return Array.from(b)}(this._path),[c]),(b=this[p]).addLatLng.apply(b,c),(a=this[q]).addLatLng.apply(a,c),this}},{key:"setLatLngs",value:function(){for(var b,a,e=arguments.length,
c=Array(e),f=0;f<e;f++)c[f]=arguments[f];return this._path=c,(b=this[p]).setLatLngs.apply(b,c),(a=this[q]).setLatLngs.apply(a,c),this}},{key:"getLatLngs",value:function(){return this[p].getLatLngs()}},{key:"spliceLatLngs",value:function(){var b,a,e=(b=this[p]).spliceLatLngs.apply(b,arguments);return(a=this[q]).spliceLatLngs.apply(a,arguments),e}},{key:"getBounds",value:function(){return this[p].getBounds()}},{key:"toGeoJSON",value:function(){return this[p].toGeoJSON()}},{key:Symbol.toStringTag,get:function(){return"L.Polyline.AntPath"}}],
[{key:Symbol.species,get:function(){return this}}]),e}();h["default"]=a;c.exports=h["default"]},function(f,h){f.exports=c},function(c,h){c.exports=function(a){if("function"!=typeof a)throw TypeError(a+" is not a function!");return a}},function(c,h,a){var e=a(3);c.exports=function(a,b){if(!e(a))return a;var c,f;if(b&&"function"==typeof(c=a.toString)&&!e(f=c.call(a))||"function"==typeof(c=a.valueOf)&&!e(f=c.call(a))||!b&&"function"==typeof(c=a.toString)&&!e(f=c.call(a)))return f;throw TypeError("Can't convert object to primitive value");
}},function(c,h,a){var e=a(5),f=a(13);c.exports=a(10)?function(b,a,c){return e.f(b,a,f(1,c))}:function(b,a,e){return b[a]=e,b}},function(c,h,a){var e=a(4),f=a(59),b=a(25)("IE_PROTO"),k=Object.prototype;c.exports=Object.getPrototypeOf||function(a){return a=f(a),e(a,b)?a[b]:"function"==typeof a.constructor&&a instanceof a.constructor?a.constructor.prototype:a instanceof Object?k:null}},function(c,h,a){var e=a(43),f=a(24).concat("length","prototype");h.f=Object.getOwnPropertyNames||function(b){return e(b,
f)}},function(c,h,a){var e=a(0),f=a(74),b=a(24),k=a(25)("IE_PROTO"),n=function(){},p=function(){var e;e=a(47)("iframe");var c=b.length;e.style.display="none";a(73).appendChild(e);e.src="javascript:";(e=e.contentWindow.document).open();e.write("<script>document.F=Object\x3c/script>");e.close();for(p=e.F;c--;)delete p.prototype[b[c]];return p()};c.exports=Object.create||function(b,a){var c;return null!==b?(n.prototype=e(b),c=new n,n.prototype=null,c[k]=b):c=p(),void 0===a?c:f(c,a)}},function(c,h){h.f=
{}.propertyIsEnumerable},function(c,h){h.f=Object.getOwnPropertySymbols},function(c,h){c.exports="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ")},function(c,h,a){var e=a(29)("keys"),f=a(12);c.exports=function(b){return e[b]||(e[b]=f(b))}},function(c,h){var a={}.toString;c.exports=function(e){return a.call(e).slice(8,-1)}},function(c,h,a){var e=a(43),f=a(24);c.exports=Object.keys||function(b){return e(b,f)}},function(c,h){c.exports=!1},function(c,
h,a){h=a(9);var e=a(2),f=e["__core-js_shared__"]||(e["__core-js_shared__"]={});(c.exports=function(b,a){return f[b]||(f[b]=void 0!==a?a:{})})("versions",[]).push({version:h.version,mode:a(28)?"pure":"global",copyright:"\u00a9 2018 Denis Pushkarev (zloirock.ru)"})},function(c,h,a){var e=a(2),f=a(18),b=a(4),k=a(12)("src"),n=Function.toString,p=(""+n).split("toString");a(9).inspectSource=function(b){return n.call(b)};(c.exports=function(a,c,h,l){var n="function"==typeof h;n&&(b(h,"name")||f(h,"name",
c));a[c]!==h&&(n&&(b(h,k)||f(h,k,a[c]?""+a[c]:p.join(String(c)))),a===e?a[c]=h:l?a[c]?a[c]=h:f(a,c,h):(delete a[c],f(a,c,h)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[k]||n.call(this)})},function(c,h){c.exports=function(a){var e="undefined"!=typeof window&&window.location;if(!e)throw Error("fixUrls requires window.location");if(!a||"string"!=typeof a)return a;var c=e.protocol+"//"+e.host,b=c+e.pathname.replace(/\/[^\/]*$/,"/");return a.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,
function(a,e){var f,h=e.trim().replace(/^"(.*)"$/,function(b,a){return a}).replace(/^'(.*)'$/,function(b,a){return a});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(h)?a:(f=0===h.indexOf("//")?h:0===h.indexOf("/")?c+h:b+h.replace(/^\.\//,""),"url("+JSON.stringify(f)+")")})}},function(c,h,a){function e(b,a){for(var e=0;e<b.length;e++){var c=b[e],f=u[c.id];if(f){f.refs++;for(var h=0;h<f.parts.length;h++)f.parts[h](c.parts[h]);for(;h<c.parts.length;h++)f.parts.push(q(c.parts[h],a))}else{f=
[];for(h=0;h<c.parts.length;h++)f.push(q(c.parts[h],a));u[c.id]={id:c.id,refs:1,parts:f}}}}function f(b,a){for(var e=[],c={},f=0;f<b.length;f++){var h=b[f],k=a.base?h[0]+a.base:h[0],h={css:h[1],media:h[2],sourceMap:h[3]};c[k]?c[k].parts.push(h):e.push(c[k]={id:k,parts:[h]})}return e}function b(b,a){var e=N(b.insertInto);if(!e)throw Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var c=M[M.length-1];if("top"===b.insertAt)c?c.nextSibling?
e.insertBefore(a,c.nextSibling):e.appendChild(a):e.insertBefore(a,e.firstChild),M.push(a);else if("bottom"===b.insertAt)e.appendChild(a);else{if("object"!=typeof b.insertAt||!b.insertAt.before)throw Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");c=N(b.insertInto+" "+b.insertAt.before);e.insertBefore(a,c)}}function k(b){if(null===b.parentNode)return!1;
b.parentNode.removeChild(b);b=M.indexOf(b);0<=b&&M.splice(b,1)}function n(a){var e=document.createElement("style");return void 0===a.attrs.type&&(a.attrs.type="text/css"),p(e,a.attrs),b(a,e),e}function p(b,a){Object.keys(a).forEach(function(e){b.setAttribute(e,a[e])})}function q(a,e){var c,f,h,l;if(e.transform&&a.css){if(!(l=e.transform(a.css)))return function(){};a.css=l}e.singleton?(l=F++,c=D||(D=n(e)),f=G.bind(null,c,l,!1),h=G.bind(null,c,l,!0)):a.sourceMap&&"function"==typeof URL&&"function"==
typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(c=function(a){var e=document.createElement("link");return void 0===a.attrs.type&&(a.attrs.type="text/css"),a.attrs.rel="stylesheet",p(e,a.attrs),b(a,e),e}(e),f=function(b,a,e){var c=e.css;e=e.sourceMap;var f=void 0===a.convertToAbsoluteUrls&&e;(a.convertToAbsoluteUrls||f)&&(c=O(c));e&&(c+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+
" */");a=new Blob([c],{type:"text/css"});c=b.href;b.href=URL.createObjectURL(a);c&&URL.revokeObjectURL(c)}.bind(null,c,e),h=function(){k(c);c.href&&URL.revokeObjectURL(c.href)}):(c=n(e),f=function(b,a){var e=a.css,c=a.media;c&&b.setAttribute("media",c);if(b.styleSheet)b.styleSheet.cssText=e;else{for(;b.firstChild;)b.removeChild(b.firstChild);b.appendChild(document.createTextNode(e))}}.bind(null,c),h=function(){k(c)});return f(a),function(b){b?b.css===a.css&&b.media===a.media&&b.sourceMap===a.sourceMap||
f(a=b):h()}}function G(b,a,e,c){e=e?"":c.css;b.styleSheet?b.styleSheet.cssText=v(a,e):(e=document.createTextNode(e),c=b.childNodes,c[a]&&b.removeChild(c[a]),c.length?b.insertBefore(e,c[a]):b.appendChild(e))}var t,r,u={},w=(t=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===r&&(r=t.apply(this,arguments)),r}),N=function(b){var a={};return function(b){if("function"==typeof b)return b();if(void 0===a[b]){var e=document.querySelector(b);if(window.HTMLIFrameElement&&
e instanceof window.HTMLIFrameElement)try{e=e.contentDocument.head}catch(ja){e=null}a[b]=e}return a[b]}}(),D=null,F=0,M=[],O=a(31);c.exports=function(b,a){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw Error("The style-loader cannot be used in a non-browser environment");(a=a||{}).attrs="object"==typeof a.attrs?a.attrs:{};a.singleton||"boolean"==typeof a.singleton||(a.singleton=w());a.insertInto||(a.insertInto="head");a.insertAt||(a.insertAt="bottom");var c=f(b,a);return e(c,
a),function(b){for(var h=[],k=0;k<c.length;k++)(l=u[c[k].id]).refs--,h.push(l);b&&e(f(b,a),a);for(k=0;k<h.length;k++){var l;if(0===(l=h[k]).refs){for(b=0;b<l.parts.length;b++)l.parts[b]();delete u[l.id]}}}};var P,v=(P=[],function(b,a){return P[b]=a,P.filter(Boolean).join("\n")})},function(c,h){c.exports=function(a){var e=[];return e.toString=function(){return this.map(function(e){var b=function(b,a){var e=b[1]||"",c=b[3];if(!c)return e;if(a&&"function"==typeof btoa){var f=(h=c,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+
btoa(unescape(encodeURIComponent(JSON.stringify(h))))+" */"),h=c.sources.map(function(b){return"/*# sourceURL="+c.sourceRoot+b+" */"});return[e].concat(h).concat([f]).join("\n")}var h;return""+e}(e,a);return e[2]?"@media "+e[2]+"{"+b+"}":b}).join("")},e.i=function(a,b){"string"==typeof a&&(a=[[null,a,""]]);for(var c={},f=0;f<this.length;f++){var h=this[f][0];"number"==typeof h&&(c[h]=!0)}for(f=0;f<a.length;f++)h=a[f],"number"==typeof h[0]&&c[h[0]]||(b&&!h[2]?h[2]=b:b&&(h[2]="("+h[2]+") and ("+b+")"),
e.push(h))},e}},function(c,h,a){(c.exports=a(33)(!1)).push([c.i,"@-webkit-keyframes leaflet-ant-path-animation {\n  from {\n    stroke-dashoffset: 100%; }\n  to {\n    stroke-dashoffset: 0%; } }\n\n@-moz-keyframes leaflet-ant-path-animation {\n  from {\n    stroke-dashoffset: 100%; }\n  to {\n    stroke-dashoffset: 0%; } }\n\n@-ms-keyframes leaflet-ant-path-animation {\n  from {\n    stroke-dashoffset: 100%; }\n  to {\n    stroke-dashoffset: 0%; } }\n\n@-o-keyframes leaflet-ant-path-animation {\n  from {\n    stroke-dashoffset: 100%; }\n  to {\n    stroke-dashoffset: 0%; } }\n\n@keyframes leaflet-ant-path-animation {\n  from {\n    stroke-dashoffset: 100%; }\n  to {\n    stroke-dashoffset: 0%; } }\n\npath.leaflet-ant-path {\n  fill: none;\n  -webkit-animation: linear infinite leaflet-ant-path-animation;\n  -moz-animation: linear infinite leaflet-ant-path-animation;\n  -ms-animation: linear infinite leaflet-ant-path-animation;\n  -o-animation: linear infinite leaflet-ant-path-animation;\n  animation: linear infinite leaflet-ant-path-animation; }\n  path.leaflet-ant-path__hardware-acceleration {\n    -webkit-transform: translateZ(0);\n    -moz-transform: translateZ(0);\n    -ms-transform: translateZ(0);\n    -o-transform: translateZ(0);\n    transform: translateZ(0); }\n  path.leaflet-ant-path__reverse {\n    -webkit-animation-direction: reverse;\n    -moz-animation-direction: reverse;\n    -ms-animation-direction: reverse;\n    -o-animation-direction: reverse;\n    animation-direction: reverse; }\n",
""])},function(c,h,a){h=a(34);"string"==typeof h&&(h=[[c.i,h,""]]);a(32)(h,{hmr:!0,transform:void 0,insertInto:void 0});h.locals&&(c.exports=h.locals)},function(c,h,a){Object.defineProperty(h,"__esModule",{value:!0});var e,f=(e=a(14))&&e.__esModule?e:{"default":e};h["default"]=function(b,a){return Reflect.construct(f["default"],[b,a])};c.exports=h["default"]},function(c,h){!function(a){function e(a,e,c,h){e=Object.create((e&&e.prototype instanceof b?e:b).prototype);h=new u(h||[]);return e._invoke=
function(b,a,e){var c=Z;return function(h,k){if(c===ja)throw Error("Generator is already running");if(c===aa){if("throw"===h)throw k;return N()}e.method=h;for(e.arg=k;;){var l=e.delegate;if(l&&(l=G(l,e))){if(l===C)continue;return l}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(c===Z)throw c=aa,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);c=ja;l=f(b,a,e);if("normal"===l.type){if(c=e.done?aa:S,l.arg===C)continue;return{value:l.arg,done:e.done}}"throw"===
l.type&&(c=aa,e.method="throw",e.arg=l.arg)}}}(a,c,h),e}function f(b,a,e){try{return{type:"normal",arg:b.call(a,e)}}catch(I){return{type:"throw",arg:I}}}function b(){}function h(){}function n(){}function p(b){["next","throw","return"].forEach(function(a){b[a]=function(b){return this._invoke(a,b)}})}function q(b){var a;this._invoke=function(e,c){function h(){return new Promise(function(a,h){!function ea(a,e,c,h){a=f(b[a],b,e);if("throw"!==a.type){var k=a.arg;return(a=k.value)&&"object"==typeof a&&
M.call(a,"__await")?Promise.resolve(a.__await).then(function(b){ea("next",b,c,h)},function(b){ea("throw",b,c,h)}):Promise.resolve(a).then(function(b){k.value=b;c(k)},h)}h(a.arg)}(e,c,a,h)})}return a=a?a.then(h,h):h()}}function G(b,a){var e=b.iterator[a.method];if(e===D){if(a.delegate=null,"throw"===a.method){if(b.iterator["return"]&&(a.method="return",a.arg=D,G(b,a),"throw"===a.method))return C;a.method="throw";a.arg=new TypeError("The iterator does not provide a 'throw' method")}return C}e=f(e,b.iterator,
a.arg);return"throw"===e.type?(a.method="throw",a.arg=e.arg,a.delegate=null,C):(e=e.arg)?e.done?(a[b.resultName]=e.value,a.next=b.nextLoc,"return"!==a.method&&(a.method="next",a.arg=D),a.delegate=null,C):e:(a.method="throw",a.arg=new TypeError("iterator result is not an object"),a.delegate=null,C)}function t(b){var a={tryLoc:b[0]};1 in b&&(a.catchLoc=b[1]);2 in b&&(a.finallyLoc=b[2],a.afterLoc=b[3]);this.tryEntries.push(a)}function r(b){var a=b.completion||{};a.type="normal";delete a.arg;b.completion=
a}function u(b){this.tryEntries=[{tryLoc:"root"}];b.forEach(t,this);this.reset(!0)}function w(b){if(b){var a=b[P];if(a)return a.call(b);if("function"==typeof b.next)return b;if(!isNaN(b.length)){var e=-1,a=function ka(){for(;++e<b.length;)if(M.call(b,e))return ka.value=b[e],ka.done=!1,ka;return ka.value=D,ka.done=!0,ka};return a.next=a}}return{next:N}}function N(){return{value:D,done:!0}}var D,F=Object.prototype,M=F.hasOwnProperty,O="function"==typeof Symbol?Symbol:{},P=O.iterator||"@@iterator",v=
O.asyncIterator||"@@asyncIterator",J=O.toStringTag||"@@toStringTag",O="object"==typeof c,R=a.regeneratorRuntime;if(R)O&&(c.exports=R);else{(R=a.regeneratorRuntime=O?c.exports:{}).wrap=e;var Z="suspendedStart",S="suspendedYield",ja="executing",aa="completed",C={};a={};a[P]=function(){return this};(O=(O=Object.getPrototypeOf)&&O(O(w([]))))&&O!==F&&M.call(O,P)&&(a=O);var da=n.prototype=b.prototype=Object.create(a);h.prototype=da.constructor=n;n.constructor=h;n[J]=h.displayName="GeneratorFunction";R.isGeneratorFunction=
function(b){b="function"==typeof b&&b.constructor;return!!b&&(b===h||"GeneratorFunction"===(b.displayName||b.name))};R.mark=function(b){return Object.setPrototypeOf?Object.setPrototypeOf(b,n):(b.__proto__=n,J in b||(b[J]="GeneratorFunction")),b.prototype=Object.create(da),b};R.awrap=function(b){return{__await:b}};p(q.prototype);q.prototype[v]=function(){return this};R.AsyncIterator=q;R.async=function(b,a,c,f){var h=new q(e(b,a,c,f));return R.isGeneratorFunction(a)?h:h.next().then(function(b){return b.done?
b.value:h.next()})};p(da);da[J]="Generator";da[P]=function(){return this};da.toString=function(){return"[object Generator]"};R.keys=function(b){var a=[],e;for(e in b)a.push(e);return a.reverse(),function ka(){for(;a.length;){var e=a.pop();if(e in b)return ka.value=e,ka.done=!1,ka}return ka.done=!0,ka}};R.values=w;u.prototype={constructor:u,reset:function(b){if(this.prev=0,this.next=0,this.sent=this._sent=D,this.done=!1,this.delegate=null,this.method="next",this.arg=D,this.tryEntries.forEach(r),!b)for(var a in this)"t"===
a.charAt(0)&&M.call(this,a)&&!isNaN(+a.slice(1))&&(this[a]=D)},stop:function(){this.done=!0;var b=this.tryEntries[0].completion;if("throw"===b.type)throw b.arg;return this.rval},dispatchException:function(b){function a(a,c){return h.type="throw",h.arg=b,e.next=a,c&&(e.method="next",e.arg=D),!!c}if(this.done)throw b;for(var e=this,c=this.tryEntries.length-1;0<=c;--c){var f=this.tryEntries[c],h=f.completion;if("root"===f.tryLoc)return a("end");if(f.tryLoc<=this.prev){var k=M.call(f,"catchLoc"),l=M.call(f,
"finallyLoc");if(k&&l){if(this.prev<f.catchLoc)return a(f.catchLoc,!0);if(this.prev<f.finallyLoc)return a(f.finallyLoc)}else if(k){if(this.prev<f.catchLoc)return a(f.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<f.finallyLoc)return a(f.finallyLoc)}}}},abrupt:function(b,a){for(var e=this.tryEntries.length-1;0<=e;--e){var c=this.tryEntries[e];if(c.tryLoc<=this.prev&&M.call(c,"finallyLoc")&&this.prev<c.finallyLoc){var f=c;break}}f&&("break"===b||"continue"===
b)&&f.tryLoc<=a&&a<=f.finallyLoc&&(f=null);e=f?f.completion:{};return e.type=b,e.arg=a,f?(this.method="next",this.next=f.finallyLoc,C):this.complete(e)},complete:function(b,a){if("throw"===b.type)throw b.arg;return"break"===b.type||"continue"===b.type?this.next=b.arg:"return"===b.type?(this.rval=this.arg=b.arg,this.method="return",this.next="end"):"normal"===b.type&&a&&(this.next=a),C},finish:function(b){for(var a=this.tryEntries.length-1;0<=a;--a){var e=this.tryEntries[a];if(e.finallyLoc===b)return this.complete(e.completion,
e.afterLoc),r(e),C}},"catch":function(b){for(var a=this.tryEntries.length-1;0<=a;--a){var e=this.tryEntries[a];if(e.tryLoc===b){b=e.completion;if("throw"===b.type){var c=b.arg;r(e)}return c}}throw Error("illegal catch attempt");},delegateYield:function(b,a,e){return this.delegate={iterator:w(b),resultName:a,nextLoc:e},"next"===this.method&&(this.arg=D),C}}}}(function(){return this}()||Function("return this")())},function(c,h,a){h=function(){return this}()||Function("return this")();var e=h.regeneratorRuntime&&
0<=Object.getOwnPropertyNames(h).indexOf("regeneratorRuntime"),f=e&&h.regeneratorRuntime;if(h.regeneratorRuntime=void 0,c.exports=a(37),e)h.regeneratorRuntime=f;else try{delete h.regeneratorRuntime}catch(b){h.regeneratorRuntime=void 0}},function(c,h,a){c.exports=a(38)},function(c,h,a){function e(b){return b&&b.__esModule?b:{"default":b}}Object.defineProperty(h,"__esModule",{value:!0});h.antPath=h.AntPath=void 0;var f=a(15),b=e(a(14)),k=e(a(36));a(35);f.Polyline.AntPath=b["default"];f.polyline.antPath=
k["default"];c.exports={AntPath:b["default"],antPath:k["default"]};h.AntPath=b["default"];h.antPath=k["default"]},function(c,h){var a=Math.ceil,e=Math.floor;c.exports=function(c){return isNaN(c=+c)?0:(0<c?e:a)(c)}},function(c,h){c.exports=function(a){if(void 0==a)throw TypeError("Can't call method on  "+a);return a}},function(c,h,a){var e=a(4),f=a(11),b=a(78)(!1),k=a(25)("IE_PROTO");c.exports=function(a,c){var h,l=f(a),n=0,p=[];for(h in l)h!=k&&e(l,h)&&p.push(h);for(;c.length>n;)e(l,h=c[n++])&&(~b(p,
h)||p.push(h));return p}},function(c,h,a){h.f=a(8)},function(c,h,a){var e=a(5).f,f=a(4),b=a(8)("toStringTag");c.exports=function(a,c,h){a&&!f(a=h?a:a.prototype,b)&&e(a,b,{configurable:!0,value:c})}},function(c,h,a){var e=a(16);c.exports=function(a,b,c){if(e(a),void 0===b)return a;switch(c){case 1:return function(e){return a.call(b,e)};case 2:return function(e,c){return a.call(b,e,c)};case 3:return function(e,c,f){return a.call(b,e,c,f)}}return function(){return a.apply(b,arguments)}}},function(){},function(c,h,a){c.exports=!a(10)&&!a(6)(function(){return 7!=Object.defineProperty(a(47)("div"),"a",{get:function(){return 7}}).a})},function(c,h,a){var e=a(3),f=a(0),b=function(b,a){if(f(b),!e(a)&&null!==a)throw TypeError(a+": can't set as prototype!");};c.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,c,f){try{(f=a(46)(Function.call,a(7).f(Object.prototype,"__proto__").set,
2))(e,[]),c=!(e instanceof Array)}catch(q){c=!0}return function(a,e){return b(a,e),c?a.__proto__=e:f(a,e),a}}({},!1):void 0),check:b}},function(c,h,a){c=a(1);var e=a(49);e&&c(c.S,"Reflect",{setPrototypeOf:function(a,b){e.check(a,b);try{return e.set(a,b),!0}catch(k){return!1}}})},function(c,h,a){var e=a(5),f=a(7),b=a(19),k=a(4);c=a(1);var n=a(13),p=a(0),q=a(3);c(c.S,"Reflect",{set:function t(a,c,h){var l,r=4>arguments.length?a:arguments[3];l=f.f(p(a),c);if(!l){if(q(l=b(a)))return t(l,c,h,r);l=n(0)}if(k(l,
"value")){if(!1===l.writable||!q(r))return!1;if(l=f.f(r,c)){if(l.get||l.set||!1===l.writable)return!1;l.value=h;e.f(r,c,l)}else e.f(r,c,n(0,h));return!0}return void 0!==l.set&&(l.set.call(r,h),!0)}})},function(c,h,a){c=a(1);var e=a(0),f=Object.preventExtensions;c(c.S,"Reflect",{preventExtensions:function(b){e(b);try{return f&&f(b),!0}catch(k){return!1}}})},function(c,h,a){var e=a(20),f=a(23),b=a(0);h=a(2).Reflect;c.exports=h&&h.ownKeys||function(a){var c=e.f(b(a)),h=f.f;return h?c.concat(h(a)):c}},
function(c,h,a){c=a(1);c(c.S,"Reflect",{ownKeys:a(53)})},function(c,h,a){c=a(1);var e=a(0),f=Object.isExtensible;c(c.S,"Reflect",{isExtensible:function(b){return e(b),!f||f(b)}})},function(c,h,a){c=a(1);c(c.S,"Reflect",{has:function(a,c){return c in a}})},function(c,h,a){c=a(1);var e=a(19),f=a(0);c(c.S,"Reflect",{getPrototypeOf:function(b){return e(f(b))}})},function(c,h,a){var e=a(7);c=a(1);var f=a(0);c(c.S,"Reflect",{getOwnPropertyDescriptor:function(b,a){return e.f(f(b),a)}})},function(c,h,a){var e=
a(42);c.exports=function(a){return Object(e(a))}},function(c,h,a){var e=a(7),f=a(19),b=a(4);c=a(1);var k=a(3),n=a(0);c(c.S,"Reflect",{get:function q(a,c){var h,l,G=3>arguments.length?a:arguments[2];return n(a)===G?a[c]:(h=e.f(a,c))?b(h,"value")?h.value:void 0!==h.get?h.get.call(G):void 0:k(l=f(a))?q(l,c,G):void 0}})},function(c,h,a){var e=a(21),f=a(13),b=a(45),k={};a(18)(k,a(8)("iterator"),function(){return this});c.exports=function(a,c,h){a.prototype=e(k,{next:f(1,h)});b(a,c+" Iterator")}},function(c,
h,a){c=a(1);var e=a(0),f=function(b){this._t=e(b);this._i=0;var a,c=this._k=[];for(a in b)c.push(a)};a(61)(f,"Object",function(){var a,e=this._k;do if(this._i>=e.length)return{value:void 0,done:!0};while(!((a=e[this._i++])in this._t));return{value:a,done:!1}});c(c.S,"Reflect",{enumerate:function(a){return new f(a)}})},function(c,h,a){c=a(1);var e=a(7).f,f=a(0);c(c.S,"Reflect",{deleteProperty:function(a,c){var b=e(f(a),c);return!(b&&!b.configurable)&&delete a[c]}})},function(c,h,a){var e=a(5);c=a(1);
var f=a(0),b=a(17);c(c.S+c.F*a(6)(function(){Reflect.defineProperty(e.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(a,c,h){f(a);c=b(c,!0);f(h);try{return e.f(a,c,h),!0}catch(q){return!1}}})},function(c,h){c.exports=function(a,e,c){var b=void 0===c;switch(e.length){case 0:return b?a():a.call(c);case 1:return b?a(e[0]):a.call(c,e[0]);case 2:return b?a(e[0],e[1]):a.call(c,e[0],e[1]);case 3:return b?a(e[0],e[1],e[2]):a.call(c,e[0],e[1],e[2]);case 4:return b?a(e[0],e[1],e[2],e[3]):
a.call(c,e[0],e[1],e[2],e[3])}return a.apply(c,e)}},function(c,h,a){var e=a(16),f=a(3),b=a(65),k=[].slice,n={};c.exports=Function.bind||function(a){var c=e(this),h=k.call(arguments,1),l=function(){var e=h.concat(k.call(arguments)),f;if(this instanceof l){f=c;var p=e.length;if(!(p in n)){for(var q=[],G=0;G<p;G++)q[G]="a["+G+"]";n[p]=Function("F,a","return new F("+q.join(",")+")")}f=n[p](f,e)}else f=b(c,e,a);return f};return f(c.prototype)&&(l.prototype=c.prototype),l}},function(c,h,a){c=a(1);var e=
a(21),f=a(16),b=a(0),k=a(3);h=a(6);var n=a(66),p=(a(2).Reflect||{}).construct,q=h(function(){function a(){}return!(p(function(){},[],a)instanceof a)}),G=!h(function(){p(function(){})});c(c.S+c.F*(q||G),"Reflect",{construct:function(a,c){f(a);b(c);var h=3>arguments.length?a:f(arguments[2]);if(G&&!q)return p(a,c,h);if(a==h){switch(c.length){case 0:return new a;case 1:return new a(c[0]);case 2:return new a(c[0],c[1]);case 3:return new a(c[0],c[1],c[2]);case 4:return new a(c[0],c[1],c[2],c[3])}h=[null];
return h.push.apply(h,c),new (n.apply(a,h))}var h=h.prototype,h=e(k(h)?h:Object.prototype),l=Function.apply.call(a,h,c);return k(l)?l:h}})},function(c,h,a){c=a(1);var e=a(16),f=a(0),b=(a(2).Reflect||{}).apply,k=Function.apply;c(c.S+c.F*!a(6)(function(){b(function(){})}),"Reflect",{apply:function(a,c,h){a=e(a);h=f(h);return b?b(a,c,h):k.call(a,c,h)}})},function(c,h,a){a(68);a(67);a(64);a(63);a(62);a(60);a(58);a(57);a(56);a(55);a(54);a(52);a(51);a(50);c.exports=a(9).Reflect},function(c,h,a){var e=a(26),
f=a(8)("toStringTag"),b="Arguments"==e(function(){return arguments}());c.exports=function(a){var c,h;if(void 0===a)c="Undefined";else{var k;if(null===a)k="Null";else{a:{var l=a=Object(a);try{k=l[f];break a}catch(t){}k=void 0}k="string"==typeof(c=k)?c:b?e(a):"Object"==(h=e(a))&&"function"==typeof a.callee?"Arguments":h}c=k}return c}},function(c,h,a){var e=a(70);c={};c[a(8)("toStringTag")]="z";"[object z]"!=c+""&&a(30)(Object.prototype,"toString",function(){return"[object "+e(this)+"]"},!0)},function(c,
h,a){var e=a(11),f=a(20).f,b={}.toString,k="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];c.exports.f=function(a){var c;if(k&&"[object Window]"==b.call(a))try{c=f(a)}catch(q){c=k.slice()}else c=f(e(a));return c}},function(){},function(c,h,a){var e=a(5),f=a(0),b=a(27);c.exports=a(10)?Object.defineProperties:function(a,c){f(a);for(var h,k=b(c),l=k.length,n=0;l>n;)e.f(a,h=k[n++],c[h]);return a}},function(c,
h,a){var e=a(26);c.exports=Array.isArray||function(a){return"Array"==e(a)}},function(c,h,a){var e=a(41),f=Math.max,b=Math.min;c.exports=function(a,c){return 0>(a=e(a))?f(a+c,0):b(a,c)}},function(c,h,a){var e=a(41),f=Math.min;c.exports=function(a){return 0<a?f(e(a),9007199254740991):0}},function(c,h,a){var e=a(11),f=a(77),b=a(76);c.exports=function(a){return function(c,h,k){var l;c=e(c);var n=f(c.length);k=b(k,n);if(a&&h!=h)for(;n>k;){if((l=c[k++])!=l)return!0}else for(;n>k;k++)if((a||k in c)&&c[k]===
h)return a||k||0;return!a&&-1}}},function(c,h,a){var e=a(26);c.exports=Object("z").propertyIsEnumerable(0)?Object:function(a){return"String"==e(a)?a.split(""):Object(a)}},function(c,h,a){var e=a(27),f=a(23),b=a(22);c.exports=function(a){var c=e(a),h=f.f;if(h)for(var k,h=h(a),l=b.f,t=0;h.length>t;)l.call(a,k=h[t++])&&c.push(k);return c}},function(c,h,a){var e=a(2),f=a(9),b=a(28),k=a(44),n=a(5).f;c.exports=function(a){var c=f.Symbol||(f.Symbol=b?{}:e.Symbol||{});"_"==a.charAt(0)||a in c||n(c,a,{value:k.f(a)})}},
function(c,h,a){var e=a(12)("meta"),f=a(3),b=a(4),k=a(5).f,n=0,p=Object.isExtensible||function(){return!0},q=!a(6)(function(){return p(Object.preventExtensions({}))}),G=function(a){k(a,e,{value:{i:"O"+ ++n,w:{}}})},t=c.exports={KEY:e,NEED:!1,fastKey:function(a,c){if(!f(a))return"symbol"==typeof a?a:("string"==typeof a?"S":"P")+a;if(!b(a,e)){if(!p(a))return"F";if(!c)return"E";G(a)}return a[e].i},getWeak:function(a,c){if(!b(a,e)){if(!p(a))return!0;if(!c)return!1;G(a)}return a[e].w},onFreeze:function(a){return q&&
t.NEED&&p(a)&&!b(a,e)&&G(a),a}}},function(c,h,a){c=a(2);var e=a(4),f=a(10);h=a(1);var b=a(30),k=a(82).KEY,n=a(6),p=a(29),q=a(45),G=a(12),t=a(8),r=a(44),u=a(81),w=a(80),N=a(75),D=a(0),F=a(3),M=a(11),O=a(17),P=a(13),v=a(21),J=a(72),R=a(7),Z=a(5),S=a(27),ja=R.f,aa=Z.f,C=J.f,da=c.Symbol,$a=c.JSON,qa=$a&&$a.stringify,ba=t("_hidden"),I=t("toPrimitive"),ka={}.propertyIsEnumerable,xa=p("symbol-registry"),Q=p("symbols"),la=p("op-symbols"),ea=Object.prototype,p="function"==typeof da,sa=c.QObject,Ra=!sa||!sa.prototype||
!sa.prototype.findChild,ta=f&&n(function(){return 7!=v(aa({},"a",{get:function(){return aa(this,"a",{value:7}).a}})).a})?function(a,b,c){var e=ja(ea,b);e&&delete ea[b];aa(a,b,c);e&&a!==ea&&aa(ea,b,e)}:aa,ab=function(a){var b=Q[a]=v(da.prototype);return b._k=a,b},ma=p&&"symbol"==typeof da.iterator?function(a){return"symbol"==typeof a}:function(a){return a instanceof da},Ia=function(a,b,c){return a===ea&&Ia(la,b,c),D(a),b=O(b,!0),D(c),e(Q,b)?(c.enumerable?(e(a,ba)&&a[ba][b]&&(a[ba][b]=!1),c=v(c,{enumerable:P(0,
!1)})):(e(a,ba)||aa(a,ba,P(1,{})),a[ba][b]=!0),ta(a,b,c)):aa(a,b,c)},Sa=function(a,b){D(a);for(var c,e=w(b=M(b)),f=0,h=e.length;h>f;)Ia(a,c=e[f++],b[c]);return a},Ta=function(a){var b=ka.call(this,a=O(a,!0));return!(this===ea&&e(Q,a)&&!e(la,a))&&(!(b||!e(this,a)||!e(Q,a)||e(this,ba)&&this[ba][a])||b)},sa=function(a,b){if(a=M(a),b=O(b,!0),a!==ea||!e(Q,b)||e(la,b)){var c=ja(a,b);return!c||!e(Q,b)||e(a,ba)&&a[ba][b]||(c.enumerable=!0),c}},ya=function(a){var b;a=C(M(a));for(var c=[],f=0;a.length>f;)e(Q,
b=a[f++])||b==ba||b==k||c.push(b);return c},Ua=function(a){var b,c=a===ea;a=C(c?la:M(a));for(var f=[],h=0;a.length>h;)!e(Q,b=a[h++])||c&&!e(ea,b)||f.push(Q[b]);return f};p||(b((da=function(){if(this instanceof da)throw TypeError("Symbol is not a constructor!");var a=G(0<arguments.length?arguments[0]:void 0),b=function(c){this===ea&&b.call(la,c);e(this,ba)&&e(this[ba],a)&&(this[ba][a]=!1);ta(this,a,P(1,c))};return f&&Ra&&ta(ea,a,{configurable:!0,set:b}),ab(a)}).prototype,"toString",function(){return this._k}),
R.f=sa,Z.f=Ia,a(20).f=J.f=ya,a(22).f=Ta,a(23).f=Ua,f&&!a(28)&&b(ea,"propertyIsEnumerable",Ta,!0),r.f=function(a){return ab(t(a))});h(h.G+h.W+h.F*!p,{Symbol:da});b="hasInstance isConcatSpreadable iterator match replace search species split toPrimitive toStringTag unscopables".split(" ");for(r=0;b.length>r;)t(b[r++]);S=S(t.store);for(b=0;S.length>b;)u(S[b++]);h(h.S+h.F*!p,"Symbol",{"for":function(a){return e(xa,a+="")?xa[a]:xa[a]=da(a)},keyFor:function(a){if(!ma(a))throw TypeError(a+" is not a symbol!");
for(var b in xa)if(xa[b]===a)return b},useSetter:function(){Ra=!0},useSimple:function(){Ra=!1}});h(h.S+h.F*!p,"Object",{create:function(a,b){return void 0===b?v(a):Sa(v(a),b)},defineProperty:Ia,defineProperties:Sa,getOwnPropertyDescriptor:sa,getOwnPropertyNames:ya,getOwnPropertySymbols:Ua});$a&&h(h.S+h.F*(!p||n(function(){var a=da();return"[null]"!=qa([a])||"{}"!=qa({a:a})||"{}"!=qa(Object(a))})),"JSON",{stringify:function(a){for(var b,c,e=[a],f=1;arguments.length>f;)e.push(arguments[f++]);if(c=b=
e[1],(F(b)||void 0!==a)&&!ma(a))return N(b)||(b=function(a,b){if("function"==typeof c&&(b=c.call(this,a,b)),!ma(b))return b}),e[1]=b,qa.apply($a,e)}});da.prototype[I]||a(18)(da.prototype,I,da.prototype.valueOf);q(da,"Symbol");q(Math,"Math",!0);q(c.JSON,"JSON",!0)},function(c,h,a){a(83);a(71);c.exports=a(9).Symbol},function(c,h,a){a(84);a(69);c.exports=a(40)}])});
L.Control.Measure=L.Control.extend({options:{position:"topleft",repeatMode:!0,shapeOptions:{weight:6}},onAdd:function(c){var f=L.DomUtil.create("div","leaflet-measure leaflet-draw-section");this._handler=new L.Draw.Polyline(c,this.options);this.gdata={layers:{}};this.jsongdata=this.shareLink="";this._map=c;this._measurementLayers=L.layerGroup().addTo(c);this._toolbarContainer=L.DomUtil.create("div","leaflet-bar");this._button=this._createButton({title:"Enter measurement mode",className:"leaflet-measure-button",
container:this._toolbarContainer,callback:this._enableMeasuring});this._actionsContainer=L.DomUtil.create("ul","leaflet-draw-actions");c=L.DomUtil.create("li","",this._actionsContainer);this._close=this._createButton({title:"Exit measurement mode",text:"Close",container:c,callback:this._disableMeasuring});this._close.style.display="block";this._share=this._createButton({title:"Share your vision",text:"Share",container:c,callback:this._doShare});this._share.style.display="block";f.appendChild(this._toolbarContainer);
f.appendChild(this._actionsContainer);this._drawPoints();return f},refresh:function(){this._measurementLayers=L.layerGroup().addTo(this._map);return!0},_drawPoints:function(){if(1<lineyka.length){var c=JSON.parse(lineyka);this.gdata.layers=c;this._measurementLayers=L.layerGroup().addTo(this._map);for(var f in c){var h=new L.Polyline(c[f],{stroke:!0,color:"#f06eaa",fill:!1,opacity:.5,weight:6,clickable:!0});this._measurementLayers.addLayer(h).addLayer(this._createLabel(h))}}},onRemove:function(){this._diposeButton(this._button,
this._enableMeasuring);this._diposeButton(this._close,this._disableMeasuring)},_enableMeasuring:function(){isDrawActived?($(".popup-box-measure").remove(),$("body").prepend('<div class="popup-box-measure"><div class="popup-bg"></div><div class="popup-info"><div class="popup-head"><h2>Info</h2><div class="popup-head-r"><a class="close_measure" href="#"></a></div></div><div class="popup-text"><span class="info_txt">Before use close other drawing!</span></div></div></div>')):this._handler.enabled()||
(this._handler.enable(),this._map.on("draw:created",this._onMeasured,this),isDrawActived=!0,this._showClose())},_disableMeasuring:function(){var c=!1;confirm("Clear map?")&&(c=!0);this.gdata={layers:{}};this._handler.disable();isDrawActived=!1;this._map.off("draw:created",this._onMeasured,this);isDrawActived=!1;c&&(this._measurementLayers.clearLayers(),this._drawPoints());this._hideClose()},_drawPopup:function(){$(".popup-box-measure").remove();var c='<div class="popup-box-measure"><div class="popup-bg"></div><div class="popup-info"><div class="popup-head"><h2>Url to share</h2><div class="popup-head-r"><label>Tell friends</label><a class="facebook-icon fb_sharemap" href="#"></a><a class="twitter-icon twi_sharemap" href="#"></a><a class="close_measure" href="#"></a></div></div><div class="popup-text"><input class="popup-input-measure" readonly type="text" value="'+
this.shareLink+'"></div></div></div>';$("body").prepend(c)},_doShare:function(){this.gdata.resource=resource_id;this.gdata.fv_first=$(".event").data("id");this.gdata.fv_last=$(".event:last").data("id");this.gdata.map_center=map.getCenter();this.gdata.globaltime=globaltime;this.gdata.curid=curid;this.gdata.zoom=map.getZoom();var c=drawnItems.getLayers();this.gdata.areas={};for(var f=0;f<c.length;f++)this.gdata.areas["layname_"+c[f]._leaflet_id]={latlngs:c[f].getLatLngs()[0],color:c[f].options.color};
if(JSON.stringify(this.gdata)!=this.jsongdata){this.jsongdata=JSON.stringify(this.gdata);var h=this;$.ajax({url:wwwpath+"ajax/do?act=shareMap",context:document.body,type:"POST",dataType:"JSON",data:"gdata="+this.jsongdata}).done(function(a){void 0!=a.link&&(h.shareLink=a.link,h._drawPopup())})}else this._drawPopup()},_createButton:function(c){var f=L.DomUtil.create("a",c.className||"",c.container);f.href="#";c.text&&(f.innerHTML=c.text);c.title&&(f.title=c.title);L.DomEvent.on(f,"click",L.DomEvent.stopPropagation).on(f,
"mousedown",L.DomEvent.stopPropagation).on(f,"dblclick",L.DomEvent.stopPropagation).on(f,"click",L.DomEvent.preventDefault).on(f,"click",c.callback,this);return f},_diposeButton:function(c,f){L.DomEvent.off(c,"click",L.DomEvent.stopPropagation).off(c,"mousedown",L.DomEvent.stopPropagation).off(c,"dblclick",L.DomEvent.stopPropagation).off(c,"click",L.DomEvent.preventDefault).off(c,"click",f,this)},_showClose:function(){L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-notop");L.DomUtil.addClass(this._actionsContainer,
"leaflet-draw-actions-top");L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom");L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-bottom");this._actionsContainer.style.display="block"},_hideClose:function(){L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-notop");L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-top");L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom");L.DomUtil.removeClass(this._actionsContainer,
"leaflet-draw-actions-bottom");this._actionsContainer.style.display="none"},_onMeasured:function(c){c=c.layer;c instanceof L.Polyline&&this._measurementLayers.addLayer(c).addLayer(this._createLabel(c))},_createLabel:function(c){var f=L.GeometryUtil.readableDistance(c.getDistance(),!0),h=c.getLatLngs(),a=h[h.length-1],f=L.divIcon({className:"leaflet-measure-tooltip-marker",iconSize:[0,0],iconAnchor:[6,-6],html:'<div class="leaflet-draw-tooltip" style="visibility: visible;"><span class="leaflet-draw-tooltip-subtext">'+
f+"</span><br><span></span></div>"}),a=L.marker(a,{icon:f});this.gdata.layers["layname_"+c._leaflet_id]=h;return a}});L.Polyline.include({getDistance:function(){for(var c=0,f=this._latlngs,h=f.length,a,e,l=1;l<h;l++)e=f[l-1],a=f[l],c+=a.distanceTo(e);return c}});L.Map.mergeOptions({measure:!1});L.Map.addInitHook(function(){this.options.measure&&(this.measure=L.Control.measure().addTo(this))});L.Control.measure=function(c){return new L.Control.Measure(c)};
!function(){function c(f){return this instanceof c?(this._canvas=f="string"==typeof f?document.getElementById(f):f,this._ctx=f.getContext("2d"),this._width=f.width,this._height=f.height,this._max=1,void this.clear()):new c(f)}c.prototype={defaultRadius:25,defaultGradient:{"0.4":"blue","0.6":"cyan","0.7":"lime","0.8":"yellow",1:"red"},data:function(c,h){return this._data=c,this},max:function(c){return this._max=c,this},add:function(c){return this._data.push(c),this},clear:function(){return this._data=
[],this},radius:function(c,h){h=h||15;var a=this._circle=document.createElement("canvas"),e=a.getContext("2d"),f=this._r=c+h;return a.width=a.height=2*f,e.shadowOffsetX=e.shadowOffsetY=200,e.shadowBlur=h,e.shadowColor="black",e.beginPath(),e.arc(f-200,f-200,c,0,2*Math.PI,!0),e.closePath(),e.fill(),this},gradient:function(c){var f=document.createElement("canvas"),a=f.getContext("2d"),e=a.createLinearGradient(0,0,0,256);f.width=1;f.height=256;for(var l in c)e.addColorStop(l,c[l]);return a.fillStyle=
e,a.fillRect(0,0,1,256),this._grad=a.getImageData(0,0,1,256).data,this},draw:function(c){this._circle||this.radius(this.defaultRadius);this._grad||this.gradient(this.defaultGradient);var f=this._ctx;f.clearRect(0,0,this._width,this._height);for(var a,e=0,l=this._data.length;l>e;e++)a=this._data[e],f.globalAlpha=Math.max(a[2]/this._max,c||.05),f.drawImage(this._circle,a[0]-this._r,a[1]-this._r);c=f.getImageData(0,0,this._width,this._height);return this._colorize(c.data,this._grad),f.putImageData(c,
0,0),this},_colorize:function(c,h){for(var a,e=3,f=c.length;f>e;e+=4)(a=4*c[e])&&(c[e-3]=h[a],c[e-2]=h[a+1],c[e-1]=h[a+2])}};window.simpleheat=c}();
L.HeatLayer=(L.Layer?L.Layer:L.Class).extend({initialize:function(c,f){this._latlngs=c;L.setOptions(this,f)},setLatLngs:function(c){return this._latlngs=c,this.redraw()},addLatLng:function(c){return this._latlngs.push(c),this.redraw()},setOptions:function(c){return L.setOptions(this,c),this._heat&&this._updateOptions(),this.redraw()},redraw:function(){return!this._heat||this._frame||this._map._animating||(this._frame=L.Util.requestAnimFrame(this._redraw,this)),this},onAdd:function(c){this._map=c;
this._canvas||this._initCanvas();c._panes.overlayPane.appendChild(this._canvas);c.on("moveend",this._reset,this);c.options.zoomAnimation&&L.Browser.any3d&&c.on("zoomanim",this._animateZoom,this);this._reset()},onRemove:function(c){c.getPanes().overlayPane.removeChild(this._canvas);c.off("moveend",this._reset,this);c.options.zoomAnimation&&c.off("zoomanim",this._animateZoom,this)},addTo:function(c){return c.addLayer(this),this},_initCanvas:function(){var c=this._canvas=L.DomUtil.create("canvas","leaflet-heatmap-layer leaflet-layer"),
f=L.DomUtil.testProp(["transformOrigin","WebkitTransformOrigin","msTransformOrigin"]);c.style[f]="50% 50%";f=this._map.getSize();c.width=f.x;c.height=f.y;L.DomUtil.addClass(c,"leaflet-zoom-"+(this._map.options.zoomAnimation&&L.Browser.any3d?"animated":"hide"));this._heat=simpleheat(c);this._updateOptions()},_updateOptions:function(){this._heat.radius(this.options.radius||this._heat.defaultRadius,this.options.blur);this.options.gradient&&this._heat.gradient(this.options.gradient);this.options.max&&
this._heat.max(this.options.max)},_reset:function(){var c=this._map.containerPointToLayerPoint([0,0]);L.DomUtil.setPosition(this._canvas,c);c=this._map.getSize();this._heat._width!==c.x&&(this._canvas.width=this._heat._width=c.x);this._heat._height!==c.y&&(this._canvas.height=this._heat._height=c.y);this._redraw()},_redraw:function(){var c,f,h,a,e,l,b,k,n=[],p=this._heat._r,q=this._map.getSize();b=new L.Bounds(L.point([-p,-p]),q.add([p,p]));q=void 0===this.options.max?1:this.options.max;c=void 0===
this.options.maxZoom?this._map.getMaxZoom():this.options.maxZoom;var G=1/Math.pow(2,Math.max(0,Math.min(c-this._map.getZoom(),12))),t=p/2,p=[];c=this._map._getMapPanePos();var r=c.x%t,u=c.y%t;c=0;for(f=this._latlngs.length;f>c;c++)if(h=this._map.latLngToContainerPoint(this._latlngs[c]),b.contains(h))e=Math.floor((h.x-r)/t)+2,l=Math.floor((h.y-u)/t)+2,k=(void 0!==this._latlngs[c].alt?this._latlngs[c].alt:void 0!==this._latlngs[c][2]?+this._latlngs[c][2]:1)*G,p[l]=p[l]||[],(a=p[l][e])?(a[0]=(a[0]*a[2]+
h.x*k)/(a[2]+k),a[1]=(a[1]*a[2]+h.y*k)/(a[2]+k),a[2]+=k):p[l][e]=[h.x,h.y,k];c=0;for(f=p.length;f>c;c++)if(p[c])for(h=0,b=p[c].length;b>h;h++)(a=p[c][h])&&n.push([Math.round(a[0]),Math.round(a[1]),Math.min(a[2],q)]);this._heat.data(n).draw(this.options.minOpacity);this._frame=null},_animateZoom:function(c){var f=this._map.getZoomScale(c.zoom);c=this._map._getCenterOffset(c.center)._multiplyBy(-f).subtract(this._map._getMapPanePos());L.DomUtil.setTransform?L.DomUtil.setTransform(this._canvas,c,f):
this._canvas.style[L.DomUtil.TRANSFORM]=L.DomUtil.getTranslateString(c)+" scale("+f+")"}});L.heatLayer=function(c,f){return new L.HeatLayer(c,f)};
L.Control.Hidenews=L.Control.extend({options:{position:"topleft",repeatMode:!0,shapeOptions:{weight:6}},onAdd:function(c){var f=L.DomUtil.create("div","leaflet-hidenews leaflet-draw-section");this._map=c;this._hidenewsmentLayers=L.layerGroup().addTo(c);this._toolbarContainer=L.DomUtil.create("div","leaflet-bar");this._button=this._createButton({title:"Hide news from the map",className:"leaflet-hidenews-button",container:this._toolbarContainer,callback:this._enableMeasuring});this._actionsContainer=
L.DomUtil.create("ul","leaflet-draw-actions");c=L.DomUtil.create("li","",this._actionsContainer);this._close=this._createButton({title:"Show news",text:"show",container:c,callback:this._disableMeasuring});this._close.style.display="block";f.appendChild(this._toolbarContainer);f.appendChild(this._actionsContainer);return f},onRemove:function(){this._diposeButton(this._button,this._enableMeasuring);this._diposeButton(this._close,this._disableMeasuring)},_enableMeasuring:function(){if(newsshow){newsshow=
!1;for(var c=0;c<markers.length;c++)map.removeLayer(markers[c].m);isMobile.any()||clearInterval(updater);removeFvObjs();this._showClose()}},_disableMeasuring:function(){newsshow=!0;dovenues2(ovens,!0);this._map.off("draw:created",this._onHidenewsd,this);this._hidenewsmentLayers.clearLayers();this._hideClose()},_createButton:function(c){var f=L.DomUtil.create("a",c.className||"",c.container);f.href="#";c.text&&(f.innerHTML=c.text);c.title&&(f.title=c.title);L.DomEvent.on(f,"click",L.DomEvent.stopPropagation).on(f,
"mousedown",L.DomEvent.stopPropagation).on(f,"dblclick",L.DomEvent.stopPropagation).on(f,"click",L.DomEvent.preventDefault).on(f,"click",c.callback,this);return f},_diposeButton:function(c,f){L.DomEvent.off(c,"click",L.DomEvent.stopPropagation).off(c,"mousedown",L.DomEvent.stopPropagation).off(c,"dblclick",L.DomEvent.stopPropagation).off(c,"click",L.DomEvent.preventDefault).off(c,"click",f,this)},_showClose:function(){L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-notop");L.DomUtil.addClass(this._actionsContainer,
"leaflet-draw-actions-top");L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom");L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-bottom");this._actionsContainer.style.display="block"},_hideClose:function(){L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-notop");L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-top");L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom");L.DomUtil.removeClass(this._actionsContainer,
"leaflet-draw-actions-bottom");this._actionsContainer.style.display="none"},_onHidenewsd:function(c){}});L.Map.mergeOptions({hidenews:!1});L.Map.addInitHook(function(){this.options.hidenews&&(this.hidenews=L.Control.hidenews().addTo(this))});L.Control.hidenews=function(c){return new L.Control.Hidenews(c)};
L.Control.MiniMap=L.Control.extend({options:{position:"bottomright",toggleDisplay:!1,zoomLevelOffset:-5,zoomLevelFixed:!1,zoomAnimation:!1,autoToggleDisplay:!1,width:150,height:150,aimingRectOptions:{color:"#ff7800",weight:1,clickable:!1},shadowRectOptions:{color:"#000000",weight:1,clickable:!1,opacity:0,fillOpacity:0}},hideText:"Hide MiniMap",showText:"Show MiniMap",initialize:function(c,f){L.Util.setOptions(this,f);this.options.aimingRectOptions.clickable=!1;this.options.shadowRectOptions.clickable=
!1;this._layer=c},onAdd:function(c){this._mainMap=c;this._container=L.DomUtil.create("div","leaflet-control-minimap");this._container.style.width=this.options.width+"px";this._container.style.height=this.options.height+"px";L.DomEvent.disableClickPropagation(this._container);L.DomEvent.on(this._container,"mousewheel",L.DomEvent.stopPropagation);this._miniMap=new L.Map(this._container,{attributionControl:!1,zoomControl:!1,zoomAnimation:this.options.zoomAnimation,autoToggleDisplay:this.options.autoToggleDisplay,
touchZoom:!this.options.zoomLevelFixed,scrollWheelZoom:!this.options.zoomLevelFixed,doubleClickZoom:!this.options.zoomLevelFixed,boxZoom:!this.options.zoomLevelFixed,crs:c.options.crs});this._miniMap.addLayer(this._layer);this._minimized=this._userToggledDisplay=this._miniMapMoving=this._mainMapMoving=!1;this.options.toggleDisplay&&this._addToggleButton();this._miniMap.whenReady(L.Util.bind(function(){this._aimingRect=L.rectangle(this._mainMap.getBounds(),this.options.aimingRectOptions).addTo(this._miniMap);
this._shadowRect=L.rectangle(this._mainMap.getBounds(),this.options.shadowRectOptions).addTo(this._miniMap);this._mainMap.on("moveend",this._onMainMapMoved,this);this._mainMap.on("move",this._onMainMapMoving,this);this._miniMap.on("movestart",this._onMiniMapMoveStarted,this);this._miniMap.on("move",this._onMiniMapMoving,this);this._miniMap.on("moveend",this._onMiniMapMoved,this)},this));return this._container},addTo:function(c){L.Control.prototype.addTo.call(this,c);this._miniMap.setView(this._mainMap.getCenter(),
this._decideZoom(!0));this._setDisplay(this._decideMinimized());0==Cookies.get("isOpenMinimap")&&this._minimize();return this},invalidateSize:function(){this._miniMap.invalidateSize();this._miniMap.panTo(this._mainMap.getCenter())},onRemove:function(c){this._mainMap.off("moveend",this._onMainMapMoved,this);this._mainMap.off("move",this._onMainMapMoving,this);this._miniMap.off("moveend",this._onMiniMapMoved,this);this._miniMap.removeLayer(this._layer)},_addToggleButton:function(){this._toggleDisplayButton=
this.options.toggleDisplay?this._createButton("",this.hideText,"leaflet-control-minimap-toggle-display",this._container,this._toggleDisplayButtonClicked,this):void 0},_createButton:function(c,f,h,a,e,l){h=L.DomUtil.create("a",h,a);h.innerHTML=c;h.href="#";h.title=f;c=L.DomEvent.stopPropagation;L.DomEvent.on(h,"click",c).on(h,"mousedown",c).on(h,"dblclick",c).on(h,"click",L.DomEvent.preventDefault).on(h,"click",e,l);return h},_toggleDisplayButtonClicked:function(){this._userToggledDisplay=!0;this._minimized?
(this._restore(),this._toggleDisplayButton.title=this.hideText):(this._minimize(),this._toggleDisplayButton.title=this.showText)},_setDisplay:function(c){c!=this._minimized&&(this._minimized?this._restore():this._minimize())},_minimize:function(){this.options.toggleDisplay?(this._container.style.width="19px",this._container.style.height="19px",this._toggleDisplayButton.className+=" minimized"):this._container.style.display="none";this._minimized=!0;Cookies.set("isOpenMinimap",0)},_restore:function(){this.options.toggleDisplay?
(this._container.style.width=this.options.width+"px",this._container.style.height=this.options.height+"px",this._toggleDisplayButton.className=this._toggleDisplayButton.className.replace(/(?:^|\s)minimized(?!\S)/g,"")):this._container.style.display="block";this._minimized=!1;Cookies.set("isOpenMinimap",1)},_onMainMapMoved:function(c){this._miniMapMoving?this._miniMapMoving=!1:(this._mainMapMoving=!0,this._miniMap.setView(this._mainMap.getCenter(),this._decideZoom(!0)),this._setDisplay(this._decideMinimized()));
this._aimingRect.setBounds(this._mainMap.getBounds())},_onMainMapMoving:function(c){this._aimingRect.setBounds(this._mainMap.getBounds())},_onMiniMapMoveStarted:function(c){var f=this._aimingRect.getBounds();c=this._miniMap.latLngToContainerPoint(f.getSouthWest());f=this._miniMap.latLngToContainerPoint(f.getNorthEast());this._lastAimingRectPosition={sw:c,ne:f}},_onMiniMapMoving:function(c){!this._mainMapMoving&&this._lastAimingRectPosition&&(this._shadowRect.setBounds(new L.LatLngBounds(this._miniMap.containerPointToLatLng(this._lastAimingRectPosition.sw),
this._miniMap.containerPointToLatLng(this._lastAimingRectPosition.ne))),this._shadowRect.setStyle({opacity:1,fillOpacity:.3}))},_onMiniMapMoved:function(c){this._mainMapMoving?this._mainMapMoving=!1:(this._miniMapMoving=!0,this._mainMap.setView(this._miniMap.getCenter(),this._decideZoom(!1)),this._shadowRect.setStyle({opacity:0,fillOpacity:0}))},_decideZoom:function(c){if(this.options.zoomLevelFixed)return c?this.options.zoomLevelFixed:this._mainMap.getZoom();if(c)return this._mainMap.getZoom()+this.options.zoomLevelOffset;
c=this._miniMap.getZoom()-this._mainMap.getZoom();var f=this._miniMap.getZoom()-this.options.zoomLevelOffset;c>this.options.zoomLevelOffset&&this._mainMap.getZoom()<this._miniMap.getMinZoom()-this.options.zoomLevelOffset?this._miniMap.getZoom()>this._lastMiniMapZoom?(c=this._mainMap.getZoom()+1,this._miniMap.setZoom(this._miniMap.getZoom()-1)):c=this._mainMap.getZoom():c=f;this._lastMiniMapZoom=this._miniMap.getZoom();return c},_decideMinimized:function(){return this._userToggledDisplay?this._minimized:
this.options.autoToggleDisplay?this._mainMap.getBounds().contains(this._miniMap.getBounds())?!0:!1:this._minimized}});L.Map.mergeOptions({miniMapControl:!1});L.Map.addInitHook(function(){this.options.miniMapControl&&(this.miniMapControl=(new L.Control.MiniMap).addTo(this))});L.control.minimap=function(c){return new L.Control.MiniMap(c)};
L.Control.MapCenterCoord=L.Control.extend({options:{position:"bottomleft",icon:!0,onMove:!1,template:"{y} | {x}",projected:!1,formatProjected:"#.##0,000",latlngFormat:"DD",latlngDesignators:!1,latLngFormatter:void 0},onAdd:function(c){this.options.icon&&(this._iconEl=L.DomUtil.create("div","leaflet-control-mapcentercoord-icon leaflet-zoom-hide"),c.getPanes().overlayPane.appendChild(this._iconEl),c.on("viewreset",this._onReset,this),this._onReset());this._container=L.DomUtil.create("div","leaflet-control-mapcentercoord");
L.DomEvent.disableClickPropagation(this._container);c.on("move",this._onMapMove,this);c.on("moveend",this._onMapMoveEnd,this);this._container.innerHTML='<a href="https:'+wwwpath+"?zoom="+this._map.getZoom()+"&ll="+this._getLatLngPure()+'">'+this._getMapCenterCoord()+"</a>";return this._container},onRemove:function(c){this.options.icon&&(c.getPanes().overlayPane.removeChild(this._iconEl),c.off("viewreset",this._onReset,this));c.off("move",this._onMapMove,this);c.off("moveend",this._onMapMove,this)},
_onReset:function(c){c=this._map.latLngToLayerPoint(this._map.getCenter());L.DomUtil.setPosition(this._iconEl,c)},_onMapMove:function(c){this.options.icon&&(c=this._map.latLngToLayerPoint(this._map.getCenter()),L.DomUtil.setPosition(this._iconEl,c));this.options.onMove&&(this._container.innerHTML='<a href="https:'+wwwpath+"?zoom="+this._map.getZoom()+"&ll="+this._getLatLngPure()+'">'+this._getMapCenterCoord()+"</a>")},_onMapMoveEnd:function(c){this.options.icon&&(c=this._map.latLngToLayerPoint(this._map.getCenter()),
L.DomUtil.setPosition(this._iconEl,c));this._container.innerHTML='<a href="https:'+wwwpath+"?zoom="+this._map.getZoom()+"&ll="+this._getLatLngPure()+'">'+this._getMapCenterCoord()+"</a>"},_getMapCenterCoord:function(){return this.options.projected?this._getProjectedCoord(this._map.options.crs.project(this._map.getCenter())):this._getLatLngCoord(this._map.getCenter())},_getProjectedCoord:function(c){return L.Util.template(this.options.template,{x:this._format(this.options.formatProjected,c.x),y:this._format(this.options.formatProjected,
c.y)})},_getLatLngPure:function(c){void 0==c&&(c=this._map.getCenter());return c.lat+","+c.lng},_getLatLngCoord:function(c){if(void 0!=this.options.latLngFormatter)return this.options.latLngFormatter(c.lat,c.lng);var f,h,a,e;f=c.lat;h=c.lng;var l;0>h?(c=!0,h=Math.abs(h)):c=!1;0>f?(l=!0,f=Math.abs(f)):l=!1;180<h&&(h=360-h,c=!c);"DM"===this.options.latlngFormat?(a=parseInt(h),h=a+"\u00ba "+this._format("00.000",60*(h-a))+"'",a=parseInt(f),f=a+"\u00ba "+this._format("00.000",60*(f-a))+"'"):"DMS"===this.options.latlngFormat?
(a=parseInt(h),e=60*(h-a),h=a+"\u00ba "+this._format("00",parseInt(e))+"' "+this._format("00.0",60*(e-parseInt(e)))+"''",a=parseInt(f),e=60*(f-a),f=a+"\u00ba "+this._format("00",parseInt(e))+"' "+this._format("00.0",60*(e-parseInt(e)))+"''"):(h=this._format("#0.00000",h)+"\u00ba",f=this._format("##0.00000",f)+"\u00ba");return L.Util.template(this.options.template,{x:(!this.options.latlngDesignators&&c?"-":"")+h+(this.options.latlngDesignators?c?" W":" E":""),y:(!this.options.latlngDesignators&&l?
"-":"")+f+(this.options.latlngDesignators?l?" S":" N":"")})},_format:function(c,f){if(!c||isNaN(+f))return f;f="-"==c.charAt(0)?-f:+f;var h=0>f?f=-f:0,a=c.match(/[^\d\-\+#]/g),e=a&&a[a.length-1]||".",a=a&&a[1]&&a[0]||",";c=c.split(e);f=f.toFixed(c[1]&&c[1].length);f=+f+"";var l=c[1]&&c[1].lastIndexOf("0"),b=f.split(".");if(!b[1]||b[1]&&b[1].length<=l)f=(+f).toFixed(l+1);l=c[0].split(a);c[0]=l.join("");var k=c[0]&&c[0].indexOf("0");if(-1<k)for(;b[0].length<c[0].length-k;)b[0]="0"+b[0];else 0==+b[0]&&
(b[0]="");f=f.split(".");f[0]=b[0];if(b=l[1]&&l[l.length-1].length){for(var l=f[0],k="",n=l.length%b,p=0,q=l.length;p<q;p++)k+=l.charAt(p),!((p-n+1)%b)&&p<q-b&&(k+=a);f[0]=k}f[1]=c[1]&&f[1]?e+f[1]:"";return(h?"-":"")+f[0]+f[1]}});L.Map.mergeOptions({MapCenterCoordControl:!1});L.Map.addInitHook(function(){this.options.MapCenterCoordControl&&(this.MapCenterCoordControl=new L.Control.MapCenterCoord,this.addControl(this.MapCenterCoordControl))});L.control.mapCenterCoord=function(c){return new L.Control.MapCenterCoord(c)};
L.KML=L.FeatureGroup.extend({options:{async:!0},initialize:function(c,f){L.Util.setOptions(this,f);this._kml=c;this._layers={};c&&this.addKML(c,f,this.options.async)},loadXML:function(c,f,h,a){void 0===a&&(a=this.options.async);void 0===h&&(h=this.options);var e=new window.XMLHttpRequest;if(void 0===e.withCredentials&&"undefined"!==typeof window.XDomainRequest){var l=new window.XDomainRequest;l.open("GET",c,a);l.onprogress=function(){};l.ontimeout=function(){};l.onerror=function(){};l.onload=function(){if(l.responseText){var a=
new window.ActiveXObject("Microsoft.XMLDOM");a.loadXML(l.responseText);f(a,h)}};setTimeout(function(){l.send()},0)}else{e.open("GET",c,a);e.setRequestHeader("Accept","application/vnd.google-earth.kml+xml");try{e.overrideMimeType("text/xml")}catch(b){}e.onreadystatechange=function(){}