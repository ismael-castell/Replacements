"use strict";(self.webpackChunkclient_app=self.webpackChunkclient_app||[]).push([["main"],{90898:(oe,L,t)=>{t.d(L,{q:()=>$});var e=t(36362),i=t(54166),p=t(84128),l=t(43188),y=t(87317),d=t(11961),g=t(61534),f=t(81196),a=t(1130),c=t(95758),r=t(19975),o=t(16531),_=t(44770),n=t(43365),m=t(26131),v=t(82796),h=t(60833),C=t(74742),S=t(68390),I=t(91434),T=t(7216),N=t(6623),x=t(32528),s=t(67939),E=t(12379),H=t(19946),V=t(40089),b=t(21780),B=t(39910),Q=t(3184);let $=(()=>{class W{}return W.\u0275fac=function(le){return new(le||W)},W.\u0275mod=Q.oAB({type:W}),W.\u0275inj=Q.cJS({providers:[{provide:a.rD,useClass:a.hu}],imports:[[e.ez,p.rt],l.Bb,y.ot,d.QW,f.Hi,g.p9,c.Is,r.t,_.lN,n.c,m.ie,v.Tx,h.Cv,C.Cq,S.Fk,I.LD,N.rP,T.SJ,x.ZX,E.Nh,s.p0,H.g0,V.AV,i.U8,o.To,b.U5,B.xu,p.rt]}),W})()},47749:(oe,L,t)=>{t.d(L,{C:()=>p});var e=t(97010),i=t(3184);let p=(()=>{class l{constructor(d){this.imageService=d}transform(d){return this.imageService.getOriginalPublicImageUrl(d)}}return l.\u0275fac=function(d){return new(d||l)(i.Y36(e.AJ,16))},l.\u0275pipe=i.Yjl({name:"imageAsset",type:l,pure:!0}),l})()},81326:(oe,L,t)=>{t.d(L,{i:()=>l});var e=t(92938),p=t(3184);let l=(()=>{class y{transform(g){return(0,e.isNumber)(g)?"undefined"!=typeof Intl&&Intl.NumberFormat?(new Intl.NumberFormat).format(g):(0,e.toString)(g):""}}return y.\u0275fac=function(g){return new(g||y)},y.\u0275pipe=p.Yjl({name:"localeNumber",type:y,pure:!0}),y})()},61756:(oe,L,t)=>{t.d(L,{t:()=>i});var e=t(3184);let i=(()=>{class p{constructor(y){this.appLocale=y}transform(y,d="conjunction",g){return"function"!=typeof Intl.ListFormat?this.fallback(y,"disjunction"!==d):new Intl.ListFormat(g||this.appLocale,{type:d}).format(y)}fallback(y,d=!0){const g=d?$localize`and`:$localize`or`;return y.length?1===y.length?y[0]:2===y.length?`${y[0]} ${g} ${y[1]}`:`${y.slice(0,-1).join($localize`:list separator|Separates items in a list:,`+" ")}${$localize`:list separator|Separates items in a list:,`} ${g} ${y[y.length-1]}`:""}}return p.\u0275fac=function(y){return new(y||p)(e.Y36(e.soG,16))},p.\u0275pipe=e.Yjl({name:"localizedList",type:p,pure:!0}),p})()},35503:(oe,L,t)=>{t.d(L,{Dt:()=>g,i7:()=>e.i});var e=t(81326),i=t(61756),p=t(3184);t(74929),t(47749),t(25436);let g=(()=>{class f{}return f.\u0275fac=function(c){return new(c||f)},f.\u0275mod=p.oAB({type:f}),f.\u0275inj=p.cJS({providers:[e.i,i.t]}),f})()},87028:(oe,L,t)=>{t.d(L,{v:()=>i});var e=t(3184);let i=(()=>{class p{}return p.\u0275fac=function(y){return new(y||p)},p.\u0275mod=e.oAB({type:p}),p.\u0275inj=e.cJS({}),p})()},25436:(oe,L,t)=>{t.d(L,{y:()=>l});var e=t(24744),i=t(3184),p=t(50318);let l=(()=>{class y{constructor(g){this.sanitizer=g}transform(g,f){switch(f){case"html":return this.sanitizer.bypassSecurityTrustHtml(g);case"style":return this.sanitizer.bypassSecurityTrustStyle(g);case"script":return this.sanitizer.bypassSecurityTrustScript(g);case"url":return this.sanitizer.bypassSecurityTrustUrl(g);case"resourceUrl":return this.sanitizer.bypassSecurityTrustResourceUrl(g);default:throw new e.S(f)}}}return y.\u0275fac=function(g){return new(g||y)(i.Y36(p.H7,16))},y.\u0275pipe=i.Yjl({name:"safe",type:y,pure:!0}),y})()},76487:(oe,L,t)=>{t.d(L,{h:()=>i});var e=t(3184);let i=(()=>{class p{}return p.\u0275fac=function(y){return new(y||p)},p.\u0275mod=e.oAB({type:p}),p.\u0275inj=e.cJS({}),p})()},1076:(oe,L,t)=>{t.d(L,{r:()=>r});var e=t(94882),i=t(93443),p=t(25848),l=t(71263),y=t(23580);function g(o){const _=((new Date).getTime()-new Date(o).getTime())/2628e6;return _<=1?"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.BUCKET_HELPERS.ONE_MONTH":_<=3?"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.BUCKET_HELPERS.THREE_MONTHS":_<=6?"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.BUCKET_HELPERS.SIX_MONTHS":void 0}function f(o){const _=null==o?void 0:o.value_usd;if(!(isNaN(_)||_<0))return _<1e6?"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.BUCKET_HELPERS.BETWEEN_0_AND_1M":_<1e7?"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.BUCKET_HELPERS.BETWEEN_1M_AND_10M":_<1e8?"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.BUCKET_HELPERS.BETWEEN_10M_AND_100M":"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.BUCKET_HELPERS.MORE_THAN_100M"}var a=t(3184),c=i.P1.ReasonEnum;let r=(()=>{class o{constructor(n,m,v){this.labelService=n,this.formatterService=m,this.syntheticMetadataService=v,this.reasonToLabelInfo={[c.acquired]:{short:{labelKey:"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.SHORT.ACQUIRED"},verbose:{labelKey:"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.VERBOSE.ACQUIRED"}},[c.acquisition]:{short:{labelKey:"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.SHORT.ACQUISITION"},verbose:{labelKey:"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.VERBOSE.ACQUISITION"}},[c.category]:{short:{labelKey:"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.SHORT.CATEGORY"},verbose:{labelKey:"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.VERBOSE.CATEGORY"}},[c.funding_stage]:{short:{labelKey:"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.SHORT.FUNDING_STAGE",customized:{labelKey:"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.SHORT.CUSTOMIZED.FUNDING_STAGE",dataKey:"last_funding_type"}},verbose:{labelKey:"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.VERBOSE.FUNDING_STAGE"}},[c.last_funding_at]:{short:{labelKey:"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.SHORT.LAST_FUNDING_AT",customized:{labelKey:"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.SHORT.CUSTOMIZED.LAST_FUNDING_AT",dataKey:"last_funding_at",getDataLabelKey:g}},verbose:{labelKey:"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.VERBOSE.LAST_FUNDING_AT"}},[c.last_funding_total]:{short:{labelKey:"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.SHORT.LAST_FUNDING_TOTAL",customized:{labelKey:"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.SHORT.CUSTOMIZED.LAST_FUNDING_TOTAL",dataKey:"last_funding_total",getDataLabelKey:f}},verbose:{labelKey:"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.VERBOSE.LAST_FUNDING_TOTAL"}},[c.leadership_hire]:{short:{labelKey:"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.SHORT.LEADERSHIP_HIRE"},verbose:{labelKey:"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.VERBOSE.LEADERSHIP_HIRE"}},[c.location_hq]:{short:{labelKey:"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.SHORT.LOCATION_HQ",customized:{labelKey:"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.SHORT.CUSTOMIZED.LOCATION_HQ",dataKey:"location_identifiers"}},verbose:{labelKey:"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.VERBOSE.LOCATION_HQ"}},[c.num_employees]:{short:{labelKey:"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.SHORT.NUM_EMPLOYEES",customized:{labelKey:"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.SHORT.CUSTOMIZED.NUM_EMPLOYEES",dataKey:"num_employees_enum"}},verbose:{labelKey:"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.VERBOSE.NUM_EMPLOYEES"}},[c.page_views]:{short:{labelKey:"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.SHORT.PAGE_VIEWS"},verbose:{labelKey:"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.VERBOSE.PAGE_VIEWS"}},[c.revenue_range]:{short:{labelKey:"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.SHORT.REVENUE_RANGE",customized:{labelKey:"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.SHORT.CUSTOMIZED.REVENUE_RANGE",dataKey:"revenue_range"}},verbose:{labelKey:"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.VERBOSE.REVENUE_RANGE"}},[c.static_lists]:{short:{labelKey:"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.SHORT.STATIC_LISTS"},verbose:{labelKey:"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.VERBOSE.STATIC_LISTS"}},[c.trending_companies]:{short:{labelKey:"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.SHORT.TRENDING_COMPANIES"},verbose:{labelKey:"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.VERBOSE.TRENDING_COMPANIES"}},[c.went_public_on]:{short:{labelKey:"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.SHORT.WENT_PUBLIC_ON",customized:{labelKey:"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.SHORT.CUSTOMIZED.WENT_PUBLIC_ON",dataKey:"went_public_on",getDataLabelKey:g}},verbose:{labelKey:"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.VERBOSE.WENT_PUBLIC_ON"}},[c.recent_acquisition]:{short:{labelKey:"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.SHORT.RECENT_ACQUISITION"},verbose:{labelKey:"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.VERBOSE.RECENT_ACQUISITION"}},[c.recent_funding_at]:{short:{labelKey:"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.SHORT.RECENT_FUNDING_AT"},verbose:{labelKey:"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.VERBOSE.RECENT_FUNDING_AT"}},[c.recent_leadership_hire]:{short:{labelKey:"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.SHORT.RECENT_LEADERSHIP_HIRE"},verbose:{labelKey:"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.VERBOSE.RECENT_LEADERSHIP_HIRE"}},[c.recent_went_public_on]:{short:{labelKey:"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.SHORT.RECENT_WENT_PUBLIC_ON"},verbose:{labelKey:"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.VERBOSE.RECENT_WENT_PUBLIC_ON"}},[c.preference_contact]:{short:{labelKey:"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.SHORT.PREFERENCE_CONTACT"},verbose:{labelKey:"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.VERBOSE.PREFERENCE_CONTACT"}},[c.preference_territory]:{short:{labelKey:"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.SHORT.PREFERENCE_TERRITORY"},verbose:{labelKey:"CBL.ACCOUNT_RECOMMENDATIONS.RECOMMENDATION_REASONS.VERBOSE.PREFERENCE_TERRITORY"}}},this.formatterCollectionID=this.syntheticMetadataService.getAccountRecommendations().companyData.searchCollectionId}transform(n,m="short",v){const h=this.reasonToLabelInfo[n][m];if(h.customized&&v&&(0,y.K)(v[h.customized.dataKey])){const C=h.customized.dataKey,S=this.formatData(C,v[C],h.customized.getDataLabelKey);if(void 0!==S)return this.labelService.getInterpolatedLabel(h.customized.labelKey,{reason_data:S})}return this.labelService.getLabel(h.labelKey)}formatData(n,m,v){let h;if(v){const C=v(m);C&&(h=this.labelService.getLabel(C),h=h!==C?h:void 0)}else h=this.formatterService.formatFieldByFieldId(this.formatterCollectionID,n,m,l.Qy.default),h=h!==n?h:void 0;return h}}return o.\u0275fac=function(n){return new(n||o)(a.Y36(e.Q,16),a.Y36(l.eM,16),a.Y36(p.Y,16))},o.\u0275pipe=a.Yjl({name:"translateReason",type:o,pure:!0}),o})()},74929:(oe,L,t)=>{t.d(L,{X:()=>p});var e=t(94882),i=t(3184);let p=(()=>{class l{constructor(d){this.labelService=d}transform(d,g){return g?this.labelService.getInterpolatedLabel(d,g):this.labelService.getLabel(d)}}return l.\u0275fac=function(d){return new(d||l)(i.Y36(e.Q,16))},l.\u0275pipe=i.Yjl({name:"translate",type:l,pure:!0}),l})()},16800:(oe,L,t)=>{t.d(L,{N:()=>Rs,J:()=>Hs});var e=t(36362),i=t(90587),p=t(45857),l=t(90898),y=t(35503),d=t(68881),g=t(51151),f=t(54596),a=t(79215),c=t(89248),r=t(89250),o=t(25975),_=t(32519),n=t(31156),m=t(40337),v=t(4079),h=t(51044),C=t(74463),S=t(48212),I=t(32313),T=t(33268),N=t(83e3),x=t(5076),s=t(40089),E=t(3184),H=t(92218),V=t(19193),b=t(88623),B=t(85921),Q=t(86942),$=t(59151),W=t(80823),q=t(83910),le=t(70397),J=t(25670),u=t(14021),D=t(7323),se=t(98789),ne=t(68338),_e=t(24744),ee=t(43630),w=t(66426),G=t(6229),k=t(49837),X=t(35585);let K=(()=>{class j{constructor(z,Pe,qe){this.platformService=z,this.store=Pe,this.sentry=qe}trackUserInSentryScope(){let z=this.store.select(ee.Kc).pipe((0,$.h)(Pe=>Pe),(0,w.c)(this.store.select(ee.dy)),(0,Q.U)(Pe=>Pe?{id:Pe.id,email:Pe.email}:null));this.platformService.isServer()&&(z=z.pipe((0,q.q)(1))),z.subscribe(Pe=>{this.sentry.configureScope(qe=>qe.setUser(Pe))})}}return j.\u0275fac=function(z){return new(z||j)(E.LFG(k.m),E.LFG(X.yh),E.LFG(G.N))},j.\u0275prov=E.Yz7({token:j,factory:j.\u0275fac,providedIn:"root"}),j})();var te=t(91127);let Ie=(()=>{class j{constructor(z,Pe,qe,Rt,pn,gn,Di,Vi,Vo){this.router=z,this.platformService=Pe,this.billingService=qe,this.sessionMonitorService=Rt,this.analyticsService=pn,this.externalScriptService=gn,this.requestWarmer=Di,this.usageEventsService=Vi,this.sentryUserInfoService=Vo}initializeApp(){this.sentryUserInfoService.trackUserInSentryScope(),this.platformService.isServer()||this.initializeBrowserApp()}initializeBrowserApp(){this.requestWarmer.startWarming(),this.router.events.pipe((0,$.h)((0,_e.V)(p.jw)),(0,J.P)()).subscribe(z=>this.checkQueryParams(z.snapshot.queryParams)),this.router.events.pipe((0,$.h)((0,_e.V)(p.m2))).subscribe(z=>this.handleNavigationEvent(z))}checkQueryParams(z){this.billingService.storeCoupon(z.promo_code),this.sessionMonitorService.startMonitoring(),setTimeout(()=>{this.analyticsService.saveUTMParameters(z),this.externalScriptService.injectHeap().then(Pe=>{var qe;z.send_email&&z.send_email.indexOf("@")&&(null===(qe=Pe.identify)||void 0===qe||qe.call(Pe,z.send_email))},()=>{})},0)}handleNavigationEvent(z){const{url:Pe}=z,qe=Pe.toLowerCase().match(/^\/buy\/([a-z0-9-]+)\/?/);this.usageEventsService.logUsageEvent("navigation",{view_buy_products:null==qe?void 0:qe[1]})}}return j.\u0275fac=function(z){return new(z||j)(E.LFG(p.F0),E.LFG(k.m),E.LFG(u.jM),E.LFG(D.WO),E.LFG(se.y),E.LFG(te.V),E.LFG(ne.q),E.LFG(se.N),E.LFG(K))},j.\u0275prov=E.Yz7({token:j,factory:j.\u0275fac,providedIn:"root"}),j})();var Te=t(17992),ce=t(843),Re=t(85853),fe=t(17906),ye=t(92938),Ge=t(64139),at=t(47418),It=t(59095),Ue=t(88919),we=t(25722),De=t(93443),ae=t(50767),Le=t(46802),Fe=t(94882),dt=t(13074),Ye=t(35560),vt=t(97010),Je=t(25848),Ke=t(81942),Ne=t(6455),ke=t(19639),He=t(9038),nt=t(23580),Et=(()=>{return(j=Et||(Et={})).ok="ok",j.loading="loading",j.error="error",Et;var j})(),rt=(()=>{return(j=rt||(rt={})).organizations="organizations",j.people="people",j.events="events",j.hubs="hubs",j.myLists="myLists",j.featuredLists="featuredLists",j.recents="recents",j.myFollows="myFollows",j.trending="trending",rt;var j})();const Dt={organizations:"icon_company",people:"icon_people_two",events:"icon_event",hubs:"icon_compass",myLists:"icon_list_borderless",featuredLists:"icon_star_outline",recents:"icon_clock",myFollows:"icon_add_circle",trending:"icon_trending_arrow"};let Lt=(()=>{class j{constructor(z,Pe,qe,Rt,pn,gn,Di,Vi,Vo,Gs,Zs,zs,$s){this.searchApi=z,this.listApi=Pe,this.autocompleteService=qe,this.userService=Rt,this.recentlyViewedService=pn,this.labelService=gn,this.listService=Di,this.urlService=Vi,this.homepageService=Vo,this.imageService=Gs,this.markupService=Zs,this.syntheticMdService=zs,this.rxjsUtil=$s,this.searchInputs=new H.xQ,this.searchResults=new H.xQ,this.setupCachedRequests(),this.handleInputs()}query(z){return z?this.searchInputs.next(z):this.searchResults.next([]),this.searchResults.asObservable()}results(){return this.searchResults.asObservable()}findInRecents(z){return(0,Ge.of)(this.recentlyViewedService.getRecents()).pipe((0,Q.U)(Pe=>{let qe=(Pe||[]).filter(Rt=>Rt.type&&this.recentlyViewedService.isEntityType(Rt)).filter(Rt=>Rt.name&&Rt.name.toLowerCase().includes(z.toLowerCase())).map(Rt=>({value:Rt.name,imageSrc:this.getImageSrc(Rt.imageId),route:{path:Rt.routerLink},description:this.getRecentItemDescription(Rt)}));return{type:rt.recents,iconKey:Dt[rt.recents],status:Et.ok,data:qe}}))}findInTrending(z){return this.cachedTrending.pipe((0,Q.U)(Pe=>{let qe=[];if(Pe.trending){const Rt=Pe.trending.map(pn=>pn.entity).filter(nt.K);qe=this.matchEntities(z,Rt)}return{type:rt.trending,iconKey:Dt[rt.trending],status:Et.ok,data:qe}}),(0,at.K)(()=>(0,Ge.of)({type:rt.trending,iconKey:Dt[rt.trending],status:Et.error})))}handleInputs(){this.searchInputs.pipe((0,W.b)(50),(0,It.w)(z=>(0,V.aj)(this.querySources(z))),(0,W.b)(50)).subscribe(this.searchResults)}querySources(z){let Pe=[{type:rt.organizations,iconKey:Dt[rt.organizations],obs:this.findInCollection(rt.organizations,"organizations",z)},{type:rt.people,iconKey:Dt[rt.people],obs:this.findInCollection(rt.people,"people",z)},{type:rt.hubs,iconKey:Dt[rt.hubs],obs:this.findInCollection(rt.hubs,"hubs",z)},{type:rt.events,iconKey:Dt[rt.events],obs:this.findInCollection(rt.events,"events",z)},{type:rt.featuredLists,iconKey:Dt[rt.featuredLists],obs:this.findInFeaturedLists(z)}];return this.userService.isLoggedIn()&&Pe.push({type:rt.myFollows,iconKey:Dt[rt.myFollows],obs:this.findInMyFollows(z)},{type:rt.myLists,iconKey:Dt[rt.myLists],obs:this.findInMyLists(z)},{type:rt.recents,iconKey:Dt[rt.recents],obs:this.findInRecents(z)}),Pe.map(qe=>qe.obs.pipe((0,Ue.X)(2),(0,at.K)(()=>(0,Ge.of)({type:qe.type,iconKey:qe.iconKey,status:Et.error})),(0,we.O)({type:qe.type,iconKey:qe.iconKey,status:Et.loading})))}findInMyFollows(z){return this.cachedFollows.pipe((0,Q.U)(Pe=>({type:rt.myFollows,iconKey:Dt[rt.myFollows],status:Et.ok,data:this.matchEntities(z,Pe.entities)})))}findInMyLists(z){return this.cachedLists.pipe((0,Q.U)(Pe=>({type:rt.myLists,iconKey:Dt[rt.myLists],status:Et.ok,data:this.matchLists(z,Pe)})))}findInFeaturedLists(z){return this.cachedFeatured.pipe((0,Q.U)(Pe=>({type:rt.featuredLists,iconKey:Dt[rt.featuredLists],status:Et.ok,data:this.matchLists(z,Pe)})))}findInCollection(z,Pe,qe){return this.autocompleteService.query$({inputValue:qe,collectionIds:[Pe],limit:ae.y.QUERY_LIMIT,source:"topSearch"}).pipe((0,Q.U)(Rt=>{let pn=(Rt.entities||[]).map(gn=>({value:gn.identifier.value,imageSrc:this.getImageSrc(gn.identifier.image_id,gn.identifier.entity_def_id),route:this.urlService.getIdentifierRoute(gn.identifier),description:gn.short_description&&this.markupService.removeMarkdownLinks(gn.short_description)}));return{type:z,iconKey:Dt[z],status:Et.ok,data:pn}}))}matchLists(z,Pe){return(Pe||[]).filter(qe=>qe.name.toLowerCase().includes(z.toLowerCase())).map(qe=>({value:qe.name,iconKey:qe.list_type===De.BW.ListTypeEnum.smart?"icon_search":"icon_list_borderless",route:this.listService.getListRoute(qe.name,qe.id),description:this.getProfileCountLabel(this.listService.getListEntityCount(qe))}))}matchEntities(z,Pe){return(Pe||[]).map(qe=>qe.properties).map(qe=>qe.identifier?{identifier:qe.identifier,short_description:qe.short_description}:void 0).filter(nt.K).filter(qe=>(qe.identifier.value+" "+qe.short_description).toLowerCase().includes(z.toLowerCase())).map(qe=>({value:qe.identifier.value,imageSrc:this.getImageSrc(qe.identifier.image_id,qe.identifier.entity_def_id),route:this.urlService.getIdentifierRoute(qe.identifier),description:qe.short_description}))}setupCachedRequests(){this.cachedFollows=this.rxjsUtil.cacheRequest(()=>this.searchApi.dataListsCollectionIdListIdPost$({collectionId:"identifiers",listId:He.o,source:void 0,query:{field_ids:["identifier","short_description"],query:[],limit:1e3}}).toPromise(),j.MULTI_SEARCH_CACHE_TIME),this.cachedLists=this.rxjsUtil.cacheRequest(()=>this.listApi.mdListsGet$().toPromise(),j.MULTI_SEARCH_CACHE_TIME),this.cachedFeatured=this.rxjsUtil.cacheRequest(()=>this.listApi.mdListsFeaturedGet$().toPromise(),j.MULTI_SEARCH_CACHE_TIME),this.cachedTrending=this.rxjsUtil.cacheRequest(()=>this.homepageService.getHomepage(),j.MULTI_SEARCH_CACHE_TIME)}getRecentItemDescription(z){return z.description?this.markupService.removeMarkdownLinks(z.description):z.numEntries?this.getProfileCountLabel(z.numEntries):""}getProfileCountLabel(z){return 1===z?$localize`1 profile`:this.labelService.getInterpolatedLabel("CBL.MULTI_SEARCH.NUM_PROFILES",{count:z})}getImageSrc(z,Pe){if(!z)return;let qe={width:"25",height:"25",transparent:!1};return Pe&&this.syntheticMdService.getHumanEntityDefIds().includes(Pe)&&(qe.crop="thumb",qe.gravity="faces"),this.imageService.getPublicImageUrl(z,qe)}}return j.MULTI_SEARCH_CACHE_TIME=6e4,j.\u0275fac=function(z){return new(z||j)(E.LFG(De.Wq),E.LFG(De.VF),E.LFG(ae.y),E.LFG(D.KD),E.LFG(Le.m),E.LFG(Fe.Q),E.LFG(Ye.XN),E.LFG(dt.iO),E.LFG(Ke.g),E.LFG(vt.AJ),E.LFG(ke.l),E.LFG(Je.Y),E.LFG(Ne.LC))},j.\u0275prov=E.Yz7({token:j,factory:j.\u0275fac,providedIn:"root"}),j})();var Ut=t(75215),Yt=t(58798),$t=t(19975),un=t(39276),je=t(252),ft=t(74742),pe=t(32478),be=t(11961),Ce=t(40361),de=t(87317),Ae=t(74929);function ct(j,Ze){1&j&&E._UZ(0,"mat-spinner",8)}function gt(j,Ze){if(1&j&&E._UZ(0,"icon",9),2&j){const z=E.oxw();E.Q6J("key",z.searchResults.iconKey)}}function Ht(j,Ze){1&j&&E.GkF(0)}const nn=function(j,Ze){return{link:j,label:Ze}};function mn(j,Ze){if(1&j&&(E.ynx(0),E.YNc(1,Ht,1,0,"ng-container",10),E.ALo(2,"translate"),E.BQk()),2&j){const z=E.oxw(),Pe=E.MAs(11);E.xp6(1),E.Q6J("ngTemplateOutlet",Pe)("ngTemplateOutletContext",E.WLB(4,nn,z.headerLinks[z.searchResults.type],E.lcZ(2,2,"CBL.MULTI_SEARCH.SECTION_HEADERS."+z.searchResults.type.toUpperCase())))}}function Xn(j,Ze){if(1&j&&(E.TgZ(0,"span")(1,"a",11),E._uU(2),E.ALo(3,"translate"),E.qZA(),E.TgZ(4,"span"),E._uU(5),E.ALo(6,"translate"),E.qZA(),E.TgZ(7,"a",12),E._uU(8),E.ALo(9,"translate"),E.qZA()()),2&j){const z=E.oxw();E.xp6(1),E.Q6J("routerLink",z.mySearchesLink),E.xp6(1),E.Oqu(E.lcZ(3,5,"CBL.MULTI_SEARCH.SECTION_HEADERS.MYSEARCHES")),E.xp6(3),E.hij(" ",E.lcZ(6,7,"CBL.COMMON.AND")," "),E.xp6(2),E.Q6J("routerLink",z.headerLinks.myLists),E.xp6(1),E.Oqu(E.lcZ(9,9,"CBL.MULTI_SEARCH.SECTION_HEADERS.MYLISTS"))}}function Rn(j,Ze){1&j&&(E.TgZ(0,"span")(1,"span",13),E._uU(2,"\u2014"),E.qZA(),E._uU(3),E.ALo(4,"translate"),E.qZA()),2&j&&(E.xp6(3),E.hij(" ",E.lcZ(4,1,"CBL.MULTI_SEARCH.SECTION_ERROR")," "))}function Yn(j,Ze){1&j&&(E.TgZ(0,"span")(1,"span",13),E._uU(2,"\u2014"),E.qZA(),E._uU(3),E.ALo(4,"translate"),E.qZA()),2&j&&(E.xp6(3),E.hij(" ",E.lcZ(4,1,"CBL.MULTI_SEARCH.EMPTY_SECTION")," "))}function Gn(j,Ze){if(1&j&&(E.TgZ(0,"a",12),E._uU(1),E.qZA()),2&j){const z=E.oxw(),qe=z.label;E.Q6J("routerLink",z.link),E.xp6(1),E.Oqu(qe)}}function Nn(j,Ze){if(1&j&&(E.TgZ(0,"span"),E._uU(1),E.qZA()),2&j){const z=E.oxw().label;E.xp6(1),E.Oqu(z)}}function Kn(j,Ze){if(1&j&&(E.YNc(0,Gn,2,2,"a",14),E.YNc(1,Nn,2,1,"span",6)),2&j){const z=Ze.link;E.Q6J("ngIf",z),E.xp6(1),E.Q6J("ngIf",!z)}}function Vn(j,Ze){if(1&j&&E._UZ(0,"div",24),2&j){const z=E.oxw(2).$implicit;E.Q6J("useIdentifierImgStyle",!0)("imgSrc",z.imageSrc)}}function ei(j,Ze){if(1&j&&E._UZ(0,"icon",25),2&j){const z=E.oxw(2).$implicit;E.Q6J("key",z.iconKey)}}function Ft(j,Ze){if(1&j&&(E.TgZ(0,"span",26),E._uU(1),E.qZA()),2&j){const z=E.oxw(2).$implicit;E.xp6(1),E.hij(" \u2014 ",z.description," ")}}function In(j,Ze){if(1&j&&(E.TgZ(0,"a",18),E.YNc(1,Vn,1,2,"div",19),E.YNc(2,ei,1,1,"icon",20),E.TgZ(3,"span",21)(4,"span",22),E._uU(5),E.qZA(),E.YNc(6,Ft,2,1,"span",23),E.qZA()()),2&j){const z=E.oxw().$implicit;E.Q6J("routerLink",z.route.path),E.xp6(1),E.Q6J("ngIf",!z.iconKey),E.xp6(1),E.Q6J("ngIf",z.iconKey),E.xp6(3),E.Oqu(z.value),E.xp6(1),E.Q6J("ngIf",z.description)}}function cn(j,Ze){if(1&j&&(E.ynx(0),E.YNc(1,In,7,5,"a",17),E.BQk()),2&j){const z=Ze.index,Pe=E.oxw(2);E.xp6(1),E.Q6J("ngIf",z<3||Pe.showMore)}}function pi(j,Ze){if(1&j){const z=E.EpF();E.TgZ(0,"div",27)(1,"button",28),E.NdJ("click",function(){return E.CHM(z),E.oxw(2).showMore=!0}),E.ALo(2,"translate"),E._uU(3),E.ALo(4,"translate"),E._UZ(5,"icon",29),E.qZA()()}2&j&&(E.xp6(1),E.uIk("aria-label",E.lcZ(2,2,"CBL.MULTI_SEARCH.SHOW_MORE")),E.xp6(2),E.hij(" ",E.lcZ(4,4,"CBL.MULTI_SEARCH.SHOW_MORE")," "))}function hn(j,Ze){if(1&j&&(E.TgZ(0,"mat-card"),E.YNc(1,cn,2,1,"ng-container",15),E.YNc(2,pi,6,6,"div",16),E.qZA()),2&j){const z=E.oxw();E.xp6(1),E.Q6J("ngForOf",z.searchResults.data),E.xp6(1),E.Q6J("ngIf",!z.showMore&&z.searchResults.data.length>3)}}let Zt=(()=>{class j{constructor(){this.showMore=!1,this.headerLinks={organizations:["search","organizations"],people:["search","people"],events:["search","events"],hubs:["search","hubs"],myLists:["lists"],featuredLists:["featured"],recents:["recently-viewed"],myFollows:void 0,trending:void 0},this.mySearchesLink=["searches"]}}return j.\u0275fac=function(z){return new(z||j)},j.\u0275cmp=E.Xpm({type:j,selectors:[["search-results-section"]],inputs:{searchResults:"searchResults",showMore:"showMore"},decls:13,vars:7,consts:[[1,"header","layout-row","layout-align-start-start","cb-text-color-medium","cb-margin-medium-bottom","cb-margin-medium-left"],[1,"cb-margin-medium-right","cb-margin-xsmall-top","flex-none"],["diameter","16",4,"ngIf"],["size","large","color","inherit",3,"key",4,"ngIf"],[1,"flex","header-text"],[1,"cb-text-transform-upper","cb-font-weight-bold"],[4,"ngIf"],["linkOrSpan",""],["diameter","16"],["size","large","color","inherit",3,"key"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cb-text-color-medium",3,"routerLink"],[3,"routerLink"],[1,"cb-padding-medium-horizontal"],[3,"routerLink",4,"ngIf"],[4,"ngFor","ngForOf"],["class","flex layout-row layout-align-center-center cb-padding-small cb-border-top cb-border-color-divider",4,"ngIf"],["class","row-anchor cb-padding-medium-horizontal flex layout-row layout-align-start-center cb-text-color-medium",3,"routerLink",4,"ngIf"],[1,"row-anchor","cb-padding-medium-horizontal","flex","layout-row","layout-align-start-center","cb-text-color-medium",3,"routerLink"],["lazyLoadImage","","class","row-image flex-none",3,"useIdentifierImgStyle","imgSrc",4,"ngIf"],["class","cb-padding-small-left flex-none","size","large",3,"key",4,"ngIf"],[1,"flex","cb-overflow-ellipsis","cb-padding-medium-left"],[1,"row-name","link-primary"],["class","row-description cb-font-weight-default",4,"ngIf"],["lazyLoadImage","",1,"row-image","flex-none",3,"useIdentifierImgStyle","imgSrc"],["size","large",1,"cb-padding-small-left","flex-none",3,"key"],[1,"row-description","cb-font-weight-default"],[1,"flex","layout-row","layout-align-center-center","cb-padding-small","cb-border-top","cb-border-color-divider"],["mat-button","","color","primary",1,"cb-text-transform-upper","show-more",3,"click"],["key","icon_caret_down","color","inherit",1,"cb-margin-small-left","flex-none"]],template:function(z,Pe){1&z&&(E.TgZ(0,"div",0)(1,"div",1),E.YNc(2,ct,1,0,"mat-spinner",2),E.YNc(3,gt,1,1,"icon",3),E.qZA(),E.TgZ(4,"div",4)(5,"span",5),E.YNc(6,mn,3,7,"ng-container",6),E.YNc(7,Xn,10,11,"span",6),E.qZA(),E.YNc(8,Rn,5,3,"span",6),E.YNc(9,Yn,5,3,"span",6),E.qZA()(),E.YNc(10,Kn,2,2,"ng-template",null,7,E.W1O),E.YNc(12,hn,3,2,"mat-card",6)),2&z&&(E.xp6(2),E.Q6J("ngIf","loading"===Pe.searchResults.status),E.xp6(1),E.Q6J("ngIf","loading"!==Pe.searchResults.status),E.xp6(3),E.Q6J("ngIf","myLists"!==Pe.searchResults.type),E.xp6(1),E.Q6J("ngIf","myLists"===Pe.searchResults.type),E.xp6(1),E.Q6J("ngIf","error"===Pe.searchResults.status),E.xp6(1),E.Q6J("ngIf",!("ok"!==Pe.searchResults.status||Pe.searchResults.data&&Pe.searchResults.data.length)),E.xp6(3),E.Q6J("ngIf","ok"===Pe.searchResults.status&&Pe.searchResults.data&&Pe.searchResults.data.length))},directives:[e.O5,ft.Ou,pe.o,e.tP,p.yS,be.a8,e.sg,Ce.z,de.lW],pipes:[Ae.X],styles:["search-results-section{display:block}search-results-section .mat-card{padding:0}search-results-section .header a{color:#183444;text-decoration:none;font-weight:500;cursor:pointer}search-results-section .header a:hover{text-decoration:underline}search-results-section .header-text{line-height:20px}search-results-section .row-image{height:25px;width:25px}search-results-section .row-anchor{text-decoration:none;height:40px}search-results-section .row-anchor:hover .row-name{text-decoration:underline}search-results-section .row-anchor:not(:last-of-type){border-bottom:1px solid rgba(0,0,0,.12)}search-results-section button.show-more{line-height:32px}search-results-section .result-item{width:20%}search-results-section .result-item a{text-decoration:none}\n"],encapsulation:2}),j})();var ti=t(77500);function an(j,Ze){1&j&&E._UZ(0,"multi-search-collection-search-link",11),2&j&&E.Q6J("entityDef",Ze.$implicit)}function Jn(j,Ze){1&j&&E._UZ(0,"no-content",13),2&j&&E.Q6J("showLoading",!0)}const Bn=function(j){return{"cb-padding-xlarge-top":j}};function ni(j,Ze){if(1&j&&(E.ynx(0),E._UZ(1,"search-results-section",15),E.BQk()),2&j){const z=E.oxw(3);E.xp6(1),E.Q6J("searchResults",z.recents)("showMore",!0)("ngClass",E.VKq(3,Bn,z.trending))}}function ii(j,Ze){if(1&j&&(E.ynx(0),E._UZ(1,"search-results-section",14),E.YNc(2,ni,2,5,"ng-container",10),E.BQk()),2&j){const z=E.oxw(2);E.xp6(1),E.Q6J("searchResults",z.trending)("showMore",!0),E.xp6(1),E.Q6J("ngIf",z.recents)}}function Qn(j,Ze){if(1&j&&(E.ynx(0),E.YNc(1,Jn,1,1,"no-content",12),E.YNc(2,ii,3,3,"ng-container",10),E.BQk()),2&j){const z=E.oxw();E.xp6(1),E.Q6J("ngIf",!z.trending),E.xp6(1),E.Q6J("ngIf",z.trending)}}function Fn(j,Ze){if(1&j&&E._UZ(0,"search-results-section",18),2&j){const Pe=Ze.first;E.Q6J("searchResults",Ze.$implicit)("ngClass",E.VKq(2,Bn,!Pe))}}function kn(j,Ze){if(1&j&&(E.ynx(0),E.YNc(1,Fn,1,4,"search-results-section",17),E.BQk()),2&j){const z=E.oxw(2);E.xp6(1),E.Q6J("ngForOf",z.multiSearchResults)}}function Zn(j,Ze){if(1&j&&(E.TgZ(0,"div",19)(1,"div",20),E.SDv(2,21),E.qZA(),E._UZ(3,"cb-image",22),E.TgZ(4,"div",23),E._uU(5),E.ALo(6,"translate"),E.TgZ(7,"a",24),E.ALo(8,"translate"),E._uU(9),E.ALo(10,"translate"),E.qZA(),E._uU(11,". "),E.qZA()()),2&j){const z=E.oxw(2);E.xp6(3),E.Q6J("resource",z.noResultsImageSource),E.xp6(2),E.hij(" ",E.lcZ(6,4,"CBL.MULTI_SEARCH.NO_RESULTS.SUB_HEADER.PART_ONE")," "),E.xp6(2),E.MGl("href","mailto:",E.lcZ(8,6,"CBL.MULTI_SEARCH.NO_RESULTS.SUB_HEADER.SUPPORT_EMAIL"),"",E.LSH),E.xp6(2),E.hij(" ",E.lcZ(10,8,"CBL.MULTI_SEARCH.NO_RESULTS.SUB_HEADER.SUPPORT_EMAIL"),"")}}function Dn(j,Ze){if(1&j&&(E.ynx(0),E.YNc(1,kn,2,1,"ng-container",10),E.YNc(2,Zn,12,10,"div",16),E.BQk()),2&j){const z=E.oxw();E.xp6(1),E.Q6J("ngIf",!z.hasNoResults),E.xp6(1),E.Q6J("ngIf",z.hasNoResults)}}let En=(()=>{class j{constructor(z,Pe,qe){this.userService=z,this.multiSearchService=Pe,this.metadataService=qe,this.entityDefs=[],this.isInitialState=!0,this.isLoggedIn=!1,this.noResultsImageSource=vt.Wh.jetpack_unicorn,this.onDestroy=new H.xQ}ngOnInit(){this.isLoggedIn=this.userService.isLoggedIn(),this.showInitialState(),this.startListening(),this.entityDefs=this.metadataService.getTopLevelEntityDefs()}ngOnDestroy(){this.onDestroy.next()}startListening(){this.multiSearchService.results().pipe((0,B.R)(this.onDestroy)).subscribe(z=>{(0,ye.isEmpty)(z)?this.showInitialState():(this.isInitialState=!1,this.setRecents(),z.sort((Pe,qe)=>{let Rt=this.isLoadingOrHasData(Pe)?1:0;return(this.isLoadingOrHasData(qe)?1:0)-Rt}),this.multiSearchResults=z,this.hasNoResults=this.getNoResults(z))})}showInitialState(){this.isInitialState=!0,this.isLoggedIn&&this.setRecents(),this.setTrending()}isLoadingOrHasData(z){var Pe;let Rt=!!(null===(Pe=z.data)||void 0===Pe?void 0:Pe.length);return z.status===Et.loading||Rt}setRecents(){this.multiSearchService.findInRecents("").subscribe(z=>{z.data=(z.data||[]).slice(0,10),z.data.length>=3&&(this.recents=z)})}setTrending(){this.trending=void 0,this.multiSearchService.findInTrending("").subscribe(z=>{this.trending=z})}getNoResults(z){let Pe=!0;return z.forEach(qe=>{qe&&this.isLoadingOrHasData(qe)&&(Pe=!1)}),Pe}}return j.\u0275fac=function(z){return new(z||j)(E.Y36(D.KD),E.Y36(Lt),E.Y36(Ut.Do))},j.\u0275cmp=E.Xpm({type:j,selectors:[["multi-search-results"]],decls:13,vars:3,consts:function(){let Ze,z;return Ze=$localize`:␟bff7aefeb6e7efe94a85a0962b1b19496aae4331␟8426251802719149730: Search for: `,z=$localize`:␟8a2d515ac520807172d31d76db5a2cf5d28b5849␟8281909101359532609: No results found `,[["page-layout-body",""],[1,"cb-padding-xlarge-top","cb-padding-xxxlarge-bottom"],[1,"results-wrapper","cb-padding-xlarge-horizontal"],[1,"layout-row","layout-align-space-between-center"],[1,"flex","cb-font-weight-bold","cb-font-size-large"],Ze,[1,"cb-margin-medium-top","cb-margin-xlarge-bottom"],[1,"collection-searches"],[3,"entityDef",4,"ngFor","ngForOf"],[1,"cb-margin-xlarge-vertical"],[4,"ngIf"],[3,"entityDef"],[3,"showLoading",4,"ngIf"],[3,"showLoading"],[3,"searchResults","showMore"],[1,"cb-padding-xlarge-top",3,"searchResults","showMore","ngClass"],["class","no-results cb-text-align-center cb-text-color-medium cb-width-100",4,"ngIf"],[3,"searchResults","ngClass",4,"ngFor","ngForOf"],[3,"searchResults","ngClass"],[1,"no-results","cb-text-align-center","cb-text-color-medium","cb-width-100"],[1,"cb-padding-large-bottom","cb-font-size-large"],z,[1,"cb-display-inline-block",3,"resource"],[1,"cb-padding-large-top","cb-font-size-medium"],[1,"link-primary",3,"href"]]},template:function(z,Pe){1&z&&(E.TgZ(0,"page-layout")(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"h1",4),E.SDv(6,5),E.qZA()(),E._UZ(7,"mat-divider",6),E.TgZ(8,"div",7),E.YNc(9,an,1,1,"multi-search-collection-search-link",8),E.qZA(),E._UZ(10,"mat-divider",9),E.YNc(11,Qn,3,2,"ng-container",10),E.YNc(12,Dn,3,2,"ng-container",10),E.qZA()()()()),2&z&&(E.xp6(9),E.Q6J("ngForOf",Pe.entityDefs),E.xp6(2),E.Q6J("ngIf",Pe.isInitialState),E.xp6(1),E.Q6J("ngIf",!Pe.isInitialState))},directives:[Yt.w,$t.d,e.sg,un.L,e.O5,je.z,Zt,e.mk,ti.q],pipes:[Ae.X],styles:["multi-search-results .results-wrapper{margin:0 auto;width:100%;max-width:1100px;box-sizing:border-box}multi-search-results .initial-icon{vertical-align:bottom}multi-search-results .initial-image{max-width:150px}multi-search-results .sample-list{margin:16px 0 0 16px}multi-search-results .sample-list li{list-style:disc outside none}multi-search-results .no-results{padding-top:20px;padding-bottom:20px;max-width:780px;margin:0 auto}@media (min-width: 960px){multi-search-results .no-results{padding-top:48px}}multi-search-results .no-results cb-image{width:200px;height:200px}multi-search-results multi-search-collection-search-link{display:inline-block;margin-right:8px;margin-bottom:8px}multi-search-results .collection-searches{margin-bottom:-8px}\n"],encapsulation:2}),j})();var ln=t(44770),Un=t(43365);const wt=["input"];let fn=(()=>{class j{constructor(z,Pe,qe){this.labelService=z,this.multiSearchService=Pe,this.router=qe,this.isMultiSearchMode=new E.vpe,this.searchInput=new i.NI,this.onClear=new H.xQ}ngOnInit(){this.placeholder=this.labelService.getLabel("CBL.MULTI_SEARCH.PLACEHOLDER.UNFOCUSED")}launchMultiSearchMode(){this.isMultiSearchMode.emit(),this.input.nativeElement.focus(),this.placeholder=$localize`Find companies, people, investors`,this.searchInput.valueChanges.pipe((0,B.R)(this.onClear)).subscribe(z=>{this.multiSearchService.query(z)})}clearInput(){this.onClear.next(),this.searchInput.setValue(null,{emitEvent:!1})}unfocusInput(){this.input.nativeElement.blur(),this.placeholder=this.labelService.getLabel("CBL.MULTI_SEARCH.PLACEHOLDER.UNFOCUSED")}handleEnter(){let z=this.searchInput.value&&this.searchInput.value.trim();(null==z?void 0:z.length)&&this.router.navigate(["textsearch"],{queryParams:{q:this.searchInput.value}})}}return j.\u0275fac=function(z){return new(z||j)(E.Y36(Fe.Q),E.Y36(Lt),E.Y36(p.F0))},j.\u0275cmp=E.Xpm({type:j,selectors:[["multi-search"]],viewQuery:function(z,Pe){if(1&z&&E.Gf(wt,7),2&z){let qe;E.iGM(qe=E.CRH())&&(Pe.input=qe.first)}},outputs:{isMultiSearchMode:"isMultiSearchMode"},decls:5,vars:2,consts:[["autocomplete","off",3,"click"],["floatLabel","never"],["matPrefix","","key","icon_search","size","large",1,"search"],["type","search","autocomplete","off","matInput","",1,"mat-primary","mat-hue-4",3,"formControl","placeholder","keydown.enter"],["input",""]],template:function(z,Pe){1&z&&(E.TgZ(0,"form",0),E.NdJ("click",function(){return Pe.launchMultiSearchMode()}),E.TgZ(1,"mat-form-field",1),E._UZ(2,"icon",2),E.TgZ(3,"input",3,4),E.NdJ("keydown.enter",function(){return Pe.handleEnter()}),E.qZA()()()),2&z&&(E.xp6(3),E.Q6J("formControl",Pe.searchInput)("placeholder",Pe.placeholder))},directives:[i._Y,i.JL,i.F,ln.KE,pe.o,ln.qo,Un.Nt,i.Fj,i.JJ,i.oH],styles:["form[_ngcontent-%COMP%]{font-size:14px;padding-left:8px;padding-right:8px;border-radius:3px;color:#0000008a;background:#e9eff5;border:1px solid rgba(0,0,0,.12)}form[_ngcontent-%COMP%]  .mat-form-field-prefix{margin-right:8px}form[_ngcontent-%COMP%]  .mat-form-field-infix{border-top:0px;width:auto;min-width:100px}form[_ngcontent-%COMP%]  .mat-form-field-underline, form[_ngcontent-%COMP%]  .mat-form-field-subscript-wrapper{display:none}form[_ngcontent-%COMP%]  .mat-form-field-wrapper{padding-bottom:0}form[_ngcontent-%COMP%]  .mat-form-field-labelwrapper{color:#0b4365}.mat-form-field[_ngcontent-%COMP%]{width:100%;font-weight:500;color:#0000008a;line-height:24px}.mat-form-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:24px}.mat-form-field[_ngcontent-%COMP%]   icon[_ngcontent-%COMP%]{vertical-align:middle}"]}),j})();const vn_ADVANCED_SEARCH={iconKey:"icon_search",labelKey:"CBL.GLOBAL_NAV.ADVANCED_SEARCH.HEADER"},vn_ADVANCED_SEARCH_MOBILE={iconKey:"icon_search",labelKey:"CBL.GLOBAL_NAV.ADVANCED_SEARCH.HEADER_MOBILE"},vn_SOLUTIONS={iconKey:"icon_pro_square",labelKey:"CBL.GLOBAL_NAV.SOLUTIONS.HEADER"},vn_PRODUCTS={iconKey:"icon_pro_square",labelKey:"CBL.GLOBAL_NAV.PRODUCTS.HEADER"},vn_RESOURCES={iconKey:"icon_stacked_layers",labelKey:"CBL.GLOBAL_NAV.RESOURCES.HEADER"},vn_LISTS={iconKey:"icon_list",labelKey:"CBL.GLOBAL_NAV.LISTS.HEADER"},vn_ACCOUNT={iconKey:"icon_account_circle",labelKey:"CBL.GLOBAL_NAV.ACCOUNT.HEADER"};var ze=(()=>{return(j=ze||(ze={}))[j.ABOUT=0]="ABOUT",j[j.SUPPORT=1]="SUPPORT",j[j.NEWS=2]="NEWS",j[j.MARKETPLACE=3]="MARKETPLACE",j[j.PRIVACY=4]="PRIVACY",j[j.CHROME_EXTENSION=5]="CHROME_EXTENSION",ze;var j})(),ot=(()=>{return(j=ot||(ot={}))[j.EXTERNAL_NAV=0]="EXTERNAL_NAV",j[j.INTERNAL_NAV=1]="INTERNAL_NAV",j[j.UPSELL=2]="UPSELL",j[j.MODAL=3]="MODAL",j[j.CLICK=4]="CLICK",ot;var j})(),Qe=(()=>{return(j=Qe||(Qe={})).MENU="menu",j.LIST="list",j.HEADER="header",Qe;var j})(),ut=t(20605),Tt=t(2384),bt=t(73729),Wt=t(33145);function sn(j,Ze){if(1&j&&(E.TgZ(0,"tr")(1,"td"),E._uU(2),E.qZA(),E.TgZ(3,"td",8),E._uU(4),E.qZA()()),2&j){const z=Ze.$implicit;E.xp6(2),E.hij(" ",z.name," "),E.xp6(2),E.hij(" ",z.value," ")}}const Gt={FIND_INVESTORS:{iconKey:"icon_investor",labelKey:"CBL.GLOBAL_NAV.SOLUTIONS.FIND_INVESTORS",action:{type:ot.EXTERNAL_NAV,urlType:ze.ABOUT,path:"entrepreneurs-raise-startup-capital"}},FIND_OPPORTUNITIES:{iconKey:"icon_currency_usd_enclosed",labelKey:"CBL.GLOBAL_NAV.SOLUTIONS.FIND_OPPORTUNITIES",action:{type:ot.EXTERNAL_NAV,urlType:ze.ABOUT,path:"find-next-investment"}},FIND_PROSPECTS:{iconKey:"icon_search_money",labelKey:"CBL.GLOBAL_NAV.SOLUTIONS.FIND_PROSPECTS",action:{type:ot.EXTERNAL_NAV,urlType:ze.ABOUT,path:"find-prospects"}},MARKET_RESEARCH:{iconKey:"icon_chart_line",labelKey:"CBL.GLOBAL_NAV.SOLUTIONS.MARKET_RESEARCH",action:{type:ot.EXTERNAL_NAV,urlType:ze.ABOUT,path:"market-research"}},BUILD_PRODUCT:{iconKey:"icon_product",labelKey:"CBL.GLOBAL_NAV.SOLUTIONS.BUILD_PRODUCT",action:{type:ot.EXTERNAL_NAV,urlType:ze.ABOUT,path:"build-your-product"}},PRO_PRODUCT:{iconKey:"icon_pro_lightning",labelKey:"CBL.GLOBAL_NAV.PRODUCTS.PRO",action:{type:ot.EXTERNAL_NAV,urlType:ze.ABOUT,path:"products/crunchbase-pro"}},ENTERPRISE_PRODUCT:{iconKey:"icon_companies",labelKey:"CBL.GLOBAL_NAV.PRODUCTS.ENTERPRISE",action:{type:ot.EXTERNAL_NAV,urlType:ze.ABOUT,path:"products/crunchbase-enterprise"}},DATA_LICENSING:{iconKey:"icon_bill",labelKey:"CBL.GLOBAL_NAV.PRODUCTS.DATA_LICENSING",action:{type:ot.EXTERNAL_NAV,urlType:ze.ABOUT,path:"products/crunchbase-for-applications"}},DATA_PARTNERS:{iconKey:"icon_people_connection",labelKey:"CBL.GLOBAL_NAV.PRODUCTS.DATA_PARTNERS",action:{type:ot.EXTERNAL_NAV,urlType:ze.MARKETPLACE}},CAREERS:{iconKey:"icon_briefcase_outline",labelKey:"CBL.GLOBAL_NAV.RESOURCES.CAREERS",action:{type:ot.EXTERNAL_NAV,urlType:ze.ABOUT,path:"careers"}},CUSTOMER_STORIES:{iconKey:"icon_message_outline",labelKey:"CBL.GLOBAL_NAV.PRODUCTS.CUSTOMER_STORIES",action:{type:ot.EXTERNAL_NAV,urlType:ze.ABOUT,path:"customers"}},CONTRIBUTE:{iconKey:"icon_add_circle",labelKey:"CBL.GLOBAL_NAV.RESOURCES.CONTRIBUTE",action:{type:ot.INTERNAL_NAV,route:{path:["add-new"]}}},BLOG:{iconKey:"icon_write",labelKey:"CBL.GLOBAL_NAV.RESOURCES.BLOG",action:{type:ot.EXTERNAL_NAV,urlType:ze.ABOUT,path:"blog"}},NEWS:{iconKey:"icon_news",labelKey:"CBL.GLOBAL_NAV.RESOURCES.NEWS",action:{type:ot.EXTERNAL_NAV,urlType:ze.NEWS}},ABOUT:{iconKey:"icon_info_outline",labelKey:"CBL.GLOBAL_NAV.RESOURCES.ABOUT",action:{type:ot.EXTERNAL_NAV,urlType:ze.ABOUT,path:"about-us"}},PARTNERS:{iconKey:"icon_data",labelKey:"CBL.GLOBAL_NAV.RESOURCES.PARTNERS",action:{type:ot.EXTERNAL_NAV,urlType:ze.ABOUT,path:"partners"}},CONTACT:{iconKey:"icon_email_outline",labelKey:"CBL.GLOBAL_NAV.RESOURCES.CONTACT",action:{type:ot.EXTERNAL_NAV,urlType:ze.ABOUT,path:"about-us/contact-us"}},HELP:{iconKey:"icon_help_outline",labelKey:"CBL.GLOBAL_NAV.RESOURCES.HELP",action:{type:ot.EXTERNAL_NAV,urlType:ze.SUPPORT}},MARKET_RESEARCH_GUIDE:{iconKey:"icon_chart_line",labelKey:"CBL.GLOBAL_NAV.GUIDES.MARKET_RESEARCH",action:{type:ot.EXTERNAL_NAV,urlType:ze.ABOUT,path:"pro-for-market-research"}},ENTREPRENEUR_GUIDE:{iconKey:"icon_people_three",labelKey:"CBL.GLOBAL_NAV.GUIDES.ENTREPRENEURS",action:{type:ot.EXTERNAL_NAV,urlType:ze.ABOUT,path:"pro-for-entrepreneurs"}},INVESTOR_GUIDE:{iconKey:"icon_investor",labelKey:"CBL.GLOBAL_NAV.GUIDES.INVESTORS",action:{type:ot.EXTERNAL_NAV,urlType:ze.ABOUT,path:"pro-for-investors"}},SALES_GUIDE:{iconKey:"icon_currency_usd_large",labelKey:"CBL.GLOBAL_NAV.GUIDES.SALES",action:{type:ot.EXTERNAL_NAV,urlType:ze.ABOUT,path:"pro-for-sales"}},UPSELL_LISTS_ALL:{iconKey:"icon_pro_lightning",iconColor:"pro-gold",labelKey:"CBL.GLOBAL_NAV.LISTS.ALL",action:{type:ot.INTERNAL_NAV,route:{path:["lists"]}}},UPSELL_LISTS_IMPORT:{iconKey:"icon_pro_lightning",iconColor:"pro-gold",labelKey:"CBL.GLOBAL_NAV.LISTS.IMPORT",action:{type:ot.INTERNAL_NAV,route:{path:["csv-import"]}}},UPSELL_LISTS_SEARCH:{iconKey:"icon_pro_lightning",iconColor:"pro-gold",labelKey:"CBL.GLOBAL_NAV.LISTS.SEARCH",action:{type:ot.INTERNAL_NAV,route:{path:["searches"]}}},LISTS_ALL:{iconKey:"icon_lists",labelKey:"CBL.GLOBAL_NAV.LISTS.ALL",action:{type:ot.INTERNAL_NAV,route:{path:["lists"]}}},LISTS_IMPORT:{iconKey:"icon_import_list",labelKey:"CBL.GLOBAL_NAV.LISTS.IMPORT",action:{type:ot.INTERNAL_NAV,route:{path:["csv-import"]}}},LISTS_SEARCH:{iconKey:"icon_saved_search",labelKey:"CBL.GLOBAL_NAV.LISTS.SEARCH",action:{type:ot.INTERNAL_NAV,route:{path:["searches"]}}},TAGS:{iconKey:"icon_tag",labelKey:"CBL.GLOBAL_NAV.LISTS.TAGS",action:{type:ot.INTERNAL_NAV,route:{path:["account","team","tags"]}}},ACCOUNT_SETTINGS:{iconKey:"icon_personal_settings",labelKey:"CBL.GLOBAL_NAV.ACCOUNT.SETTINGS",action:{type:ot.INTERNAL_NAV,route:{path:["account"]}}},ADMIN_WORKFLOWS:{iconKey:"icon_personal_settings",labelKey:"CBL.GLOBAL_NAV.ACCOUNT.ADMIN",action:{type:ot.INTERNAL_NAV,route:{path:["internal"]}}},FEATURE_FLAGS:{iconKey:"icon_flag",labelKey:"CBL.GLOBAL_NAV.ACCOUNT.FEATURE_FLAGS",action:{type:ot.MODAL,component:(()=>{class j extends Tt.V{constructor(z,Pe){super(),this.featureService=z,this.changeDetectorRef=Pe,this.onDestroy=new H.xQ}ngOnInit(){this.setup()}ngOnDestroy(){this.onDestroy.next()}setup(){this.featureService.getAllFlagValues().pipe((0,B.R)(this.onDestroy)).subscribe(z=>{const Pe=Object.keys(z);Pe.sort(),this.featureFlags=Pe.map(qe=>{let Rt=z[qe];return{flagId:qe,name:(0,ye.startCase)(qe),value:Rt}}),this.changeDetectorRef.markForCheck()})}}return j.\u0275fac=function(z){return new(z||j)(E.Y36(ut.Bz),E.Y36(E.sBO))},j.\u0275cmp=E.Xpm({type:j,selectors:[["feature-flags"]],features:[E.qOj],decls:18,vars:7,consts:function(){let Ze,z;return Ze=$localize`:␟a4bc171a63a585a5222e815e8785b77ce30f3da9␟7394649408594397312: Value `,z=$localize`:␟09a950bfd3fa75d8d0a9480201347e8253d9b0b9␟8579731433254831436: Override `,[[1,"component--feature-flags"],[3,"title"],["dialog-content","",1,"layout-column","cb-font-size-default"],[1,"card-grid","no-top-border","cb-margin-medium-bottom"],Ze,[4,"ngFor","ngForOf"],["routerLink","/devtools/feature-flags",1,"cb-link"],z,[1,"cb-text-align-right"]]},template:function(z,Pe){1&z&&(E.TgZ(0,"form",0)(1,"dialog-layout",1),E.ALo(2,"translate"),E.TgZ(3,"div",2)(4,"table",3)(5,"thead")(6,"tr")(7,"th")(8,"grid-column-header"),E._uU(9),E.ALo(10,"translate"),E.qZA()(),E.TgZ(11,"th")(12,"grid-column-header"),E.SDv(13,4),E.qZA()()()(),E.TgZ(14,"tbody"),E.YNc(15,sn,5,2,"tr",5),E.qZA()(),E.TgZ(16,"a",6),E.SDv(17,7),E.qZA()()()()),2&z&&(E.xp6(1),E.Q6J("title",E.lcZ(2,3,"CBL.ACCOUNT.FEATURE_FLAGS.TITLE")),E.xp6(8),E.hij(" \u{1f6a9} ",E.lcZ(10,5,"CBL.ACCOUNT.FEATURE_FLAGS.FLAG_NAME")," "),E.xp6(6),E.Q6J("ngForOf",Pe.featureFlags))},directives:[i._Y,i.JL,i.F,bt.I,Wt.f,e.sg,p.yS],pipes:[Ae.X],styles:[".component--feature-flags mat-dialog-content>div{padding:0 0 20px}\n"],encapsulation:2,changeDetection:0}),j})()}},PRIVACY:{iconKey:"icon_privacy_settings",labelKey:"CBL.GLOBAL_NAV.ACCOUNT.PRIVACY",action:{type:ot.EXTERNAL_NAV,urlType:ze.PRIVACY}},LOGIN:{iconKey:"icon_help_outline",labelKey:"CBL.GLOBAL_NAV.ACCOUNT.LOGIN",action:{type:ot.INTERNAL_NAV,route:{path:["login"]}}},ACCOUNT_RECOMMENDATIONS:{iconKey:"icon_check_highlight",labelKey:"CBL.GLOBAL_NAV.ACCOUNT_RECOMMENDATIONS",action:{type:ot.INTERNAL_NAV,route:{path:["account-recommendations"]}}},PRICING:{iconKey:"icon_currency_usd_enclosed",labelKey:"CBL.GLOBAL_NAV.PRICING",action:{type:ot.INTERNAL_NAV,route:{path:["buy/select-product"]}}},COMPANY_VERIFY:{iconKey:"icon_verify",labelKey:"CBL.GLOBAL_NAV.ACCOUNT.VERIFY",action:{type:ot.INTERNAL_NAV,route:{path:["verify"]}}},DEVTOOLS:{iconKey:"icon_devtools",labelKey:"CBL.GLOBAL_NAV.RESOURCES.DEVTOOLS",action:{type:ot.INTERNAL_NAV,route:{path:["devtools"]}}},QUERY_BUILDER:{iconKey:"icon_query_builder",labelKey:"CBL.GLOBAL_NAV.ADVANCED_SEARCH.QUERY_BUILDER",action:{type:ot.INTERNAL_NAV,route:{path:["search"]}}},CHROME_EXTENSION:{iconKey:"icon_chrome",labelKey:"CBL.GLOBAL_NAV.CHROME_EXTENSION",action:{type:ot.EXTERNAL_NAV,urlType:ze.CHROME_EXTENSION}}};var Li=t(469),wi=t(77312),Ri=t(79128),Ao=t(80522),eo=t(26144),to=t(26435),Oo=t(42330),Xo=t(39448),es=t(3509);let Jt=(()=>{class j{constructor(z,Pe,qe,Rt,pn,gn,Di,Vi,Vo,Gs,Zs,zs,$s){this.listsService=z,this.themeService=Pe,this.metadataService=qe,this.permissionService=Rt,this.verifyService=pn,this.urlService=gn,this.routingHelper=Di,this.userService=Vi,this.teamPermissionService=Vo,this.syntheticMetadataService=Gs,this.chromeExtensionFtuxService=Zs,this.store=zs,this.isBrowserCompatibleWithExtensionService=$s,this.showLoggedInChromeExtensionItem$=this.chromeExtensionFtuxService.hasFtux().pipe((0,Ri.d)({bufferSize:1,refCount:!0}))}getAccountRecommendationsItem(){return this.userService.getIsLoggedIn$().pipe((0,Q.U)(z=>z?Gt.ACCOUNT_RECOMMENDATIONS:void 0))}getLoginItem(){return this.routingHelper.getCurrentRedirectUrl$().pipe((0,we.O)(null),(0,Q.U)(z=>{const Pe=(0,ye.cloneDeep)(Gt.LOGIN);return Pe.action.route.queryParams={redirect_to:z},Pe}))}getAccountMenuTrigger(){return this.userService.getSessionChangeObservable().pipe((0,Q.U)(z=>{if(!z)return;if(!z.user.image_id)return vn_ACCOUNT;let Pe=Object.assign({},vn_ACCOUNT);return Pe.imageId=z.user.image_id,Pe}))}getAdvancedSearchItems(z){return this.metadataService.getMetadata().pipe((0,Q.U)(Pe=>z?z.map(qe=>Pe.getEntityDef(qe)).filter(nt.K):Pe.getTopLevelEntityDefs()),(0,Q.U)(Pe=>Pe.map(qe=>{var Rt,pn;return{iconKey:this.themeService.getIcon(null===(Rt=qe.display)||void 0===Rt?void 0:Rt.theme_id),label:null===(pn=qe.labels)||void 0===pn?void 0:pn.plural,action:this.getActionFromEntityDef(qe.collection_id)}}).filter(qe=>qe.label)))}getLoggedInGlobalNavAdvancedSearchItems$(){const z=this.syntheticMetadataService.getGlobalNavAdvancedSearchLinks().collectionIds;return this.showLoggedInChromeExtensionItem$.pipe((0,Q.U)(Pe=>Pe?z.slice(1):z),(0,It.w)(Pe=>this.getAdvancedSearchItems(Pe)))}getUserListsItems(){return this.userService.getIsLoggedIn$().pipe((0,It.w)(Pe=>(0,wi.s)(()=>!Pe,(0,Ge.of)([]),this.listsService.getListsChangeSubjectObservable().pipe((0,we.O)(null),(0,It.w)(qe=>this.listsService.getLists$(De.BW.ListTypeEnum.static).pipe((0,at.K)(Rt=>(0,Ge.of)([])))),(0,at.K)(qe=>(0,Ge.of)([])),(0,Q.U)(qe=>qe.sort((Rt,pn)=>Rt.name.localeCompare(pn.name))),(0,Q.U)(qe=>qe.slice(0,3)),(0,Q.U)(qe=>qe.map(Rt=>({label:Rt.name,action:this.getActionFromList(Rt)})))))),(0,Ri.d)(1))}getListActionsItems(){return this.userService.getIsLoggedIn$().pipe((0,It.w)(z=>(0,wi.s)(()=>!z,(0,Ge.of)([]),(0,V.aj)([this.permissionService.getPermissions(),this.teamPermissionService.canViewTeamTags$()]).pipe((0,Q.U)(([Pe,qe])=>{const Rt=[Pe.canCreateNewList()?Gt.LISTS_ALL:Gt.UPSELL_LISTS_ALL,Pe.canImportCsvToList()?Gt.LISTS_IMPORT:Gt.UPSELL_LISTS_IMPORT,Pe.canSaveSearch()?Gt.LISTS_SEARCH:Gt.UPSELL_LISTS_SEARCH];return qe&&Rt.push(Gt.TAGS),Rt})))))}getUserCompaniesItems(){return this.userService.getIsLoggedIn$().pipe((0,It.w)(z=>(0,wi.s)(()=>!z,(0,Ge.of)([]),this.verifyService.getVerifiedEntities().pipe((0,Q.U)(Pe=>Pe.map(qe=>({identifier:qe,label:qe.value,action:this.getActionFromIdentifier(qe)})).filter(qe=>!!qe).concat(Gt.COMPANY_VERIFY))))),(0,Ri.d)(1))}getAdminItems(){return this.permissionService.getPermissions().pipe((0,Q.U)(z=>{let Pe=[];return z.canEnableFeatureFlags()&&Pe.push(Gt.FEATURE_FLAGS),z.canUseInternalTools()&&Pe.push(Gt.ADMIN_WORKFLOWS),Pe}))}getAccountManagementItems(){return this.userService.getIsLoggedIn$().pipe((0,Q.U)(z=>z?[Gt.ACCOUNT_SETTINGS,Gt.PRIVACY,{iconKey:"icon_log_out",labelKey:"CBL.GLOBAL_NAV.ACCOUNT.LOGOUT",action:{type:ot.CLICK,onClick:()=>this.store.dispatch((0,ee.kS)())}}]:[]))}getGuidesOrSolutionsLabelKey(){return this.permissionService.getPermissions().pipe((0,Q.U)(z=>z.showProMarketing()?"CBL.GLOBAL_NAV.SOLUTIONS.HEADER":"CBL.GLOBAL_NAV.GUIDES.HEADER"))}getGuidesOrSolutionsItems(){return this.permissionService.getPermissions().pipe((0,Ao.VS)(z=>z.showProMarketing()?this.getSolutionsItems():this.getGuidesItems()))}getSolutionsItems(){return(0,Ge.of)([Gt.FIND_INVESTORS,Gt.FIND_OPPORTUNITIES,Gt.FIND_PROSPECTS,Gt.MARKET_RESEARCH,Gt.BUILD_PRODUCT])}getGuidesItems(){return(0,Ge.of)([Gt.ENTREPRENEUR_GUIDE,Gt.INVESTOR_GUIDE,Gt.MARKET_RESEARCH_GUIDE,Gt.SALES_GUIDE])}getProductsItems(){const z=[Gt.PRO_PRODUCT,Gt.ENTERPRISE_PRODUCT,Gt.DATA_LICENSING,Gt.DATA_PARTNERS];return this.userService.getIsLoggedIn$().pipe((0,Q.U)(Pe=>z.slice(0,2).concat([Gt.CHROME_EXTENSION]).concat(z.slice(2)).concat(Pe?[]:[Gt.CUSTOMER_STORIES])))}getResourcesItems(){return(0,Ge.of)([Gt.CONTRIBUTE,Gt.BLOG,Gt.NEWS,Gt.ABOUT,Gt.CAREERS,Gt.PARTNERS,Gt.CONTACT,Gt.HELP])}getPricingLink(){return(0,Ge.of)(Gt.PRICING)}getAnonChromeExtensionItem$(){return this.isBrowserCompatibleWithExtensionService.compatible$.pipe((0,Q.U)(z=>z?Gt.CHROME_EXTENSION:void 0))}getLoggedInChromeExtensionItem$(){return this.showLoggedInChromeExtensionItem$.pipe((0,Q.U)(z=>z&&Gt.CHROME_EXTENSION.action.type===ot.EXTERNAL_NAV?Object.assign(Object.assign({},Gt.CHROME_EXTENSION),{action:Object.assign(Object.assign({},Gt.CHROME_EXTENSION.action),{onClick:()=>this.chromeExtensionFtuxService.dismiss()})}):void 0))}getActionFromList(z){return{type:ot.INTERNAL_NAV,route:this.listsService.getListRouteFromList(z)}}getActionFromEntityDef(z){return{type:ot.INTERNAL_NAV,route:{path:["discover",z]}}}getActionFromIdentifier(z){return{type:ot.INTERNAL_NAV,route:this.urlService.getIdentifierRoute(z)}}}return j.\u0275fac=function(z){return new(z||j)(E.LFG(Ye.XN),E.LFG(Li.f),E.LFG(Ut.Do),E.LFG(ce.$),E.LFG(eo.B),E.LFG(dt.iO),E.LFG(to.VP),E.LFG(D.KD),E.LFG(Oo.$),E.LFG(Je.Y),E.LFG(Xo.X),E.LFG(X.yh),E.LFG(es.D))},j.\u0275prov=E.Yz7({token:j,factory:j.\u0275fac,providedIn:"root"}),j})();var Po=t(25458);let Bi=(()=>{class j{constructor(z,Pe){this.bootstrapService=z,this.globalNavItemService=Pe}getUserMenus(){return[this.getListsMenu(),this.getFullResourcesMenu(),this.getAccountMenu()]}getAnonMenus(){return[this.getSolutionsMenu(),this.getProductsMenu(),this.getMinimalResourceMenu()]}getFullResourcesMenu(){let z=[];return this.bootstrapService.isProd()||z.push({items:(0,Ge.of)([Gt.DEVTOOLS])}),z=[...z,{items:this.globalNavItemService.getPricingLink().pipe((0,Q.U)(Pe=>[Pe]))},{labelKey:this.globalNavItemService.getGuidesOrSolutionsLabelKey(),items:this.globalNavItemService.getGuidesOrSolutionsItems()},{labelKey:(0,Ge.of)("CBL.GLOBAL_NAV.PRODUCTS.HEADER"),items:this.globalNavItemService.getProductsItems()},{labelKey:(0,Ge.of)("CBL.GLOBAL_NAV.RESOURCES.HEADER"),items:this.globalNavItemService.getResourcesItems()}],{trigger:(0,Ge.of)(vn_RESOURCES),groups:z}}getAdvancedMenu(){return{trigger:(0,Ge.of)(vn_ADVANCED_SEARCH),groups:[{items:this.globalNavItemService.getAdvancedSearchItems()},{items:(0,Ge.of)([Gt.QUERY_BUILDER])}]}}getMobileAdvancedMenu(){return{trigger:(0,Ge.of)(vn_ADVANCED_SEARCH_MOBILE),groups:[{items:this.globalNavItemService.getAdvancedSearchItems()}]}}getListsMenu(){return{trigger:(0,Ge.of)(vn_LISTS),groups:[{items:this.globalNavItemService.getListActionsItems()},{items:this.globalNavItemService.getUserListsItems()}]}}getAccountMenu(){return{trigger:this.globalNavItemService.getAccountMenuTrigger(),groups:[{items:this.globalNavItemService.getAdminItems()},{labelKey:(0,Ge.of)("CBL.GLOBAL_NAV.ACCOUNT.MY_COMPANY"),items:this.globalNavItemService.getUserCompaniesItems()},{items:this.globalNavItemService.getAccountManagementItems()}]}}getSolutionsMenu(){return{trigger:(0,Ge.of)(vn_SOLUTIONS),groups:[{items:this.globalNavItemService.getSolutionsItems()}]}}getProductsMenu(){return{trigger:(0,Ge.of)(vn_PRODUCTS),groups:[{items:this.globalNavItemService.getProductsItems()}]}}getMinimalResourceMenu(){let z=[];return this.bootstrapService.isProd()||z.push({items:(0,Ge.of)([Gt.DEVTOOLS])}),z=[...z,{items:this.globalNavItemService.getResourcesItems()}],{trigger:(0,Ge.of)(vn_RESOURCES),groups:z}}}return j.\u0275fac=function(z){return new(z||j)(E.LFG(Po.Qn),E.LFG(Jt))},j.\u0275prov=E.Yz7({token:j,factory:j.\u0275fac,providedIn:"root"}),j})();var ki=t(56589),Hi=t(81824),oi=(()=>{return(j=oi||(oi={}))[j.trial=0]="trial",j[j.upgradeFromTrial=1]="upgradeFromTrial",j[j.contacts=2]="contacts",oi;var j})();let zn=(()=>{class j{constructor(z,Pe,qe,Rt,pn){this.store=z,this.permissionService=Pe,this.billingService=qe,this.userService=Rt,this.labelService=pn,this.hasProTheming$=this.permissionService.getPermissions().pipe((0,Q.U)(gn=>gn.hasProTheming())),this.canUseContactsAddon$=this.permissionService.getPermissions().pipe((0,Q.U)(gn=>gn.canUseContactsAddon())),this.showProMarketing$=this.permissionService.getPermissions().pipe((0,Q.U)(gn=>gn.showProMarketing())),this.isInProTrial$=this.userService.getSessionChangeObservable().pipe((0,Q.U)(()=>this.billingService.isInProTrial())),this.hasContactPackage$=this.store.select(Hi.n0)}showHeaderUpsell$(){return(0,V.aj)([this.isInProTrial$,this.canUseContactsAddon$,this.showProMarketing$,this.hasContactPackage$]).pipe((0,Q.U)(([z,Pe,qe,Rt])=>Pe&&!Rt||z||qe))}getUpsellButtonConfig$(){return(0,V.aj)([this.isInProTrial$,this.hasProTheming$]).pipe((0,Q.U)(([z,Pe])=>z?{type:oi.upgradeFromTrial,buttonText:this.labelService.getLabel("CBL.UPSELL.UPGRADE_NOW"),mobileBannerText:this.labelService.getLabel("CBL.GLOBAL_NAV.UPSELL_BANNER.GET_PRO")}:Pe?{type:oi.contacts,buttonText:this.labelService.getLabel("CBL.UPSELL.GET_CONTACTS"),mobileBannerText:this.labelService.getLabel("CBL.GLOBAL_NAV.UPSELL_BANNER.GET_CONTACTS")}:{type:oi.trial,buttonText:$localize`Start Free Trial`,mobileBannerText:this.labelService.getLabel("CBL.GLOBAL_NAV.UPSELL_BANNER.GET_PRO")}))}}return j.\u0275fac=function(z){return new(z||j)(E.LFG(X.yh),E.LFG(ce.$),E.LFG(u.jM),E.LFG(D.KD),E.LFG(Fe.Q))},j.\u0275prov=E.Yz7({token:j,factory:j.\u0275fac,providedIn:"root"}),j})();var Pn=t(90164),Gi=t(52974),Zi=t(36312),zi=t(16276),Ci=t(82796),no=t(34657),bo=t(20262);function ts(j,Ze){if(1&j&&E._UZ(0,"identifier-image",3),2&j){const z=E.oxw();E.Q6J("size",20)("identifier",z.identifier)}}function ns(j,Ze){if(1&j&&E._UZ(0,"cb-image",4),2&j){const z=E.oxw();E.Q6J("publicId",z.imageId)("width",20)("height",20)}}function is(j,Ze){if(1&j&&E._UZ(0,"icon",5),2&j){const z=E.oxw();E.Q6J("size",z.iconSize?z.iconSize:"large")("key",z.iconKey)("color",z.iconColor||"inherit")}}let Lo=(()=>{class j{}return j.\u0275fac=function(z){return new(z||j)},j.\u0275cmp=E.Xpm({type:j,selectors:[["nav-action-item-image"]],inputs:{iconKey:"iconKey",iconColor:"iconColor",iconSize:"iconSize",identifier:"identifier",imageId:"imageId"},decls:3,vars:3,consts:[[3,"size","identifier",4,"ngIf"],["class","cb-line-height-none","crop","thumb","radius","max","format","png",3,"publicId","width","height",4,"ngIf"],[3,"size","key","color",4,"ngIf"],[3,"size","identifier"],["crop","thumb","radius","max","format","png",1,"cb-line-height-none",3,"publicId","width","height"],[3,"size","key","color"]],template:function(z,Pe){1&z&&(E.YNc(0,ts,1,2,"identifier-image",0),E.YNc(1,ns,1,3,"cb-image",1),E.YNc(2,is,1,3,"icon",2)),2&z&&(E.Q6J("ngIf",Pe.identifier),E.xp6(1),E.Q6J("ngIf",!Pe.identifier&&Pe.imageId),E.xp6(1),E.Q6J("ngIf",!Pe.identifier&&!Pe.imageId&&Pe.iconKey))},directives:[e.O5,bo.J,ti.q,pe.o],styles:["[_nghost-%COMP%]{display:flex!important;flex-direction:row;justify-content:center;box-sizing:border-box;align-items:center;align-content:center;max-width:100%}[_nghost-%COMP%] > *[_ngcontent-%COMP%]{max-width:100%;box-sizing:border-box}icon[_ngcontent-%COMP%], identifier-image[_ngcontent-%COMP%], cb-image[_ngcontent-%COMP%]{flex:0 0 auto;box-sizing:border-box}cb-image[_ngcontent-%COMP%]{display:inline-block;height:20px;width:20px}"],changeDetection:0}),j})();function os(j,Ze){1&j&&E._UZ(0,"icon",7)}function Mo(j,Ze){1&j&&E.GkF(0)}function ss(j,Ze){if(1&j&&(E.TgZ(0,"div",2)(1,"div",3),E._UZ(2,"nav-action-item-image",4),E.YNc(3,os,1,0,"icon",5),E.qZA(),E.YNc(4,Mo,1,0,"ng-container",6),E.qZA()),2&j){const z=E.oxw(),Pe=E.MAs(2);E.xp6(2),E.Q6J("iconKey",z.iconKey)("imageId",z.imageId),E.xp6(1),E.Q6J("ngIf",z.showChevron),E.xp6(1),E.Q6J("ngTemplateOutlet",Pe)}}function as(j,Ze){if(1&j&&(E.TgZ(0,"span",11),E._uU(1),E.qZA()),2&j){const z=E.oxw(2);E.xp6(1),E.Oqu(z.label)}}function rs(j,Ze){1&j&&E._UZ(0,"icon",12)}const cs=function(j){return{"hide show-gt-md":j}};function Do(j,Ze){if(1&j&&(E.TgZ(0,"div",8),E.YNc(1,as,2,1,"span",9),E.YNc(2,rs,1,0,"icon",10),E.qZA()),2&j){const z=E.oxw();E.Q6J("ngClass",E.VKq(3,cs,z.showImage)),E.xp6(1),E.Q6J("ngIf",!z.hideLabel),E.xp6(1),E.Q6J("ngIf",z.showChevron)}}let io=(()=>{class j{}return j.\u0275fac=function(z){return new(z||j)},j.\u0275cmp=E.Xpm({type:j,selectors:[["nav-action-item-header-layout"]],inputs:{iconKey:"iconKey",imageId:"imageId",showImage:"showImage",label:"label",showChevron:"showChevron",hideLabel:"hideLabel"},decls:3,vars:2,consts:[["class","layout-column layout-align-center-center cb-height-100 with-image",4,"ngIf","ngIfElse"],["labelAndChevron",""],[1,"layout-column","layout-align-center-center","cb-height-100","with-image"],[1,"centered-row"],["iconSize","xlarge","iconColor","inherit",3,"iconKey","imageId"],["class","hide-gt-md","key","icon_caret_down","color","inherit",4,"ngIf"],[4,"ngTemplateOutlet"],["key","icon_caret_down","color","inherit",1,"hide-gt-md"],[1,"centered-row","label-row",3,"ngClass"],["class","label",4,"ngIf"],["key","icon_caret_down","color","inherit",4,"ngIf"],[1,"label"],["key","icon_caret_down","color","inherit"]],template:function(z,Pe){if(1&z&&(E.YNc(0,ss,5,4,"div",0),E.YNc(1,Do,3,5,"ng-template",null,1,E.W1O)),2&z){const qe=E.MAs(2);E.Q6J("ngIf",Pe.showImage)("ngIfElse",qe)}},directives:[e.O5,Lo,pe.o,e.tP,e.mk],styles:["[_nghost-%COMP%]{display:inline-block;min-width:40px;text-transform:initial;letter-spacing:initial}.label-row[_ngcontent-%COMP%]{height:100%}.with-image[_ngcontent-%COMP%]   .label-row[_ngcontent-%COMP%]{height:20px}.with-image[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{line-height:normal;font-size:12px}.centered-row[_ngcontent-%COMP%]{display:flex!important;flex-direction:row;justify-content:center;box-sizing:border-box;align-items:center;align-content:center;max-width:100%}.centered-row[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{max-width:100%;box-sizing:border-box}@media (min-width: 1280px){[_nghost-%COMP%]{min-width:55px}}"],changeDetection:0}),j})();var yi=t(26131),ls=t(85129);let Si=(()=>{class j{constructor(z,Pe){this.dialogService=z,this.urlService=Pe,this.showImage=!0,this.NavActionTypeEnum=ot}handleModalAction(z){z.onClick&&z.onClick(),this.dialogService.showDialog(z.component)}handleUpsellAction(z){z.onClick&&z.onClick(),this.dialogService.showDialog(ls.j,{featureSet:z.featureSet})}getUrlFromExternalAction(z){const Pe=z.action;switch(Pe.urlType){case ze.ABOUT:return this.urlService.getAboutCrunchbaseUrl(Pe.path);case ze.SUPPORT:return this.urlService.getKnowledgeUrl(Pe.path);case ze.MARKETPLACE:return this.urlService.getMarketplaceUrl(Pe.path);case ze.NEWS:return this.urlService.getNewsCrunchbaseUrl(Pe.path);case ze.PRIVACY:return this.urlService.getPrivacyPolicyUrl();case ze.CHROME_EXTENSION:return this.urlService.getChromeExtensionUrl();default:throw new _e.S(Pe.urlType)}}getRouterLinkFromInternalAction(z){return z.action.route.path}getRouterParamsFromInternalAction(z){return z.action.route.queryParams}}return j.\u0275fac=function(z){return new(z||j)(E.Y36(Tt.x),E.Y36(dt.iO))},j.\u0275dir=E.lG2({type:j,inputs:{item:"item",showImage:"showImage"}}),j})();function Ai(j,Ze){if(1&j&&E._UZ(0,"nav-action-item-image",2),2&j){const z=E.oxw();E.Q6J("iconKey",z.iconKey)("iconColor",z.iconColor)("identifier",z.identifier)("imageId",z.imageId)}}let oo=(()=>{class j{}return j.\u0275fac=function(z){return new(z||j)},j.\u0275cmp=E.Xpm({type:j,selectors:[["nav-action-item-layout"]],inputs:{iconKey:"iconKey",iconColor:"iconColor",identifier:"identifier",imageId:"imageId",showImage:"showImage",label:"label"},decls:3,vars:2,consts:[[3,"iconKey","iconColor","identifier","imageId",4,"ngIf"],[1,"label"],[3,"iconKey","iconColor","identifier","imageId"]],template:function(z,Pe){1&z&&(E.YNc(0,Ai,1,4,"nav-action-item-image",0),E.TgZ(1,"span",1),E._uU(2),E.qZA()),2&z&&(E.Q6J("ngIf",Pe.showImage),E.xp6(2),E.hij(" ",Pe.label,"\n"))},directives:[e.O5,Lo],styles:["[_nghost-%COMP%]{display:flex;box-sizing:border-box;flex-direction:row;align-items:center;align-content:center;max-width:100%;width:100%;justify-content:flex-start}nav-action-item-image[_ngcontent-%COMP%]{margin-right:8px}.label[_ngcontent-%COMP%]{font-weight:500;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;flex:1 1 auto;box-sizing:border-box;text-align:left}"],changeDetection:0}),j})();function ds(j,Ze){if(1&j){const z=E.EpF();E.TgZ(0,"a",3),E.NdJ("click",function(){E.CHM(z);const qe=E.oxw();return qe.item.action.onClick&&qe.item.action.onClick()}),E._UZ(1,"nav-action-item-layout",4),E.ALo(2,"translate"),E.qZA()}if(2&j){const z=E.oxw();E.Q6J("href",z.getUrlFromExternalAction(z.item),E.LSH),E.xp6(1),E.Q6J("identifier",z.item.identifier)("iconKey",z.item.iconKey)("imageId",z.item.imageId)("showImage",z.showImage)("label",z.item.label||E.lcZ(2,6,z.item.labelKey))}}function xo(j,Ze){if(1&j){const z=E.EpF();E.TgZ(0,"a",5),E.NdJ("click",function(){E.CHM(z);const qe=E.oxw();return qe.item.action.onClick&&qe.item.action.onClick()}),E._UZ(1,"nav-action-item-layout",6),E.ALo(2,"translate"),E.qZA()}if(2&j){const z=E.oxw();E.Q6J("routerLink",z.getRouterLinkFromInternalAction(z.item))("queryParams",z.getRouterParamsFromInternalAction(z.item)),E.xp6(1),E.Q6J("identifier",z.item.identifier)("iconKey",z.item.iconKey)("iconColor",z.item.iconColor)("imageId",z.item.imageId)("showImage",z.showImage)("label",z.item.label||E.lcZ(2,8,z.item.labelKey))}}function Ro(j,Ze){if(1&j){const z=E.EpF();E.TgZ(0,"button",7),E.NdJ("click",function(){E.CHM(z);const qe=E.oxw();return qe.handleModalAction(qe.item.action)}),E._UZ(1,"nav-action-item-layout",4),E.ALo(2,"translate"),E.qZA()}if(2&j){const z=E.oxw();E.xp6(1),E.Q6J("identifier",z.item.identifier)("iconKey",z.item.iconKey)("imageId",z.item.imageId)("showImage",z.showImage)("label",z.item.label||E.lcZ(2,5,z.item.labelKey))}}function _s(j,Ze){if(1&j){const z=E.EpF();E.TgZ(0,"button",7),E.NdJ("click",function(){E.CHM(z);const qe=E.oxw();return qe.handleUpsellAction(qe.item.action)}),E._UZ(1,"nav-action-item-layout",8),E.ALo(2,"translate"),E.qZA()}if(2&j){const z=E.oxw();E.xp6(1),E.Q6J("showImage",z.showImage)("label",z.item.label||E.lcZ(2,2,z.item.labelKey))}}function so(j,Ze){if(1&j){const z=E.EpF();E.TgZ(0,"button",7),E.NdJ("click",function(){return E.CHM(z),E.oxw().item.action.onClick()}),E._UZ(1,"nav-action-item-layout",4),E.ALo(2,"translate"),E.qZA()}if(2&j){const z=E.oxw();E.xp6(1),E.Q6J("identifier",z.item.identifier)("iconKey",z.item.iconKey)("imageId",z.item.imageId)("showImage",z.showImage)("label",z.item.label||E.lcZ(2,5,z.item.labelKey))}}let ao=(()=>{class j extends Si{constructor(z,Pe){super(z,Pe)}}return j.\u0275fac=function(z){return new(z||j)(E.Y36(Tt.x),E.Y36(dt.iO))},j.\u0275cmp=E.Xpm({type:j,selectors:[["nav-list-action-item"]],features:[E.qOj],decls:5,vars:5,consts:[["mat-list-item","","rel","noopener","target","_blank",3,"href","click",4,"ngIf"],["mat-list-item","",3,"routerLink","queryParams","click",4,"ngIf"],["mat-list-item","",3,"click",4,"ngIf"],["mat-list-item","","rel","noopener","target","_blank",3,"href","click"],[3,"identifier","iconKey","imageId","showImage","label"],["mat-list-item","",3,"routerLink","queryParams","click"],[3,"identifier","iconKey","iconColor","imageId","showImage","label"],["mat-list-item","",3,"click"],["iconKey","icon_pro_lightning","iconColor","pro-gold",3,"showImage","label"]],template:function(z,Pe){1&z&&(E.YNc(0,ds,3,8,"a",0),E.YNc(1,xo,3,10,"a",1),E.YNc(2,Ro,3,7,"button",2),E.YNc(3,_s,3,4,"button",2),E.YNc(4,so,3,7,"button",2)),2&z&&(E.Q6J("ngIf",Pe.item.action.type===Pe.NavActionTypeEnum.EXTERNAL_NAV),E.xp6(1),E.Q6J("ngIf",Pe.item.action.type===Pe.NavActionTypeEnum.INTERNAL_NAV),E.xp6(1),E.Q6J("ngIf",Pe.item.action.type===Pe.NavActionTypeEnum.MODAL),E.xp6(1),E.Q6J("ngIf",Pe.item.action.type===Pe.NavActionTypeEnum.UPSELL),E.xp6(1),E.Q6J("ngIf",Pe.item.action.type===Pe.NavActionTypeEnum.CLICK))},directives:[e.O5,yi.Tg,oo,p.yS],pipes:[Ae.X],styles:["a[_ngcontent-%COMP%]{color:#282828;text-decoration:none}button[_ngcontent-%COMP%]{border:0;background:transparent}"],changeDetection:0}),j})();function No(j,Ze){if(1&j){const z=E.EpF();E.TgZ(0,"a",3),E.NdJ("click",function(){E.CHM(z);const qe=E.oxw();return qe.item.action.onClick&&qe.item.action.onClick()}),E._UZ(1,"nav-action-item-layout",4),E.ALo(2,"translate"),E.qZA()}if(2&j){const z=E.oxw();E.Q6J("href",z.getUrlFromExternalAction(z.item),E.LSH),E.xp6(1),E.Q6J("identifier",z.item.identifier)("iconKey",z.item.iconKey)("imageId",z.item.imageId)("showImage",z.showImage)("label",z.item.label||E.lcZ(2,6,z.item.labelKey))}}function us(j,Ze){if(1&j){const z=E.EpF();E.TgZ(0,"a",5),E.NdJ("click",function(){E.CHM(z);const qe=E.oxw();return qe.item.action.onClick&&qe.item.action.onClick()}),E._UZ(1,"nav-action-item-layout",6),E.ALo(2,"translate"),E.qZA()}if(2&j){const z=E.oxw();E.Q6J("routerLink",z.getRouterLinkFromInternalAction(z.item))("queryParams",z.getRouterParamsFromInternalAction(z.item)),E.xp6(1),E.Q6J("identifier",z.item.identifier)("iconKey",z.item.iconKey)("iconColor",z.item.iconColor)("imageId",z.item.imageId)("showImage",z.showImage)("label",z.item.label||E.lcZ(2,8,z.item.labelKey))}}function ps(j,Ze){if(1&j){const z=E.EpF();E.TgZ(0,"button",7),E.NdJ("click",function(){E.CHM(z);const qe=E.oxw();return qe.handleModalAction(qe.item.action)}),E._UZ(1,"nav-action-item-layout",4),E.ALo(2,"translate"),E.qZA()}if(2&j){const z=E.oxw();E.xp6(1),E.Q6J("identifier",z.item.identifier)("iconKey",z.item.iconKey)("imageId",z.item.imageId)("showImage",z.showImage)("label",z.item.label||E.lcZ(2,5,z.item.labelKey))}}function gs(j,Ze){if(1&j){const z=E.EpF();E.TgZ(0,"button",7),E.NdJ("click",function(){E.CHM(z);const qe=E.oxw();return qe.handleUpsellAction(qe.item.action)}),E._UZ(1,"nav-action-item-layout",8),E.ALo(2,"translate"),E.qZA()}if(2&j){const z=E.oxw();E.xp6(1),E.Q6J("showImage",z.showImage)("label",z.item.label||E.lcZ(2,2,z.item.labelKey))}}function ms(j,Ze){if(1&j){const z=E.EpF();E.TgZ(0,"button",7),E.NdJ("click",function(){return E.CHM(z),E.oxw().item.action.onClick()}),E._UZ(1,"nav-action-item-layout",4),E.ALo(2,"translate"),E.qZA()}if(2&j){const z=E.oxw();E.xp6(1),E.Q6J("identifier",z.item.identifier)("iconKey",z.item.iconKey)("imageId",z.item.imageId)("showImage",z.showImage)("label",z.item.label||E.lcZ(2,5,z.item.labelKey))}}let hs=(()=>{class j extends Si{constructor(z,Pe){super(z,Pe)}}return j.\u0275fac=function(z){return new(z||j)(E.Y36(Tt.x),E.Y36(dt.iO))},j.\u0275cmp=E.Xpm({type:j,selectors:[["nav-menu-action-item"]],features:[E.qOj],decls:5,vars:5,consts:[["mat-menu-item","","rel","noopener","target","_blank",3,"href","click",4,"ngIf"],["mat-menu-item","",3,"routerLink","queryParams","click",4,"ngIf"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","","rel","noopener","target","_blank",3,"href","click"],[3,"identifier","iconKey","imageId","showImage","label"],["mat-menu-item","",3,"routerLink","queryParams","click"],[3,"identifier","iconKey","iconColor","imageId","showImage","label"],["mat-menu-item","",3,"click"],["iconKey","icon_pro_lightning","iconColor","pro-gold",3,"showImage","label"]],template:function(z,Pe){1&z&&(E.YNc(0,No,3,8,"a",0),E.YNc(1,us,3,10,"a",1),E.YNc(2,ps,3,7,"button",2),E.YNc(3,gs,3,4,"button",2),E.YNc(4,ms,3,7,"button",2)),2&z&&(E.Q6J("ngIf",Pe.item.action.type===Pe.NavActionTypeEnum.EXTERNAL_NAV),E.xp6(1),E.Q6J("ngIf",Pe.item.action.type===Pe.NavActionTypeEnum.INTERNAL_NAV),E.xp6(1),E.Q6J("ngIf",Pe.item.action.type===Pe.NavActionTypeEnum.MODAL),E.xp6(1),E.Q6J("ngIf",Pe.item.action.type===Pe.NavActionTypeEnum.UPSELL),E.xp6(1),E.Q6J("ngIf",Pe.item.action.type===Pe.NavActionTypeEnum.CLICK))},directives:[e.O5,Ci.OP,oo,p.yS],pipes:[Ae.X],styles:["a[_ngcontent-%COMP%]{color:#282828;text-decoration:none}button[_ngcontent-%COMP%]{border:0;background:transparent}"],changeDetection:0}),j})();function Es(j,Ze){if(1&j){const z=E.EpF();E.TgZ(0,"a",2),E.NdJ("click",function(){E.CHM(z);const qe=E.oxw();return qe.item.action.onClick&&qe.item.action.onClick()}),E.ALo(1,"translate"),E.ALo(2,"translate"),E.ALo(3,"async"),E._UZ(4,"nav-action-item-header-layout",3),E.ALo(5,"translate"),E.qZA()}if(2&j){const z=E.oxw();E.Q6J("matTooltip",z.item.label||E.lcZ(2,10,z.item.labelKey))("matTooltipDisabled",!z.showImage||E.lcZ(3,12,z.shouldHideTooltip$))("href",z.getUrlFromExternalAction(z.item),E.LSH),E.uIk("aria-label",z.item.label||E.lcZ(1,8,z.item.labelKey)),E.xp6(4),E.Q6J("iconKey",z.item.iconKey)("imageId",z.item.imageId)("showImage",z.showImage)("label",z.item.label||E.lcZ(5,14,z.item.labelKey))}}const fs=function(){return{exact:!0}};function Fo(j,Ze){if(1&j){const z=E.EpF();E.TgZ(0,"a",4),E.NdJ("click",function(){E.CHM(z);const qe=E.oxw();return qe.item.action.onClick&&qe.item.action.onClick()}),E.ALo(1,"translate"),E.ALo(2,"translate"),E.ALo(3,"async"),E._UZ(4,"nav-action-item-header-layout",3),E.ALo(5,"translate"),E.qZA()}if(2&j){const z=E.oxw();E.Q6J("matTooltip",z.item.label||E.lcZ(2,12,z.item.labelKey))("matTooltipDisabled",!z.showImage||E.lcZ(3,14,z.shouldHideTooltip$))("routerLink",z.getRouterLinkFromInternalAction(z.item))("queryParams",z.getRouterParamsFromInternalAction(z.item))("routerLinkActiveOptions",E.DdM(18,fs)),E.uIk("aria-label",z.item.label||E.lcZ(1,10,z.item.labelKey)),E.xp6(4),E.Q6J("iconKey",z.item.iconKey)("imageId",z.item.imageId)("showImage",z.showImage)("label",z.item.label||E.lcZ(5,16,z.item.labelKey))}}let Uo=(()=>{class j extends Si{constructor(z,Pe,qe){super(z,Pe),this.breakpointService=qe,this.shouldHideTooltip$=this.breakpointService.isSize$(["small","medium"]).pipe((0,Q.U)(Rt=>!Rt))}}return j.\u0275fac=function(z){return new(z||j)(E.Y36(Tt.x),E.Y36(dt.iO),E.Y36(ki.r))},j.\u0275cmp=E.Xpm({type:j,selectors:[["nav-header-action-item"]],features:[E.qOj],decls:2,vars:2,consts:[["mat-button","","rel","noopener","target","_blank",3,"matTooltip","matTooltipDisabled","href","click",4,"ngIf"],["mat-button","","routerLinkActive","active",3,"matTooltip","matTooltipDisabled","routerLink","queryParams","routerLinkActiveOptions","click",4,"ngIf"],["mat-button","","rel","noopener","target","_blank",3,"matTooltip","matTooltipDisabled","href","click"],[3,"iconKey","imageId","showImage","label"],["mat-button","","routerLinkActive","active",3,"matTooltip","matTooltipDisabled","routerLink","queryParams","routerLinkActiveOptions","click"]],template:function(z,Pe){1&z&&(E.YNc(0,Es,6,16,"a",0),E.YNc(1,Fo,6,19,"a",1)),2&z&&(E.Q6J("ngIf",Pe.item.action.type===Pe.NavActionTypeEnum.EXTERNAL_NAV),E.xp6(1),E.Q6J("ngIf",Pe.item.action.type===Pe.NavActionTypeEnum.INTERNAL_NAV))},directives:[e.O5,de.zs,s.gM,io,p.yS,p.Od],pipes:[Ae.X,e.Ov],styles:["a[_ngcontent-%COMP%]{height:100%;display:flex!important;flex-direction:row;justify-content:center;box-sizing:border-box;align-items:center;align-content:center;max-width:100%}a[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{max-width:100%;box-sizing:border-box}[mat-button][_ngcontent-%COMP%]{padding:0 8px;border-radius:0}@media (min-width: 1280px){[mat-button][_ngcontent-%COMP%]{padding:0 20px}}"],changeDetection:0}),j})();function ro(j,Ze){if(1&j&&E._UZ(0,"nav-list-action-item",2),2&j){const z=E.oxw();E.Q6J("item",z.item)("showImage",z.showImage)}}function vs(j,Ze){if(1&j&&E._UZ(0,"nav-menu-action-item",2),2&j){const z=E.oxw();E.Q6J("item",z.item)("showImage",z.showImage)}}function wo(j,Ze){if(1&j&&E._UZ(0,"nav-header-action-item",2),2&j){const z=E.oxw();E.Q6J("item",z.item)("showImage",z.showImage)}}let $i=(()=>{class j{constructor(){this.showImage=!0,this.NavActionDisplayType=Qe}}return j.\u0275fac=function(z){return new(z||j)},j.\u0275cmp=E.Xpm({type:j,selectors:[["nav-action-item"]],inputs:{displayType:"displayType",item:"item",showImage:"showImage"},decls:4,vars:4,consts:[[3,"ngSwitch"],[3,"item","showImage",4,"ngSwitchCase"],[3,"item","showImage"]],template:function(z,Pe){1&z&&(E.ynx(0,0),E.YNc(1,ro,1,2,"nav-list-action-item",1),E.YNc(2,vs,1,2,"nav-menu-action-item",1),E.YNc(3,wo,1,2,"nav-header-action-item",1),E.BQk()),2&z&&(E.Q6J("ngSwitch",Pe.displayType),E.xp6(1),E.Q6J("ngSwitchCase",Pe.NavActionDisplayType.LIST),E.xp6(1),E.Q6J("ngSwitchCase",Pe.NavActionDisplayType.MENU),E.xp6(1),E.Q6J("ngSwitchCase",Pe.NavActionDisplayType.HEADER))},directives:[e.RF,e.n9,ao,hs,Uo],encapsulation:2,changeDetection:0}),j})();function Cs(j,Ze){if(1&j&&(E.TgZ(0,"h3",4),E._uU(1),E.ALo(2,"translate"),E.qZA()),2&j){const z=Ze.ngIf,Pe=E.oxw(2);E.Q6J("ngClass",Pe.displayType),E.xp6(1),E.hij(" ",E.lcZ(2,2,z)," ")}}function co(j,Ze){if(1&j&&E._UZ(0,"nav-action-item",7),2&j){const z=Ze.$implicit,Pe=E.oxw(3);E.Q6J("item",z)("displayType",Pe.displayType)}}function _i(j,Ze){1&j&&E._UZ(0,"mat-divider")}function Bo(j,Ze){if(1&j&&(E.ynx(0),E.YNc(1,co,1,2,"nav-action-item",5),E.YNc(2,_i,1,0,"mat-divider",6),E.BQk()),2&j){const z=Ze.ngIf,Pe=E.oxw().last;E.xp6(1),E.Q6J("ngForOf",z),E.xp6(1),E.Q6J("ngIf",!Pe&&z.length)}}function ui(j,Ze){1&j&&E._UZ(0,"mat-divider")}function Wi(j,Ze){if(1&j&&(E.TgZ(0,"div",8),E._UZ(1,"mat-spinner",9),E.qZA(),E.YNc(2,ui,1,0,"mat-divider",6)),2&j){const z=E.oxw().last;E.xp6(2),E.Q6J("ngIf",!z)}}function ys(j,Ze){if(1&j&&(E.ynx(0),E.YNc(1,Cs,3,4,"h3",1),E.ALo(2,"async"),E.YNc(3,Bo,3,2,"ng-container",2),E.ALo(4,"async"),E.YNc(5,Wi,3,1,"ng-template",null,3,E.W1O),E.BQk()),2&j){const z=Ze.$implicit,Pe=E.MAs(6);E.xp6(1),E.Q6J("ngIf",E.lcZ(2,3,z.labelKey)),E.xp6(2),E.Q6J("ngIf",E.lcZ(4,5,z.items))("ngIfElse",Pe)}}let ko=(()=>{class j{}return j.\u0275fac=function(z){return new(z||j)},j.\u0275cmp=E.Xpm({type:j,selectors:[["nav-groups"]],inputs:{groups:"groups",displayType:"displayType"},decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],["matSubheader","",3,"ngClass",4,"ngIf"],[4,"ngIf","ngIfElse"],["groupLoading",""],["matSubheader","",3,"ngClass"],[3,"item","displayType",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"item","displayType"],[1,"cb-padding-large"],["diameter","24"]],template:function(z,Pe){1&z&&E.YNc(0,ys,7,7,"ng-container",0),2&z&&E.Q6J("ngForOf",Pe.groups)},directives:[e.sg,e.O5,yi.gs,e.mk,$i,$t.d,ft.Ou],pipes:[e.Ov,Ae.X],styles:["h3[_ngcontent-%COMP%]{text-transform:uppercase;font-weight:500;color:#0000008a}h3.menu[_ngcontent-%COMP%]{padding-bottom:8px}"],changeDetection:0}),j})();const Ss=function(j){return{compact:j}};function Is(j,Ze){if(1&j){const z=E.EpF();E.TgZ(0,"button",4),E.NdJ("menuClosed",function(){return E.CHM(z),E.oxw().onMenuClosed()}),E.ALo(1,"translate"),E.ALo(2,"translate"),E.ALo(3,"translate"),E.ALo(4,"async"),E._UZ(5,"nav-action-item-header-layout",5),E.ALo(6,"translate"),E.qZA()}if(2&j){const z=Ze.ngIf,Pe=E.oxw(),qe=E.MAs(3);E.Q6J("ngClass",E.VKq(22,Ss,Pe.hideLabel))("matMenuTriggerFor",qe)("matTooltip",E.lcZ(3,16,z.labelKey))("matTooltipDisabled",!Pe.showImage&&!Pe.hideLabel||E.lcZ(4,18,Pe.shouldHideTooltip$)),E.uIk("data-heap-nav-trigger",E.lcZ(1,12,z.labelKey))("aria-label",E.lcZ(2,14,z.labelKey)),E.xp6(5),E.Q6J("imageId",z.imageId)("iconKey",z.iconKey)("showImage",Pe.showImage)("showChevron",!0)("label",E.lcZ(6,20,z.labelKey))("hideLabel",Pe.hideLabel)}}function Ts(j,Ze){if(1&j&&(E.TgZ(0,"mat-nav-list",6),E._UZ(1,"nav-groups",7),E.qZA()),2&j){const z=E.oxw();E.xp6(1),E.Q6J("groups",z.navMenu.groups)("displayType",z.displayType)}}let lo=(()=>{class j{constructor(z,Pe,qe,Rt,pn){this.viewportService=z,this.elementRef=Pe,this.changeDetectorRef=qe,this.document=Rt,this.breakpointService=pn,this.showImage=!1,this.hideLabel=!1,this.displayType=Qe.MENU,this.onDestroy$=new H.xQ,this.shouldHideTooltip$=this.breakpointService.isSize$(["small","medium"]).pipe((0,Q.U)(gn=>!gn))}ngOnInit(){this.closeMenuOnElementHide()}ngOnDestroy(){this.onDestroy$.next()}ngAfterViewInit(){this.listenForElementOpen()}onMenuClosed(){this.changeDetectorRef.markForCheck()}listenForElementOpen(){this.trigger.menuOpened.pipe((0,It.w)(()=>(0,Zi.R)(this.document.body,"click").pipe((0,zi.T)(1),(0,q.q)(1))),(0,B.R)(this.onDestroy$)).subscribe(()=>{this.trigger.closeMenu()})}closeMenuOnElementHide(){this.baseElementLeavesView$().subscribe(()=>{this.trigger&&this.trigger.closeMenu()})}baseElementLeavesView$(){return this.viewportService.isInViewport$(this.elementRef.nativeElement).pipe((0,B.R)(this.onDestroy$),(0,$.h)(z=>!z))}}return j.\u0275fac=function(z){return new(z||j)(E.Y36(no.v),E.Y36(E.SBq),E.Y36(E.sBO),E.Y36(e.K0),E.Y36(ki.r))},j.\u0275cmp=E.Xpm({type:j,selectors:[["nav-menu"]],viewQuery:function(z,Pe){if(1&z&&E.Gf(Ci.p6,5),2&z){let qe;E.iGM(qe=E.CRH())&&(Pe.trigger=qe.first)}},inputs:{navMenu:"navMenu",showImage:"showImage",hideLabel:"hideLabel"},decls:5,vars:3,consts:[["mat-button","",3,"ngClass","matMenuTriggerFor","matTooltip","matTooltipDisabled","menuClosed",4,"ngIf"],["hasBackdrop","false"],["menu","matMenu"],["matMenuContent",""],["mat-button","",3,"ngClass","matMenuTriggerFor","matTooltip","matTooltipDisabled","menuClosed"],[3,"imageId","iconKey","showImage","showChevron","label","hideLabel"],["role","presentation"],[3,"groups","displayType"]],template:function(z,Pe){1&z&&(E.YNc(0,Is,7,24,"button",0),E.ALo(1,"async"),E.TgZ(2,"mat-menu",1,2),E.YNc(4,Ts,2,2,"ng-template",3),E.qZA()),2&z&&E.Q6J("ngIf",E.lcZ(1,1,Pe.navMenu.trigger))},directives:[e.O5,de.lW,e.mk,Ci.p6,s.gM,io,Ci.VK,Ci.KA,yi.Hk,ko],pipes:[Ae.X,e.Ov],styles:["[_nghost-%COMP%]{box-sizing:border-box;display:flex!important;flex-direction:row}.mat-menu-trigger[_ngcontent-%COMP%]{border-radius:0}.mat-menu-trigger[aria-expanded=true][_ngcontent-%COMP%]{background:rgba(233,239,245,.1)}button[_ngcontent-%COMP%]{padding:0 16px}button[_ngcontent-%COMP%]   button.compact[_ngcontent-%COMP%]{padding:0}@media (min-width: 1280px){button[_ngcontent-%COMP%]{padding:0 20px}}"],changeDetection:0}),j})();var Ho=t(46195),Go=t(61531),Zo=t(82973),Yi=t(53247),_o=t(74160);function As(j,Ze){1&j&&E.GkF(0)}function Os(j,Ze){if(1&j&&(E.TgZ(0,"div",6)(1,"div"),E._uU(2),E.qZA(),E.YNc(3,As,1,0,"ng-container",7),E.qZA()),2&j){const z=E.oxw(2).ngIf,Pe=E.MAs(4);E.xp6(2),E.Oqu(z.mobileBannerText),E.xp6(1),E.Q6J("ngTemplateOutlet",Pe)}}function Ps(j,Ze){1&j&&E.GkF(0)}function bs(j,Ze){if(1&j&&(E.TgZ(0,"div"),E.YNc(1,Ps,1,0,"ng-container",7),E.qZA()),2&j){E.oxw(2);const z=E.MAs(4);E.xp6(1),E.Q6J("ngTemplateOutlet",z)}}function zo(j,Ze){1&j&&(E.ynx(0),E.YNc(1,Os,4,2,"div",5),E.YNc(2,bs,2,1,"div",3),E.BQk()),2&j&&(E.xp6(1),E.Q6J("ifBreakpoint","xsmall"),E.xp6(1),E.Q6J("ifBreakpoint","small"))}function Ls(j,Ze){1&j&&E.GkF(0)}function Ms(j,Ze){if(1&j&&(E.ynx(0),E.YNc(1,Ls,1,0,"ng-container",7),E.BQk()),2&j){E.oxw();const z=E.MAs(4);E.xp6(1),E.Q6J("ngTemplateOutlet",z)}}function ie(j,Ze){if(1&j&&(E.TgZ(0,"upsell-link",11),E._uU(1),E.qZA()),2&j){const z=E.oxw(2).ngIf,Pe=E.oxw(2);E.Q6J("externalUrl",Pe.tryProUrl),E.xp6(1),E.hij(" ",z.buttonText," ")}}const $e=function(){return["/account/billing"]},Z=function(j,Ze){return{redirect_to:j,upgrade_trial:Ze}};function ge(j,Ze){if(1&j&&(E.TgZ(0,"upsell-link",12),E.ALo(1,"async"),E._uU(2),E.qZA()),2&j){const z=E.oxw(2).ngIf,Pe=E.oxw(2);E.Q6J("bypassProductSelectionFlow",!0)("internalRoutePath",E.DdM(6,$e))("internalRouteParams",E.WLB(7,Z,E.lcZ(1,4,Pe.currentUrl$),Pe.allProProducts)),E.xp6(2),E.hij(" ",z.buttonText," ")}}function Ve(j,Ze){if(1&j){const z=E.EpF();E.TgZ(0,"button",13),E.NdJ("click",function(){return E.CHM(z),E.oxw(4).showContactsUpsellDialog()}),E.TgZ(1,"label-with-icon",14),E._uU(2),E.qZA()()}if(2&j){const z=E.oxw(2).ngIf;E.xp6(2),E.hij(" ",z.buttonText," ")}}function _t(j,Ze){if(1&j&&(E.YNc(0,ie,2,2,"upsell-link",8),E.YNc(1,ge,3,10,"upsell-link",9),E.YNc(2,Ve,3,1,"button",10)),2&j){const z=E.oxw().ngIf,Pe=E.oxw(2);E.Q6J("ngIf",z.type===Pe.UpsellType.trial),E.xp6(1),E.Q6J("ngIf",z.type===Pe.UpsellType.upgradeFromTrial),E.xp6(1),E.Q6J("ngIf",z.type===Pe.UpsellType.contacts)}}function pt(j,Ze){if(1&j&&(E.ynx(0),E.YNc(1,zo,3,2,"ng-container",2),E.YNc(2,Ms,2,1,"ng-container",3),E.YNc(3,_t,3,3,"ng-template",null,4,E.W1O),E.BQk()),2&j){const z=E.oxw(2);E.xp6(2),E.Q6J("ifBreakpoint",z.buttonBreakpoints)}}function Mt(j,Ze){if(1&j&&(E.ynx(0),E.YNc(1,pt,5,1,"ng-container",1),E.ALo(2,"async"),E.BQk()),2&j){const z=E.oxw();E.xp6(1),E.Q6J("ngIf",E.lcZ(2,1,z.upsellButtonConfig$))}}let Bt=(()=>{class j{constructor(z,Pe,qe,Rt){this.store=z,this.urlService=Pe,this.routingHelper=qe,this.headerUpsellService=Rt,this.UpsellType=oi,this.maintenanceModeBillingFlag=ut.TT.MAINTENANCE_MODE_BILLING,this.allProProducts=u.sJ,this.tryProUrl=this.urlService.getProUpsellABTestURL(),this.currentUrl$=this.routingHelper.getCurrentRedirectUrl$(),this.upsellButtonConfig$=this.headerUpsellService.getUpsellButtonConfig$(),this.buttonBreakpoints=["medium","desktop"]}showContactsUpsellDialog(){this.store.dispatch((0,Ho.Pc)())}}return j.\u0275fac=function(z){return new(z||j)(E.Y36(X.yh),E.Y36(dt.iO),E.Y36(to.VP),E.Y36(zn))},j.\u0275cmp=E.Xpm({type:j,selectors:[["header-upsell"]],decls:1,vars:1,consts:[[4,"ifNotFeatureFlagBoolean"],[4,"ngIf"],[4,"ifPlatformBrowser"],[4,"ifBreakpoint"],["upsellButton",""],["class","mobile-upsell-banner",4,"ifBreakpoint"],[1,"mobile-upsell-banner"],[4,"ngTemplateOutlet"],["triggerLocation","header-upsell",3,"externalUrl",4,"ngIf"],["triggerLocation","header-upsell",3,"bypassProductSelectionFlow","internalRoutePath","internalRouteParams",4,"ngIf"],["mat-raised-button","",3,"click",4,"ngIf"],["triggerLocation","header-upsell",3,"externalUrl"],["triggerLocation","header-upsell",3,"bypassProductSelectionFlow","internalRoutePath","internalRouteParams"],["mat-raised-button","",3,"click"],["iconKey","icon_pro_lightning","iconColor","inherit"]],template:function(z,Pe){1&z&&E.YNc(0,Mt,3,3,"ng-container",0),2&z&&E.Q6J("ifNotFeatureFlagBoolean",Pe.maintenanceModeBillingFlag)},directives:[Go.l,e.O5,Zo.W,Pn.G,e.tP,Yi.I,de.lW,_o.d],pipes:[e.Ov],styles:["button.mat-raised-button[_ngcontent-%COMP%]{background-color:#f5a623}.mobile-upsell-banner[_ngcontent-%COMP%]{font-size:20px;font-weight:500;background-color:#146aff;color:#fff;padding:16px}.mobile-upsell-banner[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-bottom:8px}"],changeDetection:0}),j})();function on(j,Ze){if(1&j&&E._UZ(0,"nav-action-item",4),2&j){const z=E.oxw().ngIf,Pe=E.oxw();E.Q6J("item",z)("showImage",!0)("displayType",Pe.displayType)}}function yn(j,Ze){1&j&&(E.ynx(0),E.YNc(1,on,1,3,"nav-action-item",3),E.BQk()),2&j&&(E.xp6(1),E.Q6J("ifBreakpoint","desktop"))}function Ei(j,Ze){if(1&j&&E._UZ(0,"nav-action-item",4),2&j){const z=Ze.$implicit,Pe=E.oxw();E.Q6J("item",z)("showImage",!0)("displayType",Pe.displayType)}}function $n(j,Ze){if(1&j&&E._UZ(0,"nav-action-item",4),2&j){const z=Ze.ngIf,Pe=E.oxw(2);E.Q6J("item",z)("showImage",!0)("displayType",Pe.displayType)}}function jn(j,Ze){if(1&j&&(E.ynx(0),E.YNc(1,$n,1,3,"nav-action-item",5),E.ALo(2,"async"),E.BQk()),2&j){const z=E.oxw();E.xp6(1),E.Q6J("ngIf",E.lcZ(2,1,z.recommendationsItem$))}}let qn=(()=>{class j{constructor(z){this.globalNavItemService=z,this.recommendationsItem$=this.globalNavItemService.getAccountRecommendationsItem(),this.advancedSearchItems$=this.globalNavItemService.getLoggedInGlobalNavAdvancedSearchItems$(),this.chromeExtensionItem$=this.globalNavItemService.getLoggedInChromeExtensionItem$(),this.displayType=Qe.HEADER}}return j.\u0275fac=function(z){return new(z||j)(E.Y36(Jt))},j.\u0275cmp=E.Xpm({type:j,selectors:[["logged-in-nav-action-items"]],decls:5,vars:7,consts:[[4,"ngIf"],[3,"item","showImage","displayType",4,"ngFor","ngForOf"],[4,"ifBreakpoint"],[3,"item","showImage","displayType",4,"ifBreakpoint"],[3,"item","showImage","displayType"],[3,"item","showImage","displayType",4,"ngIf"]],template:function(z,Pe){1&z&&(E.YNc(0,yn,2,1,"ng-container",0),E.ALo(1,"async"),E.YNc(2,Ei,1,3,"nav-action-item",1),E.ALo(3,"async"),E.YNc(4,jn,3,3,"ng-container",2)),2&z&&(E.Q6J("ngIf",E.lcZ(1,3,Pe.chromeExtensionItem$)),E.xp6(2),E.Q6J("ngForOf",E.lcZ(3,5,Pe.advancedSearchItems$)),E.xp6(2),E.Q6J("ifBreakpoint","desktop"))},directives:[e.O5,Pn.G,$i,e.sg],pipes:[e.Ov],styles:["[_nghost-%COMP%]{box-sizing:border-box;display:flex!important;flex-direction:row}"],changeDetection:0}),j})();function Ii(j,Ze){1&j&&E._UZ(0,"nav-menu",1),2&j&&E.Q6J("navMenu",Ze.$implicit)("showImage",!0)}let Ln=(()=>{class j{constructor(z){this.globalNavMenuService=z,this.navMenus=this.globalNavMenuService.getUserMenus()}}return j.\u0275fac=function(z){return new(z||j)(E.Y36(Bi))},j.\u0275cmp=E.Xpm({type:j,selectors:[["logged-in-nav-menus"]],decls:1,vars:1,consts:[[3,"navMenu","showImage",4,"ngFor","ngForOf"],[3,"navMenu","showImage"]],template:function(z,Pe){1&z&&E.YNc(0,Ii,1,2,"nav-menu",0),2&z&&E.Q6J("ngForOf",Pe.navMenus)},directives:[e.sg,lo],styles:["[_nghost-%COMP%]{box-sizing:border-box;display:flex!important;flex-direction:row}"],changeDetection:0}),j})();function rn(j,Ze){if(1&j&&E._UZ(0,"nav-action-item",6),2&j){const z=E.oxw().ngIf,Pe=E.oxw();E.Q6J("item",z)("showImage",!1)("displayType",Pe.displayType)}}const Wn=function(){return["medium","xlarge"]};function $o(j,Ze){1&j&&(E.ynx(0),E.YNc(1,rn,1,3,"nav-action-item",5),E.BQk()),2&j&&(E.xp6(1),E.Q6J("ifBreakpoint",E.DdM(1,Wn)))}function uo(j,Ze){1&j&&E._UZ(0,"nav-menu",7),2&j&&E.Q6J("navMenu",Ze.$implicit)("showImage",!1)}function Ki(j,Ze){if(1&j&&E._UZ(0,"nav-action-item",8),2&j){const z=Ze.ngIf,Pe=E.oxw();E.Q6J("item",z)("showImage",!1)("displayType",Pe.displayType)}}function po(j,Ze){if(1&j&&E._UZ(0,"nav-action-item",6),2&j){const z=Ze.ngIf,Pe=E.oxw();E.Q6J("item",z)("showImage",!1)("displayType",Pe.displayType)}}let Mi=(()=>{class j{constructor(z,Pe){this.globalNavMenuService=z,this.globalNavItemService=Pe,this.loginItem$=this.globalNavItemService.getLoginItem(),this.pricingItem$=this.globalNavItemService.getPricingLink(),this.displayType=Qe.HEADER,this.chromeExtensionItem$=this.globalNavItemService.getAnonChromeExtensionItem$()}ngOnInit(){this.largeScreenMenus=this.globalNavMenuService.getAnonMenus(),this.fullResourcesMenu=this.globalNavMenuService.getFullResourcesMenu()}}return j.\u0275fac=function(z){return new(z||j)(E.Y36(Bi),E.Y36(Jt))},j.\u0275cmp=E.Xpm({type:j,selectors:[["anon-nav-row"]],decls:8,vars:12,consts:[[4,"ngIf"],["class","hide show-gt-md",3,"navMenu","showImage",4,"ngFor","ngForOf"],[1,"hide-gt-md",3,"navMenu","showImage"],["class","hide show-gt-md",3,"item","showImage","displayType",4,"ngIf"],[3,"item","showImage","displayType",4,"ngIf"],[3,"item","showImage","displayType",4,"ifBreakpoint"],[3,"item","showImage","displayType"],[1,"hide","show-gt-md",3,"navMenu","showImage"],[1,"hide","show-gt-md",3,"item","showImage","displayType"]],template:function(z,Pe){1&z&&(E.YNc(0,$o,2,2,"ng-container",0),E.ALo(1,"async"),E.YNc(2,uo,1,2,"nav-menu",1),E._UZ(3,"nav-menu",2),E.YNc(4,Ki,1,3,"nav-action-item",3),E.ALo(5,"async"),E.YNc(6,po,1,3,"nav-action-item",4),E.ALo(7,"async")),2&z&&(E.Q6J("ngIf",E.lcZ(1,6,Pe.chromeExtensionItem$)),E.xp6(2),E.Q6J("ngForOf",Pe.largeScreenMenus),E.xp6(1),E.Q6J("navMenu",Pe.fullResourcesMenu)("showImage",!1),E.xp6(1),E.Q6J("ngIf",E.lcZ(5,8,Pe.pricingItem$)),E.xp6(2),E.Q6J("ngIf",E.lcZ(7,10,Pe.loginItem$)))},directives:[e.O5,Pn.G,$i,e.sg,lo],pipes:[e.Ov],styles:["[_nghost-%COMP%]{box-sizing:border-box;display:flex!important;flex-direction:row}"],changeDetection:0}),j})();var Ds=t(60833);function xs(j,Ze){if(1&j&&E._UZ(0,"cb-logo",13),2&j){const z=E.oxw(2);E.Q6J("key",z.STANDARD_LOGO_KEY)}}function Fs(j,Ze){1&j&&E._UZ(0,"icon",14)}function Ni(j,Ze){if(1&j&&(E.TgZ(0,"a",9),E.ALo(1,"translate"),E.YNc(2,xs,1,1,"cb-logo",10),E.YNc(3,Fs,1,0,"icon",11),E._UZ(4,"img",12),E.qZA()),2&j){const z=E.oxw();E.uIk("aria-label",E.lcZ(1,4,"CBL.COMMON.CRUNCHBASE")),E.xp6(2),E.Q6J("ifBreakpoint",z.desktopBreakpoints),E.xp6(1),E.Q6J("ifBreakpoint",z.mobileBreakpoints),E.xp6(1),E.Q6J("src",z.crunchbasePrintLogoSrc,E.LSH)}}function Us(j,Ze){if(1&j){const z=E.EpF();E.TgZ(0,"button",17),E.NdJ("click",function(){return E.CHM(z),E.oxw(2).toggleMultiSearchMode(!1)}),E.TgZ(1,"span",18),E._UZ(2,"icon",19),E.TgZ(3,"span",20),E._uU(4),E.ALo(5,"translate"),E.qZA()()()}2&j&&(E.xp6(4),E.hij(" ",E.lcZ(5,1,"CBL.COMMON.BACK")," "))}function oa(j,Ze){if(1&j){const z=E.EpF();E.TgZ(0,"button",21),E.NdJ("click",function(){return E.CHM(z),E.oxw(2).toggleMultiSearchMode(!1)}),E._UZ(1,"icon",22),E.qZA()}}function sa(j,Ze){1&j&&(E.ynx(0),E.YNc(1,Us,6,3,"button",15),E.YNc(2,oa,2,0,"button",16),E.BQk()),2&j&&(E.xp6(1),E.Q6J("ifBreakpoint","desktop"),E.xp6(1),E.Q6J("ifBreakpoint","mobile"))}function aa(j,Ze){1&j&&E._UZ(0,"header-upsell",28)}function ra(j,Ze){1&j&&(E.ynx(0),E._UZ(1,"logged-in-nav-action-items")(2,"logged-in-nav-menus"),E.BQk())}function ca(j,Ze){1&j&&E._UZ(0,"anon-nav-row")}function la(j,Ze){if(1&j&&(E.ynx(0),E._UZ(1,"nav-menu",23),E.ALo(2,"async"),E.TgZ(3,"div",24),E.YNc(4,aa,1,0,"header-upsell",25),E.ALo(5,"async"),E.YNc(6,ra,3,0,"ng-container",26),E.ALo(7,"async"),E.YNc(8,ca,1,0,"ng-template",null,27,E.W1O),E.qZA(),E.BQk()),2&j){const z=E.MAs(9),Pe=E.oxw();E.xp6(1),E.Q6J("navMenu",Pe.advancedMenu)("hideLabel",E.lcZ(2,5,Pe.hideAdvancedLabel$)),E.xp6(3),E.Q6J("ngIf",E.lcZ(5,7,Pe.showHeaderUpsell$)),E.xp6(2),E.Q6J("ngIf",E.lcZ(7,9,Pe.isLoggedIn$))("ngIfElse",z)}}function Js(j,Ze){1&j&&E._UZ(0,"header-upsell",28)}function da(j,Ze){1&j&&E._UZ(0,"logged-in-nav-action-items")}function Qs(j,Ze){if(1&j&&(E.ynx(0),E.YNc(1,Js,1,0,"header-upsell",25),E.ALo(2,"async"),E.YNc(3,da,1,0,"logged-in-nav-action-items",3),E.ALo(4,"async"),E.BQk()),2&j){const z=E.oxw(2);E.xp6(1),E.Q6J("ngIf",E.lcZ(2,2,z.showHeaderUpsell$)),E.xp6(2),E.Q6J("ngIf",E.lcZ(4,4,z.isLoggedIn$))}}function _a(j,Ze){if(1&j){const z=E.EpF();E.ynx(0),E.YNc(1,Qs,5,6,"ng-container",6),E.TgZ(2,"button",29),E.NdJ("click",function(){return E.CHM(z),E.oxw().toggleNav()}),E.ALo(3,"translate"),E._UZ(4,"icon",30),E.qZA(),E.BQk()}2&j&&(E.xp6(1),E.Q6J("ifBreakpoint","small"),E.xp6(1),E.uIk("aria-label",E.lcZ(3,2,"CBL.COMMON.TOGGLE_NAVIGATION")))}const Wo=function(j,Ze){return{"multi-search":j,"logged-in":Ze}},Oi=function(j){return{show:j}};let js=(()=>{class j{constructor(z,Pe,qe,Rt,pn,gn,Di){this.progressService=z,this.imageService=Pe,this.changeDetectorRef=qe,this.userService=Rt,this.headerUpsellService=pn,this.globalNavMenuService=gn,this.breakpointService=Di,this.sidenavToggle=new E.vpe,this.multiSearchMode=new E.vpe,this.showHeaderUpsell$=this.headerUpsellService.showHeaderUpsell$(),this.advancedMenu=this.globalNavMenuService.getAdvancedMenu(),this.STANDARD_LOGO_KEY="crunchbase",this.isMultiSearchMode=!1,this.mobileBreakpoints=["xsmall","small"],this.desktopBreakpoints=["medium","desktop"],this.hideAdvancedLabel$=this.breakpointService.isSize$("medium"),this.onDestroy=new H.xQ}ngOnInit(){this.setImageSources(),this.inProgress$=this.progressService.getIsInProgress$(),this.isLoggedIn$=this.userService.getIsLoggedIn$()}ngOnDestroy(){this.onDestroy.next()}toggleNav(){this.sidenavToggle.emit()}toggleMultiSearchMode(z){z!==this.isMultiSearchMode&&(void 0===z&&(z=!this.isMultiSearchMode),this.isMultiSearchMode=z,this.changeDetectorRef.markForCheck(),this.multiSearchMode.emit(z),z||(this.multiSearchComponent.clearInput(),this.multiSearchComponent.unfocusInput()))}setImageSources(){this.crunchbasePrintLogoSrc=this.imageService.getOriginalPublicImageUrl(vt.Wh.logos.dark)}}return j.\u0275fac=function(z){return new(z||j)(E.Y36(Re.N),E.Y36(vt.AJ),E.Y36(E.sBO),E.Y36(D.KD),E.Y36(zn),E.Y36(Bi),E.Y36(ki.r))},j.\u0275cmp=E.Xpm({type:j,selectors:[["app-header"]],viewQuery:function(z,Pe){if(1&z&&E.Gf(fn,5),2&z){let qe;E.iGM(qe=E.CRH())&&(Pe.multiSearchComponent=qe.first)}},outputs:{sidenavToggle:"sidenavToggle",multiSearchMode:"multiSearchMode"},decls:12,vars:15,consts:[[1,"header-contents","mat-elevation-z3","layout-row","layout-align-space-between-center",3,"ngClass"],[1,"logo-or-back-button"],["routerLink","/","class","logo flex-none cb-margin-xlarge-right layout-row layout-align-start-center",4,"ngIf"],[4,"ngIf"],[1,"flex-grow","hide-print",3,"isMultiSearchMode"],[1,"hide-print","flex-noshrink","layout-row","layout-align-space-between-stretch","cb-height-100"],[4,"ifBreakpoint"],[1,"progress-container"],["color","primary","mode","indeterminate",1,"hide",3,"ngClass"],["routerLink","/",1,"logo","flex-none","cb-margin-xlarge-right","layout-row","layout-align-start-center"],["class","hide-print cb-font-size-large","color","inherit",3,"key",4,"ifBreakpoint"],["key","icon_cb_round","size","xxlarge","color","primary",4,"ifBreakpoint"],[1,"print-logo",3,"src"],["color","inherit",1,"hide-print","cb-font-size-large",3,"key"],["key","icon_cb_round","size","xxlarge","color","primary"],["class","flex-none cb-font-size-large cb-font-weight-default","mat-button","",3,"click",4,"ifBreakpoint"],["class","flex-none cb-margin-xlarge-right","mat-icon-button","",3,"click",4,"ifBreakpoint"],["mat-button","",1,"flex-none","cb-font-size-large","cb-font-weight-default",3,"click"],[1,"layout-row","layout-align-start-center"],["key","icon_arrow_left","color","inherit","size","xlarge",1,"cb-margin-medium-right","flex-none"],[1,"flex-noshrink"],["mat-icon-button","",1,"flex-none","cb-margin-xlarge-right",3,"click"],["key","icon_arrow_left","color","inherit","size","xlarge"],[1,"advanced-menu",3,"navMenu","hideLabel"],[1,"layout-row","layout-align-end-stretch"],["class","layout-row layout-align-center-center cb-margin-large-horizontal",4,"ngIf"],[4,"ngIf","ngIfElse"],["anonymousNav",""],[1,"layout-row","layout-align-center-center","cb-margin-large-horizontal"],["mat-icon-button","",1,"hide-print","hamburger-menu",3,"click"],["key","icon_menu","size","xxlarge","color","inherit"]],template:function(z,Pe){1&z&&(E.TgZ(0,"div",0),E.ALo(1,"async"),E.TgZ(2,"div",1),E.YNc(3,Ni,5,6,"a",2),E.YNc(4,sa,3,2,"ng-container",3),E.qZA(),E.TgZ(5,"multi-search",4),E.NdJ("isMultiSearchMode",function(){return Pe.toggleMultiSearchMode(!0)}),E.qZA(),E.TgZ(6,"div",5),E.YNc(7,la,10,11,"ng-container",6),E.YNc(8,_a,5,4,"ng-container",6),E.qZA()(),E.TgZ(9,"div",7),E._UZ(10,"mat-progress-bar",8),E.ALo(11,"async"),E.qZA()),2&z&&(E.Q6J("ngClass",E.WLB(10,Wo,Pe.isMultiSearchMode,E.lcZ(1,6,Pe.isLoggedIn$))),E.xp6(3),E.Q6J("ngIf",!Pe.isMultiSearchMode),E.xp6(1),E.Q6J("ngIf",Pe.isMultiSearchMode),E.xp6(3),E.Q6J("ifBreakpoint",Pe.desktopBreakpoints),E.xp6(1),E.Q6J("ifBreakpoint",Pe.mobileBreakpoints),E.xp6(2),E.Q6J("ngClass",E.VKq(13,Oi,E.lcZ(11,8,Pe.inProgress$))))},directives:[e.mk,e.O5,p.yS,Pn.G,Gi.R,pe.o,de.lW,fn,lo,Bt,qn,Ln,Mi,Ds.pW],pipes:[e.Ov,Ae.X],styles:["[_nghost-%COMP%]{display:block;position:fixed;left:0;right:0;top:0;z-index:2}.header-contents[_ngcontent-%COMP%]{line-height:20px;padding:0 20px!important;transition:background .4s;background:#183444;color:#fff;height:60px}.header-contents.logged-in[_ngcontent-%COMP%]{background:#183444;color:#fff}.header-contents.logged-in[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{color:inherit}@media (min-width: 960px){.logo-or-back-button[_ngcontent-%COMP%]{min-width:161px}}.header-contents.multi-search[_ngcontent-%COMP%]{background:#146aff;color:#fff}.logo[_ngcontent-%COMP%]{line-height:normal;overflow:visible;color:inherit}a.logo[_ngcontent-%COMP%]   img.print-logo[_ngcontent-%COMP%]{display:none}.progress-container[_ngcontent-%COMP%]{width:100%;position:absolute;z-index:79;bottom:0px}.hamburger-menu[_ngcontent-%COMP%]{margin-left:20px;align-self:center}@media print{[_nghost-%COMP%]{position:relative}.header-contents[_ngcontent-%COMP%]{background:white!important}.print-logo[_ngcontent-%COMP%]{display:block!important;height:auto;width:300px;fill:#183444}}@media (min-width: 960px){.logo[_ngcontent-%COMP%]{line-height:normal;border-radius:0;overflow:visible}multi-search[_ngcontent-%COMP%]{max-width:260px}}"],changeDetection:0}),j})();var Yo=t(63555),ws=t(7216),Bs=t(46829),ua=t(71360);function pa(j,Ze){1&j&&E._UZ(0,"header-upsell")}function ga(j,Ze){if(1&j&&(E.ynx(0),E.YNc(1,pa,1,0,"header-upsell",6),E.ALo(2,"async"),E.BQk()),2&j){const z=E.oxw();E.xp6(1),E.Q6J("ngIf",E.lcZ(2,1,z.showHeaderUpsell$))}}function ma(j,Ze){if(1&j){const z=E.EpF();E.TgZ(0,"button",9),E.NdJ("click",function(){E.CHM(z);const qe=E.oxw().ngIf;return E.oxw(3).goToMenu(qe)}),E.TgZ(1,"span",10),E._UZ(2,"nav-action-item-layout",11),E.ALo(3,"async"),E.ALo(4,"translate"),E._UZ(5,"icon",12),E.qZA()()}if(2&j){const z=Ze.ngIf,Pe=E.oxw(4);E.xp6(2),E.Q6J("imageId",z.imageId)("iconKey",z.iconKey)("showImage",E.lcZ(3,4,Pe.isLoggedIn$))("label",E.lcZ(4,6,z.labelKey))}}function ha(j,Ze){if(1&j&&(E.ynx(0),E.YNc(1,ma,6,8,"button",8),E.ALo(2,"async"),E.BQk()),2&j){const z=Ze.ngIf;E.xp6(1),E.Q6J("ngIf",E.lcZ(2,1,z.trigger))}}function Ea(j,Ze){if(1&j&&(E._UZ(0,"nav-action-item",13),E.ALo(1,"async")),2&j){const z=Ze.ngIf,Pe=E.oxw(3);E.Q6J("item",z)("showImage",E.lcZ(1,3,Pe.isLoggedIn$))("displayType",Pe.displayType)}}function fa(j,Ze){if(1&j&&(E.ynx(0),E.YNc(1,ha,3,3,"ng-container",6),E.YNc(2,Ea,2,5,"nav-action-item",7),E.BQk()),2&j){const z=Ze.ngIf,Pe=E.oxw(2);E.xp6(1),E.Q6J("ngIf",Pe.tryAsMenu(z)),E.xp6(1),E.Q6J("ngIf",Pe.tryAsActionItem(z))}}function va(j,Ze){if(1&j&&(E.ynx(0),E.YNc(1,fa,3,2,"ng-container",6),E.ALo(2,"async"),E.BQk()),2&j){const z=Ze.$implicit;E.xp6(1),E.Q6J("ngIf",E.lcZ(2,1,z))}}function Ca(j,Ze){if(1&j&&(E.TgZ(0,"h3",16),E._uU(1),E.ALo(2,"translate"),E.qZA()),2&j){const z=E.oxw().ngIf;E.xp6(1),E.hij(" ",E.lcZ(2,1,z.labelKey)," ")}}function ya(j,Ze){if(1&j&&(E.ynx(0),E.YNc(1,Ca,3,3,"h3",14),E._UZ(2,"nav-groups",15),E.BQk()),2&j){const z=Ze.ngIf,Pe=E.oxw();E.xp6(1),E.Q6J("ngIf",z.labelKey),E.xp6(1),E.Q6J("groups",Pe.selectedMenu.groups)("displayType",Pe.displayType)}}let qs=(()=>{class j{constructor(z,Pe,qe,Rt,pn,gn){this.changeDetectorRef=z,this.globalNavItemService=Pe,this.globalNavMenuService=qe,this.userService=Rt,this.headerUpsellService=pn,this.matSideNav=gn,this.displayType=Qe.LIST,this.showHeaderUpsell$=this.headerUpsellService.showHeaderUpsell$(),this.onDestroy$=new H.xQ}ngOnInit(){this.isLoggedIn$=this.userService.getIsLoggedIn$(),this.itemsAndMenus$=this.getItemsAndMenus$(),this.resetMenuOnSessionChange(),this.listenForMenuClose()}ngOnDestroy(){this.onDestroy$.next()}tryAsActionItem(z){return z.action?z:void 0}tryAsMenu(z){return this.tryAsActionItem(z)?void 0:z}getItemsAndMenus$(){return this.isLoggedIn$.pipe((0,Q.U)(z=>z?this.getUserItemsAndMenus():this.getAnonItemsAndMenus()))}goToMenu(z){this.selectedMenu=z,this.forward()}goToMainMenu(){this.back()}forward(){this.slides.next()}back(){this.slides.previous()}resetMenuOnSessionChange(){this.isLoggedIn$.pipe((0,B.R)(this.onDestroy$)).subscribe(z=>{this.selectedMenu&&(this.goToMainMenu(),this.selectedMenu=void 0,this.changeDetectorRef.markForCheck())})}getUserItemsAndMenus(){return[...this.wrapValuesInObservable([this.globalNavMenuService.getMobileAdvancedMenu()]),this.globalNavItemService.getAccountRecommendationsItem(),...this.wrapValuesInObservable(this.globalNavMenuService.getUserMenus())]}getAnonItemsAndMenus(){return this.wrapValuesInObservable([this.globalNavMenuService.getMobileAdvancedMenu(),...this.globalNavMenuService.getAnonMenus(),Gt.PRICING]).concat([this.globalNavItemService.getLoginItem()])}wrapValuesInObservable(z){return z.map(Pe=>(0,Ge.of)(Pe))}listenForMenuClose(){this.matSideNav.openedChange.pipe((0,$.h)(z=>!z)).subscribe(()=>{this.goToMainMenu()})}}return j.\u0275fac=function(z){return new(z||j)(E.Y36(E.sBO),E.Y36(Jt),E.Y36(Bi),E.Y36(D.KD),E.Y36(zn),E.Y36(ws.JX,1))},j.\u0275cmp=E.Xpm({type:j,selectors:[["mobile-nav"]],viewQuery:function(z,Pe){if(1&z&&E.Gf(Bs.o,5),2&z){let qe;E.iGM(qe=E.CRH())&&(Pe.slides=qe.first)}},decls:16,vars:10,consts:[[4,"ifBreakpoint"],[4,"ngFor","ngForOf"],["mat-list-item","",1,"back",3,"click"],[1,"back-contents","layout-row","layout-align-start-center"],["key","icon_caret_left","size","xlarge",1,"flex-none"],[1,"flex"],[4,"ngIf"],[3,"item","showImage","displayType",4,"ngIf"],["mat-list-item","",3,"click",4,"ngIf"],["mat-list-item","",3,"click"],[1,"layout-row","layout-align-start-center","cb-width-100","cb-font-weight-bold"],[3,"imageId","iconKey","showImage","label"],["key","icon_caret_right",1,"flex-none"],[3,"item","showImage","displayType"],["matSubheader","","class","menu-header",4,"ngIf"],[3,"groups","displayType"],["matSubheader","",1,"menu-header"]],template:function(z,Pe){1&z&&(E.YNc(0,ga,3,3,"ng-container",0),E.TgZ(1,"slides")(2,"slide")(3,"mat-action-list"),E.YNc(4,va,3,3,"ng-container",1),E.ALo(5,"async"),E.qZA()(),E.TgZ(6,"slide")(7,"mat-nav-list")(8,"button",2),E.NdJ("click",function(){return Pe.goToMainMenu()}),E.TgZ(9,"span",3),E._UZ(10,"icon",4),E.TgZ(11,"span",5),E._uU(12),E.ALo(13,"translate"),E.qZA()()(),E.YNc(14,ya,3,3,"ng-container",6),E.ALo(15,"async"),E.qZA()()()),2&z&&(E.Q6J("ifBreakpoint","xsmall"),E.xp6(4),E.Q6J("ngForOf",E.lcZ(5,4,Pe.itemsAndMenus$)),E.xp6(8),E.hij(" ",E.lcZ(13,6,"CBL.GLOBAL_NAV.BACK_TO_MAIN_MENU")," "),E.xp6(2),E.Q6J("ngIf",Pe.selectedMenu&&E.lcZ(15,8,Pe.selectedMenu.trigger)))},directives:[Pn.G,e.O5,Bt,Bs.o,ua.o,yi.i$,e.sg,yi.Tg,oo,pe.o,$i,yi.Hk,yi.gs,ko],pipes:[e.Ov,Ae.X],styles:[".mat-action-list[_ngcontent-%COMP%], .mat-nav-list[_ngcontent-%COMP%]{padding-top:0}.menu-header[_ngcontent-%COMP%]{font-size:20px;color:#282828}.back[_ngcontent-%COMP%]{font-weight:500;border:0 solid transparent;border-left:5px solid #146aff;border-bottom:1px solid rgba(0,0,0,.12);background-color:transparent}.back[_ngcontent-%COMP%]   .back-contents[_ngcontent-%COMP%]{margin-left:-8px}"],changeDetection:0}),j})();var Sa=t(28373);let Ia=(()=>{class j{constructor(z,Pe,qe){this.elementRef=z,this.renderer=Pe,this.structuredDataService=qe,this.onDestroy=new H.xQ}ngAfterViewInit(){this.structuredDataService.getDocuments$().pipe((0,B.R)(this.onDestroy)).subscribe(z=>{this.elementRef.nativeElement.innerHTML="",z.forEach(Pe=>{let qe=this.renderer.createElement("script");qe.type="application/ld+json",qe.text=JSON.stringify(Pe),this.renderer.appendChild(this.elementRef.nativeElement,qe)})})}ngOnDestroy(){this.onDestroy.next()}}return j.\u0275fac=function(z){return new(z||j)(E.Y36(E.SBq),E.Y36(E.Qsj),E.Y36(Sa.O))},j.\u0275cmp=E.Xpm({type:j,selectors:[["structured-data"]],decls:0,vars:0,template:function(z,Pe){},encapsulation:2,changeDetection:0}),j})();var Ta=t(65763),ks=t(29361),Ko=t(92780);function Aa(j,Ze){1&j&&E._UZ(0,"icon",5)}function Oa(j,Ze){1&j&&E._UZ(0,"mat-progress-spinner",6)}function Pa(j,Ze){if(1&j){const z=E.EpF();E.TgZ(0,"button",2),E.NdJ("click",function(){return E.CHM(z),E.oxw().getHelp(!0)}),E.ALo(1,"translate"),E.YNc(2,Aa,1,0,"icon",3),E.YNc(3,Oa,1,0,"mat-progress-spinner",4),E.qZA()}if(2&j){const z=E.oxw();E.uIk("aria-label",E.lcZ(1,3,"CBL.COMMON.HELP")),E.xp6(2),E.Q6J("ngIf",!z.loading),E.xp6(1),E.Q6J("ngIf",z.loading)}}function ba(j,Ze){1&j&&(E.TgZ(0,"a",7),E.ALo(1,"translate"),E.ALo(2,"translate"),E._UZ(3,"icon",5),E.qZA()),2&j&&(E.Q6J("matTooltip",E.lcZ(2,4,"CBL.COMMON.HELP_CHAT_ERROR")),E.uIk("aria-label",E.lcZ(1,2,"CBL.COMMON.HELP")))}let La=(()=>{class j{constructor(z,Pe,qe,Rt){this.changeDetectorRef=z,this.router=Pe,this.platformService=qe,this.driftService=Rt,this.loading=!1,this.buttonState="visible",this.clickSubject=new H.xQ,this.destroy=new H.xQ}ngOnInit(){!this.platformService.isBrowser()||((0,Ta.S3)(this.router.events.pipe((0,$.h)((0,_e.V)(p.OD)),(0,ks.h)(!1)),this.clickSubject.pipe((0,ks.h)(!0))).pipe((0,q.q)(1),(0,B.R)(this.destroy)).subscribe(z=>{this.getHelp(z)}),this.driftService.getDriftStatus$().pipe((0,B.R)(this.destroy)).subscribe(z=>{"driftReady"===z?this.hide():this.helpChatError()}))}ngOnDestroy(){this.destroy.next()}handleClicks(){this.clickSubject.next()}getHelp(z){this.loading=!0,this.driftService.initializeDrift(z)}helpChatError(){this.buttonState="error",this.changeDetectorRef.markForCheck()}hide(){this.buttonState="hidden",this.changeDetectorRef.markForCheck()}}return j.\u0275fac=function(z){return new(z||j)(E.Y36(E.sBO),E.Y36(p.F0),E.Y36(k.m),E.Y36(Ko.P))},j.\u0275cmp=E.Xpm({type:j,selectors:[["floating-help-button"]],decls:2,vars:2,consts:[["mat-fab","","color","primary",3,"click",4,"ngIf"],["mat-fab","","color","primary","href","mailto:support@crunchbase.com","target","_blank",3,"matTooltip",4,"ngIf"],["mat-fab","","color","primary",3,"click"],["size","xxlarge","color","inherit","key","icon_help_outline",4,"ngIf"],["diameter","32","strokeWidth","3","mode","indeterminate",4,"ngIf"],["size","xxlarge","color","inherit","key","icon_help_outline"],["diameter","32","strokeWidth","3","mode","indeterminate"],["mat-fab","","color","primary","href","mailto:support@crunchbase.com","target","_blank",3,"matTooltip"]],template:function(z,Pe){1&z&&(E.YNc(0,Pa,4,5,"button",0),E.YNc(1,ba,4,6,"a",1)),2&z&&(E.Q6J("ngIf","visible"===Pe.buttonState),E.xp6(1),E.Q6J("ngIf","error"===Pe.buttonState))},directives:[e.O5,de.lW,pe.o,ft.Ou,de.zs,s.gM],pipes:[Ae.X],styles:["floating-help-button{position:fixed;bottom:26px;right:26px;z-index:1}floating-help-button icon{margin-top:-4px}floating-help-button mat-progress-spinner{margin-top:-4px;overflow:hidden}floating-help-button mat-progress-spinner circle{stroke:#fff!important}\n"],encapsulation:2,changeDetection:0}),j})();const Ma=["mobileSidenav"];function Da(j,Ze){1&j&&E._UZ(0,"mobile-nav")}function xa(j,Ze){1&j&&(E.ynx(0),E.YNc(1,Da,1,0,"mobile-nav",8),E.BQk()),2&j&&(E.xp6(1),E.Q6J("ifBreakpoint","mobile"))}function Ra(j,Ze){1&j&&E._UZ(0,"multi-search-results")}function Na(j,Ze){1&j&&E._UZ(0,"floating-help-button")}const Fa=function(j){return{"hide-router-outlet":j}};let Rs=(()=>{class j{constructor(z,Pe,qe,Rt,pn,gn,Di,Vi){this.router=z,this.chromeService=Pe,this.mobileService=qe,this.initService=Rt,this.platformService=pn,this.progressService=gn,this.permissionService=Di,this.ngZone=Vi,this.showMultiSearchMode=!1,this.onDestroy$=new H.xQ}ngOnInit(){this.initService.initializeApp(),this.chromeService.chromeConfigurationObservable().pipe((0,B.R)(this.onDestroy$)).subscribe(z=>this.updateChromeState(z)),this.hideSidenavAndSearchOnNavigate(),this.showHelpButton$=(0,V.aj)([this.chromeService.chromeConfigurationObservable(),this.permissionService.getPermissions()]).pipe((0,Q.U)(([z,Pe])=>z.floatingHelpButton&&!Pe.canUseInternalTools())),this.platformService.isBrowser()&&(this.toggleProgressOnConfigLoad(),this.fireAngularLoadedEvent())}ngOnDestroy(){this.onDestroy$.next()}resize(){this.mobileSidenav&&this.mobileSidenav.opened&&!this.mobileService.isMobile()&&this.sidenavClose()}updateChromeState(z){this.chromeHidden=!z.header}toggleMultiSearchMode(z){this.showMultiSearchMode=z,z&&this.mobileSidenav&&this.mobileSidenav.close()}sidenavClose(){this.mobileSidenav&&this.mobileSidenav.close()}sidenavToggle(){this.mobileSidenav&&(this.mobileSidenav.toggle(),this.mobileSidenav.opened&&this.showMultiSearchMode&&this.exitMultiSearchMode())}handleKeyboardEvent(z){z.keyCode===fe.Z.ESCAPE&&this.exitMultiSearchMode()}exitMultiSearchMode(){this.headerComponent.toggleMultiSearchMode(!1)}hideSidenavAndSearchOnNavigate(){this.router.events.pipe((0,$.h)((0,_e.V)(p.OD)),(0,B.R)(this.onDestroy$)).subscribe(z=>{this.mobileSidenav&&this.mobileSidenav.opened&&this.sidenavClose(),this.showMultiSearchMode&&this.exitMultiSearchMode()})}toggleProgressOnConfigLoad(){this.router.events.pipe((0,B.R)(this.onDestroy$)).subscribe(z=>{z instanceof p.xV?this.progressService.startProgress(`route-load-${z.route.path}`):z instanceof p.GH&&this.progressService.stopProgress(`route-load-${z.route.path}`)})}fireAngularLoadedEvent(){const z=this.ngZone.onStable.pipe((0,Q.U)(()=>!0)),Pe=this.ngZone.onUnstable.pipe((0,Q.U)(()=>!1));(0,b.T)(z,Pe).pipe((0,W.b)(20),(0,$.h)(qe=>qe),(0,q.q)(1)).subscribe(()=>{window.dispatchEvent(new Event("AngularLoaded",{bubbles:!0})),window.angularLoaded=!0})}}return j.\u0275fac=function(z){return new(z||j)(E.Y36(p.F0),E.Y36(le.P),E.Y36(Te.W),E.Y36(Ie),E.Y36(k.m),E.Y36(Re.N),E.Y36(ce.$),E.Y36(E.R0b))},j.\u0275cmp=E.Xpm({type:j,selectors:[["chrome"]],viewQuery:function(z,Pe){if(1&z&&(E.Gf(Ma,7),E.Gf(En,5),E.Gf(js,5)),2&z){let qe;E.iGM(qe=E.CRH())&&(Pe.mobileSidenav=qe.first),E.iGM(qe=E.CRH())&&(Pe.multiSearchResultsComponent=qe.first),E.iGM(qe=E.CRH())&&(Pe.headerComponent=qe.first)}},hostVars:2,hostBindings:function(z,Pe){1&z&&E.NdJ("keydown",function(Rt){return Pe.handleKeyboardEvent(Rt)},!1,E.Jf7),2&z&&E.ekj("hide-chrome",Pe.chromeHidden)},decls:12,vars:11,consts:[["windowResizeNotifier","","regulateExecutionBy","throttle",3,"wait","onResize"],[3,"sidenavToggle","multiSearchMode"],[3,"backdropClick"],["position","end","mode","over",3,"autoFocus","disableClose","fixedInViewport"],["mobileSidenav",""],[4,"ifPlatformBrowser"],[3,"ngClass"],[4,"ngIf"],[4,"ifBreakpoint"]],template:function(z,Pe){1&z&&(E.TgZ(0,"div",0),E.NdJ("onResize",function(){return Pe.resize()}),E.TgZ(1,"app-header",1),E.NdJ("sidenavToggle",function(){return Pe.sidenavToggle()})("multiSearchMode",function(Rt){return Pe.toggleMultiSearchMode(Rt)}),E.qZA(),E.TgZ(2,"mat-sidenav-container",2),E.NdJ("backdropClick",function(){return Pe.sidenavClose()}),E.TgZ(3,"mat-sidenav",3,4),E.YNc(5,xa,2,1,"ng-container",5),E.qZA(),E.TgZ(6,"div",6),E._UZ(7,"router-outlet"),E.YNc(8,Ra,1,0,"multi-search-results",7),E._UZ(9,"structured-data"),E.YNc(10,Na,1,0,"floating-help-button",7),E.ALo(11,"async"),E.qZA()()()),2&z&&(E.Q6J("wait",200),E.xp6(3),E.Q6J("autoFocus",!1)("disableClose",!0)("fixedInViewport",!0),E.xp6(3),E.Q6J("ngClass",E.VKq(9,Fa,Pe.showMultiSearchMode)),E.xp6(2),E.Q6J("ngIf",Pe.showMultiSearchMode),E.xp6(2),E.Q6J("ngIf",E.lcZ(11,7,Pe.showHelpButton$)))},directives:[Yo.c,js,ws.TM,ws.JX,Zo.W,Pn.G,qs,e.mk,p.lC,e.O5,En,Ia,La],pipes:[e.Ov],styles:["chrome{background:#e9eff5;display:block}chrome .mat-drawer-container,chrome .mat-drawer-content{overflow:unset!important}chrome.hide-chrome app-header{display:none}chrome mat-sidenav[style]{top:60px!important}chrome mat-sidenav{width:100%;max-width:600px}chrome .hide-router-outlet router-outlet+.ng-star-inserted{display:none!important}@media print{chrome{position:relative}chrome app-header{position:relative}}\n"],encapsulation:2}),j})(),Hs=(()=>{class j{}return j.\u0275fac=function(z){return new(z||j)},j.\u0275mod=E.oAB({type:j}),j.\u0275inj=E.cJS({imports:[[e.ez,i.u5,i.UX,l.q,p.Bz,y.Dt,r.S,o.A,d.N,v.h,g.A,_.n,n.H,m.r,f.p,h.X,S.x,I.H,a.u,c.S,T.j,N.S,C.r,x.V,s.AV]]}),j})()},67743:(oe,L,t)=>{t.d(L,{_:()=>e});class e{}},14858:(oe,L,t)=>{t.d(L,{h:()=>l});var e=t(12871),i=t(3184),p=t(53328);let l=(()=>{class y{constructor(g,f){this.storageService=g,this.viewLimiterViewsStoreService=f,this.VIEW_LIMITER_DISABLED_STORAGE_KEY="view-limiter-disabled"}disableViewLimiter(g){g?this.storageService.setItem(this.VIEW_LIMITER_DISABLED_STORAGE_KEY,"1"):this.storageService.removeItem(this.VIEW_LIMITER_DISABLED_STORAGE_KEY)}isViewLimiterDisabled(){return!!this.storageService.getItem(this.VIEW_LIMITER_DISABLED_STORAGE_KEY)}setViewsCount(g){this.viewLimiterViewsStoreService.resetViews();for(let f=0;f<g;f++)this.viewLimiterViewsStoreService.addView(`fake-entity-id-${f}`)}}return y.\u0275fac=function(g){return new(g||y)(i.LFG(p.V),i.LFG(e.T))},y.\u0275prov=i.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})()},23268:(oe,L,t)=>{t.d(L,{eP:()=>H,KN:()=>V,mf:()=>b});var e=t(13074),i=t(97010),p=(()=>{return(B=p||(p={})).pay_soft10="paywall-soft-10",B.pay_soft20="paywall-soft-20",B.pay_soft30="paywall-soft-30",B.pay_soft40="paywall-soft-40",B.pay_soft50="paywall-soft-50",B.pay_soft60="paywall-soft-60",B.pay_soft70="paywall-soft-70",B.pay_soft80="paywall-soft-80",B.pay_soft90="paywall-soft-90",B.pay_soft100="paywall-soft-100",B.pay_hard="paywall-hard",p;var B})(),l=t(2384),y=t(98789),d=t(20605),g=t(3184),f=t(95758),a=t(17992),c=t(36362),r=t(87317),o=t(32478);function _(B,Q){if(1&B){const $=g.EpF();g.TgZ(0,"button",2),g.NdJ("click",function(){return g.CHM($),g.oxw().close()}),g._UZ(1,"icon",3),g.qZA()}if(2&B){const $=g.oxw();g.xp6(1),g.Q6J("color",$.closeButtonColor)}}const n=["*"];let m=(()=>{class B{constructor($,W){this.imageService=$,this.mobileService=W,this.disableClose=!1,this.onClose=new g.vpe}ngOnInit(){this.setImageUrls()}close(){this.onClose.emit()}setImageUrls(){this.backgroundImageStyle=this.mobileService.isMobile()?`url(${this.imageService.getOriginalPublicImageUrl(this.mobileBackground)})`:`url(${this.imageService.getOriginalPublicImageUrl(this.desktopBackgroundLeft)}), url(${this.imageService.getOriginalPublicImageUrl(this.desktopBackgroundRight)})`}}return B.\u0275fac=function($){return new($||B)(g.Y36(i.AJ),g.Y36(a.W))},B.\u0275cmp=g.Xpm({type:B,selectors:[["wall-dialog-layout"]],hostVars:2,hostBindings:function($,W){2&$&&g.Udp("background-image",W.backgroundImageStyle)},inputs:{desktopBackgroundLeft:"desktopBackgroundLeft",desktopBackgroundRight:"desktopBackgroundRight",mobileBackground:"mobileBackground",closeButtonColor:"closeButtonColor",disableClose:"disableClose"},outputs:{onClose:"onClose"},ngContentSelectors:n,decls:3,vars:1,consts:[[1,"wall-dialog-container"],["mat-icon-button","","class","close-button",3,"click",4,"ngIf"],["mat-icon-button","",1,"close-button",3,"click"],["key","icon_close","size","xxlarge",3,"color"]],template:function($,W){1&$&&(g.F$t(),g.TgZ(0,"div",0),g.YNc(1,_,2,1,"button",1),g.Hsn(2),g.qZA()),2&$&&(g.xp6(1),g.Q6J("ngIf",!W.disableClose))},directives:[c.O5,r.lW,o.o],styles:["[_nghost-%COMP%]{display:block;max-height:100vh;overflow-y:auto;padding:20px;background-position-x:center;background-repeat:no-repeat;background-position-y:bottom;background-size:auto 120px}.wall-dialog-container[_ngcontent-%COMP%]{position:relative;text-align:center;padding:0 32px 130px}.wall-dialog-container[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{position:absolute;top:8px;right:8px}@media (min-width: 960px){[_nghost-%COMP%]{background-position-x:left,right;background-size:auto 200px}.wall-dialog-container[_ngcontent-%COMP%]{padding:16px}}@media (min-width: 960px) and (max-width: 1279px){.wall-dialog-container[_ngcontent-%COMP%]{padding:16px 0 48px}}"],changeDetection:0}),B})();var v=t(61531),h=t(53247);function C(B,Q){1&B&&(g.ynx(0),g.TgZ(1,"p"),g.tHW(2,9),g._UZ(3,"strong"),g.N_p(),g.qZA(),g.TgZ(4,"p"),g.tHW(5,10),g._UZ(6,"strong"),g.N_p(),g.qZA(),g.BQk())}function S(B,Q){1&B&&(g.TgZ(0,"p"),g.SDv(1,11),g.qZA())}function I(B,Q){1&B&&g.GkF(0)}function T(B,Q){if(1&B&&(g.ynx(0),g.TgZ(1,"h2"),g.SDv(2,5),g.qZA(),g.YNc(3,C,7,0,"ng-container",6),g.YNc(4,S,2,0,"p",7),g.YNc(5,I,1,0,"ng-container",8),g.BQk()),2&B){const $=g.oxw(),W=g.MAs(5);g.xp6(3),g.Q6J("ifNotFeatureFlagBoolean",$.paywallPromoFlag),g.xp6(1),g.Q6J("ifFeatureFlagBoolean",$.paywallPromoFlag),g.xp6(1),g.Q6J("ngTemplateOutlet",W)}}function N(B,Q){if(1&B&&(g.TgZ(0,"upsell-link",12),g.SDv(1,13),g.qZA()),2&B){const $=g.oxw();g.Q6J("internalRoutePath",$.productSelectUrl)}}var x=(()=>{return(B=x||(x={}))[B.LIMIT=0]="LIMIT",x;var B})();const s=new Map([[p.pay_hard,x.LIMIT]]),H=30,V=1,b={walls:{hard:{count:11,type:p.pay_hard,component:(()=>{class B extends l.V{constructor($,W,q){super(),this.urlService=$,this.dialogRef=W,this.usageEventsService=q,this.PaywallTemplate=x,this.desktopBackgroundLeft=i.Wh.paywall.binoculars,this.desktopBackgroundRight=i.Wh.paywall.person,this.mobileBackground=i.Wh.paywall.person,this.paywallPromoFlag=d.TT.PAYWALL_PROMO}ngOnInit(){this.productSelectUrl=this.urlService.getProductSelectUrl(),this.wallType=this.payload.type,this.paywallTemplate=s.get(this.wallType)||x.LIMIT,this.usageEventsService.logUsageEvent("paywall",{paywall_name:this.wallType,view_limit:this.payload.count,upsell_feature:"unlimited-profile-views",upsell_entitlement_id:"pro"})}close(){this.dialogRef.close()}}return B.\u0275fac=function($){return new($||B)(g.Y36(e.iO),g.Y36(f.so),g.Y36(y.N))},B.\u0275cmp=g.Xpm({type:B,selectors:[["paywall"]],hostVars:1,hostBindings:function($,W){2&$&&g.uIk("data-heap-wall-type",W.wallType)},features:[g.qOj],decls:6,vars:6,consts:function(){let Q,$,W,q,le;return Q=$localize`:␟cc0de189ecc7cde2d4a27349648f07b65b78bbc8␟3899174586494732323:You’ve reached your monthly limit`,$=$localize`:␟2c39b453697affbd4d35d5b89181c3a260c7a91b␟3871728203237133939: You’ve reached your monthly limit of free Crunchbase profile views. Upgrade today to keep going - plus ${"\ufffd#3\ufffd"}:START_TAG_STRONG:get 20% off${"\ufffd/#3\ufffd"}:CLOSE_TAG_STRONG: Crunchbase Pro with our limited-time promo. Close the quarter strong with our all-in-one prospecting solution. `,W=$localize`:␟b0f1629b61d354183046ba0313833d273a9cade5␟1924045645552390603: Use code ${"\ufffd#6\ufffd"}:START_TAG_STRONG:CLOSEOUTQ2${"\ufffd/#6\ufffd"}:CLOSE_TAG_STRONG: to get 20% off Crunchbase Pro at checkout. `,q=$localize`:␟e4fcbdc90bd5029312928b00d82e9dc23acbbd92␟3486312124423055277: You’ve reached your monthly limit of free Crunchbase profile views. As a thanks for being a dedicated Crunchbase user, we’re offering 15% off your Starter or Pro subscription price with code SUPERUSER. Upgrade today to keep going - and close deals even faster with our all-in-one prospecting solution. `,le=$localize`:␟367f317e89667ee6146931790c88a4e2245b53b5␟8406946263838202506: REDEEM NOW `,[["closeButtonColor","light",3,"disableClose","desktopBackgroundLeft","desktopBackgroundRight","mobileBackground","onClose"],[1,"content-wrapper"],[3,"ngSwitch"],[4,"ngSwitchCase"],["startTrialButton",""],Q,[4,"ifNotFeatureFlagBoolean"],[4,"ifFeatureFlagBoolean"],[4,"ngTemplateOutlet"],$,W,q,["triggerLocation","paywall_hard",3,"internalRoutePath"],le]},template:function($,W){1&$&&(g.TgZ(0,"wall-dialog-layout",0),g.NdJ("onClose",function(){return W.close()}),g.TgZ(1,"div",1),g.ynx(2,2),g.YNc(3,T,6,3,"ng-container",3),g.BQk(),g.qZA()(),g.YNc(4,N,2,1,"ng-template",null,4,g.W1O)),2&$&&(g.Q6J("disableClose",W.payload.disableClose)("desktopBackgroundLeft",W.desktopBackgroundLeft)("desktopBackgroundRight",W.desktopBackgroundRight)("mobileBackground",W.mobileBackground),g.xp6(2),g.Q6J("ngSwitch",W.paywallTemplate),g.xp6(1),g.Q6J("ngSwitchCase",W.PaywallTemplate.LIMIT))},directives:[m,c.RF,c.n9,v.l,c.tP,h.I],styles:["[_nghost-%COMP%]{font-size:16px;display:block;color:#293943;line-height:1.3;background-color:#e3edff}.content-wrapper[_ngcontent-%COMP%]{max-width:700px;margin:0 auto}h2[_ngcontent-%COMP%]{font-size:24px;font-weight:500;margin-bottom:16px}.start-trial-button[_ngcontent-%COMP%]{color:#fff}"],changeDetection:0}),B})(),disableClose:!0,ignoreSnoozing:!0}}}},12871:(oe,L,t)=>{t.d(L,{T:()=>y});var e=t(23268),i=t(46532),p=t(3184),l=t(53328);let y=(()=>{class d{constructor(f){this.storageService=f,this.STORAGE_KEY="entity-limiter-views",this.views=null}getViewsCount(){return this.getViewsWithinDateRange().length}getNextProfileViewAttrs(f){const a=this.isUniqueView(f);return{isUniqueView:a,viewsCount:this.getViewsCount()+(a?1:0)}}addView(f){const a=this.getViewsWithinDateRange(),c=a.findIndex(r=>r.id===f);-1!==c&&a.splice(c,1),a.push({id:f,timestamp:Date.now()}),this.views=a,this.save()}resetViews(){this.views=[],this.save()}getViewsWithinDateRange(){this.views||(this.views=this.load());const f=Date.now()-i.E.daysToMilliseconds(e.eP);return this.views.filter(a=>a.timestamp>=f)}isUniqueView(f){return!this.getViewsWithinDateRange().some(a=>a.id===f)}save(){this.storageService.setItem(this.STORAGE_KEY,JSON.stringify(this.views))}load(){try{return JSON.parse(this.storageService.getItem(this.STORAGE_KEY)||"")||[]}catch(f){return[]}}}return d.\u0275fac=function(f){return new(f||d)(p.LFG(l.V))},d.\u0275prov=p.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})()},2509:(oe,L,t)=>{t.d(L,{$:()=>d,m:()=>g});var e=t(26435),i=t(5149),p=t(3184),l=t(49837),y=t(35585);const d="openCrmPreConnectDialog";let g=(()=>{class f{constructor(c,r,o){this.platformService=c,this.routingHelper=r,this.store=o}handleOpenPreConnectDialog(){this.platformService.isBrowser()&&this.extractOpenPreConnectDialogParam()&&this.store.dispatch((0,i.uJ)({}))}extractOpenPreConnectDialogParam(){return!!this.routingHelper.extractAndDeleteQueryParam(d)}}return f.\u0275fac=function(c){return new(c||f)(p.LFG(l.m),p.LFG(e.VP),p.LFG(y.yh))},f.\u0275prov=p.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})()},98439:(oe,L,t)=>{t.d(L,{K:()=>a});var e=t(19193),i=t(86942),p=t(53298),l=t(93443),y=t(7323),d=t(75215),g=t(3184),f=l.NB.PermissionsEnum;let a=(()=>{class c{constructor(o,_){this.userService=o,this.metadataService=_,this.userWorkspacePermissions$=this.userService.getSessionChangeObservable().pipe((0,i.U)(n=>this.getPermissionsFromSession(n))),this.canManageCrmConnection$=(0,e.aj)([this.userWorkspacePermissions$.pipe((0,p.x)()),this.metadataService.getMetadata()]).pipe((0,i.U)(([n,m])=>n.includes(f.crm_team_admin)&&!!m.getExperiences().shared_crm_ux)),this.canManageSso$=(0,e.aj)([this.userWorkspacePermissions$.pipe((0,p.x)()),this.metadataService.getMetadata()]).pipe((0,i.U)(([n,m])=>n.includes(f.manage_sso)&&!!m.getExperiences().sso_ux)),this.isInWorkspace$=this.userService.getSessionChangeObservable().pipe((0,i.U)(n=>{var m;return!!(null===(m=null==n?void 0:n.workspace_memberships)||void 0===m?void 0:m.length)}))}getPermissionsFromSession(o){return((null==o?void 0:o.workspace_memberships)||[]).flatMap(_=>_.permissions)}}return c.\u0275fac=function(o){return new(o||c)(g.LFG(y.KD),g.LFG(d.Do))},c.\u0275prov=g.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()},87702:(oe,L,t)=>{t.d(L,{P:()=>a});var e=t(59151),i=t(88759),p=t(65112),l=t(64856),y=t(13584),d=t(93039),g=t(3184),f=t(84724);let a=(()=>{class c{constructor(o,_){this.broadcastService=o,this.action$=_,this.apiSuccess$=this.createBroadcastEffect(()=>this.action$.pipe((0,p.l4)(y.et,y.zM,l.n4,l.tZ,d.ar,d.he,d.ls,d.ar))),this.shouldPublish=!0}stopPublishing(){this.shouldPublish=!1}createBroadcastEffect(o){return(0,p.GW)(()=>o().pipe((0,e.h)(()=>this.shouldPublish),(0,i.b)(_=>this.broadcastService.postMessage(_))),{dispatch:!1})}}return c.\u0275fac=function(o){return new(o||c)(g.LFG(f.R),g.LFG(p.eX))},c.\u0275prov=g.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()},84724:(oe,L,t)=>{t.d(L,{R:()=>y});var e=t(92218),i=t(3184),p=t(49837);let y=(()=>{class d{constructor(f){this.platformService=f,this.messageSubject=new e.xQ,this.message$=this.messageSubject.asObservable(),this.platformService.isBrowser()&&"undefined"!=typeof BroadcastChannel&&(this.channel=new BroadcastChannel("CB_EXTENSION_BROADCAST_CHANNEL"),this.channel.onmessage=a=>{var c;"string"==typeof(null===(c=a.data)||void 0===c?void 0:c.type)&&this.messageSubject.next(a.data)})}postMessage(f){var a;null===(a=this.channel)||void 0===a||a.postMessage(f)}}return d.\u0275fac=function(f){return new(f||d)(i.LFG(p.m))},d.\u0275prov=i.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})()},59746:(oe,L,t)=>{t.d(L,{N:()=>Ms,A:()=>zo});var e=t(45857),i=t(26435),p=t(34929),l=t(92218),y=t(19193),d=t(64139),g=t(24383),f=t(66587),a=t(53298),c=t(85921),r=t(47418),o=t(83910),_=t(86942),n=t(59151),m=t(59095),v=t(44661),h=t(88759),C=t(92938),S=t(93443),I=t(14021),T=t(68787),N=t(7323),x=t(46179),s=t(98789),E=t(39949),H=t(97010),V=t(13074),b=t(24956),B=t(2384),Q=t(40831),$=t(84505),W=t(88623),q=t(52428),le=t(46532),J=t(23580),u=t(3184),D=(()=>{return(ie=D||(D={})).EXPIRED_BY_TRIAL_END="expiredByTrialEnd",ie.INVALID="invalid",D;var ie})();const se={error:void 0,appliedCoupon:void 0,isLoading:!1},ne={error:void 0,appliedCoupon:void 0,isLoading:!0};let ee=(()=>{class ie{constructor(Z){this.productService=Z,this.productSubject=new $.X(void 0),this.destroy=new l.xQ,this.selectedPlanSubject=new $.X(void 0),this.couponStateSubject=new $.X(se),this.couponCodeSubject=new $.X(void 0),this.seatCount$=new $.X(1),this.cachedProducts={},this.fetchCouponOnCodeOrPlanChange$().pipe((0,c.R)(this.destroy)).subscribe(this.couponStateSubject)}get product(){return this.productSubject.getValue()}setCouponCode(Z){this.couponCodeSubject.next(Z)}loadProduct(Z,ge,Ve){return this.getProduct(Z).then(_t=>this.sortProductPlans(_t)).then(_t=>{const pt=this.getDefaultPlan(_t,ge,Ve);this.productSubject.next(_t),this.selectedPlanSubject.next(pt)})}setSeatCount(Z){this.seatCount$.next(Z)}getCurrentProductOption$(){return(0,y.aj)([this.productSubject.pipe((0,n.h)(J.K)),this.selectedPlanSubject.pipe((0,n.h)(J.K)),this.seatCount$,this.getCouponState$().pipe((0,q.j)("appliedCoupon"),(0,a.x)())]).pipe((0,_.U)(([Z,ge,Ve,_t])=>this.getProductOption(Z,ge,Ve,_t)))}switchToAnnualPlan(){var Z;this.selectedPlanSubject.next(null===(Z=this.product)||void 0===Z?void 0:Z.annualPlan)}switchToTrialPlan(){var Z;this.selectedPlanSubject.next(null===(Z=this.product)||void 0===Z?void 0:Z.trialPlan)}getCouponState$(){return this.couponStateSubject.asObservable()}ngOnDestroy(){this.destroy.next()}getCoupon$(Z,ge){let Ve=ge.id;return ge.trialRenewalPlanId&&(Ve=ge.trialRenewalPlanId),(0,g.D)(this.productService.getCoupon([Ve],Z)).pipe((0,r.K)(()=>(0,d.of)(void 0)),(0,_.U)(_t=>{const Mt=this.getCouponError(_t,ge.trialDuration,!!ge.trialRenewalPlanId);return{isLoading:!1,error:Mt,appliedCoupon:Mt?void 0:_t}}))}fetchCouponOnCodeOrPlanChange$(){return(0,y.aj)([this.couponCodeSubject.pipe((0,a.x)()),this.selectedPlanSubject.pipe((0,a.x)(C.isEqual))]).pipe((0,m.w)(([Z,ge])=>Z&&ge?(0,W.T)((0,d.of)(ne),this.getCoupon$(Z,ge)):(0,d.of)(se)),(0,a.x)(C.isEqual))}getCouponError(Z,ge,Ve){return Z?Ve&&this.hasRedeemDateError(ge,Z.redeem_date)?D.EXPIRED_BY_TRIAL_END:void 0:D.INVALID}hasRedeemDateError(Z,ge){return!(!ge||"number"!=typeof Z)&&new Date(ge).getTime()-(new Date).getTime()<le.E.daysToMilliseconds(Z)}sortProductPlans(Z){return Z.productPlans.sort((ge,Ve)=>Ve.frequency===S.mz.FrequencyEnum.yearly?1:0),Z}getProduct(Z){return this.cachedProducts[Z]?Promise.resolve(this.cachedProducts[Z]):this.productService.getProduct(Z).then(ge=>(this.cachedProducts[Z]=ge,ge))}getProductOption(Z,ge,Ve,_t){return{product:Z,plan:ge,planDetails:this.getPlanDetails(Z,ge,Ve,_t),name:Z.usePlanForDisplayName?ge.name:Z.name,isProductWithTrialPlan:Z.productPlans.filter(pt=>pt.frequency===S.mz.FrequencyEnum.trial).length>0}}getDefaultPlan(Z,ge,Ve){if(ge)return Z.productPlans.find(_t=>_t.id===ge)||Z.productPlans[0];if(Ve){const _t=Z.productPlans.find(pt=>pt.frequency===Ve);if(_t)return _t}return Z.family===S.lL.FamilyEnum.contacts?Z.productPlans.find(_t=>_t.frequency===S.mz.FrequencyEnum.monthly)||Z.productPlans[0]:Z.family===S.lL.FamilyEnum.databoost?Z.productPlans.find(_t=>_t.frequency===S.mz.FrequencyEnum.yearly)||Z.productPlans[0]:Z.trialPlan?Z.trialPlan:Z.annualPlan?Z.annualPlan:Z.productPlans[0]}getPlanDetails(Z,ge,Ve,_t){const pt=ge.price*Ve,Mt=this.productService.calculateDiscountedPrice(pt,_t),Bt=0===Mt,on=ge.frequency===S.mz.FrequencyEnum.trial,yn=Bt&&!on,Ei=ge.frequency;let $n,jn;if(on){const qn=ge.trialRenewalPlanId,Ii=Z.productPlans.find(Ln=>Ln.id===qn);Ii&&($n=Ii.price*Ve,jn=this.productService.calculateDiscountedPrice($n,_t))}return{plan:ge,frequency:Ei,initialPrice:pt,finalPrice:Mt,seatCount:Ve,isFree:Bt,isAlwaysFree:yn,isTrial:on,renewalPrice:$n,finalRenewalPrice:jn}}}return ie.\u0275fac=function(Z){return new(Z||ie)(u.LFG(I.M5))},ie.\u0275prov=u.Yz7({token:ie,factory:ie.\u0275fac}),ie})();var w=t(90587),G=t(93404),k=t(42330),X=t(24179),K=t(95758),te=t(73729),Ie=t(44770),Te=t(43365),ce=t(36362),Re=t(91434),fe=t(1130),ye=t(87317),Ge=t(74929);function at(ie,$e){1&ie&&(u.TgZ(0,"mat-error"),u._uU(1),u.ALo(2,"translate"),u.qZA()),2&ie&&(u.xp6(1),u.hij(" ",u.lcZ(2,1,"CBL.COMMON.REQUIRED")," "))}function It(ie,$e){1&ie&&(u.TgZ(0,"mat-error"),u.SDv(1,19),u.qZA())}function Ue(ie,$e){if(1&ie&&(u.TgZ(0,"mat-option",20),u._uU(1),u.qZA()),2&ie){const Z=$e.$implicit;u.Q6J("value",Z),u.xp6(1),u.hij("",Z," ")}}function we(ie,$e){1&ie&&(u.TgZ(0,"mat-error"),u._uU(1),u.ALo(2,"translate"),u.qZA()),2&ie&&(u.xp6(1),u.hij(" ",u.lcZ(2,1,"CBL.COMMON.REQUIRED")," "))}function De(ie,$e){1&ie&&(u.TgZ(0,"mat-error"),u.SDv(1,21),u.qZA())}const ae=function(ie){return{productName:ie}};let dt=(()=>{class ie extends B.V{constructor(Z,ge,Ve,_t){super(),this.dialogRef=Z,this.usageEventService=ge,this.toastService=Ve,this.productService=_t}ngOnInit(){this.primaryProduct=this.payload.product,this.userId=this.payload.userId,this.seatForm=new w.cw({numSeats:new w.NI(1,[w.kI.required,w.kI.min(2)]),phoneNumber:new w.NI("",[w.kI.required,w.kI.pattern("^[0-9]*$")])}),this.calculatePrice()}close(){this.dialogRef.close()}calculatePrice(){this.price=this.primaryProduct.planDetails.plan.monthlyPrice*this.seatForm.value.numSeats*12}submit(){this.seatForm.valid&&this.seatForm.controls.numSeats.value>1&&(this.usageEventService.logUsageEvent("pro_trial_multi_seat",{user_uuid:this.userId||"",number_of_seats:this.seatForm.value.numSeats,phone_number:parseInt(this.seatForm.value.phoneNumber,10)}),this.toastService.showSimpleToast("CBL.BILLING.PRO_TRIAL_MULTI_SEAT.THANKS"),this.dialogRef.close())}getTeamRange(){return this.primaryProduct.product.requires_workspace?this.productService.getSelfServeLicenseRange():[1]}}return ie.\u0275fac=function(Z){return new(Z||ie)(u.Y36(K.so),u.Y36(s.N),u.Y36(x.k),u.Y36(I.M5))},ie.\u0275cmp=u.Xpm({type:ie,selectors:[["multi-seat-pro-trial-dialog"]],features:[u.qOj],decls:42,vars:48,consts:function(){let $e,Z,ge,Ve,_t,pt,Mt;return $e=$localize`:␟a611bbca0da13418b23d0a933367e79265e18f61␟3017795334593892829: Request team setup and someone from Crunchbase will reach out to help you activate your free team trial. `,Z=$localize`:␟437d6444175a154be7c5e11d6bf7f5d7ed33cc0d␟8428348909593474745:Step 1`,ge=$localize`:␟752aac3375033c4723178bf443b92ee177174be0␟3943314737845757694:Step 2`,Ve=$localize`:␟d8fb28c3707f7750817680810d5742207ddb1952␟4540302154617774368:Total due today: $0`,_t=$localize`:␟0bbd410526d3dbaa2e4ae64adf90a672659f4b45␟3586811841862032456:No Thanks`,pt=$localize`:␟713190d99b20c8b2b9a2a7fc696f8ee88293eee6␟430421603770617855: Invalid phone number. Must contain only numbers `,Mt=$localize`:␟c42a1e5bb5ba98d1dd856650be098e5870d6913b␟8620013998772148199: Must be greater than 1 `,[[3,"formGroup","ngSubmit"],[3,"title"],["dialog-content","",1,"trial-multi-seat-container"],[1,"team-header"],[1,"team-body"],$e,Z,["required","","matInput","","formControlName","phoneNumber",3,"placeholder"],[4,"ngIf"],ge,["required","","type","number","formControlName","numSeats",3,"placeholder","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[1,"estimated-cost"],[1,"total-due"],Ve,["dialog-actions",""],["mat-button","","type","button",3,"click"],_t,["mat-raised-button","","color","primary","type","submit",3,"disabled"],pt,[3,"value"],Mt]},template:function(Z,ge){1&Z&&(u.TgZ(0,"form",0),u.NdJ("ngSubmit",function(){return ge.submit()}),u.TgZ(1,"dialog-layout",1),u.ALo(2,"translate"),u.TgZ(3,"div",2)(4,"div",3),u._uU(5),u.ALo(6,"translate"),u.qZA(),u.TgZ(7,"div",4),u.SDv(8,5),u.qZA(),u.TgZ(9,"h4"),u.SDv(10,6),u.qZA(),u.TgZ(11,"mat-form-field"),u._UZ(12,"input",7),u.ALo(13,"translate"),u.YNc(14,at,3,3,"mat-error",8),u.YNc(15,It,2,0,"mat-error",8),u.qZA(),u.TgZ(16,"h4"),u.SDv(17,9),u.qZA(),u.TgZ(18,"mat-form-field")(19,"mat-select",10),u.NdJ("selectionChange",function(){return ge.calculatePrice()}),u.ALo(20,"translate"),u.YNc(21,Ue,2,2,"mat-option",11),u.qZA(),u.YNc(22,we,3,3,"mat-error",8),u.YNc(23,De,2,0,"mat-error",8),u.qZA(),u.TgZ(24,"div",12),u._uU(25),u.ALo(26,"translate"),u.ALo(27,"currency"),u.ynx(28),u._uU(29),u.ALo(30,"translate"),u.BQk(),u._uU(31),u.ALo(32,"translate"),u.ALo(33,"currency"),u.qZA(),u.TgZ(34,"div",13),u.SDv(35,14),u.qZA()(),u.TgZ(36,"div",15)(37,"button",16),u.NdJ("click",function(){return ge.close()}),u.SDv(38,17),u.qZA(),u.TgZ(39,"button",18),u._uU(40),u.ALo(41,"translate"),u.qZA()()()()),2&Z&&(u.Q6J("formGroup",ge.seatForm),u.xp6(1),u.Q6J("title",u.xi3(2,18,"CBL.BILLING.PRO_TRIAL_MULTI_SEAT.HEADER",u.VKq(44,ae,ge.primaryProduct.name))),u.xp6(4),u.hij(" ",u.xi3(6,21,"CBL.BILLING.PRO_TRIAL_MULTI_SEAT.TEAM.HEADER",u.VKq(46,ae,ge.primaryProduct.name))," "),u.xp6(7),u.Q6J("placeholder",u.lcZ(13,24,"CBL.BILLING.PRO_TRIAL_MULTI_SEAT.PHONE_NUMBER")),u.xp6(2),u.Q6J("ngIf",ge.seatForm.controls.phoneNumber.hasError("required")),u.xp6(1),u.Q6J("ngIf",ge.seatForm.controls.phoneNumber.hasError("pattern")),u.xp6(4),u.Q6J("placeholder",u.lcZ(20,26,"CBL.BILLING.PRO_TRIAL_MULTI_SEAT.NUM_PEOPLE")),u.xp6(2),u.Q6J("ngForOf",ge.getTeamRange()),u.xp6(1),u.Q6J("ngIf",ge.seatForm.controls.numSeats.hasError("required")),u.xp6(1),u.Q6J("ngIf",ge.seatForm.controls.numSeats.hasError("min")),u.xp6(2),u.AsE(" ",u.lcZ(26,28,"CBL.BILLING.PRO_TRIAL_MULTI_SEAT.ESTIMATED_COST")," ",u.xi3(27,30,ge.primaryProduct.plan.monthlyPrice,ge.primaryProduct.plan.currency)," \xd7 "),u.xp6(4),u.AsE(" ",ge.seatForm.value.numSeats," ",u.lcZ(30,33,"CBL.BILLING.SEATS")," \xd7 "),u.xp6(2),u.AsE(" ",u.lcZ(32,35,"CBL.BILLING.NUM_MONTHS")," = ",u.gM2(33,37,ge.price,ge.primaryProduct.plan.currency,"symbol","1.2-2")," "),u.xp6(8),u.Q6J("disabled",ge.seatForm.invalid),u.xp6(1),u.hij(" ",u.lcZ(41,42,"CBL.BILLING.PRO_TRIAL_MULTI_SEAT.REQUEST_TEAM_SETUP")," "))},directives:[w._Y,w.JL,w.sg,te.I,Ie.KE,Te.Nt,w.Fj,w.Q7,w.JJ,w.u,ce.O5,Ie.TO,Re.gD,ce.sg,fe.ey,ye.lW],pipes:[Ge.X,ce.H9],styles:["[_nghost-%COMP%]{box-sizing:border-box;display:flex!important;flex-direction:column}h4[_ngcontent-%COMP%]{font-weight:500;padding-bottom:8px}mat-form-field[_ngcontent-%COMP%]{padding-bottom:8px}.trial-multi-seat-container[_ngcontent-%COMP%]{box-sizing:border-box;display:flex!important;flex-direction:column}.trial-multi-seat-container[_ngcontent-%COMP%]   .team-header[_ngcontent-%COMP%]{font-size:20px;font-weight:500;margin-bottom:8px}.trial-multi-seat-container[_ngcontent-%COMP%]   .team-body[_ngcontent-%COMP%]{margin-bottom:20px}.trial-multi-seat-container[_ngcontent-%COMP%]   .estimated-cost[_ngcontent-%COMP%]{margin-bottom:8px}.trial-multi-seat-container[_ngcontent-%COMP%]   .total-due[_ngcontent-%COMP%]{font-weight:500}.trial-multi-seat-container[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:50%}"],changeDetection:0}),ie})();var Ye=t(20605),vt=t(26365),Je=t(29473),Ke=t(58798),Ne=t(46036),ke=t(61531),He=t(17594),nt=t(11961),Et=t(77500),rt=t(32478);function Dt(ie,$e){1&ie&&(u.ynx(0),u.SDv(1,14),u.BQk())}function Lt(ie,$e){1&ie&&u.SDv(0,15)}function Ut(ie,$e){1&ie&&(u.TgZ(0,"span"),u.SDv(1,16),u.qZA())}function Yt(ie,$e){1&ie&&(u.TgZ(0,"span"),u.SDv(1,17),u.qZA())}function $t(ie,$e){if(1&ie&&(u.TgZ(0,"div",8)(1,"div",9),u._uU(2),u.ALo(3,"currency"),u.qZA(),u.TgZ(4,"div",10)(5,"span"),u.YNc(6,Dt,2,0,"ng-container",11),u.YNc(7,Lt,1,0,"ng-template",null,12,u.W1O),u.qZA(),u.YNc(9,Ut,2,0,"span",13),u.YNc(10,Yt,2,0,"span",13),u.qZA()()),2&ie){const Z=u.MAs(8),ge=u.oxw();u.xp6(2),u.hij(" ",u.gM2(3,5,ge.productOption.plan.monthlyPrice,ge.productOption.plan.currency,"symbol","1.0-0")," "),u.xp6(4),u.Q6J("ngIf",ge.isMultiSeat)("ngIfElse",Z),u.xp6(3),u.Q6J("ngIf",ge.isMonthly),u.xp6(1),u.Q6J("ngIf",!ge.isMonthly)}}const un=function(ie){return{monthlyPrice:ie}};function je(ie,$e){if(1&ie&&(u.ynx(0),u._uU(1),u.ALo(2,"translate"),u.ALo(3,"currency"),u.BQk()),2&ie){const Z=u.oxw(2);u.xp6(1),u.hij(" ",u.xi3(2,1,"CBL.BILLING.TRIAL.PRICE_DETAILS_MULTISEAT",u.VKq(9,un,u.gM2(3,4,Z.productOption.plan.monthlyPrice,Z.productOption.plan.currency,"symbol","1.0-0")))," ")}}function ft(ie,$e){if(1&ie&&(u._uU(0),u.ALo(1,"translate"),u.ALo(2,"currency")),2&ie){const Z=u.oxw(2);u.hij(" ",u.xi3(1,1,"CBL.BILLING.TRIAL.PRICE_DETAILS",u.VKq(9,un,u.gM2(2,4,Z.productOption.plan.monthlyPrice,Z.productOption.plan.currency,"symbol","1.0-0")))," ")}}function pe(ie,$e){1&ie&&(u.TgZ(0,"div",22),u.SDv(1,23),u.qZA())}const be=function(ie){return{numOfDays:ie}};function Ce(ie,$e){if(1&ie&&(u.TgZ(0,"div",18)(1,"div"),u._uU(2),u.ALo(3,"translate"),u.qZA(),u.TgZ(4,"div",19),u.YNc(5,je,4,11,"ng-container",11),u.YNc(6,ft,3,11,"ng-template",null,20,u.W1O),u.qZA(),u.YNc(8,pe,2,0,"div",21),u.qZA()),2&ie){const Z=u.MAs(7),ge=u.oxw();u.xp6(2),u.hij(" ",u.xi3(3,4,"CBL.BILLING.TRIAL.PRICE",u.VKq(7,be,ge.productOption.plan.trialDuration))," "),u.xp6(3),u.Q6J("ngIf",ge.isMultiSeat)("ngIfElse",Z),u.xp6(3),u.Q6J("ngIf",ge.includesExportFeature)}}function de(ie,$e){if(1&ie&&(u.TgZ(0,"li"),u._uU(1),u.ALo(2,"translate"),u.qZA()),2&ie){const Z=$e.$implicit;u.xp6(1),u.hij(" ",u.lcZ(2,1,Z)," ")}}function Ae(ie,$e){if(1&ie&&(u.TgZ(0,"li"),u._UZ(1,"icon",27),u.TgZ(2,"h3"),u._uU(3),u.ALo(4,"translate"),u.qZA(),u.TgZ(5,"ul"),u.YNc(6,de,3,3,"li",26),u.qZA()()),2&ie){const Z=$e.$implicit;u.xp6(3),u.hij(" ",u.lcZ(4,2,Z.headline)," "),u.xp6(3),u.Q6J("ngForOf",Z.items)}}function ct(ie,$e){if(1&ie&&(u.TgZ(0,"div",24)(1,"div"),u.SDv(2,25),u.qZA(),u.TgZ(3,"ul"),u.YNc(4,Ae,7,4,"li",26),u.qZA()()),2&ie){const Z=u.oxw();u.xp6(4),u.Q6J("ngForOf",Z.featureList)}}let gt=(()=>{class ie{constructor(){this.isMultiSeat=!1,this.includesExportFeature=!1}ngOnChanges(){this.featureList=this.getFeatureList(this.productOption),this.isMultiSeat=!!this.productOption.product.requires_workspace,this.includesExportFeature=this.productOption.product.url_slug!==I.wo.CB_STARTER}getFeatureList(Z){var ge;return(null===(ge=Z.planDetails)||void 0===ge?void 0:ge.isTrial)?Z.product.trialFeatureList:Z.product.featureList}}return ie.\u0275fac=function(Z){return new(Z||ie)},ie.\u0275cmp=u.Xpm({type:ie,selectors:[["product-info"]],inputs:{productOption:"productOption",isMonthly:"isMonthly"},features:[u.TTD],decls:9,vars:6,consts:function(){let $e,Z,ge,Ve,_t,pt;return $e=$localize`:␟225ec4e3a5923aa4278b4583bb1347a7e38339a7␟4762853564866303197: Per seat, per month, `,Z=$localize`:␟eeeda9ec66197ab92dacb1241257f6ad19b3e955␟5543782955758424713: Per month, `,ge=$localize`:␟0567ea1c8a2097250a1ca9c468b8444d40a90c6e␟5358838120063821972:billed monthly`,Ve=$localize`:␟20f318a52dcb8962652dd3b686c4d9a1e8f3539b␟4232263166117580688:billed annually`,_t=$localize`:␟44a980dabb9beb7f20133ee182c853650ec07e6e␟1247827036487488357: Export feature not available during the trial period `,pt=$localize`:␟47d1cc30b666a60eaf9823dda7a0dfe980116d77␟3398538806969932380:Features included in your subscription:`,[[1,"product-info"],[1,"product-title"],[1,"product-image"],["alt","",3,"publicId","original"],[1,"product-name"],["class","non-trial-price",4,"ngIf"],["class","trial-price",4,"ngIf"],["class","feature-list",4,"ngIf"],[1,"non-trial-price"],[1,"price-amount"],[1,"price-text"],[4,"ngIf","ngIfElse"],["singleSeatPerMonth",""],[4,"ngIf"],$e,Z,ge,Ve,[1,"trial-price"],[1,"price-details"],["singleSeatDetails",""],["class","export-feature",4,"ngIf"],[1,"export-feature"],_t,[1,"feature-list"],pt,[4,"ngFor","ngForOf"],["color","success","size","large","key","icon_check"]]},template:function(Z,ge){1&Z&&(u.TgZ(0,"mat-card",0)(1,"div",1)(2,"div",2),u._UZ(3,"cb-image",3),u.qZA(),u.TgZ(4,"h2",4),u._uU(5),u.qZA()(),u.YNc(6,$t,11,10,"div",5),u.YNc(7,Ce,9,9,"div",6),u.YNc(8,ct,5,1,"div",7),u.qZA()),2&Z&&(u.xp6(3),u.Q6J("publicId",ge.productOption.product.productImageId)("original",!0),u.xp6(2),u.hij(" ",ge.productOption.name," "),u.xp6(1),u.Q6J("ngIf",!ge.productOption.planDetails.isTrial),u.xp6(1),u.Q6J("ngIf",ge.productOption.planDetails.isTrial),u.xp6(1),u.Q6J("ngIf",ge.featureList))},directives:[nt.a8,Et.q,ce.O5,ce.sg,rt.o],pipes:[ce.H9,Ge.X],styles:['@charset "UTF-8";.product-info[_ngcontent-%COMP%]{box-sizing:border-box;display:flex!important;flex-direction:column;color:#282828;border-width:8px 0px 0px;border-top-style:solid;border-top-color:#146aff;padding:20px;margin-bottom:20px}.product-info[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-top:16px}.product-info[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{margin-top:0}.product-title[_ngcontent-%COMP%]{box-sizing:border-box;display:flex!important;flex-direction:row;font-size:20px}.product-name[_ngcontent-%COMP%]{font-weight:500;margin-top:4px}.product-image[_ngcontent-%COMP%]{align-self:start;border:none;height:24px;width:24px;margin-right:8px}.product-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:2px}.product-image[_ngcontent-%COMP%]   icon[_ngcontent-%COMP%]{width:100%;height:100%}.non-trial-price[_ngcontent-%COMP%]{box-sizing:border-box;display:flex!important;flex-direction:row;justify-content:flex-start;align-items:center;align-content:center;max-width:100%}.non-trial-price[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{max-width:100%;box-sizing:border-box}.trial-price[_ngcontent-%COMP%]   .non-trial-price[_ngcontent-%COMP%]{max-width:100%;padding-top:16px;margin-top:16px;border-top:1px solid rgba(0,0,0,.12)}.price-amount[_ngcontent-%COMP%]{font-size:48px}.price-text[_ngcontent-%COMP%]{font-weight:500;color:#0000008a;line-height:20px;margin-left:8px}.price-text[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{display:block}.price-details[_ngcontent-%COMP%]{color:#0000008a;font-size:14px}.trial-price[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-top:8px}.trial-price[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child{margin-top:0;font-weight:500;font-size:24px}.export-feature[_ngcontent-%COMP%]{font-size:12px;color:#0000008a;font-style:italic}.feature-list[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]{margin-top:16px;list-style:none}.feature-list[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{margin-top:8px;position:relative;padding-left:24px;line-height:1.2em}.feature-list[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   icon[_ngcontent-%COMP%]{position:absolute;left:0}.feature-list[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child{margin-top:8px;display:list-item}.feature-list[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:"\\2022";padding-right:4px}.feature-list[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > h3[_ngcontent-%COMP%]{font-weight:500;font-size:16px}.unavailable-contacts[_ngcontent-%COMP%]{font-style:italic}@media (min-width: 960px){.product-price[_ngcontent-%COMP%]{padding-top:0;margin-top:0;border-top:none}}'],changeDetection:0}),ie})();var Ht=t(59543),nn=t(29847),mn=t(50450),Xn=t(7856),Rn=t(53095),Yn=t(23322),Gn=t(67278);function Nn(ie,$e){if(1&ie&&(u.TgZ(0,"span",4),u._uU(1),u.ALo(2,"currency"),u.qZA()),2&ie){const Z=u.oxw();u.xp6(1),u.hij(" ",u.gM2(2,1,Z.initialPrice,Z.currency,"symbol","1.2-2")," ")}}function Kn(ie,$e){if(1&ie&&(u.ynx(0),u._uU(1),u.ALo(2,"translate"),u.BQk()),2&ie){const Z=u.oxw(2);u.xp6(1),u.AsE(" ",Z.seatCount," ",u.lcZ(2,2,"CBL.BILLING.SEATS")," \xd7 ")}}function Vn(ie,$e){if(1&ie&&(u.TgZ(0,"div",5),u._uU(1),u.ALo(2,"currency"),u.YNc(3,Kn,3,4,"ng-container",6),u._uU(4),u.ALo(5,"translate"),u.qZA()),2&ie){const Z=u.oxw();u.xp6(1),u.hij(" ",u.gM2(2,3,Z.monthlyPrice,Z.currency,"symbol","1.2-2")," \xd7 "),u.xp6(2),u.Q6J("ngIf",Z.seatCount>1),u.xp6(1),u.hij(" ",u.lcZ(5,8,"CBL.BILLING.NUM_MONTHS"),"\n")}}let ei=(()=>{class ie{}return ie.\u0275fac=function(Z){return new(Z||ie)},ie.\u0275cmp=u.Xpm({type:ie,selectors:[["buy-price"]],inputs:{initialPrice:"initialPrice",finalPrice:"finalPrice",monthlyPrice:"monthlyPrice",seatCount:"seatCount",currency:"currency",hidePriceCalculation:"hidePriceCalculation"},decls:6,vars:8,consts:[[1,"price-container"],["class","old-price",4,"ngIf"],[1,"price"],["class","price-calculation",4,"ngIf"],[1,"old-price"],[1,"price-calculation"],[4,"ngIf"]],template:function(Z,ge){1&Z&&(u.TgZ(0,"div",0),u.YNc(1,Nn,3,6,"span",1),u.TgZ(2,"span",2),u._uU(3),u.ALo(4,"currency"),u.qZA()(),u.YNc(5,Vn,6,10,"div",3)),2&Z&&(u.xp6(1),u.Q6J("ngIf",ge.finalPrice!==ge.initialPrice),u.xp6(2),u.hij(" ",u.gM2(4,3,ge.finalPrice,ge.currency,"symbol","1.2-2")," "),u.xp6(2),u.Q6J("ngIf",!!ge.finalPrice&&ge.finalPrice===ge.initialPrice&&!ge.hidePriceCalculation))},directives:[ce.O5],pipes:[ce.H9,Ge.X],styles:['span[_ngcontent-%COMP%]{display:inline-block}.price-container[_ngcontent-%COMP%]{font-weight:500}.price[_ngcontent-%COMP%], .old-price[_ngcontent-%COMP%]{font-size:36px}.old-price[_ngcontent-%COMP%]{color:#0000008a;margin-right:8px;position:relative}.old-price[_ngcontent-%COMP%]:after{content:"";background-color:#0000008a;display:block;position:absolute;left:.25em;right:0;height:.1em;top:50%}.price-calculation[_ngcontent-%COMP%]{font-size:12px}'],changeDetection:0}),ie})();var Ft=t(23708),In=t(29641);let cn=(()=>{class ie{constructor(Z,ge){this.urlService=Z,this.billingService=ge}ngOnChanges(){const Z=this.plan.frequency===Ft.mz.FrequencyEnum.trial;this.purchaseTerm=0===this.finalPrice?this.getFreePurchaseTerm():Z?this.getTrialPurchaseTerm(this.finalPrice,this.plan):this.getPaidPurchaseTerm(this.finalPrice)}getFreePurchaseTerm(){return{labelKey:"CBL.BILLING.GET_FREE_PRODUCT_SUBSCRIPTION_TERMS",labelValues:this.getPolicyUrls()}}getTrialPurchaseTerm(Z,ge){const Ve=this.getPolicyUrls();return Ve.price=this.getPrice(Z),Ve.billingStartDate=this.getTrialPlanBillingCycleStartDate(ge),{labelKey:"CBL.BILLING.GET_TRIAL_PRODUCT_SUBSCRIPTION_TERMS",labelValues:Ve}}getPaidPurchaseTerm(Z){const ge=this.getPolicyUrls();return ge.price=this.getPrice(Z),ge.frequency=this.plan.frequency,{labelKey:"CBL.BILLING.GET_PAID_PRODUCT_SUBSCRIPTION_TERMS",labelValues:ge}}getPolicyUrls(){return{termsUrl:this.getTermsOfServiceUrl(),cancellationPolicyUrl:this.getCancellationPolicyUrl(),privacyPolicyUrl:this.getPrivacyPolicyUrl()}}getPrice(Z){return this.billingService.formatAsPrice(Z,2)}getTrialPlanBillingCycleStartDate(Z){const ge=(new Date).getTime()+le.E.daysToMilliseconds(Z.trialDuration||0);return new Date(ge).toDateString()}getTermsOfServiceUrl(){return this.urlService.getTermsOfServiceUrl()}getCancellationPolicyUrl(){return this.urlService.getCancellationPolicyUrl()}getPrivacyPolicyUrl(){return this.urlService.getPrivacyPolicyUrl()}}return ie.\u0275fac=function(Z){return new(Z||ie)(u.Y36(V.iO),u.Y36(I.jM))},ie.\u0275cmp=u.Xpm({type:ie,selectors:[["purchase-terms"]],inputs:{plan:"plan",finalPrice:"finalPrice"},features:[u.TTD],decls:1,vars:2,consts:[[3,"key","values"]],template:function(Z,ge){1&Z&&u._UZ(0,"markup-label",0),2&Z&&u.Q6J("key",ge.purchaseTerm.labelKey)("values",ge.purchaseTerm.labelValues)},directives:[In.x],styles:["[_nghost-%COMP%]{font-size:12px}"],changeDetection:0}),ie})(),pi=(()=>{class ie{}return ie.\u0275fac=function(Z){return new(Z||ie)},ie.\u0275cmp=u.Xpm({type:ie,selectors:[["buy-total"]],inputs:{productOption:"productOption",isMonthly:"isMonthly"},decls:2,vars:8,consts:[["data-cypress-tag","today-total",3,"initialPrice","finalPrice","currency","monthlyPrice","seatCount","hidePriceCalculation"],[3,"plan","finalPrice"]],template:function(Z,ge){1&Z&&u._UZ(0,"buy-price",0)(1,"purchase-terms",1),2&Z&&(u.Q6J("initialPrice",ge.productOption.planDetails.initialPrice)("finalPrice",ge.productOption.planDetails.finalPrice)("currency",ge.productOption.plan.currency)("monthlyPrice",ge.productOption.plan.monthlyPrice)("seatCount",ge.productOption.planDetails.seatCount)("hidePriceCalculation",ge.isMonthly),u.xp6(1),u.Q6J("plan",ge.productOption.plan)("finalPrice",ge.productOption.planDetails.finalRenewalPrice?ge.productOption.planDetails.finalRenewalPrice:ge.productOption.planDetails.finalPrice))},directives:[ei,cn],styles:["[_nghost-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;align-items:center;flex-wrap:wrap}buy-price[_ngcontent-%COMP%], purchase-terms[_ngcontent-%COMP%]{display:block;flex:1 1 100%}purchase-terms[_ngcontent-%COMP%]{margin-top:16px}@media (min-width: 960px){buy-price[_ngcontent-%COMP%]{flex:1 1 33%}purchase-terms[_ngcontent-%COMP%]{box-sizing:border-box;flex:1 1 66%;padding-left:8px;max-width:66%;margin-top:0}}"],changeDetection:0}),ie})(),hn=(()=>{class ie{}return ie.\u0275fac=function(Z){return new(Z||ie)},ie.\u0275cmp=u.Xpm({type:ie,selectors:[["buy-total-trial"]],inputs:{productOption:"productOption"},decls:5,vars:10,consts:[["data-cypress-tag","today-total",3,"initialPrice","finalPrice","currency","monthlyPrice"],[1,"cancel-terms"]],template:function(Z,ge){1&Z&&(u._UZ(0,"buy-price",0),u.TgZ(1,"div",1),u._uU(2),u.ALo(3,"translate"),u.ALo(4,"translate"),u.qZA()),2&Z&&(u.Q6J("initialPrice",ge.productOption.plan.price)("finalPrice",ge.productOption.planDetails.finalPrice)("currency",ge.productOption.plan.currency)("monthlyPrice",ge.productOption.plan.price/12),u.xp6(2),u.AsE(" ",u.lcZ(3,6,"CBL.BILLING.TRIAL.CANCEL_ANYTIME")," ",u.lcZ(4,8,"CBL.BILLING.TRIAL.EXPORT_WITH_PRO"),"\n"))},directives:[ei],pipes:[Ge.X],styles:["[_nghost-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;align-items:center;flex-wrap:wrap}buy-price[_ngcontent-%COMP%]{flex:1 1 100%}.cancel-terms[_ngcontent-%COMP%]{font-size:12px;margin-top:16px}@media (min-width: 960px){buy-price[_ngcontent-%COMP%]{flex:1 1 33%}.cancel-terms[_ngcontent-%COMP%]{box-sizing:border-box;flex:1 1 66%;padding-left:8px;max-width:66%;margin-top:0}}"],changeDetection:0}),ie})(),Zt=(()=>{class ie{}return ie.\u0275fac=function(Z){return new(Z||ie)},ie.\u0275cmp=u.Xpm({type:ie,selectors:[["buy-total-after-trial"]],inputs:{productOption:"productOption"},decls:2,vars:7,consts:[["data-cypress-tag","after-trial-total",3,"initialPrice","finalPrice","currency","monthlyPrice","seatCount"],[3,"plan","finalPrice"]],template:function(Z,ge){1&Z&&u._UZ(0,"buy-price",0)(1,"purchase-terms",1),2&Z&&(u.Q6J("initialPrice",ge.productOption.planDetails.renewalPrice)("finalPrice",ge.productOption.planDetails.finalRenewalPrice)("currency",ge.productOption.plan.currency)("monthlyPrice",ge.productOption.plan.monthlyPrice)("seatCount",ge.productOption.planDetails.seatCount),u.xp6(1),u.Q6J("plan",ge.productOption.plan)("finalPrice",ge.productOption.planDetails.finalRenewalPrice?ge.productOption.planDetails.finalRenewalPrice:ge.productOption.planDetails.finalPrice))},directives:[ei,cn],styles:["[_nghost-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;align-items:center;flex-wrap:wrap}buy-price[_ngcontent-%COMP%], purchase-terms[_ngcontent-%COMP%]{display:block;flex:1 1 100%}purchase-terms[_ngcontent-%COMP%]{margin-top:16px}@media (min-width: 960px){buy-price[_ngcontent-%COMP%]{flex:1 1 33%}purchase-terms[_ngcontent-%COMP%]{box-sizing:border-box;flex:1 1 66%;padding-left:8px;max-width:66%;margin-top:0}}"],changeDetection:0}),ie})();var ti=t(45398),an=t(12972),Jn=t(74160),Bn=t(74742);function ni(ie,$e){1&ie&&(u.TgZ(0,"span",3),u._uU(1),u.ALo(2,"translate"),u.qZA()),2&ie&&(u.xp6(1),u.hij(" ",u.lcZ(2,1,"CBL.BILLING.COUPON_APPLIED")," "))}const ii=function(ie){return{percent:ie}};function Qn(ie,$e){if(1&ie&&(u.TgZ(0,"span",3),u._uU(1),u.ALo(2,"translate"),u.qZA()),2&ie){const Z=u.oxw();u.xp6(1),u.hij(" ",u.xi3(2,1,"CBL.BILLING.COUPON_APPLIED_ONCE_PERCENT",u.VKq(4,ii,Z.coupon.percent_off))," ")}}const Fn=function(ie){return{amount:ie}};function kn(ie,$e){if(1&ie&&(u.TgZ(0,"span",3),u._uU(1),u.ALo(2,"translate"),u.ALo(3,"currency"),u.qZA()),2&ie){const Z=u.oxw();u.xp6(1),u.hij(" ",u.xi3(2,1,"CBL.BILLING.COUPON_APPLIED_ONCE_AMOUNT",u.VKq(9,Fn,u.gM2(3,4,Z.coupon.amount_off,Z.coupon.currency,"symbol","1.0-0")))," ")}}function Zn(ie,$e){if(1&ie&&(u.TgZ(0,"span",3),u._uU(1),u.ALo(2,"translate"),u.qZA()),2&ie){const Z=u.oxw();u.xp6(1),u.hij(" ",u.xi3(2,1,"CBL.BILLING.COUPON_APPLIED_FOREVER_PERCENT",u.VKq(4,ii,Z.coupon.percent_off))," ")}}function Dn(ie,$e){if(1&ie&&(u.TgZ(0,"span",3),u._uU(1),u.ALo(2,"translate"),u.ALo(3,"currency"),u.qZA()),2&ie){const Z=u.oxw();u.xp6(1),u.hij(" ",u.xi3(2,1,"CBL.BILLING.COUPON_APPLIED_FOREVER_AMOUNT",u.VKq(9,Fn,u.gM2(3,4,Z.coupon.amount_off,Z.coupon.currency,"symbol","1.0-0")))," ")}}function En(ie,$e){1&ie&&(u.TgZ(0,"span",7),u._uU(1),u.ALo(2,"translate"),u.qZA()),2&ie&&(u.xp6(1),u.hij(" ",u.lcZ(2,1,"CBL.BILLING.INVALID_COUPON")," "))}function ln(ie,$e){if(1&ie){const Z=u.EpF();u.ynx(0),u.TgZ(1,"span",7),u._uU(2),u.ALo(3,"translate"),u.qZA(),u.TgZ(4,"button",8),u.NdJ("click",function(){return u.CHM(Z),u.oxw(2).onClickExpiringCta()}),u._uU(5),u.ALo(6,"translate"),u.qZA(),u.BQk()}2&ie&&(u.xp6(2),u.hij(" ",u.lcZ(3,2,"CBL.BILLING.COUPON_WILL_BE_EXPIRED")," "),u.xp6(3),u.hij(" ",u.lcZ(6,4,"CBL.BILLING.COUPON_WILL_BE_EXPIRED_CTA")," "))}function Un(ie,$e){if(1&ie&&(u.ynx(0,4),u.YNc(1,En,3,3,"span",5),u.YNc(2,ln,7,6,"ng-container",6),u.BQk()),2&ie){const Z=u.oxw();u.Q6J("ngSwitch",Z.error),u.xp6(1),u.Q6J("ngSwitchCase",Z.ERRORS.INVALID),u.xp6(1),u.Q6J("ngSwitchCase",Z.ERRORS.EXPIRED_BY_TRIAL_END)}}let wt=(()=>{class ie{constructor(){this.switchFromTrial=new u.vpe,this.ERRORS=D,this.DURATIONS=S.OY.DurationEnum}ngOnChanges(Z){var ge;Z.coupon&&(this.duration=null===(ge=this.coupon)||void 0===ge?void 0:ge.duration)}onClickExpiringCta(){this.switchFromTrial.emit()}}return ie.\u0275fac=function(Z){return new(Z||ie)},ie.\u0275cmp=u.Xpm({type:ie,selectors:[["coupon-text"]],inputs:{coupon:"coupon",error:"error"},outputs:{switchFromTrial:"switchFromTrial"},features:[u.TTD],decls:7,vars:6,consts:[[1,"coupon-text-container"],["class","success-msg",4,"ngIf"],[3,"ngSwitch",4,"ngIf"],[1,"success-msg"],[3,"ngSwitch"],["class","error-msg",4,"ngSwitchCase"],[4,"ngSwitchCase"],[1,"error-msg"],[3,"click"]],template:function(Z,ge){1&Z&&(u.TgZ(0,"span",0),u.YNc(1,ni,3,3,"span",1),u.YNc(2,Qn,3,6,"span",1),u.YNc(3,kn,4,11,"span",1),u.YNc(4,Zn,3,6,"span",1),u.YNc(5,Dn,4,11,"span",1),u.YNc(6,Un,3,3,"ng-container",2),u.qZA()),2&Z&&(u.xp6(1),u.Q6J("ngIf",ge.coupon&&ge.duration!==ge.DURATIONS.recurring&&ge.duration!==ge.DURATIONS.one_time),u.xp6(1),u.Q6J("ngIf",ge.coupon&&ge.coupon.percent_off&&ge.duration===ge.DURATIONS.one_time),u.xp6(1),u.Q6J("ngIf",ge.coupon&&ge.coupon.amount_off&&ge.duration===ge.DURATIONS.one_time),u.xp6(1),u.Q6J("ngIf",ge.coupon&&ge.coupon.percent_off&&ge.duration===ge.DURATIONS.recurring),u.xp6(1),u.Q6J("ngIf",ge.coupon&&ge.coupon.amount_off&&ge.duration===ge.DURATIONS.recurring),u.xp6(1),u.Q6J("ngIf",!!ge.error))},directives:[ce.O5,ce.RF,ce.n9],pipes:[Ge.X,ce.H9],styles:[".coupon-text-container[_ngcontent-%COMP%]{font-size:12px}.success-msg[_ngcontent-%COMP%]{color:#36c78f}.error-msg[_ngcontent-%COMP%]{color:#c73636}button[_ngcontent-%COMP%]{font:inherit;font-weight:500;background:none!important;border-bottom:1px solid transparent;color:#146aff;border:none;padding:0!important;cursor:pointer;outline:none}button[_ngcontent-%COMP%]:hover{border-color:#146aff;cursor:pointer}"]}),ie})();function fn(ie,$e){if(1&ie){const Z=u.EpF();u.TgZ(0,"button",2),u.NdJ("click",function(){return u.CHM(Z),u.oxw().showCouponInput=!0}),u.TgZ(1,"label-with-icon",3),u._uU(2),u.ALo(3,"translate"),u.qZA()()}2&ie&&(u.xp6(2),u.hij(" ",u.lcZ(3,1,"CBL.BILLING.HAVE_A_COUPON")," "))}function dn(ie,$e){1&ie&&u._UZ(0,"mat-spinner",9)}function ci(ie,$e){if(1&ie){const Z=u.EpF();u.TgZ(0,"coupon-text",10),u.NdJ("switchFromTrial",function(){return u.CHM(Z),u.oxw(2).onSwitchFromTrial()}),u.qZA()}if(2&ie){const Z=u.oxw(2);u.Q6J("coupon",Z.appliedCoupon)("error",Z.error)}}function gi(ie,$e){if(1&ie&&(u.TgZ(0,"mat-form-field",4),u.YNc(1,dn,1,0,"mat-spinner",5),u._UZ(2,"input",6),u.ALo(3,"translate"),u._UZ(4,"icon",7),u.TgZ(5,"mat-hint"),u.YNc(6,ci,1,2,"coupon-text",8),u.qZA()()),2&ie){const Z=u.oxw();u.xp6(1),u.Q6J("ngIf",Z.isLoading),u.xp6(1),u.s9C("placeholder",u.lcZ(3,5,"CBL.BILLING.COUPON")),u.Q6J("formControl",Z.couponInput),u.xp6(2),u.Q6J("color",Z.appliedCoupon?"success":"accent"),u.xp6(2),u.Q6J("ngIf",Z.showCouponInput)}}let li=(()=>{class ie{constructor(){this.couponInputChange=new u.vpe,this.switchFromTrial=new u.vpe,this.couponInput=new w.NI,this.showCouponInput=!1}ngOnInit(){this.showCouponInput=!!this.couponCode,this.couponInput.setValue(this.couponCode||"",{emitEvent:!1}),this.getCouponInput$().subscribe(Z=>{this.couponInputChange.emit(Z)})}onSwitchFromTrial(){this.switchFromTrial.emit()}getCouponInput$(){return this.couponInput.valueChanges.pipe((0,an.D)(Z=>(0,ti.H)(Z?500:0)),(0,a.x)())}}return ie.\u0275fac=function(Z){return new(Z||ie)},ie.\u0275cmp=u.Xpm({type:ie,selectors:[["buy-coupon"]],inputs:{couponCode:"couponCode",appliedCoupon:"appliedCoupon",error:"error",isLoading:"isLoading"},outputs:{couponInputChange:"couponInputChange",switchFromTrial:"switchFromTrial"},decls:2,vars:2,consts:[["mat-button","","color","accent",3,"click",4,"ngIf"],["floatLabel","always","color","accent",4,"ngIf"],["mat-button","","color","accent",3,"click"],["iconKey","icon_loyalty"],["floatLabel","always","color","accent"],["color","accent","diameter","18","matPrefix","",4,"ngIf"],["matInput","","type","search","name","coupon","autocomplete","off",3,"formControl","placeholder"],["matSuffix","","key","icon_loyalty",3,"color"],[3,"coupon","error","switchFromTrial",4,"ngIf"],["color","accent","diameter","18","matPrefix",""],[3,"coupon","error","switchFromTrial"]],template:function(Z,ge){1&Z&&(u.YNc(0,fn,4,3,"button",0),u.YNc(1,gi,7,7,"mat-form-field",1)),2&Z&&(u.Q6J("ngIf",!ge.showCouponInput),u.xp6(1),u.Q6J("ngIf",ge.showCouponInput))},directives:[ce.O5,ye.lW,Jn.d,Ie.KE,Bn.Ou,Ie.qo,Te.Nt,w.Fj,w.JJ,w.oH,rt.o,Ie.R9,Ie.bx,wt],pipes:[Ge.X],styles:["button[_ngcontent-%COMP%]{margin-top:4px;margin-left:-16px}mat-form-field[_ngcontent-%COMP%]{margin-top:16px;margin-bottom:16px}mat-spinner[_ngcontent-%COMP%]{margin-right:4px}"],changeDetection:0}),ie})();function mi(ie,$e){if(1&ie){const Z=u.EpF();u.TgZ(0,"button",2),u.NdJ("click",function(){return u.CHM(Z),u.oxw().togglePlan()}),u._UZ(1,"markup-label",3),u.qZA()}}function vi(ie,$e){if(1&ie&&u._UZ(0,"markup-label",4),2&ie){const Z=u.oxw();u.Q6J("key",Z.multiSeatMessageKey)}}let hi=(()=>{class ie{constructor(){this.toggleClicked=new u.vpe}ngOnChanges(Z){Z.productOption&&(this.showMultiSeatToggleMessage=this.isMultiseat&&this.productOption.planDetails.frequency===S.mz.FrequencyEnum.trial),Z.isMultiseat&&(this.multiSeatMessageKey=this.getMultiSeatMessageKey())}getMultiSeatMessageKey(){return this.isMultiseat?"CBL.BILLING.MULTISEAT_MESSAGING.MULTI":"CBL.BILLING.MULTISEAT_MESSAGING.SINGLE"}togglePlan(){this.toggleClicked.emit()}}return ie.\u0275fac=function(Z){return new(Z||ie)},ie.\u0275cmp=u.Xpm({type:ie,selectors:[["multi-seat-message"]],inputs:{productOption:"productOption",isMultiseat:"isMultiseat"},outputs:{toggleClicked:"toggleClicked"},features:[u.TTD],decls:2,vars:2,consts:[[3,"click",4,"ngIf"],[3,"key",4,"ngIf"],[3,"click"],["key","CBL.BILLING.MULTISEAT_MESSAGING.MULTI_TRIAL"],[3,"key"]],template:function(Z,ge){1&Z&&(u.YNc(0,mi,2,0,"button",0),u.YNc(1,vi,1,1,"markup-label",1)),2&Z&&(u.Q6J("ngIf",ge.showMultiSeatToggleMessage),u.xp6(1),u.Q6J("ngIf",!ge.showMultiSeatToggleMessage))},directives:[ce.O5,In.x],styles:["[_nghost-%COMP%]{font-size:13px;line-height:20px;color:#282828;letter-spacing:.2px;font-weight:400;font-family:Roboto,Arial,sans-serif;padding:16px 16px 16px 0}button[_ngcontent-%COMP%]{font-size:13px;line-height:20px;color:#282828;letter-spacing:.2px;font-weight:400;font-family:Roboto,Arial,sans-serif;background:none;border:none;padding:0;cursor:pointer}markup-label[_ngcontent-%COMP%]  strong{color:#146aff;text-decoration:none;font-weight:500;cursor:pointer}markup-label[_ngcontent-%COMP%]  strong:hover{text-decoration:underline}"],changeDetection:0}),ie})();var vn=t(44822);function ze(ie,$e){if(1&ie&&(u.TgZ(0,"div")(1,"h3"),u._uU(2),u.ALo(3,"translate"),u.qZA(),u.TgZ(4,"p"),u._uU(5),u.ALo(6,"translate"),u.qZA()()),2&ie){const Z=$e.$implicit;u.xp6(2),u.hij(" ",u.lcZ(3,2,"CBL.BILLING.FAQ."+Z.question)," "),u.xp6(3),u.Oqu(u.lcZ(6,4,"CBL.BILLING.FAQ."+Z.answer))}}let ot=(()=>{class ie{constructor(){this.isTrial=!1,this.isContacts=!1,this.trialFAQ=["END_OF_TRIAL","NO_CREDIT_CARD","HOW_BILL"],this.paidFAQ=["MONTHLY_SUB","INVOICE","ONE_TIME_SUB"],this.contactsFAQ=["CONTACTS_MONTHLY_SUB","CONTACTS_INVOICE","CONTACTS_ONE_TIME_SUB"]}getFAQ(){let Z=[];return Z=this.isContacts?this.contactsFAQ:this.isTrial?this.trialFAQ:this.paidFAQ,Z.map(ge=>({question:`${ge}_Q`,answer:`${ge}_A`}))}ngOnChanges(){this.faq=this.getFAQ()}}return ie.\u0275fac=function(Z){return new(Z||ie)},ie.\u0275cmp=u.Xpm({type:ie,selectors:[["buy-faq"]],inputs:{isTrial:"isTrial",isContacts:"isContacts"},features:[u.TTD],decls:7,vars:4,consts:[[1,"buy-footer"],[1,"questions"],[4,"ngFor","ngForOf"]],template:function(Z,ge){1&Z&&(u.TgZ(0,"footer",0)(1,"div")(2,"h2"),u._uU(3),u.ALo(4,"translate"),u.qZA(),u.TgZ(5,"div",1),u.YNc(6,ze,7,6,"div",2),u.qZA()()()),2&Z&&(u.xp6(3),u.hij(" ",u.lcZ(4,2,"CBL.BILLING.FAQ.TITLE")," "),u.xp6(3),u.Q6J("ngForOf",ge.faq))},directives:[ce.sg],pipes:[Ge.X],styles:["buy-faq{position:relative}buy-faq h2{font-weight:500;font-size:20px}buy-faq>footer.buy-footer{padding:32px;background-color:#00000005}buy-faq>footer.buy-footer>div{margin:0 auto;max-width:960px}buy-faq .questions{box-sizing:border-box;display:flex!important;flex-direction:column;align-items:flex-start;justify-content:space-between;margin-top:24px;margin-bottom:32px}buy-faq .questions>div{max-width:600px}buy-faq .questions>div>h3{font-weight:700}buy-faq .questions>div:first-child{margin-left:0}@media (min-width: 960px){buy-faq .questions{box-sizing:border-box;display:flex!important;flex-direction:row}buy-faq .questions>div{width:30%}}\n"],encapsulation:2}),ie})();function Qe(ie,$e){if(1&ie&&(u.ynx(0),u._UZ(1,"maintenance-mode",8),u.BQk()),2&ie){const Z=u.oxw(2);u.xp6(1),u.Q6J("outageType",Z.MaintenanceModeType.BILLING)}}function ut(ie,$e){1&ie&&(u.ynx(0),u._UZ(1,"general-error"),u.BQk())}function Tt(ie,$e){1&ie&&(u.ynx(0),u.SDv(1,31),u.BQk())}function bt(ie,$e){1&ie&&(u.ynx(0),u.SDv(1,32),u.BQk())}function Wt(ie,$e){1&ie&&(u.ynx(0),u.SDv(1,37),u.BQk())}function sn(ie,$e){if(1&ie&&(u.ynx(0),u.SDv(1,38),u.BQk()),2&ie){const Z=u.oxw(6);u.xp6(1),u.pQV(Z.primaryProduct.product.name),u.QtT(1)}}function bn(ie,$e){if(1&ie){const Z=u.EpF();u.TgZ(0,"button",34),u.NdJ("click",function(){return u.CHM(Z),u.oxw(5).togglePlan()}),u.TgZ(1,"span",35),u.SDv(2,36),u.qZA(),u.YNc(3,Wt,2,0,"ng-container",10),u.YNc(4,sn,2,1,"ng-container",10),u.qZA()}if(2&ie){const Z=u.oxw(5);u.xp6(3),u.Q6J("ngIf",!Z.primaryProduct.planDetails.isTrial),u.xp6(1),u.Q6J("ngIf",Z.primaryProduct.planDetails.isTrial)}}function An(ie,$e){if(1&ie&&(u.ynx(0),u.YNc(1,bn,5,2,"button",33),u.BQk()),2&ie){const Z=u.oxw(4);u.xp6(1),u.Q6J("ngIf",Z.primaryProduct.isProductWithTrialPlan&&!Z.primaryProduct.product.isAddOn)}}function Xt(ie,$e){1&ie&&(u.TgZ(0,"div",39),u.SDv(1,40),u.qZA())}function Cn(ie,$e){if(1&ie&&(u.ynx(0),u.TgZ(1,"div",42),u.SDv(2,43),u.qZA(),u.TgZ(3,"div",44)(4,"span"),u.SDv(5,45),u.qZA(),u.TgZ(6,"span"),u._uU(7),u.qZA()(),u.BQk()),2&ie){const Z=u.oxw(5);u.xp6(7),u.lnq("",Z.session.user.first_name," ",Z.session.user.last_name," (",Z.session.user.email,")")}}function qt(ie,$e){if(1&ie&&u._UZ(0,"server-error",56),2&ie){const Z=u.oxw(6);u.Q6J("error",Z.registerError)}}function Sn(ie,$e){if(1&ie){const Z=u.EpF();u.TgZ(0,"form",46)(1,"div",42),u._uU(2),u.ALo(3,"translate"),u.TgZ(4,"a",47),u.NdJ("click",function(){return u.CHM(Z),u.oxw(5).handleLoginClick()}),u.SDv(5,48),u.qZA()(),u.TgZ(6,"div")(7,"mat-form-field",49),u._UZ(8,"input",50),u.ALo(9,"translate"),u.TgZ(10,"mat-error"),u._UZ(11,"form-error",51)(12,"form-error",52)(13,"server-error",53),u.qZA()(),u._UZ(14,"password-form",54),u.qZA(),u.YNc(15,qt,1,1,"server-error",55),u.qZA()}if(2&ie){const Z=u.oxw(5);u.Q6J("formGroup",Z.registerForm),u.xp6(2),u.hij(" ",u.lcZ(3,11,"CBL.BILLING.CREATE_AN_ACCOUNT")," "),u.xp6(6),u.Q6J("serverError",Z.registerError)("placeholder",u.lcZ(9,13,"CBL.COMMON.EMAIL")),u.xp6(3),u.Q6J("error",null==Z.registerForm.controls.email||null==Z.registerForm.controls.email.errors?null:Z.registerForm.controls.email.errors.required)("isTouched",null==Z.registerForm.controls.email?null:Z.registerForm.controls.email.touched),u.xp6(1),u.Q6J("error",null==Z.registerForm.controls.email||null==Z.registerForm.controls.email.errors?null:Z.registerForm.controls.email.errors.email),u.xp6(1),u.Q6J("error",Z.registerError),u.xp6(1),u.Q6J("apiError",Z.registerError)("disableConfirmation",!0),u.xp6(1),u.Q6J("ngIf",Z.displayGenericRegisterError)}}function et(ie,$e){if(1&ie&&(u.TgZ(0,"li"),u.YNc(1,Cn,8,3,"ng-container",10),u.YNc(2,Sn,16,15,"form",41),u.qZA()),2&ie){const Z=u.oxw(4);u.xp6(1),u.Q6J("ngIf",Z.session),u.xp6(1),u.Q6J("ngIf",!Z.session)}}function Ct(ie,$e){if(1&ie){const Z=u.EpF();u.TgZ(0,"default-payment",62),u.NdJ("onPaymentSource",function(Ve){return u.CHM(Z),u.oxw(5).handlePaymentSource(Ve)}),u.qZA()}}function mt(ie,$e){if(1&ie){const Z=u.EpF();u.TgZ(0,"credit-card",63),u.NdJ("onCardChange",function(Ve){return u.CHM(Z),u.oxw(5).handleCreditCardChange(Ve)}),u.qZA()}2&ie&&u.Q6J("required",!0)}function Y(ie,$e){if(1&ie){const Z=u.EpF();u.ynx(0),u.TgZ(1,"billing-address",64),u.NdJ("onBillingAddressChange",function(Ve){return u.CHM(Z),u.oxw(5).onBillingAddressChange(Ve)}),u.qZA(),u.BQk()}}const xe=function(ie){return{loading:ie}};function M(ie,$e){if(1&ie&&(u.TgZ(0,"li")(1,"div",57)(2,"span"),u.SDv(3,58),u.qZA()(),u.TgZ(4,"div",59),u.YNc(5,Ct,1,0,"default-payment",60),u.YNc(6,mt,1,1,"credit-card",61),u.qZA(),u.YNc(7,Y,2,0,"ng-container",10),u.qZA()),2&ie){const Z=u.oxw(4);u.xp6(4),u.Q6J("ngClass",u.VKq(4,xe,Z.loadingPaymentSource)),u.xp6(1),u.Q6J("ngIf",Z.loadingPaymentSource||Z.paymentSource),u.xp6(1),u.Q6J("ngIf",!Z.loadingPaymentSource&&!Z.paymentSource),u.xp6(1),u.Q6J("ngIf",!Z.primaryProduct.planDetails.isAlwaysFree&&!Z.loadingPaymentSource&&!Z.paymentSource)}}function ve(ie,$e){if(1&ie&&(u.TgZ(0,"mat-option",72),u._uU(1),u.qZA()),2&ie){const Z=$e.$implicit;u.Q6J("value",Z),u.xp6(1),u.Oqu(Z)}}function st(ie,$e){if(1&ie&&(u.TgZ(0,"li")(1,"div",65)(2,"span"),u.SDv(3,66),u.qZA()(),u.TgZ(4,"div",67)(5,"mat-form-field")(6,"mat-select",68),u.YNc(7,ve,2,2,"mat-option",69),u.qZA()(),u.TgZ(8,"div",70),u.SDv(9,71),u.ALo(10,"currency"),u.qZA()()()),2&ie){const Z=u.oxw(4);u.xp6(4),u.Q6J("formGroup",Z.registerForm),u.xp6(3),u.Q6J("ngForOf",Z.multiSeatLicenseRange),u.xp6(3),u.pQV(u.gM2(10,3,Z.primaryProduct.plan.monthlyPrice,Z.primaryProduct.plan.currency,"symbol","1.0-0")),u.QtT(9)}}function At(ie,$e){if(1&ie&&(u.TgZ(0,"li")(1,"div",42),u.SDv(2,73),u.qZA(),u._UZ(3,"buy-total",17),u.qZA()),2&ie){const Z=u.oxw(4);u.xp6(3),u.Q6J("productOption",Z.primaryProduct)("isMonthly",Z.isMonthly)}}function Se(ie,$e){if(1&ie&&(u.TgZ(0,"li")(1,"div",42)(2,"div"),u.SDv(3,74),u.qZA()(),u._UZ(4,"buy-total-trial",75),u.qZA(),u.TgZ(5,"li")(6,"div",42)(7,"div"),u.SDv(8,76),u.qZA()(),u._UZ(9,"buy-total-after-trial",75),u.qZA()),2&ie){const Z=u.oxw(4);u.xp6(4),u.Q6J("productOption",Z.primaryProduct),u.xp6(5),u.Q6J("productOption",Z.primaryProduct)}}function ht(ie,$e){if(1&ie){const Z=u.EpF();u.TgZ(0,"buy-coupon",77),u.NdJ("switchFromTrial",function(){return u.CHM(Z),u.oxw(4).switchToAnnualPlan()})("couponInputChange",function(Ve){return u.CHM(Z),u.oxw(4).onCouponInputChange(Ve)}),u.qZA()}if(2&ie){const Z=u.oxw(4);u.Q6J("couponCode",Z.couponIdFromRoute)("appliedCoupon",Z.appliedCoupon)("error",Z.couponError)("isLoading",Z.isLoadingCoupon)}}function Qt(ie,$e){if(1&ie&&u._UZ(0,"server-error",78),2&ie){const Z=u.oxw(4);u.Q6J("error",Z.buyError)("values",Z.errorInterpolationValues)}}function On(ie,$e){1&ie&&(u.TgZ(0,"div",79),u.SDv(1,80),u.qZA())}function di(ie,$e){if(1&ie){const Z=u.EpF();u.TgZ(0,"div",13)(1,"div",14)(2,"h1"),u.YNc(3,Tt,2,0,"ng-container",10),u.YNc(4,bt,2,0,"ng-container",10),u.qZA(),u.YNc(5,An,2,1,"ng-container",10),u.qZA(),u.TgZ(6,"div",15)(7,"div",16),u._UZ(8,"product-info",17),u.qZA(),u.TgZ(9,"mat-card",18),u.YNc(10,Xt,2,0,"div",19),u.TgZ(11,"form",null,20)(13,"ol",21),u.YNc(14,et,3,2,"li",10),u.YNc(15,M,8,6,"li",10),u.YNc(16,st,11,8,"li",10),u.YNc(17,At,4,2,"li",22),u.YNc(18,Se,10,2,"ng-template",null,23,u.W1O),u.qZA(),u.TgZ(20,"div",24),u.YNc(21,ht,1,4,"buy-coupon",25),u.YNc(22,Qt,1,2,"server-error",26),u.YNc(23,On,2,0,"div",27),u.TgZ(24,"div",28)(25,"multi-seat-message",29),u.NdJ("toggleClicked",function(){return u.CHM(Z),u.oxw(3).togglePlan()}),u.qZA(),u.TgZ(26,"progress-button",30),u.NdJ("onClick",function(){return u.CHM(Z),u.oxw(3).handlePurchaseProductClick()}),u.ALo(27,"translate"),u.qZA()()()()()()()}if(2&ie){const Z=u.MAs(19),ge=u.oxw(3);u.xp6(3),u.Q6J("ngIf",!ge.primaryProduct.planDetails.isTrial),u.xp6(1),u.Q6J("ngIf",ge.primaryProduct.planDetails.isTrial),u.xp6(1),u.Q6J("ngIf",!ge.isMonthly),u.xp6(3),u.Q6J("productOption",ge.primaryProduct)("isMonthly",ge.isMonthly),u.xp6(2),u.Q6J("ngIf",ge.alreadyOnTeamError),u.xp6(4),u.Q6J("ngIf",!(ge.primaryProduct.planDetails.isAlwaysFree&&ge.session)),u.xp6(1),u.Q6J("ngIf",!ge.primaryProduct.planDetails.isAlwaysFree),u.xp6(1),u.Q6J("ngIf",ge.isMultiseatProduct&&!(null!=ge.primaryProduct.planDetails&&ge.primaryProduct.planDetails.isTrial)),u.xp6(1),u.Q6J("ngIf",!ge.primaryProduct.planDetails.isTrial)("ngIfElse",Z),u.xp6(4),u.Q6J("ngIf",!ge.loadingPaymentSource),u.xp6(1),u.Q6J("ngIf",ge.buyError),u.xp6(1),u.Q6J("ngIf",ge.genericCartError),u.xp6(2),u.Q6J("isMultiseat",ge.isMultiseatProduct)("productOption",ge.primaryProduct),u.xp6(1),u.Q6J("raisedButton",!0)("hideLabelOnMobile",!1)("label",u.lcZ(27,21,"CBL.BILLING."+(ge.primaryProduct.planDetails.isTrial?"START_TRIAL":"SUBSCRIBE")))("isDisabled",ge.preventPurchase())("isLoading",ge.purchaseInProgress)}}function Ns(ie,$e){if(1&ie&&u._UZ(0,"buy-faq",81),2&ie){const Z=u.oxw(3);u.Q6J("isTrial",Z.primaryProduct.planDetails.isTrial)("isContacts",Z.primaryProduct.product.isContactsAddOn)}}function Qo(ie,$e){if(1&ie&&(u.ynx(0),u.TgZ(1,"div",9),u.YNc(2,ut,2,0,"ng-container",10),u.YNc(3,di,28,23,"div",11),u.qZA(),u.YNc(4,Ns,1,2,"buy-faq",12),u.BQk()),2&ie){const Z=u.oxw(2);u.xp6(2),u.Q6J("ngIf",!Z.primaryProduct&&Z.buyError),u.xp6(1),u.Q6J("ngIf",Z.primaryProduct),u.xp6(1),u.Q6J("ngIf",Z.primaryProduct)}}function jo(ie,$e){if(1&ie&&(u.TgZ(0,"div",2)(1,"div",3)(2,"a",4),u._UZ(3,"img",5),u.ALo(4,"translate"),u.qZA()(),u.YNc(5,Qe,2,1,"ng-container",6),u.YNc(6,Qo,5,3,"ng-container",7),u.qZA()),2&ie){const Z=u.oxw();u.xp6(3),u.Q6J("src",Z.crunchbaseLogoImageSrc,u.LSH)("alt",u.lcZ(4,4,"CBL.COMMON.CRUNCHBASE")),u.xp6(2),u.Q6J("ifFeatureFlagBoolean",Z.maintenanceModeBillingFlag),u.xp6(1),u.Q6J("ifNotFeatureFlagBoolean",Z.maintenanceModeBillingFlag)}}let mo=(()=>{class ie{constructor(Z,ge,Ve,_t,pt,Mt,Bt,on,yn,Ei,$n,jn,qn,Ii,Ln,rn,Wn,$o,uo,Ki){this.analyticsService=Z,this.billingService=ge,this.buyPageService=Ve,this.dialogService=_t,this.imageService=pt,this.metaService=Mt,this.route=Bt,this.router=on,this.toastService=yn,this.userService=Ei,this.urlService=$n,this.logService=jn,this.routingHelper=qn,this.teamCreationService=Ii,this.teamPermissionService=Ln,this.featureService=rn,this.onboardingInitiator=Wn,this.productService=$o,this.buyRedirectHelperService=uo,this.cartService=Ki,this.maintenanceModeBillingFlag=Ye.TT.MAINTENANCE_MODE_BILLING,this.MaintenanceModeType=vt.b,this.errorInterpolationValues={},this.loaded=!1,this.loadingPaymentSource=!0,this.userHasSubscriptionForProduct=!1,this.pendingCancellation=!1,this.subscriptionIsTrial=!1,this.isMonthly=!1,this.displayGenericRegisterError=!1,this.purchaseInProgress=!1,this.genericCartError=!1,this.multiSeatLicenseRange=this.productService.getSelfServeLicenseRange(),this.alreadyOnTeamError=!1,this.isOnOwnedTeam=!1,this.isValidCreditCard=!1,this.destroy=new l.xQ}ngOnInit(){this.logger=this.logService.getLogger("BuyPage"),this.registerForm=new w.cw({email:new w.NI("",[w.kI.required,w.kI.email]),password:new w.NI,seatCount:new w.NI(1)}),this.registerForm.controls.seatCount.valueChanges.pipe((0,a.x)(),(0,c.R)(this.destroy)).subscribe(Z=>{this.buyPageService.setSeatCount(Z)}),this.crunchbaseLogoImageSrc=this.imageService.getOriginalPublicImageUrl(H.Wh.logos.primary),this.setupCoupon(),(0,y.aj)([this.route.params,this.route.queryParams]).pipe((0,c.R)(this.destroy)).subscribe(([Z,ge])=>{this.registerForm.controls.seatCount.setValue(1),this.productSlug=Z.productSlug,this.planId=Z.planId,this.buyPageService.loadProduct(this.productSlug,this.planId,S.mz.FrequencyEnum[ge.plan]).then(()=>this.handleProductResult(),_t=>{_t&&!("statusCode"in _t)&&this.logger.error(`Requesting product ${this.productSlug}`,_t),this.handleErrors(_t)}).then(()=>{this.loaded=!0})}),this.listenForProductChanges()}ngOnDestroy(){this.destroy.next()}handlePurchaseProductClick(){this.purchaseInProgress=!0;const Z=this.session?(0,d.of)(this.session):(0,g.D)(this.loginOrRegister()).pipe((0,r.K)(Ve=>(this.registerError=Ve,this.displayGenericRegisterError=!(this.registerError.errors&&this.registerError.errors.find(_t=>!!_t.field)),(0,d.of)(void 0)))),ge=this.isProV2TrialProduct()?this.featureService.getStringValue(Ye.TT.TRIAL_ADD_ONS,Ye.R$.OFF).pipe((0,o.q)(1),(0,_.U)(Ve=>Ve===Ye.R$.R2)):(0,d.of)(!1);return Z.pipe((0,n.h)(J.K),(0,m.w)(Ve=>ge.pipe((0,_.U)(_t=>({session:Ve,isCartPurchase:_t})))),(0,m.w)(({session:Ve,isCartPurchase:_t})=>_t?this.handlePurchaseByCart().pipe((0,r.K)(pt=>(this.isApiError(pt)?this.handleErrors(pt):this.genericCartError=!0,(0,d.of)(void 0))),(0,_.U)(pt=>{})):(0,g.D)(this.purchaseProduct(Ve))),(0,v.x)(()=>{this.purchaseInProgress=!1})).toPromise()}onCouponInputChange(Z){this.buyPageService.setCouponCode(Z)}handleCreditCardChange(Z){this.possiblyValidCreditCard=Z,this.isValidCreditCard=Z.valid,this.buyError=void 0,this.genericCartError=!1}onBillingAddressChange(Z){this.billingAddress=Z,this.buyError=void 0,this.genericCartError=!1}handlePaymentSource(Z){this.loadingPaymentSource=!1,this.paymentSource=Z,this.paymentSource&&(this.isValidCreditCard=!0)}handleLoginClick(){this.dialogService.showDialog(Q.Dy).then(Z=>this.handleUpdatedSession(Z))}togglePlan(){this.primaryProduct.planDetails.frequency===S.mz.FrequencyEnum.trial?this.switchToAnnualPlan():this.primaryProduct.planDetails.frequency===S.mz.FrequencyEnum.yearly&&this.switchToTrialPlan()}switchToAnnualPlan(){this.buyPageService.switchToAnnualPlan()}switchToTrialPlan(){this.buyPageService.switchToTrialPlan()}preventPurchase(){return!this.primaryProduct.planDetails.isFree&&!this.isValidCreditCard||this.primaryProduct.planDetails.isTrial&&!this.isValidCreditCard||this.purchaseInProgress||!this.session&&this.registerForm.invalid||this.isLoadingCoupon||!!this.couponError||!this.paymentSource&&!this.billingAddress||this.alreadyOnTeamError}get isMultiseatProduct(){var Z;return!!(null===(Z=this.primaryProduct)||void 0===Z?void 0:Z.product.requires_workspace)}handlePurchaseByCart(){return this.cartCheckout$().pipe((0,m.w)(Z=>this.userService.refreshSession$().pipe((0,o.q)(1),(0,_.U)(ge=>Z))),(0,h.b)(Z=>{let ge=this.urlService.getBuyAddOnsRoute({productSlug:this.productSlug,planId:Z.cart.cart_items[0].plan_id,subscriptionId:Z.cart.subscription_number});this.router.navigate(ge.path,{queryParams:ge.queryParams,queryParamsHandling:"merge"})}))}setupCoupon(){this.couponIdFromRoute=this.route.snapshot.params.promoCode||this.billingService.getStoredCoupon(),this.buyPageService.setCouponCode(this.couponIdFromRoute),this.buyPageService.getCouponState$().pipe((0,c.R)(this.destroy)).subscribe(ge=>{this.couponError=ge.error,this.isLoadingCoupon=ge.isLoading,this.appliedCoupon=ge.appliedCoupon})}listenForProductChanges(){this.buyPageService.getCurrentProductOption$().pipe((0,c.R)(this.destroy)).subscribe(Z=>{this.updateProductOptions(Z)})}updateProductOptions(Z){var ge,Ve;this.primaryProduct=Z,this.isMonthly=this.primaryProduct.plan.frequency===S.mz.FrequencyEnum.monthly;const _t=null===(ge=Z.planDetails)||void 0===ge?void 0:ge.isTrial;(!this.isMultiseatProduct||_t)&&this.registerForm.controls.seatCount.setValue(1),this.featureList=_t?Z.product.trialFeatureList:Z.product.featureList,this.checkIfOnTeam();const{product:pt}=Z;this.errorInterpolationValues={productLink:this.urlService.getAbsoluteUrl(`/buy/${pt.url_slug}?plan=${null===(Ve=pt.annualPlan)||void 0===Ve?void 0:Ve.frequency}`)}}checkIfOnTeam(){(0,y.aj)([this.teamPermissionService.doesUserBelongToATeam$(),this.teamPermissionService.isUserTeamOwner$()]).pipe((0,o.q)(1)).subscribe(([Z,ge])=>{this.isOnOwnedTeam=Z&&ge,this.alreadyOnTeamError=!(!this.isMultiseatProduct||!Z||ge)})}handleProductResult(){this.userService.getSessionChangeObservable().pipe((0,c.R)(this.destroy),(0,n.h)(Z=>!this.purchaseInProgress)).subscribe(Z=>this.handleUpdatedSession(Z)),this.primaryProduct.product.free?this.routeAfterBuying():this.metaService.setTagsForPage({title:this.primaryProduct.name||""})}loginOrRegister(){var Z;const{firstName:ge,lastName:Ve}=this.userService.parseFirstAndLastName((null===(Z=this.possiblyValidCreditCard)||void 0===Z?void 0:Z.creditCard.name)||""),_t=this.registerForm.value.email,pt=this.registerForm.value.password.newPassword;return this.userService.login({email:_t,password:pt}).catch(()=>this.userService.register({email:_t,first_name:ge,last_name:Ve,password:pt}))}handleUpdatedSession(Z){this.session=Z,this.session&&(this.loadingPaymentSource=!0,this.userHasSubscriptionForProduct=!1,this.billingService.getMySubscribedProducts().then(ge=>{if(!ge)return;const Ve=ge.find(_t=>_t.product.id===this.primaryProduct.product.id);if(Ve){this.userHasSubscriptionForProduct=!0;const _t=Ve.userProduct;if(_t.subscription&&_t.user_role===S.$G.UserRoleEnum.licensor){let pt=_t.subscription;this.subscriptionId=pt.id,this.pendingCancellation=pt.state===S.ND.StateEnum.pending_cancellation,this.subscriptionIsTrial=pt.term_type===S.ND.TermTypeEnum.trial}}},()=>{}))}createTeam(Z){return(0,p.mG)(this,void 0,void 0,function*(){yield this.teamCreationService.createTeam$(`${Z.user.first_name}'s Team`).toPromise(),this.isOnOwnedTeam=!0})}getTeamForSubscription(Z){return(0,p.mG)(this,void 0,void 0,function*(){this.isMultiseatProduct&&!this.isOnOwnedTeam&&(yield this.createTeam(Z));const Ve=yield this.teamPermissionService.getUserTeam$().pipe((0,o.q)(1)).toPromise();if(Ve&&!this.primaryProduct.planDetails.isTrial)return Ve})}cartCheckout$(){var Z;let ge=(0,d.of)(void 0);if(!this.paymentSource){if(!(null===(Z=this.possiblyValidCreditCard)||void 0===Z?void 0:Z.valid))return(0,f._)(Error("Card is not valid"));ge=(0,g.D)(this.billingService.addPaymentSource(Object.assign(Object.assign({},this.possiblyValidCreditCard.creditCard),{address:this.billingAddress})))}return ge.pipe((0,m.w)(Ve=>{var _t;return this.cartService.createCartFromItemsAndCheckout$([{plan_id:this.primaryProduct.product.annualPlan.id,is_trial:!0,seat_count:1}],null===(_t=this.appliedCoupon)||void 0===_t?void 0:_t.id)}))}purchaseProduct(Z){return(0,p.mG)(this,void 0,void 0,function*(){const ge={quantity:this.registerForm.value.seatCount,planId:this.primaryProduct.plan.id,coupon:this.appliedCoupon&&this.appliedCoupon.id,metadata:this.analyticsService.getUTMParameters()},Ve=yield this.getTeamForSubscription(Z);if(Ve&&(ge.teamId=Ve.team_id),this.primaryProduct.planDetails.isAlwaysFree||this.paymentSource)return yield this.billingService.subscribe(ge).then(pt=>this.handleSuccessfulPurchase(pt),pt=>this.handleErrors(pt));const _t=this.possiblyValidCreditCard;return(null==_t?void 0:_t.valid)?yield this.billingService.addPaymentSourceAndSubscribe(Object.assign(Object.assign({},_t.creditCard),{address:this.billingAddress}),ge).then(pt=>this.handleSuccessfulPurchase(pt),pt=>this.handleErrors(pt)):Promise.reject(Error("Card is not valid"))})}handleSuccessfulPurchase(Z){const ge=this.isProV2TrialProduct(),_t=this.isMultiseatProduct&&this.primaryProduct.planDetails.frequency===S.mz.FrequencyEnum.trial?this.featureService.getBooleanValue(Ye.TT.PRO_TRIAL_MULTI_SEAT,!1):(0,d.of)(!1);this.reportPurchase(Z),(0,y.aj)([_t,this.userService.refreshSession$()]).pipe((0,o.q)(1),(0,v.x)(()=>{this.purchaseInProgress=!1})).subscribe({next:([pt,Mt])=>{if(ge){let Bt=this.urlService.getBuyR1AddOnsRoute({productSlug:this.productSlug,planId:this.primaryProduct.plan.id});this.router.navigate(Bt.path,{queryParams:Bt.queryParams,queryParamsHandling:"merge"})}else pt?this.showProTrialMultiSeatForm(Mt.user.id).then(()=>this.routeAfterBuying()):this.routeAfterBuying();this.toastService.showSimpleToast(this.productSlug===I.wo.CRUNCHBASE_PRO?"CBL.BILLING.SUBSCRIBED_PRO_WELCOME":"CBL.BILLING.SUBSCRIBED_WELCOME")},error:pt=>this.handleErrors(pt)})}handleErrors(Z){var ge;if(404===Z.statusCode)return void this.routingHelper.handleNotFound();!Array.isArray(Z.errors)&&(0,C.isObject)(Z.errors)&&(Z.errors=[Z.errors]);const Ve=null===(ge=Z.errors)||void 0===ge?void 0:ge[0];Ve instanceof I.Tk&&Ve.isCardInvalid&&(this.isValidCreditCard=!1),(0,C.forEach)(Z.errors,_t=>{_t.field=void 0}),this.buyError=Z,this.purchaseInProgress=!1}reportPurchase(Z){let Ve={transactionId:Z.id,transactionTotal:this.primaryProduct.planDetails.finalPrice*this.registerForm.value.seatCount,transactionType:this.primaryProduct.planDetails.isTrial?"trial":"purchase",transactionProducts:[{sku:this.primaryProduct.plan.id,name:this.primaryProduct.product.name,price:this.primaryProduct.plan.price,quantity:this.registerForm.value.seatCount}]};this.userService.getMe().then(_t=>{this.analyticsService.purchase(_t,Ve)},()=>{})}showProTrialMultiSeatForm(Z){return this.dialogService.showDialog(dt,{product:this.primaryProduct,userId:Z||"",disableClose:!0})}routeAfterBuying(){this.isMultiseatProduct&&this.isBuyingMultipleSeats()?this.buyRedirectHelperService.redirectPurchaser({productSlug:this.productSlug,planId:this.primaryProduct.plan.id,multiSeat:!0}):this.buyRedirectHelperService.redirectPurchaser({productSlug:this.productSlug,planId:this.primaryProduct.plan.id})}isProV2TrialProduct(){return this.primaryProduct.product.url_slug===I.wo.PRO_V2&&this.primaryProduct.planDetails.isTrial}isBuyingMultipleSeats(){return this.registerForm.value.seatCount>1}isApiError(Z){return(0,C.has)(Z,"statusCode")}}return ie.\u0275fac=function(Z){return new(Z||ie)(u.Y36(s.y),u.Y36(I.jM),u.Y36(ee),u.Y36(B.x),u.Y36(H.AJ),u.Y36(E.R),u.Y36(e.gz),u.Y36(e.F0),u.Y36(x.k),u.Y36(N.KD),u.Y36(V.iO),u.Y36(b.$V),u.Y36(i.VP),u.Y36(G.oJ),u.Y36(k.$),u.Y36(Ye.Bz),u.Y36(X.X),u.Y36(I.M5),u.Y36(Je.K),u.Y36(T.Ni))},ie.\u0275cmp=u.Xpm({type:ie,selectors:[["buy"]],features:[u._Bn([ee])],decls:2,vars:2,consts:function(){let $e,Z,ge,Ve,_t,pt,Mt,Bt,on,yn,Ei,$n,jn,qn,Ii,Ln;return $e=$localize`:␟795a57fea36fa99bbc6831a4e65d25a9478133fa␟3261309546357452824: Purchase `,Z=$localize`:␟5b682ee9e04020746e4f8e3551ea67a0261e52e7␟6886296977503218020: Free Trial `,ge=$localize`:␟93f65fcffe122c4f693b487dbf98255e0d98e97c␟3220852476952327677: or `,Ve=$localize`:␟119dc83d83526cf9048ccfc6004a0cdaa8e93f06␟9020881718197862782: try free for 7 days `,_t=$localize`:␟6c3c8cc92f6e02aee0568aeee1a76ccae410f321␟5987608403485512139: buy ${"\ufffd0\ufffd"}:INTERPOLATION: now `,pt=$localize`:␟47270dd5bd45a432e9720fb15df7c1200cc06b44␟4568068747783436927: Oops! You are already part of a team subscription. Contact your team admin to purchase additional seats. `,Mt=$localize`:␟a5d27d599f02cb7f480adb98eded0fdd75032eae␟5693296612971286474:Account Information`,Bt=$localize`:␟59f691245cadf8306d9cbefbe2034a20af23777c␟8321457629272427993:Logged in as`,on=$localize`:␟79fa0c005c0be8306a13cbe6655fdb8c1a141f7d␟563219023551699403: Have a Crunchbase account? Log in `,yn=$localize`:␟d62e8cfcb1f444a033b402e050b851a7d8a3532f␟5815412745800320040:Payment Method`,Ei=$localize`:␟3273499336ec69e649a1dce31bd7e96ce23f15e8␟692531329245077032:Number of Seats`,$n=$localize`:␟7153b3bd280c028fecf3ac1afe53a626ae8b22c3␟1555529833291232635: ${"\ufffd0\ufffd"}:INTERPOLATION:/month per seat `,jn=$localize`:␟063656d949da354bfef66722b1cd8e5d59f55491␟2204050036474712453:Total and Purchase`,qn=$localize`:␟5812bb258942dd1312e11c08c9f177fd5dd47fc7␟9211834062685422521:Today's Total`,Ii=$localize`:␟ded6d8345e71b90a10b312d86f585543d9eb9bd8␟3009056094913290378:Total After Trial`,Ln=$localize`:␟12931671936028f0238d018ae7174b3fbd7220d8␟828866989585615941: There was an issue processing the transaction. Please try again later `,[[3,"bodyFill"],["page-layout-body","",4,"ngIf"],["page-layout-body",""],[1,"logo-container"],["routerLink","/"],[1,"logo",3,"src","alt"],[4,"ifFeatureFlagBoolean"],[4,"ifNotFeatureFlagBoolean"],[3,"outageType"],[1,"buy-contents"],[4,"ngIf"],["class","product-purchase",4,"ngIf"],[3,"isTrial","isContacts",4,"ngIf"],[1,"product-purchase"],[1,"trial-purchase-header","heading"],[1,"product-purchase-container"],[1,"product-container"],[3,"productOption","isMonthly"],[1,"purchase-form-container"],["class","on-team-error",4,"ngIf"],["buyForm","ngForm"],[1,"purchase-steps"],[4,"ngIf","ngIfElse"],["totalTrial",""],[1,"promo-and-purchase-row"],[3,"couponCode","appliedCoupon","error","isLoading","switchFromTrial","couponInputChange",4,"ngIf"],[3,"error","values",4,"ngIf"],["class","generic-cart-error",4,"ngIf"],[1,"purchase-row"],[3,"isMultiseat","productOption","toggleClicked"],["color","primary",3,"raisedButton","hideLabelOnMobile","label","isDisabled","isLoading","onClick"],$e,Z,["data-cypress-tag","toggle-plan",3,"click",4,"ngIf"],["data-cypress-tag","toggle-plan",3,"click"],[1,"or"],ge,Ve,_t,[1,"on-team-error"],pt,[3,"formGroup",4,"ngIf"],[1,"step-title"],Mt,[1,"user-info"],Bt,[3,"formGroup"],[1,"login-link",3,"click"],on,["floatLabel","always",1,"email-field"],["matInput","","formControlName","email","required","","autocomplete","email","type","email","name","email",3,"serverError","placeholder"],["label","CBL.COMMON.REQUIRED",3,"error","isTouched"],["label","CBL.USER_DETAILS.EMAIL_INVALID",3,"error"],["fieldName","email",3,"error"],["formControlName","password","floatLabel","always",3,"apiError","disableConfirmation"],[3,"error",4,"ngIf"],[3,"error"],[1,"step-title","payment-header"],yn,[1,"credit-card-area",3,"ngClass"],[3,"onPaymentSource",4,"ngIf"],[3,"required","onCardChange",4,"ngIf"],[3,"onPaymentSource"],[3,"required","onCardChange"],[3,"onBillingAddressChange"],[1,"step-title","seats-header"],Ei,[1,"seat-count-selector",3,"formGroup"],["formControlName","seatCount"],[3,"value",4,"ngFor","ngForOf"],[1,"seat-count-description"],$n,[3,"value"],jn,qn,[3,"productOption"],Ii,[3,"couponCode","appliedCoupon","error","isLoading","switchFromTrial","couponInputChange"],[3,"error","values"],[1,"generic-cart-error"],Ln,[3,"isTrial","isContacts"]]},template:function(Z,ge){1&Z&&(u.TgZ(0,"page-layout",0),u.YNc(1,jo,7,6,"div",1),u.qZA()),2&Z&&(u.Q6J("bodyFill",!0),u.xp6(1),u.Q6J("ngIf",ge.loaded))},directives:[Ke.w,ce.O5,Ne.n,e.yS,ke.l,vt.S,He.r,gt,nt.a8,w._Y,w.JL,w.F,w.sg,Ie.KE,Te.Nt,w.Fj,w.JJ,w.u,w.Q7,Ht._,Ie.TO,nn.A,mn.k,Xn.G,ce.mk,Rn.J,Yn.G,Gn.D,Re.gD,ce.sg,fe.ey,pi,hn,Zt,li,hi,vn.l,ot],pipes:[Ge.X,ce.H9],styles:['page-layout[_ngcontent-%COMP%]{position:relative}ol.purchase-steps[_ngcontent-%COMP%]{margin:0;list-style:none;list-style-position:outside;counter-reset:item}ol.purchase-steps[_ngcontent-%COMP%]   .step-title[_ngcontent-%COMP%]{font-weight:500;font-size:16px;margin-bottom:4px;line-height:1.75em}ol.purchase-steps[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(:only-child){counter-increment:item;padding-left:calc(1.75em + 16px);position:relative}ol.purchase-steps[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(:only-child):before{font-weight:500;line-height:1.75em;content:counter(item);background:#146aff;border-radius:100%;color:#fff;width:1.75em;height:1.75em;text-align:center;position:absolute;display:block;left:0}ol.purchase-steps[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(:only-child):not(:last-child){margin-bottom:16px}ol.purchase-steps[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(:only-child):not(:last-child):after{content:"";position:absolute;display:block;width:1px;background:rgba(0,0,0,.12);top:calc(1.75em + 16px);left:.875em;bottom:0}.logo-container[_ngcontent-%COMP%]{box-sizing:border-box;height:55px;padding:20px 0 0 20px}.logo-container[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{height:18px;width:auto}.buy-contents[_ngcontent-%COMP%]{display:flex!important;flex-direction:row;justify-content:center;box-sizing:border-box;align-items:center;align-content:center;max-width:100%;padding-left:24px;padding-right:24px;padding-bottom:24px;min-height:calc(100vh - 55px)}.buy-contents[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{max-width:100%;box-sizing:border-box}.product-container[_ngcontent-%COMP%]{flex:0 0 auto;box-sizing:border-box}.product-purchase[_ngcontent-%COMP%]{max-width:1100px!important}.purchase-form-container[_ngcontent-%COMP%]{flex:1 1 auto;box-sizing:border-box;padding:20px}.trial-purchase-header[_ngcontent-%COMP%]{box-sizing:border-box;display:flex!important;flex-direction:row;justify-content:flex-start;align-items:flex-end;align-content:flex-end;margin-bottom:16px}.trial-purchase-header[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%]{color:#0000008a;font-size:24px;font-weight:300}.trial-purchase-header[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{font:inherit;font-weight:500;background:none!important;border-bottom:1px solid transparent;color:#146aff;border:none;padding:0!important;cursor:pointer;outline:none;text-align:left;flex:0 1 auto;box-sizing:border-box;margin-left:16px;margin-bottom:2px}.trial-purchase-header[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:hover{border-color:#146aff;cursor:pointer}.or[_ngcontent-%COMP%]{color:#0000008a;font-weight:400}.credit-card-area[_ngcontent-%COMP%]{min-height:64px}.credit-card-area.loading[_ngcontent-%COMP%]{min-height:113px}.spacer[_ngcontent-%COMP%]{display:none}mat-form-field[_ngcontent-%COMP%]{flex:1 1 100%;max-width:100%;box-sizing:border-box}.email-field[_ngcontent-%COMP%]{width:100%}.two-column[_ngcontent-%COMP%], .three-column[_ngcontent-%COMP%]{flex-wrap:wrap}.promo-and-purchase-row[_ngcontent-%COMP%]{margin-left:calc(1.75em + 16px)}.promo-and-purchase-row[_ngcontent-%COMP%]   server-error[_ngcontent-%COMP%]{display:block;padding-top:16px}.purchase-row[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:stretch;justify-content:flex-start}@media (min-width: 960px){.purchase-row[_ngcontent-%COMP%]{flex-direction:row;align-items:center;justify-content:space-between}}buy-coupon[_ngcontent-%COMP%]{display:block}[_nghost-%COMP%]     progress-button button{margin-left:calc(-1.75em - 16px);width:calc(100% + 1.75em + 16px)!important}@media (min-width: 960px){.spacer[_ngcontent-%COMP%]{display:block;width:16px;flex:0 0 auto;box-sizing:border-box}mat-form-field[_ngcontent-%COMP%]{flex:1 1 100%;box-sizing:border-box}.two-column[_ngcontent-%COMP%], .three-column[_ngcontent-%COMP%]{flex-wrap:nowrap}.product-container[_ngcontent-%COMP%]{min-width:300px;padding-right:20px!important}[_nghost-%COMP%]     progress-button button{margin-left:0;width:auto!important;min-width:200px!important}}.product-purchase-container[_ngcontent-%COMP%]{box-sizing:border-box;display:flex!important;flex-direction:column}@media (min-width: 960px){.product-purchase-container[_ngcontent-%COMP%]{box-sizing:border-box;display:flex!important;flex-direction:row}}.on-team-error[_ngcontent-%COMP%]{font-size:16px;line-height:24px;color:#282828;letter-spacing:.3px;font-weight:400;font-family:Roboto,Arial,sans-serif;color:#c73636;margin-bottom:16px}@media (min-width: 960px){.seat-count-selector[_ngcontent-%COMP%]{display:flex;align-items:center}}.seat-count-selector[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%;flex:inherit}@media (min-width: 960px){.seat-count-selector[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:auto}}.seat-count-description[_ngcontent-%COMP%]{font-size:13px;line-height:20px;color:#666;letter-spacing:.2px;font-weight:400;font-family:Roboto,Arial,sans-serif}@media (min-width: 960px){.seat-count-description[_ngcontent-%COMP%]{margin-left:16px}}.user-info[_ngcontent-%COMP%]{box-sizing:border-box;display:flex!important;flex-direction:column}.user-info[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-weight:500}.user-info[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:first-child{padding-bottom:8px}.payment-header[_ngcontent-%COMP%]{margin-bottom:16px!important}.payment-header[_ngcontent-%COMP%]   .seats-header[_ngcontent-%COMP%]{justify-content:flex-start;align-items:center;align-content:center;max-width:100%;font-weight:500;font-size:16px}.payment-header[_ngcontent-%COMP%]   .seats-header[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{max-width:100%;box-sizing:border-box}.login-link[_ngcontent-%COMP%]{font-size:12px;color:#146aff;text-decoration:none;font-weight:500;cursor:pointer}.login-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.generic-cart-error[_ngcontent-%COMP%]{color:#c73636}']}),ie})();var qo=t(85853),Ti=t(94882),Qi=t(38860),xi=t(47367);const bi=function(ie){return{productName:ie}};function ho(ie,$e){if(1&ie&&(u.TgZ(0,"span"),u._uU(1),u.ALo(2,"translate"),u.qZA()),2&ie){const Z=u.oxw(3);u.xp6(1),u.Oqu(u.xi3(2,1,"CBL.BILLING.WELCOME_TO_APP",u.VKq(4,bi,Z.displayName)))}}function Eo(ie,$e){if(1&ie&&(u.TgZ(0,"span"),u._uU(1),u.ALo(2,"translate"),u.qZA()),2&ie){const Z=u.oxw(3);u.xp6(1),u.Oqu(u.xi3(2,1,"CBL.BILLING.WELCOME_ADD_ON",u.VKq(4,bi,Z.productName)))}}function fo(ie,$e){if(1&ie&&(u.ynx(0),u.YNc(1,ho,3,6,"span",7),u.YNc(2,Eo,3,6,"span",7),u.BQk()),2&ie){const Z=u.oxw(2);u.xp6(1),u.Q6J("ngIf",!Z.isAddOn),u.xp6(1),u.Q6J("ngIf",Z.isAddOn)}}const vo=function(ie,$e){return{productName:ie,licenseCount:$e}};function Co(ie,$e){if(1&ie&&(u.TgZ(0,"span"),u._uU(1),u.ALo(2,"translate"),u.qZA()),2&ie){const Z=u.oxw(2);u.xp6(1),u.hij(" ",u.xi3(2,1,"CBL.BILLING.SUBSCRIBE_APP_LICENSES_SUCCESS",u.WLB(4,vo,Z.displayName,Z.licenseCount))," ")}}function yo(ie,$e){if(1&ie&&(u.TgZ(0,"a",22),u._uU(1),u.qZA()),2&ie){const Z=u.oxw().$implicit;u.Q6J("routerLink",Z.link),u.xp6(1),u.hij(" ",Z.content," ")}}function So(ie,$e){if(1&ie&&(u.ynx(0),u._uU(1),u.BQk()),2&ie){const Z=u.oxw().$implicit;u.xp6(1),u.hij(" ",Z.content," ")}}function ji(ie,$e){if(1&ie&&(u.TgZ(0,"div")(1,"div",19)(2,"label-with-icon",20),u.YNc(3,yo,2,2,"a",21),u.YNc(4,So,2,1,"ng-container",7),u.qZA()()()),2&ie){const Z=$e.$implicit;u.xp6(3),u.Q6J("ngIf",Z.link),u.xp6(1),u.Q6J("ngIf",!Z.link)}}function qi(ie,$e){if(1&ie&&(u.TgZ(0,"a",23)(1,"span"),u._uU(2),u.ALo(3,"uppercase"),u.ALo(4,"translate"),u.qZA()()),2&ie){const Z=u.oxw(2);u.Q6J("routerLink",Z.getGetStartedLink()),u.xp6(2),u.Oqu(u.lcZ(3,2,u.lcZ(4,4,"CBL.BILLING.GET_STARTED")))}}function Xi(ie,$e){if(1&ie&&(u.TgZ(0,"a",24),u._uU(1),u.ALo(2,"translate"),u._UZ(3,"icon",17),u.qZA()),2&ie){const Z=u.oxw(2);u.Q6J("href",Z.supportLink,u.LSH),u.xp6(1),u.hij(" ",u.xi3(2,2,"CBL.BILLING.SUCCESS_HELPFUL_RESOURCES.GETTING_STARTED_GUIDE",u.VKq(5,bi,Z.isContacts?Z.productName:Z.displayName))," ")}}function Io(ie,$e){if(1&ie&&(u.TgZ(0,"div",3)(1,"mat-card")(2,"div",4),u._UZ(3,"cb-image",5),u.TgZ(4,"div")(5,"h2",6),u.YNc(6,fo,3,2,"ng-container",7),u.YNc(7,Co,3,7,"span",7),u.qZA(),u.TgZ(8,"h2",8),u.SDv(9,9),u.qZA(),u.TgZ(10,"div",10),u.YNc(11,ji,5,2,"div",11),u.qZA(),u.YNc(12,qi,5,6,"a",12),u.qZA()(),u.TgZ(13,"div",13)(14,"h2"),u.SDv(15,14),u.qZA(),u.TgZ(16,"div"),u.YNc(17,Xi,4,7,"a",15),u.qZA(),u.TgZ(18,"div")(19,"a",16),u._uU(20),u.ALo(21,"translate"),u._UZ(22,"icon",17),u.qZA()(),u.TgZ(23,"div")(24,"a",18),u._uU(25),u.ALo(26,"translate"),u._UZ(27,"icon",17),u.qZA()()()()()),2&ie){const Z=u.oxw();u.xp6(3),u.Q6J("resource",Z.marketplaceUpsellImage)("alt",""),u.xp6(3),u.Q6J("ngIf",1===Z.licenseCount),u.xp6(1),u.Q6J("ngIf",Z.licenseCount>1),u.xp6(4),u.Q6J("ngForOf",Z.featuresList),u.xp6(1),u.Q6J("ngIf",Z.homeLink),u.xp6(5),u.Q6J("ngIf",Z.supportLink),u.xp6(3),u.hij(" ",u.lcZ(21,10,"CBL.BILLING.SUCCESS_HELPFUL_RESOURCES.MANAGE_LICENSES")," "),u.xp6(4),u.Q6J("href",Z.marketplaceLink,u.LSH),u.xp6(1),u.hij(" ",u.lcZ(26,12,"CBL.BILLING.SUCCESS_HELPFUL_RESOURCES.MARKETPLACE")," ")}}const To=[{content:"CBL.BILLING.TOUR_ESSENTIALS.BASE.UNLIMITED_SEARCHES_FILTERS"},{content:"CBL.BILLING.TOUR_ESSENTIALS.BASE.TEN_CONTACTS_TRIAL"},{content:"CBL.BILLING.TOUR_ESSENTIALS.BASE.SAVE_LISTS"},{content:"CBL.BILLING.TOUR_ESSENTIALS.BASE.SET_ALERTS"},{content:"CBL.BILLING.TOUR_ESSENTIALS.BASE.SALESFORCE_ACCOUNTS"},{content:"CBL.BILLING.TOUR_ESSENTIALS.BASE.TAGS_AND_NOTES"},{content:"CBL.BILLING.TOUR_ESSENTIALS.BASE.EMAIL_TEMPLATES"},{content:"CBL.BILLING.TOUR_ESSENTIALS.BASE.SEATS"}],Gt=[{content:"CBL.BILLING.TOUR_ESSENTIALS.BASE.UNLIMITED_SEARCHES_FILTERS"},{content:"CBL.BILLING.TOUR_ESSENTIALS.BASE.TEN_CONTACTS"},{content:"CBL.BILLING.TOUR_ESSENTIALS.BASE.SAVE_LISTS"},{content:"CBL.BILLING.TOUR_ESSENTIALS.BASE.SET_ALERTS"},{content:"CBL.BILLING.TOUR_ESSENTIALS.BASE.SALESFORCE_ACCOUNTS"},{content:"CBL.BILLING.TOUR_ESSENTIALS.BASE.TAGS_AND_NOTES"},{content:"CBL.BILLING.TOUR_ESSENTIALS.BASE.EMAIL_TEMPLATES"},{content:"CBL.BILLING.TOUR_ESSENTIALS.BASE.SEATS"}],Li=[{content:"CBL.BILLING.TOUR_ESSENTIALS.BASE.BUILD_SEARCH"},{content:"CBL.BILLING.TOUR_ESSENTIALS.BASE.SAVE_LISTS"},{content:"CBL.BILLING.TOUR_ESSENTIALS.BASE.SET_ALERTS"}],wi=[{content:"CBL.BILLING.TOUR_ESSENTIALS.CONTACTS.ASSIGN_PACKAGES",link:"/account/team/members"},{content:"CBL.BILLING.TOUR_ESSENTIALS.CONTACTS.UNLOCK_CONTACTS"},{content:"CBL.BILLING.TOUR_ESSENTIALS.CONTACTS.FILTER_CONTACTS"},{content:"CBL.BILLING.TOUR_ESSENTIALS.CONTACTS.PUSH_CONTACTS"}];let Ri=(()=>{class ie{constructor(Z,ge,Ve,_t,pt,Mt,Bt,on){this.activatedRoute=Z,this.billingService=ge,this.productService=Ve,this.progressService=_t,this.router=pt,this.urlService=Mt,this.labelService=Bt,this.metaService=on,this.loaded=!1,this.userHasSubscriptionForProduct=!1,this.homeLink="/",this.discoverContactsLink="/discover/contacts",this.teamMembersLink="/account/team/members",this.isFreeApp=!1,this.marketplaceUpsellImage=H.Wh.marketplace.isolatedUpsell,this.featuresList=[],this.pageTitle="-"}ngOnInit(){let{params:Z,queryParams:ge}=this.activatedRoute.snapshot;this.isBundle=Z.productSlug===I.wo.CRUNCHBASE_BUNDLE||Z.productSlug===I.wo.PRO_V2_BUNDLE,this.isPro=Z.productSlug===I.wo.CRUNCHBASE_PRO,this.isProV2=Z.productSlug===I.wo.PRO_V2,this.isContacts=Z.productSlug===I.wo.CONTACTS,this.loadProduct(Z.productSlug),this.licenseCount=parseInt(ge.licenses,10)||1,this.planId=ge.planId,this.isMultiSeat=ge.multiSeat,this.setMarketplaceLink()}getGetStartedLink(){return this.isContacts?this.discoverContactsLink:this.isMultiSeat&&this.isProV2?this.teamMembersLink:this.homeLink}setMarketplaceLink(){this.marketplaceLink=this.urlService.getMarketplaceUrl()}loadProduct(Z){this.progressService.startProgress(ie.PROGRESS_KEY),this.productService.getProduct(Z).then(ge=>{this.billingService.getActiveProductSubscriptions$("me").toPromise().then(Ve=>this.handleProduct(ge,Ve),Ve=>this.handleError(Ve))},ge=>this.handleError(ge)).then(()=>{this.progressService.stopProgress(ie.PROGRESS_KEY)})}addBundleFeatures(){this.featuresList.push({content:this.labelService.getInterpolatedLabel("CBL.BILLING.TOUR_ESSENTIALS.BUNDLE.ANALYZE_DATA",{productName:this.displayName})}),this.featuresList.push({content:$localize`Apply new search filters to uncover the companies you should know`}),this.featuresList.push({content:this.labelService.getInterpolatedLabel("CBL.BILLING.TOUR_ESSENTIALS.BUNDLE.COMPARE_METRICS",{productName:this.displayName})})}addFeature(Z){this.featuresList.push(Z.link?{content:this.labelService.getLabel(Z.content),link:Z.link}:{content:this.labelService.getLabel(Z.content)})}addFeatures(Z){Z.forEach(ge=>{this.addFeature(ge)})}setFeaturesList(){this.isBundle?this.addBundleFeatures():this.addFeatures(this.isContacts?wi:this.isTrial&&this.isProV2?To:this.isProV2?Gt:Li)}handleProduct(Z,ge){var Ve;let _t=Z,pt=ge.find(Bt=>{var on;return(null===(on=Bt.subscription)||void 0===on?void 0:on.plan_id)===this.planId})||ge[0],Mt=_t.productPlans.find(Bt=>{var on;return Bt.id===(null===(on=null==pt?void 0:pt.subscription)||void 0===on?void 0:on.plan_id)});pt?(this.loaded=!0,this.supportLink=_t.support_link,this.displayName=this.productService.getDisplayName(_t,null==Mt?void 0:Mt.id),this.productName=_t.name,this.isFreeApp=_t.free,this.isAddOn=_t.isAddOn,this.isTrial="trial"===(null===(Ve=pt.subscription)||void 0===Ve?void 0:Ve.term_type),this.setFeaturesList(),this.userHasSubscriptionForProduct=!!this.isFreeApp||ge.some(Bt=>Bt.product_id===_t.id),this.userHasSubscriptionForProduct||this.router.navigate(["/"]),this.userHasSubscriptionForProduct&&this.displayName&&this.setTitle()):this.router.navigate(["/"])}setTitle(){this.pageTitle=this.labelService.getInterpolatedLabel(this.isFreeApp?"CBL.BILLING.FREE_APP_ENABLED":"CBL.BILLING.SUCCESSFUL_BUY",{productName:this.displayName}),this.metaService.setPageTitle(this.pageTitle,!1)}handleError(Z){this.router.navigate(["/account/billing"])}}return ie.PROGRESS_KEY="BUY-SUCCESS",ie.\u0275fac=function(Z){return new(Z||ie)(u.Y36(e.gz),u.Y36(I.jM),u.Y36(I.M5),u.Y36(qo.N),u.Y36(e.F0),u.Y36(V.iO),u.Y36(Ti.Q),u.Y36(E.R))},ie.\u0275cmp=u.Xpm({type:ie,selectors:[["buy-success"]],decls:6,vars:2,consts:function(){let $e,Z;return $e=$localize`:␟bbe4e463319a479cd5ad40c8efbe0f3e4f66afe1␟145820197187755621: Take a quick tour to learn the essentials: `,Z=$localize`:␟a92e9f1904577b7295e69735f48b98f4d9c5fba4␟6047613556400819144:Helpful resources`,[["page-layout-header","","themeId","person"],["page-layout-body","",1,"product-container"],["class","pageContent",4,"ngIf"],[1,"pageContent"],[1,"product-features"],[3,"resource","alt"],[1,"welcome-header"],[4,"ngIf"],[1,"take-a-tour-header"],$e,[1,"features-container"],[4,"ngFor","ngForOf"],["mat-raised-button","","color","primary","class","get-started-button",3,"routerLink",4,"ngIf"],[1,"helpful-resources-container"],Z,["class","helpful-resource-link","target","_blank","rel","noopener noreferrer","cb-link","primary",3,"href",4,"ngIf"],["routerLink","/account/billing","cb-link","primary",1,"helpful-resource-link"],["key","icon_caret_right","color","inherit"],["target","_blank","rel","noopener","cb-link","primary",1,"helpful-resource-link",3,"href"],[1,"feature"],["iconKey","icon_check","iconColor","success"],["class","feature-link","cb-link","primary","target","_blank","rel","noopener noreferrer",3,"routerLink",4,"ngIf"],["cb-link","primary","target","_blank","rel","noopener noreferrer",1,"feature-link",3,"routerLink"],["mat-raised-button","","color","primary",1,"get-started-button",3,"routerLink"],["target","_blank","rel","noopener noreferrer","cb-link","primary",1,"helpful-resource-link",3,"href"]]},template:function(Z,ge){1&Z&&(u.TgZ(0,"page-layout")(1,"page-header",0)(2,"h1"),u._uU(3),u.qZA()(),u.TgZ(4,"div",1),u.YNc(5,Io,28,14,"div",2),u.qZA()()),2&Z&&(u.xp6(3),u.Oqu(ge.pageTitle),u.xp6(2),u.Q6J("ngIf",ge.loaded&&ge.userHasSubscriptionForProduct))},directives:[Ke.w,Qi.q,ce.O5,nt.a8,Et.q,ce.sg,Jn.d,xi.I,e.yS,Ne.n,ye.zs,rt.o],pipes:[Ge.X,ce.gd],styles:["buy-success mat-card{padding:0}buy-success cb-image{flex:0 0 auto;box-sizing:border-box;margin-left:32px;margin-right:32px}@media (min-width: 960px){buy-success .product-features{box-sizing:border-box;display:flex!important;flex-direction:row}}buy-success img{height:250px}buy-success .pageContent{box-sizing:border-box;display:flex!important;flex-direction:column;margin:0 auto;max-width:950px;width:100%}buy-success .welcome-header{font-size:24px;font-weight:300;margin-bottom:20px}buy-success .take-a-tour-header{font-size:16px;margin-bottom:16px}buy-success .features-container{margin-top:20px;margin-bottom:20px}buy-success .product-container{display:flex!important;flex-direction:row;justify-content:center;max-width:100%;box-sizing:border-box;align-items:flex-start;align-content:flex-start;padding:20px}buy-success .product-features{justify-content:flex-start;align-items:flex-start;align-content:flex-start;padding:32px}buy-success .feature{box-sizing:border-box;display:flex!important;flex-direction:row;justify-content:flex-start;align-items:center;align-content:center;max-width:100%;margin-bottom:8px}buy-success .feature>*{max-width:100%;box-sizing:border-box}buy-success .feature>icon{margin-right:4px}buy-success .feature-link{font-weight:500;text-decoration:none;cursor:pointer}buy-success .feature-link:hover{text-decoration:underline}buy-success .get-started-button{margin-top:16px}buy-success .helpful-resources-container{border-top-style:solid;border-top-width:1px;border-color:#0000001f;margin-top:16px;padding:20px 32px}buy-success .helpful-resources-container>h2{font-weight:500;font-size:16px;margin-bottom:16px}buy-success .helpful-resources-container>div{margin-bottom:8px}buy-success .helpful-resource-link{box-sizing:border-box;display:flex!important;flex-direction:row;font-size:16px}buy-success .helpful-resource-link>icon{margin-left:4px}\n"],encapsulation:2}),ie})();var Ao=t(1638),eo=t(50318),to=t(72947),Oo=t(82973);function Xo(ie,$e){if(1&ie&&u._UZ(0,"maintenance-mode",3),2&ie){const Z=u.oxw();u.Q6J("outageType",Z.MaintenanceModeType.BILLING)}}function es(ie,$e){if(1&ie){const Z=u.EpF();u.ynx(0),u.TgZ(1,"marketing-iframe",6),u.NdJ("onError",function(){return u.CHM(Z),u.oxw(2).iframeError()}),u.qZA(),u.BQk()}if(2&ie){const Z=$e.ngIf;u.xp6(1),u.Q6J("url",Z)}}function Jt(ie,$e){if(1&ie&&u._UZ(0,"iframe",8),2&ie){const Z=u.oxw(3);u.Q6J("src",Z.selectProductUrl,u.uOi)}}function Po(ie,$e){1&ie&&u.YNc(0,Jt,1,1,"iframe",7)}function Bi(ie,$e){if(1&ie&&(u.ynx(0),u.YNc(1,es,2,1,"ng-container",4),u.ALo(2,"async"),u.YNc(3,Po,1,0,"ng-template",null,5,u.W1O),u.BQk()),2&ie){const Z=u.MAs(4),ge=u.oxw();u.xp6(1),u.Q6J("ngIf",u.lcZ(2,2,ge.marketingSelectProductUrl$))("ngIfElse",Z)}}let Hi=(()=>{class ie{constructor(Z,ge){this.domSanitizer=Z,this.featureService=ge,this.maintenanceModeBillingFlag=Ye.TT.MAINTENANCE_MODE_BILLING,this.MaintenanceModeType=vt.b,this.selectProductUrl=this.domSanitizer.bypassSecurityTrustResourceUrl("https://about.crunchbase.com/buy/select-product-v2/"),this.marketingSelectProductUrl$=this.featureService.getTreatmentWithConfig(Ye.TT.MARKETING_SELECT_PRODUCT,Ao.yp).pipe((0,o.q)(1),(0,_.U)(Ve=>{const{treatment:_t,config:pt}=Ve;if(this.featureService.isEnabledValue(_t)&&this.featureService.isUrlConfiguration(pt))return pt.url}))}iframeError(){this.marketingSelectProductUrl$=(0,d.of)(void 0)}}return ie.\u0275fac=function(Z){return new(Z||ie)(u.Y36(eo.H7),u.Y36(Ye.Bz))},ie.\u0275cmp=u.Xpm({type:ie,selectors:[["ng-component"]],decls:4,vars:2,consts:function(){let $e,Z;return $e=$localize`:␟afe7880ff150c4cfbd1a346fa041ba9a8d257cfd␟4882182457620677526:Select and Buy Product`,Z=$localize`:␟afe7880ff150c4cfbd1a346fa041ba9a8d257cfd␟4882182457620677526:Select and Buy Product`,[["page-layout-body",""],[3,"outageType",4,"ifFeatureFlagBoolean"],[4,"ifNotFeatureFlagBoolean"],[3,"outageType"],[4,"ngIf","ngIfElse"],["defaultSelectProduct",""],["title",$e,3,"url","onError"],["sandbox","allow-top-navigation allow-same-origin allow-scripts allow-forms","frameborder","0","title",Z,3,"src",4,"ifPlatformBrowser"],["sandbox","allow-top-navigation allow-same-origin allow-scripts allow-forms","frameborder","0","title",Z,3,"src"]]},template:function(Z,ge){1&Z&&(u.TgZ(0,"page-layout")(1,"div",0),u.YNc(2,Xo,1,1,"maintenance-mode",1),u.YNc(3,Bi,5,4,"ng-container",2),u.qZA()()),2&Z&&(u.xp6(2),u.Q6J("ifFeatureFlagBoolean",ge.maintenanceModeBillingFlag),u.xp6(1),u.Q6J("ifNotFeatureFlagBoolean",ge.maintenanceModeBillingFlag))},directives:[Ke.w,ke.l,vt.S,ce.O5,to.Z,Oo.W],pipes:[ce.Ov],styles:["iframe[_ngcontent-%COMP%]{display:block;width:100%;height:100vh}"],changeDetection:0}),ie})();var oi=t(50167),zn=t(42303),Pn=t(85235),Gi=t(35585),Zi=t(61756);let zi=(()=>{class ie{constructor(Z,ge,Ve,_t,pt,Mt){this.store=Z,this.urlService=ge,this.labelService=Ve,this.billingService=_t,this.datePipe=pt,this.localizedListPipe=Mt}getPurchaseTermLabelValues$(){return this.store.select(zn.Zi).pipe((0,n.h)(J.K),(0,_.U)(({cartUiItems:Z,annualInvoiceItems:ge,finalCharge:Ve})=>{const{price:_t,label:pt}=this.getMonthlyProductListRenewalDetails(Z),{price:Mt,label:Bt}=this.getAnnualProductListRenewalDetails(ge);return Object.assign({termsUrl:this.urlService.getTermsOfServiceUrl(),cancellationPolicyUrl:this.urlService.getCancellationPolicyUrl(),privacyPolicyUrl:this.urlService.getPrivacyPolicyUrl(),annualPrice:Mt,annualProducts:Bt,monthlyPrice:_t,monthlyProducts:pt},Ve&&{billingStartDate:`${this.datePipe.transform(Ve.target_date,"mediumDate")}`})}))}getAnnualProductListRenewalDetails(Z){let ge=Z.reduce((Ve,_t)=>Ve+_t.amount,0);return{price:this.billingService.formatAsPrice(ge,2),label:this.localizedListPipe.transform(Z.map(Ve=>null==Ve?void 0:Ve.charge_name).filter(J.K))}}getMonthlyProductListRenewalDetails(Z){let ge=Z.reduce((Ve,_t)=>Ve+_t.price,0);return{label:this.localizedListPipe.transform(Z.map(Ve=>Ve.name).filter(J.K)),price:this.billingService.formatAsPrice(ge,2)}}}return ie.\u0275fac=function(Z){return new(Z||ie)(u.LFG(Gi.yh),u.LFG(V.iO),u.LFG(Ti.Q),u.LFG(I.jM),u.LFG(ce.uU),u.LFG(Zi.t))},ie.\u0275prov=u.Yz7({token:ie,factory:ie.\u0275fac,providedIn:"root"}),ie})();var Ci=t(47749);function no(ie,$e){if(1&ie&&(u.tHW(0,1,1),u._UZ(1,"span"),u.N_p()),2&ie){const Z=u.oxw();u.xp6(1),u.pQV(Z.baseProductName),u.QtT(0)}}function bo(ie,$e){1&ie&&(u.TgZ(0,"span",22),u.SDv(1,23),u.qZA())}function ts(ie,$e){1&ie&&(u.TgZ(0,"span",22),u.SDv(1,24),u.qZA())}function ns(ie,$e){if(1&ie){const Z=u.EpF();u.TgZ(0,"div",15)(1,"div",16)(2,"span",17),u._uU(3),u.qZA(),u.TgZ(4,"span",18),u._uU(5),u.ALo(6,"currency"),u.YNc(7,bo,2,0,"span",19),u.YNc(8,ts,2,0,"span",19),u.qZA()(),u.TgZ(9,"button",20),u.NdJ("click",function(){u.CHM(Z);const Ve=u.oxw().$implicit;return u.oxw(2).handleRemoveAddon(Ve.id)}),u.ALo(10,"translate"),u._UZ(11,"icon",21),u.qZA()()}if(2&ie){const Z=u.oxw().$implicit,ge=u.oxw(2);u.xp6(3),u.Oqu(Z.name),u.xp6(2),u.hij("",u.gM2(6,6,Z.price,Z.currency,"symbol","1.2-2")," / "),u.xp6(2),u.Q6J("ngIf","monthly"===Z.frequency),u.xp6(1),u.Q6J("ngIf","yearly"===Z.frequency),u.xp6(1),u.Q6J("disabled",ge.cartUpdating),u.uIk("aria-label",u.lcZ(10,11,"CBL.COMMON.REMOVE"))}}function is(ie,$e){if(1&ie&&(u.ynx(0),u.YNc(1,ns,12,13,"div",14),u.BQk()),2&ie){const Z=$e.$implicit;u.xp6(1),u.Q6J("ngIf",Z)}}function Lo(ie,$e){1&ie&&(u.TgZ(0,"div"),u._UZ(1,"mat-spinner",25),u.qZA()),2&ie&&(u.xp6(1),u.Q6J("diameter",32))}function os(ie,$e){if(1&ie&&(u.TgZ(0,"div")(1,"div",26)(2,"span",27),u.SDv(3,28),u.ALo(4,"date"),u.qZA(),u.TgZ(5,"span",29),u._uU(6),u.ALo(7,"currency"),u.qZA()()()),2&ie){const Z=$e.$implicit;u.xp6(4),u.pQV(u.xi3(4,2,Z.target_date,"longDate")),u.QtT(3),u.xp6(2),u.Oqu(u.gM2(7,5,Z.total,"USD","symbol","1.2-2"))}}function Mo(ie,$e){if(1&ie&&(u.ynx(0),u.TgZ(1,"div",10),u.SDv(2,11),u.qZA(),u.TgZ(3,"div",12),u.YNc(4,is,2,1,"ng-container",13),u.YNc(5,Lo,2,1,"div",2),u.qZA(),u.YNc(6,os,8,10,"div",13),u.BQk()),2&ie){const Z=u.oxw();u.xp6(4),u.Q6J("ngForOf",Z.cartItems),u.xp6(1),u.Q6J("ngIf",Z.cartUpdating),u.xp6(1),u.Q6J("ngForOf",null==Z.cartSummary?null:Z.cartSummary.charges)}}function ss(ie,$e){if(1&ie&&(u.TgZ(0,"div",30)(1,"div",31),u._UZ(2,"img",32),u.ALo(3,"imageAsset"),u.qZA(),u.TgZ(4,"div",33),u.SDv(5,34),u.qZA(),u.TgZ(6,"div",35),u.SDv(7,36),u.qZA()()),2&ie){const Z=u.oxw();u.xp6(2),u.s9C("src",u.lcZ(3,1,Z.emptyCartAsset),u.LSH)}}function as(ie,$e){if(1&ie&&u._UZ(0,"markup-label",39),2&ie){const Z=u.oxw(2);u.Q6J("key","CBL.BILLING.TRIAL_ADD_ONS.SHOPPING_CART.TRIAL_TERMS")("values",Z.cartPurchaseTermLabelValues)}}function rs(ie,$e){if(1&ie&&(u.TgZ(0,"div",37),u.YNc(1,as,1,2,"markup-label",38),u.qZA()),2&ie){const Z=u.oxw();u.xp6(1),u.Q6J("ngIf",Z.cartPurchaseTermLabelValues.monthlyProducts)}}let cs=(()=>{class ie{constructor(){this.removeAddon=new u.vpe,this.clickSkip=new u.vpe,this.emptyCartAsset=H.Wh.buy.empty_cart}handleClickSkip(){this.clickSkip.emit()}handleRemoveAddon(Z){this.removeAddon.emit(Z)}}return ie.\u0275fac=function(Z){return new(Z||ie)},ie.\u0275cmp=u.Xpm({type:ie,selectors:[["add-ons-shopping-cart"]],inputs:{cartUpdating:"cartUpdating",cartPurchaseTermLabelValues:"cartPurchaseTermLabelValues",cartSummary:"cartSummary",cartItems:"cartItems",baseProductName:"baseProductName"},outputs:{removeAddon:"removeAddon",clickSkip:"clickSkip"},decls:12,vars:5,consts:function(){let $e,Z,ge,Ve,_t,pt,Mt,Bt,on;return $e=$localize`:␟eb075d0450deb6f381616f7da4b9244ced843053␟4563965495368336177:Skip`,Z=$localize`:␟921732d372e31bc7fbf7bc1efe39d76ff5028675␟1765663304505455573: Update Trial `,ge=$localize`:␟adcac1393313f5dbd11d6df0f57b8f6a8e9008b6␟7733785305938495183: Congratulations on starting your free trial${"\ufffd*3:1\ufffd\ufffd#1:1\ufffd"}:START_TAG_SPAN: for ${"\ufffd0:1\ufffd"}:INTERPOLATION:${"\ufffd/#1:1\ufffd\ufffd/*3:1\ufffd"}:CLOSE_TAG_SPAN:! `,Ve=$localize`:␟f311645d14c8c49a9b4e16f16153b8851acc352f␟2528990887798142888:Your Trial`,_t=$localize`:␟5bb4a09a669f55893c9a37a8480c8fa3f7ce5702␟5403684285319082289:Month`,pt=$localize`:␟f6e04edea3bb3a59d5904725bfbc2c440e793001␟1464072562214937907:Year`,Mt=$localize`:␟815eb623bc9b29bfb6119c72f211440a7e10f941␟4889736776514399770:Total on ${"\ufffd0\ufffd"}:INTERPOLATION:: `,Bt=$localize`:␟632156703e3e45ea815d266a80f4df4970d955ad␟456067885552578680:You have no Add-Ons yet`,on=$localize`:␟6e9a28cbef269aec301149306e930f0e4ec6c531␟4661906886205294423: Get the most out of your trial with Add-Ons `,[[1,"trial-success-message"],ge,[4,"ngIf"],["class","cart-empty",4,"ngIf"],[1,"cart-actions"],["mat-raised-button","",3,"click"],$e,["mat-raised-button","","color","primary",3,"disabled"],Z,["class","cart-terms",4,"ngIf"],[1,"cart-title"],Ve,[1,"cart-items"],[4,"ngFor","ngForOf"],["class","cart-item",4,"ngIf"],[1,"cart-item"],[1,"cart-item-contents"],[1,"cart-item-name"],[1,"cart-item-price"],["class","frequency",4,"ngIf"],["mat-icon-button","","color","warn","type","button",1,"cart-item-action",3,"disabled","click"],["color","inherit","key","icon_close"],[1,"frequency"],_t,pt,[3,"diameter"],[1,"cart-total"],[1,"cart-total-name"],Mt,[1,"cart-total-price"],[1,"cart-empty"],[1,"cart-empty-image-spacer"],["alt","",3,"src"],[1,"cart-empty-title"],Bt,[1,"cart-empty-description"],on,[1,"cart-terms"],[3,"key","values",4,"ngIf"],[3,"key","values"]]},template:function(Z,ge){1&Z&&(u.TgZ(0,"mat-card")(1,"div",0),u.tHW(2,1),u.YNc(3,no,2,1,"span",2),u.N_p(),u.qZA(),u.YNc(4,Mo,7,3,"ng-container",2),u.YNc(5,ss,8,3,"div",3),u.TgZ(6,"div",4)(7,"button",5),u.NdJ("click",function(){return ge.handleClickSkip()}),u.SDv(8,6),u.qZA(),u.TgZ(9,"button",7),u.SDv(10,8),u.qZA()(),u.YNc(11,rs,2,1,"div",9),u.qZA()),2&Z&&(u.xp6(3),u.Q6J("ngIf",ge.baseProductName),u.xp6(1),u.Q6J("ngIf",ge.cartItems.length),u.xp6(1),u.Q6J("ngIf",!ge.cartItems.length),u.xp6(4),u.Q6J("disabled",!ge.cartItems.length||ge.cartUpdating),u.xp6(2),u.Q6J("ngIf",ge.cartPurchaseTermLabelValues))},directives:[nt.a8,ce.O5,ce.sg,ye.lW,rt.o,Bn.Ou,In.x],pipes:[ce.H9,Ge.X,ce.uU,Ci.C],styles:["[_nghost-%COMP%]{display:block}mat-card[_ngcontent-%COMP%]{padding:20px}.cart-title[_ngcontent-%COMP%]{font-size:24px;line-height:34px;color:#282828;letter-spacing:.1px;font-weight:500;font-family:Roboto,Arial,sans-serif;margin-bottom:16px}.cart-total[_ngcontent-%COMP%]{margin:16px 0;display:flex;justify-content:space-between;align-items:flex-start}.cart-total-name[_ngcontent-%COMP%]{font-size:16px;line-height:24px;color:#282828;letter-spacing:.3px;font-weight:500;font-family:Roboto,Arial,sans-serif}.cart-total-price[_ngcontent-%COMP%]{flex:0 0 auto;font-size:20px;line-height:28px;color:#282828;letter-spacing:.1px;font-weight:500;font-family:Roboto,Arial,sans-serif}.cart-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding-top:8px}.cart-items[_ngcontent-%COMP%]{border-bottom:1px solid rgba(0,0,0,.12)}.cart-item[_ngcontent-%COMP%]{display:flex;align-items:center}.cart-item-action[_ngcontent-%COMP%]{flex:0 0 auto}.cart-item-name[_ngcontent-%COMP%]{font-size:16px;line-height:24px;color:#282828;letter-spacing:.3px;font-weight:500;font-family:Roboto,Arial,sans-serif}.cart-item-contents[_ngcontent-%COMP%]{margin:16px 0;display:flex;flex:auto;justify-content:space-between;align-items:flex-start}.cart-item-price[_ngcontent-%COMP%]{font-size:16px;line-height:24px;color:#282828;letter-spacing:.3px;font-weight:400;font-family:Roboto,Arial,sans-serif}.mat-spinner[_ngcontent-%COMP%]{margin:0;position:absolute;top:50%;left:50%}.trial-success-message[_ngcontent-%COMP%]{background-color:#c3eedd;border-radius:2px;padding:16px 20px;margin-bottom:8px;border-bottom:1px solid #cbcbcb}.cart-terms[_ngcontent-%COMP%]{font-size:13px;line-height:20px;color:#282828;letter-spacing:.2px;font-weight:400;font-family:Roboto,Arial,sans-serif;margin-top:16px;line-height:normal}.cart-empty[_ngcontent-%COMP%]{text-align:center}.cart-empty-image-spacer[_ngcontent-%COMP%]{margin:auto;height:150px;width:150px}.cart-empty-image-spacer[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:150px;max-height:150px}.cart-empty-title[_ngcontent-%COMP%]{font-size:24px;line-height:34px;color:#282828;letter-spacing:.1px;font-weight:500;font-family:Roboto,Arial,sans-serif;margin:8px 0}.cart-empty-description[_ngcontent-%COMP%]{margin-bottom:16px}"],changeDetection:0}),ie})();var Do=t(90164),io=t(69489),yi=t(49029),ls=t(43924);function Si(ie,$e){if(1&ie){const Z=u.EpF();u.ynx(0),u.TgZ(1,"contact-plan",9)(2,"progress-button",10),u.NdJ("onClick",function(){const _t=u.CHM(Z).$implicit;return u.oxw().handleSelectContactPlan(_t.id)}),u.ALo(3,"translate"),u.qZA()(),u.BQk()}if(2&ie){const Z=$e.$implicit,ge=u.oxw();u.xp6(1),u.Q6J("plan",Z),u.xp6(1),u.Q6J("isDisabled",!!ge.cartUpdatingPlanId)("isLoading",ge.cartUpdatingPlanId===Z.id)("hideLabelOnMobile",!1)("iconKey",ge.selectedPlanId===Z.id?"icon_check":void 0)("label",u.lcZ(3,6,ge.selectedPlanId===Z.id?"CBL.BILLING.TRIAL_ADD_ONS.CONTACTS.IN_CART":"CBL.BILLING.TRIAL_ADD_ONS.TRY_FOR_FREE"))}}let Ai=(()=>{class ie{constructor(){this.addAddOn=new u.vpe,this.removeAddOn=new u.vpe}ngOnInit(){this.setupContactPlans()}handleSelectContactPlan(Z){this.selectedPlanId===Z?this.removeAddOn.emit(Z):this.addAddOn.emit(Z)}setupContactPlans(){this.contactPlans=this.addOn.productPlans.filter(Z=>Boolean(Z.name)).sort((Z,ge)=>Z.price-ge.price).map(({id:Z,name:ge,price:Ve,frequency:_t},pt)=>({id:Z,name:ge,price:Ve,frequency:_t,isBestSeller:1===pt}))}}return ie.\u0275fac=function(Z){return new(Z||ie)},ie.\u0275cmp=u.Xpm({type:ie,selectors:[["add-ons-contacts"]],inputs:{addOn:"addOn",selectedPlanId:"selectedPlanId",cartUpdatingPlanId:"cartUpdatingPlanId"},outputs:{addAddOn:"addAddOn",removeAddOn:"removeAddOn"},decls:15,vars:4,consts:function(){let $e,Z,ge;return $e=$localize`:␟9b475bb63675494482effde989c7f1f18c232620␟5945986349492910662:Contacts`,Z=$localize`:␟16880c799459164d3cfef105ba7a91c850f8cfb8␟998673155578771080: Connect with decision-makers, push contacts to your CRM and send intelligent outreach – all from Crunchbase. `,ge=$localize`:␟eda1c370a3100c7472c0ab5ff7774d67ab0d69d0␟8861231362189544243: Add Contacts today and get 50 free contacts during your trial! `,[[1,"top-container"],[1,"header"],$e,[1,"description"],Z,[1,"description-subheader"],ge,[1,"addons-row"],[4,"ngFor","ngForOf"],[3,"plan"],["color","accent",3,"isDisabled","isLoading","hideLabelOnMobile","iconKey","label","onClick"]]},template:function(Z,ge){1&Z&&(u.TgZ(0,"div",0)(1,"div",1)(2,"h1"),u.SDv(3,2),u.qZA(),u.TgZ(4,"chip"),u._uU(5),u.ALo(6,"translate"),u.qZA()(),u.TgZ(7,"div",3),u.SDv(8,4),u.qZA(),u.TgZ(9,"div",5),u.SDv(10,6),u.qZA()(),u.TgZ(11,"div")(12,"div",7),u.YNc(13,Si,4,8,"ng-container",8),u.qZA(),u._UZ(14,"contact-sales-link"),u.qZA()),2&Z&&(u.xp6(5),u.Oqu(u.lcZ(6,2,"CBL.BILLING.TRIAL_ADD_ONS.LIMITED_TIME_OFFER")),u.xp6(8),u.Q6J("ngForOf",ge.contactPlans))},directives:[io.Y,ce.sg,yi.t,vn.l,ls.K],pipes:[Ge.X],styles:["[_nghost-%COMP%]{justify-content:center;max-width:100%;box-sizing:border-box}[_nghost-%COMP%]     button{border:1px solid #183444!important}.top-container[_ngcontent-%COMP%]{display:flex;box-sizing:border-box;display:flex!important;flex-direction:column;align-items:center;align-content:center;max-width:100%}.top-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{max-width:100%;box-sizing:border-box}.header[_ngcontent-%COMP%]{display:flex}h1[_ngcontent-%COMP%]{font-size:24px;line-height:34px;color:#282828;letter-spacing:.1px;font-weight:500;font-family:Roboto,Arial,sans-serif;margin-right:8px}.mat-stroked-button[_ngcontent-%COMP%]{border-color:#000}.description[_ngcontent-%COMP%]{margin:16px 0 8px;max-width:500px!important;text-align:center}.description-subheader[_ngcontent-%COMP%]{font-weight:500;margin-bottom:20px}.addons-row[_ngcontent-%COMP%]{margin:0 auto;padding:8px;max-width:800px;display:flex;flex-direction:column;justify-content:space-evenly}@media (min-width: 960px){.addons-row[_ngcontent-%COMP%]{padding:32px 0;flex-direction:row}}"],changeDetection:0}),ie})();function oo(ie,$e){1&ie&&(u.TgZ(0,"span",15),u._uU(1),u.ALo(2,"translate"),u.qZA()),2&ie&&(u.xp6(1),u.Oqu(u.lcZ(2,1,"CBL.INPUTS.DATE_PRECISION.MONTH")))}function ds(ie,$e){1&ie&&(u.TgZ(0,"span",15),u._uU(1),u.ALo(2,"translate"),u.qZA()),2&ie&&(u.xp6(1),u.Oqu(u.lcZ(2,1,"CBL.INPUTS.DATE_PRECISION.YEAR")))}let xo=(()=>{class ie{constructor(){this.addAddOn=new u.vpe,this.removeAddOn=new u.vpe}handleSelectDataboost(Z){this.selectedPlanId===Z?this.removeAddOn.emit(Z):this.addAddOn.emit(Z)}}return ie.\u0275fac=function(Z){return new(Z||ie)},ie.\u0275cmp=u.Xpm({type:ie,selectors:[["add-ons-databoost"]],inputs:{addOn:"addOn",selectedPlanId:"selectedPlanId",cartUpdatingPlanId:"cartUpdatingPlanId"},outputs:{addAddOn:"addAddOn",removeAddOn:"removeAddOn"},decls:40,vars:30,consts:function(){let $e,Z,ge;return $e=$localize`:␟9c12a67088e5a90a6d110266d3d33413b945cd62␟6548759056020232955:Data Boost`,Z=$localize`:␟e7d6301b5b3bce07fd2891dc4a9d848e5db8ece9␟3277048342123329063: Access premium third-party data integrations from our Marketplace partners.
`,ge=$localize`:␟b010c79b1f8b497634276c7b76e7f0f3b4cf39b7␟4397702285709208112:What Data Boost Can Offer You`,[[1,"header"],$e,[1,"description"],Z,[1,"details-container"],[1,"details-title"],ge,[1,"details"],[1,"details-group"],[1,"detail"],["key","icon_check_knockout_round","color","info-dark"],[1,"actions"],[1,"price"],["class","frequency",4,"ngIf"],["color","accent",3,"isDisabled","isLoading","hideLabelOnMobile","iconKey","label","onClick"],[1,"frequency"]]},template:function(Z,ge){1&Z&&(u.TgZ(0,"div",0)(1,"h1"),u.SDv(2,1),u.qZA(),u.TgZ(3,"chip"),u._uU(4),u.ALo(5,"translate"),u.qZA()(),u.TgZ(6,"div",2),u.SDv(7,3),u.qZA(),u.TgZ(8,"div",4)(9,"div",5),u.SDv(10,6),u.qZA(),u.TgZ(11,"div",7)(12,"div",8)(13,"div",9),u._UZ(14,"icon",10),u._uU(15),u.ALo(16,"translate"),u.qZA(),u.TgZ(17,"div",9),u._UZ(18,"icon",10),u._uU(19),u.ALo(20,"translate"),u.qZA()(),u.TgZ(21,"div",8)(22,"div",9),u._UZ(23,"icon",10),u._uU(24),u.ALo(25,"translate"),u.qZA(),u.TgZ(26,"div",9),u._UZ(27,"icon",10),u._uU(28),u.ALo(29,"translate"),u.qZA()()()(),u.TgZ(30,"div",11)(31,"div",12)(32,"span"),u._uU(33),u.ALo(34,"currency"),u.qZA(),u._uU(35," / "),u.YNc(36,oo,3,3,"span",13),u.YNc(37,ds,3,3,"span",13),u.qZA(),u.TgZ(38,"progress-button",14),u.NdJ("onClick",function(){return ge.handleSelectDataboost(ge.addOn.productPlans[0].id)}),u.ALo(39,"translate"),u.qZA()()),2&Z&&(u.xp6(4),u.Oqu(u.lcZ(5,13,"CBL.BILLING.TRIAL_ADD_ONS.LIMITED_TIME_OFFER")),u.xp6(11),u.hij(" ",u.lcZ(16,15,"CBL.BILLING.TRIAL_ADD_ONS.DATABOOST.DETAILS.DATA_PARTNERS")," "),u.xp6(4),u.hij(" ",u.lcZ(20,17,"CBL.BILLING.TRIAL_ADD_ONS.DATABOOST.DETAILS.BUSINESS_INSIGHTS")," "),u.xp6(5),u.hij(" ",u.lcZ(25,19,"CBL.BILLING.TRIAL_ADD_ONS.DATABOOST.DETAILS.PREMIUM_FILTERS")," "),u.xp6(4),u.hij(" ",u.lcZ(29,21,"CBL.BILLING.TRIAL_ADD_ONS.DATABOOST.DETAILS.MARKETPLACE_APPS")," "),u.xp6(5),u.Oqu(u.gM2(34,23,ge.addOn.productPlans[0].price,"USD","symbol","1.0-0")),u.xp6(3),u.Q6J("ngIf","monthly"===ge.addOn.productPlans[0].frequency),u.xp6(1),u.Q6J("ngIf","yearly"===ge.addOn.productPlans[0].frequency),u.xp6(1),u.Q6J("isDisabled",!!ge.cartUpdatingPlanId)("isLoading",ge.cartUpdatingPlanId===ge.addOn.productPlans[0].id)("hideLabelOnMobile",!1)("iconKey",ge.selectedPlanId===ge.addOn.productPlans[0].id?"icon_check":void 0)("label",u.lcZ(39,28,ge.selectedPlanId===ge.addOn.productPlans[0].id?"CBL.BILLING.TRIAL_ADD_ONS.CONTACTS.IN_CART":"CBL.BILLING.TRIAL_ADD_ONS.TRY_FOR_FREE")))},directives:[io.Y,rt.o,ce.O5,vn.l],pipes:[Ge.X,ce.H9],styles:["[_nghost-%COMP%]{display:block;align-items:center;line-height:20px}[_nghost-%COMP%]     button{border:1px solid #183444!important}.try[_ngcontent-%COMP%], .description[_ngcontent-%COMP%]{text-align:center}.header[_ngcontent-%COMP%]{display:flex;justify-content:center}h1[_ngcontent-%COMP%]{font-size:24px;line-height:34px;color:#282828;letter-spacing:.1px;font-weight:500;font-family:Roboto,Arial,sans-serif;margin-right:8px}.description[_ngcontent-%COMP%]{display:block;padding-bottom:8px}@media (min-width: 960px){.description[_ngcontent-%COMP%]{width:75%;max-width:500px;margin:8px auto 0}}.try[_ngcontent-%COMP%], .details-title[_ngcontent-%COMP%]{font-weight:500}.details-container[_ngcontent-%COMP%]{padding-top:20px}.details[_ngcontent-%COMP%]{box-sizing:border-box;display:flex!important;flex-direction:column;padding-bottom:24px}.details-group[_ngcontent-%COMP%]{box-sizing:border-box;display:flex!important;flex-direction:column}@media (min-width: 960px){.details-group[_ngcontent-%COMP%]{box-sizing:border-box;display:flex!important;flex-direction:row}}.detail[_ngcontent-%COMP%]{display:flex!important;flex-direction:row;align-items:center;align-content:center;max-width:100%;flex:1;box-sizing:border-box;padding:8px 8px 0 0}.detail[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{max-width:100%;box-sizing:border-box}.detail[_ngcontent-%COMP%]   icon[_ngcontent-%COMP%]{padding-right:8px}.price[_ngcontent-%COMP%]{font-weight:500;padding-right:16px}.actions[_ngcontent-%COMP%]{box-sizing:border-box;display:flex!important;flex-direction:row;align-items:center;align-content:center;max-width:100%;float:right}.actions[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{max-width:100%;box-sizing:border-box}.frequency[_ngcontent-%COMP%]{text-transform:capitalize}"],changeDetection:0}),ie})();var Ro=t(19975);function _s(ie,$e){if(1&ie){const Z=u.EpF();u.TgZ(0,"div",5)(1,"add-ons-shopping-cart",6),u.NdJ("removeAddon",function(Ve){return u.CHM(Z),u.oxw().removeAddOn(Ve)})("clickSkip",function(){return u.CHM(Z),u.oxw().skipAddOns()}),u.ALo(2,"async"),u.ALo(3,"async"),u.ALo(4,"async"),u.ALo(5,"async"),u.ALo(6,"async"),u.qZA()()}if(2&ie){const Z=u.oxw();u.xp6(1),u.Q6J("cartUpdating",u.lcZ(2,5,Z.cartUpdating$))("cartSummary",u.lcZ(3,7,Z.cartSummary$))("cartItems",u.lcZ(4,9,Z.cartUiItems$))("cartPurchaseTermLabelValues",u.lcZ(5,11,Z.purchaseTermLabelValues$))("baseProductName",u.lcZ(6,13,Z.baseProductName$))}}function so(ie,$e){1&ie&&u.GkF(0)}function ao(ie,$e){if(1&ie&&(u.ynx(0),u.YNc(1,so,1,0,"ng-container",14),u.BQk()),2&ie){u.oxw(4);const Z=u.MAs(4);u.xp6(1),u.Q6J("ngTemplateOutlet",Z)}}function No(ie,$e){if(1&ie){const Z=u.EpF();u.TgZ(0,"add-ons-contacts",16),u.NdJ("addAddOn",function(Ve){u.CHM(Z);const _t=u.oxw().$implicit;return u.oxw(4).addAddOn(_t.id,Ve)})("removeAddOn",function(Ve){return u.CHM(Z),u.oxw(5).removeAddOn(Ve)}),u.ALo(1,"async"),u.ALo(2,"async"),u.qZA()}if(2&ie){const Z=u.oxw().$implicit,ge=u.oxw(4);u.Q6J("addOn",Z)("selectedPlanId",u.lcZ(1,3,ge.contactsAddOnPlanIdInCart$))("cartUpdatingPlanId",u.lcZ(2,5,ge.cartUpdatingPlanId$))}}function us(ie,$e){if(1&ie){const Z=u.EpF();u.TgZ(0,"add-ons-databoost",16),u.NdJ("addAddOn",function(Ve){u.CHM(Z);const _t=u.oxw().$implicit;return u.oxw(4).addAddOn(_t.id,Ve)})("removeAddOn",function(Ve){return u.CHM(Z),u.oxw(5).removeAddOn(Ve)}),u.ALo(1,"async"),u.ALo(2,"async"),u.qZA()}if(2&ie){const Z=u.oxw().$implicit,ge=u.oxw(4);u.Q6J("addOn",Z)("selectedPlanId",u.lcZ(1,3,ge.databoostAddOnPlanIdInCart$))("cartUpdatingPlanId",u.lcZ(2,5,ge.cartUpdatingPlanId$))}}function ps(ie,$e){1&ie&&u._UZ(0,"mat-divider")}function gs(ie,$e){if(1&ie&&(u.ynx(0),u.YNc(1,No,3,7,"add-ons-contacts",15),u.YNc(2,us,3,7,"add-ons-databoost",15),u.YNc(3,ps,1,0,"mat-divider",4),u.BQk()),2&ie){const Z=$e.$implicit,ge=$e.last,Ve=u.oxw(4);u.xp6(1),u.Q6J("ngIf",Z.family===Ve.ProductFamily.contacts),u.xp6(1),u.Q6J("ngIf",Z.family===Ve.ProductFamily.databoost),u.xp6(1),u.Q6J("ngIf",!ge)}}function ms(ie,$e){1&ie&&u.GkF(0)}function hs(ie,$e){if(1&ie&&(u.ynx(0),u.YNc(1,ao,2,1,"ng-container",10),u.TgZ(2,"mat-card",11)(3,"div",12),u.YNc(4,gs,4,3,"ng-container",13),u.ALo(5,"async"),u.qZA()(),u.YNc(6,ms,1,0,"ng-container",14),u.BQk()),2&ie){const Z=u.oxw(3),ge=u.MAs(4);u.xp6(1),u.Q6J("ifBreakpoint","xsmall"),u.xp6(3),u.Q6J("ngForOf",u.lcZ(5,3,Z.suggestedAddOns$)),u.xp6(2),u.Q6J("ngTemplateOutlet",ge)}}function Es(ie,$e){1&ie&&(u.TgZ(0,"mat-card",11)(1,"div",17),u._UZ(2,"markup-label",18),u.qZA()())}function fs(ie,$e){if(1&ie&&(u.ynx(0),u.YNc(1,hs,7,5,"ng-container",4),u.YNc(2,Es,3,0,"mat-card",9),u.BQk()),2&ie){const Z=u.oxw().ngIf,ge=u.oxw();u.xp6(1),u.Q6J("ngIf",Z===ge.BuyResourceStatus.LOADED),u.xp6(1),u.Q6J("ngIf",Z===ge.BuyResourceStatus.ERROR)}}function Fo(ie,$e){1&ie&&u._UZ(0,"mat-spinner",20)}function Uo(ie,$e){if(1&ie&&u.YNc(0,Fo,1,0,"mat-spinner",19),2&ie){const Z=u.oxw().ngIf,ge=u.oxw();u.Q6J("ngIf",Z===ge.BuyResourceStatus.LOADING)}}function ro(ie,$e){if(1&ie&&(u.ynx(0),u.YNc(1,fs,3,2,"ng-container",7),u.ALo(2,"async"),u.YNc(3,Uo,1,1,"ng-template",null,8,u.W1O),u.BQk()),2&ie){const Z=u.MAs(4),ge=u.oxw();u.xp6(1),u.Q6J("ngIf",u.lcZ(2,2,ge.baseProductNameResourceComplete$))("ngIfElse",Z)}}let vs=(()=>{class ie{constructor(Z,ge,Ve){this.store=Z,this.activatedRoute=ge,this.buyAddOnsPageService=Ve,this.ProductFamily=S.lL.FamilyEnum,this.BuyResourceStatus=Pn.p,this.suggestedAddOnResourceStatus$=this.store.select(zn.p3),this.suggestedAddOns$=this.store.select(zn.Sv),this.cartUiItems$=this.store.select(zn.qG),this.cartUpdating$=this.store.select(zn.DL),this.cartUpdatingPlanId$=this.store.select(zn.A9),this.contactsAddOnPlanIdInCart$=this.store.select((0,zn.iN)(S.lL.FamilyEnum.contacts)),this.databoostAddOnPlanIdInCart$=this.store.select((0,zn.iN)(S.lL.FamilyEnum.databoost)),this.cartSummary$=this.store.select(zn.m6),this.purchaseTermLabelValues$=this.buyAddOnsPageService.getPurchaseTermLabelValues$(),this.baseProductName$=this.store.select(zn.wj),this.baseProductNameResourceComplete$=this.store.select(zn.oF)}ngOnInit(){const Z=this.activatedRoute.snapshot,ge=Z.paramMap.get("productSlug"),Ve=Z.paramMap.get("planId"),_t=Z.paramMap.get("subscriptionId");this.store.dispatch((0,oi._4)({productSlug:ge,planId:Ve,subscriptionId:_t}))}addAddOn(Z,ge){this.store.dispatch((0,oi.oU)({productId:Z,planId:ge}))}removeAddOn(Z){this.store.dispatch((0,oi.TR)({planId:Z}))}ngOnDestroy(){this.store.dispatch((0,oi.u9)())}skipAddOns(){this.store.dispatch((0,oi.ID)())}}return ie.\u0275fac=function(Z){return new(Z||ie)(u.Y36(Gi.yh),u.Y36(e.gz),u.Y36(zi))},ie.\u0275cmp=u.Xpm({type:ie,selectors:[["buy-add-ons"]],decls:7,vars:4,consts:[[3,"bodyFill"],["page-layout-body",""],[1,"add-ons-page-contents"],["shoppingCart",""],[4,"ngIf"],[1,"shopping-cart-container"],[3,"cartUpdating","cartSummary","cartItems","cartPurchaseTermLabelValues","baseProductName","removeAddon","clickSkip"],[4,"ngIf","ngIfElse"],["loading",""],["class","add-ons-options-container",4,"ngIf"],[4,"ifBreakpoint"],[1,"add-ons-options-container"],[1,"add-ons-options"],[4,"ngFor","ngForOf"],[4,"ngTemplateOutlet"],[3,"addOn","selectedPlanId","cartUpdatingPlanId","addAddOn","removeAddOn",4,"ngIf"],[3,"addOn","selectedPlanId","cartUpdatingPlanId","addAddOn","removeAddOn"],[1,"load-error-container"],["key","CBL.BILLING.TRIAL_ADD_ONS.LOADING_ADDONS_ERROR"],["diameter","48",4,"ngIf"],["diameter","48"]],template:function(Z,ge){1&Z&&(u.TgZ(0,"page-layout",0)(1,"div",1)(2,"div",2),u.YNc(3,_s,7,15,"ng-template",null,3,u.W1O),u.YNc(5,ro,5,4,"ng-container",4),u.ALo(6,"async"),u.qZA()()()),2&Z&&(u.Q6J("bodyFill",!0),u.xp6(5),u.Q6J("ngIf",u.lcZ(6,2,ge.suggestedAddOnResourceStatus$)))},directives:[Ke.w,cs,ce.O5,Do.G,ce.tP,nt.a8,ce.sg,Ai,xo,Ro.d,In.x,Bn.Ou],pipes:[ce.Ov],styles:["page-layout[_ngcontent-%COMP%]{position:relative}mat-divider[_ngcontent-%COMP%]{position:relative!important;margin:24px 0}.shopping-cart-container[_ngcontent-%COMP%]{flex:0 0 250px}@media (min-width: 960px){.shopping-cart-container[_ngcontent-%COMP%]{flex:0 0 400px}}.add-ons-options[_ngcontent-%COMP%]{box-sizing:border-box;display:flex!important;flex-direction:column;margin-top:16px}@media (min-width: 600px){.add-ons-options[_ngcontent-%COMP%]{margin-top:24px}}.add-ons-page-contents[_ngcontent-%COMP%]{box-sizing:border-box;display:flex!important;flex-direction:column;min-height:100vh}@media (min-width: 600px){.add-ons-page-contents[_ngcontent-%COMP%]{display:flex!important;flex-direction:row;justify-content:center;max-width:100%;box-sizing:border-box;align-items:flex-start;align-content:flex-start;padding:24px}}.add-ons-options-container[_ngcontent-%COMP%]{max-width:700px;padding:16px;margin:24px 0;flex:1}@media (min-width: 600px){.add-ons-options-container[_ngcontent-%COMP%]{margin:0 24px 24px 0;padding:32px}}.load-error-container[_ngcontent-%COMP%]{min-height:100px;display:flex!important;flex-direction:row;justify-content:center;box-sizing:border-box;align-items:center;align-content:center;max-width:100%}.load-error-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{max-width:100%;box-sizing:border-box}"],changeDetection:0}),ie})();var wo=t(67177),$i=t(54350);let Cs=(()=>{class ie{constructor(Z,ge,Ve,_t,pt,Mt,Bt,on,yn){this.urlService=Z,this.billingService=ge,this.labelService=Ve,this.toastService=_t,this.dialogService=pt,this.analyticsService=Mt,this.logService=Bt,this.billingApi=on,this.userService=yn,this.logger=this.logService.getLogger("BuyAddOnsR1PageService")}getCartItem(Z,ge){const Ve=Z.productPlans.find(pt=>pt.id===ge),_t=Z.productPlans.find(pt=>pt.trialRenewalPlanId===ge);return Ve&&_t?{product:Z,monthlyPlan:Ve,trialPlan:_t}:void 0}productMonthlyPlans(Z){const ge=Z.productPlans.filter(Ve=>Ve.frequency===S.mz.FrequencyEnum.monthly);return Object.assign(Object.assign({},Z),{productPlans:ge})}getCartTotalToday(Z){return Z.reduce((ge,Ve)=>ge+Ve.trialPlan.price,0)}getCartTotalAfterTrial(Z){return Z.reduce((ge,Ve)=>ge+Ve.monthlyPlan.price,0)}getCartPurchaseTermLabelValues(Z){return{termsUrl:this.urlService.getTermsOfServiceUrl(),cancellationPolicyUrl:this.urlService.getCancellationPolicyUrl(),privacyPolicyUrl:this.urlService.getPrivacyPolicyUrl(),price:this.billingService.formatAsPrice(this.getCartTotalAfterTrial(Z),2),billingStartDate:this.getTrialPlanBillingCycleStartDate(Z),products:this.getRenewalProductsListLabel(Z)}}showSubscriptionError(Z){const ge=this.labelService.getLabel("CBL.BILLING.TRIAL_ADD_ONS.SHOPPING_CART_ERROR.TITLE"),Ve=1===Z.length?this.labelService.getInterpolatedLabel("CBL.BILLING.TRIAL_ADD_ONS.SHOPPING_CART_ERROR.PRODUCTS_ONE",{product:Z[0]}):this.labelService.getInterpolatedLabel("CBL.BILLING.TRIAL_ADD_ONS.SHOPPING_CART_ERROR.PRODUCTS_TWO",{product1:Z[0],product2:Z[1]}),_t=this.labelService.getLabel("CBL.BILLING.TRIAL_ADD_ONS.SHOPPING_CART_ERROR.CTA");return this.dialogService.showAlert(ge,Ve,_t)}showCheckoutComplete(Z,ge){let Ve=this.labelService.getLabel("CBL.BILLING.TRIAL_ADD_ONS.SHOPPING_CART_SUCCESS.PRODUCTS_NONE");Z.length>0&&(Ve=1===Z.length?this.labelService.getInterpolatedLabel("CBL.BILLING.TRIAL_ADD_ONS.SHOPPING_CART_SUCCESS.PRODUCTS_ONE",{product:Z[0]}):this.labelService.getInterpolatedLabel("CBL.BILLING.TRIAL_ADD_ONS.SHOPPING_CART_SUCCESS.PRODUCTS_TWO",{product1:Z[0],product2:Z[1]})),this.toastService.showToast(Ve),ge&&setTimeout(()=>{const _t=this.labelService.getLabel("CBL.BILLING.TRIAL_ADD_ONS.SHOPPING_CART_SESSION_REFRESH_ERROR.DESCRIPTION");this.toastService.showToast(_t)},x.k.DEFAULT_DELAY)}createAddOnSubscriptions(Z,ge){return Z.map(Ve=>this.createAddOnSubscription(Ve.trialPlan.id,ge,this.analyticsService.getUTMParameters()).pipe((0,_.U)(_t=>({item:Ve,success:_t})),(0,r.K)(_t=>this.isApiError(_t)?(0,d.of)({item:Ve,apiError:_t}):(0,d.of)({item:Ve,error:_t}))))}createAddOnSubscription(Z,ge,Ve){return this.logger.info("Creating a subscription for add-on plan "+Z+" for "+ge+" user(s)"),this.billingApi.cbBillingSubscriptionsPost$({body:{plan_id:Z,seat_count:ge,metadata:Ve}})}reportUserPurchases(Z,ge){Z.map(Ve=>{const _t={transactionId:Ve.success.id,transactionTotal:Ve.success.price,transactionType:"trial"===Ve.success.term_type?"trial":"purchase",transactionProducts:[{sku:Ve.item.trialPlan.id,name:Ve.item.trialPlan.name||Ve.item.product.name,price:Ve.item.trialPlan.price,quantity:ge}]};this.userService.getMe().then(pt=>{this.analyticsService.purchase(pt,_t)})})}getTrialPlanBillingCycleStartDate(Z){if(!Z.length)return;const ge=(new Date).getTime()+le.E.daysToMilliseconds(Z[0].trialPlan.trialDuration||0);return new Date(ge).toDateString()}getRenewalProductsListLabel(Z){const ge=Z.map(Ve=>Ve.monthlyPlan.name).filter(J.K);if(ge.length){if(1===ge.length)return ge[0];if(2===ge.length)return this.labelService.getInterpolatedLabel("CBL.BILLING.TRIAL_ADD_ONS.SHOPPING_CART.PRODUCTS_TWO",{product1:ge[0],product2:ge[1]});{const Ve=ge.pop(),_t=ge.join(", ");return this.labelService.getInterpolatedLabel("CBL.BILLING.TRIAL_ADD_ONS.SHOPPING_CART.PRODUCTS_GT_TWO",{products:_t,lastProduct:Ve})}}}isApiError(Z){return(0,C.has)(Z,"statusCode")}}return ie.\u0275fac=function(Z){return new(Z||ie)(u.LFG(V.iO),u.LFG(I.jM),u.LFG(Ti.Q),u.LFG(x.k),u.LFG(B.x),u.LFG(s.y),u.LFG(b.$V),u.LFG(S.tc),u.LFG(N.KD))},ie.\u0275prov=u.Yz7({token:ie,factory:ie.\u0275fac,providedIn:"root"}),ie})();var co=t(65112),_i=t(10610),Bo=t(29361),ui=(()=>{return(ie=ui||(ui={})).ADD_ONS_LOADING="add ons loading",ie.ADD_ONS_LOADED="add ons loaded",ie.ADD_ONS_ERROR="add ons error",ie.CHECKOUT_LOADING="checkout loading",ui;var ie})();let Wi=(()=>{class ie extends wo.m1{constructor(Z,ge,Ve,_t){super({status:ui.ADD_ONS_LOADING,contactsAddOn:void 0,databoostAddOn:void 0,basePlanId:void 0,cart:{contacts:void 0,databoost:void 0}}),this.productService=Z,this.buyAddOnsR1PageService=ge,this.buyRedirectHelperService=Ve,this.userService=_t,this.selectContactsAddOn$=this.select(pt=>pt.contactsAddOn),this.selectDataboostAddOn$=this.select(pt=>pt.databoostAddOn),this.selectContactsAddOnMonthlyPlans$=this.select(this.selectContactsAddOn$,pt=>pt?this.buyAddOnsR1PageService.productMonthlyPlans(pt):void 0),this.selectDataboostAddOnMonthlyPlans$=this.select(this.selectDataboostAddOn$,pt=>pt?this.buyAddOnsR1PageService.productMonthlyPlans(pt):void 0),this.selectCartItems$=this.select(pt=>[pt.cart.contacts,pt.cart.databoost].filter(J.K)),this.selectCartTotalToday$=this.select(this.selectCartItems$,pt=>this.buyAddOnsR1PageService.getCartTotalToday(pt)),this.selectTotalAfterTrial$=this.select(this.selectCartItems$,pt=>this.buyAddOnsR1PageService.getCartTotalAfterTrial(pt)),this.selectCartPurchaseTermLabelValues$=this.select(this.selectCartItems$,pt=>this.buyAddOnsR1PageService.getCartPurchaseTermLabelValues(pt)),this.selectAddOnsLoading$=this.select(pt=>pt.status===ui.ADD_ONS_LOADING),this.selectAddOnsError$=this.select(pt=>pt.status===ui.ADD_ONS_ERROR),this.selectCartContactsMonthlyPlanId$=this.select(pt=>{var Mt;return null===(Mt=pt.cart.contacts)||void 0===Mt?void 0:Mt.monthlyPlan.id}),this.selectCartDataboostMonthlyPlanId$=this.select(pt=>{var Mt;return null===(Mt=pt.cart.databoost)||void 0===Mt?void 0:Mt.monthlyPlan.id}),this.selectBasePlanId=this.select(pt=>pt.basePlanId),this.selectCheckoutLoading$=this.select(pt=>pt.status===ui.CHECKOUT_LOADING),this.pageInitialized=this.updater((pt,Mt)=>Object.assign(Object.assign({},pt),{basePlanId:Mt})),this.removeContactsAddOn=this.updater(pt=>Object.assign(Object.assign({},pt),{cart:Object.assign(Object.assign({},pt.cart),{contacts:void 0})})),this.removeDataboostAddOn=this.updater(pt=>Object.assign(Object.assign({},pt),{cart:Object.assign(Object.assign({},pt.cart),{databoost:void 0})})),this.addContactsAddOn=this.updater((pt,Mt)=>{if(!pt.contactsAddOn)return pt;const Bt=this.buyAddOnsR1PageService.getCartItem(pt.contactsAddOn,Mt);return Object.assign(Object.assign({},pt),{cart:Object.assign(Object.assign({},pt.cart),{contacts:Bt})})}),this.addDataboostAddOn=this.updater((pt,Mt)=>{if(!pt.databoostAddOn)return pt;const Bt=this.buyAddOnsR1PageService.getCartItem(pt.databoostAddOn,Mt);return Object.assign(Object.assign({},pt),{cart:Object.assign(Object.assign({},pt.cart),{databoost:Bt})})}),this.addOnsLoaded=this.updater((pt,Mt)=>Object.assign(Object.assign({},pt),{status:ui.ADD_ONS_LOADED,contactsAddOn:Mt.find(Bt=>Bt.url_slug===I.wo.CONTACTS),databoostAddOn:Mt.find(Bt=>Bt.url_slug===I.wo.DATABOOST_ADD_ON)})),this.addOnsError=this.updater(pt=>Object.assign(Object.assign({},pt),{status:ui.ADD_ONS_ERROR})),this.checkoutLoading=this.updater(pt=>Object.assign(Object.assign({},pt),{status:ui.CHECKOUT_LOADING})),this.checkout=this.effect(pt=>pt.pipe((0,o.q)(1),(0,h.b)(()=>this.checkoutLoading()),(0,co.IC)(()=>this.selectCartItems$),(0,_i.z)(([Mt,Bt])=>{const on=this.buyAddOnsR1PageService.createAddOnSubscriptions(Bt,1);return(0,$i.D)(on)}),(0,m.w)(Mt=>{const Bt=Mt.filter(this.isCheckoutSubSuccess);this.buyAddOnsR1PageService.reportUserPurchases(Bt,1);const on=Mt.filter(jn=>!this.isCheckoutSubSuccess(jn)),yn=this.mapProductsToNames(Bt),$n={erroredItemNames:this.mapProductsToNames(on),succeededItemNames:yn,sessionRefreshError:!1};return yn.length?this.userService.refreshSession$().pipe((0,_.U)(jn=>$n),(0,r.K)(jn=>(0,d.of)(Object.assign(Object.assign({},$n),{sessionRefreshError:!0})))):(0,d.of)($n)}),(0,m.w)(Mt=>Mt.erroredItemNames.length?(0,g.D)(this.buyAddOnsR1PageService.showSubscriptionError(Mt.erroredItemNames)).pipe((0,Bo.h)(Mt)):(0,d.of)(Mt)),(0,co.IC)(()=>this.selectBasePlanId),(0,h.b)(([{succeededItemNames:Mt,sessionRefreshError:Bt},on])=>{this.buyAddOnsR1PageService.showCheckoutComplete(Mt,Bt),this.buyRedirectHelperService.redirectPurchaser({productSlug:I.wo.PRO_V2,planId:on})}))),this.getAddons=this.effect(()=>this.productService.getProducts().pipe((0,wo._b)(pt=>this.addOnsLoaded(pt),()=>this.addOnsError()))),this.clickSkip=this.effect(pt=>pt.pipe((0,o.q)(1),(0,co.IC)(()=>this.selectBasePlanId),(0,h.b)(([Mt,Bt])=>this.buyRedirectHelperService.redirectPurchaser({productSlug:I.wo.PRO_V2,planId:Bt}))))}isCheckoutSubSuccess(Z){return(0,C.has)(Z,"success")}mapProductsToNames(Z){return Z.map(ge=>ge.item.monthlyPlan.name||ge.item.product.name)}}return ie.\u0275fac=function(Z){return new(Z||ie)(u.LFG(I.M5),u.LFG(Cs),u.LFG(Je.K),u.LFG(N.KD))},ie.\u0275prov=u.Yz7({token:ie,factory:ie.\u0275fac}),ie})();function ys(ie,$e){1&ie&&u.GkF(0)}function ko(ie,$e){if(1&ie&&(u.TgZ(0,"div"),u.YNc(1,ys,1,0,"ng-container",11),u.qZA()),2&ie){u.oxw(2);const Z=u.MAs(7);u.xp6(1),u.Q6J("ngTemplateOutlet",Z)}}function Ss(ie,$e){if(1&ie){const Z=u.EpF();u.TgZ(0,"add-ons-contacts",12),u.NdJ("addAddOn",function(Ve){return u.CHM(Z),u.oxw(2).addContactsAddOn(Ve)})("removeAddOn",function(){return u.CHM(Z),u.oxw(2).removeContactsAddOn()}),u.ALo(1,"async"),u.ALo(2,"async"),u.qZA()}if(2&ie){const Z=$e.ngIf,ge=u.oxw(2);u.Q6J("addOn",Z)("selectedPlanId",u.lcZ(1,3,ge.cartContactsMonthlyPlanId$))("cartUpdatingPlanId",u.lcZ(2,5,ge.checkoutLoading$)?"123":void 0)}}function Is(ie,$e){if(1&ie){const Z=u.EpF();u.TgZ(0,"add-ons-databoost",12),u.NdJ("addAddOn",function(Ve){return u.CHM(Z),u.oxw(2).addDataboostAddOn(Ve)})("removeAddOn",function(){return u.CHM(Z),u.oxw(2).removeDataboostAddOn()}),u.ALo(1,"async"),u.ALo(2,"async"),u.qZA()}if(2&ie){const Z=$e.ngIf,ge=u.oxw(2);u.Q6J("addOn",Z)("selectedPlanId",u.lcZ(1,3,ge.cartDataboostMonthlyPlanId$))("cartUpdatingPlanId",u.lcZ(2,5,ge.checkoutLoading$))}}function Ts(ie,$e){1&ie&&u.GkF(0)}function lo(ie,$e){if(1&ie&&(u.TgZ(0,"div",5),u.YNc(1,ko,2,1,"div",6),u.TgZ(2,"mat-card",7)(3,"div",8),u.YNc(4,Ss,3,7,"add-ons-contacts",9),u.ALo(5,"async"),u._UZ(6,"mat-divider"),u.YNc(7,Is,3,7,"add-ons-databoost",9),u.ALo(8,"async"),u.qZA()(),u.TgZ(9,"div",10),u.YNc(10,Ts,1,0,"ng-container",11),u.qZA()()),2&ie){const Z=u.oxw(),ge=u.MAs(7);u.xp6(1),u.Q6J("ifBreakpoint","xsmall"),u.xp6(3),u.Q6J("ngIf",u.lcZ(5,4,Z.contactsAddOnMonthlyPlans$)),u.xp6(3),u.Q6J("ngIf",u.lcZ(8,6,Z.databoostAddOnMonthlyPlans$)),u.xp6(3),u.Q6J("ngTemplateOutlet",ge)}}function Ho(ie,$e){1&ie&&u._UZ(0,"mat-spinner",13)}function Go(ie,$e){if(1&ie){const Z=u.EpF();u.TgZ(0,"div",31)(1,"div",32)(2,"span",33),u._uU(3),u.qZA(),u.TgZ(4,"span",34),u._uU(5),u.ALo(6,"currency"),u.ALo(7,"translate"),u.qZA()(),u.TgZ(8,"button",35),u.NdJ("click",function(){u.CHM(Z);const Ve=u.oxw().$implicit;return u.oxw(4).handleRemoveCartItem(Ve)}),u.ALo(9,"translate"),u.ALo(10,"async"),u._UZ(11,"icon",36),u.qZA()()}if(2&ie){const Z=u.oxw().$implicit,ge=u.oxw(4);u.xp6(3),u.Oqu(Z.monthlyPlan.name),u.xp6(2),u.AsE("",u.gM2(6,5,Z.monthlyPlan.monthlyPrice,Z.monthlyPlan.currency,"symbol","1.2-2")," ",u.lcZ(7,10,"CBL.BILLING.TRIAL_ADD_ONS.SHOPPING_CART.MONTHLY")," "),u.xp6(3),u.Q6J("disabled",u.lcZ(10,14,ge.checkoutLoading$)),u.uIk("aria-label",u.lcZ(9,12,"CBL.COMMON.REMOVE"))}}function Zo(ie,$e){if(1&ie&&(u.ynx(0),u.YNc(1,Go,12,16,"div",30),u.BQk()),2&ie){const Z=$e.$implicit;u.xp6(1),u.Q6J("ngIf",Z)}}function Yi(ie,$e){if(1&ie&&(u.ynx(0),u.TgZ(1,"div",21),u._uU(2),u.ALo(3,"translate"),u.qZA(),u.TgZ(4,"div",22),u._uU(5),u.ALo(6,"translate"),u.qZA(),u.TgZ(7,"div",23),u.YNc(8,Zo,2,1,"ng-container",24),u.qZA(),u.TgZ(9,"div",25)(10,"span",26),u.SDv(11,27),u.qZA(),u.TgZ(12,"span",28),u._uU(13),u.ALo(14,"currency"),u.ALo(15,"async"),u.qZA()(),u.TgZ(16,"div",25)(17,"span",26),u.SDv(18,29),u.qZA(),u.TgZ(19,"span",28),u._uU(20),u.ALo(21,"currency"),u.ALo(22,"async"),u.qZA()(),u.BQk()),2&ie){const Z=u.oxw().ngIf,ge=u.oxw(2);u.xp6(2),u.hij(" ",u.lcZ(3,5,"CBL.PRO_ONBOARDING.STATUS_MESSAGE.TRIAL_START")," "),u.xp6(3),u.hij(" ",u.lcZ(6,7,"CBL.BILLING.TRIAL_ADD_ONS.SHOPPING_CART.TITLE")," "),u.xp6(3),u.Q6J("ngForOf",Z),u.xp6(5),u.Oqu(u.gM2(14,9,u.lcZ(15,14,ge.cartTotalToday$),"USD","symbol","1.2-2")),u.xp6(7),u.Oqu(u.gM2(21,16,u.lcZ(22,21,ge.cartTotalAfterTrial$),"USD","symbol","1.2-2"))}}function _o(ie,$e){if(1&ie&&(u.TgZ(0,"div",37)(1,"div",21),u._uU(2),u.ALo(3,"translate"),u.qZA(),u.TgZ(4,"div",38),u._UZ(5,"img",39),u.ALo(6,"imageAsset"),u.qZA(),u.TgZ(7,"div",40),u.SDv(8,41),u.qZA(),u.TgZ(9,"div",42),u.SDv(10,43),u.qZA()()),2&ie){const Z=u.oxw(3);u.xp6(2),u.hij(" ",u.lcZ(3,2,"CBL.PRO_ONBOARDING.STATUS_MESSAGE.TRIAL_START")," "),u.xp6(3),u.s9C("src",u.lcZ(6,4,Z.emptyCartAsset),u.LSH)}}function As(ie,$e){if(1&ie&&(u.TgZ(0,"div",44),u._UZ(1,"markup-label",45),u.ALo(2,"async"),u.qZA()),2&ie){const Z=u.oxw(3);u.xp6(1),u.Q6J("key","CBL.BILLING.TRIAL_ADD_ONS.SHOPPING_CART.MONTHLY_TRIAL_TERMS")("values",u.lcZ(2,2,Z.cartPurchaseTermLabelValues$))}}function Os(ie,$e){if(1&ie){const Z=u.EpF();u.ynx(0),u.YNc(1,Yi,23,23,"ng-container",15),u.YNc(2,_o,11,6,"div",16),u.TgZ(3,"div",17)(4,"button",18),u.NdJ("click",function(){return u.CHM(Z),u.oxw(2).handleSkip()}),u.ALo(5,"async"),u._uU(6),u.ALo(7,"translate"),u.qZA(),u.TgZ(8,"progress-button",19),u.NdJ("onClick",function(){return u.CHM(Z),u.oxw(2).handleCheckout()}),u.ALo(9,"async"),u.ALo(10,"async"),u.ALo(11,"translate"),u.qZA()(),u.YNc(12,As,3,4,"div",20),u.BQk()}if(2&ie){const Z=$e.ngIf,ge=u.oxw(2);u.xp6(1),u.Q6J("ngIf",Z.length),u.xp6(1),u.Q6J("ngIf",!Z.length),u.xp6(2),u.Q6J("disabled",u.lcZ(5,10,ge.checkoutLoading$)),u.xp6(2),u.hij(" ",u.lcZ(7,12,"CBL.BILLING.TRIAL_ADD_ONS.SHOPPING_CART.SKIP")," "),u.xp6(2),u.Q6J("raisedButton",!0)("isDisabled",!Z.length||u.lcZ(9,14,ge.checkoutLoading$))("isLoading",u.lcZ(10,16,ge.checkoutLoading$))("hideLabelOnMobile",!1)("label",u.lcZ(11,18,"CBL.BILLING.TRIAL_ADD_ONS.SHOPPING_CART.UPDATE_TRIAL")),u.xp6(4),u.Q6J("ngIf",Z.length)}}function Ps(ie,$e){if(1&ie&&(u.TgZ(0,"mat-card",14),u.YNc(1,Os,13,20,"ng-container",15),u.ALo(2,"async"),u.qZA()),2&ie){const Z=u.oxw();u.xp6(1),u.Q6J("ngIf",u.lcZ(2,1,Z.cartItems$))}}const zo="select-product",Ls=[{path:zo,component:Hi},{path:":productSlug",component:mo},{path:":productSlug/success",component:Ri,canActivate:[i.a1],data:{chrome:{header:!0}}},{path:":productSlug/:planId",component:mo},{path:":productSlug/:planId/add-ons",component:(()=>{class ie{constructor(Z,ge){this.buyR1Store=Z,this.activatedRoute=ge,this.cartItems$=this.buyR1Store.selectCartItems$,this.cartTotalToday$=this.buyR1Store.selectCartTotalToday$,this.cartTotalAfterTrial$=this.buyR1Store.selectTotalAfterTrial$,this.cartPurchaseTermLabelValues$=this.buyR1Store.selectCartPurchaseTermLabelValues$,this.addOnsLoading$=this.buyR1Store.selectAddOnsLoading$,this.contactsAddOnMonthlyPlans$=this.buyR1Store.selectContactsAddOnMonthlyPlans$,this.databoostAddOnMonthlyPlans$=this.buyR1Store.selectDataboostAddOnMonthlyPlans$,this.cartContactsMonthlyPlanId$=this.buyR1Store.selectCartContactsMonthlyPlanId$,this.cartDataboostMonthlyPlanId$=this.buyR1Store.selectCartDataboostMonthlyPlanId$,this.emptyCartAsset=H.Wh.buy.empty_cart,this.checkoutLoading$=this.buyR1Store.selectCheckoutLoading$}ngOnInit(){const{planId:Z}=this.activatedRoute.snapshot.params;this.buyR1Store.pageInitialized(Z)}removeContactsAddOn(){this.buyR1Store.removeContactsAddOn()}removeDataboostAddOn(){this.buyR1Store.removeDataboostAddOn()}addContactsAddOn(Z){this.buyR1Store.addContactsAddOn(Z)}addDataboostAddOn(Z){this.buyR1Store.addDataboostAddOn(Z)}handleRemoveCartItem(Z){Z.product.family===S.lL.FamilyEnum.contacts?this.buyR1Store.removeContactsAddOn():this.buyR1Store.removeDataboostAddOn()}handleSkip(){this.buyR1Store.clickSkip()}handleCheckout(){this.buyR1Store.checkout()}}return ie.\u0275fac=function(Z){return new(Z||ie)(u.Y36(Wi),u.Y36(e.gz))},ie.\u0275cmp=u.Xpm({type:ie,selectors:[["buy-add-ons-r1"]],features:[u._Bn([Wi])],decls:8,vars:5,consts:function(){let $e,Z,ge,Ve;return $e=$localize`:␟e2e9bfd3244b44621b8246780b20e5ab12325aea␟4766234427756468458:Total Due Today:`,Z=$localize`:␟29769bdbf8bbfd549c93e854531ce1a6ad54a9e2␟2348848072037444837:Total Due After Trial:`,ge=$localize`:␟632156703e3e45ea815d266a80f4df4970d955ad␟456067885552578680:You have no Add-Ons yet`,Ve=$localize`:␟54297498b17bc1c74b10ebe444d636be973656eb␟3663992417811351234: Get the most out of your trial with Add-Ons `,[[3,"bodyFill"],["page-layout-body",""],["class","add-ons-page-contents",4,"ngIf","ngIfElse"],["loading",""],["cart",""],[1,"add-ons-page-contents"],[4,"ifBreakpoint"],[1,"add-ons-options-container"],[1,"add-ons-options"],[3,"addOn","selectedPlanId","cartUpdatingPlanId","addAddOn","removeAddOn",4,"ngIf"],[1,"cart-container"],[4,"ngTemplateOutlet"],[3,"addOn","selectedPlanId","cartUpdatingPlanId","addAddOn","removeAddOn"],["diameter","48"],[1,"cart"],[4,"ngIf"],["class","cart-empty",4,"ngIf"],[1,"cart-actions"],["mat-button","","color","accent",3,"disabled","click"],["color","primary",3,"raisedButton","isDisabled","isLoading","hideLabelOnMobile","label","onClick"],["class","cart-terms",4,"ngIf"],[1,"trial-success-message"],[1,"cart-title"],[1,"cart-items"],[4,"ngFor","ngForOf"],[1,"cart-total"],[1,"cart-total-name"],$e,[1,"cart-total-price"],Z,["class","cart-item",4,"ngIf"],[1,"cart-item"],[1,"cart-item-contents"],[1,"cart-item-name"],[1,"cart-item-price"],["mat-icon-button","","color","warn","type","button",1,"cart-item-action",3,"disabled","click"],["color","inherit","key","icon_close"],[1,"cart-empty"],[1,"cart-empty-image-spacer"],["alt","",3,"src"],[1,"cart-empty-title"],ge,[1,"cart-empty-description"],Ve,[1,"cart-terms"],[3,"key","values"]]},template:function(Z,ge){if(1&Z&&(u.TgZ(0,"page-layout",0)(1,"div",1),u.YNc(2,lo,11,8,"div",2),u.ALo(3,"async"),u.qZA(),u.YNc(4,Ho,1,0,"ng-template",null,3,u.W1O),u.qZA(),u.YNc(6,Ps,3,3,"ng-template",null,4,u.W1O)),2&Z){const Ve=u.MAs(5);u.Q6J("bodyFill",!0),u.xp6(2),u.Q6J("ngIf",!u.lcZ(3,3,ge.addOnsLoading$))("ngIfElse",Ve)}},directives:[Ke.w,ce.O5,Do.G,ce.tP,nt.a8,Ai,Ro.d,xo,Bn.Ou,ce.sg,ye.lW,rt.o,vn.l,In.x],pipes:[ce.Ov,Ge.X,ce.H9,Ci.C],styles:["page-layout[_ngcontent-%COMP%]{position:relative}mat-divider[_ngcontent-%COMP%]{position:relative!important;margin:24px 0}.add-ons-options[_ngcontent-%COMP%]{box-sizing:border-box;display:flex!important;flex-direction:column;margin-top:16px}@media (min-width: 600px){.add-ons-options[_ngcontent-%COMP%]{margin-top:24px}}.add-ons-page-contents[_ngcontent-%COMP%]{box-sizing:border-box;display:flex!important;flex-direction:column;min-height:100vh}@media (min-width: 600px){.add-ons-page-contents[_ngcontent-%COMP%]{display:flex!important;flex-direction:row;justify-content:center;max-width:100%;box-sizing:border-box;align-items:flex-start;align-content:flex-start;padding:24px}}@media (min-width: 600px){.add-ons-page-contents[_ngcontent-%COMP%]{margin-top:32px}}.add-ons-options-container[_ngcontent-%COMP%]{margin:24px 0;padding:16px;max-width:700px;flex:1}@media (min-width: 600px){.add-ons-options-container[_ngcontent-%COMP%]{margin:0 24px 24px 0;padding:32px}}@media (min-width: 600px){.cart-container[_ngcontent-%COMP%]{width:400px;flex:0 0 400px}}.cart[_ngcontent-%COMP%]{padding:20px}.cart-title[_ngcontent-%COMP%]{font-size:24px;line-height:34px;color:#282828;letter-spacing:.1px;font-weight:500;font-family:Roboto,Arial,sans-serif;margin-bottom:16px}.cart-items[_ngcontent-%COMP%]{border-bottom:1px solid rgba(0,0,0,.12)}.cart-item[_ngcontent-%COMP%]{display:flex;align-items:center}.cart-item-contents[_ngcontent-%COMP%], .cart-total[_ngcontent-%COMP%]{margin:16px 0;display:flex;justify-content:space-between;align-items:flex-start}.cart-item-contents[_ngcontent-%COMP%]{flex:1}.cart-item-action[_ngcontent-%COMP%]{flex:0 0 auto}.cart-item-name[_ngcontent-%COMP%], .cart-total-name[_ngcontent-%COMP%]{font-size:16px;line-height:24px;color:#282828;letter-spacing:.3px;font-weight:500;font-family:Roboto,Arial,sans-serif}.cart-item-price[_ngcontent-%COMP%], .cart-total-price[_ngcontent-%COMP%]{flex:0 0 auto}.cart-item-price[_ngcontent-%COMP%]{font-size:16px;line-height:24px;color:#282828;letter-spacing:.3px;font-weight:400;font-family:Roboto,Arial,sans-serif}.cart-total-price[_ngcontent-%COMP%]{font-size:20px;line-height:28px;color:#282828;letter-spacing:.1px;font-weight:500;font-family:Roboto,Arial,sans-serif}.cart-terms[_ngcontent-%COMP%]{font-size:13px;line-height:20px;color:#282828;letter-spacing:.2px;font-weight:400;font-family:Roboto,Arial,sans-serif;margin-top:16px;line-height:normal}.cart-empty[_ngcontent-%COMP%]{text-align:center}.cart-empty-image-spacer[_ngcontent-%COMP%]{height:150px}.cart-empty-image-spacer[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:150px}.cart-empty-title[_ngcontent-%COMP%]{font-size:24px;line-height:34px;color:#282828;letter-spacing:.1px;font-weight:500;font-family:Roboto,Arial,sans-serif;margin:8px 0}.cart-empty-description[_ngcontent-%COMP%]{margin-bottom:16px}.cart-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding-top:8px}.mat-spinner[_ngcontent-%COMP%]{margin:0;position:absolute;top:50%;left:50%}.trial-success-message[_ngcontent-%COMP%]{background-color:#c3eedd;border-radius:2px;padding:16px 20px;margin-bottom:8px;border-bottom:1px solid #cbcbcb}"],changeDetection:0}),ie})()},{path:":productSlug/:planId/:subscriptionId/add-ons",component:vs}];let Ms=(()=>{class ie{}return ie.\u0275fac=function(Z){return new(Z||ie)},ie.\u0275mod=u.oAB({type:ie}),ie.\u0275inj=u.cJS({imports:[[e.Bz.forChild(Ls)],e.Bz]}),ie})()},29473:(oe,L,t)=>{t.d(L,{K:()=>g});var e=t(7323),i=t(24179),p=t(13074),l=t(83910),y=t(3184),d=t(45857);let g=(()=>{class f{constructor(c,r,o,_){this.userAttributeService=c,this.onboardingInitiator=r,this.router=o,this.urlService=_}redirectPurchaser({productSlug:c,planId:r,multiSeat:o=!1}){this.userAttributeService.getAttributes().pipe((0,l.q)(1)).subscribe(_=>{let n=this.urlService.getBuySuccessRoute(c,r);(!_||!_.use_case)&&(n=o?this.onboardingInitiator.getRoute(i.x.TEAM_ADMIN,{planId:r,productSlug:c}):this.onboardingInitiator.getRoute(i.x.DEFAULT,n.queryParams)),this.router.navigate(n.path,{queryParams:Object.assign({multiSeat:o||void 0},n.queryParams),queryParamsHandling:"merge"})})}}return f.\u0275fac=function(c){return new(c||f)(y.LFG(e.n3),y.LFG(i.X),y.LFG(d.F0),y.LFG(p.iO))},f.\u0275prov=y.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})()},85235:(oe,L,t)=>{t.d(L,{E:()=>e,p:()=>i});const e="buy";var i=(()=>{return(p=i||(i={})).IDLE_NOT_LOADED="idleNotLoaded",p.LOADING="loading",p.LOADED="loaded",p.ERROR="error",i;var p})()},50167:(oe,L,t)=>{t.d(L,{_4:()=>i,xR:()=>p,f8:()=>l,ZC:()=>y,AG:()=>d,mY:()=>a,IE:()=>c,oU:()=>r,TR:()=>o,xM:()=>_,DK:()=>n,ID:()=>m,u9:()=>S});var e=t(35585);const i=(0,e.PH)("[Buy] Buy Add-Ons Page Initialized",(0,e.Ky)()),p=(0,e.PH)("[Buy] Load Suggested Add-Ons Success",(0,e.Ky)()),l=(0,e.PH)("[Buy] Load Suggested Add-Ons Fail"),y=(0,e.PH)("[Buy] Load Base Product Name Success",(0,e.Ky)()),d=(0,e.PH)("[Buy] Load Base Product Name Fail"),a=((0,e.PH)("[Buy] Load Product Catalog Success",(0,e.Ky)()),(0,e.PH)("[Buy] Load Product Catalog Fail"),(0,e.PH)("[Buy] Create Cart Success",(0,e.Ky)())),c=(0,e.PH)("[Buy] Create Cart Fail"),r=(0,e.PH)("[Buy] Click Add Suggested Add-On",(0,e.Ky)()),o=(0,e.PH)("[Buy] Click Remove Suggested Add-On",(0,e.Ky)()),_=(0,e.PH)("[Buy] Update Cart Success",(0,e.Ky)()),n=(0,e.PH)("[Buy] Update Cart Fail"),m=(0,e.PH)("[Buy] Click Skip Add-Ons"),S=((0,e.PH)("[Buy] Click Update Trial"),(0,e.PH)("[Buy] Checkout Cart Success"),(0,e.PH)("[Buy] Checkout Cart Fail",(0,e.Ky)()),(0,e.PH)("[Buy] Buy Add-Ons Page Destroyed"))},42303:(oe,L,t)=>{t.d(L,{Sv:()=>g,p3:()=>f,Bd:()=>c,Zj:()=>r,m6:()=>o,wj:()=>_,oF:()=>n,A9:()=>C,DL:()=>S,rK:()=>T,xS:()=>N,iN:()=>s,lz:()=>E,qG:()=>H,Zi:()=>b});var e=t(35585),i=t(85235),p=t(92938),y=t(23580);const d=(0,e.ZF)(i.E),g=(0,e.P1)(d,B=>B.suggestedAddOns),f=(0,e.P1)(d,B=>B.suggestedAddOnsStatus),c=(0,e.P1)(d,B=>B.productSlug),r=(0,e.P1)(d,B=>B.planId),o=(0,e.P1)(d,B=>B.cartSummary),_=(0,e.P1)(d,B=>B.baseProductName),n=(0,e.P1)(d,B=>B.baseProductNameStatus===i.p.LOADED||B.baseProductNameStatus===i.p.ERROR),m=(0,e.P1)(o,B=>null==B?void 0:B.charges),v=(0,e.P1)(m,B=>{if(B)return(0,p.last)(B)}),h=(0,e.P1)(o,B=>null==B?void 0:B.cart),C=(0,e.P1)(d,B=>B.cartUpdatingPlanId),S=(0,e.P1)(C,B=>!!B),I=(0,e.P1)(h,B=>null==B?void 0:B.cart_items),T=(0,e.P1)(h,B=>null==B?void 0:B.id),N=B=>(0,e.P1)(I,Q=>{if(null==Q?void 0:Q.length)return Q.find($=>$.product_id===B)}),s=B=>(0,e.P1)((B=>(0,e.P1)((B=>(0,e.P1)(g,Q=>Q.find($=>$.family===B)))(B),I,(Q,$)=>{if(Q&&(null==$?void 0:$.length))return $.find(W=>W.product_id===Q.id)}))(B),Q=>null==Q?void 0:Q.plan_id),E=B=>(0,e.P1)(I,Q=>{if(null==Q?void 0:Q.length)return Q.find($=>$.plan_id===B)}),H=(0,e.P1)(I,g,(B,Q)=>{if(!(null==B?void 0:B.length)||!(null==Q?void 0:Q.length))return[];const $=B.map(W=>W.plan_id);return Q.flatMap(W=>W.productPlans).filter(W=>$.includes(W.id)).map(({id:W,name:q,price:le,currency:J,frequency:u})=>({id:W,name:q,price:le,currency:J,frequency:u}))}),V=(0,e.P1)(I,v,(B,Q)=>{if(!Q)return[];const $=(null==B?void 0:B.filter(W=>"existing"===W.item_type))||[];return null==$?void 0:$.map(W=>{var q;return null===(q=Q.invoice_items)||void 0===q?void 0:q.find(le=>le.line_item_id===(null==W?void 0:W.id))}).filter(y.K)}),b=(0,e.P1)(H,V,v,(B,Q,$)=>({cartUiItems:B,annualInvoiceItems:Q,finalCharge:$}))},68787:(oe,L,t)=>{t.d(L,{Ni:()=>m,wr:()=>f,IQ:()=>a});var e=t(67177),i=t(88759),p=t(59095),l=t(59151),y=t(65112),d=t(23580),g=t(43630),f=(()=>{return(v=f||(f={})).NOT_INITIALIZED="cart not initialized",v.INITIALIZING="cart initializing",v.INITALIZATION_ERROR="cart initialization error",v.INITALIZATION_SUCCESS="cart initialization success",v.UPDATING="cart updating",v.UPDATE_ERROR="cart update error",v.UPDATE_SUCCESS="cart update success",v.CHECKING_OUT="cart checking out",v.CHECKOUT_ERROR="cart checkout error",v.CHECKOUT_SUCCESS="cart checkout success",f;var v})();class a extends e.m1{constructor(h,C,S,I){super(C),this.cartService=h,this.initialState=C,this.userService=S,this.store=I,this.selectCartStatus$=this.select(T=>T.status),this.selectCartInitializing$=this.select(this.selectCartStatus$,T=>T===f.INITIALIZING),this.selectCartInitializationSuccess$=this.select(this.selectCartStatus$,T=>T===f.INITALIZATION_SUCCESS),this.selectCartInitialized$=this.select(this.selectCartStatus$,T=>T!==f.NOT_INITIALIZED&&T!==f.INITIALIZING&&T!==f.INITALIZATION_ERROR),this.selectCartInitializationError$=this.select(this.selectCartStatus$,T=>T===f.INITALIZATION_ERROR),this.selectCartUpdating$=this.select(this.selectCartStatus$,T=>T===f.UPDATING),this.selectCartUpdateError$=this.select(this.selectCartStatus$,T=>T===f.UPDATE_ERROR),this.selectCartCheckoutSuccess$=this.select(this.selectCartStatus$,T=>T===f.CHECKOUT_SUCCESS),this.selectCartCheckoutError$=this.select(this.selectCartStatus$,T=>T===f.CHECKOUT_ERROR),this.selectCartSummary$=this.select(T=>T.cartSummary),this.selectCart$=this.select(this.selectCartSummary$,T=>null==T?void 0:T.cart),this.selectCartId$=this.select(this.selectCart$,T=>null==T?void 0:T.id),this.selectCartItems$=this.select(this.selectCart$,T=>null==T?void 0:T.cart_items),this.selectCartCharges$=this.select(this.selectCartSummary$,T=>null==T?void 0:T.charges),this.selectCartTrialConvertIds$=this.select(this.selectCartItems$,T=>null==T?void 0:T.filter(N=>N.trial_converted).map(N=>N.id)),this.cartCreationSuccess=this.updater((T,N)=>Object.assign(Object.assign({},T),{status:f.INITALIZATION_SUCCESS,cartSummary:N})),this.cartCreationLoading=this.updater(T=>Object.assign(Object.assign({},T),{status:f.INITIALIZING,cartSummary:void 0})),this.cartCreationError=this.updater(T=>Object.assign(Object.assign({},T),{status:f.INITALIZATION_ERROR,cartSummary:void 0})),this.cartUpdateSuccess=this.updater((T,N)=>Object.assign(Object.assign({},T),{status:f.UPDATE_SUCCESS,cartSummary:N})),this.cartUpdateLoading=this.updater(T=>Object.assign(Object.assign({},T),{status:f.UPDATING})),this.cartUpdateError=this.updater(T=>Object.assign(Object.assign({},T),{status:f.UPDATE_ERROR})),this.cartCheckingOut=this.updater(T=>Object.assign(Object.assign({},T),{status:f.CHECKING_OUT})),this.cartCheckoutSuccess=this.updater((T,N)=>Object.assign(Object.assign({},T),{cartSummary:N,status:f.CHECKOUT_SUCCESS})),this.cartCheckoutError=this.updater(T=>Object.assign(Object.assign({},T),{status:f.CHECKOUT_ERROR})),this.createCartFromSubscription=this.effect(T=>T.pipe((0,i.b)(()=>this.cartCreationLoading()),(0,p.w)(N=>this.cartService.createCartFromSubscription$(N).pipe((0,e._b)(x=>this.cartCreationSuccess(x),()=>this.cartCreationError()))))),this.removeCartItem=this.effect(T=>T.pipe((0,y.IC)(N=>[this.selectCartId$.pipe((0,l.h)(d.K)),this.selectCartItemById$(N).pipe((0,l.h)(d.K)),this.selectCartTrialConvertIds$.pipe((0,l.h)(d.K))]),(0,i.b)(()=>this.cartUpdateLoading()),(0,p.w)(([N,x,s,E])=>this.cartService.removeCartItem$(x,N,E.length?E.filter(H=>H!==N):void 0).pipe((0,e._b)(H=>this.cartUpdateSuccess(H),()=>this.cartUpdateError()))))),this.addCartItem=this.effect(T=>T.pipe((0,y.IC)(N=>[this.selectCartId$.pipe((0,l.h)(d.K))]),(0,i.b)(()=>this.cartUpdateLoading()),(0,p.w)(([N,x])=>this.cartService.addCartItem$(x,{plan_id:N,is_trial:!1,seat_count:1}).pipe((0,e._b)(s=>this.cartUpdateSuccess(s),()=>this.cartUpdateError()))))),this.updateCartItems=this.effect(T=>T.pipe((0,y.IC)(N=>[this.selectCartId$.pipe((0,l.h)(d.K))]),(0,i.b)(()=>this.cartUpdateLoading()),(0,p.w)(([N,x])=>this.cartService.updateCartItems$(x,N).pipe((0,e._b)(s=>this.cartUpdateSuccess(s),()=>this.cartUpdateError()))))),this.checkout=this.effect(T=>T.pipe((0,p.w)(()=>this.selectCartId$.pipe((0,l.h)(d.K))),(0,i.b)(()=>this.cartCheckingOut()),(0,p.w)(N=>this.cartService.checkoutCart$(N).pipe((0,e._b)(x=>{this.cartCheckoutSuccess(x),this.store.dispatch((0,g.Kh)())},()=>this.cartCheckoutError())))))}selectCartItemById$(h){return this.select(this.selectCartItems$,C=>{if(null==C?void 0:C.length)return C.find(S=>S.id===h)})}}var c=t(93443),r=t(64139),o=t(86942),_=t(92938),n=t(3184);let m=(()=>{class v{constructor(C){this.billingApi=C}createCartFromItems$(C,S){return this.billingApi.cbBillingCartsPost$({body:{line_items:C,coupon:S}})}createCartFromItemsAndCheckout$(C,S){return this.createCartFromItems$(C,S).pipe((0,p.w)(I=>this.checkoutCart$(I.cart.id)))}createCartFromSubscription$(C){return this.billingApi.cbBillingSubscriptionsSubscriptionIdCartsPost$({subscriptionId:C})}addCartItem$(C,S){return this.addCartItems$(C,[S])}addCartItems$(C,S){return this.billingApi.cbBillingCartsCartIdItemsPost$({cartId:C,body:{items:S}})}removeCartItem$(C,S,I){return this.updateCartItems$(C,{adds:[],updates:[],deletes:[S],trial_converts:I})}updateCartItems$(C,S){return this.billingApi.cbBillingCartsCartIdItemsPatch$({cartId:C,body:S})}getCartById$(C){return this.billingApi.cbBillingCartsCartIdGet$({cartId:C})}checkoutCart$(C){return this.billingApi.cbBillingCartsCartIdCheckoutPost$({cartId:C})}getCartItemsDiff(C,S){const I=(0,_.differenceBy)(S,C,"plan_id"),T=(0,_.differenceBy)(C,S,"plan_id"),N=(0,_.intersectionBy)(S,C,"plan_id"),x=(0,_.differenceWith)(N,C,(E,H)=>E.plan_id===H.plan_id&&E.seat_count===H.seat_count),s=S.filter(E=>E.trial_converted);if(I.length||T.length||x.length||s.length)return{adds:I,deletes:T,trialConverts:s,seatCountChanges:x}}createConvertTrialsCartFromSubscription$(C){return this.createCartFromSubscriptionAndApplyUpdate$(C,I=>{const T=this.getAllNonCanceledCartItemIds(I);if(!T.length)throw new Error("No items in cart to convert");return{trial_converts:T}})}createCancelAllCartFromSubscription$(C){return this.createCartFromSubscriptionAndApplyUpdate$(C,I=>{const T=this.getAllNonCanceledCartItemIds(I);if(!T.length)throw new Error("No items in cart to cancel");return{deletes:T}})}createNewCartFromDiffAndReAdd$({subscriptionId:C,cartItemsDiff:S,reAddedPlanId:I,convertAllTrialsInCart:T}){return this.createCartFromSubscriptionAndApplyUpdate$(C,x=>{const s=Q=>{var $,W;return null===(W=((null===($=x.cart)||void 0===$?void 0:$.cart_items)||[]).find(q=>q.plan_id===Q))||void 0===W?void 0:W.id},E=Q=>Q.map($=>$.plan_id).map(s).filter(d.K),H=E(S.deletes.filter(Q=>Q.plan_id!==I));if(!(S.adds.length||S.trialConverts.length||H.length))return;const b=S.adds.map(({plan_id:Q,is_trial:$,seat_count:W})=>({plan_id:Q,is_trial:$,seat_count:W}));let B=E(S.trialConverts);if(T){const Q=s(I);if(!Q)throw new Error("couldn't find matching plan to re-add for trial conversion");B=Array.from(new Set([...B,Q]))}return{adds:b,updates:[],deletes:H,trial_converts:B}})}createCancellationWinbackToMonthlyCartFromSubscription$(C,S){return this.createCartFromSubscriptionAndApplyUpdate$(C,T=>{const N=this.getAllNonCanceledCartItemIds(T);if(!N.length)throw new Error("No items in cart to cancel");return{deletes:N,adds:[{plan_id:S,is_trial:!1,seat_count:1}]}})}createCartFromSubscriptionAndApplyUpdate$(C,S){return this.createCartFromSubscription$(C).pipe((0,p.w)(I=>{const T=S(I);return T?this.updateCartItems$(I.cart.id,T).pipe((0,o.U)(N=>({initialCartSummary:I,cartSummaryWithUpdates:N}))):(0,r.of)({initialCartSummary:I,cartSummaryWithUpdates:I})}))}getAllNonCanceledCartItemIds(C){var S;return(null===(S=C.cart.cart_items)||void 0===S?void 0:S.filter(I=>"remove"!==I.last_change_type).map(I=>I.id))||[]}}return v.\u0275fac=function(C){return new(C||v)(n.LFG(c.tc))},v.\u0275prov=n.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})()},47064:(oe,L,t)=>{t.d(L,{d:()=>r});var e=t(36362),i=t(45857),p=t(35503),l=t(90898),y=t(32519),d=t(31156),g=t(89250),f=t(83e3),a=t(97444),c=t(3184);let r=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=c.oAB({type:o}),o.\u0275inj=c.cJS({imports:[[e.ez,i.Bz,p.Dt,l.q,y.n,d.H,g.S,f.S,a.c]]}),o})()},66378:(oe,L,t)=>{t.d(L,{w:()=>c});var e=t(36362),i=t(4092),p=t(90898),l=t(35503),y=t(32519),d=t(48611),g=t(32313),f=t(83447),a=t(3184);let c=(()=>{class r{}return r.\u0275fac=function(_){return new(_||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[e.ez,p.q,l.Dt,y.n,d.y,i.kx,g.H,f.E]]}),r})()},65782:(oe,L,t)=>{t.d(L,{W:()=>un});var e=t(3184),i=t(98119),p=t(93443),l=t(75215),y=t(45516),d=t(24018),g=t(36362),f=t(32478),a=t(40089),c=t(87317),r=t(44770),o=t(43365),_=t(92434),n=t(69489);const m=["textInput"];function v(je,ft){if(1&je){const pe=e.EpF();e.TgZ(0,"chip",4),e.NdJ("remove",function(){const de=e.CHM(pe).index;return e.oxw().remove(de)}),e._uU(1),e.qZA()}if(2&je){const pe=ft.$implicit;e.Q6J("removable",!0),e.xp6(1),e.Oqu(pe)}}let h=(()=>{class je{constructor(){this.valuesChange=new e.vpe}remove(pe){if(!this.values)return;const be=[...this.values];be.splice(pe,1),this.changeValues(be)}addFromInput(){if(!this.textInput)return;const pe=(this.textInput.nativeElement.value||"").trim();!pe||(this.textInput.nativeElement.value="",this.changeValues([...this.values||[],pe]))}changeValues(pe){pe&&!pe.length&&(pe=void 0),this.valuesChange.emit(pe)}}return je.\u0275fac=function(pe){return new(pe||je)},je.\u0275cmp=e.Xpm({type:je,selectors:[["filter-multi-text"]],viewQuery:function(pe,be){if(1&pe&&e.Gf(m,5),2&pe){let Ce;e.iGM(Ce=e.CRH())&&(be.textInput=Ce.first)}},inputs:{values:"values",placeholder:"placeholder"},outputs:{valuesChange:"valuesChange"},decls:5,vars:2,consts:[["appearance","outline",1,"cb-form-field-outlined"],["matInput","","autocomplete","off",3,"placeholder","keydown.enter","change"],["textInput",""],[3,"removable","remove",4,"ngFor","ngForOf"],[3,"removable","remove"]],template:function(pe,be){1&pe&&(e.TgZ(0,"mat-form-field",0)(1,"input",1,2),e.NdJ("keydown.enter",function(){return be.addFromInput()})("change",function(){return be.addFromInput()}),e.qZA()(),e.TgZ(3,"chips-container"),e.YNc(4,v,2,2,"chip",3),e.qZA()),2&pe&&(e.xp6(1),e.Q6J("placeholder",be.placeholder),e.xp6(3),e.Q6J("ngForOf",be.values))},directives:[r.KE,o.Nt,_.O,g.sg,n.Y],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}"],changeDetection:0}),je})();var C=t(92218),S=t(38816),I=t(50767),T=t(3542),N=t(31970);function x(je,ft){if(1&je){const pe=e.EpF();e.TgZ(0,"entity-input",3),e.NdJ("chosenEntity",function(Ce){return e.CHM(pe),e.oxw().add(Ce)}),e.qZA()}if(2&je){const pe=e.oxw();e.Q6J("collectionIds",pe.collectionIds)("placeholder",pe.placeholder)("clearButton",!1)("excludedUuids",pe.values)}}function s(je,ft){if(1&je){const pe=e.EpF();e.TgZ(0,"entity-grouped-by-parent-input",4),e.NdJ("selectionChange",function(Ce){return e.CHM(pe),e.oxw().onSelectionChange(Ce)}),e.qZA()}if(2&je){const pe=e.oxw();e.Q6J("parentFieldId",pe.groupByParentData.fieldId)("collectionId",pe.groupByParentData.collectionId)("selectedValues",pe.values)("placeholder",pe.placeholder)}}function E(je,ft){if(1&je){const pe=e.EpF();e.ynx(0),e.TgZ(1,"chip",5),e.NdJ("remove",function(){const de=e.CHM(pe).index;return e.oxw().remove(de)}),e._uU(2),e.qZA(),e.BQk()}if(2&je){const pe=ft.$implicit;e.xp6(1),e.Q6J("removable",!0),e.xp6(1),e.Oqu(pe.value)}}let H=(()=>{class je{constructor(pe,be,Ce){this.changeDetectorRef=pe,this.autocompleteService=be,this.entitiesGroupedByParentService=Ce,this.valuesChange=new e.vpe,this.identifiers=[],this.onDestroy=new C.xQ}ngOnDestroy(){this.onDestroy.next()}ngOnChanges(pe){var be;pe.values&&this.autocompleteService.queryEntitiesByUuid(this.values||[],this.collectionIds||[]).then(Ce=>{this.identifiers=Ce.map(de=>de.identifier),this.changeDetectorRef.markForCheck()},Ce=>{}),pe.collectionIds&&1===(null===(be=this.collectionIds)||void 0===be?void 0:be.length)&&(this.groupByParentData=this.entitiesGroupedByParentService.getGroupByParentData(this.collectionIds[0]))}remove(pe){if(!this.values)return;const be=[...this.values];be.splice(pe,1),this.changeValues(be)}add(pe){this.identifiers.push(pe.identifier),this.changeValues([...this.values||[],pe.identifier.uuid])}onSelectionChange(pe){this.autocompleteService.cacheIdentifiers(pe),this.changeValues(pe.map(be=>be.uuid))}changeValues(pe){pe&&!pe.length&&(pe=void 0),this.valuesChange.emit(pe)}}return je.\u0275fac=function(pe){return new(pe||je)(e.Y36(e.sBO),e.Y36(I.y),e.Y36(S.Y))},je.\u0275cmp=e.Xpm({type:je,selectors:[["filter-identifier-no-suggestions"]],inputs:{values:"values",placeholder:"placeholder",collectionIds:"collectionIds"},outputs:{valuesChange:"valuesChange"},features:[e.TTD],decls:4,vars:3,consts:[["appearance","outline",3,"collectionIds","placeholder","clearButton","excludedUuids","chosenEntity",4,"ngIf"],["appearance","outline",3,"parentFieldId","collectionId","selectedValues","placeholder","selectionChange",4,"ngIf"],[4,"ngFor","ngForOf"],["appearance","outline",3,"collectionIds","placeholder","clearButton","excludedUuids","chosenEntity"],["appearance","outline",3,"parentFieldId","collectionId","selectedValues","placeholder","selectionChange"],[3,"removable","remove"]],template:function(pe,be){1&pe&&(e.YNc(0,x,1,4,"entity-input",0),e.YNc(1,s,1,4,"entity-grouped-by-parent-input",1),e.TgZ(2,"chips-container"),e.YNc(3,E,3,2,"ng-container",2),e.qZA()),2&pe&&(e.Q6J("ngIf",!be.groupByParentData),e.xp6(1),e.Q6J("ngIf",be.groupByParentData),e.xp6(2),e.Q6J("ngForOf",be.identifiers))},directives:[g.O5,T.j,N.C,_.O,g.sg,n.Y],styles:["entity-input[_ngcontent-%COMP%]{display:block}entity-grouped-by-parent-input[_ngcontent-%COMP%]{display:block}"],changeDetection:0}),je})();var V=t(92938),b=t(68390),B=t(74929);const Q=["startDateInput"];function $(je,ft){if(1&je&&(e.TgZ(0,"mat-radio-button",3),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&je){const pe=ft.$implicit;e.Q6J("value",pe),e.xp6(1),e.Oqu(e.lcZ(2,2,pe.labelKey))}}function W(je,ft){if(1&je){const pe=e.EpF();e.TgZ(0,"div",4)(1,"div",5)(2,"mat-form-field",6)(3,"input",7,8),e.NdJ("change",function(Ce){return e.CHM(pe),e.oxw().setCustomInput(0,Ce.target.value)}),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"span",9),e._uU(7," \u2014 "),e.qZA(),e.TgZ(8,"mat-form-field",6)(9,"input",7),e.NdJ("change",function(Ce){return e.CHM(pe),e.oxw().setCustomInput(1,Ce.target.value)}),e.ALo(10,"translate"),e.qZA()()(),e.TgZ(11,"div",10),e._uU(12),e.ALo(13,"translate"),e.qZA()()}if(2&je){const pe=e.oxw();e.xp6(3),e.Q6J("name",pe.name+"_min")("placeholder",e.lcZ(5,7,"CBL.ADVANCED_SEARCH.FILTER_DATE_RANGE.START_DATE"))("value",pe.customValues[0]||""),e.xp6(6),e.Q6J("name",pe.name+"_max")("placeholder",e.lcZ(10,9,"CBL.ADVANCED_SEARCH.FILTER_DATE_RANGE.END_DATE"))("value",pe.customValues[1]||""),e.xp6(3),e.hij(" ",e.lcZ(13,11,"CBL.ADVANCED_SEARCH.FILTER_DATE_RANGE.FORMAT_EXPLANATION")," ")}}let q=(()=>{class je{constructor(){this.valuesChange=new e.vpe,this.customValues=[void 0,void 0],this.customRange={labelKey:"CBL.ADVANCED_SEARCH.FILTER_DATE_RANGE.CUSTOM_RANGE",values:this.customValues},this.dateRanges=[{labelKey:"CBL.ADVANCED_SEARCH.FILTER_DATE_RANGE.PAST_30_DAYS",values:["30 days ago",void 0]},{labelKey:"CBL.ADVANCED_SEARCH.FILTER_DATE_RANGE.PAST_60_DAYS",values:["60 days ago",void 0]},{labelKey:"CBL.ADVANCED_SEARCH.FILTER_DATE_RANGE.PAST_90_DAYS",values:["90 days ago",void 0]},{labelKey:"CBL.ADVANCED_SEARCH.FILTER_DATE_RANGE.PAST_YEAR",values:["a year ago",void 0]},this.customRange]}ngOnChanges(pe){if(pe.values){if((0,V.isEqual)(this.getCurrentValues(),this.values))return;if(!this.values)return this.selectedRange=void 0,this.customValues[0]=void 0,void(this.customValues[1]=void 0);const be=this.dateRanges.find(Ce=>(0,V.isEqual)(Ce.values,this.values));be?this.selectedRange=be:(this.selectedRange=this.customRange,this.customValues[0]=this.values&&this.values[0],this.customValues[1]=this.values&&this.values[1])}}onSelectedRangeChange(pe){this.selectedRange=pe,this.emitValues(),pe===this.customRange&&setTimeout(()=>{this.startDateInputEl&&this.startDateInputEl.nativeElement.focus()},0)}setCustomInput(pe,be){be=(be||"").trim(),this.customValues[pe]=be,this.emitValues()}getCurrentValues(){const pe=this.selectedRange&&this.selectedRange.values;if(!pe||null!=pe[0]||null!=pe[1])return pe&&[...pe]}emitValues(){this.valuesChange.emit(this.getCurrentValues())}}return je.\u0275fac=function(pe){return new(pe||je)},je.\u0275cmp=e.Xpm({type:je,selectors:[["filter-date-range"]],viewQuery:function(pe,be){if(1&pe&&e.Gf(Q,5),2&pe){let Ce;e.iGM(Ce=e.CRH())&&(be.startDateInputEl=Ce.first)}},inputs:{values:"values",name:"name"},outputs:{valuesChange:"valuesChange"},features:[e.TTD],decls:3,vars:3,consts:[[3,"value","change"],[3,"value",4,"ngFor","ngForOf"],["class","custom-inputs",4,"ngIf"],[3,"value"],[1,"custom-inputs"],[1,"layout-row","layout-align-center-center"],["appearance","outline",1,"flex","cb-form-field-outlined"],["matInput","","type","text",3,"name","placeholder","value","change"],["startDateInput",""],[1,"cb-margin-small-horizontal"],[1,"format-explanation"]],template:function(pe,be){1&pe&&(e.TgZ(0,"mat-radio-group",0),e.NdJ("change",function(de){return be.onSelectedRangeChange(de.value)}),e.YNc(1,$,3,4,"mat-radio-button",1),e.qZA(),e.YNc(2,W,14,13,"div",2)),2&pe&&(e.Q6J("value",be.selectedRange),e.xp6(1),e.Q6J("ngForOf",be.dateRanges),e.xp6(1),e.Q6J("ngIf",be.selectedRange===be.customRange))},directives:[b.VQ,g.sg,b.U0,g.O5,r.KE,o.Nt],pipes:[B.X],styles:["mat-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}mat-radio-button[_ngcontent-%COMP%]{margin:2px 0}.custom-inputs[_ngcontent-%COMP%]{margin-top:8px}.format-explanation[_ngcontent-%COMP%]{margin-top:4px;margin-left:2px;color:#0000008a}"],changeDetection:0}),je})();const le=["customDateInput"];function J(je,ft){if(1&je&&(e.TgZ(0,"mat-radio-button",3),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&je){const pe=ft.$implicit;e.Q6J("value",pe),e.xp6(1),e.Oqu(e.lcZ(2,2,pe.labelKey))}}function u(je,ft){if(1&je){const pe=e.EpF();e.TgZ(0,"div",4)(1,"div",5)(2,"mat-form-field",6)(3,"input",7,8),e.NdJ("change",function(Ce){return e.CHM(pe),e.oxw().setCustomInput(Ce.target.value)}),e.ALo(5,"translate"),e.qZA()()(),e.TgZ(6,"div",9),e._uU(7),e.ALo(8,"translate"),e.qZA()()}if(2&je){const pe=e.oxw();e.xp6(3),e.Q6J("name",pe.name)("placeholder",e.lcZ(5,4,"CBL.ADVANCED_SEARCH.FILTER_DATE_RANGE.START_DATE"))("value",pe.customValues[0]||""),e.xp6(4),e.hij(" ",e.lcZ(8,6,"CBL.ADVANCED_SEARCH.FILTER_DATE_RANGE.FORMAT_EXPLANATION")," ")}}let D=(()=>{class je{constructor(){this.valuesChange=new e.vpe,this.customValues=[void 0],this.customBoundary={labelKey:"CBL.ADVANCED_SEARCH.FILTER_DATE_RANGE.CUSTOM_DATE",values:this.customValues},this.dateBoundaries=[{labelKey:"CBL.ADVANCED_SEARCH.FILTER_DATE_RANGE.PAST_30_DAYS",values:["30 days ago"]},{labelKey:"CBL.ADVANCED_SEARCH.FILTER_DATE_RANGE.PAST_60_DAYS",values:["60 days ago"]},{labelKey:"CBL.ADVANCED_SEARCH.FILTER_DATE_RANGE.PAST_90_DAYS",values:["90 days ago"]},{labelKey:"CBL.ADVANCED_SEARCH.FILTER_DATE_RANGE.PAST_YEAR",values:["a year ago"]},this.customBoundary]}ngOnChanges(pe){if(pe.values){if((0,V.isEqual)(this.getCurrentValues(),this.values))return;if(!this.values)return this.selectedBoundary=void 0,void(this.customValues[0]=void 0);const be=this.dateBoundaries.find(Ce=>(0,V.isEqual)(Ce.values,this.values));be?this.selectedBoundary=be:(this.selectedBoundary=this.customBoundary,this.customValues[0]=this.values[0])}}onSelectedBoundaryChange(pe){this.selectedBoundary=pe,this.emitValues(),pe===this.customBoundary&&setTimeout(()=>{this.customDateInputEl&&this.customDateInputEl.nativeElement.focus()},0)}setCustomInput(pe){pe=(pe||"").trim(),this.customValues[0]=pe||void 0,this.emitValues()}getCurrentValues(){const pe=this.selectedBoundary&&this.selectedBoundary.values;if(pe&&pe[0])return pe}emitValues(){this.valuesChange.emit(this.getCurrentValues())}}return je.\u0275fac=function(pe){return new(pe||je)},je.\u0275cmp=e.Xpm({type:je,selectors:[["filter-date-boundary"]],viewQuery:function(pe,be){if(1&pe&&e.Gf(le,5),2&pe){let Ce;e.iGM(Ce=e.CRH())&&(be.customDateInputEl=Ce.first)}},inputs:{values:"values",name:"name"},outputs:{valuesChange:"valuesChange"},features:[e.TTD],decls:3,vars:3,consts:[[3,"value","change"],[3,"value",4,"ngFor","ngForOf"],["class","custom-inputs",4,"ngIf"],[3,"value"],[1,"custom-inputs"],[1,"layout-row","layout-align-center-center"],["appearance","outline",1,"flex","cb-form-field-outlined"],["matInput","","type","text",3,"name","placeholder","value","change"],["customDateInput",""],[1,"format-explanation"]],template:function(pe,be){1&pe&&(e.TgZ(0,"mat-radio-group",0),e.NdJ("change",function(de){return be.onSelectedBoundaryChange(de.value)}),e.YNc(1,J,3,4,"mat-radio-button",1),e.qZA(),e.YNc(2,u,9,8,"div",2)),2&pe&&(e.Q6J("value",be.selectedBoundary),e.xp6(1),e.Q6J("ngForOf",be.dateBoundaries),e.xp6(1),e.Q6J("ngIf",be.selectedBoundary===be.customBoundary))},directives:[b.VQ,g.sg,b.U0,g.O5,r.KE,o.Nt],pipes:[B.X],styles:["mat-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}mat-radio-button[_ngcontent-%COMP%]{margin:2px 0}.custom-inputs[_ngcontent-%COMP%]{margin-top:8px}.format-explanation[_ngcontent-%COMP%]{margin-top:4px;margin-left:2px;color:#0000008a}"],changeDetection:0}),je})();var se=t(98916);function ne(je,ft){1&je&&e.GkF(0)}function _e(je,ft){1&je&&e.GkF(0)}function ee(je,ft){if(1&je&&e._UZ(0,"icon",7),2&je){const pe=e.oxw(2);e.Q6J("key",pe.prefixIconKey)}}const w=function(je){return{"with-prefix":je}};function G(je,ft){if(1&je){const pe=e.EpF();e.TgZ(0,"mat-form-field",4),e.YNc(1,ee,1,1,"icon",5),e.TgZ(2,"input",6),e.NdJ("change",function(Ce){const Ae=e.CHM(pe).index;return e.oxw().setInput(Ae,Ce.target.value)}),e.qZA()()}if(2&je){const pe=ft.name,be=ft.index,Ce=e.oxw();e.Q6J("ngClass",e.VKq(5,w,!!Ce.prefixIconKey)),e.xp6(1),e.Q6J("ngIf",Ce.prefixIconKey),e.xp6(1),e.Q6J("name",pe)("placeholder",Ce.placeholder)("value",Ce.getValue(be))}}const k=function(je){return{index:0,name:je}},X=function(je){return{index:1,name:je}};let K=(()=>{class je{constructor(){this.isPercentage=!1,this.precision=10,this.valuesChange=new e.vpe,this.converter=new se.u}ngOnChanges(pe){(pe.precision||pe.isPercentage)&&(this.converter=new se.u({precision:this.precision,isPercentage:this.isPercentage}))}getValue(pe){return this.converter.format(this.values&&this.values[pe])}setInput(pe,be){let Ce=this.values?[...this.values]:[void 0,void 0];Ce[pe]=be;let de=Ce.map(Ae=>this.converter.parse(Ae));null==de[0]&&null==de[1]&&(de=void 0),this.valuesChange.emit(de)}}return je.\u0275fac=function(pe){return new(pe||je)},je.\u0275cmp=e.Xpm({type:je,selectors:[["filter-num-range"]],inputs:{values:"values",name:"name",placeholder:"placeholder",isPercentage:"isPercentage",precision:"precision",prefixIconKey:"prefixIconKey"},outputs:{valuesChange:"valuesChange"},features:[e.TTD],decls:7,vars:8,consts:[[1,"layout-row","layout-align-center-center"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cb-margin-small-horizontal"],["field",""],["appearance","outline",1,"flex","cb-form-field-outlined",3,"ngClass"],["matPrefix","",3,"key",4,"ngIf"],["matInput","",3,"name","placeholder","value","change"],["matPrefix","",3,"key"]],template:function(pe,be){if(1&pe&&(e.TgZ(0,"div",0),e.YNc(1,ne,1,0,"ng-container",1),e.TgZ(2,"span",2),e._uU(3," \u2014 "),e.qZA(),e.YNc(4,_e,1,0,"ng-container",1),e.qZA(),e.YNc(5,G,3,7,"ng-template",null,3,e.W1O)),2&pe){const Ce=e.MAs(6);e.xp6(1),e.Q6J("ngTemplateOutlet",Ce)("ngTemplateOutletContext",e.VKq(4,k,be.name+"_min")),e.xp6(3),e.Q6J("ngTemplateOutlet",Ce)("ngTemplateOutletContext",e.VKq(6,X,be.name+"_max"))}},directives:[g.tP,r.KE,g.mk,g.O5,f.o,r.qo,o.Nt],styles:[".with-prefix[_ngcontent-%COMP%]     .mat-form-field-flex{padding-left:4px}"],changeDetection:0}),je})();var te=t(23580),Ie=t(61534);function Te(je,ft){if(1&je){const pe=e.EpF();e.TgZ(0,"div")(1,"mat-checkbox",2),e.NdJ("change",function(Ce){const Ae=e.CHM(pe).index;return e.oxw().onCheckboxChange(Ae,Ce.checked)}),e.TgZ(2,"span",3),e._uU(3),e.qZA()()()}if(2&je){const pe=ft.$implicit;e.xp6(1),e.Q6J("value",pe.value)("checked",pe.checked),e.xp6(2),e.Oqu(pe.label)}}function ce(je,ft){1&je&&(e.ynx(0),e._UZ(1,"icon",6),e._uU(2),e.ALo(3,"translate"),e.BQk()),2&je&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"CBL.ADVANCED_SEARCH.FILTER_ENUM_LIST.MORE")," "))}function Re(je,ft){1&je&&(e.ynx(0),e._UZ(1,"icon",7),e._uU(2),e.ALo(3,"translate"),e.BQk()),2&je&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"CBL.ADVANCED_SEARCH.FILTER_ENUM_LIST.LESS")," "))}function fe(je,ft){if(1&je){const pe=e.EpF();e.TgZ(0,"button",4),e.NdJ("click",function(){return e.CHM(pe),e.oxw().toggle()}),e.YNc(1,ce,4,3,"ng-container",5),e.YNc(2,Re,4,3,"ng-container",5),e.qZA()}if(2&je){const pe=e.oxw();e.Q6J("disabled",pe.isToggleDisabled),e.xp6(1),e.Q6J("ngIf",!pe.isExpanded),e.xp6(1),e.Q6J("ngIf",pe.isExpanded)}}let ye=(()=>{class je{constructor(){this.valuesChange=new e.vpe,this.listToggled=new e.vpe,this.isExpanded=!1,this.isToggleDisabled=!1,this.shouldShowToggle=!1}ngOnChanges(){this.updateDerivedProperties()}onCheckboxChange(pe,be){const Ce=Object.assign(Object.assign({},this.uiItems[pe]),{checked:be}),de=[...this.uiItems];de.splice(pe,1,Ce),this.uiItems=de;let Ae=de.filter(({checked:ct})=>ct).map(({value:ct})=>ct);Ae.length||(Ae=void 0),this.valuesChange.emit(Ae)}toggle(){this.isExpanded=!this.isExpanded,this.updateDerivedProperties(),this.listToggled.emit()}updateDerivedProperties(){const pe=this.makeSet(this.values),be=this.makeSet(this.suggestedValues),Ce=new Map(this.items.map(gt=>[gt.value,gt])),de=this.suggestedValues.map(gt=>Ce.get(gt)).filter(te.K),Ae=this.items.filter(gt=>!be.has(gt.value)).filter(gt=>this.isExpanded||pe.has(gt.value));this.uiItems=[...de,...Ae].map(gt=>Object.assign(Object.assign({},gt),{checked:pe.has(gt.value)}));const ct=this.uiItems.filter(({value:gt})=>be.has(gt)||pe.has(gt));this.isToggleDisabled=ct.length===this.items.length,this.shouldShowToggle=this.suggestedValues.length<this.items.length}makeSet(pe){return new Set(Array.isArray(pe)?pe:[])}}return je.\u0275fac=function(pe){return new(pe||je)},je.\u0275cmp=e.Xpm({type:je,selectors:[["filter-enum-list"]],inputs:{values:"values",items:"items",suggestedValues:"suggestedValues"},outputs:{valuesChange:"valuesChange",listToggled:"listToggled"},features:[e.TTD],decls:2,vars:2,consts:[[4,"ngFor","ngForOf"],["mat-button","",3,"disabled","click",4,"ngIf"],[3,"value","checked","change"],[1,"checkbox-label"],["mat-button","",3,"disabled","click"],[4,"ngIf"],["key","icon_plus"],["key","icon_remove"]],template:function(pe,be){1&pe&&(e.YNc(0,Te,4,3,"div",0),e.YNc(1,fe,3,3,"button",1)),2&pe&&(e.Q6J("ngForOf",be.uiItems),e.xp6(1),e.Q6J("ngIf",be.shouldShowToggle))},directives:[g.sg,Ie.oG,g.O5,c.lW,f.o],pipes:[B.X],styles:["button[_ngcontent-%COMP%]{padding-left:4px}.checkbox-label[_ngcontent-%COMP%]{white-space:normal}"],changeDetection:0}),je})();var Ge=t(49837),at=t(4092);function It(je,ft){if(1&je){const pe=e.EpF();e.TgZ(0,"ngx-slider",4),e.NdJ("valueChange",function(Ce){return e.CHM(pe),e.oxw().sliderMin=Ce})("highValueChange",function(Ce){return e.CHM(pe),e.oxw().sliderMax=Ce})("userChangeEnd",function(Ce){return e.CHM(pe),e.oxw().changeHandler(Ce)})("userChange",function(Ce){return e.CHM(pe),e.oxw().slideHandler(Ce)}),e.qZA()}if(2&je){const pe=e.oxw();e.Q6J("value",pe.sliderMin)("highValue",pe.sliderMax)("options",pe.sliderOptions)}}function Ue(je,ft){1&je&&(e.TgZ(0,"div",5),e._UZ(1,"div",6),e.qZA())}let we=(()=>{class je{constructor(pe){this.platformService=pe,this.valuesBounds={},this.possibleValues=[],this.valuesChange=new e.vpe,this.isServer=!1,this.sliderMin=0,this.sliderOptions={floor:0,ceil:0,animate:!1,pushRange:!0,hideLimitLabels:!0,hidePointerLabels:!0,vertical:!1}}ngOnInit(){this.platformService.isServer()&&(this.isServer=!0)}ngOnChanges(pe){this.valuesBounds=this.valuesBounds||{},this.valueArr=this.possibleValues.map(be=>{var Ce,de;return{min:null===(Ce=this.valuesBounds[be])||void 0===Ce?void 0:Ce.min_label,max:null===(de=this.valuesBounds[be])||void 0===de?void 0:de.max_label,value:be}}),pe.filterName&&(this.sliderOptions=Object.assign(Object.assign({},this.sliderOptions),{ariaLabel:$localize`Minimum ${this.filterName}`,ariaLabelHigh:$localize`Maximum ${this.filterName}`})),this.initSliderState()}changeHandler(pe){0===pe.value&&pe.highValue===this.possibleValues.length&&this.valuesChange.emit(void 0),(pe.value!==this.currentSearchRange.min||pe.highValue!==this.currentSearchRange.max)&&(this.currentSearchRange={min:pe.value,max:pe.highValue},this.valuesChange.emit(this.possibleValues.slice(pe.value,pe.highValue)))}slideHandler(pe){this.setValueDisplay(pe.value,pe.highValue)}setValueDisplay(pe,be){this.maxValue=this.valueArr[be-1].max,this.minValue=this.valueArr[pe].min}initSliderState(){let pe=0,be=this.possibleValues.length;if(this.sliderOptions.ceil=be,this.values){const de=this.values[this.values.length-1];pe=this.possibleValues.indexOf(this.values[0]),be=this.possibleValues.indexOf(de)+1}this.currentSearchRange={min:pe,max:be},this.setValueDisplay(pe,be),this.sliderMin=pe,this.sliderMax=be,this.inactive=pe===this.sliderOptions.floor&&be===this.sliderOptions.ceil}}return je.\u0275fac=function(pe){return new(pe||je)(e.Y36(Ge.m))},je.\u0275cmp=e.Xpm({type:je,selectors:[["filter-enum-range"]],inputs:{valuesBounds:"valuesBounds",possibleValues:"possibleValues",values:"values",filterName:"filterName"},outputs:{valuesChange:"valuesChange"},features:[e.TTD],decls:8,vars:6,consts:[[1,"slider-container"],[1,"value-display"],[3,"value","highValue","options","valueChange","highValueChange","userChangeEnd","userChange",4,"ngIf"],["class","slider-mock",4,"ngIf"],[3,"value","highValue","options","valueChange","highValueChange","userChangeEnd","userChange"],[1,"slider-mock"],[1,"slider-mock-bar"]],template:function(pe,be){1&pe&&(e.TgZ(0,"div",0)(1,"div",1)(2,"span"),e._uU(3),e.qZA(),e.TgZ(4,"span"),e._uU(5),e.qZA()(),e.YNc(6,It,1,3,"ngx-slider",2),e.YNc(7,Ue,2,0,"div",3),e.qZA()),2&pe&&(e.ekj("inactive",be.inactive),e.xp6(3),e.Oqu(be.minValue),e.xp6(2),e.Oqu(be.maxValue),e.xp6(1),e.Q6J("ngIf",!be.isServer),e.xp6(1),e.Q6J("ngIf",be.isServer))},directives:[g.O5,at.w5],styles:['ngx-slider[_ngcontent-%COMP%]{display:block;margin:8px 0 0;padding-bottom:8px}ngx-slider[_ngcontent-%COMP%]     .ngx-slider-bar{height:3px;background-color:#0000001f}ngx-slider[_ngcontent-%COMP%]     .ngx-slider-selection{background-color:#146aff}ngx-slider[_ngcontent-%COMP%]     .ngx-slider-pointer{width:15px;height:15px;top:-8px;border-radius:50%;border:2px solid #146aff;background-color:#fff;outline:none}ngx-slider[_ngcontent-%COMP%]     .ngx-slider-pointer:focus{background-color:#146aff}ngx-slider[_ngcontent-%COMP%]     .ngx-slider-pointer:after{content:none}.slider-mock[_ngcontent-%COMP%]{display:block;position:relative;height:4px;width:100%;margin:8px 0 20px}.slider-mock[_ngcontent-%COMP%]   .slider-mock-bar[_ngcontent-%COMP%]{height:3px;width:100%;background-color:#146aff}.slider-mock[_ngcontent-%COMP%]:after, .slider-mock[_ngcontent-%COMP%]:before{content:"";position:absolute;width:15px;height:15px;top:-8px;border-radius:50%;border:2px solid #146aff;background-color:#fff;outline:none}.slider-mock[_ngcontent-%COMP%]:after{left:0}.slider-mock[_ngcontent-%COMP%]:before{right:0}.value-display[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.slider-container[_ngcontent-%COMP%]{margin-top:8px;position:relative;width:100%}.slider-container.inactive[_ngcontent-%COMP%]   ngx-slider[_ngcontent-%COMP%]  .ngx-slider-selection{background-color:#000}.slider-container.inactive[_ngcontent-%COMP%]   ngx-slider[_ngcontent-%COMP%]  .ngx-slider-pointer{border-color:#000}.slider-container.inactive[_ngcontent-%COMP%]   ngx-slider[_ngcontent-%COMP%]  .ngx-slider-pointer:focus{background-color:#666}'],changeDetection:0}),je})(),De=(()=>{class je{constructor(){this.valuesChange=new e.vpe}ngOnChanges(){this.checked=!!this.values}onCheckboxChange(pe){this.valuesChange.emit(pe?this.valuesIfChecked:void 0)}}return je.\u0275fac=function(pe){return new(pe||je)},je.\u0275cmp=e.Xpm({type:je,selectors:[["filter-boolean"]],inputs:{values:"values",valuesIfChecked:"valuesIfChecked"},outputs:{valuesChange:"valuesChange"},features:[e.TTD],decls:3,vars:4,consts:[[3,"checked","change"]],template:function(pe,be){1&pe&&(e.TgZ(0,"mat-checkbox",0),e.NdJ("change",function(de){return be.onCheckboxChange(de.checked)}),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&pe&&(e.Q6J("checked",be.checked),e.xp6(1),e.hij(" ",e.lcZ(2,2,"CBL.ADVANCED_SEARCH.FILTER_BOOLEAN.CHECKBOX"),"\n"))},directives:[Ie.oG],pipes:[B.X],encapsulation:2,changeDetection:0}),je})();var ae=t(94882),Le=t(35560),Fe=t(72994);function dt(je,ft){if(1&je){const pe=e.EpF();e.TgZ(0,"chip",3),e.NdJ("remove",function(){e.CHM(pe);const Ce=e.oxw().index;return e.oxw().remove(Ce)}),e._uU(1),e.qZA()}if(2&je){const pe=ft.ngIf;e.Q6J("removable",!0),e.xp6(1),e.Oqu(pe)}}function Ye(je,ft){if(1&je&&(e.ynx(0),e.YNc(1,dt,2,2,"chip",2),e.BQk()),2&je){const pe=ft.$implicit,be=e.oxw();e.xp6(1),e.Q6J("ngIf",null==be.allLists[pe]?null:be.allLists[pe].name)}}let vt=(()=>{class je{constructor(pe,be,Ce){this.labelService=pe,this.listService=be,this.changeDetectorRef=Ce,this.valuesChange=new e.vpe,this.placeholder=this.labelService.getLabel("CBL.ADVANCED_SEARCH.FILTER_IN_LIST.PLACEHOLDER"),this.allLists={},this.onDestroy=new C.xQ,this.loadingLists=!1,this.getLists()}ngOnChanges(pe){if(pe.values)for(const be of this.values||[])if(!(be in this.allLists)){this.getLists();break}}ngOnDestroy(){this.onDestroy.next()}add(pe){this.changeValues([...this.values||[],pe.id])}remove(pe){if(!this.values)return;const be=[...this.values];be.splice(pe,1),this.changeValues(be)}getLists(){this.loadingLists||(this.loadingLists=!0,this.listService.getLists$(p.BW.ListTypeEnum.static).subscribe(pe=>{for(const be of pe)this.allLists[be.id]=be;this.loadingLists=!1,this.changeDetectorRef.markForCheck()}))}changeValues(pe){pe&&!pe.length&&(pe=void 0),this.valuesChange.emit(pe)}}return je.\u0275fac=function(pe){return new(pe||je)(e.Y36(ae.Q),e.Y36(Le.XN),e.Y36(e.sBO))},je.\u0275cmp=e.Xpm({type:je,selectors:[["filter-in-list"]],inputs:{values:"values"},outputs:{valuesChange:"valuesChange"},features:[e.TTD],decls:3,vars:3,consts:[["appearance","outline",3,"placeholder","excludedUuids","chosenList"],[4,"ngFor","ngForOf"],[3,"removable","remove",4,"ngIf"],[3,"removable","remove"]],template:function(pe,be){1&pe&&(e.TgZ(0,"list-input",0),e.NdJ("chosenList",function(de){return be.add(de)}),e.qZA(),e.TgZ(1,"chips-container"),e.YNc(2,Ye,2,1,"ng-container",1),e.qZA()),2&pe&&(e.Q6J("placeholder",be.placeholder)("excludedUuids",be.values),e.xp6(2),e.Q6J("ngForOf",be.values))},directives:[Fe.H,_.O,g.sg,g.O5,n.Y],styles:["list-input[_ngcontent-%COMP%]{display:block}"],changeDetection:0}),je})();function Je(je,ft){1&je&&e._UZ(0,"icon",14)}function Ke(je,ft){if(1&je){const pe=e.EpF();e.TgZ(0,"button",15),e.NdJ("click",function(){return e.CHM(pe),e.oxw().handleClearButton()}),e.ALo(1,"translate"),e._UZ(2,"icon",16),e.qZA()}2&je&&e.uIk("aria-label",e.lcZ(1,1,"CBL.COMMON.CLEAR"))}function Ne(je,ft){if(1&je){const pe=e.EpF();e.TgZ(0,"filter-multi-text",17),e.NdJ("valuesChange",function(Ce){return e.CHM(pe),e.oxw().handleValuesChange(Ce)}),e.qZA()}if(2&je){const pe=e.oxw();e.Q6J("values",pe.values)("placeholder",pe.placeholder)}}function ke(je,ft){if(1&je){const pe=e.EpF();e.TgZ(0,"filter-identifier-no-suggestions",18),e.NdJ("valuesChange",function(Ce){return e.CHM(pe),e.oxw().handleValuesChange(Ce)}),e.qZA()}if(2&je){const pe=e.oxw();e.Q6J("collectionIds",null==pe.field.values?null:pe.field.values.collection_ids)("values",pe.values)("placeholder",pe.placeholder)}}function He(je,ft){if(1&je){const pe=e.EpF();e.TgZ(0,"filter-identifier-no-suggestions",18),e.NdJ("valuesChange",function(Ce){return e.CHM(pe),e.oxw().handleValuesChange(Ce)}),e.qZA()}if(2&je){const pe=e.oxw();e.Q6J("collectionIds",null==pe.field.values?null:pe.field.values.collection_ids)("values",pe.values)("placeholder",pe.placeholder)}}function nt(je,ft){if(1&je){const pe=e.EpF();e.TgZ(0,"filter-date-range",19),e.NdJ("valuesChange",function(Ce){return e.CHM(pe),e.oxw().handleValuesChange(Ce)}),e.qZA()}if(2&je){const pe=e.oxw();e.Q6J("name",pe.field.id)("values",pe.values)}}function Et(je,ft){if(1&je){const pe=e.EpF();e.TgZ(0,"filter-date-boundary",19),e.NdJ("valuesChange",function(Ce){return e.CHM(pe),e.oxw().handleValuesChange(Ce)}),e.qZA()}if(2&je){const pe=e.oxw();e.Q6J("name",pe.field.id)("values",pe.values)}}function rt(je,ft){if(1&je){const pe=e.EpF();e.TgZ(0,"filter-num-range",20),e.NdJ("valuesChange",function(Ce){return e.CHM(pe),e.oxw().handleValuesChange(Ce)}),e.qZA()}if(2&je){const pe=e.oxw();e.Q6J("name",pe.field.id)("values",pe.values)("prefixIconKey",pe.isMoneyField()?"icon_currency_usd":void 0)("placeholder",pe.placeholder)}}function Dt(je,ft){if(1&je){const pe=e.EpF();e.TgZ(0,"filter-enum-list",21),e.NdJ("valuesChange",function(Ce){return e.CHM(pe),e.oxw().handleValuesChange(Ce)})("listToggled",function(){return e.CHM(pe),e.oxw().scrollIntoView()}),e.qZA()}if(2&je){const pe=e.oxw();e.Q6J("items",pe.enumItems)("suggestedValues",pe.asEnumListModel(pe.filterModel).suggested_values)("values",pe.values)}}function Lt(je,ft){if(1&je){const pe=e.EpF();e.TgZ(0,"filter-enum-range",22),e.NdJ("valuesChange",function(Ce){return e.CHM(pe),e.oxw().handleValuesChange(Ce)}),e.qZA()}if(2&je){const pe=e.oxw();e.Q6J("values",pe.values)("possibleValues",pe.possibleValues)("valuesBounds",pe.valuesBounds)("filterName",pe.filterModel.labels.name)}}function Ut(je,ft){if(1&je){const pe=e.EpF();e.TgZ(0,"filter-boolean",23),e.NdJ("valuesChange",function(Ce){return e.CHM(pe),e.oxw().handleValuesChange(Ce)}),e.qZA()}if(2&je){const pe=e.oxw();e.Q6J("values",pe.values)("valuesIfChecked",pe.booleanFilterValue)}}function Yt(je,ft){if(1&je){const pe=e.EpF();e.TgZ(0,"filter-in-list",24),e.NdJ("valuesChange",function(Ce){return e.CHM(pe),e.oxw().handleValuesChange(Ce)}),e.qZA()}if(2&je){const pe=e.oxw();e.Q6J("values",pe.values)}}function $t(je,ft){1&je&&e.GkF(0)}let un=(()=>{class je{constructor(pe,be){this.elementRef=pe,this.scrollService=be,this.valuesChange=new e.vpe,this.clear=new e.vpe,this.scrollTopMargin=0,this.enumItems=[],this.FilterTypeEnum=p.Tq.FilterTypeEnum}ngOnChanges(pe){var be,Ce;(pe.field||pe.filterModel)&&(this.placeholder=this.filterModel.labels.placeholder||(null===(Ce=null===(be=this.field)||void 0===be?void 0:be.labels)||void 0===Ce?void 0:Ce.placeholder)||"",this.updateEnumItems(),this.updateEnumRangeItems(),this.updateBooleanFilterValue())}handleValuesChange(pe){this.valuesChange.emit(pe)}handleClearButton(){this.clear.emit()}asEnumListModel(pe){return pe}isMoneyField(){return this.field.type_id===l.ul.FieldTypes.money||this.field.type_id===l.ul.FieldTypes.money_decimal}filterIsNew(pe){return(0,i.k)(pe)}scrollIntoView(){setTimeout(()=>{this.scrollService.scrollToElementInContainer(this.elementRef.nativeElement,{block:"start",topMargin:this.scrollTopMargin+10})})}updateEnumItems(){if(this.filterModel.filter_type!==p.Tq.FilterTypeEnum.enum_list)return void(this.enumItems=[]);const pe=this.field.labels&&this.field.labels.values||{};this.enumItems=(this.field.values&&this.field.values.list||[]).map(Ce=>({value:Ce,label:pe[Ce]||Ce}))}updateEnumRangeItems(){var pe,be;if(this.filterModel.filter_type!==p.Tq.FilterTypeEnum.enum_range)return;const Ce=this.field;(null===(pe=Ce.labels)||void 0===pe?void 0:pe.values_bounds)&&(this.valuesBounds=Ce.labels.values_bounds),(null===(be=Ce.values)||void 0===be?void 0:be.list)&&(this.possibleValues=Ce.values.list)}updateBooleanFilterValue(){if(this.filterModel.filter_type!==p.Tq.FilterTypeEnum.boolean)return;let pe=this.filterModel.query_template;for(;(0,y.m)(pe);)pe=pe.query[0];!(0,y.i)(pe)||(this.booleanFilterValue=pe.values)}}return je.\u0275fac=function(pe){return new(pe||je)(e.Y36(e.SBq),e.Y36(d.a))},je.\u0275cmp=e.Xpm({type:je,selectors:[["advanced-filter"]],inputs:{filterModel:"filterModel",field:"field",values:"values",advancedSearchFilter:"advancedSearchFilter",scrollTopMargin:"scrollTopMargin"},outputs:{valuesChange:"valuesChange",clear:"clear"},features:[e.TTD],decls:18,vars:15,consts:[[1,"filter-header"],["class","filter-new-icon","size","xxlarge","key","icon_new","color","primary",4,"ngIf"],["key","icon_info_outline","size","text","color","info","matTooltipShowDelay","500",1,"filter-description-icon",3,"matTooltip"],["mat-icon-button","","class","clear-filter-button",3,"click",4,"ngIf"],[3,"ngSwitch"],[3,"values","placeholder","valuesChange",4,"ngSwitchCase"],[3,"collectionIds","values","placeholder","valuesChange",4,"ngSwitchCase"],[3,"name","values","valuesChange",4,"ngSwitchCase"],[3,"name","values","prefixIconKey","placeholder","valuesChange",4,"ngSwitchCase"],[3,"items","suggestedValues","values","valuesChange","listToggled",4,"ngSwitchCase"],[3,"values","possibleValues","valuesBounds","filterName","valuesChange",4,"ngSwitchCase"],[3,"values","valuesIfChecked","valuesChange",4,"ngSwitchCase"],[3,"values","valuesChange",4,"ngSwitchCase"],[4,"ngSwitchDefault"],["size","xxlarge","key","icon_new","color","primary",1,"filter-new-icon"],["mat-icon-button","",1,"clear-filter-button",3,"click"],["key","icon_close","size","large","color","primary"],[3,"values","placeholder","valuesChange"],[3,"collectionIds","values","placeholder","valuesChange"],[3,"name","values","valuesChange"],[3,"name","values","prefixIconKey","placeholder","valuesChange"],[3,"items","suggestedValues","values","valuesChange","listToggled"],[3,"values","possibleValues","valuesBounds","filterName","valuesChange"],[3,"values","valuesIfChecked","valuesChange"],[3,"values","valuesChange"]],template:function(pe,be){1&pe&&(e.TgZ(0,"div",0)(1,"h4"),e._uU(2),e.qZA(),e.YNc(3,Je,1,0,"icon",1),e._UZ(4,"icon",2),e.YNc(5,Ke,3,3,"button",3),e.qZA(),e.ynx(6,4),e.YNc(7,Ne,1,2,"filter-multi-text",5),e.YNc(8,ke,1,3,"filter-identifier-no-suggestions",6),e.YNc(9,He,1,3,"filter-identifier-no-suggestions",6),e.YNc(10,nt,1,2,"filter-date-range",7),e.YNc(11,Et,1,2,"filter-date-boundary",7),e.YNc(12,rt,1,4,"filter-num-range",8),e.YNc(13,Dt,1,3,"filter-enum-list",9),e.YNc(14,Lt,1,4,"filter-enum-range",10),e.YNc(15,Ut,1,2,"filter-boolean",11),e.YNc(16,Yt,1,1,"filter-in-list",12),e.YNc(17,$t,1,0,"ng-container",13),e.BQk()),2&pe&&(e.xp6(2),e.hij(" ",null==be.filterModel.labels?null:be.filterModel.labels.name," "),e.xp6(1),e.Q6J("ngIf",be.filterIsNew(be.filterModel)),e.xp6(1),e.Q6J("matTooltip",be.filterModel.labels.description||(null==be.field.labels?null:be.field.labels.description)||""),e.xp6(1),e.Q6J("ngIf",void 0!==be.values),e.xp6(1),e.Q6J("ngSwitch",be.filterModel.filter_type),e.xp6(1),e.Q6J("ngSwitchCase",be.FilterTypeEnum.multi_text_contains),e.xp6(1),e.Q6J("ngSwitchCase",be.FilterTypeEnum.identifier_no_suggestions),e.xp6(1),e.Q6J("ngSwitchCase",be.FilterTypeEnum.identifier_with_suggestions),e.xp6(1),e.Q6J("ngSwitchCase",be.FilterTypeEnum.date_between),e.xp6(1),e.Q6J("ngSwitchCase",be.FilterTypeEnum.date_boundary),e.xp6(1),e.Q6J("ngSwitchCase",be.FilterTypeEnum.number_between),e.xp6(1),e.Q6J("ngSwitchCase",be.FilterTypeEnum.enum_list),e.xp6(1),e.Q6J("ngSwitchCase",be.FilterTypeEnum.enum_range),e.xp6(1),e.Q6J("ngSwitchCase",be.FilterTypeEnum.boolean),e.xp6(1),e.Q6J("ngSwitchCase",be.FilterTypeEnum.in_list))},directives:[g.O5,f.o,a.gM,c.lW,g.RF,g.n9,h,H,q,D,K,ye,we,De,vt,g.ED],pipes:[B.X],styles:["@media (min-width: 960px){[_nghost-%COMP%]:not(:hover)   .filter-description-icon[_ngcontent-%COMP%]{visibility:hidden}}[_nghost-%COMP%]     .mat-form-field, [_nghost-%COMP%]     .mat-radio-outer-circle, [_nghost-%COMP%]     .mat-checkbox-inner-container{background-color:#fff}.filter-header[_ngcontent-%COMP%]{display:flex;align-items:center}h4[_ngcontent-%COMP%]{font-weight:500}input[type=text][_ngcontent-%COMP%]{width:100%;font-size:16px;line-height:1.5em}.filter-new-icon[_ngcontent-%COMP%]{margin-left:4px;position:relative;top:-.4em}.filter-description-icon[_ngcontent-%COMP%]{margin-left:4px}.clear-filter-button[_ngcontent-%COMP%]{margin:-8px -8px -8px auto}"],changeDetection:0}),je})()},40831:(oe,L,t)=>{t.d(L,{Ib:()=>V,Dy:()=>H});var e=t(36362),i=t(90898),p=t(90587),l=t(45857),y=t(35503),d=t(65852),g=t(89250),f=t(32519),a=t(75012),c=t(33706),r=t(5076),o=t(31156),_=t(3184),n=t(72622),C=(t(57806),t(22662),t(3173),t(92218)),S=t(85921),I=t(16276),T=t(2384),N=t(7323),x=t(95758),s=t(73729),E=t(74929);let H=(()=>{class b extends T.V{constructor(Q,$){super(),this.dialogRef=Q,this.userService=$,this.onDestroy=new C.xQ}ngOnInit(){this.userService.getSessionChangeObservable().pipe((0,S.R)(this.onDestroy)).pipe((0,I.T)(1)).subscribe(Q=>Q&&this.dialogRef.close(Q))}ngOnDestroy(){this.onDestroy.next()}}return b.\u0275fac=function(Q){return new(Q||b)(_.Y36(x.so),_.Y36(N.KD))},b.\u0275cmp=_.Xpm({type:b,selectors:[["ng-component"]],features:[_.qOj],decls:4,vars:4,consts:[[3,"fullBleed","title"],["dialog-content",""]],template:function(Q,$){1&Q&&(_.TgZ(0,"dialog-layout",0),_.ALo(1,"translate"),_.TgZ(2,"div",1),_._UZ(3,"login"),_.qZA()()),2&Q&&_.Q6J("fullBleed",!0)("title",_.lcZ(1,2,"CBL.LOGIN.LOGIN"))},directives:[s.I,n.G],pipes:[E.X],encapsulation:2}),b})(),V=(()=>{class b{}return b.\u0275fac=function(Q){return new(Q||b)},b.\u0275mod=_.oAB({type:b}),b.\u0275inj=_.cJS({imports:[[e.ez,i.q,p.u5,p.UX,a.M,l.Bz,y.Dt,d.C,g.S,f.n,c.T,r.V,o.H]]}),b})()},22662:(oe,L,t)=>{t.d(L,{s:()=>f});var e=t(3184),i=t(45857),p=t(11961),l=t(12379),y=t(72622),d=t(57806),g=t(74929);let f=(()=>{class a{constructor(r){this.router=r}ngOnInit(){this.tab=this.tab||0}handleSelectedIndexChange(r){let o;o=0===r?"login":"register",this.router.navigate([`/${o}`],{replaceUrl:!0})}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(i.F0))},a.\u0275cmp=e.Xpm({type:a,selectors:[["authentication"]],inputs:{tab:"tab",email:"email"},decls:8,vars:8,consts:[["dynamicHeight","",3,"selectedIndex","selectedIndexChange"],[3,"label"],[3,"email"]],template:function(r,o){1&r&&(e.TgZ(0,"mat-card")(1,"mat-tab-group",0),e.NdJ("selectedIndexChange",function(n){return o.handleSelectedIndexChange(n)}),e.TgZ(2,"mat-tab",1),e.ALo(3,"translate"),e._UZ(4,"login"),e.qZA(),e.TgZ(5,"mat-tab",1),e.ALo(6,"translate"),e._UZ(7,"register",2),e.qZA()()()),2&r&&(e.xp6(1),e.Q6J("selectedIndex",o.tab),e.xp6(1),e.Q6J("label",e.lcZ(3,4,"CBL.LOGIN.LOGIN")),e.xp6(3),e.Q6J("label",e.lcZ(6,6,"CBL.LOGIN.REGISTER")),e.xp6(2),e.Q6J("email",o.email))},directives:[p.a8,l.SP,l.uX,y.G,d.y],pipes:[g.X],styles:["[_nghost-%COMP%]{display:block}mat-card[_ngcontent-%COMP%]{padding:0}[_nghost-%COMP%]  .mat-tab-label{text-transform:uppercase}"]}),a})()},72622:(oe,L,t)=>{t.d(L,{G:()=>S});var e=t(93443),i=t(94882),p=t(14296),l=t(7323),y=t(85853),d=t(2384),g=t(58288),f=t(3184),a=t(45857),c=t(90587),r=t(44770),o=t(43365),_=t(59543),n=t(29847),m=t(50450),v=t(87317),h=t(3173),C=t(74929);let S=(()=>{class I{constructor(N,x,s,E,H,V){this.userService=N,this.progressService=x,this.dialogService=s,this.errorService=E,this.labelService=H,this.router=V}login(){this.progressService.startProgress("login"),this.userService.login({email:this.email,password:this.password}).then(this.handleLoginSuccess.bind(this),this.handleLoginFailure.bind(this))}forgotPassword(N){this.dialogService.showDialog(g.oZ)}oauth(N){this.progressService.startProgress("oauth-login"),this.userService.initiateSocialAuthLogin(N,!1).then(null,x=>this.handleOAuthErrors(x,N)).then(()=>{this.progressService.stopProgress("oauth-login")})}handleOAuthErrors(N,x){var s,E,H,V;if((null===(E=null===(s=null==N?void 0:N.errors)||void 0===s?void 0:s[0])||void 0===E?void 0:E.code)===e.ch.CodeEnum.US803)return this.promptForRegistration(x);(null===(V=null===(H=null==N?void 0:N.errors)||void 0===H?void 0:H[0])||void 0===V?void 0:V.code)===e.ch.CodeEnum.US808&&this.dialogService.showDialog(g.ah),this.errorService.showToast(N,"CBL.COMMON.FAILURE")}handleLoginSuccess(N){this.progressService.stopProgress("login")}handleLoginFailure(N){this.progressService.stopProgress("login"),((null==N?void 0:N.errors)||[]).some(s=>s.code===e.ch.CodeEnum.US808)?this.dialogService.showConfirmation(this.labelService.getLabel("CBL.LOGIN.USE_SSO_DIALOG.TITLE"),$localize`Single sign-on is enabled for your account. You must log in with single sign-on.`,this.labelService.getLabel("CBL.LOGIN.USE_SSO_DIALOG.OK")).then(s=>{s&&this.router.navigate(["login","sso"],{state:{email:this.email},queryParamsHandling:"preserve"})}):this.loginError=N}promptForRegistration(N){this.dialogService.showConfirmation($localize`Log in error`,$localize`It looks like we don't have a Crunchbase account associated to the social network you're trying to log in with. Would you like to create one now?`,$localize`Create New Crunchbase Account`,$localize`Cancel`).then(x=>{x&&(this.progressService.startProgress("oauth-login"),this.userService.continueWithSocialAuthRegistration(N).then(()=>{this.progressService.stopProgress("oauth-login")}))},()=>{})}}return I.\u0275fac=function(N){return new(N||I)(f.Y36(l.KD),f.Y36(y.N),f.Y36(d.x),f.Y36(p.T),f.Y36(i.Q),f.Y36(a.F0))},I.\u0275cmp=f.Xpm({type:I,selectors:[["login"]],decls:35,vars:33,consts:[[3,"ngSubmit"],["loginForm","ngForm"],["matInput","","required","","autocomplete","email","type","email","name","email",3,"serverError","placeholder","ngModel","ngModelChange"],["loginEmailInput","ngModel"],["label","CBL.COMMON.REQUIRED",3,"error","isTouched"],["label","CBL.USER_DETAILS.EMAIL_INVALID",3,"error"],["fieldName","email",3,"error"],["matInput","","required","","autocomplete","current-password","type","password","name","password",3,"serverError","placeholder","ngModel","ngModelChange"],["loginPasswordInput","ngModel"],["label","CBL.CHANGE_PASSWORD.INVALID",3,"error"],["fieldName","password",3,"error"],[1,"errors"],[3,"error"],["mat-raised-button","","color","primary","type","submit",1,"login",3,"disabled"],[1,"or"],[3,"isLogin","socialClick"],[1,"footer"],["type","button","mat-button","","routerLink","/login/sso","queryParamsHandling","preserve"],["type","button","mat-button","",3,"click"]],template:function(N,x){if(1&N&&(f.TgZ(0,"form",0,1),f.NdJ("ngSubmit",function(){return x.login()}),f.TgZ(2,"mat-form-field")(3,"input",2,3),f.NdJ("ngModelChange",function(E){return x.email=E}),f.ALo(5,"translate"),f.qZA(),f.TgZ(6,"mat-error"),f._UZ(7,"form-error",4)(8,"form-error",5)(9,"server-error",6),f.qZA()(),f.TgZ(10,"mat-form-field")(11,"input",7,8),f.NdJ("ngModelChange",function(E){return x.password=E}),f.ALo(13,"translate"),f.qZA(),f.TgZ(14,"mat-error"),f._UZ(15,"form-error",4)(16,"form-error",9)(17,"server-error",10),f.qZA()(),f.TgZ(18,"div",11),f._UZ(19,"server-error",12),f.qZA(),f.TgZ(20,"button",13),f._uU(21),f.ALo(22,"translate"),f.qZA()(),f.TgZ(23,"div",14)(24,"span"),f._uU(25),f.ALo(26,"translate"),f.qZA()(),f.TgZ(27,"social-buttons",15),f.NdJ("socialClick",function(E){return x.oauth(E)}),f.qZA(),f.TgZ(28,"div",16)(29,"a",17),f._uU(30),f.ALo(31,"translate"),f.qZA(),f.TgZ(32,"button",18),f.NdJ("click",function(E){return x.forgotPassword(E)}),f._uU(33),f.ALo(34,"translate"),f.qZA()()),2&N){const s=f.MAs(1),E=f.MAs(4),H=f.MAs(12);f.xp6(3),f.Q6J("serverError",x.loginError)("placeholder",f.lcZ(5,21,"CBL.COMMON.EMAIL"))("ngModel",x.email),f.xp6(4),f.Q6J("error",null==s.controls.email||null==s.controls.email.errors?null:s.controls.email.errors.required)("isTouched",E.touched),f.xp6(1),f.Q6J("error",null==s.controls.email||null==s.controls.email.errors?null:s.controls.email.errors.email),f.xp6(1),f.Q6J("error",x.loginError),f.xp6(2),f.Q6J("serverError",x.loginError)("placeholder",f.lcZ(13,23,"CBL.LOGIN.PASSWORD"))("ngModel",x.password),f.xp6(4),f.Q6J("error",null==s.controls.password||null==s.controls.password.errors?null:s.controls.password.errors.required)("isTouched",H.touched),f.xp6(1),f.Q6J("error",null==s.controls.password||null==s.controls.password.errors?null:s.controls.password.errors.password),f.xp6(1),f.Q6J("error",x.loginError),f.xp6(2),f.Q6J("error",x.loginError),f.xp6(1),f.Q6J("disabled",!s.form.valid),f.xp6(1),f.hij(" ",f.lcZ(22,25,"CBL.LOGIN.LOGIN")," "),f.xp6(4),f.Oqu(f.lcZ(26,27,"CBL.COMMON.OR")),f.xp6(2),f.Q6J("isLogin",!0),f.xp6(3),f.hij(" ",f.lcZ(31,29,"CBL.LOGIN.SSO_LOGIN")," "),f.xp6(3),f.hij(" ",f.lcZ(34,31,"CBL.LOGIN.FORGOT_PASSWORD")," ")}},directives:[c._Y,c.JL,c.F,r.KE,o.Nt,c.Fj,c.Q7,_._,c.JJ,c.On,r.TO,n.A,m.k,v.lW,h.c,v.zs,a.yS],pipes:[C.X],styles:['[_nghost-%COMP%]{display:block;text-align:center}form[_ngcontent-%COMP%]{margin:20px}.or[_ngcontent-%COMP%]{position:relative;margin:32px 16px 16px}.or[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;right:0;top:50%;border-top:1px solid rgba(0,0,0,.12)}.or[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;line-height:20px;color:#666;letter-spacing:.4px;font-weight:500;font-family:Roboto,Arial,sans-serif;text-transform:uppercase;background-color:#fff;padding:0 20px;position:relative}mat-form-field[_ngcontent-%COMP%]{margin-top:8px;margin-bottom:8px;width:100%}.errors[_ngcontent-%COMP%]{margin:8px 0}.login[_ngcontent-%COMP%]{width:100%}.footer[_ngcontent-%COMP%]{margin-top:32px;padding:8px;border-top:1px solid rgba(0,0,0,.12)}.footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{letter-spacing:unset;text-transform:unset}']}),I})()},57806:(oe,L,t)=>{t.d(L,{y:()=>I});var e=t(13074),i=t(14296),p=t(7323),l=t(46179),y=t(85853),d=t(90587),g=t(3184),f=t(3173),a=t(44770),c=t(43365),r=t(59543),o=t(29847),_=t(50450),n=t(54749),m=t(7856),v=t(36362),h=t(87317),C=t(74929);function S(T,N){if(1&T&&g._UZ(0,"server-error",24),2&T){const x=g.oxw();g.Q6J("error",x.registerError)}}let I=(()=>{class T{constructor(x,s,E,H,V,b){this.userService=x,this.toastService=s,this.progressService=E,this.errorService=H,this.urlService=V,this.formBuilder=b,this.displayGenericError=!1}ngOnInit(){this.form=this.formBuilder.group({email:new d.NI(this.email,d.kI.required),first_name:new d.NI(void 0,d.kI.required),last_name:new d.NI(void 0,d.kI.required),password:new d.NI})}register(){this.progressService.startProgress("register");const{email:x,first_name:s,last_name:E,password:H}=this.form.value;this.userService.register({email:x,first_name:s,last_name:E,password:H.newPassword}).then(this.handleRegisterSuccess.bind(this),this.handleRegisterFailure.bind(this))}oauth(x){this.progressService.startProgress("oauth-login"),this.userService.initiateSocialAuthLogin(x,!0).then(null,s=>this.handleOAuthErrors(s,x)).then(()=>{this.progressService.stopProgress("oauth-login")})}getTermsOfServiceUrl(){return this.urlService.getTermsOfServiceUrl()}getPrivacyPolicyUrl(){return this.urlService.getPrivacyPolicyUrl()}handleOAuthErrors(x,s){this.errorService.showToast(x,"CBL.COMMON.FAILURE")}handleRegisterSuccess(x){this.progressService.stopProgress("register"),this.toastService.showSimpleToast("CBL.LOGIN.REGISTERED")}handleRegisterFailure(x){this.progressService.stopProgress("register"),this.registerError=x,this.displayGenericError=!(x.errors&&x.errors.find(s=>!!s.field))}}return T.\u0275fac=function(x){return new(x||T)(g.Y36(p.KD),g.Y36(l.k),g.Y36(y.N),g.Y36(i.T),g.Y36(e.iO),g.Y36(d.qu))},T.\u0275cmp=g.Xpm({type:T,selectors:[["register"]],inputs:{email:"email"},decls:55,vars:58,consts:[[1,"cb-text-align-center","cb-margin-large-bottom"],[1,"cb-font-weight-bold","cb-font-size-medium","cb-margin-medium-bottom"],[3,"isLogin","socialClick"],[1,"cb-margin-large-vertical","layout-row","layout-align-center-center"],[1,"flex-50","layout-row","layout-align-center-center"],[1,"cb-border-bottom","cb-border-color-divider","flex-grow"],[1,"cb-font-weight-bold","cb-text-color-medium","cb-text-transform-upper","cb-padding-large-horizontal","flex-none"],[1,"cb-font-weight-bold","cb-font-size-medium"],[3,"formGroup","ngSubmit"],["matInput","","formControlName","email","required","","autocomplete","email","type","email","name","email",3,"serverError","placeholder"],["label","CBL.COMMON.REQUIRED",3,"error","isTouched"],["label","CBL.USER_DETAILS.EMAIL_INVALID",3,"error"],["fieldName","email",3,"error"],["matInput","","required","","autocomplete","given-name","formControlName","first_name","validName","","type","text","name","first_name",3,"serverError","placeholder"],["label","CBL.USER_DETAILS.NAME_INVALID",3,"error"],["fieldName","first_name",3,"error"],["matInput","","autocomplete","family-name","formControlName","last_name","required","","validName","","type","text","name","last_name",3,"placeholder"],["fieldName","last_name",3,"error"],["formControlName","password",3,"apiError","disableConfirmation"],[3,"error",4,"ngIf"],[1,"cb-margin-xlarge-top","layout-column","layout-gt-sm-row","layout-align-gt-sm-start-center"],["mat-raised-button","","color","primary","type","submit","data-cy","register",1,"flex-none",3,"disabled"],[1,"cb-font-size-small","cb-text-color-medium","cb-margin-medium"],["target","_blank",1,"link-primary",3,"href"],[3,"error"]],template:function(x,s){1&x&&(g.TgZ(0,"div",0)(1,"h2",1),g._uU(2),g.ALo(3,"translate"),g.qZA(),g.TgZ(4,"social-buttons",2),g.NdJ("socialClick",function(H){return s.oauth(H)}),g.qZA(),g.TgZ(5,"div",3)(6,"div",4),g._UZ(7,"div",5),g.TgZ(8,"span",6),g._uU(9),g.ALo(10,"translate"),g.qZA(),g._UZ(11,"div",5),g.qZA()(),g.TgZ(12,"h2",7),g._uU(13),g.ALo(14,"translate"),g.qZA()(),g.TgZ(15,"form",8),g.NdJ("ngSubmit",function(){return s.register()}),g.TgZ(16,"mat-form-field"),g._UZ(17,"input",9),g.ALo(18,"translate"),g.TgZ(19,"mat-error"),g._UZ(20,"form-error",10)(21,"form-error",11)(22,"server-error",12),g.qZA()(),g.TgZ(23,"mat-form-field"),g._UZ(24,"input",13),g.ALo(25,"translate"),g.TgZ(26,"mat-error"),g._UZ(27,"form-error",10)(28,"form-error",14)(29,"server-error",15),g.qZA()(),g.TgZ(30,"mat-form-field"),g._UZ(31,"input",16),g.ALo(32,"translate"),g.TgZ(33,"mat-error"),g._UZ(34,"form-error",10)(35,"form-error",14)(36,"server-error",17),g.qZA()(),g._UZ(37,"password-form",18),g.YNc(38,S,1,1,"server-error",19),g.TgZ(39,"div",20)(40,"button",21),g.ALo(41,"translate"),g._uU(42),g.ALo(43,"translate"),g.qZA(),g.TgZ(44,"span",22),g._uU(45),g.ALo(46,"translate"),g.TgZ(47,"a",23),g._uU(48),g.ALo(49,"translate"),g.qZA(),g._uU(50),g.ALo(51,"translate"),g.TgZ(52,"a",23),g._uU(53),g.ALo(54,"translate"),g.qZA()()()()),2&x&&(g.xp6(2),g.hij(" ",g.lcZ(3,34,"CBL.SOCIAL_AUTH.REGISTER_WITH_SOCIAL")," "),g.xp6(2),g.Q6J("isLogin",!1),g.xp6(5),g.hij(" ",g.lcZ(10,36,"CBL.COMMON.OR")," "),g.xp6(4),g.hij(" ",g.lcZ(14,38,"CBL.SOCIAL_AUTH.REGISTER_WITH_EMAIL")," "),g.xp6(2),g.Q6J("formGroup",s.form),g.xp6(2),g.Q6J("serverError",s.registerError)("placeholder",g.lcZ(18,40,"CBL.COMMON.EMAIL")),g.xp6(3),g.Q6J("error",null==s.form.controls.email||null==s.form.controls.email.errors?null:s.form.controls.email.errors.required)("isTouched",s.form.controls.email.touched),g.xp6(1),g.Q6J("error",null==s.form.controls.email||null==s.form.controls.email.errors?null:s.form.controls.email.errors.email),g.xp6(1),g.Q6J("error",s.registerError),g.xp6(2),g.Q6J("serverError",s.registerError)("placeholder",g.lcZ(25,42,"CBL.USER_DETAILS.FIRST_NAME")),g.xp6(3),g.Q6J("error",null==s.form.controls.first_name||null==s.form.controls.first_name.errors?null:s.form.controls.first_name.errors.required)("isTouched",s.form.controls.first_name.touched),g.xp6(1),g.Q6J("error",null==s.form.controls.first_name||null==s.form.controls.first_name.errors?null:s.form.controls.first_name.errors.validName),g.xp6(1),g.Q6J("error",s.registerError),g.xp6(2),g.Q6J("placeholder",g.lcZ(32,44,"CBL.USER_DETAILS.LAST_NAME")),g.xp6(3),g.Q6J("error",null==s.form.controls.last_name||null==s.form.controls.last_name.errors?null:s.form.controls.last_name.errors.required)("isTouched",s.form.controls.last_name.touched),g.xp6(1),g.Q6J("error",null==s.form.controls.last_name||null==s.form.controls.last_name.errors?null:s.form.controls.last_name.errors.validName),g.xp6(1),g.Q6J("error",s.registerError),g.xp6(1),g.Q6J("apiError",s.registerError)("disableConfirmation",!0),g.xp6(1),g.Q6J("ngIf",s.displayGenericError),g.xp6(2),g.Q6J("disabled",!s.form.valid),g.uIk("aria-label",g.lcZ(41,46,"CBL.LOGIN.REGISTER")),g.xp6(2),g.hij(" ",g.lcZ(43,48,"CBL.LOGIN.REGISTER")," "),g.xp6(3),g.hij(" ",g.lcZ(46,50,"CBL.LOGIN.BY_REGISTERING_YOU_AGREE")," "),g.xp6(2),g.Q6J("href",s.getTermsOfServiceUrl(),g.LSH),g.xp6(1),g.Oqu(g.lcZ(49,52,"CBL.BILLING.TERMS_AND_CONDITIONS")),g.xp6(2),g.hij(" ",g.lcZ(51,54,"CBL.BILLING.AND")," "),g.xp6(2),g.Q6J("href",s.getPrivacyPolicyUrl(),g.LSH),g.xp6(1),g.Oqu(g.lcZ(54,56,"CBL.BILLING.PRIVACY_POLICY")))},directives:[f.c,d._Y,d.JL,d.sg,a.KE,c.Nt,d.Fj,d.JJ,d.u,d.Q7,r._,a.TO,o.A,_.k,n.m,m.G,v.O5,h.lW],pipes:[C.X],styles:["[_nghost-%COMP%]{display:block;padding:20px}mat-form-field[_ngcontent-%COMP%]{margin-top:8px;margin-bottom:8px;width:100%}"]}),T})()},3173:(oe,L,t)=>{t.d(L,{c:()=>a});var e=t(3184),i=t(93443),p=t(97010),l=t(87317),y=t(77500),d=t(32478),g=t(74929),f=i.eW.ProviderEnum;let a=(()=>{class c{constructor(){this.socialClick=new e.vpe,this.ProviderEnum=f,this.googleIconImage=p.Wh.google}oauth(o){this.socialClick.emit(o)}}return c.\u0275fac=function(o){return new(o||c)},c.\u0275cmp=e.Xpm({type:c,selectors:[["social-buttons"]],inputs:{isLogin:"isLogin"},outputs:{socialClick:"socialClick"},decls:28,vars:32,consts:[["mat-stroked-button","","color","accent",3,"click"],[1,"google"],[3,"resource","original","alt"],["mat-stroked-button","","color","accent",1,"facebook",3,"click"],[1,"button-label-wrapper"],[3,"key","size","color"],["mat-stroked-button","","color","accent",1,"linkedin",3,"click"],["mat-stroked-button","","color","accent",1,"twitter",3,"click"]],template:function(o,_){1&o&&(e.TgZ(0,"button",0),e.NdJ("click",function(){return _.oauth(_.ProviderEnum.google)}),e.TgZ(1,"div",1),e._UZ(2,"cb-image",2),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.ALo(6,"translate"),e.qZA()()(),e.TgZ(7,"button",3),e.NdJ("click",function(){return _.oauth(_.ProviderEnum.facebook)}),e.TgZ(8,"div",4),e._UZ(9,"icon",5),e.TgZ(10,"span"),e._uU(11),e.ALo(12,"translate"),e.ALo(13,"translate"),e.qZA()()(),e.TgZ(14,"button",6),e.NdJ("click",function(){return _.oauth(_.ProviderEnum.linkedin)}),e.TgZ(15,"div",4),e._UZ(16,"icon",5),e.TgZ(17,"span"),e._uU(18),e.ALo(19,"translate"),e.ALo(20,"translate"),e.qZA()()(),e.TgZ(21,"button",7),e.NdJ("click",function(){return _.oauth(_.ProviderEnum.twitter)}),e.TgZ(22,"div",4),e._UZ(23,"icon",5),e.TgZ(24,"span"),e._uU(25),e.ALo(26,"translate"),e.ALo(27,"translate"),e.qZA()()()),2&o&&(e.xp6(2),e.Q6J("resource",_.googleIconImage)("original",!0)("alt",""),e.xp6(2),e.Oqu(_.isLogin?e.lcZ(5,16,"CBL.SOCIAL_AUTH.LOGIN_GOOGLE"):e.lcZ(6,18,"CBL.SOCIAL_AUTH.REGISTER_GOOGLE")),e.xp6(5),e.Q6J("key","icon_facebook_logo")("size","xlarge")("color","inherit"),e.xp6(2),e.Oqu(_.isLogin?e.lcZ(12,20,"CBL.SOCIAL_AUTH.LOGIN_FACEBOOK"):e.lcZ(13,22,"CBL.SOCIAL_AUTH.REGISTER_FACEBOOK")),e.xp6(5),e.Q6J("key","icon_linkedin")("size","xlarge")("color","inherit"),e.xp6(2),e.Oqu(_.isLogin?e.lcZ(19,24,"CBL.SOCIAL_AUTH.LOGIN_LINKEDIN"):e.lcZ(20,26,"CBL.SOCIAL_AUTH.REGISTER_LINKEDIN")),e.xp6(5),e.Q6J("key","icon_twitter_square")("size","xlarge")("color","inherit"),e.xp6(2),e.Oqu(_.isLogin?e.lcZ(26,28,"CBL.SOCIAL_AUTH.LOGIN_TWITTER"):e.lcZ(27,30,"CBL.SOCIAL_AUTH.REGISTER_TWITTER")))},directives:[l.lW,y.q,d.o],pipes:[g.X],styles:["[_nghost-%COMP%]{flex:1;box-sizing:border-box;display:flex!important;flex-direction:column;line-height:56px;padding:10px}[_nghost-%COMP%]   button[_ngcontent-%COMP%]{margin:8px 10px;text-transform:none;height:48px}[_nghost-%COMP%]   .google[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}[_nghost-%COMP%]   .google[_ngcontent-%COMP%]   cb-image[_ngcontent-%COMP%]{line-height:0;margin:0 -13px}[_nghost-%COMP%]   .google[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex:1 1 auto;min-width:0}.button-label-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center}.twitter[_ngcontent-%COMP%]   .button-label-wrapper[_ngcontent-%COMP%]   icon[_ngcontent-%COMP%]{color:#55acee}.facebook[_ngcontent-%COMP%]   .button-label-wrapper[_ngcontent-%COMP%]   icon[_ngcontent-%COMP%]{color:#3b5998}.linkedin[_ngcontent-%COMP%]   .button-label-wrapper[_ngcontent-%COMP%]   icon[_ngcontent-%COMP%]{color:#0077b5}.button-label-wrapper[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex:1}"]}),c})()},71832:(oe,L,t)=>{t.d(L,{T:()=>d});var e=t(94736),i=t(3184);const p={mp4:"h264",ogv:"theora",webm:"vp8"};let l=(()=>{class g{constructor(a){this.stringUtil=a}getPosterImageUrl(a,c){return this.getPublicVideoUrl(a,{width:c,format:"jpg"})}getPublicVideoUrl(a,c){if(!a)return"";!(c=Object.assign({},{crop:"scale",format:"mp4"},c)).codec&&c.format&&(c.codec=p[c.format]);let o=this.getBaseUrl(a),_=[];return _.push(`c_${c.crop}`),c.width&&_.push(`w_${c.width}`),c.format&&_.push(`f_${c.format}`),c.codec&&_.push(`vc_${c.codec}`),[o,_.join(","),"/",a].join("")}getBaseUrl(a){return a.startsWith("http")?g.CLOUDINARY_FETCH_URL:this.getCloudinaryBaseUrl(a)}getCloudinaryBaseUrl(a){const c=this.stringUtil.hashCode(a);return`https://res-${Math.abs(c)%5+1}.cloudinary.com/crunchbase-production/video/upload/`}}return g.CLOUDINARY_FETCH_URL="https://crunchbase-production-res.cloudinary.com/video/fetch/s--wuEAmLGW--/",g.\u0275fac=function(a){return new(a||g)(i.LFG(e.m))},g.\u0275prov=i.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})();const y=["videoEl"];let d=(()=>{class g{constructor(a){this.videoService=a}getVideoSource(a){return this.videoElement.nativeElement.load(),this.videoService.getPublicVideoUrl(this.resource,{width:this.width,format:a})}getPosterImage(){return this.videoElement.nativeElement.poster="",this.videoService.getPosterImageUrl(this.resource,this.width)}}return g.\u0275fac=function(a){return new(a||g)(i.Y36(l))},g.\u0275cmp=i.Xpm({type:g,selectors:[["autoplay-video"]],viewQuery:function(a,c){if(1&a&&i.Gf(y,7),2&a){let r;i.iGM(r=i.CRH())&&(c.videoElement=r.first)}},inputs:{resource:"resource",width:"width"},decls:5,vars:4,consts:[["autoplay","","muted","","playsinline","","loop","",3,"poster"],["videoEl",""],["type","video/webm",3,"src"],["type","video/ogg",3,"src"],["type","video/mp4",3,"src"]],template:function(a,c){1&a&&(i.TgZ(0,"video",0,1),i._UZ(2,"source",2)(3,"source",3)(4,"source",4),i.qZA()),2&a&&(i.Q6J("poster",c.getPosterImage(),i.LSH),i.xp6(2),i.Q6J("src",c.getVideoSource("webm"),i.LSH),i.xp6(1),i.Q6J("src",c.getVideoSource("ogv"),i.LSH),i.xp6(1),i.Q6J("src",c.getVideoSource("mp4"),i.LSH))},styles:["video[_ngcontent-%COMP%]{display:block;width:100%}"],changeDetection:0}),g})()},75337:(oe,L,t)=>{t.d(L,{G:()=>p});var e=t(36362),i=t(3184);let p=(()=>{class l{}return l.\u0275fac=function(d){return new(d||l)},l.\u0275mod=i.oAB({type:l}),l.\u0275inj=i.cJS({imports:[[e.ez]]}),l})()},31258:(oe,L,t)=>{t.d(L,{A:()=>h});var e=t(14021),i=t(46179),p=t(2384),l=t(24956),y=t(92218),d=t(14296),g=t(3184),f=t(95758),a=t(90587),c=t(73729),r=t(23322),o=t(67278),_=t(36362),n=t(87317),m=t(74929);function v(C,S){if(1&C&&(g.TgZ(0,"div",11)(1,"div"),g._uU(2),g.ALo(3,"translate"),g.qZA()()),2&C){const I=S.$implicit;g.xp6(2),g.Oqu(g.lcZ(3,1,I))}}let h=(()=>{class C extends p.V{constructor(I,T,N,x,s,E){super(),this.billingService=I,this.toastService=T,this.errorService=N,this.dialogRef=x,this.logService=s,this.changeDetectorRef=E,this.processing=!1,this.isValidCreditCard=!1,this.onDestroy=new y.xQ}ngOnInit(){this.logger=this.logService.getLogger("AddPaymentSource"),this.existingPaymentSource=this.payload.existingPaymentSource,this.existingPaymentSource&&(this.existingCreditCard={expMonth:this.existingPaymentSource.expiration_month+"",expYear:this.existingPaymentSource.expiration_year+"",name:this.existingPaymentSource.cardholder_name})}ngOnDestroy(){this.onDestroy.next()}onCreditCardChange(I){this.possiblyValidCreditCard=I,this.isValidCreditCard=I.valid,this.errors=void 0,this.changeDetectorRef.markForCheck()}onBillingAddressChange(I){this.billingAddress=I,this.errors=void 0,this.changeDetectorRef.markForCheck()}setPaymentSource(){if(!this.possiblyValidCreditCard||!this.possiblyValidCreditCard.valid)return;const I=this.possiblyValidCreditCard.creditCard;I.address=this.billingAddress,this.processing=!0,this.changeDetectorRef.markForCheck(),this.billingService.replacePaymentSource(I,this.existingPaymentSource).then(()=>this.handlePaymentSource(),T=>this.handleError(T)).then(()=>{this.processing=!1,this.changeDetectorRef.markForCheck()})}handlePaymentSource(){this.toastService.showSimpleToast("CBL.BILLING.PAYMENT_SOURCE_ADDED"),this.billingService.emitChangedPayments(),this.dialogRef.close()}handleError(I){this.logger.error("Could not add payment",I),this.errors=this.errorService.getTopLevelErrorLabels(I)}}return C.\u0275fac=function(I){return new(I||C)(g.Y36(e.jM),g.Y36(i.k),g.Y36(d.T),g.Y36(f.so),g.Y36(l.$V),g.Y36(g.sBO))},C.\u0275cmp=g.Xpm({type:C,selectors:[["add-payment-source"]],features:[g.qOj],decls:20,vars:19,consts:[[1,"addPaymentForm"],["addPaymentForm","ngForm"],[3,"title","processing"],["dialog-content","",1,"component--add-payment-source"],[1,"purchase-steps"],[1,"step-title"],[3,"required","creditCard","onCardChange"],[3,"onBillingAddressChange"],["class","error-messages",4,"ngFor","ngForOf"],["dialog-actions","",1,"layout-row"],["mat-raised-button","","color","primary","type","submit",3,"disabled","click"],[1,"error-messages"]],template:function(I,T){1&I&&(g.TgZ(0,"form",0,1)(2,"dialog-layout",2),g.ALo(3,"translate"),g.TgZ(4,"div",3)(5,"ol",4)(6,"li")(7,"div",5),g._uU(8),g.ALo(9,"translate"),g.qZA(),g.TgZ(10,"credit-card",6),g.NdJ("onCardChange",function(x){return T.onCreditCardChange(x)}),g.qZA(),g.TgZ(11,"billing-address",7),g.NdJ("onBillingAddressChange",function(x){return T.onBillingAddressChange(x)}),g.qZA(),g.YNc(12,v,4,3,"div",8),g.qZA()()(),g.TgZ(13,"div",9)(14,"button",10),g.NdJ("click",function(){return T.setPaymentSource()}),g.ALo(15,"translate"),g.TgZ(16,"span"),g._uU(17),g.ALo(18,"uppercase"),g.ALo(19,"translate"),g.qZA()()()()()),2&I&&(g.xp6(2),g.Q6J("title",g.lcZ(3,9,"CBL.BILLING.UPDATE_METHOD"))("processing",T.processing),g.xp6(6),g.hij(" ",g.lcZ(9,11,"CBL.BILLING.PAYMENT_METHOD_SECTION_HEADER")," "),g.xp6(2),g.Q6J("required",!0)("creditCard",T.existingCreditCard),g.xp6(2),g.Q6J("ngForOf",T.errors),g.xp6(2),g.Q6J("disabled",!T.isValidCreditCard||!T.billingAddress),g.uIk("aria-label",g.lcZ(15,13,"CBL.BILLING.UPDATE_METHOD")),g.xp6(3),g.Oqu(g.lcZ(18,15,g.lcZ(19,17,"CBL.BILLING.UPDATE_METHOD"))))},directives:[a._Y,a.JL,a.F,c.I,r.G,o.D,_.sg,n.lW],pipes:[m.X,_.gd],styles:['.component--add-payment-source .addPaymentForm{padding:8px}.component--add-payment-source .error-messages{max-width:550px}.component--add-payment-source ol.purchase-steps{margin:0;list-style:none;list-style-position:outside;counter-reset:item}.component--add-payment-source ol.purchase-steps .step-title{font-weight:500;font-size:16px;margin-bottom:4px;line-height:1.75em}.component--add-payment-source ol.purchase-steps li:not(:only-child){counter-increment:item;padding-left:calc(1.75em + 16px);position:relative}.component--add-payment-source ol.purchase-steps li:not(:only-child):before{font-weight:500;line-height:1.75em;content:counter(item);background:#146aff;border-radius:100%;color:#fff;width:1.75em;height:1.75em;text-align:center;position:absolute;display:block;left:0}.component--add-payment-source ol.purchase-steps li:not(:only-child):not(:last-child){margin-bottom:16px}.component--add-payment-source ol.purchase-steps li:not(:only-child):not(:last-child):after{content:"";position:absolute;display:block;width:1px;background:rgba(0,0,0,.12);top:calc(1.75em + 16px);left:.875em;bottom:0}\n'],encapsulation:2,changeDetection:0}),C})()},67278:(oe,L,t)=>{t.d(L,{D:()=>o});var e=t(3184),i=t(90587);const p={name:$localize`United States`,code:"US",hasPostalCode:!0,states:[{name:$localize`Alabama`,code:"AL"},{name:$localize`Alaska`,code:"AK"},{name:$localize`Arizona`,code:"AZ"},{name:$localize`Arkansas`,code:"AR"},{name:$localize`California`,code:"CA"},{name:$localize`Colorado`,code:"CO"},{name:$localize`Connecticut`,code:"CT"},{name:$localize`Delaware`,code:"DE"},{name:$localize`Washington DC`,code:"DC"},{name:$localize`Florida`,code:"FL"},{name:$localize`Georgia`,code:"GA"},{name:$localize`Guam`,code:"GU"},{name:$localize`Hawaii`,code:"HI"},{name:$localize`Idaho`,code:"ID"},{name:$localize`Illinois`,code:"IL"},{name:$localize`Indiana`,code:"IN"},{name:$localize`Iowa`,code:"IA"},{name:$localize`Kansas`,code:"KS"},{name:$localize`Kentucky`,code:"KY"},{name:$localize`Louisiana`,code:"LA"},{name:$localize`Maine`,code:"ME"},{name:$localize`Maryland`,code:"MD"},{name:$localize`Massachusetts`,code:"MA"},{name:$localize`Michigan`,code:"MI"},{name:$localize`Minnesota`,code:"MN"},{name:$localize`Mississippi`,code:"MS"},{name:$localize`Missouri`,code:"MO"},{name:$localize`Montana`,code:"MT"},{name:$localize`Nebraska`,code:"NE"},{name:$localize`Nevada`,code:"NV"},{name:$localize`New Hampshire`,code:"NH"},{name:$localize`New Jersey`,code:"NJ"},{name:$localize`New Mexico`,code:"NM"},{name:$localize`New York`,code:"NY"},{name:$localize`North Carolina`,code:"NC"},{name:$localize`North Dakota`,code:"ND"},{name:$localize`Ohio`,code:"OH"},{name:$localize`Oklahoma`,code:"OK"},{name:$localize`Oregon`,code:"OR"},{name:$localize`Pennsylvania`,code:"PA"},{name:$localize`Puerto Rico`,code:"PR"},{name:$localize`Rhode Island`,code:"RI"},{name:$localize`South Carolina`,code:"SC"},{name:$localize`South Dakota`,code:"SD"},{name:$localize`Tennessee`,code:"TN"},{name:$localize`Texas`,code:"TX"},{name:$localize`Utah`,code:"UT"},{name:$localize`Vermont`,code:"VT"},{name:$localize`Virgin Islands`,code:"VI"},{name:$localize`Virginia`,code:"VA"},{name:$localize`Washington`,code:"WA"},{name:$localize`West Virginia`,code:"WV"},{name:$localize`Wisconsin`,code:"WI"},{name:$localize`Wyoming`,code:"WY"}]},l=p,y=[p,{name:$localize`Afghanistan`,code:"AF",hasPostalCode:!0},{name:$localize`Aland Islands`,code:"AX",hasPostalCode:!0},{name:$localize`Albania`,code:"AL",hasPostalCode:!0},{name:$localize`Algeria`,code:"DZ",hasPostalCode:!0},{name:$localize`American Samoa`,code:"AS",hasPostalCode:!0},{name:$localize`Andorra`,code:"AD",hasPostalCode:!0},{name:$localize`Angola`,code:"AO",hasPostalCode:!1},{name:$localize`Anguilla`,code:"AI",hasPostalCode:!0},{name:$localize`Antarctica`,code:"AQ",hasPostalCode:!0},{name:$localize`Antigua and Barbuda`,code:"AG",hasPostalCode:!1},{name:$localize`Argentina`,code:"AR",hasPostalCode:!0},{name:$localize`Armenia`,code:"AM",hasPostalCode:!0},{name:$localize`Aruba`,code:"AW",hasPostalCode:!1},{name:$localize`Australia`,code:"AU",hasPostalCode:!0},{name:$localize`Austria`,code:"AT",hasPostalCode:!0},{name:$localize`Azerbaijan`,code:"AZ",hasPostalCode:!0},{name:$localize`Bahamas`,code:"BS",hasPostalCode:!1},{name:$localize`Bahrain`,code:"BH",hasPostalCode:!0},{name:$localize`Bangladesh`,code:"BD",hasPostalCode:!0},{name:$localize`Barbados`,code:"BB",hasPostalCode:!0},{name:$localize`Belarus`,code:"BY",hasPostalCode:!0},{name:$localize`Belgium`,code:"BE",hasPostalCode:!0},{name:$localize`Belize`,code:"BZ",hasPostalCode:!1},{name:$localize`Benin`,code:"BJ",hasPostalCode:!1},{name:$localize`Bermuda`,code:"BM",hasPostalCode:!0},{name:$localize`Bhutan`,code:"BT",hasPostalCode:!0},{name:$localize`Bolivia, Plurinational Station of`,code:"BO",hasPostalCode:!0},{name:$localize`Bonaire, Saint Eustatius and Saba`,code:"BQ",hasPostalCode:!0},{name:$localize`Bosnia and Herzegovina`,code:"BA",hasPostalCode:!0},{name:$localize`Botswana`,code:"BW",hasPostalCode:!1},{name:$localize`Bouvet Island`,code:"BV",hasPostalCode:!0},{name:$localize`Brazil`,code:"BR",hasPostalCode:!0},{name:$localize`British Indian Ocean Territory`,code:"IO",hasPostalCode:!0},{name:$localize`Brunei Darussalam`,code:"BN",hasPostalCode:!0},{name:$localize`Bulgaria`,code:"BG",hasPostalCode:!0},{name:$localize`Burkina Faso`,code:"BF",hasPostalCode:!1},{name:$localize`Burundi`,code:"BI",hasPostalCode:!1},{name:$localize`Cambodia`,code:"KH",hasPostalCode:!0},{name:$localize`Cameroon`,code:"CM",hasPostalCode:!1},{name:$localize`Canada`,code:"CA",hasPostalCode:!0,states:[{name:$localize`Alberta`,code:"AB"},{name:$localize`British Columbia`,code:"BC"},{name:$localize`Manitoba`,code:"MB"},{name:$localize`New Brunswick`,code:"NB"},{name:$localize`Newfoundland and Labrador`,code:"NL"},{name:$localize`Nova Scotia`,code:"NS"},{name:$localize`Northwest Territories`,code:"NT"},{name:$localize`Nunavut`,code:"NU"},{name:$localize`Ontario`,code:"ON"},{name:$localize`Prince Edward Island`,code:"PE"},{name:$localize`Quebec`,code:"QC"},{name:$localize`Saskatchewan`,code:"SK"},{name:$localize`Yukon`,code:"YT"}]},{name:$localize`Cape Verde`,code:"CV",hasPostalCode:!0},{name:$localize`Cayman Islands`,code:"KY",hasPostalCode:!0},{name:$localize`Central African Republic`,code:"CF",hasPostalCode:!1},{name:$localize`Chad`,code:"TD",hasPostalCode:!0},{name:$localize`Chile`,code:"CL",hasPostalCode:!0},{name:$localize`China`,code:"CN",hasPostalCode:!0},{name:$localize`Christmas Island`,code:"CX",hasPostalCode:!0},{name:$localize`Cocos (Keeling) Islands`,code:"CC",hasPostalCode:!0},{name:$localize`Colombia`,code:"CO",hasPostalCode:!0},{name:$localize`Comoros`,code:"KM",hasPostalCode:!1},{name:$localize`Congo`,code:"CG",hasPostalCode:!1},{name:$localize`Congo, the Democratic Republic of the`,code:"CD",hasPostalCode:!1},{name:$localize`Cook Islands`,code:"CK",hasPostalCode:!1},{name:$localize`Costa Rica`,code:"CR",hasPostalCode:!0},{name:$localize`Cote d'Ivoire`,code:"CI",hasPostalCode:!0},{name:$localize`Croatia`,code:"HR",hasPostalCode:!0},{name:$localize`Cuba`,code:"CU",hasPostalCode:!0},{name:$localize`Curacao`,code:"CW",hasPostalCode:!0},{name:$localize`Cyprus`,code:"CY",hasPostalCode:!0},{name:$localize`Czech Republic`,code:"CZ",hasPostalCode:!0},{name:$localize`Denmark`,code:"DK",hasPostalCode:!0},{name:$localize`Djibouti`,code:"DJ",hasPostalCode:!1},{name:$localize`Dominica`,code:"DM",hasPostalCode:!1},{name:$localize`Dominican Republic`,code:"DO",hasPostalCode:!0},{name:$localize`Ecuador`,code:"EC",hasPostalCode:!0},{name:$localize`Egypt`,code:"EG",hasPostalCode:!0},{name:$localize`El Salvador`,code:"SV",hasPostalCode:!0},{name:$localize`Equatorial Guinea`,code:"GQ",hasPostalCode:!1},{name:$localize`Eritrea`,code:"ER",hasPostalCode:!1},{name:$localize`Estonia`,code:"EE",hasPostalCode:!0},{name:$localize`Ethiopia`,code:"ET",hasPostalCode:!0},{name:$localize`Falkland Islands (Malvinas)`,code:"FK",hasPostalCode:!0},{name:$localize`Faroe Islands`,code:"FO",hasPostalCode:!0},{name:$localize`Fiji`,code:"FJ",hasPostalCode:!1},{name:$localize`Finland`,code:"FI",hasPostalCode:!0},{name:$localize`France`,code:"FR",hasPostalCode:!0},{name:$localize`French Guiana`,code:"GF",hasPostalCode:!0},{name:$localize`French Polynesia`,code:"PF",hasPostalCode:!0},{name:$localize`French Southern Territories`,code:"TF",hasPostalCode:!1},{name:$localize`Gabon`,code:"GA",hasPostalCode:!0},{name:$localize`Gambia`,code:"GM",hasPostalCode:!1},{name:$localize`Georgia`,code:"GE",hasPostalCode:!0},{name:$localize`Germany`,code:"DE",hasPostalCode:!0},{name:$localize`Ghana`,code:"GH",hasPostalCode:!1},{name:$localize`Gibraltar`,code:"GI",hasPostalCode:!0},{name:$localize`Greece`,code:"GR",hasPostalCode:!0},{name:$localize`Greenland`,code:"GL",hasPostalCode:!0},{name:$localize`Grenada`,code:"GD",hasPostalCode:!1},{name:$localize`Guadeloupe`,code:"GP",hasPostalCode:!0},{name:$localize`Guam`,code:"GU",hasPostalCode:!0},{name:$localize`Guatemala`,code:"GT",hasPostalCode:!0},{name:$localize`Guernsey`,code:"GG",hasPostalCode:!0},{name:$localize`Guinea`,code:"GN",hasPostalCode:!1},{name:$localize`Guinea-Bissau`,code:"GW",hasPostalCode:!0},{name:$localize`Guyana`,code:"GY",hasPostalCode:!1},{name:$localize`Haiti`,code:"HT",hasPostalCode:!0},{name:$localize`Heard Island and McDonald Islands`,code:"HM",hasPostalCode:!0},{name:$localize`Holy See (Vatican City State)`,code:"VA",hasPostalCode:!0},{name:$localize`Honduras`,code:"HN",hasPostalCode:!0},{name:$localize`Hong Kong`,code:"HK",hasPostalCode:!1},{name:$localize`Hungary`,code:"HU",hasPostalCode:!0},{name:$localize`Iceland`,code:"IS",hasPostalCode:!0},{name:$localize`India`,code:"IN",hasPostalCode:!0},{name:$localize`Indonesia`,code:"ID",hasPostalCode:!0},{name:$localize`Iran, Islamic Republic of`,code:"IR",hasPostalCode:!0},{name:$localize`Iraq`,code:"IQ",hasPostalCode:!0},{name:$localize`Ireland`,code:"IE",hasPostalCode:!1},{name:$localize`Isle of Man`,code:"IM",hasPostalCode:!0},{name:$localize`Israel`,code:"IL",hasPostalCode:!0},{name:$localize`Italy`,code:"IT",hasPostalCode:!0},{name:$localize`Jamaica`,code:"JM",hasPostalCode:!1},{name:$localize`Japan`,code:"JP",hasPostalCode:!0},{name:$localize`Jersey`,code:"JE",hasPostalCode:!0},{name:$localize`Jordan`,code:"JO",hasPostalCode:!0},{name:$localize`Kazakhstan`,code:"KZ",hasPostalCode:!0},{name:$localize`Kenya`,code:"KE",hasPostalCode:!1},{name:$localize`Kiribati`,code:"KI",hasPostalCode:!1},{name:$localize`Korea, Democratic People's Republic of`,code:"KP",hasPostalCode:!1},{name:$localize`Korea, Republic of`,code:"KR",hasPostalCode:!0},{name:$localize`Kosovo`,code:"XK",hasPostalCode:!1},{name:$localize`Kuwait`,code:"KW",hasPostalCode:!0},{name:$localize`Kyrgyzstan`,code:"KG",hasPostalCode:!0},{name:$localize`Lao People's Democratic Republic`,code:"LA",hasPostalCode:!0},{name:$localize`Latvia`,code:"LV",hasPostalCode:!0},{name:$localize`Lebanon`,code:"LB",hasPostalCode:!0},{name:$localize`Lesotho`,code:"LS",hasPostalCode:!0},{name:$localize`Liberia`,code:"LR",hasPostalCode:!0},{name:$localize`Libyan Arab Jamahiriya`,code:"LY",hasPostalCode:!0},{name:$localize`Liechtenstein`,code:"LI",hasPostalCode:!0},{name:$localize`Lithuania`,code:"LT",hasPostalCode:!0},{name:$localize`Luxembourg`,code:"LU",hasPostalCode:!0},{name:$localize`Macao`,code:"MO",hasPostalCode:!1},{name:$localize`Macedonia, the former Yugoslav Republic of`,code:"MK",hasPostalCode:!0},{name:$localize`Madagascar`,code:"MG",hasPostalCode:!0},{name:$localize`Malawi`,code:"MW",hasPostalCode:!1},{name:$localize`Malaysia`,code:"MY",hasPostalCode:!0},{name:$localize`Maldives`,code:"MV",hasPostalCode:!0},{name:$localize`Mali`,code:"ML",hasPostalCode:!1},{name:$localize`Malta`,code:"MT",hasPostalCode:!0},{name:$localize`Marshall Islands`,code:"MH",hasPostalCode:!0},{name:$localize`Martinique`,code:"MQ",hasPostalCode:!0},{name:$localize`Mauritania`,code:"MR",hasPostalCode:!1},{name:$localize`Mauritius`,code:"MU",hasPostalCode:!1},{name:$localize`Mayotte`,code:"YT",hasPostalCode:!0},{name:$localize`Mexico`,code:"MX",hasPostalCode:!0},{name:$localize`Micronesia, Federated States of`,code:"FM",hasPostalCode:!0},{name:$localize`Moldova, Republic of`,code:"MD",hasPostalCode:!0},{name:$localize`Monaco`,code:"MC",hasPostalCode:!0},{name:$localize`Mongolia`,code:"MN",hasPostalCode:!0},{name:$localize`Montenegro`,code:"ME",hasPostalCode:!0},{name:$localize`Montserrat`,code:"MS",hasPostalCode:!1},{name:$localize`Morocco`,code:"MA",hasPostalCode:!0},{name:$localize`Mozambique`,code:"MZ",hasPostalCode:!0},{name:$localize`Myanmar`,code:"MM",hasPostalCode:!0},{name:$localize`Namibia`,code:"NA",hasPostalCode:!0},{name:$localize`Nauru`,code:"NR",hasPostalCode:!1},{name:$localize`Nepal`,code:"NP",hasPostalCode:!0},{name:$localize`Netherlands`,code:"NL",hasPostalCode:!0},{name:$localize`New Caledonia`,code:"NC",hasPostalCode:!0},{name:$localize`New Zealand`,code:"NZ",hasPostalCode:!0},{name:$localize`Nicaragua`,code:"NI",hasPostalCode:!0},{name:$localize`Niger`,code:"NE",hasPostalCode:!0},{name:$localize`Nigeria`,code:"NG",hasPostalCode:!0},{name:$localize`Niue`,code:"NU",hasPostalCode:!1},{name:$localize`Norfolk Island`,code:"NF",hasPostalCode:!0},{name:$localize`Northern Mariana Islands`,code:"MP",hasPostalCode:!0},{name:$localize`Norway`,code:"NO",hasPostalCode:!0},{name:$localize`Oman`,code:"OM",hasPostalCode:!0},{name:$localize`Pakistan`,code:"PK",hasPostalCode:!0},{name:$localize`Palau`,code:"PW",hasPostalCode:!0},{name:$localize`Palestine, State of`,code:"PS",hasPostalCode:!0},{name:$localize`Panama`,code:"PA",hasPostalCode:!1},{name:$localize`Papua New Guinea`,code:"PG",hasPostalCode:!0},{name:$localize`Paraguay`,code:"PY",hasPostalCode:!0},{name:$localize`Peru`,code:"PE",hasPostalCode:!0},{name:$localize`Philippines`,code:"PH",hasPostalCode:!0},{name:$localize`Pitcairn`,code:"PN",hasPostalCode:!0},{name:$localize`Poland`,code:"PL",hasPostalCode:!0},{name:$localize`Portugal`,code:"PT",hasPostalCode:!0},{name:$localize`Puerto Rico`,code:"PR",hasPostalCode:!0},{name:$localize`Qatar`,code:"QA",hasPostalCode:!1},{name:$localize`Reunion`,code:"RE",hasPostalCode:!0},{name:$localize`Romania`,code:"RO",hasPostalCode:!0},{name:$localize`Russian Federation`,code:"RU",hasPostalCode:!0},{name:$localize`Rwanda`,code:"RW",hasPostalCode:!1},{name:$localize`Saint Barthelemy`,code:"BL",hasPostalCode:!0},{name:$localize`Saint Helena, Ascension and Tristan da Cunha`,code:"SH",hasPostalCode:!0},{name:$localize`Saint Kitts and Nevis`,code:"KN",hasPostalCode:!1},{name:$localize`Saint Lucia`,code:"LC",hasPostalCode:!1},{name:$localize`Saint Martin (French part)`,code:"MF",hasPostalCode:!0},{name:$localize`Saint Pierre and Miquelon`,code:"PM",hasPostalCode:!0},{name:$localize`Saint Vincent and the Grenadines`,code:"VC",hasPostalCode:!0},{name:$localize`Samoa`,code:"WS",hasPostalCode:!0},{name:$localize`San Marino`,code:"SM",hasPostalCode:!0},{name:$localize`Sao Tome and Principe`,code:"ST",hasPostalCode:!1},{name:$localize`Saudi Arabia`,code:"SA",hasPostalCode:!0},{name:$localize`Senegal`,code:"SN",hasPostalCode:!0},{name:$localize`Serbia`,code:"RS",hasPostalCode:!0},{name:$localize`Seychelles`,code:"SC",hasPostalCode:!1},{name:$localize`Sierra Leone`,code:"SL",hasPostalCode:!1},{name:$localize`Singapore`,code:"SG",hasPostalCode:!0},{name:$localize`Sint Maarten (Dutch part)`,code:"SX",hasPostalCode:!0},{name:$localize`Slovakia`,code:"SK",hasPostalCode:!0},{name:$localize`Slovenia`,code:"SI",hasPostalCode:!0},{name:$localize`Solomon Islands`,code:"SB",hasPostalCode:!1},{name:$localize`Somalia`,code:"SO",hasPostalCode:!1},{name:$localize`South Africa`,code:"ZA",hasPostalCode:!1},{name:$localize`South Georgia and the South Sandwich Islands`,code:"GS",hasPostalCode:!0},{name:$localize`South Sudan`,code:"SS",hasPostalCode:!0},{name:$localize`Spain`,code:"ES",hasPostalCode:!0},{name:$localize`Sri Lanka`,code:"LK",hasPostalCode:!0},{name:$localize`Sudan`,code:"SD",hasPostalCode:!0},{name:$localize`Suriname`,code:"SR",hasPostalCode:!1},{name:$localize`Svalbard and Jan Mayen`,code:"SJ",hasPostalCode:!0},{name:$localize`Swaziland`,code:"SZ",hasPostalCode:!0},{name:$localize`Sweden`,code:"SE",hasPostalCode:!0},{name:$localize`Switzerland`,code:"CH",hasPostalCode:!0},{name:$localize`Syrian Arab Republic`,code:"SY",hasPostalCode:!1},{name:$localize`Taiwan, Province of China`,code:"TW",hasPostalCode:!0},{name:$localize`Tajikistan`,code:"TJ",hasPostalCode:!0},{name:$localize`Tanzania, United Republic of`,code:"TZ",hasPostalCode:!1},{name:$localize`Thailand`,code:"TH",hasPostalCode:!0},{name:$localize`Timor-Leste`,code:"TL",hasPostalCode:!1},{name:$localize`Togo`,code:"TG",hasPostalCode:!0},{name:$localize`Tokelau`,code:"TK",hasPostalCode:!1},{name:$localize`Tonga`,code:"TO",hasPostalCode:!1},{name:$localize`Trinidad and Tobago`,code:"TT",hasPostalCode:!1},{name:$localize`Tunisia`,code:"TN",hasPostalCode:!0},{name:$localize`Turkey`,code:"TR",hasPostalCode:!0},{name:$localize`Turkmenistan`,code:"TM",hasPostalCode:!0},{name:$localize`Turks and Caicos Islands`,code:"TC",hasPostalCode:!0},{name:$localize`Tuvalu`,code:"TV",hasPostalCode:!1},{name:$localize`Uganda`,code:"UG",hasPostalCode:!1},{name:$localize`Ukraine`,code:"UA",hasPostalCode:!0},{name:$localize`United Arab Emirates`,code:"AE",hasPostalCode:!1},{name:$localize`United Kingdom`,code:"GB",hasPostalCode:!0},{name:$localize`Uruguay`,code:"UY",hasPostalCode:!0},{name:$localize`Uzbekistan`,code:"UZ",hasPostalCode:!0},{name:$localize`Vanuatu`,code:"VU",hasPostalCode:!1},{name:$localize`Venezuela, Bolivarian Republic of`,code:"VE",hasPostalCode:!0},{name:$localize`Viet Nam`,code:"VN",hasPostalCode:!0},{name:$localize`Virgin Islands, British`,code:"VG",hasPostalCode:!0},{name:$localize`Virgin Islands, U.S.`,code:"VI",hasPostalCode:!0},{name:$localize`Wallis and Futuna`,code:"WF",hasPostalCode:!0},{name:$localize`Western Sahara`,code:"EH",hasPostalCode:!0},{name:$localize`Yemen`,code:"YE",hasPostalCode:!1},{name:$localize`Zambia`,code:"ZM",hasPostalCode:!0},{name:$localize`Zimbabwe`,code:"ZW",hasPostalCode:!1}];var d=t(44770),g=t(43365),f=t(36362),a=t(74929);function c(_,n){if(1&_&&(e.TgZ(0,"option",7),e._uU(1),e.qZA()),2&_){const m=n.$implicit;e.Q6J("value",m.code),e.xp6(1),e.hij(" ",m.name," ")}}function r(_,n){if(1&_&&(e.TgZ(0,"option",7),e._uU(1),e.qZA()),2&_){const m=n.$implicit;e.Q6J("value",m.code),e.xp6(1),e.hij(" ",m.name," ")}}class o{constructor(){this.onBillingAddressChange=new e.vpe,this.billingCountries=y,this.states=[]}ngOnInit(){this.setupFormForDefaultCountry()}onCountryChange(n){this.handleCountryChange(n)}setupFormForDefaultCountry(){const m=l.states,v=l.hasPostalCode;this.billingAddressForm=new i.cw({country:new i.NI(l.code,i.kI.required),state:new i.NI(void 0,m?o.STATE_VALIDATORS:void 0),postalCode:new i.NI(void 0,v?o.POSTAL_CODE_VALIDATORS:void 0)}),this.states=null!=m?m:[],this.billingAddressForm.valueChanges.subscribe(h=>this.handleValueChange(h))}handleValueChange(n){if(!this.billingAddressForm.valid)return void this.onBillingAddressChange.emit(void 0);const v={country:n.country};n.state&&(v.state=n.state),n.postalCode&&(v.postalCode=n.postalCode),this.onBillingAddressChange.emit(v)}handleCountryChange(n){var m;const v=this.findCountryByCode(n);if(!v)return this.states=[],this.setFormControlValueValidator("state",!1),void this.setFormControlValueValidator("postalCode",!1);this.states=null!==(m=v.states)&&void 0!==m?m:[],this.setFormControlValueValidator("state",!!v.states),this.setFormControlValueValidator("postalCode",v.hasPostalCode)}findCountryByCode(n){return this.billingCountries.find(m=>m.code===n)}setFormControlValueValidator(n,m){const v=this.billingAddressForm.controls[n];if(m&&v.disabled)switch(v.enable(),n){case"state":v.setValidators(o.STATE_VALIDATORS);break;case"postalCode":v.setValidators(o.POSTAL_CODE_VALIDATORS)}else!m&&!v.disabled&&(v.disable(),v.setValue(void 0),v.setValidators(null))}}o.POSTAL_CODE_MAX_LENGTH=20,o.STATE_VALIDATORS=[i.kI.required],o.POSTAL_CODE_VALIDATORS=[i.kI.required,i.kI.maxLength(o.POSTAL_CODE_MAX_LENGTH)],o.\u0275fac=function(n){return new(n||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["billing-address"]],outputs:{onBillingAddressChange:"onBillingAddressChange"},decls:17,vars:12,consts:[[1,"layout-row","three-column",3,"formGroup"],["floatLabel","always"],["matNativeControl","","name","country","autocomplete","country-name","required","","formControlName","country",3,"ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["matNativeControl","","required","","name","state","formControlName","state","autocomplete","address-level1"],["value",""],["matInput","","required","","autocomplete","postal-code","type","text","formControlName","postalCode",3,"placeholder"],[3,"value"]],template:function(n,m){1&n&&(e.TgZ(0,"div",0)(1,"mat-form-field",1)(2,"mat-label"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"select",2),e.NdJ("ngModelChange",function(h){return m.onCountryChange(h)}),e.YNc(6,c,2,2,"option",3),e.qZA()(),e.TgZ(7,"mat-form-field",1)(8,"mat-label"),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"select",4),e._UZ(12,"option",5),e.YNc(13,r,2,2,"option",3),e.qZA()(),e.TgZ(14,"mat-form-field",1),e._UZ(15,"input",6),e.ALo(16,"translate"),e.qZA()()),2&n&&(e.Q6J("formGroup",m.billingAddressForm),e.xp6(3),e.Oqu(e.lcZ(4,6,"CBL.BILLING_ADDRESS.COUNTRY")),e.xp6(3),e.Q6J("ngForOf",m.billingCountries),e.xp6(3),e.Oqu(e.lcZ(10,8,"CBL.BILLING_ADDRESS.STATE")),e.xp6(4),e.Q6J("ngForOf",m.states),e.xp6(2),e.Q6J("placeholder",e.lcZ(16,10,"CBL.BILLING_ADDRESS.POSTAL_CODE")))},directives:[i.JL,i.sg,d.KE,d.hX,g.Nt,i.EJ,i.Q7,i.JJ,i.u,f.sg,i.YN,i.Kr,i.Fj],pipes:[a.X],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%;box-sizing:border-box}.three-column[_ngcontent-%COMP%]{flex-wrap:wrap}@media (min-width: 960px){.three-column[_ngcontent-%COMP%]{flex-wrap:nowrap}.three-column[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:33.33%}.three-column[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]:not(:last-child){padding-right:8px}.three-column[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]:not(:first-child){padding-left:8px}}.mat-form-field-disabled[_ngcontent-%COMP%]{display:none}"],changeDetection:0})},58288:(oe,L,t)=>{t.d(L,{Xj:()=>ce,Ql:()=>te,oZ:()=>D,__:()=>Te._,ah:()=>E});var e=t(36362),i=t(90898),p=t(90587),l=t(45857),y=t(35503),d=t(65852),g=t(89250),f=t(32519),a=t(40337),c=t(33706),r=t(81450),o=t(3184),v=(t(31258),t(23322),t(53095),t(2384)),h=t(93443),C=t(7323),S=t(85921),I=t(92218),T=t(95758),N=t(73729),x=t(87317),s=t(74929);let E=(()=>{class Re extends v.V{constructor(ye){super(),this.dialogRef=ye}}return Re.\u0275fac=function(ye){return new(ye||Re)(o.Y36(T.so))},Re.\u0275cmp=o.Xpm({type:Re,selectors:[["ng-component"]],features:[o.qOj],decls:12,vars:11,consts:function(){let fe;return fe=$localize`:␟9404467972b03c10c9db0d593570d2628d13dcad␟773816357932368576:You have single sign-on enabled for your account. Please contact your team admin to reset your password. `,[[3,"title"],["dialog-content","",1,"body"],fe,["dialog-actions","",1,"close-button"],["mat-button","","type","button",1,"mat-raised","mat-primary",3,"click"]]},template:function(ye,Ge){1&ye&&(o.TgZ(0,"dialog-layout",0),o.ALo(1,"translate"),o.TgZ(2,"div",1)(3,"span"),o.SDv(4,2),o.qZA()(),o.TgZ(5,"div",3)(6,"button",4),o.NdJ("click",function(){return Ge.dialogRef.close()}),o.ALo(7,"translate"),o.TgZ(8,"span"),o._uU(9),o.ALo(10,"uppercase"),o.ALo(11,"translate"),o.qZA()()()()),2&ye&&(o.Q6J("title",o.lcZ(1,3,"CBL.LOGIN.RESET_SSO_ENABLED.TITLE")),o.xp6(6),o.uIk("aria-label",o.lcZ(7,5,"CBL.COMMON.CLOSE")),o.xp6(3),o.Oqu(o.lcZ(10,7,o.lcZ(11,9,"CBL.COMMON.CLOSE"))))},directives:[N.I,x.lW],pipes:[s.X,e.gd],styles:[".body[_ngcontent-%COMP%]{box-sizing:border-box;display:flex!important;flex-direction:column}.close-button[_ngcontent-%COMP%]{box-sizing:border-box;display:flex!important;flex-direction:row}"],changeDetection:0}),Re})();var H=t(44770),V=t(43365),b=t(59543),B=t(29847),Q=t(50450),$=t(29641);function W(Re,fe){if(1&Re){const ye=o.EpF();o.ynx(0),o.TgZ(1,"div",9),o.SDv(2,10),o.qZA(),o.TgZ(3,"mat-form-field")(4,"input",11,12),o.NdJ("ngModelChange",function(at){return o.CHM(ye),o.oxw(2).forgotEmail=at}),o.ALo(6,"translate"),o.qZA(),o.TgZ(7,"mat-error"),o._UZ(8,"form-error",13)(9,"form-error",14),o.qZA()(),o._UZ(10,"server-error",15),o.BQk()}if(2&Re){const ye=o.MAs(5),Ge=o.oxw(2),at=o.MAs(1);o.xp6(4),o.Q6J("serverError",Ge.error)("ngModel",Ge.forgotEmail)("placeholder",o.lcZ(6,7,"CBL.COMMON.EMAIL")),o.xp6(4),o.Q6J("error",null==at.controls.forgotEmail||null==at.controls.forgotEmail.errors?null:at.controls.forgotEmail.errors.required)("isTouched",ye.touched),o.xp6(1),o.Q6J("error",null==at.controls.forgotEmail||null==at.controls.forgotEmail.errors?null:at.controls.forgotEmail.errors.email),o.xp6(1),o.Q6J("error",Ge.error)}}function q(Re,fe){1&Re&&(o.TgZ(0,"div")(1,"span"),o.SDv(2,16),o.qZA(),o.TgZ(3,"p"),o.SDv(4,17),o.qZA(),o.TgZ(5,"span"),o.SDv(6,18),o.qZA(),o.TgZ(7,"ul")(8,"li"),o.SDv(9,19),o.qZA(),o.TgZ(10,"li"),o.SDv(11,20),o.qZA()(),o._UZ(12,"markup-label",21),o.qZA())}function le(Re,fe){if(1&Re&&(o.TgZ(0,"button",22),o.ALo(1,"translate"),o.TgZ(2,"span"),o._uU(3),o.ALo(4,"uppercase"),o.ALo(5,"translate"),o.qZA()()),2&Re){const ye=o.oxw(2),Ge=o.MAs(1);o.Q6J("disabled",!Ge.form.valid||ye.processing),o.uIk("aria-label",o.lcZ(1,3,"CBL.LOGIN.RESET_PASSWORD")),o.xp6(3),o.Oqu(o.lcZ(4,5,o.lcZ(5,7,"CBL.LOGIN.RESET_PASSWORD")))}}function J(Re,fe){if(1&Re){const ye=o.EpF();o.TgZ(0,"button",23),o.NdJ("click",function(){return o.CHM(ye),o.oxw(2).dialogRef.close()}),o.ALo(1,"translate"),o.TgZ(2,"span"),o._uU(3),o.ALo(4,"uppercase"),o.ALo(5,"translate"),o.qZA()()}2&Re&&(o.uIk("aria-label",o.lcZ(1,2,"CBL.COMMON.CLOSE")),o.xp6(3),o.Oqu(o.lcZ(4,4,o.lcZ(5,6,"CBL.COMMON.CLOSE"))))}function u(Re,fe){if(1&Re&&(o.TgZ(0,"dialog-layout",3),o.ALo(1,"translate"),o.TgZ(2,"div",4),o.YNc(3,W,11,9,"ng-container",5),o.YNc(4,q,13,0,"div",5),o.qZA(),o.TgZ(5,"div",6),o.YNc(6,le,6,9,"button",7),o.YNc(7,J,6,8,"button",8),o.qZA()()),2&Re){const ye=o.oxw();o.Q6J("processing",ye.processing)("title",o.lcZ(1,6,"CBL.LOGIN.RESET_PASSWORD")),o.xp6(3),o.Q6J("ngIf",!ye.sent),o.xp6(1),o.Q6J("ngIf",ye.sent),o.xp6(2),o.Q6J("ngIf",!ye.sent),o.xp6(1),o.Q6J("ngIf",ye.sent)}}let D=(()=>{class Re extends v.V{constructor(ye,Ge,at,It){super(),this.dialogRef=ye,this.userService=Ge,this.userApi=at,this.dialogService=It,this.ssoEnabled=!1,this.onDestroy$=new I.xQ}ngOnDestroy(){this.onDestroy$.next()}reset(){this.processing=!0,this.userApi.cbUsersSearchSsoPost$({query:{email:this.forgotEmail}}).pipe((0,S.R)(this.onDestroy$)).subscribe({next:()=>{this.sent=!1,this.processing=!1,this.dialogRef.close(),this.dialogService.showDialog(E)},error:()=>this.handleSsoError()})}handleSsoError(){this.userService.resetPassword(this.forgotEmail).then(()=>this.sent=!0,ye=>{422===ye.statusCode?this.sent=!0:(this.error=ye,this.sent=!1)}).then(()=>this.processing=!1)}}return Re.\u0275fac=function(ye){return new(ye||Re)(o.Y36(T.so),o.Y36(C.KD),o.Y36(h.Wj),o.Y36(v.x))},Re.\u0275cmp=o.Xpm({type:Re,selectors:[["ng-component"]],features:[o.qOj],decls:3,vars:1,consts:function(){let fe,ye,Ge,at,It,Ue;return fe=$localize`:␟d7c133a03107c40545da67fd0004a653e77dbae8␟3271872115888824891: Enter your e-mail address below and we will send you a link to reset your password. `,ye=$localize`:␟3379612f051e5129e90bdab201434983e74edfc9␟3418622301037836557:Email sent!`,Ge=$localize`:␟274fd04f55ce2c3f8f8adcdb52dd6daa959d4351␟8582281374153375307: If a user account is associated with this email address, you will receive a reset link. `,at=$localize`:␟b33aedf655bb89519a89372fa869bf4e61f110f9␟3784500262257480028:Don’t see an email after 30mins?`,It=$localize`:␟82c6976f737c9154e343a6f01993834c6580602e␟469481419799108610: Check your spam folder for an email from support@crunchbase.com `,Ue=$localize`:␟4b92e458768bb024e6215e0b90b0c9cb026eca1b␟6649695981199671097:Try a different login email`,[[1,"component--forgot-password",3,"ngSubmit"],["forgotForm","ngForm"],[3,"processing","title",4,"ngIf"],[3,"processing","title"],["dialog-content","",1,"layout-column","layout-align-start-stretch"],[4,"ngIf"],["dialog-actions","",1,"layout-row"],["mat-button","","type","submit","class","mat-raised mat-primary",3,"disabled",4,"ngIf"],["mat-button","","type","button","class","mat-raised mat-primary",3,"click",4,"ngIf"],[1,"cb-margin-large-bottom"],fe,["matInput","","required","","type","email","name","forgotEmail","autocomplete","email",3,"serverError","ngModel","placeholder","ngModelChange"],["emailInput","ngModel"],["label","CBL.COMMON.REQUIRED",3,"error","isTouched"],["label","CBL.USER_DETAILS.EMAIL_INVALID",3,"error"],[3,"error"],ye,Ge,at,It,Ue,["key","CBL.LOGIN.RESET_CONFIRMATION.SIXTH_LINE"],["mat-button","","type","submit",1,"mat-raised","mat-primary",3,"disabled"],["mat-button","","type","button",1,"mat-raised","mat-primary",3,"click"]]},template:function(ye,Ge){1&ye&&(o.TgZ(0,"form",0,1),o.NdJ("ngSubmit",function(){return Ge.reset()}),o.YNc(2,u,8,8,"dialog-layout",2),o.qZA()),2&ye&&(o.xp6(2),o.Q6J("ngIf",!Ge.ssoEnabled))},directives:[p._Y,p.JL,p.F,e.O5,N.I,H.KE,V.Nt,p.Fj,p.Q7,b._,p.JJ,p.On,H.TO,B.A,Q.k,$.x,x.lW],pipes:[s.X,e.gd],styles:[".component--forgot-password ul{margin-left:20px}.component--forgot-password ul li{list-style-type:disc}\n"],encapsulation:2}),Re})();var se=t(14021),ne=t(24956),_e=t(46179);const ee=function(Re){return{productName:Re}};function w(Re,fe){if(1&Re&&(o.TgZ(0,"div")(1,"div",5),o._uU(2),o.ALo(3,"translate"),o.qZA(),o.TgZ(4,"div",5),o._uU(5),o.ALo(6,"translate"),o.qZA()()),2&Re){const ye=o.oxw();o.xp6(2),o.hij(" ",o.xi3(3,2,"CBL.BILLING.CANCEL_IMMEDIATELY",o.VKq(7,ee,ye.displayName))," "),o.xp6(3),o.hij(" ",o.lcZ(6,5,"CBL.BILLING.RESTART_LICENSES")," ")}}function G(Re,fe){if(1&Re&&(o.TgZ(0,"div")(1,"div",5),o._uU(2),o.ALo(3,"translate"),o.qZA(),o.TgZ(4,"div",6),o._uU(5),o.ALo(6,"date"),o.qZA()()),2&Re){const ye=o.oxw();o.xp6(2),o.hij(" ",o.xi3(3,2,"CBL.BILLING.CANCEL_TRIAL",o.VKq(8,ee,ye.displayName))," "),o.xp6(3),o.hij(" ",o.xi3(6,5,ye.subscription.term_end,"fullDate")," ")}}function k(Re,fe){if(1&Re&&(o.ynx(0),o.TgZ(1,"div",5),o.SDv(2,7),o.qZA(),o.TgZ(3,"div",6),o._uU(4),o.ALo(5,"date"),o.qZA(),o.TgZ(6,"div",5),o._uU(7),o.ALo(8,"translate"),o.qZA(),o.TgZ(9,"div",5),o._uU(10),o.ALo(11,"translate"),o.qZA(),o.BQk()),2&Re){const ye=o.oxw();o.xp6(4),o.hij(" ",o.xi3(5,3,ye.subscription.term_end,"fullDate")," "),o.xp6(3),o.hij(" ",o.xi3(8,6,"CBL.BILLING.CANCEL_PRODUCT_REMAIN_ACTIVE",o.VKq(11,ee,ye.displayName))," "),o.xp6(3),o.hij(" ",o.lcZ(11,9,"CBL.BILLING.RESTART_LICENSES")," ")}}function X(Re,fe){1&Re&&(o.TgZ(0,"span"),o.SDv(1,8),o.qZA())}function K(Re,fe){1&Re&&(o.TgZ(0,"span"),o._uU(1),o.ALo(2,"translate"),o.qZA()),2&Re&&(o.xp6(1),o.Oqu(o.lcZ(2,1,"CBL.BILLING.CANCEL_ALL_LICENSES")))}let te=(()=>{class Re extends v.V{constructor(ye,Ge,at,It,Ue,we,De){super(),this.billingService=ye,this.userService=Ge,this.toastService=at,this.dialogRef=It,this.logService=Ue,this.changeDetectorRef=we,this.productService=De,this.processing=!1}ngOnInit(){if(this.logger=this.logService.getLogger("CancelComponent"),this.subscription=this.payload.subscription,this.product=this.payload.product,!this.subscription||!this.product)return this.logger.error("No subscription or product provided"),void this.toastService.showSimpleToast("CBL.COMMON.FAILURE");this.displayName=this.productService.getDisplayName(this.payload.product,this.subscription.plan_id),this.productIsFree=this.product.product_class===h.lL.ProductClassEnum.free,this.productIsTrial=this.subscription.term_type===h.ND.TermTypeEnum.trial,this.dialogHeader=this.productIsTrial?"CBL.BILLING.CANCEL_TRIAL_DIALOG_HEADER":"CBL.BILLING.CANCEL_DIALOG_HEADER"}cancel(){return this.processing=!0,this.billingService.cancel$(this.subscription.id).toPromise().then(()=>this.userService.refreshSession$().toPromise()).then(()=>this.handleCancelled()).catch(()=>this.handleCancelFailure()).then(()=>{this.processing=!1,this.changeDetectorRef.markForCheck()})}handleCancelled(){this.toastService.showSimpleToast("CBL.BILLING.SUBSCRIPTION_CANCELLED"),this.dialogRef.close(!0)}handleCancelFailure(){this.toastService.showSimpleToast("CBL.BILLING.CANCEL_LICENSES_ERROR")}}return Re.\u0275fac=function(ye){return new(ye||Re)(o.Y36(se.jM),o.Y36(C.KD),o.Y36(_e.k),o.Y36(T.so),o.Y36(ne.$V),o.Y36(o.sBO),o.Y36(se.M5))},Re.\u0275cmp=o.Xpm({type:Re,selectors:[["cancel"]],features:[o.qOj],decls:11,vars:15,consts:function(){let fe,ye;return fe=$localize`:␟b33bd5319533210b8660c1168a4e12cb52aa1d35␟8976459686431139487: Cancellation will be effective at the end of your current billing period on: `,ye=$localize`:␟862c767161dc7eb97b9077df3744b963c23646ee␟2943128289189623216:Confirm Cancellation`,[[3,"title","processing"],["dialog-content",""],[4,"ngIf"],["dialog-actions","",1,"layout-row"],["mat-button","",1,"mat-raised","mat-warn","mat-raised-button",3,"click"],[1,"cancel-text"],[1,"cancel-text","cancel-date"],fe,ye]},template:function(ye,Ge){1&ye&&(o.TgZ(0,"dialog-layout",0),o.ALo(1,"translate"),o.TgZ(2,"div",1),o.YNc(3,w,7,9,"div",2),o.YNc(4,G,7,10,"div",2),o.YNc(5,k,12,13,"ng-container",2),o.qZA(),o.TgZ(6,"div",3)(7,"button",4),o.NdJ("click",function(){return Ge.cancel()}),o.ALo(8,"translate"),o.YNc(9,X,2,0,"span",2),o.YNc(10,K,3,3,"span",2),o.qZA()()()),2&ye&&(o.Q6J("title",o.xi3(1,8,Ge.dialogHeader,o.VKq(13,ee,Ge.displayName)))("processing",Ge.processing),o.xp6(3),o.Q6J("ngIf",Ge.productIsFree),o.xp6(1),o.Q6J("ngIf",Ge.productIsTrial),o.xp6(1),o.Q6J("ngIf",!Ge.productIsFree&&!Ge.productIsTrial),o.xp6(2),o.uIk("aria-label",o.lcZ(8,11,"CBL.BILLING.CANCEL_ALL_LICENSES")),o.xp6(2),o.Q6J("ngIf",Ge.productIsTrial),o.xp6(1),o.Q6J("ngIf",!Ge.productIsTrial))},directives:[N.I,e.O5,x.lW],pipes:[s.X,e.uU],styles:["cancel dialog-layout{display:block;max-width:600px}cancel .cancel-text{padding:8px 0}cancel .cancel-date{font-weight:500}\n"],encapsulation:2,changeDetection:0}),Re})();t(67278);var Te=t(10523);let ce=(()=>{class Re{}return Re.\u0275fac=function(ye){return new(ye||Re)},Re.\u0275mod=o.oAB({type:Re}),Re.\u0275inj=o.cJS({imports:[[e.ez,i.q,p.u5,p.UX,l.Bz,y.Dt,d.C,g.S,f.n,a.r,c.T,r.U]]}),Re})()},23322:(oe,L,t)=>{t.d(L,{G:()=>I});var e=t(92938),i=t(3184),p=t(14021),l=t(7323),y=t(90587),d=t(44770),g=t(43365),f=t(54749),a=t(29847),c=t(36362);let r=(()=>{class T{constructor(x){this.billingService=x}validate(x){const s=x.value;let E=null;return s&&!this.billingService.validateCardNumber(s)&&(E={creditCard:!0}),E}}return T.\u0275fac=function(x){return new(x||T)(i.Y36(p.jM))},T.\u0275dir=i.lG2({type:T,selectors:[["","creditCard","","formControlName",""],["","creditCard","","formControl",""],["","creditCard","","ngModel",""]],features:[i._Bn([{provide:y.Cf,useExisting:(0,i.Gpc)(()=>T),multi:!0}])]}),T})();var o=t(74929);function _(T,N){1&T&&i._UZ(0,"div",23)}function n(T,N){1&T&&i.GkF(0)}function m(T,N){if(1&T&&(i.TgZ(0,"option",24),i._uU(1),i.qZA()),2&T){const x=N.$implicit;i.Q6J("value",x),i.xp6(1),i.hij(" ",x," ")}}function v(T,N){1&T&&i.GkF(0)}function h(T,N){if(1&T&&(i.TgZ(0,"option",24),i._uU(1),i.qZA()),2&T){const x=N.$implicit;i.Q6J("value",x),i.xp6(1),i.hij(" ",x," ")}}function C(T,N){1&T&&i.GkF(0)}const S=function(T){return{codeType:T}};let I=(()=>{class T{constructor(x,s){this.billingService=x,this.userService=s,this.onCardChange=new i.vpe,this.codeType="CVC",this.inputModelOptions={updateOn:"blur"}}ngOnInit(){this.initFields(this.creditCard)}onFieldChange(){let x={cardNumber:this.creditCardNum,expMonth:this.expMonth,expYear:this.expYear,cvc:this.cvc,name:this.fullName};this.codeType=this.billingService.getCardCodeType(this.creditCardNum)||"CVC",this.codeSize=this.billingService.getCardCodeSize(this.creditCardNum),this.isValidCreditCard(x)?this.onCardChange.emit({creditCard:x,valid:!0}):this.onCardChange.emit({creditCard:x,valid:!1})}getExpirationMonths(){return(0,e.fill)(new Array(12),0).map((x,s)=>(s+1).toString())}getExpirationYears(){return(0,e.fill)(new Array(15),(new Date).getFullYear()).map((x,s)=>(x+s).toString())}initFields(x){!x||(this.creditCardNum=x.cardNumber,this.fullName=x.name,this.expMonth=x.expMonth,this.expYear=x.expYear,this.cvc=x.cvc)}isValidCreditCard(x){if(!(x&&x.cardNumber&&x.cvc&&x.expMonth&&x.expYear&&x.name))return!1;const s=!!x.name&&this.userService.isValidName(x.name),E=this.billingService.validateCardNumber(x.cardNumber),H=this.billingService.validateCVC(x),V=this.billingService.validateExpiry(x.expMonth,x.expYear);return s&&E&&H&&V}}return T.\u0275fac=function(x){return new(x||T)(i.Y36(p.jM),i.Y36(l.KD))},T.\u0275cmp=i.Xpm({type:T,selectors:[["credit-card"]],inputs:{required:"required",creditCard:"creditCard"},outputs:{onCardChange:"onCardChange"},decls:42,vars:39,consts:function(){let N,x;return N=$localize`:␟59f7964f7f53754663fcd2bd0d25a8724e2bfa2e␟350120335269180528:Exp. Month`,x=$localize`:␟c074ca4b1eaf320c1e3f09dc36a17de270f20d58␟4743251757237535927:Exp. Year`,[["spacer",""],["creditCardForm","ngForm"],[1,"layout-row","two-column"],["floatLabel","always",1,"flex-100","flex-gt-sm"],["matInput","","validName","","type","text","name","fullName","autocomplete","cc-name",3,"required","ngModel","placeholder","ngModelChange"],["fullNameInput","ngModel"],["label","CBL.COMMON.REQUIRED",3,"error","isTouched"],["label","CBL.USER_DETAILS.NAME_INVALID",3,"error"],[4,"ngTemplateOutlet"],["matInput","","creditCard","","type","text","name","creditCardNum","autocomplete","cc-number",3,"ngModelOptions","required","ngModel","placeholder","ngModelChange"],["creditCardNumInput","ngModel"],["label","CBL.ERRORS.INVALID_CARD_NUMBER",3,"error"],[1,"layout-row","three-column"],["floatLabel","always"],N,["matNativeControl","","name","expMonth","autocomplete","cc-exp-month",3,"required","ngModel","ngModelChange"],["value","","selected",""],[3,"value",4,"ngFor","ngForOf"],x,["matNativeControl","","name","expYear","autocomplete","cc-exp-year",3,"required","ngModel","ngModelChange"],["matInput","","pattern","^[0-9]+$","type","text","name","cvc","autocomplete","cc-csc",3,"minlength","maxlength","required","ngModel","placeholder","ngModelChange"],["cvcInput","ngModel"],["label","CBL.ERRORS.INVALID_CVC_CODE",3,"error"],[1,"spacer","flex-none","hide","show-gt-sm"],[3,"value"]]},template:function(x,s){if(1&x&&(i.YNc(0,_,1,0,"ng-template",null,0,i.W1O),i.TgZ(2,"form",null,1)(4,"div",2)(5,"mat-form-field",3)(6,"input",4,5),i.NdJ("ngModelChange",function(H){return s.fullName=H})("ngModelChange",function(){return s.onFieldChange()}),i.ALo(8,"translate"),i.qZA(),i.TgZ(9,"mat-error"),i._UZ(10,"form-error",6)(11,"form-error",7),i.qZA()(),i.YNc(12,n,1,0,"ng-container",8),i.TgZ(13,"mat-form-field",3)(14,"input",9,10),i.NdJ("ngModelChange",function(H){return s.creditCardNum=H})("ngModelChange",function(){return s.onFieldChange()}),i.ALo(16,"translate"),i.qZA(),i.TgZ(17,"mat-error"),i._UZ(18,"form-error",6)(19,"form-error",11),i.qZA()()(),i.TgZ(20,"div",12)(21,"mat-form-field",13)(22,"mat-label"),i.SDv(23,14),i.qZA(),i.TgZ(24,"select",15),i.NdJ("ngModelChange",function(H){return s.expMonth=H})("ngModelChange",function(){return s.onFieldChange()}),i._UZ(25,"option",16),i.YNc(26,m,2,2,"option",17),i.qZA()(),i.YNc(27,v,1,0,"ng-container",8),i.TgZ(28,"mat-form-field",13)(29,"mat-label"),i.SDv(30,18),i.qZA(),i.TgZ(31,"select",19),i.NdJ("ngModelChange",function(H){return s.expYear=H})("ngModelChange",function(){return s.onFieldChange()}),i._UZ(32,"option",16),i.YNc(33,h,2,2,"option",17),i.qZA()(),i.YNc(34,C,1,0,"ng-container",8),i.TgZ(35,"mat-form-field",13)(36,"input",20,21),i.NdJ("ngModelChange",function(H){return s.cvc=H})("ngModelChange",function(){return s.onFieldChange()}),i.ALo(38,"translate"),i.qZA(),i.TgZ(39,"mat-error"),i._UZ(40,"form-error",6)(41,"form-error",22),i.qZA()()()()),2&x){const E=i.MAs(1),H=i.MAs(3),V=i.MAs(7),b=i.MAs(15),B=i.MAs(37);i.xp6(6),i.Q6J("required",s.required)("ngModel",s.fullName)("placeholder",i.lcZ(8,30,"CBL.USER_DETAILS.FULL_NAME")),i.xp6(4),i.Q6J("error",null==H.controls.fullName||null==H.controls.fullName.errors?null:H.controls.fullName.errors.required)("isTouched",V.touched),i.xp6(1),i.Q6J("error",null==H.controls.fullName||null==H.controls.fullName.errors?null:H.controls.fullName.errors.validName),i.xp6(1),i.Q6J("ngTemplateOutlet",E),i.xp6(2),i.Q6J("ngModelOptions",s.inputModelOptions)("required",s.required)("ngModel",s.creditCardNum)("placeholder",i.lcZ(16,32,"CBL.BILLING.CREDIT_CARD_NUM")),i.xp6(4),i.Q6J("error",null==H.controls.creditCardNum||null==H.controls.creditCardNum.errors?null:H.controls.creditCardNum.errors.required)("isTouched",b.touched),i.xp6(1),i.Q6J("error",null==H.controls.creditCardNum||null==H.controls.creditCardNum.errors?null:H.controls.creditCardNum.errors.creditCard),i.xp6(5),i.Q6J("required",s.required)("ngModel",s.expMonth),i.xp6(2),i.Q6J("ngForOf",s.getExpirationMonths()),i.xp6(1),i.Q6J("ngTemplateOutlet",E),i.xp6(4),i.Q6J("required",s.required)("ngModel",s.expYear),i.xp6(2),i.Q6J("ngForOf",s.getExpirationYears()),i.xp6(1),i.Q6J("ngTemplateOutlet",E),i.xp6(2),i.Q6J("minlength",s.codeSize)("maxlength",s.codeSize)("required",s.required)("ngModel",s.cvc)("placeholder",i.xi3(38,34,"CBL.BILLING.CVC_CODE",i.VKq(37,S,s.codeType))),i.xp6(4),i.Q6J("error",null==H.controls.cvc||null==H.controls.cvc.errors?null:H.controls.cvc.errors.required)("isTouched",B.touched),i.xp6(1),i.Q6J("error",(null==H.controls.cvc||null==H.controls.cvc.errors?null:H.controls.cvc.errors.pattern)||(null==H.controls.cvc||null==H.controls.cvc.errors?null:H.controls.cvc.errors.minlength)||(null==H.controls.cvc||null==H.controls.cvc.errors?null:H.controls.cvc.errors.maxlength))}},directives:[y._Y,y.JL,y.F,d.KE,g.Nt,y.Fj,f.m,y.Q7,y.JJ,y.On,d.TO,a.A,c.tP,r,d.hX,y.EJ,y.YN,y.Kr,c.sg,y.c5,y.wO,y.nD],pipes:[o.X],styles:["credit-card{display:block}credit-card mat-select{width:100%}credit-card .mat-select .mat-select-underline{bottom:4px}credit-card mat-form-field{flex:1 1 100%;max-width:100%;box-sizing:border-box}credit-card .two-column,credit-card .three-column{flex-wrap:wrap}@media (min-width: 960px){credit-card .spacer{width:16px}credit-card mat-form-field{flex:1 1 100%;box-sizing:border-box}credit-card .two-column,credit-card .three-column{flex-wrap:nowrap}}\n"],encapsulation:2,changeDetection:0}),T})()},53095:(oe,L,t)=>{t.d(L,{J:()=>N});var e=t(92218),i=t(85921),p=t(3184),l=t(14021),y=t(2384),d=t(31258),g=t(14296),f=t(7323),a=t(36362),c=t(32478),r=t(50450),o=t(85903),_=t(87317),n=t(74742),m=t(74929);function v(x,s){if(1&x&&p._UZ(0,"server-error",6),2&x){const E=p.oxw(2);p.Q6J("error",E.apiError)}}function h(x,s){if(1&x){const E=p.EpF();p.TgZ(0,"button",11),p.NdJ("click",function(V){return p.CHM(E),p.oxw(3).removeCard(V)}),p._uU(1),p.ALo(2,"uppercase"),p.ALo(3,"translate"),p.qZA()}2&x&&(p.xp6(1),p.hij(" ",p.lcZ(2,1,p.lcZ(3,3,"CBL.BILLING.REMOVE_CARD"))," "))}function C(x,s){if(1&x&&(p.ynx(0),p._UZ(1,"payment-method-text",7)(2,"span",8),p.YNc(3,h,4,5,"button",9),p.TgZ(4,"button",10),p._uU(5),p.ALo(6,"uppercase"),p.ALo(7,"translate"),p.qZA(),p.BQk()),2&x){const E=p.oxw(2);p.xp6(1),p.Q6J("paymentSource",E.defaultPaymentSource),p.xp6(2),p.Q6J("ngIf",E.allowRemove),p.xp6(2),p.hij(" ",p.lcZ(6,3,p.lcZ(7,5,"CBL.BILLING.UPDATE_CARD"))," ")}}function S(x,s){if(1&x&&(p.ynx(0),p._UZ(1,"icon",4),p.YNc(2,v,1,1,"server-error",5),p.YNc(3,C,8,7,"ng-container",1),p.BQk()),2&x){const E=p.oxw(),H=p.MAs(4);p.xp6(2),p.Q6J("ngIf",E.apiError),p.xp6(1),p.Q6J("ngIf",E.defaultPaymentSource)("ngIfElse",H)}}function I(x,s){1&x&&(p.TgZ(0,"span",12),p._uU(1),p.ALo(2,"translate"),p.qZA()),2&x&&(p.xp6(1),p.Oqu(p.lcZ(2,1,"CBL.BILLING.ADD_METHOD")))}function T(x,s){1&x&&p._UZ(0,"mat-spinner",13)}let N=(()=>{class x{constructor(E,H,V,b,B){this.billingService=E,this.dialogService=H,this.errorService=V,this.userService=b,this.changeDetectorRef=B,this.allowRemove=!1,this.onPaymentSource=new p.vpe,this.loaded=!1,this.onDestroy=new e.xQ}ngOnInit(){this.billingService.getChangePaymentObservable().pipe((0,i.R)(this.onDestroy)).subscribe(this.getPaymentSources.bind(this))}ngOnDestroy(){this.onDestroy.next()}showAddPaymentDialog(){this.dialogService.showDialog(d.A,{existingPaymentSource:this.defaultPaymentSource})}removeCard(E){E.stopPropagation(),this.defaultPaymentSource&&(this.loaded=!1,this.billingService.removePaymentSource(this.defaultPaymentSource.id).then(H=>this.defaultPaymentSource=void 0,H=>this.errorService.showToast(H)).then(()=>{this.loaded=!0,this.changeDetectorRef.markForCheck()}))}getPaymentSources(){this.loaded=!1,this.changeDetectorRef.markForCheck(),this.userService.isLoggedIn()?this.billingService.getPaymentSources("me").then(E=>this.handlePaymentSources(E),E=>this.handleErrors(E)).then(()=>{this.loaded=!0,this.changeDetectorRef.markForCheck()}):setTimeout(()=>{this.onPaymentSource.emit(void 0),this.loaded=!0,this.changeDetectorRef.markForCheck()})}handlePaymentSources(E){this.apiError=void 0,this.setDefaultPaymentSource(E)}setDefaultPaymentSource(E){this.defaultPaymentSource=void 0,(null==E?void 0:E.length)&&(this.defaultPaymentSource=E.find(H=>H.is_default),this.defaultPaymentSource||(this.defaultPaymentSource=E[0])),this.onPaymentSource.emit(this.defaultPaymentSource)}handleErrors(E){this.apiError=E,this.onPaymentSource.emit(void 0)}}return x.\u0275fac=function(E){return new(E||x)(p.Y36(l.jM),p.Y36(y.x),p.Y36(g.T),p.Y36(f.KD),p.Y36(p.sBO))},x.\u0275cmp=p.Xpm({type:x,selectors:[["default-payment"]],inputs:{allowRemove:"allowRemove"},outputs:{onPaymentSource:"onPaymentSource"},decls:7,vars:5,consts:[[3,"click"],[4,"ngIf","ngIfElse"],["addPaymentSource",""],["loading",""],["key","icon_credit_card","size","xxxlarge",1,"credit-card-icon"],[3,"error",4,"ngIf"],[3,"error"],[3,"paymentSource"],[1,"spacer"],["mat-button","","class","mat-warn",3,"click",4,"ngIf"],["mat-button","",1,"mat-primary"],["mat-button","",1,"mat-warn",3,"click"],[1,"add-payment"],["diameter","36"]],template:function(E,H){if(1&E&&(p.TgZ(0,"div",0),p.NdJ("click",function(){return H.showAddPaymentDialog()}),p.ALo(1,"translate"),p.YNc(2,S,4,3,"ng-container",1),p.YNc(3,I,3,3,"ng-template",null,2,p.W1O),p.YNc(5,T,1,0,"ng-template",null,3,p.W1O),p.qZA()),2&E){const V=p.MAs(6);p.uIk("aria-label",p.lcZ(1,3,"CBL.BILLING.PAYMENT_INFO")),p.xp6(2),p.Q6J("ngIf",H.loaded)("ngIfElse",V)}},directives:[a.O5,c.o,r.k,o.M,_.lW,n.Ou],pipes:[m.X,a.gd],styles:["default-payment{display:block;cursor:pointer}default-payment>div{box-sizing:border-box;display:flex!important;flex-direction:row;justify-content:flex-start;align-items:center;align-content:center;max-width:100%;min-height:48px}default-payment>div>*{max-width:100%;box-sizing:border-box}default-payment .credit-card-icon{margin-right:16px}default-payment .spacer{flex:1;box-sizing:border-box}default-payment .add-payment{font-weight:500}\n"],encapsulation:2,changeDetection:0}),x})()},10523:(oe,L,t)=>{t.d(L,{_:()=>le});var e=t(92938),p=t(93443),l=t(14021),y=t(46179),d=t(2384),g=t(94882),f=t(98789),a=t(42330),c=t(19193),r=t(83910),o=t(3184),_=t(95758),n=t(90587),m=t(73729),v=t(36362),h=t(44770),C=t(91434),S=t(1130),I=t(53095),T=t(50450),N=t(87317),x=t(74929);const s=function(J){return{productName:J}};function E(J,u){if(1&J&&(o.TgZ(0,"section",9)(1,"p"),o._uU(2),o.ALo(3,"translate"),o.qZA()()),2&J){const D=o.oxw();o.xp6(2),o.hij(" ",o.xi3(3,1,"CBL.BILLING.CONVERT_TO_SUBSCRIPTION_TEXT",o.VKq(4,s,D.displayName))," ")}}function H(J,u){if(1&J&&(o.TgZ(0,"mat-option",31),o._uU(1),o.qZA()),2&J){const D=u.$implicit;o.Q6J("value",D),o.xp6(1),o.hij("",D," ")}}function V(J,u){if(1&J&&(o.TgZ(0,"mat-option",31)(1,"span"),o._uU(2),o.qZA()()),2&J){const D=u.$implicit;o.Q6J("value",D.id),o.xp6(2),o.hij(" ",D.label," ")}}const b=function(J){return{cost:J}};function B(J,u){if(1&J&&(o.TgZ(0,"div",32),o._uU(1),o.ALo(2,"translate"),o.ALo(3,"uppercase"),o.qZA()),2&J){const D=o.oxw(3);o.xp6(1),o.hij(" ",o.xi3(2,1,"CBL.BILLING.TOTAL_COST."+o.lcZ(3,4,D.selectedPlan.frequency),o.VKq(6,b,D.totalCost))," ")}}function Q(J,u){if(1&J){const D=o.EpF();o.TgZ(0,"div",19)(1,"div",20)(2,"mat-form-field")(3,"mat-select",21),o.NdJ("ngModelChange",function(ne){return o.CHM(D),o.oxw(2).numLicenses=ne})("ngModelChange",function(){o.CHM(D);const ne=o.oxw(2);return ne.recalculatePrice(ne.selectedPlan,ne.numLicenses)}),o.ALo(4,"translate"),o.YNc(5,H,2,2,"mat-option",22),o.qZA()()(),o.TgZ(6,"div",23),o._UZ(7,"span",20),o.TgZ(8,"span",24),o._uU(9,"\xd7"),o.qZA(),o._UZ(10,"span",20),o.qZA(),o.TgZ(11,"div",20)(12,"mat-form-field")(13,"mat-select",25),o.NdJ("selectionChange",function(){o.CHM(D);const ne=o.oxw(2);return ne.recalculatePrice(ne.selectedPlan,ne.numLicenses)})("ngModelChange",function(ne){return o.CHM(D),o.oxw(2).selectedPlan.id=ne}),o.ALo(14,"translate"),o.YNc(15,V,3,2,"mat-option",22),o.qZA()()(),o.TgZ(16,"div",23),o._UZ(17,"span",20),o.TgZ(18,"span",26),o._uU(19,"="),o.qZA(),o._UZ(20,"span",20),o.qZA(),o.TgZ(21,"div",27)(22,"div",28),o.SDv(23,29),o.qZA(),o.YNc(24,B,4,8,"div",30),o.qZA()()}if(2&J){const D=o.oxw(2);o.xp6(3),o.Q6J("ngModel",D.numLicenses)("placeholder",o.lcZ(4,7,"CBL.BILLING.NUM_SEATS")),o.xp6(2),o.Q6J("ngForOf",D.getLicenseCountOptions()),o.xp6(8),o.Q6J("ngModel",D.selectedPlan.id)("placeholder",o.lcZ(14,9,"CBL.BILLING.SUBSCRIPTION_TYPE")),o.xp6(2),o.Q6J("ngForOf",D.plans),o.xp6(9),o.Q6J("ngIf",D.selectedPlan&&D.selectedPlan.frequency)}}function $(J,u){if(1&J&&(o.TgZ(0,"section",10)(1,"div",11)(2,"span",12),o.SDv(3,13),o.qZA(),o.TgZ(4,"span",14),o.SDv(5,15),o.qZA()(),o.YNc(6,Q,25,11,"div",16),o.TgZ(7,"span",17),o._uU(8),o.ALo(9,"translate"),o.TgZ(10,"a",18),o.ALo(11,"translate"),o._uU(12),o.ALo(13,"translate"),o.qZA(),o._uU(14,". "),o.qZA()()),2&J){const D=o.oxw();o.xp6(6),o.Q6J("ngIf",D.selectedPlan),o.xp6(2),o.hij(" ",o.lcZ(9,4,"CBL.BILLING.MORE_THAN_20_SEATS"),"\xa0 "),o.xp6(2),o.MGl("href","mailto:",o.lcZ(11,6,"CBL.BILLING.SALES_EMAIL_ADDRESS"),"",o.LSH),o.xp6(2),o.hij(" ",o.lcZ(13,8,"CBL.BILLING.SALES_EMAIL_ADDRESS")," ")}}function W(J,u){1&J&&(o.TgZ(0,"section",33),o._UZ(1,"default-payment",34),o.qZA())}function q(J,u){if(1&J){const D=o.EpF();o.TgZ(0,"button",35),o.NdJ("click",function(){o.CHM(D);const ne=o.oxw();return ne.isTrial?ne.buyLicenses():ne.addLicensesToSubscription()}),o.ALo(1,"translate"),o.TgZ(2,"span",36),o._uU(3),o.ALo(4,"uppercase"),o.ALo(5,"translate"),o.qZA()()}if(2&J){const D=o.oxw();o.Q6J("disabled",!D.isTrial&&D.numLicenses==D.subscription.total_license_count||D.processing),o.uIk("aria-label",o.lcZ(1,3,"CBL.COMMON.CONFIRM")),o.xp6(3),o.Oqu(o.lcZ(4,5,o.lcZ(5,7,"CBL.COMMON.CONFIRM")))}}let le=(()=>{class J extends d.V{constructor(D,se,ne,_e,ee,w,G){super(),this.analyticsService=D,this.billingService=se,this.toastService=ne,this.labelService=_e,this.dialogRef=ee,this.teamPermissionService=w,this.productService=G,this.numLicenses=1,this.isFree=!1,this.isTrial=!1,this.totalCost="",this.processing=!1}ngOnInit(){this.subscription=this.payload.subscription,this.product=this.payload.product,this.planId=this.payload.planId,this.numLicenses=this.subscription.total_license_count||1,this.isTrial=this.subscription.term_type===p.ND.TermTypeEnum.trial,this.displayName=this.productService.getDisplayName(this.product,this.subscription.plan_id),this.dialogTitle=this.getDialogTitle(this.displayName,this.isTrial),this.handleProduct(this.product)}getLicenseCountOptions(){let D=1;return this.subscription&&(D=this.subscription.total_license_count),this.productService.getSelfServeLicenseRange(D)}recalculatePrice(D,se){let _e=se*(D?D.price:0);this.isFree=0===_e,this.totalCost=this.billingService.formatAsPrice(_e,2),this.plans=this.attachPlanLabels(this.plans)}getPlanLabel(D){return D?this.labelService.getInterpolatedLabel(D.frequency===p.mz.FrequencyEnum.monthly?"CBL.BILLING.TOTAL_COST.PER_MONTH":"CBL.BILLING.TOTAL_COST.PER_YEAR",{cost:this.billingService.formatAsPrice(D.price,2)}):""}addLicensesToSubscription(){this.subscription.total_license_count!==this.numLicenses&&(this.processing=!0,this.billingService.modifySubscription(this.subscription.id,{license_count:this.numLicenses}).then(D=>this.handleSuccess(D),D=>this.handleErrors(D)))}buyLicenses(){if(!this.selectedPlan)return;const D={quantity:this.numLicenses,planId:this.selectedPlan.id,coupon:this.subscription.coupon,metadata:this.analyticsService.getUTMParameters()};this.processing=!0,(0,c.aj)([this.teamPermissionService.getUserTeam$(),this.teamPermissionService.isUserTeamOwner$()]).pipe((0,r.q)(1)).subscribe(([se,ne])=>{se&&ne&&(D.teamId=se.team_id),this.billingService.subscribe(D).then(_e=>this.handleSuccess(_e),_e=>this.handleErrors(_e))})}attachPlanLabels(D){const se=(0,e.map)(D,ne=>Object.assign({},ne,{label:this.getPlanLabel(ne)}));return this.processing=!1,se}handleProduct(D){this.plans=this.attachPlanLabels(D.productPlans);let se=this.subscription.plan_id;const ne=this.plans.find(_e=>_e.id===se);this.selectedPlan=(null==ne?void 0:ne.frequency)===p.mz.FrequencyEnum.trial?this.plans.find(_e=>_e.id===ne.trialRenewalPlanId):ne,this.recalculatePrice(this.selectedPlan,this.numLicenses),this.planId&&(this.plans=this.plans.filter(_e=>_e.id===this.subscription.plan_id)),this.plans=this.plans.filter(_e=>_e.frequency!==p.mz.FrequencyEnum.trial)}handleSuccess(D){this.toastService.showSimpleToast(this.isTrial?"CBL.BILLING.SUBSCRIBED_WELCOME":"CBL.BILLING.SUBSCRIPTION_UPDATED"),this.processing=!1,this.dialogRef.close(this.numLicenses)}handleErrors(D){this.error=D,this.processing=!1}getDialogTitle(D,se){return se?this.labelService.getLabel("CBL.BILLING.CONVERT_TO_SUBSCRIPTION_TITLE"):this.labelService.getInterpolatedLabel("CBL.BILLING.ADD_PRODUCT_SEATS",{productName:D})}}return J.\u0275fac=function(D){return new(D||J)(o.Y36(f.y),o.Y36(l.jM),o.Y36(y.k),o.Y36(g.Q),o.Y36(_.so),o.Y36(a.$),o.Y36(l.M5))},J.\u0275cmp=o.Xpm({type:J,selectors:[["modify-subscription"]],features:[o.qOj],decls:9,vars:8,consts:function(){let u,D,se;return u=$localize`:␟f4b265fb281e0d5ab74cee74db6a86a2fcef0e4f␟5702180179630151135: Select the total number of seats you would like to have. `,D=$localize`:␟14b0e5f7d841667f91085ea43d9f5d3f6c1a84cd␟3227654573620588960: Your change will take effect immediately and your credit card will be charged the prorated difference. `,se=$localize`:␟3f04d6ea57ad8678ae86fd1f217124f94e0ba3da␟7474263415295938230: Total / Billing Cycle `,[["name","modifySubscriptionForm",1,"component--modify-subscription"],[3,"title","fullBleed","processing"],["dialog-content",""],["class","trial-upgrade-explainer",4,"ngIf"],["class","add-seats-step",4,"ngIf"],["class","payment-step",4,"ngIf"],[3,"error"],["dialog-actions","",1,"layout-row","cb-padding-medium"],["mat-raised-button","","color","primary","type","submit",3,"disabled","click",4,"ngIf"],[1,"trial-upgrade-explainer"],[1,"add-seats-step"],[1,"layout-row","layout-wrap","layout-align-start-center"],[1,"flex-100","cb-font-size-default","cb-font-weight-bold","cb-margin-small-bottom"],u,[1,"flex-100","cb-font-size-small","cb-margin-medium-bottom"],D,["class","flex layout-column layout-gt-sm-row layout-align-start-stretch layout-align-gt-sm-start-center cb-margin-gt-sm-none-top cb-margin-xlarge-top",4,"ngIf"],[1,"layout-row","cb-font-size-small","cb-margin-medium-bottom"],[1,"link-primary",3,"href"],[1,"flex","layout-column","layout-gt-sm-row","layout-align-start-stretch","layout-align-gt-sm-start-center","cb-margin-gt-sm-none-top","cb-margin-xlarge-top"],[1,"flex"],["name","numLicenses",3,"ngModel","placeholder","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"layout-row","flex-none"],[1,"times"],["name","selectedPlan","disabled","",1,"plan-select",3,"ngModel","placeholder","selectionChange","ngModelChange"],[1,"equals"],[1,"total","cb-border","layout-column","flex-none","cb-margin-large-bottom","cb-padding-large"],[1,"cb-margin-small-bottom","cb-font-size-small","cb-text-color-medium"],se,["class","total-cost cb-font-weight-bold cb-font-size-large",4,"ngIf"],[3,"value"],[1,"total-cost","cb-font-weight-bold","cb-font-size-large"],[1,"payment-step"],[1,"cb-width-100"],["mat-raised-button","","color","primary","type","submit",3,"disabled","click"],[1,"cb-padding-large-horizontal"]]},template:function(D,se){1&D&&(o.TgZ(0,"form",0)(1,"dialog-layout",1)(2,"div",2),o.YNc(3,E,4,6,"section",3),o.YNc(4,$,15,10,"section",4),o.YNc(5,W,2,0,"section",5),o._UZ(6,"server-error",6),o.qZA(),o.TgZ(7,"div",7),o.YNc(8,q,6,9,"button",8),o.qZA()()()),2&D&&(o.xp6(1),o.Q6J("title",se.dialogTitle)("fullBleed",!0)("processing",se.processing),o.xp6(2),o.Q6J("ngIf",se.isTrial),o.xp6(1),o.Q6J("ngIf",!se.isTrial),o.xp6(1),o.Q6J("ngIf",!se.isFree),o.xp6(1),o.Q6J("error",se.error),o.xp6(2),o.Q6J("ngIf",se.subscription))},directives:[n._Y,n.JL,n.F,m.I,v.O5,h.KE,C.gD,n.JJ,n.On,v.sg,S.ey,I.J,T.k,N.lW],pipes:[x.X,v.gd],styles:[".component--modify-subscription[_ngcontent-%COMP%]{max-width:700px}.component--modify-subscription[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{padding:16px}.component--modify-subscription[_ngcontent-%COMP%]   mat-select[_ngcontent-%COMP%]{min-width:100px;font-weight:500}.component--modify-subscription[_ngcontent-%COMP%]   .trial-upgrade-explainer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.component--modify-subscription[_ngcontent-%COMP%]   .add-seats-step[_ngcontent-%COMP%]{background-color:#fafafa;border-bottom-style:solid;border-bottom-width:1px;border-color:#0000001f}.component--modify-subscription[_ngcontent-%COMP%]   .payment-step[_ngcontent-%COMP%]{padding:8px 16px;flex:1;box-sizing:border-box;display:flex!important;flex-direction:column}.component--modify-subscription[_ngcontent-%COMP%]   .times[_ngcontent-%COMP%], .component--modify-subscription[_ngcontent-%COMP%]   .equals[_ngcontent-%COMP%]{margin:0 16px;font-size:36px;line-height:36px;color:#0000008a}.component--modify-subscription[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{border-color:#4caf50;min-width:40px;text-align:center}.component--modify-subscription[_ngcontent-%COMP%]  server-error>div{padding-left:20px;padding-right:20px;padding-bottom:8px}"]}),J})()},76980:(oe,L,t)=>{t.d(L,{b:()=>g});var e=t(36362),i=t(35503),p=t(90898),l=t(32519),y=t(51151),d=t(3184);let g=(()=>{class f{}return f.\u0275fac=function(c){return new(c||f)},f.\u0275mod=d.oAB({type:f}),f.\u0275inj=d.cJS({imports:[[e.ez,i.Dt,p.q,l.n,y.A]]}),f})()},20902:(oe,L,t)=>{t.d(L,{n:()=>d});var e=t(36362),i=t(32313),p=t(90587),l=t(90898),y=t(3184);let d=(()=>{class g{}return g.\u0275fac=function(a){return new(a||g)},g.\u0275mod=y.oAB({type:g}),g.\u0275inj=y.cJS({imports:[[e.ez,i.H,p.u5,l.q]]}),g})()},92434:(oe,L,t)=>{t.d(L,{O:()=>p});var e=t(3184);const i=["*"];let p=(()=>{class l{}return l.\u0275fac=function(d){return new(d||l)},l.\u0275cmp=e.Xpm({type:l,selectors:[["chips-container"]],ngContentSelectors:i,decls:1,vars:0,template:function(d,g){1&d&&(e.F$t(),e.Hsn(0))},styles:["[_nghost-%COMP%]{margin:0 -8px;display:block}[_nghost-%COMP%]  chip{margin:8px;max-width:calc(100% - 16px);box-sizing:border-box}"]}),l})()},83447:(oe,L,t)=>{t.d(L,{E:()=>y});var e=t(36362),i=t(35503),p=t(90898),l=t(3184);let y=(()=>{class d{}return d.\u0275fac=function(f){return new(f||d)},d.\u0275mod=l.oAB({type:d}),d.\u0275inj=l.cJS({imports:[[e.ez,i.Dt,p.q]]}),d})()},2631:(oe,L,t)=>{t.d(L,{E:()=>g});var e=t(32313),i=t(35503),p=t(40089),l=t(36362),y=t(5076),d=t(3184);let g=(()=>{class f{}return f.\u0275fac=function(c){return new(c||f)},f.\u0275mod=d.oAB({type:f}),f.\u0275inj=d.cJS({imports:[[l.ez,e.H,i.Dt,p.AV,y.V]]}),f})()},19250:(oe,L,t)=>{t.d(L,{c:()=>s});var e=t(81824),i=t(20605),p=t(3184),l=t(35585),y=t(61531),d=t(36362),g=t(74160),f=t(40089),a=t(74929);function c(E,H){1&E&&p.GkF(0)}const r=function(E){return{contactsCredits:E}};function o(E,H){if(1&E&&(p.TgZ(0,"span"),p.YNc(1,c,1,0,"ng-container",4),p.qZA()),2&E){const V=p.oxw().ngIf;p.oxw(2);const b=p.MAs(2);p.xp6(1),p.Q6J("ngTemplateOutlet",b)("ngTemplateOutletContext",p.VKq(2,r,V))}}function _(E,H){1&E&&p.GkF(0)}function n(E,H){if(1&E&&(p.TgZ(0,"label-with-icon",5),p.ALo(1,"translate"),p.YNc(2,_,1,0,"ng-container",4),p.qZA()),2&E){const V=p.oxw().ngIf;p.oxw(2);const b=p.MAs(2);p.Q6J("matTooltip",p.lcZ(1,3,"CBL.ENTITY.CONTACTS_CARD.CONTACTS_CREDITS.REFRESH")),p.xp6(2),p.Q6J("ngTemplateOutlet",b)("ngTemplateOutletContext",p.VKq(5,r,V))}}function m(E,H){if(1&E&&(p.ynx(0),p.YNc(1,o,2,4,"span",2),p.YNc(2,n,3,7,"label-with-icon",3),p.BQk()),2&E){const V=p.oxw(2);p.xp6(1),p.Q6J("ngIf",!V.showIcon),p.xp6(1),p.Q6J("ngIf",V.showIcon)}}const v=function(E){return{value:E}};function h(E,H){if(1&E&&(p.ynx(0),p.YNc(1,m,3,2,"ng-container",2),p.ALo(2,"async"),p.BQk()),2&E){const V=p.oxw();p.xp6(1),p.Q6J("ngIf",p.VKq(3,v,p.lcZ(2,1,V.contactsCredits$)))}}const C=function(){return{credits:0}};function S(E,H){1&E&&(p.ynx(0),p._uU(1),p.ALo(2,"translate"),p.BQk()),2&E&&(p.xp6(1),p.hij(" ",p.xi3(2,1,"CBL.ENTITY.CONTACTS_CARD.CONTACTS_CREDITS.MULTIPLE_VIEWS_REMAINING",p.DdM(4,C))," "))}function I(E,H){1&E&&(p.ynx(0),p.SDv(1,6),p.BQk())}const T=function(E){return{credits:E}};function N(E,H){if(1&E&&(p.ynx(0),p._uU(1),p.ALo(2,"translate"),p.BQk()),2&E){const V=p.oxw().contactsCredits;p.xp6(1),p.hij(" ",p.xi3(2,1,"CBL.ENTITY.CONTACTS_CARD.CONTACTS_CREDITS.MULTIPLE_VIEWS_REMAINING",p.VKq(4,T,V.value))," ")}}function x(E,H){if(1&E&&(p.YNc(0,S,3,5,"ng-container",2),p.YNc(1,I,2,0,"ng-container",2),p.YNc(2,N,3,6,"ng-container",2)),2&E){const V=H.contactsCredits;p.Q6J("ngIf",!V.value),p.xp6(1),p.Q6J("ngIf",1===V.value),p.xp6(1),p.Q6J("ngIf",V.value&&V.value>1)}}let s=(()=>{class E{constructor(V){this.store=V,this.showIcon=!0,this.maintenanceModeBillingFlag=i.TT.MAINTENANCE_MODE_BILLING,this.contactsCredits$=this.store.select(e.we)}}return E.\u0275fac=function(V){return new(V||E)(p.Y36(l.yh))},E.\u0275cmp=p.Xpm({type:E,selectors:[["contacts-credits"]],inputs:{showIcon:"showIcon"},decls:3,vars:1,consts:function(){let H;return H=$localize`:␟c33661921e63750b2eda805868d5360f67255a8e␟1413246140025385052: 1 Contact View Remaining `,[[4,"ifNotFeatureFlagBoolean"],["text",""],[4,"ngIf"],["iconKey","icon_eye_open","iconSize","large",3,"matTooltip",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["iconKey","icon_eye_open","iconSize","large",3,"matTooltip"],H]},template:function(V,b){1&V&&(p.YNc(0,h,3,5,"ng-container",0),p.YNc(1,x,3,3,"ng-template",null,1,p.W1O)),2&V&&p.Q6J("ifNotFeatureFlagBoolean",b.maintenanceModeBillingFlag)},directives:[y.l,d.O5,d.tP,g.d,f.gM],pipes:[d.Ov,a.X],styles:["label-with-icon[_ngcontent-%COMP%]{margin-bottom:8px}"],changeDetection:0}),E})()},96657:(oe,L,t)=>{t.d(L,{F:()=>f});var e=t(94882),i=t(46179),p=t(3184),l=t(87317),y=t(40089),d=t(91604),g=t(32478);let f=(()=>{class a{constructor(r,o){this.labelService=r,this.toastService=o,this.tooltip=$localize`Copy`}showToast(){this.toastService.showSimpleToast("CBL.COMMON.COPIED")}}return a.\u0275fac=function(r){return new(r||a)(p.Y36(e.Q),p.Y36(i.k))},a.\u0275cmp=p.Xpm({type:a,selectors:[["copy-to-clipboard"]],inputs:{clipboard:"clipboard",tooltip:"tooltip"},decls:2,vars:3,consts:[["mat-icon-button","",3,"matTooltip","cdkCopyToClipboard","cdkCopyToClipboardCopied"],["key","icon_copy","size","text"]],template:function(r,o){1&r&&(p.TgZ(0,"button",0),p.NdJ("cdkCopyToClipboardCopied",function(){return o.showToast()}),p._UZ(1,"icon",1),p.qZA()),2&r&&(p.Q6J("matTooltip",o.tooltip)("cdkCopyToClipboard",o.clipboard),p.uIk("aria-label",o.tooltip))},directives:[l.lW,y.gM,d.i3,g.o],styles:["[mat-icon-button][_ngcontent-%COMP%]{line-height:unset;border-radius:2px;height:18px!important;width:18px!important;padding:0 2px}"],changeDetection:0}),a})()},69287:(oe,L,t)=>{t.d(L,{Q:()=>f});var e=t(36362),i=t(91604),p=t(87317),l=t(32519),y=t(40089),d=t(35503),g=t(3184);let f=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=g.oAB({type:a}),a.\u0275inj=g.cJS({imports:[[i.Iq,e.ez,l.n,p.ot,y.AV,d.Dt]]}),a})()},60469:(oe,L,t)=>{t.d(L,{O:()=>d});var e=t(36362),i=t(32519),p=t(32313),l=t(35503),y=t(3184);let d=(()=>{class g{}return g.\u0275fac=function(a){return new(a||g)},g.\u0275mod=y.oAB({type:g}),g.\u0275inj=y.cJS({imports:[[e.ez,i.n,p.H,l.Dt]]}),g})()},31935:(oe,L,t)=>{t.d(L,{n:()=>b});var e=t(92218),i=t(5149),p=t(86942),l=t(85921),y=t(59151),d=t(843),g=t(2509),f=t(98789),a=t(3184),c=t(35585),r=t(36362),o=t(46036),_=t(87317),n=t(45857),m=t(74160),v=t(20757),h=t(74929);function C(B,Q){1&B&&a._UZ(0,"theme-icon",2)}let S=(()=>{class B{}return B.\u0275fac=function($){return new($||B)},B.\u0275cmp=a.Xpm({type:B,selectors:[["crm-connect-to-salesforce-label"]],decls:5,vars:4,consts:[[3,"iconTemplate"],["salesforceIcon",""],["themeId","salesforce","color","theme"]],template:function($,W){if(1&$&&(a.TgZ(0,"label-with-icon",0),a._uU(1),a.ALo(2,"translate"),a.qZA(),a.YNc(3,C,1,0,"ng-template",null,1,a.W1O)),2&$){const q=a.MAs(4);a.Q6J("iconTemplate",q),a.xp6(1),a.hij(" ",a.lcZ(2,2,"CBL.CRM.CONNECT_TO_CRM"),"\n")}},directives:[m.d,v.p],pipes:[h.X],encapsulation:2,changeDetection:0}),B})();var I=t(43652);function T(B,Q){if(1&B){const $=a.EpF();a.TgZ(0,"a",5),a.NdJ("click",function(){return a.CHM($),a.oxw(3).logUsageEvent()}),a._UZ(1,"crm-connect-to-salesforce-label"),a.qZA()}if(2&B){const $=a.oxw(3);a.Q6J("color",$.color)("queryParams",$.integrationsLinkParams)}}function N(B,Q){if(1&B){const $=a.EpF();a.TgZ(0,"button",6),a.NdJ("click",function(){a.CHM($);const q=a.oxw(3);return q.showPreConnectDialog(),q.logUsageEvent()}),a._UZ(1,"crm-connect-to-salesforce-label"),a.qZA()}if(2&B){const $=a.oxw(3);a.Q6J("color",$.color)}}function x(B,Q){if(1&B&&(a.ynx(0),a.YNc(1,T,2,2,"a",3),a.YNc(2,N,2,1,"button",4),a.BQk()),2&B){const $=a.oxw(2);a.xp6(1),a.Q6J("ngIf",$.showLinkToIntegrationsPage),a.xp6(1),a.Q6J("ngIf",!$.showLinkToIntegrationsPage)}}function s(B,Q){if(1&B&&(a.TgZ(0,"upsell-modal-button",7),a._uU(1),a.ALo(2,"translate"),a.qZA()),2&B){const $=a.oxw(2);a.Q6J("triggerLocation",$.triggerLocation)("showDetails",!0),a.xp6(1),a.hij(" ",a.lcZ(2,3,"CBL.CRM.CONNECT_TO_CRM")," ")}}function E(B,Q){if(1&B&&(a.ynx(0),a.YNc(1,x,3,2,"ng-container",0),a.ALo(2,"async"),a.YNc(3,s,3,5,"upsell-modal-button",2),a.ALo(4,"async"),a.BQk()),2&B){const $=a.oxw();a.xp6(1),a.Q6J("ngIf",a.lcZ(2,2,$.canConnectCrm$)),a.xp6(2),a.Q6J("ngIf",!a.lcZ(4,4,$.canConnectCrm$))}}function H(B,Q){1&B&&(a.TgZ(0,"div",11),a.SDv(1,12),a.qZA())}function V(B,Q){if(1&B&&(a.TgZ(0,"div",8)(1,"label-with-icon",9),a._uU(2),a.ALo(3,"translate"),a.qZA(),a.YNc(4,H,2,0,"div",10),a.ALo(5,"async"),a.qZA()),2&B){const $=a.oxw();a.xp6(2),a.hij(" ",a.lcZ(3,2,"CBL.SEARCH.CRM.CRM_CONNECTED")," "),a.xp6(2),a.Q6J("ngIf",a.lcZ(5,4,$.syncInProgress$))}}let b=(()=>{class B{constructor($,W,q){this.store=$,this.permissionService=W,this.usageEventsService=q,this.color="accent",this.showConnected=!1,this.showLinkToIntegrationsPage=!1,this.canConnectCrm$=this.permissionService.getPermissions().pipe((0,p.U)(le=>le.canConnectCrm())),this.isCrmConnected$=this.store.select(i.k2),this.syncInProgress$=this.store.select(i.V2),this.integrationsLinkParams={[g.$]:!0},this.onDestroy$=new e.xQ}ngOnInit(){this.isCrmConnected$.pipe((0,l.R)(this.onDestroy$),(0,y.h)($=>$)).subscribe($=>{this.store.dispatch((0,i.BA)())})}ngOnDestroy(){this.onDestroy$.next()}showPreConnectDialog(){this.store.dispatch((0,i.uJ)({}))}logUsageEvent(){this.usageEventsService.logUsageEvent("connect_crm",{})}}return B.\u0275fac=function($){return new($||B)(a.Y36(c.yh),a.Y36(d.$),a.Y36(f.N))},B.\u0275cmp=a.Xpm({type:B,selectors:[["crm-connection"]],inputs:{color:"color",showConnected:"showConnected",triggerLocation:"triggerLocation",showLinkToIntegrationsPage:"showLinkToIntegrationsPage"},decls:4,vars:6,consts:function(){let Q;return Q=$localize`:␟33d47cab947092fb21670b6aed4d55731086803a␟1399864898704317355: Sync in progress... `,[[4,"ngIf"],["class","connected",4,"ngIf"],["buttonType","stroked","featureSet","connect_crm",3,"triggerLocation","showDetails",4,"ngIf"],["mat-stroked-button","","routerLink","/account/integrations",3,"color","queryParams","click",4,"ngIf"],["mat-stroked-button","","data-heap-show-crm-connect-modal","",3,"color","click",4,"ngIf"],["mat-stroked-button","","routerLink","/account/integrations",3,"color","queryParams","click"],["mat-stroked-button","","data-heap-show-crm-connect-modal","",3,"color","click"],["buttonType","stroked","featureSet","connect_crm",3,"triggerLocation","showDetails"],[1,"connected"],["iconKey","icon_check_knockout_round","iconColor","success"],["class","sync-in-progress",4,"ngIf"],[1,"sync-in-progress"],Q]},template:function($,W){1&$&&(a.YNc(0,E,5,6,"ng-container",0),a.ALo(1,"async"),a.YNc(2,V,6,6,"div",1),a.ALo(3,"async")),2&$&&(a.Q6J("ngIf",!a.lcZ(1,2,W.isCrmConnected$)),a.xp6(2),a.Q6J("ngIf",W.showConnected&&a.lcZ(3,4,W.isCrmConnected$)))},directives:[r.O5,o.n,_.zs,n.yS,S,_.lW,I.J,m.d],pipes:[r.Ov,h.X],styles:[".connected[_ngcontent-%COMP%]{padding-left:10px}.connected[_ngcontent-%COMP%]   label-with-icon[_ngcontent-%COMP%]{display:flex}.sync-in-progress[_ngcontent-%COMP%]{font-size:13px;line-height:20px;color:#666;letter-spacing:.2px;font-weight:400;font-family:Roboto,Arial,sans-serif}"],changeDetection:0}),B})()},81509:(oe,L,t)=>{t.d(L,{X:()=>o});var e=t(36362),i=t(45857),p=t(89250),l=t(90898),y=t(35503),d=t(32519),g=t(32313),f=t(60469),a=t(83e3),c=t(19366),r=t(3184);let o=(()=>{class _{}return _.\u0275fac=function(m){return new(m||_)},_.\u0275mod=r.oAB({type:_}),_.\u0275inj=r.cJS({imports:[[e.ez,p.S,l.q,y.Dt,d.n,g.H,i.Bz,f.O,a.S,c.L]]}),_})()},35595:(oe,L,t)=>{t.d(L,{e:()=>It});var e=t(3184),i=t(92218),p=t(19193),l=t(5149),y=t(85921),d=t(59151),g=t(86942),f=t(7323),a=t(4151),c=t(18052),r=t(35585),o=t(84128),_=t(36362),n=t(74160),m=t(20757),v=t(80670),h=t(90164),C=t(87317),S=t(32478),I=t(74929),T=t(94882),N=t(46532);let s=(()=>{class Ue{constructor(De,ae){this.dateUtil=De,this.labelService=ae}transform(De,ae){"object"!=typeof De&&(De=new Date(De));const Le=this.dateUtil.daysSinceTimestamp(De);return this.getRelativeDateString(Le,null==ae?void 0:ae.monthThreshold,null==ae?void 0:ae.yearThreshold)}getRelativeDateString(De,ae=180,Le=730){if(0===De)return $localize`Today`;if(1===De)return this.labelService.getLabel("CBL.COMMON.RELATIVE_DATE.DAY");if(De<=ae)return this.labelService.getInterpolatedLabel("CBL.COMMON.RELATIVE_DATE.DAYS",{days:De});if(De<=Le){const dt=Math.round(De/30.417);return 1===dt?this.labelService.getLabel("CBL.COMMON.RELATIVE_DATE.MONTH"):this.labelService.getInterpolatedLabel("CBL.COMMON.RELATIVE_DATE.MONTHS",{months:dt})}const Fe=Math.round(De/365);return 1===Fe?this.labelService.getLabel("CBL.COMMON.RELATIVE_DATE.YEAR"):this.labelService.getInterpolatedLabel("CBL.COMMON.RELATIVE_DATE.YEARS",{years:Fe})}}return Ue.\u0275fac=function(De){return new(De||Ue)(e.Y36(N.E,16),e.Y36(T.Q,16))},Ue.\u0275pipe=e.Yjl({name:"relativeDate",type:Ue,pure:!1}),Ue})();function E(Ue,we){1&Ue&&(e.TgZ(0,"label-with-icon",6),e.SDv(1,7),e.qZA()),2&Ue&&e.Q6J("iconAfter",!0)}function H(Ue,we){if(1&Ue&&(e._UZ(0,"external-link",14),e.ALo(1,"translate")),2&Ue){const De=e.oxw().$implicit;e.Q6J("url",De.crm_link)("label",e.lcZ(1,3,"CBL.CRM.ACCOUNT_OVERLAY.LINK"))("color","accent")}}function V(Ue,we){if(1&Ue&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"date"),e.ALo(3,"relativeDate"),e.qZA()),2&Ue){const De=e.oxw().$implicit;e.xp6(1),e.AsE("",e.xi3(2,2,De.last_activity_date,"mediumDate")," (",e.lcZ(3,5,De.last_activity_date),")")}}function b(Ue,we){if(1&Ue){const De=e.EpF();e.TgZ(0,"button",16),e.NdJ("click",function(){return e.CHM(De),e.oxw(4).close()}),e.ALo(1,"translate"),e._UZ(2,"icon",17),e.qZA()}2&Ue&&e.uIk("aria-label",e.lcZ(1,1,"CBL.CRM.ACCOUNT_OVERLAY.CLOSE"))}function B(Ue,we){1&Ue&&(e.ynx(0),e.YNc(1,b,3,3,"button",15),e.BQk()),2&Ue&&(e.xp6(1),e.Q6J("ifBreakpoint","desktop"))}function Q(Ue,we){if(1&Ue&&(e.TgZ(0,"div",9)(1,"div",10),e._UZ(2,"theme-icon",11),e.YNc(3,H,2,5,"external-link",12),e.qZA(),e.TgZ(4,"div",13)(5,"h3"),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"span"),e._uU(9),e.ALo(10,"translate"),e.qZA()(),e.TgZ(11,"div")(12,"h3"),e._uU(13),e.ALo(14,"translate"),e.qZA(),e.YNc(15,V,4,7,"span",3),e.qZA(),e.YNc(16,B,2,1,"ng-container",2),e.ALo(17,"async"),e.qZA()),2&Ue){const De=we.$implicit,ae=e.oxw(2),Le=e.MAs(10);e.xp6(3),e.Q6J("ngIf",De.crm_link),e.xp6(3),e.hij("",e.lcZ(7,7,"CBL.CRM.ACCOUNT_OVERLAY.OWNER"),":"),e.xp6(3),e.Oqu(De.owner_name||e.lcZ(10,9,"CBL.CRM.ACCOUNT_OVERLAY.UNAVAILABLE")),e.xp6(4),e.hij("",e.lcZ(14,11,"CBL.CRM.ACCOUNT_OVERLAY.LAST_ACTIVITY"),":"),e.xp6(2),e.Q6J("ngIf",De.last_activity_date)("ngIfElse",Le),e.xp6(1),e.Q6J("ngIf",!e.lcZ(17,13,ae.showMultipleAccounts$))}}function $(Ue,we){if(1&Ue&&(e.ynx(0),e.YNc(1,Q,18,15,"div",8),e.BQk()),2&Ue){const De=we.ngIf;e.xp6(1),e.Q6J("ngForOf",De)}}function W(Ue,we){if(1&Ue){const De=e.EpF();e.ynx(0),e.TgZ(1,"button",18),e.NdJ("click",function(){return e.CHM(De),e.oxw().close()}),e.ALo(2,"translate"),e._UZ(3,"icon",17),e.qZA(),e.BQk()}2&Ue&&(e.xp6(1),e.uIk("aria-label",e.lcZ(2,1,"CBL.CRM.ACCOUNT_OVERLAY.CLOSE")))}function q(Ue,we){if(1&Ue){const De=e.EpF();e.TgZ(0,"button",20),e.NdJ("click",function(){return e.CHM(De),e.oxw(2).close()}),e.ALo(1,"translate"),e._UZ(2,"icon",17),e.qZA()}2&Ue&&e.uIk("aria-label",e.lcZ(1,1,"CBL.CRM.ACCOUNT_OVERLAY.CLOSE"))}function le(Ue,we){1&Ue&&e.YNc(0,q,3,3,"button",19),2&Ue&&e.Q6J("ifBreakpoint","mobile")}function J(Ue,we){1&Ue&&(e.TgZ(0,"span"),e.SDv(1,21),e.qZA())}let u=(()=>{class Ue{constructor(De,ae,Le,Fe){this.store=De,this.elementRef=ae,this.close=Le,this.payload=Fe}ngOnInit(){this.accounts$=this.store.select((0,l.fe)(this.payload.crmAccountModelId)),this.showMultipleAccounts$=this.accounts$.pipe((0,g.U)(De=>!!((null==De?void 0:De.length)&&(null==De?void 0:De.length)>1)))}}return Ue.\u0275fac=function(De){return new(De||Ue)(e.Y36(r.yh),e.Y36(e.SBq),e.Y36(c.U_),e.Y36(c.Z))},Ue.\u0275cmp=e.Xpm({type:Ue,selectors:[["crm-account-info-overlay"]],decls:11,vars:12,consts:function(){let we,De;return we=$localize`:␟6a4884977fd0f2783d6d585219fba3a1f849cd15␟8534296284205807387: Multiple CRM Matches `,De=$localize`:␟c76441abf5c2a11f169bc0dd7c220c279b23dceb␟1351148798562311625:No activity history`,[["role","dialog",1,"overlay-container",3,"cdkTrapFocus","cdkTrapFocusAutoCapture"],["class","multiple-accounts-title","iconKey","icon_multiaccount","iconSize","text","iconColor","inherit",3,"iconAfter",4,"ngIf"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["singleAccount",""],["unavailable",""],["iconKey","icon_multiaccount","iconSize","text","iconColor","inherit",1,"multiple-accounts-title",3,"iconAfter"],we,["class","account-info",4,"ngFor","ngForOf"],[1,"account-info"],["cdkFocusInitial","",1,"crm-link"],["themeId","salesforce","color","theme"],["data-heap-view-in-crm","",3,"url","label","color",4,"ngIf"],[1,"account-owner"],["data-heap-view-in-crm","",3,"url","label","color"],["mat-icon-button","",3,"click",4,"ifBreakpoint"],["mat-icon-button","",3,"click"],["key","icon_close"],["mat-icon-button","",1,"corner-close-button","multiple-accounts-close",3,"click"],["mat-icon-button","","class","corner-close-button",3,"click",4,"ifBreakpoint"],["mat-icon-button","",1,"corner-close-button",3,"click"],De]},template:function(De,ae){if(1&De&&(e.TgZ(0,"div",0),e.YNc(1,E,2,1,"label-with-icon",1),e.ALo(2,"async"),e.YNc(3,$,2,1,"ng-container",2),e.ALo(4,"async"),e.YNc(5,W,4,3,"ng-container",3),e.ALo(6,"async"),e.YNc(7,le,1,1,"ng-template",null,4,e.W1O),e.qZA(),e.YNc(9,J,2,0,"ng-template",null,5,e.W1O)),2&De){const Le=e.MAs(8);e.Q6J("cdkTrapFocus",!0)("cdkTrapFocusAutoCapture",!0),e.xp6(1),e.Q6J("ngIf",e.lcZ(2,6,ae.showMultipleAccounts$)),e.xp6(2),e.Q6J("ngIf",e.lcZ(4,8,ae.accounts$)),e.xp6(2),e.Q6J("ngIf",e.lcZ(6,10,ae.showMultipleAccounts$))("ngIfElse",Le)}},directives:[o.mK,_.O5,n.d,_.sg,m.p,v.A,h.G,C.lW,S.o],pipes:[_.Ov,I.X,_.uU,s],styles:[".overlay-container[_ngcontent-%COMP%]{position:relative;padding:24px 16px 16px;background-color:#fff;max-height:250px;overflow:scroll}.multiple-accounts-title[_ngcontent-%COMP%]{margin-bottom:16px;margin-top:16px}.account-info[_ngcontent-%COMP%]{display:flex;align-items:flex-start;flex-direction:column;margin-bottom:16px}.account-info[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:not(:first-child){margin-top:8px}.account-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{white-space:nowrap}.crm-link[_ngcontent-%COMP%]{display:flex;align-items:center}.account-owner[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-transform:capitalize}h3[_ngcontent-%COMP%]{font-size:16px;line-height:24px;color:#282828;letter-spacing:.3px;font-weight:500;font-family:Roboto,Arial,sans-serif;display:block;margin-right:4px}.corner-close-button[_ngcontent-%COMP%]{position:absolute;top:0;right:0;padding:4px}.corner-close-button.multiple-accounts-close[_ngcontent-%COMP%]{top:8px;right:8px}theme-icon[_ngcontent-%COMP%]{margin-right:8px}@media (min-width: 960px){.overlay-container[_ngcontent-%COMP%]{padding-top:16px;max-height:inherit;overflow:inherit}.multiple-accounts-title[_ngcontent-%COMP%]{margin-top:inherit}.account-info[_ngcontent-%COMP%]{flex-direction:row;align-items:center;height:34px;margin-bottom:inherit}.account-info[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:not(:last-child){margin-right:16px}.account-info[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:not(:first-child){margin-top:0}h3[_ngcontent-%COMP%]{display:inline}}"],changeDetection:0}),Ue})();var D=t(82262),se=t(74742),ne=t(40089);function _e(Ue,we){if(1&Ue&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&Ue){const De=e.oxw().ngIf;e.xp6(1),e.hij(" ",De.owner_alias," ")}}function ee(Ue,we){1&Ue&&(e._uU(0),e.ALo(1,"translate")),2&Ue&&e.hij(" ",e.lcZ(1,1,"CBL.CRM.IN_CRM")," ")}function w(Ue,we){1&Ue&&e._UZ(0,"icon",10)}function G(Ue,we){if(1&Ue&&(e.TgZ(0,"div",11)(1,"span"),e._uU(2),e.ALo(3,"date"),e.qZA()()),2&Ue){const De=we.ngIf;e.xp6(2),e.hij(" ",e.xi3(3,1,De.date,"mediumDate")," ")}}function k(Ue,we){if(1&Ue&&(e.ynx(0),e.TgZ(1,"button",3)(2,"div",4)(3,"div",5)(4,"label-with-icon",6),e.ALo(5,"async"),e.YNc(6,_e,2,1,"span",0),e.YNc(7,ee,2,3,"ng-template",null,7,e.W1O),e.qZA(),e.YNc(9,w,1,0,"icon",8),e.ALo(10,"async"),e.qZA(),e.YNc(11,G,4,4,"div",9),e.ALo(12,"async"),e.qZA()(),e.BQk()),2&Ue){const De=we.ngIf,ae=e.MAs(8),Le=e.oxw(2);e.xp6(1),e.Q6J("overlayWithArrow",Le.crmOverlayComponent)("overlayPayload",Le.getCrmOverlayPayload()),e.xp6(3),e.ekj("multi-account-title",e.lcZ(5,8,Le.showMultipleAccounts$)),e.xp6(2),e.Q6J("ngIf",De.owner_alias)("ngIfElse",ae),e.xp6(3),e.Q6J("ngIf",e.lcZ(10,10,Le.showMultipleAccounts$)),e.xp6(2),e.Q6J("ngIf",e.lcZ(12,12,Le.lastActivity$))}}function X(Ue,we){1&Ue&&(e._uU(0),e.ALo(1,"translate")),2&Ue&&e.hij(" ",e.lcZ(1,1,"CBL.CRM.IN_CRM")," ")}function K(Ue,we){if(1&Ue&&(e.ynx(0),e.YNc(1,k,13,14,"ng-container",0),e.ALo(2,"async"),e.YNc(3,X,2,3,"ng-template",null,2,e.W1O),e.BQk()),2&Ue){const De=e.MAs(4),ae=e.oxw();e.xp6(1),e.Q6J("ngIf",e.lcZ(2,2,ae.account$))("ngIfElse",De)}}function te(Ue,we){1&Ue&&e._UZ(0,"theme-icon",19)}function Ie(Ue,we){1&Ue&&e._UZ(0,"mat-spinner",20)}function Te(Ue,we){if(1&Ue&&(e.YNc(0,te,1,0,"theme-icon",17),e.ALo(1,"async"),e.YNc(2,Ie,1,0,"ng-template",null,18,e.W1O)),2&Ue){const De=e.MAs(3),ae=e.oxw(4);e.Q6J("ngIf",!e.lcZ(1,2,ae.entityIsSaving$))("ngIfElse",De)}}function ce(Ue,we){if(1&Ue){const De=e.EpF();e.ynx(0),e.TgZ(1,"button",14),e.NdJ("click",function(){return e.CHM(De),e.oxw(3).saveToCrm()}),e.ALo(2,"async"),e.ALo(3,"translate"),e.TgZ(4,"label-with-icon",15),e._uU(5),e.ALo(6,"translate"),e.qZA()(),e.YNc(7,Te,4,4,"ng-template",null,16,e.W1O),e.BQk()}if(2&Ue){const De=e.MAs(8),ae=e.oxw(3);e.xp6(1),e.Q6J("disabled",e.lcZ(2,4,ae.entityIsSaving$)),e.uIk("aria-label",e.lcZ(3,6,"CBL.CRM.PUSH_TO_CRM")),e.xp6(3),e.Q6J("iconTemplate",De),e.xp6(1),e.hij(" ",e.lcZ(6,8,"CBL.CRM.PUSH")," ")}}function Re(Ue,we){if(1&Ue&&(e.ynx(0),e.YNc(1,ce,9,10,"ng-container",0),e.ALo(2,"async"),e.BQk()),2&Ue){e.oxw();const De=e.MAs(2),ae=e.oxw();e.xp6(1),e.Q6J("ngIf",e.lcZ(2,2,ae.isSynced$))("ngIfElse",De)}}function fe(Ue,we){1&Ue&&(e.ynx(0),e.TgZ(1,"label-with-icon",23),e.SDv(2,24),e.ALo(3,"translate"),e.qZA(),e.BQk()),2&Ue&&(e.xp6(1),e.Q6J("matTooltip",e.lcZ(3,1,"CBL.CRM.SYNC_TOOLTIP")))}function ye(Ue,we){1&Ue&&(e._UZ(0,"icon",25),e.ALo(1,"translate")),2&Ue&&e.Q6J("matTooltip",e.lcZ(1,1,"CBL.CRM.SYNC_TABLE_TOOLTIP"))}function Ge(Ue,we){if(1&Ue&&(e.TgZ(0,"button",21),e.YNc(1,fe,4,3,"ng-container",0),e.YNc(2,ye,2,3,"ng-template",null,22,e.W1O),e.qZA()),2&Ue){const De=e.MAs(3),ae=e.oxw(2);e.xp6(1),e.Q6J("ngIf",!ae.hideSyncText)("ngIfElse",De)}}function at(Ue,we){if(1&Ue&&(e.YNc(0,Re,3,4,"ng-container",12),e.YNc(1,Ge,4,2,"ng-template",null,13,e.W1O)),2&Ue){const De=e.oxw();e.Q6J("ngIf",!De.onlyShowPushed)}}let It=(()=>{class Ue{constructor(De,ae,Le,Fe,dt){this.store=De,this.userService=ae,this.overlayService=Le,this.elementRef=Fe,this.dateUtil=dt,this.hideSyncText=!1,this.inContactsOrg=!1,this.onlyShowPushed=!1,this.clickPushToCrm=new e.vpe,this.isCrmConnected$=this.store.select(l.k2),this.isSynced$=this.store.select(l.Hd),this.overlayOpen=!1,this.crmOverlayComponent=u,this.onDestroy$=new i.xQ}ngOnInit(){this.isSynced$.pipe((0,y.R)(this.onDestroy$),(0,d.h)(De=>!De)).subscribe(De=>{this.store.dispatch((0,l.BA)())})}ngOnChanges(){this.account$=this.store.select((0,l.xs)(this.entityId)),this.showMultipleAccounts$=this.store.select((0,l.fe)(this.entityId)).pipe((0,g.U)(De=>!!((null==De?void 0:De.length)&&(null==De?void 0:De.length)>1))),this.crmLink$=this.account$.pipe((0,g.U)(De=>null==De?void 0:De.crm_link)),this.lastActivity$=this.account$.pipe((0,g.U)(De=>{if(null==De?void 0:De.last_activity_date)return{date:new Date(De.last_activity_date),days:this.dateUtil.daysSinceTimestamp(De.last_activity_date)}})),this.entityIsLoading$=this.store.select((0,l.kA)(this.entityId)),this.entityIsSaving$=this.store.select((0,l.BZ)(this.entityId)),this.entityIsSaved$=this.store.select((0,l.wM)(this.entityId)),this.isOwnedByYou$=(0,p.aj)([this.account$,this.userService.getUserId$()]).pipe((0,g.U)(([De,ae])=>!!(null==De?void 0:De.owner_id)&&De.owner_id===ae))}ngOnDestroy(){this.onDestroy$.next()}saveToCrm(){this.clickPushToCrm.emit(),this.store.dispatch((0,l.FU)({entityId:this.entityId}))}getCrmOverlayPayload(){return{crmAccountModelId:this.entityId}}}return Ue.\u0275fac=function(De){return new(De||Ue)(e.Y36(r.yh),e.Y36(f.KD),e.Y36(a.F0),e.Y36(e.SBq),e.Y36(N.E))},Ue.\u0275cmp=e.Xpm({type:Ue,selectors:[["crm-push-button"]],hostVars:4,hostBindings:function(De,ae){2&De&&e.ekj("in-table",ae.hideSyncText)("in-contacts-org",ae.inContactsOrg)},inputs:{entityId:"entityId",hideSyncText:"hideSyncText",inContactsOrg:"inContactsOrg",onlyShowPushed:"onlyShowPushed"},outputs:{clickPushToCrm:"clickPushToCrm"},features:[e.TTD],decls:4,vars:4,consts:function(){let we;return we=$localize`:␟31e35e2a70dc2d4ebce5a363db50b0e6c078050b␟6085044814227797956: CRM Syncing `,[[4,"ngIf","ngIfElse"],["isNotSaved",""],["noLink",""],["mat-stroked-button","","data-heap-in-crm-button-popup","","color","accent",1,"sync-detail-button",3,"overlayWithArrow","overlayPayload"],[1,"sync-detail-container"],[1,"sync-detial-title-container"],["iconKey","icon_check_knockout_round","iconSize","text","iconColor","success",1,"sync-name"],["noName",""],["class","multiple-accounts","key","icon_multiaccount","size","text",4,"ngIf"],["class","sync-date",4,"ngIf"],["key","icon_multiaccount","size","text",1,"multiple-accounts"],[1,"sync-date"],[4,"ngIf"],["isNotSynced",""],["mat-stroked-button","","color","accent",3,"disabled","click"],[3,"iconTemplate"],["progressOrSalesforceIcon",""],["themeId","salesforce","color","theme",4,"ngIf","ngIfElse"],["saving",""],["themeId","salesforce","color","theme"],["diameter","20"],["mat-stroked-button","","disabled",""],["syncingIcon",""],["iconKey","icon_sync",3,"matTooltip"],we,["key","icon_sync","color","info",3,"matTooltip"]]},template:function(De,ae){if(1&De&&(e.YNc(0,K,5,4,"ng-container",0),e.ALo(1,"async"),e.YNc(2,at,3,1,"ng-template",null,1,e.W1O)),2&De){const Le=e.MAs(3);e.Q6J("ngIf",e.lcZ(1,2,ae.entityIsSaved$))("ngIfElse",Le)}},directives:[_.O5,C.lW,D.a,n.d,S.o,m.p,se.Ou,ne.gM],pipes:[_.Ov,I.X,_.uU],styles:["[_nghost-%COMP%]{display:block;flex:none;text-align:right}.in-contacts-org[_nghost-%COMP%]{text-align:left}.owned[_ngcontent-%COMP%]{font-size:13px;line-height:20px;color:#666;letter-spacing:.2px;font-weight:400;font-family:Roboto,Arial,sans-serif}theme-icon[_ngcontent-%COMP%], mat-spinner[_ngcontent-%COMP%]{display:inline-flex}[mat-stroked-button][_ngcontent-%COMP%]{min-width:90px}.sync-detail-button[_ngcontent-%COMP%]{padding:initial}.sync-detail-container[_ngcontent-%COMP%]{font-size:12px;font-weight:400;display:flex;flex-direction:column;justify-content:center;text-transform:initial;letter-spacing:initial;line-height:initial;height:36px;padding:0 8px;position:relative}.sync-detial-title-container[_ngcontent-%COMP%]{display:flex}.sync-name[_ngcontent-%COMP%]{min-height:0px;margin:0}.sync-name[_ngcontent-%COMP%]     span{margin-left:2px;width:58px;overflow:hidden;text-overflow:ellipsis;text-align:left}.sync-name.multi-account-title[_ngcontent-%COMP%]     span{width:50px}.sync-date[_ngcontent-%COMP%]{color:#666;text-align:left;margin-top:2px;font-size:9px}.multiple-accounts[_ngcontent-%COMP%]{position:absolute;right:4px}"],changeDetection:0}),Ue})()},97186:(oe,L,t)=>{t.d(L,{L:()=>s});var e=t(36362),i=t(41773),p=t(32313),l=t(32519),y=t(74742),d=t(35503),g=t(87317),f=t(40089),a=t(89248),c=t(84128),r=t(87028),o=t(40114),_=t(24476),n=t(92218),m=t(85921),v=t(3184),h=t(99151);const C={start:"top",length:"height"},S={start:"left",length:"width"};let I=(()=>{class E{constructor(V,b){this.elementRef=V,this.scrollDispatcher=b,this.onDestroy$=new n.xQ,this.arrowOffset=0,this.arrowSize=20,this.resizeObserver="undefined"!=typeof ResizeObserver?new ResizeObserver(()=>{this.alignArrow()}):{observe:()=>{},disconnect:()=>{}}}ngOnInit(){this.arrowlength=Math.SQRT2*this.arrowSize,this.overlayEl=this.overlayElement.nativeElement,this.originEl=this.originElement.nativeElement,this.arrowEl=this.elementRef.nativeElement,this.resizeObserver.observe(this.overlayEl),this.scrollDispatcher.ancestorScrolled(this.originEl,50).pipe((0,m.R)(this.onDestroy$)).subscribe(V=>{if(V){const b=V.measureScrollOffset("top"),B=V.measureScrollOffset("left");(b!==this.previousScrollTop&&!this.arrowIsVertical()||B!==this.previousScrollLeft&&this.arrowIsVertical())&&this.alignArrow(),this.previousScrollTop=b,this.previousScrollLeft=B}else this.alignArrow()})}ngAfterViewChecked(){this.arrowDirection!==this.prevDirection&&(this.prevDirection=this.arrowDirection,this.alignArrow())}ngOnDestroy(){this.onDestroy$.next(),this.resizeObserver.disconnect()}alignArrow(){let V=S,b=C;!this.arrowIsVertical()&&(V=C,b=S);const Q=this.originEl.getBoundingClientRect(),$=this.overlayEl.getBoundingClientRect(),J=this.arrowlength/2+2;let u=Q[V.start]+Q[V.length]/2-$[V.start]+this.arrowOffset;u=this.clamp(u,J,$[V.length]-J),this.arrowEl.style[V.start]=u+"px",this.arrowEl.style.removeProperty(b.start)}clamp(V,b,B){return V<b?b:V>B?B:V}arrowIsVertical(){return"up"===this.arrowDirection||"down"===this.arrowDirection}}return E.\u0275fac=function(V){return new(V||E)(v.Y36(v.SBq),v.Y36(h.mF))},E.\u0275cmp=v.Xpm({type:E,selectors:[["overlay-arrow"]],hostVars:2,hostBindings:function(V,b){2&V&&v.Tol(b.arrowDirection)},inputs:{arrowDirection:"arrowDirection",originElement:"originElement",overlayElement:"overlayElement",arrowOffset:"arrowOffset"},decls:1,vars:0,template:function(V,b){1&V&&v._UZ(0,"div")},styles:["[_nghost-%COMP%]{position:absolute;width:20px;height:20px;box-sizing:border-box;transform-origin:unset;overflow:hidden;display:none;border:1px solid transparent;border-color:#cbcbcb transparent transparent #cbcbcb;box-shadow:-3px -3px 3px #00000024}.up[_nghost-%COMP%]{top:-9px;transform:translate(-10px) rotate(45deg);display:block}.down[_nghost-%COMP%]{bottom:-9px;transform:translate(-10px) rotate(225deg);display:block}.left[_nghost-%COMP%]{left:-9px;transform:translateY(-10px) rotate(-45deg);display:block}.right[_nghost-%COMP%]{right:-9px;transform:translateY(-10px) rotate(135deg);display:block}div[_ngcontent-%COMP%]{position:absolute;width:200%;height:200%;bottom:50%;left:-50%;background-color:#fff;transform-origin:center bottom;transform:rotate(-45deg)}"],changeDetection:0}),E})(),T=(()=>{class E{}return E.\u0275fac=function(V){return new(V||E)},E.\u0275mod=v.oAB({type:E}),E.\u0275inj=v.cJS({imports:[[e.ez,c.rt,_.eL]]}),E})();v.B6R(o.B,[_.Pl,e.O5,I],[]);let N=(()=>{class E{}return E.\u0275fac=function(V){return new(V||E)},E.\u0275mod=v.oAB({type:E}),E.\u0275inj=v.cJS({imports:[[e.ez,i.A,l.n,d.Dt,a.S,g.ot,c.rt,r.v,T,p.H]]}),E})();var x=t(35852);let s=(()=>{class E{}return E.\u0275fac=function(V){return new(V||E)},E.\u0275mod=v.oAB({type:E}),E.\u0275inj=v.cJS({imports:[[e.ez,i.A,p.H,l.n,y.Cq,d.Dt,g.ot,f.AV,N,r.v,x.a]]}),E})()},73729:(oe,L,t)=>{t.d(L,{I:()=>v});var e=t(3184),i=t(95758),p=t(36362),l=t(19946),y=t(87317),d=t(60833),g=t(19975),f=t(74929);function a(h,C){if(1&h&&(e.TgZ(0,"span",7),e._uU(1),e.qZA()),2&h){const S=e.oxw(2);e.xp6(1),e.hij(" ",S.title," ")}}function c(h,C){if(1&h){const S=e.EpF();e.ynx(0),e.TgZ(1,"button",8),e.NdJ("click",function(){return e.CHM(S),e.oxw(2).cancel()}),e.ALo(2,"translate"),e.O4$(),e.TgZ(3,"svg",9),e._UZ(4,"path",10)(5,"path",11),e.qZA()(),e.BQk()}2&h&&(e.xp6(1),e.uIk("aria-label",e.lcZ(2,1,"CBL.COMMON.CLOSE")))}function r(h,C){if(1&h&&(e.TgZ(0,"mat-toolbar",4)(1,"div"),e.YNc(2,a,2,1,"span",5),e.TgZ(3,"div",6),e.Hsn(4,2),e.qZA(),e.YNc(5,c,6,3,"ng-container",2),e.qZA()()),2&h){const S=e.oxw();e.xp6(2),e.Q6J("ngIf",S.title),e.xp6(3),e.Q6J("ngIf",!S.dialogRef.disableClose)}}function o(h,C){1&h&&(e.ynx(0),e._UZ(1,"mat-progress-bar",12),e.BQk())}const _=[[["","dialog-content",""]],[["","dialog-actions",""]],[["","header-content",""]]],n=function(h){return{contract:h}},m=["[dialog-content]","[dialog-actions]","[header-content]"];let v=(()=>{class h{constructor(S){this.dialogRef=S,this.processing=!1,this.fullBleed=!1,this.disableClose=!1,this.showHeader=!0,this.initialDisableClose=this.dialogRef.disableClose,this.setDisableClose(this.disableClose)}ngOnChanges(S){S.disableClose&&this.setDisableClose(S.disableClose.currentValue)}cancel(){this.dialogRef.close(!1)}setDisableClose(S){this.dialogRef.disableClose=S||this.initialDisableClose}}return h.\u0275fac=function(S){return new(S||h)(e.Y36(i.so))},h.\u0275cmp=e.Xpm({type:h,selectors:[["dialog-layout"]],inputs:{processing:"processing",title:"title",fullBleed:"fullBleed",disableClose:"disableClose",showHeader:"showHeader"},features:[e.TTD],ngContentSelectors:m,decls:9,vars:5,consts:[[1,"component--dialog-layout"],["color","primary",4,"ngIf"],[4,"ngIf"],[3,"ngClass"],["color","primary"],["mat-dialog-title","",4,"ngIf"],[1,"header-content"],["mat-dialog-title",""],["mat-icon-button","","type","button",3,"click"],["viewBox","0 0 24 24",1,"close-icon"],["d","M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"],["d","M0 0h24v24H0z","fill","none"],["mode","indeterminate"]],template:function(S,I){1&S&&(e.F$t(_),e.TgZ(0,"div",0),e.YNc(1,r,6,2,"mat-toolbar",1),e.YNc(2,o,2,0,"ng-container",2),e.TgZ(3,"mat-dialog-content")(4,"div",3),e.Hsn(5),e.qZA()(),e._UZ(6,"mat-divider"),e.TgZ(7,"mat-dialog-actions"),e.Hsn(8,1),e.qZA()()),2&S&&(e.xp6(1),e.Q6J("ngIf",I.showHeader),e.xp6(1),e.Q6J("ngIf",I.processing),e.xp6(2),e.Q6J("ngClass",e.VKq(3,n,!I.fullBleed)))},directives:[p.O5,l.Ye,i.uh,y.lW,d.pW,i.xY,p.mk,g.d,i.H8],pipes:[f.X],styles:[".component--dialog-layout{box-sizing:border-box;display:flex!important;flex-direction:column;overflow:hidden;white-space:pre-line}.component--dialog-layout .mat-toolbar{flex:0 0 auto;box-sizing:border-box}.component--dialog-layout .mat-toolbar>div{flex:1;box-sizing:border-box;display:flex!important;flex-direction:row;justify-content:space-between;align-items:center;align-content:center;max-width:100%}.component--dialog-layout .mat-toolbar>div>*{max-width:100%;box-sizing:border-box}.component--dialog-layout .mat-dialog-title{overflow:hidden;margin:0;flex-shrink:0}.component--dialog-layout .header-content{width:100%;padding:0 8px}.component--dialog-layout mat-dialog-content{flex:1 0 auto;box-sizing:border-box;display:flex!important;flex-direction:column}.component--dialog-layout mat-dialog-actions{display:flex!important;flex-direction:row;justify-content:flex-end;align-items:center;align-content:center;max-width:100%;flex:0 0 auto;box-sizing:border-box;margin:0!important;padding:0!important}.component--dialog-layout mat-dialog-actions>*{max-width:100%;box-sizing:border-box}.component--dialog-layout mat-dialog-actions:empty{display:none!important}.component--dialog-layout mat-dialog-actions button,.component--dialog-layout mat-dialog-actions a{margin:8px}.component--dialog-layout .close-icon{height:20px;width:20px;min-width:20px;min-height:20px;line-height:20px;fill:#fff}.component--dialog-layout .contract{padding:32px}\n"],encapsulation:2}),h})()},89250:(oe,L,t)=>{t.d(L,{S:()=>g});var e=t(36362),i=t(90898),p=t(35503),l=t(32519),y=t(24476),d=t(3184);let g=(()=>{class f{}return f.\u0275fac=function(c){return new(c||f)},f.\u0275mod=d.oAB({type:f}),f.\u0275inj=d.cJS({imports:[[e.ez,p.Dt,i.q,l.n,y.eL]]}),f})()},97444:(oe,L,t)=>{t.d(L,{c:()=>r});var e=t(36362),i=t(90587),p=t(35503),l=t(90898),y=t(89250),d=t(33706),g=t(32519),f=t(32313),a=t(20902),c=t(3184);let r=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=c.oAB({type:o}),o.\u0275inj=c.cJS({imports:[[e.ez,i.u5,p.Dt,l.q,y.S,d.T,g.n,f.H,a.n]]}),o})()},88686:(oe,L,t)=>{t.d(L,{H:()=>zr});var e=t(36362),i=t(45857),p=t(90898),l=t(35503),y=t(93293),d=t(32519),g=t(31156),f=t(68881),a=t(40577),c=t(25975),r=t(40337),o=t(57556),_=t(18827),n=t(74465),m=t(76980),v=t(67858),h=t(4151),C=t(24634),S=t(75215),I=t(18052),T=t(86942),N=t(54350),x=t(23580),s=t(3184);function E(R,Oe){if(1&R&&(s.ynx(0),s._UZ(1,"profile-section",7),s.BQk()),2&R){const A=Oe.$implicit,F=s.oxw(2);s.xp6(1),s.Q6J("entity",F.entity)("entityDef",F.entityDef)("section",A)("showHeader",!1)("compactMode",!0)}}function H(R,Oe){if(1&R&&(s.ynx(0),s._UZ(1,"mat-divider",8),s.TgZ(2,"div",9),s._UZ(3,"save-to-list-button",10),s.qZA(),s.BQk()),2&R){const A=s.oxw(2);s.xp6(3),s.Q6J("entityId",A.entityId)("entityDefId",A.entityDefId)}}function V(R,Oe){if(1&R){const A=s.EpF();s.TgZ(0,"div"),s.YNc(1,E,2,5,"ng-container",4),s.YNc(2,H,4,2,"ng-container",2),s.TgZ(3,"button",5),s.NdJ("click",function(){return s.CHM(A),s.oxw().close()}),s.ALo(4,"translate"),s._UZ(5,"icon",6),s.qZA()()}if(2&R){const A=s.oxw();s.xp6(1),s.Q6J("ngForOf",A.sectionUiDatas),s.xp6(1),s.Q6J("ngIf",A.showFollowButton),s.xp6(1),s.uIk("aria-label",s.lcZ(4,3,"CBL.COMMON.CLOSE"))}}function b(R,Oe){1&R&&(s.TgZ(0,"div",11),s.SDv(1,12),s.qZA())}const B=function(R){return{loading:R}};let Q=(()=>{class R{constructor(A,F,Ee,Me,Xe,tt,yt,Ot,xt){this.close=A,this.cardUtil=F,this.entityCardService=Ee,this.entityService=Me,this.metadataService=Xe,this.elementRef=tt,this.changeDetectorRef=yt,this.payload=Ot,this.updatePosition=xt,this.errored=!1,this.loading=!0,this.showFollowButton=!0}ngOnInit(){this.setDataFromPayload(this.payload),this.entityDef=this.metadataService.getEntityDef(this.entityDefId),this.loadEntity(this.entityDefId,this.entityId)}setDataFromPayload(A){const F=A.identifier;F&&(this.entityId=F.uuid,this.entityDefId=F.entity_def_id),A.hideFollowButton&&(this.showFollowButton=!1)}loadEntity(A,F){if(!this.entityDef||!F)return this.errored=!0,void(this.loading=!1);this.loading=!0,this.entityService.getPreviewEntity(this.entityDef.collection_id,F).then(this.handleEntityResult.bind(this,this.entityDef),this.handleEntityError.bind(this)).then(()=>{this.loading=!1,setTimeout(()=>this.updatePosition())})}handleEntityResult(A,F){this.entity=F,this.layoutId=this.entity.properties.layout_id,this.facetIds=this.entity.properties.facet_ids;const Ee=this.entityService.getSections(A.id,this.layoutId,this.facetIds,"preview");if(!Ee||!Ee.length)return void(this.sectionUiDatas=[]);const Me=Ee.map(Xe=>this.entityCardService.getSectionViewCards$(this.entity,A,Xe).pipe((0,T.U)(tt=>this.cardUtil.getSectionUiData(Xe,tt))));Me.length?(0,N.D)(Me).subscribe(Xe=>{this.sectionUiDatas=Xe.filter(x.K).filter(({cardUiDatas:tt})=>null==tt?void 0:tt.length),this.changeDetectorRef.markForCheck()}):this.sectionUiDatas=[]}handleEntityError(){this.errored=!0}}return R.\u0275fac=function(A){return new(A||R)(s.Y36(I.U_),s.Y36(C.c6),s.Y36(C.AH),s.Y36(C.c4),s.Y36(S.Do),s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(h.Z),s.Y36(h.$l))},R.\u0275cmp=s.Xpm({type:R,selectors:[["entity-overlay"]],decls:4,vars:6,consts:function(){let Oe;return Oe=$localize`:␟59e497f15c2ec230c1812293b86bd25417bf7617␟4013512400402633113: There was an error loading the entity. Please try again later. `,[[3,"ngClass"],[3,"showLoading"],[4,"ngIf"],["class","overlay-state-message",4,"ngIf"],[4,"ngFor","ngForOf"],["mat-icon-button","",1,"close-button",3,"click"],["key","icon_close"],[3,"entity","entityDef","section","showHeader","compactMode"],[1,"cb-width-100"],[1,"cb-padding-medium"],[3,"entityId","entityDefId"],[1,"overlay-state-message"],Oe]},template:function(A,F){1&A&&(s.TgZ(0,"div",0),s._UZ(1,"no-content",1),s.YNc(2,V,6,5,"div",2),s.YNc(3,b,2,0,"div",3),s.qZA()),2&A&&(s.Q6J("ngClass",s.VKq(4,B,F.loading)),s.xp6(1),s.Q6J("showLoading",F.loading),s.xp6(1),s.Q6J("ngIf",!F.loading&&F.sectionUiDatas),s.xp6(1),s.Q6J("ngIf",F.errored))},styles:["[_nghost-%COMP%]{display:block;width:450px;background:white}.loading[_nghost-%COMP%]{pointer-events:none}[_nghost-%COMP%]     section-layout .mat-card{box-shadow:none}mat-divider[_ngcontent-%COMP%]{width:100%}.overlay-header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:55px;height:55px}.overlay-identifier-header[_ngcontent-%COMP%]{font-size:16px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;padding:16px 8px}.follow-container[_ngcontent-%COMP%]{padding:8px}.overlay-state-message[_ngcontent-%COMP%]{flex:1;display:flex!important;flex-direction:row;justify-content:center;max-width:100%;box-sizing:border-box;align-items:flex-start;align-content:flex-start;overflow:auto;padding:20px}.close-button[_ngcontent-%COMP%]{position:absolute;right:4px;top:4px}"]}),R})();var $=t(90164),W=t(47367),q=t(74929);function le(R,Oe){if(1&R&&(s.TgZ(0,"div",5),s._uU(1),s.ALo(2,"translate"),s.qZA()),2&R){const A=s.oxw();s.xp6(1),s.AsE(" ",s.lcZ(2,2,"CBL.ENTITY.ATTRIBUTION.LAST_UPDATED")," ",A.lastUpdated,"\n")}}function J(R,Oe){1&R&&s._UZ(0,"div",6)}function u(R,Oe){if(1&R&&(s.TgZ(0,"span"),s._uU(1),s.qZA()),2&R){const A=s.oxw(2);s.xp6(1),s.hij(" ",A.label," ")}}function D(R,Oe){if(1&R&&(s.TgZ(0,"a",7),s.YNc(1,u,2,1,"span",8),s.qZA()),2&R){const A=s.oxw();s.Q6J("href",A.url,s.LSH),s.xp6(1),s.Q6J("ngIf",!!A.label)}}function se(R,Oe){if(1&R&&(s.TgZ(0,"span"),s._uU(1),s.qZA()),2&R){const A=s.oxw(2);s.xp6(1),s.hij(" ",A.label," ")}}function ne(R,Oe){if(1&R&&(s.TgZ(0,"a",9),s.YNc(1,se,2,1,"span",8),s._UZ(2,"img",10),s.qZA()),2&R){const A=s.oxw();s.Q6J("href",A.url,s.LSH),s.xp6(1),s.Q6J("ngIf",!!A.label),s.xp6(1),s.Q6J("src",A.imageSrc,s.LSH)}}function _e(R,Oe){if(1&R&&(s.TgZ(0,"span"),s._uU(1),s.qZA()),2&R){const A=s.oxw(2);s.xp6(1),s.hij(" ",A.label," ")}}function ee(R,Oe){if(1&R&&s._UZ(0,"img",10),2&R){const A=s.oxw(2);s.Q6J("src",A.imageSrc,s.LSH)}}function w(R,Oe){if(1&R&&(s.TgZ(0,"span",11),s.YNc(1,_e,2,1,"span",8),s.YNc(2,ee,1,1,"img",12),s.qZA()),2&R){const A=s.oxw();s.xp6(1),s.Q6J("ngIf",!!A.label),s.xp6(1),s.Q6J("ngIf",A.imageSrc)}}let G=(()=>{class R{constructor(){this.breakpoints=["small","desktop"]}ngOnChanges(){const{imageSrc:A,url:F,lastUpdated:Ee,labels:Me}=this.attributionCardUiData;this.imageSrc=A,this.url=F,this.label=null==Me?void 0:Me.name,this.lastUpdated=Ee}}return R.\u0275fac=function(A){return new(A||R)},R.\u0275cmp=s.Xpm({type:R,selectors:[["attribution-card"]],inputs:{attributionCardUiData:"attributionCardUiData"},features:[s.TTD],decls:5,vars:5,consts:[["class","last-updated",4,"ngIf"],["class","attribution-space",4,"ifBreakpoint"],["class","attribution-label-no-image","cb-link","primary","target","_blank",3,"href",4,"ngIf"],["class","attribution-label-image","target","_blank",3,"href",4,"ngIf"],["class","attribution-no-url",4,"ngIf"],[1,"last-updated"],[1,"attribution-space"],["cb-link","primary","target","_blank",1,"attribution-label-no-image",3,"href"],[4,"ngIf"],["target","_blank",1,"attribution-label-image",3,"href"],[1,"attribution-logo",3,"src"],[1,"attribution-no-url"],["class","attribution-logo",3,"src",4,"ngIf"]],template:function(A,F){1&A&&(s.YNc(0,le,3,4,"div",0),s.YNc(1,J,1,0,"div",1),s.YNc(2,D,2,2,"a",2),s.YNc(3,ne,3,3,"a",3),s.YNc(4,w,3,2,"span",4)),2&A&&(s.Q6J("ngIf",F.lastUpdated),s.xp6(1),s.Q6J("ifBreakpoint",F.breakpoints),s.xp6(1),s.Q6J("ngIf",F.url&&!F.imageSrc),s.xp6(1),s.Q6J("ngIf",F.url&&F.imageSrc),s.xp6(1),s.Q6J("ngIf",!F.url))},directives:[e.O5,$.G,W.I],pipes:[q.X],styles:["[_nghost-%COMP%]{font-size:13px;line-height:20px;color:#666;letter-spacing:.2px;font-weight:400;font-family:Roboto,Arial,sans-serif;display:flex;flex-direction:row;flex-wrap:wrap;border-top:1px solid rgba(0,0,0,.12);padding:20px}list-card + [_nghost-%COMP%]{border-top-color:transparent;margin-top:-20px}.attribution-space[_ngcontent-%COMP%]{flex:1;box-sizing:border-box}.attribution-label-image[_ngcontent-%COMP%], .attribution-label-no-image[_ngcontent-%COMP%]{display:flex!important;flex-direction:row;justify-content:center;box-sizing:border-box;align-items:center;align-content:center;max-width:100%;text-decoration:none}.attribution-label-image[_ngcontent-%COMP%] > *[_ngcontent-%COMP%], .attribution-label-no-image[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{max-width:100%;box-sizing:border-box}.attribution-label-image[_ngcontent-%COMP%]{color:#282828}.attribution-no-url[_ngcontent-%COMP%]{display:flex!important;flex-direction:row;justify-content:center;box-sizing:border-box;align-items:center;align-content:center;max-width:100%}.attribution-no-url[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{max-width:100%;box-sizing:border-box}.attribution-logo[_ngcontent-%COMP%]{padding-left:8px;height:17px}.last-updated[_ngcontent-%COMP%]{color:#0000008a}@media (max-width: 599px){.last-updated[_ngcontent-%COMP%]{text-align:center;min-height:20px;flex:1 1 100%}}@media (max-width: 599px){.attribution-label-image[_ngcontent-%COMP%], .attribution-label-no-image[_ngcontent-%COMP%], .attribution-no-url[_ngcontent-%COMP%]{flex:1 1 100%}}.entity-loading[_nghost-%COMP%]   .last-updated[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   .last-updated[_ngcontent-%COMP%], .entity-loading[_nghost-%COMP%]   .attribution-label[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   .attribution-label[_ngcontent-%COMP%]{background-color:#e9e9e9!important;color:transparent!important}.entity-loading[_nghost-%COMP%]   .attribution-logo[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   .attribution-logo[_ngcontent-%COMP%]{visibility:hidden}"],changeDetection:0}),R})();var k=t(71263),X=t(990),K=t(57984);function te(R,Oe){if(1&R&&(s.TgZ(0,"div"),s._UZ(1,"label-with-info",1)(2,"field-formatter",2),s.qZA()),2&R){const A=Oe.$implicit,F=s.oxw();s.xp6(1),s.Q6J("label",A.label)("description",A.description),s.xp6(1),s.Q6J("field",A.field)("fieldData",A.data)("collectionId",A.collectionId)("queryData",A.fieldQueryData)("contextType",F.contextType)}}let Ie=(()=>{class R{constructor(){this.contextType=k.Qy.profile}}return R.\u0275fac=function(A){return new(A||R)},R.\u0275cmp=s.Xpm({type:R,selectors:[["big-values-card"]],inputs:{bigValuesCardUiData:"bigValuesCardUiData"},decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],[3,"label","description"],[3,"field","fieldData","collectionId","queryData","contextType"]],template:function(A,F){1&A&&s.YNc(0,te,3,7,"div",0),2&A&&s.Q6J("ngForOf",F.bigValuesCardUiData.items)},directives:[e.sg,X.R,K.N],styles:["[_nghost-%COMP%]{box-sizing:border-box;display:flex!important;flex-direction:row;margin:20px 0;padding:0 20px}[_nghost-%COMP%]:last-child{margin-bottom:0;padding-bottom:20px}[_nghost-%COMP%] > div[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1 1 50%}[_nghost-%COMP%] > div[_ngcontent-%COMP%]:nth-child(odd){padding-right:10px}[_nghost-%COMP%] > div[_ngcontent-%COMP%]:nth-child(even){padding-left:10px}label-with-info[_ngcontent-%COMP%], field-formatter[_ngcontent-%COMP%]{display:flex!important;flex-direction:column;justify-content:center;box-sizing:border-box;align-items:flex-start;align-content:flex-start;overflow-wrap:break-word;max-width:100%}label-with-info[_ngcontent-%COMP%]{font-size:14px;line-height:20px;color:#666;letter-spacing:.4px;font-weight:500;font-family:Roboto,Arial,sans-serif;padding-bottom:4px}field-formatter[_ngcontent-%COMP%]{font-size:20px}.profile-loading[_nghost-%COMP%]   field-formatter[_ngcontent-%COMP%], .profile-loading   [_nghost-%COMP%]   field-formatter[_ngcontent-%COMP%], .entity-loading[_nghost-%COMP%]   field-formatter[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   field-formatter[_ngcontent-%COMP%]{background-color:#e9e9e9!important;color:transparent!important}.profile-loading[_nghost-%COMP%]   label-with-info[_ngcontent-%COMP%], .profile-loading   [_nghost-%COMP%]   label-with-info[_ngcontent-%COMP%], .entity-loading[_nghost-%COMP%]   label-with-info[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   label-with-info[_ngcontent-%COMP%]{visibility:hidden}.profile-loading[_nghost-%COMP%]     .component--field-formatter, .profile-loading   [_nghost-%COMP%]     .component--field-formatter, .entity-loading[_nghost-%COMP%]     .component--field-formatter, .entity-loading   [_nghost-%COMP%]     .component--field-formatter{background-color:#e9e9e9!important;color:transparent!important}.profile-loading[_nghost-%COMP%]     identifier-image, .profile-loading   [_nghost-%COMP%]     identifier-image, .entity-loading[_nghost-%COMP%]     identifier-image, .entity-loading   [_nghost-%COMP%]     identifier-image{visibility:hidden}"],changeDetection:0}),R})();var Te=t(92218),ce=t(88623),Re=t(64139),fe=t(83910),ye=t(85921),Ge=t(47418),at=t(843),It=t(23708),Ue=t(92938),we=t(93443),De=we._7.ModeEnum,ae=(()=>{return(R=ae||(ae={})).TITLE_TEXT="#131313",R.AXIS_TEXT="#333",R.TICKS_TEXT="#757575",R.TOOLTIP_TEXT="#131313",R.TOOLTIP_BORDER="#146BFF",R.TOOLTIP_BACKGROUND="#FFFFFF",ae;var R})();const Le=["#B7D1E0","#b71c1c","#4A148C","#1A237E","#006064","#1B5E20","#827717","#FF6F00","#BF360C"],dt=[De.line,De.area,De.bar,De.stacked_bar,De.pie];var Ye=t(94882),vt=t(48819),Je=t(47109);let Ke=(()=>{class R{constructor(A,F,Ee,Me){this.colorUtil=A,this.formatterUtil=F,this.labelService=Ee,this.util=Me}isMoneyField(A){return"money"===(null==A?void 0:A.type_id)}isFieldMoneySum(A,F){return"sum"===A&&this.isMoneyField(F)}getAxisTitleForField(A,F){var Ee,Me,Xe,tt,yt;return A&&this.isMoneyField(A)?(null===(Me=null===(Ee=F.values)||void 0===Ee?void 0:Ee[0])||void 0===Me?void 0:Me.currency)?this.labelService.getInterpolatedLabel("CBL.ENTITY.CHART_CARD.AXIS_MONEY_TITLE",{fieldTitle:(0,Ue.startCase)(null===(Xe=A.labels)||void 0===Xe?void 0:Xe.name),currency:F.values[0].currency.toUpperCase()||"USD"}):null===(tt=A.labels)||void 0===tt?void 0:tt.name:(null===(yt=null==A?void 0:A.labels)||void 0===yt?void 0:yt.name)?A.labels.name:this.labelService.getInterpolatedLabel("CBL.ENTITY.CHART_CARD.AXIS_AGGREGATOR_TITLE",{aggregatorId:(0,Ue.startCase)(F.aggregator_id)})}contractNumber(A){return this.util.isNumeric(A)?this.formatterUtil.scaleNumber(A):A}updateCanvasHeight(A,F){(null==A?void 0:A.parentElement)&&(A.parentElement.style.height=this.calculateChartHeightForWidth(A.parentElement.clientWidth,F))}buildChartTitle(A){return{display:!0,fontColor:ae.TITLE_TEXT,fontStyle:"normal",fontSize:16,text:A,padding:20}}getAggregatorLabelForSeries(A){return"percentiles"===A.aggregator_id&&50===A.percentile?this.labelService.getLabel("CBL.SEARCH.STATISTICS.PERCENTILES.50"):this.labelService.getInterpolatedLabel("CBL.ENTITY.CHART_CARD.AXIS_AGGREGATOR_TITLE",{aggregatorId:(0,Ue.startCase)(A.aggregator_id)})}generateColors(A){const F=Le.map(this.colorUtil.convertHexToRGB);if(1===A)return[F[0]];F.shift();const Ee=[];for(let Me=0;Me<A;Me++){let Xe=F[Me%F.length];Me>=F.length&&(Xe=this.colorUtil.createLighterShade(Ee[Ee.length-F.length])),Ee.push(Xe)}return Ee}generateLegendLabels(A){const F=A.data.datasets;if(!Array.isArray(F))return[];const Ee=Me=>Me.length>7?Me.slice(0,20)+"...":Me;return F.map((Me,Xe)=>{const tt=!A.isDatasetVisible(Xe),yt=Array.isArray(Me.backgroundColor)?Me.backgroundColor[0]:Me.backgroundColor;return{text:Ee(Me.label||""),fillStyle:yt,hidden:tt,lineCap:Me.borderCapStyle,lineDash:Me.borderDash,lineDashOffset:Me.borderDashOffset,lineJoin:Me.borderJoinStyle,lineWidth:Me.borderWidth,strokeStyle:Me.borderColor,pointStyle:Me.pointStyle,datasetIndex:Xe}})}getBaseChartConfiguration(){return{data:{labels:[],datasets:[]},plugins:[],options:{hover:{mode:"x"},layout:{padding:{left:0,right:0,top:0,bottom:0}},legend:{display:!1,labels:{}},responsive:!0,responsiveAnimationDuration:300,maintainAspectRatio:!1,onResize:(A,F)=>{this.updateCanvasHeight(A.canvas,A.config)},scales:{xAxes:[{gridLines:{display:!1},maxBarThickness:120,ticks:{callback:A=>A.length>18?A.slice(0,16)+"...":A}}]},tooltips:{position:"average",mode:"index",intersect:!1,xPadding:8,yPadding:8,backgroundColor:ae.TOOLTIP_BACKGROUND,titleFontColor:ae.TOOLTIP_TEXT,bodyFontColor:ae.TOOLTIP_TEXT,borderWidth:1,borderColor:ae.TOOLTIP_BORDER,callbacks:{title:(A,F)=>{var Ee,Me;const Xe=null===(Ee=A[0])||void 0===Ee?void 0:Ee.index;return null!=Xe&&(null===(Me=F.labels)||void 0===Me?void 0:Me[Xe])||""}}}}}}calculateChartHeightForWidth(A,F){var Ee,Me,Xe,tt;let yt;yt=A<475?250:A>560?300:2/7*A+800/7;const Ot=null===(Me=null===(Ee=F.options)||void 0===Ee?void 0:Ee.legend)||void 0===Me?void 0:Me.display,xt=null===(tt=null===(Xe=F.data)||void 0===Xe?void 0:Xe.datasets)||void 0===tt?void 0:tt.length;return Ot&&(yt+=30*Math.round(xt/2)),`${yt}px`}}return R.\u0275fac=function(A){return new(A||R)(s.LFG(Je.u),s.LFG(k.hI),s.LFG(Ye.Q),s.LFG(vt.Z))},R.\u0275prov=s.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})();class Ne{}var ke=t(27386);const{line:He,area:nt,bar:Et,stacked_bar:rt}=It._7.ModeEnum;let Dt=(()=>{class R extends Ne{constructor(A,F){super(),this.chartFieldNumberParserService=A,this.metadataService=F}reduce(A,F,Ee){switch(F.chartType){case He:return this.reduceForTypeLine(A);case nt:return this.reduceForTypeArea(A);case Et:case rt:return this.reduceForTypeBar(A,F,Ee)}return A}reduceForTypeLine(A){return A.fill=!1,A}reduceForTypeArea(A){return A.fill="start",A}reduceForTypeBar(A,F,Ee){let{extraBuckets:Me}=F.meta;const Xe=!!Ee.field_id&&this.metadataService.getField(F.collectionId,Ee.field_id);if(Me.other){let tt=0;Ee.other_value&&(tt=Xe?this.chartFieldNumberParserService.parseNumber(Xe,Ee.other_value):Ee.other_value),A.data.push(tt)}if(Me.null){let tt=0;Ee.null_value&&(tt=Xe?this.chartFieldNumberParserService.parseNumber(Xe,Ee.null_value):Ee.null_value),A.data.push(tt)}return A}}return R.\u0275fac=function(A){return new(A||R)(s.LFG(ke.$),s.LFG(S.Do))},R.\u0275prov=s.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})(),Lt=(()=>{class R extends Ne{constructor(A,F,Ee,Me){super(),this.chartDatasetsChartTypesReducer=A,this.chartUtil=F,this.chartFieldNumberParserService=Ee,this.metadataService=Me}reduce(A,F,Ee){return Ee.map(Me=>{let Xe=this.buildDataset(F,Me);return this.chartDatasetsChartTypesReducer.reduce(Xe,F,Me)})}buildDataset(A,F){const Ee=this.metadataService.getField(A.collectionId,F.field_id||"");let Me;return Me=Ee?F.values.map(Xe=>this.chartFieldNumberParserService.parseNumber(Ee,Xe)):F.values,{label:this.chartUtil.getAxisTitleForField(Ee,F),data:Me,series:F}}}return R.\u0275fac=function(A){return new(A||R)(s.LFG(Dt),s.LFG(Ke),s.LFG(ke.$),s.LFG(S.Do))},R.\u0275prov=s.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})(),Ut=(()=>{class R extends Ne{reduce(A,F){var Ee,Me,Xe;let tt=null!==(Me=null===(Ee=F.bucket.values)||void 0===Ee?void 0:Ee.length)&&void 0!==Me?Me:0;return F.meta.extraBuckets.null&&tt++,F.meta.extraBuckets.other&&tt++,(null===(Xe=null==A?void 0:A[0])||void 0===Xe?void 0:Xe.ticks)&&(A[0].ticks.autoSkip=tt>15),A}}return R.\u0275fac=function(){let Oe;return function(F){return(Oe||(Oe=s.n5z(R)))(F||R)}}(),R.\u0275prov=s.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})();var Yt=t(24956);const{left:$t,right:un}=It.tO.AxisEnum;let je=(()=>{class R extends Ne{constructor(A,F,Ee,Me){super(),this.chartUtil=A,this.metadataService=F,this.logService=Ee,this.util=Me,this.logger=this.logService.getLogger("ChartAxesYReducer")}reduce(A,F,Ee){let Me=[];A.options.scales.yAxes=[];const Xe=this.mapDatasetsToAxes(A.data.datasets,F.collectionId,Ee),tt=this.buildAxesLabels(Xe);if(tt.left){const yt=this.buildScale($t,tt.left,this.getMaxValueForPairs(Xe.left));A.options.scales.yAxes.push(yt),Xe.left.forEach(Ot=>{Ot.dataset.yAxisID=yt.id,Me.push(Ot.dataset)})}if(tt.right){const yt=this.buildScale(un,tt.right,this.getMaxValueForPairs(Xe.right));A.options.scales.yAxes.push(yt),Xe.right.forEach(Ot=>{Ot.dataset.yAxisID=yt.id,Me.push(Ot.dataset)})}return A.data.datasets=Me,A}mapDatasetsToAxes(A,F,Ee){let Me,Xe;return A.reduce((tt,yt,Ot)=>{const xt=Ee[Ot],jt=!!xt.field_id&&this.metadataService.getField(F,xt.field_id);let en=!1,tn=xt.aggregator_id;return jt&&this.chartUtil.isFieldMoneySum(xt.aggregator_id,jt)?tn+="-money-sum":tn+="-int",xt.axis?xt.axis!==$t||Me&&Me!==tn?xt.axis!==un||Xe&&Xe!==tn?en=!0:(Xe=tn,tt.right.push({dataset:yt,series:xt})):(Me=tn,tt.left.push({dataset:yt,series:xt})):xt.axis||(Me&&Me!==tn?Xe&&Xe!==tn?en=!0:(Xe=tn,tt.right.push({dataset:yt,series:xt})):(Me=tn,tt.left.push({dataset:yt,series:xt}))),en&&this.logger.debug(`Discarded dataset. fieldId: ${xt.field_id}. aggregatorId: ${xt.aggregator_id}`),tt},{left:[],right:[]})}buildAxesLabels(A){let F=this.getOptimalLabelForPairs(A.left),Ee=this.getOptimalLabelForPairs(A.right);if(Ee&&F===Ee){let Me=this.chartUtil.getAggregatorLabelForSeries(A.left[0].series);F!==Me&&(F=`${F} (${Me})`);let Xe=this.chartUtil.getAggregatorLabelForSeries(A.right[0].series);Ee!==Xe&&(Ee=`${Ee} (${Xe})`)}return{left:F,right:Ee}}getOptimalLabelForPairs(A){let F=!1;return A.reduce((Ee,Me)=>F?Ee:Ee?(Ee!==Me.dataset.label&&(F=!0,Ee=this.chartUtil.getAggregatorLabelForSeries(Me.series)),Ee):Ee=Me.dataset.label,void 0)}buildScale(A,F,Ee){return{id:`${A}-y-axis`,type:"linear",position:A,gridLines:{display:A===$t},scaleLabel:{display:!0,fontColor:ae.AXIS_TEXT,labelString:F},ticks:{fontColor:ae.TICKS_TEXT,beginAtZero:!0,suggestedMax:Ee+1,callback:Me=>this.util.isNumeric(Me)?(Me=parseFloat(Me),Math.floor(Me)===Me?this.chartUtil.contractNumber(Me):void 0):Me}}}getMaxValueForPairs(A){return A.reduce((F,Ee)=>{const Me=Math.max(...Ee.dataset.data);return Math.max(Me,F)},0)}}return R.\u0275fac=function(A){return new(A||R)(s.LFG(Ke),s.LFG(S.Do),s.LFG(Yt.$V),s.LFG(vt.Z))},R.\u0275prov=s.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})();const{stacked_bar:ft,pie:pe}=It._7.ModeEnum;let be=(()=>{class R extends Ne{reduce(A,F){return F.chartType===ft&&(A.xAxes[0].stacked=!0,A.yAxes[0].stacked=!0),F.chartType===pe?{}:A}}return R.\u0275fac=function(){let Oe;return function(F){return(Oe||(Oe=s.n5z(R)))(F||R)}}(),R.\u0275prov=s.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})(),Ce=(()=>{class R extends Ne{constructor(A,F,Ee){super(),this.chartAxesChartTypesReducer=A,this.chartAxesXReducer=F,this.chartAxesYReducer=Ee}reduce(A,F,Ee){let{options:Me}=A;return Me.scales.xAxes=this.chartAxesXReducer.reduce(Me.scales.xAxes,F),(A=this.chartAxesYReducer.reduce(A,F,Ee)).options.scales=this.chartAxesChartTypesReducer.reduce(Me.scales,F),A}}return R.\u0275fac=function(A){return new(A||R)(s.LFG(be),s.LFG(Ut),s.LFG(je))},R.\u0275prov=s.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})();const{year:de,quarter:Ae,month:ct,week:gt,day:Ht}=It.Xj.DateIntervalEnum;let nn=(()=>{class R extends Ne{constructor(A,F){super(),this.fieldFormatterService=A,this.metadataService=F}reduce(A,F){const Ee=!!F.bucket.fieldId&&this.metadataService.getField(F.collectionId,F.bucket.fieldId);let Me;if(F.bucket.typeId===It.NJ.TypeIdEnum.timeseries){const Xe="en-us",tt={Q1:$localize`Q1`,Q2:$localize`Q2`,Q3:$localize`Q3`,Q4:$localize`Q4`};Me=F.bucket.values.map(yt=>{let Ot=new Date(yt),xt=Ot.getUTCFullYear();switch(F.bucket.interval){case de:return xt;case Ae:switch(Ot.getUTCMonth()+1){case 1:return`${tt.Q1} ${xt}`;case 4:return`${tt.Q2} ${xt}`;case 7:return`${tt.Q3} ${xt}`;case 10:return`${tt.Q4} ${xt}`}break;case ct:return Ot.toLocaleString(Xe,{timeZone:"UTC",year:"numeric",month:"short"});case gt:case Ht:return Ot.toLocaleString(Xe,{timeZone:"UTC",year:"numeric",month:"short",day:"numeric"});default:return yt}})}else Me=F.bucket.values.map(Ee?Xe=>this.fieldFormatterService.formatField(Ee,Xe,k.Qy.chart):Xe=>String(Xe).toString());return F.meta.extraBuckets.other&&Me.push($localize`Other`),F.meta.extraBuckets.null&&Me.push($localize`Unknown`),Me}}return R.\u0275fac=function(A){return new(A||R)(s.LFG(k.eM),s.LFG(S.Do))},R.\u0275prov=s.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})(),mn=(()=>{class R extends Ne{constructor(A,F,Ee){super(),this.chartDatasetsReducer=A,this.chartDataLabelsReducer=F,this.chartAxesReducer=Ee}reduce(A,F){let Ee=F.series.slice(0);return Ee.sort(Me=>Me.axis?-1:1),A.data.datasets=this.chartDatasetsReducer.reduce(A.data.datasets,F,Ee),A.data.labels=this.chartDataLabelsReducer.reduce(A.data.labels,F),this.chartAxesReducer.reduce(A,F,Ee)}}return R.\u0275fac=function(A){return new(A||R)(s.LFG(Lt),s.LFG(nn),s.LFG(Ce))},R.\u0275prov=s.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})(),Xn=(()=>{class R extends Ne{constructor(A){super(),this.chartUtil=A}reduce(A,F){var Ee;return this.chartUtil.buildChartTitle(null===(Ee=F.labels)||void 0===Ee?void 0:Ee.name)}}return R.\u0275fac=function(A){return new(A||R)(s.LFG(Ke))},R.\u0275prov=s.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})();const{stacked_bar:Rn,pie:Yn}=It._7.ModeEnum;let Gn=(()=>{class R extends Ne{constructor(A){super(),this.chartUtil=A}reduce(A,F){return A.labels||(A.labels={}),(F.chartType===Rn||F.chartType===Yn)&&(A.display=!0,A.position="bottom",A.labels.boxWidth=15),F.chartType===Rn&&(A.labels.generateLabels=this.chartUtil.generateLegendLabels),A}}return R.\u0275fac=function(A){return new(A||R)(s.LFG(Ke))},R.\u0275prov=s.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})();var Nn=t(98789);const{pie:Kn}=It._7.ModeEnum;let Vn=(()=>{class R extends Ne{constructor(A,F,Ee){super(),this.analyticsService=A,this.chartUtil=F,this.labelService=Ee,this.NA_LABEL=$localize`N/A`}reduce(A,F){const Ee=F.meta.track,{chartType:Me,series:Xe}=F,tt=Xe.length<2;if(A.callbacks||(A.callbacks={}),A.callbacks.label=(Ot,xt)=>{const{datasetIndex:jt,yLabel:en,index:tn}=Ot,Hn=xt.datasets,ri=null!=jt?Hn[jt]:void 0;if(!ri)return"";let Pi=ri.label||"";Hn.filter(na=>na.label===Pi).length>1&&ri.series&&(Pi+=` (${this.chartUtil.getAggregatorLabelForSeries(ri.series)})`),Pi&&(Pi+=": ");let Ys=en;return Me===Kn&&null!=tn&&(Ys=ri.data[tn]),isNaN(Ys)?Pi+this.NA_LABEL:Pi+this.chartUtil.contractNumber(Ys)},null==Ee?void 0:Ee.id){const Ot=A.callbacks.afterFooter;A.callbacks.afterFooter=(...xt)=>{var jt;return this.analyticsService.trackInHeap(Ee.id,Ee.properties),null!==(jt=null==Ot?void 0:Ot(...xt))&&void 0!==jt?jt:[]}}return Me===Kn&&(A.intersect=!0),A.displayColors=!tt,A}}return R.\u0275fac=function(A){return new(A||R)(s.LFG(Nn.y),s.LFG(Ke),s.LFG(Ye.Q))},R.\u0275prov=s.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})();const{bar:ei,stacked_bar:Ft,pie:In}=It._7.ModeEnum;let cn=(()=>{class R{reduce(A){switch(A.chartType){case ei:case Ft:return"bar";case In:return"pie";default:return"line"}}}return R.\u0275fac=function(A){return new(A||R)},R.\u0275prov=s.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})();const{pie:pi}=It._7.ModeEnum;let hn=(()=>{class R extends Ne{constructor(){super()}reduce(A,F){return F===pi?{}:A}}return R.\u0275fac=function(A){return new(A||R)},R.\u0275prov=s.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})(),Zt=(()=>{class R extends Ne{constructor(A,F){super(),this.chartUtil=A,this.colorUtil=F}reduce(A,F){const Ee=A.data.datasets||[],Me=this.chartUtil.generateColors(Ee.length);return Ee.forEach((Xe,tt)=>this.reduceDataset(Xe,A.type,Me[tt],F)),A}reduceDataset(A,F,Ee,Me){switch(A.type||F){case"line":return this.reduceForLineChart(A,Ee,Me);case"pie":return this.reduceForPieChart(A,Ee,Me);default:return this.reduceForDefaultType(A,Ee,Me)}}reduceForDefaultType(A,F,Ee){return A.backgroundColor=this.colorUtil.getRGBAString(F),A.borderColor=this.colorUtil.getRGBAString(F),A.borderWidth=A.borderWidth||1,A}reduceForLineChart(A,F,Ee){if(A.borderColor=this.colorUtil.getRGBAString(F),A.borderWidth=A.borderWidth||1,A.pointBackgroundColor=this.colorUtil.getRGBAString(F),A.lineTension=.02,this.hideContinuousDatapoints(A),A.fill&&Ee){const tt=Ee.getContext("2d").createLinearGradient(0,0,0,Ee.parentElement.clientHeight);tt.addColorStop(0,this.colorUtil.getRGBAString(F,1)),tt.addColorStop(.5,this.colorUtil.getRGBAString(F,.6)),tt.addColorStop(1,this.colorUtil.getRGBAString(F,.2)),A.backgroundColor=tt}else A.backgroundColor=this.colorUtil.getRGBAString(F);return A}reduceForPieChart(A,F,Ee){let Me=this.chartUtil.generateColors(A.data.length);return A.backgroundColor=[],A.borderColor=[],Me.forEach(Xe=>{const tt=this.colorUtil.getRGBAString(Xe,.6),yt=this.colorUtil.getRGBAString(Xe);A.backgroundColor.push(tt),A.borderColor.push(yt)}),A}hideContinuousDatapoints(A){let F=null;return A.pointRadius=A.data.map(Ee=>Ee===F?0:(F=Ee,3)),A}}return R.\u0275fac=function(A){return new(A||R)(s.LFG(Ke),s.LFG(Je.u))},R.\u0275prov=s.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})();var ti=It._7.ModeEnum;let an=(()=>{class R{constructor(A,F,Ee,Me,Xe,tt,yt,Ot){this.chartUtil=A,this.chartDataReducer=F,this.chartTitleReducer=Ee,this.chartLegendReducer=Me,this.chartTooltipsReducer=Xe,this.chartTypeReducer=tt,this.chartHoverReducer=yt,this.chartStylesReducer=Ot}buildChartConfigurationFromModel(A){if(!this.hasMinimumDatapoints(A))return;let F=this.chartUtil.getBaseChartConfiguration();return F=this.chartDataReducer.reduce(F,A),F.type=this.chartTypeReducer.reduce(A),F.options.title=this.chartTitleReducer.reduce(F.options.title,A),F.options.legend=this.chartLegendReducer.reduce(F.options.legend,A),F.options.tooltips=this.chartTooltipsReducer.reduce(F.options.tooltips,A),F.options.hover=this.chartHoverReducer.reduce(F.options.hover,A.chartType),this.isValidChartConfiguration(F)?F:void 0}updateStyles(A,F){this.chartUtil.updateCanvasHeight(A,F),this.chartStylesReducer.reduce(F,A)}isChartTypeSupported(A){return dt.includes(A)}hasMinimumDatapoints(A){var F;return((null===(F=A.bucket.values)||void 0===F?void 0:F.length)||0)>0&&A.series.length>0&&!!A.series.find(Ee=>Ee.values.length>1)}isValidChartConfiguration(A){return A.type!==ti.line||-1!==A.data.datasets.findIndex(Ee=>{let Me=[];return Ee.data.findIndex(Xe=>(0!==Xe&&!Me.includes(Xe)&&Me.push(Xe),Me.length>=2)),Me.length>=2})}}return R.\u0275fac=function(A){return new(A||R)(s.LFG(Ke),s.LFG(mn),s.LFG(Xn),s.LFG(Gn),s.LFG(Vn),s.LFG(cn),s.LFG(hn),s.LFG(Zt))},R.\u0275prov=s.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})();var Qn=t(86752);let Fn=(()=>{class R{constructor(A){this.userPreferencesService=A,this.USER_PREFERENCE_KEY="charts"}isChartVisible(A){const{hidden:F}=this.getChartCardUserPreferences(A);return!F}setChartVisibility(A,F){const Ee=this.getChartCardUserPreferences(A);this.setChartCardUserPreferences(A,Object.assign(Object.assign({},Ee),{hidden:!F}))}getChartCardUserPreferences(A){return this.getAllChartCardsUserPreferences()[A]||{}}setChartCardUserPreferences(A,F){const Ee=this.getAllChartCardsUserPreferences();Ee[A]=Object.assign(Object.assign({},Ee[A]),F),this.userPreferencesService.set(this.USER_PREFERENCE_KEY,JSON.stringify(Ee))}getAllChartCardsUserPreferences(){try{const A=this.userPreferencesService.get(this.USER_PREFERENCE_KEY);return JSON.parse(A)||{}}catch(A){return{}}}}return R.\u0275fac=function(A){return new(A||R)(s.LFG(Qn._))},R.\u0275prov=s.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})();var kn=t(85853),Zn=t(49837),Dn=t(32478),En=t(43652),ln=t(87317),Un=t(84505),wt=t(52160),fn=t(88759),dn=t(79128),ci=t(91127);let gi=(()=>{class R{constructor(A,F,Ee){this.externalScriptService=A,this.ngZone=F,this.chartService=Ee,this.chartJSLoadedSubject$=new Un.X(!1),this.chartJSLoaded$=this.chartJSLoadedSubject$.asObservable(),this.loadChartJS$=(0,wt.P)(()=>this.externalScriptService.injectChartJS()).pipe((0,fn.b)(Me=>(R=>((R=>{R.defaults.global.defaultFontFamily='Roboto, "Helvetica Neue", sans-serif',R.defaults.global.defaultFontSize=12,R.defaults.line.spanGaps=!0})(R),R))(Me)),(0,fn.b)(()=>this.chartJSLoadedSubject$.next(!0)),(0,dn.d)(1))}render(A,F){const Ee=new Te.xQ;let Me;return this.loadChartJS$.pipe((0,ye.R)(Ee),(0,fn.b)(Xe=>{this.chartService.updateStyles(F,A),this.ngZone.runOutsideAngular(()=>{Me=new Xe(F,A)})})).subscribe({error:()=>{}}),{destroy(){Ee.next(),null==Me||Me.destroy()}}}}return R.\u0275fac=function(A){return new(A||R)(s.LFG(ci.V),s.LFG(s.R0b),s.LFG(an))},R.\u0275prov=s.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})();var li=t(59151);const mi=["canvas"];let vi=(()=>{class R{constructor(A){this.chartRenderer=A,this.scriptsInitialized=new s.vpe,this.onDestroy$=new Te.xQ}ngOnInit(){this.chartRenderer.chartJSLoaded$.pipe((0,li.h)(A=>!!A),(0,fe.q)(1),(0,ye.R)(this.onDestroy$)).subscribe(()=>this.scriptsInitialized.emit())}ngOnChanges(A){this.hasConfigChanged(A.config)&&this.renderChart()}ngAfterViewInit(){this.chart||this.renderChart()}ngOnDestroy(){var A;null===(A=this.chart)||void 0===A||A.destroy()}renderChart(){var A;if(null===(A=this.chart)||void 0===A||A.destroy(),this.canvas&&this.config){let{nativeElement:F}=this.canvas;this.chart=this.chartRenderer.render(this.config,F)}}hasConfigChanged(A){return!!A}}return R.\u0275fac=function(A){return new(A||R)(s.Y36(gi))},R.\u0275cmp=s.Xpm({type:R,selectors:[["chart"]],viewQuery:function(A,F){if(1&A&&s.Gf(mi,5),2&A){let Ee;s.iGM(Ee=s.CRH())&&(F.canvas=Ee.first)}},inputs:{config:"config"},outputs:{scriptsInitialized:"scriptsInitialized"},features:[s.TTD],decls:3,vars:0,consts:[[1,"chart-container"],["width","350"],["canvas",""]],template:function(A,F){1&A&&(s.TgZ(0,"div",0),s._UZ(1,"canvas",1,2),s.qZA())},styles:["[_nghost-%COMP%]{display:block}.chart-container[_ngcontent-%COMP%]{position:relative}"]}),R})();function hi(R,Oe){if(1&R&&(s.TgZ(0,"div",4),s._UZ(1,"icon",5),s.TgZ(2,"span",6),s._uU(3),s.qZA(),s.TgZ(4,"upsell-modal-button",7),s._uU(5),s.ALo(6,"translate"),s.qZA()()),2&R){const A=s.oxw(2);s.xp6(3),s.Oqu(A.questionTitle),s.xp6(2),s.hij(" ",s.lcZ(6,2,"CBL.ENTITY.CHART_CARD.SHOW_BTN")," ")}}function vn(R,Oe){if(1&R){const A=s.EpF();s.TgZ(0,"button",10),s.NdJ("click",function(){return s.CHM(A),s.oxw(3).toggleChartVisibility(!1)}),s._uU(1),s.ALo(2,"translate"),s.qZA()}2&R&&(s.xp6(1),s.hij(" ",s.lcZ(2,1,"CBL.ENTITY.CHART_CARD.HIDE_BTN")," "))}function ze(R,Oe){if(1&R){const A=s.EpF();s.TgZ(0,"button",10),s.NdJ("click",function(){return s.CHM(A),s.oxw(3).toggleChartVisibility(!0)}),s._uU(1),s.ALo(2,"translate"),s.qZA()}2&R&&(s.xp6(1),s.hij(" ",s.lcZ(2,1,"CBL.ENTITY.CHART_CARD.SHOW_BTN")," "))}const ot=function(R){return{"chart-hidden":R}};function Qe(R,Oe){if(1&R&&(s.TgZ(0,"div",8),s._UZ(1,"icon",5),s.TgZ(2,"span"),s._uU(3),s.qZA(),s.YNc(4,vn,3,3,"button",9),s.YNc(5,ze,3,3,"button",9),s.qZA()),2&R){const A=s.oxw(2);s.Q6J("ngClass",s.VKq(4,ot,A.chartCollapsed)),s.xp6(3),s.Oqu(A.questionTitle),s.xp6(1),s.Q6J("ngIf",!A.chartCollapsed),s.xp6(1),s.Q6J("ngIf",A.chartCollapsed)}}function ut(R,Oe){if(1&R){const A=s.EpF();s.TgZ(0,"div",11)(1,"chart",12),s.NdJ("scriptsInitialized",function(){return s.CHM(A),s.oxw(2).chartScriptsInitialized()}),s.qZA()()}if(2&R){const A=s.oxw(2);s.xp6(1),s.Q6J("config",A.chartConfiguration)}}function Tt(R,Oe){if(1&R&&(s.ynx(0),s.YNc(1,hi,7,4,"div",1),s.YNc(2,Qe,6,6,"div",2),s.YNc(3,ut,2,1,"div",3),s.BQk()),2&R){const A=s.oxw();s.xp6(1),s.Q6J("ngIf",!A.canUseCharts&&A.questionTitle),s.xp6(1),s.Q6J("ngIf",A.canUseCharts&&A.questionTitle),s.xp6(1),s.Q6J("ngIf",!A.chartCollapsed&&A.chartConfiguration)}}let bt=(()=>{class R{constructor(A,F,Ee,Me,Xe,tt){this.changeDetectorRef=A,this.platformService=F,this.permissionService=Ee,this.chartCardUserPreferencesService=Me,this.chartService=Xe,this.progressService=tt,this.skipCharts=!1,this.chartCollapsed=!1,this.canUseCharts=!1,this.isLoading=!1,this.onDestroy=new Te.xQ,this.onChanges=new Te.xQ}get questionTitle(){var A,F;return(null===(A=this.chartCardUiData.labels)||void 0===A?void 0:A.headline)||(null===(F=this.chartCardUiData.labels)||void 0===F?void 0:F.name)}get chartTitle(){var A;return null===(A=this.chartCardUiData.labels)||void 0===A?void 0:A.name}ngOnChanges(){this.onChanges.next(),this.chartConfiguration=void 0,this.chartModel=void 0;const A=this.platformService.isBrowser(),F=this.chartService.isChartTypeSupported(this.chartCardUiData.chartType);this.skipCharts=!A||!F,this.canUseCharts=this.permissionService.canUseCharts(),this.chartCollapsed=!0,!this.skipCharts&&this.canUseCharts&&(this.chartCollapsed=!this.chartCardUserPreferencesService.isChartVisible(this.getCardId()),this.loadDataModel())}ngOnDestroy(){this.onDestroy.next(),this.progressService.stopProgress(this.getCardId())}toggleChartVisibility(A){this.chartCardUserPreferencesService.setChartVisibility(this.getCardId(),A),this.chartCollapsed=!A,A&&!this.isLoading&&!this.chartModel&&this.loadDataModel()}chartScriptsInitialized(){this.progressService.stopProgress(this.getCardId())}loadDataModel(){this.isLoading=!0,this.chartCollapsed||this.progressService.startProgress(this.getCardId()),this.chartCardUiData.dataObservable.pipe((0,fe.q)(1),(0,ye.R)((0,ce.T)(this.onChanges,this.onDestroy)),(0,T.U)(A=>A&&this.withTrackingConfiguration(A)),(0,Ge.K)(()=>(0,Re.of)(void 0))).subscribe(A=>{this.isLoading=!1,this.chartModel=A,this.chartConfiguration=A&&this.chartService.buildChartConfigurationFromModel(A),this.chartConfiguration||this.progressService.stopProgress(this.getCardId()),this.changeDetectorRef.markForCheck()})}getCardId(){return this.chartCardUiData.id}withTrackingConfiguration(A){const F=this.getCardId(),Ee={id:["profile",this.entityDef.collection_id,this.sectionId,F,"hover"].join(" > "),properties:{collectionId:this.entityDef.collection_id,sectionId:this.sectionId,id:F}};return Object.assign(Object.assign({},A),{meta:Object.assign(Object.assign({},A.meta),{track:Ee})})}}return R.\u0275fac=function(A){return new(A||R)(s.Y36(s.sBO),s.Y36(Zn.m),s.Y36(at.$),s.Y36(Fn),s.Y36(an),s.Y36(kn.N))},R.\u0275cmp=s.Xpm({type:R,selectors:[["chart-card"]],hostVars:2,hostBindings:function(A,F){2&A&&s.ekj("empty",F.skipCharts)},inputs:{chartCardUiData:"chartCardUiData",entity:"entity",entityDef:"entityDef",sectionId:"sectionId"},features:[s.TTD],decls:1,vars:1,consts:[[4,"ngIf"],["class","chart-title no-access-chart chart-hidden",4,"ngIf"],["class","chart-title",3,"ngClass",4,"ngIf"],["class","chart-container",4,"ngIf"],[1,"chart-title","no-access-chart","chart-hidden"],["key","icon_chart_bar","color","primary",1,"icon"],[1,"question-title"],["triggerLocation","chart-card-show","featureSet","profile_charts","buttonType","basic"],[1,"chart-title",3,"ngClass"],["mat-button","","color","primary",3,"click",4,"ngIf"],["mat-button","","color","primary",3,"click"],[1,"chart-container"],[3,"config","scriptsInitialized"]],template:function(A,F){1&A&&s.YNc(0,Tt,4,3,"ng-container",0),2&A&&s.Q6J("ngIf",!(F.isLoading||!F.chartConfiguration&&F.canUseCharts))},directives:[e.O5,Dn.o,En.J,e.mk,ln.lW,vi],pipes:[q.X],styles:["[_nghost-%COMP%]{display:block;margin:20px 0;padding:0 20px}[_nghost-%COMP%]:last-child{margin-bottom:0;padding-bottom:20px}chart-card + [_nghost-%COMP%]{margin-top:-10px}.empty[_ngcontent-%COMP%]{display:none}.chart-title[_ngcontent-%COMP%]{box-sizing:border-box;display:flex!important;flex-direction:row;justify-content:flex-start;align-items:center;align-content:center;max-width:100%;border:1px solid transparent;border-radius:3px;padding:8px 16px 8px 8px}.chart-title[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{max-width:100%;box-sizing:border-box}.chart-title[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{flex:0 0 auto;box-sizing:border-box;margin-right:8px}.chart-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex:1;box-sizing:border-box}.chart-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{flex:0 0 auto;box-sizing:border-box;text-transform:uppercase}.chart-title.chart-hidden[_ngcontent-%COMP%]{border-color:#0000001f}.no-access-chart[_ngcontent-%COMP%]{padding:4px 16px}.no-access-chart[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:400;color:#282828}.entity-loading[_nghost-%COMP%]   .chart-container[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   .chart-container[_ngcontent-%COMP%], .entity-loading[_nghost-%COMP%]   .chart-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   .chart-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .entity-loading[_nghost-%COMP%]   .chart-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   .chart-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background-color:#e9e9e9!important;color:transparent!important}.entity-loading[_nghost-%COMP%]   chart[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   chart[_ngcontent-%COMP%]{visibility:hidden}.entity-loading[_nghost-%COMP%]  icon svg, .entity-loading   [_nghost-%COMP%]  icon svg{visibility:hidden}"],changeDetection:0}),R})();var Wt=t(92536),sn=t(65085),bn=t(53320),An=t(9591),Xt=t(94736),Cn=t(28965),qt=t(50318);let Sn=(()=>{class R{constructor(A){this.renderer=A.createRenderer(null,null)}getHeroImage(A,F){let Ee=["network","networkCloud","barChart","wavyChart"];switch(Ee[F.intInRange(0,Ee.length)]){case"network":return this.getNetwork(A,R.NETWORK_CONFIG,F);case"networkCloud":return this.getNetworkCloud(A,R.NETWORK_CLOUD_CONFIG,F);case"barChart":return this.getBarChart(A,R.BAR_CHART_CONFIG,F);case"wavyChart":return this.getWavyChart(A,R.WAVY_CHART_CONFIG,F)}}getNetwork(A,F,Ee){let Me=F.gridSpacing,yt=this.getOffsetGridColumns(A.width+2*Me,A.height+2*Me,F.gridSpacing,F.gridJitter,Ee),Ot=this.getNetworkFromGridColumns(A,F,yt);return this.createSvg(A.width,A.height,A.bgColor,Ot,-Me,-Me)}getNetworkFromGridColumns(A,F,Ee){let Me=A.color1,Xe=A.color2,tt=[],yt=this.getOrderedNetworkPathPointsFromColumns(Ee),Ot="";yt.forEach((en,tn)=>{Ot+=`${0===tn?"M":"L"}${en.x} ${en.y}`});let xt=this.createPath(Ot,"transparent",Me,F.pathWidth,!1);return tt.push(xt),Ee.flat().forEach(en=>{let tn=this.createCircle(en,F.dotRadius,Xe,Me,F.pathWidth);tt.push(tn)}),tt}getOrderedNetworkPathPointsFromColumns(A){let F=[];return A.forEach((Ee,Me)=>{for(let tt=Ee.length-1;tt>=0;tt--)F.push(Ee[tt]);if(Me!==A.length-1){let tt=A[Me+1],Ot=[];Ot=Ee[0].y<tt[0].y?this.interlaceColumnsPoints(Ee,tt):this.interlaceColumnsPoints(tt,Ee),F=[...F,...Ot]}}),F}interlaceColumnsPoints(A,F){let Ee=[];return A.forEach((Me,Xe)=>{Ee.push(Me),Ee.push(F[Xe])}),Ee}getOffsetGridColumns(A,F,Ee,Me,Xe){let tt=Ee,yt=Math.sin(this.degreesToRadians(60))*Ee,Ot=this.getGridColumns(A,F,tt,yt,Me,Xe),xt=tt/2;return Ot.forEach((jt,en)=>{en%2==1&&jt.map(Hn=>Hn.y+=xt)}),Ot}getGridColumns(A,F,Ee,Me,Xe,tt){let yt=[];for(let Ot=0;Ot<=A;Ot+=Me){let xt=[];for(let jt=0;jt<=F;jt+=Ee)xt.push({x:Math.round(Ot+tt.floatInRange(-Xe,Xe)),y:Math.round(jt+tt.floatInRange(-Xe,Xe))});yt.push(xt)}return yt}getNetworkCloud(A,F,Ee){let Me=F.gridSpacing,Ot=this.getOffsetGridColumns(A.width+Me,A.height+Me,F.gridSpacing,F.gridJitter,Ee).flat(),xt=this.getNetworkCloudsFromGridPoints(A,F,Ot,Ee);return this.createSvg(A.width,A.height,A.bgColor,xt,-Me,-Me)}getNetworkCloudsFromGridPoints(A,F,Ee,Me){let Xe=A.color1,tt=A.color2,yt=[];return Ee.forEach(Ot=>{let xt=Me.intInRange(F.circleMinPoints,F.circleMaxPoints),jt=Me.floatInRange(F.circleMinRadius,F.circleMaxRadius),en=this.getPointsOnCircle(Ot,xt,jt,Me,!0,F.circlePointMaxJitter),tn=this.getNetworkCloudPathDefFromPoints(en,Me),Hn=this.createPath(tn,"transparent",Xe,F.pathWidth,!1);yt.push(Hn),en.forEach(ri=>{let Pi=this.createCircle(ri,F.dotRadius,tt,Xe,F.pathWidth);yt.push(Pi)})}),yt}getPointsOnCircle(A,F,Ee,Me,Xe,tt){let yt=360*Me.rand(),Ot=360/F,xt=[];for(let jt=0;jt<F;jt++){let tn=this.degreesToRadians(Ot*jt+yt),Hn=Math.cos(tn)*Ee+A.x,ri=Math.sin(tn)*Ee+A.y;tt>0&&(Hn+=Me.floatInRange(-tt,tt),ri+=Me.floatInRange(-tt,tt)),Xe&&(Hn=Math.round(Hn),ri=Math.round(ri)),xt.push({x:Hn,y:ri})}return xt}getNetworkCloudPathDefFromPoints(A,F){let Ee="";return A.forEach((Me,Xe)=>{Ee+=`${0===Xe?"M":"L"} ${Me.x} ${Me.y}`;let yt=A[Xe+1];yt||(yt=A[0]),Ee+=`M${Me.x} ${Me.y} L${yt.x} ${yt.y}`;let Ot=A[F.intInRange(0,A.length)];Me!==Ot&&(Ee+=`M${Me.x} ${Me.y} L${Ot.x} ${Ot.y}`)}),Ee}getBarChart(A,F,Ee){let Me=Ee.intInRange(F.minNumBars,F.maxNumBars,!0),yt=F.minFrontBarHeightPercent*A.height,Ot=F.maxFrontBarHeightPercent*A.height,xt=this.getBarPathDef(A.width,A.height,F.spacing,Me,F.minBackBarHeightPercent*A.height,F.maxBackBarHeightPercent*A.height,Ee),jt=this.createPath(xt,A.color1,"transparent",0,!1),en=this.getBarPathDef(A.width,A.height,F.spacing,Me,yt,Ot,Ee),tn=this.createPath(en,A.color2,"transparent",0,!1);return this.createSvg(A.width,A.height,A.bgColor,[jt,tn],0,0)}getBarPathDef(A,F,Ee,Me,Xe,tt,yt){let Ot=(A-(Me-1)*Ee)/Me;Ot=this.roundToThousandths(Ot);let xt="";for(let jt=0;jt<Me;jt++){let en=yt.intInRange(Xe,tt,!0);xt+=0===jt?`M0 ${F}`:` l${Ee} 0`,xt+=` l0 -${en}`,xt+=` l${Ot} 0`,xt+=` l0 ${en}`}return xt}getWavyChart(A,F,Ee){let Me=F.minWaveRadiusPercent*A.height,Xe=F.maxWaveRadiusPercent*A.height,tt=Ee.intInRange(F.thickMinStrokeWidth,F.thickMaxStrokeWidth,!0),yt=Ee.boolean()?A.color1:"transparent",Ot=A.width+2*tt,xt=F.yAxisPositionPercent*A.height,jt=this.getWavyPathDef(Ot,A.height,F.thickNumWaves,xt,Me,Xe,Ee),en=this.createPath(jt,yt,A.color1,tt,!0),tn=Ee.intInRange(F.thinMinStrokeWidth,F.thinMaxStrokeWidth,!0),Hn=this.getWavyPathDef(Ot,A.height,F.thinNumWaves,xt,Me,Xe,Ee),ri=this.createPath(Hn,"transparent",A.color2,tn,!0);return this.createSvg(A.width,A.height,A.bgColor,[en,ri],-tt,0)}getWavyPathDef(A,F,Ee,Me,Xe,tt,yt){Me=Math.round(Me);let Ot=[],xt=A/Ee,jt=xt/2;for(let Fi=0;Fi<=A+xt;Fi+=xt)Ot.push(Math.round(Fi));let en=`M0,${F} L${Ot[0]},${Me} `,tn=Math.round(Ot[1]-jt),Hn=yt.floatInRange(Xe,tt);Hn=yt.boolean()?Hn:-1*Hn;let Pi=`${tn},${Math.round(Me+Hn)}`;en+=`C${Pi} ${Pi} ${Ot[1]},${Me} `;for(let Fi=2;Fi<Ot.length;Fi++){let Ys=Math.round(Ot[Fi]),na=Math.round(Me),ia=yt.floatInRange(Xe,tt);ia=yt.boolean()?ia:-1*ia,en+=`S${Math.round(Ot[Fi]-jt)},${Math.round(Me+ia)} ${Ys},${na} `}return en+=`L${A},${F}`,en}createSvg(A,F,Ee,Me,Xe,tt){let yt=this.renderer.createElement("svg");yt.setAttribute("width",A),yt.setAttribute("height",F),yt.setAttribute("viewBox",`0 0 ${A} ${F}`),yt.setAttribute("xmlns","http://www.w3.org/2000/svg");let Ot=this.createRect(0,0,A,F,"white"),xt=this.createRect(0,0,A,F,Ee),jt=this.renderer.createElement("g","svg");jt.setAttribute("class","graphic-contents");let en=this.renderer.createElement("g","svg");return 0===Xe&&0===tt||en.setAttribute("style",`transform: translateX(${Xe}px) translateY(${tt}px)`),Me.forEach(tn=>{en.appendChild(tn)}),jt.appendChild(xt),jt.appendChild(en),yt.appendChild(Ot),yt.appendChild(jt),yt}createRect(A,F,Ee,Me,Xe){let tt=this.renderer.createElement("rect","svg");return tt.setAttribute("x",A),tt.setAttribute("y",F),tt.setAttribute("width",Ee),tt.setAttribute("height",Me),tt.setAttribute("fill",Xe),tt}createCircle(A,F,Ee,Me,Xe){let tt=this.renderer.createElement("circle","svg");return tt.setAttribute("cx",A.x),tt.setAttribute("cy",A.y),tt.setAttribute("r",F),tt.setAttribute("fill",Ee),tt.setAttribute("stroke",Me),tt.setAttribute("stroke-width",Xe),tt}createPath(A,F,Ee,Me,Xe){let tt=this.renderer.createElement("path","svg");return tt.setAttribute("d",A),tt.setAttribute("fill",F),Me&&Me>0&&(tt.setAttribute("stroke",Ee),tt.setAttribute("stroke-width",Me)),Xe&&(tt.setAttribute("stroke-linecap","round"),tt.setAttribute("stroke-linejoin","round")),tt}degreesToRadians(A){return A*(Math.PI/180)}roundToThousandths(A){return Math.round(100*A)/100}}return R.NETWORK_CONFIG={pathWidth:5,dotRadius:10,gridSpacing:150,gridJitter:25},R.NETWORK_CLOUD_CONFIG={pathWidth:5,dotRadius:10,gridSpacing:350,gridJitter:10,circleMinRadius:75,circleMaxRadius:150,circleMinPoints:5,circleMaxPoints:7,circlePointMaxJitter:25},R.BAR_CHART_CONFIG={spacing:18,minNumBars:10,maxNumBars:20,minBackBarHeightPercent:.5,maxBackBarHeightPercent:.75,minFrontBarHeightPercent:.45,maxFrontBarHeightPercent:.25},R.WAVY_CHART_CONFIG={minWaveRadiusPercent:.25,maxWaveRadiusPercent:.5,yAxisPositionPercent:.6,thickNumWaves:3,thickMinStrokeWidth:35,thickMaxStrokeWidth:50,thinNumWaves:7,thinMinStrokeWidth:5,thinMaxStrokeWidth:10},R.\u0275fac=function(A){return new(A||R)(s.LFG(s.FYo))},R.\u0275prov=s.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})();var et=t(40361);function Ct(R,Oe){if(1&R&&(s.TgZ(0,"div",4)(1,"div",5),s._UZ(2,"div",6),s.qZA()()),2&R){const A=s.oxw();s.xp6(2),s.Q6J("imgSrc",A.profileImageSrc)}}let mt=(()=>{class R{constructor(A,F,Ee,Me,Xe,tt){this.imageService=A,this.domSanitizer=F,this.heroImageGeneratorService=Ee,this.stringUtil=Me,this.colorPaletteService=Xe,this.renderer=tt}ngOnInit(){this.title=this.heroCardUiData.title;let A=this.heroCardUiData.profileImageId,F=this.heroCardUiData.backgroundImageId;if(A&&(this.profileImageSrc=this.getProfileImageSrc(A)),F){let Ee=this.getBackgroundImageSrc(F);this.backgroundImageUrlString=this.domSanitizer.bypassSecurityTrustStyle(`url(${Ee})`)}else{let Ee=this.getDefaultGraphicSvgString();this.backgroundImageUrlString=this.domSanitizer.bypassSecurityTrustStyle(`url('data:image/svg+xml;charset=utf-8,${encodeURIComponent(Ee)}')`)}}getBackgroundImageSrc(A){return this.imageService.getPublicImageUrl(A,{width:"1280",height:"400",crop:"fill",transparent:!1})}getProfileImageSrc(A){return this.imageService.getPublicImageUrl(A,{width:"120",height:"120",transparent:!1})}getDefaultGraphicSvgString(){let Ee=this.title?this.stringUtil.hashCode(this.title):1,Me=new Cn.k(Ee),Xe=this.colorPaletteService.getColorsFromEditorialPalette(3,30,Me)||[],tt={width:1280,height:400,bgColor:`#${Xe[0]}`,color1:`#${Xe[1]}`,color2:`#${Xe[2]}`},yt=this.renderer.createElement("div"),Ot=this.heroImageGeneratorService.getHeroImage(tt,Me);return yt.appendChild(Ot),yt.innerHTML.toString()}}return R.\u0275fac=function(A){return new(A||R)(s.Y36(bn.A),s.Y36(qt.H7),s.Y36(Sn),s.Y36(Xt.m),s.Y36(An.n),s.Y36(s.Qsj))},R.\u0275cmp=s.Xpm({type:R,selectors:[["hero-card"]],inputs:{heroCardUiData:"heroCardUiData"},decls:5,vars:4,consts:[[1,"title-container"],[1,"title-container-overlay"],[1,"title"],["class","profile-image-container",4,"ngIf"],[1,"profile-image-container"],[1,"profile-image-border"],["lazyLoadImage","",1,"profile-image",3,"imgSrc"]],template:function(A,F){1&A&&(s.TgZ(0,"div",0),s._UZ(1,"div",1),s.TgZ(2,"span",2),s._uU(3),s.qZA()(),s.YNc(4,Ct,3,1,"div",3)),2&A&&(s.Udp("background-image",F.backgroundImageUrlString),s.xp6(3),s.hij(" ",F.title," "),s.xp6(1),s.Q6J("ngIf",F.profileImageSrc))},directives:[e.O5,et.z],styles:["[_nghost-%COMP%]{display:block}svg[_ngcontent-%COMP%]{width:100%;height:auto}.title-container[_ngcontent-%COMP%]{display:flex!important;flex-direction:row;justify-content:center;box-sizing:border-box;align-items:center;align-content:center;max-width:100%;position:relative;background-position:center;background-size:cover;min-height:200px}.title-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{max-width:100%;box-sizing:border-box}.title-container-overlay[_ngcontent-%COMP%]{position:absolute;top:0;right:0;bottom:0;left:0;background:linear-gradient(to bottom,rgba(0,0,0,.15) 0%,rgba(0,0,0,0) 5%,rgba(0,0,0,.4) 100%)}.title[_ngcontent-%COMP%]{font-weight:500;font-size:36px;z-index:1;color:#fff;text-shadow:0 0 3px #000;line-height:42px;text-align:center;padding:71px 40px}.profile-image-container[_ngcontent-%COMP%]{display:flex!important;flex-direction:row;justify-content:center;box-sizing:border-box;align-items:center;align-content:center;max-width:100%;padding-left:20px;padding-right:20px;margin-top:-60px}.profile-image-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{max-width:100%;box-sizing:border-box}@media (min-width: 960px){.profile-image-container[_ngcontent-%COMP%]{justify-content:flex-start;align-items:center;align-content:center;max-width:100%}.profile-image-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{max-width:100%;box-sizing:border-box}}.profile-image-border[_ngcontent-%COMP%]{z-index:1;background-color:#fff;border-radius:3px;border:3px solid white}.profile-image[_ngcontent-%COMP%]{height:120px;width:120px}.entity-loading[_nghost-%COMP%], .entity-loading   [_nghost-%COMP%]{background-color:#e9e9e9!important;color:transparent!important}.entity-loading[_nghost-%COMP%]   .title-container[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   .title-container[_ngcontent-%COMP%]{visibility:hidden}"],changeDetection:0}),R})();var Y=t(24383),xe=t(44661),M=t(25722),ve=t(59095),st=t(46179),At=t(44822),Se=(()=>{return(R=Se||(Se={})).add="add",R.adding="adding",R.added="added",R.remove="remove",R.removing="removing",R.removed="removed",Se;var R})();let ht=(()=>{class R{constructor(A){this.changeDetectorRef=A,this.currentState=Se.add,this.raisedButton=!1,this.hideLabelOnMobile=!0,this.addColor="primary",this.removeColor="warn",this.add=new s.vpe,this.remove=new s.vpe}ngOnChanges(A){this.currentDisplay=this.getDisplay(this.currentState!==Se.remove?this.currentState:Se.added);let F=A.currentState.previousValue;F&&F===Se.removing&&this.currentState===Se.removed&&this.setStateAndDisplayAfterDelay(Se.add)}handleClick(){this.currentState===Se.add&&this.add?this.add.emit():this.currentState===Se.remove&&this.remove&&this.remove.emit()}handleMouseEnter(){this.currentState===Se.added&&this.setStateAndDisplay(Se.remove)}handleMouseLeave(){this.currentState===Se.remove&&this.setStateAndDisplay(Se.added)}setStateAndDisplayAfterDelay(A){setTimeout(()=>{this.setStateAndDisplay(A),this.changeDetectorRef.markForCheck()},R.AUTOMATIC_STATE_CHANGE_DELAY)}setStateAndDisplay(A){this.currentState=A,this.currentDisplay=this.getDisplay(this.currentState)}getDisplay(A){switch(A){case Se.add:return{state:Se.add,iconKey:this.addIconKey,label:this.addLabel,color:this.addColor,isLoading:!1};case Se.adding:return{state:Se.adding,label:this.addLabel,color:this.addColor,isLoading:!0};case Se.added:return{state:Se.added,iconKey:"icon_check",label:this.addedLabel,color:this.addColor,isLoading:!1};case Se.remove:return{state:Se.remove,iconKey:this.removeIconKey,label:this.removeLabel,color:this.removeColor,isLoading:!1};case Se.removing:return{state:Se.removing,label:this.removeLabel,color:this.removeColor,isLoading:!0};case Se.removed:return{state:Se.removed,iconKey:"icon_check",label:this.removedLabel,color:this.removeColor,isLoading:!1}}}}return R.AUTOMATIC_STATE_CHANGE_DELAY=1500,R.\u0275fac=function(A){return new(A||R)(s.Y36(s.sBO))},R.\u0275cmp=s.Xpm({type:R,selectors:[["add-remove-button"]],hostBindings:function(A,F){1&A&&s.NdJ("mouseenter",function(){return F.handleMouseEnter()})("mouseleave",function(){return F.handleMouseLeave()})},inputs:{currentState:"currentState",isDisabled:"isDisabled",raisedButton:"raisedButton",hideLabelOnMobile:"hideLabelOnMobile",addColor:"addColor",addIconKey:"addIconKey",addLabel:"addLabel",addedLabel:"addedLabel",removeColor:"removeColor",removeIconKey:"removeIconKey",removeLabel:"removeLabel",removedLabel:"removedLabel"},outputs:{add:"add",remove:"remove"},features:[s.TTD],decls:1,vars:7,consts:[[3,"color","label","iconKey","isDisabled","isLoading","raisedButton","hideLabelOnMobile","onClick"]],template:function(A,F){1&A&&(s.TgZ(0,"progress-button",0),s.NdJ("onClick",function(){return F.handleClick()}),s.qZA()),2&A&&s.Q6J("color",F.currentDisplay.color)("label",F.currentDisplay.label)("iconKey",F.currentDisplay.iconKey)("isDisabled",F.isDisabled)("isLoading",F.currentDisplay.isLoading)("raisedButton",F.raisedButton)("hideLabelOnMobile",F.hideLabelOnMobile)},directives:[At.l],encapsulation:2,changeDetection:0}),R})();var Qt=t(77500),On=t(46036),di=t(74160);function Ns(R,Oe){if(1&R&&(s.TgZ(0,"a",5)(1,"label-with-icon",6),s._uU(2),s.ALo(3,"translate"),s.qZA()()),2&R){const A=s.oxw(4);s.Q6J("routerLink",A.route.path)("queryParams",A.route.queryParams),s.xp6(1),s.Q6J("iconAfter",!0),s.xp6(1),s.hij(" ",s.lcZ(3,4,"CBL.ENTITY.VIEW_ALL")," ")}}function Qo(R,Oe){if(1&R&&(s.ynx(0),s.YNc(1,Ns,4,6,"a",4),s.BQk()),2&R){const A=s.oxw(3);s.xp6(1),s.Q6J("ngIf",A.route)}}function jo(R,Oe){if(1&R&&(s.ynx(0),s.YNc(1,Qo,2,1,"ng-container",3),s.BQk()),2&R){const A=s.oxw(2);s.xp6(1),s.Q6J("ngIf",A.listLikeCardUiData.section&&A.listLikeCardUiData.card)}}function mo(R,Oe){if(1&R){const A=s.EpF();s.TgZ(0,"button",7),s.NdJ("click",function(){return s.CHM(A),s.oxw(2).showMore()}),s._uU(1),s.ALo(2,"translate"),s.qZA()}2&R&&(s.xp6(1),s.hij(" ",s.lcZ(2,1,"CBL.ENTITY.SHOW_MORE")," "))}function qo(R,Oe){if(1&R&&(s.ynx(0),s.YNc(1,jo,2,1,"ng-container",0),s.YNc(2,mo,3,3,"ng-template",null,2,s.W1O),s.BQk()),2&R){const A=s.MAs(3),F=s.oxw();s.xp6(1),s.Q6J("ngIf",!F.singleMode)("ngIfElse",A)}}function Ti(R,Oe){1&R&&(s.TgZ(0,"upsell-modal-button",8),s._uU(1),s.ALo(2,"translate"),s.qZA()),2&R&&(s.xp6(1),s.hij(" ",s.lcZ(2,1,"CBL.ENTITY.SHOW_MORE")," "))}let Qi=(()=>{class R{constructor(){this.onShowMore=new s.vpe,this.hasUpsell$=new Un.X(!1),this.onDestroy=new Te.xQ,this.onCardDataChanges=new Te.xQ}ngOnChanges(A){this.route=this.getRouteFromBasePath(this.basePath,this.rootSection,this.listLikeCardUiData.section),A.listLikeCardUiData&&(this.onCardDataChanges.next(),this.listLikeCardUiData.canOverrideLimit$.pipe((0,ye.R)((0,ce.T)(this.onCardDataChanges,this.onDestroy))).subscribe(F=>{this.hasUpsell$.next(!F)}))}ngOnDestroy(){this.onDestroy.next()}showMore(){this.onShowMore&&this.onShowMore.emit()}getRouteFromBasePath(A,F,Ee){return{path:[...A,F?F.id:Ee.id],queryParams:F?{tab:Ee.id}:void 0}}}return R.\u0275fac=function(A){return new(A||R)},R.\u0275cmp=s.Xpm({type:R,selectors:[["list-card-more-results"]],inputs:{singleMode:"singleMode",rootSection:"rootSection",listLikeCardUiData:"listLikeCardUiData",basePath:"basePath"},outputs:{onShowMore:"onShowMore"},features:[s.TTD],decls:4,vars:4,consts:[[4,"ngIf","ngIfElse"],["upsellButton",""],["showMoreButton",""],[4,"ngIf"],["mat-button","","color","primary",3,"routerLink","queryParams",4,"ngIf"],["mat-button","","color","primary",3,"routerLink","queryParams"],["iconKey","icon_caret_right",3,"iconAfter"],["mat-button","","color","primary",3,"click"],["featureSet","show_more","triggerLocation","hub-list-card-show-more","buttonType","basic"]],template:function(A,F){if(1&A&&(s.YNc(0,qo,4,2,"ng-container",0),s.ALo(1,"async"),s.YNc(2,Ti,3,3,"ng-template",null,1,s.W1O)),2&A){const Ee=s.MAs(3);s.Q6J("ngIf",!s.lcZ(1,2,F.hasUpsell$))("ngIfElse",Ee)}},directives:[e.O5,On.n,ln.zs,i.yS,di.d,ln.lW,En.J],pipes:[e.Ov,q.X],styles:["[_nghost-%COMP%]{display:block;display:flex!important;flex-direction:row;justify-content:center;box-sizing:border-box;align-items:center;align-content:center;max-width:100%;margin-top:20px;padding:0 20px}[_nghost-%COMP%] > *[_ngcontent-%COMP%]{max-width:100%;box-sizing:border-box}.entity-loading[_nghost-%COMP%]   a[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   a[_ngcontent-%COMP%], .entity-loading[_nghost-%COMP%]   button[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   button[_ngcontent-%COMP%], .entity-loading[_nghost-%COMP%]   upsell-modal-button[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   upsell-modal-button[_ngcontent-%COMP%]{background-color:#e9e9e9!important;color:transparent!important}.entity-loading[_nghost-%COMP%]   a[_ngcontent-%COMP%]  icon, .entity-loading   [_nghost-%COMP%]   a[_ngcontent-%COMP%]  icon, .entity-loading[_nghost-%COMP%]   button[_ngcontent-%COMP%]  icon, .entity-loading   [_nghost-%COMP%]   button[_ngcontent-%COMP%]  icon, .entity-loading[_nghost-%COMP%]   upsell-modal-button[_ngcontent-%COMP%]  icon, .entity-loading   [_nghost-%COMP%]   upsell-modal-button[_ngcontent-%COMP%]  icon{visibility:hidden}"],changeDetection:0}),R})();function xi(R,Oe){if(1&R&&(s.TgZ(0,"h3"),s._uU(1),s.qZA()),2&R){const A=s.oxw();s.xp6(1),s.hij(" ",A.hubListCardUiData.labels.name,"\n")}}function bi(R,Oe){if(1&R&&(s.TgZ(0,"div",12),s._UZ(1,"cb-image",13)(2,"cb-image",13)(3,"cb-image",13)(4,"cb-image",13),s.qZA()),2&R){const A=s.oxw().$implicit;s.xp6(1),s.Q6J("publicId",A.imageIdentifiers[0].image_id)("width",40)("height",40)("alt",""),s.xp6(1),s.Q6J("publicId",A.imageIdentifiers[1].image_id)("width",40)("height",40)("alt",""),s.xp6(1),s.Q6J("publicId",A.imageIdentifiers[2].image_id)("width",40)("height",40)("alt",""),s.xp6(1),s.Q6J("publicId",A.imageIdentifiers[3].image_id)("width",40)("height",40)("alt","")}}function ho(R,Oe){1&R&&(s.ynx(0),s._uU(1,"\xa0\u2022\xa0"),s.BQk())}function Eo(R,Oe){if(1&R&&(s.ynx(0),s._UZ(1,"field-formatter",14),s.ynx(2),s._uU(3),s.BQk(),s.YNc(4,ho,2,0,"ng-container",0),s.BQk()),2&R){const A=Oe.$implicit,F=Oe.last,Ee=s.oxw(2);s.xp6(1),s.Q6J("field",A.field)("fieldData",A.data)("collectionId",A.collectionId)("queryData",A.fieldQueryData)("contextType",Ee.contextType),s.xp6(2),s.hij("\xa0",A.label,""),s.xp6(1),s.Q6J("ngIf",!F)}}function fo(R,Oe){if(1&R){const A=s.EpF();s.TgZ(0,"add-remove-button",16),s.NdJ("add",function(){s.CHM(A);const Ee=s.oxw(2).$implicit;return s.oxw().track(Ee)}),s.ALo(1,"translate"),s.ALo(2,"translate"),s.ALo(3,"translate"),s.ALo(4,"translate"),s.ALo(5,"async"),s.qZA()}if(2&R){const A=s.oxw(2).$implicit;s.Q6J("addLabel",s.lcZ(1,5,"CBL.ENTITY.HUB_LIST_CARD.TRACK"))("addedLabel",s.lcZ(2,7,"CBL.ENTITY.HUB_LIST_CARD.TRACKED"))("removeLabel",s.lcZ(3,9,"CBL.ENTITY.HUB_LIST_CARD.STOP_TRACKING"))("removedLabel",s.lcZ(4,11,"CBL.ENTITY.HUB_LIST_CARD.UNTRACKED"))("currentState",s.lcZ(5,13,A.state))}}function vo(R,Oe){if(1&R&&(s.ynx(0),s.TgZ(1,"a",17),s._UZ(2,"icon",18),s.TgZ(3,"span",19),s._uU(4),s.ALo(5,"uppercase"),s.ALo(6,"translate"),s.qZA()(),s.BQk()),2&R){const A=Oe.ngIf;s.xp6(1),s.Q6J("routerLink",A.route.path)("queryParams",A.route.queryParams),s.xp6(3),s.hij(" ",s.lcZ(5,3,s.lcZ(6,5,"CBL.ENTITY.HUB_LIST_CARD.SEE_ACTIVITIES"))," ")}}function Co(R,Oe){if(1&R&&(s.ynx(0),s.YNc(1,fo,6,15,"add-remove-button",15),s.ALo(2,"async"),s.YNc(3,vo,7,7,"ng-container",0),s.ALo(4,"async"),s.BQk()),2&R){const A=s.oxw().$implicit;s.xp6(1),s.Q6J("ngIf",!s.lcZ(2,2,A.existingList$)),s.xp6(2),s.Q6J("ngIf",s.lcZ(4,4,A.existingList$))}}const yo=function(R){return{entity:R}};function So(R,Oe){if(1&R&&(s.TgZ(0,"upsell-modal-button",20),s._uU(1),s.ALo(2,"translate"),s.qZA()),2&R){const A=s.oxw(2);s.Q6J("context",s.VKq(4,yo,A.hubListCardUiData.parentIdentifier.value||"")),s.xp6(1),s.hij(" ",s.lcZ(2,2,"CBL.ENTITY.HUB_LIST_CARD.TRACK")," ")}}function ji(R,Oe){if(1&R&&(s.TgZ(0,"div",3),s.YNc(1,bi,5,16,"div",4),s.TgZ(2,"div",5)(3,"a",6),s._uU(4),s.qZA(),s.TgZ(5,"div",7),s.YNc(6,Eo,5,7,"ng-container",8),s.qZA()(),s.TgZ(7,"div",9),s.YNc(8,Co,5,6,"ng-container",10),s.YNc(9,So,3,6,"ng-template",null,11,s.W1O),s.qZA()()),2&R){const A=Oe.$implicit,F=s.MAs(10),Ee=s.oxw();s.xp6(1),s.Q6J("ngIf",A.imageIdentifiers),s.xp6(2),s.Q6J("routerLink",A.identifier.route.path),s.xp6(1),s.hij(" ",A.identifier.value," "),s.xp6(2),s.Q6J("ngForOf",A.fieldItems),s.xp6(2),s.Q6J("ngIf",Ee.canTrackHubs)("ngIfElse",F)}}function qi(R,Oe){if(1&R){const A=s.EpF();s.TgZ(0,"list-card-more-results",21),s.NdJ("onShowMore",function(){return s.CHM(A),s.oxw().showMoreRows()}),s.qZA()}if(2&R){const A=s.oxw();s.Q6J("rootSection",A.rootSection)("listLikeCardUiData",A.hubListCardUiData)("singleMode",A.singleMode)("basePath",A.basePath)}}let Xi=(()=>{class R{constructor(A,F,Ee,Me,Xe,tt){this.changeDetectorRef=A,this.entityService=F,this.entityCardService=Ee,this.progressService=Me,this.toastService=Xe,this.permissionService=tt,this.statefulRowItems=[],this.fetchedAllResults=!1,this.contextType=k.Qy.profile,this.onDestroy=new Te.xQ}ngOnInit(){this.permissionService.getPermissions().pipe((0,ye.R)(this.onDestroy)).subscribe(A=>{this.canTrackHubs=A.canTrackHubs(),this.changeDetectorRef.markForCheck()})}ngOnChanges(A){A.hubListCardUiData&&(this.changeRowItems(this.hubListCardUiData.rowItems,"replace"),this.fetchedAllResults=this.hubListCardUiData.rowItems.length<this.limitOverride)}ngOnDestroy(){this.onDestroy.next()}showMoreRows(){this.loadOverrideData({card_id:this.hubListCardUiData.card.id,after_id:this.getNextPageUuid()})}track(A){!A.createList$||(A.state=(0,Re.of)(Se.adding),A.createList$.pipe((0,xe.x)(()=>{this.changeDetectorRef.markForCheck()})).subscribe(F=>{A.state=(0,Re.of)(Se.added),A.refreshExisting(),this.toastService.showSimpleToast("CBL.ENTITY.HUB_LIST_CARD.TRACKED_TOAST",{listName:F.name})},F=>{A.state=(0,Re.of)(Se.add),this.toastService.showSimpleToast("CBL.COMMON.OOPS")}))}changeRowItems(A,F){const Ee=A.map(Me=>{var Xe;const tt=(null!==(Xe=Me.existingList$)&&void 0!==Xe?Xe:(0,Re.of)(void 0)).pipe((0,T.U)(yt=>yt?Se.added:Se.add),(0,M.O)(Se.add));return Object.assign(Object.assign({},Me),{state:tt})});this.statefulRowItems="replace"===F?Ee:[...this.statefulRowItems,...Ee]}loadOverrideData(A){this.progressService.startProgress(R.PROGRESS_KEY),A=A||{card_id:this.hubListCardUiData.card.id},this.singleMode&&(A.limit=C.c4.SHOW_MORE_LIMIT),(0,Y.D)(this.entityService.getSingleCardEntity(this.entityDef.collection_id,this.entity.properties.identifier.uuid,A)).pipe((0,ve.w)(F=>this.entityCardService.getViewCard$(F,this.entityDef,this.hubListCardUiData.section,this.hubListCardUiData.card)),(0,xe.x)(()=>{this.progressService.stopProgress(R.PROGRESS_KEY),this.changeDetectorRef.markForCheck()})).subscribe({next:F=>{if(F){const Ee=F.rowItems||[];this.fetchedAllResults=Ee.length!==A.limit,this.changeRowItems(Ee,"append")}},error:F=>{this.toastService.showSimpleToast("CBL.ENTITY.LOOKUP_CARD.FETCH_ERROR")}})}getNextPageUuid(){var A;let F=(0,Ue.last)(this.statefulRowItems);return null===(A=null==F?void 0:F.identifier)||void 0===A?void 0:A.uuid}}return R.PROGRESS_KEY="HUB-LIST-CARD",R.\u0275fac=function(A){return new(A||R)(s.Y36(s.sBO),s.Y36(C.c4),s.Y36(C.AH),s.Y36(kn.N),s.Y36(st.k),s.Y36(at.$))},R.\u0275cmp=s.Xpm({type:R,selectors:[["hub-list-card"]],inputs:{entityDef:"entityDef",entity:"entity",hubListCardUiData:"hubListCardUiData",singleMode:"singleMode",limitOverride:"limitOverride",rootSection:"rootSection",firstChild:"firstChild",basePath:"basePath"},features:[s.TTD],decls:3,vars:3,consts:[[4,"ngIf"],["class","layout-row list-item",4,"ngFor","ngForOf"],[3,"rootSection","listLikeCardUiData","singleMode","basePath","onShowMore",4,"ngIf"],[1,"layout-row","list-item"],["class","image-square flex-none layout-row layout-wrap",4,"ngIf"],[1,"flex","layout-column","layout-align-center-start"],[1,"link-accent",3,"routerLink"],[1,"subtext","hide","show-gt-sm","cb-margin-medium-top"],[4,"ngFor","ngForOf"],[1,"flex-none","layout-column","layout-align-center-end"],[4,"ngIf","ngIfElse"],["trackUpsell",""],[1,"image-square","flex-none","layout-row","layout-wrap"],[3,"publicId","width","height","alt"],["linkColor","accent",3,"field","fieldData","collectionId","queryData","contextType"],["addColor","primary","addIconKey","icon_track","removeColor","warn","removeIconKey","icon_close_knockout_round",3,"addLabel","addedLabel","removeLabel","removedLabel","currentState","add",4,"ngIf"],["addColor","primary","addIconKey","icon_track","removeColor","warn","removeIconKey","icon_close_knockout_round",3,"addLabel","addedLabel","removeLabel","removedLabel","currentState","add"],["mat-button","",1,"mat-primary",3,"routerLink","queryParams"],["key","icon_eye_open","color","inherit"],[1,"hide","show-gt-sm","cb-margin-small-left"],["triggerLocation","hub-list-card-track","featureSet","hub_list_card","buttonType","basic",3,"context"],[3,"rootSection","listLikeCardUiData","singleMode","basePath","onShowMore"]],template:function(A,F){1&A&&(s.YNc(0,xi,2,1,"h3",0),s.YNc(1,ji,11,6,"div",1),s.YNc(2,qi,1,4,"list-card-more-results",2)),2&A&&(s.Q6J("ngIf",F.hubListCardUiData.labels&&F.hubListCardUiData.labels.name),s.xp6(1),s.Q6J("ngForOf",F.statefulRowItems),s.xp6(1),s.Q6J("ngIf",F.hubListCardUiData.moreResultsAvailable&&!F.fetchedAllResults))},directives:[e.O5,e.sg,Qt.q,On.n,i.yS,K.N,ht,ln.zs,Dn.o,En.J,Qi],pipes:[q.X,e.Ov,e.gd],styles:["[_nghost-%COMP%]{display:block;margin:20px 0;padding:0 20px}[_nghost-%COMP%]:last-child{margin-bottom:0;padding-bottom:20px}.entity-loading[_nghost-%COMP%]   a[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   a[_ngcontent-%COMP%], .entity-loading[_nghost-%COMP%]   button[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   button[_ngcontent-%COMP%], .entity-loading[_nghost-%COMP%]   .subtext[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   .subtext[_ngcontent-%COMP%]{background-color:#e9e9e9!important;color:transparent!important}.entity-loading[_nghost-%COMP%]   .cb-image-with-placeholder[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   .cb-image-with-placeholder[_ngcontent-%COMP%]{background-image:none!important;background-color:#e9e9e9;border:transparent}.entity-loading[_nghost-%COMP%]   .cb-image-with-placeholder[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   .cb-image-with-placeholder[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{visibility:hidden}.image-square[_ngcontent-%COMP%]{width:80px;height:80px;box-sizing:content-box;overflow:hidden;border-radius:4px;box-shadow:0 2px 1px -1px #0003,0 1px 1px #00000024,0 1px 3px #0000001f}.image-square[_ngcontent-%COMP%]   cb-image[_ngcontent-%COMP%], .image-square[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:40px;width:40px;display:block}.list-item[_ngcontent-%COMP%]{margin-bottom:20px}.list-item[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:last-child){margin-right:20px}.list-item[_ngcontent-%COMP%]:last-child{margin-bottom:0}h3[_ngcontent-%COMP%]{font-size:16px;line-height:24px;color:#282828;letter-spacing:.3px;font-weight:500;font-family:Roboto,Arial,sans-serif;margin-bottom:8px;padding:0 20px}.entity-loading[_nghost-%COMP%]     add-remove-button button, .entity-loading   [_nghost-%COMP%]     add-remove-button button, .entity-loading[_nghost-%COMP%]     button, .entity-loading   [_nghost-%COMP%]     button, .entity-loading[_nghost-%COMP%]     list-card-more-results a, .entity-loading   [_nghost-%COMP%]     list-card-more-results a, .entity-loading[_nghost-%COMP%]     list-card-more-results button, .entity-loading   [_nghost-%COMP%]     list-card-more-results button, .entity-loading[_nghost-%COMP%]     field-formatter a, .entity-loading   [_nghost-%COMP%]     field-formatter a{background-color:#e9e9e9!important;color:transparent!important}.entity-loading[_nghost-%COMP%]     .image-square, .entity-loading   [_nghost-%COMP%]     .image-square{background-color:#e9e9e9!important;color:transparent!important}.entity-loading[_nghost-%COMP%]     .image-square cb-image, .entity-loading   [_nghost-%COMP%]     .image-square cb-image{visibility:hidden}"],changeDetection:0}),R})();function Io(R,Oe){if(1&R&&s._UZ(0,"iframe",1),2&R){const A=s.oxw();s.Q6J("src",A.iframeCardUiData.url,s.uOi)}}let To=(()=>{class R{}return R.\u0275fac=function(A){return new(A||R)},R.\u0275cmp=s.Xpm({type:R,selectors:[["iframe-card"]],inputs:{iframeCardUiData:"iframeCardUiData"},decls:1,vars:1,consts:[["sandbox","allow-scripts allow-same-origin allow-forms allow-popups allow-popups-to-escape-sandbox",3,"src",4,"ngIf"],["sandbox","allow-scripts allow-same-origin allow-forms allow-popups allow-popups-to-escape-sandbox",3,"src"]],template:function(A,F){1&A&&s.YNc(0,Io,1,1,"iframe",0),2&A&&s.Q6J("ngIf",F.iframeCardUiData.url)},directives:[e.O5],styles:['[_nghost-%COMP%]{display:block;margin:20px 0;padding:0 20px}[_nghost-%COMP%]:last-child{margin-bottom:0;padding-bottom:20px}iframe[_ngcontent-%COMP%]{min-width:100%;width:0px;border:none;height:400px}.entity-loading[_nghost-%COMP%], .entity-loading   [_nghost-%COMP%]{position:relative}.entity-loading[_nghost-%COMP%]:before, .entity-loading   [_nghost-%COMP%]:before{content:"";display:block;position:absolute;top:16px;right:16px;bottom:16px;left:16px;background-color:#e9e9e9}.entity-loading[_nghost-%COMP%]   iframe[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   iframe[_ngcontent-%COMP%]{visibility:hidden}'],changeDetection:0}),R})();var Gt=t(25458),Li=t(20262),wi=t(96017);let Ri=(()=>{class R{}return R.\u0275fac=function(A){return new(A||R)},R.\u0275dir=s.lG2({type:R,selectors:[["carousel-item"]]}),R})(),Ao=(()=>{class R{constructor(A){this.platformService=A}getCarouselResizedState(A){if(!A)return A;let F=Object.assign({},A);return this.getResizedState(F)}getItemsChangedState(A,F){if(!A)return A;let Ee=Object.assign({},A);return Ee.items=F,this.getResizedState(Ee)}getPrevPageState(A){if(!A||!A.canPagePrev)return A;let F=Object.assign({},A);return F.translate=this.getPrevPageTranslate(F),F.canPagePrev=this.getCanPagePrev(F),F.canPageNext=this.getCanPageNext(F),F}getNextPageState(A){if(!A||!A.canPageNext)return A;let F=Object.assign({},A);return F.translate=this.getNextPageTranslate(F),F.canPagePrev=this.getCanPagePrev(F),F.canPageNext=this.getCanPageNext(F),F}getResizedState(A){return A.canPagePrev=this.getCanPagePrev(A),A.canPageNext=this.getCanPageNext(A),A}getPrevPageTranslate(A){const Me=A.translate-this.getCarouselWidth(A);if(Me>0){const Xe=this.getBorderCardLeft(A);return Xe?Me+(this.getElementRight(Xe)-this.getElementLeft(A.carousel)):Me}return 0}getNextPageTranslate(A){let F=A.translate;const Ee=this.getItemsWidth(A),Me=this.getCarouselWidth(A),Xe=Ee-Me,tt=this.getBorderCardRight(A);if(tt){const yt=this.getElementLeft(A.carousel);F+=this.getElementLeft(tt)-yt}else F+=Me;return Math.min(F,Xe)}getCanPageNext(A){const F=this.getCarouselWidth(A);return 0!==F&&this.getItemsWidth(A)>A.translate+F}getCanPagePrev(A){return A.translate>0}getBorderCardRight(A){const F=this.getElementLeft(A.carousel),Ee=this.getElementWidth(A.carousel);return A.items.find(Me=>{const Xe=this.getElementLeft(Me)-F,tt=this.getElementRight(Me)-F;return Xe<Ee&&tt>Ee})}getBorderCardLeft(A){const F=this.getElementLeft(A.carousel);return A.items.find(Ee=>{const Me=this.getElementLeft(Ee)-F,Xe=this.getElementRight(Ee)-F;return Me<0&&Xe>0})}getCarouselWidth(A){return A.carousel?this.getElementWidth(A.carousel):0}getItemsWidth(A){if(!A.items||!A.items.length)return 0;const F=this.getElementLeft(A.items[0]);return this.getElementRight(A.items[A.items.length-1])-F}getElementLeft(A){return!A||this.platformService.isServer()?0:A.getBoundingClientRect().left}getElementRight(A){return!A||this.platformService.isServer()?0:A.getBoundingClientRect().right}getElementWidth(A){return!A||this.platformService.isServer()?0:A.getBoundingClientRect().width}}return R.\u0275fac=function(A){return new(A||R)(s.LFG(Zn.m))},R.\u0275prov=s.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})();var eo=t(63555);const to=function(R,Oe){return{"can-page-prev":R,"can-page-next":Oe}},Oo=function(R){return{"page-hidden":R}},Xo=["*"];let es=(()=>{class R{constructor(A,F,Ee){this.carouselService=A,this.changeDetectorRef=F,this.elementRef=Ee,this.state={canPagePrev:!1,canPageNext:!1,translate:0,carousel:void 0,items:[]}}ngAfterViewInit(){this.items.changes.subscribe(A=>{this.state=this.carouselService.getItemsChangedState(this.state,this.getItems()),this.changeDetectorRef.detectChanges()}),this.state.carousel=this.getCarousel(),this.state=this.carouselService.getItemsChangedState(this.state,this.getItems()),this.changeDetectorRef.detectChanges()}windowResize(){this.state=this.carouselService.getCarouselResizedState(this.state),this.changeDetectorRef.detectChanges()}pagePrev(){this.state=this.carouselService.getPrevPageState(this.state)}pageNext(){this.state=this.carouselService.getNextPageState(this.state)}getItems(){return this.items.toArray().map(A=>A.nativeElement)}getCarousel(){return this.elementRef.nativeElement}}return R.\u0275fac=function(A){return new(A||R)(s.Y36(Ao),s.Y36(s.sBO),s.Y36(s.SBq))},R.\u0275cmp=s.Xpm({type:R,selectors:[["carousel"]],contentQueries:function(A,F,Ee){if(1&A&&s.Suo(Ee,Ri,4,s.SBq),2&A){let Me;s.iGM(Me=s.CRH())&&(F.items=Me)}},ngContentSelectors:Xo,decls:10,vars:19,consts:[["windowResizeNotifier","","regulateExecutionBy","debounce",1,"carousel-wrapper",3,"wait","ngClass","onResize"],[1,"carousel-row"],[1,"end-spacer"],["mat-mini-fab","",1,"page-prev",3,"ngClass","click"],["key","icon_caret_left","color","primary"],["mat-mini-fab","",1,"page-next",3,"ngClass","click"],["key","icon_caret_right","color","primary"]],template:function(A,F){1&A&&(s.F$t(),s.TgZ(0,"div",0),s.NdJ("onResize",function(){return F.windowResize()}),s.TgZ(1,"div",1),s.Hsn(2),s._UZ(3,"div",2),s.qZA()(),s.TgZ(4,"button",3),s.NdJ("click",function(){return F.pagePrev()}),s.ALo(5,"translate"),s._UZ(6,"icon",4),s.qZA(),s.TgZ(7,"button",5),s.NdJ("click",function(){return F.pageNext()}),s.ALo(8,"translate"),s._UZ(9,"icon",6),s.qZA()),2&A&&(s.Q6J("wait",300)("ngClass",s.WLB(12,to,F.state.canPagePrev,F.state.canPageNext)),s.xp6(1),s.Udp("transform","translateX(-"+F.state.translate+"px)"),s.xp6(3),s.Q6J("ngClass",s.VKq(15,Oo,!F.state.canPagePrev)),s.uIk("aria-label",s.lcZ(5,8,"CBL.PAGINATION.PAGE_BACK")),s.xp6(3),s.Q6J("ngClass",s.VKq(17,Oo,!F.state.canPageNext)),s.uIk("aria-label",s.lcZ(8,10,"CBL.PAGINATION.PAGE_BACK")))},directives:[eo.c,e.mk,ln.lW,Dn.o],pipes:[q.X],styles:['[_nghost-%COMP%]{display:block;position:relative}[_nghost-%COMP%]:hover   .page-prev[_ngcontent-%COMP%], [_nghost-%COMP%]:hover   .page-next[_ngcontent-%COMP%]{opacity:1}.carousel-wrapper[_ngcontent-%COMP%]{overflow:hidden;position:relative}.carousel-wrapper.can-page-prev[_ngcontent-%COMP%]{border-left:1px solid rgba(0,0,0,.12)}.carousel-wrapper.can-page-prev[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;bottom:0;width:8px;z-index:1;box-shadow:inset 7px 0 9px -7px #00000080;left:0}.carousel-wrapper.can-page-next[_ngcontent-%COMP%]{border-right:1px solid rgba(0,0,0,.12)}.carousel-wrapper.can-page-next[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;bottom:0;width:8px;z-index:1;box-shadow:inset -7px 0 9px -7px #00000080;right:0}.carousel-row[_ngcontent-%COMP%]{justify-content:flex-start;display:inline-flex;min-width:100%;transition:transform 255ms cubic-bezier(.4,0,.2,1)}.end-spacer[_ngcontent-%COMP%]{flex:1 1 100%}.page-prev[_ngcontent-%COMP%], .page-next[_ngcontent-%COMP%]{position:absolute;top:calc(50% - 20px);opacity:.5;transition:opacity 255ms cubic-bezier(.4,0,.2,1)}.page-prev.mat-mini-fab[_ngcontent-%COMP%], .page-next.mat-mini-fab[_ngcontent-%COMP%]{background-color:#fff}.page-prev[_ngcontent-%COMP%]{left:4px}.page-next[_ngcontent-%COMP%]{right:4px}.page-hidden[_ngcontent-%COMP%]{visibility:hidden;opacity:0}'],changeDetection:0}),R})();var Jt=t(11961),Po=t(19975);const Bi=[[["carousel-item-image"]],[["carousel-item-title"]],[["carousel-item-body"]],[["carousel-item-actions"]]],ki=["carousel-item-image","carousel-item-title","carousel-item-body","carousel-item-actions"];let Hi=(()=>{class R{}return R.\u0275fac=function(A){return new(A||R)},R.\u0275cmp=s.Xpm({type:R,selectors:[["carousel-image-card-layout"]],features:[s._Bn([{provide:Ri,useExisting:R}])],ngContentSelectors:ki,decls:11,vars:0,consts:[[1,"carousel-item"],[1,"image-wrapper"],[1,"title"],[1,"body"],[1,"actions"]],template:function(A,F){1&A&&(s.F$t(Bi),s.TgZ(0,"mat-card")(1,"div",0)(2,"div",1),s.Hsn(3),s.qZA(),s._UZ(4,"mat-divider"),s.TgZ(5,"div",2),s.Hsn(6,1),s.qZA(),s.TgZ(7,"div",3),s.Hsn(8,2),s.qZA()(),s.TgZ(9,"div",4),s.Hsn(10,3),s.qZA()())},directives:[Jt.a8,Po.d],styles:["[_nghost-%COMP%]{display:block;padding:3px 0}[_nghost-%COMP%]     identifier-image>div{border-radius:0;box-shadow:none}mat-card[_ngcontent-%COMP%]{box-sizing:border-box;display:flex!important;flex-direction:column;justify-content:flex-start;align-items:stretch;align-content:stretch;height:100%;padding:0}mat-card[_ngcontent-%COMP%]   .carousel-item[_ngcontent-%COMP%]{flex:1 0 auto;box-sizing:border-box}.image-wrapper[_ngcontent-%COMP%]{border-radius:4px 4px 0 0;overflow:hidden}.title[_ngcontent-%COMP%]{font-weight:500;font-size:16px;padding:16px;text-align:center}.actions[_ngcontent-%COMP%]{flex:0 0 auto;box-sizing:border-box;padding:0 16px 16px;text-align:center}.title[_ngcontent-%COMP%]:empty, .body[_ngcontent-%COMP%]:empty, .actions[_ngcontent-%COMP%]:empty{display:none}"],changeDetection:0}),R})(),oi=(()=>{class R{}return R.\u0275fac=function(A){return new(A||R)},R.\u0275dir=s.lG2({type:R,selectors:[["carousel-item-image"]]}),R})(),zn=(()=>{class R{}return R.\u0275fac=function(A){return new(A||R)},R.\u0275dir=s.lG2({type:R,selectors:[["carousel-item-body"]]}),R})();var Pn=t(29637);function Gi(R,Oe){if(1&R&&(s.TgZ(0,"h3"),s._uU(1),s.qZA()),2&R){const A=s.oxw();s.xp6(1),s.hij(" ",A.imageListCardUiData.labels.name,"\n")}}function Zi(R,Oe){if(1&R&&s._UZ(0,"field-formatter",9),2&R){const A=Oe.$implicit,F=s.oxw(3);s.Q6J("field",A.field)("fieldData",A.data)("collectionId",A.collectionId)("queryData",A.fieldQueryData)("contextType",F.contextType)}}function zi(R,Oe){if(1&R&&(s.TgZ(0,"li"),s._UZ(1,"identifier-image",5),s.TgZ(2,"div",6)(3,"a",7),s._uU(4),s.qZA(),s.YNc(5,Zi,1,5,"field-formatter",8),s.qZA()()),2&R){const A=Oe.$implicit,F=s.oxw(2);s.xp6(1),s.Q6J("identifier",A.displayIdentifier)("size",85),s.xp6(2),s.Q6J("routerLink",null==A.displayIdentifier.route?null:A.displayIdentifier.route.path)("hoverPreview",A.canHoverPreview)("hoverPayload",A.hoverPayload)("hoverComponent",F.overlayComponent),s.xp6(1),s.hij(" ",A.displayIdentifier.value," "),s.xp6(1),s.Q6J("ngForOf",A.fieldItems)}}const Ci=function(R,Oe){return{"single-column":R,"two-column":Oe}};function no(R,Oe){if(1&R&&(s.TgZ(0,"ul",3),s.YNc(1,zi,6,8,"li",4),s.qZA()),2&R){const A=s.oxw();s.Q6J("ngClass",s.WLB(2,Ci,2!==A.imageListCardUiData.columnCount,2===A.imageListCardUiData.columnCount)),s.xp6(1),s.Q6J("ngForOf",A.imageListCardUiData.rowItems)}}function bo(R,Oe){if(1&R&&s._UZ(0,"field-formatter",9),2&R){const A=Oe.$implicit,F=s.oxw(3);s.Q6J("field",A.field)("fieldData",A.data)("collectionId",A.collectionId)("queryData",A.fieldQueryData)("contextType",F.contextType)}}function ts(R,Oe){if(1&R&&(s.TgZ(0,"carousel-image-card-layout")(1,"carousel-item-image"),s._UZ(2,"identifier-image",10),s.qZA(),s.TgZ(3,"carousel-item-body")(4,"identifier-link",11),s._uU(5),s.qZA(),s.YNc(6,bo,1,5,"field-formatter",8),s.qZA()()),2&R){const A=Oe.$implicit;s.xp6(2),s.Q6J("identifier",A.displayIdentifier)("size",125)("provideStyling",!1),s.xp6(2),s.Q6J("identifier",A.displayIdentifier),s.xp6(1),s.hij(" ",A.displayIdentifier.value," "),s.xp6(1),s.Q6J("ngForOf",A.fieldItems)}}function ns(R,Oe){if(1&R&&(s.TgZ(0,"carousel"),s.YNc(1,ts,7,6,"carousel-image-card-layout",4),s.qZA()),2&R){const A=s.oxw();s.xp6(1),s.Q6J("ngForOf",A.imageListCardUiData.rowItems)}}function is(R,Oe){if(1&R){const A=s.EpF();s.TgZ(0,"list-card-more-results",12),s.NdJ("onShowMore",function(){return s.CHM(A),s.oxw().showMoreRows()}),s.qZA()}if(2&R){const A=s.oxw();s.Q6J("rootSection",A.rootSection)("listLikeCardUiData",A.imageListCardUiData)("singleMode",A.singleMode)("basePath",A.basePath)}}let Lo=(()=>{class R{constructor(A,F,Ee,Me,Xe,tt,yt){this.overlayComponent=A,this.entityService=F,this.entityCardService=Ee,this.progressService=Me,this.toastService=Xe,this.bootstrapService=tt,this.changeDetectorRef=yt,this.fetchedAllResults=!1,this.contextType=k.Qy.profile}ngOnChanges(){this.showCardUi=this.bootstrapService.isMobile()&&!this.singleMode,this.fetchedAllResults=this.imageListCardUiData.rowItems.length<this.limitOverride}showMoreRows(){this.loadOverrideData({card_id:this.imageListCardUiData.card.id,after_id:this.getNextPageUuid()},!0)}loadOverrideData(A,F){this.progressService.startProgress(R.PROGRESS_KEY),A=A||{card_id:this.imageListCardUiData.card.id},this.singleMode&&(A.limit=C.c4.SHOW_MORE_LIMIT),(0,Y.D)(this.entityService.getSingleCardEntity(this.entityDef.collection_id,this.entity.properties.identifier.uuid,A)).pipe((0,ve.w)(Ee=>this.entityCardService.getViewCard$(Ee,this.entityDef,this.imageListCardUiData.section,this.imageListCardUiData.card)),(0,xe.x)(()=>{this.progressService.stopProgress(R.PROGRESS_KEY),this.changeDetectorRef.markForCheck()})).subscribe({next:Ee=>{var Me;Ee&&((null===(Me=null==Ee?void 0:Ee.rowItems)||void 0===Me?void 0:Me.length)!==(null==A?void 0:A.limit)&&(this.fetchedAllResults=!0),F?this.imageListCardUiData.rowItems.push(...Ee.rowItems):this.imageListCardUiData=Ee)},error:Ee=>{this.toastService.showSimpleToast("CBL.ENTITY.LOOKUP_CARD.FETCH_ERROR")}})}getNextPageUuid(){var A;let F=(0,Ue.last)(this.imageListCardUiData.rowItems);return null===(A=null==F?void 0:F.identifier)||void 0===A?void 0:A.uuid}}return R.PROGRESS_KEY="IMAGE-LIST-CARD",R.\u0275fac=function(A){return new(A||R)(s.Y36(h.$b),s.Y36(C.c4),s.Y36(C.AH),s.Y36(kn.N),s.Y36(st.k),s.Y36(Gt.Qn),s.Y36(s.sBO))},R.\u0275cmp=s.Xpm({type:R,selectors:[["image-list-card"]],inputs:{entityDef:"entityDef",entity:"entity",imageListCardUiData:"imageListCardUiData",singleMode:"singleMode",limitOverride:"limitOverride",rootSection:"rootSection",basePath:"basePath"},features:[s.TTD],decls:4,vars:4,consts:[[4,"ngIf"],[3,"ngClass",4,"ngIf"],[3,"rootSection","listLikeCardUiData","singleMode","basePath","onShowMore",4,"ngIf"],[3,"ngClass"],[4,"ngFor","ngForOf"],[3,"identifier","size"],[1,"fields"],["cb-link","accent",3,"routerLink","hoverPreview","hoverPayload","hoverComponent"],[3,"field","fieldData","collectionId","queryData","contextType",4,"ngFor","ngForOf"],[3,"field","fieldData","collectionId","queryData","contextType"],[3,"identifier","size","provideStyling"],["color","accent",3,"identifier"],[3,"rootSection","listLikeCardUiData","singleMode","basePath","onShowMore"]],template:function(A,F){1&A&&(s.YNc(0,Gi,2,1,"h3",0),s.YNc(1,no,2,5,"ul",1),s.YNc(2,ns,2,1,"carousel",0),s.YNc(3,is,1,4,"list-card-more-results",2)),2&A&&(s.Q6J("ngIf",F.imageListCardUiData.labels&&F.imageListCardUiData.labels.name),s.xp6(1),s.Q6J("ngIf",!F.showCardUi),s.xp6(1),s.Q6J("ngIf",F.showCardUi),s.xp6(1),s.Q6J("ngIf",F.imageListCardUiData.moreResultsAvailable&&!F.fetchedAllResults))},directives:[e.O5,e.mk,e.sg,Li.J,On.n,W.I,i.yS,wi.a,K.N,es,Hi,oi,zn,Pn.N,Qi],styles:["[_nghost-%COMP%]{display:block;margin:20px 0;padding:0 20px}[_nghost-%COMP%]:last-child{margin-bottom:0;padding-bottom:20px}h3[_ngcontent-%COMP%]{font-size:16px;line-height:24px;color:#282828;letter-spacing:.3px;font-weight:500;font-family:Roboto,Arial,sans-serif;margin-bottom:8px;padding:0 20px}ul[_ngcontent-%COMP%]{margin:0}li[_ngcontent-%COMP%]{align-items:center;box-sizing:border-box;display:flex;flex-direction:row;margin-bottom:20px}li[_ngcontent-%COMP%]:last-child{margin-bottom:0}ul.two-column[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap}ul.two-column[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{flex:1 1 100%}@media (min-width: 960px){ul.two-column[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{flex:1 1 50%}ul.two-column[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-last-child(2):nth-child(odd){margin-bottom:0}}identifier-image[_ngcontent-%COMP%]{flex:0 0 auto}.fields[_ngcontent-%COMP%]{flex:1;padding-left:16px}.fields[_ngcontent-%COMP%]   field-formatter[_ngcontent-%COMP%]{display:block;margin:4px 0}carousel-image-card-layout[_ngcontent-%COMP%]:not(:last-child){margin-right:16px}carousel-item-body[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{display:block;margin:4px 8px}carousel-item-body[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:first-child{margin-top:8px}carousel-item-body[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:last-child{margin-bottom:8px}.entity-loading[_nghost-%COMP%]  a, .entity-loading   [_nghost-%COMP%]  a, .entity-loading[_nghost-%COMP%]  h3, .entity-loading   [_nghost-%COMP%]  h3, .entity-loading[_nghost-%COMP%]  identifier-link a, .entity-loading   [_nghost-%COMP%]  identifier-link a, .entity-loading[_nghost-%COMP%]  field-formatter, .entity-loading   [_nghost-%COMP%]  field-formatter, .entity-loading[_nghost-%COMP%]  field-formatter a, .entity-loading   [_nghost-%COMP%]  field-formatter a{background-color:#e9e9e9!important;color:transparent!important}.entity-loading[_nghost-%COMP%]  identifier-image .cb-image-with-placeholder, .entity-loading   [_nghost-%COMP%]  identifier-image .cb-image-with-placeholder{background-image:none!important;background-color:#e9e9e9;border:transparent}.entity-loading[_nghost-%COMP%]  identifier-image .cb-image-with-placeholder img, .entity-loading   [_nghost-%COMP%]  identifier-image .cb-image-with-placeholder img{visibility:hidden}"],changeDetection:0}),R})();var os=t(4105);function Mo(R,Oe){if(1&R&&(s.ynx(0,2),s.TgZ(1,"div"),s._UZ(2,"field-formatter",3),s.qZA(),s.BQk()),2&R){const A=Oe.$implicit,F=s.oxw();s.xp6(2),s.Q6J("field",A.field)("fieldData",A.data)("collectionId",A.collectionId)("queryData",A.fieldQueryData)("contextType",F.contextType)}}let ss=(()=>{class R{constructor(){this.compactMode=!1,this.contextType=k.Qy.profile}}return R.\u0275fac=function(A){return new(A||R)},R.\u0275cmp=s.Xpm({type:R,selectors:[["image-with-fields-card"]],inputs:{imageWithFieldsCardUiData:"imageWithFieldsCardUiData",compactMode:"compactMode"},decls:2,vars:6,consts:[[3,"title","imagePlaceholderType","imageSrc","imageAlt","compactMode"],["text-content","",4,"ngFor","ngForOf"],["text-content",""],["linkColor","accent",3,"field","fieldData","collectionId","queryData","contextType"]],template:function(A,F){1&A&&(s.TgZ(0,"image-with-text-card",0),s.YNc(1,Mo,3,5,"ng-container",1),s.qZA()),2&A&&(s.Q6J("title",null==F.imageWithFieldsCardUiData.labels?null:F.imageWithFieldsCardUiData.labels.name)("imagePlaceholderType",F.imageWithFieldsCardUiData.entityDefId)("imageSrc",F.imageWithFieldsCardUiData.imageSrc)("imageAlt",F.imageWithFieldsCardUiData.imageAlt)("compactMode",F.compactMode),s.xp6(1),s.Q6J("ngForOf",F.imageWithFieldsCardUiData.fieldItems))},directives:[os.E,e.sg,K.N],styles:["[_nghost-%COMP%]{display:block;margin:20px 0;padding:0 20px}[_nghost-%COMP%]:first-child{margin-top:0;padding-top:20px}[_nghost-%COMP%]:last-child{margin-bottom:0;padding-bottom:20px}.entity-loading[_nghost-%COMP%]  field-formatter, .entity-loading   [_nghost-%COMP%]  field-formatter, .entity-loading[_nghost-%COMP%]  .component--field-formatter, .entity-loading   [_nghost-%COMP%]  .component--field-formatter, .entity-loading[_nghost-%COMP%]  .component--field-formatter .link-accent, .entity-loading   [_nghost-%COMP%]  .component--field-formatter .link-accent{background-color:#e9e9e9!important;color:transparent!important}.entity-loading[_nghost-%COMP%]  .cb-image-with-placeholder, .entity-loading   [_nghost-%COMP%]  .cb-image-with-placeholder{background-image:none!important;background-color:#e9e9e9;border:transparent}.entity-loading[_nghost-%COMP%]  .cb-image-with-placeholder img, .entity-loading   [_nghost-%COMP%]  .cb-image-with-placeholder img{visibility:hidden}"],changeDetection:0}),R})();var as=t(42308),rs=t(33145);function cs(R,Oe){if(1&R&&(s.TgZ(0,"h3"),s._uU(1),s.qZA()),2&R){const A=s.oxw();s.xp6(1),s.hij(" ",A.listCardUiData.labels.name,"\n")}}function Do(R,Oe){if(1&R){const A=s.EpF();s.TgZ(0,"th")(1,"grid-column-header",7),s.NdJ("sort",function(Ee){return s.CHM(A),s.oxw(2).setSort(Ee)})("removeSort",function(){return s.CHM(A),s.oxw(2).removeSort()}),s.ALo(2,"async"),s.TgZ(3,"div",8),s._UZ(4,"div",9)(5,"label-with-info",10),s.qZA()()()}if(2&R){const A=Oe.$implicit,F=s.oxw(2);s.xp6(1),s.Q6J("fieldTypeId",A.fieldTypeId)("columnId",A.fieldId)("sortable",!0)("sortUpsell",s.lcZ(2,8,F.sortUpsell$))("currentSort",F.currentSort&&F.currentSort.columnId===A.fieldId?F.currentSort.direction:void 0),s.xp6(4),s.Q6J("label",A.label)("description",A.description)("isLabelWrappable",!1)}}function io(R,Oe){if(1&R&&(s.TgZ(0,"td"),s._UZ(1,"field-formatter",11),s.qZA()),2&R){const A=Oe.index,F=s.oxw().$implicit,Ee=s.oxw(2);s.xp6(1),s.Q6J("field",F.fieldItems[A].field)("fieldData",F.fieldItems[A].data)("collectionId",F.fieldItems[A].collectionId)("queryData",F.fieldItems[A].fieldQueryData)("imgSize",18)("contextType",Ee.contextType)}}function yi(R,Oe){if(1&R&&(s.TgZ(0,"tr"),s.YNc(1,io,2,6,"td",6),s.qZA()),2&R){const A=s.oxw(2);s.xp6(1),s.Q6J("ngForOf",A.listCardUiData.headerItems)}}function ls(R,Oe){if(1&R&&(s.TgZ(0,"div",4)(1,"table",5)(2,"thead")(3,"tr"),s.YNc(4,Do,6,10,"th",6),s.qZA()(),s.TgZ(5,"tbody"),s.YNc(6,yi,2,1,"tr",6),s.qZA()()()),2&R){const A=s.oxw();s.xp6(4),s.Q6J("ngForOf",A.listCardUiData.headerItems),s.xp6(2),s.Q6J("ngForOf",A.listCardUiData.rowItems)}}function Si(R,Oe){if(1&R&&(s.TgZ(0,"div")(1,"div",15),s._uU(2),s.qZA(),s._UZ(3,"field-formatter",16),s.qZA()),2&R){const A=Oe.$implicit,F=Oe.index,Ee=s.oxw(3);s.xp6(2),s.hij(" ",Ee.listCardUiData.headerItems[F].label," "),s.xp6(1),s.Q6J("field",A.field)("fieldData",A.data)("collectionId",A.collectionId)("queryData",A.fieldQueryData)("contextType",Ee.contextType)}}function Ai(R,Oe){if(1&R&&(s.TgZ(0,"div",14)(1,"mat-card"),s.YNc(2,Si,4,6,"div",6),s.qZA()()),2&R){const A=Oe.$implicit;s.xp6(2),s.Q6J("ngForOf",A.fieldItems)}}function oo(R,Oe){if(1&R&&(s.TgZ(0,"div",12),s.YNc(1,Ai,3,1,"div",13),s.qZA()),2&R){const A=s.oxw();s.xp6(1),s.Q6J("ngForOf",A.listCardUiData.rowItems)}}function ds(R,Oe){if(1&R){const A=s.EpF();s.TgZ(0,"list-card-more-results",17),s.NdJ("onShowMore",function(){return s.CHM(A),s.oxw().showMoreRows()}),s.qZA()}if(2&R){const A=s.oxw();s.Q6J("rootSection",A.rootSection)("listLikeCardUiData",A.listCardUiData)("singleMode",A.singleMode)("basePath",A.basePath)}}let xo=(()=>{class R{constructor(A,F,Ee,Me,Xe,tt){this.changeDetectorRef=A,this.entityService=F,this.entityCardService=Ee,this.progressService=Me,this.toastService=Xe,this.bootstrapService=tt,this.isRanked=!1,this.fetchedAllResults=!1,this.contextType=k.Qy.profile}ngOnChanges(){var A;this.isRanked=!!this.listCardUiData.card.is_ranked,this.showCardUi=this.bootstrapService.isMobile()&&!this.singleMode,this.setInitialSort(),this.fetchedAllResults=this.listCardUiData.rowItems.length<this.limitOverride,this.sortUpsell$=null===(A=this.listCardUiData.canOverrideOrder$)||void 0===A?void 0:A.pipe((0,T.U)(F=>F?void 0:"profile_sorting"))}setSort(A){this.currentSort=A,this.loadOverrideData({card_id:this.listCardUiData.card.id,order:{field_id:this.currentSort.columnId,sort:this.currentSort.direction}},!1)}removeSort(){this.currentSort=void 0,this.loadOverrideData({card_id:this.listCardUiData.card.id},!1)}showMoreRows(){let A={card_id:this.listCardUiData.card.id,after_id:this.getNextPageUuidIfPossible()};this.loadOverrideData(A,!0)}setInitialSort(){let A=this.listCardUiData.card;this.currentSort={columnId:A.lookup.order.field_id,direction:A.lookup.order.sort}}loadOverrideData(A,F){this.progressService.startProgress(R.PROGRESS_KEY),this.singleMode&&(A.limit=C.c4.SHOW_MORE_LIMIT),(0,Y.D)(this.entityService.getSingleCardEntity(this.entityDef.collection_id,this.entity.properties.identifier.uuid,A)).pipe((0,ve.w)(Ee=>this.entityCardService.getViewCard$(Ee,this.entityDef,this.listCardUiData.section,this.listCardUiData.card)),(0,xe.x)(()=>{this.progressService.stopProgress(R.PROGRESS_KEY),this.changeDetectorRef.markForCheck()})).subscribe({next:Ee=>{var Me;Ee&&((null===(Me=null==Ee?void 0:Ee.rowItems)||void 0===Me?void 0:Me.length)!==(A.limit||Ee.limit)&&(this.fetchedAllResults=!0),F?this.listCardUiData.rowItems.push(...Ee.rowItems):this.listCardUiData=Ee)},error:Ee=>this.toastService.showSimpleToast("CBL.ENTITY.LOOKUP_CARD.FETCH_ERROR")})}getNextPageUuidIfPossible(){var A;let F=(0,Ue.last)(this.listCardUiData.rowItems);return null===(A=null==F?void 0:F.identifier)||void 0===A?void 0:A.uuid}}return R.PROGRESS_KEY="LIST-CARD",R.\u0275fac=function(A){return new(A||R)(s.Y36(s.sBO),s.Y36(C.c4),s.Y36(C.AH),s.Y36(kn.N),s.Y36(st.k),s.Y36(as.Q))},R.\u0275cmp=s.Xpm({type:R,selectors:[["list-card"]],inputs:{entityDef:"entityDef",entity:"entity",listCardUiData:"listCardUiData",singleMode:"singleMode",limitOverride:"limitOverride",rootSection:"rootSection",firstChild:"firstChild",basePath:"basePath"},features:[s.TTD],decls:4,vars:4,consts:[[4,"ngIf"],["class","table-wrapper",4,"ngIf"],["class","mobile-cards",4,"ngIf"],[3,"rootSection","listLikeCardUiData","singleMode","basePath","onShowMore",4,"ngIf"],[1,"table-wrapper"],[1,"card-grid"],[4,"ngFor","ngForOf"],[3,"fieldTypeId","columnId","sortable","sortUpsell","currentSort","sort","removeSort"],[1,"header-container"],[1,"info-balance-spacer"],[3,"label","description","isLabelWrappable"],["linkColor","accent",3,"field","fieldData","collectionId","queryData","imgSize","contextType"],[1,"mobile-cards"],["class","card-container",4,"ngFor","ngForOf"],[1,"card-container"],[1,"mobile-cards-label"],["linkColor","accent",3,"field","fieldData","collectionId","queryData","contextType"],[3,"rootSection","listLikeCardUiData","singleMode","basePath","onShowMore"]],template:function(A,F){1&A&&(s.YNc(0,cs,2,1,"h3",0),s.YNc(1,ls,7,2,"div",1),s.YNc(2,oo,2,1,"div",2),s.YNc(3,ds,1,4,"list-card-more-results",3)),2&A&&(s.Q6J("ngIf",F.listCardUiData.labels&&F.listCardUiData.labels.name),s.xp6(1),s.Q6J("ngIf",!F.showCardUi),s.xp6(1),s.Q6J("ngIf",F.showCardUi),s.xp6(1),s.Q6J("ngIf",F.listCardUiData.moreResultsAvailable&&!F.fetchedAllResults))},directives:[e.O5,e.sg,rs.f,X.R,K.N,Jt.a8,Qi],pipes:[e.Ov],styles:["[_nghost-%COMP%]{display:block;margin:20px 0}[_nghost-%COMP%]:last-child{margin-bottom:0;padding-bottom:20px}tabs-card[_nghost-%COMP%]:first-child   h3[_ngcontent-%COMP%]:first-child, tabs-card   [_nghost-%COMP%]:first-child   h3[_ngcontent-%COMP%]:first-child{margin-top:20px}tabs-card[_nghost-%COMP%]:last-child, tabs-card   [_nghost-%COMP%]:last-child{margin-bottom:0;padding-bottom:0}tabs-card[_nghost-%COMP%]:last-child   .table-wrapper[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%], tabs-card   [_nghost-%COMP%]:last-child   .table-wrapper[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]{border-bottom:none}tabs-card[_nghost-%COMP%]:last-child   list-card-more-results[_ngcontent-%COMP%], tabs-card   [_nghost-%COMP%]:last-child   list-card-more-results[_ngcontent-%COMP%]{margin-bottom:20px}h3[_ngcontent-%COMP%]{font-size:16px;line-height:24px;color:#282828;letter-spacing:.3px;font-weight:500;font-family:Roboto,Arial,sans-serif;margin-bottom:8px;padding:0 20px}.table-wrapper[_ngcontent-%COMP%]{overflow-x:auto}.table-wrapper[_ngcontent-%COMP%]   field-formatter[_ngcontent-%COMP%]{flex:1;box-sizing:border-box}.header-container[_ngcontent-%COMP%]{display:flex!important;flex-direction:row;justify-content:center;box-sizing:border-box;align-items:center;align-content:center;max-width:100%}.header-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{max-width:100%;box-sizing:border-box}[_nghost-%COMP%]     grid-column-header .header-icon{margin-right:-6px!important}[_nghost-%COMP%]     grid-column-header .header-icon icon{border:none!important}[_nghost-%COMP%]     grid-column-header .sort-icon{margin-left:0}[_nghost-%COMP%]     grid-column-header .sort-icon-hidden{display:block;visibility:hidden}[_nghost-%COMP%]     .blur-shadow{color:transparent;text-shadow:black 0px 0px 20px}[_nghost-%COMP%]     .blur-shadow a{color:transparent;text-shadow:#146aff 0px 0px 20px}[_nghost-%COMP%]     .blur-shadow-ie{color:transparent;text-shadow:black 0px 0px 10px .01em}[_nghost-%COMP%]     .blur-shadow-ie a{color:transparent;text-shadow:#146aff 0px 0px 10px .01em}.entity-loading[_nghost-%COMP%]   .mobile-cards-label[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   .mobile-cards-label[_ngcontent-%COMP%]{background-color:#e9e9e9!important;color:transparent!important}.entity-loading[_nghost-%COMP%]     add-remove-button button, .entity-loading   [_nghost-%COMP%]     add-remove-button button, .entity-loading[_nghost-%COMP%]     button, .entity-loading   [_nghost-%COMP%]     button, .entity-loading[_nghost-%COMP%]     list-card-more-results a, .entity-loading   [_nghost-%COMP%]     list-card-more-results a, .entity-loading[_nghost-%COMP%]     list-card-more-results button, .entity-loading   [_nghost-%COMP%]     list-card-more-results button, .entity-loading[_nghost-%COMP%]     field-formatter, .entity-loading   [_nghost-%COMP%]     field-formatter, .entity-loading[_nghost-%COMP%]     field-formatter a, .entity-loading   [_nghost-%COMP%]     field-formatter a, .entity-loading[_nghost-%COMP%]     field-formatter span, .entity-loading   [_nghost-%COMP%]     field-formatter span, .entity-loading[_nghost-%COMP%]     field-formatter .identifier-label, .entity-loading   [_nghost-%COMP%]     field-formatter .identifier-label, .entity-loading[_nghost-%COMP%]     upsell, .entity-loading   [_nghost-%COMP%]     upsell, .entity-loading[_nghost-%COMP%]     upsell a, .entity-loading   [_nghost-%COMP%]     upsell a{background-color:#e9e9e9!important;color:transparent!important}.entity-loading[_nghost-%COMP%]     .cb-image-with-placeholder, .entity-loading   [_nghost-%COMP%]     .cb-image-with-placeholder{background-image:none!important;background-color:#e9e9e9;border:transparent}.entity-loading[_nghost-%COMP%]     .cb-image-with-placeholder img, .entity-loading   [_nghost-%COMP%]     .cb-image-with-placeholder img{visibility:hidden}.entity-loading[_nghost-%COMP%]     grid-column-header span, .entity-loading   [_nghost-%COMP%]     grid-column-header span, .entity-loading[_nghost-%COMP%]     grid-column-header icon, .entity-loading   [_nghost-%COMP%]     grid-column-header icon{visibility:hidden}.mobile-cards[_ngcontent-%COMP%]{box-sizing:border-box;display:flex!important;flex-direction:row;justify-content:flex-start;align-items:stretch;align-content:stretch;overflow-x:auto;overflow-y:hidden;padding-top:3px;padding-bottom:3px}.mobile-cards[_ngcontent-%COMP%]   .card-container[_ngcontent-%COMP%]{flex:0 0 auto;box-sizing:border-box;width:258px}.mobile-cards[_ngcontent-%COMP%]   .card-container[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{box-sizing:border-box;padding:8px!important;height:100%;margin-right:8px!important}.mobile-cards[_ngcontent-%COMP%]   .card-container[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:4px}.mobile-cards[_ngcontent-%COMP%]   .card-container[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   .mobile-cards-label[_ngcontent-%COMP%]{color:#0000008a}.mobile-cards[_ngcontent-%COMP%]   .card-container[_ngcontent-%COMP%]:first-child{width:274px}.mobile-cards[_ngcontent-%COMP%]   .card-container[_ngcontent-%COMP%]:first-child   mat-card[_ngcontent-%COMP%]{margin-left:16px!important}.mobile-cards[_ngcontent-%COMP%]   .card-container[_ngcontent-%COMP%]:last-child{width:266px}.mobile-cards[_ngcontent-%COMP%]   .card-container[_ngcontent-%COMP%]:last-child   mat-card[_ngcontent-%COMP%]{margin-right:16px!important}.mobile-cards[_ngcontent-%COMP%]   .identifier-image[_ngcontent-%COMP%]{display:none}.mobile-cards[_ngcontent-%COMP%]   .cb-overflow-ellipsis[_ngcontent-%COMP%]{white-space:normal}table.card-grid[_ngcontent-%COMP%]{font-size:14px;color:#282828}table.card-grid[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]{background-color:#fff;font-size:14px;color:#282828}table.card-grid[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:8px 20px}table.card-grid[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:16px 20px}table.card-grid[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child, table.card-grid[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{padding-left:32px}table.card-grid[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child, table.card-grid[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{padding-right:32px}"],changeDetection:0}),R})();var Ro=t(78890);let _s=(()=>{class R{}return R.\u0275fac=function(A){return new(A||R)},R.\u0275cmp=s.Xpm({type:R,selectors:[["phrase-list-card"]],inputs:{phraseListCardUiData:"phraseListCardUiData"},decls:1,vars:1,consts:[["linkColor","accent",3,"markupBlocks"]],template:function(A,F){1&A&&s._UZ(0,"markup-block",0),2&A&&s.Q6J("markupBlocks",F.phraseListCardUiData.markupBlocks)},directives:[Ro.M],styles:["[_nghost-%COMP%]{display:block;margin:20px 0;padding:0 20px}[_nghost-%COMP%]:last-child{margin-bottom:0;padding-bottom:20px}.entity-loading[_nghost-%COMP%]     markup-block, .entity-loading   [_nghost-%COMP%]     markup-block, .entity-loading[_nghost-%COMP%]     markup-block a, .entity-loading   [_nghost-%COMP%]     markup-block a{background-color:#e9e9e9!important;color:transparent!important}"],changeDetection:0}),R})();var so=t(12379),ao=t(85264),No=t(252);function us(R,Oe){if(1&R&&(s.TgZ(0,"h3"),s._uU(1),s.qZA()),2&R){const A=s.oxw();s.xp6(1),s.hij(" ",A.tabsCardUiData.labels.name,"\n")}}function ps(R,Oe){if(1&R&&(s.TgZ(0,"span",6),s._uU(1),s.qZA()),2&R){const A=s.oxw().$implicit;s.Q6J("title",A.labels.name),s.xp6(1),s.hij(" ",A.labels.name," ")}}function gs(R,Oe){if(1&R&&(s.ynx(0),s._UZ(1,"profile-section",7),s.BQk()),2&R){const A=s.oxw().$implicit,F=s.oxw();s.xp6(1),s.Q6J("entity",F.entity)("entityDef",F.entityDef)("section",A)("singleMode",F.singleMode)("showHeader",!1)("rootSection",F.rootSection)("listCardLimitOverride",F.limitOverride)("basePath",F.basePath)}}function ms(R,Oe){1&R&&(s.ynx(0),s.TgZ(1,"div",9),s.SDv(2,10),s.qZA(),s.BQk())}function hs(R,Oe){if(1&R&&(s._UZ(0,"no-content",8),s.YNc(1,ms,3,0,"ng-container",0)),2&R){const A=s.oxw(2);s.Q6J("showLoading",A.loadingSections),s.xp6(1),s.Q6J("ngIf",!A.loadingSections&&A.hydrateError)}}function Es(R,Oe){if(1&R&&(s.ynx(0),s.TgZ(1,"mat-tab"),s.YNc(2,ps,2,2,"ng-template",3),s.YNc(3,gs,2,8,"ng-container",4),s.YNc(4,hs,2,2,"ng-template",null,5,s.W1O),s.qZA(),s.BQk()),2&R){const A=Oe.$implicit,F=s.MAs(5),Ee=s.oxw();s.xp6(3),s.Q6J("ngIf",(null==A.cardUiDatas?null:A.cardUiDatas.length)||Ee.hasHydratedTabs)("ngIfElse",F)}}let fs=(()=>{class R{constructor(A,F,Ee){this.route=A,this.changeDetectorRef=F,this.permissionService=Ee,this.activeTab=0,this.loadingSections=!1,this.hydrateError=!1,this.hasHydratedTabs=!1,this.trackBySectionId=(Me,Xe)=>Xe.id}ngOnChanges(){if(this.tabs=this.tabsCardUiData.tabs,this.hasHydratedTabs=!1,this.loadingSections=!1,this.hydrateError=!1,this.singleMode){this.activeTab=this.getSingleModeTabIndex();const A=this.getViewAllCardId();A&&this.getOtherTabData(A)}else this.activeTab=0}getOtherTabData(A){this.loadingSections||this.hasHydratedTabs||(this.loadingSections=!0,this.singleMode&&A&&!this.permissionService.listCardCanShowMore()?this.tabsCardUiData.getHydratedTabs({card_id:A,limit:C.c4.SHOW_MORE_LIMIT}).subscribe(Ee=>this.handleHydrateTabsSuccess(Ee),Ee=>this.handleHydrateTabsError()):this.tabsCardUiData.getHydratedTabs().subscribe(F=>this.handleHydrateTabsSuccess(F),F=>this.handleHydrateTabsError()))}handleHydrateTabsSuccess(A){this.tabs=A,this.hasHydratedTabs=!0,this.loadingSections=!1,this.changeDetectorRef.markForCheck()}handleHydrateTabsError(){this.hasHydratedTabs=!0,this.loadingSections=!1,this.hydrateError=!0,this.changeDetectorRef.markForCheck()}getViewAllCardId(){const A=this.route.snapshot.params.cardId;if(A){const Ee=this.tabsCardUiData.tabs[this.activeTab].cards.find(Me=>Me.id===A);if(Ee)return Ee.id}}getSingleModeTabIndex(){const A=this.tabs.map(Ee=>Ee.id),F=this.route.snapshot.queryParams.tab;if(F){let Ee=A.indexOf(F);if(Ee>0)return Ee}return 0}}return R.\u0275fac=function(A){return new(A||R)(s.Y36(i.gz),s.Y36(s.sBO),s.Y36(at.$))},R.\u0275cmp=s.Xpm({type:R,selectors:[["tabs-card"]],inputs:{tabsCardUiData:"tabsCardUiData",entity:"entity",entityDef:"entityDef",singleMode:"singleMode",rootSection:"rootSection",limitOverride:"limitOverride",basePath:"basePath"},features:[s.TTD],decls:3,vars:5,consts:function(){let Oe;return Oe=$localize`:␟87894704cd021074a841f1d5dc5e53d8b8b66023␟1970160723309361386: There was an issue fetching the data you requested. Try again later. `,[[4,"ngIf"],[1,"entity-tab-group",3,"dynamicHeight","selectedIndex","selectedIndexChange"],[4,"ngFor","ngForOf","ngForTrackBy"],["mat-tab-label",""],[4,"ngIf","ngIfElse"],["loadingOrError",""],[3,"title"],[3,"entity","entityDef","section","singleMode","showHeader","rootSection","listCardLimitOverride","basePath"],[3,"showLoading"],[1,"hydrate-error"],Oe]},template:function(A,F){1&A&&(s.YNc(0,us,2,1,"h3",0),s.TgZ(1,"mat-tab-group",1),s.NdJ("selectedIndexChange",function(){return F.getOtherTabData()}),s.YNc(2,Es,6,2,"ng-container",2),s.qZA()),2&A&&(s.Q6J("ngIf",F.tabsCardUiData.labels&&F.tabsCardUiData.labels.name),s.xp6(1),s.Q6J("dynamicHeight",!0)("selectedIndex",F.activeTab),s.xp6(1),s.Q6J("ngForOf",F.tabs)("ngForTrackBy",F.trackBySectionId))},directives:[e.O5,so.SP,e.sg,so.uX,so.uD,ao.E,No.z],styles:["[_nghost-%COMP%]    {display:block}[_nghost-%COMP%]     section-layout>mat-card{box-shadow:none!important;margin:0!important}mat-tab-group[_ngcontent-%COMP%]    {background-color:#fff;border-color:#0000001f;border-top:none}mat-tab-group[_ngcontent-%COMP%]     .mat-tab-label{height:36px;padding:0 16px}h3[_ngcontent-%COMP%]{font-size:16px;line-height:24px;color:#282828;letter-spacing:.3px;font-weight:500;font-family:Roboto,Arial,sans-serif;margin-bottom:8px;padding:0 20px}.hydrate-error[_ngcontent-%COMP%]{color:#c73636;background-color:#e3e7e9;border-radius:4px;padding:8px;margin:16px}.entity-loading[_nghost-%COMP%]     h3, .entity-loading   [_nghost-%COMP%]     h3{background-color:#e9e9e9!important;color:transparent!important}.entity-loading[_nghost-%COMP%]     mat-tab-header .mat-tab-label-content, .entity-loading   [_nghost-%COMP%]     mat-tab-header .mat-tab-label-content{visibility:hidden}"],changeDetection:0}),R})();var Fo=t(18277),Uo=t(39949),ro=t(20757),vs=t(86378),wo=t(88670),$i=t(97810),Cs=t(40757),co=t(52727),_i=t(74742);function Bo(R,Oe){if(1&R&&(s.TgZ(0,"h3"),s._uU(1),s.qZA()),2&R){const A=s.oxw(2);s.xp6(1),s.hij(" ",A.timelineCardUiData.labels.name," ")}}function ui(R,Oe){if(1&R&&s._UZ(0,"funding-round",14),2&R){const A=s.oxw().$implicit;s.Q6J("activity",A)("isEntityCard",!0)}}function Wi(R,Oe){if(1&R&&s._UZ(0,"acquisition",14),2&R){const A=s.oxw().$implicit;s.Q6J("activity",A)("isEntityCard",!0)}}function ys(R,Oe){if(1&R&&s._UZ(0,"ipo",14),2&R){const A=s.oxw().$implicit;s.Q6J("activity",A)("isEntityCard",!0)}}function ko(R,Oe){if(1&R&&s._UZ(0,"fund-raise",14),2&R){const A=s.oxw().$implicit;s.Q6J("activity",A)("isEntityCard",!0)}}function Ss(R,Oe){if(1&R&&s._UZ(0,"press-reference",14),2&R){const A=s.oxw().$implicit;s.Q6J("activity",A)("isEntityCard",!0)}}const Is=function(R){return{pluralEntityName:R}};function Ts(R,Oe){if(1&R&&(s.TgZ(0,"div",15)(1,"a",16),s._uU(2),s.ALo(3,"translate"),s.qZA()()),2&R){const A=s.oxw().$implicit;s.xp6(1),s.Q6J("routerLink",A.discoverMoreRoute),s.xp6(1),s.hij(" ",s.xi3(3,2,"CBL.ENTITY.TIMELINE_CARD.DISCOVER_MORE",s.VKq(5,Is,A.pluralName))," ")}}function lo(R,Oe){if(1&R&&(s.TgZ(0,"div",7)(1,"div",8),s._UZ(2,"theme-icon",9),s.TgZ(3,"span"),s._uU(4),s.qZA(),s.TgZ(5,"span"),s._uU(6,"\u2022"),s.qZA(),s._UZ(7,"field-formatter",10),s.qZA(),s.TgZ(8,"div",11),s.YNc(9,ui,1,2,"funding-round",12),s.YNc(10,Wi,1,2,"acquisition",12),s.YNc(11,ys,1,2,"ipo",12),s.YNc(12,ko,1,2,"fund-raise",12),s.YNc(13,Ss,1,2,"press-reference",12),s.YNc(14,Ts,4,7,"div",13),s.qZA()()),2&R){const A=Oe.$implicit,F=Oe.last,Ee=s.oxw(2);s.ekj("last-row",F),s.xp6(2),s.Q6J("themeId",A.themeId),s.xp6(2),s.Oqu(A.name),s.xp6(3),s.Q6J("field",Ee.timelineCardUiData.activityField)("fieldData",A.activity_date)("imgSize",18)("contextType",Ee.contextType),s.xp6(1),s.Q6J("ngSwitch",A.entity_def_id),s.xp6(1),s.Q6J("ngSwitchCase","funding_round"),s.xp6(1),s.Q6J("ngSwitchCase","acquisition"),s.xp6(1),s.Q6J("ngSwitchCase","ipo"),s.xp6(1),s.Q6J("ngSwitchCase","fund"),s.xp6(1),s.Q6J("ngSwitchCase","press_reference"),s.xp6(1),s.Q6J("ngIf",A.discoverMoreRoute)}}function Ho(R,Oe){if(1&R&&(s.TgZ(0,"a",20)(1,"label-with-icon",21),s._uU(2),s.ALo(3,"translate"),s.qZA()()),2&R){const A=s.oxw(3);s.Q6J("routerLink",A.route.path),s.xp6(1),s.Q6J("iconAfter",!0),s.xp6(1),s.hij(" ",s.lcZ(3,3,"CBL.ENTITY.VIEW_ALL")," ")}}const Go=function(R,Oe){return[R,Oe]};function Zo(R,Oe){if(1&R&&(s.TgZ(0,"a",20)(1,"label-with-icon",21),s._uU(2),s.ALo(3,"translate"),s.qZA()()),2&R){const A=s.oxw(3);s.Q6J("routerLink",s.WLB(5,Go,A.timelineCardUiData.sectionId,A.timelineCardUiData.id)),s.xp6(1),s.Q6J("iconAfter",!0),s.xp6(1),s.hij(" ",s.lcZ(3,3,"CBL.ENTITY.VIEW_ALL")," ")}}function Yi(R,Oe){if(1&R&&(s.TgZ(0,"div",17),s.YNc(1,Ho,4,5,"a",18),s.YNc(2,Zo,4,8,"ng-template",null,19,s.W1O),s.qZA()),2&R){const A=s.MAs(3),F=s.oxw(2);s.xp6(1),s.Q6J("ngIf",F.route)("ngIfElse",A)}}function _o(R,Oe){1&R&&(s.TgZ(0,"div",22),s._uU(1),s.ALo(2,"translate"),s.qZA()),2&R&&(s.xp6(1),s.hij(" ",s.lcZ(2,1,"CBL.ENTITY.TIMELINE_CARD.LOADING_ERROR")," "))}function As(R,Oe){1&R&&(s.TgZ(0,"div",23),s._UZ(1,"mat-spinner",24),s.qZA())}function Os(R,Oe){if(1&R){const A=s.EpF();s.TgZ(0,"div",25)(1,"button",26),s.NdJ("click",function(){return s.CHM(A),s.oxw(2).showMoreRows()}),s._uU(2),s.ALo(3,"translate"),s.qZA()()}2&R&&(s.xp6(2),s.hij(" ",s.lcZ(3,1,"CBL.ENTITY.SHOW_MORE")," "))}function Ps(R,Oe){if(1&R&&(s.ynx(0),s.YNc(1,Bo,2,1,"h3",0),s.YNc(2,lo,15,15,"div",4),s.YNc(3,Yi,4,2,"div",5),s.YNc(4,_o,3,3,"div",3),s.YNc(5,As,2,0,"div",2),s.YNc(6,Os,4,3,"div",6),s.BQk()),2&R){const A=s.oxw();s.xp6(1),s.Q6J("ngIf",A.timelineCardUiData.labels&&A.timelineCardUiData.labels.name),s.xp6(1),s.Q6J("ngForOf",A.activityData),s.xp6(1),s.Q6J("ngIf",!A.singleMode&&A.canViewAll),s.xp6(1),s.Q6J("ngIf",!A.loading&&A.errorLoadingMore),s.xp6(1),s.Q6J("ngIf",A.loading),s.xp6(1),s.Q6J("ngIf",A.singleMode&&A.canShowMore)}}function bs(R,Oe){1&R&&(s.TgZ(0,"div",27),s.SDv(1,28),s.qZA())}function zo(R,Oe){1&R&&(s.TgZ(0,"div",23),s._UZ(1,"mat-spinner",24),s.qZA())}function Ls(R,Oe){1&R&&(s.TgZ(0,"div",22),s._uU(1),s.ALo(2,"translate"),s.qZA()),2&R&&(s.xp6(1),s.hij(" ",s.lcZ(2,1,"CBL.ENTITY.TIMELINE_CARD.LOADING_ERROR"),"\n"))}let Ms=(()=>{class R{constructor(A,F,Ee,Me,Xe,tt){this.changeDetectorRef=A,this.timelineService=F,this.platformService=Ee,this.metadataService=Me,this.metaService=Xe,this.progressService=tt,this.isSoloCardOnPage=!1,this.isPreview=!1,this.contextType=k.Qy.profile}ngOnChanges(){this.platformService.isBrowser()&&(this.resetToInitialState(),this.getCardData()),this.route=this.getRouteFromBasePath(this.basePath,this.timelineCardUiData.sectionId)}getCardData(A){this.timelineCardUiData.entityUuid&&(this.handleLoading(),this.timelineService.getEntityActivities$(this.timelineCardUiData.entityUuid,A,this.singleMode?R.SINGLE_CARD_ACTIVITIES_LIMIT:void 0).toPromise().then(F=>this.handleResults(F,A),F=>{A?this.errorLoadingMore=!0:this.errorLoadingInitial=!0}).then(()=>this.handleLoadingComplete()))}showMoreRows(){const A=this.activityData&&this.activityData[this.activityData.length-1],F=null==A?void 0:A.datetime;F?this.getCardData(F):this.canShowMore=!1}ngOnDestroy(){this.progressService.stopProgress(this.timelineCardUiData.id)}handleResults(A,F){const Ee=new Set(this.metadataService.getTopLevelCollectionIds()),Me=A.map(Xe=>this.addDisplayData(Xe,Ee));this.singleMode&&F&&Array.isArray(this.activityData)?(this.activityData.push(...Me),this.activityData=(0,Ue.uniqBy)(this.activityData,Xe=>{var tt;return null===(tt=Xe.identifier)||void 0===tt?void 0:tt.uuid}),A.length<R.SINGLE_CARD_ACTIVITIES_LIMIT&&(this.canShowMore=!1)):(this.activityData=Me||[],this.singleMode?this.canShowMore=A.length>=R.SINGLE_CARD_ACTIVITIES_LIMIT:this.isPreview?(this.canViewAll=this.activityData.length>=R.PREVIEW_ACTIVITIES_LIMIT,this.activityData.splice(R.PREVIEW_ACTIVITIES_LIMIT)):this.canViewAll=this.activityData.length>=Fo.u.CARD_ENTITY_ACTIVITY_LIMIT),!this.activityData.length&&this.isSoloCardOnPage&&this.metaService.setNoIndex()}handleLoading(){this.loading=!0,this.errorLoadingInitial=!1,this.errorLoadingMore=!1,this.progressService.startProgress(this.timelineCardUiData.id),this.changeDetectorRef.markForCheck()}handleLoadingComplete(){this.progressService.stopProgress(this.timelineCardUiData.id),this.loading=!1,this.changeDetectorRef.markForCheck()}resetToInitialState(){this.activityData=void 0,this.canViewAll=void 0,this.canShowMore=void 0,this.loading=void 0,this.errorLoadingMore=void 0,this.errorLoadingInitial=void 0}addDisplayData(A,F){var Ee;const Me=this.metadataService.getEntityDef(A.entity_def_id),Xe=(null===(Ee=null==Me?void 0:Me.display)||void 0===Ee?void 0:Ee.theme_id)||"default",tt=null==Me?void 0:Me.labels.name,yt=null==Me?void 0:Me.labels.plural.toLowerCase(),Ot=null==Me?void 0:Me.collection_id,xt=Ot&&F.has(Ot)?["/","discover",Ot]:void 0;return Object.assign(Object.assign({},A),{themeId:Xe,name:tt,pluralName:yt,discoverMoreRoute:xt})}getRouteFromBasePath(A,F){if(A)return{path:[...A,F]}}}return R.PREVIEW_ACTIVITIES_LIMIT=3,R.SINGLE_CARD_ACTIVITIES_LIMIT=100,R.\u0275fac=function(A){return new(A||R)(s.Y36(s.sBO),s.Y36(Fo.u),s.Y36(Zn.m),s.Y36(S.Do),s.Y36(Uo.R),s.Y36(kn.N))},R.\u0275cmp=s.Xpm({type:R,selectors:[["timeline-card"]],inputs:{timelineCardUiData:"timelineCardUiData",singleMode:"singleMode",isSoloCardOnPage:"isSoloCardOnPage",isPreview:"isPreview",basePath:"basePath"},features:[s.TTD],decls:4,vars:4,consts:function(){let Oe;return Oe=$localize`:␟f75ea359f5fede9d9f638f993e9e96cf9d4ef5e1␟3155934764763217895: There is no recent news or activity for this profile.
`,[[4,"ngIf"],["class","empty-timeline",4,"ngIf"],["class","loading",4,"ngIf"],["class","error-container",4,"ngIf"],["class","activity-row",3,"last-row",4,"ngFor","ngForOf"],["class","view-all-container",4,"ngIf"],["class","show-more-container",4,"ngIf"],[1,"activity-row"],[1,"activity-title"],["color","inherit","size","large",3,"themeId"],["collectionId","timelineCardUiData.collectionId",3,"field","fieldData","imgSize","contextType"],[1,"activity-details",3,"ngSwitch"],[3,"activity","isEntityCard",4,"ngSwitchCase"],["class","discover-more-container",4,"ngIf"],[3,"activity","isEntityCard"],[1,"discover-more-container"],["cb-link","primary",3,"routerLink"],[1,"view-all-container"],["class","view-all",3,"cb-link","routerLink",4,"ngIf","ngIfElse"],["sectionAndCardViewAll",""],[1,"view-all",3,"cb-link","routerLink"],["iconKey","icon_caret_right",3,"iconAfter"],[1,"error-container"],[1,"loading"],["diameter","24"],[1,"show-more-container"],["mat-button","","color","primary",1,"show-more",3,"click"],[1,"empty-timeline"],Oe]},template:function(A,F){1&A&&(s.YNc(0,Ps,7,6,"ng-container",0),s.YNc(1,bs,2,0,"div",1),s.YNc(2,zo,2,0,"div",2),s.YNc(3,Ls,3,3,"div",3)),2&A&&(s.Q6J("ngIf",F.activityData&&F.activityData.length>0&&!F.errorLoadingInitial),s.xp6(1),s.Q6J("ngIf",!F.loading&&F.activityData&&0===F.activityData.length),s.xp6(1),s.Q6J("ngIf",F.loading&&!F.activityData),s.xp6(1),s.Q6J("ngIf",!F.loading&&F.errorLoadingInitial))},directives:[e.O5,e.sg,ro.p,K.N,e.RF,e.n9,vs.d,wo.T,$i.z,Cs.H,co.e,On.n,W.I,i.yS,di.d,_i.Ou,ln.lW],pipes:[q.X],styles:["[_nghost-%COMP%]{display:block;margin:20px 0;padding:0 20px}[_nghost-%COMP%]:last-child{margin-bottom:0;padding-bottom:20px}h3[_ngcontent-%COMP%]{font-size:16px;line-height:24px;color:#282828;letter-spacing:.3px;font-weight:500;font-family:Roboto,Arial,sans-serif;margin-bottom:8px;padding:0 20px}.activity-row[_ngcontent-%COMP%]{border-bottom:1px solid rgba(0,0,0,.12);padding:16px 0}.activity-row[_ngcontent-%COMP%]:first-child{padding-top:0}.activity-row.last-row[_ngcontent-%COMP%]{border-bottom:none;padding-bottom:0}.activity-title[_ngcontent-%COMP%]{margin-bottom:4px;font-size:14px;line-height:20px;color:#666;letter-spacing:.4px;font-weight:500;font-family:Roboto,Arial,sans-serif;display:flex;align-items:center}.activity-title[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-right:4px}.view-all-container[_ngcontent-%COMP%]{display:flex!important;flex-direction:row;justify-content:center;box-sizing:border-box;align-items:center;align-content:center;max-width:100%;padding-top:16px}.view-all-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{max-width:100%;box-sizing:border-box}.view-all[_ngcontent-%COMP%]{text-transform:uppercase}.discover-more-container[_ngcontent-%COMP%]{margin-top:4px}.error-container[_ngcontent-%COMP%]{color:#0000008a;text-align:center;padding:16px}.loading[_ngcontent-%COMP%]{display:flex!important;flex-direction:row;justify-content:center;box-sizing:border-box;align-items:center;align-content:center;max-width:100%;padding:16px}.loading[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{max-width:100%;box-sizing:border-box}.empty-timeline[_ngcontent-%COMP%]{text-align:center;color:#0000008a;padding:16px}.show-more-container[_ngcontent-%COMP%]{display:flex!important;flex-direction:row;justify-content:center;box-sizing:border-box;align-items:center;align-content:center;max-width:100%;padding-top:16px}.show-more-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{max-width:100%;box-sizing:border-box}.show-more-container[_ngcontent-%COMP%]   .show-more[_ngcontent-%COMP%]{box-sizing:border-box;display:flex!important;flex-direction:row;justify-content:flex-start;align-items:center;align-content:center;max-width:100%}.show-more-container[_ngcontent-%COMP%]   .show-more[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{max-width:100%;box-sizing:border-box}.entity-loading[_nghost-%COMP%]   .activity-title[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   .activity-title[_ngcontent-%COMP%], .entity-loading[_nghost-%COMP%]   .activity-details[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   .activity-details[_ngcontent-%COMP%], .entity-loading[_nghost-%COMP%]   .discover-more-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   .discover-more-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background-color:#e9e9e9!important;color:transparent!important}.entity-loading[_nghost-%COMP%]   theme-icon[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   theme-icon[_ngcontent-%COMP%]{visibility:hidden}.entity-loading[_nghost-%COMP%]   .view-all[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   .view-all[_ngcontent-%COMP%], .entity-loading[_nghost-%COMP%]   .show-more[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   .show-more[_ngcontent-%COMP%]{background-color:#e9e9e9!important;color:transparent!important}.entity-loading[_nghost-%COMP%]   .view-all[_ngcontent-%COMP%]   icon[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   .view-all[_ngcontent-%COMP%]   icon[_ngcontent-%COMP%], .entity-loading[_nghost-%COMP%]   .show-more[_ngcontent-%COMP%]   icon[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   .show-more[_ngcontent-%COMP%]   icon[_ngcontent-%COMP%]{visibility:hidden}.entity-loading[_nghost-%COMP%]  funding-round span, .entity-loading   [_nghost-%COMP%]  funding-round span, .entity-loading[_nghost-%COMP%]  funding-round a, .entity-loading   [_nghost-%COMP%]  funding-round a, .entity-loading[_nghost-%COMP%]  acquisition span, .entity-loading   [_nghost-%COMP%]  acquisition span, .entity-loading[_nghost-%COMP%]  acquisition a, .entity-loading   [_nghost-%COMP%]  acquisition a, .entity-loading[_nghost-%COMP%]  ipo span, .entity-loading   [_nghost-%COMP%]  ipo span, .entity-loading[_nghost-%COMP%]  ipo a, .entity-loading   [_nghost-%COMP%]  ipo a, .entity-loading[_nghost-%COMP%]  fund-raise span, .entity-loading   [_nghost-%COMP%]  fund-raise span, .entity-loading[_nghost-%COMP%]  fund-raise a, .entity-loading   [_nghost-%COMP%]  fund-raise a, .entity-loading[_nghost-%COMP%]  press-reference span, .entity-loading   [_nghost-%COMP%]  press-reference span, .entity-loading[_nghost-%COMP%]  press-reference a, .entity-loading   [_nghost-%COMP%]  press-reference a{color:transparent!important}"],changeDetection:0}),R})();var ie=t(9887);const $e=["tweetElement"];function Z(R,Oe){if(1&R&&(s.TgZ(0,"h3"),s._uU(1),s.qZA()),2&R){const A=s.oxw(2);s.xp6(1),s.hij(" ",A.twitterCardUiData.labels.name," ")}}const ge=function(R){return{entityName:R}};function Ve(R,Oe){if(1&R&&(s.ynx(0),s.YNc(1,Z,2,1,"h3",0),s._UZ(2,"div",2,3),s.TgZ(4,"div",4)(5,"a",5)(6,"label-with-icon",6),s._uU(7),s.ALo(8,"translate"),s.qZA()()(),s.BQk()),2&R){const A=s.oxw();s.xp6(1),s.Q6J("ngIf",A.twitterCardUiData&&A.twitterCardUiData.labels&&A.twitterCardUiData.labels.name),s.xp6(4),s.Q6J("href","https://www.twitter.com/"+A.twitterCardUiData.twitterHandle,s.LSH),s.xp6(1),s.Q6J("iconAfter",!0),s.xp6(1),s.hij(" ",s.xi3(8,4,"CBL.ENTITY.TWITTER_CARD.VIEW_ON_TWITTER",s.VKq(7,ge,A.twitterCardUiData.entityName))," ")}}function _t(R,Oe){1&R&&(s.TgZ(0,"div",7),s._uU(1),s.ALo(2,"translate"),s.qZA()),2&R&&(s.xp6(1),s.hij(" ",s.lcZ(2,1,"CBL.ENTITY.TWITTER_CARD.LOADING_ERROR"),"\n"))}let pt=(()=>{class R{constructor(A,F){this.twitterService=A,this.changeDetectorRef=F,this.errorLoading=!1,this.dataChanged=!1}ngOnChanges(){this.dataChanged=!0,this.errorLoading=!1}ngAfterViewChecked(){this.dataChanged&&this.tweetElement&&(this.dataChanged=!1,this.embedTimeline(this.twitterCardUiData,this.tweetElement))}embedTimeline(A,F){return this.twitterService.embedTimeline(A.twitterHandle,F,!0).catch(Ee=>{this.errorLoading=!0,this.changeDetectorRef.markForCheck()})}}return R.\u0275fac=function(A){return new(A||R)(s.Y36(ie.X),s.Y36(s.sBO))},R.\u0275cmp=s.Xpm({type:R,selectors:[["twitter-card"]],viewQuery:function(A,F){if(1&A&&s.Gf($e,5),2&A){let Ee;s.iGM(Ee=s.CRH())&&(F.tweetElement=Ee.first)}},inputs:{twitterCardUiData:"twitterCardUiData"},features:[s.TTD],decls:2,vars:2,consts:[[4,"ngIf"],["class","loading-error",4,"ngIf"],[1,"iframe-wrapper"],["tweetElement",""],[1,"twitter-link"],["cb-link","primary","target","_blank","rel","nofollow noopener noreferrer",3,"href"],["iconKey","icon_caret_right",3,"iconAfter"],[1,"loading-error"]],template:function(A,F){1&A&&(s.YNc(0,Ve,9,9,"ng-container",0),s.YNc(1,_t,3,3,"div",1)),2&A&&(s.Q6J("ngIf",!F.errorLoading),s.xp6(1),s.Q6J("ngIf",F.errorLoading))},directives:[e.O5,W.I,di.d],pipes:[q.X],styles:['[_nghost-%COMP%]{display:block;margin:20px 0;padding:0 20px}h3[_ngcontent-%COMP%]{font-size:16px;line-height:24px;color:#282828;letter-spacing:.3px;font-weight:500;font-family:Roboto,Arial,sans-serif;margin-bottom:8px;padding:0 20px}.twitter-link[_ngcontent-%COMP%]{flex:0 0 auto;display:flex!important;flex-direction:row;justify-content:center;max-width:100%;box-sizing:border-box;align-items:flex-start;align-content:flex-start;padding:20px}.twitter-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-transform:uppercase}.loading-error[_ngcontent-%COMP%]{color:#0000008a;text-align:center;padding:16px}[_nghost-%COMP%]     iframe{display:block!important;margin:0 auto;max-width:660px!important;width:100%!important}.entity-loading[_nghost-%COMP%]   h3[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   h3[_ngcontent-%COMP%], .entity-loading[_nghost-%COMP%]   a[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   a[_ngcontent-%COMP%]{background-color:#e9e9e9!important;color:transparent!important}.entity-loading[_nghost-%COMP%]   icon[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   icon[_ngcontent-%COMP%]{visibility:hidden}.entity-loading[_nghost-%COMP%]   .iframe-wrapper[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   .iframe-wrapper[_ngcontent-%COMP%]{position:relative}.entity-loading[_nghost-%COMP%]   .iframe-wrapper[_ngcontent-%COMP%]:before, .entity-loading   [_nghost-%COMP%]   .iframe-wrapper[_ngcontent-%COMP%]:before{content:"";display:block;position:absolute;top:0;right:0;bottom:0;left:0;background-color:#e9e9e9}.entity-loading[_nghost-%COMP%]   .iframe-wrapper[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   .iframe-wrapper[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{visibility:hidden!important}'],changeDetection:0}),R})();var Mt=t(51044),Bt=t(83e3),on=t(48212),yn=t(32313),Ei=t(4407),$n=t(19366);let jn=(()=>{class R{}return R.\u0275fac=function(A){return new(A||R)},R.\u0275mod=s.oAB({type:R}),R.\u0275inj=s.cJS({imports:[[e.ez]]}),R})();var qn=t(86163);function Ii(R,Oe){if(1&R){const A=s.EpF();s.TgZ(0,"div",1)(1,"a",2),s.NdJ("click",function(){const Me=s.CHM(A).$implicit;return s.oxw().clickAnchor(Me)}),s.TgZ(2,"div",3),s._UZ(3,"label-with-info",4)(4,"field-formatter",5),s.qZA(),s._UZ(5,"icon",6),s.qZA()()}if(2&R){const A=Oe.$implicit,F=s.oxw();s.xp6(1),s.Q6J("routerLink",A.pathSections),s.xp6(2),s.Q6J("label",A.label)("description",A.description),s.xp6(1),s.Q6J("field",A.field)("fieldData",A.data)("collectionId",A.collectionId)("contextType",F.contextType)}}let Ln=(()=>{class R{constructor(A){this.scrollService=A,this.onChanges$=new Un.X(void 0),this.contextType=k.Qy.profile}ngOnChanges(){this.onChanges$.next()}clickAnchor(A){this.scrollService.scrollToAnchorWhenReady(A.subsectionId)}}return R.\u0275fac=function(A){return new(A||R)(s.Y36(qn.n))},R.\u0275cmp=s.Xpm({type:R,selectors:[["anchored-values"]],inputs:{anchoredValuesUiData:"anchoredValuesUiData"},features:[s.TTD],decls:1,vars:1,consts:[["class","spacer",4,"ngFor","ngForOf"],[1,"spacer"],["cb-link","primary",3,"routerLink","click"],[1,"info"],[3,"label","description"],["linkColor","primary",3,"field","fieldData","collectionId","contextType"],["key","icon_caret_right","size","xxlarge","color","inherit"]],template:function(A,F){1&A&&s.YNc(0,Ii,6,7,"div",0),2&A&&s.Q6J("ngForOf",F.anchoredValuesUiData.anchors)},directives:[e.sg,On.n,W.I,i.yS,X.R,K.N,Dn.o],styles:["[_nghost-%COMP%]{display:block;margin:20px 0;padding:0 20px}[_nghost-%COMP%]:last-child{margin-bottom:0;padding-bottom:20px}.spacer[_ngcontent-%COMP%]{padding-bottom:16px}.spacer[_ngcontent-%COMP%]:last-child{padding-bottom:0}a[_ngcontent-%COMP%]{padding:8px 0 8px 16px;box-sizing:border-box;box-shadow:0 2px 1px -1px #0003,0 1px 1px #00000024,0 1px 3px #0000001f;border-radius:4px;display:flex;align-items:center;height:100%}a[_ngcontent-%COMP%]:hover{box-shadow:0 3px 3px -2px #0003,0 3px 4px #00000024,0 1px 8px #0000001f;text-decoration:none}a[_ngcontent-%COMP%]:focus, a[_ngcontent-%COMP%]:active{box-shadow:0 2px 1px -1px #0003,0 1px 1px #00000024,0 1px 3px #0000001f;background-color:#e3edff}.info[_ngcontent-%COMP%]{flex:1 1 auto;min-width:0}icon[_ngcontent-%COMP%]{flex:0 0 auto;color:#cbcbcb}a[_ngcontent-%COMP%]:hover   icon[_ngcontent-%COMP%]{color:#183444}label-with-info[_ngcontent-%COMP%], field-formatter[_ngcontent-%COMP%]{display:flex!important;flex-direction:column;justify-content:center;box-sizing:border-box;align-items:flex-start;align-content:flex-start;overflow-wrap:break-word;max-width:100%}label-with-info[_ngcontent-%COMP%]{font-size:14px;line-height:20px;color:#666;letter-spacing:.4px;font-weight:500;font-family:Roboto,Arial,sans-serif;color:#183444;padding-bottom:4px}field-formatter[_ngcontent-%COMP%]{font-size:20px}field-formatter[_ngcontent-%COMP%] >*{max-width:100%}@media (min-width: 600px){[_nghost-%COMP%]{display:flex;flex-wrap:wrap;align-items:stretch}.spacer[_ngcontent-%COMP%]{box-sizing:border-box;flex:1 1 50%;max-width:50%}.spacer[_ngcontent-%COMP%]:nth-child(even){padding-left:8px}.spacer[_ngcontent-%COMP%]:nth-child(odd){padding-right:8px}.spacer[_ngcontent-%COMP%]:last-child, .spacer[_ngcontent-%COMP%]:nth-last-child(2):nth-child(odd){padding-bottom:0}}.profile-loading[_nghost-%COMP%]   field-formatter[_ngcontent-%COMP%], .profile-loading   [_nghost-%COMP%]   field-formatter[_ngcontent-%COMP%], .entity-loading[_nghost-%COMP%]   field-formatter[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   field-formatter[_ngcontent-%COMP%]{background-color:#e9e9e9!important;color:transparent!important}.profile-loading[_nghost-%COMP%]   label-with-info[_ngcontent-%COMP%], .profile-loading   [_nghost-%COMP%]   label-with-info[_ngcontent-%COMP%], .entity-loading[_nghost-%COMP%]   label-with-info[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   label-with-info[_ngcontent-%COMP%]{visibility:hidden}.profile-loading[_nghost-%COMP%]     .component--field-formatter, .profile-loading   [_nghost-%COMP%]     .component--field-formatter, .entity-loading[_nghost-%COMP%]     .component--field-formatter, .entity-loading   [_nghost-%COMP%]     .component--field-formatter{background-color:#e9e9e9!important;color:transparent!important}"],changeDetection:0}),R})();var rn=t(33863),Wn=t(55103),$o=t(1547),uo=t(40089);function Ki(R,Oe){if(1&R&&(s.TgZ(0,"div",2)(1,"button",3),s._UZ(2,"icon",4),s.qZA()()),2&R){const A=s.oxw();s.Q6J("matTooltip",A.disabledTooltip),s.xp6(1),s.uIk("aria-label",A.getButtonLabel())}}function po(R,Oe){if(1&R){const A=s.EpF();s.TgZ(0,"a",5),s.NdJ("click",function(){return s.CHM(A),s.oxw().startEdit()}),s._UZ(1,"icon",6),s.TgZ(2,"span",7),s._uU(3),s.qZA()()}if(2&R){const A=s.oxw();s.xp6(1),s.uIk("aria-hidden",!0),s.xp6(2),s.Oqu(A.getButtonLabel())}}let Mi=(()=>{class R{constructor(A,F){this.entityEditButtonService=A,this.editRoutingService=F,this.isDisabled=!1}ngOnChanges(){this.setup()}startEdit(){this.editRoutingService.goToStartEdit(this.entityDef.collection_id,this.entity.properties.identifier.uuid)}getButtonLabel(){return $localize`:button label for editing a section of the page:Edit ${this.sectionName} Section`}setup(){if(this.entity&&this.entityDef){let A=this.entityEditButtonService.getEntityEditButton(this.entity,this.entityDef);this.isDisabled=A.isDisabled,this.disabledTooltip=A.tooltip}}}return R.\u0275fac=function(A){return new(A||R)(s.Y36(Wn.Pq),s.Y36($o.n))},R.\u0275cmp=s.Xpm({type:R,selectors:[["profile-section-edit-button"]],inputs:{entity:"entity",entityDef:"entityDef",sectionName:"sectionName"},features:[s.TTD],decls:3,vars:2,consts:[["matTooltipShowDelay","500",3,"matTooltip",4,"ngIf","ngIfElse"],["editLink",""],["matTooltipShowDelay","500",3,"matTooltip"],["mat-icon-button","","disabled",""],["key","icon_edit","size","large","color","inherit"],["mat-icon-button","",3,"click"],["key","icon_edit","size","large"],[1,"cdk-visually-hidden"]],template:function(A,F){if(1&A&&(s.YNc(0,Ki,3,2,"div",0),s.YNc(1,po,4,2,"ng-template",null,1,s.W1O)),2&A){const Ee=s.MAs(2);s.Q6J("ngIf",F.isDisabled)("ngIfElse",Ee)}},directives:[e.O5,uo.gM,ln.lW,Dn.o,On.n,ln.zs],encapsulation:2,changeDetection:0}),R})();var Ds=t(29361);let xs=(()=>{class R{constructor(A){this.entityApi=A}removeRelatedEntity(A,F,Ee){const Xe={entity:{id:Ee,operation:we.nc.OperationEnum.noop,relationships:[{collection_id:A.card.lookup.collection_id,entity:{id:F,operation:we.nc.OperationEnum.noop},operation:we.yO.OperationEnum.delete}]}},tt=A.rowItems.filter(yt=>yt.identifier.uuid!==F);return this.entityApi.dataEntitiesPost$({entities:Xe}).pipe((0,Ds.h)(Object.assign(Object.assign({},A),{rowItems:tt})))}addRelatedEntity(A,F,Ee){const tt=[...A.rowItems,{identifier:F}];return this.entityApi.dataEntitiesPost$({entities:{entity:{id:Ee,operation:we.nc.OperationEnum.noop,relationships:[{collection_id:A.card.lookup.collection_id,entity:{id:F.uuid,operation:we.nc.OperationEnum.noop},operation:we.yO.OperationEnum.upsert}]}}}).pipe((0,Ds.h)(Object.assign(Object.assign({},A),{rowItems:tt})))}}return R.\u0275fac=function(A){return new(A||R)(s.LFG(we.xM))},R.\u0275prov=s.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})();var Fs=t(67743),Ni=t(90587),Us=t(19193),oa=t(66426),sa=t(55751),aa=t(32647),ra=we.Di.SortEnum;class ca{constructor(Oe,A,F){this.searchApi=Oe,this.permissionService=A,this.collectionId=F,this.fullData$=this.getFullData().pipe((0,dn.d)(1)),this.add$=new Te.xQ}getFilteredResults(Oe){return this.fullData$.pipe((0,T.U)(A=>this.filterResults(A,Oe)))}addNew(Oe){this.add$.next(Oe)}getFullData(){return this.searchApi.dataSearchesCollectionIdPost$({collectionId:this.collectionId,query:{field_ids:[S.ul.Fields.identifier],limit:this.permissionService.getSearchResultLimit(void 0,this.collectionId),order:[{field_id:S.ul.Fields.identifier,sort:ra.asc}]}}).pipe((0,T.U)(Oe=>(Oe.entities||[]).map(A=>A.properties.identifier).filter(x.K)),(0,ve.w)(Oe=>this.add$.pipe((0,aa.R)((A,F)=>[F,...A],Oe),(0,M.O)(Oe))))}filterResults(Oe,A){return A?sa.go(A,Oe,{key:"value"}).map(Ee=>Ee.obj):Oe}}let la=(()=>{class R{constructor(A,F){this.searchApi=A,this.permissionService=F}create(A){return new ca(this.searchApi,this.permissionService,A)}}return R.\u0275fac=function(A){return new(A||R)(s.LFG(we.Wq),s.LFG(at.$))},R.\u0275prov=s.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})();var Js=t(66587);let da=(()=>{class R{constructor(A,F){this.metadataService=A,this.entityApi=F}isCreatable(A){return 1===this.getRequiredEditableFields(A).length}createEntity(A,F){const Ee=this.metadataService.getEntityDef(A);if(!Ee)return(0,Js._)(`Entity def ${A} not found`);const Me=this.getRequiredEditableFields(A)[0].id;return this.entityApi.dataEntitiesPost$({entities:{entity:{operation:we.nc.OperationEnum.create,temp_id:"random-string",entity_def_id:Ee.id,properties:{[Me]:F}}}}).pipe((0,T.U)(tt=>({uuid:tt.id,value:F,entity_def_id:Ee.id})))}getRequiredEditableFields(A){const F=this.metadataService.getEntityDef(A);return(null==F?void 0:F.fields.filter(Me=>{var Xe,tt;return Me.is_required&&(null===(tt=null===(Xe=Me.permissions)||void 0===Xe?void 0:Xe.is_updatable)||void 0===tt?void 0:tt.allowed)}))||[]}}return R.\u0275fac=function(A){return new(A||R)(s.LFG(S.Do),s.LFG(we.xM))},R.\u0275prov=s.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})();var Qs=t(54166),_a=t(37075),Wo=t(84128),Oi=t(44770),js=t(43365),Yo=t(26131);const ws=["input"],Bs=function(R){return{entityLabel:R}};function ua(R,Oe){if(1&R&&(s.TgZ(0,"label-with-icon",18)(1,"div",19),s._uU(2),s.ALo(3,"translate"),s.TgZ(4,"span",20),s._uU(5),s.qZA()()()),2&R){const A=s.oxw(3);s.xp6(2),s.hij(" ",s.xi3(3,2,"CBL.MULTI_ENTITY_SELECT.NEW",s.VKq(5,Bs,null==A.entityDefLabel?null:A.entityDefLabel.toLowerCase()))," "),s.xp6(3),s.Oqu(A.formControl.value)}}function pa(R,Oe){if(1&R&&(s.TgZ(0,"label-with-icon",21),s._uU(1),s.ALo(2,"translate"),s.qZA()),2&R){const A=s.oxw(3);s.xp6(1),s.hij(" ",s.xi3(2,1,"CBL.MULTI_ENTITY_SELECT.CANNOT_CREATE",s.VKq(4,Bs,null==A.entityDefLabel?null:A.entityDefLabel.toLowerCase()))," ")}}function ga(R,Oe){if(1&R&&(s.TgZ(0,"mat-action-list")(1,"span",14)(2,"button",15),s.YNc(3,ua,6,7,"label-with-icon",16),s.YNc(4,pa,3,6,"label-with-icon",17),s.qZA()()()),2&R){const A=s.oxw(2);s.xp6(1),s.Q6J("matTooltipDisabled",!A.limitReached())("matTooltip",A.limitReachedLabel),s.xp6(1),s.Q6J("disabled",A.limitReached()),s.xp6(1),s.Q6J("ngIf",!A.limitReached()),s.xp6(1),s.Q6J("ngIf",A.limitReached())}}function ma(R,Oe){if(1&R&&(s.TgZ(0,"span",14)(1,"mat-list-option",26)(2,"span"),s._uU(3),s.qZA()()()),2&R){const A=Oe.$implicit,F=s.oxw(4);s.Q6J("matTooltipDisabled",!(F.limitReached()&&!F.selectedEntitiesSet.has(A.uuid)))("matTooltip",F.limitReachedLabel),s.xp6(1),s.Q6J("selected",F.selectedEntitiesSet.has(A.uuid))("value",A)("disabled",F.disabled||F.limitReached()&&!F.selectedEntitiesSet.has(A.uuid)),s.xp6(2),s.Oqu(A.value)}}function ha(R,Oe){if(1&R){const A=s.EpF();s.TgZ(0,"mat-selection-list",24),s.NdJ("selectionChange",function(Ee){return s.CHM(A),s.oxw(3).onSelectionChange(Ee)}),s.YNc(1,ma,4,6,"span",25),s.qZA()}if(2&R){const A=s.oxw().ngIf;s.xp6(1),s.Q6J("ngForOf",A)}}const Ea=function(R){return{search:R}};function fa(R,Oe){if(1&R&&(s.TgZ(0,"div",27),s._uU(1),s.ALo(2,"translate"),s.qZA()),2&R){const A=s.oxw(3);s.xp6(1),s.hij(" ",s.xi3(2,1,"CBL.MULTI_ENTITY_SELECT.NO_RESULTS_FOUND",s.VKq(4,Ea,A.formControl.value))," ")}}function va(R,Oe){if(1&R&&(s.ynx(0),s.YNc(1,ha,2,1,"mat-selection-list",22),s.ALo(2,"async"),s.YNc(3,fa,3,6,"div",23),s.ALo(4,"async"),s.BQk()),2&R){s.oxw();const A=s.MAs(11),F=s.oxw();s.xp6(1),s.Q6J("ngIf",!s.lcZ(2,3,F.loading$))("ngIfElse",A),s.xp6(2),s.Q6J("ngIf",s.lcZ(4,5,F.showNoResults$))}}function Ca(R,Oe){1&R&&s._UZ(0,"mat-spinner",28)}function ya(R,Oe){if(1&R){const A=s.EpF();s.TgZ(0,"div",5)(1,"form",6),s.NdJ("ngSubmit",function(){return s.CHM(A),s.oxw().createEntity()}),s.TgZ(2,"div",7)(3,"mat-form-field",8),s._UZ(4,"input",9,10),s.qZA()(),s.YNc(6,ga,5,5,"mat-action-list",11),s.ALo(7,"async"),s.qZA(),s.YNc(8,va,5,7,"ng-container",12),s.ALo(9,"async"),s.YNc(10,Ca,1,0,"ng-template",null,13,s.W1O),s.qZA()}if(2&R){const A=s.MAs(11),F=s.oxw();s.Q6J("cdkTrapFocusAutoCapture",!0),s.xp6(1),s.Q6J("formGroup",F.formGroup),s.xp6(3),s.Q6J("formControlName",F.getFormControlName())("placeholder",F.placeholder),s.xp6(2),s.Q6J("ngIf",s.lcZ(7,7,F.canCreateEntity$)),s.xp6(2),s.Q6J("ngIf",s.lcZ(9,9,F.entities$))("ngIfElse",A)}}const qs="entityInput";let Sa=(()=>{class R{constructor(A,F,Ee,Me,Xe){this.metadataService=A,this.multiEntitySelectInputCreateService=F,this.toastService=Ee,this.autocompleterFactory=Me,this.labelService=Xe,this.selectionChange=new s.vpe,this.formControl=new Ni.NI,this.formGroup=new Ni.cw({[qs]:this.formControl}),this.selectedEntitiesSet=new Set,this.isOverlayOpen$=new Un.X(!1),this.loading$=new Un.X(!1),this.isEntityCreatable=!1,this.initiallySelected=new Set,this.added=[]}ngOnChanges(A){var F,Ee,Me;if(A.collectionId){this.autocompleter=this.autocompleterFactory.create(this.collectionId);const Xe=this.formControl.valueChanges.pipe((0,M.O)(""),(0,fn.b)(yt=>this.loading$.next(!0)),(0,ve.w)(yt=>this.autocompleter.getFilteredResults(yt)),(0,T.U)(yt=>this.preserveOrder(yt)),(0,Ge.K)(yt=>(0,Re.of)([])),(0,fn.b)(yt=>this.loading$.next(!1)));this.entities$=this.isOverlayOpen$.pipe((0,ve.w)(yt=>yt?Xe:(0,Re.of)([])),(0,dn.d)(1)),this.isEntityCreatable=this.multiEntitySelectInputCreateService.isCreatable(this.collectionId),this.canCreateEntity$=this.makeCanCreateEntity$(),this.showNoResults$=this.shouldShowNoResults$();const tt=this.metadataService.getEntityDef(this.collectionId);this.entityDefLabel=null===(F=null==tt?void 0:tt.labels)||void 0===F?void 0:F.name,this.entityDefLabelPlural=null===(Ee=null==tt?void 0:tt.labels)||void 0===Ee?void 0:Ee.plural}if(A.entityLimit||A.collectionId){const Xe=null===(Me=this.entityDefLabelPlural)||void 0===Me?void 0:Me.toLowerCase();this.limitReachedLabel=this.labelService.getInterpolatedLabel("CBL.MULTI_ENTITY_SELECT.LIMIT_REACHED",{entityPlural:Xe,limit:this.entityLimit})}A.selectedEntities&&(this.selectedEntitiesSet=new Set(this.selectedEntities))}getFormControlName(){return qs}openOverlay(){this.initiallySelected=new Set(this.selectedEntities),this.added=[],this.formControl.setValue(""),this.isOverlayOpen$.next(!0)}onDetach(){this.isOverlayOpen$.next(!1)}onSelectionChange(A){const F=A.options[0];this.selectionChange.emit({identifier:F.value,selected:F.selected})}createEntity(){var A;const F=null===(A=this.formControl.value)||void 0===A?void 0:A.trim();if(!F)return;const Ee=this.metadataService.getEntityDef(this.collectionId);if(Ee){if(this.limitReached())return void this.toastService.showToast(this.limitReachedLabel);this.canCreateEntity$.pipe((0,fe.q)(1),(0,li.h)(Me=>Me),(0,fn.b)(Me=>this.formControl.disable({emitEvent:!1})),(0,fn.b)(Me=>this.loading$.next(!0)),(0,oa.c)(this.multiEntitySelectInputCreateService.createEntity(this.collectionId,F)),(0,xe.x)(()=>{this.formControl.enable(),this.input.nativeElement.focus()})).subscribe({next:Me=>{this.added.push(Me.uuid),this.autocompleter.addNew(Me),this.selectionChange.emit({identifier:Me,selected:!0}),this.formControl.setValue(""),this.toastService.showSimpleToast("CBL.MULTI_ENTITY_SELECT.CREATE_SUCCESS_TOAST",{entityLabel:Ee.labels.name})},error:Me=>{this.toastService.showSimpleToast("CBL.MULTI_ENTITY_SELECT.CREATE_FAIL_TOAST",{entityLabel:Ee.labels.name})}})}}limitReached(){return!!(this.entityLimit&&this.selectedEntities&&this.selectedEntities.length>=this.entityLimit)}getAddButtonTooltip(){return this.limitReached()?this.limitReachedLabel:this.addButtonTooltip}shouldShowNoResults$(){return(0,Us.aj)([this.entities$,this.loading$]).pipe((0,T.U)(([A,F])=>this.formControl.value&&!A.length&&!F))}makeCanCreateEntity$(){return(0,Us.aj)([this.entities$,this.loading$]).pipe((0,T.U)(([A,F])=>{var Ee;const Me=null===(Ee=this.formControl.value)||void 0===Ee?void 0:Ee.trim().toLowerCase(),Xe=A.some(tt=>{var yt;return(null===(yt=tt.value)||void 0===yt?void 0:yt.trim().toLowerCase())===Me});return this.isEntityCreatable&&!!Me&&!Xe&&!F}))}preserveOrder(A){return(0,Ue.sortBy)(A,F=>{const Ee=F.uuid,Me=this.added.indexOf(Ee);return-1!==Me?-Me:this.initiallySelected.has(Ee)?1:2})}}return R.\u0275fac=function(A){return new(A||R)(s.Y36(S.Do),s.Y36(da),s.Y36(st.k),s.Y36(la),s.Y36(Ye.Q))},R.\u0275cmp=s.Xpm({type:R,selectors:[["multi-entity-select-input"]],viewQuery:function(A,F){if(1&A&&s.Gf(ws,5),2&A){let Ee;s.iGM(Ee=s.CRH())&&(F.input=Ee.first)}},inputs:{collectionId:"collectionId",selectedEntities:"selectedEntities",iconKey:"iconKey",disabled:"disabled",entityLimit:"entityLimit",addButtonTooltip:"addButtonTooltip",placeholder:"placeholder"},outputs:{selectionChange:"selectionChange"},features:[s.TTD],decls:8,vars:11,consts:[[3,"matTooltip"],["mat-stroked-button","","cdkOverlayOrigin","","color","primary",3,"click"],["overlayOrigin","cdkOverlayOrigin"],[3,"iconKey"],["cdkConnectedOverlay","","overlayAutoClose","",3,"cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","overlayAutoCloseOnTab","detach"],["cdkTrapFocus","",1,"overlay-container",3,"cdkTrapFocusAutoCapture"],[3,"formGroup","ngSubmit"],[1,"input-container"],["appearance","outline","floatLabel","never",1,"cb-form-field-outlined"],["matInput","","cdkFocusInitial","","type","text","autocomplete","off",3,"formControlName","placeholder"],["input",""],[4,"ngIf"],[4,"ngIf","ngIfElse"],["loading",""],[3,"matTooltipDisabled","matTooltip"],["type","submit","mat-list-item","","data-cy","create-new",3,"disabled"],["iconKey","icon_plus",4,"ngIf"],["iconKey","icon_cancel",4,"ngIf"],["iconKey","icon_plus"],[1,"create-entity-label-container"],[1,"create-entity-name"],["iconKey","icon_cancel"],[3,"selectionChange",4,"ngIf","ngIfElse"],["class","no-results",4,"ngIf"],[3,"selectionChange"],[3,"matTooltipDisabled","matTooltip",4,"ngFor","ngForOf"],["checkboxPosition","before",3,"selected","value","disabled"],[1,"no-results"],["diameter","36"]],template:function(A,F){if(1&A&&(s.TgZ(0,"span",0)(1,"button",1,2),s.NdJ("click",function(){return F.openOverlay()}),s.TgZ(3,"label-with-icon",3),s._uU(4),s.ALo(5,"translate"),s.qZA()()(),s.YNc(6,ya,12,11,"ng-template",4),s.ALo(7,"async"),s.NdJ("detach",function(){return F.onDetach()})),2&A){const Ee=s.MAs(2);s.Q6J("matTooltip",F.getAddButtonTooltip()),s.xp6(3),s.Q6J("iconKey",F.iconKey),s.xp6(1),s.AsE(" ",s.lcZ(5,7,"CBL.MULTI_ENTITY_SELECT.ADD")," ",F.entityDefLabelPlural," "),s.xp6(2),s.Q6J("cdkConnectedOverlayOrigin",Ee)("cdkConnectedOverlayOpen",s.lcZ(7,9,F.isOverlayOpen$))("overlayAutoCloseOnTab",!1)}},directives:[uo.gM,ln.lW,Qs.xu,di.d,Qs.pI,_a.K,Wo.mK,Ni._Y,Ni.JL,Ni.sg,Oi.KE,js.Nt,Ni.Fj,Ni.JJ,Ni.u,e.O5,Yo.i$,Yo.Tg,Yo.Ub,e.sg,Yo.vS,_i.Ou],pipes:[q.X,e.Ov],styles:[".overlay-container[_ngcontent-%COMP%]{background-color:#fff;box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f;border-radius:3px;max-height:256px;overflow-y:auto;max-width:500px}form[_ngcontent-%COMP%]{display:unset}.input-container[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1;padding:8px;border-bottom-style:solid;border-bottom-width:1px;border-color:#0000001f;background-color:#fff}mat-form-field[_ngcontent-%COMP%]{width:100%}mat-action-list.mat-list-base[_ngcontent-%COMP%], mat-selection-list.mat-list-base[_ngcontent-%COMP%]{padding-top:0}mat-spinner[_ngcontent-%COMP%]{margin:32px auto}mat-selection-list[_ngcontent-%COMP%]   mat-list-option[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], mat-action-list[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   label-with-icon[_ngcontent-%COMP%]   .create-entity-label-container[_ngcontent-%COMP%]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}mat-action-list[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   label-with-icon[_ngcontent-%COMP%]{min-width:0;font-size:14px;line-height:20px;color:#282828;letter-spacing:.2px;font-weight:400;font-family:Roboto,Arial,sans-serif}.create-entity-name[_ngcontent-%COMP%]{font-weight:500}mat-action-list[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#0000000d;font-size:14px;line-height:20px;color:#282828;letter-spacing:.2px;font-weight:400;font-family:Roboto,Arial,sans-serif}mat-action-list[_ngcontent-%COMP%]   button.mat-list-item-disabled[_ngcontent-%COMP%]{background-color:#00000005;color:#00000061}mat-selection-list[_ngcontent-%COMP%]   mat-list-option[_ngcontent-%COMP%]:focus{background-color:#ebf7fb}mat-selection-list[_ngcontent-%COMP%]   mat-list-option[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;line-height:20px;color:#282828;letter-spacing:.2px;font-weight:400;font-family:Roboto,Arial,sans-serif}mat-selection-list[_ngcontent-%COMP%]   mat-list-option[_ngcontent-%COMP%]  mat-pseudo-checkbox:not(.mat-pseudo-checkbox-checked){background-color:#fff}.no-results[_ngcontent-%COMP%]{font-size:14px;line-height:20px;color:#666;letter-spacing:.2px;font-weight:400;font-family:Roboto,Arial,sans-serif;padding:16px;overflow-wrap:anywhere}"],changeDetection:0}),R})();var Ia=t(69489);function Ta(R,Oe){1&R&&s.GkF(0)}const ks=function(R){return{$implicit:R}};function Ko(R,Oe){if(1&R&&(s.TgZ(0,"a",6),s.YNc(1,Ta,1,0,"ng-container",7),s.qZA()),2&R){const A=s.oxw().$implicit;s.oxw();const F=s.MAs(6);s.Q6J("routerLink",A.searchRoute),s.xp6(1),s.Q6J("ngTemplateOutlet",F)("ngTemplateOutletContext",s.VKq(3,ks,A))}}function Aa(R,Oe){1&R&&s.GkF(0)}function Oa(R,Oe){if(1&R&&(s.ynx(0),s.YNc(1,Aa,1,0,"ng-container",7),s.BQk()),2&R){const A=s.oxw().$implicit;s.oxw();const F=s.MAs(6);s.xp6(1),s.Q6J("ngTemplateOutlet",F)("ngTemplateOutletContext",s.VKq(2,ks,A))}}function Pa(R,Oe){if(1&R&&(s.ynx(0),s.YNc(1,Ko,2,5,"a",4),s.YNc(2,Oa,2,4,"ng-container",5),s.BQk()),2&R){const A=Oe.$implicit;s.xp6(1),s.Q6J("ngIf",A.searchRoute),s.xp6(1),s.Q6J("ngIf",!A.searchRoute)}}function ba(R,Oe){1&R&&s._UZ(0,"div",8)}function La(R,Oe){1&R&&s._UZ(0,"mat-spinner",10)}function Ma(R,Oe){if(1&R&&(s.TgZ(0,"chip"),s._uU(1),s.YNc(2,La,1,0,"mat-spinner",9),s.qZA()),2&R){const A=Oe.$implicit,F=s.oxw();s.xp6(1),s.hij(" ",A.identifier.value," "),s.xp6(1),s.Q6J("ngIf",F.removing.has(A.identifier.uuid))}}let Da=(()=>{class R{constructor(A,F,Ee,Me,Xe){this.pillListCardEditService=A,this.profileUpdater=F,this.toastService=Ee,this.cdr=Me,this.fieldFormatterService=Xe,this.pills=[],this.uuids=[],this.removing=new Set,this.isUpdating=!1}ngOnChanges(A){A.pillListCardUiData&&(this.uuids=this.pillListCardUiData.rowItems.map(F=>F.identifier.uuid),this.pills=this.pillListCardUiData.rowItems.map(F=>({identifier:F.identifier,searchRoute:this.getSearchRoute(F.identifier)})))}onChange(A){A.selected?this.add(A.identifier):this.remove(A.identifier.uuid)}remove(A){this.isUpdating=!0,this.removing.add(A),this.cdr.markForCheck(),this.pillListCardEditService.removeRelatedEntity(this.pillListCardUiData,A,this.entityId).pipe((0,xe.x)(()=>{this.isUpdating=!1,this.removing.delete(A),this.cdr.markForCheck()})).subscribe(F=>this.profileUpdater.updateCard(this.pillListCardUiData.id,F),F=>this.toastService.showSimpleToast("CBL.ACCOUNT.TEAMS.TAGS.UPDATE_ERROR"))}add(A){this.isUpdating=!0,this.cdr.markForCheck(),this.pillListCardEditService.addRelatedEntity(this.pillListCardUiData,A,this.entityId).pipe((0,xe.x)(()=>{this.isUpdating=!1,this.cdr.markForCheck()})).subscribe(F=>this.profileUpdater.updateCard(this.pillListCardUiData.id,F),F=>this.toastService.showSimpleToast("CBL.ACCOUNT.TEAMS.TAGS.UPDATE_ERROR"))}getSearchRoute(A){var F;return null===(F=this.fieldFormatterService.constructDrillInRouteByFieldValue(this.pillListCardUiData.rowItemCollectionId,this.pillListCardUiData.card.lookup.field_ids[0],A,"advanced_search"))||void 0===F?void 0:F.path}}return R.\u0275fac=function(A){return new(A||R)(s.Y36(xs),s.Y36(Fs._),s.Y36(st.k),s.Y36(s.sBO),s.Y36(k.eM))},R.\u0275cmp=s.Xpm({type:R,selectors:[["pill-list-card"]],inputs:{pillListCardUiData:"pillListCardUiData",entityId:"entityId"},features:[s.TTD],decls:7,vars:12,consts:[["iconKey","icon_tag",3,"collectionId","selectedEntities","disabled","entityLimit","addButtonTooltip","placeholder","selectionChange"],[4,"ngFor","ngForOf"],["class","saving-overlay","data-cypress","pill-list-updating",4,"ngIf"],["chip",""],[3,"routerLink",4,"ngIf"],[4,"ngIf"],[3,"routerLink"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["data-cypress","pill-list-updating",1,"saving-overlay"],["diameter","16",4,"ngIf"],["diameter","16"]],template:function(A,F){1&A&&(s.TgZ(0,"multi-entity-select-input",0),s.NdJ("selectionChange",function(Me){return F.onChange(Me)}),s.ALo(1,"translate"),s.ALo(2,"translate"),s.qZA(),s.YNc(3,Pa,3,2,"ng-container",1),s.YNc(4,ba,1,0,"div",2),s.YNc(5,Ma,3,2,"ng-template",null,3,s.W1O)),2&A&&(s.Q6J("collectionId",F.pillListCardUiData.rowItemCollectionId)("selectedEntities",F.uuids)("disabled",F.isUpdating)("entityLimit",F.pillListCardUiData.limit)("addButtonTooltip",s.lcZ(1,8,"CBL.ENTITY.PILL_LIST_CARD.TAGS.SELECT_TOOLTIP"))("placeholder",s.lcZ(2,10,"CBL.ENTITY.PILL_LIST_CARD.TAGS.SELECT_PLACEHOLDER")),s.xp6(3),s.Q6J("ngForOf",F.pills),s.xp6(1),s.Q6J("ngIf",F.isUpdating))},directives:[Sa,e.sg,e.O5,On.n,i.yS,e.tP,Ia.Y,_i.Ou],pipes:[q.X],styles:["[_nghost-%COMP%]{position:relative;margin:20px 0;padding:0 20px;display:flex;align-items:center;flex-wrap:wrap}[_nghost-%COMP%]:last-child{margin-bottom:0;padding-bottom:20px}[_nghost-%COMP%] > *[_ngcontent-%COMP%]{margin:4px 8px 4px 0;flex:0 0 auto}.saving-overlay[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;left:0;right:0;background:rgba(255,255,255,.5)}mat-spinner[_ngcontent-%COMP%]{display:inline-block}.entity-loading[_nghost-%COMP%]   chip[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   chip[_ngcontent-%COMP%]{background-color:#e9e9e9!important;color:transparent!important}.entity-loading[_nghost-%COMP%]   multi-entity-select-input[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   multi-entity-select-input[_ngcontent-%COMP%]{display:none}a[_ngcontent-%COMP%]{text-decoration:none}"],changeDetection:0}),R})();var xa=t(3259),Ra=t(30412),Na=t(5076),Fa=t(89248),Rs=t(54020),Hs=t(5149),j=t(35585),Ze=t(17272),z=t(24993),Pe=t(35595),qe=t(27367),Rt=t(61756);function pn(R,Oe){if(1&R&&s._UZ(0,"field-formatter",14),2&R){const A=s.oxw();s.Q6J("field",A.similarity.entityDetails.locations.field)("fieldData",A.similarity.entityDetails.locations.data)("collectionId",A.similarity.entityDetails.locations.collectionId)}}function gn(R,Oe){1&R&&s.GkF(0)}function Di(R,Oe){if(1&R&&(s.TgZ(0,"a",17),s.YNc(1,gn,1,0,"ng-container",18),s.qZA()),2&R){s.oxw();const A=s.MAs(3),F=s.oxw();s.Q6J("routerLink",F.routeToContacts),s.xp6(1),s.Q6J("ngTemplateOutlet",A)}}function Vi(R,Oe){if(1&R&&(s._UZ(0,"field-formatter",14),s._uU(1)),2&R){const A=s.oxw(2);s.Q6J("field",A.contactsField.field)("fieldData",A.contactsField.data)("collectionId",A.contactsField.collectionId),s.xp6(1),s.hij(" ",A.contactsField.label,"")}}function Vo(R,Oe){if(1&R&&(s.TgZ(0,"span"),s.YNc(1,Di,2,2,"a",15),s.YNc(2,Vi,2,4,"ng-template",null,16,s.W1O),s.qZA()),2&R){const A=s.MAs(3),F=s.oxw();s.xp6(1),s.Q6J("ngIf",F.routeToContacts)("ngIfElse",A)}}function Gs(R,Oe){if(1&R&&(s.TgZ(0,"span"),s.tHW(1,19),s._UZ(2,"field-formatter",14),s.N_p(),s.qZA()),2&R){const A=s.oxw();s.xp6(2),s.Q6J("field",A.similarity.entityDetails.numEmployees.field)("fieldData",A.similarity.entityDetails.numEmployees.data)("collectionId",A.similarity.entityDetails.numEmployees.collectionId)}}function Zs(R,Oe){if(1&R&&(s.TgZ(0,"span"),s.tHW(1,20),s._UZ(2,"field-formatter",14),s.N_p(),s.qZA()),2&R){const A=s.oxw();s.xp6(2),s.Q6J("field",A.similarity.entityDetails.revenueRange.field)("fieldData",A.similarity.entityDetails.revenueRange.data)("collectionId",A.similarity.entityDetails.revenueRange.collectionId)}}function zs(R,Oe){if(1&R&&(s.TgZ(0,"div",21),s._UZ(1,"identifier-multi-formatter",22),s.qZA()),2&R){const A=s.oxw();s.xp6(1),s.Q6J("collectionId",A.similarity.entityDetails.categories.collectionId)("field",A.similarity.entityDetails.categories.field)("fieldData",A.similarity.entityDetails.categories.data)("contextType",A.contextType)("maxNumChips",3)}}function $s(R,Oe){if(1&R&&(s.TgZ(0,"div"),s._uU(1),s.qZA()),2&R){const A=s.oxw();s.xp6(1),s.hij(" ",A.similarity.entityDetails.shortDescription.data," ")}}function ir(R,Oe){1&R&&s.SDv(0,24,1)}function or(R,Oe){if(1&R&&(s.SDv(0,24,2),s.ALo(1,"localizedList")),2&R){const A=s.oxw(2);s.xp6(1),s.pQV(s.lcZ(1,1,A.similarity.reasonLabels)),s.QtT(0)}}function sr(R,Oe){if(1&R&&(s.TgZ(0,"div",23),s.tHW(1,24),s._UZ(2,"identifier-link",25)(3,"identifier-link",25),s.ynx(4,26),s.YNc(5,ir,1,0,"ng-template",27),s.YNc(6,or,2,3,"ng-template",28),s.BQk(),s.N_p(),s.qZA()),2&R){const A=s.oxw();s.xp6(2),s.Q6J("identifier",A.source)("color","accent"),s.xp6(1),s.Q6J("identifier",A.similarity.entity)("color","accent"),s.xp6(1),s.Q6J("ngPlural",A.similarity.reasonLabels.length),s.xp6(2),s.pQV(A.source.value)(A.similarity.entity.value),s.QtT(1)}}function ar(R,Oe){if(1&R){const A=s.EpF();s.TgZ(0,"crm-push-button",29),s.NdJ("clickPushToCrm",function(){return s.CHM(A),s.oxw().clickPushToCrm()}),s.qZA()}if(2&R){const A=s.oxw();s.Q6J("entityId",A.similarity.entity.uuid)}}function rr(R,Oe){1&R&&(s.TgZ(0,"span",30),s.SDv(1,31),s.qZA())}let za=(()=>{class R{constructor(A,F){this.store=A,this.fieldFormatterService=F,this.userFeedbackEvent=new s.vpe,this.isCrmConnected$=this.store.select(Hs.k2),this.contextType=k.Qy.profile,this.thumbsUpTooltip=$localize`These companies are similar`,this.thumbsDownTooltip=$localize`These companies are not similar`}ngOnChanges(){var A,F,Ee;const Me=this.similarity.entityDetails;"number"==typeof(null===(A=Me.numContacts)||void 0===A?void 0:A.data)&&(this.contactsField=Object.assign(Object.assign({},Me.numContacts),{label:Me.numContacts.data>1?$localize`:personal connection information:Contacts`:$localize`:personal connection information:Contact`})),this.routeToContacts=(null===(F=Me.numContacts)||void 0===F?void 0:F.data)?null===(Ee=this.fieldFormatterService.constructDrillInRouteByFieldValue(Me.numContacts.collectionId,Me.numContacts.field.id,this.similarity.entity,"advanced_search"))||void 0===Ee?void 0:Ee.path:void 0}clickThumbsUp(){"thumbs_up"!==this.feedback&&this.sendFeedbackEvent(we.kA.ReasonEnum.thumbs_up)}clickThumbsDown(){"thumbs_down"!==this.feedback&&this.sendFeedbackEvent(we.kA.ReasonEnum.thumbs_down)}clickViewProfile(){this.sendFeedbackEvent(we.kA.ReasonEnum.page_view)}clickSave(){this.sendFeedbackEvent(we.kA.ReasonEnum.save_list)}clickPushToCrm(){this.sendFeedbackEvent(we.kA.ReasonEnum.save_crm)}sendFeedbackEvent(A){this.userFeedbackEvent.emit({similarity:this.similarity,feedback:A})}}return R.\u0275fac=function(A){return new(A||R)(s.Y36(j.yh),s.Y36(k.eM))},R.\u0275cmp=s.Xpm({type:R,selectors:[["org-similarity-card-item"]],inputs:{source:"source",similarity:"similarity",feedback:"feedback"},outputs:{userFeedbackEvent:"userFeedbackEvent"},features:[s.TTD],decls:19,vars:21,consts:function(){let Oe,A,F,Ee;return Oe=$localize`:␟1b1213fa0838918ecbd93cda46cf5735e3b1bf2b␟7014522115531658111:${"\ufffd#2\ufffd"}:START_TAG_FIELD_FORMATTER:${"\ufffd/#2\ufffd"}:CLOSE_TAG_FIELD_FORMATTER: employees `,A=$localize`:␟6852241b6159eed2d28de9adb591440e72c271ce␟3088541931985674099:${"\ufffd#2\ufffd"}:START_TAG_FIELD_FORMATTER:${"\ufffd/#2\ufffd"}:CLOSE_TAG_FIELD_FORMATTER: revenue `,F=$localize`:␟67c7fccadfcd39636c85ba81cb3bdcc2022d96e8␟6256515552576751039:${"\ufffd#2\ufffd"}:START_TAG_IDENTIFIER_LINK:${"\ufffd0\ufffd"}:INTERPOLATION:${"[\ufffd/#2\ufffd|\ufffd/#3\ufffd]"}:CLOSE_TAG_IDENTIFIER_LINK: and ${"\ufffd#3\ufffd"}:START_TAG_IDENTIFIER_LINK_1:${"\ufffd1\ufffd"}:INTERPOLATION_1:${"[\ufffd/#2\ufffd|\ufffd/#3\ufffd]"}:CLOSE_TAG_IDENTIFIER_LINK: share similar ${"\ufffd#4\ufffd"}:START_TAG_NG_CONTAINER:${"\ufffd*5:1\ufffd"}:START_TAG_NG_TEMPLATE:characteristics${"[\ufffd/*5:1\ufffd|\ufffd/*6:2\ufffd]"}:CLOSE_TAG_NG_TEMPLATE:${"\ufffd*6:2\ufffd"}:START_TAG_NG_TEMPLATE_1: ${"\ufffd0:2\ufffd"}:INTERPOLATION_2: ${"[\ufffd/*5:1\ufffd|\ufffd/*6:2\ufffd]"}:CLOSE_TAG_NG_TEMPLATE:${"\ufffd/#4\ufffd"}:CLOSE_TAG_NG_CONTAINER:`,F=s.Zx4(F),Ee=$localize`:␟91acf2a6eec5e1f8af8f813d45038c0b4226d4b5␟5863477663713778174:These companies are similar`,[[1,"header-container"],[3,"identifier","size"],[3,"identifier","color","mousedown"],[1,"details-container"],[1,"inline-list"],[3,"field","fieldData","collectionId",4,"ngIf"],[4,"ngIf"],["class","industries",4,"ngIf"],["class","reasons-container",4,"ngIf"],[1,"actions-container"],[3,"entityId","entityDefId","clickSave"],[3,"entityId","clickPushToCrm",4,"ngIf"],["class","feedback-label",4,"ifBreakpoint"],[3,"feedback","thumbsUpTooltip","thumbsDownTooltip","clickThumbsUp","clickThumbsDown"],[3,"field","fieldData","collectionId"],["cb-link","accent",3,"routerLink",4,"ngIf","ngIfElse"],["contactsTemplate",""],["cb-link","accent",3,"routerLink"],[4,"ngTemplateOutlet"],Oe,A,[1,"industries"],[3,"collectionId","field","fieldData","contextType","maxNumChips"],[1,"reasons-container"],F,[3,"identifier","color"],[3,"ngPlural"],["ngPluralCase","=0"],["ngPluralCase","other"],[3,"entityId","clickPushToCrm"],[1,"feedback-label"],Ee]},template:function(A,F){1&A&&(s.TgZ(0,"div",0),s._UZ(1,"identifier-image",1),s.TgZ(2,"identifier-link",2),s.NdJ("mousedown",function(){return F.clickViewProfile()}),s._uU(3),s.qZA()(),s.TgZ(4,"div",3)(5,"div",4),s.YNc(6,pn,1,3,"field-formatter",5),s.YNc(7,Vo,4,2,"span",6),s.YNc(8,Gs,3,3,"span",6),s.YNc(9,Zs,3,3,"span",6),s.qZA(),s.YNc(10,zs,2,5,"div",7),s.YNc(11,$s,2,1,"div",6),s.qZA(),s.YNc(12,sr,7,7,"div",8),s.TgZ(13,"div",9)(14,"save-to-list-button",10),s.NdJ("clickSave",function(){return F.clickSave()}),s.qZA(),s.YNc(15,ar,1,1,"crm-push-button",11),s.ALo(16,"async"),s.YNc(17,rr,2,0,"span",12),s.TgZ(18,"thumbs-feedback",13),s.NdJ("clickThumbsUp",function(){return F.clickThumbsUp()})("clickThumbsDown",function(){return F.clickThumbsDown()}),s.qZA()()),2&A&&(s.xp6(1),s.Q6J("identifier",F.similarity.entity)("size",40),s.xp6(1),s.Q6J("identifier",F.similarity.entity)("color","accent"),s.xp6(1),s.hij("",F.similarity.entity.value," "),s.xp6(3),s.Q6J("ngIf",F.similarity.entityDetails.locations&&F.similarity.entityDetails.locations.data),s.xp6(1),s.Q6J("ngIf",F.contactsField),s.xp6(1),s.Q6J("ngIf",F.similarity.entityDetails.numEmployees&&F.similarity.entityDetails.numEmployees.data),s.xp6(1),s.Q6J("ngIf",F.similarity.entityDetails.revenueRange&&F.similarity.entityDetails.revenueRange.data),s.xp6(1),s.Q6J("ngIf",F.similarity.entityDetails.categories&&F.similarity.entityDetails.categories.data),s.xp6(1),s.Q6J("ngIf",F.similarity.entityDetails.shortDescription),s.xp6(1),s.Q6J("ngIf",(null==F.source?null:F.source.value)&&(null==F.similarity.entity?null:F.similarity.entity.value)),s.xp6(2),s.Q6J("entityId",F.similarity.entity.uuid)("entityDefId",F.similarity.entity.entity_def_id),s.xp6(1),s.Q6J("ngIf",s.lcZ(16,19,F.isCrmConnected$)),s.xp6(2),s.Q6J("ifBreakpoint","desktop"),s.xp6(1),s.Q6J("feedback",F.feedback)("thumbsUpTooltip",F.thumbsUpTooltip)("thumbsDownTooltip",F.thumbsDownTooltip))},directives:[Li.J,Pn.N,e.O5,K.N,On.n,W.I,i.yS,e.tP,Ze.R,e.iq,e.zE,z.z,Pe.e,$.G,qe.q],pipes:[Rt.t,e.Ov],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:grid;grid-gap:8px;gap:8px}@media (min-width: 960px){[_nghost-%COMP%]{grid-template:"header  header " min-content "details reasons" min-content "details .      " auto "actions actions" max-content/2fr 1fr}}@media (max-width: 960px){[_nghost-%COMP%]{grid-template:"header " min-content "details" auto "reasons" min-content "actions" max-content}}.header-container[_ngcontent-%COMP%]{grid-area:header;display:flex;align-items:center;gap:8px;font-size:20px;line-height:28px;color:#282828;letter-spacing:.1px;font-weight:500;font-family:Roboto,Arial,sans-serif}.details-container[_ngcontent-%COMP%]{grid-area:details}.details-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-bottom:8px}.details-container[_ngcontent-%COMP%]   .inline-list[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:not(:last-child):after{content:"\\2022";margin:0 4px}.industries[_ngcontent-%COMP%]   chip[_ngcontent-%COMP%]{margin-bottom:4px}.industries[_ngcontent-%COMP%]   chip[_ngcontent-%COMP%]:not(:last-child){margin-right:4px}.industries[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:500}.reasons-container[_ngcontent-%COMP%]{grid-area:reasons;background-color:#e3edff;color:#282828;border-radius:4px;padding:16px}.actions-container[_ngcontent-%COMP%]{grid-area:actions;display:inline-flex;gap:8px;align-items:center;padding-top:8px}.feedback-label[_ngcontent-%COMP%]{font-weight:500}'],changeDetection:0}),R})();function cr(R,Oe){if(1&R){const A=s.EpF();s.TgZ(0,"div",2)(1,"org-similarity-card-item",3),s.NdJ("userFeedbackEvent",function(Ee){const Xe=s.CHM(A).ngForOf;return s.oxw().handleFeedback(Ee,Xe)}),s.qZA()()}if(2&R){const A=Oe.$implicit,F=s.oxw();s.xp6(1),s.Q6J("source",F.entity.properties.identifier)("similarity",A)("feedback",A.feedback)}}function lr(R,Oe){1&R&&(s.TgZ(0,"upsell-modal-button",7),s.SDv(1,8),s.qZA())}function dr(R,Oe){if(1&R){const A=s.EpF();s.TgZ(0,"button",10),s.NdJ("click",function(){return s.CHM(A),s.oxw(3).setShowMore()}),s.TgZ(1,"label-with-icon",11),s.SDv(2,12),s.qZA()()}2&R&&(s.xp6(1),s.Q6J("iconKey","icon_caret_down")("iconAfter",!0))}function $a(R,Oe){if(1&R){const A=s.EpF();s.TgZ(0,"button",10),s.NdJ("click",function(){return s.CHM(A),s.oxw(3).setShowFewer()}),s.TgZ(1,"label-with-icon",11),s.SDv(2,13),s.qZA()()}2&R&&(s.xp6(1),s.Q6J("iconKey","icon_caret_up")("iconAfter",!0))}function Xs(R,Oe){if(1&R&&(s.ynx(0),s.YNc(1,dr,3,2,"button",9),s.ALo(2,"async"),s.YNc(3,$a,3,2,"button",9),s.ALo(4,"async"),s.BQk()),2&R){const A=s.oxw(2);s.xp6(1),s.Q6J("ngIf",!s.lcZ(2,2,A.isViewingMore$)),s.xp6(2),s.Q6J("ngIf",s.lcZ(4,4,A.isViewingMore$))}}function _r(R,Oe){if(1&R&&(s.TgZ(0,"div",4),s.YNc(1,lr,2,0,"ng-template",null,5,s.W1O),s.YNc(3,Xs,5,6,"ng-container",6),s.ALo(4,"async"),s.qZA()),2&R){const A=s.MAs(2),F=s.oxw();s.xp6(3),s.Q6J("ngIf",s.lcZ(4,2,F.canViewMore$))("ngIfElse",A)}}let Wa=(()=>{class R{constructor(A,F,Ee,Me){this.store=A,this.globalStore=F,this.usageEventService=Ee,this.toastService=Me,this.hasMoreThanBaseSimilarityCount$=this.store.selectHasMoreThanBaseCount$,this.canViewMore$=this.store.selectCanViewMore$,this.isViewingMore$=this.store.selectIsViewingMore$,this.visibleSimilarities$=this.store.selectVisibleSimilaritiesWithFeedback$,this.trackSimilarityCardItem=(Xe,tt)=>tt.entity.uuid}ngOnChanges(){this.store.patchState({similarities:this.orgSimilarityCardUiData.similarEntities}),this.store.initFeedback(this.entity.properties.identifier.uuid),this.globalStore.dispatch((0,Hs.p9)({action:(0,Hs.il)({entityIds:this.orgSimilarityCardUiData.similarEntities.map(A=>A.entity.uuid)})}))}setShowFewer(){this.store.patchState({isViewingMore:!1})}setShowMore(){this.store.patchState({isViewingMore:!0})}handleFeedback(A,F){this.usageEventService.logUsageEvent("similar_company_feedback",{entity_id:A.similarity.entity.uuid,context_entity_id:this.entity.properties.identifier.uuid,visible_entity_ids:F.map(Me=>Me.entity.uuid).join(","),feedback:A.feedback,score:A.similarity.score});const Ee=this.convertReasonToThumbsState(A.feedback);Ee&&(this.store.giveFeedback(A.similarity,Ee),this.toastService.showToast($localize`Thank you for your feedback! This will be used to update future results.`))}convertReasonToThumbsState(A){switch(A){case we.kA.ReasonEnum.thumbs_up:return"thumbs_up";case we.kA.ReasonEnum.thumbs_down:return"thumbs_down";default:return}}}return R.\u0275fac=function(A){return new(A||R)(s.Y36(Rs.xd),s.Y36(j.yh),s.Y36(Nn.N),s.Y36(st.k))},R.\u0275cmp=s.Xpm({type:R,selectors:[["org-similarity-card"]],inputs:{entity:"entity",orgSimilarityCardUiData:"orgSimilarityCardUiData"},features:[s._Bn([Rs.xd]),s.TTD],decls:4,vars:7,consts:function(){let Oe,A,F;return Oe=$localize`:␟06db8d697b0d6169c0b1a27837d6645ce15b2525␟902707670969307535: Show More `,A=$localize`:␟fa692a779ecd701620a053af169d48ad4fb32f3d␟1398485922654140074: View All `,F=$localize`:␟0d8d2c6e8cbecfb24dab2ce71ae9e234d76a44fb␟887352055243155929: View Fewer `,[["class","similarity-row",4,"ngFor","ngForOf","ngForTrackBy"],["class","view-more-container",4,"ngIf"],[1,"similarity-row"],[3,"source","similarity","feedback","userFeedbackEvent"],[1,"view-more-container"],["upsell",""],[4,"ngIf","ngIfElse"],["featureSet","similar_companies_show_more","triggerLocation","org-similarities-card-view-more"],Oe,["mat-button","","color","primary",3,"click",4,"ngIf"],["mat-button","","color","primary",3,"click"],[3,"iconKey","iconAfter"],A,F]},template:function(A,F){1&A&&(s.YNc(0,cr,2,3,"div",0),s.ALo(1,"async"),s.YNc(2,_r,5,4,"div",1),s.ALo(3,"async")),2&A&&(s.Q6J("ngForOf",s.lcZ(1,3,F.visibleSimilarities$))("ngForTrackBy",F.trackSimilarityCardItem),s.xp6(2),s.Q6J("ngIf",s.lcZ(3,5,F.hasMoreThanBaseSimilarityCount$)))},directives:[e.sg,za,e.O5,En.J,ln.lW,di.d],pipes:[e.Ov],styles:[".similarity-row[_ngcontent-%COMP%]{margin:16px;padding-top:16px;border-top:1px solid rgba(0,0,0,.12)}.similarity-row[_ngcontent-%COMP%]:last-child{padding-bottom:16px}.view-more-container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:8px 8px 16px}"],changeDetection:0}),R})();var ur=t(97186),Ya=t(63304),pr=t(69541),gr=t(35886),Tn=t(3531),Ua=t(90808),wa=t(97010),Ka=t(70821),Va=t(13584),mr=t(4143),Ba=t(42391),hr=t(26435);let fr=(()=>{class R{constructor(A,F,Ee){this.platformService=A,this.routingHelper=F,this.engageService=Ee}handleEngageOpenFromExtension(){if(!this.platformService.isBrowser()||!this.extractFromExtensionQueryParam())return;const F=this.routingHelper.extractAndDeleteQueryParam(Ba.On),Ee=this.routingHelper.extractAndDeleteQueryParam(Ba.yz),Me=this.routingHelper.extractAndDeleteQueryParam(Ba.KN);!F||!Me||this.engageService.sendEmail(F,Me,Ee)}extractFromExtensionQueryParam(){return!!this.routingHelper.extractAndDeleteQueryParam("fromExtension")}}return R.\u0275fac=function(A){return new(A||R)(s.LFG(Zn.m),s.LFG(hr.VP),s.LFG(Ka.q7))},R.\u0275prov=s.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})();var vr=t(19250),Cr=t(22152),yr=t(20979),Sr=t(23216),Ja=t(5419),Ir=t(33550);let Tr=(()=>{class R{constructor(A){this.store=A,this.orgUuid$=this.store.select(Tn.Nb),this.searchOption$=this.store.select(Tn.Ys).pipe((0,T.U)(F=>Sr.JH[F])),this.searchOptionKey$=this.store.select(Tn.Ys),this.searchValues$=this.store.select(Tn.PQ),this.excludeUuids$=this.searchValues$.pipe((0,T.U)(F=>F.map(Ee=>Ee.uuid))),this.searchLoadingError$=this.store.select(Tn.Yr)}handleSetSearchOptionKey(A){this.store.dispatch((0,Tn.zJ)({value:A}))}handleAddSearchValue(A){this.store.dispatch((0,Tn.MJ)({value:A}))}handleUpdateSelectedStaticSearchValues(A){this.store.dispatch((0,Ja.C_)({values:A}))}handleRemoveSearchValue(A){this.store.dispatch((0,Tn.UT)({value:A}))}handleToggleOnlyUnlockedContacts(A){this.store.dispatch((0,Ja.BP)({showOnlyUnlockedContacts:A}))}}return R.\u0275fac=function(A){return new(A||R)(s.Y36(j.yh))},R.\u0275cmp=s.Xpm({type:R,selectors:[["contacts-card-search"]],decls:7,vars:19,consts:[[3,"showShowMyContactsCheckbox","orgUuid","searchOption","searchOptionKey","searchValues","excludeUuids","searchLoadingError","onSetSearchOptionKey","onAddSearchValue","onUpdateSelectedStaticSearchValues","onRemoveSearchValue","onToggleOnlyUnlockedContacts"]],template:function(A,F){1&A&&(s.TgZ(0,"contacts-search",0),s.NdJ("onSetSearchOptionKey",function(Me){return F.handleSetSearchOptionKey(Me)})("onAddSearchValue",function(Me){return F.handleAddSearchValue(Me)})("onUpdateSelectedStaticSearchValues",function(Me){return F.handleUpdateSelectedStaticSearchValues(Me)})("onRemoveSearchValue",function(Me){return F.handleRemoveSearchValue(Me)})("onToggleOnlyUnlockedContacts",function(Me){return F.handleToggleOnlyUnlockedContacts(Me)}),s.ALo(1,"async"),s.ALo(2,"async"),s.ALo(3,"async"),s.ALo(4,"async"),s.ALo(5,"async"),s.ALo(6,"async"),s.qZA()),2&A&&s.Q6J("showShowMyContactsCheckbox",!0)("orgUuid",s.lcZ(1,7,F.orgUuid$))("searchOption",s.lcZ(2,9,F.searchOption$))("searchOptionKey",s.lcZ(3,11,F.searchOptionKey$))("searchValues",s.lcZ(4,13,F.searchValues$))("excludeUuids",s.lcZ(5,15,F.excludeUuids$))("searchLoadingError",s.lcZ(6,17,F.searchLoadingError$))},directives:[Ir.w],pipes:[e.Ov],encapsulation:2,changeDetection:0}),R})();var Qa=t(97252),Ar=t(62826),ja=t(70898);let Or=(()=>{class R{constructor(A){this.store=A,this.contactsLoading$=this.store.select(Tn.Y),this.anyContactIsUnlocking$=this.store.select(Ua.O3)}ngOnChanges(){this.contactIsUnlocking$=this.store.select((0,Ua.on)(this.contactState.contact.uuid))}unlock(A){this.store.dispatch((0,Tn.U$)({contactId:this.contactState.contact.uuid,triggerLocation:A}))}}return R.\u0275fac=function(A){return new(A||R)(s.Y36(j.yh))},R.\u0275cmp=s.Xpm({type:R,selectors:[["contacts-card-row"]],inputs:{contactState:"contactState",organizationId:"organizationId"},features:[s.TTD],decls:6,vars:14,consts:[[3,"contact"],[3,"contactState","organizationId"],[3,"contactState","contactIsUnlocking","contactsLoading","anyContactIsUnlocking","organizationId","onUnlockClick"]],template:function(A,F){1&A&&(s._UZ(0,"contact-details",0)(1,"contact-items-details",1),s.TgZ(2,"contacts-card-actions",2),s.NdJ("onUnlockClick",function(Me){return F.unlock(Me)}),s.ALo(3,"async"),s.ALo(4,"async"),s.ALo(5,"async"),s.qZA()),2&A&&(s.Q6J("contact",F.contactState.contact),s.xp6(1),s.Q6J("contactState",F.contactState)("organizationId",F.organizationId),s.xp6(1),s.Q6J("contactState",F.contactState)("contactIsUnlocking",s.lcZ(3,8,F.contactIsUnlocking$))("contactsLoading",s.lcZ(4,10,F.contactsLoading$))("anyContactIsUnlocking",s.lcZ(5,12,F.anyContactIsUnlocking$))("organizationId",F.organizationId))},directives:[Qa.a,Ar.I,ja.C],pipes:[e.Ov],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;border-top:1px solid rgba(0,0,0,.12);padding:16px 0}@media (min-width: 960px){[_nghost-%COMP%]{flex-direction:row;align-items:flex-start}}contact-details[_ngcontent-%COMP%], contact-items-details[_ngcontent-%COMP%], contacts-card-actions[_ngcontent-%COMP%]{min-width:0}contact-details[_ngcontent-%COMP%]:not(:last-child), contact-items-details[_ngcontent-%COMP%]:not(:last-child), contacts-card-actions[_ngcontent-%COMP%]:not(:last-child){margin-bottom:8px}@media (min-width: 960px){contact-details[_ngcontent-%COMP%]:not(:last-child), contact-items-details[_ngcontent-%COMP%]:not(:last-child), contacts-card-actions[_ngcontent-%COMP%]:not(:last-child){margin-bottom:0}}contact-details[_ngcontent-%COMP%], contact-items-details[_ngcontent-%COMP%]{flex:1}contacts-card-actions[_ngcontent-%COMP%]{flex:0 0 auto}@media (min-width: 960px){contact-details[_ngcontent-%COMP%]{margin-right:20px}contacts-card-actions[_ngcontent-%COMP%]{margin-right:20px}}@media (max-width: 960px){contacts-card-actions[_ngcontent-%COMP%]{margin-top:20px}}"],changeDetection:0}),R})();function Pr(R,Oe){1&R&&(s.TgZ(0,"div",6),s._UZ(1,"contacts-credits")(2,"contacts-meter-upsell-button",7),s.qZA())}function qa(R,Oe){1&R&&s._UZ(0,"contacts-banner")}function ea(R,Oe){1&R&&s._UZ(0,"contacts-card-search")}function br(R,Oe){if(1&R&&s._UZ(0,"contacts-card-row",17),2&R){const A=Oe.$implicit,F=s.oxw(4);s.Q6J("contactState",A)("organizationId",F.contactsCardUiData.orgUuid)}}function Lr(R,Oe){1&R&&(s.TgZ(0,"div",18),s._UZ(1,"mat-spinner",19),s.qZA()),2&R&&(s.xp6(1),s.Q6J("diameter",32))}function Mr(R,Oe){1&R&&(s.TgZ(0,"div",20)(1,"label-with-icon",21),s.SDv(2,22),s.qZA()())}function Dr(R,Oe){if(1&R){const A=s.EpF();s.TgZ(0,"progress-button",23),s.NdJ("onClick",function(){return s.CHM(A),s.oxw(4).viewMore()}),s.ALo(1,"translate"),s.ALo(2,"async"),s.qZA()}if(2&R){const A=s.oxw(4);s.Q6J("label",s.lcZ(1,3,"CBL.ENTITY.CONTACTS_CARD.SHOW_MORE"))("hideLabelOnMobile",!1)("isLoading",s.lcZ(2,5,A.viewMoreLoading$))}}function xr(R,Oe){1&R&&(s.TgZ(0,"upsell-modal-button",24),s._uU(1),s.ALo(2,"translate"),s.qZA()),2&R&&(s.Q6J("showDetails",!0),s.xp6(1),s.hij(" ",s.lcZ(2,2,"CBL.ENTITY.CONTACTS_CARD.SHOW_MORE")," "))}const ka=function(R,Oe){return{count:R,total:Oe}};function Mn(R,Oe){if(1&R&&(s.ynx(0),s.TgZ(1,"div",8),s.YNc(2,br,1,2,"contacts-card-row",9),s.YNc(3,Lr,2,1,"div",10),s.ALo(4,"async"),s.qZA(),s.YNc(5,Mr,3,0,"div",11),s.ALo(6,"async"),s.TgZ(7,"div",12),s._UZ(8,"span",13),s.YNc(9,Dr,3,7,"progress-button",14),s.ALo(10,"async"),s.ALo(11,"async"),s.YNc(12,xr,3,4,"upsell-modal-button",15),s.ALo(13,"async"),s.ALo(14,"async"),s.TgZ(15,"span",16),s._uU(16),s.ALo(17,"translate"),s.ALo(18,"async"),s.qZA()(),s.BQk()),2&R){const A=s.oxw().ngIf,F=s.oxw(2);s.xp6(2),s.Q6J("ngForOf",A),s.xp6(1),s.Q6J("ngIf",s.lcZ(4,6,F.searchLoading$)),s.xp6(2),s.Q6J("ngIf",s.lcZ(6,8,F.viewMoreLoadingError$)),s.xp6(4),s.Q6J("ngIf",s.lcZ(10,10,F.hasMore$)&&s.lcZ(11,12,F.permittedToViewMore$)),s.xp6(3),s.Q6J("ngIf",s.lcZ(13,14,F.hasMore$)&&!s.lcZ(14,16,F.permittedToViewMore$)),s.xp6(4),s.hij(" ",s.xi3(17,18,"CBL.ENTITY.CONTACTS_CARD.SHOW_COUNT",s.WLB(23,ka,A.length,s.lcZ(18,21,F.total$)))," ")}}const si=function(R){return{companyName:R}};function Rr(R,Oe){if(1&R&&(s.ynx(0),s.TgZ(1,"h3"),s._uU(2),s.ALo(3,"translate"),s.qZA(),s.TgZ(4,"div",27),s.SDv(5,28),s.qZA(),s.TgZ(6,"a",29),s.SDv(7,30),s.qZA(),s.BQk()),2&R){const A=s.oxw(4);s.xp6(2),s.hij(" ",s.xi3(3,1,"CBL.ENTITY.CONTACTS_CARD.EMPTY_STATE.HEADER",s.VKq(4,si,A.entity.properties.identifier.value))," ")}}function ta(R,Oe){1&R&&(s.TgZ(0,"h3"),s.SDv(1,31),s.qZA())}function ai(R,Oe){1&R&&(s.TgZ(0,"div",18),s._UZ(1,"mat-spinner",19),s.qZA()),2&R&&(s.xp6(1),s.Q6J("diameter",32))}function Nr(R,Oe){if(1&R&&(s.TgZ(0,"div",25),s._UZ(1,"cb-image",26),s.YNc(2,Rr,8,6,"ng-container",0),s.ALo(3,"async"),s.YNc(4,ta,2,0,"h3",0),s.ALo(5,"async"),s.ALo(6,"async"),s.YNc(7,ai,2,1,"div",10),s.ALo(8,"async"),s.qZA()),2&R){const A=s.oxw(3);s.xp6(1),s.Q6J("original",!0)("resource",A.emptyContactsImageId)("alt",""),s.xp6(1),s.Q6J("ngIf",s.lcZ(3,6,A.initialLoaded$)),s.xp6(2),s.Q6J("ngIf",s.lcZ(5,8,A.searchLoaded$)||s.lcZ(6,10,A.searchLoading$)),s.xp6(3),s.Q6J("ngIf",s.lcZ(8,12,A.searchLoading$))}}function Fr(R,Oe){if(1&R&&(s.ynx(0),s.YNc(1,Pr,3,0,"div",3),s.ALo(2,"async"),s.YNc(3,qa,1,0,"contacts-banner",0),s.ALo(4,"async"),s.YNc(5,ea,1,0,"contacts-card-search",0),s.ALo(6,"async"),s.YNc(7,Mn,19,26,"ng-container",4),s.YNc(8,Nr,9,14,"ng-template",null,5,s.W1O),s.BQk()),2&R){const A=Oe.ngIf,F=s.MAs(9),Ee=s.oxw(2);s.xp6(1),s.Q6J("ngIf",s.lcZ(2,5,Ee.selectShowContactCredits$)&&A.length),s.xp6(2),s.Q6J("ngIf",s.lcZ(4,7,Ee.showContactsBanner$)&&A.length),s.xp6(2),s.Q6J("ngIf",!(s.lcZ(6,9,Ee.initialLoaded$)&&!A.length)),s.xp6(2),s.Q6J("ngIf",A.length)("ngIfElse",F)}}function Ur(R,Oe){if(1&R&&(s.ynx(0),s.YNc(1,Fr,10,11,"ng-container",0),s.ALo(2,"async"),s.BQk()),2&R){const A=s.oxw();s.xp6(1),s.Q6J("ngIf",s.lcZ(2,1,A.contactsStates$))}}function wr(R,Oe){1&R&&(s.TgZ(0,"div",32),s._UZ(1,"mat-spinner"),s.qZA())}function Br(R,Oe){1&R&&(s.TgZ(0,"div",33),s._UZ(1,"theme-icon",34),s.TgZ(2,"span"),s.SDv(3,35),s.qZA()())}let Xa=(()=>{class R{constructor(A,F,Ee,Me,Xe,tt){this.store=A,this.engagePostConnectService=F,this.metaService=Ee,this.permissionService=Me,this.contactsService=Xe,this.extensionEngageService=tt,this.isSoloCardOnPage=!1,this.contactsStates$=(0,Us.aj)([this.store.select(Tn.ai),this.store.select(Ua.WC)]).pipe((0,T.U)(([yt,Ot])=>yt.map(xt=>{const jt=Ot[xt.contact.uuid];if(jt){const tn=this.contactsService.mergeWithUnlockedContact(xt.details,jt);return Object.assign(Object.assign({},xt),{details:tn})}return xt})),(0,dn.d)({bufferSize:1,refCount:!0})),this.initialLoading$=this.store.select(Tn.af),this.initialLoadingError$=this.store.select(Tn.kD),this.searchLoading$=this.store.select(Tn.o8),this.viewMoreLoading$=this.store.select(Tn.NH),this.viewMoreLoadingError$=this.store.select(Tn.tQ),this.hasMore$=this.store.select(Tn.Fz),this.permittedToViewMore$=this.permissionService.getPermissions().pipe((0,T.U)(yt=>yt.canViewMoreContacts())),this.total$=this.store.select(Tn.yq),this.emptyContactsImageId=wa.Wh.emptyContacts,this.searchLoaded$=this.store.select(Tn.gq),this.initialLoaded$=this.store.select(Tn.hk),this.showContactsBanner$=this.store.select(Tn.PB),this.selectShowContactCredits$=this.store.select(Tn.Mi)}ngOnChanges(){const{orgUuid:A,hasContacts:F}=this.contactsCardUiData;this.store.dispatch((0,Tn.oD)({orgUuid:A,hasData:F})),!F&&this.isSoloCardOnPage&&this.metaService.setNoIndex()}ngOnInit(){this.engagePostConnectService.handleConnectEmailRedirect(),this.extensionEngageService.handleEngageOpenFromExtension(),this.store.dispatch((0,Va.Yn)())}viewMore(){this.store.dispatch((0,Tn.yX)())}}return R.\u0275fac=function(A){return new(A||R)(s.Y36(j.yh),s.Y36(Ka.td),s.Y36(Uo.R),s.Y36(at.$),s.Y36(mr.P),s.Y36(fr))},R.\u0275cmp=s.Xpm({type:R,selectors:[["contacts-card"]],inputs:{contactsCardUiData:"contactsCardUiData",entity:"entity",isSoloCardOnPage:"isSoloCardOnPage"},features:[s.TTD],decls:7,vars:11,consts:function(){let Oe,A,F,Ee,Me;return Oe=$localize`:␟770d661bc356eebde32d296ff66c57532988b5c2␟6030006737073200553: There was an issue fetching more contacts `,A=$localize`:␟2a76a1e851e27d40abaf3c312eb55cb821650899␟8829895194267856881:Find more contact data in Search!`,F=$localize`:␟7b27a0883356b263c062c1ecb9c4d01b61dbeabe␟2479931882578943769: Get started `,Ee=$localize`:␟94188e8e0190b52983e1d0f9d02303483981e2ef␟6143317808457819860: No results found `,Me=$localize`:␟df50715a5c4c77df500b970bf385d2d73f78a9be␟3345075198206244741:Sorry, there was an error loading contacts for this company. Please try again or contact support.`,[[4,"ngIf"],["class","loading",4,"ngIf"],["class","error-loading",4,"ngIf"],["class","contacts-credits",4,"ngIf"],[4,"ngIf","ngIfElse"],["empty",""],[1,"contacts-credits"],["buttonStyle","stroked"],[1,"contact-rows"],[3,"contactState","organizationId",4,"ngFor","ngForOf"],["class","search-loading",4,"ngIf"],["class","view-more-error",4,"ngIf"],[1,"footer"],[1,"spacer"],["class","view-more","color","primary","iconKey","icon_caret_down",3,"label","hideLabelOnMobile","isLoading","onClick",4,"ngIf"],["featureSet","contacts_card_show_more","triggerLocation","contact-card-show-more","buttonType","basic",3,"showDetails",4,"ngIf"],[1,"view-count"],[3,"contactState","organizationId"],[1,"search-loading"],[3,"diameter"],[1,"view-more-error"],["iconKey","icon_exclamation_enclosed_round","iconColor","inherit"],Oe,["color","primary","iconKey","icon_caret_down",1,"view-more",3,"label","hideLabelOnMobile","isLoading","onClick"],["featureSet","contacts_card_show_more","triggerLocation","contact-card-show-more","buttonType","basic",3,"showDetails"],[1,"empty-state"],[3,"original","resource","alt"],[1,"body-text"],A,["data-heap-contacts-ftux-cta","","mat-raised-button","","color","primary","routerLink","/discover/contacts"],F,Ee,[1,"loading"],[1,"error-loading"],["themeId","error","color","warn","size","large"],Me]},template:function(A,F){1&A&&(s.YNc(0,Ur,3,3,"ng-container",0),s.ALo(1,"async"),s.ALo(2,"async"),s.YNc(3,wr,2,0,"div",1),s.ALo(4,"async"),s.YNc(5,Br,4,0,"div",2),s.ALo(6,"async")),2&A&&(s.Q6J("ngIf",!s.lcZ(1,3,F.initialLoading$)&&!s.lcZ(2,5,F.initialLoadingError$)),s.xp6(3),s.Q6J("ngIf",s.lcZ(4,7,F.initialLoading$)),s.xp6(2),s.Q6J("ngIf",s.lcZ(6,9,F.initialLoadingError$)))},directives:[e.O5,vr.c,Cr.S,yr.x,Tr,e.sg,Or,_i.Ou,di.d,At.l,En.J,Qt.q,On.n,ln.zs,i.yS,ro.p],pipes:[e.Ov,q.X],styles:["[_nghost-%COMP%]{display:block;padding:0 16px}.contact-rows[_ngcontent-%COMP%]{position:relative}contacts-banner[_ngcontent-%COMP%]{margin:20px 0}contacts-card-row[_ngcontent-%COMP%]{padding:20px 0}.contacts-credits[_ngcontent-%COMP%]{margin-bottom:20px}.search-loading[_ngcontent-%COMP%]{background-color:#ffffff80;position:absolute;top:0;right:0;bottom:0;left:0;display:flex;justify-content:center;padding-top:32px}.view-more-error[_ngcontent-%COMP%]{background-color:#f8e7e7;color:#282828;margin:8px 0;padding:8px;text-align:center;border-radius:4px}.footer[_ngcontent-%COMP%]{padding:20px 0;display:flex;align-items:center}.footer[_ngcontent-%COMP%]   .spacer[_ngcontent-%COMP%], .footer[_ngcontent-%COMP%]   .view-count[_ngcontent-%COMP%]{flex:1 1 100%}.footer[_ngcontent-%COMP%]   .view-count[_ngcontent-%COMP%]{text-align:right;font-size:13px;line-height:20px;color:#666;letter-spacing:.2px;font-weight:400;font-family:Roboto,Arial,sans-serif}.footer[_ngcontent-%COMP%]   .view-more[_ngcontent-%COMP%]{flex:0 0 auto;padding-bottom:16px}.empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;position:relative;padding-bottom:48px}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px;line-height:24px;color:#282828;letter-spacing:.3px;font-weight:500;font-family:Roboto,Arial,sans-serif;padding:20px 0 0}.empty-state[_ngcontent-%COMP%]   .body-text[_ngcontent-%COMP%]{font-size:14px;line-height:20px;color:#282828;letter-spacing:.2px;font-weight:400;font-family:Roboto,Arial,sans-serif;margin:16px 0}.loading[_ngcontent-%COMP%]{display:flex;justify-content:center;padding-top:48px;min-height:400px}.error-loading[_ngcontent-%COMP%]{display:flex;padding:20px 0 32px}.error-loading[_ngcontent-%COMP%]   theme-icon.warn[_ngcontent-%COMP%]{margin-right:8px}"],changeDetection:0}),R})();var kr=t(30807),Hr=t(19575);function Gr(R,Oe){if(1&R&&s._UZ(0,"contacts-card-disabled-email",10),2&R){const A=s.oxw();s.Q6J("emailCount",A.uiData.emailCount)("contactIsUpdateable",!1)("onlyLocked",!0)}}function er(R,Oe){if(1&R&&s._UZ(0,"contacts-card-disabled-phone",11),2&R){const A=s.oxw();s.Q6J("phoneCount",A.uiData.phoneCount)("contactIsUpdateable",!1)("onlyLocked",!0)}}function Zr(R,Oe){if(1&R&&(s.TgZ(0,"a",12),s.SDv(1,13),s.qZA()),2&R){const A=s.oxw();s.Q6J("routerLink",A.uiData.routeToContacts)}}const tr=function(R){return{name:R}};let Ws=(()=>{class R{constructor(A){this.imageService=A,this.backgroundImage=`url('${this.imageService.getOriginalPublicImageUrl(wa.Wh.proBackground)}')`}}return R.\u0275fac=function(A){return new(A||R)(s.Y36(wa.AJ))},R.\u0275cmp=s.Xpm({type:R,selectors:[["contacts-summary-card"]],hostVars:2,hostBindings:function(A,F){2&A&&s.Udp("background-image",F.backgroundImage)},inputs:{uiData:"uiData"},decls:14,vars:16,consts:function(){let Oe;return Oe=$localize`:␟624268176cb551c00bf77b9bf4751884cfdbf129␟5987997457690912329: View All Contacts `,[[1,"headline"],[1,"details"],[1,"contact-info"],[3,"contact"],[1,"contact-items-details"],[3,"emailCount","contactIsUpdateable","onlyLocked",4,"ngIf"],[3,"phoneCount","contactIsUpdateable","onlyLocked",4,"ngIf"],[1,"description-and-cta"],[1,"description"],["mat-raised-button","","color","primary",3,"routerLink",4,"ngIf"],[3,"emailCount","contactIsUpdateable","onlyLocked"],[3,"phoneCount","contactIsUpdateable","onlyLocked"],["mat-raised-button","","color","primary",3,"routerLink"],Oe]},template:function(A,F){1&A&&(s.TgZ(0,"span",0),s._uU(1),s.ALo(2,"translate"),s.qZA(),s.TgZ(3,"div",1)(4,"mat-card",2),s._UZ(5,"contact-details",3),s.TgZ(6,"div",4),s.YNc(7,Gr,1,3,"contacts-card-disabled-email",5),s.YNc(8,er,1,3,"contacts-card-disabled-phone",6),s.qZA()(),s.TgZ(9,"div",7)(10,"div",8),s._uU(11),s.ALo(12,"translate"),s.qZA(),s.YNc(13,Zr,2,1,"a",9),s.qZA()()),2&A&&(s.xp6(1),s.Oqu(s.xi3(2,6,"CBL.ENTITY.CONTACTS_SUMMARY_CARD.HEADLINE",s.VKq(12,tr,F.uiData.orgName))),s.xp6(4),s.Q6J("contact",F.uiData.contact),s.xp6(2),s.Q6J("ngIf",F.uiData.emailCount),s.xp6(1),s.Q6J("ngIf",F.uiData.phoneCount),s.xp6(3),s.hij(" ",s.xi3(12,9,"CBL.ENTITY.CONTACTS_SUMMARY_CARD.DESCRIPTION",s.VKq(14,tr,F.uiData.orgName))," "),s.xp6(2),s.Q6J("ngIf",F.uiData.routeToContacts))},directives:[Jt.a8,Qa.a,e.O5,kr.G,Hr.k,On.n,ln.zs,i.yS],pipes:[q.X],styles:["[_nghost-%COMP%]{display:block;padding:20px;color:#282828;box-shadow:0 3px 3px -2px #0003,0 3px 4px #00000024,0 1px 8px #0000001f;border-radius:4px;background-size:cover;background-position:bottom}.headline[_ngcontent-%COMP%]{display:inline-block;font-size:20px;line-height:28px;color:#282828;letter-spacing:.1px;font-weight:500;font-family:Roboto,Arial,sans-serif;margin-bottom:16px}.contact-info[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;padding:8px;margin-bottom:20px;min-height:110px}.contact-info[_ngcontent-%COMP%]   contact-details[_ngcontent-%COMP%]{flex:1 1 auto}.contact-info[_ngcontent-%COMP%]   .contact-items-details[_ngcontent-%COMP%]{flex:1 0 auto}.contact-info[_ngcontent-%COMP%]   contact-details[_ngcontent-%COMP%], .contact-info[_ngcontent-%COMP%]   .contact-items-details[_ngcontent-%COMP%]{margin:8px}.description-and-cta[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-top:16px}@media (min-width: 600px){.headline[_ngcontent-%COMP%]{font-size:24px;line-height:34px;color:#282828;letter-spacing:.1px;font-weight:500;font-family:Roboto,Arial,sans-serif}.details[_ngcontent-%COMP%]{display:flex;align-items:center}.details[_ngcontent-%COMP%]   .contact-info[_ngcontent-%COMP%], .details[_ngcontent-%COMP%]   .description-and-cta[_ngcontent-%COMP%]{flex:1}.details[_ngcontent-%COMP%]   .contact-info[_ngcontent-%COMP%]{margin-bottom:0;margin-right:20px}}.entity-loading[_nghost-%COMP%]   .headline[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   .headline[_ngcontent-%COMP%], .entity-loading[_nghost-%COMP%]   .description[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   .description[_ngcontent-%COMP%]{background-color:#e9e9e9!important;color:transparent!important}.entity-loading[_nghost-%COMP%]   a[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   a[_ngcontent-%COMP%]{visibility:hidden}"],changeDetection:0}),R})(),zr=(()=>{class R{}return R.\u0275fac=function(A){return new(A||R)},R.\u0275mod=s.oAB({type:R}),R.\u0275inj=s.cJS({providers:[{provide:h.$b,useValue:Q}],imports:[[e.ez,v.Y,p.q,l.Dt,y.I,d.n,on.x,g.H,f.N,i.Bz,a.C,c.A,r.r,o.HC,_.m,n.i,m.b,Mt.X,Bt.S,yn.H,Ra.l,Ei.d,$n.L,jn,rn.f,xa.u,ur.L,Na.V,Fa.S,Ya.v]]}),R})();s.B6R(Q,[e.mk,No.z,e.O5,e.sg,ao.E,Po.d,z.z,ln.lW,Dn.o],[q.X]),s.B6R(ao.E,[e.O5,gr.j,ro.p,Mi,e.tP,e.sg,e.RF,e.n9,mt,Ie,bt,e.mk,Wt.G,sn.T,Lo,ss,xo,Wa,fs,Ms,pr.I,pt,To,G,_s,Xi,Ln,Da,Xa,Ws],[q.X,e.i8])},92536:(oe,L,t)=>{t.d(L,{G:()=>_});var e=t(3184),i=t(49837),p=t(45857),l=t(36362),y=t(87317),d=t(74160);const g=["descriptionContainer"];function f(n,m){if(1&n&&(e.TgZ(0,"h3"),e._uU(1),e.qZA()),2&n){const v=e.oxw();e.xp6(1),e.hij(" ",v.descriptionCardUiData.labels.name,"\n")}}function a(n,m){if(1&n&&e._UZ(0,"span",5),2&n){const v=e.oxw();e.Q6J("innerHTML",v.overflowDescription,e.oJD)}}function c(n,m){1&n&&(e.TgZ(0,"label-with-icon",8),e.SDv(1,9),e.qZA())}function r(n,m){if(1&n){const v=e.EpF();e.ynx(0),e.TgZ(1,"button",6),e.NdJ("click",function(){return e.CHM(v),e.oxw().toggleDescription()}),e.YNc(2,c,2,0,"label-with-icon",7),e.qZA(),e.BQk()}if(2&n){const v=e.oxw(),h=e.MAs(7);e.xp6(2),e.Q6J("ngIf",!v.isExpanded)("ngIfElse",h)}}function o(n,m){1&n&&(e.TgZ(0,"label-with-icon",10),e.SDv(1,11),e.qZA())}let _=(()=>{class n{constructor(v,h){this.platformService=v,this.router=h,this.isExpanded=!1}ngOnInit(){this.platformService.isBrowser()&&this.setupInternalLinkListener()}ngOnChanges(){this.isExpanded=!1,this.setDescriptions()}toggleDescription(){this.isExpanded=!this.isExpanded}setupInternalLinkListener(){this.descriptionContainer.nativeElement.addEventListener("click",v=>{const h=v.target;h&&h.classList.contains("relative-link")&&(v.preventDefault(),this.router.navigate([h.pathname]))})}setDescriptions(){const[v,h]=this.descriptionCardUiData.splitDescription;this.description=v,this.overflowDescription=h}}return n.\u0275fac=function(v){return new(v||n)(e.Y36(i.m),e.Y36(p.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["description-card"]],viewQuery:function(v,h){if(1&v&&e.Gf(g,7),2&v){let C;e.iGM(C=e.CRH())&&(h.descriptionContainer=C.first)}},inputs:{descriptionCardUiData:"descriptionCardUiData"},features:[e.TTD],decls:8,vars:8,consts:function(){let m,v;return m=$localize`:␟9b934c17e6025b2c09a858c80c3f58c0943cf6a8␟115930618352415341:Read More`,v=$localize`:␟0f5492c7333276e41836b167b31d282f67803898␟4164683707696039088:Read Less`,[[4,"ngIf"],["descriptionContainer",""],[1,"description",3,"innerHTML"],["class","overflow-description",3,"innerHTML",4,"ngIf"],["less",""],[1,"overflow-description",3,"innerHTML"],["mat-button","","color","accent",3,"click"],["iconKey","icon_caret_down",4,"ngIf","ngIfElse"],["iconKey","icon_caret_down"],m,["iconKey","icon_caret_up"],v]},template:function(v,h){1&v&&(e.YNc(0,f,2,1,"h3",0),e.TgZ(1,"div",null,1),e._UZ(3,"span",2),e.YNc(4,a,1,1,"span",3),e.qZA(),e.YNc(5,r,3,2,"ng-container",0),e.YNc(6,o,2,0,"ng-template",null,4,e.W1O)),2&v&&(e.Q6J("ngIf",h.descriptionCardUiData.labels&&h.descriptionCardUiData.labels.name),e.xp6(1),e.ekj("expanded",h.isExpanded),e.xp6(2),e.ekj("has-overflow",h.overflowDescription),e.Q6J("innerHTML",h.description,e.oJD),e.xp6(1),e.Q6J("ngIf",h.overflowDescription),e.xp6(1),e.Q6J("ngIf",h.overflowDescription))},directives:[l.O5,y.lW,d.d],styles:['[_nghost-%COMP%]{display:block;margin:20px 0;padding:0 20px}[_nghost-%COMP%]:last-child{margin-bottom:0;padding-bottom:20px}.description.has-overflow[_ngcontent-%COMP%]  p:last-child:after{content:"..."}.overflow-description[_ngcontent-%COMP%]{display:none}.expanded[_ngcontent-%COMP%]   .description.has-overflow[_ngcontent-%COMP%]  p:last-child{display:inline}.expanded[_ngcontent-%COMP%]   .description.has-overflow[_ngcontent-%COMP%]  p:last-child:after{content:" "}.expanded[_ngcontent-%COMP%]   .overflow-description[_ngcontent-%COMP%]{display:inline}.expanded[_ngcontent-%COMP%]   .overflow-description[_ngcontent-%COMP%]  p:first-child{display:inline}button[_ngcontent-%COMP%]{margin-top:8px}[_nghost-%COMP%]  p:first-child{margin-top:0}[_nghost-%COMP%]  p:last-child{margin-bottom:0}h3[_ngcontent-%COMP%]{font-size:16px;line-height:24px;color:#282828;letter-spacing:.3px;font-weight:500;font-family:Roboto,Arial,sans-serif;margin-bottom:8px;padding:0 20px}.entity-loading[_nghost-%COMP%]   h3[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   h3[_ngcontent-%COMP%], .entity-loading[_nghost-%COMP%]   markup-block[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   markup-block[_ngcontent-%COMP%], .entity-loading[_nghost-%COMP%]   span[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   span[_ngcontent-%COMP%]{background-color:#e9e9e9!important;color:transparent!important}.entity-loading[_nghost-%COMP%]   button[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   button[_ngcontent-%COMP%]{visibility:hidden}.entity-loading[_nghost-%COMP%]  p, .entity-loading   [_nghost-%COMP%]  p, .entity-loading[_nghost-%COMP%]  a, .entity-loading   [_nghost-%COMP%]  a{background-color:#e9e9e9!important;color:transparent!important}'],changeDetection:0}),n})()},65085:(oe,L,t)=>{t.d(L,{T:()=>s});var e=t(93443),i=t(71263),p=t(3184),l=t(36362),y=t(990),d=t(74160),g=t(20757),f=t(40089),a=t(57984),c=e.lX.DisplayModeEnum;function r(E,H){if(1&E&&(p.TgZ(0,"h3"),p._uU(1),p.qZA()),2&E){const V=p.oxw();p.xp6(1),p.hij(" ",V.fieldsCardUiData.labels.name,"\n")}}function o(E,H){1&E&&p.GkF(0)}function _(E,H){if(1&E&&(p.ynx(0),p._UZ(1,"label-with-info",9),p.YNc(2,o,1,0,"ng-container",10),p.BQk()),2&E){p.oxw();const V=p.MAs(7),b=p.oxw().$implicit;p.xp6(1),p.Q6J("label",b.label)("description",b.description),p.xp6(1),p.Q6J("ngTemplateOutlet",V)}}function n(E,H){1&E&&p.GkF(0)}const m=function(){return{linkColor:"primary",iconOnly:!0}};function v(E,H){if(1&E&&(p.ynx(0),p.YNc(1,n,1,0,"ng-container",11),p.BQk()),2&E){p.oxw(2);const V=p.MAs(7);p.xp6(1),p.Q6J("ngTemplateOutlet",V)("ngTemplateOutletContext",p.DdM(2,m))}}function h(E,H){if(1&E&&(p.ynx(0),p.YNc(1,v,2,3,"ng-container",0),p.BQk()),2&E){const V=p.oxw(2).$implicit,b=p.oxw();p.xp6(1),p.Q6J("ngIf",b.fieldIsLink(V))}}function C(E,H){1&E&&p.GkF(0)}function S(E,H){if(1&E&&(p.TgZ(0,"label-with-icon",12),p.YNc(1,C,1,0,"ng-container",10),p.qZA()),2&E){p.oxw();const V=p.MAs(5),b=p.MAs(7);p.Q6J("iconTemplate",V),p.xp6(1),p.Q6J("ngTemplateOutlet",b)}}function I(E,H){if(1&E&&p._UZ(0,"theme-icon",13),2&E){const V=p.oxw(2).$implicit;p.Q6J("themeId",null==V.field||null==V.field.display?null:V.field.display.theme_id)("matTooltip",V.label)}}function T(E,H){if(1&E&&p._UZ(0,"field-formatter",14),2&E){const V=H.linkColor,b=H.iconOnly,B=p.oxw(2).$implicit,Q=p.oxw();p.Q6J("field",B.field)("fieldData",B.data)("collectionId",B.collectionId)("queryData",B.fieldQueryData)("iconOnlyLink",!!b)("linkColor",V||"accent")("contextType",Q.contextType)}}function N(E,H){if(1&E&&(p.ynx(0,4),p.YNc(1,_,3,3,"ng-container",5),p.YNc(2,h,2,1,"ng-container",5),p.YNc(3,S,2,2,"label-with-icon",6),p.YNc(4,I,1,2,"ng-template",null,7,p.W1O),p.YNc(6,T,1,7,"ng-template",null,8,p.W1O),p.BQk()),2&E){const V=p.oxw(2);p.Q6J("ngSwitch",V.displayMode),p.xp6(1),p.Q6J("ngSwitchCase",V.DisplayModeEnum.text_and_value),p.xp6(1),p.Q6J("ngSwitchCase",V.DisplayModeEnum.icon),p.xp6(1),p.Q6J("ngSwitchCase",V.DisplayModeEnum.icon_and_value)}}function x(E,H){if(1&E&&(p.TgZ(0,"li"),p.YNc(1,N,8,4,"ng-container",3),p.qZA()),2&E){const V=H.index,b=p.oxw();p.xp6(1),p.Q6J("ngIf",!b.compactMode||V<2)}}let s=(()=>{class E{constructor(){this.compactMode=!1,this.DisplayModeEnum=c,this.contextType=i.Qy.profile}ngOnChanges(){var V;this.displayMode=(null===(V=this.fieldsCardUiData)||void 0===V?void 0:V.displayMode)||c.text_and_value}fieldIsLink(V){var b;return"link"===(null===(b=V.field)||void 0===b?void 0:b.type_id)}}return E.\u0275fac=function(V){return new(V||E)},E.\u0275cmp=p.Xpm({type:E,selectors:[["fields-card"]],inputs:{fieldsCardUiData:"fieldsCardUiData",compactMode:"compactMode"},features:[p.TTD],decls:3,vars:3,consts:[[4,"ngIf"],[3,"ngClass"],[4,"ngFor","ngForOf"],[3,"ngSwitch",4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[3,"iconTemplate",4,"ngSwitchCase"],["icon",""],["field",""],[3,"label","description"],[4,"ngTemplateOutlet"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"iconTemplate"],["color","inherit","matTooltipShowDelay","500",3,"themeId","matTooltip"],[3,"field","fieldData","collectionId","queryData","iconOnlyLink","linkColor","contextType"]],template:function(V,b){1&V&&(p.YNc(0,r,2,1,"h3",0),p.TgZ(1,"ul",1),p.YNc(2,x,2,1,"li",2),p.qZA()),2&V&&(p.Q6J("ngIf",b.fieldsCardUiData.labels&&b.fieldsCardUiData.labels.name),p.xp6(1),p.Q6J("ngClass",b.displayMode),p.xp6(1),p.Q6J("ngForOf",b.fieldsCardUiData.items))},directives:[l.O5,l.mk,l.sg,l.RF,l.n9,y.R,l.tP,d.d,g.p,f.gM,a.N],styles:["[_nghost-%COMP%]{display:block;margin:20px 0;padding:0 20px}[_nghost-%COMP%]:last-child{margin-bottom:0;padding-bottom:20px}ul[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;padding:0;margin:0}fields-card + [_nghost-%COMP%]   ul[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.12);padding-top:20px}.text_and_value[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .icon_and_value[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{box-sizing:border-box;flex:1 1 100%}.text_and_value[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child, .icon_and_value[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{margin-bottom:0}.text_and_value[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:20px}.icon_and_value[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:8px}.icon_and_value[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .icon[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{line-height:0}label-with-icon[_ngcontent-%COMP%]{line-height:normal}.icon[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(:last-child){margin-right:8px}.icon[_ngcontent-%COMP%]   field-formatter[_ngcontent-%COMP%]{display:inline-block}h3[_ngcontent-%COMP%]{font-size:16px;line-height:24px;color:#282828;letter-spacing:.3px;font-weight:500;font-family:Roboto,Arial,sans-serif;margin-bottom:8px;padding:0 20px}label-with-info[_ngcontent-%COMP%]{font-size:14px;line-height:20px;color:#666;letter-spacing:.4px;font-weight:500;font-family:Roboto,Arial,sans-serif}theme-icon[_ngcontent-%COMP%]{color:#666}@media (min-width: 960px){.text_and_value[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{flex:1 1 50%;max-width:50%}.text_and_value[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(odd){padding-right:10px}.text_and_value[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(even){padding-left:10px}.text_and_value[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child, .text_and_value[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-last-child(2):nth-child(odd){margin-bottom:0}}.entity-loading[_nghost-%COMP%]  theme-icon, .entity-loading   [_nghost-%COMP%]  theme-icon{background-color:#e9e9e9!important;color:transparent!important}.entity-loading[_nghost-%COMP%]  label-with-info>span, .entity-loading   [_nghost-%COMP%]  label-with-info>span{background-color:#e9e9e9!important;color:transparent!important}.entity-loading[_nghost-%COMP%]  field-formatter, .entity-loading   [_nghost-%COMP%]  field-formatter, .entity-loading[_nghost-%COMP%]  field-formatter a, .entity-loading   [_nghost-%COMP%]  field-formatter a{background-color:#e9e9e9!important;color:transparent!important}.entity-loading[_nghost-%COMP%]  identifier-image .cb-image-with-placeholder, .entity-loading   [_nghost-%COMP%]  identifier-image .cb-image-with-placeholder{background-image:none!important;background-color:#e9e9e9;border:transparent}.entity-loading[_nghost-%COMP%]  identifier-image .cb-image-with-placeholder img, .entity-loading   [_nghost-%COMP%]  identifier-image .cb-image-with-placeholder img{visibility:hidden}"],changeDetection:0}),E})()},69541:(oe,L,t)=>{t.d(L,{I:()=>k});var e=t(71263),i=t(67177),p=t(75215),l=t(52654),y=t(88759),d=t(59095),g=t(86942),f=t(92938),a=t(85853),c=t(39949),r=t(3184);let o=(()=>{class X extends i.m1{constructor(te,Ie,Te,ce){super({status:"loading",cardId:"",entityUuid:"",activities:[],activitiesCount:0,returnedLessThanMaximum:!1,singleMode:!1,isSoloCardOnPage:!1,isPreview:!1}),this.timelineService=te,this.metadataService=Ie,this.progressService=Te,this.metaService=ce,this.initialize=this.updater((Re,fe)=>{const ye=Object.assign(Object.assign({},Re),{status:"ready",entityUuid:fe.cardData.entityUuid,cardId:fe.cardData.id,activities:this.toDisplayData(fe.cardData.activities),activitiesCount:fe.cardData.activityCount,singleMode:fe.singleMode,isSoloCardOnPage:fe.isSoloCardOnPage,isPreview:fe.isPreview});return this.canShowMore(ye)&&this.showMoreRows(ye),this.checkIfEmpty(ye),ye}),this.setStatus=this.updater((Re,fe)=>Object.assign(Object.assign({},Re),{status:fe})),this.setReturnLessThanMaximum=this.updater((Re,fe)=>Object.assign(Object.assign({},Re),{returnedLessThanMaximum:fe})),this.appendActivities=this.updater((Re,fe)=>Object.assign(Object.assign({},Re),{activities:(0,f.uniqBy)([...Re.activities,...fe],ye=>{var Ge;return null===(Ge=ye.identifier)||void 0===Ge?void 0:Ge.uuid})})),this.showMoreRows=this.effect(Re=>Re.pipe((0,y.b)(fe=>{const{cardId:ye}=fe||this.get();this.progressService.startProgress(ye),this.setStatus("loading")}),(0,d.w)(fe=>{const{entityUuid:ye,activities:Ge}=fe||this.get();return this.timelineService.getEntityActivities$(ye,this.getLastActivityDatetime(Ge),X.SINGLE_CARD_ACTIVITIES_LIMIT).pipe((0,g.U)(at=>[at,fe]))}),(0,i._b)(([fe,ye])=>this.handleResults(fe,ye||void 0),()=>this.setStatus("error")))),this.activities$=this.select(Re=>Re.isPreview?Re.activities.slice(0,X.PREVIEW_ACTIVITIES_LIMIT):Re.activities),this.isActivitiesEmpty$=this.select(Re=>0===Re.activities.length),this.status$=this.select(Re=>Re.status),this.canViewAll$=this.select(Re=>Re.isPreview?Re.activities.length>=X.PREVIEW_ACTIVITIES_LIMIT:Re.activities.length>=l.u.CARD_ENTITY_ACTIVITY_LIMIT),this.canShowMore$=this.select(Re=>this.canShowMore(Re))}ngOnDestroy(){const{cardId:te}=this.get();this.progressService.stopProgress(te)}checkIfEmpty(te){!te.activities.length&&te.isSoloCardOnPage&&this.metaService.setNoIndex()}toDisplayData(te){const Ie=new Set(this.metadataService.getTopLevelCollectionIds());return te.map(Te=>this.addDisplayData(Te,Ie))}handleResults(te,Ie){const{cardId:Te}=Ie||this.get();this.progressService.stopProgress(Te),this.setStatus("ready"),te.length<X.SINGLE_CARD_ACTIVITIES_LIMIT&&this.setReturnLessThanMaximum(!0);const ce=this.toDisplayData(te);this.appendActivities(ce)}addDisplayData(te,Ie){var Te;const ce=this.metadataService.getEntityDef(te.entity_def_id),Re=(null===(Te=null==ce?void 0:ce.display)||void 0===Te?void 0:Te.theme_id)||"default",fe=null==ce?void 0:ce.labels.name,ye=null==ce?void 0:ce.labels.plural.toLowerCase(),Ge=null==ce?void 0:ce.collection_id,at=Ge&&Ie.has(Ge)?["/","discover",Ge]:void 0;return Object.assign(Object.assign({},te),{themeId:Re,name:fe,pluralName:ye,discoverMoreRoute:at})}getLastActivityDatetime(te){const Ie=te[te.length-1];return null==Ie?void 0:Ie.datetime}canShowMore(te){return!!te.singleMode&&!te.returnedLessThanMaximum&&te.activities.length<te.activitiesCount}}return X.PREVIEW_ACTIVITIES_LIMIT=3,X.SINGLE_CARD_ACTIVITIES_LIMIT=100,X.\u0275fac=function(te){return new(te||X)(r.LFG(l.u),r.LFG(p.Do),r.LFG(a.N),r.LFG(c.R))},X.\u0275prov=r.Yz7({token:X,factory:X.\u0275fac}),X})();var _=t(36362),n=t(20757),m=t(57984),v=t(86378),h=t(88670),C=t(97810),S=t(40757),I=t(52727),T=t(46036),N=t(47367),x=t(45857),s=t(74160),E=t(74742),H=t(87317);function V(X,K){if(1&X&&(r.TgZ(0,"h3"),r._uU(1),r.qZA()),2&X){const te=r.oxw(2);r.xp6(1),r.hij(" ",null==te.timelineCardUiData.labels?null:te.timelineCardUiData.labels.name," ")}}function b(X,K){if(1&X&&r._UZ(0,"funding-round",15),2&X){const te=r.oxw().$implicit;r.Q6J("activity",te)("isEntityCard",!0)}}function B(X,K){if(1&X&&r._UZ(0,"acquisition",15),2&X){const te=r.oxw().$implicit;r.Q6J("activity",te)("isEntityCard",!0)}}function Q(X,K){if(1&X&&r._UZ(0,"ipo",15),2&X){const te=r.oxw().$implicit;r.Q6J("activity",te)("isEntityCard",!0)}}function $(X,K){if(1&X&&r._UZ(0,"fund-raise",15),2&X){const te=r.oxw().$implicit;r.Q6J("activity",te)("isEntityCard",!0)}}function W(X,K){if(1&X&&r._UZ(0,"press-reference",15),2&X){const te=r.oxw().$implicit;r.Q6J("activity",te)("isEntityCard",!0)}}function q(X,K){if(1&X&&(r.TgZ(0,"div",16)(1,"a",17),r.SDv(2,18),r.qZA()()),2&X){const te=r.oxw().$implicit;r.xp6(1),r.Q6J("routerLink",te.discoverMoreRoute),r.xp6(1),r.pQV(te.pluralName),r.QtT(2)}}function le(X,K){if(1&X&&(r.TgZ(0,"div",8)(1,"div",9),r._UZ(2,"theme-icon",10),r.TgZ(3,"span"),r._uU(4),r.qZA(),r.TgZ(5,"span"),r._uU(6,"\u2022"),r.qZA(),r._UZ(7,"field-formatter",11),r.qZA(),r.TgZ(8,"div",12),r.YNc(9,b,1,2,"funding-round",13),r.YNc(10,B,1,2,"acquisition",13),r.YNc(11,Q,1,2,"ipo",13),r.YNc(12,$,1,2,"fund-raise",13),r.YNc(13,W,1,2,"press-reference",13),r.YNc(14,q,3,2,"div",14),r.qZA()()),2&X){const te=K.$implicit,Ie=K.last,Te=r.oxw(2);r.ekj("last-row",Ie),r.xp6(2),r.Q6J("themeId",te.themeId),r.xp6(2),r.Oqu(te.name),r.xp6(3),r.Q6J("field",Te.timelineCardUiData.activityField)("fieldData",te.activity_date)("imgSize",18)("contextType",Te.contextType),r.xp6(1),r.Q6J("ngSwitch",te.entity_def_id),r.xp6(1),r.Q6J("ngSwitchCase","funding_round"),r.xp6(1),r.Q6J("ngSwitchCase","acquisition"),r.xp6(1),r.Q6J("ngSwitchCase","ipo"),r.xp6(1),r.Q6J("ngSwitchCase","fund"),r.xp6(1),r.Q6J("ngSwitchCase","press_reference"),r.xp6(1),r.Q6J("ngIf",te.discoverMoreRoute)}}function J(X,K){if(1&X&&(r.TgZ(0,"a",22)(1,"label-with-icon",23),r.SDv(2,24),r.qZA()()),2&X){const te=r.oxw(3);r.Q6J("routerLink",te.route.path),r.xp6(1),r.Q6J("iconAfter",!0)}}const u=function(X,K){return[X,K]};function D(X,K){if(1&X&&(r.TgZ(0,"a",22)(1,"label-with-icon",23),r.SDv(2,25),r.qZA()()),2&X){const te=r.oxw(3);r.Q6J("routerLink",r.WLB(2,u,te.timelineCardUiData.sectionId,te.timelineCardUiData.id)),r.xp6(1),r.Q6J("iconAfter",!0)}}function se(X,K){if(1&X&&(r.TgZ(0,"div",19),r.YNc(1,J,3,2,"a",20),r.YNc(2,D,3,5,"ng-template",null,21,r.W1O),r.qZA()),2&X){const te=r.MAs(3),Ie=r.oxw(2);r.xp6(1),r.Q6J("ngIf",Ie.route)("ngIfElse",te)}}function ne(X,K){1&X&&(r.TgZ(0,"div",26),r.SDv(1,27),r.qZA())}function _e(X,K){1&X&&(r.TgZ(0,"div",28),r._UZ(1,"mat-spinner",29),r.qZA())}function ee(X,K){if(1&X){const te=r.EpF();r.TgZ(0,"div",30)(1,"button",31),r.NdJ("click",function(){return r.CHM(te),r.oxw(2).showMoreRows()}),r.SDv(2,32),r.qZA()()}}function w(X,K){if(1&X&&(r.ynx(0),r.YNc(1,V,2,1,"h3",2),r.YNc(2,le,15,15,"div",3),r.ALo(3,"async"),r.YNc(4,se,4,2,"div",4),r.ALo(5,"async"),r.YNc(6,ne,2,0,"div",5),r.ALo(7,"async"),r.YNc(8,_e,2,0,"div",6),r.ALo(9,"async"),r.YNc(10,ee,3,0,"div",7),r.ALo(11,"async"),r.ALo(12,"async"),r.BQk()),2&X){const te=r.oxw();r.xp6(1),r.Q6J("ngIf",null==te.timelineCardUiData.labels?null:te.timelineCardUiData.labels.name),r.xp6(1),r.Q6J("ngForOf",r.lcZ(3,6,te.activities$)),r.xp6(2),r.Q6J("ngIf",!te.singleMode&&r.lcZ(5,8,te.canViewAll$)),r.xp6(2),r.Q6J("ngIf","error"===r.lcZ(7,10,te.status$)),r.xp6(2),r.Q6J("ngIf","loading"===r.lcZ(9,12,te.status$)),r.xp6(2),r.Q6J("ngIf",te.singleMode&&r.lcZ(11,14,te.canShowMore$)&&"loading"!==r.lcZ(12,16,te.status$))}}function G(X,K){1&X&&(r.TgZ(0,"div",33),r.SDv(1,34),r.qZA())}let k=(()=>{class X{constructor(te){this.timelineStore=te,this.isSoloCardOnPage=!1,this.isPreview=!1,this.activities$=this.timelineStore.activities$,this.isActivitiesEmpty$=this.timelineStore.isActivitiesEmpty$,this.status$=this.timelineStore.status$,this.canViewAll$=this.timelineStore.canViewAll$,this.canShowMore$=this.timelineStore.canShowMore$,this.contextType=e.Qy.profile}ngOnChanges(){this.timelineStore.initialize({cardData:this.timelineCardUiData,singleMode:this.singleMode,isSoloCardOnPage:this.isSoloCardOnPage,isPreview:this.isPreview}),this.route=this.getRouteFromBasePath(this.basePath,this.timelineCardUiData.sectionId)}showMoreRows(){this.timelineStore.showMoreRows()}getRouteFromBasePath(te,Ie){if(te)return{path:[...te,Ie]}}}return X.\u0275fac=function(te){return new(te||X)(r.Y36(o))},X.\u0275cmp=r.Xpm({type:X,selectors:[["inline-timeline-card"]],inputs:{timelineCardUiData:"timelineCardUiData",singleMode:"singleMode",isSoloCardOnPage:"isSoloCardOnPage",isPreview:"isPreview",basePath:"basePath"},features:[r._Bn([o]),r.TTD],decls:4,vars:4,consts:function(){let K,te,Ie,Te,ce,Re;return K=$localize`:␟54ba790dda82666abf340b07e563413d1971d287␟8031404568953026298: Discover more ${"\ufffd0\ufffd"}:INTERPOLATION: `,te=$localize`:␟fa692a779ecd701620a053af169d48ad4fb32f3d␟1398485922654140074: View All `,Ie=$localize`:␟29550433c3d86f0c6a5d5c8e27a5f653357ea46d␟6101673155259306161: View All `,Te=$localize`:␟9eba3095a028b96315a0f27d4b444a1a667bc124␟3758791946988812208: There was an issue with loading news and activities. Please try again later. `,ce=$localize`:␟12ae016223f5580772b2de263bb4c9924458f768␟635534025318427637: Show All `,Re=$localize`:␟1f116852dc60b11d2abd2c38349ea567bad2c370␟5273590336952525839: There is no recent news or activity for this profile. `,[[4,"ngIf","ngIfElse"],["empty",""],[4,"ngIf"],["class","activity-row",3,"last-row",4,"ngFor","ngForOf"],["class","view-all-container",4,"ngIf"],["class","error-container",4,"ngIf"],["class","loading",4,"ngIf"],["class","show-more-container",4,"ngIf"],[1,"activity-row"],[1,"activity-title"],["color","inherit","size","large",3,"themeId"],["collectionId","timelineCardUiData.collectionId",3,"field","fieldData","imgSize","contextType"],[1,"activity-details",3,"ngSwitch"],[3,"activity","isEntityCard",4,"ngSwitchCase"],["class","discover-more-container",4,"ngIf"],[3,"activity","isEntityCard"],[1,"discover-more-container"],["cb-link","primary",3,"routerLink"],K,[1,"view-all-container"],["class","view-all",3,"cb-link","routerLink",4,"ngIf","ngIfElse"],["sectionAndCardViewAll",""],[1,"view-all",3,"cb-link","routerLink"],["iconKey","icon_caret_right",3,"iconAfter"],te,Ie,[1,"error-container"],Te,[1,"loading"],["diameter","24"],[1,"show-more-container"],["mat-button","","color","primary",1,"show-more",3,"click"],ce,[1,"empty-timeline"],Re]},template:function(te,Ie){if(1&te&&(r.YNc(0,w,13,18,"ng-container",0),r.ALo(1,"async"),r.YNc(2,G,2,0,"ng-template",null,1,r.W1O)),2&te){const Te=r.MAs(3);r.Q6J("ngIf",!r.lcZ(1,2,Ie.isActivitiesEmpty$))("ngIfElse",Te)}},directives:[_.O5,_.sg,n.p,m.N,_.RF,_.n9,v.d,h.T,C.z,S.H,I.e,T.n,N.I,x.yS,s.d,E.Ou,H.lW],pipes:[_.Ov],styles:["[_nghost-%COMP%]{display:block;margin:20px 0;padding:0 20px}[_nghost-%COMP%]:last-child{margin-bottom:0;padding-bottom:20px}h3[_ngcontent-%COMP%]{font-size:16px;line-height:24px;color:#282828;letter-spacing:.3px;font-weight:500;font-family:Roboto,Arial,sans-serif;margin-bottom:8px;padding:0 20px}.activity-row[_ngcontent-%COMP%]{border-bottom:1px solid rgba(0,0,0,.12);padding:16px 0}.activity-row[_ngcontent-%COMP%]:first-child{padding-top:0}.activity-row.last-row[_ngcontent-%COMP%]{border-bottom:none;padding-bottom:0}.activity-title[_ngcontent-%COMP%]{margin-bottom:4px;font-size:14px;line-height:20px;color:#666;letter-spacing:.4px;font-weight:500;font-family:Roboto,Arial,sans-serif;display:flex;align-items:center}.activity-title[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-right:4px}.view-all-container[_ngcontent-%COMP%]{display:flex!important;flex-direction:row;justify-content:center;box-sizing:border-box;align-items:center;align-content:center;max-width:100%;padding-top:16px}.view-all-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{max-width:100%;box-sizing:border-box}.view-all[_ngcontent-%COMP%]{text-transform:uppercase}.discover-more-container[_ngcontent-%COMP%]{margin-top:4px}.error-container[_ngcontent-%COMP%]{color:#0000008a;text-align:center;padding:16px}.loading[_ngcontent-%COMP%]{display:flex!important;flex-direction:row;justify-content:center;box-sizing:border-box;align-items:center;align-content:center;max-width:100%;padding:16px}.loading[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{max-width:100%;box-sizing:border-box}.empty-timeline[_ngcontent-%COMP%]{text-align:center;color:#0000008a;padding:16px}.show-more-container[_ngcontent-%COMP%]{display:flex!important;flex-direction:row;justify-content:center;box-sizing:border-box;align-items:center;align-content:center;max-width:100%;padding-top:16px}.show-more-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{max-width:100%;box-sizing:border-box}.show-more-container[_ngcontent-%COMP%]   .show-more[_ngcontent-%COMP%]{box-sizing:border-box;display:flex!important;flex-direction:row;justify-content:flex-start;align-items:center;align-content:center;max-width:100%}.show-more-container[_ngcontent-%COMP%]   .show-more[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{max-width:100%;box-sizing:border-box}.entity-loading[_nghost-%COMP%]   .activity-title[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   .activity-title[_ngcontent-%COMP%], .entity-loading[_nghost-%COMP%]   .activity-details[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   .activity-details[_ngcontent-%COMP%], .entity-loading[_nghost-%COMP%]   .discover-more-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   .discover-more-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background-color:#e9e9e9!important;color:transparent!important}.entity-loading[_nghost-%COMP%]   theme-icon[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   theme-icon[_ngcontent-%COMP%]{visibility:hidden}.entity-loading[_nghost-%COMP%]   .view-all[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   .view-all[_ngcontent-%COMP%], .entity-loading[_nghost-%COMP%]   .show-more[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   .show-more[_ngcontent-%COMP%]{background-color:#e9e9e9!important;color:transparent!important}.entity-loading[_nghost-%COMP%]   .view-all[_ngcontent-%COMP%]   icon[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   .view-all[_ngcontent-%COMP%]   icon[_ngcontent-%COMP%], .entity-loading[_nghost-%COMP%]   .show-more[_ngcontent-%COMP%]   icon[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   .show-more[_ngcontent-%COMP%]   icon[_ngcontent-%COMP%]{visibility:hidden}.entity-loading[_nghost-%COMP%]  funding-round span, .entity-loading   [_nghost-%COMP%]  funding-round span, .entity-loading[_nghost-%COMP%]  funding-round a, .entity-loading   [_nghost-%COMP%]  funding-round a, .entity-loading[_nghost-%COMP%]  acquisition span, .entity-loading   [_nghost-%COMP%]  acquisition span, .entity-loading[_nghost-%COMP%]  acquisition a, .entity-loading   [_nghost-%COMP%]  acquisition a, .entity-loading[_nghost-%COMP%]  ipo span, .entity-loading   [_nghost-%COMP%]  ipo span, .entity-loading[_nghost-%COMP%]  ipo a, .entity-loading   [_nghost-%COMP%]  ipo a, .entity-loading[_nghost-%COMP%]  fund-raise span, .entity-loading   [_nghost-%COMP%]  fund-raise span, .entity-loading[_nghost-%COMP%]  fund-raise a, .entity-loading   [_nghost-%COMP%]  fund-raise a, .entity-loading[_nghost-%COMP%]  press-reference span, .entity-loading   [_nghost-%COMP%]  press-reference span, .entity-loading[_nghost-%COMP%]  press-reference a, .entity-loading   [_nghost-%COMP%]  press-reference a{color:transparent!important}"],changeDetection:0}),X})()},54020:(oe,L,t)=>{t.d(L,{IF:()=>o,xd:()=>n});var e=t(67177),i=t(86942),p=t(88759),l=t(61745),y=t(59151),d=t(59095),g=t(905),f=t(843),a=t(14497),c=t(7323),r=t(3184);const o=3;var _=(()=>{return(m=_||(_={}))[m.LOADING=0]="LOADING",m[m.READY=1]="READY",_;var m})();let n=(()=>{class m extends e.m1{constructor(h,C,S){super({cardStatus:_.READY,isViewingMore:!1,similarities:[],feedbackMap:{}}),this.userService=h,this.permissionService=C,this.recommendationApi=S,this.selectSimilarities$=this.select(I=>I.similarities),this.selectFeedbackMap$=this.select(I=>I.feedbackMap),this.selectCanViewMore$=this.permissionService.getPermissions().pipe((0,i.U)(I=>I.canViewMoreSimilarCompanies())),this.selectIsViewingMore$=this.select(I=>I.isViewingMore),this.selectHasMoreThanBaseCount$=this.select(I=>I.similarities.length>o),this.selectVisibleSimilarities$=this.select(this.selectSimilarities$,this.selectIsViewingMore$,(I,T)=>T?I:I.slice(0,o)),this.selectVisibleSimilaritiesWithFeedback$=this.select(this.selectVisibleSimilarities$,this.selectFeedbackMap$,(I,T)=>I.map(N=>Object.assign(Object.assign({},N),{feedback:T[N.entity.uuid]}))),this.patchFeedback=this.updater((I,T)=>Object.assign(Object.assign({},I),{feedbackMap:Object.assign(Object.assign({},I.feedbackMap),T)})),this.initPermissions=this.effect(()=>this.selectCanViewMore$.pipe((0,p.b)(I=>{this.patchState({isViewingMore:I})}))),this.initFeedback=this.effect(I=>I.pipe((0,l.M)(this.userService.getIsLoggedIn$()),(0,y.h)(([T,N])=>N),(0,p.b)(()=>this.patchState({cardStatus:_.LOADING})),(0,d.w)(([T])=>this.recommendationApi.dataRecommendationsRecommendationTypeRecommendedEntityIdGet$({recommendationType:"similar_companies",recommendedEntityId:T}).pipe((0,e._b)(N=>{this.patchFeedback(this.convertFeedbackEntityArrayToFeedbackMap(N.entities))},()=>{},()=>this.patchState({cardStatus:_.READY})))))),this.giveFeedback=(I,T)=>{this.patchFeedback({[I.entity.uuid]:T})}}convertFeedbackEntityArrayToFeedbackMap(h=[]){const C={};return h.forEach(S=>{C[S.entity_id]=this.convertFeedbackTypeToThumbsState(S.feedback_type)}),C}convertFeedbackTypeToThumbsState(h){switch(h){case a.C.FeedbackTypeEnum.thumbs_up:return"thumbs_up";case a.C.FeedbackTypeEnum.thumbs_down:return"thumbs_down";default:return}}}return m.\u0275fac=function(h){return new(h||m)(r.LFG(c.KD),r.LFG(f.$),r.LFG(g.g))},m.\u0275prov=r.Yz7({token:m,factory:m.\u0275fac}),m})()},85264:(oe,L,t)=>{t.d(L,{E:()=>_e});var e=t(93443),i=t(75215),p=t(58095),l=t(3184);function y(ee,w){if(1&ee&&l._UZ(0,"theme-icon",10),2&ee){const G=l.oxw(3);l.Q6J("themeId",G.themeId)}}function d(ee,w){if(1&ee&&(l.ynx(0,11),l._UZ(1,"profile-section-edit-button",12),l.BQk()),2&ee){const G=l.oxw(3);l.xp6(1),l.Q6J("entity",G.entity)("entityDef",G.entityDef)("sectionName",G.name)}}function g(ee,w){1&ee&&l.GkF(0)}function f(ee,w){if(1&ee&&(l.ynx(0),l.YNc(1,g,1,0,"ng-container",13),l.BQk()),2&ee){l.oxw(3);const G=l.MAs(5);l.xp6(1),l.Q6J("ngTemplateOutlet",G)}}function a(ee,w){if(1&ee&&(l.TgZ(0,"section-card",5),l.YNc(1,y,1,1,"theme-icon",6),l.TgZ(2,"h2",7),l._uU(3),l.qZA(),l.YNc(4,d,2,3,"ng-container",8),l.TgZ(5,"div",9),l.YNc(6,f,2,1,"ng-container",1),l.qZA()()),2&ee){const G=l.oxw(2),k=l.MAs(3);l.Q6J("showHeader",G.showHeader)("isPremium",G.isPremium),l.xp6(1),l.Q6J("ngIf",G.themeId),l.xp6(2),l.Oqu(G.name),l.xp6(1),l.Q6J("ngIf",!G.isInOverviewRow),l.xp6(2),l.Q6J("ngIf",G.sectionCards.length)("ngIfElse",k)}}function c(ee,w){if(1&ee&&(l.ynx(0),l.YNc(1,a,7,7,"section-card",4),l.BQk()),2&ee){const G=l.oxw();l.xp6(1),l.Q6J("ngIf",G.sectionCards.length||G.rootSection)}}function r(ee,w){if(1&ee&&(l.ynx(0),l._uU(1),l.BQk()),2&ee){const G=l.oxw(2);l.xp6(1),l.hij(" ",G.noDataLabel," ")}}const o=function(ee){return{section_name:ee}};function _(ee,w){if(1&ee&&(l.ynx(0),l._uU(1),l.ALo(2,"translate"),l.ALo(3,"lowercase"),l.BQk()),2&ee){const G=l.oxw(2);l.xp6(1),l.hij(" ",l.xi3(2,1,"CBL.ENTITY.EMPTY_SECTION",l.VKq(6,o,l.lcZ(3,4,G.name)))," ")}}function n(ee,w){if(1&ee&&(l.TgZ(0,"div",14),l.YNc(1,r,2,1,"ng-container",15),l.YNc(2,_,4,8,"ng-container",15),l.qZA()),2&ee){const G=l.oxw();l.xp6(1),l.Q6J("ngIf",G.noDataLabel),l.xp6(1),l.Q6J("ngIf",!G.noDataLabel)}}function m(ee,w){if(1&ee&&l._UZ(0,"hero-card",38),2&ee){const G=l.oxw().$implicit,k=l.oxw(2);l.Q6J("heroCardUiData",k.asHeroCard(G))}}function v(ee,w){if(1&ee&&l._UZ(0,"big-values-card",39),2&ee){const G=l.oxw().$implicit,k=l.oxw(2);l.Q6J("bigValuesCardUiData",k.asBigValuesCard(G))}}const h=function(ee){return{"is-last":ee}};function C(ee,w){if(1&ee&&l._UZ(0,"chart-card",40),2&ee){const G=l.oxw(),k=G.last,X=G.$implicit,K=l.oxw(2);l.Q6J("ngClass",l.VKq(5,h,k))("chartCardUiData",K.asChartCard(X))("entity",K.entity)("entityDef",K.entityDef)("sectionId",K.section.id)}}function S(ee,w){if(1&ee&&l._UZ(0,"description-card",41),2&ee){const G=l.oxw().$implicit,k=l.oxw(2);l.Q6J("descriptionCardUiData",k.asDescriptionCard(G))}}function I(ee,w){if(1&ee&&l._UZ(0,"fields-card",42),2&ee){const G=l.oxw().$implicit,k=l.oxw(2);l.Q6J("fieldsCardUiData",k.asFieldsCard(G))("compactMode",k.compactMode)}}function T(ee,w){if(1&ee&&l._UZ(0,"image-list-card",43),2&ee){const G=l.oxw().$implicit,k=l.oxw(2);l.Q6J("entityDef",k.entityDef)("entity",k.entity)("imageListCardUiData",k.asImageListCard(G))("singleMode",k.singleMode)("rootSection",k.rootSection)("limitOverride",k.listCardLimitOverride)("basePath",k.basePath)}}function N(ee,w){if(1&ee&&l._UZ(0,"image-with-fields-card",44),2&ee){const G=l.oxw().$implicit,k=l.oxw(2);l.Q6J("imageWithFieldsCardUiData",k.asImageWithFieldsCard(G))("compactMode",k.compactMode)}}function x(ee,w){if(1&ee&&l._UZ(0,"list-card",45),2&ee){const G=l.oxw(),k=G.$implicit,X=G.first,K=l.oxw(2);l.Q6J("entityDef",K.entityDef)("entity",K.entity)("listCardUiData",K.asListCard(k))("singleMode",K.singleMode)("firstChild",X)("rootSection",K.rootSection)("limitOverride",K.listCardLimitOverride)("basePath",K.basePath)}}function s(ee,w){if(1&ee&&l._UZ(0,"org-similarity-card",46),2&ee){const G=l.oxw().$implicit,k=l.oxw(2);l.Q6J("entity",k.entity)("orgSimilarityCardUiData",k.asOrgSimilarityCard(G))}}function E(ee,w){if(1&ee&&l._UZ(0,"tabs-card",47),2&ee){const G=l.oxw().$implicit,k=l.oxw(2);l.Q6J("tabsCardUiData",k.asTabsCard(G))("entity",k.entity)("entityDef",k.entityDef)("singleMode",k.singleMode)("rootSection",k.rootSection||k.section)("limitOverride",k.listCardLimitOverride)("basePath",k.basePath)}}function H(ee,w){if(1&ee&&l._UZ(0,"timeline-card",48),2&ee){const G=l.oxw(),k=G.$implicit,X=G.first,K=G.last,te=l.oxw(2);l.Q6J("timelineCardUiData",te.asTimelineCard(k))("basePath",te.basePath)("singleMode",te.singleMode)("isPreview",te.isInOverviewRow)("isSoloCardOnPage",X&&K&&te.isSoloSectionOnPage)}}function V(ee,w){if(1&ee&&l._UZ(0,"inline-timeline-card",48),2&ee){const G=l.oxw(),k=G.$implicit,X=G.first,K=G.last,te=l.oxw(2);l.Q6J("timelineCardUiData",te.asInlineTimelineCard(k))("basePath",te.basePath)("singleMode",te.singleMode)("isPreview",te.isInOverviewRow)("isSoloCardOnPage",X&&K&&te.isSoloSectionOnPage)}}function b(ee,w){if(1&ee&&l._UZ(0,"twitter-card",49),2&ee){const G=l.oxw().$implicit,k=l.oxw(2);l.Q6J("twitterCardUiData",k.asTwitterCard(G))}}function B(ee,w){if(1&ee&&l._UZ(0,"iframe-card",50),2&ee){const G=l.oxw().$implicit,k=l.oxw(2);l.Q6J("iframeCardUiData",k.asIframeCard(G))}}function Q(ee,w){if(1&ee&&l._UZ(0,"attribution-card",51),2&ee){const G=l.oxw().$implicit,k=l.oxw(2);l.Q6J("attributionCardUiData",k.asAttributionCard(G))}}function $(ee,w){if(1&ee&&l._UZ(0,"phrase-list-card",52),2&ee){const G=l.oxw().$implicit,k=l.oxw(2);l.Q6J("phraseListCardUiData",k.asPhraseListCard(G))}}function W(ee,w){if(1&ee&&l._UZ(0,"hub-list-card",53),2&ee){const G=l.oxw(),k=G.$implicit,X=G.first,K=l.oxw(2);l.Q6J("entityDef",K.entityDef)("entity",K.entity)("hubListCardUiData",K.asHubListCard(k))("singleMode",K.singleMode)("firstChild",X)("rootSection",K.rootSection)("limitOverride",K.listCardLimitOverride)("basePath",K.basePath)}}function q(ee,w){if(1&ee&&l._UZ(0,"anchored-values",54),2&ee){const G=l.oxw().$implicit,k=l.oxw(2);l.Q6J("anchoredValuesUiData",k.asAnchoredValuesCard(G))}}function le(ee,w){if(1&ee&&l._UZ(0,"pill-list-card",55),2&ee){const G=l.oxw().$implicit,k=l.oxw(2);l.Q6J("pillListCardUiData",k.asPillListCard(G))("entityId",k.entity.properties.identifier.uuid)}}function J(ee,w){if(1&ee&&l._UZ(0,"contacts-card",56),2&ee){const G=l.oxw(),k=G.$implicit,X=G.first,K=G.last,te=l.oxw(2);l.Q6J("entity",te.entity)("contactsCardUiData",te.asContactsCard(k))("isSoloCardOnPage",X&&K&&te.isSoloSectionOnPage)}}function u(ee,w){if(1&ee&&l._UZ(0,"contacts-summary-card",57),2&ee){const G=l.oxw().$implicit,k=l.oxw(2);l.Q6J("uiData",k.asContactsSummaryCard(G))}}function D(ee,w){if(1&ee&&(l.ynx(0)(1,17),l.YNc(2,m,1,1,"hero-card",18),l.YNc(3,v,1,1,"big-values-card",19),l.YNc(4,C,1,7,"chart-card",20),l.YNc(5,S,1,1,"description-card",21),l.YNc(6,I,1,2,"fields-card",22),l.YNc(7,T,1,7,"image-list-card",23),l.YNc(8,N,1,2,"image-with-fields-card",24),l.YNc(9,x,1,8,"list-card",25),l.YNc(10,s,1,2,"org-similarity-card",26),l.YNc(11,E,1,7,"tabs-card",27),l.YNc(12,H,1,5,"timeline-card",28),l.YNc(13,V,1,5,"inline-timeline-card",28),l.YNc(14,b,1,1,"twitter-card",29),l.YNc(15,B,1,1,"iframe-card",30),l.YNc(16,Q,1,1,"attribution-card",31),l.YNc(17,$,1,1,"phrase-list-card",32),l.YNc(18,W,1,8,"hub-list-card",33),l.YNc(19,q,1,1,"anchored-values",34),l.YNc(20,le,1,2,"pill-list-card",35),l.YNc(21,J,1,3,"contacts-card",36),l.YNc(22,u,1,1,"contacts-summary-card",37),l.BQk()()),2&ee){const G=w.$implicit;l.xp6(1),l.Q6J("ngSwitch",G.typeId),l.xp6(1),l.Q6J("ngSwitchCase","hero"),l.xp6(1),l.Q6J("ngSwitchCase","big_values"),l.xp6(1),l.Q6J("ngSwitchCase","chart"),l.xp6(1),l.Q6J("ngSwitchCase","description"),l.xp6(1),l.Q6J("ngSwitchCase","fields"),l.xp6(1),l.Q6J("ngSwitchCase","image_list"),l.xp6(1),l.Q6J("ngSwitchCase","image_with_fields"),l.xp6(1),l.Q6J("ngSwitchCase","list"),l.xp6(1),l.Q6J("ngSwitchCase","org_similarity"),l.xp6(1),l.Q6J("ngSwitchCase","tabs"),l.xp6(1),l.Q6J("ngSwitchCase","timeline"),l.xp6(1),l.Q6J("ngSwitchCase","inline_timeline"),l.xp6(1),l.Q6J("ngSwitchCase","twitter"),l.xp6(1),l.Q6J("ngSwitchCase","iframe"),l.xp6(1),l.Q6J("ngSwitchCase","attribution"),l.xp6(1),l.Q6J("ngSwitchCase","phrase_list"),l.xp6(1),l.Q6J("ngSwitchCase","hub_list"),l.xp6(1),l.Q6J("ngSwitchCase","anchored_values"),l.xp6(1),l.Q6J("ngSwitchCase","pill_list"),l.xp6(1),l.Q6J("ngSwitchCase","contacts"),l.xp6(1),l.Q6J("ngSwitchCase","contacts_summary")}}function se(ee,w){if(1&ee&&l.YNc(0,D,23,22,"ng-container",16),2&ee){const G=l.oxw();l.Q6J("ngForOf",G.sectionCards)("ngForTrackBy",G.trackByCardIdAndIndex)}}let _e=(()=>{class ee{constructor(G){this.metadataService=G,this.compactMode=!1,this.showHeader=!0,this.isInOverviewRow=!1,this.isSoloSectionOnPage=!1,this.isPremium=!1,this.sectionCards=[],this.asAnchoredValuesCard=ee=>ee,this.asAttributionCard=ee=>ee,this.asBigValuesCard=ee=>ee,this.asChartCard=ee=>ee,this.asDescriptionCard=ee=>ee,this.asFieldsCard=ee=>ee,this.asHubListCard=ee=>ee,this.asHeroCard=ee=>ee,this.asIframeCard=ee=>ee,this.asImageListCard=ee=>ee,this.asImageWithFieldsCard=ee=>ee,this.asListCard=ee=>ee,this.asPhraseListCard=ee=>ee,this.asPillListCard=ee=>ee,this.asTabsCard=ee=>ee,this.asTimelineCard=ee=>ee,this.asInlineTimelineCard=ee=>ee,this.asTwitterCard=ee=>ee,this.asContactsCard=ee=>ee,this.asContactsSummaryCard=ee=>ee,this.asOrgSimilarityCard=ee=>ee,this.trackByCardIdAndIndex=(k,X)=>`${X.id}-${k}`}ngOnChanges(){this.setup()}setup(){var G,k;if(this.section){this.name=(null===(G=this.section.labels)||void 0===G?void 0:G.name)||this.section.id,this.themeId=this.section.themeId,this.isPremium=this.getIsPremium(),this.noDataLabel=null===(k=this.section.labels)||void 0===k?void 0:k.no_data;const X=this.section.cardUiDatas||[];this.sectionCards=this.hasBothTimelineCards(X)?X.filter(K=>K.typeId!==e.b.TypeIdEnum.timeline):X}}getIsPremium(){let G=this.metadataService.getTheme(this.themeId),k=null==G?void 0:G.accents;return!!k&&k.indexOf(p.o.AccentsEnum.premium)>=0}hasBothTimelineCards(G){const k=G.some(K=>K.typeId===e.b.TypeIdEnum.inline_timeline),X=G.some(K=>K.typeId===e.b.TypeIdEnum.timeline);return k&&X}}return ee.\u0275fac=function(G){return new(G||ee)(l.Y36(i.Do))},ee.\u0275cmp=l.Xpm({type:ee,selectors:[["profile-section"]],inputs:{entity:"entity",entityDef:"entityDef",section:"section",rootSection:"rootSection",compactMode:"compactMode",showHeader:"showHeader",basePath:"basePath",listCardLimitOverride:"listCardLimitOverride",isInOverviewRow:"isInOverviewRow",singleMode:"singleMode",isSoloSectionOnPage:"isSoloSectionOnPage"},features:[l.TTD],decls:6,vars:3,consts:[[1,"anchor-target"],[4,"ngIf","ngIfElse"],["noData",""],["cards",""],[3,"showHeader","isPremium",4,"ngIf"],[3,"showHeader","isPremium"],[3,"themeId",4,"ngIf"],[1,"section-title"],["section-actions","",4,"ngIf"],[1,"section-content"],[3,"themeId"],["section-actions",""],[3,"entity","entityDef","sectionName"],[4,"ngTemplateOutlet"],[1,"no-data"],[4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"ngSwitch"],[3,"heroCardUiData",4,"ngSwitchCase"],[3,"bigValuesCardUiData",4,"ngSwitchCase"],[3,"ngClass","chartCardUiData","entity","entityDef","sectionId",4,"ngSwitchCase"],[3,"descriptionCardUiData",4,"ngSwitchCase"],[3,"fieldsCardUiData","compactMode",4,"ngSwitchCase"],[3,"entityDef","entity","imageListCardUiData","singleMode","rootSection","limitOverride","basePath",4,"ngSwitchCase"],[3,"imageWithFieldsCardUiData","compactMode",4,"ngSwitchCase"],["class","full-width",3,"entityDef","entity","listCardUiData","singleMode","firstChild","rootSection","limitOverride","basePath",4,"ngSwitchCase"],["class","full-width",3,"entity","orgSimilarityCardUiData",4,"ngSwitchCase"],["class","full-width",3,"tabsCardUiData","entity","entityDef","singleMode","rootSection","limitOverride","basePath",4,"ngSwitchCase"],[3,"timelineCardUiData","basePath","singleMode","isPreview","isSoloCardOnPage",4,"ngSwitchCase"],[3,"twitterCardUiData",4,"ngSwitchCase"],[3,"iframeCardUiData",4,"ngSwitchCase"],["class","full-width",3,"attributionCardUiData",4,"ngSwitchCase"],[3,"phraseListCardUiData",4,"ngSwitchCase"],[3,"entityDef","entity","hubListCardUiData","singleMode","firstChild","rootSection","limitOverride","basePath",4,"ngSwitchCase"],[3,"anchoredValuesUiData",4,"ngSwitchCase"],[3,"pillListCardUiData","entityId",4,"ngSwitchCase"],[3,"entity","contactsCardUiData","isSoloCardOnPage",4,"ngSwitchCase"],[3,"uiData",4,"ngSwitchCase"],[3,"heroCardUiData"],[3,"bigValuesCardUiData"],[3,"ngClass","chartCardUiData","entity","entityDef","sectionId"],[3,"descriptionCardUiData"],[3,"fieldsCardUiData","compactMode"],[3,"entityDef","entity","imageListCardUiData","singleMode","rootSection","limitOverride","basePath"],[3,"imageWithFieldsCardUiData","compactMode"],[1,"full-width",3,"entityDef","entity","listCardUiData","singleMode","firstChild","rootSection","limitOverride","basePath"],[1,"full-width",3,"entity","orgSimilarityCardUiData"],[1,"full-width",3,"tabsCardUiData","entity","entityDef","singleMode","rootSection","limitOverride","basePath"],[3,"timelineCardUiData","basePath","singleMode","isPreview","isSoloCardOnPage"],[3,"twitterCardUiData"],[3,"iframeCardUiData"],[1,"full-width",3,"attributionCardUiData"],[3,"phraseListCardUiData"],[3,"entityDef","entity","hubListCardUiData","singleMode","firstChild","rootSection","limitOverride","basePath"],[3,"anchoredValuesUiData"],[3,"pillListCardUiData","entityId"],[3,"entity","contactsCardUiData","isSoloCardOnPage"],[3,"uiData"]],template:function(G,k){if(1&G&&(l._UZ(0,"span",0),l.YNc(1,c,2,1,"ng-container",1),l.YNc(2,n,3,2,"ng-template",null,2,l.W1O),l.YNc(4,se,1,2,"ng-template",null,3,l.W1O)),2&G){const X=l.MAs(5);l.uIk("id",k.section.id),l.xp6(1),l.Q6J("ngIf",k.section.showChrome)("ngIfElse",X)}},styles:["[_nghost-%COMP%]{display:block}.anchor-target[_ngcontent-%COMP%]{visibility:hidden;position:relative;top:-153px}.no-data[_ngcontent-%COMP%]{padding:16px;text-align:center;color:#0000008a}@media (min-width: 960px){.overview-card[_nghost-%COMP%]  .mat-card, .overview-card   [_nghost-%COMP%]  .mat-card{box-shadow:none}}.entity-loading[_nghost-%COMP%]   .section-title[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   .section-title[_ngcontent-%COMP%]{background-color:#e9e9e9!important;color:transparent!important}.entity-loading[_nghost-%COMP%]  .section-icon-wrapper, .entity-loading   [_nghost-%COMP%]  .section-icon-wrapper{background-color:#e9e9e9!important;color:transparent!important}.entity-loading[_nghost-%COMP%]  .section-icon-wrapper theme-icon, .entity-loading   [_nghost-%COMP%]  .section-icon-wrapper theme-icon{visibility:hidden}.entity-loading[_nghost-%COMP%]   profile-section-edit-button[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   profile-section-edit-button[_ngcontent-%COMP%]{visibility:hidden}"],changeDetection:0}),ee})()},33706:(oe,L,t)=>{t.d(L,{T:()=>g});var e=t(36362),i=t(35503),p=t(90898),l=t(31156),y=t(40337),d=t(3184);let g=(()=>{class f{}return f.\u0275fac=function(c){return new(c||f)},f.\u0275mod=d.oAB({type:f}),f.\u0275inj=d.cJS({imports:[[e.ez,i.Dt,p.q,l.H,y.r]]}),f})()},29847:(oe,L,t)=>{t.d(L,{A:()=>y});var e=t(3184),i=t(36362),p=t(74929);function l(d,g){if(1&d&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&d){const f=e.oxw();e.xp6(1),e.Oqu(e.lcZ(2,1,f.label))}}let y=(()=>{class d{constructor(){this.isTouched=!0}}return d.\u0275fac=function(f){return new(f||d)},d.\u0275cmp=e.Xpm({type:d,selectors:[["form-error"]],inputs:{error:"error",label:"label",isTouched:"isTouched"},decls:1,vars:1,consts:[[4,"ngIf"]],template:function(f,a){1&f&&e.YNc(0,l,3,3,"div",0),2&f&&e.Q6J("ngIf",a.error&&a.isTouched)},directives:[i.O5],pipes:[p.X],encapsulation:2,changeDetection:0}),d})()},17594:(oe,L,t)=>{t.d(L,{r:()=>d});var e=t(97010),i=t(3184),p=t(11961),l=t(77500),y=t(74929);let d=(()=>{class g{constructor(){this.errorImage=e.Wh[500]}}return g.\u0275fac=function(a){return new(a||g)},g.\u0275cmp=i.Xpm({type:g,selectors:[["general-error"]],decls:8,vars:6,consts:function(){let f;return f=$localize`:␟aa29d689c897461db9bae85bf4aadc036f94b7fc␟6690862246284908446: Something went wrong while we were loading your request. Please try again later. `,[[1,"layout-row","layout-align-start-center","mat-elevation-z4"],[1,"hide","show-gt-sm",3,"width","height","resource"],[1,"layout-column","cb-padding-large"],[1,"cb-margin-large-bottom","cb-font-size-xlarge","cb-text-color-medium"],[1,"cb-text-color-medium"],f]},template:function(a,c){1&a&&(i.TgZ(0,"mat-card",0),i._UZ(1,"cb-image",1),i.TgZ(2,"div",2)(3,"h2",3),i._uU(4),i.ALo(5,"translate"),i.qZA(),i.TgZ(6,"h3",4),i.SDv(7,5),i.qZA()()()),2&a&&(i.xp6(1),i.Q6J("width",125)("height",125)("resource",c.errorImage),i.xp6(3),i.hij(" ",i.lcZ(5,4,"CBL.COMMON.OOPS")," "))},directives:[p.a8,l.q],pipes:[y.X],encapsulation:2}),g})()},50450:(oe,L,t)=>{t.d(L,{k:()=>c});var e=t(14296),i=t(3184),p=t(36362),l=t(29847),y=t(29641);function d(r,o){if(1&r&&(i.TgZ(0,"div"),i._UZ(1,"form-error",1)(2,"form-error",2)(3,"form-error",3)(4,"form-error",4)(5,"form-error",5)(6,"form-error",6)(7,"form-error",7)(8,"form-error",8)(9,"form-error",9)(10,"form-error",10),i.qZA()),2&r){const _=i.oxw(2);i.xp6(1),i.Q6J("error",null==_.fieldNameErrors?null:_.fieldNameErrors.invalid),i.xp6(1),i.Q6J("error",null==_.fieldNameErrors?null:_.fieldNameErrors.US101),i.xp6(1),i.Q6J("error",null==_.fieldNameErrors?null:_.fieldNameErrors.US104),i.xp6(1),i.Q6J("error",null==_.fieldNameErrors?null:_.fieldNameErrors.US105),i.xp6(1),i.Q6J("error",null==_.fieldNameErrors?null:_.fieldNameErrors.US112),i.xp6(1),i.Q6J("error",null==_.fieldNameErrors?null:_.fieldNameErrors.US113),i.xp6(1),i.Q6J("error",null==_.fieldNameErrors?null:_.fieldNameErrors.US200),i.xp6(1),i.Q6J("error",null==_.fieldNameErrors?null:_.fieldNameErrors.US201),i.xp6(1),i.Q6J("error",null==_.fieldNameErrors?null:_.fieldNameErrors.US202),i.xp6(1),i.Q6J("error",null==_.fieldNameErrors?null:_.fieldNameErrors.US804)}}function g(r,o){if(1&r&&(i.TgZ(0,"div",12)(1,"div"),i._UZ(2,"markup-label",13),i.qZA()()),2&r){const _=o.$implicit,n=i.oxw(3);i.xp6(2),i.Q6J("key",_)("values",n.values)}}function f(r,o){if(1&r&&(i.ynx(0),i.YNc(1,g,3,2,"div",11),i.BQk()),2&r){const _=i.oxw(2);i.xp6(1),i.Q6J("ngForOf",_.topLevelErrors)}}function a(r,o){if(1&r&&(i.ynx(0),i.YNc(1,d,11,10,"div",0),i.YNc(2,f,2,1,"ng-container",0),i.BQk()),2&r){const _=i.oxw();i.xp6(1),i.Q6J("ngIf",_.fieldName),i.xp6(1),i.Q6J("ngIf",!_.fieldName)}}let c=(()=>{class r{constructor(_){this.errorService=_,this.fallbackError=!0}ngOnChanges(_){_.error&&this.handleError(this.error)}handleError(_){if(_)if(this.fieldName){const n=this.errorService.getFormErrors(_);n[this.fieldName]&&(this.fieldNameErrors=n[this.fieldName])}else this.topLevelErrors=this.errorService.getTopLevelErrorLabels(_,this.fallbackError)}}return r.\u0275fac=function(_){return new(_||r)(i.Y36(e.T))},r.\u0275cmp=i.Xpm({type:r,selectors:[["server-error"]],inputs:{fieldName:"fieldName",values:"values",error:"error",fallbackError:"fallbackError"},features:[i.TTD],decls:1,vars:1,consts:[[4,"ngIf"],["label","CBL.COMMON.INVALID_FIELD",3,"error"],["label","CBL.ERRORS.US101",3,"error"],["label","CBL.ERRORS.US104",3,"error"],["label","CBL.ERRORS.US105",3,"error"],["label","CBL.ERRORS.US112",3,"error"],["label","CBL.ERRORS.US113",3,"error"],["label","CBL.ERRORS.US200",3,"error"],["label","CBL.ERRORS.US201",3,"error"],["label","CBL.ERRORS.US202",3,"error"],["label","CBL.ERRORS.US804",3,"error"],["class","error-messages",4,"ngFor","ngForOf"],[1,"error-messages"],[3,"key","values"]],template:function(_,n){1&_&&i.YNc(0,a,3,2,"ng-container",0),2&_&&i.Q6J("ngIf",!!n.error)},directives:[p.O5,l.A,p.sg,y.x],encapsulation:2,changeDetection:0}),r})()},80670:(oe,L,t)=>{t.d(L,{A:()=>d});var e=t(3184),i=t(36362),p=t(47367),l=t(32478);function y(g,f){if(1&g&&(e.TgZ(0,"a",1)(1,"span"),e._uU(2),e.qZA(),e._UZ(3,"icon",2),e.qZA()),2&g){const a=e.oxw();e.Q6J("cb-link",a.color)("href",a.url,e.LSH),e.xp6(2),e.Oqu(a.label||a.url)}}let d=(()=>{class g{constructor(){this.color="primary"}}return g.\u0275fac=function(a){return new(a||g)},g.\u0275cmp=e.Xpm({type:g,selectors:[["external-link"]],inputs:{url:"url",label:"label",color:"color"},decls:1,vars:1,consts:[["target","_blank","rel","nofollow noopener noreferrer",3,"cb-link","href",4,"ngIf"],["target","_blank","rel","nofollow noopener noreferrer",3,"cb-link","href"],["key","icon_external_link","size","large","color","inherit"]],template:function(a,c){1&a&&e.YNc(0,y,4,3,"a",0),2&a&&e.Q6J("ngIf",c.url)},directives:[i.O5,p.I,l.o],styles:["a[_ngcontent-%COMP%]{box-sizing:border-box;display:flex!important;flex-direction:row}a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], a[_ngcontent-%COMP%]   icon[_ngcontent-%COMP%]{flex:0 0 auto;box-sizing:border-box}a[_ngcontent-%COMP%]   icon[_ngcontent-%COMP%]{margin-left:4px}"]}),g})()},41773:(oe,L,t)=>{t.d(L,{A:()=>y});var e=t(36362),i=t(32519),p=t(19366),l=t(3184);let y=(()=>{class d{}return d.\u0275fac=function(f){return new(f||d)},d.\u0275mod=l.oAB({type:d}),d.\u0275inj=l.cJS({imports:[[e.ez,i.n,p.L]]}),d})()},93293:(oe,L,t)=>{t.d(L,{I:()=>C});var e=t(36362),i=t(45857),p=t(90898),l=t(90587),y=t(35503),d=t(68881),g=t(40577),f=t(19366),a=t(32519),c=t(31156),r=t(51044),o=t(14117),_=t(3184);let n=(()=>{class S{}return S.\u0275fac=function(T){return new(T||S)},S.\u0275mod=_.oAB({type:S}),S.\u0275inj=_.cJS({imports:[[e.ez,o.GD]]}),S})();var m=t(83447),v=t(32313),h=t(41773);let C=(()=>{class S{}return S.\u0275fac=function(T){return new(T||S)},S.\u0275mod=_.oAB({type:S}),S.\u0275inj=_.cJS({imports:[[e.ez,i.Bz,p.q,l.u5,y.Dt,d.N,g.C,a.n,c.H,r.X,f.L,n,m.E,v.H,h.A]]}),S})()},57984:(oe,L,t)=>{t.d(L,{N:()=>vt});var e=t(71263),i=t(3184),p=t(36362),l=t(24956),y=t(75215),d=t(13074),g=t(4151),f=t(46036),a=t(47367),c=t(45857),r=t(96017),o=t(20262);function _(Je,Ke){if(1&Je&&(i.TgZ(0,"span"),i._uU(1),i.qZA()),2&Je){const Ne=i.oxw(2);i.xp6(1),i.Oqu(Ne.label)}}function n(Je,Ke){if(1&Je&&i._UZ(0,"identifier-image",7),2&Je){const Ne=i.oxw(3);i.Q6J("identifier",Ne.identifier)("size",Ne.imgSize||25)}}function m(Je,Ke){if(1&Je&&(i.TgZ(0,"div",4),i.YNc(1,n,1,2,"identifier-image",5),i.TgZ(2,"div",6),i._uU(3),i.qZA()()),2&Je){const Ne=i.oxw(2);i.xp6(1),i.Q6J("ngIf",Ne.identifier),i.xp6(2),i.hij(" ",Ne.label," ")}}function v(Je,Ke){if(1&Je&&(i.TgZ(0,"a",2),i.YNc(1,_,2,1,"span",1),i.YNc(2,m,4,2,"div",3),i.qZA()),2&Je){const Ne=i.oxw();i.Q6J("cb-link",Ne.linkColor)("hoverPreview",Ne.showHoverPreview)("hoverPayload",Ne.hoverPayload)("hoverComponent",Ne.overlayComponent)("routerLink",Ne.route.path)("title",Ne.label),i.uIk("aria-label",Ne.label),i.xp6(1),i.Q6J("ngIf","markup"===Ne.contextType),i.xp6(1),i.Q6J("ngIf","markup"!==Ne.contextType)}}function h(Je,Ke){if(1&Je&&(i.TgZ(0,"span"),i._uU(1),i.qZA()),2&Je){const Ne=i.oxw();i.xp6(1),i.Oqu(Ne.label)}}function C(Je,Ke){if(1&Je&&(i.TgZ(0,"span"),i._uU(1),i.qZA()),2&Je){const Ne=i.oxw();i.xp6(1),i.Oqu(Ne.emptyFieldText)}}let S=(()=>{class Je{constructor(Ne,ke,He,nt,Et){this.overlayComponent=Ne,this.logService=ke,this.metadataService=He,this.urlService=nt,this.formatterService=Et,this.showHoverPreview=!1,this.emptyFieldText=e.do,this.logger=this.logService.getLogger("IdentifierFormatterComponent")}ngOnChanges(){this.fieldData&&this.setIdentifierUiData(this.fieldData)}setIdentifierUiData(Ne){let ke=null==Ne?void 0:Ne.entity_def_id;ke?(this.identifier=Ne,this.route=this.getIdentifierRoute(Ne),this.label=this.getIdentifierLabel(ke,Ne),this.showHoverPreview=this.metadataService.hasPreviewLayouts(ke),this.hoverPayload={identifier:Ne}):this.logger.error("Identifier has no entityDefId",{identifier:Ne})}getIdentifierRoute(Ne){if(!this.field.query||!this.field.query.template)return this.metadataService.hasLayouts(Ne.entity_def_id)?this.urlService.getIdentifierRoute(Ne):void 0;return this.formatterService.constructDrillInRoute(this.collectionId,this.field.id,this.field.query,this.queryData)||void this.logger.error("Query template was missing collection or field ids",{searchCollectionId:this.collectionId,queryTemplateCollectionId:this.field.query.template.collection_id,fieldId:this.field.id})}getIdentifierLabel(Ne,ke){var He;let nt=null==ke?void 0:ke.value;if(nt)return nt;{let Et=this.metadataService.getEntityDef(Ne);return(null===(He=null==Et?void 0:Et.labels)||void 0===He?void 0:He.name)||void this.logger.error("Identifier has no provided label and we could find no matching entityDef to fall back to",{identifier:ke})}}}return Je.\u0275fac=function(Ne){return new(Ne||Je)(i.Y36(g.$b),i.Y36(l.$V),i.Y36(y.Do),i.Y36(d.iO),i.Y36(e.eM))},Je.\u0275cmp=i.Xpm({type:Je,selectors:[["identifier-formatter"]],inputs:{collectionId:"collectionId",field:"field",fieldData:"fieldData",queryData:"queryData",contextType:"contextType",imgSize:"imgSize",linkColor:"linkColor"},features:[i.TTD],decls:3,vars:3,consts:[["class","component--field-formatter field-type-identifier","role","link",3,"cb-link","hoverPreview","hoverPayload","hoverComponent","routerLink","title",4,"ngIf"],[4,"ngIf"],["role","link",1,"component--field-formatter","field-type-identifier",3,"cb-link","hoverPreview","hoverPayload","hoverComponent","routerLink","title"],["hoverOverElementContainer","","class","identifier-image-and-label",4,"ngIf"],["hoverOverElementContainer","",1,"identifier-image-and-label"],["class","identifier-image",3,"identifier","size",4,"ngIf"],["hoverOverElement","",1,"identifier-label"],[1,"identifier-image",3,"identifier","size"]],template:function(Ne,ke){1&Ne&&(i.YNc(0,v,3,9,"a",0),i.YNc(1,h,2,1,"span",1),i.YNc(2,C,2,1,"span",1)),2&Ne&&(i.Q6J("ngIf",ke.label&&ke.route&&ke.hoverPayload),i.xp6(1),i.Q6J("ngIf",ke.label&&!ke.route),i.xp6(1),i.Q6J("ngIf",!ke.label))},directives:[p.O5,f.n,a.I,c.yS,r.a,o.J],styles:["identifier-formatter{max-width:100%}identifier-formatter .identifier-image-and-label{box-sizing:border-box;display:flex!important;flex-direction:row;justify-content:flex-start;align-items:center;align-content:center;max-width:100%}identifier-formatter .identifier-image-and-label>*{max-width:100%;box-sizing:border-box}identifier-formatter .identifier-image-and-label .identifier-image{flex:0 0 auto;box-sizing:border-box;margin-right:8px}identifier-formatter .identifier-image-and-label .identifier-label{flex:0 1 auto;box-sizing:border-box;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}\n"],encapsulation:2,changeDetection:0}),Je})();var I=t(17272),T=t(92938),N=t(25458),x=t(49837),s=t(20757),E=t(32478);function H(Je,Ke){if(1&Je&&(i.ynx(0),i._UZ(1,"theme-icon",5),i.BQk()),2&Je){const Ne=i.oxw(2);i.xp6(1),i.Q6J("themeId",null==Ne.field||null==Ne.field.display?null:Ne.field.display.theme_id)}}function V(Je,Ke){1&Je&&i._UZ(0,"icon",7)}function b(Je,Ke){if(1&Je&&(i._uU(0),i.YNc(1,V,1,0,"icon",6)),2&Je){const Ne=i.oxw(2);i.hij(" ",Ne.label," "),i.xp6(1),i.Q6J("ngIf",Ne.isExternalLink)}}const B=function(Je){return{"icon-only":Je}};function Q(Je,Ke){if(1&Je&&(i.TgZ(0,"a",2),i.YNc(1,H,2,1,"ng-container",3),i.YNc(2,b,2,2,"ng-template",null,4,i.W1O),i.qZA()),2&Je){const Ne=i.MAs(3),ke=i.oxw();i.Q6J("cb-link",ke.linkColor)("href",ke.source,i.LSH)("target",ke.isExternalLink?"_blank":"_self")("rel",ke.isExternalLink?"nofollow noopener noreferrer":"")("title",ke.label)("ngClass",i.VKq(9,B,ke.iconOnly)),i.uIk("aria-label",ke.label),i.xp6(1),i.Q6J("ngIf",ke.iconOnly)("ngIfElse",Ne)}}function $(Je,Ke){if(1&Je&&(i.TgZ(0,"span"),i._uU(1),i.qZA()),2&Je){const Ne=i.oxw();i.xp6(1),i.Oqu(Ne.emptyFieldText)}}let W=(()=>{class Je{constructor(Ne,ke,He){this.urlService=Ne,this.platformService=ke,this.bootstrapService=He,this.iconOnly=!1,this.emptyFieldText=e.do}ngOnInit(){this.setup()}setup(){let Ne=this.fieldData;if(null==Ne?void 0:Ne.value){this.source=Ne.value;let ke=this.urlService.parseUrl(Ne.value);this.isExternalLink=!!ke&&this.getIsExternal(ke.host),this.label=this.contextType===e.Qy.lastSavedValue?this.source:Ne.label?Ne.label:this.field.labels&&this.field.labels.value?this.field.labels.value:ke?(0,T.truncate)(`${ke.host||""}${ke.path||""}`,{length:50}):""}}getIsExternal(Ne){let ke;return ke=this.platformService.isBrowser()?window.location.host:this.bootstrapService.getHost(),Ne!==ke}}return Je.\u0275fac=function(Ne){return new(Ne||Je)(i.Y36(d.iO),i.Y36(x.m),i.Y36(N.Qn))},Je.\u0275cmp=i.Xpm({type:Je,selectors:[["link-formatter"]],inputs:{field:"field",fieldData:"fieldData",linkColor:"linkColor",iconOnly:"iconOnly",contextType:"contextType"},decls:2,vars:2,consts:[["rel","nofollow","class","component--field-formatter","role","link",3,"cb-link","href","target","rel","title","ngClass",4,"ngIf"],[4,"ngIf"],["rel","nofollow","role","link",1,"component--field-formatter",3,"cb-link","href","target","rel","title","ngClass"],[4,"ngIf","ngIfElse"],["textLabel",""],["color","theme",3,"themeId"],["class","external-icon","size","custom","key","icon_new_tab","color","inherit",4,"ngIf"],["size","custom","key","icon_new_tab","color","inherit",1,"external-icon"]],template:function(Ne,ke){1&Ne&&(i.YNc(0,Q,4,11,"a",0),i.YNc(1,$,2,1,"span",1)),2&Ne&&(i.Q6J("ngIf",ke.source),i.xp6(1),i.Q6J("ngIf",!ke.source))},directives:[p.O5,f.n,a.I,p.mk,s.p,E.o],styles:["[_nghost-%COMP%]{display:inline-block}icon[_ngcontent-%COMP%]{height:12px;width:12px;min-width:12px;min-height:12px;line-height:12px}a[_ngcontent-%COMP%]{box-sizing:border-box;display:flex!important;flex-direction:row;justify-content:flex-start;align-items:flex-end;align-content:flex-end}.external-icon[_ngcontent-%COMP%]{flex:0 0 auto;box-sizing:border-box;margin-left:2px;margin-bottom:2px}"],changeDetection:0}),Je})();var q=t(93443),le=t(80670);function J(Je,Ke){if(1&Je&&(i.TgZ(0,"a",6)(1,"span"),i._uU(2),i.qZA()()),2&Je){const Ne=i.oxw(2);i.Q6J("cb-link",Ne.linkColor)("href",Ne.value,i.LSH)("title",Ne.label),i.xp6(2),i.hij(" ",Ne.label," ")}}function u(Je,Ke){if(1&Je&&i._UZ(0,"external-link",7),2&Je){const Ne=i.oxw(2);i.MGl("url","https://linkedin.com/in/",Ne.value,""),i.Q6J("label",Ne.label)}}function D(Je,Ke){if(1&Je&&(i.TgZ(0,"span"),i._uU(1),i.qZA()),2&Je){const Ne=i.oxw(2);i.xp6(1),i.Oqu(Ne.value)}}function se(Je,Ke){if(1&Je&&(i.ynx(0,2),i.YNc(1,J,3,4,"a",3),i.YNc(2,u,1,2,"external-link",4),i.YNc(3,D,2,1,"span",5),i.BQk()),2&Je){const Ne=i.oxw();i.Q6J("ngSwitch",Ne.format),i.xp6(1),i.Q6J("ngSwitchCase",Ne.FormatEnum.url),i.xp6(1),i.Q6J("ngSwitchCase",Ne.FormatEnum.linkedin_person)}}function ne(Je,Ke){if(1&Je&&(i.TgZ(0,"span"),i._uU(1),i.qZA()),2&Je){const Ne=i.oxw();i.xp6(1),i.Oqu(Ne.value)}}let _e=(()=>{class Je{constructor(){this.FormatEnum=q.si.FormatEnum}ngOnChanges(){this.setup()}setup(){var Ne;let ke=this.field&&this.field.display;this.format=null===(Ne=null==ke?void 0:ke.text_blob)||void 0===Ne?void 0:Ne.format,this.fieldData?(this.value=Array.isArray(this.fieldData)?this.fieldData[0]:this.fieldData,this.label=this.field.labels&&this.field.labels.value||this.value):this.value=e.do}}return Je.\u0275fac=function(Ne){return new(Ne||Je)},Je.\u0275cmp=i.Xpm({type:Je,selectors:[["blob-formatter"]],inputs:{field:"field",fieldData:"fieldData",linkColor:"linkColor"},features:[i.TTD],decls:2,vars:2,consts:[[3,"ngSwitch",4,"ngIf"],[4,"ngIf"],[3,"ngSwitch"],["target","_blank","rel","nofollow noopener noreferrer","class","component--field-formatter field-type-text-blob",3,"cb-link","href","title",4,"ngSwitchCase"],[3,"label","url",4,"ngSwitchCase"],[4,"ngSwitchDefault"],["target","_blank","rel","nofollow noopener noreferrer",1,"component--field-formatter","field-type-text-blob",3,"cb-link","href","title"],[3,"label","url"]],template:function(Ne,ke){1&Ne&&(i.YNc(0,se,4,3,"ng-container",0),i.YNc(1,ne,2,1,"span",1)),2&Ne&&(i.Q6J("ngIf",ke.fieldData),i.xp6(1),i.Q6J("ngIf",!ke.fieldData))},directives:[p.O5,p.RF,p.n9,a.I,le.A,p.ED],styles:[".field-type-text-blob[_ngcontent-%COMP%]{box-sizing:border-box;display:flex!important;flex-direction:row;justify-content:flex-start;align-items:flex-end;align-content:flex-end}.field-type-text-blob[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}"],changeDetection:0}),Je})();var ee=t(23580);function w(Je,Ke){if(1&Je&&(i.TgZ(0,"span",2),i._uU(1),i.qZA()),2&Je){const Ne=i.oxw();i.Q6J("title",Ne.formattedValue),i.xp6(1),i.hij(" ",Ne.formattedValue,"\n")}}function G(Je,Ke){1&Je&&(i.TgZ(0,"span"),i._uU(1,",\xa0"),i.qZA())}function k(Je,Ke){if(1&Je&&(i.ynx(0),i.TgZ(1,"a",4),i._uU(2),i.qZA(),i.YNc(3,G,2,0,"span",1),i.BQk()),2&Je){const Ne=Ke.$implicit,ke=Ke.last,He=i.oxw(2);i.xp6(1),i.Q6J("cb-link",He.linkColor)("routerLink",Ne.route.path)("ngClass","field-type-"+He.field.type_id),i.xp6(1),i.Oqu(Ne.label),i.xp6(1),i.Q6J("ngIf",!ke)}}function X(Je,Ke){if(1&Je&&(i.ynx(0),i.YNc(1,k,4,5,"ng-container",3),i.BQk()),2&Je){const Ne=i.oxw();i.xp6(1),i.Q6J("ngForOf",Ne.drillIns)}}let K=(()=>{class Je{constructor(Ne){this.formatterService=Ne,this.contextType=e.Qy.default}ngOnChanges(){this.drillIns=void 0,this.formattedValue=void 0,this.field&&(this.field.query&&this.field.query.template&&this.queryData?(this.drillIns=this.getDrillIns(),this.drillIns||(this.formattedValue=this.getFormattedValue())):this.formattedValue=this.getFormattedValue())}getFormattedValue(){const Ne=this.formatterService.formatField(this.field,this.fieldData,this.contextType);if(""!==Ne)return Ne}getDrillIns(){const ke=this.formatterService.constructDrillInRoutes(this.collectionId,this.field.id,this.field.query,this.queryData,this.queryTemplateSearchUi).map(He=>{const Et=this.getLabelForFieldValue(He.path[He.path.length-1]);if(Et)return{label:Et,route:He}}).filter(ee.K);if(ke.length)return ke}getLabelForFieldValue(Ne){return this.field.labels?this.field.labels.values[Ne]:void 0}}return Je.\u0275fac=function(Ne){return new(Ne||Je)(i.Y36(e.eM))},Je.\u0275cmp=i.Xpm({type:Je,selectors:[["enum-multi-formatter"]],inputs:{collectionId:"collectionId",field:"field",fieldData:"fieldData",queryData:"queryData",contextType:"contextType",linkColor:"linkColor",queryTemplateSearchUi:"queryTemplateSearchUi"},features:[i.TTD],decls:2,vars:2,consts:[["class","component--field-formatter field-type-enum-multi",3,"title",4,"ngIf"],[4,"ngIf"],[1,"component--field-formatter","field-type-enum-multi",3,"title"],[4,"ngFor","ngForOf"],[1,"component--field-formatter",3,"cb-link","routerLink","ngClass"]],template:function(Ne,ke){1&Ne&&(i.YNc(0,w,2,2,"span",0),i.YNc(1,X,2,1,"ng-container",1)),2&Ne&&(i.Q6J("ngIf",!ke.drillIns),i.xp6(1),i.Q6J("ngIf",ke.drillIns))},directives:[p.O5,p.sg,f.n,a.I,c.yS,p.mk],encapsulation:2,changeDetection:0}),Je})();var te=t(19193),Ie=t(64139),Te=t(14117),ce=t(86942),Re=t(35585);let fe=(()=>{class Je{constructor(Ne){this.store=Ne}ngOnInit(){this.store.dispatch((0,Te.Gp)())}ngOnChanges(Ne){Ne.fieldData&&this.setValue()}setValue(){this.value$=this.fieldData?(0,te.aj)([this.store.select((0,Te.OK)(this.fieldData)),this.store.select(Te.Rj)]).pipe((0,ce.U)(([Ne,ke])=>Ne?Ne.user_name||Ne.user_email||e.do:ke?"":e.do)):(0,Ie.of)(e.do)}}return Je.\u0275fac=function(Ne){return new(Ne||Je)(i.Y36(Re.yh))},Je.\u0275cmp=i.Xpm({type:Je,selectors:[["team-user-formatter"]],inputs:{fieldData:"fieldData"},features:[i.TTD],decls:2,vars:3,template:function(Ne,ke){1&Ne&&(i._uU(0),i.ALo(1,"async")),2&Ne&&i.hij("",i.lcZ(1,1,ke.value$),"\n")},pipes:[p.Ov],encapsulation:2,changeDetection:0}),Je})();var ye=t(77500);function Ge(Je,Ke){if(1&Je&&i._UZ(0,"identifier-formatter",10),2&Je){const Ne=i.oxw(2);i.Q6J("collectionId",Ne.collectionId)("field",Ne.field)("fieldData",Ne.fieldData)("queryData",Ne.queryData)("contextType",Ne.contextType)("imgSize",Ne.imgSize)("linkColor",Ne.linkColor)}}function at(Je,Ke){if(1&Je&&i._UZ(0,"identifier-multi-formatter",11),2&Je){const Ne=i.oxw(2);i.Q6J("collectionId",Ne.collectionId)("field",Ne.field)("fieldData",Ne.fieldData)("queryData",Ne.queryData)("linkColor",Ne.linkColor)("contextType",Ne.contextType)("queryTemplateSearchUi",Ne.queryTemplateSearchUi)}}function It(Je,Ke){if(1&Je&&i._UZ(0,"link-formatter",12),2&Je){const Ne=i.oxw(2);i.Q6J("field",Ne.field)("fieldData",Ne.fieldData)("linkColor",Ne.linkColor)("iconOnly",Ne.iconOnlyLink)("contextType",Ne.contextType)}}function Ue(Je,Ke){if(1&Je&&i._UZ(0,"blob-formatter",13),2&Je){const Ne=i.oxw(2);i.Q6J("field",Ne.field)("fieldData",Ne.fieldData)("linkColor",Ne.linkColor)}}function we(Je,Ke){if(1&Je&&i._UZ(0,"enum-multi-formatter",14),2&Je){const Ne=i.oxw(2);i.Q6J("collectionId",Ne.collectionId)("field",Ne.field)("fieldData",Ne.fieldData)("queryData",Ne.queryData)("contextType",Ne.contextType)("linkColor",Ne.linkColor)("queryTemplateSearchUi",Ne.queryTemplateSearchUi)}}function De(Je,Ke){if(1&Je&&i._UZ(0,"team-user-formatter",15),2&Je){const Ne=i.oxw(2);i.Q6J("fieldData",Ne.fieldData)}}function ae(Je,Ke){if(1&Je&&i._UZ(0,"cb-image",16),2&Je){const Ne=i.oxw(2);i.Q6J("publicId",Ne.fieldData)("height",100)("width",100)}}function Le(Je,Ke){if(1&Je&&(i.ynx(0),i.TgZ(1,"span",17),i._uU(2),i.qZA(),i.BQk()),2&Je){const Ne=i.oxw(2);i.xp6(1),i.Q6J("ngClass","field-type-"+(null==Ne.field?null:Ne.field.type_id))("title",Ne.formattedValue),i.xp6(1),i.Oqu(Ne.formattedValue)}}function Fe(Je,Ke){if(1&Je&&(i.ynx(0)(1,1),i.YNc(2,Ge,1,7,"identifier-formatter",2),i.YNc(3,at,1,7,"identifier-multi-formatter",3),i.YNc(4,It,1,5,"link-formatter",4),i.YNc(5,Ue,1,3,"blob-formatter",5),i.YNc(6,we,1,7,"enum-multi-formatter",6),i.YNc(7,De,1,1,"team-user-formatter",7),i.YNc(8,ae,1,3,"cb-image",8),i.YNc(9,Le,3,3,"ng-container",9),i.BQk()()),2&Je){const Ne=i.oxw();i.xp6(1),i.Q6J("ngSwitch",null==Ne.field?null:Ne.field.type_id),i.xp6(1),i.Q6J("ngSwitchCase","identifier"),i.xp6(1),i.Q6J("ngSwitchCase","identifier_multi"),i.xp6(1),i.Q6J("ngSwitchCase","link"),i.xp6(1),i.Q6J("ngSwitchCase","text_blob"),i.xp6(1),i.Q6J("ngSwitchCase","enum_multi"),i.xp6(1),i.Q6J("ngSwitchCase","user"),i.xp6(1),i.Q6J("ngSwitchCase","image_id")}}function dt(Je,Ke){if(1&Je&&(i.ynx(0),i.TgZ(1,"a",18),i._uU(2),i.qZA(),i.BQk()),2&Je){const Ne=i.oxw();i.xp6(1),i.Q6J("cb-link",Ne.linkColor)("routerLink",Ne.drillInRoute.path)("ngClass","field-type-"+(null==Ne.field?null:Ne.field.type_id)),i.xp6(1),i.Oqu(Ne.formattedValue)}}const Ye={link:!0,identifier:!0,identifier_multi:!0,text_blob:!0,enum_multi:!0,user:!0,image_id:!0};let vt=(()=>{class Je{constructor(Ne){this.formatterService=Ne,this.contextType=e.Qy.default,this.linkColor="accent",this.iconOnlyLink=!1,this.formattedValue=""}ngOnChanges(){var Ne;if(this.field){!Ye[this.field.type_id]&&(this.formattedValue=this.formatterService.formatField(this.field,this.fieldData,this.contextType));let nt=(null===(Ne=this.formattedValue)||void 0===Ne?void 0:Ne.length)&&this.formattedValue!==e.do;this.field.query&&this.field.query.template&&nt&&this.queryData&&(this.drillInRoute=this.formatterService.constructDrillInRoute(this.collectionId,this.field.id,this.field.query,this.queryData,this.queryTemplateSearchUi))}}}return Je.\u0275fac=function(Ne){return new(Ne||Je)(i.Y36(e.eM))},Je.\u0275cmp=i.Xpm({type:Je,selectors:[["field-formatter"]],inputs:{collectionId:"collectionId",field:"field",fieldData:"fieldData",queryData:"queryData",contextType:"contextType",queryTemplateSearchUi:"queryTemplateSearchUi",linkColor:"linkColor",imgSize:"imgSize",iconOnlyLink:"iconOnlyLink"},features:[i.TTD],decls:2,vars:2,consts:[[4,"ngIf"],[3,"ngSwitch"],[3,"collectionId","field","fieldData","queryData","contextType","imgSize","linkColor",4,"ngSwitchCase"],[3,"collectionId","field","fieldData","queryData","linkColor","contextType","queryTemplateSearchUi",4,"ngSwitchCase"],[3,"field","fieldData","linkColor","iconOnly","contextType",4,"ngSwitchCase"],[3,"field","fieldData","linkColor",4,"ngSwitchCase"],[3,"collectionId","field","fieldData","queryData","contextType","linkColor","queryTemplateSearchUi",4,"ngSwitchCase"],[3,"fieldData",4,"ngSwitchCase"],[3,"publicId","height","width",4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"collectionId","field","fieldData","queryData","contextType","imgSize","linkColor"],[3,"collectionId","field","fieldData","queryData","linkColor","contextType","queryTemplateSearchUi"],[3,"field","fieldData","linkColor","iconOnly","contextType"],[3,"field","fieldData","linkColor"],[3,"collectionId","field","fieldData","queryData","contextType","linkColor","queryTemplateSearchUi"],[3,"fieldData"],[3,"publicId","height","width"],[1,"component--field-formatter",3,"ngClass","title"],[1,"component--field-formatter",3,"cb-link","routerLink","ngClass"]],template:function(Ne,ke){1&Ne&&(i.YNc(0,Fe,10,8,"ng-container",0),i.YNc(1,dt,3,4,"ng-container",0)),2&Ne&&(i.Q6J("ngIf",!ke.drillInRoute),i.xp6(1),i.Q6J("ngIf",ke.drillInRoute))},directives:[p.O5,p.RF,p.n9,S,I.R,W,_e,K,fe,ye.q,p.ED,p.mk,f.n,a.I,c.yS],styles:["identifier-formatter{max-width:100%}identifier-formatter .identifier-image-and-label{box-sizing:border-box;display:flex!important;flex-direction:row;justify-content:flex-start;align-items:center;align-content:center;max-width:100%}identifier-formatter .identifier-image-and-label>*{max-width:100%;box-sizing:border-box}identifier-formatter .identifier-image-and-label .identifier-image{flex:0 0 auto;box-sizing:border-box;margin-right:8px}identifier-formatter .identifier-image-and-label .identifier-label{flex:0 1 auto;box-sizing:border-box;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}\n"],encapsulation:2,changeDetection:0}),Je})()},17272:(oe,L,t)=>{t.d(L,{R:()=>B});var e=t(92938),p=t(93443),l=t(71263),y=t(24956),d=t(75215),g=t(13074),f=t(34409),a=t(4151),c=t(3184),r=t(36362),o=t(46036),_=t(47367),n=t(45857),m=t(96017),v=t(92434),h=t(69489),C=t(74929);function S(Q,$){if(1&Q&&(c.ynx(0),c.TgZ(1,"a",5),c._uU(2),c.qZA(),c.BQk()),2&Q){const W=c.oxw().$implicit,q=c.oxw(2);c.xp6(1),c.Q6J("cb-link",q.linkColor)("routerLink",W.route.path)("hoverPreview",W.canHover)("hoverPayload",W.hoverPayload)("hoverComponent",q.overlayComponent)("title",W.label),c.xp6(1),c.hij(" ",W.label,"")}}function I(Q,$){if(1&Q&&(c.ynx(0),c._uU(1),c.BQk()),2&Q){const W=c.oxw().$implicit;c.xp6(1),c.hij(" ",W.label," ")}}function T(Q,$){if(1&Q&&(c.ynx(0),c.YNc(1,S,3,7,"ng-container",4),c.YNc(2,I,2,1,"ng-container",4),c.ynx(3),c._uU(4),c.BQk()()),2&Q){const W=$.$implicit,q=$.last;c.xp6(1),c.Q6J("ngIf",W.route),c.xp6(1),c.Q6J("ngIf",!W.route),c.xp6(2),c.Oqu(q?"":",")}}function N(Q,$){if(1&Q&&(c.ynx(0),c._uU(1),c.BQk()),2&Q){const W=c.oxw(2);c.xp6(1),c.hij(" ",W.emptyFieldText," ")}}function x(Q,$){if(1&Q&&(c.ynx(0),c.YNc(1,T,5,3,"ng-container",3),c.YNc(2,N,2,1,"ng-container",4),c.BQk()),2&Q){const W=c.oxw();c.xp6(1),c.Q6J("ngForOf",W.identifierUiDatas),c.xp6(1),c.Q6J("ngIf",!W.identifierUiDatas)}}function s(Q,$){if(1&Q&&(c.TgZ(0,"a",8)(1,"chip",9),c._uU(2),c.qZA()()),2&Q){const W=c.oxw().$implicit;c.Q6J("routerLink",W.route.path),c.xp6(2),c.Oqu(W.label)}}function E(Q,$){if(1&Q&&(c.ynx(0),c.YNc(1,s,3,2,"a",7),c.BQk()),2&Q){const W=$.$implicit;c.xp6(1),c.Q6J("ngIf",W.route)}}const H=function(Q){return{count:Q}};function V(Q,$){if(1&Q&&(c.TgZ(0,"span",10),c._uU(1),c.ALo(2,"translate"),c.qZA()),2&Q){const W=$.ngIf;c.xp6(1),c.hij(" ",c.xi3(2,1,"CBL.FIELD_FORMATTER.IDENTIFIER_MULTI.PLUS_MORE",c.VKq(4,H,W))," ")}}function b(Q,$){if(1&Q&&(c.TgZ(0,"chips-container"),c.YNc(1,E,2,1,"ng-container",3),c.ALo(2,"slice"),c.YNc(3,V,3,6,"span",6),c.qZA()),2&Q){const W=c.oxw();c.xp6(1),c.Q6J("ngForOf",c.Dn7(2,2,W.identifierUiDatas,0,W.maxNumChips)),c.xp6(2),c.Q6J("ngIf",W.getNumHiddenChips())}}let B=(()=>{class Q{constructor(W,q,le,J,u,D){this.overlayComponent=W,this.formatterService=q,this.logService=le,this.metadataService=J,this.defaultIdentifierMultiFormatter=u,this.urlService=D,this.maxNumChips=void 0,this.emptyFieldText=l.do,this.logger=this.logService.getLogger("IdentifierMultiFormatterComponent")}ngOnInit(){this.setup()}getNumHiddenChips(){if(this.identifierUiDatas&&void 0!==this.maxNumChips){const W=this.identifierUiDatas.length-this.maxNumChips;return W>0?W:0}return 0}setup(){let W=this.fieldData,q=this.field;(0,e.isEmpty)(q)?this.logger.error("No field provided to the component"):(0,e.isEmpty)(W)||(W=this.defaultIdentifierMultiFormatter.limitFieldByDisplayCount(q,W),this.isChipDisplayMode=this.getIsChipDisplayMode(),this.identifierUiDatas=this.getIdentifierUiDatas(W,this.field))}getIsChipDisplayMode(){var W,q;return(null===(q=null===(W=this.field.display)||void 0===W?void 0:W.identifier_multi)||void 0===q?void 0:q.mode)===p.Ij.ModeEnum.pill&&(this.contextType===l.Qy.profile||this.contextType===l.Qy.contactsSearch||this.contextType===l.Qy.orgCardsSearch)}getIdentifierUiDatas(W,q){if(W&&W.length>0){let le=[];if(W.forEach(J=>{let u=this.formatIdentifierUiData(J,q);u&&le.push(u)}),le.length>0)return le}}formatIdentifierUiData(W,q){let le=null==W?void 0:W.entity_def_id;if(le){let J=this.getRoute(q,W),u=this.getIdentifierLabel(le,W),D={identifier:W};if(J&&u)return{route:J,label:u,uuid:W.uuid,entityDefId:le,canHover:this.metadataService.hasPreviewLayouts(le),hoverPayload:D}}else this.logger.error("Identifier has no entityDefId",{identifier:W})}getRoute(W,q){if(q&&(q.permalink||q.uuid)){if(!W.query||!W.query.template)return 0===this.metadataService.getLayouts(q.entity_def_id).length?void 0:this.urlService.getIdentifierRoute(q);{let J=this.queryData;return W.query.injected_field_id===W.id&&(J={localProperties:{[W.id]:q}}),this.formatterService.constructDrillInRoute(this.collectionId,W.id,W.query,J,this.queryTemplateSearchUi)||void this.logger.error("Query template was missing collection or field ids",{searchCollectionId:this.collectionId,queryTemplateCollectionId:W.query.template.collection_id,fieldId:W.id})}}this.logger.error("Identifier has no permalink or uuid",{identifier:q})}getIdentifierLabel(W,q){var le;let J=null==q?void 0:q.value;if(J)return J;{let u=this.metadataService.getEntityDef(W);return(null===(le=null==u?void 0:u.labels)||void 0===le?void 0:le.name)||void this.logger.error("Identifier has no provided label and we could find no matching entityDef to fall back to",{identifier:q})}}}return Q.\u0275fac=function(W){return new(W||Q)(c.Y36(a.$b),c.Y36(l.eM),c.Y36(y.$V),c.Y36(d.Do),c.Y36(f.r),c.Y36(g.iO))},Q.\u0275cmp=c.Xpm({type:Q,selectors:[["identifier-multi-formatter"]],inputs:{collectionId:"collectionId",field:"field",fieldData:"fieldData",queryData:"queryData",linkColor:"linkColor",contextType:"contextType",queryTemplateSearchUi:"queryTemplateSearchUi",maxNumChips:"maxNumChips"},decls:4,vars:2,consts:[[1,"component--field-formatter","field-type-identifier-multi"],[4,"ngIf","ngIfElse"],["listOfChips",""],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"cb-link","routerLink","hoverPreview","hoverPayload","hoverComponent","title"],["class","hidden-chips",4,"ngIf"],[3,"routerLink",4,"ngIf"],[3,"routerLink"],["color","success"],[1,"hidden-chips"]],template:function(W,q){if(1&W&&(c.TgZ(0,"span",0),c.YNc(1,x,3,2,"ng-container",1),c.qZA(),c.YNc(2,b,4,6,"ng-template",null,2,c.W1O)),2&W){const le=c.MAs(3);c.xp6(1),c.Q6J("ngIf",!q.isChipDisplayMode)("ngIfElse",le)}},directives:[r.O5,r.sg,o.n,_.I,n.yS,m.a,v.O,h.Y],pipes:[r.OU,C.X],styles:["chips-container[_ngcontent-%COMP%]{margin-top:-4px;margin-left:-4px}chips-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}chip[_ngcontent-%COMP%]{margin:4px!important;padding:6px 12px}.profile-loading[_nghost-%COMP%]   chips-container[_ngcontent-%COMP%], .profile-loading   [_nghost-%COMP%]   chips-container[_ngcontent-%COMP%], .entity-loading[_nghost-%COMP%]   chips-container[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   chips-container[_ngcontent-%COMP%]{margin:0!important;background-color:#e9e9e9!important;color:transparent!important}.profile-loading[_nghost-%COMP%]   chip[_ngcontent-%COMP%], .profile-loading   [_nghost-%COMP%]   chip[_ngcontent-%COMP%], .entity-loading[_nghost-%COMP%]   chip[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   chip[_ngcontent-%COMP%]{visibility:hidden!important}.hidden-chips[_ngcontent-%COMP%]{font-weight:500}"],changeDetection:0}),Q})()},33145:(oe,L,t)=>{t.d(L,{f:()=>u});var e=t(3184),i=t(92938),l=t(93443),y=t(94882),d=t(469),g=t(32478),f=t(36362),a=t(20757),c=t(87317),r=t(82796),o=t(47367),_=t(74160),n=t(19975),m=t(43652),v=t(74929);function h(D,se){if(1&D&&e._UZ(0,"theme-icon",4),2&D){const ne=e.oxw();e.Q6J("themeId",ne.theme.id)}}function C(D,se){if(1&D&&(e.ynx(0),e.TgZ(1,"div",13)(2,"a",14)(3,"span",15)(4,"label-with-icon",16),e._uU(5),e.qZA()()()(),e._UZ(6,"mat-divider"),e.BQk()),2&D){const ne=e.oxw(2);e.xp6(2),e.Q6J("href",ne.theme.attribution_url,e.LSH),e.uIk("aria-label",ne.themeLinkLabel),e.xp6(3),e.Oqu(ne.themeLinkLabel)}}function S(D,se){if(1&D&&(e.TgZ(0,"upsell-modal-button",17),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&D){const ne=e.oxw(2);e.Q6J("featureSet",ne.sortUpsell),e.xp6(1),e.hij(" ",e.lcZ(2,2,"CBL.SEARCH.COLUMN_MENU.SORT_ASC")," ")}}function I(D,se){if(1&D){const ne=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(){e.CHM(ne);const ee=e.oxw(2);return ee.onSort(ee.columnId,ee.SortEnum.asc)}),e.ALo(1,"translate"),e.TgZ(2,"span",19)(3,"label-with-icon",20),e._uU(4),e.ALo(5,"translate"),e.qZA()()()}if(2&D){const ne=e.oxw(2);e.Q6J("disabled","asc"===ne.currentSort),e.uIk("aria-label",e.lcZ(1,4,"CBL.SEARCH.COLUMN_MENU.SORT_ASC")),e.xp6(3),e.Q6J("iconKey",ne.alphaSort?"icon_a_to_z":"icon_sort_ascending"),e.xp6(1),e.Oqu(e.lcZ(5,6,"CBL.SEARCH.COLUMN_MENU.SORT_ASC"))}}function T(D,se){if(1&D&&(e.TgZ(0,"upsell-modal-button",21),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&D){const ne=e.oxw(2);e.Q6J("featureSet",ne.sortUpsell),e.xp6(1),e.hij(" ",e.lcZ(2,2,"CBL.SEARCH.COLUMN_MENU.SORT_DESC")," ")}}function N(D,se){if(1&D){const ne=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(){e.CHM(ne);const ee=e.oxw(2);return ee.onSort(ee.columnId,ee.SortEnum.desc)}),e.ALo(1,"translate"),e.TgZ(2,"span",19)(3,"label-with-icon",20),e._uU(4),e.ALo(5,"translate"),e.qZA()()()}if(2&D){const ne=e.oxw(2);e.Q6J("disabled","desc"===ne.currentSort),e.uIk("aria-label",e.lcZ(1,4,"CBL.SEARCH.COLUMN_MENU.SORT_DESC")),e.xp6(3),e.Q6J("iconKey",ne.alphaSort?"icon_z_to_a":"icon_sort_descending"),e.xp6(1),e.Oqu(e.lcZ(5,6,"CBL.SEARCH.COLUMN_MENU.SORT_DESC"))}}function x(D,se){if(1&D){const ne=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(){e.CHM(ne);const ee=e.oxw(2);return ee.onRemoveSort(ee.columnId)}),e.ALo(1,"translate"),e.TgZ(2,"span",19)(3,"label-with-icon",22),e._uU(4),e.ALo(5,"translate"),e.qZA()()()}if(2&D){const ne=e.oxw(2);e.Q6J("disabled",!("asc"===ne.currentSort||"desc"===ne.currentSort)),e.uIk("aria-label",e.lcZ(1,3,"CBL.SEARCH.COLUMN_MENU.REMOVE_SORT")),e.xp6(4),e.Oqu(e.lcZ(5,5,"CBL.SEARCH.COLUMN_MENU.REMOVE_SORT"))}}function s(D,se){1&D&&e._UZ(0,"mat-divider")}function E(D,se){if(1&D){const ne=e.EpF();e.TgZ(0,"button",23),e.NdJ("click",function(){e.CHM(ne);const ee=e.oxw(2);return ee.onAdd(ee.columnId)}),e.TgZ(1,"span",19)(2,"label-with-icon",24),e._uU(3),e.ALo(4,"translate"),e.qZA()()()}2&D&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"CBL.SEARCH.COLUMN_MENU.ADD_COLUMN")))}function H(D,se){if(1&D){const ne=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(){e.CHM(ne);const ee=e.oxw(2);return ee.onRemove(ee.columnId)}),e.ALo(1,"translate"),e.TgZ(2,"span",19)(3,"label-with-icon",25),e._uU(4),e.ALo(5,"translate"),e.qZA()()()}if(2&D){const ne=e.oxw(2);e.Q6J("disabled","identifier"==ne.columnId),e.uIk("aria-label",e.lcZ(1,3,"CBL.SEARCH.COLUMN_MENU.REMOVE_COLUMN")),e.xp6(4),e.Oqu(e.lcZ(5,5,"CBL.SEARCH.COLUMN_MENU.REMOVE_COLUMN"))}}function V(D,se){1&D&&e._UZ(0,"mat-divider")}function b(D,se){if(1&D){const ne=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(){e.CHM(ne);const ee=e.oxw(2);return ee.onMove(ee.columnId,"left")}),e.ALo(1,"translate"),e.TgZ(2,"span",19)(3,"label-with-icon",26),e._uU(4),e.ALo(5,"translate"),e.qZA()()()}if(2&D){const ne=e.oxw(2);e.Q6J("disabled",ne.isFirst),e.uIk("aria-label",e.lcZ(1,3,"CBL.SEARCH.COLUMN_MENU.COLUMN_LEFT")),e.xp6(4),e.Oqu(e.lcZ(5,5,"CBL.SEARCH.COLUMN_MENU.COLUMN_LEFT"))}}function B(D,se){if(1&D){const ne=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(){e.CHM(ne);const ee=e.oxw(2);return ee.onMove(ee.columnId,"right")}),e.ALo(1,"translate"),e.TgZ(2,"span",19)(3,"label-with-icon",27),e._uU(4),e.ALo(5,"translate"),e.qZA()()()}if(2&D){const ne=e.oxw(2);e.Q6J("disabled",ne.isLast),e.uIk("aria-label",e.lcZ(1,3,"CBL.SEARCH.COLUMN_MENU.COLUMN_RIGHT")),e.xp6(4),e.Oqu(e.lcZ(5,5,"CBL.SEARCH.COLUMN_MENU.COLUMN_RIGHT"))}}function Q(D,se){if(1&D){const ne=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(){e.CHM(ne);const ee=e.oxw(2);return ee.onMove(ee.columnId,"start")}),e.ALo(1,"translate"),e.TgZ(2,"span",19)(3,"label-with-icon",28),e._uU(4),e.ALo(5,"translate"),e.qZA()()()}if(2&D){const ne=e.oxw(2);e.Q6J("disabled",ne.isFirst),e.uIk("aria-label",e.lcZ(1,3,"CBL.SEARCH.COLUMN_MENU.COLUMN_START")),e.xp6(4),e.Oqu(e.lcZ(5,5,"CBL.SEARCH.COLUMN_MENU.COLUMN_START"))}}function $(D,se){if(1&D){const ne=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(){e.CHM(ne);const ee=e.oxw(2);return ee.onMove(ee.columnId,"end")}),e.ALo(1,"translate"),e.TgZ(2,"span",19)(3,"label-with-icon",29),e._uU(4),e.ALo(5,"translate"),e.qZA()()()}if(2&D){const ne=e.oxw(2);e.Q6J("disabled",ne.isLast),e.uIk("aria-label",e.lcZ(1,3,"CBL.SEARCH.COLUMN_MENU.COLUMN_END")),e.xp6(4),e.Oqu(e.lcZ(5,5,"CBL.SEARCH.COLUMN_MENU.COLUMN_END"))}}function W(D,se){if(1&D&&(e.ynx(0),e.TgZ(1,"button",5),e.ALo(2,"translate"),e._UZ(3,"icon",6),e.qZA(),e.TgZ(4,"mat-menu",7,8),e.YNc(6,C,7,3,"ng-container",3),e.YNc(7,S,3,4,"upsell-modal-button",9),e.YNc(8,I,6,8,"button",10),e.YNc(9,T,3,4,"upsell-modal-button",11),e.YNc(10,N,6,8,"button",10),e.YNc(11,x,6,7,"button",10),e.YNc(12,s,1,0,"mat-divider",3),e.YNc(13,E,5,3,"button",12),e.YNc(14,H,6,7,"button",10),e.YNc(15,V,1,0,"mat-divider",3),e.YNc(16,b,6,7,"button",10),e.YNc(17,B,6,7,"button",10),e.YNc(18,Q,6,7,"button",10),e.YNc(19,$,6,7,"button",10),e.qZA(),e.BQk()),2&D){const ne=e.MAs(5),_e=e.oxw();e.xp6(1),e.Q6J("matMenuTriggerFor",ne),e.uIk("aria-label",e.lcZ(2,17,"CBL.SEARCH.COLUMN_MENU.MENU_BUTTON")),e.xp6(3),e.Q6J("overlapTrigger",!1),e.xp6(2),e.Q6J("ngIf",_e.theme&&_e.isPartnerTheme&&_e.themeLinkLabel),e.xp6(1),e.Q6J("ngIf",_e.sortable&&_e.sortUpsell),e.xp6(1),e.Q6J("ngIf",_e.sortable&&!_e.sortUpsell),e.xp6(1),e.Q6J("ngIf",_e.sortable&&_e.sortUpsell),e.xp6(1),e.Q6J("ngIf",_e.sortable&&!_e.sortUpsell),e.xp6(1),e.Q6J("ngIf",_e.sortable&&!_e.sortUpsell&&_e.sortRemovable),e.xp6(1),e.Q6J("ngIf",_e.sortable&&_e.removable),e.xp6(1),e.Q6J("ngIf",_e.canAddNewColumn),e.xp6(1),e.Q6J("ngIf",_e.removable),e.xp6(1),e.Q6J("ngIf",(_e.sortable||_e.removable)&&_e.movable),e.xp6(1),e.Q6J("ngIf",_e.movable),e.xp6(1),e.Q6J("ngIf",_e.movable),e.xp6(1),e.Q6J("ngIf",_e.movable),e.xp6(1),e.Q6J("ngIf",_e.movable)}}const q=function(D){return{"sort-icon-hidden":D}},le=function(D){return{sorted:D}},J=["*"];let u=(()=>{class D{constructor(ne,_e,ee,w){this.elementRef=ne,this.renderer=_e,this.labelService=ee,this.themeService=w,this.isSheetGrid=!1,this.sortable=!1,this.alphaSort=!1,this.sortRemovable=!0,this.sort=new e.vpe,this.removeSort=new e.vpe,this.move=new e.vpe,this.remove=new e.vpe,this.add=new e.vpe,this.SortEnum=l.Di.SortEnum,this.isPartnerTheme=!1}ngOnInit(){this.theme&&(this.themeLinkLabel=this.getThemeLinkLabel(),this.isPartnerTheme=this.themeService.isPartnerTheme(this.theme.id)),this.setHostClasses()}ngAfterViewInit(){this.columnId&&(this.renderer.addClass(this.elementRef.nativeElement,`column-id-${this.columnId}`),this.renderer.addClass(this.elementRef.nativeElement,`column-type-${this.type}`),this.renderer.setAttribute(this.elementRef.nativeElement,"data-columnid",this.columnId))}onSort(ne,_e){this.sort&&this.sort.emit({columnId:ne,direction:_e})}onRemoveSort(ne){this.removeSort&&this.removeSort.emit(ne)}onMove(ne,_e){this.move&&this.move.emit({columnId:ne,location:_e})}onRemove(ne){this.remove&&this.remove.emit(ne)}onAdd(ne){this.add.emit(ne)}setHostClasses(){this.elementRef.nativeElement.classList.add("flex-noshrink"),this.elementRef.nativeElement.classList.add("layout-row"),this.elementRef.nativeElement.classList.add("layout-align-center-center"),this.fieldTypeId&&this.elementRef.nativeElement.classList.add(`field-type-${this.fieldTypeId}`),this.isSheetGrid&&this.elementRef.nativeElement.classList.add("layout-align-space-between-center")}getThemeLinkLabel(){if(!this.facet)return;let ne=this.facet.labels&&this.facet.labels.name||this.facet.id;return ne=(0,i.capitalize)(ne),this.labelService.getInterpolatedLabel("CBL.SEARCH.COLUMN_MENU.VIEW_ON",{siteName:ne})}}return D.\u0275fac=function(ne){return new(ne||D)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(y.Q),e.Y36(d.f))},D.\u0275cmp=e.Xpm({type:D,selectors:[["grid-column-header"]],inputs:{fieldTypeId:"fieldTypeId",columnId:"columnId",isSheetGrid:"isSheetGrid",theme:"theme",facet:"facet",sortable:"sortable",currentSort:"currentSort",alphaSort:"alphaSort",sortRemovable:"sortRemovable",sortUpsell:"sortUpsell",movable:"movable",isFirst:"isFirst",isLast:"isLast",type:"type",removable:"removable",canAddNewColumn:"canAddNewColumn"},outputs:{sort:"sort",removeSort:"removeSort",move:"move",remove:"remove",add:"add"},ngContentSelectors:J,decls:6,vars:9,consts:[[1,"sort-icon",3,"ngClass","key"],[1,"header-contents",3,"ngClass"],[3,"themeId",4,"ngIf"],[4,"ngIf"],[3,"themeId"],["type","button","mat-icon-button","",1,"header-icon",3,"matMenuTriggerFor"],["key","icon_caret_down","size","large"],[1,"grid-column-menu",3,"overlapTrigger"],["columnMenu","matMenu"],["triggerLocation","discover-grid-column-header-sort-ascending","buttonType","basic",3,"featureSet",4,"ngIf"],["mat-menu-item","","type","button",3,"disabled","click",4,"ngIf"],["triggerLocation","discover-grid-column-header-sort-descending","buttonType","basic",3,"featureSet",4,"ngIf"],["mat-menu-item","","type","button",3,"click",4,"ngIf"],[1,"theme-link"],["mat-menu-item","","cb-link","primary","target","_blank",3,"href"],[1,"theme-icon-container"],["iconKey","icon_new_tab","iconSize","large"],["triggerLocation","discover-grid-column-header-sort-ascending","buttonType","basic",3,"featureSet"],["mat-menu-item","","type","button",3,"disabled","click"],[1,"icon-container"],["iconSize","large",3,"iconKey"],["triggerLocation","discover-grid-column-header-sort-descending","buttonType","basic",3,"featureSet"],["iconKey","icon_sort_remove","iconSize","large"],["mat-menu-item","","type","button",3,"click"],["iconKey","icon_add_circle","iconSize","large"],["iconKey","icon_remove_column","iconSize","large"],["iconKey","icon_caret_left","iconSize","large"],["iconKey","icon_caret_right","iconSize","large"],["iconKey","icon_caret_double_left","iconSize","large"],["iconKey","icon_caret_double_right","iconSize","large"]],template:function(ne,_e){1&ne&&(e.F$t(),e._UZ(0,"icon",0),e.TgZ(1,"div",1),e.YNc(2,h,1,1,"theme-icon",2),e.TgZ(3,"div"),e.Hsn(4),e.qZA()(),e.YNc(5,W,20,19,"ng-container",3)),2&ne&&(e.Q6J("ngClass",e.VKq(5,q,!_e.sortable||!_e.currentSort))("key","asc"===_e.currentSort?"icon_sort_ascending":"icon_sort_descending"),e.xp6(1),e.Q6J("ngClass",e.VKq(7,le,"asc"===_e.currentSort||"desc"===_e.currentSort)),e.xp6(1),e.Q6J("ngIf",_e.theme&&_e.isPartnerTheme),e.xp6(3),e.Q6J("ngIf",_e.columnId&&(_e.sortable||_e.movable||_e.removable)))},directives:[g.o,f.mk,f.O5,a.p,c.lW,r.p6,r.VK,o.I,r.OP,_.d,n.d,m.J],pipes:[v.X],styles:["[_nghost-%COMP%]{position:relative;min-height:32px}.card[_nghost-%COMP%]{justify-content:flex-start;align-items:center;align-content:center;max-width:100%}.card[_nghost-%COMP%] > *[_ngcontent-%COMP%]{max-width:100%;box-sizing:border-box}.card.field-type-integer[_nghost-%COMP%], .card.field-type-decimal[_nghost-%COMP%], .card.field-type-money[_nghost-%COMP%], .card.field-type-money_decimal[_nghost-%COMP%]{justify-content:flex-end;align-items:center;align-content:center;max-width:100%}.card.field-type-integer[_nghost-%COMP%] > *[_ngcontent-%COMP%], .card.field-type-decimal[_nghost-%COMP%] > *[_ngcontent-%COMP%], .card.field-type-money[_nghost-%COMP%] > *[_ngcontent-%COMP%], .card.field-type-money_decimal[_nghost-%COMP%] > *[_ngcontent-%COMP%]{max-width:100%;box-sizing:border-box}.sorted[_ngcontent-%COMP%]{color:#000}.sort-icon[_ngcontent-%COMP%]{margin:0 4px 0 8px;flex:0 0 auto}.sort-icon-hidden[_ngcontent-%COMP%]{display:none}theme-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:16px;width:16px}.theme-link[_ngcontent-%COMP%]{padding-top:2px}.icon-container[_ngcontent-%COMP%], .theme-icon-container[_ngcontent-%COMP%]{box-sizing:border-box;display:flex!important;flex-direction:row;justify-content:flex-start;align-items:center;align-content:center;max-width:100%}.icon-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%], .theme-icon-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{max-width:100%;box-sizing:border-box}.icon-container[_ngcontent-%COMP%]   icon[_ngcontent-%COMP%], .theme-icon-container[_ngcontent-%COMP%]   icon[_ngcontent-%COMP%]{flex:0 0 auto;box-sizing:border-box}.icon-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .theme-icon-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex:1;box-sizing:border-box}.icon-container[_ngcontent-%COMP%]   icon[_ngcontent-%COMP%]{margin-right:4px}.grid-column-menu[_ngcontent-%COMP%]   .mat-menu-content[_ngcontent-%COMP%]{padding:0}.header-contents[_ngcontent-%COMP%]{flex-grow:1}.header-contents[_ngcontent-%COMP%]   theme-icon[_ngcontent-%COMP%]{margin-right:4px}.header-contents[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}home-feeds[_nghost-%COMP%]   .header-contents[_ngcontent-%COMP%], home-feeds   [_nghost-%COMP%]   .header-contents[_ngcontent-%COMP%]{justify-content:flex-start;line-height:3em}home-feeds[_nghost-%COMP%]   .header-contents[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], home-feeds   [_nghost-%COMP%]   .header-contents[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{text-transform:uppercase}"],changeDetection:0}),D})()},25975:(oe,L,t)=>{t.d(L,{A:()=>a});var e=t(36362),i=t(90898),p=t(35503),l=t(32519),y=t(83e3),d=t(19366),g=t(32313),f=t(3184);let a=(()=>{class c{}return c.\u0275fac=function(o){return new(o||c)},c.\u0275mod=f.oAB({type:c}),c.\u0275inj=f.cJS({imports:[[e.ez,i.q,p.Dt,l.n,y.S,d.L,g.H]]}),c})()},32519:(oe,L,t)=>{t.d(L,{n:()=>l});var e=t(36362),i=t(31156),p=t(3184);let l=(()=>{class y{}return y.\u0275fac=function(g){return new(g||y)},y.\u0275mod=p.oAB({type:y}),y.\u0275inj=p.cJS({imports:[[e.ez,i.H]]}),y})()},32478:(oe,L,t)=>{t.d(L,{o:()=>y});var e=t(36362),i=t(62036),p=t(3184);const l={};let y=(()=>{class d{constructor(f,a){this._document=f,this.elementRef=a,this.key=d.DEFAULT_ICON_KEY,this.color="accent",this.size="default"}ngOnChanges(f){f.key&&this.setup(this.key),this.svgEl&&this.svgEl.setAttribute("class",[this.size,this.color].join(" "))}setup(f){let a=i.U[f||d.DEFAULT_ICON_KEY];this.elementRef.nativeElement.hasChildNodes()&&this.elementRef.nativeElement.removeChild(this.elementRef.nativeElement.childNodes[0]),l[f]||(l[f]=this.createSvgElement(a)),this.svgEl=this.elementRef.nativeElement.appendChild(l[f].cloneNode(!0))}createSvgElement(f){const a=(this._document||document).createElement("DIV");return a.innerHTML=f,a.querySelector("svg")}}return d.DEFAULT_ICON_KEY="icon_company",d.\u0275fac=function(f){return new(f||d)(p.Y36(e.K0),p.Y36(p.SBq))},d.\u0275cmp=p.Xpm({type:d,selectors:[["icon"]],inputs:{key:"key",color:"color",size:"size"},features:[p.TTD],decls:0,vars:0,template:function(f,a){},styles:["icon{line-height:0;display:inline-block}icon>svg.inherit{fill:currentColor}icon>svg.light{fill:#fff}icon>svg.disabled{fill:#cbcbcb}icon>svg.primary{fill:#146aff}icon>svg.accent{fill:#183444}icon>svg.warn{fill:#c73636}icon>svg.success{fill:#36c78f}icon>svg.pending{fill:#ffd452}icon>svg.pro{fill:#146aff!important}icon>svg.pro-white{fill:#fff}icon>svg.pro-white rect{fill:#146aff}icon>svg.pro-gold{fill:#f5a623}icon>svg.info{fill:#666}icon>svg.info-dark{fill:#40aad1}icon>svg.small{height:4px;width:4px;min-width:4px;min-height:4px;line-height:4px}icon>svg.medium{height:8px;width:8px;min-width:8px;min-height:8px;line-height:8px}icon>svg.large{height:16px;width:16px;min-width:16px;min-height:16px;line-height:16px}icon>svg.xlarge{height:20px;width:20px;min-width:20px;min-height:20px;line-height:20px}icon>svg.xxlarge{height:32px;width:32px;min-width:32px;min-height:32px;line-height:32px}icon>svg.xxxlarge{height:48px;width:48px;min-width:48px;min-height:48px;line-height:48px}icon>svg.text{height:1em;width:1em;min-width:1em;min-height:1em;line-height:1em}icon>svg.default{height:20px;width:20px;min-width:20px;min-height:20px;line-height:20px}icon>svg.custom{width:100%;height:100%}.mat-raised-button label-with-icon icon>svg.default,.mat-stroked-button label-with-icon icon>svg.default,.mat-button label-with-icon icon>svg.default{height:16px;width:16px;min-width:16px;min-height:16px;line-height:16px}\n"],encapsulation:2,changeDetection:0}),d})()},62036:(oe,L,t)=>{t.d(L,{U:()=>e});const e={icon_a_to_z:'<svg viewBox="0 0 24 24"><path style="stroke-width:1.29999995" d="M 2.6,5.5 A 2.5999999,2.5999999 0 0 0 0,8.0999999 V 18.5 h 2.6 v -5.2 h 2.6 v 5.2 H 7.8 V 8.0999999 A 2.5999999,2.5999999 0 0 0 5.2,5.5 H 2.6 m 0,2.5999999 H 5.2 V 10.7 H 2.6 Z" /><path style="stroke-width:1.29999995" d="m 16.2,5.5 v 2.5999999 h 5.2 L 16.2,15.9 v 2.6 H 24 V 15.9 H 18.8 L 24,8.0999999 V 5.5 Z" /><path style="stroke-width:1.07692313" d="m 10.25,8.5 3.5,3.5 -3.5,3.5 v -7" /></svg>',icon_account_circle:'<svg viewBox="0 0 24 24"><path d="M12,0A12,12,0,1,0,24,12,12,12,0,0,0,12,0Zm0,3.6A3.6,3.6,0,1,1,8.4,7.2,3.6,3.6,0,0,1,12,3.6Zm0,17a8.66,8.66,0,0,1-7.2-3.86c0-2.39,4.8-3.7,7.2-3.7s7.16,1.31,7.2,3.7A8.66,8.66,0,0,1,12,20.64Z"/></svg>',icon_account_outline:'<svg viewBox="0 0 24 24"><path d="M12,10.8A1.8,1.8,0,1,1,13.8,9,1.8,1.8,0,0,1,12,10.8m0-6A4.2,4.2,0,1,0,16.2,9,4.189,4.189,0,0,0,12,4.8m7.632,13C17.916,15.708,13.752,15,12,15s-5.916.708-7.632,2.8A9.593,9.593,0,1,1,21.6,12a9.54,9.54,0,0,1-1.968,5.8M6.084,19.536C6.6,18.456,9.744,17.4,12,17.4s5.412,1.056,5.916,2.136a9.51,9.51,0,0,1-11.832,0M12,0A12,12,0,1,0,24,12,12,12,0,0,0,12,0"/></svg>',icon_acquiring_company:'<svg viewBox="0 0 24 24"><path d="M3.23203378,10.7550121 L3.23203378,15.7599886 L0.363795946,18.6253377 C-0.121265315,19.1133229 -0.121265315,19.9027442 0.363795946,20.3895919 L3.5952604,23.6303142 C3.83095919,23.8669131 4.15091744,24 4.48453938,24 C4.81929997,24 5.13925822,23.8669131 5.37381836,23.6303142 L10.7470674,18.2624769 L15.7570898,18.2624769 C16.4482452,18.2624769 17.0107341,17.7028295 17.0107341,17.0112328 L17.0107341,15.7599886 L18.262101,15.7599886 C18.954395,15.7599886 19.5146066,15.2003412 19.5146066,14.5087445 L19.5146066,13.2575004 L20.7671122,13.2575004 C21.4594062,13.2575004 22.0196178,12.697853 22.0196178,12.0062562 L22.0196178,10.7550121 L13.2520786,10.7550121 L13.2520786,12.0062562 C13.2520786,13.3883122 12.1305168,14.5087445 10.7470674,14.5087445 L8.2420562,14.5087445 C6.85860682,14.5087445 5.73704499,13.3883122 5.73704499,12.0062562 L5.73704499,8.25252382 L3.23203378,10.7550121 Z M10.7470674,4.49879141 L14.5045842,4.49879141 L18.6264663,0.369685767 C18.8610264,0.133086876 19.1809847,8.17124146e-14 19.5146066,8.17124146e-14 C19.8493672,8.17124146e-14 20.1693255,0.133086876 20.4038856,0.369685767 L23.6353501,3.61040808 C24.12155,4.09839329 24.12155,4.88667709 23.6353501,5.37466231 L20.7671122,8.25252382 L10.7470674,8.25252382 L10.7470674,10.7550121 C10.7470674,11.4454713 10.1868558,12.0062562 9.4945618,12.0062562 C8.80340644,12.0062562 8.2420562,11.4454713 8.2420562,10.7550121 L8.2420562,7.00127968 C8.2420562,5.61922366 9.36361803,4.49879141 10.7470674,4.49879141 L10.7470674,4.49879141 Z"/></svg>',icon_acquisition:'<svg viewBox="0 0 24 24"><path d="M4.84,9.74l2-2L2,2.9l-2,2ZM24,12,17.61,5.61v5H8.52L0,19.1l2,2,7.68-7.68h7.93v5Z"/></svg>',icon_acquisition_thin:'<svg viewBox="0 0 24 24"><path d="M10.66,16.521a9.961,9.961,0,0,1,.6-1.4,11.906,11.906,0,0,0-1.251-1.459l-.2-.2a7.982,7.982,0,0,0-5.557-2.34H2.175l1.977-2a.626.626,0,0,0-.876-.894L.185,11.338a.631.631,0,0,0,0,.893l3.091,3.107a.625.625,0,0,0,.438.176.644.644,0,0,0,.438-.176.631.631,0,0,0,0-.893L2.1,12.382H4.252a7.505,7.505,0,0,1,6.42,4.139ZM9.408,4.923,11.423,2.9V13.212l.626.755.625-.755V2.9L14.7,4.923a.62.62,0,0,0,.438.189.629.629,0,0,0,.45-1.069L12.512.936a.624.624,0,0,0-.889,0L8.52,4.043a.63.63,0,0,0,0,.88.623.623,0,0,0,.888,0ZM24,11.779a.651.651,0,0,1-.175.452l-3.091,3.107a.63.63,0,1,1-.889-.893l2.065-2.063H20.5a7.741,7.741,0,0,0-7.847,7.61v2.629a.626.626,0,1,1-1.251,0V19.992a8.994,8.994,0,0,1,9.1-8.805h1.339l-1.99-2.062a.628.628,0,1,1,.889-.831l3.041,3.044A.634.634,0,0,1,24,11.779Z"/></svg>',icon_add_circle:'<svg viewBox="0 0 24 24"><path d="M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M13,7H11V11H7V13H11V17H13V13H17V11H13V7Z" /></svg>',icon_add_to_list:'<svg viewBox="0 0 24 24"><path d="m 0,5.3339844 0,2.6757812 2.6640625,0 0,-2.6757812 z m 5.328125,0 0,2.6757812 18.671875,0 0,-2.6757812 z M 17,10 c -1.03994,0.0032 -2.066104,0.238043 -3.003906,0.6875 0.0082,-0.0039 0.01521,-0.0098 0.02344,-0.01367 l -8.691406,0 0,2.664063 5.712891,0 c -0.499168,0.813119 -0.82684,1.719699 -0.962891,2.664062 l -4.75,0 0,2.664063 4.880859,0 C 10.975669,21.794794 13.778658,23.996393 17,24 c 3.221342,-0.0036 6.024331,-2.205206 6.791016,-5.333984 L 24,18.666016 24,17 l 0,-0.998047 -0.08008,0 c -0.137316,-0.951312 -0.469077,-1.864153 -0.97461,-2.681641 0.0037,0.006 0.008,0.01156 0.01172,0.01758 l 1.042969,0 0,-2.664063 -4.019531,0 C 19.048724,10.232471 18.030989,10.00238 17,10 Z m -17,0.673828 0,2.664063 2.6640625,0 0,-2.664063 z m 17,0.726563 c 3.086998,0 5.599609,2.512609 5.599609,5.599609 0,3.087 -2.512611,5.599609 -5.599609,5.599609 C 13.913,22.599609 11.400391,20.087 11.400391,17 11.400391,13.913 13.913,11.400391 17,11.400391 Z M 16.300781,13.5 l 0,2.800781 -2.800781,0 0,1.398438 2.800781,0 0,2.800781 1.398438,0 0,-2.800781 2.800781,0 0,-1.398438 -2.800781,0 0,-2.800781 z M 0,16.001953 l 0,2.664063 2.6640625,0 0,-2.664063 z M 23.951172,17.75 c -0.0069,0.06008 -0.01305,0.120074 -0.02148,0.179688 0.0079,-0.0598 0.0151,-0.119702 0.02148,-0.179688 z" /></svg>',icon_all:'<svg viewBox="0 0 24 24"><path d="M20.18,11.09v9.09H11.09V11.09h9.09m0-1.82H11.09a1.82,1.82,0,0,0-1.82,1.82v9.09A1.82,1.82,0,0,0,11.09,22h9.09A1.82,1.82,0,0,0,22,20.18V11.09a1.82,1.82,0,0,0-1.82-1.82Z"/><path d="M16.55,5.64H7.45A1.82,1.82,0,0,0,5.64,7.45v9.09a1.82,1.82,0,0,0,1.82,1.82h.91V16.55H7.45V7.45h9.09v.91h1.82V7.45A1.82,1.82,0,0,0,16.55,5.64Z"/><path  d="M3.82,3.82h9.09v.91h1.82V3.82A1.82,1.82,0,0,0,12.91,2H3.82A1.82,1.82,0,0,0,2,3.82v9.09a1.82,1.82,0,0,0,1.82,1.82h.91V12.91H3.82Z"/></svg>',icon_all_filters:'<svg viewBox="0 0 24 24"><title>all_filters</title><rect width="11" height="6" rx="2"/><rect x="13" width="11" height="6" rx="2"/><rect x="10" y="2" width="5" height="2"/><rect y="8" width="11" height="6" rx="2"/><rect x="13" y="8" width="11" height="6" rx="2"/><rect x="10" y="10" width="5" height="2"/><rect y="16" width="11" height="6" rx="2"/></svg>',icon_arrow_down:'<svg viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"/></svg>',icon_arrow_left:'<svg viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>',icon_arrow_top_right:'<svg viewBox="0 0 24 24"><path d="M5,17.59L15.59,7H9V5H19V15H17V8.41L6.41,19L5,17.59Z"/></svg>',icon_arrow_up:'<svg viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"/></svg>',icon_article:'<svg viewBox="0 0 24 24"><rect x="5.62" y="5.64" width="5.45" height="5.45" rx="1" ry="1"/><rect x="11.98" y="5.64" width="6.36" height="1.82" rx="0.91" ry="0.91"/><rect x="11.98" y="9.27" width="6.36" height="1.82" rx="0.91" ry="0.91"/><rect x="5.62" y="12.91" width="12.73" height="1.82" rx="0.91" ry="0.91"/><rect x="5.62" y="16.55" width="12.73" height="1.82" rx="0.91" ry="0.91"/><path d="M20,4V20H4V4H20m0-2H4A2,2,0,0,0,2,4V20a2,2,0,0,0,2,2H20a2,2,0,0,0,2-2V4a2,2,0,0,0-2-2Z"/></svg>',icon_badge:'<svg viewBox="0 0 24 24"><path d="M20,8.77H13V7.64l0,0,5.06-5.06a.5.5,0,0,0,0-.71l-.71-.71a.5.5,0,0,0-.71,0L12,5.82,7.33,1.15a.5.5,0,0,0-.71,0l-.71.71a.5.5,0,0,0,0,.71L11,7.62l0,0V8.77H4a2,2,0,0,0-2,2v10a2,2,0,0,0,2,2H20a2,2,0,0,0,2-2v-10A2,2,0,0,0,20,8.77Zm-13,6a1.29,1.29,0,1,1-1.29,1.29A1.28,1.28,0,0,1,7,14.77Zm3,6H4V19.7c0-1,2-1.5,3-1.5s3,.5,3,1.5Zm-1-9a1,1,0,0,1,1-1h1v.5a.5.5,0,0,0,.5.5h1a.5.5,0,0,0,.5-.5v-.5h1a1,1,0,0,1,0,2H10A1,1,0,0,1,9,11.77Zm10,9H13a1,1,0,0,1,0-2h6a1,1,0,0,1,0,2Zm0-4H13a1,1,0,1,1,0-2h6a1,1,0,1,1,0,2Z"/></svg>',icon_bill:'<svg viewBox="0 0 24 24"><path d="M19.82,2V22H4.18V2H19.82m0-2H4.18a2,2,0,0,0-2,2V22a2,2,0,0,0,2,2H19.82a2,2,0,0,0,2-2V2a2,2,0,0,0-2-2Z"/><path d="M8.87,6.62c-1-.25-1.27-.5-1.27-.91S8,4.93,8.74,4.93s1,.36,1.06.89h.94A1.69,1.69,0,0,0,9.38,4.2V3.27H8.11v.92A1.65,1.65,0,0,0,6.62,5.72c0,1,.81,1.47,2,1.75s1.27.63,1.27,1-.21.75-1.15.75-1.21-.39-1.26-.89H6.55A1.78,1.78,0,0,0,8.11,10v.92H9.38V10c.83-.16,1.48-.64,1.48-1.51C10.86,7.29,9.83,6.87,8.87,6.62Z"/><rect x="6.55" y="13.09" width="10.91" height="2.18" rx="1"/><rect x="13.09" y="8.73" width="4.36" height="2.18" rx="1"/><rect x="13.09" y="4.36" width="4.36" height="2.18" rx="1"/><rect x="6.55" y="17.45" width="10.91" height="2.18" rx="1"/></svg>',icon_bill_thin:'<svg viewBox="0 0 24 24"><path d="M4.6,21.858V.554H18.266V3.36H21.05V21.822H4.6ZM18.7,23.446H2.95V2.843h1.1V22.412H18.7ZM18.779.923l1.868,1.883H18.779ZM16.36,6.2v.554H11.487V6.2ZM19.4,8.271v.554H11.487V8.271ZM8.226,2.7v1a1.729,1.729,0,0,1,.916.406,1.5,1.5,0,0,1,.513,1.108h-.55a.841.841,0,0,0-.329-.664,1.419,1.419,0,0,0-1.686,0,.834.834,0,0,0,0,1.329,1.3,1.3,0,0,0,.843.295,1.75,1.75,0,0,1,1.209.443,1.5,1.5,0,0,1,.513,1.108,1.443,1.443,0,0,1-.513,1.108,1.729,1.729,0,0,1-.916.406v1.107h-.55V9.268a1.732,1.732,0,0,1-.916-.406,1.505,1.505,0,0,1-.513-1.108H6.8a.839.839,0,0,0,.33.664,1.477,1.477,0,0,0,1.685.037.834.834,0,0,0,0-1.329,1.3,1.3,0,0,0-.843-.295A1.75,1.75,0,0,1,6.76,6.388,1.505,1.505,0,0,1,6.247,5.28,1.447,1.447,0,0,1,6.76,4.172a1.732,1.732,0,0,1,.916-.406V2.7Zm11.212,9.637v.554H15.811v-.554Zm-4.69,0v.554H6.064v-.554Zm4.69,2.659v.554H15.811v-.554Zm-4.69,0v.554H6.064v-.554ZM16.4,17.649V18.2h-.586v-.554Zm1.5,0V18.2h-.586v-.554Zm1.5,0V18.2h-.587v-.554Zm-4.654,0V18.2H6.064v-.554ZM21.6,2.991,18.632,0H4.049V2.289H2.4V24H19.255V22.412H21.6Z"/></svg>',icon_briefcase:'<svg viewBox="0 0 24 24"><path d="M20,7h-4V5c0-1.1-0.9-2-2-2h-4C8.9,3,8,3.9,8,5v2H4C2.9,7,2,7.9,2,9l0,11c0,1.1,0.9,2,2,2h16c1.1,0,2-0.9,2-2V9C22,7.9,21.1,7,20,7z M14,7h-4V5h4V7z"/></svg>',icon_briefcase_outline:'<svg viewBox="0 0 24 24"><path d="M21.6,5.4 C22.932,5.4 24,6.468 24,7.8 L24,21 C24,22.332 22.932,23.4 21.6,23.4 L2.4,23.4 C1.0692,23.4 0,22.332 0,21 L0.0132,7.8 C0.0132,6.468 1.0692,5.4 2.4,5.4 L7.2,5.4 L7.2,3 C7.2,1.668 8.2692,0.6 9.6,0.6 L14.4,0.6 C15.732,0.6 16.8,1.668 16.8,3 L16.8,5.4 L21.6,5.4 Z M2.4,21 L21.6,21 L21.6,7.8 L2.4,7.8 L2.4,21 Z M9.6,5.4 L14.4,5.4 L14.4,3 L9.6,3 L9.6,5.4 Z" id="path-1"></path></svg>',icon_bullet:'<svg viewBox="0 0 24 24"><path d="M12,21.6 C6.696,21.6 2.4,17.304 2.4,12 C2.4,6.696 6.696,2.4 12,2.4 C17.304,2.4 21.6,6.696 21.6,12 C21.6,17.304 17.304,21.6 12,21.6 L12,21.6 Z"></path></svg>',icon_bullseye:'<svg viewBox="0 0 24 24"><path d="M23.268,7.932A11.728,11.728,0,0,1,24,12,12,12,0,1,1,12,0a12.123,12.123,0,0,1,4.08.72L14.148,2.652A9.3,9.3,0,0,0,12,2.4,9.6,9.6,0,1,0,21.6,12a9.3,9.3,0,0,0-.252-2.148ZM12,7.2V4.8A7.2,7.2,0,1,0,19.2,12H16.8A4.8,4.8,0,1,1,12,7.2Zm3.6-2.4V6.6L12.54,9.66A1.661,1.661,0,0,0,12,9.6,2.4,2.4,0,1,0,14.4,12a1.661,1.661,0,0,0-.06-.54L17.4,8.4h1.8L24,3.6H20.4V0Z"/></svg>',icon_cancel:'<svg viewBox="0 0 24 24"><path d="M 12,0 C 5.36,0 0,5.36 0,12 0,18.64 5.36,24 12,24 18.64,24 24,18.64 24,12 24,5.36 18.64,0 12,0 Z m 0,21.6 c -5.28,0 -9.6,-4.32 -9.6,-9.6 0,0 0,0 0,0 0,-2.16 0.72,-4.24 2,-5.84 L 17.84,19.6 c -1.6,1.28 -3.68,2 -5.84,2 z M 19.6,17.92 6.16,4.4 c 1.6,-1.28 3.68,-2 5.84,-2 5.28,0 9.6,4.32 9.6,9.6 0,0 0,0 0,0 0,2.16 -0.72,4.24 -2,5.92 z" /></svg>',icon_card_travel:'<svg viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M20 6h-3V4c0-1.11-.89-2-2-2H9c-1.11 0-2 .89-2 2v2H4c-1.11 0-2 .89-2 2v11c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zM9 4h6v2H9V4zm11 15H4v-2h16v2zm0-5H4V8h3v2h2V8h6v2h2V8h3v6z"/></svg>',icon_card_view:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none"><path d="M22.8 1H1.2C0.48 1 0 1.48 0 2.2V9.4C0 10.12 0.48 10.6 1.2 10.6H22.8C23.52 10.6 24 10.12 24 9.4V2.2C24 1.48 23.52 1 22.8 1ZM22.8 13H1.2C0.48 13 0 13.48 0 14.2V21.4C0 22.12 0.48 22.6 1.2 22.6H22.8C23.52 22.6 24 22.12 24 21.4V14.2C24 13.48 23.52 13 22.8 13Z"/></svg>',icon_cards:'<svg viewBox="0 0 24 24"><path d="M3,11H13V21H3V11M3,9a2,2,0,0,0-2,2V21a2,2,0,0,0,2,2H13a2,2,0,0,0,2-2V11a2,2,0,0,0-2-2Z"/><path d="M7,5H17a2,2,0,0,1,2,2V17a2,2,0,0,1-2,2H16V17h1V7H7V8H5V7A2,2,0,0,1,7,5Z"/><path d="M21,3H11V4H9V3a2,2,0,0,1,2-2H21a2,2,0,0,1,2,2V13a2,2,0,0,1-2,2H20V13h1Z"/></svg>',icon_caret_double_left:'<svg viewBox="0 0 24 24"><path d="M18.41,7.41L17,6L11,12L17,18L18.41,16.59L13.83,12L18.41,7.41M12.41,7.41L11,6L5,12L11,18L12.41,16.59L7.83,12L12.41,7.41Z" /></svg>',icon_caret_double_right:'<svg viewBox="0 0 24 24"><path d="M5.59,7.41L7,6L13,12L7,18L5.59,16.59L10.17,12L5.59,7.41M11.59,7.41L13,6L19,12L13,18L11.59,16.59L16.17,12L11.59,7.41Z" /></svg>',icon_caret_down:'<svg viewBox="0 0 24 24"><path d="M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z" /></svg>',icon_caret_enclosed_down:'<svg viewBox="0 0 24 24"><path d="M19.2,10.181,17.508,8.489,12,13.985l-5.508-5.5L4.8,10.181l7.2,7.2Z"/><path d="M12,2A10,10,0,1,1,2,12,10.011,10.011,0,0,1,12,2m0-2A12,12,0,1,0,24,12,12,12,0,0,0,12,0Z"/></svg>',icon_caret_enclosed_up:'<svg viewBox="0 0 24 24"><path d="M4.8,13.819l1.692,1.692L12,10.015l5.508,5.5L19.2,13.819,12,6.619Z"/><path d="M12,2A10,10,0,1,1,2,12,10.011,10.011,0,0,1,12,2m0-2A12,12,0,1,0,24,12,12,12,0,0,0,12,0Z"/></svg>',icon_caret_left:'<svg viewBox="0 0 24 24"><path d="M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z" /></svg>',icon_caret_right:'<svg viewBox="0 0 24 24"><path d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z" /></svg>',icon_caret_up:'<svg viewBox="0 0 24 24"><path d="M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z" /></svg>',icon_category:'<svg viewBox="0 0 24 24"><path d="M19.5,2h-15C3.1,2,2,3.1,2,4.5v15C2,20.9,3.1,22,4.5,22h15c1.4,0,2.5-1.1,2.5-2.5v-15C22,3.1,20.9,2,19.5,2z M19.5,14.5l-3.1-1.9l-3.1,1.9v-10h6.2V14.5z"/></svg>',icon_cb:'<svg viewBox="0 0 24 24"><path d="m 16,10.4 c -0.8,0 -1.52,0.48 -1.92,1.2 l 0,0 c -0.24,0.56 -0.24,1.2 0,1.76 l 0,0 c 0,0.08 0.08,0.16 0.16,0.24 l 0,0 c 0.08,0.16 0.24,0.32 0.4,0.48 l 0,0 c 0.16,0.16 0.32,0.24 0.48,0.32 l 0,0 c 0.16,0.08 0.32,0.16 0.56,0.16 0,0 0.08,0 0.08,0 0.08,0 0.16,0 0.32,0 0.08,0 0.16,0 0.24,0 l 0,0 c 0.08,0 0.16,0 0.16,0 l 0,0 c 0.64,-0.16 1.2,-0.56 1.44,-1.12 l 0,0 C 18,13.36 18,13.28 18,13.2 l 0,0 c 0,-0.08 0.08,-0.16 0.08,-0.24 0,0 0,-0.08 0,-0.08 0.16,-1.12 -0.64,-2.24 -1.76,-2.4 C 16.24,10.4 16.08,10.4 16,10.4 Z" /><path d="M 21.6,0 2.4,0 C 1.04,0 0,1.04 0,2.4 L 0,21.6 C 0,22.96 1.04,24 2.4,24 l 19.2,0 C 22.96,24 24,22.96 24,21.6 L 24,2.4 C 24,1.04 22.96,0 21.6,0 Z M 7.92,14.64 c 0.8,0 1.6,-0.48 1.92,-1.2 l 1.68,0 c -0.48,2 -2.48,3.12 -4.48,2.64 -2,-0.48 -3.2,-2.48 -2.64,-4.48 0.56,-2 2.48,-3.12 4.48,-2.64 1.36,0.32 2.32,1.36 2.64,2.72 l -1.6,0 c -0.48,-1.04 -1.68,-1.6 -2.8,-1.12 -1.04,0.48 -1.6,1.68 -1.12,2.8 0.32,0.8 1.12,1.28 1.92,1.28 z m 10.48,0.64 c -1.28,1.04 -3.12,1.2 -4.48,0.24 l 0,0.4 -1.52,0 0,-10.56 1.52,0 0,4.16 c 0.56,-0.4 1.12,-0.56 1.84,-0.64 0.08,0 0.16,0 0.24,0 2,0 3.68,1.68 3.68,3.68 0,1.04 -0.48,2.08 -1.28,2.72 l 0,0 z" /></svg>',icon_cb_circle_outline:'<svg viewBox="0 0 24 24"><path d="M12,2 C17.5228475,2 22,6.4771525 22,12 C22,17.5228475 17.5228475,22 12,22 C6.4771525,22 2,17.5228475 2,12 C2,6.4771525 6.4771525,2 12,2 Z M12,3 C7.02943725,3 3,7.02943725 3,12 C3,16.9705627 7.02943725,21 12,21 C16.9705627,21 21,16.9705627 21,12 C21,7.02943725 16.9705627,3 12,3 Z M9.448,10.315 C10.606,10.315 11.573,11.12 11.828,12.2 L10.741,12.2 C10.524,11.702 10.026,11.352 9.448,11.352 C8.67,11.352 8.037,11.985 8.037,12.764 C8.037,13.541 8.67,14.175 9.448,14.175 C10.012,14.175 10.499,13.841 10.724,13.361 L11.819,13.361 C11.551,14.424 10.593,15.211 9.448,15.211 C8.096,15.211 7,14.115 7,12.764 C7,11.411 8.096,10.315 9.448,10.315 Z M13.763,8 L13.762,10.747 C14.109,10.508 14.52,10.355 14.965,10.322 C15.025,10.318 15.085,10.314 15.145,10.314 C16.497,10.314 17.592,11.411 17.592,12.763 C17.592,13.507 17.26,14.172 16.736,14.62 C16.528,14.799 16.29,14.941 16.031,15.042 C15.756,15.149 15.458,15.21 15.145,15.21 C14.634,15.21 14.161,15.054 13.769,14.785 L13.769,15.042 L12.765,15.042 L12.765,8 L13.763,8 Z M15.1451,11.3514 C15.0961,11.3514 15.0471,11.3574 14.9991,11.3624 C14.4991,11.4134 14.0751,11.7264 13.8691,12.1634 L13.8681,12.1634 C13.7831,12.3454 13.7341,12.5474 13.7341,12.7624 C13.7341,12.9624 13.7761,13.1534 13.8511,13.3254 L13.8521,13.3254 C13.8781,13.3854 13.9091,13.4434 13.9431,13.4984 L13.9491,13.5084 L13.9491,13.5084 C14.0181,13.6204 14.1031,13.7194 14.1991,13.8074 L14.2091,13.8174 L14.2091,13.8174 C14.3041,13.9014 14.4111,13.9724 14.5261,14.0294 L14.5521,14.0414 L14.5521,14.0414 C14.6641,14.0934 14.7841,14.1304 14.9101,14.1524 C14.9251,14.1554 14.9391,14.1574 14.9551,14.1594 C15.0171,14.1674 15.0801,14.1734 15.1451,14.1734 C15.1961,14.1734 15.2471,14.1704 15.2971,14.1644 C15.3041,14.1644 15.3101,14.1634 15.3161,14.1624 C15.3611,14.1574 15.4051,14.1494 15.4491,14.1394 C15.4501,14.1394 15.4521,14.1394 15.4531,14.1384 C15.5501,14.1174 15.6431,14.0844 15.7311,14.0434 C16.0311,13.9064 16.2741,13.6664 16.4171,13.3704 C16.4201,13.3634 16.4241,13.3564 16.4271,13.3494 C16.4531,13.2924 16.4771,13.2334 16.4951,13.1724 L16.4971,13.1664 C16.5131,13.1114 16.5261,13.0534 16.5361,12.9954 C16.5381,12.9804 16.5401,12.9644 16.5421,12.9504 C16.5501,12.8884 16.5561,12.8264 16.5561,12.7624 C16.5561,12.0301647 15.9953803,11.4263723 15.2807896,11.3578716 L15.1451,11.3514 Z"></path></svg>',icon_cb_letters:'<svg viewBox="0 0 24 24"><path d="M8.437 15.979a3.195 3.195 0 11.039-2.632h2.463a5.549 5.549 0 10-.021 2.632zM18.454 9.075c-.137 0-.273.008-.408.018a5.5 5.5 0 00-2.726.962V3.831h-2.26v15.956h2.275V19.2a5.545 5.545 0 103.117-10.13zm3.166 5.972c0 .033-.01.067-.015.1a3.359 3.359 0 01-.088.391v.012a3.305 3.305 0 01-.155.4l-.026.05a3.212 3.212 0 01-1.553 1.526 3.15 3.15 0 01-.631.215h-.009c-.1.022-.2.038-.3.051-.014 0-.028 0-.043.006a3.017 3.017 0 01-.345.019 3.226 3.226 0 01-.431-.032l-.1-.015a3.214 3.214 0 01-.811-.251l-.06-.029a3.2 3.2 0 01-.716-.481l-.025-.022a3.222 3.222 0 01-.566-.676l-.013-.022a3.278 3.278 0 01-.207-.394 3.177 3.177 0 01.039-2.631 3.2 3.2 0 012.561-1.817 3.264 3.264 0 01.33-.024 3.2 3.2 0 013.2 3.2 3.152 3.152 0 01-.036.424z"/></svg>',icon_cb_round:'<svg viewBox="0 0 24 24"><circle fill="white" cx="12" cy="12" r="10"/><path d="M16.3,10.72h-.22A2.14,2.14,0,0,0,14.38,12h0a2.24,2.24,0,0,0-.2.9,2.19,2.19,0,0,0,.18.85h0a2.15,2.15,0,0,0,.14.26v0a2.27,2.27,0,0,0,.37.45h0a1.75,1.75,0,0,0,.48.32l0,0A2,2,0,0,0,16,15H16l.28,0h.26a1.2,1.2,0,0,0,.2,0h0a2.07,2.07,0,0,0,.42-.14,2.13,2.13,0,0,0,1-1l0,0c0-.09.07-.18.1-.27h0a1.1,1.1,0,0,0,.06-.26.15.15,0,0,0,0-.07,1.27,1.27,0,0,0,0-.28h0A2.13,2.13,0,0,0,16.3,10.72Z"/><path d="M12,0A12,12,0,1,0,24,12,12,12,0,0,0,12,0ZM7.7,15a2.11,2.11,0,0,0,1.92-1.23h1.66a3.7,3.7,0,1,1,0-1.75H9.65A2.13,2.13,0,1,0,7.7,15Zm11,.68a4,4,0,0,1-1.07.63,3.68,3.68,0,0,1-1.34.26,3.73,3.73,0,0,1-2.08-.64v.38H12.71V5.66h1.5V9.81A3.64,3.64,0,0,1,16,9.16h.27a3.7,3.7,0,0,1,2.41,6.51Z"/></svg>',icon_cb_signal:'<svg viewBox="0 0 24 24"><path d="M10.849 15.106a1.392 1.392 0 00-.146.011 1.413 1.413 0 00-1.131.8 1.4 1.4 0 00-.017 1.161 1.438 1.438 0 00.092.174l.006.01a1.4 1.4 0 00.249.3l.011.01a1.444 1.444 0 00.316.212l.027.013a1.392 1.392 0 00.358.11l.044.007a1.342 1.342 0 00.191.015A1.279 1.279 0 0011 17.92h.019a1.136 1.136 0 00.132-.022h.005a1.4 1.4 0 00.278-.095 1.417 1.417 0 00.686-.674l.009-.02a1.366 1.366 0 00.069-.178 1.428 1.428 0 00.039-.172l.007-.045a1.446 1.446 0 00.014-.188 1.413 1.413 0 00-1.409-1.42z"/><path d="M8 8a8 8 0 108 8 8 8 0 00-8-8zm-2.849 9.929a1.413 1.413 0 001.277-.812h1.094a2.446 2.446 0 11.01-1.162H6.445a1.411 1.411 0 10-1.294 1.974zm7.288.446a2.439 2.439 0 01-2.966.165v.26h-1v-7.045h1V14.5a2.423 2.423 0 011.2-.424c.06 0 .12-.008.181-.008a2.446 2.446 0 011.59 4.305zM21.957 13H24A16 16 0 008.289 0v2a14.018 14.018 0 0113.668 11z"/><path d="M17.828 13H19.9A12 12 0 008.289 4v2a10.017 10.017 0 019.539 7z"/></svg>',icon_chart_bar:'<svg viewBox="0 0 24 24"><g><path d="M21.3,0H2.7C1.2,0,0,1.2,0,2.7v18.7C0,22.8,1.2,24,2.7,24h18.7c1.5,0,2.7-1.2,2.7-2.7V2.7C24,1.2,22.8,0,21.3,0z M21.3,21.3H2.7V2.7h18.7V21.3z"/><rect x="5.3" y="14.7" width="2.7" height="6.7"/><rect x="10.7" y="10.7" width="2.7" height="10.7"/><rect x="16" y="5.3" width="2.7" height="16"/></g></svg>',icon_chart_dots:'<svg viewBox="0 0 24 24"><path d="M4.772,16.11a.857.857,0,1,1-.856.857A.857.857,0,0,1,4.772,16.11ZM1.021,0V22.979H24V24H0V0ZM8.715,8.944a.857.857,0,1,1-.856.856A.858.858,0,0,1,8.715,8.944ZM14.7,13.376a.857.857,0,1,1-.856.856A.857.857,0,0,1,14.7,13.376Zm7.191-6.519a.857.857,0,1,1-.856.856A.857.857,0,0,1,21.893,6.857ZM4.772,15.089a1.881,1.881,0,1,0,1.318.542l2.2-4a1.889,1.889,0,0,0,.422.051,1.864,1.864,0,0,0,1.142-.4l3.094,2.29a1.846,1.846,0,0,0-.127.661,1.878,1.878,0,0,0,3.756,0,1.859,1.859,0,0,0-.2-.83L20.9,9.3a1.855,1.855,0,0,0,.991.29,1.878,1.878,0,1,0-1.878-1.878,1.853,1.853,0,0,0,.2.83l-4.523,4.1a1.839,1.839,0,0,0-2.134.108l-3.093-2.29a1.876,1.876,0,1,0-3.069.674l-2.2,4.005A1.833,1.833,0,0,0,4.772,15.089Z"/></svg>',icon_chart_line:'<svg viewBox="0 0 24 24"><path d="M16.8,11.74l5.09-8.8L24,4.14,17.69,15,9.88,10.5,4.15,20.4H24v2.4H0V1.2H2.4V18.65L9,7.2Z"/></svg>',icon_check:'<svg viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z" /></svg>',icon_check_enclosed_round:'<svg viewBox="0 0 24 24"><path d="M12,21.6 C6.696,21.6 2.4,17.304 2.4,12 C2.4,6.696 6.696,2.4 12,2.4 C17.304,2.4 21.6,6.696 21.6,12 C21.6,17.304 17.304,21.6 12,21.6 L12,21.6 Z M12,0 C5.376,0 0,5.3748 0,12 C0,18.624 5.376,24 12,24 C18.624,24 24,18.624 24,12 C24,5.3748 18.624,0 12,0 L12,0 Z M17.508,6.696 L9.6,14.604 L5.292,10.308 L3.6,12 L9.6,18 L19.2,8.4 L17.508,6.696 Z"/></svg>',icon_check_highlight:'<svg viewBox="0 0 24 24"><path d="M24,12,21.338,8.956l.371-4.025-3.938-.9L15.709.545,12,2.138,8.291.545,6.229,4.025l-3.938.884.371,4.036L0,12l2.662,3.044L2.291,19.08l3.938.9,2.062,3.48L12,21.851l3.709,1.593,2.062-3.48,3.938-.895-.371-4.025ZM9.916,17.149,5.771,12.993l1.614-1.615L9.916,13.92l6.382-6.4,1.615,1.615Z"/></svg>',icon_check_knockout_round:'<svg viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></svg>',icon_checkbox_deselect_all:'<svg viewBox="0 0 24 24"><path d="M21.82,4.36H19.64V6.55h2.18V21.82H6.55V19.64H4.36v2.18A2.19,2.19,0,0,0,6.55,24H21.82A2.19,2.19,0,0,0,24,21.82V6.55A2.19,2.19,0,0,0,21.82,4.36Z" transform="translate(0 0)"/><path d="M17.64,2V17.64H2V2H17.64m0-2H2A2,2,0,0,0,0,2V17.64a2,2,0,0,0,2,2H17.64a2,2,0,0,0,2-2V2a2,2,0,0,0-2-2Z" transform="translate(0 0)"/><rect x="5.76" y="8.8" width="7.85" height="1.96"/></svg>',icon_checkbox_select_all:'<svg viewBox="0 0 24 24"><path d="M21.82,4.36H19.64V2.18A2.18,2.18,0,0,0,17.45,0H2.18A2.18,2.18,0,0,0,0,2.18V17.45a2.19,2.19,0,0,0,2.18,2.19H4.36v2.18A2.19,2.19,0,0,0,6.55,24H21.82A2.19,2.19,0,0,0,24,21.82V6.55A2.19,2.19,0,0,0,21.82,4.36ZM2.18,9.82,3.72,8.28l3.92,3.91,8.28-8.28,1.53,1.54L7.64,15.27Zm19.64,12H6.55V19.64h10.9a2.19,2.19,0,0,0,2.19-2.19V6.55h2.18Z"/></svg>',icon_checkbox_with_minus:'<svg viewBox="0 0 24 24"><path d="M22,2V22H2V2H22m0-2H2A2,2,0,0,0,0,2V22a2,2,0,0,0,2,2H22a2,2,0,0,0,2-2V2a2,2,0,0,0-2-2Z"/><rect x="7.04" y="10.75" width="9.6" height="2.4"/></svg>',icon_checkbox_with_plus:'<svg viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14zm-8-2h2v-4h4v-2h-4V7h-2v4H7v2h4z"/></svg>',icon_chrome:'<svg viewBox="0 0 24 24"><path d="M12 .96C5.912.96.96 5.912.96 12c0 6.088 4.952 11.04 11.04 11.04 6.088 0 11.04-4.952 11.04-11.04C23.04 5.912 18.088.96 12 .96ZM3.86 6.079l3.362 5.478A4.805 4.805 0 0 1 12 7.2h8.862c.169.31.318.632.454.96h-6.448A4.79 4.79 0 0 1 16.8 12c0 .858-.23 1.662-.625 2.36-.004.006-.003.014-.007.02l-4.39 7.689a10.26 10.26 0 0 1-1.06-.08l3.19-5.587A4.771 4.771 0 0 1 12 16.8c-1.708 0-3.207-.9-4.058-2.248-.01-.014-.024-.025-.033-.04l-4.63-7.545c.178-.307.373-.603.582-.888ZM12 8.16a3.84 3.84 0 1 0 0 7.68 3.84 3.84 0 0 0 0-7.68Z"/></svg>',icon_clock:'<svg viewBox="0 0 24 24"><path d="M12,20A8,8 0 0,0 20,12A8,8 0 0,0 12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22C6.47,22 2,17.5 2,12A10,10 0 0,1 12,2M12.5,7V12.25L17,14.92L16.25,16.15L11,13V7H12.5Z" /></svg>',icon_clock_counter_clockwise:'<svg viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z"/></svg>',icon_close:'<svg viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/><path d="M0 0h24v24H0z" fill="none"/></svg>',icon_close_circle_outline:'<svg viewBox="0 0 24 24"><path d="M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2C6.47,2 2,6.47 2,12C2,17.53 6.47,22 12,22C17.53,22 22,17.53 22,12C22,6.47 17.53,2 12,2M14.59,8L12,10.59L9.41,8L8,9.41L10.59,12L8,14.59L9.41,16L12,13.41L14.59,16L16,14.59L13.41,12L16,9.41L14.59,8Z" /></svg>',icon_close_fullscreen:'<svg viewBox="0 0 24 24"><path d="M24,1.692,17.652,8.04,21.6,12H12V2.4l3.948,3.948L22.308,0ZM1.692,24,8.04,17.652,12,21.6V12H2.4l3.948,3.948L0,22.308Z"/></svg>',icon_close_knockout_round:'<svg viewBox="0 0 24 24"><path d="M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z" /></svg>',icon_cloud:'<svg viewBox="0 0 24 24"><path d="M19.35,10a7.49,7.49,0,0,0-14-2A6,6,0,0,0,6,20H19a5,5,0,0,0,.35-10Z"/></svg>',icon_columns:'<svg viewBox="0 0 24 24"><path d="M9,4V20H5V4H9M9,2H5A2,2,0,0,0,3,4V20a2,2,0,0,0,2,2H9a2,2,0,0,0,2-2V4A2,2,0,0,0,9,2Z"/><path d="M19,4V20H15V4h4m0-2H15a2,2,0,0,0-2,2V20a2,2,0,0,0,2,2h4a2,2,0,0,0,2-2V4a2,2,0,0,0-2-2Z"/><polygon points="9 14 5 14 5 16 9 16 9 14 9 14"/><polygon  points="19 14 15 14 15 16 19 16 19 14 19 14"/><polygon points="9 8 5 8 5 10 9 10 9 8 9 8"/><polygon points="19 8 15 8 15 10 19 10 19 8 19 8" /></svg>',icon_companies:'<svg viewBox="0 0 24 24"><rect x="14" y="13" width="2" height="2"/><rect x="14" y="17" width="2" height="2"/><path d="M15,5V1H5V5H0V23H20V19h4V5ZM4,21H2V19H4Zm0-4H2V15H4Zm0-4H2V11H4ZM4,9H2V7H4ZM8,21H6V19H8Zm0-4H6V15H8Zm0-4H6V11H8ZM8,9H6V7H8ZM18,21H10V19h2V17H10V15h2V13H10V11h8Zm4-4H20V9H10V5H7V3h6V7h9Z"/></svg>',icon_company:'<svg viewBox="0 0 24 24"><path d="M12,6V1.2H0V22.8H24V6ZM4.8,20.4H2.4V18H4.8Zm0-4.8H2.4V13.2H4.8Zm0-4.8H2.4V8.4H4.8ZM4.8,6H2.4V3.6H4.8ZM9.6,20.4H7.2V18H9.6Zm0-4.8H7.2V13.2H9.6Zm0-4.8H7.2V8.4H9.6ZM9.6,6H7.2V3.6H9.6Zm12,14.4H12V18h2.4V15.6H12V13.2h2.4V10.8H12V8.4h9.6Zm-2.4-9.6H16.8v2.4h2.4Zm0,4.8H16.8V18h2.4Z"/></svg>',icon_compare:'<svg viewBox="0 0 24 24"><path d="M9,14H2v2H9v3l4-4L9,11Zm6-1V10h7V8H15V5L11,9Z"/></svg>',icon_compass:'<svg viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-5.5-2.5l7.51-3.49L17.5 6.5 9.99 9.99 6.5 17.5zm5.5-6.6c.61 0 1.1.49 1.1 1.1s-.49 1.1-1.1 1.1-1.1-.49-1.1-1.1.49-1.1 1.1-1.1z"/></svg>',icon_contacts:'<svg viewBox="0 0 24 24"><path d="M5.396.674v22.854h14.206a2.762 2.762 0 002.757-2.757V3.431A2.762 2.762 0 0019.602.673H5.396zm1.18 1.18h13.026c.866 0 1.576.71 1.576 1.576v17.341c0 .866-.71 1.577-1.576 1.577H6.576V1.854zM3.932.651a2.295 2.295 0 00-2.289 2.29v18.32c0 1.26 1.03 2.29 2.29 2.29h.554V.65h-.555z"/><path d="M10.797 9.81a2.29 2.29 0 114.58 0 2.29 2.29 0 01-4.58 0zM17.093 15.534s-1.087-2.29-4.006-2.29c-2.92 0-4.007 2.29-4.007 2.29v1.145h8.013v-1.145z"/></svg>',icon_copy:'<svg viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg>',icon_credit_card:'<svg viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zm0 14H4v-6h16v6zm0-10H4V6h16v2z"/></svg>',icon_currency_usd:'<svg viewBox="0 0 24 24"><path d="M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4z"/><path d="M0 0h24v24H0z" fill="none"/></svg>',icon_currency_usd_circle:'<svg viewBox="0 0 24 24"><path d="M11.705,8.707c-.936.13-1.181.691-1.181,1.152,0,.4.086.821,1.181,1.2Zm.806,4.392v2.247c.821-.087,1.224-.432,1.224-1.124C13.735,13.69,13.39,13.416,12.511,13.1Zm0-7.358V7.166A4.946,4.946,0,0,1,15.06,8V9.773h-.072a4.33,4.33,0,0,0-2.477-1.066V11.3l.619.187c1.858.576,2.434,1.325,2.434,2.578,0,1.368-.821,2.65-3.053,2.822v1.527h-.806v-1.5a5.52,5.52,0,0,1-3.082-1.037V14.05h.058a5.225,5.225,0,0,0,3.024,1.3V12.854l-.763-.244a2.639,2.639,0,0,1-2.2-2.636c0-1.44.936-2.563,2.967-2.764V5.741ZM12,1.2A10.8,10.8,0,1,0,22.8,12,10.8,10.8,0,0,0,12,1.2ZM12,0A12,12,0,1,1,0,12,12,12,0,0,1,12,0Z"/></svg>',icon_currency_usd_enclosed:'<svg viewBox="0 0 24 24"><path d="M21.6,2.4V21.6H2.4V2.4H21.6m0-2.4H2.4A2.41,2.41,0,0,0,0,2.4V21.6A2.41,2.41,0,0,0,2.4,24H21.6A2.41,2.41,0,0,0,24,21.6V2.4A2.41,2.41,0,0,0,21.6,0Z"/><path d="M12.31,11.12c-1.81-.47-2.4-1-2.4-1.72s.81-1.48,2.16-1.48,1.95.68,2,1.68h1.77a3.2,3.2,0,0,0-2.57-3V4.8h-2.4V6.53c-1.55.33-2.8,1.34-2.8,2.89,0,1.84,1.53,2.76,3.76,3.3,2,.48,2.4,1.18,2.4,1.93,0,.55-.39,1.43-2.16,1.43s-2.29-.74-2.38-1.68H7.93a3.34,3.34,0,0,0,2.94,3.06V19.2h2.4V17.48c1.56-.3,2.8-1.2,2.8-2.84C16.07,12.37,14.13,11.59,12.31,11.12Z"/></svg>',icon_currency_usd_knockout_round:'<svg viewBox="0 0 24 24"><path d="M12,2A10,10,0,1,0,22,12,10,10,0,0,0,12,2Zm1.41,16.09V20H10.74V18.07a3.72,3.72,0,0,1-3.27-3.4h2c.1,1.05.82,1.87,2.65,1.87s2.4-1,2.4-1.59c0-.83-.44-1.61-2.67-2.14-2.48-.6-4.18-1.62-4.18-3.67C7.63,7.42,9,6.3,10.74,5.93V4h2.67V5.95a3.54,3.54,0,0,1,2.85,3.39h-2c-.05-1.11-.64-1.87-2.22-1.87s-2.4.68-2.4,1.64.65,1.39,2.67,1.91,4.18,1.39,4.18,3.91C16.52,16.76,15.15,17.76,13.41,18.09Z"/></svg>',icon_currency_usd_large:'<svg viewBox="0 0 24 24"><path d="M12.52,10.53c-3-.78-4-1.6-4-2.86,0-1.46,1.35-2.47,3.6-2.47S15.37,6.33,15.45,8H18.4a5.31,5.31,0,0,0-4.28-5.08V0h-4V2.88c-2.59.56-4.67,2.24-4.67,4.81,0,3.08,2.55,4.62,6.27,5.51,3.33.8,4,2,4,3.21,0,.92-.65,2.39-3.6,2.39-2.75,0-3.83-1.23-4-2.8H5.21c.16,2.92,2.35,4.56,4.91,5.11V24h4V21.13c2.6-.49,4.67-2,4.67-4.73C18.79,12.61,15.55,11.32,12.52,10.53Z"/></svg>',icon_dashboard:'<svg viewBox="0 0 24 24"><title>dashboard</title><path d="M9,2V9H2V2H9M9,0H2A2,2,0,0,0,0,2V9a2,2,0,0,0,2,2H9a2,2,0,0,0,2-2V2A2,2,0,0,0,9,0Z" transform="translate(0 0)"/><path d="M22,2V9H15V2h7m0-2H15a2,2,0,0,0-2,2V9a2,2,0,0,0,2,2h7a2,2,0,0,0,2-2V2a2,2,0,0,0-2-2Z" transform="translate(0 0)"/><path d="M9,15v7H2V15H9m0-2H2a2,2,0,0,0-2,2v7a2,2,0,0,0,2,2H9a2,2,0,0,0,2-2V15a2,2,0,0,0-2-2Z" transform="translate(0 0)"/><path d="M22,15v7H15V15h7m0-2H15a2,2,0,0,0-2,2v7a2,2,0,0,0,2,2h7a2,2,0,0,0,2-2V15a2,2,0,0,0-2-2Z" transform="translate(0 0)"/></svg>',icon_data:'<svg viewBox="0 0 24 24"><path d="M12,0C6.11,0,1.33,2.39,1.33,5.33S6.11,10.67,12,10.67,22.67,8.28,22.67,5.33,17.89,0,12,0M1.33,8v4C1.33,15,6.11,17.33,12,17.33S22.67,15,22.67,12V8c0,2.95-4.78,5.33-10.67,5.33S1.33,11,1.33,8m0,6.67v4C1.33,21.61,6.11,24,12,24s10.67-2.39,10.67-5.33v-4C22.67,17.61,17.89,20,12,20S1.33,17.61,1.33,14.67Z"/></svg>',icon_data_export:'<svg viewBox="0 0 24 24"><path fill="none" d="M0,0H24V24H0V0Z"/><path d="M17.59,15.61L19,17l5-5L19,7,17.59,8.43,20.17,11H10.5v2h9.67ZM2,20H14a2,2,0,0,0,2-2V15H14v3H2V6H14V9h2V6a2,2,0,0,0-2-2H2A2,2,0,0,0,0,6V18A2,2,0,0,0,2,20Z"/></svg>',icon_data_solutions:'<svg viewBox="0 0 24 24"><path d="M13,2.05V5.08C16.39,5.57 19,8.47 19,12C19,12.9 18.82,13.75 18.5,14.54L21.12,16.07C21.68,14.83 22,13.45 22,12C22,6.82 18.05,2.55 13,2.05M12,19A7,7 0 0,1 5,12C5,8.47 7.61,5.57 11,5.08V2.05C5.94,2.55 2,6.81 2,12A10,10 0 0,0 12,22C15.3,22 18.23,20.39 20.05,17.91L17.45,16.38C16.17,18 14.21,19 12,19Z" /></svg>',icon_deselect_round_outline:'<svg viewBox="0 0 24 24"><path d="M11.96,21.6a9.6,9.6,0,1,1,9.6-9.6A9.6,9.6,0,0,1,11.96,21.6Zm0-21.6a12,12,0,1,0,12,12A12,12,0,0,0,11.96,0Zm-6,13.2h12V10.8h-12Z"/></svg>',icon_device_mobile_phone:'<svg viewBox="0 0 24 24"><path d="M16,18H7V4H16M11.5,22A1.5,1.5 0 0,1 10,20.5A1.5,1.5 0 0,1 11.5,19A1.5,1.5 0 0,1 13,20.5A1.5,1.5 0 0,1 11.5,22M15.5,1H7.5A2.5,2.5 0 0,0 5,3.5V20.5A2.5,2.5 0 0,0 7.5,23H15.5A2.5,2.5 0 0,0 18,20.5V3.5A2.5,2.5 0 0,0 15.5,1Z" /></svg>',icon_devtools:'<svg viewBox="0 0 24 24"><path d="M8,3A2,2 0 0,0 6,5V9A2,2 0 0,1 4,11H3V13H4A2,2 0 0,1 6,15V19A2,2 0 0,0 8,21H10V19H8V14A2,2 0 0,0 6,12A2,2 0 0,0 8,10V5H10V3M16,3A2,2 0 0,1 18,5V9A2,2 0 0,0 20,11H21V13H20A2,2 0 0,0 18,15V19A2,2 0 0,1 16,21H14V19H16V14A2,2 0 0,1 18,12A2,2 0 0,1 16,10V5H14V3H16Z"/></svg>',icon_document:'<svg viewBox="0 0 24 24"><path d="M14.4,0H4.8C3.5,0,2.4,1.1,2.4,2.4l0,19.2c0,1.3,1.1,2.4,2.4,2.4h14.4c1.3,0,2.4-1.1,2.4-2.4V7.2L14.4,0z M16.8,19.2H7.2 v-2.4h9.6V19.2z M16.8,14.4H7.2V12h9.6V14.4z M13.2,8.4V1.8l6.6,6.6H13.2z"/></svg>',icon_document_add:'<svg viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 14h-3v3h-2v-3H8v-2h3v-3h2v3h3v2zm-3-7V3.5L18.5 9H13z"/></svg>',icon_document_small:'<svg viewBox="0 0 24 24"><path d="M13,9H18.5L13,3.5V9M6,2H14L20,8V20A2,2 0 0,1 18,22H6C4.89,22 4,21.1 4,20V4C4,2.89 4.89,2 6,2M15,18V16H6V18H15M18,14V12H6V14H18Z" /> </svg>',icon_document_stroked:'<svg viewBox="0 0 24 24"><path d="M6.774,18.419a.558.558,0,1,0,0,1.116H17.226a.558.558,0,1,0,0-1.116Zm0-4.466a.559.559,0,1,0,0,1.117H17.226a.559.559,0,1,0,0-1.117Zm0-4.465a.559.559,0,1,0,0,1.117H17.226a.559.559,0,1,0,0-1.117Zm9-7.587,3.248,3.122H15.774ZM4.161,1.116H14.613V5.581a.593.593,0,0,0,.581.559h4.645V22.884H4.161ZM3.581,0A.617.617,0,0,0,3,.558V23.442A.592.592,0,0,0,3.581,24H20.419A.592.592,0,0,0,21,23.442V5.581a.56.56,0,0,0-.172-.4L15.6.157A.6.6,0,0,0,15.194,0Z"/></svg>',icon_download:'<svg viewBox="0 0 24 24"><path d="m 2.1176471,24 19.7647059,0 0,-2.823529 -19.7647059,0 M 21.882353,8.4705882 l -5.647059,0 0,-8.4705882 -8.4705881,0 0,8.4705882 -5.6470588,0 L 12,18.352941 21.882353,8.4705882 Z" /></svg>',icon_drag_vertical:'<svg viewBox="0 0 24 24"><path d="M9,3H11V5H9V3M13,3H15V5H13V3M9,7H11V9H9V7M13,7H15V9H13V7M9,11H11V13H9V11M13,11H15V13H13V11M9,15H11V17H9V15M13,15H15V17H13V15M9,19H11V21H9V19M13,19H15V21H13V19Z" /></svg>',icon_edit:'<svg viewBox="0 0 24 24"><path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"/><path d="M0 0h24v24H0z" fill="none"/></svg>',icon_edit_circle_filled:'<svg viewBox="0 0 24 24"><path d="M12,2C6.5,2,2,6.5,2,12c0,5.5,4.5,10,10,10s10-4.5,10-10C22,6.5,17.5,2,12,2z M9.1,17H7v-2.1l6.1-6.1l2.1,2.1L9.1,17z M16.8,9.2l-1,1l-2.1-2.1l1-1c0.2-0.2,0.6-0.2,0.8,0l1.3,1.3C17.1,8.7,17.1,9,16.8,9.2z"/></svg>',icon_edit_circle_outline:'<svg viewBox="0 0 24 24"><path d="M7,14.94L13.06,8.88L15.12,10.94L9.06,17H7V14.94M12,20A8,8 0 0,0 20,12A8,8 0 0,0 12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20M16.7,9.35L15.7,10.35L13.65,8.3L14.65,7.3C14.86,7.08 15.21,7.08 15.42,7.3L16.7,8.58C16.92,8.79 16.92,9.14 16.7,9.35M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2" /></svg>',icon_email:'<svg viewBox="0 0 24 24"><path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"/><path d="M0 0h24v24H0z" fill="none"/></svg>',icon_email_outline:'<svg viewBox="0 0 24 24"><path d="M24,4.8a2.41,2.41,0,0,0-2.4-2.4H2.4A2.41,2.41,0,0,0,0,4.8V19.2a2.41,2.41,0,0,0,2.4,2.4H21.6A2.41,2.41,0,0,0,24,19.2Zm-2.4,0-9.6,6-9.6-6Zm0,14.4H2.4V7.2l9.6,6,9.6-6Z"/></svg>',icon_engage:'<svg viewBox="0 0 24 24"><path d="m22 5.75h-13a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h13a2 2 0 0 0 2-2v-9a2 2 0 0 0 -2-2m0 11h-13v-7.33l6.5 3.33 6.5-3.33zm-6.5-5.69-6.5-3.31h13zm-10.5 5.69a4.23 4.23 0 0 0 0 .5h-4a1 1 0 0 1 0-2h4zm-2-9.5h2.08a4.23 4.23 0 0 0 0 .5v1.5h-2.08a1 1 0 1 1 0-2m-2 5a1 1 0 0 1 1-1h3v2h-3a1 1 0 0 1 -1-1z"/></svg>',icon_esc:'<svg viewBox="0 0 24 24"><path d="M4.77519531,16.1367188 C3.72245567,16.1367188 2.86911134,15.8051791 2.21513672,15.1420898 C1.56116209,14.4790006 1.23417969,13.5960342 1.23417969,12.4931641 L1.23417969,12.2880859 C1.23417969,11.549801 1.37659363,10.8901396 1.66142578,10.309082 C1.94625793,9.72802444 2.34615628,9.27571776 2.86113281,8.95214844 C3.37610935,8.62857911 3.95032235,8.46679688 4.58378906,8.46679688 C5.59095556,8.46679688 6.36910533,8.78808272 6.91826172,9.43066406 C7.46741811,10.0732454 7.74199219,10.982416 7.74199219,12.1582031 L7.74199219,12.828125 L2.90898438,12.828125 C2.95911483,13.4388051 3.1630516,13.9218732 3.52080078,14.2773438 C3.87854997,14.6328143 4.32857802,14.8105469 4.87089844,14.8105469 C5.63196995,14.8105469 6.25175542,14.5029328 6.73027344,13.8876953 L7.62578125,14.7421875 C7.32955581,15.184247 6.93421471,15.5271798 6.43974609,15.7709961 C5.94527748,16.0148124 5.39043276,16.1367188 4.77519531,16.1367188 Z M4.57695313,9.79980469 C4.12122168,9.79980469 3.75322406,9.9593083 3.47294922,10.2783203 C3.19267438,10.5973323 3.01380247,11.0416638 2.93632813,11.6113281 L6.10136719,11.6113281 L6.10136719,11.4882812 C6.06490867,10.9322889 5.91679817,10.5118829 5.65703125,10.2270508 C5.39726433,9.94221863 5.03724188,9.79980469 4.57695313,9.79980469 Z M13.3765625,13.9902344 C13.3765625,13.6940089 13.2546562,13.4684253 13.0108398,13.3134766 C12.7670235,13.1585279 12.3625679,13.0218105 11.7974609,12.9033203 C11.2323539,12.7848301 10.760679,12.634441 10.3824219,12.4521484 C9.55299064,12.0511048 9.13828125,11.4700559 9.13828125,10.7089844 C9.13828125,10.0709604 9.40715877,9.53776256 9.94492188,9.109375 C10.482685,8.68098744 11.1662719,8.46679688 11.9957031,8.46679688 C12.8798221,8.46679688 13.5941705,8.68554469 14.1387695,9.12304688 C14.6833686,9.56054906 14.9556641,10.1279262 14.9556641,10.8251953 L13.2945313,10.8251953 C13.2945313,10.5061833 13.1760429,10.2407237 12.9390625,10.0288086 C12.7020821,9.81689347 12.3876322,9.7109375 11.9957031,9.7109375 C11.631118,9.7109375 11.3337577,9.79524655 11.1036133,9.96386719 C10.8734689,10.1324878 10.7583984,10.3580715 10.7583984,10.640625 C10.7583984,10.8958346 10.8654937,11.0940748 11.0796875,11.2353516 C11.2938813,11.3766283 11.7268197,11.5190423 12.3785156,11.6625977 C13.0302116,11.8061531 13.5417625,11.9770498 13.9131836,12.175293 C14.2846047,12.3735361 14.5603181,12.6116523 14.740332,12.8896484 C14.920346,13.1676446 15.0103516,13.5048808 15.0103516,13.9013672 C15.0103516,14.5667351 14.7346382,15.1056294 14.1832031,15.5180664 C13.6317681,15.9305034 12.9094446,16.1367188 12.0162109,16.1367188 C11.4100881,16.1367188 10.8700545,16.0273448 10.3960938,15.8085938 C9.92213305,15.5898427 9.55299611,15.2890644 9.28867188,14.90625 C9.02434764,14.5234356 8.8921875,14.1110048 8.8921875,13.6689453 L10.5054688,13.6689453 C10.5282553,14.0608744 10.6763658,14.3627919 10.9498047,14.574707 C11.2232436,14.7866222 11.5855446,14.8925781 12.0367188,14.8925781 C12.4742209,14.8925781 12.8068999,14.8094084 13.0347656,14.6430664 C13.2626313,14.4767244 13.3765625,14.2591159 13.3765625,13.9902344 Z M19.6947266,14.8105469 C20.1094422,14.8105469 20.4535143,14.6897799 20.7269531,14.4482422 C21.000392,14.2067045 21.1462239,13.9082049 21.1644531,13.5527344 L22.7298828,13.5527344 C22.7116536,14.0130231 22.5681003,14.4425436 22.2992188,14.8413086 C22.0303372,15.2400736 21.6657575,15.5556629 21.2054688,15.7880859 C20.74518,16.020509 20.2484402,16.1367188 19.7152344,16.1367188 C18.680724,16.1367188 17.8604197,15.8017612 17.2542969,15.1318359 C16.6481741,14.4619107 16.3451172,13.5367898 16.3451172,12.3564453 L16.3451172,12.1855469 C16.3451172,11.0598902 16.6458954,10.1586948 17.2474609,9.48193359 C17.8490264,8.8051724 18.6693307,8.46679688 19.7083984,8.46679688 C20.5879601,8.46679688 21.3045871,8.72314197 21.8583008,9.23583984 C22.4120145,9.74853772 22.7025389,10.4218708 22.7298828,11.2558594 L21.1644531,11.2558594 C21.1462239,10.8320291 21.0015313,10.4833998 20.7303711,10.2099609 C20.4592109,9.93652207 20.1139995,9.79980469 19.6947266,9.79980469 C19.1569635,9.79980469 18.7422541,9.99462696 18.4505859,10.3842773 C18.1589178,10.7739277 18.0108073,11.3652304 18.00625,12.1582031 L18.00625,12.4248047 C18.00625,13.226892 18.1509426,13.8250306 18.440332,14.2192383 C18.7297215,14.613446 19.1478488,14.8105469 19.6947266,14.8105469 Z"></path></svg>',icon_event:'<svg viewBox="0 0 24 24"><path d="M18,13.2H12v6h6ZM16.8,0V2.4H7.2V0H4.8V2.4H3.6A2.39,2.39,0,0,0,1.21,4.8V21.6A2.4,2.4,0,0,0,3.6,24H20.4a2.41,2.41,0,0,0,2.4-2.4V4.8a2.41,2.41,0,0,0-2.4-2.4H19.2V0Zm3.6,21.6H3.6V8.4H20.4Z"/></svg>',icon_event_small:'<svg viewBox="0 0 24 24"><path d="M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"/><path d="M0 0h24v24H0z" fill="none"/></svg>',icon_event_soon:'<svg fill="none" viewBox="0 0 24 24"><path d="m15.091 13.091h1.6364v3.0764l2.6618 1.5382-0.8182 1.4181-3.48-2.0072v-4.0255zm4.3636-5.4545h-15.273v12h5.0945c-0.46909-0.9928-0.73091-2.1055-0.73091-3.2728 0-2.0253 0.80455-3.9676 2.2366-5.3997 1.4321-1.4321 3.3744-2.2366 5.3997-2.2366 1.1673 0 2.28 0.26182 3.2727 0.73091v-1.8218zm-15.273 14.182c-1.2109 0-2.1818-0.9818-2.1818-2.1818v-15.273c0-1.2109 0.97091-2.1818 2.1818-2.1818h1.0909v-2.1818h2.1818v2.1818h8.7272v-2.1818h2.1818v2.1818h1.0909c0.5787 0 1.1337 0.22987 1.5428 0.63904 0.4092 0.40917 0.6391 0.96412 0.6391 1.5428v6.6546c1.3527 1.3745 2.1818 3.2618 2.1818 5.3454 0 2.0253-0.8046 3.9677-2.2367 5.3998s-3.3744 2.2366-5.3997 2.2366c-2.0836 0-3.9709-0.8291-5.3454-2.1818h-6.6546zm12-10.746c-1.4032 0-2.749 0.5575-3.7412 1.5497-0.9923 0.9922-1.5497 2.338-1.5497 3.7412 0 2.9237 2.3673 5.2909 5.2909 5.2909 0.6948 0 1.3828-0.1368 2.0248-0.4027 0.6419-0.2659 1.2252-0.6556 1.7165-1.1469s0.881-1.0746 1.1469-1.7165 0.4027-1.33 0.4027-2.0248c0-2.9236-2.3672-5.2909-5.2909-5.2909z"/></svg>',icon_exclamation_enclosed_round:'<svg viewBox="0 0 24 24"><path d="M11,15H13V17H11V15M11,7H13V13H11V7M12,2C6.47,2 2,6.5 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20Z" /></svg>',icon_exclamation_knockout_octagon:'<svg viewBox="0 0 24 24"><path d="M15.73 3H8.27L3 8.27v7.46L8.27 21h7.46L21 15.73V8.27L15.73 3zM12 17.3c-.72 0-1.3-.58-1.3-1.3 0-.72.58-1.3 1.3-1.3.72 0 1.3.58 1.3 1.3 0 .72-.58 1.3-1.3 1.3zm1-4.3h-2V7h2v6z"/><path d="M0 0h24v24H0z" fill="none"/></svg>',icon_exclamation_knockout_round:'<svg viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"/></svg>',icon_expand_left:'<svg viewBox="0 0 24 24"><g id="Page-1"><g id="Desktop"><g id="icon_base_expand_left" data-name="icon/base/expand_left"><g id="Fill"><path id="path-1" d="M24.042,1.048v21.9H20.614V1.048ZM9.185,3.238,10.8,4.782,4.418,10.905h13.91V13.1H4.418L10.8,19.218,9.185,20.762.042,12Z"/></g></g></g></g></svg>',icon_expand_right:'<svg viewBox="0 0 24 24"><g id="Page-1"><g id="Desktop"><g id="icon_base_expand_left" data-name="icon/base/expand_left"><g id="Fill"><path id="path-1" d="M0,1.048v21.9H3.429V1.048Zm14.857,2.19L13.246,4.782l6.378,6.123H5.714V13.1h13.91l-6.378,6.123,1.611,1.544L24,12Z"/></g></g></g></g></svg>',icon_export:'<svg viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M21 3.01H3c-1.1 0-2 .9-2 2V9h2V4.99h18v14.03H3V15H1v4.01c0 1.1.9 1.98 2 1.98h18c1.1 0 2-.88 2-1.98v-14c0-1.11-.9-2-2-2zM11 16l4-4-4-4v3H1v2h10v3z"/></svg>',icon_external_link:'<svg viewBox="0 0 24 24"><path d="M13.09,21.82H2.18V10.91h5.45V8.73H2.18C0.98,8.73,0,9.71,0,10.91v10.91C0,23.02,0.98,24,2.18,24h10.91 c1.2,0,2.18-0.98,2.18-2.18v-5.45h-2.18V21.82z"/><path d="M21.82,0H10.91c-1.2,0-2.18,0.98-2.18,2.18v10.91c0,1.2,0.98,2.18,2.18,2.18h10.91c1.2,0,2.18-0.98,2.18-2.18 V2.18C24,0.98,23.02,0,21.82,0z M21.82,13.09H10.91V2.18h10.91V13.09z"/><polygon points="14.63,10.91 18.55,6.99 18.55,10.91 20.73,10.91 20.73,3.27 13.09,3.27 13.09,5.45 17.01,5.45 13.09,9.37 \t"/></svg>',icon_eye_closed:'<svg viewBox="0 0 24 24"><path d="M0 0h24v24H0zm0 0h24v24H0zm0 0h24v24H0zm0 0h24v24H0z" fill="none"/><path d="M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"/></svg>',icon_eye_open:'<svg viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>',icon_facebook:'<svg viewBox="0 0 24 24"><path d="M 12 0 A 12 12 0 0 0 0 12 A 12 12 0 0 0 12 24 A 12 12 0 0 0 24 12 A 12 12 0 0 0 12 0 z M 13.050781 4.5 L 15.300781 4.5 L 15.300781 7.5 L 13.800781 7.5 C 13.283281 7.5 13.050781 8.1075 13.050781 8.625 L 13.050781 10.5 L 15.300781 10.5 L 15.300781 13.5 L 13.050781 13.5 L 13.050781 19.5 L 10.050781 19.5 L 10.050781 13.5 L 7.8007812 13.5 L 7.8007812 10.5 L 10.050781 10.5 L 10.050781 7.5 A 3 3 0 0 1 13.050781 4.5 z" /></svg>',icon_facebook_logo:'<svg viewBox="0 0 24 24"><path d="M19,4V7H17A1,1 0 0,0 16,8V10H19V13H16V20H13V13H11V10H13V7.5C13,5.56 14.57,4 16.5,4M20,2H4A2,2 0 0,0 2,4V20A2,2 0 0,0 4,22H20A2,2 0 0,0 22,20V4C22,2.89 21.1,2 20,2Z" /></svg>',icon_facebook_nobg:'<svg viewBox="0 0 24 24"><path d="M9.5,24V13.1H5.8V8.8h3.7V5.6C9.5,2,11.7,0,14.9,0c1.6,0,2.9,0.1,3.3,0.2V4L16,4c-1.8,0-2.1,0.8-2.1,2.1v2.7h4.2l-0.6,4.3h-3.7V24H9.5z"/></svg>',icon_feed:'<svg viewBox="0 0 24 24"><path d="M4.8,21.6V24H21.6A2.41,2.41,0,0,0,24,21.6V4.8H21.6V21.6Z"/><path d="M16.8,2.4V16.8H2.4V2.4H16.8m0-2.4H2.4A2.41,2.41,0,0,0,0,2.4V16.8a2.41,2.41,0,0,0,2.4,2.4H16.8a2.41,2.41,0,0,0,2.4-2.4V2.4A2.41,2.41,0,0,0,16.8,0Z"/><polygon points="14.4 4.8 4.8 4.8 4.8 7.2 14.4 7.2 14.4 4.8 14.4 4.8"/><polygon points="14.4 8.4 4.8 8.4 4.8 10.8 14.4 10.8 14.4 8.4 14.4 8.4"/><polygon points="9.6 12 4.8 12 4.8 14.4 9.6 14.4 9.6 12 9.6 12"/></svg>',icon_filter:'<svg viewBox="0 0 24 24"><path d="m 1.67,-3.367e-5 20.66,0 0,0 0,0 0,2.29555557 -0.09182,0 -7.942622,7.9426221 0,13.761856 -4.5911116,-4.591111 0,-9.182223 L 1.7733,2.2955219 l -0.1033,0 0,-2.29555557 z" /></svg>',icon_filter_outline_plus:'<svg viewBox="0 0 24 24"><path d="M15 17H18V14H20V17H23V19H20V22H18V19H15V17M13 19.88C13.04 20.18 12.94 20.5 12.72 20.71C12.32 21.1 11.69 21.1 11.3 20.71L7.29 16.7C7.06 16.47 6.96 16.16 7 15.87V10.75L2.21 4.62C1.87 4.19 1.95 3.56 2.38 3.22C2.57 3.08 2.78 3 3 3V3H17V3C17.22 3 17.43 3.08 17.62 3.22C18.05 3.56 18.13 4.19 17.79 4.62L13 10.75V19.88M5.04 5L9 10.07V15.58L11 17.58V10.05L14.96 5H5.04Z" /></svg>',icon_filter_small:'<svg viewBox="0 0 24 24"><path d="M14,12V19.88C14.04,20.18 13.94,20.5 13.71,20.71C13.32,21.1 12.69,21.1 12.3,20.71L10.29,18.7C10.06,18.47 9.96,18.16 10,17.87V12H9.97L4.21,4.62C3.87,4.19 3.95,3.56 4.38,3.22C4.57,3.08 4.78,3 5,3V3H19V3C19.22,3 19.43,3.08 19.62,3.22C20.05,3.56 20.13,4.19 19.79,4.62L14.03,12H14Z" /></svg>',icon_flag:'<svg viewBox="0 0 24 24"><path d="M14.4,6L14,4H5v17h2v-7h5.6l0.4,2h7V6H14.4z"/></svg>',icon_flag2:'<svg viewBox="0 0 24 24"><path d="M6,3A1,1 0 0,1 7,4V4.88C8.06,4.44 9.5,4 11,4C14,4 14,6 16,6C19,6 20,4 20,4V12C20,12 19,14 16,14C13,14 13,12 11,12C8,12 7,14 7,14V21H5V4A1,1 0 0,1 6,3Z" /></svg>',icon_form:'<svg viewBox="0 0 24 24"><g><g><path d="M19,3v18H5V3H19 M19,1H5C3.9,1,3,1.9,3,3v18c0,1.1,0.9,2,2,2h14c1.1,0,2-0.9,2-2V3C21,1.9,20.1,1,19,1L19,1z"/></g><path d="M16,15H8c-0.5,0-1-0.4-1-1v0c0-0.6,0.4-1,1-1h8c0.5,0,1,0.4,1,1v0C17,14.6,16.6,15,16,15z"/><path d="M16,11H8c-0.5,0-1-0.4-1-1v0c0-0.6,0.4-1,1-1h8c0.5,0,1,0.4,1,1v0C17,10.6,16.6,11,16,11z"/><path d="M16,7H8C7.4,7,7,6.6,7,6v0c0-0.5,0.4-1,1-1h8c0.5,0,1,0.4,1,1v0C17,6.6,16.6,7,16,7z"/><path d="M16,19H8c-0.5,0-1-0.4-1-1v0c0-0.5,0.4-1,1-1h8c0.5,0,1,0.4,1,1v0C17,18.6,16.6,19,16,19z"/></g></svg>',icon_form_complete:'<svg viewBox="0 0 24 24"><path d="M13,15H6a1,1,0,0,1-1-1H5a1,1,0,0,1,1-1h9S13,14,13,15Z"/><rect x="5" y="9" width="10" height="2" rx="1" ry="1"/><rect x="5" y="5" width="10" height="2" rx="1" ry="1"/><rect x="5" y="17" width="10" height="2" rx="1" ry="1"/><path d="M17,18v3H3V3H17v7h2V3a2,2,0,0,0-2-2H3A2,2,0,0,0,1,3V21a2,2,0,0,0,2,2H17a2,2,0,0,0,2-2V18Z"/><path d="M17.5,9A5.5,5.5,0,1,0,23,14.5,5.5,5.5,0,0,0,17.5,9Zm-1.1,8.25L13.65,14.5l.78-.78,2,2,4.17-4.17.78.78Z"/></svg>',icon_form_info:'<svg viewBox="0 0 24 24"><path d="M2,18H4V16H2V2H16V4h2V2a2,2,0,0,0-2-2H2A2,2,0,0,0,0,2V16A2,2,0,0,0,2,18Z"/><path d="M18,12a6,6,0,1,0,6,6A6,6,0,0,0,18,12Zm.6,9H17.4V17.4h1.2Zm0-4.8H17.4V15h1.2Z"/><path d="M11.73,21.09a.31.31,0,0,1-.05-.1,8.48,8.48,0,0,1-.39-1H6V6H20v5.29h0a8.48,8.48,0,0,1,1,.39.31.31,0,0,1,.1.05,6.35,6.35,0,0,1,.91.53V6a2,2,0,0,0-2-2H6A2,2,0,0,0,4,6V20a2,2,0,0,0,2,2h6.26A6.35,6.35,0,0,1,11.73,21.09Z"/><rect x="8" y="8" width="10" height="2"/><polygon points="18 8 8 8 8 10 18 10 18 8 18 8"/><path d="M14.41,12H8v2h4.26A7.08,7.08,0,0,1,14.41,12Z"/><path d="M14.41,12H8v2h4.26a7.08,7.08,0,0,1,2.15-2Z"/><path d="M8,16v2h3a6.91,6.91,0,0,1,.29-2Z"/><path d="M11.29,16H8v2h3a6.91,6.91,0,0,1,.29-2Z"/></svg>',icon_format_list:'<svg viewBox="0 0 24 24"><path d="M3,5H9V11H3V5M5,7V9H7V7H5M11,7H21V9H11V7M11,15H21V17H11V15M5,20L1.5,16.5L2.91,15.09L5,17.17L9.59,12.59L11,14L5,20Z" /></svg>',icon_funds_raised:'<svg viewBox="0 0 24 24"><path d="M13.39964,12l0.93416,0.93416,3.7035-3.69688v8.0629h1.325V9.23728l3.7035,3.69688L24,12,18.69982,6.69982Z"/><path d="M5.809,10.834c-2.40628-.62542-3.18011-1.272-3.18011-2.27908,0-1.15544,1.07064-1.96107,2.8621-1.96107,1.88686,0,2.58649.901,2.65009,2.22608h2.34268A4.22555,4.22555,0,0,0,7.081,4.78116V2.45968H3.90093V4.74935C1.84446,5.19457.19081,6.53021,0.19081,8.57608c0,2.44868,2.02467,3.66772,4.98217,4.37795,2.65009,0.636,3.18011,1.56885,3.18011,2.55469,0,0.73142-.51942,1.89746-2.8621,1.89746-2.18367,0-3.0423-.97523-3.15891-2.22608H0C0.1272,17.50159,1.86566,18.80543,3.90093,19.24v2.30028H7.081V19.26125c2.06707-.39221,3.71013-1.59005,3.71013-3.76313C10.79117,12.48762,8.21528,11.45938,5.809,10.834Z"/></svg>',icon_funds_raised_small:'<svg viewBox="0 0 24 24"><path d="M13.3,12.3l0.9,0.9l3.4-3.4v7.4h1.2V9.7l3.4,3.4l0.9-0.9l-4.9-4.9L13.3,12.3z"/><path d="M6.3,11.2C4.1,10.6,3.4,10,3.4,9.1c0-1.1,1-1.8,2.6-1.8c1.7,0,2.4,0.8,2.4,2h2.1c-0.1-1.7-1.1-3.2-3.1-3.7V3.5H4.6v2.1C2.7,6,1.2,7.2,1.2,9.1c0,2.2,1.9,3.4,4.6,4c2.4,0.6,2.9,1.4,2.9,2.3c0,0.7-0.5,1.7-2.6,1.7c-2,0-2.8-0.9-2.9-2H1c0.1,2.1,1.7,3.3,3.6,3.7V21h2.9v-2.1c1.9-0.4,3.4-1.5,3.4-3.4C10.9,12.7,8.5,11.8,6.3,11.2z"/></svg>',icon_funds_raised_thin:'<svg viewBox="0 0 24 24"><path d="M6.3,4.537C4.469,4.827,2.709,5.9,2.709,7.883c0,1.512,2.052,2.22,3.592,2.643Zm14.043,2.13a.552.552,0,0,1,.395.165l2.737,2.762a.559.559,0,0,1-.4.95.553.553,0,0,1-.389-.168l-1.8-1.8v9.168l-.556.671-.556-.671V8.576l-1.791,1.8a.556.556,0,1,1-.79-.782L19.95,6.832A.551.551,0,0,1,20.344,6.667ZM8.2,13.016v6.645c1.334-.234,3.659-.891,3.592-2.968C11.792,14.763,9.909,13.627,8.2,13.016ZM7.245,0A.946.946,0,0,1,8.2.942V2.653a8.6,8.6,0,0,1,4.659,2.073A.932.932,0,0,1,12.49,6.3a.948.948,0,0,1-.919-.209A7.059,7.059,0,0,0,8.2,4.568v6.467c3.566,1.085,5.578,3.111,5.5,5.591,0,3.208-3.089,4.619-5.512,4.9v1.528a.949.949,0,0,1-1.9,0V21.5A12.2,12.2,0,0,1,.64,19a.928.928,0,0,1,0-1.319.946.946,0,0,1,1.33,0A11.468,11.468,0,0,0,6.3,19.615V12.456C4.377,11.977.784,10.984.784,7.873c0-2.781,2.279-4.9,5.512-5.235V.942A.946.946,0,0,1,7.245,0Z"/></svg>',icon_globe:'<svg viewBox="0 0 24 24"><path d="M12,2C6.5,2,2,6.5,2,12s4.5,10,10,10s10-4.5,10-10S17.5,2,12,2z M11,19.9c-3.9-0.5-7-3.9-7-7.9c0-0.6,0.1-1.2,0.2-1.8L9,15v1c0,1.1,0.9,2,2,2V19.9z M17.9,17.4c-0.3-0.8-1-1.4-1.9-1.4h-1v-3c0-0.6-0.4-1-1-1H8v-2h2c0.6,0,1-0.4,1-1V7h2c1.1,0,2-0.9,2-2V4.6c2.9,1.2,5,4.1,5,7.4C20,14.1,19.2,16,17.9,17.4z"/></svg>',icon_globe_lines:'<svg viewBox="0 0 24 24"><path d="M16.967,18.667h3.91a11.081,11.081,0,0,1-6.559,4.2A20.69,20.69,0,0,0,16.967,18.667Zm-4.523,0h3.523a19.659,19.659,0,0,1-2.99,4.395c-.175.016-.354.019-.533.027Zm-4.746,0h3.858v4.422c-.2-.008-.395-.012-.589-.03A13.4,13.4,0,0,1,7.7,18.667Zm-4.575,0H6.708A14.683,14.683,0,0,0,9.4,22.793,11.091,11.091,0,0,1,3.123,18.667Zm15.518-6.223h4.448a11.054,11.054,0,0,1-1.608,5.334H17.366A16.252,16.252,0,0,0,18.641,12.444Zm-6.2,0H17.75A15.69,15.69,0,0,1,16.4,17.778H12.444Zm-6.21,0h5.322v5.334H7.323A15.674,15.674,0,0,1,6.234,12.444Zm-5.323,0H5.345a16.685,16.685,0,0,0,1.007,5.334H2.519A11.054,11.054,0,0,1,.911,12.444ZM17.653,6.222h3.826a11.045,11.045,0,0,1,1.61,5.334H18.661A16.663,16.663,0,0,0,17.653,6.222Zm-5.209,0h4.24a15.674,15.674,0,0,1,1.089,5.334H12.444Zm-5.121,0h4.233v5.334H6.234A15.674,15.674,0,0,1,7.323,6.222Zm-4.8,0H6.352a16.69,16.69,0,0,0-1.007,5.334H.911A11.045,11.045,0,0,1,2.521,6.222ZM14.6,1.207a11.088,11.088,0,0,1,6.28,4.126H17.3A14.667,14.667,0,0,0,14.6,1.207Zm-5.2,0A14.683,14.683,0,0,0,6.708,5.333H3.123A11.091,11.091,0,0,1,9.4,1.207Zm3.043-.3c.2.008.4.012.592.03a13.409,13.409,0,0,1,3.275,4.392H12.444Zm-.888,0V5.333H7.7A13.427,13.427,0,0,1,10.965.941C11.16.923,11.358.919,11.556.911ZM12,0a12,12,0,1,0,1.392,23.913l.014.014.016-.017a11.992,11.992,0,0,0,0-23.816C13.409.081,13.4.066,13.38.054v0l-.028.033A12.058,12.058,0,0,0,12,0Z"/></svg>',icon_help_outline:'<svg viewBox="0 0 24 24"><path d="M10.8,19.2h2.4V16.8H10.8ZM12,0A12,12,0,1,0,24,12,12,12,0,0,0,12,0Zm0,21.6A9.6,9.6,0,1,1,21.6,12,9.62,9.62,0,0,1,12,21.6ZM12,4.8A4.8,4.8,0,0,0,7.2,9.6H9.6a2.4,2.4,0,0,1,4.8,0c0,2.4-3.6,2.1-3.6,6h2.4c0-2.7,3.6-3,3.6-6A4.8,4.8,0,0,0,12,4.8Z"/></svg>',icon_hubspot:'<svg viewBox="0 0 24 24"><path d="M15.4,6.9V4.4c0.7-0.3,1.1-1,1.1-1.7V2.6c0-1.1-0.9-1.9-1.9-1.9h-0.1c-1.1,0-1.9,0.9-1.9,1.9v0.1\tc0,0.7,0.4,1.4,1.1,1.7v2.5C12.7,7,11.8,7.4,11.1,8L4.2,2.7c0-0.2,0.1-0.4,0.1-0.5C4.3,1,3.4,0,2.2,0C1,0,0,1,0,2.2s1,2.2,2.2,2.2\tc0,0,0,0,0,0c0.4,0,0.7-0.1,1.1-0.3L10,9.3c-1.2,1.9-1.2,4.3,0.1,6.1l-2,2c-0.2-0.1-0.3-0.1-0.5-0.1c-1,0-1.8,0.8-1.8,1.8\tc0,1,0.8,1.8,1.8,1.8c1,0,1.8-0.8,1.8-1.8c0-0.2,0-0.3-0.1-0.5l2-2c1.8,1.4,4.3,1.5,6.2,0.3c1.9-1.2,2.9-3.5,2.4-5.7\tC19.4,8.9,17.6,7.2,15.4,6.9 M14.5,15.1c-1.5,0-2.8-1.2-2.9-2.7c0-1.5,1.2-2.8,2.7-2.9c0.1,0,0.1,0,0.2,0c1.5,0.1,2.7,1.3,2.7,2.8\tC17.2,13.8,16,15,14.5,15.1"/></svg>',icon_import_list:'<svg viewBox="0 0 24 24"><path d="M5,15.92l1.54,1.53L12,12,6.55,6.55,5,8.08l2.81,2.83H0v2.18H7.82ZM21.82,2.18H6.55A2.18,2.18,0,0,0,4.36,4.36H21.82V19.64H4.36a2.18,2.18,0,0,0,2.19,2.18H21.82A2.19,2.19,0,0,0,24,19.64V4.36A2.19,2.19,0,0,0,21.82,2.18ZM13.09,13.09h6.55V10.91H13.09Zm0,4.36h6.55V15.27H13.09Zm0-10.9V8.73h6.55V6.55Z"/></svg>',icon_info_outline:'<svg viewBox="0 0 24 24"><path d="M10.8,6h2.4V8.4H10.8Zm0,4.8h2.4V18H10.8ZM12,0A12,12,0,1,0,24,12,12,12,0,0,0,12,0Zm0,21.6A9.6,9.6,0,1,1,21.6,12,9.62,9.62,0,0,1,12,21.6Z"/></svg>',icon_instagram_circle:'<svg viewBox="0 0 24 24"><path d="M15.5,12c0,1.9-1.6,3.5-3.5,3.5S8.5,13.9,8.5,12c0-0.2,0-0.4,0.1-0.6H7.4v4.6c0,0.3,0.3,0.6,0.6,0.6h8.1c0.3,0,0.6-0.3,0.6-0.6v-4.6h-1.2C15.5,11.6,15.5,11.8,15.5,12z M12,14.3c1.3,0,2.3-1,2.3-2.3c0-1.3-1-2.3-2.3-2.3s-2.3,1-2.3,2.3C9.7,13.3,10.7,14.3,12,14.3z M14.8,9.6h1.4c0.2,0,0.3-0.2,0.3-0.3V7.8c0-0.2-0.2-0.3-0.3-0.3h-1.4c-0.2,0-0.3,0.2-0.3,0.3v1.4C14.4,9.4,14.6,9.6,14.8,9.6z M12,0.8C5.8,0.8,0.8,5.8,0.8,12s5,11.2,11.2,11.2s11.2-5,11.2-11.2S18.2,0.8,12,0.8z M17.8,16.5c0,0.7-0.6,1.3-1.3,1.3h-9c-0.7,0-1.3-0.6-1.3-1.3v-9c0-0.7,0.6-1.3,1.3-1.3h9c0.7,0,1.3,0.6,1.3,1.3V16.5z"/></svg>',icon_investment:'<svg viewBox="0 0 24 24"><g><path d="M18.1,7.4l-0.9,0.9l3.4,3.4h-7.4v1.2h7.4l-3.4,3.4l0.9,0.9l4.9-4.9L18.1,7.4z"/><path d="M6.3,11.2C4.1,10.6,3.4,10,3.4,9.1c0-1.1,1-1.8,2.6-1.8c1.7,0,2.4,0.8,2.4,2h2.1c-0.1-1.7-1.1-3.2-3.1-3.7V3.5H4.6v2.1C2.7,6,1.2,7.2,1.2,9.1c0,2.2,1.9,3.4,4.6,4c2.4,0.6,2.9,1.4,2.9,2.3c0,0.7-0.5,1.7-2.6,1.7c-2,0-2.8-0.9-2.9-2H1c0.1,2.1,1.7,3.3,3.6,3.7V21h2.9v-2.1c1.9-0.4,3.4-1.5,3.4-3.4C10.9,12.7,8.5,11.8,6.3,11.2z"/></g></svg>',icon_investment_stroked:'<svg viewBox="0 0 24 24"><path d="M2.8,15.368,8.638,21.2,6.8,23.036.969,17.2ZM7.6,12.8a4.289,4.289,0,0,0-3.144,1.382.4.4,0,1,0,.555.576A3.352,3.352,0,0,1,7.6,13.6H16A1.2,1.2,0,0,1,16,16H11.6a.4.4,0,1,0,0,.8H16a2,2,0,0,0,0-4ZM22.143,10.08a1.888,1.888,0,0,0-1.339.554l-2.345,2.345a.4.4,0,1,0,.566.566L21.37,11.2a1.085,1.085,0,0,1,1.548,0,.915.915,0,0,1,.281.725,1.687,1.687,0,0,1-.325.875c-.765,1.084-2.477,3.562-3.394,4.889A3.089,3.089,0,0,1,16.8,19.2H10a2.3,2.3,0,0,0-1.591.643L3.083,14.517a.4.4,0,0,0-.564,0l-2.4,2.4a.4.4,0,0,0,0,.567l6.4,6.4a.4.4,0,0,0,.564,0l2.4-2.4a.4.4,0,0,0,0-.564l-.514-.514A1.357,1.357,0,0,1,10,20h6.8a3.978,3.978,0,0,0,3.336-1.859c.916-1.327,2.631-3.808,3.389-4.883A2.442,2.442,0,0,0,24,11.953a1.766,1.766,0,0,0-.516-1.319A1.887,1.887,0,0,0,22.143,10.08ZM12,1.6a.385.385,0,0,0-.4.4v.863A1.6,1.6,0,0,0,12,6a.8.8,0,1,1-.8.8.4.4,0,1,0-.8,0,1.6,1.6,0,0,0,1.2,1.543V9.2a.4.4,0,0,0,.8,0V8.348A1.6,1.6,0,0,0,12,5.2a.8.8,0,1,1,.8-.8.4.4,0,1,0,.8,0A1.6,1.6,0,0,0,12.4,2.86V2A.385.385,0,0,0,12,1.6ZM12,0A5.6,5.6,0,0,0,8.427,1.289a.4.4,0,0,0-.143.377.4.4,0,0,0,.654.239,4.8,4.8,0,1,1-.98,1.108.4.4,0,1,0-.673-.432A5.6,5.6,0,1,0,12,0Z"/></svg>',icon_investor:'<svg viewBox="0 0 24 24"><path d="M9,10.71A3.87,3.87,0,1,0,5.15,6.85,3.85,3.85,0,0,0,9,10.71Zm0,2.58c-3,0-9,1.51-9,4.51V21H18V17.8C18,14.8,12,13.29,9,13.29Z"/><path d="M22.26,11a1.46,1.46,0,0,0-.21-.83,2.39,2.39,0,0,0-.78-.6,5,5,0,0,1-1.8-1.08,2.39,2.39,0,0,1-.59-1.73,2.44,2.44,0,0,1,.59-1.68,2.41,2.41,0,0,1,1.59-.77V3H22V4.3a2.3,2.3,0,0,1,1.5.87A2.86,2.86,0,0,1,24,7H22.28a1.89,1.89,0,0,0-.23-1,.72.72,0,0,0-.64-.36.68.68,0,0,0-.62.3,1.65,1.65,0,0,0-.18.83,1.27,1.27,0,0,0,.21.76,2.37,2.37,0,0,0,.8.62A4.75,4.75,0,0,1,23.4,9.2,2.49,2.49,0,0,1,24,11a2.39,2.39,0,0,1-.58,1.69,2.44,2.44,0,0,1-1.58.75V14.6h-.89V13.39a2.46,2.46,0,0,1-2.31-2.76v0h1.68a1.8,1.8,0,0,0,.28,1.14,1,1,0,0,0,.78.34.76.76,0,0,0,.67-.3A1.41,1.41,0,0,0,22.26,11Z"/></svg>',icon_keyboard_return:'<svg viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M19 7v4H5.83l3.58-3.59L8 6l-6 6 6 6 1.41-1.41L5.83 13H21V7z"/></svg>',icon_layoff:'<svg viewBox="0 0 24 24"><path d="M7.938 9.934C5.296 9.934 0 11.261 0 13.904v2.834h15.876v-2.835c0-2.642-5.296-3.969-7.938-3.969m5.326-8.516l2.274 3.524 2.285-1.61 2.388 3.694 1.308-.921-.577 2.968-2.85-.554 1.308-.921-1.85-2.866-2.284 1.61-2.807-4.356.805-.568zM7.938.862c1.882 0 3.39 1.52 3.39 3.402a3.388 3.388 0 01-3.39 3.402 3.397 3.397 0 01-3.402-3.402A3.397 3.397 0 017.938.862z"/></svg>',icon_lightbulb:'<svg viewBox="0 0 24 24"><path d="M12,2A7,7 0 0,1 19,9C19,11.38 17.81,13.47 16,14.74V17A1,1 0 0,1 15,18H9A1,1 0 0,1 8,17V14.74C6.19,13.47 5,11.38 5,9A7,7 0 0,1 12,2M9,21V20H15V21A1,1 0 0,1 14,22H10A1,1 0 0,1 9,21M12,4A5,5 0 0,0 7,9C7,11.05 8.23,12.81 10,13.58V16H14V13.58C15.77,12.81 17,11.05 17,9A5,5 0 0,0 12,4Z" /></svg>',icon_linkedin:'<svg viewBox="0 0 24 24"><path d="M19,19H16V13.7A1.5,1.5 0 0,0 14.5,12.2A1.5,1.5 0 0,0 13,13.7V19H10V10H13V11.2C13.5,10.36 14.59,9.8 15.5,9.8A3.5,3.5 0 0,1 19,13.3M6.5,8.31C5.5,8.31 4.69,7.5 4.69,6.5A1.81,1.81 0 0,1 6.5,4.69C7.5,4.69 8.31,5.5 8.31,6.5A1.81,1.81 0 0,1 6.5,8.31M8,19H5V10H8M20,2H4C2.89,2 2,2.89 2,4V20A2,2 0 0,0 4,22H20A2,2 0 0,0 22,20V4C22,2.89 21.1,2 20,2Z" /></svg>',icon_linkedin_circle:'<svg viewBox="0 0 24 24"><path d="M 12 0 A 12 12 0 0 0 0 12 A 12 12 0 0 0 12 24 A 12 12 0 0 0 24 12 A 12 12 0 0 0 12 0 z M 7.3339844 6 A 1.3333333 1.3333333 0 0 1 8.6660156 7.3339844 A 1.3333333 1.3333333 0 0 1 7.3339844 8.6660156 A 1.3333333 1.3333333 0 0 1 6 7.3339844 A 1.3333333 1.3333333 0 0 1 7.3339844 6 z M 6 10 L 8.6660156 10 L 8.6660156 18 L 6 18 L 6 10 z M 10 10 L 12.666016 10 L 12.666016 11.333984 C 13.106016 10.620651 14.24 10.160156 15 10.160156 C 16.666667 10.160156 18 11.519349 18 13.166016 L 18 18 L 15.333984 18 L 15.333984 13.5 C 15.333984 12.793333 14.540651 12.207031 13.833984 12.207031 C 13.127318 12.207031 12.666016 12.793333 12.666016 13.5 L 12.666016 18 L 10 18 L 10 10 z" /></svg>',icon_linkedin_nobg:'<svg viewBox="0 0 24 24"><path d="M21.6,1.2 M20.9,22.8v-7.4c0-2.5-2-4.5-4.5-4.5c0,0,0,0,0,0c-1.2,0-2.6,0.7-3.2,1.8v-1.5H9.3v11.7h3.9v-6.9c0-1.1,0.9-2,1.9-2c1.1,0,2,0.9,2,2v6.9H20.9 M4.7,8.9c1.3,0,2.3-1,2.3-2.3v0c0-1.3-1-2.4-2.3-2.4c-1.3,0-2.4,1.1-2.4,2.4l0,0C2.4,7.9,3.4,8.9,4.7,8.9 M6.7,22.8V11.1H2.8v11.7H6.7z"/></svg>',icon_list:'<svg viewBox="0 0 24 24"><path d="M5.33,13.33H8V10.67H5.33Zm0,5.34H8V16H5.33ZM5.33,8H8V5.33H5.33Zm5.34,5.33h8V10.67h-8Zm0,5.34h8V16h-8Zm0-13.34V8h8V5.33Z"/><path d="M21.33,0H2.67A2.67,2.67,0,0,0,0,2.67V21.33A2.67,2.67,0,0,0,2.67,24H21.33A2.68,2.68,0,0,0,24,21.33V2.67A2.68,2.68,0,0,0,21.33,0Zm0,21.33H2.67V2.67H21.33Z"/></svg>',icon_list_borderless:'<svg viewBox="0 0 24 24"><path d="m 0,13.338 2.664,0 0,-2.664 -2.664,0 0,2.664 z m 0,5.328 2.664,0 0,-2.664 -2.664,0 0,2.664 z M 0,8.01 l 2.664,0 0,-2.676 -2.664,0 0,2.676 z m 5.328,5.328 18.672,0 0,-2.664 -18.672,0 0,2.664 z m 0,5.328 18.672,0 0,-2.664 -18.672,0 0,2.664 z m 0,-13.332 0,2.676 18.672,0 0,-2.676 -18.672,0 z" /></svg>',icon_lists:'<svg viewBox="0 0 24 24"><path d="M4,16H6V14H4Zm0,4H6V18H4Zm0-8H6V10H4Zm4,4h6V14H8Zm0,4h6V18H8ZM8,10v2h6V10Z"/><path d="M16,6H2A2,2,0,0,0,0,8V22a2,2,0,0,0,2,2H16a2,2,0,0,0,2-2V8A2,2,0,0,0,16,6Zm0,16H2V8H16Z"/><path d="M22,0H8A2,2,0,0,0,6,2V4H8V2H22V16H20v2h2a2,2,0,0,0,2-2V2A2,2,0,0,0,22,0Z"/></svg>',icon_location:'<svg viewBox="0 0 24 24"><path d="M12,2C8.1,2,5,5.1,5,9c0,5.2,7,13,7,13s7-7.8,7-13C19,5.1,15.9,2,12,2z M12,11.5c-1.4,0-2.5-1.1-2.5-2.5s1.1-2.5,2.5-2.5s2.5,1.1,2.5,2.5S13.4,11.5,12,11.5z"/></svg>',icon_location_stroked:'<svg viewBox="0 0 24 24"><path d="M12,5.713A2.859,2.859,0,1,1,9.054,8.571,2.9,2.9,0,0,1,12,5.713Zm0-4.57A7.54,7.54,0,0,0,4.337,8.571c0,2.705,1.105,4.86,2.7,7.105C8.48,17.714,10.325,19.9,12,22.444c1.675-2.543,3.522-4.73,4.967-6.768,1.593-2.245,2.7-4.4,2.7-7.1A7.541,7.541,0,0,0,12,1.143ZM12,0a8.719,8.719,0,0,1,8.842,8.571,13.14,13.14,0,0,1-2.9,7.753c-1.65,2.325-3.7,4.594-5.433,7.4a.6.6,0,0,1-1.012,0c-1.735-2.8-3.783-5.073-5.433-7.4a13.142,13.142,0,0,1-2.9-7.753A8.719,8.719,0,0,1,12,0Zm0,4.57a4.073,4.073,0,0,0-4.125,4,4.128,4.128,0,0,0,8.252,0A4.075,4.075,0,0,0,12,4.57Z"/></svg>',icon_lock:'<svg viewBox="0 0 24 24"><path d="M12,17A2,2 0 0,0 14,15C14,13.89 13.1,13 12,13A2,2 0 0,0 10,15A2,2 0 0,0 12,17M18,8A2,2 0 0,1 20,10V20A2,2 0 0,1 18,22H6A2,2 0 0,1 4,20V10C4,8.89 4.9,8 6,8H7V6A5,5 0 0,1 12,1A5,5 0 0,1 17,6V8H18M12,3A3,3 0 0,0 9,6V8H15V6A3,3 0 0,0 12,3Z" /></svg>',icon_lock_circle:'<svg viewBox="0 0 24 24"><path d="M13.12,7.76a1.52,1.52,0,0,0-1.52-.42,1.57,1.57,0,0,0-1.17,1.52v2.35h3.14V8.88a1.55,1.55,0,0,0,0-.22A1.51,1.51,0,0,0,13.12,7.76Z"/><path d="M12,13.57l-.15,0a.77.77,0,0,0-.62.63.75.75,0,0,0,.35.78.06.06,0,0,1,0,.05v1.27a.4.4,0,0,0,.48.38.39.39,0,0,0,.3-.38V15.05s0,0,0-.05a.79.79,0,0,0,.33-.45A.78.78,0,0,0,12,13.57Z"/><path d="M12,0A12,12,0,1,0,24,12,12,12,0,0,0,12,0Zm4.71,16.78,0,.19a1.56,1.56,0,0,1-1.21,1.27l-.17,0H8.68A1.57,1.57,0,0,1,7.32,17l0-.19V12.66a1.48,1.48,0,0,1,.44-1,1.46,1.46,0,0,1,.9-.46.86.86,0,0,1,.22,0V9a1.93,1.93,0,0,1,0-.24,3,3,0,0,1,.19-1,3.13,3.13,0,0,1,2.61-2l.19,0h.31a3.45,3.45,0,0,1,.7.13,3.09,3.09,0,0,1,1.54,1,3.13,3.13,0,0,1,.72,2v2.33h0a1.69,1.69,0,0,1,.66.16,1.55,1.55,0,0,1,.85,1.15,1.62,1.62,0,0,1,0,.19Z"/></svg>',icon_log_out:'<svg viewBox="0 0 24 24"><path d="M16.31,16.32,18,18l6-6L18,6,16.31,7.7l3.09,3.08H7.8v2.4H19.4ZM2.4,24H15.6A2.39,2.39,0,0,0,18,21.6V19.2H15.6v2.4H2.4V2.4H15.6V4.8H18V2.4A2.39,2.39,0,0,0,15.6,0H2.4A2.39,2.39,0,0,0,0,2.4V21.6A2.39,2.39,0,0,0,2.4,24Z"/></svg>',icon_loyalty:'<svg viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M21.41 11.58l-9-9C12.05 2.22 11.55 2 11 2H4c-1.1 0-2 .9-2 2v7c0 .55.22 1.05.59 1.42l9 9c.36.36.86.58 1.41.58.55 0 1.05-.22 1.41-.59l7-7c.37-.36.59-.86.59-1.41 0-.55-.23-1.06-.59-1.42zM5.5 7C4.67 7 4 6.33 4 5.5S4.67 4 5.5 4 7 4.67 7 5.5 6.33 7 5.5 7zm11.77 8.27L13 19.54l-4.27-4.27C8.28 14.81 8 14.19 8 13.5c0-1.38 1.12-2.5 2.5-2.5.69 0 1.32.28 1.77.74l.73.72.73-.73c.45-.45 1.08-.73 1.77-.73 1.38 0 2.5 1.12 2.5 2.5 0 .69-.28 1.32-.73 1.77z"/></svg>',icon_magic:'<svg viewBox="0 0 24 24"><path d="M19.636,0,18.262,3,15.273,4.364l2.989,1.374,1.374,2.989L21,5.738l3-1.374L21,3ZM6,9.273,0,12l6,2.727,2.727,6,2.728-6,6-2.727-6-2.727-2.728-6Zm12.262,8.989-2.989,1.374L18.262,21l1.374,3L21,21l3-1.364-3-1.374-1.364-2.99Z"/></svg>',icon_matrix:'<svg viewBox="0 0 24 24"><path d="M18,6h6V0H18ZM9,6h6V0H9ZM0,6H6V0H0Zm18,9h6V9H18ZM9,15h6V9H9ZM0,15H6V9H0Zm18,9h6V18H18ZM9,24h6V18H9ZM0,24H6V18H0Z"/></svg>',icon_maximize:'<svg viewBox="0 0 24 24"><path d="M0,3H24V5.667H0Z"/></svg>',icon_menu:'<svg viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>',icon_message:'<svg viewBox="0 0 24 24"><path d="M20,2H4A2,2 0 0,0 2,4V22L6,18H20A2,2 0 0,0 22,16V4A2,2 0 0,0 20,2M6,9H18V11H6M14,14H6V12H14M18,8H6V6H18" /></svg>',icon_message_outline:'<svg viewBox="0 0 24 24"><path d="M2.4,2.4H21.6V16.8H3.8L2.4,18.2V2.4M2.4,0A2.4,2.4,0,0,0,0,2.4V24l4.8-4.8H21.6A2.41,2.41,0,0,0,24,16.8V2.4A2.41,2.41,0,0,0,21.6,0ZM4.8,12H19.2v2.4H4.8Zm0-3.6H19.2v2.4H4.8Zm0-3.6H19.2V7.2H4.8Z"/></svg>',icon_minimize:'<svg viewBox="0 0 24 24"><path d="M.021,18.333h24V21h-24Z"/></svg>',icon_more_horizontal:'<svg viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"/></svg>',icon_more_vertical:'<svg viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"/></svg>',icon_move:'<svg viewBox="0 0 24 24"><path d="M13,6V11H18V7.75L22.25,12L18,16.25V13H13V18H16.25L12,22.25L7.75,18H11V13H6V16.25L1.75,12L6,7.75V11H11V6H7.75L12,1.75L16.25,6H13Z" /></svg>',icon_multiaccount:'<svg viewBox="0 0 24 24"><path d="M9.6,2.4h12v12H24V2.4A2.4,2.4,0,0,0,21.6,0H9.6ZM4.8,7.2h12v12h2.4V7.2a2.4,2.4,0,0,0-2.4-2.4H4.8ZM0,12v9.6A2.407,2.407,0,0,0,2.4,24H12a2.4,2.4,0,0,0,2.4-2.4V12A2.4,2.4,0,0,0,12,9.6H2.4A2.407,2.407,0,0,0,0,12Z"/></svg>',icon_new:'<svg viewBox="0 0 24 24"><path d="M11.3 11.4c-.4 0-.7.3-.8.7H12c0-.4-.3-.7-.7-.7z"/><path d="M22.5 6.8h-21C.7 6.8 0 7.4 0 8.2v7.5c0 .8.7 1.5 1.5 1.5h21c.8 0 1.5-.7 1.5-1.5V8.2c0-.8-.7-1.4-1.5-1.4zM8.2 15H6.6l-2.3-3.9V15H2.8V8.7h1.6l2.3 3.9V8.7h1.5V15zm5.3-2h-3.1c.1.5.5.8 1 .8.4 0 .8-.2 1-.5l1 .8c-.4.7-1.2 1.1-2 1-1.3.1-2.4-.9-2.5-2.2v-.2c-.1-1.3.9-2.4 2.2-2.5h.1c1.5 0 2.3 1 2.3 2.6.1 0 .1.1 0 .2zm6.3 2h-1.7l-.7-2.7-.6 2.7h-1.7l-1.3-4.7h1.6l.6 3.1.7-3.1h1.4l.7 3.1.6-3.1H21L19.8 15z"/></svg>',icon_new_tab:'<svg viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"/></svg>',icon_news:'<svg viewBox="0 0 24 24"><rect x="4" y="6" width="12" height="4"/><rect x="4" y="12" width="4" height="6"/><rect x="10" y="12" width="6" height="2"/><rect x="10" y="16" width="6" height="2"/><path d="M20,4V2H0V20a2,2,0,0,0,2,2H22a2,2,0,0,0,2-2V4ZM18,20H2V4H18Z"/></svg>',icon_nodes_four:'<svg viewBox="0 0 24 24"><path d="M20.727,21.818a1.091,1.091,0,1,1,1.091-1.091,1.092,1.092,0,0,1-1.091,1.091M8.727,12A3.273,3.273,0,1,1,12,15.273,3.278,3.278,0,0,1,8.727,12M3.273,21.818a1.091,1.091,0,1,1,1.091-1.091,1.092,1.092,0,0,1-1.091,1.091M2.182,3.273A1.091,1.091,0,1,1,3.273,4.364,1.092,1.092,0,0,1,2.182,3.273M20.727,2.182a1.091,1.091,0,1,1-1.091,1.091,1.092,1.092,0,0,1,1.091-1.091m0,15.273a3.24,3.24,0,0,0-1.4.327L16.547,15a5.423,5.423,0,0,0,0-6.008l2.777-2.778a3.266,3.266,0,1,0-1.869-2.945,3.24,3.24,0,0,0,.327,1.4L15,7.453A5.423,5.423,0,0,0,9,7.453L6.218,4.676A3.266,3.266,0,1,0,3.273,6.545a3.24,3.24,0,0,0,1.4-.327L7.453,9a5.423,5.423,0,0,0,0,6.008L4.676,17.782a3.266,3.266,0,1,0,1.869,2.945,3.24,3.24,0,0,0-.327-1.4L9,16.547a5.423,5.423,0,0,0,6.008,0l2.778,2.777a3.266,3.266,0,1,0,2.945-1.869"/></svg>',icon_nodes_three:'<svg viewBox="0 0 24 24"><path d="m 4,16 c 0.63,0 1.22,0.16 1.74,0.42 0.01,-0.02 0.02,-0.04 0.03,-0.05 l 4.25,-4.25 C 10.02,12.08 10,12.04 10,12 c 0,-0.02 0.01,-0.03 0.01,-0.04 L 5.76,7.71 C 5.73,7.68 5.72,7.65 5.7,7.61 5.18,7.85 4.61,8 4,8 1.79,8 0,6.21 0,4 0,1.79 1.79,0 4,0 6.21,0 8,1.79 8,4 8,4.88 7.71,5.69 7.23,6.35 l 4.51,4.51 c 0.04,0.04 0.06,0.1 0.1,0.15 H 16 c 0.05,0 0.09,0.02 0.13,0.03 C 16.57,9.29 18.13,8 20,8 c 2.21,0 4,1.79 4,4 0,2.21 -1.79,4 -4,4 -1.87,0 -3.43,-1.29 -3.87,-3.03 C 16.09,12.98 16.05,13 16,13 h -4.03 l -4.7,4.7 C 7.73,18.35 8,19.14 8,20 8,22.21 6.21,24 4,24 1.79,24 0,22.21 0,20 0,17.79 1.79,16 4,16 Z m 16,-2 c 1.1,0 2,-0.9 2,-2 0,-1.1 -0.9,-2 -2,-2 -1.1,0 -2,0.9 -2,2 0,1.1 0.9,2 2,2 z M 4,2 C 2.9,2 2,2.9 2,4 2,5.1 2.9,6 4,6 5.1,6 6,5.1 6,4 6,2.9 5.1,2 4,2 Z m 0,20 c 1.1,0 2,-0.9 2,-2 0,-1.1 -0.9,-2 -2,-2 -1.1,0 -2,0.9 -2,2 0,1.1 0.9,2 2,2 z" /></svg>',icon_notifications:'<svg viewBox="0 0 24 24"><path d="M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"/></svg>',icon_notifications_active:'<svg viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M7.58 4.08L6.15 2.65C3.75 4.48 2.17 7.3 2.03 10.5h2c.15-2.65 1.51-4.97 3.55-6.42zm12.39 6.42h2c-.15-3.2-1.73-6.02-4.12-7.85l-1.42 1.43c2.02 1.45 3.39 3.77 3.54 6.42zM18 11c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2v-5zm-6 11c.14 0 .27-.01.4-.04.65-.14 1.18-.58 1.44-1.18.1-.24.15-.5.15-.78h-4c.01 1.1.9 2 2.01 2z"/></svg>',icon_notifications_off:'<svg viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M20 18.69L7.84 6.14 5.27 3.49 4 4.76l2.8 2.8v.01c-.52.99-.8 2.16-.8 3.42v5l-2 2v1h13.73l2 2L21 19.72l-1-1.03zM12 22c1.11 0 2-.89 2-2h-4c0 1.11.89 2 2 2zm6-7.32V11c0-3.08-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68c-.15.03-.29.08-.42.12-.1.03-.2.07-.3.11h-.01c-.01 0-.01 0-.02.01-.23.09-.46.2-.68.31 0 0-.01 0-.01.01L18 14.68z"/></svg>',icon_open_fullscreen:'<svg viewBox="0 0 24 24"><polygon points="24 10.667 24 0 13.333 0 17.72 4.387 4.387 17.72 0 13.333 0 24 10.667 24 6.28 19.613 19.613 6.28 24 10.667"/></svg>',icon_outreach:'<svg viewBox="0 0 24 24"><path d="m10.78 1.18c3.65 0 9.14 1.13 11.71 3.68a5.34 5.34 0 0 1 1.51 3.81c0 3.33-2.68 8.42-5.61 11.4-1.53 1.52-3.94 3.52-7.21 3.52a9.61 9.61 0 0 1 -6.33-2.87 16 16 0 0 1 -4.63-10.66 8.55 8.55 0 0 1 2.43-6.31c1.63-1.64 4.42-2.57 8.13-2.57zm4.52 13.26a5.32 5.32 0 0 0 1.56-3.59 3.11 3.11 0 0 0 -.86-2.26 5 5 0 0 0 -3.89-1.49 5.06 5.06 0 0 0 -3.75 1.35 4.1 4.1 0 0 0 -1.15 3 5.16 5.16 0 0 0 1.51 3.47 4.38 4.38 0 0 0 3 1.27 4.92 4.92 0 0 0 3.58-1.75z"/></svg>',icon_people_connection:'<svg viewBox="0 0 24 24"><path d="M5.5,14.21a2.35,2.35,0,1,0-2.36-2.35A2.35,2.35,0,0,0,5.5,14.21Z"/><path d="M5.5,15.78c-1.83,0-5.5.91-5.5,2.74v2H11v-2C11,16.69,7.33,15.78,5.5,15.78Z"/><path d="M18.5,14.21a2.35,2.35,0,1,0-2.36-2.35A2.35,2.35,0,0,0,18.5,14.21Z"/><path d="M18.5,15.78c-1.83,0-5.5.91-5.5,2.74v2H24v-2C24,16.69,20.33,15.78,18.5,15.78Z"/><path d="M15,6.52H13v-2a1,1,0,1,0-2,0v2H9a1,1,0,0,0,0,2h2v2a1,1,0,0,0,2,0v-2h2a1,1,0,0,0,0-2Z"/></svg>',icon_people_three:'<svg viewBox="0 0 24 24"><path d="M12,11.45A3.27,3.27,0,1,0,8.73,8.18,3.26,3.26,0,0,0,12,11.45Z"/><path d="M12,12.55c-2.54,0-7.64,1.27-7.64,3.82v2.72H19.64V16.37C19.64,13.82,14.54,12.55,12,12.55Z"/><path d="M6.55,8.18a2.19,2.19,0,1,0-2.19,2.18A2.18,2.18,0,0,0,6.55,8.18Z"/><path d="M7.64,11.92a13.81,13.81,0,0,0-3.28-.47C1.82,11.45,0,12.73,0,15.27V18H3.27V15.27C3.27,13.62,5.43,12.5,7.64,11.92Z"/><path d="M19.64,10.36a2.18,2.18,0,1,0-2.19-2.18A2.17,2.17,0,0,0,19.64,10.36Z"/><path d="M16.36,11.92a13.81,13.81,0,0,1,3.28-.47c2.54,0,4.36,1.28,4.36,3.82V18H20.73V15.27C20.73,13.62,18.57,12.5,16.36,11.92Z"/></svg>',icon_people_three_stroked:'<svg viewBox="0 0 24 24"><path d="M4.747,6.8a2.014,2.014,0,1,0,2.01,2.014A2.015,2.015,0,0,0,4.747,6.8Zm0,4.812a2.8,2.8,0,1,1,2.784-2.8A2.794,2.794,0,0,1,4.747,11.613Zm7.118-7.468a2.811,2.811,0,1,0,2.8,2.811A2.811,2.811,0,0,0,11.865,4.145Zm0-.785a3.6,3.6,0,1,1-3.577,3.6A3.591,3.591,0,0,1,11.865,3.36Zm7.388,3.247a2.014,2.014,0,1,0,2.01,2.014A2.014,2.014,0,0,0,19.253,6.607Zm0-.785a2.8,2.8,0,1,1-2.784,2.8A2.795,2.795,0,0,1,19.253,5.822Zm0,6.954a3.979,3.979,0,0,0-2.191.661,6.527,6.527,0,0,1,1.458,4.121v.721h4.469a.237.237,0,0,0,.238-.235V16.76A3.983,3.983,0,0,0,19.253,12.776Zm-14.506.3A3.983,3.983,0,0,0,.774,17.058v1.284a.237.237,0,0,0,.238.235H5.48V17.558a6.533,6.533,0,0,1,1.3-3.921A3.91,3.91,0,0,0,4.747,13.074ZM12,11.8a5.76,5.76,0,0,0-5.745,5.763v1.806a.491.491,0,0,0,.491.49H17.254a.491.491,0,0,0,.491-.49V17.559A5.76,5.76,0,0,0,12,11.8Zm0-.786a6.483,6.483,0,0,1,4.531,1.844A4.742,4.742,0,0,1,24,16.76v1.285a1.017,1.017,0,0,1-1.012,1.02H18.519v.3a1.272,1.272,0,0,1-1.266,1.275H6.746A1.272,1.272,0,0,1,5.48,19.365v0H1.012A1.017,1.017,0,0,1,0,18.342V17.058a4.764,4.764,0,0,1,4.747-4.77,4.69,4.69,0,0,1,2.546.743A6.49,6.49,0,0,1,12,11.01Z"/></svg>',icon_people_two:'<svg viewBox="0 0 24 24"><path d="M16.36,10.91a3.28,3.28,0,1,0-3.27-3.27A3.26,3.26,0,0,0,16.36,10.91Zm-8.72,0A3.28,3.28,0,1,0,4.36,7.64,3.26,3.26,0,0,0,7.64,10.91Zm0,2.18C5.09,13.09,0,14.37,0,16.91v2.73H15.27V16.91C15.27,14.37,10.18,13.09,7.64,13.09Zm8.72,0a10.24,10.24,0,0,0-1,.06,4.59,4.59,0,0,1,2.14,3.76v2.73H24V16.91C24,14.37,18.91,13.09,16.36,13.09Z"/></svg>',icon_person:'<svg viewBox="0 0 24 24"><path d="M12,2c2.8,0,5,2.2,5,5s-2.2,5-5,5S7,9.8,7,7S9.2,2,12,2 M12,14.5c5.5,0,10,2.2,10,5V22H2v-2.5C2,16.7,6.5,14.5,12,14.5z"/></svg>',icon_personal_settings:'<svg viewBox="0 0 24 24"><path d="M8.4,1.5a4.2,4.2,0,1,0,4.2,4.2A4.2,4.2,0,0,0,8.4,1.5M8.4,12C5.6,12,0,13.4,0,16.2v2.1H11.63A7.24,7.24,0,0,1,13,12.84,15.54,15.54,0,0,0,8.4,12m9.45,0a.27.27,0,0,0-.28.22l-.2,1.39a5.15,5.15,0,0,0-.89.49l-1.3-.53a.32.32,0,0,0-.33.14l-1,1.82a.24.24,0,0,0,.06.33l1.11.86a4.71,4.71,0,0,0,0,.53,4.41,4.41,0,0,0,0,.52l-1.11.86a.26.26,0,0,0-.06.34l1,1.82c.07.13.2.13.33.13l1.3-.52a4.28,4.28,0,0,0,.89.49l.2,1.39a.27.27,0,0,0,.28.22H20a.28.28,0,0,0,.25-.22l.2-1.39a5.06,5.06,0,0,0,.88-.49l1.29.52c.14,0,.27,0,.35-.13L24,19a.28.28,0,0,0-.07-.34l-1.12-.86a4.38,4.38,0,0,0,0-.52,3.15,3.15,0,0,0,0-.53l1.11-.86a.26.26,0,0,0,.07-.33l-1.05-1.82c-.07-.14-.2-.14-.34-.14l-1.29.53a4.28,4.28,0,0,0-.89-.49l-.2-1.39A.25.25,0,0,0,20,12M18.9,15.67a1.58,1.58,0,1,1-1.58,1.58A1.57,1.57,0,0,1,18.9,15.67Z"/></svg>',icon_phone:'<svg viewBox="0 0 24 24"><path d="M6.62,10.79C8.06,13.62 10.38,15.94 13.21,17.38L15.41,15.18C15.69,14.9 16.08,14.82 16.43,14.93C17.55,15.3 18.75,15.5 20,15.5A1,1 0 0,1 21,16.5V20A1,1 0 0,1 20,21A17,17 0 0,1 3,4A1,1 0 0,1 4,3H7.5A1,1 0 0,1 8.5,4C8.5,5.25 8.7,6.45 9.07,7.57C9.18,7.92 9.1,8.31 8.82,8.59L6.62,10.79Z" /></svg>',icon_plus:'<svg viewBox="0 0 24 24"><path d="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z" /></svg>',icon_plus_filled_circle:'<svg viewBox="0 0 24 24"><path d="M4.9,4.9C1,8.8,1,15.2,4.9,19.1s10.2,3.9,14.1,0s3.9-10.2,0-14.1S8.8,1,4.9,4.9z M18.1,11v2H13v5.1h-2V13H5.9v-2H11V5.9h2 V11H18.1z"/></svg>',icon_press_reference:'<svg viewBox="0 0 24 24"><path d="M3,7H9V13H3V7M3,3H21V5H3V3M21,7V9H11V7H21M21,11V13H11V11H21M3,15H17V17H3V15M3,19H21V21H3V19Z" /></svg>',icon_privacy_settings:'<svg viewBox="0 0 24 24"><path d="M22.51,12.4h-.74V10.91a3.72,3.72,0,0,0-7.43,0V12.4H13.6a1.49,1.49,0,0,0-1.49,1.49v7.42A1.49,1.49,0,0,0,13.6,22.8h8.91A1.49,1.49,0,0,0,24,21.31V13.89A1.49,1.49,0,0,0,22.51,12.4Zm-4.45,6.69a1.49,1.49,0,1,1,1.48-1.49A1.49,1.49,0,0,1,18.06,19.09Zm2.3-6.69H15.75V10.91a2.31,2.31,0,0,1,4.61,0Z"/><rect y="1.2" width="24" height="3.6" rx="1.5"/><rect y="7.1" width="13.2" height="3.6" rx="1.5"/><rect y="13.2" width="9.6" height="3.6" rx="1.5"/><rect y="19.2" width="9.6" height="3.6" rx="1.5"/></svg>',icon_prize_ribbon:'<svg viewBox="0 0 24 24"><path d="M18,8a6,6,0,1,0-9.95,4.51L6.3,21.21l2.36-1.56L10.22,22l1.62-8h.33l1.62,8,1.56-2.36,2.36,1.56-1.76-8.69A6,6,0,0,0,18,8Zm-4.18,2.83L12,9.5l-1.82,1.33.7-2.14L9,7.39h2.24L12,5.17l.71,2.21H15l-1.82,1.3Z"/></svg>',icon_pro_lightning:'<svg viewBox="0 0 24 24"><polygon points="13.24 0 5.74 14.61 10.96 14.61 10.96 24 18.26 9.39 13.24 9.39 13.24 0"/></svg>',icon_pro_lightning_filled_circle:'<svg viewBox="0 0 24 24"><path d="M12,0A12,12,0,1,0,24,12,12,12,0,0,0,12,0Zm-.7,20V13.74H7.82l5-9.74v6.26h3.35Z"/></svg>',icon_pro_square:'<svg viewBox="0 0 24 24"><rect fill="white" x="1" y="1" width="22" height="22"/><circle cx="17.24194" cy="12.04204" r="1.65146"/><path d="M8.31211,11.77083a1.64026,1.64026,0,0,0-.04548-0.20149l-0.00154-.00608a1.63325,1.63325,0,0,0-.08-0.20771l-0.01157-.024a1.65835,1.65835,0,0,0-1.1272-.89846l-0.00476-.00125c-0.05083-.01135-0.10283-0.01956-0.15527-0.02607l-0.0219-.0033a1.60805,1.60805,0,0,0-.17813-0.01,1.6522,1.6522,0,0,0-.22258.0167l-0.05229.008a1.63381,1.63381,0,0,0-.41814.12942l-0.03091.01494a1.65214,1.65214,0,0,0-.36995.248l-0.01252.01143a1.662,1.662,0,0,0-.292.34871L5.281,11.181a1.65176,1.65176,0,0,0-.10686.20332H5.17361a1.63978,1.63978,0,0,0,.02,1.35776H5.19412A1.6508,1.6508,0,0,0,6.516,13.68a1.63265,1.63265,0,0,0,.17029.01252,1.65187,1.65187,0,0,0,1.65-1.65V12.04241A1.64357,1.64357,0,0,0,8.32,11.8229Z"/><path d="M21.6,0H2.4A2.407,2.407,0,0,0,0,2.4V21.6A2.407,2.407,0,0,0,2.4,24H21.6A2.40709,2.40709,0,0,0,24,21.6V2.4A2.407,2.407,0,0,0,21.6,0ZM6.68628,14.90435c-0.071,0-.141-0.00388-0.21064-0.009A2.83854,2.83854,0,0,1,5.06858,14.399L5.07,17.61064H3.90344V9.37683H5.07751V9.67705A2.86138,2.86138,0,1,1,6.68628,14.90435Zm6.82009-4.35117a1.188,1.188,0,0,0-1.2657,0,0.90265,0.90265,0,0,0-.43374.53108l-0.0085.02585a4.27253,4.27253,0,0,0-.07214,1.03733V14.709H10.55215V9.37617h1.1666l-0.00154.16143a2.13834,2.13834,0,0,1,1.15635-.3561,2.5755,2.5755,0,0,1,1.15071.244Zm3.73557,4.35037a2.8615,2.8615,0,1,1,2.8615-2.8615A2.86152,2.86152,0,0,1,17.24194,14.90354Z"/></svg>',icon_product:'<svg viewBox="0 0 24 24"><polygon points="11.95 9.56 23.99 4.78 11.96 0 0 4.78 11.95 9.56"/><polygon points="10.76 11.44 0 7.17 0 19.13 10.76 23.97 10.76 11.44"/><polygon points="13.15 11.51 13.15 23.97 24 19.13 24 7.17 13.15 11.51"/></svg>',icon_publish:'<svg viewBox="0 0 24 24"><path d="M5,4V6H19V4H5M5,14H9V20H15V14H19L12,7L5,14Z" /></svg>',icon_query_builder:'<svg viewBox="0 0 24 24"><path d="M19.8040227,0.62 L2.47550284,0.62 C1.10902527,0.62 0,1.72902527 0,3.09550284 L0,17.9485199 C0,19.3149974 1.10902527,20.4240227 2.47550284,20.4240227 L9.66683858,20.4240227 C8.97369778,19.7061269 8.41670964,18.8644559 8.04538422,17.9485199 L2.47550284,17.9485199 L2.47550284,12.9975142 L7.64930376,12.9975142 C7.84734399,12.1187107 8.18153687,11.2770397 8.66425993,10.5220113 L2.47550284,10.5220113 L2.47550284,5.57100567 L9.90201135,5.57100567 L9.90201135,9.04908716 C10.6199072,8.35594636 11.4615781,7.79895823 12.3775142,7.4276328 L12.3775142,5.57100567 L19.8040227,5.57100567 L19.8040227,8.04650851 C20.2991233,8.35594636 20.7570913,8.72727179 21.1655493,9.13572976 C21.5863847,9.55656524 21.9577102,10.0145333 22.2795255,10.5220113 L22.2795255,3.09550284 C22.2795255,1.72902527 21.1705003,0.62 19.8040227,0.62 M17.6998453,17.0449613 C16.4868489,18.2579577 14.5312017,18.2455802 13.3182053,17.0449613 C12.1175864,15.8319649 12.1175864,13.8763177 13.3305828,12.6633213 C14.5312017,11.4627024 16.4868489,11.4627024 17.6998453,12.6633213 C18.8880866,13.8886952 18.8757091,15.8443424 17.6627127,17.0449613 L17.6998453,17.0449613 M20.1753481,17.8123672 C21.80918,15.2130892 21.0417741,11.7597628 18.4301186,10.1259309 C15.8308406,8.49209902 12.3775142,9.28425993 10.7436823,11.8711604 C9.10985044,14.4828159 9.90201135,17.9485199 12.4889118,19.5575967 C14.3084064,20.696328 16.610624,20.696328 18.4301186,19.5575967 L22.2795255,23.3822486 L24,21.6617741 L20.1753481,17.8123672" id="path-1"></path></svg>',icon_radio_empty:'<svg viewBox="0 0 24 24"><path d="M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z" /></svg>',icon_receipt:'<svg viewBox="0 0 24 24"><path d="M18 17H6v-2h12v2zm0-4H6v-2h12v2zm0-4H6V7h12v2zM3 22l1.5-1.5L6 22l1.5-1.5L9 22l1.5-1.5L12 22l1.5-1.5L15 22l1.5-1.5L18 22l1.5-1.5L21 22V2l-1.5 1.5L18 2l-1.5 1.5L15 2l-1.5 1.5L12 2l-1.5 1.5L9 2 7.5 3.5 6 2 4.5 3.5 3 2v20z"/><path d="M0 0h24v24H0z" fill="none"/></svg>',icon_redo:'<svg viewBox="0 0 24 24"><path d="M19.777,10.944A12.283,12.283,0,0,0,0,16.364l2.768.915a9.35,9.35,0,0,1,14.921-4.247l-4.246,4.247H24V6.721Z"/></svg>',icon_remove:'<svg viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2z"/></svg>',icon_remove_column:'<svg viewBox="0 0 24 24"><path d="M4,2H11A2,2 0 0,1 13,4V20A2,2 0 0,1 11,22H4A2,2 0 0,1 2,20V4A2,2 0 0,1 4,2M4,10V14H11V10H4M4,16V20H11V16H4M4,4V8H11V4H4M17.59,12L15,9.41L16.41,8L19,10.59L21.59,8L23,9.41L20.41,12L23,14.59L21.59,16L19,13.41L16.41,16L15,14.59L17.59,12Z" /></svg>',icon_revert:'<svg viewBox="0 0 24 24"><path d="M12,3A9,9 0 0,0 3,12H0L4,16L8,12H5A7,7 0 0,1 12,5A7,7 0 0,1 19,12A7,7 0 0,1 12,19C10.5,19 9.09,18.5 7.94,17.7L6.5,19.14C8.04,20.3 9.94,21 12,21A9,9 0 0,0 21,12A9,9 0 0,0 12,3M14,12A2,2 0 0,0 12,10A2,2 0 0,0 10,12A2,2 0 0,0 12,14A2,2 0 0,0 14,12Z" /></svg>',icon_rocket:'<svg viewBox="0 0 24 24"><path d="M14.4113 7.4673C13.2389 7.4673 12.2899 8.41768 12.2899 9.58869C12.2899 10.7611 13.2389 11.7101 14.4113 11.7101C15.5837 11.7101 16.5327 10.7611 16.5327 9.58869C16.5327 8.41768 15.5837 7.4673 14.4113 7.4673ZM7.75015 20.2522L7.99057 22.0059L6.29346 23.7313H4.28521L7.75015 20.2522ZM1.99411 16.0094L3.74779 16.2499L0.268709 19.7148V17.7065L1.99411 16.0094ZM4.00236 18.0035L5.99646 19.9976L2.23453 23.7737H0.226282V21.7655L4.00236 18.0035ZM0 14.0012L4.00236 9.99882L7.58044 9.29169C12.1344 3.09723 20.8462 0 24 0C24 3.1538 20.9028 11.8656 14.7083 16.4196L14.0012 19.9976L9.99882 24L8.9947 19.0077C7.00059 19.0077 7.00059 19.0077 5.99646 18.0035C4.99234 16.9994 4.99234 16.9994 4.99234 15.0053L0 14.0012Z"/></svg>',icon_salesforce:'<svg viewBox="0 0 24 24"><path d="M6.366 11.535c.2.003.378.032.378.032v.633l-.01.002c-.041.008-.195.037-.366.047-.283.018-.409-.081-.408-.08a.273.273 0 01-.08-.083.334.334 0 01-.042-.181c0-.122.041-.21.125-.27-.001 0 .12-.104.403-.1zm8.705-.799c.183 0 .314.063.4.193.088.131.132.319.132.557 0 .238-.044.426-.131.558-.087.132-.218.196-.4.196-.183 0-.314-.064-.399-.196-.086-.132-.13-.32-.13-.558 0-.238.044-.426.13-.557.085-.13.216-.193.398-.193zm-5.594-.009c.183 0 .303.072.39.202a.69.69 0 01.092.329h-.992a.81.81 0 01.113-.329.443.443 0 01.397-.202zm11.141 0c.183 0 .303.072.39.202.057.086.082.2.092.329h-.992a.81.81 0 01.112-.329.443.443 0 01.398-.202zm.915.839c-.004.035-.04.036-.04.036l-1.391-.001c.008.211.059.36.161.462.1.1.26.164.476.164.33 0 .472-.066.571-.103 0 0 .039-.014.053.024l.09.255c.019.043.005.058-.011.067-.087.048-.299.137-.7.139a1.39 1.39 0 01-.505-.082.918.918 0 01-.35-.232.917.917 0 01-.202-.353 1.494 1.494 0 01-.063-.444c0-.158.02-.307.061-.444.04-.138.104-.26.188-.361a.916.916 0 01.32-.245c.129-.06.286-.09.46-.09.149 0 .285.033.398.082a.81.81 0 01.265.201c.056.06.142.194.177.326.09.313.044.584.042.599zm-2.06.937a1.675 1.675 0 01-.582.104c-.356 0-.63-.103-.811-.305-.181-.202-.273-.477-.273-.818 0-.158.022-.307.067-.442a.95.95 0 01.53-.597c.132-.059.286-.088.459-.088a1.602 1.602 0 01.582.09c.01.004.036.017.025.048-.038.11-.065.18-.1.28-.016.043-.048.03-.048.03a1.375 1.375 0 00-.435-.063c-.203 0-.356.068-.456.2-.1.134-.157.31-.157.542-.001.256.063.445.176.562.113.117.271.176.47.176.081 0 .157-.006.225-.016a.943.943 0 00.191-.055s.04-.015.053.025l.1.279a.037.037 0 01-.016.048zm-1.74-2.029c-.012.038-.08.229-.104.292-.009.024-.024.04-.05.038 0 0-.08-.019-.153-.019a.676.676 0 00-.187.026.423.423 0 00-.172.104.52.52 0 00-.122.204c-.03.087-.046.226-.046.365v1.037a.042.042 0 01-.042.042h-.365a.042.042 0 01-.043-.042v-2.075c0-.023.017-.042.04-.042h.357c.023 0 .04.019.04.042v.17a.626.626 0 01.235-.174.687.687 0 01.359-.058c.09.006.21.031.233.04.009.003.031.019.02.05zm-1.719 1.453a.993.993 0 01-.187.357c-.084.101-.19.181-.315.238a1.059 1.059 0 01-.44.087 1.06 1.06 0 01-.441-.087.884.884 0 01-.316-.238.992.992 0 01-.187-.357 1.555 1.555 0 01-.06-.441c0-.158.02-.306.06-.442a.991.991 0 01.187-.357c.084-.1.19-.181.316-.24.125-.058.274-.088.44-.088.167 0 .315.03.44.088.127.059.233.14.316.24.084.1.147.22.187.357.04.136.06.284.06.442 0 .157-.02.306-.06.441zm-2.036-1.191c-.008.042-.046.04-.046.04h-.459l-.313 1.774a2.64 2.64 0 01-.122.467.924.924 0 01-.181.311.638.638 0 01-.257.18 1.016 1.016 0 01-.342.052.84.84 0 01-.33-.056c-.018-.006-.032-.028-.022-.056l.103-.282c.014-.037.05-.023.05-.023.025.01.043.018.076.025a.516.516 0 00.275-.011.258.258 0 00.127-.099.708.708 0 00.097-.198 2.19 2.19 0 00.083-.343l.312-1.74h-.307c-.037 0-.049-.018-.045-.046l.051-.289c.009-.042.047-.04.047-.04h.316l.017-.095c.047-.279.141-.491.28-.63.139-.14.337-.212.589-.212a1.077 1.077 0 01.326.047c.01.004.037.018.026.049l-.107.292c-.009.022-.015.035-.06.022a.582.582 0 00-.335-.007.289.289 0 00-.116.072.402.402 0 00-.098.148c-.05.147-.07.304-.073.314h.445c.037 0 .049.017.045.045l-.052.289zm-2.43 1.88c-.241 0-.473-.038-.717-.167-.047-.027-.092-.05-.137-.083-.005-.007-.026-.015-.01-.055l.096-.27c.015-.043.056-.027.065-.021l.081.05c.287.182.551.183.635.183.214 0 .346-.113.346-.266v-.008c0-.167-.204-.23-.44-.302l-.053-.016c-.325-.093-.672-.227-.672-.638v-.008c0-.39.314-.662.765-.662h.049c.265 0 .52.076.705.189.017.01.034.03.024.055l-.1.27c-.017.046-.065.015-.065.015a1.42 1.42 0 00-.625-.16c-.191 0-.314.101-.314.239v.008c0 .16.21.23.454.308l.043.014c.323.102.668.244.668.634v.008c0 .422-.306.683-.798.683zm-1.156-1.05c-.004.035-.04.036-.04.036L8.96 11.6c.008.211.06.36.162.462.1.1.26.164.475.164.33 0 .472-.066.572-.103 0 0 .038-.014.052.024l.091.255c.018.043.004.058-.012.067-.087.048-.299.137-.7.139-.195 0-.365-.028-.505-.082a.917.917 0 01-.35-.232.919.919 0 01-.202-.353 1.488 1.488 0 01-.063-.444c0-.158.02-.307.061-.444.04-.138.104-.26.189-.361a.915.915 0 01.32-.245c.128-.06.286-.09.46-.09.148 0 .284.033.398.082a.81.81 0 01.264.201c.056.06.143.194.178.326.089.313.043.584.041.599zm-2.303.955c0 .023-.017.042-.04.042H7.68c-.023 0-.04-.019-.04-.042V9.552c0-.023.017-.042.04-.042h.369c.023 0 .04.019.04.042v2.969zm-.934-.04l-.098.025c-.046.01-.214.044-.35.068a2.55 2.55 0 01-.423.035c-.135 0-.259-.013-.368-.038a.768.768 0 01-.283-.123.577.577 0 01-.182-.217.726.726 0 01-.064-.318.67.67 0 01.075-.32.673.673 0 01.202-.23.9.9 0 01.29-.135 1.32 1.32 0 01.343-.043c.087 0 .16.002.217.006 0 0 .11.01.23.027v-.059c0-.185-.04-.273-.115-.331-.078-.06-.194-.09-.344-.09 0 0-.339-.005-.606.14-.013.008-.023.012-.023.012s-.034.012-.046-.022l-.098-.265c-.015-.038.012-.055.012-.055.125-.098.429-.157.429-.157.1-.02.268-.034.373-.034.278 0 .493.064.639.192.146.128.22.335.22.614l.002 1.272s.002.037-.032.046zm-2.016-.548c0 .422-.306.683-.798.683-.242 0-.473-.038-.718-.167-.046-.027-.092-.05-.137-.083-.004-.007-.025-.015-.01-.055l.097-.27c.016-.045.05-.03.065-.021l.081.05c.286.182.551.183.634.183.214 0 .347-.113.347-.266v-.008c0-.167-.204-.23-.441-.302l-.052-.016c-.325-.093-.672-.227-.672-.638v-.008c0-.39.314-.662.765-.662h.049c.265 0 .52.076.705.189.017.01.033.03.024.055l-.1.27c-.017.046-.065.015-.065.015a1.42 1.42 0 00-.626-.16c-.19 0-.313.101-.313.239v.008c0 .16.21.23.454.308l.042.014c.324.102.67.244.67.634v.008zm13.687-6.057c-.745 0-1.453.158-2.093.445-.736-1.312-2.118-2.196-3.702-2.196-1.192 0-2.27.5-3.044 1.307A4.655 4.655 0 006.281 3.6a4.658 4.658 0 00-4.278 6.507A4.053 4.053 0 000 13.612c0 2.236 1.793 4.048 4.006 4.048.282 0 .557-.03.823-.086a4.316 4.316 0 008.022.195 3.781 3.781 0 004.956-1.556c.33.066.67.101 1.019.101 2.857 0 5.174-2.336 5.174-5.219 0-2.883-2.317-5.22-5.174-5.22z"/></svg>',icon_save:'<svg viewBox="0 0 24 24"><path d="M15,9H5V5H15M12,19A3,3 0 0,1 9,16A3,3 0 0,1 12,13A3,3 0 0,1 15,16A3,3 0 0,1 12,19M17,3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V7L17,3Z" /></svg>',icon_save_search:'<svg viewBox="0 0 24 24"><path d="M15.5,12C18,12 20,14 20,16.5C20,17.38 19.75,18.21 19.31,18.9L22.39,22L21,23.39L17.88,20.32C17.19,20.75 16.37,21 15.5,21C13,21 11,19 11,16.5C11,14 13,12 15.5,12M15.5,14A2.5,2.5 0 0,0 13,16.5A2.5,2.5 0 0,0 15.5,19A2.5,2.5 0 0,0 18,16.5A2.5,2.5 0 0,0 15.5,14M5,3H19C20.11,3 21,3.89 21,5V13.03C20.5,12.23 19.81,11.54 19,11V5H5V19H9.5C9.81,19.75 10.26,20.42 10.81,21H5C3.89,21 3,20.11 3,19V5C3,3.89 3.89,3 5,3M7,7H17V9H7V7M7,11H12.03C11.23,11.5 10.54,12.19 10,13H7V11M7,15H9.17C9.06,15.5 9,16 9,16.5V17H7V15Z"/></svg>',icon_saved_search:'<svg viewBox="0 0 24 24"><path d="M18.01176,14.4 L17.05176,14.4 L16.72896,14.076 C17.90376,12.708 18.61176,10.944 18.61176,9 C18.61176,4.692 15.11976,1.2 10.81176,1.2 C6.50376,1.2 3.01176,4.8 3.01176,9 L-0.00024,9 L4.60776,13.8 L9.59976,9 L5.41176,9 C5.41176,6 7.83576,3.6 10.81176,3.6 C13.78776,3.6 16.21176,6.012 16.21176,9 C16.21176,11.976 13.78776,14.4 10.81176,14.4 C10.03176,14.4 9.29976,14.232 8.62776,13.944 L6.85176,15.72 C8.01576,16.404 9.35976,16.8 10.81176,16.8 C12.74376,16.8 14.50776,16.092 15.87696,14.916 L16.19976,15.24 L16.19976,16.188 L22.21176,22.176 L23.99976,20.4 L18.01176,14.4 Z"></path></svg>',icon_school:'<svg viewBox="0 0 24 24"><path d="M4.36,13.29v4.36L12,21.82l7.64-4.17V13.29L12,17.45ZM12,2.18,0,8.73l12,6.54,9.82-5.35v7.53H24V8.73Z"/></svg>',icon_search:'<svg viewBox="0 0 24 24"><path d="M17.15,15.09H16.07l-.39-.37a9,9,0,1,0-1,1l.37.39v1.08L22,24l2-2Zm-8.23,0a6.18,6.18,0,1,1,6.17-6.17A6.16,6.16,0,0,1,8.92,15.09Z"/></svg>',icon_search_menu:'<svg viewBox="0 0 24 24"><g transform="matrix(1.1428571,0,0,1.1428571,-3.4285709,-1.4285709)"><path d="M 18,10 20.85,12.75 24,10 14,10 Z" /><path d="M 9.5,3 A 6.5,6.5 0 0 1 16,9.5 c 0,1.61 -0.59,3.09 -1.56,4.23 l 0.27,0.27 0.79,0 5,5 -1.5,1.5 -5,-5 0,-0.79 -0.27,-0.27 C 12.59,15.41 11.11,16 9.5,16 A 6.5,6.5 0 0 1 3,9.5 6.5,6.5 0 0 1 9.5,3 m 0,2 C 7,5 5,7 5,9.5 5,12 7,14 9.5,14 12,14 14,12 14,9.5 14,7 12,5 9.5,5 Z" /></g></svg>',icon_search_money:'<svg viewBox="0 0 24 24"><path d="M17.15,15.09H16.07l-.39-.37a9,9,0,1,0-1,1l.37.39v1.08L22,24l2-2Zm-8.23,0a6.18,6.18,0,1,1,6.17-6.17A6.16,6.16,0,0,1,8.92,15.09Z"/><path d="M9.13,8.23c-1.2-.31-1.59-.64-1.59-1.14s.54-1,1.43-1,1.28.45,1.32,1.1h1.16a2.1,2.1,0,0,0-1.69-2V4.06H8.18V5.2A2.06,2.06,0,0,0,6.33,7.1c0,1.22,1,1.83,2.48,2.18,1.32.32,1.58.78,1.58,1.27s-.26.95-1.42.95S7.45,11,7.39,10.39H6.23a2.21,2.21,0,0,0,1.95,2v1.15H9.76V12.42c1-.19,1.85-.79,1.85-1.87C11.61,9.05,10.32,8.54,9.13,8.23Z"/></svg>',icon_settings:'<svg viewBox="0 0 24 24"><path d="M 12.000442,16.2 A 4.2,4.2 0 0 1 7.8004417,12 4.2,4.2 0 0 1 12.000442,7.8 a 4.2,4.2 0 0 1 4.2,4.2 4.2,4.2 0 0 1 -4.2,4.2 m 8.916,-3.036 c 0.048,-0.384 0.084,-0.768 0.084,-1.164 0,-0.396 -0.036,-0.792 -0.084,-1.2 l 2.532,-1.956 c 0.228,-0.18 0.288,-0.504 0.144,-0.768 l -2.4,-4.152 c -0.144,-0.264 -0.468,-0.372 -0.732,-0.264 l -2.988,1.2 c -0.624,-0.468 -1.272,-0.876 -2.028,-1.176 l -0.444,-3.18 c -0.048,-0.288 -0.3,-0.504 -0.6,-0.504 L 9.6004417,0 c -0.3,0 -0.552,0.216 -0.6,0.504 l -0.444,3.18 c -0.756,0.3 -1.404,0.708 -2.028,1.176 l -2.988,-1.2 c -0.264,-0.108 -0.588,0 -0.732,0.264 L 0.40844175,8.076 c -0.156,0.264 -0.084,0.588 0.144,0.768 L 3.0844417,10.8 c -0.048,0.408 -0.084,0.804 -0.084,1.2 0,0.396 0.036,0.78 0.084,1.164 l -2.53199995,1.992 c -0.228,0.18 -0.3,0.504 -0.144,0.768 l 2.39999995,4.152 c 0.144,0.264 0.468,0.36 0.732,0.264 l 2.988,-1.212 c 0.624,0.48 1.272,0.888 2.028,1.188 l 0.444,3.18 c 0.048,0.288 0.3,0.504 0.6,0.504 l 4.8000003,0 c 0.3,0 0.552,-0.216 0.6,-0.504 l 0.444,-3.18 c 0.756,-0.312 1.404,-0.708 2.028,-1.188 l 2.988,1.212 c 0.264,0.096 0.588,0 0.732,-0.264 l 2.4,-4.152 c 0.144,-0.264 0.084,-0.588 -0.144,-0.768 l -2.532,-1.992 z" /></svg>',icon_share:'<svg viewBox="0 0 24 24"><path d="M18,16.08C17.24,16.08 16.56,16.38 16.04,16.85L8.91,12.7C8.96,12.47 9,12.24 9,12C9,11.76 8.96,11.53 8.91,11.3L15.96,7.19C16.5,7.69 17.21,8 18,8A3,3 0 0,0 21,5A3,3 0 0,0 18,2A3,3 0 0,0 15,5C15,5.24 15.04,5.47 15.09,5.7L8.04,9.81C7.5,9.31 6.79,9 6,9A3,3 0 0,0 3,12A3,3 0 0,0 6,15C6.79,15 7.5,14.69 8.04,14.19L15.16,18.34C15.11,18.55 15.08,18.77 15.08,19C15.08,20.61 16.39,21.91 18,21.91C19.61,21.91 20.92,20.61 20.92,19A2.92,2.92 0 0,0 18,16.08Z" /></svg>',icon_shopping_cart:'<svg viewBox="0 0 24 24"><path d="M17,18C15.89,18 15,18.89 15,20A2,2 0 0,0 17,22A2,2 0 0,0 19,20C19,18.89 18.1,18 17,18M1,2V4H3L6.6,11.59L5.24,14.04C5.09,14.32 5,14.65 5,15A2,2 0 0,0 7,17H19V15H7.42A0.25,0.25 0 0,1 7.17,14.75C7.17,14.7 7.18,14.66 7.2,14.63L8.1,13H15.55C16.3,13 16.96,12.58 17.3,11.97L20.88,5.5C20.95,5.34 21,5.17 21,5A1,1 0 0,0 20,4H5.21L4.27,2M7,18C5.89,18 5,18.89 5,20A2,2 0 0,0 7,22A2,2 0 0,0 9,20C9,18.89 8.1,18 7,18Z" /></svg>',icon_similar:'<svg viewBox="0 0 24 24"> <path d="M10.934 19.438C10.024 19.796 9.037 20 8 20C3.582 20 0 16.418 0 12C0 7.581 3.582 4 8 4C8.264 4 8.524 4.014 8.782 4.039C8.98 4.059 9.174 4.092 9.367 4.125C9.38995 4.12897 9.41329 4.13216 9.43658 4.13535C9.46608 4.13939 9.49551 4.14341 9.524 4.149C9.767 4.195 10.003 4.255 10.236 4.323H10.237C10.475 4.392 10.706 4.473 10.933 4.562H10.934C13.486 5.57 15.391 7.85 15.873 10.622C15.884 10.685 15.893 10.747 15.901 10.81C15.96 11.199 16 11.595 16 12C16 13.772 15.412 15.4 14.436 16.725C13.782 16.507 13.191 16.166 12.689 15.718C13.505 14.694 14 13.407 14 12C14 11.674 13.968 11.355 13.916 11.044C13.9139 11.0304 13.9119 11.0168 13.91 11.003C13.9063 10.9773 13.9026 10.9514 13.898 10.926C13.84 10.612 13.76 10.307 13.654 10.012L13.643 9.979C13.417 9.36 13.093 8.788 12.689 8.282C12.6896 8.28142 12.6903 8.28083 12.691 8.28025C12.6927 8.27883 12.6946 8.27742 12.696 8.276C11.828 7.184 10.591 6.398 9.171 6.116C8.792 6.041 8.4 6 8 6C4.691 6 2 8.691 2 12C2 15.309 4.691 18 8 18C8.409 18 8.81 17.958 9.195 17.88C9.706 18.47 10.287 18.996 10.934 19.438ZM13.066 4.562C13.976 4.203 14.963 4 16 4C20.418 4 24 7.581 24 12C24 16.418 20.418 20 16 20C15.735 20 15.475 19.986 15.218 19.96C15.02 19.941 14.826 19.908 14.633 19.875C14.6044 19.8696 14.5759 19.8657 14.5476 19.8618C14.5234 19.8584 14.4995 19.8551 14.476 19.851C14.233 19.804 13.997 19.744 13.764 19.677H13.762C13.525 19.607 13.294 19.527 13.067 19.438H13.066C10.514 18.43 8.609 16.15 8.127 13.378C8.11689 13.3249 8.10962 13.2726 8.10221 13.2192C8.10081 13.2092 8.09942 13.1991 8.098 13.189C8.04 12.801 8 12.405 8 12C8 10.228 8.588 8.6 9.564 7.275C10.218 7.492 10.808 7.834 11.311 8.282C10.495 9.305 10 10.593 10 12C10 12.326 10.032 12.645 10.083 12.956C10.0864 12.9748 10.0893 12.9939 10.0922 13.0129C10.0953 13.0332 10.0984 13.0533 10.102 13.073C10.159 13.388 10.24 13.693 10.346 13.987L10.357 14.02C10.583 14.639 10.907 15.211 11.311 15.718C11.31 15.719 11.3088 15.7197 11.3075 15.7205C11.3062 15.7213 11.305 15.722 11.304 15.723C12.172 16.815 13.409 17.602 14.829 17.883C15.208 17.959 15.599 18 16 18C19.309 18 22 15.309 22 12C22 8.691 19.309 6 16 6C15.591 6 15.19 6.042 14.804 6.12C14.294 5.53 13.712 5.004 13.066 4.562Z" /></svg>',icon_snippet:'<svg viewBox="0 0 24 24"><polygon points="20.572 6.856 21.646 4.502 24 3.428 21.646 2.354 20.572 0 19.498 2.354 17.144 3.428 19.498 4.502 20.572 6.856"/><polygon points="7.431 6.856 8.505 4.502 10.859 3.428 8.505 2.354 7.431 0 6.356 2.354 4.002 3.428 6.356 4.502 7.431 6.856"/><polygon points="20.572 13.141 19.498 15.495 17.144 16.569 19.498 17.644 20.572 19.998 21.646 17.644 24 16.569 21.646 15.495 20.572 13.141"/><path d="M17.955,9.279,14.721,6.045a1.16,1.16,0,0,0-1.623,0L.334,18.809a1.139,1.139,0,0,0,0,1.611l3.234,3.234A1.133,1.133,0,0,0,4.379,24a1.171,1.171,0,0,0,.812-.331L17.955,10.9A1.152,1.152,0,0,0,17.955,9.279Zm-4.045-.8,1.611,1.611-1.337,1.337L12.573,9.816ZM4.379,21.243,2.768,19.632l8.194-8.205,1.611,1.611Z"/></svg>',icon_sort_ascending:'<svg viewBox="0 0 24 24"><path d="M10,11V13H18V11H10M10,5V7H14V5H10M10,17V19H22V17H10M6,7H8.5L5,3.5L1.5,7H4V20H6V7Z" /></svg>',icon_sort_descending:'<svg viewBox="0 0 24 24"><path d="M10,13V11H18V13H10M10,19V17H14V19H10M10,7V5H22V7H10M6,17H8.5L5,20.5L1.5,17H4V4H6V17Z" /></svg>',icon_sort_remove:'<svg viewBox="0 0 24 24"><path d="M10,13V11H18V13H10M10,19V17H14V19H10M10,7V5H22V7H10M6,17H8.5L5,20.5L1.5,17H4V7H1.5L5,3.5L8.5,7H6V17Z M14.76,20.83L17.6,18L14.76,15.17L16.17,13.76L19,16.57L21.83,13.76L23.24,15.17L20.43,18L23.24,20.83L21.83,22.24L19,19.4L16.17,22.24L14.76,20.8" /></svg>',icon_speaker:'<svg viewBox="0 0 24 24"><ellipse cx="12.06" cy="3.98" rx="3" ry="2.99" transform="translate(8.03 16.02) rotate(-89.78)"/><path d="M12,9c-2.33,0-7,1.14-7,3.47V15l6.49,0V12.82A1,1,0,0,1,11,12V11a1,1,0,1,1,2,0v1a1,1,0,0,1-.51.85V15L19,15v-2.5C19,10.18,14.37,9,12,9Z"/><polygon points="22.02 16.02 2.02 15.94 2 19.94 7 19.96 6.99 22.96 16.99 23 17 20 22 20.02 22.02 16.02"/></svg>',icon_stacked_layers:'<svg viewBox="0 0 24 24"><path d="M12,16.71l-8.73-6L1.57,12.05,12,19.35l10.43-7.3-1.7-1.33Zm0,4.65-8.73-6L1.57,16.7,12,24l10.43-7.3-1.7-1.33Zm0-6.76,8.72-6L22.43,7.3,12,0,1.57,7.3Z"/></svg>',icon_star_outline:'<svg viewBox="0 0 24 24"><path d="M 12,16.668 7.488,19.392 8.676,14.256 4.692,10.8 9.948,10.356 12,5.508 l 2.052,4.848 5.256,0.444 -3.984,3.456 1.188,5.136 M 24,9.288 15.372,8.556 12,0.6 8.628,8.556 0,9.288 6.54,14.964 4.584,23.4 12,18.924 19.416,23.4 17.448,14.964 24,9.288 Z" /></svg>',icon_sub_directory:'<svg viewBox="0 0 24 24"><path d="M19,15L13,21L11.58,19.58L15.17,16H4V4H6V14H15.17L11.58,10.42L13,9L19,15Z" /></svg>',icon_sub_org:'<svg viewBox="0 0 24 24"><path d="M21.6,2.4V9.6H2.4V2.4H21.6m0,14.4v4.8H16.8V16.8h4.8m-14.4,0v4.8H2.4V16.8H7.2M21.6,0H2.4A2.39,2.39,0,0,0,0,2.4V9.6A2.39,2.39,0,0,0,2.4,12h8.4v6H9.6V16.8a2.39,2.39,0,0,0-2.4-2.4H2.4A2.39,2.39,0,0,0,0,16.8v4.8A2.39,2.39,0,0,0,2.4,24H7.2a2.39,2.39,0,0,0,2.4-2.4V20.4h4.8v1.2A2.39,2.39,0,0,0,16.8,24h4.8A2.39,2.39,0,0,0,24,21.6V16.8a2.39,2.39,0,0,0-2.4-2.4H16.8a2.39,2.39,0,0,0-2.4,2.4V18H13.2V12h8.4A2.39,2.39,0,0,0,24,9.6V2.4A2.39,2.39,0,0,0,21.6,0Z"/></svg>',icon_summary_event:'<svg viewBox="0 0 24 24"><path d="M7.25272727,20.9454545 L11.0709091,20.9454545 L11.0709091,17.1272727 L7.25272727,17.1272727 L7.25272727,20.9454545 Z M10.3072727,8.72727273 L10.3072727,10.2545455 L4.19818182,10.2545455 L4.19818182,8.72727273 L2.67090909,8.72727273 L2.67090909,10.2545455 L1.90727273,10.2545455 C1.05963636,10.2545455 0.387636364,10.9418182 0.387636364,11.7818182 L0.38,22.4727273 C0.38,23.3127273 1.05963636,24 1.90727273,24 L12.5981818,24 C13.4381818,24 14.1254545,23.3127273 14.1254545,22.4727273 L14.1254545,11.7818182 C14.1254545,10.9418182 13.4381818,10.2545455 12.5981818,10.2545455 L11.8345455,10.2545455 L11.8345455,8.72727273 L10.3072727,8.72727273 Z M12.5981818,14.0738182 L12.5981818,22.4727273 L1.90727273,22.4727273 L1.90727273,14.0738182 L12.5981818,14.0738182 Z M23.6163636,8.72727273 L23.6163636,10.9090909 L14.8890909,10.9090909 L14.8890909,8.72727273 L23.6163636,8.72727273 Z M23.6163636,4.36363636 L23.6163636,6.54545455 L10.5254545,6.54545455 L10.5254545,4.36363636 L23.6163636,4.36363636 Z M23.6163636,0 L23.6163636,2.18181818 L10.5254545,2.18181818 L10.5254545,0 L23.6163636,0 Z"/></svg>',icon_summary_hub:'<svg viewBox="0 0 24 24"><g fill-rule="evenodd"><path d="M4.28571429,18.5785714 L7.02857143,12.75 L12.8571429,10.0071429 L10.1142857,15.8357143 L4.28571429,18.5785714 M8.57142857,13.5214286 C8.14514286,13.5214286 7.8,13.8665714 7.8,14.2928571 C7.8,14.7191429 8.14514286,15.0631429 8.57142857,15.0631429 C8.99771429,15.0631429 9.34285714,14.7191429 9.34285714,14.2928571 C9.34285714,13.8665714 8.99771429,13.5214286 8.57142857,13.5214286 M8.57142857,5.72142857 C13.3062857,5.72142857 17.1428571,9.55914286 17.1428571,14.2928571 C17.1428571,19.0265714 13.3062857,22.8642857 8.57142857,22.8642857 C3.83771429,22.8642857 0,19.0265714 0,14.2928571 C0,9.55914286 3.83771429,5.72142857 8.57142857,5.72142857 M8.57142857,7.43571429 C12.3577143,7.43571429 15.4285714,10.5054286 15.4285714,14.2928571 C15.4285714,18.0791429 12.3577143,21.15 8.57142857,21.15 C4.78514286,21.15 1.71428571,18.0791429 1.71428571,14.2928571 C1.71428571,10.5054286 4.78514286,7.43571429 8.57142857,7.43571429 Z M24,10.2928571 L24,12.5785714 L18.2857143,12.5785714 L18.2857143,10.2928571 L24,10.2928571 Z M24,5.72142857 L24,8.00714286 L16,8.00714286 L16,5.72142857 L24,5.72142857 Z M24,1.15 L24,3.43571429 L10.2857143,3.43571429 L10.2857143,1.15 L24,1.15 Z"/></g></svg>',icon_summary_investor:'<svg viewBox="0 0 24 24"><path d="M8.44679391,9.59786248 L8.44679391,10.7127564 C9.51041577,10.9723892 10.0449539,11.7763782 10.0798625,12.6523663 L8.95515061,12.6523663 C8.92569647,12.016375 8.58861016,11.58329 7.68316796,11.58329 C6.82245242,11.58329 6.30864125,11.9705574 6.30864125,12.5247317 C6.30864125,13.0090887 6.67954528,13.3189027 7.83589315,13.6199895 C8.99115012,13.9199854 10.2282242,14.4141604 10.2282242,15.8595953 C10.2282242,16.903581 9.43950764,17.4784823 8.44679391,17.6661161 L8.44679391,18.7613739 L6.91954201,18.7613739 L6.91954201,17.6573889 C5.94210079,17.4479373 5.10756671,16.821764 5.04647664,15.7068701 L6.16464321,15.7068701 C6.2224606,16.3068619 6.63481862,16.7759464 7.68316796,16.7759464 C8.806789,16.7759464 9.05769467,16.2152268 9.05769467,15.8650497 C9.05769467,15.3916017 8.80351632,14.9432441 7.53044277,14.6377938 C6.1090076,14.2974348 5.13702086,13.7116246 5.13702086,12.5345497 C5.13702086,11.5527449 5.93119185,10.9112991 6.91954201,10.6974839 L6.91954201,9.59786248 L8.44679391,9.59786248 Z M1.5272519,20.2886258 L13.7452671,20.2886258 L13.7452671,8.07061058 L1.5272519,8.07061058 L1.5272519,20.2886258 Z M13.7452671,6.54335868 C14.5863465,6.54335868 15.272519,7.23062204 15.272519,8.07061058 L15.272519,20.2886258 C15.272519,21.1286143 14.5863465,21.8158777 13.7452671,21.8158777 L1.5272519,21.8158777 C0.687263355,21.8158777 -5.68434189e-14,21.1286143 -5.68434189e-14,20.2886258 L-5.68434189e-14,8.07061058 C-5.68434189e-14,7.23062204 0.687263355,6.54335868 1.5272519,6.54335868 L13.7452671,6.54335868 Z M24,13.0889422 L24,15.2707306 L17.4546347,15.2707306 L17.4546347,13.0889422 L24,13.0889422 Z M24,7.63447108 L24,9.81625951 L17.4546347,9.81625951 L17.4546347,7.63447108 L24,7.63447108 Z M24,2.18 L24,4.36178843 L12.0001636,4.36178843 L12.0001636,2.18 L24,2.18 Z"/></svg>',icon_summary_person:'<svg viewBox="0 0 24 24"><path d="M13.2,5.45681818 L24,5.45681818 L24,3.275 L13.2,3.275 L13.2,5.45681818 Z M24,7.63863636 L24,9.82045455 L13.2,9.82045455 L13.2,7.63863636 L24,7.63863636 Z M24,12.0022727 L24,14.1840909 L13.2,14.1840909 L13.2,12.0022727 L24,12.0022727 Z M14.4,20.7295455 L0,20.7295455 L0,18.5477273 C0,16.1368182 3.228,14.1840909 7.2,14.1840909 C11.172,14.1840909 14.4,16.1368182 14.4,18.5477273 L14.4,20.7295455 Z M10.8,8.72954545 C10.8,10.5404545 9.192,12.0022727 7.2,12.0022727 C5.208,12.0022727 3.6,10.5404545 3.6,8.72954545 C3.6,6.91863636 5.208,5.45681818 7.2,5.45681818 C9.192,5.45681818 10.8,6.91863636 10.8,8.72954545 L10.8,8.72954545 Z"/></svg>',icon_summary_school:'<svg viewBox="0 0 24 24"><path d="M0,13.6859455 L8.72727273,18.4466727 L15.8683636,14.5499455 L15.8683636,20.0328545 L17.4545455,20.0328545 L17.4545455,13.6859455 L8.72727273,8.92521818 L0,13.6859455 Z M14.28,17.0023091 L14.28,20.1757636 L8.72727273,23.2063091 L3.17454545,20.1757636 L3.17454545,17.0023091 L8.72727273,20.0328545 L14.28,17.0023091 Z M23.9989091,9.52227273 L23.9989091,11.7040909 L16.3636364,11.7040909 L16.3636364,9.52227273 L23.9989091,9.52227273 Z M24,5.15863636 L24,7.34045455 L10.9090909,7.34045455 L10.9090909,5.15863636 L24,5.15863636 Z M24,0.795 L24,2.97681818 L10.9090909,2.97681818 L10.9090909,0.795 L24,0.795 Z"/></svg>',icon_sync:'<svg viewBox="0 0 24 24"><path d="M12,3.273V0L7.636,4.364,12,8.727V5.455A6.55,6.55,0,0,1,18.545,12a6.406,6.406,0,0,1-.763,3.055l1.593,1.592A8.712,8.712,0,0,0,12,3.273Zm0,15.272A6.55,6.55,0,0,1,5.455,12a6.406,6.406,0,0,1,.763-3.055L4.625,7.353A8.712,8.712,0,0,0,12,20.727V24l4.364-4.364L12,15.273Z"/></svg>',icon_table:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none"><path d="M2.66667 1H21.3333C22.0406 1 22.7189 1.28095 23.219 1.78105C23.719 2.28115 24 2.95942 24 3.66667V19.6667C24 20.3739 23.719 21.0522 23.219 21.5523C22.7189 22.0524 22.0406 22.3333 21.3333 22.3333H2.66667C1.95942 22.3333 1.28115 22.0524 0.781048 21.5523C0.280951 21.0522 0 20.3739 0 19.6667V3.66667C0 2.95942 0.280951 2.28115 0.781048 1.78105C1.28115 1.28095 1.95942 1 2.66667 1ZM2.66667 6.33333V11.6667H10.6667V6.33333H2.66667ZM13.3333 6.33333V11.6667H21.3333V6.33333H13.3333ZM2.66667 14.3333V19.6667H10.6667V14.3333H2.66667ZM13.3333 14.3333V19.6667H21.3333V14.3333H13.3333Z"/></svg>',icon_tag:'<svg viewBox="0 0 24 24"><path d="M7.95156449,7.95236992 C6.9568961,8.94703831 5.34453992,8.94703831 4.34987153,7.95236992 C3.35520314,6.95770153 3.35520314,5.34407176 4.34987153,4.34940337 C5.34453992,3.35600857 6.9568961,3.35600857 7.95156449,4.34940337 C8.94623288,5.34407176 8.94623288,6.95770153 7.95156449,7.95236992 M23.2523917,10.6625547 L13.3553775,0.747710407 C12.7516991,0.144032025 11.9136815,-0.0979487617 11.1304279,0.0357774623 L1.64732822,1.64813365 L0.0362456143,11.1312333 C-0.0987541929,11.9144869 0.144500177,12.7525046 0.746904976,13.3549094 L10.6617493,23.2531971 C11.6525969,24.2427712 13.2649531,24.2529598 14.2558008,23.2621122 L23.2613068,14.2553326 C24.2521544,13.2657586 24.2432393,11.6534024 23.2523917,10.6625547"></path></svg>',icon_text_size:'<svg viewBox="0 0 24 24"><path d="M0,2.526v3.79H6.316V21.474h3.789V6.316h6.316V2.526ZM24,8.842H12.632v3.79h3.789v8.842h3.79V12.632H24Z"/></svg>',icon_thumbs_down:'<svg viewBox="0 0 24 24"><path d="M19,15H23V3H19M15,3H6C5.17,3 4.46,3.5 4.16,4.22L1.14,11.27C1.05,11.5 1,11.74 1,12V14A2,2 0 0,0 3,16H9.31L8.36,20.57C8.34,20.67 8.33,20.77 8.33,20.88C8.33,21.3 8.5,21.67 8.77,21.94L9.83,23L16.41,16.41C16.78,16.05 17,15.55 17,15V5C17,3.89 16.1,3 15,3Z" /></svg>',icon_thumbs_up:'<svg viewBox="0 0 24 24"><path d="M23,10C23,8.89 22.1,8 21,8H14.68L15.64,3.43C15.66,3.33 15.67,3.22 15.67,3.11C15.67,2.7 15.5,2.32 15.23,2.05L14.17,1L7.59,7.58C7.22,7.95 7,8.45 7,9V19A2,2 0 0,0 9,21H18C18.83,21 19.54,20.5 19.84,19.78L22.86,12.73C22.95,12.5 23,12.26 23,12V10M1,21H5V9H1V21Z" /></svg>',icon_timeline:'<svg viewBox="0 0 24 24"><path d="M 12 2 C 11.49586 2 11.089844 2.4060162 11.089844 2.9101562 L 11.089844 6.5390625 L 7.4492188 6.5390625 C 7.4005182 6.5390625 7.359089 6.5591087 7.3125 6.5664062 A 2.73 2.73 0 0 0 2 7.4492188 A 2.73 2.73 0 0 0 4.7304688 10.179688 A 2.73 2.73 0 0 0 7.3105469 8.3320312 C 7.357791 8.3395427 7.3997958 8.359375 7.4492188 8.359375 L 11.089844 8.359375 L 11.089844 15.630859 L 7.4492188 15.630859 C 7.3976531 15.630859 7.3538676 15.651993 7.3046875 15.660156 A 2.73 2.73 0 0 0 1.9882812 16.53125 A 2.73 2.73 0 0 0 4.7089844 19.259766 A 2.73 2.73 0 0 0 7.296875 17.417969 C 7.3485803 17.427027 7.3948406 17.449219 7.4492188 17.449219 L 11.089844 17.449219 L 11.089844 21.089844 C 11.089844 21.593984 11.49586 22 12 22 C 12.50414 22 12.910156 21.593984 12.910156 21.089844 L 12.910156 12.910156 L 16.539062 12.910156 C 16.595227 12.910156 16.643966 12.886602 16.697266 12.876953 A 2.73 2.73 0 0 0 19.269531 14.730469 A 2.73 2.73 0 1 0 16.697266 11.121094 C 16.644086 11.11149 16.595092 11.089844 16.539062 11.089844 L 12.910156 11.089844 L 12.910156 2.9101562 C 12.910156 2.4060162 12.50414 2 12 2 z M 4.7304688 6.0898438 A 1.36 1.36 0 1 1 3.359375 7.4492188 A 1.36 1.36 0 0 1 4.7304688 6.0898438 z M 19.269531 10.640625 A 1.36 1.36 0 1 1 17.910156 12 A 1.36 1.36 0 0 1 19.269531 10.640625 z M 4.7089844 15.169922 A 1.36 1.36 0 1 1 3.3476562 16.53125 A 1.36 1.36 0 0 1 4.7089844 15.169922 z " /></svg>',icon_tool:'<svg viewBox="0 0 24 24"><path d="M23.69,19.5,13.77,9.59a7,7,0,0,0-1.63-7.52A7.21,7.21,0,0,0,4.08.65L8.76,5.34,5.49,8.61.7,3.92A7,7,0,0,0,2.12,12a7,7,0,0,0,7.51,1.64l9.92,9.91a1.06,1.06,0,0,0,1.52,0L23.58,21A1,1,0,0,0,23.69,19.5Z"/></svg>',icon_track:'<svg viewBox="0 0 24 24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M19.07 4.93l-1.41 1.41C19.1 7.79 20 9.79 20 12c0 4.42-3.58 8-8 8s-8-3.58-8-8c0-4.08 3.05-7.44 7-7.93v2.02C8.16 6.57 6 9.03 6 12c0 3.31 2.69 6 6 6s6-2.69 6-6c0-1.66-.67-3.16-1.76-4.24l-1.41 1.41C15.55 9.9 16 10.9 16 12c0 2.21-1.79 4-4 4s-4-1.79-4-4c0-1.86 1.28-3.41 3-3.86v2.14c-.6.35-1 .98-1 1.72 0 1.1.9 2 2 2s2-.9 2-2c0-.74-.4-1.38-1-1.72V2h-1C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10c0-2.76-1.12-5.26-2.93-7.07z"/></svg>',icon_trademark:'<svg viewBox="0 0 24 24"><path d="M21.6,0H2.4A2.41,2.41,0,0,0,0,2.4V21.6A2.41,2.41,0,0,0,2.4,24H21.6A2.41,2.41,0,0,0,24,21.6V2.4A2.41,2.41,0,0,0,21.6,0Z"/><path fill="white" d="M9.84,13.42a2.11,2.11,0,1,1,0-1.75H11.5a3.69,3.69,0,1,0,0,1.75Z"/><path fill="white" d="M16,8.85h-.27a3.74,3.74,0,0,0-1.8.63V5.37h-1.5V15.94h1.51v-.38a3.68,3.68,0,0,0,3.39.38,3.55,3.55,0,0,0,1.06-.63A3.67,3.67,0,0,0,16,8.85Zm2.1,4a.17.17,0,0,1,0,.07,1.22,1.22,0,0,1-.06.26h0a2,2,0,0,1-.1.26l0,0a2.07,2.07,0,0,1-1,1,2,2,0,0,1-.41.15h0l-.2,0H16l-.28,0h-.07a2,2,0,0,1-.54-.17l0,0a1.86,1.86,0,0,1-.47-.32h0a2,2,0,0,1-.37-.45h0c0-.09-.1-.17-.14-.26h0a2.19,2.19,0,0,1-.17-.85,2.08,2.08,0,0,1,.2-.9h0a2.13,2.13,0,0,1,1.7-1.2l.21,0h0a2.12,2.12,0,0,1,2.12,2.12h0A2.46,2.46,0,0,1,18.1,12.8Z"/></svg>',icon_trash:'<svg viewBox="0 0 24 24"><path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"/><path d="M0 0h24v24H0z" fill="none"/></svg>',icon_trending_arrow:'<svg viewBox="0 0 24 24"><path d="M16,6L18.29,8.29L13.41,13.17L9.41,9.17L2,16.59L3.41,18L9.41,12L13.41,16L19.71,9.71L22,12V6H16Z" /></svg>',icon_twitter:'<svg viewBox="0 0 24 24"><path d="M22.46,6C21.69,6.35 20.86,6.58 20,6.69C20.88,6.16 21.56,5.32 21.88,4.31C21.05,4.81 20.13,5.16 19.16,5.36C18.37,4.5 17.26,4 16,4C13.65,4 11.73,5.92 11.73,8.29C11.73,8.63 11.77,8.96 11.84,9.27C8.28,9.09 5.11,7.38 3,4.79C2.63,5.42 2.42,6.16 2.42,6.94C2.42,8.43 3.17,9.75 4.33,10.5C3.62,10.5 2.96,10.3 2.38,10C2.38,10 2.38,10 2.38,10.03C2.38,12.11 3.86,13.85 5.82,14.24C5.46,14.34 5.08,14.39 4.69,14.39C4.42,14.39 4.15,14.36 3.89,14.31C4.43,16 6,17.26 7.89,17.29C6.43,18.45 4.58,19.13 2.56,19.13C2.22,19.13 1.88,19.11 1.54,19.07C3.44,20.29 5.7,21 8.12,21C16,21 20.33,14.46 20.33,8.79C20.33,8.6 20.33,8.42 20.32,8.23C21.16,7.63 21.88,6.87 22.46,6Z" /></svg>',icon_twitter_circle:'<svg viewBox="0 0 24 24"><path d="M 12 0 A 12 12 0 0 0 0 12 A 12 12 0 0 0 12 24 A 12 12 0 0 0 24 12 A 12 12 0 0 0 12 0 z M 15.076172 6.515625 C 15.919384 6.515625 16.662725 6.8502553 17.191406 7.4257812 C 17.840546 7.2919383 18.456269 7.0572643 19.011719 6.7226562 C 18.79757 7.3985643 18.342817 7.9597686 17.753906 8.3144531 C 18.329432 8.2408391 18.885095 8.0877416 19.400391 7.8535156 C 19.012246 8.4357341 18.530891 8.9441741 17.96875 9.3457031 C 17.97545 9.4728541 17.974609 9.5935521 17.974609 9.7207031 C 17.974609 13.515158 15.076156 17.892578 9.8027344 17.892578 C 8.1832311 17.892578 6.6719049 17.416049 5.4003906 16.599609 C 5.6279241 16.626379 5.8544978 16.640625 6.0820312 16.640625 C 7.4338477 16.640625 8.6733356 16.184494 9.6503906 15.408203 C 8.3855723 15.388127 7.334033 14.545037 6.9726562 13.414062 C 7.1466524 13.447523 7.3271242 13.46875 7.5078125 13.46875 C 7.7688068 13.46875 8.0227542 13.434107 8.2636719 13.367188 C 6.9520085 13.106192 5.9628906 11.94275 5.9628906 10.550781 L 5.9628906 10.53125 C 6.3510359 10.732015 6.7924347 10.865234 7.2675781 10.865234 C 6.4912875 10.363322 5.9882812 9.4795549 5.9882812 8.4824219 C 5.9882812 7.9604344 6.1293432 7.4645748 6.3769531 7.0429688 C 7.788999 8.7762382 9.9105587 9.9205554 12.292969 10.041016 C 12.246129 9.8335584 12.21875 9.6142508 12.21875 9.3867188 C 12.21875 7.8006763 13.503514 6.515625 15.076172 6.515625 z" /></svg>',icon_twitter_square:'<svg viewBox="0 0 24 24"><path d="M17.71,9.33C17.64,13.95 14.69,17.11 10.28,17.31C8.46,17.39 7.15,16.81 6,16.08C7.34,16.29 9,15.76 9.9,15C8.58,14.86 7.81,14.19 7.44,13.12C7.82,13.18 8.22,13.16 8.58,13.09C7.39,12.69 6.54,11.95 6.5,10.41C6.83,10.57 7.18,10.71 7.64,10.74C6.75,10.23 6.1,8.38 6.85,7.16C8.17,8.61 9.76,9.79 12.37,9.95C11.71,7.15 15.42,5.63 16.97,7.5C17.63,7.38 18.16,7.14 18.68,6.86C18.47,7.5 18.06,7.97 17.56,8.33C18.1,8.26 18.59,8.13 19,7.92C18.75,8.45 18.19,8.93 17.71,9.33M20,2H4A2,2 0 0,0 2,4V20A2,2 0 0,0 4,22H20A2,2 0 0,0 22,20V4C22,2.89 21.1,2 20,2Z" /></svg>',icon_undo:'<svg viewBox="0 0 24 24"><path d="M12.311,7.894a12.272,12.272,0,0,0-8.09,3.048L0,6.721V17.273H10.552L6.308,13.029a9.345,9.345,0,0,1,14.913,4.244L24,16.359A12.326,12.326,0,0,0,12.311,7.894Z"/></svg>',icon_up_down_arrows:'<svg viewBox="0 0 24 24"><path d="M9 3L5 6.99h3V14h2V6.99h3L9 3zm7 14.01V10h-2v7.01h-3L15 21l4-3.99h-3z"/><path d="M0 0h24v24H0z" fill="none"/></svg>',icon_upload:'<svg viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M9 16h6v-6h4l-7-7-7 7h4zm-4 2h14v2H5z"/></svg>',icon_variables:'<svg viewBox="0 0 24 24"><path d="M7.77,24a7.2,7.2,0,0,1-2.109-.931A5.2,5.2,0,0,1,4.3,21.75a4.807,4.807,0,0,1-.729-1.62,7.721,7.721,0,0,1-.215-1.845V15.8a3,3,0,0,0-.516-1.839,1.95,1.95,0,0,0-1.668-.687V10.731a2.535,2.535,0,0,0,.995-.178,1.689,1.689,0,0,0,.679-.509,2.1,2.1,0,0,0,.387-.8,4.2,4.2,0,0,0,.123-1.056V5.7A7.754,7.754,0,0,1,3.57,3.857,4.8,4.8,0,0,1,4.3,2.238,5.134,5.134,0,0,1,5.661.926,7.3,7.3,0,0,1,7.77,0l.687,1.974a2.636,2.636,0,0,0-.933.57,2.813,2.813,0,0,0-.588.848A3.855,3.855,0,0,0,6.63,4.464,8.626,8.626,0,0,0,6.543,5.7V8.192a4.694,4.694,0,0,1-.521,2.22,3.734,3.734,0,0,1-1.674,1.582,3.762,3.762,0,0,1,1.668,1.589A4.673,4.673,0,0,1,6.543,15.8v2.49a8.616,8.616,0,0,0,.087,1.239A3.881,3.881,0,0,0,6.936,20.6a2.9,2.9,0,0,0,.588.852,2.441,2.441,0,0,0,.933.565Z"/><path d="M15.545,22.014a2.44,2.44,0,0,0,.919-.564,2.933,2.933,0,0,0,.59-.852,4.149,4.149,0,0,0,.312-1.074,8.048,8.048,0,0,0,.091-1.239V15.8a5.325,5.325,0,0,1,.129-1.176,3.944,3.944,0,0,1,.405-1.055,3.654,3.654,0,0,1,.7-.883,4.085,4.085,0,0,1,1.013-.675,3.629,3.629,0,0,1-1.712-1.569,4.724,4.724,0,0,1-.534-2.244V5.7a8.067,8.067,0,0,0-.091-1.239,4.141,4.141,0,0,0-.312-1.073,2.853,2.853,0,0,0-.59-.846,2.584,2.584,0,0,0-.919-.57L16.232,0a7.342,7.342,0,0,1,2.109.925A5.136,5.136,0,0,1,19.7,2.238a4.857,4.857,0,0,1,.729,1.62A7.8,7.8,0,0,1,20.646,5.7v2.49a4.184,4.184,0,0,0,.123,1.054,2.117,2.117,0,0,0,.386.8,1.709,1.709,0,0,0,.681.508,2.51,2.51,0,0,0,.993.179v2.538a2.528,2.528,0,0,0-.993.178,1.721,1.721,0,0,0-.681.509,2.114,2.114,0,0,0-.386.8,4.124,4.124,0,0,0-.123,1.041v2.49a7.8,7.8,0,0,1-.214,1.846A4.861,4.861,0,0,1,19.7,21.75a5.2,5.2,0,0,1-1.362,1.318A7.21,7.21,0,0,1,16.232,24Z"/></svg>',icon_verify:'<svg viewBox="0 0 24 24"><path d="M12,0,2.18,4.36v6.55C2.18,17,6.37,22.63,12,24c5.63-1.37,9.82-7,9.82-13.09V4.36ZM9.82,17.45,5.45,13.09,7,11.55l2.83,2.82L17,7.18l1.54,1.55Z"/></svg>',icon_write:'<svg viewBox="0 0 24 24"><path d="M15.6,21.6H2.4V2.4H15.6v6L18,6V2.4A2.41,2.41,0,0,0,15.6,0H2.4A2.41,2.41,0,0,0,0,2.4V21.6A2.41,2.41,0,0,0,2.4,24H15.6A2.41,2.41,0,0,0,18,21.6V18l-2.4,2.4Z"/><path d="M9.6,17.4v3h3l8.85-8.85-3-3ZM23.77,9.23a.79.79,0,0,0,0-1.12L21.89,6.23a.79.79,0,0,0-1.12,0L19.3,7.7l3,3Z"/><rect x="4.8" y="4.8" width="8.4" height="2.4" rx="1"/><rect x="4.8" y="9.6" width="8.4" height="2.4" rx="1"/></svg>',icon_z_to_a:'<svg viewBox="0 0 24 24"><path style="stroke-width:1.29999995" d="M 0,5.5 V 8.0999999 H 5.2000001 L 0,15.9 v 2.6 H 7.8000001 V 15.9 H 2.6 L 7.8000001,8.0999999 V 5.5 Z" /><path style="stroke-width:1.29999995" d="M 18.8,5.5 A 2.5999999,2.5999999 0 0 0 16.2,8.0999999 V 18.5 h 2.6 v -5.2 h 2.6 v 5.2 H 24 V 8.0999999 A 2.5999999,2.5999999 0 0 0 21.4,5.5 h -2.6 m 0,2.5999999 h 2.6 V 10.7 h -2.6 z" /><path style="stroke-width:1.07692313" d="m 10.25,8.5 3.5,3.5 -3.5,3.5 v -7" /></svg>'}},20757:(oe,L,t)=>{t.d(L,{p:()=>a});var e=t(469),i=t(3184),p=t(36362),l=t(32478),y=t(77500);function d(c,r){if(1&c&&i._UZ(0,"icon",2),2&c){const o=i.oxw();i.Udp("color",o.themeColor?o.themeColor:null),i.Q6J("key",o.iconKey)("color",o.iconColor)("size",o.size)}}function g(c,r){if(1&c&&i._UZ(0,"cb-image",3),2&c){const o=i.oxw();i.Q6J("publicId",o.imageId)("width",o.imgWidth)("height",o.imgHeight)}}const f={default:20,medium:8,large:16,xlarge:20,xxlarge:32,xxxlarge:48};let a=(()=>{class c{constructor(o,_){this.elementRef=o,this.themeService=_,this.color="accent",this.size="default"}ngOnInit(){this.setupClasses()}ngOnChanges(o){this.setup(),o.color&&this.handleClassChange(o.color),o.size&&this.handleClassChange(o.size)}setupClasses(){this.elementRef.nativeElement.classList.add(this.color),this.elementRef.nativeElement.classList.add(this.size)}handleClassChange(o){o.previousValue&&this.elementRef.nativeElement.classList.remove(o.previousValue),o.currentValue&&this.elementRef.nativeElement.classList.add(o.currentValue)}setup(){let o=this.themeService.getThemeData(this.themeId);this.iconKey=o.icon,this.imageId=o.image_id,"theme"===this.color?(this.themeColor=this.themeId&&this.themeService.getColor(this.themeId),this.iconColor="inherit"):(this.themeColor=void 0,this.iconColor=this.color),this.setIconDimensions()}setIconDimensions(){this.imgWidth=this.imgHeight=f[this.size]}}return c.\u0275fac=function(o){return new(o||c)(i.Y36(i.SBq),i.Y36(e.f))},c.\u0275cmp=i.Xpm({type:c,selectors:[["theme-icon"]],inputs:{themeId:"themeId",color:"color",size:"size"},features:[i.TTD],decls:2,vars:2,consts:[[3,"key","color","size",4,"ngIf"],[3,"publicId","width","height",4,"ngIf"],[3,"key","color","size"],[3,"publicId","width","height"]],template:function(o,_){1&o&&(i.YNc(0,d,1,5,"icon",0),i.YNc(1,g,1,3,"cb-image",1)),2&o&&(i.Q6J("ngIf",_.iconKey),i.xp6(1),i.Q6J("ngIf",!_.iconKey))},directives:[p.O5,l.o,y.q],styles:["theme-icon{display:inline-block;line-height:0}theme-icon.small img{height:4px;width:4px;min-width:4px;min-height:4px;line-height:4px}theme-icon.medium img{height:8px;width:8px;min-width:8px;min-height:8px;line-height:8px}theme-icon.large img{height:16px;width:16px;min-width:16px;min-height:16px;line-height:16px}theme-icon.xlarge img{height:20px;width:20px;min-width:20px;min-height:20px;line-height:20px}theme-icon.xxlarge img{height:32px;width:32px;min-width:32px;min-height:32px;line-height:32px}theme-icon.xxxlarge img{height:48px;width:48px;min-width:48px;min-height:48px;line-height:48px}theme-icon.text img{height:1em;width:1em;min-width:1em;min-height:1em;line-height:1em}theme-icon.default img{height:20px;width:20px;min-width:20px;min-height:20px;line-height:20px}@media print{theme-icon{display:none}}.mat-raised-button label-with-icon theme-icon.default,.mat-stroked-button label-with-icon theme-icon.default,.mat-button label-with-icon theme-icon.default{height:16px;width:16px;min-width:16px;min-height:16px;line-height:16px}\n"],encapsulation:2,changeDetection:0}),c})()},15699:(oe,L,t)=>{t.d(L,{l:()=>e});const e=25},61391:(oe,L,t)=>{t.d(L,{p:()=>y});var e=t(15699),i=t(3184),p=t(29637),l=t(20262);let y=(()=>{class d{constructor(){this.showHoverPreview=!1,this.size=e.l,this.linkColor="primary"}}return d.\u0275fac=function(f){return new(f||d)},d.\u0275cmp=i.Xpm({type:d,selectors:[["identifier-image-link"]],inputs:{identifier:"identifier",showHoverPreview:"showHoverPreview",size:"size",linkColor:"linkColor"},decls:5,vars:6,consts:[[3,"identifier","showHoverPreview","color"],[1,"layout-row","layout-align-start-center"],[3,"identifier","size"],[1,"flex-no-grow","cb-overflow-ellipsis","cb-margin-medium-left"]],template:function(f,a){1&f&&(i.TgZ(0,"identifier-link",0)(1,"div",1),i._UZ(2,"identifier-image",2),i.TgZ(3,"div",3),i._uU(4),i.qZA()()()),2&f&&(i.Q6J("identifier",a.identifier)("showHoverPreview",a.showHoverPreview)("color",a.linkColor),i.xp6(2),i.Q6J("identifier",a.identifier)("size",a.size),i.xp6(2),i.hij(" ",a.identifier.value," "))},directives:[p.N,l.J],styles:["identifier-link[_ngcontent-%COMP%]{display:flex}"],changeDetection:0}),d})()},20262:(oe,L,t)=>{t.d(L,{J:()=>r});var e=t(97010),i=t(25848),p=t(15699),l=t(3184),y=t(40361),d=t(36362),g=t(74929);const f=function(o){return{entity_name:o}},a=function(o,_){return{width:o,height:_}},c=function(o){return{"provide-styling":o}};let r=(()=>{class o{constructor(n,m){this.imageService=n,this.syntheticMetadataService=m,this.size=p.l,this.provideStyling=!0,this.imgAltLabelKey="CBL.COMMON.IMAGE_ALT_LOGO"}ngOnChanges(){const{image_id:n,entity_def_id:m}=this.identifier;if(this.styleSize=this.styleSize||`${this.size}px`,!n)return void(this.imgSrc="");const v={width:`${this.size}`,height:`${this.size}`,transparent:!1};this.syntheticMetadataService.getHumanEntityDefIds().includes(m)&&(v.crop="thumb",v.gravity="faces",this.imgAltLabelKey="CBL.COMMON.IMAGE_ALT"),this.imgSrc=this.imageService.getPublicImageUrl(n,v)}}return o.\u0275fac=function(n){return new(n||o)(l.Y36(e.AJ),l.Y36(i.Y))},o.\u0275cmp=l.Xpm({type:o,selectors:[["identifier-image"]],inputs:{identifier:"identifier",size:"size",styleSize:"styleSize",provideStyling:"provideStyling"},features:[l.TTD],decls:2,vars:15,consts:[["lazyLoadImage","",3,"placeholderType","imgSrc","imgAlt","ngStyle","ngClass"]],template:function(n,m){1&n&&(l._UZ(0,"div",0),l.ALo(1,"translate")),2&n&&l.Q6J("placeholderType",m.identifier.entity_def_id||"")("imgSrc",m.imgSrc)("imgAlt",l.xi3(1,5,m.imgAltLabelKey,l.VKq(8,f,m.identifier.value)))("ngStyle",l.WLB(10,a,m.styleSize,m.styleSize))("ngClass",l.VKq(13,c,m.provideStyling))},directives:[y.z,d.PC,d.mk],pipes:[g.X],styles:[".provide-styling[_ngcontent-%COMP%]{overflow:hidden;border-radius:4px;box-shadow:0 2px 1px -1px #0003,0 1px 1px #00000024,0 1px 3px #0000001f}"],changeDetection:0}),o})()},29637:(oe,L,t)=>{t.d(L,{N:()=>n});var e=t(13074),i=t(4151),p=t(75215),l=t(3184),y=t(36362),d=t(46036),g=t(47367),f=t(45857),a=t(96017);function c(m,v){1&m&&l.GkF(0)}function r(m,v){if(1&m&&(l.TgZ(0,"a",2),l.YNc(1,c,1,0,"ng-container",3),l.qZA()),2&m){const h=l.oxw(),C=l.MAs(2);l.Q6J("cb-link",h.color)("hoverPreview",h.enableHoverPreview)("hoverPayload",h.hoverPayload)("hoverComponent",h.overlayComponent)("hoverOffsetX",30)("routerLink",h.route.path),l.xp6(1),l.Q6J("ngTemplateOutlet",C)}}function o(m,v){1&m&&l.Hsn(0)}const _=["*"];let n=(()=>{class m{constructor(h,C,S){this.overlayComponent=h,this.metadataService=C,this.urlService=S,this.showHoverPreview=!1}ngOnChanges(){this.route=this.urlService.getIdentifierRoute(this.identifier),this.enableHoverPreview=this.showHoverPreview&&this.metadataService.hasPreviewLayouts(this.identifier.entity_def_id),this.hoverPayload={identifier:this.identifier}}}return m.\u0275fac=function(h){return new(h||m)(l.Y36(i.$b),l.Y36(p.Do),l.Y36(e.iO))},m.\u0275cmp=l.Xpm({type:m,selectors:[["identifier-link"]],inputs:{color:"color",identifier:"identifier",showHoverPreview:"showHoverPreview"},features:[l.TTD],ngContentSelectors:_,decls:3,vars:2,consts:[["role","link",3,"cb-link","hoverPreview","hoverPayload","hoverComponent","hoverOffsetX","routerLink",4,"ngIf","ngIfElse"],["content",""],["role","link",3,"cb-link","hoverPreview","hoverPayload","hoverComponent","hoverOffsetX","routerLink"],[4,"ngTemplateOutlet"]],template:function(h,C){if(1&h&&(l.F$t(),l.YNc(0,r,2,7,"a",0),l.YNc(1,o,1,0,"ng-template",null,1,l.W1O)),2&h){const S=l.MAs(2);l.Q6J("ngIf",C.route)("ngIfElse",S)}},directives:[y.O5,d.n,g.I,f.yS,a.a,y.tP],styles:["a[_ngcontent-%COMP%]{min-width:0}"],changeDetection:0}),m})()},51044:(oe,L,t)=>{t.d(L,{X:()=>a});var e=t(36362),i=t(45857),p=t(90898),l=t(35503),y=t(68881),d=t(40577),g=t(19366),f=t(3184);let a=(()=>{class c{}return c.\u0275fac=function(o){return new(o||c)},c.\u0275mod=f.oAB({type:c}),c.\u0275inj=f.cJS({imports:[[e.ez,l.Dt,p.q,i.Bz,y.N,d.C,g.L]]}),c})()},4105:(oe,L,t)=>{t.d(L,{E:()=>f});var e=t(3184),i=t(36362),p=t(40361);function l(a,c){if(1&a&&(e.TgZ(0,"h3"),e._uU(1),e.qZA()),2&a){const r=e.oxw();e.xp6(1),e.hij(" ",r.title," ")}}const y=[[["","text-content",""]]],d=function(a){return{compact:a}},g=["[text-content]"];let f=(()=>{class a{constructor(){this.compactMode=!1}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275cmp=e.Xpm({type:a,selectors:[["image-with-text-card"]],inputs:{title:"title",imagePlaceholderType:"imagePlaceholderType",imageSrc:"imageSrc",imageAlt:"imageAlt",compactMode:"compactMode"},ngContentSelectors:g,decls:7,vars:8,consts:[[1,"component--image-with-text-card",3,"ngClass"],[4,"ngIf"],[1,"text-card-container"],[1,"text-card-image-container"],["lazyLoadImage","",1,"text-card-image",3,"useIdentifierImgStyle","placeholderType","imgSrc","imgAlt"],[1,"text-content"]],template:function(r,o){1&r&&(e.F$t(y),e.TgZ(0,"div",0),e.YNc(1,l,2,1,"h3",1),e.TgZ(2,"div",2)(3,"div",3),e._UZ(4,"div",4),e.qZA(),e.TgZ(5,"div",5),e.Hsn(6),e.qZA()()()),2&r&&(e.Q6J("ngClass",e.VKq(6,d,o.compactMode)),e.xp6(1),e.Q6J("ngIf",o.title),e.xp6(3),e.Q6J("useIdentifierImgStyle",!0)("placeholderType",o.imagePlaceholderType)("imgSrc",o.imageSrc)("imgAlt",o.imageAlt))},directives:[i.mk,i.O5,p.z],styles:[".component--image-with-text-card .text-card-container{box-sizing:border-box;display:flex!important;flex-direction:column}.component--image-with-text-card .text-card-container .text-card-image-container{box-sizing:border-box;display:flex!important;flex-direction:column;justify-content:flex-start;align-items:center;align-content:center;max-width:100%}.component--image-with-text-card .text-card-container .text-card-image-container>*{max-width:100%;box-sizing:border-box}.component--image-with-text-card h3{font-weight:500;margin-top:20px;margin-bottom:20px}.component--image-with-text-card .text-card-image{flex:0 0 auto;box-sizing:border-box;margin-bottom:16px;width:120px;height:120px}.component--image-with-text-card .text-content{flex:1;display:flex!important;flex-direction:column;justify-content:center;box-sizing:border-box;align-items:center;align-content:center;max-width:100%}.component--image-with-text-card .text-content>*{max-width:100%;box-sizing:border-box}.component--image-with-text-card .text-content>*{margin-bottom:8px;max-width:100%}.component--image-with-text-card .text-content>:first-child{font-size:20px;font-weight:500;text-align:center}.component--image-with-text-card .text-content>:first-child identifier-formatter .identifier-image{display:none}.component--image-with-text-card .text-content>:first-child identifier-formatter .identifier-label{color:#282828}.component--image-with-text-card .text-content>:last-child{margin-bottom:0}.component--image-with-text-card.compact .text-card-container{box-sizing:border-box;display:flex!important;flex-direction:column}.component--image-with-text-card.compact .text-card-container .text-card-image-container{box-sizing:border-box;display:flex!important;flex-direction:column;justify-content:flex-start;align-items:center;align-content:center;max-width:100%}.component--image-with-text-card.compact .text-card-container .text-card-image-container>*{max-width:100%;box-sizing:border-box}.component--image-with-text-card.compact h3{font-weight:500;margin-top:20px;margin-bottom:20px}.component--image-with-text-card.compact .text-card-image{flex:0 0 auto;box-sizing:border-box;margin-bottom:16px;width:80px;height:80px}.component--image-with-text-card.compact .text-content{flex:1;display:flex!important;flex-direction:column;justify-content:center;box-sizing:border-box;align-items:center;align-content:center;max-width:100%}.component--image-with-text-card.compact .text-content>*{max-width:100%;box-sizing:border-box}.component--image-with-text-card.compact .text-content>*{margin-bottom:4px;max-width:100%}.component--image-with-text-card.compact .text-content>:first-child{font-size:14px;font-weight:500;text-align:center}.component--image-with-text-card.compact .text-content>:first-child identifier-formatter .identifier-image{display:none}.component--image-with-text-card.compact .text-content>:first-child identifier-formatter .identifier-label{color:#282828}.component--image-with-text-card.compact .text-content>:last-child{margin-bottom:0}@media (min-width: 960px){.component--image-with-text-card .text-content>:first-child,.component--image-with-text-card.compact .text-content>:first-child{text-align:left}.component--image-with-text-card .text-card-container,.component--image-with-text-card.compact .text-card-container{box-sizing:border-box;display:flex!important;flex-direction:row}.text-content{justify-content:center;max-width:100%;box-sizing:border-box;align-items:flex-start;align-content:flex-start}.text-card-image{margin-right:16px;margin-bottom:0}}\n"],encapsulation:2}),a})()},4407:(oe,L,t)=>{t.d(L,{d:()=>l});var e=t(36362),i=t(68881),p=t(3184);let l=(()=>{class y{}return y.\u0275fac=function(g){return new(g||y)},y.\u0275mod=p.oAB({type:y}),y.\u0275inj=p.cJS({imports:[[e.ez,i.N]]}),y})()},77500:(oe,L,t)=>{t.d(L,{q:()=>g});var e=t(97010),i=t(83910),p=t(3184),l=t(34657),y=t(36362);function d(f,a){if(1&f&&p._UZ(0,"img",1),2&f){const c=p.oxw();p.Q6J("src",c.imageSrc,p.LSH)("srcset",c.imageSrcSet,p.LSH),p.uIk("alt",c.alt)}}let g=(()=>{class f{constructor(c,r,o,_){this.changeDetectorRef=c,this.elementRef=r,this.imageService=o,this.viewportService=_,this.eager=!1,this.imageSrcSet=null}ngOnChanges(){this.eager?this.setImageAttributes():this.viewportService.notifyInViewport(this.elementRef.nativeElement).pipe((0,i.q)(1)).subscribe(()=>{this.setImageAttributes(),this.changeDetectorRef.markForCheck()})}setImageAttributes(){const c=this.resource||this.publicId;if(this.original)return void(this.imageSrc=this.imageService.getOriginalPublicImageUrl(c));if(this.transformationName)return this.imageSrc=this.imageService.getPublicImageNamedSrc(c,this.transformationName),void(this.imageSrcSet=this.imageService.getPublicImageNamedSrcSet(c,this.transformationName));let r={crop:this.crop?this.crop:void 0,x:this.x?this.x:void 0,y:this.y?this.y:void 0,format:this.format?this.format:void 0,radius:this.radius?this.radius:void 0,width:this.width?`${this.width}`:void 0,height:this.height?`${this.height}`:void 0};this.imageSrc=this.imageService.getPublicImageUrl(c,r),this.imageSrcSet=this.imageService.getPublicImageSrcSet(c,r)}}return f.\u0275fac=function(c){return new(c||f)(p.Y36(p.sBO),p.Y36(p.SBq),p.Y36(e.AJ),p.Y36(l.v))},f.\u0275cmp=p.Xpm({type:f,selectors:[["cb-image"]],inputs:{resource:"resource",publicId:"publicId",alt:"alt",crop:"crop",x:"x",y:"y",format:"format",width:"width",height:"height",radius:"radius",transformationName:"transformationName",original:"original",eager:"eager"},features:[p.TTD],decls:1,vars:1,consts:[["class","component--cb-image",3,"src","srcset",4,"ngIf"],[1,"component--cb-image",3,"src","srcset"]],template:function(c,r){1&c&&p.YNc(0,d,1,3,"img",0),2&c&&p.Q6J("ngIf",r.imageSrc)},directives:[y.O5],styles:[".component--cb-image{line-height:0}\n"],encapsulation:2,changeDetection:0}),f})()},31156:(oe,L,t)=>{t.d(L,{H:()=>p});var e=t(36362),i=t(3184);let p=(()=>{class l{}return l.\u0275fac=function(d){return new(d||l)},l.\u0275mod=i.oAB({type:l}),l.\u0275inj=i.cJS({imports:[[e.ez]]}),l})()},13186:(oe,L,t)=>{t.d(L,{w:()=>c});var e=t(3184),i=t(90587),p=t(92218),l=t(85921),y=t(36362),d=t(74160);function g(r,o){if(1&r&&(e.TgZ(0,"label-with-icon",7),e._uU(1),e.qZA()),2&r){const _=e.oxw().$implicit;e.Q6J("themeId",_.theme),e.xp6(1),e.hij(" ",_.name," ")}}function f(r,o){if(1&r&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&r){const _=e.oxw().$implicit;e.xp6(1),e.hij(" ",_.name," ")}}function a(r,o){if(1&r&&(e.ynx(0),e._UZ(1,"input",3),e.TgZ(2,"label",4),e.YNc(3,g,2,2,"label-with-icon",5),e.YNc(4,f,2,1,"div",6),e.qZA(),e.BQk()),2&r){const _=o.$implicit;e.xp6(1),e.s9C("id",_.name+"Choice"),e.Q6J("value",_.name),e.xp6(1),e.s9C("for",_.name+"Choice"),e.xp6(1),e.Q6J("ngIf",_.theme),e.xp6(1),e.Q6J("ngIf",!_.theme)}}let c=(()=>{class r{constructor(){this.onDestroy$=new p.xQ,this.onChange=()=>({}),this.onTouched=()=>({}),this.form=new i.cw({option:new i.NI}),this.form.valueChanges.pipe((0,l.R)(this.onDestroy$)).subscribe(_=>{this.onChange(_.option),this.onTouched()})}get value(){return this.form.value.option}get option(){return this.form.controls.option}ngOnDestroy(){this.onDestroy$.next()}writeValue(){}registerOnChange(_){this.onChange=_}registerOnTouched(_){this.onTouched=_}validate(){return this.form.valid?null:{}}}return r.\u0275fac=function(_){return new(_||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["button-select-input"]],inputs:{options:"options"},features:[e._Bn([{provide:i.JU,useExisting:(0,e.Gpc)(()=>r),multi:!0},{provide:i.Cf,useExisting:(0,e.Gpc)(()=>r),multi:!0}])],decls:3,vars:2,consts:[["role","group",3,"formGroup"],[1,"input-container"],[4,"ngFor","ngForOf"],["formControlName","option","type","radio","name","option",3,"id","value"],[3,"for"],["iconColor","theme",3,"themeId",4,"ngIf"],[4,"ngIf"],["iconColor","theme",3,"themeId"]],template:function(_,n){1&_&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,a,5,5,"ng-container",2),e.qZA()()),2&_&&(e.Q6J("formGroup",n.form),e.xp6(2),e.Q6J("ngForOf",n.options))},directives:[i.JL,i.sg,y.sg,i.Fj,i._,i.JJ,i.u,y.O5,d.d],styles:["#select-title[_ngcontent-%COMP%]{font-weight:500}.input-container[_ngcontent-%COMP%]{display:flex;margin-top:8px}.input-container[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]{opacity:0;position:fixed;width:0}.input-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{box-shadow:0 2px 1px -1px #0003,0 1px 1px #00000024,0 1px 3px #0000001f;font-weight:500;text-transform:capitalize;line-height:100%;cursor:pointer;width:100%;text-align:center;border-radius:4px;padding:4px;margin-right:8px}.input-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding:4px 0}.input-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:last-child{margin-right:0}.input-container[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]{background-color:#e3edff}.remember-settings-container[_ngcontent-%COMP%]{margin-top:16px}mat-checkbox[_ngcontent-%COMP%]{display:block}"],changeDetection:0}),r})()},31970:(oe,L,t)=>{t.d(L,{C:()=>pe});var e=t(3184),i=t(90587),p=t(56589),l=t(38816),y=t(75215),d=t(46179),g=t(84505),f=t(92218),a=t(64139),c=t(53298),r=t(61745),o=t(86942),_=t(88759),n=t(66426),m=t(47418),v=t(80823),h=t(59151),C=t(85921);let I=(()=>{class be{constructor(){this.selectionChange=new f.xQ,this.selectedEntities=new Map,this.groupedEntitiesList=[],this.allSelected=!1,this.indeterminate=!1}getGroupedEntitiesList(){return this.groupedEntitiesList}getSelectedGroup(){return this.selectedGroup}getIsAllSelected(){return this.allSelected}getIsIndeterminate(){return this.indeterminate}hasCheckedValues(de){return this.getEntities(de).some(Ae=>this.getIsEntityChecked(Ae))}getIsEntityChecked(de){return this.selectedEntities.has(de.uuid)}getSelectedEntities(){return Array.from(this.selectedEntities.values())}setGroupedEntitiesList(de){this.groupedEntitiesList=(be=>{const Ce=new Map;for(const Ae of be){if(!Ae.identifier.value||!Ae.parentIdentifier.value)continue;const ct=Ae.parentIdentifier.uuid,gt=Ce.get(ct);gt?gt.items.push(Ae.identifier):Ce.set(ct,{group:Ae.parentIdentifier,items:[Ae.identifier]})}const de=Array.from(Ce.values());for(const Ae of de)Ae.items.sort((ct,gt)=>(ct.value||"").localeCompare(gt.value||""));return de.sort((Ae,ct)=>(Ae.group.value||"").localeCompare(ct.group.value||"")),de.map(Ae=>Object.assign(Object.assign({},Ae),{items:["selectDeselectAll",...Ae.items]}))})(de),this.selectedGroup=this.selectedGroup&&this.groupedEntitiesList.find(Ae=>{var ct;return Ae.group.uuid===(null===(ct=this.selectedGroup)||void 0===ct?void 0:ct.group.uuid)}),this.updateState()}setSelectedEntities(de,Ae){const ct=new Set(de),gt=Ae.filter(Ht=>ct.has(Ht.identifier.uuid));this.selectedEntities=new Map(gt.map(Ht=>[Ht.identifier.uuid,Ht.identifier]))}setSelectedGroup(de){this.selectedGroup="string"==typeof de?(this.groupedEntitiesList||[]).find(Ae=>Ae.group.uuid===de):de===this.selectedGroup?void 0:de,this.updateState()}selectDeselectAll(){const de=this.getEntities(this.selectedGroup);if(this.allSelected||this.indeterminate)for(const Ae of de)this.selectedEntities.delete(Ae.uuid);else for(const Ae of de)this.selectedEntities.set(Ae.uuid,Ae);this.updateState(),this.emitSelectionChange()}toggleCheckedEntity(de){this.selectedEntities.get(de.uuid)?this.selectedEntities.delete(de.uuid):this.selectedEntities.set(de.uuid,de),this.updateState(),this.emitSelectionChange()}isAllSelected(){return!!this.getEntities(this.selectedGroup).every(de=>this.selectedEntities.has(de.uuid))}isIndeterminate(){return!(this.isAllSelected()||!this.getEntities(this.selectedGroup).some(de=>this.selectedEntities.has(de.uuid)))}getEntities(de){return de?de.items.filter(Ae=>"selectDeselectAll"!==Ae):[]}emitSelectionChange(){this.selectionChange.next(this.getSelectedEntities())}updateState(){this.allSelected=this.isAllSelected(),this.indeterminate=this.isIndeterminate()}}return be.\u0275fac=function(de){return new(de||be)},be.\u0275prov=e.Yz7({token:be,factory:be.\u0275fac}),be})();var T=t(44770),N=t(54166),x=t(36362),s=t(74742),E=t(32478),H=t(43365),V=t(37075),b=t(90164);class B{constructor(Ce){this.entitiesSelectionService=Ce}getSelectedGroup(){return this.entitiesSelectionService.getSelectedGroup()}getToggleAllCheckedState(){return this.entitiesSelectionService.getIsIndeterminate()?"indeterminate":this.entitiesSelectionService.getIsAllSelected()?"checked":"unchecked"}getEntityCheckedState(Ce){return this.entitiesSelectionService.getIsEntityChecked(Ce)?"checked":"unchecked"}getEntityAriaSelected(Ce){return this.entitiesSelectionService.getIsEntityChecked(Ce)?"true":"false"}getSelectDeselectAllItem(Ce){return Ce[0]}getEntities(Ce){const[,...de]=Ce;return de}getEntitiesLength(Ce){return Ce.items.length-1}isEntityChecked(Ce){return this.entitiesSelectionService.getIsEntityChecked(Ce)}hasCheckedValues(Ce){return this.entitiesSelectionService.hasCheckedValues(Ce)}selectGroup(Ce){this.entitiesSelectionService.setSelectedGroup(Ce)}selectGroupItem(Ce){"selectDeselectAll"===Ce?this.entitiesSelectionService.selectDeselectAll():this.entitiesSelectionService.toggleCheckedEntity(Ce)}getToggleLabelKey(){return this.entitiesSelectionService.getIsAllSelected()||this.entitiesSelectionService.getIsIndeterminate()?"CBL.ENTITY_GROUPED_BY_PARENT.ENTITY_COLUMN_PICKER.DESELECT_ALL":"CBL.ENTITY_GROUPED_BY_PARENT.ENTITY_COLUMN_PICKER.SELECT_ALL"}}var $=t(75939);class W{constructor(Ce){this.items=Ce,this.activeItemIndex=-1,this.enterSubject=new f.xQ,this.changeSubject=new f.xQ,this.enter$=this.enterSubject.asObservable(),this.change$=this.changeSubject.asObservable()}onKeydown(Ce){switch(Ce.keyCode){case $.LH:Ce.preventDefault(),this.setActiveItemByIndex(this.getNextIndexByDelta(-1));break;case $.JH:Ce.preventDefault(),this.setActiveItemByIndex(this.getNextIndexByDelta(1));break;case $.K5:Ce.preventDefault(),this.enterSubject.next(this.activeItemIndex)}}setActiveItem(Ce){this.activeItemIndex=Ce?this.items.indexOf(Ce):-1,this.activeItem=Ce,this.activeItemIndex<0&&(this.activeItem=void 0),this.changeSubject.next(this.activeItemIndex)}updateItems(Ce){this.items=Ce,this.activeItem&&this.items.indexOf(this.activeItem)>-1?this.setActiveItem(this.activeItem):this.setActiveItemByIndex(this.activeItemIndex)}setActiveItemByIndex(Ce){this.activeItem=this.items[Ce],this.activeItemIndex=this.activeItem?Ce:-1,this.changeSubject.next(this.activeItemIndex)}getNextIndexByDelta(Ce){const de=this.activeItemIndex+Ce;return de>=this.items.length?0:de<0?this.items.length-1:de}}class q{constructor(Ce,de){this.entitiesSelectionService=de,this.activeItem={item:void 0,index:-1,type:"group"},this.changeSubject=new f.xQ,this.groupsKeyManager=new W(Ce),this.groupItemsKeyManager=new W([]),this.change$=this.changeSubject.asObservable();const Ae=de.getSelectedGroup();Ae&&this.setGroupActive(Ae)}onKeydown(Ce){switch(Ce.keyCode){case $.oh:Ce.preventDefault(),this.goLeft();break;case $.SV:Ce.preventDefault(),this.goRight();break;case $.LH:case $.JH:this.goUpOrDown(Ce);break;case $.K5:Ce.preventDefault(),this.onEnter()}}setGroupActive(Ce){this.groupsKeyManager.setActiveItem(Ce),this.activeItem={item:this.groupsKeyManager.activeItem,index:this.groupsKeyManager.activeItemIndex,type:"group"},this.updateGroupItems(Ce),this.changeSubject.next(this.activeItem)}setGroupItemActive(Ce){this.groupItemsKeyManager.setActiveItem(Ce),this.activeItem={item:this.groupItemsKeyManager.activeItem,index:this.groupItemsKeyManager.activeItemIndex,type:"groupItem"},this.changeSubject.next(this.activeItem)}updateGroupItems(Ce){this.groupItemsKeyManager.updateItems(Ce.items)}goLeft(){if("groupItem"===this.activeItem.type){const Ce=this.entitiesSelectionService.getSelectedGroup();Ce&&(this.entitiesSelectionService.setSelectedGroup(Ce),this.setGroupActive(Ce))}}goRight(){if("group"===this.activeItem.type){const Ce=this.activeItem.item;Ce&&(this.isActiveGroupOpen()||this.entitiesSelectionService.setSelectedGroup(Ce),this.setGroupItemActive(Ce.items[0]))}}goUpOrDown(Ce){switch(this.activeItem.type){case"group":this.groupsKeyManager.onKeydown(Ce),this.isActiveGroupOpen()&&this.entitiesSelectionService.setSelectedGroup(void 0),this.groupsKeyManager.activeItem&&this.setGroupActive(this.groupsKeyManager.activeItem);break;case"groupItem":this.groupItemsKeyManager.onKeydown(Ce),this.groupItemsKeyManager.activeItem&&this.setGroupItemActive(this.groupItemsKeyManager.activeItem)}}onEnter(){switch(this.activeItem.type){case"group":this.activeItem.item&&this.entitiesSelectionService.setSelectedGroup(this.activeItem.item);break;case"groupItem":"selectDeselectAll"===this.activeItem.item?this.entitiesSelectionService.selectDeselectAll():this.activeItem.item&&this.entitiesSelectionService.toggleCheckedEntity(this.activeItem.item)}}isActiveGroupOpen(){const Ce=this.entitiesSelectionService.getSelectedGroup();return!(!Ce||Ce!==this.activeItem.item)}}var le=t(26131),J=t(32112);let u=(()=>{class be{}return be.\u0275fac=function(de){return new(de||be)},be.\u0275cmp=e.Xpm({type:be,selectors:[["entity-picker-group-label"]],inputs:{label:"label",numItems:"numItems",hasSelected:"hasSelected"},decls:3,vars:4,consts:[[1,"label"],[1,"dot"]],template:function(de,Ae){1&de&&(e.TgZ(0,"span",0),e._uU(1),e.qZA(),e._UZ(2,"span",1)),2&de&&(e.xp6(1),e.AsE("",Ae.label," (",Ae.numItems,")"),e.xp6(1),e.ekj("has-checked-values",Ae.hasSelected))},styles:["[_nghost-%COMP%]{display:flex;align-items:center}.label[_ngcontent-%COMP%]{flex:initial}.dot[_ngcontent-%COMP%]{height:6px;width:6px;border-radius:50%;background:#16a660;margin-left:4px;visibility:hidden;flex:none}.dot.has-checked-values[_ngcontent-%COMP%]{visibility:visible}"],changeDetection:0}),be})();var D=t(19975),se=t(1130);const ne=["*"];let _e=(()=>{class be{}return be.\u0275fac=function(de){return new(de||be)},be.\u0275cmp=e.Xpm({type:be,selectors:[["entity-picker-label-with-checkbox"]],inputs:{state:"state"},ngContentSelectors:ne,decls:2,vars:1,consts:[[3,"state"]],template:function(de,Ae){1&de&&(e.F$t(),e._UZ(0,"mat-pseudo-checkbox",0),e.Hsn(1)),2&de&&e.Q6J("state",Ae.state)},directives:[se.nP],styles:["[_nghost-%COMP%]{font-size:14px;line-height:20px;color:#282828;letter-spacing:.2px;font-weight:400;font-family:Roboto,Arial,sans-serif;display:flex;align-items:center}mat-pseudo-checkbox[_ngcontent-%COMP%]{margin-right:8px}mat-pseudo-checkbox[_ngcontent-%COMP%]:not(.mat-pseudo-checkbox-checked):not(.mat-pseudo-checkbox-indeterminate){background-color:#fff}"],changeDetection:0}),be})();var ee=t(74929);function w(be,Ce){if(1&be){const de=e.EpF();e.TgZ(0,"button",3),e.NdJ("click",function(){const gt=e.CHM(de).$implicit;return e.oxw().selectGroup(gt)}),e.TgZ(1,"span",4),e._UZ(2,"entity-picker-group-label",5)(3,"icon",6),e.qZA()()}if(2&be){const de=Ce.$implicit,Ae=Ce.index,ct=e.oxw();e.ekj("active-group",de===ct.getActiveItem()||de===ct.getSelectedGroup()),e.Q6J("id",ct.getItemId(de))("scrollToElementInContainer",de===ct.getActiveItem()),e.uIk("aria-setsize",ct.groupedEntities.length)("aria-posinset",Ae+1)("aria-expanded",de===ct.getSelectedGroup())("aria-owns",ct.getGroupId(de)),e.xp6(2),e.Q6J("label",de.group.value)("numItems",ct.getEntitiesLength(de))("hasSelected",ct.hasCheckedValues(de))}}function G(be,Ce){1&be&&e._UZ(0,"mat-divider",7),2&be&&e.Q6J("vertical",!0)}function k(be,Ce){if(1&be){const de=e.EpF();e.TgZ(0,"button",11),e.NdJ("click",function(){const gt=e.CHM(de).ngIf;return e.oxw(2).selectGroupItem(gt)}),e.TgZ(1,"entity-picker-label-with-checkbox",12),e._uU(2),e.ALo(3,"translate"),e.qZA()()}if(2&be){const de=Ce.ngIf,Ae=e.oxw().ngIf,ct=e.oxw();e.ekj("active-entity",de===ct.getActiveItem()),e.Q6J("id",ct.getItemId(de))("scrollToElementInContainer",de===ct.getActiveItem()),e.uIk("aria-setsize",Ae.items.length),e.xp6(1),e.Q6J("state",ct.getToggleAllCheckedState()),e.xp6(1),e.AsE(" ",e.lcZ(3,8,ct.getToggleLabelKey())," (",ct.getEntitiesLength(Ae),") ")}}function X(be,Ce){if(1&be){const de=e.EpF();e.TgZ(0,"mat-list-item",13),e.NdJ("click",function(){const gt=e.CHM(de).$implicit;return e.oxw(2).selectGroupItem(gt)}),e.TgZ(1,"entity-picker-label-with-checkbox",12),e._uU(2),e.qZA()()}if(2&be){const de=Ce.$implicit,Ae=Ce.index,ct=e.oxw().ngIf,gt=e.oxw();e.ekj("active-entity",de===gt.getActiveItem()),e.Q6J("id",gt.getItemId(de))("scrollToElementInContainer",de===gt.getActiveItem()),e.uIk("aria-setsize",ct.items.length)("aria-posinset",Ae+2)("aria-selected",gt.getEntityAriaSelected(de)),e.xp6(1),e.Q6J("state",gt.getEntityCheckedState(de)),e.xp6(1),e.hij(" ",de.value," ")}}function K(be,Ce){if(1&be&&(e.TgZ(0,"mat-action-list",8),e.YNc(1,k,4,10,"button",9),e.YNc(2,X,3,9,"mat-list-item",10),e.qZA()),2&be){const de=Ce.ngIf,Ae=e.oxw();e.Q6J("id",Ae.getGroupId(de)),e.xp6(1),e.Q6J("ngIf",Ae.getSelectDeselectAllItem(de.items)),e.xp6(1),e.Q6J("ngForOf",Ae.getEntities(de.items))}}let te=(()=>{class be extends B{constructor(de,Ae,ct){super(de),this.connectedOverlay=Ae,this.changeDetectorRef=ct,this.groupedEntities=this.entitiesSelectionService.getGroupedEntitiesList(),this.activeDescendantChange=new e.vpe,this.onDestroy=new f.xQ}ngOnInit(){this.keyManager=new q(this.groupedEntities||[],this.entitiesSelectionService),this.connectedOverlay.overlayKeydown.pipe((0,C.R)(this.onDestroy)).subscribe(de=>{this.keyManager.onKeydown(de),this.changeDetectorRef.markForCheck()}),this.keyManager.change$.pipe((0,C.R)(this.onDestroy)).subscribe(de=>this.activeDescendantChange.emit(this.getActiveDescendant()))}ngOnDestroy(){this.onDestroy.next()}getActiveItem(){var de;return null===(de=this.keyManager.activeItem)||void 0===de?void 0:de.item}selectGroup(de){this.keyManager.setGroupActive(de),super.selectGroup(de)}selectGroupItem(de){this.keyManager.setGroupItemActive(de),super.selectGroupItem(de)}getGroupId(de){return`group-${de.group.uuid}`}getItemId(de){const Ae="picker-item-";return"selectDeselectAll"===de?`${Ae}${de}`:(be=>be&&be.hasOwnProperty("group")&&be.hasOwnProperty("items"))(de)?`${Ae}${de.group.uuid}`:`${Ae}${de.uuid}`}getActiveDescendant(){const de=this.getActiveItem();return de&&this.getItemId(de)}}return be.\u0275fac=function(de){return new(de||be)(e.Y36(I),e.Y36(N.pI),e.Y36(e.sBO))},be.\u0275cmp=e.Xpm({type:be,selectors:[["entity-picker-desktop"]],outputs:{activeDescendantChange:"activeDescendantChange"},features:[e.qOj],decls:5,vars:3,consts:[["mat-list-item","","role","treeitem","aria-level","1",3,"id","scrollToElementInContainer","active-group","click",4,"ngFor","ngForOf"],[3,"vertical",4,"ngIf"],["role","group",3,"id",4,"ngIf"],["mat-list-item","","role","treeitem","aria-level","1",3,"id","scrollToElementInContainer","click"],[1,"group-content"],[3,"label","numItems","hasSelected"],["key","icon_caret_right"],[3,"vertical"],["role","group",3,"id"],["mat-list-item","","role","treeitem","aria-level","2","aria-posinset","1",3,"id","scrollToElementInContainer","active-entity","click",4,"ngIf"],["role","treeitem","aria-level","2",3,"id","scrollToElementInContainer","active-entity","click",4,"ngFor","ngForOf"],["mat-list-item","","role","treeitem","aria-level","2","aria-posinset","1",3,"id","scrollToElementInContainer","click"],[3,"state"],["role","treeitem","aria-level","2",3,"id","scrollToElementInContainer","click"]],template:function(de,Ae){1&de&&(e.TgZ(0,"div")(1,"mat-action-list"),e.YNc(2,w,4,11,"button",0),e.qZA(),e.YNc(3,G,1,1,"mat-divider",1),e.YNc(4,K,3,3,"mat-action-list",2),e.qZA()),2&de&&(e.xp6(2),e.Q6J("ngForOf",Ae.groupedEntities),e.xp6(1),e.Q6J("ngIf",Ae.getSelectedGroup()),e.xp6(1),e.Q6J("ngIf",Ae.getSelectedGroup()))},directives:[le.i$,x.sg,le.Tg,J.N,u,E.o,x.O5,D.d,_e],pipes:[ee.X],styles:["[_nghost-%COMP%] > div[_ngcontent-%COMP%]{display:flex;max-height:256px}mat-action-list[_ngcontent-%COMP%]{overflow-y:auto;position:relative}mat-action-list[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{background:unset}mat-action-list[_ngcontent-%COMP%]   button.active-group[_ngcontent-%COMP%], mat-action-list[_ngcontent-%COMP%]   button.active-entity[_ngcontent-%COMP%]{background-color:#ebf7fb}mat-action-list[_ngcontent-%COMP%]   .active-entity[_ngcontent-%COMP%]{background-color:#ebf7fb}.group-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%;font-size:14px;line-height:20px;color:#282828;letter-spacing:.2px;font-weight:400;font-family:Roboto,Arial,sans-serif}entity-picker-group-label[_ngcontent-%COMP%]{flex:1 1 auto}"],changeDetection:0}),be})();var Ie=t(46829),Te=t(71360);function ce(be,Ce){if(1&be){const de=e.EpF();e.TgZ(0,"button",3),e.NdJ("click",function(){const gt=e.CHM(de).$implicit;return e.oxw().selectGroup(gt)}),e.TgZ(1,"span",4),e._UZ(2,"entity-picker-group-label",5)(3,"icon",6),e.qZA()()}if(2&be){const de=Ce.$implicit,Ae=e.oxw();e.xp6(2),e.Q6J("label",de.group.value)("numItems",Ae.getEntitiesLength(de))("hasSelected",Ae.hasCheckedValues(de))}}function Re(be,Ce){if(1&be){const de=e.EpF();e.TgZ(0,"button",3),e.NdJ("click",function(){const gt=e.CHM(de).ngIf;return e.oxw(3).selectGroupItem(gt)}),e.TgZ(1,"entity-picker-label-with-checkbox",13),e._uU(2),e.ALo(3,"translate"),e.qZA()()}if(2&be){const de=e.oxw(2).ngIf,Ae=e.oxw();e.xp6(1),e.Q6J("state",Ae.getToggleAllCheckedState()),e.xp6(1),e.AsE(" ",e.lcZ(3,3,Ae.getToggleLabelKey())," (",Ae.getEntitiesLength(de),") ")}}function fe(be,Ce){if(1&be){const de=e.EpF();e.TgZ(0,"mat-list-item",14),e.NdJ("click",function(){const gt=e.CHM(de).$implicit;return e.oxw(3).selectGroupItem(gt)}),e.TgZ(1,"entity-picker-label-with-checkbox",13),e._uU(2),e.qZA()()}if(2&be){const de=Ce.$implicit,Ae=e.oxw(3);e.uIk("aria-selected",Ae.getEntityAriaSelected(de)),e.xp6(1),e.Q6J("state",Ae.getEntityCheckedState(de)),e.xp6(1),e.hij(" ",de.value," ")}}function ye(be,Ce){if(1&be){const de=e.EpF();e.TgZ(0,"mat-action-list",8)(1,"button",3),e.NdJ("click",function(){return e.CHM(de),e.oxw(2).backToGroups()}),e.TgZ(2,"span",9),e._UZ(3,"icon",10)(4,"entity-picker-group-label",5),e.qZA()(),e._UZ(5,"mat-divider"),e.YNc(6,Re,4,5,"button",11),e.YNc(7,fe,3,3,"mat-list-item",12),e.qZA()}if(2&be){const de=e.oxw().ngIf,Ae=e.oxw();e.xp6(4),e.Q6J("label",de.group.value)("numItems",Ae.getEntitiesLength(de))("hasSelected",Ae.hasCheckedValues(de)),e.xp6(2),e.Q6J("ngIf",Ae.getSelectDeselectAllItem(de.items)),e.xp6(1),e.Q6J("ngForOf",Ae.getEntities(de.items))}}function Ge(be,Ce){if(1&be&&(e.ynx(0),e.YNc(1,ye,8,5,"mat-action-list",7),e.BQk()),2&be){const de=Ce.ngIf,Ae=e.oxw();e.xp6(1),e.Q6J("ngIf",Ae.getEntitiesLength(de))}}let at=(()=>{class be extends B{constructor(de){super(de),this.groupedEntities=this.entitiesSelectionService.getGroupedEntitiesList()}backToGroups(){this.entitiesSelectionService.setSelectedGroup(void 0)}}return be.\u0275fac=function(de){return new(de||be)(e.Y36(I))},be.\u0275cmp=e.Xpm({type:be,selectors:[["entity-picker-mobile"]],features:[e.qOj],decls:6,vars:3,consts:[[3,"selectedIndex"],["mat-list-item","",3,"click",4,"ngFor","ngForOf"],[4,"ngIf"],["mat-list-item","",3,"click"],[1,"group-content"],[3,"label","numItems","hasSelected"],["key","icon_caret_right"],["role","listbox",4,"ngIf"],["role","listbox"],[1,"selected-group-header"],["key","icon_caret_left","color","inherit"],["mat-list-item","",3,"click",4,"ngIf"],["role","option",3,"click",4,"ngFor","ngForOf"],[3,"state"],["role","option",3,"click"]],template:function(de,Ae){1&de&&(e.TgZ(0,"slides",0)(1,"slide")(2,"mat-action-list"),e.YNc(3,ce,4,3,"button",1),e.qZA()(),e.TgZ(4,"slide"),e.YNc(5,Ge,2,1,"ng-container",2),e.qZA()()),2&de&&(e.Q6J("selectedIndex",Ae.getSelectedGroup()?1:0),e.xp6(3),e.Q6J("ngForOf",Ae.groupedEntities),e.xp6(2),e.Q6J("ngIf",Ae.getSelectedGroup()))},directives:[Ie.o,Te.o,le.i$,x.sg,le.Tg,u,E.o,x.O5,D.d,_e],pipes:[ee.X],styles:["[_nghost-%COMP%]{flex:1 1 auto}slides[_ngcontent-%COMP%]{max-height:256px;height:100%}slides[_ngcontent-%COMP%]    >*{height:100%}mat-action-list[_ngcontent-%COMP%]{height:100%;overflow-y:auto}.group-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%;font-size:14px;line-height:20px;color:#282828;letter-spacing:.2px;font-weight:400;font-family:Roboto,Arial,sans-serif}.selected-group-header[_ngcontent-%COMP%]{font-size:16px;line-height:24px;color:#282828;letter-spacing:.3px;font-weight:500;font-family:Roboto,Arial,sans-serif;display:flex;align-items:center;flex:1 1 auto}entity-picker-group-label[_ngcontent-%COMP%]{flex:1 1 auto}"],changeDetection:0}),be})();function It(be,Ce){if(1&be){const de=e.EpF();e.TgZ(0,"entity-picker-desktop",2),e.NdJ("activeDescendantChange",function(ct){return e.CHM(de),e.oxw().activeDescendantChange.emit(ct)}),e.qZA()}}function Ue(be,Ce){1&be&&e._UZ(0,"entity-picker-mobile")}let we=(()=>{class be{constructor(){this.activeDescendantChange=new e.vpe}}return be.\u0275fac=function(de){return new(de||be)},be.\u0275cmp=e.Xpm({type:be,selectors:[["entity-picker"]],outputs:{activeDescendantChange:"activeDescendantChange"},decls:2,vars:2,consts:[[3,"activeDescendantChange",4,"ifBreakpoint"],[4,"ifBreakpoint"],[3,"activeDescendantChange"]],template:function(de,Ae){1&de&&(e.YNc(0,It,1,0,"entity-picker-desktop",0),e.YNc(1,Ue,1,0,"entity-picker-mobile",1)),2&de&&(e.Q6J("ifBreakpoint","desktop"),e.xp6(1),e.Q6J("ifBreakpoint","mobile"))},directives:[b.G,te,at],styles:["[_nghost-%COMP%]{display:flex;background-color:#fff;box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f;border-radius:3px}"],changeDetection:0}),be})();var De=t(55751),ae=t(74160);function Le(be,Ce){if(1&be){const de=e.EpF();e.TgZ(0,"mat-list-item",11),e.NdJ("click",function(){e.CHM(de);const ct=e.oxw().$implicit;return e.oxw(3).checkboxClick(ct.originalObject)}),e.TgZ(1,"entity-picker-label-with-checkbox",12),e._uU(2),e._UZ(3,"icon",13)(4,"span",14),e.qZA()()}if(2&be){const de=e.oxw(),Ae=de.index,ct=de.$implicit,gt=e.oxw(3);e.ekj("active",Ae===gt.getActiveItemIndex()),e.Q6J("scrollToElementInContainer",Ae===gt.getActiveItemIndex())("id",gt.getOptionId(ct.originalObject)),e.uIk("aria-selected",gt.getEntityAriaSelected(ct.originalObject.identifier)),e.xp6(1),e.Q6J("state",gt.getEntityCheckedState(ct.originalObject.identifier)),e.xp6(1),e.hij(" ",ct.originalObject.parentIdentifier.value," "),e.xp6(2),e.Q6J("innerHtml",ct.highlighted,e.oJD)}}function Fe(be,Ce){if(1&be&&(e.ynx(0),e.YNc(1,Le,5,8,"mat-list-item",10),e.BQk()),2&be){const de=Ce.$implicit,Ae=e.oxw(3);e.xp6(1),e.Q6J("ngIf",Ae.isEntityWithParent(de.originalObject))}}function dt(be,Ce){if(1&be&&(e.TgZ(0,"mat-action-list",6)(1,"h6",7),e.SDv(2,8),e.qZA(),e.YNc(3,Fe,2,1,"ng-container",9),e.qZA()),2&be){const de=e.oxw(2);e.xp6(3),e.Q6J("ngForOf",de.sortedOptions)}}function Ye(be,Ce){if(1&be){const de=e.EpF();e.TgZ(0,"button",17),e.NdJ("click",function(){e.CHM(de);const ct=e.oxw().$implicit;return e.oxw(3).groupSelect.emit(ct.originalObject.uuid)}),e.TgZ(1,"label-with-icon",18),e._UZ(2,"span",14),e.qZA()()}if(2&be){const de=e.oxw(),Ae=de.index,ct=de.$implicit,gt=e.oxw(3);e.ekj("active",Ae===gt.getActiveItemIndex()),e.Q6J("id",gt.getOptionId(ct.originalObject))("scrollToElementInContainer",Ae===gt.getActiveItemIndex()),e.xp6(1),e.Q6J("iconAfter",!0),e.xp6(1),e.Q6J("innerHtml",ct.highlighted,e.oJD)}}function vt(be,Ce){if(1&be&&(e.ynx(0),e.YNc(1,Ye,3,6,"button",16),e.BQk()),2&be){const de=Ce.$implicit,Ae=e.oxw(3);e.xp6(1),e.Q6J("ngIf",!Ae.isEntityWithParent(de.originalObject))}}function Je(be,Ce){if(1&be&&(e.TgZ(0,"mat-action-list")(1,"h6",7),e.SDv(2,15),e.qZA(),e.YNc(3,vt,2,1,"ng-container",9),e.qZA()),2&be){const de=e.oxw(2);e.xp6(3),e.Q6J("ngForOf",de.sortedOptions)}}function Ke(be,Ce){1&be&&(e.TgZ(0,"div",19)(1,"span"),e._UZ(2,"icon",20)(3,"icon",21),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"span"),e._UZ(7,"icon",22),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"span"),e._UZ(11,"icon",23),e._uU(12),e.ALo(13,"translate"),e.qZA()()),2&be&&(e.xp6(4),e.hij(" ",e.lcZ(5,3,"CBL.ENTITY_GROUPED_BY_PARENT.ENTITY_TYPEAHEAD_RESULTS.TO_NAVIGATE")," "),e.xp6(4),e.hij(" ",e.lcZ(9,5,"CBL.ENTITY_GROUPED_BY_PARENT.ENTITY_TYPEAHEAD_RESULTS.TO_SELECT")," "),e.xp6(4),e.hij(" ",e.lcZ(13,7,"CBL.ENTITY_GROUPED_BY_PARENT.ENTITY_TYPEAHEAD_RESULTS.TO_DISMISS")," "))}function Ne(be,Ce){if(1&be&&(e.ynx(0),e.TgZ(1,"div",2),e.YNc(2,dt,4,1,"mat-action-list",3),e.YNc(3,Je,4,1,"mat-action-list",4),e.qZA(),e.YNc(4,Ke,14,9,"div",5),e.BQk()),2&be){const de=e.oxw();e.xp6(2),e.Q6J("ngIf",de.hasEntities),e.xp6(1),e.Q6J("ngIf",de.hasGroups),e.xp6(1),e.Q6J("ifBreakpoint","desktop")}}const ke=function(be){return{search:be}};function He(be,Ce){if(1&be&&(e.TgZ(0,"div",24),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&be){const de=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,"CBL.ENTITY_GROUPED_BY_PARENT.ENTITY_TYPEAHEAD_RESULTS.NO_RESULTS_FOUND",e.VKq(4,ke,de.search))," ")}}let Et=(()=>{class be{constructor(de,Ae,ct){this.entitiesSelectionService=de,this.changeDetectorRef=Ae,this.groupSelect=new e.vpe,this.activeDescendantChange=new e.vpe,this.groups=[],this.hasEntities=!1,this.hasGroups=!1,this.sortedOptions=[],this.onDestroy=new f.xQ,this.actionListKeyManager=new W([]),this.setupActionListKeyManager(),ct.overlayKeydown.asObservable().pipe((0,C.R)(this.onDestroy)).subscribe(gt=>this.actionListKeyManager.onKeydown(gt)),this.actionListKeyManager.change$.pipe((0,C.R)(this.onDestroy)).subscribe(gt=>this.activeDescendantChange.emit(this.getActiveDescendant()))}ngOnChanges(de){if(de.entityList&&(this.groups=this.getGroups()),de.search){const Ae=this.getSortedWithHighlights(this.entityList,"identifier","value"),ct=this.getSortedWithHighlights(this.groups,"value");this.hasEntities=!!Ae.length,this.hasGroups=!!ct.length,this.sortedOptions=[...Ae,...ct],this.actionListKeyManager.updateItems(this.sortedOptions.map(gt=>gt.originalObject))}}ngOnDestroy(){this.onDestroy.next()}isEntityWithParent(de){return de&&de.hasOwnProperty("identifier")&&de.hasOwnProperty("parentIdentifier")}getEntityCheckedState(de){return this.entitiesSelectionService.getIsEntityChecked(de)?"checked":"unchecked"}getEntityAriaSelected(de){return this.entitiesSelectionService.getIsEntityChecked(de)?"true":"false"}checkboxClick(de){this.actionListKeyManager.setActiveItem(de),this.toggleChecked(de.identifier)}getActiveItemIndex(){return this.actionListKeyManager.activeItemIndex}getOptionId(de){const Ae="typeahead-options-";return this.isEntityWithParent(de)?`${Ae}${de.parentIdentifier.uuid}_${de.identifier.uuid}`:`${Ae}${de.uuid}`}getActiveDescendant(){const de=this.actionListKeyManager.activeItem;return de&&this.getOptionId(de)}getGroups(){const de=new Map;for(const Ae of this.entityList)de.has(Ae.parentIdentifier.uuid)||de.set(Ae.parentIdentifier.uuid,Ae.parentIdentifier);return Array.from(de.values())}setupActionListKeyManager(){this.actionListKeyManager.enter$.pipe((0,C.R)(this.onDestroy)).subscribe(de=>{var Ae;const ct=null===(Ae=this.sortedOptions[de])||void 0===Ae?void 0:Ae.originalObject;ct&&(this.isEntityWithParent(ct)?this.toggleChecked(ct.identifier):this.groupSelect.emit(ct.uuid)),this.changeDetectorRef.markForCheck()}),this.actionListKeyManager.change$.pipe((0,C.R)(this.onDestroy)).subscribe(de=>this.changeDetectorRef.markForCheck())}getSortedWithHighlights(de,...Ae){return De.go(this.search,de,{key:Ae.join("."),limit:15}).map(ct=>({originalObject:ct.obj,highlighted:De.highlight(ct)||""})).filter(ct=>ct.highlighted)}toggleChecked(de){this.entitiesSelectionService.toggleCheckedEntity(de)}}return be.\u0275fac=function(de){return new(de||be)(e.Y36(I),e.Y36(e.sBO),e.Y36(N.pI))},be.\u0275cmp=e.Xpm({type:be,selectors:[["entity-typeahead-results"]],inputs:{entityList:"entityList",search:"search"},outputs:{groupSelect:"groupSelect",activeDescendantChange:"activeDescendantChange"},features:[e.TTD],decls:3,vars:2,consts:function(){let Ce,de;return Ce=$localize`:␟80ed5b776a26a78099e230e0e89d96c33ba44e24␟5968132631442328843:Results`,de=$localize`:␟c22ba03540aa3217da059f45e7eab138b51a96e2␟5944812089887969249:Groups`,[[4,"ngIf","ngIfElse"],["noResults",""],[1,"scrollable"],["role","listbox",4,"ngIf"],[4,"ngIf"],["class","navigation-info",4,"ifBreakpoint"],["role","listbox"],["matSubheader",""],Ce,[4,"ngFor","ngForOf"],["role","option",3,"scrollToElementInContainer","active","id","click",4,"ngIf"],["role","option",3,"scrollToElementInContainer","id","click"],[3,"state"],["key","icon_caret_right","color","accent"],[3,"innerHtml"],de,["mat-list-item","",3,"id","scrollToElementInContainer","active","click",4,"ngIf"],["mat-list-item","",3,"id","scrollToElementInContainer","click"],["iconKey","icon_caret_right","iconColor","accent",3,"iconAfter"],[1,"navigation-info"],["key","icon_arrow_up"],["key","icon_arrow_down"],["key","icon_keyboard_return"],["key","icon_esc"],[1,"no-results"]]},template:function(de,Ae){if(1&de&&(e.YNc(0,Ne,5,3,"ng-container",0),e.YNc(1,He,3,6,"ng-template",null,1,e.W1O)),2&de){const ct=e.MAs(2);e.Q6J("ngIf",Ae.sortedOptions.length)("ngIfElse",ct)}},directives:[x.O5,le.i$,le.gs,x.sg,le.Tg,J.N,_e,E.o,ae.d,b.G],pipes:[ee.X],styles:["[_nghost-%COMP%]{background-color:#fff;box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f;max-height:256px;display:flex;flex-direction:column}.scrollable[_ngcontent-%COMP%]{flex:1 1 auto;overflow-y:auto;position:relative}.mat-list-base[_ngcontent-%COMP%]   h6.mat-subheader[_ngcontent-%COMP%]{font-size:14px;line-height:20px;color:#666;letter-spacing:.4px;font-weight:500;font-family:Roboto,Arial,sans-serif}entity-picker-label-with-checkbox[_ngcontent-%COMP%]   icon[_ngcontent-%COMP%]{vertical-align:middle}entity-picker-label-with-checkbox[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]  b{font-weight:500}button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;line-height:20px;color:#282828;letter-spacing:.2px;font-weight:400;font-family:Roboto,Arial,sans-serif}.navigation-info[_ngcontent-%COMP%]{border-top-style:solid;border-top-width:1px;border-color:#0000001f;font-size:13px;line-height:20px;color:#282828;letter-spacing:.2px;font-weight:400;font-family:Roboto,Arial,sans-serif;padding:4px 8px;display:flex}.navigation-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{white-space:nowrap}.navigation-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:not(:first-child){margin-left:48px}.navigation-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   icon[_ngcontent-%COMP%]{vertical-align:bottom}.no-results[_ngcontent-%COMP%]{padding:16px;font-size:16px;line-height:24px;color:#666;letter-spacing:.3px;font-weight:400;font-family:Roboto,Arial,sans-serif}.active[_ngcontent-%COMP%]{background-color:#ebf7fb}"],changeDetection:0}),be})();const rt=["formField"];function Dt(be,Ce){1&be&&e._UZ(0,"mat-spinner",8),2&be&&e.Q6J("diameter",16)}function Lt(be,Ce){if(1&be&&e._UZ(0,"icon",9),2&be){const de=e.oxw();e.Q6J("key",de.icon)}}function Ut(be,Ce){if(1&be){const de=e.EpF();e.TgZ(0,"entity-picker",14),e.NdJ("activeDescendantChange",function(ct){return e.CHM(de),e.oxw(3).setActiveDescendant(ct)}),e.qZA()}}function Yt(be,Ce){if(1&be){const de=e.EpF();e.TgZ(0,"entity-typeahead-results",15),e.NdJ("groupSelect",function(ct){return e.CHM(de),e.oxw(3).onGroupSelect(ct)})("activeDescendantChange",function(ct){return e.CHM(de),e.oxw(3).setActiveDescendant(ct)}),e.qZA()}if(2&be){const de=e.oxw().ngIf,Ae=e.oxw(2);e.Q6J("entityList",de)("search",Ae.inputValue)}}function $t(be,Ce){if(1&be&&(e.TgZ(0,"div",11),e.ALo(1,"async"),e.YNc(2,Ut,1,0,"entity-picker",12),e.ALo(3,"async"),e.YNc(4,Yt,1,2,"entity-typeahead-results",13),e.ALo(5,"async"),e.qZA()),2&be){const de=e.oxw(2);e.Q6J("id",de.entityGroupedByParentId),e.uIk("role",e.lcZ(1,4,de.overlayRole$)),e.xp6(2),e.Q6J("ngIf","picker"===e.lcZ(3,6,de.resultsMode$)),e.xp6(2),e.Q6J("ngIf","typeahead"===e.lcZ(5,8,de.resultsMode$))}}function un(be,Ce){if(1&be&&(e.YNc(0,$t,6,10,"div",10),e.ALo(1,"async")),2&be){const de=e.oxw();e.Q6J("ngIf",e.lcZ(1,1,de.entityList$))}}let ft=0,pe=(()=>{class be{constructor(de,Ae,ct,gt,Ht,nn){this.entitiesGroupedByParentService=de,this.metadataService=Ae,this.toastService=ct,this.breakpointService=gt,this.entitiesSelectionService=Ht,this.changeDetectorRef=nn,this.icon="icon_search",this.selectionChange=new e.vpe,this.loading$=new g.X(!1),this.formControl=new i.NI,this.inputValue="",this.entityGroupedByParentId="entity-grouped-by-parent-"+ft++,this.resultsModeSubject=new g.X("none"),this.onDestroy=new f.xQ}ngOnInit(){this.resultsMode$=this.resultsModeSubject.pipe((0,c.x)()),this.overlayWidth$=this.resultsMode$.pipe((0,r.M)(this.breakpointService.isSize$("mobile")),(0,o.U)(([de,Ae])=>Ae&&"none"!==de&&this.formFieldRef?this.formFieldRef.nativeElement.offsetWidth:void 0)),this.entityList$=(0,a.of)(void 0).pipe((0,_.b)(de=>this.loading$.next(!0)),(0,n.c)(this.entitiesGroupedByParentService.getEntitiesWithParentField$(this.collectionId,this.parentFieldId)),(0,_.b)(de=>this.initSelectionService(de)),(0,m.K)(de=>(0,a.of)(void 0)),(0,_.b)(de=>!de&&this.showErrorToast()),(0,_.b)(de=>this.loading$.next(!1))),this.formControl.valueChanges.pipe((0,v.b)(400),(0,r.M)(this.resultsMode$),(0,h.h)(([de,Ae])=>"none"!==Ae),(0,_.b)(([de,Ae])=>this.resultsModeSubject.next(de?"typeahead":"picker")),(0,o.U)(([de,Ae])=>de),(0,C.R)(this.onDestroy)).subscribe(de=>{this.inputValue=de,this.changeDetectorRef.markForCheck()}),this.entitiesSelectionService.selectionChange.asObservable().pipe((0,C.R)(this.onDestroy)).subscribe(de=>this.selectionChange.emit(de)),this.overlayRole$=this.resultsMode$.pipe((0,h.h)(de=>"none"!==de),(0,o.U)(de=>"picker"===de?"tree":"listbox"))}ngOnDestroy(){this.onDestroy.next()}onFocus(){this.resultsModeSubject.next(this.formControl.value?"typeahead":"picker")}onOverlayDetach(){this.setActiveDescendant(void 0),this.formControl.reset(),this.loading$.next(!1),this.resultsModeSubject.next("none")}onGroupSelect(de){this.entitiesSelectionService.setSelectedGroup(de),this.resultsModeSubject.next("picker")}setActiveDescendant(de){this.activeDescendant=de}initSelectionService(de){this.entitiesSelectionService.setSelectedEntities(this.selectedValues,de),this.entitiesSelectionService.setGroupedEntitiesList(de)}showErrorToast(){const de=this.metadataService.getEntityDef(this.collectionId);this.toastService.showSimpleToast("CBL.ENTITY_GROUPED_BY_PARENT.NO_RESULTS_FOUND",{entityLabel:(null==de?void 0:de.labels.plural)||""})}}return be.\u0275fac=function(de){return new(de||be)(e.Y36(l.Y),e.Y36(y.Do),e.Y36(d.k),e.Y36(p.r),e.Y36(I),e.Y36(e.sBO))},be.\u0275cmp=e.Xpm({type:be,selectors:[["entity-grouped-by-parent-input"]],viewQuery:function(de,Ae){if(1&de&&e.Gf(rt,5,e.SBq),2&de){let ct;e.iGM(ct=e.CRH())&&(Ae.formFieldRef=ct.first)}},inputs:{collectionId:"collectionId",parentFieldId:"parentFieldId",selectedValues:"selectedValues",placeholder:"placeholder",appearance:"appearance",icon:"icon"},outputs:{selectionChange:"selectionChange"},features:[e._Bn([I])],decls:16,vars:29,consts:[["role","combobox"],["cdkOverlayOrigin","","floatLabel","never",3,"appearance"],["formField","","overlayOrigin","cdkOverlayOrigin"],["matPrefix",""],[3,"diameter",4,"ngIf"],["size","large",3,"key",4,"ngIf"],["matInput","","type","text","role","searchbox","autocomplete","off",3,"formControl","placeholder","focus"],["overlayAutoClose","","cdkConnectedOverlay","",3,"cdkConnectedOverlayOrigin","cdkConnectedOverlayWidth","cdkConnectedOverlayOpen","detach"],[3,"diameter"],["size","large",3,"key"],["aria-multiselectable","true",3,"id",4,"ngIf"],["aria-multiselectable","true",3,"id"],[3,"activeDescendantChange",4,"ngIf"],[3,"entityList","search","groupSelect","activeDescendantChange",4,"ngIf"],[3,"activeDescendantChange"],[3,"entityList","search","groupSelect","activeDescendantChange"]],template:function(de,Ae){if(1&de&&(e.TgZ(0,"div",0),e.ALo(1,"async"),e.ALo(2,"async"),e.TgZ(3,"mat-form-field",1,2)(6,"div",3),e.YNc(7,Dt,1,1,"mat-spinner",4),e.ALo(8,"async"),e.YNc(9,Lt,1,1,"icon",5),e.ALo(10,"async"),e.qZA(),e.TgZ(11,"input",6),e.NdJ("focus",function(){return Ae.onFocus()}),e.ALo(12,"async"),e.qZA()()(),e.YNc(13,un,2,3,"ng-template",7),e.ALo(14,"async"),e.ALo(15,"async"),e.NdJ("detach",function(){return Ae.onOverlayDetach()})),2&de){const ct=e.MAs(5);e.uIk("aria-haspopup",e.lcZ(1,15,Ae.overlayRole$))("aria-expanded","none"!==e.lcZ(2,17,Ae.resultsMode$))("aria-owns",Ae.entityGroupedByParentId),e.xp6(3),e.ekj("cb-form-field-outlined","outline"===Ae.appearance),e.Q6J("appearance",Ae.appearance),e.xp6(4),e.Q6J("ngIf",e.lcZ(8,19,Ae.loading$)),e.xp6(2),e.Q6J("ngIf",!e.lcZ(10,21,Ae.loading$)),e.xp6(2),e.Q6J("formControl",Ae.formControl)("placeholder",Ae.placeholder),e.uIk("aria-controls","none"!==e.lcZ(12,23,Ae.resultsMode$)?Ae.entityGroupedByParentId:void 0)("aria-activedescendant",Ae.activeDescendant),e.xp6(2),e.Q6J("cdkConnectedOverlayOrigin",ct)("cdkConnectedOverlayWidth",e.lcZ(14,25,Ae.overlayWidth$))("cdkConnectedOverlayOpen","none"!==e.lcZ(15,27,Ae.resultsMode$))}},directives:[T.KE,N.xu,T.qo,x.O5,s.Ou,E.o,H.Nt,i.Fj,i.JJ,i.oH,V.K,N.pI,we,Et],pipes:[x.Ov],styles:["[_nghost-%COMP%]  .mat-form-field-prefix{height:18px;width:18px;transform:translateY(2px);margin-right:8px}mat-form-field[_ngcontent-%COMP%]{width:100%}entity-picker[_ngcontent-%COMP%], entity-typeahead-results[_ngcontent-%COMP%]{min-width:100%}"],changeDetection:0}),be})()},3542:(oe,L,t)=>{t.d(L,{j:()=>G});var e=t(3184),i=t(90587),p=t(92218),l=t(45398),y=t(64139),d=t(59151),g=t(88759),f=t(12972),a=t(53298),c=t(59095),r=t(86942),o=t(85921),_=t(47418),n=t(50767),m=t(97010),v=t(46179),h=t(44770),C=t(36362),S=t(84647),I=t(74742),T=t(32478),N=t(43365),x=t(43188),s=t(87317),E=t(1130),H=t(40361),V=t(74929);const b=["input"];function B(k,X){if(1&k&&e._UZ(0,"field-label",13),2&k){const K=e.oxw();e.Q6J("label",K.label)("isSubfield",K.isSubfield)("isRequired",K.isRequired)("isDisabled",K.isDisabled)("disabledTooltip",K.disabledTooltip)}}function Q(k,X){1&k&&e._UZ(0,"mat-spinner",14),2&k&&e.Q6J("diameter",16)}function $(k,X){if(1&k&&e._UZ(0,"icon",15),2&k){const K=e.oxw();e.Q6J("key",K.icon)}}const W=function(k){return{"entity-input-clear-hide":k}};function q(k,X){if(1&k){const K=e.EpF();e.TgZ(0,"div",16)(1,"button",17),e.NdJ("click",function(Ie){return e.CHM(K),e.oxw().clearInput(Ie)}),e.ALo(2,"translate"),e._UZ(3,"icon",18),e.qZA()()}if(2&k){const K=e.oxw();e.Q6J("ngClass",e.VKq(4,W,!K.userInput||!K.userInput.length)),e.xp6(1),e.uIk("aria-label",e.lcZ(2,2,"CBL.EDIT.REVERT.REVERT_FIELDS"))}}function le(k,X){if(1&k&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&k){const K=X.$implicit;e.xp6(1),e.hij(" ",K," ")}}function J(k,X){if(1&k&&e._UZ(0,"div",25),2&k){const K=e.oxw().$implicit;e.Q6J("useIdentifierImgStyle",!0)("imgSrc",K.imageSrc)}}function u(k,X){if(1&k&&(e.TgZ(0,"span")(1,"span",26),e._uU(2),e.qZA()()),2&k){const K=e.oxw().$implicit;e.xp6(2),e.hij(" ",K.description," ")}}function D(k,X){1&k&&(e.TgZ(0,"div",27)(1,"button",28),e.ALo(2,"translate"),e._UZ(3,"icon",29),e.qZA()()),2&k&&(e.xp6(1),e.uIk("aria-label",e.lcZ(2,1,"CBL.COMMON.ADD")))}const se=function(k){return{singleRowNoIcons:k}};function ne(k,X){if(1&k&&(e.TgZ(0,"mat-option",19)(1,"div",20),e.YNc(2,J,1,2,"div",21),e.TgZ(3,"div",22)(4,"span"),e._uU(5),e.qZA(),e.YNc(6,u,3,1,"span",23),e.qZA(),e.YNc(7,D,4,3,"div",24),e.qZA()()),2&k){const K=X.$implicit,te=e.oxw();e.Q6J("ngClass",e.VKq(6,se,!(te.showImage||te.showDescription&&K.description||te.showAdd)))("value",K),e.xp6(2),e.Q6J("ngIf",te.showImage),e.xp6(3),e.hij(" ",K.label," "),e.xp6(1),e.Q6J("ngIf",te.showDescription&&K.description),e.xp6(1),e.Q6J("ngIf",te.showAdd)}}const _e=function(k){return{search:k}};function ee(k,X){if(1&k&&(e.TgZ(0,"mat-option",30),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&k){const K=e.oxw();e.Q6J("disabled",!0),e.xp6(1),e.hij(" ",e.xi3(2,2,"CBL.INPUTS.NO_RESULTS_MATCHING",e.VKq(5,_e,K.userInput))," ")}}const w=function(k){return{"cb-form-field-outlined":k}};let G=(()=>{class k{constructor(K,te,Ie,Te){this.autocompleteService=K,this.changeDetectorRef=te,this.imageService=Ie,this.toastService=Te,this.icon="icon_search",this.showImage=!0,this.showAdd=!0,this.showDescriptionEntityDef=!0,this.showDescription=!0,this.clearButton=!0,this.disableDefaultResults=!1,this.isSubfield=!1,this.isRequired=!1,this.isDisabled=!1,this.disabledTooltip="",this.errors=[],this.chosenEntity=new e.vpe,this.entityInput=new i.NI,this.loading=!1,this.hasNewInput=!1,this.onDestroy=new p.xQ}ngOnInit(){this.listenForInputChanges()}ngOnChanges(K){K.isDisabled&&this.setIsDisabled(),(K.parentId||K.collectionIds)&&(this.results=void 0,this.defaultResults=void 0,this.entityInput.setValue(k.EMPTY_STRING))}ngOnDestroy(){this.onDestroy.next()}focus(){this.input.nativeElement.focus()}onFocus(K){this.entityInput.setValue(k.EMPTY_STRING)}clearInput(K){this.entityInput.setValue(k.EMPTY_STRING)}getImageSrc(K){return this.imageService.getPublicImageUrl(K,{width:"30",height:"30",transparent:!1})}chooseEntity(K){const te=K.option.value;this.autocompleteService.cacheEntity(te.model),this.chosenEntity.emit(te.model),this.entityInput.setValue(k.EMPTY_STRING),this.input.nativeElement.blur()}getDescription(K){const te=[];if(this.showDescriptionEntityDef){const Te=this.autocompleteService.getEntityDefLabel(K.identifier.entity_def_id);te.push(Te)}K.short_description&&te.push(K.short_description);const Ie=te.join(" \u2022 ");return Ie.length?Ie:void 0}displayWith(K){return(null==K?void 0:K.label)||""}listenForInputChanges(){this.entityInput.valueChanges.pipe((0,d.h)(K=>"string"==typeof K),(0,g.b)(K=>{this.hasNewInput=!0,this.userInput=K}),(0,f.D)(K=>(0,l.H)(K===k.EMPTY_STRING?0:k.INPUT_DEBOUNCE_TIME)),(0,a.x)((K,te)=>te!==k.EMPTY_STRING&&K===te),(0,g.b)(K=>{this.loading=!0,this.changeDetectorRef.markForCheck()}),(0,c.w)(K=>this.autocompleteResults$(K)),(0,r.U)(K=>K.filter(te=>!this.entityIsExcluded(te))),(0,o.R)(this.onDestroy)).subscribe(K=>{this.loading=!1,this.hasNewInput=!1,this.results=K,this.changeDetectorRef.markForCheck()})}autocompleteResults$(K){var te;const Ie=K===k.EMPTY_STRING,ce=Ie&&!this.disableDefaultResults&&(null===(te=this.defaultResults)||void 0===te?void 0:te.length),Re=Ie&&!this.disableDefaultResults;return Ie&&this.disableDefaultResults?(0,y.of)([]):ce&&this.defaultResults?(0,y.of)(this.defaultResults):this.querySearch(K).pipe((0,g.b)(fe=>this.defaultResults=Re?fe:this.defaultResults))}querySearch(K){return this.autocompleteService.query$({inputValue:K,collectionIds:this.collectionIds,parentId:this.parentId,limit:n.y.QUERY_LIMIT}).pipe((0,r.U)(te=>(te.entities||[]).map(Ie=>({label:Ie.identifier.value||"",description:this.getDescription(Ie),imageSrc:this.getImageSrc(Ie.identifier.image_id),uuid:Ie.identifier.uuid,model:Ie}))),(0,_.K)(te=>(this.toastService.showSimpleToast("CBL.COMMON.FAILURE"),(0,y.of)([]))))}setIsDisabled(){this.isDisabled?this.entityInput.disable():this.entityInput.enable()}entityIsExcluded(K){var te;return!!(null===(te=this.excludedUuids)||void 0===te?void 0:te.includes(K.uuid))}}return k.EMPTY_STRING="",k.INPUT_DEBOUNCE_TIME=400,k.\u0275fac=function(K){return new(K||k)(e.Y36(n.y),e.Y36(e.sBO),e.Y36(m.AJ),e.Y36(v.k))},k.\u0275cmp=e.Xpm({type:k,selectors:[["entity-input"]],viewQuery:function(K,te){if(1&K&&e.Gf(b,7),2&K){let Ie;e.iGM(Ie=e.CRH())&&(te.input=Ie.first)}},inputs:{floatLabel:"floatLabel",label:"label",ariaLabel:"ariaLabel",placeholder:"placeholder",collectionIds:"collectionIds",parentId:"parentId",icon:"icon",showImage:"showImage",showAdd:"showAdd",showDescriptionEntityDef:"showDescriptionEntityDef",showDescription:"showDescription",appearance:"appearance",clearButton:"clearButton",disableDefaultResults:"disableDefaultResults",dropdownOrigin:"dropdownOrigin",isSubfield:"isSubfield",isRequired:"isRequired",isDisabled:"isDisabled",disabledTooltip:"disabledTooltip",excludedUuids:"excludedUuids",errors:"errors"},outputs:{chosenEntity:"chosenEntity"},features:[e.TTD],decls:13,vars:19,consts:[[3,"floatLabel","appearance","ngClass"],[3,"label","isSubfield","isRequired","isDisabled","disabledTooltip",4,"ngIf"],["matPrefix",""],[3,"diameter",4,"ngIf"],["size","large",3,"key",4,"ngIf"],["type","search","autocomplete","off","matInput","",3,"formControl","matAutocomplete","matAutocompleteConnectedTo","placeholder","required","focus"],["input",""],["matSuffix","",3,"ngClass",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"entity-input-autocomplete-panel",3,"displayWith","optionSelected"],["auto","matAutocomplete"],["class","entityInputMenuOption input-autocomplete",3,"ngClass","value",4,"ngFor","ngForOf"],["class","entity-input-no-results",3,"disabled",4,"ngIf"],[3,"label","isSubfield","isRequired","isDisabled","disabledTooltip"],[3,"diameter"],["size","large",3,"key"],["matSuffix","",3,"ngClass"],["mat-icon-button","","type","button",3,"click"],["key","icon_close_knockout_round","size","large"],[1,"entityInputMenuOption","input-autocomplete",3,"ngClass","value"],[1,"autocomplete-item","entity-ui-model-content"],["class","entity-ui-model-image","lazyLoadImage","",3,"useIdentifierImgStyle","imgSrc",4,"ngIf"],[1,"entityInfo","entity-ui-model-label"],[4,"ngIf"],["class","add",4,"ngIf"],["lazyLoadImage","",1,"entity-ui-model-image",3,"useIdentifierImgStyle","imgSrc"],[1,"contextual-info"],[1,"add"],["mat-button","",1,"mat-icon-button"],["key","icon_add_circle"],[1,"entity-input-no-results",3,"disabled"]],template:function(K,te){if(1&K&&(e.TgZ(0,"mat-form-field",0),e.YNc(1,B,1,5,"field-label",1),e.TgZ(2,"div",2),e.YNc(3,Q,1,1,"mat-spinner",3),e.YNc(4,$,1,1,"icon",4),e.qZA(),e.TgZ(5,"input",5,6),e.NdJ("focus",function(Te){return te.onFocus(Te)}),e.qZA(),e.YNc(7,q,4,6,"div",7),e.YNc(8,le,2,1,"mat-error",8),e.qZA(),e.TgZ(9,"mat-autocomplete",9,10),e.NdJ("optionSelected",function(Te){return te.chooseEntity(Te)}),e.YNc(11,ne,8,8,"mat-option",11),e.YNc(12,ee,3,7,"mat-option",12),e.qZA()),2&K){const Ie=e.MAs(10);e.Q6J("floatLabel",te.floatLabel)("appearance",te.appearance)("ngClass",e.VKq(17,w,"outline"===te.appearance)),e.xp6(1),e.Q6J("ngIf",te.label),e.xp6(2),e.Q6J("ngIf",te.loading),e.xp6(1),e.Q6J("ngIf",!te.loading),e.xp6(1),e.Q6J("formControl",te.entityInput)("matAutocomplete",Ie)("matAutocompleteConnectedTo",te.dropdownOrigin)("placeholder",te.placeholder)("required",te.isRequired),e.uIk("aria-label",te.ariaLabel),e.xp6(2),e.Q6J("ngIf",te.clearButton),e.xp6(1),e.Q6J("ngForOf",te.errors),e.xp6(1),e.Q6J("displayWith",te.displayWith),e.xp6(2),e.Q6J("ngForOf",te.results),e.xp6(1),e.Q6J("ngIf",!te.hasNewInput&&!te.loading&&te.userInput&&0===(null==te.results?null:te.results.length))}},directives:[h.KE,C.mk,C.O5,S.t,h.qo,I.Ou,T.o,N.Nt,i.Fj,x.ZL,i.JJ,i.oH,i.Q7,h.R9,s.lW,C.sg,h.TO,x.XC,E.ey,H.z],pipes:[V.X],styles:["entity-input{display:inline-block}entity-input .mat-form-field{display:block}entity-input .mat-form-field-prefix{margin-right:8px;height:18px;width:18px;transform:translateY(2px)}entity-input .entity-input-clear-hide{visibility:hidden}.entity-ui-model-content{box-sizing:border-box;display:flex!important;flex-direction:row;justify-content:flex-start;align-items:center;align-content:center;max-width:100%}.entity-ui-model-content>*{max-width:100%;box-sizing:border-box}.entity-ui-model-content .entity-ui-model-image{flex:0 0 auto;box-sizing:border-box}.entity-ui-model-content .entity-ui-model-label{flex:1;box-sizing:border-box}.entity-ui-model-content .entity-ui-model-label>span{display:block}.entity-ui-model-content .entity-ui-model-label>span>span{flex:1;box-sizing:border-box}.entity-input-no-results{font-size:14px}.entityInputMenuOption.singleRowNoIcons{font-size:14px!important;line-height:24px!important;height:24px!important}.mat-autocomplete-panel.entity-input-autocomplete-panel{flex:0 0 auto}@media (min-width: 960px){.mat-autocomplete-panel.entity-input-autocomplete-panel{width:500px}}\n"],encapsulation:2,changeDetection:0}),k})()},84647:(oe,L,t)=>{t.d(L,{t:()=>f});var e=t(3184),i=t(36362),p=t(32478),l=t(40089);function y(a,c){1&a&&(e.TgZ(0,"span",3),e._uU(1,"*"),e.qZA())}function d(a,c){if(1&a&&e._UZ(0,"icon",4),2&a){const r=e.oxw();e.Q6J("matTooltip",r.disabledTooltip)}}const g=function(a){return{isFocused:a}};let f=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275cmp=e.Xpm({type:a,selectors:[["field-label"]],inputs:{label:"label",isRequired:"isRequired",isDisabled:"isDisabled",isFocused:"isFocused",isSubfield:"isSubfield",disabledTooltip:"disabledTooltip"},decls:4,vars:6,consts:[[1,"component--field-label",3,"ngClass"],["class","isRequired",4,"ngIf"],["key","icon_lock","size","large","matTooltipPosition","above",3,"matTooltip",4,"ngIf"],[1,"isRequired"],["key","icon_lock","size","large","matTooltipPosition","above",3,"matTooltip"]],template:function(r,o){1&r&&(e.TgZ(0,"div",0),e._uU(1),e.YNc(2,y,2,0,"span",1),e.YNc(3,d,1,1,"icon",2),e.qZA()),2&r&&(e.Q6J("ngClass",e.VKq(4,g,o.isFocused)),e.xp6(1),e.hij(" ",o.label," "),e.xp6(1),e.Q6J("ngIf",o.isRequired),e.xp6(1),e.Q6J("ngIf",o.isDisabled&&o.disabledTooltip))},directives:[i.mk,i.O5,p.o,l.gM],styles:[".component--field-label{color:#0000008a;transition:color .1s;font-size:12px;margin-bottom:4px}.component--field-label .isRequired{font-weight:500;color:#c73636}.component--field-label.isFocused,.mat-focused .component--field-label{color:#146aff}.mat-form-field-invalid .component--field-label{color:#c73636}\n"],encapsulation:2}),a})()},48611:(oe,L,t)=>{t.d(L,{y:()=>S});var e=t(36362),i=t(90587),p=t(90898),l=t(35503),y=t(68881),d=t(89250),g=t(32519),f=t(40577),a=t(32313),c=t(20902),r=t(85495),o=t(89248),_=t(54596),n=t(20715),m=t(3184);let v=(()=>{class I{}return I.\u0275fac=function(N){return new(N||I)},I.\u0275mod=m.oAB({type:I}),I.\u0275inj=m.cJS({imports:[[e.ez,p.q,g.n,l.Dt,i.UX,a.H,r.E,o.S,_.p,n.W]]}),I})();var h=t(3259),C=t(83447);let S=(()=>{class I{}return I.\u0275fac=function(N){return new(N||I)},I.\u0275mod=m.oAB({type:I}),I.\u0275inj=m.cJS({imports:[[e.ez,p.q,i.u5,i.UX,l.Dt,d.S,y.N,g.n,f.C,a.H,c.n,v,h.u,C.E],v,h.u]}),I})()},72994:(oe,L,t)=>{t.d(L,{H:()=>u});var e=t(3184),i=t(90587),p=t(45398),l=t(64139),y=t(53298),d=t(59151),g=t(88759),f=t(12972),a=t(59095),c=t(86942),r=t(93443),o=t(35560),_=t(55751),m=t(44770),v=t(36362),h=t(84647),C=t(74742),S=t(32478),I=t(43365),T=t(43188),N=t(1130),x=t(87317),s=t(74929);const E=["input"];function H(D,se){if(1&D&&e._UZ(0,"field-label",13),2&D){const ne=e.oxw();e.Q6J("label",ne.label)("isRequired",ne.isRequired)("isDisabled",ne.isDisabled)("disabledTooltip",ne.disabledTooltip)}}function V(D,se){1&D&&e._UZ(0,"mat-spinner",14),2&D&&e.Q6J("diameter",16)}function b(D,se){if(1&D&&e._UZ(0,"icon",15),2&D){const ne=e.oxw();e.Q6J("key",ne.icon)}}function B(D,se){if(1&D&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&D){const ne=se.$implicit;e.xp6(1),e.hij(" ",ne," ")}}function Q(D,se){1&D&&(e.TgZ(0,"button",20),e.ALo(1,"translate"),e._UZ(2,"icon",21),e.qZA()),2&D&&e.uIk("aria-label",e.lcZ(1,1,"CBL.COMMON.ADD"))}function $(D,se){if(1&D&&(e.TgZ(0,"mat-option",16)(1,"div",17)(2,"div",18),e._uU(3),e.qZA(),e.YNc(4,Q,3,3,"button",19),e.qZA()()),2&D){const ne=se.$implicit,_e=e.oxw();e.ekj("has-designation",ne.designation),e.Q6J("value",ne),e.xp6(2),e.uIk("title",ne.name),e.xp6(1),e.hij(" ",ne.name," "),e.xp6(1),e.Q6J("ngIf",_e.showAdd)}}const W=function(D){return{search:D}};function q(D,se){if(1&D&&(e.TgZ(0,"mat-option",22),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&D){const ne=e.oxw();e.Q6J("disabled",!0),e.xp6(1),e.hij(" ",e.xi3(2,2,"CBL.INPUTS.NO_RESULTS_MATCHING",e.VKq(5,W,ne.userInput))," ")}}const le=function(D){return{"cb-form-field-outlined":D}},J=D=>D.designation?-1:1;let u=(()=>{class D{constructor(ne,_e){this.changeDetectorRef=ne,this.listService=_e,this.icon="icon_search",this.showAdd=!0,this.isRequired=!1,this.isDisabled=!1,this.disabledTooltip="",this.errors=[],this.chosenList=new e.vpe,this.listInput=new i.NI,this.loading=!1,this.hasNewInput=!1}ngOnInit(){this.listenForInputChanges()}ngOnChanges(ne){ne.isDisabled&&this.setIsDisabled()}focus(){this.input.nativeElement.focus()}onFocus(ne){this.listInput.setValue(D.EMPTY_STRING)}clearInput(ne){this.listInput.setValue(D.EMPTY_STRING)}chooseList(ne){const _e=ne.option.value;(null==_e?void 0:_e.id)&&(this.chosenList.emit(_e),this.listInput.setValue(D.EMPTY_STRING),this.input.nativeElement.blur())}displayWith(ne){return(null==ne?void 0:ne.name)||""}getFilteredResults(){return this.filterExcludedUuids(this.results)}listenForInputChanges(){this.listInput.valueChanges.pipe((0,y.x)(),(0,d.h)(ne=>"string"==typeof ne),(0,g.b)(ne=>{this.hasNewInput=!0,this.userInput=ne}),(0,f.D)(ne=>(0,p.H)(ne===D.EMPTY_STRING?0:D.INPUT_DEBOUNCE_TIME)),(0,g.b)(ne=>{this.loading=!0,this.changeDetectorRef.markForCheck()}),(0,a.w)(ne=>{if(ne!==D.EMPTY_STRING&&this.defaultResults){const ee=_.go(ne,this.defaultResults,{key:"name"});return(0,l.of)(ee.map(w=>w.obj))}return this.defaultResults?(0,l.of)(this.defaultResults):this.getLists$().pipe((0,c.U)(ee=>[...ee].sort((w,G)=>J(w)-J(G))))})).subscribe(ne=>{this.defaultResults=this.defaultResults||ne,this.handleResultsSuccess(ne)},ne=>{this.handleResultsError()})}filterExcludedUuids(ne){return this.excludedUuids&&this.excludedUuids.length>0&&ne?ne.filter(_e=>{var ee;return!(null===(ee=this.excludedUuids)||void 0===ee?void 0:ee.includes(_e.id))}):ne}getLists$(){return this.listService.getLists$(r.BW.ListTypeEnum.static)}setIsDisabled(){this.isDisabled?this.listInput.disable():this.listInput.enable()}handleResultsSuccess(ne){this.loading=!1,this.hasNewInput=!1,this.results=ne,this.changeDetectorRef.markForCheck()}handleResultsError(){this.loading=!1,this.hasNewInput=!1,this.results=[],this.changeDetectorRef.markForCheck()}}return D.EMPTY_STRING="",D.INPUT_DEBOUNCE_TIME=400,D.\u0275fac=function(ne){return new(ne||D)(e.Y36(e.sBO),e.Y36(o.XN))},D.\u0275cmp=e.Xpm({type:D,selectors:[["list-input"]],viewQuery:function(ne,_e){if(1&ne&&e.Gf(E,7),2&ne){let ee;e.iGM(ee=e.CRH())&&(_e.input=ee.first)}},inputs:{floatLabel:"floatLabel",label:"label",placeholder:"placeholder",icon:"icon",showAdd:"showAdd",appearance:"appearance",isRequired:"isRequired",isDisabled:"isDisabled",disabledTooltip:"disabledTooltip",excludedUuids:"excludedUuids",errors:"errors"},outputs:{chosenList:"chosenList"},features:[e.TTD],decls:13,vars:18,consts:[[3,"floatLabel","appearance","ngClass"],[3,"label","isRequired","isDisabled","disabledTooltip",4,"ngIf"],["matPrefix",""],[3,"diameter",4,"ngIf"],["size","large",3,"key",4,"ngIf"],["type","search","autocomplete","off","matInput","",3,"formControl","matAutocomplete","placeholder","required","focus"],["input",""],[4,"ngFor","ngForOf"],[3,"displayWith","optionSelected"],["auto","matAutocomplete"],[1,"list-option-container"],["class","list-option",3,"has-designation","value",4,"ngFor","ngForOf"],["class","cb-font-size-default",3,"disabled",4,"ngIf"],[3,"label","isRequired","isDisabled","disabledTooltip"],[3,"diameter"],["size","large",3,"key"],[1,"list-option",3,"value"],[1,"option-content"],[1,"entityInfo"],["mat-button","","class","mat-icon-button",4,"ngIf"],["mat-button","",1,"mat-icon-button"],["key","icon_add_circle"],[1,"cb-font-size-default",3,"disabled"]],template:function(ne,_e){if(1&ne&&(e.TgZ(0,"mat-form-field",0),e.YNc(1,H,1,4,"field-label",1),e.TgZ(2,"div",2),e.YNc(3,V,1,1,"mat-spinner",3),e.YNc(4,b,1,1,"icon",4),e.qZA(),e.TgZ(5,"input",5,6),e.NdJ("focus",function(w){return _e.onFocus(w)}),e.qZA(),e.YNc(7,B,2,1,"mat-error",7),e.qZA(),e.TgZ(8,"mat-autocomplete",8,9),e.NdJ("optionSelected",function(w){return _e.chooseList(w)}),e.TgZ(10,"div",10),e.YNc(11,$,5,6,"mat-option",11),e.YNc(12,q,3,7,"mat-option",12),e.qZA()()),2&ne){const ee=e.MAs(9);e.ekj("cb-form-field-outlined","outline"===_e.appearance),e.Q6J("floatLabel",_e.floatLabel)("appearance",_e.appearance)("ngClass",e.VKq(16,le,"outline"===_e.appearance)),e.xp6(1),e.Q6J("ngIf",_e.label),e.xp6(2),e.Q6J("ngIf",_e.loading),e.xp6(1),e.Q6J("ngIf",!_e.loading),e.xp6(1),e.Q6J("formControl",_e.listInput)("matAutocomplete",ee)("placeholder",_e.placeholder)("required",_e.isRequired),e.xp6(2),e.Q6J("ngForOf",_e.errors),e.xp6(1),e.Q6J("displayWith",_e.displayWith),e.xp6(3),e.Q6J("ngForOf",_e.getFilteredResults()),e.xp6(1),e.Q6J("ngIf",!_e.hasNewInput&&!_e.loading&&_e.userInput&&0===(null==_e.results?null:_e.results.length))}},directives:[m.KE,v.mk,v.O5,h.t,m.qo,C.Ou,S.o,I.Nt,i.Fj,T.ZL,i.JJ,i.oH,i.Q7,v.sg,m.TO,T.XC,N.ey,x.lW],pipes:[s.X],styles:["[_nghost-%COMP%]{display:inline-block}[_nghost-%COMP%]  .mat-form-field-prefix{margin-right:8px;height:18px;width:18px;transform:translateY(2px)}.list-option-container[_ngcontent-%COMP%]{margin:8px 0}.mat-form-field[_ngcontent-%COMP%]{display:block}mat-option[_ngcontent-%COMP%]{padding:0;font-size:14px;height:24px}mat-option.has-designation[_ngcontent-%COMP%]{background-color:#ebf7fb}.option-content[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between}.option-content[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin:0 8px;overflow:hidden;text-overflow:ellipsis}"],changeDetection:0}),D})()},3259:(oe,L,t)=>{t.d(L,{u:()=>f});var e=t(20715),i=t(90898),p=t(90587),l=t(35503),y=t(32313),d=t(36362),g=t(3184);let f=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=g.oAB({type:a}),a.\u0275inj=g.cJS({imports:[[d.ez,p.UX,i.q,l.Dt,e.W,y.H]]}),a})()},66281:(oe,L,t)=>{t.d(L,{e:()=>x});var e=t(3184),i=t(90587),p=t(92938),y=t(36362),d=t(84647),g=t(69489),f=t(44770),a=t(32478),c=t(43365),r=t(43188),o=t(1130),_=t(74929);function n(s,E){if(1&s&&e._UZ(0,"field-label",13),2&s){const H=e.oxw();e.Q6J("label",H.label)("isSubfield",H.isSubfield)("isFocused",H.isFocused)("isRequired",H.isRequired)("isDisabled",H.isDisabled)("disabledTooltip",H.disabledTooltip)}}function m(s,E){if(1&s){const H=e.EpF();e.TgZ(0,"chip",14),e.NdJ("remove",function(){const B=e.CHM(H).$implicit;return e.oxw().deselectOption(B)}),e._uU(1),e.qZA()}if(2&s){const H=E.$implicit,V=e.oxw();e.Q6J("removable",!V.isDisabled),e.xp6(1),e.hij(" ",H.label," ")}}function v(s,E){if(1&s&&(e.TgZ(0,"div",15),e._UZ(1,"icon",16),e.qZA()),2&s){const H=e.oxw();e.xp6(1),e.Q6J("key",H.icon)}}function h(s,E){if(1&s&&(e.TgZ(0,"mat-hint"),e._uU(1),e.qZA()),2&s){const H=e.oxw();e.xp6(1),e.hij(" ",H.placeholder," ")}}function C(s,E){if(1&s&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&s){const H=E.$implicit;e.xp6(1),e.hij(" ",H," ")}}function S(s,E){if(1&s&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&s){const H=E.$implicit;e.xp6(1),e.hij(" ",H," ")}}function I(s,E){if(1&s){const H=e.EpF();e.TgZ(0,"mat-option",17),e.NdJ("onSelectionChange",function(b){const Q=e.CHM(H).$implicit;return e.oxw().selectOption(Q,b.source.selected)}),e._uU(1),e.qZA()}if(2&s){const H=E.$implicit,V=e.oxw();e.Q6J("value",H.value)("disabled",V.isOptionSelected(H)),e.xp6(1),e.hij(" ",H.label," ")}}const T=function(s){return{search:s}};function N(s,E){if(1&s&&(e.TgZ(0,"mat-option",18),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s){const H=e.oxw();e.Q6J("disabled",!0),e.xp6(1),e.hij(" ",e.xi3(2,2,"CBL.INPUTS.NO_RESULTS_MATCHING",e.VKq(5,T,H.textInput))," ")}}let x=(()=>{class s{constructor(){this.selectedOptions=[],this.wrapChips=!0,this.isSubfield=!1,this.isRequired=!1,this.isDisabled=!1,this.disabledTooltip="",this.errors=[],this.valueChange=new e.vpe,this.filteredOptions=[],this.multiSelectInput=new i.NI}ngOnInit(){this.inputSubscription=this.multiSelectInput.valueChanges.subscribe(H=>this.setTextAndFilter(H)),this.selectedOptions=this.selectedOptions||[],this.filterOptions()}ngOnDestroy(){this.inputSubscription&&this.inputSubscription.unsubscribe()}ngOnChanges(H){H.isDisabled&&this.setIsDisabled()}onFocus(){this.isFocused=!0,this.setTextAndFilter("")}onBlur(){this.isFocused=!1}selectOption(H,V){if(H){let b=this.isOptionSelected(H);V&&!b&&(this.selectedOptions||(this.selectedOptions=[]),this.selectedOptions.push(H),this.valueChange.emit(this.selectedOptions),this.filterOptions())}}deselectOption(H){H&&this.isOptionSelected(H)&&((0,p.remove)(this.selectedOptions,V=>(0,p.isEqual)(V,H)),this.valueChange.emit(this.selectedOptions),this.filterOptions())}isOptionSelected(H){return(0,p.includes)(this.selectedOptions,H)}getOptionName(H){return(null==H?void 0:H.label)?H.label:""}setIsDisabled(){this.isDisabled?this.multiSelectInput.disable():this.multiSelectInput.enable()}setTextAndFilter(H){this.textInput=H,this.filterOptions()}filterOptions(){let H=(0,p.map)(this.selectedOptions,V=>V.value);this.filteredOptions=(0,p.filter)(this.options,V=>{let b=!(0,p.includes)(H,V.value),B=!0;return this.textInput&&(B=(0,p.includes)((0,p.toLower)(V.label),(0,p.toLower)(this.textInput))),b&&B})}}return s.\u0275fac=function(H){return new(H||s)},s.\u0275cmp=e.Xpm({type:s,selectors:[["multi-select-input"]],inputs:{label:"label",placeholder:"placeholder",selectedOptions:"selectedOptions",options:"options",icon:"icon",dropdownOrigin:"dropdownOrigin",wrapChips:"wrapChips",isSubfield:"isSubfield",isRequired:"isRequired",isDisabled:"isDisabled",disabledTooltip:"disabledTooltip",errors:"errors"},outputs:{valueChange:"valueChange"},features:[e.TTD],decls:14,vars:16,consts:[[1,"component--input","component--multi-select-input"],[3,"label","isSubfield","isFocused","isRequired","isDisabled","disabledTooltip",4,"ngIf"],[1,"chips-container"],[3,"removable","remove",4,"ngFor","ngForOf"],["floatLabel","never"],["matPrefix","","class","icon",4,"ngIf"],["type","search","autocomplete","off","matInput","",3,"formControl","matAutocomplete","matAutocompleteConnectedTo","placeholder","required","focus","blur"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"input-autocomplete",3,"displayWith"],["auto","matAutocomplete"],["class","text-autocomplete-item",3,"value","disabled","onSelectionChange",4,"ngFor","ngForOf"],[3,"disabled",4,"ngIf"],[3,"label","isSubfield","isFocused","isRequired","isDisabled","disabledTooltip"],[3,"removable","remove"],["matPrefix","",1,"icon"],["size","large",3,"key"],[1,"text-autocomplete-item",3,"value","disabled","onSelectionChange"],[3,"disabled"]],template:function(H,V){if(1&H&&(e.TgZ(0,"form",0),e.YNc(1,n,1,6,"field-label",1),e.TgZ(2,"div",2),e.YNc(3,m,2,2,"chip",3),e.TgZ(4,"mat-form-field",4),e.YNc(5,v,2,1,"div",5),e.TgZ(6,"input",6),e.NdJ("focus",function(){return V.onFocus()})("blur",function(){return V.onBlur()}),e.qZA(),e.YNc(7,h,2,1,"mat-hint",7),e.YNc(8,C,2,1,"mat-error",8),e.qZA()(),e.YNc(9,S,2,1,"mat-error",8),e.TgZ(10,"mat-autocomplete",9,10),e.YNc(12,I,2,3,"mat-option",11),e.YNc(13,N,3,7,"mat-option",12),e.qZA()()),2&H){const b=e.MAs(11);e.xp6(1),e.Q6J("ngIf",V.label),e.xp6(1),e.ekj("wrap-chips",V.wrapChips),e.xp6(1),e.Q6J("ngForOf",V.selectedOptions),e.xp6(2),e.Q6J("ngIf",V.icon),e.xp6(1),e.Q6J("formControl",V.multiSelectInput)("matAutocomplete",b)("matAutocompleteConnectedTo",V.dropdownOrigin)("placeholder",V.label&&V.placeholder?"":V.placeholder)("required",V.isRequired),e.xp6(1),e.Q6J("ngIf",V.label&&V.placeholder),e.xp6(1),e.Q6J("ngForOf",V.errors),e.xp6(1),e.Q6J("ngForOf",V.errors),e.xp6(1),e.Q6J("displayWith",V.getOptionName),e.xp6(2),e.Q6J("ngForOf",V.filteredOptions),e.xp6(1),e.Q6J("ngIf",V.textInput&&!V.filteredOptions.length)}},directives:[i._Y,i.JL,i.F,y.O5,d.t,y.sg,g.Y,f.KE,f.qo,a.o,c.Nt,i.Fj,r.ZL,i.JJ,i.oH,i.Q7,f.bx,f.TO,r.XC,o.ey],pipes:[_.X],styles:[".component--multi-select-input .chips-container{box-sizing:border-box;display:flex!important;flex-direction:row;justify-content:flex-start;align-items:center;align-content:center;max-width:100%}.component--multi-select-input .chips-container>*{max-width:100%;box-sizing:border-box}.component--multi-select-input .chips-container.wrap-chips{flex-wrap:wrap}.component--multi-select-input .chips-container chip{margin-right:8px;white-space:nowrap}.component--multi-select-input .chips-container mat-form-field{flex:1;box-sizing:border-box}.component--multi-select-input input.mat-input-element{min-width:300px}.component--multi-select-input .icon{margin-right:8px}edit .component--multi-select-input>div{flex-wrap:wrap}\n"],encapsulation:2}),s})()},98916:(oe,L,t)=>{t.d(L,{u:()=>p});var e=t(2529),i=t.n(e);class p{constructor(y){this.precision=(y=y||{}).precision||10,this.isPercentage=y.isPercentage||!1,this.formatString=this.getFormatString()}format(y){return null==y?"":(y=this.isPercentage?100*y:y,i()(y).format(this.formatString,Math.floor))}parse(y){if("number"==typeof y)return y;y=(y||"").toLowerCase().trim();let d=i()(y).value();return d=this.isPercentage?d/100:d,null!=d&&(d=Number(d.toFixed(this.precision))),null===d&&y&&(d=0),null==d?void 0:d}getFormatString(){let y="0,0";if(0===this.precision)return y;y+=".[";for(let d=0;d<this.precision;d++)y+="0";return y+="]",y}}},48212:(oe,L,t)=>{t.d(L,{x:()=>g});var e=t(36362),i=t(45857),p=t(90898),l=t(35503),y=t(32519),d=t(3184);let g=(()=>{class f{}return f.\u0275fac=function(c){return new(c||f)},f.\u0275mod=d.oAB({type:f}),f.\u0275inj=d.cJS({imports:[[e.ez,i.Bz,p.q,l.Dt,y.n]]}),f})()},38860:(oe,L,t)=>{t.d(L,{q:()=>f});var e=t(469),i=t(3184),p=t(19946),l=t(36362),y=t(32478);function d(a,c){if(1&a&&(i.TgZ(0,"div",2),i._UZ(1,"icon",3),i.qZA()),2&a){const r=i.oxw();i.Udp("background-color",r.themeColor),i.xp6(1),i.Q6J("key",r.themeIconId)}}const g=["*"];let f=(()=>{class a{constructor(r){this.themeService=r,this.themeId=a.DEFAULT_THEME_ID,this.showIcon=!1}ngOnChanges(){this.themeId=this.themeId||a.DEFAULT_THEME_ID,this.themeColor=this.themeService.getColor(this.themeId),this.themeIconId=this.showIcon?this.themeService.getIcon(this.themeId):void 0}}return a.DEFAULT_THEME_ID="default",a.\u0275fac=function(r){return new(r||a)(i.Y36(e.f))},a.\u0275cmp=i.Xpm({type:a,selectors:[["page-header"]],inputs:{themeId:"themeId",showIcon:"showIcon"},features:[i.TTD],ngContentSelectors:g,decls:3,vars:4,consts:[[1,"mat-elevation-z5","layout-row",3,"ngClass"],["class","hide-print icon-container flex-none cb-margin-large-right layout-row layout-align-center-center",3,"background-color",4,"ngIf"],[1,"hide-print","icon-container","flex-none","cb-margin-large-right","layout-row","layout-align-center-center"],["color","light",3,"key"]],template:function(r,o){1&r&&(i.F$t(),i.TgZ(0,"mat-toolbar",0),i.YNc(1,d,2,3,"div",1),i.Hsn(2),i.qZA()),2&r&&(i.Udp("border-left-color",o.themeColor),i.Q6J("ngClass",o.themeIconId?"has-icon":"has-accent"),i.xp6(1),i.Q6J("ngIf",o.themeIconId))},directives:[p.Ye,l.mk,l.O5,y.o],styles:["page-header{display:block;background:white!important;color:#282828!important}page-header h1{font-size:20px}page-header .has-accent{border-left-width:8px;border-left-style:solid}page-header .has-icon{padding:0 8px 0 0}page-header .icon-container{height:55px;width:55px;transition:background-color .1s}page-header .mat-button{min-width:0}@media print{page-header{padding-left:20px!important}page-header h1{font-size:36px!important;font-weight:500!important}}\n"],encapsulation:2,changeDetection:0}),a})()},58798:(oe,L,t)=>{t.d(L,{w:()=>I});var e=t(70397),i=t(85921),p=t(92218),l=t(3184),y=t(36362),d=t(13074),g=t(97010),f=t(67681),a=t(25458),c=t(32478),r=t(45857),o=t(74929);const _=function(){return{editNotifications:"true"}},n=function(T){return{year:T}};let m=(()=>{class T{constructor(x,s,E){this.urlService=x,this.bootstrapService=s,this.imageService=E,this.aboutLinks={aboutUs:this.urlService.getAboutCrunchbaseUrl("about-us"),careers:this.urlService.getAboutCrunchbaseUrl("about-us/careers"),partners:this.urlService.getAboutCrunchbaseUrl("partners"),press:this.urlService.getAboutCrunchbaseUrl("pressroom"),blog:this.urlService.getAboutCrunchbaseUrl("blog"),contactUs:this.urlService.getAboutCrunchbaseUrl("about-us/contact-us"),products:{crunchbasePro:this.urlService.getAboutCrunchbaseUrl("products/crunchbase-pro"),marketplace:this.urlService.getMarketplaceUrl(),crunchbaseEnterprise:this.urlService.getAboutCrunchbaseUrl("products/crunchbase-enterprise"),crunchbaseForApplications:this.urlService.getAboutCrunchbaseUrl("products/crunchbase-for-applications"),pricing:"/buy/select-product",theCrunchbaseDifference:this.urlService.getAboutCrunchbaseUrl("products/the-crunchbase-difference")},resources:{customerStories:this.urlService.getAboutCrunchbaseUrl("customers"),knowledgeCenter:this.urlService.getKnowledgeUrl()},privacy:this.urlService.getPrivacyPolicyUrl(),doNotSellMyInfo:this.urlService.getPreferencesUrl("dont_sell")},this.currentYear=(new Date).getFullYear(),this.appVersion=f.k.sha,this.runId=this.bootstrapService.getRunId(),this.appRevision=this.bootstrapService.getAppRevision(),this.setupNavLinks()}setupNavLinks(){this.cbLogoUrl=this.imageService.getOriginalPublicImageUrl(g.Wh.logos.white),this.newsUrl=this.urlService.getNewsCrunchbaseUrl(),this.termsUrl=this.urlService.getTermsOfServiceUrl(),this.privacyPolicyUrl=this.urlService.getPrivacyPolicyUrl()}}return T.\u0275fac=function(x){return new(x||T)(l.Y36(d.iO),l.Y36(a.Qn),l.Y36(g.AJ))},T.\u0275cmp=l.Xpm({type:T,selectors:[["page-footer"]],decls:180,vars:210,consts:function(){let N,x,s,E,H;return N=$localize`:␟82af80ed135d5df6bca24e949362731dc41a3f53␟6292663472472461751:Stay Connected`,x=$localize`:␟83d05ca31c9517d34be1cf874457b73ceca2cc7d␟4428615029049824725:Who We Are`,s=$localize`:␟4dffd4060d7c73518d68029c44ecd2ca3fe3a619␟3807104224559976092:What We Do`,E=$localize`:␟1d44092910da3ace281acb597d76de9eaca3e7ba␟4691338358949046254:Helpful Links`,H=$localize`:␟3dd2c3dc51c08f6ef7ecb12339836ed05c23b5a2␟3167508675629672152: Sitemap `,[[1,"hide-print","layout-row","layout-align-center-stretch"],[1,"footer-wrapper","layout-row","flex-gt-sm-noshrink"],["key","icon_trademark","color","primary","size","xxlarge",1,"cb-margin-medium-right"],[1,"logo",3,"src","alt"],[1,"hide-print","cb-margin-large-vertical","cb-overflow-y-only","layout-row","layout-align-center-stretch"],[1,"footer-wrapper","layout-row","layout-wrap","flex-gt-sm-noshrink"],[1,"flex-100","flex-gt-sm-33","flex-order-gt-sm-0","flex-order-2"],[1,"footer-links-label"],N,[1,"cb-margin-medium-right"],["rel","noopener","target","_blank",3,"href"],["routerLink","/account",3,"queryParams"],[1,"cb-margin-medium-top"],["href","https://twitter.com/crunchbase","rel","noopener","target","_blank",1,"cb-margin-medium-right","cb-text-color-white",3,"title"],["key","icon_twitter_circle","color","light",1,"cb-margin-xxsmall-right"],["href","https://www.facebook.com/crunchbase/","rel","noopener","target","_blank",1,"cb-margin-medium-right","cb-text-color-white",3,"title"],["key","icon_facebook","color","light",1,"cb-margin-xxsmall-right"],["href","https://www.linkedin.com/company/crunchbase","rel","noopener","target","_blank",1,"cb-margin-medium-right","cb-text-color-white",3,"title"],["key","icon_linkedin_circle","color","light",1,"cb-margin-xxsmall-right"],["href","https://instagram.com/crunchbase","rel","noopener","target","_blank",1,"cb-margin-medium-right","cb-text-color-white",3,"title"],["key","icon_instagram_circle","color","light",1,"cb-margin-xxsmall-right"],[1,"flex-100","flex-gt-sm-66","layout-row","layout-align-end-stretch","flex-order-gt-sm-0","flex-order-1"],[1,"flex-33"],x,s,["rel","noopener",3,"routerLink"],E,["routerLink","/add-new"],["routerLink","/featured"],[1,"hide-print"],[1,"hide-print","cb-margin-large-top","cb-margin-large-bottom","cb-text-align-center"],[1,"cb-font-weight-bold"],["routerLink","/sitemap/organizations",1,"cb-font-weight-bold"],["routerLink","/sitemap/people",1,"cb-font-weight-bold"],["routerLink","/sitemap/events",1,"cb-font-weight-bold"],[1,"cb-margin-large-top","cb-text-align-center"],["target","_blank",1,"hide-print",3,"href"],["routerLink","/sitemap",1,"hide-print"],H,[1,"hide-print","version","cb-nowrap"]]},template:function(x,s){1&x&&(l.TgZ(0,"div",0)(1,"div",1),l._UZ(2,"icon",2)(3,"img",3),l.ALo(4,"translate"),l.qZA()(),l.TgZ(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7),l.SDv(9,8),l.qZA(),l.TgZ(10,"ul",9)(11,"li")(12,"a",10),l.ALo(13,"translate"),l._uU(14),l.ALo(15,"translate"),l.qZA()(),l.TgZ(16,"li")(17,"a",11),l.ALo(18,"translate"),l._uU(19),l.ALo(20,"translate"),l.qZA()(),l.TgZ(21,"li",12)(22,"a",13),l.ALo(23,"translate"),l.ALo(24,"translate"),l._UZ(25,"icon",14),l.qZA(),l.TgZ(26,"a",15),l.ALo(27,"translate"),l.ALo(28,"translate"),l._UZ(29,"icon",16),l.qZA(),l.TgZ(30,"a",17),l.ALo(31,"translate"),l.ALo(32,"translate"),l._UZ(33,"icon",18),l.qZA(),l.TgZ(34,"a",19),l.ALo(35,"translate"),l.ALo(36,"translate"),l._UZ(37,"icon",20),l.qZA()()()(),l.TgZ(38,"div",21)(39,"div",22)(40,"div",7),l.SDv(41,23),l.qZA(),l.TgZ(42,"ul",9)(43,"li")(44,"a",10),l.ALo(45,"translate"),l._uU(46),l.ALo(47,"translate"),l.qZA()(),l.TgZ(48,"li")(49,"a",10),l.ALo(50,"translate"),l._uU(51),l.ALo(52,"translate"),l.qZA()(),l.TgZ(53,"li")(54,"a",10),l.ALo(55,"translate"),l._uU(56),l.ALo(57,"translate"),l.qZA()(),l.TgZ(58,"li")(59,"a",10),l.ALo(60,"translate"),l._uU(61),l.ALo(62,"translate"),l.qZA()(),l.TgZ(63,"li")(64,"a",10),l.ALo(65,"translate"),l._uU(66),l.ALo(67,"translate"),l.qZA()(),l.TgZ(68,"li")(69,"a",10),l.ALo(70,"translate"),l._uU(71),l.ALo(72,"translate"),l.qZA()()()(),l.TgZ(73,"div",22)(74,"div",7),l.SDv(75,24),l.qZA(),l.TgZ(76,"ul",9)(77,"li")(78,"a",10),l.ALo(79,"translate"),l._uU(80),l.ALo(81,"translate"),l.qZA()(),l.TgZ(82,"li")(83,"a",10),l.ALo(84,"translate"),l._uU(85),l.ALo(86,"translate"),l.qZA()(),l.TgZ(87,"li")(88,"a",10),l.ALo(89,"translate"),l._uU(90),l.ALo(91,"translate"),l.qZA()(),l.TgZ(92,"li")(93,"a",10),l.ALo(94,"translate"),l._uU(95),l.ALo(96,"translate"),l.qZA()(),l.TgZ(97,"li")(98,"a",10),l.ALo(99,"translate"),l._uU(100),l.ALo(101,"translate"),l.qZA()(),l.TgZ(102,"li")(103,"a",25),l.ALo(104,"translate"),l._uU(105),l.ALo(106,"translate"),l.qZA()()()(),l.TgZ(107,"div",22)(108,"div",7),l.SDv(109,26),l.qZA(),l.TgZ(110,"ul",9)(111,"li")(112,"a",27),l.ALo(113,"translate"),l._uU(114),l.ALo(115,"translate"),l.qZA()(),l.TgZ(116,"li")(117,"a",28),l.ALo(118,"translate"),l._uU(119),l.ALo(120,"translate"),l.qZA()(),l.TgZ(121,"li")(122,"a",10),l.ALo(123,"translate"),l._uU(124),l.ALo(125,"translate"),l.qZA()(),l.TgZ(126,"li")(127,"a",10),l.ALo(128,"translate"),l._uU(129),l.ALo(130,"translate"),l.qZA()(),l.TgZ(131,"li")(132,"a",10),l.ALo(133,"translate"),l._uU(134),l.ALo(135,"translate"),l.qZA()(),l.TgZ(136,"li")(137,"a",10),l.ALo(138,"translate"),l._uU(139),l.ALo(140,"translate"),l.qZA()()()()()()(),l._UZ(141,"hr",29),l.TgZ(142,"div",30)(143,"span",31),l._uU(144),l.ALo(145,"translate"),l.qZA(),l.TgZ(146,"a",32),l.ALo(147,"translate"),l._uU(148),l.ALo(149,"translate"),l.qZA(),l.TgZ(150,"a",33),l.ALo(151,"translate"),l._uU(152),l.ALo(153,"translate"),l.qZA(),l.TgZ(154,"a",34),l.ALo(155,"translate"),l._uU(156),l.ALo(157,"translate"),l.qZA()(),l._UZ(158,"hr"),l.TgZ(159,"div",35)(160,"a",36),l.ALo(161,"translate"),l._uU(162),l.ALo(163,"translate"),l.qZA(),l.TgZ(164,"span",29),l._uU(165,"|"),l.qZA(),l.TgZ(166,"a",36),l.ALo(167,"translate"),l._uU(168),l.ALo(169,"translate"),l.qZA(),l.TgZ(170,"span",29),l._uU(171,"|"),l.qZA(),l.TgZ(172,"a",37),l.SDv(173,38),l.qZA(),l.TgZ(174,"span",29),l._uU(175,"|"),l.qZA(),l._uU(176),l.ALo(177,"translate"),l.TgZ(178,"span",39),l._uU(179),l.qZA()()),2&x&&(l.xp6(3),l.Q6J("src",s.cbLogoUrl,l.LSH)("alt",l.lcZ(4,84,"CBL.COMMON.CRUNCHBASE")),l.xp6(9),l.Q6J("href",s.newsUrl,l.LSH),l.uIk("aria-label",l.lcZ(13,86,"CBL.NAV.FOOTER.NEWS")),l.xp6(2),l.hij(" ",l.lcZ(15,88,"CBL.NAV.FOOTER.NEWS")," "),l.xp6(3),l.Q6J("queryParams",l.DdM(207,_)),l.uIk("aria-label",l.lcZ(18,90,"CBL.NAV.FOOTER.SUBSCRIBE")),l.xp6(2),l.hij(" ",l.lcZ(20,92,"CBL.NAV.FOOTER.SUBSCRIBE")," "),l.xp6(3),l.Q6J("title",l.lcZ(23,94,"CBL.COMMON.CB_TWITTER")),l.uIk("aria-label",l.lcZ(24,96,"CBL.COMMON.CB_TWITTER")),l.xp6(4),l.Q6J("title",l.lcZ(27,98,"CBL.COMMON.CB_FACEBOOK")),l.uIk("aria-label",l.lcZ(28,100,"CBL.COMMON.CB_FACEBOOK")),l.xp6(4),l.Q6J("title",l.lcZ(31,102,"CBL.COMMON.CB_LINKEDIN")),l.uIk("aria-label",l.lcZ(32,104,"CBL.COMMON.CB_LINKEDIN")),l.xp6(4),l.Q6J("title",l.lcZ(35,106,"CBL.COMMON.CB_INSTAGRAM")),l.uIk("aria-label",l.lcZ(36,108,"CBL.COMMON.CB_INSTAGRAM")),l.xp6(10),l.Q6J("href",s.aboutLinks.aboutUs,l.LSH),l.uIk("aria-label",l.lcZ(45,110,"CBL.NAV.FOOTER.COMPANY")),l.xp6(2),l.hij(" ",l.lcZ(47,112,"CBL.NAV.FOOTER.COMPANY")," "),l.xp6(3),l.Q6J("href",s.aboutLinks.careers,l.LSH),l.uIk("aria-label",l.lcZ(50,114,"CBL.NAV.FOOTER.CAREERS")),l.xp6(2),l.hij(" ",l.lcZ(52,116,"CBL.NAV.FOOTER.CAREERS")," "),l.xp6(3),l.Q6J("href",s.aboutLinks.partners,l.LSH),l.uIk("aria-label",l.lcZ(55,118,"CBL.NAV.FOOTER.PARTNERS")),l.xp6(2),l.hij(" ",l.lcZ(57,120,"CBL.NAV.FOOTER.PARTNERS")," "),l.xp6(3),l.Q6J("href",s.aboutLinks.blog,l.LSH),l.uIk("aria-label",l.lcZ(60,122,"CBL.NAV.FOOTER.BLOG")),l.xp6(2),l.hij(" ",l.lcZ(62,124,"CBL.NAV.FOOTER.BLOG")," "),l.xp6(3),l.Q6J("href",s.aboutLinks.press,l.LSH),l.uIk("aria-label",l.lcZ(65,126,"CBL.NAV.FOOTER.PRESS")),l.xp6(2),l.hij(" ",l.lcZ(67,128,"CBL.NAV.FOOTER.PRESS")," "),l.xp6(3),l.Q6J("href",s.aboutLinks.contactUs,l.LSH),l.uIk("aria-label",l.lcZ(70,130,"CBL.NAV.FOOTER.CONTACT_US")),l.xp6(2),l.hij(" ",l.lcZ(72,132,"CBL.NAV.FOOTER.CONTACT_US")," "),l.xp6(7),l.Q6J("href",s.aboutLinks.products.crunchbasePro,l.LSH),l.uIk("aria-label",l.lcZ(79,134,"CBL.NAV.FOOTER.PRO")),l.xp6(2),l.hij(" ",l.lcZ(81,136,"CBL.NAV.FOOTER.PRO")," "),l.xp6(3),l.Q6J("href",s.aboutLinks.products.marketplace,l.LSH),l.uIk("aria-label",l.lcZ(84,138,"CBL.NAV.FOOTER.MARKETPLACE")),l.xp6(2),l.hij(" ",l.lcZ(86,140,"CBL.NAV.FOOTER.MARKETPLACE")," "),l.xp6(3),l.Q6J("href",s.aboutLinks.products.crunchbaseEnterprise,l.LSH),l.uIk("aria-label",l.lcZ(89,142,"CBL.NAV.FOOTER.ENTERPRISE")),l.xp6(2),l.hij(" ",l.lcZ(91,144,"CBL.NAV.FOOTER.ENTERPRISE")," "),l.xp6(3),l.Q6J("href",s.aboutLinks.products.crunchbaseForApplications,l.LSH),l.uIk("aria-label",l.lcZ(94,146,"CBL.NAV.FOOTER.FOR_APPS")),l.xp6(2),l.hij(" ",l.lcZ(96,148,"CBL.NAV.FOOTER.FOR_APPS")," "),l.xp6(3),l.Q6J("href",s.aboutLinks.resources.customerStories,l.LSH),l.uIk("aria-label",l.lcZ(99,150,"CBL.NAV.FOOTER.CUSTOMER_STORIES")),l.xp6(2),l.hij(" ",l.lcZ(101,152,"CBL.NAV.FOOTER.CUSTOMER_STORIES")," "),l.xp6(3),l.Q6J("routerLink",s.aboutLinks.products.pricing),l.uIk("aria-label",l.lcZ(104,154,"CBL.NAV.FOOTER.PRICING")),l.xp6(2),l.hij(" ",l.lcZ(106,156,"CBL.NAV.FOOTER.PRICING")," "),l.xp6(7),l.uIk("aria-label",l.lcZ(113,158,"CBL.NAV.FOOTER.CREATE_A_PROFILE")),l.xp6(2),l.hij(" ",l.lcZ(115,160,"CBL.NAV.FOOTER.CREATE_A_PROFILE")," "),l.xp6(3),l.uIk("aria-label",l.lcZ(118,162,"CBL.NAV.FOOTER.FEATURED_LISTS")),l.xp6(2),l.hij(" ",l.lcZ(120,164,"CBL.NAV.FOOTER.FEATURED_LISTS")," "),l.xp6(3),l.Q6J("href",s.aboutLinks.products.theCrunchbaseDifference,l.LSH),l.uIk("aria-label",l.lcZ(123,166,"CBL.NAV.FOOTER.DIFFERENCE")),l.xp6(2),l.hij(" ",l.lcZ(125,168,"CBL.NAV.FOOTER.DIFFERENCE")," "),l.xp6(3),l.Q6J("href",s.aboutLinks.resources.knowledgeCenter,l.LSH),l.uIk("aria-label",l.lcZ(128,170,"CBL.NAV.FOOTER.KNOWLEDGE_CENTER")),l.xp6(2),l.hij(" ",l.lcZ(130,172,"CBL.NAV.FOOTER.KNOWLEDGE_CENTER")," "),l.xp6(3),l.Q6J("href",s.aboutLinks.privacy,l.LSH),l.uIk("aria-label",l.lcZ(133,174,"CBL.COMMON.PRIVACY")),l.xp6(2),l.hij(" ",l.lcZ(135,176,"CBL.COMMON.PRIVACY")," "),l.xp6(3),l.Q6J("href",s.aboutLinks.doNotSellMyInfo,l.LSH),l.uIk("aria-label",l.lcZ(138,178,"CBL.NAV.FOOTER.DO_NOT_SELL_MY_INFO")),l.xp6(2),l.hij(" ",l.lcZ(140,180,"CBL.NAV.FOOTER.DO_NOT_SELL_MY_INFO")," "),l.xp6(5),l.hij(" ",l.lcZ(145,182,"CBL.NAV.FOOTER.BROWSE_BY"),": "),l.xp6(2),l.uIk("aria-label",l.lcZ(147,184,"CBL.NAV.FOOTER.DIRECTORY_ORGANIZATIONS")),l.xp6(2),l.hij(" ",l.lcZ(149,186,"CBL.NAV.FOOTER.DIRECTORY_ORGANIZATIONS"),", "),l.xp6(2),l.uIk("aria-label",l.lcZ(151,188,"CBL.NAV.FOOTER.DIRECTORY_PEOPLE")),l.xp6(2),l.hij(" ",l.lcZ(153,190,"CBL.NAV.FOOTER.DIRECTORY_PEOPLE"),", "),l.xp6(2),l.uIk("aria-label",l.lcZ(155,192,"CBL.NAV.FOOTER.DIRECTORY_EVENTS")),l.xp6(2),l.hij(" ",l.lcZ(157,194,"CBL.NAV.FOOTER.DIRECTORY_EVENTS")," "),l.xp6(4),l.Q6J("href",s.termsUrl,l.LSH),l.uIk("aria-label",l.lcZ(161,196,"CBL.NAV.FOOTER.TERMS_OF_SERVICE")),l.xp6(2),l.hij(" ",l.lcZ(163,198,"CBL.NAV.FOOTER.TERMS_OF_SERVICE")," "),l.xp6(4),l.Q6J("href",s.privacyPolicyUrl,l.LSH),l.uIk("aria-label",l.lcZ(167,200,"CBL.NAV.FOOTER.PRIVACY_POLICY")),l.xp6(2),l.hij(" ",l.lcZ(169,202,"CBL.NAV.FOOTER.PRIVACY_POLICY")," "),l.xp6(8),l.hij(" ",l.xi3(177,204,"CBL.NAV.FOOTER.ALL_RIGHTS_RESERVED",l.VKq(208,n,s.currentYear))," "),l.xp6(3),l.AsE("(",s.appRevision||s.appVersion," ",s.runId,")"))},directives:[c.o,r.yS],pipes:[o.X],styles:["page-footer{display:block;padding:32px 20px;background-color:#183444;color:#fff}page-footer .footer-wrapper{max-width:900px;width:100%}page-footer .footer-wrapper ul{line-height:1.5}page-footer .logo{margin-bottom:16px;width:175px;height:26px}page-footer .footer-links-label{font-weight:500}page-footer a{color:#fff;text-decoration:none}page-footer a:hover{text-decoration:underline}page-footer hr{border-bottom-width:0;border-left-width:0;border-right-width:0;border-top:1px solid rgba(0,0,0,.12);margin:0 -20px;opacity:.3}page-footer li{padding-bottom:4px}page-footer .version{opacity:.5}\n"],encapsulation:2}),T})();function v(T,N){1&T&&l._UZ(0,"page-footer")}const h=[[["","page-layout-header",""]],[["","page-layout-header-v2",""]],[["","page-layout-body",""]]],C=function(T,N,x,s,E,H){return{"feedback-button-padding":T,"layout-column layout-align-space-between":N,"cb-relative body-fill":x,"layout-row cb-overflow-y-only":s,"layout-align-center-center":E,"layout-align-center-start":H}},S=["[page-layout-header]","[page-layout-header-v2]","[page-layout-body]"];let I=(()=>{class T{constructor(x){this.chromeService=x,this.showPageFooter=!1,this.addFeedbackSpacer=!1,this.bodyFill=!1,this.centerContent=!1,this.horizCenterContent=!1,this.chromeless=!1,this.onDestroy=new p.xQ,this.chromeService.chromeConfigurationObservable().pipe((0,i.R)(this.onDestroy)).subscribe(s=>{this.chromeless=!1===s.header})}}return T.\u0275fac=function(x){return new(x||T)(l.Y36(e.P))},T.\u0275cmp=l.Xpm({type:T,selectors:[["page-layout"]],hostVars:2,hostBindings:function(x,s){2&x&&l.ekj("chromeless",s.chromeless)},inputs:{showPageFooter:"showPageFooter",addFeedbackSpacer:"addFeedbackSpacer",bodyFill:"bodyFill",centerContent:"centerContent",horizCenterContent:"horizCenterContent"},ngContentSelectors:S,decls:5,vars:9,consts:[[1,"page-layout-body",3,"ngClass"],[4,"ngIf"]],template:function(x,s){1&x&&(l.F$t(h),l.Hsn(0),l.Hsn(1,1),l.TgZ(2,"div",0),l.Hsn(3,2),l.YNc(4,v,1,0,"page-footer",1),l.qZA()),2&x&&(l.xp6(2),l.Q6J("ngClass",l.HTZ(2,C,s.addFeedbackSpacer,s.showPageFooter,s.bodyFill,s.centerContent||s.horizCenterContent,s.centerContent,s.horizCenterContent)),l.xp6(2),l.Q6J("ngIf",s.showPageFooter))},directives:[y.mk,y.O5,m],styles:["page-layout{display:block;padding-top:60px}page-layout [page-layout-header]{position:fixed;top:60px;left:0;right:0;z-index:2}page-layout .page-layout-body{box-sizing:border-box;min-height:calc(100vh - 60px);max-width:100vw}page-layout [page-layout-header-v2]+.page-layout-body{min-height:calc(100vh - 142px)}page-layout [page-layout-header]+.page-layout-body{padding-top:55px}page-layout [page-layout-header]+.page-layout-body.body-fill [page-layout-body]{top:55px}page-layout .page-layout-body.feedback-button-padding{padding-bottom:93px}page-layout .page-layout-body.body-fill [page-layout-body]{position:absolute;top:0;left:0;right:0;bottom:0}page-layout.chromeless{padding-top:0}page-layout.chromeless [page-layout-header]{top:0}page-layout.chromeless .page-layout-body{min-height:100vh}page-layout.chromeless .page-layout-body.body-fill [page-layout-body]{top:0;overflow:auto}@media print{page-layout{padding-top:0}page-layout [page-layout-header]{left:unset;top:unset;right:unset;position:relative}page-layout [page-layout-header].mat-elevation-z5{box-shadow:none!important}page-layout [page-layout-header]+.page-layout-body{padding-top:0}}\n"],encapsulation:2,changeDetection:0}),T})()},61783:(oe,L,t)=>{t.d(L,{s:()=>_,n:()=>n});var e=t(469),i=t(3184),p=t(11961),l=t(36362),y=t(20757),d=t(32478);function g(m,v){if(1&m&&i._UZ(0,"theme-icon",10),2&m){const h=i.oxw(2);i.Q6J("themeId",h.themeId)("color",h.useColoredIcon?"theme":"light")}}function f(m,v){if(1&m&&i._UZ(0,"icon",11),2&m){const h=i.oxw(2);i.Q6J("key",h.iconOverride)}}function a(m,v){if(1&m&&(i.TgZ(0,"div",3)(1,"div",4),i.YNc(2,g,1,2,"theme-icon",5),i.YNc(3,f,1,1,"icon",6),i.qZA(),i.TgZ(4,"div",7)(5,"h2",8),i.Hsn(6,1),i.qZA(),i.TgZ(7,"div",9),i.Hsn(8,2),i.qZA()()()),2&m){const h=i.oxw();i.ekj("with-bg-color",!!h.backgroundColor)("has-subheader",!!h.subtitles.length&&!h.backgroundColor),i.xp6(1),i.Udp("background-color",h.backgroundColor),i.xp6(1),i.Q6J("ngIf",!h.iconOverride),i.xp6(1),i.Q6J("ngIf",h.iconOverride)}}function c(m,v){1&m&&(i.TgZ(0,"div",12)(1,"h2",13),i.Hsn(2,3),i.qZA()())}const r=[[["","section-layout-content",""]],[["","section-title",""]],[["","section-actions",""]],[["","section-subtitle",""]]],o=["[section-layout-content]","[section-title]","[section-actions]","[section-subtitle]"];let _=(()=>{class m{}return m.\u0275fac=function(h){return new(h||m)},m.\u0275dir=i.lG2({type:m,selectors:[["","section-subtitle",""]]}),m})(),n=(()=>{class m{constructor(h,C){this.themeService=h,this.changeDetectorRef=C,this.themeId="default",this.showHeader=!0,this.useColoredIcon=!1}ngAfterContentInit(){this.subtitles.changes.subscribe(h=>{this.changeDetectorRef.markForCheck()})}ngOnChanges(){let h=this.themeService.getThemeData(this.themeId);(!this.useColoredIcon||h.image_id&&h.color)&&(this.backgroundColor=h.color)}}return m.\u0275fac=function(h){return new(h||m)(i.Y36(e.f),i.Y36(i.sBO))},m.\u0275cmp=i.Xpm({type:m,selectors:[["section-layout"]],contentQueries:function(h,C,S){if(1&h&&i.Suo(S,_,4),2&h){let I;i.iGM(I=i.CRH())&&(C.subtitles=I)}},inputs:{themeId:"themeId",showHeader:"showHeader",iconOverride:"iconOverride",useColoredIcon:"useColoredIcon"},features:[i.TTD],ngContentSelectors:o,decls:4,vars:2,consts:[[1,"component--section-layout"],["class","section-header",3,"with-bg-color","has-subheader",4,"ngIf"],["class","section-subheader",4,"ngIf"],[1,"section-header"],[1,"theme-icon-wrapper"],[3,"themeId","color",4,"ngIf"],["color","light",3,"key",4,"ngIf"],[1,"header-content-wrapper"],[1,"section-title-wrapper"],[1,"section-actions-wrapper"],[3,"themeId","color"],["color","light",3,"key"],[1,"section-subheader"],[1,"section-subtitle-wrapper"]],template:function(h,C){1&h&&(i.F$t(r),i.TgZ(0,"mat-card",0),i.YNc(1,a,9,8,"div",1),i.YNc(2,c,3,0,"div",2),i.Hsn(3),i.qZA()),2&h&&(i.xp6(1),i.Q6J("ngIf",C.showHeader),i.xp6(1),i.Q6J("ngIf",!!C.subtitles.length&&!C.backgroundColor))},directives:[p.a8,l.O5,y.p,d.o],styles:[".component--section-layout{display:block}.component--section-layout.mat-card{padding:0}.component--section-layout .section-header{display:flex}.component--section-layout .section-header:not(.with-bg-color):not(.has-subheader){border-bottom-style:solid;border-bottom-width:1px;border-color:#0000001f}.component--section-layout .section-header .header-content-wrapper{padding-right:8px;flex:1;min-width:0;box-sizing:border-box;display:flex!important;flex-direction:row;justify-content:space-between;align-items:center;align-content:center;max-width:100%}.component--section-layout .section-header .header-content-wrapper>*{max-width:100%;box-sizing:border-box}.component--section-layout .section-header.with-bg-color .header-content-wrapper{border-bottom-style:solid;border-bottom-width:1px;border-color:#0000001f;padding-left:8px}.component--section-layout .section-header .section-title-wrapper{flex:0 0 auto;margin-top:4px;margin-bottom:4px;font-weight:500;font-size:16px;display:flex!important;flex-direction:row;justify-content:center;box-sizing:border-box;align-items:center;align-content:center;max-width:100%}.component--section-layout .section-header .section-title-wrapper>*{max-width:100%;box-sizing:border-box}.component--section-layout .section-header .section-actions-wrapper{flex:0 0 auto;box-sizing:border-box;display:flex!important;flex-direction:row;justify-content:flex-end;align-items:center;align-content:center;max-width:100%}.component--section-layout .section-header .section-actions-wrapper>*{max-width:100%;box-sizing:border-box}.component--section-layout .section-header .theme-icon-wrapper{border-top-left-radius:4px;height:46px;width:46px;line-height:0;flex:0 0 auto;display:flex!important;flex-direction:column;justify-content:center;box-sizing:border-box;align-items:center;align-content:center;max-width:100%}.component--section-layout .section-header .theme-icon-wrapper>*{max-width:100%;box-sizing:border-box}.component--section-layout .section-header .theme-icon-wrapper theme-icon{color:#fff}.component--section-layout .section-subheader{position:relative;top:-9px;padding-left:13px;padding-bottom:8px;border-bottom-style:solid;border-bottom-width:1px;border-color:#0000001f}.component--section-layout .section-subheader h2{font-size:14px;line-height:20px;color:#666;letter-spacing:.4px;font-weight:500;font-family:Roboto,Arial,sans-serif}@media print{.component--section-layout .theme-icon-wrapper{width:auto}}\n"],encapsulation:2,changeDetection:0}),m})()},76908:(oe,L,t)=>{t.d(L,{h:()=>v});var e=t(3184),i=t(86942),p=t(78845),l=t(75215),y=t(25848),d=t(843),g=t(36362),f=t(40089),a=t(32478),c=t(87317),r=t(22972),o=t(74929);function _(h,C){if(1&h){const S=e.EpF();e.TgZ(0,"a",3),e.NdJ("click",function(){return e.CHM(S),e.oxw(2).linkClick.emit()}),e._UZ(1,"icon",4),e.qZA()}if(2&h){const S=e.oxw(2);e.Q6J("href",S.href,e.LSH)("matTooltip",S.tooltip),e.uIk("aria-label",S.ariaLabel)}}function n(h,C){if(1&h&&(e.TgZ(0,"button",5),e.ALo(1,"translate"),e._UZ(2,"icon",4),e.qZA()),2&h){const S=e.oxw(2);e.Q6J("upsellShowDetails",!0)("matTooltip",e.lcZ(1,3,"CBL.UPSELL.PREMIUM_FEATURE")),e.uIk("aria-label",S.ariaLabel)}}function m(h,C){if(1&h&&(e.ynx(0),e.YNc(1,_,2,3,"a",1),e.YNc(2,n,3,5,"button",2),e.BQk()),2&h){const S=C.ngIf;e.xp6(1),e.Q6J("ngIf","link"===S),e.xp6(1),e.Q6J("ngIf","upsell"===S)}}let v=(()=>{class h{constructor(S,I,T){this.metadataService=S,this.syntheticMetadataService=I,this.permissionService=T,this.linkClick=new e.vpe,this.href="",this.tooltip="",this.ariaLabel="",this.mode$=this.getMode$()}ngOnChanges(S){(S.username||S.url)&&(this.href=this.getHref())}ngOnInit(){var S,I,T,N;const x=this.syntheticMetadataService.getContactsSearchProperties().contactCollectionId;x&&(this.tooltip=(null===(I=null===(S=this.metadataService.getField(x,"linkedin"))||void 0===S?void 0:S.labels)||void 0===I?void 0:I.value)||"",this.ariaLabel=(null===(N=null===(T=this.metadataService.getField(x,"linkedin"))||void 0===T?void 0:T.labels)||void 0===N?void 0:N.value)||"")}getHref(){return this.url?this.url:this.username?(0,p.F)(this.username):""}getMode$(){return this.permissionService.getPermissions().pipe((0,i.U)(I=>I.canViewContactLinkedIn())).pipe((0,i.U)(I=>I?"link":"upsell"))}}return h.\u0275fac=function(S){return new(S||h)(e.Y36(l.Do),e.Y36(y.Y),e.Y36(d.$))},h.\u0275cmp=e.Xpm({type:h,selectors:[["linkedin-link"]],inputs:{username:"username",url:"url"},outputs:{linkClick:"linkClick"},features:[e.TTD],decls:2,vars:3,consts:[[4,"ngIf"],["target","_blank","rel","nofollow noopener noreferrer",3,"href","matTooltip","click",4,"ngIf"],["mat-icon-button","","upsellTrigger","contacts_unlock_button_upgrade_from_non_pro","upsellTriggerLocation","linked-in-button","matTooltipClass","linked-in-upsell-tooltip",3,"upsellShowDetails","matTooltip",4,"ngIf"],["target","_blank","rel","nofollow noopener noreferrer",3,"href","matTooltip","click"],["key","icon_linkedin","color","inherit"],["mat-icon-button","","upsellTrigger","contacts_unlock_button_upgrade_from_non_pro","upsellTriggerLocation","linked-in-button","matTooltipClass","linked-in-upsell-tooltip",3,"upsellShowDetails","matTooltip"]],template:function(S,I){1&S&&(e.YNc(0,m,3,2,"ng-container",0),e.ALo(1,"async")),2&S&&e.Q6J("ngIf",e.lcZ(1,1,I.mode$))},directives:[g.O5,f.gM,a.o,c.lW,r.k],pipes:[g.Ov,o.X],styles:['@charset "UTF-8";a[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{color:#0077b5;cursor:pointer;display:block;height:20px!important;width:20px!important}  .mat-tooltip.linked-in-upsell-tooltip:before{content:"\\26a1";font-size:14px;line-height:12px}'],changeDetection:0}),h})()},40989:(oe,L,t)=>{t.d(L,{R:()=>g});var e=t(36362),i=t(32519),p=t(90898),l=t(83e3),y=t(35503),d=t(3184);let g=(()=>{class f{}return f.\u0275fac=function(c){return new(c||f)},f.\u0275mod=d.oAB({type:f}),f.\u0275inj=d.cJS({imports:[[e.ez,i.n,p.q,l.S,y.Dt]]}),f})()},52974:(oe,L,t)=>{t.d(L,{R:()=>l});const e={crunchbase:'<svg viewBox="0 0 370 52.8"><path d="M27 38.7c-2.4 5.1-8.4 7.3-13.5 4.9S6.2 35.1 8.6 30s8.4-7.3 13.5-4.9c2.2 1.1 4 2.9 5 5.1H35c-2.3-9.5-11.9-15.4-21.4-13S-1.8 29.1.6 38.6 12.5 54 22 51.6c6.4-1.6 11.5-6.6 13-13h-8z" /><path d="M63 18.2c-2.2-1-4.6-1.6-7.1-1.5-2.5 0-5 .8-7.1 2.2v-1h-7.2v32.9h7.3V35c-.1-2.1 0-4.3.5-6.4v-.2c.4-1.4 1.4-2.6 2.7-3.3 2.4-1.5 5.5-1.5 7.9 0l3-6.9z" /><path d="M90.6 17.9v15.8c.1 2.1 0 4.3-.5 6.4v.2c-.4 1.4-1.4 2.6-2.7 3.3C85 45 82 45 79.5 43.5c-1.3-.7-2.3-1.9-2.7-3.3V40c-.4-2.1-.6-4.3-.5-6.4V17.9H69v17.9c-.2 2.9.3 5.9 1.2 8.6 1.1 2.7 3.2 4.8 5.9 5.9 2.2 1 4.6 1.6 7.1 1.5 2.5 0 5-.8 7.1-2.2v1.1h7.2V17.9h-6.9z" /><path d="M114 50.8V35c-.1-2.2.1-4.3.5-6.4v-.2c.4-1.4 1.4-2.6 2.7-3.3 2.4-1.5 5.5-1.5 7.9 0 1.3.7 2.3 1.9 2.7 3.3v.2c.4 2.1.5 4.3.4 6.4v15.8h7.2v-18c.2-2.9-.2-5.9-1.2-8.6-1.1-2.7-3.2-4.8-5.9-5.9-2.2-1-4.6-1.6-7.1-1.5-2.5 0-5 .8-7.1 2.2v-1h-7.3v32.8h7.2z" /><path d="M168.9 38.7c-2.4 5.1-8.4 7.3-13.5 4.9-5.1-2.4-7.3-8.4-4.9-13.5 2.4-5.1 8.4-7.3 13.5-4.9 2.2 1.1 4 2.9 5 5.1h7.9c-2.3-9.5-11.9-15.4-21.4-13s-15.4 11.9-13 21.4 11.9 15.4 21.4 13c6.4-1.6 11.5-6.6 13-13h-8z" /><path d="M190.8 50.8V35c-.1-2.1 0-4.3.5-6.4v-.2c.4-1.4 1.4-2.6 2.7-3.3 2.4-1.5 5.5-1.5 7.9 0 1.3.7 2.3 1.9 2.7 3.3v.2c.4 2.1.6 4.3.5 6.4v15.8h7.2v-18c.2-2.9-.3-5.9-1.2-8.6-1.1-2.7-3.2-4.8-5.9-5.9-2.2-1-4.6-1.6-7.1-1.5-2.5 0-5 .8-7.1 2.2V0h-7.3v50.8h7.1z" /><path d="M238.3 16.7H237c-3.1.2-6.1 1.3-8.7 3.1V0h-7.2v50.8h7.2v-1.9c8 5.6 19.1 3.7 24.7-4.3 5.6-8 3.7-19.1-4.3-24.7-3-2.1-6.7-3.3-10.4-3.2zm10.1 19v.3l-.3 1.2c-.1.4-.3.9-.5 1.3v.2c-1.4 2.9-4 4.9-7.1 5.6l-1 .2h-1.3c-.5 0-.9 0-1.4-.1h-.3c-.9-.1-1.8-.4-2.6-.8h-.2c-.8-.4-1.6-.9-2.3-1.5-.7-.6-1.3-1.4-1.8-2.1-.2-.4-.5-.8-.7-1.3-1.2-2.7-1.1-5.7.1-8.4 1.5-3.2 4.6-5.4 8.2-5.8h1c5.5.1 9.9 4.4 10 9.9.3.4.3.8.2 1.3z" /><path d="M261.8 34.3c.1 9.8 8.1 17.7 17.9 17.6 3.5 0 6.8-1.1 9.7-3v1.9h7.2V17.9h-7.2v2c-2.6-1.8-5.6-2.8-8.7-3.1h-1.3c-9.6 0-17.5 7.8-17.6 17.5zm7.5 0c0-5.6 4.6-10.2 10.2-10.2h1c3.5.4 6.6 2.6 8.2 5.8 1.2 2.6 1.3 5.7.1 8.4-.2.4-.4.9-.7 1.3-.5.8-1.1 1.5-1.8 2.1-.7.6-1.5 1.1-2.3 1.5h-.2c-.8.4-1.7.6-2.6.8h-.2c-.5.1-.9.1-1.4.1H278.4l-1-.2c-3-.7-5.6-2.7-7-5.5v-.2c-.2-.4-.4-.8-.5-1.3l-.3-1.2v-.3c-.1-.3-.2-.7-.3-1.1z" /><path d="M329.9 27.7v-.2c0-5.4-4.1-10.8-13.3-10.9-9.2-.1-13.2 5.4-13.3 10.7v.4c.2 3.1 2 7 8.8 8.6l6.1 1.4c1.6.4 4.3 1.2 4.5 3.3 0 2.8-3.6 4.2-6.1 4.2-3 0-6.1-1.6-6.1-4.3v-.2h-7.2v.1c0 5.4 4.1 10.8 13.3 10.9 9.2.1 13.3-5.5 13.3-10.9v-.1c-.2-3.1-1.9-7.1-8.8-8.7l-6.1-1.4c-1.3-.3-4.5-1.2-4.5-3.2 0-3.1 3.2-4.2 6.1-4.2 3 0 6.1 1.6 6.1 4.3v.2h7.2z" /><path d="M370.1 33.6c0-10.7-7.3-17-16.9-17-9.3-.3-17.1 6.9-17.4 16.2v1.3c-.4 9.4 6.9 17.3 16.3 17.7h1.1c3.5 0 7-.8 10.1-2.6 3.2-1.8 5.6-4.9 6.5-8.5h-7.1c-1.7 3.1-4.8 4.6-9.2 4.6-5.9 0-10.3-4.6-10.3-9H370c.1-1.1.1-1.8.1-2.7zm-27-3.3c1-4.5 5.1-7.6 9.7-7.3 5.1 0 9.2 3 9.9 7.3h-19.6z" /></svg>',pro:'<svg viewBox="0 0 494.1 52.8"><g class="crunchbase"><path d="M27 38.7c-2.4 5.1-8.4 7.3-13.5 4.9S6.2 35.1 8.6 30s8.4-7.3 13.5-4.9c2.2 1.1 4 2.9 5 5.1H35c-2.3-9.5-11.9-15.4-21.4-13S-1.8 29.1.6 38.6 12.5 54 22 51.6c6.4-1.6 11.5-6.6 13-13h-8z" /><path d="M63 18.2c-2.2-1-4.6-1.6-7.1-1.5-2.5 0-5 .8-7.1 2.2v-1h-7.2v32.9h7.3V35c-.1-2.1 0-4.3.5-6.4v-.2c.4-1.4 1.4-2.6 2.7-3.3 2.4-1.5 5.5-1.5 7.9 0l3-6.9z" /><path d="M90.6 17.9v15.8c.1 2.1 0 4.3-.5 6.4v.2c-.4 1.4-1.4 2.6-2.7 3.3C85 45 82 45 79.5 43.5c-1.3-.7-2.3-1.9-2.7-3.3V40c-.4-2.1-.6-4.3-.5-6.4V17.9H69v17.9c-.2 2.9.3 5.9 1.2 8.6 1.1 2.7 3.2 4.8 5.9 5.9 2.2 1 4.6 1.6 7.1 1.5 2.5 0 5-.8 7.1-2.2v1.1h7.2V17.9h-6.9z" /><path d="M114 50.8V35c-.1-2.2.1-4.3.5-6.4v-.2c.4-1.4 1.4-2.6 2.7-3.3 2.4-1.5 5.5-1.5 7.9 0 1.3.7 2.3 1.9 2.7 3.3v.2c.4 2.1.5 4.3.4 6.4v15.8h7.2v-18c.2-2.9-.2-5.9-1.2-8.6-1.1-2.7-3.2-4.8-5.9-5.9-2.2-1-4.6-1.6-7.1-1.5-2.5 0-5 .8-7.1 2.2v-1h-7.3v32.8h7.2z" /><path d="M168.9 38.7c-2.4 5.1-8.4 7.3-13.5 4.9-5.1-2.4-7.3-8.4-4.9-13.5 2.4-5.1 8.4-7.3 13.5-4.9 2.2 1.1 4 2.9 5 5.1h7.9c-2.3-9.5-11.9-15.4-21.4-13s-15.4 11.9-13 21.4 11.9 15.4 21.4 13c6.4-1.6 11.5-6.6 13-13h-8z" /><path d="M190.8 50.8V35c-.1-2.1 0-4.3.5-6.4v-.2c.4-1.4 1.4-2.6 2.7-3.3 2.4-1.5 5.5-1.5 7.9 0 1.3.7 2.3 1.9 2.7 3.3v.2c.4 2.1.6 4.3.5 6.4v15.8h7.2v-18c.2-2.9-.3-5.9-1.2-8.6-1.1-2.7-3.2-4.8-5.9-5.9-2.2-1-4.6-1.6-7.1-1.5-2.5 0-5 .8-7.1 2.2V0h-7.3v50.8h7.1z" /><path d="M238.3 16.7H237c-3.1.2-6.1 1.3-8.7 3.1V0h-7.2v50.8h7.2v-1.9c8 5.6 19.1 3.7 24.7-4.3 5.6-8 3.7-19.1-4.3-24.7-3-2.1-6.7-3.3-10.4-3.2zm10.1 19v.3l-.3 1.2c-.1.4-.3.9-.5 1.3v.2c-1.4 2.9-4 4.9-7.1 5.6l-1 .2h-1.3c-.5 0-.9 0-1.4-.1h-.3c-.9-.1-1.8-.4-2.6-.8h-.2c-.8-.4-1.6-.9-2.3-1.5-.7-.6-1.3-1.4-1.8-2.1-.2-.4-.5-.8-.7-1.3-1.2-2.7-1.1-5.7.1-8.4 1.5-3.2 4.6-5.4 8.2-5.8h1c5.5.1 9.9 4.4 10 9.9.3.4.3.8.2 1.3z" /><path d="M261.8 34.3c.1 9.8 8.1 17.7 17.9 17.6 3.5 0 6.8-1.1 9.7-3v1.9h7.2V17.9h-7.2v2c-2.6-1.8-5.6-2.8-8.7-3.1h-1.3c-9.6 0-17.5 7.8-17.6 17.5zm7.5 0c0-5.6 4.6-10.2 10.2-10.2h1c3.5.4 6.6 2.6 8.2 5.8 1.2 2.6 1.3 5.7.1 8.4-.2.4-.4.9-.7 1.3-.5.8-1.1 1.5-1.8 2.1-.7.6-1.5 1.1-2.3 1.5h-.2c-.8.4-1.7.6-2.6.8h-.2c-.5.1-.9.1-1.4.1H278.4l-1-.2c-3-.7-5.6-2.7-7-5.5v-.2c-.2-.4-.4-.8-.5-1.3l-.3-1.2v-.3c-.1-.3-.2-.7-.3-1.1z" /><path d="M329.9 27.7v-.2c0-5.4-4.1-10.8-13.3-10.9-9.2-.1-13.2 5.4-13.3 10.7v.4c.2 3.1 2 7 8.8 8.6l6.1 1.4c1.6.4 4.3 1.2 4.5 3.3 0 2.8-3.6 4.2-6.1 4.2-3 0-6.1-1.6-6.1-4.3v-.2h-7.2v.1c0 5.4 4.1 10.8 13.3 10.9 9.2.1 13.3-5.5 13.3-10.9v-.1c-.2-3.1-1.9-7.1-8.8-8.7l-6.1-1.4c-1.3-.3-4.5-1.2-4.5-3.2 0-3.1 3.2-4.2 6.1-4.2 3 0 6.1 1.6 6.1 4.3v.2h7.2z" /><path d="M370.1 33.6c0-10.7-7.3-17-16.9-17-9.3-.3-17.1 6.9-17.4 16.2v1.3c-.4 9.4 6.9 17.3 16.3 17.7h1.1c3.5 0 7-.8 10.1-2.6 3.2-1.8 5.6-4.9 6.5-8.5h-7.1c-1.7 3.1-4.8 4.6-9.2 4.6-5.9 0-10.3-4.6-10.3-9H370c.1-1.1.1-1.8.1-2.7zm-27-3.3c1-4.5 5.1-7.6 9.7-7.3 5.1 0 9.2 3 9.9 7.3h-19.6z" /></g><g class="pro"><path d="M428.9 34.3c-.1-9.8-8.1-17.7-17.9-17.6-3.5 0-6.8 1.1-9.7 3v-1.9h-7.2v50.8h7.2V48.8c2.6 1.8 5.6 2.8 8.7 3.1h1.3c9.6-.1 17.5-7.9 17.6-17.6zm-7.5 0c0 5.6-4.6 10.2-10.2 10.2h-1c-3.5-.4-6.6-2.6-8.1-5.9-1.2-2.6-1.3-5.7-.1-8.4.2-.4.4-.9.7-1.3.5-.8 1.1-1.5 1.8-2.1.7-.6 1.5-1.1 2.3-1.5h.2c.8-.4 1.7-.6 2.6-.8h.3c.5-.1.9-.1 1.4-.1H412.5l1 .2c3 .7 5.6 2.7 7 5.5v.2c.2.4.4.8.5 1.3l.3 1.2v.3c-.1.4 0 .8.1 1.2z" /><path d="M456.5 18.2c-2.2-1-4.6-1.6-7.1-1.5-2.5 0-5 .8-7.1 2.2v-1h-7.2v32.9h7.2V35c-.1-2.1 0-4.3.5-6.4v-.2c.4-1.4 1.4-2.6 2.7-3.3 2.4-1.5 5.5-1.5 7.9 0l3.1-6.9z" /><path d="M476.3 24.1c5.6 0 10.2 4.6 10.2 10.2s-4.6 10.2-10.2 10.2-10.2-4.6-10.2-10.2 4.6-10.2 10.2-10.2m0-7.4c-9.8 0-17.7 7.9-17.7 17.7s7.9 17.7 17.7 17.7c9.8 0 17.7-7.9 17.7-17.7.1-9.8-7.9-17.7-17.7-17.7z" /></g></svg>'};var i=t(3184),p=t(50318);let l=(()=>{class y{constructor(g){this.domSanitizer=g,this.color="white"}get classes(){return[this.class,this.color].join(" ")}get html(){return this.domSanitizer.bypassSecurityTrustHtml(e[this.key])}}return y.\u0275fac=function(g){return new(g||y)(i.Y36(p.H7))},y.\u0275cmp=i.Xpm({type:y,selectors:[["cb-logo"]],hostVars:3,hostBindings:function(g,f){2&g&&(i.Ikx("innerHTML",f.html,i.oJD),i.Tol(f.classes))},inputs:{key:"key",color:"color",class:"class"},decls:0,vars:0,template:function(g,f){},styles:["cb-logo.inherit{fill:currentColor}cb-logo.white{fill:#fff}cb-logo.primary{fill:#146aff}cb-logo>svg{height:1em;max-width:9.35em;overflow:visible}\n"],encapsulation:2,changeDetection:0}),y})()},4079:(oe,L,t)=>{t.d(L,{h:()=>p});var e=t(36362),i=t(3184);let p=(()=>{class l{}return l.\u0275fac=function(d){return new(d||l)},l.\u0275mod=i.oAB({type:l}),l.\u0275inj=i.cJS({imports:[[e.ez]]}),l})()},26365:(oe,L,t)=>{t.d(L,{b:()=>m,S:()=>h});var e=t(20605),i=t(97010),p=t(94882),l=t(1638),y=t(83910),d=t(86942),g=t(3184),f=t(36362),a=t(77500),c=t(47367),r=t(74929);function o(C,S){if(1&C&&(g._UZ(0,"cb-image",2),g.ALo(1,"translate")),2&C){const I=g.oxw();g.Q6J("resource",I.errorImage)("alt",g.lcZ(1,2,"CBL.MAINTENANCE_MODE.TITLE"))}}function _(C,S){if(1&C&&(g.TgZ(0,"a",5),g._uU(1),g.qZA()),2&C){const I=g.oxw().ngIf;g.Q6J("href",I.knowledgeCenterUrl,g.LSH),g.xp6(1),g.hij(" ",I.knowledgeCenterUrlLabel," ")}}function n(C,S){if(1&C&&(g.TgZ(0,"div",3),g._uU(1),g.YNc(2,_,2,2,"a",4),g.qZA()),2&C){const I=S.ngIf;g.xp6(1),g.hij(" ",I.message," "),g.xp6(1),g.Q6J("ngIf",I.knowledgeCenterUrl)}}var m=(()=>((m||(m={})).BILLING="billing",m))();const v={billing:e.TT.MAINTENANCE_MODE_BILLING};let h=(()=>{class C{constructor(I,T){this.featureService=I,this.labelService=T,this.showImage=!0,this.errorImage=i.Wh.rocket_doggo}ngOnInit(){this.setupMaintenanceModeMessage$()}setupMaintenanceModeMessage$(){this.maintenanceModeMessageConfig$=this.featureService.getTreatmentWithConfig(v[this.outageType],{treatment:e.UZ,config:{message:$localize`Due to scheduled maintenance, this is currently unavailable. Please try again later.`}}).pipe((0,y.q)(1),(0,d.U)(I=>{const{treatment:T,config:N}=I;if(T!==l.xc&&T!==e.UZ)return N}))}}return C.\u0275fac=function(I){return new(I||C)(g.Y36(e.Bz),g.Y36(p.Q))},C.\u0275cmp=g.Xpm({type:C,selectors:[["maintenance-mode"]],inputs:{messageLabelKey:"messageLabelKey",outageType:"outageType",showImage:"showImage"},decls:3,vars:4,consts:[[3,"resource","alt",4,"ngIf"],["class","maintenance-mode-message",4,"ngIf"],[3,"resource","alt"],[1,"maintenance-mode-message"],["cb-link","primary","target","_blank",3,"href",4,"ngIf"],["cb-link","primary","target","_blank",3,"href"]],template:function(I,T){1&I&&(g.YNc(0,o,2,4,"cb-image",0),g.YNc(1,n,3,2,"div",1),g.ALo(2,"async")),2&I&&(g.Q6J("ngIf",T.showImage),g.xp6(1),g.Q6J("ngIf",g.lcZ(2,2,T.maintenanceModeMessageConfig$)))},directives:[f.O5,a.q,c.I],pipes:[r.X,f.Ov],styles:["[_nghost-%COMP%]{display:block;line-height:20px;display:flex!important;flex-direction:column;justify-content:center;box-sizing:border-box;align-items:center;align-content:center;max-width:100%;max-width:600px;margin:auto}[_nghost-%COMP%] > *[_ngcontent-%COMP%]{max-width:100%;box-sizing:border-box}.maintenance-mode-message[_ngcontent-%COMP%]{text-align:center;line-height:20px}"],changeDetection:0}),C})()},68453:(oe,L,t)=>{t.d(L,{N:()=>a});var e=t(36362),i=t(35503),p=t(90898),l=t(32519),y=t(31156),d=t(48212),g=t(19366),f=t(3184);let a=(()=>{class c{}return c.\u0275fac=function(o){return new(o||c)},c.\u0275mod=f.oAB({type:c}),c.\u0275inj=f.cJS({imports:[[e.ez,i.Dt,p.q,l.n,y.H,d.x,g.L]]}),c})()},72947:(oe,L,t)=>{t.d(L,{Z:()=>g});var e=t(3184),i=t(24956),p=t(13074),l=t(82973),y=t(25436);function d(f,a){if(1&f&&(e._UZ(0,"iframe",1),e.ALo(1,"safe")),2&f){const c=e.oxw();e.Q6J("src",e.xi3(1,2,c.fullUrl,"resourceUrl"),e.uOi)("title",c.title)}}let g=(()=>{class f{constructor(c,r){this.logService=c,this.urlService=r,this.onError=new e.vpe,this.height=null,this.logger=this.logService.getLogger("MarketingIframeComponent")}onMessage(c){const r=new URL(this.urlService.getAboutCrunchbaseUrl()).origin;c.origin===r&&this.resizeIframe(c.data.height)}ngOnChanges(){this.setFullUrl()}setFullUrl(){try{this.fullUrl=new URL(this.urlService.getAboutCrunchbaseUrl(this.url)).toString()}catch(c){return this.logger.error(c),this.onError.emit()}}resizeIframe(c){isNaN(c)||(this.height=c+"px")}}return f.\u0275fac=function(c){return new(c||f)(e.Y36(i.$V),e.Y36(p.iO))},f.\u0275cmp=e.Xpm({type:f,selectors:[["marketing-iframe"]],hostVars:2,hostBindings:function(c,r){1&c&&e.NdJ("message",function(_){return r.onMessage(_)},!1,e.Jf7),2&c&&e.Udp("height",r.height)},inputs:{url:"url",title:"title"},outputs:{onError:"onError"},features:[e.TTD],decls:1,vars:0,consts:[["sandbox","allow-top-navigation allow-same-origin allow-scripts allow-forms","frameborder","0",3,"src","title",4,"ifPlatformBrowser"],["sandbox","allow-top-navigation allow-same-origin allow-scripts allow-forms","frameborder","0",3,"src","title"]],template:function(c,r){1&c&&e.YNc(0,d,2,5,"iframe",0)},directives:[l.W],pipes:[y.y],styles:["[_nghost-%COMP%]{height:100vh;display:block}iframe[_ngcontent-%COMP%]{width:100%;height:100%}"],changeDetection:0}),f})()},78890:(oe,L,t)=>{t.d(L,{M:()=>b});var e=t(19639),i=t(75215),p=t(71263),l=t(3184),y=t(36362),d=t(46036),g=t(47367),f=t(45857),a=t(57984),c=t(74929);function r(B,Q){if(1&B&&(l.ynx(0),l._UZ(1,"field-formatter",4),l.BQk()),2&B){const $=l.oxw(2);l.xp6(1),l.Q6J("collectionId",$.collectionId)("field",$.field)("fieldData",$.listMarkupBlock.items[0].data)("queryData",$.listMarkupBlock.items[0].queryData)("contextType",$.contextType)("linkColor",$.linkColor)}}function o(B,Q){if(1&B&&(l.ynx(0),l._UZ(1,"field-formatter",5),l.ynx(2),l._uU(3),l.ALo(4,"lowercase"),l.ALo(5,"translate"),l.BQk(),l._UZ(6,"field-formatter",5),l.BQk()),2&B){const $=l.oxw(2);l.xp6(1),l.Q6J("collectionId",$.collectionId)("field",$.field)("fieldData",$.listMarkupBlock.items[0].data)("queryData",$.listMarkupBlock.items[0].queryData)("linkColor",$.linkColor)("contextType",$.contextType),l.xp6(2),l.hij("\xa0",l.lcZ(4,13,l.lcZ(5,15,"CBL.COMMON.AND")),"\xa0"),l.xp6(3),l.Q6J("collectionId",$.collectionId)("field",$.field)("fieldData",$.listMarkupBlock.items[1].data)("queryData",$.listMarkupBlock.items[1].queryData)("linkColor",$.linkColor)("contextType",$.contextType)}}function _(B,Q){1&B&&(l.ynx(0),l._uU(1),l.ALo(2,"lowercase"),l.ALo(3,"translate"),l.BQk()),2&B&&(l.xp6(1),l.hij("",l.lcZ(2,1,l.lcZ(3,3,"CBL.COMMON.AND")),"\xa0"))}function n(B,Q){1&B&&(l.ynx(0),l._uU(1,",\xa0"),l.BQk())}function m(B,Q){if(1&B&&(l.ynx(0),l.YNc(1,_,4,5,"ng-container",7),l._UZ(2,"field-formatter",5),l.YNc(3,n,2,0,"ng-container",7),l.BQk()),2&B){const $=Q.$implicit,W=Q.last,q=l.oxw(3);l.xp6(1),l.Q6J("ngIf",W),l.xp6(1),l.Q6J("collectionId",q.collectionId)("field",q.field)("fieldData",$.data)("queryData",$.queryData)("linkColor",q.linkColor)("contextType",q.contextType),l.xp6(1),l.Q6J("ngIf",!W)}}function v(B,Q){if(1&B&&(l.ynx(0),l.YNc(1,m,4,8,"ng-container",6),l.BQk()),2&B){const $=l.oxw(2);l.xp6(1),l.Q6J("ngForOf",$.listMarkupBlock.items)}}function h(B,Q){if(1&B&&(l.ynx(0,1),l.YNc(1,r,2,6,"ng-container",2),l.YNc(2,o,7,17,"ng-container",2),l.YNc(3,v,2,1,"ng-container",3),l.BQk()),2&B){const $=l.oxw();l.Q6J("ngSwitch",$.listMarkupBlock.items.length),l.xp6(1),l.Q6J("ngSwitchCase",1),l.xp6(1),l.Q6J("ngSwitchCase",2)}}let C=(()=>{class B{constructor($){this.metadataService=$,this.contextType=p.Qy.markup}ngOnChanges(){const $=this.metadataService.getCard(this.listMarkupBlock.collectionId,this.listMarkupBlock.cardId);this.collectionId=$&&$.lookup.collection_id,this.field=this.collectionId&&this.metadataService.getField(this.collectionId,this.listMarkupBlock.fieldId)||void 0}}return B.\u0275fac=function($){return new($||B)(l.Y36(i.Do))},B.\u0275cmp=l.Xpm({type:B,selectors:[["list-markup-block"]],inputs:{listMarkupBlock:"listMarkupBlock",linkColor:"linkColor"},features:[l.TTD],decls:1,vars:1,consts:[[3,"ngSwitch",4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"collectionId","field","fieldData","queryData","contextType","linkColor"],[3,"collectionId","field","fieldData","queryData","linkColor","contextType"],[4,"ngFor","ngForOf"],[4,"ngIf"]],template:function($,W){1&$&&l.YNc(0,h,4,3,"ng-container",0),2&$&&l.Q6J("ngIf",W.collectionId&&W.field)},directives:[y.O5,y.RF,y.n9,a.N,y.ED,y.sg],pipes:[y.i8,c.X],encapsulation:2,changeDetection:0}),B})();function S(B,Q){if(1&B&&(l.ynx(0),l.TgZ(1,"a",4),l._uU(2),l.qZA(),l.BQk()),2&B){const $=l.oxw().ngIf,W=l.oxw(2);l.xp6(1),l.Q6J("cb-link",W.linkColor)("routerLink",$.route.path)("queryParams",$.route.queryParams)("title",$.value),l.uIk("aria-label",$.value),l.xp6(1),l.Oqu($.value)}}function I(B,Q){if(1&B&&(l.ynx(0),l.TgZ(1,"a",5),l._uU(2),l.qZA(),l.BQk()),2&B){const $=l.oxw().ngIf,W=l.oxw(2);l.xp6(1),l.Q6J("cb-link",W.linkColor)("href",$.href,l.LSH)("title",$.value),l.uIk("aria-label",$.value),l.xp6(1),l.Oqu($.value)}}function T(B,Q){if(1&B&&(l.ynx(0),l.YNc(1,S,3,6,"ng-container",1),l.YNc(2,I,3,5,"ng-container",1),l.BQk()),2&B){const $=Q.ngIf;l.xp6(1),l.Q6J("ngIf",$.route&&$.route.path),l.xp6(1),l.Q6J("ngIf",$.href)}}function N(B,Q){if(1&B&&l._UZ(0,"field-formatter",6),2&B){const $=Q.ngIf,W=l.oxw(2);l.Q6J("collectionId",$.collectionId)("field",W.getField($.collectionId,$.fieldId))("fieldData",$.data)("queryData",$.queryData)("linkColor",W.linkColor)("contextType",W.contextType)}}function x(B,Q){if(1&B&&l._UZ(0,"list-markup-block",7),2&B){const $=l.oxw().$implicit,W=l.oxw();l.Q6J("listMarkupBlock",W.asList($))("linkColor",W.linkColor)}}function s(B,Q){if(1&B&&(l.TgZ(0,"strong"),l._uU(1),l.qZA()),2&B){const $=l.oxw().$implicit,W=l.oxw();l.xp6(1),l.Oqu(W.asStrong($).value)}}function E(B,Q){if(1&B&&(l.ynx(0),l._uU(1),l.BQk()),2&B){const $=l.oxw().$implicit,W=l.oxw();l.xp6(1),l.Oqu(W.asText($).value)}}function H(B,Q){if(1&B&&(l.ynx(0),l.YNc(1,T,3,2,"ng-container",1),l.YNc(2,N,1,6,"field-formatter",2),l.YNc(3,x,1,2,"list-markup-block",3),l.YNc(4,s,2,1,"strong",1),l.YNc(5,E,2,1,"ng-container",1),l.BQk()),2&B){const $=Q.$implicit,W=l.oxw();l.xp6(1),l.Q6J("ngIf",$.type===W.BlockType.anchor&&W.asAnchor($)),l.xp6(1),l.Q6J("ngIf",$.type===W.BlockType.field&&W.asField($)),l.xp6(1),l.Q6J("ngIf",$.type===W.BlockType.list),l.xp6(1),l.Q6J("ngIf",$.type===W.BlockType.strong),l.xp6(1),l.Q6J("ngIf",$.type===W.BlockType.text)}}let b=(()=>{class B{constructor($){this.metadataService=$,this.contextType=p.Qy.markup,this.BlockType=e.k,this.asAnchor=B=>B,this.asField=B=>B,this.asList=B=>B,this.asStrong=B=>B,this.asText=B=>B}getField($,W){return this.metadataService.getField($,W)}}return B.\u0275fac=function($){return new($||B)(l.Y36(i.Do))},B.\u0275cmp=l.Xpm({type:B,selectors:[["markup-block"]],inputs:{markupBlocks:"markupBlocks",linkColor:"linkColor"},decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"collectionId","field","fieldData","queryData","linkColor","contextType",4,"ngIf"],[3,"listMarkupBlock","linkColor",4,"ngIf"],["role","link",3,"cb-link","routerLink","queryParams","title"],["role","link","target","_blank","rel","nofollow noopener noreferrer",3,"cb-link","href","title"],[3,"collectionId","field","fieldData","queryData","linkColor","contextType"],[3,"listMarkupBlock","linkColor"]],template:function($,W){1&$&&l.YNc(0,H,6,5,"ng-container",0),2&$&&l.Q6J("ngForOf",W.markupBlocks)},directives:[y.sg,y.O5,d.n,g.I,f.yS,a.N,C],encapsulation:2,changeDetection:0}),B})()},40337:(oe,L,t)=>{t.d(L,{r:()=>a});var e=t(36362),i=t(90587),p=t(45857),l=t(90898),y=t(35503),d=t(93293),g=t(19366),f=t(3184);let a=(()=>{class c{}return c.\u0275fac=function(o){return new(o||c)},c.\u0275mod=f.oAB({type:c}),c.\u0275inj=f.cJS({imports:[[e.ez,l.q,i.u5,p.Bz,y.Dt,d.I,g.L]]}),c})()},29641:(oe,L,t)=>{t.d(L,{x:()=>g});var e=t(94882),i=t(19639),p=t(3184),l=t(36362),y=t(78890);function d(f,a){if(1&f&&p._UZ(0,"markup-block",1),2&f){const c=p.oxw();p.Q6J("markupBlocks",c.markupBlocks)}}let g=(()=>{class f{constructor(c,r){this.labelService=c,this.markupService=r}ngOnChanges(){if(!this.key)return;let c;c=this.values?this.labelService.getInterpolatedLabel(this.key,this.values):this.labelService.getLabel(this.key),c&&(this.markupBlocks=this.markupService.phraseToMarkupBlocks(c))}}return f.\u0275fac=function(c){return new(c||f)(p.Y36(e.Q),p.Y36(i.l))},f.\u0275cmp=p.Xpm({type:f,selectors:[["markup-label"]],inputs:{key:"key",values:"values"},features:[p.TTD],decls:1,vars:1,consts:[[3,"markupBlocks",4,"ngIf"],[3,"markupBlocks"]],template:function(c,r){1&c&&p.YNc(0,d,1,1,"markup-block",0),2&c&&p.Q6J("ngIf",r.markupBlocks)},directives:[l.O5,y.M],encapsulation:2,changeDetection:0}),f})()},39276:(oe,L,t)=>{t.d(L,{L:()=>f});var e=t(3184),i=t(87317),p=t(45857),l=t(74160),y=t(20757);function d(a,c){if(1&a&&e._UZ(0,"theme-icon",3),2&a){const r=e.oxw();e.Q6J("themeId",null==r.entityDef.display?null:r.entityDef.display.theme_id)}}const g=function(a){return["/discover",a]};let f=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275cmp=e.Xpm({type:a,selectors:[["multi-search-collection-search-link"]],inputs:{entityDef:"entityDef"},decls:5,vars:5,consts:[["mat-raised-button","",1,"mat-elevation-z2",3,"routerLink"],[3,"iconTemplate"],["icon",""],["color","primary",3,"themeId"]],template:function(r,o){if(1&r&&(e.TgZ(0,"a",0)(1,"label-with-icon",1),e._uU(2),e.qZA(),e.YNc(3,d,1,1,"ng-template",null,2,e.W1O),e.qZA()),2&r){const _=e.MAs(4);e.Q6J("routerLink",e.VKq(3,g,o.entityDef.collection_id)),e.xp6(1),e.Q6J("iconTemplate",_),e.xp6(1),e.Oqu(null==o.entityDef.labels?null:o.entityDef.labels.plural)}},directives:[i.zs,p.yS,l.d,y.p],styles:["a[_ngcontent-%COMP%]{border-radius:9999px;text-transform:initial;letter-spacing:initial}a[_ngcontent-%COMP%]   label-with-icon[_ngcontent-%COMP%]{margin:0 -4px}"],changeDetection:0}),a})()},74463:(oe,L,t)=>{t.d(L,{r:()=>d});var e=t(32519),i=t(32313),p=t(45857),l=t(90898),y=t(3184);let d=(()=>{class g{}return g.\u0275fac=function(a){return new(a||g)},g.\u0275mod=y.oAB({type:g}),g.\u0275inj=y.cJS({imports:[[e.n,i.H,p.Bz,l.q]]}),g})()},6162:(oe,L,t)=>{t.d(L,{y:()=>b});var e=t(98789),i=t(64139),p=t(47418),l=t(97160),y=t(3184),d=t(36362),g=t(713),f=t(46036),a=t(61276),c=t(35886),r=t(77500),o=t(74160),_=t(82973);function n(B,Q){if(1&B&&y._UZ(0,"img",8),2&B){const $=y.oxw();y.Q6J("src",$.ad.tracking_pixel_url,y.LSH)}}let m=(()=>{class B{getTriggerLocation(){return"registration"===this.placement?"free-registration-upsell":"profile-rail-upsell"}}return B.\u0275fac=function($){return new($||B)},B.\u0275cmp=y.Xpm({type:B,selectors:[["native-magic-card"]],inputs:{ad:"ad",placement:"placement"},decls:12,vars:10,consts:[["cb-external-link","",3,"href"],[3,"showHeader"],[1,"image-container"],["format","webp","alt","",3,"publicId","width"],[1,"cta-container"],[1,"mat-raised-button"],["iconKey","icon_pro_lightning","iconColor","inherit"],["style","display: none","width","1","height","1","alt","",3,"src",4,"ifPlatformBrowser"],["width","1","height","1","alt","",2,"display","none",3,"src"]],template:function($,W){1&$&&(y.TgZ(0,"a",0)(1,"section-card",1)(2,"div",2),y._UZ(3,"cb-image",3),y.qZA(),y.TgZ(4,"div")(5,"h2"),y._uU(6),y.qZA(),y.TgZ(7,"div",4)(8,"div",5)(9,"label-with-icon",6),y._uU(10),y.qZA()()()(),y.YNc(11,n,1,1,"img",7),y.qZA()()),2&$&&(y.Q6J("href",W.ad.click_url,y.LSH),y.xp6(1),y.Q6J("showHeader",!1),y.xp6(2),y.Q6J("publicId",W.ad.image_url)("width",416),y.xp6(1),y.Udp("background-color","#"+W.ad.color_background_hex),y.xp6(1),y.Udp("color","#"+W.ad.color_headline_hex),y.xp6(1),y.hij(" ",W.ad.headline_text," "),y.xp6(4),y.hij(" ",W.ad.cta_text," "))},directives:[f.n,a.V,c.j,r.q,o.d,_.W],styles:["[_nghost-%COMP%]  .mat-card{overflow:hidden}[_nghost-%COMP%]  img{display:block}section-card[_ngcontent-%COMP%]{margin-bottom:20px}@media (min-width: 600px){.image-container[_ngcontent-%COMP%]{min-height:340px}}h2[_ngcontent-%COMP%]{font-size:24px;line-height:34px;color:#282828;letter-spacing:.1px;font-weight:500;font-family:Roboto,Arial,sans-serif;padding:20px 32px}.cta-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding:0 32px 32px}a[_ngcontent-%COMP%]{text-decoration:none}.mat-raised-button[_ngcontent-%COMP%]{background-color:#f5a623}"],changeDetection:0}),B})();var v=t(11961),h=t(32478);function C(B,Q){1&B&&(y.TgZ(0,"div",11)(1,"a",12),y.SDv(2,13),y.qZA()())}function S(B,Q){1&B&&(y.TgZ(0,"div",11)(1,"a",12),y.SDv(2,14),y.qZA()())}function I(B,Q){if(1&B&&(y.TgZ(0,"div",15),y._UZ(1,"img",16),y.qZA()),2&B){const $=y.oxw();y.xp6(1),y.Q6J("src",$.ad.image_url,y.LSH)}}function T(B,Q){if(1&B&&y._UZ(0,"img",17),2&B){const $=y.oxw();y.Q6J("src",$.ad.tracking_pixel_url,y.LSH)}}let N=(()=>{class B{}return B.\u0275fac=function($){return new($||B)},B.\u0275cmp=y.Xpm({type:B,selectors:[["native-magic-tile"]],inputs:{ad:"ad"},decls:18,vars:15,consts:function(){let Q,$;return Q=$localize`:␟c13214c828e19e6bcaa06ae062f6580c136e7563␟7238181635567116744: Advertise on Crunchbase `,$=$localize`:␟85494d33c50468884bee03f6c5a5aaa11aaf8e13␟1542732706944028280: Sponsored Ad `,[["class","cb-display-block cb-margin-small-bottom",4,"ngIf"],["target","_blank","rel","nofollow",1,"cb-display-block",3,"href"],[1,"layout-row","layout-align-start-stretch"],["class","image-wrapper flex-none",4,"ngIf"],[1,"cb-padding-large-left","flex","layout-row","layout-align-start-center"],[1,"flex-none"],[1,"cb-font-weight-bold","cb-margin-medium-bottom"],[1,"cb-margin-large-top","layout-row","layout-align-space-between-end"],[1,"flex","cb-font-weight-bold","cb-text-transform-capitalize"],["key","icon_arrow_top_right"],["style","display: none","width","1","height","1","alt","",3,"src",4,"ifPlatformBrowser"],[1,"cb-display-block","cb-margin-small-bottom"],["href","https://about.crunchbase.com/partners/advertising-partners/","target","_blank",1,"link-primary"],Q,$,[1,"image-wrapper","flex-none"],["alt","",3,"src"],["width","1","height","1","alt","",2,"display","none",3,"src"]]},template:function($,W){1&$&&(y.TgZ(0,"div"),y.YNc(1,C,3,0,"div",0),y.YNc(2,S,3,0,"div",0),y.TgZ(3,"a",1)(4,"mat-card")(5,"div",2),y.YNc(6,I,2,1,"div",3),y.TgZ(7,"div",4)(8,"div",5)(9,"div",6),y._uU(10),y.qZA(),y.TgZ(11,"div"),y._uU(12),y.qZA()()()(),y.TgZ(13,"div",7)(14,"div",8),y._uU(15),y.qZA(),y._UZ(16,"icon",9),y.qZA()(),y.YNc(17,T,1,1,"img",10),y.qZA()()),2&$&&(y.xp6(1),y.Q6J("ngIf",W.ad.content_house_ad),y.xp6(1),y.Q6J("ngIf",W.ad.content_customer),y.xp6(1),y.Q6J("href",W.ad.click_url,y.LSH),y.xp6(1),y.Udp("background-color","#"+W.ad.color_background_hex),y.xp6(2),y.Q6J("ngIf",W.ad.image_url),y.xp6(3),y.Udp("color","#"+W.ad.color_headline_hex),y.xp6(1),y.hij(" ",W.ad.headline_text," "),y.xp6(1),y.Udp("color","#"+W.ad.color_body_hex),y.xp6(1),y.hij(" ",W.ad.body_text," "),y.xp6(2),y.Udp("color","#"+W.ad.color_cta_hex),y.xp6(1),y.hij(" ",W.ad.cta_text," "))},directives:[d.O5,v.a8,h.o,_.W],styles:["[_nghost-%COMP%]{display:block}a[_ngcontent-%COMP%]{text-decoration:none}.image-wrapper[_ngcontent-%COMP%]{flex:0 0 20%;max-width:50px}.image-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;border-radius:4px}.external-link-icon[_ngcontent-%COMP%]{align-self:flex-end}"],changeDetection:0}),B})();function x(B,Q){if(1&B&&y._UZ(0,"native-magic-card",6),2&B){const $=y.oxw().ngIf,W=y.oxw();y.Q6J("placement",W.placement)("ad",$)}}function s(B,Q){if(1&B&&y._UZ(0,"native-magic-tile",7),2&B){const $=y.oxw().ngIf;y.Q6J("ad",$)}}function E(B,Q){if(1&B&&y._UZ(0,"native-magic-tile",7),2&B){const $=y.oxw().ngIf;y.Q6J("ad",$)}}function H(B,Q){if(1&B){const $=y.EpF();y.ynx(0,1),y.TgZ(1,"div",2),y.NdJ("inViewport",function(){const le=y.CHM($).ngIf;return y.oxw().adEvent("impression",le)})("click",function(){const le=y.CHM($).ngIf;return y.oxw().adEvent("click",le)}),y.YNc(2,x,1,2,"native-magic-card",3),y.YNc(3,s,1,1,"native-magic-tile",4),y.YNc(4,E,1,1,"native-magic-tile",5),y.qZA(),y.BQk()}if(2&B){const $=y.oxw();y.Q6J("ngSwitch",$.adLayout),y.xp6(2),y.Q6J("ngSwitchCase",$.adLayoutTypes.CARD),y.xp6(1),y.Q6J("ngSwitchCase",$.adLayoutTypes.TILE)}}var V=(()=>{return(B=V||(V={})).CARD="card",B.TILE="tile",V;var B})();let b=(()=>{class B{constructor($,W){this.nativeAdService=$,this.usageEventsService=W,this.adLayoutTypes=V}ngOnInit(){this.adLayout=this.getLayoutForAdPlacement(this.placement),this.ad$=this.nativeAdService.get$(this.placement).pipe((0,p.K)($=>(0,i.of)(void 0)))}getLayoutForAdPlacement($){return"rail"===$||"registration"===$?V.CARD:V.TILE}adEvent($,W){this.usageEventsService.logUsageEvent("native_ad",{trigger:$,ad_name:W.customer_name,placement:this.placement})}}return B.\u0275fac=function($){return new($||B)(y.Y36(l.c),y.Y36(e.N))},B.\u0275cmp=y.Xpm({type:B,selectors:[["native-magic"]],inputs:{placement:"placement"},decls:2,vars:3,consts:[[3,"ngSwitch",4,"ngIf"],[3,"ngSwitch"],["inViewportNotifier","",3,"inViewport","click"],[3,"placement","ad",4,"ngSwitchCase"],[3,"ad",4,"ngSwitchCase"],[3,"ad",4,"ngSwitchDefault"],[3,"placement","ad"],[3,"ad"]],template:function($,W){1&$&&(y.YNc(0,H,5,3,"ng-container",0),y.ALo(1,"async")),2&$&&y.Q6J("ngIf",y.lcZ(1,1,W.ad$))},directives:[d.O5,d.RF,g.z,d.n9,m,N,d.ED],pipes:[d.Ov],encapsulation:2,changeDetection:0}),B})()},80910:(oe,L,t)=>{t.d(L,{a:()=>o});var e=t(36362),i=t(35503),p=t(90898),l=t(32519),y=t(33863),d=t(31156),g=t(19366),f=t(79215),a=t(4745),c=t(32313),r=t(3184);let o=(()=>{class _{}return _.\u0275fac=function(m){return new(m||_)},_.\u0275mod=r.oAB({type:_}),_.\u0275inj=r.cJS({imports:[[e.ez,i.Dt,p.q,l.n,y.f,d.H,f.u,a.Y,g.L,c.H]]}),_})()},40114:(oe,L,t)=>{t.d(L,{B:()=>o});var e=t(54166),i=t(24476),p=t(92218),l=t(86942),y=t(53298),d=t(85921),g=t(18052),f=t(3184);const a=["wrapper"];function c(_,n){}function r(_,n){if(1&_&&f._UZ(0,"overlay-arrow",5),2&_){const m=f.oxw();f.Q6J("arrowDirection",m.arrowDirection)("overlayElement",m.overlayWrapper)("originElement",m.config.connectedElement)("arrowOffset",m.arrowOffset)}}let o=(()=>{class _{constructor(m,v,h,C,S,I,T){this.overlayRef=m,this.elementRef=v,this.overlayService=h,this.changeDetectorRef=C,this.injector=S,this.config=I,this.positionStrategy=T,this.arrowOffset=this.config.arrowOffset||0,this.onDestroy$=new p.xQ,this.resizeObserver="undefined"!=typeof ResizeObserver?new ResizeObserver(()=>{this.repositionOverlay()}):{observe:()=>{},disconnect:()=>{}},T instanceof e._G&&!this.config.noArrow&&T.positionChanges.pipe((0,l.U)(N=>this.overlayService.getArrowDirection(N.connectionPair)),(0,y.x)(),(0,d.R)(this.onDestroy$)).subscribe(N=>{this.arrowDirection=N,this.changeDetectorRef.detectChanges()})}ngOnInit(){this.overlayPortal=new i.C5(this.config.component,null,this.injector)}ngAfterViewInit(){this.resizeObserver.observe(this.overlayWrapper.nativeElement)}ngOnDestroy(){this.onDestroy$.next(),this.resizeObserver.disconnect()}repositionOverlay(){this.overlayRef.updatePosition()}}return _.\u0275fac=function(m){return new(m||_)(f.Y36(e.Iu),f.Y36(f.SBq),f.Y36(g.F0),f.Y36(f.sBO),f.Y36(f.zs3),f.Y36(g.A3),f.Y36(g.kU))},_.\u0275cmp=f.Xpm({type:_,selectors:[["overlay"]],viewQuery:function(m,v){if(1&m&&f.Gf(a,7),2&m){let h;f.iGM(h=f.CRH())&&(v.overlayWrapper=h.first)}},decls:5,vars:4,consts:[[1,"mat-elevation-z3","overlay-wrapper"],["wrapper",""],[1,"overlay-inner"],[3,"cdkPortalOutlet"],[3,"arrowDirection","overlayElement","originElement","arrowOffset",4,"ngIf"],[3,"arrowDirection","overlayElement","originElement","arrowOffset"]],template:function(m,v){1&m&&(f.TgZ(0,"div",0,1)(2,"div",2),f.YNc(3,c,0,0,"ng-template",3),f.qZA(),f.YNc(4,r,1,4,"overlay-arrow",4),f.qZA()),2&m&&(f.xp6(2),f.ekj("padded-border",v.config.connectedElement),f.xp6(1),f.Q6J("cdkPortalOutlet",v.overlayPortal),f.xp6(1),f.Q6J("ngIf",v.config.connectedElement&&!v.config.noArrow))},styles:[".overlay-inner[_ngcontent-%COMP%]{background-color:#fff;border-radius:3px;box-sizing:border-box;max-width:100vw;max-height:80vh;display:flex;overflow:auto}.overlay-inner.padded-border[_ngcontent-%COMP%]{border:1px solid #cbcbcb;padding:2px}.overlay-wrapper[_ngcontent-%COMP%]{position:relative;border-radius:3px}"],changeDetection:0}),_})()},7856:(oe,L,t)=>{t.d(L,{G:()=>I});var e=t(3184),i=t(90587),p=t(85921),l=t(92218);let y=(()=>{class T{static valuesMatch(x,s){return function(E){if(!(E instanceof i.cw))throw Error("PasswordValidators#valuesMatch validator requires FormGroup");return E.controls[x].value!==E.controls[s].value?{missmatch:!0}:null}}}return T.hasLowercaseLetter=N=>/[a-z]/.test(N.value)?null:{passwordLowercase:!0},T.hasUppercaseLetter=N=>/[A-Z]/.test(N.value)?null:{passwordUppercase:!0},T.hasNumber=N=>/[0-9]/.test(N.value)?null:{passwordNumber:!0},T})();var d=t(44770),g=t(43365),f=t(59543),a=t(50450),c=t(36362),r=t(29847),o=t(32478),_=t(74929);const n=function(T,N,x){return{requirement:!0,clean:T,valid:N,error:x}};let m=(()=>{class T{constructor(x){this.changeDetectorRef=x,this.isTouched=!1,this.styleClass="clean",this.icon=null,this.ariaHidden=!1}ngOnChanges(x){(x.error||x.isTouched)&&this.setAttributes()}setAttributes(){this.isTouched?this.error&&this.isTouched?(this.styleClass="error",this.ariaHidden=!1,this.icon="icon_close"):(this.styleClass="valid",this.ariaHidden=!0,this.icon="icon_check"):(this.styleClass="clean",this.ariaHidden=!1,this.icon=null),this.changeDetectorRef.markForCheck()}}return T.\u0275fac=function(x){return new(x||T)(e.Y36(e.sBO))},T.\u0275cmp=e.Xpm({type:T,selectors:[["password-requirement"]],inputs:{error:"error",labelKey:"labelKey",isTouched:"isTouched"},features:[e.TTD],decls:5,vars:12,consts:[[3,"ngClass"],[1,"icon-container"],["color","inherit","size","custom",3,"key"]],template:function(x,s){1&x&&(e.TgZ(0,"div",0)(1,"span",1),e._UZ(2,"icon",2),e.qZA(),e._uU(3),e.ALo(4,"translate"),e.qZA()),2&x&&(e.Q6J("ngClass",e.kEZ(8,n,"clean"===s.styleClass,"valid"===s.styleClass,"error"===s.styleClass)),e.uIk("aria-hidden",s.ariaHidden?"true":null),e.xp6(2),e.Tol(s.icon?null:"bullet"),e.Q6J("key",s.icon?s.icon:"icon_bullet"),e.xp6(1),e.hij(" ",e.lcZ(4,6,s.labelKey),"\n"))},directives:[c.mk,o.o],pipes:[_.X],styles:[".requirement[_ngcontent-%COMP%]{display:flex;align-items:center;color:#0000008a;font-size:12px}.icon-container[_ngcontent-%COMP%]{height:1em;width:1em;min-width:1em;min-height:1em;line-height:1em;margin-right:4px;display:flex;align-items:center;justify-content:space-around}.icon-container[_ngcontent-%COMP%]   icon[_ngcontent-%COMP%]{height:1em;width:1em;min-width:1em;min-height:1em;line-height:1em}.icon-container[_ngcontent-%COMP%]   icon.bullet[_ngcontent-%COMP%]{height:.5em;width:.5em;min-width:.5em;min-height:.5em;line-height:.5em}.error[_ngcontent-%COMP%]{color:#c73636}.valid[_ngcontent-%COMP%]{color:#36c78f}"],changeDetection:0}),T})();function v(T,N){if(1&T&&(e.TgZ(0,"mat-form-field",1)(1,"mat-label"),e.SDv(2,13),e.qZA(),e._UZ(3,"input",14),e.TgZ(4,"mat-error"),e._UZ(5,"form-error",15)(6,"server-error",16),e.qZA()()),2&T){const x=e.oxw();e.Q6J("floatLabel",x.floatLabel),e.xp6(3),e.Q6J("serverError",x.apiError),e.xp6(2),e.Q6J("error",null==x.newPasswordConfirm||null==x.newPasswordConfirm.errors?null:x.newPasswordConfirm.errors.required)("isTouched",x.newPasswordConfirm.touched),e.xp6(1),e.Q6J("error",x.apiError)}}function h(T,N){if(1&T&&e._UZ(0,"password-requirement",17),2&T){const x=e.oxw();e.Q6J("error",null==x.form.errors?null:x.form.errors.missmatch)("isTouched",x.newPasswordConfirm.dirty)}}let I=(()=>{class T{constructor(x){this.formBuilder=x,this.disableConfirmation=!1,this.floatLabel=null,this.MAX_PASSWORD_LENGTH=99,this.onDestroy$=new l.xQ,this.onChange=()=>({}),this.onTouched=()=>({}),this.form=this.formBuilder.group({newPassword:new i.NI("",[i.kI.required,i.kI.minLength(8),i.kI.maxLength(99),y.hasLowercaseLetter,y.hasUppercaseLetter,y.hasNumber])}),this.form.valueChanges.pipe((0,p.R)(this.onDestroy$)).subscribe(s=>{this.onChange(s),this.onTouched()})}get value(){return this.form.value}set value(x){this.form.setValue(x),this.onChange(x),this.onTouched()}ngOnInit(){this.disableConfirmation||(this.form.addControl("newPasswordConfirm",new i.NI("",[i.kI.required])),this.form.clearValidators(),this.form.setValidators(y.valuesMatch("newPassword","newPasswordConfirm")))}get newPassword(){return this.form.controls.newPassword}get newPasswordConfirm(){return this.form.controls.newPasswordConfirm}ngOnDestroy(){this.onDestroy$.next()}registerOnChange(x){this.onChange=x}registerOnTouched(x){this.onTouched=x}writeValue(x){x&&(this.value=x),null===x&&this.form.reset()}validate(){return this.form.valid?null:{newPassword:!1}}}return T.\u0275fac=function(x){return new(x||T)(e.Y36(i.qu))},T.\u0275cmp=e.Xpm({type:T,selectors:[["password-form"]],inputs:{apiError:"apiError",disableConfirmation:"disableConfirmation",floatLabel:"floatLabel"},features:[e._Bn([{provide:i.JU,useExisting:(0,e.Gpc)(()=>T),multi:!0},{provide:i.Cf,useExisting:(0,e.Gpc)(()=>T),multi:!0}])],decls:17,vars:16,consts:function(){let N,x;return N=$localize`:␟c7014c6360e94b236286b869c3fe0ea9911c0387␟1221596867309460035:New Password`,x=$localize`:␟95b8c38cdfc865bcf8964d8f1ee61ddd12f3ce57␟8063656610167434338:New Password (Again)`,[[3,"formGroup"],[3,"floatLabel"],N,["formControlName","newPassword","matInput","","required","","fieldName","password","autocomplete","new-password","type","password","name","newPassword",3,"maxlength","serverError"],["fieldName","password",3,"error"],[3,"floatLabel",4,"ngIf"],[1,"requirements"],["id","password-requirements"],["labelKey","CBL.CHANGE_PASSWORD.TOO_SHORT",3,"error","isTouched"],["labelKey","CBL.CHANGE_PASSWORD.NO_NUMBER",3,"error","isTouched"],["labelKey","CBL.CHANGE_PASSWORD.NO_MATCH",3,"error","isTouched",4,"ngIf"],["labelKey","CBL.CHANGE_PASSWORD.NO_LOWERCASE",3,"error","isTouched"],["labelKey","CBL.CHANGE_PASSWORD.NO_UPPERCASE",3,"error","isTouched"],x,["formControlName","newPasswordConfirm","matInput","","required","","autocomplete","off","fieldName","password_confirmation","type","password","name","newPasswordConfirm","aria-describedby","password-requirements",3,"serverError"],["label","CBL.COMMON.REQUIRED",3,"error","isTouched"],["fieldName","password_confirmation",3,"error"],["labelKey","CBL.CHANGE_PASSWORD.NO_MATCH",3,"error","isTouched"]]},template:function(x,s){1&x&&(e.TgZ(0,"form",0)(1,"mat-form-field",1)(2,"mat-label"),e.SDv(3,2),e.qZA(),e._UZ(4,"input",3),e.TgZ(5,"mat-error"),e._UZ(6,"server-error",4),e.qZA()(),e.YNc(7,v,7,5,"mat-form-field",5),e.TgZ(8,"div",6)(9,"div",7)(10,"div"),e._UZ(11,"password-requirement",8)(12,"password-requirement",9),e.YNc(13,h,1,2,"password-requirement",10),e.qZA(),e.TgZ(14,"div"),e._UZ(15,"password-requirement",11)(16,"password-requirement",12),e.qZA()()()()),2&x&&(e.Q6J("formGroup",s.form),e.xp6(1),e.Q6J("floatLabel",s.floatLabel),e.xp6(3),e.Q6J("maxlength",s.MAX_PASSWORD_LENGTH)("serverError",s.apiError),e.xp6(2),e.Q6J("error",s.apiError),e.xp6(1),e.Q6J("ngIf",!s.disableConfirmation),e.xp6(2),e.uIk("role",s.newPassword.invalid&&s.newPassword.dirty?"alert":null),e.xp6(2),e.Q6J("error",(null==s.newPassword||null==s.newPassword.errors?null:s.newPassword.errors.minlength)||(null==s.newPassword||null==s.newPassword.errors?null:s.newPassword.errors.required))("isTouched",s.newPassword.dirty),e.xp6(1),e.Q6J("error",null==s.newPassword||null==s.newPassword.errors?null:s.newPassword.errors.passwordNumber)("isTouched",s.newPassword.dirty),e.xp6(1),e.Q6J("ngIf",!s.disableConfirmation),e.xp6(2),e.Q6J("error",null==s.newPassword||null==s.newPassword.errors?null:s.newPassword.errors.passwordLowercase)("isTouched",s.newPassword.dirty),e.xp6(1),e.Q6J("error",null==s.newPassword||null==s.newPassword.errors?null:s.newPassword.errors.passwordUppercase)("isTouched",s.newPassword.dirty))},directives:[i._Y,i.JL,i.sg,d.KE,d.hX,i.Fj,g.Nt,i.JJ,i.u,i.Q7,i.nD,f._,d.TO,a.k,c.O5,r.A,m],styles:["form[_ngcontent-%COMP%]{display:flex;flex-direction:column}form[_ngcontent-%COMP%]   .requirements[_ngcontent-%COMP%]   #password-requirements[_ngcontent-%COMP%]{display:flex;justify-content:space-between}@media (min-width: 600px){form[_ngcontent-%COMP%]   .requirements[_ngcontent-%COMP%]   #password-requirements[_ngcontent-%COMP%]{justify-content:normal}}form[_ngcontent-%COMP%]   .requirements[_ngcontent-%COMP%]   #password-requirements[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-right:8px}@media (min-width: 600px){form[_ngcontent-%COMP%]   .requirements[_ngcontent-%COMP%]   #password-requirements[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-right:48px}}form[_ngcontent-%COMP%]   .requirements[_ngcontent-%COMP%]   #password-requirements[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{margin-right:0}form[_ngcontent-%COMP%]   .requirements[_ngcontent-%COMP%]   #password-requirements[_ngcontent-%COMP%]   password-requirement[_ngcontent-%COMP%]{display:block;margin-top:8px}"],changeDetection:0}),T})()},75012:(oe,L,t)=>{t.d(L,{M:()=>a});var e=t(36362),i=t(90587),p=t(35503),l=t(90898),y=t(65852),d=t(32519),g=t(33706),f=t(3184);let a=(()=>{class c{}return c.\u0275fac=function(o){return new(o||c)},c.\u0275mod=f.oAB({type:c}),c.\u0275inj=f.cJS({imports:[[e.ez,i.UX,p.Dt,l.q,y.C,d.n,g.T]]}),c})()},85903:(oe,L,t)=>{t.d(L,{M:()=>g}),t(93443);var i=t(14021),p=t(3184),l=t(36362);function y(f,a){if(1&f&&(p.TgZ(0,"span"),p.SDv(1,4),p.qZA()),2&f){const c=p.oxw();p.xp6(1),p.pQV(c.paymentSource.expiration_month)(c.paymentSource.expiration_year),p.QtT(1)}}function d(f,a){if(1&f&&(p.TgZ(0,"span",5),p.SDv(1,6),p.qZA()),2&f){const c=p.oxw();p.xp6(1),p.pQV(c.paymentSource.expiration_month)(c.paymentSource.expiration_year),p.QtT(1)}}let g=(()=>{class f{constructor(c){this.billingService=c}ngOnChanges(){this.isExpired=this.billingService.isCardExpired(this.paymentSource)}}return f.\u0275fac=function(c){return new(c||f)(p.Y36(i.jM))},f.\u0275cmp=p.Xpm({type:f,selectors:[["payment-method-text"]],inputs:{paymentSource:"paymentSource"},features:[p.TTD],decls:5,vars:4,consts:function(){let a,c;return a=$localize`:␟9608d66f3f80feb3fa4e0e02eeacb57204b7d6b1␟2631568858072121366: Expires ${"\ufffd0\ufffd"}:INTERPOLATION:/${"\ufffd1\ufffd"}:INTERPOLATION_1: `,c=$localize`:␟d108c7dc6d96e9fef8e266805b198ec88403b958␟8973210063696396398: Expired ${"\ufffd0\ufffd"}:INTERPOLATION:/${"\ufffd1\ufffd"}:INTERPOLATION_1: `,[[1,"name"],[1,"expiration-text"],[4,"ngIf"],["class","expired",4,"ngIf"],a,[1,"expired"],c]},template:function(c,r){1&c&&(p.TgZ(0,"div",0),p._uU(1),p.qZA(),p.TgZ(2,"div",1),p.YNc(3,y,2,2,"span",2),p.YNc(4,d,2,2,"span",3),p.qZA()),2&c&&(p.xp6(1),p.AsE(" ",r.paymentSource.brand," ****",r.paymentSource.last4,"\n"),p.xp6(2),p.Q6J("ngIf",!r.isExpired),p.xp6(1),p.Q6J("ngIf",r.isExpired))},directives:[l.O5],styles:["[_nghost-%COMP%]{display:block}.name[_ngcontent-%COMP%]{font-size:16px;font-weight:500}.expiration-text[_ngcontent-%COMP%]{margin-top:4px}.expired[_ngcontent-%COMP%]{color:#c73636}"],changeDetection:0}),f})()},81450:(oe,L,t)=>{t.d(L,{U:()=>p});var e=t(36362),i=t(3184);let p=(()=>{class l{}return l.\u0275fac=function(d){return new(d||l)},l.\u0275mod=i.oAB({type:l}),l.\u0275inj=i.cJS({imports:[[e.ez]]}),l})()},83485:(oe,L,t)=>{t.d(L,{s:()=>_});var e=t(36362),i=t(45857),p=t(35503),l=t(48212),y=t(32519),d=t(51044),g=t(30412),f=t(33863),a=t(32313),c=t(5076),r=t(74742),o=t(3184);let _=(()=>{class n{}return n.\u0275fac=function(v){return new(v||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[e.ez,i.Bz,p.Dt,l.x,y.n,d.X,r.Cq,f.f,a.H,c.V,g.l]]}),n})()},30703:(oe,L,t)=>{t.d(L,{O:()=>K});var e=t(2384),i=t(7323),p=t(83910),l=t(85129),y=t(46179),d=t(46829),g=t(3184),f=t(95758),a=t(71360),c=t(84505),r=t(92218),o=t(19193),_=t(89479),n=t(86942),m=t(85921),v=t(843),h=t(97010),C=t(93443),S=t(25848),I=t(75215),T=t(94882),N=t(73729),x=t(36362),s=t(20605),E=t(61531),H=t(43652),V=t(74929);function b(te,Ie){1&te&&(g.TgZ(0,"div",1)(1,"span",2),g.SDv(2,3),g.qZA(),g.TgZ(3,"upsell-modal-button",4),g._uU(4),g.ALo(5,"translate"),g.qZA()()),2&te&&(g.xp6(4),g.hij(" ",g.lcZ(5,1,"CBL.LOGIN.TRY_PRO_FOR_FREE")," "))}let B=(()=>{class te{constructor(){this.maintenanceModeBillingFlag=s.TT.MAINTENANCE_MODE_BILLING}}return te.\u0275fac=function(Te){return new(Te||te)},te.\u0275cmp=g.Xpm({type:te,selectors:[["list-pro-upsell-banner"]],decls:1,vars:1,consts:function(){let Ie;return Ie=$localize`:␟8ce7a8e8b136411c04e4d6052d8d9962e558c39a␟7550697103014691127:Unlock unlimited lists with Pro subscription`,[["class","banner",4,"ifNotFeatureFlagBoolean"],[1,"banner"],[1,"upsell-copy"],Ie,["featureSet","list_membership","triggerLocation","save-to-list-upsell-banner"]]},template:function(Te,ce){1&Te&&g.YNc(0,b,6,3,"div",0),2&Te&&g.Q6J("ifNotFeatureFlagBoolean",ce.maintenanceModeBillingFlag)},directives:[E.l,H.J],pipes:[V.X],styles:[".banner[_ngcontent-%COMP%]{background-color:#fef4e5;color:#282828;padding:16px;display:flex;align-items:center;justify-content:space-between;max-width:100%}"]}),te})();var Q=t(77500),$=t(44822),W=t(40089);let q=(()=>{class te{constructor(){this.onSaveAction=new g.vpe}handleClick(){this.onSaveAction.emit(this.list)}}return te.\u0275fac=function(Te){return new(Te||te)},te.\u0275cmp=g.Xpm({type:te,selectors:[["save-to-list-item"]],inputs:{list:"list"},outputs:{onSaveAction:"onSaveAction"},decls:5,vars:10,consts:[[3,"label","color","iconKey","isDisabled","isLoading","onClick"]],template:function(Te,ce){1&Te&&(g.TgZ(0,"span"),g._uU(1),g.qZA(),g.TgZ(2,"progress-button",0),g.NdJ("onClick",function(){return ce.handleClick()}),g.ALo(3,"translate"),g.ALo(4,"translate"),g.qZA()),2&Te&&(g.xp6(1),g.Oqu(ce.list.name),g.xp6(1),g.Q6J("label",ce.list.saved?g.lcZ(3,6,"CBL.SAVE_TO_LIST.BUTTON.SAVED"):g.lcZ(4,8,"CBL.SAVE_TO_LIST.BUTTON.SAVE"))("color",ce.list.saved?"accent":"primary")("iconKey",ce.list.saved?"icon_check":"icon_add_circle")("isDisabled",ce.list.loading)("isLoading",ce.list.loading))},directives:[$.l],pipes:[V.X],styles:["[_nghost-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:8px}icon[_ngcontent-%COMP%]{margin-right:4px}"],changeDetection:0}),te})();var le=t(87317);function J(te,Ie){1&te&&g._UZ(0,"list-pro-upsell-banner")}function u(te,Ie){if(1&te&&(g.TgZ(0,"li")(1,"div",8)(2,"div",9),g._UZ(3,"cb-image",10),g.TgZ(4,"span",11),g.SDv(5,12),g.qZA()(),g.TgZ(6,"div"),g._UZ(7,"progress-button",13),g.ALo(8,"translate"),g.ALo(9,"translate"),g.qZA()()()),2&te){const Te=g.oxw(3);g.xp6(3),g.Q6J("resource",Te.crmLogoUrl)("width",64)("height",64)("original",!0),g.xp6(4),g.Q6J("label",g.lcZ(8,7,"CBL.SAVE_TO_LIST.BUTTON.SAVED"))("isDisabled",!0)("matTooltip",g.lcZ(9,9,"CBL.SAVE_TO_LIST.LIST_FORM.CRM_LIST_TOOLTIP"))}}function D(te,Ie){if(1&te){const Te=g.EpF();g.TgZ(0,"li")(1,"save-to-list-item",14),g.NdJ("onSaveAction",function(Re){return g.CHM(Te),g.oxw(3).handleItemChange(Re)}),g.qZA()()}if(2&te){const Te=Ie.$implicit;g.xp6(1),g.Q6J("list",Te)}}function se(te,Ie){if(1&te&&(g.TgZ(0,"ul"),g.YNc(1,u,10,11,"li",2),g.YNc(2,D,2,1,"li",7),g.qZA()),2&te){const Te=g.oxw(2);g.xp6(1),g.Q6J("ngIf",Te.isSavedToMyCrm),g.xp6(1),g.Q6J("ngForOf",Te.lists)}}function ne(te,Ie){if(1&te&&(g.TgZ(0,"div",15),g._uU(1),g.qZA()),2&te){const Te=g.oxw(2);g.xp6(1),g.hij(" ",Te.noListsLabel," ")}}function _e(te,Ie){if(1&te&&(g.ynx(0),g.YNc(1,se,3,2,"ul",2),g.YNc(2,ne,2,1,"div",6),g.BQk()),2&te){const Te=g.oxw();g.xp6(1),g.Q6J("ngIf",Te.listsAvailable),g.xp6(1),g.Q6J("ngIf",!Te.listsAvailable)}}function ee(te,Ie){if(1&te){const Te=g.EpF();g.TgZ(0,"button",16),g.NdJ("click",function(){return g.CHM(Te),g.oxw().createList()}),g.ALo(1,"async"),g._uU(2),g.ALo(3,"uppercase"),g.ALo(4,"translate"),g.qZA()}if(2&te){const Te=g.oxw();g.Q6J("disabled",g.lcZ(1,2,Te.processing$)),g.xp6(2),g.hij(" ",g.lcZ(3,4,g.lcZ(4,6,"CBL.SAVE_TO_LIST.LIST_FORM.CREATE_LIST"))," ")}}function w(te,Ie){1&te&&(g.TgZ(0,"upsell-modal-button",17),g._uU(1),g.ALo(2,"translate"),g.qZA()),2&te&&(g.xp6(1),g.hij(" ",g.lcZ(2,1,"CBL.LISTS.CREATE_NEW_LIST")," "))}let G=(()=>{class te{constructor(Te,ce,Re,fe,ye,Ge,at){this.saveToListService=Te,this.toastService=ce,this.changeDetectorRef=Re,this.permissionService=fe,this.syntheticMetadataService=ye,this.metadataService=Ge,this.labelService=at,this.completed=new g.vpe,this.goToCreateList=new g.vpe,this.loading$=new c.X(!0),this.saving$=new c.X(!1),this.crmLogoUrl=h.Wh.crm.salesforce,this.canCreateNewList=this.permissionService.canCreateNewList(),this.isSavedToMyCrm=!1,this.onDestroy=new r.xQ}ngOnInit(){this.setLoadingStreams(),this.loadLists()}ngOnChanges(Te){var ce;if(Te.entityDefId){const Re=this.syntheticMetadataService.getEntityDefsWithSingleCollectionLists().includes(this.entityDefId),fe=(null===(ce=this.metadataService.getEntityDef(this.entityDefId))||void 0===ce?void 0:ce.labels.singular)||"";this.noListsLabel=Re?this.labelService.getInterpolatedLabel("CBL.SAVE_TO_LIST.LIST_FORM.NO_SINGLE_COLLECTION_LISTS",{entityDefLabel:fe}):$localize`You don't have any lists`}}ngOnDestroy(){this.onDestroy.next()}handleItemChange(Te){Te.saved?this.saveToListService.removeFromStaticList(this.entityId,Te).catch(()=>this.toastService.showSimpleToast("CBL.COMMON.FAILURE")):this.saveToListService.saveToStaticList(this.entityId,Te).catch(()=>this.toastService.showSimpleToast("CBL.COMMON.FAILURE"))}createList(){this.goToCreateList.emit()}setLoadingStreams(){this.processing$=(0,o.aj)([this.loading$,this.saving$]).pipe((0,n.U)(Te=>Te.some(ce=>!!ce)))}loadLists(){this.saveToListService.loadListsForEntity$(this.entityId,this.entityDefId).pipe((0,m.R)(this.onDestroy)).subscribe({next:Te=>{this.isSavedToMyCrm=Te.some(ce=>ce.designation===C.BW.DesignationEnum.crm_accounts&&ce.saved),this.lists=Te.filter(ce=>ce.designation!==C.BW.DesignationEnum.crm_accounts),this.listsAvailable=this.isSavedToMyCrm||this.lists.length>0,this.loading$.next(!1),this.changeDetectorRef.markForCheck()},error:()=>{this.toastService.showSimpleToast("CBL.COMMON.FAILURE"),this.completed.emit()}})}}return te.\u0275fac=function(Te){return new(Te||te)(g.Y36(_.n),g.Y36(y.k),g.Y36(g.sBO),g.Y36(v.$),g.Y36(S.Y),g.Y36(I.Do),g.Y36(T.Q))},te.\u0275cmp=g.Xpm({type:te,selectors:[["save-to-list"]],inputs:{entityId:"entityId",entityDefId:"entityDefId"},outputs:{completed:"completed",goToCreateList:"goToCreateList"},features:[g.TTD],decls:11,vars:13,consts:function(){let Ie;return Ie=$localize`:␟8de1c526961d16b1056bd0c4f8a047c114c2a742␟1288997680693189395: Salesforce CRM `,[[3,"title","processing","fullBleed"],["dialog-content",""],[4,"ngIf"],["dialog-actions","",1,"layout-row"],["mat-stroked-button","","color","primary","class","create-list-button",3,"disabled","click",4,"ngIf","ngIfElse"],["upsellButton",""],["class","no-lists",4,"ngIf"],[4,"ngFor","ngForOf"],["data-heap-save-to-list-checkbox","",1,"layout-row","layout-align-start-center","crm-container"],[1,"logo-and-title"],["alt","",1,"crm-logo",3,"resource","width","height","original"],[1,"cb-margin-small-right","cb-overflow-ellipsis","flex-nogrow"],Ie,["color","accent","iconKey","icon_check",3,"label","isDisabled","matTooltip"],[3,"list","onSaveAction"],[1,"no-lists"],["mat-stroked-button","","color","primary",1,"create-list-button",3,"disabled","click"],["triggerLocation","profile-create-new-list","featureSet","list_membership","buttonType","basic"]]},template:function(Te,ce){if(1&Te&&(g.TgZ(0,"dialog-layout",0),g.ALo(1,"translate"),g.ALo(2,"async"),g.TgZ(3,"div",1),g.YNc(4,J,1,0,"list-pro-upsell-banner",2),g.YNc(5,_e,3,2,"ng-container",2),g.ALo(6,"async"),g.qZA(),g.TgZ(7,"div",3),g.YNc(8,ee,5,8,"button",4),g.YNc(9,w,3,3,"ng-template",null,5,g.W1O),g.qZA()()),2&Te){const Re=g.MAs(10);g.Q6J("title",g.lcZ(1,7,"CBL.SAVE_TO_LIST.LIST_FORM.TITLE"))("processing",g.lcZ(2,9,ce.processing$))("fullBleed",!0),g.xp6(4),g.Q6J("ngIf",!ce.canCreateNewList),g.xp6(1),g.Q6J("ngIf",!g.lcZ(6,11,ce.loading$)),g.xp6(3),g.Q6J("ngIf",ce.canCreateNewList)("ngIfElse",Re)}},directives:[N.I,x.O5,B,Q.q,$.l,W.gM,x.sg,q,le.lW,H.J],pipes:[V.X,x.Ov,x.gd],styles:[".crm-container[_ngcontent-%COMP%]{padding:16px 8px;justify-content:space-between}.crm-container[_ngcontent-%COMP%]   .logo-and-title[_ngcontent-%COMP%]{display:flex;align-items:center}.crm-container[_ngcontent-%COMP%]   .logo-and-title[_ngcontent-%COMP%]   .crm-logo[_ngcontent-%COMP%]{width:32px;margin-right:8px;flex-shrink:0}ul[_ngcontent-%COMP%]{margin:0;padding:8px}@media (min-width: 960px){ul[_ngcontent-%COMP%]{padding:32px}}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{border-bottom:1px solid rgba(0,0,0,.12)}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{border-bottom:none}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding:16px 0;cursor:pointer}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{background-color:#0000000d}.no-lists[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:48px}.create-list-button[_ngcontent-%COMP%]:not([disabled]){border-color:#146aff}"],changeDetection:0}),te})();var k=t(30988);let X=(()=>{class te extends e.V{constructor(Te,ce){super(),this.dialogRef=Te,this.toastService=ce}ngOnInit(){if(this.entityId=this.payload&&this.payload.entityId,!this.entityId)return this.toastService.showSimpleToast("CBL.COMMON.FAILURE"),void this.closeDialog()}closeDialog(){this.dialogRef.close()}showCreateListForm(){this.slides.next()}navFromCreateToSave(){this.slides.previous()}}return te.\u0275fac=function(Te){return new(Te||te)(g.Y36(f.so),g.Y36(y.k))},te.\u0275cmp=g.Xpm({type:te,selectors:[["ng-component"]],viewQuery:function(Te,ce){if(1&Te&&g.Gf(d.o,7),2&Te){let Re;g.iGM(Re=g.CRH())&&(ce.slides=Re.first)}},features:[g.qOj],decls:5,vars:3,consts:[[3,"entityId","entityDefId","completed","goToCreateList"],[3,"entityDefId","completed"]],template:function(Te,ce){1&Te&&(g.TgZ(0,"slides")(1,"slide")(2,"save-to-list",0),g.NdJ("completed",function(){return ce.closeDialog()})("goToCreateList",function(){return ce.showCreateListForm()}),g.qZA()(),g.TgZ(3,"slide")(4,"create-list-form",1),g.NdJ("completed",function(){return ce.navFromCreateToSave()}),g.qZA()()()),2&Te&&(g.xp6(2),g.Q6J("entityId",ce.entityId)("entityDefId",ce.payload.entityDefId),g.xp6(2),g.Q6J("entityDefId",ce.payload.entityDefId))},directives:[d.o,a.o,G,k.I],styles:["[_nghost-%COMP%]     .mat-dialog-content{height:35vh;margin:0;padding:0}slides[_ngcontent-%COMP%]{min-width:200px}@media (min-width: 960px){slides[_ngcontent-%COMP%]{width:450px}}"],changeDetection:0}),te})(),K=(()=>{class te{constructor(Te,ce){this.dialogService=Te,this.userService=ce}openSaveDialog(Te,ce){return this.userService.getIsLoggedIn$().pipe((0,p.q)(1)).toPromise().then(Re=>Re?this.dialogService.showDialog(X,{entityId:Te,entityDefId:ce}):this.dialogService.showDialog(l.j,{featureSet:"register"}))}}return te.\u0275fac=function(Te){return new(Te||te)(g.LFG(e.x),g.LFG(i.KD))},te.\u0275prov=g.Yz7({token:te,factory:te.\u0275fac,providedIn:"root"}),te})()},24993:(oe,L,t)=>{t.d(L,{z:()=>E});var e=t(3184),i=t(35560),p=t(30703),l=t(61555),y=t(59095),d=t(79128),g=t(83910),f=t(36362),a=t(87317),c=t(74160),r=t(32478),o=t(74929);function _(H,V){1&H&&(e.ynx(0),e.TgZ(1,"label-with-icon",7),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.BQk()),2&H&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"CBL.SAVE_TO_LIST.BUTTON.SAVED")," "))}function n(H,V){1&H&&(e.TgZ(0,"label-with-icon",8),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&H&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"CBL.COMMON.SAVE")," "))}function m(H,V){if(1&H){const b=e.EpF();e.TgZ(0,"button",4),e.NdJ("click",function(){return e.CHM(b),e.oxw().openDialog()}),e.ALo(1,"async"),e.ALo(2,"async"),e.ALo(3,"translate"),e.ALo(4,"async"),e.YNc(5,_,4,3,"ng-container",5),e.ALo(6,"async"),e.YNc(7,n,3,3,"ng-template",null,6,e.W1O),e.qZA()}if(2&H){const b=e.MAs(8),B=e.oxw();e.Q6J("color",e.lcZ(1,5,B.isSaved$)?"accent":"primary")("disabled",!e.lcZ(2,7,B.entityId$)),e.uIk("aria-label",e.lcZ(3,9,e.lcZ(4,11,B.isSaved$)?"CBL.SAVE_TO_LIST.BUTTON.SAVED":"CBL.COMMON.SAVE")),e.xp6(5),e.Q6J("ngIf",e.lcZ(6,13,B.isSaved$))("ngIfElse",b)}}function v(H,V){1&H&&(e.ynx(0),e._UZ(1,"icon",10),e.BQk())}function h(H,V){1&H&&e._UZ(0,"icon",11)}function C(H,V){if(1&H){const b=e.EpF();e.TgZ(0,"button",9),e.NdJ("click",function(){return e.CHM(b),e.oxw().openDialog()}),e.ALo(1,"async"),e.ALo(2,"async"),e.ALo(3,"translate"),e.ALo(4,"async"),e.YNc(5,v,2,0,"ng-container",5),e.ALo(6,"async"),e.YNc(7,h,1,0,"ng-template",null,6,e.W1O),e.qZA()}if(2&H){const b=e.MAs(8),B=e.oxw();e.Q6J("color",e.lcZ(1,5,B.isSaved$)?"accent":"primary")("disabled",!e.lcZ(2,7,B.entityId$)),e.uIk("aria-label",e.lcZ(3,9,e.lcZ(4,11,B.isSaved$)?"CBL.SAVE_TO_LIST.BUTTON.SAVED":"CBL.COMMON.SAVE")),e.xp6(5),e.Q6J("ngIf",e.lcZ(6,13,B.isSaved$))("ngIfElse",b)}}function S(H,V){1&H&&(e.ynx(0),e.TgZ(1,"label-with-icon",7),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.BQk()),2&H&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"CBL.SAVE_TO_LIST.BUTTON.SAVED")," "))}function I(H,V){1&H&&(e.TgZ(0,"label-with-icon",8),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&H&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"CBL.COMMON.SAVE")," "))}function T(H,V){if(1&H){const b=e.EpF();e.TgZ(0,"button",12),e.NdJ("click",function(){return e.CHM(b),e.oxw().openDialog()}),e.ALo(1,"async"),e.ALo(2,"async"),e.ALo(3,"translate"),e.ALo(4,"async"),e.YNc(5,S,4,3,"ng-container",5),e.ALo(6,"async"),e.YNc(7,I,3,3,"ng-template",null,6,e.W1O),e.qZA()}if(2&H){const b=e.MAs(8),B=e.oxw();e.Q6J("color",e.lcZ(1,5,B.isSaved$)?"accent":"primary")("disabled",!e.lcZ(2,7,B.entityId$)),e.uIk("aria-label",e.lcZ(3,9,e.lcZ(4,11,B.isSaved$)?"CBL.SAVE_TO_LIST.BUTTON.SAVED":"CBL.COMMON.SAVE")),e.xp6(5),e.Q6J("ngIf",e.lcZ(6,13,B.isSaved$))("ngIfElse",b)}}function N(H,V){1&H&&(e.ynx(0),e._UZ(1,"icon",10),e.BQk())}function x(H,V){1&H&&e._UZ(0,"icon",11)}function s(H,V){if(1&H){const b=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){return e.CHM(b),e.oxw().openDialog()}),e.ALo(1,"async"),e.ALo(2,"async"),e.ALo(3,"translate"),e.ALo(4,"async"),e.YNc(5,N,2,0,"ng-container",5),e.ALo(6,"async"),e.YNc(7,x,1,0,"ng-template",null,6,e.W1O),e.qZA()}if(2&H){const b=e.MAs(8),B=e.oxw();e.Q6J("color",e.lcZ(1,5,B.isSaved$)?"accent":"primary")("disabled",!e.lcZ(2,7,B.entityId$)),e.uIk("aria-label",e.lcZ(3,9,e.lcZ(4,11,B.isSaved$)?"CBL.SAVE_TO_LIST.BUTTON.SAVED":"CBL.COMMON.SAVE")),e.xp6(5),e.Q6J("ngIf",e.lcZ(6,13,B.isSaved$))("ngIfElse",b)}}let E=(()=>{class H{constructor(b,B){this.openSaveToListService=b,this.entityListDetectionService=B,this.raisedButton=!0,this.dialogView=!0,this.hideLabel=!1,this.clickSave=new e.vpe,this.entityId$=new l.t(1),this.isSaved$=this.entityId$.pipe((0,y.w)(Q=>this.entityListDetectionService.isEntityInList$(Q)),(0,d.d)(1))}set entityId(b){this.entityId$.next(b)}openDialog(){this.clickSave.emit(),this.dialogView&&this.entityId$.pipe((0,g.q)(1)).subscribe(b=>{this.openSaveToListService.openSaveDialog(b,this.entityDefId)})}}return H.\u0275fac=function(b){return new(b||H)(e.Y36(p.O),e.Y36(i.$r))},H.\u0275cmp=e.Xpm({type:H,selectors:[["save-to-list-button"]],inputs:{entityId:"entityId",entityDefId:"entityDefId",raisedButton:"raisedButton",dialogView:"dialogView",hideLabel:"hideLabel"},outputs:{clickSave:"clickSave"},decls:4,vars:4,consts:[["mat-raised-button","","color","primary",3,"color","disabled","click",4,"ngIf"],["class","compact","mat-raised-button","","color","primary",3,"color","disabled","click",4,"ngIf"],["mat-button","","color","primary",3,"color","disabled","click",4,"ngIf"],["class","compact","mat-button","","color","primary",3,"color","disabled","click",4,"ngIf"],["mat-raised-button","","color","primary",3,"color","disabled","click"],[4,"ngIf","ngIfElse"],["saved",""],["iconKey","icon_check","iconSize","xlarge"],["iconKey","icon_add_circle","iconSize","xlarge"],["mat-raised-button","","color","primary",1,"compact",3,"color","disabled","click"],["key","icon_check","color","inherit","size","xlarge"],["key","icon_add_circle","color","inherit","size","xlarge"],["mat-button","","color","primary",3,"color","disabled","click"],["mat-button","","color","primary",1,"compact",3,"color","disabled","click"]],template:function(b,B){1&b&&(e.YNc(0,m,9,15,"button",0),e.YNc(1,C,9,15,"button",1),e.YNc(2,T,9,15,"button",2),e.YNc(3,s,9,15,"button",3)),2&b&&(e.Q6J("ngIf",B.raisedButton&&!B.hideLabel),e.xp6(1),e.Q6J("ngIf",B.raisedButton&&B.hideLabel),e.xp6(1),e.Q6J("ngIf",!B.raisedButton&&!B.hideLabel),e.xp6(1),e.Q6J("ngIf",!B.raisedButton&&B.hideLabel))},directives:[f.O5,a.lW,c.d,r.o],pipes:[f.Ov,o.X],styles:["button.compact[_ngcontent-%COMP%]{padding:0 8px}"],changeDetection:0}),H})()},30988:(oe,L,t)=>{t.d(L,{I:()=>W});var e=t(3184),i=t(93443),p=t(46179),l=t(14296),y=t(90587),d=t(35560),g=t(64139),f=t(80522),a=t(47418);let c=(()=>{class q{constructor(J){this.listService=J}createSimpleStaticList$(J,u,D){return this.listService.createStaticList({name:J,isPublic:!1,entries:[],entityDefOrCollectionId:u}).pipe((0,f.zg)(ne=>this.listService.setListNotificationPolicies(ne,_e=>this.policyMap(_e,D)).pipe((0,a.K)(()=>(0,g.of)(ne)))))}policyMap(J,u){J.active=!!u,u&&(J.frequency=u)}}return q.\u0275fac=function(J){return new(J||q)(e.LFG(d.XN))},q.\u0275prov=e.Yz7({token:q,factory:q.\u0275fac,providedIn:"root"}),q})();var r=t(44661),o=t(36362),_=t(73729),n=t(44770),m=t(43365),v=t(91434),h=t(1130),C=t(87317),S=t(44822),I=t(74929);function T(q,le){1&q&&e.GkF(0)}function N(q,le){1&q&&e.GkF(0)}function x(q,le){if(1&q&&(e.TgZ(0,"dialog-layout",4),e.ALo(1,"translate"),e.TgZ(2,"div",5),e.YNc(3,T,1,0,"ng-container",6),e.qZA(),e.TgZ(4,"div",7),e.YNc(5,N,1,0,"ng-container",6),e.qZA()()),2&q){const J=e.oxw(),u=e.MAs(3),D=e.MAs(5);e.Q6J("title",e.lcZ(1,4,"CBL.SAVE_TO_LIST.CREATE_FORM.TITLE"))("processing",J.isProcessing),e.xp6(3),e.Q6J("ngTemplateOutlet",u),e.xp6(2),e.Q6J("ngTemplateOutlet",D)}}function s(q,le){1&q&&e.GkF(0)}function E(q,le){1&q&&e.GkF(0)}function H(q,le){if(1&q&&(e.ynx(0),e.YNc(1,s,1,0,"ng-container",6),e.TgZ(2,"div",8),e.YNc(3,E,1,0,"ng-container",6),e.qZA(),e.BQk()),2&q){e.oxw();const J=e.MAs(3),u=e.MAs(5);e.xp6(1),e.Q6J("ngTemplateOutlet",J),e.xp6(2),e.Q6J("ngTemplateOutlet",u)}}function V(q,le){if(1&q&&(e.TgZ(0,"mat-option",15),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&q){const J=le.$implicit;e.Q6J("value",J.value),e.xp6(1),e.hij(" ",e.lcZ(2,2,J.labelKey)," ")}}function b(q,le){if(1&q&&(e.TgZ(0,"mat-form-field",10)(1,"mat-select",13),e.ALo(2,"translate"),e.YNc(3,V,3,4,"mat-option",14),e.qZA()()),2&q){const J=e.oxw(2);e.xp6(1),e.Q6J("placeholder",e.lcZ(2,2,"CBL.SAVE_TO_LIST.CREATE_FORM.EMAIL_FREQUENCY")),e.xp6(2),e.Q6J("ngForOf",J.frequencyOptions)}}function B(q,le){if(1&q&&(e.TgZ(0,"form",9)(1,"mat-form-field",10),e._UZ(2,"input",11),e.ALo(3,"translate"),e.qZA(),e.YNc(4,b,4,4,"mat-form-field",12),e.qZA()),2&q){const J=e.oxw();e.Q6J("formGroup",J.formGroup),e.xp6(2),e.Q6J("placeholder",e.lcZ(3,3,"CBL.LISTS.LIST_NAME")),e.xp6(2),e.Q6J("ngIf",J.entityDefSupportsListNotifications)}}function Q(q,le){if(1&q){const J=e.EpF();e.TgZ(0,"button",16),e.NdJ("click",function(){return e.CHM(J),e.oxw().goBack()}),e._uU(1),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"progress-button",17),e.NdJ("onClick",function(){return e.CHM(J),e.oxw().createList()}),e.ALo(4,"translate"),e.qZA()}if(2&q){const J=e.oxw();e.Q6J("disabled",J.isProcessing),e.xp6(1),e.hij(" ",e.lcZ(2,7,J.closeLabelKey)," "),e.xp6(2),e.Q6J("raisedButton",!0)("hideLabelOnMobile",!1)("label",e.lcZ(4,9,"CBL.SAVE_TO_LIST.CREATE_FORM.CREATE"))("isDisabled",J.isProcessing||J.formGroup.invalid)("isLoading",J.isProcessing)}}const $=Symbol("NO_NOTIFICATIONS");let W=(()=>{class q{constructor(J,u,D,se,ne){this.toastService=J,this.errorService=u,this.createListFormService=D,this.formBuilder=se,this.listService=ne,this.dialogView=!0,this.closeLabelKey="CBL.SAVE_TO_LIST.CREATE_FORM.GO_BACK",this.completed=new e.vpe,this.isProcessing=!1,this.frequencyOptions=[{labelKey:"CBL.SAVE_TO_LIST.CREATE_FORM.NONE",value:$},{labelKey:"CBL.LISTS.DAILY",value:i.OF.FrequencyEnum.daily},{labelKey:"CBL.LISTS.WEEKLY",value:i.OF.FrequencyEnum.weekly}],this.defaultFormState={listName:void 0,notificationFrequency:i.OF.FrequencyEnum.weekly},this.formGroup=this.getDefaultForm()}ngOnChanges(J){J.entityDefId&&(this.entityDefSupportsListNotifications=this.listService.entityDefSupportsListNotifications(this.entityDefId))}createList(){this.isProcessing=!0;const J=this.formGroup.get("listName").value,u=this.getNotificationFrequency();this.createListFormService.createSimpleStaticList$(J,this.entityDefId,u).pipe((0,r.x)(()=>{this.isProcessing=!1})).subscribe({next:D=>{this.toastService.showSimpleToast("CBL.SAVE_TO_LIST.CREATE_FORM.LIST_CREATED"),this.goBack(D)},error:D=>{this.errorService.showToast(D),this.goBack()}})}goBack(J){this.completed.emit(J),this.resetForm()}getDefaultForm(){const J=this.formBuilder.control(this.defaultFormState.listName,[y.kI.required]),u=this.formBuilder.control(this.defaultFormState.notificationFrequency);return this.formBuilder.group({listName:J,notificationFrequency:u})}resetForm(){this.formGroup.reset(this.defaultFormState)}getNotificationFrequency(){const J=this.formGroup.get("notificationFrequency").value;return J===$?void 0:J}}return q.\u0275fac=function(J){return new(J||q)(e.Y36(p.k),e.Y36(l.T),e.Y36(c),e.Y36(y.qu),e.Y36(d.XN))},q.\u0275cmp=e.Xpm({type:q,selectors:[["create-list-form"]],inputs:{entityDefId:"entityDefId",dialogView:"dialogView",closeLabelKey:"closeLabelKey"},outputs:{completed:"completed"},features:[e.TTD],decls:6,vars:2,consts:[[3,"title","processing",4,"ngIf"],[4,"ngIf"],["listForm",""],["buttons",""],[3,"title","processing"],["dialog-content",""],[4,"ngTemplateOutlet"],["dialog-actions",""],[1,"buttons"],[1,"layout-column",3,"formGroup"],["floatLabel","always"],["matInput","","formControlName","listName","autocomplete","off",3,"placeholder"],["floatLabel","always",4,"ngIf"],["formControlName","notificationFrequency",3,"placeholder"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["mat-button","","color","primary",3,"disabled","click"],["color","primary",3,"raisedButton","hideLabelOnMobile","label","isDisabled","isLoading","onClick"]],template:function(J,u){1&J&&(e.YNc(0,x,6,6,"dialog-layout",0),e.YNc(1,H,4,2,"ng-container",1),e.YNc(2,B,5,5,"ng-template",null,2,e.W1O),e.YNc(4,Q,5,11,"ng-template",null,3,e.W1O)),2&J&&(e.Q6J("ngIf",u.dialogView),e.xp6(1),e.Q6J("ngIf",!u.dialogView))},directives:[o.O5,_.I,o.tP,y._Y,y.JL,y.sg,n.KE,m.Nt,y.Fj,y.JJ,y.u,v.gD,o.sg,h.ey,C.lW,S.l],pipes:[I.X],styles:[".buttons[_ngcontent-%COMP%]   progress-button[_ngcontent-%COMP%]{margin-left:16px}"],changeDetection:0}),q})()},89479:(oe,L,t)=>{t.d(L,{n:()=>n});var e=t(86942),i=t(59095),p=t(25722),l=t(59151),y=t(92218),d=t(19193),g=t(88623),f=t(52160),a=t(35560),c=t(78559),r=t(3184);class o{constructor(v){this.listId=v}}function _(m){return m.map(v=>Object.assign({},v))}let n=(()=>{class m{constructor(h){this.listService=h,this.saveErrors$=new y.xQ}loadListsForEntity$(h,C,S=!1){const I=this.listService.getStaticListsForEntityDef$(C);return(0,d.aj)([I,this.getListsContainingEntity(h)]).pipe((0,e.U)(([T,N=[]])=>{const x=new Set(T.map(H=>H.id)),s=new Set(N.map(H=>H.id)),E=T.filter(H=>!s.has(H.id));return[...N.filter(H=>x.has(H.id)).map(H=>this.getListItem(H,!0)),...E.map(H=>this.getListItem(H,!1))]}),(0,e.U)(T=>S?T:T.slice().sort((N,x)=>N.name.localeCompare(x.name))),(0,i.w)(T=>{let N=T;return(0,g.T)(this.listCreationEvents$,this.getlistItemChangeEvents$(h),this.saveErrors$).pipe((0,e.U)(x=>(x instanceof c.ge?N=this.handleListCreation(h,C,x,N):x instanceof c.e?N=this.handleListItemsChangeEvent(x,N):x instanceof o&&(N=this.handleError(x,N)),N)),(0,p.O)(N))}))}getListItem(h,C){return{id:h.id,name:h.name,saved:C,designation:h.designation,loading:!1}}saveToStaticList(h,C){return this.listService.addEntryToList(C.id,h).catch(S=>{throw this.saveErrors$.next(new o(C.id)),S})}removeFromStaticList(h,C){return this.listService.removeEntryFromList(C.id,h).catch(S=>{throw this.saveErrors$.next(new o(C.id)),S})}get listCreationEvents$(){return this.listService.getListsChangeSubjectObservable().pipe((0,l.h)(h=>h.eventType===c.OF.CREATE))}handleListCreation(h,C,S,I){if(!this.listService.isListEligibleForEntityDef(S.model,C))return I;const T=_(I),N=this.getListItem(S.model,!1);return this.saveToStaticList(h,N),[...T,N]}getlistItemChangeEvents$(h){return this.listService.getListItemsChangeSubjectObservable().pipe((0,l.h)(({entityIds:C})=>C.includes(h)))}handleListItemsChangeEvent(h,C){const{listId:S,eventType:I}=h,T=_(C),N=T.find(x=>x.id===S);return N&&(N.loading=!!this.isPreUpdate(I),I===c.eN.ADD?N.saved=!0:I===c.eN.REMOVE&&(N.saved=!1)),T}handleError(h,C){const S=_(C),I=S.find(T=>T.id===h.listId);return I&&(I.loading=!1),S}isPreUpdate(h){return h===c.eN.PRE_ADD||h===c.eN.PRE_REMOVE}getListsContainingEntity(h){return(0,f.P)(()=>this.listService.getStaticListsContainingEntity(h))}}return m.\u0275fac=function(h){return new(h||m)(r.LFG(a.XN))},m.\u0275prov=r.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})()},30412:(oe,L,t)=>{t.d(L,{l:()=>m});var e=t(36362),i=t(32313),p=t(35503),l=t(89250),y=t(90898),d=t(83e3),g=t(31156),f=t(32519),a=t(40337),c=t(54596),r=t(90587),o=t(99072),_=t(5076),n=t(3184);let m=(()=>{class v{}return v.\u0275fac=function(C){return new(C||v)},v.\u0275mod=n.oAB({type:v}),v.\u0275inj=n.cJS({imports:[[e.ez,i.H,p.Dt,e.ez,l.S,y.q,d.S,g.H,f.n,a.r,c.p,r.UX,o.V,_.V]]}),v})()},35886:(oe,L,t)=>{t.d(L,{j:()=>f});var e=t(3184),i=t(11961),p=t(36362);function l(a,c){1&a&&(e.TgZ(0,"div",3)(1,"div",4),e.Hsn(2,1),e.qZA(),e.TgZ(3,"div",5),e.Hsn(4,2),e.qZA(),e.TgZ(5,"div",6),e.Hsn(6,3),e.qZA()())}const y=["*",[["icon"],["theme-icon"]],[["h1"],["h2"],["h3"],["h4"]],[["","section-actions",""]]],d=function(a){return{"premium-accent":a}},g=["*","icon, theme-icon","h1, h2, h3, h4","[section-actions]"];let f=(()=>{class a{constructor(){this.showHeader=!0,this.isPremium=!1}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275cmp=e.Xpm({type:a,selectors:[["section-card"]],inputs:{showHeader:"showHeader",isPremium:"isPremium"},ngContentSelectors:g,decls:4,vars:4,consts:[[1,"mat-elevation-z3",3,"ngClass"],["class","section-header-wrapper",4,"ngIf"],[1,"section-content-wrapper"],[1,"section-header-wrapper"],[1,"section-icon-wrapper"],[1,"section-title-wrapper"],[1,"section-actions-wrapper"]],template:function(r,o){1&r&&(e.F$t(y),e.TgZ(0,"mat-card",0),e.YNc(1,l,7,0,"div",1),e.TgZ(2,"div",2),e.Hsn(3),e.qZA()()),2&r&&(e.Q6J("ngClass",e.VKq(2,d,o.isPremium&&o.showHeader)),e.xp6(1),e.Q6J("ngIf",o.showHeader))},directives:[i.a8,p.mk,p.O5],styles:['[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   .premium-accent[_ngcontent-%COMP%]:before{content:"";height:5px;background-color:#f5a623;border-radius:2px 2px 0 0;display:block;width:100%}mat-card[_ngcontent-%COMP%]{padding:0}tabs-card[_nghost-%COMP%]   mat-card[_ngcontent-%COMP%], tabs-card   [_nghost-%COMP%]   mat-card[_ngcontent-%COMP%], entity-overlay[_nghost-%COMP%]   mat-card[_ngcontent-%COMP%], entity-overlay   [_nghost-%COMP%]   mat-card[_ngcontent-%COMP%]{box-shadow:none;border-radius:0}.section-header-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:nowrap;align-items:flex-start;padding:20px 20px 0;margin-bottom:20px}.section-icon-wrapper[_ngcontent-%COMP%]{line-height:0;flex-grow:0;flex-shrink:0;margin-right:16px}.section-icon-wrapper[_ngcontent-%COMP%]  theme-icon svg, .section-icon-wrapper[_ngcontent-%COMP%]  theme-icon img, .section-icon-wrapper[_ngcontent-%COMP%]  icon svg, .section-icon-wrapper[_ngcontent-%COMP%]  icon img{height:24px;width:24px;min-width:24px;min-height:24px;line-height:24px}.section-icon-wrapper[_ngcontent-%COMP%]:empty{display:none}.section-title-wrapper[_ngcontent-%COMP%]{flex-grow:1;display:flex;min-width:0}.section-title-wrapper[_ngcontent-%COMP%]  h1, .section-title-wrapper[_ngcontent-%COMP%]  h2, .section-title-wrapper[_ngcontent-%COMP%]  h3, .section-title-wrapper[_ngcontent-%COMP%]  h4{font-size:20px;line-height:28px;color:#282828;letter-spacing:.1px;font-weight:500;font-family:Roboto,Arial,sans-serif;line-height:unset}.section-actions-wrapper[_ngcontent-%COMP%]{flex-grow:0;flex-shrink:0;margin-left:16px}@media (min-width: 600px){.section-title-wrapper[_ngcontent-%COMP%]  h1, .section-title-wrapper[_ngcontent-%COMP%]  h2, .section-title-wrapper[_ngcontent-%COMP%]  h3, .section-title-wrapper[_ngcontent-%COMP%]  h4{font-size:24px;line-height:34px;color:#282828;letter-spacing:.1px;font-weight:500;font-family:Roboto,Arial,sans-serif;line-height:unset}}'],changeDetection:0}),a})()},33863:(oe,L,t)=>{t.d(L,{f:()=>y});var e=t(36362),i=t(90898),p=t(32519),l=t(3184);let y=(()=>{class d{}return d.\u0275fac=function(f){return new(f||d)},d.\u0275mod=l.oAB({type:d}),d.\u0275inj=l.cJS({imports:[[e.ez,i.q,p.n]]}),d})()},71360:(oe,L,t)=>{t.d(L,{o:()=>y});var e=t(21780),i=t(3184);function p(d,g){1&d&&i.Hsn(0)}const l=["*"];let y=(()=>{class d extends e.be{}return d.\u0275fac=function(){let g;return function(a){return(g||(g=i.n5z(d)))(a||d)}}(),d.\u0275cmp=i.Xpm({type:d,selectors:[["slide"]],features:[i._Bn([{provide:e.be,useExisting:d}]),i.qOj],ngContentSelectors:l,decls:1,vars:0,template:function(f,a){1&f&&(i.F$t(),i.YNc(0,p,1,0,"ng-template"))},encapsulation:2}),d})()},46829:(oe,L,t)=>{t.d(L,{o:()=>g});var e=t(21780),i=t(31631);const p=(0,i.X$)("stepTransition",[(0,i.SB)("previous",(0,i.oB)({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"})),(0,i.SB)("current",(0,i.oB)({transform:"translate3d(0, 0, 0)",visibility:"visible"})),(0,i.SB)("next",(0,i.oB)({transform:"translate3d(100%, 0, 0)",visibility:"hidden"})),(0,i.eR)((f,a)=>"void"!==f&&"void"!==a,(0,i.jt)("500ms cubic-bezier(0.35, 0, 0.25, 1)"))]);var l=t(3184),y=t(36362);function d(f,a){if(1&f&&(l.TgZ(0,"div",1),l.GkF(1,2),l.qZA()),2&f){const c=a.$implicit,r=a.index,o=l.oxw();l.Q6J("@stepTransition",o._getAnimationDirection(r))("id",o._getStepContentId(r)),l.uIk("tabindex",o.selectedIndex===r?0:null)("aria-labelledby",o._getStepLabelId(r))("aria-expanded",o.selectedIndex===r),l.xp6(1),l.Q6J("ngTemplateOutlet",c.content)}}let g=(()=>{class f extends e.B8{}return f.\u0275fac=function(){let a;return function(r){return(a||(a=l.n5z(f)))(r||f)}}(),f.\u0275cmp=l.Xpm({type:f,selectors:[["slides"]],features:[l._Bn([{provide:e.B8,useExisting:f}]),l.qOj],decls:1,vars:1,consts:[["class","slide-content","role","tabpanel",3,"id",4,"ngFor","ngForOf"],["role","tabpanel",1,"slide-content",3,"id"],[3,"ngTemplateOutlet"]],template:function(c,r){1&c&&l.YNc(0,d,2,6,"div",0),2&c&&l.Q6J("ngForOf",r.steps)},directives:[y.sg,y.tP],styles:['slides{display:block;overflow:hidden}slides:after{content:"";display:table;clear:both}slides .slide-content{outline:0;margin-right:-100%;width:100%;float:left}slides .slide-content[aria-expanded=false]{overflow:hidden;visibility:hidden}\n'],encapsulation:2,data:{animation:[p]},changeDetection:0}),f})()},54596:(oe,L,t)=>{t.d(L,{p:()=>l});var e=t(36362),i=t(90898),p=t(3184);let l=(()=>{class y{}return y.\u0275fac=function(g){return new(g||y)},y.\u0275mod=p.oAB({type:y}),y.\u0275inj=p.cJS({imports:[[e.ez,i.q]]}),y})()},59156:(oe,L,t)=>{t.d(L,{h:()=>s});var e=t(94596),i=t(42958),p=t(92218),l=t(66426),y=t(85921),d=t(59151),g=t(88759),f=t(83910),a=t(25848),c=t(3591),r=t(20648),o=t(66917),_=t(2384),n=t(3184),m=t(35585),v=t(95758),h=t(73729),C=t(29641),S=t(36362),I=t(65782),T=t(44822),N=t(74929);function x(E,H){if(1&E){const V=n.EpF();n.TgZ(0,"div",6)(1,"advanced-filter",7),n.NdJ("valuesChange",function(B){return n.CHM(V).$implicit.values=B})("clear",function(){const Q=n.CHM(V).$implicit;return n.oxw().clearFilter(Q)}),n.qZA()()}if(2&E){const V=H.$implicit;n.xp6(1),n.Q6J("filterModel",V.filterModel)("field",V.field)("values",V.values)}}let s=(()=>{class E extends _.V{constructor(V,b,B,Q,$,W,q){super(),this.changeDetectorRef=V,this.store=b,this.advancedSearchMetadataService=B,this.syntheticMetadataService=Q,this.queryToAdvancedService=$,this.advancedSearchConverterService=W,this.dialogRef=q,this.advancedFilters=[],this.territoryPrefsSaving$=this.store.select(i.y3),this.onDestroy=new p.xQ,this.territoryPrefsState$=this.store.select(i.os),this.territoryPrefsQueryItems$=this.store.select(i.nA)}ngOnInit(){this.store.dispatch((0,i.cd)());const V=this.syntheticMetadataService.getTerritoryPreferences(),b=new Set(V.filterIds);this.dialogRef.afterOpened().pipe((0,l.c)(this.territoryPrefsState$),(0,y.R)(this.onDestroy),(0,d.h)(B=>B.loaded&&!B.saving),(0,g.b)(B=>{this.collectionId=B.collectionId}),(0,l.c)(this.territoryPrefsQueryItems$),(0,f.q)(1)).subscribe(B=>{const $=this.advancedSearchMetadataService.getFilters(this.collectionId).filter(W=>b.has(W.filter_id));this.advancedFilters=this.queryToAdvancedService.convert(B||[],$,this.collectionId)||[],this.changeDetectorRef.markForCheck()})}ngOnDestroy(){this.onDestroy.next()}clearFilter(V){this.advancedFilters=this.advancedFilters.map(b=>b===V?Object.assign(Object.assign({},b),{values:void 0}):b)}savePreferences(){const V=this.advancedSearchConverterService.toQuery(this.advancedFilters);this.store.dispatch((0,c.zu)({queryItems:V})),this.territoryPrefsSaving$.pipe((0,d.h)(b=>!b),(0,f.q)(1)).subscribe(()=>{this.dialogRef.close(!0)})}}return E.\u0275fac=function(V){return new(V||E)(n.Y36(n.sBO),n.Y36(m.yh),n.Y36(e.A),n.Y36(a.Y),n.Y36(r.c),n.Y36(o.t),n.Y36(v.so))},E.\u0275cmp=n.Xpm({type:E,selectors:[["territory-preferences-dialog"]],features:[n.qOj],decls:10,vars:16,consts:[[3,"title","processing"],["dialog-content",""],["key","CBL.TERRITORY.MODAL_COPY"],["class","filter",4,"ngFor","ngForOf"],["dialog-actions",""],["mat-raised-button","",3,"label","raisedButton","isLoading","isDisabled","hideLabelOnMobile","onClick"],[1,"filter"],[3,"filterModel","field","values","valuesChange","clear"]],template:function(V,b){1&V&&(n.TgZ(0,"dialog-layout",0),n.ALo(1,"translate"),n.TgZ(2,"div",1),n._UZ(3,"markup-label",2),n.YNc(4,x,2,3,"div",3),n.qZA(),n.TgZ(5,"div",4)(6,"progress-button",5),n.NdJ("onClick",function(){return b.savePreferences()}),n.ALo(7,"translate"),n.ALo(8,"async"),n.ALo(9,"async"),n.qZA()()()),2&V&&(n.Q6J("title",n.lcZ(1,8,"CBL.TERRITORY.EDIT"))("processing",!b.advancedFilters.length),n.xp6(4),n.Q6J("ngForOf",b.advancedFilters),n.xp6(2),n.s9C("label",n.lcZ(7,10,"CBL.TERRITORY.SAVE")),n.Q6J("raisedButton",!0)("isLoading",n.lcZ(8,12,b.territoryPrefsSaving$))("isDisabled",n.lcZ(9,14,b.territoryPrefsSaving$))("hideLabelOnMobile",!1))},directives:[h.I,C.x,S.sg,I.W,T.l],pipes:[N.X,S.Ov],styles:["@media (min-width: 960px){[dialog-content][_ngcontent-%COMP%]{max-width:30vw}}.filter[_ngcontent-%COMP%]{margin-top:20px;position:relative}markup-label[_ngcontent-%COMP%]{display:block;font-weight:500}"],changeDetection:0}),E})()},32837:(oe,L,t)=>{t.d(L,{e:()=>c});var e=t(36362),i=t(35503),p=t(89250),l=t(42958),y=t(40337),d=t(32313),g=t(90898),f=t(66378),a=t(3184);let c=(()=>{class r{}return r.\u0275fac=function(_){return new(_||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[e.ez,g.q,i.Dt,p.S,l.w4,y.r,d.H,f.w]]}),r})()},27367:(oe,L,t)=>{t.d(L,{q:()=>y});var e=t(3184),i=t(87317),p=t(40089),l=t(74160);let y=(()=>{class d{constructor(){this.thumbsUpTooltip=$localize`Thumbs up`,this.thumbsDownTooltip=$localize`Thumbs down`,this.disabled=!1,this.clickThumbsUp=new e.vpe,this.clickThumbsDown=new e.vpe}}return d.\u0275fac=function(f){return new(f||d)},d.\u0275cmp=e.Xpm({type:d,selectors:[["thumbs-feedback"]],inputs:{thumbsUpTooltip:"thumbsUpTooltip",thumbsDownTooltip:"thumbsDownTooltip",feedback:"feedback",disabled:"disabled"},outputs:{clickThumbsUp:"clickThumbsUp",clickThumbsDown:"clickThumbsDown"},decls:4,vars:8,consts:[["mat-stroked-button","","matTooltipShowDelay","500",3,"color","disabled","matTooltip","click"],["iconKey","icon_thumbs_up"],["iconKey","icon_thumbs_down"]],template:function(f,a){1&f&&(e.TgZ(0,"button",0),e.NdJ("click",function(){return a.clickThumbsUp.emit()}),e._UZ(1,"label-with-icon",1),e.qZA(),e.TgZ(2,"button",0),e.NdJ("click",function(){return a.clickThumbsDown.emit()}),e._UZ(3,"label-with-icon",2),e.qZA()),2&f&&(e.Q6J("color","thumbs_up"===a.feedback?"primary":"accent")("disabled",a.disabled)("matTooltip",a.thumbsUpTooltip),e.uIk("aria-label",a.thumbsUpTooltip),e.xp6(2),e.Q6J("color","thumbs_down"===a.feedback?"primary":"accent")("disabled",a.disabled)("matTooltip",a.thumbsDownTooltip),e.uIk("aria-label",a.thumbsDownTooltip))},directives:[i.lW,p.gM,l.d],styles:["[_nghost-%COMP%]{display:flex;align-items:center}button[_ngcontent-%COMP%]{border-radius:50%;height:34px;padding:0 16px}button[_ngcontent-%COMP%]   label-with-icon[_ngcontent-%COMP%]{min-height:unset}button[_ngcontent-%COMP%]:not(:first-child){margin-left:16px}"],changeDetection:0}),d})()},63304:(oe,L,t)=>{t.d(L,{v:()=>d});var e=t(36362),i=t(87317),p=t(40089),l=t(32313),y=t(3184);let d=(()=>{class g{}return g.\u0275fac=function(a){return new(a||g)},g.\u0275mod=y.oAB({type:g}),g.\u0275inj=y.cJS({imports:[[e.ez,i.ot,p.AV,l.H]]}),g})()},44472:(oe,L,t)=>{t.d(L,{t:()=>n});var e=t(469),i=t(3184),p=t(20757),l=t(36362),y=t(47320),d=t(87317),g=t(74160),f=t(74929);function a(m,v){1&m&&i._UZ(0,"activity-row",8),2&m&&i.Q6J("activity",v.$implicit)}function c(m,v){if(1&m&&i._UZ(0,"activity-row",9),2&m){const h=v.$implicit,C=i.oxw();i.Q6J("hidden",!C.showExtraActivities)("activity",h)}}function r(m,v){if(1&m){const h=i.EpF();i.TgZ(0,"div",11)(1,"button",12),i.NdJ("click",function(){return i.CHM(h),i.oxw(2).showExtraActivityRows()}),i.ALo(2,"translate"),i.TgZ(3,"label-with-icon",13),i._uU(4),i.ALo(5,"translate"),i.qZA()()()}2&m&&(i.xp6(1),i.uIk("aria-label",i.lcZ(2,2,"CBL.TIMELINE.SHOW_ALL")),i.xp6(3),i.Oqu(i.lcZ(5,4,"CBL.TIMELINE.SHOW_ALL")))}function o(m,v){if(1&m){const h=i.EpF();i.TgZ(0,"div",11)(1,"button",12),i.NdJ("click",function(){return i.CHM(h),i.oxw(2).hideExtraActivityRows()}),i.ALo(2,"translate"),i.TgZ(3,"label-with-icon",14),i._uU(4),i.ALo(5,"translate"),i.qZA()()()}2&m&&(i.xp6(1),i.uIk("aria-label",i.lcZ(2,2,"CBL.TIMELINE.HIDE")),i.xp6(3),i.Oqu(i.lcZ(5,4,"CBL.TIMELINE.HIDE")))}function _(m,v){if(1&m&&(i.ynx(0),i.YNc(1,r,6,6,"div",10),i.YNc(2,o,6,6,"div",10),i.BQk()),2&m){const h=i.oxw();i.xp6(1),i.Q6J("ngIf",!h.showExtraActivities),i.xp6(1),i.Q6J("ngIf",h.showExtraActivities)}}let n=(()=>{class m{constructor(h){this.themeService=h,this.visibleActivities=[],this.extraActivities=[],this.showExtraActivities=!1}ngOnInit(){this.sortActivities(this.activityGroup.activities),this.iconBackgroundColor=this.activityGroup.themeId&&this.themeService.getColor(this.activityGroup.themeId)}showExtraActivityRows(){this.showExtraActivities=!0}hideExtraActivityRows(){this.showExtraActivities=!1}sortActivities(h){for(let S=0;S<h.length;S++)S<5?this.visibleActivities.push(h[S]):this.extraActivities.push(h[S])}}return m.\u0275fac=function(h){return new(h||m)(i.Y36(e.f))},m.\u0275cmp=i.Xpm({type:m,selectors:[["activity-group-card"]],inputs:{activityGroup:"activityGroup"},decls:11,vars:12,consts:[[1,"activity-group-card"],[1,"activity-name"],[1,"activity-group-icon"],["color","light",3,"themeId"],[1,"activity-name-label"],[3,"activity",4,"ngFor","ngForOf"],[3,"hidden","activity",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"activity"],[3,"hidden","activity"],["class","extra-activities",4,"ngIf"],[1,"extra-activities"],["mat-button","","color","primary",1,"cb-text-transform-upper",3,"click"],["iconKey","icon_caret_down"],["iconKey","icon_caret_up"]],template:function(h,C){1&h&&(i.TgZ(0,"div",0)(1,"div",1)(2,"div",2),i._UZ(3,"theme-icon",3),i.qZA(),i.TgZ(4,"span",4),i._uU(5),i.ALo(6,"translate"),i.ALo(7,"uppercase"),i.qZA()(),i.YNc(8,a,1,1,"activity-row",5),i.YNc(9,c,1,2,"activity-row",6),i.YNc(10,_,3,2,"ng-container",7),i.qZA()),2&h&&(i.xp6(2),i.Udp("background-color",C.iconBackgroundColor),i.xp6(1),i.Q6J("themeId",C.activityGroup.themeId),i.xp6(2),i.AsE(" ",i.lcZ(6,8,"CBL.TIMELINE.ACTIVITY_NAMES."+i.lcZ(7,10,C.activityGroup.entityDefId))," (",C.activityGroup.activities.length,") "),i.xp6(3),i.Q6J("ngForOf",C.visibleActivities),i.xp6(1),i.Q6J("ngForOf",C.extraActivities),i.xp6(1),i.Q6J("ngIf",!!C.extraActivities.length))},directives:[p.p,l.sg,y.k,l.O5,d.lW,g.d],pipes:[f.X,l.gd],styles:[".activity-group-card[_ngcontent-%COMP%]{box-shadow:0 3px 1px -2px #0003,0 2px 2px #00000024,0 1px 5px #0000001f;margin-bottom:16px;background-color:#fff}.activity-name[_ngcontent-%COMP%]{box-sizing:border-box;display:flex!important;flex-direction:row;justify-content:flex-start;align-items:center;align-content:center;max-width:100%}.activity-name[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{max-width:100%;box-sizing:border-box}.activity-group-icon[_ngcontent-%COMP%]{flex:0 0 auto;box-sizing:border-box;padding:8px;line-height:0}.activity-name-label[_ngcontent-%COMP%]{padding-left:8px}.extra-activities[_ngcontent-%COMP%]{display:flex!important;flex-direction:column;justify-content:center;box-sizing:border-box;align-items:center;align-content:center;max-width:100%;border-top-style:solid;border-top-width:1px}.extra-activities[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{max-width:100%;box-sizing:border-box}"]}),m})()},47320:(oe,L,t)=>{t.d(L,{k:()=>_});var e=t(3184),i=t(36362),p=t(86378),l=t(88670),y=t(97810),d=t(40757),g=t(52727);function f(n,m){if(1&n&&e._UZ(0,"funding-round",3),2&n){const v=e.oxw();e.Q6J("activity",v.asActivity(v.activity))}}function a(n,m){if(1&n&&e._UZ(0,"acquisition",3),2&n){const v=e.oxw();e.Q6J("activity",v.asActivity(v.activity))}}function c(n,m){if(1&n&&e._UZ(0,"ipo",3),2&n){const v=e.oxw();e.Q6J("activity",v.asActivity(v.activity))}}function r(n,m){if(1&n&&e._UZ(0,"fund-raise",3),2&n){const v=e.oxw();e.Q6J("activity",v.asActivity(v.activity))}}function o(n,m){if(1&n&&e._UZ(0,"press-reference",4),2&n){const v=e.oxw();e.Q6J("pressReferenceSet",v.asPressReference(v.activity))}}let _=(()=>{class n{asActivity(v){return v}asPressReference(v){return v}}return n.\u0275fac=function(v){return new(v||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["activity-row"]],inputs:{activity:"activity"},decls:6,vars:5,consts:[[1,"component--activity-row"],[3,"activity",4,"ngIf"],[3,"pressReferenceSet",4,"ngIf"],[3,"activity"],[3,"pressReferenceSet"]],template:function(v,h){1&v&&(e.TgZ(0,"div",0),e.YNc(1,f,1,1,"funding-round",1),e.YNc(2,a,1,1,"acquisition",1),e.YNc(3,c,1,1,"ipo",1),e.YNc(4,r,1,1,"fund-raise",1),e.YNc(5,o,1,1,"press-reference",2),e.qZA()),2&v&&(e.xp6(1),e.Q6J("ngIf","funding_round"==h.activity.entity_def_id),e.xp6(1),e.Q6J("ngIf","acquisition"==h.activity.entity_def_id),e.xp6(1),e.Q6J("ngIf","ipo"==h.activity.entity_def_id),e.xp6(1),e.Q6J("ngIf","fund"==h.activity.entity_def_id),e.xp6(1),e.Q6J("ngIf","press_reference"==h.activity.entity_def_id))},directives:[i.O5,p.d,l.T,y.z,d.H,g.e],styles:[".component--activity-row{border-top-style:solid;border-top-width:1px;padding:8px}.component--activity-row .lazyLoadImage{margin-right:8px;max-width:30px;max-height:30px;border:1px solid rgba(0,0,0,.12)}\n"],encapsulation:2}),n})()},88670:(oe,L,t)=>{t.d(L,{T:()=>Q});var e=t(92938),p=t(97010),l=t(13074),y=t(94882),d=t(3184),g=t(36362),f=t(40361),a=t(46036),c=t(47367),r=t(45857),o=t(74929);function _($,W){if(1&$&&d._UZ(0,"div",3),2&$){const q=d.oxw();d.Q6J("useIdentifierImgStyle",!0)("imgSrc",q.acquirerImage)}}function n($,W){if(1&$&&(d.TgZ(0,"span")(1,"a",6),d._uU(2),d.qZA()()),2&$){const q=d.oxw(2);d.xp6(1),d.Q6J("routerLink",q.acquirerRoute.path),d.uIk("aria-label",q.acquirerName),d.xp6(1),d.Oqu(q.acquirerName)}}function m($,W){if(1&$&&(d.TgZ(0,"span"),d._uU(1),d.qZA()),2&$){const q=d.oxw(2);d.xp6(1),d.Oqu(q.acquirerName)}}function v($,W){if(1&$&&(d.TgZ(0,"span")(1,"a",6),d._uU(2),d.qZA()()),2&$){const q=d.oxw(2);d.xp6(1),d.Q6J("routerLink",q.acquireeRoute.path),d.uIk("aria-label",q.acquireeName),d.xp6(1),d.Oqu(q.acquireeName)}}function h($,W){if(1&$&&(d.TgZ(0,"span"),d._uU(1),d.qZA()),2&$){const q=d.oxw(2);d.xp6(1),d.Oqu(q.acquireeName)}}function C($,W){if(1&$&&(d.TgZ(0,"span")(1,"a",6),d.ALo(2,"currency"),d._uU(3),d.ALo(4,"currency"),d.qZA()()),2&$){const q=d.oxw(3);d.xp6(1),d.Q6J("routerLink",q.acquisitionRoute.path),d.uIk("aria-label",d.gM2(2,3,q.acquisitionPrice,q.acquisitionCurrency,"symbol","1.0-0")),d.xp6(2),d.hij("",d.gM2(4,8,q.acquisitionPrice,q.acquisitionCurrency,"symbol","1.0-0")," ")}}function S($,W){if(1&$&&(d.TgZ(0,"span"),d._uU(1),d.ALo(2,"currency"),d.qZA()),2&$){const q=d.oxw(3);d.xp6(1),d.Oqu(d.gM2(2,1,q.acquisitionPrice,q.acquisitionCurrency,"symbol","1.0-0"))}}function I($,W){if(1&$&&(d.TgZ(0,"span"),d._uU(1),d.ALo(2,"lowercase"),d.ALo(3,"translate"),d.YNc(4,C,5,13,"span",5),d.YNc(5,S,3,6,"span",5),d.qZA()),2&$){const q=d.oxw(2);d.xp6(1),d.hij(" ",d.lcZ(2,3,d.lcZ(3,5,"CBL.COMMON.FOR"))," "),d.xp6(3),d.Q6J("ngIf",q.acquisitionRoute),d.xp6(1),d.Q6J("ngIf",!q.acquisitionRoute)}}function T($,W){if(1&$&&(d.TgZ(0,"span"),d._uU(1),d.ALo(2,"lowercase"),d.ALo(3,"translate"),d.TgZ(4,"a",6),d.ALo(5,"lowercase"),d.ALo(6,"translate"),d._uU(7),d.ALo(8,"lowercase"),d.ALo(9,"translate"),d.qZA()()),2&$){const q=d.oxw(2);d.xp6(1),d.hij(" ",d.lcZ(2,4,d.lcZ(3,6,"CBL.COMMON.FOR_AN"))," "),d.xp6(3),d.Q6J("routerLink",q.acquisitionRoute.path),d.uIk("aria-label",d.lcZ(5,8,d.lcZ(6,10,"CBL.TIMELINE.UNDISCLOSED_AMOUNT"))),d.xp6(3),d.hij("",d.lcZ(8,12,d.lcZ(9,14,"CBL.TIMELINE.UNDISCLOSED_AMOUNT"))," ")}}function N($,W){if(1&$&&(d.TgZ(0,"span",4),d.YNc(1,n,3,3,"span",5),d.YNc(2,m,2,1,"span",5),d._uU(3),d.ALo(4,"lowercase"),d.ALo(5,"translate"),d.YNc(6,v,3,3,"span",5),d.YNc(7,h,2,1,"span",5),d.YNc(8,I,6,7,"span",5),d.YNc(9,T,10,16,"span",5),d.qZA()),2&$){const q=d.oxw();d.Q6J("title",q.acquirerNameAndAquireeNameTitle),d.xp6(1),d.Q6J("ngIf",q.acquirerRoute),d.xp6(1),d.Q6J("ngIf",!q.acquirerRoute),d.xp6(1),d.hij(" ",d.lcZ(4,8,d.lcZ(5,10,"CBL.TIMELINE.ACQUIRED"))," "),d.xp6(3),d.Q6J("ngIf",q.acquireeRoute),d.xp6(1),d.Q6J("ngIf",!q.acquireeRoute),d.xp6(1),d.Q6J("ngIf",q.acquisitionPrice),d.xp6(1),d.Q6J("ngIf",!q.acquisitionPrice)}}function x($,W){if(1&$&&(d.TgZ(0,"span")(1,"a",6),d._uU(2),d.qZA()()),2&$){const q=d.oxw(2);d.xp6(1),d.Q6J("routerLink",q.acquireeRoute.path),d.uIk("aria-label",q.acquireeName),d.xp6(1),d.Oqu(q.acquireeName)}}function s($,W){if(1&$&&(d.TgZ(0,"span"),d._uU(1),d.qZA()),2&$){const q=d.oxw(2);d.xp6(1),d.Oqu(q.acquireeName)}}function E($,W){if(1&$&&(d.TgZ(0,"span")(1,"a",6),d.ALo(2,"currency"),d._uU(3),d.ALo(4,"currency"),d.qZA()()),2&$){const q=d.oxw(3);d.xp6(1),d.Q6J("routerLink",q.acquisitionRoute.path),d.uIk("aria-label",d.gM2(2,3,q.acquisitionPrice,q.acquisitionCurrency,"symbol","1.0-0")),d.xp6(2),d.hij("",d.gM2(4,8,q.acquisitionPrice,q.acquisitionCurrency,"symbol","1.0-0")," ")}}function H($,W){if(1&$&&(d.TgZ(0,"span"),d._uU(1),d.ALo(2,"currency"),d.qZA()),2&$){const q=d.oxw(3);d.xp6(1),d.Oqu(d.gM2(2,1,q.acquisitionPrice,q.acquisitionCurrency,"symbol","1.0-0"))}}function V($,W){if(1&$&&(d.TgZ(0,"span"),d._uU(1),d.ALo(2,"lowercase"),d.ALo(3,"translate"),d.YNc(4,E,5,13,"span",5),d.YNc(5,H,3,6,"span",5),d.qZA()),2&$){const q=d.oxw(2);d.xp6(1),d.hij(" ",d.lcZ(2,3,d.lcZ(3,5,"CBL.COMMON.FOR"))," "),d.xp6(3),d.Q6J("ngIf",q.acquisitionRoute),d.xp6(1),d.Q6J("ngIf",!q.acquisitionRoute)}}function b($,W){if(1&$&&(d.TgZ(0,"span"),d._uU(1),d.ALo(2,"lowercase"),d.ALo(3,"translate"),d.TgZ(4,"a",6),d.ALo(5,"lowercase"),d.ALo(6,"translate"),d._uU(7),d.ALo(8,"lowercase"),d.ALo(9,"translate"),d.qZA()()),2&$){const q=d.oxw(2);d.xp6(1),d.hij(" ",d.lcZ(2,4,d.lcZ(3,6,"CBL.COMMON.FOR_AN"))," "),d.xp6(3),d.Q6J("routerLink",q.acquisitionRoute.path),d.uIk("aria-label",d.lcZ(5,8,d.lcZ(6,10,"CBL.TIMELINE.UNDISCLOSED_AMOUNT"))),d.xp6(3),d.hij("",d.lcZ(8,12,d.lcZ(9,14,"CBL.TIMELINE.UNDISCLOSED_AMOUNT"))," ")}}function B($,W){if(1&$&&(d.TgZ(0,"span",4),d.YNc(1,x,3,3,"span",5),d.YNc(2,s,2,1,"span",5),d._uU(3),d.ALo(4,"lowercase"),d.ALo(5,"translate"),d.YNc(6,V,6,7,"span",5),d.YNc(7,b,10,16,"span",5),d.qZA()),2&$){const q=d.oxw();d.Q6J("title",q.acquirerNameAndNotAquireeNameTitle),d.xp6(1),d.Q6J("ngIf",q.acquireeRoute),d.xp6(1),d.Q6J("ngIf",!q.acquireeRoute),d.xp6(1),d.hij(" ",d.lcZ(4,6,d.lcZ(5,8,"CBL.TIMELINE.WAS_ACQUIRED"))," "),d.xp6(3),d.Q6J("ngIf",q.acquisitionPrice),d.xp6(1),d.Q6J("ngIf",!q.acquisitionPrice)}}let Q=(()=>{class ${constructor(q,le,J,u){this.currencyPipe=q,this.imageService=le,this.labelService=J,this.urlService=u,this.acquisitionCurrency="usd"}ngOnInit(){this.getProperties()}getProperties(){this.getAcquirerProperties(),this.getAcquireeProperties(),this.getAcquisitionPrice(),this.getAcquisitionRoute(),this.buildTitles()}getAcquisitionRoute(){this.acquisitionRoute=this.urlService.getIdentifierRoute(this.activity.identifier)}getAcquisitionPrice(){this.activity.activity_properties&&(this.acquisitionPrice=this.activity.activity_properties.price&&this.activity.activity_properties.price.value,this.acquisitionCurrency=this.activity.activity_properties.price&&this.activity.activity_properties.price.currency)}getAcquirerProperties(){let q=(0,e.find)(this.activity.activity_entities,le=>"acquirer"===le.role);q&&(this.acquirerName=q.value,this.acquirerRoute=this.urlService.getIdentifierRoute(q),this.acquirerImage=this.getEntityImage(q.image_id))}getAcquireeProperties(){let q=(0,e.find)(this.activity.activity_entities,le=>"acquiree"===le.role);q&&(this.acquireeName=q.value,this.acquireeRoute=this.urlService.getIdentifierRoute(q))}buildTitles(){let u,{acquirerName:q,acquireeName:le,acquisitionPrice:J}=this,D="";J?(D=this.getLabel("CBL.COMMON.FOR"),D+=` ${this.formatMoney(J)}`):(D=this.getLabel("CBL.COMMON.FOR_AN"),D+=" "+this.getLabel("CBL.TIMELINE.UNDISCLOSED_AMOUNT")),q&&le?(u=q,u+=` ${this.getLabel("CBL.TIMELINE.ACQUIRED")}`,u+=` ${le} ${D}`,this.acquirerNameAndAquireeNameTitle=u):!q&&le&&(u=le,u+=` ${this.getLabel("CBL.TIMELINE.WAS_ACQUIRED")}`,u+=` ${D}`,this.acquirerNameAndNotAquireeNameTitle=u)}getLabel(q){return this.labelService.getLabel(q).toLowerCase()}getEntityImage(q){return this.imageService.getPublicImageUrl(q,$.IMAGE_OPTIONS)}formatMoney(q){return q&&this.acquisitionCurrency&&this.currencyPipe.transform(q,(0,e.toUpper)(this.acquisitionCurrency),"symbol","1.0-0")||""}}return $.IMAGE_OPTIONS={width:"30",height:"30"},$.\u0275fac=function(q){return new(q||$)(d.Y36(g.H9),d.Y36(p.AJ),d.Y36(y.Q),d.Y36(l.iO))},$.\u0275cmp=d.Xpm({type:$,selectors:[["acquisition"]],inputs:{activity:"activity",isEntityCard:"isEntityCard"},decls:4,vars:3,consts:[["class","acquirer-image","lazyLoadImage","","placeholderType","acquisition","imgAlt","",3,"useIdentifierImgStyle","imgSrc",4,"ngIf"],[1,"acquisition-content"],[3,"title",4,"ngIf"],["lazyLoadImage","","placeholderType","acquisition","imgAlt","",1,"acquirer-image",3,"useIdentifierImgStyle","imgSrc"],[3,"title"],[4,"ngIf"],["cb-link","accent",3,"routerLink"]],template:function(q,le){1&q&&(d.YNc(0,_,1,2,"div",0),d.TgZ(1,"div",1),d.YNc(2,N,10,12,"span",2),d.YNc(3,B,8,10,"span",2),d.qZA()),2&q&&(d.Q6J("ngIf",!le.isEntityCard),d.xp6(2),d.Q6J("ngIf",le.acquirerName&&le.acquireeName),d.xp6(1),d.Q6J("ngIf",le.acquireeName&&!le.acquirerName))},directives:[g.O5,f.z,a.n,c.I,r.yS],pipes:[g.i8,o.X,g.H9],styles:["[_nghost-%COMP%]{box-sizing:border-box;display:flex!important;flex-direction:row}[_nghost-%COMP%]   .acquirer-image[_ngcontent-%COMP%]{flex:0 0 auto;box-sizing:border-box}[_nghost-%COMP%]   .acquisition-content[_ngcontent-%COMP%]{flex:1;box-sizing:border-box;display:flex!important;flex-direction:row;justify-content:flex-start;align-items:center;align-content:center;max-width:100%}[_nghost-%COMP%]   .acquisition-content[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{max-width:100%;box-sizing:border-box}[_nghost-%COMP%]   .acquisition-content[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{flex:0 0 auto;box-sizing:border-box}"]}),$})()},40757:(oe,L,t)=>{t.d(L,{H:()=>S});var e=t(92938),p=t(13074),l=t(97010),y=t(94882),d=t(3184),g=t(36362),f=t(40361),a=t(46036),c=t(47367),r=t(45857),o=t(74929);function _(I,T){if(1&I&&d._UZ(0,"div",4),2&I){const N=d.oxw();d.Q6J("useIdentifierImgStyle",!0)("imgSrc",N.entityImage)}}function n(I,T){if(1&I&&(d.TgZ(0,"span")(1,"a",5),d._uU(2),d.qZA()()),2&I){const N=d.oxw();d.xp6(1),d.Q6J("routerLink",N.entityRoute.path),d.uIk("aria-label",N.entityName),d.xp6(1),d.Oqu(N.entityName)}}function m(I,T){if(1&I&&(d.TgZ(0,"span"),d._uU(1),d.qZA()),2&I){const N=d.oxw();d.xp6(1),d.Oqu(N.entityName)}}function v(I,T){if(1&I&&(d.TgZ(0,"span")(1,"a",5),d._uU(2),d.qZA()()),2&I){const N=d.oxw();d.xp6(1),d.Q6J("routerLink",N.fundRoute.path),d.uIk("aria-label",N.fundName),d.xp6(1),d.Oqu(N.fundName)}}function h(I,T){if(1&I&&(d.TgZ(0,"span"),d._uU(1),d.qZA()),2&I){const N=d.oxw();d.xp6(1),d.Oqu(N.fundName)}}function C(I,T){if(1&I&&(d.TgZ(0,"span"),d._uU(1),d.ALo(2,"currency"),d.qZA()),2&I){const N=d.oxw();d.xp6(1),d.hij(" (",d.gM2(2,1,N.fundingAmount,N.fundingCurrency,"symbol","1.0-0"),") ")}}let S=(()=>{class I{constructor(N,x,s,E){this.currencyPipe=N,this.imageService=x,this.labelService=s,this.urlService=E,this.fundingCurrency="usd"}ngOnInit(){this.getProperties(),this.buildTitle()}getProperties(){let N=this.activity.activity_entities&&this.activity.activity_entities[0];N&&(this.entityImage=this.getEntityImage(N.image_id),this.entityName=N.value,this.entityRoute=this.urlService.getIdentifierRoute(N)),this.fundRoute=this.urlService.getIdentifierRoute(this.activity.identifier),this.fundName=this.activity.identifier.value||"",this.activity.activity_properties&&(this.fundingAmount=this.activity.activity_properties.money_raised&&this.activity.activity_properties.money_raised.value,this.fundingCurrency=this.activity.activity_properties.money_raised&&this.activity.activity_properties.money_raised.currency)}buildTitle(){let{entityName:N,fundName:x,fundingAmount:s}=this,E=N||"";E+=` ${this.getLabel("CBL.TIMELINE.RAISED_NEW_FUND")}:`,E+=` ${x}`,s&&(E+=` (${this.formatMoney(s)})`),this.fundRaiseTitle=E}getLabel(N){return this.labelService.getLabel(N).toLowerCase()}getEntityImage(N){return this.imageService.getPublicImageUrl(N,I.IMAGE_OPTIONS)}formatMoney(N){return N&&this.fundingCurrency&&this.currencyPipe.transform(N,(0,e.toUpper)(this.fundingCurrency),"symbol","1.0-0")||""}}return I.IMAGE_OPTIONS={width:"30",height:"30"},I.\u0275fac=function(N){return new(N||I)(d.Y36(g.H9),d.Y36(l.AJ),d.Y36(y.Q),d.Y36(p.iO))},I.\u0275cmp=d.Xpm({type:I,selectors:[["fund-raise"]],inputs:{activity:"activity",isEntityCard:"isEntityCard"},decls:11,vars:12,consts:[["class","fund-raise-image","lazyLoadImage","","placeholderType","funding-round","imgAlt","",3,"useIdentifierImgStyle","imgSrc",4,"ngIf"],[1,"fund-raise-content"],[3,"title"],[4,"ngIf"],["lazyLoadImage","","placeholderType","funding-round","imgAlt","",1,"fund-raise-image",3,"useIdentifierImgStyle","imgSrc"],["cb-link","accent",3,"routerLink"]],template:function(N,x){1&N&&(d.YNc(0,_,1,2,"div",0),d.TgZ(1,"div",1)(2,"span",2),d.YNc(3,n,3,3,"span",3),d.YNc(4,m,2,1,"span",3),d._uU(5),d.ALo(6,"lowercase"),d.ALo(7,"translate"),d.YNc(8,v,3,3,"span",3),d.YNc(9,h,2,1,"span",3),d.YNc(10,C,3,6,"span",3),d.qZA()()),2&N&&(d.Q6J("ngIf",!x.isEntityCard),d.xp6(2),d.Q6J("title",x.fundRaiseTitle),d.xp6(1),d.Q6J("ngIf",x.entityRoute&&!x.isEntityCard),d.xp6(1),d.Q6J("ngIf",!x.entityRoute||x.isEntityCard),d.xp6(1),d.hij(" ",d.lcZ(6,8,d.lcZ(7,10,"CBL.TIMELINE.RAISED_NEW_FUND")),": "),d.xp6(3),d.Q6J("ngIf",x.fundRoute),d.xp6(1),d.Q6J("ngIf",!x.fundRoute),d.xp6(1),d.Q6J("ngIf",x.fundingAmount))},directives:[g.O5,f.z,a.n,c.I,r.yS],pipes:[g.i8,o.X,g.H9],styles:["[_nghost-%COMP%]{box-sizing:border-box;display:flex!important;flex-direction:row}[_nghost-%COMP%]   .fund-raise-image[_ngcontent-%COMP%]{flex:0 0 auto;box-sizing:border-box}[_nghost-%COMP%]   .fund-raise-content[_ngcontent-%COMP%]{flex:1;box-sizing:border-box;display:flex!important;flex-direction:row;justify-content:flex-start;align-items:center;align-content:center;max-width:100%}[_nghost-%COMP%]   .fund-raise-content[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{max-width:100%;box-sizing:border-box}[_nghost-%COMP%]   .fund-raise-content[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:first-child{flex:0 0 auto;box-sizing:border-box}"]}),I})()},86378:(oe,L,t)=>{t.d(L,{d:()=>q});var e=t(92938),p=t(13074),l=t(97010),y=t(94882),d=t(3184),g=t(36362),f=t(40361),a=t(46036),c=t(47367),r=t(45857),o=t(74929);function _(le,J){if(1&le&&d._UZ(0,"div",4),2&le){const u=d.oxw();d.Q6J("useIdentifierImgStyle",!0)("imgSrc",u.entityImageSource)}}function n(le,J){if(1&le&&(d.TgZ(0,"span")(1,"a",5),d._uU(2),d.qZA()()),2&le){const u=d.oxw();d.xp6(1),d.Q6J("routerLink",u.investeeRoute.path),d.uIk("aria-label",u.investeeName),d.xp6(1),d.Oqu(u.investeeName)}}function m(le,J){if(1&le&&(d.TgZ(0,"span"),d._uU(1),d.qZA()),2&le){const u=d.oxw();d.xp6(1),d.Oqu(u.investeeName)}}function v(le,J){if(1&le&&(d.TgZ(0,"span"),d._uU(1),d.ALo(2,"lowercase"),d.ALo(3,"translate"),d.ALo(4,"currency"),d.qZA()),2&le){const u=d.oxw();d.xp6(1),d.AsE(" ",d.lcZ(2,2,d.lcZ(3,4,"CBL.TIMELINE.RAISED"))," ",d.gM2(4,6,u.investmentAmount,u.investmentCurrency,"symbol","1.0-0")," ")}}function h(le,J){1&le&&(d.TgZ(0,"span"),d._uU(1),d.ALo(2,"lowercase"),d.ALo(3,"translate"),d.ALo(4,"lowercase"),d.ALo(5,"translate"),d.qZA()),2&le&&(d.xp6(1),d.AsE(" ",d.lcZ(2,2,d.lcZ(3,4,"CBL.TIMELINE.RAISED"))," ",d.lcZ(4,6,d.lcZ(5,8,"CBL.TIMELINE.AN_UNDISCLOSED_AMOUNT"))," "))}function C(le,J){if(1&le&&(d.TgZ(0,"span")(1,"a",5),d._uU(2),d.qZA()()),2&le){const u=d.oxw(2);d.xp6(1),d.Q6J("routerLink",u.investmentRoute.path),d.uIk("aria-label",u.investmentType),d.xp6(1),d.Oqu(u.investmentType)}}function S(le,J){if(1&le&&(d.TgZ(0,"span"),d._uU(1),d.qZA()),2&le){const u=d.oxw(2);d.xp6(1),d.Oqu(u.investmentType)}}function I(le,J){if(1&le&&(d.TgZ(0,"span"),d._uU(1," / "),d.YNc(2,C,3,3,"span",3),d.YNc(3,S,2,1,"span",3),d.qZA()),2&le){const u=d.oxw();d.xp6(2),d.Q6J("ngIf",u.investmentRoute),d.xp6(1),d.Q6J("ngIf",!u.investmentRoute)}}function T(le,J){if(1&le&&(d.TgZ(0,"span")(1,"a",5),d._uU(2),d.ALo(3,"translate"),d.qZA()()),2&le){const u=d.oxw(2);d.xp6(1),d.Q6J("routerLink",u.investmentRoute.path),d.uIk("aria-label",u.investmentType),d.xp6(1),d.Oqu(d.lcZ(3,3,"CBL.TIMELINE.FUNDING_ROUND"))}}function N(le,J){1&le&&(d.TgZ(0,"span"),d._uU(1),d.ALo(2,"translate"),d.qZA()),2&le&&(d.xp6(1),d.Oqu(d.lcZ(2,1,"CBL.TIMELINE.FUNDING_ROUND")))}function x(le,J){if(1&le&&(d.TgZ(0,"span"),d._uU(1," / "),d.YNc(2,T,4,5,"span",3),d.YNc(3,N,3,3,"span",3),d.qZA()),2&le){const u=d.oxw();d.xp6(2),d.Q6J("ngIf",u.investmentRoute),d.xp6(1),d.Q6J("ngIf",!u.investmentRoute)}}function s(le,J){if(1&le&&(d.TgZ(0,"span")(1,"a",5),d._uU(2),d.qZA()()),2&le){const u=d.oxw(2);d.xp6(1),d.Q6J("routerLink",u.investor.path),d.xp6(1),d.Oqu(u.investor.name)}}function E(le,J){if(1&le&&(d.TgZ(0,"span")(1,"a",5),d._uU(2),d.qZA(),d._uU(3),d.ALo(4,"lowercase"),d.ALo(5,"translate"),d.qZA()),2&le){const u=d.oxw(2);d.xp6(1),d.Q6J("routerLink",u.leadInvestor.path),d.xp6(1),d.Oqu(u.leadInvestor.name),d.xp6(1),d.hij(" (",d.lcZ(4,3,d.lcZ(5,5,"CBL.TIMELINE.LEAD")),") ")}}function H(le,J){if(1&le&&(d.TgZ(0,"span")(1,"a",5),d._uU(2),d.qZA(),d._uU(3),d.ALo(4,"lowercase"),d.ALo(5,"translate"),d.qZA()),2&le){const u=d.oxw(3);d.xp6(1),d.Q6J("routerLink",u.investmentRoute.path),d.xp6(1),d.Oqu(u.numberOfInvestors),d.xp6(1),d.hij(" ",d.lcZ(4,3,d.lcZ(5,5,"CBL.TIMELINE.OTHER_INVESTORS"))," ")}}function V(le,J){if(1&le&&(d.TgZ(0,"span")(1,"a",5),d._uU(2),d.qZA()()),2&le){const u=d.oxw(3);d.xp6(1),d.Q6J("routerLink",u.secondaryInvestor.path),d.xp6(1),d.Oqu(u.secondaryInvestor.name)}}function b(le,J){if(1&le&&(d.TgZ(0,"span")(1,"a",5),d._uU(2),d.qZA(),d._uU(3),d.ALo(4,"lowercase"),d.ALo(5,"translate"),d.ALo(6,"lowercase"),d.ALo(7,"translate"),d.YNc(8,H,6,7,"span",3),d.YNc(9,V,3,2,"span",3),d.qZA()),2&le){const u=d.oxw(2);d.xp6(1),d.Q6J("routerLink",u.leadInvestor.path),d.xp6(1),d.Oqu(u.leadInvestor.name),d.xp6(1),d.AsE(" (",d.lcZ(4,6,d.lcZ(5,8,"CBL.TIMELINE.LEAD")),") ",d.lcZ(6,10,d.lcZ(7,12,"CBL.COMMON.AND"))," "),d.xp6(5),d.Q6J("ngIf",!u.secondaryInvestor),d.xp6(1),d.Q6J("ngIf",u.secondaryInvestor)}}function B(le,J){if(1&le&&(d.TgZ(0,"span")(1,"a",5),d._uU(2),d.qZA(),d._uU(3),d.ALo(4,"lowercase"),d.ALo(5,"translate"),d.qZA()),2&le){const u=d.oxw(3);d.xp6(1),d.Q6J("routerLink",u.investmentRoute.path),d.xp6(1),d.Oqu(u.numberOfInvestors),d.xp6(1),d.hij(" ",d.lcZ(4,3,d.lcZ(5,5,"CBL.TIMELINE.OTHER_INVESTORS"))," ")}}function Q(le,J){if(1&le&&(d.TgZ(0,"span")(1,"a",5),d._uU(2),d.qZA()()),2&le){const u=d.oxw(3);d.xp6(1),d.Q6J("routerLink",u.secondaryInvestor.path),d.xp6(1),d.Oqu(u.secondaryInvestor.name)}}function $(le,J){if(1&le&&(d.TgZ(0,"span"),d._uU(1),d.ALo(2,"lowercase"),d.ALo(3,"translate"),d.YNc(4,B,6,7,"span",3),d.YNc(5,Q,3,2,"span",3),d.qZA()),2&le){const u=d.oxw(2);d.xp6(1),d.hij(" ",d.lcZ(2,3,d.lcZ(3,5,"CBL.COMMON.AND"))," "),d.xp6(3),d.Q6J("ngIf",!u.secondaryInvestor),d.xp6(1),d.Q6J("ngIf",u.secondaryInvestor)}}function W(le,J){if(1&le&&(d.TgZ(0,"span"),d._uU(1),d.ALo(2,"lowercase"),d.ALo(3,"translate"),d.YNc(4,s,3,2,"span",3),d.YNc(5,E,6,7,"span",3),d.YNc(6,b,10,14,"span",3),d.YNc(7,$,6,7,"span",3),d.qZA()),2&le){const u=d.oxw();d.xp6(1),d.hij(" ",d.lcZ(2,5,d.lcZ(3,7,"CBL.COMMON.FROM"))," "),d.xp6(3),d.Q6J("ngIf",!u.leadInvestor&&u.investor),d.xp6(1),d.Q6J("ngIf",u.leadInvestor&&!u.numberOfInvestors),d.xp6(1),d.Q6J("ngIf",u.leadInvestor&&u.numberOfInvestors),d.xp6(1),d.Q6J("ngIf",!u.leadInvestor&&u.numberOfInvestors)}}let q=(()=>{class le{constructor(u,D,se,ne){this.currencyPipe=u,this.imageService=D,this.labelService=se,this.urlService=ne,this.investmentCurrency="usd"}ngOnInit(){this.setProperties(this.activity),this.buildTitle()}setProperties(u){var D,se,ne,_e,ee;let w=(0,e.filter)(u.activity_entities,X=>"investor"===X.role),G=(0,e.find)(u.activity_entities,X=>"investee"===X.role),k=(0,e.find)(u.activity_entities,X=>"lead_investor"===X.role);k?(this.leadInvestor=this.makeInvestorDetails(k),w.length&&(this.numberOfInvestors=w.length),1===w.length&&(this.secondaryInvestor=this.makeInvestorDetails(w[0]))):(this.investor=this.makeInvestorDetails(w[0]),w.length>=2&&(this.numberOfInvestors=w.length-1),2===w.length&&(this.secondaryInvestor=this.makeInvestorDetails(w[1]))),G||(G=u.activity_entities[0]),this.investeeName=G.value||"",this.investmentAmount=null===(se=null===(D=u.activity_properties)||void 0===D?void 0:D.money_raised)||void 0===se?void 0:se.value,this.investmentCurrency=null===(_e=null===(ne=u.activity_properties)||void 0===ne?void 0:ne.money_raised)||void 0===_e?void 0:_e.currency,this.entityImageSource=this.getEntityImage(G),this.investeeRoute=this.urlService.getIdentifierRoute(G),this.investmentType=(0,e.startCase)(null===(ee=u.activity_properties)||void 0===ee?void 0:ee.investment_type),this.investmentRoute=this.urlService.getIdentifierRoute(u.identifier)}makeInvestorDetails(u){if(u&&u.value)return{name:u.value,path:this.urlService.getIdentifierRoute(u).path}}buildTitle(){var u,D,se;let{investeeName:ne,investmentAmount:_e,investmentType:ee,numberOfInvestors:w}=this;const G=null===(u=this.investor)||void 0===u?void 0:u.name,k=null===(D=this.leadInvestor)||void 0===D?void 0:D.name,X=null===(se=this.secondaryInvestor)||void 0===se?void 0:se.name;let K=ne;K+=` ${this.getLabel("CBL.TIMELINE.RAISED")}`,K+=_e?` ${this.formatMoney(_e)}`:` ${this.getLabel("CBL.TIMELINE.AN_UNDISCLOSED_AMOUNT")}`,ee&&"Undisclosed"!==ee&&(K+=` / ${ee}`),(!ee||"Undisclosed"===ee)&&(K+=` / ${this.getLabel("CBL.TIMELINE.FUNDING_ROUND")}`),(G||k||w)&&(K+=` ${this.getLabel("CBL.COMMON.FROM")}`,!k&&G&&(K+=` ${G}`),k&&!w&&(K+=` ${k}`,K+=` ${this.getLabel("CBL.TIMELINE.LEAD")}`),k&&w&&(K+=` ${k}`,K+=` ${this.getLabel("CBL.TIMELINE.LEAD")}`,K+=` ${this.getLabel("CBL.COMMON.AND")}`,X?K+=` ${X}`:(K+=` ${w}`,K+=` ${this.getLabel("CBL.TIMELINE.OTHER_INVESTORS")}`)),!k&&w&&(K+=` ${this.getLabel("CBL.COMMON.AND")}`,X?K+=` ${X}`:(K+=` ${w}`,K+=` ${this.getLabel("CBL.TIMELINE.OTHER_INVESTORS")}`))),this.foundingRoundTitle=K}getLabel(u){return this.labelService.getLabel(u).toLowerCase()}getEntityImage(u){let D=null==u?void 0:u.image_id;return D||(D=this.activity.activity_entities[0].image_id),this.imageService.getPublicImageUrl(D,le.IMAGE_OPTIONS)}formatMoney(u){return u&&this.investmentCurrency&&this.currencyPipe.transform(u,(0,e.toUpper)(this.investmentCurrency),"symbol","1.0-0")||""}}return le.IMAGE_OPTIONS={width:"30",height:"30"},le.\u0275fac=function(u){return new(u||le)(d.Y36(g.H9),d.Y36(l.AJ),d.Y36(y.Q),d.Y36(p.iO))},le.\u0275cmp=d.Xpm({type:le,selectors:[["funding-round"]],inputs:{activity:"activity",isEntityCard:"isEntityCard"},decls:10,vars:9,consts:[["class","funding-round-image","lazyLoadImage","","placeholderType","funding-round","imgAlt","",3,"useIdentifierImgStyle","imgSrc",4,"ngIf"],[1,"funding-round-content"],[3,"title"],[4,"ngIf"],["lazyLoadImage","","placeholderType","funding-round","imgAlt","",1,"funding-round-image",3,"useIdentifierImgStyle","imgSrc"],["cb-link","accent",3,"routerLink"]],template:function(u,D){1&u&&(d.YNc(0,_,1,2,"div",0),d.TgZ(1,"div",1)(2,"span",2),d.YNc(3,n,3,3,"span",3),d.YNc(4,m,2,1,"span",3),d.YNc(5,v,5,11,"span",3),d.YNc(6,h,6,10,"span",3),d.YNc(7,I,4,2,"span",3),d.YNc(8,x,4,2,"span",3),d.YNc(9,W,8,9,"span",3),d.qZA()()),2&u&&(d.Q6J("ngIf",!D.isEntityCard),d.xp6(2),d.Q6J("title",D.foundingRoundTitle),d.xp6(1),d.Q6J("ngIf",D.investeeRoute),d.xp6(1),d.Q6J("ngIf",!D.investeeRoute),d.xp6(1),d.Q6J("ngIf",D.investmentAmount),d.xp6(1),d.Q6J("ngIf",!D.investmentAmount),d.xp6(1),d.Q6J("ngIf",D.investmentType&&"Undisclosed"!==D.investmentType),d.xp6(1),d.Q6J("ngIf",!D.investmentType||"Undisclosed"===D.investmentType),d.xp6(1),d.Q6J("ngIf",D.investor||D.leadInvestor||D.numberOfInvestors))},directives:[g.O5,f.z,a.n,c.I,r.yS],pipes:[g.i8,o.X,g.H9],styles:["[_nghost-%COMP%]{box-sizing:border-box;display:flex!important;flex-direction:row}[_nghost-%COMP%]   .funding-round-image[_ngcontent-%COMP%]{flex:0 0 auto;box-sizing:border-box}[_nghost-%COMP%]   .funding-round-content[_ngcontent-%COMP%]{flex:1;box-sizing:border-box;display:flex!important;flex-direction:row;justify-content:flex-start;align-items:center;align-content:center;max-width:100%}[_nghost-%COMP%]   .funding-round-content[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{max-width:100%;box-sizing:border-box}[_nghost-%COMP%]   .funding-round-content[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{flex:0 0 auto;box-sizing:border-box}"]}),le})()},97810:(oe,L,t)=>{t.d(L,{z:()=>C});var e=t(13074),i=t(97010),p=t(94882),l=t(3184),y=t(36362),d=t(40361),g=t(46036),f=t(47367),a=t(45857),c=t(74929);function r(S,I){if(1&S&&l._UZ(0,"div",4),2&S){const T=l.oxw();l.Q6J("useIdentifierImgStyle",!0)("imgSrc",T.entityImage)}}function o(S,I){if(1&S&&(l.TgZ(0,"span")(1,"a",5),l._uU(2),l.qZA()()),2&S){const T=l.oxw();l.xp6(1),l.Q6J("routerLink",T.entityRoute.path),l.uIk("aria-label",T.entityName),l.xp6(1),l.Oqu(T.entityName)}}function _(S,I){if(1&S&&(l.TgZ(0,"span"),l._uU(1),l.qZA()),2&S){const T=l.oxw();l.xp6(1),l.Oqu(T.entityName)}}function n(S,I){if(1&S&&(l.TgZ(0,"span"),l._uU(1),l.qZA()),2&S){const T=l.oxw(2);l.xp6(1),l.hij("",T.exchangeSymbol,":")}}function m(S,I){if(1&S&&(l.TgZ(0,"span")(1,"a",5),l._uU(2),l.qZA()()),2&S){const T=l.oxw(2);l.xp6(1),l.Q6J("routerLink",T.ipoRoute.path),l.uIk("aria-label",T.companyTicker),l.xp6(1),l.Oqu(T.companyTicker)}}function v(S,I){if(1&S&&(l.TgZ(0,"span"),l._uU(1),l.qZA()),2&S){const T=l.oxw(2);l.xp6(1),l.Oqu(T.companyTicker)}}function h(S,I){if(1&S&&(l.TgZ(0,"span"),l._uU(1," ("),l.YNc(2,n,2,1,"span",3),l.YNc(3,m,3,3,"span",3),l.YNc(4,v,2,1,"span",3),l._uU(5,") "),l.qZA()),2&S){const T=l.oxw();l.xp6(2),l.Q6J("ngIf",T.exchangeSymbol),l.xp6(1),l.Q6J("ngIf",T.ipoRoute),l.xp6(1),l.Q6J("ngIf",!T.ipoRoute)}}let C=(()=>{class S{constructor(T,N,x){this.urlService=T,this.labelService=N,this.imageService=x}ngOnInit(){this.getProperties(),this.buildTitle()}getProperties(){let T=this.activity.activity_entities&&this.activity.activity_entities[0];T&&(this.entityImage=this.getEntityImage(T.image_id),this.entityName=T.value||"",this.entityRoute=this.urlService.getIdentifierRoute(T)),this.ipoRoute=this.urlService.getIdentifierRoute(this.activity.identifier),this.exchangeSymbol=this.activity.activity_properties&&this.activity.activity_properties.stock_exchange_symbol,this.companyTicker=this.activity.identifier.value}buildTitle(){let{entityName:T,exchangeSymbol:N,companyTicker:x}=this,s=T;s+=` ${this.getLabel("CBL.TIMELINE.WENT_PUBLIC")}`,x&&(s+=" (",s+=N?`${N}: ${x}`:x,s+=")"),this.ipoTitle=s}getLabel(T){return this.labelService.getLabel(T).toLowerCase()}getEntityImage(T){return this.imageService.getPublicImageUrl(T,S.IMAGE_OPTIONS)}}return S.IMAGE_OPTIONS={width:"30",height:"30"},S.\u0275fac=function(T){return new(T||S)(l.Y36(e.iO),l.Y36(p.Q),l.Y36(i.AJ))},S.\u0275cmp=l.Xpm({type:S,selectors:[["ipo"]],inputs:{activity:"activity",isEntityCard:"isEntityCard"},decls:9,vars:10,consts:[["class","ipo-image","lazyLoadImage","","placeholderType","ipo","imgAlt","",3,"useIdentifierImgStyle","imgSrc",4,"ngIf"],[1,"ipo-content"],[3,"title"],[4,"ngIf"],["lazyLoadImage","","placeholderType","ipo","imgAlt","",1,"ipo-image",3,"useIdentifierImgStyle","imgSrc"],["cb-link","accent",3,"routerLink"]],template:function(T,N){1&T&&(l.YNc(0,r,1,2,"div",0),l.TgZ(1,"div",1)(2,"span",2),l.YNc(3,o,3,3,"span",3),l.YNc(4,_,2,1,"span",3),l._uU(5),l.ALo(6,"lowercase"),l.ALo(7,"translate"),l.YNc(8,h,6,3,"span",3),l.qZA()()),2&T&&(l.Q6J("ngIf",!N.isEntityCard),l.xp6(2),l.Q6J("title",N.ipoTitle),l.xp6(1),l.Q6J("ngIf",N.entityRoute&&!N.isEntityCard),l.xp6(1),l.Q6J("ngIf",!N.entityRoute||N.isEntityCard),l.xp6(1),l.hij(" ",l.lcZ(6,6,l.lcZ(7,8,"CBL.TIMELINE.WENT_PUBLIC"))," "),l.xp6(3),l.Q6J("ngIf",N.companyTicker))},directives:[y.O5,d.z,g.n,f.I,a.yS],pipes:[y.i8,c.X],styles:["[_nghost-%COMP%]{box-sizing:border-box;display:flex!important;flex-direction:row}[_nghost-%COMP%]   .ipo-image[_ngcontent-%COMP%]{flex:0 0 auto;box-sizing:border-box}[_nghost-%COMP%]   .ipo-content[_ngcontent-%COMP%]{flex:1;box-sizing:border-box;display:flex!important;flex-direction:row;justify-content:flex-start;align-items:center;align-content:center;max-width:100%}[_nghost-%COMP%]   .ipo-content[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{max-width:100%;box-sizing:border-box}[_nghost-%COMP%]   .ipo-content[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{flex:0 0 auto;box-sizing:border-box}"]}),S})()},52727:(oe,L,t)=>{t.d(L,{e:()=>_e});var e=t(13074),i=t(97010),p=t(3184),l=t(36362),y=t(47367),d=t(40361),g=t(46036),f=t(45857),a=t(87317),c=t(32478),r=t(74929);function o(ee,w){if(1&ee&&(p.TgZ(0,"span"),p._uU(1),p.qZA()),2&ee){const G=p.oxw(3);p.xp6(1),p.hij(" ",G.activity.activity_properties.publisher||G.activity.activity_properties.author," \u2014 ")}}function _(ee,w){if(1&ee&&(p.TgZ(0,"span"),p.YNc(1,o,2,1,"span",4),p.qZA()),2&ee){const G=p.oxw(2);p.xp6(1),p.Q6J("ngIf",G.activity.activity_properties.publisher||G.activity.activity_properties.author)}}function n(ee,w){if(1&ee&&(p.TgZ(0,"span")(1,"a",5),p._uU(2),p.qZA()()),2&ee){const G=p.oxw(2);p.xp6(1),p.Q6J("href",G.activity.activity_properties.url.value,p.LSH),p.xp6(1),p.hij(" ",G.activity.activity_properties.title," ")}}function m(ee,w){if(1&ee&&(p.TgZ(0,"span"),p._uU(1),p.qZA()),2&ee){const G=p.oxw(2);p.xp6(1),p.Oqu(G.activity.activity_properties.title)}}function v(ee,w){if(1&ee&&(p.TgZ(0,"div",3),p.YNc(1,_,2,1,"span",4),p.YNc(2,n,3,2,"span",4),p.YNc(3,m,2,1,"span",4),p.qZA()),2&ee){const G=p.oxw();p.Q6J("title",G.entityTitle),p.xp6(1),p.Q6J("ngIf",G.entityRoute&&G.activity.activity_entities[0].value),p.xp6(1),p.Q6J("ngIf",null==G.activity.activity_properties.url?null:G.activity.activity_properties.url.value),p.xp6(1),p.Q6J("ngIf",!(null!=G.activity.activity_properties.url&&G.activity.activity_properties.url.value))}}function h(ee,w){if(1&ee&&p._UZ(0,"div",9),2&ee){const G=p.oxw(2);p.Q6J("useIdentifierImgStyle",!0)("imgSrc",G.entityImageSource)}}function C(ee,w){if(1&ee&&(p.TgZ(0,"span"),p._uU(1),p.qZA()),2&ee){const G=p.oxw(2).ngIf;p.xp6(1),p.hij(" ",G.publisher||G.author," \u2014 ")}}function S(ee,w){if(1&ee&&(p.TgZ(0,"span")(1,"a",11),p._uU(2),p.qZA(),p._uU(3,": "),p.YNc(4,C,2,1,"span",4),p.qZA()),2&ee){const G=p.oxw().ngIf,k=p.oxw(2);p.xp6(1),p.Q6J("routerLink",k.entityRoute.path),p.xp6(1),p.hij(" ",k.pressReferenceSet.entity.value,""),p.xp6(2),p.Q6J("ngIf",G.publisher||G.author)}}function I(ee,w){if(1&ee&&(p.TgZ(0,"span")(1,"a",5),p._uU(2),p.qZA()()),2&ee){const G=p.oxw().ngIf;p.xp6(1),p.Q6J("href",G.url.value,p.LSH),p.xp6(1),p.hij(" ",G.title," ")}}function T(ee,w){if(1&ee&&(p.TgZ(0,"span"),p._uU(1),p.qZA()),2&ee){const G=p.oxw().ngIf;p.xp6(1),p.Oqu(G.title)}}function N(ee,w){if(1&ee&&(p.TgZ(0,"div",10)(1,"span"),p.YNc(2,S,5,3,"span",4),p.YNc(3,I,3,2,"span",4),p.YNc(4,T,2,1,"span",4),p.qZA()()),2&ee){const G=w.ngIf,k=p.oxw(2);p.xp6(2),p.Q6J("ngIf",k.entityRoute&&k.pressReferenceSet.entity.value),p.xp6(1),p.Q6J("ngIf",null==G.url?null:G.url.value),p.xp6(1),p.Q6J("ngIf",!(null!=G.url&&G.url.value))}}function x(ee,w){if(1&ee&&(p.TgZ(0,"div",6),p.YNc(1,h,1,2,"div",7),p.YNc(2,N,5,3,"div",8),p.qZA()),2&ee){const G=p.oxw();p.Q6J("title",G.pressReferenceSetTitle),p.xp6(1),p.Q6J("ngIf",!G.isEntityCard),p.xp6(1),p.Q6J("ngIf",G.pressReferenceSet.activities[0].activity_properties)}}function s(ee,w){if(1&ee&&p._UZ(0,"div",17),2&ee){const G=p.oxw(2);p.Q6J("useIdentifierImgStyle",!0)("imgSrc",G.entityImageSource)}}function E(ee,w){if(1&ee&&(p.TgZ(0,"span")(1,"a",18),p._uU(2),p.qZA()()),2&ee){const G=p.oxw(2);p.xp6(1),p.Q6J("routerLink",G.entityRoute.path),p.uIk("aria-label",G.pressReferenceSet.entity.value),p.xp6(1),p.hij(" ",G.pressReferenceSet.entity.value," ")}}function H(ee,w){if(1&ee&&(p.TgZ(0,"span"),p._uU(1),p.qZA()),2&ee){const G=p.oxw(2);p.xp6(1),p.Oqu(G.pressReferenceSet.entity.value)}}function V(ee,w){if(1&ee&&(p.TgZ(0,"span"),p._uU(1),p.qZA()),2&ee){const G=p.oxw(2).$implicit;p.xp6(1),p.hij(" ",G.activity_properties.publisher||G.activity_properties.author," \u2014 ")}}function b(ee,w){if(1&ee&&(p.TgZ(0,"span")(1,"a",20),p._uU(2),p.qZA()()),2&ee){const G=p.oxw(2).$implicit;p.xp6(1),p.Q6J("href",G.activity_properties.url.value,p.LSH),p.xp6(1),p.hij(" ",G.activity_properties.title," ")}}function B(ee,w){if(1&ee&&(p.TgZ(0,"span"),p._uU(1),p.qZA()),2&ee){const G=p.oxw(2).$implicit;p.xp6(1),p.Oqu(G.activity_properties.title)}}function Q(ee,w){if(1&ee&&(p.ynx(0),p.YNc(1,V,2,1,"span",4),p.YNc(2,b,3,2,"span",4),p.YNc(3,B,2,1,"span",4),p.BQk()),2&ee){const G=p.oxw().$implicit;p.xp6(1),p.Q6J("ngIf",G.activity_properties.publisher||G.activity_properties.author),p.xp6(1),p.Q6J("ngIf",null==G.activity_properties.url?null:G.activity_properties.url.value),p.xp6(1),p.Q6J("ngIf",!(null!=G.activity_properties.url&&G.activity_properties.url.value))}}function $(ee,w){if(1&ee&&(p.TgZ(0,"div",19),p.YNc(1,Q,4,3,"ng-container",4),p.qZA()),2&ee){const G=w.$implicit;p.xp6(1),p.Q6J("ngIf",G.activity_properties)}}function W(ee,w){if(1&ee&&(p.TgZ(0,"span"),p._uU(1),p.qZA()),2&ee){const G=p.oxw(2).$implicit;p.xp6(1),p.hij(" ",G.activity_properties.publisher||G.activity_properties.author," \u2014 ")}}function q(ee,w){if(1&ee&&(p.TgZ(0,"span")(1,"a",20),p._uU(2),p.qZA()()),2&ee){const G=p.oxw(2).$implicit;p.xp6(1),p.Q6J("href",G.activity_properties.url.value,p.LSH),p.xp6(1),p.hij(" ",G.activity_properties.title,"")}}function le(ee,w){if(1&ee&&(p.TgZ(0,"span"),p._uU(1),p.qZA()),2&ee){const G=p.oxw(2).$implicit;p.xp6(1),p.Oqu(G.activity_properties.title)}}function J(ee,w){if(1&ee&&(p.ynx(0),p.YNc(1,W,2,1,"span",4),p.YNc(2,q,3,2,"span",4),p.YNc(3,le,2,1,"span",4),p.BQk()),2&ee){const G=p.oxw().$implicit;p.xp6(1),p.Q6J("ngIf",G.activity_properties.publisher||G.activity_properties.author),p.xp6(1),p.Q6J("ngIf",null==G.activity_properties.url?null:G.activity_properties.url.value),p.xp6(1),p.Q6J("ngIf",!(null!=G.activity_properties.url&&G.activity_properties.url.value))}}function u(ee,w){if(1&ee&&(p.TgZ(0,"div",21),p.YNc(1,J,4,3,"ng-container",4),p.qZA()),2&ee){const G=w.$implicit,k=p.oxw(2);p.Q6J("hidden",!k.showingHiddenActivities),p.xp6(1),p.Q6J("ngIf",G.activity_properties)}}function D(ee,w){if(1&ee){const G=p.EpF();p.TgZ(0,"div")(1,"button",22),p.NdJ("click",function(){return p.CHM(G),p.oxw(2).showHiddenActivities()}),p.ALo(2,"translate"),p._UZ(3,"icon",23),p._uU(4),p.ALo(5,"translate"),p.qZA()()}if(2&ee){const G=p.oxw(2);p.xp6(1),p.uIk("aria-label",p.lcZ(2,3,G.hiddenActivities.length>1?"CBL.TIMELINE.MORE_ARTICLES":"CBL.TIMELINE.MORE_ARTICLE")),p.xp6(3),p.AsE(" ",G.hiddenActivities.length," ",p.lcZ(5,5,G.hiddenActivities.length>1?"CBL.TIMELINE.MORE_ARTICLES":"CBL.TIMELINE.MORE_ARTICLE")," ")}}function se(ee,w){if(1&ee){const G=p.EpF();p.TgZ(0,"div")(1,"button",22),p.NdJ("click",function(){return p.CHM(G),p.oxw(2).hideExtraActivities()}),p.ALo(2,"translate"),p._UZ(3,"icon",24),p._uU(4),p.ALo(5,"translate"),p.qZA()()}2&ee&&(p.xp6(1),p.uIk("aria-label",p.lcZ(2,2,"CBL.TIMELINE.HIDE")),p.xp6(3),p.hij(" ",p.lcZ(5,4,"CBL.TIMELINE.HIDE")," "))}function ne(ee,w){if(1&ee&&(p.TgZ(0,"div",12),p.YNc(1,s,1,2,"div",13),p.TgZ(2,"div",14),p.YNc(3,E,3,3,"span",4),p.YNc(4,H,2,1,"span",4),p.YNc(5,$,2,1,"div",15),p.YNc(6,u,2,2,"div",16),p.YNc(7,D,6,7,"div",4),p.YNc(8,se,6,6,"div",4),p.qZA()()),2&ee){const G=p.oxw();p.Q6J("title",G.pressReferenceSetTitle),p.xp6(1),p.Q6J("ngIf",!G.isEntityCard),p.xp6(2),p.Q6J("ngIf",G.entityRoute),p.xp6(1),p.Q6J("ngIf",!G.entityRoute),p.xp6(1),p.Q6J("ngForOf",G.visibleActivities),p.xp6(1),p.Q6J("ngForOf",G.hiddenActivities),p.xp6(1),p.Q6J("ngIf",!G.showingHiddenActivities&&G.hiddenActivities.length>0),p.xp6(1),p.Q6J("ngIf",G.showingHiddenActivities&&G.hiddenActivities.length>0)}}let _e=(()=>{class ee{constructor(G,k){this.imageService=G,this.urlService=k,this.visibleActivities=[],this.hiddenActivities=[],this.showingHiddenActivities=!1}ngOnInit(){if(this.isEntityCard){let G=this.activity.activity_entities&&this.activity.activity_entities[0];G&&(this.entityImageSource=this.getEntityImage(G.image_id),this.entityRoute=this.urlService.getIdentifierRoute(G))}else{let G=this.pressReferenceSet.entity;G&&(this.entityImageSource=this.getEntityImage(G.image_id),this.entityRoute=this.urlService.getIdentifierRoute(G)),this.sortActivities(this.pressReferenceSet.activities)}this.buildTitle()}showHiddenActivities(){this.showingHiddenActivities=!0}hideExtraActivities(){this.showingHiddenActivities=!1}sortActivities(G){for(let X=0;X<G.length;X++)X<3?this.visibleActivities.push(G[X]):this.hiddenActivities.push(G[X])}buildTitle(){var G;let{isEntityCard:k,activity:X,entityRoute:K,pressReferenceSet:te,visibleActivities:Ie,hiddenActivities:Te,showingHiddenActivities:ce}=this;if(k&&X){let Re="";K&&X.activity_entities[0].value&&(Re+=`${X.activity_entities[0].value}:`,Re+=this.getActivityPropertiesTitle(X.activity_properties)),Re+=` ${(null===(G=X.activity_properties)||void 0===G?void 0:G.title)||""}`,this.entityTitle=Re}if(te&&1===te.activities.length){let Re="",{activity_properties:fe}=te.activities[0];K&&te.entity.value&&(Re+=`${te.entity.value}:`,Re+=this.getActivityPropertiesTitle(fe)),Re+=` ${(null==fe?void 0:fe.title)||""}`,this.pressReferenceSetTitle=Re}if(te&&te.activities.length>1){let Re=te.entity.value||"";Ie.forEach(fe=>{let ye=fe.activity_properties;Re+=this.getActivityPropertiesTitle(ye),Re+=` ${(null==ye?void 0:ye.title)||""}`}),ce&&Te.forEach(fe=>{let ye=fe.activity_properties;Re+=this.getActivityPropertiesTitle(ye),Re+=` ${(null==ye?void 0:ye.title)||""}`}),this.pressReferenceSetTitle=Re}}getActivityPropertiesTitle(G){if(!G)return"";let k="";return(G.publisher||G.author)&&(k+=G.publisher?` ${G.publisher}`:` ${G.author}`,k+=" \u2014"),k}getEntityImage(G){return this.imageService.getPublicImageUrl(G,ee.IMAGE_OPTIONS)}}return ee.IMAGE_OPTIONS={width:"30",height:"30"},ee.\u0275fac=function(G){return new(G||ee)(p.Y36(i.AJ),p.Y36(e.iO))},ee.\u0275cmp=p.Xpm({type:ee,selectors:[["press-reference"]],inputs:{pressReferenceSet:"pressReferenceSet",isEntityCard:"isEntityCard",activity:"activity"},decls:3,vars:3,consts:[[3,"title",4,"ngIf"],["class","single-press-reference",3,"title",4,"ngIf"],["class","multi-press-reference",3,"title",4,"ngIf"],[3,"title"],[4,"ngIf"],["cb-link","accent","target","_blank","rel","nofollow noopener noreferrer",1,"activity-url-title",3,"href"],[1,"single-press-reference",3,"title"],["class","single-press-reference-image","lazyLoadImage","","imgAlt","",3,"useIdentifierImgStyle","imgSrc",4,"ngIf"],["class","single-press-reference-content",4,"ngIf"],["lazyLoadImage","","imgAlt","",1,"single-press-reference-image",3,"useIdentifierImgStyle","imgSrc"],[1,"single-press-reference-content"],["cb-link","accent",3,"routerLink"],[1,"multi-press-reference",3,"title"],["class","multi-press-reference-image","lazyLoadImage","","imgAlt","",3,"useIdentifierImgStyle","imgSrc",4,"ngIf"],[1,"multi-press-reference-content"],["class","activity",4,"ngFor","ngForOf"],["class","activity",3,"hidden",4,"ngFor","ngForOf"],["lazyLoadImage","","imgAlt","",1,"multi-press-reference-image",3,"useIdentifierImgStyle","imgSrc"],["cb-link","accent",1,"entity-route-link",3,"routerLink"],[1,"activity"],["cb-link","accent","target","_blank","rel","nofollow noopener noreferrer",3,"href"],[1,"activity",3,"hidden"],["mat-button","",1,"action-button",3,"click"],["key","icon_caret_down"],["key","icon_caret_up"]],template:function(G,k){1&G&&(p.YNc(0,v,4,4,"div",0),p.YNc(1,x,3,3,"div",1),p.YNc(2,ne,9,8,"div",2)),2&G&&(p.Q6J("ngIf",k.isEntityCard&&k.activity&&k.activity.activity_properties),p.xp6(1),p.Q6J("ngIf",k.pressReferenceSet&&1===k.pressReferenceSet.activities.length),p.xp6(1),p.Q6J("ngIf",k.pressReferenceSet&&k.pressReferenceSet.activities.length>1))},directives:[l.O5,y.I,d.z,g.n,f.yS,l.sg,a.lW,c.o],pipes:[r.X],styles:[".single-press-reference[_ngcontent-%COMP%]{box-sizing:border-box;display:flex!important;flex-direction:row}.single-press-reference[_ngcontent-%COMP%]   .single-press-reference-image[_ngcontent-%COMP%]{flex:0 0 auto;box-sizing:border-box}.single-press-reference[_ngcontent-%COMP%]   .single-press-reference-content[_ngcontent-%COMP%]{flex:1;box-sizing:border-box;display:flex!important;flex-direction:row;justify-content:flex-start;align-items:center;align-content:center;max-width:100%}.single-press-reference[_ngcontent-%COMP%]   .single-press-reference-content[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{max-width:100%;box-sizing:border-box}.single-press-reference[_ngcontent-%COMP%]   .single-press-reference-content[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{flex:0 0 auto;box-sizing:border-box}.multi-press-reference[_ngcontent-%COMP%]{box-sizing:border-box;display:flex!important;flex-direction:row}.multi-press-reference[_ngcontent-%COMP%]   .multi-press-reference-image[_ngcontent-%COMP%]{flex:0 0 auto;box-sizing:border-box}.multi-press-reference[_ngcontent-%COMP%]   .multi-press-reference-content[_ngcontent-%COMP%]{flex:1;box-sizing:border-box;display:flex!important;flex-direction:column}.multi-press-reference[_ngcontent-%COMP%]   .activity[_ngcontent-%COMP%], .multi-press-reference[_ngcontent-%COMP%]   .entity-route-link[_ngcontent-%COMP%]{margin-top:4px;margin-bottom:4px}.action-button[_ngcontent-%COMP%]{padding-left:0;margin:0}.activity-url-title[_ngcontent-%COMP%]{flex:1;box-sizing:border-box}"]}),ee})()},57556:(oe,L,t)=>{t.d(L,{HC:()=>I});var e=t(45857),i=t(36362),p=t(90587),l=t(90898),y=t(35503),d=t(85495),g=t(68881),f=t(32519),a=t(32313),c=t(19366),r=t(3184);t(44983),t(88670),t(40757),t(86378),t(97810),t(52727),t(44472),t(47320);let I=(()=>{class T{}return T.\u0275fac=function(x){return new(x||T)},T.\u0275mod=r.oAB({type:T}),T.\u0275inj=r.cJS({imports:[[i.ez,e.Bz,p.u5,l.q,y.Dt,d.E,g.N,f.n,a.H,c.L]]}),T})()},44983:(oe,L,t)=>{t.d(L,{z:()=>X});var e=t(92938),i=t(3184),p=t(18277),l=t(41825),y=t(2384),d=t(75215),g=t(843),f=t(85129),a=t(45857),c=t(49837),r=t(44770),o=t(91434),_=t(90587),n=t(36362),m=t(1130),v=t(20757),h=t(32478),C=t(252);let S=(()=>{class K{constructor(Ie,Te,ce){this.platformService=Ie,this.ngZone=Te,this.elementRef=ce,this.onScroll=new i.vpe}ngAfterContentInit(){this.platformService.isBrowser()&&(this.nativeElem=this.elementRef.nativeElement,this.addEventListener())}ngOnDestroy(){this.platformService.isBrowser()&&this.ngZone.runOutsideAngular(()=>{this.nativeElem.removeEventListener("scroll",this.regulatedOnScroll)})}addEventListener(){this.ngZone.runOutsideAngular(()=>{let Ie=()=>{let Te=this.nativeElem.scrollTop;this.ngZone.run(()=>{this.onScroll.emit(Te)})};this.regulatedOnScroll="throttle"===this.regulateExecutionBy?(0,e.throttle)(Ie,this.wait):"debounce"===this.regulateExecutionBy?(0,e.debounce)(Ie,this.wait):Ie,this.nativeElem.addEventListener("scroll",this.regulatedOnScroll)})}}return K.\u0275fac=function(Ie){return new(Ie||K)(i.Y36(c.m),i.Y36(i.R0b),i.Y36(i.SBq))},K.\u0275dir=i.lG2({type:K,selectors:[["","scrollNotifier",""]],inputs:{regulateExecutionBy:"regulateExecutionBy",wait:"wait"},outputs:{onScroll:"onScroll"}}),K})();var I=t(44472),T=t(74929);const N=["activitiesContainer"],x=["activitiesContent"];function s(K,te){1&K&&i.GkF(0)}function E(K,te){1&K&&i.GkF(0)}function H(K,te){1&K&&i.GkF(0)}const V=function(K,te){return{canUserSelectActivityEntityDefId:K,activityEntityDefId:te}};function b(K,te){if(1&K&&(i.TgZ(0,"mat-option",17),i.YNc(1,H,1,0,"ng-container",6),i.qZA()),2&K){const Ie=te.$implicit,Te=i.oxw(),ce=i.MAs(14);i.Q6J("value",Ie),i.xp6(1),i.Q6J("ngTemplateOutlet",ce)("ngTemplateOutletContext",i.WLB(3,V,Te.canUserSelectActivityEntityDefId,Ie))}}function B(K,te){if(1&K&&i._UZ(0,"theme-icon",22),2&K){const Ie=i.oxw().activityEntityDefId,Te=i.oxw();i.Q6J("themeId",Te.activityEntityDefThemes[Ie])}}function Q(K,te){1&K&&i._UZ(0,"icon",23)}function $(K,te){1&K&&i._UZ(0,"icon",24)}function W(K,te){if(1&K&&(i.TgZ(0,"div",18),i.YNc(1,B,1,1,"theme-icon",19),i.YNc(2,Q,1,0,"icon",20),i.YNc(3,$,1,0,"icon",21),i.TgZ(4,"span"),i._uU(5),i.ALo(6,"translate"),i.ALo(7,"uppercase"),i.qZA()()),2&K){const Ie=te.canUserSelectActivityEntityDefId,Te=te.activityEntityDefId;i.xp6(1),i.Q6J("ngIf",Ie&&"all"!==Te),i.xp6(1),i.Q6J("ngIf","all"===Te),i.xp6(1),i.Q6J("ngIf",!Ie&&"all"!==Te),i.xp6(2),i.Oqu(i.lcZ(6,4,"CBL.TIMELINE.ACTIVITY_NAMES."+i.lcZ(7,6,Te||"all")))}}function q(K,te){1&K&&(i.TgZ(0,"p"),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&K&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,"CBL.COMMON.OOPS")," "))}function le(K,te){1&K&&(i.TgZ(0,"p"),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&K&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,"CBL.COMMON.PROBLEM")," "))}function J(K,te){1&K&&(i.TgZ(0,"p"),i.SDv(1,25),i.qZA())}function u(K,te){if(1&K&&i._UZ(0,"activity-group-card",34),2&K){const Ie=i.oxw().$implicit,Te=i.oxw(2).$implicit;i.Q6J("activityGroup",Te.activityGroups[Ie])}}function D(K,te){if(1&K&&(i.ynx(0),i.YNc(1,u,1,1,"activity-group-card",33),i.BQk()),2&K){const Ie=te.$implicit,Te=i.oxw(2).$implicit;i.xp6(1),i.Q6J("ngIf",Te.activityGroups[Ie])}}function se(K,te){if(1&K&&(i.ynx(0),i.YNc(1,D,2,1,"ng-container",32),i.BQk()),2&K){const Ie=i.oxw(2);i.xp6(1),i.Q6J("ngForOf",Ie.activityEntityDefIds)}}function ne(K,te){if(1&K&&i._UZ(0,"activity-group-card",34),2&K){const Ie=i.oxw(2).$implicit,Te=i.oxw();i.Q6J("activityGroup",Ie.activityGroups[Te.selectedActivityEntityDefId])}}function _e(K,te){if(1&K&&(i.ynx(0),i.YNc(1,ne,1,1,"activity-group-card",33),i.BQk()),2&K){const Ie=i.oxw().$implicit,Te=i.oxw();i.xp6(1),i.Q6J("ngIf",Ie.activityGroups[Te.selectedActivityEntityDefId])}}function ee(K,te){if(1&K&&(i.TgZ(0,"div",26)(1,"div",27)(2,"div",28),i._UZ(3,"div",29),i.TgZ(4,"span",30),i._uU(5),i.ALo(6,"date"),i.qZA(),i._UZ(7,"div",29),i.qZA(),i.TgZ(8,"div",31),i.YNc(9,se,2,1,"ng-container",11),i.YNc(10,_e,2,1,"ng-container",11),i.qZA()()()),2&K){const Ie=te.$implicit,Te=i.oxw();i.xp6(5),i.hij(" ",i.xi3(6,3,Ie.datetime,"fullDate")," "),i.xp6(4),i.Q6J("ngIf","all"===Te.selectedActivityEntityDefId||!Te.canUserSelectActivityEntityDefId),i.xp6(1),i.Q6J("ngIf","all"!==Te.selectedActivityEntityDefId&&Te.canUserSelectActivityEntityDefId)}}const w=[[["","timeline-header-left",""]],[["","timeline-header-right",""]]],G=function(K){return{canUserSelectActivityEntityDefId:K,activityEntityDefId:"all"}},k=["[timeline-header-left]","[timeline-header-right]"];let X=(()=>{class K{constructor(Ie,Te,ce,Re,fe,ye,Ge){this.timelineService=Ie,this.searchResultService=Te,this.dialogService=ce,this.metadataService=Re,this.route=fe,this.permissionService=ye,this.platformService=Ge,this.changes=new i.vpe,this.activityDays=[],this.isLoading=!1,this.hasLoadedResultsAtLeastOnce=!1,this.hasErrorOnInitialLoad=!1,this.hasReachedEndOfActivities=!1,this.lastScrollTop=0,this.trackByLastActivityTime=(at,It)=>(null==It?void 0:It.lastActivityTime)||void 0}ngOnInit(){this.activityEntityDefIds=this.timelineService.getActivityEntityDefIds(),this.activityEntityDefThemes=this.getActivityEntityDefThemes(),this.resultsSubscription=this.searchResultService.getSearchResultsObservable().subscribe(Ie=>this.resetAndGetNewActivities()),this.paramsSubscription||(this.paramsSubscription=this.route.params.subscribe(()=>this.triggerAutomaticSearch())),this.metadataSubscription=this.metadataService.getMetadataChangeObservable().subscribe(()=>this.setCanUserSelectActivityEntityDefId()),this.setCanUserSelectActivityEntityDefId(),this.selectedActivityEntityDefId=this.canUserSelectActivityEntityDefId&&this.selectedActivityEntityDefId||"all",this.getActivities()}ngOnDestroy(){this.resultsSubscription.unsubscribe(),this.metadataSubscription.unsubscribe(),this.paramsSubscription&&this.paramsSubscription.unsubscribe()}changeSelectedActivityEntityDefId(){this.canUserSelectActivityEntityDefId?this.resetAndGetNewActivities():this.showUpsellDialog()}showMoreActivities(Ie){if(this.platformService.isBrowser()){let Te=Ie>this.lastScrollTop;if(this.lastScrollTop=Ie,!this.isLoading&&!this.hasReachedEndOfActivities&&Te){let ce=this.activitiesContainer.nativeElement.getBoundingClientRect().height;Ie>=this.activitiesContent.nativeElement.getBoundingClientRect().height-2*ce&&this.getActivities()}}}setCanUserSelectActivityEntityDefId(){this.canUserSelectActivityEntityDefId=this.permissionService.canSelectTimelineActivityEntityDefId()}triggerAutomaticSearch(){this.resetAndGetNewActivities()}getActivities(){if(this.isLoading)return;this.isLoading=!0;const Ie=(0,e.last)(this.activityDays);this.timelineService.getSearchActivities(this.search.id,"all"===this.selectedActivityEntityDefId?void 0:this.selectedActivityEntityDefId,Ie&&Ie.lastActivityTime-1).then(ce=>this.handleActivities(ce),ce=>this.handleError(ce))}handleActivities(Ie){Ie.length>0?this.activityDays=(0,e.concat)(this.activityDays,Ie):this.hasReachedEndOfActivities=!0,this.hasLoadedResultsAtLeastOnce=!0,this.isLoading=!1,this.notifyChangeHandlers(this.selectedActivityEntityDefId),this.hasReachedEndOfActivities||this.loadMoreToFillView()}handleError(Ie){this.hasLoadedResultsAtLeastOnce||(this.hasErrorOnInitialLoad=!0),this.isLoading=!1}resetAndGetNewActivities(){this.isLoading||(this.hasErrorOnInitialLoad=!1,this.hasLoadedResultsAtLeastOnce=!1,this.hasReachedEndOfActivities=!1,this.activityDays=[],this.getActivities())}showUpsellDialog(){this.dialogService.showDialog(f.j,{featureSet:"activities"}).then(()=>this.selectedActivityEntityDefId="all")}notifyChangeHandlers(Ie){this.changes&&this.changes.emit(Ie)}loadMoreToFillView(){if(this.platformService.isBrowser()){let Ie=this.getElementHeight(this.activitiesContainer.nativeElement);this.getElementHeight(this.activitiesContent.nativeElement)<Ie&&this.getActivities()}}getElementHeight(Ie){let Te=window.getComputedStyle(Ie),ce=parseFloat(Te.paddingTop)+parseFloat(Te.paddingBottom);return Ie.clientHeight-ce}getActivityEntityDefThemes(){return this.activityEntityDefIds.reduce((Ie,Te)=>{let ce=this.metadataService.getEntityDefTheme(Te);return Ie[Te]=ce?ce.id:"default",Ie},{})}}return K.\u0275fac=function(Ie){return new(Ie||K)(i.Y36(p.u),i.Y36(l.Jt),i.Y36(y.x),i.Y36(d.Do),i.Y36(a.gz),i.Y36(g.$),i.Y36(c.m))},K.\u0275cmp=i.Xpm({type:K,selectors:[["timeline"]],viewQuery:function(Ie,Te){if(1&Ie&&(i.Gf(N,7),i.Gf(x,7)),2&Ie){let ce;i.iGM(ce=i.CRH())&&(Te.activitiesContainer=ce.first),i.iGM(ce=i.CRH())&&(Te.activitiesContent=ce.first)}},inputs:{search:"search",selectedActivityEntityDefId:"selectedActivityEntityDefId"},outputs:{changes:"changes"},ngContentSelectors:k,decls:26,vars:23,consts:function(){let te;return te=$localize`:␟d8b353498b9f476b4fdde225dc11df6d7f247510␟6646560567174435974: There are no matching activities `,[[1,"component--timeline"],[1,"mat-elevation-z2","timeline-header"],[1,"timeline-header-left"],[1,"timeline-header-right"],[1,"timeline-field"],[1,"timeline-selecter",3,"disabled","ngModel","ngModelChange","selectionChange"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["value","all"],[3,"value",4,"ngFor","ngForOf"],["optionLayout",""],[3,"showLoading","showEmpty"],[4,"ngIf"],[1,"timeline-container"],["scrollNotifier","","regulateExecutionBy","throttle",1,"timeline-activities-container",3,"wait","onScroll"],["activitiesContainer",""],["activitiesContent",""],["class","timeline-activities",4,"ngFor","ngForOf","ngForTrackBy"],[3,"value"],[1,"activity-option"],["size","large","class","activity-icon",3,"themeId",4,"ngIf"],["key","icon_all","size","large","class","activity-icon",4,"ngIf"],["key","icon_pro_square","color","pro","size","large","class","activity-icon",4,"ngIf"],["size","large",1,"activity-icon",3,"themeId"],["key","icon_all","size","large",1,"activity-icon"],["key","icon_pro_square","color","pro","size","large",1,"activity-icon"],te,[1,"timeline-activities"],[1,"timeline-activity"],[1,"activity-date-container"],[1,"activity-border"],[1,"activity-date"],[1,"activity-group-card-container"],[4,"ngFor","ngForOf"],[3,"activityGroup",4,"ngIf"],[3,"activityGroup"]]},template:function(Ie,Te){if(1&Ie&&(i.F$t(w),i.TgZ(0,"div",0)(1,"div",1)(2,"div",2),i.Hsn(3),i.qZA(),i.TgZ(4,"div",3)(5,"mat-form-field",4)(6,"mat-select",5),i.NdJ("ngModelChange",function(Re){return Te.selectedActivityEntityDefId=Re})("selectionChange",function(){return Te.changeSelectedActivityEntityDefId()}),i.ALo(7,"translate"),i.TgZ(8,"mat-select-trigger"),i.YNc(9,s,1,0,"ng-container",6),i.qZA(),i.TgZ(10,"mat-option",7),i.YNc(11,E,1,0,"ng-container",6),i.qZA(),i.YNc(12,b,2,6,"mat-option",8),i.YNc(13,W,8,8,"ng-template",null,9,i.W1O),i.qZA()(),i.Hsn(15,1),i.qZA()(),i.TgZ(16,"no-content",10),i.YNc(17,q,3,3,"p",11),i.YNc(18,le,3,3,"p",11),i.YNc(19,J,2,0,"p",11),i.qZA(),i.TgZ(20,"div",12)(21,"div",13,14),i.NdJ("onScroll",function(Re){return Te.showMoreActivities(Re)}),i.TgZ(23,"div",null,15),i.YNc(25,ee,11,6,"div",16),i.qZA()()()()),2&Ie){const ce=i.MAs(14);i.xp6(6),i.Q6J("disabled",Te.isLoading)("ngModel",Te.selectedActivityEntityDefId),i.uIk("aria-label",i.lcZ(7,16,"CBL.TIMELINE.SELECT_ACTIVITY_TYPE")),i.xp6(3),i.Q6J("ngTemplateOutlet",ce)("ngTemplateOutletContext",i.WLB(18,V,Te.canUserSelectActivityEntityDefId,Te.selectedActivityEntityDefId)),i.xp6(2),i.Q6J("ngTemplateOutlet",ce)("ngTemplateOutletContext",i.VKq(21,G,Te.canUserSelectActivityEntityDefId)),i.xp6(1),i.Q6J("ngForOf",Te.activityEntityDefIds),i.xp6(4),i.Q6J("showLoading",Te.isLoading)("showEmpty",!Te.isLoading&&(0==Te.activityDays.length&&Te.hasLoadedResultsAtLeastOnce||Te.hasErrorOnInitialLoad)),i.xp6(1),i.Q6J("ngIf",Te.hasErrorOnInitialLoad),i.xp6(1),i.Q6J("ngIf",Te.hasErrorOnInitialLoad),i.xp6(1),i.Q6J("ngIf",Te.hasLoadedResultsAtLeastOnce),i.xp6(2),i.Q6J("wait",300),i.xp6(4),i.Q6J("ngForOf",Te.activityDays)("ngForTrackBy",Te.trackByLastActivityTime)}},directives:[r.KE,o.gD,_.JJ,_.On,o.$L,n.tP,m.ey,n.sg,n.O5,v.p,h.o,C.z,S,I.t],pipes:[T.X,n.gd,n.uU],styles:[".component--activity-row{border-top-style:solid;border-top-width:1px;padding:8px}.component--activity-row .lazyLoadImage{margin-right:8px;max-width:30px;max-height:30px;border:1px solid rgba(0,0,0,.12)}.component--timeline{flex:1;box-sizing:border-box;display:flex!important;flex-direction:column;position:relative}.component--timeline .timeline-header{display:flex!important;flex-direction:row;flex-wrap:wrap;box-shadow:0 3px 1px -2px #0003,0 2px 2px #00000024,0 1px 5px #0000001f;flex:0 0 auto;box-sizing:border-box;justify-content:space-between;align-items:center;align-content:center;max-width:100%;padding:4px 8px;z-index:1;background-color:#fff}.component--timeline .timeline-header>*{max-width:100%;box-sizing:border-box}.component--timeline .timeline-header-left,.component--timeline .timeline-header-right{display:flex!important;flex-direction:row;flex:1 0 auto;box-sizing:border-box}@media (min-width: 960px){.component--timeline .timeline-header-left,.component--timeline .timeline-header-right{flex:1 1 33.33%;max-width:33.33%;max-height:100%;box-sizing:border-box}}.component--timeline .timeline-header-left{justify-content:flex-start;align-items:center;align-content:center;max-width:100%;order:1}.component--timeline .timeline-header-left>*{max-width:100%;box-sizing:border-box}.component--timeline .timeline-header-right{justify-content:flex-end;align-items:center;align-content:center;max-width:100%;order:3}.component--timeline .timeline-header-right>*{max-width:100%;box-sizing:border-box}.component--timeline .timeline-header-right .timeline-field{padding-right:16px}.component--timeline .timeline-header-right .timeline-field .timeline-selecter{font-size:14px;font-weight:500;margin-left:8px;margin-right:8px}.component--timeline .timeline-container{flex:1;box-sizing:border-box;position:relative}.component--timeline .timeline-container .timeline-activities-container{position:absolute;top:0;right:0;bottom:0;left:0;padding:20px;overflow-x:hidden;overflow-y:auto}.component--timeline .timeline-container .timeline-activities-container .timeline-activities{display:flex!important;flex-direction:row;justify-content:center;box-sizing:border-box;align-items:center;align-content:center;max-width:100%}.component--timeline .timeline-container .timeline-activities-container .timeline-activities>*{max-width:100%;box-sizing:border-box}.component--timeline .timeline-container .timeline-activities-container .timeline-activities .timeline-activity{flex:1 1 100%;max-width:100%;max-height:100%;box-sizing:border-box}@media (min-width: 1280px){.component--timeline .timeline-container .timeline-activities-container .timeline-activities .timeline-activity{flex:1 1 75%;max-width:75%;max-height:100%;box-sizing:border-box}}.component--timeline .timeline-container .timeline-activities-container .timeline-activities .timeline-activity .activity-date-container{display:flex!important;flex-direction:row;justify-content:center;box-sizing:border-box;align-items:center;align-content:center;max-width:100%}.component--timeline .timeline-container .timeline-activities-container .timeline-activities .timeline-activity .activity-date-container>*{max-width:100%;box-sizing:border-box}.component--timeline .timeline-container .timeline-activities-container .timeline-activities .timeline-activity .activity-date-container .activity-border{border-color:#0000001f;border-bottom-style:solid;border-bottom-width:1px;flex:1 1 100%;box-sizing:border-box}.component--timeline .timeline-container .timeline-activities-container .timeline-activities .timeline-activity .activity-date-container .activity-date{font-weight:500;color:#0000008a;flex:0 0 auto;box-sizing:border-box;padding-right:8px;padding-left:8px}.component--timeline .timeline-container .timeline-activities-container .timeline-activities .timeline-activity .activity-group-card-container{padding-top:20px;padding-bottom:20px}.component--timeline no-content{position:absolute;top:50px;left:0;right:0;z-index:1}.component--timeline .cb-image-with-placeholder{margin-right:8px;width:30px;height:30px}.component--timeline .mat-select .mat-select-value-text{font-size:14px}.component--timeline .mat-form-field-wrapper{margin-top:-10px;margin-bottom:-10px}.activity-option{box-sizing:border-box;display:flex!important;flex-direction:row;justify-content:flex-start;align-items:center;align-content:center;max-width:100%}.activity-option>*{max-width:100%;box-sizing:border-box}.activity-option .activity-icon{flex:0 0 auto;box-sizing:border-box;margin-right:8px}\n"],encapsulation:2}),K})()},76994:(oe,L,t)=>{t.d(L,{K:()=>I});var e=t(92218),i=t(19193),p=t(64139),l=t(47418),y=t(85921),d=t(68338),g=t(14021),f=t(94882),a=t(23580),c=t(20605),r=t(82589),o=t(3184),_=t(49837),n=t(61531),m=t(36362);function v(T,N){if(1&T&&(o.TgZ(0,"div")(1,"span"),o._uU(2),o.qZA()()),2&T){const x=N.$implicit;o.xp6(2),o.Oqu(x)}}function h(T,N){if(1&T&&(o.TgZ(0,"div",4),o.YNc(1,v,3,1,"div",5),o.qZA()),2&T){const x=N.$implicit;o.xp6(1),o.Q6J("ngForOf",x)}}function C(T,N){if(1&T&&(o.ynx(0),o.TgZ(1,"div",2),o.YNc(2,h,2,1,"div",3),o.qZA(),o.BQk()),2&T){const x=o.oxw(2);o.xp6(2),o.Q6J("ngForOf",x.trialMessagesBySubscription)}}function S(T,N){if(1&T&&(o.ynx(0),o.YNc(1,C,3,1,"ng-container",1),o.BQk()),2&T){const x=o.oxw();o.xp6(1),o.Q6J("ngIf",x.showMessage)}}let I=(()=>{class T{constructor(x,s,E,H,V,b){this.requestWarmer=x,this.displayProductsService=s,this.billingService=E,this.labelService=H,this.platformService=V,this.ref=b,this.maintenanceModeBillingFlag=c.TT.MAINTENANCE_MODE_BILLING,this.showMessage=!1,this.trialMessagesBySubscription=[],this.onDestroy$=new e.xQ}ngOnInit(){const x=this.billingService.isInProTrial(),s=this.billingService.isInStarterTrial();this.platformService.isServer()||!x&&!s||this.showTrialMessage()}ngOnDestroy(){this.onDestroy$.next()}showTrialMessage(){(0,i.aj)([this.requestWarmer.getWarmedData(d.y).pipe((0,l.K)(()=>(0,p.of)([]))),this.displayProductsService.getProducts().pipe((0,l.K)(()=>(0,p.of)([])))]).pipe((0,y.R)(this.onDestroy$)).subscribe(([x,s])=>{const E=new Set,H=s.reduce((b,B)=>(B&&(b[B.id]=B),b),{}),V=null==x?void 0:x.map(b=>{var B;const Q=null===(B=null==b?void 0:b.subscription)||void 0===B?void 0:B.id;if(Q&&!E.has(Q))return E.add(Q),b.subscription}).filter(a.K);this.trialMessagesBySubscription=(V||[]).map(b=>b.plans.filter(B=>B.is_trial).map(B=>{var Q;const $=(null===(Q=H[null==B?void 0:B.product_id])||void 0===Q?void 0:Q.name)||"",W=this.billingService.getHoursLeftInProductTerm(B.term_start,B.term_end),q=W?Math.floor(W/24):0;return q>1?this.labelService.getInterpolatedLabel("CBL.PRO_ONBOARDING.STATUS_MESSAGE.TRIAL_REMAINING.MULTIPLE_DAYS",{daysRemaining:q,productName:$}):this.labelService.getInterpolatedLabel(1===q?"CBL.PRO_ONBOARDING.STATUS_MESSAGE.TRIAL_REMAINING.ONE_DAY":"CBL.PRO_ONBOARDING.STATUS_MESSAGE.TRIAL_REMAINING.LESS_THAN_ONE_DAY",{productName:$})})).filter(b=>b.length),this.showMessage=this.trialMessagesBySubscription.length>0,this.ref.markForCheck()})}}return T.\u0275fac=function(x){return new(x||T)(o.Y36(d.q),o.Y36(r.C),o.Y36(g.jM),o.Y36(f.Q),o.Y36(_.m),o.Y36(o.sBO))},T.\u0275cmp=o.Xpm({type:T,selectors:[["trial-status-message"]],decls:1,vars:1,consts:[[4,"ifNotFeatureFlagBoolean"],[4,"ngIf"],[1,"container"],["class","message",4,"ngFor","ngForOf"],[1,"message"],[4,"ngFor","ngForOf"]],template:function(x,s){1&x&&o.YNc(0,S,2,1,"ng-container",0),2&x&&o.Q6J("ifNotFeatureFlagBoolean",s.maintenanceModeBillingFlag)},directives:[n.l,m.O5,m.sg],styles:["trial-status-message{display:block}trial-status-message .container{background-color:#cbddff;border-radius:2px;padding:16px 20px;margin-bottom:8px}trial-status-message .message{border-bottom:1px solid #cbcbcb;padding:8px 0}trial-status-message .message:first-child{padding-top:unset}trial-status-message .message:last-child{border-bottom:none;padding-bottom:unset}\n"],encapsulation:2}),T})()},60557:(oe,L,t)=>{t.d(L,{u:()=>y});var e=t(36362),i=t(35503),p=t(5076),l=t(3184);let y=(()=>{class d{}return d.\u0275fac=function(f){return new(f||d)},d.\u0275mod=l.oAB({type:d}),d.\u0275inj=l.cJS({imports:[[e.ez,i.Dt,p.V]]}),d})()},85129:(oe,L,t)=>{t.d(L,{j:()=>e.j});var e=t(99516)},15232:(oe,L,t)=>{t.d(L,{H:()=>I});var e=t(3184),i=t(53967),p=t(43630),l=t(35585),y=t(36362),d=t(87317),g=t(46036),f=t(47367),a=t(53247),c=t(74929);function r(T,N){if(1&T){const x=e.EpF();e.TgZ(0,"button",6),e.NdJ("click",function(){return e.CHM(x),e.oxw(2).cancel.emit()}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&T&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"CBL.COMMON.CANCEL")," "))}function o(T,N){1&T&&e.GkF(0)}const _=function(T){return{buttonAttributes:T}};function n(T,N){if(1&T&&(e.TgZ(0,"div",7),e.YNc(1,o,1,0,"ng-container",8),e.qZA()),2&T){const x=e.oxw(2),s=e.MAs(4);e.xp6(1),e.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",e.VKq(2,_,x.primaryButtonAttributes))}}function m(T,N){1&T&&e.GkF(0)}function v(T,N){if(1&T&&(e.TgZ(0,"div",7),e.YNc(1,m,1,0,"ng-container",8),e.qZA()),2&T){const x=e.oxw(2),s=e.MAs(4);e.xp6(1),e.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",e.VKq(2,_,x.secondaryButtonAttributes))}}function h(T,N){if(1&T&&(e.TgZ(0,"div",3),e.YNc(1,r,3,3,"button",4),e.YNc(2,n,2,4,"div",5),e.YNc(3,v,2,4,"div",5),e.qZA()),2&T){const x=e.oxw();e.Q6J("ngClass","template-"+x.templateNumber),e.xp6(1),e.Q6J("ngIf",x.showCancel),e.xp6(1),e.Q6J("ngIf",x.primaryButtonAttributes),e.xp6(1),e.Q6J("ngIf",x.secondaryButtonAttributes)}}function C(T,N){1&T&&(e.TgZ(0,"div",9)(1,"a",10),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&T&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"CBL.UPSELL.ALREADY_HAVE_ACCOUNT")," "))}function S(T,N){if(1&T&&(e.TgZ(0,"upsell-link",11),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&T){const x=N.buttonAttributes,s=e.oxw();e.Q6J("bypassProductSelectionFlow",s.bypassProductSelectionFlow)("internalRoutePath",x.linkTo)("internalRouteParams",null==x.navigationExtras?null:x.navigationExtras.queryParams)("featureSet",s.featureSet),e.xp6(1),e.hij(" ",e.lcZ(2,5,"CBL.UPSELL."+x.buttonLabel)," ")}}let I=(()=>{class T{constructor(x,s){this.upsellTemplateService=x,this.store=s,this.showLogin=!1,this.showCancel=!1,this.cancel=new e.vpe,this.isLoggedIn$=this.store.select(p.Ts)}ngOnInit(){let x=this.upsellTemplateService.getUiAttributes(this.featureSet);!x||(this.bypassProductSelectionFlow=this.upsellTemplateService.getUpsellFeatureSetBypassProductSelectFlow(this.featureSet),this.primaryButtonAttributes=x.primaryButtonAttributes,this.secondaryButtonAttributes=x.secondaryButtonAttributes,this.templateNumber=x.templateNumber)}}return T.\u0275fac=function(x){return new(x||T)(e.Y36(i.W),e.Y36(l.yh))},T.\u0275cmp=e.Xpm({type:T,selectors:[["upsell-actions"]],inputs:{featureSet:"featureSet",showLogin:"showLogin",showCancel:"showCancel"},outputs:{cancel:"cancel"},decls:5,vars:4,consts:[["class","layout-row layout-wrap",3,"ngClass",4,"ngIf"],["class","login-wrapper",4,"ngIf"],["buttonLayout",""],[1,"layout-row","layout-wrap",3,"ngClass"],["mat-button","",3,"click",4,"ngIf"],["class","flex-none",4,"ngIf"],["mat-button","",3,"click"],[1,"flex-none"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"login-wrapper"],["cb-link","","href","/login"],["triggerLocation","upsell-actions-reusable",3,"bypassProductSelectionFlow","internalRoutePath","internalRouteParams","featureSet"]],template:function(x,s){1&x&&(e.YNc(0,h,4,4,"div",0),e.YNc(1,C,4,3,"div",1),e.ALo(2,"async"),e.YNc(3,S,3,7,"ng-template",null,2,e.W1O)),2&x&&(e.Q6J("ngIf",s.primaryButtonAttributes||s.secondaryButtonAttributes),e.xp6(1),e.Q6J("ngIf",s.showLogin&&!e.lcZ(2,2,s.isLoggedIn$)))},directives:[y.O5,y.mk,d.lW,y.tP,g.n,f.I,a.I],pipes:[c.X,y.Ov],styles:["upsell-actions{display:block}upsell-actions .template-6{margin:0;width:100%}upsell-actions .template-6 div,upsell-actions .template-6 button{width:100%}upsell-actions .template-2{width:100%}upsell-actions .template-2 div,upsell-actions .template-2 button{margin:0 auto}upsell-actions .login-wrapper{text-align:right;margin-top:8px}\n"],encapsulation:2,changeDetection:0}),T})()},83867:(oe,L,t)=>{t.d(L,{c:()=>De});var e=t(9834),i=t(97010),p=t(98789),l=t(83910),y=t(20605),d=t(3184),g=t(34657),f=t(36362),a=t(29641),c=t(77500);function r(ae,Le){1&ae&&d.GkF(0)}function o(ae,Le){1&ae&&d.GkF(0)}function _(ae,Le){1&ae&&d.GkF(0)}function n(ae,Le){1&ae&&d.GkF(0)}function m(ae,Le){if(1&ae&&(d.TgZ(0,"div",11),d.YNc(1,r,1,0,"ng-container",12),d.YNc(2,o,1,0,"ng-container",12),d.YNc(3,_,1,0,"ng-container",12),d.YNc(4,n,1,0,"ng-container",12),d.qZA()),2&ae){d.oxw();const Fe=d.MAs(9),dt=d.MAs(11),Ye=d.MAs(13),vt=d.MAs(15);d.xp6(1),d.Q6J("ngTemplateOutlet",Fe),d.xp6(1),d.Q6J("ngTemplateOutlet",dt),d.xp6(1),d.Q6J("ngTemplateOutlet",Ye),d.xp6(1),d.Q6J("ngTemplateOutlet",vt)}}function v(ae,Le){1&ae&&d.GkF(0)}function h(ae,Le){1&ae&&d.GkF(0)}function C(ae,Le){1&ae&&d.GkF(0)}function S(ae,Le){1&ae&&d.GkF(0)}function I(ae,Le){if(1&ae&&(d.TgZ(0,"div",13),d.YNc(1,v,1,0,"ng-container",12),d.YNc(2,h,1,0,"ng-container",12),d.YNc(3,C,1,0,"ng-container",12),d.YNc(4,S,1,0,"ng-container",12),d.qZA()),2&ae){d.oxw();const Fe=d.MAs(15),dt=d.MAs(9),Ye=d.MAs(11),vt=d.MAs(13);d.xp6(1),d.Q6J("ngTemplateOutlet",Fe),d.xp6(1),d.Q6J("ngTemplateOutlet",dt),d.xp6(1),d.Q6J("ngTemplateOutlet",Ye),d.xp6(1),d.Q6J("ngTemplateOutlet",vt)}}function T(ae,Le){1&ae&&d.GkF(0)}function N(ae,Le){1&ae&&d.GkF(0)}function x(ae,Le){1&ae&&d.GkF(0)}function s(ae,Le){1&ae&&d.GkF(0)}function E(ae,Le){if(1&ae&&(d.TgZ(0,"div",14),d.YNc(1,T,1,0,"ng-container",12),d.YNc(2,N,1,0,"ng-container",12),d.YNc(3,x,1,0,"ng-container",12),d.YNc(4,s,1,0,"ng-container",12),d.qZA()),2&ae){d.oxw();const Fe=d.MAs(15),dt=d.MAs(9),Ye=d.MAs(11),vt=d.MAs(13);d.xp6(1),d.Q6J("ngTemplateOutlet",Fe),d.xp6(1),d.Q6J("ngTemplateOutlet",dt),d.xp6(1),d.Q6J("ngTemplateOutlet",Ye),d.xp6(1),d.Q6J("ngTemplateOutlet",vt)}}function H(ae,Le){1&ae&&d.GkF(0)}function V(ae,Le){1&ae&&d.GkF(0)}function b(ae,Le){1&ae&&d.GkF(0)}function B(ae,Le){1&ae&&d.GkF(0)}function Q(ae,Le){if(1&ae&&(d.TgZ(0,"div",15),d.YNc(1,H,1,0,"ng-container",12),d.YNc(2,V,1,0,"ng-container",12),d.YNc(3,b,1,0,"ng-container",12),d.YNc(4,B,1,0,"ng-container",12),d.qZA()),2&ae){d.oxw();const Fe=d.MAs(15),dt=d.MAs(9),Ye=d.MAs(11),vt=d.MAs(13);d.xp6(1),d.Q6J("ngTemplateOutlet",Fe),d.xp6(1),d.Q6J("ngTemplateOutlet",dt),d.xp6(1),d.Q6J("ngTemplateOutlet",Ye),d.xp6(1),d.Q6J("ngTemplateOutlet",vt)}}function $(ae,Le){1&ae&&d.GkF(0)}function W(ae,Le){1&ae&&d.GkF(0)}function q(ae,Le){if(1&ae&&(d.TgZ(0,"div",16),d.YNc(1,$,1,0,"ng-container",12),d.YNc(2,W,1,0,"ng-container",12),d.qZA()),2&ae){d.oxw();const Fe=d.MAs(15),dt=d.MAs(11);d.xp6(1),d.Q6J("ngTemplateOutlet",Fe),d.xp6(1),d.Q6J("ngTemplateOutlet",dt)}}function le(ae,Le){1&ae&&d.GkF(0)}function J(ae,Le){1&ae&&d.GkF(0)}function u(ae,Le){1&ae&&d.GkF(0)}function D(ae,Le){if(1&ae&&(d.TgZ(0,"div",17),d.YNc(1,le,1,0,"ng-container",12),d.TgZ(2,"div",18)(3,"div",19),d.YNc(4,J,1,0,"ng-container",12),d.qZA(),d.TgZ(5,"div",20),d.YNc(6,u,1,0,"ng-container",12),d.qZA()()()),2&ae){d.oxw();const Fe=d.MAs(9),dt=d.MAs(15),Ye=d.MAs(13);d.xp6(1),d.Q6J("ngTemplateOutlet",Fe),d.xp6(3),d.Q6J("ngTemplateOutlet",dt),d.xp6(2),d.Q6J("ngTemplateOutlet",Ye)}}function se(ae,Le){1&ae&&d.GkF(0)}function ne(ae,Le){1&ae&&d.GkF(0)}function _e(ae,Le){1&ae&&d.GkF(0)}function ee(ae,Le){1&ae&&d.GkF(0)}function w(ae,Le){if(1&ae&&(d.TgZ(0,"div",13),d.YNc(1,se,1,0,"ng-container",12),d.YNc(2,ne,1,0,"ng-container",12),d.YNc(3,_e,1,0,"ng-container",12),d.YNc(4,ee,1,0,"ng-container",12),d.qZA()),2&ae){d.oxw();const Fe=d.MAs(15),dt=d.MAs(9),Ye=d.MAs(13),vt=d.MAs(11);d.xp6(1),d.Q6J("ngTemplateOutlet",Fe),d.xp6(1),d.Q6J("ngTemplateOutlet",dt),d.xp6(1),d.Q6J("ngTemplateOutlet",Ye),d.xp6(1),d.Q6J("ngTemplateOutlet",vt)}}function G(ae,Le){1&ae&&d.GkF(0)}function k(ae,Le){1&ae&&d.GkF(0)}function X(ae,Le){1&ae&&d.GkF(0)}function K(ae,Le){1&ae&&d.GkF(0)}function te(ae,Le){if(1&ae&&(d.TgZ(0,"div",21),d.YNc(1,G,1,0,"ng-container",12),d.YNc(2,k,1,0,"ng-container",12),d.YNc(3,X,1,0,"ng-container",12),d.YNc(4,K,1,0,"ng-container",12),d.qZA()),2&ae){d.oxw();const Fe=d.MAs(9),dt=d.MAs(15),Ye=d.MAs(13),vt=d.MAs(11);d.xp6(1),d.Q6J("ngTemplateOutlet",Fe),d.xp6(1),d.Q6J("ngTemplateOutlet",dt),d.xp6(1),d.Q6J("ngTemplateOutlet",Ye),d.xp6(1),d.Q6J("ngTemplateOutlet",vt)}}function Ie(ae,Le){if(1&ae&&(d.TgZ(0,"h2",23),d._uU(1),d.qZA()),2&ae){const Fe=d.oxw(2);d.xp6(1),d.Oqu(Fe.headline)}}function Te(ae,Le){if(1&ae&&d.YNc(0,Ie,2,1,"h2",22),2&ae){const Fe=d.oxw();d.Q6J("ngIf",Fe.headline)}}function ce(ae,Le){if(1&ae&&(d.ynx(0),d._uU(1),d.BQk()),2&ae){const Fe=d.oxw(3);d.xp6(1),d.hij(" ",Fe.description," ")}}function Re(ae,Le){if(1&ae&&(d.ynx(0),d._UZ(1,"markup-label",27),d.ALo(2,"uppercase"),d.BQk()),2&ae){const Fe=d.oxw(3);d.xp6(1),d.Q6J("key","CBL.UPSELL."+d.lcZ(2,2,Fe.featureSet)+".DETAILS")("values",Fe.descriptionValues)}}function fe(ae,Le){if(1&ae&&(d.TgZ(0,"div",25),d.YNc(1,ce,2,1,"ng-container",26),d.YNc(2,Re,3,4,"ng-container",26),d.qZA()),2&ae){const Fe=d.oxw(2);d.xp6(1),d.Q6J("ngIf",!Fe.descriptionValues),d.xp6(1),d.Q6J("ngIf",Fe.descriptionValues)}}function ye(ae,Le){if(1&ae&&d.YNc(0,fe,3,2,"div",24),2&ae){const Fe=d.oxw();d.Q6J("ngIf",Fe.description)}}function Ge(ae,Le){if(1&ae&&(d.TgZ(0,"li"),d._uU(1),d.qZA()),2&ae){const Fe=Le.$implicit;d.xp6(1),d.hij(" ",Fe," ")}}function at(ae,Le){if(1&ae&&(d.TgZ(0,"ul",29),d.YNc(1,Ge,2,1,"li",30),d.qZA()),2&ae){const Fe=d.oxw(2);d.xp6(1),d.Q6J("ngForOf",Fe.featureList)}}function It(ae,Le){if(1&ae&&d.YNc(0,at,2,1,"ul",28),2&ae){const Fe=d.oxw();d.Q6J("ngIf",Fe.featureList&&Fe.featureList.length)}}function Ue(ae,Le){if(1&ae&&(d.TgZ(0,"div",32),d._UZ(1,"cb-image",33),d.qZA()),2&ae){const Fe=d.oxw(2);d.xp6(1),d.Q6J("publicId","publicId"===Fe.imageType?Fe.imageId:"")("resource","resource"===Fe.imageType?Fe.imageId:"")("original",Fe.isSvgImage)("width",600)("height",600)("alt","")}}function we(ae,Le){if(1&ae&&d.YNc(0,Ue,2,6,"div",31),2&ae){const Fe=d.oxw();d.Q6J("ngIf",Fe.imageId)}}let De=(()=>{class ae{constructor(Fe,dt,Ye,vt,Je,Ke,Ne){this.analyticsService=Fe,this.elementRef=dt,this.upsellTemplateService=Ye,this.changeDetectorRef=vt,this.viewportService=Je,this.usageEventsService=Ke,this.featureService=Ne,this.showDetails=!1,this.isDialog=!1,this.featureList=[],this.imageType="publicId",this.imageId=i.Wh.promo}ngOnInit(){this.headline=this.upsellTemplateService.getHeadlineText(this.featureSet,this.context),this.upsellTemplateService.getBodyText(this.featureSet,this.context).then(Fe=>this.setFeatureList(Fe)),this.configure()}configure(){let Fe=this.upsellTemplateService.getUiAttributes(this.featureSet);!Fe||(this.templateNumber=Fe.templateNumber,this.imageId=Fe.publicImageId,this.imageType=Fe.imageType,this.isSvgImage=!!Fe.isSvgImage,this.showDetails&&(this.description=this.upsellTemplateService.getDetailsText(this.featureSet,this.context),this.descriptionValues=Fe.descriptionValues),this.trackView(Fe))}setFeatureList(Fe){this.featureList=Fe,this.changeDetectorRef.markForCheck()}trackView(Fe){const dt=Fe.eventLogAttributes;this.isDialog?(this.analyticsService.trackInHeap("upsell-modal",{feature:this.featureSet}),this.usageEventsService.logUsageEvent("modal",Object.assign({modal_name:"upsell-modal",upsell_feature:this.featureSet},dt))):this.viewportService.notifyInViewport(this.elementRef.nativeElement,{rootMargin:"0px 0px 0px 0px",threshold:[.5]}).pipe((0,l.q)(1)).subscribe(()=>{this.analyticsService.trackInHeap("upsell-inpage",{feature:this.featureSet})})}}return ae.\u0275fac=function(Fe){return new(Fe||ae)(d.Y36(p.y),d.Y36(d.SBq),d.Y36(e.WG),d.Y36(d.sBO),d.Y36(g.v),d.Y36(p.N),d.Y36(y.Bz))},ae.\u0275cmp=d.Xpm({type:ae,selectors:[["upsell-content"]],inputs:{featureSet:"featureSet",showDetails:"showDetails",isDialog:"isDialog",context:"context"},decls:16,vars:8,consts:[["class","template-1 cb-padding-xxlarge-horizontal cb-margin-large-horizontal",4,"ngIf"],["class","template-2 cb-padding-xxlarge-horizontal cb-margin-large-horizontal",4,"ngIf"],["class","template-3 cb-padding-xxlarge-top cb-padding-xxlarge-horizontal cb-clearfix",4,"ngIf"],["class","template-4 cb-clearfix",4,"ngIf"],["class","template-5 cb-clearfix",4,"ngIf"],["class","template-6 cb-clearfix",4,"ngIf"],["class","template-9",4,"ngIf"],["headlineTemplate",""],["descriptionTemplate",""],["featureListTemplate",""],["imageTemplate",""],[1,"template-1","cb-padding-xxlarge-horizontal","cb-margin-large-horizontal"],[4,"ngTemplateOutlet"],[1,"template-2","cb-padding-xxlarge-horizontal","cb-margin-large-horizontal"],[1,"template-3","cb-padding-xxlarge-top","cb-padding-xxlarge-horizontal","cb-clearfix"],[1,"template-4","cb-clearfix"],[1,"template-5","cb-clearfix"],[1,"template-6","cb-clearfix"],[1,"content","cb-width-100","layout-row","layout-wrap","layout-align-center-center","layout-gt-md-row-reverse","layout-align-gt-md-end-center"],[1,"flex-none","flex-gt-md-25"],[1,"flex-100","flex-gt-md-75"],[1,"template-9"],["class","headline",4,"ngIf"],[1,"headline"],["class","description",4,"ngIf"],[1,"description"],[4,"ngIf"],[3,"key","values"],["class","feature-list",4,"ngIf"],[1,"feature-list"],[4,"ngFor","ngForOf"],["class","promo-image-container",4,"ngIf"],[1,"promo-image-container"],["crop","limit",1,"cb-display-inline-block",3,"publicId","resource","original","width","height","alt"]],template:function(Fe,dt){1&Fe&&(d.YNc(0,m,5,4,"div",0),d.YNc(1,I,5,4,"div",1),d.YNc(2,E,5,4,"div",2),d.YNc(3,Q,5,4,"div",3),d.YNc(4,q,3,2,"div",4),d.YNc(5,D,7,3,"div",5),d.YNc(6,w,5,4,"div",1),d.YNc(7,te,5,4,"div",6),d.YNc(8,Te,1,1,"ng-template",null,7,d.W1O),d.YNc(10,ye,1,1,"ng-template",null,8,d.W1O),d.YNc(12,It,1,1,"ng-template",null,9,d.W1O),d.YNc(14,we,1,1,"ng-template",null,10,d.W1O)),2&Fe&&(d.Q6J("ngIf",1===dt.templateNumber),d.xp6(1),d.Q6J("ngIf",2===dt.templateNumber),d.xp6(1),d.Q6J("ngIf",3===dt.templateNumber),d.xp6(1),d.Q6J("ngIf",4===dt.templateNumber),d.xp6(1),d.Q6J("ngIf",5===dt.templateNumber),d.xp6(1),d.Q6J("ngIf",6===dt.templateNumber),d.xp6(1),d.Q6J("ngIf",8===dt.templateNumber),d.xp6(1),d.Q6J("ngIf",9===dt.templateNumber))},directives:[f.O5,f.tP,a.x,f.sg,c.q],pipes:[f.gd],styles:["upsell-content{display:block}upsell-content .headline{font-weight:300;font-size:20px}upsell-content .feature-list li{list-style-type:disc;margin:8px 0}upsell-content .feature-list li:last-child{margin-bottom:0}upsell-content .promo-image-container img{max-width:200px}upsell-content .template-1 .headline,upsell-content .template-1 .promo-image-container,upsell-content .template-2 .headline,upsell-content .template-2 .promo-image-container,upsell-content .template-9 .headline,upsell-content .template-9 .promo-image-container{text-align:center}upsell-content .template-1 .headline,upsell-content .template-1 .description,upsell-content .template-1 .feature-list,upsell-content .template-1 .promo-image-container{margin-bottom:16px}upsell-content .template-1 .headline:last-child,upsell-content .template-1 .description:last-child,upsell-content .template-1 .feature-list:last-child,upsell-content .template-1 .promo-image-container:last-child{margin-bottom:0}upsell-content .template-2 .headline,upsell-content .template-2 .description,upsell-content .template-2 .feature-list,upsell-content .template-2 .promo-image-container{margin-bottom:16px}upsell-content .template-2 .headline:last-child,upsell-content .template-2 .description:last-child,upsell-content .template-2 .feature-list:last-child,upsell-content .template-2 .promo-image-container:last-child{margin-bottom:20px}upsell-content .template-3{font-size:16px;max-width:calc(100vw - 64px)}upsell-content .template-3 .headline,upsell-content .template-3 .description,upsell-content .template-3 .feature-list{margin-bottom:16px}upsell-content .template-3 .headline{font-size:30px}upsell-content .template-3 .feature-list{margin-left:16px}upsell-content .template-3 .promo-image-container{float:right;margin-left:20px;margin-bottom:8px}upsell-content .template-3 .promo-image-container img{max-width:30vw}upsell-content .template-4 .headline,upsell-content .template-4 .description,upsell-content .template-4 .feature-list{margin-bottom:8px}upsell-content .template-4 .feature-list{margin-right:16px}upsell-content .template-4 .promo-image-container{float:left;margin-right:16px;margin-bottom:8px}upsell-content .template-4 .promo-image-container img{max-width:100px}upsell-content .template-5 .promo-image-container{float:left;margin-right:8px;line-height:0px}upsell-content .template-5 .promo-image-container img{max-height:20px}upsell-content .template-6 .headline{width:100%;font-size:36px;line-height:39px;font-weight:700;margin-bottom:8px}upsell-content .template-6 .feature-list{font-weight:500;font-size:18px;margin:0 20px}upsell-content .template-6 .promo-image-container cb-image,upsell-content .template-6 .promo-image-container img{max-width:200px}upsell-content .template-9{margin:0 24px}upsell-content .template-9>*{margin:16px 0}upsell-content .template-9 .promo-image-container img{max-width:100%}@media (min-width: 960px){upsell-content .template-3{max-width:1000px}}@media (min-width: 1280px){upsell-content .template-6 .promo-image-container cb-image,upsell-content .template-6 .promo-image-container img{max-width:100%}}\n"],encapsulation:2,changeDetection:0}),ae})()},99516:(oe,L,t)=>{t.d(L,{j:()=>o});var e=t(843),i=t(92218),p=t(16276),l=t(85921),y=t(2384),d=t(9834),g=t(3184),f=t(95758);function a(_,n){if(1&_&&g._UZ(0,"cb-image",9),2&_){const m=g.oxw();g.Q6J("publicId",m.headerImageId)("width",143)("height",20)("alt","")}}function c(_,n){if(1&_){const m=g.EpF();g.TgZ(0,"button",10),g.NdJ("click",function(){return g.CHM(m),g.oxw().close()}),g.ALo(1,"translate"),g._UZ(2,"icon",11),g.qZA()}2&_&&g.uIk("aria-label",g.lcZ(1,1,"CBL.COMMON.CLOSE"))}function r(_,n){if(1&_){const m=g.EpF();g.TgZ(0,"div",12)(1,"upsell-actions",13),g.NdJ("cancel",function(){return g.CHM(m),g.oxw().close()}),g.qZA()()}if(2&_){const m=g.oxw();g.xp6(1),g.Q6J("featureSet",m.featureSet)("showLogin",m.showLogin)("showCancel",m.showCancel),g.uIk("featureset",m.featureSet)}}let o=(()=>{class _ extends y.V{constructor(m,v,h){super(),this.dialogRef=m,this.upsellTemplateService=v,this.permissionService=h,this.onDestroy$=new i.xQ}ngOnInit(){this.featureSet=this.payload.featureSet,this.showDetails=!!this.payload.showDetails,this.showLogin=!!this.payload.showLogin,this.showCancel=!!this.payload.showCancel,this.context=this.payload.context;let m=this.upsellTemplateService.getUiAttributes(this.featureSet);!m||(this.templateNumber=m.templateNumber,this.headerImageId=m.featureGroupImageId,this.permissionService.getPermissions().pipe((0,p.T)(1),(0,l.R)(this.onDestroy$)).subscribe(()=>{this.close()}))}ngOnDestroy(){this.onDestroy$.next()}close(){this.dialogRef&&this.dialogRef.close()}}return _.\u0275fac=function(m){return new(m||_)(g.Y36(f.so),g.Y36(d.WG),g.Y36(e.$))},_.\u0275cmp=g.Xpm({type:_,selectors:[["upsell-dialog"]],features:[g.qOj],decls:9,vars:11,consts:[[1,"component--upsell-dialog",3,"ngClass"],[3,"fullBleed","showHeader"],["dialog-content",""],[1,"layout-row","layout-align-space-between-center"],[1,"flex-none","cb-padding-small","cb-padding-medium-left","cb-padding-medium-top","header-image-container"],[3,"publicId","width","height","alt",4,"ngIf"],["class","flex-none","mat-icon-button","","type","button",3,"click",4,"ngIf"],[3,"featureSet","showDetails","isDialog","context"],["dialog-actions","","class","actions",4,"ngIf"],[3,"publicId","width","height","alt"],["mat-icon-button","","type","button",1,"flex-none",3,"click"],["key","icon_close"],["dialog-actions","",1,"actions"],[1,"flex-none",3,"featureSet","showLogin","showCancel","cancel"]],template:function(m,v){1&m&&(g.TgZ(0,"div",0)(1,"dialog-layout",1)(2,"div",2)(3,"div",3)(4,"div",4),g.YNc(5,a,1,4,"cb-image",5),g.qZA(),g.YNc(6,c,3,3,"button",6),g.qZA(),g._UZ(7,"upsell-content",7),g.qZA(),g.YNc(8,r,2,4,"div",8),g.qZA()()),2&m&&(g.Q6J("ngClass","template-"+v.templateNumber),g.xp6(1),g.Q6J("fullBleed",!0)("showHeader",!1),g.xp6(4),g.Q6J("ngIf",v.headerImageId),g.xp6(1),g.Q6J("ngIf",!v.dialogRef.disableClose),g.xp6(1),g.Q6J("featureSet",v.featureSet)("showDetails",v.showDetails)("isDialog",!0)("context",v.context),g.uIk("featureset",v.featureSet),g.xp6(1),g.Q6J("ngIf",7!==v.templateNumber))},styles:[".component--upsell-dialog{max-width:550px}.component--upsell-dialog .header-image-container{display:inline-block}.component--upsell-dialog .header-image-container img{max-height:20px}.component--upsell-dialog .actions{padding-top:8px;padding-bottom:8px;box-sizing:border-box;display:flex!important;flex-direction:row}.component--upsell-dialog div[dialog-actions]{margin-left:32px;margin-right:32px}.component--upsell-dialog mat-dialog-actions{justify-content:center!important;max-width:100%;box-sizing:border-box;align-items:center;align-content:center}\n"],encapsulation:2}),_})()},53247:(oe,L,t)=>{t.d(L,{I:()=>le});var e=t(98789),i=t(59746),p=t(3184),l=t(36362),y=t(46036),d=t(87317),g=t(45857),f=t(74160);function a(J,u){1&J&&p.GkF(0)}function c(J,u){if(1&J){const D=p.EpF();p.TgZ(0,"a",6),p.NdJ("click",function(){return p.CHM(D),p.oxw(2).sendUpsellLinkUsageEvent()}),p.YNc(1,a,1,0,"ng-container",7),p.qZA()}if(2&J){const D=p.oxw(2),se=p.MAs(5);p.Q6J("routerLink",D.selectProductPagePath),p.xp6(1),p.Q6J("ngTemplateOutlet",se)}}function r(J,u){1&J&&p.GkF(0)}function o(J,u){if(1&J){const D=p.EpF();p.TgZ(0,"a",8),p.NdJ("click",function(){return p.CHM(D),p.oxw(2).sendUpsellLinkUsageEvent()}),p.YNc(1,r,1,0,"ng-container",7),p.qZA()}if(2&J){const D=p.oxw(2),se=p.MAs(5);p.Q6J("routerLink",D.selectProductPagePath),p.xp6(1),p.Q6J("ngTemplateOutlet",se)}}function _(J,u){1&J&&p.GkF(0)}function n(J,u){if(1&J){const D=p.EpF();p.TgZ(0,"a",9),p.NdJ("click",function(){return p.CHM(D),p.oxw(2).sendUpsellLinkUsageEvent()}),p.YNc(1,_,1,0,"ng-container",7),p.qZA()}if(2&J){const D=p.oxw(2),se=p.MAs(5);p.Q6J("routerLink",D.selectProductPagePath),p.xp6(1),p.Q6J("ngTemplateOutlet",se)}}function m(J,u){if(1&J&&(p.ynx(0),p.YNc(1,c,2,2,"a",3),p.YNc(2,o,2,2,"a",4),p.YNc(3,n,2,2,"a",5),p.BQk()),2&J){const D=p.oxw();p.xp6(1),p.Q6J("ngIf","raised"===D.buttonType),p.xp6(1),p.Q6J("ngIf","stroked"===D.buttonType),p.xp6(1),p.Q6J("ngIf","basic"===D.buttonType)}}function v(J,u){1&J&&p.GkF(0)}function h(J,u){if(1&J){const D=p.EpF();p.TgZ(0,"a",13),p.NdJ("click",function(){return p.CHM(D),p.oxw(2).sendUpsellLinkUsageEvent()}),p.YNc(1,v,1,0,"ng-container",7),p.qZA()}if(2&J){const D=p.oxw(2),se=p.MAs(5);p.Q6J("href",D.externalUrl,p.LSH),p.xp6(1),p.Q6J("ngTemplateOutlet",se)}}function C(J,u){1&J&&p.GkF(0)}function S(J,u){if(1&J){const D=p.EpF();p.TgZ(0,"a",14),p.NdJ("click",function(){return p.CHM(D),p.oxw(2).sendUpsellLinkUsageEvent()}),p.YNc(1,C,1,0,"ng-container",7),p.qZA()}if(2&J){const D=p.oxw(2),se=p.MAs(5);p.Q6J("href",D.externalUrl,p.LSH),p.xp6(1),p.Q6J("ngTemplateOutlet",se)}}function I(J,u){1&J&&p.GkF(0)}function T(J,u){if(1&J){const D=p.EpF();p.TgZ(0,"a",15),p.NdJ("click",function(){return p.CHM(D),p.oxw(2).sendUpsellLinkUsageEvent()}),p.YNc(1,I,1,0,"ng-container",7),p.qZA()}if(2&J){const D=p.oxw(2),se=p.MAs(5);p.Q6J("href",D.externalUrl,p.LSH),p.xp6(1),p.Q6J("ngTemplateOutlet",se)}}function N(J,u){if(1&J&&(p.ynx(0),p.YNc(1,h,2,2,"a",10),p.YNc(2,S,2,2,"a",11),p.YNc(3,T,2,2,"a",12),p.BQk()),2&J){const D=p.oxw();p.xp6(1),p.Q6J("ngIf","raised"===D.buttonType),p.xp6(1),p.Q6J("ngIf","stroked"===D.buttonType),p.xp6(1),p.Q6J("ngIf","basic"===D.buttonType)}}function x(J,u){1&J&&p.GkF(0)}function s(J,u){if(1&J){const D=p.EpF();p.TgZ(0,"a",19),p.NdJ("click",function(){return p.CHM(D),p.oxw(2).sendUpsellLinkUsageEvent()}),p.YNc(1,x,1,0,"ng-container",7),p.qZA()}if(2&J){const D=p.oxw(2),se=p.MAs(5);p.Q6J("routerLink",D.internalRoutePath)("queryParams",D.internalRouteParams),p.xp6(1),p.Q6J("ngTemplateOutlet",se)}}function E(J,u){1&J&&p.GkF(0)}function H(J,u){if(1&J){const D=p.EpF();p.TgZ(0,"a",20),p.NdJ("click",function(){return p.CHM(D),p.oxw(2).sendUpsellLinkUsageEvent()}),p.YNc(1,E,1,0,"ng-container",7),p.qZA()}if(2&J){const D=p.oxw(2),se=p.MAs(5);p.Q6J("routerLink",D.internalRoutePath)("queryParams",D.internalRouteParams),p.xp6(1),p.Q6J("ngTemplateOutlet",se)}}function V(J,u){1&J&&p.GkF(0)}function b(J,u){if(1&J){const D=p.EpF();p.TgZ(0,"a",21),p.NdJ("click",function(){return p.CHM(D),p.oxw(2).sendUpsellLinkUsageEvent()}),p.YNc(1,V,1,0,"ng-container",7),p.qZA()}if(2&J){const D=p.oxw(2),se=p.MAs(5);p.Q6J("routerLink",D.internalRoutePath)("queryParams",D.internalRouteParams),p.xp6(1),p.Q6J("ngTemplateOutlet",se)}}function B(J,u){if(1&J&&(p.ynx(0),p.YNc(1,s,2,3,"a",16),p.YNc(2,H,2,3,"a",17),p.YNc(3,b,2,3,"a",18),p.BQk()),2&J){const D=p.oxw();p.xp6(1),p.Q6J("ngIf","raised"===D.buttonType),p.xp6(1),p.Q6J("ngIf","stroked"===D.buttonType),p.xp6(1),p.Q6J("ngIf","basic"===D.buttonType)}}function Q(J,u){if(1&J&&(p.TgZ(0,"label-with-icon",22),p.Hsn(1),p.qZA()),2&J){const D=p.oxw();p.Q6J("iconColor","raised"===D.buttonType?"inherit":"pro-gold")}}const $=["*"];var W=(()=>{return(J=W||(W={}))[J.InternalPage=0]="InternalPage",J[J.ExternalPage=1]="ExternalPage",J[J.ProductSelectionPage=2]="ProductSelectionPage",W;var J})();const q=["/buy",i.A];let le=(()=>{class J{constructor(D){this.usageEventService=D,this.selectProductPagePath=q,this.UpsellLinkTypesEnum=W,this.buttonType="raised",this.bypassProductSelectionFlow=!1}ngOnInit(){this.setUpsellLinkType()}sendUpsellLinkUsageEvent(){const D=this.getLandingPageAttribute();this.usageEventService.logUsageEvent("upsell_link",Object.assign(Object.assign(Object.assign({},D&&{landing_page:D}),this.featureSet&&{upsell_feature:this.featureSet}),this.triggerLocation&&{trigger_location:this.triggerLocation}))}setUpsellLinkType(){this.upsellLinkType=this.bypassProductSelectionFlow?W.InternalPage:this.externalUrl?W.ExternalPage:W.ProductSelectionPage}getLandingPageAttribute(){var D;switch(this.upsellLinkType){case W.ProductSelectionPage:return this.selectProductPagePath.join("/");case W.ExternalPage:return this.externalUrl;case W.InternalPage:return null===(D=this.internalRoutePath)||void 0===D?void 0:D.join("/");default:return}}}return J.\u0275fac=function(D){return new(D||J)(p.Y36(e.N))},J.\u0275cmp=p.Xpm({type:J,selectors:[["upsell-link"]],inputs:{buttonType:"buttonType",triggerLocation:"triggerLocation",featureSet:"featureSet",internalRoutePath:"internalRoutePath",internalRouteParams:"internalRouteParams",externalUrl:"externalUrl",bypassProductSelectionFlow:"bypassProductSelectionFlow"},ngContentSelectors:$,decls:6,vars:4,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],["iconAndText",""],["mat-raised-button","",3,"routerLink","click",4,"ngIf"],["mat-stroked-button","",3,"routerLink","click",4,"ngIf"],["mat-button","",3,"routerLink","click",4,"ngIf"],["mat-raised-button","",3,"routerLink","click"],[4,"ngTemplateOutlet"],["mat-stroked-button","",3,"routerLink","click"],["mat-button","",3,"routerLink","click"],["mat-raised-button","","rel","noopener","target","_blank",3,"href","click",4,"ngIf"],["mat-stroked-button","","rel","noopener","target","_blank",3,"href","click",4,"ngIf"],["mat-button","","rel","noopener","target","_blank",3,"href","click",4,"ngIf"],["mat-raised-button","","rel","noopener","target","_blank",3,"href","click"],["mat-stroked-button","","rel","noopener","target","_blank",3,"href","click"],["mat-button","","rel","noopener","target","_blank",3,"href","click"],["mat-raised-button","",3,"routerLink","queryParams","click",4,"ngIf"],["mat-stroked-button","",3,"routerLink","queryParams","click",4,"ngIf"],["mat-button","",3,"routerLink","queryParams","click",4,"ngIf"],["mat-raised-button","",3,"routerLink","queryParams","click"],["mat-stroked-button","",3,"routerLink","queryParams","click"],["mat-button","",3,"routerLink","queryParams","click"],["iconKey","icon_pro_lightning",3,"iconColor"]],template:function(D,se){1&D&&(p.F$t(),p.ynx(0,0),p.YNc(1,m,4,3,"ng-container",1),p.YNc(2,N,4,3,"ng-container",1),p.YNc(3,B,4,3,"ng-container",1),p.BQk(),p.YNc(4,Q,2,1,"ng-template",null,2,p.W1O)),2&D&&(p.Q6J("ngSwitch",se.upsellLinkType),p.xp6(1),p.Q6J("ngSwitchCase",se.UpsellLinkTypesEnum.ProductSelectionPage),p.xp6(1),p.Q6J("ngSwitchCase",se.UpsellLinkTypesEnum.ExternalPage),p.xp6(1),p.Q6J("ngSwitchCase",se.UpsellLinkTypesEnum.InternalPage))},directives:[l.RF,l.n9,l.O5,y.n,d.zs,g.yS,l.tP,f.d],styles:["a.mat-raised-button[_ngcontent-%COMP%]{background-color:#f5a623}a.mat-stroked-button[_ngcontent-%COMP%]{border-color:#f5a623}a.mat-stroked-button[_ngcontent-%COMP%]:hover, a.mat-stroked-button[_ngcontent-%COMP%]:focus{background-color:#fef4e5}a.mat-button[_ngcontent-%COMP%]{background-color:transparent}a.mat-button[_ngcontent-%COMP%]:hover{background-color:#fef4e5}.entity-loading[_nghost-%COMP%]   a[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   a[_ngcontent-%COMP%]{background-color:#e9e9e9!important;color:transparent!important}.entity-loading[_nghost-%COMP%]   a[_ngcontent-%COMP%]   label-with-icon[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   a[_ngcontent-%COMP%]   label-with-icon[_ngcontent-%COMP%]{visibility:hidden}.mat-menu-content[_nghost-%COMP%]   button[_ngcontent-%COMP%], .mat-menu-content   [_nghost-%COMP%]   button[_ngcontent-%COMP%]{display:flex}"],changeDetection:0}),J})()},43652:(oe,L,t)=>{t.d(L,{J:()=>h});var e=t(20605),i=t(3184),p=t(61531),l=t(36362),y=t(87317),d=t(22972),g=t(74160);function f(C,S){1&C&&i.GkF(0)}function a(C,S){if(1&C&&(i.TgZ(0,"button",5),i.YNc(1,f,1,0,"ng-container",6),i.qZA()),2&C){const I=i.oxw(2),T=i.MAs(2);i.Q6J("upsellTrigger",I.featureSet)("upsellTriggerLocation",I.triggerLocation)("upsellShowDetails",I.showDetails)("upsellShowLogin",I.showLogin)("upsellShowCancel",I.showCancel)("upsellContext",I.context),i.xp6(1),i.Q6J("ngTemplateOutlet",T)}}function c(C,S){1&C&&i.GkF(0)}function r(C,S){if(1&C&&(i.TgZ(0,"button",7),i.YNc(1,c,1,0,"ng-container",6),i.qZA()),2&C){const I=i.oxw(2),T=i.MAs(2);i.Q6J("upsellTrigger",I.featureSet)("upsellTriggerLocation",I.triggerLocation)("upsellShowDetails",I.showDetails)("upsellShowLogin",I.showLogin)("upsellShowCancel",I.showCancel)("upsellContext",I.context),i.xp6(1),i.Q6J("ngTemplateOutlet",T)}}function o(C,S){1&C&&i.GkF(0)}function _(C,S){if(1&C&&(i.TgZ(0,"button",8),i.YNc(1,o,1,0,"ng-container",6),i.qZA()),2&C){const I=i.oxw(2),T=i.MAs(2);i.Q6J("upsellTrigger",I.featureSet)("upsellTriggerLocation",I.triggerLocation)("upsellShowDetails",I.showDetails)("upsellShowLogin",I.showLogin)("upsellShowCancel",I.showCancel)("upsellContext",I.context),i.xp6(1),i.Q6J("ngTemplateOutlet",T)}}function n(C,S){if(1&C&&(i.ynx(0),i.YNc(1,a,2,7,"button",2),i.YNc(2,r,2,7,"button",3),i.YNc(3,_,2,7,"button",4),i.BQk()),2&C){const I=i.oxw();i.xp6(1),i.Q6J("ngIf","raised"===I.buttonType),i.xp6(1),i.Q6J("ngIf","stroked"===I.buttonType),i.xp6(1),i.Q6J("ngIf","basic"===I.buttonType)}}function m(C,S){if(1&C&&(i.TgZ(0,"label-with-icon",9),i.Hsn(1),i.qZA()),2&C){const I=i.oxw();i.Q6J("iconColor","raised"===I.buttonType?"inherit":"pro-gold")}}const v=["*"];let h=(()=>{class C{constructor(){this.maintenanceModeBillingFlag=e.TT.MAINTENANCE_MODE_BILLING,this.buttonType="raised",this.showLogin=!1,this.showCancel=!1}}return C.\u0275fac=function(I){return new(I||C)},C.\u0275cmp=i.Xpm({type:C,selectors:[["upsell-modal-button"]],inputs:{buttonType:"buttonType",featureSet:"featureSet",context:"context",triggerLocation:"triggerLocation",showDetails:"showDetails",showLogin:"showLogin",showCancel:"showCancel"},ngContentSelectors:v,decls:3,vars:1,consts:[[4,"ifNotFeatureFlagBoolean"],["iconAndText",""],["mat-raised-button","",3,"upsellTrigger","upsellTriggerLocation","upsellShowDetails","upsellShowLogin","upsellShowCancel","upsellContext",4,"ngIf"],["mat-stroked-button","",3,"upsellTrigger","upsellTriggerLocation","upsellShowDetails","upsellShowLogin","upsellShowCancel","upsellContext",4,"ngIf"],["mat-button","",3,"upsellTrigger","upsellTriggerLocation","upsellShowDetails","upsellShowLogin","upsellShowCancel","upsellContext",4,"ngIf"],["mat-raised-button","",3,"upsellTrigger","upsellTriggerLocation","upsellShowDetails","upsellShowLogin","upsellShowCancel","upsellContext"],[4,"ngTemplateOutlet"],["mat-stroked-button","",3,"upsellTrigger","upsellTriggerLocation","upsellShowDetails","upsellShowLogin","upsellShowCancel","upsellContext"],["mat-button","",3,"upsellTrigger","upsellTriggerLocation","upsellShowDetails","upsellShowLogin","upsellShowCancel","upsellContext"],["iconKey","icon_pro_lightning",3,"iconColor"]],template:function(I,T){1&I&&(i.F$t(),i.YNc(0,n,4,3,"ng-container",0),i.YNc(1,m,2,1,"ng-template",null,1,i.W1O)),2&I&&i.Q6J("ifNotFeatureFlagBoolean",T.maintenanceModeBillingFlag)},directives:[p.l,l.O5,y.lW,d.k,l.tP,g.d],styles:["button.mat-raised-button[_ngcontent-%COMP%]{background-color:#f5a623}button.mat-stroked-button[_ngcontent-%COMP%]{border-color:#f5a623}button.mat-stroked-button[_ngcontent-%COMP%]:hover, button.mat-stroked-button[_ngcontent-%COMP%]:focus{background-color:#fef4e5}button.mat-button[_ngcontent-%COMP%]{background-color:transparent}button.mat-button[_ngcontent-%COMP%]:hover{background-color:#fef4e5}.entity-loading[_nghost-%COMP%]   button[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   button[_ngcontent-%COMP%]{background-color:#e9e9e9!important;color:transparent!important}.entity-loading[_nghost-%COMP%]   button[_ngcontent-%COMP%]   label-with-icon[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   button[_ngcontent-%COMP%]   label-with-icon[_ngcontent-%COMP%]{visibility:hidden}.mat-menu-content[_nghost-%COMP%]   button[_ngcontent-%COMP%], .mat-menu-content   [_nghost-%COMP%]   button[_ngcontent-%COMP%]{display:flex}"],changeDetection:0}),C})()},83e3:(oe,L,t)=>{t.d(L,{S:()=>s});var e=t(36362),i=t(90898),p=t(45857),l=t(35503),y=t(83867),d=t(99516),g=t(89250),f=t(15232),a=t(32519),c=t(31156),r=t(40337),o=t(75337),_=t(4079),n=t(32313),m=t(5076),v=t(68453),h=t(19366),C=t(3184),S=t(73729),I=t(77500),T=t(87317),N=t(32478),x=t(74929);let s=(()=>{class E{}return E.\u0275fac=function(V){return new(V||E)},E.\u0275mod=C.oAB({type:E}),E.\u0275inj=C.cJS({imports:[[e.ez,l.Dt,p.Bz,i.q,a.n,c.H,o.G,_.h,r.r,g.S,n.H,m.V,v.N,h.L]]}),E})();C.B6R(d.j,[e.mk,S.I,e.O5,I.q,T.lW,N.o,y.c,f.H],[x.X])},36062:(oe,L,t)=>{t.d(L,{l:()=>c});var e=t(28965),i=t(94736),p=t(3184);const l=["#C73636","#FFD452","#5BC0DE","#36C78F","#146AFF"];let y=(()=>{class r{constructor(_){this.stringUtil=_}chooseColor(_){if(_){const n=this.stringUtil.hashCode(_),v=new e.k(n).intInRange(0,4,!0);return l[v]}return l[4]}getInitials(_){if(_){const n=_.split(" ");return n.splice(1,n.length-2),n.map(m=>m.substr(0,1)).join("").toUpperCase()}return"CB"}}return r.\u0275fac=function(_){return new(_||r)(p.LFG(i.m))},r.\u0275prov=p.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var d=t(36362),g=t(77500);function f(r,o){if(1&r&&(p.TgZ(0,"div",2),p._uU(1),p.qZA()),2&r){const _=p.oxw();p.Udp("background-color",_.userColor)("font-size",_.initialsSize),p.xp6(1),p.hij(" ",_.initials," ")}}function a(r,o){if(1&r&&p._UZ(0,"cb-image",3),2&r){const _=p.oxw();p.Q6J("publicId",_.imageId)("width",70)("height",70)}}let c=(()=>{class r{constructor(_){this.userAvatarService=_,this.size=70}ngOnChanges(){if(this.userOrTeamMember)if(this.isTeamMemberModel(this.userOrTeamMember)){const _=this.userOrTeamMember;this.name=_.user_name,this.id=_.user_id,this.imageId=_.user_image_id}else{const _=this.userOrTeamMember;this.name=`${_.first_name} ${_.last_name}`,this.id=_.id,this.imageId=_.image_id}this.userColor=this.userAvatarService.chooseColor(this.id),this.initials=this.userAvatarService.getInitials(this.name),this.initialsSize=`${Math.floor(.5*this.size)}px`}isTeamMemberModel(_){return!!_.user_id}}return r.\u0275fac=function(_){return new(_||r)(p.Y36(y))},r.\u0275cmp=p.Xpm({type:r,selectors:[["user-image"]],hostVars:4,hostBindings:function(_,n){2&_&&p.Udp("width",n.size,"px")("height",n.size,"px")},inputs:{size:"size",userOrTeamMember:"userOrTeamMember"},features:[p.TTD],decls:3,vars:2,consts:[["class","user-initials",3,"background-color","font-size",4,"ngIf"],["class","cb-line-height-none flex-none","crop","thumb","radius","max","format","png",3,"publicId","width","height",4,"ngIf"],[1,"user-initials"],["crop","thumb","radius","max","format","png",1,"cb-line-height-none","flex-none",3,"publicId","width","height"]],template:function(_,n){1&_&&(p.TgZ(0,"div"),p.YNc(1,f,2,5,"div",0),p.YNc(2,a,1,3,"cb-image",1),p.qZA()),2&_&&(p.xp6(1),p.Q6J("ngIf",!n.imageId),p.xp6(1),p.Q6J("ngIf",n.imageId))},directives:[d.O5,g.q],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%] > div[_ngcontent-%COMP%]{position:relative;width:100%;height:100%}cb-image[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0}.user-initials[_ngcontent-%COMP%]{font-weight:700;display:flex;height:100%;width:100%;color:#fff;justify-content:center;align-items:center;border-radius:50%}"],changeDetection:0}),r})()},74274:(oe,L,t)=>{t.d(L,{e:()=>y});var e=t(36362),i=t(32519),p=t(31156),l=t(3184);let y=(()=>{class d{}return d.\u0275fac=function(f){return new(f||d)},d.\u0275mod=l.oAB({type:d}),d.\u0275inj=l.cJS({imports:[[e.ez,i.n,p.H]]}),d})()},44822:(oe,L,t)=>{t.d(L,{l:()=>m});var e=t(3184),i=t(36362),p=t(32478),l=t(74742),y=t(87317);function d(v,h){if(1&v&&e._UZ(0,"icon",6),2&v){const C=e.oxw(2);e.Q6J("key",C.iconKey)}}function g(v,h){1&v&&(e.TgZ(0,"span",7),e._UZ(1,"mat-spinner",8),e.qZA())}const f=function(v){return{"hide show-gt-sm":v}};function a(v,h){if(1&v&&(e.TgZ(0,"span",9),e._uU(1),e.qZA()),2&v){const C=e.oxw(2);e.Q6J("ngClass",e.VKq(2,f,C.hideLabelOnMobile)),e.xp6(1),e.hij(" ",C.label," ")}}function c(v,h){if(1&v&&(e.YNc(0,d,1,1,"icon",3),e.YNc(1,g,2,0,"span",4),e.YNc(2,a,2,4,"span",5)),2&v){const C=e.oxw();e.Q6J("ngIf",!C.isLoading&&C.iconKey),e.xp6(1),e.Q6J("ngIf",C.isLoading),e.xp6(1),e.Q6J("ngIf",!C.hideLabelWhileLoading||C.hideLabelWhileLoading&&!C.isLoading)}}function r(v,h){1&v&&e.GkF(0)}function o(v,h){if(1&v){const C=e.EpF();e.TgZ(0,"button",10),e.NdJ("click",function(){return e.CHM(C),e.oxw().handleClick()}),e.YNc(1,r,1,0,"ng-container",11),e.qZA()}if(2&v){const C=e.oxw(),S=e.MAs(1);e.Q6J("disabled",C.isDisabled)("color",C.color)("type",C.type),e.uIk("aria-label",C.label),e.xp6(1),e.Q6J("ngTemplateOutlet",S)}}function _(v,h){1&v&&e.GkF(0)}function n(v,h){if(1&v){const C=e.EpF();e.TgZ(0,"button",12),e.NdJ("click",function(){return e.CHM(C),e.oxw().handleClick()}),e.YNc(1,_,1,0,"ng-container",11),e.qZA()}if(2&v){const C=e.oxw(),S=e.MAs(1);e.Q6J("disabled",C.isDisabled)("color",C.color)("type",C.type),e.uIk("aria-label",C.label),e.xp6(1),e.Q6J("ngTemplateOutlet",S)}}let m=(()=>{class v{constructor(){this.color="primary",this.raisedButton=!1,this.hideLabelOnMobile=!0,this.isDisabled=!1,this.isLoading=!1,this.hideLabelWhileLoading=!1,this.type="button",this.onClick=new e.vpe}handleClick(){this.onClick&&this.onClick.emit()}}return v.\u0275fac=function(C){return new(C||v)},v.\u0275cmp=e.Xpm({type:v,selectors:[["progress-button"]],inputs:{color:"color",label:"label",iconKey:"iconKey",raisedButton:"raisedButton",hideLabelOnMobile:"hideLabelOnMobile",isDisabled:"isDisabled",isLoading:"isLoading",hideLabelWhileLoading:"hideLabelWhileLoading",type:"type"},outputs:{onClick:"onClick"},decls:4,vars:2,consts:[["buttonContents",""],["mat-button","","class","cb-text-transform-upper",3,"disabled","color","type","click",4,"ngIf"],["mat-raised-button","","class","cb-text-transform-upper",3,"disabled","color","type","click",4,"ngIf"],["color","inherit",3,"key",4,"ngIf"],["class","loading-spinner",4,"ngIf"],[3,"ngClass",4,"ngIf"],["color","inherit",3,"key"],[1,"loading-spinner"],["diameter","18"],[3,"ngClass"],["mat-button","",1,"cb-text-transform-upper",3,"disabled","color","type","click"],[4,"ngTemplateOutlet"],["mat-raised-button","",1,"cb-text-transform-upper",3,"disabled","color","type","click"]],template:function(C,S){1&C&&(e.YNc(0,c,3,3,"ng-template",null,0,e.W1O),e.YNc(2,o,2,5,"button",1),e.YNc(3,n,2,5,"button",2)),2&C&&(e.xp6(2),e.Q6J("ngIf",!S.raisedButton),e.xp6(1),e.Q6J("ngIf",S.raisedButton))},directives:[i.O5,p.o,l.Ou,i.mk,y.lW,i.tP],styles:[".mat-raised-button[_ngcontent-%COMP%]   .mat-spinner[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]{stroke:currentColor}.loading-spinner[_ngcontent-%COMP%]{display:inline-block;padding:1px;margin-right:8px}"]}),v})()},69489:(oe,L,t)=>{t.d(L,{Y:()=>f});var e=t(3184),i=t(94882),p=t(36362),l=t(87317),y=t(32478);function d(a,c){if(1&a){const r=e.EpF();e.TgZ(0,"button",3),e.NdJ("click",function(){return e.CHM(r),e.oxw().onRemove()}),e._UZ(1,"icon",4),e.qZA()}if(2&a){const r=e.oxw();e.uIk("aria-label",r.removeLabel)}}const g=["*"];let f=(()=>{class a{constructor(r){this.labelService=r,this.removeLabel=this.labelService.getLabel("CBL.COMMON.REMOVE"),this.remove=new e.vpe,this.color="primary"}onRemove(){this.remove.emit()}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(i.Q))},a.\u0275cmp=e.Xpm({type:a,selectors:[["chip"]],hostVars:2,hostBindings:function(r,o){2&r&&e.Tol(o.color)},inputs:{removable:"removable",removeLabel:"removeLabel",color:"color"},outputs:{remove:"remove"},ngContentSelectors:g,decls:4,vars:1,consts:[[1,"layout-row","layout-align-start-center"],[1,"cb-overflow-ellipsis"],["mat-icon-button","","type","button","class","flex-none",3,"click",4,"ngIf"],["mat-icon-button","","type","button",1,"flex-none",3,"click"],["key","icon_close","size","large","color","inherit"]],template:function(r,o){1&r&&(e.F$t(),e.TgZ(0,"div",0)(1,"div",1),e.Hsn(2),e.qZA(),e.YNc(3,d,2,1,"button",2),e.qZA()),2&r&&(e.xp6(3),e.Q6J("ngIf",o.removable))},directives:[p.O5,l.lW,y.o],styles:["[_nghost-%COMP%]{display:inline-flex;align-items:center;max-width:100%;min-width:0;box-sizing:border-box;padding:4px 8px;border-radius:25px;line-height:20px;font-weight:500}.primary[_nghost-%COMP%]{background-color:#cbddff;color:#282828}.success[_nghost-%COMP%]{background-color:#e7f8f2;color:#282828}.error[_nghost-%COMP%]{background-color:#c73636;color:#fff}.attention[_nghost-%COMP%]{background-color:#f8e7e7;color:#282828}[_nghost-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{line-height:16px!important;height:16px!important;width:16px!important;margin-left:5px}"],changeDetection:0}),a})()},74160:(oe,L,t)=>{t.d(L,{d:()=>n});var e=t(3184),i=t(36362),p=t(32478),l=t(20757);function y(m,v){1&m&&e.GkF(0)}function d(m,v){if(1&m&&(e.ynx(0),e.YNc(1,y,1,0,"ng-container",2),e.BQk()),2&m){e.oxw();const h=e.MAs(5);e.xp6(1),e.Q6J("ngTemplateOutlet",h)}}function g(m,v){1&m&&e.GkF(0)}function f(m,v){if(1&m&&(e.ynx(0),e.YNc(1,g,1,0,"ng-container",2),e.BQk()),2&m){e.oxw();const h=e.MAs(5);e.xp6(1),e.Q6J("ngTemplateOutlet",h)}}function a(m,v){if(1&m&&e._UZ(0,"icon",6),2&m){const h=e.oxw(3);e.Q6J("color","theme"!==h.iconColor?h.iconColor:"inherit")("key",h.iconKey)("size",h.iconSize)}}function c(m,v){if(1&m&&e._UZ(0,"theme-icon",7),2&m){const h=e.oxw(3);e.Q6J("color",h.iconColor)("themeId",h.themeId)("size",h.iconSize)}}function r(m,v){if(1&m&&(e.ynx(0),e.YNc(1,a,1,3,"icon",4),e.YNc(2,c,1,3,"theme-icon",5),e.BQk()),2&m){const h=e.oxw(2);e.xp6(1),e.Q6J("ngIf",h.iconKey),e.xp6(1),e.Q6J("ngIf",h.themeId)}}function o(m,v){if(1&m&&e.YNc(0,r,3,2,"ng-container",3),2&m){const h=e.oxw();e.Q6J("ngIf",h.iconKey||h.themeId)("ngIfElse",h.iconTemplate)}}const _=["*"];let n=(()=>{class m{constructor(){this.iconColor="inherit",this.iconSize="default",this.iconAfter=!1}}return m.\u0275fac=function(h){return new(h||m)},m.\u0275cmp=e.Xpm({type:m,selectors:[["label-with-icon"]],inputs:{iconKey:"iconKey",themeId:"themeId",iconColor:"iconColor",iconSize:"iconSize",iconAfter:"iconAfter",iconTemplate:"iconTemplate"},ngContentSelectors:_,decls:6,vars:2,consts:[[4,"ngIf"],["icon",""],[4,"ngTemplateOutlet"],[4,"ngIf","ngIfElse"],[3,"color","key","size",4,"ngIf"],[3,"color","themeId","size",4,"ngIf"],[3,"color","key","size"],[3,"color","themeId","size"]],template:function(h,C){1&h&&(e.F$t(),e.YNc(0,d,2,1,"ng-container",0),e.TgZ(1,"span"),e.Hsn(2),e.qZA(),e.YNc(3,f,2,1,"ng-container",0),e.YNc(4,o,1,2,"ng-template",null,1,e.W1O)),2&h&&(e.Q6J("ngIf",!C.iconAfter),e.xp6(3),e.Q6J("ngIf",C.iconAfter))},directives:[i.O5,i.tP,p.o,l.p],styles:["[_nghost-%COMP%]{display:inline-flex;justify-content:center;align-items:center}icon[_ngcontent-%COMP%]{flex:0 0 auto}span[_ngcontent-%COMP%]{flex:0 1 auto;min-width:0}span[_ngcontent-%COMP%]:not(:first-child){margin-left:10px}span[_ngcontent-%COMP%]:not(:last-child){margin-right:10px}span[_ngcontent-%COMP%]:empty{display:none}.mat-button[_nghost-%COMP%], .mat-button   [_nghost-%COMP%], .mat-stroked-button[_nghost-%COMP%], .mat-stroked-button   [_nghost-%COMP%], .mat-raised-button[_nghost-%COMP%], .mat-raised-button   [_nghost-%COMP%]{margin:0 -10px;vertical-align:initial;min-height:36px;display:flex}.mat-button[_nghost-%COMP%]   span[_ngcontent-%COMP%], .mat-button   [_nghost-%COMP%]   span[_ngcontent-%COMP%], .mat-stroked-button[_nghost-%COMP%]   span[_ngcontent-%COMP%], .mat-stroked-button   [_nghost-%COMP%]   span[_ngcontent-%COMP%], .mat-raised-button[_nghost-%COMP%]   span[_ngcontent-%COMP%], .mat-raised-button   [_nghost-%COMP%]   span[_ngcontent-%COMP%]{flex-shrink:0}.mat-stroked-button[_nghost-%COMP%], .mat-stroked-button   [_nghost-%COMP%]{min-height:34px}"],changeDetection:0}),m})()},990:(oe,L,t)=>{t.d(L,{R:()=>_});var e=t(3184),i=t(49837),p=t(36362),l=t(32478),y=t(40089);const d=["wrappableLabel"],g=["lastWord"];function f(n,m){if(1&n&&e._UZ(0,"icon",7),2&n){const v=e.oxw(2);e.Q6J("matTooltip",v.description)}}function a(n,m){if(1&n&&(e.TgZ(0,"span",2)(1,"span",null,3),e._uU(3),e.qZA(),e.TgZ(4,"span",4),e._UZ(5,"span",null,5),e._uU(7,"\xa0"),e.YNc(8,f,1,1,"icon",6),e.qZA()()),2&n){const v=e.oxw();e.xp6(3),e.Oqu(v.label),e.xp6(5),e.Q6J("ngIf",v.description&&v.description.length)}}function c(n,m){1&n&&(e.TgZ(0,"span",12),e._uU(1," \xa0 "),e.qZA())}function r(n,m){if(1&n&&e._UZ(0,"icon",13),2&n){const v=e.oxw(2);e.Q6J("matTooltip",v.label+": "+v.description)}}function o(n,m){if(1&n&&(e.TgZ(0,"div",8)(1,"span",9),e._uU(2),e.qZA(),e.YNc(3,c,2,0,"span",10),e.YNc(4,r,1,1,"icon",11),e.qZA()),2&n){const v=e.oxw();e.xp6(2),e.hij(" ",v.label," "),e.xp6(1),e.Q6J("ngIf",v.description&&v.description.length),e.xp6(1),e.Q6J("ngIf",v.description&&v.description.length)}}let _=(()=>{class n{constructor(v,h){this.renderer=v,this.platformService=h,this.isLabelWrappable=!0,this.alwaysShowIcon=!1}ngAfterViewInit(){this.description&&this.description.length&&this.isLabelWrappable&&this.platformService.isBrowser()&&this.setWrapLabel()}setWrapLabel(){let v=this.wrappableLabel.nativeElement,h=this.lastWord.nativeElement,C=this.label?this.label.trim():"",S=C.lastIndexOf(" "),I=C.substring(0,S+1),T=C.substring(S+1);this.renderer.setProperty(v,"innerHTML",I),this.renderer.setProperty(h,"innerHTML",T)}}return n.\u0275fac=function(v){return new(v||n)(e.Y36(e.Qsj),e.Y36(i.m))},n.\u0275cmp=e.Xpm({type:n,selectors:[["label-with-info"]],viewQuery:function(v,h){if(1&v&&(e.Gf(d,5),e.Gf(g,5)),2&v){let C;e.iGM(C=e.CRH())&&(h.wrappableLabel=C.first),e.iGM(C=e.CRH())&&(h.lastWord=C.first)}},hostVars:2,hostBindings:function(v,h){2&v&&e.ekj("always-show-icon",h.alwaysShowIcon)},inputs:{label:"label",description:"description",isLabelWrappable:"isLabelWrappable",alwaysShowIcon:"alwaysShowIcon"},decls:2,vars:2,consts:[["class","wrappable-label-with-info",4,"ngIf"],["class","layout-row layout-align-start-center single-line-label-with-info",4,"ngIf"],[1,"wrappable-label-with-info"],["wrappableLabel",""],[1,"cb-nowrap"],["lastWord",""],["key","icon_info_outline","color","info","size","custom","class","label-with-info-icon flex-none",3,"matTooltip",4,"ngIf"],["key","icon_info_outline","color","info","size","custom",1,"label-with-info-icon","flex-none",3,"matTooltip"],[1,"layout-row","layout-align-start-center","single-line-label-with-info"],[1,"cb-overflow-ellipsis","flex-nogrow","label"],["class","spacer",4,"ngIf"],["key","icon_info_outline","color","info","size","custom","class","label-with-info-icon flex-none icon","matTooltipShowDelay","500",3,"matTooltip",4,"ngIf"],[1,"spacer"],["key","icon_info_outline","color","info","size","custom","matTooltipShowDelay","500",1,"label-with-info-icon","flex-none","icon",3,"matTooltip"]],template:function(v,h){1&v&&(e.YNc(0,a,9,2,"span",0),e.YNc(1,o,5,3,"div",1)),2&v&&(e.Q6J("ngIf",h.isLabelWrappable),e.xp6(1),e.Q6J("ngIf",!h.isLabelWrappable))},directives:[p.O5,l.o,y.gM],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]:not(.always-show-icon):not(:hover)   .label-with-info-icon[_ngcontent-%COMP%]{visibility:hidden}[_nghost-%COMP%]   .label-with-info-icon[_ngcontent-%COMP%]{height:1em;width:1em;min-width:1em;min-height:1em;line-height:1em}[_nghost-%COMP%]   .label-with-info-icon[_ngcontent-%COMP%]:not(.single-line){vertical-align:middle}[_nghost-%COMP%]   .label-with-info-icon[_ngcontent-%COMP%]     svg{vertical-align:top}"],changeDetection:0}),n})()},252:(oe,L,t)=>{t.d(L,{z:()=>f});var e=t(3184),i=t(36362),p=t(74742),l=t(74929);const y=function(a){return{show:a}};function d(a,c){if(1&a&&(e.TgZ(0,"div",1)(1,"div",2),e.Hsn(2),e.qZA(),e.TgZ(3,"div",2)(4,"div",3),e._UZ(5,"mat-progress-spinner",4),e.TgZ(6,"span"),e._uU(7),e.ALo(8,"translate"),e.qZA()()()()),2&a){const r=e.oxw();e.xp6(1),e.Q6J("ngClass",e.VKq(6,y,r.showEmpty)),e.xp6(2),e.Q6J("ngClass",e.VKq(8,y,r.showLoading)),e.xp6(2),e.Q6J("ngClass",e.VKq(10,y,r.showLoading)),e.xp6(2),e.Oqu(e.lcZ(8,4,"CBL.COMMON.LOADING"))}}const g=["*"];let f=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275cmp=e.Xpm({type:a,selectors:[["no-content"]],inputs:{showLoading:"showLoading",showEmpty:"showEmpty"},ngContentSelectors:g,decls:1,vars:1,consts:[["class","component--no-content",4,"ngIf"],[1,"component--no-content"],[1,"hide",3,"ngClass"],[1,"loadingContainer","mat-elevation-z2"],["diameter","20","mode","indeterminate",1,"hide",3,"ngClass"]],template:function(r,o){1&r&&(e.F$t(),e.YNc(0,d,9,12,"div",0)),2&r&&e.Q6J("ngIf",o.showEmpty||o.showLoading)},directives:[i.O5,i.mk,p.Ou],pipes:[l.X],styles:[".component--no-content{color:#666;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;padding-top:48px;padding-bottom:48px}.component--no-content .loadingContainer{background:white;border-radius:3px;padding:24px}.component--no-content .loadingContainer mat-progress-spinner{display:inline-block;float:left;margin-right:16px;width:20px;height:20px}.component--no-content .loadingContainer span{display:inline-block;line-height:20px}\n"],encapsulation:2,changeDetection:0}),a})()},32313:(oe,L,t)=>{t.d(L,{H:()=>d});var e=t(36362),i=t(35503),p=t(90898),l=t(32519),y=t(3184);let d=(()=>{class g{}return g.\u0275fac=function(a){return new(a||g)},g.\u0275mod=y.oAB({type:g}),g.\u0275inj=y.cJS({imports:[[e.ez,i.Dt,p.q,l.n]]}),g})()},20449:(oe,L,t)=>{t.d(L,{N:()=>h});var e=t(3184),i=t(90587),p=t(20605),l=t(97010),y=t(71832),d=t(36362),g=t(44770),f=t(43365),a=t(61531),c=t(61534),r=t(32478),o=t(40089);function _(C,S){1&C&&(e.TgZ(0,"mat-error"),e.SDv(1,10),e.qZA())}function n(C,S){1&C&&(e.TgZ(0,"mat-error"),e.SDv(1,11),e.qZA())}function m(C,S){1&C&&(e.TgZ(0,"div",12)(1,"mat-checkbox",13),e.SDv(2,14),e.qZA(),e._UZ(3,"icon",15),e.qZA())}function v(C,S){if(1&C&&(e.ynx(0),e.TgZ(1,"mat-form-field",6)(2,"mat-label"),e.SDv(3,7),e.qZA(),e._UZ(4,"input",8),e.YNc(5,_,2,0,"mat-error",5),e.YNc(6,n,2,0,"mat-error",5),e.qZA(),e.YNc(7,m,4,0,"div",9),e.BQk()),2&C){const I=e.oxw();e.xp6(5),e.Q6J("ngIf",I.emailControl.hasError("email")&&!I.emailControl.hasError("required")),e.xp6(1),e.Q6J("ngIf",I.emailControl.hasError("required")),e.xp6(1),e.Q6J("ifFeatureFlagBoolean",I.syncFlag)}}let h=(()=>{class C{constructor(){this.allowEmailConnect=!0,this.form=new i.cw({email:new i.NI("",[i.kI.email,i.kI.required]),sync:new i.NI(!1)}),this.syncFlag=p.TT.SYNC_EMAIL,this.connectEmailAsset=l.Wh.pro_trial_onboarding.sendEmail,this.onChange=()=>({}),this.onTouched=()=>({}),this.form.valueChanges.subscribe(I=>{this.onChange(I),this.onTouched()})}get value(){return this.form.value}set value(I){this.form.setValue(I),this.onChange(I),this.onTouched()}get emailControl(){return this.form.controls.email}registerOnChange(I){this.onChange=I}registerOnTouched(I){this.onTouched=I}writeValue(I){I&&(this.value=I),null===I&&this.form.reset()}validate(){return this.form.valid?null:{email:!1}}}return C.\u0275fac=function(I){return new(I||C)},C.\u0275cmp=e.Xpm({type:C,selectors:[["connect-email-form"]],inputs:{allowEmailConnect:"allowEmailConnect"},features:[e._Bn([{provide:i.JU,useExisting:(0,e.Gpc)(()=>C),multi:!0},{provide:i.Cf,useExisting:(0,e.Gpc)(()=>C),multi:!0}])],decls:7,vars:4,consts:function(){let S,I,T,N,x,s,E;return S=$localize`:␟e0406b4576057010c45e446077bd663833955b32␟3125780634035069628: Rapidly compose and send personalized emails that cut through noise with intelligent email templates and snippets using Crunchbase insights. `,I=$localize`:␟b17019cea30a7e400b70772f73ad909eb0cf66cc␟6235392592614223053: Email address `,T=$localize`:␟69e87070d9d6769381769c0ff548b023c14168a4␟6518911912411860003:yourname@yourcompany.com`,N=$localize`:␟b237f93a385b70e5369aa51a85229ad4fe494d78␟7031616149263542430: Please enter a valid email address. `,x=$localize`:␟4001c32c6581558999005f8d78305f8fc63d1580␟4264441046758722349: Required `,s=$localize`:␟13338f0b9aefb1382e3acaccbb16785e7b7d36c3␟1717619067204479110: Sync email contacts to Crunchbase `,E=$localize`:␟c9c0d0149a52a8a3a6783d26933c2068b876ce6d␟8590760137922190417:
            Contacts that can be matched to a Crunchbase company profile will appear in that company's People tab. Your data will only be visible by you and your team members.
          `,[[1,"container",3,"formGroup"],[1,"video","mat-elevation-z5"],[3,"resource","width"],[1,"message"],S,[4,"ngIf"],["floatLabel","always","appearance","outline"],I,["matInput","","formControlName","email","name","email","type","email","placeholder",T],["class","sync-checkbox",4,"ifFeatureFlagBoolean"],N,x,[1,"sync-checkbox"],["formControlName","sync"],s,["key","icon_info_outline","color","info","size","text","matTooltip",E]]},template:function(I,T){1&I&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"autoplay-video",2),e.qZA(),e.TgZ(3,"div")(4,"div",3),e.SDv(5,4),e.qZA(),e.YNc(6,v,8,3,"ng-container",5),e.qZA()()),2&I&&(e.Q6J("formGroup",T.form),e.xp6(2),e.Q6J("resource",T.connectEmailAsset)("width",320),e.xp6(4),e.Q6J("ngIf",T.allowEmailConnect))},directives:[i.JL,i.sg,y.T,d.O5,g.KE,g.hX,f.Nt,i.Fj,i.JJ,i.u,g.TO,a.l,c.oG,r.o,o.gM],styles:["[inline][_nghost-%COMP%]   mat-form-field[_ngcontent-%COMP%]{max-width:500px}.container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}@media (min-width: 960px){.container[_ngcontent-%COMP%]{flex-direction:row}}.message[_ngcontent-%COMP%]{margin-bottom:16px}.video[_ngcontent-%COMP%]{flex-shrink:0;width:100%;max-width:320px;aspect-ratio:4/3;margin:0 0 32px}@media (min-width: 960px){.video[_ngcontent-%COMP%]{margin:0 32px 0 0}}mat-form-field[_ngcontent-%COMP%]{width:100%}mat-label[_ngcontent-%COMP%]{font-weight:500;font-size:20px;color:#282828}.sync-checkbox[_ngcontent-%COMP%]{display:flex;align-items:center}.sync-checkbox[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]{margin-right:4px}"],changeDetection:0}),C})()},58895:(oe,L,t)=>{t.d(L,{qy:()=>V,wF:()=>$,Lv:()=>C,vm:()=>N.v});var e=t(90587),i=t(36362),p=t(44770),l=t(87317),y=t(43365),d=t(35503),g=t(89250),f=t(32313),a=t(31156),c=t(40337),r=t(61534),o=t(5076),_=t(32519),n=t(40089),m=t(83e3),v=t(75337),h=t(3184);let C=(()=>{class W{}return W.\u0275fac=function(le){return new(le||W)},W.\u0275mod=h.oAB({type:W}),W.\u0275inj=h.cJS({imports:[[i.ez,d.Dt,e.u5,e.UX,g.S,f.H,a.H,y.c,p.lN,l.ot,c.r,r.p9,o.V,_.n,n.AV,m.S,v.G]]}),W})();var S=t(64139),I=t(59095),T=t(2384),N=t(38345),x=t(97010),s=t(95758),E=t(73729),H=t(20449);let V=(()=>{class W extends T.V{constructor(le,J){super(),this.dialogRef=le,this.emailConnectService=J,this.form=new e.cw({email:new e.NI}),this.connectEmailAsset=x.Wh.pro_trial_onboarding.sendEmail}ngOnInit(){const le=this.form.controls.email;this.emailConnectUrl$=le.valueChanges.pipe((0,I.w)(J=>le.valid?this.emailConnectService.getEmailConnectUrl$({email:J.email,queryParams:this.payload.queryParams}):(0,S.of)("")))}}return W.\u0275fac=function(le){return new(le||W)(h.Y36(s.so),h.Y36(N.v))},W.\u0275cmp=h.Xpm({type:W,selectors:[["connect-email"]],features:[h.qOj],decls:8,vars:6,consts:function(){let q,le;return q=$localize`:␟7a4d19842d0b8e8aa4404fc30fd15e9a340dc4ee␟8085754981871815648:Send Email Right From Crunchbase`,le=$localize`:␟4ef3ee6ee3f631946c3b6592b2b5e274066cfb7d␟1276489858633750356: Connect Email `,[[3,"formGroup"],["title",q,3,"fullBleed"],["dialog-content",""],["formControlName","email"],["dialog-actions",""],["mat-raised-button","","color","primary","data-heap-connect-email-from-modal","",3,"disabled","href"],le]},template:function(le,J){1&le&&(h.TgZ(0,"form",0)(1,"dialog-layout",1)(2,"div",2),h._UZ(3,"connect-email-form",3),h.qZA(),h.TgZ(4,"div",4)(5,"a",5),h.SDv(6,6),h.ALo(7,"async"),h.qZA()()()()),2&le&&(h.Q6J("formGroup",J.form),h.xp6(1),h.Q6J("fullBleed",!0),h.xp6(4),h.Q6J("disabled",!J.form.valid)("href",h.lcZ(7,4,J.emailConnectUrl$),h.LSH))},directives:[e._Y,e.JL,e.sg,E.I,H.N,e.JJ,e.u,l.zs],pipes:[i.Ov],styles:["[_nghost-%COMP%]{display:block;max-width:700px}div[dialog-content][_ngcontent-%COMP%]{padding:20px}a[_ngcontent-%COMP%]{text-transform:uppercase}"],changeDetection:0}),W})();var b=t(77500),B=t(29641),Q=t(74929);let $=(()=>{class W extends T.V{constructor(le){super(),this.dialogRef=le,this.errorImage=x.Wh.emailConnect.error}close(le=!1){this.dialogRef.close({connectAgain:le})}}return W.\u0275fac=function(le){return new(le||W)(h.Y36(s.so))},W.\u0275cmp=h.Xpm({type:W,selectors:[["connect-email-error"]],features:[h.qOj],decls:16,vars:8,consts:function(){let q,le,J;return q=$localize`:␟ed0e27a7645d5df6a939d4763b6ceaef27debbe7␟4034694953391603166:We weren't able to connect your email account to Crunchbase`,le=$localize`:␟18411db151d2f25627b593d8c46ea2af94f32f4f␟2829686929777902283: We recommend trying to connect again. Crunchbase's email integration is secure and keeps your contact information private. `,J=$localize`:␟85323235a9b96eac18b31da4919948c03c146e88␟8310213413956497474: Connect Again `,[[3,"title"],["dialog-content",""],["alt","",3,"original","resource"],q,le,["key","CBL.ACCOUNT.CONNECT_EMAIL.ERROR.CONTACT_SUPPORT"],["dialog-actions",""],["mat-button","","data-heap-email-error-cancel","",3,"click"],["mat-raised-button","","color","primary","data-heap-email-error-retry","",3,"click"],J]},template:function(le,J){1&le&&(h.TgZ(0,"dialog-layout",0),h.ALo(1,"translate"),h.TgZ(2,"div",1),h._UZ(3,"cb-image",2),h.TgZ(4,"h2"),h.SDv(5,3),h.qZA(),h.TgZ(6,"p"),h.SDv(7,4),h.qZA(),h.TgZ(8,"p"),h._UZ(9,"markup-label",5),h.qZA()(),h.TgZ(10,"div",6)(11,"button",7),h.NdJ("click",function(){return J.close()}),h._uU(12),h.ALo(13,"translate"),h.qZA(),h.TgZ(14,"button",8),h.NdJ("click",function(){return J.close(!0)}),h.SDv(15,9),h.qZA()()()),2&le&&(h.Q6J("title",h.lcZ(1,4,"CBL.ACCOUNT.CONNECT_EMAIL.ERROR.DIALOG_HEADER")),h.xp6(3),h.Q6J("original",!0)("resource",J.errorImage),h.xp6(9),h.hij(" ",h.lcZ(13,6,"CBL.COMMON.CANCEL")," "))},directives:[E.I,b.q,B.x,l.lW],pipes:[Q.X],styles:["[dialog-content][_ngcontent-%COMP%]{max-width:500px}h2[_ngcontent-%COMP%]{font-size:16px;line-height:24px;color:#282828;letter-spacing:.3px;font-weight:500;font-family:Roboto,Arial,sans-serif}cb-image[_ngcontent-%COMP%]{display:block;margin:0 auto;width:150px;height:150px}"],changeDetection:0}),W})()},38345:(oe,L,t)=>{t.d(L,{v:()=>_});var e=t(28784),i=t(26435),p=t(13074),l=t(7323),y=t(64139),d=t(19193),g=t(86942),f=t(83910),a=t(93443),c=t(20605),r=t(3184),o=t(49837);let _=(()=>{class n{constructor(v,h,C,S,I){this.urlService=v,this.platformService=h,this.routingHelper=C,this.userAttributeService=S,this.featureService=I}getEmailConnectUrl$(v){return this.platformService.isServer()?(0,y.of)(""):(0,d.aj)([this.featureService.getBooleanValue(c.TT.SYNC_EMAIL,!1),this.routingHelper.getCurrentUrl$()]).pipe((0,g.U)(([h,C])=>{const S=new p.q6(C),I=[a.Gq.ScopesEnum.read,a.Gq.ScopesEnum.send];return S.deleteAllParams(),S.searchParams.append(n.REDIRECT_QUERY_PARAM,"true"),Object.entries(v.queryParams||{}).forEach(([T,N])=>{N&&S.searchParams.append(T,N)}),this.cbEnterpriseSyncConnectGetUrl(S.toString(),v.email,h?I:void 0)}))}extractRedirectResponse(){if(!this.routingHelper.extractAndDeleteQueryParam(n.REDIRECT_QUERY_PARAM))return;const h=this.routingHelper.extractAndDeleteQueryParam("error_code");return null!=h?{success:!1,errorCode:h}:{success:!0}}updateSyncStatus(v){return this.userAttributeService.setAttribute("email_sync",v).pipe((0,g.U)(h=>{if(!h)throw new Error("Attributes fetch failed");return h.email_sync}))}getSyncStatus(){return this.userAttributeService.getAttributes().pipe((0,f.q)(1),(0,g.U)(v=>v.email_sync||!1))}cbEnterpriseSyncConnectGetUrl(v,h,C){let I=new e.LE({encoder:new i.zI});if(!v)throw new Error("Missing required parameter redirectUri when calling cbEnterpriseSyncConnectGet");if(!h)throw new Error("Missing required parameter email when calling cbEnterpriseSyncConnectGet");void 0!==v&&(I=I.set("redirect_uri",v)),void 0!==h&&(I=I.set("email",h)),void 0!==C&&(I=I.set("scopes",""+C));const T=new URL("/v4/cb/enterprise-sync/connect",this.urlService.getAbsoluteUrl(""));return T.search=I.toString(),T.toString()}}return n.REDIRECT_QUERY_PARAM="connectedEmailRedirect",n.\u0275fac=function(v){return new(v||n)(r.LFG(p.iO),r.LFG(o.m),r.LFG(i.VP),r.LFG(l.n3),r.LFG(c.Bz))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})()},17906:(oe,L,t)=>{t.d(L,{Z:()=>i});const i={ENTER:13,ESCAPE:27,BACKSPACE:8,ARROW_DOWN:40,ARROW_UP:38}},97252:(oe,L,t)=>{t.d(L,{a:()=>a});var e=t(3184),i=t(57984),p=t(36362),l=t(76908);function y(c,r){if(1&c&&e._UZ(0,"linkedin-link",7),2&c){const o=e.oxw();e.Q6J("url",o.contact.linkedin.data)}}function d(c,r){if(1&c&&(e.TgZ(0,"div",8),e._uU(1),e.qZA()),2&c){const o=e.oxw();e.xp6(1),e.Oqu(o.contact.jobTitle)}}function g(c,r){if(1&c&&e._UZ(0,"field-formatter",9),2&c){const o=e.oxw();e.Q6J("collectionId",o.contact.collectionId)("field",o.contact.jobLevels.field)("fieldData",o.contact.jobLevels.data)("queryData",o.contact.jobLevels.queryData)}}function f(c,r){if(1&c&&e._UZ(0,"field-formatter",9),2&c){const o=e.oxw();e.Q6J("collectionId",o.contact.collectionId)("field",o.contact.jobDepartments.field)("fieldData",o.contact.jobDepartments.data)("queryData",o.contact.jobDepartments.queryData)}}let a=(()=>{class c{constructor(){this.displayMode="full"}}return c.\u0275fac=function(o){return new(o||c)},c.\u0275cmp=e.Xpm({type:c,selectors:[["contact-details"]],hostVars:2,hostBindings:function(o,_){2&o&&e.Tol(_.displayMode)},inputs:{contact:"contact",displayMode:"displayMode"},decls:8,vars:7,consts:[[1,"name"],[3,"collectionId","field","fieldData"],[3,"url",4,"ngIf"],[1,"jobInfo"],["class","job-title",4,"ngIf"],[1,"job-levels-department"],["queryTemplateSearchUi","advanced_search",3,"collectionId","field","fieldData","queryData",4,"ngIf"],[3,"url"],[1,"job-title"],["queryTemplateSearchUi","advanced_search",3,"collectionId","field","fieldData","queryData"]],template:function(o,_){1&o&&(e.TgZ(0,"div",0),e._UZ(1,"field-formatter",1),e.YNc(2,y,1,1,"linkedin-link",2),e.qZA(),e.TgZ(3,"div",3),e.YNc(4,d,2,1,"div",4),e.TgZ(5,"div",5),e.YNc(6,g,1,4,"field-formatter",6),e.YNc(7,f,1,4,"field-formatter",6),e.qZA()()),2&o&&(e.xp6(1),e.Q6J("collectionId",_.contact.collectionId)("field",_.contact.name.field)("fieldData",_.contact.name.data),e.xp6(1),e.Q6J("ngIf",_.contact.linkedin),e.xp6(2),e.Q6J("ngIf",_.contact.jobTitle),e.xp6(2),e.Q6J("ngIf",_.contact.jobLevels),e.xp6(1),e.Q6J("ngIf",_.contact.jobDepartments))},directives:[i.N,p.O5,l.h],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:block}.full[_nghost-%COMP%]   .job-levels-department[_ngcontent-%COMP%]{display:flex;flex-direction:column}.fullRow[_nghost-%COMP%]   .job-levels-department[_ngcontent-%COMP%]{display:flex}.fullRow[_nghost-%COMP%]   .job-levels-department[_ngcontent-%COMP%]   field-formatter[_ngcontent-%COMP%]:first-child:after{content:"\\2022";margin:0 4px}.name[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:16px;line-height:24px;color:#282828;letter-spacing:.3px;font-weight:500;font-family:Roboto,Arial,sans-serif}linkedin-link[_ngcontent-%COMP%]{padding-left:4px}.jobInfo[_ngcontent-%COMP%]{display:flex;flex-direction:column}.entity-loading[_nghost-%COMP%]   field-formatter[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   field-formatter[_ngcontent-%COMP%], .entity-loading[_nghost-%COMP%]   a[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   a[_ngcontent-%COMP%], .entity-loading[_nghost-%COMP%]   .job-title[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   .job-title[_ngcontent-%COMP%]{background-color:#e9e9e9!important;color:transparent!important}.entity-loading[_nghost-%COMP%]   icon[_ngcontent-%COMP%], .entity-loading   [_nghost-%COMP%]   icon[_ngcontent-%COMP%]{visibility:hidden}'],changeDetection:0}),c})()},84713:(oe,L,t)=>{t.d(L,{y:()=>y});var e=t(36362),i=t(93293),p=t(40989),l=t(3184);let y=(()=>{class d{}return d.\u0275fac=function(f){return new(f||d)},d.\u0275mod=l.oAB({type:d}),d.\u0275inj=l.cJS({imports:[[e.ez,i.I,p.R]]}),d})()},62826:(oe,L,t)=>{t.d(L,{I:()=>E});var e=t(3531),i=t(87555),p=t(3184),l=t(35585),y=t(36362),d=t(70821),g=t(32478),f=t(40089),a=t(87317),c=t(96657);let r=(()=>{class H{constructor(b){this.engageService=b}onClick(){this.engageService.sendEmail(this.contactId,this.organizationId,this.email.address)}}return H.\u0275fac=function(b){return new(b||H)(p.Y36(d.q7))},H.\u0275cmp=p.Xpm({type:H,selectors:[["contacts-card-unlocked-email"]],inputs:{contactId:"contactId",email:"email",organizationId:"organizationId"},decls:4,vars:3,consts:[["key","icon_email","color","accent",3,"matTooltip"],["mat-button","","data-cy","contact-unlocked-email-address",3,"click"],[3,"clipboard"]],template:function(b,B){1&b&&(p._UZ(0,"icon",0),p.TgZ(1,"button",1),p.NdJ("click",function(){return B.onClick()}),p._uU(2),p.qZA(),p._UZ(3,"copy-to-clipboard",2)),2&b&&(p.Q6J("matTooltip",B.email.tooltip),p.xp6(2),p.hij(" ",B.email.address,"\n"),p.xp6(1),p.Q6J("clipboard",B.email.address))},directives:[g.o,f.gM,a.lW,c.F],styles:["[_nghost-%COMP%]{display:flex;align-items:center;font-weight:500}a[_ngcontent-%COMP%]{color:#183444;margin:0 6px 0 8px}button[_ngcontent-%COMP%]{text-transform:initial;letter-spacing:initial;padding:0 8px;line-height:20px;min-width:0px;flex:0 1 auto;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.entity-loading[_nghost-%COMP%], .entity-loading   [_nghost-%COMP%]{background-color:#e9e9e9!important;color:transparent!important}"],changeDetection:0}),H})();var o=t(30918),_=t(30807),n=t(19575);function m(H,V){if(1&H&&p._UZ(0,"contacts-card-unlocked-email",9),2&H){const b=p.oxw(2).$implicit,B=p.oxw(2);p.Q6J("email",b)("contactId",B.contactState.contact.uuid)("organizationId",B.organizationId)}}function v(H,V){if(1&H&&p._UZ(0,"contacts-card-unlocked-phone",10),2&H){const b=p.oxw(2).$implicit;p.Q6J("phone",b)}}function h(H,V){if(1&H&&(p.ynx(0),p.YNc(1,m,1,3,"contacts-card-unlocked-email",7),p.YNc(2,v,1,1,"contacts-card-unlocked-phone",8),p.BQk()),2&H){const b=p.oxw().$implicit,B=p.oxw(2);p.xp6(1),p.Q6J("ngIf",b.methodType===B.contactItemMethodType.EMAIL),p.xp6(1),p.Q6J("ngIf",b.methodType===B.contactItemMethodType.PHONE)}}function C(H,V){if(1&H&&(p.ynx(0),p.YNc(1,h,3,2,"ng-container",6),p.BQk()),2&H){const b=V.$implicit,B=p.oxw(2);p.xp6(1),p.Q6J("ngIf",b.lockType===B.contactItemDetailLockType.UNLOCKED)}}function S(H,V){if(1&H&&p._UZ(0,"contacts-card-disabled-email",11),2&H){const b=p.oxw(2);p.Q6J("emailCount",b.lockedEmailCount)("contactIsUpdateable",b.contactIsUpdateable)("onlyLocked",!0)}}function I(H,V){if(1&H&&p._UZ(0,"contacts-card-disabled-phone",12),2&H){const b=p.oxw(2);p.Q6J("phoneCount",b.lockedPhoneCount)("contactIsUpdateable",b.contactIsUpdateable)("onlyLocked",!0)}}function T(H,V){if(1&H&&(p.ynx(0),p.TgZ(1,"div",2),p.YNc(2,C,2,1,"ng-container",3),p.YNc(3,S,1,3,"contacts-card-disabled-email",4),p.YNc(4,I,1,3,"contacts-card-disabled-phone",5),p.qZA(),p.BQk()),2&H){const b=p.oxw();p.xp6(2),p.Q6J("ngForOf",b.contactState.details),p.xp6(1),p.Q6J("ngIf",b.lockedEmailCount),p.xp6(1),p.Q6J("ngIf",b.lockedPhoneCount)}}function N(H,V){1&H&&p._UZ(0,"contacts-card-disabled-email",15),2&H&&p.Q6J("emailCount",V.ngIf)("onlyLocked",!1)}function x(H,V){1&H&&p._UZ(0,"contacts-card-disabled-phone",16),2&H&&p.Q6J("phoneCount",V.ngIf)("onlyLocked",!1)}function s(H,V){if(1&H&&(p.YNc(0,N,1,2,"contacts-card-disabled-email",13),p.ALo(1,"async"),p.YNc(2,x,1,2,"contacts-card-disabled-phone",14),p.ALo(3,"async")),2&H){const b=p.oxw();p.Q6J("ngIf",p.lcZ(1,2,b.emailCount$)),p.xp6(2),p.Q6J("ngIf",p.lcZ(3,4,b.phoneCount$))}}let E=(()=>{class H{constructor(b){this.store=b,this.displayMode="full",this.contactItemDetailLockType=e.bw,this.contactItemMethodType=e.$U}ngOnChanges(){const{uuid:b}=this.contactState.contact;this.emailCount$=this.store.select((0,e.o)(b)),this.phoneCount$=this.store.select((0,e.H2)(b)),this.lockedPhoneCount=(0,i.j4)(this.contactState),this.lockedEmailCount=(0,i.Vn)(this.contactState),this.contactIsUpdateable=(0,i.XF)(this.contactState)}}return H.\u0275fac=function(b){return new(b||H)(p.Y36(l.yh))},H.\u0275cmp=p.Xpm({type:H,selectors:[["contact-items-details"]],hostVars:2,hostBindings:function(b,B){2&b&&p.Tol(B.displayMode)},inputs:{contactState:"contactState",displayMode:"displayMode",organizationId:"organizationId"},features:[p.TTD],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["compact",""],[1,"detail-items"],[4,"ngFor","ngForOf"],[3,"emailCount","contactIsUpdateable","onlyLocked",4,"ngIf"],[3,"phoneCount","contactIsUpdateable","onlyLocked",4,"ngIf"],[4,"ngIf"],[3,"email","contactId","organizationId",4,"ngIf"],[3,"phone",4,"ngIf"],[3,"email","contactId","organizationId"],[3,"phone"],[3,"emailCount","contactIsUpdateable","onlyLocked"],[3,"phoneCount","contactIsUpdateable","onlyLocked"],[3,"emailCount","onlyLocked",4,"ngIf"],[3,"phoneCount","onlyLocked",4,"ngIf"],[3,"emailCount","onlyLocked"],[3,"phoneCount","onlyLocked"]],template:function(b,B){if(1&b&&(p.YNc(0,T,5,3,"ng-container",0),p.YNc(1,s,4,6,"ng-template",null,1,p.W1O)),2&b){const Q=p.MAs(2);p.Q6J("ngIf","full"===B.displayMode||"fullRow"===B.displayMode)("ngIfElse",Q)}},directives:[y.O5,y.sg,r,o.s,_.G,n.k],pipes:[y.Ov],styles:["[_nghost-%COMP%]{display:block}contacts-card-unlocked-email[_ngcontent-%COMP%], contacts-card-unlocked-phone[_ngcontent-%COMP%], contacts-card-disabled-email[_ngcontent-%COMP%], contacts-card-disabled-phone[_ngcontent-%COMP%]{line-height:20px}.full[_nghost-%COMP%]   contacts-card-unlocked-email[_ngcontent-%COMP%], .full[_nghost-%COMP%]   contacts-card-unlocked-phone[_ngcontent-%COMP%], .full[_nghost-%COMP%]   contacts-card-disabled-email[_ngcontent-%COMP%], .full[_nghost-%COMP%]   contacts-card-disabled-phone[_ngcontent-%COMP%]{margin-bottom:8px}.full[_nghost-%COMP%]   contacts-card-unlocked-email[_ngcontent-%COMP%]:last-child, .full[_nghost-%COMP%]   contacts-card-unlocked-phone[_ngcontent-%COMP%]:last-child, .full[_nghost-%COMP%]   contacts-card-disabled-email[_ngcontent-%COMP%]:last-child, .full[_nghost-%COMP%]   contacts-card-disabled-phone[_ngcontent-%COMP%]:last-child{margin-bottom:0}.fullRow[_nghost-%COMP%]   .detail-items[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin-top:-8px}.fullRow[_nghost-%COMP%]   .detail-items[_ngcontent-%COMP%]   contacts-card-unlocked-email[_ngcontent-%COMP%], .fullRow[_nghost-%COMP%]   .detail-items[_ngcontent-%COMP%]   contacts-card-unlocked-phone[_ngcontent-%COMP%], .fullRow[_nghost-%COMP%]   .detail-items[_ngcontent-%COMP%]   contacts-card-disabled-email[_ngcontent-%COMP%], .fullRow[_nghost-%COMP%]   .detail-items[_ngcontent-%COMP%]   contacts-card-disabled-phone[_ngcontent-%COMP%]{margin-right:16px;margin-top:8px}.fullRow[_nghost-%COMP%]   .detail-items[_ngcontent-%COMP%]   contacts-card-unlocked-phone[_ngcontent-%COMP%]{display:flex;align-items:center}.compact[_nghost-%COMP%]   contacts-card-disabled-email[_ngcontent-%COMP%], .compact[_nghost-%COMP%]   contacts-card-disabled-phone[_ngcontent-%COMP%]{color:#666}.entity-loading[_nghost-%COMP%], .entity-loading   [_nghost-%COMP%]{background-color:#e9e9e9!important;color:transparent!important}"],changeDetection:0}),H})()},30807:(oe,L,t)=>{t.d(L,{G:()=>v});var e=t(3184),i=t(36362),p=t(74160),l=t(74929);function y(h,C){1&h&&(e.ynx(0),e.SDv(1,4),e.BQk())}const d=function(h){return{number:h}};function g(h,C){if(1&h&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&h){const S=e.oxw(3);e.xp6(1),e.hij(" ",e.xi3(2,1,"CBL.ENTITY.CONTACTS_CARD.DETAILS.MULTIPLE_EMAILS",e.VKq(4,d,S.emailCount))," ")}}function f(h,C){if(1&h&&(e.ynx(0),e.YNc(1,y,2,0,"ng-container",3),e.YNc(2,g,3,6,"ng-container",3),e.BQk()),2&h){const S=e.oxw(2);e.xp6(1),e.Q6J("ngIf",1===S.emailCount),e.xp6(1),e.Q6J("ngIf",S.emailCount>1)}}function a(h,C){1&h&&(e.ynx(0),e.SDv(1,5),e.BQk())}function c(h,C){if(1&h&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&h){const S=e.oxw(3);e.xp6(1),e.hij(" ",e.xi3(2,1,"CBL.ENTITY.CONTACTS_CARD.DETAILS.MULTIPLE_NEW_EMAILS",e.VKq(4,d,S.emailCount))," ")}}function r(h,C){if(1&h&&(e.ynx(0),e.YNc(1,a,2,0,"ng-container",3),e.YNc(2,c,3,6,"ng-container",3),e.BQk()),2&h){const S=e.oxw(2);e.xp6(1),e.Q6J("ngIf",1===S.emailCount),e.xp6(1),e.Q6J("ngIf",S.emailCount>1)}}function o(h,C){if(1&h&&(e.TgZ(0,"label-with-icon",2),e.YNc(1,f,3,2,"ng-container",3),e.YNc(2,r,3,2,"ng-container",3),e.qZA()),2&h){const S=e.oxw();e.xp6(1),e.Q6J("ngIf",!S.contactIsUpdateable),e.xp6(1),e.Q6J("ngIf",S.contactIsUpdateable)}}function _(h,C){1&h&&(e.ynx(0),e.SDv(1,7),e.BQk())}function n(h,C){if(1&h&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&h){const S=e.oxw(2);e.xp6(1),e.Oqu(e.xi3(2,1,"CBL.ENTITY.CONTACTS_CARD.DETAILS_COMPACT.EMAIL_COUNT_PLURAL",e.VKq(4,d,S.emailCount)))}}function m(h,C){if(1&h&&(e.TgZ(0,"label-with-icon",6),e.YNc(1,_,2,0,"ng-container",3),e.YNc(2,n,3,6,"ng-container",3),e.qZA()),2&h){const S=e.oxw();e.xp6(1),e.Q6J("ngIf",1===S.emailCount),e.xp6(1),e.Q6J("ngIf",S.emailCount>1)}}let v=(()=>{class h{}return h.\u0275fac=function(S){return new(S||h)},h.\u0275cmp=e.Xpm({type:h,selectors:[["contacts-card-disabled-email"]],inputs:{emailCount:"emailCount",contactIsUpdateable:"contactIsUpdateable",onlyLocked:"onlyLocked"},decls:2,vars:2,consts:function(){let C,S,I;return C=$localize`:␟77bce80285dc8b0e3f4cb79f67841b4e3162a05f␟9198703476996637132: 1 email found `,S=$localize`:␟7d857828a3770c17d46b3b3e0bd6ea6debcc21fb␟1054301209757743488: 1 new email found `,I=$localize`:␟193d48748d1bf2e636cd7fd0e34a720aa3762993␟5639316769058570319:1 email address`,[["iconKey","icon_email","color","inherit",4,"ngIf"],["iconKey","icon_email","iconColor","inherit",4,"ngIf"],["iconKey","icon_email","color","inherit"],[4,"ngIf"],C,S,["iconKey","icon_email","iconColor","inherit"],I]},template:function(S,I){1&S&&(e.YNc(0,o,3,2,"label-with-icon",0),e.YNc(1,m,3,2,"label-with-icon",1)),2&S&&(e.Q6J("ngIf",I.onlyLocked),e.xp6(1),e.Q6J("ngIf",!I.onlyLocked))},directives:[i.O5,p.d],pipes:[l.X],styles:["[_nghost-%COMP%]{display:flex;color:#666}.entity-loading[_nghost-%COMP%], .entity-loading   [_nghost-%COMP%]{background-color:#e9e9e9!important;color:transparent!important}"],changeDetection:0}),h})()},19575:(oe,L,t)=>{t.d(L,{k:()=>v});var e=t(3184),i=t(36362),p=t(74160),l=t(74929);function y(h,C){1&h&&(e.ynx(0),e.SDv(1,4),e.BQk())}const d=function(h){return{number:h}};function g(h,C){if(1&h&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&h){const S=e.oxw(3);e.xp6(1),e.hij(" ",e.xi3(2,1,"CBL.ENTITY.CONTACTS_CARD.DETAILS.MULTIPLE_PHONE_NUMBERS",e.VKq(4,d,S.phoneCount))," ")}}function f(h,C){if(1&h&&(e.ynx(0),e.YNc(1,y,2,0,"ng-container",3),e.YNc(2,g,3,6,"ng-container",3),e.BQk()),2&h){const S=e.oxw(2);e.xp6(1),e.Q6J("ngIf",1===S.phoneCount),e.xp6(1),e.Q6J("ngIf",S.phoneCount>1)}}function a(h,C){1&h&&(e.ynx(0),e.SDv(1,5),e.BQk())}function c(h,C){if(1&h&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&h){const S=e.oxw(3);e.xp6(1),e.hij(" ",e.xi3(2,1,"CBL.ENTITY.CONTACTS_CARD.DETAILS.MULTIPLE_NEW_PHONE_NUMBERS",e.VKq(4,d,S.phoneCount))," ")}}function r(h,C){if(1&h&&(e.ynx(0),e.YNc(1,a,2,0,"ng-container",3),e.YNc(2,c,3,6,"ng-container",3),e.BQk()),2&h){const S=e.oxw(2);e.xp6(1),e.Q6J("ngIf",1===S.phoneCount),e.xp6(1),e.Q6J("ngIf",S.phoneCount>1)}}function o(h,C){if(1&h&&(e.TgZ(0,"label-with-icon",2),e.YNc(1,f,3,2,"ng-container",3),e.YNc(2,r,3,2,"ng-container",3),e.qZA()),2&h){const S=e.oxw();e.xp6(1),e.Q6J("ngIf",!S.contactIsUpdateable),e.xp6(1),e.Q6J("ngIf",S.contactIsUpdateable)}}function _(h,C){1&h&&(e.ynx(0),e.SDv(1,7),e.BQk())}function n(h,C){if(1&h&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&h){const S=e.oxw(2);e.xp6(1),e.Oqu(e.xi3(2,1,"CBL.ENTITY.CONTACTS_CARD.DETAILS_COMPACT.PHONE_COUNT_PLURAL",e.VKq(4,d,S.phoneCount)))}}function m(h,C){if(1&h&&(e.TgZ(0,"label-with-icon",6),e.YNc(1,_,2,0,"ng-container",3),e.YNc(2,n,3,6,"ng-container",3),e.qZA()),2&h){const S=e.oxw();e.xp6(1),e.Q6J("ngIf",1===S.phoneCount),e.xp6(1),e.Q6J("ngIf",S.phoneCount>1)}}let v=(()=>{class h{}return h.\u0275fac=function(S){return new(S||h)},h.\u0275cmp=e.Xpm({type:h,selectors:[["contacts-card-disabled-phone"]],inputs:{phoneCount:"phoneCount",contactIsUpdateable:"contactIsUpdateable",onlyLocked:"onlyLocked"},decls:2,vars:2,consts:function(){let C,S,I;return C=$localize`:␟426619edfb39563e9a0faeceb18f4b48b1fcfff7␟1325398843046675583: 1 phone number found `,S=$localize`:␟b1b0d8d2bc58809eb97869a5d218e73b1c400534␟5427066110691729362: 1 new phone number found `,I=$localize`:␟4de562a4bef6d724d43549088860764a995661b0␟3150743125840346239:1 phone number`,[["iconKey","icon_phone","color","inherit",4,"ngIf"],["iconKey","icon_phone","iconColor","inherit",4,"ngIf"],["iconKey","icon_phone","color","inherit"],[4,"ngIf"],C,S,["iconKey","icon_phone","iconColor","inherit"],I]},template:function(S,I){1&S&&(e.YNc(0,o,3,2,"label-with-icon",0),e.YNc(1,m,3,2,"label-with-icon",1)),2&S&&(e.Q6J("ngIf",I.onlyLocked),e.xp6(1),e.Q6J("ngIf",!I.onlyLocked))},directives:[i.O5,p.d],pipes:[l.X],styles:["[_nghost-%COMP%]{display:flex;color:#666}.entity-loading[_nghost-%COMP%], .entity-loading   [_nghost-%COMP%]{background-color:#e9e9e9!important;color:transparent!important}"],changeDetection:0}),h})()},30918:(oe,L,t)=>{t.d(L,{s:()=>d});var e=t(3184),i=t(32478),p=t(40089),l=t(46036),y=t(96657);let d=(()=>{class g{formatNumber(a){return"tel:"+a}}return g.\u0275fac=function(a){return new(a||g)},g.\u0275cmp=e.Xpm({type:g,selectors:[["contacts-card-unlocked-phone"]],inputs:{phone:"phone"},decls:4,vars:4,consts:[["key","icon_phone","color","accent",3,"matTooltip"],["data-cy","contact-unlocked-phone-number",3,"href"],[3,"clipboard"]],template:function(a,c){1&a&&(e._UZ(0,"icon",0),e.TgZ(1,"a",1),e._uU(2),e.qZA(),e._UZ(3,"copy-to-clipboard",2)),2&a&&(e.Q6J("matTooltip",c.phone.tooltip),e.xp6(1),e.Q6J("href",c.formatNumber(c.phone.number),e.LSH),e.xp6(1),e.hij(" ",c.phone.number,"\n"),e.xp6(1),e.Q6J("clipboard",c.phone.number))},directives:[i.o,p.gM,l.n,y.F],styles:["[_nghost-%COMP%]{display:flex;align-items:center;font-weight:500}a[_ngcontent-%COMP%]{color:#183444;margin:0 6px 0 8px}.entity-loading[_nghost-%COMP%], .entity-loading   [_nghost-%COMP%]{background-color:#e9e9e9!important;color:transparent!important}"],changeDetection:0}),g})()},49029:(oe,L,t)=>{t.d(L,{t:()=>g});var e=t(3184),i=t(36362),p=t(74929);function l(f,a){1&f&&(e.TgZ(0,"span",8),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&f&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"CBL.INPUTS.DATE_PRECISION.MONTH")))}function y(f,a){1&f&&(e.TgZ(0,"span",8),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&f&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"CBL.INPUTS.DATE_PRECISION.YEAR")))}const d=["*"];let g=(()=>{class f{}return f.\u0275fac=function(c){return new(c||f)},f.\u0275cmp=e.Xpm({type:f,selectors:[["contact-plan"]],inputs:{plan:"plan"},ngContentSelectors:d,decls:18,vars:18,consts:function(){let a;return a=$localize`:␟f51ed9751c2b069cf5d5b5a2df801366eb203e10␟8785122281012266870:Best Seller`,[[1,"plan"],[1,"best-seller-banner"],a,[1,"header"],[1,"subheader"],[1,"upsell-text"],[1,"price"],["class","frequency",4,"ngIf"],[1,"frequency"]]},template:function(c,r){1&c&&(e.F$t(),e.TgZ(0,"div",0)(1,"div",1),e.SDv(2,2),e.qZA(),e.TgZ(3,"div",3),e._uU(4),e.qZA(),e.TgZ(5,"div",4),e._uU(6),e.ALo(7,"translate"),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"div",5)(10,"div")(11,"span",6),e._uU(12),e.ALo(13,"currency"),e.qZA(),e._uU(14," / "),e.YNc(15,l,3,3,"span",7),e.YNc(16,y,3,3,"span",7),e.qZA()(),e.Hsn(17),e.qZA()),2&c&&(e.ekj("best-seller-plan",r.plan.isBestSeller),e.xp6(4),e.hij(" ",r.plan.name," "),e.xp6(2),e.lnq(" ",e.lcZ(7,9,"CBL.COMMON.VIEW")," ",r.plan.name," / ",e.lcZ(8,11,"CBL.INPUTS.DATE_PRECISION.MONTH")," "),e.xp6(6),e.Oqu(e.gM2(13,13,r.plan.price,"USD","symbol","1.0-0")),e.xp6(3),e.Q6J("ngIf","monthly"===r.plan.frequency),e.xp6(1),e.Q6J("ngIf","yearly"===r.plan.frequency))},directives:[i.O5],pipes:[p.X,i.H9],styles:[".plan[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;box-shadow:0 3px 1px -2px #0003,0 2px 2px #00000024,0 1px 5px #0000001f;padding:16px 0;border:1px solid #f5a623;border-radius:6px}.plan[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{padding:8px 16px;font-size:20px;font-weight:500}.plan[_ngcontent-%COMP%]   .subheader[_ngcontent-%COMP%]{padding:0 16px}.plan[_ngcontent-%COMP%]   .frequency[_ngcontent-%COMP%]{text-transform:capitalize}.plan[_ngcontent-%COMP%]   .best-seller-banner[_ngcontent-%COMP%]{display:none}.plan[_ngcontent-%COMP%]   .upsell-text[_ngcontent-%COMP%]{border-radius:6px;background-color:#fef4e5;padding:8px 0;margin:16px 0;display:flex;flex-direction:column;width:calc(100% - 32px)}.plan[_ngcontent-%COMP%]   .upsell-text[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:2px 16px}.plan[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{padding-top:2px;font-size:16px;font-weight:500}.best-seller-plan[_ngcontent-%COMP%]{border-radius:0 0 6px 6px;margin:40px 0 20px}@media (min-width: 960px){.best-seller-plan[_ngcontent-%COMP%]{margin:0 32px}}.best-seller-plan[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{margin-top:20px}.best-seller-plan[_ngcontent-%COMP%]   .best-seller-banner[_ngcontent-%COMP%]{margin-top:-40px;background-color:#f5a623;border-radius:6px 6px 0 0;display:flex;justify-content:center;text-transform:uppercase;font-size:12px;font-weight:500;padding:4px 0;border:1px solid #f5a623;width:100%}"],changeDetection:0}),f})()},49115:(oe,L,t)=>{t.d(L,{Q:()=>l});var e=t(36362),i=t(35503),p=t(3184);let l=(()=>{class y{}return y.\u0275fac=function(g){return new(g||y)},y.\u0275mod=p.oAB({type:y}),y.\u0275inj=p.cJS({imports:[[i.Dt,e.ez]]}),y})()},43924:(oe,L,t)=>{t.d(L,{K:()=>p});var e=t(13074),i=t(3184);let p=(()=>{class l{constructor(d){this.urlService=d,this.enterpriseLink=this.urlService.getEnterpriseUrl()}}return l.\u0275fac=function(d){return new(d||l)(i.Y36(e.iO))},l.\u0275cmp=i.Xpm({type:l,selectors:[["contact-sales-link"]],decls:5,vars:1,consts:function(){let y,d;return y=$localize`:␟337819a15429f3cd48f8de55c780ec69aa0c07f8␟8687321669548327325:Need More Contacts?`,d=$localize`:␟c34fed53a141269dec0ff01ab03f971dea75558d␟3528572100761547767: Talk To Sales `,[[1,"enterprise-link"],y,["target","_blank",3,"href"],d]},template:function(d,g){1&d&&(i.TgZ(0,"div",0)(1,"div"),i.SDv(2,1),i.qZA(),i.TgZ(3,"a",2),i.SDv(4,3),i.qZA()()),2&d&&(i.xp6(3),i.Q6J("href",g.enterpriseLink,i.LSH))},styles:[".enterprise-link[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding-top:16px}@media (min-width: 960px){.enterprise-link[_ngcontent-%COMP%]{padding-top:unset}}.enterprise-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#146aff;text-decoration:none;font-weight:500;cursor:pointer;padding-left:2px}.enterprise-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}"],changeDetection:0}),l})()},88060:(oe,L,t)=>{t.d(L,{J:()=>y});var e=t(3531),i=t(843),p=t(86942),l=t(3184);let y=(()=>{class d{constructor(f){this.permissionService=f}getButtonsState(f){const a=(0,e.Jn)(f),c=(0,e.SN)(f),r=(0,e.OX)(f),o=(0,e.T2)(f);return this.permissionService.getPermissions().pipe((0,p.U)(_=>{const n=_.canUnlockContacts(),m=this.getState(n,a,r),v=this.getState(n,c,o),h=this.getState(n,c,o);return{engage:h,outreach:v,salesforce:m,hasActions:[m,v,h].some(C=>"hidden"!==C)}}))}getState(f,a,c){return a?f?c?"enabled":"locked":"upsell":"hidden"}}return d.\u0275fac=function(f){return new(f||d)(l.LFG(i.$))},d.\u0275prov=l.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})()},70898:(oe,L,t)=>{t.d(L,{C:()=>It});var e=t(3184),i=t(3531),p=t(90808),l=t(83910),y=t(59151),d=t(86942),g=t(88060),f=t(25848),a=t(35585),c=t(36362),r=t(81212),o=t(24993),_=t(61456),n=t(5765),m=t(94882),v=t(88629),h=t(5149),C=t(87317),S=t(40089),I=t(82262),T=t(20757),N=t(22972);function x(Ue,we){if(1&Ue){const De=e.EpF();e.TgZ(0,"button",4),e.NdJ("overlayToggled",function(Le){return e.CHM(De),e.oxw(3).overlayToggled(Le)})("click",function(){e.CHM(De);const Le=e.oxw().ngIf,Fe=e.oxw(2);return Le.isCrmConnected?void 0:Fe.showConnectToSalesforceDialog()}),e.ALo(1,"async"),e.ALo(2,"async"),e._UZ(3,"theme-icon",5),e.qZA()}if(2&Ue){const De=e.oxw().ngIf,ae=e.oxw(2);e.ekj("icon-button-active",ae.overlayIsOpen),e.Q6J("matTooltip",e.lcZ(1,8,ae.tooltip$))("overlayWithArrow",ae.salesforceOverlayComponent)("overlayPayload",ae.overlayPayload)("overlayScrollStrategy","reposition")("overlayDisabled",!De.isCrmConnected),e.uIk("aria-label",e.lcZ(2,10,ae.tooltip$))}}function s(Ue,we){if(1&Ue&&(e.ynx(0),e.YNc(1,x,4,12,"button",3),e.BQk()),2&Ue){e.oxw();const De=e.MAs(4),ae=e.oxw();e.xp6(1),e.Q6J("ngIf",!ae.isLocked)("ngIfElse",De)}}function E(Ue,we){if(1&Ue){const De=e.EpF();e.TgZ(0,"button",6),e.NdJ("click",function(){return e.CHM(De),e.oxw(2).lockedClick.emit()}),e._UZ(1,"theme-icon",5),e.qZA()}if(2&Ue){const De=e.oxw(2);e.Q6J("matTooltip",De.i18nStrings.unlockAndSalesforce),e.uIk("aria-label",De.i18nStrings.unlockAndSalesforce)}}function H(Ue,we){if(1&Ue&&(e.ynx(0),e.YNc(1,s,2,2,"ng-container",0),e.ALo(2,"async"),e.YNc(3,E,2,2,"ng-template",null,2,e.W1O),e.BQk()),2&Ue){const De=e.oxw();e.xp6(1),e.Q6J("ngIf",e.lcZ(2,1,De.isCrmConnectedObject$))}}function V(Ue,we){if(1&Ue&&(e.TgZ(0,"button",7),e.ALo(1,"async"),e.ALo(2,"async"),e._UZ(3,"theme-icon",5),e.qZA()),2&Ue){const De=e.oxw();e.Q6J("matTooltip",e.lcZ(1,5,De.tooltip$))("upsellTrigger","connect_crm")("upsellTriggerLocation","contact-row-unlock-button")("upsellShowDetails",!0),e.uIk("aria-label",e.lcZ(2,7,De.tooltip$))}}let b=(()=>{class Ue{constructor(De,ae,Le,Fe,dt){this.pushContactToSalesforceService=De,this.contactsPushPreferenceService=ae,this.labelService=Le,this.store=Fe,this.element=dt,this.showUpsell=!1,this.isLocked=!1,this.openOnInit=!1,this.lockedClick=new e.vpe,this.i18nStrings={pushToSalesforce:$localize`:Transfer contact information to Salesforce CRM:Push to Salesforce`,pushContact:$localize`:Transfer contact information to another service:Push Contact`,pushLead:$localize`:Transfer contact information for a sales lead to another service:Push Lead`,unlockAndSalesforce:$localize`:view contact information and transfer contact information for a sales lead to another service:View and push to Salesforce`},this.tooltip$=this.contactsPushPreferenceService.getPreference$().pipe((0,d.U)(Ye=>"contact"===Ye?this.i18nStrings.pushContact:"lead"===Ye?this.i18nStrings.pushLead:this.i18nStrings.pushToSalesforce)),this.salesforceOverlayComponent=v.J,this.isCrmConnectedObject$=this.store.select(h.k2).pipe((0,d.U)(Ye=>({isCrmConnected:Ye}))),this.overlayIsOpen=!1,this.openedOnInit=!1}ngOnInit(){this.overlayPayload={contactState:this.contactState,organizationId:this.organizationId}}ngAfterViewChecked(){this.openOnInit&&!this.openedOnInit&&(this.element.nativeElement.querySelector("button").click(),this.store.dispatch((0,p.M5)()),this.openedOnInit=!0)}showConnectToSalesforceDialog(){this.pushContactToSalesforceService.showPreConnectDialog()}overlayToggled(De){this.overlayIsOpen=De}}return Ue.\u0275fac=function(De){return new(De||Ue)(e.Y36(_.u),e.Y36(n.f),e.Y36(m.Q),e.Y36(a.yh),e.Y36(e.SBq))},Ue.\u0275cmp=e.Xpm({type:Ue,selectors:[["contacts-card-sf-push-button"]],inputs:{contactState:"contactState",organizationId:"organizationId",showUpsell:"showUpsell",isLocked:"isLocked",openOnInit:"openOnInit"},outputs:{lockedClick:"lockedClick"},decls:2,vars:2,consts:[[4,"ngIf"],["mat-icon-button","",3,"matTooltip","upsellTrigger","upsellTriggerLocation","upsellShowDetails",4,"ngIf"],["lockedButton",""],["mat-icon-button","","data-cy","push-to-lead-button","data-heap-contact-push-lead","",3,"matTooltip","overlayWithArrow","overlayPayload","overlayScrollStrategy","overlayDisabled","icon-button-active","overlayToggled","click",4,"ngIf","ngIfElse"],["mat-icon-button","","data-cy","push-to-lead-button","data-heap-contact-push-lead","",3,"matTooltip","overlayWithArrow","overlayPayload","overlayScrollStrategy","overlayDisabled","overlayToggled","click"],["themeId","salesforce","color","theme"],["mat-icon-button","",3,"matTooltip","click"],["mat-icon-button","",3,"matTooltip","upsellTrigger","upsellTriggerLocation","upsellShowDetails"]],template:function(De,ae){1&De&&(e.YNc(0,H,5,3,"ng-container",0),e.YNc(1,V,4,9,"button",1)),2&De&&(e.Q6J("ngIf",!ae.showUpsell),e.xp6(1),e.Q6J("ngIf",ae.showUpsell))},directives:[c.O5,C.lW,S.gM,I.a,T.p,N.k],pipes:[c.Ov],styles:[".icon-button-active[_ngcontent-%COMP%]{background-color:#e3e7e9}"],changeDetection:0}),Ue})();var B=t(55940),Q=t(23148),$=t(2384),W=t(35768),q=t(74929);function le(Ue,we){if(1&Ue){const De=e.EpF();e.TgZ(0,"button",6),e.NdJ("overlayToggled",function(Le){return e.CHM(De),e.oxw(3).overlayToggled(Le)}),e.ALo(1,"translate"),e.ALo(2,"translate"),e._UZ(3,"theme-icon",7),e.qZA()}if(2&Ue){const De=e.oxw(3);e.ekj("icon-button-active",De.overlayIsOpen),e.Q6J("matTooltip",e.lcZ(1,7,"CBL.ENTITY.CONTACTS_CARD.TAKE_ACTION.OUTREACH"))("overlayWithArrow",De.outreachOverlayComponent)("overlayPayload",De.getOutreachOverlayPayload())("overlayScrollStrategy","reposition"),e.uIk("aria-label",e.lcZ(2,9,"CBL.ENTITY.CONTACTS_CARD.TAKE_ACTION.OUTREACH"))}}function J(Ue,we){if(1&Ue&&(e.ynx(0),e.YNc(1,le,4,11,"button",5),e.BQk()),2&Ue){const De=e.oxw(2),ae=e.MAs(4);e.xp6(1),e.Q6J("ngIf",!De.isLocked)("ngIfElse",ae)}}function u(Ue,we){if(1&Ue&&(e.ynx(0),e.YNc(1,J,2,2,"ng-container",4),e.ALo(2,"async"),e.BQk()),2&Ue){const De=e.oxw(),ae=e.MAs(2);e.xp6(1),e.Q6J("ngIf",e.lcZ(2,2,De.isOutreachConnected$))("ngIfElse",ae)}}function D(Ue,we){if(1&Ue){const De=e.EpF();e.TgZ(0,"button",9),e.NdJ("click",function(){return e.CHM(De),e.oxw(2).showOutreachConnectDialog()}),e.ALo(1,"translate"),e.ALo(2,"translate"),e._UZ(3,"theme-icon",7),e.qZA()}2&Ue&&(e.Q6J("matTooltip",e.lcZ(1,2,"CBL.ENTITY.CONTACTS_CARD.TAKE_ACTION.OUTREACH")),e.uIk("aria-label",e.lcZ(2,4,"CBL.ENTITY.CONTACTS_CARD.TAKE_ACTION.OUTREACH")))}function se(Ue,we){if(1&Ue&&e.YNc(0,D,4,6,"button",8),2&Ue){const De=e.oxw(),ae=e.MAs(4);e.Q6J("ngIf",!De.isLocked)("ngIfElse",ae)}}function ne(Ue,we){if(1&Ue){const De=e.EpF();e.TgZ(0,"button",9),e.NdJ("click",function(){return e.CHM(De),e.oxw().lockedClick.emit()}),e.ALo(1,"translate"),e.ALo(2,"translate"),e._UZ(3,"theme-icon",7),e.qZA()}2&Ue&&(e.Q6J("matTooltip",e.lcZ(1,2,"CBL.ENTITY.CONTACTS_CARD.TAKE_ACTION.UNLOCK_AND_OUTREACH")),e.uIk("aria-label",e.lcZ(2,4,"CBL.ENTITY.CONTACTS_CARD.TAKE_ACTION.UNLOCK_AND_OUTREACH")))}function _e(Ue,we){1&Ue&&(e.TgZ(0,"button",10),e.ALo(1,"translate"),e.ALo(2,"translate"),e._UZ(3,"theme-icon",11),e.qZA()),2&Ue&&(e.Q6J("matTooltip",e.lcZ(1,5,"CBL.ENTITY.CONTACTS_CARD.TAKE_ACTION.OUTREACH"))("upsellTrigger","outreach")("upsellShowDetails",!0),e.uIk("aria-label",e.lcZ(2,7,"CBL.ENTITY.CONTACTS_CARD.TAKE_ACTION.OUTREACH")),e.xp6(3),e.Q6J("color","theme"))}let ee=(()=>{class Ue{constructor(De,ae,Le){this.store=De,this.dialogService=ae,this.element=Le,this.showUpsell=!1,this.isLocked=!1,this.openOnInit=!1,this.lockedClick=new e.vpe,this.outreachOverlayComponent=B.a,this.isOutreachConnected$=this.store.select(Q.kO),this.overlayIsOpen=!1,this.openedOnInit=!1}ngAfterViewChecked(){this.openOnInit&&!this.openedOnInit&&(this.element.nativeElement.querySelector("button").click(),this.store.dispatch((0,p.M5)()),this.openedOnInit=!0)}getOutreachOverlayPayload(){return{contactState:this.contactState,organizationId:this.organizationId}}showOutreachConnectDialog(){this.dialogService.showDialog(W.K)}overlayToggled(De){this.overlayIsOpen=De}}return Ue.\u0275fac=function(De){return new(De||Ue)(e.Y36(a.yh),e.Y36($.x),e.Y36(e.SBq))},Ue.\u0275cmp=e.Xpm({type:Ue,selectors:[["contacts-card-outreach-button"]],inputs:{contactState:"contactState",organizationId:"organizationId",showUpsell:"showUpsell",isLocked:"isLocked",openOnInit:"openOnInit"},outputs:{lockedClick:"lockedClick"},decls:6,vars:2,consts:[[4,"ngIf"],["connectOutreach",""],["lockedButton",""],["mat-icon-button","",3,"matTooltip","upsellTrigger","upsellShowDetails",4,"ngIf"],[4,"ngIf","ngIfElse"],["mat-icon-button","",3,"matTooltip","overlayWithArrow","overlayPayload","overlayScrollStrategy","icon-button-active","overlayToggled",4,"ngIf","ngIfElse"],["mat-icon-button","",3,"matTooltip","overlayWithArrow","overlayPayload","overlayScrollStrategy","overlayToggled"],["themeId","outreach","color","theme"],["mat-icon-button","",3,"matTooltip","click",4,"ngIf","ngIfElse"],["mat-icon-button","",3,"matTooltip","click"],["mat-icon-button","",3,"matTooltip","upsellTrigger","upsellShowDetails"],["themeId","outreach",3,"color"]],template:function(De,ae){1&De&&(e.YNc(0,u,3,4,"ng-container",0),e.YNc(1,se,1,2,"ng-template",null,1,e.W1O),e.YNc(3,ne,4,6,"ng-template",null,2,e.W1O),e.YNc(5,_e,4,9,"button",3)),2&De&&(e.Q6J("ngIf",!ae.showUpsell),e.xp6(5),e.Q6J("ngIf",ae.showUpsell))},directives:[c.O5,C.lW,S.gM,I.a,T.p,N.k],pipes:[c.Ov,q.X],styles:[".icon-button-active[_ngcontent-%COMP%]{background-color:#e3e7e9}"],changeDetection:0}),Ue})();var w=t(70821),G=t(32478);function k(Ue,we){if(1&Ue){const De=e.EpF();e.TgZ(0,"button",4),e.NdJ("click",function(){return e.CHM(De),e.oxw(2).sendEmail()}),e.ALo(1,"translate"),e.ALo(2,"translate"),e._UZ(3,"icon",5),e.qZA()}2&Ue&&(e.Q6J("matTooltip",e.lcZ(1,2,"CBL.ENTITY.CONTACTS_CARD.TAKE_ACTION.SEND_EMAIL")),e.uIk("aria-label",e.lcZ(2,4,"CBL.ENTITY.CONTACTS_CARD.TAKE_ACTION.SEND_EMAIL")))}function X(Ue,we){if(1&Ue&&(e.ynx(0),e.YNc(1,k,4,6,"button",3),e.BQk()),2&Ue){const De=e.oxw(),ae=e.MAs(2);e.xp6(1),e.Q6J("ngIf",!De.isLocked)("ngIfElse",ae)}}function K(Ue,we){if(1&Ue){const De=e.EpF();e.TgZ(0,"button",6),e.NdJ("click",function(){return e.CHM(De),e.oxw().lockedClick.emit()}),e.ALo(1,"translate"),e.ALo(2,"translate"),e._UZ(3,"icon",5),e.qZA()}2&Ue&&(e.Q6J("matTooltip",e.lcZ(1,2,"CBL.ENTITY.CONTACTS_CARD.TAKE_ACTION.UNLOCK_AND_EMAIL")),e.uIk("aria-label",e.lcZ(2,4,"CBL.ENTITY.CONTACTS_CARD.TAKE_ACTION.UNLOCK_AND_EMAIL")))}function te(Ue,we){1&Ue&&(e.TgZ(0,"button",7),e.ALo(1,"translate"),e.ALo(2,"translate"),e._UZ(3,"icon",8),e.qZA()),2&Ue&&(e.Q6J("matTooltip",e.lcZ(1,4,"CBL.ENTITY.CONTACTS_CARD.TAKE_ACTION.SEND_EMAIL"))("upsellTrigger","engage")("upsellShowDetails",!0),e.uIk("aria-label",e.lcZ(2,6,"CBL.ENTITY.CONTACTS_CARD.TAKE_ACTION.SEND_EMAIL")))}let Ie=(()=>{class Ue{constructor(De,ae){this.engageService=De,this.store=ae,this.showUpsell=!1,this.isLocked=!1,this.openOnInit=!1,this.lockedClick=new e.vpe}ngOnChanges(){var De,ae;this.openOnInit&&(null===(ae=null===(De=this.contactState)||void 0===De?void 0:De.contact)||void 0===ae?void 0:ae.uuid)&&this.organizationId&&(this.sendEmail(),this.store.dispatch((0,p.M5)()))}sendEmail(){this.engageService.sendEmail(this.contactState.contact.uuid,this.organizationId)}}return Ue.\u0275fac=function(De){return new(De||Ue)(e.Y36(w.q7),e.Y36(a.yh))},Ue.\u0275cmp=e.Xpm({type:Ue,selectors:[["contacts-card-engage-button"]],inputs:{contactState:"contactState",organizationId:"organizationId",showUpsell:"showUpsell",isLocked:"isLocked",openOnInit:"openOnInit"},outputs:{lockedClick:"lockedClick"},features:[e.TTD],decls:4,vars:2,consts:[[4,"ngIf"],["lockedButton",""],["mat-icon-button","",3,"matTooltip","upsellTrigger","upsellShowDetails",4,"ngIf"],["mat-icon-button","","data-heap-contact-send-email","",3,"matTooltip","click",4,"ngIf","ngIfElse"],["mat-icon-button","","data-heap-contact-send-email","",3,"matTooltip","click"],["key","icon_engage","color","accent"],["mat-icon-button","",3,"matTooltip","click"],["mat-icon-button","",3,"matTooltip","upsellTrigger","upsellShowDetails"],["key","icon_engage"]],template:function(De,ae){1&De&&(e.YNc(0,X,2,2,"ng-container",0),e.YNc(1,K,4,6,"ng-template",null,1,e.W1O),e.YNc(3,te,4,8,"button",2)),2&De&&(e.Q6J("ngIf",!ae.showUpsell),e.xp6(3),e.Q6J("ngIf",ae.showUpsell))},directives:[c.O5,C.lW,S.gM,G.o,N.k],pipes:[q.X],encapsulation:2,changeDetection:0}),Ue})();function Te(Ue,we){if(1&Ue){const De=e.EpF();e.TgZ(0,"contacts-card-unlock-button",4),e.NdJ("onClick",function(){return e.CHM(De),e.oxw().onUnlockClick.emit()}),e.qZA()}if(2&Ue){const De=e.oxw();e.Q6J("contactState",De.contactState)("contactIsUnlocking",De.contactIsUnlocking)("contactsLoading",De.contactsLoading)("anyContactIsUnlocking",De.anyContactIsUnlocking)}}function ce(Ue,we){if(1&Ue&&e._UZ(0,"save-to-list-button",5),2&Ue){const De=e.oxw();e.Q6J("entityId",De.contactState.contact.uuid)("entityDefId",De.contactsEntityDef)}}function Re(Ue,we){if(1&Ue){const De=e.EpF();e.TgZ(0,"contacts-card-sf-push-button",9),e.NdJ("lockedClick",function(){return e.CHM(De),e.oxw(3).onUnlockClick.emit("salesforce-button")}),e.ALo(1,"async"),e.qZA()}if(2&Ue){const De=e.oxw(2).ngIf,ae=e.oxw();e.Q6J("contactState",ae.contactState)("organizationId",ae.organizationId)("isLocked","locked"===De.salesforce)("showUpsell","upsell"===De.salesforce)("openOnInit","salesforce-button"===e.lcZ(1,5,ae.openOnInit$))}}function fe(Ue,we){if(1&Ue){const De=e.EpF();e.TgZ(0,"contacts-card-outreach-button",9),e.NdJ("lockedClick",function(){return e.CHM(De),e.oxw(3).onUnlockClick.emit("outreach-button")}),e.ALo(1,"async"),e.qZA()}if(2&Ue){const De=e.oxw(2).ngIf,ae=e.oxw();e.Q6J("contactState",ae.contactState)("organizationId",ae.organizationId)("isLocked","locked"===De.outreach)("showUpsell","upsell"===De.outreach)("openOnInit","outreach-button"===e.lcZ(1,5,ae.openOnInit$))}}function ye(Ue,we){if(1&Ue){const De=e.EpF();e.TgZ(0,"contacts-card-engage-button",9),e.NdJ("lockedClick",function(){return e.CHM(De),e.oxw(3).onUnlockClick.emit("engage-button")}),e.ALo(1,"async"),e.qZA()}if(2&Ue){const De=e.oxw(2).ngIf,ae=e.oxw();e.Q6J("contactState",ae.contactState)("organizationId",ae.organizationId)("isLocked","locked"===De.engage)("showUpsell","upsell"===De.engage)("openOnInit","engage-button"===e.lcZ(1,5,ae.openOnInit$))}}function Ge(Ue,we){if(1&Ue&&(e.TgZ(0,"div",7),e.YNc(1,Re,2,7,"contacts-card-sf-push-button",8),e.YNc(2,fe,2,7,"contacts-card-outreach-button",8),e.YNc(3,ye,2,7,"contacts-card-engage-button",8),e.qZA()),2&Ue){const De=e.oxw().ngIf;e.xp6(1),e.Q6J("ngIf","hidden"!==De.salesforce),e.xp6(1),e.Q6J("ngIf","hidden"!==De.outreach),e.xp6(1),e.Q6J("ngIf","hidden"!==De.engage)}}function at(Ue,we){if(1&Ue&&(e.ynx(0),e.YNc(1,Ge,4,3,"div",6),e.BQk()),2&Ue){const De=we.ngIf;e.xp6(1),e.Q6J("ngIf",De.hasActions)}}let It=(()=>{class Ue{constructor(De,ae,Le){this.contactsActionsStateService=De,this.store=ae,this.syntheticMetadataService=Le,this.onUnlockClick=new e.vpe,this.contactIsUnlockable=!1,this.contactHasAnyDetail=!1,this.canSave=!1,this.contactsEntityDef=this.syntheticMetadataService.getContactsSearchProperties().contactEntityDefId}ngOnChanges(De){De.contactState&&(this.contactIsUnlockable=(0,i.Od)(this.contactState),this.buttonsState$=this.contactsActionsStateService.getButtonsState(this.contactState),this.canSave=(0,i.OX)(this.contactState),this.openOnInit$=this.store.select(p.Hm).pipe((0,l.q)(1),(0,y.h)(ae=>ae.contactId===this.contactState.contact.uuid),(0,d.U)(ae=>ae.triggerLocation)))}}return Ue.\u0275fac=function(De){return new(De||Ue)(e.Y36(g.J),e.Y36(a.yh),e.Y36(f.Y))},Ue.\u0275cmp=e.Xpm({type:Ue,selectors:[["contacts-card-actions"]],inputs:{contactState:"contactState",contactIsUnlocking:"contactIsUnlocking",contactsLoading:"contactsLoading",anyContactIsUnlocking:"anyContactIsUnlocking",organizationId:"organizationId"},outputs:{onUnlockClick:"onUnlockClick"},features:[e.TTD],decls:5,vars:5,consts:[[1,"buttons-container"],[3,"contactState","contactIsUnlocking","contactsLoading","anyContactIsUnlocking","onClick",4,"ngIf"],[3,"entityId","entityDefId",4,"ngIf"],[4,"ngIf"],[3,"contactState","contactIsUnlocking","contactsLoading","anyContactIsUnlocking","onClick"],[3,"entityId","entityDefId"],["class","icon-buttons-container",4,"ngIf"],[1,"icon-buttons-container"],[3,"contactState","organizationId","isLocked","showUpsell","openOnInit","lockedClick",4,"ngIf"],[3,"contactState","organizationId","isLocked","showUpsell","openOnInit","lockedClick"]],template:function(De,ae){1&De&&(e.TgZ(0,"div",0),e.YNc(1,Te,1,4,"contacts-card-unlock-button",1),e.YNc(2,ce,1,2,"save-to-list-button",2),e.qZA(),e.YNc(3,at,2,1,"ng-container",3),e.ALo(4,"async")),2&De&&(e.xp6(1),e.Q6J("ngIf",ae.contactIsUnlockable),e.xp6(1),e.Q6J("ngIf",ae.canSave),e.xp6(1),e.Q6J("ngIf",e.lcZ(4,3,ae.buttonsState$)))},directives:[c.O5,r.K,o.z,b,ee,Ie],pipes:[c.Ov],styles:["[_nghost-%COMP%]{display:flex}[_nghost-%COMP%]  button:not([mat-icon-button]){min-width:124px!important}.buttons-container[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(:first-child){margin-top:4px}save-to-list-button[_ngcontent-%COMP%]{display:block}.icon-buttons-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-around;flex:1}@media (min-width: 600px){[_nghost-%COMP%]{flex-direction:column}.icon-buttons-container[_ngcontent-%COMP%]{width:124px;margin-top:8px;justify-content:space-evenly;flex:auto}}"],changeDetection:0}),Ue})()},81212:(oe,L,t)=>{t.d(L,{K:()=>n});var e=t(3184),i=t(3531),p=t(86942),l=t(843),y=t(36362),d=t(87317),g=t(74160),f=t(74742),a=t(43652),c=t(74929);function r(m,v){1&m&&e._UZ(0,"mat-spinner",5),2&m&&e.Q6J("diameter",16)}function o(m,v){if(1&m){const h=e.EpF();e.TgZ(0,"button",2),e.NdJ("click",function(){return e.CHM(h),e.oxw().onClick.emit()}),e.TgZ(1,"label-with-icon",3),e.YNc(2,r,1,1,"mat-spinner",4),e._uU(3),e.ALo(4,"translate"),e.qZA()()}if(2&m){const h=e.oxw();e.Q6J("color","primary")("disabled",h.contactsLoading||h.anyContactIsUnlocking),e.xp6(1),e.Q6J("iconKey",h.contactIsUnlocking?void 0:"icon_eye_open"),e.xp6(1),e.Q6J("ngIf",h.contactIsUnlocking),e.xp6(1),e.hij(" ",e.lcZ(4,5,h.contactIsUpdatable?"CBL.ENTITY.CONTACTS_CARD.UNLOCK_UPDATE":h.unlockLabelKey)," ")}}function _(m,v){if(1&m&&(e.TgZ(0,"upsell-modal-button",6),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&m){const h=e.oxw();e.Q6J("showDetails",!0)("showLogin",h.upsellShowLogin)("showCancel",h.upsellShowCancel),e.xp6(1),e.hij(" ",e.lcZ(2,4,h.unlockLabelKey),"\n")}}let n=(()=>{class m{constructor(h){this.permissionService=h,this.unlockLabelKey="CBL.COMMON.VIEW",this.upsellShowLogin=!1,this.upsellShowCancel=!1,this.onClick=new e.vpe,this.canUnlockContacts$=this.permissionService.getPermissions().pipe((0,p.U)(C=>C.canUnlockContacts()))}ngOnChanges(h){h.contactState&&(this.contactIsUpdatable=(0,i.XF)(this.contactState))}}return m.\u0275fac=function(h){return new(h||m)(e.Y36(l.$))},m.\u0275cmp=e.Xpm({type:m,selectors:[["contacts-card-unlock-button"]],inputs:{contactState:"contactState",contactIsUnlocking:"contactIsUnlocking",contactsLoading:"contactsLoading",anyContactIsUnlocking:"anyContactIsUnlocking",unlockLabelKey:"unlockLabelKey",upsellShowLogin:"upsellShowLogin",upsellShowCancel:"upsellShowCancel"},outputs:{onClick:"onClick"},features:[e.TTD],decls:4,vars:6,consts:[["mat-stroked-button","",3,"color","disabled","click",4,"ngIf"],["featureSet","contacts_unlock_button_upgrade_from_non_pro","triggerLocation","contact-row-unlock-button","buttonType","raised",3,"showDetails","showLogin","showCancel",4,"ngIf"],["mat-stroked-button","",3,"color","disabled","click"],[3,"iconKey"],[3,"diameter",4,"ngIf"],[3,"diameter"],["featureSet","contacts_unlock_button_upgrade_from_non_pro","triggerLocation","contact-row-unlock-button","buttonType","raised",3,"showDetails","showLogin","showCancel"]],template:function(h,C){1&h&&(e.YNc(0,o,5,7,"button",0),e.ALo(1,"async"),e.YNc(2,_,3,6,"upsell-modal-button",1),e.ALo(3,"async")),2&h&&(e.Q6J("ngIf",e.lcZ(1,2,C.canUnlockContacts$)),e.xp6(2),e.Q6J("ngIf",!e.lcZ(3,4,C.canUnlockContacts$)))},directives:[y.O5,d.lW,g.d,f.Ou,a.J],pipes:[y.Ov,c.X],styles:["[_nghost-%COMP%]{display:block}mat-spinner[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle;margin-right:10px}"],changeDetection:0}),m})()},20979:(oe,L,t)=>{t.d(L,{x:()=>a});var e=t(81824),i=t(83910),p=t(86942),l=t(3184),y=t(35585),d=t(32478),g=t(29641),f=t(36362);let a=(()=>{class c{constructor(o){this.store=o,this.meterType1Max$=this.store.select(e.pv).pipe((0,i.q)(1),(0,p.U)(_=>({quantity:_})))}}return c.\u0275fac=function(o){return new(o||c)(l.Y36(y.yh))},c.\u0275cmp=l.Xpm({type:c,selectors:[["contacts-banner"]],decls:3,vars:3,consts:[["color","inherit","size","text","key","icon_info_outline"],["key","CBL.ENTITY.CONTACTS_CARD.BANNER",3,"values"]],template:function(o,_){1&o&&(l._UZ(0,"icon",0)(1,"markup-label",1),l.ALo(2,"async")),2&o&&(l.xp6(1),l.Q6J("values",l.lcZ(2,1,_.meterType1Max$)))},directives:[d.o,g.x],pipes:[f.Ov],styles:["[_nghost-%COMP%]{display:flex;align-items:center;padding:16px 8px;border-radius:6px;background-color:#ebf7fb;border:1px solid #5bc0de}icon[_ngcontent-%COMP%]{color:#5bc0de;padding:0 8px}"],changeDetection:0}),c})()},22152:(oe,L,t)=>{t.d(L,{S:()=>C});var e=t(46195),i=t(20605),p=t(843),l=t(86942),y=t(19193),d=t(81824),g=t(3184),f=t(35585),a=t(61531),c=t(36362),r=t(87317),o=t(74160),_=t(74929);function n(S,I){if(1&S){const T=g.EpF();g.TgZ(0,"button",4),g.NdJ("click",function(){return g.CHM(T),g.oxw(3).showContactsUpsellDialog()}),g.TgZ(1,"label-with-icon",5),g._uU(2),g.ALo(3,"translate"),g.qZA()()}2&S&&(g.xp6(2),g.hij(" ",g.lcZ(3,1,"CBL.UPSELL.GET_MORE")," "))}function m(S,I){if(1&S){const T=g.EpF();g.TgZ(0,"button",6),g.NdJ("click",function(){return g.CHM(T),g.oxw(3).showContactsUpsellDialog()}),g.TgZ(1,"label-with-icon",5),g._uU(2),g.ALo(3,"translate"),g.qZA()()}2&S&&(g.xp6(2),g.hij(" ",g.lcZ(3,1,"CBL.UPSELL.GET_MORE")," "))}function v(S,I){if(1&S&&(g.ynx(0),g.YNc(1,n,4,3,"button",2),g.YNc(2,m,4,3,"button",3),g.BQk()),2&S){const T=g.oxw(2);g.xp6(1),g.Q6J("ngIf","stroked"===T.buttonStyle),g.xp6(1),g.Q6J("ngIf","basic"===T.buttonStyle)}}function h(S,I){if(1&S&&(g.ynx(0),g.YNc(1,v,3,2,"ng-container",1),g.ALo(2,"async"),g.BQk()),2&S){const T=g.oxw();g.xp6(1),g.Q6J("ngIf",g.lcZ(2,1,T.canSeeGetMoreButton$))}}let C=(()=>{class S{constructor(T,N){this.store=T,this.permissionService=N,this.maintenanceModeBillingFlag=i.TT.MAINTENANCE_MODE_BILLING}ngOnInit(){const T=this.permissionService.getPermissions().pipe((0,l.U)(x=>x.canUseContactsAddon())),N=this.store.select(d.n0);this.canSeeGetMoreButton$=(0,y.aj)([T,N]).pipe((0,l.U)(([x,s])=>!(!x||s)))}showContactsUpsellDialog(){this.store.dispatch((0,e.cN)())}}return S.\u0275fac=function(T){return new(T||S)(g.Y36(f.yh),g.Y36(p.$))},S.\u0275cmp=g.Xpm({type:S,selectors:[["contacts-meter-upsell-button"]],inputs:{buttonStyle:"buttonStyle"},decls:1,vars:1,consts:[[4,"ifNotFeatureFlagBoolean"],[4,"ngIf"],["mat-stroked-button","",3,"click",4,"ngIf"],["mat-button","",3,"click",4,"ngIf"],["mat-stroked-button","",3,"click"],["iconKey","icon_pro_lightning","iconColor","pro-gold"],["mat-button","",3,"click"]],template:function(T,N){1&T&&g.YNc(0,h,3,3,"ng-container",0),2&T&&g.Q6J("ifNotFeatureFlagBoolean",N.maintenanceModeBillingFlag)},directives:[a.l,c.O5,r.lW,o.d],pipes:[c.Ov,_.X],styles:["button.mat-stroked-button[_ngcontent-%COMP%]{border-color:#f5a623}@media (min-width: 960px){button.mat-stroked-button[_ngcontent-%COMP%], upsell-modal-button[_ngcontent-%COMP%]{margin-left:20px}}"],changeDetection:0}),S})()},33550:(oe,L,t)=>{t.d(L,{w:()=>b});var e=t(3184),i=t(23216),p=t(4143),l=t(75215),y=t(92218),d=t(25848),g=t(35585),f=t(36362),a=t(43188),c=t(91434),r=t(1130),o=t(3542),_=t(66281),n=t(61534),m=t(92434),v=t(69489),h=t(74160),C=t(74929);function S(B,Q){if(1&B&&(e.TgZ(0,"mat-option",10),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&B){const $=Q.$implicit;e.Q6J("value",$.key),e.xp6(1),e.hij(" ",e.lcZ(2,2,$.value.optionLabel)," ")}}const I=function(B){return[B]};function T(B,Q){if(1&B){const $=e.EpF();e.TgZ(0,"entity-input",11),e.NdJ("chosenEntity",function(q){return e.CHM($),e.oxw().addDynamicSearchValue(q)}),e.ALo(1,"translate"),e.ALo(2,"translate"),e.qZA()}if(2&B){const $=e.oxw(),W=e.MAs(2);e.Q6J("collectionIds",e.VKq(10,I,$.searchOption.collectionId))("parentId",$.orgUuid)("excludedUuids",$.excludeUuids)("dropdownOrigin",W)("ariaLabel",e.lcZ(1,6,"CBL.ENTITY.CONTACTS_CARD.SEARCH_VALUE_INPUT_ARIA_LABEL"))("placeholder",e.lcZ(2,8,"CBL.ENTITY.CONTACTS_CARD.SEARCH_PLACEHOLDER"))}}function N(B,Q){if(1&B){const $=e.EpF();e.TgZ(0,"multi-select-input",12),e.NdJ("valueChange",function(q){return e.CHM($),e.oxw().updateSelectedStaticSearchValues(q)}),e.ALo(1,"translate"),e.qZA()}if(2&B){const $=e.oxw(),W=e.MAs(2);e.Q6J("options",$.staticValues)("selectedOptions",$.selectedStaticValues)("placeholder",e.lcZ(1,5,"CBL.ENTITY.CONTACTS_CARD.SEARCH_PLACEHOLDER"))("icon","icon_search")("dropdownOrigin",W)}}function x(B,Q){if(1&B){const $=e.EpF();e.TgZ(0,"mat-checkbox",13),e.NdJ("change",function(q){return e.CHM($),e.oxw().toggleOnlyUnlockedContacts(q)}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&B&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"CBL.ENTITY.CONTACTS_CARD.SHOW_ONLY_UNLOCKED_CONTACTS")))}function s(B,Q){if(1&B){const $=e.EpF();e.ynx(0),e.TgZ(1,"chip",15),e.NdJ("remove",function(){const le=e.CHM($).$implicit;return e.oxw(2).removeSearchValue(le)}),e._uU(2),e.qZA(),e.BQk()}if(2&B){const $=Q.$implicit;e.xp6(1),e.Q6J("removable",!0),e.xp6(1),e.Oqu($.value)}}function E(B,Q){if(1&B&&(e.TgZ(0,"chips-container"),e.YNc(1,s,3,2,"ng-container",14),e.qZA()),2&B){const $=e.oxw();e.xp6(1),e.Q6J("ngForOf",$.searchValues)}}function H(B,Q){1&B&&(e.TgZ(0,"div",16)(1,"label-with-icon",17),e.SDv(2,18),e.qZA()())}const V=function(B){return{"static-search":B}};let b=(()=>{class B{constructor($,W,q,le){this.store=$,this.contactsService=W,this.metadataService=q,this.syntheticMetadataService=le,this.onSetSearchOptionKey=new e.vpe,this.onAddSearchValue=new e.vpe,this.onUpdateSelectedStaticSearchValues=new e.vpe,this.onRemoveSearchValue=new e.vpe,this.onToggleOnlyUnlockedContacts=new e.vpe,this.contactsSearchOptions=i.JH,this.staticValues=[],this.selectedStaticValues=[],this.canViewUnlockedContacts=this.contactsService.canSearchPrivateContactItems(),this.contactCollectionId=this.syntheticMetadataService.getContactsSearchProperties().contactCollectionId,this.onDestroy$=new y.xQ}ngOnChanges($){$.searchOption&&(this.searchOption.hasDynamicOptions||this.setStaticSearchValues(this.searchOption))}ngOnDestroy(){this.onDestroy$.next()}setSearchOptionKey($,W){this.onSetSearchOptionKey.emit($.value),this.selectedStaticValues=[]}addDynamicSearchValue($){this.onAddSearchValue.emit($.identifier)}updateSelectedStaticSearchValues($){this.onUpdateSelectedStaticSearchValues.emit($.map(W=>({uuid:"",entity_def_id:"",value:W.value})))}removeSearchValue($){this.onRemoveSearchValue.emit($)}toggleOnlyUnlockedContacts($){this.onToggleOnlyUnlockedContacts.emit($.checked)}setStaticSearchValues($){const W=this.metadataService.getField(this.contactCollectionId,$.predicate.field_id),q=(null==W?void 0:W.labels)&&(null==W?void 0:W.labels.values)||{};this.staticValues=((null==W?void 0:W.values)&&(null==W?void 0:W.values.list)||[]).map(J=>({value:J,label:q[J]||J}))}}return B.\u0275fac=function($){return new($||B)(e.Y36(g.yh),e.Y36(p.P),e.Y36(l.Do),e.Y36(d.Y))},B.\u0275cmp=e.Xpm({type:B,selectors:[["contacts-search"]],inputs:{showShowMyContactsCheckbox:"showShowMyContactsCheckbox",orgUuid:"orgUuid",searchOption:"searchOption",searchOptionKey:"searchOptionKey",searchValues:"searchValues",excludeUuids:"excludeUuids",searchLoadingError:"searchLoadingError"},outputs:{onSetSearchOptionKey:"onSetSearchOptionKey",onAddSearchValue:"onAddSearchValue",onUpdateSelectedStaticSearchValues:"onUpdateSelectedStaticSearchValues",onRemoveSearchValue:"onRemoveSearchValue",onToggleOnlyUnlockedContacts:"onToggleOnlyUnlockedContacts"},features:[e.TTD],decls:12,vars:15,consts:function(){let Q;return Q=$localize`:␟e60891dabc3d44459df5b5249f6540612bcf1d17␟6628263359932316931: We encountered an issue while searching, please try again `,[[1,"searchbar-row",3,"ngClass"],["matAutocompleteOrigin","",1,"searchbar"],["dropdownOrigin","matAutocompleteOrigin"],[3,"value","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["appearance","outline",3,"collectionIds","parentId","excludedUuids","dropdownOrigin","ariaLabel","placeholder","chosenEntity",4,"ngIf"],[3,"options","selectedOptions","placeholder","icon","dropdownOrigin","valueChange",4,"ngIf"],["labelPosition","before",3,"change",4,"ngIf"],[4,"ngIf"],["class","results-error",4,"ngIf"],[3,"value"],["appearance","outline",3,"collectionIds","parentId","excludedUuids","dropdownOrigin","ariaLabel","placeholder","chosenEntity"],[3,"options","selectedOptions","placeholder","icon","dropdownOrigin","valueChange"],["labelPosition","before",3,"change"],[4,"ngFor","ngForOf"],[3,"removable","remove"],[1,"results-error"],["iconKey","icon_exclamation_enclosed_round","iconColor","warn","iconSize","text"],Q]},template:function($,W){1&$&&(e.TgZ(0,"div",0)(1,"div",1,2)(3,"mat-select",3),e.NdJ("selectionChange",function(le){return W.setSearchOptionKey(le,W.searchOption)}),e.ALo(4,"translate"),e.YNc(5,S,3,4,"mat-option",4),e.ALo(6,"keyvalue"),e.qZA(),e.YNc(7,T,3,12,"entity-input",5),e.YNc(8,N,2,7,"multi-select-input",6),e.qZA(),e.YNc(9,x,3,3,"mat-checkbox",7),e.qZA(),e.YNc(10,E,2,1,"chips-container",8),e.YNc(11,H,3,0,"div",9)),2&$&&(e.Q6J("ngClass",e.VKq(13,V,!W.searchOption.hasDynamicOptions)),e.xp6(3),e.Q6J("value",W.searchOptionKey),e.uIk("aria-label",e.lcZ(4,9,"CBL.ENTITY.CONTACTS_CARD.SEARCH_OPTION_INPUT_ARIA_LABEL")),e.xp6(2),e.Q6J("ngForOf",e.lcZ(6,11,W.contactsSearchOptions)),e.xp6(2),e.Q6J("ngIf",W.searchOption.hasDynamicOptions),e.xp6(1),e.Q6J("ngIf",!W.searchOption.hasDynamicOptions),e.xp6(1),e.Q6J("ngIf",W.canViewUnlockedContacts&&W.showShowMyContactsCheckbox),e.xp6(1),e.Q6J("ngIf",W.searchOption.hasDynamicOptions),e.xp6(1),e.Q6J("ngIf",W.searchLoadingError))},directives:[f.mk,a.BU,c.gD,f.sg,r.ey,f.O5,o.j,_.e,n.oG,m.O,v.Y,h.d],pipes:[C.X,f.Nd],styles:["chips-container[_ngcontent-%COMP%]{min-height:20px;margin-right:0}.searchbar-row[_ngcontent-%COMP%]{display:flex;flex-direction:column}@media (min-width: 600px){.searchbar-row[_ngcontent-%COMP%]{flex-direction:row}}.static-search[_ngcontent-%COMP%]{padding-bottom:20px}.searchbar[_ngcontent-%COMP%]{display:flex;flex:1}@media (min-width: 600px){.searchbar[_ngcontent-%COMP%]{flex:2}}multi-select-input[_ngcontent-%COMP%]{flex:2;max-width:340px;min-width:0px;border:1px rgba(0,0,0,.12) solid;border-radius:0 5px 5px 0;padding:0 8px;height:auto}multi-select-input[_ngcontent-%COMP%]  chip{margin-top:4px;margin-bottom:4px}multi-select-input[_ngcontent-%COMP%]  .mat-form-field-infix{width:auto;border-top:4px solid transparent}multi-select-input[_ngcontent-%COMP%]  .mat-form-field-infix input{min-width:0px}multi-select-input[_ngcontent-%COMP%]  .mat-form-field-prefix{padding-top:8px}multi-select-input[_ngcontent-%COMP%]  .mat-form-field-wrapper{padding-bottom:0}multi-select-input[_ngcontent-%COMP%]  .mat-form-field-flex{align-items:center}multi-select-input[_ngcontent-%COMP%]  .mat-form-field-underline, multi-select-input[_ngcontent-%COMP%]  .mat-form-field-ripple{height:0px}entity-input[_ngcontent-%COMP%]{max-width:340px;height:36px;flex:2}entity-input[_ngcontent-%COMP%]  .mat-form-field-outline-start{border-radius:unset}entity-input[_ngcontent-%COMP%]  mat-form-field, entity-input[_ngcontent-%COMP%]  .mat-form-field-infix, entity-input[_ngcontent-%COMP%]  .mat-form-field-outline, entity-input[_ngcontent-%COMP%]  .mat-form-field-flex{height:36px!important}entity-input[_ngcontent-%COMP%]  .mat-form-field-flex{align-items:center}entity-input[_ngcontent-%COMP%]  .mat-form-field-infix{width:auto}entity-input[_ngcontent-%COMP%]  .mat-form-field-suffix{display:none}mat-select[_ngcontent-%COMP%]{max-width:130px;height:36px;padding:0 16px;flex:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;font-size:13px;line-height:20px;color:#282828;letter-spacing:.2px;font-weight:400;font-family:Roboto,Arial,sans-serif;background-color:#0000000d;text-transform:capitalize;border:1px rgba(0,0,0,.12) solid;border-radius:5px 0 0 5px;border-right:unset}mat-select[_ngcontent-%COMP%]     .mat-select-value{display:inline}mat-checkbox[_ngcontent-%COMP%]{flex:1;display:flex;justify-content:flex-end;align-items:center;padding:20px 0 20px 20px}@media (min-width: 600px){mat-checkbox[_ngcontent-%COMP%]{padding:0 0 0 8px}}"],changeDetection:0}),B})()},87555:(oe,L,t)=>{t.d(L,{kB:()=>i,OX:()=>p,Jn:()=>l,SN:()=>y,T2:()=>d,bq:()=>g,Od:()=>f,XF:()=>a,Gf:()=>c,S7:()=>r,Vn:()=>o,j4:()=>_});var e=t(70377);function i(n){return n?n.details:[]}function p(n){return i(n).some(m=>m.lockType===e.bw.UNLOCKED)}function l(n){return i(n).length>0}function y(n){return i(n).some(m=>m.methodType===e.$U.EMAIL)}function d(n){return i(n).some(m=>m.lockType===e.bw.UNLOCKED&&m.methodType===e.$U.EMAIL)}function g(n){const m=i(n).filter(v=>v.lockType===e.bw.LOCKED).map(v=>v.itemId);return Array.from(new Set(m))}function f(n){return!!g(n).length}function a(n){const m=i(n),v=m.some(C=>C.lockType===e.bw.LOCKED),h=m.some(C=>C.lockType===e.bw.UNLOCKED);return v&&h}function c(n){return i(n).filter(m=>m.methodType===e.$U.EMAIL).length}function r(n){return i(n).filter(m=>m.methodType===e.$U.PHONE).length}function o(n){return i(n).filter(m=>m.lockType===e.bw.LOCKED&&m.methodType===e.$U.EMAIL).length}function _(n){return i(n).filter(m=>m.lockType===e.bw.LOCKED&&m.methodType===e.$U.PHONE).length}},23216:(oe,L,t)=>{t.d(L,{pU:()=>i,_h:()=>p,Qj:()=>l,JH:()=>d,LK:()=>g,fg:()=>f});var e=t(93443);const i="contacts",p=10,l="JOB_DEPARTMENT",d={NAME:{optionLabel:"CBL.ENTITY.CONTACTS_CARD.SEARCH_OPTIONS.NAME",collectionId:"contact.org_has_contact.forward",hasDynamicOptions:!0,predicate:{type:e.V7.TypeEnum.predicate,field_id:"identifier",operator_id:"includes"}},JOB_TITLE:{optionLabel:"CBL.ENTITY.CONTACTS_CARD.SEARCH_OPTIONS.JOB_TITLE",collectionId:"job_title.org_has_contact_job_title.forward",hasDynamicOptions:!0,predicate:{type:e.V7.TypeEnum.predicate,field_id:"job_titles",operator_id:"includes"}},JOB_DEPARTMENT:{optionLabel:"CBL.ENTITY.CONTACTS_CARD.SEARCH_OPTIONS.JOB_DEPARTMENT",collectionId:"",hasDynamicOptions:!1,predicate:{type:e.V7.TypeEnum.predicate,field_id:"job_departments",operator_id:"includes"}}},g={type:e.V7.TypeEnum.predicate,field_id:"num_contact_items",operator_id:"gte",values:[1]},f={type:e.V7.TypeEnum.predicate,field_id:"num_private_contact_items",operator_id:"gte",values:[1]}},70377:(oe,L,t)=>{t.d(L,{BB:()=>e,bw:()=>i,$U:()=>p,NA:()=>l});var e=(()=>{return(y=e||(e={}))[y.WORK=0]="WORK",y[y.PERSONAL=1]="PERSONAL",e;var y})(),i=(()=>{return(y=i||(i={}))[y.LOCKED=0]="LOCKED",y[y.UNLOCKED=1]="UNLOCKED",i;var y})(),p=(()=>{return(y=p||(p={}))[y.EMAIL=0]="EMAIL",y[y.PHONE=1]="PHONE",p;var y})(),l=(()=>{return(y=l||(l={})).NOT_INITIALIZED="Not Initialized",y.INITIAL_LOADING="Initial Loading",y.INITIAL_LOADING_ERROR="Initial Loading Error",y.INITIAL_LOADED="Initial Loaded",y.VIEW_MORE_LOADING="View More Loading",y.VIEW_MORE_LOADING_ERROR="View More Loading Error",y.VIEW_MORE_LOADED="View More Loaded",y.SEARCH_LOADING="Search Loading",y.SEARCH_LOADING_ERROR="Search Loading Error",y.SEARCH_LOADED="Search Loaded",l;var y})()},67858:(oe,L,t)=>{t.d(L,{Y:()=>ke});var e=t(36362),i=t(90587),p=t(90898),l=t(45857),y=t(35503),d=t(32519),g=t(32313),f=t(31156),a=t(93293),c=t(69287),r=t(48611),o=t(89250),_=t(83447),n=t(35585),m=t(65112),v=t(23216),h=t(5419),C=t(70377);const S={orgUuid:void 0,totalInQuery:0,searchOptionKey:v.Qj,contactsStates:[],searchValues:[],showOnlyUnlockedContacts:!1,status:C.NA.NOT_INITIALIZED},I=(0,n.Lq)(S,(0,n.on)(h.hW,(He,{orgUuid:nt})=>Object.assign(Object.assign({},S),{orgUuid:nt,totalInQuery:0,contactsStates:[],status:C.NA.INITIAL_LOADING})),(0,n.on)(h.ci,(He,{totalInQuery:nt,contactsAndDetails:Et})=>Object.assign(Object.assign({},He),{totalInQuery:nt,contactsStates:Et,status:C.NA.INITIAL_LOADED})),(0,n.on)(h.wy,(He,{orgUuid:nt})=>Object.assign(Object.assign({},S),{orgUuid:nt,totalInQuery:0,contactsStates:[],status:C.NA.INITIAL_LOADED})),(0,n.on)(h.IK,He=>Object.assign(Object.assign({},He),{status:C.NA.INITIAL_LOADING_ERROR})),(0,n.on)(h.yX,He=>Object.assign(Object.assign({},He),{status:C.NA.VIEW_MORE_LOADING})),(0,n.on)(h.pe,(He,{contactsAndDetails:nt})=>Object.assign(Object.assign({},He),{contactsStates:[...He.contactsStates,...nt],status:C.NA.VIEW_MORE_LOADED})),(0,n.on)(h.T1,He=>Object.assign(Object.assign({},He),{status:C.NA.VIEW_MORE_LOADING_ERROR})),(0,n.on)(h.MJ,(He,{value:nt})=>Object.assign(Object.assign({},He),{searchValues:[...He.searchValues,nt],status:C.NA.SEARCH_LOADING})),(0,n.on)(h.zJ,(He,{value:nt})=>Object.assign(Object.assign({},He),{searchOptionKey:nt,searchValues:[],status:C.NA.SEARCH_LOADING})),(0,n.on)(h.UT,(He,{value:nt})=>Object.assign(Object.assign({},He),{searchValues:He.searchValues.filter(Et=>Et!==nt),status:C.NA.SEARCH_LOADING})),(0,n.on)(h.C_,(He,{values:nt})=>Object.assign(Object.assign({},He),{searchValues:nt,status:C.NA.SEARCH_LOADING})),(0,n.on)(h.BP,(He,{showOnlyUnlockedContacts:nt})=>Object.assign(Object.assign({},He),{showOnlyUnlockedContacts:nt,status:C.NA.SEARCH_LOADING})),(0,n.on)(h.gb,(He,{totalInQuery:nt,contactsAndDetails:Et})=>Object.assign(Object.assign({},He),{contactsStates:Et,totalInQuery:nt,status:C.NA.SEARCH_LOADED})),(0,n.on)(h.SW,He=>Object.assign(Object.assign({},He),{status:C.NA.SEARCH_LOADING_ERROR})),(0,n.on)(h.Y5,(He,{contactId:nt,contactDetails:Et})=>Object.assign(Object.assign({},He),{contactsStates:T(He,nt,Et)}))),T=(He,nt,Et)=>He.contactsStates.map(rt=>rt.contact.uuid===nt?Object.assign(Object.assign({},rt),{details:Et||rt.details}):rt);function N(He,nt){return I(He,nt)}var x=t(64139),s=t(19193),E=t(59151),H=t(86942),V=t(59095),b=t(47418),B=t(85921),Q=t(25670),$=t(4143),W=t(62329),q=t(23580),le=t(90808),J=t(46195),u=t(87555),D=t(3184);let se=(()=>{class He{constructor(Et,rt,Dt){this.action$=Et,this.contactsService=rt,this.store=Dt,this.loadContacts$=(0,m.GW)(()=>this.action$.pipe((0,m.l4)(h.oD),(0,m.IC)(()=>[this.store.select(W.Nb),this.store.select(W.kD)]),(0,E.h)(([{orgUuid:Lt},Ut,Yt])=>!Ut||Lt!==Ut||Yt),(0,H.U)(([{orgUuid:Lt,hasData:Ut}])=>Ut?(0,h.hW)({orgUuid:Lt}):(0,h.wy)({orgUuid:Lt})))),this.loadContactsData$=(0,m.GW)(()=>this.action$.pipe((0,m.l4)(h.hW),(0,V.w)(()=>this.getContactsResponse().pipe((0,H.U)(Lt=>(0,h.ci)(Lt)),(0,b.K)(()=>(0,x.of)((0,h.IK)())))))),this.loadMoreContacts$=(0,m.GW)(()=>this.action$.pipe((0,m.l4)(h.yX),(0,V.w)(()=>this.getContactsResponse(!0).pipe((0,H.U)(Lt=>(0,h.pe)({contactsAndDetails:Lt.contactsAndDetails})),(0,b.K)(()=>(0,x.of)((0,h.T1)())))))),this.loadContactsSearch$=(0,m.GW)(()=>this.action$.pipe((0,m.l4)(h.zJ,h.MJ,h.UT,h.C_),(0,V.w)(()=>this.getContactsResponse().pipe((0,H.U)(Lt=>(0,h.gb)(Lt)),(0,b.K)(()=>(0,x.of)((0,h.SW)())))))),this.toggleOnlyUnlockedContacts$=(0,m.GW)(()=>this.action$.pipe((0,m.l4)(h.BP),(0,V.w)(()=>this.getContactsResponse().pipe((0,H.U)(Lt=>(0,h.gb)(Lt)),(0,b.K)(()=>(0,x.of)((0,h.SW)())))))),this.clickUnlockButton$=(0,m.GW)(()=>this.action$.pipe((0,m.l4)(h.U$),(0,m.IC)(({contactId:Lt})=>this.store.select((0,W.aG)(Lt))),(0,H.U)(([{contactId:Lt,triggerLocation:Ut},Yt])=>(0,le.oY)({contactItemIds:(0,u.bq)(Yt),contactId:Lt,triggerLocation:Ut})))),this.unlockContactItemsSuccess$=(0,m.GW)(()=>this.action$.pipe((0,m.l4)(J.HM),(0,m.IC)(Lt=>this.store.select((0,W.iH)(Lt.contactId))),(0,H.U)(([{contactId:Lt,unlockedContactItems:Ut},Yt])=>{const $t=this.contactsService.mergeWithUnlockedContact(Yt,Ut);return(0,h.Y5)({contactId:Lt,contactDetails:$t})})))}takeUntilContactsCardLoading(){return(0,B.R)(this.action$.pipe((0,m.l4)(h.hW,h.yX,h.MJ,h.UT,h.BP,h.C_)))}getContactsResponse(Et=!1){return(0,s.aj)([this.store.select(W.Nb).pipe((0,Q.P)(q.K)),this.store.select(W.ZE).pipe((0,Q.P)()),this.store.select(W.Ys).pipe((0,Q.P)()),this.store.select(W.PQ).pipe((0,Q.P)()),this.store.select(W.pU).pipe((0,Q.P)()),this.store.select(le.WC).pipe((0,Q.P)())]).pipe((0,V.w)(([rt,Dt,Lt,Ut,Yt,$t])=>{let un=v.JH[Lt],je={contactItemsPredicate:Yt?v.fg:v.LK};return Et&&(je.lastContactId=Dt),Ut.length&&(je.searchPredicate=Object.assign(Object.assign({},un.predicate),{values:Ut.map(un.hasDynamicOptions?ft=>ft.uuid:ft=>ft.value)})),this.contactsService.getContactsResultsForOrg(rt,v._h,je).pipe(this.takeUntilContactsCardLoading(),(0,H.U)(ft=>{var pe;return{totalInQuery:ft.count?ft.count:0,contactsAndDetails:((null===(pe=null==ft?void 0:ft.entities)||void 0===pe?void 0:pe.length)?ft.entities:[]).map(Ae=>{const ct=this.contactsService.getContactFromSearchEntity(Ae);if(!ct)return;let gt=this.contactsService.getContactItemDetailsFromSearchEntity(Ae);if(!gt)return;const Ht=$t[ct.uuid];return Ht&&(gt=this.contactsService.mergeWithUnlockedContact(gt,Ht)),{contact:ct,details:gt}}).filter(q.K)}}))}))}}return He.\u0275fac=function(Et){return new(Et||He)(D.LFG(m.eX),D.LFG($.P),D.LFG(n.yh))},He.\u0275prov=D.Yz7({token:He,factory:He.\u0275fac}),He})(),ne=(()=>{class He{}return He.\u0275fac=function(Et){return new(Et||He)},He.\u0275mod=D.oAB({type:He}),He.\u0275inj=D.cJS({imports:[[n.Aw.forFeature(v.pU,N),m.sQ.forFeature([se])]]}),He})();var _e=t(70821),ee=t(83e3),w=t(40337),G=t(2631),k=t(5076),X=t(11961);let K=(()=>{class He{}return He.\u0275fac=function(Et){return new(Et||He)},He.\u0275mod=D.oAB({type:He}),He.\u0275inj=D.cJS({imports:[[e.ez,X.QW]]}),He})();var te=t(40989),Ie=t(35852),Te=t(93567),ce=t(55758),Re=t(43630),fe=t(11133),ye=t(10610),Ge=t(83910),at=t(13584),It=t(23148);let Ue=(()=>{class He{constructor(Et,rt,Dt){this.action$=Et,this.store=rt,this.salesEngagementApi=Dt,this.loadOutreachConnection$=(0,m.GW)(()=>this.action$.pipe((0,m.l4)(at.Yn),(0,fe.b)(()=>this.store.select(It._0).pipe((0,Q.P)())),(0,E.h)(Lt=>!Lt),(0,ye.z)(Lt=>this.getOutreachConnections$().pipe((0,H.U)(Ut=>(0,at.et)({accounts:Ut})),(0,b.K)(Ut=>(0,x.of)((0,at.jf)({error:Ut}))))))),this.removeOutreachConnection$=(0,m.GW)(()=>this.action$.pipe((0,m.l4)(at.rn),(0,ye.z)(({connectionId:Lt})=>this.deleteOutreachConnection$(Lt).pipe((0,H.U)(()=>(0,at.zM)({id:Lt})),(0,b.K)(Ut=>(0,x.of)((0,at.xf)({error:Ut}))))))),this.loadOutreachSequences$=(0,m.GW)(()=>this.action$.pipe((0,m.l4)(at.vv),(0,m.IC)(()=>[this.store.select(It.OH),this.store.select(It.b2)]),(0,E.h)(([Lt,Ut,Yt])=>"loaded"!==Yt),(0,ye.z)(([Lt,Ut,Yt])=>Ut?this.salesEngagementApi.cbSalesEngagementUserAccountIdSequencesGet$({userAccountId:Ut.id}).pipe((0,H.U)($t=>(0,at.KK)({sequences:$t})),(0,b.K)($t=>(0,x.of)((0,at.bw)()))):(0,x.of)((0,at.bw)())))),this.refreshOutreachSequences$=(0,m.GW)(()=>this.action$.pipe((0,m.l4)(at.xD),(0,m.IC)(()=>this.store.select(It.OH)),(0,ye.z)(([Lt,Ut])=>Ut?this.salesEngagementApi.cbSalesEngagementUserAccountIdSequencesGet$({userAccountId:Ut.id,isRefresh:!0}).pipe((0,H.U)(Yt=>(0,at.X)({sequences:Yt})),(0,b.K)(Yt=>(0,x.of)((0,at.Jg)()))):(0,x.of)((0,at.Jg)()))))}getOutreachConnections$(){return this.store.select(Re.c7).pipe((0,Ge.q)(1),(0,E.h)(q.K),(0,V.w)(Et=>this.salesEngagementApi.cbSalesEngagementUsersUserIdAccountsGet$({userId:Et})))}deleteOutreachConnection$(Et){return this.store.select(Re.c7).pipe((0,Ge.q)(1),(0,E.h)(q.K),(0,V.w)(rt=>this.salesEngagementApi.cbSalesEngagementUsersUserIdAccountsAccountIdDelete$({userId:rt,accountId:Et})))}}return He.\u0275fac=function(Et){return new(Et||He)(D.LFG(m.eX),D.LFG(n.yh),D.LFG(ce.u))},He.\u0275prov=D.Yz7({token:He,factory:He.\u0275fac}),He})();const we={account:void 0,connectError:void 0,disconnectError:void 0,loading:!1,loaded:!1,sequences:[],sequencesLoadStatus:"not-loaded"},De=(0,n.Lq)(we,(0,n.on)(Re.wt,()=>we),(0,n.on)(at.Yn,He=>He.loaded?He:Object.assign(Object.assign({},He),{loading:!0})),(0,n.on)(at.et,(He,{accounts:nt})=>Object.assign(Object.assign({},He),{account:nt.find(Et=>Et.is_active),loaded:!0,loading:!1,connectError:void 0})),(0,n.on)(at.jf,(He,{error:nt})=>Object.assign(Object.assign({},He),{loaded:!1,loading:!1,connectError:nt})),(0,n.on)(at.xf,(He,{error:nt})=>Object.assign(Object.assign({},He),{disconnectError:nt})),(0,n.on)(at.zM,(He,{})=>Object.assign(Object.assign({},He),{account:void 0,disconnectError:void 0})),(0,n.on)(at.vv,He=>Object.assign(Object.assign({},He),{sequencesLoadStatus:"loaded"===He.sequencesLoadStatus?"loaded":"loading"})),(0,n.on)(at.KK,at.X,(He,{sequences:nt})=>Object.assign(Object.assign({},He),{sequences:nt,sequencesLoadStatus:"loaded"})),(0,n.on)(at.bw,at.Jg,He=>Object.assign(Object.assign({},He),{sequences:[],sequencesLoadStatus:"error"})),(0,n.on)(at.xD,He=>Object.assign(Object.assign({},He),{sequencesLoadStatus:"reloading"})));function ae(He,nt){return De(He,nt)}let Le=(()=>{class He{}return He.\u0275fac=function(Et){return new(Et||He)},He.\u0275mod=D.oAB({type:He}),He.\u0275inj=D.cJS({imports:[[n.Aw.forFeature(Te.q,ae),m.sQ.forFeature([Ue])]]}),He})();var Fe=t(41773),dt=t(3531);let Ye=(()=>{class He{}return He.\u0275fac=function(Et){return new(Et||He)},He.\u0275mod=D.oAB({type:He}),He.\u0275inj=D.cJS({imports:[[e.ez,i.u5,i.UX,p.q,y.Dt,d.n,f.H,g.H,w.r,Fe.A,dt.yw,o.S,p.q,K,r.y]]}),He})(),vt=(()=>{class He{}return He.\u0275fac=function(Et){return new(Et||He)},He.\u0275mod=D.oAB({type:He}),He.\u0275inj=D.cJS({imports:[[e.ez,i.u5,i.UX,p.q,y.Dt,d.n,g.H,Le,o.S,p.q,Ye,k.V]]}),He})();var Je=t(30412),Ke=t(84713),Ne=t(19366);let ke=(()=>{class He{}return He.\u0275fac=function(Et){return new(Et||He)},He.\u0275mod=D.oAB({type:He}),He.\u0275inj=D.cJS({imports:[[le.OW,e.ez,i.u5,i.UX,p.q,y.Dt,d.n,g.H,a.I,ne,f.H,c.Q,r.y,_.E,o.S,_e.EW,ee.S,w.r,l.Bz,G.E,k.V,K,te.R,Ne.L,Ie.a,vt,Ye,Ke.y,Fe.A,Je.l]]}),He})()},3531:(oe,L,t)=>{t.d(L,{yw:()=>a.y,bw:()=>e.bw,BB:()=>e.BB,$U:()=>e.$U,MJ:()=>f.MJ,U$:()=>f.U$,Jn:()=>i.Jn,OX:()=>i.OX,SN:()=>i.SN,T2:()=>i.T2,Gf:()=>i.Gf,Vn:()=>i.Vn,j4:()=>i.j4,S7:()=>i.S7,bq:()=>i.bq,Od:()=>i.Od,XF:()=>i.XF,oD:()=>f.oD,yX:()=>f.yX,UT:()=>f.UT,o:()=>p.o,H2:()=>p.H2,Fz:()=>p.Fz,Y:()=>p.Y,ai:()=>p.ai,yq:()=>p.yq,hk:()=>p.hk,af:()=>p.af,kD:()=>p.kD,Nb:()=>p.Nb,gq:()=>p.gq,o8:()=>p.o8,Yr:()=>p.Yr,Ys:()=>p.Ys,PQ:()=>p.PQ,Mi:()=>g,PB:()=>d,NH:()=>p.NH,tQ:()=>p.tQ,zJ:()=>f.zJ});var e=t(70377),i=t(87555),p=t(62329),l=t(35585),y=t(81824);const d=(0,l.P1)(y.n0,y._M,(c,r)=>!c&&r),g=(0,l.P1)(d,y.pv,y.HM,(c,r,o)=>!c&&!!r&&!o);var f=t(5419),a=t(84713)},88629:(oe,L,t)=>{t.d(L,{J:()=>E});var e=t(61456),i=t(90587),p=t(18052),l=t(64139),y=t(47418),d=t(53298),g=t(46179),f=t(3184),a=t(36362),c=t(32478),r=t(20757),o=t(80670),_=t(7549),n=t(74742),m=t(87317),v=t(74929);function h(H,V){1&H&&(f.TgZ(0,"span"),f._uU(1),f.ALo(2,"translate"),f.qZA()),2&H&&(f.xp6(1),f.Oqu(f.lcZ(2,1,"CBL.CRM.PUSH_OVERLAY.SALESFORCE")))}function C(H,V){if(1&H&&(f._UZ(0,"external-link",12),f.ALo(1,"translate")),2&H){const b=f.oxw(2).ngIf;f.Q6J("url",b.link)("label",f.lcZ(1,2,"CBL.CRM.PUSH_OVERLAY.SALESFORCE"))}}function S(H,V){if(1&H&&(f.TgZ(0,"div",7),f._UZ(1,"icon",8),f.TgZ(2,"span",9),f._uU(3),f.ALo(4,"translate"),f.qZA(),f._UZ(5,"theme-icon",10),f.YNc(6,h,3,3,"span",2),f.YNc(7,C,2,4,"ng-template",null,11,f.W1O),f.qZA()),2&H){const b=f.MAs(8),B=f.oxw().ngIf;f.xp6(3),f.Oqu(f.lcZ(4,3,"CBL.CRM.PUSH_OVERLAY.IN")),f.xp6(3),f.Q6J("ngIf",!B.link)("ngIfElse",b)}}const I=function(H){return{name:H}};function T(H,V){if(1&H&&(f.TgZ(0,"div",13),f._uU(1),f.ALo(2,"translate"),f.qZA(),f._UZ(3,"salesforce-push",14)),2&H){const b=f.oxw(2);f.xp6(1),f.hij(" ",f.xi3(2,4,"CBL.CRM.PUSH_OVERLAY.TITLE",f.VKq(7,I,b.payload.contactState.contact.name.data))," "),f.xp6(2),f.Q6J("contact",b.payload.contactState.contact)("details",b.payload.contactState.details)("organizationId",b.payload.organizationId)}}function N(H,V){if(1&H&&(f.ynx(0),f.YNc(1,S,9,5,"div",5),f.YNc(2,T,4,9,"ng-template",null,6,f.W1O),f.BQk()),2&H){const b=V.ngIf,B=f.MAs(3);f.xp6(1),f.Q6J("ngIf",b.inCrm)("ngIfElse",B)}}function x(H,V){if(1&H&&(f.TgZ(0,"div",15)(1,"div",13),f._uU(2),f.ALo(3,"translate"),f.qZA(),f._UZ(4,"mat-spinner",16),f.qZA()),2&H){const b=f.oxw();f.xp6(2),f.hij(" ",f.xi3(3,1,"CBL.CRM.PUSH_OVERLAY.CHECKING_IN_CRM",f.VKq(4,I,b.payload.contactState.contact.name.data))," ")}}function s(H,V){if(1&H){const b=f.EpF();f.TgZ(0,"div",17)(1,"button",18),f.NdJ("click",function(){return f.CHM(b),f.oxw().close()}),f._uU(2),f.ALo(3,"translate"),f.qZA(),f.TgZ(4,"button",19),f._uU(5),f.ALo(6,"translate"),f.qZA()()}if(2&H){const b=f.oxw();f.xp6(2),f.hij(" ",f.lcZ(3,4,"CBL.COMMON.CANCEL")," "),f.xp6(2),f.uIk("data-heap-push-to-contact-confirm",b.heapAttr("contact",null==b.pushPayload?null:b.pushPayload.type))("data-heap-push-to-lead-confirm",b.heapAttr("lead",null==b.pushPayload?null:b.pushPayload.type)),f.xp6(1),f.hij(" ",f.lcZ(6,6,"CBL.CRM.PUSH_OVERLAY.PUSH")," ")}}let E=(()=>{class H{constructor(b,B,Q,$,W){this.close=b,this.payload=B,this.pushContactToSalesforceService=Q,this.changeDetectorRef=$,this.toastService=W,this.form=new i.cw({pushPayload:new i.NI(null,i.kI.required)})}ngOnInit(){this.isContactInCrm$=this.pushContactToSalesforceService.doesContactExistsInCrm$(this.payload.contactState.contact.uuid).pipe((0,y.K)(()=>(this.toastService.showSimpleToast("CBL.COMMON.FAILURE"),(0,l.of)({inCrm:!1})))),this.form.statusChanges.pipe((0,d.x)()).subscribe(()=>this.changeDetectorRef.detectChanges())}heapAttr(b,B){return B===b?"":null}push(){this.pushPayload&&(this.pushContactToSalesforceService.pushToCRM(this.pushPayload),this.close())}get pushPayload(){var b;return null===(b=this.form.get("pushPayload"))||void 0===b?void 0:b.value}}return H.\u0275fac=function(b){return new(b||H)(f.Y36(p.U_),f.Y36(p.Z),f.Y36(e.u),f.Y36(f.sBO),f.Y36(g.k))},H.\u0275cmp=f.Xpm({type:H,selectors:[["salesforce-overlay"]],decls:7,vars:6,consts:[[3,"formGroup","ngSubmit"],[1,"overlay-content"],[4,"ngIf","ngIfElse"],["loading",""],["class","buttons-container",4,"ngIf"],["class","contact-in-crm",4,"ngIf","ngIfElse"],["allowPush",""],[1,"contact-in-crm"],["key","icon_check_knockout_round","color","success","size","large"],[1,"in"],["themeId","salesforce","color","theme","size","large"],["showLink",""],[3,"url","label"],[1,"push-title"],["formControlName","pushPayload",3,"contact","details","organizationId"],[1,"checking-crm"],["diameter","32"],[1,"buttons-container"],["mat-button","","color","primary","type","button",3,"click"],["mat-raised-button","","color","primary","type","submit"]],template:function(b,B){if(1&b&&(f.TgZ(0,"form",0),f.NdJ("ngSubmit",function(){return B.push()}),f.TgZ(1,"div",1),f.YNc(2,N,4,2,"ng-container",2),f.ALo(3,"async"),f.YNc(4,x,5,6,"ng-template",null,3,f.W1O),f.qZA(),f.YNc(6,s,7,8,"div",4),f.qZA()),2&b){const Q=f.MAs(5);f.Q6J("formGroup",B.form),f.xp6(2),f.Q6J("ngIf",f.lcZ(3,4,B.isContactInCrm$))("ngIfElse",Q),f.xp6(4),f.Q6J("ngIf",B.form.valid)}},directives:[i._Y,i.JL,i.sg,a.O5,c.o,r.p,o.A,_.v,i.JJ,i.u,n.Ou,m.lW],pipes:[a.Ov,v.X],styles:["[_nghost-%COMP%]{border-radius:4px;position:relative;display:block;width:370px}.close-button[_ngcontent-%COMP%]{position:absolute;top:0;right:0}.contact-in-crm[_ngcontent-%COMP%]{display:flex}icon[_ngcontent-%COMP%]{margin-right:8px}theme-icon[_ngcontent-%COMP%]{margin-left:8px;margin-right:4px}.checking-crm[_ngcontent-%COMP%]{font-weight:500;display:flex;flex-direction:column}.checking-crm[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{margin:16px auto}.overlay-content[_ngcontent-%COMP%]{padding:16px}.push-title[_ngcontent-%COMP%]{padding-right:16px;font-size:16px;line-height:24px;color:#282828;letter-spacing:.3px;font-weight:500;font-family:Roboto,Arial,sans-serif}.buttons-container[_ngcontent-%COMP%]{border-top:solid 1px rgba(0,0,0,.12);text-align:right;padding:8px}.buttons-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(:last-child){margin-right:16px}"],changeDetection:0}),H})()},7549:(oe,L,t)=>{t.d(L,{v:()=>G});var e=t(3184),i=t(90587),p=t(3531),l=t(5765),y=t(5149),d=t(24744),g=t(19193),f=t(92218),a=t(25722),c=t(86942),r=t(79128),o=t(83910),_=t(85921),n=t(53298),m=t(35585),v=t(36362),h=t(13186),C=t(61534),S=t(29641);function I(k,X){1&k&&(e.TgZ(0,"div",5)(1,"mat-checkbox",6),e.SDv(2,7),e.qZA(),e._UZ(3,"markup-label",8),e.qZA())}let T=(()=>{class k{constructor(){this.onDestroy$=new f.xQ,this.pushTypeOptions=[{name:"contact"},{name:"lead"}],this.onChange=()=>({}),this.onTouched=()=>({}),this.form=new i.cw({pushType:new i.NI(null,[i.kI.required]),rememberSetting:new i.NI(!1)}),this.form.valueChanges.pipe((0,_.R)(this.onDestroy$)).subscribe(K=>{this.onChange(K),this.onTouched()})}get value(){return this.form.value}get pushType(){return this.form.controls.pushType}get rememberSetting(){return this.form.controls.rememberSetting}ngOnDestroy(){this.onDestroy$.next()}registerOnChange(K){this.onChange=K}registerOnTouched(K){this.onTouched=K}writeValue(){}validate(){return this.form.valid?null:{pushPreference:!1}}}return k.\u0275fac=function(K){return new(K||k)},k.\u0275cmp=e.Xpm({type:k,selectors:[["select-push-input"]],features:[e._Bn([{provide:i.JU,useExisting:(0,e.Gpc)(()=>k),multi:!0},{provide:i.Cf,useExisting:(0,e.Gpc)(()=>k),multi:!0}])],decls:5,vars:3,consts:function(){let X,K;return X=$localize`:␟f166b1f9b30da21745be4f6d91c3c32e56f99045␟4862397153242703481:Select how you would like to push`,K=$localize`:␟ba54c9ae69d834e29808d1c12413d00562aeed27␟4301911007166236886: Remember my settings `,[["role","group","aria-labelledby","select-title",3,"formGroup"],["id","select-title"],X,["formControlName","pushType",3,"options"],["class","remember-settings-container",4,"ngIf"],[1,"remember-settings-container"],["formControlName","rememberSetting","data-heap-contact-push-preference-remember-setting",""],K,["key","CBL.CRM.PUSH_OVERLAY.CHANGE_SETTINGS"]]},template:function(K,te){1&K&&(e.TgZ(0,"div",0)(1,"div",1),e.SDv(2,2),e.qZA(),e._UZ(3,"button-select-input",3),e.YNc(4,I,4,0,"div",4),e.qZA()),2&K&&(e.Q6J("formGroup",te.form),e.xp6(3),e.Q6J("options",te.pushTypeOptions),e.xp6(1),e.Q6J("ngIf",te.pushType.value))},directives:[i.JL,i.sg,h.w,i.JJ,i.u,v.O5,C.oG,S.x],styles:["#select-title[_ngcontent-%COMP%]{font-weight:500}.input-container[_ngcontent-%COMP%]{display:flex;margin-top:8px}.input-container[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]{opacity:0;position:fixed;width:0}.input-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{box-shadow:0 2px 1px -1px #0003,0 1px 1px #00000024,0 1px 3px #0000001f;font-weight:500;line-height:100%;cursor:pointer;width:100%;text-align:center;border-radius:4px;padding:8px 0;margin-right:8px}.input-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:last-child{margin-right:0}.input-container[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]{background-color:#e3edff}.remember-settings-container[_ngcontent-%COMP%]{margin-top:16px}mat-checkbox[_ngcontent-%COMP%]{display:block}"],changeDetection:0}),k})();var N=t(68390),x=t(74929);function s(k,X){1&k&&(e.TgZ(0,"span",12),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&k&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"CBL.ENTITY.CONTACTS_CARD.TAKE_ACTION.PERSONAL")," "))}function E(k,X){1&k&&(e.TgZ(0,"span",12),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&k&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"CBL.ENTITY.CONTACTS_CARD.TAKE_ACTION.BUSINESS")," "))}function H(k,X){if(1&k&&(e.TgZ(0,"div",6)(1,"mat-radio-button",7)(2,"span",8)(3,"span",9),e._uU(4),e.qZA(),e.YNc(5,s,3,3,"span",10),e.YNc(6,E,3,3,"ng-template",null,11,e.W1O),e.qZA()()()),2&k){const K=X.$implicit,te=X.index,Ie=e.MAs(7),Te=e.oxw(2);e.xp6(1),e.Q6J("value",K.address)("checked",0===te),e.xp6(3),e.Oqu(K.address),e.xp6(1),e.Q6J("ngIf",K.pointType===Te.ContactItemDetailPointType.PERSONAL)("ngIfElse",Ie)}}function V(k,X){if(1&k){const K=e.EpF();e.TgZ(0,"div",1)(1,"label",2),e.SDv(2,3),e.qZA(),e.TgZ(3,"mat-radio-group",4),e.NdJ("change",function(Ie){return e.CHM(K),e.oxw().email.emit(Ie.value)}),e.YNc(4,H,8,5,"div",5),e.qZA()()}if(2&k){const K=e.oxw();e.xp6(4),e.Q6J("ngForOf",K.emailContactItems)}}function b(k,X){1&k&&(e.TgZ(0,"span",12),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&k&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"CBL.ENTITY.CONTACTS_CARD.TAKE_ACTION.PERSONAL")," "))}function B(k,X){1&k&&(e.TgZ(0,"span",12),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&k&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"CBL.ENTITY.CONTACTS_CARD.TAKE_ACTION.BUSINESS")," "))}function Q(k,X){if(1&k&&(e.TgZ(0,"div",6)(1,"mat-radio-button",7)(2,"span",8)(3,"span",9),e._uU(4),e.qZA(),e.YNc(5,b,3,3,"span",10),e.YNc(6,B,3,3,"ng-template",null,11,e.W1O),e.qZA()()()),2&k){const K=X.$implicit,te=X.index,Ie=e.MAs(7),Te=e.oxw(2);e.xp6(1),e.Q6J("value",K.number)("checked",0===te),e.xp6(3),e.Oqu(K.number),e.xp6(1),e.Q6J("ngIf",K.pointType===Te.ContactItemDetailPointType.PERSONAL)("ngIfElse",Ie)}}function $(k,X){if(1&k){const K=e.EpF();e.TgZ(0,"div",1)(1,"label",2),e.SDv(2,13),e.qZA(),e.TgZ(3,"mat-radio-group",14),e.NdJ("change",function(Ie){return e.CHM(K),e.oxw().phone.emit(Ie.value)}),e.YNc(4,Q,8,5,"div",5),e.qZA()()}if(2&k){const K=e.oxw();e.xp6(4),e.Q6J("ngForOf",K.phoneContactItems)}}let W=(()=>{class k{constructor(){this.phone=new e.vpe,this.email=new e.vpe,this.ContactItemDetailPointType=p.BB}}return k.\u0275fac=function(K){return new(K||k)},k.\u0275cmp=e.Xpm({type:k,selectors:[["push-contact-details"]],inputs:{contact:"contact",emailContactItems:"emailContactItems",phoneContactItems:"phoneContactItems"},outputs:{phone:"phone",email:"email"},decls:3,vars:2,consts:function(){let X,K;return X=$localize`:␟244aae9346da82b0922506c2d2581373a15641cc␟4768749765465246664:Email`,K=$localize`:␟db654f91d847f34e71ffb99268ff3a1807913421␟8194554728555410336:Phone Number`,[["class","section-container",4,"ngIf"],[1,"section-container"],[1,"select-title"],X,["name","email",3,"change"],["class","contact-item",4,"ngFor","ngForOf"],[1,"contact-item"],[3,"value","checked"],[1,"contact-item-wrapper"],[1,"contact-item-value"],["class","contact-item-description",4,"ngIf","ngIfElse"],["business",""],[1,"contact-item-description"],K,["name","phone",3,"change"]]},template:function(K,te){1&K&&(e.TgZ(0,"div"),e.YNc(1,V,5,1,"div",0),e.YNc(2,$,5,1,"div",0),e.qZA()),2&K&&(e.xp6(1),e.Q6J("ngIf",te.emailContactItems.length&&te.emailContactItems.length>1),e.xp6(1),e.Q6J("ngIf",te.phoneContactItems.length&&te.phoneContactItems.length>1))},directives:[v.O5,N.VQ,v.sg,N.U0],pipes:[x.X],styles:["contact-details[_ngcontent-%COMP%]{margin-bottom:20px}.contact-item[_ngcontent-%COMP%]{display:flex;margin-bottom:8px}.contact-item-wrapper[_ngcontent-%COMP%]{display:flex;white-space:initial}.contact-item-value[_ngcontent-%COMP%], label-with-icon[_ngcontent-%COMP%]{font-size:16px;line-height:24px;color:#282828;letter-spacing:.3px;font-weight:500;font-family:Roboto,Arial,sans-serif}.contact-item-value[_ngcontent-%COMP%]{word-break:break-all}label-with-icon[_ngcontent-%COMP%]{margin-bottom:8px;margin-top:16px}.contact-item-description[_ngcontent-%COMP%]{background-color:#0000000d;font-size:13px;line-height:20px;color:#282828;letter-spacing:.2px;font-weight:400;font-family:Roboto,Arial,sans-serif;display:inline-flex;align-items:center;border-radius:4px;padding:0 4px;margin-left:8px}.section-container[_ngcontent-%COMP%]{padding-top:16px}.section-container[_ngcontent-%COMP%]:not(:first-child){margin-top:16px;border-top:1px solid rgba(0,0,0,.12)}.select-title[_ngcontent-%COMP%]{font-size:16px;line-height:24px;color:#282828;letter-spacing:.3px;font-weight:500;font-family:Roboto,Arial,sans-serif;display:block;margin-bottom:8px}"],changeDetection:0}),k})();var q=t(80670);const le=function(k){return{lastActive:k}};function J(k,X){if(1&k&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.ALo(3,"date"),e.BQk()),2&k){const K=e.oxw().$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,"CBL.ENTITY.CONTACTS_CARD.TAKE_ACTION.SELECT_ACCOUNT.LAST_ACTIVE",e.VKq(6,le,e.lcZ(3,4,K.last_activity_date)))," ")}}function u(k,X){1&k&&(e._uU(0),e.ALo(1,"translate"),e.ALo(2,"translate")),2&k&&e.hij(" ",e.xi3(1,1,"CBL.ENTITY.CONTACTS_CARD.TAKE_ACTION.SELECT_ACCOUNT.LAST_ACTIVE",e.VKq(6,le,e.lcZ(2,4,"CBL.ENTITY.CONTACTS_CARD.TAKE_ACTION.SELECT_ACCOUNT.NO_ACTIVITY_HISTORY")))," ")}function D(k,X){if(1&k&&(e._UZ(0,"external-link",11),e.ALo(1,"translate")),2&k){const K=e.oxw().$implicit;e.Q6J("url",K.crm_link)("label",e.lcZ(1,2,"CBL.ENTITY.CONTACTS_CARD.TAKE_ACTION.SELECT_ACCOUNT.CRM"))}}function se(k,X){if(1&k&&(e.TgZ(0,"div",4)(1,"mat-radio-button",5)(2,"span",6)(3,"span",7),e._uU(4),e.qZA(),e.TgZ(5,"span"),e.YNc(6,J,4,8,"ng-container",8),e.YNc(7,u,3,8,"ng-template",null,9,e.W1O),e.YNc(9,D,2,4,"external-link",10),e.qZA()()()()),2&k){const K=X.$implicit,te=X.index,Ie=e.MAs(8);e.xp6(1),e.Q6J("value",K.id)("checked",0===te),e.xp6(3),e.hij("",K.owner_name||K.owner_alias,"; "),e.xp6(2),e.Q6J("ngIf",K.last_activity_date)("ngIfElse",Ie),e.xp6(3),e.Q6J("ngIf",K.crm_link)}}let ne=(()=>{class k{constructor(){this.onDestroy$=new f.xQ,this.onChange=()=>({}),this.onTouched=()=>({})}ngOnInit(){var K;this.accountControl=new i.NI(null===(K=this.accounts[0])||void 0===K?void 0:K.id),this.accountControl.valueChanges.pipe((0,_.R)(this.onDestroy$)).subscribe(te=>{this.onChange(te),this.onTouched()})}get value(){return this.accountControl.value}set value(K){this.accountControl.setValue(K),this.onChange(K),this.onTouched()}ngOnDestroy(){this.onDestroy$.next()}registerOnChange(K){this.onChange=K}registerOnTouched(K){this.onTouched=K}writeValue(K){K&&(this.value=K)}}return k.\u0275fac=function(K){return new(K||k)},k.\u0275cmp=e.Xpm({type:k,selectors:[["select-account-input"]],inputs:{accounts:"accounts"},features:[e._Bn([{provide:i.JU,useExisting:(0,e.Gpc)(()=>k),multi:!0}])],decls:4,vars:2,consts:function(){let X;return X=$localize`:␟912fbe4bdbcd3f7f2ea4a2581128dbc2ce3879a8␟1903629393017256767:Select Salesforce Account`,[["id","select-account"],X,["aria-labelledby","select-account",3,"formControl"],["class","account-item",4,"ngFor","ngForOf"],[1,"account-item"],[3,"value","checked"],[1,"account-item-container"],[1,"name"],[4,"ngIf","ngIfElse"],["noActivity",""],[3,"url","label",4,"ngIf"],[3,"url","label"]]},template:function(K,te){1&K&&(e.TgZ(0,"label",0),e.SDv(1,1),e.qZA(),e.TgZ(2,"mat-radio-group",2),e.YNc(3,se,10,6,"div",3),e.qZA()),2&K&&(e.xp6(2),e.Q6J("formControl",te.accountControl),e.xp6(1),e.Q6J("ngForOf",te.accounts))},directives:[N.VQ,i.JJ,i.oH,v.sg,N.U0,v.O5,q.A],pipes:[x.X,v.uU],styles:["label[_ngcontent-%COMP%]{display:block;font-size:16px;line-height:24px;color:#282828;letter-spacing:.3px;font-weight:500;font-family:Roboto,Arial,sans-serif;margin-bottom:8px}mat-radio-group[_ngcontent-%COMP%]{display:block}.account-item[_ngcontent-%COMP%]{margin-bottom:8px;display:flex}.account-item[_ngcontent-%COMP%]   external-link[_ngcontent-%COMP%]{margin-left:8px;display:inline-flex;align-items:center;line-height:20px}.name[_ngcontent-%COMP%]{font-weight:500;margin-right:8px}.account-item-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}"],changeDetection:0}),k})();function _e(k,X){1&k&&e._UZ(0,"select-push-input",3)}function ee(k,X){if(1&k&&(e._UZ(0,"select-account-input",6),e.ALo(1,"async")),2&k){const K=e.oxw(2);e.Q6J("accounts",e.lcZ(1,1,K.account$))}}function w(k,X){if(1&k){const K=e.EpF();e.TgZ(0,"div")(1,"push-contact-details",4),e.NdJ("email",function(Ie){return e.CHM(K),e.oxw().setEmail(Ie)})("phone",function(Ie){return e.CHM(K),e.oxw().setPhone(Ie)}),e.qZA(),e.YNc(2,ee,2,3,"select-account-input",5),e.ALo(3,"async"),e.qZA()}if(2&k){const K=e.oxw();e.xp6(1),e.Q6J("contact",K.contact)("emailContactItems",K.emailContactItems)("phoneContactItems",K.phoneContactItems),e.xp6(1),e.Q6J("ngIf",e.lcZ(3,4,K.showAccountSelector$))}}let G=(()=>{class k{constructor(K,te){this.store=K,this.contactsPushPreferenceService=te,this.emailContactItems=[],this.phoneContactItems=[],this.email="",this.phone="",this.form=new i.cw({pushType:new i.NI(null,i.kI.required),selectedAccount:new i.NI},void 0,this.entityLoaded()),this.pushType$=(0,g.aj)([this.form.valueChanges.pipe((0,a.O)(void 0)),this.contactsPushPreferenceService.getPreference$()]).pipe((0,c.U)(([Ie,Te])=>this.contactsPushPreferenceService.hasPushPreference(Te)?Te:this.pushType.pushType),(0,r.d)(1)),this.showPushPreferenceControl$=this.contactsPushPreferenceService.getPreference$().pipe((0,o.q)(1),(0,c.U)(Ie=>!this.contactsPushPreferenceService.hasPushPreference(Ie))),this.onDestroy$=new f.xQ,this.onChange=()=>({}),this.onTouched=()=>({}),this.form.valueChanges.pipe((0,_.R)(this.onDestroy$)).subscribe(()=>{this.handleValueChange(),this.onTouched()})}ngOnInit(){this.store.dispatch((0,y.p9)({action:(0,y.il)({entityIds:[this.organizationId]})})),this.entityIsLoading$=this.store.select((0,y.kA)(this.organizationId)).pipe((0,n.x)(),(0,_.R)(this.onDestroy$)),this.entityIsLoading$.pipe((0,_.R)(this.onDestroy$)).subscribe(()=>{this.form.updateValueAndValidity()}),this.groupItems(this.details),this.account$=this.store.select((0,y.fe)(this.organizationId)),this.contactsPushPreferenceService.getPreference$().pipe((0,o.q)(1)).subscribe(K=>{this.contactsPushPreferenceService.hasPushPreference(K)&&this.setPushTypeControlValue(K)}),this.showAccountSelector$=(0,g.aj)([this.account$,this.pushType$]).pipe((0,c.U)(([K,te])=>!!K&&K.length>1&&"contact"===te)),this.handleValueChange()}ngOnDestroy(){this.onDestroy$.next()}setEmail(K){this.email=K,this.handleValueChange()}setPhone(K){this.phone=K,this.handleValueChange()}groupItems(K){var te,Ie,Te,ce;K.filter(fe=>fe.lockType===p.bw.UNLOCKED).forEach(fe=>{fe.methodType===p.$U.EMAIL&&this.emailContactItems.push(fe),fe.methodType===p.$U.PHONE&&this.phoneContactItems.push(fe)}),this.email=null===(Ie=null===(te=this.emailContactItems)||void 0===te?void 0:te[0])||void 0===Ie?void 0:Ie.address,this.phone=null===(ce=null===(Te=this.phoneContactItems)||void 0===Te?void 0:Te[0])||void 0===ce?void 0:ce.number}handleValueChange(){const{pushType:K,rememberSetting:te}=this.pushType;if(!K)return;const Ie={contact_id:this.contact.uuid,phone:this.phone,email:this.email},Te={crmContactPushRequest:{contact_entity_id:this.contact.uuid,phone:this.phone,email:this.email},organizationId:this.organizationId};this.selectedAccount&&(Te.accountId=this.selectedAccount),"lead"===K?this.onChange({type:K,leadPayload:Ie,rememberSetting:te}):"contact"===K?this.onChange({type:K,contactPayload:Te,rememberSetting:te}):new d.S(K)}registerOnChange(K){this.onChange=K,this.handleValueChange()}registerOnTouched(K){this.onTouched=K}writeValue(){}validate(){return this.form.valid?null:{salesforcePush:!0}}setPushTypeControlValue(K){var te;K&&(null===(te=this.form.controls.pushType)||void 0===te||te.patchValue({pushType:K}))}get pushType(){var K;return(null===(K=this.form.get("pushType"))||void 0===K?void 0:K.value)||{}}get selectedAccount(){var K;return null===(K=this.form.get("selectedAccount"))||void 0===K?void 0:K.value}entityLoaded(){return()=>this.entityIsLoading$.pipe((0,o.q)(1),(0,c.U)(K=>K?{accountLoading:!0}:null))}}return k.\u0275fac=function(K){return new(K||k)(e.Y36(m.yh),e.Y36(l.f))},k.\u0275cmp=e.Xpm({type:k,selectors:[["salesforce-push"]],inputs:{contact:"contact",details:"details",organizationId:"organizationId"},features:[e._Bn([{provide:i.JU,useExisting:(0,e.Gpc)(()=>k),multi:!0},{provide:i.Cf,useExisting:(0,e.Gpc)(()=>k),multi:!0}])],decls:5,vars:7,consts:[[3,"formGroup"],["formControlName","pushType",4,"ngIf"],[4,"ngIf"],["formControlName","pushType"],[3,"contact","emailContactItems","phoneContactItems","email","phone"],["formControlName","selectedAccount","name","selectedAccount",3,"accounts",4,"ngIf"],["formControlName","selectedAccount","name","selectedAccount",3,"accounts"]],template:function(K,te){1&K&&(e.TgZ(0,"form",0),e.YNc(1,_e,1,0,"select-push-input",1),e.ALo(2,"async"),e.YNc(3,w,4,6,"div",2),e.ALo(4,"async"),e.qZA()),2&K&&(e.Q6J("formGroup",te.form),e.xp6(1),e.Q6J("ngIf",e.lcZ(2,3,te.showPushPreferenceControl$)),e.xp6(2),e.Q6J("ngIf",e.lcZ(4,5,te.pushType$)))},directives:[i._Y,i.JL,i.sg,v.O5,T,i.JJ,i.u,W,ne],pipes:[v.Ov],styles:["select-push-input[_ngcontent-%COMP%]{display:block;margin-top:16px}select-account-input[_ngcontent-%COMP%]{display:block;margin-top:16px;padding-top:16px;border-top:1px solid rgba(0,0,0,.12)}"],changeDetection:0}),k})()},5765:(oe,L,t)=>{t.d(L,{f:()=>y});var e=t(7323),i=t(86942),p=t(53298),l=t(3184);let y=(()=>{class d{constructor(f){this.userAttributeService=f}getPreference$(){return this.userAttributeService.getAttributes().pipe((0,i.U)(f=>f.contacts_push),(0,p.x)())}setPreference$(f){return this.userAttributeService.setAttribute("contacts_push",f).pipe((0,i.U)(a=>null==a?void 0:a.contacts_push))}hasPushPreference(f){return!!f&&"always-ask"!==f}}return d.\u0275fac=function(f){return new(f||d)(l.LFG(e.n3))},d.\u0275prov=l.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})()},61456:(oe,L,t)=>{t.d(L,{u:()=>a});var e=t(85971),i=t(5149),p=t(19193),l=t(24744),y=t(86942),d=t(5765),g=t(3184),f=t(35585);let a=(()=>{class c{constructor(o,_,n){this.store=o,this.crmService=_,this.contactsPushPreferenceService=n}showPreConnectDialog(){this.store.dispatch((0,i.uJ)({skipSuccessDialog:!0}))}doesContactExistsInCrm$(o){return(0,p.aj)([this.crmService.getLeadsInCrm$([o]).pipe((0,y.U)(_=>_[0])),this.crmService.getContactsInCrm$([o]).pipe((0,y.U)(_=>_[0]))]).pipe((0,y.U)(([_,n])=>({inCrm:!(!_&&!n),link:(null==_?void 0:_.crm_link)||(null==n?void 0:n.crm_link)})))}pushToCRM(o){o.rememberSetting&&this.contactsPushPreferenceService.setPreference$(o.type),"lead"===o.type?this.pushLead(o.leadPayload):"contact"===o.type?this.pushContact(o.contactPayload):new l.S(o)}pushLead(o){this.store.dispatch((0,i.Ju)({crmLeadPushRequest:o}))}pushContact(o){this.store.dispatch((0,i.a_)(o))}}return c.\u0275fac=function(o){return new(o||c)(g.LFG(f.yh),g.LFG(e._),g.LFG(d.f))},c.\u0275prov=g.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()},4143:(oe,L,t)=>{t.d(L,{P:()=>m});var e=t(93443),i=t(26090),p=t(23580),l=t(64139),y=t(70377),d=t(75215),g=t(25848),f=t(94882),a=t(71263),c=t(92938),o=t(78845),_=t(86942),n=t(3184);let m=(()=>{class v{constructor(C,S,I,T,N){this.searchApi=C,this.metadataService=S,this.syntheticMetadataService=I,this.labelService=T,this.fieldFormatterService=N,this.relatedEntitiesPageSize=10,this.contactsDefaultSortOrder=[{field_id:"job_priority",sort:e.Di.SortEnum.desc},{field_id:"identifier",sort:e.Di.SortEnum.asc}];const x=this.syntheticMetadataService.getContactsSearchProperties();this.contactCollectionId=x.contactCollectionId,this.privateContactItemCollectionId=x.privateContactItemCollectionId,this.contactItemCollectionId=x.contactItemCollectionId}getContactsResultsForOrg(C,S,I,T="profile-contacts-card"){const N={type:e.V7.TypeEnum.predicate,field_id:"organization",operator_id:"includes",values:[C]},{lastContactId:x,searchPredicate:s,contactItemsPredicate:E}=I,H=this.createContactsSearchModel(S,[N,E]);return s&&H.query.push(s),x&&(H.after_id=x),this.searchApi.dataSearchesCollectionIdPost$({collectionId:this.contactCollectionId,query:H,source:T})}getContactsById(C,S){if(!C.length)return(0,l.of)([]);const I={type:e.V7.TypeEnum.predicate,field_id:"uuid",operator_id:"includes",values:C},T=Math.min(C.length,this.metadataService.getPermissions().max_search_limit),N=this.createContactsSearchModel(T,[I]);return this.searchApi.dataSearchesCollectionIdPost$({collectionId:this.contactCollectionId,query:N,source:S}).pipe((0,_.U)(x=>x.entities||[]))}getContactFromSearchEntity(C){const S=this.getContactFields(C.properties);if(!S)return;const I=this.getContactItemsFromSearchEntity(C),T=this.getTitleFromContactItems(I);return Object.assign({collectionId:this.contactCollectionId,jobTitle:T},S)}getContactItemDetailsFromSearchEntity(C){let S=this.getContactItemsFromSearchEntity(C);const I=this.getPrivateContactItemsFromSearchEntity(C);if(!S.length&&!I.length)return[];if(I.length){const x=this.getUniqueSourcesFromPrivateContactItems(I);S=S.filter(s=>{const E=this.getSourceFromContactItem(s);return!E||!x.has(E)})}const T=this.getUnlockedData(I),N=this.getLockedData(S);return this.getUniqueContactItemDetails([...T,...N])}mergeWithUnlockedContact(C,S){const I=S.flatMap(T=>this.getContactItemDetailsFromUnlockedContact(T));return this.getDetailsCombinedSearchAndUnlocked(C,I)}getContactItemDetailsFromUnlockedContact(C){const{personal_emails:S,personal_phones:I,work_emails:T,work_phones:N,uuid:x,source_type:s,hashes:E}=C,H=s,V=(S||[]).map(($,W)=>{var q;return{address:$,tooltip:this.getTooltipForContactItem(y.$U.EMAIL,y.BB.PERSONAL,H),visible:!1,pointType:y.BB.PERSONAL,lockType:y.bw.UNLOCKED,methodType:y.$U.EMAIL,hash:(null===(q=null==E?void 0:E.personal_emails)||void 0===q?void 0:q[W])||"",itemId:x,sourceType:H}}),b=(I||[]).map(($,W)=>{var q;return{number:$,tooltip:this.getTooltipForContactItem(y.$U.PHONE,y.BB.PERSONAL,H),visible:!1,pointType:y.BB.PERSONAL,lockType:y.bw.UNLOCKED,methodType:y.$U.PHONE,hash:(null===(q=null==E?void 0:E.personal_phones)||void 0===q?void 0:q[W])||"",itemId:x,sourceType:H}});return[...(T||[]).map(($,W)=>{var q;return{address:$,tooltip:this.getTooltipForContactItem(y.$U.EMAIL,y.BB.WORK,H),visible:!1,pointType:y.BB.WORK,lockType:y.bw.UNLOCKED,methodType:y.$U.EMAIL,hash:(null===(q=null==E?void 0:E.work_emails)||void 0===q?void 0:q[W])||"",itemId:x,sourceType:H}}),...V,...(N||[]).map(($,W)=>{var q;return{number:$,tooltip:this.getTooltipForContactItem(y.$U.PHONE,y.BB.WORK,H),visible:!1,pointType:y.BB.WORK,lockType:y.bw.UNLOCKED,methodType:y.$U.PHONE,hash:(null===(q=null==E?void 0:E.work_phones)||void 0===q?void 0:q[W])||"",itemId:x,sourceType:H}}),...b]}getDetailsCombinedSearchAndUnlocked(C,S){const I=C.map(s=>s.itemId),T=S.map(s=>s.itemId),N=I.filter((s,E)=>I.indexOf(s)===E).filter(s=>T.some(E=>E===s));if(!N)return C;const x=[...C.filter(s=>!N.includes(s.itemId)),...S.filter(s=>N.includes(s.itemId))];return this.getUniqueContactItemDetails(x)}canSearchPrivateContactItems(){var C,S;const I=this.metadataService.getRelationshipByCollectionId(this.contactCollectionId,this.privateContactItemCollectionId);return!!(null===(S=null===(C=null==I?void 0:I.permissions)||void 0===C?void 0:C.is_searchable)||void 0===S?void 0:S.allowed)}getUniqueContactItemDetails(C){const S=[...C].sort(this.sortContactItemDetails),I=new Map;return S.forEach(T=>{I.get(T.hash)||I.set(T.hash,T)}),Array.from(I.values())}getContactFields(C){var S;const I=null===(S=C.identifier)||void 0===S?void 0:S.uuid,T=this.getContactFieldItem(C,"name");if(!T||!I)return;const N=this.getContactFieldItem(C,"linkedin"),x=this.getContactFieldItem(C,"job_levels"),s=this.getContactFieldItem(C,"job_departments");return N&&(N.data=(0,o.F)(N.data)),{uuid:I,name:T,linkedin:N,jobLevels:x,jobDepartments:s}}getContactFieldItem(C,S){const I=C[S],T=this.metadataService.getField(this.contactCollectionId,S);if(T&&!this.fieldFormatterService.isFieldEmpty(T,I,a.Qy.profile))return{field:T,data:I,queryData:{localProperties:C}}}getUnlockedData(C){return[...C.flatMap(T=>[...this.getUnlockedEmails(T,"work_emails",y.BB.WORK),...this.getUnlockedEmails(T,"personal_emails",y.BB.PERSONAL)]),...C.flatMap(T=>[...this.getUnlockedPhones(T,"work_phones",y.BB.WORK),...this.getUnlockedPhones(T,"personal_phones",y.BB.PERSONAL)])]}getUnlockedEmails(C,S,I){var T,N,x;const s=null===(N=null===(T=C.properties)||void 0===T?void 0:T.identifier)||void 0===N?void 0:N.uuid;if(!s)return[];const E=null===(x=C.properties)||void 0===x?void 0:x[S],H=this.getTooltipForContactItem(y.$U.EMAIL,I,C.properties.source_type);return(null==E?void 0:E.length)?E.map(V=>({address:V,tooltip:H,pointType:I,visible:!1,methodType:y.$U.EMAIL,lockType:y.bw.UNLOCKED,itemId:s,hash:this.getUnlockedDataHash(C,V),sourceType:C.properties.source_type})):[]}getUnlockedPhones(C,S,I){var T,N,x;const s=null===(N=null===(T=C.properties)||void 0===T?void 0:T.identifier)||void 0===N?void 0:N.uuid;if(!s)return[];const E=null===(x=C.properties)||void 0===x?void 0:x[S],H=this.getTooltipForContactItem(y.$U.PHONE,I,C.properties.source_type);return(null==E?void 0:E.length)?E.map(V=>({number:V,tooltip:H,pointType:I,visible:!1,methodType:y.$U.PHONE,lockType:y.bw.UNLOCKED,itemId:s,hash:this.getUnlockedDataHash(C,V),sourceType:C.properties.source_type})):[]}getUnlockedDataHash(C,S){const I=C.properties.hashes;return Object.keys(I).find(T=>I[T]===S)||""}getLockedData(C){return[...C.flatMap(T=>[...this.getLockedEmails(T,"work_emails",y.BB.WORK),...this.getLockedEmails(T,"personal_emails",y.BB.PERSONAL)]),...C.flatMap(T=>[...this.getLockedPhones(T,"work_phones",y.BB.WORK),...this.getLockedPhones(T,"personal_phones",y.BB.PERSONAL)])]}getLockedEmails(C,S,I){var T,N;const x=null===(N=null===(T=C.properties)||void 0===T?void 0:T.identifier)||void 0===N?void 0:N.uuid;if(!x)return[];const s=this.getHashesForField(C,S),E=this.getTooltipForContactItem(y.$U.EMAIL,I,C.properties.source_type);return(null==s?void 0:s.length)?s.map(H=>({pointType:I,tooltip:E,hash:H,visible:!1,methodType:y.$U.EMAIL,lockType:y.bw.LOCKED,itemId:x})):[]}getLockedPhones(C,S,I){var T,N;const x=null===(N=null===(T=C.properties)||void 0===T?void 0:T.identifier)||void 0===N?void 0:N.uuid;if(!x)return[];const s=this.getHashesForField(C,S),E=this.getTooltipForContactItem(y.$U.PHONE,I,C.properties.source_type);return(null==s?void 0:s.length)?s.map(H=>({pointType:I,tooltip:E,hash:H,visible:!1,methodType:y.$U.PHONE,lockType:y.bw.LOCKED,itemId:x})):[]}getHashesForField(C,S){var I,T;return(null===(T=null===(I=C.properties)||void 0===I?void 0:I.hashes)||void 0===T?void 0:T[S])||[]}getTitleFromContactItems(C){const S=(0,c.maxBy)(C,I=>{var T;return null!==(T=I.properties.canonical_job_priority)&&void 0!==T?T:-1});return null==S?void 0:S.properties.job_title}getTooltipForContactItem(C,S,I){return C===y.$U.EMAIL&&this.isUserSyncedContactItem(I)?$localize`Synced From Email`:S===y.BB.WORK?C===y.$U.EMAIL?$localize`Business Email`:$localize`Business Phone`:C===y.$U.EMAIL?$localize`Personal Email`:$localize`Personal Phone`}isUserSyncedContactItem(C){return C===i.KmZ.User||C===i.l60.User}getContactItemsFromSearchEntity(C){var S,I;return(null===(I=null===(S=C.related_entities)||void 0===S?void 0:S[this.contactItemCollectionId])||void 0===I?void 0:I.entities)||[]}getPrivateContactItemsFromSearchEntity(C){var S,I;return(null===(I=null===(S=C.related_entities)||void 0===S?void 0:S[this.privateContactItemCollectionId])||void 0===I?void 0:I.entities)||[]}getUniqueSourcesFromPrivateContactItems(C){const S=C.map(I=>I.properties.source_type).filter(p.K);return new Set(S)}getSourceFromContactItem(C){return C.properties.source_type}sortContactItemDetails(C,S){return C.lockType!==S.lockType?C.lockType===y.bw.UNLOCKED?-1:1:C.methodType!==S.methodType?C.methodType===y.$U.EMAIL?-1:1:C.pointType!==S.pointType?C.pointType===y.BB.WORK?-1:1:0}createContactsSearchModel(C,S){const I=this.syntheticMetadataService.getContactsSearchProperties(),T=this.canSearchPrivateContactItems()?I.contactFieldIds.concat(I.privateFieldIds):I.contactFieldIds;return{collection_id:I.contactCollectionId,field_ids:T,query:S,limit:C,order:this.contactsDefaultSortOrder,related_entities:[{collection_id:I.contactItemCollectionId,field_ids:Object.values(I.contactItem.searchFieldIds),limit:this.relatedEntitiesPageSize},this.canSearchPrivateContactItems()?{collection_id:I.privateContactItemCollectionId,field_ids:I.privateContactItemFieldIds,limit:this.relatedEntitiesPageSize}:void 0].filter(p.K)}}}return v.\u0275fac=function(C){return new(C||v)(n.LFG(e.Wq),n.LFG(d.Do),n.LFG(g.Y),n.LFG(f.Q),n.LFG(a.eM))},v.\u0275prov=n.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})()},5419:(oe,L,t)=>{t.d(L,{oD:()=>i,hW:()=>p,ci:()=>l,wy:()=>y,IK:()=>d,yX:()=>g,pe:()=>f,T1:()=>a,MJ:()=>c,zJ:()=>r,UT:()=>o,C_:()=>_,BP:()=>n,gb:()=>m,SW:()=>v,U$:()=>h,Y5:()=>C});var e=t(35585);const i=(0,e.PH)("[Contacts] Load Contacts",(0,e.Ky)()),p=(0,e.PH)("[Contacts] Load Contacts Data",(0,e.Ky)()),l=(0,e.PH)("[Contacts] Load Contacts Data Success",(0,e.Ky)()),y=(0,e.PH)("[Contacts] Load Contacts No Data Success",(0,e.Ky)()),d=(0,e.PH)("[Contacts] Load Contacts Fail"),g=(0,e.PH)("[Contacts] Load More Contacts Data"),f=(0,e.PH)("[Contacts] Load More Contacts Success",(0,e.Ky)()),a=(0,e.PH)("[Contacts] Load More Contacts Fail"),c=(0,e.PH)("[Contacts] Add Search Value For Current Search",(0,e.Ky)()),r=(0,e.PH)("[Contacts] Set Active Search Option For Current Search",(0,e.Ky)()),o=(0,e.PH)("[Contacts] Remove Search Value For Current Search",(0,e.Ky)()),_=(0,e.PH)("[Contacts] Update Static Search Values for Current Search",(0,e.Ky)()),n=(0,e.PH)("[Contacts] Show Contacts With Unlocked Data",(0,e.Ky)()),m=(0,e.PH)("[Contacts] Loading Contacts Search Success",(0,e.Ky)()),v=(0,e.PH)("[Contacts] Loading Contacts Search Fail"),h=(0,e.PH)("[Contacts] Click Unlock Button",(0,e.Ky)()),C=(0,e.PH)("[Contacts] Contact details merged with unlocked details",(0,e.Ky)());(0,e.PH)("[Contacts] Unlock Contact Failure",(0,e.Ky)())},62329:(oe,L,t)=>{t.d(L,{Nb:()=>d,ai:()=>g,aG:()=>f,ZE:()=>a,yq:()=>c,Fz:()=>r,iH:()=>o,o:()=>_,H2:()=>n,af:()=>m,kD:()=>v,hk:()=>h,NH:()=>C,tQ:()=>S,Ys:()=>I,PQ:()=>T,o8:()=>N,Yr:()=>x,gq:()=>s,Y:()=>E,pU:()=>H});var e=t(35585),i=t(23216),p=t(70377),l=t(87555);const y=(0,e.ZF)(i.pU),d=(0,e.P1)(y,V=>V.orgUuid),g=(0,e.P1)(y,V=>V.contactsStates),f=V=>(0,e.P1)(g,b=>b.find(B=>B.contact.uuid===V)),a=(0,e.P1)(g,V=>{var b;return null===(b=V[V.length-1])||void 0===b?void 0:b.contact.uuid}),c=(0,e.P1)(y,V=>V.totalInQuery),r=(0,e.P1)(g,c,(V,b)=>b>V.length),o=V=>(0,e.P1)(f(V),l.kB),_=V=>(0,e.P1)(o(V),b=>b.filter(B=>B.methodType===p.$U.EMAIL).length),n=V=>(0,e.P1)(o(V),b=>b.filter(B=>B.methodType===p.$U.PHONE).length),m=(0,e.P1)(y,V=>V.status===p.NA.INITIAL_LOADING),v=(0,e.P1)(y,V=>V.status===p.NA.INITIAL_LOADING_ERROR),h=(0,e.P1)(y,V=>V.status===p.NA.INITIAL_LOADED),C=(0,e.P1)(y,V=>V.status===p.NA.VIEW_MORE_LOADING),S=(0,e.P1)(y,V=>V.status===p.NA.VIEW_MORE_LOADING_ERROR),I=(0,e.P1)(y,V=>V.searchOptionKey),T=(0,e.P1)(y,V=>V.searchValues),N=(0,e.P1)(y,V=>V.status===p.NA.SEARCH_LOADING),x=(0,e.P1)(y,V=>V.status===p.NA.SEARCH_LOADING_ERROR),s=(0,e.P1)(y,V=>V.status===p.NA.SEARCH_LOADED),E=(0,e.P1)(m,C,N,(V,b,B)=>V||b||B),H=(0,e.P1)(y,V=>V.showOnlyUnlockedContacts)},89248:(oe,L,t)=>{t.d(L,{S:()=>i});var e=t(3184);let i=(()=>{class p{}return p.\u0275fac=function(y){return new(y||p)},p.\u0275mod=e.oAB({type:p}),p.\u0275inj=e.cJS({}),p})()},90164:(oe,L,t)=>{t.d(L,{G:()=>f});var e=t(56589),i=t(92218),p=t(19193),l=t(86942),y=t(53298),d=t(85921),g=t(3184);let f=(()=>{class a{constructor(r,o,_,n){this.breakpointService=r,this.templateRef=o,this.viewContainer=_,this.changeDetectorRef=n,this.onDestroy$=new i.xQ,this.hasView=!1}ngOnInit(){const o=("string"==typeof this.size?[this.size]:this.size).map(_=>this.breakpointService.isSize$(_));(0,p.aj)(o).pipe((0,l.U)(_=>_.some(n=>n)),(0,y.x)(),(0,d.R)(this.onDestroy$)).subscribe(_=>{_&&!this.hasView?(this.viewContainer.createEmbeddedView(this.templateRef),this.hasView=!0,this.changeDetectorRef.markForCheck()):!_&&this.hasView&&(this.viewContainer.clear(),this.hasView=!1,this.changeDetectorRef.markForCheck())})}ngOnDestroy(){this.onDestroy$.next()}}return a.\u0275fac=function(r){return new(r||a)(g.Y36(e.r),g.Y36(g.Rgc),g.Y36(g.s_b),g.Y36(g.sBO))},a.\u0275dir=g.lG2({type:a,selectors:[["","ifBreakpoint",""]],inputs:{size:["ifBreakpoint","size"]}}),a})()},23846:(oe,L,t)=>{t.d(L,{B:()=>i});var e=t(3184);let i=(()=>{class p{}return p.\u0275fac=function(y){return new(y||p)},p.\u0275mod=e.oAB({type:p}),p.\u0275inj=e.cJS({}),p})()},5076:(oe,L,t)=>{t.d(L,{V:()=>p});var e=t(36362),i=t(3184);let p=(()=>{class l{}return l.\u0275fac=function(d){return new(d||l)},l.\u0275mod=i.oAB({type:l}),l.\u0275inj=i.cJS({imports:[[e.ez]]}),l})()},61531:(oe,L,t)=>{t.d(L,{l:()=>g});var e=t(20605),i=t(92218),p=t(85921),l=t(86942),y=t(53298),d=t(3184);let g=(()=>{class f{constructor(c,r,o){this.templateRef=c,this.viewContainer=r,this.featureService=o,this.onDestroy$=new i.xQ,this.isInverted=!1}ngOnInit(){this.featureFlagInverted&&void 0===this.featureFlag&&(this.featureFlag=this.featureFlagInverted,this.isInverted=!0),this.featureService.getBooleanValue(this.featureFlag,!1).pipe((0,p.R)(this.onDestroy$),(0,l.U)(c=>this.isInverted?!c:c),(0,y.x)()).subscribe(c=>{c?this.viewContainer.createEmbeddedView(this.templateRef):this.viewContainer.clear()})}ngOnDestroy(){this.onDestroy$.next()}}return f.\u0275fac=function(c){return new(c||f)(d.Y36(d.Rgc),d.Y36(d.s_b),d.Y36(e.Bz))},f.\u0275dir=d.lG2({type:f,selectors:[["","ifFeatureFlagBoolean",""],["","ifNotFeatureFlagBoolean",""]],inputs:{featureFlag:["ifFeatureFlagBoolean","featureFlag"],featureFlagInverted:["ifNotFeatureFlagBoolean","featureFlagInverted"]}}),f})()},96017:(oe,L,t)=>{t.d(L,{a:()=>S});var e=t(92218),i=t(85921),p=t(4151),l=t(98789),y=t(3184),d=t(61555),g=t(45398),f=t(64139),a=t(36312),c=t(88623),r=t(86942),o=t(93791),_=t(80823),n=t(59151),m=t(49837),v=(()=>{return(I=v||(v={})).enter="enter",I.leave="leave",I.nothing="nothing",v;var I})();let C=(()=>{class I{constructor(N){this.platformService=N,this.readyToListenForHovers$=new d.t(1),this.platformService.isBrowser()&&(0,g.H)(1e4).subscribe(x=>this.readyToListenForHovers$.next(!0))}watchHoverDelay(N,x=0,s=!1){return s?(0,f.of)(this.getHoverController(N,x)):this.readyToListenForHovers$.asObservable().pipe((0,r.U)(()=>this.getHoverController(N,x)))}getHoverController(N,x=0){let s=new e.xQ,E=this.getCombinedStreamFromElements(N,s),V=E.pipe((0,o.f)(E.pipe((0,_.b)(x)))).pipe((0,r.U)(b=>this.mapMouseEventsToHoverEvent(b)));return{onEnter:V.pipe((0,n.h)(b=>b===v.enter)),onLeave:V.pipe((0,n.h)(b=>b===v.leave)),clear:()=>{s.next()}}}mapMouseEventsToHoverEvent(N){let x=N.reduce((s,E)=>s+(E===v.enter?1:-1),0);return 0===x?v.nothing:x>0?v.enter:v.leave}getCombinedStreamFromElements(N,x){let s=[];return Array.isArray(N)||(N=[N]),N.forEach(E=>{let H=(0,a.R)(E,"mouseenter").pipe((0,i.R)(x),(0,r.U)(()=>v.enter)),V=(0,a.R)(E,"mouseleave").pipe((0,i.R)(x),(0,r.U)(()=>v.leave));s.push(H,V)}),s.reduce((E,H)=>(0,c.T)(E,H))}}return I.\u0275fac=function(N){return new(N||I)(y.LFG(m.m))},I.\u0275prov=y.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})(),S=(()=>{class I{constructor(N,x,s,E,H,V){this.elementRef=N,this.hoverService=x,this.overlayService=s,this.analyticsService=E,this.platformService=H,this.ngZone=V,this.hoverPreview=!0,this.hoverDelay=1e3,this.onDisable=new e.xQ}ngOnInit(){this.platformService.isServer()&&(this.hoverPreview=!1)}ngAfterViewInit(){this.hoverPreview?!this.elementRef||!this.elementRef.nativeElement||this.overlayController||this.listenToHoverEvents([this.elementRef.nativeElement]):this.disableHoverPreview()}ngOnDestroy(){this.disableHoverPreview()}disableHoverPreview(){this.closeOverlay(),this.onDisable.next(),this.clearHoverEvents()}closeOverlay(){this.overlayController&&(this.overlayController.close(),this.overlayController=void 0)}clearHoverEvents(){this.stopListeningToHover&&this.stopListeningToHover()}listenToHoverEvents(N){this.hoverService.watchHoverDelay(N,this.hoverDelay).pipe((0,i.R)(this.onDisable)).subscribe(({onEnter:x,onLeave:s,clear:E})=>{this.stopListeningToHover=E,this.ngZone.runOutsideAngular(()=>{x.pipe((0,i.R)(this.onDisable)).subscribe(()=>{this.ngZone.run(()=>{this.onOpen()})}),s.pipe((0,i.R)(this.onDisable)).subscribe(()=>{this.ngZone.run(()=>{this.closeOverlay()})})})})}onOpen(){if(!this.hoverComponent||this.overlayController)return;let N=[];const x=this.getWidths();let s=0;x&&(s=Math.round(-x.elementContainer/2+(this.hoverOffsetX||x.hoverElement/2)),N=[{offsetX:s,offsetY:-15,originX:"center",originY:"top",overlayX:"center",overlayY:"bottom"},{offsetX:s,offsetY:15,originX:"center",originY:"bottom",overlayX:"center",overlayY:"top"},{offsetX:10,offsetY:0,originX:"end",originY:"center",overlayX:"start",overlayY:"center"},{offsetX:-10,offsetY:0,originX:"start",originY:"center",overlayX:"end",overlayY:"center"}]),this.overlayController=this.overlayService.open({component:this.hoverComponent,payload:this.hoverPayload,connectedElement:this.elementRef,positionStrategy:this.overlayService.createPositionStrategy().flexibleConnectedTo(this.elementRef).withPositions(N.concat(p.bn)),scrollStrategy:this.overlayService.createScrollStrategy("reposition"),closeOnEsc:!0,arrowOffset:s}),this.analyticsService.trackInHeap("hover_preview_view",this.hoverPayload),this.onDisable.next(),this.clearHoverEvents(),this.overlayController.onClose.subscribe(()=>{this.overlayController=void 0}),this.listenToHoverEvents([this.elementRef.nativeElement,this.overlayController.element])}getWidths(){if(!this.elementRef)return;let N=this.elementRef.nativeElement.querySelector("[hoverOverElement]");N||(N=this.elementRef.nativeElement);let x=this.elementRef.nativeElement.querySelector("[hoverOverElementContainer]");return x||(x=this.elementRef.nativeElement),{elementContainer:x.offsetWidth,hoverElement:N.offsetWidth}}}return I.\u0275fac=function(N){return new(N||I)(y.Y36(y.SBq),y.Y36(C),y.Y36(p.F0),y.Y36(l.y),y.Y36(m.m),y.Y36(y.R0b))},I.\u0275dir=y.lG2({type:I,selectors:[["","hoverPreview",""]],inputs:{hoverPreview:"hoverPreview",hoverComponent:"hoverComponent",hoverDelay:"hoverDelay",hoverPayload:"hoverPayload",hoverOffsetX:"hoverOffsetX"}}),I})()},40577:(oe,L,t)=>{t.d(L,{C:()=>i});var e=t(3184);let i=(()=>{class p{}return p.\u0275fac=function(y){return new(y||p)},p.\u0275mod=e.oAB({type:p}),p.\u0275inj=e.cJS({}),p})()},40361:(oe,L,t)=>{t.d(L,{z:()=>_});var e=t(97010),i=t(83910),p=t(8601),l=t(62036);const y={acquisition:"acquisition",category:"category",category_group:"category",company:"company",event:"event","funding-round":"funding",investor:"investor",ipo:"ipo",location:"location",organization:"company",person:"person",school:"school"};var f=t(92938),a=t(3184),c=t(49837),r=t(34657);const o=(0,f.memoize)(n=>`url(data:image/svg+xml;base64,${btoa(function g(n){const m=n?y[n]:void 0,v=m&&p.x[m];return l.U[(null==v?void 0:v.icon)||"icon_cb_letters"].replace(/<path /g,'<path fill="#BDBDBD" ').replace("<svg ",'<svg xmlns="http://www.w3.org/2000/svg" ')}(n))})`);let _=(()=>{class n{constructor(v,h,C,S,I,T){this.platformService=v,this.imageService=h,this.ngZone=C,this.renderer=S,this.elementRef=I,this.viewportService=T,this.useIdentifierImgStyle=!1}ngAfterContentInit(){this.platformService.isBrowser()&&(this.nativeEl=this.elementRef.nativeElement,this.nativeEl.classList.add("cb-image-with-placeholder"),this.nativeEl.classList.add("empty"),this.renderer.setStyle(this.nativeEl,"background-image",o(this.placeholderType)),this.useIdentifierImgStyle&&this.nativeEl.classList.add("identifier-img-style"),this.imageId&&!this.imgSrc&&(this.imgSrc=this.imageService.getPublicImageUrl(this.imageId,this.imageOptions)),this.imgSrc&&(this.createImgEl(),this.viewportService.notifyInViewport(this.nativeEl).pipe((0,i.q)(1)).subscribe(()=>{this.imgEl.setAttribute("src",this.imgSrc)}),(this.imgAlt||""===this.imgAlt)&&this.imgEl.setAttribute("alt",this.imgAlt)))}ngOnChanges(v){this.nativeEl&&v.placeholderType&&(this.nativeEl.classList.remove(v.placeholderType.previousValue),this.nativeEl.classList.add(v.placeholderType.currentValue)),this.nativeEl&&(v.imgSrc||v.imageId)&&(this.imgEl||this.createImgEl(),v.imageId&&(this.imgSrc=this.imageService.getPublicImageUrl(this.imageId,this.imageOptions)),this.imgEl.setAttribute("src",this.imgSrc))}ngOnDestroy(){this.platformService.isBrowser()&&this.ngZone.runOutsideAngular(()=>{this.nativeEl.removeEventListener("error",this.onError),this.nativeEl.removeEventListener("load",this.onLoad)})}createImgEl(){this.imgEl=this.renderer.createElement("img"),this.renderer.appendChild(this.nativeEl,this.imgEl),this.imgEl.setAttribute("style","opacity: 0;"),this.addImgEventListeners(this.imgEl)}addImgEventListeners(v){this.ngZone.runOutsideAngular(()=>{this.onError=()=>{v.setAttribute("style","display: none;")},this.onLoad=()=>{v.setAttribute("style","opacity: 1;"),this.nativeEl.classList.remove("empty"),this.renderer.removeStyle(this.nativeEl,"background-image")},v.addEventListener("error",this.onError),v.addEventListener("load",this.onLoad)})}}return n.\u0275fac=function(v){return new(v||n)(a.Y36(c.m),a.Y36(e.AJ),a.Y36(a.R0b),a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(r.v))},n.\u0275dir=a.lG2({type:n,selectors:[["","lazyLoadImage",""]],inputs:{placeholderType:"placeholderType",imgSrc:"imgSrc",imgAlt:"imgAlt",imageId:"imageId",imageOptions:"imageOptions",useIdentifierImgStyle:"useIdentifierImgStyle"},features:[a.TTD]}),n})()},68881:(oe,L,t)=>{t.d(L,{N:()=>i});var e=t(3184);let i=(()=>{class p{}return p.\u0275fac=function(y){return new(y||p)},p.\u0275mod=e.oAB({type:p}),p.\u0275inj=e.cJS({}),p})()},61276:(oe,L,t)=>{t.d(L,{V:()=>i});var e=t(3184);let i=(()=>{class p{constructor(){this.target="_blank",this.rel="noopener nofollow noreferrer"}}return p.\u0275fac=function(y){return new(y||p)},p.\u0275dir=e.lG2({type:p,selectors:[["a","cb-external-link",""]],hostVars:2,hostBindings:function(y,d){2&y&&e.uIk("target",d.target)("rel",d.rel)}}),p})()},46036:(oe,L,t)=>{t.d(L,{n:()=>l});var e=t(3184),i=t(18554),p=t(45857);let l=(()=>{class y{constructor(g,f,a){this.el=g,this.linkNewTabService=f,this.routerLink=a}ngAfterViewChecked(){!this.linkNewTabService.shouldOpenInNewTab()||(this.el.nativeElement.target="_blank",this.routerLink&&(this.routerLink.target="_blank"))}}return y.\u0275fac=function(g){return new(g||y)(e.Y36(e.SBq),e.Y36(i.v),e.Y36(p.yS,8))},y.\u0275dir=e.lG2({type:y,selectors:[["a",3,"target","_blank"]]}),y})()},18554:(oe,L,t)=>{t.d(L,{v:()=>i});var e=t(3184);let i=(()=>{class p{constructor(){this.alwaysOpenInNewTab=!1}shouldOpenInNewTab(){return this.alwaysOpenInNewTab}setAlwaysOpenInNewTab(y){this.alwaysOpenInNewTab=y}}return p.\u0275fac=function(y){return new(y||p)},p.\u0275prov=e.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})()},47367:(oe,L,t)=>{t.d(L,{I:()=>i});var e=t(3184);let i=(()=>{class p{get isPrimary(){return!this.color||"primary"===this.color}get isAccent(){return"accent"===this.color}}return p.\u0275fac=function(y){return new(y||p)},p.\u0275dir=e.lG2({type:p,selectors:[["a","cb-link",""]],hostVars:4,hostBindings:function(y,d){2&y&&e.ekj("link-primary",d.isPrimary)("link-accent",d.isAccent)},inputs:{color:["cb-link","color"]}}),p})()},19366:(oe,L,t)=>{t.d(L,{L:()=>p});var e=t(36362),i=t(3184);let p=(()=>{class l{}return l.\u0275fac=function(d){return new(d||l)},l.\u0275mod=i.oAB({type:l}),l.\u0275inj=i.cJS({imports:[[e.ez]]}),l})()},37075:(oe,L,t)=>{t.d(L,{K:()=>a});var e=t(75939),i=t(92218),p=t(88623),l=t(85921),y=t(59151),d=t(29361),g=t(3184),f=t(54166);let a=(()=>{class c{constructor(o){this.connectedOverlay=o,this.overlayAutoCloseOnTab=!0,this.onDestroy=new i.xQ,this.createClosedStream$().pipe((0,l.R)(this.onDestroy)).subscribe(()=>o.overlayRef.detach())}ngOnDestroy(){this.onDestroy.next()}createClosedStream$(){const o=this.connectedOverlay.overlayKeydown.pipe((0,y.h)(n=>n.keyCode===e.hY||this.overlayAutoCloseOnTab&&n.keyCode===e.Mf||n.altKey&&n.keyCode===e.LH)),_=this.connectedOverlay.overlayOutsideClick.pipe((0,y.h)(n=>!this.connectedOverlay.origin.elementRef.nativeElement.contains(n.target)));return(0,p.T)(o,_).pipe((0,d.h)(void 0))}}return c.\u0275fac=function(o){return new(o||c)(g.Y36(f.pI))},c.\u0275dir=g.lG2({type:c,selectors:[["","overlayAutoClose",""]],inputs:{overlayAutoCloseOnTab:"overlayAutoCloseOnTab"}}),c})()},20715:(oe,L,t)=>{t.d(L,{W:()=>i});var e=t(3184);let i=(()=>{class p{}return p.\u0275fac=function(y){return new(y||p)},p.\u0275mod=e.oAB({type:p}),p.\u0275inj=e.cJS({}),p})()},82262:(oe,L,t)=>{t.d(L,{a:()=>p});var e=t(3184),i=t(4151);let p=(()=>{class l{constructor(d,g){this.elementRef=d,this.overlayService=g,this.overlayScrollStrategy="close",this.overlayDisabled=!1,this.overlayToggled=new e.vpe}ngOnChanges(d){d.overlayOpen&&(this.overlayOpen?this.openOverlay():this.closeOverlay())}onClick(){this.openOverlay()}ngOnDestroy(){this.closeOverlay()}openOverlay(){if(this.overlayWithArrow&&!this.overlayDisabled){if(this.isOpen)return void this.closeOverlay();this.overlayController=this.overlayService.open({component:this.overlayWithArrow,payload:this.overlayPayload,connectedElement:this.elementRef,positionStrategy:this.overlayService.createPositionStrategy().flexibleConnectedTo(this.elementRef).withPositions((this.overlayPreferredPositions||[]).concat(i.bn)),scrollStrategy:this.overlayService.createScrollStrategy(this.overlayScrollStrategy),closeOnOutsideClick:!0,closeOnEsc:!0}),this.overlayController.onClose.subscribe(()=>{this.isOpen=!1,this.overlayController=void 0,this.overlayToggled.emit(this.isOpen)}),this.isOpen=!0,this.overlayToggled.emit(this.isOpen)}}closeOverlay(){this.overlayController&&(this.overlayController.close(),this.overlayController=void 0),this.isOpen=!1,this.overlayToggled.emit(this.isOpen)}}return l.\u0275fac=function(d){return new(d||l)(e.Y36(e.SBq),e.Y36(i.F0))},l.\u0275dir=e.lG2({type:l,selectors:[["","overlayWithArrow",""]],hostBindings:function(d,g){1&d&&e.NdJ("click",function(){return g.onClick()})},inputs:{overlayWithArrow:"overlayWithArrow",overlayPayload:"overlayPayload",overlayScrollStrategy:"overlayScrollStrategy",overlayPreferredPositions:"overlayPreferredPositions",overlayDisabled:"overlayDisabled",overlayOpen:"overlayOpen"},outputs:{overlayToggled:"overlayToggled"},features:[e.TTD]}),l})()},35852:(oe,L,t)=>{t.d(L,{a:()=>i});var e=t(3184);let i=(()=>{class p{}return p.\u0275fac=function(y){return new(y||p)},p.\u0275mod=e.oAB({type:p}),p.\u0275inj=e.cJS({}),p})()},82973:(oe,L,t)=>{t.d(L,{W:()=>p});var e=t(3184),i=t(49837);let p=(()=>{class l{constructor(d,g,f){this.platformService=d,this.templateRef=g,this.viewContainer=f}ngOnInit(){this.platformService.isBrowser()&&this.viewContainer.createEmbeddedView(this.templateRef)}}return l.\u0275fac=function(d){return new(d||l)(e.Y36(i.m),e.Y36(e.Rgc),e.Y36(e.s_b))},l.\u0275dir=e.lG2({type:l,selectors:[["","ifPlatformBrowser",""]]}),l})()},79215:(oe,L,t)=>{t.d(L,{u:()=>i});var e=t(3184);let i=(()=>{class p{}return p.\u0275fac=function(y){return new(y||p)},p.\u0275mod=e.oAB({type:p}),p.\u0275inj=e.cJS({}),p})()},32112:(oe,L,t)=>{t.d(L,{N:()=>p});var e=t(3184),i=t(24018);let p=(()=>{class l{constructor(d,g){this.elRef=d,this.scrollService=g}ngAfterViewInit(){setTimeout(()=>this.scrollToElement())}ngOnChanges(d){!d.scrollToElementInContainer.isFirstChange()&&this.scrollToElement()}scrollToElement(){this.scrollToElementInContainer&&this.scrollService.scrollToElementInContainer(this.elRef.nativeElement)}}return l.\u0275fac=function(d){return new(d||l)(e.Y36(e.SBq),e.Y36(i.a))},l.\u0275dir=e.lG2({type:l,selectors:[["","scrollToElementInContainer",""]],inputs:{scrollToElementInContainer:"scrollToElementInContainer"},features:[e.TTD]}),l})()},85495:(oe,L,t)=>{t.d(L,{E:()=>i});var e=t(3184);let i=(()=>{class p{}return p.\u0275fac=function(y){return new(y||p)},p.\u0275mod=e.oAB({type:p}),p.\u0275inj=e.cJS({}),p})()},74465:(oe,L,t)=>{t.d(L,{i:()=>i});var e=t(3184);let i=(()=>{class p{}return p.\u0275fac=function(y){return new(y||p)},p.\u0275mod=e.oAB({type:p}),p.\u0275inj=e.cJS({}),p})()},18827:(oe,L,t)=>{t.d(L,{m:()=>i});var e=t(3184);let i=(()=>{class p{}return p.\u0275fac=function(y){return new(y||p)},p.\u0275mod=e.oAB({type:p}),p.\u0275inj=e.cJS({}),p})()},22972:(oe,L,t)=>{t.d(L,{k:()=>y});var e=t(2384),i=t(40759),p=t(99516),l=t(3184);let y=(()=>{class d{constructor(f,a){this.dialogService=f,this.usageEventService=a,this.upsellShowLogin=!1,this.upsellShowCancel=!1}onClick(){this.usageEventService.logUsageEvent("upsell-button",Object.assign({modal_name:"upsell-modal",upsell_feature:this.upsellTrigger},this.upsellTriggerLocation&&{trigger_location:this.upsellTriggerLocation})),this.showUpsellDialog()}showUpsellDialog(){this.dialogService.showDialog(p.j,{featureSet:this.upsellTrigger,context:this.upsellContext,showDetails:this.upsellShowDetails,showLogin:this.upsellShowLogin,showCancel:this.upsellShowCancel})}}return d.\u0275fac=function(f){return new(f||d)(l.Y36(e.x),l.Y36(i.N))},d.\u0275dir=l.lG2({type:d,selectors:[["","upsellTrigger",""]],hostBindings:function(f,a){1&f&&l.NdJ("click",function(){return a.onClick()})},inputs:{upsellTrigger:"upsellTrigger",upsellContext:"upsellContext",upsellTriggerLocation:"upsellTriggerLocation",upsellShowDetails:"upsellShowDetails",upsellShowLogin:"upsellShowLogin",upsellShowCancel:"upsellShowCancel"}}),d})()},59543:(oe,L,t)=>{t.d(L,{_:()=>p});var e=t(3184),i=t(90587);let p=(()=>{class l{get serverError(){return this._serverError}set serverError(d){this._serverError=d,this.onChangeFunction&&(this.serverErroredValue=null,this.onChangeFunction())}validate(d){var g;let f=d.value,a=this.fieldNameOverride||this.fieldName;const c=null===(g=this.serverError)||void 0===g?void 0:g.errors;return(Array.isArray(c)?c:[]).some(_=>(null==_?void 0:_.field)&&_.field===a)&&(this.serverErroredValue||(this.serverErroredValue=f),this.isServerErroredValue(d.value))?{serverError:!0}:null}registerOnValidatorChange(d){this.onChangeFunction=d}isServerErroredValue(d){return d===this.serverErroredValue}}return l.\u0275fac=function(d){return new(d||l)},l.\u0275dir=e.lG2({type:l,selectors:[["","serverError","","formControlName",""],["","serverError","","formControl",""],["","serverError","","ngModel",""]],inputs:{fieldName:["name","fieldName"],fieldNameOverride:["fieldName","fieldNameOverride"],serverError:"serverError"},features:[e._Bn([{provide:i.Cf,useExisting:(0,e.Gpc)(()=>l),multi:!0}])]}),l})()},54749:(oe,L,t)=>{t.d(L,{m:()=>l});var e=t(3184),i=t(90587),p=t(18415);let l=(()=>{class y{constructor(g){this.userValidatorService=g}validate(g){return this.userValidatorService.getValidateNameFn()(g)}}return y.\u0275fac=function(g){return new(g||y)(e.Y36(p.M))},y.\u0275dir=e.lG2({type:y,selectors:[["","validName","","formControlName",""],["","validName","","formControl",""],["","validName","","ngModel",""]],features:[e._Bn([{provide:i.Cf,useExisting:(0,e.Gpc)(()=>y),multi:!0}])]}),y})()},65852:(oe,L,t)=>{t.d(L,{C:()=>i});var e=t(3184);let i=(()=>{class p{}return p.\u0275fac=function(y){return new(y||p)},p.\u0275mod=e.oAB({type:p}),p.\u0275inj=e.cJS({}),p})()},713:(oe,L,t)=>{t.d(L,{z:()=>l});var e=t(3184),i=t(83910),p=t(34657);let l=(()=>{class y{constructor(g,f){this.elementRef=g,this.viewportService=f,this.inViewport=new e.vpe}ngOnInit(){this.viewportService.notifyInViewport(this.elementRef.nativeElement,this.options).pipe((0,i.q)(1)).subscribe(()=>this.inViewport.emit())}}return y.\u0275fac=function(g){return new(g||y)(e.Y36(e.SBq),e.Y36(p.v))},y.\u0275dir=e.lG2({type:y,selectors:[["","inViewportNotifier",""]],inputs:{options:"options"},outputs:{inViewport:"inViewport"}}),y})()},4745:(oe,L,t)=>{t.d(L,{Y:()=>i});var e=t(3184);let i=(()=>{class p{}return p.\u0275fac=function(y){return new(y||p)},p.\u0275mod=e.oAB({type:p}),p.\u0275inj=e.cJS({}),p})()},63555:(oe,L,t)=>{t.d(L,{c:()=>y});var e=t(3184),i=t(92938),l=t(49837);let y=(()=>{class d{constructor(f,a){this.platformService=f,this.ngZone=a,this.onResize=new e.vpe}ngAfterContentInit(){this.platformService.isBrowser()&&this.addEventListener()}ngOnDestroy(){this.platformService.isBrowser()&&this.ngZone.runOutsideAngular(()=>{window.removeEventListener("resize",this.regulatedOnResize)})}addEventListener(){this.ngZone.runOutsideAngular(()=>{let f=()=>{this.ngZone.run(()=>{this.onResize.emit()})};this.regulatedOnResize="throttle"===this.regulateExecutionBy?(0,i.throttle)(f,this.wait):"debounce"===this.regulateExecutionBy?(0,i.debounce)(f,this.wait):f,window.addEventListener("resize",this.regulatedOnResize)})}}return d.\u0275fac=function(f){return new(f||d)(e.Y36(l.m),e.Y36(e.R0b))},d.\u0275dir=e.lG2({type:d,selectors:[["","windowResizeNotifier",""]],inputs:{regulateExecutionBy:"regulateExecutionBy",wait:"wait"},outputs:{onResize:"onResize"}}),d})()},51151:(oe,L,t)=>{t.d(L,{A:()=>i});var e=t(3184);let i=(()=>{class p{}return p.\u0275fac=function(y){return new(y||p)},p.\u0275mod=e.oAB({type:p}),p.\u0275inj=e.cJS({}),p})()},70821:(oe,L,t)=>{t.d(L,{EW:()=>n,td:()=>Le,q7:()=>at});var e=t(36362),i=t(90898),p=t(89250),l=t(19946),y=t(32519),d=t(87317),g=t(35503),f=t(95758),a=t(3184);let c=(()=>{class Fe{}return Fe.\u0275fac=function(Ye){return new(Ye||Fe)},Fe.\u0275mod=a.oAB({type:Fe}),Fe.\u0275inj=a.cJS({imports:[[e.ez,l.g0,y.n,d.ot,g.Dt,f.Is]]}),Fe})();var r=t(32313);let o=(()=>{class Fe{}return Fe.\u0275fac=function(Ye){return new(Ye||Fe)},Fe.\u0275mod=a.oAB({type:Fe}),Fe.\u0275inj=a.cJS({imports:[[e.ez,i.q,p.S,c,r.H,g.Dt]]}),Fe})();var _=t(25294);let n=(()=>{class Fe{}return Fe.\u0275fac=function(Ye){return new(Ye||Fe)},Fe.\u0275mod=a.oAB({type:Fe}),Fe.\u0275inj=a.cJS({imports:[[o,_.j]]}),Fe})();var m=t(54166),v=t(64139),h=t(88759),C=t(59095),S=t(29361),I=t(20590),T=t(24956),N=t(92218),x=t(59151),s=t(85921),E=t(93649),H=t(35266),V=t(96800),b=t(71345),B=t(29964),Q=t(15435),$=t(94009),W=t(53615),q=t(68840),le=t(78294),J=t(32478),u=t(74929);function D(Fe,dt){if(1&Fe){const Ye=a.EpF();a.TgZ(0,"button",4),a.NdJ("click",function(Je){return a.CHM(Ye),a.oxw().minimize(Je)}),a.ALo(1,"translate"),a._UZ(2,"icon",7),a.qZA()}2&Fe&&a.uIk("aria-label",a.lcZ(1,1,"CBL.COMMON.MINIMIZE"))}function se(Fe,dt){if(1&Fe){const Ye=a.EpF();a.TgZ(0,"button",4),a.NdJ("click",function(Je){return a.CHM(Ye),a.oxw().maximize(Je)}),a.ALo(1,"translate"),a._UZ(2,"icon",8),a.qZA()}2&Fe&&a.uIk("aria-label",a.lcZ(1,1,"CBL.COMMON.MAXIMIZE"))}function ne(Fe,dt){if(1&Fe){const Ye=a.EpF();a.TgZ(0,"button",4),a.NdJ("click",function(Je){return a.CHM(Ye),a.oxw().enlarge(Je)}),a.ALo(1,"translate"),a._UZ(2,"icon",9),a.qZA()}2&Fe&&a.uIk("aria-label",a.lcZ(1,1,"CBL.COMMON.EXPAND"))}function _e(Fe,dt){if(1&Fe){const Ye=a.EpF();a.TgZ(0,"button",4),a.NdJ("click",function(Je){return a.CHM(Ye),a.oxw().shrink(Je)}),a.ALo(1,"translate"),a._UZ(2,"icon",10),a.qZA()}2&Fe&&a.uIk("aria-label",a.lcZ(1,1,"CBL.COMMON.COLLAPSE"))}const ee=["*"];let w=(()=>{class Fe{constructor(){this.title="",this.hidden=!1,this.enlarged=!1,this.hiddenChange=new a.vpe,this.enlargedChange=new a.vpe,this.closeClick=new a.vpe}minimize(Ye){null==Ye||Ye.stopPropagation(),this.hidden=!0,this.hiddenChange.emit(this.hidden),this.shrink()}maximize(Ye){null==Ye||Ye.stopPropagation(),this.hidden=!1,this.hiddenChange.emit(this.hidden)}toggle(){this.hidden?this.maximize():this.minimize()}enlarge(Ye){null==Ye||Ye.stopPropagation(),this.enlarged=!0,this.maximize(),this.enlargedChange.emit(this.enlarged)}shrink(Ye){null==Ye||Ye.stopPropagation(),this.enlarged=!1,this.enlargedChange.emit(this.enlarged)}close(Ye){Ye.stopPropagation(),this.closeClick.emit(Ye)}}return Fe.\u0275fac=function(Ye){return new(Ye||Fe)},Fe.\u0275cmp=a.Xpm({type:Fe,selectors:[["collapsible-bottom-sheet-container"]],inputs:{title:"title",hidden:"hidden",enlarged:"enlarged"},outputs:{hiddenChange:"hiddenChange",enlargedChange:"enlargedChange",closeClick:"closeClick"},ngContentSelectors:ee,decls:13,vars:11,consts:[[3,"click"],["mat-dialog-title",""],[1,"button-container"],["mat-icon-button","",3,"click",4,"ngIf"],["mat-icon-button","",3,"click"],["key","icon_close","color","inherit",1,"close-icon"],[3,"hidden"],["key","icon_minimize","color","inherit"],["key","icon_maximize","color","inherit"],["key","icon_open_fullscreen","color","inherit"],["key","icon_close_fullscreen","color","inherit"]],template:function(Ye,vt){1&Ye&&(a.F$t(),a.TgZ(0,"mat-toolbar",0),a.NdJ("click",function(){return vt.toggle()}),a.TgZ(1,"h1",1),a._uU(2),a.qZA(),a.TgZ(3,"div",2),a.YNc(4,D,3,3,"button",3),a.YNc(5,se,3,3,"button",3),a.YNc(6,ne,3,3,"button",3),a.YNc(7,_e,3,3,"button",3),a.TgZ(8,"button",4),a.NdJ("click",function(Ke){return vt.close(Ke)}),a.ALo(9,"translate"),a._UZ(10,"icon",5),a.qZA()()(),a.TgZ(11,"div",6),a.Hsn(12),a.qZA()),2&Ye&&(a.ekj("minimized",vt.hidden),a.xp6(2),a.Oqu(vt.title),a.xp6(2),a.Q6J("ngIf",!vt.hidden),a.xp6(1),a.Q6J("ngIf",vt.hidden),a.xp6(1),a.Q6J("ngIf",!vt.enlarged),a.xp6(1),a.Q6J("ngIf",vt.enlarged),a.xp6(1),a.uIk("aria-label",a.lcZ(9,9,"CBL.COMMON.CLOSE")),a.xp6(3),a.Q6J("hidden",vt.hidden))},directives:[l.Ye,f.uh,e.O5,d.lW,J.o],pipes:[u.X],styles:["[_nghost-%COMP%]{background-color:#fff;box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f;display:block;min-width:256px}[_nghost-%COMP%]  mat-toolbar, [_nghost-%COMP%]  mat-toolbar mat-toolbar-row, [_nghost-%COMP%]  mat-toolbar .mat-toolbar-tools{height:44px!important;min-height:44px!important;max-height:44px!important}mat-toolbar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;background-color:#183444;color:#fff;cursor:pointer}mat-toolbar.minimized[_ngcontent-%COMP%]{min-width:256px;max-width:450px}h1[_ngcontent-%COMP%]{font-size:16px;line-height:24px;color:#282828;letter-spacing:.3px;font-weight:500;font-family:Roboto,Arial,sans-serif;color:#fff;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.button-container[_ngcontent-%COMP%]{display:flex;margin-left:8px}.close-icon[_ngcontent-%COMP%]  svg{height:28px;width:28px}"],changeDetection:0}),Fe})();var G=t(74160);let k=(()=>{class Fe{constructor(){this.onConfirm=new a.vpe,this.onCancel=new a.vpe}cancel(){this.onCancel.emit()}confirm(){this.onConfirm.emit()}}return Fe.\u0275fac=function(Ye){return new(Ye||Fe)},Fe.\u0275cmp=a.Xpm({type:Fe,selectors:[["unsaved-changes-banner"]],inputs:{cancelLabelKey:"cancelLabelKey",confirmLabelKey:"confirmLabelKey",confirmTextKey:"confirmTextKey"},outputs:{onConfirm:"onConfirm",onCancel:"onCancel"},decls:10,vars:9,consts:[["iconKey","icon_info_outline","iconColor","warn"],["mat-stroked-button","","color","primary",3,"click"],["mat-raised-button","","color","primary",3,"click"]],template:function(Ye,vt){1&Ye&&(a.TgZ(0,"label-with-icon",0),a._uU(1),a.ALo(2,"translate"),a.qZA(),a.TgZ(3,"div")(4,"button",1),a.NdJ("click",function(){return vt.cancel()}),a._uU(5),a.ALo(6,"translate"),a.qZA(),a.TgZ(7,"button",2),a.NdJ("click",function(){return vt.confirm()}),a._uU(8),a.ALo(9,"translate"),a.qZA()()),2&Ye&&(a.xp6(1),a.hij(" ",a.lcZ(2,3,vt.confirmTextKey),"\n"),a.xp6(4),a.hij(" ",a.lcZ(6,5,vt.cancelLabelKey)," "),a.xp6(3),a.hij(" ",a.lcZ(9,7,vt.confirmLabelKey)," "))},directives:[G.d,d.lW],pipes:[u.X],styles:["[_nghost-%COMP%]{display:flex;justify-content:space-between;padding:16px;background-color:#f8e7e7;border-radius:3px}button[_ngcontent-%COMP%]:first-child{margin-right:8px}"],changeDetection:0}),Fe})();var X=t(74742);const K=["dialogInterior"];function te(Fe,dt){if(1&Fe){const Ye=a.EpF();a.TgZ(0,"unsaved-changes-banner",5),a.NdJ("onConfirm",function(){return a.CHM(Ye),a.oxw(2).onConfirm()})("onCancel",function(){return a.CHM(Ye),a.oxw(2).onCancel()}),a.qZA()}if(2&Fe){const Ye=a.oxw().ngIf;a.Q6J("cancelLabelKey",Ye.cancelLabelKey)("confirmLabelKey",Ye.confirmLabelKey)("confirmTextKey",Ye.confirmTextKey)}}function Ie(Fe,dt){if(1&Fe&&(a.ynx(0),a.YNc(1,te,1,3,"unsaved-changes-banner",4),a.BQk()),2&Fe){const Ye=dt.ngIf;a.xp6(1),a.Q6J("ngIf",Ye.show)}}function Te(Fe,dt){1&Fe&&(a.TgZ(0,"div",6),a._UZ(1,"mat-spinner",7),a.qZA())}function ce(Fe,dt){}let Re=(()=>{class Fe{constructor(Ye,vt,Je,Ke,Ne,ke,He,nt,Et,rt,Dt){this.emailPayload=Ye,this.lazyLoadModulesService=vt,this.changeDetectorRef=Je,this.errorService=Ke,this.logService=Ne,this.sendEmailDialogService=ke,this.engageContactDataService=He,this.engageAnalyticsService=nt,this.engageDialogTitleService=Et,this.injector=rt,this.unsavedChangesConfirmationService=Dt,this.loading=!0,this.confirmationState$=this.unsavedChangesConfirmationService.confirmationState$,this.dialogHidden=!1,this.dialogEnlarged=!1,this.title$=this.engageDialogTitleService.dialogTitle$,this.logger=this.logService.getLogger("SendEmailDialog"),this.onDestroy=new N.xQ,this.engageContactDataService.loadContact(this.emailPayload.contactId,this.emailPayload.orgId),this.engageContactDataService.loadingError$.pipe((0,x.h)(Lt=>!!Lt)).subscribe(Lt=>this.sendEmailDialogService.close()),this.engageDialogTitleService.setTitle(),this.unsavedChangesConfirmationService.confirmedTemplateAction$.pipe((0,s.R)(this.onDestroy)).subscribe(Lt=>this.engageDialogTitleService.setTitle(Lt)),this.engageAnalyticsService.logEvent({action_type:this.emailPayload.email?"click_email_address":"take_action_send_email"})}ngAfterViewInit(){this.loading=!0,this.lazyLoadModulesService.loadComponent("email_compose",this.dialogInterior,this.injector).then(Ye=>{this.loading=!1,Ye.instance.contactId=this.emailPayload.contactId,Ye.instance.initialEmail=this.emailPayload.email,Ye.instance.initialState=this.emailPayload.initialState,Ye.instance.isReopeningAfterConnect=this.emailPayload.isReopeningAfterConnect,Ye.instance.organizationId=this.emailPayload.orgId,this.changeDetectorRef.markForCheck()},Ye=>{this.logger.error("EmailCompose failed to load",Ye),this.errorService.showToast(Ye)}),this.unsavedChangesConfirmationService.confirmationState$.pipe((0,s.R)(this.onDestroy)).subscribe(Ye=>{this.dialogHidden=!1,this.changeDetectorRef.markForCheck()})}ngOnDestroy(){this.onDestroy.next()}onConfirm(){this.unsavedChangesConfirmationService.confirm()}onCancel(){this.unsavedChangesConfirmationService.cancel()}closeClick(){this.sendEmailDialogService.closeWithConfirmation()}onEnlargedChange(Ye){this.dialogEnlarged=Ye,this.sendEmailDialogService.updateEnlarged(Ye)}}return Fe.\u0275fac=function(Ye){return new(Ye||Fe)(a.Y36(f.WI),a.Y36(q.B),a.Y36(a.sBO),a.Y36(I.T),a.Y36(T.$V),a.Y36(le.Q),a.Y36(E.F),a.Y36(B.h),a.Y36(W.u),a.Y36(a.zs3),a.Y36(Q.i))},Fe.\u0275cmp=a.Xpm({type:Fe,selectors:[["ng-component"]],viewQuery:function(Ye,vt){if(1&Ye&&a.Gf(K,5,a.s_b),2&Ye){let Je;a.iGM(Je=a.CRH())&&(vt.dialogInterior=Je.first)}},features:[a._Bn([E.F,H.I,V.F,b.M,B.h,$.R,W.u,Q.i])],decls:7,vars:9,consts:[[3,"title","hidden","enlarged","hiddenChange","enlargedChange","closeClick"],[4,"ngIf"],["class","loading-container",4,"ngIf"],["dialogInterior",""],[3,"cancelLabelKey","confirmLabelKey","confirmTextKey","onConfirm","onCancel",4,"ngIf"],[3,"cancelLabelKey","confirmLabelKey","confirmTextKey","onConfirm","onCancel"],[1,"loading-container"],["diameter","30"]],template:function(Ye,vt){1&Ye&&(a.TgZ(0,"collapsible-bottom-sheet-container",0),a.NdJ("hiddenChange",function(Ke){return vt.dialogHidden=Ke})("enlargedChange",function(Ke){return vt.onEnlargedChange(Ke)})("closeClick",function(){return vt.closeClick()}),a.ALo(1,"async"),a.YNc(2,Ie,2,1,"ng-container",1),a.ALo(3,"async"),a.YNc(4,Te,2,0,"div",2),a.YNc(5,ce,0,0,"ng-template",null,3,a.W1O),a.qZA()),2&Ye&&(a.Q6J("title",a.lcZ(1,5,vt.title$))("hidden",vt.dialogHidden)("enlarged",vt.dialogEnlarged),a.xp6(2),a.Q6J("ngIf",a.lcZ(3,7,vt.confirmationState$)),a.xp6(2),a.Q6J("ngIf",vt.loading))},directives:[w,e.O5,k,X.Ou],pipes:[e.Ov],styles:[".loading-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100px}unsaved-changes-banner[_ngcontent-%COMP%]{margin:8px 8px 0}"],changeDetection:0}),Fe})();var fe=t(15784);const Ge=new a.OlP("standalone mat dialog",{factory:()=>new f.uw((0,a.f3M)(m.aV),(0,a.f3M)(a.zs3),(0,a.f3M)(e.Ye),void 0,()=>new m.RZ,void 0,(0,a.f3M)(m.Xj))});let at=(()=>{class Fe{constructor(Ye,vt,Je){this.matDialog=Ye,this.engageSavedEditorStateService=vt,this.sendEmailDialogService=Je,this.dialogRef=void 0,this.dialogPositionNormal={bottom:"0",right:"48px"},this.dialogPositionEnlarged={bottom:"40px",right:"10vw"},Je.emailPayload$.pipe((0,h.b)(Ke=>{var Ne;null===(Ne=this.dialogRef)||void 0===Ne||Ne.close(),this.sendEmailDialogService.updateEnlarged(!1)}),(0,C.w)(Ke=>this.waitDialogCloseAnimation$().pipe((0,S.h)(Ke)))).subscribe(Ke=>{Ke?(this.dialogRef=this.openEmail(Ke),this.backdropElement=document.getElementsByClassName("engage-backdrop")[0]):(this.dialogRef=void 0,this.backdropElement=void 0)}),Je.enlarged$.subscribe(Ke=>{var Ne,ke,He,nt,Et,rt;Ke?(null===(Ne=this.dialogRef)||void 0===Ne||Ne.updatePosition(this.dialogPositionEnlarged),null===(ke=this.dialogRef)||void 0===ke||ke.updateSize("80vw"),null===(He=this.backdropElement)||void 0===He||He.classList.add("visible")):(null===(nt=this.dialogRef)||void 0===nt||nt.updatePosition(this.dialogPositionNormal),null===(Et=this.dialogRef)||void 0===Et||Et.updateSize(),null===(rt=this.backdropElement)||void 0===rt||rt.classList.remove("visible"))})}sendEmail(Ye,vt,Je,Ke){const Ne=Ke?this.engageSavedEditorStateService.getSavedEditorState():void 0;this.sendEmailDialogService.openNew({contactId:Ye,orgId:vt,email:Je,initialState:Ne,isReopeningAfterConnect:Ke})}openEmail(Ye){return this.matDialog.open(Re,{hasBackdrop:!0,backdropClass:["engage-backdrop","cdk-overlay-dark-backdrop"],disableClose:!0,closeOnNavigation:!1,position:this.dialogPositionNormal,panelClass:"no-bottom-border-radius-dialog",data:Ye})}waitDialogCloseAnimation$(){return this.dialogRef?this.dialogRef.afterClosed().pipe((0,h.b)(()=>{this.dialogRef=void 0,this.engageSavedEditorStateService.clearEditorState()})):(0,v.of)(void 0)}}return Fe.\u0275fac=function(Ye){return new(Ye||Fe)(a.LFG(Ge),a.LFG(fe.o),a.LFG(le.Q))},Fe.\u0275prov=a.Yz7({token:Fe,factory:Fe.\u0275fac,providedIn:"root"}),Fe})();var It=t(58895),Ue=t(2384),we=t(26435),De=t(42391),ae=t(49837);let Le=(()=>{class Fe{constructor(Ye,vt,Je,Ke,Ne){this.engageService=Ye,this.connectEmailService=vt,this.dialogService=Je,this.routingHelper=Ke,this.platformService=Ne}handleConnectEmailRedirect(){if(!this.platformService.isBrowser())return;const Ye=this.connectEmailService.extractRedirectResponse();if(!Ye)return;const vt=this.routingHelper.extractAndDeleteQueryParam(De.On),Je=this.routingHelper.extractAndDeleteQueryParam(De.yz),Ke=this.routingHelper.extractAndDeleteQueryParam(De.KN);!vt||!Ke||(Ye.success?this.engageService.sendEmail(vt,Ke,Je,!0):this.dialogService.showDialog(It.wF).then(Ne=>{(null==Ne?void 0:Ne.connectAgain)&&this.showConnectDialog(vt,Ke,Je)}))}showConnectDialog(Ye,vt,Je){this.dialogService.showDialog(It.qy,{queryParams:{[De.On]:Ye,[De.yz]:Je,[De.KN]:vt}})}}return Fe.\u0275fac=function(Ye){return new(Ye||Fe)(a.LFG(at),a.LFG(It.vm),a.LFG(Ue.x),a.LFG(we.VP),a.LFG(ae.m))},Fe.\u0275prov=a.Yz7({token:Fe,factory:Fe.\u0275fac,providedIn:"root"}),Fe})()},29964:(oe,L,t)=>{t.d(L,{h:()=>g});var e=t(98789),i=t(83910),p=t(20042),l=t(3184),y=t(92568),d=t(35585);let g=(()=>{class f{constructor(c,r,o){this.usageEventsService=c,this.uuidService=r,this.store=o,this.clientappId=this.uuidService.createUuid()}logEvent(c){this.store.select(p.KM).pipe((0,i.q)(1)).subscribe(r=>{this.usageEventsService.logUsageEvent("email_action",Object.assign(Object.assign({},c),{clientapp_id:this.clientappId,is_connected:!!(null==r?void 0:r.length)}))})}}return f.\u0275fac=function(c){return new(c||f)(l.LFG(e.N),l.LFG(y.B),l.LFG(d.yh))},f.\u0275prov=l.Yz7({token:f,factory:f.\u0275fac}),f})()},93649:(oe,L,t)=>{t.d(L,{F:()=>I});var e=t(84505),i=t(61555),p=t(19193),l=t(64139),y=t(86942),d=t(59095),g=t(47418),f=t(88759),a=t(92938),c=t(14296),r=t(80145),o=t(3184);const _=r.Ps`
  query ContactData($contact_uuid: UUID!, $org_uuid: UUID!) {
    entities {
      contact(uuid: $contact_uuid) {
        properties {
          name
        }
        NOT_FOR_PROD_USE_relationships {
          contact_person__cp_has_contact__reverse {
            entities {
              properties {
                first_name
                last_name
              }
            }
          }
          private_contact_item__has_private_contact_item__forward {
            entities {
              properties {
                work_emails
                personal_emails
              }
            }
          }
          contact_item__has_contact_item__forward {
            entities {
              properties {
                job_department
                job_title
                canonical_job_priority
              }
            }
          }
        }
      }
      organization(uuid: $org_uuid) {
        properties {
          location_identifiers {
            uuid
            entity_def_id
            value
            permalink
          }
          last_funding_total {
            value_usd
            value
            currency
          }
          last_funding_at
          last_funding_type
          identifier {
            uuid
            entity_def_id
            value
            permalink
          }
        }
        NOT_FOR_PROD_USE_relationships {
          category__organization_in_category__forward {
            entities(
              limit: 1
              order: [{ field_id: num_relationships, sort: asc }]
            ) {
              properties {
                identifier {
                  uuid
                  entity_def_id
                  value
                  permalink
                }
              }
            }
          }
        }
      }
    }
    collections {
      acquisitions(
        query: {
          properties: { acquirer_identifier: { uuid: { eq: $org_uuid } } }
        }
      ) {
        entities(order: { field_id: announced_on, sort: desc }, limit: 1) {
          properties {
            acquiree_identifier {
              value
            }
            announced_on {
              value
            }
          }
        }
      }
    }
  }
`;let n=(()=>{class T extends r.AE{constructor(x){super(x),this.document=_}}return T.\u0275fac=function(x){return new(x||T)(o.LFG(r._M))},T.\u0275prov=o.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();var m=t(23580);const v=r.Ps`
  query ContactIndustryFunding($industry_uuid: UUID!, $sinceDate: String) {
    collections {
      funding_rounds(
        query: {
          properties: {
            funded_organization_categories: {
              uuid: { includes: [$industry_uuid] }
            }
            announced_on: { gte: $sinceDate }
          }
        }
      ) {
        aggregates {
          funded_organization_funding_total {
            sum {
              value
              value_usd
              currency
            }
          }
        }
      }
    }
  }
`;let h=(()=>{class T extends r.AE{constructor(x){super(x),this.document=v}}return T.\u0275fac=function(x){return new(x||T)(o.LFG(r._M))},T.\u0275prov=o.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();const C=r.Ps`
  query ContactLocationFunding($location_uuid: UUID!, $sinceDate: String) {
    collections {
      funding_rounds(
        query: {
          properties: {
            funded_organization_location: {
              uuid: { includes: [$location_uuid] }
            }
            announced_on: { gte: $sinceDate }
          }
        }
      ) {
        aggregates {
          funded_organization_funding_total {
            sum {
              value
              value_usd
              currency
            }
          }
        }
      }
    }
  }
`;let S=(()=>{class T extends r.AE{constructor(x){super(x),this.document=C}}return T.\u0275fac=function(x){return new(x||T)(o.LFG(r._M))},T.\u0275prov=o.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})(),I=(()=>{class T{constructor(x,s,E,H){this.errorService=x,this.contactDataGQL=s,this.contactIndustryFundingGQL=E,this.contactLocationFundingGQL=H,this.loading$=new e.X(!0),this.loadingError$=new e.X(void 0),this.currentContactSubject=new i.t(1),this.currentContact$=this.currentContactSubject.asObservable()}loadContact(x,s){this.loading$.next(!0),this.contactDataGQL.fetch({contact_uuid:x,org_uuid:s}).pipe((0,y.U)(E=>this.toContactData((0,m.w)(E.data))),(0,d.w)(E=>{var H,V;return(0,p.aj)([this.fetchIndustryFunding(null===(H=E.company.industry)||void 0===H?void 0:H.uuid),this.fetchLocationFunding(null===(V=E.company.location)||void 0===V?void 0:V.uuid)]).pipe((0,y.U)(([b,B])=>Object.assign(Object.assign({},E),{industryRecentFunding:b,locationRecentFunding:B})),(0,g.K)(b=>(0,l.of)(E)))}),(0,f.b)(()=>this.loading$.next(!1))).subscribe(E=>{this.loadingError$.next(void 0),this.currentContactSubject.next(E)},E=>{this.loadingError$.next(E),this.errorService.showToast(E,"CBL.COMMON.FAILURE")})}toContactData(x){return{user:this.formContactUser(x),company:this.formContactCompany(x)}}fetchIndustryFunding(x){return x?this.contactIndustryFundingGQL.fetch({industry_uuid:x,sinceDate:"90 days ago"}).pipe((0,y.U)(m.w),(0,y.U)(s=>s.data.collections.funding_rounds.aggregates.funded_organization_funding_total.sum)):(0,l.of)(void 0)}fetchLocationFunding(x){return x?this.contactLocationFundingGQL.fetch({location_uuid:x,sinceDate:"1 year ago"}).pipe((0,y.U)(m.w),(0,y.U)(s=>s.data.collections.funding_rounds.aggregates.funded_organization_funding_total.sum)):(0,l.of)(void 0)}formContactUser(x){var s;const E=x.entities.contact,H=null===(s=E.NOT_FOR_PROD_USE_relationships.contact_person__cp_has_contact__reverse.entities[0])||void 0===s?void 0:s.properties,V=E.NOT_FOR_PROD_USE_relationships.private_contact_item__has_private_contact_item__forward.entities,B=(0,a.maxBy)(E.NOT_FOR_PROD_USE_relationships.contact_item__has_contact_item__forward.entities,$=>{var W;return null!==(W=$.properties.canonical_job_priority)&&void 0!==W?W:-1}),Q=V.flatMap($=>[...$.properties.work_emails||[],...$.properties.personal_emails||[]]);return{full_name:E.properties.name,first_name:null==H?void 0:H.first_name,last_name:null==H?void 0:H.last_name,job_title:null==B?void 0:B.properties.job_title,job_department:null==B?void 0:B.properties.job_department,emails:(0,a.sortedUniq)(Q.sort()).filter($=>!!$)}}formContactCompany(x){var s,E,H,V,b,B,Q;const $=x.entities.organization,W=null===(s=x.collections.acquisitions.entities[0])||void 0===s?void 0:s.properties;return{uuid:(null===(E=$.properties.identifier)||void 0===E?void 0:E.uuid)||"",name:(null===(H=$.properties.identifier)||void 0===H?void 0:H.value)||"",industry:null===(V=$.NOT_FOR_PROD_USE_relationships.category__organization_in_category__forward.entities[0])||void 0===V?void 0:V.properties.identifier,location:null===(b=$.properties.location_identifiers)||void 0===b?void 0:b[0],last_funding_date:$.properties.last_funding_at,last_funding_total:$.properties.last_funding_total,last_funding_type:$.properties.last_funding_type,last_acquired_company_name:null===(B=null==W?void 0:W.acquiree_identifier)||void 0===B?void 0:B.value,last_acquired_company_date:null===(Q=null==W?void 0:W.announced_on)||void 0===Q?void 0:Q.value}}}return T.lastFundingTypeMetadata={entityDefId:"organization",fieldId:"last_funding_type"},T.\u0275fac=function(x){return new(x||T)(o.LFG(c.T),o.LFG(n),o.LFG(h),o.LFG(S))},T.\u0275prov=o.Yz7({token:T,factory:T.\u0275fac}),T})()},53615:(oe,L,t)=>{t.d(L,{u:()=>g});var e=t(84505),i=t(83910),p=t(94882),l=t(93443),y=t(93649),d=t(3184);let g=(()=>{class f{constructor(c,r){this.labelService=c,this.engageContactDataService=r,this.dialogTitleSubject=new e.X(""),this.dialogTitle$=this.dialogTitleSubject.asObservable()}setTitle(c){switch(null==c?void 0:c.type){case"new":this.dialogTitleSubject.next(c.template_type===l.G8.TemplateTypeEnum.snippet?$localize`Create New Snippet`:$localize`Create New Email Template`);break;case"edit":this.dialogTitleSubject.next(c.template.template_type===l.G8.TemplateTypeEnum.snippet?$localize`Edit Snippet`:$localize`Edit Email Template`);break;case"apply":break;default:this.engageContactDataService.currentContact$.pipe((0,i.q)(1)).subscribe(r=>{this.dialogTitleSubject.next(this.labelService.getInterpolatedLabel("CBL.ENGAGE.TITLE",{contactName:r.user.full_name,companyName:r.company.name}))})}}}return f.\u0275fac=function(c){return new(c||f)(d.LFG(p.Q),d.LFG(y.F))},f.\u0275prov=d.Yz7({token:f,factory:f.\u0275fac}),f})()},94009:(oe,L,t)=>{t.d(L,{R:()=>p});var e=t(84505),i=t(3184);let p=(()=>{class l{constructor(){this.leftPaneModeSubject=new e.X("email"),this.leftPaneMode$=this.leftPaneModeSubject.asObservable()}editEmail(){this.leftPaneModeSubject.next("email")}editTemplate(){this.leftPaneModeSubject.next("template")}}return l.\u0275fac=function(d){return new(d||l)},l.\u0275prov=i.Yz7({token:l,factory:l.\u0275fac}),l})()},42391:(oe,L,t)=>{t.d(L,{On:()=>e,yz:()=>i,KN:()=>p});const e="engageContactId",i="engageContactEmail",p="engageOrganizationId"},15784:(oe,L,t)=>{t.d(L,{o:()=>p});var e=t(3184),i=t(53328);let p=(()=>{class l{constructor(d){this.storageService=d,this.EDITOR_STATE_KEY="editor-state"}getSavedEditorState(){let d=this.storageService.getItem(this.EDITOR_STATE_KEY);if(d)try{return JSON.parse(d)}catch(g){return}}saveEditorState(d){this.storageService.setItem(this.EDITOR_STATE_KEY,JSON.stringify(d))}clearEditorState(){this.storageService.removeItem(this.EDITOR_STATE_KEY)}}return l.\u0275fac=function(d){return new(d||l)(e.LFG(i.V))},l.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})()},71345:(oe,L,t)=>{t.d(L,{M:()=>B});var e=t(3184),i=t(59151),p=t(86942),l=t(59095),y=t(79128),d=t(93649),g=t(93443),f=t(23580);const c={template:{template_id:"cb000000-capp-4000-a000-000000000001",template_type:g.G8.TemplateTypeEnum.template,name:"Recent funding",subject:"Congrats on your {{last_funding_type}} round!",body:"Hi {{first_name}},\n\nSaw that {{company_name}} received a recent {{last_funding_amount}} funding, congratulations! What exciting plans do you have to use this and level up your team?\n\nReaching out because <strong>>>>INSERT COMPANY'S VALUE PROP<<<</strong>\n\nLooking forward to getting your thoughts."},isRelevant:Q=>!!Q.company.last_funding_date&&Date.now()-new Date(Q.company.last_funding_date).getTime()<7776e6},r={template:{template_id:"cb000000-capp-4000-a000-000000000002",template_type:g.G8.TemplateTypeEnum.template,name:"Industry Funding",subject:"{{company_name}} raises new round of funding",body:"Hi {{first_name}},\n\nDid you know that the {{industry}} industry raised {{industry_funding}} within the last 90 days? With no sign of stopping, {{company_name}} is well-suited to be the next funded company in this industry.\n\nWould love to connect to see how we can help make that a reality with our <strong>>>>INSERT COMPANY'S VALUE PROP<<<</strong>\n\nHow does that sound?"},isRelevant:Q=>{var $;return!c.isRelevant(Q)&&(null===($=Q.industryRecentFunding)||void 0===$?void 0:$.value_usd)>=5e6}},v={template:{template_id:"cb000000-capp-4000-a000-100000000001",template_type:g.G8.TemplateTypeEnum.snippet,name:"Recent funding",subject:"",body:"Saw that {{company_name}} received a recent {{last_funding_type}} funding, congratulations! What exciting plans do you have to use this and level up your team?"},isRelevant:Q=>!!Q.company.last_funding_date&&Date.now()-new Date(Q.company.last_funding_date).getTime()<7776e6},h={template:{template_id:"cb000000-capp-4000-a000-100000000002",template_type:g.G8.TemplateTypeEnum.snippet,name:"Industry Funding",subject:"",body:"{{industry}} is blowing up! {{industry_funding}} raised in the last quarter alone -- {{company_name}} could be next."},isRelevant:Q=>{var $;return!v.isRelevant(Q)&&(null===($=Q.industryRecentFunding)||void 0===$?void 0:$.value_usd)>=5e6}},T=[c,r,{template:{template_id:"cb000000-capp-4000-a000-000000000003",template_type:g.G8.TemplateTypeEnum.template,name:"City Funding",subject:"{{headquarters_location}} fighting against the odds and coming out on top",body:"Hi {{first_name}},\n\nDid you know that in the past year, when the world was turned upside down, {{headquarters_location}} raised a total of {{location_funding}}?\n\nAn incredible statistic -- one I\u2019m sure everyone at {{company_name}} couldn\u2019t be more proud of. To build off of this momentum, would love to talk through how <strong>>>>INSERT COMPANY'S VALUE PROP<<<</strong>\n\nLooking forward to connecting."},isRelevant:Q=>{var $;return(null===($=Q.locationRecentFunding)||void 0===$?void 0:$.value_usd)>=5e6}},{template:{template_id:"cb000000-capp-4000-a000-000000000004",template_type:g.G8.TemplateTypeEnum.template,name:"Job Title + Industry",subject:"Helping {{job_title}}s in {{industry}}",body:"Hi {{first_name}},\n\nDid you know that most {{job_title}}s in the {{industry}} industry are constantly looking for ways to optimize their reps' workflows?\n\nGiven your title, wanted to see if this was also a concern of yours because if it is -- we're here to help!\n<strong>>>>INSERT COMPANY'S VALUE PROP<<<</strong>\n\nDoes it make sense to connect this week or am I way off the mark here?"},isRelevant:Q=>!0},{template:{template_id:"cb000000-capp-4000-a000-000000000005",template_type:g.G8.TemplateTypeEnum.template,name:"Job Function + Industry",subject:"Helping {{job_function}} teams in {{industry}}",body:"Hi {{first_name}},\n\n{{job_function}} teams in {{industry}} often experience difficulties in keeping on top of the latest trends in this industry as things move so quickly and thus end up missing out on key opportunities.\n\n<strong>>>>INSERT COMPANY'S VALUE PROP<<<</strong>\n\nThoughts?"},isRelevant:Q=>!0}],N=[v,h,{template:{template_id:"cb000000-capp-4000-a000-100000000003",template_type:g.G8.TemplateTypeEnum.snippet,name:"City Funding",subject:"",body:"{{headquarters_location}} is showing itself to be a center for high-growth companies and a hub for innovation. How can {{company_name}} build off of this momentum?"},isRelevant:Q=>{var $;return(null===($=Q.locationRecentFunding)||void 0===$?void 0:$.value_usd)>=5e6}},{template:{template_id:"cb000000-capp-4000-a000-100000000004",template_type:g.G8.TemplateTypeEnum.snippet,name:"Job Title + Industry",subject:"",body:"{{job_title}}s in the {{industry}} industry are looking for ways to optimize their reps' workflows -- let's connect to discuss how you're doing that at {{company_name}}."},isRelevant:Q=>!0},{template:{template_id:"cb000000-capp-4000-a000-100000000005",template_type:g.G8.TemplateTypeEnum.snippet,name:"Job Function + Industry",subject:"",body:"{{job_function}} teams in {{industry}} are experiencing difficulties keeping up with top trends. How can we help you mitigate this issue?"},isRelevant:Q=>!0}];var x=t(96800),s=t(19193),E=g.G8.AccessLevelEnum;const H=Q=>Q.replace(/\n/g,"<br>"),V=new e.OlP("engage template suggestions",{providedIn:"root",factory:()=>T}),b=new e.OlP("engage snippet suggestions",{providedIn:"root",factory:()=>N});let B=(()=>{class Q{constructor(W,q,le,J){this.engageContactDataService=W,this.engageVariablesService=q,this.templateSuggestions=le,this.snippetSuggestions=J,this.suggestedTemplates$=this.engageContactDataService.currentContact$.pipe((0,i.h)(f.K),(0,p.U)(u=>this.getSuggestedTemplates(u)),(0,l.w)(u=>(0,s.aj)(u.map(D=>this.ensureInterpolatable(D)))),(0,p.U)(u=>u.filter(f.K).slice(0,Q.TEMPLATES_LIMIT)),(0,y.d)(1)),this.suggestedSnippets$=this.engageContactDataService.currentContact$.pipe((0,i.h)(f.K),(0,p.U)(u=>this.getSuggestedSnippets(u)),(0,l.w)(u=>(0,s.aj)(u.map(D=>this.ensureInterpolatable(D)))),(0,p.U)(u=>u.filter(f.K).slice(0,Q.SNIPPETS_LIMIT)),(0,y.d)(1))}ensureInterpolatable(W){return(0,s.aj)([this.engageVariablesService.canInterpolate$(W.body),this.engageVariablesService.canInterpolate$(W.subject)]).pipe((0,p.U)(q=>q.every(le=>le)?W:void 0))}getSuggestedTemplates(W){return this.templateSuggestions.filter(q=>q.isRelevant(W)).map(q=>this.toEngageTemplate(q.template))}getSuggestedSnippets(W){return this.snippetSuggestions.filter(q=>q.isRelevant(W)).map(q=>this.toEngageTemplate(q.template))}toEngageTemplate(W){return Object.assign(Object.assign({},W),{body:H(W.body),created_at:"",updated_at:"",access_level:E.workspace_read,permissions:{is_updatable:!1,is_deletable:!1,is_access_level_updatable:!1}})}}return Q.TEMPLATES_LIMIT=10,Q.SNIPPETS_LIMIT=5,Q.\u0275fac=function(W){return new(W||Q)(e.LFG(d.F),e.LFG(x.F),e.LFG(V),e.LFG(b))},Q.\u0275prov=e.Yz7({token:Q,factory:Q.\u0275fac}),Q})()},35266:(oe,L,t)=>{t.d(L,{I:()=>_});var e=t(84505),i=t(64139),p=t(88759),l=t(61745),y=t(47418),d=t(86942),g=t(93443),f=t(1208),a=t(14296),c=t(46179),r=t(53615),o=t(3184);let _=(()=>{class n{constructor(v,h,C,S){this.engageApi=v,this.errorService=h,this.toastService=C,this.engageDialogTitleService=S,this.templates$=new e.X([]),this.editedTemplate$=new e.X(void 0),this.loading$=new e.X(!0),this.saving$=new e.X(!1),this.newTemplate$=new e.X(void 0)}loadTemplates(){this.loading$.next(!0),this.engageApi.cbEngageTemplatesGet$().subscribe(v=>{this.loading$.next(!1),this.templates$.next(v)},v=>{this.errorService.showToast(v)})}createTemplate(v){this.saving$.next(!0),this.engageApi.cbEngageTemplatesPost$({template:v}).pipe((0,p.b)(()=>this.saving$.next(!1)),(0,l.M)(this.templates$),(0,p.b)(([h,C])=>{const S=C.concat(h);this.templates$.next(S),this.selectTemplate(h),this.newTemplate$.next(h),this.engageDialogTitleService.setTitle({type:"edit",template:h})}),(0,y.K)(h=>(this.errorService.showToast(h,"CBL.ENGAGE.TEMPLATES.DELETE_TEMPLATE_ERROR"),(0,i.of)(void 0)))).subscribe(()=>{this.toastService.showSimpleToast(v.template_type===g.G8.TemplateTypeEnum.snippet?"CBL.ENGAGE.TEMPLATES.SAVED_SNIPPET":"CBL.ENGAGE.TEMPLATES.SAVED")})}editTemplate(v,h){this.saving$.next(!0),this.engageApi.cbEngageTemplatesTemplateIdPatch$({templateId:v,template:h}).pipe((0,p.b)(()=>this.saving$.next(!1)),(0,l.M)(this.templates$),(0,p.b)(([C,S])=>{const I=this.updateTemplate(C,S);this.templates$.next(I),this.selectTemplate(C)}),(0,d.U)(([C,S])=>C),(0,y.K)(C=>(this.errorService.showToast(C,"CBL.COMMON.FAILURE"),(0,i.of)(void 0)))).subscribe(C=>{this.toastService.showSimpleToast((null==C?void 0:C.template_type)===g.G8.TemplateTypeEnum.snippet?"CBL.ENGAGE.TEMPLATES.SAVED_SNIPPET":"CBL.ENGAGE.TEMPLATES.SAVED")})}selectTemplate(v){this.editedTemplate$.next(v)}deleteTemplate(v){this.engageApi.cbEngageTemplatesTemplateIdDelete$({templateId:v.template_id}).pipe((0,l.M)(this.templates$),(0,p.b)(([h,C])=>{const S=C.filter(I=>I.template_id!==v.template_id);this.templates$.next(S)}),(0,l.M)(this.editedTemplate$),(0,p.b)(([h,C])=>{(null==C?void 0:C.template_id)===v.template_id&&this.selectTemplate(void 0)}),(0,y.K)(h=>(this.errorService.showToast(h,v.template_type===g.G8.TemplateTypeEnum.snippet?"CBL.ENGAGE.TEMPLATES.DELETE_SNIPPET_ERROR":"CBL.ENGAGE.TEMPLATES.DELETE_TEMPLATE_ERROR"),(0,i.of)(void 0)))).subscribe()}updateTemplate(v,h){const C=h.map(S=>v.template_id===S.template_id?v:S);return C.includes(v)||C.push(v),C}}return n.\u0275fac=function(v){return new(v||n)(o.LFG(f.rT),o.LFG(a.T),o.LFG(c.k),o.LFG(r.u))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})()},96800:(oe,L,t)=>{t.d(L,{F:()=>a});var e=t(86942),i=t(79128),p=t(83910),l=t(93649),y=t(71263),d=t(21649),g=t(3184),f=t(36362);let a=(()=>{class c{constructor(o,_,n,m){this.engageContactDataService=o,this.fieldFormatterService=_,this.datePipe=n,this.formatterUtil=m,this.variables$=this.engageContactDataService.currentContact$.pipe((0,e.U)(v=>c.variableDefs.map(h=>this.makeVariable(h,v))),(0,i.d)({refCount:!0,bufferSize:1})),this.loading$=this.engageContactDataService.loading$.asObservable(),this.formatters={date:v=>this.datePipe.transform(v,"mediumDate")||void 0,field:(v,h,C)=>null!=C?this.fieldFormatterService.formatFieldByFieldId(v,h,C,y.Qy.default):void 0,money:v=>null!=(null==v?void 0:v.value_usd)?this.formatterUtil.scaleMoney(v.value_usd):void 0},this.interpolateValuesMap$=this.variables$.pipe((0,e.U)(v=>{const h={};return v.forEach(C=>{h[C.name]=C.value}),h}))}interpolate$(o,_,n=!0){return this.interpolateValuesMap$.pipe((0,p.q)(1),(0,e.U)(m=>(0,d.sX)(o,m,_,n)))}canInterpolate$(o){return this.interpolateValuesMap$.pipe((0,p.q)(1),(0,e.U)(_=>(0,d.Lf)(o,_)))}makeVariable(o,_){return{name:o.name,labelKey:o.labelKey,hidden:o.hidden,value:_&&o.format(_,this.formatters)}}}return c.variableDefs=[{name:"first_name",labelKey:"CBL.ENGAGE.VARIABLES.NAMES.FIRST_NAME",format:r=>r.user.first_name},{name:"last_name",labelKey:"CBL.ENGAGE.VARIABLES.NAMES.LAST_NAME",format:r=>r.user.last_name},{name:"job_title",labelKey:"CBL.ENGAGE.VARIABLES.NAMES.JOB_TITLE",format:r=>r.user.job_title},{name:"company_name",labelKey:"CBL.ENGAGE.VARIABLES.NAMES.COMPANY_NAME",format:r=>r.company.name},{name:"last_funding_date",labelKey:"CBL.ENGAGE.VARIABLES.NAMES.LAST_FUNDING_DATE",format:(r,{date:o})=>o(r.company.last_funding_date)},{name:"last_funding_type",labelKey:"CBL.ENGAGE.VARIABLES.NAMES.LAST_FUNDING_TYPE",format:(r,{field:o})=>o(l.F.lastFundingTypeMetadata.entityDefId,l.F.lastFundingTypeMetadata.fieldId,r.company.last_funding_type)},{name:"last_funding_amount",labelKey:"CBL.ENGAGE.VARIABLES.NAMES.LAST_FUNDING_AMOUNT",format:(r,{money:o})=>o(r.company.last_funding_total)},{name:"industry",labelKey:"CBL.ENGAGE.VARIABLES.NAMES.INDUSTRY",format:r=>{var o;return null===(o=r.company.industry)||void 0===o?void 0:o.value}},{name:"last_acquired_company",labelKey:"CBL.ENGAGE.VARIABLES.NAMES.LAST_ACQUIRED_COMPANY",format:r=>r.company.last_acquired_company_name},{name:"last_acquired_company_date",labelKey:"CBL.ENGAGE.VARIABLES.NAMES.LAST_ACQUIRED_COMPANY_DATE",format:(r,{date:o})=>o(r.company.last_acquired_company_date)},{hidden:!0,name:"industry_funding",labelKey:"N/A",format:(r,{money:o})=>o(r.industryRecentFunding)},{hidden:!0,name:"location_funding",labelKey:"N/A",format:(r,{money:o})=>o(r.locationRecentFunding)},{hidden:!0,name:"headquarters_location",labelKey:"N/A",format:r=>{var o;return null===(o=r.company.location)||void 0===o?void 0:o.value}},{hidden:!0,name:"job_function",labelKey:"N/A",format:r=>r.user.job_department}],c.\u0275fac=function(o){return new(o||c)(g.LFG(l.F),g.LFG(y.eM),g.LFG(f.uU),g.LFG(y.hI))},c.\u0275prov=g.Yz7({token:c,factory:c.\u0275fac}),c})()},21649:(oe,L,t)=>{t.d(L,{t2:()=>e,sX:()=>p,Lf:()=>l});const e=/{{([^}]*)}}/g,i=y=>y;function p(y,d,g=i,f=!0){return y.replace(e,(a,c)=>{const r=c.trim(),o=d[r];return Object.keys(d).includes(r)||f?o||g(a,r):a})}function l(y,d){let g=!0;return p(y,d,f=>(g=!1,f)),g}},78294:(oe,L,t)=>{t.d(L,{Q:()=>d});var e=t(84505),i=t(92218),p=t(88623),l=t(61745),y=t(3184);let d=(()=>{class g{constructor(){this.emailPayloadSubject=new e.X(void 0),this.openNewEmailSubject=new i.xQ,this.closeCurrEmailSubject=new i.xQ,this.confirmDialogCloseSubject=new i.xQ,this.enlargedSubject=new e.X(!1),this.emailPayload$=this.emailPayloadSubject.asObservable(),this.confirmDialogClose$=this.confirmDialogCloseSubject.asObservable(),this.enlarged$=this.enlargedSubject.asObservable(),(0,p.T)(this.openNewEmailSubject,this.closeCurrEmailSubject).pipe((0,l.M)(this.emailPayloadSubject)).subscribe(([a,c])=>c?this.confirmDialogCloseSubject.next(a):this.setNextEmailPayload(a))}openNew(a){this.openNewEmailSubject.next(a)}closeWithConfirmation(){this.closeCurrEmailSubject.next()}close(){this.emailPayloadSubject.next(void 0)}setNextEmailPayload(a){this.emailPayloadSubject.next(a)}updateEnlarged(a){this.enlargedSubject.next(a)}}return g.\u0275fac=function(a){return new(a||g)},g.\u0275prov=y.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})()},15435:(oe,L,t)=>{t.d(L,{i:()=>h});var e=t(93443),i=t(88623),p=t(84505),l=t(92218),y=t(26439),d=t(64139),g=t(59095),f=t(29361),a=t(85921),c=t(83910),r=t(59151),o=t(52428),_=t(3184),n=t(94009),m=t(78294);const v={show:!1,cancelLabelKey:"",confirmLabelKey:"",confirmTextKey:""};let h=(()=>{class C{constructor(I,T){this.engageLeftPaneModeService=I,this.sendEmailDialogService=T,this.confirmedTemplateAction$=(0,i.T)(this.templateAction$("email"),this.templateAction$("template")),this.confirmationSubject=new p.X(v),this.confirmTemplateActionSubject=new l.xQ,this.confirmationResultSubject=new l.xQ,this.onDestroy=new l.xQ,this.emailDirty=!1,this.templateDirty=!1,this.confirmationState$=this.confirmationSubject.asObservable(),this.sendEmailDialogService.confirmDialogClose$.pipe((0,g.w)(N=>this.confirmDialogClose$(!!N).pipe((0,f.h)(N))),(0,a.R)(this.onDestroy)).subscribe(N=>this.sendEmailDialogService.setNextEmailPayload(N))}ngOnDestroy(){this.onDestroy.next()}templateAction$(I){return"email"===I?this.engageLeftPaneModeService.leftPaneMode$.pipe((0,g.w)(T=>"email"===T?this.confirmTemplateActionSubject:y.E),(0,g.w)(T=>this.confirmUnsavedEmailChanges$(T).pipe((0,f.h)(T)))):this.engageLeftPaneModeService.leftPaneMode$.pipe((0,g.w)(T=>"template"===T?this.confirmTemplateActionSubject:y.E),(0,g.w)(T=>this.confirmUnsavedTemplateChanges$(T).pipe((0,f.h)(T))))}onTemplateFormChange(I){this.templateDirty=I,this.cancel()}onEmailFormChange(I){this.emailDirty=I,this.cancel()}showConfirm(I,T,N){this.confirmationSubject.next({show:!0,cancelLabelKey:I,confirmLabelKey:T,confirmTextKey:N})}cancel(){this.confirmationSubject.value&&(this.confirmationSubject.next(v),this.confirmationResultSubject.next(!1))}confirm(){this.confirmationSubject.next(v),this.confirmationResultSubject.next(!0)}confirmTemplateAction(I){this.confirmTemplateActionSubject.next(I)}waitConfirmation$(I){return this.showConfirm(I.cancelLabelKey,I.confirmLabelKey,I.confirmTextKey),this.confirmationResultSubject.pipe((0,c.q)(1),(0,r.h)(T=>T),(0,f.h)(void 0))}confirmDialogClose$(I){const T=this.emailDirty||this.templateDirty;return this.confirmationState$.pipe((0,c.q)(1),(0,o.j)("show"),(0,g.w)(N=>I||!N&&T?this.waitConfirmation$({cancelLabelKey:"CBL.ENGAGE.CONFIRM_DISCARD_CHANGES.CANCEL_BUTTON",confirmLabelKey:"CBL.ENGAGE.CONFIRM_DISCARD_CHANGES.DISCARD_BUTTON",confirmTextKey:"CBL.ENGAGE.CONFIRM_DISCARD_CHANGES.BODY"}):(0,d.of)(void 0)))}confirmUnsavedEmailChanges$(I){let T=this.emailDirty;return"apply"===I.type&&I.template.template_type===e.G8.TemplateTypeEnum.snippet&&(T=!1),T?this.waitConfirmation$(this.getConfirmationCopy(I)):(0,d.of)(void 0)}confirmUnsavedTemplateChanges$(I){let T=this.templateDirty;return"apply"===I.type&&I.template.template_type===e.G8.TemplateTypeEnum.snippet&&(T=!1),T?this.waitConfirmation$(this.getConfirmationCopy(I)):(0,d.of)(void 0)}getConfirmationCopy(I){return"apply"===I.type?{cancelLabelKey:"CBL.ENGAGE.CONFIRM_DISCARD_CHANGES.CANCEL_BUTTON",confirmLabelKey:"CBL.ENGAGE.CONFIRM_DISCARD_CHANGES.APPLY_BUTTON",confirmTextKey:"CBL.ENGAGE.CONFIRM_DISCARD_CHANGES.APPLY_TEMPLATE_BODY"}:{cancelLabelKey:"CBL.ENGAGE.CONFIRM_DISCARD_CHANGES.CANCEL_BUTTON",confirmLabelKey:"CBL.ENGAGE.CONFIRM_DISCARD_CHANGES.DISCARD_TEMPLATE_BUTTON",confirmTextKey:"CBL.ENGAGE.CONFIRM_DISCARD_CHANGES.BODY"}}}return C.\u0275fac=function(I){return new(I||C)(_.LFG(n.R),_.LFG(m.Q))},C.\u0275prov=_.Yz7({token:C,factory:C.\u0275fac}),C})()},29658:(oe,L,t)=>{t.d(L,{p:()=>e});const e="engage"},25294:(oe,L,t)=>{t.d(L,{j:()=>V});var e=t(35585),i=t(65112),p=t(29658),l=t(71894),y=t(14296),d=t(46179),g=t(43630),f=t(23580),a=t(64139),c=t(10610),r=t(86942),o=t(47418),_=t(80522),n=t(83910),m=t(88759),v=t(59151),h=t(59095),C=t(29361),S=t(28711),I=t(20042),T=t(3184);const N={signature:"CBL.ACCOUNT.CONNECT_EMAIL.EMAIL_SIGNATURE_SAVE_TOAST",bcc:"CBL.ACCOUNT.CONNECT_EMAIL.BCC_SAVE_TOAST"};let x=(()=>{class b{constructor(Q,$,W,q,le){this.action$=Q,this.store=$,this.enterpriseSyncApi=W,this.errorService=q,this.toastService=le,this.loadEmailAccounts$=(0,i.GW)(()=>this.action$.pipe((0,i.l4)(S.ww),(0,c.z)(J=>this.getEmailAccounts$().pipe((0,r.U)(u=>(0,S.YY)({emailAccounts:u})),(0,o.K)(u=>(0,a.of)((0,S.Ny)({error:u}))))))),this.deleteAccount$=(0,i.GW)(()=>this.action$.pipe((0,i.l4)(S.OA),(0,_.zg)(J=>this.disconnectAccount$(J.accountId).pipe((0,r.U)(u=>(0,S.yC)({accountId:J.accountId})),(0,o.K)(u=>(0,a.of)((0,S.wR)({error:u}))))))),this.updateAccountProperty$=(0,i.GW)(()=>this.action$.pipe((0,i.l4)(S.bD),(0,_.zg)(J=>this.store.select((0,I.F5)(J.accountId)).pipe((0,n.q)(1),(0,r.U)(u=>{const D=Object.keys(J.update)[0];return(0,S._j)({accountId:J.accountId,oldAccountProperty:{[D]:null==u?void 0:u[D]},accountProperty:D,update:J.update})}))))),this.saveAccountProperty$=(0,i.GW)(()=>this.action$.pipe((0,i.l4)(S._j),(0,_.zg)(J=>this.patchAccount$(J.accountId,J.update).pipe((0,r.U)(()=>(0,S.gS)({accountId:J.accountId,update:J.update,accountProperty:J.accountProperty})),(0,o.K)(u=>(0,a.of)((0,S.M$)({error:u,accountId:J.accountId,accountProperty:J.accountProperty,oldAccountProperty:J.oldAccountProperty}))))))),this.saveAccountPropertySuccess$=(0,i.GW)(()=>this.action$.pipe((0,i.l4)(S.gS),(0,m.b)(J=>{const u=N[J.accountProperty];u&&this.toastService.showSimpleToast(u)})),{dispatch:!1}),this.requestFail$=(0,i.GW)(()=>this.action$.pipe((0,i.l4)(S.Ny,S.M$,S.wR),(0,m.b)(J=>this.errorService.showToast(J.error))),{dispatch:!1})}getEmailAccounts$(){return this.store.select(g.c7).pipe((0,n.q)(1),(0,v.h)(f.K),(0,h.w)(Q=>this.enterpriseSyncApi.cbEnterpriseSyncUsersUserIdAccountsGet$({userId:Q})))}disconnectAccount$(Q){return this.store.select(g.c7).pipe((0,n.q)(1),(0,v.h)(f.K),(0,h.w)($=>this.enterpriseSyncApi.cbEnterpriseSyncUsersUserIdAccountsAccountIdDelete$({accountId:Q,userId:$})))}patchAccount$(Q,$){return this.store.select(g.c7).pipe((0,n.q)(1),(0,v.h)(f.K),(0,h.w)(