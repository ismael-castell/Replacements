"undefined"==typeof mm_top_compilation&&(mm_top_compilation="14-06-2022 12:22:50",function(e){null==e.emic&&(e.emic={}),null==e.emic.top&&(e.emic.top={}),null==e.emic.top.media&&(e.emic.top.media={}),null==e.emic.top.event&&(e.emic.top.event={}),null==e.emic.top.ui&&(e.emic.top.ui={}),null==e.emic.top.social&&(e.emic.top.social={}),null==e.emic.top.ui.skins&&(e.emic.top.ui.skins={}),null==e.emic.top.ui.skins.fenix&&(e.emic.top.ui.skins.fenix={})}(window),function(e){function t(e){this.data={},this.id=null,psd.framework.Event.call(this,e)}t.prototype=new psd.framework.Event,t.ON_INIT_COMPLETE="onInitComplete",t.ON_RESET_COMPLETE="onResetComplete",t.ON_PRELOAD_CONTROLLER_COMPLETE="onPreloadControllerComplete",t.ON_READY="onReady",t.ON_MEDIA_END="onMediaEnd",t.ON_MEDIA_BEGIN="onMediaBegin",t.ON_CUE="onCue",t.ON_METADATA="onMetadata",t.ON_ERROR="onError",t.ON_STATUS_CHANGE="onStatusChange",t.ON_VOLUME_CHANGE="onVolumeChange",t.ON_PROGRESS="onProgress",t.ON_SEEK_START="onSeekStart",t.ON_SEEK_COMPLETE="onSeekComplete",t.ON_BUFFER_EMPTY="onBufferEmpty",t.ON_BUFFER_FULL="onBufferFull",t.ON_SWITCH_REQUEST="onSwitchRequest",t.ON_SWITCH_COMPLETE="onSwitchComplete",t.ON_IS_LIVE_STREAM="onIsLiveStream",t.ON_RENDITIONS="onRenditions",t.ON_TAG="onTag",t.ON_AUTOPLAY_ERROR="onAutoPlayError",t.ON_LOADING_START="onLoadingStart",e.MediaEvent=t}(emic.top.event),function(e){function t(e){this.data={},psd.framework.Event.call(this,e)}t.prototype=new psd.framework.Event,t.ON_INIT_COMPLETE="onInitComplete",t.ON_ORDER_BEGIN="onOrderBegin",t.ON_ORDER_PLAY="onOrderPlay",t.ON_ORDER_PAUSE="onOrderPause",t.ON_ORDER_PLAYPAUSE="onOrderPlayPause",t.ON_ORDER_STOP="onOrderStop",t.ON_ORDER_VOLUME_CHANGE="onOrderVolumeChange",t.ON_ORDER_MUTE="onOrderMute",t.ON_ORDER_FULLSCREEN="onOrderFullScreen",t.ON_ORDER_SEEK_BY_PROP="onOrderSeekByProp",t.ON_ORDER_SEEK_LIVE="onOrderSeekLive",t.ON_ORDER_SEEK_BY_SECS="onOrderSeekBySecs",t.ON_ORDER_NEXT="onOrderNext",t.ON_ORDER_PREV="onOrderPrev",t.ON_ORDER_SWITCH_UP="onOrderSwitchUp",t.ON_ORDER_SWITCH_DOWN="onOrderSwitchDown",t.ON_ORDER_SWITCH_DIRECT="onOrderSwitchDirect",t.ON_ORDER_SHARE_FACEBOOK="onOrderShareFacebook",t.ON_ORDER_SHARE_TWITTER="onOrderShareTwitter",t.ON_ORDER_SHARE_GOOGLEPLUS="onOrderShareGoogleplus",t.ON_ORDER_SHARE_WHATSAPP="onOrderShareGoogleplus",t.ON_ORDER_SHARE_SUBSCRIBE="onOrderShareSubscribe",t.ON_ORDER_SHARE_EXTERNAL="onOrderShareExternal",t.ON_ORDER_EMBED_EXTERNAL="onOrderEmbedExternal",t.ON_ORDER_EXTERNAL="onOrderExternal",t.ON_ORDER_RESET="onOrderReset",t.ON_ORDER_CHANGE_LIVE="onOrderChangeLive",t.ON_ORDER_BUTTON="onOrderButton",t.ON_ORDER_RRSS="onOrderRRSS",t.ON_ORDER_INICIOCOMPARTIR="onOrderInicioCompartir",t.ON_SKIN_READY="onSkinReady",t.ON_PREVIEW_READY="onPreviewReady",t.ON_ORDER_SKIP_AD="onOrderSkipAd",e.UIEvent=t}(emic.top.event),function(e){function t(e){this.data={},this.contentType="",this.id=null,this.idMedia=null,psd.framework.Event.call(this,e)}t.prototype=new psd.framework.Event,t.ON_AD_INSTREAM_START="onAdInStreamStart",t.ON_AD_INSTREAM_END="onAdInStreamEnd",t.ON_AD_VIDEO_START="onAdVideoStart",t.ON_AD_VIDEO_PAUSE="onAdVideoPause",t.ON_AD_VIDEO_RESUME="onAdVideoResume",t.ON_AD_PROGRESS="onAdVideoProgress",t.ON_AD_VOLUME_CHANGE="onAdVolumeChange",t.ON_AD_VIDEO_END="onAdVideoEnd",t.ON_AD_VIDEO_SKIP="onAdVideoSkip",t.ON_AD_POSITION_END="onAdPositionEnd",t.ON_NO_AD="onNoAd",t.ON_AD_ERROR="onAdError",t.ON_READY="onReady",t.ON_INIT_ERROR="onInitError",t.ON_LOADING_AD_START="onLoadingAdStart",e.AdEvent=t}(emic.top.event),function(e){function t(e){this.data={},this.id=null,psd.framework.Event.call(this,e)}t.prototype=new psd.framework.Event,t.ON_READY="onReady",t.ON_POSITION_CHANGE="onPositionChange",t.ON_LOADING="onLoading",e.TopEvent=t}(emic.top.event),emic.top.media.MediaControllerFactory=function(e){var i=[],n=e;this.destroyController=function(e){emic.top.debug("[MediaControllerFactory.js][destroyController]>> ",e),i[e]&&(i[e].kill(),i[e]=void 0)},this.saveController=function(e){emic.top.debug("[MediaControllerFactory.js][saveController]>> ",e),i[e]&&i[e].reset()},this.getController=function(e,t){var a;if(emic.top.debug("[MediaControllerFactory.js][getController]>> ",e),"undefined"!=typeof mm_dmo&&(e=emic.top.MediaModule.CONTROLLER_TYPE_DM),i[e])emic.top.debug("[MediaControllerFactory.js][getController]>> Ya existÃ­a"),a=i[e];else{switch(e){case emic.top.MediaModule.CONTROLLER_TYPE_AKAMAIHDS:case emic.top.MediaModule.CONTROLLER_TYPE_AKAMAIHD:a=new emic.top.media.FlashController(e);break;case emic.top.MediaModule.CONTROLLER_TYPE_TRITON:a=new emic.top.media.TritonController(t);break;case emic.top.MediaModule.CONTROLLER_TYPE_HTML5NATIVE:a=new emic.top.media.HTML5Controller(e,t);break;case emic.top.MediaModule.CONTROLLER_TYPE_YT:a=new emic.top.media.YTController(t),n.mediaData.youtube_details.playlist&&0==n.mediaData.isPlaylist&&(a.list=n.mediaData.youtube_details.playlist);break;case emic.top.MediaModule.CONTROLLER_TYPE_DM:a=new emic.top.media.DMController(t);break;case emic.top.MediaModule.CONTROLLER_TYPE_REAL_HLS:a=new emic.top.media.HLSController(e,t);break;case emic.top.MediaModule.CONTROLLER_TYPE_HLS:a=new emic.top.media.FlashController(e,t)}a&&(emic.top.debug("[MediaControllerFactory.js][getController]>> Se crea nuevo"),function(e){var t;emic.top.debug("[MediaControllerFactory.js][_createControllerLayer]>> ",e),n.internalData.controllerContainers[e]||(n.internalData.controllerContainers[e]="Controller_"+e+"_"+n.genericData.id),(t=document.getElementById(n.internalData.controllerContainers[e]))||((t=document.createElement("div")).id=n.internalData.controllerContainers[e],t.style.position="absolute",t.style.top="0",t.style.left="0",t.style.width="100%",t.style.height="100%",document.getElementById(n.mediaData.container).appendChild(t))}.apply(this,[e]),i[e]=a)}return emic.top.debug("[MediaControllerFactory.js][getController]>> Instancia: ",a),a}},function(e){function t(){psd.framework.EventDispatcher.call(this),this.isBufferEmpty=!1;var d=this,t=!0;this.setAutoSwitch=function(e){t=e,this.onAutoSwitchChange()};var e=!(this.getAutoSwitch=function(){return t});this.isReady=function(){return e},this.isBeginAllowed=function(e){var t=!0;return e.internalData.position==emic.top.TopPlayer.POSITION_PREVIEW&&0==e.uiData.overrideNativeControls&&0==e.uiData.showPreview&&(t=!1,e.internalData.uiModule.externalNotify(emic.top.event.UIEvent.ON_ORDER_BEGIN)),t},this.notifyReady=function(){e=!0,this.dispatchEvent(new emic.top.event.MediaEvent(emic.top.event.MediaEvent.ON_READY))},this.notifyMediaBegin=function(){e=!0,this.dispatchEvent(new emic.top.event.MediaEvent(emic.top.event.MediaEvent.ON_MEDIA_BEGIN))},this.notifyMediaEnd=function(){e=!0,this.dispatchEvent(new emic.top.event.MediaEvent(emic.top.event.MediaEvent.ON_MEDIA_END))},this.notifyCue=function(e){var t=new emic.top.event.MediaEvent(emic.top.event.MediaEvent.ON_CUE);t.data=e,this.dispatchEvent(t)},this.notifyMetadata=function(e){var t=new emic.top.event.MediaEvent(emic.top.event.MediaEvent.ON_METADATA);t.data=e,this.dispatchEvent(t)},this.notifyError=function(e,t){var a=new emic.top.event.MediaEvent(emic.top.event.MediaEvent.ON_ERROR);a.idCode=e,null!=t&&(a.data=t),this.dispatchEvent(a)},this.notifyStatusChange=function(e){void 0===this.laststatus&&(this.laststatus=""),emic.top.debug("[UIModule.js][onStatusChange]>> ",e),this.laststatus!=e&&(this.laststatus=e,ev=new emic.top.event.MediaEvent(emic.top.event.MediaEvent.ON_STATUS_CHANGE),ev.data={},ev.data.status=e,this.dispatchEvent(ev))},this.notifyVolumeChange=function(e){ev=new emic.top.event.MediaEvent(emic.top.event.MediaEvent.ON_VOLUME_CHANGE),ev.data=e,this.dispatchEvent(ev)},this.notifyProgress=function(e,t,a,i,n){ev=new emic.top.event.MediaEvent(emic.top.event.MediaEvent.ON_PROGRESS),ev.data={},ev.data.currentTime=e,ev.data.totalTime=t,ev.data.bytesLoaded=a,ev.data.bytesTotal=i,this.dispatchEvent(ev),this.isBufferEmpty&&void 0===n&&this.notifyBufferFull()},this.notifySeekStart=function(e){ev=new emic.top.event.MediaEvent(emic.top.event.MediaEvent.ON_SEEK_START),ev.data={},ev.data.offset=e,this.dispatchEvent(ev)},this.notifySeekComplete=function(e){ev=new emic.top.event.MediaEvent(emic.top.event.MediaEvent.ON_SEEK_COMPLETE),ev.data={},ev.data.currentTime=e,this.dispatchEvent(ev)},this.notifyBufferEmpty=function(){this.isBufferEmpty=!0,ev=new emic.top.event.MediaEvent(emic.top.event.MediaEvent.ON_BUFFER_EMPTY),this.dispatchEvent(ev)},this.notifyLoadingStart=function(){ev=new emic.top.event.MediaEvent(emic.top.event.MediaEvent.ON_LOADING_START),this.dispatchEvent(ev)},this.notifyBufferFull=function(){this.isBufferEmpty&&(this.isBufferEmpty=!1,ev=new emic.top.event.MediaEvent(emic.top.event.MediaEvent.ON_BUFFER_FULL),this.dispatchEvent(ev))},this.notifySwitchRequest=function(e){ev=new emic.top.event.MediaEvent(emic.top.event.MediaEvent.ON_SWITCH_REQUEST),ev.data={},ev.data.index=e,this.dispatchEvent(ev)},this.notifySwitchComplete=function(e){ev=new emic.top.event.MediaEvent(emic.top.event.MediaEvent.ON_SWITCH_COMPLETE),ev.data={},ev.data.index=e,this.dispatchEvent(ev)},this.notifyIsLiveStream=function(e){ev=new emic.top.event.MediaEvent(emic.top.event.MediaEvent.ON_IS_LIVE_STREAM),ev.data=e,this.dispatchEvent(ev)},this.notifyRenditions=function(e){ev=new emic.top.event.MediaEvent(emic.top.event.MediaEvent.ON_RENDITIONS),ev.data=e,this.dispatchEvent(ev)},this.notifyID3TagPubli=function(e){ev=new emic.top.event.MediaEvent(emic.top.event.MediaEvent.ON_TAG),ev.data=e,this.dispatchEvent(ev)},this.getAdUnit=function(e){if(""!=e.adData.adunit)return e.adData.adunit;switch(e.genericData.id_cuenta){case"elpais":return"elpais";case"elpaisbrasil":return"elpais_brasil";case"verne":return"elpais_verne";case"elcomidista":return"elpais_comidista";case"cincodias":return"elpais_finanzas_cincodias";case"retina":return"elpais_finanzas_retina";case"diarioas":return"as";case"asmeristation":return"meristation";case"librotea":return"elpais_librotea ";case"motor":return"motor";case"smoda":return"smoda";case"playser":return"cadenaser";default:return""}},this.getVideoTime=function(e){switch(duration=e.mediaData.duration/1e3,!0){case 0==duration:return"0";case 0<duration&&duration<6:return"5";case 5<duration&&duration<11:return"10";case 10<duration&&duration<16:return"15";case 15<duration&&duration<21:return"20";case 20<duration&&duration<26:return"25";case 25<duration&&duration<31:return"30";case 30<duration&&duration<36:return"35";case 35<duration&&duration<41:return"40";case 40<duration&&duration<46:return"45";case 45<duration:return"mas45"}},this.getCustomParams=function(e){var t,a,i,n;(pTags="")!=e.adData.pTags?pTags=e.adData.pTags:pTags=e.mediaData.tags.allTags,pTags=[pTags,e.mediaData.tags.iptc,e.mediaData.tags.iab,e.mediaData.tags.externals.replace(/;/g,","),e.mediaData.tags.tagsNoticiasId].filter(Boolean).join(","),t=""!=e.adData.tags_noticia?","+e.adData.tags_noticia:e.adData.tags_noticia,pTags+=""!=pTags?t:e.adData.tags_noticia,a=d.getVideoTime(e),i="undefined"!=typeof PBS&&void 0!==PBS.slm&&void 0!==PBS.slm.cf&&void 0!==PBS.slm.cf.key&&void 0!==PBS.slm.cf.key.ksg?"&ksg="+PBS.slm.cf.key.ksg.join(","):"";var o="";return"undefined"!=typeof DTM&&void 0!==DTM.pageDataLayer&&void 0!==DTM.pageDataLayer.userType&&"suscriptor"==DTM.pageDataLayer.userType&&("undefined"!=typeof mm_debug&&console.log("%cUsuario suscriptor","background:tomato;color:white;"),o="usuario=suscriptor&"),n=o+"pbskey="+pTags+i+"&videoTime="+a,"undefined"!=typeof mm_debug&&console.log("%cCUSTOM PARAMS %s","background:tomato;color:white;",n),n},this.init=function(){},this.preload=function(){},this.reload=function(){},this.reset=function(){},this.kill=function(){},this.cancelInit=function(){},this.play=function(){},this.pause=function(){},this.playpause=function(){},this.resume=function(){},this.stop=function(){},this.switchUp=function(){},this.switchDown=function(){},this.switchDirect=function(e){},this.seek=function(e){},this.seekLive=function(){},this.setVolume=function(e){},this.onAutoSwitchChange=function(){}}t.prototype=new psd.framework.EventDispatcher,e.MediaControllerBase=t}(emic.top.media),function(e){function t(e){emic.top.media.MediaControllerBase.call(this);var t,m,u,p={},_=e,E="/psdmedia/resources/swf/psd/FlashController.swf",v="/psdmedia/resources/swf/ext/expressInstall.swf";this.init=function(e){emic.top.debug("[FlashController.js][init]>> ",e),p=e,emic.top["FlashInstance_"+p.genericData.id]=this,a.apply(this)},this.reset=function(){emic.top.debug("[FlashController.js][reset]>> "),this.stop()},this.reload=function(){emic.top.debug("[FlashController.js][reload]>> ");var e={};e.isLive=p.mediaData.isLive,e.url=encodeURIComponent(p.mediaData.url),e.id=p.mediaData.id,e.idPlayer=p.genericData.id,e.controller=_,e.mimetype=p.mediaData.mimetype,e.autoplay=!0,e.clipBegin=p.mediaData.clipBegin,e.clipEnd=p.mediaData.clipEnd,e.absolute=p.mediaData.absolute,emic.top.debug("[FlashController.js][reload]>> Se le pasa obj a flash:",e),-1!=p.mediaData.mimetype.indexOf("audio")?(t.style.width="1px",t.style.height="1px"):t.style.visibility="";try{t.loadJS(e)}catch(e){}},this.kill=function(){emic.top.debug("[FlashController.js][kill]>> "),swfobject.removeSWF(u)},this.play=function(){emic.top.debug("[FlashController.js][play]>> ");try{t.playJS()}catch(e){}},this.pause=function(){emic.top.debug("[FlashController.js][pause]>> ");try{t.pauseJS()}catch(e){}},this.playpause=function(){emic.top.debug("[FlashController.js][playpause]>> ");try{t.playpauseJS()}catch(e){}},this.resume=function(){emic.top.debug("[FlashController.js][resume]>> ");try{t.playpauseJS()}catch(e){}},this.stop=function(){emic.top.debug("[FlashController.js][stop]>> ");try{t.stopJS()}catch(e){}},this.switchUp=function(){emic.top.debug("[FlashController.js][switchUp]>> ");try{t.switchUpJS()}catch(e){}},this.switchDown=function(){emic.top.debug("[FlashController.js][switchDown]>> ");try{t.switchDownJS()}catch(e){}},this.switchDirect=function(e){emic.top.debug("[FlashController.js][switchDirect]>> ");try{t.switchDirectJS(e,!1)}catch(e){}},this.seek=function(e){emic.top.debug("[FlashController.js][seek]>> ",e);try{t.seekJS(e)}catch(e){}},this.setVolume=function(e){emic.top.debug("[FlashController.js][setVolume]>> ",e);try{t.setVolumeJS(e)}catch(e){}},this.onAutoSwitchChange=function(e){t.autoSwitchJS(e)};var a=function(){var e,t,a,i,n;if(emic.top.debug("[FlashController.js][_createFlashObj]>> "),m=document.getElementById(p.internalData.controllerContainers[_])){for(;m.firstChild;)m.removeChild(m.firstChild);t=document.createElement("div"),u="flashContainer_"+p.genericData.id,t.id=u,m.appendChild(t),a=i=-1!=p.mediaData.mimetype.indexOf("audio")?"1px":"100%";var o={isLive:p.mediaData.isLive,url:encodeURIComponent(p.mediaData.url),id:p.mediaData.id,idPlayer:p.genericData.id,controller:_,mimetype:p.mediaData.mimetype,autoplay:p.mediaData.autoplay,clipBegin:p.mediaData.clipBegin,clipEnd:p.mediaData.clipEnd,absolute:p.mediaData.absolute},d={menu:"false",allowFullscreen:"true",allowScriptAccess:"always",bgcolor:p.uiData.bgColor,wmode:p.mediaData.wmode},r={id:u};for(e in p.mediaData.controllerData)d["cdn_"+e]=p.mediaData.controllerData[e];var s=(n=this,function(){h.apply(n)}),l=p.genericData.urlBase?p.genericData.urlBase+E:E,c=p.genericData.urlBase?p.genericData.urlBase+v:v;emic.top.debug("[FlashController.js][_createFlashObj]>> Se crea flash con los siguientes datos:",{urlFlashController:l,container:t.id,ancho:a,alto:i,flashvars:o,params:d,attributes:r}),swfobject.embedSWF(l,t.id,a,i,"10.0.0",c,o,d,r,s)}},h=function(e){emic.top.debug("[FlashController.js][_onReady]>> "),t=document.getElementById(u),-1!=p.mediaData.mimetype.indexOf("audio")?(t.style.width="0px",t.style.height="0px"):t.style.visibility=""};this.notifyMediaBeginSWF=function(e){emic.top.debug("[FlashController.js][notifyMediaBeginSWF]>> "),void 0!==e[0]&&""!=e&&this.notifyRenditions(function(e){var t,a,i,n="",o="",d=[],r=-1,s=[{calidad:"144p",bitrate:5e4},{calidad:"240p",bitrate:3e5},{calidad:"360p",bitrate:4e5},{calidad:"480p",bitrate:5e5},{calidad:"720p",bitrate:15e5},{calidad:"1080p",bitrate:3e6},{calidad:"2160p",bitrate:45e5}],l=[{calidad:"240p",size:320},{calidad:"360p",size:640},{calidad:"480p",size:720},{calidad:"720p",size:1280},{calidad:"1080p",size:1920},{calidad:"2160p",size:3840}];for(t in e){if(0==(i=e[t]).width)for(a in s)i.bitrate>=s[a].bitrate&&r++;else for(a in l)i.width>=l[a].size&&r++;i.audio||(0==i.width?(d[t]={bitrate:i.bitrate,label:s[r].calidad==n?s[r].calidad+"+":s[r].calidad},n=s[r].calidad):(d[t]={bitrate:i.bitrate,label:l[r].calidad==o?l[r].calidad+"+":l[r].calidad},o=l[r].calidad)),r=-1}return(1<d.length?[{bitrate:0,label:"Auto"}].concat(d):[{bitrate:0,label:"vacio"}]).reverse()}(e)),this.notifyMediaBegin()},this.notifyMediaEndSWF=function(){emic.top.debug("[FlashController.js][notifyMediaEndSWF]>> "),this.notifyMediaEnd()},this.notifyBufferEmptySWF=function(){emic.top.debug("[FlashController.js][notifyBufferEmptySWF]>> "),this.notifyBufferEmpty()},this.notifyBufferFullSWF=function(){emic.top.debug("[FlashController.js][notifyBufferFullSWF]>> "),this.notifyBufferFull()},this.notifySeekStartSWF=function(e){emic.top.debug("[FlashController.js][notifySeekStartSWF]>> ",e),this.notifySeekStart(e)},this.notifySeekCompleteSWF=function(e){emic.top.debug("[FlashController.js][notifySeekCompleteSWF]>> ",e),this.notifySeekComplete(e)},this.notifySwitchRequestSWF=function(e){emic.top.debug("[FlashController.js][notifySwitchRequestSWF]>> ",e),this.notifySwitchRequest(e)},this.notifySwitchCompleteSWF=function(e){emic.top.debug("[FlashController.js][notifySwitchCompleteSWF]>> ",e),this.notifySwitchComplete(e)},this.notifyReadySWF=function(){emic.top.debug("[FlashController.js][notifyReadySWF]>>"),this.notifyReady()},this.notifyMetadataSWF=function(e){emic.top.debug("[FlashController.js][notifyMetadataSWF]>> ",e),this.notifyMetadata(e)},this.notifyErrorSWF=function(e){emic.top.debug("[FlashController.js][notifyErrorSWF]>> ",e),this.notifyError(e)},this.notifyVolumeChangeSWF=function(e){emic.top.debug("[FlashController.js][notifyVolumeChangeSWF]>> ",e),this.notifyVolumeChange(e)},this.notifyStatusChangeSWF=function(e){emic.top.debug("[FlashController.js][notifyStatusChangeSWF]>> ",e);var t=-1;switch(e){case 0:t=emic.top.MediaModule.STATUS_INITIALIZING;break;case 2:t=emic.top.MediaModule.STATUS_PLAY;break;case 3:t=emic.top.MediaModule.STATUS_PAUSE}this.isReady()&&-1!=t&&this.notifyStatusChange(t)},this.notifyProgressSWF=function(e,t,a,i){this.notifyProgress(e,t,a,i)},this.notifyIsLiveStreamSWF=function(e){emic.top.debug("[FlashController.js][notifyIsLiveStreamSWF]>> ",e),this.notifyIsLiveStream(e)}}t.prototype=new emic.top.media.MediaControllerBase,e.FlashController=t}(emic.top.media),function(F){function x(e){emic.top.media.MediaControllerBase.call(this);var r,n=this,o=e;function t(){return r}function d(){return O}n.topplayer=e,n.syncto=null,n.adduration=0;var s,l,c,m,u,a,i,p,_,E,v,h,D,f,g,y,O=!1,T=0,R=5e3,S=!1,M=(a=this,function(e){var t=e.data.code;switch(emic.top.debug("[TritonController.js][_onStatus]>> ",e.data.code),e.data.code){case"LIVE_CONNECTING":"undefined"!=typeof MM&&clearTimeout(MM.player.to_triton),a.notifyLoadingStart();break;case"LIVE_BUFFERING":a.notifyBufferEmpty();break;case"LIVE_STOP":t=emic.top.MediaModule.STATUS_STOP;break;case"LIVE_PAUSE":t=emic.top.MediaModule.STATUS_PAUSE;break;case"LIVE_PLAYING":r.internalData.position!=emic.top.TopPlayer.POSITION_MEDIA?this.pause():(t=emic.top.MediaModule.STATUS_PLAY,S||(a.notifyBufferFull(),a.notifyMediaBegin(),S=!0));break;case"LIVE_FAILED":a.notifyError(emic.top.MediaModule.ERROR_LIVE_FAILED,e.data);break;case"STREAM_GEO_BLOCKED":"undefined"!=typeof mm_debug&&console.log(">>> GEOBLOQUEADO PERO NO SE HACE NADA");break;case"STREAM_GEO_BLOCKED_ALTERNATE":"undefined"!=typeof mm_debug&&console.log(">>> GEOBLOQUEADO PERO HAY ALTERNATIVO");break;case"STREAM_GEO_BLOCKED_NO_ALTERNATE":"undefined"!=typeof mm_debug&&console.log(">>> GEOBLOQUEADO"),a.notifyError(emic.top.MediaModule.ERROR_STREAM_GEO_BLOCKED,e.data);break;case"STATION_NOT_FOUND":a.notifyError(emic.top.MediaModule.ERROR_STATION_NOT_FOUND,e.data)}(r.internalData.position==emic.top.TopPlayer.POSITION_MEDIA||r.internalData.position==emic.top.TopPlayer.POSITION_AD_PREROLL&&"pause"==t)&&a.notifyStatusChange(t)}),I=(i=this,function(){emic.top.debug("[TritonController.js][_onReady]>> "),O||(l.addEventListener("stream-status",M),l.addEventListener("ad-break-cue-point",w),l.addEventListener("ad-break-synced-element",k),l.addEventListener("video-mid-roll-playback-start",U),l.addEventListener("video-mid-roll-playback-complete",B),l.addEventListener("track-cue-point",C),l.addEventListener("timeout-alert",A),l.addEventListener("timeout-reach",b),l.addEventListener("stream-error",P),l.addEventListener("configuration-error",L),i.notifyReady(),"undefined"!=typeof DTM&&void 0!==DTM.trackEvent&&("undefined"!=typeof mm_debug&&console.log("%cDTMAudioVideoReady","background:blue;color:tomato;",l),DTM.trackEvent("audioReady",{player:l,mediaName:r.mediaData.title,mediaID:r.mediaData.idTOP,playerType:r.statData.extraData.playerName,mediaRepType:r.mediaData.isLive?"streaming":-1!=r.mediaData.mimetype.indexOf("video")?"vod":"aod",mediaDuration:Math.floor(r.mediaData.duration/1e3)})))}),N=(p=this,function(){emic.top.debug("[TritonController.js][_onModuleError]>> "),p.notifyError(x.ERROR_ID_MODULES)}),A=(_=this,function(e){emic.top.debug("[TritonController.js][_onTimeoutAlert]>> ",e.data),_.notifyError(emic.top.MediaModule.ERROR_TIMEOUT_ALERT,{code:e.data.errors[0]._code,status:e.data.errors[0]._message})}),b=(E=this,function(e){emic.top.debug("[TritonController.js][_onTimeoutReach]>> ",e.data),E.notifyError(emic.top.MediaModule.ERROR_TIMEOUT_ALERT,{code:e.data.errors[0]._code,status:e.data.errors[0]._message})}),P=(v=this,function(e){emic.top.debug("[TritonController.js][_onStreamError]>> ",e.data),v.notifyError(emic.top.MediaModule.ERROR_TIMEOUT_ALERT,{code:e.data.errors[0]._code,status:e.data.errors[0]._message})}),L=(h=this,function(e){emic.top.debug("[TritonController.js][_onConfiguracionError]>> ",e.data),h.notifyError(emic.top.MediaModule.ERROR_CONFIGURATION_ERROR,{code:e.data.errors[0]._code,status:e.data.errors[0]._message})}),C=(D=this,function(e){emic.top.debug("[TritonController.js][_onTrackCuePoint]>> ",e.data),D.notifyCue(e.data)}),k=(f=t,function(e){var t,a,i;"undefined"!=typeof mm_debug&&console.log("???SYNCADSTART"),emic.top.debug("[TritonController.js][_onAdSyncStart]>> ",e),n.notificarSyncAdEnd=function(){emic.top.debug("[TritonController.js][_onAdSyncStart]>> End timeout banner"),"undefined"!=typeof mm_debug&&console.log("FIN TIMEOUT BANNER"),f().internalData.adModule&&((i={}).provider=emic.top.AdModule.PROVIDER_TRITON,i.internalData=e,i.name=a,i.adType=emic.top.AdModule.ADTYPE_INSTREAM,f().internalData.adModule.externalNotify(emic.top.event.AdEvent.ON_AD_INSTREAM_END,i,e.data.id))};try{t=e.data.data.url,a=t.match(/\&cid=([^\&]*)&/)[1]}catch(e){a="Unable to retrieve ID"}f().internalData.adModule&&((i={}).provider=emic.top.AdModule.PROVIDER_TRITON,i.internalData=e,i.name=a,i.adType=emic.top.AdModule.ADTYPE_INSTREAM,i.DURATION=T,f().internalData.adModule.externalNotify(emic.top.event.AdEvent.ON_AD_INSTREAM_START,i,e.data.id))}),w=function(e){"undefined"!=typeof mm_debug&&console.log("???ONADBREAK",e.data.adBreakData.duration),emic.top.debug("[TritonController.js][_onAdBreak]>> ",e);try{T=e.data.adBreakData.duration,clearTimeout(n.syncto),n.syncto=setTimeout(function(){"undefined"!=typeof mm_debug&&console.log("???? pues tterminamos el timeouttttt"),"function"==typeof n.notificarSyncAdEnd&&n.notificarSyncAdEnd()},T)}catch(e){}},U=(g=t,function(e){if(emic.top.debug("[TritonController.js][_onVideoMidStart]>> ",e),g().internalData.adModule){var t={};t.internalData=e,t.provider=emic.top.AdModule.PROVIDER_TRITON,t.adType=emic.top.AdModule.ADTYPE_VIDEO,g().internalData.adModule.externalNotify(emic.top.event.AdEvent.ON_AD_VIDEO_START,t)}}),B=(y=t,function(e){if(emic.top.debug("[TritonController.js][_onVideoMidComplete]>> ",e),y().internalData.adModule){var t={};t.internalData=e,t.provider=emic.top.AdModule.PROVIDER_TRITON,t.adType=emic.top.AdModule.ADTYPE_VIDEO,y().internalData.adModule.externalNotify(emic.top.event.AdEvent.ON_AD_VIDEO_END,t)}});this.loadTritonAPI=function(){emic.top.debug("[TritonController.js][loadTritonAPI]>> Iniciando peticion de librerÃ­as a Triton");var e=document.createElement("script");e.setAttribute("type","text/javascript"),"2.4"==r.mediaData.controllerData.version?(e.setAttribute("data-dojo-config","async: 1, tlmSiblingOfDojo: 0, deps:['tdapi/run']"),e.setAttribute("src","//eu-playerservices.streamtheworld.com/tdplayerapi/2.4/dojo/dojo.js")):(e.setAttribute("src","//sdk.listenlive.co/web/v/2.9.19-183/td-sdk.min.js"),e.setAttribute("src","//sdk.listenlive.co/web/v/2.9.19-183/td-sdk.min.js"),e.setAttribute("src","//sdk.listenlive.co/web/2.9/td-sdk.min.js"),psdgetgetpsd("t_old")&&(mm_ttold=!0),"undefined"!=typeof mm_ttold&&e.setAttribute("src","//player-top.prisasd.com/psdmedia/resources/js/ext/triton/td-sdk.min.js"),psdgetgetpsd("tt")&&e.setAttribute("src","https://sdk.listenlive.co/web/v/2.9.52-392/td-sdk.min.js"),e.setAttribute("id","triton-sdk")),e.onload=function(){V.apply(n)},document.getElementsByTagName("head")[0].appendChild(e),F.tritonScriptCreated=!0},this.cancelInit=function(){emic.top.debug("[TritonController.js][cancelInit]>> "),O=!0,c&&clearInterval(c),m&&clearInterval(m),u&&clearInterval(u)},this.preload=function(){emic.top.debug("[TritonController.js][preload]>> "),this.play(),this.pause()},this.init=function(e){if(emic.top.debug("[TritonController.js][init]>> ",e),O=!1,(r=e).mediaData.controllerData.debugInStream){var t=(d=this,function(){(function(){emic.top.debug("[TritonController.js][_forzarCampana]>> ");var e={},t=r;document.body.style.fontSize="24px",document.getElementById(r.mediaData.controllerData.container_banner_bigbox).style.backgroundColor="#00ff00",document.getElementById(r.mediaData.controllerData.container_banner_bigbox).style.width="300px",document.getElementById(r.mediaData.controllerData.container_banner_bigbox).style.height="250px",document.getElementById(r.mediaData.controllerData.container_banner_bigbox).style.display="none",document.getElementById(r.mediaData.controllerData.container_banner_leaderboard).style.backgroundColor="#ffff00",document.getElementById(r.mediaData.controllerData.container_banner_leaderboard).style.width="728px",document.getElementById(r.mediaData.controllerData.container_banner_leaderboard).style.height="90px",document.getElementById(r.mediaData.controllerData.container_banner_leaderboard).style.display="none";var a=[r.mediaData.controllerData.container_banner_bigbox,r.mediaData.controllerData.container_banner_leaderboard][Math.floor(1.99999*Math.random())];r.internalData.adModule&&((e={internalData:{},provider:"TestProvider"}).internalData.id=a,e.name=a,e.adType=emic.top.AdModule.ADTYPE_INSTREAM,r.internalData.adModule.externalNotify(emic.top.event.AdEvent.ON_AD_INSTREAM_START,e,a)),setTimeout(function(){t.internalData.adModule&&((e={internalData:{},provider:"TestProvider"}).internalData.id=a,e.name=a,e.adType=emic.top.AdModule.ADTYPE_INSTREAM,t.internalData.adModule.externalNotify(emic.top.event.AdEvent.ON_AD_INSTREAM_END,e,a))},1e4)}).apply(d)}),a=(o=this,function(){U.apply(o)}),i=(n=this,function(){B.apply(n)});c=setInterval(t,14e3,this),m=setInterval(a,23e3),setTimeout(function(){u=setInterval(i,23e3)},7e3)}var n,o,d;F.directInstance=this,F.tritonScriptCreated?H.apply(this):this.loadTritonAPI(this)},this.onTritonLoaded=function(){emic.top.debug("[TritonController.js][onTritonLoaded]>> LibrerÃ­as de Triton cargadas"),H.apply(this)};var H=function(){if(emic.top.debug("[TritonController.js][_init]>> "),!O){var e=(t=this,a=r,i=d,function(){t.isReady()||i()||(emic.top.debug("[TritonController.js][connectDef]>> Retrying Triton modules loading, next call in:",R/1e3,"segs"),t.init(a))});setTimeout(e,R),R<5e3&&(R+=3e3),V.apply(this)}var t,a,i},V=function(){var e,t,a;if(emic.top.debug("[TritonController.js][_connect]>> "),s=document.getElementById(r.internalData.controllerContainers[emic.top.MediaModule.CONTROLLER_TYPE_TRITON])){r.mediaData.controllerData.compatibleContainer&&("none"==s.style.display&&(s.style.display,s.style.height),0!=(t=s.style.width).indexOf("px")&&"0px"!=t&&""!=t||(t=s.style.width="1px"),0!=(t=s.style.height).indexOf("px")&&"0px"!=t&&""!=t||(t=s.style.height="1px")),e=[],r.mediaData.controllerData.container_banner_bigbox&&e.push({id:r.mediaData.controllerData.container_banner_bigbox,width:300,height:250}),r.mediaData.controllerData.container_banner_leaderboard&&e.push({id:r.mediaData.controllerData.container_banner_leaderboard,width:300,height:250}),r.mediaData.controllerData.version,a={},_playerServicesRegion="";try{n.topplayer.getLauncher().getEmbed().playerServicesRegion&&(_playerServicesRegion=n.topplayer.getLauncher().getEmbed().playerServicesRegion)}catch(e){console.log(e)}var i={coreModules:[{id:"MediaPlayer",playerId:r.internalData.controllerContainers[emic.top.MediaModule.CONTROLLER_TYPE_TRITON],isDebug:!1,plugins:[{id:"vastAd"}],defaultTrackingParameters:a,sbm:{active:!0,aSyncCuePointFallback:!1},techPriority:["Html5","Flash"],forceHls:"undefined"!=typeof mm_triton_hls,playerServicesRegion:_playerServicesRegion,geoTargeting:{desktop:{isActive:!1},iOS:{isActive:!1},android:{isActive:!1}}},{id:"SyncBanners",keepElementsVisible:!1,elements:e}],playerReady:I,configurationError:function(){emic.top.debug("[TritonController.js] Error de configuracion TAP")},moduleError:N,adBlockerDetected:function(){emic.top.debug("[TritonController.js] AdBlock detectado")}};void 0!==window.tdplayer&&window.tdplayer.destroy(),l=new TDSdk(i),window.tdplayer=l,this.notifyStatusChange(emic.top.MediaModule.STATUS_INITIALIZING)}else this.notifyError(emic.top.MediaModule.ERROR_NO_CONTAINER)};this.play=function(){emic.top.debug("[TritonController.js][play]>> "),r.mediaData.id&&l&&j.apply(this)};var j=function(){if("positionMedia"==n.topplayer.getCurrentPosition()&&(emic.top.debug("[TritonController.js][_play]>> ",r.mediaData.id),l.initMediaElement(),l.play)){if("2.4"==r.mediaData.controllerData.version)l.play({mount:r.mediaData.id,connectionType:"normalConnection"});else{var e=2e3;r.mediaData.csegid&&(e=r.mediaData.csegid);var t={csegid:e},a="";if("undefined"!=typeof PBS&&void 0!==PBS.slm&&void 0!==PBS.slm.cf&&void 0!==PBS.slm.cf.consent&&(a=PBS.slm.cf.consent,t.gdpr=1,t.gdpr_consent=a),void 0!==window.cmpConsentString&&(t.gdpr=window.mm_didomi_cs_t,t.gdpr_consent=window.cmpConsentString),r.mediaData.dist&&(t.dist=r.mediaData.dist),"undefined"!=typeof mm_ttag&&1==mm_ttag&&"undefined"!=typeof PBS&&void 0!==PBS.slm&&void 0!==PBS.slm.cf&&void 0!==PBS.slm.cf.key&&void 0!==PBS.slm.cf.key.ksg){var i=PBS.slm.cf.key.ksg;t.ttag="kgx:"+i.join(",kgx:")}"undefined"!=typeof psdgetgetpsd&&psdgetgetpsd("mm_ttag")&&(t.ttag=psdgetgetpsd("mm_ttag")),void 0!==window.mm_ttag_val&&(t.ttag=window.mm_ttag_val),void 0!==window.mm_ttag_val_tna&&void 0!==o&&o&&o.publi_showed&&(t.ttag=window.mm_ttag_val_tna),"undefined"!=typeof mm_lsid&&(t.lsid=mm_lsid),"undefined"!=typeof psdgetgetpsd&&psdgetgetpsd("mm_mount")?l.play({mount:r.mediaData.id,trackingParameters:t}):l.play({station:r.mediaData.id,trackingParameters:t})}this.notifyStatusChange(emic.top.MediaModule.STATUS_PLAY)}};this.pause=function(){emic.top.debug("[TritonController.js][pause]>> "),l.pause&&l.pause(),this.notifyStatusChange(emic.top.MediaModule.STATUS_PAUSE),this.stop()},this.resume=function(){emic.top.debug("[TritonController.js][resume]>> "),l.resume&&l.resume()},this.stop=function(){emic.top.debug("[TritonController.js][stop]>> "),void 0!==l&&l.stop&&l.stop(),this.notifyStatusChange(emic.top.MediaModule.STATUS_STOP)},this.setVolume=function(e){emic.top.debug("[TritonController.js][setVolume]>> ",e),this.isReady()&&(l.setVolume(e),this.notifyVolumeChange(e))},this.mute=function(e){emic.top.debug("[TritonController.js][mute]>> ",e),l&&(e?l.mute():l.unMute())},this.reset=function(){emic.top.debug("[TritonController.js][reset]>> "),this.stop()},this.reload=function(){emic.top.debug("[TritonController.js][reload]>> "),this.stop(),l.play({mount:r.mediaData.id,connectionType:"normalConnection"}),getDevice().mobile&&j(),this.notifyReady()},this.kill=function(){if(emic.top.debug("[TritonController.js][kill]>> "),this.stop(),s)for(;s.firstChild;)s.removeChild(s.firstChild);c&&clearInterval(c),m&&clearInterval(m),u&&clearInterval(u),l=void 0}}window.tdPlayerApiReady=function(){F.directInstance.onTritonLoaded()},x.prototype=new emic.top.media.MediaControllerBase,x.tritonLoaded=!1,x.ERROR_ID_MODULES=1,F.TritonController=x}(emic.top.media),function(e){function t(e,t){function d(e){var t,a;if(emic.top.debug("[HTML5Controller.js][_getURL]>> ",e),t=null!=s.authParamsHTML5?(-1==e.indexOf("?")?"?":"&")+s.authParamsHTML5:"",a=e+t,"undefined"!=typeof mm_token){var i=new URL(a);a=i.origin+"/"+mm_token+i.pathname}return a}emic.top.media.MediaControllerBase.call(this),this.className="emic.top.media.HTML5Controller";var r,n=this,s={},o=!1,l=!1,c=!1,m=t,u=!0,p=!1,_=!1;this.preload=function(){emic.top.debug("[HTML5Controller.js][preload]>> "),r.load()};var E=function(){var e,t;if(void 0!==s.mediaData.urlHTML5&&0<s.mediaData.urlHTML5.length)t=s.mediaData.urlHTML5;else{if(void 0===s.mediaData.url)return!1;t=s.mediaData.url,s.mediaData.urlHTML5=[s.mediaData.url]}var a="";if("undefined"!=typeof mm_gdpr&&mm_gdpr&&"undefined"!=typeof PBS&&void 0!==PBS.slm&&void 0!==PBS.slm.cf&&void 0!==PBS.slm.cf.consent&&(a="?gdpr=1&gdpr_consent="+PBS.slm.cf.consent),void 0!==window.cmpConsentString&&(a="?gdpr="+window.mm_didomi_cs_t+"&gdpr_consent="+window.cmpConsentString),"[object Array]"===Object.prototype.toString.apply(t))for(e in t){if(srcNode=document.createElement("source"),"undefined"!=typeof mm_no_start&&1==mm_no_start&&getDevice().mobile&&1==s.mediaData.isDVR){var i=psdgetgetpsd("start",t[e]),n=psdgetgetpsd("end",t[e]);i&&null==n&&(t[e]=t[e].replace("?start="+i,""))}var o=a;0<d(t[e]).indexOf("?")&&(o=a.replace("?","&")),srcNode.setAttribute("src",d(t[e])+o),r.appendChild(srcNode)}else o=a,0<d(t).indexOf("?")&&(o=a.replace("?","&")),r.setAttribute("src",d(t)+o);emic.top.debug("[HTML5Controller.js][_setUrl]>> ",r.src+a)},v=function(e,t){r&&(r.addEventListener?r.addEventListener(e,t,!1):r.attachEvent&&r.attachEvent(e,t))};this.init=function(e){emic.top.debug("[HTML5Controller.js][init]>> "),s=e,function(){emic.top.debug("[HTML5Controller.js][_init]>> "),function(){var e,t,a=document.getElementById(s.internalData.controllerContainers[emic.top.MediaModule.CONTROLLER_TYPE_HTML5NATIVE]);if(-1!=s.mediaData.mimetype.indexOf("audio")&&(r=document.createElement("audio"),"undefined"!=typeof mm_crossorigin&&1==mm_crossorigin&&(r.crossOrigin="anonymous"),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)&&-1==navigator.userAgent.indexOf("Mobile")?"undefined"!=typeof mm_debug&&console.log("Soy SAFARI escritorio. Quitamos el preload"):r.preload="none",m&&(m.mediaTag=r),r.addEventListener("loadeddata",function(){if("undefined"!=typeof DTM&&void 0!==DTM.trackEvent){function e(){"undefined"!=typeof mm_debug&&console.log("%cDTMAudioVideoReady","background:blue;color:tomato;",r),getDevice().mobile?(p&&DTM.trackEvent("audioReady",{player:r,mediaName:s.mediaData.title,mediaID:s.mediaData.idTOP,playerType:s.statData.extraData.playerName,mediaRepType:s.mediaData.isLive?"streaming":-1!=s.mediaData.mimetype.indexOf("video")?"vod":"aod",mediaDuration:Math.floor(s.mediaData.duration/1e3)}),p=!0):DTM.trackEvent("audioReady",{player:r,mediaName:s.mediaData.title,mediaID:s.mediaData.idTOP,playerType:s.statData.extraData.playerName,mediaRepType:s.mediaData.isLive?"streaming":-1!=s.mediaData.mimetype.indexOf("video")?"vod":"aod",mediaDuration:Math.floor(s.mediaData.duration/1e3)})}r.idMedia=s.mediaData.idTOP,s.mediaData.reload||(s.mediaData.isPlaylist?s.mediaData.primerVideoPlayList&&e():e())}})),-1!=s.mediaData.mimetype.indexOf("video")&&(r=document.createElement("video"),m&&(m.mediaTag=r),r.addEventListener("loadeddata",function(){if(getDevice().mobile)m.videoready=!0;else if("undefined"!=typeof DTM&&void 0!==DTM.trackEvent){function e(){getDevice().mobile?(p&&DTM.trackEvent("videoReady",{player:r,mediaName:s.mediaData.title,mediaID:s.mediaData.idTOP,playerType:s.statData.extraData.playerName,mediaRepType:s.mediaData.isLive?"streaming":-1!=s.mediaData.mimetype.indexOf("video")?"vod":"aod",mediaDuration:Math.floor(s.mediaData.duration/1e3)}),p=!0):DTM.trackEvent("videoReady",{player:r,mediaName:s.mediaData.title,mediaID:s.mediaData.idTOP,playerType:s.statData.extraData.playerName,mediaRepType:s.mediaData.isLive?"streaming":-1!=s.mediaData.mimetype.indexOf("video")?"vod":"aod",mediaDuration:Math.floor(s.mediaData.duration/1e3)})}r.idMedia=s.mediaData.idTOP,s.mediaData.reload||(s.mediaData.isPlaylist?s.mediaData.primerVideoPlayList&&e():e())}})),s.mediaData.premuted&&!getDevice().mobile&&(r.muted=!0),r&&void 0!==m&&void 0!==m.getLauncher()&&void 0!==m.getLauncher().getEmbed()&&(m.getLauncher().getEmbed().setSpeed=function(e){void 0!==r&&r&&(r.playbackRate=e)}),void 0!==r&&null!=r){e=s.uiData.bgColor,r.setAttribute("id","HTML5Controller_"+s.genericData.id),r.setAttribute("title",s.mediaData.title),r.setAttribute("width","100%"),r.setAttribute("height","100%"),r.setAttribute("style","background:"+e),r.requestFullScreen=r.requestFullScreen||r.mozRequestFullScreen||r.webkitRequestFullScreen||a.webkitRequestFullScreen;var i=(t=this,function(e){(function(e){switch("timeupdate"!=e.type&&emic.top.debug("[HTML5Controller.js][_onMediaEvent]>> ",e.type),e.type){case"playing":c||(this.isBeginAllowed(s)?(c=!match_UA("iphone")||s.internalData.position!=emic.top.TopPlayer.POSITION_AD_PREROLL,this.notifyMediaBegin(),this.notifyStatusChange(emic.top.MediaModule.STATUS_PLAY)):this.stop()),o||(o=!0,this.notifyStatusChange(emic.top.MediaModule.STATUS_PLAY)),_=!0,this.notifyBufferFull();break;case"pause":o&&(o=!1,this.notifyStatusChange(emic.top.MediaModule.STATUS_PAUSE));break;case"ended":c&&(c=!1,this.notifyMediaEnd(),this.notifyStatusChange(emic.top.MediaModule.STATUS_STOP));break;case"timeupdate":null!=r&&(this.notifyProgress(r.currentTime,r.duration),l&&(this.notifySeekComplete(),l=!1),_||(_=!0,this.notifyBufferFull()),r.duration==1/0||0==r.duration?(!0===s.mediaData.isDVR?this.notifyProgress(r.currentTime,r.duration):this.notifyProgress(r.currentTime,r.currentTime),this.notifyIsLiveStream(!0)):this.notifyIsLiveStream(!1));break;case"waiting":_=!1,this.notifyBufferEmpty();break;case"volumechange":void 0!==r&&this.notifyVolumeChange(r.volume);break;case"loadstart":this.notifyLoadingStart();break;case"error":this.notifyError()}}).apply(t,[e])});v("playing",i),v("pause",i),v("ended",i),v("timeupdate",i),v("waiting",i),v("volumechange",i),v("error",i),v("loadstart",i),r&&s.adData.dai&&u&&(u=!1,r.textTracks.addEventListener("addtrack",function(e){emic.top.debug("[HTML5Controller.js]>>Event: addtrack",e),"metadata"===e.track.kind&&(e.track.mode="hidden",e.track.addEventListener("cuechange",function(e){setTimeout(function(){n.notifyMetadata(data)},1e4),n.notifyID3TagPubli("publicidad"),emic.top.debug("[HTML5Controller.js]>>Event: cuechange",e)}))})),r.getAttribute("autoplay")&&r.removeAttribute("autoplay"),0!=s.uiData.overrideNativeControls&&"false"!=s.uiData.overrideNativeControls||r.setAttribute("controls","controls"),void 0!==s.uiData.poster&&r.setAttribute("poster",s.uiData.poster),E.apply(this),r.volume=s.mediaData.startVolume,a.appendChild(r),s.internalData.mediaElement=r,emic.top.debug("[HTML5Controller.js][_createElement]>> Creado:",r)}else a.innerHTML='<a href="'+d(void 0)+'"></a>'}.apply(this),this.notifyReady()}.apply(this)},this.kill=function(){emic.top.debug("[HTML5Controller.js][kill]>> "),r.pause(),r.parentNode.removeChild(r),r=void 0,s.internalData.mediaElement=void 0,this.notifyStatusChange(emic.top.MediaModule.STATUS_PAUSE)},this.reload=function(){emic.top.debug("[HTML5Controller.js][reload]>> "),c=!1,r.innerHTML="",E.apply(this),r.load(),r.play(),s.mediaData.autoplay=!0,this.notifyReady()},this.play=function(){if(emic.top.debug("[HTML5Controller.js][play]>> "),void 0!==r&&void 0!==r.play){var e=r.play();if(void 0!==e){var t=this;e.then(function(){}).catch(function(e){emic.top.debug("Error autoplay",e),"object"==typeof e&&"NotAllowedError"==e.name&&t.dispatchEvent(new psd.media.MediaEvent(emic.top.event.MediaEvent.ON_AUTOPLAY_ERROR))})}this.notifyStatusChange(emic.top.MediaModule.STATUS_PLAY)}},this.pause=function(){emic.top.debug("[HTML5Controller.js][pause]>> "),void 0!==r&&void 0!==r.pause&&(r.pause(),this.notifyStatusChange(emic.top.MediaModule.STATUS_PAUSE))},this.playpause=function(){emic.top.debug("[HTML5Controller.js][playpause]>> "),c?o?(r.pause(),this.notifyStatusChange(emic.top.MediaModule.STATUS_PAUSE)):(r.play(),this.notifyStatusChange(emic.top.MediaModule.STATUS_PLAY)):r.play()},this.resume=function(){emic.top.debug("[HTML5Controller.js][resume]>> "),void 0!==r&&void 0!==r.play&&r.play()},this.stop=function(){emic.top.debug("[HTML5Controller.js][stop]>> "),void 0!==r&&void 0!==r.pause&&(r.pause(),this.notifyStatusChange(emic.top.MediaModule.STATUS_STOP))},this.switchUp=function(){emic.top.debug("[HTML5Controller.js][switchUp]>> ")},this.switchDown=function(){emic.top.debug("[HTML5Controller.js][switchDown]>> ")},this.switchDirect=function(e){emic.top.debug("[HTML5Controller.js][switchDirect]>> ",e)},this.seek=function(e){this.notifySeekStart(),l=!0,emic.top.debug("[HTML5Controller.js][seek]>> ",e),void 0!==r&&void 0!==r.currentTime&&(r.currentTime=e)},this.seekLive=function(e){emic.top.debug("[HTML5Controller.js][seekLive]>> "),void 0!==r&&(this.notifySeekStart(),r.pause(),r.src=r.currentSrc,r.play())},this.setVolume=function(e){emic.top.debug("[HTML5Controller.js][setVolume]>> ",e),void 0!==r&&void 0!==r.volume&&(0<e&&(r.muted=!1),r.volume=e)},this.onAutoSwitchChange=function(){emic.top.debug("[HTML5Controller.js][onAutoSwitchChange]>> ")}}t.prototype=new emic.top.media.MediaControllerBase,e.HTML5Controller=t}(emic.top.media),function(e){function t(e){emic.top.media.MediaControllerBase.call(this);var r=this;this.classname="emic.top.media.YTController",this._player="",this.list="",this.href=window.location.href;var s,l=this;l.current_status=0;var c,d,a,m,u,p,i=l.ad_complete=!1,_=!1,E=e,n=!0,o=!1,v=!1,h=!1,D=!1;this.cancelInit=function(){emic.top.debug("[YTController.js][cancelInit]>> ")},this.preload=function(){emic.top.debug("[YTController.js][preload]>> "),this.play()},this.init=function(d){emic.top.debug("[YTController.js][init]>> ",d),this.notifyReady();var e=document.createElement("script");function t(a){var i;function n(e){try{"undefined"!=typeof mm_debug&&console.log("%c IMAYT: makeAdsRequest","color:#333;background:aquamarine;");var t="https://pubads.g.doubleclick.net/gampad/ads?iu=/7811748/"+l.getAdUnit(s)+"_"+i+"/player_youtube&sz=480x360|640x480|480x361&cust_params="+encodeURIComponent(l.getCustomParams(s))+"&gdfp_req=1&env=vp&output=vast&unviewed_position_start=1&url=[REFERRER_URL]&correlator="+(1e3*Math.random()|0)+"&pos=pre";psdgetgetpsd("ima")&&(mm_imaybtest=psdgetgetpsd("ima")),"undefined"!=typeof mm_imaybtest&&(t=1==mm_imaybtest?"https://securepubads.g.doubleclick.net/gampad/ads?iu=/7811748/elpais_web/player_youtube&sz=480x360|640x480|480x361&cust_params=pruebas%3Dprueba_vpaid&gdfp_req=1&env=vp&output=vast&unviewed_position_start=1&url=[REFERRER_URL]&correlator="+(1e3*Math.random()|0):mm_imaybtest),"undefined"!=typeof mm_debug&&console.log("%c IMAYT: /7811748/"+l.getAdUnit(s)+"_"+i+"/player_youtube","color:gold;font-weight:bold;"),"undefined"!=typeof mm_debug&&console.log("%c IMAYT: "+l.getCustomParams(s),"color:gold;font-weight:bold"),"undefined"!=typeof mm_AdServer&&(t=mm_AdServer),e.adTagUrl=t,"undefined"!=typeof mm_debug&&console.log("%c IMAYT: URL -> "+t,"color:#333;background:aquamarine;")}catch(e){console.log("error",e)}}if(void 0!==E.getLauncher().getEmbed().disabled_ads&&(a=!1,"undefined"!=typeof mm_debug&&console.log("%c IMAYT: Anuncios deshabilitados desde el player!","color:#333;background:aquamarine;")),a&&"undefined"!=typeof mm_debug&&console.log("%c IMAYT: Cargado ima3.js","color:#333;background:aquamarine;"),u=(s=d).internalData.controllerContainers[emic.top.MediaModule.CONTROLLER_TYPE_YT],c=s.mediaData.id,_mediaTypeDM=-1!=s.mediaData.mimetype.indexOf("video")?"vod":"aod",document.getElementById(s.uiData.container).style.visibility="hidden",(p={height:"100%",width:"100%"}).videoId=c,p.playerVars={},s.mediaData.autoplay&&(getDevice().mobile||(p.playerVars.autoplay=1)),p.playerVars.rel=s.mediaData.relateds,s.mediaData.isPlaylist||(p.embedConfig={autonavRelatedVideos:!0},s.mediaData.preorganic="secuencial"),void 0===p.embedConfig&&(p.embedConfig={}),p.embedConfig.adsConfig={},p.embedConfig.adsConfig.adTagParameters={},i="web",getDevice().mobile&&(i="mob"),p.embedConfig.adsConfig.adTagParameters.iu="/7811748/"+l.getAdUnit(s)+"_"+i+"/player_youtube",cust_params=l.getCustomParams(s),cust_params=encodeURIComponent(cust_params),p.embedConfig.adsConfig.adTagParameters.cust_params=cust_params,p.embedConfig.adsConfig.adTagParameters.ppid=null,p.embedConfig.adsConfig.adTagParameters.pp=null,p.embedConfig.enableIma=a,s.adData.enabledYouTube||(void 0===p.embedConfig&&(p.embedConfig={}),p.embedConfig.adsConfig={},p.embedConfig.adsConfig.disableAds=!0),p.embedConfig.adsConfig.disableAds=!0,p.playerVars.modestbranding=1,p.playerVars.color="white",p.playerVars.frameborder=0,(match_UA("ipad")||match_UA("iphone"))&&(p.playerVars.playsinline=1),""!=this.list&&(p.playerVars.list=this.list,p.playerVars.listType="playlist",p.playerVars.loop=1,s.youtube_playList=this.list),p.events={},p.events.onReady=function(e){if(r.onPlayerReady(e),"undefined"!=typeof mm_debug&&console.log("%c IMAYT: Player Ready","color:#333;background:aquamarine;"),s.adData.enabledYouTube)if(void 0!==YT.ImaManager&&a){document.getElementById(s.uiData.container).style.pointerEvents="none","undefined"!=typeof mm_debug&&console.log("%c IMAYT: Cargamos ImaManager","color:#333;background:aquamarine;");var t=document.getElementById(s.mediaData.container);l.ad_container=document.createElement("div"),l.ad_container.id=s.mediaData.container+"_imayt",t.appendChild(l.ad_container),l.imaManager=new YT.ImaManager(l._player,u,l.ad_container,n),l.adsLoader=l.imaManager.getAdsLoader(),l.adsLoader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,function(){if("undefined"!=typeof mm_debug&&console.log("%c IMAYT: AdsManager loaded -> escucharemos los eventos","color:#333;background:aquamarine;"),l.adsManager=l.imaManager.getAdsManager(),void 0!==l.adsManager&&l.adsManager)for(var e in l.adsManager.addEventListener(google.ima.AdEvent.Type.STARTED,function(){"undefined"!=typeof mm_debug&&console.log("%c IMAYT: PUBLI STARTED","color:#333;background:aquamarine;")}),l.adsManager.addEventListener(google.ima.AdEvent.Type.PAUSED,function(){"undefined"!=typeof mm_debug&&console.log("%c IMAYT: PUBLI PAUSED","color:#333;background:aquamarine;"),l._player.pauseVideo()}),l.adsManager.addEventListener(google.ima.AdEvent.Type.COMPLETE,function(){"undefined"!=typeof mm_debug&&console.log("%c IMAYT: PUBLI COMPLETE","color:#333;background:aquamarine;"),l.ad_complete=!0}),l.adsManager.addEventListener(google.ima.AdEvent.Type.SKIPPED,function(){"undefined"!=typeof mm_debug&&console.log("%c IMAYT: PUBLI SKIPPED","color:#333;background:aquamarine;"),l.ad_complete=!0}),l.adsManager.addEventListener(google.ima.AdEvent.Type.ALL_ADS_COMPLETED,function(){"undefined"!=typeof mm_debug&&console.log("%c IMAYT: PUBLI COMPLETE","color:#333;background:aquamarine;"),l.ad_complete||("undefined"!=typeof mm_debug&&console.log("IMAYT no se ha completado el anuncio -> debe ser un RESET"),l._player.pauseVideo())}),l.adsManager.addEventListener("adError",function(){console.log("IMAYT error")}),google.ima.AdEvent.Type)l.adsManager.addEventListener(google.ima.AdEvent.Type[e],function(e){return function(){"undefined"!=typeof mm_debug&&console.log("%c IMAYT event -> "+e,"background:pink")}}(e))},!1)}else"undefined"!=typeof mm_debug&&console.log("%c IMAYT: No se puede cargar ImaManager","color:#333;background:aquamarine;");else"undefined"!=typeof mm_debug&&console.log("%c IMAYT: No hay publicidad","color:#333;background:aquamarine;")},p.events.onStateChange=function(e){r.onPlayerStateChange(e)},p.events.onPlaybackQualityChange=function(e){r.onPlayerPlaybackQualityChange(e)},p.events.onError=function(e){r.onPlayerError(e)},p.events.onAdStart=function(e){r.notifyStatusChange("onAdStart")},p.events.onAdEnd=function(e){r.notifyStatusChange("onAdEnd")},"undefined"==typeof mm_ytLoadApi){window.mm_ytLoadApi=!1;var e=document.createElement("script"),t=document.createTextNode("function onYouTubePlayerAPIReady(){mm_ytLoadApi = true;}");e.appendChild(t),document.body.appendChild(e),(e=document.createElement("script")).type="text/javascript",e.src="https://www.youtube.com/iframe_api?ima=1","undefined"!=typeof mm_debug&&console.log("%c IMAYT: Cargamos iframe_api?ima=1","color:#333;background:aquamarine;");var o=document.getElementsByTagName("script")[0];o.parentNode.insertBefore(e,o)}l.readyYoutube()}e.src="//imasdk.googleapis.com/js/sdkloader/ima3.js","undefined"!=typeof mm_debug&&console.log("%c IMAYT: Cargamos ima3.js","color:#333;background:aquamarine;"),e.onload=function(){t(!0)},e.onerror=function(){t(!1)},document.head.appendChild(e)},l.readyYoutube=function(){var e;"boolean"==typeof mm_ytLoadApi&&1==mm_ytLoadApi?(clearTimeout(e),this._player=new YT.Player(u,p),window.ppp=this._player):e=setTimeout(function(){r.readyYoutube()},100)},this.onPlayerReady=function(t){function a(e,t){return void 0!==e&&""!=e?e:t}_=!0,E.videoready=!0,E.videoreadyEvents=t.target;var i="function"==typeof t.target.getVideoData?t.target.getVideoData():t.target.l.videoData;if("undefined"!=typeof DTM&&void 0!==DTM.trackEvent&&void 0!==DTM.events&&void 0!==DTM.events.VIDEOREADY){function e(e){"undefined"!=typeof mm_debug&&console.log("%cDTMAudioVideoReady","background:blue;color:tomato;",e),DTM.trackEvent(DTM.events.VIDEOREADY,{player:e,mediaName:a(i.title,s.mediaData.title),mediaID:s.mediaData.idTOP,playerType:s.statData.extraData.playerName+"["+s.mediaData.provider+"]",mediaRepType:s.mediaData.isLive?"streaming":-1!=s.mediaData.mimetype.indexOf("video")?"vod":"aod",mediaDuration:Math.ceil(s.mediaData.duration/1e3)})}s.mediaData.reload||(s.mediaData.isPlaylist?s.mediaData.primerVideoPlayList&&e({player:this._player}):e({player:this._player}))}d=t.target.getDuration(),m=0==parseInt(t.target.getCurrentTime())?"0":parseInt(t.target.getCurrentTime());var n=-1,o=function(){if(-1!=n){if(r._player.getPlayerState()==YT.PlayerState.PLAYING&&r.href==window.location.href){var e=r._player.getCurrentTime();.5<Math.abs(e-n-1)&&(m=parseInt(t.target.getCurrentTime()),r.notifySeekStart(),r.notifySeekComplete(m))}r.href!=window.location.href&&(r.href="")}n=r._player.getCurrentTime(),setTimeout(o,1e3)};setTimeout(o,1e3),void 0!==window.mm_functionsYT&&(""!=window.mm_functionsYT?Object.getOwnPropertyNames(t.target).forEach(function(e){e==mm_functionsYT&&t.target[mm_functionsYT]()}):mm_functionsYT=t.target),t.target.getVolume().toPrecision(3),t.target.getCurrentTime(),s.mediaData.title=a(i.title,s.mediaData.title),s.mediaData.duration=1e3*d,s.mediaData.progressTime=m,s.mediaData.premuted?this._player.isMuted()||this._player.mute():this._player.isMuted()&&this._player.unMute()},this.play=function(){_&&1!=this._player.getPlayerState()&&this._player.playVideo()},this.resume=function(){_&&1!=this._player.getPlayerState()&&this._player.playVideo()},this.pause=function(){_&&(void 0!==l.adsManager&&void 0!==l.adsManager.stop&&l.adsManager.stop(),this._player.pauseVideo())},this.stop=function(){n=!1,_&&(this._player.stopVideo(),clearInterval(a),o=!(i=!1)),D=h=v=!1},this.reset=function(){},this.inProgress=function(){if(r.href!=window.location.href&&r.stop(),this._player.isMuted()?s.mediaData.premuted||(s.mediaData.premuted=!0):s.mediaData.premuted&&(s.mediaData.premuted=!1),1==this._player.getPlayerState()){m=parseInt(this._player.getCurrentTime());var e=Math.round(100*m/d);!v&&25<=e&&e<=49&&(v=!0),!h&&50<=e&&e<=74&&(h=!0),!D&&75<=e&&(D=!0),this.notifyProgress(m,d)}},this.onPlayerStateChange=function(e){var t;"undefined"!=typeof mm_debug&&console.log("%c eventtttt","background:tomato",e),e.data,YT.PlayerState.BUFFERING,e.data==YT.PlayerState.UNSTARTED&&(i=!1,s.mediaData.isPlaylist||(s.mediaData.reload=!1),s.mediaData.id=e.target.getVideoData().video_id,t=this,n?(t.notifyStatusChange(emic.top.MediaModule.STATUS_PLAY),D=h=v=n=!1):n=!0),e.data==YT.PlayerState.ENDED&&(n=!0),e.data!=YT.PlayerState.PLAYING||i||(i=!0,this.notifyMediaBegin(),this.notifyStatusChange(emic.top.MediaModule.STATUS_PLAY),s.mediaData.id=e.target.getVideoData().video_id,a=setInterval(function(){r.inProgress()},1e3)),e.data==YT.PlayerState.PAUSED&&(this.notifyStatusChange(emic.top.MediaModule.STATUS_PAUSE),o?o=i=!1:i=!0),e.data==YT.PlayerState.PLAYING&&(e.target.getCurrentTime().toPrecision(4),e.target.getVolume().toPrecision(3),i=!0,this.notifyStatusChange(emic.top.MediaModule.STATUS_PLAY)),e.data==YT.PlayerState.BEGIN&&emic.top.event.MediaEvent.ON_MEDIA_BEGIN,e.data==YT.PlayerState.ENDED&&(this.notifyStatusChange(emic.top.MediaModule.STATUS_STOP),m=parseInt(e.target.getCurrentTime()),s.mediaData.progressTime=m,this.notifyProgress(m,d),emic.top.event.MediaEvent.ON_MEDIA_END,this.notifyMediaEnd(),clearInterval(a),D=h=v=i=!1),l.current_status=e.data},this.onPlayerPlaybackQualityChange=function(e){r.notifySwitchComplete(e)},this.onPlayerError=function(e){switch(e.data){case 2:emic.top.debug("[YTController.js][onPlayerError]>> Iniciando peticion de librerÃ­as a Youtube");break;case 5:emic.top.debug("[YTController.js][onPlayerError]>> Error reproducciÃ³n video con HTML5");break;case 100:emic.top.debug("[YTController.js][onPlayerError]>> Video privado o no encontrado");break;case 101:emic.top.debug("[YTController.js][onPlayerError]>> El propietario no permite reproducciÃ³n")}}}t.prototype=new emic.top.media.MediaControllerBase,e.YTController=t}(emic.top.media),function(e){function t(e){emic.top.media.MediaControllerBase.call(this);var n,o=this,d=(this.classname="emic.top.media.DMController",this._data=null);this._topplayer=e,this.playlist_items=null,this.started=!1,this.adstarted=!1,this.mediabegan=!1;var r="x7jsu";void 0!==this._topplayer.getLauncher().getEmbed().playerDM&&""!=this._topplayer.getLauncher().getEmbed().playerDM&&(r=this._topplayer.getLauncher().getEmbed().playerDM),this.init=function(e){emic.top.debug("[DMController.js][init]>> ",e),this.notifyReady();var i,t=e;function a(){var e=function(){if(0==o._data.adData.enabledYouTube)return"noad";if("undefined"!=typeof mm_force_publi_dm)return"pruebas=test_audio,video";var e="",t=o.getCustomParams(d);return"undefined"!=typeof PBS&&void 0!==PBS.pageInfo&&void 0!==PBS.pageInfo.prebid&&void 0!==PBS.pageInfo.prebid.videoResponse&&(e="&"+PBS.pageInfo.prebid.videoResponse.join("&")),encodeURIComponent(t+e)}();document.getElementById(d.genericData.container+"_base").style.paddingTop=0;var t="web";getDevice().mobile&&(t="mob");var a=encodeURIComponent("/7811748/"+o.getAdUnit(d)+"_"+t+"/player_dailymotion")+"/"+e+"/pos=pre";0==o._data.adData.enabledYouTube&&(a="noad"),n||o.notifyError("DM_id"),dailymotion.createPlayer(d.mediaData.container,{video:n,playlist:"",scaleMode:"fit",referrerPolicy:"no-referrer-when-downgrade",params:{customConfig:{customParams:a}}}).then(function(e){o._topplayer.videoready=!0,i=e,"undefined"!=typeof DTM&&void 0!==DTM.trackEvent&&void 0!==DTM.events&&void 0!==DTM.events.VIDEOREADY&&(d.mediaData.reload||("undefined"!=typeof mm_debug&&console.log("%cDTMAudioVideoReady","background:blue;color:tomato;",i),DTM.trackEvent(DTM.events.VIDEOREADY,{player:i,mediaName:d.mediaData.title,mediaID:d.mediaData.idTOP,playerType:d.statData.extraData.playerName+"["+d.internalData.controllerName+"]",mediaRepType:d.mediaData.isLive?"streaming":-1!=d.mediaData.mimetype.indexOf("video")?"vod":"aod",mediaDuration:Math.ceil(d.mediaData.duration/1e3)}))),"undefined"!=typeof mm_debug&&console.log("%c DM player creado con config:","background:#d9f929;color:black;"),"undefined"!=typeof mm_debug&&console.log("%c      DM video: "+n,"background:#d9f929;color:black;"),"undefined"!=typeof mm_debug&&console.log("%c      DM autoplay: "+d.mediaData.autoplay,"background:#d9f929;color:black;"),"undefined"!=typeof mm_debug&&console.log("%c      DM premuted: "+d.mediaData.premuted,"background:#d9f929;color:black;"),"undefined"!=typeof mm_debug&&console.log("%c      DM adparams: "+a,"background:#d9f929;color:black;"),"undefined"!=typeof mm_debug&&console.log("%c      DM playlist: ","background:#d9f929;color:black;"),d.mediaData.premuted&&e.setVolume(0),d.mediaData.autoplay&&e.play(),o.notifyReady(),i.off("start"),i.off("end"),i.off("play"),i.off("pause"),i.off("seeked"),i.off("seeking"),i.off("stalled"),i.off("buffered"),i.off("ad_start"),i.off("ad_end"),i.off("ad_play"),i.off("ad_pause"),i.off("timeupdate"),i.on("start",function(){}),i.on("end",function(){"undefined"!=typeof mm_debug&&console.log("%c DM END","background:#d9f929;color:black;"),o.started||o.notifyMediaEnd(),o.started=!0}),i.on("play",function(){"undefined"!=typeof mm_debug&&console.log("%c DM PLAY","background:#d9f929;color:black;"),o.started||o.notifyStatusChange(emic.top.MediaModule.STATUS_PLAY)}),i.on("pause",function(){"undefined"!=typeof mm_debug&&console.log("%c DM PAUSE","background:#d9f929;color:black;"),o.started||o.notifyStatusChange(emic.top.MediaModule.STATUS_PAUSE)}),i.on("seeked",function(){"undefined"!=typeof mm_debug&&console.log("%c DM SEEKED","background:#d9f929;color:black;"),o.started||o.notifySeekComplete()}),i.on("seeking",function(){"undefined"!=typeof mm_debug&&console.log("%c DM SEEKING","background:#d9f929;color:black;"),o.started||o.notifySeekStart()}),i.on("stalled",function(){}),i.on("buffered",function(){}),i.on("ad_start",function(){"undefined"!=typeof mm_debug&&console.log("%c DM ADSTART","background:#d9f929;color:black;")}),i.on("ad_end",function(e){o.adstarted||o.notifyStatusChange("onAdEnd"),o.adstarted=!0,"undefined"!=typeof mm_debug&&console.log("%c DM ADEND","background:#d9f929;color:black;",e)}),i.on("ad_play",function(){o.adstarted||o.notifyStatusChange("onAdStart"),"undefined"!=typeof mm_debug&&console.log("%c DM ADPLAY","background:#d9f929;color:black;")}),i.on("ad_pause",function(){"undefined"!=typeof mm_debug&&console.log("%c DM ADPAUSE","background:#d9f929;color:black;")}),i.on("timeupdate",function(e){o.started||o.notifyProgress(e.videoTime,e.videoDuration),o.mediabegan||("undefined"!=typeof mm_debug&&console.log("%c DM START","background:#d9f929;color:black;"),o.notifyMediaBegin()),o.mediabegan=!0})}).catch(function(e){"undefined"!=typeof mm_debug&&console.log("%c DM Error","background:#d9f929;color:black;",c)})}this._data=e,d=e,t.internalData.controllerContainers[emic.top.MediaModule.CONTROLLER_TYPE_DM],n=t.mediaData.id,n=void 0!==t.mediaData.daily_motion_details.private_id?t.mediaData.daily_motion_details.private_id:t.mediaData.daily_motion_details.id_daily_motion,"undefined"!=typeof mm_dmo&&(n=mm_dmo),t.mediaData.autoplay,t.mediaData.startVolume,document.getElementById(t.uiData.container).style.visibility="hidden",document.getElementById(t.adData.container).style.visibility="hidden",function(){var e=document.createElement("script");e.async=!0,e.src="https://geo.dailymotion.com/libs/player/"+r+".js",e.onload=function(){"undefined"!=typeof mm_debug&&console.log("%c DM Library loaded -> Player = "+r,"background:#d9f929;color:black;"),void 0!==window.cmp573consent&&(mm_load_didomi=!0),"undefined"!=typeof mm_load_didomi?("undefined"!=typeof mm_debug&&console.log("%c DM mm_load_didomi. %cNo comprobamos CMP","background:#d9f929;color:black;","background:#fabada;color:black;"),a()):(window.didomiOnReady=window.didomiOnReady||[],"undefined"!=typeof Didomi&&void 0!==Didomi.getUserConsentStatusForVendor("573")?("undefined"!=typeof mm_debug&&console.log("%c DM Didomi cargado y vendor 573!=undefined","background:#d9f929;color:black;"),a()):("undefined"!=typeof mm_debug&&console.log("%c DM CMP no cargado. Esperamos a didomiOnReady. Para omitir -> %cmm_load_didomi","background:#d9f929;color:black;","background:#fabada;"),"undefined"!=typeof Didomi&&Didomi.getObservableOnUserConsentStatusForVendor("573").subscribe(function(e){"undefined"!=typeof mm_debug&&console.log("%c DM consentStatus","background:#d9f929;color:black;",e),void 0===e?"undefined"!=typeof mm_debug&&console.log("%c DM problema consentStatus","background:#d9f929;color:black;"):("undefined"!=typeof mm_debug&&console.log("%c DM Cargamos player","background:#d9f929;color:black;",e),a())})))};var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()}}t.prototype=new emic.top.media.MediaControllerBase,e.DMController=t}(emic.top.media),function(h){function e(e,t){function r(e){if(s&&s.levels.length-1>=e){var t=s.levels[e];return t.name?t.name:t.height?t.height+"p":t.bitrate?t.bitrate<64001?"144p":t.bitrate<373001?"180p":t.bitrate<683001?"270p":t.bitrate<890001?"360p":t.bitrate<1096001?"360p+":t.bitrate<2636001?"576p":t.bitrate<4173001?"720p":"1080p":null}}function i(){emic.top.debug("[HLSController.js][_init]>> "),s&&(s.destroy(),s=null),s=new Hls({debug:!1}),a.apply(this),this.notifyReady()}emic.top.media.MediaControllerBase.call(this),this.className="emic.top.media.HLSController";var n,s,o,d=this,l={},c=!1,m=!1,u=t,p=new Array,_=!1,E=!1,a=function(){var e,t,a=document.getElementById(l.internalData.controllerContainers[emic.top.MediaModule.CONTROLLER_TYPE_REAL_HLS]);if(-1!=l.mediaData.mimetype.indexOf("audio")&&(n=document.createElement("audio"),"undefined"!=typeof mm_crossorigin&&1==mm_crossorigin&&(n.crossOrigin="anonymous"),u&&(u.mediaTag=n),n.addEventListener("loadeddata",function(){if("undefined"!=typeof DTM&&void 0!==DTM.trackEvent){function e(){"undefined"!=typeof mm_debug&&console.log("%cDTMAudioVideoReady","background:blue;color:tomato;",n),getDevice().mobile?(E&&DTM.trackEvent("audioReady",{player:n,mediaName:l.mediaData.title,mediaID:l.mediaData.idTOP,playerType:l.statData.extraData.playerName,mediaRepType:l.mediaData.isLive?"streaming":-1!=l.mediaData.mimetype.indexOf("video")?"vod":"aod",mediaDuration:Math.floor(l.mediaData.duration/1e3)}),E=!0):DTM.trackEvent("audioReady",{player:n,mediaName:l.mediaData.title,mediaID:l.mediaData.idTOP,playerType:l.statData.extraData.playerName,mediaRepType:l.mediaData.isLive?"streaming":-1!=l.mediaData.mimetype.indexOf("video")?"vod":"aod",mediaDuration:Math.floor(l.mediaData.duration/1e3)})}n.idMedia=l.mediaData.idTOP,l.mediaData.reload||(l.mediaData.isPlaylist?l.mediaData.primerVideoPlayList&&e():e())}})),-1!=l.mediaData.mimetype.indexOf("video")&&(n=document.createElement("video"),u&&(u.mediaTag=n),n.addEventListener("loadeddata",function(){if(getDevice().mobile)u.videoready=!0;else if("undefined"!=typeof DTM&&void 0!==DTM.trackEvent){function e(){"undefined"!=typeof mm_debug&&console.log("%cDTMAudioVideoReady","background:blue;color:tomato;",n),getDevice().mobile?(E&&DTM.trackEvent("videoReady",{player:n,mediaName:l.mediaData.title,mediaID:l.mediaData.idTOP,playerType:l.statData.extraData.playerName,mediaRepType:l.mediaData.isLive?"streaming":-1!=l.mediaData.mimetype.indexOf("video")?"vod":"aod",mediaDuration:Math.floor(l.mediaData.duration/1e3)}),E=!0):DTM.trackEvent("videoReady",{player:n,mediaName:l.mediaData.title,mediaID:l.mediaData.idTOP,playerType:l.statData.extraData.playerName,mediaRepType:l.mediaData.isLive?"streaming":-1!=l.mediaData.mimetype.indexOf("video")?"vod":"aod",mediaDuration:Math.floor(l.mediaData.duration/1e3)})}n.idMedia=l.mediaData.idTOP,l.mediaData.reload||(l.mediaData.isPlaylist?l.mediaData.primerVideoPlayList&&e():e())}})),void 0!==n&&null!=n){e=l.uiData.bgColor,n.setAttribute("id","HLSController_"+l.genericData.id),n.setAttribute("title",l.mediaData.title),n.setAttribute("width","100%"),n.setAttribute("height","100%"),n.setAttribute("style","background:"+e),n.requestFullScreen=n.requestFullScreen||n.mozRequestFullScreen||n.webkitRequestFullScreen||a.webkitRequestFullScreen;var i=(t=this,function(e){(function(e){switch("timeupdate"!=e.type&&emic.top.debug("[HLSController.js][_onMediaEvent]>> ",e.type),e.type){case"playing":m||(this.isBeginAllowed(l)?(m=!0,this.notifyMediaBegin(),2<p.length&&this.notifyRenditions(p),this.notifyStatusChange(emic.top.MediaModule.STATUS_PLAY),void 0!==n&&this.notifyVolumeChange(n.volume)):this.stop()),c||(c=!0,this.notifyStatusChange(emic.top.MediaModule.STATUS_PLAY)),this.notifyBufferFull();break;case"pause":c&&(c=!1,this.notifyStatusChange(emic.top.MediaModule.STATUS_PAUSE));break;case"ended":m&&(m=!1,this.notifyMediaEnd(),this.notifyStatusChange(emic.top.MediaModule.STATUS_STOP));break;case"timeupdate":null!=n&&(_&&(this.notifySeekComplete(n.currentTime),_=!1),o?!0===l.mediaData.isDVR?this.notifyProgress(n.currentTime,n.duration,null,null,l.mediaData.isDVR):this.notifyProgress(n.currentTime,n.currentTime,null,null,l.mediaData.isDVR):this.notifyProgress(n.currentTime,n.duration,null,null,l.mediaData.isDVR),this.notifyIsLiveStream(o));break;case"waiting":this.notifyBufferEmpty();break;case"loadstart":this.notifyLoadingStart();break;case"volumechange":void 0!==n&&this.notifyVolumeChange(n.volume);break;case"error":this.notifyError()}}).apply(t,[e])});v("playing",i),v("pause",i),v("ended",i),v("timeupdate",i),v("waiting",i),v("volumechange",i),v("error",i),n.getAttribute("autoplay")&&n.removeAttribute("autoplay"),0!=l.uiData.overrideNativeControls&&"false"!=l.uiData.overrideNativeControls||n.setAttribute("controls","controls"),void 0!==l.uiData.poster&&n.setAttribute("poster",l.uiData.poster),l.mediaData.premuted&&!getDevice().mobile&&(n.muted=!0),s.on(Hls.Events.FRAG_PARSING_METADATA,function(e,t){if(l.adData.dai){for(var a in t.samples){var i=String.fromCharCode.apply(null,t.samples[a].data);if(-1!=i.indexOf("publicidad"))var n=1}n&&(setTimeout(function(){d.notifyMetadata(t)},1e4),d.notifyID3TagPubli(i))}}),s.on(Hls.Events.MEDIA_ATTACHED,function(){var e=l.mediaData.url;if("undefined"!=typeof mm_token){var t=new URL(e);e=t.origin+"/"+mm_token+t.pathname}s.loadSource(e)}),s.on(Hls.Events.MANIFEST_PARSED,function(e,t){p.push({label:"Auto",bitrate:"-1"});for(var a=0;a<s.levels.length;a++){var i=a,n=r(a);if(n){var o=0;"number"==typeof s.levels[a].bitrate&&(o=s.levels[a].bitrate),p.push({label:n,bitrate:i,bitrateNum:o})}}for(a=0;a<p.length;a++)for(var d=0;d<p.length;d++)a!=d&&p[a].label==p[d].label&&(p[a].bitrateNum>p[d].bitrateNum&&(p[a].label+="+"),p[a].bitrateNum<p[d].bitrateNum&&(p[d].label+="+"));MM.player.renditions=p}),s.on(Hls.Events.LEVEL_LOADED,function(e,t){o=t.details.live}),s.on(Hls.Events.ERROR,function(e,t){emic.top.debug("[HLSController.js][_ERROR]>> :",t)}),n.volume=l.mediaData.startVolume,a.appendChild(n),l.internalData.mediaElement=n,emic.top.debug("[HLSController.js][_createElement]>> Creado:",n)}s.attachMedia(n)};this.preload=function(){emic.top.debug("[HLSController.js][preload]>> ")};var v=function(e,t){n&&(n.addEventListener?n.addEventListener(e,t,!1):n.attachEvent&&n.attachEvent(e,t))};this.init=function(e){if(emic.top.debug("[HLSController.js][init]>> "),l=e,h.directInstanceHLS=this,"function"==typeof Hls)i.apply(this);else{var t=document.createElement("script");t.setAttribute("type","text/javascript");var a=l.genericData.urlBase;void 0===a&&(a=""),a+="/psdmedia/resources/js/ext/hls/",t.setAttribute("src",a+"hls.min.js"),t.onload=function(){i.apply(d)},document.getElementsByTagName("head")[0].appendChild(t)}},this.kill=function(){emic.top.debug("[HLSController.js][kill]>> "),n.pause(),n.parentNode.removeChild(n),n=void 0,l.internalData.mediaElement=void 0},this.reload=function(){emic.top.debug("[HLSController.js][reload]>> "),n.innerHTML="",n.load(),n.play(),l.mediaData.autoplay=!0,this.notifyReady()},this.play=function(){if(emic.top.debug("[HLSController.js][play]>> "),s&&void 0!==n&&void 0!==n.play){var e=n.play();if(void 0!==e){var t=this;e.then(function(){}).catch(function(e){emic.top.debug("Error autoplay",e),"object"==typeof e&&"NotAllowedError"==e.name&&t.dispatchEvent(new psd.media.MediaEvent(emic.top.event.MediaEvent.ON_AUTOPLAY_ERROR))})}}},this.pause=function(){emic.top.debug("[HLSController.js][pause]>> "),void 0!==n&&void 0!==n.pause&&n.pause()},this.playpause=function(){emic.top.debug("[HLSController.js][playpause]>> "),m&&c?n.pause():n.play()},this.resume=function(){emic.top.debug("[HLSController.js][resume]>> "),void 0!==n&&void 0!==n.play&&n.play()},this.stop=function(){emic.top.debug("[HLSController.js][stop]>> "),void 0!==n&&void 0!==n.pause&&(n.pause(),s&&(s.destroy(),s=null))},this.switchUp=function(){emic.top.debug("[HLSController.js][switchUp]>> ")},this.switchDown=function(){emic.top.debug("[HLSController.js][switchDown]>> ")},this.switchDirect=function(e){var t;emic.top.debug("[HLSController.js][switchDirect]>> ",e);var a=p.length-1-e;t=p[a].bitrate,s.currentLevel!=t&&(s.currentLevel=-1==t?s.autoLevelCapping=-1:t)},this.seek=function(e){this.notifySeekStart(),_=!0,emic.top.debug("[HLSController.js][seek]>> ",e),void 0!==n&&void 0!==n.currentTime&&(n.currentTime=e)},this.seekLive=function(e){emic.top.debug("[HLSController.js][seekLive]>> "),void 0!==n&&(this.notifySeekStart(),_=!0,n.currentTime=n.duration)},this.setVolume=function(e){emic.top.debug("[HLSController.js][setVolume]>> ",e),void 0!==n&&void 0!==n.volume&&(0<e&&(n.muted=!1),n.volume=e)},this.onAutoSwitchChange=function(){emic.top.debug("[HLSController.js][onAutoSwitchChange]>> ")}}e.prototype=new emic.top.media.MediaControllerBase,h.HLSController=e}(emic.top.media),function(e){function O(e,t){psd.framework.EventDispatcher.call(this);var a,i,n,o=t,d=e,r="",s=new emic.top.media.MediaControllerFactory(d),l=0,c=!1,m=this,u=!0;this.getController=function(){return i},this.flag_autoplay=!1,this.getPlayer=function(){return o},this.init=function(){emic.top.debug("[MediaModule.js][init]>> "),d.internalData.controllerName=this.selectController(d.mediaData.controllerPriority,d.mediaData.tecPriorityPC),"undefined"!=typeof mm_dmo&&(d.internalData.controllerName=O.CONTROLLER_TYPE_DM),d.internalData.controllerName==O.CONTROLLER_TYPE_DM&&(d.adData.enabled=!1),d.internalData.currentVolume=d.mediaData.startVolume,emic.top.debug("[MediaModule.js][init]>> Controlador asignado: ",d.internalData.controllerName);var e=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);"undefined"!=typeof mm_safari&&(e=!0),getDevice().mobile||e&&"undefined"!=typeof mm_presafari?(l=1,f.apply(this,[d.internalData.controllerName,p])):(d.internalData.controllerName==O.CONTROLLER_TYPE_YT?f.apply(this,[d.internalData.controllerName,p]):_.apply(this),d.internalData.controllerName==O.CONTROLLER_TYPE_DM&&f.apply(this,[d.internalData.controllerName,p]))};var p=function(e){emic.top.debug("[MediaModule.js][_onInit]>> "),l=2,e.target.removeEventListener(emic.top.event.MediaEvent.ON_READY,p,this),_.apply(this)},_=function(){emic.top.debug("[MediaModule.js][_initComplete]>> ");var e=new emic.top.event.MediaEvent(emic.top.event.MediaEvent.ON_INIT_COMPLETE);e.id=d.mediaData.idTOP,this.dispatchEvent(e)};this.reset=function(){if(emic.top.debug("[MediaModule.js][reset]>> "),r="",this.flag_autoplay)return i.removeEventListener(emic.top.event.MediaEvent.ON_MEDIA_BEGIN,g,this),i.removeEventListener(emic.top.event.MediaEvent.ON_MEDIA_END,g,this),i.removeEventListener(emic.top.event.MediaEvent.ON_CUE,g,this),i.removeEventListener(emic.top.event.MediaEvent.ON_METADATA,g,this),i.removeEventListener(emic.top.event.MediaEvent.ON_ERROR,g,this),i.removeEventListener(emic.top.event.MediaEvent.ON_AD_INSTREAM_START,g,this),i.removeEventListener(emic.top.event.MediaEvent.ON_AD_INSTREAM_END,g,this),i.removeEventListener(emic.top.event.MediaEvent.ON_STATUS_CHANGE,g,this),i.removeEventListener(emic.top.event.MediaEvent.ON_VOLUME_CHANGE,g,this),i.removeEventListener(emic.top.event.MediaEvent.ON_SWITCH_REQUEST,g,this),i.removeEventListener(emic.top.event.MediaEvent.ON_SWITCH_COMPLETE,g,this),i.removeEventListener(emic.top.event.MediaEvent.ON_PROGRESS,g,this),i.removeEventListener(emic.top.event.MediaEvent.ON_SEEK_START,g,this),i.removeEventListener(emic.top.event.MediaEvent.ON_SEEK_COMPLETE,g,this),i.removeEventListener(emic.top.event.MediaEvent.ON_BUFFER_EMPTY,g,this),i.removeEventListener(emic.top.event.MediaEvent.ON_BUFFER_FULL,g,this),i.removeEventListener(emic.top.event.MediaEvent.ON_IS_LIVE_STREAM,g,this),i.removeEventListener(emic.top.event.MediaEvent.ON_RENDITIONS,g,this),d.internalData.controllerName=this.selectController(d.mediaData.controllerPriority,d.mediaData.tecPriorityPC),f.apply(this,[d.internalData.controllerName,E]),void(a=0);var e;0==l?(d.internalData.controllerName=this.selectController(d.mediaData.controllerPriority,d.mediaData.tecPriorityPC),getDevice().mobile?(l=1,f.apply(this,[d.internalData.controllerName,E])):(v.apply(this),d.internalData.controllerName==O.CONTROLLER_TYPE_YT&&(l=1,f.apply(this,[d.internalData.controllerName,E])),d.internalData.controllerName==O.CONTROLLER_TYPE_DM&&(l=1,f.apply(this,[d.internalData.controllerName,E])))):(1==l&&i.cancelInit(),e=d.internalData.controllerName,d.internalData.controllerName=this.selectController(d.mediaData.controllerPriority,d.mediaData.tecPriorityPC),i.removeEventListener(emic.top.event.MediaEvent.ON_MEDIA_BEGIN,g,this),i.removeEventListener(emic.top.event.MediaEvent.ON_MEDIA_END,g,this),i.removeEventListener(emic.top.event.MediaEvent.ON_CUE,g,this),i.removeEventListener(emic.top.event.MediaEvent.ON_METADATA,g,this),i.removeEventListener(emic.top.event.MediaEvent.ON_ERROR,g,this),i.removeEventListener(emic.top.event.MediaEvent.ON_AD_INSTREAM_START,g,this),i.removeEventListener(emic.top.event.MediaEvent.ON_AD_INSTREAM_END,g,this),i.removeEventListener(emic.top.event.MediaEvent.ON_STATUS_CHANGE,g,this),i.removeEventListener(emic.top.event.MediaEvent.ON_VOLUME_CHANGE,g,this),i.removeEventListener(emic.top.event.MediaEvent.ON_SWITCH_REQUEST,g,this),i.removeEventListener(emic.top.event.MediaEvent.ON_SWITCH_COMPLETE,g,this),i.removeEventListener(emic.top.event.MediaEvent.ON_PROGRESS,g,this),i.removeEventListener(emic.top.event.MediaEvent.ON_SEEK_START,g,this),i.removeEventListener(emic.top.event.MediaEvent.ON_SEEK_COMPLETE,g,this),i.removeEventListener(emic.top.event.MediaEvent.ON_BUFFER_EMPTY,g,this),i.removeEventListener(emic.top.event.MediaEvent.ON_LOADING_START,g,this),i.removeEventListener(emic.top.event.MediaEvent.ON_BUFFER_FULL,g,this),i.removeEventListener(emic.top.event.MediaEvent.ON_IS_LIVE_STREAM,g,this),i.removeEventListener(emic.top.event.MediaEvent.ON_RENDITIONS,g,this),i=void(l=0),s.destroyController(e),getDevice().mobile?(l=1,f.apply(this,[d.internalData.controllerName,E])):(v.apply(this),d.internalData.controllerName==O.CONTROLLER_TYPE_YT&&(l=1),d.internalData.controllerName==O.CONTROLLER_TYPE_DM&&(l=1,f.apply(this,[d.internalData.controllerName,E])))),r="",a=0},this.setPlayer=function(e){n=e};var E=function(e){emic.top.debug("[MediaModule.js][_onReset]>> "),l=2,e.target.removeEventListener(emic.top.event.MediaEvent.ON_READY,E,this),v.apply(this)},v=function(){emic.top.debug("[MediaModule.js][_resetComplete]>> ");var e=new emic.top.event.MediaEvent(emic.top.event.MediaEvent.ON_RESET_COMPLETE);e.id=d.mediaData.idTOP,this.dispatchEvent(e)};this.preLoadContent=function(){emic.top.debug("[MediaModule.js][preLoadContent]>> "),i&&i.preload()},this.start=function(){emic.top.debug("[MediaModule.js][start]>> "),0==l?(l=1,f.apply(this,[d.internalData.controllerName,h])):2==l&&h.apply(this)};var h=function(e){emic.top.debug("[MediaModule.js][_onStarted]>> "),l=2,e&&e.target.removeEventListener(emic.top.event.MediaEvent.ON_READY,h,this),this.play(),d.mediaData.premuted?getDevice().mobile||i.setVolume(0):i.setVolume(d.internalData.currentVolume),i&&d.mediaData.isLive&&i.onAutoSwitchChange(!0)};this.preloadController=function(e){if(emic.top.debug("[MediaModule.js][preloadController]>> ",e),e!=d.internalData.controllerName&&e!=emic.top.MediaModule.CONTROLLER_TYPE_HTML5NATIVE){var t=s.getController(e,this.getPlayer());t&&(t.addEventListener(emic.top.event.MediaEvent.ON_READY,D,this),emic.top.debug("[MediaModule.js][preloadController]>> Se recupera controlador del Factory"),t.isReady()?(emic.top.debug("[MediaModule.js][preloadController]>> El controlador estaba listo, se recarga"),t.reload()):(emic.top.debug("[MediaModule.js][preloadController]>> El controlador no estÃ¡ listo, se inicializa"),t.init(d)))}};var D=function(e){emic.top.debug("[MediaModule.js][_onPreloadControllerComplete]>> "),e&&e.target.removeEventListener(emic.top.event.MediaEvent.ON_READY,D,this);var t=new emic.top.event.MediaEvent(emic.top.event.MediaEvent.ON_PRELOAD_CONTROLLER_COMPLETE);t.id=d.mediaData.idTOP,this.dispatchEvent(t)};this.play=function(){emic.top.debug("[MediaModule.js][play]>> "),this.playDAI(),d.internalData.position==emic.top.TopPlayer.POSITION_PREVIEW?(void 0!==window["triton_"+d.genericData.id]&&"undefined"!=typeof mm_autoplay&&1==mm_autoplay&&void 0!==i&&"object"==typeof i&&void 0!==i.className&&"emic.top.media.HTML5Controller"!=i.className&&i.removeEventListener(emic.top.event.MediaEvent.ON_MEDIA_BEGIN,g,this),response=!1,d.internalData.uiModule.externalNotify(emic.top.event.UIEvent.ON_ORDER_BEGIN)):2==l&&d.internalData.position==emic.top.TopPlayer.POSITION_MEDIA&&(r==O.STATUS_PAUSE&&i.resume(),r!=O.STATUS_INITIALIZING&&""!=r&&r!=O.STATUS_STOP||i.play())},this.setStatus=function(e){r=e},this.playpause=function(){emic.top.debug("[MediaModule.js][playpause]>> "),2==l&&d.internalData.position==emic.top.TopPlayer.POSITION_MEDIA&&i.playpause()},this.getStatus=function(){return emic.top.debug("[MediaModule.js][getStatus]>> "),r},this.pause=function(){emic.top.debug("[MediaModule.js][pause]>> "),2==l&&d.internalData.position==emic.top.TopPlayer.POSITION_MEDIA&&i.pause()},this.stop=function(){emic.top.debug("[MediaModule.js][stop]>> "),2==l&&d.internalData.position==emic.top.TopPlayer.POSITION_MEDIA&&i.stop()},this.switchUp=function(){emic.top.debug("[MediaModule.js][switchUp]>> "),2==l&&d.internalData.position==emic.top.TopPlayer.POSITION_MEDIA&&i.switchUp()},this.switchDown=function(){emic.top.debug("[MediaModule.js][switchDown]>> "),2==l&&d.internalData.position==emic.top.TopPlayer.POSITION_MEDIA&&i.switchDown()},this.switchDirect=function(e){emic.top.debug("[MediaModule.js][switchDirect]>> "),2==l&&d.internalData.position==emic.top.TopPlayer.POSITION_MEDIA&&i.switchDirect(e)},this.seekByProp=function(e){emic.top.debug("[MediaModule.js][seekByProp]>> ",e),2==l&&d.internalData.position==emic.top.TopPlayer.POSITION_MEDIA&&a&&i.seek(e*a)},this.seekLive=function(e){emic.top.debug("[MediaModule.js][seekLive]>> ",e),2==l&&d.internalData.position==emic.top.TopPlayer.POSITION_MEDIA&&i.seekLive()},this.seek=function(e){emic.top.debug("[MediaModule.js][seek]>> ",e),2==l&&d.internalData.position==emic.top.TopPlayer.POSITION_MEDIA&&i.seek(e)},this.seekSeconds=function(e){emic.top.debug("[MediaModule.js][seekSeconds]>> ",e),2==l&&d.internalData.position==emic.top.TopPlayer.POSITION_MEDIA&&n&&void 0!==n.time&&i.seek(n.time.currentTime+e)},this.setVolume=function(e){var t;emic.top.debug("[MediaModule.js][setVolume]>> ",e),2==l&&d.internalData.position==emic.top.TopPlayer.POSITION_MEDIA?(d.mediaData.premuted=0==e,i.setVolume(e)):d.mediaData.startVolume=e,d.internalData.currentVolume=e,(t=new emic.top.event.MediaEvent(emic.top.event.MediaEvent.ON_VOLUME_CHANGE)).data=e,t.id=d.mediaData.idTOP,this.dispatchEvent(t)},this.addVolume=function(e){d.internalData.currentVolume+e<0?this.setVolume(0):1<d.internalData.currentVolume+e?this.setVolume(1):this.setVolume(d.internalData.currentVolume+e)},this.mute=function(){emic.top.debug("[MediaModule.js][mute]>> "),2==l&&d.internalData.position==emic.top.TopPlayer.POSITION_MEDIA&&(0==d.internalData.currentVolume?(i.setVolume(d.internalData.lastVolume),d.internalData.currentVolume=d.internalData.lastVolume,d.mediaData.premuted=!1):(d.internalData.lastVolume=d.internalData.currentVolume,i.setVolume(0),d.internalData.currentVolume=0,d.mediaData.premuted=!0))},this.isPlaying=function(){return emic.top.debug("[MediaModule.js][isPlaying]>> "),r==O.STATUS_PLAY},this.isBuffering=function(){return emic.top.debug("[MediaModule.js][isBuffering]>> "),c},this.getDVRStatus=function(){if(emic.top.debug("[MediaModule.js][getDVRStatus]>> "),2==l&&d.internalData.position==emic.top.TopPlayer.POSITION_MEDIA)return i.getDVRStatus()};var f=function(e,t){emic.top.debug("[MediaModule.js][_loadController]>> ",{type:e,callback:t}),i=s.getController(e,this.getPlayer()),e==emic.top.MediaModule.CONTROLLER_TYPE_TRITON&&(window["triton_"+d.genericData.id]=!0),i?(i.addEventListener(emic.top.event.MediaEvent.ON_READY,t,this),i.addEventListener(emic.top.event.MediaEvent.ON_MEDIA_BEGIN,g,this),i.addEventListener(emic.top.event.MediaEvent.ON_MEDIA_END,g,this),i.addEventListener(emic.top.event.MediaEvent.ON_CUE,g,this),i.addEventListener(emic.top.event.MediaEvent.ON_METADATA,g,this),i.addEventListener(emic.top.event.MediaEvent.ON_ERROR,g,this),i.addEventListener(emic.top.event.MediaEvent.ON_AD_INSTREAM_START,g,this),i.addEventListener(emic.top.event.MediaEvent.ON_AD_INSTREAM_END,g,this),i.addEventListener(emic.top.event.MediaEvent.ON_STATUS_CHANGE,g,this),i.addEventListener(emic.top.event.MediaEvent.ON_VOLUME_CHANGE,g,this),i.addEventListener(emic.top.event.MediaEvent.ON_SWITCH_REQUEST,g,this),i.addEventListener(emic.top.event.MediaEvent.ON_SWITCH_COMPLETE,g,this),i.addEventListener(emic.top.event.MediaEvent.ON_PROGRESS,g,this),i.addEventListener(emic.top.event.MediaEvent.ON_SEEK_START,g,this),i.addEventListener(emic.top.event.MediaEvent.ON_SEEK_COMPLETE,g,this),i.addEventListener(emic.top.event.MediaEvent.ON_BUFFER_EMPTY,g,this),i.addEventListener(emic.top.event.MediaEvent.ON_LOADING_START,g,this),i.addEventListener(emic.top.event.MediaEvent.ON_BUFFER_FULL,g,this),i.addEventListener(emic.top.event.MediaEvent.ON_IS_LIVE_STREAM,g,this),i.addEventListener(emic.top.event.MediaEvent.ON_RENDITIONS,g,this),i.addEventListener(emic.top.event.MediaEvent.ON_TAG,g,this),i.addEventListener(emic.top.event.MediaEvent.ON_AUTOPLAY_ERROR,g,this),i.isReady()?i.reload():i.init(d)):emic.top.debug("[MediaModule.js][_loadController]>> ERROR, no existen controladores con ese identificador")};this.playDAI=function(){d.adData.dai&&u&&getDevice().mobile&&!checkNativeHLS(d.adData.dai)&&(i.play(),i.pause(),u=!1)},this.selectController=function(e,t){var a,i;if(emic.top.debug("[MediaModule.js][selectController]>> ",{controllerPriority:e,tecPriorityPC:t}),checkNativeHLS(d.adData.dai))for(i=0;i<e.length&&(a=e[i],!y.apply(this,[a]));i++)a=!1;else a=e[0];return a||(a=O.CONTROLLER_TYPE_HTML5NATIVE,match_UA("android")&&(a=O.CONTROLLER_TYPE_REAL_HLS),"undefined"!=typeof mm_force_hls&&1==mm_force_hls&&getDevice().mobile&&(a=O.CONTROLLER_TYPE_REAL_HLS)),emic.top.debug("[MediaModule.js][selectController]>> resultado: ",a),emic.top.debug("%c"+a,"color:#087491;font-size:30px;","1"),a};var g=function(e){if(emic.top.debug("...............................",d.mediaData.duration),d.internalData.position==emic.top.TopPlayer.POSITION_AD_POSTROLL||d.internalData.position==emic.top.TopPlayer.POSITION_AD_PREROLL)return!1;switch(e.type!=emic.top.event.MediaEvent.ON_PROGRESS&&emic.top.debug("[MediaModule.js][_onControllerEvent]>> ",e.type),e.type){case emic.top.event.MediaEvent.ON_STATUS_CHANGE:r=e.data.status;break;case emic.top.event.MediaEvent.ON_VOLUME_CHANGE:d.internalData.currentVolume=e.data;break;case emic.top.event.MediaEvent.ON_PROGRESS:a=e.data.totalTime;break;case emic.top.event.MediaEvent.ON_BUFFER_EMPTY:c=!0;break;case emic.top.event.MediaEvent.ON_MEDIA_BEGIN:m.started=!0;break;case emic.top.event.MediaEvent.ON_LOADING_START:break;case emic.top.event.MediaEvent.ON_BUFFER_FULL:c=!1;break;case emic.top.event.MediaEvent.ON_AUTOPLAY_ERROR:this.dispatchEvent(emic.top.event.MediaEvent.ON_AUTOPLAY_ERROR)}e.id=d.mediaData.idTOP,this.dispatchEvent(e)},y=function(e){var t;switch(e){case O.CONTROLLER_TYPE_TRITON:t=!0;break;case O.CONTROLLER_TYPE_AKAMAIHDS:case O.CONTROLLER_TYPE_AKAMAIHD:t=!1;break;case O.CONTROLLER_TYPE_HTML5NATIVE:case O.CONTROLLER_TYPE_YT:case O.CONTROLLER_TYPE_DM:t=!0;break;case O.CONTROLLER_TYPE_REAL_HLS:case O.CONTROLLER_TYPE_HLS:t=!1}return t}}O.prototype=new psd.framework.EventDispatcher,O.TECHNOLOGY_FLASH="flash",O.TECHNOLOGY_HTML5="html5",O.CONTROLLER_TYPE_AKAMAIHDS="akamaihds",O.CONTROLLER_TYPE_AKAMAIHD="akamaihd",O.CONTROLLER_TYPE_TRITON="triton",O.CONTROLLER_TYPE_HTML5NATIVE="html5native",O.CONTROLLER_TYPE_YT="youtube",O.CONTROLLER_TYPE_DM="DailyMotion",O.CONTROLLER_TYPE_HLS="hls",O.CONTROLLER_TYPE_REAL_HLS="Realhls",O.STATUS_PLAY="play",O.STATUS_PAUSE="pause",O.STATUS_INITIALIZING="initializing",O.STATUS_STOP="stop",O.STATUS_DVR_LIVE="playLive",O.STATUS_DVR_DEFERRED="playDVR",O.ERROR_NO_CONTAINER="01",O.ERROR_STATION_NOT_FOUND="STATION_NOT_FOUND",O.ERROR_LIVE_FAILED="LIVE_FAILED",O.ERROR_STREAM_GEO_BLOCKED="STREAM_GEO_BLOCKED",O.ERROR_TIMEOUT_ALERT="ERROR_TIMEOUT_ALERT",O.ERROR_TIMEOUT_REACH="ERROR_TIMEOUT_REACH",O.ERROR_STREAM_CONFIG_ERROR="ERROR_STREAM_CONFIG_ERROR",O.ERROR_STREAM_ERROR="ERROR_STREAM_ERROR",O.ERROR_CONFIGURATION_ERROR="ERROR_CONFIGURATION_ERROR",e.MediaModule=O}(emic.top),function(e){function n(){}n.prototype=new psd.framework.EventDispatcher,n.NETWORK_FACEBOOK="networkFacebook",n.NETWORK_TWITTER="networkTwitter",n.NETWORK_GOOGLEPLUS="networkGoogleplus",n.getUrlShare=function(e,t){emic.top.debug("[SocialModule.js][getUrlShare]>> ",{network:e,data:t});var a="",i="http://play.cadenaser.com/audio/"+t.mediaData.idTOP;switch(e){case n.NETWORK_FACEBOOK:a=encodeURI("https://www.facebook.com/sharer/sharer.php?u="+i);break;case n.NETWORK_TWITTER:a=encodeURI("https://twitter.com/intent/tweet?text="+t.mediaData.title+". "+t.mediaData.description+". &url="+i);break;case n.NETWORK_GOOGLEPLUS:a=encodeURI("https://plus.google.com/share?url="+i)}return a},e.SocialModule=n}(emic.top),function(e){function t(){psd.framework.EventDispatcher.call(this),this.infoEskup={},this.idTop=null;var t,a=this;this.setPlayer=function(e){t=e},this.getPlayer=function(){return t},this.notifyInitComplete=function(){this.dispatchEvent(new emic.top.event.UIEvent(emic.top.event.UIEvent.ON_INIT_COMPLETE))},this.notifyOrderBegin=function(){this.dispatchEvent(new emic.top.event.UIEvent(emic.top.event.UIEvent.ON_ORDER_BEGIN))},this.notifyOrderPlay=function(){this.dispatchEvent(new emic.top.event.UIEvent(emic.top.event.UIEvent.ON_ORDER_PLAY))},this.notifyOrderPause=function(){this.dispatchEvent(new emic.top.event.UIEvent(emic.top.event.UIEvent.ON_ORDER_PAUSE))},this.notifyOrderPlayPause=function(){this.dispatchEvent(new emic.top.event.UIEvent(emic.top.event.UIEvent.ON_ORDER_PLAYPAUSE))},this.notifyOrderStop=function(){this.dispatchEvent(new emic.top.event.UIEvent(emic.top.event.UIEvent.ON_ORDER_STOP))},this.notifyOrderVolumeChange=function(e){var t=new emic.top.event.UIEvent(emic.top.event.UIEvent.ON_ORDER_VOLUME_CHANGE);t.data=e,this.dispatchEvent(t)},this.notifyOrderMute=function(){this.dispatchEvent(new emic.top.event.UIEvent(emic.top.event.UIEvent.ON_ORDER_MUTE))},this.notifyOrderFullScreen=function(){this.dispatchEvent(new emic.top.event.UIEvent(emic.top.event.UIEvent.ON_ORDER_FULLSCREEN))},this.notifyOrderSeekByProp=function(e){var t=new emic.top.event.UIEvent(emic.top.event.UIEvent.ON_ORDER_SEEK_BY_PROP);t.data=e,this.dispatchEvent(t)},this.notifyOrderSeekBySecs=function(e){var t=new emic.top.event.UIEvent(emic.top.event.UIEvent.ON_ORDER_SEEK_BY_SECS);t.data=e,this.dispatchEvent(t)},this.notifyOrderSeekLive=function(){var e=new emic.top.event.UIEvent(emic.top.event.UIEvent.ON_ORDER_SEEK_LIVE);this.dispatchEvent(e)},this.notifyOrderNext=function(){this.dispatchEvent(new emic.top.event.UIEvent(emic.top.event.UIEvent.ON_ORDER_NEXT))},this.notifyOrderPrev=function(){this.dispatchEvent(new emic.top.event.UIEvent(emic.top.event.UIEvent.ON_ORDER_PREV))},this.notifyOrderShareFacebook=function(){this.dispatchEvent(new emic.top.event.UIEvent(emic.top.event.UIEvent.ON_ORDER_SHARE_FACEBOOK))},this.notifyOrderShareTwitter=function(){this.dispatchEvent(new emic.top.event.UIEvent(emic.top.event.UIEvent.ON_ORDER_SHARE_TWITTER))},this.notifyOrderShareGoogleplus=function(){this.dispatchEvent(new emic.top.event.UIEvent(emic.top.event.UIEvent.ON_ORDER_SHARE_GOOGLEPLUS))},this.notifyOrderShareWhatsapp=function(){this.dispatchEvent(new emic.top.event.UIEvent(emic.top.event.UIEvent.ON_ORDER_SHARE_WHATSAPP))},this.notifyOrderShareSubscribe=function(e){ev=new emic.top.event.UIEvent(emic.top.event.UIEvent.ON_ORDER_SHARE_SUBSCRIBE),ev.data=e,this.dispatchEvent(ev)},this.notifyOrderSwitchUp=function(){this.dispatchEvent(new emic.top.event.UIEvent(emic.top.event.UIEvent.ON_ORDER_SWITCH_UP))},this.notifyOrderSwitchDown=function(){this.dispatchEvent(new emic.top.event.UIEvent(emic.top.event.UIEvent.ON_ORDER_SWITCH_DOWN))},this.notifyOrderSwitchDirect=function(e){var t=new emic.top.event.UIEvent(emic.top.event.UIEvent.ON_ORDER_SWITCH_DIRECT);t.data=e,this.dispatchEvent(t)},this.notifyOrderShareExternal=function(){this.dispatchEvent(new emic.top.event.UIEvent(emic.top.event.UIEvent.ON_ORDER_SHARE_EXTERNAL))},this.notifyOrderEmbedExternal=function(){this.dispatchEvent(new emic.top.event.UIEvent(emic.top.event.UIEvent.ON_ORDER_EMBED_EXTERNAL))},this.notifyOrderExternal=function(e,t){ev=new emic.top.event.UIEvent(emic.top.event.UIEvent.ON_ORDER_EXTERNAL),ev.data.order=e,ev.data.params=t,this.dispatchEvent(ev)},this.notifyOrderReset=function(e){ev=new emic.top.event.UIEvent(emic.top.event.UIEvent.ON_ORDER_RESET),ev.data=e,this.dispatchEvent(ev)},this.notifyOrderChangeLive=function(e,t){ev=new emic.top.event.UIEvent(emic.top.event.UIEvent.ON_ORDER_CHANGE_LIVE),"boolean"==typeof t&&(ev.botonIrDirecto=t),ev.data=e,this.dispatchEvent(ev)},this.notifyOrderButton=function(e){ev=new emic.top.event.UIEvent(emic.top.event.UIEvent.ON_ORDER_BUTTON),ev.data=e,this.dispatchEvent(ev)},this.notifyOrderRRSS=function(e){ev=new emic.top.event.UIEvent(emic.top.event.UIEvent.ON_ORDER_RRSS),ev.data=e,this.dispatchEvent(ev)},this.notifyOrderInicioCompartir=function(e){ev=new emic.top.event.UIEvent(emic.top.event.UIEvent.ON_ORDER_INICIOCOMPARTIR),ev.data=e,this.dispatchEvent(ev)},this.init=function(e){},this.reset=function(){},this.resize=function(e,t){},this.onProgress=function(e){},this.onVolumeChange=function(e){},this.onStatusChange=function(e){},this.onMetadata=function(e){},this.onCue=function(e){},this.onError=function(e,t){},this.onSwitchRequest=function(e){},this.onSwitchComplete=function(e){},this.requestFullScreen=function(){},this.cancelFullScreen=function(){},this.onSeekStart=function(e){},this.onSeekComplete=function(e){},this.onBufferEmpty=function(){},this.onBufferFull=function(){},this.onRenditions=function(){},this.externalOrder=function(e,t){},this.statusChangeAd=function(e){},this.onPositionChange=function(e){},this.showLoading=function(e){},this.secondsAsTimeCode=function(e,t){var a=Math.floor(e/3600),i=Math.floor((e-3600*a)/60),n=Math.floor(e-3600*a-60*i);return a<10&&(a="0"+a),i<10&&(i="0"+i),n<10&&(n="0"+n),null==t?a+":"+i+":"+n:(a<1?t.replace("hh:",""):t.replace("hh",a)).replace("mm",i).replace("ss",n)},this.getPosition=function(e){for(var t=0,a=0;e;)t+=e.offsetLeft-e.scrollLeft+e.clientLeft,a+=e.offsetTop-e.scrollTop+e.clientTop,e=e.offsetParent;return{x:t,y:a}},this.showByName=function(e){var t;t=document.getElementById(e),this.show(t)},this.hideByName=function(e){document.getElementById(e),this.show(hide)},this.show=function(e){e&&(e.style.display="")},this.hide=function(e){e&&(e.style.display="none")},this.loadEskupInfo=function(e){if(null==e||""==e)return!1;this.idTop=e;var t=new psd.framework.parser.JSONParser,a=new psd.framework.Mediator,i="http://cadenaser.com/ThreadeskupSimple?action=info&th="+e+"&f=jsonp&1";a.corsIE(!0),a.addEventListener(psd.framework.MediatorEvent.MEDIATE_COMPLETE,n,this),a.addEventListener(psd.framework.MediatorEvent.MEDIATE_ERROR,o,this),a.mediate(i,t,psd.framework.Mediator.RESPONSE_JSONP)},this.loadNComentarios=function(){},callbackThreadeskup=function(e){a.infoEskup=e,a.loadNComentarios()};var n=function(e){0==e.result.parserResult.code||(e.result.parserResult.code,_CODE_NUM_PARSER_ERROR)},o=function(e){};this.recolocarIE8=function(){if(null!=psd.framework.ua.msie&&psd.framework.ua.msie&&parseInt(psd.framework.ua.version)<9)for(calcs=$(".calc_pcom"),i=0;i<calcs.length;i++)for(clasesString=calcs[i].className,clases=clasesString.split(" "),j=0;j<clases.length;j++)parseInt(clases[j])&&0<clases[j].indexOf("width")&&(elemento=calcs[i],elemento.style.width="100%",nuevotam=calcs[i].offsetWidth-parseInt(clases[j])+"px",elemento.style.width=nuevotam),parseInt(clases[j])&&0<clases[j].indexOf("height")&&(elemento=calcs[i],elemento.style.height="100%",nuevotam=calcs[i].offsetHeight-parseInt(clases[j])+"px",elemento.style.height=nuevotam),parseInt(clases[j])&&0<clases[j].indexOf("left")&&(elemento=calcs[i],elemento.style.left="100%",nuevotam=calcs[i].offsetLeft-parseInt(clases[j])+"px",elemento.style.left=nuevotam)},this.getDownloadUrl=function(e){var t="";for(url in e)if(-1==(e[url]+"").indexOf(".m3u8"))return e[url];return t}}t.prototype=new psd.framework.EventDispatcher,e.UISkinBase=t}(emic.top.ui),emic.top.ui.Bumetro=function(){var r=null,s=null,l={color1:"#333",color2:"#888",color1over:"#fdbe00",background:"#ddd",lineWidth:3,lineSeparation:2,bottom:3,colorover:"#feeaab",colorloaded:"#444"},c=0,m=0,u=0,p=[],_=0,E=0,v=0,t=null,h=!1,e=0;this.PROFILE_SIN="profile_sin",this.PROFILE_LINEAR="profile_linear",this.PROFILE_EQUAL="profile_equal",this.PROFILE_WAVE="profile_wave",this.PROFILE_RANDOM="profile_random",this.PROFILE_REAL="profile_real";var D=null,f=[],g=0,y=!1,O=0,a=this,T=!1;this.init=function(e,t){document.getElementById(e).innerHTML="<canvas id='canvas_"+e+"' style='width:100%;height:100%;'></canvas>",r=document.getElementById("canvas_"+e),s=r.getContext("2d"),this.configureStyle(t)},this.setdirecto=function(e){T=e},this.setMirror=function(e){y=e||!y},this.setRound=function(e){O=e},this.getRound=function(){return O},this.configureStyle=function(e){var t;if(e)for(t in e)l[t]=e[t];this.resize(),this.setProfile(D)},this.getStyle=function(){return l},this.setProfile=function(e){for(D=e,f=[],i=0;i<E;i++)f[i]=r.height/2},this.getProfile=function(){return D},this.doProfile=function(e){g++;var t=[];for(a in f)t[a]=f[a];if(h)return h=!1,t;switch(D){case this.PROFILE_REAL:var a,i,n=Math.floor(E/2),o=0,d=.5;for(g%5==0&&(t[n]=100*Math.random()+50),t[n]-=8,a=n-1;-1<a;a--)d=++o<5?.1*Math.random():.05*Math.random(),t[a]=t[a+1]-d*(E-a),t[a]<5&&(t[a]=5);for(o=0,a=n+1;a<E;a++)d=++o<5?.1*Math.random():.05*Math.random(),t[a]=t[a-1]-d*a,t[a]<5&&(t[a]=5);break;case this.PROFILE_EQUAL:for(a in f)f[a]>r.height/2?t[a]-=3:f[a]<r.height/2?t[a]+=3:t[a]+=4*Math.random();g%20&&(t[Math.floor(Math.random()*E)]+=50*Math.random());break;case this.PROFILE_LINEAR:for(a in f)t[a]=f[a];break;case this.PROFILE_SIN:for(a in i=0,f)i++,t[a]=r.height/2+Math.sin(i)*Math.sin(g)*10;break;case this.PROFILE_RANDOM:for(a in f)t[a]=r.height/2+35*Math.sin(6*Math.random());break;case this.PROFILE_WAVE:for(a in i=0,f)g++,t[a]=r.height/2+10*Math.sin(g)}for(a in t)t[a]<5&&(t[a]=5);return t},this.setProgress=function(e){c=e},this.setProgressLoaded=function(e){null!=e&&(u=e)},this.setProgressOver=function(e,t){null!=e&&(m=e,null!=t&&(v=t))},this.setValues=function(e){p=e},this.resize=function(){var e;for(r.width=r.offsetWidth,_=parseInt(l.lineWidth)+parseInt(l.lineSeparation),E=Math.floor(parseInt(r.width)/_),f=[],e=0;e<E;e++)f[e]=r.height/2},this.timeout=function(){e!=r.offsetWidth&&(a.resize(),e=r.offsetWidth),a.paint()},this.play=function(e){this.timeout(),null==t&&(t=setInterval(this.timeout,e))},this.pause=function(){var e;for(e in f)f[e]=5;this.paint(!0),h=!0,clearInterval(t),t=null},this.paint=function(e){var t;s.fillStyle=l.background,s.clearRect(0,0,r.width,r.height),s.fillRect(0,0,r.width,r.height);var a=r.width*m/100+v,i=r.width*u/100,n=r.width*c/100;T&&(a=i=n=0);var o=0,d=0;if(f=null!=D?this.doProfile():p,e)for(t in f)f[t]=5;if(0<O)for(t in f)f[t]=Math.floor(f[t])-f[t]%O;for(t=0;t<E;t++)o=t*_,d=f[Math.floor(f.length/(E/t))],o<n?s.fillStyle=o<a?l.color1over:l.color1:(s.fillStyle=o<i?l.colorloaded:l.color2,o<a&&(s.fillStyle=l.colorover)),y?s.fillRect(o,r.height/2+d/2,l.lineWidth,-d):s.fillRect(o,r.height-l.bottom,l.lineWidth,-d);T||(s.fillStyle="gold",s.fillRect(n,r.height-5,l.lineWidth,-40))}},emic.top.ui.Mosaic=function(){var n=null,a=null,o=0,d=0;this.enabled=!0,this.init=function(e,t){n=document.getElementById(e),null!=t?((a=document.createElement("img")).src=t,a.setAttribute("loading","lazy"),a.onload=function(){o=0<n.offsetWidth?n.offsetWidth:parseInt(n.style.width),d=0<n.offsetHeight?n.offsetHeight:parseInt(n.style.height),n.style.backgroundSize=10*o+"px "+6*d+"px",n.style.backgroundImage="url('"+t+"')",n.style.position="0 0"}):this.enabled=!1},this.paint=function(e){if(this.enabled){var t=60*e/100|0,a=t/10|0,i=t%10|0;n.style.backgroundPositionX=-i*o,n.style.backgroundPositionY=-a*d,n.style.backgroundPosition=-i*o+"px "+-a*d+"px"}},this.resetSize=function(){this.enabled&&(n.style.backgroundSize=10*n.offsetWidth+"px "+6*n.offsetHeight+"px",o=n.offsetWidth,d=n.offsetHeight)}},function(e){e.DragContainer=function(e,t,a,i,n,o,d){"string"==typeof e&&(e=document.getElementById(e)),"string"==typeof t&&(t=document.getElementById(t)),this.container=e,this.el=t,this.onStart=a,this.onSeek=i,this.onFinish=n,this.min=o,this.max=d,void 0!==(that=this).onStart&&null!=this.onStart||(this.onStart=function(){}),void 0!==this.onSeek&&null!=this.onSeek||(this.onSeek=function(){}),void 0!==this.onFinish&&null!=this.onFinish||(this.onFinish=function(){});var r=0;this.value=0,this.registrarDrag=function(){this.container.addEventListener("touchstart",function(e){return that.onStart(),e=(e=e||window.event).targetTouches[0],r=e.pageX?e.pageX:e.clientX,!0}),this.container.addEventListener("touchmove",function(e){var t=(e=(e=e||window.event).targetTouches[0]).pageX?e.pageX:e.clientX;that.value=t-r,r=t;var a=parseInt(that.el.style.left)+that.value;return a<o&&(a=o),d<a&&(a=d),that.el.style.left=a+"px",that.onSeek(that.value),!0}),this.container.addEventListener("touchend",function(){return that.onFinish(that.value),!0})}},e.Drag=function(e,t,a,i,n){this.el=e,this.parent=t,this.onStart=a,this.onSeek=i,this.onFinish=n,this.registrarDragFromParent=function(){""==this.parent.style.left&&(this.parent.style.left="0px")&&this.registrarDrag(this.el,parseInt(this.parent.style.left),parseInt(this.parent.offsetWidth),this.onStart,this.onSeek,this.onFinish)},this.registrarDrag=function(d,r,e,t,s,a){d.onmousedown=function(e){t(),e=e||window.event,""==d.style.left&&(d.style.left="0px");var i=parseInt(d.style.left),n=0,o=0;e.pageX?n=e.pageX:e.clientX&&(n=e.clientX),d.style.position="relative",document.body.onmousemove=function(e){var t=s(),a=0;(e=e||window.event).pageX?a=e.pageX:e.clientX&&(a=e.clientX),o=a-n,d.style.left=i+o+"px",null!=t&&parseInt(d.style.left)+parseInt(d.offsetWidth)>t&&(d.style.left=t-parseInt(d.offsetWidth)+"px"),null!=r&&parseInt(d.style.left)<r&&(d.style.left=r)},document.body.onmouseup=function(){a(),document.body.onmousemove=document.body.onmouseup=null}},d.addEventListener("touchstart",function(e){console.log("touch start"),t(),e=(e=e||window.event).targetTouches[0],""==d.style.left&&(d.style.left="0px");var i=parseInt(d.style.left),n=0,o=0;e.pageX?n=e.pageX:e.clientX&&(n=e.clientX),d.style.position="relative",d.addEventListener("touchmove",function(e){console.log("touch move");var t=s(),a=0;(e=(e=e||window.event).targetTouches[0]).pageX?a=e.pageX:e.clientX&&(a=e.clientX),o=a-n,d.style.left=i+o+"px",null!=t&&parseInt(d.style.left)+parseInt(d.offsetWidth)>t&&(d.style.left=t-parseInt(d.offsetWidth)+"px"),null!=r&&parseInt(d.style.left)<r&&(d.style.left=r)}),d.addEventListener("touchend",function(){console.log("touch end"),a()})})}}}(emic.top.ui),function(e){Transcription=function(e,a,r){var d=this;function s(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var a=document.createEvent("CustomEvent");return a.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),a}"function"!=typeof window.CustomEvent&&(s.prototype=window.Event.prototype,window.CustomEvent=s),this.minWidth=600,this.palabras=[],this.frases=[],this.spans=[];var f,l,c,m,u,p=!(this.speakers=[]),g=!0,y=e,_=0,E=[],v=document.createElement("ul");return v.style.position="absolute",v.style.width="100%",v.style.top="0",v.className="mm_back",y.innerHTML="",y.appendChild(v),this.exists=function(e){for(var t=!0,a=e[0],i=1;i<e.length-1;i++)t&&void 0!==a[e[i]]?a=a[e[i]]:t=!1;return t},this.generateSpans=function(e,a){if(document.getElementById(e).innerHTML="",this.exists([f,"data",0,"transcription","wordlist"])){for(var t in f.data[0].transcription.wordlist){var i=f.data[0].transcription.wordlist[t],n=document.createElement("span");n.innerHTML=" "+i.content,n.style.cursor="pointer",function(t){n.onclick=function(){for(var e in d.spans)d.spans[e].style.color="black";a.seek(t.stime)}}(i),document.getElementById(e).appendChild(n),this.spans[this.spans.length]=n}p=!0}},this.createLineas=function(){for(var e in 0==r?(l=this.frases,v.className="transition",v.style.textAlign="left"):(l=this.palabras,v.className="transition",v.style.textAlign="center"),v.innerHTML="",E=[],l)if(null!=l[e].text){var t=document.createElement("li"),a=document.createElement("span");a.innerHTML=l[e].text,t.appendChild(a),E[E.length]=t,v.appendChild(t)}this.getIndex(10);var i=new CustomEvent("ready",{});y.dispatchEvent(i)},this.addEventListener=function(e,t){y.addEventListener(e,t)},this.removeEventListener=function(e){y.removeEventListener(e,function(){})},this.setType=function(e){r=e,this.createLineas()},this.getIndex=function(e){if(g){try{for(var t in l)t<l.length&&l[t].startm<e&&l[t].endm>e&&(_=t)}catch(e){console.log(e)}this.paint()}},this.updatespans=function(){if(1==r)for(var e in this.spans)this.spans[e].style.color="black";else for(var e in this.spans)this.spans[e].style.color="black"},this.setEnabled=function(e){y.style.display=e?"block":"none"},this.paint=function(){if(g&&0!=E.length){y.offsetWidth<this.minWidth?0==r&&this.setType(1):1==r&&this.setType(0),p&&this.updatespans();var e,t=E[_],a=0<_?E[_-1]:E[_];for(i in _<E.length-1?e=E[parseInt(_)+1]:e=E[E.length-1],E)E[i].className="";void 0!==a&&(a.className="anterior"),void 0!==e&&(e.className="siguiente"),void 0!==t&&(t.className="activo");var n=y.offsetHeight,o=(v.offsetHeight,t.offsetHeight),d=t.offsetTop;v.style.top=n/2-d-o/2+"px"}},"function"==typeof window.onresize?this.preResize=window.onresize:this.preResize=function(){},window.onresize=function(){d.preResize(),d.paint()},this.getSpeakers=function(){var e="";for(var t in d.speakers)void 0!==d.speakers[t].description&&(""!=d.speakers[t].description?e+=d.speakers[t].description+";":""!=d.speakers[t].idref&&(e+=d.speakers[t].idref+";"));return(e+="---").replace(";---","").replace("---","")},this.onDataLoaded=function(e){function a(e){return void 0!==e?e.replace(/^\s+|\s+$/g,""):""}if(void 0===(f=e).data[0]){g=!1;var d=new CustomEvent("notranscription",{});return y.dispatchEvent(d),""}d=new CustomEvent("transcriptionready",{}),y.dispatchEvent(d);var r=e.data[0].srt;if(this.speakers=f.data[0].speakers,null==r)return g=!1,d=new CustomEvent("notranscription",{}),y.dispatchEvent(d),"";srt=r.replace(/\r\n|\r|\n/g,"\n"),srt=a(srt);var s=srt.replace("\n\n\n","\n\n").split("\n\n"),l=[];for(h=0;h<s.length;h++)if(st=s[h].split("\n"),2<=st.length){if(n=st[0],i=a(st[1].split(" --\x3e ")[0]),o=a(st[1].split(" --\x3e ")[1]),t=st[2],2<st.length)for(j=3;j<st.length;j++)t+="\n"+st[j];l[h]={},l[h].number=n,l[h].start=i,l[h].end=o,l[h].text=t;var c=i.split(","),m=c[0].split(":"),u=parseInt(c[1])+1e3*parseInt(m[2])+1e3*parseInt(m[1])*60+1e3*parseInt(m[0])*60*60,p=o.split(","),_=p[0].split(":"),E=parseInt(p[1])+1e3*parseInt(_[2])+1e3*parseInt(_[1])*60+1e3*parseInt(_[0])*60*60;l[h].startm=u,l[h].endm=E}this.frases=l;var v=[];for(var h in e.data[0].transcription.wordlist){var D=e.data[0].transcription.wordlist[h];v[h]={},v[h].number=h,v[h].start="",v[h].end="",v[h].text=D.content,v[h].startm=1e3*parseFloat(D.stime),v[h].endm=1e3*parseFloat(D.stime)+parseFloat(1e3*D.dur)}this.palabras=v,this.createLineas()},c=a,m=function(e){d.onDataLoaded(e)},function(){},(u="undefined"!=typeof XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")).open("get",c,!0),u.onreadystatechange=function(){var e;4!=u.readyState||200==u.status&&(e=JSON.parse(u.responseText),m(e))},u.send(),this},e.Transcription=Transcription}(emic.top.ui),function(e){function t(){psd.framework.EventDispatcher.call(this),this.init=function(){},this.reset=function(){},this.kill=function(){},this.notifyPreviewReady=function(){this.dispatchEvent(new emic.top.event.UIEvent(emic.top.event.UIEvent.ON_PREVIEW_READY))},this.notifyOrderBegin=function(){this.dispatchEvent(new emic.top.event.UIEvent(emic.top.event.UIEvent.ON_ORDER_BEGIN))}}t.prototype=new psd.framework.EventDispatcher,e.UIPreviewBase=t}(emic.top.ui),function(e){function t(){var a,i,n;emic.top.ui.UIPreviewBase.call(this),this.init=function(e){var t;a=e,(i=document.getElementById(a.internalData.previewContainer)).style["background-color"]="black",(n=document.createElement("img")).setAttribute("src",a.uiData.poster),n.setAttribute("width",a.genericData.width),n.setAttribute("height",a.genericData.height),i.onclick=(t=this,function(){t.notifyOrderBegin()}),n.onload=function(){},i.appendChild(n),this.notifyPreviewReady()},this.reset=function(){n.setAttribute("src",a.uiData.poster)},this.kill=function(){i.removeChild(n)}}t.prototype=new emic.top.ui.UIPreviewBase,e.TopPreview_generic=t}(emic.top.ui),emic.top.ui.UIFactory=function(){this.skinDirNames=[],this.skinDirNames[emic.top.UIModule.SKIN_MERISTATION]=["meristation","meristation"],this.skinDirNames[emic.top.UIModule.SKIN_HUFFINGTON]=["huff","huff"],this.skinDirNames[emic.top.UIModule.SKIN_TRANSPARENT]=["transparent","transparent"],this.skinDirNames[emic.top.UIModule.SKIN_SMODA]=["smoda","smoda"],this.skinDirNames[emic.top.UIModule.SKIN_LOS40]=["los40","los40"],this.skinDirNames[emic.top.UIModule.SKIN_PSV2]=["psv2","PSv2"],this.skinDirNames[emic.top.UIModule.SKIN_CSV2]=["csv2","CSv2"],this.skinDirNames[emic.top.UIModule.SKIN_GENERICV2]=["genericv2","genericv2"],this.skinDirNames[emic.top.UIModule.SKIN_ELPAIS]=["elpais","elpais"],this.skinDirNames[emic.top.UIModule.SKIN_LATAM]=["latam","latam"],this.skinDirNames[emic.top.UIModule.SKIN_PLAYSER]=["playser","playser"],this.skinDirNames[emic.top.UIModule.SKIN_PLAYSER2]=["playser2","playser2"],this.skinDirNames[emic.top.UIModule.SKIN_PLAYSER_DETALLE]=["playser_det","playser_det"],this.skinDirNames[emic.top.UIModule.SKIN_PLAYSER_PEP]=["playser_pep","playser_pep"],this.skinDirNames[emic.top.UIModule.SKIN_VIDEOGENERIC]=["videogeneric","videogeneric"],this.skinDirNames[emic.top.UIModule.SKIN_PODCASTS]=["podcasts","podcasts"],this.skinDirNames[emic.top.UIModule.SKIN_HERTZ]=["hertz","Hertz"],this.skinDirNames[emic.top.UIModule.SKIN_HERTZFILETE]=["hertzfilete","HertzFilete"],this.skinDirNames[emic.top.UIModule.SKIN_EPPODCAST]=["eppodcast","EPpodcast"],this.skinDirNames[emic.top.UIModule.SKIN_ONEPLAYER]=["oneplayer","oneplayer"],this.skinDirNames[emic.top.UIModule.SKIN_PARAHABLADAS]=["parahabladas","parahabladas"],this.skinDirNames[emic.top.UIModule.SKIN_NLOS40]=["nlos40","nlos40"],this.skinDirNames[emic.top.UIModule.SKIN_CARACOLPODCAST]=["caracolpodcast","Caracolpodcast"],this.skinDirNames[emic.top.UIModule.SKIN_PUX]=["pux","Pux"],this.skinDirNames[emic.top.UIModule.SKIN_SERPER]=["serper","Serper"],this.skinDirNames[emic.top.UIModule.SKIN_EPAUDIO]=["EPaudio","EPaudio"],this.skinDirNames[emic.top.UIModule.SKIN_EPAUDIOSINIMAGEN]=["EPaudiosinimagen","EPaudiosinimagen"],this.skinDirNames[emic.top.UIModule.SKIN_EPAUDIOPORTADA]=["EPaudioPortada","EPaudioPortada"],this.skinDirNames[emic.top.UIModule.SKIN_ASAUDIO]=["asaudio","asaudio"],this.skinDirNames[emic.top.UIModule.SKIN_LOS40PER]=["los40per","los40per"],this.skinDirNames[emic.top.UIModule.SKIN_SERNA]=["serna","serna"],this.skinDirNames[emic.top.UIModule.SKIN_SERNV]=["sernv","sernv"],this.skinDirNames[emic.top.UIModule.SKIN_SMODAAUDIO]=["smodaaudio","SModaAudio"],this.skinDirNames[emic.top.UIModule.SKIN_SMODAAUDIOSINIMAGEN]=["smodaaudiosinimagen","SModaAudiosinimagen"],this.skinDirNames[emic.top.UIModule.SKIN_MOTORAUDIO]=["motoraudio","MotorAudio"],this.skinDirNames[emic.top.UIModule.SKIN_MOTORAUDIOSINIMAGEN]=["motoraudiosinimagen","MotorAudiosinimagen"],this.getSkin=function(e){var t;switch(e){case emic.top.UIModule.SKIN_GENERIC_FENIX:t=new emic.top.ui.SkinFenix(e);break;case emic.top.UIModule.SKIN_TEST:t=new emic.top.ui.TopSkin_test;break;case emic.top.UIModule.SKIN_PLAYSER_PEP:t=new emic.top.ui.TopSkin_playser_pep;break;case emic.top.UIModule.SKIN_PLAYSER_DETALLE:t=new emic.top.ui.TopSkin_playser_det;break;case emic.top.UIModule.SKIN_PLAYSER:t=new emic.top.ui.TopSkin_playser;break;case emic.top.UIModule.SKIN_PLAYSER2:t=new emic.top.ui.TopSkin_playser2;break;case emic.top.UIModule.SKIN_LUIS:t=new emic.top.ui.TopSkin_luis;break;case emic.top.UIModule.SKIN_MERISTATION:t=new emic.top.ui.TopSkin_meristation;break;case emic.top.UIModule.SKIN_HUFFINGTON:t=new emic.top.ui.TopSkin_huff;break;case emic.top.UIModule.SKIN_TRANSPARENT:t=new emic.top.ui.TopSkin_transparent;break;case emic.top.UIModule.SKIN_SMODA:t=new emic.top.ui.TopSkin_smoda;break;case emic.top.UIModule.SKIN_LOS40:t=new emic.top.ui.TopSkin_los40;break;case emic.top.UIModule.SKIN_PSV2:t=new emic.top.ui.TopSkin_PSv2;break;case emic.top.UIModule.SKIN_CSV2:t=new emic.top.ui.TopSkin_CSv2;break;case emic.top.UIModule.SKIN_GENERICV2:t=new emic.top.ui.TopSkin_genericv2;break;case emic.top.UIModule.SKIN_PMETA:t=new emic.top.ui.TopSkin_PMETA;break;case emic.top.UIModule.SKIN_ELPAIS:t=new emic.top.ui.TopSkin_elpais;break;case emic.top.UIModule.SKIN_LATAM:t=new emic.top.ui.TopSkin_latam;break;case emic.top.UIModule.SKIN_VIDEOGENERIC:t=new emic.top.ui.TopSkin_videogeneric;break;case emic.top.UIModule.SKIN_PODCASTS:t=new emic.top.ui.TopSkin_podcasts;break;case emic.top.UIModule.SKIN_HERTZ:t=new emic.top.ui.TopSkin_hertz;break;case emic.top.UIModule.SKIN_HERTZFILETE:t=new emic.top.ui.TopSkin_hertzfilete;break;case emic.top.UIModule.SKIN_EPPODCAST:t=new emic.top.ui.TopSkin_EPpodcast;break;case emic.top.UIModule.SKIN_ONEPLAYER:t=new emic.top.ui.TopSkin_oneplayer;break;case emic.top.UIModule.SKIN_PARAHABLADAS:t=new emic.top.ui.TopSkin_parahabladas;break;case emic.top.UIModule.SKIN_NLOS40:t=new emic.top.ui.TopSkin_nlos40;break;case emic.top.UIModule.SKIN_CARACOLPODCAST:t=new emic.top.ui.TopSkin_caracolpodcast;break;case emic.top.UIModule.SKIN_PUX:t=new emic.top.ui.TopSkin_pux;break;case emic.top.UIModule.SKIN_SERPER:t=new emic.top.ui.TopSkin_serper;break;case emic.top.UIModule.SKIN_EPAUDIO:t=new emic.top.ui.TopSkin_EPAudio;break;case emic.top.UIModule.SKIN_EPAUDIOSINIMAGEN:t=new emic.top.ui.TopSkin_EPAudiosinimagen;break;case emic.top.UIModule.SKIN_EPAUDIOPORTADA:t=new emic.top.ui.TopSkin_EPAudioPortada;break;case emic.top.UIModule.SKIN_ASAUDIO:t=new emic.top.ui.TopSkin_AsAudio;break;case emic.top.UIModule.SKIN_LOS40PER:t=new emic.top.ui.TopSkin_los40per;break;case emic.top.UIModule.SKIN_SERNA:t=new emic.top.ui.TopSkin_serna;break;case emic.top.UIModule.SKIN_SERNV:t=new emic.top.ui.TopSkin_sernv;break;case emic.top.UIModule.SKIN_MOTORAUDIO:t=new emic.top.ui.TopSkin_MotorAudio;break;case emic.top.UIModule.SKIN_MOTORAUDIOSINIMAGEN:t=new emic.top.ui.TopSkin_MotorAudiosinimagen;break;case emic.top.UIModule.SKIN_SMODAAUDIO:t=new emic.top.ui.TopSkin_SModaAudio;break;case emic.top.UIModule.SKIN_SMODAAUDIOSINIMAGEN:t=new emic.top.ui.TopSkin_SModaAudiosinimagen;break;default:t=new emic.top.ui.TopSkin_playser}return t},this.getPreview=function(e){var t;switch(e){case emic.top.UIModule.SKIN_TEST:default:t=new emic.top.ui.TopPreview_generic}return t}},function(e){function t(e){psd.framework.EventDispatcher.call(this);var n,d=e,r=new emic.top.ui.UIFactory;function s(e){switch(emic.top.debug("[UIModule.js][_skinHandler]>> ",e.type),e.type){case emic.top.event.UIEvent.ON_ORDER_PLAY:case emic.top.event.UIEvent.ON_ORDER_PLAYPAUSE:d.internalData.position==emic.top.TopPlayer.POSITION_PREVIEW?this.dispatchEvent(new emic.top.event.UIEvent(emic.top.event.UIEvent.ON_ORDER_BEGIN)):this.dispatchEvent(e);break;case emic.top.event.UIEvent.ON_ORDER_BEGIN:case emic.top.event.UIEvent.ON_ORDER_CHANGE_LIVE:this.dispatchEvent(e);break;case emic.top.event.UIEvent.ON_ORDER_SHARE_FACEBOOK:"playserPEP"!=d.uiData.skin&&"playserDetalle"!=d.uiData.skin||window.open(emic.top.SocialModule.getUrlShare(emic.top.SocialModule.NETWORK_FACEBOOK,d)),this.dispatchEvent(e);break;case emic.top.event.UIEvent.ON_ORDER_SHARE_TWITTER:"playserPEP"!=d.uiData.skin&&"playserDetalle"!=d.uiData.skin||window.open(emic.top.SocialModule.getUrlShare(emic.top.SocialModule.NETWORK_TWITTER,d)),this.dispatchEvent(e);break;case emic.top.event.UIEvent.ON_ORDER_SHARE_GOOGLEPLUS:"playserPEP"!=d.uiData.skin&&"playserDetalle"!=d.uiData.skin||window.open(emic.top.SocialModule.getUrlShare(emic.top.SocialModule.NETWORK_GOOGLEPLUS,d)),this.dispatchEvent(e);break;case emic.top.event.UIEvent.ON_ORDER_SHARE_WHATSAPP:case emic.top.event.UIEvent.ON_ORDER_SHARE_SUBSCRIBE:case emic.top.event.UIEvent.ON_ORDER_BUTTON:case emic.top.event.UIEvent.ON_ORDER_RSS:case emic.top.event.UIEvent.ON_ORDER_INICIOCOMPARTIR:this.dispatchEvent(e);break;case emic.top.event.UIEvent.ON_INIT_COMPLETE:c=!0,this.dispatchEvent(e);break;default:this.dispatchEvent(e)}}function t(e){switch(emic.top.debug("[UIModule.js][_previewHandler]>> ",e.type),e.type){case emic.top.event.UIEvent.ON_ORDER_BEGIN:this.dispatchEvent(e)}}function a(){emic.top.debug("[UIModule.js][_initPreview]>> "),d.uiData.showPreview&&(o=r.getPreview(d.uiData.preview))&&(o.addEventListener(emic.top.event.UIEvent.ON_INIT_COMPLETE,t,this),o.addEventListener(emic.top.event.UIEvent.ON_ORDER_BEGIN,t,this),o.init(d))}d.internalData.UIFactory=r;var o,l,c=!1,m=[];this.externalNotify=function(e,t,a){emic.top.debug("[UIModule.js][externalNotify]>> ",{type:e,data:t,id:a});var i=new emic.top.event.UIEvent(e);t&&(i.data=t),a&&(i.id=a),s.apply(this,[i])},this.setPlayer=function(e){l=e},this.getPlayer=function(){return l},this.loadSkin=function(e){var t=void 0;if("dailymotion"==d.mediaData.provider&&(e="transparent",d.uiData.skin="transparent"),null!=r.skinDirNames[e]&&(t=r.skinDirNames[e]),null!=t){var a,i=document.createElement("script"),n=d.genericData.urlBase?d.genericData.urlBase:"";"undefined"==typeof tplib?i.src=n+"/psdmedia/media/top/skins/"+t[0]+"/TopSkin_"+t[1]+".min.js":i.src=n+"/psdmedia/media/top/skins/"+t[0]+"/TopSkin_"+t[1]+".lib.js",i.type="text/javascript",i.onload=(a=this,function(){a.onSkinLoaded()}),document.getElementsByTagName("head")[0].appendChild(i)}else emic.top.debug("No existe el skin asociado al tipo",e)},this.init=function(){emic.top.debug("[UIModule.js][init]>> "),psdgetgetpsd("mm_skin")&&(d.uiData.skin=psdgetgetpsd("mm_skin")),this.loadSkin(d.uiData.skin)},this.getget=function(e){return n[e],n[e]},this.createPlayerViewReset=function(e){n.setPlayerviewReset(e)},this.createPlayerView=function(e,t){var a=d.uiData.skin;t&&(window._aux_playerviewinfo=t);var n=r.getSkin(a);if(void 0!==n.playerViewCompatible&&1==n.playerViewCompatible){if(n.soyPlayerView=!0,n.enabled=!0,n.setPlayer(this.getPlayer()),n){n.addEventListener(emic.top.event.UIEvent.ON_INIT_COMPLETE,s,this),n.addEventListener(emic.top.event.UIEvent.ON_ORDER_BEGIN,s,this),n.addEventListener(emic.top.event.UIEvent.ON_ORDER_PLAY,s,this),n.addEventListener(emic.top.event.UIEvent.ON_ORDER_PAUSE,s,this),n.addEventListener(emic.top.event.UIEvent.ON_ORDER_PLAYPAUSE,s,this),n.addEventListener(emic.top.event.UIEvent.ON_ORDER_STOP,s,this),n.addEventListener(emic.top.event.UIEvent.ON_ORDER_VOLUME_CHANGE,s,this),n.addEventListener(emic.top.event.UIEvent.ON_ORDER_MUTE,s,this),n.addEventListener(emic.top.event.UIEvent.ON_ORDER_FULLSCREEN,s,this),n.addEventListener(emic.top.event.UIEvent.ON_ORDER_SEEK_BY_PROP,s,this),n.addEventListener(emic.top.event.UIEvent.ON_ORDER_SEEK_BY_SECS,s,this),n.addEventListener(emic.top.event.UIEvent.ON_ORDER_SEEK_LIVE,s,this),n.addEventListener(emic.top.event.UIEvent.ON_ORDER_SHARE_FACEBOOK,s,this),n.addEventListener(emic.top.event.UIEvent.ON_ORDER_SHARE_TWITTER,s,this),n.addEventListener(emic.top.event.UIEvent.ON_ORDER_SHARE_GOOGLEPLUS,s,this),n.addEventListener(emic.top.event.UIEvent.ON_ORDER_SHARE_WHATSAPP,s,this),n.addEventListener(emic.top.event.UIEvent.ON_ORDER_SHARE_SUBSCRIBE,s,this),n.addEventListener(emic.top.event.UIEvent.ON_ORDER_NEXT,s,this),n.addEventListener(emic.top.event.UIEvent.ON_ORDER_PREV,s,this),n.addEventListener(emic.top.event.UIEvent.ON_ORDER_SHARE_EXTERNAL,s,this),n.addEventListener(emic.top.event.UIEvent.ON_ORDER_EMBED_EXTERNAL,s,this),n.addEventListener(emic.top.event.UIEvent.ON_ORDER_EXTERNAL,s,this),n.addEventListener(emic.top.event.UIEvent.ON_ORDER_RESET,s,this),n.addEventListener(emic.top.event.UIEvent.ON_ORDER_SWITCH_DIRECT,s,this),n.addEventListener(emic.top.event.UIEvent.ON_ORDER_SWITCH_DOWN,s,this),n.addEventListener(emic.top.event.UIEvent.ON_ORDER_SWITCH_UP,s,this),n.addEventListener(emic.top.event.UIEvent.ON_ORDER_CHANGE_LIVE,s,this),n.addEventListener(emic.top.event.UIEvent.ON_ORDER_BUTTON,s,this),n.addEventListener(emic.top.event.UIEvent.ON_ORDER_RRSS,s,this),n.addEventListener(emic.top.event.UIEvent.ON_ORDER_INICIOCOMPARTIR,s,this);var o={};for(i in d)o[i]=d[i];o.internalData.skinContainer=e,o.genericData.id=e,n.init(o),m[m.length]=n}}else emic.top.debug("El skin "+a+" no es compatible con PlayerViews")},this.getSkin=function(){return n},this.onSkinLoaded=function(){(n=r.getSkin(d.uiData.skin)).setPlayer(this.getPlayer()),n&&(n.addEventListener(emic.top.event.UIEvent.ON_INIT_COMPLETE,s,this),n.addEventListener(emic.top.event.UIEvent.ON_ORDER_BEGIN,s,this),n.addEventListener(emic.top.event.UIEvent.ON_ORDER_PLAY,s,this),n.addEventListener(emic.top.event.UIEvent.ON_ORDER_PAUSE,s,this),n.addEventListener(emic.top.event.UIEvent.ON_ORDER_PLAYPAUSE,s,this),n.addEventListener(emic.top.event.UIEvent.ON_ORDER_STOP,s,this),n.addEventListener(emic.top.event.UIEvent.ON_ORDER_VOLUME_CHANGE,s,this),n.addEventListener(emic.top.event.UIEvent.ON_ORDER_MUTE,s,this),n.addEventListener(emic.top.event.UIEvent.ON_ORDER_FULLSCREEN,s,this),n.addEventListener(emic.top.event.UIEvent.ON_ORDER_SEEK_BY_PROP,s,this),n.addEventListener(emic.top.event.UIEvent.ON_ORDER_SEEK_BY_SECS,s,this),n.addEventListener(emic.top.event.UIEvent.ON_ORDER_SEEK_LIVE,s,this),n.addEventListener(emic.top.event.UIEvent.ON_ORDER_SHARE_FACEBOOK,s,this),n.addEventListener(emic.top.event.UIEvent.ON_ORDER_SHARE_TWITTER,s,this),n.addEventListener(emic.top.event.UIEvent.ON_ORDER_SHARE_GOOGLEPLUS,s,this),n.addEventListener(emic.top.event.UIEvent.ON_ORDER_SHARE_WHATSAPP,s,this),n.addEventListener(emic.top.event.UIEvent.ON_ORDER_SHARE_SUBSCRIBE,s,this),n.addEventListener(emic.top.event.UIEvent.ON_ORDER_NEXT,s,this),n.addEventListener(emic.top.event.UIEvent.ON_ORDER_PREV,s,this),n.addEventListener(emic.top.event.UIEvent.ON_ORDER_SHARE_EXTERNAL,s,this),n.addEventListener(emic.top.event.UIEvent.ON_ORDER_EMBED_EXTERNAL,s,this),n.addEventListener(emic.top.event.UIEvent.ON_ORDER_EXTERNAL,s,this),n.addEventListener(emic.top.event.UIEvent.ON_ORDER_RESET,s,this),n.addEventListener(emic.top.event.UIEvent.ON_ORDER_SWITCH_DIRECT,s,this),n.addEventListener(emic.top.event.UIEvent.ON_ORDER_SWITCH_DOWN,s,this),n.addEventListener(emic.top.event.UIEvent.ON_ORDER_SWITCH_UP,s,this),n.addEventListener(emic.top.event.UIEvent.ON_ORDER_CHANGE_LIVE,s,this),n.addEventListener(emic.top.event.UIEvent.ON_ORDER_BUTTON,s,this),n.addEventListener(emic.top.event.UIEvent.ON_ORDER_RRSS,s,this),n.addEventListener(emic.top.event.UIEvent.ON_ORDER_INICIOCOMPARTIR,s,this),c=!1,n.init(d)),a.apply(this)},this.externalOrder=function(e,t){for(var a in emic.top.debug("[UIModule.js][externalOrder]>> ",{order:e,params:t}),n&&n.externalOrder(e,t),m)m[a].enabled&&m[a].externalOrder(e,t)},this.reset=function(){for(var e in emic.top.debug("[UIModule.js][reset]>> "),n&&void 0!==n.reset_skin&&n.reset_skin(),o?d.uiData.showPreview?o.reset():(o.kill(),o=void 0):d.uiData.showPreview&&a.apply(this),n&&c&&n.reset(),m)m[e].enabled&&m[e].reset()},this.clear=function(){for(var e in emic.top.debug("[UIModule.js][clear]>> "),o&&o.reset(),n&&c&&n.reset(),m)m[e].enabled&&m[e].reset()},this.onPositionChange=function(e){for(var t in emic.top.debug("[UIModule.js][onPositionChange]>> ",e),n&&n.onPositionChange(e),m)m[t].enabled&&m[t].onPositionChange(e)},this.showLoading=function(e){for(var t in emic.top.debug("[UIModule.js][showLoading]>> ",e),n&&c&&n.showLoading(e),m)m[t].enabled&&m[t].showLoading(e)},this.setPlayerViewsEnabled=function(e,t){if(void 0===t)for(var a=0;a<m.length;a++)m[a].enabled=e;else m.length<e&&(m[e].enabled=t)},this.onStatusChange=function(e){if(emic.top.debug("[UIModule.js][onStatusChange]>> ",e),n)for(var t in n.onStatusChange(e),m)m[t].enabled&&m[t].onStatusChange(e)},this.onVolumeChange=function(e){for(var t in emic.top.debug("[UIModule.js][onVolumeChange]>> ",e),n&&n.onVolumeChange(e),m)m[t].enabled&&m[t].onVolumeChange(e)},this.onProgress=function(e){for(var t in this.getPlayer().time=e,n&&n.onProgress(e),m)m[t].enabled&&m[t].onProgress(e)},this.onMetadata=function(e){for(var t in emic.top.debug("[UIModule.js][onMetadata]>> ",e),n&&n.onMetadata(e),m)m[t].enabled&&m[t].onMetadata(e)},this.onCue=function(e){for(var t in emic.top.debug("[UIModule.js][onCue]>> ",e),n&&n.onCue(e),m)m[t].enabled&&m[t].onCue(e)},this.onError=function(e,t){for(var a in emic.top.debug("[UIModule.js][onError]>> ",{msg:e,code:t}),n&&n.onError(e,t),m)m[a].enabled&&m[a].onError(e,t)},this.onSwitchRequest=function(e){emic.top.debug("[UIModule.js][onSwitchRequest]>> ",e),n&&n.onSwitchRequest(e)},this.onSwitchComplete=function(e){emic.top.debug("[UIModule.js][onSwitchComplete]>> ",e),n&&n.onSwitchComplete(e)},this.onSeekStart=function(e){for(var t in emic.top.debug("[UIModule.js][onSeekStart]>> ",e),n&&n.onSeekStart(e),m)m[t].enabled&&m[t].onSeekStart(e)},this.onSeekComplete=function(e){for(var t in emic.top.debug("[UIModule.js][onSeekComplete]>> ",e),n&&n.onSeekComplete(e),m)m[t].enabled&&m[t].onSeekComplete(e)},this.onBufferEmpty=function(){emic.top.debug("[UIModule.js][onBufferEmpty]>> "),n&&n.onBufferEmpty()},this.onBufferFull=function(){emic.top.debug("[UIModule.js][onBufferFull]>> "),n&&n.onBufferFull()},this.onRenditions=function(e){emic.top.debug("[UIModule.js][onRenditions]>> "),n&&n.onRenditions(e)},this.setRatio=function(e,t){var a=document.getElementById(d.genericData.container);a.style.height=a.offsetWidth*t/e+"px"}}t.prototype=new psd.framework.EventDispatcher,t.SKIN_GENERIC_FENIX="generic_f",t.SKIN_TEST="test",t.SKIN_PLAYSER_PEP="playserPEP",t.SKIN_PLAYSER_DETALLE="playserDetalle",t.SKIN_PLAYSER="playser",t.SKIN_PLAYSER2="playser2",t.SKIN_LUIS="luis",t.SKIN_MERISTATION="meristation",t.SKIN_HUFFINGTON="huffingtonpost",t.SKIN_TRANSPARENT="transparent",t.SKIN_SMODA="smoda",t.SKIN_LOS40="los40videos",t.SKIN_PSV2="psv2",t.SKIN_CSV2="csv2",t.SKIN_GENERICV2="genericv2",t.SKIN_PMETA="pmeta",t.SKIN_ELPAIS="elpais",t.SKIN_LATAM="latam",t.SKIN_VIDEOGENERIC="videogeneric",t.SKIN_PODCASTS="podcasts",t.SKIN_HERTZ="hertz",t.SKIN_HERTZFILETE="hertzfilete",t.SKIN_EPPODCAST="eppodcast",t.SKIN_ONEPLAYER="oneplayer",t.SKIN_PARAHABLADAS="parahabladas",t.SKIN_NLOS40="nlos40",t.SKIN_CARACOLPODCAST="caracolpodcast",t.SKIN_PUX="pux",t.SKIN_SERPER="serper",t.SKIN_EPAUDIO="epaudio",t.SKIN_EPAUDIOSINIMAGEN="epaudiosinimagen",t.SKIN_EPAUDIOPORTADA="epaudioportada",t.SKIN_ASAUDIO="asaudio",t.SKIN_LOS40PER="los40per",t.SKIN_SERNA="serna",t.SKIN_SERNV="sernv",t.SKIN_SMODAAUDIO="smodaaudio",t.SKIN_SMODAAUDIOSINIMAGEN="smodaaudiosinimagen",t.SKIN_MOTORAUDIO="motoraudio",t.SKIN_MOTORAUDIOSINIMAGEN="motoraudiosinimagen",t.PREVIEW_GENERIC="generic",e.UIModule=t}(emic.top),function(e){function y(e){function n(){emic.top.debug("[AdModule.js][_initComplete]>> "),p=!(c=!0);var e=new emic.top.event.AdEvent(emic.top.event.AdEvent.ON_READY);e.idMedia=l.mediaData.idTOP,this.dispatchEvent(e),m&&(this.notificaEstadoOn(m),m=!1)}psd.framework.EventDispatcher.call(this);function a(e){var t,a;switch(emic.top.debug("[AdModule.js][_managerHandler]>> ",{type:e.type}),emic.top.debug("..."+e.type,h),e.type){case D.LOADING_AD_START:this.dispatchEvent(t);break;case D.MANAGER_READY:l.mediaData.premuted&&(o.premute=!0),emic.top.debug("...:::",h),d&&clearInterval(d),getDevice().mobile&&"undefined"!=typeof _advert?o.preloadController(emic.publicidad.PubliManager.CONTROLLER_IMA3_HTML5):n.apply(this);break;case D.CONTROLLER_LOADED:n.apply(this);break;case D.MANAGER_INIT_ERROR:p=!1,(t=new emic.top.event.AdEvent(emic.top.event.AdEvent.ON_INIT_ERROR)).idMedia=l.mediaData.idTOP,this.dispatchEvent(t);break;case D.ALL_PUBLI_ENDED:d&&clearInterval(d),E&&((t=new emic.top.event.AdEvent).type=emic.top.event.AdEvent.ON_AD_POSITION_END,t.data.position=u,t.contentType=e.data.contentType,this.dispatchEvent(t),E=!1,u="",v=y.STATUS_STOP,0<h&&(l.mediaData.duration=h),emic.top.debug("...all publi ended",h));break;case D.PUBLI_STARTED:if(l.mediaData.premuted?getDevice().mobile:o.setVolume(l.internalData.currentVolume),E=!0,h=l.mediaData.duration,emic.top.debug("...era:",h),void 0===e.data.internalData.g){var i=Object.keys(e.data.internalData);0<i.length&&(e.data.internalData.g=e.data.internalData[i])}l.mediaData.duration=1e3*e.data.internalData.g.duration,emic.top.debug("...y en el anuncio es ",l.mediaData.duration),void 0!==e.data.internalData.g.skippable&&(l.adData.skippable=e.data.internalData.g.skippable),void 0!==e.data.internalData.g.skipTimeOffset&&(l.adData.skippableTime=e.data.internalData.g.skipTimeOffset),void 0!==e.data.internalData.g.duration&&(l.adData.duration=e.data.internalData.g.duration),(t=new emic.top.event.AdEvent).type=emic.top.event.AdEvent.ON_AD_VIDEO_START,t.data={},t.data.provider=emic.top.AdModule.PROVIDER_PBS_DPF,t.data.position=u,t.data.name=name=e.data.name,t.data.status="play",t.contentType=contentType=e.data.contentType,t.idMedia=l.mediaData.idTOP,void 0!==e.data.internalData.g.duration&&(t.data.duration=e.data.internalData.g.duration,r=e.data.internalData.getAdPodInfo(),t.data.cantAds=r.getTotalAds()),t.data.adRandomTime=""!=t.data.adRandomTime?l.adData.adRandomTime.replace("%position%",t.data.position):"",this.dispatchEvent(t),v=y.STATUS_PLAY,d=setInterval((a=this,function(e){f.apply(a,[name,contentType])}),500);break;case D.PUBLI_PAUSED:(t=new emic.top.event.AdEvent).type=emic.top.event.AdEvent.ON_AD_VIDEO_PAUSE,t.data={},t.data.provider=emic.top.AdModule.PROVIDER_PBS_DPF,t.data.position=u,t.data.name=name=e.data.name,t.contentType=contentType=e.data.contentType,t.idMedia=l.mediaData.idTOP,this.dispatchEvent(t),v=y.STATUS_PAUSE,clearInterval(window.MM.intervalpublipausada),window.MM.intervalpublipausada=setInterval(function(){"visible"==document.visibilityState&&(clearInterval(window.MM.intervalpublipausada),s.resume())},1e3);break;case D.PUBLI_RESUMED:clearInterval(window.MM.intervalpublipausada),(t=new emic.top.event.AdEvent).type=emic.top.event.AdEvent.ON_AD_VIDEO_RESUME,t.data={},t.data.provider=emic.top.AdModule.PROVIDER_PBS_DPF,t.data.position=u,t.data.name=name=e.data.name,t.contentType=contentType=e.data.contentType,t.idMedia=l.mediaData.idTOP,this.dispatchEvent(t),v=y.STATUS_PLAY;break;case D.PUBLI_ENDED:clearInterval(window.MM.intervalpublipausada),d&&clearInterval(d),(t=new emic.top.event.AdEvent).type=emic.top.event.AdEvent.ON_AD_VIDEO_END,t.data={},t.data.provider=emic.top.AdModule.PROVIDER_PBS_DPF,t.data.position=u,t.data.name=e.data.name,t.contentType=e.data.contentType,t.idMedia=l.mediaData.idTOP,t.data.adRandomTime=""!=t.data.adRandomTime?l.adData.adRandomTime.replace("%position%",t.data.position):"",this.dispatchEvent(t),v=y.STATUS_STOP,emic.top.debug("...publi ended",h),0<h&&(l.mediaData.duration=h);break;case D.PUBLI_SKIPPED:clearInterval(window.MM.intervalpublipausada),d&&clearInterval(d),(t=new emic.top.event.AdEvent).type=emic.top.event.AdEvent.ON_AD_VIDEO_SKIP,t.data={},t.data.provider=emic.top.AdModule.PROVIDER_PBS_DPF,t.data.position=u,t.data.name=e.data.name,t.contentType=e.data.contentType,t.idMedia=l.mediaData.idTOP,t.data.adRandomTime=""!=t.data.adRandomTime?l.adData.adRandomTime.replace("%position%",t.data.position):"",this.dispatchEvent(t),emic.top.debug("...skip",h),0<h&&(l.mediaData.duration=h),v=y.STATUS_STOP;break;case D.PUBLI_ERROR:emic.top.debug("...error",h),(t=new emic.top.event.AdEvent).type=emic.top.event.AdEvent.ON_AD_ERROR,t.data=e.data,t.data.position=u,t.idMedia=l.mediaData.idTOP,u="",this.dispatchEvent(t),v=y.STATUS_STOP,0<h&&(l.mediaData.duration=h)}}var o,i,d,r,s=this,l=e,c=!1,m=!1,u="",p=!1,_={},E=!1,v="",h=0,D=emic.publicidad.events.PubliEvent,f=function(e,t){_=o.remainingTime(),ev=new emic.top.event.AdEvent,ev.type=emic.top.event.AdEvent.ON_AD_PROGRESS,ev.data={},ev.data.provider=emic.top.AdModule.PROVIDER_PBS_DPF,ev.data.position=u,ev.data.name=e,ev.contentType=t,ev.data.currentTime=_.currentTime,ev.data.totalTime=_.totalTime,ev.idMedia=l.mediaData.idTOP,this.dispatchEvent(ev)};this.init=function(){emic.top.debug("[AdModule.js][init]>> "),function(){var e;if(emic.top.debug("[AdModule.js][_init]>> Ready?: ",c),c){var t=new emic.top.event.AdEvent(emic.top.event.AdEvent.ON_READY);t.idMedia=l.mediaData.idTOP,this.dispatchEvent(t)}else o=new emic.publicidad.PubliManager,(this.manager=o).addEventListener(D.LOADING_AD_START,a,this),o.addEventListener(D.MANAGER_READY,a,this),o.addEventListener(D.CONTROLLER_LOADED,a,this),o.addEventListener(D.MANAGER_INIT_ERROR,a,this),o.addEventListener(D.PUBLI_STARTED,a,this),o.addEventListener(D.PUBLI_PAUSED,a,this),o.addEventListener(D.PUBLI_RESUMED,a,this),o.addEventListener(D.PUBLI_ENDED,a,this),o.addEventListener(D.PUBLI_SKIPPED,a,this),o.addEventListener(D.ALL_PUBLI_ENDED,a,this),o.addEventListener(D.PUBLI_LOADED,a,this),o.addEventListener(D.PUBLI_ERROR,a,this),o.addEventListener(D.CONTENT_PAUSE_REQUESTED,a,this),o.addEventListener(D.CONTENT_RESUME_REQUESTED,a,this),g(l.adData.conf),i=l.adData.conf,p=!0,e={urlConfPubli:i,width:l.genericData.width,height:l.genericData.height,objContentPublisher:l.internalData.mediaElement},emic.top.debug("[AdModule.js][_init]>> Solicitada inicializaciÃ³n del manager publicitario con: ",{container:l.adData.container,adObj:e,id:l.genericData.id,urlBase:l.genericData.urlBase}),o.start(l.adData.container,e,l.genericData.id,l.genericData.urlBase)}.apply(this)},this.kill=function(){emic.top.debug("[AdModule.js][kill]>> "),o&&o.kill(),d&&clearInterval(d),o=null,l.adData.container.innerHTML=""},this.close=function(){emic.top.debug("[AdModule.js][close]>> "),o&&(u="",E=!1,o.closeAd()),d&&clearInterval(d)},this.externalNotify=function(e,t,a){emic.top.debug("[AdModule.js][externalNotify]>> ",{type:e,data:t,id:a});var i=new emic.top.event.AdEvent(e);t&&(i.data=t),a&&(i.id=a),this.dispatchEvent(i)},this.notificaEstadoOn=function(e){var t,a;if(emic.top.debug("...... PEDIMOS PUBLI ---\x3e",l.mediaData.duration),h=l.mediaData.duration,emic.top.debug("[AdModule.js][notificaEstadoOn]>> ",e),c){function(){}