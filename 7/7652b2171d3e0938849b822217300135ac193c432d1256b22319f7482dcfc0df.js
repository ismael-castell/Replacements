function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _defineProperty2(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _typeof2(e){return(_typeof2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e){if(void 0===t)var t={};if(void 0===n)var n={};if(void 0===r)var r={};if(r.radio||(r.radio={}),r.plugin||(r.plugin={}),void 0===i)var i={};i.clock||(i.clock={}),function(){"use strict";function d(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function s(e,t,n,r,i,a){return d(function(e,t){return e<<t|e>>>32-t}(d(d(t,e),d(r,a)),i),n)}function p(e,t,n,r,i,a,o){return s(t&n|~t&r,e,t,i,a,o)}function f(e,t,n,r,i,a,o){return s(t&r|n&~r,e,t,i,a,o)}function h(e,t,n,r,i,a,o){return s(t^n^r,e,t,i,a,o)}function _(e,t,n,r,i,a,o){return s(n^(t|~r),e,t,i,a,o)}function c(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;var n,r,i,a,o,s=1732584193,c=-271733879,u=-1732584194,l=271733878;for(n=0;n<e.length;n+=16)c=_(c=_(c=_(c=_(c=h(c=h(c=h(c=h(c=f(c=f(c=f(c=f(c=p(c=p(c=p(c=p(i=c,u=p(a=u,l=p(o=l,s=p(r=s,c,u,l,e[n],7,-680876936),c,u,e[n+1],12,-389564586),s,c,e[n+2],17,606105819),l,s,e[n+3],22,-1044525330),u=p(u,l=p(l,s=p(s,c,u,l,e[n+4],7,-176418897),c,u,e[n+5],12,1200080426),s,c,e[n+6],17,-1473231341),l,s,e[n+7],22,-45705983),u=p(u,l=p(l,s=p(s,c,u,l,e[n+8],7,1770035416),c,u,e[n+9],12,-1958414417),s,c,e[n+10],17,-42063),l,s,e[n+11],22,-1990404162),u=p(u,l=p(l,s=p(s,c,u,l,e[n+12],7,1804603682),c,u,e[n+13],12,-40341101),s,c,e[n+14],17,-1502002290),l,s,e[n+15],22,1236535329),u=f(u,l=f(l,s=f(s,c,u,l,e[n+1],5,-165796510),c,u,e[n+6],9,-1069501632),s,c,e[n+11],14,643717713),l,s,e[n],20,-373897302),u=f(u,l=f(l,s=f(s,c,u,l,e[n+5],5,-701558691),c,u,e[n+10],9,38016083),s,c,e[n+15],14,-660478335),l,s,e[n+4],20,-405537848),u=f(u,l=f(l,s=f(s,c,u,l,e[n+9],5,568446438),c,u,e[n+14],9,-1019803690),s,c,e[n+3],14,-187363961),l,s,e[n+8],20,1163531501),u=f(u,l=f(l,s=f(s,c,u,l,e[n+13],5,-1444681467),c,u,e[n+2],9,-51403784),s,c,e[n+7],14,1735328473),l,s,e[n+12],20,-1926607734),u=h(u,l=h(l,s=h(s,c,u,l,e[n+5],4,-378558),c,u,e[n+8],11,-2022574463),s,c,e[n+11],16,1839030562),l,s,e[n+14],23,-35309556),u=h(u,l=h(l,s=h(s,c,u,l,e[n+1],4,-1530992060),c,u,e[n+4],11,1272893353),s,c,e[n+7],16,-155497632),l,s,e[n+10],23,-1094730640),u=h(u,l=h(l,s=h(s,c,u,l,e[n+13],4,681279174),c,u,e[n],11,-358537222),s,c,e[n+3],16,-722521979),l,s,e[n+6],23,76029189),u=h(u,l=h(l,s=h(s,c,u,l,e[n+9],4,-640364487),c,u,e[n+12],11,-421815835),s,c,e[n+15],16,530742520),l,s,e[n+2],23,-995338651),u=_(u,l=_(l,s=_(s,c,u,l,e[n],6,-198630844),c,u,e[n+7],10,1126891415),s,c,e[n+14],15,-1416354905),l,s,e[n+5],21,-57434055),u=_(u,l=_(l,s=_(s,c,u,l,e[n+12],6,1700485571),c,u,e[n+3],10,-1894986606),s,c,e[n+10],15,-1051523),l,s,e[n+1],21,-2054922799),u=_(u,l=_(l,s=_(s,c,u,l,e[n+8],6,1873313359),c,u,e[n+15],10,-30611744),s,c,e[n+6],15,-1560198380),l,s,e[n+13],21,1309151649),u=_(u,l=_(l,s=_(s,c,u,l,e[n+4],6,-145523070),c,u,e[n+11],10,-1120210379),s,c,e[n+2],15,718787259),l,s,e[n+9],21,-343485551),s=d(s,r),c=d(c,i),u=d(u,a),l=d(l,o);return[s,c,u,l]}function u(e){var t,n="";for(t=0;t<32*e.length;t+=8)n+=String.fromCharCode(e[t>>5]>>>t%32&255);return n}function l(e){var t,n=[];for(n[(e.length>>2)-1]=void 0,t=0;t<n.length;t+=1)n[t]=0;for(t=0;t<8*e.length;t+=8)n[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return n}function r(e){var t,n,r="0123456789abcdef",i="";for(n=0;n<e.length;n+=1)t=e.charCodeAt(n),i+=r.charAt(t>>>4&15)+r.charAt(15&t);return i}function n(e){return unescape(encodeURIComponent(e))}function i(e){return function(e){return u(c(l(e),8*e.length))}(n(e))}function a(e,t){return function(e,t){var n,r,i=l(e),a=[],o=[];for(a[15]=o[15]=void 0,16<i.length&&(i=c(i,8*e.length)),n=0;n<16;n+=1)a[n]=909522486^i[n],o[n]=1549556828^i[n];return r=c(a.concat(l(t)),512+8*t.length),u(c(o.concat(r),640))}(n(e),n(t))}t.md5=function(e,t,n){return t?n?a(t,e):function(e,t){return r(a(e,t))}(t,e):n?i(e):function(e){return r(i(e))}(e)}}(),function(){"use strict";var e={startsWith:function(e,t){return 0==e.indexOf(t)}};t.StringUtils=e}(),function(){"use strict";var i={clone:function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},merge:function(e,t){var n=i.clone(e);for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);return n}};t.ObjectUtils=i}(),function(e){"use strict";function t(e,t,n){this.fn=e,this.ctx=t,this.params=n}t.prototype.run=function(){this.params?this.fn.apply(this.ctx,this.params):this.fn.apply(this.ctx)},e.radio.Command=t}(r),function(e){"use strict";function t(e,t){this._queue=[],this._lastTs=0,this._isSuspended=void 0!==e&&e,this._delay=void 0!==t?t:0}t.prototype.addCommand=function(e){this._queue.push(e),this._drain()},t.prototype.cancelAllCommands=function(){this._queue=[]},t.prototype.isEmpty=function(){return 0===this._queue.length},t.prototype.suspend=function(){this._isSuspended=!0},t.prototype.resume=function(){this._isSuspended=!1,this._drain()},t.prototype.flush=function(){this._isSuspended=!1;for(var e=0;e<this._queue.length;e++){this._queue[e].run()}this._queue=[]},t.prototype._drain=function(){if(!this._isSuspended&&!this._drainInProgress){this._drainInProgress=!0;var n=this;!function e(){var t=n._queue.shift();t?n._runCommand(t,function(){n._isSuspended||e()}):n._drainInProgress=!1}()}},t.prototype._runCommand=function(e,t){function n(){e.run(),null!=t&&t.call(r)}var r=this;if(0==this._lastTs)n();else{var i=(new Date).getTime(),a=i-this._lastTs;this._lastTs=i,a<this._delay?setTimeout(n,this._delay-a):n()}},e.radio.CommandQueue=t}(r),function(e){"use strict";function o(e,t){if(this._name=e,!t)throw new Error("Reference to the logger object cannot be NULL");this._logger=t,this._listeners={},this._requests={},this._commands={},this._isShutDown=!1}function a(e,t){if(e===t)return!0;for(var n=(e||"").split(o.SEPARATOR),r=(t||"").split(o.SEPARATOR),i=!0,a=0;a<n.length;a++)i=i&&(n[a]===o.WILDCARD||n[a]===r[a]);return i}o.WILDCARD="*",o.SEPARATOR=":",o.prototype.toString=function(){return"<channel: "+this._name+">"},o.prototype.shutdown=function(){this._isShutDown||(this._logger.debug(r,"#shutdown > Shutting down"),this.off(),this._requests={},this._commands={},this._isShutDown=!0)},o.prototype.on=function(e,t,n){this._isShutDown||(this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push({fn:t,ctx:n}))},o.prototype.off=function(e,t,n){if(!this._isShutDown){if(t="function"==typeof t?t:null,!e&&null==t&&!n)return void(this._listeners={});if(e)this._removeListener(e,t,n);else for(e in this._listeners)this._listeners.hasOwnProperty(e)&&this._removeListener(e,t,n)}},o.prototype.trigger=function(e){if(!this._isShutDown)for(var t in this._listeners)if(this._listeners.hasOwnProperty(t)&&a(t,e.name))for(var n=this._listeners[t].slice(0),r=0;r<n.length;r++){var i=n[r];i.fn.call(i.ctx,e)}},o.prototype.comply=function(e,t,n){this._isShutDown||(this._commands[e]={cmd:t,ctx:n})},o.prototype.command=function(e,t){if(!this._isShutDown){var n=this._commands[e];return n?void n.cmd.call(n.ctx,t):void this._logger.warn(r,"#command > No command handler for: "+e)}},o.prototype.reply=function(e,t,n){this._isShutDown||(this._requests[e]={fn:t,ctx:n})},o.prototype.request=function(e){if(!this._isShutDown){var t=this._requests[e];return t?t.fn.call(t.ctx):(this._logger.warn(r,"#request > No request handler for: "+e),null)}},o.prototype._removeListener=function(e,t,n){t="function"==typeof t?t:null;var r=this._listeners[e];if(r){if(!r.length||null==t&&!n)return void delete this._listeners[e];for(var i=0;i<r.length;i++){var a=r[i];null!==t&&t!==a.fn||n&&n!==a.ctx||this._listeners[e].splice(i,1)}}};var r="radio::Channel";e.radio.Channel=o}(r),function(e){"use strict";function t(e){if(!e)throw new Error("Reference to the logger object cannot be NULL");this._logger=e,this._channels={}}var n=e.radio.Channel;t.prototype.channel=function(e){return this._channels[e]||(this._channels[e]=new n(e,this._logger)),this._channels[e]},t.prototype.shutdown=function(){for(var e in this._channels)this._channels.hasOwnProperty(e)&&this._channels[e].shutdown()},e.radio.Radio=t}(r),function(){"use strict";r.extend=function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e}}(),function(e){"use strict";function t(){}t.prototype.write=function(e){throw new Error("Implementation error: Method must be overridden.")},e.ILogWriter=t}(r),function(e){"use strict";function t(){}t.prototype.write=function(e){window.console&&window.console.log&&window.console.log(e)},e.LogWriter=t}(r),function(e){"use strict";function t(){}t.prototype.setLogWriter=function(e){throw new Error("Implementation error: Method must be overridden.")},t.prototype.getLogWriter=function(){throw new Error("Implementation error: Method must be overridden.")},t.prototype.getEnabled=function(){throw new Error("Implementation error: Method must be overridden.")},t.prototype.enable=function(){throw new Error("Implementation error: Method must be overridden.")},t.prototype.disable=function(){throw new Error("Implementation error: Method must be overridden.")},t.prototype.debug=function(e,t){throw new Error("Implementation error: Method must be overridden.")},t.prototype.info=function(e,t){throw new Error("Implementation error: Method must be overridden.")},t.prototype.warn=function(e,t){throw new Error("Implementation error: Method must be overridden.")},t.prototype.error=function(e,t){throw new Error("Implementation error: Method must be overridden.")},e.ILogger=t}(r),function(e){"use strict";function t(){this._logWriter=new n}var n=e.LogWriter;t.prototype.setLogWriter=function(e){if(!e)throw new Error("Reference to the ILogWriter object cannot be NULL");this._logWriter=e,this._enabled=!1},t.prototype.getLogWriter=function(){return this._logWriter},t.prototype.getEnabled=function(){return this._enabled},t.prototype.enable=function(){this._enabled=!0},t.prototype.disable=function(){this._enabled=!1},t.prototype.debug=function(e,t){this._log(e,i,t)},t.prototype.info=function(e,t){this._log(e,r,t)},t.prototype.warn=function(e,t){this._log(e,a,t)},t.prototype.error=function(e,t){this._log(e,o,t)},t.prototype._log=function(e,t,n){if(t==o||this._enabled){var r="",i=new Date;r+="["+i.toTimeString()+"."+function(e){return e<10?"00"+e:e<100?"0"+e:""+e}(i.getMilliseconds())+"] ["+t+"] ",r+="["+e+"] "+n,this._logWriter.write(r)}};var r="INFO",i="DEBUG",a="WARN",o="ERROR";e.Logger=t}(r),function(e){"use strict";function t(e,t){this._pluginName=e,this._eventName=t}var n=e.radio.Channel;t.prototype.getPluginName=function(){return this._pluginName},t.prototype.getEventName=function(){return this._eventName},t.prototype.getName=function(){return this._pluginName+n.SEPARATOR+this._eventName},e.Trigger=t}(r),function(e){"use strict";function t(e,t){this.name=e,this.data=t}t.SUCCESS="success",t.ERROR="error",t.createFromTrigger=function(e){return new t(e.getName())},e.Event=t}(r),function(e){"use strict";function t(){this._events={}}t.prototype.addEventListener=function(e,t,n){e&&t&&(n=n||window,this._events[e]=this._events[e]||[],this._events[e].push({cb:t,ctx:n}))},t.prototype.removeEventListener=function(e,t,n){if(e&&t){n=n||window;var r,i,a=!1;for(i in this._events)if(e===i){a=!0;break}if(a){for(r=this._events[i].length-1;0<=r;r--){var o=this._events[i][r];t===o.cb&&n===o.ctx&&this._events[i].splice(r,1)}this._events[i].length||delete this._events[i]}}},t.prototype.dispatchEvent=function(e){var t,n;if(e.name)for(t in this._events)if(this._events.hasOwnProperty(t)&&e.name===t){var r=this._events[t].slice(0),i=r.length;for(n=0;n<i;n++)r[n].cb.call(r[n].ctx,e);break}},t.prototype.removeAllListeners=function(e){var t,n;if(e){for(n in this._events)if(this._events.hasOwnProperty(n)){for(t=this._events[n].length-1;0<=t;t--){this._events[n][t].ctx===e&&this._events[n].splice(t,1)}this._events[n].length||delete this._events[n]}}else this._events={}},e.EventDispatcher=t}(r),function(e){"use strict";function t(){}function a(){a.__super__.constructor.call(this),this._connection=null}var o=e.Event,n=e.EventDispatcher;t.GET="GET",a.RESPONSE="response",a.INSTANCE="instance",e.extend(a,n),a.prototype.close=function(){this.removeAllListeners(null)},a.prototype.load=function(e){e&&e.method&&e.url&&(e._xmlhttp=this._createCORSRequest(e),e._xmlhttp?e._xmlhttp.send():this._loadImage(e))},a.prototype._createCORSRequest=function(e){var t=null;if(void 0!==window.XMLHttpRequest){var n=new window.XMLHttpRequest;"withCredentials"in n&&(t=n).open(e.method,e.url,!0)}if(null==t&&void 0!==window.XDomainRequest&&(t=new window.XDomainRequest).open(e.method,e.url),t){var r={},i=r[a.INSTANCE]=this;t.onload=function(){return t.status&&400<=parseInt(t.status,10)?this.onerror():(r[a.RESPONSE]=t.responseText,void i.dispatchEvent(new o(o.SUCCESS,r)))},t.onerror=function(){i.dispatchEvent(new o(o.ERROR,r))}}return t},a.prototype._loadImage=function(e){this._connection||(this._connection=new Image,this._connection.alt=""),this._connection.src=e.url;var t={};t[a.RESPONSE]="",(t[a.INSTANCE]=this).dispatchEvent(new o(o.SUCCESS,t))},e.URLRequestMethod=t,e.URLRequest=function(e,t){this.url=e||null,this.method=t,this._xmlhttp=null},e.URLLoader=a}(r),function(){"use strict";var t="2.0.2.123",e={getVersion:function(){return"js-"+t+"-150f2b"},getMajor:function(){return e.getNumberAtPosition(0)},getMinor:function(){return e.getNumberAtPosition(1)},getMicro:function(){return e.getNumberAtPosition(2)},getPatch:function(){return e.getNumberAtPosition(3)},getBuild:function(){return"150f2b"},getApiLevel:function(){return 4},getNumberAtPosition:function(e){return t.split(".")[e]}};n.Version=e}(),function(e){"use strict";function t(e,t){this._message=e,this._details=t}t.prototype.getMessage=function(){return this._message},t.prototype.getDetails=function(){return this._details},e.ErrorInfo=t}(n),function(){"use strict";n.HeartbeatConfig=function(){this.debugLogging=!1}}(),function(e){"use strict";function t(){}t.prototype.onError=function(e){},e.HeartbeatDelegate=t}(n),function(e){"use strict";function t(){}t.prototype.configure=function(e){throw new Error("Implementation error: Method must be overridden.")},t.prototype.bootstrap=function(e){throw new Error("Implementation error: Method must be overridden.")},t.prototype.setup=function(){throw new Error("Implementation error: Method must be overridden.")},t.prototype.destroy=function(){throw new Error("Implementation error: Method must be overridden.")},t.prototype.enable=function(){throw new Error("Implementation error: Method must be overridden.")},t.prototype.disable=function(){throw new Error("Implementation error: Method must be overridden.")},t.prototype.getName=function(){throw new Error("Implementation error: Method must be overridden.")},t.prototype.isInitialized=function(){throw new Error("Implementation error: Method must be overridden.")},t.prototype.resolveData=function(e){throw new Error("Implementation error: Method must be overridden.")},e.plugin.IPlugin=t}(r),function(e){"use strict";function t(e,t,n,r){this.trigger=e,this.action=n,this.plugin=t,this._paramMappings={},this.mergeParams(r)}var r=e.plugin.ParamMapping;t.prototype.mergeParams=function(e){if(e)for(var t=0;t<e.length;t++){var n=e[t];this._paramMappings[n.getKeyName()]=n}},t.prototype.getParams=function(){var e=[];for(var t in this._paramMappings)this._paramMappings.hasOwnProperty(t)&&e.push(this._paramMappings[t]);return e},t.prototype.addParam=function(e){this._paramMappings[e.getKeyName()]=e},t.prototype.removeParam=function(e,t){var n=new r(e,t);this._paramMappings.hasOwnProperty(n.getKeyName())&&delete this._paramMappings[n.getKeyName()]},e.plugin.Behaviour=t}(r),function(e){"use strict";function t(e,t,n){this._pluginName=e,this._key=t,this._paramName=n||e+r.SEPARATOR+t}var r=e.radio.Channel;t.prototype.getPluginName=function(){return this._pluginName},t.prototype.getKey=function(){return this._key},t.prototype.getKeyName=function(){return this._pluginName+r.SEPARATOR+this._key},t.prototype.getParamName=function(){return this._paramName},e.plugin.ParamMapping=t}(r),function(e){"use strict";function n(e){if(!e)throw new Error("Reference to the logger object cannot be NULL");this._logger=e,this._plugins={},this._behaviours={},this._radio=new t(this._logger),this._dataChannel=this._radio.channel(i),this._ctrlChannel=this._radio.channel(s)}var r=e.Event,t=e.radio.Radio,a=e.radio.Channel,o=e.plugin.Behaviour;n.ERROR="error",n.prototype.addPlugin=function(e){var t=e.getName();this._plugins[t]&&this._logger.warn(c,"#addPlugin > Replacing plugin: "+t),(this._plugins[t]=e).bootstrap(this)},n.prototype.setupPlugins=function(){for(var e in this._plugins)this._plugins.hasOwnProperty(e)&&this._plugins[e].setup()},n.prototype.pluginExists=function(e){return!!this._plugins[e]},n.prototype.isPluginInitialized=function(e){return this._plugins[e]&&this._plugins[e].isInitialized()},n.prototype.on=function(e,t,n,r){this._dataChannel.on(e+a.SEPARATOR+t,n,r)},n.prototype.off=function(e,t,n,r){var i=e&&t?e+a.SEPARATOR+t:null;this._dataChannel.off(i,n,r)},n.prototype.trigger=function(e){var t=e.name,n=this._behaviours[t];if(n){var r,i,a,o,s,c={},u={};for(r=0;r<n.length;r++)if(o=(a=n[r]).getParams())for(i=0;i<o.length;i++)c[(s=o[i]).getPluginName()]=c[s.getPluginName()]||[],s.key in c[s.getPluginName()]||c[s.getPluginName()].push(s.getKey());for(var l in c)c.hasOwnProperty(l)&&(u[l]=this.request(l,c[l]));for(r=0;r<n.length;r++){var d={_behaviour:a=n[r],_eventData:e.data||{}};if(o=a.getParams()){for(i=0;i<o.length;i++)d[(s=o[i]).getParamName()]=u[s.getPluginName()]?u[s.getPluginName()][s.getKey()]:null;this.command(a.plugin.getName(),a.action,d)}}}this._dataChannel.trigger(e)},n.prototype.request=function(e,t){var n=this._plugins[e];return n&&t&&0!=t.length?n.resolveData(t):null},n.prototype.raise=function(e){this._errorInfo=e;var t=new r(n.ERROR,e);this._ctrlChannel.trigger(t)},n.prototype.getErrorInfo=function(){return this._errorInfo},n.prototype.destroy=function(){for(var e in this._radio.shutdown(),this._plugins)this._plugins.hasOwnProperty(e)&&this._plugins[e].destroy()},n.prototype.comply=function(e,t,n){this._dataChannel.comply(e.getName()+a.SEPARATOR+t,n,e)},n.prototype.command=function(e,t,n){this._dataChannel.command(e+a.SEPARATOR+t,n)},n.prototype.registerBehaviour=function(e,t,n,r){var i=e.getName(),a=new o(e,t,n,r);this._behaviours[i]=this._behaviours[i]||[],this._behaviours[i].push(a)};var i="data_channel",s="ctrl_channel",c="plugin::PluginManager";e.plugin.PluginManager=n}(r),function(e,t){"use strict";function n(e){this._name=e,this._isInitialized=!1,this._isDestroyed=!1,this._isEnabled=!0,this._dataResolver={},this._logTag="plugin::"+this.getName(),this._logger=new r}var r=e.Logger,i=e.Trigger,a=e.Event,o=t.ErrorInfo;n.INITIALIZED="initialized",n.prototype.configure=function(e){},n.prototype.bootstrap=function(e){this._pluginManager=e,this._isDestroyed&&this._pluginManager.raise(new o("Invalid state.","Plugin already destroyed."))},n.prototype.setup=function(){this._trigger(n.INITIALIZED),this._isInitialized=!0},n.prototype.destroy=function(){this._isDestroyed||(this._isDestroyed=!0,this._teardown())},n.prototype.enable=function(){this._isEnabled=!0,this._enabled()},n.prototype.disable=function(){this._isEnabled=!1,this._disabled()},n.prototype.getName=function(){return this._name},n.prototype.getLogger=function(){return this._logger},n.prototype.isInitialized=function(){return this._isInitialized},n.prototype.resolveData=function(e){if(!this._isEnabled||!this._isInitialized)return this._logger.warn(this._logTag,"Unable to retrieve plugin data. Plugin: "+this._name+". Enabled: "+this._isEnabled+". Initialized: "+this._isInitialized+"."),null;if("function"==typeof this._dataResolver)return this._dataResolver.call(this,e);var t=null;if(e)for(var n=0;n<e.length;n++){var r=e[n];this._dataResolver.hasOwnProperty(r)&&(t=t||{},"function"==typeof this._dataResolver[r]?t[r]=this._dataResolver[r].call(this):t[r]=this._dataResolver[r])}return t},n.prototype.toString=function(){return"<plugin: "+this._name+">"},n.prototype._enabled=function(){},n.prototype._disabled=function(){},n.prototype._teardown=function(){},n.prototype._canProcess=function(){return this._isEnabled?!this._isDestroyed||(this._logger.error(this._logTag,"Plugin destroyed."),!1):(this._logger.error(this._logTag,"Plugin disabled."),!1)},n.prototype._trigger=function(e,t){var n=a.createFromTrigger(new i(this.getName(),e));n.data=t,this._pluginManager.trigger(n)},e.plugin.BasePlugin=n}(r,n),function(e){"use strict";function r(e,t,n){this.name=e,this.interval=t,this.isActive=!1,this.repeatCount=void 0!==n?n:a,this._nextTickTimestamp=0,this.reset()}function t(e,t){if(!e)throw new Error("Reference to the ClockService object cannot be NULL");if(this._service=e,!t)throw new Error("Reference to the logger object cannot be NULL");this._logger=t,this._isDestroyed=!1,this._timers={};var n=this;this._clock=window.setInterval(function(){n._onTick()},1e3*o)}r.prototype.reset=function(){this.tick=0,this._createdTimestamp=(new Date).getTime(),this._updateNextTickTimestamp()},r.prototype.shouldTick=function(){return(new Date).getTime()>this._nextTickTimestamp-o/2&&(this.tick++,this._updateNextTickTimestamp(),!0)},r.prototype._updateNextTickTimestamp=function(){this._nextTickTimestamp=this._createdTimestamp+1e3*this.interval*(this.tick+1)},t.prototype.createTimer=function(e,t,n){this._timers[e]=new r(e,t,n)},t.prototype.destroyTimer=function(e){delete this._timers[e]},t.prototype.resumeTimer=function(e,t){t=void 0!==t&&t,this._logger.debug(i,"#resumeTimer(name="+e+", reset="+t+")");var n=this._timers[e];n&&(n.isActive=!0,t&&n.reset())},t.prototype.pauseTimer=function(e,t){t=void 0!==t&&t,this._logger.debug(i,"#pauseTimer(name="+e+", reset="+t+")");var n=this._timers[e];n&&(n.isActive=!1,t&&n.reset())},t.prototype.isTimerPaused=function(e){var t=this._timers[e];return!!t&&!t.isActive},t.prototype.destroy=function(){this._isDestroyed||(this._isDestroyed=!0,this._timers={},window.clearInterval(this._clock))},t.prototype._onTick=function(){for(var e in this._timers)if(this._timers.hasOwnProperty(e)){var t=this._timers[e];t.isActive&&t.shouldTick()&&(1<t.interval&&this._logger.debug(i,"#_onTick() > "+t.name+"("+t.tick+" | "+t.repeatCount+")"),0!=t.repeatCount?(this._service.onTick(t.name,t.interval,t.tick),t.repeatCount!=a&&t.repeatCount--):this.destroyTimer(t.name))}};var i="service.clock::TimerManager",a=-1,o=.25;e.clock.TimerDescriptor=r,e.clock.TimerManager=t}(i),function(e,t,n){"use strict";function r(e){if(r.__super__.constructor.call(this,s),!e)throw new Error("Reference to the logger object cannot be NULL");this._logger=e,this._timerManager=new i(this,this._logger),this._setupDataResolver()}var i=n.clock.TimerManager,o=t.StringUtils,a=e.plugin.BasePlugin;e.extend(r,a),r.prototype.bootstrap=function(e){r.__super__.bootstrap.call(this,e),this._pluginManager.comply(this,c,this._cmdCreate),this._pluginManager.comply(this,l,this._cmdResume),this._pluginManager.comply(this,u,this._cmdPause),this._pluginManager.comply(this,d,this._cmdDestroy)},r.prototype._teardown=function(){this._timerManager.destroy()},r.prototype._cmdCreate=function(e){var t=e[h]||v;this._timerManager.createTimer(e[p],e[f],t)},r.prototype._cmdPause=function(e){this._timerManager.pauseTimer(e[p],!!e[g])},r.prototype._cmdResume=function(e){this._timerManager.resumeTimer(e[p],!!e[g])},r.prototype._cmdDestroy=function(e){this._timerManager.destroyTimer(e[p])},r.prototype.onTick=function(e,t,n){e+=".tick";var r={};r[p]=e,r[f]=t,r[_]=n,this._trigger(e,r)},r.prototype._setupDataResolver=function(){var a={},t=this._timerManager;a[m]=function(e){return t.isTimerPaused(e)},this._dataResolver=function(e){if(!e||0==e.length)return null;for(var t=null,n=0;n<e.length;n++){var r=e[n];if(t=t||{},o.startsWith(r,m)){var i=r.split(m+".");0<i.length&&(t[r]=a[m].call(this,i[1]))}}return t}};var s="service.clock",c="create",u="pause",l="resume",d="destroy",p="name",f="interval",h="repeat_count",_="tick",g="reset",m="is_paused",v=-1;n.clock.ClockService=r}(r,t,i),function(e,t,n){"use strict";function r(e,t){if(this._logger=new i,this._pluginManager=new a(this._logger),this._pluginManager.addPlugin(new o(this._logger)),t)for(var n=0;n<t.length;n++)this._pluginManager.addPlugin(t[n]);this._pluginManager.setupPlugins(),this._isDestroyed=!1}var i=e.Logger,a=e.plugin.PluginManager,o=t.clock.ClockService;r.prototype.configure=function(e){if(!e)throw new Error("Configuration object cannot be NULL.");e.debugLogging?this._logger.enable():this._logger.disable(),this._isDestroyed&&this._logger.error(s,"Instance is destroyed.")},r.prototype.destroy=function(){this._isDestroyed||(this._pluginManager.destroy(),this._isDestroyed=!0)};var s="Heartbeat";n.Heartbeat=r}(r,i,n),e.ADB||(e.ADB={}),e.ADB.core||(e.ADB.core=r),e.ADB.va||(e.ADB.va=n),e.ADB.va.utils||(e.ADB.va.utils=t),e.ADB.va.plugins||(e.ADB.va.plugins={})}(this),function(e){if(void 0===t)var t={};!function(){"use strict";var e={ASSET_TYPE_VOD:"vod",ASSET_TYPE_LIVE:"live",ASSET_TYPE_LINEAR:"linear"};t.AssetType=e}(),function(e){"use strict";function t(){this.playerName=null,this.name=null,this.position=null,this.startTime=null}t.prototype.toString=function(){return"playerName="+this.playerName+", name="+this.name+", position="+this.position+", startTime="+this.startTime},e.AdBreakInfo=t}(t),function(e){"use strict";function t(){this.id=null,this.name=null,this.length=null,this.position=null}t.prototype.toString=function(){return"id="+this.id+", name="+this.name+", length="+this.length+", position="+this.position},e.AdInfo=t}(t),function(e){"use strict";function t(){this.name=null,this.length=null,this.position=null,this.startTime=null}t.prototype.toString=function(){return"name="+this.name+", length="+this.length+", position="+this.position+", startTime="+this.startTime},e.ChapterInfo=t}(t),function(e){"use strict";function t(){this.bitrate=null,this.fps=null,this.droppedFrames=null,this.startupTime=null}t.prototype.toString=function(){return"bitrate="+this.bitrate+", fps="+this.fps+", droppedFrames="+this.droppedFrames+", startupTime="+this.startupTime},e.QoSInfo=t}(t),function(e){"use strict";function t(){this.playerName=null,this.id=null,this.name=null,this.length=null,this.playhead=null,this.streamType=null,this.resumed=!1}t.prototype.toString=function(){return"playerName="+this.playerName+", id="+this.id+", name="+this.name+", length="+this.length+", playhead="+this.playhead+", streamType="+this.streamType+", resumed="+this.resumed},e.VideoInfo=t}(t),function(){"use strict";t.VideoPlayerPluginConfig=function(){this.debugLogging=!1}}(),function(e){"use strict";function t(){}t.prototype.getVideoInfo=function(){throw new Error("Implementation error: Method must be overridden.")},t.prototype.getAdBreakInfo=function(){return null},t.prototype.getAdInfo=function(){return null},t.prototype.getChapterInfo=function(){return null},t.prototype.getQoSInfo=function(){return null},e.VideoPlayerPluginDelegate=t}(t),function(e,t){"use strict";function n(e){if(n.__super__.constructor.call(this,s),!e)throw new Error("PlayerPlugin delegate cannot be NULL.");this._delegate=e,this._isTrackingSessionActive=!1,this._isTrackingSessionStarted=!1,this._isTrackingAd=!1,this._playheadTimer=null,this._previousPlayhead=-1,this._stalledPlayheadCount=0,this._playheadStalled=!1,this._videoIdle=!1,this._setupDataResolver()}var r=e.plugin.ParamMapping,i=e.Trigger,a=e.plugin.BasePlugin,o=t.VideoPlayerPluginConfig;e.extend(n,a),n.prototype.configure=function(e){if(!e)throw new Error("Reference to the configuration data cannot be NULL.");if(!(e instanceof o))throw new Error("Expected config data to be instance of VideoPlayerPluginConfig.");e.debugLogging?this._logger.enable():this._logger.disable(),this._logger.debug(this._logTag,"#configure(debugLogging="+e.debugLogging+")")},n.prototype.bootstrap=function(e){n.__super__.bootstrap.call(this,e),this._registerCommands(),this._registerBehaviours()},n.prototype._cmdVideoIdleStart=function(e){this._logger.info(this._logTag,"#_cmdVideoIdleStart()"),this._videoIdle=!0},n.prototype._cmdVideoIdleResume=function(e){this._logger.info(this._logTag,"#_cmdVideoIdleResume()"),this._videoIdle&&(this._trigger(h),this._trigger(_),e.isInChapter&&this._trigger(I),e.isInAd&&(this._trigger(y),this._isTrackingAd=!0)),this._videoIdle=!1},n.prototype.trackSessionStart=function(){if(this._logger.info(this._logTag,"#trackSessionStart()"),this._canProcess()){if(!this._isTrackingSessionActive)return void this._logger.warn(this._logTag,"#trackSessionStart() > No active tracking session.");if(this._isTrackingSessionStarted)return void this._logger.info(this._logTag,"#trackSessionStart() > Tracking session already started.");this._trigger(h),this._isTrackingSessionStarted=!0;var e=this._dataResolver(["video.resumed"]);e.hasOwnProperty("video.resumed")&&e["video.resumed"]&&this._trigger(_)}},n.prototype.trackVideoLoad=function(){this._logger.info(this._logTag,"#trackVideoLoad()"),this._canProcess()&&(this._trigger(p),this._isTrackingSessionActive=!0,this._isTrackingSessionStarted=!1)},n.prototype.trackVideoUnload=function(){if(this._logger.info(this._logTag,"#trackVideoUnload()"),this._canProcess()){if(!this._isTrackingSessionActive)return void this._logger.warn(this._logTag,"#trackVideoUnload() > No active tracking session.");this._stopPlayheadTimer(),this._trigger(f),this._isTrackingSessionActive=!1,this._isTrackingSessionStarted=!1,this._videoIdle=!1}},n.prototype.trackPlay=function(){this._logger.info(this._logTag,"#trackPlay()"),this._canProcess()&&this._startSessionIfNeeded("trackPlay")&&(this._trigger(v),this._startPlayheadTimer())},n.prototype.trackPause=function(){if(this._logger.info(this._logTag,"#trackPause()"),this._canProcess()&&this._startSessionIfNeeded("trackPause")){this._stopPlayheadTimer();var e={};e[L]=!1,this._trigger(C,e)}},n.prototype.trackBufferStart=function(){this._logger.info(this._logTag,"#trackBufferStart()"),this._canProcess()&&this._startSessionIfNeeded("trackBufferStart")&&(this._stopPlayheadTimer(),this._trigger(b))},n.prototype.trackBufferComplete=function(){this._logger.info(this._logTag,"#trackBufferComplete()"),this._canProcess()&&this._startSessionIfNeeded("trackBufferComplete")&&(this._trigger(P),this._startPlayheadTimer())},n.prototype.trackSeekStart=function(){this._logger.info(this._logTag,"#trackSeekStart()"),this._canProcess()&&this._startSessionIfNeeded("trackSeekStart")&&(this._stopPlayheadTimer(),this._trigger(S))},n.prototype.trackSeekComplete=function(){if(this._logger.info(this._logTag,"#trackSeekComplete()"),this._canProcess()&&this._startSessionIfNeeded("trackSeekComplete")){this._trigger(w),this._startPlayheadTimer();var e=this._dataResolver(["ad.isInAd"]);this._isTrackingAd=e.hasOwnProperty("ad.isInAd")&&e["ad.isInAd"]}},n.prototype.trackComplete=function(e){if(this._logger.info(this._logTag,"#trackComplete()"),this._canProcess()&&this._startSessionIfNeeded("trackComplete")){var t={};t[O]=e,this._stopPlayheadTimer(),this._trigger(g,t)}},n.prototype.trackTimedMetadata=function(e){this._logger.info(this._logTag,"#trackComplete()"),this._canProcess()&&this._startSessionIfNeeded("trackTimedMetadata")&&this._trigger(m,e)},n.prototype.trackChapterStart=function(){this._logger.info(this._logTag,"#trackChapterStart()"),this._canProcess()&&this._startSessionIfNeeded("#trackChapterStart")&&this._trigger(I)},n.prototype.trackChapterComplete=function(){this._logger.info(this._logTag,"trackChapterComplete()"),this._canProcess()&&this._startSessionIfNeeded("trackChapterComplete")&&this._trigger(E)},n.prototype.trackAdStart=function(){this._logger.info(this._logTag,"#trackAdStart()"),this._canProcess()&&this._startSessionIfNeeded("trackAdStart")&&(this._trigger(y),this._isTrackingAd=!0)},n.prototype.trackAdComplete=function(){this._logger.info(this._logTag,"#trackAdComplete()"),this._canProcess()&&this._startSessionIfNeeded("trackAdComplete")&&(this._trigger(A),this._isTrackingAd=!1)},n.prototype.trackBitrateChange=function(){this._logger.info(this._logTag,"#trackBitrateChange()"),this._canProcess()&&this._startSessionIfNeeded("trackBitrateChange")&&this._trigger(T)},n.prototype.trackVideoPlayerError=function(e){if(this._logger.info(this._logTag,"#trackVideoPlayerError(errorId="+e+")"),this._startSessionIfNeeded("trackVideoPlayerError")){var t={};t[B]=d,t[M]=e,this._trigger(D,t)}},n.prototype.trackApplicationError=function(e){if(this._logger.info(this._logTag,"#trackApplicationError(errorId="+e+")"),this._startSessionIfNeeded("trackApplicationError")){var t={};t[B]=l,t[M]=e,this._trigger(D,t)}},n.prototype._registerCommands=function(){this._pluginManager.comply(this,"handleVideoIdleStart",this._cmdVideoIdleStart),this._pluginManager.comply(this,"handleVideoIdleResume",this._cmdVideoIdleResume)},n.prototype._registerBehaviours=function(){this._pluginManager.registerBehaviour(new i(u,k),this,"handleVideoIdleStart"),this._pluginManager.registerBehaviour(new i(u,N),this,"handleVideoIdleResume",[new r(c,"ad.isInAd","isInAd"),new r(c,"chapter.isInChapter","isInChapter")])},n.prototype._setupDataResolver=function(){function n(){return c.video||(c.video=u._delegate.getVideoInfo(),u._logger.info(u._logTag,"Data from delegate > VideoInfo: "+c.video)),c.video}function r(){return c.ad||(c.ad=u._delegate.getAdInfo(),u._logger.info(u._logTag,"Data from delegate > AdInfo: "+c.ad)),c.ad}function i(){return c.pod||(c.pod=u._delegate.getAdBreakInfo(),u._logger.info(u._logTag,"Data from delegate > AdBreakInfo: "+c.pod)),c.pod}function a(){return c.chapter||(c.chapter=u._delegate.getChapterInfo(),u._logger.info(u._logTag,"Data from delegate > ChapterInfo: "+c.chapter)),c.chapter}function o(){return c.qos||(c.qos=u._delegate.getQoSInfo(),u._logger.info(u._logTag,"Data from delegate > QoSInfo: "+c.qos)),c.qos}var s={},c={},u=this;s["video.id"]=function(){var e=n(),t=e?e.id:null;return u._logger.debug(u._logTag,"Resolving video.id: "+t),t},s["video.name"]=function(){var e=n(),t=e?e.name:null;return u._logger.debug(u._logTag,"Resolving video.name: "+t),t},s["video.length"]=function(){var e=n(),t=e?e.length:NaN;return u._logger.debug(u._logTag,"Resolving video.length: "+t),t},s["video.playerName"]=function(){var e=n(),t=e?e.playerName:null;return u._logger.debug(u._logTag,"Resolving video.playerName: "+t),t},s["video.streamType"]=function(){var e=n(),t=e?e.streamType:null;return u._logger.debug(u._logTag,"Resolving video.streamType: "+t),t},s["video.playhead"]=function(){var e=n(),t=e?e.playhead:NaN;return u._logger.debug(u._logTag,"Resolving video.playhead: "+t),t},s["video.resumed"]=function(){var e=n(),t=!!e&&e.resumed;return u._logger.debug(u._logTag,"Resolving video.resumed: "+t),t},s["video.playheadStalled"]=function(){return this._playheadStalled},s["pod.name"]=function(){var e=i(),t=e?e.name:null;return u._logger.debug(u._logTag,"Resolving pod.name: "+t),t},s["pod.playerName"]=function(){var e=i(),t=e?e.playerName:null;return u._logger.debug(u._logTag,"Resolving pod.playerName: "+t),t},s["pod.position"]=function(){var e=i(),t=e?e.position:NaN;return u._logger.debug(u._logTag,"Resolving pod.position: "+t),t},s["pod.startTime"]=function(){var e=i(),t=e?e.startTime:NaN;return u._logger.debug(u._logTag,"Resolving pod.startTime: "+t),t},s["ad.isInAd"]=function(){var e=null!=r();return u._logger.debug(u._logTag,"Resolving ad.isInAd: "+e),e},s["ad.isInAdBreak"]=function(){var e=null!=i();return u._logger.debug(u._logTag,"Resolving ad.isInAdBreak: "+e),e},s["ad.id"]=function(){var e=r(),t=e?e.id:null;return u._logger.debug(u._logTag,"Resolving ad.id: "+t),t},s["ad.name"]=function(){var e=r(),t=e?e.name:null;return u._logger.debug(u._logTag,"Resolving ad.name: "+t),t},s["ad.length"]=function(){var e=r(),t=e?e.length:NaN;return u._logger.debug(u._logTag,"Resolving ad.length: "+t),t},s["ad.position"]=function(){var e=r(),t=e?e.position:NaN;return u._logger.debug(u._logTag,"Resolving ad.position: "+t),t},s["chapter.isInChapter"]=function(){var e=null!=a();return u._logger.debug(u._logTag,"Resolving chapter.isInChapter: "+e),e},s["chapter.name"]=function(){var e=a(),t=e?e.name:null;return u._logger.debug(u._logTag,"Resolving chapter.name: "+t),t},s["chapter.length"]=function(){var e=a(),t=e?e.length:NaN;return u._logger.debug(u._logTag,"Resolving chapter.length: "+t),t},s["chapter.position"]=function(){var e=a(),t=e?e.position:NaN;return u._logger.debug(u._logTag,"Resolving chapter.position: "+t),t},s["chapter.startTime"]=function(){var e=a(),t=e?e.startTime:NaN;return u._logger.debug(u._logTag,"Resolving chapter.startTime: "+t),t},s["qos.bitrate"]=function(){var e=o(),t=e?e.bitrate:NaN;return u._logger.debug(u._logTag,"Resolving qos.bitrate: "+t),t},s["qos.fps"]=function(){var e=o(),t=e?e.fps:NaN;return u._logger.debug(u._logTag,"Resolving qos.fps: "+t),t},s["qos.droppedFrames"]=function(){var e=o(),t=e?e.droppedFrames:NaN;return u._logger.debug(u._logTag,"Resolving qos.droppedFrames: "+t),t},s["qos.startupTime"]=function(){var e=o(),t=e?1e3*e.startupTime:NaN;return u._logger.debug(u._logTag,"Resolving qos.startupTime: "+t),t},this._dataResolver=function(e){if(!e||0==e.length)return null;c={};for(var t=null,n=0;n<e.length;n++){var r=e[n];(t=t||{})[r]=s.hasOwnProperty(r)?s[r].call(this):null}return t}},n.prototype._trackPlayheadStall=function(){this._canProcess()&&(this._playheadStalled||(this._logger.info(this._logTag,"#_trackPlayheadStall()"),this._stalledPlayheadCount=0,this._playheadStalled=!0,this._trigger(C)))},n.prototype._trackExitStall=function(){this._canProcess()&&(this._stalledPlayheadCount=0,this._playheadStalled&&(this._logger.info(this._logTag,"#_trackExitStall()"),this._playheadStalled=!1,this._trigger(v)))},n.prototype._startPlayheadTimer=function(){var n=this;this._playheadTimer||(this._playheadTimer=setInterval(function(){if(n._canProcess()){var e=n._dataResolver(["ad.isInAd","video.playhead"]);if(n._isTrackingAd)n._playheadStalled&&n._trackExitStall(),e.hasOwnProperty("ad.isInAd")&&!e["ad.isInAd"]&&(n._isTrackingAd=!1);else{var t=e["video.playhead"];t!=n._previousPlayhead?n._trackExitStall():0<=n._previousPlayhead&&t==n._previousPlayhead&&(n._stalledPlayheadCount++,n._stalledPlayheadCount==x&&n._trackPlayheadStall()),n._previousPlayhead=t}}},R))},n.prototype._stopPlayheadTimer=function(){this._playheadTimer&&(clearInterval(this._playheadTimer),this._playheadTimer=null),this._trackExitStall()},n.prototype._startSessionIfNeeded=function(e){return this._isTrackingSessionActive?(this._isTrackingSessionStarted||(this._logger.info(this._logTag,"#"+e+"() > Tracking session auto-start."),this.trackSessionStart()),!0):(this._logger.warn(this._logTag,"#"+e+"() > No active tracking session."),!1)};var s="player",c=s,u="adobe-heartbeat",l="sourceErrorExternal",d="sourceErrorSDK",p="video_load",f="video_unload",h="video_start",_="video_resume",g="video_complete",m="timed_metadata",v="play",C="pause",y="ad_start",A="ad_complete",b="buffer_start",P="buffer_complete",S="seek_start",w="seek_complete",I="chapter_start",E="chapter_complete",T="bitrate_change",D="track_error",k="video_idle_start",N="video_idle_resume",O="callback",L="filter_report",B="source",M="error_id",R=1001,x=2;t.VideoPlayerPlugin=n}(e.ADB.core,t),e.ADB.va.plugins.videoplayer||(e.ADB.va.plugins.videoplayer=t)}(this),function(e){if(void 0===t)var t={};t.clock||(t.clock={}),t.context||(t.context={}),t.filter||(t.filter={}),t.model||(t.model={}),t.network||(t.network={}),function(e,t){"use strict";function r(e,t,n,r,i){if(!t)throw new Error("Reference to the channel object cannot be NULL");if(this._channel=t,!e)throw new Error("Reference to the pluginManager object cannot be NULL");if(this._pluginManager=e,!i)throw new Error("Reference to the logger object cannot be NULL");this._logTag="ah::Timer."+n,this._logger=i,this._isDestroyed=!1,this._createTimer(n,r),this._installHandlers()}var n=e.Event;r.KEY_NAME="name",r.KEY_INTERVAL="interval",r.KEY_RESET="reset",r.prototype.resume=function(e){this._logger.debug(this._logTag,"Starting timer: "+this._name);var t={};t[r.KEY_NAME]=i+"."+this._name,t[r.KEY_RESET]=e,this._pluginManager.command(a,c,t)},r.prototype.pause=function(e){this._logger.debug(this._logTag,"Stopping timer: "+this._name);var t={};t[r.KEY_NAME]=i+"."+this._name,t[r.KEY_RESET]=e,this._pluginManager.command(a,s,t)},r.prototype.destroy=function(){if(!this._isDestroyed){this._isDestroyed=!0,this._uninstallHandlers();var e={};e[r.KEY_NAME]=i+"."+this._name,this._pluginManager.command(a,u,e)}},r.prototype.setInterval=function(e){var t=l+"."+i+"."+this._name,n=this._pluginManager.request(a,[t])[t];this.pause(!0),this._createTimer(this._name,e),n||this.resume(!0)},r.prototype._cmdResume=function(e){var t=!1;null!=e&&e.hasOwnProperty(r.KEY_RESET)&&(t=e[r.KEY_RESET]),this.resume(t)},r.prototype._cmdPause=function(e){var t=!1;null!=e&&e.hasOwnProperty(r.KEY_RESET)&&(t=e[r.KEY_RESET]),this.pause(t)},r.prototype._onTick=function(e,t){this._channel.trigger(new n("clock:"+this._name+".tick",t))},r.prototype._installHandlers=function(){this._channel.comply("clock:"+this._name+".resume",this._cmdResume,this),this._channel.comply("clock:"+this._name+".pause",this._cmdPause,this),this._pluginManager.on(a,i+"."+this._name+".tick",this._onTick,this)},r.prototype._uninstallHandlers=function(){this._channel.off(null,null,this),this._pluginManager.off(null,null,null,this)},r.prototype._createTimer=function(e,t){this._name=e,this._interval=t;var n={};n[r.KEY_NAME]=i+"."+this._name,n[r.KEY_INTERVAL]=this._interval,this._pluginManager.command(a,o,n)};var i="heartbeat",a="service.clock",o="create",s="pause",c="resume",u="destroy",l="is_paused";t.clock.Timer=r}(e.ADB.core,t),function(e,t){"use strict";function r(e,t,n){r.__super__.constructor.call(this,e,t,a,s,n)}var n=e.Event,i=t.clock.Timer;e.extend(r,i),r.prototype._onCheckStatusComplete=function(e){var t=e.data[d];if(this._logger.debug(this._logTag,"#_onCheckStatusComplete(interval="+t+")"),t){if(t==this._interval)return void this._logger.debug(this._logTag,"#_onCheckStatusComplete() > Interval value not changed.");o<t?(this._logger.warn(this._logTag,"#_onCheckStatusComplete() > Interval value too large: "+t),this.setInterval(o)):(this._logger.debug(this._logTag,"#_onCheckStatusComplete() > Interval changed to: "+t),this.setInterval(t))}else this._logger.warn(this._logTag,"#_onCheckStatusComplete() > Invalid interval value."),this.setInterval(s)},r.prototype._getSettings=function(e){this._logger.debug(this._logTag,"#_getSettings()"),this._channel.trigger(new n(c))},r.prototype._installHandlers=function(){r.__super__._installHandlers.call(this),this._channel.on(u,this._getSettings,this),this._channel.on(l,this._onCheckStatusComplete,this),this._channel.reply(d,function(){return this._interval},this)};var a="check_status",o=600,s=60,c="clock:check_status.tick",u="clock:check_status.get_settings",l="net:check_status_complete",d="check_status_interval";t.clock.CheckStatusTimer=r}(e.ADB.core,t),function(e,t){"use strict";function r(e,t,n){r.__super__.constructor.call(this,e,t,i,a,n)}var n=t.clock.Timer;e.extend(r,n),r.prototype._onCheckStatusComplete=function(e){var t=e.data[o];if(this._logger.debug(this._logTag,"#_onCheckStatusComplete(interval="+t+")"),t){if(t==this._interval)return void this._logger.debug(this._logTag,"#_onCheckStatusComplete() > Interval value not changed.");this._logger.debug(this._logTag,"#_onCheckStatusComplete() > Interval changed to: "+t),this.setInterval(t)}else this._logger.warn(this._logTag,"#_onCheckStatusComplete() > Invalid interval value."),this.setInterval(a)},r.prototype._installHandlers=function(){r.__super__._installHandlers.call(this),this._channel.on(s,this._onCheckStatusComplete,this),this._channel.reply(o,function(){return this._interval},this)};var i="reporting",a=10,o="reporting_interval",s="net:check_status_complete";t.clock.ReportingTimer=r}(e.ADB.core,t),function(e,t){"use strict";function r(e,t,n){r.__super__.constructor.call(this,e,t,i,a,n)}var n=t.clock.Timer;e.extend(r,n);var i="idle",a=1800;t.clock.IdleTimer=r}(e.ADB.core,t),function(e,t){"use strict";function r(e,t,n){r.__super__.constructor.call(this,e,t,i,a,n)}var n=t.clock.Timer;e.extend(r,n);var i="flush_filter",a=.25;t.clock.FlushFilterTimer=r}(e.ADB.core,t),function(e,t){"use strict";function n(e,t,n){if(!e)throw new Error("Reference to the pluginManager object cannot be NULL");if(!t)throw new Error("Reference to the channel object cannot be NULL");if(!n)throw new Error("Reference to the logger object cannot be NULL");this._isDestroyed=!1,this._reportingTimer=new a(e,t,n),this._checkStatusTimer=new r(e,t,n),this._flushFilterTimer=new i(e,t,n),this._idleTimer=new o(e,t,n)}var r=t.clock.CheckStatusTimer,i=t.clock.FlushFilterTimer,a=t.clock.ReportingTimer,o=t.clock.IdleTimer;n.prototype.destroy=function(){this._isDestroyed||(this._isDestroyed=!0,this._reportingTimer.destroy(),this._checkStatusTimer.destroy(),this._flushFilterTimer.destroy(),this._idleTimer.destroy())},t.clock.Clock=n}(e.ADB.core,t),function(e,t){"use strict";function r(e,t){this.value=e,this.hint=t}function n(e){this.realm=e,this.data={}}r.HINT_SHORT="short",n.prototype.setField=function(e,t,n){this.data[e]=new r(t,n)},n.prototype._createAccessor=function(e,t,n){var r=this;return function(){return arguments.length&&(r[e]=arguments[0],r.setField(t,arguments[0],n)),r[e]}},t.model.Dao=n,t.model.DaoField=r}(e.ADB.core,t),function(e,t){"use strict";function n(){if(n.__super__.constructor.call(this,"asset"),this.adId=this._createAccessor("_adId","ad_id",null),this.sid=this._createAccessor("_sid","ad_sid",null),this.resolver=this._createAccessor("_resolver","resolver",null),this.podId=this._createAccessor("_podId","pod_id",null),this.podPosition=this._createAccessor("_podPosition","pod_position",null),this.podOffset=this._createAccessor("_podOffset","pod_offset",null),this.podName=this._createAccessor("_podName","pod_name",null),this.adLength=this._createAccessor("_adLength","ad_length",null),this.adName=this._createAccessor("_adName","ad_name",null),arguments.length&&arguments[0]instanceof n){var e=arguments[0];this.adId(e.adId()),this.sid(e.sid()),this.resolver(e.resolver()),this.podId(e.podId()),this.podPosition(e.podPosition()),this.podOffset(e.podOffset()),this.podName(e.podName()),this.adLength(e.adLength()),this.adName(e.adName())}else this.adId(""),this.sid(""),this.resolver(""),this.podId(""),this.podPosition(""),this.podOffset(0),this.podName(""),this.adLength(0),this.adName("")}var r=t.model.Dao;e.extend(n,r),t.model.AdDao=n}(e.ADB.core,t),function(e,t){"use strict";function n(){if(n.__super__.constructor.call(this,"sc"),this.reportSuiteId=this._createAccessor("_reportSuiteId","rsid",null),this.trackingServer=this._createAccessor("_trackingServer","tracking_server",null),this.ssl=this._createAccessor("_ssl","ssl",i.HINT_SHORT),arguments.length&&arguments[0]instanceof n){var e=arguments[0];this.reportSuiteId(e.reportSuiteId()),this.trackingServer(e.trackingServer()),this.ssl(e.ssl())}else this.reportSuiteId(""),this.trackingServer(""),this.ssl(0)}var r=t.model.Dao,i=t.model.DaoField;e.extend(n,r),t.model.AdobeAnalyticsDao=n}(e.ADB.core,t),function(e,t){"use strict";function n(){if(n.__super__.constructor.call(this,"stream"),this.id=this._createAccessor("_id","chapter_id",null),this.sid=this._createAccessor("_sid","chapter_sid",null),this.name=this._createAccessor("_name","chapter_name",null),this.position=this._createAccessor("_position","chapter_pos",null),this.length=this._createAccessor("_length","chapter_length",null),this.offset=this._createAccessor("_offset","chapter_offset",null),arguments.length&&arguments[0]instanceof n){var e=arguments[0];this.id(e.id()),this.sid(e.sid()),this.name(e.name()),this.position(e.position()),this.length(e.length()),this.offset(e.offset())}else this.id(""),this.sid(""),this.name(""),this.position(0),this.length(0),this.offset(0)}var r=t.model.Dao;e.extend(n,r),t.model.ChapterDao=n}(e.ADB.core,t),function(e,t){"use strict";function r(){if(r.__super__.constructor.call(this,"asset"),this.type=this._createAccessor("_type","type",null),this.videoId=this._createAccessor("_videoId","video_id",null),this.publisher=this._createAccessor("_publisher","publisher",null),this.adData=this._createAccessor("_adData","ad_data",null),this.chapterData=this._createAccessor("_chapterData","chapter_data",null),this.length=this._createAccessor("_length","length",null),this.name=this._createAccessor("_name","name",null),arguments.length&&arguments[0]instanceof r){var e=arguments[0];this.type(e.type()),this.name(e.name()),this.videoId(e.videoId()),this.publisher(e.publisher()),this.length(e.length());var t=e.adData()?new i(e.adData()):null;this.adData(t);var n=e.chapterData()?new a(e.chapterData()):null;this.chapterData(n)}else this.type(""),this.name(""),this.videoId(""),this.publisher(""),this.length(0),this.adData(null),this.chapterData(null)}var n=t.model.Dao,i=t.model.AdDao,a=t.model.ChapterDao;e.extend(r,n),r.TYPE_AD="ad",r.TYPE_MAIN_CONTENT="main",t.model.AssetDao=r}(e.ADB.core,t),function(e,t){"use strict";function n(){if(n.__super__.constructor.call(this,"event"),this.type=this._createAccessor("_type","type",null),this.duration=this._createAccessor("_duration","duration",null),this.playhead=this._createAccessor("_playhead","playhead",null),this.id=this._createAccessor("_id","id",null),this.source=this._createAccessor("_source","source",null),this.ts=this._createAccessor("_ts","ts",null),this.prevTs=this._createAccessor("_prevTs","prev_ts",null),arguments.length&&arguments[0]instanceof n){var e=arguments[0];this.type(e.type()),this.duration(e.duration()),this.playhead(e.playhead()),this.id(e.id()),this.source(e.source()),this.ts(e.ts()),this.prevTs(e.prevTs())}else this.type(""),this.duration(0),this.playhead(0),this.id(""),this.source(""),this.ts(0),this.prevTs(-1)}var r=t.model.Dao;e.extend(n,r),n.EVENT_TYPE_AA_START="aa_start",n.EVENT_TYPE_AA_AD_START="aa_ad_start",n.EVENT_TYPE_START="start",n.EVENT_TYPE_RESUME="resume",n.EVENT_TYPE_CHAPTER_START="chapter_start",n.EVENT_TYPE_CHAPTER_COMPLETE="chapter_complete",n.EVENT_TYPE_PLAY="play",n.EVENT_TYPE_PAUSE="pause",n.EVENT_TYPE_STALL="stall",n.EVENT_TYPE_BUFFER="buffer",n.EVENT_TYPE_BITRATE_CHANGE="bitrate_change",n.EVENT_TYPE_ERROR="error",n.EVENT_TYPE_COMPLETE="complete",t.model.EventDao=n}(e.ADB.core,t),function(e,t){"use strict";function n(){if(n.__super__.constructor.call(this,"stream"),this.bitrate=this._createAccessor("_bitrate","bitrate",null),this.fps=this._createAccessor("_fps","fps",null),this.droppedFrames=this._createAccessor("_droppedFrames","dropped_frames",null),this.startupTime=this._createAccessor("_startup_time","startup_time",null),arguments.length&&arguments[0]instanceof n){var e=arguments[0];this.bitrate(e.bitrate()),this.fps(e.fps()),this.droppedFrames(e.droppedFrames()),this.startupTime(e.startupTime()),this.isStartupTimeOverridden=e.isStartupTimeOverridden}else this.bitrate(0),this.fps(0),this.droppedFrames(0),this.startupTime(0),this.isStartupTimeOverridden=!1}var r=t.model.Dao;e.extend(n,r),t.model.QoSDao=n}(e.ADB.core,t),function(e,t){"use strict";function n(){if(n.__super__.constructor.call(this,"sp"),this.ovp=this._createAccessor("_ovp","ovp",null),this.sdk=this._createAccessor("_sdk","sdk",null),this.channel=this._createAccessor("_channel","channel",null),this.playerName=this._createAccessor("_playerName","player_name",null),this.libVersion=this._createAccessor("_libVersion","hb_version",null),this.apiLevel=this._createAccessor("_apiLevel","hb_api_lvl",null),arguments.length&&arguments[0]instanceof n){var e=arguments[0];this.ovp(e.ovp()),this.sdk(e.sdk()),this.channel(e.channel()),this.playerName(e.playerName()),this.libVersion(e.libVersion()),this.apiLevel(e.apiLevel())}else this.ovp(i),this.sdk(i),this.channel(i),this.playerName(""),this.libVersion(""),this.apiLevel(0)}var r=t.model.Dao;e.extend(n,r);var i="unknown";t.model.ServiceProviderDao=n}(e.ADB.core,t),function(e,t){"use strict";function n(){if(n.__super__.constructor.call(this,"event"),this.sessionId=this._createAccessor("_sessionId","sid",null),arguments.length&&arguments[0]instanceof n){var e=arguments[0];this.sessionId(e.sessionId())}else this.sessionId(null)}var r=t.model.Dao;e.extend(n,r),t.model.SessionDao=n}(e.ADB.core,t),function(e,t){"use strict";function n(){if(n.__super__.constructor.call(this,"stream"),this.type=this._createAccessor("_type","type",null),arguments.length&&arguments[0]instanceof n){var e=arguments[0];this.type(e.type())}else this.type(null)}var r=t.model.Dao;e.extend(n,r),t.model.StreamDao=n}(e.ADB.core,t),function(e,t){"use strict";function n(){if(n.__super__.constructor.call(this,"user"),this.analyticsVisitorId=this._createAccessor("_analyticsVisitorId","aid",null),this.marketingCloudVisitorId=this._createAccessor("_marketingCloudVisitorId","mid",null),this.visitorId=this._createAccessor("_visitorId","id",null),arguments.length&&arguments[0]instanceof n){var e=arguments[0];this.analyticsVisitorId(e.analyticsVisitorId()),this.marketingCloudVisitorId(e.marketingCloudVisitorId()),this.visitorId(e.visitorId())}else this.analyticsVisitorId(null),this.marketingCloudVisitorId(null),this.visitorId(null)}var r=t.model.Dao;e.extend(n,r),t.model.UserDao=n}(e.ADB.core,t),function(e,t){"use strict";function n(){if(n.__super__.constructor.call(this,"aam"),this.audienceManagerBlob=this._createAccessor("_audienceManagerBlob","blob",null),this.audienceManagerLocationHint=this._createAccessor("_audienceManagerLocationHint","loc_hint",null),arguments.length&&arguments[0]instanceof n){var e=arguments[0];this.audienceManagerBlob(e.audienceManagerBlob()),this.audienceManagerLocationHint(e.audienceManagerLocationHint())}else this.audienceManagerBlob(null),this.audienceManagerLocationHint(null)}var r=t.model.Dao;e.extend(n,r),t.model.AudienceManagerDao=n}(e.ADB.core,t),function(e,t){"use strict";var a=e.ObjectUtils,o=t.model.EventDao,s=t.model.AssetDao,c=t.model.StreamDao,u=t.model.QoSDao;t.model.TrackItem=function(e,t,n,r,i){this.eventData=new o,this.eventData.type(t),this.eventData.duration(0),this.eventData.ts((new Date).getTime()),this.eventData.playhead(n),this.assetData=new s(e._assetData),this.streamData=new c(e._streamData),this.qosData=new u(e._qosData),this.cuserData=a.clone(e._cuserData),this.meta=r,this.callback=i,this.filterReport=!0}}(e.ADB.va.utils,t),function(e,t){"use strict";var o=e.ObjectUtils,s=t.model.EventDao,c=t.model.AssetDao,u=t.model.StreamDao,l=t.model.QoSDao;t.model.CUserDao,t.model.Report=function(e,t,n,r,i,a){this.adobeAnalyticsData=e,this.userData=t,this.aamData=n,this.serviceProviderData=r,this.sessionData=i,this.eventData=new s(a.eventData),this.assetData=new c(a.assetData),this.streamData=new u(a.streamData),this.qosData=new l(a.qosData),this.cuserData=o.clone(a.cuserData),this.meta=o.clone(a.meta),this.callback=a.callback,this.filterReport=a.filterReport}}(e.ADB.va.utils,t),function(e){"use strict";function t(){}t.prototype.serializeReport=function(e){},t.prototype.serializeDao=function(e){},t.prototype.serializeMap=function(e){},t.prototype.serializeNumber=function(e,t,n,r){},t.prototype.serializeString=function(e,t,n,r){},e.model.ISerializer=t}(t),function(e,t){"use strict";function n(e){if(!e)throw new Error("Reference to the logger object cannot be NULL");this._logger=e}var c=t.model.Dao,a=t.model.DaoField,r=t.model.ISerializer;e.extend(n,r),n.prototype.serializeReport=function(e){var t=[];return t.push(this.serializeDao(e.adobeAnalyticsData)),t.push(this.serializeDao(e.userData)),t.push(this.serializeDao(e.aamData)),t.push(this.serializeMap(e.cuserData,"cuser")),t.push(this.serializeDao(e.serviceProviderData)),t.push(this.serializeDao(e.sessionData)),t.push(this.serializeDao(e.eventData)),t.push(this.serializeDao(e.assetData)),t.push(this.serializeDao(e.streamData)),t.push(this.serializeDao(e.qosData)),t.push(this.serializeMap(e.meta,"meta")),{serializedOutput:t.filter(function(e){return!!e}).join("&"),callback:e.callback}},n.prototype.serializeDao=function(e){return this._processDao(e).filter(function(e){return!!e}).join("&")},n.prototype.serializeMap=function(e,t){var n=[],r=t||"meta";for(var i in e)e.hasOwnProperty(i)&&e[i]&&n.push("s:"+r+":"+i+"="+window.encodeURIComponent(e[i]));return n.join("&")},n.prototype.serializeNumber=function(e,t,n,r){var i=o;return null==t||isNaN(t)?null:(r===a.HINT_SHORT&&(i=s),i+":"+n+":"+e+"="+Math.floor(t))},n.prototype.serializeString=function(e,t,n,r){return t?i+":"+n+":"+e+"="+window.encodeURIComponent(t):null},n.prototype._processDao=function(e){var t=[];for(var n in e.data)if(e.data.hasOwnProperty(n)){var r=e.data[n],i=r.value,a=r.hint,o=null,s=e.realm;if(null==i)continue;"number"==typeof i?o=this.serializeNumber(n,i,s,a):"string"==typeof i?o=this.serializeString(n,i,s,a):i instanceof c?o=this.serializeDao(i):this._logger.warn(u,"#_processDao() > Unable to serialize DAO. Field: "+n+". Value: "+i+"."),o&&t.push(o)}return t};var u="ah::QuerystringSerializer",o="l",s="h",i="s";t.model.QuerystringSerializer=n}(e.ADB.core,t),function(e,t){"use strict";function n(e,t){if(!e)throw new Error("Reference to the data object cannot be NULL");if(this._data=e,!t)throw new Error("Reference to the logger object cannot be NULL");this._logger=t}n.prototype.parse=function(){var e,t,n,r,i,a;window.DOMParser?i=(new window.DOMParser).parseFromString(this._data,"text/xml"):((i=new window.ActiveXObject("Microsoft.XMLDOM")).async=!1,i.loadXML(this._data));(a=parseInt(i.getElementsByTagName("trackingInterval")[0].childNodes[0].nodeValue,10))&&(e=a),(a=parseInt(i.getElementsByTagName("setupCheckInterval")[0].childNodes[0].nodeValue,10))&&(t=a),(a=parseInt(i.getElementsByTagName("trackExternalErrors")[0].childNodes[0].nodeValue,10))&&(n=1==a),r=!i.getElementsByTagName("nielsenEnabled")[0]||1==(a=parseInt(i.getElementsByTagName("nielsenEnabled")[0].childNodes[0].nodeValue,10));var o={};return o[c]=e,o[u]=t,o[l]=n,o[d]=r,this._logger.debug(s,"#parse() > Obtained configuration settings."),o};var s="ah::SettingsParser",c="reporting_interval",u="check_status_interval",l="track_external_errors",d="nielsen_enabled";t.network.SettingsParser=n}(e.ADB.core,t),function(e,t){"use strict";function n(e,t){if(this._trackingServer=null,this._checkStatusServer=null,this._publisher=null,this._isConfigured=!1,this._isDestroyed=!1,this._quietMode=!1,this._visitorOptedOut=!1,this._prevReportSent=null,!e)throw new Error("Reference to the channel object cannot be NULL");if(this._channel=e,!t)throw new Error("Reference to the logger object cannot be NULL");this._logger=t,this._serializer=new r(t),this._installEventListeners()}var c=e.Event,u=e.URLRequestMethod,l=e.URLRequest,d=e.URLLoader,o=t.network.SettingsParser,r=t.model.QuerystringSerializer;n.prototype.destroy=function(){this._isDestroyed||(this._isDestroyed=!0,this._logger.debug(p,"#destroy()"),this._uninstallEventListeners())},n.prototype._onApiConfig=function(e){var t=e.data;this._logger.debug(p,"#_onApiConfig(sb_server="+t[i]+", check_status_server="+t[a]+", publisher="+t[s]+", quiet_mode="+t[f]+", ssl="+t[h]+")"),this._trackingServer=this._updateRequestProtocol(t[i],t[h]),this._checkStatusServer=this._updateRequestProtocol(t[a],t[h]),this._publisher=t[s],this._quietMode=t[f],this._isConfigured=!0},n.prototype._onUpdateVisitorOptOut=function(e){var t=e.data;this._logger.debug(p,"#_onUpdateVisitorOptOut(visitor_opt_out="+t[g]+")"),this._visitorOptedOut=t[g]},n.prototype._onFilterReportAvailable=function(e){var t=e.data;if(this._isConfigured){var n=t[_],r=this._serializer.serializeReport(n),i=this._trackingServer+"/?"+r.serializedOutput;if(this._prevReportSent&&this._prevReportSent.eventData&&n.eventData&&this._prevReportSent.eventData.playhead==n.eventData.playhead&&this._prevReportSent.eventData.ts==n.eventData.ts&&this._prevReportSent.eventData.prevTs==n.eventData.prevTs&&this._prevReportSent.eventData.type==n.eventData.type)this._logger.debug(p,"#_onFilterReportAvailable() > Duplicate heartbeat report not sent for URL:\n"+i);else{this._prevReportSent=n;var a=new l(i,u.GET);this._logger.debug(p,"#_onFilterReportAvailable() > "+a.url);var o=this;if(!this._quietMode&&!this._visitorOptedOut){var s=new d;s.addEventListener(c.SUCCESS,function(e){s.close(),r.callback&&r.callback.call(null)},this),s.addEventListener(c.ERROR,function(e){s.close(),o._logger.warn(p,"#_onFilterReportAvailable() > Failed to send heartbeat report."),r.callback&&r.callback.call(null)},this),s.load(a)}}}else this._logger.warn(p,"#_onFilterReportAvailable() > Unable to send request: not configured.")},n.prototype._onClockCheckStatusTick=function(e){if(this._isConfigured)if(this._publisher){var n=this,t=this._publisher.replace(/[^a-zA-Z0-9]+/,"-").toLocaleLowerCase(),r=this._checkStatusServer+t+".xml?r="+(new Date).getTime(),i=new l(r,u.GET),a=new d;a.addEventListener(c.SUCCESS,function(e){if(e.data){var t=new o(e.data.response,n._logger).parse();t?n._channel.trigger(new c(A,t)):n._logger.warn(p,"#_onClockCheckStatusTick() > Failed to parse the config. settings.")}a.close()},this),a.addEventListener(c.ERROR,function(e){n._logger.warn(p,"#_onClockCheckStatusTick() > Failed to obtain the config. settings."),a.close()},this),this._logger.debug(p,"#_onClockCheckStatusTick() > Get new settings from: "+r),a.load(i)}else this._logger.warn(p,"#_onClockCheckStatusTick() > Publisher is NULL.");else this._logger.warn(p,"#_onClockCheckStatusTick() > Unable to send request: not configured.")},n.prototype._updateRequestProtocol=function(e,t){var n=e;return 0===n.indexOf("http://")?n=n.slice(7):0===n.indexOf("https://")&&(n=n.slice(8)),t?"https://"+n:"http://"+n},n.prototype._installEventListeners=function(){this._channel.on(m,this._onApiConfig,this),this._channel.on(v,this._onUpdateVisitorOptOut,this),this._channel.on(C,this._onFilterReportAvailable,this),this._channel.on(y,this._onClockCheckStatusTick,this)},n.prototype._uninstallEventListeners=function(){this._channel.off(null,null,this)};var p="ah::Network",i="tracking_server",a="check_status_server",s="publisher",f="quiet_mode",h="ssl",_="report",g="visitor_opt_out",m="api:config",v="api:update_visitor_optout",C="filter:data_available",y="clock:check_status.tick",A="net:check_status_complete";t.network.Network=n}(e.ADB.core,t),function(e,t){"use strict";function n(e,t){if(!e)throw new Error("Reference to the channel object cannot be NULL");if(this._channel=e,!t)throw new Error("Reference to the logger object cannot be NULL");this._logger=t,this._isDestroyed=!1,this._isBufferingInProgress=!1,this._reportBuffer={},this._tsHistory={},this._workQueue=new i,this._installEventListeners()}function u(e){var t=[];return e&&e.forEach(function(e){e.eventData.type()==a.EVENT_TYPE_PAUSE||e.eventData.type()==a.EVENT_TYPE_STALL?(!e.filterReport||e.eventData.duration()>C)&&t.push(e):t.push(e)}),t}function l(e){var t=-1,n=-1,r=[];return e.forEach(function(e){e.eventData.type()==a.EVENT_TYPE_START?e.assetData.type()==f.TYPE_MAIN_CONTENT?-1==t?t=r.push(e)-1:(e.eventData.prevTs(-1),r[t]=e):-1==n?n=r.push(e)-1:(e.eventData.prevTs(-1),r[n]=e):r.push(e)}),r}function d(n){var r=[];return n.forEach(function(e){if(e.eventData.type()==a.EVENT_TYPE_PLAY){if(e.eventData.duration()>v)r.push(e);else if(0==e.eventData.duration()&&e.assetData.type()==f.TYPE_MAIN_CONTENT){var t=function(e){var t=[];return e.forEach(function(e){e.eventData.type()!=a.EVENT_TYPE_PLAY&&e.eventData.type()!=a.EVENT_TYPE_BUFFER&&e.eventData.type()!=a.EVENT_TYPE_START||t.push(e)}),t}(n);t.indexOf(e)==t.length-1&&r.push(e)}}else r.push(e)}),r}var r=e.radio.Command,i=e.radio.CommandQueue,p=e.Event,a=t.model.EventDao,f=t.model.AssetDao;n.prototype.destroy=function(){this._isDestroyed||(this._isDestroyed=!0,this._logger.debug(A,"#destroy()"),this._uninstallEventListeners(),this.clear())},n.prototype.clear=function(){this._logger.debug(A,"#clear()"),this._workQueue.cancelAllCommands(),this._reportBuffer={},this._tsHistory={},this._isBufferingInProgress=!1},n.prototype.flush=function(){this._workQueue.addCommand(new r(this._flushBufferReport,this))},n.prototype._bufferReport=function(e){if(!this._isDestroyed){var t=e[_];if(t){var n=t.sessionData.sessionId();this._reportBuffer[n]=this._reportBuffer[n]||[],this._reportBuffer[n].push(t)}if(!this._isBufferingInProgress){this._isBufferingInProgress=!0;var r={};r[c]=!0,r[g]=1,this._channel.command(m,r)}}},n.prototype._flushBufferReport=function(){function e(e){if(e)for(var t=0;t<e.length;t++){var n=e[t],r=n.sessionData.sessionId();a._tsHistory[r]=a._tsHistory[r]||{};var i=n.eventData.type()+"."+(n.assetData.type()==f.TYPE_AD?n.assetData.adData().adId():n.assetData.videoId());a._tsHistory[r].hasOwnProperty(i)&&n.eventData.prevTs(a._tsHistory[r][i]),a._tsHistory[r][i]=n.eventData.ts()}}if(!this._isDestroyed){var a=this;for(var t in this._reportBuffer)if(this._reportBuffer.hasOwnProperty(t)){var n=d(l(u(this._reportBuffer[t])));e(n);for(var r=0;r<n.length;r++){var i=n[r],o={};o[_]=i,this._channel.trigger(new p(h,o))}}this._reportBuffer={};var s=this._channel.request(y),c=this._tsHistory[s]||{};this._tsHistory={},this._tsHistory[s]=c,this._isBufferingInProgress=!1}},n.prototype._onContextReportAvailable=function(e){var t=e.data;this._workQueue.addCommand(new r(this._bufferReport,this,[t]))},n.prototype._onClockFlushFilterTick=function(e){this.flush()},n.prototype._installEventListeners=function(){this._channel.on(o,this._onContextReportAvailable,this),this._channel.on(s,this._onClockFlushFilterTick,this)},n.prototype._uninstallEventListeners=function(){this._channel.off(null,null,this)};var o="context:report_available",h="filter:data_available",s="clock:flush_filter.tick",c="reset",_="report",g="repeat_count",m="clock:flush_filter.resume",v=250,C=250,y="session_id",A="ah::ReportFilter";t.filter.ReportFilter=n}(e.ADB.core,t),function(e,t){"use strict";function n(e,t){this._onFail={fn:e,ctx:t}}var r=e.ErrorInfo;n.prototype.validateFields=function(e,t){if(!e)return this._fail("Data cannot be null");if(t)for(var n=0;n<t.length;n++){var r=t[n];switch(r){case"videoId":if(!e.hasOwnProperty("videoId"))return this._fail("The ID for the main video must be specified.");if("string"!=typeof e.videoId)return this._fail("The ID for the main video must be a String.");if(""===e.videoId)return this._fail("The ID for the main video cannot be an empty string.");break;case"streamType":if(!e.hasOwnProperty("streamType"))return this._fail("The stream type for the main video must be specified.");if("string"!=typeof e.streamType)return this._fail("The stream type for the main video must be a String.");if(""===e.streamType)return this._fail("The stream type for the main video cannot be an empty string.");break;case"videoLength":if(!e.hasOwnProperty("videoLength"))return this._fail("The length of the main video must be specified.");if("number"!=typeof e.videoLength)return this._fail("The length of the main video must be a Number.");if(isNaN(e.videoLength))return this._fail("The length of the main video cannot be NaN.");break;case"playhead":if(!e.hasOwnProperty("playhead"))return this._fail("The playhead for the main video must be specified.");if("number"!=typeof e.playhead)return this._fail("The playhead for the main video must be a Number.");if(isNaN(e.playhead))return this._fail("The playhead for the main video cannot be NaN.");break;case"playerName":if(!e.hasOwnProperty("playerName"))return this._fail("The player name for the main video must be specified.");if("string"!=typeof e.playerName)return this._fail("The player name for the main video must be a String.");if(""===e.playerName)return this._fail("The player name for the main video cannot be an empty string.");break;case"rsid":if(!e.hasOwnProperty("rsid"))return this._fail("account (rsid) is required and has to be set in the AppMeasurement instance.");if("string"!=typeof e.rsid)return this._fail("account (rsid) of the AppMeasurement instance must be a String.");if(""===e.rsid)return this._fail("account (rsid) of the AppMeasurement instance  cannot be an empty string.");break;case"trackingServer":if(!e.hasOwnProperty("trackingServer"))return this._fail("trackingServer is required and has to be set in the AppMeasurement instance.");if("string"!=typeof e.trackingServer)return this._fail("trackingServer of the AppMeasurement instance must be a String.");if(""===e.trackingServer)return this._fail("trackingServer of the AppMeasurement instance cannot be an empty string.");break;case"podPlayerName":if(!e.hasOwnProperty("podPlayerName"))return this._fail("The player name for the ad-break must be specified.");if("string"!=typeof e.podPlayerName)return this._fail("The player name for the ad-break must be a String.");if(""===e.podPlayerName)return this._fail("The player name for the ad-break cannot be an empty string.");break;case"podPosition":if(!e.hasOwnProperty("podPosition"))return this._fail("Position (index) of the ad-break must be specified.");if("number"!=typeof e.podPosition)return this._fail("Position (index) of the ad-break must be a Number.");if(isNaN(e.podPosition))return this._fail("Position (index) of the ad-break cannot be NaN.");break;case"adId":if(!e.hasOwnProperty("adId"))return this._fail("The ad ID must be specified.");if("string"!=typeof e.adId)return this._fail("The ad ID must be a String.");if(""===e.adId)return this._fail("The ad ID cannot be an empty string.");break;case"adPosition":if(!e.hasOwnProperty("adPosition"))return this._fail("Position (index) of the ad must be specified.");if("number"!=typeof e.adPosition)return this._fail("Position (index) of the ad must be a Number.");if(isNaN(e.adPosition))return this._fail("Position (index) of the ad cannot be NaN.");break;case"chapterPosition":if(!e.hasOwnProperty("chapterPosition"))return this._fail("Position (index) of the chapter must be specified.");if("number"!=typeof e.chapterPosition)return this._fail("Position (index) of the chapter must be a Number.");if(isNaN(e.chapterPosition))return this._fail("Position (index) of the chapter cannot be NaN.");break;case"chapterOffset":if(!e.hasOwnProperty("chapterOffset"))return this._fail("Chapter start-time (offset) must be specified.");if("number"!=typeof e.chapterOffset)return this._fail("Chapter start-time (offset) must be a Number.");if(isNaN(e.chapterOffset))return this._fail("Chapter start-time (offset) cannot be NaN.");break;case"chapterLength":if(!e.hasOwnProperty("chapterLength"))return this._fail("The length of the chapter must be specified.");if("number"!=typeof e.chapterLength)return this._fail("The length of the chapter must be a Number.");if(isNaN(e.chapterLength))return this._fail("The length of the chapter cannot be NaN.");break;default:return this._fail("Unable to validate unknown parameter: "+r)}}return!0},n.prototype._fail=function(e){var t=new r("Invalid input data",e);return this._onFail.fn&&this._onFail.fn.call(this._onFail.ctx,t),!1},t.context.InputDataValidator=n}(e.ADB.va,t),function(e,t){"use strict";function n(e,t){if(!t)throw new Error("Reference to the logger object cannot be NULL");if(this._logger=t,!e)throw new Error("Reference to the context object cannot be NULL");this._context=e}var r=t.model.Report;n.prototype.createReportForItem=function(e){return this._logger.debug(i,"Creating report for item: "+e.eventData.type()),new r(this._context._adobeAnalyticsData,this._context._userData,this._context._aamData,this._context._serviceProviderData,this._context._sessionData,e)};var i="ah::ReportFactory";t.context.ReportFactory=n}(e.ADB.core,t),function(e,t,n,r){"use strict";function i(e,t){if(!e)throw new Error("Reference to the channel object cannot be NULL");if(this._channel=e,!t)throw new Error("Reference to the logger object cannot be NULL");this._logger=t,this._lastInBandItem=null,this._autoComputedStartupTime=0,this._reportingInterval=ae,this._assetData=null,this._streamData=null,this._qosData=null,this._sessionData=null,this._cuserData=null,this._adobeAnalyticsData=new u,this._serviceProviderData=new l,this._userData=new d,this._aamData=new p,this._isTrackingSessionActive=!1,this._isVideoComplete=!1,this._activeAssetId=null,this._isDestroyed=!1,this._doNotOverrideEventDuration=!1,this._reportFactory=new y(this,this._logger),this._inputDataValidator=new A(function(e){this._logger.error(b,e.getMessage()+" | "+e.getDetails()),this._channel.trigger(new s(S,e))},this),this._stashedChapterData=null,this._stashedAdData=null,this._trackExternalErrors=!0,this._installEventListeners()}var a=n.md5,o=n.ObjectUtils,s=e.Event,c=r.model.SessionDao,u=r.model.AdobeAnalyticsDao,l=r.model.ServiceProviderDao,d=r.model.UserDao,p=r.model.AudienceManagerDao,f=r.model.EventDao,h=r.model.AssetDao,_=r.model.StreamDao,g=r.model.QoSDao,m=r.model.AdDao,v=r.model.ChapterDao,C=r.model.TrackItem,y=r.context.ReportFactory,A=r.context.InputDataValidator;i.prototype.destroy=function(){this._isDestroyed||(this._isDestroyed=!0,this._logger.debug(b,"#destroy()"),this._uninstallEventListeners())},i.prototype._onApiAnalyticsStart=function(e){this._logger.debug(b,"#_onApiAnalyticsStart()");var t=e.data;if(this._checkCall("_onApiAnalyticsStart")&&this._inputDataValidator.validateFields(t,["playhead"])){this._userData.visitorId(t.vid),this._userData.analyticsVisitorId(t.aid),this._userData.marketingCloudVisitorId(t.mid),this._aamData.audienceManagerBlob(t.blob),this._aamData.audienceManagerLocationHint(t.loc_hint),t.customerIDs&&(this._cuserData=t.customerIDs),this._updateQoSInfo(t);var n=new C(this,f.EVENT_TYPE_AA_START,t.playhead,null,t._eventData[k]);n.assetData.adData(null),n.assetData.type(h.TYPE_MAIN_CONTENT),this._cuserData=null,this._sendHit(n)}},i.prototype._onApiAnalyticsAdStart=function(e){this._logger.debug(b,"#_onApiAnalyticsAdStart()");var t=e.data;if(this._checkCall("_onApiAnalyticsAdStart")&&this._inputDataValidator.validateFields(t,["playhead"])){this._updateQoSInfo(t);var n=new C(this,f.EVENT_TYPE_AA_AD_START,t.playhead,null,t._eventData[k]);this._sendHit(n)}},i.prototype._onApiVideoLoad=function(e){var t=e.data;this._logger.debug(b,"#_onApiVideoLoad(rsid="+t.rsid+", aa_trackingServer="+t.trackingServer+")"),this._resetInternalState(),this._inputDataValidator.validateFields(t,["rsid","trackingServer"])&&(this._sessionData.sessionId(this._generateSessionId()),this._isTrackingSessionActive=!0)},i.prototype._onApiVideoUnload=function(e){return this._logger.debug(b,"#_onApiVideoUnload()"),this._isTrackingSessionActive?void(this._isTrackingSessionActive=!1):void this._logger.debug(b,"#_onApiVideoUnload() > No active tracking session.")},i.prototype._onApiVideoStart=function(e){var t=e.data;if(this._logger.debug(b,"#_onApiVideoStart(id="+t.videoId+", name="+t.videoName+", length="+t.videoLength+", type="+t.streamType+", playerName="+t.playerName+")"),this._checkCall("_onApiVideoStart")&&this._inputDataValidator.validateFields(t,["videoId","streamType","videoLength","playhead","playerName"])){this._adobeAnalyticsData.reportSuiteId(t.rsid),this._adobeAnalyticsData.trackingServer(t.trackingServer),this._adobeAnalyticsData.ssl(Number(t.useSsl)),this._serviceProviderData.ovp(t.ovp),this._serviceProviderData.sdk(t.sdk),this._serviceProviderData.channel(t.channel),this._serviceProviderData.libVersion(t.version),this._serviceProviderData.apiLevel(t.apiLvl),this._activeAssetId=t.videoId,this._serviceProviderData.playerName(t.playerName),this._assetData.videoId(this._activeAssetId),this._assetData.length(t.videoLength),this._assetData.type(h.TYPE_MAIN_CONTENT),this._assetData.publisher(t.publisher),this._assetData.name(t.videoName),this._streamData.type(t.streamType),this._updateQoSInfo(t);var n=t.metaNielsen?o.merge(t.metaVideo,t.metaNielsen):t.metaVideo,r=new C(this,f.EVENT_TYPE_START,t.playhead,n,t._eventData[k]);this._sendHit(r)}},i.prototype._onApiVideoResume=function(e){var t=e.data;if(this._logger.debug(b,"#_onApiVideoResume(id="+t.videoId+", name="+t.videoName+", length="+t.videoLength+", type="+t.streamType+", playerName="+t.playerName+")"),this._checkCall("_onApiVideoResume")&&this._inputDataValidator.validateFields(t,["videoId","streamType","videoLength","playhead","playerName"])){this._activeAssetId=t.videoId,this._assetData.videoId(this._activeAssetId),this._assetData.length(t.videoLength),this._assetData.type(h.TYPE_MAIN_CONTENT),this._assetData.name(t.videoName),this._streamData.type(t.streamType);var n=new C(this,f.EVENT_TYPE_RESUME,t.playhead,null,t._eventData[k]);this._sendHit(n)}},i.prototype._onApiVideoComplete=function(e){this._logger.debug(b,"#_onApiVideoComplete()");var t=e.data;if(this._checkCall("_onApiVideoComplete")){var n=new C(this,f.EVENT_TYPE_COMPLETE,this._assetData.length(),null,t._eventData[k]);this._sendHit(n),this._isVideoComplete=!0}},i.prototype._onApiPlay=function(e){this._logger.debug(b,"#_onApiPlay()");var t=e.data;if(this._checkCall("_onApiPlay")&&this._inputDataValidator.validateFields(t,["playhead"])){this._updateQoSInfo(t);var n=new C(this,f.EVENT_TYPE_PLAY,t.playhead,null,t._eventData[k]);this._sendHit(n)}},i.prototype._onApiPause=function(e){this._logger.debug(b,"#_onApiPause()");var t=e.data;if(this._checkCall("_onApiPause")&&this._inputDataValidator.validateFields(t,["playhead"])){this._updateQoSInfo(t);var n=t.playheadStalled?f.EVENT_TYPE_STALL:f.EVENT_TYPE_PAUSE,r=new C(this,n,t.playhead,null,t._eventData[k]);t._eventData.hasOwnProperty(N)&&(r.filterReport=t._eventData[N]),this._sendHit(r)}},i.prototype._onApiBufferStart=function(e){this._logger.debug(b,"#_onApiBufferStart()");var t=e.data;if(this._checkCall("_onApiBufferStart")&&this._inputDataValidator.validateFields(t,["playhead"])){this._updateQoSInfo(t);var n=new C(this,f.EVENT_TYPE_BUFFER,t.playhead,null,t._eventData[k]);this._sendHit(n)}},i.prototype._onApiSeekStart=function(e){this._logger.debug(b,"#_onApiSeekStart()"),this._checkCall("_onApiSeekStart")&&(this._stashedAdData=this._assetData.adData(),this._stashedChapterData=this._assetData.chapterData(),this._assetData.adData(null),this._assetData.type(h.TYPE_MAIN_CONTENT),this._activeAssetId=this._assetData.videoId(),this._assetData.chapterData(null))},i.prototype._onApiSeekComplete=function(e){this._logger.debug(b,"#_onApiSeekComplete()");var t=e.data;if(this._checkCall("_onApiSeekComplete")&&this._inputDataValidator.validateFields(t,["playhead"])){if(t.isInAd){if(!this._inputDataValidator.validateFields(t,["adId","adPosition","podPosition","podPlayerName"]))return;var n=a(this._assetData.videoId())+"_"+t.podPosition;if(this._stashedAdData&&this._stashedAdData.podId()==n&&parseInt(this._stashedAdData.podPosition(),10)==t.adPosition)this._assetData.adData(this._stashedAdData),this._activeAssetId=this._stashedAdData.adId();else if(!this._assetData.adData()){this._activeAssetId=t.adId;var r=new m;r.adId(this._activeAssetId),r.adName(t.adName),r.adLength(t.adLength),r.podId(n),r.resolver(t.podPlayerName),r.podPosition(t.podPosition+""),r.podName(t.podName),r.podOffset(t.podSecond),r.sid(this._generateSessionId()),this._assetData.adData(r)}this._assetData.type(h.TYPE_AD)}else this._assetData.adData(null),this._assetData.type(h.TYPE_MAIN_CONTENT),this._activeAssetId=this._assetData.videoId();if(t.isInChapter){if(!this._inputDataValidator.validateFields(t,["chapterPosition","chapterLength","chapterOffset"]))return;if(this._stashedChapterData&&t.chapterPosition==this._stashedChapterData.position())this._assetData.chapterData(this._stashedChapterData);else if(!this._assetData.chapterData()){var i=new v;i.id(a(this._assetData.videoId())+"_"+t.chapterPosition),i.name(t.chapterName),i.length(t.chapterLength),i.position(t.chapterPosition),i.offset(t.chapterOffset),i.sid(this._generateSessionId()),this._assetData.chapterData(i)}}else this._assetData.chapterData(null);this._stashedAdData=null,this._stashedChapterData=null}},i.prototype._onApiAdStart=function(e){var t=e.data;if(this._logger.debug(b,"#_onApiAdStart(id="+t.adId+", player_name="+t.podPlayerName+", parent_name="+this._assetData.videoId()+", pod_pos="+t.adPosition+")"),this._checkCall("_onApiAdStart")&&this._inputDataValidator.validateFields(t,["playhead","podPosition","podPlayerName","adId","adPosition"])){this._activeAssetId=t.adId;var n=new m;n.adId(this._activeAssetId),n.adName(t.adName),n.adLength(t.adLength),n.resolver(t.podPlayerName),n.podId(a(this._assetData.videoId())+"_"+t.podPosition),n.podPosition(t.adPosition+""),n.podName(t.podName),n.podOffset(t.podSecond),n.sid(this._generateSessionId()),this._assetData.adData(n),this._assetData.type(h.TYPE_AD),this._updateQoSInfo(t);var r=o.merge(t.metaVideo,t.metaAd);r=t.metaNielsen?o.merge(r,t.metaNielsen):r;var i=new C(this,f.EVENT_TYPE_START,t.playhead,r,t._eventData[k]);this._sendHit(i)}},i.prototype._onApiAdComplete=function(e){this._logger.debug(b,"#_onApiAdComplete()");var t=e.data;if(this._checkCall("_onApiAdComplete")&&this._inputDataValidator.validateFields(t,["playhead"])){if(this._assetData.type()!=h.TYPE_AD)return void this._logger.warn(b,"#_onApiAdComplete() > Ignoring the ad complete event, because we are no longer in an ad.");this._updateQoSInfo(t);var n=new C(this,f.EVENT_TYPE_COMPLETE,t.playhead,null,t._eventData[k]);this._sendHit(n),this._assetData.adData(null),this._assetData.type(h.TYPE_MAIN_CONTENT),this._activeAssetId=this._assetData.videoId()}},i.prototype._onApiChapterStart=function(e){var t=e.data;if(this._logger.debug(b,"#_onApiChapterStart(name="+t.chapterName+", length="+t.chapterLength+", position="+t.chapterPosition+", chapter_offset="+t.chapterOffset+")"),this._checkCall("_onApiChapterStart")&&this._inputDataValidator.validateFields(t,["playhead","chapterPosition","chapterOffset","chapterLength"])){var n=new v;n.id(a(this._assetData.videoId())+"_"+t.chapterPosition),n.name(t.chapterName),n.length(t.chapterLength),n.position(t.chapterPosition),n.offset(t.chapterOffset),n.sid(this._generateSessionId()),this._assetData.chapterData(n),this._updateQoSInfo(t);var r=o.merge(t.metaVideo,t.metaChapter),i=new C(this,f.EVENT_TYPE_CHAPTER_START,t.playhead,r,t._eventData[k]);i.assetData.adData(null),i.assetData.type(h.TYPE_MAIN_CONTENT),this._sendHit(i)}},i.prototype._onApiChapterComplete=function(e){this._logger.debug(b,"#_onApiChapterComplete()");var t=e.data;if(this._checkCall("_onApiChapterComplete")&&this._inputDataValidator.validateFields(t,["playhead"])){if(!this._assetData.chapterData())return void this._logger.warn(b,"#_onApiChapterComplete() > Ignoring the chapter complete event, because we are no longer in a chapter.");this._updateQoSInfo(t);var n=new C(this,f.EVENT_TYPE_CHAPTER_COMPLETE,t.playhead,null,t._eventData[k]);n.assetData.adData(null),n.assetData.type(h.TYPE_MAIN_CONTENT),this._sendHit(n),this._assetData.chapterData(null)}},i.prototype._onApiBitrateChange=function(e){this._logger.debug(b,"#_onApiBitrateChange()");var t=e.data;if(this._checkCall("_onApiBitrateChange")&&this._inputDataValidator.validateFields(t,["playhead"])){this._updateQoSInfo(t);var n=new C(this,f.EVENT_TYPE_BITRATE_CHANGE,t.playhead,null,t._eventData[k]);this._sendHit(n)}},i.prototype._onApiTrackError=function(e){var t=e.data;if(this._logger.debug(b,"#_onApiTrackError(source="+t._eventData.source+", err_id="+t._eventData.error_id+")"),this._isTrackingSessionActive){if(this._trackExternalErrors||t._eventData.source===P){this._updateQoSInfo(t);var n=new C(this,f.EVENT_TYPE_ERROR,0,null,t._eventData[k]);n.eventData.id(t._eventData.error_id),n.eventData.source(t._eventData.source),this._sendHit(n)}}else this._logger.warn(b,"#_onApiTrackError() > No active tracking session.")},i.prototype._onApiTrackInternalError=function(e){var t=e.data;this._logger.debug(b,"#_onApiTrackInternalError(source="+t.source+", err_id="+t.error_id+")"),this._updateQoSInfo(t);var n=new C(this,f.EVENT_TYPE_ERROR,0);n.eventData.id(t.error_id),n.eventData.source(t.source),this._sendHit(n)},i.prototype._onApiQuantumEnd=function(e){this._logger.debug(b,"#_onApiQuantumEnd(interval="+this._channel.request(E)+")");var t=e.data;this._checkCall("_onApiQuantumEnd")&&this._inputDataValidator.validateFields(t,["playhead"])&&(this._lastInBandItem&&(this._lastInBandItem.eventData.playhead(t.playhead),this._updateQoSInfo(t),this._lastInBandItem.qosData.bitrate(this._qosData.bitrate()),this._lastInBandItem.qosData.fps(this._qosData.fps()),this._lastInBandItem.qosData.droppedFrames(this._qosData.droppedFrames()),this._lastInBandItem.qosData.startupTime(this._qosData.startupTime())),this._sendHit(this._lastInBandItem))},i.prototype._onNetworkCheckStatusComplete=function(e){var t=e.data;this._trackExternalErrors=t[B],this._reportingInterval=t[M],this._reportingInterval||(this._reportingInterval=ae),this._logger.debug(b,"#_onNetworkCheckStatusComplete(track_ext_err="+this._trackExternalErrors+")")},i.prototype._onResetSessionId=function(e){var t=this._generateSessionId();this._sessionData=new c,this._sessionData.sessionId(t),this._logger.debug(b,"#_resetSessionId(new sessionId="+t+")")},i.prototype._installEventListeners=function(){this._channel.on(R,this._onApiAnalyticsStart,this),this._channel.on(x,this._onApiAnalyticsAdStart,this),this._channel.on(U,this._onApiVideoLoad,this),this._channel.on(F,this._onApiVideoUnload,this),this._channel.on(V,this._onApiVideoStart,this),this._channel.on(j,this._onApiVideoComplete,this),this._channel.on(G,this._onApiVideoResume,this),this._channel.on(q,this._onApiAdStart,this),this._channel.on(H,this._onApiAdComplete,this),this._channel.on(Y,this._onApiPlay,this),this._channel.on(K,this._onApiPause,this),this._channel.on(W,this._onApiBufferStart,this),this._channel.on(J,this._onApiSeekStart,this),this._channel.on(z,this._onApiSeekComplete,this),this._channel.on(X,this._onApiChapterStart,this),this._channel.on(Q,this._onApiChapterComplete,this),this._channel.on(ee,this._onApiBitrateChange,this),this._channel.on($,this._onApiTrackError,this),this._channel.on(Z,this._onApiTrackInternalError,this),this._channel.on(te,this._onApiQuantumEnd,this),this._channel.on(re,this._onNetworkCheckStatusComplete,this),this._channel.on(D,this._onResetSessionId,this),this._channel.reply(T,function(){return this._sessionData&&this._sessionData.sessionId()?this._sessionData.sessionId():null},this)},i.prototype._uninstallEventListeners=function(){this._channel.off(null,null,this)},i.prototype._resetInternalState=function(){this._logger.debug(b,"#_resetInternalState()"),this._isTrackingSessionActive=!1,this._isVideoComplete=!1,this._autoComputedStartupTime=0,this._streamData=new _,this._qosData=new g,this._sessionData=new c,this._assetData=new h,this._cuserData=null,this._stashedAdData=null,this._stashedChapterData=null,this._lastInBandItem=null},i.prototype._generateSessionId=function(){return""+(new Date).getTime()+Math.floor(1e9*Math.random())},i.prototype._updateQoSInfo=function(e){this._qosData.bitrate(e.bitrate||0),this._qosData.fps(e.fps||0),this._qosData.droppedFrames(e.droppedFrames||0),null==e.startupTime||isNaN(e.startupTime)?(this._qosData.startupTime(this._autoComputedStartupTime),this._qosData.isStartupTimeOverridden=!1):(this._qosData.startupTime(e.startupTime),this._qosData.isStartupTimeOverridden=!0)},i.prototype._checkCall=function(e){return this._isTrackingSessionActive?!this._isVideoComplete||(this._logger.warn(b,"#"+e+"() > The video content already completed."),!1):(this._logger.warn(b,"#"+e+"() > No active tracking session."),!1)},i.prototype._updateLastInBandItem=function(e){var t=(new Date).getTime(),n=1e3*Math.abs(e.eventData.playhead()-this._lastInBandItem.eventData.playhead()),r=Math.abs(t-this._lastInBandItem.eventData.ts());this._lastInBandItem.eventData.type()!=f.EVENT_TYPE_PAUSE&&this._lastInBandItem.eventData.type()!=f.EVENT_TYPE_STALL?(n<=r*ie||this._doNotOverrideEventDuration)&&r<=this._reportingInterval*ie*1e3?this._lastInBandItem.eventData.duration(t-this._lastInBandItem.eventData.ts()):(this._logger.warn(b,"[WARNING] Resetting duration in lastInBandItem to 0. playheadDelta:"+n+" tsDelta:"+r+" event type:"+this._lastInBandItem.eventData.type()),this._lastInBandItem.eventData.duration(0)):this._lastInBandItem.eventData.duration(t-this._lastInBandItem.eventData.ts()),this._doNotOverrideEventDuration&&(this._doNotOverrideEventDuration=!1),this._lastInBandItem.eventData.ts(t),this._lastInBandItem.eventData.playhead(e.eventData.playhead()),this._lastInBandItem.qosData.startupTime(e.qosData.startupTime()),this._lastInBandItem.qosData.isStartupTimeOverridden=e.qosData.isStartupTimeOverridden},i.prototype._sendHit=function(e){function t(e){var t=r._reportFactory.createReportForItem(e);t.qosData.isStartupTimeOverridden||t.qosData.startupTime(r._autoComputedStartupTime);var n={};n[O]=t,r._channel.trigger(new s(ne,n)),t.eventData.type()!=f.EVENT_TYPE_PLAY&&t.eventData.type()!=f.EVENT_TYPE_BUFFER&&t.eventData.type()!=f.EVENT_TYPE_START||((i={})[L]=!0,r._channel.command(w,i))}var r=this,i={};switch(e.eventData.type()){case f.EVENT_TYPE_START:case f.EVENT_TYPE_PLAY:case f.EVENT_TYPE_PAUSE:case f.EVENT_TYPE_STALL:case f.EVENT_TYPE_BUFFER:this._lastInBandItem&&(this._updateLastInBandItem(e),this._lastInBandItem.eventData.type()==f.EVENT_TYPE_START&&this._lastInBandItem.assetData.type()==h.TYPE_MAIN_CONTENT&&(this._autoComputedStartupTime+=this._lastInBandItem.eventData.duration()),e!=this._lastInBandItem&&t(this._lastInBandItem)),t(e),this._lastInBandItem=e,(i={})[L]=!0,this._channel.command(w,i);break;case f.EVENT_TYPE_COMPLETE:this._lastInBandItem&&(e.assetData.type()==h.TYPE_AD&&(this._doNotOverrideEventDuration=!0),this._updateLastInBandItem(e),t(this._lastInBandItem)),t(e),e.assetData.type()==h.TYPE_MAIN_CONTENT?(this._lastInBandItem=null,(i={})[L]=!0,this._channel.command(I,i)):e.assetData.type()==h.TYPE_AD&&(this._lastInBandItem.assetData.adData(null),this._lastInBandItem.assetData.type(h.TYPE_MAIN_CONTENT),this._doNotOverrideEventDuration=!0);break;case f.EVENT_TYPE_CHAPTER_START:case f.EVENT_TYPE_CHAPTER_COMPLETE:this._lastInBandItem&&(this._updateLastInBandItem(e),t(this._lastInBandItem)),t(e),this._lastInBandItem&&(this._lastInBandItem.assetData.chapterData(e.eventData.type()==f.EVENT_TYPE_CHAPTER_START?new v(e.assetData.chapterData()):null),this._lastInBandItem.eventData.duration(0),t(this._lastInBandItem));break;default:t(e)}};var b="ah::Context",P="sourceErrorSDK",S="error",w="clock:reporting.resume",I="clock:reporting.pause",E="reporting_interval",T="session_id",D="reset_session_id",k="callback",N="filter_report",O="report",L="reset",B="track_external_errors",M="reporting_interval",R="api:aa_start",x="api:aa_ad_start",U="api:video_load",F="api:video_unload",V="api:video_start",j="api:video_complete",G="api:video_resume",q="api:ad_start",H="api:ad_complete",Y="api:play",K="api:pause",W="api:buffer_start",J="api:seek_start",z="api:seek_complete",X="api:chapter_start",Q="api:chapter_complete",$="api:track_error",Z="api:track_internal_error",ee="api:bitrate_change",te="api:quantum_end",ne="context:report_available",re="net:check_status_complete",ie=1.5,ae=10;r.context.Context=i}(e.ADB.core,e.ADB.va,e.ADB.va.utils,t),function(){"use strict";var n="unknown";t.AdobeHeartbeatPluginConfig=function(e,t){this.trackingServer=e,this.publisher=t,this.ssl=!1,this.ovp=n,this.sdk=n,this.quietMode=!1,this.debugLogging=!1,this.__isPrimetime=!1,this.__psdkVersion=null}}(),function(e){"use strict";function t(){}t.prototype.onError=function(e){},e.AdobeHeartbeatPluginDelegate=t}(t),function(e,t,n){"use strict";function r(e){r.__super__.constructor.call(this,g),this._radio=new c(this._logger),this._channel=this._radio.channel(S),this._delegate=e,this._context=new d(this._channel,this._logger),this._filter=new p(this._channel,this._logger),this._network=new f(this._channel,this._logger),this._setupDataResolver()}var i=e.Event,a=e.Trigger,o=e.plugin.BasePlugin,s=e.plugin.ParamMapping,c=e.radio.Radio,u=t.ErrorInfo,l=t.Version,d=n.context.Context,p=n.filter.ReportFilter,f=n.network.Network,h=n.clock.Clock,_=n.AdobeHeartbeatPluginConfig;e.extend(r,o),r.prototype.configure=function(e){if(!e)throw new Error("Reference to the configuration data cannot be NULL.");if(!(e instanceof _))throw new Error("Expected config data to be instance of AdobeHeartbeatPluginConfig.");this._config=e,this._config.debugLogging?this._logger.enable():this._logger.disable(),this._logger.debug(this._logTag,"#configure({trackingServer="+this._config.trackingServer+", publisher="+this._config.publisher+", quietMode="+this._config.quietMode+", ssl="+this._config.ssl+"})");var t=this._config.trackingServer+"/settings/",n={};n[Z]=this._config.trackingServer,n[ee]=t,n[te]=this._config.publisher,n[ne]=this._config.quietMode,n[re]=this._config.ssl,this._channel.trigger(new i(se,n)),this._isConfigured=!0},r.prototype.bootstrap=function(e){r.__super__.bootstrap.call(this,e),this._channel.on(w,this._onError,this),this._clock=new h(this._pluginManager,this._channel,this._logger),this._channel.command(Te),this._channel.trigger(new i(Me)),this._registerCommands(),this._registerBehaviours()},r.prototype._teardown=function(){this._logger.debug(this._logTag,"#_teardown()"),this._radio.shutdown(),this._context.destroy(),this._clock.destroy(),this._filter.destroy(),this._network.destroy()},r.prototype._canProcess=function(){return this._isConfigured?this._errorInfo?(this._logger.error(this._logTag,"_canProcess() > Plugin in ERROR state."),!1):r.__super__._canProcess.call(this):(this._logger.error(this._logTag,"_canProcess() > Plugin not configured."),!1)},r.prototype._cmdAnalyticsError=function(e){this._errorInfo||(this._errorInfo=new u("Internal error","AdobeAnalyticsPlugin is in ERROR state."),this._trigger(w,this._errorInfo),this._delegate&&this._delegate.onError(this._errorInfo))},r.prototype._cmdAnalyticsStart=function(e){if(this._canProcess()){var t={};t[ie]=e.visitorOptedOut,this._channel.trigger(new i(ce,t)),this._channel.trigger(new i(ae,e))}},r.prototype._cmdAnalyticsAdStart=function(e){this._canProcess()&&this._channel.trigger(new i(oe,e))},r.prototype._cmdVideoLoad=function(e){this._errorInfo=null,this._canProcess()&&(this._isTrackingSessionActive&&this._channel.trigger(new i(le,e)),this._isTrackingSessionActive=!1,this._isPaused=!0,this._isSeeking=!1,this._isBuffering=!1,this._isVideoIdle=!1,this._filter.clear(),this._channel.trigger(new i(ue,e)),this._isTrackingSessionActive=!0)},r.prototype._cmdVideoUnload=function(e){this._errorInfo=null,this._canProcess()&&(this._channel.trigger(new i(le,e)),this._filter.flush(),this._runReportingTimer(!1),this._runFlushFilterTimer(!1),this._runIdleTimer(!1),this._isTrackingSessionActive=!1)},r.prototype._cmdVideoStart=function(e){this._canProcess()&&this._channel.trigger(new i(de,e))},r.prototype._cmdVideoComplete=function(e){this._canProcess()&&this._channel.trigger(new i(pe,e))},r.prototype._cmdVideoResume=function(e){this._canProcess()&&this._channel.trigger(new i(fe,e))},r.prototype._cmdPlay=function(e){this._canProcess()&&(this._isPaused=!1,this._resumePlaybackIfPossible(e))},r.prototype._cmdPause=function(e){this._canProcess()&&(this._channel.trigger(new i(me,e)),this._isPaused=!0,this._runIdleTimer(!0))},r.prototype._cmdAdStart=function(e){this._canProcess()&&(this._channel.trigger(new i(he,e)),this._resumePlaybackIfPossible(e))},r.prototype._cmdAdComplete=function(e){this._canProcess()&&(this._channel.trigger(new i(_e,e)),e.isInAdBreak||this._resumePlaybackIfPossible(e))},r.prototype._cmdBufferStart=function(e){this._canProcess()&&(this._channel.trigger(new i(ve,e)),this._isBuffering=!0,this._runIdleTimer(!0))},r.prototype._cmdBufferComplete=function(e){this._canProcess()&&(this._isBuffering=!1,this._resumePlaybackIfPossible(e))},r.prototype._cmdSeekStart=function(e){this._canProcess()&&(this._channel.trigger(new i(Ce,e)),this._channel.trigger(new i(me,e)),this._isSeeking=!0,this._runIdleTimer(!0))},r.prototype._cmdSeekComplete=function(e){this._canProcess()&&(this._channel.trigger(new i(ye,e)),this._isSeeking=!1,this._resumePlaybackIfPossible(e))},r.prototype._cmdChapterStart=function(e){this._canProcess()&&this._channel.trigger(new i(Ae,e))},r.prototype._cmdChapterComplete=function(e){this._canProcess()&&this._channel.trigger(new i(be,e))},r.prototype._cmdBitrateChange=function(e){this._canProcess()&&this._channel.trigger(new i(we,e))},r.prototype._cmdTrackError=function(e){this._canProcess()&&this._channel.trigger(new i(Pe,e))},r.prototype._cmdClockReportingTick=function(e){this._canProcess()&&this._channel.trigger(new i(Ie,e))},r.prototype._cmdIdleTick=function(e){this._canProcess()&&(this._isVideoIdle=!0,this._trigger(W),this._filter.flush(),this._runReportingTimer(!1),this._runFlushFilterTimer(!1),this._runIdleTimer(!1),this._trigger(Y))},r.prototype._onError=function(e){this._errorInfo=e.data;var t={};t[Q]=Ee,t[$]=this._errorInfo.getMessage()+"|"+this._errorInfo.getDetails(),this._channel.trigger(new i(Se,t)),this._runReportingTimer(!1),this._trigger(w,this._errorInfo),this._delegate&&this._delegate.onError(this._errorInfo)},r.prototype._runIdleTimer=function(e){var t={};t[X]=!0,e?this._channel.command(Le,t):this._channel.command(Be,t)},r.prototype._runFlushFilterTimer=function(e){var t={};t[X]=!0,e?this._channel.command(Ne,t):this._channel.command(Oe,t)},r.prototype._runReportingTimer=function(e){var t={};t[X]=!0,e?this._channel.command(De,t):this._channel.command(ke,t)},r.prototype._registerCommands=function(){this._pluginManager.comply(this,"handleAnalyticsError",this._cmdAnalyticsError),this._pluginManager.comply(this,"handleAnalyticsStart",this._cmdAnalyticsStart),this._pluginManager.comply(this,"handleAnalyticsAdStart",this._cmdAnalyticsAdStart),this._pluginManager.comply(this,"handleVideoLoad",this._cmdVideoLoad),this._pluginManager.comply(this,"handleVideoUnload",this._cmdVideoUnload),this._pluginManager.comply(this,"handleVideoStart",this._cmdVideoStart),this._pluginManager.comply(this,"handleVideoComplete",this._cmdVideoComplete),this._pluginManager.comply(this,"handleVideoResume",this._cmdVideoResume),this._pluginManager.comply(this,"handlePlay",this._cmdPlay),this._pluginManager.comply(this,"handlePause",this._cmdPause),this._pluginManager.comply(this,"handleAdStart",this._cmdAdStart),this._pluginManager.comply(this,"handleAdComplete",this._cmdAdComplete),this._pluginManager.comply(this,"handleBufferStart",this._cmdBufferStart),this._pluginManager.comply(this,"handleBufferComplete",this._cmdBufferComplete),this._pluginManager.comply(this,"handleSeekStart",this._cmdSeekStart),this._pluginManager.comply(this,"handleSeekComplete",this._cmdSeekComplete),this._pluginManager.comply(this,"handleChapterStart",this._cmdChapterStart),this._pluginManager.comply(this,"handleChapterComplete",this._cmdChapterComplete),this._pluginManager.comply(this,"handleBitrateChange",this._cmdBitrateChange),this._pluginManager.comply(this,"handleTrackError",this._cmdTrackError),this._pluginManager.comply(this,"handleClockReportingTick",this._cmdClockReportingTick),this._pluginManager.comply(this,"handleIdleTick",this._cmdIdleTick)},r.prototype._registerBehaviours=function(){this._pluginManager.registerBehaviour(new a(C,T),this,"handleVideoLoad",[new s(v,"rsid","rsid"),new s(v,"tracking_server","trackingServer")]),this._pluginManager.registerBehaviour(new a(C,D),this,"handleVideoUnload"),this._pluginManager.registerBehaviour(new a(C,k),this,"handleVideoStart",[new s(C,"video.id","videoId"),new s(C,"video.name","videoName"),new s(C,"video.length","videoLength"),new s(C,"video.playhead","playhead"),new s(C,"video.playerName","playerName"),new s(C,"video.streamType","streamType"),new s(C,"qos.fps","fps"),new s(C,"qos.droppedFrames","droppedFrames"),new s(C,"qos.bitrate","bitrate"),new s(C,"qos.startupTime","startupTime"),new s(v,"rsid","rsid"),new s(v,"tracking_server","trackingServer"),new s(v,"channel","channel"),new s(v,"meta.video.*","metaVideo"),new s(v,"ssl","useSsl"),new s(y,"meta","metaNielsen"),new s(m,"publisher","publisher"),new s(m,"sdk","sdk"),new s(m,"ovp","ovp"),new s(m,"version","version"),new s(m,"api_level","apiLvl")]),this._pluginManager.registerBehaviour(new a(C,O),this,"handleVideoComplete",[new s(C,"qos.fps","fps"),new s(C,"qos.droppedFrames","droppedFrames"),new s(C,"qos.bitrate","bitrate"),new s(C,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new a(C,N),this,"handleVideoResume",[new s(C,"video.id","videoId"),new s(C,"video.name","videoName"),new s(C,"video.length","videoLength"),new s(C,"video.playhead","playhead"),new s(C,"video.playerName","playerName"),new s(C,"video.streamType","streamType")]),this._pluginManager.registerBehaviour(new a(C,L),this,"handlePlay",[new s(C,"video.playhead","playhead"),new s(C,"qos.fps","fps"),new s(C,"qos.droppedFrames","droppedFrames"),new s(C,"qos.bitrate","bitrate"),new s(C,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new a(C,B),this,"handlePause",[new s(C,"video.playhead","playhead"),new s(C,"video.playheadStalled","playheadStalled"),new s(C,"qos.fps","fps"),new s(C,"qos.droppedFrames","droppedFrames"),new s(C,"qos.bitrate","bitrate"),new s(C,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new a(C,M),this,"handleAdStart",[new s(C,"video.playhead","playhead"),new s(C,"ad.id","adId"),new s(C,"ad.name","adName"),new s(C,"ad.length","adLength"),new s(C,"ad.position","adPosition"),new s(C,"pod.name","podName"),new s(C,"pod.playerName","podPlayerName"),new s(C,"pod.position","podPosition"),new s(C,"pod.startTime","podSecond"),new s(C,"qos.fps","fps"),new s(C,"qos.droppedFrames","droppedFrames"),new s(C,"qos.bitrate","bitrate"),new s(C,"qos.startupTime","startupTime"),new s(v,"meta.video.*","metaVideo"),new s(v,"meta.ad.*","metaAd"),new s(y,"meta","metaNielsen")]),this._pluginManager.registerBehaviour(new a(C,R),this,"handleAdComplete",[new s(C,"video.playhead","playhead"),new s(C,"ad.isInAdBreak","isInAdBreak"),new s(C,"qos.fps","fps"),new s(C,"qos.droppedFrames","droppedFrames"),new s(C,"qos.bitrate","bitrate"),new s(C,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new a(C,x),this,"handleBufferStart",[new s(C,"video.playhead","playhead"),new s(C,"qos.fps","fps"),new s(C,"qos.droppedFrames","droppedFrames"),new s(C,"qos.bitrate","bitrate"),new s(C,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new a(C,U),this,"handleBufferComplete",[new s(C,"video.playhead","playhead"),new s(C,"qos.fps","fps"),new s(C,"qos.droppedFrames","droppedFrames"),new s(C,"qos.bitrate","bitrate"),new s(C,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new a(C,F),this,"handleSeekStart",[new s(C,"video.playhead","playhead")]),this._pluginManager.registerBehaviour(new a(C,V),this,"handleSeekComplete",[new s(C,"video.playhead","playhead"),new s(C,"ad.isInAd","isInAd"),new s(C,"ad.id","adId"),new s(C,"ad.position","adPosition"),new s(C,"pod.playerName","podPlayerName"),new s(C,"pod.position","podPosition"),new s(C,"chapter.isInChapter","isInChapter"),new s(C,"chapter.position","chapterPosition"),new s(C,"chapter.name","chapterName"),new s(C,"chapter.length","chapterLength"),new s(C,"chapter.startTime","chapterOffset"),new s(C,"qos.fps","fps"),new s(C,"qos.droppedFrames","droppedFrames"),new s(C,"qos.bitrate","bitrate"),new s(C,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new a(C,j),this,"handleChapterStart",[new s(C,"video.playhead","playhead"),new s(C,"chapter.position","chapterPosition"),new s(C,"chapter.name","chapterName"),new s(C,"chapter.length","chapterLength"),new s(C,"chapter.startTime","chapterOffset"),new s(C,"qos.fps","fps"),new s(C,"qos.droppedFrames","droppedFrames"),new s(C,"qos.bitrate","bitrate"),new s(C,"qos.startupTime","startupTime"),new s(v,"meta.video.*","metaVideo"),new s(v,"meta.chapter.*","metaChapter"),new s(y,"meta","metaNielsen")]),this._pluginManager.registerBehaviour(new a(C,G),this,"handleChapterComplete",[new s(C,"video.playhead","playhead"),new s(C,"qos.fps","fps"),new s(C,"qos.droppedFrames","droppedFrames"),new s(C,"qos.bitrate","bitrate"),new s(C,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new a(C,q),this,"handleBitrateChange",[new s(C,"video.playhead","playhead"),new s(C,"qos.fps","fps"),new s(C,"qos.droppedFrames","droppedFrames"),new s(C,"qos.bitrate","bitrate"),new s(C,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new a(C,H),this,"handleTrackError"),this._pluginManager.registerBehaviour(new a(A,J),this,"handleClockReportingTick",[new s(C,"video.playhead","playhead"),new s(C,"qos.fps","fps"),new s(C,"qos.droppedFrames","droppedFrames"),new s(C,"qos.bitrate","bitrate"),new s(C,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new a(A,z),this,"handleIdleTick",[]),this._pluginManager.registerBehaviour(new a(m,W),this,"handleClockReportingTick",[new s(C,"video.playhead","playhead"),new s(C,"qos.fps","fps"),new s(C,"qos.droppedFrames","droppedFrames"),new s(C,"qos.bitrate","bitrate"),new s(C,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new a(v,w),this,"handleAnalyticsError"),this._pluginManager.registerBehaviour(new a(v,I),this,"handleAnalyticsStart",[new s(v,"vid","vid"),new s(v,"aid","aid"),new s(v,"mid","mid"),new s(v,"customerIDs","customerIDs"),new s(v,"visitorOptedOut","visitorOptedOut"),new s(v,"blob","blob"),new s(v,"loc_hint","loc_hint"),new s(C,"video.playhead","playhead"),new s(C,"qos.fps","fps"),new s(C,"qos.droppedFrames","droppedFrames"),new s(C,"qos.bitrate","bitrate"),new s(C,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new a(v,E),this,"handleAnalyticsAdStart",[new s(C,"video.playhead","playhead"),new s(C,"qos.fps","fps"),new s(C,"qos.droppedFrames","droppedFrames"),new s(C,"qos.bitrate","bitrate"),new s(C,"qos.startupTime","startupTime")])},r.prototype._setupDataResolver=function(){var i={},e=this;i.version=function(){return l.getVersion()},i.api_level=function(){return l.getApiLevel()},i.tracking_server=function(){return e._config?e._config.trackingServer:null},i.publisher=function(){return e._config?e._config.publisher:null},i.quiet_mode=function(){return!!e._config&&e._config.quietMode},i.ovp=function(){return e._config?e._config.ovp:null},i.sdk=function(){return e._config?e._config.sdk:null},i.is_primetime=function(){return!!e._config&&e._config.__isPrimetime},i.psdk_version=function(){return e._config?e._config.__psdkVersion:null},i.session_id=function(){return e._channel.request(b)},this._dataResolver=function(e){if(!e||0==e.length)return null;for(var t=null,n=0;n<e.length;n++){var r=e[n];(t=t||{})[r]=i.hasOwnProperty(r)?i[r].call(this):null}return t}},r.prototype._resumePlaybackIfPossible=function(e){this._errorInfo||this._isPaused||this._isSeeking||this._isBuffering||(this._isVideoIdle&&(this._isVideoIdle=!1,this._resumePlaybackFromIdle()),this._runIdleTimer(!1),this._channel.trigger(new i(ge,e)))},r.prototype._resumePlaybackFromIdle=function(){this._trigger(W),this._filter.clear(),this._channel.trigger(new i(P)),this._trigger(K),this._runReportingTimer(!0),this._runFlushFilterTimer(!0)};var g="adobe-heartbeat",m=g,v="adobe-analytics",C="player",y="nielsen",A="service.clock",b="session_id",P="reset_session_id",S="heartbeat-channel",w="error",I="aa_start",E="sc_ad_start",T="video_load",D="video_unload",k="video_start",N="video_resume",O="video_complete",L="play",B="pause",M="ad_start",R="ad_complete",x="buffer_start",U="buffer_complete",F="seek_start",V="seek_complete",j="chapter_start",G="chapter_complete",q="bitrate_change",H="track_error",Y="video_idle_start",K="video_idle_resume",W="quantum_close",J="heartbeat.reporting.tick",z="heartbeat.idle.tick",X="reset",Q="source",$="error_id",Z="tracking_server",ee="check_status_server",te="publisher",ne="quiet_mode",re="ssl",ie="visitor_opt_out",ae="api:aa_start",oe="api:aa_ad_start",se="api:config",ce="api:update_visitor_optout",ue="api:video_load",le="api:video_unload",de="api:video_start",pe="api:video_complete",fe="api:video_resume",he="api:ad_start",_e="api:ad_complete",ge="api:play",me="api:pause",ve="api:buffer_start",Ce="api:seek_start",ye="api:seek_complete",Ae="api:chapter_start",be="api:chapter_complete",Pe="api:track_error",Se="api:track_internal_error",we="api:bitrate_change",Ie="api:quantum_end",Ee="sourceErrorHeartbeat",Te="clock:check_status.resume",De="clock:reporting.resume",ke="clock:reporting.pause",Ne="clock:flush_filter.resume",Oe="clock:flush_filter.pause",Le="clock:idle.resume",Be="clock:idle.pause",Me="clock:check_status.get_settings";n.AdobeHeartbeatPlugin=r}(e.ADB.core,e.ADB.va,t),e.ADB.va.plugins.ah||(e.ADB.va.plugins.ah=t)}(this),function(e){if(void 0===t)var t={};!function(e,t){"use strict";function n(e,t){this._onFail={fn:e,ctx:t}}var r=e.ErrorInfo;n.prototype.validateFields=function(e,t){if(!e)return this._fail("Data cannot be null");if(t)for(var n=0;n<t.length;n++){var r=t[n];switch(r){case"videoId":if(!e.hasOwnProperty("videoId"))return this._fail("The ID for the main video must be specified.");if("string"!=typeof e.videoId)return this._fail("The ID for the main video must be a String.");if(""===e.videoId)return this._fail("The ID for the main video cannot be an empty string.");break;case"streamType":if(!e.hasOwnProperty("streamType"))return this._fail("The stream type for the main video must be specified.");if("string"!=typeof e.streamType)return this._fail("The stream type for the main video must be a String.");if(""===e.streamType)return this._fail("The stream type for the main video cannot be an empty string.");break;case"playerName":if(!e.hasOwnProperty("playerName"))return this._fail("The player name for the main video must be specified.");if("string"!=typeof e.playerName)return this._fail("The player name for the main video must be a String.");if(""===e.playerName)return this._fail("The player name for the main video cannot be an empty string.");break;case"videoLength":if(!e.hasOwnProperty("videoLength"))return this._fail("The length of the main video must be specified.");if("number"!=typeof e.videoLength)return this._fail("The length of the main video must be a Number.");if(isNaN(e.videoLength))return this._fail("The length of the main video cannot be NaN.");break;case"podPlayerName":if(!e.hasOwnProperty("podPlayerName"))return this._fail("The player name for the ad-break must be specified.");if("string"!=typeof e.podPlayerName)return this._fail("The player name for the ad-break must be a String.");if(""===e.podPlayerName)return this._fail("The player name for the ad-break cannot be an empty string.");break;case"podPosition":if(!e.hasOwnProperty("podPosition"))return this._fail("Position (index) of the ad-break must be specified.");if("number"!=typeof e.podPosition)return this._fail("Position (index) of the ad-break must be a Number.");if(isNaN(e.podPosition))return this._fail("Position (index) of the ad-break cannot be NaN.");break;case"adId":if(!e.hasOwnProperty("adId"))return this._fail("The ad ID must be specified.");if("string"!=typeof e.adId)return this._fail("The ad ID must be a String.");if(""===e.adId)return this._fail("The ad ID cannot be an empty string.");break;case"adPosition":if(!e.hasOwnProperty("adPosition"))return this._fail("Position (index) of the ad must be specified.");if("number"!=typeof e.adPosition)return this._fail("Position (index) of the ad must be a Number.");if(isNaN(e.adPosition))return this._fail("Position (index) of the ad cannot be NaN.");break;case"adLength":if(!e.hasOwnProperty("adLength"))return this._fail("The length of the ad must be specified.");if("number"!=typeof e.adLength)return this._fail("The length of the ad must be a Number.");if(isNaN(e.adLength))return this._fail("The length of the ad cannot be NaN.");break;default:return this._fail("Unable to validate unknown parameter: "+r)}}return!0},n.prototype._fail=function(e){var t=new r("Invalid input data",e);return this._onFail.fn&&this._onFail.fn.call(this._onFail.ctx,t),!1},t.InputDataValidator=n}(e.ADB.va,t),function(){"use strict";t.AdobeAnalyticsPluginConfig=function(){this.channel="",this.debugLogging=!1}}(),function(e){"use strict";function t(){}t.prototype.onError=function(e){},e.AdobeAnalyticsPluginDelegate=t}(t),function(e,t,n,r){"use strict";function i(e,t){if(i.__super__.constructor.call(this,m),!e)throw new Error("The reference to the AppMeasurement object cannot be NULL.");this._appMeasurement=e,this._delegate=t,this._customMetaKeys=[],this._videoMetadata={},this._adMetadata={},this._chapterMetadata={},this._errorInfo=null,this._workQueue=new l(!0,b),this._inputDataValidator=new g(function(e){this._errorInfo=e,this._logger.error(this._logTag,e.getMessage()+" | "+e.getDetails());var t=this;setTimeout(function(){t._trigger(P,e),t._delegate&&t._delegate.onError(t._errorInfo)},0)},this),this._appMeasurement.isReadyToTrack(),this._setupDataResolver()}var a=e.Trigger,o=e.plugin.BasePlugin,s=e.plugin.ParamMapping,c=e.radio.Channel,u=e.radio.Command,l=e.radio.CommandQueue,d=t.ErrorInfo,p=n.md5,f=n.StringUtils,h=n.ObjectUtils,_=r.AdobeAnalyticsPluginConfig,g=r.InputDataValidator;e.extend(i,o),i.prototype.configure=function(e){if(!e)throw new Error("Reference to the configuration data cannot be NULL.");if(!(e instanceof _))throw new Error("Expected config data to be instance of AdobeAnalyticsPluginConfig.");this._config=e,this._config.debugLogging?this._logger.enable():this._logger.disable(),this._logger.debug(this._logTag,"#configure({trackingServer="+this._config.debugLogging+", channel="+this._config.channel+", ssl="+this._appMeasurement.ssl+"})")},i.prototype.bootstrap=function(e){i.__super__.bootstrap.call(this,e),this._registerCommands(),this._registerBehaviours()},i.prototype.setup=function(){this._appMeasurement.isReadyToTrack()?this._onAppMeasurementReady():this._appMeasurement.callbackWhenReadyToTrack(this,this._onAppMeasurementReady,[]),i.__super__.setup.call(this)},i.prototype.setVideoMetadata=function(e){this._videoMetadata=h.clone(e)},i.prototype.setAdMetadata=function(e){this._adMetadata=h.clone(e)},i.prototype.setChapterMetadata=function(e){this._chapterMetadata=h.clone(e)},i.prototype._canProcess=function(){return this._errorInfo?(this._logger.error(this._logTag,"#_canProcess() > In ERROR state."),!1):i.__super__._canProcess.call(this)},i.prototype._cmdVideoLoad=function(e){this._errorInfo=null},i.prototype._cmdVideoStart=function(e){this._logger.debug(this._logTag,"#_cmdVideoStart()"),this._canProcess()&&this._workQueue.addCommand(new u(this._executeOpen,this,[e]))},i.prototype._cmdAdStart=function(e){this._logger.debug(this._logTag,"#_cmdAdStart()"),this._canProcess()&&this._workQueue.addCommand(new u(this._executeOpenAd,this,[e]))},i.prototype._cmdHeartbeatPluginError=function(e){this._errorInfo||(this._errorInfo=new d("Internal error","HeartbeatPlugin is in ERROR state."),this._trigger(P,this._errorInfo),this._delegate&&this._delegate.onError(this._errorInfo))},i.prototype._resetAppMeasurementContextData=function(){delete this._appMeasurement.contextData["a.contentType"],delete this._appMeasurement.contextData["a.media.name"],delete this._appMeasurement.contextData["a.media.friendlyName"],delete this._appMeasurement.contextData["a.media.length"],delete this._appMeasurement.contextData["a.media.playerName"],delete this._appMeasurement.contextData["a.media.channel"],delete this._appMeasurement.contextData["a.media.view"],delete this._appMeasurement.contextData["a.media.ad.name"],delete this._appMeasurement.contextData["a.media.ad.friendlyName"],delete this._appMeasurement.contextData["a.media.ad.podFriendlyName"],delete this._appMeasurement.contextData["a.media.ad.length"],delete this._appMeasurement.contextData["a.media.ad.playerName"],delete this._appMeasurement.contextData["a.media.ad.pod"],delete this._appMeasurement.contextData["a.media.ad.podPosition"],delete this._appMeasurement.contextData["a.media.ad.podSecond"],delete this._appMeasurement.contextData["a.media.ad.view"];for(var e=0;e<this._customMetaKeys.length;e++){var t=this._customMetaKeys[e];delete this._appMeasurement.contextData[t]}this._customMetaKeys=[]},i.prototype._executeOpen=function(e){if(this._logger.debug(this._logTag,"#_executeOpen(id="+e.videoId+", videoName="+e.videoName+", streamType="+e.streamType+", length="+e.videoLength+", playerName="+e.playerName+", channel="+e.channel+", isPrimetime="+e.isPrimetime+", sessionId="+e.sessionId+")"),this._canProcess()&&this._inputDataValidator.validateFields(e,["videoId","streamType","videoLength","playerName"])){for(var t in this._resetAppMeasurementContextData(),e.metaVideo)e.metaVideo.hasOwnProperty(t)&&(this._appMeasurement.contextData[t]=e.metaVideo[t],this._customMetaKeys.push(t));if(e.metaNielsen)for(var t in e.metaNielsen)e.metaNielsen.hasOwnProperty(t)&&(this._appMeasurement.contextData[t]=e.metaNielsen[t],this._customMetaKeys.push(t));this._appMeasurement.contextData["a.contentType"]=e.streamType,this._appMeasurement.contextData["a.media.name"]=e.videoId,this._appMeasurement.contextData["a.media.friendlyName"]=e.videoName||"",this._appMeasurement.contextData["a.media.length"]=Math.floor(e.videoLength)||"0.0",this._appMeasurement.contextData["a.media.playerName"]=e.playerName,this._appMeasurement.contextData["a.media.channel"]=e.channel||"",this._appMeasurement.contextData["a.media.view"]=!0,this._appMeasurement.contextData["a.media.vsid"]=e.sessionId,this._appMeasurement.pev3=S,this._appMeasurement.pe=e.isPrimetime?E:I,this._appMeasurement.track();var n=this;setTimeout(function(){n._trigger(k,e)},0)}},i.prototype._executeOpenAd=function(e){var t=p(e.videoId)+"_"+e.podPosition;if(this._logger.debug(this._logTag,"#_executeOpenAd(id="+e.adId+", streamType="+e.streamType+", length="+e.adLength+", podPlayerName="+e.podPlayerName+", parentId="+e.videoId+", podId="+t+", parentPodPosition="+e.adPosition+", podSecond="+e.podSecond+")"),this._canProcess()&&this._inputDataValidator.validateFields(e,["videoId","streamType","playerName","adId","adLength","podPlayerName","adPosition"])){for(n in e.podSecond=null==e.podSecond||isNaN(e.podSecond)?e.playhead:e.podSecond,this._resetAppMeasurementContextData(),e.metaVideo)e.metaVideo.hasOwnProperty(n)&&(this._appMeasurement.contextData[n]=e.metaVideo[n],this._customMetaKeys.push(n));for(n in e.metaAd)e.metaAd.hasOwnProperty(n)&&(this._appMeasurement.contextData[n]=e.metaAd[n],this._customMetaKeys.push(n));if(e.metaNielsen)for(var n in e.metaNielsen)e.metaNielsen.hasOwnProperty(n)&&(this._appMeasurement.contextData[n]=e.metaNielsen[n],this._customMetaKeys.push(n));this._appMeasurement.contextData["a.contentType"]=e.streamType,this._appMeasurement.contextData["a.media.name"]=e.videoId,this._appMeasurement.contextData["a.media.playerName"]=e.playerName,this._appMeasurement.contextData["a.media.channel"]=e.channel||"",this._appMeasurement.contextData["a.media.vsid"]=e.sessionId,this._appMeasurement.contextData["a.media.friendlyName"]=e.videoName||"",this._appMeasurement.contextData["a.media.length"]=Math.floor(e.videoLength)||"0.0",this._appMeasurement.contextData["a.media.ad.name"]=e.adId,this._appMeasurement.contextData["a.media.ad.friendlyName"]=e.adName||"",this._appMeasurement.contextData["a.media.ad.podFriendlyName"]=e.podName||"",this._appMeasurement.contextData["a.media.ad.length"]=Math.floor(e.adLength)||"0.0",this._appMeasurement.contextData["a.media.ad.playerName"]=e.podPlayerName,this._appMeasurement.contextData["a.media.ad.pod"]=t,this._appMeasurement.contextData["a.media.ad.podPosition"]=Math.floor(e.adPosition)||"0.0",this._appMeasurement.contextData["a.media.ad.podSecond"]=Math.floor(e.podSecond)||"0.0",this._appMeasurement.contextData["a.media.ad.view"]=!0,this._appMeasurement.pev3=w,this._appMeasurement.pe=e.isPrimetime?D:T,this._appMeasurement.track();var r=this;setTimeout(function(){r._trigger(N,e)},0)}},i.prototype._setupDataResolver=function(){var i={},a=this;i.rsid=function(){return a._appMeasurement.account},i.tracking_server=function(){return a._appMeasurement.ssl&&a._appMeasurement.trackingServerSecure?a._appMeasurement.trackingServerSecure:a._appMeasurement.trackingServer},i.ssl=function(){return a._appMeasurement.ssl},i.vid=function(){return a._appMeasurement.visitorID},i.aid=function(){return a._appMeasurement.analyticsVisitorID},i.mid=function(){return a._appMeasurement.marketingCloudVisitorID},i.blob=function(){return a._appMeasurement.audienceManagerBlob},i.loc_hint=function(){return a._appMeasurement.audienceManagerLocationHint?parseInt(a._appMeasurement.audienceManagerLocationHint):""},i.customerIDs=function(){var e=a._appMeasurement.visitor.getCustomerIDs(),t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];if("object"==typeof r){for(var i in r)r.hasOwnProperty(i)&&("authState"==i?t[n+".as"]=r[i]:t[n+"."+i]=r[i]);t[n+".as"]||(t[n+".as"]="0")}}return t},i.channel=function(){return a._config?a._config.channel:null},i.meta=function(e){var t=e.split(".");if(t.length<2)return null;var n=t.shift();switch(e=t.join("."),n){case"video":return e==c.WILDCARD?a._videoMetadata:a._videoMetadata[e];case"ad":return e==c.WILDCARD?a._adMetadata:a._adMetadata[e];case"chapter":return e==c.WILDCARD?a._chapterMetadata:a._chapterMetadata[e];default:return null}},i.visitorOptedOut=function(){return null!=a._appMeasurement.visitorOptedOut&&a._appMeasurement.visitorOptedOut},this._dataResolver=function(e){if(!e||0==e.length)return null;for(var t=null,n=0;n<e.length;n++){var r=e[n];t=t||{},f.startsWith(r,"meta.")?t[r]=i.meta(r.split("meta.")[1]):t[r]=i.hasOwnProperty(r)?i[r].call(this):null}return t}},i.prototype._registerCommands=function(){this._pluginManager.comply(this,"handleVideoLoad",this._cmdVideoLoad),this._pluginManager.comply(this,"handleVideoStart",this._cmdVideoStart),this._pluginManager.comply(this,"handleAdStart",this._cmdAdStart),this._pluginManager.comply(this,"handleHeartbeatPluginError",this._cmdHeartbeatPluginError)},i.prototype._registerBehaviours=function(){this._pluginManager.registerBehaviour(new a(y,O),this,"handleVideoLoad"),this._pluginManager.registerBehaviour(new a(y,L),this,"handleVideoStart",[new s(y,"video.id","videoId"),new s(y,"video.streamType","streamType"),new s(y,"video.name","videoName"),new s(y,"video.length","videoLength"),new s(y,"video.playerName","playerName"),new s(y,"video.streamType","streamType"),new s(A,"is_primetime","isPrimetime"),new s(A,"session_id","sessionId"),new s(v,"channel","channel"),new s(v,"meta.video.*","metaVideo"),new s(C,"meta","metaNielsen")]),this._pluginManager.registerBehaviour(new a(y,B),this,"handleAdStart",[new s(y,"video.id","videoId"),new s(y,"video.streamType","streamType"),new s(y,"video.playhead","playhead"),new s(y,"video.playerName","playerName"),new s(y,"video.name","videoName"),new s(y,"video.length","videoLength"),new s(y,"ad.id","adId"),new s(y,"ad.length","adLength"),new s(y,"ad.position","adPosition"),new s(y,"ad.name","adName"),new s(y,"pod.name","podName"),new s(y,"pod.position","podPosition"),new s(y,"pod.playerName","podPlayerName"),new s(y,"pod.startTime","podSecond"),new s(A,"is_primetime","isPrimetime"),new s(A,"session_id","sessionId"),new s(v,"channel","channel"),new s(v,"meta.video.*","metaVideo"),new s(v,"meta.ad.*","metaAd"),new s(C,"meta","metaNielsen")]),this._pluginManager.registerBehaviour(new a(A,P),this,"handleHeartbeatPluginError")},i.prototype._onAppMeasurementReady=function(){this._workQueue.resume()};var m="adobe-analytics",v=m,C="nielsen",y="player",A="adobe-heartbeat",b=2e3,P="error",S="video",w="videoAd",I="ms_s",E="msp_s",T="msa_s",D="mspa_s",k="aa_start",N="sc_ad_start",O="video_load",L="video_start",B="ad_start";r.AdobeAnalyticsPlugin=i}(e.ADB.core,e.ADB.va,e.ADB.va.utils,t),function(e){"use strict";e.VideoMetadataKeys={SHOW:"a.media.show",SEASON:"a.media.season",EPISODE:"a.media.episode",ASSET_ID:"a.media.asset",GENRE:"a.media.genre",FIRST_AIR_DATE:"a.media.airDate",FIRST_DIGITAL_DATE:"a.media.digitalDate",RATING:"a.media.rating",ORIGINATOR:"a.media.originator",NETWORK:"a.media.network",SHOW_TYPE:"a.media.type",AD_LOAD:"a.media.adLoad",MVPD:"a.media.pass.mvpd",AUTHORIZED:"a.media.pass.auth",DAY_PART:"a.media.dayPart",FEED:"a.media.feed",STREAM_FORMAT:"a.media.format"},e.AdMetadataKeys={ADVERTISER:"a.media.ad.advertiser",CAMPAIGN_ID:"a.media.ad.campaign",CREATIVE_ID:"a.media.ad.creative",PLACEMENT_ID:"a.media.ad.placement",SITE_ID:"a.media.ad.site",CREATIVE_URL:"a.media.ad.creativeURL"}}(t),e.ADB.va.plugins.aa||(e.ADB.va.plugins.aa=t)}(this),function(U){!function(e){"use strict";function t(){this.trackingServer=void 0,this.channel=void 0,this.ovp=void 0,this.appVersion=void 0,this.playerName=void 0,this.ssl=!1,this.debugLogging=!1}e.MediaHeartbeatConfig=t,e.MediaHeartbeatConfig.sharedInstance=new t}(U.ADB.va),function(e){"use strict";function t(){this.data={}}var n=e.plugins.videoplayer.VideoInfo,r=e.plugins.videoplayer.AdBreakInfo,i=e.plugins.videoplayer.AdInfo,a=e.plugins.videoplayer.ChapterInfo,o=e.plugins.videoplayer.QoSInfo;t.MEDIAINFO_KEY_NAME="a.name",t.MEDIAINFO_KEY_VIDEOID="a.videoId",t.MEDIAINFO_KEY_ADID="a.adId",t.MEDIAINFO_KEY_LENGTH="a.length",t.MEDIAINFO_KEY_PLAYHEAD="a.playhead",t.MEDIAINFO_KEY_STREAMTYPE="a.streamType",t.MEDIAINFO_KEY_POSITION="a.position",t.MEDIAINFO_KEY_STARTTIME="a.startTime",t.MEDIAINFO_KEY_BITRATE="a.bitrate",t.MEDIAINFO_KEY_FPS="a.fps",t.MEDIAINFO_KEY_DROPPEDFRAMES="a.droppedFrames",t.MEDIAINFO_KEY_STARTUPTIME="a.startupTime",t.MEDIAINFO_KEY_TIMEDMETADATA="a.timedMetadata",t.prototype.setValue=function(e,t){this.data[e]=t},t.prototype.getValue=function(e){return this.data.hasOwnProperty(e)?this.data[e]:null},t.prototype.createVideoInfo=function(){var e=new n;return e.id=null!=this.getValue(t.MEDIAINFO_KEY_VIDEOID)?this.getValue(t.MEDIAINFO_KEY_VIDEOID):"",e.name=null!=this.getValue(t.MEDIAINFO_KEY_NAME)?this.getValue(t.MEDIAINFO_KEY_NAME):"",e.length=null!=this.getValue(t.MEDIAINFO_KEY_LENGTH)?this.getValue(t.MEDIAINFO_KEY_LENGTH):0,e.playhead=null!=this.getValue(t.MEDIAINFO_KEY_PLAYHEAD)?this.getValue(t.MEDIAINFO_KEY_PLAYHEAD):0,e.streamType=null!=this.getValue(t.MEDIAINFO_KEY_STREAMTYPE)?this.getValue(t.MEDIAINFO_KEY_STREAMTYPE):"",e},t.prototype.createAdBreakInfo=function(){var e=new r;return e.name=null!=this.getValue(t.MEDIAINFO_KEY_NAME)?this.getValue(t.MEDIAINFO_KEY_NAME):"",e.position=null!=this.getValue(t.MEDIAINFO_KEY_POSITION)?this.getValue(t.MEDIAINFO_KEY_POSITION):0,e.startTime=null!=this.getValue(t.MEDIAINFO_KEY_STARTTIME)?this.getValue(t.MEDIAINFO_KEY_STARTTIME):0,e},t.prototype.createAdInfo=function(){var e=new i;return e.id=null!=this.getValue(t.MEDIAINFO_KEY_ADID)?this.getValue(t.MEDIAINFO_KEY_ADID):"",e.name=null!=this.getValue(t.MEDIAINFO_KEY_NAME)?this.getValue(t.MEDIAINFO_KEY_NAME):"",e.length=null!=this.getValue(t.MEDIAINFO_KEY_LENGTH)?this.getValue(t.MEDIAINFO_KEY_LENGTH):0,e.position=null!=this.getValue(t.MEDIAINFO_KEY_POSITION)?this.getValue(t.MEDIAINFO_KEY_POSITION):0,e},t.prototype.createChapterInfo=function(){var e=new a;return e.name=null!=this.getValue(t.MEDIAINFO_KEY_NAME)?this.getValue(t.MEDIAINFO_KEY_NAME):"",e.length=null!=this.getValue(t.MEDIAINFO_KEY_LENGTH)?this.getValue(t.MEDIAINFO_KEY_LENGTH):0,e.startTime=null!=this.getValue(t.MEDIAINFO_KEY_STARTTIME)?this.getValue(t.MEDIAINFO_KEY_STARTTIME):0,e.position=null!=this.getValue(t.MEDIAINFO_KEY_POSITION)?this.getValue(t.MEDIAINFO_KEY_POSITION):0,e},t.prototype.createQoSInfo=function(){var e=new o;return e.bitrate=null!=this.getValue(t.MEDIAINFO_KEY_BITRATE)?this.getValue(t.MEDIAINFO_KEY_BITRATE):0,e.fps=null!=this.getValue(t.MEDIAINFO_KEY_FPS)?this.getValue(t.MEDIAINFO_KEY_FPS):0,e.droppedFrames=null!=this.getValue(t.MEDIAINFO_KEY_DROPPEDFRAMES)?this.getValue(t.MEDIAINFO_KEY_DROPPEDFRAMES):0,e.startupTime=null!=this.getValue(t.MEDIAINFO_KEY_STARTUPTIME)?this.getValue(t.MEDIAINFO_KEY_STARTUPTIME):0,e},e.MediaObject=t}(U.ADB.va),function(e,t){"use strict";function n(e){n.__super__.constructor.call(this),this._heartbeat=e}function r(e){r.__super__.constructor.call(this),this._heartbeat=e}function i(e){i.__super__.constructor.call(this),this._heartbeat=e}function a(e){a.__super__.constructor.call(this),this._heartbeat=e}e.extend(n,t.plugins.aa.AdobeAnalyticsPluginDelegate),n.prototype.onError=function(e){t.MediaHeartbeat._onDelegateError.call(this._heartbeat,e)},e.extend(r,t.plugins.ah.AdobeHeartbeatPluginDelegate),r.prototype.onError=function(e){t.MediaHeartbeat._onDelegateError.call(this._heartbeat,e)},e.extend(i,t.HeartbeatDelegate),i.prototype.onError=function(e){t.MediaHeartbeat._onDelegateError.call(this._heartbeat,e)},e.extend(a,t.plugins.videoplayer.VideoPlayerPluginDelegate),a.prototype.getVideoInfo=function(){return this._heartbeat&&this._heartbeat._videoInfo?(this._heartbeat._delegate&&(this._heartbeat._videoInfo.playhead=this._heartbeat._delegate.getCurrentPlaybackTime()),this._heartbeat._videoInfo):null},a.prototype.getAdBreakInfo=function(){return this._heartbeat&&this._heartbeat._adBreakInfo?this._heartbeat._adBreakInfo:null},a.prototype.getAdInfo=function(){return this._heartbeat&&this._heartbeat._adInfo?this._heartbeat._adInfo:null},a.prototype.getChapterInfo=function(){return this._heartbeat&&this._heartbeat._chapterInfo?this._heartbeat._chapterInfo:null},a.prototype.getQoSInfo=function(){if(this._heartbeat&&this._heartbeat._delegate&&this._heartbeat._delegate.getQoSObject()){var e=this._heartbeat._delegate.getQoSObject();if(e&&"object"==typeof e&&e.setValue)return e.createQoSInfo()}return null},t._MediaAnalyticsPluginDelegate=n,t._MediaHeartbeatPluginDelegate=r,t._ADBMediaHeartbeatDelegate=i,t._MediaHeartbeatVideoPlayerPluginDelegate=a}(U.ADB.core,U.ADB.va),function(e,t){"use strict";function n(){}function r(e){r.__super__.constructor.call(this),this._heartbeat=e}var i=t.MediaHeartbeatConfig;t.plugins.nielsen&&(n.MEDIAHEARTBEAT_NIELSEN_CONTENT_METADATA="media_nielsen_content_metadata",n.MEDIAHEARTBEAT_NIELSEN_AD_METADATA="media_nielsen_ad_metadata",n.MEDIAHEARTBEAT_NIELSEN_CHANNEL_METADATA="media_nielsen_channel_metadata",i.prototype.nielsenConfigKey=void 0,i.prototype.nielsenAppInfo=void 0,e.extend(r,t.plugins.nielsen.NielsenPluginDelegate),r.prototype.getMetadataInfo=function(){if(this._heartbeat&&this._heartbeat._currentContentMediaObject){var e=this._heartbeat._currentContentMediaObject.getValue(n.MEDIAHEARTBEAT_NIELSEN_CONTENT_METADATA);if("object"==typeof e)return e}return null},r.prototype.getAdMetadataInfo=function(){if(this._heartbeat&&this._heartbeat._currentAdMediaObject){var e=this._heartbeat._currentAdMediaObject.getValue(n.MEDIAHEARTBEAT_NIELSEN_AD_METADATA);if("object"==typeof e)return e}return null},r.prototype.getChannelInfo=function(){if(this._heartbeat&&this._heartbeat._currentContentMediaObject){var e=this._heartbeat._currentContentMediaObject.getValue(n.MEDIAHEARTBEAT_NIELSEN_CHANNEL_METADATA);if("object"==typeof e)return e}return null},r.prototype.onError=function(e){this._heartbeat&&t.MediaHeartbeat._onError.call(this._heartbeat,e)},t._MediaHeartbeatNielsen=n,t._MediaHeartbeatNielsenPluginDelegate=r)}(U.ADB.core,U.ADB.va),function(e,r){"use strict";function t(){}function o(e,t,n){if(this._logger=new u,this._plugins=[],this._playerPlugin=null,this._aaPlugin=null,this._ahPlugin=null,this._nielsenPlugin=null,this._currentContentMediaObject=void 0,this._currentAdMediaObject=void 0,this._videoInfo=void 0,this._adBreakInfo=void 0,this._adInfo=void 0,this._chapterInfo=void 0,this._state={},this._delegate=e,n)this.appMeasurement=n;else{if(!U.s)return void this._logger.error(R,"Valid AppMeasurement instance required for initialising MediaHeartbeat");this.appMeasurement=U.s}t&&"object"==typeof t&&null!=t.trackingServer?(this._config=t,r.MediaHeartbeat._debugLogging||this._config.debugLogging?this._logger.enable():this._logger.disable()):this._logger.error(R,"Valid config required for initialising MediaHeartbeat")}function n(){this._ahPlugin=new A(new P(this));var e=new b(this._config.trackingServer,this.appMeasurement.visitor.marketingCloudOrgID);e.debugLogging=r.MediaHeartbeat._debugLogging||this._config.debugLogging,e.ovp=this._config.ovp?this._config.ovp:"",e.ssl=this._config.ssl,e.sdk=this._config.appVersion?this._config.appVersion:"";var t=function(){return this._currentContentMediaObject?this._currentContentMediaObject.getValue(x):null}.call(this);t&&0<t.length&&(e.__primetime=!0,e.__psdkVersion=t),this._ahPlugin.configure(e),this._plugins.push(this._ahPlugin)}function a(e,t){if(e!=I&&(!this._state[I]||this._state[D]))return!1;if(e===E&&function(){this._state[N]&&this.trackEvent(o.Event.SeekComplete),this._state[k]&&this.trackEvent(o.Event.BufferComplete)}.call(this),!(e===B&&!t)&&(t?!this._state[e]:this._state[e]))return!1;switch(e){case E:this._state[T]=t,this._state[M]=!0;break;case T:this._state[E]=t;break;case B:if(!t&&this._state[L])return!1;break;case L:if(!t&&!this._state[B])return!1}return this._state[e]=!t,!0}function i(){return this._state[I]}function s(){this._state={}}function c(){this._plugins=[],this._aaPlugin=null,this._ahPlugin=null,this._playerPlugin=null,this._nielsenPlugin=null,this._heartbeat&&(this._heartbeat.destroy(),this._heartbeat=null)}var u=e.Logger,l=r.plugins.videoplayer.AssetType,d=r.MediaObject,p=r.Heartbeat,f=r.HeartbeatConfig,h=r._ADBMediaHeartbeatDelegate,_=r.plugins.videoplayer.VideoPlayerPlugin,g=r.plugins.videoplayer.VideoPlayerPluginConfig,m=r._MediaHeartbeatVideoPlayerPluginDelegate,v=r.plugins.aa.AdobeAnalyticsPlugin,C=r.plugins.aa.AdobeAnalyticsPluginConfig,y=r._MediaAnalyticsPluginDelegate,A=r.plugins.ah.AdobeHeartbeatPlugin,b=r.plugins.ah.AdobeHeartbeatPluginConfig,P=r._MediaHeartbeatPluginDelegate;if(t.prototype.getCurrentPlaybackTime=function(){return null},t.prototype.getQoSObject=function(){return null},o.Event={AdBreakStart:"adBreakStart",AdBreakComplete:"adBreakComplete",AdStart:"adStart",AdComplete:"adComplete",AdSkip:"adSkip",ChapterStart:"chapterStart",ChapterComplete:"chapterComplete",ChapterSkip:"chapterSkip",SeekStart:"seekStart",SeekComplete:"seekComplete",BufferStart:"bufferStart",BufferComplete:"bufferComplete",BitrateChange:"bitrateChange",TimedMetadataUpdate:"timedMetadataUpdate"},o.StreamType={VOD:"vod",LIVE:"live",LINEAR:"linear"},o.MediaObjectKey={StandardVideoMetadata:"media_standard_content_metadata",StandardAdMetadata:"media_standard_ad_metadata",VideoResumed:"resumed"},o.VideoMetadataKeys=r.plugins.aa.VideoMetadataKeys,o.AdMetadataKeys=r.plugins.aa.AdMetadataKeys,o.version=function(){return r.Version.getVersion()},o.prototype.trackSessionStart=function(e,t){if(this._logger.info(R,"#::trackSessionStart()"),a.call(this,I)){if(!e||"object"!=typeof e||!e.setValue)return function(e){this._state[e]=!1}.call(this,I),void this._logger.error(R,"Invalid Media Info object");this._currentContentMediaObject=e,this._videoInfo=e.createVideoInfo(),this._videoInfo.playerName=null!=this._config.playerName?this._config.playerName:"";var n=e.getValue(o.MediaObjectKey.StandardVideoMetadata);if(n&&"object"==typeof n)for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r]);var i=e.getValue(o.MediaObjectKey.VideoResumed);i&&"boolean"==typeof i&&(this._videoInfo.resumed=e.getValue(o.MediaObjectKey.VideoResumed)),w.call(this),this._playerPlugin&&(this._aaPlugin&&this._aaPlugin.setVideoMetadata(t),this._playerPlugin.trackVideoLoad(),this._playerPlugin.trackSessionStart())}else this._logger.error(R,"API call trackSessionStart is unsupported in the current state.")},o.prototype.trackPlay=function(){return this._logger.info(R,"#::trackPlay()"),a.call(this,E)?void this._playerPlugin.trackPlay():void this._logger.error(R,"API call trackPlay is unsupported in the current state.")},o.prototype.trackPause=function(){return this._logger.info(R,"#::trackPause()"),a.call(this,T)?void(this._playerPlugin&&this._playerPlugin.trackPause()):void this._logger.error(R,"API call trackPause is unsupported in the current state.")},o.prototype.trackComplete=function(){return this._logger.info(R,"#::trackComplete()"),a.call(this,D)?void(this._playerPlugin&&this._playerPlugin.trackComplete(function(){})):void this._logger.error(R,"API call trackComplete is unsupported in the current state.")},o.prototype.trackSessionEnd=function(){return this._logger.info(R,"#::trackSessionEnd()"),a.call(this,I,!0)?(this._playerPlugin&&this._playerPlugin.trackVideoUnload(),s.call(this),void c.call(this)):(s.call(this),c.call(this),void this._logger.error(R,"API call trackSessionEnd is unsupported in the current state."))},o.prototype.trackError=function(e){return this._logger.info(R,"#::trackError()"),i.call(this)?void(this._playerPlugin&&this._playerPlugin.trackVideoPlayerError(e||"unknown_error_id")):void this._logger.error(R,"API call trackError is unsupported in the current state.")},o.prototype.trackEvent=function(e,t,n){switch(e){case o.Event.AdBreakStart:case o.Event.AdBreakComplete:(function(e,t){if(e==o.Event.AdBreakStart){if(this._logger.info(R,"#::trackEvent(AdBreakStart)"),!a.call(this,B))return void this._logger.error(R,"API call trackEvent:AdBreakStart is unsupported in the current state.");t&&"object"==typeof t&&t.setValue?(this._adBreakInfo=t.createAdBreakInfo(),this._adBreakInfo.playerName=this._config.playerName?this._config.playerName:""):this._logger.error(R,"Invalid AdBreak Info for MediaHeartbeatEvent.AdBreakStart event.")}else{if(this._logger.info(R,"#::trackEvent(AdBreakComplete)"),!a.call(this,B,!0))return void this._logger.error(R,"API call trackEvent:AdBreakComplete is unsupported in the current state.");this._adBreakInfo=void 0}}).call(this,e,t);break;case o.Event.AdStart:case o.Event.AdComplete:case o.Event.AdSkip:(function(e,t,n){if(e==o.Event.AdStart){if(this._logger.info(R,"#::trackEvent(AdStart)"),!a.call(this,L))return void this._logger.error(R,"API call trackEvent:AdStart is unsupported in the current state.");if(t&&"object"==typeof t&&t.setValue){this._currentAdMediaObject=t,this._adInfo=t.createAdInfo();var r=t.getValue(o.MediaObjectKey.StandardAdMetadata);if(r&&"object"==typeof r)for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i]);this._aaPlugin&&this._aaPlugin.setAdMetadata(n),this._playerPlugin.trackAdStart(),this._state[M]||this._state[T]||this.trackPlay()}else this._logger.error(R,"Invalid Ad Info for MediaHeartbeatEvent.AdStart event.")}else if(e==o.Event.AdComplete){if(this._logger.info(R,"#::trackEvent(AdComplete)"),!a.call(this,L,!0))return void this._logger.error(R,"API call trackEvent:AdComplete is unsupported in the current state.");this._playerPlugin.trackAdComplete(),this._adInfo=null}else{if(this._logger.info(R,"#::trackEvent(AdSkip)"),!a.call(this,L,!0))return void this._logger.error(R,"API call trackEvent:AdSkip is unsupported in the current state.");this._adInfo=null}}).call(this,e,t,n);break;case o.Event.SeekStart:case o.Event.SeekComplete:(function(e){if(e==o.Event.SeekStart){if(this._logger.info(R,"#::trackEvent(SeekStart)"),!a.call(this,N))return void this._logger.error(R,"API call trackEvent:SeekStart is unsupported in the current state.");this._playerPlugin.trackSeekStart()}else{if(this._logger.info(R,"#::trackEvent(SeekComplete)"),!a.call(this,N,!0))return void this._logger.error(R,"API call trackEvent:SeekComplete is unsupported in the current state.");this._playerPlugin.trackSeekComplete()}}).call(this,e);break;case o.Event.ChapterStart:case o.Event.ChapterComplete:case o.Event.ChapterSkip:(function(e,t,n){if(e==o.Event.ChapterStart){if(this._logger.info(R,"#::trackEvent(ChapterStart)"),!a.call(this,O))return void this._logger.error(R,"API call trackEvent:ChapterStart is unsupported in the current state.");t&&"object"==typeof t&&t.setValue?(this._chapterInfo=t.createChapterInfo(),this._aaPlugin&&this._aaPlugin.setChapterMetadata(n),this._playerPlugin.trackChapterStart(),this._state[M]||this._state[T]||this.trackPlay()):this._logger.error(R,"Invalid Chapter Info for MediaHeartbeatEvent.ChapterStart event.")}else if(e==o.Event.ChapterComplete){if(this._logger.info(R,"#::trackEvent(ChapterComplete)"),!a.call(this,O,!0))return void this._logger.error(R,"API call trackEvent:ChapterComplete is unsupported in the current state.");this._chapterInfo=null,this._playerPlugin.trackChapterComplete()}else{if(this._logger.info(R,"#::trackEvent(ChapterSkip)"),!a.call(this,O,!0))return void this._logger.error(R,"API call trackEvent:ChapterSkip is unsupported in the current state.");this._chapterInfo=null}}).call(this,e,t,n);break;case o.Event.BufferStart:case o.Event.BufferComplete:(function(e){if(e==o.Event.BufferStart){if(this._logger.info(R,"#::trackEvent(BufferStart)"),!a.call(this,k))return void this._logger.error(R,"API call trackEvent:BufferStart is unsupported in the current state.");this._playerPlugin.trackBufferStart()}else{if(this._logger.info(R,"#::trackEvent(BufferComplete)"),!a.call(this,k,!0))return void this._logger.error(R,"API call trackEvent:BufferComplete is unsupported in the current state.");this._playerPlugin.trackBufferComplete()}}).call(this,e);break;case o.Event.BitrateChange:(function(){return this._logger.info(R,"#::trackEvent(BitrateChange)"),i.call(this)?void this._playerPlugin.trackBitrateChange():void this._logger.error(R,"API call trackEvent:BitrateChange is unsupported in the current state.")}).call(this);break;case o.Event.TimedMetadataUpdate:(function(e){if(this._logger.info(R,"#::trackEvent(TimedMetadataUpdate)"),e&&"object"==typeof e&&e.setValue){var t=e.getValue(d.MEDIAINFO_KEY_TIMEDMETADATA);this._playerPlugin&&t&&"string"==typeof t&&this._playerPlugin.trackTimedMetadata(t)}}).call(this,t)}},r.plugins.nielsen){var S=r._MediaHeartbeatNielsen;o.MediaObjectKey.NielsenContentMetadata=S.MEDIAHEARTBEAT_NIELSEN_CONTENT_METADATA,o.MediaObjectKey.NielsenAdMetadata=S.MEDIAHEARTBEAT_NIELSEN_AD_METADATA,o.MediaObjectKey.NielsenChannelMetadata=S.MEDIAHEARTBEAT_NIELSEN_CHANNEL_METADATA,o.prototype.nielsenLoadMetadata=function(e){this._nielsenPlugin&&this._nielsenPlugin.loadMetadata(e)}}var w=function(){if(!this.appMeasurement||!this.appMeasurement.visitor)throw new Error("appMeasurement.visitor object cannot be NULL.");(function(){this._aaPlugin=new v(this.appMeasurement,new y(this));var e=new C;e.channel=this._config.channel?this._config.channel:"",e.debugLogging=r.MediaHeartbeat._debugLogging||this._config.debugLogging,this._aaPlugin.configure(e),this._plugins.push(this._aaPlugin)}).call(this),n.call(this),function(){this._playerPlugin=new _(new m(this));var e=new g;e.debugLogging=r.MediaHeartbeat._debugLogging||this._config.debugLogging,this._playerPlugin.configure(e),this._plugins.push(this._playerPlugin)}.call(this),function(){if(r.plugins.nielsen&&this._config.nielsenConfigKey&&this._config.nielsenAppInfo){this._nielsenPlugin=new r.plugins.nielsen.NielsenPlugin(new r._MediaHeartbeatNielsenPluginDelegate(this));var e=new r.plugins.nielsen.NielsenPluginConfig;e.debugLogging=r.MediaHeartbeat._debugLogging||this._config.debugLogging,e.appInfo=this._config.nielsenAppInfo,e.configKey=this._config.nielsenConfigKey,this._nielsenPlugin.configure(e),this._plugins.push(this._nielsenPlugin)}}.call(this),function(){var e=new f;e.debugLogging=r.MediaHeartbeat._debugLogging||this._config.debugLogging,this._heartbeat=new p(new h(this),this._plugins),this._heartbeat.configure(e)}.call(this)},I=1,E=2,T=3,D=4,k=5,N=6,O=7,L=8,B=9,M=10;o.createMediaObject=function(e,t,n,r){var i=new d;i.setValue(d.MEDIAINFO_KEY_VIDEOID,t),i.setValue(d.MEDIAINFO_KEY_NAME,e),i.setValue(d.MEDIAINFO_KEY_LENGTH,n),i.setValue(d.MEDIAINFO_KEY_PLAYHEAD,0);var a=l.ASSET_TYPE_VOD;switch(r){case o.StreamType.VOD:a=l.ASSET_TYPE_VOD;break;case o.StreamType.LIVE:a=l.ASSET_TYPE_LIVE;break;case o.StreamType.LINEAR:a=l.ASSET_TYPE_LINEAR}return i.setValue(d.MEDIAINFO_KEY_STREAMTYPE,a),i},o.createAdBreakObject=function(e,t,n){var r=new d;return r.setValue(d.MEDIAINFO_KEY_NAME,e),r.setValue(d.MEDIAINFO_KEY_POSITION,t),r.setValue(d.MEDIAINFO_KEY_STARTUPTIME,n),r},o.createAdObject=function(e,t,n,r){var i=new d;return i.setValue(d.MEDIAINFO_KEY_NAME,e),i.setValue(d.MEDIAINFO_KEY_ADID,t),i.setValue(d.MEDIAINFO_KEY_POSITION,n),i.setValue(d.MEDIAINFO_KEY_LENGTH,r),i},o.createChapterObject=function(e,t,n,r){var i=new d;return i.setValue(d.MEDIAINFO_KEY_NAME,e),i.setValue(d.MEDIAINFO_KEY_POSITION,t),i.setValue(d.MEDIAINFO_KEY_LENGTH,n),i.setValue(d.MEDIAINFO_KEY_STARTTIME,r),i},o.createQoSObject=function(e,t,n,r){var i=new d;return i.setValue(d.MEDIAINFO_KEY_BITRATE,e),i.setValue(d.MEDIAINFO_KEY_FPS,n),i.setValue(d.MEDIAINFO_KEY_DROPPEDFRAMES,r),i.setValue(d.MEDIAINFO_KEY_STARTUPTIME,t),i},o.createTimedMetadataObject=function(e){var t=new d;return t.setValue(d.MEDIAINFO_KEY_TIMEDMETADATA,e),t};var R="MediaHeartbeat",x="a.__pttvsdkVersion";r.MediaHeartbeat=o,r.MediaHeartbeatDelegate=t,r.MediaHeartbeat._onDelegateError=function(e){this._logger.error(R,e.getMessage()+" | "+e.getDetails())},r.MediaHeartbeat._debugLogging=!1}(U.ADB.core,U.ADB.va),U.ADB||(U.ADB={}),U.ADB.core||(U.ADB.core=core),U.ADB.va||(U.ADB.va=va),U.ADB.va.plugins||(U.ADB.va.plugins={})}(this),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.analytics=t():(e.ns_=e.ns_||{},e.ns_.analytics=t())}("undefined"!=typeof self?self:this,function(){return r={},i.o=n=[function(e,t){var s=s||{};s.filter=function(e,t){var n={};for(var r in t)t.hasOwnProperty(r)&&e(t[r])&&(n[r]=t[r]);return n},s.extend=function(e){var t,n=arguments.length;e=e||{};for(var r=1;r<n;r++)if(t=arguments[r])for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e},s.h=function(e,t){if(t=t||0,"object"!=typeof e)return e;var n;if(e instanceof Array){n=[];for(var r=0,i=e.length;r<i;r++)n[r]=s.h(e[r],t-1);return n}for(var a in n={},e)if(e.hasOwnProperty(a)){var o=e[a];"object"==typeof o&&0<t&&(o=s.h(o,t-1)),n[a]=o}return n},e.exports.filter=s.filter,e.exports.extend=s.extend,e.exports.h=s.h},function(e,t){var n,r,i=(n=["play","pause","pause-on-buffering","end","buffer","buffer-stop","keep-alive","hb","custom","load","start","skstart","adskip","cta","error","trans","drmfa","drmap","drmde","bitrt","playrt","volume","window","audio","video","subs","cdn"],{PLAY:0,PAUSE:1,PAUSE_ON_BUFFERING:2,END:3,BUFFER:4,BUFFER_STOP:5,KEEPALIVE:6,HEARTBEAT:7,CUSTOM:8,LOAD:9,ENGAGE:10,SEEK_START:11,AD_SKIP:12,CTA:13,ERROR:14,TRANSFER:15,DRM_FAILED:16,DRM_APPROVED:17,DRM_DENIED:18,BIT_RATE:19,PLAYBACK_RATE:20,VOLUME:21,WINDOW_STATE:22,AUDIO:23,VIDEO:24,SUBS:25,CDN:26,toString:function(e){return n[e]}}),a=(r=["c","s","r"],{g:0,m:1,S:2,toString:function(e){return r[e]}});e.exports.I=i,e.exports.P={IDLE:0,PLAYBACK_NOT_STARTED:1,PLAYING:2,PAUSED:3,BUFFERING_BEFORE_PLAYBACK:4,BUFFERING_DURING_PLAYBACK:5,BUFFERING_DURING_SEEKING:6,BUFFERING_DURING_PAUSE:7,SEEKING_BEFORE_PLAYBACK:8,SEEKING_DURING_PLAYBACK:9,SEEKING_DURING_BUFFERING:10,SEEKING_DURING_PAUSE:11,PAUSED_DURING_BUFFERING:12},e.exports.A=a},function(e,t,n){var o=n(0),r=n(58),s=n(59),c=n(5),u=n(60),l=n(64),d=n(65),p=n(66),f=n(67),h=n(69),_=n(72),g=n(73),m=n(74),v=n(75),C=n(76),y=n(37),A=n(79),b={D:"PLATFORM",C:"defaultLiveEndpointUrl",L:"defaultSecureLiveEndpointUrl",T:"httpGet",N:"httpPost",Storage:"Storage",O:"offlineCache",R:"migratedStorage",k:"migratedIO",M:"defaultStorageWriteInterval",U:"onDataFetch",W:"getCrossPublisherUniqueDeviceId",F:"getApplicationName",B:"getApplicationVersion",V:"getPublisherSpecificUniqueDeviceId",G:"getPublisherSpecificUniqueDeviceIdSuffix",j:"getDeviceModel",H:"getPlatformVersion",K:"getPlatformName",J:"getRuntimeName",Y:"getRuntimeVersion",X:"getDisplayResolution",Z:"getApplicationResolution",nn:"getLanguage",tn:"getPackageName",setPlatformAPI:"setPlatformAPI",setTimeout:"setTimeout",setInterval:"setInterval",clearTimeout:"clearTimeout",clearInterval:"clearInterval",en:"getDeviceArchitecture",in:"getConnectionType",rn:"getDeviceJailBrokenFlag",un:"updateMeasurementLabels",sn:"standardOutputLog",an:"defaultSystemClockJumpDetectorNormalContextInterval",fn:"defaultSystemClockJumpDetectorAlternativeContextInterval",cn:"isNormalContext",ln:"addContextChangeListener",dn:"removeContextChangeListener",vn:"addEnvironmentExitListener",_n:"removeEnvironmentExitListener",pn:"overrideCollectedC12Value",hn:"defaultC12OverrideValue"};e.exports=new function(){var t,i;function a(e){if(!t)switch(t=!0,e){case s.SmartTV:o.extend(i,u);break;case s.Netcast:o.extend(i,l);break;case s.Cordova:o.extend(i,p);break;case s.Trilithium:o.extend(i,f);break;case s.AppleTV:o.extend(i,h);break;case s.Chromecast:o.extend(i,g);break;case s.Xbox:o.extend(i,_);break;case s.webOS:o.extend(i,d);break;case s.tvOS:o.extend(i,m);break;case s.JSMAF:o.extend(i,v);break;case s.nodejs:o.extend(i,C);break;case s.html5:o.extend(i,y);break;case s.WebBrowser:o.extend(i,A)}}o.extend(this,{gn:null,PlatformApis:s,mn:null,yn:function(){t||a(s.WebBrowser)},setPlatformApi:function(e,t){var n,r;if("number"==typeof e)n=e,r=t||{};else{if("object"!=typeof e)return;n=s.Skeleton,r=e}a(n),o.extend(i,function(e){var t={};for(var n in b){var r=b[n];r in e&&(t[n]=e[r])}return t}(r))}}),t=!1,this.mn=i=o.h(c),this.gn=new r(this)}},function(e,t){e.exports={Sn:"unknown",wn:"0x0",bn:"-----BEGIN PUBLIC KEY-----\nMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQD0+fCVxGq3Bk24jUKO1PzsiUs3\nvqww6zR4n2e3AweVLUAgsrDRbAWJ/EjZm1WBLBVNMiTLpSAkV6sjOIrUs03xdUEj\nQZJHwOGK+MfzFaZukoo0qAsEMPwQ5posv0JdkBdUGhKchPk6+NYmD6Hb44Lkp7/a\nQnVeWzvfAPQyTJR5wQIDAQAB\n-----END PUBLIC KEY-----"}},function(e,t){var n,r=r||{};r.In=(n=1,function(){return+new Date+"_"+n++}),r.En=function(){return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})},r.Pn=function(e){return null==e||""===e||e instanceof Array&&0===e.length},r.An=function(e){return!this.Pn(e)},r.Dn=function(e,t){return t=this.Cn(t)?t:"",this.Cn(e)?e:t},r.Ln=function(e){return void 0!==e&&("string"==typeof e?"true"===(e=e.toLowerCase())||"1"===e||"on"===e:!!e)},r.Tn=function(e,t,n,r,i){if(t<0||r<0||t+i>e.length||r+i>n.length)return!1;for(;0<=--i;)if(e.charAt(t++)!=n.charAt(r++))return!1;return!0},r.Cn=function(e){return void 0!==e&&null!=e},r.Nn=function(e){return!!(e&&e.constructor&&e.call&&e.apply)},e.exports.Nn=r.Nn,e.exports.Cn=r.Cn,e.exports.Tn=r.Tn,e.exports.Ln=r.Ln,e.exports.Dn=r.Dn,e.exports.An=r.An,e.exports.Pn=r.Pn,e.exports.In=r.In,e.exports.uuid=r.En},function(e,t,n){var r=n(18),i=n(13),a=n(8),o=n(3),s=n(9),c=o.Sn,u=o.wn,l={D:"generic",C:"http://b.scorecardresearch.com/p2",L:"https://sb.scorecardresearch.com/p2",T:i,N:null,Storage:a,O:!1,R:null,k:null,M:0,U:function(e){e()},W:function(){return null},F:function(){return c},B:function(){return c},V:function(){return+new Date+~~(1e3*Math.random())},G:function(){return"72"},j:function(){return c},H:function(){return c},K:function(){return"js"},J:function(){return c},Y:function(){return c},X:function(){return u},Z:function(){return u},nn:function(){return c},tn:function(){return c},setPlatformAPI:function(){},setTimeout:function(e,t){return setTimeout(e,t)},setInterval:function(e,t){return setInterval(e,t)},clearTimeout:function(e){return clearTimeout(e)},clearInterval:function(e){return clearInterval(e)},en:function(){return c},in:function(){return s.UNKNOWN},rn:function(){return c},un:function(e){},sn:function(e){console.log(e)},an:3e3,fn:3e4,cn:function(){return!r.On()||!r.Rn()},ln:function(e){r.On()&&r.kn(e)},dn:function(e){r.On()&&r.Mn(e)},vn:function(e){},_n:function(e){},pn:!1,hn:"_"};e.exports=l},function(e,t){t.Un=function(e,t){if("undefined"!=typeof XMLHttpRequest){var n=new XMLHttpRequest;n.open("GET",e,!0),n.onreadystatechange=function(){4===n.readyState&&(t&&t(n.status),n=null)},n.send()}else"function"==typeof setTimeout?t&&setTimeout(t,0):t&&t()},t.xn=function(e,t,n){if("undefined"!=typeof XMLHttpRequest){var r=new XMLHttpRequest;r.open("POST",e,!0),r.onreadystatechange=function(){4===r.readyState&&(n&&n(r.status),r=null)},r.send(t)}else"function"==typeof setTimeout?n&&setTimeout(n,0):n&&n()}},function(e,t){var r={Wn:function(e,t,n){return null!=t&&t+""!=""&&null!=n&&(e[t+""]=n+"",!0)},Fn:function(e,t){for(var n in t)t.hasOwnProperty(n)&&r.Wn(e,n,t[n])}};e.exports.Wn=r.Wn,e.exports.Fn=r.Fn},function(e,t,n){var r=n(0);e.exports=function(e){var t;!function(){try{t="undefined"!=typeof localStorage?localStorage:null}catch(e){t=null}}(),r.extend(this,{storeProperties:function(e){if(t)try{"function"==typeof t.setItem?t.setItem("cs_settings",e):t&&(t.Bn=e)}catch(e){}},getProperties:function(){if(!t)return null;try{if("function"==typeof t.getItem)return t.getItem("cs_settings");if(t)return t.Bn}catch(e){}},storeCache:function(e){if(t)try{"function"==typeof t.setItem?t.setItem("cs_cache",e):t&&(t.Vn=e)}catch(e){}},getCache:function(){if(!t)return null;try{if("function"==typeof t.getItem)return t.getItem("cs_cache");if(t)return t.Vn}catch(e){}}})}},function(e,t){e.exports={UNKNOWN:0,UNAVAILABLE:1,DISCONNECTED:2,CONNECTED:3,ETHERNET:4,WIFI:5,WWAN:6,BLUETOOTH:7,EMULATOR:8}},function(e,t,n){var r=n(0);e.exports=function(){var n="undefined"!=typeof localStorage?localStorage:null;r.extend(this,{get:function(e){try{return n&&"function"==typeof n.getItem?n.getItem("cs_"+e):n?n["cs_"+e]:n}catch(e){}},remove:function(e){try{n&&"function"==typeof n.removeItem?n.removeItem("cs_"+e):n&&delete n["cs_"+e]}catch(e){}},clear:function(){try{for(var e=0;n&&e<n.length;++e){var t=n.key(e);"cs_"===t.substr(0,"cs_".length)&&("function"==typeof n.removeItem?n.removeItem(t):delete n[t])}}catch(e){}}})}},function(e,t){e.exports={qn:"ocdrm",Gn:"ltrts",jn:"pappv",Hn:"fits",Kn:"cits",Jn:"cpidmd5",Yn:"cpidrsa",Xn:"c12s",zn:"lappaccts",Qn:"lsaccts",$n:"lappsts",Zn:"ftrsc",nt:"accft",tt:"accbt",et:"accit",it:"tft",rt:"tbt",ot:"tit",ut:"accappst",st:"appsc",at:"g",ft:"pg",ct:"dc",lt:"dco",dt:"csc",vt:"sl"}},function(e,t,n){var d=n(21),r=n(0);e.exports=function(){var a=this,s="undefined"!=typeof encodeURIComponent?encodeURIComponent:escape,o="undefined"!=typeof decodeURIComponent?decodeURIComponent:unescape,c="undefined"!=typeof localStorage?localStorage:null,u={},l=c&&s&&o;r.extend(a,{dir:function(e){if(!l)return null;var t="cs_dir_"+e,n=u[t];if(n)return n.slice();var r=c.getItem(t);if(r){n=[];for(var i=0,a=(r=r.split("|")).length;i<a;i++)0<r[i].length&&n.push(o(r[i]));return(u[t]=n).slice()}return null},append:function(e,t,n){if(l){var r=a.read(e,t);r?r+=n:r=n,a.write(e,t,r)}},write:function(r,e,t){if(l){var n=a.dir(r);n||(i="cs_dir_"+r,"function"==typeof c.setItem?c.setItem(i,""):c[i]="",u[i]=[],n=[]),-1==d.indexOf(e,n)&&function(e,t){var n="cs_dir_"+r;try{"function"==typeof c.setItem?c.setItem(n,c.getItem(n)+"|"+s(t)):c[n]=c.getItem(n)+"|"+s(t)}catch(e){}u[n].push(t)}(0,e),function(e,t,n){try{"function"==typeof c.setItem?c.setItem("cs_file_"+e+t,n):c["cs_file_"+e+t]=n}catch(e){}}(r,e,t)}var i},deleteFile:function(e,t){if(!l)return!1;var n=a.dir(e);return!!n&&-1!=d.indexOf(t,n)&&(function(e,t){var n="cs_dir_"+e,r=u[n];r.splice(d.indexOf(t,r),1);for(var i=[],a=0,o=r.length;a<o;a++)i.push(s(r[a]));try{"function"==typeof c.setItem?c.setItem(n,i.join("|")):c[n]=i.join("|"),"function"==typeof c.removeItem?c.removeItem("cs_file_"+e+t):delete c["cs_file_"+e+t]}catch(e){}}(e,t),!0)},read:function(e,t){if(!l)return null;var n=a.dir(e);return n?-1==d.indexOf(t,n)?null:function(e,t){try{return"function"==typeof c.getItem?c.getItem("cs_file_"+e+t):c["cs_file_"+e+t]}catch(e){}}(e,t):null}})}},function(e,t){e.exports=function(e,t,n){if("undefined"!=typeof Image){var r=new Image;r.onload=function(){t&&t(200),r=null},r.onerror=function(){t&&t(),r=null},r.src=e}else"function"==typeof setTimeout?t&&setTimeout(t,0):t&&t()}},function(e,t,n){var d=n(0),r=n(1).P;t._t=function(e){var t={};for(var n in e){var r=e[n];t[n]=null==r?r:e[n]+""}return t},t.pt=function(e,t){var n,r=[];for(n in e)t&&!t.test(n)||!e.hasOwnProperty(n)||(r[r.length]=n);return r},t.ht=function(){return"undefined"!=typeof window&&"undefined"!=typeof document},t.gt=function(e,t,n,r){var i=d.h(e,1),a={start:t,end:n};if(a.end<=a.start)return i;for(var o=0;o<i.length;++o){var s=i[o];if(s.start<=a.start&&a.end<=s.end)break;if(s.start<=a.start&&a.start<=s.end&&s.end<=a.end)break;if(a.start<=s.start&&s.start<=a.end&&a.end<=s.end)break;if(a.end<=s.start)break}i.splice(o,0,a);for(var c=1;c<i.length;){var u=i[c],l=i[c-1];l.start<=u.start&&u.end<=l.end?i.splice(c,1):u.start<=l.start&&l.end<=u.end?i.splice(c-1,1):l.start<=u.start&&u.start<=l.end+r&&l.end<=u.end?i.splice(c-1,2,{start:l.start,end:u.end}):u.start<=l.start&&l.start-r<=u.end&&u.end<=l.end?i.splice(c-1,2,{start:u.start,end:l.end}):c++}return i},t.yt=function(e){for(var t in r)if(r.hasOwnProperty(t)&&r[t]==e)return t},t.St=function(e){return e==r.IDLE||e==r.BUFFERING_BEFORE_PLAYBACK||e==r.SEEKING_BEFORE_PLAYBACK||e==r.PLAYBACK_NOT_STARTED},t.wt=function(e,t){for(var n="hash:",r=0;r<t.length;r++)e[t[r]]&&(n+=t[r]+":"+e[t[r]]+";");return n}},function(e,t,n){var r={VERSION:"7.6.1.210506",bt:!0,It:5e3,Et:!0,Pt:n(25).STANDARD,At:["c1","c2","ca2","cb2","cc2","cd2","ns_site","ns_ap_an","ns_ap_pn","ns_ap_pv","c12","ca12","cb12","cc12","cd12","ns_ak","ns_ar","name","ns_ap_ni","ns_ap_ec","ns_ap_ev","ns_ap_device","ns_ap_id","ns_ap_csf","ns_ap_bi","ns_ap_pfm","ns_ap_pfv","ns_ap_ver","ns_ap_sv","ns_ap_bv","ns_ap_cv","ns_ap_smv","ns_type","cs_partner","cs_xcid","cs_impid","cs_proid","cs_dc_di","cs_dc_ci","cs_dc_ei","ns_ap_ui","ns_ap_gs","ns_ap_ie","ns_ts","ns_ap_cfg","ns_ap_env","ns_ap_ais","ns_ap_ut","ns_ap_er","ns_st_sv","ns_st_pv","ns_st_smv","ns_st_it","ns_st_id","ns_st_ec","ns_st_cn","ns_st_ev","ns_st_sp","ns_st_sc","ns_st_ppc","ns_st_apc","ns_st_spc","ns_st_dppc","ns_st_dapc","ns_st_dspc","ns_st_psq","ns_st_asq","ns_st_sq","ns_st_po","ns_st_lda","ns_st_ldw","ns_st_ldo","ns_st_hc","ns_st_hd","ns_st_mp","ns_st_mv","ns_st_cl","ns_st_sl","ns_st_pn","ns_st_tp","ns_st_ct","ns_st_ad","ns_st_li","ns_st_ty","ns_st_ci","ns_st_si","ns_ap_et","ns_ap_ar","cs_c12u","ca_cs_c12u","cb_cs_c12u","cc_cs_c12u","cd_cs_c12u","ns_ap_cs","ns_ap_fg","ns_ap_dft","ns_ap_dbt","ns_ap_dit","ns_ap_as","ns_ap_das","ns_ap_usage","ns_category","category","ns_radio","ns_st_pt","ns_st_ipt","ns_st_iap","ns_st_iet","ns_st_iupc","ns_st_iupa","ns_st_ilpc","ns_st_ilpa","ns_st_ibc","ns_st_ibt","ns_st_itpc","ns_st_icpc","ns_st_ae","ns_st_er","ns_st_cfg","ns_st_rcn","ns_st_cpo","ns_st_ui","c3","ca3","cb3","cc3","cd3","c4","ca4","cb4","cc4","cd4","c6","ca6","cb6","cc6","cd6","ns_st_bn","ns_st_tb","ns_st_an","ns_st_ta","ns_st_ce","ns_st_ia","ns_st_pu","ns_st_st","ns_st_stc","ns_st_sta","ns_st_pr","ns_st_tpr","ns_st_sn","ns_st_en","ns_st_ep","ns_st_tep","ns_st_dt","ns_st_ddt","ns_st_tdt","ns_st_tm","ns_st_dtm","ns_st_ttm","ns_st_ge","ns_st_tge","ns_st_cs","ns_st_ft","ns_st_amg","ns_st_ami","ns_st_amp","ns_st_amw","ns_st_amt","ns_st_ams","ns_st_cde","ns_st_cds","ns_st_cdc","ns_st_cda","ns_st_cdm","ns_st_cmt","ns_st_amd","ns_st_amo","ns_st_sr","ns_st_pl","ns_st_ca","ns_st_cp","ns_st_fee","ns_st_dskc","ns_st_dska","ns_st_skd","ns_st_dskt","ns_st_dpc","ns_ap_i1","ns_ap_i2","ns_ap_i3","ns_ap_i4","ns_ap_i5","ns_ap_i6","cs_ucfr","gdpr","gdpr_p1t","gdpr_li","gdpr_pcc","gdpr_purps","gdpr_consent","c5","c10","c11","c13","c14","c15","c16","ns_ap_install","ns_ap_updated","ns_ap_lastrun","ns_ap_ft","ns_ap_bt","ns_ap_it","ns_ap_res","ns_ap_sd","ns_ap_po","ns_ap_ot","ns_ap_lang","ns_ap_miss","ns_ap_jb","ns_ap_oc","ns_c","ns_st_cev","ns_st_lt","ns_st_br","ns_st_pbr","ns_st_rt","ns_st_prt","ns_st_vo","ns_st_pvo","ns_st_ws","ns_st_pws","ns_st_rp","ns_st_at","ns_st_pat","ns_st_vt","ns_st_pvt","ns_st_tt","ns_st_ptt","ns_st_cdn","ns_st_pcdn","ns_st_pb","ns_st_dpt","ns_st_ap","ns_st_dap","ns_st_et","ns_st_det","ns_st_upc","ns_st_dupc","ns_st_upa","ns_st_dupa","ns_st_lpc","ns_st_dlpc","ns_st_lpa","ns_st_dlpa","ns_st_bc","ns_st_dbc","ns_st_bt","ns_st_dbt","ns_st_bp","ns_st_dtpc","ns_st_dcpc","ns_st_skc","ns_st_ska","ns_st_skt","ns_st_pc","ns_st_pp","ns_st_pa","c7","c8","c9","ns_st_cu","ns_st_amc"]};e.exports=r},function(e,t){e.exports=function(e){var n=this;n.Dt=e,n.Ct={},n.Lt={},n.Tt=+new Date,n.setLabel=function(e,t){n.Lt[e]=t}}},function(e,t,n){var r,i=n(0),I=n(32),E=n(84),T=n(28),D=n(30),k=n(19),N=n(2).mn,O=n(26),L=n(27),B=n(87),M=n(88),R=n(41),x=n(33),U=n(89),F=n(43),V=n(90),j=n(11),G=n(91),q=n(15),H=n(38),Y=n(29),K=n(92);r=new function(){var u,a,l,t,d,o,s,r,c,p,f,h,_,g,m,v,C,y,A,b=this;function P(e){A.push(function(){l.Wt(e,w(),m)})}function S(e,t,n,r){var i;p&&g?e():_?A.push(e):n?(A.push(e),P(t),h=!0):(h||(i=t,A.push(function(){a.notifyEnterForeground(i)}),h=!0),r||P(t),A.push(e),_=!0)}function n(){C.$t()||C.Zt();for(var e=u.get(j.Xn,{}),t=m.getPublisherConfigurations(),n="a".charCodeAt(0)-1,r=0;r<t.length;++r){var i=t[r],a=i.getPublisherId(),o=d.ne(i.getPublisherSecret()),s=e[a],c="";n>="a".charCodeAt(0)&&(c="c"+String.fromCharCode(n)+"_"),n++,s&&s!=o&&l.te(c+"cs_c12u",s),e[a]=o,i.setPublisherUniqueDeviceId(o)}u.put(j.Xn,e)}function w(e){var t;if(e instanceof D)t=e;else{t=new D,"object"==typeof e&&t.addLabels(e);var n=m.getIncludedPublishers();if(0<n.length)for(var r=0;r<n.length;++r)t.addIncludedPublisher(n[r])}return 0<t.getIncludedPublishers().length&&0<m.getPartnerConfigurations().length&&t.addIncludedPublisher(I.ee),t}t=new M(function(){var e;m.Nt()||d.Ot(),((e=d.kt()).Rt||e.Mt)&&m.Ut(e.xt)}),g=_=h=f=p=!(c=!0),m=new I,C=new K,A=[],m.addListener(function(e){switch(e){case T.DISABLE:!function(){c&&(c=!1,f&&N.clearTimeout(y),g&&(r.stop(),Y.Bt().Ft()),(p||f)&&(a.Vt(this),a.qt(this),a.Gt()),s&&s.jt())}();break;case T.TIME_WINDOW_ELAPSED:l=new E(a,u,s,t,o,d,C),(r=new R(u)).Ht(b),n(),0<=m.getUsagePropertiesAutoUpdateInterval()&&a.Kt(m.getUsagePropertiesAutoUpdateInterval(),m.Jt()==L.FOREGROUND_ONLY),r.Yt(m.isKeepAliveMeasurementEnabled()),Y.Bt().Xt(m),g=!0,u.zt(),function(){for(var e=0;e<A.length;++e)(0,A[e])();A=[]}();break;case T.PARTNER:case T.PUBLISHER:g&&(n(),u.zt());break;case T.OFFLINE_CACHE_MODE:break;case T.KEEP_ALIVE:g&&r.Yt(m.isKeepAliveMeasurementEnabled());break;case T.Qt:C.Yt(!1)}}),i.extend(b,{configuration:m,start:function(){if(m.ie(),!p&&!f){f=!0;var e,t,n=+new Date;v=new H(m),r=u=new B(v),(i=new V).re(r),i.oe(),s=new x(u,v),(e=new G(v,u,s)).ue(),e.se(),C.ae(u),d=new F(u,C),c&&(o=new U(u,m),a=new O(u,n),C.$t()&&C.Zt(),a.fe(b),a.ce(b),_||(t=n,c&&S(function(){0==l.le()&&l.Wt(t,w(),m)},t,!1,!0),_=!0),p=!0,u.zt(),y=N.setTimeout(function(){y=null,m.de()},q.It))}var r,i},ve:function(e){if(c){var t=+new Date;S(function(){l.ve(t,w(e),m)},t)}},notifyDistributedContentViewEvent:function(e,t){if(m.getPartnerConfiguration(e)){var n=new k;n._e(!1),n.addIncludedPublisher(I.ee),n.setLabel("ns_ap_ev","distributed_view"),n.setLabel("cs_dc_di",e),n.setLabel("cs_dc_ci",t),b.pe(n)}},pe:function(e){if(c){var t=+new Date;S(function(){l.pe(t,w(e),m)},t)}},notifyUxActive:function(){if(c){var e=+new Date;S(function(){a.notifyUxActive(e)},e)}},notifyUxInactive:function(){if(c){var e=+new Date;S(function(){a.notifyUxInactive(e)},e)}},notifyEnterForeground:function(){if(c){var e=+new Date;S(function(){a.notifyEnterForeground(e)},e,!0)}},notifyExitForeground:function(){if(c){var e=+new Date;S(function(){a.notifyExitForeground(e)},e,!0)}},flushOfflineCache:function(){c&&p&&S(function(){s.flush(m,!0),s.he(),u.zt()},+new Date)},clearOfflineCache:function(){c&&p&&S(function(){s.jt(),s.he(),u.zt()},+new Date)},clearInternalData:function(){c&&p&&S(function(){u.clear(),u.zt()},+new Date)},ge:function(){return C},me:function(){l.ye(+new Date,w(),m),u.zt()},Se:function(e,t){c&&e==O.be.we&&(g?r.start(R.Ie):A.push(function(){r.start(R.Ie)}))},Ee:function(e,t){if(c){function n(){e==O.be.we&&(g?r.stop():A.push(function(){r.stop()}))}g?n():A.push(n)}},Pe:function(e,t){},Ae:function(e,t){}})},e.exports=r},function(e,t){var o={De:function(){try{return"undefined"!=typeof document}catch(e){return!1}},Ce:function(){try{return"undefined"!=typeof navigator}catch(e){return!1}},On:function(){if(!o.De())return!1;var e=!1;return void 0===document.hidden&&void 0===document.mozHidden&&void 0===document.msHidden&&void 0===document.webkitHidden||(e=!0),e}};o.Le=function(){if(!o.De())return null;var e,t,n;void 0!==document.hidden?(e="hidden",t="visibilitychange",n="visibilityState"):void 0!==document.mozHidden?(e="mozHidden",t="mozvisibilitychange",n="mozVisibilityState"):void 0!==document.msHidden?(e="msHidden",t="msvisibilitychange",n="msVisibilityState"):void 0!==document.webkitHidden&&(e="webkitHidden",t="webkitvisibilitychange",n="webkitVisibilityState");var r={hidden:e,Te:t,state:n};return function(){return r}}(),o.Rn=function(){if(!o.De())return!1;if(!o.On())return!1;var e=o.Le();return document[e.hidden]},o.kn=function(e){if(o.De()&&o.On()){var t=o.Le();document.addEventListener(t.Te,e,!1)}},o.Mn=function(e){if(o.De()&&o.On()){var t=o.Le();document.removeEventListener(t.Te,e,!1)}},o.Ne=function(){if(!o.Ce())return"";var e,t,n=navigator.userAgent||"",r=navigator.appName||"";return-1!=(t=n.indexOf("Opera"))||-1!=(t=n.indexOf("OPR/"))?r="Opera":-1!=(t=n.indexOf("Android"))?r="Android":-1!=(t=n.indexOf("Chrome"))?r="Chrome":-1!=(t=n.indexOf("Safari"))?r="Safari":-1!=(t=n.indexOf("Firefox"))?r="Firefox":-1!=(t=n.indexOf("IEMobile"))?r="Internet Explorer Mobile":"Microsoft Internet Explorer"==r||"Netscape"==r?r="Internet Explorer":(e=n.lastIndexOf(" ")+1)<(t=n.lastIndexOf("/"))?(r=n.substring(e,t)).toLowerCase()==r.toUpperCase()&&(r=navigator.appName):r="unknown",r},o.Oe=function(){if(!o.Ce())return"";var e,t,n,r=navigator.userAgent||"",i=navigator.appName||"",a=navigator.appVersion?""+parseFloat(navigator.appVersion):"";return-1!=(t=r.indexOf("Opera"))?(a=r.substring(t+6),-1!=(t=r.indexOf("Version"))&&(a=r.substring(t+8))):-1!=(t=r.indexOf("OPR/"))?a=r.substring(t+4):-1!=(t=r.indexOf("Android"))?a=r.substring(t+11):-1!=(t=r.indexOf("Chrome"))?a=r.substring(t+7):-1!=(t=r.indexOf("Safari"))?(a=r.substring(t+7),-1!=(t=r.indexOf("Version"))&&(a=r.substring(t+8))):-1!=(t=r.indexOf("Firefox"))?a=r.substring(t+8):"Microsoft Internet Explorer"==i?null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(r)&&(a=parseFloat(RegExp.$1)):"Netscape"==i?null!=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(r)&&(a=parseFloat(RegExp.$1)):a=r.lastIndexOf(" ")+1<(t=r.lastIndexOf("/"))?r.substring(t+1):"unknown",-1!=(n=(a=a.toString()).indexOf(";"))&&(a=a.substring(0,n)),-1!=(n=a.indexOf(" "))&&(a=a.substring(0,n)),-1!=(n=a.indexOf(")"))&&(a=a.substring(0,n)),e=parseInt(""+a,10),isNaN(e)&&(a=""+parseFloat(navigator.appVersion)),a},o.Re=function(){return"undefined"==typeof window||(window.ActiveXObject,!0)},o.ht=function(){return"undefined"!=typeof window&&"undefined"!=typeof document},o.ke=function(){return!!o.De()&&"s"===document.location.href.charAt(4)},e.exports.On=o.On,e.exports.Le=o.Le,e.exports.Rn=o.Rn,e.exports.Ne=o.Ne,e.exports.Oe=o.Oe,e.exports.Re=o.Re,e.exports.ht=o.ht,e.exports.ke=o.ke,e.exports.kn=o.kn,e.exports.Mn=o.Mn},function(e,t,n){var r=n(0),i=n(30);function a(){var e=new i,t=[],n=!0;r.extend(this,e),r.extend(this,{Me:function(e){t=e},Ue:function(){return t},_e:function(e){n=e},xe:function(){return n}})}a.prototype=Object.create(i.prototype),e.exports=a},function(e,t,n){var s=n(0),r=n(56),i={We:function(e,t,n){return-1==e.indexOf("?")?e+="?":e+="&",e+i.Fe(t,n)},Be:function(e,t){return s.extend(e,i._t(t||{}))},_t:function(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];t[n]=null==r?r:e[n]+""}return t},Fe:function(e,t){var n=!1,r="";e=s.h(e);for(var i="undefined"!=typeof encodeURIComponent?encodeURIComponent:escape,a=0;a<t.length;++a){var o=t[a];null!=e[o]&&(n&&(r+="&"),n=!0,r+=i(o)+"="+i(e[o]),delete e[o])}for(o in e)null!=e[o]&&(n&&(r+="&"),n=!0,r+=i(o)+"="+i(e[o]));return r},Ve:function(e){return"unknown"==e?"unknown":r.qe(e)?"1":"0"}};e.exports=i},function(e,t){var i={indexOf:function(n,e){var r=-1;return i.forEach(e,function(e,t){e==n&&(r=t)}),r},forEach:function(e,t,n){try{if("function"==typeof t)if(n=void 0!==n?n:null,"number"!=typeof e.length||void 0===e[0]){var r=void 0!==e.__proto__;for(var i in e)e.hasOwnProperty(i)&&(!r||r&&void 0===e.__proto__[i])&&"function"!=typeof e[i]&&t.call(n,e[i],i)}else for(var a=0,o=e.length;a<o;a++)t.call(n,e[a],a)}catch(e){}}};t.indexOf=i.indexOf,t.forEach=i.forEach},function(e,t){e.exports=require("os")},function(e,t){var r,n={};function a(e,t){var n=e[0],r=e[1],i=e[2],a=e[3];n=l(n=u(n=u(n=u(n=u(n=c(n=c(n=c(n=c(n=o(n=o(n=o(n=o(n,r,i,a,t[0],7,-680876936),r=o(r,i=o(i,a=o(a,n,r,i,t[1],12,-389564586),n,r,t[2],17,606105819),a,n,t[3],22,-1044525330),i,a,t[4],7,-176418897),r=o(r,i=o(i,a=o(a,n,r,i,t[5],12,1200080426),n,r,t[6],17,-1473231341),a,n,t[7],22,-45705983),i,a,t[8],7,1770035416),r=o(r,i=o(i,a=o(a,n,r,i,t[9],12,-1958414417),n,r,t[10],17,-42063),a,n,t[11],22,-1990404162),i,a,t[12],7,1804603682),r=o(r,i=o(i,a=o(a,n,r,i,t[13],12,-40341101),n,r,t[14],17,-1502002290),a,n,t[15],22,1236535329),i,a,t[1],5,-165796510),r=c(r,i=c(i,a=c(a,n,r,i,t[6],9,-1069501632),n,r,t[11],14,643717713),a,n,t[0],20,-373897302),i,a,t[5],5,-701558691),r=c(r,i=c(i,a=c(a,n,r,i,t[10],9,38016083),n,r,t[15],14,-660478335),a,n,t[4],20,-405537848),i,a,t[9],5,568446438),r=c(r,i=c(i,a=c(a,n,r,i,t[14],9,-1019803690),n,r,t[3],14,-187363961),a,n,t[8],20,1163531501),i,a,t[13],5,-1444681467),r=c(r,i=c(i,a=c(a,n,r,i,t[2],9,-51403784),n,r,t[7],14,1735328473),a,n,t[12],20,-1926607734),i,a,t[5],4,-378558),r=u(r,i=u(i,a=u(a,n,r,i,t[8],11,-2022574463),n,r,t[11],16,1839030562),a,n,t[14],23,-35309556),i,a,t[1],4,-1530992060),r=u(r,i=u(i,a=u(a,n,r,i,t[4],11,1272893353),n,r,t[7],16,-155497632),a,n,t[10],23,-1094730640),i,a,t[13],4,681279174),r=u(r,i=u(i,a=u(a,n,r,i,t[0],11,-358537222),n,r,t[3],16,-722521979),a,n,t[6],23,76029189),i,a,t[9],4,-640364487),r=u(r,i=u(i,a=u(a,n,r,i,t[12],11,-421815835),n,r,t[15],16,530742520),a,n,t[2],23,-995338651),i,a,t[0],6,-198630844),r=l(r=l(r=l(r=l(r,i=l(i,a=l(a,n,r,i,t[7],10,1126891415),n,r,t[14],15,-1416354905),a,n,t[5],21,-57434055),i=l(i,a=l(a,n=l(n,r,i,a,t[12],6,1700485571),r,i,t[3],10,-1894986606),n,r,t[10],15,-1051523),a,n,t[1],21,-2054922799),i=l(i,a=l(a,n=l(n,r,i,a,t[8],6,1873313359),r,i,t[15],10,-30611744),n,r,t[6],15,-1560198380),a,n,t[13],21,1309151649),i=l(i,a=l(a,n=l(n,r,i,a,t[4],6,-145523070),r,i,t[11],10,-1120210379),n,r,t[2],15,718787259),a,n,t[9],21,-343485551),e[0]=p(n,e[0]),e[1]=p(r,e[1]),e[2]=p(i,e[2]),e[3]=p(a,e[3])}function s(e,t,n,r,i,a){return p((t=p(p(t,e),p(r,a)))<<i|t>>>32-i,n)}function o(e,t,n,r,i,a,o){return s(t&n|~t&r,e,t,i,a,o)}function c(e,t,n,r,i,a,o){return s(t&r|n&~r,e,t,i,a,o)}function u(e,t,n,r,i,a,o){return s(t^n^r,e,t,i,a,o)}function l(e,t,n,r,i,a,o){return s(n^(t|~r),e,t,i,a,o)}function d(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}function i(e){for(var t="",n=0;n<4;n++)t+=r[e>>8*n+4&15]+r[e>>8*n&15];return t}function p(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}n.Ge=(r="0123456789abcdef".split(""),function(e){return function(e){for(var t=0;t<e.length;t++)e[t]=i(e[t]);return e.join("")}(function(e){var t,n=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)a(r,d(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),55<t)for(a(r,i),t=0;t<16;t++)i[t]=0;return i[14]=8*n,a(r,i),r}(e))}),e.exports=n.Ge},function(e,t){e.exports={DISABLED:4,LAN:3,MANUAL_FLUSH:2,ENABLED:1}},function(e,t){e.exports={STANDARD:1,LAN:2,CACHE:3}},function(e,t,n){var B=n(0),M=n(2).mn,R=n(11),r=n(27),x={je:2,He:3,we:4},U={Ke:1,Je:2,we:3};function i(r,e){var i,a,o,s,c,u,l,d,p,f,h,_,g,m,v,C,y,A,n,b,t,P,S=this,w=[],I=[];function E(e){var t,n,r;(t=a?U.Ke:o?U.Je:U.we)!=s&&(r=e,s!=(n=t)&&(function(e,t){switch(e){case U.we:break;case U.Je:case U.Ke:k()}for(var n=0;n<I.length;++n)I[n].Se(e,t)}(s,r),function(e,t){switch(e){case U.we:break;case U.Je:c||D();break;case U.Ke:D(),u++}for(var n=0;n<I.length;++n)I[n].Ee(e,t)}(n,r),T(r,!0),s=n))}function T(e,t){var n=e-l;switch(s){case U.Ke:d+=n,p+=n;break;case U.Je:f+=n,h+=n;break;case U.we:_+=n,g+=n}l=e,t&&(r.put(R.zn,l),r.put(R.Zn,u),r.put(R.nt,d),r.put(R.tt,f),r.put(R.et,_),r.put(R.it,p),r.put(R.rt,h),r.put(R.ot,g))}function D(){k(),0<n&&(t=M.setTimeout(function(){S.Ye(+new Date,!0),t=null,D(),r.zt()},n))}function k(){t&&(M.clearTimeout(t),t=null)}function N(e){var t,n,r;(t=o?x.je:a?x.He:x.we)!=i&&(r=e,i!=(n=t)&&(function(e,t){switch(e){case x.je:case x.He:m=t;break;case x.we:L(t)||(v+=t-C)}for(var n=0;n<w.length;++n)w[n].Pe(e,t)}(i,r),function(e,t){switch(e){case x.je:case x.He:L(t)}for(var n=0;n<w.length;++n)w[n].Ae(e,t)}(n,r),O(r,!0),i=n))}function O(e,t){var n=e-C;switch(i){case x.je:case x.He:v+=n,m=e}C=e,t&&(r.put(R.Qn,C),r.put(R.$n,m),r.put(R.ut,v),r.put(R.ft,A),r.put(R.at,y),r.put(R.st,b))}function L(e){var t=!1;return 18e5<e-m&&(A=y,r.put(R.ft,A),y=e,r.put(R.at,y),b++,t=!0),m=e,t}s=U.we,i=x.we,o=a=c=!1,m=C=l=A=y=-1,b=n=v=_=d=f=g=h=p=u=0,l=r.get(R.zn,-1),C=r.get(R.Qn,-1),m=r.get(R.$n,-1),u=r.get(R.Zn,0),d=r.get(R.nt,0),f=r.get(R.tt,0),_=r.get(R.et,0),p=r.get(R.it,0),h=r.get(R.rt,0),g=r.get(R.ot,0),v=r.get(R.ut,0),b=r.get(R.st,0),P=e,A=r.get(R.ft,0),(y=r.get(R.at,-1))<0?(y=P,r.put(R.at,y),A=0,r.put(R.ft,A),m=y,b++):(L(P)||(v+=P-C,r.put(R.ut,v)),m=y),function(e){if(0<l){var t=e-l;_+=t,r.put(R.et,_),g+=t,r.put(R.ot,g)}C=l=e,r.put(R.Qn,C),r.put(R.zn,l),r.put(R.$n,m)}(e),B.extend(S,{Xe:function(){return s},notifyUxActive:function(e){o||(o=!0,E(e),N(e),r.zt())},notifyUxInactive:function(e){o&&(o=!1,E(e),N(e),r.zt())},notifyEnterForeground:function(e){a||(a=!0,E(e),N(e),r.zt())},notifyExitForeground:function(e){a&&(a=!1,E(e),N(e),r.zt())},Ye:function(e,t){T(e,t),O(e,t)},Kt:function(e,t){n=1e3*e,c=t,0<e&&(s==U.Ke||s==U.Je&&!t)?D():k()},ze:function(e){void 0===e&&(e=!0);var t=b;return e&&(b=0,r.put(R.st,b)),t},Qe:function(e){void 0===e&&(e=!0);var t=v;return e&&(v=0,r.put(R.ut,v)),t},$e:function(e){void 0===e&&(e=!0);var t=_;return e&&(_=0,r.put(R.et,_)),t},Ze:function(e){void 0===e&&(e=!0);var t=g;return e&&(g=0),r.put(R.ot,g),t},ni:function(e){void 0===e&&(e=!0);var t=f;return e&&(f=0,r.put(R.tt,f)),t},ti:function(e){void 0===e&&(e=!0);var t=d;return e&&(d=0,r.put(R.nt,d)),t},ei:function(e){void 0===e&&(e=!0);var t=p;return e&&(p=0),r.put(R.it,p),t},ii:function(e){void 0===e&&(e=!0);var t=u;return e&&(u=0,r.put(R.Zn,u)),t},ri:function(e){void 0===e&&(e=!0);var t=h;return e&&(h=0),r.put(R.rt,h),t},oi:function(){return y},ui:function(){return A},fe:function(e){I.push(e)},Vt:function(e){var t=I.indexOf(e);-1!=t&&I.splice(t,1)},ce:function(e){w.push(e)},qt:function(e){var t=w.indexOf(e);-1!=t&&w.splice(t,1)},Gt:function(){k()}})}i.si=r.FOREGROUND_ONLY,i.ai=60,i.fi=x,i.be=U,e.exports=i},function(e,t){e.exports={DISABLED:2,FOREGROUND_AND_BACKGROUND:1,FOREGROUND_ONLY:0}},function(e,t){e.exports={PERSISTENT_LABELS:0,PARTNER:1,PUBLISHER:2,KEEP_ALIVE:3,LIVE_TRANSMISSION_MODE:4,OFFLINE_CACHE_MODE:5,DISABLE:6,TIME_WINDOW_ELAPSED:7,START_LABELS:8,LABEL_ORDER:9,Qt:10}},function(e,t,n){var r,_=n(0),g=n(2).mn,m={ci:1,li:2,di:3},v=+new Date;function i(){var n,t,r,i,a,o,s,c,u,l;function d(){s=g.cn(),n&&(h(),p())}function p(){var t=s?c:u;i=+new Date,a=i+t,n=g.setInterval(function(){var e=(i=+new Date)-a;a=i+t,Math.abs(e)>l&&f(0<e?m.di:i<r?m.li:m.ci)},t)}function f(e){for(var t=0;t<o.length;++t)o[t](e)}function h(){n&&(g.clearInterval(n),n=null)}_.extend(this,{Xt:function(e){e.vi()&&(c=e._i(),u=e.pi(),l=e.hi(),s=g.cn(),n||p(),t||(t=!0,g.ln(d)))},Ft:function(){h(),t&&(g.dn(d),t=!1)},gi:function(e){o.push(e)},mi:function(e){var t=o.indexOf(e);-1!=t&&o.splice(t,1)},yi:function(e){var t;n?a<e&&l<e-a?t=m.di:e<r?t=m.li:e<i&&(t=m.ci):e<r&&(t=m.li),t&&(f(t),n&&(h(),p())),r=e}}),n=null,r=v,s=!(t=!(o=[])),u=c=-1,l=1e3}i.Si=1e3,i.ENABLED=!0,i.wi=m,i.Bt=function(){return r=r||new i},e.exports=i},function(e,t,n){var i=n(0),a=n(7);e.exports=function(){var n={},t=[],r={};i.extend(this,{addLabels:function(e){a.Fn(n,e)},getLabels:function(){return n},setLabel:function(e,t){a.Wn(n,e,t)},getIncludedPublishers:function(){return t},addIncludedPublisher:function(e){t&&-1==t.indexOf(e)&&t.push(e)},addPublisherLabels:function(e,t){e&&(r[e]=r[e]||{},a.Fn(r[e],t))},setPublisherLabel:function(e,t,n){e&&(r[e]=r[e]||{},a.Wn(r[e],t,n))},getPublisherLabels:function(e){return r[e]||{}}})}},function(e,t,n){var u=n(0),l=n(7),d=n(52);function r(){var e,n,r,t,i,a=this;function o(e,t){null!=e&&s("ns_st_ct",(t?"ac":"vc")+e)}function s(e,t){l.Wn(n,e,t)}function c(e){delete n[e]}i=!(n={}),r={},e=new d,s("ns_st_li","0"),s("ns_st_ty","video"),u.extend(a,e),u.extend(a,{setMediaType:function(e){(t=e)==p.LIVE||t==p.USER_GENERATED_LIVE?s("ns_st_li","1"):s("ns_st_li","0"),o(t,i)},classifyAsAudioStream:function(e){null==e&&(e=!0),s("ns_st_ty",(i=e)?"audio":"video"),o(t,i)},classifyAsCompleteEpisode:function(e){null==e&&(e=!0),e?s("ns_st_ce","1"):c("ns_st_ce")},carryTvAdvertisementLoad:function(e){null==e&&(e=!0),e?s("ns_st_ia","1"):c("ns_st_ia")},setLength:function(e){s("ns_st_cl",e)},setTotalSegments:function(e){s("ns_st_tp",e)},setClipUrl:function(e){s("ns_st_cu",e)},setFeedType:function(e){s("ns_st_ft",e)},setVideoDimensions:function(e,t){s("ns_st_cs",(e=e||0)+"x"+(t=t||0))},setStack:function(e,t){r[e]=t},getStandardLabels:function(){return u.extend({},e.getStandardLabels(),n)},getMetadataLabels:function(){return u.extend({},a.getStandardLabels(),a.getCustomLabels())},getStacks:function(){return r}})}u.extend(r,d);var p={LONG_FORM_ON_DEMAND:"12",SHORT_FORM_ON_DEMAND:"11",LIVE:"13",USER_GENERATED_LONG_FORM_ON_DEMAND:"22",USER_GENERATED_SHORT_FORM_ON_DEMAND:"21",USER_GENERATED_LIVE:"23",BUMPER:"99",OTHER:"00"};r.ContentType=p,r.ContentFeedType={EAST_HD:"EASTHD",WEST_HD:"WESTHD",EAST_SD:"EASTSD",WEST_SD:"WESTSD",OTHER:"OTHER"},e.exports=r},function(e,t,n){var H=n(0),Y=n(7),K=n(4),W=n(33),J=n(24),z=n(15),r=n(3),X=n(26),Q=n(38),$=n(28),Z=n(82),ee=n(42),te=n(39),ne=n(2),re=ne.mn,ie=n(29),ae=r.Sn;function oe(){var r,i,t,n,a,o,s,c,u,l,d,p,f,h,_,g,m,v,C,y,A,e,b,P,S,w,I,E,T,D,k,N,O,L,B,M,R,x,U,F=this;function V(){if(function(){if(0<b.length){for(var e=!1,t=0;t<h.length;++t){var n=h[t];if(-1!=b.indexOf(n.getPublisherId())){e=!0;break}}return!e&&0<_.length&&-1!=b.indexOf("21193409")&&(e=!0),e}return 1}()){if(G(),d)!function(){var e=d.split("?");if(d=e[0],e[1])for(var t=e[1].split("&"),n=0;n<t.length;n++){var r=t[n].split("=");s[r[0]]=r[1]?r[1]:""}}();else{var e=re.L,t=re.C;d=r?K.Nn(e)?e():e:K.Nn(t)?t():t}f&&f!=W.bi||(f=r?W.Ii:W.bi),0<_.length&&0==h.length&&j(),n=!0,q($.TIME_WINDOW_ELAPSED)}}function j(){if(!o){o=!0;var e=new ee({publisherId:D.getPublisherId(),publisherSecret:D.getPublisherSecret()});h.push(e),q($.PUBLISHER)}}function G(){!function(){if(0!=h.length)for(var e=0;e<h.length;++e){var t=h[e];t.getPublisherId()!=D.getPublisherId()&&(r=t.isSecureTransmissionEnabled(),u=t.isKeepAliveMeasurementEnabled(),i=t.isHttpRedirectCachingEnabled())}}(),function(){if(0!=_.length)for(var e=1==h.length&&h[0].getPublisherId()==D.getPublisherId(),t=0;t<_.length;++t){var n=_[t];e&&n.isSecureTransmissionEnabled()&&(r=!0),u=n.isKeepAliveMeasurementEnabled(),i=n.isHttpRedirectCachingEnabled()}}()}function q(e){for(var t=y.slice(),n=0;n<t.length;++n)t[n](e)}H.extend(F,{ie:function(){ne.yn(),O=-1==O?re.an:O,L=-1==L?re.fn:L,m=m||re.F(),v=v||re.B()},addListener:function(e){K.Nn(e)&&y.push(e)},de:function(){a||(a=!0,(0<_.length||0<h.length)&&V())},addClient:function(e){e instanceof te&&function(e){if(e.getPartnerId()){for(var t=0;t<_.length;++t)if(_[t].getPartnerId()==e.getPartnerId())return;_.push(e),j(),a&&(n?G():V()),q($.PARTNER)}}(e),e instanceof ee&&function(e){if(e.getPublisherId()&&e.getPublisherSecret()&&e.getPublisherId()!=oe.ee){for(var t=0;t<h.length;++t)if(h[t].getPublisherId()==e.getPublisherId())return;0<h.length&&h[h.length-1].getPublisherId()==D.getPublisherId()?h.splice(h.length-1,0,e):h.push(e),a&&(n?G():V()),q($.PUBLISHER)}}(e)},Ei:function(){var e="";return e+=r?"1":"0",e+=u?"1":"0",e+=i?"1":"0",e+=t?"1":"0",e+=N?"1":"0",e+=M?"1":"0",e+=g?"1":"0",e+="-",e+=l+"",e+=p+"",e+=E+"",e+="-",e+=T.toString(16).toUpperCase(),e+="-",e+=P.toString(16).toUpperCase(),e+="-",e+=S.toString(16).toUpperCase(),e+="-",e+=I.toString(16).toUpperCase(),e+="-",e+=w.toString(16).toUpperCase(),e+="-",e+=(O/100).toString(16).toUpperCase(),e+="-",e+=(L/100).toString(16).toUpperCase(),(e+="-")+(B/100).toString(16).toUpperCase()},Pi:function(e){for(var t=0;t<h.length;++t)if(h[t].getPublisherId()==e)return!0;return!1},Ai:function(e){for(var t=0;t<_.length;++t)if(_[t].getPartnerId()==e)return!0;return!1},getPartnerConfiguration:function(e){for(var t=0;t<_.length;++t){var n=_[t];if(n.getPartnerId()==e)return n}return null},getPublisherConfiguration:function(e){for(var t=0;t<h.length;++t){var n=h[t];if(n.getPublisherId()==e)return n}return null},Di:function(){for(var e=[],t=0;t<h.length;++t){var n=h[t];e.push(n.getPublisherId())}return e},getPublisherConfigurations:function(){return h},getPartnerConfigurations:function(){return _},getLabelOrder:function(){return C},setLabelOrder:function(e){e instanceof Array&&(C=H.h(e),q($.LABEL_ORDER))},Ci:function(){return d},setLiveEndpointUrl:function(e){n||(d=e+"")},Li:function(){return f},setOfflineFlushEndpointUrl:function(e){n||(f=e)},F:function(){return m},setApplicationName:function(e){n||(m=e)},setApplicationVersion:function(e){n||(v=e)},B:function(){return v},Ti:function(){return re.tn()},setPersistentLabel:function(e,t){Y.Wn(s,e,t)&&q($.PERSISTENT_LABELS)},removeAllPersistentLabels:function(){s={},q($.PERSISTENT_LABELS)},removePersistentLabel:function(e){delete s[e],q($.PERSISTENT_LABELS)},getPersistentLabels:function(){return s},getPersistentLabel:function(e){return s[e]},containsPersistentLabel:function(e){return null!=s[e]},addPersistentLabels:function(e){Y.Fn(s,e),q($.PERSISTENT_LABELS)},setStartLabel:function(e,t){Y.Wn(c,e,t)&&q($.START_LABELS)},removeAllStartLabels:function(){c={},q($.START_LABELS)},removeStartLabel:function(e){delete c[e],q($.START_LABELS)},addStartLabels:function(e){Y.Fn(c,e),q($.START_LABELS)},getStartLabels:function(){return c},Ni:function(e){return c[e]},containsStartLabel:function(e){return null!=c[e]},isKeepAliveMeasurementEnabled:function(){return u},isSecureTransmissionEnabled:function(){return r},isHttpRedirectCachingEnabled:function(){return i},setLiveTransmissionMode:function(e){e&&(l=e,q($.LIVE_TRANSMISSION_MODE))},Oi:function(){return l},enableImplementationValidationMode:function(){n||(t=!0)},Ri:function(){return t},setOfflineCacheMode:function(e){e&&(p=e,q($.OFFLINE_CACHE_MODE))},ki:function(){return p},setUsagePropertiesAutoUpdateMode:function(e){e&&(n||(E=e))},Jt:function(){return E},setUsagePropertiesAutoUpdateInterval:function(e){n||(T=e)},getUsagePropertiesAutoUpdateInterval:function(){return T},setCacheMaxMeasurements:function(e){n||(P=e)},Mi:function(){return P},setCacheMaxFlushesInARow:function(e){n||(S=e)},Ui:function(){return S},setCacheMinutesToRetry:function(e){n||(w=e)},xi:function(){return w},setCacheMeasurementExpiry:function(e){n||(I=e)},Wi:function(){return I},isEnabled:function(){return e},Fi:function(){return n},disable:function(){e&&(e=!1,q($.DISABLE))},disableTcfIntegration:function(){g&&(g=!1,q($.Qt))},removeListener:function(e){if(K.Nn(e)){var t=y.indexOf(e);-1!=t&&y.splice(t,1)}},Bi:function(){return F.getPublisherConfiguration("21193409")},setDebugEnabled:function(e){n||(k=e)},Vi:function(){return k},setSystemClockJumpDetectionEnabled:function(e){n||(N=e)},vi:function(){return N},setSystemClockJumpDetectionInterval:function(e){n||(e=100*Math.floor(e/100),O=e)},setSystemClockJumpDetectionAlternativeContextInterval:function(e){n||(e=100*Math.floor(e/100),L=e)},_i:function(){return O},pi:function(){return L},setSystemClockJumpDetectionPrecision:function(e){n||(e=100*Math.floor(e/100),B=e)},hi:function(){return B},setStorageWriteInterval:function(e){0!=R&&(e<Q.qi||e>Q.Gi)||(x=!0,R=e)},ji:function(){return x?R:re.M},addIncludedPublisher:function(e){-1==b.indexOf(e)&&b.push(e)},getIncludedPublishers:function(){return b},addCrossPublisherUniqueDeviceIdChangeListener:function(e){K.Nn(e)&&-1===A.indexOf(e)&&A.push(e)},removeCrossPublisherUniqueDeviceIdChangeListener:function(e){var t=A.indexOf(e);-1!==t&&A.splice(t,1)},Ut:function(e){if("string"==typeof e)for(var t=0;t<A.length;t++)A[t](e)},enableChildDirectedApplicationMode:function(){n||(M=!0)},Nt:function(){return M},Hi:null}),a=n=o=!(e=!0),w=W.Ki,P=W.Ji,S=W.Yi,I=W.Xi,E=X.si,T=X.ai,s={},c={},C=z.At,b=[],D=new ee({publisherId:"21193409"}),l=z.Pt,p=J.ENABLED,u=D.isKeepAliveMeasurementEnabled(),y=[],A=[],_=[],k=!(g=!(t=!(i=!(r=!(h=[]))))),N=ie.ENABLED,L=O=-1,B=ie.Si,M=!1,R=Q.zi,x=!1,v=m=ae,U=new Z(F),F.Hi=U}oe.ee="21193409",e.exports=oe},function(e,t,n){var r=n(0),f=n(20),h=n(57),_=n(24),g=n(80),m=n(23),v=n(2).mn,C=n(9),y=n(11);function i(s,n){var c,u,o,l,d,p=this;u=!1,c=[],o=null,l=s.get(y.qn,0),d=0,function(){var e=n.getCache();if(null!=e)try{var t=JSON.parse(e);if(!(t instanceof Array))return;c=t}catch(e){}}(),r.extend(p,{he:function(){v.O&&s.put(y.qn,l)},Zi:function(){if(v.O){var e=JSON.stringify(c);n.storeCache(e)}},onSuccess:function(){u=!1,o=null,l=0,p.Zi()},onFailure:function(){u=!1,c=o.concat(c),o=null,p.Zi()},nr:function(e,t){var n;v.O&&t.ki()!=_.DISABLED&&(n=t,c.length<=n.Mi()?c.push(e.getLabels()):l++)},tr:function(e){if(v.O){for(var t=[],n=0;n<e.length;++n)t.push(e[n].getLabels());c=t.concat(c)}},flush:function(e,t){v.O&&function(e,t){var n,r,i,a=e.ki(),o=v.in();return!(a==_.DISABLED||a==_.MANUAL_FLUSH&&!t||a==_.LAN&&(o==C.WWAN||o==C.BLUETOOTH||o==C.DISCONNECTED)||(r=60*(n=e).xi()*1e3,i=n.Ui(),+new Date-s.get(y.Gn,-1)>r&&(d=0),i<d||0==c.length||u))}(e,t)&&function(e){u=!0;var t=e.Li(),n={};n.c2=e.getPublisherConfigurations()[0].getPublisherId();var r="JetportGotAMaskOfThe"+e.getPublisherConfigurations()[0].getPublisherSecret()+"S.D_K-";r=m(r),n.s=r;var i=f.We(t,n,e.getLabelOrder());!function(e){for(var t=+new Date-24*e.Wi()*60*60*1e3,n=0;n<c.length;){var r=c[n];parseInt(r.ns_ts)<t?(c.splice(n,1),l++):n++}}(e),o=c,c=[],d++;var a=h.Qi(e,o,l);new g(i,a,p,e).$i()}(e)},er:function(){return c.length},jt:function(){c=[]}})}i.Xi=31,i.Ji=2e3,i.bi="http://udm.scorecardresearch.com/offline",i.Ii="https://udm.scorecardresearch.com/offline",i.Yi=10,i.Ki=30,e.exports=i},function(e,t){t.ir=function(e,t){if("undefined"!=typeof atv&&"undefined"!=typeof XMLHttpRequest){var n=new XMLHttpRequest;n.open("GET",e,!0),n.onreadystatechange=function(){4==n.readyState&&(t&&t(n.status),n=null)},n.send()}else"undefined"!=typeof atv&&"function"==typeof atv.setTimeout?t&&atv.setTimeout(t,0):t&&t()},t.rr=function(e,t,n){if("undefined"!=typeof atv&&"undefined"!=typeof XMLHttpRequest){var r=new XMLHttpRequest;r.open("POST",e,!0),r.onreadystatechange=function(){4===r.readyState&&(n&&n(r.status),r=null)},r.send(t)}else"undefined"!=typeof atv&&"function"==typeof atv.setTimeout?n&&atv.setTimeout(n,0):n&&n()}},function(e,t){t.or=function(e,t){"undefined"!=typeof WinJS&&void 0!==WinJS.xhr?WinJS.xhr({url:e}).then(function(e){t&&t(e.status)},function(){t&&t()}):"function"==typeof setTimeout?t&&setTimeout(t,0):t&&t()},t.ur=function(e,t,n){"undefined"!=typeof WinJS&&void 0!==WinJS.xhr?WinJS.xhr({type:"post",url:e,data:t,headers:{"Content-type":"application/xml"}}).then(function(e){n&&n(e.status)},function(){n&&n()}):"function"==typeof setTimeout?n&&setTimeout(n,0):n&&n()}},function(e,t,n){var r=n(18),i=[],a=!1;function o(){for(var e=0;e<i.length;++e)i[e]()}e.exports={sr:function(e){i.push(e),a||r.ht()&&(window.addEventListener?(window.addEventListener("unload",o,!1),a=!0):window.attachEvent&&(window.attachEvent("onunload",o),a=!0))},ar:function(e){for(var t=0;t<i.length;++t)if(i[t]==e){i.splice(t,1);break}0==i.length&&r.ht()&&(window.removeEventListener?(window.removeEventListener("unload",o,!1),a=!1):window.detachEvent&&(window.detachEvent("onunload",o),a=!1))}}},function(e,t,n){var r=n(0),i=n(5),a=n(4),o=n(18),s=n(3),c=n(13),u=n(6).Un,l=n(6).xn,d=n(8),p=n(12),f=n(10),h=n(36),_="undefined"!=typeof document&&document||void 0,g=s.Sn,m=s.wn,v=r.extend({},i,{D:"html5",T:function(){return"undefined"!=typeof Image?c.apply(this,arguments):u.apply(this,arguments)},N:l,Storage:d,R:f,k:p,O:!0,M:6e4,F:function(){return _&&a.Cn(_.title)&&_.title||g},V:function(){return this.j()+ +new Date+~~(1e3*Math.random())},G:function(){return"72"},j:function(){return"undefined"!=typeof window&&a.Cn(window.navigator)&&a.Dn(window.navigator.platform,"")||""},H:function(){return a.Dn(o.Ne()+" "+o.Oe(),"")},J:function(){return"html"},Y:function(){return"5"},X:function(){var e,t;"undefined"!=typeof window&&window.screen&&window.screen.width&&(e=window.screen.width),"undefined"!=typeof window&&window.screen&&window.screen.width&&(t=window.screen.height);var n=1;return"undefined"!=typeof window&&window.devicePixelRatio&&(n=window.devicePixelRatio),0<e&&0<t?(e*=n)+"x"+(t*=n):m},Z:function(){var e,t;"undefined"!=typeof window&&window.innerWidth&&(e=window.innerWidth),"undefined"!=typeof window&&window.innerHeight&&(t=window.innerHeight);var n=1;return"undefined"!=typeof window&&window.devicePixelRatio&&(n=window.devicePixelRatio),0<e&&0<t?(e*=n)+"x"+(t*=n):m},nn:function(){return"undefined"!=typeof window&&a.Cn(window.navigator)&&a.Dn(window.navigator.language,"")||g},vn:function(e){h.sr(e)},_n:function(e){h.ar(e)}});e.exports=v},function(e,t,n){var l=n(0),d=n(2).mn,p=n(81);function r(t){var n,r,i,a,o,s;function c(){i&&(i=!1,n.storeProperties(r)),o&&(o=!1,n.storeCache(a))}function u(){if(-1==s){var e=t.ji();0==e?c():s=d.setTimeout(function(){s=-1,c()},e)}}l.extend(this,{storeProperties:function(e){r=e,i=!0,u()},getProperties:function(){return i?r:n.getProperties()},storeCache:function(e){a=e,o=!0,u(),n.storeCache(e)},getCache:function(){return o?a:n.getCache()}}),n="function"==typeof d.Storage?new d.Storage(t):new p,a=r="",o=i=!1,s=-1}r.qi=6e4,r.Gi=3e5,r.zi=0,e.exports=r},function(e,t,n){var a=n(0),o=n(40);e.exports=function(n){var e,t,r;function i(e,t){return n&&null!=n[e]?n[e]:t}e=new o(n=n||{}),a.extend(this,e),a.extend(this,{getPartnerId:function(){return t},getExternalClientId:function(){return r}}),t=i("partnerId",""),r=i("externalClientId","")}},function(e,t,n){var s=n(0),c=n(7),u=n(15),l=n(41);e.exports=function(n){var t,r,e,i,a;function o(e,t){return n&&null!=n[e]?n[e]:t}s.extend(this,{addPersistentLabels:function(e){c.Fn(r,e)},setPersistentLabel:function(e,t){c.Wn(r,e,t)},removeAllPersistentLabels:function(){r={}},removePersistentLabel:function(e){delete r[e]},getStartLabels:function(){return t},getPersistentLabels:function(){return r},containsPersistentLabel:function(e){return null!=r[e]},containsStartLabel:function(e){return null!=t[e]},getPersistentLabel:function(e){return r[e]},isKeepAliveMeasurementEnabled:function(){return e},isSecureTransmissionEnabled:function(){return i},isHttpRedirectCachingEnabled:function(){return a}}),e=l.ENABLED,i=u.Et,a=u.bt,r={},t=o("startLabels",t={}),r=o("persistentLabels",r),e=o("keepAliveMeasurement",e),i=o("secureTransmission",i),a=o("httpRedirectCaching",a)}},function(e,t,n){var s=n(0),c=n(2).mn,u=n(11);function r(n){var r,i,t,a,o=this;i=!(r=!0),s.extend(o,{start:function(e){o.stop(),r&&(i=!0,t=c.setTimeout(function(){if(function(){if(r){var e=n.get(u.Gn,0),t=+new Date-e;0<e&&86399e3<t&&a&&a.me()}}(),i){var e=n.get(u.Gn,0);if(0==e)o.start(3e3);else{var t=864e5-(+new Date-e);o.start(t)}}},e))},stop:function(){i&&(i=!1,c.clearTimeout(t),t=null)},Yt:function(e){r=e},Ht:function(e){a=e}})}r.ENABLED=!0,r.Ie=3e3,e.exports=r},function(e,t,n){var c=n(0),u=n(40),l=n(43);e.exports=function t(n){var e,r,i,a,o;function s(e,t){return n&&null!=n[e]?n[e]:t}n=c.h(n||{}),r=s("publisherId",r),o=s("publisherUniqueDeviceIdListener"),i=l.cr(r),a=null,e=new u(n),c.extend(this,e),c.extend(this,{getPublisherId:function(){return r},getPublisherSecret:function(){return i},getPublisherUniqueDeviceId:function(){return a},setPublisherUniqueDeviceId:function(e){a=e,"function"==typeof o&&o(e)},copy:function(e){return new t(e=c.extend(n,e))}})}},function(e,t,n){var u=n(0),l=n(2).mn,d=n(11),p=n(23),f=n(83);function r(n,r){var i=null,a=null,o=!0,s=!1,c={};u.extend(this,{Ot:function(){var e="";r.$t()?e=(l.W()||"null").split(" "):r.Zt();var t=e[0]&&"null"!=e[0]?e[0]:null;null!=t?(a||(i=n.get(d.Jn,null),a=n.get(d.Yn,null)),a?"none"==t&&"none"==a||!o&&"none"==a||"none"!=t&&p(t)==i||(s=!0,a=o&&"none"!=t?(i=p(t),f(t)):(i=null,"none"),n.put(d.Yn,a),null==i?n.remove(d.Jn):n.put(d.Jn,i)):(a="none"==t?(i=null,"none"):(i=p(t),f(t)),n.put(d.Yn,a),null==i?n.remove(d.Jn):n.put(d.Jn,i)),o=!(c={xt:a,Rt:s,Mt:o})):c={xt:a=i=null,Rt:!1,Mt:o}},kt:function(){return c},he:function(){},ne:function(e){var t,n;return n=r.$t()?(t=l.V(),l.G()):(r.Zt(),t=+new Date+~~(1e3*Math.random()),72),p(t+e)+"-cs"+n}})}r.cr=function(e){return p("zutphen2011comScore@"+e)},e.exports=r},function(e,t,n){var r=n(0);e.exports=function(){var t,n={};r.extend(this,{lr:function(e){return null!=n[e]},dr:function(e){return n[e]},addLabels:function(e){r.extend(n,e)},setLabel:function(e,t){n[e]=t+""},vr:function(){return"start"==n.ns_ap_ev},getLabels:function(){return n},setLiveEndpointUrl:function(e){t=e},Ci:function(){return t}})}},function(e,t,n){var s=n(1).I,c=n(0),u=n(16);function r(t){var e,n,r,i=this;function a(){var e=new u(s.KEEPALIVE);t.pr()._r(e),i.start()}function o(){null!=r&&(t.pr().hr().clearTimeout(r),r=null)}c.extend(i,{start:function(){e&&(o(),r=t.pr().hr().setTimeout(a,n))},stop:function(){e&&o()}}),e=t.getConfiguration().gr,n=t.getConfiguration().mr}r.yr=12e5,r.Sr=6e4,r.ENABLED=!0,e.exports=r},function(e,t,n){var d=n(0);function r(n){var r,a,i,o,e,s,c=this;function u(){e++,o=0,c.resume(),n.pr().wr()}function l(){null!=i&&(n.pr().hr().clearTimeout(i),i=null)}d.extend(this,{br:function(){return e},Ir:function(e){var t=0;if(null!=a)for(var n=0;n<a.length;n++){var r=a[n],i=r.Er;if(!i||e<i){t=r.interval;break}}return t},resume:function(){if(r){l();var e=c.Ir(n.Dr().Ar().Pr()+(+new Date-n.Dr().Ar().Cr()));if(0<e){var t=0<o?o:e;s=+new Date+t,i=n.pr().hr().setTimeout(u,t)}o=0}},pause:function(){if(r){l();var e=c.Ir(n.Dr().Ar().Pr()+(+new Date-n.Dr().Ar().Cr()));o=e-(n.Dr().Ar().Pr()+(+new Date-n.Dr().Ar().Cr()))%e}},reset:function(){r&&(l(),e=o=0)},Lr:function(e){return null==i?-1:s-e}}),e=o=0,r=n.getConfiguration().Tr,a=d.h(n.getConfiguration().Nr)}r.ENABLED=!0,r.Or=[{Er:6e4,interval:1e4},{Er:null,interval:6e4}],r.Rr=function(e,t){if(e.length!=t.length)return!1;for(var n=0;n<e.length;++n){var r=e[n],i=t[n];if(r.Er!=i.Er)return!1;if(r.interval!=i.interval)return!1}return!0},e.exports=r},function(e,t,n){var R=n(0),x=n(4),U=n(14),F=n(48),V=n(49).kr,j=n(1).P,G=n(1).I,q=n(3),H=n(50),Y=H.AdvertisementType,K=n(31),W=n(53),J=n(113),z=n(16);function r(f){var h,_,g,n,r,i,a,o,m,s,c,v,u,l,d,p,C,y,A,b,P,S,w,I,E,T,D,k,N,O,L,B,M=this;R.extend(this,{Mr:function(){var e=_,t=new K,n=W.wt(t);_=new W(f,t,n),W.Mr(e,_)},addLabels:function(e){null!=e&&R.extend(o,e)},getLabels:function(){return o},setLabel:function(e,t){var n={};n[e]=t,M.addLabels(n)},dr:function(e){return o[e]},Ar:function(){return _},Fn:function(e,t){var n=e;n.ns_st_pa=r+(isNaN(i)?0:t-i)+"",n.ns_st_pp=C+"",n.ns_st_sp=y+"",n.ns_st_bp=A+"",u||(n.ns_st_pb="1"),_.Ur()&&(n.ns_st_ppc=l+"",n.ns_st_dppc=l-d+"",n.ns_st_psq=p+""),n.ns_st_sc=P+"",R.extend(n,a)},xr:function(){y++},Wr:function(){C++},Fr:function(e){if(!isNaN(i)){var t=M.Pr();t+=e-i,M.Br(t),i=NaN}},Vr:function(e){if(!isNaN(n)){var t=M.qr();t+=e-n,M.Gr(t),n=NaN}},qr:function(){return A},Gr:function(e){A=e},Pr:function(){return r},jr:function(e){n=e},Hr:function(){return n},Br:function(e){r=e},Kr:function(e){i=e},Cr:function(){return i},Jr:function(){return C},Yr:function(e){C=e},Xr:function(){return c},zr:function(e,t,n){var r;if(_.Qr(_.$r()),_.Zr(_.no()),!k||e!=j.IDLE&&e!=j.PLAYBACK_NOT_STARTED&&e!=j.BUFFERING_BEFORE_PLAYBACK&&e!=j.SEEKING_BEFORE_PLAYBACK&&t!=j.PLAYING)if(e==j.IDLE){var i=h.to();r=F.eo(_.dr("ns_st_ad"))||N&&1==E?0:s[_.io()]&&i&&i.io()==_.io()?_.ro():0}else r=e==j.PLAYING?_.oo(n):_.ro();else r=T,k=!1;_.uo(r),_.so(n)},ao:function(e,t,n){var r,i=_.fo();_.Qr(_.$r()),_.Zr(_.no()),r=_.co()?e==j.IDLE||e==j.BUFFERING_BEFORE_PLAYBACK||e==j.SEEKING_BEFORE_PLAYBACK||e==j.PLAYBACK_NOT_STARTED||t==j.PLAYING?(i=O?(O=!1,D):_.lo(n),_.do(n,i)):e==j.PLAYING?(i=_.vo(n),_._o(n)):(i=_.lo(n),_.do(n,i)):(O&&(O=!1,i=D),_.po()-i),_.uo(r),_.so(n),_.ho(i),_.mo(n)},yo:function(){var e,t=h.to();e=F.eo(_.dr("ns_st_ad"))?1:N?E:s[_.io()]&&s[_.io()]&&t&&t.io()==_.io()?_.So()?_.wo():_.wo()+1:1,_.bo(e),N=!1},Io:function(){h.Eo(_),g&&h.Eo(g);var e=_.Po();if(v<e&&(v=e),F.eo(_.dr("ns_st_ad"))){var t=U.wt(_.getLabels(),V),n=parseInt(_.dr("ns_st_an"));if((null==w[t]||w[t]<n)&&(w[t]=n),I[_.io()]=B,_.lr("ns_st_rcn")){var r=parseInt(_.dr("ns_st_rcn"));v<r&&(v=r)}}m&&(M.xr(),M.Ao(0),m=!1),c=!0},Do:function(){s[_.io()]=!0,F.eo(_.dr("ns_st_ad"))||(1==_.wo()?L[_.io()]=1:(null==L[_.io()]&&(L[_.io()]=0),L[_.io()]++));for(var e=0;e<S.length;++e)S[e]()},Co:function(e){S.push(e)},Lo:function(){return l},To:function(){l++},No:function(e){u=e},Ao:function(e){p=e},Oo:function(){p++},Ro:function(){return a.ns_st_id},ko:function(e){e<0||(a.ns_st_ca=e+"")},Mo:function(e){e<1||(a.ns_st_cp=e+"")},setMediaPlayerName:function(e){e&&(a.ns_st_mp=e+"")},setMediaPlayerVersion:function(e){e&&(a.ns_st_mv=e+"")},setImplementationId:function(e){e&&(a.cs_impid=e+"")},loopPlaybackSession:function(){for(var e in s)if(s.hasOwnProperty(e)){var t=h.Ar(e);t&&(t.Qr(0),t.Uo(0),t.xo(!1),t.setDvrWindowLength(0),t.ho(0)),s[e]=!1}M.startFromSegment(1),_.Wo(!0),m=!0},startFromSegment:function(e){E=e,N=!0},startFromPosition:function(e){T=e,k=!0},startFromDvrWindowOffset:function(e){D=e,O=!0},Fo:function(e){_.Ur()&&(d=parseInt(e.ns_st_ppc)),b=!1},Bo:function(n){if(f.qo().Vo("setMetadata",n),n&&(n instanceof K||n instanceof H)){var r=n.getMetadataLabels();if(f.qo().Go("Passed labels:",r),F.eo(r.ns_st_ad)){if(null==r.ns_st_bn){var e=r.ns_st_ct;if((e=null!=e?e.slice(2):null)==Y.ON_DEMAND_PRE_ROLL||e==Y.BRANDED_ON_DEMAND_PRE_ROLL)r.ns_st_bn="1";else if(e==Y.ON_DEMAND_POST_ROLL||e==Y.BRANDED_ON_DEMAND_POST_ROLL)r.ns_st_bn="1";else if(e==Y.ON_DEMAND_MID_ROLL||e==Y.BRANDED_ON_DEMAND_MID_ROLL){var t="";n instanceof H&&n.getRelatedContentMetadata()&&(t=W.wt(n.getRelatedContentMetadata().getMetadataLabels())),t&&null!=L[t]?r.ns_st_bn=L[t]:r.ns_st_bn="1"}}if(null==r.ns_st_an){var i=U.wt(r,V),a=1;null!=w[i]&&(a=w[i]+1),r.ns_st_an=a+""}!function(){if(null==r.ns_st_rcn){var e,t="";n instanceof H&&n.getRelatedContentMetadata()&&(t=W.wt(n.getRelatedContentMetadata().getMetadataLabels())),e=t?h.jo(t)?h.Ar(t).Po():null==r.ns_st_cn?v+2:parseInt(r.ns_st_cn)+1:0,r.ns_st_rcn=e+""}}()}var o=W.wt(r),s="";n instanceof H&&n.getRelatedContentMetadata()&&(s=W.wt(n.getRelatedContentMetadata().getMetadataLabels()));var c=_;if(o==c.io()&&!(N||k||m||null!=r.ns_st_pn))return f.qo().Go("Updating existing asset labels with the newly provided ones:",r),c.Ho(),c.Ko(),c.addLabels(r),void M.Jo(n,c);var u,l=f.Xo().Yo();if(l!=j.IDLE){f.qo().Go("Ending the current Clip. It was in state:",U.yt(l));var d=new z(G.END);d.Lt.ns_st_ae="1",f.pr().zo(d)}if(h.jo(o)?((u=h.Ar(o)).Qo(),u.Ho(),u.Ko(),u.addLabels(r)):(u=new W(f,r,o),null==r.ns_st_cn?u.$o(v+1):u.$o(parseInt(r.ns_st_cn))),function(){if(n instanceof H&&n.getRelatedContentMetadata()){var e=n.getRelatedContentMetadata().getMetadataLabels(),t=W.wt(e);h.jo(t)?g=h.Ar(t):(g=new W(f,e,t)).$o(u.Po()+1)}else g=null}(),F.eo(u.dr("ns_st_ad"))&&function(){var e;if(s)if(h.jo(s)){var t=u.dr("ns_st_ct");e=(t=null!=t?t.slice(2):null)==Y.ON_DEMAND_PRE_ROLL||t==Y.BRANDED_ON_DEMAND_PRE_ROLL?0:h.Ar(s).$r()}else e=0;else e=0;u.Zo("ns_st_cpo",e+"")}(),M.Jo(n,u),m&&u.Wo(!0),_=u,B=s,b||P++,b=!0,f.getConfiguration().nu)if(l==j.PLAYING){f.qo().Go("Resuming the new Asset.");var p=new z(G.PLAY);p.Lt.ns_st_ae="1",f.pr().zo(p)}else l!=j.BUFFERING_DURING_PLAYBACK&&l!=j.PAUSED_DURING_BUFFERING||(f.qo().Go("Starting buffering the new Asset."),f.pr().zo(new z(G.BUFFER)),f.pr().tu())}else f.qo().Go("Ignoring API call. An AssetMetadata object was expected and received instead:",n)},Jo:function(e,t){if(e instanceof H){var n=e.getStacks(),r=e.getRelatedContentMetadata()?e.getRelatedContentMetadata().getStacks():null,i=[];for(var a in n)if(n.hasOwnProperty(a)){var o=n[a],s=r&&r[a]||null;i.push(a);var c=o.getMetadataLabels(s);t.eu(a,c)}if(r)for(var u in r)if(r.hasOwnProperty(u)&&-1==i.indexOf(u)){var l=r[u];t.eu(u,l.getMetadataLabels())}}else{var d=e.getStacks();for(var p in d)if(d.hasOwnProperty(p)){var f=d[p];t.eu(p,f.getMetadataLabels())}}}}),function(){h=new J;var e=(new K).getMetadataLabels(),t=W.wt(e);_=new W(f,e,t),g=null,(a={}).ns_st_id=x.uuid(),a.ns_st_mp=q.Sn,a.ns_st_mv=q.Sn,m=!(o={}),i=n=NaN,u=c=!(s={}),b=!(A=p=C=d=l=v=r=0),S=[],w={},I={},D=T=0,O=N=k=!(E=-(P=y=1)),L={},B=null}()}r.iu=function(e,t,n){for(var r=t.Ar(),i=t.getLabels(),a={},o=0;n&&o<n.length;o++)i.hasOwnProperty(n[o])&&(a[n[o]]=i[n[o]]);e.Dr().addLabels(a),W.Mr(r,e.Dr().Ar(),n)},r.ru=!0,e.exports=r},function(e,t){var n=n||{};n.eo=function(e,t){return t=t||!1,e?"0"!=e:t},n.ou=function(e,t){return null==e||isNaN(e)?t||0:parseInt(e)},n.uu=function(e,t){var n=Number(e);return null==e||isNaN(n)?t||0:n},n.toString=function(e){if(void 0===e)return"undefined";if("string"==typeof e)return e;if(e instanceof Array)return e.join(",");var t="";for(var n in e)e.hasOwnProperty(n)&&(t+=n+":"+e[n]+";");return t||e.toString()},e.exports.eo=n.eo,e.exports.ou=n.ou,e.exports.uu=n.uu,e.exports.toString=n.toString},function(e,t){e.exports={su:["ns_st_ci","ns_st_pu","ns_st_pr","ns_st_sn","ns_st_en","ns_st_ep","ns_st_st","ns_st_ty","ns_st_ct","ns_st_li","ns_st_ad","ns_st_bn","ns_st_tb","ns_st_an","ns_st_ta","c3","c4","c6","ns_st_tpr","ns_st_tep","ns_st_stc","ns_st_sta","ns_st_amg","ns_st_ami","ns_st_amt","ns_st_dt","ns_st_tm","ns_st_ddt","ns_st_dtm","ns_st_tdt","ns_st_ttm"],kr:["ns_st_ci","ns_st_pu","ns_st_pr","ns_st_sn","ns_st_en","ns_st_ep","ns_st_st","ns_st_ty","ns_st_ct","ns_st_li","ns_st_ad","ns_st_bn","ns_st_tb","ns_st_ta","c3","c4","c6","ns_st_tpr","ns_st_tep","ns_st_stc","ns_st_sta","ns_st_dt","ns_st_tm","ns_st_ddt","ns_st_dtm","ns_st_tdt","ns_st_ttm"]}},function(e,t,n){var l=n(0),d=n(7),p=n(51),f=n(31);function r(){var r,n,i,a,o,s=this,e=new p,c=["ns_st_ct","ns_st_li","ns_st_ty","ns_st_cl","ns_st_fee","ns_st_cs","ns_st_cu"];function u(e,t){d.Wn(o,e,t)}r=null,a=!(n={}),o={},u("ns_st_li","0"),u("ns_st_ty","video"),u("ns_st_ad","1"),u("ns_st_tp","1"),l.extend(s,e),l.extend(s,{setRelatedContentMetadata:function(e){e instanceof f||(e=null),r=e},getRelatedContentMetadata:function(){return r},setMediaType:function(e){if(null!=e){u("ns_st_ct",(a?"aa":"va")+(i=e));var t="1";i==h.ON_DEMAND_PRE_ROLL||i==h.BRANDED_ON_DEMAND_PRE_ROLL?t="pre-roll":i==h.ON_DEMAND_MID_ROLL||i==h.BRANDED_ON_DEMAND_MID_ROLL?t="mid-roll":i!=h.ON_DEMAND_POST_ROLL&&i!=h.BRANDED_ON_DEMAND_POST_ROLL||(t="post-roll"),u("ns_st_ad",t),u("ns_st_li",i==h.LIVE||i==h.BRANDED_DURING_LIVE?"1":"0")}},classifyAsAudioStream:function(e){null==e&&(e=!0),a=e,null==i?delete o.ns_st_ct:u("ns_st_ct",(a?"aa":"va")+i),u("ns_st_ty",a?"audio":"video")},setVideoDimensions:function(e,t){u("ns_st_cs",(e=e||0)+"x"+(t=t||0))},setLength:function(e){u("ns_st_cl",e)},setBreakNumber:function(e){u("ns_st_bn",e)},setTotalBreaks:function(e){u("ns_st_tb",e)},setNumberInBreak:function(e){u("ns_st_an",e)},setTotalInBreak:function(e){u("ns_st_ta",e)},setClipUrl:function(e){u("ns_st_cu",e)},setServer:function(e){u("ns_st_ams",e)},setCallToActionUrl:function(e){u("ns_st_amc",e)},setDeliveryType:function(e){u("ns_st_amd",e)},setOwner:function(e){u("ns_st_amo",e)},setStack:function(e,t){n[e]=t},getStacks:function(){return n},getStandardLabels:function(){return l.extend({},e.getStandardLabels(),o)},getMetadataLabels:function(){var e={};if(r){var t=r.getStandardLabels();for(var n in t)t.hasOwnProperty(n)&&-1==c.indexOf(n)&&(e[n]=t[n])}return l.extend(e,s.getStandardLabels(),r?r.getCustomLabels():null,s.getCustomLabels())}})}var h={ON_DEMAND_PRE_ROLL:"11",ON_DEMAND_MID_ROLL:"12",ON_DEMAND_POST_ROLL:"13",LIVE:"21",BRANDED_ON_DEMAND_PRE_ROLL:"31",BRANDED_ON_DEMAND_MID_ROLL:"32",BRANDED_ON_DEMAND_POST_ROLL:"33",BRANDED_AS_CONTENT:"34",BRANDED_DURING_LIVE:"35",OTHER:"00"};r.AdvertisementType=h,r.AdvertisementDeliveryType={NATIONAL:"national",LOCAL:"local",SYNDICATION:"syndication"},r.AdvertisementOwner={DISTRIBUTOR:"distributor",ORIGINATOR:"originator",MULTIPLE:"mp",NONE:"none"},e.exports=r},function(e,t,n){var i=n(0),a=n(7),o=n(14);e.exports=function(){var n,t;function r(e,t){a.Wn(n,e,t)}n={},t={},i.extend(this,{setFee:function(e){r("ns_st_fee",e)},setUniqueId:function(e){r("ns_st_ami",e)},setTitle:function(e){r("ns_st_amt",e)},setServerCampaignId:function(e){r("ns_st_amg",e)},setPlacementId:function(e){r("ns_st_amp",e)},setSiteId:function(e){r("ns_st_amw",e)},addCustomLabels:function(e){"object"!=typeof e&&(e={}),t=o._t(e)},getCustomLabels:function(){return t},getStandardLabels:function(){return n},getMetadataLabels:function(){return i.extend({},n,t)}})}},function(e,t,n){var i=n(0),a=n(7),o=n(14),r=n(112);function s(){var n,t;function r(e,t){a.Wn(n,e,t)}n={},t={},i.extend(this,{setUniqueId:function(e){r("ns_st_ci",e)},setPublisherName:function(e){r("ns_st_pu",e)},setProgramTitle:function(e){r("ns_st_pr",e)},setEpisodeTitle:function(e){r("ns_st_ep",e)},setEpisodeSeasonNumber:function(e){r("ns_st_sn",e)},setEpisodeNumber:function(e){r("ns_st_en",e)},setGenreName:function(e){r("ns_st_ge",e)},setGenreId:function(e){r("ns_st_tge",e)},setDateOfProduction:function(e,t,n){r("ns_st_dt",c(e,t,n))},setTimeOfProduction:function(e,t){r("ns_st_tm",u(e,t))},setDateOfDigitalAiring:function(e,t,n){r("ns_st_ddt",c(e,t,n))},setTimeOfDigitalAiring:function(e,t){r("ns_st_dtm",u(e,t))},setDateOfTvAiring:function(e,t,n){r("ns_st_tdt",c(e,t,n))},setTimeOfTvAiring:function(e,t){r("ns_st_ttm",u(e,t))},setStationTitle:function(e){r("ns_st_st",e)},setStationCode:function(e){r("ns_st_stc",e)},setProgramId:function(e){r("ns_st_tpr",e)},setEpisodeId:function(e){r("ns_st_tep",e)},setFee:function(e){r("ns_st_fee",e)},setPlaylistTitle:function(e){r("ns_st_pl",e)},setNetworkAffiliate:function(e){r("ns_st_sta",e)},setDeliveryMode:function(e){r("ns_st_cde",e)},setDeliverySubscriptionType:function(e){r("ns_st_cds",e)},setDeliveryComposition:function(e){r("ns_st_cdc",e)},setDeliveryAdvertisementCapability:function(e){r("ns_st_cda",e)},setDistributionModel:function(e){r("ns_st_cdm",e)},setMediaFormat:function(e){r("ns_st_cmt",e)},setDictionaryClassificationC3:function(e){r("c3",e)},setDictionaryClassificationC4:function(e){r("c4",e)},setDictionaryClassificationC6:function(e){r("c6",e)},addCustomLabels:function(e){"object"!=typeof e&&(e={}),t=o._t(e)},getStandardLabels:function(){return n},getCustomLabels:function(){return t},getMetadataLabels:function(){return i.extend({},n,t)}})}function c(e,t,n){return r.au(4,e)+"-"+r.au(2,t)+"-"+r.au(2,n)}function u(e,t){return r.au(2,e)+":"+r.au(2,t)}s.ContentDeliveryMode={LINEAR:"linear",ON_DEMAND:"ondemand"},s.ContentDeliverySubscriptionType={TRADITIONAL_MVPD:"mvpd_auth",VIRTUAL_MVPD:"virtualmvpd",SUBSCRIPTION:"svod",ADVERTISING:"avod",TRANSACTIONAL:"tvod",PREMIUM:"pvod"},s.ContentDeliveryComposition={CLEAN:"clean",EMBED:"embedded"},s.ContentDeliveryAdvertisementCapability={NONE:"none",DYNAMIC_LOAD:"dai",DYNAMIC_REPLACEMENT:"dar",LINEAR_1DAY:"lai-c1",LINEAR_2DAY:"lai-c2",LINEAR_3DAY:"lai-c3",LINEAR_4DAY:"lai-c4",LINEAR_5DAY:"lai-c5",LINEAR_6DAY:"lai-c6",LINEAR_7DAY:"lai-c7"},s.ContentDistributionModel={TV_AND_ONLINE:"to",EXCLUSIVELY_ONLINE:"eo"},s.ContentMediaFormat={FULL_CONTENT_GENERIC:"fc",FULL_CONTENT_EPISODE:"fc01",FULL_CONTENT_MOVIE:"fc02",FULL_CONTENT_PODCAST:"fc03",PARTIAL_CONTENT_GENERIC:"pc",PARTIAL_CONTENT_EPISODE:"pc01",PARTIAL_CONTENT_MOVIE:"pc02",PARTIAL_CONTENT_PODCAST:"pc03",PREVIEW_GENERIC:"pv",PREVIEW_EPISODE:"pv01",PREVIEW_MOVIE:"pv02",EXTRA_GENERIC:"ec",EXTRA_EPISODE:"ec01",EXTRA_MOVIE:"ec02"},e.exports=s},function(e,t,n){var ke=n(0),Ne=n(14),r=n(49).su;function i(e,t,n){t=t||{},n=n||"";var h,r,_,i,a,g,o,m,v,C,y,A,s,b,P,S,c,w,I,u,E,T,D,k,N,O,L,B,M,R,x,U,F,V,j,G,q,H,Y,K,W,J,z,X,Q,l,d,$,Z,p,f,ee,te,ne,re,ie,ae,oe,se,ce,ue,le,de,pe,fe,he,_e,ge,me,ve,Ce,ye,Ae,be,Pe,Se,we,Ie,Ee,Te=this;function De(e){var t={},n=[];for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];if(2<=r.length&&"c"==r[0]&&r[1].charCodeAt(0)>="a".charCodeAt(0)&&r[1].charCodeAt(0)<="z".charCodeAt(0)&&"p"!=r[1]&&"s"!=r[1]){var a=r[1];3<r.length&&"_"==r[2]?((t[a]=t[a]||{})[r.substring(3,r.length)]=i,n.push(r)):3==r.length&&"0"<=r[2]&&r[2]<="9"&&((t[a]=t[a]||{})["c"+r[2]]=i,n.push(r))}}for(var o=0;o<n.length;++o)delete e[n[o]];for(var s in t){var c=t[s],u=c.c2;u&&(delete c.c2,Te.eu(u,c))}}ke.extend(Te,{eu:function(e,t){a[e]=a[e]||{},ke.extend(a[e],t)},Ko:function(){a={}},getStacks:function(){return a},io:function(){return r},fu:function(e){L=e},cu:function(){return L},Zo:function(e,t){_[e]=t},lu:function(e){return _[e]},du:function(e){return null!=_[e]},addLabels:function(e){De(e),ke.extend(i,e)},getLabels:function(){return i},setLabel:function(e,t){i[e]=t},Ho:function(){i={}},dr:function(e){return i[e]},lr:function(e){return null!=i[e]},Po:function(){return parseInt(Te.lu("ns_st_cn"))},$o:function(e){Te.Zo("ns_st_cn",e+"")},bo:function(e){we=e,Ie=!0},wo:function(){return we},So:function(){return Ie},Fn:function(e,t,n){var r,i=e,a=parseInt(i.ns_st_po);r=n&&Se<0&&0<A-a?E+A-a:n&&0<Se&&0<a-A?E+a-A:E,i.ns_st_ap=r+"",i.ns_st_dap=r-T+"",i.ns_st_iap=r-D+"",i.ns_st_pt=m+(isNaN(v)?0:t-v)+"",i.ns_st_dpt=m+(isNaN(v)?0:t-v)-C+"",i.ns_st_ipt=m+(isNaN(v)?0:t-v)-y+"",i.ns_st_et=b+(isNaN(P)?0:t-P)+"",i.ns_st_det=b+(isNaN(P)?0:t-P)-S+"",i.ns_st_iet=b+(isNaN(P)?0:t-P)-k+"",i.ns_st_bt=Y+"",i.ns_st_dbt=Y+(isNaN(K)?0:t-K)-W+"",i.ns_st_ibt=Y+(isNaN(K)?0:t-K)-Q+"";var o=B,s=M;n&&(o=Ne.gt(B,Se<0?a:R,Se<0?R:a,L),s=Ne.gt(M,Se<0?a:R,Se<0?R:a,L));for(var c,u=0,l=0,d=0;d<o.length;d++)u+=c=Math.abs(o[d].end-o[d].start),l<c&&(l=c);var p=0,f=0;for(d=0;d<s.length;d++)p+=c=Math.abs(s[d].end-s[d].start),f<c&&(f=c);i.ns_st_upc=u+"",i.ns_st_dupc=u-x+"",i.ns_st_iupc=u-U+"",i.ns_st_lpc=l+"",i.ns_st_dlpc=l-F+"",i.ns_st_ilpc=l-O+"",i.ns_st_upa=p+"",i.ns_st_dupa=p-V+"",i.ns_st_iupa=p-j+"",i.ns_st_lpa=f+"",i.ns_st_dlpa=f-G+"",i.ns_st_ilpa=f-N+"",i.ns_st_pc=re+"",i.ns_st_dpc=re-ie+"",i.ns_st_skc=ae+"",i.ns_st_dskc=ae-oe+"",i.ns_st_bc=J+"",i.ns_st_dbc=J-z+"",i.ns_st_ibc=J-X+"",i.ns_st_skt=$+"",i.ns_st_dskt=$-Z+"",i.ns_st_ska=ee+"",i.ns_st_dska=ee-te+"",h&&(i.ns_st_spc=se+"",i.ns_st_dspc=se-q+"",i.ns_st_apc=ce+"",i.ns_st_dapc=ce-H+"",i.ns_st_sq=ue+"",i.ns_st_asq=le+""),i.ns_st_dtpc=ve-Ce+"",i.ns_st_itpc=ve-ye+"",i.ns_st_dcpc=fe-he+"",i.ns_st_icpc=fe-_e+"",i.ns_st_rt=Se+"",i.ns_st_ldw=w,i.ns_st_ldo=I,i.ns_st_pn=we+"",i.ns_st_lda=g?"1":"0",ke.extend(i,_)},Fo:function(e){C=parseInt(e.ns_st_pt),T=parseInt(e.ns_st_ap),S=parseInt(e.ns_st_et),W=parseInt(e.ns_st_bt),x=parseInt(e.ns_st_upc),F=parseInt(e.ns_st_lpc),V=parseInt(e.ns_st_upa),G=parseInt(e.ns_st_lpa),ie=parseInt(e.ns_st_pc),oe=parseInt(e.ns_st_skc),z=parseInt(e.ns_st_bc),Z=parseInt(e.ns_st_skt),te=parseInt(e.ns_st_ska),h&&(q=parseInt(e.ns_st_spc),H=parseInt(e.ns_st_apc)),Ce=ve,he=fe,Te.vu(0)},_u:function(e){y=parseInt(e.ns_st_pt),U=parseInt(e.ns_st_upc),j=parseInt(e.ns_st_upa),D=parseInt(e.ns_st_ap),k=parseInt(e.ns_st_et),N=parseInt(e.ns_st_lpa),O=parseInt(e.ns_st_lpc),Q=parseInt(e.ns_st_bt),X=parseInt(e.ns_st_bc),ye=ve,_e=fe},pu:function(){return Te.lu("ns_st_vt")},hu:function(e){Te.Zo("ns_st_vt",e+"")},gu:function(){return Te.lu("ns_st_at")},mu:function(e){Te.Zo("ns_st_at",e+"")},yu:function(){return Te.lu("ns_st_tt")},Su:function(e){Te.Zo("ns_st_tt",e+"")},wu:function(){return Te.lu("ns_st_cdn")},bu:function(e){Te.Zo("ns_st_cdn",e+"")},Wr:function(){re++},Iu:function(){ae++},xr:function(){ue++},Eu:function(){return ue},uo:function(e){de=e},so:function(e){pe=e},no:function(){return pe},$r:function(){return de},qr:function(){return Y},Gr:function(e){Y=e},Vr:function(e){if(!isNaN(K)){var t=Te.qr();t+=e-K,Te.Gr(t),K=NaN}},Pu:function(e){R=parseInt(e)},Au:function(){return R},Du:function(e){isNaN(R)||isNaN(e)||(B=Ne.gt(B,Se<0?e:R,Se<0?R:e,L),M=Ne.gt(M,Se<0?e:R,Se<0?R:e,L),R=NaN)},Cu:function(e){var t=M;null!=e&&(t=Ne.gt(M,Se<0?de:R,Se<0?R:de,L)),Ae||be||(1<t.length||0==t.length||0<t[0].start-L?Ae=!0:3e3<=t[0].end-t[0].start&&(be=!0,ve++)),ge||me||(1<t.length||0==t.length||0<t[0].start-L?ge=!0:t[0].end-t[0].start>=Ee&&(me=!0,fe++))},Lu:function(){return b},Tu:function(e){b=e},Nu:function(e){if(!isNaN(P)){var t=Te.Lu();t+=e-P,Te.Tu(t),P=NaN}},Ou:function(){return P},Ru:function(e){P=e},Fr:function(e){isNaN(v)||(m+=e-v,v=NaN)},Pr:function(){return m},oo:function(e){return A+Math.floor((e-s)*Se/100)},_o:function(e){return A+Math.floor((e-u)*Se/100)},do:function(e,t){return A+I-t+e-u},vo:function(e){return I+Math.floor((e-u)*(1-Se/100))},lo:function(e){return I+e-u},Qr:function(e){A=e},Zr:function(e){s=e},ku:function(){return s},ro:function(){return A},Cr:function(){return v},Kr:function(e){v=e},Mu:function(e){C=e},Hr:function(){return K},jr:function(e){K=e},Jr:function(){return re},Yr:function(e){re=e},Uu:function(){return ae},xu:function(e){ae=e},Wu:function(e){l=e},Fu:function(){return l},Bu:function(e){f=e},Vu:function(){return f},co:function(){return o},xo:function(e){o=e},qu:function(e){h=e},Ur:function(){return h},Gu:function(e){d=e},ju:function(){return d},Hu:function(e){if(!isNaN(d)){var t=Te.Ku();t+=e-d,Te.Ju(t),d=NaN}},Ku:function(){return $},Ju:function(e){$=e},Yu:function(e){ne=e},Xu:function(){return ne},zu:function(e){p=e},Qu:function(){return p},$u:function(e){ee=e},Zu:function(){return ee},ns:function(e){var t,n=Te.Zu();n+=Math.abs(e-p),Te.$u(n),p==e?t=0:e<p?t=-1:p<e&&(t=1),Te.vu(t),p=0},ts:function(){return parseInt(Te.lu("ns_st_skd"))},vu:function(e){Te.Zo("ns_st_skd",e+"")},es:function(){oe=ae=te=ee=Z=$=S=b=k=ue=ie=re=X=z=J=Q=W=Y=y=C=m=0,Ie=!1},rs:function(){se++},os:function(){ce++},us:function(){N=G=j=V=D=T=E=0,me=ge=be=Ae=!(M=[])},ss:function(e){se=e},Uo:function(e){c=e},as:function(){return se},fs:function(){return c},cs:function(){return J},ls:function(){J++},ds:function(){return W},Ao:function(e){le=e},Oo:function(){le++},vs:function(){return le},_s:function(){return Pe},Wo:function(e){Pe=e},ps:function(){return Se},hs:function(e){Se=e},gs:function(e){Se<0&&0<A-e?E+=A-e:0<Se&&0<e-A&&(E+=e-A)},setDvrWindowLength:function(e){w=e},po:function(){return w},ho:function(e){I=e},mo:function(e){u=e},ms:function(){return u},fo:function(){return I},ys:function(e){g=e},Ss:function(){return g},Qo:function(){Pe=!1}}),(_={}).ns_st_cl="0",_.ns_st_tp="0",_.ns_st_cn="1",_.ns_st_skd="0",_.ns_st_ci="0",_.ns_st_cn="1",_.c3="*null",_.c4="*null",_.c6="*null",_.ns_st_st="*null",_.ns_st_pu="*null",_.ns_st_pr="*null",_.ns_st_ep="*null",_.ns_st_sn="*null",_.ns_st_en="*null",_.ns_st_ct="*null",a={},De(t),i=t,o=g=h=!1,B=[],d=K=R=u=P=pe=v=NaN,ye=Ce=ve=_e=he=fe=le=ue=ce=se=oe=ae=ie=re=te=ee=Z=$=ne=p=Q=X=z=J=W=Y=H=q=G=j=V=F=U=x=O=N=k=D=T=E=I=w=y=S=c=de=b=C=A=m=0,Pe=be=Ae=me=ge=f=l=!(M=[]),Se=100,Ie=!(we=1),r=n,L=e.getConfiguration().ws,Ee=e.getConfiguration().bs}i.wt=function(e){return null==e.ns_st_cn?Ne.wt(e,r):e.ns_st_cn+""},i.Mr=function(e,t,n){for(var r=e.getLabels(),i={},a=0;n&&a<n.length;++a)r.hasOwnProperty(n[a])&&(i[n[a]]=r[n[a]]);t.addLabels(i),t.fu(e.cu())},i.Is=500,i.Es=500,i.Ps=3e3,e.exports=i},function(e,t,n){var r=n(55);e.exports=r},function(e,t,n){var r,i=n(0),a=n(17),o=n(30),s=n(9),c=n(15),u=n(2),l=n(94);r=new function(){i.extend(this,{StreamingAnalytics:l,PlatformAPIs:u.gn.PlatformApis,PlatformApi:u.gn,ConnectivityType:s,EventInfo:o,configuration:a.configuration.Hi,version:c.VERSION,start:function(){a.start()},notifyHiddenEvent:function(e){a.ve(e)},notifyViewEvent:function(e){a.pe(e)},notifyDistributedContentViewEvent:function(e,t){a.notifyDistributedContentViewEvent(e,t)},notifyUxActive:function(){a.notifyUxActive()},notifyUxInactive:function(){a.notifyUxInactive()},notifyEnterForeground:function(){a.notifyEnterForeground()},notifyExitForeground:function(){a.notifyExitForeground()},flushOfflineCache:function(){a.flushOfflineCache()},clearOfflineCache:function(){a.clearOfflineCache()},clearInternalData:function(){a.clearInternalData()}})},e.exports=r},function(e,t){e.exports={qe:function(e){return!(null==e||""==e||"0"==e)}}},function(e,t,n){var d=n(2).mn,p=n(23);function f(e,t,n){var r=e.ns_ts,i="undefined"!=typeof encodeURIComponent?encodeURIComponent:escape,a="",o=!1;for(var s in e)null==t[s]&&"ns_ts"!=s&&(o&&(a+="&"),o=!0,a+=i(s)+"="+i(e[s]));return n.push(a),'<event t="'+r+'">'+a+"</event>"}var r={Qi:function(e,t,n){var r,i,a=((i={}).c12=(r=e).getPublisherConfigurations()[0].getPublisherUniqueDeviceId(),i.c1="19",i.ns_ap_pn=d.K(),i.ns_ap_an=r.F(),i.ns_ap_device=d.j(),i),o="";for(var s in o+='<?xml version="1.0" encoding="UTF-8" ?>\n<events ',o+='t="'+ +new Date+'" ',a)o+=s+'="'+a[s]+'" ';o+='dropped="'+n+'" ';for(var c=[],u="",l=0;l<t.length;++l)u+="    "+f(t[l],a,c)+"\n";return o+='md5="'+p(c.join(""))+'" ',o+=">\n",(o+=u)+"</events>"}};e.exports=r},function(e,t,n){var r=n(0);e.exports=function(e){r.extend(this,{PlatformApis:e.PlatformApis,setPlatformAPI:e.setPlatformApi,setPlatformApi:e.setPlatformApi})}},function(e,t){e.exports={SmartTV:0,Netcast:1,Cordova:2,Trilithium:3,AppleTV:4,Chromecast:5,Xbox:6,webOS:7,tvOS:8,nodejs:9,html5:10,JSMAF:11,Skeleton:12,WebBrowser:13}},function(e,t,n){var r=n(0),i=n(5),a=n(4),o=n(3),s=n(6).Un,c=n(61),u=n(62),l=n(63),d=n(9),p=o.Sn,f=o.wn,h=null,_=null,g=null;function m(){if(null==h){var e=function(){if("object"!=typeof sf||"object"!=typeof sf.core||"function"!=typeof sf.core.sefplugin)return null;var e=sf.core.sefplugin("NNAVI");if("function"!=typeof e.Open||"function"!=typeof e.Execute)return null;e.Open("Network","1.001","Network");var t=e.Execute("GetMAC","0");if(!a.Pn(t))return t;if(t=e.Execute("GetMAC","1"),!a.Pn(t))return t;var n=e.Execute("GetDeviceID");return a.Pn(n)?null:n}();g=null!=e?(_="31",h=e):(h=+new Date+~~(1e3*Math.random()),_="72",null)}}var v=r.extend({},i,{D:"smarttv",T:s,N:null,Storage:c,O:!0,R:u,k:l,M:6e4,W:function(){return m(),g},B:function(){return"undefined"!=typeof sf&&a.Cn(sf.env)&&a.Cn(sf.env.getAppVersion)&&sf.env.getAppVersion()||p},V:function(){return m(),h},G:function(){return _},j:function(){return"undefined"!=typeof sf&&a.Cn(sf.core)&&a.Cn(sf.core.getEnvValue)&&sf.core.getEnvValue("modelid")||p},H:function(){return"2.0.0"},J:function(){if("undefined"!=typeof sf&&a.Cn(sf.env)&&a.Cn(sf.env.getProductType)&&a.Cn(sf.env.PRODUCTTYPE_TV)&&a.Cn(sf.env.PRODUCTTYPE_MONITOR)&&a.Cn(sf.env.PRODUCTTYPE_BD)){var e=[];return e[sf.env.PRODUCTTYPE_TV]="samsung-smarttv-tv",e[sf.env.PRODUCTTYPE_MONITOR]="samsung-smarttv-monitor",e[sf.env.PRODUCTTYPE_BD]="samsung-smarttv-bd",e[sf.env.getProductType()]}},Y:function(){return"undefined"!=typeof sf&&a.Cn(sf.env)&&a.Cn(sf.env.getFirmwareVer)&&sf.env.getFirmwareVer().version},X:function(){if("undefined"==typeof sf||!a.Cn(sf.env)||!a.Cn(sf.env.getScreenSize))return f;var e=sf.env.getScreenSize();return e.width+"x"+e.height},nn:function(){if("undefined"!=typeof sf&&a.Cn(sf.env)&&a.Cn(sf.env.getLanguageCode))return sf.env.getLanguageCode()},in:function(){if("object"!=typeof sf||"object"!=typeof sf.core||"function"!=typeof sf.core.sefplugin)return d.UNKNOWN;var e=sf.core.sefplugin("NETWORK");if("function"!=typeof e.Open||"function"!=typeof e.Execute)return d.UNKNOWN;e.Open("Network","1.001","Network");var t=e.Execute("GetActiveType");return 0===t?d.ETHERNET:1===t?d.WIFI:d.UNKNOWN}});e.exports=v},function(e,t,n){var r,i,a,o,s=n(0);e.exports=function(e){a="undefined"!=typeof FileSystem?new FileSystem:null,o="undefined"!=typeof curWidget?curWidget.id:null,"undefined"!=typeof sf?r=i=function(e,t){sf.core.localData(e,t)}:(r=function(e,t){$.sf.setData(e,void 0===t?null:t)},i=function(e){return $.sf.getData(e)}),null==a||void 0===a.isValidCommonPath||a.isValidCommonPath(o)||a.createCommonDir(o),s.extend(this,{storeProperties:function(e){try{r("cs_settings",e)}catch(e){}},getProperties:function(){try{return i("cs_settings")}catch(e){}},storeCache:function(e){try{!function(e,t,n){var r=o+"/cs_cache_dir";a.isValidCommonPath(r)||a.createCommonDir(r);var i=a.openCommonFile(r+"/cs_cache_dir_single","w");i.writeLine(n),a.closeCommonFile(i)}(0,0,e)}catch(e){}},getCache:function(){try{return function(){var e=o+"/cs_cache_dir";if(!a.isValidCommonPath(e))return null;var t=a.openCommonFile(e+"/cs_cache_dir_single","r");if(t){var n=t.As();return a.closeCommonFile(t),n}return null}()}catch(e){}}})}},function(e,t,n){var r,i,a=n(0);"undefined"!=typeof sf?i=r=function(e,t){sf.core.localData(e,t)}:(i=function(e,t){$.sf.setData(e,void 0===t?null:t)},r=function(e){return $.sf.getData(e)}),e.exports=function(){a.extend(this,{get:function(e){return r("cs_"+e)},set:function(e,t){i("cs_"+e,t)},has:function(e){return void 0!==r("cs_"+e)},remove:function(e){i("cs_"+e,null)},clear:function(){}})}},function(e,t,n){var o,i,a=n(21),r=n(0),s=null,c=null,u={},l=!1;function d(){s="undefined"!=typeof FileSystem?new FileSystem:null,c="undefined"!=typeof curWidget?curWidget.id:null,"undefined"!=typeof sf&&(i=o=function(e,t){sf.core.localData(e,t)}),null==s||void 0===s.isValidCommonPath||s.isValidCommonPath(c)||s.createCommonDir(c),l=!0}function p(e){return e.replace(/^\s+|\s+$/g,"")}function f(e,t){var n=u[e];n?n.push(t):n=u[e]=[t],i("cs_dir_"+e,n.join("|"))}function h(e,t){var n=u[e],r=a.indexOf(t,n);0<=r&&(n.splice(r,1),i("cs_dir_"+e,0===n.length?null:n.join("|")))}e.exports=function(){r.extend(this,{dir:function(e){if(l||d(),s.isValidCommonPath(c+"/"+e)){var t=u[e];if(!t){if(!(t=o("cs_dir_"+e)))return null;t=u[e]=t.split("|")}for(var n=t.slice(),r=0,i=n.length;r<i;r++){var a=t[r];s.isValidCommonPath(c+"/"+e+"/"+a)||h(e,a)}return n}return null},append:function(e,t,n){l||d();var r=c+"/"+e;s.isValidCommonPath(r)||s.createCommonDir(r),s.isValidCommonPath(r+"/"+t)||f(e,t);var i=s.openCommonFile(r+"/"+t,"a");i.writeLine(p(n)),s.closeCommonFile(i)},write:function(e,t,n){l||d();var r=c+"/"+e;s.isValidCommonPath(r)||s.createCommonDir(r),s.isValidCommonPath(r+"/"+t)||f(e,t);var i=s.openCommonFile(r+"/"+t,"w");i.writeLine(p(n)),s.closeCommonFile(i)},deleteFile:function(e,t){l||d();var n=c+"/"+e;return!!s.isValidCommonPath(n)&&(h(e,t),s.deleteCommonFile(n+"/"+t))},read:function(e,t){l||d();var n=c+"/"+e;if(!s.isValidCommonPath(n))return null;var r=s.openCommonFile(n+"/"+t,"r");if(r){for(var i,a=[];i=r.readLine();)a.push(i);return s.closeCommonFile(r),a.join("\n")}return h(e,t),""}})}},function(e,t,n){var r=n(0),i=n(5),a=n(4),o=n(3),s=n(13),c=n(6).Un,u=n(8),l=n(10),d=n(9),p=o.Sn,f=o.wn,h=null,_=null,g=null;function m(){if(null==h){var e=function(){if("undefined"!=typeof ns_&&a.Cn(ns_.netcastDevice)){if(a.Cn(ns_.netcastDevice.net_macAddress)&&a.An(ns_.netcastDevice.net_macAddress))return ns_.netcastDevice.net_macAddress;if(a.Cn(ns_.netcastDevice.serialNumber)&&a.An(ns_.netcastDevice.serialNumber))return ns_.netcastDevice.serialNumber}return null}();g=null!=e?(_="31",h=e):(h=+new Date+~~(1e3*Math.random()),_="72",null)}}var v=r.extend({},i,{D:"netcast",T:function(){return"undefined"!=typeof Image?s.apply(this,arguments):c.apply(this,arguments)},N:null,Storage:u,R:l,O:!1,M:6e4,W:function(){return m(),g},V:function(){return m(),h},G:function(){return _},j:function(){return"undefined"!=typeof ns_&&a.Cn(ns_.netcastDevice)&&a.Cn(ns_.netcastDevice.modelName)&&ns_.netcastDevice.modelName||p},H:function(){return"undefined"!=typeof ns_&&a.Cn(ns_.netcastDevice)&&a.Dn(ns_.netcastDevice.version,p)||p},J:function(){return"undefined"!=typeof ns_&&a.Cn(ns_.netcastDevice)?"lg-ott"+a.Dn(ns_.netcastDevice.platform,p):p},Y:function(){if("undefined"!=typeof ns_&&a.Cn(ns_.netcastDevice)){if(a.Cn(ns_.netcastDevice.version))return ns_.netcastDevice.version;if(a.Cn(ns_.netcastDevice.hwVersion))return ns_.netcastDevice.hwVersion;if(a.Cn(ns_.netcastDevice.swVersion))return ns_.netcastDevice.swVersion}return p},X:function(){if("undefined"!=typeof ns_&&a.Cn(ns_.netcastDevice)&&a.Cn(ns_.netcastDevice.osdResolution))switch(ns_.netcastDevice.osdResolution){case 0:return"640x480";case 1:return"720x576";case 2:return"1280x720";case 3:return"1920x1080";case 4:return"1366x768"}return f},nn:function(){return"undefined"!=typeof ns_&&a.Cn(ns_.netcastDevice)&&a.Dn(ns_.netcastDevice.tvLanguage2,a.Dn(window.navigator.language))||p},in:function(){if(void 0!==ns_.netcastDevice){if(0===ns_.netcastDevice.networkType)return d.ETHERNET;if(1===ns_.netcastDevice.networkType)return d.WIFI}return p}});e.exports=v},function(e,t,n){var s,c,u,r=n(0),i=n(5),a=n(3),o=n(13),l=n(6).xn,d=n(8),p=n(12),f=n(10),h=n(9),_=a.Sn,g=a.wn,m=r.extend({},i,{D:"webos",T:o,N:l,Storage:d,R:f,k:p,O:!0,M:6e4,U:function(e,t){function n(){0==--o&&e()}var r,i,a,o=3;a=n,webOS.service.request("luna://com.webos.service.tv.systemproperty",{method:"getSystemInfo",parameters:{keys:["modelName","firmwareVersion","UHD","sdkVersion"]},onSuccess:function(e){e.returnValue&&(s=e),a()},onFailure:function(){a()}}),i=n,webOS.service.request("luna://com.webos.settingsservice",{method:"getSystemSettings",parameters:{category:"option"},onSuccess:function(e){e.returnValue&&(c=e),i()},onFailure:function(){i()}}),r=n,webOS.service.request("luna://com.webos.service.connectionmanager",{method:"getStatus",onSuccess:function(e){e.returnValue&&(u=e),r()},onFailure:function(){r()}})},W:function(){return"undefined"!=typeof webOS&&webOS.device&&webOS.device.serialNumber&&"Unknown"!=webOS.device.serialNumber?webOS.device.serialNumber:null},V:function(){return+new Date+~~(1e3*Math.random())},G:function(){return"72"},j:function(){return s&&s.modelName?s.modelName:_},H:function(){return s&&s.sdkVersion?s.sdkVersion:_},J:function(){return"webOS"},Y:function(){return"undefined"!=typeof webOS&&webOS.device?webOS.device.platformVersion:_},X:function(){var e=0;"undefined"!=typeof webOS&&webOS.device?e=webOS.device.screenWidth:"undefined"!=typeof window&&window.screen&&(e=window.screen.availWidth);var t=0;return"undefined"!=typeof webOS&&void 0!==webOS.device?t=webOS.device.screenHeight:"undefined"!=typeof window&&window.screen&&(t=window.screen.availHeight),0<e&&0<t?e+"x"+t:g},nn:function(){return c&&c.locales&&(c.locales.UI||c.locales.TV)||_},in:function(){if(u&&(u.wired||u.wifi)){if("connected"===u.wired.state&&"yes"===u.wired.onInternet)return h.ETHERNET;if("connected"===u.wifi.state&&"yes"===u.wifi.onInternet)return h.WIFI}return h.UNKNOWN}});e.exports=m},function(e,t,n){var r=n(0),i=n(5),a=n(4),o=n(3),s=n(13),c=n(6).Un,u=n(6).xn,l=n(8),d=n(12),p=n(10),f=o.Sn,h=o.wn,_=null,g=null,m=null;function v(){if(null==_){var e="undefined"!=typeof device&&a.Cn(device.uuid)&&0<device.uuid.length?device.uuid:null;m=null!=e?(g="31",_=e):(_=+new Date+~~(1e3*Math.random()),g="72",null)}}var C=r.extend({},i,{D:"cordova",T:function(){return"undefined"!=typeof Image?s.apply(this,arguments):c.apply(this,arguments)},N:u,Storage:l,O:!0,R:p,k:d,M:6e4,W:function(){return v(),m},V:function(){return v(),_},G:function(){return g},j:function(){return"undefined"!=typeof device&&a.Cn(device.model)||f},H:function(){return"undefined"!=typeof device&&a.Cn(device.cordova)&&device.cordova||f},J:function(){return"undefined"!=typeof device&&a.Cn(device.platform)&&"cordova"+device.platform||"cordova"},Y:function(){return"undefined"!=typeof device&&a.Cn(device.version)||f},X:function(){var e="undefined"!=typeof window&&a.Cn(window.screen)&&a.Cn(window.screen.availWidth)&&window.screen.availWidth||0,t="undefined"!=typeof window&&a.Cn(window.screen)&&a.Cn(window.screen.availHeight)&&window.screen.availHeight||0;return 0<e&&0<t?e+"x"+t:h},nn:function(){return"undefined"!=typeof window&&a.Cn(window.navigator)&&a.Cn(window.navigator.language)&&window.navigator.language||f}});e.exports=C},function(e,t,n){var r=n(0),i=n(5),a=n(4),o=n(3),s=n(68),c=n(8),u=n(10),l=o.Sn,d=o.wn,p=null,f=null,h=null;function _(){if(null==p){var e=a.An(engine.stats.device.id)?engine.stats.device.id:a.An(engine.stats.network.mac)?engine.stats.network.mac:null;h=null!=e?(f="31",p=e):(p=+new Date+~~(1e3*Math.random()),f="72",null)}}var g=r.extend({},i,{D:"trilithium",T:s,N:null,Storage:c,R:u,O:!1,M:6e4,W:function(){return _(),h},F:function(){return a.An(engine.stats.application.name)?engine.stats.application.name:l},B:function(){return a.An(engine.stats.application.version)?engine.stats.application.version:l},V:function(){return _(),p},G:function(){return f},j:function(){return a.Dn(engine.stats.device.platform,l)},J:function(){return"trilithium"},Y:function(){return a.Dn(engine.stats.device.version,l)},X:function(){return"undefined"!=typeof screen&&void 0!==screen.height&&void 0!==screen.width?screen.height+"x"+screen.width:d}});e.exports=g},function(e,t){e.exports=function(e,t){"undefined"!=typeof engine?(engine.createHttpClient().createRequest("GET",e,null).start(),t&&setTimeout(t,0)):"function"==typeof setTimeout?t&&setTimeout(t,0):t&&t()}},function(e,t,n){var r=n(4),i=n(3),a=n(34).ir,o=n(34).rr,s=n(70),c=n(71),u=i.Sn,l=i.wn,d=null,p=null,f=null;function h(){null==d&&(p="undefined"!=typeof atv&&void 0!==atv.device&&atv.device.idForVendor?(d=r.Dn(atv.device.idForVendor,""),"62"):(d=+new Date+~~(1e3*Math.random()),"72"),f=null)}var _={D:"atv",T:a,N:o,Storage:s,R:c,O:!1,M:6e4,W:function(){return h(),f},F:function(){return u},B:function(){return u},V:function(){return h(),d},G:function(){return p},j:function(){return"Apple TV"},H:function(){return"undefined"!=typeof atv&&void 0!==atv.device&&r.Dn(atv.device.softwareVersion,u)},K:function(){return"js"},J:function(){return"atv"},Y:function(){return"undefined"!=typeof atv&&void 0!==atv.device&&r.Dn(atv.device.softwareVersion,u)},X:function(){return void 0!==atv.device&&void 0!==atv.device.screenFrame&&void 0!==atv.device.screenFrame.height&&void 0!==atv.device.screenFrame.width?atv.device.screenFrame.height+"x"+atv.device.screenFrame.width:l},nn:function(){return"undefined"!=typeof atv&&void 0!==atv.device&&r.Dn(atv.device.language,"")},setTimeout:function(e,t){return"undefined"!=typeof atv&&void 0!==atv.setTimeout&&atv.setTimeout(e,t)},setInterval:function(e,t){return"undefined"!=typeof atv&&void 0!==atv.setInterval&&atv.setInterval(e,t)},clearTimeout:function(e){return"undefined"!=typeof atv&&void 0!==atv.clearTimeout&&atv.clearTimeout(e)},clearInterval:function(e){return"undefined"!=typeof atv&&void 0!==atv.clearInterval&&atv.clearInterval(e)}};e.exports=_},function(e,t,n){var r=n(0);e.exports=function(e){var t="undefined"!=typeof atv&&void 0!==atv.localStorage&&atv.localStorage||null;r.extend(this,{storeProperties:function(e){if(t)try{"function"==typeof t.setItem?t.setItem("cs_settings",e):t&&(t.Bn=e)}catch(e){}},getProperties:function(){if(!t)return null;try{if("function"==typeof t.getItem)return t.getItem("cs_settings");if(t)return t.Bn}catch(e){}},storeCache:function(e){if(t)try{"function"==typeof t.setItem?t.setItem("cs_cache",e):t&&(t.Vn=e)}catch(e){}},getCache:function(){if(!t)return null;try{if("function"==typeof t.getItem)return t.getItem("cs_cache");if(t)return t.Vn}catch(e){}}})}},function(e,t,n){var r=n(0);e.exports=function(){var n="undefined"!=typeof atv&&void 0!==atv.localStorage&&atv.localStorage||null;r.extend(this,{get:function(e){return n&&e&&n.getItem("cs_"+e)||null},set:function(e,t){n&&e&&(n["cs_"+e]=t)},remove:function(e){n&&e&&n.removeItem("cs_"+e)},clear:function(){}})}},function(e,t,n){var r=n(0),i=n(5),a=n(3),o=n(35).or,s=n(35).ur,c=n(8),u=n(12),l=n(10),d=n(9),p=a.Sn,f=a.wn,h=null,_=null,g=null,m=!1,v=!1,C=!1;function y(){var e=null;if("undefined"!=typeof Windows&&Windows&&Windows.Xbox&&Windows.Xbox.ApplicationModel&&Windows.Xbox.ApplicationModel.Core&&Windows.Xbox.ApplicationModel.Core.CoreApplicationContext&&Windows.Xbox.ApplicationModel.Core.CoreApplicationContext.currentUser){var t=Windows.Xbox.ApplicationModel.Core.CoreApplicationContext.currentUser;null!=t&&!t.Ds&&t.Cs&&(e=Windows.Xbox.ApplicationModel.Core.CoreApplicationContext.currentUser.xboxUserId)}g=e}var A=r.extend({},i,{D:"xbox",T:o,N:s,Storage:c,R:l,k:u,O:!0,M:6e4,W:function(){return C||("undefined"!=typeof Windows&&Windows&&Windows.Xbox&&Windows.Xbox.ApplicationModel&&Windows.Xbox.ApplicationModel.Core&&Windows.Xbox.ApplicationModel.Core.CoreApplicationContext&&Windows.Xbox.ApplicationModel.Core.CoreApplicationContext.addEventListener("currentuserchanged",function(){v=!0}),y(),C=!0),v&&y(),g},F:function(){var e=p;return"undefined"!=typeof Windows&&Windows&&Windows.ApplicationModel&&Windows.ApplicationModel.Package&&Windows.ApplicationModel.Package.current&&Windows.ApplicationModel.Package.current.id&&Windows.ApplicationModel.Package.current.id.name&&(e=Windows.ApplicationModel.Package.current.id.name),e},B:function(){var e=p;if("undefined"!=typeof Windows&&Windows&&Windows.ApplicationModel&&Windows.ApplicationModel.Package&&Windows.ApplicationModel.Package.current&&Windows.ApplicationModel.Package.current.id&&Windows.ApplicationModel.Package.current.id.version){var t=Windows.ApplicationModel.Package.current.id.version;e=t.major+"."+t.minor+"."+t.build+"."+t.revision}return e},V:function(){return m||function(){_=(h="undefined"!=typeof Windows&&Windows&&Windows.Xbox&&Windows.Xbox.System&&Windows.Xbox.System.Console&&Windows.Xbox.System.Console.applicationSpecificDeviceId?Windows.Xbox.System.Console.applicationSpecificDeviceId:this.j()+ +new Date+~~(1e3*Math.random()),"72"),m=!0}(),h},G:function(){return _},j:function(){return"xbox one"},H:function(){var t=p;return"undefined"!=typeof navigator&&navigator&&navigator.userAgent&&navigator.userAgent.split(";").filter(function(e){return-1!=e.indexOf("Windows NT")}).forEach(function(e){t=e.substr(e.indexOf("Windows NT")+11,e.length-1)}),t},K:function(){return"xbox"},J:function(){return"winjs"},Y:function(){var t=p;return"undefined"!=typeof Windows&&Windows&&Windows.ApplicationModel&&Windows.ApplicationModel.Package&&Windows.ApplicationModel.Package.current&&Windows.ApplicationModel.Package.current.dependencies&&Windows.ApplicationModel.Package.current.dependencies.filter(function(e){return e&&e.id&&e.id.name&&-1!=e.id.name.indexOf("WinJS")&&e.id.version}).forEach(function(e){t=e.id.version.major+"."+e.id.version.minor+"."+e.id.version.build+"."+e.id.version.revision}),t},X:function(){var e=f;if("undefined"!=typeof Windows&&Windows&&Windows.Xbox&&Windows.Xbox.Graphics&&Windows.Xbox.Graphics.Display&&Windows.Xbox.Graphics.Display.DisplayConfiguration&&Windows.Xbox.Graphics.Display.DisplayConfiguration.getForCurrentView&&Windows.Xbox.Graphics.Display.DisplayConfiguration.getForCurrentView()&&Windows.Xbox.Graphics.Display.DisplayConfiguration.getForCurrentView().currentDisplayMode&&Windows.Xbox.Graphics.Display.DisplayConfiguration.getForCurrentView().currentDisplayMode.rawWidth&&Windows.Xbox.Graphics.Display.DisplayConfiguration.getForCurrentView().currentDisplayMode.rawHeight){var t=Windows.Xbox.Graphics.Display.DisplayConfiguration.getForCurrentView().currentDisplayMode;e=t.rawWidth+"x"+t.rawHeight}return e},Z:function(){var e=f;return"undefined"!=typeof window&&window.innerWidth&&window.innerHeight&&(e=window.innerWidth+"x"+window.innerHeight),e},nn:function(){var e=p;return"undefined"!=typeof Windows&&Windows&&Windows.System&&Windows.System.UserProfile&&Windows.System.UserProfile.GlobalizationPreferences&&Windows.System.UserProfile.GlobalizationPreferences.languages&&(e=Windows.System.UserProfile.GlobalizationPreferences.languages.getAt(0)),e},tn:function(){var e=p;return"undefined"!=typeof Windows&&Windows&&Windows.ApplicationModel&&Windows.ApplicationModel.Package&&Windows.ApplicationModel.Package.current&&Windows.ApplicationModel.Package.current.id&&Windows.ApplicationModel.Package.current.id.name&&(e=Windows.ApplicationModel.Package.current.id.name),e},setPlatformAPI:function(){},en:function(){var e="unknown";if("undefined"!=typeof Windows&&Windows&&Windows.ApplicationModel&&Windows.ApplicationModel.Package&&Windows.ApplicationModel.Package.current&&Windows.ApplicationModel.Package.current.id&&Windows.ApplicationModel.Package.current.id.architecture)switch(Windows.ApplicationModel.Package.current.id.architecture){case 5:e="arm";break;case 11:e="neutral";break;case 9:e="x64";break;case 0:e="x86"}return e},in:function(){var e=d.UNKNOWN;if("undefined"!=typeof Windows&&Windows&&Windows.Networking&&Windows.Networking.Connectivity&&Windows.Networking.Connectivity.NetworkInformation&&Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile&&Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile()&&Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile().networkAdapter&&Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile().networkAdapter.ianaInterfaceType)switch(Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile().networkAdapter.ianaInterfaceType){case 6:e=d.ETHERNET;break;case 71:e=d.WIFI}return e}});e.exports=A},function(e,t,n){var r=n(0),i=n(5),a=n(4),o=n(18),s=n(3),c=n(13),u=n(6).xn,l=n(8),d=n(12),p=n(10),f=n(36),h=s.Sn,_=s.wn,g=r.extend({},i,{D:"chromecast",T:c,N:u,Storage:l,R:p,k:d,O:!0,M:6e4,F:function(){return void 0===ns_.crm?h:ns_.crm.getApplicationData().name},V:function(){return+new Date+~~(1e3*Math.random())},G:function(){return"72"},j:function(){return"chromecast"},H:function(){return cast.receiver.VERSION+"-"+a.Dn(o.Ne()+" "+o.Oe(),h)},J:function(){return"html"},Y:function(){return"5"},X:function(){var e="undefined"!=typeof window&&a.Cn(window.screen)&&a.Cn(window.screen.availWidth)?window.screen.availWidth:0,t="undefined"!=typeof window&&a.Cn(window.screen)&&a.Cn(window.screen.availHeight)?window.screen.availHeight:0;return 0<e&&0<t?e+"x"+t:_},nn:function(){return"undefined"!=typeof window&&a.Cn(window.navigator)&&a.Dn(window.navigator.language,"")||h},vn:function(e){f.sr(e)},_n:function(e){f.ar(e)}});e.exports=g},function(e,t,n){var r=n(0),i=n(5),a=n(4),o=n(3),s=n(6).Un,c=n(6).xn,u=n(8),l=n(12),d=n(10),p=o.wn,f=null,h=null,_=null;function g(){null==f&&(h=a.Pn(Device.vendorIdentifier)?(f=+new Date+~~(1e3*Math.random()),"72"):(f=Device.vendorIdentifier,"62"),_=f)}var m=r.extend({},i,{D:"tvos",T:s,N:c,Storage:u,O:!0,R:d,k:l,M:6e4,W:function(){return g(),_},F:function(){return Device.appIdentifier},B:function(){return Device.appVersion},V:function(){return g(),f},G:function(){return h},j:function(){return Device.productType},H:function(){return Device.systemVersion},J:function(){return"tvos"},Y:function(){return Device.systemVersion},X:function(){return p},nn:function(){return Settings.language},tn:function(){return Device.appIdentifier}});e.exports=m},function(e,t,n){var r=n(0),i=n(5),a=n(4),o=n(3),s=n(6).Un,c=n(6).xn,u=n(8),l=n(10),d=n(12),p=n(9),f=o.Sn,h=o.wn,_=null,g=null,m=null;function v(){if(null==_)if("undefined"!=typeof jsmaf&&a.Cn(jsmaf.hardwareId)){var e=jsmaf.hardwareId;g="31",m=_=e}else _=+new Date+~~(1e3*Math.random()),g="72",m=null}var C=r.extend({},i,{D:"jsmaf",T:s,N:c,Storage:u,O:!0,R:l,k:d,M:6e4,W:function(){return v(),m},V:function(){return v(),_},G:function(){return v(),g},j:function(){return"undefined"!=typeof jsmaf&&a.Cn(jsmaf.platform)?jsmaf.platform:f},J:function(){return"jsmaf"},Y:function(){return"undefined"!=typeof jsmaf&&a.Cn(jsmaf.version)?jsmaf.version:f},X:function(){return"undefined"!=typeof jsmaf&&a.Cn(jsmaf.screenWidth)&&a.Cn(jsmaf.screenHeight)?jsmaf.screenWidth+"x"+jsmaf.screenHeight:h},nn:function(){return"undefined"!=typeof jsmaf&&a.Cn(jsmaf.locale)?jsmaf.locale:f},setTimeout:function(e,t){return jsmaf.setTimeout(e,t)},setInterval:function(e,t){return jsmaf.setInterval(e,t)},clearTimeout:function(e){return jsmaf.clearTimeout(e)},clearInterval:function(e){return jsmaf.clearInterval(e)},en:function(){if("undefined"==typeof jsmaf||!a.Cn(jsmaf.platform))var e=f;return"ps3"==jsmaf.platform?e="cell":"ps4"==jsmaf.platform?e="ps4":"vita"==jsmaf.platform&&(e="vita"),e},in:function(){return"undefined"!=typeof jsmaf&&"connected"==jsmaf.networkStatus&&a.Cn(jsmaf.connectionType)?"wired"==jsmaf.connectionType?p.ETHERNET:"wireless"==jsmaf.connectionType?p.WIFI:"phone"==jsmaf.connectionType?p.WWAN:p.UNKNOWN:p.UNKNOWN}});e.exports=C},function(e,t,u){var n=u(0),r=u(5),i=u(4),a=u(3).Sn,o=null,s=null,c=null;function l(){null==o&&(o=+new Date+~~(1e3*Math.random()),s="72",c=null)}function d(a,o){var s=this,c=0;s.send=function(e){var t,n,r=e.match(/^https/)?u(77):u(78),i=(t=o,n=u(22),{headers:{"User-Agent":(t.F()||"unknown")+"/"+(t.B()||"unknown")+" ("+(n.platform()||"unknown")+"; "+(n.arch()||"unknown")+"; "+(n.type()||"unknown")+"/"+(n.release||"unknown")+") node.js/"+process.version}});r.get(e,i,function(e){var t=e.statusCode;if((302==t||301==t)&&c<20&&e.headers&&e.headers.location)return c++,void s.send(e.headers.location);a(t)}).on("error",function(){a()})}}var p=n.extend({},r,{D:"nodejs",T:function(e,t,n){new d(t,n).send(e)},N:null,Storage:null,O:!1,W:function(){return l(),c},V:function(){return l(),o},G:function(){return s},H:function(){var e=u(22);return[e.type(),e.platform(),e.release()].join(";")},en:function(){return u(22).arch()||a},J:function(){return"nodejs"},Y:function(){return"undefined"==typeof process||i.Pn(process.version)?a:process.version}});e.exports=p},function(e,t){e.exports=require("https")},function(e,t){e.exports=require("http")},function(e,t,n){var r=n(0),i=n(37),a=r.extend({},i,{D:"webbrowser",C:function(){return n(17).ge().$t()?"http://b.scorecardresearch.com/p":"http://b.scorecardresearch.com/p2"},L:function(){return n(17).ge().$t()?"https://sb.scorecardresearch.com/p":"https://sb.scorecardresearch.com/p2"},Storage:null,R:null,k:null,O:!1,J:function(){return"webbrowser"},un:function(e){if("undefined"!=typeof document){var t=document;e.c7=t.URL,e.c8=t.title,e.c9=t.referrer,e.ns_c=t.characterSet||t.defaultCharset||""}},pn:!0});e.exports=a},function(e,t,n){var a=n(0),o=n(2).mn;e.exports=function(e,t,n,r){function i(e){200==e||r.isHttpRedirectCachingEnabled()&&(302==e||301==e)?n.onSuccess():n.onFailure()}a.extend(this,{$i:function(){o.N?o.N(e,t,i):i()}})}},function(e,t,n){var r=n(0);e.exports=function(){r.extend(this,{storeProperties:function(){},getProperties:function(){return null},storeCache:function(){},getCache:function(){return null}})}},function(e,t,n){var r=n(0),i=n(39),a=n(42),o=n(25),s=n(24),c=n(27);e.exports=function(e){r.extend(this,{setLiveTransmissionMode:e.setLiveTransmissionMode,setOfflineCacheMode:e.setOfflineCacheMode,enableImplementationValidationMode:e.enableImplementationValidationMode,getPartnerConfigurations:e.getPartnerConfigurations,getPublisherConfigurations:e.getPublisherConfigurations,setLabelOrder:e.setLabelOrder,getLabelOrder:e.getLabelOrder,setApplicationName:e.setApplicationName,setApplicationVersion:e.setApplicationVersion,addStartLabels:e.addStartLabels,setStartLabel:e.setStartLabel,removeStartLabel:e.removeStartLabel,removeAllStartLabels:e.removeAllStartLabels,isEnabled:e.isEnabled,addPersistentLabels:e.addPersistentLabels,setPersistentLabel:e.setPersistentLabel,removePersistentLabel:e.removePersistentLabel,removeAllPersistentLabels:e.removeAllPersistentLabels,getPartnerConfiguration:e.getPartnerConfiguration,getPublisherConfiguration:e.getPublisherConfiguration,disable:e.disable,disableTcfIntegration:e.disableTcfIntegration,addListener:e.addListener,removeListener:e.removeListener,addClient:e.addClient,setDebugEnabled:e.setDebugEnabled,setSystemClockJumpDetectionEnabled:e.setSystemClockJumpDetectionEnabled,setSystemClockJumpDetectionInterval:e.setSystemClockJumpDetectionInterval,setSystemClockJumpDetectionAlternativeContextInterval:e.setSystemClockJumpDetectionAlternativeContextInterval,setSystemClockJumpDetectionPrecision:e.setSystemClockJumpDetectionPrecision,setLiveEndpointUrl:e.setLiveEndpointUrl,setOfflineFlushEndpointUrl:e.setOfflineFlushEndpointUrl,setCacheMaxMeasurements:e.setCacheMaxMeasurements,setCacheMaxFlushesInARow:e.setCacheMaxFlushesInARow,setCacheMinutesToRetry:e.setCacheMinutesToRetry,setCacheMeasurementExpiry:e.setCacheMeasurementExpiry,setUsagePropertiesAutoUpdateMode:e.setUsagePropertiesAutoUpdateMode,setUsagePropertiesAutoUpdateInterval:e.setUsagePropertiesAutoUpdateInterval,setStorageWriteInterval:e.setStorageWriteInterval,addIncludedPublisher:e.addIncludedPublisher,addCrossPublisherUniqueDeviceIdChangeListener:e.addCrossPublisherUniqueDeviceIdChangeListener,removeCrossPublisherUniqueDeviceIdChangeListener:e.removeCrossPublisherUniqueDeviceIdChangeListener,enableChildDirectedApplicationMode:e.enableChildDirectedApplicationMode,PartnerConfiguration:i,PublisherConfiguration:a,LiveTransmissionMode:o,CacheMode:s,UsagePropertiesAutoUpdateMode:c})}},function(e,t,n){var U=n(3),r={};r.encrypt=function(){function o(e,t){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(e.charAt(t));if(-1===n)throw new Error;return n}function C(e,t,n){null!=e&&("number"==typeof e?this.Ls(e,t,n):null==t&&"string"!=typeof e?this.Ts(e,256):this.Ts(e,t))}function y(){return new C(null)}C.prototype.Ns=function(e,t,n,r,i,a){for(var o=16383&t,s=t>>14;0<=--a;){var c=16383&this[e],u=this[e++]>>14,l=s*c+u*o;i=((c=o*c+((16383&l)<<14)+n[r]+i)>>28)+(l>>14)+s*u,n[r++]=268435455&c}return i},C.prototype.Os=28,C.prototype.Rs=268435455,C.prototype.ks=1<<28,C.prototype.Ms=Math.pow(2,52),C.prototype.Us=24,C.prototype.xs=4;var e,t,r=[];for(e="0".charCodeAt(0),t=0;t<=9;++t)r[e++]=t;for(e="a".charCodeAt(0),t=10;t<36;++t)r[e++]=t;for(e="A".charCodeAt(0),t=10;t<36;++t)r[e++]=t;function c(e){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(e)}function u(e,t){var n=r[e.charCodeAt(t)];return null==n?-1:n}function g(e){var t=y();return t.Ws(e),t}function A(e){var t,n=1;return 0!=(t=e>>>16)&&(e=t,n+=16),0!=(t=e>>8)&&(e=t,n+=8),0!=(t=e>>4)&&(e=t,n+=4),0!=(t=e>>2)&&(e=t,n+=2),0!=(t=e>>1)&&(e=t,n+=1),n}function m(e){this.o=e}function v(e){this.o=e,this.Fs=e.Bs(),this.Vs=32767&this.Fs,this.qs=this.Fs>>15,this.Gs=(1<<e.Os-15)-1,this.js=2*e._}function n(e,t){return e&t}function a(e,t){return e|t}function i(e,t){return e^t}function s(e,t){return e&~t}function l(e){if(0==e)return-1;var t=0;return 0==(65535&e)&&(e>>=16,t+=16),0==(255&e)&&(e>>=8,t+=8),0==(15&e)&&(e>>=4,t+=4),0==(3&e)&&(e>>=2,t+=2),0==(1&e)&&++t,t}function d(e){for(var t=0;0!=e;)e&=e-1,++t;return t}function p(){}function f(e){return e}function b(e){this.r2=y(),this.Hs=y(),C.ONE.Ks(2*e._,this.r2),this.Js=this.r2.Ys(e),this.o=e}m.prototype.Xs=function(e){return e.s<0||0<=e.zs(this.o)?e.Qs(this.o):e},m.prototype.$s=function(e){return e},m.prototype.reduce=function(e){e.Zs(this.o,null,e)},m.prototype.na=function(e,t,n){e.ta(t,n),this.reduce(n)},m.prototype.ea=function(e,t){e.ia(t),this.reduce(t)},v.prototype.Xs=function(e){var t=y();return e.abs().Ks(this.o._,t),t.Zs(this.o,null,t),e.s<0&&0<t.zs(C.ZERO)&&this.o.ra(t,t),t},v.prototype.$s=function(e){var t=y();return e.oa(t),this.reduce(t),t},v.prototype.reduce=function(e){for(;e._<=this.js;)e[e._++]=0;for(var t=0;t<this.o._;++t){var n=32767&e[t],r=n*this.Vs+((n*this.qs+(e[t]>>15)*this.Vs&this.Gs)<<15)&e.Rs;for(e[n=t+this.o._]+=this.o.Ns(0,r,e,t,0,this.o._);e[n]>=e.ks;)e[n]-=e.ks,e[++n]++}e.ua(),e.sa(this.o._,e),0<=e.zs(this.o)&&e.ra(this.o,e)},v.prototype.na=function(e,t,n){e.ta(t,n),this.reduce(n)},v.prototype.ea=function(e,t){e.ia(t),this.reduce(t)},C.prototype.oa=function(e){for(var t=this._-1;0<=t;--t)e[t]=this[t];e._=this._,e.s=this.s},C.prototype.Ws=function(e){this._=1,this.s=e<0?-1:0,0<e?this[0]=e:e<-1?this[0]=e+DV:this._=0},C.prototype.Ts=function(e,t){var n;if(16==t)n=4;else if(8==t)n=3;else if(256==t)n=8;else if(2==t)n=1;else if(32==t)n=5;else{if(4!=t)return void this.aa(e,t);n=2}this._=0,this.s=0;for(var r=e.length,i=!1,a=0;0<=--r;){var o=8==n?255&e[r]:u(e,r);o<0?"-"==e.charAt(r)&&(i=!0):(i=!1,0==a?this[this._++]=o:a+n>this.Os?(this[this._-1]|=(o&(1<<this.Os-a)-1)<<a,this[this._++]=o>>this.Os-a):this[this._-1]|=o<<a,(a+=n)>=this.Os&&(a-=this.Os))}8==n&&0!=(128&e[0])&&(this.s=-1,0<a&&(this[this._-1]|=(1<<this.Os-a)-1<<a)),this.ua(),i&&C.ZERO.ra(this,this)},C.prototype.ua=function(){for(var e=this.s&this.Rs;0<this._&&this[this._-1]==e;)--this._},C.prototype.Ks=function(e,t){var n;for(n=this._-1;0<=n;--n)t[n+e]=this[n];for(n=e-1;0<=n;--n)t[n]=0;t._=this._+e,t.s=this.s},C.prototype.sa=function(e,t){for(var n=e;n<this._;++n)t[n-e]=this[n];t._=Math.max(this._-e,0),t.s=this.s},C.prototype.fa=function(e,t){var n,r=e%this.Os,i=this.Os-r,a=(1<<i)-1,o=Math.floor(e/this.Os),s=this.s<<r&this.Rs;for(n=this._-1;0<=n;--n)t[n+o+1]=this[n]>>i|s,s=(this[n]&a)<<r;for(n=o-1;0<=n;--n)t[n]=0;t[o]=s,t._=this._+o+1,t.s=this.s,t.ua()},C.prototype.ca=function(e,t){t.s=this.s;var n=Math.floor(e/this.Os);if(n>=this._)t._=0;else{var r=e%this.Os,i=this.Os-r,a=(1<<r)-1;t[0]=this[n]>>r;for(var o=n+1;o<this._;++o)t[o-n-1]|=(this[o]&a)<<i,t[o-n]=this[o]>>r;0<r&&(t[this._-n-1]|=(this.s&a)<<i),t._=this._-n,t.ua()}},C.prototype.ra=function(e,t){for(var n=0,r=0,i=Math.min(e._,this._);n<i;)r+=this[n]-e[n],t[n++]=r&this.Rs,r>>=this.Os;if(e._<this._){for(r-=e.s;n<this._;)r+=this[n],t[n++]=r&this.Rs,r>>=this.Os;r+=this.s}else{for(r+=this.s;n<e._;)r-=e[n],t[n++]=r&this.Rs,r>>=this.Os;r-=e.s}t.s=r<0?-1:0,r<-1?t[n++]=this.ks+r:0<r&&(t[n++]=r),t._=n,t.ua()},C.prototype.ta=function(e,t){var n=this.abs(),r=e.abs(),i=n._;for(t._=i+r._;0<=--i;)t[i]=0;for(i=0;i<r._;++i)t[i+n._]=n.Ns(0,r[i],t,i,0,n._);t.s=0,t.ua(),this.s!=e.s&&C.ZERO.ra(t,t)},C.prototype.ia=function(e){for(var t=this.abs(),n=e._=2*t._;0<=--n;)e[n]=0;for(n=0;n<t._-1;++n){var r=t.Ns(n,t[n],e,2*n,0,1);(e[n+t._]+=t.Ns(n+1,2*t[n],e,2*n+1,r,t._-n-1))>=t.ks&&(e[n+t._]-=t.ks,e[n+t._+1]=1)}0<e._&&(e[e._-1]+=t.Ns(n,t[n],e,2*n,0,1)),e.s=0,e.ua()},C.prototype.Zs=function(e,t,n){var r=e.abs();if(!(r._<=0)){var i=this.abs();if(i._<r._)return null!=t&&t.Ws(0),void(null!=n&&this.oa(n));null==n&&(n=y());var a=y(),o=this.s,s=e.s,c=this.Os-A(r[r._-1]);0<c?(r.fa(c,a),i.fa(c,n)):(r.oa(a),i.oa(n));var u=a._,l=a[u-1];if(0!=l){var d=l*(1<<this.Us)+(1<u?a[u-2]>>this.xs:0),p=this.Ms/d,f=(1<<this.Us)/d,h=1<<this.xs,_=n._,g=_-u,m=null==t?y():t;for(a.Ks(g,m),0<=n.zs(m)&&(n[n._++]=1,n.ra(m,n)),C.ONE.Ks(u,m),m.ra(a,a);a._<u;)a[a._++]=0;for(;0<=--g;){var v=n[--_]==l?this.Rs:Math.floor(n[_]*p+(n[_-1]+h)*f);if((n[_]+=a.Ns(0,v,n,g,0,u))<v)for(a.Ks(g,m),n.ra(m,n);n[_]<--v;)n.ra(m,n)}null!=t&&(n.sa(u,t),o!=s&&C.ZERO.ra(t,t)),n._=u,n.ua(),0<c&&n.ca(c,n),o<0&&C.ZERO.ra(n,n)}}},C.prototype.Bs=function(){if(this._<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return 0<(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.ks)%this.ks)?this.ks-t:-t},C.prototype.la=function(){return 0==(0<this._?1&this[0]:this.s)},C.prototype.exp=function(e,t){if(4294967295<e||e<1)return C.ONE;var n=y(),r=y(),i=t.Xs(this),a=A(e)-1;for(i.oa(n);0<=--a;)if(t.ea(n,r),0<(e&1<<a))t.na(r,i,n);else{var o=n;n=r,r=o}return t.$s(n)},C.prototype.toString=function(e){if(this.s<0)return"-"+this.da().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.va(e);t=2}var n,r=(1<<t)-1,i=!1,a="",o=this._,s=this.Os-o*this.Os%t;if(0<o--)for(s<this.Os&&0<(n=this[o]>>s)&&(i=!0,a=c(n));0<=o;)s<t?(n=(this[o]&(1<<s)-1)<<t-s,n|=this[--o]>>(s+=this.Os-t)):(n=this[o]>>(s-=t)&r,s<=0&&(s+=this.Os,--o)),0<n&&(i=!0),i&&(a+=c(n));return i?a:"0"},C.prototype.da=function(){var e=y();return C.ZERO.ra(this,e),e},C.prototype.abs=function(){return this.s<0?this.da():this},C.prototype.zs=function(e){var t=this.s-e.s;if(0!=t)return t;var n=this._;if(0!=(t=n-e._))return this.s<0?-t:t;for(;0<=--n;)if(0!=(t=this[n]-e[n]))return t;return 0},C.prototype._a=function(){return this._<=0?0:this.Os*(this._-1)+A(this[this._-1]^this.s&this.Rs)},C.prototype.Qs=function(e){var t=y();return this.abs().Zs(e,null,t),this.s<0&&0<t.zs(C.ZERO)&&e.ra(t,t),t},C.prototype.pa=function(e,t){var n;return n=e<256||t.la()?new m(t):new v(t),this.exp(e,n)},C.ZERO=g(0),C.ONE=g(1),p.prototype.Xs=f,p.prototype.$s=f,p.prototype.na=function(e,t,n){e.ta(t,n)},p.prototype.ea=function(e,t){e.ia(t)},b.prototype.Xs=function(e){if(e.s<0||e._>2*this.o._)return e.Qs(this.o);if(e.zs(this.o)<0)return e;var t=y();return e.oa(t),this.reduce(t),t},b.prototype.$s=function(e){return e},b.prototype.reduce=function(e){for(e.sa(this.o._-1,this.r2),e._>this.o._+1&&(e._=this.o._+1,e.ua()),this.Js.ha(this.r2,this.o._+1,this.Hs),this.o.ga(this.Hs,this.o._+1,this.r2);e.zs(this.r2)<0;)e.ma(1,this.o._+1);for(e.ra(this.r2,e);0<=e.zs(this.o);)e.ra(this.o,e)},b.prototype.na=function(e,t,n){e.ta(t,n),this.reduce(n)},b.prototype.ea=function(e,t){e.ia(t),this.reduce(t)};var h,_,P,S=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],w=(1<<26)/S[S.length-1];function I(){this.t=0,this.ya=0,this.Sa=[]}function E(){var e;e=(new Date).getTime(),_[P++]^=255&e,_[P++]^=e>>8&255,_[P++]^=e>>16&255,_[P++]^=e>>24&255,256<=P&&(P-=256)}if(C.prototype.wa=function(e){return Math.floor(Math.LN2*this.Os/Math.log(e))},C.prototype.va=function(e){if(null==e&&(e=10),0==this.ba()||e<2||36<e)return"0";var t=this.wa(e),n=Math.pow(e,t),r=g(n),i=y(),a=y(),o="";for(this.Zs(r,i,a);0<i.ba();)o=(n+a.Ia()).toString(e).substr(1)+o,i.Zs(r,i,a);return a.Ia().toString(e)+o},C.prototype.aa=function(e,t){this.Ws(0),null==t&&(t=10);for(var n=this.wa(t),r=Math.pow(t,n),i=!1,a=0,o=0,s=0;s<e.length;++s){var c=u(e,s);c<0?"-"==e.charAt(s)&&0==this.ba()&&(i=!0):(o=t*o+c,++a>=n&&(this.Ea(r),this.ma(o,0),o=a=0))}0<a&&(this.Ea(Math.pow(t,a)),this.ma(o,0)),i&&C.ZERO.ra(this,this)},C.prototype.Ls=function(e,t,n){if("number"==typeof t)if(e<2)this.Ws(1);else for(this.Ls(e,n),this.Pa(e-1)||this.Aa(C.ONE.shiftLeft(e-1),a,this),this.la()&&this.ma(1,0);!this.Da(t);)this.ma(2,0),this._a()>e&&this.ra(C.ONE.shiftLeft(e-1),this);else{var r=[],i=7&e;r.length=1+(e>>3),t.Ca(r),0<i?r[0]&=(1<<i)-1:r[0]=0,this.Ts(r,256)}},C.prototype.Aa=function(e,t,n){var r,i,a=Math.min(e._,this._);for(r=0;r<a;++r)n[r]=t(this[r],e[r]);if(e._<this._){for(i=e.s&this.Rs,r=a;r<this._;++r)n[r]=t(this[r],i);n._=this._}else{for(i=this.s&this.Rs,r=a;r<e._;++r)n[r]=t(i,e[r]);n._=e._}n.s=t(this.s,e.s),n.ua()},C.prototype.La=function(e,t){var n=C.ONE.shiftLeft(e);return this.Aa(n,t,n),n},C.prototype.Ta=function(e,t){for(var n=0,r=0,i=Math.min(e._,this._);n<i;)r+=this[n]+e[n],t[n++]=r&this.Rs,r>>=this.Os;if(e._<this._){for(r+=e.s;n<this._;)r+=this[n],t[n++]=r&this.Rs,r>>=this.Os;r+=this.s}else{for(r+=this.s;n<e._;)r+=e[n],t[n++]=r&this.Rs,r>>=this.Os;r+=e.s}t.s=r<0?-1:0,0<r?t[n++]=r:r<-1&&(t[n++]=this.ks+r),t._=n,t.ua()},C.prototype.Ea=function(e){this[this._]=this.Ns(0,e-1,this,0,0,this._),++this._,this.ua()},C.prototype.ma=function(e,t){if(0!=e){for(;this._<=t;)this[this._++]=0;for(this[t]+=e;this[t]>=this.ks;)this[t]-=this.ks,++t>=this._&&(this[this._++]=0),++this[t]}},C.prototype.ga=function(e,t,n){var r,i=Math.min(this._+e._,t);for(n.s=0,n._=i;0<i;)n[--i]=0;for(r=n._-this._;i<r;++i)n[i+this._]=this.Ns(0,e[i],n,i,0,this._);for(r=Math.min(e._,t);i<r;++i)this.Ns(0,e[i],n,i,0,t-i);n.ua()},C.prototype.ha=function(e,t,n){--t;var r=n._=this._+e._-t;for(n.s=0;0<=--r;)n[r]=0;for(r=Math.max(t-this._,0);r<e._;++r)n[this._+r-t]=this.Ns(t-r,e[r],n,0,0,this._+r-t);n.ua(),n.sa(1,n)},C.prototype.Na=function(e){if(e<=0)return 0;var t=this.ks%e,n=this.s<0?e-1:0;if(0<this._)if(0==t)n=this[0]%e;else for(var r=this._-1;0<=r;--r)n=(t*n+this[r])%e;return n},C.prototype.Oa=function(e){var t=this.Ra(C.ONE),n=t.ka();if(n<=0)return!1;var r=t.Ma(n);(e=e+1>>1)>S.length&&(e=S.length);for(var i=y(),a=0;a<e;++a){i.Ws(S[Math.floor(Math.random()*S.length)]);var o=i.Ua(r,this);if(0!=o.zs(C.ONE)&&0!=o.zs(t)){for(var s=1;s++<n&&0!=o.zs(t);)if(0==(o=o.pa(2,this)).zs(C.ONE))return!1;if(0!=o.zs(t))return!1}}return!0},C.prototype.clone=function(){var e=y();return this.oa(e),e},C.prototype.Ia=function(){if(this.s<0){if(1==this._)return this[0]-this.ks;if(0==this._)return-1}else{if(1==this._)return this[0];if(0==this._)return 0}return(this[1]&(1<<32-this.Os)-1)<<this.Os|this[0]},C.prototype.xa=function(){return 0==this._?this.s:this[0]<<24>>24},C.prototype.Wa=function(){return 0==this._?this.s:this[0]<<16>>16},C.prototype.ba=function(){return this.s<0?-1:this._<=0||1==this._&&this[0]<=0?0:1},C.prototype.Fa=function(){var e=this._,t=[];t[0]=this.s;var n,r=this.Os-e*this.Os%8,i=0;if(0<e--)for(r<this.Os&&(n=this[e]>>r)!=(this.s&this.Rs)>>r&&(t[i++]=n|this.s<<this.Os-r);0<=e;)r<8?(n=(this[e]&(1<<r)-1)<<8-r,n|=this[--e]>>(r+=this.Os-8)):(n=this[e]>>(r-=8)&255,r<=0&&(r+=this.Os,--e)),0!=(128&n)&&(n|=-256),0==i&&(128&this.s)!=(128&n)&&++i,(0<i||n!=this.s)&&(t[i++]=n);return t},C.prototype.Ba=function(e){return 0==this.zs(e)},C.prototype.min=function(e){return this.zs(e)<0?this:e},C.prototype.max=function(e){return 0<this.zs(e)?this:e},C.prototype.Va=function(e){var t=y();return this.Aa(e,n,t),t},C.prototype.qa=function(e){var t=y();return this.Aa(e,a,t),t},C.prototype.Ga=function(e){var t=y();return this.Aa(e,i,t),t},C.prototype.ja=function(e){var t=y();return this.Aa(e,s,t),t},C.prototype.Ha=function(){for(var e=y(),t=0;t<this._;++t)e[t]=this.Rs&~this[t];return e._=this._,e.s=~this.s,e},C.prototype.shiftLeft=function(e){var t=y();return e<0?this.ca(-e,t):this.fa(e,t),t},C.prototype.Ma=function(e){var t=y();return e<0?this.fa(-e,t):this.ca(e,t),t},C.prototype.ka=function(){for(var e=0;e<this._;++e)if(0!=this[e])return e*this.Os+l(this[e]);return this.s<0?this._*this.Os:-1},C.prototype.Ka=function(){for(var e=0,t=this.s&this.Rs,n=0;n<this._;++n)e+=d(this[n]^t);return e},C.prototype.Pa=function(e){var t=Math.floor(e/this.Os);return t>=this._?0!=this.s:0!=(this[t]&1<<e%this.Os)},C.prototype.Ja=function(e){return this.La(e,a)},C.prototype.Ya=function(e){return this.La(e,s)},C.prototype.Xa=function(e){return this.La(e,i)},C.prototype.add=function(e){var t=y();return this.Ta(e,t),t},C.prototype.Ra=function(e){var t=y();return this.ra(e,t),t},C.prototype.multiply=function(e){var t=y();return this.ta(e,t),t},C.prototype.Ys=function(e){var t=y();return this.Zs(e,t,null),t},C.prototype.za=function(e){var t=y();return this.Zs(e,null,t),t},C.prototype.Qa=function(e){var t=y(),n=y();return this.Zs(e,t,n),[t,n]},C.prototype.Ua=function(e,t){var n,r,i=e._a(),a=g(1);if(i<=0)return a;n=i<18?1:i<48?3:i<144?4:i<768?5:6,r=i<8?new m(t):t.la()?new b(t):new v(t);var o=[],s=3,c=n-1,u=(1<<n)-1;if(o[1]=r.Xs(this),1<n){var l=y();for(r.ea(o[1],l);s<=u;)o[s]=y(),r.na(l,o[s-2],o[s]),s+=2}var d,p,f=e._-1,h=!0,_=y();for(i=A(e[f])-1;0<=f;){for(c<=i?d=e[f]>>i-c&u:(d=(e[f]&(1<<i+1)-1)<<c-i,0<f&&(d|=e[f-1]>>this.Os+i-c)),s=n;0==(1&d);)d>>=1,--s;if((i-=s)<0&&(i+=this.Os,--f),h)o[d].oa(a),h=!1;else{for(;1<s;)r.ea(a,_),r.ea(_,a),s-=2;0<s?r.ea(a,_):(p=a,a=_,_=p),r.na(_,o[d],a)}for(;0<=f&&0==(e[f]&1<<i);)r.ea(a,_),p=a,a=_,_=p,--i<0&&(i=this.Os-1,--f)}return r.$s(a)},C.prototype.$a=function(e){var t=e.la();if(this.la()&&t||0==e.ba())return C.ZERO;for(var n=e.clone(),r=this.clone(),i=g(1),a=g(0),o=g(0),s=g(1);0!=n.ba();){for(;n.la();)n.ca(1,n),t?(i.la()&&a.la()||(i.Ta(this,i),a.ra(e,a)),i.ca(1,i)):a.la()||a.ra(e,a),a.ca(1,a);for(;r.la();)r.ca(1,r),t?(o.la()&&s.la()||(o.Ta(this,o),s.ra(e,s)),o.ca(1,o)):s.la()||s.ra(e,s),s.ca(1,s);0<=n.zs(r)?(n.ra(r,n),t&&i.ra(o,i),a.ra(s,a)):(r.ra(n,r),t&&o.ra(i,o),s.ra(a,s))}return 0!=r.zs(C.ONE)?C.ZERO:0<=s.zs(e)?s.Ra(e):s.ba()<0?(s.Ta(e,s),s.ba()<0?s.add(e):s):s},C.prototype.pow=function(e){return this.exp(e,new p)},C.prototype.Za=function(e){var t=this.s<0?this.da():this.clone(),n=e.s<0?e.da():e.clone();if(t.zs(n)<0){var r=t;t=n,n=r}var i=t.ka(),a=n.ka();if(a<0)return t;for(i<a&&(a=i),0<a&&(t.ca(a,t),n.ca(a,n));0<t.ba();)0<(i=t.ka())&&t.ca(i,t),0<(i=n.ka())&&n.ca(i,n),0<=t.zs(n)?(t.ra(n,t),t.ca(1,t)):(n.ra(t,n),n.ca(1,n));return 0<a&&n.fa(a,n),n},C.prototype.Da=function(e){var t,n=this.abs();if(1==n._&&n[0]<=S[S.length-1]){for(t=0;t<S.length;++t)if(n[0]==S[t])return!0;return!1}if(n.la())return!1;for(t=1;t<S.length;){for(var r=S[t],i=t+1;i<S.length&&r<w;)r*=S[i++];for(r=n.Na(r);t<i;)if(r%S[t++]==0)return!1}return n.Oa(e)},C.prototype.nf=function(){var e=y();return this.ia(e),e},I.prototype.init=function(e){var t,n,r;for(t=0;t<256;++t)this.Sa[t]=t;for(t=n=0;t<256;++t)n=n+this.Sa[t]+e[t%e.length]&255,r=this.Sa[t],this.Sa[t]=this.Sa[n],this.Sa[n]=r;this.t=0,this.ya=0},I.prototype.next=function(){var e;return this.t=this.t+1&255,this.ya=this.ya+this.Sa[this.t]&255,e=this.Sa[this.t],this.Sa[this.t]=this.Sa[this.ya],this.Sa[this.ya]=e,this.Sa[e+this.Sa[this.t]&255]},null==_){var T;for(_=[],P=0;P<256;)T=Math.floor(65536*Math.random()),_[P++]=T>>>8,_[P++]=255&T;P=0,E()}function D(){if(null==h){for(E(),(h=new I).init(_),P=0;P<_.length;++P)_[P]=0;P=0}return h.next()}function k(){}function N(e,t){return new C(e,t)}function O(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}k.prototype.Ca=function(e){var t;for(t=0;t<e.length;++t)e[t]=D()},O.prototype.tf=function(e){return e.pa(this.e,this.n)},O.prototype.ef=function(e,t){null!=e&&null!=t&&0<e.length&&0<t.length?(this.n=N(e,16),this.e=parseInt(t,16)):alert("Invalid RSA public key")},O.prototype.encrypt=function(e){var t=function(e,t){if(t<e.length+11)return alert("Message too long for RSA"),null;for(var n=[],r=e.length-1;0<=r&&0<t;){var i=e.charCodeAt(r--);i<128?n[--t]=i:127<i&&i<2048?(n[--t]=63&i|128,n[--t]=i>>6|192):(n[--t]=63&i|128,n[--t]=i>>6&63|128,n[--t]=i>>12|224)}n[--t]=0;for(var a=new k,o=[];2<t;){for(o[0]=0;0==o[0];)a.Ca(o);n[--t]=o[0]}return n[--t]=2,n[--t]=0,new C(n)}(e,this.n._a()+7>>3);if(null==t)return null;var n=this.tf(t);if(null==n)return null;var r=n.toString(16);return 0==(1&r.length)?r:"0"+r},O.prototype.if=function(e){if(null==this.p||null==this.q)return e.Ua(this.d,this.n);for(var t=e.Qs(this.p).Ua(this.dmp1,this.p),n=e.Qs(this.q).Ua(this.dmq1,this.q);t.zs(n)<0;)t=t.add(this.p);return t.Ra(n).multiply(this.coeff).Qs(this.p).multiply(this.q).add(n)},O.prototype.rf=function(e,t,n){null!=e&&null!=t&&0<e.length&&0<t.length?(this.n=N(e,16),this.e=parseInt(t,16),this.d=N(n,16)):alert("Invalid RSA private key")},O.prototype.uf=function(e,t,n,r,i,a,o,s){null!=e&&null!=t&&0<e.length&&0<t.length?(this.n=N(e,16),this.e=parseInt(t,16),this.d=N(n,16),this.p=N(r,16),this.q=N(i,16),this.dmp1=N(a,16),this.dmq1=N(o,16),this.coeff=N(s,16)):alert("Invalid RSA private key")},O.prototype.af=function(e,t){var n=new k,r=e>>1;this.e=parseInt(t,16);for(var i=new C(t,16);;){for(;this.p=new C(e-r,1,n),0!=this.p.Ra(C.ONE).Za(i).zs(C.ONE)||!this.p.Da(10););for(;this.q=new C(r,1,n),0!=this.q.Ra(C.ONE).Za(i).zs(C.ONE)||!this.q.Da(10););if(this.p.zs(this.q)<=0){var a=this.p;this.p=this.q,this.q=a}var o=this.p.Ra(C.ONE),s=this.q.Ra(C.ONE),c=o.multiply(s);if(0==c.Za(i).zs(C.ONE)){this.n=this.p.multiply(this.q),this.d=i.$a(c),this.dmp1=this.d.Qs(o),this.dmq1=this.d.Qs(s),this.coeff=this.q.$a(this.p);break}}},O.prototype.decrypt=function(e){var t=N(e,16),n=this.if(t);return null==n?null:function(e,t){for(var n=e.Fa(),r=0;r<n.length&&0==n[r];)++r;if(n.length-r!=t-1||2!=n[r])return null;for(++r;0!=n[r];)if(++r>=n.length)return null;for(var i="";++r<n.length;){var a=255&n[r];a<128?i+=String.fromCharCode(a):191<a&&a<224?(i+=String.fromCharCode((31&a)<<6|63&n[r+1]),++r):(i+=String.fromCharCode((15&a)<<12|(63&n[r+1])<<6|63&n[r+2]),r+=2)}return i}(n,this.n._a()+7>>3)};var L="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function B(e){var t,n,r="";for(t=0;t+3<=e.length;t+=3)n=parseInt(e.substring(t,t+3),16),r+=L.charAt(n>>6)+L.charAt(63&n);for(t+1==e.length?(n=parseInt(e.substring(t,t+1),16),r+=L.charAt(n<<2)):t+2==e.length&&(n=parseInt(e.substring(t,t+2),16),r+=L.charAt(n>>2)+L.charAt((3&n)<<4));0<(3&r.length);)r+="=";return r}O.prototype.ff=function(e){e=this.cf(e);var t=this.lf(),n=0,r=null,i=null,a=0;for(var o in t)t.hasOwnProperty(o)&&((r=t[o]).hasOwnProperty("offset")&&(n+=2*r.offset),a="string"==typeof r.length?this[r.length]:r.length,a*=2,i=e.substr(n,a),r.hasOwnProperty("type")&&("int"==r.type?i=parseInt(i,16):"bigint"==r.type&&(i=N(i,16))),n+=a,this[o]=i)},O.prototype.df=function(e){var t="";e=function(e){var t,n,r,i=(e=""+e).length;if(0===i)return e;if(i%4!=0)throw new Error;t=0,"="===e.charAt(i-1)&&(t=1,"="===e.charAt(i-2)&&(t=2),i-=4);var a=[];for(n=0;n<i;n+=4)r=o(e,n)<<18|o(e,n+1)<<12|o(e,n+2)<<6|o(e,n+3),a.push(String.fromCharCode(r>>16,r>>8&255,255&r));switch(t){case 1:r=o(e,n)<<18|o(e,n+1)<<12|o(e,n+2)<<6,a.push(String.fromCharCode(r>>16,r>>8&255));break;case 2:r=o(e,n)<<18|o(e,n+1)<<12,a.push(String.fromCharCode(r>>16))}return a.join("")}(e);for(var n=0;n<e.length;++n){var r=e.charCodeAt(n).toString(16);1===r.length&&(r="0"+r),t+=r}return t},O.prototype.cf=function(e){var t=(e=e.replace(/^\s+|\s+$/g,"")).split(/\r?\n/);return"-----BEGIN"==t[0].substring(0,10)&&(t=t.slice(1,t.length-1)),e=t.join(""),this.df(e)},O.prototype.vf=function(){var e="",t=this.lf(),n=null,r=null,i=0;for(var a in t)t.hasOwnProperty(a)&&(n=t[a])._f&&((r=this[a].toString(16)).length%2&&(r="0"+r),n.hasOwnProperty("padded")&&n.pf&&(r="00"+r),(i=(i=r.length/2).toString(16)).length%2&&(i="0"+i),n.hasOwnProperty("extraspace")&&(e+=i),e+=i,e+=r,e+="02");return e.slice(0,-2)},O.prototype.hf=function(e,t){if(!e)return e;var n="(.{1,"+(t=t||64)+"})( +|$\n?)|(.{1,"+t+"})";return e.match(new RegExp(n,"g")).join("\n")},O.prototype.gf=function(){var e="-----BEGIN RSA PRIVATE KEY-----\n",t="3082025e02010002";return t+=this.vf(),(e+=this.hf(B(t))+"\n")+"-----END RSA PRIVATE KEY-----"},O.prototype.mf=function(){var e="-----BEGIN PUBLIC KEY-----\n",t="30819f300d06092a864886f70d010101050003818d0030818902";return t+=this.vf(),(e+=this.hf(B(t))+"\n")+"-----END PUBLIC KEY-----"};function M(e){O.call(this),e&&this.ff(e)}((M.prototype=new O).constructor=M).prototype.lf=function(){return{header:{length:4},versionlength:{length:1,offset:1,type:"int"},version:{length:"versionlength",type:"int"},n_length:{length:1,offset:2,type:"int"},n:{length:"n_length",type:"bigint",_f:!0,pf:!0,yf:!0},e_length:{length:1,offset:1,type:"int"},e:{length:"e_length",type:"int",_f:!0},d_length:{length:1,offset:2,type:"int"},d:{length:"d_length",type:"bigint",_f:!0,pf:!0,yf:!0},p_length:{length:1,offset:1,type:"int"},p:{length:"p_length",type:"bigint",_f:!0,pf:!0},q_length:{length:1,offset:1,type:"int"},q:{length:"q_length",type:"bigint",_f:!0,pf:!0},dmp1_length:{length:1,offset:1,type:"int"},dmp1:{length:"dmp1_length",type:"bigint",_f:!0},dmq1_length:{length:1,offset:1,type:"int"},dmq1:{length:"dmq1_length",type:"bigint",_f:!0,pf:!0},coeff_length:{length:1,offset:1,type:"int"},coeff:{length:"coeff_length",type:"bigint",_f:!0,pf:!0}}};function R(e){O.call(this),e&&("string"==typeof e?this.ff(e):e.hasOwnProperty("n")&&e.hasOwnProperty("e")&&(this.n=e.n,this.e=e.e))}((R.prototype=new O).constructor=R).prototype.lf=function(){return{header:{length:25},n_length:{length:1,offset:2,type:"int"},n:{length:"n_length",type:"bigint",_f:!0,pf:!0,yf:!0},e_length:{length:1,offset:1,type:"int"},e:{length:"e_length",type:"int",_f:!0}}};function x(){this.Sf=null,this.wf=null}return x.prototype.bf=function(e){this.Sf=new M(e),this.wf=new R(this.Sf)},x.prototype.If=function(e){this.wf=new R(e)},x.prototype.decrypt=function(e){return!!this.Sf&&this.Sf.decrypt(function(e){var t,n,r="",i=0;for(t=0;t<e.length&&"="!=e.charAt(t);++t){var a=L.indexOf(e.charAt(t));a<0||(i=0==i?(r+=c(a>>2),n=3&a,1):1==i?(r+=c(n<<2|a>>4),n=15&a,2):2==i?(r+=c(n),r+=c(a>>2),n=3&a,3):(r+=c(n<<2|a>>4),r+=c(15&a),0))}return 1==i&&(r+=c(n<<2)),r}(e))},x.prototype.encrypt=function(e){var t=this.wf||this.Sf;return!!t&&B(t.encrypt(e))},x.prototype.gf=function(){return this.Sf||(this.Sf=new M,this.Sf.af(1024,"010001"),this.wf=new R(this.Sf)),this.Sf.gf()},x.prototype.mf=function(){return this.wf||(this.wf=new R,this.wf.af(1024,"010001")),this.wf.mf()},function(e){var t=new x;return t.If(U.bn),t.encrypt(e)}}(),e.exports=r.encrypt},function(e,t,n){var d=n(0),S=n(20),w=n(44),I=n(2).mn,E=n(85),T=n(86),D=n(26),k=n(15),N=n(9),O=n(25),L=n(11),B=n(19);e.exports=function(p,f,s,h,r,i,a){var _,c,g,m,v,C,y,A,b,P;function o(e,t,n,r){var i,a,o,s,c,u,l,d;!function(i,e){return function(e,t){var n=i.getIncludedPublishers();if(0==n.length)return!0;for(var r=0;r<n.length;++r)if(t.Pi(n[r]))return!0;return!1}(0,e)&&((t=+new Date)<v?(y=C=0,A=v=t,f.put(L.ct,y),f.put(L.lt,A)):(1e3<t-v&&(C=0,v=t),1e3<t-A&&(y=0,A=t,f.put(L.ct,y),f.put(L.lt,A))),C<20&&y<6e3&&(C++,y++,f.put(L.ct,y),!0));var t}(n,r)||(f.put(L.Gn,+new Date),p.Ye(t,!0),i=e,a=t,o=n,s=r,0==_&&i.vr()&&(g=+new Date,m++,f.put(L.dt,m),i.setLabel("ns_ap_csf","1"),i.setLabel("ns_ap_cfg",s.Ei())),_++,i.setLabel("ns_ts",a+""),i.setLabel("ns_ap_ec",_+""),i.setLabel("ns_ap_cs",m+""),i.setLabel("ns_ap_id",g+""),p.Xe()==D.be.Ke?i.setLabel("name","foreground"):p.Xe()==D.be.Je||p.Xe()==D.be.we?i.setLabel("name","background"):i.setLabel("name","Application"),o instanceof B&&!o.xe()||(u=s,l=a,(c=i).setLabel("ns_ap_fg",p.ii()+""),c.setLabel("ns_ap_ft",p.ei(c.vr())+""),c.setLabel("ns_ap_dft",p.ti()+""),c.setLabel("ns_ap_bt",p.ri(c.vr())+""),c.setLabel("ns_ap_dbt",p.ni()+""),c.setLabel("ns_ap_it",p.Ze(c.vr())+""),c.setLabel("ns_ap_dit",p.$e()+""),c.setLabel("ns_ap_as",p.ze()+""),c.setLabel("ns_ap_das",p.Qe()+""),c.setLabel("ns_ap_ut",1e3*u.getUsagePropertiesAutoUpdateInterval()+""),c.setLabel("ns_ap_usage",l-p.oi()+"")),(d=i).setLabel("c1","19"),d.setLabel("ns_ap_smv","6.4"),d.setLabel("ns_ap_bv",k.VERSION),d.setLabel("ns_ap_sv",k.VERSION),function(e,t){var n=t.getPartnerConfigurations();if(0!=t.getPartnerConfigurations().length){for(var r="",i="",a=0;a<n.length;++a){var o=n[a];r+=o.getPartnerId()+",",i+=o.getExternalClientId()+","}r=r.substring(0,r.length-1),i=i.substring(0,i.length-1),e.setLabel("cs_partner",r),e.setLabel("cs_xcid",i)}}(i,s),i.addLabels(b),i.addLabels(o.getLabels()),T.Mf(i,o,i.getLabels(),s),b={},P.push({event:e,timestamp:t,Ef:n,configuration:r}),h.Uf())}function u(e,t){s.flush(t),s.he(),f.zt()}function l(e,t){s.nr(e,t),s.he(),s.Zi(),f.zt()}d.extend(this,{le:function(){return _},ye:function(e,t,n){var r;o(((r=new w).setLabel("ns_type","hidden"),r.setLabel("ns_ap_ev","keep-alive"),r.setLabel("ns_ap_oc",s.er()+""),r),e,t,n)},Wt:function(e,t,n){o(function(){var e=new w;e.setLabel("ns_type","view"),e.setLabel("ns_ap_ev","start"),e.setLabel("ns_ap_gs",r.xf()+""),e.setLabel("ns_ap_install",r.Wf()+"");var t=p.ui();return 0<t&&e.setLabel("ns_ap_lastrun",t+""),r.Ff()&&e.setLabel("ns_ap_updated",r.Bf()+""),e}(),e,t,n)},ve:function(e,t,n){var r;o(((r=new w).setLabel("ns_type","hidden"),r.setLabel("ns_ap_ev","hidden"),r),e,t,n)},pe:function(e,t,n){var r;o(((r=new w).setLabel("ns_type","view"),r.setLabel("ns_ap_ev","view"),r),e,t,n)},te:function(e,t){b[e]=t+"",f.put(L.vt,b)}}),_=0,c=[],m=f.get(L.dt,0),A=v=-1,y=C=0,b=f.get(L.vt,{}),P=[],h.addListener(function(){for(var e=0;e<P.length;e++){var t=P[e];n=t.event,t.timestamp,t.Ef,r=t.configuration,function(e){e.setLabel("ns_ap_pn",I.K()),e.setLabel("ns_ap_pv",I.Y()),e.setLabel("ns_ap_pfm",I.J()),e.setLabel("ns_ap_pfv",I.H()),e.setLabel("ns_ap_device",I.j()),e.setLabel("ns_ap_lang",I.nn()),e.setLabel("ns_ap_ar",I.en()),e.setLabel("ns_radio",function(e){switch(e){case N.EMULATOR:return"emu";case N.WIFI:return"wlan";case N.WWAN:return"wwan";case N.ETHERNET:return"eth";case N.BLUETOOTH:return"bth";default:return"unknown"}}(I.in())),e.vr()&&e.setLabel("ns_ap_jb",S.Ve(I.rn()))}(n),function(e,t){e.setLabel("ns_ap_an",t.F()),e.setLabel("ns_ap_res",I.Z()),e.setLabel("ns_ap_po","0x0"),e.setLabel("ns_ap_sd",I.X()),e.setLabel("ns_ap_ver",t.B()),e.setLabel("ns_ap_bi",t.Ti())}(n,r),function(e){if(a.isEnabled()){var t=a.Pf();if(t)if(t.Af)e.addLabels({cs_cmp_nc:"1"});else{var n,r={gdpr:"0",gdpr_p1t:"",gdpr_li:"",gdpr_purps:"",gdpr_pcc:"",cs_cmp_id:t.cmpId,cs_cmp_sv:t.cmpVersion,cs_cmp_nc:t.Df?"1":"0"};if(t.Cf)if(r.gdpr="1",t.Lf){if(r.gdpr_li=t.Tf?"1":"0",r.gdpr_pcc=t.Nf,n=t.Of&&t.purposeOneTreatment?(r.gdpr_p1t="1",!0):(r.gdpr_p1t="0",t.consents[1]),t.Rf){var i=[];n&&i.push(1),t.consents[7]&&i.push(7),t.consents[8]&&i.push(8),t.consents[9]&&i.push(9),t.consents[10]&&i.push(10),r.gdpr_purps=i.join(",")}e.addLabels(r)}else e.addLabels(r);else e.addLabels(r)}}}(n),function(e){var t=i.kt();t.xt&&e.setLabel("ns_ak",t.xt),t.Rt&&e.setLabel("ns_ap_ni","1")}(n),function(e){e.setLabel("ns_ap_env","0-0-2"),I.un(e.getLabels())}(n),c.push(n),function(e){!function(e){var t=I.in(),n=e.Oi(),r=!1;t!=N.DISCONNECTED&&n!=O.CACHE&&(n!=O.LAN||t!=N.WWAN&&t!=N.BLUETOOTH)||(r=!0);for(var i=0;i<c.length;++i){var a=c[i];if(r)s.nr(a,e);else{var o=new E(a,u,l,e);e.Ri()&&I.sn("Comscore: "+o.kf()),o.$i()}}s.Zi(),c=[]}(e)}(r),f.zt()}var n,r;P=[]})}},function(e,t,n){var o=n(0),s=n(2).mn,c=n(20);e.exports=function(r,t,n,i){var a;function e(e){200==e||i.isHttpRedirectCachingEnabled()&&(302==e||301==e)?t(r,i):n(r,i)}!function(){a=c.We(i.Ci(),r.getLabels(),i.getLabelOrder());var e="undefined"==typeof window||(window.ActiveXObject,1)?4096:2048;if(a.length>e&&0<a.indexOf("&")){var t=a.substring(0,e-8).lastIndexOf("&"),n=encodeURIComponent(a.substring(t+1));a=a.substring(0,t)+"&ns_cut="+n}a.length>e&&(a=a.substring(0,e))}(),o.extend(this,{$i:function(){s.T?s.T(a,e,i):e()},kf:function(){return a}})}},function(e,t,n){var P=n(32),S=n(0),w=n(19),I=n(2).mn,a="a".charCodeAt(0);function E(e,t){if(0==t)return e;var n,r=String.fromCharCode(a+t-1),i=(n=e.match(/^[cC](\d|[12]\d)$/))&&n[1]?n[1]:"";return String(i?"c"+r+i:"c"+r+"_"+e)}function T(e,t,n){var r=[],i=e.getPersistentLabels();for(var a in i)r.push(a);if(n){var o=e.getStartLabels();for(a in o)r.push(a)}var s=t.getPublisherLabels(e.getPublisherId()),c=t.getLabels();for(a in s)a in c||r.push(a);return r}var r={Mf:function(e,t,n,r){for(var i={},a=e.vr(),o=[],s=[],c=t.getIncludedPublishers(),u=r.getPublisherConfigurations(),l=0;l<u.length;++l){var d=u[l],p=d.getPublisherId();p!=P.ee&&(0!=c.length&&-1==c.indexOf(p)||(o.push(d),s.push(p)))}if((0==c.length||-1!=c.indexOf(P.ee))&&0<r.getPartnerConfigurations().length){var f=function(e){for(var t={},n={},r=e.getPartnerConfigurations(),i=0;i<r.length;++i){var a=r[i];S.extend(t,a.getPersistentLabels()),S.extend(n,a.getStartLabels())}return e.Bi().copy({persistentLabels:t,startLabels:n})}(r);o.push(f),s.push(f.getPublisherId())}for(var h=[],_=0;_<o.length;++_){var g=o[_];if(26<=_)break;var m={};if(m.c2=g.getPublisherId(),m.c12=g.getPublisherUniqueDeviceId(),I.pn&&(m.c12=I.hn),S.extend(m,n),S.extend(m,r.getPersistentLabels()),S.extend(m,g.getPersistentLabels()),S.extend(m,t.getLabels()),a&&S.extend(m,r.getStartLabels()),S.extend(m,t.getPublisherLabels(g.getPublisherId())),a&&S.extend(m,g.getStartLabels()),0==_)h=T(g,t,a),S.extend(i,m);else{for(l=0;l<h.length;++l){var v=h[l];v in m||(m[v]="*null")}for(var C in m)C in i&&i[C]==m[C]||(i[E(C,_)]=m[C])}}if(t instanceof w){var y=t.Ue();for(l=0;l<y.length;++l){var A=y[l];if(26<=_)break;if(-1==s.indexOf(A)){var b=t.getPublisherLabels(A);for(C in i[E("c2",_)]=A,b)C in i&&i[C]==b[C]||(i[E(C,_)]=b[C]);_++}}}e.addLabels(i)}};e.exports=r},function(e,t,n){var i=n(0);e.exports=function(t){var n,r;!function(){var e=t.getProperties();try{(n=JSON.parse(e))&&"object"==typeof n||(n={})}catch(e){n={}}}(),r=!1,i.extend(this,{put:function(e,t){n[e]=t,r=!0},get:function(e,t){return e in n?n[e]:t},remove:function(e){delete n[e],r=!0},contains:function(e){return e in n},clear:function(){n={}},zt:function(){var e;r&&(e=JSON.stringify(n),t.storeProperties(e)),r=!1}})}},function(e,t,n){var a=n(0),o=n(2).mn;e.exports=function(t){var n,e;function r(){e&&(e=!1,function(){t();for(var e=0;e<n.length;e++)n[e]()}())}function i(){e=e&&!1}n=[],a.extend(this,{addListener:function(e){n.push(e)},Uf:function(){e||(e=!0,o.U(r,i))}})}},function(e,t,n){var c=n(0),u=n(11);e.exports=function(t,n){var r,i,a,o,s=-1;!function(){o=a=!1,s=t.get(u.Hn,-1),r=t.get(u.Kn,-1),i=t.get(u.jn,null),t.put(u.jn,n.B());var e=+new Date;-1==s?(r=s=e,t.put(u.Hn,s),t.put(u.Kn,r),a=!0):i&&i!=n.B()&&(r=e,t.put(u.Kn,r),t.put(u.dt,0),o=!0)}(),c.extend(this,{Bf:function(){return i},xf:function(){return s},Wf:function(){return r},Ff:function(){return o},Vf:function(){return a}})}},function(e,t,n){var i=n(0),r=n(11),a=n(2).mn,o=["previousVersion","AppName","AppVersion","vid","exitCode","q_dcc","q_dcf","runs","accumulatedActiveUserSessionTime","accumulatedUserSessionTime","activeUserSessionCount","userSessionCount","userInteractionCount","lastActiveUserSessionTimestamp","lastUserInteractionTimestamp","lastUserSessionTimestamp"],s={CACHE_DROPPED_MEASUREMENTS:r.qn,lastApplicationAccumulationTimestamp:r.zn,lastSessionAccumulationTimestamp:r.Qn,lastApplicationSessionTimestamp:r.$n,foregroundTransitionsCount:r.Zn,accumulatedForegroundTime:r.nt,accumulatedBackgroundTime:r.tt,accumulatedInactiveTime:r.et,totalForegroundTime:r.it,totalBackgroundTime:r.rt,totalInactiveTime:r.ot,accumulatedApplicationSessionTime:r.ut,applicationSessionCountKey:r.st,genesis:r.at,previousGenesis:r.ft,installId:r.Kn,firstInstallId:r.Hn,currentVersion:r.jn,coldStartCount:r.dt,crossPublisherIdHashed:r.Jn,crossPublisherId:r.Yn};e.exports=function(){var r="function"==typeof a.R?new a.R:null;i.extend(this,{re:function(e){if(r)for(var t in s){var n=r.get(t);null!=n&&e.put(s[t],n)}},oe:function(){if(r){for(var e in s)r.remove(e);for(var t=0;t<o.length;++t)r.remove(o[t]);r.clear()}}})}},function(e,t,n){var c=n(0),u=n(44),l=n(2).mn,d="cache_dir",p="undefined"!=typeof encodeURIComponent?decodeURIComponent:unescape;e.exports=function(e,t,n){function i(){return o&&o.dir(d)||[]}function a(e){if(!o)return[];var t=o.read(d,e);return t?t.split("\n"):[]}var r="function"==typeof l.R?new l.R:null,o="function"==typeof l.k?new l.k:null;function s(e){for(var t=e.split("&"),n=new u,r=0;r<t.length;++r){var i=t[r].split("="),a=p(i[0]),o=p(i[1]);n.setLabel(a,o)}return n}c.extend(this,{ue:function(){var e=function(e){for(var t=[],n=0;n<e.length;++n){var r=s(e[n]);t.push(r)}return t}(function(){for(var e=i(),t=[],n=0;n<e.length;++n){var r=a(e[n]);t=t.concat(r)}return t}());n.tr(e)},se:function(){for(var e=i(),t=0;t<e.length;++t)n=e[t],o&&(o.deleteFile(d,n),r&&r.remove(n));var n}})}},function(e,t,n){var i=n(0),a=n(93),o=n(11);e.exports=function(){var t,n,r=this;i.extend(r,{Yt:function(e){n=e},isEnabled:function(){return n},ae:function(e){t=e},$t:function(){if(!n)return!0;var e=r.Pf();return!e||!!e.Af||!e.Cf||!!e.Lf&&!!e.Rf&&(e.Of&&e.purposeOneTreatment||e.consents[1])},Pf:function(){return a.qf()},Zt:function(){t.remove(o.Xn),t.remove(o.Jn),t.remove(o.Yn)}}),n=!0}},function(e,t,n){"use strict";Object.defineProperty(t,"v",{value:!0}),t.qf=void 0;var a=[1,7,8,9,10],r=!1;t.qf=function(){try{var e=function(){try{var t;if("function"==typeof __tcfapi)return __tcfapi("getTCData",2,function(e){t=e}),t||(r=!0),t}catch(e){}}();if(!e&&!r)return!1;if(e)return e.gdprApplies?{Af:!1,cmpId:e.cmpId,cmpVersion:e.cmpVersion,Df:r,Cf:!0,Lf:!0,Of:e.isServiceSpecific,purposeOneTreatment:e.purposeOneTreatment,Tf:e.vendor.legitimateInterests[77],Rf:e.vendor.consents[77],consents:function(e){var t={};if(!e)return t;for(var n=0,r=a;n<r.length;n++){var i=r[n];t[i]=e.purpose.consents[i]}return t}(e),Nf:e.publisherCC||""}:{Af:!1,cmpId:e.cmpId,cmpVersion:e.cmpVersion,Df:r,Cf:!1}}catch(e){}return{Af:!0,Df:!0}}},function(e,t,n){var i=n(0),a=n(14),o=n(95),s=n(1).I,c=n(1).P,u=n(16),l=n(119),r=n(31),d=n(120),p=n(50),f=n(121),h=n(122);function _(e){var r,t=this;i.extend(t,{configuration:null,extendedAnalytics:null,createPlaybackSession:function(){r.Gf().qo().Vo("createPlaybackSession");var e=r.Gf().Xo().Yo();e!=c.IDLE&&(r.Gf().qo().Go("Ending the current Clip. It was in state:",a.yt(e)),t.notifyEnd()),r.Gf().Dr().Xr()&&r.iu()},addListener:function(e){r.addListener(e)},removeListener:function(e){r.removeListener(e)},addMeasurementListener:function(e){r.addMeasurementListener(e)},removeMeasurementListener:function(e){r.removeMeasurementListener(e)},setDvrWindowLength:function(e){r.Gf().Dr().Ar().setDvrWindowLength(e),r.Gf().Dr().Ar().ys(!0)},startFromDvrWindowOffset:function(e){r.Gf().Dr().startFromDvrWindowOffset(e),r.Gf().Dr().Ar().ys(!0)},setMediaPlayerName:function(e){r.Gf().Dr().setMediaPlayerName(e)},setMediaPlayerVersion:function(e){r.Gf().Dr().setMediaPlayerVersion(e)},setImplementationId:function(e){r.Gf().Dr().setImplementationId(e)},setProjectId:function(e){r.setProjectId(e+"")},startFromSegment:function(e){r.Gf().qo().Vo("startFromSegment",e),r.Gf().Dr().startFromSegment(e)},startFromPosition:function(e){r.Gf().qo().Vo("startFromPosition",e),r.Gf().Dr().startFromPosition(e)},loopPlaybackSession:function(){r.Gf().qo().Vo("loopPlaybackSession"),r.Gf().Dr().loopPlaybackSession()},setMetadata:function(e){r.Gf().Dr().Bo(e)},getPlaybackSessionId:function(){r.Gf().Dr().Ro()},notifyPlay:function(){r.Gf().qo().Vo("notifyPlay");var e=new u(s.PLAY);r.zo(e)},notifyPause:function(){r.Gf().qo().Vo("notifyPause");var e=new u(s.PAUSE);r.zo(e)},notifyEnd:function(){r.Gf().qo().Vo("notifyEnd");var e=new u(s.END);r.zo(e)},notifyBufferStart:function(){r.Gf().qo().Vo("notifyBufferStart");var e=new u(s.BUFFER);r.zo(e)},notifyBufferStop:function(){r.Gf().qo().Vo("notifyBufferStop");var e=new u(s.BUFFER_STOP);r.zo(e)},notifySeekStart:function(){r.Gf().qo().Vo("notifySeekStart");var e=new u(s.SEEK_START);r.zo(e)},notifyChangePlaybackRate:function(e){r.Gf().qo().Vo("notifyChangePlaybackRate");var t=Math.floor(100*e),n=new u(s.PLAYBACK_RATE);n.Lt.ns_st_rt=t+"",r._r(n)}}),r=new o(e),t.configuration=r.jf,t.extendedAnalytics=new l(r.Gf()),r.Gf().qo().log("New StreamingAnalytics instance with configuration",e)}_.PlayerEvents=s,_.InternalStates=c,_.WindowState=h,_.ContentMetadata=r,_.StackedContentMetadata=d,_.AdvertisementMetadata=p,_.StackedAdvertisementMetadata=f,e.exports=_},function(e,t,n){var c=n(96),u=n(97),F=n(98),V=n(99),j=n(100),G=n(101),q=n(102),H=n(103),Y=n(104),K=n(105),W=n(106),J=n(107),z=n(108),X=n(14),Q=n(109),$=n(0),Z=n(21),ee=n(29),te=n(4),ne=n(110),re=n(111),ie=n(16),ae=n(47),oe=n(1).P,se=n(1).I,ce=n(1).A,ue=n(45),le=n(46),de=n(115),pe=n(116),fe=n(117),he=n(3),_e=n(17),ge=n(2).mn,me=n(19),ve=n(118);function r(e){var b,P,S,l,d,p,f,h,_,g,m,v,C,y,A,w,t,n,I,E,r,i,a,T,D,k,N,O,L,B,o,M=this;function R(e){var t=b.Xo().Yo();if(t==oe.IDLE||t==oe.PLAYBACK_NOT_STARTED||t==oe.BUFFERING_BEFORE_PLAYBACK||t==oe.SEEKING_BEFORE_PLAYBACK){if(e==se.PLAY)return!0}else if(t==oe.PLAYING){if(e==se.END||e==se.AD_SKIP||e==se.SEEK_START||e==se.PAUSE)return!0}else if(t==oe.PAUSED||t==oe.BUFFERING_DURING_PAUSE||t==oe.SEEKING_DURING_PLAYBACK||t==oe.SEEKING_DURING_BUFFERING||t==oe.SEEKING_DURING_PAUSE){if(e==se.END||e==se.AD_SKIP||e==se.PLAY)return!0}else if(t==oe.BUFFERING_DURING_PLAYBACK){if(e==se.PAUSE_ON_BUFFERING||e==se.END||e==se.AD_SKIP||e==se.SEEK_START||e==se.PAUSE||e==se.PLAY)return!0}else if(t==oe.BUFFERING_DURING_SEEKING){if(e==se.END||e==se.AD_SKIP||e==se.PAUSE||e==se.PLAY)return!0}else if(t==oe.PAUSED_DURING_BUFFERING&&(e==se.END||e==se.AD_SKIP||e==se.BUFFER_STOP||e==se.PLAY))return!0;return!1}function x(e){(B=e)==ee.wi.li?(M.Hf("1"),b.qo().Go("System clock jump detected","to the far past")):B==ee.wi.di?(M.Hf("3"),b.qo().Go("System clock jump detected","to the future")):(M.Hf("2"),b.qo().Go("System clock jump detected","to the near past"))}function U(){M.zo(new ie(se.END))}function s(){S=_e.configuration.Di()}$.extend(M,{jf:null,Hf:function(e){-1==O.indexOf(e)&&O.push(e)},wr:function(){var e=new ie(se.HEARTBEAT);e.setLabel("ns_st_hc",b.Kf().br());var t=b.Dr(),n=t.Ar(),r=isNaN(E)?I:E;E=e.Tt,ee.Bt().yi(e.Tt);var i=!1;B&&(i=!(B=null),e.Tt=r);var a=n.ro(),o=n.ku(),s=n.$r(),c=n.no(),u=n.fo(),l=n.ms();n.Ss()?t.ao(oe.PLAYING,null,e.Tt):t.zr(oe.PLAYING,null,e.Tt);var d=n.$r();n.Cu(e);var p=M.Fn(se.HEARTBEAT,e);b.Dr().Ar()._u(p.Jf),b.Yf().dispatchEvent(p),n.Qr(a),n.Zr(o),n.uo(s),n.so(c),n.ho(u),n.mo(l),i&&(n.Qr(d),n.Zr(E),t.Kr(E-parseInt(p.Jf.ns_st_dpt)),n.Kr(E-parseInt(p.Jf.ns_st_dpt)),n.Ru(E-parseInt(p.Jf.ns_st_det)))},Fn:function(e,t){var n=t.Tt,r=b.Dr(),i={};i.ns_ts=n+"",i.ns_st_ev=se.toString(e),i.ns_st_mp="js_api",i.ns_st_mv="7.6.1.210506",i.ns_st_ub="0",i.ns_st_br="0",i.ns_st_pn="1",i.ns_st_tp="0",i.ns_st_it=ce.toString(ce.g),i.ns_st_sv="7.6.1.210506",i.ns_st_smv="6.4",i.ns_type="hidden",i.ns_st_ec=b.Yf().le()+"",i.ns_st_cfg=P.Xf(),i.ns_st_hd=b.Kf().Lr(n),i.ns_st_po=r.Ar().$r()+"",0<O.length&&(i.ns_ap_ie=O.join(";")),r.Fn(i,n),r.Ar().Fn(i,n,e==se.HEARTBEAT),$.extend(i,t.Lt),$.extend(i,N),function(){for(var e=$.h(k),t=0;t<e.length;++t)e[t](i)}();var a={};$.extend(a,i),$.extend(a,P.getLabels());var o=new me;o._e(!1);var s=P.zf(),c=P.Qf,u=r.Ar(),l=u.getStacks();if(0<c.length)for(var d=0;d<c.length;++d){var p=c[d];-1!=S.indexOf(p)&&o.addIncludedPublisher(p)}else for(d=0;d<S.length;++d){var f=S[d];o.addIncludedPublisher(f)}var h=[];for(var _ in s){var g=s[_];if(!(0<c.length&&-1==c.indexOf(_))){var m={};$.extend(m,a),$.extend(m,g.getLabels()),$.extend(m,u.getLabels()),l[_]&&$.extend(m,l[_]),$.extend(m,t.Ct),o.addPublisherLabels(_,m),h.push(_)}}var v=[];for(var C in l){var y=l[C];if(-1==h.indexOf(C)){var A={};$.extend(A,y),$.extend(A,t.Ct),o.addPublisherLabels(C,A),v.push(C)}}return o.Me(v),$.extend(a,u.getLabels()),$.extend(a,t.Ct),o.addLabels(a),new ve(e,o,i)},zo:function(e){var t=b.Xo().Yo();if(P.nu){if(T&&t==oe.BUFFERING_BEFORE_PLAYBACK&&e.Dt==se.BUFFER_STOP){b.qo().Go("Resume to PLAY from state:",X.yt(t));var n=new ie(se.PLAY);return n.Tt=e.Tt,n.Lt.ns_st_ae="1",M.zo(n),void(T=!1)}T=T&&!1}var r=b.Xo().$f(e.Dt);if(null!=r&&r!=t){L&&X.St(t)&&!X.St(r)?ge.vn(U):L&&!X.St(t)&&X.St(r)&&ge._n(U);var i=b.Dr(),a=i.Ar(),o=isNaN(E)?I:E;E=e.Tt,ee.Bt().yi(e.Tt);var s=!1;B&&(s=!(B=null),e.Tt=o),t==oe.IDLE&&a.lr("ns_st_pn")&&i.startFromSegment(parseInt(a.dr("ns_st_pn"))),a.Ss()?i.ao(t,r,e.Tt):i.zr(t,r,e.Tt),t==oe.IDLE&&i.yo(),function(e){var t=b.Xo().Yo();e.Dt==se.AD_SKIP&&!e.Lt.hasOwnProperty("ns_st_ui")&&R(e.Dt)?e.Lt.ns_st_ui="skip":e.Dt==se.SEEK_START&&!e.Lt.hasOwnProperty("ns_st_ui")&&R(e.Dt)&&(e.Lt.ns_st_ui="seek");var n=e.Dt;t==oe.IDLE?n==se.BUFFER?l.Zf(e):n==se.SEEK_START?l.nc(e):n==se.PLAY&&l.tc(e):t==oe.PLAYBACK_NOT_STARTED?n==se.END||n==se.AD_SKIP?p.ec(e):n==se.SEEK_START?p.nc(e):n==se.PLAY?p.tc(e):n==se.BUFFER&&p.Zf(e):t==oe.PLAYING?n==se.END||n==se.AD_SKIP?f.ec(e):n==se.BUFFER?f.Zf(e):n==se.SEEK_START?f.nc(e):n==se.PAUSE&&f.ic(e):t==oe.PAUSED?n==se.END||n==se.AD_SKIP?d.ec(e):n==se.PLAY?d.tc(e):n==se.BUFFER?w.rc(e):n==se.SEEK_START&&w.oc(e):t==oe.BUFFERING_BEFORE_PLAYBACK?n==se.END||n==se.AD_SKIP?h.ec(e):n==se.BUFFER_STOP?h.uc(e):n==se.SEEK_START?h.nc(e):n==se.PAUSE?h.ic(e):n==se.PLAY&&h.tc(e):t==oe.BUFFERING_DURING_PLAYBACK?n==se.PAUSE_ON_BUFFERING?_.sc(e):n==se.BUFFER_STOP?w.ac(e):n==se.END||n==se.AD_SKIP?_.ec(e):n==se.SEEK_START?_.nc(e):n==se.PAUSE?_.ic(e):n==se.PLAY&&w.ac(e):t==oe.BUFFERING_DURING_SEEKING?n==se.END||n==se.AD_SKIP?g.ec(e):n==se.PAUSE?g.ic(e):n==se.PLAY?g.tc(e):n==se.BUFFER_STOP&&w.fc(e):t==oe.BUFFERING_DURING_PAUSE?n==se.END||n==se.AD_SKIP?m.cc(e):n==se.PAUSE?m.ic(e):n==se.PLAY?m.tc(e):n==se.SEEK_START?w.oc(e):n==se.BUFFER_STOP&&w.fc(e):t==oe.SEEKING_BEFORE_PLAYBACK?n==se.END||n==se.AD_SKIP?C.ec(e):n==se.PAUSE?C.ic(e):n==se.PLAY?C.tc(e):n==se.BUFFER&&w.rc(e):t==oe.SEEKING_DURING_PLAYBACK?n==se.END||n==se.AD_SKIP?A.ec(e):n==se.PLAY?A.tc(e):n==se.BUFFER?w.rc(e):n==se.PAUSE&&w.lc(e):t==oe.SEEKING_DURING_BUFFERING?n==se.PAUSE?y.ic(e):n==se.BUFFER?w.rc(e):n==se.PLAY?w.dc(e):n==se.END||n==se.AD_SKIP?w.vc(e):n==se.BUFFER_STOP&&w._c(e):t==oe.PAUSED_DURING_BUFFERING?n==se.END||n==se.AD_SKIP?v.ec(e):n==se.BUFFER_STOP?v.pc(e):n==se.SEEK_START?v.nc(e):n==se.PAUSE?v.ic(e):n==se.PLAY&&v.pc(e):t==oe.SEEKING_DURING_PAUSE&&(n==se.BUFFER?w.rc(e):n==se.PLAY?w.dc(e):n==se.PAUSE?w.lc(e):n==se.END||n==se.AD_SKIP?w.vc(e):n==se.BUFFER_STOP&&w._c(e)),R(n)&&b.Dr().No(!0)}(e),b.Xo().zo(e.Dt,e.Tt),r==oe.IDLE?ee.Bt().mi(x):t==oe.IDLE&&ee.Bt().gi(x),s&&(a.Qr(a.$r()),a.Zr(E),r!=oe.IDLE&&r!=oe.PLAYBACK_NOT_STARTED&&r!=oe.SEEKING_BEFORE_PLAYBACK&&r!=oe.BUFFERING_BEFORE_PLAYBACK&&a.Ru(E),r!=oe.BUFFERING_BEFORE_PLAYBACK&&r!=oe.BUFFERING_DURING_PAUSE&&r!=oe.BUFFERING_DURING_PLAYBACK&&r!=oe.BUFFERING_DURING_SEEKING&&r!=oe.PAUSED_DURING_BUFFERING||(i.jr(E),a.jr(E)),r==oe.PLAYING&&(i.Kr(E),a.Kr(E)),r!=oe.SEEKING_BEFORE_PLAYBACK&&r!=oe.SEEKING_DURING_BUFFERING&&r!=oe.SEEKING_DURING_PAUSE&&r!=oe.SEEKING_DURING_PLAYBACK&&r!=oe.BUFFERING_DURING_SEEKING||a.Gu(E)),b.qo().log("Transition from",X.yt(t),"to",X.yt(r),"due to event:",se.toString(e.Dt));for(var c=0,u=D.length;c<u;c++)D[c](t,r,e.Lt)}else b.qo().Go("Ignored event:",se.toString(e.Dt),"during state",X.yt(t),e.Lt)},_r:function(e){var t=e.Dt,n=e.Lt,r=b.Xo().Yo();if(t!=se.LOAD&&t!=se.ENGAGE||r==oe.IDLE){var i,a,o,s,c=!0,u=!1,l=!0;if(t==se.ERROR&&null==n.ns_st_er&&(n.ns_st_er=he.Sn),t==se.TRANSFER&&null==n.ns_st_rp&&(n.ns_st_rp=he.Sn),t==se.PLAYBACK_RATE){var d=parseInt(n.ns_st_rt);0!=d&&!isNaN(d)||(l=!1,M.Hf("6"),n.ns_st_rt=b.Dr().Ar().ps()+"")}if(t==se.VOLUME){var p=parseInt(n.ns_st_vo);(p<0||isNaN(p))&&(l=!1,M.Hf("7"),n.ns_st_vo=N.ns_st_vo)}switch(t){case se.BIT_RATE:i="ns_st_br",a="ns_st_pbr";break;case se.PLAYBACK_RATE:i="ns_st_rt",a="ns_st_prt";break;case se.VOLUME:i="ns_st_vo",a="ns_st_pvo";break;case se.WINDOW_STATE:i="ns_st_ws",a="ns_st_pws";break;case se.AUDIO:i="ns_st_at",a="ns_st_pat";break;case se.VIDEO:i="ns_st_vt",a="ns_st_pvt";break;case se.SUBS:i="ns_st_tt",a="ns_st_ptt";break;case se.CDN:i="ns_st_cdn",a="ns_st_pcdn";break;default:c=!1}var f=b.Dr(),h=f.Ar();if(c&&i in n)switch(s=n[i],t){case se.BIT_RATE:case se.VOLUME:case se.WINDOW_STATE:i in N&&(o=N[i],u=s==(n[a]=o)+""),N[i]=n[i];break;case se.AUDIO:case se.VIDEO:case se.SUBS:case se.CDN:h.du(i)&&(o=h.lu(i),u=s==(n[a]=o)+""),h.Zo(i,n[i]);break;case se.PLAYBACK_RATE:o=h.ps(),n[a]=o+""}if(c&&r!=oe.PLAYING&&r!=oe.BUFFERING_DURING_PLAYBACK||c&&u&&l)return t==se.PLAYBACK_RATE&&h.hs(parseInt(n.ns_st_rt)),void b.qo().Go("No measurement send for the pseudo-event:",se.toString(t),"during state",X.yt(r),n);var _=isNaN(E)?I:E;E=e.Tt,ee.Bt().yi(e.Tt);var g=!1;B&&(g=!(B=null),e.Tt=_),h.Ss()?f.ao(r,null,e.Tt):f.zr(r,null,e.Tt),r==oe.IDLE&&f.yo();var m=h.$r();f.Io(),r!=oe.IDLE&&r!=oe.PLAYBACK_NOT_STARTED&&r!=oe.SEEKING_BEFORE_PLAYBACK&&r!=oe.BUFFERING_BEFORE_PLAYBACK&&(h.Nu(e.Tt),h.Ru(e.Tt)),r==oe.PLAYING&&(f.Fr(e.Tt),f.Kr(e.Tt),h.Fr(e.Tt),h.Kr(e.Tt),h.gs(m),h.Du(m),h.Cu(),h.Pu(m),b.Kf().pause(),b.Kf().resume()),r!=oe.BUFFERING_BEFORE_PLAYBACK&&r!=oe.BUFFERING_DURING_PAUSE&&r!=oe.BUFFERING_DURING_PLAYBACK&&r!=oe.BUFFERING_DURING_SEEKING||(f.Vr(e.Tt),f.jr(e.Tt),h.Vr(e.Tt),h.jr(e.Tt));var v=M.Fn(t,e);h.Fo(v.Jf),h._u(v.Jf),f.Fo(v.Jf),b.Yf().dispatchEvent(v),t==se.PLAYBACK_RATE&&h.hs(parseInt(n.ns_st_rt)),g&&(h.Qr(m),h.Zr(E),r==oe.PLAYING&&(f.Kr(E),h.Kr(E)),r!=oe.IDLE&&r!=oe.PLAYBACK_NOT_STARTED&&r!=oe.SEEKING_BEFORE_PLAYBACK&&r!=oe.BUFFERING_BEFORE_PLAYBACK&&h.Ru(E),r!=oe.BUFFERING_BEFORE_PLAYBACK&&r!=oe.BUFFERING_DURING_PAUSE&&r!=oe.BUFFERING_DURING_PLAYBACK&&r!=oe.BUFFERING_DURING_SEEKING&&r!=oe.PAUSED_DURING_BUFFERING||(f.jr(E),h.jr(E)),r!=oe.SEEKING_BEFORE_PLAYBACK&&r!=oe.SEEKING_DURING_BUFFERING&&r!=oe.SEEKING_DURING_PAUSE&&r!=oe.SEEKING_DURING_PLAYBACK&&r!=oe.BUFFERING_DURING_SEEKING||h.Gu(E))}else b.qo().Go("Ignored pseudo-event:",se.toString(t),"during state",X.yt(r),n)},addListener:function(e){D.push(e)},removeListener:function(e){D.splice(Z.indexOf(e,D),1)},addMeasurementListener:function(e){te.Nn(e)&&k.push(e)},removeMeasurementListener:function(e){var t=k.indexOf(e);-1!=t&&k.splice(t,1)},hr:function(){return ge},hc:function(){return t},gc:function(e){t=e},mc:function(){return n},setLoadTimeOffset:function(e){n=e},yc:function(){return I},Sc:function(){return i},wc:function(){return L},bc:function(e){M.Ic(),a=M.hr().setTimeout(function(){var e=new ie(se.PAUSE_ON_BUFFERING);M.zo(e)},r)},Ic:function(){null!=a&&(M.hr().clearTimeout(a),a=null)},tu:function(){T=!0},Gf:function(){return b},iu:function(e){var t=b.Dr();b.Ec(new ae(b)),b.Dr().Co(s),ae.iu(b,t,e),O=[]},Pc:function(){b.Kf().reset()},setProjectId:function(e){N.cs_proid=e}}),b=new Q(M),P=new re(e||{}),M.jf=new ne(P),b.Ac(P),b.Dc(_e),b.Cc(new ue(b)),b.Lc(new le(b)),b.Tc(new de(P,_e)),b.Yf().Nc(function(){S=_e.configuration.Di()}),b.Oc(new fe),b.Rc(new pe("STA",b.kc().configuration.Vi())),b.Ec(new ae(b)),b.Dr().Co(s),S=[],l=new c(b),d=new u(b),p=new F(b),f=new V(b),h=new j(b),_=new G(b),g=new q(b),m=new H(b),v=new Y(b),C=new K(b),y=new W(b),A=new J(b),w=new z(b),t=!1,n=0,I=+new Date,i=!0,O=[],D=[],k=[],(N={}).ns_st_vo="100",B=null,i=(o=P).Mc,r=o.Uc,L=o.xc}r.Wc=500,r.Fc=!0,r.Bc=!0,e.exports=r},function(e,t,n){var r=n(0),s=n(1).I;e.exports=function(o){r.extend(this,{Zf:function(e){var t=o.Dr(),n=t.Ar(),r=e.Tt;t.Io(),t.Do(),n.Fu()&&n.Ju(n.Xu()),t.jr(r),n.jr(r),n.Ru(r)},nc:function(e){var t=o.Dr(),n=t.Ar(),r=n.$r(),i=e.Tt;t.Io(),t.Do(),n.Fu()&&n.Ju(n.Xu()),n.Iu(),n.Wu(!0),n.Bu(!0),n.zu(r),n.Gu(i),n.Ru(i)},tc:function(e){var t=o.Dr(),n=t.Ar(),r=n.$r(),i=e.Tt;t.Io(),t.Do(),!n._s()&&0!=t.Lo()||(t.To(),n.Wo(!1)),n.Fu()&&(n.Ju(n.Xu()),n.ns(r),n.Wu(!1)),t.Oo(),n.qu(!0),n.xo(!0),n.rs(),(0==n.fs()||n.wo()<=n.fs())&&(n.Uo(n.wo()),n.os(),n.Ao(0),n.us()),n.Oo(),n.xr(),t.Kr(i),n.Kr(i),n.Ru(i),n.Pu(r),o.pr().hc()||(e.Lt.ns_st_lt=o.pr().mc()+i-o.pr().yc()+"",o.pr().gc(!0)),o.Kf().resume(),o.Vc().start();var a=o.pr().Fn(s.PLAY,e);n.Fo(a.Jf),n._u(a.Jf),t.Fo(a.Jf),o.Yf().dispatchEvent(a)}})}},function(e,t,n){var r=n(0),s=n(1).I;e.exports=function(o){r.extend(this,{ec:function(e){var t=o.Dr(),n=t.Ar(),r=e.Tt;o.pr().Pc(),o.Vc().stop(),n.Nu(r);var i=o.pr().Fn(s.END,e);n.Fo(i.Jf),n._u(i.Jf),t.Fo(i.Jf),o.Yf().dispatchEvent(i),n.Fu()&&n.Vu()&&(n.Yu(r-n.ju()),n.Wu(!1)),n.es(),n.qu(!1)},tc:function(e){var t=o.Dr(),n=t.Ar(),r=n.$r(),i=e.Tt;t.Oo(),n.Fu()&&(n.Vu()&&(n.Hu(i),n.Bu(!1)),n.ns(r),n.Wu(!1)),n.xr(),n.Oo(),t.Kr(i),n.Kr(i),n.Nu(i),n.Ru(i),n.Pu(r),o.Kf().resume(),o.Vc().start();var a=o.pr().Fn(s.PLAY,e);n.Fo(a.Jf),n._u(a.Jf),t.Fo(a.Jf),o.Yf().dispatchEvent(a)}})}},function(e,t,n){var r=n(0),s=n(1).I;e.exports=function(o){r.extend(this,{ec:function(e){var t=o.Dr().Ar(),n=e.Tt;t.Fu()&&t.Vu()&&(t.Yu(n-t.ju()),t.Bu(!1)),t.Nu(n),t.es(),t.qu(!1)},nc:function(e){var t=o.Dr().Ar(),n=t.$r(),r=e.Tt;t.Fu()?t.Gu(r):t.Iu(),t.Fu()||(t.Wu(!0),t.Bu(!0),t.zu(n),t.Gu(r))},tc:function(e){var t=o.Dr(),n=t.Ar(),r=n.$r(),i=e.Tt;n.Fu()&&(n.ns(r),n.Wu(!1)),!n._s()&&0!=t.Lo()||(t.To(),n.Wo(!1)),t.Oo(),n.qu(!0),n.xo(!0),n.rs(),(0==n.fs()||n.wo()<=n.fs())&&(n.Uo(n.wo()),n.os(),n.Ao(0),n.us()),n.Oo(),n.xr(),t.Kr(i),n.Kr(i),n.Nu(i),n.Ru(i),n.Pu(r),o.pr().hc()||(e.Lt.ns_st_lt=o.pr().mc()+i-o.pr().yc()+"",o.pr().gc(!0)),o.Kf().resume(),o.Vc().start();var a=o.pr().Fn(s.PLAY,e);n.Fo(a.Jf),n._u(a.Jf),t.Fo(a.Jf),o.Yf().dispatchEvent(a)},Zf:function(e){var t=o.Dr(),n=t.Ar(),r=e.Tt;t.jr(r),n.jr(r)}})}},function(e,t,n){var r=n(0),s=n(1).I;e.exports=function(o){r.extend(this,{ec:function(e){var t=o.Dr(),n=t.Ar(),r=n.$r(),i=e.Tt;o.pr().Pc(),o.Vc().stop(),t.Fr(i),n.Fr(i),n.gs(r),n.Nu(i),n.Du(r),n.Cu();var a=o.pr().Fn(s.END,e);n.Fo(a.Jf),n._u(a.Jf),t.Fo(a.Jf),o.Yf().dispatchEvent(a),n.es(),n.qu(!1)},Zf:function(e){var t=o.Dr(),n=t.Ar(),r=n.$r(),i=e.Tt;o.Kf().pause(),o.Vc().stop(),t.Fr(i),n.Fr(i),n.gs(r),n.Du(r),n.Cu(),o.pr().Sc()&&o.pr().bc(e),n.ls(),t.jr(i),n.jr(i),n.Nu(i),n.Ru(i)},nc:function(e){var t=o.Dr(),n=t.Ar(),r=n.$r(),i=e.Tt;o.Kf().pause(),o.Vc().stop(),t.Fr(i),n.Fr(i),n.gs(r),n.Du(r),n.Cu(),n.Iu(),n.Wu(!0),n.Bu(!0),n.zu(r),n.Gu(i),n.Nu(i),n.Ru(i),t.Wr(),n.Wr();var a=o.pr().Fn(s.PAUSE,e);n.Fo(a.Jf),n._u(a.Jf),t.Fo(a.Jf),o.Yf().dispatchEvent(a)},ic:function(e){var t=o.Dr(),n=t.Ar(),r=n.$r(),i=e.Tt;o.Kf().pause(),o.Vc().stop(),t.Fr(i),n.Fr(i),n.gs(r),n.Du(r),n.Cu(),n.Nu(i),n.Ru(i),t.Wr(),n.Wr();var a=o.pr().Fn(s.PAUSE,e);n.Fo(a.Jf),n._u(a.Jf),t.Fo(a.Jf),o.Yf().dispatchEvent(a)}})}},function(e,t,n){var r=n(0),s=n(1).I;e.exports=function(o){r.extend(this,{ec:function(e){var t=o.Dr(),n=t.Ar(),r=e.Tt;t.Vr(r),n.Vr(r),n.Fu()&&n.Vu()&&n.Yu(r-n.ju()),n.Nu(r),n.es(),n.qu(!1)},uc:function(e){var t=o.Dr(),n=t.Ar(),r=e.Tt;t.Vr(r),n.Vr(r),n.Fu()&&n.Vu()&&(n.Hu(r),n.Bu(!1))},nc:function(e){var t=o.Dr(),n=t.Ar(),r=n.$r(),i=e.Tt;t.Vr(i),n.Vr(i),n.Fu()?n.Vu()||(n.Gu(i),n.Bu(!0)):n.Iu(),n.Fu()||(n.Wu(!0),n.Bu(!0),n.zu(r),n.Gu(i))},ic:function(e){var t=o.Dr(),n=t.Ar(),r=e.Tt;t.Vr(r),n.Vr(r),n.Fu()&&n.Vu()&&(n.Hu(r),n.Bu(!1))},tc:function(e){var t=o.Dr(),n=t.Ar(),r=n.$r(),i=e.Tt;t.Vr(i),n.Vr(i),n.Fu()&&(n.Vu()&&(n.Hu(i),n.Bu(!1)),n.ns(r),n.Wu(!1)),n.qu(!0),n.xo(!0),!n._s()&&0!=t.Lo()||(t.To(),n.Wo(!1)),t.Oo(),n.qu(!0),n.rs(),n.xr(),t.Kr(i),n.Kr(i),n.Nu(i),n.Ru(i),n.Pu(r),(0==n.fs()||n.wo()<=n.fs())&&(n.Uo(n.wo()),n.os(),n.Ao(0),n.us()),n.Oo(),o.pr().hc()||(e.Lt.ns_st_lt=o.pr().mc()+i-o.pr().yc()+"",o.pr().gc(!0)),o.Kf().resume(),o.Vc().start();var a=o.pr().Fn(s.PLAY,e);n.Fo(a.Jf),n._u(a.Jf),t.Fo(a.Jf),o.Yf().dispatchEvent(a)}})}},function(e,t,n){var r=n(0),s=n(1).I;e.exports=function(o){r.extend(this,{sc:function(e){var t=o.Dr(),n=t.Ar(),r=e.Tt;o.pr().Ic(),n.Nu(r),n.Ru(r),t.Vr(r),n.Vr(r),t.Wr(),n.Wr();var i=o.pr().Fn(s.PAUSE,e);n.Fo(i.Jf),n._u(i.Jf),t.Fo(i.Jf),o.Yf().dispatchEvent(i),t.jr(r),n.jr(r)},ec:function(e){var t=o.Dr(),n=t.Ar(),r=e.Tt;o.pr().Ic(),o.pr().Pc(),o.Vc().stop(),t.Vr(r),n.Vr(r),n.Nu(r);var i=o.pr().Fn(s.END,e);n.Fo(i.Jf),n._u(i.Jf),t.Fo(i.Jf),o.Yf().dispatchEvent(i),n.es(),n.qu(!1)},nc:function(e){var t=o.Dr(),n=t.Ar(),r=n.$r(),i=e.Tt;o.pr().Ic(),o.Kf().pause(),o.Vc().stop(),n.Nu(i),n.Ru(i),t.Vr(i),n.Vr(i),n.Iu(),n.Wu(!0),n.Bu(!0),n.zu(r),n.Gu(i),t.Wr(),n.Wr();var a=o.pr().Fn(s.PAUSE,e);n.Fo(a.Jf),n._u(a.Jf),t.Fo(a.Jf),o.Yf().dispatchEvent(a)},ic:function(e){var t=o.Dr(),n=t.Ar(),r=e.Tt;o.pr().Ic(),n.Nu(r),n.Ru(r),t.Vr(r),n.Vr(r),t.Wr(),n.Wr();var i=o.pr().Fn(s.PAUSE,e);n.Fo(i.Jf),n._u(i.Jf),t.Fo(i.Jf),o.Yf().dispatchEvent(i)}})}},function(e,t,n){var r=n(0),s=n(1).I;e.exports=function(o){r.extend(this,{ec:function(e){var t=o.Dr(),n=t.Ar(),r=e.Tt;o.pr().Pc(),o.Vc().stop(),o.pr().Ic(),t.Vr(r),n.Vr(r),n.Nu(r);var i=o.pr().Fn(s.END,e);n.Fo(i.Jf),n._u(i.Jf),t.Fo(i.Jf),o.Yf().dispatchEvent(i),n.Fu()&&n.Vu()&&(n.Yu(r-n.ju()),n.Bu(!1)),n.es(),n.qu(!1)},ic:function(e){var t=o.Dr(),n=t.Ar(),r=e.Tt;t.Vr(r),n.Vr(r),t.Wr(),n.Wr(),n.Fu()&&n.Vu()&&(n.Hu(r),n.Bu(!1)),n.Nu(r),n.Ru(r)},tc:function(e){var t=o.Dr(),n=t.Ar(),r=n.$r(),i=e.Tt;t.Oo(),n.Oo(),n.xr(),t.Vr(i),n.Vr(i),n.Fu()&&(n.Vu()&&(n.Hu(i),n.Bu(!1)),n.ns(r),n.Wu(!1)),n.Nu(i),n.Ru(i),t.Kr(i),n.Kr(i),n.Pu(r),o.Kf().resume(),o.Vc().start();var a=o.pr().Fn(s.PLAY,e);n.Fo(a.Jf),n._u(a.Jf),t.Fo(a.Jf),o.Yf().dispatchEvent(a)}})}},function(e,t,n){var r=n(0),s=n(1).I;e.exports=function(o){r.extend(this,{cc:function(e){var t=o.Dr(),n=t.Ar(),r=e.Tt;o.pr().Pc(),o.Vc().stop(),t.Vr(r),n.Vr(r),n.Nu(r);var i=o.pr().Fn(s.END,e);n.Fo(i.Jf),n._u(i.Jf),t.Fo(i.Jf),o.Yf().dispatchEvent(i),n.Fu()&&n.Vu()&&(n.Yu(r-n.ju()),n.Bu(!1)),n.es(),n.qu(!1)},ic:function(e){var t=o.Dr(),n=t.Ar(),r=e.Tt;t.Vr(r),n.Vr(r),n.Nu(r),n.Ru(r)},tc:function(e){var t=o.Dr(),n=t.Ar(),r=n.$r(),i=e.Tt;t.Oo(),n.Oo(),n.xr(),t.Vr(i),n.Vr(i),n.Fu()&&(n.Vu()&&(n.Hu(i),n.Bu(!1)),n.ns(r),n.Wu(!1)),n.Nu(i),n.Ru(i),t.Kr(i),n.Kr(i),n.Pu(r),o.Kf().resume(),o.Vc().start();var a=o.pr().Fn(s.PLAY,e);n.Fo(a.Jf),n._u(a.Jf),t.Fo(a.Jf),o.Yf().dispatchEvent(a)}})}},function(e,t,n){var r=n(0),s=n(1).I;e.exports=function(o){r.extend(this,{ec:function(e){var t=o.Dr(),n=t.Ar(),r=e.Tt;o.pr().Pc(),o.Vc().stop(),t.Vr(r),n.Vr(r),n.Nu(r),n.Fu()&&n.Vu()&&(n.Yu(r-n.ju()),n.Bu(!1));var i=o.pr().Fn(s.END,e);n.Fo(i.Jf),n._u(i.Jf),t.Fo(i.Jf),o.Yf().dispatchEvent(i),n.es(),n.qu(!1)},nc:function(e){var t=o.Dr(),n=t.Ar(),r=n.$r(),i=e.Tt;t.Vr(i),n.Vr(i),n.Fu()?n.Vu()||(n.Gu(i),n.Bu(!0)):n.Iu(),n.Fu()||(n.Wu(!0),n.Bu(!0),n.zu(r),n.Gu(i)),n.Nu(i),n.Ru(i)},ic:function(e){var t=o.Dr(),n=t.Ar(),r=e.Tt;t.Vr(r),n.Vr(r),n.Nu(r),n.Ru(r)},pc:function(e){var t=o.Dr(),n=t.Ar(),r=n.$r(),i=e.Tt;t.Oo(),n.Oo(),t.Vr(i),n.Vr(i),n.xr(),t.Kr(i),n.Kr(i),n.Nu(i),n.Ru(i),n.Pu(r),o.Kf().resume(),o.Vc().start();var a=o.pr().Fn(s.PLAY,e);n.Fo(a.Jf),n._u(a.Jf),t.Fo(a.Jf),o.Yf().dispatchEvent(a)}})}},function(e,t,n){var r=n(0),s=n(1).I;e.exports=function(o){r.extend(this,{ec:function(e){var t=o.Dr().Ar(),n=e.Tt;t.Fu()&&t.Vu()&&(t.Yu(n-t.ju()),t.Bu(!1)),t.Nu(n),t.es(),t.qu(!1)},ic:function(e){var t=o.Dr().Ar(),n=e.Tt;t.Fu()&&t.Vu()&&(t.Hu(n),t.Bu(!1))},tc:function(e){var t=o.Dr(),n=t.Ar(),r=n.$r(),i=e.Tt;n.Fu()&&(n.Vu()&&(n.Hu(i),n.Bu(!1)),n.ns(r),n.Wu(!1)),!n._s()&&0!=t.Lo()||(t.To(),n.Wo(!1)),t.Oo(),n.qu(!0),n.xo(!0),n.rs(),(0==n.fs()||n.wo()<=n.fs())&&(n.Uo(n.wo()),n.os(),n.Ao(0),n.us()),n.Oo(),n.xr(),t.Kr(i),n.Kr(i),n.Nu(i),n.Ru(i),n.Pu(r),o.pr().hc()||(e.Lt.ns_st_lt=o.pr().mc()+i-o.pr().yc()+"",o.pr().gc(!0)),o.Kf().resume(),o.Vc().start();var a=o.pr().Fn(s.PLAY,e);n.Fo(a.Jf),n._u(a.Jf),t.Fo(a.Jf),o.Yf().dispatchEvent(a)}})}},function(e,t,n){var r=n(0);e.exports=function(i){r.extend(this,{ic:function(e){var t=i.Dr(),n=t.Ar(),r=e.Tt;t.Wr(),n.Wr(),n.Fu()&&n.Vu()&&(n.Hu(r),n.Bu(!1)),n.Nu(r),n.Ru(r)}})}},function(e,t,n){var r=n(0),s=n(1).I;e.exports=function(o){r.extend(this,{ec:function(e){var t=o.Dr(),n=t.Ar(),r=e.Tt;o.pr().Pc(),o.Vc().stop(),n.Nu(r);var i=o.pr().Fn(s.END,e);n.Fo(i.Jf),n._u(i.Jf),t.Fo(i.Jf),o.Yf().dispatchEvent(i),n.Fu()&&n.Vu()&&(n.Yu(r-n.ju()),n.Bu(!1)),n.es(),n.qu(!1)},tc:function(e){var t=o.Dr(),n=t.Ar(),r=n.$r(),i=e.Tt;t.Oo(),n.Oo(),n.xr(),n.Fu()&&(n.Vu()&&(n.Hu(i),n.Bu(!1)),n.ns(r),n.Wu(!1)),n.Nu(i),n.Ru(i),t.Kr(i),n.Kr(i),n.Pu(r),o.pr().hc()||(e.Lt.ns_st_lt=o.pr().mc()+i-o.pr().yc()+"",o.pr().gc(!0)),o.Kf().resume(),o.Vc().start();var a=o.pr().Fn(s.PLAY,e);n.Fo(a.Jf),n._u(a.Jf),t.Fo(a.Jf),o.Yf().dispatchEvent(a)}})}},function(e,t,n){var r=n(0),s=n(1).I;e.exports=function(o){r.extend(this,{oc:function(e){var t=o.Dr().Ar(),n=t.$r(),r=e.Tt;t.Fu()?t.Vu()||(t.Gu(r),t.Bu(!0)):t.Iu(),t.Fu()||(t.Wu(!0),t.Bu(!0),t.zu(n),t.Gu(r)),t.Nu(r),t.Ru(r)},rc:function(e){var t=o.Dr(),n=t.Ar(),r=e.Tt;t.jr(r),n.jr(r),n.Nu(r),n.Ru(r)},dc:function(e){var t=o.Dr(),n=t.Ar(),r=n.$r(),i=e.Tt;t.Oo(),n.Oo(),n.Fu()&&(n.Vu()&&(n.Hu(i),n.Bu(!1)),n.ns(r),n.Wu(!1)),n.xr(),t.Kr(i),n.Kr(i),n.Nu(i),n.Ru(i),n.Pu(r),o.Kf().resume(),o.Vc().start();var a=o.pr().Fn(s.PLAY,e);n.Fo(a.Jf),n._u(a.Jf),t.Fo(a.Jf),o.Yf().dispatchEvent(a)},fc:function(e){var t=o.Dr(),n=t.Ar(),r=e.Tt;t.Vr(r),n.Vr(r),n.Nu(r),n.Ru(r)},lc:function(e){var t=o.Dr().Ar(),n=e.Tt;t.Fu()&&t.Vu()&&(t.Hu(n),t.Bu(!1)),t.Nu(n),t.Ru(n)},vc:function(e){var t=o.Dr(),n=t.Ar(),r=e.Tt;o.pr().Pc(),o.Vc().stop(),n.Nu(r);var i=o.pr().Fn(s.END,e);n.Fo(i.Jf),n._u(i.Jf),t.Fo(i.Jf),o.Yf().dispatchEvent(i),n.Fu()&&n.Vu()&&(n.Yu(r-n.ju()),n.Bu(!1)),n.es(),n.qu(!1)},_c:function(e){var t=o.Dr().Ar(),n=e.Tt;t.Fu()&&t.Vu()&&(t.Hu(n),t.Bu(!1)),t.Nu(n),t.Ru(n)},ac:function(e){var t=o.Dr(),n=t.Ar(),r=n.$r(),i=e.Tt;o.pr().Ic(),t.Vr(i),n.Vr(i),t.Kr(i),n.Kr(i),n.Pu(r),n.Nu(i),n.Ru(i),o.Kf().resume(),o.Vc().start()}})}},function(e,t,n){var u=n(0);e.exports=function(e){var t,n,r,i,a,o,s,c;u.extend(this,{kc:function(){return n},pr:function(){return e},getConfiguration:function(){return t},Yf:function(){return r},Xo:function(){return i},Kf:function(){return a},Vc:function(){return o},Dr:function(){return s},qo:function(){return c},Ac:function(e){t=e},Dc:function(e){n=e},Cc:function(e){o=e},Lc:function(e){a=e},Tc:function(e){r=e},Oc:function(e){i=e},Ec:function(e){s=e},Rc:function(e){c=e}})}},function(e,t,n){var r=n(0);e.exports=function(e){r.extend(this,{addLabels:e.addLabels,setLabel:e.setLabel,removeLabel:e.removeLabel,removeAllLabels:e.removeAllLabels,getStreamingPublisherConfiguration:e.getStreamingPublisherConfiguration})}},function(e,t,n){var o=n(0),s=n(7),c=n(45),u=n(46),l=n(47),d=n(53),p=n(114),f={Mc:"pauseOnBuffering",Uc:"pauseOnBufferingInterval",xc:"exitEndEvent",gr:"keepAliveMeasurement",mr:"keepAliveInterval",Tr:"heartbeatMeasurement",Nr:"heartbeatIntervals",Qf:"includedPublishers",nu:"autoResumeStateOnAssetChange",ws:"playbackIntervalMergeTolerance",labels:"labels",bs:"customStartMinimumPlayback"};e.exports=function(e){var n=this,t="",r={};for(var i in n.Mc=!0,n.Uc=500,n.xc=!0,n.gr=c.ENABLED,n.mr=c.yr,n.Tr=u.ENABLED,n.Nr=u.Or,n.Qf=[],n.nu=l.ru,n.ws=d.Is,n.labels={},n.bs=d.Ps,f){var a=e[f[i]];null!=a&&(n[i]=a)}n.mr=n.mr<c.Sr?c.Sr:n.mr,n.Uc=n.Uc<300?300:n.Uc,n.ws=n.ws<d.Es?d.Es:n.ws,n.mr=1e3*Math.floor(n.mr/1e3),n.Uc=100*Math.floor(n.Uc/100),n.ws=100*Math.floor(n.ws/100),n.bs=1e3*Math.floor(n.bs/1e3),t+=n.Mc?"1":"0",t+=n.gr?"1":"0",t+=n.Tr?"1":"0",t+=n.nu?"1":"0",t+=n.xc?"1":"0",t+=u.Rr(n.Nr,u.Or)?"0":"1",t+=0<n.Qf.length?"1":"0",t+=n.ws!=d.Is?"1":"0",t+=n.bs!=d.qc?"1":"0",t+="-"+(n.Uc/100).toString(16),t+="-"+(n.mr/1e3).toString(16),t+="-"+(n.bs/1e3).toString(16),t+="-"+(n.ws/100).toString(16),n.Xf=function(){return t},o.extend(n,{getLabels:function(){return n.labels},addLabels:function(e){s.Fn(n.labels,e)},setLabel:function(e,t){s.Wn(n.labels,e,t)},removeLabel:function(e){delete n.labels[e]},removeAllLabels:function(){n.labels={}},getStreamingPublisherConfiguration:function(e){return r[e]=r[e]||new p,r[e]},zf:function(){return r}})}},function(e,t){var n=n||{};n.Gc=function(e){return e.replace(/&#x([0-9A-Fa-f]{2})/g,function(){return String.fromCharCode(parseInt(arguments[1],16))})},n.au=function(e,t){var n=t+"";return Array(e).join("0").substring(0,Math.max(e-n.length,0))+n},e.exports=n},function(e,t,n){var i=n(0),a=n(48);e.exports=function(){var n=null,r={};i.extend(this,{Eo:function(e){var t=e.io();r[t]=e,a.eo(e.dr("ns_st_ad"))||(n=e)},jo:function(e){return!!r[e]},Ar:function(e){return r[e]},to:function(){return n}})}},function(e,t,n){var r=n(0),i=n(7);e.exports=function(){var n;r.extend(this,{setLabel:function(e,t){i.Wn(n,e,t)},removeLabel:function(e){delete n[e]},addLabels:function(e){i.Fn(n,e)},removeAllLabels:function(){n={}},getLabels:function(){return n}}),n={}}},function(e,t,n){var d=n(0),p=n(1).I,f=n(28);e.exports=function(a,o){var e,s,c,t,n=this;function u(){for(var e=0;e<s.length;++e){var t=s[e];o.ve(t)}s=[]}function l(e){switch(e){case f.TIME_WINDOW_ELAPSED:t=!0,i()&&r();break;case f.PUBLISHER:t&&i()&&r()}}function r(){for(var e=0;e<c.length;++e)c[e]();o.configuration.removeListener(l);var t=o.configuration.Di();for(e=0;e<s.length;++e)for(var n=s[e],r=0;r<t.length;r++){var i=t[r];0<a.Qf.length&&-1==a.Qf.indexOf(i)||n.addIncludedPublisher(i)}u()}function i(){var e=o.configuration.Di();if(0==a.Qf.length)return!0;for(var t=0;t<e.length;++t)if(-1!=a.Qf.indexOf(e[t]))return!0;return!1}d.extend(this,{dispatchEvent:function(e){e.jc!=p.HEARTBEAT&&n.Hc(),s.push(e.Ef),t&&i()&&u()},Nc:function(e){c.push(e)},le:function(){return e},Hc:function(){e++}}),e=1,s=[],c=[],(t=o.configuration.Fi())&&i()||o.configuration.addListener(l)}},function(e,t){e.exports=function(n,a){function t(e){e=e||[];var t=["comScore",+new Date];return n&&t.push(n),e=Array.prototype.slice.call(e),t.concat(e)}function r(e){var t,n,r;if("boolean"==typeof a||!a)return!!a;if(r=e.join(" "),a instanceof Array&&0<a.length){for(t=0;t<a.length;++t)if((n=a[t])instanceof RegExp&&n.test(r))return!0;return!1}if("object"!=typeof a)return!0;var i=!1;if(a.hide instanceof Array)for(t=0;t<a.hide.length;++t)if((n=a.hide[t])instanceof RegExp&&n.test(r)){i=!0;break}if(a.show instanceof Array)for(t=0;t<a.show.length;++t)if((n=a.show[t])instanceof RegExp&&n.test(r))return!0;return!i&&!a.show}this.log=function(){var e=t(arguments);"undefined"!=typeof console&&"function"==typeof console.log&&r(e)&&console.log.apply(console,e)},this.warn=function(){var e=t(arguments);"undefined"!=typeof console&&"function"==typeof console.warn&&r(e)&&console.warn.apply(console,e)},this.error=function(){var e=t(arguments);"undefined"!=typeof console&&"function"==typeof console.error&&r(e)&&console.error.apply(console,e)},this.Vo=function(e){for(var t=["API call to:",e],n=1;n<arguments.length;++n)t.push("arg"+n+":",arguments[n]);this.log.apply(this,t)},this.Go=function(){var e=["Trace log:"];e.push.apply(e,Array.prototype.slice.call(arguments)),this.log.apply(this,e)},this.Kc=function(e,t){var n=["Deprecated API:",e,"is deprecated and will be eventually removed."];t&&n.push("Use",t,"instead."),this.warn.apply(this,n)}}},function(e,t,n){var s=n(1).P,c=n(0),u=n(1).I;e.exports=function(e){var r,i,a,o=this;c.extend(o,{$f:function(e){if(a==s.IDLE){if(e==u.PLAY)return s.PLAYING;if(e==u.SEEK_START)return s.SEEKING_BEFORE_PLAYBACK;if(e==u.BUFFER)return s.BUFFERING_BEFORE_PLAYBACK}else if(a==s.PLAYBACK_NOT_STARTED){if(e==u.PLAY)return s.PLAYING;if(e==u.SEEK_START)return s.SEEKING_BEFORE_PLAYBACK;if(e==u.BUFFER)return s.BUFFERING_BEFORE_PLAYBACK;if(e==u.END||e==u.AD_SKIP)return s.IDLE}else if(a==s.PLAYING){if(e==u.END||e==u.AD_SKIP)return s.IDLE;if(e==u.BUFFER)return s.BUFFERING_DURING_PLAYBACK;if(e==u.PAUSE)return s.PAUSED;if(e==u.SEEK_START)return s.SEEKING_DURING_PLAYBACK}else if(a==s.PAUSED){if(e==u.END||e==u.AD_SKIP)return s.IDLE;if(e==u.BUFFER)return s.BUFFERING_DURING_PAUSE;if(e==u.PLAY)return s.PLAYING;if(e==u.SEEK_START)return s.SEEKING_DURING_PAUSE}else if(a==s.BUFFERING_BEFORE_PLAYBACK){if(e==u.END||e==u.AD_SKIP)return s.IDLE;if(e==u.PAUSE||e==u.BUFFER_STOP)return s.PLAYBACK_NOT_STARTED;if(e==u.PLAY)return s.PLAYING;if(e==u.SEEK_START)return s.SEEKING_BEFORE_PLAYBACK}else if(a==s.BUFFERING_DURING_PLAYBACK){if(e==u.END||e==u.AD_SKIP)return s.IDLE;if(e==u.PLAY||e==u.BUFFER_STOP)return s.PLAYING;if(e==u.PAUSE_ON_BUFFERING)return s.PAUSED_DURING_BUFFERING;if(e==u.SEEK_START)return s.SEEKING_DURING_BUFFERING;if(e==u.PAUSE)return s.PAUSED}else if(a==s.BUFFERING_DURING_SEEKING){if(e==u.END||e==u.AD_SKIP)return s.IDLE;if(e==u.PLAY)return s.PLAYING;if(e==u.BUFFER_STOP)return s.SEEKING_DURING_PLAYBACK;if(e==u.PAUSE)return s.PAUSED}else if(a==s.BUFFERING_DURING_PAUSE){if(e==u.END||e==u.AD_SKIP)return s.IDLE;if(e==u.PLAY)return s.PLAYING;if(e==u.SEEK_START)return s.SEEKING_DURING_PAUSE;if(e==u.BUFFER_STOP||e==u.PAUSE)return s.PAUSED}else if(a==s.SEEKING_BEFORE_PLAYBACK){if(e==u.END||e==u.AD_SKIP)return s.IDLE;if(e==u.PAUSE)return s.PLAYBACK_NOT_STARTED;if(e==u.PLAY)return s.PLAYING;if(e==u.BUFFER)return s.BUFFERING_BEFORE_PLAYBACK}else if(a==s.SEEKING_DURING_PLAYBACK){if(e==u.END||e==u.AD_SKIP)return s.IDLE;if(e==u.PLAY)return s.PLAYING;if(e==u.PAUSE)return s.PAUSED;if(e==u.BUFFER)return s.BUFFERING_DURING_SEEKING}else if(a==s.SEEKING_DURING_BUFFERING){if(e==u.END||e==u.AD_SKIP)return s.IDLE;if(e==u.PLAY)return s.PLAYING;if(e==u.PAUSE||e==u.BUFFER_STOP)return s.PAUSED;if(e==u.BUFFER)return s.BUFFERING_DURING_SEEKING}else if(a==s.SEEKING_DURING_PAUSE){if(e==u.END||e==u.AD_SKIP)return s.IDLE;if(e==u.PLAY)return s.PLAYING;if(e==u.PAUSE||e==u.BUFFER_STOP)return s.PAUSED;if(e==u.BUFFER)return s.BUFFERING_DURING_PAUSE}else if(a==s.PAUSED_DURING_BUFFERING){if(e==u.END||e==u.AD_SKIP)return s.IDLE;if(e==u.SEEK_START)return s.SEEKING_DURING_BUFFERING;if(e==u.PAUSE)return s.PAUSED;if(e==u.PLAY||e==u.BUFFER_STOP)return s.PLAYING}return null},Yo:function(){return a},zo:function(e,t){var n=o.$f(e);a!=n&&(i=a,a=n,r=t)},Jc:function(){return i},Yc:function(){return r}}),a=s.IDLE,i=null,r=NaN}},function(e,t){e.exports=function(e,t,n){this.jc=e,this.Ef=t,this.Jf=n}},function(e,t,n){var r=n(0),c=n(7),u=n(1).I,l=n(16);e.exports=function(i){var a=i.pr();function o(e,t){var n=new l(e);return c.Fn(n.Ct,t||{}),n}function s(e,t,n,r){var i=o(e,r);return null!=n&&i.setLabel(t,n+""),i}r.extend(this,{setLoadTimeOffset:function(e){i.qo().Vo("setLoadTimeOffset",e),a.setLoadTimeOffset(e)},setPlaybackSessionExpectedLength:function(e){i.qo().Vo("setPlaybackSessionExpectedLength",e),a.Gf().Dr().ko(e)},setPlaybackSessionExpectedNumberOfItems:function(e){i.qo().Vo("setPlaybackSessionExpectedNumberOfItems",e),a.Gf().Dr().Mo(e)},notifySkipAd:function(e){i.qo().Vo("notifySkipAd",e);var t=o(u.AD_SKIP,e);a.zo(t)},notifyLoad:function(e){i.qo().Vo("notifyLoad",e);var t=o(u.LOAD,e);a._r(t)},notifyEngage:function(e){i.qo().Vo("notifyEngage",e);var t=o(u.ENGAGE,e);a._r(t)},notifyCallToAction:function(e){i.qo().Vo("notifyCallToAction",e);var t=o(u.CTA,e);a._r(t)},notifyDrmFail:function(e){i.qo().Vo("notifyDrmFail",e);var t=o(u.DRM_FAILED,e);a._r(t)},notifyDrmApprove:function(e){i.qo().Vo("notifyDrmApprove",e);var t=o(u.DRM_APPROVED,e);a._r(t)},notifyDrmDeny:function(e){i.qo().Vo("notifyDrmDeny",e);var t=o(u.DRM_DENIED,e);a._r(t)},notifyCustomEvent:function(e,t){i.qo().Vo("notifyCustomEvent",e,t);var n=o(u.CUSTOM,t);n.setLabel("ns_st_cev",e+""),a._r(n)},notifyChangeBitrate:function(e,t){i.qo().Vo("notifyChangeBitrate",e,t);var n=s(u.BIT_RATE,"ns_st_br",e,t);a._r(n)},notifyChangeVolume:function(e,t){i.qo().Vo("notifyChangeVolume",e,t);var n=Math.floor(100*e),r=s(u.VOLUME,"ns_st_vo",n,t);a._r(r)},notifyChangeWindowState:function(e,t){i.qo().Vo("notifyChangeWindowState",e,t);var n=s(u.WINDOW_STATE,"ns_st_ws",e,t);a._r(n)},notifyChangeAudioTrack:function(e,t){i.qo().Vo("notifyChangeAudioTrack",e,t);var n=s(u.AUDIO,"ns_st_at",e,t);a._r(n)},notifyChangeVideoTrack:function(e,t){i.qo().Vo("notifyChangeVideoTrack",e,t);var n=s(u.VIDEO,"ns_st_vt",e,t);a._r(n)},notifyChangeSubtitleTrack:function(e,t){i.qo().Vo("notifyChangeSubtitleTrack",e,t);var n=s(u.SUBS,"ns_st_tt",e,t);a._r(n)},notifyChangeCdn:function(e,t){i.qo().Vo("notifyChangeCdn",e,t);var n=s(u.CDN,"ns_st_cdn",e,t);a._r(n)},notifyError:function(e,t){a.Gf().qo().Vo("notifyError",e,t);var n=s(u.ERROR,"ns_st_er",e,t);a._r(n)},notifyTransferPlayback:function(e,t){a.Gf().qo().Vo("notifyTransferPlayback",e,t);var n=s(u.TRANSFER,"ns_st_rp",e,t);a._r(n)}})}},function(e,t,n){var r=n(0),i=n(52);function a(){var e=new i;r.extend(this,e)}r.extend(a,i),e.exports=a},function(e,t,n){var r=n(0),i=n(51);function a(){var n=this,e=new i;r.extend(n,e),r.extend(n,{getMetadataLabels:function(e){var t={};return e&&r.extend(t,e.getStandardLabels()),r.extend(t,n.getStandardLabels()),e&&r.extend(t,e.getCustomLabels()),r.extend(t,n.getCustomLabels()),t}})}r.extend(a,i),e.exports=a},function(e,t){e.exports={NORMAL:"norm",FULL_SCREEN:"full",MINIMIZED:"min",MAXIMIZED:"max"}}],i.c=r,i.d=function(e,t,n){i.u(e,t)||Object.defineProperty(e,t,{l:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"v",{value:!0})},i._=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.v)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{l:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(e){var t=e&&e.v?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.u=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=54);function i(e){if(r[e])return r[e].exports;var t=r[e]={t:e,i:!1,exports:{}};return n[e].call(t.exports,t,t.exports,i),t.i=!0,t.exports}var n,r}),window.CBC||(window.CBC={}),CBC=CBC||window.CBC,CBC.APP||(CBC.APP={}),CBC.APP.AB||(CBC.APP.AB={}),CBC.APP.ANA||(CBC.APP.ANA={}),CBC.APP.ANA.DISPATCHERS||(CBC.APP.ANA.DISPATCHERS={}),CBC.APP.ANA.DISPATCHERS.Amplitude||(CBC.APP.ANA.DISPATCHERS.Amplitude={}),CBC.APP.ANA.DISPATCHERS.FBPIXEL||(CBC.APP.ANA.DISPATCHERS.FBPIXEL={}),CBC.APP.ANA.DISPATCHERS.MirRoar||(CBC.APP.ANA.DISPATCHERS.MirRoar={}),CBC.APP.ANA.ER||(CBC.APP.ANA.ER={}),CBC.APP.ANA.FORMATTERS||(CBC.APP.ANA.FORMATTERS={}),CBC.APP.ANA.FORMATTERS.Amplitude||(CBC.APP.ANA.FORMATTERS.Amplitude={}),CBC.APP.ANA.FORMATTERS.Common||(CBC.APP.ANA.FORMATTERS.Common={}),CBC.APP.ANA.FORMATTERS.Comscore||(CBC.APP.ANA.FORMATTERS.Comscore={}),CBC.APP.ANA.FORMATTERS.MirRoar||(CBC.APP.ANA.FORMATTERS.MirRoar={}),CBC.APP.ANA.LIBRARY||(CBC.APP.ANA.LIBRARY={}),CBC.APP.ANA.LIBRARY.Amplitude||(CBC.APP.ANA.LIBRARY.Amplitude={}),CBC.APP.ANA.LIBRARY.FBPIXEL||(CBC.APP.ANA.LIBRARY.FBPIXEL={}),CBC.APP.ANA.LinkTracker||(CBC.APP.ANA.LinkTracker={}),CBC.APP.ANA.VALIDATORS||(CBC.APP.ANA.VALIDATORS={}),CBC.APP.ANA.VALIDATORS.Amplitude||(CBC.APP.ANA.VALIDATORS.Amplitude={}),CBC.APP.ANA.VALIDATORS.Common||(CBC.APP.ANA.VALIDATORS.Common={}),CBC.APP.ANA.VALIDATORS.FBPIXEL||(CBC.APP.ANA.VALIDATORS.FBPIXEL={}),CBC.APP.ANA.VALIDATORS.MirRoar||(CBC.APP.ANA.VALIDATORS.MirRoar={}),CBC.APP.ANA.VARS||(CBC.APP.ANA.VARS={}),CBC.APP.ANA.WEBABTESTS||(CBC.APP.ANA.WEBABTESTS={}),CBC.APP.COMSCORE||(CBC.APP.COMSCORE={}),CBC.APP.CXENSE||(CBC.APP.CXENSE={}),CBC.APP.DMP||(CBC.APP.DMP={}),CBC.APP.DMP.LOTAME||(CBC.APP.DMP.LOTAME={}),CBC.APP.PubSub||(CBC.APP.PubSub={}),CBC.APP.readJS||(CBC.APP.readJS={}),CBC.APP.SC||(CBC.APP.SC={}),CBC.APP.SC.DTM||(CBC.APP.SC.DTM={}),CBC.APP.SC.DTM.DATA||(CBC.APP.SC.DTM.DATA={}),CBC.APP.SC.DTM.formatted||(CBC.APP.SC.DTM.formatted={}),CBC.APP.SC.EventTracker||(CBC.APP.SC.EventTracker={}),CBC.APP.SC.LOCALGEO||(CBC.APP.SC.LOCALGEO={}),CBC.APP.SC.masterSwitch||(CBC.APP.SC.masterSwitch={}),CBC.APP.SC.metadataWhitelist||(CBC.APP.SC.metadataWhitelist={}),CBC.APP.SC.PageTracker||(CBC.APP.SC.PageTracker={}),CBC.APP.SC.Pillar||(CBC.APP.SC.Pillar={}),CBC.APP.SC.Subscribers||(CBC.APP.SC.Subscribers={}),CBC.APP.SC.UTIL||(CBC.APP.SC.UTIL={}),CBC.APP.SC.VideoHeartbeat||(CBC.APP.SC.VideoHeartbeat={}),CBC.APP.SC.VideoHeartbeatVars||(CBC.APP.SC.VideoHeartbeatVars={}),CBC.APP.versions||(CBC.APP.versions={}),window.CBCRC||(window.CBCRC={}),CBCRC=CBCRC||window.CBCRC,CBCRC.ANA||(CBCRC.ANA={}),CBCRC.ANA.DATALAYER||(CBCRC.ANA.DATALAYER={}),CBCRC.ANA.MEDIA||(CBCRC.ANA.MEDIA={}),CBC.APP.versions["cbc-stats-top"]="2.104.0",CBC.APP.version||(CBC.APP.version=function(){return{"cbc-stats-top.js":CBC.APP.versions["cbc-stats-top"],"cbc-stats-bottom.js":CBC.APP.versions["cbc-stats-bottom"]}});var CryptoJS=CryptoJS||function(s){function n(){}var e={},t=e.lib={},r=t.Base={extend:function(e){n.prototype=this;var t=new n;return e&&t.mixIn(e),t.hasOwnProperty("init")||(t.init=function(){t.$super.init.apply(this,arguments)}),(t.init.prototype=t).$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},c=t.WordArray=r.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||a).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes;if(e=e.sigBytes,this.clamp(),r%4)for(var i=0;i<e;i++)t[r+i>>>2]|=(n[i>>>2]>>>24-i%4*8&255)<<24-(r+i)%4*8;else if(65535<n.length)for(i=0;i<e;i+=4)t[r+i>>>2]=n[i>>>2];else t.push.apply(t,n);return this.sigBytes+=e,this},clamp:function(){var e=this.words,t=this.sigBytes;e[t>>>2]&=4294967295<<32-t%4*8,e.length=s.ceil(t/4)},clone:function(){var e=r.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],n=0;n<e;n+=4)t.push(4294967296*s.random()|0);return new c.init(t,e)}}),i=e.enc={},a=i.Hex={stringify:function(e){var t=e.words;e=e.sigBytes;for(var n=[],r=0;r<e;r++){var i=t[r>>>2]>>>24-r%4*8&255;n.push((i>>>4).toString(16)),n.push((15&i).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new c.init(n,t/2)}},o=i.Latin1={stringify:function(e){var t=e.words;e=e.sigBytes;for(var n=[],r=0;r<e;r++)n.push(String.fromCharCode(t[r>>>2]>>>24-r%4*8&255));return n.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new c.init(n,t)}},u=i.Utf8={stringify:function(e){try{return decodeURIComponent(escape(o.stringify(e)))}catch(e){throw Error("Malformed UTF-8 data")}},parse:function(e){return o.parse(unescape(encodeURIComponent(e)))}},l=t.BufferedBlockAlgorithm=r.extend({reset:function(){this._data=new c.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=u.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(e){var t=this._data,n=t.words,r=t.sigBytes,i=this.blockSize,a=r/(4*i);if(e=(a=e?s.ceil(a):s.max((0|a)-this._minBufferSize,0))*i,r=s.min(4*e,r),e){for(var o=0;o<e;o+=i)this._doProcessBlock(n,o);o=n.splice(0,e),t.sigBytes-=r}return new c.init(o,r)},clone:function(){var e=r.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});t.Hasher=l.extend({cfg:r.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){l.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(n){return function(e,t){return new n.init(t).finalize(e)}},_createHmacHelper:function(n){return function(e,t){return new d.HMAC.init(n,t).finalize(e)}}});var d=e.algo={};return e}(Math);!function(){var e,t=(e=CryptoJS).lib,i=t.Base,a=t.WordArray;(e=e.x64={}).Word=i.extend({init:function(e,t){this.high=e,this.low=t}}),e.WordArray=i.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:8*e.length},toX32:function(){for(var e=this.words,t=e.length,n=[],r=0;r<t;r++){var i=e[r];n.push(i.high),n.push(i.low)}return a.create(n,this.sigBytes)},clone:function(){for(var e=i.clone.call(this),t=e.words=this.words.slice(0),n=t.length,r=0;r<n;r++)t[r]=t[r].clone();return e}})}(),function(s){for(var e=CryptoJS,c=(t=e.lib).WordArray,r=t.Hasher,n=e.x64.Word,t=e.algo,l=[],d=[],p=[],i=1,a=0,o=0;o<24;o++){l[i+5*a]=(o+1)*(o+2)/2%64;var u=(2*i+3*a)%5;i=a%5,a=u}for(i=0;i<5;i++)for(a=0;a<5;a++)d[i+5*a]=a+(2*i+3*a)%5*5;for(i=1,a=0;a<24;a++){for(var f=u=o=0;f<7;f++){if(1&i){var h=(1<<f)-1;h<32?u^=1<<h:o^=1<<h-32}i=128&i?i<<1^113:i<<1}p[a]=n.create(o,u)}var _=[];for(i=0;i<25;i++)_[i]=n.create();t=t.SHA3=r.extend({cfg:r.cfg.extend({outputLength:512}),_doReset:function(){for(var e=this._state=[],t=0;t<25;t++)e[t]=new n.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(e,t){for(var n=this._state,r=this.blockSize/2,i=0;i<r;i++){var a=16711935&((a=e[t+2*i])<<8|a>>>24)|4278255360&(a<<24|a>>>8),o=16711935&((o=e[t+2*i+1])<<8|o>>>24)|4278255360&(o<<24|o>>>8),s=n[i];s.high^=o,s.low^=a}for(r=0;r<24;r++){for(i=0;i<5;i++){for(var c=a=0,u=0;u<5;u++)a^=(s=n[i+5*u]).high,c^=s.low;(s=_[i]).high=a,s.low=c}for(i=0;i<5;i++)for(s=_[(i+4)%5],o=(a=_[(i+1)%5]).high,u=a.low,a=s.high^(o<<1|u>>>31),c=s.low^(u<<1|o>>>31),u=0;u<5;u++)(s=n[i+5*u]).high^=a,s.low^=c;for(o=1;o<25;o++)i=(s=n[o]).high,s=s.low,c=(u=l[o])<32?(a=i<<u|s>>>32-u,s<<u|i>>>32-u):(a=s<<u-32|i>>>64-u,i<<u-32|s>>>64-u),(s=_[d[o]]).high=a,s.low=c;for(s=_[0],i=n[0],s.high=i.high,s.low=i.low,i=0;i<5;i++)for(u=0;u<5;u++)s=n[o=i+5*u],a=_[o],o=_[(i+1)%5+5*u],c=_[(i+2)%5+5*u],s.high=a.high^~o.high&c.high,s.low=a.low^~o.low&c.low;s=n[0],i=p[r],s.high^=i.high,s.low^=i.low}},_doFinalize:function(){var e=(r=this._data).words,t=8*r.sigBytes,n=32*this.blockSize;e[t>>>5]|=1<<24-t%32,e[(s.ceil((t+1)/n)*n>>>5)-1]|=128,r.sigBytes=4*e.length,this._process();for(var r=this._state,i=(t=(e=this.cfg.outputLength/8)/8,n=[],0);i<t;i++){var a=16711935&((a=(o=r[i]).high)<<8|a>>>24)|4278255360&(a<<24|a>>>8),o=16711935&((o=o.low)<<8|o>>>24)|4278255360&(o<<24|o>>>8);n.push(o),n.push(a)}return new c.init(n,e)},clone:function(){for(var e=r.clone.call(this),t=e._state=this._state.slice(0),n=0;n<25;n++)t[n]=t[n].clone();return e}}),e.SHA3=r._createHelper(t),e.HmacSHA3=r._createHmacHelper(t)}(Math),CBC.APP.SC.DTM.formatted={adobe:{},amplitude:{},chartbeat:{},comscore:{},cxense:{},googlecloud:{},lotame:{},raw:{}},CBC.APP.SC.state={},CBC.APP.SC.state.referrer={},CBC.APP.SC.UTIL=function(){"use strict";var e,u=[],t={console:!1};return{init:function(e){},getElementById:function(e){var t=document.getElementById(e);return{el:t,tags:function(e){return t.getElementsByTagName(e)}}},typecheck:function(e){return{element:!!e.nodeType,array:!(!e.length||!e.pop),function:e instanceof Function,object:e instanceof Object,string:"string"==typeof e,number:"number"==typeof e,boolean:"boolean"==typeof e,undefined:void 0===e}},getAnchor:function(e){return this.findParentTag(e,"a")},addListener:function(e){var t=e.element;if(!this.typecheck(t).element)return!1;function n(e){e=CBC.APP.SC.UTIL.getEventObject(e),r&&e.preventDefault(),i&&e.stopPropagation(),a&&o?s.call(a,e,o):a?s.call(a,e):o?s.call(t,e,o):s.call(t,e)}var r=e.preventDefault,i=e.stopPropagation,a=e.obj,o=e.params,s=e.callback,c=e.type;return u.push({type:c,element:t,callback:s,localCallback:n}),t.addEventListener?(t.addEventListener(c,n,!1),!0):t.attachEvent?t.attachEvent("on"+c,n):void(t["on"+c]=n)},getEventObject:function(e){return{originalEvent:e=e||window.event,target:e.target||e.srcElement,charCode:e.charCode||e.keyCode,type:e.type,layerX:e.layerX||e.offsetX,layerY:e.layerY||e.offsetY,clientX:e.clientX,clientY:e.clientY,fromElement:"mouseover"===e.type?e.fromElement||e.relatedTarget:null,toElement:"mouseout"===e.type?e.toElement||e.relatedTarget:null,preventDefault:function(){this.originalEvent.preventDefault?this.originalEvent.preventDefault():this.originalEvent.returnValue=!1},stopPropagation:function(){this.originalEvent.stopPropagation?this.originalEvent.stopPropagation():this.originalEvent.cancelBubble=!0}}},stripHTML:function(e){var t="";return 50<(e=(e=/<img .*?(\/>|>)/i.test(e)?(t=/<img .*?(?:\/>|>)/i.exec(e)[0],/alt="[^"]+?"/.test(t)?/alt="(.*?)"/i.exec(t)[1]:/src="(.*\/|)(.*?)"/i.exec(t)[2]):(e=e.replace(/<.*?>/g,"")).replace("/&amp;/i","")).replace(/["]/g,"")).length&&(e=e.substr(0,50)),e},findParentTag:function(e,t){if(e.nodeName===t.toUpperCase())return e;for(;"BODY"!==e.nodeName&&(e=e.parentNode)&&e.nodeName!==t.toUpperCase(););return e&&"BODY"!==e.nodeName?e:null},debug:function(e){Boolean(CBC.APP.SC.DEBUG)&&"undefined"!=typeof console&&"function"==typeof console.log&&console.log(e)},debugListeners:function(){for(var e=0;e<u.length;e++)console.log(u[e])},arrayFromArguments:function(e){for(var t=[],n=0;n<e.length;n++)t[n]=e[n];return t},checkPropertyExistence:function(e,t){var n=t.split("."),r=e;if(void 0!==r){for(var i=0;i<n.length;++i)if(void 0===(r=r[n[i]]))return;return r&&"object"!==_typeof2(r)?r:void 0}},dropInvalidObjectProperties:function(i){if(Array.isArray(i)){i=i.filter(function(e){return e||0===e||!1===e}).filter(function(e){return"function"!=typeof e});for(var e=0;e<i.length;++e)"object"===_typeof2(i[e])&&(i[e]=window.CBC.APP.SC.UTIL.dropInvalidObjectProperties(i[e]))}else Object.entries(i).forEach(function(e){var t=_slicedToArray(e,2),n=t[0],r=t[1];"object"===_typeof2(r)&&null!==r&&(i[n]=window.CBC.APP.SC.UTIL.dropInvalidObjectProperties(i[n]))}),i=Object.entries(i).filter(function(e){var t=_slicedToArray(e,2),n=(t[0],t[1]);return!(null==n||"function"==typeof n)}).filter(function(e){var t=_slicedToArray(e,2),n=(t[0],t[1]);return n&&"object"!==_typeof2(n)||0===n||!1===n||Array.isArray(n)&&n.length||"object"===_typeof2(n)&&Object.keys(n).length}).reduce(function(e,t){var n=_slicedToArray(t,2),r=n[0],i=n[1];return Object.assign(e,_defineProperty2({},r,i))},{});return i},mediaCustomContextDataObjectGenerate:function(e,t,n){if("object"===_typeof2(e=e||{})&&!Array.isArray(e)&&"object"===_typeof2(t)&&!Array.isArray(t))for(var r in t)if("keywords"!==r){var i="";n.push(r),{}.hasOwnProperty.call(t,r)&&("object"===_typeof2(t[r])?Array.isArray(t[r])?(i=t[r].join(","),e[n.join(".")]=i):null===t[r]?e[n.join(".")]=null:e=this.mediaCustomContextDataObjectGenerate(e,t[r],n):(i=t[r],e[n.join(".")]=i)),n.pop()}return e},deepMergeObjs:function(e,t){if("object"===_typeof2(e=e||{})&&!Array.isArray(e)&&"object"===_typeof2(t)&&!Array.isArray(t))for(var n in t)!{}.hasOwnProperty.call(t,n)||("object"===_typeof2(t[n])?Array.isArray(t[n])?Array.isArray(e[n])?e[n]=e[n].concat(t[n]):e[n]=JSON.parse(JSON.stringify(t[n])):e[n]=this.deepMergeObjs(e[n],t[n]):e[n]=t[n]);return e},queryStringToObj:function(e){for(var t=e.split(/[;&]/),n={},r=0;r<t.length;r++){var i=t[r].split("="),a=unescape(i[0].toLowerCase()),o=unescape(i[1]).replace(/\+/g," ");0<a.length&&0<o.length&&(n[a]=o)}return n},getRadioPopupParams:function(){var e={},t={cbc_radio_one:"radio1",cbc_radio_2:"radio2"},n=window.location.href.match("(#/?|\\?)(.*$)");n&&2<n.length&&(e=this.queryStringToObj(n[2]));var r="contentarea=radio";e.networkkey&&(r+="&subsection1="+(t[e.networkkey]?t[e.networkkey]:e.networkkey));return r+="&subsection2=liveradio",r+="&contenttype=page"},isExternallyHosted:function(){var e=document.location.pathname;return window.spoofed_pathname&&(e=window.spoofed_pathname),!!e.toLowerCase().match(/^\/g\/stats\/ext.html/g)},makeRequest:function(e,t,n,r,i,a,o,s){var c=new XMLHttpRequest;c.open(e,encodeURI(t)),a&&(c.withCredentials=!0),o&&Object.keys(o).forEach(function(e){c.setRequestHeader(e,o[e])}),s&&s.timeout&&(c.timeout=s.timeout,c.ontimeout=s.cb),c.onload=function(){200===c.status||201===c.status?r.success(c,i):(r.failure(c,i),console&&console.log("Request failed.  Returned status of "+c.status))},c.send(n)},makeGETRequest:function(e,t,n,r,i,a){this.makeRequest("GET",e,void 0,t,n,r,i,a)},makePOSTRequest:function(e,t,n,r,i,a,o){this.makeRequest("POST",e,t,n,r,i,a,o)},makePUTRequest:function(e,t,n,r,i,a,o){this.makeRequest("PUT",e,t,n,r,i,a,o)},setCookie:function(e,t,n,r){var i=new Date;i.setTime(i.getTime()+864e5*n);var a="expires="+i.toUTCString(),o="";void 0!==r&&(o=";domain="+r),document.cookie=e+"="+encodeURIComponent(t)+";"+a+";path=/"+o},getCookie:function(e){for(var t=e+"=",n=decodeURIComponent(document.cookie).split(";"),r=0;r<n.length;r++){for(var i=n[r];" "===i.charAt(0);)i=i.substring(1);if(0===i.indexOf(t))return i.substring(t.length,i.length)}return""},expireCookie:function(e,t){this.setCookie(e,"value",0,t)},getUuid:function(){function e(e){var t=65535&Math.floor(65536*(1+Math.random()));for("M"===e&&(t=4095&t|16384),"N"===e&&(t=16383&t|32768),t=t.toString(16);t.length<4;)t="0"+t;return t}return e()+e()+"-"+e()+"-"+e("M")+"-"+e("N")+"-"+e()+e()+e()},requiredExists:function(){},concatSubsections:function(){var e,t=CBC.APP.SC.DTM.DATA,n={},r=[];for(e=0;e<5;e++)if("string"==typeof t["subsection"+(e+1)]&&r.push(t["subsection"+(e+1)]),"string"==typeof r[e]){var i=r.slice(0,e+1);n["subsection"+(e+1)]=t.contentarea+":"+i.join(":")}return n},sendDataToUIE:function(e){try{var t=CBC.APP.SC.UTIL.createUIEPayload(e);if(!t["cbc:gem_id"]&&!t["cbc:adestra_id"])return!1;t&&this.makePUTRequest(window.CBC.APP.SC.masterSwitch.idexchange.endpoint+"ids",JSON.stringify(t),{success:function(e,t){CBC.APP.SC.UTIL.console("sendDataToUIE: Success!")},failure:function(e,t){CBC.APP.SC.UTIL.console("sendDataToUIEs: Failure!")}},"",!0)}catch(e){CBC.APP.SC.UTIL.console("sendDataToUIE: "+e)}},removeGemID:function(e){if(e.user&&e.user.id&&e.user.id.gem){var t=e;return delete t.user.id.gem,0===Object.keys(t.user).length?delete t.user:0===Object.keys(t.user.id).length&&delete t.user.id,t}return e},removeCBCPlusID:function(){try{CBC.APP.SC.masterSwitch&&CBC.APP.SC.masterSwitch.switches.idexchange&&CBC.APP.SC.masterSwitch.idexchange&&CBC.APP.SC.masterSwitch.idexchange.endpoint&&this.makePOSTRequest(CBC.APP.SC.masterSwitch.idexchange.endpoint+"logout","",{success:function(e,t){CBC.APP.SC.UTIL.console("setCBCPlusID: logout success!")},failure:function(e,t){CBC.APP.SC.UTIL.console("setCBCPlusID: logout failure! Error: "+e.responseText)}},"",!0)}catch(e){CBC.APP.SC.UTIL.console("setCBCPlusID: "+e)}},setReferrerPillar:function(){var e=CBC.APP.SC.UTIL.getCookie("referrerPillar");CBC.APP.SC.DTM.formatted.raw.referrer.pillar=e||"noreferrer";var t=CBC.APP.SC.DTM.DATA.pillar?CBC.APP.SC.DTM.DATA.pillar:"legacy";CBC.APP.SC.UTIL.setCookie("referrerPillar",t,365,".cbc.ca")},getReferringDepartment:function(){return CBC.APP.SC.UTIL.getCookie("referringDepartment")},setReferringDepartment:function(e){CBC.APP.SC.UTIL.setCookie("referringDepartment",e,365,".cbc.ca")},validateDepartment:function(){var e=CBC.APP.SC.DTM.formatted.raw.department;if(e){var t=CBC.APP.SC.UTIL.getMetadataWhitelist(),n=t.metadata.whitelist.department.level1,r=t.metadata.whitelist.department.level2,i=t.metadata.whitelist.department.level3,a=Object.keys(n),o=Object.keys(r),s=Object.keys(i),c=e.level1?CBC.APP.SC.UTIL.normalize(e.level1):"",u=e.level2?CBC.APP.SC.UTIL.normalize(e.level2):"",l=e.level3?CBC.APP.SC.UTIL.normalize(e.level3):"";if(e.level1&&-1===a.indexOf(c))return CBC.APP.SC.UTIL.reportMetadataExceptionForStats(CBC.APP.SC.UTIL.formatValidationException("Department Level 1",c),CBC.APP.SC.DTM.formatted.raw),!1;if(e.level2){if(-1===o.indexOf(u))return CBC.APP.SC.UTIL.reportMetadataExceptionForStats(CBC.APP.SC.UTIL.formatValidationException("Department Level 2",u),CBC.APP.SC.DTM.formatted.raw),!1;if(!(-1!==r[u].indexOf(c)))return CBC.APP.SC.UTIL.reportMetadataExceptionForStats(CBC.APP.SC.UTIL.formatValidationException("Department Level 2 under Department Level 1",u),CBC.APP.SC.DTM.formatted.raw),!1}if(e.level3){if(-1===s.indexOf(l))return CBC.APP.SC.UTIL.reportMetadataExceptionForStats(CBC.APP.SC.UTIL.formatValidationException("Department Level 3",l),CBC.APP.SC.DTM.formatted.raw),!1;if(!(-1!==i[l].indexOf(u)))return CBC.APP.SC.UTIL.reportMetadataExceptionForStats(CBC.APP.SC.UTIL.formatValidationException("Department Level 3 under Department Level 2",l),CBC.APP.SC.DTM.formatted.raw),!1}return!0}return!1},initReferringDepartmentStatus:function(){CBC.APP.SC.state.referrer.department||(CBC.APP.SC.state.referrer.department={}),CBC.APP.SC.state.referrer.department.STREAMED="",CBC.APP.SC.state.referrer.department.WATCHED=""},getReferringDepartmentStatus:function(){return CBC.APP.SC.state.referrer.department},setReferringDepartmentStatus:function(e,t){/^(STREAMED|WATCHED)?/.test(e.toUpperCase())&&(CBC.APP.SC.state.referrer.department[e.toUpperCase()]=t)},setFormattedLayer:function(){var e=CBC.APP.SC.UTIL.getMetadataWhitelist();if(CBC.APP.SC.DTM.formatted.raw=JSON.parse(JSON.stringify(CBC.APP.SC.DTM.DATA)),CBC.APP.SC.DTM.formatted.raw.referrer)if("string"==typeof CBC.APP.SC.DTM.formatted.raw.referrer){var t=CBC.APP.SC.DTM.formatted.raw.referrer;CBC.APP.SC.DTM.formatted.raw.referrer={},CBC.APP.SC.DTM.formatted.raw.refererr.url=t}else CBC.APP.SC.DTM.formatted.raw.referrer.url=CBC.APP.SC.DTM.formatted.raw.referrer.url||this.getReferrer(document);else CBC.APP.SC.DTM.formatted.raw.referrer={},CBC.APP.SC.DTM.formatted.raw.referrer.url=this.getReferrer(document);var n=new RegExp("^\\d{2}\\/\\d{2}\\/\\d{4} \\d{2}:\\d{2}:\\d{2}$");if(CBC.APP.SC.DTM.formatted.raw.publishedTime&&n.test(CBC.APP.SC.DTM.formatted.raw.publishedTime)){var r=new Date(CBC.APP.SC.DTM.formatted.raw.publishedTime.replace(/(\d{2})\/(\d{2})\/(\d{4})/,"$3-$2-$1").replace(/\s+/,"T").concat("Z"));CBC.APP.SC.DTM.formatted.raw.publishedTime=r.getTime()}if(CBC.APP.SC.DTM.formatted.raw.updatedTime&&n.test(CBC.APP.SC.DTM.formatted.raw.updatedTime)){var i=new Date(CBC.APP.SC.DTM.formatted.raw.updatedTime.replace(/(\d{2})\/(\d{2})\/(\d{4})/,"$3-$2-$1").replace(/\s+/,"T").concat("Z"));CBC.APP.SC.DTM.formatted.raw.updatedTime=i.getTime()}if(/^https?:\/\/(gem|watch).*/.test(document.location.href)&&"object"===_typeof2(CBC.APP.SC.DTM.formatted.raw.title)&&void 0!==CBC.APP.SC.DTM.formatted.raw.subsection4&&(CBC.APP.SC.DTM.formatted.raw.titleObject=JSON.parse(JSON.stringify(CBC.APP.SC.DTM.formatted.raw.title)),CBC.APP.SC.DTM.formatted.raw.title=CBC.APP.SC.DTM.formatted.raw.subsection4),void 0===CBC.APP.SC.DTM.formatted.raw.contentid&&("string"==typeof CBC.APP.SC.DTM.formatted.raw.url?CBC.APP.SC.DTM.formatted.raw.contentid=this.getContentID(CBC.APP.SC.DTM.formatted.raw.url):CBC.APP.SC.DTM.formatted.raw.contentid=this.getContentID(document.location.href),""===CBC.APP.SC.DTM.formatted.raw.contentid&&delete CBC.APP.SC.DTM.formatted.raw.contentid),CBC.APP.SC.DTM.formatted.raw.embedtypes&&e.metadata.whitelist.content.embedded.media){var a=e.metadata.whitelist.content.embedded.media,o=CBC.APP.SC.UTIL.getembeddedMediaWhitelistArray(a),s=CBC.APP.SC.DTM.formatted.raw.embedtypes,c=o.filter(function(e){return s.includes(e)});c.sort(),CBC.APP.SC.DTM.formatted.raw.embedtypes=c.join("-")}if(CBC.APP.SC.DTM.formatted.raw.sponsor){var u=this.cleanString(CBC.APP.SC.DTM.formatted.raw.sponsor.name),l={};for(var d in e.metadata.whitelist.sponsor.name)l[this.cleanString(d)]=e.metadata.whitelist.sponsor.name[d];l[u]?CBC.APP.SC.DTM.formatted.raw.sponsor.name=u:(CBC.APP.SC.UTIL.reportMetadataExceptionForStats(CBC.APP.SC.UTIL.formatValidationException("Sponsor Name",u),CBC.APP.SC.DTM.formatted.raw),delete CBC.APP.SC.DTM.formatted.raw.sponsor)}if(CBC.APP.SC.DTM.formatted.raw.partner){var p=this.cleanString(CBC.APP.SC.DTM.formatted.raw.partner.name),f={};for(var h in e.metadata.whitelist.partner.name)f[this.cleanString(h)]=e.metadata.whitelist.partner.name[h];f[p]?CBC.APP.SC.DTM.formatted.raw.partner.name=p:(CBC.APP.SC.UTIL.reportMetadataExceptionForStats(CBC.APP.SC.UTIL.formatValidationException("Partner Name",p),CBC.APP.SC.DTM.formatted.raw),delete CBC.APP.SC.DTM.formatted.raw.partner)}this.setReferrerPillar();var _=this.getReferringDepartment().split(":");if(""!=_[0]){CBC.APP.SC.DTM.formatted.raw.referrer.department={};for(var g=0;g<_.length;++g){var m="level"+(g+1);CBC.APP.SC.DTM.formatted.raw.referrer.department[m]=_[g]}}else CBC.APP.SC.DTM.formatted.raw.referrer.department={level1:"noreferrer"};if(this.validateDepartment()){var v=CBC.APP.SC.DTM.formatted.raw.department,C=[v.level1,v.level2,v.level3];this.setReferringDepartment(C.filter(function(e){return e}).join(":"))}else this.setReferringDepartment("noreferrer");if(CBC.APP.SC.LOCALGEO&&CBC.APP.SC.LOCALGEO.geo&&(CBC.APP.SC.DTM.formatted.raw.geo=CBC.APP.SC.DTM.formatted.raw.geo||{},CBC.APP.SC.DTM.formatted.raw.geo.timezone=CBC.APP.SC.LOCALGEO.geo.timezone?CBC.APP.SC.LOCALGEO.geo.timezone:void 0,CBC.APP.SC.DTM.formatted.raw.geo.country=CBC.APP.SC.LOCALGEO.geo.country?CBC.APP.SC.LOCALGEO.geo.country:void 0,CBC.APP.SC.DTM.formatted.raw.geo.city=CBC.APP.SC.LOCALGEO.geo.city?CBC.APP.SC.LOCALGEO.geo.city:void 0,CBC.APP.SC.DTM.formatted.raw.geo.region=CBC.APP.SC.LOCALGEO.geo.region?CBC.APP.SC.LOCALGEO.geo.region:void 0),CBC.APP.SC.DTM.formatted.raw.contentcms&&(CBC.APP.SC.DTM.formatted.raw.contentcms=this.normalize(CBC.APP.SC.DTM.formatted.raw.contentcms),e.metadata.whitelist.content.cms[CBC.APP.SC.DTM.formatted.raw.contentcms]||(CBC.APP.SC.UTIL.reportMetadataExceptionForStats(CBC.APP.SC.UTIL.formatValidationException("Content CMS",CBC.APP.SC.DTM.formatted.raw.contentcms),CBC.APP.SC.DTM.formatted.raw),delete CBC.APP.SC.DTM.formatted.raw.contentcms)),CBC.APP.SC.DTM.formatted.raw.appname){if(CBC.APP.SC.DTM.formatted.raw.appname=this.normalize(CBC.APP.SC.DTM.formatted.raw.appname),!CBC.APP.ANA.VALIDATORS.Common.validateAppName(CBC.APP.SC.DTM.formatted.raw.appname)&&CBC.APP.SC.DTM.formatted.raw.pillar){var y=CBC.APP.SC.UTIL.determineAppName(CBC.APP.SC.DTM.formatted.raw.pillar,window);y?CBC.APP.SC.DTM.formatted.raw.appname=y:(CBC.APP.SC.UTIL.reportMetadataExceptionForStats(CBC.APP.SC.UTIL.formatValidationException("App Name",y),CBC.APP.SC.DTM.formatted.raw),delete CBC.APP.SC.DTM.formatted.raw.appname)}}else{var A=CBC.APP.SC.UTIL.determineAppName(CBC.APP.SC.DTM.formatted.raw.pillar,window);A&&(CBC.APP.SC.DTM.formatted.raw.appname=A)}CBC.APP.SC.DTM.formatted.raw.keywords=this.standardizeKeywordsData(CBC.APP.SC.DTM.formatted.raw.keywords);var b=JSON.parse(JSON.stringify(CBC.APP.SC.DTM.formatted.raw));void 0!==b.sponsor&&void 0===b.sponsor.name&&delete b.sponsor;var P=CBC.APP.SC.UTIL.sanitizeObject(JSON.parse(JSON.stringify(b)));CBC.APP.SC.DTM.formatted.adobe=JSON.parse(JSON.stringify(P)),CBC.APP.SC.DTM.formatted.amplitude=JSON.parse(JSON.stringify(P)),CBC.APP.SC.DTM.formatted.chartbeat=JSON.parse(JSON.stringify(b)),CBC.APP.SC.DTM.formatted.comscore=JSON.parse(JSON.stringify(b)),CBC.APP.SC.DTM.formatted.harmonizedAdobe=JSON.parse(JSON.stringify(b)),CBC.APP.SC.DTM.formatted.lotame=JSON.parse(JSON.stringify(b)),CBC.APP.SC.DTM.formatted.MirRoar=JSON.parse(JSON.stringify(P));for(var S=JSON.parse(JSON.stringify(b)),w=["blogarchivetitle","contentarea","contenttype","hierarchy","originaltitle","pillar","spa","syndicate","title"],I=0;I<w.length;I+=1)"string"==typeof CBC.APP.SC.DTM.formatted.adobe[w[I]]&&(CBC.APP.SC.DTM.formatted.adobe[w[I]]=this.normalize(CBC.APP.SC.DTM.formatted.adobe[w[I]].replace(/\+/g,"-").replace(/[^a-zA-Z0-9-_ .$]/g,"")));for(var E=["author","keywords"],T=0;T<E.length;T+=1)"string"==typeof CBC.APP.SC.DTM.formatted.adobe[E[T]]&&(CBC.APP.SC.DTM.formatted.adobe[E[T]]=this.normalize(CBC.APP.SC.DTM.formatted.adobe[E[T]].replace(/, /g,",")));for(var D=["subsection1","subsection2","subsection3","subsection4"],k=0;k<D.length;k+=1)"string"==typeof CBC.APP.SC.DTM.formatted.adobe[D[k]]&&(CBC.APP.SC.DTM.formatted.adobe[D[k]]=this.normalize(CBC.APP.SC.DTM.formatted.adobe[D[k]],"_"));var N=["name","position"];if(CBC.APP.SC.DTM.formatted.adobe.feature)for(var O=0;O<N.length;O+=1)CBC.APP.SC.DTM.formatted.adobe.feature[N[O]]&&"string"==typeof CBC.APP.SC.DTM.formatted.adobe.feature[N[O]]&&(CBC.APP.SC.DTM.formatted.adobe.feature[N[O]]=this.normalize(CBC.APP.SC.DTM.formatted.adobe.feature[N[O]].replace(/\+/g,"-").replace(/[^a-zA-Z0-9-_ .$]/g,"")));var L=["level1","level2","level3"];if(CBC.APP.SC.DTM.formatted.adobe.department)for(var B=0;B<L.length;B+=1)CBC.APP.SC.DTM.formatted.adobe.department[L[B]]&&"string"==typeof CBC.APP.SC.DTM.formatted.adobe.department[L[B]]&&(CBC.APP.SC.DTM.formatted.adobe.department[L[B]]=this.normalize(CBC.APP.SC.DTM.formatted.adobe.department[L[B]].replace(/\+/g,"-").replace(/[^a-zA-Z0-9-_ .$]/g,"")));if(CBC.APP.SC.DTM.formatted.adobe.referrer.department)for(var M=0;M<L.length;M+=1)CBC.APP.SC.DTM.formatted.adobe.referrer.department[L[M]]&&"string"==typeof CBC.APP.SC.DTM.formatted.adobe.referrer.department[L[M]]&&(CBC.APP.SC.DTM.formatted.adobe.referrer.department[L[M]]=this.normalize(CBC.APP.SC.DTM.formatted.adobe.referrer.department[L[M]].replace(/\+/g,"-").replace(/[^a-zA-Z0-9-_ .$]/g,"")));if(void 0!==CBC.APP.SC.DTM.formatted.raw&&(void 0!==CBC.APP.SC.DTM.formatted.raw.url&&(CBC.APP.SC.DTM.formatted.chartbeat.url=CBC.APP.SC.DTM.formatted.raw.url.replace("cbc.ca/beta/","cbc.ca/")),void 0!==CBC.APP.SC.DTM.formatted.raw.authors&&(CBC.APP.SC.DTM.formatted.chartbeat.authors=CBC.APP.SC.DTM.formatted.raw.authors.toLowerCase().replace(/, /g,",").replace(/\s/g,"-"))),void 0!==CBC.APP.SC.DTM.formatted.raw&&CBC.APP.SC.syndicate){var R=CBC.APP.SC.syndicate;R=R.replace(/\s/g,"-").toLowerCase(),CBC.APP.SC.DTM.formatted.comscore.syndicate=R}var x="object"===_typeof2(S.keywords)?CBC.APP.SC.UTIL.formatKeywordsData(S.keywords):{};function U(e){return"string"==typeof e?e.toLowerCase():""}CBC.APP.SC.DTM.formatted.cxense={authors:S.authors,contentarea:U(S.contentarea),contentcms:S.contentcms,contentid:S.contentid,contenttype:U(S.contenttype),embedtypes:S.embedtypes,experimentsContent:S.experiments?S.experiments.content:"",keywords:"string"==typeof S.keywords?S.keywords:"",keywordsCollections:x.collections,keywordsCompany:x.company,keywordsLocation:x.location,keywordsOrganization:x.organization,keywordsPerson:x.person,keywordsSubject:x.subject,mediaDuration:S.media?S.media.duration:"",mediaId:S.media?S.media.id:"",mediaLiveondemand:S.media?S.media.liveondemand:"",mediaSport:S.media?S.media.sport:"",mediaShow:S.media?S.media.show:"",mediaAudiovideo:S.media?S.media.audiovideo:"",originaltitle:S.originaltitle,partnerName:S.partner?S.partner.name:"",pillar:S.pillar,publishedTime:S.publishedTime,sponsorName:S.sponsor?S.sponsor.name:"",socialCommentsEnabled:S.social&&S.social.comments?S.social.comments.enabled:"",socialCommentsLoaded:S.social&&S.social.comments?S.social.comments.loaded:"",socialCommentsTotal:S.social&&S.social.comments?S.social.comments.total:"",subsection1:U(S.subsection1),subsection2:U(S.subsection2),subsection3:U(S.subsection3),subsection4:U(S.subsection4),title:S.title,updatedTime:S.updatedTime,url:S.url,wordcount:S.wordcount},Object.keys(CBC.APP.SC.DTM.formatted.cxense).forEach(function(e){void 0!==CBC.APP.SC.DTM.formatted.cxense[e]&&""!==CBC.APP.SC.DTM.formatted.cxense[e]&&"(not specified)"!==CBC.APP.SC.DTM.formatted.cxense[e]||delete CBC.APP.SC.DTM.formatted.cxense[e]}),CBC.APP.ANA.FORMATTERS.ESS.generateGoogleCloudPayload(),"object"===_typeof2(CBC.APP.SC.DTM.DATA.keywords)&&this.setGoogleCloudContentTags(JSON.stringify(CBC.APP.SC.DTM.DATA.keywords))},sanitizeObject:function(a,o){var s=this;return Object.entries(a).forEach(function(e){var t=_slicedToArray(e,2),n=t[0],r=t[1],i=o?o+"."+n:n;"string"==typeof r&&'[\n    "authors",\n    "experiments.content", \n    "keywords"\n]'.includes(i)?a[n]=s.normalize(r.replace(/, /g,",")).replace(/[^0-9A-Za-z/_$.+\-,\s]/g,"").replace(/\+/g,"-"):"string"!=typeof r||'[\n    "content.url",\n    "copy_videoid",\n    "copy_videoname",\n    "copy_videoplayername",\n    "referrer.url",\n    "url",\n    "videourl",\n    "videopage"\n]'.includes(i)?"object"===_typeof2(r)&&(a[n]=s.sanitizeObject(r,i)):a[n]=s.cleanString(r)}),a},getembeddedMediaWhitelistArray:function(e){var t=[],n=0;for(n in e)!0===e[n]&&t.push(n);return t},getContentID:function(e){var t=/-[\d]\.[\d]+$/.exec(e);return"object"===_typeof2(t)&&null!==t&&0<t.length?t[0].substr(1):""},getGemID:function(){return CBC.APP.SC.DTM.DATA.user&&CBC.APP.SC.DTM.DATA.user.id&&CBC.APP.SC.DTM.DATA.user.id.gem?CBC.APP.SC.DTM.DATA.user.id.gem:null},getReferrer:function(e){var t=e.referrer;return 0<CBC.APP.SC.PageTracker.getVal("pageviewcount")&&(t=CBC.APP.SC.state.referrer.url),CBC.APP.SC.state.referrer.url=e.location.href,t},clearDataLayer:function(){CBC.APP.SC.DTM.DATA={},this.clearFormattedDataLayer()},clearFormattedDataLayer:function(){CBC.APP.SC.DTM.formatted={adobe:{},amplitude:{},chartbeat:{},comscore:{},cxense:{},googlecloud:{},lotame:{},raw:{}}},normalize:function(e,t){return t=void 0===t?"-":t,e.replace(/\s+/g,t).toLowerCase()},sanitize:function(e){return e.replace(/[\W_]+/g,"")},cleanString:function(e){if(void 0!==e){var t=e.replace(/[^0-9A-Za-z/_$.+\-\s]/g,"").trim();return window.CBC.APP.SC.UTIL.normalize(t).replace(/\+/g,"-")}},trimDashes:function(e){return e.replace(/^-+|-+$/g,"")},splitQuery:function(e,t,n){for(var r={},i=e.split("&"),a=0;a<i.length;a++){var o=i[a].split("="),s=o[0],c=o[1];if(t){if(!t[o[0]])continue;s=t[o[0]]}n&&n[o[1]]&&(c=n[o[1]]),r[s]=c}return r},getCBCUserProperties:function(){var e=this.getCookie("cbclocal");if(e)return this.splitQuery(e,{radio:"location.radio",news:"location.news",tv:"location.tv",region:"location.region",weather:"location.weather"},void 0)},getPolopolyDimension:function(e,t){for(var n=JSON.parse(e),r={},i=0;i<n.length;i++){var a=n[i];r[a.name]=[];for(var o=0;o<a.entities.length;o++){var s=a.entities[o];r[a.name].push(t(s.name))}}return r},setGoogleCloudContentTags:function(e){var t=(0,this.getPolopolyDimension)(e,this.sanitize);"object"===_typeof2(CBC.APP.SC.DTM.formatted.googlecloud.content)&&(t.Person&&(CBC.APP.SC.DTM.formatted.googlecloud.content.tags.person=t.Person),t.Location&&(CBC.APP.SC.DTM.formatted.googlecloud.content.tags.location=t.Location),t.Subject&&(CBC.APP.SC.DTM.formatted.googlecloud.content.tags.subject=t.Subject),t.Company&&(CBC.APP.SC.DTM.formatted.googlecloud.content.tags.company=t.Company))},sendVisitorUserIDs:function(e){this.makePUTRequest(window.CBC.APP.SC.masterSwitch.idexchange.endpoint+"ids",JSON.stringify(e),{success:function(e,t){console.log("sendVisitorUserIDs: Success!")},failure:function(e,t){console.log("sendVisitorUserIDs: Failure!")}},"",!0)},createUIEPayload:function(e){if(void 0!==window.CBC.APP.SC.masterSwitch&&void 0!==window.CBC.APP.SC.masterSwitch.switches&&void 0!==window.CBC.APP.SC.masterSwitch.switches.idexchange&&window.CBC.APP.SC.masterSwitch.switches.idexchange&&window.CBC.APP.SC.masterSwitch.idexchange.endpoint){var t={};return e&&e.user&&e.user.id&&(e.user.id.gem&&(t["cbc:gem_id"]=[e.user.id.gem.toString()]),e.user.id.adestra&&(t["cbc:adestra_id"]=[e.user.id.adestra.toString()])),t["@context"]={cbc:CBC.APP.SC.masterSwitch.idexchange.context},window.s_cbc_sitecatalyst.visitor.getMarketingCloudVisitorID()&&(t["cbc:adobe_id"]=[window.s_cbc_sitecatalyst.visitor.getMarketingCloudVisitorID().toString()]),this.getCookie("cX_P")&&(t["cbc:cxense_id"]=[this.getCookie("cX_P").toString()]),window.localStorage.getItem("lr-user-uid")&&(t["cbc:loginradius_id"]=[window.localStorage.getItem("lr-user-uid").toString()]),CBC.APP.DMP&&CBC.APP.DMP.LOTAME&&CBC.APP.DMP.LOTAME.profileId&&(t["cbc:lotame_id"]=[CBC.APP.DMP.LOTAME.profileId.toString()]),window.viafoura&&window.viafoura.users&&window.viafoura.users.current&&window.viafoura.users.current().id&&(t["cbc:viafoura_id"]=[window.viafoura.users.current().id.toString()]),t}return!1},setDefaultValue:function(e,t){return t=null==t?"":t,null==e?t:e},getLocationHref:function(e){return e.location.href},getLocationHost:function(e){return e.location.host},getDoNotTrackValue:function(){return!!(window.navigator.doNotTrack&&"unspecified"!==window.navigator.doNotTrack||window.doNotTrack)},getCookiesEnabledValue:function(){return!!window.navigator.cookieEnabled},getQueryStringFromURL:function(e){return e&&e.location?e.location.search:""},determineAppName:function(e,t){var n=this.getLocationHost(t),r=this.getLocationHref(t),i=CBC.APP.SC.UTIL.getQueryStringFromURL(t),a=CBC.APP.SC.DTM&&CBC.APP.SC.DTM.DATA&&CBC.APP.SC.DTM.DATA.url?CBC.APP.SC.DTM.DATA.url:"",o=!1;if("feed"===e&&(o="ocelot"),"listen"===e&&(-1<r.indexOf("cbc.ca/listen")||-1<a.indexOf("cbc.ca/listen")?o="listen-web-app":(-1<n.indexOf("cbcmusic")||-1<a.indexOf("cbcmusic"))&&(o="music-web-app")),"watch"===e&&(-1<n.indexOf("gem.cbc.ca")||-1<n.indexOf("gem.qa.nm.cbc.ca")||-1<a.indexOf("gem.cbc.ca")||-1<a.indexOf("gem.qa.nm.cbc.ca")?o="ott-web-app":(-1<n.indexOf("watch.cbc.ca")||-1<n.indexOf("watch.qa.nm.cbc.ca")||-1<a.indexOf("watch.cbc.ca")||-1<a.indexOf("watch.qa.nm.cbc.ca"))&&(o="ott-web-app")),(-1<n.indexOf("responsive.cbc.ca")||-1<n.indexOf("cbchelp.cbc.ca")||-1<a.indexOf("responsive.cbc.ca")||-1<a.indexOf("cbchelp.cbc.ca"))&&(o="zendesk"),!(-1<n.indexOf("cbc.ca")||-1<a.indexOf("cbc.ca")||this.isExternallyHosted())||/^(feed|watch|listen|)$/.test(e)||o||(o="cbcca-web"),-1<i.indexOf("webview=true")&&-1<i.indexOf("appname=")){var s=this.queryStringToObj(i.substring(1));CBC.APP.SC.UTIL.getMetadataWhitelist().metadata.whitelist.webviewapps[s.appname]&&(o=s.appname)}return o},determineWebViewFeatureName:function(e){var t=CBC.APP.SC.UTIL.getQueryStringFromURL(e),n=!1;if(-1<t.indexOf("webview=true")&&-1<t.indexOf("featurename=")){var r=CBC.APP.SC.UTIL.queryStringToObj(t.substring(1));n=r.featurename?r.featurename:n}return n},formatKeywordsData:function(e){var n={};for(var t in e)Array.isArray(e[t])&&e[t].forEach(function(e){var t="generic"==e.type?"tag":e.type;n[t]||(n[t]=[]),e.name&&!n[t].includes(e.name)?n[t].push(e.name):e.path&&!n[t].includes(e.path)&&n[t].push(e.path)});return n},standardizeKeywordsData:function(s){var c=this;if(!("object"===_typeof2(s)&&0<s.length&&"object"===_typeof2(s[0].entities)))return s;var e=function(){var a={tags:[],concepts:[]},e=!0,t=!1,n=void 0;try{for(var o,r=function(){var e=o.value,t=e.name.toLowerCase(),n="tags",r=t;switch(t){case"person":case"company":case"organization":case"location":case"collections":break;case"tag":r="generic";break;case"subject":n="concepts";break;case"default":return"continue"}var i="tags"===n?"name":"path";e.entities.forEach(function(e){a[n].push(_defineProperty2({type:r},i,e.name))})},i=s[Symbol.iterator]();!(e=(o=i.next()).done);e=!0)r()}catch(e){t=!0,n=e}finally{try{e||null==i.return||i.return()}finally{if(t)throw n}}return c.reportMetadataExceptionForStats("Converting legacy Keywords to new structure",CBC.APP.SC.DTM.DATA),{v:a}}();return"object"===_typeof2(e)?e.v:void 0},generateAdCampaignList:function(t,e,n,r){var i=1<arguments.length&&void 0!==e?e:{},a=2<arguments.length?n:void 0,o=3<arguments.length&&void 0!==r?r:6,s=new Date(a),c=s.getFullYear(),u=s.getMonth(),l=s.getDate(),d=new Date(c,u,l);d.setMonth(d.getMonth()-o);var p=d.getTime();i=i||{};var f=Object.keys(i);return 0<f.length?f.forEach(function(e){i[t]=a,i[e]<p&&delete i[e]}):i[t]=a,i},uniqueArray:function(e){for(var t=e.concat(),n=0;n<t.length;++n)for(var r=n+1;r<t.length;++r)t[n]===t[r]&&t.splice(r--,1);return t},populateScannedMetadata:function(e,t){var n={},r=this.getAnchor(e);if(r){var i=r.href.match(/(?:)\.cbc(music)?\.ca\/([^/]+)/),a=r.href,o=r.getAttribute("data-contentid");if(i&&a&&o&&"number"==typeof t)return n.content={area:/^\.cbcmusic\.ca\//.test(i)?"music":i[0].trim().replace(/\.cbc(music)?\.ca\//,""),title:e.textContent,url:a,type:"headline",id:o,cms:"polopoly"},n.time={engaged:t},n.referrer={url:document.URL},n.app={name:"ocelot",pillar:"feed"},n}return!1},sendScanned:function(e,t){var n=this.populateScannedMetadata(e,t);return CBC.APP.SC.EventTracker.trackEvent("SCANNED",n),n},populateOTTMediaMetadata:function(e){var t=e.content&&e.content.media?e.content.media:{},n=CBC.APP.SC.DTM.formatted.amplitude,r={app:{name:"ott-web-app",pillar:"watch"},content:{media:{audiovideo:t.audiovideo?t.audiovideo:"",liveondemand:t.liveondemand?t.liveondemand:"",type:t.type?t.type:"",genre:t.genre?t.genre:"",show:t.show?t.show:"",sport:t.sport?t.sport:"",region:t.region?t.region:"",publishedtime:t.airdate&&"nan"!==t.airdate?t.airdate:"",seasonnumber:t.seasonnumber&&"nan"!==t.seasonnumber?t.seasonnumber:"",episodenumber:t.episodenumber&&"nan"!==t.episodenumber?t.episodenumber:"",length:t.length?t.length:""},area:t.contentarea?t.contentarea:"",cms:"ibm-cloud-video",id:n.contentid,tier:n.contenttier?n.contenttier:"free",title:t.streamtitle?t.streamtitle:"",url:n.url},referrer:{url:n.referrer.url,pillar:n.referrer.pillar},user:{tier:n.userTier}};if(e.content&&e.content.keywords&&(r.content.keywords=JSON.parse(JSON.stringify(e.content.keywords))),t.partnername){var i=CBC.APP.SC.UTIL.getMetadataWhitelist(),a=CBC.APP.SC.UTIL.cleanString(t.partnername),o={};for(var s in i.metadata.whitelist.partner.name)o[CBC.APP.SC.UTIL.cleanString(s)]=i.metadata.whitelist.partner.name[s];o[a]&&(r.content.partner={},r.content.partner.name=a)}if(t.sponsorname){var c=CBC.APP.SC.UTIL.getMetadataWhitelist(),u=CBC.APP.SC.UTIL.cleanString(t.sponsorname),l={};for(var d in c.metadata.whitelist.sponsor.name)l[CBC.APP.SC.UTIL.cleanString(d)]=c.metadata.whitelist.sponsor.name[d];l[u]&&(r.sponsor={},r.sponsor.name=t.sponsorname)}return e.feature&&(r.feature={},e.feature.name&&(r.feature.name=e.feature.name),e.feature.position&&(r.feature.position=e.feature.position)),""===CBC.APP.SC.UTIL.getReferringDepartmentStatus().STREAMED&&(CBC.APP.SC.UTIL.setReferringDepartmentStatus("STREAMED",r.content.id),r.referrer.department={},r.referrer.department.level1=CBC.APP.SC.DTM.formatted.amplitude.referrer.department.level1||"",r.referrer.department.level2=CBC.APP.SC.DTM.formatted.amplitude.referrer.department.level2||"",r.referrer.department.level3=CBC.APP.SC.DTM.formatted.amplitude.referrer.department.level3||"",Object.keys(r.referrer.department).forEach(function(e){""===r.referrer.department[e]&&delete r.referrer.department[e]})),Object.keys(r.content.media).forEach(function(e){""===r.content.media[e]&&delete r.content.media[e]}),Object.keys(r.content).forEach(function(e){""===r.content[e]&&delete r.content[e]}),r},getQueryStringParameterValue:function(e,t){if("string"!=typeof e)return CBC.APP.SC.UTIL.console("getQueryStringParameter: invalid parameterName"),!1;void 0===t&&(t=window.document.URL);var n=new RegExp(e+"=([^&\\s]*)"),r=t.match(n);return null===r?(CBC.APP.SC.UTIL.console("getQueryStringParameter: parameter does not exist"),null):r[1]},getMetadataWhitelist:function(){return CBC.APP.SC.metadataWhitelist},setCBCPlusIDPromise:function(){return new Promise(function(n,r){try{CBC.APP.SC.masterSwitch&&CBC.APP.SC.masterSwitch.switches.idexchange&&CBC.APP.SC.masterSwitch.idexchange&&CBC.APP.SC.masterSwitch.idexchange.endpoint&&CBC.APP.SC.UTIL.makePOSTRequest(CBC.APP.SC.masterSwitch.idexchange.endpoint+"login",JSON.stringify(CBC.APP.SC.UTIL.createUIEPayload()),{success:function(e,t){CBC.APP.SC.UTIL.console("setCBCPlusID: login success!"),CBC.APP.PubSub.publish("UIEAlert"),CBC.APP.SC.UTIL.sendVisitorUserIDsPromise(CBC.APP.SC.UTIL.createUIEPayload()).then(function(e){n(!0)}).catch(function(){CBC.APP.SC.UTIL.console("error in create sendVisitorUserIDsPromise")})},failure:function(e,t){CBC.APP.SC.UTIL.console("setCBCPlusID: login failure! Error: "+e.responseText),r("UIE failure")}},"",!0)}catch(e){CBC.APP.SC.UTIL.console("setCBCPlusID: "+e),r(e)}})},setCBCVisitorIDPromise:function(e,t){var i=this,a=0<arguments.length&&void 0!==e?e:null,o=1<arguments.length&&void 0!==t?t:null;return new Promise(function(n,r){try{CBC.APP.SC.masterSwitch&&CBC.APP.SC.masterSwitch.switches&&CBC.APP.SC.masterSwitch.switches.idexchange&&CBC.APP.SC.masterSwitch.idexchange&&CBC.APP.SC.masterSwitch.idexchange.endpoint?i.makeGETRequest(CBC.APP.SC.masterSwitch.idexchange.endpoint+"current_user",{success:function(e,t){CBC.APP.SC.UTIL.console("setCBCVisitorID: current_user success!"),CBC.APP.SC.UTIL.getCookie("cbc_visitor")?(CBC.APP.PubSub.publish("UIEAlert"),window.amplitude.getInstance("stats").init("f5b7aa101ec24385b731affd4a2f5ed0",a,{deviceId:CBC.APP.SC.UTIL.getCookie("cbc_visitor"),domain:".cbc.ca"},o)):window.amplitude.getInstance("stats").init("f5b7aa101ec24385b731affd4a2f5ed0",a,{domain:".cbc.ca"},o),CBC.APP.SC.UTIL.sendVisitorUserIDsPromise(CBC.APP.SC.UTIL.createUIEPayload()).then(function(e){n(!0)}).catch(function(){CBC.APP.SC.UTIL.console("error in create sendVisitorUserIDsPromise")})},failure:function(e,t){CBC.APP.SC.UTIL.console("setCBCVisitorID: current_user failure! Error: "+e.responseText),r("CBCVisitorID Error")}},"",!0):r("Visitor Promise ID has not been set")}catch(e){CBC.APP.SC.UTIL.console("setCBCVisitorID: "+e),r(e)}})},sendVisitorUserIDsPromise:function(e){return new Promise(function(n,r){CBC.APP.SC.UTIL.makePUTRequest(window.CBC.APP.SC.masterSwitch.idexchange.endpoint+"ids",JSON.stringify(e),{success:function(e,t){n(!0)},failure:function(e,t){r(!1)}},"",!0)})},returnURL:function(){return window.location.href},console:(e=function(){this.inDebugMode()&&console.log(arguments)},n.toString=function(){return e.toString()},n),inDebugMode:function(){return window.location.href.match(/statsDebug=true/)?t.console=!0:t.console=!1,t.console},masterSwitchMetaPromise:function(){return new Promise(function(t,n){var e="//www.cbc.ca/network/includes/stats/master-switch.json";CBC.APP.SC.UTIL.makeGETRequest(e,{success:function(e){CBC.APP.SC.masterSwitch=JSON.parse(e.responseText),t(CBC.APP.SC.masterSwitch)},failure:function(e){n(e.failure.message)}},{success:{uri:e},failure:{message:"unable to communicate"}})})},getEpochTime:function(){var e=new Date;return Math.round(e.getTime()/1e3)},loadScript:function(e,t,n,r){var i=3<arguments.length&&void 0!==r&&r,a=document.createElement("script");if(a.type="text/javascript",n&&(a.async=!0),a.readyState?a.onreadystatechange=function(){"loaded"!==a.readyState&&"complete"!==a.readyState||(a.onreadystatechange=null,t&&t())}:a.onload=function(){t&&t()},a.src=e,i){var o=document.querySelectorAll('script[src="'+e+'"]');0<o.length&&o.forEach(function(e){return e.remove()})}document.getElementsByTagName("head")[0].appendChild(a)},formatValidationException:function(e,t){return'Metadata Validation Failed - "'.concat(t,'" is not one of the valid ').concat(e,".")},reportMetadataExceptionForStats:function(e,t){return CBC.APP.SC.UTIL.console("Analytics Error: "+e),!!window.rg4js&&(window.rg4js("send",{error:e instanceof Error?e:new Error(e),customData:t}),!0)}};function n(){return e.apply(this,arguments)}}(),CBC.APP.ANA.ER=function(){var r=!1;return{report:function(e,t,n){return CBC.APP.SC.UTIL.console("Analytics Error: "+e),!!window.rg4js&&(r||(window.rg4js("setVersion","2.104.0"),r=!0),window.rg4js("send",{error:e instanceof Error?e:new Error(e),customData:t,tags:n}),!0)},TAG_TYPES:{error:{VAL:"VALIDATION",API:"API_CALL",EXC:"EXCEPTION",MISC:"MISC"},tracking:{PAGE:"PAGE_TRACKING",MEDIA:"MEDIA_TRACKING",EVENT:"EVENT_TRACKING"}}}}(),CBC.APP.SC.UTIL.getUserTests=function(){if(!CBC.APP.ANA.WEBABTESTS)return null;var e=CBC.APP.ANA.WEBABTESTS.tests,t=e.length;if(!t)return[];for(var n=[],r=0;r<t;++r)if(e[r].id&&e[r].type&&e[r].variants&&Array.isArray(e[r].variants)){var i=e[r].variants.length;if(i)for(var a=0;a<i;++a){var o={},s=e[r].id;o.id=s||"";var c=e[r].variants[a].id;if(c){var u=c.substr(0,c.indexOf("|")),l=c.substr(c.indexOf("|")+1);o.variant=u===s&&l?l:""}else o.variant="";o.content=e[r].variants[a].content||"",o.interface=e[r].type.interface||"",o.label=e[r].variants[a].label||"",o.id&&o.variant&&o.content&&o.interface&&o.label&&n.push(o)}}return n},CBCRC.ANA.DATALAYER=function(){function i(e,t,n){if(void 0===n)return e;for(var r=t.split("."),i=e,a=0;a<r.length;a++)void 0===i[r[a]]&&(i[r[a]]={}),a<r.length-1?i=i[r[a]]:i[r[a]]=o(t,n);return e}function a(e,t){for(var n=t.split("."),r=e,i=0;i<n.length;i++){if(void 0===r[n[i]])return;r=r[n[i]]}return r}var r=["mediaAdBreakCompleted","mediaAdBreakStarted","mediaBufferCompleted","mediaBufferStarted","mediaChapterStarted","mediaChapterCompleted","mediaCompleted","mediaPaused","mediaPlayStarted","mediaSessionCompleted","mediaSessionStarted"],o=function e(t,n){var r='[\n    "browser.url",\n    "referrer.id",\n    "url",\n    "user.subscription.ids"\n]\n'.includes(t);if(r||"string"!=typeof n){if(!r&&Array.isArray(n))for(var i=0;i<n.length;i++)n[i]=e(t,n[i])}else n=n.replace(/([\s]+|\+)/g,"-").replace(/[^0-9A-Za-zÀ-ÿ_\-|:$.]/g,"").toLowerCase();return n};return{getJSONValue:a,isHarmonizedDomain:function(){if(CBC.APP.SC.masterSwitch&&CBC.APP.SC.masterSwitch.harmonizedAdobe&&CBC.APP.SC.masterSwitch.harmonizedAdobe.domains&&Object.keys(CBC.APP.SC.masterSwitch.harmonizedAdobe.domains).includes(document.location.hostname))return!0;return!1},mapEventToVerb:function(e){var t=void 0;switch(e){case"pageLoaded":t=void 0!==a(CBC.APP.SC.DTM.DATA,"url")&&void 0!==a(CBC.APP.SC.DTM.DATA,"referrer.id")&&a(CBC.APP.SC.DTM.DATA,"url")===a(CBC.APP.SC.DTM.DATA,"referrer.id")?"LOADED MORE":"LOADED";break;case"castDeviceConnected":t="CAST-DEVICE CONNECTED";break;case"registered":t="REGISTERED";break;case"userSignedIn":t="SIGNED IN";break;case"userSignedOut":t="SIGNED OUT";break;case"userSubscribed":t="SUBSCRIBED";break;case"userUnsubscribed":t="UNSUBSCRIBED";break;default:return}return t},mapMetaData:function(e){for(var t={},n=JSON.parse('{\n    "appname": "app.name",\n    "appVersion": "app.version",\n    "browser.ad_blocking": "browser.ad_blocking",\n    "browser.screenwidth": "browser.screenwidth",\n    "browser.screenheight": "browser.screenheight",\n    "browser.type": "browser.type",\n    "browser.version": "browser.version",\n    "content.channel": "cms.content.channel",\n    "content.family_friendly": "cms.content.family_friendly",\n    "content.format": "cms.content.format",\n    "content.genre.level1": "cms.content.genre.level1",\n    "content.genre.level2": "cms.content.genre.level2",\n    "content.network": "cms.content.network",\n    "content.principal_audience": "cms.content.principal_audience",\n    "content.related_ids": "cms.content.related_ids",\n    "content.string": "cms.content.string",\n    "content.subject_theme.level1":\n        "cms.content.subject_theme.level1",\n    "content.subject_theme.level2":\n        "cms.content.subject_theme.level2",\n    "content.subject_theme.level3":\n        "cms.content.subject_theme.level3",\n    "contentcms": "cms.content.cms",\n    "contentid": "cms.content.id",\n    "contenttier": "cms.content.tier",\n    "contenttype": "cms.content.type",\n    "department.level1": "cms.department.level1",\n    "department.level2": "cms.department.level2",\n    "department.level3": "cms.department.level3",\n    "department.level4": "cms.department.level4",\n    "department.level5": "cms.department.level5",\n    "device.id": "device.id",\n    "device.manufacturer.name": "device.manufacturer.name",\n    "device.manufacturer.version": "device.manufacturer.version",\n    "device.offline": "device.offline",\n    "device.os.name": "device.os.name",\n    "device.os.nametype": "device.os.nametype",\n    "device.type": "device.type",\n    "feature.additionalinfo": "feature.additionalinfo",\n    "feature.instance": "feature.instance",\n    "feature.itemname": "feature.itemname",\n    "feature.name": "feature.name",\n    "feature.position": "feature.position",\n    "feature.projectname": "feature.projectname",\n    "feature.tagmanager.name": "feature.tagmanager.name",\n    "feature.value": "feature.value",\n    "geo.city": "device.geo.city",\n    "geo.country": "device.geo.country",\n    "geo.region": "device.geo.region",\n    "geo.timezone": "device.geo.timezone",\n    "media.brand": "cms.content.media.brand",\n    "media.episode": "cms.content.media.episode",\n    "media.media_title": "cms.content.media.media_title",\n    "media.season": "cms.content.media.season",\n    "osVersion": "device.os.version",\n    "other.ab_test.version": "other.ab_test.version",\n    "other.analytics.version": "other.analytics.version",\n    "page.name": "page.name",\n    "push.device.id": "push.device.id",\n    "referrer.id": "referrer.id",\n    "referrer.name": "referrer.name",\n    "referrer.type": "referrer.type",\n    "sponsor.name": "sponsor.name",\n    "structure.server.domain": "structure.server.domain",\n    "timestamp.clientside": "timestamp.clientside",\n    "timestamp.serverside": "timestamp.serverside",\n    "title": "cms.content.title",\n    "url": "browser.url",\n    "user.id": "user.id",\n    "user.plan.ids": "user.plan.ids",\n    "user.subscription.ids": "user.subscription.ids",\n    "user.tier.ids": "user.tier.ids",\n    "user.tracking.code": "user.tracking.code"\n}'),r=0;r<Object.keys(n).length;r++)i(t,Object.keys(n)[r],a(e,Object.values(n)[r]));return t},push:function(e){var t={};try{CBC.APP.PubSub.turnOn()}catch(e){console.log("There has been an error: "+e)}if(r.includes(e.event))return CBC.APP.PubSub.publish(e.event,e),e;"pageLoaded"===e.event&&(CBC.APP.SC.DTM.DATA=CBCRC.ANA.DATALAYER.mapMetaData(e),CBC.APP.SC.UTIL.setFormattedLayer());var n=CBCRC.ANA.DATALAYER.mapEventToVerb(e.event);return void 0!==n?("pageLoaded"!==e.event&&1<Object.keys(e).length&&(t=CBCRC.ANA.DATALAYER.mapMetaData(e)),CBC.APP.SC.EventTracker.trackEvent(n,t),CBC.APP.SC.DTM.DATA):void 0},sanitizeDataElement:o,validateMediaProperties:function(s,c,u,l,d){var p="MEDIAOBJ_VALIDATION_FAILED",f={name:void 0,message:void 0,returnCode:void 0},h=["mediaAdBreakStarted","mediaChapterStarted","mediaSessionStarted"].includes(s)?s.toUpperCase():"MEDIAOTHER";if(void 0===d)if("MEDIASESSIONSTARTED"===h){var e=window.CBC.APP.SC.UTIL.checkPropertyExistence(c,"cms.content.media.liveondemand"),t=!1;if(void 0!==e){t=["LINEAR","LIVE","ONDEMAND","ALL_STREAM_TYPES"].includes(e.toUpperCase().replace("-",""))}if(t)d=e.toUpperCase().replace("-","");else{var n=new Error("1: Missing mandatory property at: cms.content.media.liveondemand");n.name="NOT FOUND",window.CBC.APP.ANA.ER.report(n,c,[window.CBC.APP.ANA.ER.TAG_TYPES.error.VAL,window.CBC.APP.ANA.ER.TAG_TYPES.tracking.MEDIA,"mediaSessionStarted"]),d="ONDEMAND"}}else d="ALL_STREAM_TYPES";return Object.entries(u).forEach(function(e){var t=_slicedToArray(e,2),n=t[0],r=t[1];if(l.push(n),"object"===_typeof2(r)&&(r.mediaSessionStarted||r.mediaChapterStarted||r.mediaAdBreakStarted||r.mediaOther)){var o=!1;Object.entries(r).forEach(function(e){var t=_slicedToArray(e,2),n=t[0],r=t[1];if(!o){var i=r.streamTypes.map(function(e){return e.toUpperCase().replace("-","")}),a=i.includes("ALL_STREAM_TYPES");o=n.toUpperCase()===h&&r.mandatory&&(i.includes(d.toUpperCase().replace("-",""))||a)}}),o&&(!{}.hasOwnProperty.call(c,n)&&f.name!==p?(f.name=p,f.message="1: Missing mandatory property at: "+l.join("."),f.returnCode=1):"object"!==_typeof2(c[n])||Array.isArray(c[n])||f.name===p||(f.name=p,f.message="2: Found object when mandatory value was expected at: "+l.join("."),f.returnCode=2))}else if("object"===_typeof2(r)&&Array.isArray(r)||"object"!==_typeof2(r))f.name=p,f.message="3: Invalid mapping artifact located at: "+l.join("."),f.returnCode=3;else{var i="object"!==_typeof2(c[n])||Array.isArray(c[n])?{}:c[n],a=window.CBCRC.ANA.DATALAYER.validateMediaProperties(s,i,u[n],l,d);a.returnCode&&f.name!==p&&(f.name=a.name,f.message=a.message,f.returnCode=a.returnCode)}l.pop()}),f.name!==p&&(f.name="MEDIAOBJ_VALIDATION_SUCCESS",f.message="0: Payload successfully validated",f.returnCode=0),f}}}(),CBC.APP.ANA.FORMATTERS.Common=function(){"use strict";function r(e,t,n){var r=2<arguments.length&&void 0!==n?n:void 0;return"function"!=typeof r?t||(e||r):r(e,t)}return{setPayloadProperty:r,formatAuthenticated:function(e,t){return t||"boolean"==typeof t?Boolean(t):Boolean(e)},formatAuthors:function(e,t){var n=r(e,t);return n&&Array.isArray(n)?n:n&&"string"==typeof n?n.split(","):void 0},formatEmbeddedTypes:function(e,t){return e?{media:e}:void 0},formatKeywords:function(e,t){return t||(e&&"object"===_typeof2(e)?CBC.APP.SC.UTIL.formatKeywordsData(e):"string"==typeof e?e:void 0)},formatEpisodeSeasonNumber:function(e,t){var n="nan";if(e&&t&&/^(E|S)$/i.test(t)){var r=/^E$/i.test(t)?/^(E|e)?[0-9]+$/:/^(S|s)?[0-9]+$/,i=/^E$/i.test(t)?"e":"s";r.test(e)&&(1===(n=e.toString().toLowerCase()).length?n="".concat(i,"0").concat(n):2===n.length&&n.charAt(0)===i?n="".concat(i,"0").concat(n.charAt(1)):n.charAt(0)!==i&&(n="".concat(i).concat(n)))}return n},formatGeoTimezone:function(e,t){var n=t||e;return n&&n.timezone?{geo:{timezone:n.timezone}}:void 0},formatTimeEngaged:function(e,t){return"number"==typeof t&&0<t?{engaged:t}:void 0},formatUserInterests:function(e,t){var n={},r=t?JSON.parse(JSON.stringify(t)):{};return r.explicit&&(n.explicit={},Array.isArray(r.explicit.yes)&&r.explicit.yes.length&&(n.explicit.yes=r.explicit.yes.map(function(e){return e.toLowerCase()})),Array.isArray(r.explicit.no)&&r.explicit.no.length&&(n.explicit.no=r.explicit.no.map(function(e){return e.toLowerCase()}))),r.implicit&&(n.implicit={},Array.isArray(r.implicit.yes)&&r.implicit.yes.length&&(n.implicit.yes=r.implicit.yes.map(function(e){return e.toLowerCase()})),Array.isArray(r.implicit.no)&&r.implicit.no.length&&(n.implicit.no=r.implicit.no.map(function(e){return e.toLowerCase()}))),Object.keys(n).length?n:void 0}}}(),CBC.APP.ANA.FORMATTERS.Amplitude=function(){"use strict";function a(e,t,n){var r=2<arguments.length&&void 0!==n?n:void 0;return CBC.APP.ANA.FORMATTERS.Common.setPayloadProperty(e,t,r)}function n(e,t){return CBC.APP.ANA.FORMATTERS.Common.formatEpisodeSeasonNumber(e,t)}function o(e,t){return CBC.APP.ANA.FORMATTERS.Common.formatAuthenticated(e,t)}function s(e,t){return CBC.APP.ANA.FORMATTERS.Common.formatAuthors(e,t)}function c(e,t){return CBC.APP.ANA.FORMATTERS.Common.formatEmbeddedTypes(e,t)}function u(e,t){return CBC.APP.ANA.FORMATTERS.Common.formatKeywords(e,t)}function l(e,t){return n(t,"E")}function d(e,t){return n(t,"S")}function p(e,t){return CBC.APP.ANA.FORMATTERS.Common.formatGeoTimezone(e,t)}function f(e,t){return CBC.APP.ANA.FORMATTERS.Common.formatTimeEngaged(e,t)}function h(e,t){return CBC.APP.ANA.FORMATTERS.Common.formatUserInterests(e,t)}var i=[];var P=function(e,t){r(),_(),CBC.APP.ANA.DISPATCHERS.Amplitude.dispatch(e,t)},S=function(){var e=CBC.APP.SC.UTIL.getCookie("cbc_plus");return!!e&&(window.amplitude.getInstance("stats").setUserId(e),!0)},w=function(){return window.amplitude.getInstance("stats").setUserId(null),!0},I=function(e){window.amplitude.getInstance("stats").setUserProperties(e)},E=function(e,t,n){if(void 0===window.amplitude||void 0===(new window.amplitude.Identify)[e])return i.push([e,t,n]),!1;var r=(new window.amplitude.Identify)[e](t,n);return window.amplitude.getInstance("stats").identify(r),r},r=function(){var e=CBC.APP.SC.UTIL.getCookie("cbc_plus"),t=CBC.APP.SC.UTIL.getCookie("cbc_visitor");return e?(CBC.APP.ANA.FORMATTERS.Amplitude.mUP("set","user.id",e),e):!!t&&(CBC.APP.ANA.FORMATTERS.Amplitude.mUP("setOnce","user.id",t),t)},_=function(){var e="set",t="authenticated";return CBC.APP.SC.UTIL.getCookie("cbc_plus")?void 0!==CBC.APP.SC.DTM.DATA&&"premium"===CBC.APP.SC.DTM.DATA.userTier&&(t="premium"):(e="setOnce",t="free"),CBC.APP.ANA.FORMATTERS.Amplitude.mUP(e,"user.tier",t),t},T=function(e){if("true"!==window.CBC.APP.SC.UTIL.getQueryStringParameterValue("webview",e))return CBC.APP.SC.UTIL.debug("checkWebView: not a webview"),!1;var t=window.CBC.APP.SC.UTIL.getQueryStringParameterValue("appname",e);if(window.CBC.APP.SC.UTIL.getMetadataWhitelist().metadata.whitelist.webviewapps[t]){var n=window.CBC.APP.SC.UTIL.getQueryStringParameterValue("udid",e);return n?(CBC.APP.SC.UTIL.debug("checkWebView: setting deviceId"),CBC.APP.ANA.FORMATTERS.Amplitude.sDID(n),n):(CBC.APP.SC.UTIL.debug("checkWebView: no deviceId passed"),!1)}return CBC.APP.SC.UTIL.debug("checkWebView: not a whitelisted app"),!1},D=function(e){e.content&&delete e.content.wordcount},k=function(e){e.content&&delete e.content.embedded};return{setPayloadProperty:a,formatAuthenticated:o,formatAuthors:s,formatEmbeddedTypes:c,formatKeywords:u,formatEpisodeNumber:l,formatSeasonNumber:d,formatGeoTimezone:p,formatTimeEngaged:f,formatUserInterests:h,formatSignal:function(t,e){if("string"!=typeof t)return CBC.APP.SC.UTIL.debug("EventTracker - Warning: did not send an event name: "+t),!1;if("object"!==_typeof2(e))return CBC.APP.SC.UTIL.debug("EventTracker - Warning: event properties must be sent as an object: "+e),!1;if(!function(e){var t=e.toUpperCase();return Boolean(CBC.APP.SC.EventTracker.getValidEvents()[t])}(t))return CBC.APP.SC.UTIL.debug("EventTracker - Warning: not a valid event: "+t),!1;var n,r=CBC.APP.SC.UTIL.sanitizeObject(JSON.parse(JSON.stringify(e))),i=t.toUpperCase(),a={};if(!["STREAMED","SCANNED","WATCHED","LISTENED"].includes(i)&&"object"===_typeof2(CBC.APP.SC.DTM.formatted)&&"object"===_typeof2(CBC.APP.SC.DTM.formatted.amplitude)&&0<Object.keys(CBC.APP.SC.DTM.formatted.amplitude).length?a=Object.keys(r).length<1?(CBC.APP.SC.UTIL.debug("set up event properties from DTM object if amplitudeEventProperties object is empty"),CBC.APP.ANA.FORMATTERS.Amplitude.formatAmplitude({dl:CBC.APP.SC.DTM.formatted.amplitude})):(CBC.APP.SC.UTIL.debug("merge the 2 objects ep and dl together"),CBC.APP.ANA.FORMATTERS.Amplitude.formatAmplitude({ep:r,dl:CBC.APP.SC.DTM.formatted.amplitude})):["STREAMED","WATCHED"].includes(i)&&CBC.APP.SC.DTM.formatted&&CBC.APP.SC.DTM.formatted.amplitude&&"watch"===CBC.APP.SC.DTM.formatted.amplitude.pillar?a=r&&Object.keys(r).length?CBC.APP.SC.UTIL.populateOTTMediaMetadata(r):CBC.APP.ANA.FORMATTERS.Amplitude.formatAmplitude({dl:CBC.APP.SC.DTM.formatted.amplitude}):"object"===_typeof2(r)&&(CBC.APP.SC.UTIL.debug("setting eventProps to default amplitudeEventProperties argument"),a=r),["FOLLOWED","UNFOLLOWED"].includes(i)){var o=CBC.APP.SC.metadataWhitelist.metadata.whitelist.content.cms,s=a.user&&a.user.interests&&a.user.interests.explicit,c="FOLLOWED"===i?"yes":"no";if(!(a.content&&a.content.cms&&o[a.content.cms]))return CBC.APP.SC.UTIL.debug("EventTracker - Warning: "+i+" requires cms field to be set and present on metadata-whitelist"),!1;if(!s)return CBC.APP.SC.UTIL.debug("EventTracker - Warning: "+i+" requires explicit interests to be provided"),!1;var u=a.user.interests.explicit[c];if(!(u&&Array.isArray(u)&&0<u.length))return CBC.APP.SC.UTIL.debug("EventTracker - Warning: "+i+" explicit interests "+c+" array is required and must not empty"),!1}if("START WEB SESSION"===i||"LOADED"===i){var l=window.CBC.APP.SC.UTIL.getQueryStringParameterValue("cmp");l&&(a.referrer||(a.referrer={}),a.referrer.campaign=l,I({referrer:{campaign:l}})),T(window.document.URL)}if("LOADED"===i){var d=CBC.APP.SC.UTIL.determineWebViewFeatureName(window);if(d){var p=CBC.APP.ANA.VALIDATORS.Common.getFeatureNameRegex(),f=!0,h=!1,_=void 0;try{for(var g,m=p[Symbol.iterator]();!(f=(g=m.next()).done);f=!0){var v=g.value;if(RegExp(v).test(d)){a.feature||(a.feature={}),a.feature.name=d;break}}}catch(e){h=!0,_=e}finally{try{f||null==m.return||m.return()}finally{if(h)throw _}}}}if(CBC.APP.SC.UTIL.getCBCUserProperties()&&I(CBC.APP.SC.UTIL.getCBCUserProperties()),Object.keys(a).length<1)return CBC.APP.SC.UTIL.debug("EventTracker - Amplitude - Warning: no event properties were sent"),!1;if("READ"===i){if("index"===a.content.type)return CBC.APP.SC.UTIL.debug("READ validation failed, content = index"),!1;"comments"===a.content.type&&(a.content.cms||(a.content.cms="polopoly"),a.referrer.department&&delete a.referrer.department,a.referrer.pillar&&delete a.referrer.pillar),["story","segment","blogentry"].includes(CBC.APP.SC.DTM.DATA.contenttype)||D(a)}else if("VIEWED AD"===i){if("displayad"===a.content.type){var C=CBC.APP.SC.UTIL.getCookie("stats_ad.campaigns.seen"),y={};C&&(y=JSON.parse(C));var A=CBC.APP.SC.UTIL.generateAdCampaignList(a.content.id,y,(new Date).getTime());CBC.APP.SC.UTIL.setCookie("stats_ad.campaigns.seen",JSON.stringify(A)),E("set","ad.campaigns.seen",Object.keys(A))}}else if("LOADED"===i)["story","segment","blogentry"].includes(CBC.APP.SC.DTM.DATA.contenttype)||(D(a),k(a));else if("PLAYED"===i&&!CBC.APP.ANA.VALIDATORS.Common.validatePlayedContentType(a))return CBC.APP.SC.UTIL.debug("Amplitude payload failed PLAYED validation: "+JSON.stringify(a)),!1;"LOADED"!==i&&"READ"!==i&&D(a),"LOADED"!==i&&k(a),CBC.APP.AB&&CBC.APP.AB.Testing&&("STREAMED"===t.replace(" ","-").toUpperCase()&&a.content&&(!a.content.media||"video"!==a.content.media.audiovideo&&"audio"!==a.content.media.audiovideo?"video"!==a.content.area&&"audio"!==a.content.area||(n={audiovideo:a.content.area}):n={audiovideo:a.content.media.audiovideo}),CBC.APP.AB.Testing.viewStateChange(t.replace(" ","-").toUpperCase(),n));if(["LOADED","READ","STREAMED","WATCHED"].includes(i)||(a.sponsor&&delete a.sponsor,a.content&&a.content.partner&&delete a.content.partner),a.sponsor&&a.sponsor.id&&delete a.sponsor.id,a.partner&&a.partner.id&&delete a.partner.id,a.user&&a.user.reason){var b=CBC.APP.SC.UTIL.getMetadataWhitelist().metadata.whitelist;("SUBSCRIBED"!==i&&"UNSUBSCRIBED"!==i||"SUBSCRIBED"===i&&!0!==b.user.reason.SUBSCRIBED[a.user.reason])&&delete a.user.reason}return a=CBC.APP.SC.UTIL.removeGemID(a),"SIGNED IN"===t?CBC.APP.SC.UTIL.setCBCPlusIDPromise().then(function(e){S(),P(t,a)},function(e){console.log(e),P(t,a)}):("SIGNED OUT"===t&&w(),P(t,a)),a},formatAmplitude:function(e){var t={},n={};if("object"!==_typeof2(e.dl)&&"object"!==_typeof2(e.ep))return{};"object"===_typeof2(e.dl)&&(t=JSON.parse(JSON.stringify(e.dl))),t.department=t.department||{},t.partner=t.partner||{},t.referrer=t.referrer||{},t.referrer.department=t.referrer.department||{},t.sponsor=t.sponsor||{},"object"===_typeof2(e.ep)&&(n=JSON.parse(JSON.stringify(e.ep))),n.app=n.app||{},n.content=n.content||{},n.content.media=n.content.media||{},n.content.partner=n.content.partner||{},n.department=n.department||{},n.feature=n.feature||{},n.referrer=n.referrer||{},n.referrer.department=n.referrer.department||{},n.sponsor=n.sponsor||{},n.time=n.time||{},n.user=n.user||{};var r={app:{name:a(t.appname,n.app.name),pillar:a(t.pillar,n.app.pillar,"legacy"),version:a(null,n.app.version)},content:{area:a(t.contentarea,n.content.area,"misc"),authenticated:a(t.authenticated,n.content.authenticated,o),authors:a(t.authors,n.content.authors,s),cms:a(t.contentcms,n.content.cms),embedded:a(t.embedtypes,null,c),id:a(t.contentid,n.content.id),keywords:a(t.keywords,null,u),media:{audiovideo:a(null,n.content.media.audiovideo),episodenumber:a(null,n.content.media.episodenumber,l),genre:a(null,n.content.media.genre),length:a(null,n.content.media.length),liveondemand:a(null,n.content.media.liveondemand),publishedtime:a(null,n.content.media.publishedtime),region:a(null,n.content.media.region),seasonnumber:a(null,n.content.media.seasonnumber,d),show:a(null,n.content.media.show),sport:a(null,n.content.media.sport),type:a(null,n.content.media.type)},partner:{name:a(t.partner.name,n.content.partner.name)},publishedtime:a(t.publishedTime,n.content.publishedtime),originaltitle:a(t.originaltitle,n.content.originaltitle),subsection1:a(t.subsection1,n.content.subsection1),subsection2:a(t.subsection2,n.content.subsection2),subsection3:a(t.subsection3,n.content.subsection3),subsection4:a(t.subsection4,n.content.subsection4),title:a(t.title,n.content.title,document.title),type:a(t.contenttype,n.content.type,"page"),updatedtime:a(t.updatedTime,n.content.updatedtime),url:a(t.url,n.content.url,document.location.href),wordcount:a(t.wordcount,n.content.wordcount)},custom:a(null,n.custom),department:{level1:a(t.department.level1,n.department.level1),level2:a(t.department.level2,n.department.level2),level3:a(t.department.level3,n.department.level3)},device:a(t.geo,n.geo,p),feature:{instance:a(null,n.feature.instance),name:a(null,n.feature.name),position:a(null,n.feature.position),value:a(null,n.feature.value)},referrer:{campaign:a(t.referrer.campaign,n.referrer.campaign),department:{level1:a(t.referrer.department.level1,n.referrer.department.level1),level2:a(t.referrer.department.level2,n.referrer.department.level2),level3:a(t.referrer.department.level3,n.referrer.department.level3)},pillar:a(t.referrer.pillar,n.referrer.pillar),source:a(null,n.referrer.source),url:a(t.referrer.url,n.referrer.url)},sponsor:{name:a(t.sponsor.name,n.sponsor.name)},time:a(null,n.time.engaged,f),user:{interests:a(null,n.user.interests,h),reason:a(null,n.user.reason,function(e,t){return t?t.toLowerCase():void 0}),selection:a(null,n.user.selection,function(e,t){return t?t.toLowerCase():void 0}),subscriptions:void 0}},i=JSON.parse(JSON.stringify(r,function(e,t){return""===t||null===t||Array.isArray(t)&&!t.length||"object"===_typeof2(t)&&!Object.keys(t).length?void 0:t}));return(i=JSON.parse(JSON.stringify(i,function(e,t){return""===t||null===t||Array.isArray(t)&&!t.length||"object"===_typeof2(t)&&!Object.keys(t).length?void 0:t}))).content&&i.content.media&&"nan"===i.content.media.episodenumber&&"nan"===i.content.media.seasonnumber&&2===Object.keys(i.content.media).length&&(delete i.content.media,Object.keys(i.content).length||delete i.content),i},sUID:S,sDID:function(e){return"string"==typeof e&&e?(CBC.APP.SC.UTIL.debug("setDeviceID: setting device id to: "+e),window.amplitude.getInstance("stats").setDeviceId(e),e):(CBC.APP.SC.UTIL.debug("setDeviceID: invalid device id specified"),!1)},sUP:I,mUP:E,uUT:_,uUID:r,cWV:T,executeUPQueue:function(){if(i.length){for(var e=0;e<i.length;e++)E(i[e][0],i[e][1],i[e][2]);i=[]}}}}(),CBC.APP.ANA.FORMATTERS.Comscore=function(){"use strict";return{c3mapper:function(e){switch(CBC.APP.SC.UTIL.cleanString(e)){case"arts":return"CBCArts";case"comedy":return"CBCComedy";case"kids":return"CBCKids";case"life":return"CBCLife";case"listen":return"CBCListen";case"music":return"CBCMusic";case"news":return"CBCNews";case"radio":return"CBCRADIO";case"sports":return"CBCSPORTS";default:return"CBC"}}}}(),CBC.APP.ANA.FORMATTERS.MirRoar=function(){"use strict";function a(e,t,n){var r=2<arguments.length&&void 0!==n?n:void 0;return CBC.APP.ANA.FORMATTERS.Common.setPayloadProperty(e,t,r)}function n(e,t){return CBC.APP.ANA.FORMATTERS.Common.formatEpisodeSeasonNumber(e,t)}function o(e,t){return CBC.APP.ANA.FORMATTERS.Common.formatAuthenticated(e,t)}function s(e,t){return CBC.APP.ANA.FORMATTERS.Common.formatAuthors(e,t)}function c(e,t){return CBC.APP.ANA.FORMATTERS.Common.formatEmbeddedTypes(e,t)}function u(e,t){return CBC.APP.ANA.FORMATTERS.Common.formatKeywords(e,t)}function l(e,t){return n(t,"E")}function d(e,t){return n(t,"S")}function p(e,t){return CBC.APP.ANA.FORMATTERS.Common.formatGeoTimezone(e,t)}function f(e,t){return CBC.APP.ANA.FORMATTERS.Common.formatTimeEngaged(e,t)}function h(e,t){return CBC.APP.ANA.FORMATTERS.Common.formatUserInterests(e,t)}function y(e){var t={},n={};if("object"!==_typeof2(e.dl)&&"object"!==_typeof2(e.ep))return{};"object"===_typeof2(e.dl)&&(t=JSON.parse(JSON.stringify(e.dl))),t.department=t.department||{},t.geo=t.geo||{},t.partner=t.partner||{},t.referrer=t.referrer||{},t.referrer.department=t.referrer.department||{},t.sponsor=t.sponsor||{},"object"===_typeof2(e.ep)&&(n=JSON.parse(JSON.stringify(e.ep))),n.app=n.app||{},n.content=n.content||{},n.content.media=n.content.media||{},n.content.partner=n.content.partner||{},n.department=n.department||{},n.feature=n.feature||{},n.referrer=n.referrer||{},n.referrer.department=n.referrer.department||{},n.sponsor=n.sponsor||{},n.time=n.time||{},n.user=n.user||{};var r={user_id:null!=_()||null!=g()?_()?_():g():null,event_properties:{app:{name:a(t.appname,n.app.name),pillar:a(t.pillar,n.app.pillar,"legacy"),version:a(null,n.app.version)},content:{area:a(t.contentarea,n.content.area,"misc"),cms:a(t.contentcms,n.content.cms),department:{level1:a(t.department.level1,n.department.level1),level2:a(t.department.level2,n.department.level2),level3:a(t.department.level3,n.department.level3)},id:a(t.contentid,n.content.id),embedded:a(t.embedtypes,null,c),keywords:a(t.keywords,n.content.keywords,u),partner:{name:a(t.partner.name,n.content.partner.name)},authenticated:a(t.authenticated,n.content.authenticated,o),authors:a(t.authors,n.content.authors,s),publishedtime:a(t.publishedTime,n.content.publishedtime),originaltitle:a(t.originaltitle,n.content.originaltitle),subsection1:a(t.subsection1,n.content.subsection1),subsection2:a(t.subsection2,n.content.subsection2),subsection3:a(t.subsection3,n.content.subsection3),subsection4:a(t.subsection4,n.content.subsection4),title:a(t.title,n.content.title,document.title),type:a(t.contenttype,n.content.type,"page"),updatedtime:a(t.updatedTime,n.content.updatedtime),url:a(t.url,n.content.url,document.location.href),wordcount:a(t.wordcount,n.content.wordcount),media:{audiovideo:a(null,n.content.media.audiovideo),episodenumber:a(null,n.content.media.episodenumber,l),genre:a(null,n.content.media.genre),length:a(null,n.content.media.length),liveondemand:a(null,n.content.media.liveondemand),publishedtime:a(null,n.content.media.publishedtime),region:a(null,n.content.media.region),seasonnumber:a(null,n.content.media.seasonnumber,d),show:a(null,n.content.media.show),sport:a(null,n.content.media.sport),type:a(null,n.content.media.type)}},feature:{instance:a(null,n.feature.instance),name:a(null,n.feature.name),position:a(null,n.feature.position),value:a(null,n.feature.value)},referrer:{campaign:a(t.referrer.campaign,n.referrer.campaign),department:{level1:a(t.referrer.department.level1,n.referrer.department.level1),level2:a(t.referrer.department.level2,n.referrer.department.level2),level3:a(t.referrer.department.level3,n.referrer.department.level3)},pillar:a(t.referrer.pillar,n.referrer.pillar),source:a(null,n.referrer.source),url:a(t.referrer.url,n.referrer.url)},sponsor:{name:a(t.sponsor.name,n.sponsor.name)}},custom:a(null,n.custom),device:a(t.geo,n.geo,p),country:a(t.geo,n.geo,function(){return CBC.APP.ANA.FORMATTERS.MirRoar.formatLocations(t.geo,n.geo,"country")}),region:a(t.geo,n.geo,function(){return CBC.APP.ANA.FORMATTERS.MirRoar.formatLocations(t.geo,n.geo,"region")}),city:a(t.geo,n.geo,function(){return CBC.APP.ANA.FORMATTERS.MirRoar.formatLocations(t.geo,n.geo,"city")}),timeengaged:a(null,n.time.engaged,f),time:CBC.APP.ANA.FORMATTERS.MirRoar.getTimeStamp(),session_id:a(CBC.APP.ANA.VARS.sessionID,CBC.APP.SC.UTIL.getCookie("cbc-session")),user_properties:{user:{interests:a(null,n.user.interests,h),id:{cbcvisitor:g(),cbcplus:_()},reason:a(null,n.user.reason,function(e,t){return t?t.toLowerCase():void 0}),selection:a(null,n.user.selection,function(e,t){return t?t.toLowerCase():void 0}),subscriptions:void 0,tier:function(){var e="authenticated";return _()?void 0!==CBC.APP.SC.DTM.DATA&&"premium"===CBC.APP.SC.DTM.DATA.userTier&&(e="premium"):e="free",e}()}}},i=JSON.parse(JSON.stringify(r,function(e,t){return""===t||null===t||Array.isArray(t)&&!t.length||"object"===_typeof2(t)&&!Object.keys(t).length?void 0:t}));return(i=JSON.parse(JSON.stringify(i,function(e,t){return""===t||null===t||Array.isArray(t)&&!t.length||"object"===_typeof2(t)&&!Object.keys(t).length?void 0:t}))).event_properties.content&&i.event_properties.content.media&&"nan"===i.event_properties.content.media.episodenumber&&"nan"===i.event_properties.content.media.seasonnumber&&2===Object.keys(i.event_properties.content.media).length&&(delete i.event_properties.content.media,Object.keys(i.event_properties.content).length||delete i.event_properties.content),i}function A(e){e.event_properties&&e.event_properties.content&&e.event_properties.content.wordcount&&delete e.event_properties.content.wordcount}function b(e){e.event_properties&&e.event_properties.content&&e.event_properties.content.embedded&&delete e.event_properties.content.embedded}var _=function(){var e=null;return CBC.APP.SC.UTIL.getCookie("cbc_plus")&&(e=CBC.APP.SC.UTIL.getCookie("cbc_plus")),e},g=function(){var e=null;return CBC.APP.SC.UTIL.getCookie("cbc_visitor")&&(e=CBC.APP.SC.UTIL.getCookie("cbc_visitor")),e};return{setPayloadProperty:a,formatAuthenticated:o,formatAuthors:s,formatEmbeddedTypes:c,formatKeywords:u,formatEpisodeNumber:l,formatSeasonNumber:d,formatGeoTimezone:p,formatLocations:function(e,t,n){var r=t&&t[n]?t:e;return r&&r[n]?r[n]:void 0},formatTimeEngaged:f,formatUserInterests:h,formatMirRoar:y,formatSignal:function(e,t){var n=CBC.APP.SC.UTIL.sanitizeObject(JSON.parse(JSON.stringify(t)));if("string"!=typeof e)return CBC.APP.SC.UTIL.debug("EventTracker - Warning: did not send an event name: "+e),!1;if("object"!==_typeof2(n))return CBC.APP.SC.UTIL.debug("EventTracker - Warning: event properties must be sent as an object: "+n),!1;var r=e.toUpperCase(),i={};if(i=Object.keys(n).length<1?(CBC.APP.SC.UTIL.debug("set up event properties from DTM object if mirEventProperties object is empty"),y({dl:CBC.APP.SC.DTM.formatted.MirRoar})):(CBC.APP.SC.UTIL.debug("merge the 2 objects ep and dl together"),y({ep:n,dl:CBC.APP.SC.DTM.formatted.MirRoar})),["FOLLOWED","UNFOLLOWED"].includes(r)){var a=CBC.APP.SC.metadataWhitelist.metadata.whitelist.content.cms,o=i.user_properties&&i.user_properties.user&&i.user_properties.user.interests&&i.user_properties.user.interests.explicit,s="FOLLOWED"===r?"yes":"no";if(!(i.event_properties&&i.event_properties.content&&i.event_properties.content.cms&&a[i.event_properties.content.cms]))return CBC.APP.SC.UTIL.debug("EventTracker - Warning: "+r+" requires cms field to be set and present on metadata-whitelist"),!1;if(!o)return CBC.APP.SC.UTIL.debug("EventTracker - Warning: "+r+" requires explicit interests to be provided"),!1;var c=i.user_properties.user.interests.explicit[s];if(!(c&&Array.isArray(c)&&0<c.length))return CBC.APP.SC.UTIL.debug("EventTracker - Warning: "+r+" explicit interests "+s+" array is required and must not empty"),!1}if("START WEB SESSION"===r||"LOADED"===r){var u=window.CBC.APP.SC.UTIL.getQueryStringParameterValue("cmp");u&&(i.referrer||(i.referrer={}),i.referrer.campaign=u)}var l=function(e){if("true"!==window.CBC.APP.SC.UTIL.getQueryStringParameterValue("webview",e))return CBC.APP.SC.UTIL.debug("checkWebView: not a webview"),!1;var t=window.CBC.APP.SC.UTIL.getQueryStringParameterValue("appname",e);if(window.CBC.APP.SC.UTIL.getMetadataWhitelist().metadata.whitelist.webviewapps[t]){var n=window.CBC.APP.SC.UTIL.getQueryStringParameterValue("udid",e);return n?(CBC.APP.SC.UTIL.debug("checkWebView: setting deviceId"),n):(CBC.APP.SC.UTIL.debug("checkWebView: no deviceId passed"),!1)}return CBC.APP.SC.UTIL.debug("checkWebView: not a whitelisted app"),!1}(window.document.URL);if(l&&(i.device_id=l),function(e,t){t.event_type=e}(r,i),"LOADED"===r){var d=CBC.APP.SC.UTIL.determineWebViewFeatureName(window);if(d){var p=CBC.APP.ANA.VALIDATORS.Common.getFeatureNameRegex(),f=!0,h=!1,_=void 0;try{for(var g,m=p[Symbol.iterator]();!(f=(g=m.next()).done);f=!0){var v=g.value;if(RegExp(v).test(d)){i.event_properties.feature||(i.event_properties.feature={}),i.event_properties.feature.name=d;break}}}catch(e){h=!0,_=e}finally{try{f||null==m.return||m.return()}finally{if(h)throw _}}}}if(Object.keys(i).length<1)return CBC.APP.SC.UTIL.debug("EventTracker - Warning: no event properties were sent"),!1;if("READ"===r){if("index"===i.event_properties.content.type)return CBC.APP.SC.UTIL.debug("READ validation failed, content = index"),!1;"comments"===i.event_properties.content.type&&(i.event_properties.content.cms||(i.event_properties.content.cms="polopoly"),i.event_properties.referrer.department&&delete i.event_properties.referrer.department,i.event_properties.referrer.pillar&&delete i.event_properties.referrer.pillar),["story","segment","blogentry"].includes(CBC.APP.SC.DTM.DATA.contenttype)||A(i)}else if("LOADED"===r)["story","segment","blogentry"].includes(CBC.APP.SC.DTM.DATA.contenttype)||(A(i),b(i));else if("PLAYED"===r&&!CBC.APP.ANA.VALIDATORS.Common.validatePlayedContentType(i))return CBC.APP.SC.UTIL.debug("mir payload failed PLAYED validation: "+JSON.stringify(i)),!1;if("LOADED"!==r&&"READ"!==r&&A(i),"LOADED"!==r&&b(i),["LOADED","READ","STREAMED","WATCHED"].includes(r)||(i.event_properties.sponsor&&delete i.event_properties.sponsor,i.event_properties.content&&i.event_properties.content.partner&&delete i.event_properties.content.partner),i.event_properties.sponsor&&i.event_properties.sponsor.id&&delete i.event_properties.sponsor.id,i.event_properties.content.partner&&i.event_properties.content.partner.id&&delete i.event_properties.content.partner.id,i.user&&i.user.reason){var C=CBC.APP.SC.UTIL.getMetadataWhitelist().metadata.whitelist;("SUBSCRIBED"!==r&&"UNSUBSCRIBED"!==r||"SUBSCRIBED"===r&&!0!==C.user.reason.SUBSCRIBED[i.user.reason])&&delete i.user.reason}return["STREAMED","WATCHED"].includes(r)&&((i.event_properties.content&&i.event_properties.content.media&&"nan"==i.event_properties.content.media.episodenumber||"nan"==i.event_properties.content.media.seasonnumber)&&(i.event_properties.content.media.episodenumber&&delete i.event_properties.content.media.episodenumber,i.event_properties.content.media.seasonnumber&&delete i.event_properties.content.media.seasonnumber),i.event_properties.content&&i.event_properties.content.media&&"nan"==i.event_properties.content.media.publishedTime&&delete i.event_properties.content.media.publishedTime,"watch"==i.event_properties.app.pillar&&"ott-web-app"==i.event_properties.app.name&&(i.event_properties.content.cms="ibm-cloud-video")),CBC.APP.ANA.DISPATCHERS.MirRoar.dispatch(i),i},getCBCPlusID:_,getCBCVisitorID:g,getTimeStamp:function(){return(new Date).getTime()}}}(),CBC.APP.ANA.FORMATTERS.HarmonizedAdobe=function(){"use strict";function r(){delete window.s_cbc_sitecatalyst.pageName,window.s_cbc_sitecatalyst.clearVars()}function i(e){switch(e){case"CAST-DEVICE CONNECTED":s_cbc_sitecatalyst.linkTrackEvents="event1";break;case"REGISTERED":s_cbc_sitecatalyst.linkTrackEvents="event2";break;case"SIGNED IN":s_cbc_sitecatalyst.linkTrackEvents="event3";break;case"SIGNED OUT":s_cbc_sitecatalyst.linkTrackEvents="event4";break;case"SUBSCRIBED":s_cbc_sitecatalyst.linkTrackEvents="event5";break;case"UNSUBSCRIBED":s_cbc_sitecatalyst.linkTrackEvents="event6";break;default:s_cbc_sitecatalyst.linkTrackEvents="None"}s_cbc_sitecatalyst.events=s_cbc_sitecatalyst.linkTrackEvents}function a(n){for(var r=["events"],e=JSON.parse('{\n    "appname": ["prop1", "eVar1"],\n    "appVersion": ["prop2","eVar2"],\n    "browser.ad_blocking": ["prop3", "eVar3"],\n    "browser.screenwidth": ["prop5", "eVar5"],\n    "browser.screenheight": ["prop6", "eVar6"],\n    "browser.type": ["prop7", "eVar7"],\n    "browser.version": ["prop9", "eVar9"],\n    "content.channel": ["prop10", "eVar10"],\n    "content.family_friendly": ["eVar12"],\n    "content.format": ["eVar13"],\n    "content.genre.level1": ["eVar14"],\n    "content.genre.level2": ["eVar15"],\n    "content.network": ["prop22", "eVar22"],\n    "content.principal_audience": ["prop28", "eVar28"],\n    "content.related_ids": ["eVar29"],\n    "content.string": ["prop30", "eVar30"],\n    "content.subject_theme.level1": ["prop31", "eVar31"],\n    "content.subject_theme.level2": ["prop32", "eVar32"],\n    "content.subject_theme.level3": ["prop33", "eVar33"],\n    "contentcms": ["prop11", "eVar11"],\n    "contentid": ["eVar16"],\n    "contenttier": ["eVar35"],\n    "contenttype": ["prop34", "eVar34"],\n    "department.level1": ["prop36", "eVar36"],\n    "department.level2": ["prop37", "eVar37"],\n    "department.level3": ["prop38", "eVar38"],\n    "department.level4": ["prop39", "eVar39"],\n    "department.level5": ["prop40", "eVar40"],\n    "device.id": [],\n    "device.manufacturer.name": ["prop46", "eVar46"],\n    "device.manufacturer.version": ["prop47", "eVar47"],\n    "device.offline": ["prop48", "eVar48"],\n    "device.os.name": ["prop49", "eVar49"],\n    "device.os.nametype": ["prop50", "eVar50"],\n    "device.type": ["prop52", "eVar52"],\n    "feature.additionalinfo": [],\n    "feature.instance": ["prop55", "eVar55"],\n    "feature.itemname": ["prop53", "eVar53"],\n    "feature.name": ["prop54", "eVar54"],\n    "feature.position": ["prop56", "eVar56"],\n    "feature.projectname": [],\n    "feature.tagmanager.name": ["prop57", "eVar57"],\n    "feature.value": ["prop58", "eVar58"],\n    "geo.city": ["prop42", "eVar42"],\n    "geo.country": ["prop43", "eVar43"],\n    "geo.region": ["prop44", "eVar44"],\n    "geo.timezone": ["prop45", "eVar45"],\n    "media.brand": ["prop17", "eVar17"],\n    "media.episode": ["eVar18"],\n    "media.media_title": ["eVar19"],\n    "media.season": ["eVar20"],\n    "osVersion": ["prop51", "eVar51"],\n    "other.ab_test.version": ["prop60", "eVar60"],\n    "other.analytics.version": ["prop74", "eVar74"],\n    "page.name": ["prop62", "eVar62"],\n    "push.device.id": ["eVar64"],\n    "referrer.id": ["prop65", "eVar65"],\n    "referrer.name": ["prop66", "eVar66"],\n    "referrer.type": ["prop67", "eVar67"],\n    "sponsor.name": ["prop68", "eVar68"],\n    "structure.server.domain": ["prop4", "eVar4"],\n    "timestamp.clientside": ["prop69", "eVar69"],\n    "timestamp.serverside": [],\n    "title": ["prop26", "eVar26"],\n    "url": ["prop8", "eVar8"],\n    "user.id": ["eVar70"],\n    "user.plan.ids": ["prop71", "eVar71"],\n    "user.subscription.ids": ["eVar72"],\n    "user.tier.ids": ["prop73", "eVar73"],\n    "user.tracking.code": []\n}\n'),i=Object.keys(e),a=Object.values(e),t=function(e){var t=CBCRC.ANA.DATALAYER.getJSONValue(n,i[e]);void 0!==t&&(Array.isArray(t)&&(t=t.toString()),a[e].forEach(function(e){r.push(e),s_cbc_sitecatalyst[e]=t}))},o=0;o<i.length;o++)t(o);return r}function o(e){return CBC.APP.SC.UTIL.deepMergeObjs(CBC.APP.SC.DTM.formatted.harmonizedAdobe,e)}function s(e){s_cbc_sitecatalyst.linkTrackVars=e.toString()}return{formatPageLoad:function(){r(),a(CBC.APP.SC.DTM.formatted.harmonizedAdobe),CBC.APP.ANA.DISPATCHERS.HarmonizedAdobe.trackPageLoad()},formatMediaSignal:function(e,t){var n=window.CBC.APP.SC.UTIL.checkPropertyExistence,r=JSON.parse(JSON.stringify(t)),i=Object.getOwnPropertyNames(r.media_object)[0],a=window.CBCRC.ANA.MEDIA.getActivePlayerList();!{}.hasOwnProperty.call(a,i)||!function i(a,o){Object.entries(a).forEach(function(e){var t=_slicedToArray(e,2),n=t[0],r=t[1];o.push(n),["boolean","number","string"].includes(_typeof2(r))||Array.isArray(r)?"string"!=typeof r&&!Array.isArray(r)||(a[n]=window.CBCRC.ANA.DATALAYER.sanitizeDataElement(o.join("."),r)):i(a[n],o),o.pop()})}(r.media_object[i],[]);var o=void 0,s=r.media_object[i];"mediaAdBreakStarted"===e?o=[{name:s.player.mediaAdBreak.name,position:Number(s.player.mediaAdBreak.podIndex),playhead:Number(s.player.playhead)}]:"mediaChapterStarted"===e?o=[{length:Number(s.cms.content.media.chapter_length),name:s.cms.content.media.chapter_name,position:Number(s.cms.content.media.chapter_number),playhead:Number(s.player.playhead),startTime:Number(s.cms.content.media.chapter_start)}]:"mediaSessionStarted"===e&&(o=[{ovp:s.cms.content.cms,playerName:n(s,"player.name")||"cbc-default-media-player",vhbid:a[i]},{streamType:n(s,"cms.content.media.stream_type")||"video",length:Number(n(s,"cms.content.media.length"))||-1,playhead:Number(s.player.playhead),cbcContextVideo:{streamtitle:n(s,"cms.content.title")||"missing",audiovideo:n(s,"cms.content.media.stream_type")||"video",contentarea:n(s,"cms.content.area")||"missing",contenttier:n(s,"cms.content.tier")||"free",type:n(s,"cms.content.media.stream_type")||"video",totalchapters:1,seasonnumber:n(s,"cms.content.media.season"),episodenumber:n(s,"cms.content.media.episode"),keywords:n(s,"cms.content.keywords"),show:n(s,"cms.content.media.media_title"),sport:n(s,"cms.content.media.sport"),region:n(s,"cms.content.media.region"),genre:n(s,"cms.content.genre.level1"),airdate:n(s,"cms.content.published.date"),sponsorname:n(s,"sponsor.name"),feature:{name:n(s,"feature.name"),instance:n(s,"feature.instance"),position:n(s,"feature.position"),value:n(s,"feature.value")},department:{level1:n(s,"cms.department.level1"),level2:n(s,"cms.department.level2"),level3:n(s,"cms.department.level3")},uid:s.cms.content.id,producer_name:n(s,"cms.content.producer.name"),is_full_episode:n(s,"cms.content.media.is_full_episode")||!1,station_code:n(s,"cms.content.station_code")||"5192"},playerContextVideo:{liveondemand:n(s,"cms.content.media.liveondemand")||"on-demand",pdkplayername:n(s,"player.name")||"cbc-default-media-player"},pagevars:{prop60:s.app.name,prop63:"web",prop64:s.app.version}}]),o=o&&window.CBC.APP.SC.UTIL.dropInvalidObjectProperties(o),window.CBC.APP.ANA.DISPATCHERS.HarmonizedAdobe.trackMediaSignal(e,r,o)},formatSignal:function(e,t){r(),i(e);var n=function(e){switch(e){case"CAST-DEVICE CONNECTED":return"castDeviceConnected";case"REGISTERED":return"registered";case"SIGNED IN":return"userSignedIn";case"SIGNED OUT":return"userSignedOut";case"SUBSCRIBED":return"userSubscribed";case"UNSUBSCRIBED":return"userUnsubscribed";default:return e}}(e);s(a(o(t))),CBC.APP.ANA.DISPATCHERS.HarmonizedAdobe.trackEvent(n)},mergeData:o,setLinkTrackEvents:i,setLinkTrackVars:s,setPropsAndEvars:a}}(),CBC.APP.ANA.FORMATTERS.ESS=function(){"use strict";var a={},i=function(e,t){var n=CBC.APP.SC.UTIL.getCookie("cbc_plus"),r=CBC.APP.SC.UTIL.getCookie("cbc_visitor"),i={};return i.subject={type:"User",id:n||r},!!i.subject.id&&(i.predicate={type:e.charAt(0).toUpperCase()+e.toLowerCase().slice(1),id:"E0406C",end:(new Date).toISOString()},i.object={type:"PolopolyArticle",id:t.content.id},!(!JSON.stringify(i)||"{}"===JSON.stringify(i))&&i)},o=function(e,t){var n=CBC.APP.SC.UTIL.getCookie("cbc_plus"),r=CBC.APP.SC.UTIL.getCookie("cbc_visitor"),i={type:"EssEngages"};if(i.user={type:"UieUser",id:n||r},!i.user.id)return!1;if(t.content&&t.content.cms&&t.content.id||"watch"!==CBC.APP.SC.DTM.formatted.raw.pillar||"ott-web-app"!==CBC.APP.SC.DTM.formatted.raw.appname||!CBC.APP.SC.DTM.formatted.raw.contentid||(t.content={},t.content.cms="ibm-cloud-video",t.content.id=CBC.APP.SC.DTM.formatted.raw.contentid),!t.content||!t.content.cms||!t.content.id)return!1;switch(i.entity={},t.content.cms){case"audio-db":case"audioid":i.entity.type="AudioDbClip";break;case"mpx":case"mediaid":i.entity.type="MpxVideo";break;case"ibm-cloud-video":i.entity.type="IbmVideo";break;case"ott-cms":i.entity.type="OttVideo";break;default:return!1}return i.entity.id=t.content.id.toString(),i[["WATCHED","LISTENED"].includes(e)?"end":"start"]={type:"IetfIsoDate",id:(new Date).toISOString().replace(/z$/i,"+00:00")},i.percent="STREAMED"===e?0:.75,i.host={type:"GenericSoftware",name:CBC.APP.SC.DTM.formatted.raw.appname},1<=Object.keys(a).length&&["WATCHED","LISTENED"].includes(e)&&(i.id=a[t.content.id],delete a[t.content.id]),!(!JSON.stringify(i)||"{}"===JSON.stringify(i))&&[i]};return{formatSignal:function(e,t){var n={};switch(e=e.toUpperCase()){case"READ":n=i(e,t);break;case"STREAMED":case"WATCHED":case"LISTENED":n=o(e,t);break;default:return}var r="STREAMED"===e&&t.content&&t.content.id?function(e){Array.isArray(e)&&1===e.length&&(a[t.content.id]=e[0].id)}:void 0;n&&CBC.APP.ANA.DISPATCHERS.ESS.trackEvent(e,n,r)},formatEssV1Payload:o,formatEssV0Payload:i,generateGoogleCloudPayload:function(){var e={session:{},user:{},device:{},content:{}};e.content.tags={};var t=CBC.APP.SC.UTIL.getCookie("cbc-session");e.session.id=t||CBC.APP.SC.UTIL.getUuid(),e.session.isLoggedIn=!!(window.viafoura&&window.viafoura.users&&window.viafoura.users.current)&&"guest"!==window.viafoura.users.current().user_privilege,e.session.startTime="",e.user.id="";var n=(window.navigator.userAgent||window.navigator.vendor||window.opera).toLowerCase(),r=CBC.APP.SC.Detectizr(n);return e.device.type=r.device.type,e.device.os=r.os.name,e.content.id=CBC.APP.SC.DTM.formatted.raw.contentid,e.content.area=CBC.APP.SC.DTM.formatted.raw.contentarea,e.content.subsection1=CBC.APP.SC.DTM.formatted.raw.subsection1,e.content.subsection2=CBC.APP.SC.DTM.formatted.raw.subsection2,e.content.subsection3=CBC.APP.SC.DTM.formatted.raw.subsection3,e.content.subsection4=CBC.APP.SC.DTM.formatted.raw.subsection4,e.content.authors=CBC.APP.SC.DTM.formatted.raw.authors?CBC.APP.SC.DTM.formatted.raw.authors.split(","):"",e.content.title=CBC.APP.SC.DTM.formatted.raw.title,e.content.url=CBC.APP.SC.DTM.formatted.raw.url,e.content.source="polopoly",e.content.publicationDate=CBC.APP.SC.DTM.formatted.raw.publishedTime,e.content.lastUpdatedDate=CBC.APP.SC.DTM.formatted.raw.updatedTime,e.content.tags.person=[],e.content.tags.location=[],e.referrer=CBC.APP.SC.DTM.formatted.raw.referrer.url||document.referrer,e.verb="",e.eventTimestamp=Date.now(),CBC.APP.SC.DTM.formatted.googlecloud=e},getEssIdMap:function(){return a}}}(),function(){"use strict";try{CBC.APP.SC.masterSwitch=JSON.parse('{"switches":{"adobe":true,"amplitude":true,"comscore":true,"conductrics":true,"cxense":true,"ess":true,"essv0":true,"essv1":true,"exceptionreporting":false,"facebook":true,"googlecloud":true,"idexchange":true,"legacysclt":true,"MirRoar":true},"amplitude":{"eventshash":{"CAST-DEVICE CONNECTED":true,"COMMENTED":true,"READ":true,"SCANNED":true,"LISTENED":true,"SHARED":true,"ENTERED":true,"SUBMITTED":true,"SIGNED IN":true,"SIGNED OUT":true,"SUBSCRIBED":true,"UNSUBSCRIBED":true,"SELECTED":true,"SEARCHED":true,"FAVOURITED":true,"UNFAVOURITED":true,"OPENED":true,"PLAYED":true,"CLOSED":true,"RESIZED":true,"NEXT":true,"PREVIOUS":true,"OPTED IN":false,"OPTED OUT":false,"ONBOARDED":true,"LOADED":true,"LOADED MORE":true,"STREAMED":true,"VIEWED AD":true,"START WEB SESSION":true,"SET PREFERENCE":true,"REGISTERED":true,"WATCHED":true,"FOLLOWED":true,"UNFOLLOWED":true},"sponsorverbs":{"LOADED":true,"READ":true,"STREAMED":true,"WATCHED":true},"partnerverbs":{"LOADED":true,"READ":true,"STREAMED":true,"WATCHED":true}},"googlecloud":{"url":"//ess.data.cbc.ca/v0/set","essv0":{"url":"//ess.data.cbc.ca/v0/set"},"essv1":{"url":"//ess.data.cbc.ca/v1/set"}},"idexchange":{"endpoint":"https://uie.data.cbc.ca/v0/","context":"http://vocab.data.cbc.ca/"},"harmonizedAdobe":{"domains":{}},"omniture":{"saccount":"cbc-production","watch":"cbc-production","harmonized":"cbcrc-dev"}}')}catch(e){CBC.APP.SC.DEBUG&&console.log("ERROR: Master switch ESI not working. Using AJAX.");var t="//www.cbc.ca/network/includes/stats/master-switch.json";CBC.APP.SC.UTIL.makeGETRequest(t,{success:function(e,t){CBC.APP.SC.masterSwitch=JSON.parse(e.responseText)},failure:function(e,t){console.log("ERROR: Unable to talk to config URL: "+t.failure.uri)}},{success:{uri:t},failure:{uri:t}},0,0,{timeout:2e3,cb:function(){console.log("ERROR: AJAX request for //www.cbc.ca/network/includes/stats/master-switch.json timed out.")}})}}(),function(){"use strict";try{CBC.APP.SC.metadataWhitelist=JSON.parse('{"metadata":{"whitelist":{"content":{"area":{"arts":true,"comedy":true,"homepage":true,"kids":true,"lifestyle":true,"listen":true,"misc":true,"music":true,"news":true,"Olympics":true,"ott":true,"paralympics":true,"podcasts":true,"radio":true,"sports":true,"subscriptions":true,"tv":true,"video":true},"cms":{"alan":true,"audio-db":true,"broadcast-schedule-api":true,"expression-engine":true,"ibm-cloud-video":true,"ibm-video-cloud":true,"mpx":true,"neuro":true,"ott-cms":true,"polopoly":true,"program-guide":true,"scoop":true},"embedded":{"media":{"audio":true,"photo":true,"photogallery":true,"video":true}},"media":{"audiovideo":{"audio":true,"video":true},"genre":{"animation":true,"arts":true,"arts-entertainment":true,"books":true,"business":true,"comedy":true,"documentary":true,"drama":true,"environment-nature":true,"factual-reality":true,"health":true,"lifestyle":true,"music":true,"music-blues":true,"music-celtic":true,"music-classical":true,"music-country":true,"music-electronic":true,"music-folk":true,"music-hip-hop":true,"music-indigenous":true,"music-jazz":true,"music-j-pop":true,"music-k-pop":true,"music-latin":true,"music-other":true,"music-pop":true,"music-r&b-soul":true,"music-reggae":true,"music-rock":true,"music-singer-songwriter":true,"music-soca":true,"music-world":true,"news":true,"olympics":true,"politics":true,"paralympics":true,"science":true,"society-culture":true,"sports":true,"technology":true},"live":{"streams-24-7":{"video":{"cbc-news-calgary":true,"cbc-news-charlottetown":true,"cbc-news-edmonton":true,"cbc-news-fredericton":true,"cbc-news-halifax":true,"cbc-news-montreal":true,"cbc-news-network":true,"cbc-news-ottawa":true,"cbc-news-regina":true,"cbc-news-st-johns":true,"cbc-news-toronto":true,"cbc-news-vancouver":true,"cbc-news-windsor":true,"cbc-news-winnipeg":true,"cbc-news-yellowknife":true},"audio":{"music-atlantic":true,"music-central":true,"music-eastern":true,"music-mountain":true,"music-pacific":true,"radio-one-barrie":true,"radio-one-calgary":true,"radio-one-charlottetown":true,"radio-one-cornerbrook":true,"radio-one-edmonton":true,"radio-one-fredericton":true,"radio-one-goose-bay":true,"radio-one-grand-falls":true,"radio-one-halifax":true,"radio-one-inuvik":true,"radio-one-iqaluit":true,"radio-one-kamloops":true,"radio-one-kewlowna":true,"radio-one-kingston":true,"radio-one-kitchener-waterloo":true,"radio-one-london":true,"radio-one-moncton":true,"radio-one-montreal":true,"radio-one-north-quebec":true,"radio-one-ottawa":true,"radio-one-peterborough":true,"radio-one-prince-george":true,"radio-one-quebec-city":true,"radio-one-regina":true,"radio-one-saint-john":true,"radio-one-saskatoon":true,"radio-one-st-johns":true,"radio-one-sudbury":true,"radio-one-sydney":true,"radio-one-thunderbay":true,"radio-one-toronto":true,"radio-one-vancouver":true,"radio-one-victoria":true,"radio-one-whitehorse":true,"radio-one-windsor":true,"radio-one-winnipeg":true,"radio-one-yellowknife":true}}},"liveondemand":{"linear":true,"live":true,"on-demand":true},"show":{"watch":{"2040":true,"1001-nuits":true,"21-black-futures":true,"21-thunder":true,"600-bottles-of-wine":true,"7-second-shake-ups":true,"8mmm":true,"911-kids":true,"12-pups-of-christmas":true,"100-and-counting-secrets-to-a-long-life":true,"2019-indspire-awards":true,"2019-polaris-music-prize-gala":true,"2020-indspire-awards":true,"2021-cjf-awards":true,"2021-indspire-awards":true,"2021-polaris-music-prize":true,"2022-canadian-screen-awards-on-cbc":true,"a-cape-cod-christmas":true,"a-christmas-carol":true,"a-christmas-carol-the-family-musical-with-a-scrooge-loose":true,"a-christmas-family-reunion":true,"a-christmas-fury":true,"a-christmas-letter":true,"a-christmas-movie-christmas":true,"a-christmas-winter-song":true,"a-christmas-wish-in-hudson":true,"a-colony":true,"a-dangerous-method":true,"a-kandahar-away":true,"a-life-in-ten-pictures":true,"a-million-colours":true,"a-place-of-tide--time":true,"a-shine-of-rainbows":true,"a-show-stopping-christmas":true,"a-suitable-boy":true,"a-sweet-and-sour-christmas":true,"a-very-royal-christmas-secrets-of-sandringham":true,"a-yi":true,"a-yi-chinese-subtitles":true,"about-sex":true,"absolutely-canadian":true,"according-to-kids":true,"ackley-bridge":true,"across-the-line-cole-harbour":true,"adele-on-q-with-tom-power":true,"addison":true,"adventures-in-public-school":true,"afflicted":true,"africa--britain-a-forgotten-history":true,"africa-with-ade-adepitan":true,"after-circus":true,"after-munich":true,"against-the-tides":true,"against-the-wild":true,"aidas-secrets":true,"air-farce":true,"air-farce-new-years-eve-2019":true,"algo-polly--turcott":true,"alias-grace":true,"all-creatures-great-and-small":true,"all-the-streets-are-silent-the-convergence-of-hip-hop--skateboarding":true,"almas-not-normal":true,"almost-almost-famous":true,"almost-never":true,"altman":true,"amazing-hotels-life-beyond-the-lobby":true,"american-woman":true,"an-audience-of-chairs":true,"anaanas-tent":true,"anaanas-tent-inuktitut":true,"angela-black":true,"angeliques-isle":true,"anne-":true,"anne-murray-full-circle":true,"anne-with-an-e":true,"anotes-ark":true,"another-kind-of-wedding":true,"anthony":true,"anthropocene-the-human-epoch":true,"antiviral":true,"anyones-game":true,"archiving-winston-larose":true,"arctic-blue-with-peter-mansbridge":true,"arctic-vets":true,"are-you-scared-yet-human":true,"ari-cui-cui":true,"ariana-grande-live-in-london":true,"around-the-world-in-80-days":true,"art-death--taxes":true,"art-hurts":true,"art-is-my-country":true,"arthur":true,"artzooka":true,"as-the-smoke-rises":true,"ascend":true,"ashbridge":true,"asian-heritage-month":true,"ask-dr-ruth":true,"assholes-a-theory":true,"at-the-table":true,"atanarjuat-the-fast-runner":true,"away-from-her":true,"babe-i-hate-to-go":true,"bachman":true,"back-in-time-for-christmas":true,"back-in-time-for-dinner":true,"back-in-time-for-dinner-uk":true,"back-in-time-for-school":true,"back-in-time-for-tea":true,"back-in-time-for-tea-new":true,"back-in-time-for-the-weekend":true,"back-in-time-for-winter":true,"backcountry":true,"backstage-pass":true,"bad-banks":true,"bad-rap":true,"baghdad-central":true,"ballerina":true,"balletlujah":true,"banished":true,"bang-bang-club":true,"bangla-surf-girls":true,"barack-obama-talks-to-david-olusoga":true,"barneys-version":true,"baroness-von-sketch-show":true,"barracuda":true,"battle-of-the-blades":true,"because-news":true,"beccas-bunch":true,"becoming-canadian":true,"becoming-nakuset":true,"beeba-boys":true,"being-black-in-canada-2015":true,"being-black-in-canada-2016":true,"being-black-in-canada-2020":true,"being-black-in-canada-at-the-olympic-games":true,"being-black-in-canada-my-journey-here":true,"being-black-in-canada-with-asha-tomlinson":true,"being-canadian":true,"being-erica":true,"being-julia":true,"belgravia":true,"bella-and-don":true,"bellevue":true,"belsen-the-untold-story":true,"best-in-miniature":true,"best-laid-plans":true,"between-you--me":true,"beyond-human":true,"beyond-the-limits":true,"beyond-the-spectrum":true,"big-block-singsong":true,"big-blue":true,"big-men-small-dogs":true,"big-news":true,"big-things-small-towns":true,"bighetty--bighetty":true,"biidaaban-the-dawn-comes":true,"biker-bobs-posthumous-adventure":true,"billsville":true,"bit-playas":true,"black-boys":true,"black-cop":true,"black-history-month":true,"black-panthers-vanguard-of-the-revolution":true,"blackbird":true,"blackstone":true,"blind-spot-what-happened-to-canadas-aboriginal-fathers":true,"blue-note-records-beyond-the-notes":true,"bluebird":true,"bollywood-hollywood":true,"bollywood-the-worlds-biggest-film-industry":true,"bomb-girls":true,"bondi-vet":true,"bookaboo":true,"both-sides-now-joni-mitchell-at-the-isle-of-wight":true,"born-to-kill":true,"brand-canada":true,"brassic":true,"breakaway":true,"breakfast-with-scot":true,"bridget-joness-diary":true,"brigade-animo":true,"britannia":true,"broad-appeal-living-with-es":true,"brooklyn":true,"brotherhood":true,"brothers-islands":true,"bugs-on-the-menu":true,"bump":true,"burden-of-truth":true,"but-im-chris-jericho":true,"butterfly":true,"cafe-de-flore":true,"cairo-time":true,"calgary-stampede":true,"call-me-by-your-name":true,"call-me-olly":true,"call-the-midwife":true,"camelot":true,"camilla-before-charles":true,"can-seaweed-save-the-world":true,"canada-150":true,"canada-a-peoples-history":true,"canada-reads":true,"canada-the-story-of-us":true,"canada-tonight":true,"canada-votes-ask-cbc-news":true,"canada-votes-cbc-explains":true,"canadas-a-drag":true,"canadas-new-years-eve-countdown-to-2021":true,"canadas-new-years-eve-countdown-to-2022":true,"canadas-smartest-person":true,"canadas-smartest-person-junior":true,"canadian-feature-films":true,"canadian-history":true,"canadian-improv-games":true,"canadian-reflections":true,"canadian-screen-awards":true,"canadoodaday":true,"cardinals":true,"cargo":true,"casual":true,"catastrophe":true,"catch-the-dream-bios-with-adam-beach":true,"caught":true,"cavendish":true,"cbc-arts-exhibitionists":true,"cbc-arts-presents-queer-pride-inside-a-buddies-in-bad-times-cabaret":true,"cbc-arts-specials":true,"cbc-asks-north-how-do-we-keep-indigenous-women-safe":true,"cbc-docs-pov":true,"cbc-kids-5-hour-free-for-all":true,"cbc-kids-celebrates-indigenous-month":true,"cbc-kids-news":true,"cbc-music-festival-2019":true,"cbc-music-first-play-live":true,"cbc-music-in-studio-at-the-junos-reclaimed-session":true,"cbc-music-in-studio-at-the-junos-the-block-session":true,"cbc-music-in-studio-at-the-junos-the-jazz-session":true,"cbc-music-junos-sessions":true,"cbc-music-junos-sessions-2018":true,"cbc-music-junos-sessions-2019":true,"cbc-music-juno-sessions-2020":true,"cbc-music-junofest-indigenous-artist-showcase":true,"cbc-music-live":true,"cbc-music-presents-frequencies-showcase":true,"cbc-music-presents-if-these-walls-could-talk":true,"cbc-music-presents-the-block-showcase-2022":true,"cbc-music-presents-the-classical-showcase":true,"cbc-music-presents-the-intro-2022":true,"cbc-music-presents-the-jazz-showcase":true,"cbc-music-presents-the-songwriters-circle":true,"cbc-music-specials":true,"cbc-music---the-intro":true,"cbc-music-the-mix":true,"cbc-music-the-radar":true,"cbc-news-america-votes-with-carole-mac-neil":true,"cbc-news-exclusive-dr-theresa-tam":true,"cbc-news-specials":true,"cbc-news-special-9-11-unfinished-business-with-peter-mansbridge":true,"cbc-news-special-canada-day-2019":true,"cbc-news-special-last-soldier":true,"cbc-news-special-lost-town":true,"cbc-news-coping-with-covid":true,"cbc-saskatchewan-faces-of-covid---front-line-workers":true,"cbc-sports-presents":true,"cbx-canadian-ballroom-extravaganza":true,"cebl-championship-2019":true,"cebl-summer-series-2020":true,"celebrating-indigenous-storytellers":true,"celebrating-pride-month":true,"cest-comme--a-que-je-taime":true,"chaakapesh":true,"charles-50-years-a-prince":true,"charley-pride-im-just-me":true,"chasing-winter":true,"cheer-up":true,"chewing-gum":true,"chicken-girls-the-movie":true,"china-natures-ancient-kingdom":true,"chinese-new-year-the-biggest-celebration-on-earth":true,"chirp":true,"christmas-stars":true,"christmas-on-the-river":true,"cielo":true,"cirkopolis":true,"citizen-jane-battle-for-the-city":true,"clara":true,"clearwater-farm":true,"clearwater-farm-kids-challenge":true,"climate-change-ade-on-the-frontline":true,"closet-monster":true,"clydesdale-saving-the-greatest-horse":true,"colossal":true,"colour-study":true,"coming-in":true,"confronting-covid-the-national-virtual-townhall":true,"conviction":true,"conviction-the-case-of-stephen-lawrence":true,"cooking-with-joy":true,"cooking-with-stella":true,"cool-daddy":true,"coping-with-covid":true,"coral-ghosts":true,"coriolanus":true,"coronation-street":true,"coronavirus-is-your-house-clean-enough":true,"coroner":true,"cosmopolis":true,"counting-on-a-new-crop":true,"country-christmas-album":true,"covid-who-i-am-now":true,"coyotes-crazy-smart-science-show":true,"cracked":true,"crash-gallery":true,"crawford":true,"crufts-the-worlds-greatest-dog-show":true,"d-day-75th-anniversary-with-adrienne-arsenault":true,"da-kink-in-my-hair":true,"da-vincis-city-hall":true,"da-vincis-inquest":true,"daisy-the-gumboot-kids":true,"daniel-tigers-neighbourhood":true,"danslatoile":true,"daryn-jones-live":true,"das-boot":true,"daughter":true,"david-attenboroughs-great-barrier-reef":true,"dead-mans-switch-a-crypto-mystery":true,"dear-future-children":true,"death-and-sickness":true,"declutter":true,"decoys":true,"deep-in-vogue":true,"deeply-rooted":true,"defending-the-guilty":true,"designing-the-dream":true,"detention-adventure":true,"devout-and-out-cormac":true,"devout-and-out-susan":true,"diamond-tongues":true,"diamonds-in-the-sand":true,"diego-star":true,"diggstown":true,"dilveen":true,"dim-the-fluorescents":true,"dimas-game":true,"dino-ranch":true,"disappearance-at-clifton-hill":true,"dish-pigs":true,"disobedience":true,"disrupting-design":true,"dividing-lines-the-politics-of-immigration":true,"dna":true,"doc-zone":true,"docs-special-presentation":true,"documentary-now":true,"does-it-fart":true,"dogs-behaving-badly":true,"dont-talk-to-irene":true,"dot":true,"double-happiness":true,"double-tap-tv":true,"dounia":true,"down-to-the-dirt":true,"downton-abbey":true,"downtown-eastside-townhall---vancouver--when-is-enough-enough":true,"dr-cabbie":true,"dr-roberta-bondar-canadas-first-lady-of-space":true,"dragons-den":true,"drakes-plan":true,"dramaworld":true,"dream-boxer":true,"dreaming-of-a-jewish-christmas":true,"dreamland-the-burning-of-black-wall-street":true,"drive":true,"due-south":true,"durham-county":true,"eadweard":true,"earth-day":true,"earth-one-amazing-day":true,"earth-one-amazing-day-mandarin-narration":true,"earthling-house-huntress":true,"eden":true,"eden-untamed-planet":true,"edgemont":true,"elephant-song":true,"elizabeth":true,"elvis-goes-there":true,"embarrassing-pets":true,"emerald-code":true,"emerald-code-decoded":true,"emerald-code-ste-mily":true,"empire-of-dirt":true,"emptying-the-tank":true,"endlings":true,"enslaved":true,"escape-to-the-chateau":true,"escape-to-the-chateau-designing-the-dream":true,"escape-to-the-chateau-diy":true,"escape-to-the-chateau-restoring-the-dream":true,"escape-to-the-chateau-the-great-outdoors":true,"escape-to-the-country":true,"eve--the-fire-horse":true,"every-child-matters-reconciliation-through-education":true,"everyday-is-like-sunday":true,"everything-indigenous":true,"eviction-notice":true,"evil-by-design-surviving-nygard":true,"exposed-nerves":true,"extraordinary-canadians":true,"face-to-face-with-the-leader-2021":true,"faits-divers":true,"family-feud-canada":true,"farm-crime":true,"fast-horse":true,"fatima-in-kabul":true,"fear-of-dancing":true,"federal-leaders-english-debate-2021":true,"federal-leaders-french-debate-2021":true,"felicias-journey":true,"films":true,"find-me-in-paris":true,"finding-fukue":true,"finding-my-balance":true,"finding-sally":true,"finding-the-secret-path":true,"finn-on-the-fly":true,"fire-song":true,"firecrackers":true,"first-day":true,"firsthand":true,"fisk-the-new-york-opening":true,"fisk-untitled-portrait":true,"fit-to-be-tied-a-story-of-twisted-genius":true,"fix--release":true,"follow-the-rock":true,"food-for-thought":true,"for-dad-with-love":true,"for-heavens-sake":true,"for-the-record":true,"forage":true,"forsaken":true,"fortitude":true,"fortunate-son":true,"four-faces-of-the-moon":true,"four-in-the-morning":true,"four-senses":true,"fourth-period-burnout":true,"fragile-english":true,"frame-394":true,"frankie-drake-mysteries":true,"freaks--geeks":true,"fred-penners-place":true,"freedom-summer":true,"frick-i-love-nature":true,"friday-night-dinner":true,"fridge-wars":true,"from-the-vaults":true,"from-the-vaults-music-archive-series":true,"from-the-vine":true,"fubar":true,"fubar-2-balls-to-the-wall":true,"funny-boy":true,"further-back-in-time-for-dinner":true,"future-history":true,"gabrielle":true,"game-changers":true,"game-savers":true,"gameface":true,"garfield-gets-real":true,"garfields-fun-fest":true,"garfields-pet-force":true,"gary-and-his-demons":true,"garys-magic-fort":true,"genderize":true,"genius-factory":true,"genese":true,"gerry":true,"get-santa":true,"ghosts":true,"giant-little-ones":true,"giants-of-africa":true,"global-goal-unite-for-our-future":true,"glory-enough-for-all":true,"glowbies":true,"goalie":true,"golfs-greatest-holes":true,"good-people-with-mark-sakamoto":true,"goon":true,"gord-downies-secret-path-in-concert":true,"gordon-lightfoot-if-you-could-read-my-mind":true,"grace-beside-me":true,"grand-cru":true,"grand-designs":true,"grand-designs-australia":true,"grand-designs-new-zealand":true,"grand-designs-house-of-the-year":true,"grand-designs-the-street":true,"grandma-learns-to-drive":true,"great-electric-airplane-race":true,"gregoire":true,"greyzone":true,"ground-war":true,"growing-up-gracefully":true,"gunless":true,"hale-county-this-morning-this-evening":true,"halifax-comedy-festival":true,"hang-ups":true,"hannah-gadsbys-nakedy-nudes":true,"hannah-gadsbys-oz":true,"happy-valley":true,"hard-learning":true,"harry-and-william-what-went-wrong":true,"hatching-matching-and-dispatching":true,"head-high":true,"headdress":true,"heartland":true,"heaven-on-earth":true,"hector-and-the-search-for-happiness":true,"hell-or-clean-water":true,"hello-again":true,"hello-destroyer":true,"hello-goodbye":true,"henry-viii":true,"here-and-now-the-good-stuff":true,"hey-lady":true,"hiccups-and-hookups":true,"high-arctic-haulers":true,"hijabistas-with-yassmin-abdel-magied":true,"hip-hop-the-songs-that-shook-america":true,"his-nose-her-eyes-whose-face":true,"hochelaga-terre-des-ames":true,"holiday-programming":true,"holiday-rap-battles":true,"hollies-dress":true,"hollow-in-the-land":true,"holly-star":true,"holy-baloney":true,"home-again":true,"home-no-more":true,"homeschooled":true,"hoop-talks":true,"hope-works":true,"house-of-maxwell":true,"how-healthy-is-your-gut":true,"how-it-feels-to-be-free":true,"how-she-move":true,"how-to-buy-a-baby":true,"how-to-do-stuff-good":true,"how-to-start-a-revolution":true,"hudson":true,"human-flow":true,"humantown":true,"humour-resources":true,"hyena-road":true,"i-am-not-your-negro":true,"i-am-skylar":true,"i-am-the-blues":true,"i-hold-the-dehcho-in-my-heart-sedze-tah-dehcho-e-toh":true,"i-killed-my-mother-jai-tue-ma-mere":true,"i-like-girls":true,"i-ship-it":true,"ill-follow-you-down":true,"if-so-do-so":true,"imaginarium-of-dr-parnassus":true,"in-conversation-with-peter-mansbridge":true,"in-dog-years":true,"in-her-place":true,"in-love-with-a-problem":true,"in-my-skin":true,"in-our-backyard-climate-change":true,"in-search-of-a-perfect-world":true,"in-the-long-run":true,"in-the-making":true,"in-the-shadow-of-the-pines":true,"in-the-studio-with-steven-sabados":true,"indian-horse":true,"indian-space-dreams":true,"indias-wild-karnataka":true,"inducted-the-road-to-the-canadian-music-hall-of-fame":true,"inendi":true,"inside-an-athletes-head":true,"inside-lehman-brothers":true,"intelligence":true,"interrupt-this-program":true,"into-invisible-light":true,"into-the-forest":true,"invisible-essence-the-little-prince":true,"iron-road":true,"jaat-sdiihltllxa-woman-who-returns":true,"jackie-robinson":true,"jade-of-death":true,"jamie-cooks-italy":true,"jamie-and-jimmys-food-fight-club":true,"jamie-olivers-christmas-cookbook":true,"jamies-15-minute-meals":true,"jamies-30-minute-meals":true,"jamies-christmas-with-bells-on":true,"jamies-cracking-christmas":true,"jamies-festive-feast":true,"jamies-italian-christmas":true,"jamies-quick--easy-food":true,"jamies-sugar-rush":true,"jamies-super-food":true,"jamies-super-food-family-classics":true,"janis-little-girl-blue":true,"japan-with-sue-perkins":true,"jaxon-and-songs-maple-mystery":true,"jean-of-the-joneses":true,"jekyll-and-hyde":true,"jensplaining":true,"jessie-the-gumboot-kids":true,"jet-age":true,"jiggi-jump":true,"joanna-lumleys-japan":true,"john-ware-reclaimed":true,"jonah":true,"jordan-river-anderson-the-messenger":true,"juliana--the-medicine-fish":true,"junior-baking-show":true,"juno-awards":true,"juno-opening-night-awards-presented-by-music-canada":true,"juno-songwriters-circle-presented-by-socan-in-association-with-music-publishes-canada":true,"just-for-laughs-gags":true,"just-for-laughs-galas":true,"karena--kaseys-foreign-flavours":true,"karihawanoron-precious-things":true,"kayak-to-klemtu":true,"kayamenta-sharing-truths-about-menopause":true,"kedi":true,"keep-calm-and-decolonize":true,"keep-contains-asset":true,"keep-exact-asset":true,"keep-going-my-daughter":true,"keep-pushing":true,"keep-series-sit":true,"kenbe-la-until-we-win":true,"kenny-and-spenny-paldemic-special":true,"kenny-vs-spenny":true,"kettle":true,"kewku":true,"keyboard-fantasies-the-beverly-glenn-copeland-story":true,"khoya":true,"kids-block-test":true,"kids-in-the-hall":true,"killing-time":true,"kims-convenience":true,"kims-convenience-korean-subtitles":true,"king-charles":true,"king-lajoie":true,"kingdom-force":true,"kiri":true,"kiri-and-lou":true,"knives-out":true,"koto-the-last-service":true,"kuessipan":true,"la-bolduc":true,"la-passion-daugustine-the-passion-of-augustine":true,"ladhood":true,"land-and-sea-network":true,"land-and-sea-nfld":true,"landscape-artist-of-the-year-canada":true,"last-night":true,"late-night-in-the-studio":true,"lazoo":true,"league-of-exotique-dancers":true,"leftover-women":true,"lemonade":true,"les-beaux-malaises":true,"les-miserables":true,"lessons-injustice":true,"let-there-be-light":true,"level-16":true,"life":true,"life-in-the-city-of-dirty-water":true,"life-of-a-dog":true,"life-with-derek":true,"lift-like-a-girl":true,"like-a-pebble-in-the-boot":true,"line-of-duty":true,"liona-boyd-a-winter-fantasy":true,"little-big-leaf":true,"little-dog":true,"little-dorrit":true,"little-hard-knox":true,"little-women":true,"living-on-the-veg":true,"local-specials":true,"lockdown-baby":true,"looking-for-alaska":true,"lost--found":true,"lost-home-movies-of-the-nazis":true,"lost-moccasin":true,"love-gilda":true,"love-letters-from-everest":true,"love-me-as-i-am":true,"love-monster":true,"loves-labour-lost":true,"lovesick":true,"lucky-moose":true,"lunchbox-dilemma":true,"luther":true,"maamuitaau":true,"macbeth":true,"made-in-canada":true,"made-you-look-a-true-story-of-fake-art":true,"madiba":true,"mafia-inc":true,"maiden":true,"maina":true,"maker-of-monsters-the-extraordinary-life-of-beau-dick":true,"making-muriel":true,"maliglutit-searchers":true,"malory-towers":true,"mama":true,"man-running":true,"man-of-the-kitchen":true,"manayek":true,"mansbridge-one-on-one":true,"manufactured-landscapes":true,"maps-to-the-stars":true,"march-to-the-top-1-hour-version":true,"marchlands":true,"margaret-atwood-a-word-after-a-word-after-a-word-is-power":true,"mark-moriarty-off-duty-chef":true,"marketplace":true,"mary-goes-round":true,"mashkawi-manidoo-bimaadiziwin-spirit-to-soar-anishinaabemowin-version":true,"mashkawi-manidoo-bimaadiziwin-spirit-to-soar-english-version":true,"matangimayam.i.a.":true,"maudie":true,"maya-angelou-and-still-i-rise":true,"me-mahmoud-and-the-mint-plant":true,"me-mom--covid":true,"mean-dreams":true,"meat-the-future":true,"meditation-park":true,"meet-the-avatars":true,"meet-your-maker":true,"meghan--harry-the-new-revelations":true,"mehdi-et-val-en":true,"men-with-brooms":true,"merbys":true,"merci-pour-tout-thanks-for-everything":true,"merry-christmas-mr-bean":true,"met-while-incarcerated":true,"michael-every-day":true,"michael-moone-boy":true,"michael-tuesdays-thursdays":true,"midnights-children":true,"mighty-express":true,"mighty-mustangs":true,"million-dollar-wedding-planner":true,"mind-fudge":true,"minding-the-gap":true,"mings-dynasty":true,"miracles":true,"misfits":true,"miss-persona-psa":true,"miss-s":true,"miss-scarlet--the-duke":true,"moblees":true,"modra":true,"mohawk-girls":true,"molly-of-denali":true,"moon-and-me":true,"monsieur-lazhar":true,"moone-boy":true,"moonshine":true,"mother-father-son":true,"mouthpiece":true,"mr-d":true,"mr-student-body-president":true,"munk-dialogues":true,"murdoch-mysteries":true,"murmur":true,"my-90-year-old-roommate":true,"my-best-friends-christmas":true,"my-big-family-farm":true,"my-big-family-farm-5-years-on-the-farm":true,"my-childhood-my-country-20-years-in-afghanistan":true,"my-family-and-the-galapagos":true,"my-grandparents-war":true,"my-junos-moment":true,"my-kitchen-can-be-anything":true,"my-life-without-me":true,"my-lucky-something":true,"my-mad-fat-diary":true,"my-name-is-tommy-lan-phat-truong":true,"my-prairie-home":true,"my-tree":true,"nadiyas-asian-odyssey":true,"nadiyas-family-favourites":true,"nadiyas-food-adventure":true,"nadiyas-party-feasts":true,"nahanni-river-of-forgiveness":true,"nancys-pro-tips":true,"nancys-workshop":true,"narcoleap":true,"nash":true,"natasha":true,"national-canadian-film-day-celebrating-indigenous-voices":true,"national-day-for-truth-and-reconciliation":true,"national-idigenous-history-month":true,"national-treasure":true,"nelly":true,"never-steady-never-still":true,"newborn-moms":true,"newfoundland-at-armageddon":true,"new-waterford-girl":true,"next-stop":true,"nfb":true,"niisotewak-two-bodies-one-heart":true,"nikes-big-bet-alberto-salazar-and-the-fine-line-of-sport":true,"nikola-tesla-and-the-end-of-the-world":true,"nipawistamasowin-we-will-stand-up":true,"nirvanna-the-band-the-show":true,"no-limits":true,"no-ordinary-man":true,"normal-people":true,"northern-rescue":true,"nose-to-tail":true,"noughts---crosses":true,"nowhere-to-be-found":true,"nude-to-me":true,"numbers-guy":true,"nursefighterboy":true,"octavio-is-dead":true,"off-kilter":true,"oh-canada-retro-favourites":true,"old-stone":true,"ollie-the-boy-who-became-what-he-ate":true,"olympics":true,"on-the-ropes":true,"on-the-spectrum":true,"one-day-in-the-ln-the-life-of-noah-piugattuk":true,"one-leg-in-one-leg-out":true,"one-of-ours":true,"one-week":true,"one-world-together-at-home":true,"open-ice-visionaries":true,"ordeal-by-innocence":true,"othello":true,"our-game":true,"our-montreal":true,"our-people-will-be-healed":true,"our-shot-a-national-town-hall":true,"our-shot-vaccinating-bc":true,"outback-rabbis":true,"outlander":true,"outremont-and-hasidism":true,"overlord-and-the-underwoods":true,"paige":true,"palisa-andersons-water-heart-food":true,"pan-american-games":true,"pandemic-at-the-end-of-the-world":true,"pandemic-elementary":true,"paper-year":true,"par-ici-la-magie":true,"paralympics":true,"paralympic-super-series-rewind-on-cbc":true,"passchendaele":true,"path-of-souls":true,"patient-people":true,"patty-vs-patty":true,"paul-ogrady-for-the-love-of-dogs":true,"paul-ogrady-for-the-love-of-dogs-india":true,"paul-ogrady-for-the-love-of-dogs---back-in-business":true,"paul-ogrady-for-the-love-of-dogs---what-happened-next":true,"paul-ogradys-animal-orphans":true,"peace-river-rising":true,"pen15":true,"people-hold-on":true,"people-just-do-nothing":true,"pete-seeger-the-power-of-song":true,"pipe-dreams":true,"pirates-passage":true,"pj-masks":true,"planet-child":true,"plantemic":true,"player-zero":true,"poly-styrene-i-am-a-cliche":true,"pontypool":true,"porcupine-lake":true,"portlandia":true,"portrait-of-pockets":true,"portrayal":true,"power-politics":true,"power-politics-with-vassy-kapelos":true,"preppers":true,"pretend-were-kissing":true,"pretty-hard-cases":true,"pride-collection":true,"prime-minister-justin-trudeau-answer-kids-questions-about-covid-19":true,"prince-philip-for-queen-and-country":true,"prince-william-a-planet-for-us-all":true,"princess-jack":true,"prosecuting-evil-the-extraordinary-world-of-ben-ferencz":true,"puppy-school":true,"pure":true,"pure-uk":true,"putins-road-to-war":true,"pyewacket":true,"q-live-from-the-junos":true,"q-with-tom-power":true,"quebec-my-country-mon-pays":true,"queens":true,"queer-self-portraits":true,"quiet-time":true,"quiz":true,"race":true,"race-against-the-tide":true,"rachel-khoo-my-swedish-kitchen":true,"rachel-khoos-kitchen-notebook-cosmopolitan-cook":true,"rachel-khoos-kitchen-notebook-melbourne":true,"rainbow-ice":true,"raised-by-wolves":true,"raufikats-better-bake-along":true,"rbc-training-ground":true,"real-blackity-talk":true,"rebelle-war-witch":true,"rebels-on-pointe":true,"reboot-a-future-museum":true,"recap":true,"recovery":true,"red-bull-films":true,"red-button":true,"red-chef-revival":true,"red-ruby":true,"red-snow":true,"redfern-now":true,"reel-east-coast":true,"remember":true,"remembrance-day-with-rosemary-barton-2019":true,"remembrance-day-with-rosemary-barton":true,"remy--boo":true,"replay":true,"republic-of-doyle":true,"restoration-australia":true,"restoring-the-dream":true,"retake":true,"revenge-of-the-black-best-friend":true,"revisor":true,"revolution":true,"reyka":true,"rhymes-for-young-ghouls":true,"rick-mercer-report":true,"riftworld-chronicles":true,"ripper-street":true,"river":true,"rl-stines-the-haunting-hour":true,"road-to-roxham":true,"road-to-the-olympics":true,"road-to-the-olympic-games":true,"roadkill":true,"robotik":true,"rock-n-roll-christmas":true,"rock-n-roll-rhymes":true,"rockin-the-coffin":true,"romeo-and-juliet":true,"romeos--juliets":true,"ron-james-the-high-road-2017":true,"ron-james-true-north-2016":true,"ronny-chieng-international-student":true,"room":true,"room-for-rent":true,"rosemary-barton-live":true,"royal-variety-performance-gala-2018":true,"royal-variety-performance-gala-2019":true,"royal-variety-performance-gala-2021":true,"royals-in-wartime":true,"ru-tsu":true,"rumble-the-indians-who-rocked-the-world":true,"run-as-one-the-journey-of-the-front-runners":true,"run-the-burbs":true,"rush-beyond-the-lighted-stage":true,"rustic-oracle":true,"sadikas-garden":true,"safe-harbour":true,"saint-narcisse":true,"sakhi-pitiyahte-bright-light-comes-forth-from-it":true,"santa-claus-is-coming-to-town":true,"save-me":true,"save-me-uk":true,"save-with-jamie":true,"schitts-creek":true,"score-a-hockey-musical":true,"scotiabank-giller-prize-2020":true,"scotiabank-giller-prize-gala":true,"scout--the-gumboot-kids":true,"seahorse":true,"searchlight":true,"seasons-greetings":true,"secret-life-of-farm-animals":true,"secrets-of-survival":true,"secrets-of-the-royal-babies":true,"secrets-of-the-royals-inside-the-crown":true,"seen--heard":true,"serie-noire":true,"sgaawaay-kuuna-edge-of-the-knife":true,"sharkwater":true,"shaun-the-sheep-movie":true,"shekinah-rising":true,"shelina-stand-up":true,"sherlock":true,"sherlock-the-abominable-bride":true,"shermans-showcase":true,"shiners":true,"shitty-boyfriends":true,"shook":true,"shoot-the-messenger":true,"short-docs":true,"short-film-face-off":true,"short-round-up":true,"showtrial":true,"shrek-2":true,"shrek-the-third":true,"sick-of-it":true,"sing-me-a-lullaby":true,"sing-me-a-song":true,"skindigenous":true,"skitv":true,"skitv-mandarin":true,"sleep-matters":true,"sleeping-giant":true,"slings--arrows":true,"small-talk":true,"smart-drugs":true,"smother":true,"snapshots":true,"snow-bears":true,"snowbirds":true,"snowtime":true,"solastalgia":true,"something-undone":true,"son-of-a-critch":true,"sort-of":true,"soul-on-ice-past-present-and-future":true,"sourtoe-the-story-of-the-sorry-cannibal":true,"space-dragon-and-kim":true,"spelling-bee-of-canada-2020-championship-finals":true,"spelling-bee-of-canadas-34th-annual-championship":true,"splatalot":true,"splice":true,"sports-on-fire":true,"spreadsheet":true,"stage-the-culinary-internship":true,"stand-up-toronto":true,"standing-on-ceremony":true,"standing-on-the-line":true,"stath-lets-flats":true,"staying-home-staying-healthy":true,"stealing-school":true,"stella-and-sam":true,"stephen-lewis-the-man-who-couldnt-sleep":true,"still-mine":true,"still-standing":true,"stockholm":true,"stories-we-tell":true,"stories-from-the-land":true,"story-and-the-song-surrender":true,"strange-empire":true,"stratford-presents":true,"strays":true,"streaming-april-17th":true,"street-legal":true,"stronger-together":true,"succulent-six":true,"suck-it-up":true,"suits":true,"sundowners":true,"sunshine-kings":true,"super-agent-jon-le-bon":true,"superfan-the-nav-bhatia-story":true,"surf-canadas-hometown-showdown":true,"surfing-the-menu-the-next-generation":true,"surviving-911":true,"sweat-power":true,"sweet-daddy-siki":true,"take-a-walk-on-the-wildside":true,"take-light":true,"take-me-to-prom":true,"take-my-wife":true,"take-this-waltz":true,"taken":true,"talent-drivers":true,"tallboyz":true,"taming-of-the-queue":true,"teepee-time":true,"teepee-time-mikmaq":true,"ten-year-old-tom":true,"ten-years-younger":true,"terrific-women":true,"terry-fox-the-power-of-one":true,"that-figure-skating-show":true,"the-2022-juno-awards":true,"the-410":true,"the-a-word":true,"the-abc-murders":true,"the-adventure-club":true,"the-adventures-of-napkin-man":true,"the-adventures-of-paddington":true,"the-accountant-of-auschwitz":true,"the-aliens":true,"the-amazing-gayl-pile":true,"the-animal-project":true,"the-arctics":true,"the-arrival":true,"the-art-of-leading":true,"the-art-of-the-steal":true,"the-art-show":true,"the-art-works":true,"the-artistic-accountant":true,"the-artists":true,"the-australian-dream":true,"the-beautiful-lie":true,"the-best-of-george":true,"the-big-sex-talk":true,"the-biggest-little-railway-in-the-world":true,"the-black-church-this-is-our-story-this-is-our-song":true,"the-body-remembers-when-the-world-broke-open":true,"the-book-of-negroes":true,"the-booksellers":true,"the-bravest-knight":true,"the-breadwinner":true,"the-changemakers":true,"the-chef":true,"the-christmas-contract":true,"the-cocksure-lads":true,"the-communists-daughter":true,"the-condom-king-of-newfoundland":true,"the-crescent":true,"the-curse-of-clara-a-holiday-tale":true,"the-day":true,"the-day-will--kate-got-married":true,"the-departure":true,"the-detectives":true,"the-detectorists":true,"the-devils-trap":true,"the-dissident":true,"the-divided-brain":true,"the-dog-days-of-christmas":true,"the-dog-doc":true,"the-dog-house":true,"the-donut-king":true,"the-dream-team":true,"the-dry":true,"the-durrells":true,"the-edge-of-winter":true,"the-elders":true,"the-englishmans-boy":true,"the-existence-of-magic":true,"the-f-word":true,"the-family-law":true,"the-fence":true,"the-fifth-estate":true,"the-fight-for-the-philippines":true,"the-filmmakers":true,"the-fireflies-are-gone":true,"the-future-of-film-showcase":true,"the-future-of-war-with-peter-mansbridge":true,"the-gig-is-up-a-very-human-tech-story":true,"the-goods":true,"the-gospel-according-to-andre":true,"the-governor-generals--performing-arts-awards-2021":true,"the-governor-generals-performing-arts-awards-2022-laureate-films":true,"the-grand-seduction":true,"the-great-british-baking-show":true,"the-great-british-baking-show-masterclass":true,"the-great-canadian-baking-show":true,"the-great-human-odyssey":true,"the-great-northern-candy-drop":true,"the-great-outdoors":true,"the-grizzlies":true,"the-guardians":true,"the-haircut":true,"the-halifax-explosion":true,"the-head":true,"the-heat-a-kitchen-revolution":true,"the-hole-in-reservoir-hill":true,"the-holiday-fix-up":true,"the-hollow-child":true,"the-honourable-woman":true,"the-housemate":true,"the-hummingbird-project":true,"the-hunting":true,"the-husband":true,"the-improbable-dream":true,"the-incredible-vanishing-sisters":true,"the-investigators":true,"the-island-diaries":true,"the-journey-home-midnight-sun":true,"the-juno-awards":true,"the-last-guide":true,"the-last-post":true,"the-legend-of-sarila":true,"the-lesser-blessed":true,"the-life-sized-city":true,"the-little-drummer-girl":true,"the-little-paris-kitchen-cooking-with-rachel-khoo":true,"the-little-queen-la-petite-reine":true,"the-loch":true,"the-long-song":true,"the-love-songs-of-oedipus-rex":true,"the-magic-hockey-skates":true,"the-magnitude-of-all-things":true,"the-man-the-story-jean-chretien-in-his-own-words":true,"the-man-who-invented-christmas":true,"the-merry-wives-of-windsor":true,"the-mesdames-of-mayhem":true,"the-mile-enders":true,"the-miniaturist":true,"the-misadventures-of-romesh-ranganathan":true,"the-moblees":true,"the-move":true,"the-national":true,"the-national-in-conversation-foreign-correspondents":true,"the-national-in-depth-ryans-story":true,"the-nature-of-things":true,"the-neddeaus-of-duqesne-island":true,"the-new-wave-of-standup":true,"the-newsroom":true,"the-next-step-kids":true,"the-ninth":true,"the-office-uk":true,"the-oland-murder":true,"the-oslo-diaries":true,"the-oxy-kingpins":true,"the-pale-horse":true,"the-pass-system":true,"the-passionate-eye":true,"the-photographer":true,"the-pilgrimage":true,"the-porter":true,"the-princes-and-the-press":true,"the-problem-with-apu":true,"the-queen-unseen":true,"the-queens-green-planet":true,"the-red-violin":true,"the-reluctant-landlord":true,"the-return-life-after-isis":true,"the-romeo-section":true,"the-royal-variety-performance-gala-2020":true,"the-royals-revealed":true,"the-search-for-freedom":true,"the-search-manufacturing-belief":true,"the-secret":true,"the-secret-path":true,"the-secret-path-ahead-by-a-century":true,"the-secret-path-freedom-to-speak":true,"the-secret-path-in-the-classroom":true,"the-secret-to-making-better-decisions":true,"the-shadow-of-diana":true,"the-shamans-apprentice":true,"the-six-titanics-last-secret":true,"the-skyjackers-tale":true,"the-slap":true,"the-slowest-show":true,"the-sounds":true,"the-stand-how-one-gesture-shook-the-world":true,"the-stats-of-life":true,"the-story-of-china":true,"the-story-of-late-night":true,"the-story-of-rugby":true,"the-strange-chores":true,"the-studio-k-show":true,"the-sunday-scrum":true,"the-sweet-hereafter":true,"the-tempest":true,"the-thrillusionists":true,"the-town-at-the-top-of-the-world":true,"the-trotsky":true,"the-truth-about-christmas":true,"the-tudors":true,"the-tunnel":true,"the-unmoveable-harvey-sykes":true,"the-valley-below":true,"the-victim":true,"the-waiting-room":true,"the-walrus-and-the-whistleblower":true,"the-weekly":true,"the-whole-truths":true,"the-windermere-children":true,"the-windermere-children-in-their-own-words":true,"the-witch":true,"the-witches-of-the-orient":true,"the-wonder-gang":true,"the-woodstock-diaries":true,"the-worlds-tiniest-masterpieces":true,"the-writers-block":true,"the-wrong-mans":true,"there-are-no-fakes":true,"they-call-me-dr-miami":true,"thin-blue-line":true,"thirteen":true,"thirty-eight-minutes":true,"this-art-works":true,"this-blows":true,"this-close":true,"this-country":true,"this-hour-has-22-minutes":true,"this-ink-runs-deep":true,"this-is-our-cup":true,"this-life":true,"this-time-with-alan-partridge":true,"this-wild-life":true,"through-our-eyes-indigenous-short-docs":true,"thunder-blanket":true,"thunderbirds-are-go":true,"timewasters":true,"timon-of-athens":true,"tizita":true,"toad-people":true,"toddlers-behaving-very-badly":true,"tokyo-idols":true,"tom-greens-snow-jam":true,"tomomi-on-the-farm":true,"top-ten-event":true,"top-of-the-lake":true,"top-of-the-lake-china-girl":true,"topline":true,"topping-out-race-to-the-2021-ouray-ice-climbing-competition":true,"tower-of-song-a-memorial-tribute-to-leonard-cohen":true,"toxic-beauty":true,"trail-of-the-caribou":true,"trailer":true,"trailer-2020":true,"transformer":true,"transformatruc":true,"travel-man-48-hours-in...":true,"travel-mans-greatest-trips":true,"trick-or-treaty":true,"trickster":true,"trigger-point":true,"trigonometry":true,"triplets-of-belleville":true,"trouble-in-the-garden":true,"trudeau-testifies":true,"true-and-the-rainbow-kingdom":true,"true-north":true,"true-north-calling":true,"trust-me":true,"turtle-island-reads":true,"twenties":true,"twilight-dancers":true,"two-lovers-and-a-bear":true,"ukulele-u":true,"ukulele-u-kids-stand-with-ukraine":true,"undisrupted":true,"unclaimed":true,"uncovering-bcs-black-history-who-is-mifflin-gibbs":true,"under-new-management":true,"undercover":true,"underfire-the-untold-story-of-pfc-tony-vaccaro":true,"unless":true,"unmasking-racism-what-are-we-going-to-do-about-it":true,"unmasking-racism-what-are-we-going-to-do-about-it-asl-version":true,"unspeakable":true,"until-further-notice":true,"untying-the-knot":true,"up-in-the-air":true,"upright":true,"urbanindigenousproud-shorts":true,"us":true,"utopia-falls":true,"uvanga":true,"uytae-lees-stories-about-here":true,"vuvanga":true,"vacation-with-derek":true,"vagrant-queen":true,"vanity-fair":true,"versailles":true,"vet-on-the-hill":true,"victoria":true,"vika":true,"visualized":true,"voice-of-freedom":true,"walk-good":true,"wallander":true,"wallys-world":true,"wandering-wenda":true,"war-club":true,"war-of-the-worlds":true,"war-on-plastic-with-hugh-and-anita":true,"warigami":true,"warrior-women-with-lupita-nyongo":true,"warumuk---in-the-dark-night":true,"water":true,"we-are-canada":true,"we-need-to-talk-addressing-systemic-racism-in-alberta":true,"we-were-children":true,"weirdos":true,"were-funny-that-way":true,"werewolf":true,"wet-bum":true,"wexford-plaza":true,"what-in-the-olympic-winter-games":true,"what-keeps-you-alive":true,"what-would-sal-do":true,"whats-with-the-jews":true,"whats-your-ailment-with-maria-bamford":true,"wheelers-everest":true,"when-calls-the-heart":true,"when-jews-were-funny":true,"when-the-children-left":true,"white-cane-journeys":true,"white-house-farm-murders":true,"who-do-you-think-i-am":true,"who-farted":true,"why-plastic":true,"why-slavery":true,"why-we-fight":true,"whyfi":true,"wild-bill":true,"window-horses":true,"window-wonderland":true,"winnie":true,"winnipeg-comedy-festival":true,"winston-rowntrees-peoplewatching":true,"wisting":true,"woman-on-fire":true,"workin-moms":true,"world-chase-tag-2019-world-championships":true,"world-famous-gopher-hole-museum":true,"worlds-fastest-gamers":true,"write-around-the-world":true,"writing-the-land":true,"writing-with-fire":true,"x-company":true,"you-are-what-you-act":true,"you-cant-ask-that":true,"you-cant-ask-that-oz":true,"youre-sleeping-nicole-tu-dors-nicole":true,"youre-soaking-in-it":true,"young-and-promising":true,"young-drunk-punk":true,"zarqa":true,"zelensky-the-man-who-took-on-putin":true,"zoomizoom":true},"listen":{"--inuit-unikkaangit":true,"-wiihteh---cree":true,"25-best-canadian-debut-albums":true,"35-under-35-canadian-jazz-artists":true,"4korners-raptors-dj-mix-explicit":true,"2050-degrees-of-change":true,"90s-pop":true,"90s-rock":true,"a-new-day":true,"adult-alternative":true,"adult-pop":true,"african-icons":true,"afrobeat":true,"after-the-deadline":true,"afterdark":true,"afternoon-drive":true,"airplay":true,"alberta-at-noon":true,"albertanoon-from-cbc-radio-highlights":true,"all-in-a-day":true,"all-in-a-weekend":true,"all-in-a-weekend-montreal":true,"all-points-west":true,"alone-a-love-story":true,"alt-country":true,"ambushed":true,"arabic-classics":true,"as-it-happens":true,"as-it-happens-from-cbc-radio":true,"as-maple-as":true,"as-me-with-sinad":true,"ashumiyi":true,"asking-for-it":true,"atlantic-voice":true,"bachmans-guitarchives":true,"back-story":true,"backstage":true,"ballet":true,"baroque":true,"bc-today":true,"because-news":true,"because-news-from-cbc-radio":true,"beethoven":true,"ben-heppners-opera-gems":true,"best-of-drive":true,"best-operas-ever":true,"bhangra-plus":true,"big-band":true,"big-city-small-world":true,"billion-dollar-goldmine":true,"bitter-pills":true,"blue-sky":true,"blues-canada":true,"blues-classics":true,"bodies-of-work":true,"bollywood-idols":true,"bossa-brazil":true,"boushie":true,"boys-like-me":true,"brainwashed":true,"breakaway":true,"buffy":true,"burden-of-truth":true,"calgary-eyeopener":true,"campus":true,"canada-reads":true,"canadian-chanson":true,"canadian-classical-performers":true,"canadian-composers":true,"canadian-country":true,"canadian-electronic":true,"canadian-hip-hop":true,"canadian-love-songs":true,"canadian-metal":true,"canadian-songwriter":true,"cape-bretons-information-morning-from-cbc-radio-nova-scotia-highlights":true,"carrie-low-versus":true,"caught---70s-rock":true,"cbc-books":true,"cbc-kids":true,"cbc-music-festival-2019":true,"cbc-music-festival-2020":true,"cbc-music-live-sessions-and-concerts":true,"cbc-music-top-20":true,"cbc-newfoundland-morning":true,"cbc-news-at-issue":true,"cbc-news-hourly-edition":true,"cbc-news-the-house":true,"cbc-news-the-pollcast":true,"cbc-news-the-world-at-six":true,"cbc-news-the-world-this-hour":true,"cbc-news-world-report":true,"cbc-radio-3":true,"cbc-radio-specials":true,"cbc-records":true,"cbc-tvs-crawford":true,"celtic":true,"central-morning":true,"centre-stage":true,"cest-formidable":true,"chamber":true,"chill-out":true,"choral":true,"choral-concert":true,"chosen-family":true,"christmas-sing-in":true,"cinq-a-six":true,"classic-country":true,"classic-prog":true,"classic-soul":true,"classical-britain":true,"classical-france":true,"classical-germany":true,"classical-hits-from-the-toybox":true,"classical-holidays":true,"classical-in-love":true,"classical-italy":true,"classical-music-for-celebration":true,"classical-music-for-reflection":true,"classical-russia":true,"classical-serenity":true,"colin-james-blues":true,"columnists-from-cbc-radio":true,"comedy-factory-from-cbc-radio":true,"cost-of-living":true,"country-christmas":true,"cross-country-checkup":true,"cross-country-checkup-from-cbc-radio":true,"cross-talk":true,"day-6":true,"day-6-from-cbc-radio":true,"daybreak-alberta":true,"daybreak-kamloops":true,"daybreak-montreal":true,"daybreak-north":true,"daybreak-south":true,"deep-trouble":true,"definitely-not-the-opera":true,"dehcho-dene-south-slavey":true,"denesuline-yatia":true,"diggstown":true,"disco":true,"drake--co.":true,"dub":true,"east-coast-music-hour":true,"escaping-nxivm":true,"essential-classics":true,"edmonton-am":true,"eli-glasner-on-film-from-cbc-radio":true,"evil-by-design":true,"eyou-dipjimoon-cree":true,"fault-lines":true,"film-scores":true,"first-day-back":true,"flights-of-fancy-":true,"folk-classics":true,"frankies-jazz":true,"fresh-air":true,"front-burner":true,"funk":true,"garden-talk":true,"glasner-on-film":true,"go-the-distance":true,"golden-era":true,"gospel":true,"hard-to-stomach":true,"haunted-halloween":true,"heartland":true,"here-and-now-toronto":true,"heroes-hustlers-and-horsemen":true,"hip-hop":true,"hit-musicals":true,"homerun":true,"hot-air":true,"hot-country":true,"hunting-warhead":true,"ideas":true,"in-concert-revival-hour":true,"in-town-and-out":true,"inappropriate-questions":true,"india-roots":true,"indie":true,"indigenous-canada":true,"indigenous-hip-hop-explicit":true,"indigenous-music-awards-nominees":true,"information-morning---cape-breton":true,"information-morning---fredericton":true,"information-morning-fredericton-from-cbc-radio-new-brunswick-highlights":true,"information-morning---moncton":true,"information-morning-moncton-from-cbc-radio-new-brunswick-highlights":true,"information-morning---ns":true,"information-morning-from-cbc-radio-nova-scotia-highlights":true,"information-morning---saint-john":true,"information-radio---mb":true,"inside-the-junos":true,"island-morning":true,"island-vibe":true,"jazz-in-love":true,"jazz-loves-christmas":true,"jazz-loves-hip-hop":true,"jazz-loves-pop":true,"jazz-masters":true,"jazz-songbook":true,"jazz-with-laila-biali":true,"jets-stream":true,"jukebox-favourites":true,"julie-nesrallahs-tempo":true,"juno-adult-alternative-album-of-the-year":true,"juno-album-of-the-year":true,"juno-alternative-album-of-the-year":true,"juno-artist-of-the-year":true,"juno-blues-album-of-the-year":true,"juno-breakthrough-artist-of-the-year":true,"juno-breakthrough-group-of-the-year":true,"juno-childrens-album-of-the-year":true,"juno-classical-album-of-the-year-large-ensemble":true,"juno-classical-album-of-the-year-solochamber":true,"juno-classical-album-of-the-year-vocal-or-choral-performance":true,"juno-contemporary-christiangospel":true,"juno-contemporary-roots-album-of-the-year":true,"juno-country-album-of-the-year":true,"juno-electronic-album-of-the-year":true,"juno-fan-choice":true,"juno-francophone-album-of-the-year":true,"juno-group-of-the-year":true,"juno-hall-of-fame":true,"juno-heavy-metalhard-music-album-of-the-year":true,"juno-indigenous-music-album-of-the-year":true,"juno-instrumental-album-of-the-year":true,"juno-international-album-of-the-year":true,"juno-jazz-album-of-the-year-group":true,"juno-jazz-album-of-the-year-solo":true,"juno-pop-album-of-the-year":true,"juno-rap-recording-of-the-year":true,"juno-rbsoul-recording-of-the-year":true,"juno-reggae-recording-of-the-year":true,"juno-rock-album-of-the-year":true,"juno-single-of-the-year":true,"juno-songwriter-of-the-year":true,"juno-traditional-roots-album-of-the-year":true,"juno-vocal-jazz-album-of-the-year":true,"juno-world-music-album-of-the-year":true,"k-pop-idols":true,"key-of-a":true,"killers-j-pod-on-the-brink":true,"kiwew":true,"kuper-island":true,"labrador-morning":true,"labrador-morning-from-cbc-radio-nfld.-and-labrador-highlights":true,"latin-jazz":true,"laugh-out-loud":true,"laugh-out-loud-from-cbc-radio":true,"legotsedeh-north-slavey":true,"lets-go":true,"lets-make-a-sci-fi":true,"life-jolt":true,"limited-capacity":true,"london-morning":true,"love-janessa":true,"love-me":true,"lullaby-rock":true,"mainstreet-cape-breton":true,"mainstreet-halifax-from-cbc-radio":true,"mainstreet-ns":true,"mainstreet-pei":true,"maritime-connection":true,"maritime-noon":true,"maritime-noon-from-cbc-radio-highlights":true,"marvins-room":true,"marvins-room-rb":true,"masters-of-reinvention-pandemic-rising":true,"meditation":true,"meet-the-riders":true,"metal":true,"metro-morning":true,"metro-morning-from-cbc-radio-toronto-highlights":true,"mic-drop":true,"mid-century-modern":true,"midday-cafe":true,"missing-murdered-finding-cleo":true,"modern-masters":true,"montreal-jazz-festival":true,"montreapolis":true,"more-with-anna-maria-tremonti":true,"morning-north":true,"morning-north-from-cbc-radio-sudbury-highlights":true,"motown-in-love":true,"movie-magic":true,"muddied-water":true,"music-comes-alive":true,"music-from-the-crypt":true,"my-playlist":true,"new-fire":true,"new-wave":true,"north-by-northwest":true,"north-by-northwest-from-cbc-radio-british-columbia-highlights":true,"northwind":true,"nothing-is-foreign":true,"now-or-never":true,"off-guard":true,"old-school":true,"on-drugs":true,"on-the-coast":true,"on-the-go":true,"on-the-island":true,"on-the-ledge":true,"ontario-morning-from-cbc-radio":true,"ontario-today":true,"ontario-today-phone-ins-from-cbc-radio":true,"orchestral":true,"other-peoples-problems":true,"ottawa-morning":true,"out-in-the-open":true,"party-lines":true,"pei-pulse":true,"personal-best":true,"phil-dwyers-jazz-canada":true,"piano":true,"picking-up-the-pieces":true,"players-own-voice":true,"playme":true,"podcast-playlist":true,"podcast-playlist-from-cbc-radio":true,"polaris-picks":true,"polaris-prize-shortlist-special":true,"pop-40":true,"pop-canada":true,"pop-chat":true,"pop-christmas":true,"power-and-politics":true,"powwow":true,"pressure-cooker":true,"pride":true,"punk":true,"pyc-podcast":true,"q":true,"q-the-podcast-from-cbc-radio":true,"q-with-tom-power":true,"quadriga":true,"quebec-am":true,"quirks-and-quarks":true,"quirks-and-quarks-from-cbc-radio":true,"radio-active":true,"radio-noon-manitoba":true,"radio-noon-montreal":true,"radio-noon-quebec":true,"radio-west":true,"randy-bachmans-vinyl-tap":true,"rb-canada":true,"recall":true,"recall-how-to-start-a-revolution":true,"reclaimed":true,"reggae":true,"renaissance-splendour":true,"rewind":true,"rich-terfrys-off-ramp":true,"roadtrip":true,"rock":true,"rock-canada":true,"rock-classics":true,"rockabilly":true,"round-dance":true,"saddest-songs":true,"salsa":true,"sanctioned-the-arrest-of-a-telecom-giant":true,"saskatchewan-weekend":true,"saskatoon-morning":true,"saturday-afternoon-at-the-opera-best-operas-ever":true,"searchlight":true,"seasonal-favourites":true,"seat-at-the-table":true,"secrets-of-the-fifth-estate":true,"shift---nb":true,"sickboy":true,"singer-songwriter":true,"ska-essentials":true,"sleepover":true,"slumtown":true,"smooth-hits":true,"smooth-jazz":true,"soca":true,"sold":true,"someone-knows-something":true,"sonica":true,"sorry-about-the-kid":true,"south-asian-mix":true,"spark":true,"spark-from-cbc-radio":true,"spin-reduxit-from-cbc-radio-new-brunswick":true,"spirit-to-soar":true,"sports-talk":true,"st-johns-morning-show":true,"strombo":true,"stuff-the-british-stole":true,"summer-songs":true,"sunday-edition":true,"superior-morning":true,"tai-asks-why":true,"tapestry":true,"tapestry-from-cbc-radio":true,"this-is-that":true,"trails-end":true,"the-70s":true,"the-80s":true,"the-africas-vs-america":true,"the-afternoon-edition---sask":true,"the-band-played-on":true,"the-base":true,"the-best-of-the-disruptors":true,"the-bridge":true,"the-broadcast":true,"the-candy-palmater-show":true,"the-cbc-election-pollcast":true,"the-comedy-factory":true,"the-current":true,"the-current-weekly":true,"the-debaters":true,"the-doc-project":true,"the-dose":true,"the-early-edition":true,"the-early-edition-from-cbc-radio-british-columbia-highlights":true,"the-eyeopener-from-cbc-radio-calgary-highlights":true,"the-flamethrowers":true,"the-fridge-light":true,"the-heart":true,"the-hit-list":true,"the-homestretch":true,"the-hook":true,"the-house":true,"the-house-from-cbc-radio":true,"the-in-concert-revival-hour":true,"the-irrelevant-show":true,"the-kill-list":true,"the-ledge":true,"the-life-game":true,"the-loop":true,"the-morning-edition---k-w":true,"the-morning-edition---sask":true,"the-morning-edition-from-cbc-radio-saskatchewan-highlights":true,"the-next-150":true,"the-next-call":true,"the-next-chapter":true,"the-next-chapter-from-cbc-radio":true,"the-numbered":true,"the-pit":true,"the-political-panel-from-cbc-news-new-brunswick":true,"the-secret-life-of-canada":true,"the-shadows":true,"the-st-johns-morning-show-from-cbc-radio-nfld-and-labrador-highlights":true,"the-story-from-here":true,"the-story-store":true,"the-strombo-show":true,"the-sunday-edition":true,"the-sunday-magazine":true,"the-trailbreaker":true,"the-unamericans":true,"the-village":true,"the-weekend-morning-show-manitoba":true,"the-weekender":true,"the-world-this-weekend":true,"they--us":true,"this-is-my-music":true,"this-is-not-a-drake-podcast":true,"tide-godi-tlicho":true,"tom-allen-presents":true,"tom-powers-deep-roots":true,"tony-ho":true,"trickster":true,"true-dating-stories":true,"tusaavik":true,"tuttavik-inuktitut":true,"uncover":true,"under-the-covers":true,"under-the-influence":true,"under-the-influence-from-cbc-radio":true,"unlocking-brysons-brain":true,"unlocking-the-fountain":true,"unreserved":true,"unspeakable":true,"up-north":true,"up-to-speed":true,"utopia-falls":true,"venturing-out":true,"vinyl-cafe":true,"walking-wascana":true,"weekend-am":true,"weekend-mornings":true,"weekend-morning-manitoba":true,"welcome-to-paradise":true,"west-of-centre":true,"what-on-earth":true,"white-coat-black-art":true,"white-coat-black-art-on-cbc-radio":true,"white-hot-hate":true,"windsor-morning":true,"winnipeg-famous":true,"winschgaoug-cree":true,"wiretap":true,"women-who-have-changed-music":true,"woodstock":true,"workout-mix":true,"world":true,"world-news":true,"world-on-fire":true,"writers-and-company":true,"writers-and-company-from-cbc-radio":true,"yukon-morning":true}},"sport":{"3x3-basketball":true,"alpine-skiing":true,"artistic-gymnastics":true,"artistic-swimming":true,"aquatics":true,"archery":true,"athletics":true,"badminton":true,"baseball":true,"basketball":true,"beach-volleyball":true,"biathlon":true,"bmx":true,"boccia":true,"bobsleigh":true,"boxing":true,"canoe-kayak":true,"cross-country-skiing":true,"curling":true,"cycling":true,"cycling-mountain-bike":true,"cycling-road":true,"cycling-track":true,"diving":true,"equestrian":true,"fencing":true,"field-hockey":true,"figure-skating":true,"football":true,"freestyle-skiing":true,"goalball":true,"golf":true,"gymnastics":true,"handball":true,"hockey":true,"judo":true,"karate":true,"lacrosse":true,"luge":true,"marathon":true,"modern-pentathlon":true,"nordic-combined":true,"para-alpine-skiing":true,"para-archery":true,"para-athletics":true,"para-badminton":true,"para-biathlon":true,"para-canoe":true,"para-cross-country-skiing":true,"para-cycling":true,"para-equestrian":true,"para-football-five-a-side":true,"para-ice-hockey":true,"para-judo":true,"para-powerlifting":true,"para-rowing":true,"para-snowboard":true,"para-swimming":true,"para-table-tennis":true,"para-taekwondo":true,"para-triathlon":true,"pentathlon":true,"powerlifting":true,"rodeo":true,"rowing":true,"rugby":true,"rhythmic-gymnastics":true,"sailing":true,"shooting":true,"shooting-para-sport":true,"short-track-speed-skating":true,"sitting-volleyball":true,"skateboarding":true,"skeleton":true,"ski-jumping":true,"skiing":true,"sliding":true,"soccer":true,"soccer-5-a-side":true,"softball":true,"snowboard":true,"snowboarding":true,"speed-skating":true,"sport-climbing":true,"surfing":true,"swimming":true,"table-tennis":true,"taekwondo":true,"tennis":true,"track-and-field":true,"trampoline":true,"trampoline-gymnastics":true,"triathlon":true,"volleyball":true,"water-polo":true,"waterpolo":true,"wheelchair-basketball":true,"weightlifting":true,"wheelchair-curling":true,"wheelchair-fencing":true,"wheelchair-rugby":true,"wheelchair-tennis":true,"wrestling":true,"youth-olympics":true},"streamtype":{"linear":true,"live":true,"on-demand":true},"type":{"broadcast":true,"excerpt":true,"event-coverage":true,"full-program":true,"interview":true,"raw-video":true,"raw-audio":true,"tutorial":true}},"tier":{"authenticated":true,"free":true,"premium":true},"type":{"album":true,"artist":true,"audioclip":true,"authorbio":true,"bio":true,"blogentry":true,"comments":true,"episode":true,"error":true,"feature":true,"game":true,"index":true,"longform":true,"newsletter":true,"page":true,"photogallery":true,"podcast":true,"programguide":true,"recipe":true,"schedule":true,"segment":true,"sponsoredcontent":true,"story":true,"videoclip":true}},"app":{"pillar":{"feed":true,"legacy":true,"legacyee":true,"listen":true,"lwf":true,"watch":true},"name":{"ci-amazon-alexa":true,"ci-google-assistant":true,"ci-microsoft-cortana":true,"fia":true,"gamp":true,"kids-fantasy-hockey-web-app":true,"kids-web-app":true,"listen-android-app":true,"listen-ios-app":true,"listen-web-app":true,"lite-web-app":true,"music-android-app":true,"music-ios-app":true,"music-tvos-app":true,"music-web-app":true,"news-android-app":true,"news-android-tv-app":true,"news-ios-app":true,"news-tvos-app":true,"newslabs-web-app":true,"newsletter-web-app":true,"ocelot":true,"ott-android-app":true,"ott-ios-app":true,"ott-web-app":true,"radio-android-app":true,"radio-ios-app":true,"sports-android-app":true,"sports-ios-app":true}},"user":{"tier":{"authenticated":true,"free":true,"premium":true},"reason":{"SUBSCRIBED":{"promotion":true}}},"sponsor":{"name":{"air-canada-fly-the-flag":true,"Air Transat":true,"Allens":true,"asahi-sugoi-tokyo":true,"Athabasca University":true,"athabasca-university":true,"bell-faster-higher-stronger":true,"bell-faster-higher-stronger-beijing":true,"betrivers-that-feeling-beijing":true,"Bonjour Quebec":true,"Brita":true,"Calm Radio":true,"Canadian Tire":true,"Chamber Market":true,"Club Med":true,"CMC Markets":true,"Cogeco":true,"college-universel":true,"Cornucopia":true,"Dell Technologies":true,"Destination BC":true,"District Central":true,"Duracell":true,"Encorp":true,"Explore Edmonton - Domestic Inbound - 2022":true,"Familia Torres":true,"Fort McMurray Wood Buffalo":true,"frankfurt-book-fair":true,"Future Skills Centre":true,"Gillette":true,"Greek Tourism":true,"Hearing Life Canada":true,"Hilo":true,"IBM":true,"kraft-while-you-were-sleeping":true,"La Roche-Posay":true,"LCBO":true,"Liberty - Natural Gas - 2022":true,"lululemon-the-olympians-beijing":true,"Mastercard":true,"National Gallery of Canada":true,"nespresso":true,"Netcoins":true,"Novartis":true,"Oasis":true,"olg-the-quest":true,"Ontario - Trillium Gift of Life":true,"ozempic-that-figure-skating-show-beijing":true,"P&G":true,"petro-canada-the-bond":true,"petro-canada-the-bond-beijing":true,"petro-canada-mon-mentor-beijing":true,"Prime Video Canada":true,"Pro-Mix":true,"Product Care Recycling":true,"rbc-spotlight":true,"rbc-spotlight-beijing":true,"Reitmans-RWCO-Summer-2022":true,"samsung-3-stars-beijing":true,"SAQ":true,"sobeys-family-album":true,"sobeys-family-album-beijing":true,"The Salvation Army":true,"ThePowerMBA":true,"Tim Hortons":true,"Tokyo Metropolitan Government":true,"Tourism Mont Tremblant":true,"Tourism New Brunswick":true,"Tourism New Brunswick-Road Trip-2022":true,"Tourism Tofino":true,"Tourism Whistler":true,"toyota":true,"toyota-breakthrough":true,"toyota-breakthrough-beijing":true,"toyota-breakthrough-tokyo":true,"toyota-mon-destin-beijing":true,"toyota-mon-destin-tokyo":true,"toyota-searchlight-2021":true,"toyota-searchlight-2022":true,"Travel Alberta":true,"tvo":true,"uber-eats-who-delivered-beijing":true,"uber-go-getters":true,"United Way":true,"visa-olympic-moments":true,"visa-olympic-moments-beijing":true,"visa-olympic-moments-tokyo":true,"Whirlpool":true}},"partner":{"name":{"amplitude-test":true}},"department":{"level3":{"arts":["unscripted"],"comedy":["scripted","unscripted"],"digital-originals":["scripted","unscripted"],"drama":["scripted"],"docs":["unscripted"],"factual":["unscripted"],"life":["unscripted"]},"level2":{"books":["radio"],"british-columbia":["local-services"],"business":["news"],"calgary":["local-services"],"edmonton":["local-services"],"entertainment":["news"],"hamilton":["local-services"],"health":["news"],"indigenous":["local-services"],"kamloops":["local-services"],"kids":["programming"],"kitchener-waterloo":["local-services"],"london":["local-services"],"manitoba":["local-services"],"montreal":["local-services"],"music":["radio"],"new-brunswick":["local-services"],"newfoundland":["local-services"],"north":["local-services"],"nova-scotia":["local-services"],"opinion":["news"],"ottawa":["local-services"],"pei":["local-services"],"podcast":["radio"],"politics":["news"],"saskatchewan":["local-services"],"saskatoon":["local-services"],"science":["news"],"scripted":["programming"],"sudbury":["local-services"],"talk":["radio"],"technology":["news"],"thunder-bay":["local-services"],"toronto":["local-services"],"unscripted":["programming"],"windsor":["local-services"]},"level1":{"digital-archives":true,"homepage":true,"local-services":true,"news":true,"programming":true,"radio":true,"sports":true,"watch":true}},"feature":{"name":{"banner":true,"card-grid":true,"carousel":true,"content-package":true,"link":true,"media-embed":true,"media-player":true,"media-playlist-player":true,"navigation":true,"radio-bar":true,"radio-button":true,"swimlane":true,"vertical-card-list":true},"instance":{"Aquatics":true,"Archives":true,"Arts":true,"Arts and Entertainment":true,"BC":true,"Baseball":true,"Basketball":true,"Breaking News":true,"Business":true,"Calgary":true,"Calgary Stampede":true,"Canada":true,"Canoe-Kayak":true,"Commonwealth Games":true,"Consumer Life":true,"Cricket":true,"Curling":true,"Cycling":true,"Diving":true,"Docs":true,"Edmonton":true,"Field Hockey":true,"Figure Skating":true,"Football":true,"global-nav":true,"Golf":true,"Gymnastics":true,"Hamilton":true,"Health":true,"Hockey":true,"in-page-nav":true,"Indigenous":true,"Judo":true,"Kitchener-Waterloo":true,"LIVE NOW":true,"Life":true,"Local News Shows":true,"London":true,"Manitoba":true,"Maritimes":true,"Montreal":true,"Music":true,"Must Watch":true,"My Local":true,"my-olympics":true,"NB":true,"NL":true,"NS":true,"News":true,"North":true,"Olympic Sports":true,"olympics":true,"Ottawa":true,"PEI":true,"Paralympics":true,"Politics":true,"random":true,"related-link":true,"Road to the Olympic Games":true,"Rowing":true,"Rugby":true,"Saskatchewan":true,"Saskatoon":true,"Science":true,"secondary-navigation":true,"Show Jumping":true,"Skiing":true,"Sliding":true,"Snowboarding":true,"Soccer":true,"Softball":true,"sort":true,"Speed Skating":true,"Sports":true,"Sudbury":true,"Surfing":true,"TV Shows":true,"Technology and Science":true,"Tennis":true,"Thunder Bay":true,"Toronto":true,"Track and Field":true,"Volleyball":true,"Windsor":true,"World":true,"breadcrumb":true,"closed-captions":true,"primary-headline":true,"primary-related":true,"primary-visual":true,"rec-sys":true,"secondary-related":true,"trending":true,"weather-widget":true},"position":{"0":true,"1":true,"2":true,"3":true,"4":true,"5":true,"6":true,"7":true,"8":true,"9":true,"10":true,"11":true,"12":true,"13":true,"14":true,"15":true,"16":true,"17":true,"18":true,"19":true,"20":true},"value":{"off":true,"on":true,"manual-curation":true,"reverse-chronological":true,"trending":true}},"webviewapps":{"news-ios-app":true,"news-android-app":true,"sports-ios-app":true,"sports-android-app":true,"listen-ios-app":true,"listen-android-app":true}}}}')}catch(e){CBC.APP.SC.DEBUG&&console.log("ERROR: Metadata whitelist ESI not working. Using AJAX.");var t="//www.cbc.ca/network/includes/stats/metadata-whitelist.json";CBC.APP.SC.UTIL.makeGETRequest(t,{success:function(e,t){CBC.APP.SC.metadataWhitelist=JSON.parse(e.responseText)},failure:function(e,t){console.log("ERROR: Unable to talk to metadata whitelist URL: "+t.failure.uri)}},{success:{uri:t},failure:{uri:t}},0,0,{timeout:2e3,cb:function(){console.log("ERROR: AJAX request for //www.cbc.ca/network/includes/stats/metadata-whitelist.json timed out.")}})}}(),function(){"use strict";try{CBC.APP.SC.dmpAudienceslist=JSON.parse('{"masks":{"Ads":1,"Amplitude":2,"Conductrics":4,"Dfp":8},"audiences":{"339250":2,"357908":4,"381626":8,"381627":8,"418946":8,"421721":2,"422188":8,"424151":8,"425088":8,"450457":4,"450470":4,"451377":4,"462099":8,"492233":8,"494342":8,"494344":8,"494346":8,"494347":8,"494349":8,"494351":8,"494352":8,"494723":8,"494729":2,"494737":8,"494740":1,"494748":8,"494777":8,"494780":8,"494782":8,"494783":8,"494785":8,"494788":8,"494789":8,"494790":8,"494792":8,"494793":8,"494794":8,"494796":8,"494797":8,"495714":8,"495732":8,"495733":8,"497524":1,"500145":8,"500150":8,"500152":8,"501031":8,"501032":8,"501033":8,"501035":8,"501036":8,"501037":8,"501038":8,"501039":8,"501043":8,"501051":8,"501052":8,"502760":8,"502778":8,"503763":8,"505409":8,"505798":8,"506190":8,"506593":8,"507029":8,"508498":6,"508617":8,"509471":8,"509830":8,"510213":8,"513413":8,"513578":8,"513582":8,"513585":8,"513587":8,"513931":8,"514158":8,"514163":8,"514680":8,"515988":8,"515992":8,"515995":8,"516002":8,"517295":8,"517556":8,"517874":8,"518261":8,"518326":8,"518735":8,"519440":8,"519466":8,"519476":8,"519691":8,"520071":8,"521862":8,"522960":8,"522961":8,"524218":8,"525280":8,"525284":8,"525287":8,"525290":8,"527178":8,"527226":8,"527240":8,"527243":8,"527245":8,"527257":8,"528184":1,"528185":1,"529402":8,"531119":8,"531286":8,"534035":8,"534057":8,"534380":8,"534429":8,"535218":8,"537155":8,"537181":8,"537334":8,"537461":8,"537751":8,"537833":8,"537834":8,"537836":10,"537841":8,"537842":8,"537873":8,"537875":8,"537876":8,"537882":8,"538146":8,"538381":8,"538387":8,"538388":8,"538389":8,"538480":8,"538504":8,"538675":8,"538832":8,"538912":8,"539221":8,"539749":8,"539755":8,"539945":8,"540066":8,"540112":8,"541831":8,"542872":8,"542877":8,"542882":8,"543800":8,"545682":8,"548179":1,"548739":8,"548740":8,"548741":8,"550345":8,"552738":8,"552863":1,"552865":1,"552928":8,"552932":8,"552942":8,"553272":8,"553610":8,"554435":8,"556284":8,"560299":8,"565250":8,"565388":8,"572781":8,"574221":3,"574755":1,"575784":8,"577820":8,"579366":8,"579367":8,"579368":8,"579369":8,"583479":8,"583486":8,"583586":8,"583587":8,"585062":8,"585063":8,"585152":8,"585153":8,"585188":8,"585190":8,"589987":1,"589988":1,"589989":1,"590004":1,"593056":8,"593691":8,"593693":8,"593711":1,"593781":1,"593802":1,"593803":1,"593844":8,"593846":8,"593889":8,"593898":8,"593899":8,"593900":8,"601476":1,"601480":8,"601486":8,"603145":8,"603173":8,"603873":8,"603874":8,"604032":8,"604918":3,"608813":3,"610236":8,"611038":8,"626331":8,"628180":8,"628181":8,"628182":8,"628183":8,"628536":8,"629480":8,"637172":8,"637173":8,"637174":8,"637175":8,"637765":8,"637766":8,"637768":8,"638416":8,"655700":8,"656017":8,"656018":8,"656027":8,"661142":8,"661144":8,"663131":8,"663146":8,"665553":1,"667463":8,"667828":8,"668255":8,"668256":8,"668301":8,"668302":8,"668307":8,"668309":8,"669162":8,"671618":8,"671666":8,"671711":2,"672649":3,"674161":1,"674174":2,"677994":1,"682345":8,"682387":8,"682388":8,"682390":8,"682666":8,"682888":8,"682892":8,"683095":8,"683110":8,"683122":8,"683124":8,"683125":8,"683129":8,"683131":8,"683136":8,"683138":8,"683141":8,"683142":8,"683151":8,"684122":8,"684127":8,"684637":8,"685869":8,"685870":8,"690145":8,"690748":2,"690760":5,"692992":8,"739808":8,"739809":8,"739828":8,"739831":8,"741865":8,"756657":1,"757933":1,"758689":1,"761381":8,"761383":8,"761384":8,"761385":8,"762706":8,"767518":8,"772980":2,"782242":8,"788402":8,"801371":8,"801373":8,"801376":8,"801377":8,"801379":8,"815908":8,"816652":8,"816654":8,"822789":8,"822793":8,"823830":8,"824871":8,"834263":3,"837564":8,"837565":8,"837566":8,"837568":8,"838649":1,"838652":1,"838653":1,"838655":1,"838656":1,"838657":1,"838658":1,"838659":1,"838661":1,"838672":1,"838673":1,"838675":1,"838676":1,"839393":1,"839395":1,"839407":1,"839765":8,"839766":8,"840279":8,"840944":8,"840947":8,"840953":8,"840974":8,"845643":8,"845644":8,"845645":8,"845646":8,"845647":8,"845648":8,"845990":8,"846715":8,"846716":8,"846717":8,"846718":8,"846719":8,"846720":8,"850179":1,"860609":8,"860610":8,"860611":8,"860612":8,"860618":8,"860619":8,"860621":8,"860623":8,"860624":8,"860625":8,"860626":8,"860627":8,"861239":8,"861241":8,"861244":8,"861869":8,"861874":8,"861875":8,"861876":8,"861877":8,"861878":8,"861879":8,"861881":8,"861882":8,"861883":8,"861885":8,"862880":2,"862881":2,"862885":2,"862889":2,"862892":2,"864329":8,"867452":8,"867593":8,"867604":8,"868249":8,"868670":8,"875178":10,"875192":8,"875194":10,"875195":10,"875199":10,"875200":10,"875201":10,"875202":10,"875621":2,"875626":2,"876560":10,"876565":10,"878147":8,"883349":10,"883482":8,"884301":10,"915942":8}}')}catch(e){CBC.APP.SC.DEBUG&&console.log("ERROR: DMP Audiences ESI not working. Using AJAX.");var t="//www.cbc.ca/network/includes/dmp/dmp-audiences.json";CBC.APP.SC.UTIL.makeGETRequest(t,{success:function(e,t){CBC.APP.SC.dmpAudienceslist=JSON.parse(e.responseText)},failure:function(e,t){console.log("ERROR: Unable to talk to DMP Audiences URL: "+t.failure.uri)}},{success:{uri:t},failure:{uri:t}},0,0,{timeout:2e3,cb:function(){console.log("ERROR: AJAX request for //www.cbc.ca/network/includes/dmp/dmp-audiences.json timed out.")}})}}(),function(){"use strict";try{CBC.APP.SC.LOCALGEO=JSON.parse('{"disclaimer":"be a good citizen and store this output in the device session cache","network":{"bandwidth":"5000","throughput":"vhigh"},"geo":{"city":"BARCELONA","continent":"EU","country":"ES","region":"","timezone":"GMT+1","latitude":"41.38","longitude":"2.18"}}')}catch(e){CBC.APP.SC.DEBUG&&console.log("ERROR: Geo ESI not working. Using AJAX.");var t="//www.cbc.ca/network/includes/stats/geo.json";CBC.APP.SC.UTIL.makeGETRequest(t,{success:function(e,t){CBC.APP.SC.LOCALGEO=JSON.parse(e.responseText)},failure:function(e,t){console.log("ERROR: Unable to talk to config URL: "+t.failure.uri)}},{success:{uri:t},failure:{uri:t}},0,0,{timeout:500,cb:function(){console.log("ERROR: AJAX request for //www.cbc.ca/network/includes/stats/geo.json timed out.")}})}}(),function(){"use strict";try{CBC.APP.ANA.WEBABTESTS=JSON.parse('{"map":{"main-search":0,"video-swim-lane":1,"lineup-optimization-new-brunswick":2,"lineup-optimization-edmonton":3},"tests":[{"id":"a-JJpfpEH4h2","scope":{"url":"www.cbc.ca/search","domnode":"<not-applicable>"},"type":{"archetype":"content-lineup","interface":"conductrics-api"},"variants":[{"id":"a-JJpfpEH4h2|A","label":"status-quo","content":{"cbc-keywords":7,"cbc-keywordscollections":7,"cbc-keywordslocation":4,"cbc-keywordsorganization":3,"cbc-keywordsperson":5,"cbc-keywordssubject":7,"cbc-publishedtime":30},"curatedby":"machine"},{"id":"a-JJpfpEH4h2|B","label":"status-quo-from-2440","content":{"cbc-keywords":7,"cbc-keywordscollections":7,"cbc-keywordscompany":3,"cbc-keywordslocation":4,"cbc-keywordsorganization":3,"cbc-keywordsperson":5,"cbc-keywordssubject":7,"cbc-publishedtime":30},"curatedby":"machine"},{"id":"a-JJpfpEH4h2|C","label":"status-quo-from-2342","content":{"cbc-keywords":5,"cbc-keywordscollections":5,"cbc-keywordscompany":5,"cbc-keywordslocation":5,"cbc-keywordsorganization":5,"cbc-keywordsperson":5,"cbc-keywordssubject":5,"cbc-publishedtime":30},"curatedby":"machine"},{"id":"a-JJpfpEH4h2|D","label":"status-quo-from-2340","content":{"title":1,"keyword":1,"_all":1,"cbc-publishedtime":30},"curatedby":"machine"}]},{"id":"undefined","scope":{"url":"www.cbc.ca/search","domnode":"<not-applicable>"},"type":{"archetype":"content-lineup","interface":"conductrics-api"},"variants":[{"id":"undefined|A","label":"qa boost 1","content":{"title":3,"keyword":5,"_all":1},"curatedby":"machine"},{"id":"undefined|B","label":"qa boost 2","content":{"title":1,"keyword":1,"_all":1,"cbc-publishedtime":30},"curatedby":"machine"}]},{"id":"a-zwiicxUr2v","scope":{"url":"www.cbc.ca/news/canada/new-brunswick","domnode":"<not-applicable>"},"type":{"archetype":"content-lineup","interface":"conductrics-api"},"goals":{"clicked":"api-clicked-lineup-card"},"variants":[{"id":"a-zwiicxUr2v|A","label":"no-change","content":"news-canada-new-brunswick","curatedby":"human"},{"id":"a-zwiicxUr2v|B","label":"new-lineup","content":"news-canada-new-brunswick-variant","curatedby":"human"}]},{"id":"a-PQqubXHc53","scope":{"url":"www.cbc.ca/news/canada/edmonton","domnode":"<not-applicable>"},"type":{"archetype":"content-lineup","interface":"conductrics-api"},"goals":{"clicked":"api-clicked-lineup-card"},"variants":[{"id":"a-PQqubXHc53|A","label":"no-change","content":"news-canada-edmonton","curatedby":"human"},{"id":"a-PQqubXHc53|B","label":"new-lineup","content":"news-canada-edmonton-variant","curatedby":"human"}]}]}')}catch(e){CBC.APP.SC.DEBUG&&console.log("ERROR: Web AB Tests ESI not working. Using AJAX.");var t="//www.cbc.ca/network/includes/stats/web-ab-tests.json";CBC.APP.SC.UTIL.makeGETRequest(t,{success:function(e,t){CBC.APP.ANA.WEBABTESTS=JSON.parse(e.responseText)},failure:function(e,t){console.log("ERROR: Unable to talk to config URL: "+t.failure.uri)}},{success:{uri:t},failure:{uri:t}},0,0,{timeout:500,cb:function(){console.log("ERROR: AJAX request for //www.cbc.ca/network/includes/stats/web-ab-tests.json timed out.")}})}}(),function(){if("function"==typeof window.CustomEvent)return;function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}e.prototype=window.Event.prototype,window.CustomEvent=e}(),CBC.APP.SC.DEBUG=!1;var s_account=s_account||"",ottTest=new RegExp(/^https?:\/\/(gem|watch).*/);void 0!==window.CBC.APP.SC.masterSwitch.omniture?window.CBCRC.ANA.DATALAYER.isHarmonizedDomain()?s_account=window.CBC.APP.SC.masterSwitch.omniture.harmonized||s_account:void 0!==window.CBC.APP.SC.masterSwitch.omniture.saccount&&(s_account=void 0!==window.CBC.APP.SC.masterSwitch.omniture.watch&&ottTest.test(document.location.href)?s_account||window.CBC.APP.SC.masterSwitch.omniture.watch:s_account||window.CBC.APP.SC.masterSwitch.omniture.saccount):s_account=(ottTest.test(document.location.href),s_account||"cbc-production");var s_cbc_sitecatalyst=window.s_gi(s_account),__org_id__="951720B3535680CB0A490D45@AdobeOrg",__trackingServer__="metrics.cbc.ca",__trackingServerSecure__="smetrics.cbc.ca",e=function(){"use strict";function D(e){return(D="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)})(e)}function e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t,n){var r=null==e?void 0:e[t];return void 0===r?n:r}function n(e,t){if(e===t)return 0;var n=e.toString().split("."),r=t.toString().split(".");return function(e){for(var t=/^\d+$/,n=0,r=e.length;n<r;n++)if(!t.test(e[n]))return!1;return!0}(n.concat(r))?(function(e,t){for(;e.length<t.length;)e.push("0");for(;t.length<e.length;)t.push("0")}(n,r),function(e,t){for(var n=0;n<e.length;n++){var r=parseInt(e[n],10),i=parseInt(t[n],10);if(i<r)return 1;if(r<i)return-1}return 0}(n,r)):NaN}function r(e){this.name=this.constructor.name,this.message=e,"function"==typeof Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error(e).stack}function t(){function t(e,t){var n=F(e);return n.length?n.every(function(e){return!!t[e]}):function(t){var e=Object.keys(t);return!!e.length&&e.every(function(e){return!0===t[e]})}(t)}function r(){k(T),D(fe),y(C.status,C.permissions),v.set(C.permissions,{optInCookieDomain:c,optInStorageExpiry:u}),A.execute(Pe)}function e(n){return function(e,t){if(!V(e))throw new Error("[OptIn] Invalid category(-ies). Please use the `OptIn.Categories` enum.");return D(pe),Object.assign(T,j(F(e),n)),t||r(),C}}var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},i=n.doesOptInApply,a=n.previousPermissions,o=n.preOptInApprovals,s=n.isOptInStorageEnabled,c=n.optInCookieDomain,u=n.optInStorageExpiry,l=n.isIabContext,d=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).cookies,p=function(e){return U(e,"function")?e():e}(a);H(p,"Invalid `previousPermissions`!"),H(o,"Invalid `preOptInApprovals`!");var f,h,_,g,m,v=function(e,t){var n=0<arguments.length&&void 0!==e?e:{},r=n.isEnabled,i=n.cookieName,a=(1<arguments.length&&void 0!==t?t:{}).cookies;return r&&i&&a?{remove:function(){a.remove(i)},get:function(){var e=a.get(i),t={};try{t=JSON.parse(e)}catch(e){t={}}return t},set:function(e,t){t=t||{},a.set(i,JSON.stringify(e),{domain:t.optInCookieDomain||"",cookieLifetime:t.optInStorageExpiry||3419e4,expires:!0})}}:{get:be,set:be,remove:be}}({isEnabled:!!s,cookieName:"adobeujs-optin"},{cookies:d}),C=this,y=function(e){var i={};return e.on=function(e,t,n){if(!t||"function"!=typeof t)throw new Error("[ON] Callback should be a function.");i.hasOwnProperty(e)||(i[e]=[]);var r=i[e].push({callback:t,context:n})-1;return function(){i[e].splice(r,1),i[e].length||delete i[e]}},e.off=function(e,t){i.hasOwnProperty(e)&&(i[e]=i[e].filter(function(e){if(e.callback!==t)return e}))},e.publish=function(e){if(i.hasOwnProperty(e)){var t=[].slice.call(arguments,1);i[e].slice(0).forEach(function(e){e.callback.apply(e.context,t)})}},e.publish}(C),A=x(),b=G(p),P=G(o),S=v.get(),w={},I=(m=S,q(b)||m&&q(m)?fe:de),E=(f=P,h=b,_=S,g=j(me,!i),i?Object.assign({},g,f,h,_):g),T=function(e){return JSON.parse(JSON.stringify(e))}(E),D=function(e){return I=e},k=function(e){return E=e};C.deny=e(!1),C.approve=e(!0),C.denyAll=C.deny.bind(C,me),C.approveAll=C.approve.bind(C,me),C.isApproved=function(e){return t(e,C.permissions)},C.isPreApproved=function(e){return t(e,P)},C.fetchPermissions=function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=t?C.on(fe,e):be;return!i||i&&C.isComplete||o?e(C.permissions):t||A.add(Pe,function(){return e(C.permissions)}),n},C.complete=function(){C.status===pe&&r()},C.registerPlugin=function(e){if(!e||!e.name||"function"!=typeof e.onRegister)throw new Error("[OptIn#registerPlugin] Plugin is invalid.");w[e.name]||(w[e.name]=e).onRegister.call(e,C)},C.execute=function(l){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.command,n=e.params,r=void 0===n?{}:n,i=e.callback,a=void 0===i?be:i;if(!t||-1===t.indexOf("."))throw new Error("[OptIn.execute] Please provide a valid command.");try{var o=t.split("."),s=l[o[0]],c=o[1];if(!s||"function"!=typeof s[c])throw new Error("Make sure the plugin and API name exist.");var u=Object.assign(r,{callback:a});s[c].call(s,u)}catch(e){ve.error("[execute] Something went wrong: "+e.message)}}}(w),Object.defineProperties(C,{permissions:{get:function(){return E}},status:{get:function(){return I}},Categories:{get:function(){return he}},doesOptInApply:{get:function(){return!!i}},isPending:{get:function(){return C.status===de}},isComplete:{get:function(){return C.status===fe}},__plugins:{get:function(){return Object.keys(w)}},isIabContext:{get:function(){return l}}})}function l(e,t){if(void 0===t)return e;var n=setTimeout(function(){n=null,e.call(e,new r("The call took longer than you wanted!"))},t);return function(){n&&(clearTimeout(n),e.apply(e,arguments))}}function i(){if(window.__cmp)return window.__cmp;var e=window;if(e!==window.top){for(var a;!a;){e=e.parent;try{e.frames.__cmpLocator&&(a=e)}catch(e){}if(e===window.top)break}if(a){var o={};return window.__cmp=function(e,t,n){var r=Math.random()+"",i={__cmpCall:{command:e,parameter:t,callId:r}};o[r]=n,a.postMessage(i,"*")},window.addEventListener("message",function(e){var t=e.data;if("string"==typeof t)try{t=JSON.parse(e.data)}catch(e){}if(t.__cmpReturn){var n=t.__cmpReturn;o[n.callId]&&(o[n.callId](n.returnValue,n.success),delete o[n.callId])}},!1),window.__cmp}ve.error("__cmp not found")}else ve.error("__cmp not found")}var k="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};Object.assign=Object.assign||function(e){for(var t,n,r=1;r<arguments.length;++r)for(t in n=arguments[r])Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t]);return e};function h(a){function r(){}this.getMarketingCloudVisitorID=function(e){e=e||r;var t=this.findField(P.MCMID,e),n=function(n,r){var i=this;return function(){var e=a(0,n),t={};return t[n]=e,i.setStateAndPublish(t),r(e),e}}.call(this,P.MCMID,e);return void 0!==t?t:n()},this.getVisitorValues=function(t){this.getMarketingCloudVisitorID(function(e){t({MCMID:e})})}}function _(){function i(){}Object.keys(w).forEach(function(r){this[w[r]]=function(e){e=e||i;var t=this.findField(r,e),n=function(e,t){var n=this;return function(){return n.callbackRegistry.add(e,t),n.messageParent(S.GETSTATE),""}}.call(this,r,e);return void 0!==t?t:n()}},this),Object.keys(I).forEach(function(e){this[I[e]]=function(){return this.findField(e,i)||{}}},this)}function g(){Object.keys(E).forEach(function(t){this[E[t]]=function(e){this.callbackRegistry.add(t,e)}},this)}function N(a,o){this.parse=function(e){try{var n={};return e.data.split("|").forEach(function(e,t){void 0!==e&&(n[X[t]]=2!==t?e:JSON.parse(e))}),n}catch(e){}},this.isInvalid=function(e){var t=this.parse(e);if(!t||Object.keys(t).length<2)return!0;var n=a!==t.orgID,r=!o||e.origin!==o,i=-1===Object.keys(z).indexOf(t.prefix);return n||r||i},this.send=function(e,t,n){var r=t+"|"+a;n&&n===Object(n)&&(r+="|"+JSON.stringify(n));try{e.postMessage(r,o)}catch(e){}}}function d(e,t,n,r){function i(e){Object.assign(l,e)}function a(e){if(!f.isInvalid(e)){p=!1;var t=f.parse(e);l.setStateAndPublish(t.state)}}function o(e){!p&&d&&(p=!0,f.send(r,e))}function s(){i(new h(n._generateID)),l.getMarketingCloudVisitorID(),l.callbackRegistry.executeAll(l.state,!0),k.removeEventListener("message",c)}function c(e){if(!f.isInvalid(e)){var t=f.parse(e);p=!1,k.clearTimeout(l._handshakeTimeout),k.removeEventListener("message",c),i(new _(l)),k.addEventListener("message",a),l.setStateAndPublish(t.state),l.callbackRegistry.hasCallbacks()&&o(Q.GETSTATE)}}function u(){Object.keys(n).forEach(function(e){0!==e.indexOf("_")&&"function"==typeof n[e]&&(l[e]=function(){})}),l.getSupplementalDataID=n.getSupplementalDataID,l.isAllowed=function(){return!0}}var l=this,d=t.whitelistParentDomain;l.state={ALLFIELDS:{}},l.version=n.version,l.marketingCloudOrgID=e,l.cookieDomain=n.cookieDomain||"";var p=!(l._instanceType="child"),f=new N(e,d);l.callbackRegistry=T(),l.init=function(){k.s_c_in||(k.s_c_il=[],k.s_c_in=0),l._c="Visitor",l._il=k.s_c_il,l._in=k.s_c_in,l._il[l._in]=l,k.s_c_in++,u(),i(new g(l)),d&&postMessage?(k.addEventListener("message",c),o(Q.HANDSHAKE),l._handshakeTimeout=setTimeout(s,250)):s()},l.findField=function(e,t){if(void 0!==l.state[e])return t(l.state[e]),l.state[e]},l.messageParent=o,l.setStateAndPublish=function(e){Object.assign(l.state,e),Object.assign(l.state.ALLFIELDS,e),l.callbackRegistry.executeAll(l.state)}}function O(a,r){function t(i){return function e(t){var n=function(){var n=[];return a._loading&&Object.keys(a._loading).forEach(function(e){if(a._loading[e]){var t=te[e];n.push(t)}}),n.length?n:null}();if(n){var r=ee[n[0]];a[r](e,!0)}else i()}}function n(e,t){var n=function(){var r={};return Object.keys(Z).forEach(function(e){var t=Z[e],n=a[t]();J.isValueEmpty(n)||(r[e]=n)}),r}();r.send(e,t,n)}function i(e){(function(t){var n=a.setCustomerIDs;a.setCustomerIDs=function(e){n.call(a,e),r.send(t,$.PARENTSTATE,{CUSTOMERIDS:a.getCustomerIDs()})}})(e),n(e,$.HANDSHAKE)}return function(e){r.isInvalid(e)||(r.parse(e).prefix===$.HANDSHAKE?i:function(e){t(function(){n(e,$.PARENTSTATE)})()})(e.source)}}function L(r,i){var a={},o=0,s=Object.keys(r).length;Object.keys(r).forEach(function(e){var t=r[e];if(t.fn){var n=t.args||[];n.unshift(function(t){return function(e){a[t]=e,++o===s&&i(a)}}(e)),t.fn.apply(t.context||null,n)}})}function B(e){var t;!e&&k.location&&(e=k.location.hostname);var n,r=(t=e).split(".");for(n=r.length-2;0<=n;n--)if(t=r.slice(n).join("."),ne.set("test","cookie",{domain:t}))return ne.remove("test",{domain:t}),t;return""}function M(e){var t,n,r="0123456789",i="",a="",o=8,s=10,c=10;if(1==e){for(r+="ABCDEF",t=0;t<16;t++)n=Math.floor(Math.random()*o),i+=r.substring(n,n+1),n=Math.floor(Math.random()*o),a+=r.substring(n,n+1),o=16;return i+"-"+a}for(t=0;t<19;t++)n=Math.floor(Math.random()*s),i+=r.substring(n,n+1),0===t&&9==n?s=3:(1==t||2==t)&&10!=s&&n<2?s=10:2<t&&(s=10),n=Math.floor(Math.random()*c),a+=r.substring(n,n+1),0===t&&9==n?c=3:(1==t||2==t)&&10!=c&&n<2?c=10:2<t&&(c=10);return i+a}function R(r,e){return{corsMetadata:(t="none",n=!0,"undefined"!=typeof XMLHttpRequest&&XMLHttpRequest===Object(XMLHttpRequest)&&("withCredentials"in new XMLHttpRequest?t="XMLHttpRequest":"undefined"!=typeof XDomainRequest&&XDomainRequest===Object(XDomainRequest)&&(n=!1),0<Object.prototype.toString.call(k.HTMLElement).indexOf("Constructor")&&(n=!1)),{corsType:t,corsCookiesEnabled:n}),getCORSInstance:function(){return"none"===this.corsMetadata.corsType?null:new k[this.corsMetadata.corsType]},fireCORS:function(a,e,t){var o=this;e&&(a.loadErrorHandler=e);try{var n=this.getCORSInstance();n.open("get",a.corsUrl+"&ts="+(new Date).getTime(),!0),"XMLHttpRequest"===this.corsMetadata.corsType&&(n.withCredentials=!0,n.timeout=r.loadTimeout,n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.onreadystatechange=function(){4===this.readyState&&200===this.status&&function(e){var t;try{if((t=JSON.parse(e))!==Object(t))return o.handleCORSError(a,null,"Response is not JSON")}catch(e){return o.handleCORSError(a,e,"Error parsing response as JSON")}try{for(var n=a.callback,r=k,i=0;i<n.length;i++)r=r[n[i]];r(t)}catch(e){o.handleCORSError(a,e,"Error forming callback function")}}(this.responseText)}),n.onerror=function(e){o.handleCORSError(a,e,"onerror")},n.ontimeout=function(e){o.handleCORSError(a,e,"ontimeout")},n.send(),r._log.requests.push(a.corsUrl)}catch(e){this.handleCORSError(a,e,"try-catch")}},handleCORSError:function(e,t,n){r.CORSErrors.push({corsData:e,error:t,description:n}),e.loadErrorHandler&&("ontimeout"===n?e.loadErrorHandler(!0):e.loadErrorHandler(!1))}};var t,n}function x(){var r={};return r.callbacks=Object.create(null),r.add=function(e,t){if(!function(e){return"function"==typeof e||e instanceof Array&&e.length}(t))throw new Error("[callbackRegistryFactory] Make sure callback is a function or an array of functions.");r.callbacks[e]=r.callbacks[e]||[];var n=r.callbacks[e].push(t)-1;return function(){r.callbacks[e].splice(n,1)}},r.execute=function(e,t){if(r.callbacks[e]){t=(t=void 0===t?[]:t)instanceof Array?t:[t];try{for(;r.callbacks[e].length;){var n=r.callbacks[e].shift();"function"==typeof n?n.apply(null,t):n instanceof Array&&n[1].apply(n[0],t)}delete r.callbacks[e]}catch(e){}}},r.executeAll=function(n,e){(e||n&&!function(e){return e===Object(e)&&0===Object.keys(e).length}(n))&&Object.keys(r.callbacks).forEach(function(e){var t=void 0!==n[e]?n[e]:"";r.execute(e,t)},r)},r.hasCallbacks=function(){return Boolean(Object.keys(r.callbacks).length)},r}function a(){}function o(r,i,e){return e()?function(){if(function(e){var t=window.console;return!!t&&"function"==typeof t[e]}(r)){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];console[r].apply(console,[i].concat(t))}}:a}function U(e,t){return D(e)===t}function F(e,t){return e instanceof Array?e:U(e,"string")?[e]:t||[]}function V(e){return!(!e||Ce(e))&&F(e).every(function(e){return-1<me.indexOf(e)})}function j(e,n){return e.reduce(function(e,t){return e[t]=n,e},{})}function G(e){if(Ae(e))return e;try{return JSON.parse(e)}catch(e){return{}}}function q(e){return void 0===e||(Ae(e)?V(Object.keys(e)):ye(e))}function H(e,t){q(e)||ve.error("".concat(t))}function p(t){return Object.keys(t).map(function(e){return t[e]})}var s,c,f,m,v,C={HANDSHAKE:"HANDSHAKE",GETSTATE:"GETSTATE",PARENTSTATE:"PARENTSTATE"},y={MCMID:"getMarketingCloudVisitorID",MCAID:"getAnalyticsVisitorID",MCAAMB:"getAudienceManagerBlob",MCAAMLH:"getAudienceManagerLocationHint",MCOPTOUT:"isOptedOut",ALLFIELDS:"getVisitorValues"},A={MCMID:"getMarketingCloudVisitorID",MCAAMB:"getAudienceManagerBlob",MCAAMLH:"getAudienceManagerLocationHint",MCOPTOUT:"isOptedOut",MCAID:"getAnalyticsVisitorID",CUSTOMERIDS:"getCustomerIDs",ALLFIELDS:"getVisitorValues"},b={MC:"MCMID",A:"MCAID",AAM:"MCAAMB"},Y={MCMID:"MCMID",MCOPTOUT:"MCOPTOUT",MCAID:"MCAID",MCAAMLH:"MCAAMLH",MCAAMB:"MCAAMB"},K={UNKNOWN:0,AUTHENTICATED:1,LOGGED_OUT:2},W={GLOBAL:"global"},P={MCMID:"MCMID",MCAID:"MCAID",MCAAMB:"MCAAMB",MCAAMLH:"MCAAMLH",MCOPTOUT:"MCOPTOUT",CUSTOMERIDS:"CUSTOMERIDS"},S=C,w=y,I={CUSTOMERIDS:"getCustomerIDs"},E=y,J=((m=(v={exports:{}}).exports).isObjectEmpty=function(e){return e===Object(e)&&0===Object.keys(e).length},m.isValueEmpty=function(e){return""===e||m.isObjectEmpty(e)},m.getIeVersion=function(){if(document.documentMode)return document.documentMode;for(var e=7;4<e;e--){var t=document.createElement("div");if(t.innerHTML="\x3c!--[if IE "+e+"]><span></span><![endif]--\x3e",t.getElementsByTagName("span").length)return t=null,e;t=null}return null},m.encodeAndBuildRequest=function(e,t){return e.map(encodeURIComponent).join(t)},m.isObject=function(e){return null!==e&&"object"===D(e)&&!1===Array.isArray(e)},m.defineGlobalNamespace=function(){return window.adobe=m.isObject(window.adobe)?window.adobe:{},window.adobe},m.pluck=function(n,e){return e.reduce(function(e,t){return n[t]&&(e[t]=n[t]),e},Object.create(null))},m.parseOptOut=function(e,t,n){t||(t=n,e.d_optout&&e.d_optout instanceof Array&&(t=e.d_optout.join(",")));var r=parseInt(e.d_ottl,10);return isNaN(r)&&(r=7200),{optOut:t,d_ottl:r}},void(m.normalizeBoolean=function(e){var t=e;return"true"===e?t=!0:"false"===e&&(t=!1),t}),v.exports),T=(J.isObjectEmpty,J.isValueEmpty,J.getIeVersion,J.encodeAndBuildRequest,J.isObject,J.defineGlobalNamespace,J.pluck,J.parseOptOut,J.normalizeBoolean,function(){return{callbacks:{},add:function(e,t){this.callbacks[e]=this.callbacks[e]||[];var n=this.callbacks[e].push(t)-1,r=this;return function(){r.callbacks[e].splice(n,1)}},execute:function(e,t){if(this.callbacks[e]){t=(t=void 0===t?[]:t)instanceof Array?t:[t];try{for(;this.callbacks[e].length;){var n=this.callbacks[e].shift();"function"==typeof n?n.apply(null,t):n instanceof Array&&n[1].apply(n[0],t)}delete this.callbacks[e]}catch(e){}}},executeAll:function(n,e){(e||n&&!J.isObjectEmpty(n))&&Object.keys(this.callbacks).forEach(function(e){var t=void 0!==n[e]?n[e]:"";this.execute(e,t)},this)},hasCallbacks:function(){return Boolean(Object.keys(this.callbacks).length)}}}),z=C,X={0:"prefix",1:"orgID",2:"state"},Q=C,$=C,Z=A,ee=y,te=b,ne={get:function(e){e=encodeURIComponent(e);var t=(";"+document.cookie).split(" ").join(";"),n=t.indexOf(";"+e+"="),r=n<0?n:t.indexOf(";",n+1);return n<0?"":decodeURIComponent(t.substring(n+2+e.length,r<0?t.length:r))},set:function(e,t,n){var r=u(n,"cookieLifetime"),i=u(n,"expires"),a=u(n,"domain"),o=u(n,"secure")?"Secure":"";if(i&&"SESSION"!==r&&"NONE"!==r){var s=""!==t?parseInt(r||0,10):-60;if(s)(i=new Date).setTime(i.getTime()+1e3*s);else if(1===i){var c=(i=new Date).getYear();i.setYear(c+2+(c<1900?1900:0))}}else i=0;return e&&"NONE"!==r?(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; path=/;"+(i?" expires="+i.toGMTString()+";":"")+(a?" domain="+a+";":"")+o,this.get(e)===t):0},remove:function(e,t){var n=u(t,"domain");n=n?" domain="+n+";":"",document.cookie=encodeURIComponent(e)+"=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;"+n}},re=function(e,t){return n(e,t)<0},ie=function(e,t){return 0!==n(e,t)},ae=!!k.postMessage,oe=function(e,t,n){var r=1;t&&(ae?n.postMessage(e,t.replace(/([^:]+:\/\/[^\/]+).*/,"$1")):t&&(n.location=t.replace(/#.*$/,"")+"#"+ +new Date+r+++"&"+e))},se=function(t,n){var e;try{ae&&(t&&(e=function(e){if("string"==typeof n&&e.origin!==n||"[object Function]"===Object.prototype.toString.call(n)&&!1===n(e.origin))return!1;t(e)}),k.addEventListener?k[t?"addEventListener":"removeEventListener"]("message",e):k[t?"attachEvent":"detachEvent"]("onmessage",e))}catch(t){}},ce={POST_MESSAGE_ENABLED:!!k.postMessage,DAYS_BETWEEN_SYNC_ID_CALLS:1,MILLIS_PER_DAY:864e5,ADOBE_MC:"adobe_mc",ADOBE_MC_SDID:"adobe_mc_sdid",VALID_VISITOR_ID_REGEX:/^[0-9a-fA-F\-]+$/,ADOBE_MC_TTL_IN_MIN:5,VERSION_REGEX:/vVersion\|((\d+\.)?(\d+\.)?(\*|\d+))(?=$|\|)/,FIRST_PARTY_SERVER_COOKIE:"s_ecid"},ue={audienceManagerServer:{},audienceManagerServerSecure:{},cookieDomain:{},cookieLifetime:{},cookieName:{},doesOptInApply:{},disableThirdPartyCalls:{},discardTrackingServerECID:{},idSyncAfterIDCallResult:{},idSyncAttachIframeOnWindowLoad:{},idSyncContainerID:{},idSyncDisable3rdPartySyncing:{},disableThirdPartyCookies:{},idSyncDisableSyncs:{},disableIdSyncs:{},idSyncIDCallResult:{},idSyncSSLUseAkamai:{},isCoopSafe:{},isIabContext:{},isOptInStorageEnabled:{},loadSSL:{},loadTimeout:{},marketingCloudServer:{},marketingCloudServerSecure:{},optInCookieDomain:{},optInStorageExpiry:{},overwriteCrossDomainMCIDAndAID:{},preOptInApprovals:{},previousPermissions:{},resetBeforeVersion:{},sdidParamExpiry:{},serverState:{},sessionCookieName:{},secureCookie:{},takeTimeoutMetrics:{},trackingServer:{},trackingServerSecure:{},whitelistIframeDomains:{},whitelistParentDomain:{}},le={getConfigNames:function(){return Object.keys(ue)},getConfigs:function(){return ue},normalizeConfig:function(e){return"function"!=typeof e?e:e()}},de="pending",pe="changed",fe="complete",he={AAM:"aam",ADCLOUD:"adcloud",ANALYTICS:"aa",CAMPAIGN:"campaign",ECID:"ecid",LIVEFYRE:"livefyre",TARGET:"target",VIDEO_ANALYTICS:"videoaa"},_e=(e(s={},he.AAM,565),e(s,he.ECID,565),s),ge=(e(c={},he.AAM,[1,2,5]),e(c,he.ECID,[1,2,5]),c),me=(f=he,Object.keys(f).map(function(e){return f[e]})),ve=new function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(){return!0};this.log=o("log",e,t),this.warn=o("warn",e,t),this.error=o("error",e,t)}("[ADOBE OPT-IN]"),Ce=function(e){return"[object Array]"===Object.prototype.toString.call(e)&&!e.length},ye=function(e){try{var t=JSON.parse(e);return!!e&&U(e,"string")&&V(Object.keys(t))}catch(e){return!1}},Ae=function(e){return null!==e&&U(e,"object")&&!1===Array.isArray(e)},be=function(){};(r.prototype=Object.create(Error.prototype)).constructor=r;var Pe="fetchPermissions";t.Categories=he,t.TimeoutError=r;function Se(e,t){return"SHA-256"!==t&&"SHA256"!==t&&"sha256"!==t&&"sha-256"!==t||(e=function e(t){function n(e,t){return e>>>t|e<<32-t}for(var r,i,a=Math.pow,o=a(2,32),s="",c=[],u=8*t.length,l=e.h=e.h||[],d=e.k=e.k||[],p=d.length,f={},h=2;p<64;h++)if(!f[h]){for(r=0;r<313;r+=h)f[r]=h;l[p]=a(h,.5)*o|0,d[p++]=a(h,1/3)*o|0}for(t+="";t.length%64-56;)t+="\0";for(r=0;r<t.length;r++){if((i=t.charCodeAt(r))>>8)return;c[r>>2]|=i<<(3-r)%4*8}for(c[c.length]=u/o|0,c[c.length]=u,i=0;i<c.length;){var _=c.slice(i,i+=16),g=l;for(l=l.slice(0,8),r=0;r<64;r++){var m=_[r-15],v=_[r-2],C=l[0],y=l[4],A=l[7]+(n(y,6)^n(y,11)^n(y,25))+(y&l[5]^~y&l[6])+d[r]+(_[r]=r<16?_[r]:_[r-16]+(n(m,7)^n(m,18)^m>>>3)+_[r-7]+(n(v,17)^n(v,19)^v>>>10)|0);(l=[A+((n(C,2)^n(C,13)^n(C,22))+(C&l[1]^C&l[2]^l[1]&l[2]))|0].concat(l))[4]=l[4]+A|0}for(r=0;r<8;r++)l[r]=l[r]+g[r]|0}for(r=0;r<8;r++)for(i=3;i+1;i--){var b=l[r]>>8*i&255;s+=(b<16?0:"")+b.toString(16)}return s}(e)),e}function we(e){return String(e).trim().toLowerCase()}var Ie=Object.freeze({OptIn:t,IabPlugin:function(){var e=this;function a(e,t){var n=1<arguments.length&&void 0!==t?t:{};return s[e]=n}e.name="iabPlugin",e.version="0.0.1";var o=x(),s={allConsentData:null};e.fetchConsentData=function(e){var t=l(e.callback,e.timeout);r({callback:t})},e.isApproved=function(e){var i=e.callback,a=e.category,t=e.timeout;if(s.allConsentData)return i(null,u(a,s.allConsentData.vendorConsents,s.allConsentData.purposeConsents));var n=l(function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=t.vendorConsents,r=t.purposeConsents;i(e,u(a,n,r))},t);r({category:a,callback:n})},e.onRegister=function(a){var o=Object.keys(_e);e.fetchConsentData({callback:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=t.purposeConsents,r=t.gdprApplies,i=t.vendorConsents;!e&&r&&i&&n&&(o.forEach(function(e){var t=u(e,i,n);a[t?"approve":"deny"](e,!0)}),a.complete())}})};var r=function(e){var t=e.callback;if(s.allConsentData)return t(null,s.allConsentData);o.add("FETCH_CONSENT_DATA",t);var i={};n(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.purposeConsents,n=e.gdprApplies,r=e.vendorConsents;(1<arguments.length?arguments[1]:void 0)&&a("allConsentData",i={purposeConsents:t,gdprApplies:n,vendorConsents:r}),c(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};(1<arguments.length?arguments[1]:void 0)&&(i.consentString=e.consentData,a("allConsentData",i)),o.execute("FETCH_CONSENT_DATA",[null,s.allConsentData])})})},c=function(e){var t=i();t&&t("getConsentData",null,e)},n=function(e){var t=function(e){return p(e).filter(function(e,t,n){return n.indexOf(e)===t})}(_e),n=i();n&&n("getVendorConsents",t,e)},u=function(e,t,n){var r=2<arguments.length&&void 0!==n?n:{};return!!(1<arguments.length&&void 0!==t?t:{})[_e[e]]&&ge[e].every(function(e){return r[e]})}}}),Ee=Ie.OptIn;J.defineGlobalNamespace(),window.adobe.OptInCategories=Ee.Categories;function Te(r,n,e){function t(e){var r=e;return function(e){var t=e||_.location.href;try{var n=f._extractParamFromUri(t,r);if(n)return I.parsePipeDelimetedKeyValues(n)}catch(e){}}}function i(e){e=e||{},f._supplementalDataIDCurrent=e.supplementalDataIDCurrent||"",f._supplementalDataIDCurrentConsumed=e.supplementalDataIDCurrentConsumed||{},f._supplementalDataIDLast=e.supplementalDataIDLast||"",f._supplementalDataIDLastConsumed=e.supplementalDataIDLastConsumed||{}}function a(e){var t,n=e.reduce(function(e,t){var n=t[0],r=t[1];return null!=r&&r!==P&&(e=function(e,t,n){return(n=n?n+="|":n)+(e+"=")+encodeURIComponent(t)}(n,r,e)),e},"");return(t=(t=n)?t+="|":t)+"TS="+I.getTimestampInSeconds()}function d(){return f.configs.isIabContext?u.optIn.isApproved(u.optIn.Categories.ECID)&&l:u.optIn.isApproved(u.optIn.Categories.ECID)}function o(e,t){if(l=!0,e)throw new Error("[IAB plugin] : "+e);t.gdprApplies&&(h=t.consentString),f.init(),c()}function s(){u.optIn.isApproved(u.optIn.Categories.ECID)&&(f.configs.isIabContext?u.optIn.execute({command:"iabPlugin.fetchConsentData",callback:o}):(f.init(),c()))}function c(){u.optIn.off("complete",s)}if(!e||e.split("").reverse().join("")!==r)throw new Error("Please use `Visitor.getInstance` to instantiate Visitor.");var f=this,u=window.adobe,h="",l=!1,p=!1;f.version="4.4.0";var _=k,g=_.Visitor;function m(e){return!Object.prototype[e]}g.version=f.version,g.AuthState=K,g.OptOut=W,_.s_c_in||(_.s_c_il=[],_.s_c_in=0),f._c="Visitor",f._il=_.s_c_il,f._in=_.s_c_in,f._il[f._in]=f,_.s_c_in++,f._instanceType="regular",f._log={requests:[]},f.marketingCloudOrgID=r,f.cookieName="AMCV_"+r,f.sessionCookieName="AMCVS_"+r,f.cookieDomain=B(),f.loadSSL=0<=_.location.protocol.toLowerCase().indexOf("https"),f.loadTimeout=3e4,f.CORSErrors=[],f.marketingCloudServer=f.audienceManagerServer="dpm.demdex.net",f.sdidParamExpiry=30;var v=null,C="MCMID",y="MCAID",A="AAM",b="MCAAMB",P="NONE",S=R(f);f.FIELDS=Y,f.cookieRead=function(e){return ne.get(e)},f.cookieWrite=function(e,t,n){var r=f.cookieLifetime?(""+f.cookieLifetime).toUpperCase():"",i=!1;return f.configs&&f.configs.secureCookie&&"https:"===location.protocol&&(i=!0),ne.set(e,""+t,{expires:n,domain:f.cookieDomain,cookieLifetime:r,secure:i})},f.resetState=function(e){e?f._mergeServerState(e):i()},f._isAllowedDone=!1,f._isAllowedFlag=!1,f.isAllowed=function(){return f._isAllowedDone||(f._isAllowedDone=!0,(f.cookieRead(f.cookieName)||f.cookieWrite(f.cookieName,"T",1))&&(f._isAllowedFlag=!0)),"T"===f.cookieRead(f.cookieName)&&f._helpers.removeCookie(f.cookieName),f._isAllowedFlag},f.setMarketingCloudVisitorID=function(e){f._setMarketingCloudFields(e)},f._use1stPartyMarketingCloudServer=!1,f.getMarketingCloudVisitorID=function(e,t){f.marketingCloudServer&&f.marketingCloudServer.indexOf(".demdex.net")<0&&(f._use1stPartyMarketingCloudServer=!0);var n=f._getAudienceManagerURLData("_setMarketingCloudFields"),r=n.url;return f._getRemoteField(C,r,e,t,n)},f.getVisitorValues=function(e,t){var n={MCMID:{fn:f.getMarketingCloudVisitorID,args:[!0],context:f},MCOPTOUT:{fn:f.isOptedOut,args:[void 0,!0],context:f},MCAID:{fn:f.getAnalyticsVisitorID,args:[!0],context:f},MCAAMLH:{fn:f.getAudienceManagerLocationHint,args:[!0],context:f},MCAAMB:{fn:f.getAudienceManagerBlob,args:[!0],context:f}},r=t&&t.length?J.pluck(n,t):n;L(r,e)},f._currentCustomerIDs={},f._customerIDsHashChanged=!1,f._newCustomerIDsHash="",f.setCustomerIDs=function(e,t){if(!f.isOptedOut()&&e){if(!J.isObject(e)||J.isObjectEmpty(e))return!1;var n,r,i;for(n in f._readVisitor(),e)if(m(n)&&(t=(r=e[n]).hasOwnProperty("hashType")?r.hashType:t,r))if("object"===D(r)){var a={};if(r.id){if(t){if(!(i=Se(we(r.id),t)))return;r.id=i,a.hashType=t}a.id=r.id}null!=r.authState&&(a.authState=r.authState),f._currentCustomerIDs[n]=a}else if(t){if(!(i=Se(we(r),t)))return;f._currentCustomerIDs[n]={id:i,hashType:t}}else f._currentCustomerIDs[n]={id:r};var o=f.getCustomerIDs(),s=f._getField("MCCIDH"),c="";for(n in s=s||0,o)m(n)&&(c+=(c?"|":"")+n+"|"+((r=o[n]).id?r.id:"")+(r.authState?r.authState:""));f._newCustomerIDsHash=String(f._hash(c)),f._newCustomerIDsHash!==s&&(f._customerIDsHashChanged=!0,f._mapCustomerIDs(function(){f._customerIDsHashChanged=!1}))}},f.getCustomerIDs=function(){f._readVisitor();var e,t,n={};for(e in f._currentCustomerIDs)m(e)&&(t=f._currentCustomerIDs[e],n[e]||(n[e]={}),t.id&&(n[e].id=t.id),null!=t.authState?n[e].authState=t.authState:n[e].authState=g.AuthState.UNKNOWN,t.hashType&&(n[e].hashType=t.hashType));return n},f.setAnalyticsVisitorID=function(e){f._setAnalyticsFields(e)},f.getAnalyticsVisitorID=function(t,e,n){if(!I.isTrackingServerPopulated()&&!n)return f._callCallback(t,[""]),"";var r="";if(n||(r=f.getMarketingCloudVisitorID(function(e){f.getAnalyticsVisitorID(t,!0)})),r||n){var i=n?f.marketingCloudServer:f.trackingServer,a="";f.loadSSL&&(n?f.marketingCloudServerSecure&&(i=f.marketingCloudServerSecure):f.trackingServerSecure&&(i=f.trackingServerSecure));var o={};if(i){var s="http"+(f.loadSSL?"s":"")+"://"+i+"/id",c="d_visid_ver="+f.version+"&mcorgid="+encodeURIComponent(f.marketingCloudOrgID)+(r?"&mid="+encodeURIComponent(r):"")+(f.idSyncDisable3rdPartySyncing||f.disableThirdPartyCookies?"&d_coppa=true":""),u=["s_c_il",f._in,"_set"+(n?"MarketingCloud":"Analytics")+"Fields"];a=s+"?"+c+"&callback=s_c_il%5B"+f._in+"%5D._set"+(n?"MarketingCloud":"Analytics")+"Fields",o.corsUrl=s+"?"+c,o.callback=u}return o.url=a,f._getRemoteField(n?C:y,a,t,e,o)}return""},f.getAudienceManagerLocationHint=function(t,e){if(f.getMarketingCloudVisitorID(function(e){f.getAudienceManagerLocationHint(t,!0)})){var n=f._getField(y);if(!n&&I.isTrackingServerPopulated()&&(n=f.getAnalyticsVisitorID(function(e){f.getAudienceManagerLocationHint(t,!0)})),n||!I.isTrackingServerPopulated()){var r=f._getAudienceManagerURLData(),i=r.url;return f._getRemoteField("MCAAMLH",i,t,e,r)}}return""},f.getLocationHint=f.getAudienceManagerLocationHint,f.getAudienceManagerBlob=function(t,e){if(f.getMarketingCloudVisitorID(function(e){f.getAudienceManagerBlob(t,!0)})){var n=f._getField(y);if(!n&&I.isTrackingServerPopulated()&&(n=f.getAnalyticsVisitorID(function(e){f.getAudienceManagerBlob(t,!0)})),n||!I.isTrackingServerPopulated()){var r=f._getAudienceManagerURLData(),i=r.url;return f._customerIDsHashChanged&&f._setFieldExpire(b,-1),f._getRemoteField(b,i,t,e,r)}}return""},f._supplementalDataIDCurrent="",f._supplementalDataIDCurrentConsumed={},f._supplementalDataIDLast="",f._supplementalDataIDLastConsumed={};var w=!(f.getSupplementalDataID=function(e,t){f._supplementalDataIDCurrent||t||(f._supplementalDataIDCurrent=f._generateID(1));var n=f._supplementalDataIDCurrent;return f._supplementalDataIDLast&&!f._supplementalDataIDLastConsumed[e]?(n=f._supplementalDataIDLast,f._supplementalDataIDLastConsumed[e]=!0):n&&(f._supplementalDataIDCurrentConsumed[e]&&(f._supplementalDataIDLast=f._supplementalDataIDCurrent,f._supplementalDataIDLastConsumed=f._supplementalDataIDCurrentConsumed,f._supplementalDataIDCurrent=n=t?"":f._generateID(1),f._supplementalDataIDCurrentConsumed={}),n&&(f._supplementalDataIDCurrentConsumed[e]=!0)),n});f._liberatedOptOut=null,f.getOptOut=function(e,t){var n=f._getAudienceManagerURLData("_setMarketingCloudFields"),r=n.url;if(d())return f._getRemoteField("MCOPTOUT",r,e,t,n);if(f._registerCallback("liberatedOptOut",e),null!==f._liberatedOptOut)return f._callAllCallbacks("liberatedOptOut",[f._liberatedOptOut]),w=!1,f._liberatedOptOut;if(w)return null;w=!0;var i="liberatedGetOptOut";return n.corsUrl=n.corsUrl.replace(/dpm\.demdex\.net\/id\?/,"dpm.demdex.net/optOutStatus?"),n.callback=[i],k[i]=function(e){if(e===Object(e)){var t,n,r=J.parseOptOut(e,t,P);t=r.optOut,n=1e3*r.d_ottl,f._liberatedOptOut=t,setTimeout(function(){f._liberatedOptOut=null},n)}f._callAllCallbacks("liberatedOptOut",[t]),w=!1},S.fireCORS(n),null},f.isOptedOut=function(n,r,e){r=r||g.OptOut.GLOBAL;var t=f.getOptOut(function(e){var t=e===g.OptOut.GLOBAL||0<=e.indexOf(r);f._callCallback(n,[t])},e);return t?t===g.OptOut.GLOBAL||0<=t.indexOf(r):null},f._fields=null,f._fieldsExpired=null,f._hash=function(e){var t,n=0;if(e)for(t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n&=n;return n},f._generateID=M,f._generateLocalMID=function(){var e=f._generateID(0);return T.isClientSideMarketingCloudVisitorID=!0,e},f._callbackList=null,f._callCallback=function(e,t){try{"function"==typeof e?e.apply(_,t):e[1].apply(e[0],t)}catch(e){}},f._registerCallback=function(e,t){t&&(null==f._callbackList&&(f._callbackList={}),null==f._callbackList[e]&&(f._callbackList[e]=[]),f._callbackList[e].push(t))},f._callAllCallbacks=function(e,t){if(null!=f._callbackList){var n=f._callbackList[e];if(n)for(;0<n.length;)f._callCallback(n.shift(),t)}},f._addQuerystringParam=function(e,t,n,r){var i=encodeURIComponent(t)+"="+encodeURIComponent(n),a=I.parseHash(e),o=I.hashlessUrl(e);if(-1===o.indexOf("?"))return o+"?"+i+a;var s=o.split("?"),c=s[0]+"?",u=s[1];return c+I.addQueryParamAtLocation(u,i,r)+a},f._extractParamFromUri=function(e,t){var n=new RegExp("[\\?&#]"+t+"=([^&#]*)").exec(e);if(n&&n.length)return decodeURIComponent(n[1])},f._parseAdobeMcFromUrl=t(ce.ADOBE_MC),f._parseAdobeMcSdidFromUrl=t(ce.ADOBE_MC_SDID),f._attemptToPopulateSdidFromUrl=function(e){var t=f._parseAdobeMcSdidFromUrl(e),n=1e9;t&&t.TS&&(n=I.getTimestampInSeconds()-t.TS),t&&t.SDID&&t.MCORGID===r&&n<f.sdidParamExpiry&&(f._supplementalDataIDCurrent=t.SDID,f._supplementalDataIDCurrentConsumed.SDID_URL_PARAM=!0)},f._attemptToPopulateIdsFromUrl=function(){var e=f._parseAdobeMcFromUrl();if(e&&e.TS){var t=I.getTimestampInSeconds()-e.TS;if(Math.floor(t/60)>ce.ADOBE_MC_TTL_IN_MIN||e.MCORGID!==r)return;!function(e){function t(e,t,n){e&&e.match(ce.VALID_VISITOR_ID_REGEX)&&(n===C&&(p=!0),t(e))}t(e[C],f.setMarketingCloudVisitorID,C),f._setFieldExpire(b,-1),t(e[y],f.setAnalyticsVisitorID)}(e)}},f._mergeServerState=function(e){if(e)try{if(r=e,(e=I.isObject(r)?r:JSON.parse(r))[f.marketingCloudOrgID]){var t=e[f.marketingCloudOrgID];n=t.customerIDs,I.isObject(n)&&f.setCustomerIDs(n),i(t.sdid)}}catch(e){throw new Error("`serverState` has an invalid format.")}var n,r},f._timeout=null,f._loadData=function(e,t,n,r){t=f._addQuerystringParam(t,"d_fieldgroup",e,1),r.url=f._addQuerystringParam(r.url,"d_fieldgroup",e,1),r.corsUrl=f._addQuerystringParam(r.corsUrl,"d_fieldgroup",e,1),T.fieldGroupObj[e]=!0,r===Object(r)&&r.corsUrl&&"XMLHttpRequest"===S.corsMetadata.corsType&&S.fireCORS(r,n,e)},f._clearTimeout=function(e){null!=f._timeout&&f._timeout[e]&&(clearTimeout(f._timeout[e]),f._timeout[e]=0)},f._settingsDigest=0,f._getSettingsDigest=function(){if(!f._settingsDigest){var e=f.version;f.audienceManagerServer&&(e+="|"+f.audienceManagerServer),f.audienceManagerServerSecure&&(e+="|"+f.audienceManagerServerSecure),f._settingsDigest=f._hash(e)}return f._settingsDigest},f._readVisitorDone=!1,f._readVisitor=function(){if(!f._readVisitorDone){f._readVisitorDone=!0;var e,t,n,r,i,a,o=f._getSettingsDigest(),s=!1,c=f.cookieRead(f.cookieName),u=new Date;if(c||p||f.discardTrackingServerECID||(c=f.cookieRead(ce.FIRST_PARTY_SERVER_COOKIE)),null==f._fields&&(f._fields={}),c&&"T"!==c)for((c=c.split("|"))[0].match(/^[\-0-9]+$/)&&(parseInt(c[0],10)!==o&&(s=!0),c.shift()),c.length%2==1&&c.pop(),e=0;e<c.length;e+=2)n=(t=c[e].split("-"))[0],r=c[e+1],a=1<t.length?(i=parseInt(t[1],10),0<t[1].indexOf("s")):(i=0,!1),s&&("MCCIDH"===n&&(r=""),0<i&&(i=u.getTime()/1e3-60)),n&&r&&(f._setField(n,r,1),0<i&&(f._fields["expire"+n]=i+(a?"s":""),(u.getTime()>=1e3*i||a&&!f.cookieRead(f.sessionCookieName))&&(f._fieldsExpired||(f._fieldsExpired={}),f._fieldsExpired[n]=!0)));!f._getField(y)&&I.isTrackingServerPopulated()&&(c=f.cookieRead("s_vi"))&&(1<(c=c.split("|")).length&&0<=c[0].indexOf("v1")&&(0<=(e=(r=c[1]).indexOf("["))&&(r=r.substring(0,e)),r&&r.match(ce.VALID_VISITOR_ID_REGEX)&&f._setField(y,r)))}},f._appendVersionTo=function(e){var t="vVersion|"+f.version,n=e?f._getCookieVersion(e):null;return n?ie(n,f.version)&&(e=e.replace(ce.VERSION_REGEX,t)):e+=(e?"|":"")+t,e},f._writeVisitor=function(){var e,t,n=f._getSettingsDigest();for(e in f._fields)m(e)&&f._fields[e]&&"expire"!==e.substring(0,6)&&(t=f._fields[e],n+=(n?"|":"")+e+(f._fields["expire"+e]?"-"+f._fields["expire"+e]:"")+"|"+t);n=f._appendVersionTo(n),f.cookieWrite(f.cookieName,n,1)},f._getField=function(e,t){return null==f._fields||!t&&f._fieldsExpired&&f._fieldsExpired[e]?null:f._fields[e]},f._setField=function(e,t,n){null==f._fields&&(f._fields={}),f._fields[e]=t,n||f._writeVisitor()},f._getFieldList=function(e,t){var n=f._getField(e,t);return n?n.split("*"):null},f._setFieldList=function(e,t,n){f._setField(e,t?t.join("*"):"",n)},f._getFieldMap=function(e,t){var n=f._getFieldList(e,t);if(n){var r,i={};for(r=0;r<n.length;r+=2)i[n[r]]=n[r+1];return i}return null},f._setFieldMap=function(e,t,n){var r,i=null;if(t)for(r in i=[],t)m(r)&&(i.push(r),i.push(t[r]));f._setFieldList(e,i,n)},f._setFieldExpire=function(e,t,n){var r=new Date;r.setTime(r.getTime()+1e3*t),null==f._fields&&(f._fields={}),f._fields["expire"+e]=Math.floor(r.getTime()/1e3)+(n?"s":""),t<0?(f._fieldsExpired||(f._fieldsExpired={}),f._fieldsExpired[e]=!0):f._fieldsExpired&&(f._fieldsExpired[e]=!1),n&&(f.cookieRead(f.sessionCookieName)||f.cookieWrite(f.sessionCookieName,"1"))},f._findVisitorID=function(e){return e&&("object"===D(e)&&(e=e.d_mid?e.d_mid:e.visitorID?e.visitorID:e.id?e.id:e.uuid?e.uuid:""+e),e&&"NOTARGET"===(e=e.toUpperCase())&&(e=P),e&&(e===P||e.match(ce.VALID_VISITOR_ID_REGEX))||(e="")),e},f._setFields=function(e,t){if(f._clearTimeout(e),null!=f._loading&&(f._loading[e]=!1),T.fieldGroupObj[e]&&T.setState(e,!1),"MC"===e){!0!==T.isClientSideMarketingCloudVisitorID&&(T.isClientSideMarketingCloudVisitorID=!1);var n=f._getField(C);if(!n||f.overwriteCrossDomainMCIDAndAID){if(!(n="object"===D(t)&&t.mid?t.mid:f._findVisitorID(t))){if(f._use1stPartyMarketingCloudServer&&!f.tried1stPartyMarketingCloudServer)return f.tried1stPartyMarketingCloudServer=!0,void f.getAnalyticsVisitorID(null,!1,!0);n=f._generateLocalMID()}f._setField(C,n)}n&&n!==P||(n=""),"object"===D(t)&&((t.d_region||t.dcs_region||t.d_blob||t.blob)&&f._setFields(A,t),f._use1stPartyMarketingCloudServer&&t.mid&&f._setFields("A",{id:t.id})),f._callAllCallbacks(C,[n])}if(e===A&&"object"===D(t)){var r=604800;null!=t.id_sync_ttl&&t.id_sync_ttl&&(r=parseInt(t.id_sync_ttl,10));var i=E.getRegionAndCheckIfChanged(t,r);f._callAllCallbacks("MCAAMLH",[i]);var a=f._getField(b);(t.d_blob||t.blob)&&(a=(a=t.d_blob)||t.blob,f._setFieldExpire(b,r),f._setField(b,a)),a=a||"",f._callAllCallbacks(b,[a]),!t.error_msg&&f._newCustomerIDsHash&&f._setField("MCCIDH",f._newCustomerIDsHash)}if("A"===e){var o=f._getField(y);o&&!f.overwriteCrossDomainMCIDAndAID||((o=f._findVisitorID(t))?o!==P&&f._setFieldExpire(b,-1):o=P,f._setField(y,o)),o&&o!==P||(o=""),f._callAllCallbacks(y,[o])}if(f.idSyncDisableSyncs||f.disableIdSyncs)E.idCallNotProcesssed=!0;else{E.idCallNotProcesssed=!1;var s={};s.ibs=t.ibs,s.subdomain=t.subdomain,E.processIDCallData(s)}if(t===Object(t)){var c,u;d()&&f.isAllowed()&&(c=f._getField("MCOPTOUT"));var l=J.parseOptOut(t,c,P);c=l.optOut,u=l.d_ottl,f._setFieldExpire("MCOPTOUT",u,!0),f._setField("MCOPTOUT",c),f._callAllCallbacks("MCOPTOUT",[c])}},f._loading=null,f._getRemoteField=function(n,e,t,r,i){var a,o="",s=I.isFirstPartyAnalyticsVisitorIDCall(n);if(d()&&f.isAllowed())if(f._readVisitor(),!(!(o=f._getField(n,!0==={MCAAMLH:!0,MCAAMB:!0}[n]))||f._fieldsExpired&&f._fieldsExpired[n])||f.disableThirdPartyCalls&&!s)o||(n===C?(f._registerCallback(n,t),o=f._generateLocalMID(),f.setMarketingCloudVisitorID(o)):n===y?(f._registerCallback(n,t),o="",f.setAnalyticsVisitorID(o)):r=!(o=""));else if(n===C||"MCOPTOUT"===n?a="MC":"MCAAMLH"===n||n===b?a=A:n===y&&(a="A"),a)return!e||null!=f._loading&&f._loading[a]||(null==f._loading&&(f._loading={}),f._loading[a]=!0,f._loadData(a,e,function(e){if(!f._getField(n)){e&&T.setState(a,!0);var t="";n===C?t=f._generateLocalMID():a===A&&(t={error_msg:"timeout"}),f._setFields(a,t)}},i)),f._registerCallback(n,t),o||(e||f._setFields(a,{id:P}),"");return n!==C&&n!==y||o!==P||(r=!(o="")),t&&r&&f._callCallback(t,[o]),o},f._setMarketingCloudFields=function(e){f._readVisitor(),f._setFields("MC",e)},f._mapCustomerIDs=function(e){f.getAudienceManagerBlob(e,!0)},f._setAnalyticsFields=function(e){f._readVisitor(),f._setFields("A",e)},f._setAudienceManagerFields=function(e){f._readVisitor(),f._setFields(A,e)},f._getAudienceManagerURLData=function(e){var t=f.audienceManagerServer,n="",r=f._getField(C),i=f._getField(b,!0),a=f._getField(y),o=a&&a!==P?"&d_cid_ic=AVID%01"+encodeURIComponent(a):"";if(f.loadSSL&&f.audienceManagerServerSecure&&(t=f.audienceManagerServerSecure),t){var s,c,u=f.getCustomerIDs();if(u)for(s in u)m(s)&&(c=u[s],o+="&d_cid_ic="+encodeURIComponent(s)+"%01"+encodeURIComponent(c.id?c.id:"")+(c.authState?"%01"+c.authState:""));e=e||"_setAudienceManagerFields";var l="http"+(f.loadSSL?"s":"")+"://"+t+"/id",d="d_visid_ver="+f.version+(h&&-1!==l.indexOf("demdex.net")?"&gdpr=1&gdpr_force=1&gdpr_consent="+h:"")+"&d_rtbd=json&d_ver=2"+(!r&&f._use1stPartyMarketingCloudServer?"&d_verify=1":"")+"&d_orgid="+encodeURIComponent(f.marketingCloudOrgID)+"&d_nsid="+(f.idSyncContainerID||0)+(r?"&d_mid="+encodeURIComponent(r):"")+(f.idSyncDisable3rdPartySyncing||f.disableThirdPartyCookies?"&d_coppa=true":"")+(!0===v?"&d_coop_safe=1":!1===v?"&d_coop_unsafe=1":"")+(i?"&d_blob="+encodeURIComponent(i):"")+o,p=["s_c_il",f._in,e];return{url:n=l+"?"+d+"&d_cb=s_c_il%5B"+f._in+"%5D."+e,corsUrl:l+"?"+d,callback:p}}return{url:n}},f.appendVisitorIDsTo=function(e){try{var t=[[C,f._getField(C)],[y,f._getField(y)],["MCORGID",f.marketingCloudOrgID]];return f._addQuerystringParam(e,ce.ADOBE_MC,a(t))}catch(t){return e}},f.appendSupplementalDataIDTo=function(e,t){if(!(t=t||f.getSupplementalDataID(I.generateRandomString(),!0)))return e;try{var n=a([["SDID",t],["MCORGID",f.marketingCloudOrgID]]);return f._addQuerystringParam(e,ce.ADOBE_MC_SDID,n)}catch(t){return e}};var I={parseHash:function(e){var t=e.indexOf("#");return 0<t?e.substr(t):""},hashlessUrl:function(e){var t=e.indexOf("#");return 0<t?e.substr(0,t):e},addQueryParamAtLocation:function(e,t,n){var r=e.split("&");return n=null!=n?n:r.length,r.splice(n,0,t),r.join("&")},isFirstPartyAnalyticsVisitorIDCall:function(e,t,n){return e===y&&(t=t||f.trackingServer,n=n||f.trackingServerSecure,!("string"!=typeof(r=f.loadSSL?n:t)||!r.length)&&r.indexOf("2o7.net")<0&&r.indexOf("omtrdc.net")<0);var r},isObject:function(e){return Boolean(e&&e===Object(e))},removeCookie:function(e){ne.remove(e,{domain:f.cookieDomain})},isTrackingServerPopulated:function(){return!!f.trackingServer||!!f.trackingServerSecure},getTimestampInSeconds:function(){return Math.round((new Date).getTime()/1e3)},parsePipeDelimetedKeyValues:function(e){return e.split("|").reduce(function(e,t){var n=t.split("=");return e[n[0]]=decodeURIComponent(n[1]),e},{})},generateRandomString:function(e){e=e||5;for(var t="",n="abcdefghijklmnopqrstuvwxyz0123456789";e--;)t+=n[Math.floor(Math.random()*n.length)];return t},normalizeBoolean:function(e){return"true"===e||"false"!==e&&e},parseBoolean:function(e){return"true"===e||"false"!==e&&null},replaceMethodsWithFunction:function(e,t){for(var n in e)e.hasOwnProperty(n)&&"function"==typeof e[n]&&(e[n]=t);return e}};f._helpers=I;var E=function(h,t){var i=k.document;return{THROTTLE_START:3e4,MAX_SYNCS_LENGTH:649,throttleTimerSet:!1,id:null,onPagePixels:[],iframeHost:null,getIframeHost:function(e){if("string"==typeof e){var t=e.split("/");return t[0]+"//"+t[2]}},subdomain:null,url:null,getUrl:function(){var e,t="http://fast.",n="?d_nsid="+h.idSyncContainerID+"#"+encodeURIComponent(i.location.origin);return this.subdomain||(this.subdomain="nosubdomainreturned"),h.loadSSL&&(t=h.idSyncSSLUseAkamai?"https://fast.":"https://"),e=t+this.subdomain+".demdex.net/dest5.html"+n,this.iframeHost=this.getIframeHost(e),this.id="destination_publishing_iframe_"+this.subdomain+"_"+h.idSyncContainerID,e},checkDPIframeSrc:function(){var e="?d_nsid="+h.idSyncContainerID+"#"+encodeURIComponent(i.location.href);"string"==typeof h.dpIframeSrc&&h.dpIframeSrc.length&&(this.id="destination_publishing_iframe_"+(h._subdomain||this.subdomain||(new Date).getTime())+"_"+h.idSyncContainerID,this.iframeHost=this.getIframeHost(h.dpIframeSrc),this.url=h.dpIframeSrc+e)},idCallNotProcesssed:null,doAttachIframe:!1,startedAttachingIframe:!1,iframeHasLoaded:null,iframeIdChanged:null,newIframeCreated:null,originalIframeHasLoadedAlready:null,iframeLoadedCallbacks:[],regionChanged:!1,timesRegionChanged:0,sendingMessages:!1,messages:[],messagesPosted:[],messagesReceived:[],messageSendingInterval:ce.POST_MESSAGE_ENABLED?null:100,onPageDestinationsFired:[],jsonForComparison:[],jsonDuplicates:[],jsonWaiting:[],jsonProcessed:[],canSetThirdPartyCookies:!0,receivedThirdPartyCookiesNotification:!1,readyToAttachIframePreliminary:function(){return!(h.idSyncDisableSyncs||h.disableIdSyncs||h.idSyncDisable3rdPartySyncing||h.disableThirdPartyCookies||h.disableThirdPartyCalls)},readyToAttachIframe:function(){return this.readyToAttachIframePreliminary()&&(this.doAttachIframe||h._doAttachIframe)&&(this.subdomain&&"nosubdomainreturned"!==this.subdomain||h._subdomain)&&this.url&&!this.startedAttachingIframe},attachIframe:function(){function e(){(r=i.createElement("iframe")).sandbox="allow-scripts allow-same-origin",r.title="Adobe ID Syncing iFrame",r.id=n.id,r.name=n.id+"_name",r.style.cssText="display: none; width: 0; height: 0;",r.src=n.url,n.newIframeCreated=!0,t(),i.body.appendChild(r)}function t(e){r.addEventListener("load",function(){r.className="aamIframeLoaded",n.iframeHasLoaded=!0,n.fireIframeLoadedCallbacks(e),n.requestToProcess()})}this.startedAttachingIframe=!0;var n=this,r=i.getElementById(this.id);r?"IFRAME"!==r.nodeName?(this.id+="_2",this.iframeIdChanged=!0,e()):(this.newIframeCreated=!1,"aamIframeLoaded"!==r.className?(this.originalIframeHasLoadedAlready=!1,t("The destination publishing iframe already exists from a different library, but hadn't loaded yet.")):(this.originalIframeHasLoadedAlready=!0,this.iframeHasLoaded=!0,this.iframe=r,this.fireIframeLoadedCallbacks("The destination publishing iframe already exists from a different library, and had loaded alresady."),this.requestToProcess())):e(),this.iframe=r},fireIframeLoadedCallbacks:function(t){this.iframeLoadedCallbacks.forEach(function(e){"function"==typeof e&&e({message:t||"The destination publishing iframe was attached and loaded successfully."})}),this.iframeLoadedCallbacks=[]},requestToProcess:function(e){function t(){r.jsonForComparison.push(e),r.jsonWaiting.push(e),r.processSyncOnPage(e)}var n,r=this;if(e===Object(e)&&e.ibs)if(n=JSON.stringify(e.ibs||[]),this.jsonForComparison.length){var i,a,o,s=!1;for(i=0,a=this.jsonForComparison.length;i<a;i++)if(o=this.jsonForComparison[i],n===JSON.stringify(o.ibs||[])){s=!0;break}s?this.jsonDuplicates.push(e):t()}else t();if((this.receivedThirdPartyCookiesNotification||!ce.POST_MESSAGE_ENABLED||this.iframeHasLoaded)&&this.jsonWaiting.length){var c=this.jsonWaiting.shift();this.process(c),this.requestToProcess()}h.idSyncDisableSyncs||h.disableIdSyncs||!this.iframeHasLoaded||!this.messages.length||this.sendingMessages||(this.throttleTimerSet||(this.throttleTimerSet=!0,setTimeout(function(){r.messageSendingInterval=ce.POST_MESSAGE_ENABLED?null:150},this.THROTTLE_START)),this.sendingMessages=!0,this.sendMessages())},getRegionAndCheckIfChanged:function(e,t){var n=h._getField("MCAAMLH"),r=e.d_region||e.dcs_region;return n?r&&(h._setFieldExpire("MCAAMLH",t),h._setField("MCAAMLH",r),parseInt(n,10)!==r&&(this.regionChanged=!0,this.timesRegionChanged++,h._setField("MCSYNCSOP",""),h._setField("MCSYNCS",""),n=r)):(n=r)&&(h._setFieldExpire("MCAAMLH",t),h._setField("MCAAMLH",n)),n=n||""},processSyncOnPage:function(e){var t,n,r,i;if((t=e.ibs)&&t instanceof Array&&(n=t.length))for(r=0;r<n;r++)(i=t[r]).syncOnPage&&this.checkFirstPartyCookie(i,"","syncOnPage")},process:function(e){var t,n,r,i,a,o=encodeURIComponent,s=!1;if((t=e.ibs)&&t instanceof Array&&(n=t.length))for(s=!0,r=0;r<n;r++)i=t[r],a=[o("ibs"),o(i.id||""),o(i.tag||""),J.encodeAndBuildRequest(i.url||[],","),o(i.ttl||""),"","",i.fireURLSync?"true":"false"],i.syncOnPage||(this.canSetThirdPartyCookies?this.addMessage(a.join("|")):i.fireURLSync&&this.checkFirstPartyCookie(i,a.join("|")));s&&this.jsonProcessed.push(e)},checkFirstPartyCookie:function(e,t,n){var r="syncOnPage"===n,i=r?"MCSYNCSOP":"MCSYNCS";h._readVisitor();var a,o,s=h._getField(i),c=!1,u=!1,l=Math.ceil((new Date).getTime()/ce.MILLIS_PER_DAY);s?(a=s.split("*"),c=(o=this.pruneSyncData(a,e.id,l)).dataPresent,u=o.dataValid,c&&u||this.fireSync(r,e,t,a,i,l)):(a=[],this.fireSync(r,e,t,a,i,l))},pruneSyncData:function(e,t,n){var r,i,a,o=!1,s=!1;for(i=0;i<e.length;i++)r=e[i],a=parseInt(r.split("-")[1],10),r.match("^"+t+"-")?(o=!0,n<a?s=!0:(e.splice(i,1),i--)):a<=n&&(e.splice(i,1),i--);return{dataPresent:o,dataValid:s}},manageSyncsSize:function(e){if(e.join("*").length>this.MAX_SYNCS_LENGTH)for(e.sort(function(e,t){return parseInt(e.split("-")[1],10)-parseInt(t.split("-")[1],10)});e.join("*").length>this.MAX_SYNCS_LENGTH;)e.shift()},fireSync:function(e,t,n,r,l,i){var d=this;if(e){if("img"===t.tag){var a,o,s,c,u=t.url,p=h.loadSSL?"https:":"http:";for(a=0,o=u.length;a<o;a++){s=u[a],c=/^\/\//.test(s);var f=new Image;f.addEventListener("load",function(o,s,c,u){return function(){d.onPagePixels[o]=null,h._readVisitor();var e,t,n,r,i=h._getField(l),a=[];if(i)for(t=0,n=(e=i.split("*")).length;t<n;t++)(r=e[t]).match("^"+s.id+"-")||a.push(r);d.setSyncTrackingData(a,s,c,u)}}(this.onPagePixels.length,t,l,i)),f.src=(c?p:"")+s,this.onPagePixels.push(f)}}}else this.addMessage(n),this.setSyncTrackingData(r,t,l,i)},addMessage:function(e){var t=encodeURIComponent(h._enableErrorReporting?"---destpub-debug---":"---destpub---");this.messages.push((ce.POST_MESSAGE_ENABLED?"":t)+e)},setSyncTrackingData:function(e,t,n,r){e.push(t.id+"-"+(r+Math.ceil(t.ttl/60/24))),this.manageSyncsSize(e),h._setField(n,e.join("*"))},sendMessages:function(){var e,t=this,n="",r=encodeURIComponent;this.regionChanged&&(n=r("---destpub-clear-dextp---"),this.regionChanged=!1),this.messages.length?ce.POST_MESSAGE_ENABLED?(e=n+r("---destpub-combined---")+this.messages.join("%01"),this.postMessage(e),this.messages=[],this.sendingMessages=!1):(e=this.messages.shift(),this.postMessage(n+e),setTimeout(function(){t.sendMessages()},this.messageSendingInterval)):this.sendingMessages=!1},postMessage:function(e){oe(e,this.url,this.iframe.contentWindow),this.messagesPosted.push(e)},receiveMessage:function(e){var t,n=/^---destpub-to-parent---/;"string"==typeof e&&n.test(e)&&("canSetThirdPartyCookies"===(t=e.replace(n,"").split("|"))[0]&&(this.canSetThirdPartyCookies="true"===t[1],this.receivedThirdPartyCookiesNotification=!0,this.requestToProcess()),this.messagesReceived.push(e))},processIDCallData:function(e){(null==this.url||e.subdomain&&"nosubdomainreturned"===this.subdomain)&&("string"==typeof h._subdomain&&h._subdomain.length?this.subdomain=h._subdomain:this.subdomain=e.subdomain||"",this.url=this.getUrl()),e.ibs instanceof Array&&e.ibs.length&&(this.doAttachIframe=!0),this.readyToAttachIframe()&&(h.idSyncAttachIframeOnWindowLoad?!t.windowLoaded&&"complete"!==i.readyState&&"loaded"!==i.readyState||this.attachIframe():this.attachIframeASAP()),"function"==typeof h.idSyncIDCallResult?h.idSyncIDCallResult(e):this.requestToProcess(e),"function"==typeof h.idSyncAfterIDCallResult&&h.idSyncAfterIDCallResult(e)},canMakeSyncIDCall:function(e,t){return h._forceSyncIDCall||!e||t-e>ce.DAYS_BETWEEN_SYNC_ID_CALLS},attachIframeASAP:function(){var t=this;!function e(){t.startedAttachingIframe||(i.body?t.attachIframe():setTimeout(e,30))}()}}}(f,g);f._destinationPublishing=E,f.timeoutMetricsLog=[];var T={isClientSideMarketingCloudVisitorID:null,MCIDCallTimedOut:null,AnalyticsIDCallTimedOut:null,AAMIDCallTimedOut:null,fieldGroupObj:{},setState:function(e,t){switch(e){case"MC":!1===t?!0!==this.MCIDCallTimedOut&&(this.MCIDCallTimedOut=!1):this.MCIDCallTimedOut=t;break;case"A":!1===t?!0!==this.AnalyticsIDCallTimedOut&&(this.AnalyticsIDCallTimedOut=!1):this.AnalyticsIDCallTimedOut=t;break;case A:!1===t?!0!==this.AAMIDCallTimedOut&&(this.AAMIDCallTimedOut=!1):this.AAMIDCallTimedOut=t}}};f.isClientSideMarketingCloudVisitorID=function(){return T.isClientSideMarketingCloudVisitorID},f.MCIDCallTimedOut=function(){return T.MCIDCallTimedOut},f.AnalyticsIDCallTimedOut=function(){return T.AnalyticsIDCallTimedOut},f.AAMIDCallTimedOut=function(){return T.AAMIDCallTimedOut},f.idSyncGetOnPageSyncInfo=function(){return f._readVisitor(),f._getField("MCSYNCSOP")},f.idSyncByURL=function(e){if(!f.isOptedOut()){var t=function(e){var t=e.minutesToLive,n="";return(f.idSyncDisableSyncs||f.disableIdSyncs)&&(n=n||"Error: id syncs have been disabled"),"string"==typeof e.dpid&&e.dpid.length||(n=n||"Error: config.dpid is empty"),"string"==typeof e.url&&e.url.length||(n=n||"Error: config.url is empty"),void 0===t?t=20160:(t=parseInt(t,10),(isNaN(t)||t<=0)&&(n=n||"Error: config.minutesToLive needs to be a positive number")),{error:n,ttl:t}}(e||{});if(t.error)return t.error;var n,r,i=e.url,a=encodeURIComponent,o=E;return i=i.replace(/^https:/,"").replace(/^http:/,""),n=J.encodeAndBuildRequest(["",e.dpid,e.dpuuid||""],","),r=["ibs",a(e.dpid),"img",a(i),t.ttl,"",n],o.addMessage(r.join("|")),o.requestToProcess(),"Successfully queued"}},f.idSyncByDataSource=function(e){if(!f.isOptedOut())return e===Object(e)&&"string"==typeof e.dpuuid&&e.dpuuid.length?(e.url="//dpm.demdex.net/ibs:dpid="+e.dpid+"&dpuuid="+e.dpuuid,f.idSyncByURL(e)):"Error: config or config.dpuuid is empty"},function(c,u){c.publishDestinations=function(e){var t=arguments[1],n=arguments[2];try{n="function"==typeof n?n:e.callback}catch(e){n=function(){}}var r=u;if(r.readyToAttachIframePreliminary()){if("string"==typeof e){if(!e.length)return void n({error:"subdomain is not a populated string."});if(!(t instanceof Array&&t.length))return void n({error:"messages is not a populated array."});var i=!1;if(t.forEach(function(e){"string"==typeof e&&e.length&&(r.addMessage(e),i=!0)}),!i)return void n({error:"None of the messages are populated strings."})}else{if(!J.isObject(e))return void n({error:"Invalid parameters passed."});var a=e;if("string"!=typeof(e=a.subdomain)||!e.length)return void n({error:"config.subdomain is not a populated string."});var o=a.urlDestinations;if(!(o instanceof Array&&o.length))return void n({error:"config.urlDestinations is not a populated array."});var s=[];o.forEach(function(e){J.isObject(e)&&(e.hideReferrer?e.message&&r.addMessage(e.message):s.push(e))}),function n(){s.length&&setTimeout(function(){var e=new Image,t=s.shift();e.src=t.url,r.onPageDestinationsFired.push(t),n()},100)}()}r.iframe?(n({message:"The destination publishing iframe is already attached and loaded."}),r.requestToProcess()):!c.subdomain&&c._getField("MCMID")?(r.subdomain=e,r.doAttachIframe=!0,r.url=r.getUrl(),r.readyToAttachIframe()?(r.iframeLoadedCallbacks.push(function(e){n({message:"Attempted to attach and load the destination publishing iframe through this API call. Result: "+(e.message||"no result")})}),r.attachIframe()):n({error:"Encountered a problem in attempting to attach and load the destination publishing iframe through this API call."})):r.iframeLoadedCallbacks.push(function(e){n({message:"Attempted to attach and load the destination publishing iframe through normal Visitor API processing. Result: "+(e.message||"no result")})})}else n({error:"The destination publishing iframe is disabled in the Visitor library."})}}(f,E),f._getCookieVersion=function(e){e=e||f.cookieRead(f.cookieName);var t=ce.VERSION_REGEX.exec(e);return t&&1<t.length?t[1]:null},f._resetAmcvCookie=function(e){var t=f._getCookieVersion();t&&!re(t,e)||I.removeCookie(f.cookieName)},f.setAsCoopSafe=function(){v=!0},f.setAsCoopUnsafe=function(){v=!1},function(){if(f.configs=Object.create(null),I.isObject(n))for(var e in n)m(e)&&(f[e]=n[e],f.configs[e]=n[e])}(),[["getMarketingCloudVisitorID"],["setCustomerIDs",void 0],["getAnalyticsVisitorID"],["getAudienceManagerLocationHint"],["getLocationHint"],["getAudienceManagerBlob"]].forEach(function(e){var t=e[0],n=2===e.length?e[1]:"",r=f[t];f[t]=function(e){return d()&&f.isAllowed()?r.apply(f,arguments):("function"==typeof e&&f._callCallback(e,[n]),n)}}),f.init=function(){if(!(!f.configs.doesOptInApply||u.optIn.isComplete&&d()))return u.optIn.fetchPermissions(s,!0);!function(){if(I.isObject(n)){f.idSyncContainerID=f.idSyncContainerID||0,v="boolean"==typeof f.isCoopSafe?f.isCoopSafe:I.parseBoolean(f.isCoopSafe),f.resetBeforeVersion&&f._resetAmcvCookie(f.resetBeforeVersion),f._attemptToPopulateIdsFromUrl(),f._attemptToPopulateSdidFromUrl(),f._readVisitor();var e=f._getField("MCIDTS"),t=Math.ceil((new Date).getTime()/ce.MILLIS_PER_DAY);f.idSyncDisableSyncs||f.disableIdSyncs||!E.canMakeSyncIDCall(e,t)||(f._setFieldExpire(b,-1),f._setField("MCIDTS",t)),f.getMarketingCloudVisitorID(),f.getAudienceManagerLocationHint(),f.getAudienceManagerBlob(),f._mergeServerState(f.serverState)}else f._attemptToPopulateIdsFromUrl(),f._attemptToPopulateSdidFromUrl()}(),function(){if(!f.idSyncDisableSyncs&&!f.disableIdSyncs){E.checkDPIframeSrc();_.addEventListener("load",function(){g.windowLoaded=!0,function(){var e=E;e.readyToAttachIframe()&&e.attachIframe()}()});try{se(function(e){E.receiveMessage(e.data)},E.iframeHost)}catch(e){}}}(),f.whitelistIframeDomains&&ce.POST_MESSAGE_ENABLED&&(f.whitelistIframeDomains=f.whitelistIframeDomains instanceof Array?f.whitelistIframeDomains:[f.whitelistIframeDomains],f.whitelistIframeDomains.forEach(function(e){var t=new N(r,e),n=O(f,t);se(n,e)}))}}Te.config=le;var De=k.Visitor=Te,ke=Ie.OptIn,Ne=Ie.IabPlugin;return De.getInstance=function(r,e){if(!r)throw new Error("Visitor requires Adobe Marketing Cloud Org ID.");r.indexOf("@")<0&&(r+="@AdobeOrg");var t=function(){var e=k.s_c_il;if(e)for(var t=0;t<e.length;t++){var n=e[t];if(n&&"Visitor"===n._c&&n.marketingCloudOrgID===r)return n}}();if(t)return t;var i,n=function(i){if(J.isObject(i))return Object.keys(i).filter(function(e){return""!==i[e]}).reduce(function(e,t){var n="doesOptInApply"!==t?i[t]:le.normalizeConfig(i[t]),r=J.normalizeBoolean(n);return e[t]=r,e},Object.create(null))}(e);i=n||{},k.adobe.optIn=k.adobe.optIn||function(){var e=J.pluck(i,["doesOptInApply","previousPermissions","preOptInApprovals","isOptInStorageEnabled","optInStorageExpiry","isIabContext"]),t=i.optInCookieDomain||i.cookieDomain;t=(t=t||B())===window.location.hostname?"":t,e.optInCookieDomain=t;var n=new ke(e,{cookies:ne});if(e.isIabContext){var r=new Ne(window.__cmp);n.registerPlugin(r)}return n}();var a=r.split("").reverse().join(""),o=new De(r,null,a);J.isObject(n)&&n.cookieDomain&&(o.cookieDomain=n.cookieDomain),k.s_c_il.splice(--k.s_c_in,1);var s=J.getIeVersion();if("number"==typeof s&&s<10)return o._helpers.replaceMethodsWithFunction(o,function(){});var c,u=function(){try{return k.self!==k.parent}catch(e){return 1}}()&&((c=o).cookieWrite("TEST_AMCV_COOKIE","T",1),"T"!==c.cookieRead("TEST_AMCV_COOKIE")||(c._helpers.removeCookie("TEST_AMCV_COOKIE"),0))&&k.parent?new d(r,n,o,k.parent):new De(r,n,a);return o=null,u.init(),u},k.addEventListener?k.addEventListener("load",Oe):k.attachEvent&&k.attachEvent("onload",Oe),De.codeLoadEnd=(new Date).getTime(),De;function Oe(){De.windowLoaded=!0}}(),visitor=Visitor.getInstance(__org_id__,{trackingServer:__trackingServer__,trackingServerSecure:__trackingServerSecure__}),s_cbc_sitecatalyst_init=function(e){if(e.charSet="UTF-8",e.currencyCode="CAD",e.trackDownloadLinks=!1,e.trackExternalLinks=!1,e.trackInlineStats=!0,e.linkDownloadFileTypes="exe,zip,wav,mp3,mov,mpg,avi,wmv,pdf,doc,docx,xls,xlsx,ppt,pptx,asx",e.linkInternalFilters="javascript:,cbc.ca",e.linkLeaveQueryString=!1,e.linkTrackVars="events",e.linkTrackEvents="None",e.ssl=!0,e.usePlugins=!0,e.doPlugins=function(e){},e.c_r=e.Util.cookieRead,e.c_w=e.Util.cookieWrite,e.getValOnce=new Function("v","c","e","var s=this,k=s.c_r(c),a=new Date;e=e?e:0;if(v){a.setTime(a.getTime()+e*86400000);s.c_w(c,v,e?a:0);}return v==k?'':v"),e.split=new Function("l","d","var i,x=0,a=new Array;while(l){i=l.indexOf(d);i=i>-1?i:l.length;a[x++]=l.substring(0,i);l=l.substring(i+d.length);}return a"),e.apl=function(e,t,n,r){var i=0;if(e=e||"",r){var a,o,s=this.split(e,n);for(a=0;a<s.length;a++)o=s[a],i=i||(1==r?o==t:o.toLowerCase()==t.toLowerCase())}return i||(e=e?e+n+t:t),e},e.getNewRepeat=new Function("d","cn","var s=this,e=new Date(),cval,sval,ct=e.getTime();d=d?d:30;cn=cn?cn:'s_nr';e.setTime(ct+d*24*60*60*1000);cval=s.c_r(cn);if(cval.length==0){s.c_w(cn,ct+'-New',e);return'New';}sval=s.split(cval,'-');if(ct-sval[0]<30*60*1000&&sval[1]=='New'){s.c_w(cn,ct+'-New',e);return'New';}else{s.c_w(cn,ct+'-Repeat',e);return'Repeat';}"),e.visitor=Visitor.getInstance(__org_id__),e.visitorNamespace="cbcca",e.trackingServer=__trackingServer__,e.trackingServerSecure=__trackingServerSecure__,e.maxDelay="3000",window.CBC.APP.SC.UTIL.getQueryStringParameterValue("webview",window.document.url)){var t=window.CBC.APP.SC.UTIL.getQueryStringParameterValue("appname",window.document.url);if(window.CBC.APP.SC.UTIL.getMetadataWhitelist().metadata.whitelist.webviewapps[t]){var n=window.CBC.APP.SC.UTIL.getQueryStringParameterValue("udid",window.document.url);n&&(e.visitorID=n)}}};function AppMeasurement(e){var f=this;f.version="2.17.0";var d=window;d.s_c_in||(d.s_c_il=[],d.s_c_in=0),f._il=d.s_c_il,f._in=d.s_c_in,f._il[f._in]=f,d.s_c_in++,f._c="s_c";var h=d.AppMeasurement.ec;h=h||null;var t,n,r,p=d;try{for(t=p.parent,n=p.location;t&&t.location&&n&&""+t.location!=""+n&&p.location&&""+t.location!=""+p.location&&t.location.host==n.host;)t=(p=t).parent}catch(e){}f.C=function(e){try{console.log(e)}catch(e){}},f.Pa=function(e){return""+parseInt(e)==""+e},f.replace=function(e,t,n){return!e||e.indexOf(t)<0?e:e.split(t).join(n)},f.escape=function(e){var t,n;if(!e)return e;for(e=encodeURIComponent(e),t=0;t<7;t++)n="+~!*()'".substring(t,t+1),0<=e.indexOf(n)&&(e=f.replace(e,n,"%"+n.charCodeAt(0).toString(16).toUpperCase()));return e},f.unescape=function(e){if(!e)return e;e=0<=e.indexOf("+")?f.replace(e,"+"," "):e;try{return decodeURIComponent(e)}catch(e){}return unescape(e)},f.Kb=function(){var e,t=d.location.hostname,n=f.fpCookieDomainPeriods;if(n=n||f.cookieDomainPeriods,t&&!f.Ia&&!/^[0-9.]+$/.test(t)&&(n=2<(n=n?parseInt(n):2)?n:2,0<=(e=t.lastIndexOf(".")))){for(;0<=e&&1<n;)e=t.lastIndexOf(".",e-1),n--;f.Ia=0<e?t.substring(e):t}return f.Ia},f.c_r=f.cookieRead=function(e){e=f.escape(e);var t=" "+f.d.cookie,n=t.indexOf(" "+e+"="),r=n<0?n:t.indexOf(";",n);return"[[B]]"!=(e=n<0?"":f.unescape(t.substring(n+2+e.length,r<0?t.length:r)))?e:""},f.c_w=f.cookieWrite=function(e,t,n){var r,i=f.Kb(),a=f.cookieLifetime;return t=""+t,a=a?(""+a).toUpperCase():"",n&&"SESSION"!=a&&"NONE"!=a&&((r=""!=t?parseInt(a||0):-60)?(n=new Date).setTime(n.getTime()+1e3*r):1===n&&(r=(n=new Date).getYear(),n.setYear(r+2+(r<1900?1900:0)))),e&&"NONE"!=a?(f.d.cookie=f.escape(e)+"="+f.escape(""!=t?t:"[[B]]")+"; path=/;"+(n&&"SESSION"!=a?" expires="+n.toUTCString()+";":"")+(i?" domain="+i+";":""),f.cookieRead(e)==t):0},f.Hb=function(){var e=f.Util.getIeVersion();"number"==typeof e&&e<10&&(f.unsupportedBrowser=!0,f.ub(f,function(){}))},f.ub=function(e,t){for(var n in e)e.hasOwnProperty(n)&&"function"==typeof e[n]&&(e[n]=t)},f.K=[],f.ea=function(e,t,n){if(f.Ja)return 0;f.maxDelay||(f.maxDelay=250);var r=0,i=(new Date).getTime()+f.maxDelay,a=f.d.visibilityState,o=["webkitvisibilitychange","visibilitychange"];if((a=a||f.d.webkitVisibilityState)&&"prerender"==a){if(!f.fa)for(f.fa=1,n=0;n<o.length;n++)f.d.addEventListener(o[n],function(){var e=f.d.visibilityState;"visible"==(e=e||f.d.webkitVisibilityState)&&(f.fa=0,f.delayReady())});r=1,i=0}else n||f.u("_d")&&(r=1);return r&&(f.K.push({m:e,a:t,t:i}),f.fa||setTimeout(f.delayReady,f.maxDelay)),r},f.delayReady=function(){var e,t=(new Date).getTime(),n=0;for(f.u("_d")?n=1:f.ya();0<f.K.length;){if(e=f.K.shift(),n&&!e.t&&e.t>t){f.K.unshift(e),setTimeout(f.delayReady,parseInt(f.maxDelay/2));break}f.Ja=1,f[e.m].apply(f,e.a),f.Ja=0}},f.setAccount=f.sa=function(e){var t,n;if(!f.ea("setAccount",arguments))if(f.account=e,f.allAccounts)for(t=f.allAccounts.concat(e.split(",")),f.allAccounts=[],t.sort(),n=0;n<t.length;n++)0!=n&&t[n-1]==t[n]||f.allAccounts.push(t[n]);else f.allAccounts=e.split(",")},f.foreachVar=function(e,t){var n,r,i,a,o="";for(i=r="",f.lightProfileID?(n=f.O,(o=f.lightTrackVars)&&(o=","+o+","+f.ka.join(",")+",")):(n=f.g,(f.pe||f.linkType)&&(o=f.linkTrackVars,r=f.linkTrackEvents,f.pe&&(i=f.pe.substring(0,1).toUpperCase()+f.pe.substring(1),f[i]&&(o=f[i].ac,r=f[i].$b))),o=o&&","+o+","+f.F.join(",")+",",r&&o&&(o+=",events,")),t=t&&","+t+",",r=0;r<n.length;r++)i=n[r],(a=f[i])&&(!o||0<=o.indexOf(","+i+","))&&(!t||0<=t.indexOf(","+i+","))&&e(i,a)},f.o=function(e,t,n,r,i){var a,o,s,c,u="",l=0;if("contextData"==e&&(e="c"),t){for(a in t)if(!(Object.prototype[a]||i&&a.substring(0,i.length)!=i)&&t[a]&&(!n||0<=n.indexOf(","+(r?r+".":"")+a+","))){if(s=!1,l)for(o=0;o<l.length;o++)if(a.substring(0,l[o].length)==l[o]){s=!0;break}if(!s&&(""==u&&(u+="&"+e+"."),o=t[a],i&&(a=a.substring(i.length)),0<a.length))if(0<(s=a.indexOf(".")))o=a.substring(0,s),(l=l||[]).push(s=(i||"")+o+"."),u+=f.o(o,t,n,r,s);else if("boolean"==typeof o&&(o=o?"true":"false"),o){if("retrieveLightData"==r&&i.indexOf(".contextData.")<0)switch(s=a.substring(0,4),c=a.substring(4),a){case"transactionID":a="xact";break;case"channel":a="ch";break;case"campaign":a="v0";break;default:f.Pa(c)&&("prop"==s?a="c"+c:"eVar"==s?a="v"+c:"list"==s?a="l"+c:"hier"==s&&(a="h"+c,o=o.substring(0,255)))}u+="&"+f.escape(a)+"="+f.escape(o)}}""!=u&&(u+="&."+e)}return u},f.usePostbacks=0,f.Nb=function(){var e,t,n,r,i,a,o,s,c="",u="",l="",d=r="",p=f.T();if(f.lightProfileID?(e=f.O,(u=f.lightTrackVars)&&(u=","+u+","+f.ka.join(",")+",")):(e=f.g,(f.pe||f.linkType)&&(u=f.linkTrackVars,l=f.linkTrackEvents,f.pe&&(r=f.pe.substring(0,1).toUpperCase()+f.pe.substring(1),f[r]&&(u=f[r].ac,l=f[r].$b))),u=u&&","+u+","+f.F.join(",")+",",l&&(l=","+l+",",u&&(u+=",events,")),f.events2&&(d+=(""!=d?",":"")+f.events2)),p&&p.getCustomerIDs){if(r=h,i=p.getCustomerIDs())for(t in i)Object.prototype[t]||"object"==_typeof2(n=i[t])&&(r=r||{},n.id&&(r[t+".id"]=n.id),n.authState&&(r[t+".as"]=n.authState));r&&(c+=f.o("cid",r))}for(f.AudienceManagement&&f.AudienceManagement.isReady()&&(c+=f.o("d",f.AudienceManagement.getEventCallConfigParams())),t=0;t<e.length;t++){if(r=e[t],i=f[r],n=r.substring(0,4),a=r.substring(4),i||("events"==r&&d?(i=d,d=""):"marketingCloudOrgID"==r&&p&&f.V("ECID")&&(i=p.marketingCloudOrgID)),i&&(!u||0<=u.indexOf(","+r+","))){switch(r){case"customerPerspective":r="cp";break;case"marketingCloudOrgID":r="mcorgid";break;case"supplementalDataID":r="sdid";break;case"timestamp":r="ts";break;case"dynamicVariablePrefix":r="D";break;case"visitorID":r="vid";break;case"marketingCloudVisitorID":r="mid";break;case"analyticsVisitorID":r="aid";break;case"audienceManagerLocationHint":r="aamlh";break;case"audienceManagerBlob":r="aamb";break;case"authState":r="as";break;case"pageURL":r="g",255<i.length&&(f.pageURLRest=i.substring(255),i=i.substring(0,255));break;case"pageURLRest":r="-g";break;case"referrer":r="r";break;case"vmk":case"visitorMigrationKey":r="vmt";break;case"visitorMigrationServer":r="vmf",f.ssl&&f.visitorMigrationServerSecure&&(i="");break;case"visitorMigrationServerSecure":r="vmf",!f.ssl&&f.visitorMigrationServer&&(i="");break;case"charSet":r="ce";break;case"visitorNamespace":r="ns";break;case"cookieDomainPeriods":r="cdp";break;case"cookieLifetime":r="cl";break;case"variableProvider":r="vvp";break;case"currencyCode":r="cc";break;case"channel":r="ch";break;case"transactionID":r="xact";break;case"campaign":r="v0";break;case"latitude":r="lat";break;case"longitude":r="lon";break;case"resolution":r="s";break;case"colorDepth":r="c";break;case"javascriptVersion":r="j";break;case"javaEnabled":r="v";break;case"cookiesEnabled":r="k";break;case"browserWidth":r="bw";break;case"browserHeight":r="bh";break;case"connectionType":r="ct";break;case"homepage":r="hp";break;case"events":if(d&&(i+=(""!=i?",":"")+d),l)for(a=i.split(","),i="",n=0;n<a.length;n++)0<=(s=(o=a[n]).indexOf("="))&&(o=o.substring(0,s)),0<=(s=o.indexOf(":"))&&(o=o.substring(0,s)),0<=l.indexOf(","+o+",")&&(i+=(i?",":"")+a[n]);break;case"events2":i="";break;case"contextData":c+=f.o("c",f[r],u,r),i="";break;case"lightProfileID":r="mtp";break;case"lightStoreForSeconds":r="mtss",f.lightProfileID||(i="");break;case"lightIncrementBy":r="mti",f.lightProfileID||(i="");break;case"retrieveLightProfiles":r="mtsr";break;case"deleteLightProfiles":r="mtsd";break;case"retrieveLightData":f.retrieveLightProfiles&&(c+=f.o("mts",f[r],u,r)),i="";break;default:f.Pa(a)&&("prop"==n?r="c"+a:"eVar"==n?r="v"+a:"list"==n?r="l"+a:"hier"==n&&(r="h"+a,i=i.substring(0,255)))}i&&(c+="&"+r+"="+("pev"!=r.substring(0,3)?f.escape(i):i))}"pev3"==r&&f.e&&(c+=f.e)}return f.ja&&(c+="&lrt="+f.ja,f.ja=null),c},f.B=function(e){var t=e.tagName;return"undefined"!=""+e.hc||"undefined"!=""+e.Wb&&"HTML"!=(""+e.Wb).toUpperCase()?"":("SHAPE"==(t=t&&t.toUpperCase?t.toUpperCase():"")&&(t=""),t&&(("INPUT"==t||"BUTTON"==t)&&e.type&&e.type.toUpperCase?t=e.type.toUpperCase():!t&&e.href&&(t="A")),t)},f.La=function(){},f.L=function(e){var t,n,r=f.B(e),i="",a=0;return r&&(t=e.protocol,n=e.onclick,!e.href||"A"!=r&&"AREA"!=r||n&&t&&!(t.toLowerCase().indexOf("javascript")<0)?n?(i=f.replace(f.replace(f.replace(f.replace(""+n,"\r",""),"\n",""),"\t","")," ",""),a=2):"INPUT"==r||"SUBMIT"==r?(e.value?i=e.value:e.innerText?i=e.innerText:e.textContent&&(i=e.textContent),a=3):"IMAGE"==r&&e.src&&(i=e.src):i=f.La(e),i)?{id:i.substring(0,100),type:a}:0},f.fc=function(e){for(var t=f.B(e),n=f.L(e);e&&!n&&"BODY"!=t;)(e=e.parentElement?e.parentElement:e.parentNode)&&(t=f.B(e),n=f.L(e));return n&&"BODY"!=t||(e=0),e&&(0<=(t=e.onclick?""+e.onclick:"").indexOf(".tl(")||0<=t.indexOf(".trackLink("))&&(e=0),e},f.Vb=function(){var e,t,n,r,i=f.linkObject,a=f.linkType,o=f.linkURL;if(f.la=1,i||(f.la=0,i=f.clickObject),i){for(e=f.B(i),t=f.L(i);i&&!t&&"BODY"!=e;)(i=i.parentElement?i.parentElement:i.parentNode)&&(e=f.B(i),t=f.L(i));if(t&&"BODY"!=e||(i=0),i&&!f.linkObject){var s=i.onclick?""+i.onclick:"";(0<=s.indexOf(".tl(")||0<=s.indexOf(".trackLink("))&&(i=0)}}else f.la=1;if(!o&&i&&(o=f.La(i)),o&&!f.linkLeaveQueryString&&(0<=(n=o.indexOf("?"))&&(o=o.substring(0,n))),!a&&o){var c,u=0,l=0;if(f.trackDownloadLinks&&f.linkDownloadFileTypes)for(n=(s=o.toLowerCase()).indexOf("?"),r=s.indexOf("#"),0<=n?0<=r&&r<n&&(n=r):n=r,0<=n&&(s=s.substring(0,n)),n=f.linkDownloadFileTypes.toLowerCase().split(","),r=0;r<n.length;r++)(c=n[r])&&s.substring(s.length-(c.length+1))=="."+c&&(a="d");if(f.trackExternalLinks&&!a&&(s=o.toLowerCase(),f.Oa(s)&&(f.linkInternalFilters||(f.linkInternalFilters=d.location.hostname),n=0,f.linkExternalFilters?(n=f.linkExternalFilters.toLowerCase().split(","),u=1):f.linkInternalFilters&&(n=f.linkInternalFilters.toLowerCase().split(",")),n))){for(r=0;r<n.length;r++)c=n[r],0<=s.indexOf(c)&&(l=1);l?u&&(a="e"):u||(a="e")}}f.linkObject=i,f.linkURL=o,f.linkType=a,(f.trackClickMap||f.trackInlineStats)&&(f.e="",i&&(a=f.pageName,o=1,i=i.sourceIndex,a||(a=f.pageURL,o=0),d.s_objectID&&(t.id=d.s_objectID,i=t.type=1),a&&t&&t.id&&e&&(f.e="&pid="+f.escape(a.substring(0,255))+(o?"&pidt="+o:"")+"&oid="+f.escape(t.id.substring(0,100))+(t.type?"&oidt="+t.type:"")+"&ot="+e+(i?"&oi="+i:""))))},f.Ob=function(){var e=f.la,t=f.linkType,n=f.linkURL,r=f.linkName;if(t&&(n||r)&&("d"!=(t=t.toLowerCase())&&"e"!=t&&(t="o"),f.pe="lnk_"+t,f.pev1=n?f.escape(n):"",f.pev2=r?f.escape(r):"",e=1),f.abort&&(e=0),f.trackClickMap||f.trackInlineStats||f.Rb()){t={},n=0;var i,a,o,s=(c=f.pb())?c.split("&"):0,c=0;if(s)for(i=0;i<s.length;i++)a=s[i].split("="),r=f.unescape(a[0]).split(","),t[a=f.unescape(a[1])]=r;for(o in r=f.account.split(","),i={},f.contextData)o&&!Object.prototype[o]&&"a.activitymap."==o.substring(0,14)&&(i[o]=f.contextData[o],f.contextData[o]="");if(f.e=f.o("c",i)+(f.e?f.e:""),e||f.e){for(a in e&&!f.e&&(c=1),t)if(!Object.prototype[a])for(o=0;o<r.length;o++)for(c&&((s=t[a].join(","))==f.account&&(f.e+=("&"!=a.charAt(0)?"&":"")+a,t[a]=[],n=1)),i=0;i<t[a].length;i++)(s=t[a][i])==r[o]&&(c&&(f.e+="&u="+f.escape(s)+("&"!=a.charAt(0)?"&":"")+a+"&u=0"),t[a].splice(i,1),n=1);if(e||(n=1),n){for(a in c="",i=2,!e&&f.e&&(c=f.escape(r.join(","))+"="+f.escape(f.e),i=1),t)!Object.prototype[a]&&0<i&&0<t[a].length&&(c+=(c?"&":"")+f.escape(t[a].join(","))+"="+f.escape(a),i--);f.wb(c)}}}return e},f.pb=function(){return f.useLinkTrackSessionStorage?f.Ca()?d.sessionStorage.getItem(f.P):void 0:f.cookieRead(f.P)},f.Ca=function(){return!!d.sessionStorage},f.wb=function(e){f.useLinkTrackSessionStorage?f.Ca()&&d.sessionStorage.setItem(f.P,e):f.cookieWrite(f.P,e)},f.Pb=function(){if(!f.Zb){var e,t,n,r,i=new Date,a=p.location,o=t=e="",s="1.2",c=f.cookieWrite("s_cc","true",0)?"Y":"N",u="",l="";if(i.setUTCDate&&(s="1.3",(0).toPrecision&&(s="1.5",(i=[]).forEach))){s="1.6",t=0,e={};try{(t=new Iterator(e)).next&&(s="1.7",i.reduce&&((s="1.8").trim&&(s="1.8.1",Date.parse&&(s="1.8.2",Object.create&&(s="1.8.5")))))}catch(e){}}e=screen.width+"x"+screen.height,o=navigator.javaEnabled()?"Y":"N",t=screen.pixelDepth?screen.pixelDepth:screen.colorDepth,n=f.w.innerWidth?f.w.innerWidth:f.d.documentElement.offsetWidth,r=f.w.innerHeight?f.w.innerHeight:f.d.documentElement.offsetHeight;try{f.b.addBehavior("#default#homePage"),u=f.b.gc(a)?"Y":"N"}catch(e){}try{f.b.addBehavior("#default#clientCaps"),l=f.b.connectionType}catch(e){}f.resolution=e,f.colorDepth=t,f.javascriptVersion=s,f.javaEnabled=o,f.cookiesEnabled=c,f.browserWidth=n,f.browserHeight=r,f.connectionType=l,f.homepage=u,f.Zb=1}},f.Q={},f.loadModule=function(t,e){var n=f.Q[t];if(!n){n=d["AppMeasurement_Module_"+t]?new d["AppMeasurement_Module_"+t](f):{},f.Q[t]=f[t]=n,n.ib=function(){return n.sb},n.xb=function(e){(n.sb=e)&&(f[t+"_onLoad"]=e,f.ea(t+"_onLoad",[f,n],1)||e(f,n))};try{Object.defineProperty?Object.defineProperty(n,"onLoad",{get:n.ib,set:n.xb}):n._olc=1}catch(e){n._olc=1}}e&&(f[t+"_onLoad"]=e,f.ea(t+"_onLoad",[f,n],1)||e(f,n))},f.u=function(e){var t,n;for(t in f.Q)if(!Object.prototype[t]&&(n=f.Q[t])&&(n._olc&&n.onLoad&&(n._olc=0,n.onLoad(f,n)),n[e]&&n[e]()))return 1;return 0},f.Rb=function(){return!(!f.ActivityMap||!f.ActivityMap._c)},f.Sb=function(){var e=Math.floor(1e13*Math.random()),t=f.visitorSampling,n=f.visitorSamplingGroup,r=(n="s_vsn_"+(f.visitorNamespace?f.visitorNamespace:f.account)+(n?"_"+n:""),f.cookieRead(n));if(t){if(t*=100,!(r=r&&parseInt(r))){if(!f.cookieWrite(n,e))return 0;r=e}if(t<r%1e4)return 0}return 1},f.S=function(){},f.cc=function(){},f.Jb=function(e){var t,n,r,i,a,o,s=0,c="",u="";if(e&&255<e.length&&(0<(n=(t=""+e).indexOf("?"))&&(o=t.substring(n+1),r=0,"http://"==(i=(t=t.substring(0,n)).toLowerCase()).substring(0,7)?r+=7:"https://"==i.substring(0,8)&&(r+=8),0<(n=i.indexOf("/",r))&&(i=i.substring(r,n),a=t.substring(n),t=t.substring(0,n),0<=i.indexOf("google")?s=",q,ie,start,search_key,word,kw,cd,":0<=i.indexOf("yahoo.co")?s=",p,ei,":0<=i.indexOf("baidu.")&&(s=",wd,word,"),s&&o)))){if((e=o.split("&"))&&1<e.length){for(r=0;r<e.length;r++)0<(n=(i=e[r]).indexOf("="))&&0<=s.indexOf(","+i.substring(0,n)+",")?c+=(c?"&":"")+i:u+=(u?"&":"")+i;c&&u?o=c+"&"+u:u=""}e=t+(0<(n=253-(o.length-u.length)-t.length)?a.substring(0,n):"")+"?"+o}return e},f.bb=function(t){var e=f.d.visibilityState,n=["webkitvisibilitychange","visibilitychange"];if((e=e||f.d.webkitVisibilityState)&&"prerender"==e){if(t)for(e=0;e<n.length;e++)f.d.addEventListener(n[e],function(){var e=f.d.visibilityState;"visible"==(e=e||f.d.webkitVisibilityState)&&t()});return!1}return!0},f.ba=!1,f.H=!1,f.zb=function(){f.H=!0,f.p()},f.I=!1,f.Ab=function(e){f.marketingCloudVisitorID=e.MCMID,f.visitorOptedOut=e.MCOPTOUT,f.analyticsVisitorID=e.MCAID,f.audienceManagerLocationHint=e.MCAAMLH,f.audienceManagerBlob=e.MCAAMB,f.I=!1,f.p()},f.ab=function(e){return f.maxDelay||(f.maxDelay=250),!f.u("_d")||(e&&setTimeout(function(){e()},f.maxDelay),!1)},f.Z=!1,f.G=!1,f.ya=function(){f.G=!0,f.p()},f.isReadyToTrack=function(){var e=!0;return!(!f.mb()||!f.kb())&&(f.ob()||(e=!1),f.rb()||(e=!1),e)},f.mb=function(){return f.ba||f.H||(f.bb(f.zb)?f.H=!0:f.ba=!0),!(f.ba&&!f.H)},f.kb=function(){var e=f.va();if(e){if(!f.ra&&!f.aa)return e.fetchPermissions(f.tb,!0),!(f.aa=!0);if(!f.ra)return!1;if(!e.isApproved(e.Categories.ANALYTICS))return!1}return!0},f.V=function(e){var t=f.va();return!(t&&!t.isApproved(t.Categories[e]))},f.va=function(){return d.adobe&&d.adobe.optIn?d.adobe.optIn:null},f.Y=!0,f.ob=function(){var e=f.T();return!e||!e.getVisitorValues||(f.Y&&(f.Y=!1,f.I||(f.I=!0,e.getVisitorValues(f.Ab))),!f.I)},f.T=function(){var e=f.visitor;return e&&!e.isAllowed()&&(e=null),e},f.rb=function(){return f.Z||f.G||(f.ab(f.ya)?f.G=!0:f.Z=!0),!(f.Z&&!f.G)},f.aa=!1,f.tb=function(){f.aa=!1,f.ra=!0},f.j=h,f.q=0,f.callbackWhenReadyToTrack=function(e,t,n){var r;(r={}).Eb=e,r.Db=t,r.Bb=n,f.j==h&&(f.j=[]),f.j.push(r),0==f.q&&(f.q=setInterval(f.p,100))},f.p=function(){var e;if(f.isReadyToTrack()&&(f.yb(),f.j!=h))for(;0<f.j.length;)(e=f.j.shift()).Db.apply(e.Eb,e.Bb)},f.yb=function(){f.q&&(clearInterval(f.q),f.q=0)},f.ta=function(e){var t,n={};if(f.cc(n),e!=h)for(t in e)n[t]=e[t];f.callbackWhenReadyToTrack(f,f.Da,[n]),f.Ba()},f.Lb=function(){},f.Da=function(e){var t,n=new Date,r="s"+Math.floor(n.getTime()/108e5)%10+Math.floor(1e13*Math.random()),i=n.getYear(),a=(i="t="+f.escape(n.getDate()+"/"+n.getMonth()+"/"+(i<1900?i+1900:i)+" "+n.getHours()+":"+n.getMinutes()+":"+n.getSeconds()+" "+n.getDay()+" "+n.getTimezoneOffset()),f.T());e&&(t=f.S(e,1)),f.Sb()&&!f.visitorOptedOut&&(f.wa()||(f.fid=f.Lb()),f.Vb(),f.usePlugins&&f.doPlugins&&f.doPlugins(f),f.account&&(f.abort||(f.trackOffline&&!f.timestamp&&(f.timestamp=Math.floor(n.getTime()/1e3)),e=d.location,f.pageURL||(f.pageURL=e.href?e.href:e),f.referrer||f.Za||(e=f.Util.getQueryParam("adobe_mc_ref",null,null,!0),f.referrer=e||void 0===e?void 0===e?"":e:p.document.referrer),f.Za=1,f.referrer=f.Jb(f.referrer),f.u("_g")),f.Ob()&&!f.abort&&(a&&f.V("TARGET")&&!f.supplementalDataID&&a.getSupplementalDataID&&(f.supplementalDataID=a.getSupplementalDataID("AppMeasurement:"+f._in,!f.expectSupplementalData)),f.V("AAM")||(f.contextData["cm.ssf"]=1),f.Pb(),i+=f.Nb(),f.qb(r,i),f.u("_t"),f.referrer=""))),f.Ba(),t&&f.S(t,1)},f.t=f.track=function(e,t){t&&f.S(t),f.Y=!0,f.isReadyToTrack()?null!=f.j&&0<f.j.length?(f.ta(e),f.p()):f.Da(e):f.ta(e)},f.Ba=function(){f.abort=f.supplementalDataID=f.timestamp=f.pageURLRest=f.linkObject=f.clickObject=f.linkURL=f.linkName=f.linkType=d.s_objectID=f.pe=f.pev1=f.pev2=f.pev3=f.e=f.lightProfileID=f.useBeacon=f.referrer=0},f.Aa=[],f.registerPreTrackCallback=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);"function"==typeof e?f.Aa.push([e,t]):f.debugTracking&&f.C("DEBUG: Non function type passed to registerPreTrackCallback")},f.fb=function(e){f.ua(f.Aa,e)},f.za=[],f.registerPostTrackCallback=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);"function"==typeof e?f.za.push([e,t]):f.debugTracking&&f.C("DEBUG: Non function type passed to registerPostTrackCallback")},f.eb=function(e){f.ua(f.za,e)},f.ua=function(e,t){if("object"==_typeof2(e))for(var n=0;n<e.length;n++){var r=e[n][0],i=e[n][1].slice();if(i.unshift(t),"function"==typeof r)try{r.apply(null,i)}catch(e){f.debugTracking&&f.C(e.message)}}},f.tl=f.trackLink=function(e,t,n,r,i){return f.linkObject=e,f.linkType=t,f.linkName=n,i&&(f.bodyClickTarget=e,f.bodyClickFunction=i),f.track(r)},f.trackLight=function(e,t,n,r){return f.lightProfileID=e,f.lightStoreForSeconds=t,f.lightIncrementBy=n,f.track(r)},f.clearVars=function(){var e,t;for(e=0;e<f.g.length;e++)"prop"!=(t=f.g[e]).substring(0,4)&&"eVar"!=t.substring(0,4)&&"hier"!=t.substring(0,4)&&"list"!=t.substring(0,4)&&"channel"!=t&&"events"!=t&&"eventList"!=t&&"products"!=t&&"productList"!=t&&"purchaseID"!=t&&"transactionID"!=t&&"state"!=t&&"zip"!=t&&"campaign"!=t||(f[t]=void 0)},f.tagContainerMarker="",f.qb=function(e,t){var n=f.gb()+"/"+e+"?AQB=1&ndh=1&pf=1&"+(f.xa()?"callback=s_c_il["+f._in+"].doPostbacks&et=1&":"")+t+"&AQE=1";f.fb(n),f.cb(n),f.U()},f.gb=function(){var e=f.hb();return"http"+(f.ssl?"s":"")+"://"+e+"/b/ss/"+f.account+"/"+(f.mobile?"5.":"")+(f.xa()?"10":"1")+"/JS-"+f.version+(f.Yb?"T":"")+(f.tagContainerMarker?"-"+f.tagContainerMarker:"")},f.xa=function(){return f.AudienceManagement&&f.AudienceManagement.isReady()||0!=f.usePostbacks},f.hb=function(){var e=f.dc,t=f.trackingServer;return t?f.trackingServerSecure&&f.ssl&&(t=f.trackingServerSecure):("d1"==(e=e?(""+e).toLowerCase():"d1")?e="112":"d2"==e&&(e="122"),t=f.jb()+"."+e+".2o7.net"),t},f.jb=function(){var e=f.visitorNamespace;return e||(e=(e=f.account.split(",")[0]).replace(/[^0-9a-z]/gi,"")),e},f.Ya=/{(%?)(.*?)(%?)}/,f.bc=RegExp(f.Ya.source,"g"),f.Ib=function(e){if("object"==_typeof2(e.dests))for(var t=0;t<e.dests.length;++t){var n=e.dests[t];if("string"==typeof n.c&&"aa."==n.id.substr(0,3))for(var r=n.c.match(f.bc),i=0;i<r.length;++i){var a=r[i],o=a.match(f.Ya),s="";"%"==o[1]&&"timezone_offset"==o[2]?s=(new Date).getTimezoneOffset():"%"==o[1]&&"timestampz"==o[2]&&(s=f.Mb()),n.c=n.c.replace(a,f.escape(s))}}},f.Mb=function(){var e=new Date,t=new Date(6e4*Math.abs(e.getTimezoneOffset()));return f.k(4,e.getFullYear())+"-"+f.k(2,e.getMonth()+1)+"-"+f.k(2,e.getDate())+"T"+f.k(2,e.getHours())+":"+f.k(2,e.getMinutes())+":"+f.k(2,e.getSeconds())+(0<e.getTimezoneOffset()?"-":"+")+f.k(2,t.getUTCHours())+":"+f.k(2,t.getUTCMinutes())},f.k=function(e,t){return(Array(e+1).join(0)+t).slice(-e)},f.pa={},f.doPostbacks=function(e){if("object"==_typeof2(e))if(f.Ib(e),"object"==_typeof2(f.AudienceManagement)&&"function"==typeof f.AudienceManagement.isReady&&f.AudienceManagement.isReady()&&"function"==typeof f.AudienceManagement.passData)f.AudienceManagement.passData(e);else if("object"==_typeof2(e)&&"object"==_typeof2(e.dests))for(var t=0;t<e.dests.length;++t){var n=e.dests[t];"object"==_typeof2(n)&&"string"==typeof n.c&&"string"==typeof n.id&&"aa."==n.id.substr(0,3)&&(f.pa[n.id]=new Image,f.pa[n.id].alt="",f.pa[n.id].src=n.c)}},f.cb=function(e){f.i||f.Qb(),f.i.push(e),f.ia=f.A(),f.Wa()},f.Qb=function(){f.i=f.Tb(),f.i||(f.i=[])},f.Tb=function(){var e,t;if(f.oa()){try{(t=d.localStorage.getItem(f.ma()))&&(e=d.JSON.parse(t))}catch(e){}return e}},f.oa=function(){var e=!0;return f.trackOffline&&f.offlineFilename&&d.localStorage&&d.JSON||(e=!1),e},f.Ma=function(){var e=0;return f.i&&(e=f.i.length),f.l&&e++,e},f.U=function(){if(!f.l||(f.v&&f.v.complete&&f.v.D&&f.v.R(),!f.l))if(f.Na=h,f.na)f.ia>f.N&&f.Ua(f.i),f.qa(500);else{var e=f.Cb();0<e?f.qa(e):(e=f.Ka())&&(f.l=1,f.Ub(e),f.Xb(e))}},f.qa=function(e){f.Na||(e=e||0,f.Na=setTimeout(f.U,e))},f.Cb=function(){var e;return!f.trackOffline||f.offlineThrottleDelay<=0?0:(e=f.A()-f.Sa,f.offlineThrottleDelay<e?0:f.offlineThrottleDelay-e)},f.Ka=function(){if(0<f.i.length)return f.i.shift()},f.Ub=function(e){if(f.debugTracking){var t,n="AppMeasurement Debug: "+e;for(e=e.split("&"),t=0;t<e.length;t++)n+="\n\t"+f.unescape(e[t]);f.C(n)}},f.wa=function(){return f.marketingCloudVisitorID||f.analyticsVisitorID},f.X=!1;try{r=JSON.parse('{"x":"y"}')}catch(e){r=null}for(r&&"y"==r.x?(f.X=!0,f.W=function(e){return JSON.parse(e)}):d.$$APPMEASUREMENT_CORE&d.$.parseJSON?(f.W=function(e){return d.$.parseJSON(e)},f.X=!0):f.W=function(){return null},f.Xb=function(e){var t,n,r;if(f.lb(e)&&(n=1,t={send:function(e){f.useBeacon=!1,navigator.sendBeacon(e)?t.R():t.ga()}}),!t&&f.wa()&&2047<e.length&&(f.$a()&&(n=2,t=new XMLHttpRequest),t&&(f.AudienceManagement&&f.AudienceManagement.isReady()||0!=f.usePostbacks)&&(f.X?t.Fa=!0:t=0)),!t&&f.Xa&&(e=e.substring(0,2047)),!t&&f.d.createElement&&(0!=f.usePostbacks||f.AudienceManagement&&f.AudienceManagement.isReady())&&(t=f.d.createElement("SCRIPT"))&&"async"in t&&((r=(r=f.d.getElementsByTagName("HEAD"))&&r[0]?r[0]:f.d.body)?(t.type="text/javascript",t.setAttribute("async","async"),n=3):t=0),t||((t=new Image).alt="",t.abort||void 0===d.InstallTrigger||(t.abort=function(){t.src=h})),t.Ta=Date.now(),t.Ha=function(){try{t.D&&(clearTimeout(t.D),t.D=0)}catch(e){}},t.onload=t.R=function(){if(t.Ta&&(f.ja=Date.now()-t.Ta),f.eb(e),t.Ha(),f.Gb(),f.ca(),f.l=0,f.U(),t.Fa){t.Fa=!1;try{f.doPostbacks(f.W(t.responseText))}catch(e){}}},t.onabort=t.onerror=t.ga=function(){t.Ha(),(f.trackOffline||f.na)&&f.l&&f.i.unshift(f.Fb),f.l=0,f.ia>f.N&&f.Ua(f.i),f.ca(),f.qa(500)},t.onreadystatechange=function(){4==t.readyState&&(200==t.status?t.R():t.ga())},f.Sa=f.A(),1===n)t.send(e);else if(2===n)r=e.indexOf("?"),n=e.substring(0,r),r=(r=e.substring(r+1)).replace(/&callback=[a-zA-Z0-9_.\[\]]+/,""),t.open("POST",n,!0),t.withCredentials=!0,t.send(r);else if(t.src=e,3===n){if(f.Qa)try{r.removeChild(f.Qa)}catch(e){}r.firstChild?r.insertBefore(t,r.firstChild):r.appendChild(t),f.Qa=f.v}t.D=setTimeout(function(){t.D&&(t.complete?t.R():(f.trackOffline&&t.abort&&t.abort(),t.ga()))},5e3),f.Fb=e,f.v=d["s_i_"+f.replace(f.account,",","_")]=t,(f.useForcedLinkTracking&&f.J||f.bodyClickFunction)&&(f.forcedLinkTrackingTimeout||(f.forcedLinkTrackingTimeout=250),f.da=setTimeout(f.ca,f.forcedLinkTrackingTimeout))},f.lb=function(e){var t=!1;return navigator.sendBeacon&&(f.nb(e)?t=!0:f.useBeacon&&(t=!0)),f.vb(e)&&(t=!1),t},f.nb=function(e){return!!(e&&0<e.indexOf("pe=lnk_e"))},f.vb=function(e){return 64e3<=e.length},f.$a=function(){return"undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest},f.Gb=function(){if(f.oa()&&!(f.Ra>f.N))try{d.localStorage.removeItem(f.ma()),f.Ra=f.A()}catch(e){}},f.Ua=function(e){if(f.oa()){f.Wa();try{d.localStorage.setItem(f.ma(),d.JSON.stringify(e)),f.N=f.A()}catch(e){}}},f.Wa=function(){if(f.trackOffline)for((!f.offlineLimit||f.offlineLimit<=0)&&(f.offlineLimit=10);f.i.length>f.offlineLimit;)f.Ka()},f.forceOffline=function(){f.na=!0},f.forceOnline=function(){f.na=!1},f.ma=function(){return f.offlineFilename+"-"+f.visitorNamespace+f.account},f.A=function(){return(new Date).getTime()},f.Oa=function(e){return 0!=(e=e.toLowerCase()).indexOf("#")&&0!=e.indexOf("about:")&&0!=e.indexOf("opera:")&&0!=e.indexOf("javascript:")},f.setTagContainer=function(){}