!function(){function e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function n(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function t(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&a(e,n)}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e,n){return(a=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function s(e,n,t){return(s=u()?Reflect.construct:function(e,n,t){var r=[null];r.push.apply(r,n);var i=new(Function.bind.apply(e,r));return t&&a(i,t.prototype),i}).apply(null,arguments)}function c(e){var n="function"==typeof Map?new Map:void 0;return(c=function(e){if(null===e||(t=e,-1===Function.toString.call(t).indexOf("[native code]")))return e;var t;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(e))return n.get(e);n.set(e,r)}function r(){return s(e,arguments,o(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),a(r,e)})(e)}function f(e,n){return!n||"object"!=typeof n&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function l(e){var n=u();return function(){var t,r=o(e);if(n){var i=o(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return f(this,t)}}function d(e,n,t){return(d="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,n,t){var r=function(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&null!==(e=o(e)););return e}(e,n);if(r){var i=Object.getOwnPropertyDescriptor(r,n);return i.get?i.get.call(t):i.value}})(e,n,t||e)}function h(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var t=[],r=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(t.push(a.value),!n||t.length!==n);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}return t}(e,n)||m(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||m(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,n){if(e){if("string"==typeof e)return v(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?v(e,n):void 0}}function v(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var g=function(n){i(r,n);var t=l(r);function r(){return e(this,r),t.apply(this,arguments)}return r}(c(Error)),y=function(n){i(r,n);var t=l(r);function r(){return e(this,r),t.apply(this,arguments)}return r}(c(Error)),w=function(n){i(r,n);var t=l(r);function r(){return e(this,r),t.apply(this,arguments)}return r}(c(Error)),b=function(n){i(r,n);var t=l(r);function r(){return e(this,r),t.apply(this,arguments)}return r}(w),_=function(n){i(r,n);var t=l(r);function r(){return e(this,r),t.apply(this,arguments)}return r}(w),S=function(n){i(r,n);var t=l(r);function r(){return e(this,r),t.apply(this,arguments)}return r}(_);function j(e){if(!Array.isArray(e))throw new y("Provided argument must be an instance of Array.")}function A(e){return!!Array.isArray(e)&&e.every((function(e){return"number"==typeof e}))}function O(e,n,t){var r,i,o,a=null===(i=null===(r=null==t?void 0:t.decision_thresholds)||void 0===r?void 0:r[e])||void 0===i?void 0:i[n.modelId];if(void 0!==a)return a;if(void 0!==(a=null===(o=null==t?void 0:t.performance_targets)||void 0===o?void 0:o[e]))return a;throw new _("Could not determine the decision threshold for target ".concat(e,": the TargetingProfileConfig contains neither a precision target or decision threshold!"))}function k(e){return 1/(1+Math.exp(-e))}var C=function(){function n(t){e(this,n),this.feature=t}return t(n,[{key:"transform",value:function(e){if(!(this.feature in e))throw new S("Unable to transform feature ".concat(this.feature,", missing input ").concat(this.feature,". \n                    Provided: ").concat(Object.keys(e),", Required: ").concat(this.dependencies));return e[this.feature]}},{key:"dependencies",get:function(){return[this.feature]}}]),n}(),P=function(n){i(o,n);var r=l(o);function o(n,t){var i;return e(this,o),(i=r.call(this,n)).interactions=t,i}return t(o,[{key:"transform",value:function(e){for(var n=this,t=this.interactions.map((function(t){if(!(t in e))throw new S("Unable to transform feature ".concat(n.feature,", missing input ").concat(t,".\n                    Provided: ").concat(Object.keys(e),", Required: ").concat(n.dependencies));return e[t]})).sort((function(e,n){return n.length-e.length})),r=0;r<t.length-1;r++){if(1!==t[r].length&&t[r].length!==t[r+1].length&&1!==t[r+1].length)throw new S("Unable to perform MultiplicativeInteraction: shapes can not be broadcasted.");if(!A(t[r]))throw new S("Unable to perform MultiplicativeInteraction: not all inputs are of type number[]")}for(var i=p(t[0]),o=1;o<t.length;o++)for(var a=0;a<i.length;a++)t[o].length>1?i[a]=i[a]*t[o][a]:i[a]=i[a]*t[o][0];return i}},{key:"dependencies",get:function(){return this.interactions}}]),o}(C),E=function(n){i(o,n);var r=l(o);function o(n,t,i){var a;return e(this,o),(a=r.call(this,n)).input=t,a.value=i,a}return t(o,[{key:"transform",value:function(e){if(!(this.input in e))throw new S("Unable to transform feature '".concat(this.feature,"'. Missing required input '").concat(this.input,"'."));var n=e[this.input];if(n.length!==this.value.length)return[0];for(var t=0;t<n.length;t++)if(n[t]!==this.value[t])return[0];return[1]}},{key:"dependencies",get:function(){return[this.input]}}]),o}(C),R=function(n){i(o,n);var r=l(o);function o(n,t,i,a){var u;return e(this,o),(u=r.call(this,n)).input=t,u.min=i,u.max=a,u}return t(o,[{key:"transform",value:function(e){if(!(this.input in e))throw new S("Unable to transform feature '".concat(this.feature,"'. Missing required input '").concat(this.input,"'."));for(var n=p(e[this.input]),t=0;t<n.length;t++)this.min&&n[t]<this.min?n[t]=this.min:this.max&&n[t]>this.max&&(n[t]=this.max);return n}},{key:"dependencies",get:function(){return[this.input]}}]),o}(C),I=function(n){i(o,n);var r=l(o);function o(n,t,i,a){var u;return e(this,o),(u=r.call(this,n)).input=t,u.min=i,u.scale=a,u}return t(o,[{key:"transform",value:function(e){if(!(this.input in e))throw new S("Unable to transform feature '".concat(this.feature,"'. Missing required input '").concat(this.input,"'."));var n=e[this.input];if(n.length!==this.min.length||n.length!==this.scale.length)throw new S("Unable to transform feature '".concat(this.feature,"'. Shapes do not match."));if(!A(n))throw new S("Unable to transform feature '".concat(this.feature,"'. The input must be an array of numbers."));for(var t=new Array(n.length),r=0;r<n.length;r++)t[r]=this.scale[r]*n[r]+this.min[r];return t}},{key:"dependencies",get:function(){return[this.input]}}]),o}(C);function T(e){return"type"in e&&"string"==typeof e.type}function x(e){if(!e.transformation)return new C(e.name);if(T(n=e.transformation)&&"multiplication"===n.type)return new P(e.name,e.transformation.features);var n;if(function(e){return T(e)&&"equality"===e.type}(e.transformation))return new E(e.name,e.transformation.input,e.transformation.value);if(function(e){return T(e)&&"clipping"===e.type}(e.transformation))return new R(e.name,e.transformation.input,e.transformation.min,e.transformation.max);if(function(){}