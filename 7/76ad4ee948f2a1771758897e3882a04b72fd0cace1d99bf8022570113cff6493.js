(window.wpJsonpKinderlime=window.wpJsonpKinderlime||[]).push([[5],[,,function(e,t,n){"use strict";(function(e){var r,o,a,i=n(0),l=n.n(i),c=n(1),s=n.n(c),u=n(7),p=n.n(u),f=n(66),d=n.n(f),m=n(43),y=n.n(m),b=n(122),h=n(496),v=n(157),g=n(189),_=n(498),w=n(499),x=n(501),O=n(503),k=n(190),j=n(505),E=n(506),S=n(507),P=n(508),C=n(509),N=n(511),z=n(512),R=n(513),T=n(515),D=n(516),I=n(517),A=n(160),M=n(193),L=n.n(M);n(1017);function B(e){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){W(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function U(e,t){return(U=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function H(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=K(e);if(t){var o=K(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Y(this,n)}}function Y(e,t){if(t&&("object"===B(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function K(e){return(K=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function W(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Z(e,t,n,r,o){var a={};return Object.keys(r).forEach((function(e){a[e]=r[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var G=(a=o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&U(e,t)}(a,e);var t,n,r,o=H(a);function a(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(e=o.call(this)).state={values:{},validations:{},validationParams:{},errorsOnSubmit:null,isInitialized:!1},e._fieldData={},e}return t=a,(n=[{key:"getChildContext",value:function(){return{values:this.state.values,validations:this.state.validations,validationParams:this.state.validationParams,errors:this.props.errors,validateOn:this.props.validateOn,isLoading:this.props.isLoading,init:this.initializeField.bind(this),unmount:this.unmountField,update:this.updateField.bind(this),validate:this.validateField.bind(this),submit:this.handleSubmit.bind(this),link:this.linkFields.bind(this),isFormValid:this.isFormValid.bind(this),updateValidations:this.updateValidations.bind(this)}}},{key:"componentDidMount",value:function(){this.initializeFormState()}},{key:"componentWillUpdate",value:function(e,t){this.props.onChange&&!d()(this.state,t)&&this.state.isInitialized&&this.props.onChange(L()(t.values))}},{key:"initializeField",value:function(e,t,n){this.state.isInitialized?this.setState((function(r){return{values:V(V({},r.values),{},W({},e,t)),validations:V(V({},r.validations),{},W({},e,V({},n))),validationParams:V(V({},r.validationParams),{},W({},e,V({},n)))}})):this._fieldData[e]={initialValue:t,validations:V({},n)}}},{key:"initializeFormState",value:function(){var e=this,t=V(V({},this.state),{},{isInitialized:!0});Object.keys(this._fieldData).forEach((function(n){t.validations[n]=V({},e._fieldData[n].validations),t.validationParams[n]=V({},e._fieldData[n].validations),t.values[n]=e._fieldData[n].initialValue})),this.setState(V(V({},t),{},{isInitialized:!0}),(function(){e.props.onInit&&e.props.onInit(e.state.values)}))}},{key:"unmountField",value:function(e){this.setState((function(t){var n=V(V({},t),{},{values:y()(t.values,e),validations:y()(t.validations,e),validationParams:y()(t.validationParams,e)});return n.linkedFields&&n.linkedFields[e]&&(n.linkedFields=y()(n.linkedFields,e)),n}))}},{key:"updateField",value:function(e,t){this.setState((function(n){var r=n.values,o=n.validations,a=o[e];return a&&Object.keys(a).forEach((function(e){a[e]=null})),{values:V(V({},r),{},W({},e,t)),validations:V(V({},o),{},W({},e,a))}}))}},{key:"linkFields",value:function(e,t){var n=this.state.linkedFields||{};n[e]=t;var r=V(V({},this.state),{},{linkedFields:n});this.setState(r)}},{key:"validateField",value:function(e){var t=this.state,n=t.values,r=t.validationParams,o=t.linkedFields,a=n[e],i=V({},this.state.validations[e]),l=o?{linkedFields:o,fieldName:e}:{};l.values=n;for(var c=!0,s=0,u=Object.keys(i);s<u.length;s++){var p=u[s];if(l[p]=r[e][p],i[p]=A.a[p](a,l),!i[p]){c=!1;break}}return this.setState({validations:V(V({},this.state.validations),{},W({},e,i))}),c}},{key:"isFormValid",value:function(){if(this.props.isLoading)return!1;var e=this.state,t=e.values,n=e.validationParams,r=e.linkedFields,o=!0;e:for(var a=0,i=Object.keys(t);a<i.length;a++){var l=i[a],c=V({},this.state.validations[l]),s=r?{linkedFields:r,fieldName:l}:{};s.values=t;for(var u=0,p=Object.keys(c);u<p.length;u++){var f=p[u];if(s[f]=n[l][f],c[f]=A.a[f](t[l],s),!c[f]){o=!1;break e}}}return o}},{key:"validateForm",value:function(){var e=this,t=this.state,n=t.values,r=t.validationParams,o=t.linkedFields,a={};return Object.keys(this.state.validations).forEach((function(t){var i=n[t],l=V({},e.state.validations[t]),c=o?{linkedFields:o,fieldName:t}:{};c.values=n;for(var s=0,u=Object.keys(l);s<u.length;s++){var p=u[s];c[p]=r[t][p],l[p]=A.a[p](i,c)}a[t]=l})),this.setState({validations:a}),a}},{key:"handleSubmit",value:function(e){if(e&&e.preventDefault(),"submit"===this.props.validateOn){var t=this.validateForm();this.props.onValidate&&this.props.onValidate(this.state.values,Object.keys(t).reduce((function(e,n){return e[n]=Object.values(t[n]).every((function(e){return!!e})),e}),{}))}this.isFormValid()&&this.props.onSubmit&&this.props.onSubmit(this.state.values,this.initializeFormState)}},{key:"updateValidations",value:function(e,t){var n=this.state,r=n.values,o=n.validationParams,a=n.linkedFields,i=r[e],l=V({},t),c=a?{linkedFields:a,fieldName:e}:{};if(c.values=r,"submit"!==this.props.validateOn)for(var s=0,u=Object.keys(l);s<u.length;s++){var p=u[s];c[p]=o[e][p],l[p]=A.a[p](i,c)}this.setState((function(t){return{validations:V(V({},t.validations),{},W({},e,l))}}))}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.formRef,r=e.children,o=e["data-cy"],a=p()(W({form:!0,"form--invalid":!this.isFormValid()},t,Boolean(t)));return l.a.createElement("form",{"data-cy":o,className:a,onSubmit:this.handleSubmit,ref:n},r)}}])&&q(t.prototype,n),r&&q(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.Component),W(o,"Submit",h.a),W(o,"Input",b.a),W(o,"Select",v.a),W(o,"Checkbox",g.a),W(o,"Textarea",_.a),W(o,"TimeInput",O.a),W(o,"SignFilter",w.a),W(o,"AgeFilter",x.a),W(o,"DatePicker",k.a),W(o,"Typeahead",j.a),W(o,"MonthPicker",E.a),W(o,"FileInput",S.a),W(o,"WeekdayPicker",P.a),W(o,"ScheduleSelect",C.a),W(o,"DateFilter",N.a),W(o,"CustomAttribute",z.a),W(o,"UploadFile",R.a),W(o,"CheckboxGroup",T.a),W(o,"RadioGroup",D.a),W(o,"SearchTermsInput",I.a),W(o,"propTypes",{onSubmit:s.a.func,onChange:s.a.func,onInit:s.a.func,isLoading:s.a.bool,errors:s.a.oneOfType([s.a.array,s.a.object]),className:s.a.string,validateOn:s.a.oneOf(["change","submit"]),formRef:s.a.func,"data-cy":s.a.string}),W(o,"childContextTypes",{values:s.a.object,validations:s.a.object,validationParams:s.a.object,errors:s.a.oneOfType([s.a.object,s.a.array]),validateOn:s.a.string,isLoading:s.a.bool,init:s.a.func,unmount:s.a.func,update:s.a.func,validate:s.a.func,submit:s.a.func,link:s.a.func,isFormValid:s.a.func,updateValidations:s.a.func}),W(o,"defaultProps",{errors:{}}),Z((r=a).prototype,"initializeFormState",[e],Object.getOwnPropertyDescriptor(r.prototype,"initializeFormState"),r.prototype),Z(r.prototype,"unmountField",[e],Object.getOwnPropertyDescriptor(r.prototype,"unmountField"),r.prototype),Z(r.prototype,"handleSubmit",[e],Object.getOwnPropertyDescriptor(r.prototype,"handleSubmit"),r.prototype),Z(r.prototype,"updateValidations",[e],Object.getOwnPropertyDescriptor(r.prototype,"updateValidations"),r.prototype),r);t.a=G}).call(this,n(4).bind)},,,,function(e,t,n){"use strict";(function(e){var r,o,a,i=n(0),l=n.n(i),c=n(1),s=n.n(c),u=n(7),p=n.n(u),f=n(13);n(951);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var o=g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v(this,n)}}function v(e,t){if(t&&("object"===d(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w,x,O,k,j,E,S=(a=o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(a,e);var t,n,r,o=h(a);function a(){return m(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"handleClick",value:function(e){this.props.disabled||this.props.onClick&&this.props.onClick(e)}},{key:"render",value:function(){var e=this.props,t=e.title,n=e.iconName,r=e.size,o=e.color,a=e.className,i=e.disabled,c=e.hidden,s=e.square,u=e.circle,d=e["data-cy"],m=p()(_({"action-button":!0,"action-button--disabled":i,"action-button--square":s,"action-button--circle":u},a,Boolean(a)));return c||!n&&!t?null:l.a.createElement("div",{className:m,onClick:this.handleClick,"data-cy":d},n&&l.a.createElement(f.a,{name:n,size:r,color:o}),t&&l.a.createElement("span",{className:"action-button__title"},t))}}])&&y(t.prototype,n),r&&y(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.PureComponent),_(o,"propTypes",{size:s.a.oneOfType([s.a.string,s.a.number]),title:s.a.string,iconName:s.a.string,color:s.a.string,className:s.a.string,onClick:s.a.func,disabled:s.a.bool,square:s.a.bool,circle:s.a.bool,hidden:s.a.bool,"data-cy":s.a.string}),_(o,"defaultProps",{size:18,hidden:!1}),w=(r=a).prototype,x="handleClick",O=[e],k=Object.getOwnPropertyDescriptor(r.prototype,"handleClick"),j=r.prototype,E={},Object.keys(k).forEach((function(e){E[e]=k[e]})),E.enumerable=!!E.enumerable,E.configurable=!!E.configurable,("value"in E||E.initializer)&&(E.writable=!0),E=O.slice().reverse().reduce((function(e,t){return t(w,x,e)||e}),E),j&&void 0!==E.initializer&&(E.value=E.initializer?E.initializer.call(j):void 0,E.initializer=void 0),void 0===E.initializer&&(Object.defineProperty(w,x,E),E=null),r);t.a=S}).call(this,n(4).bind)},,,,function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(1),i=n.n(a),l=n(7),c=n.n(l),s=n(18),u=n(13);n(646);var p=function(e){var t,n,r,a=e.label,i=e.type,l=e.onClick,p=e.wide,f=e.secondary,d=e.tertiary,m=e.light,y=e.className,b=e.disabled,h=e.danger,v=e.success,g=e.isLoading,_=e.tabIndex,w=e.star,x=e.iconName,O=e.iconSize,k=e["data-cy"],j=c()((t={button:!0,"button--wide":p,"button--secondary":f,"button--tertiary":d,"button--light":m,"button--danger":h,"button--success":v,"button--star":w,"button--loading":g},n=y,r=Boolean(y),n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t));return o.a.createElement("button",{type:i,className:j,onClick:l,disabled:g||b,tabIndex:_,"data-cy":k},w&&o.a.createElement(u.a,{className:"icon__star",name:"premium-star",size:18}),x&&o.a.createElement(u.a,{className:"button__icon",name:x,size:O}),g&&o.a.createElement(s.a,{small:!0,className:"button__preloader"}),o.a.createElement("span",{className:"button__label"},a))};p.propTypes={type:i.a.string,label:i.a.string,onClick:i.a.func,wide:i.a.bool,className:i.a.string,disabled:i.a.bool,isLoading:i.a.bool,danger:i.a.bool,star:i.a.bool,tabIndex:i.a.number,secondary:i.a.bool,light:i.a.bool,iconName:i.a.string,iconSize:i.a.oneOfType([i.a.string,i.a.number])},t.a=p},,function(e,t,n){"use strict";n.d(t,"cb",(function(){return E})),n.d(t,"db",(function(){return S})),n.d(t,"b",(function(){return P})),n.d(t,"r",(function(){return C})),n.d(t,"a",(function(){return N})),n.d(t,"i",(function(){return z})),n.d(t,"bb",(function(){return R})),n.d(t,"q",(function(){return T})),n.d(t,"o",(function(){return D})),n.d(t,"X",(function(){return I})),n.d(t,"S",(function(){return A})),n.d(t,"x",(function(){return M})),n.d(t,"m",(function(){return L})),n.d(t,"k",(function(){return F})),n.d(t,"l",(function(){return B})),n.d(t,"ab",(function(){return be})),n.d(t,"O",(function(){return V})),n.d(t,"Q",(function(){return q})),n.d(t,"s",(function(){return U})),n.d(t,"K",(function(){return Y})),n.d(t,"F",(function(){return K})),n.d(t,"y",(function(){return W})),n.d(t,"Y",(function(){return G})),n.d(t,"h",(function(){return $})),n.d(t,"G",(function(){return Q})),n.d(t,"u",(function(){return X})),n.d(t,"N",(function(){return J})),n.d(t,"L",(function(){return H})),n.d(t,"w",(function(){return ee})),n.d(t,"z",(function(){return ne})),n.d(t,"A",(function(){return te})),n.d(t,"B",(function(){return re})),n.d(t,"g",(function(){return oe})),n.d(t,"M",(function(){return le})),n.d(t,"R",(function(){return ce})),n.d(t,"Z",(function(){return ue})),n.d(t,"n",(function(){return fe})),n.d(t,"T",(function(){return de})),n.d(t,"v",(function(){return me})),n.d(t,"V",(function(){return ye})),n.d(t,"C",(function(){return pe})),n.d(t,"p",(function(){return he})),n.d(t,"I",(function(){return se})),n.d(t,"J",(function(){return ae})),n.d(t,"t",(function(){return ie})),n.d(t,"D",(function(){return ve})),n.d(t,"W",(function(){return ge})),n.d(t,"E",(function(){return _e})),n.d(t,"P",(function(){return we})),n.d(t,"H",(function(){return xe})),n.d(t,"U",(function(){return Oe})),n.d(t,"c",(function(){return ke})),n.d(t,"d",(function(){return je})),n.d(t,"e",(function(){return Ee})),n.d(t,"f",(function(){return Se})),n.d(t,"j",(function(){return Pe}));var r=n(56),o=n.n(r),a=n(166),i=n.n(a),l=n(617),c=n.n(l),s=n(456),u=n.n(s),p=n(11),f=n.n(p),d=n(188),m=n(3),y=n.n(m),b=["created_account","downloaded_mobile_app","created_siso_kid","added_kid","invited_teacher","invited_carer","added_daily_activities"],h=["created_account","downloaded_mobile_app",["invited_teacher","invited_carer"],"billing_tour","siso_tour","activities_tour","learning_tour","lead_tour"];function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w={"candidate.created":{label:"created",category:"candidate",id:"created"},"candidate.engaged":{label:"engaged",category:"candidate",id:"engaged"},"invitation.created":{label:"invitation sent",category:"invitation",id:"created"},"invitation.completed":{label:"invitation completed",category:"invitation",id:"completed"},"invitation.expired":{label:"invitation expired",category:"invitation",id:"expired"},"invitation.deleted":{label:"invitation cancelled",category:"invitation",id:"deleted"},"verification.created":{label:"verification created",category:"verification",id:"created"},"verification.completed":{label:"verification completed",category:"verification",id:"completed"},"verification.processed":{label:"verification processed",category:"verification",id:"processed"},"report.created":{label:"pending",category:"report",id:"created"},"report.updated":{label:"pending",category:"report",id:"updated"},"report.upgraded":{label:"pending",category:"report",id:"upgraded"},"report.completed":{label:"complete",highlight:!0,category:"report",id:"completed"},"report.suspended":{label:"suspended",category:"report",id:"suspended"},"report.resumed":{label:"pending",category:"report",id:"resumed"},"report.assessed":{label:"complete",highlight:!0,category:"report",id:"assessed"},"report.disputed":{category:"report",label:"dispute",id:"disputed"},"report.pre_adverse_action":{label:"complete",highlight:!0,category:"report",id:"pre_adverse_action"},"report.post_adverse_action":{label:"complete",highlight:!0,category:"report",id:"post_adverse_action"}},x=["candidate","verification","invitation","report"].reduce((function(e,t){return g(g({},e),{},_({},t,t))}),{}),O=n(57),k=n(35);function j(e,t,n,r,o,a,i){try{var l=e[a](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}var E=function(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)},S=function(e){var t=Number(e);return t===Math.round(t)&&t>0},P=function(e){return e[0].toUpperCase()+e.slice(1)},C=function(e){for(var t=0,n=0;n<e.length;n++)t=e.charCodeAt(n)+((t<<5)-t);for(var r="#",o=0;o<3;o++){r+=("00"+(t>>8*o&255).toString(16)).substr(-2)}return r},N=function(e,t,n){var r=(t.search||"").toLowerCase().trim();return e.filter((function(e){var o=!1;t.includeParents&&e.parents.length>0&&r.length>0&&(o=e.parents.map((function(e){return e.name.toLowerCase().trim()})).filter((function(e){return e.indexOf(r)>=0})).length>0);var a=e.name.toLowerCase().trim(),i=0===r.length||a.indexOf(r)>=0||o,l=!t.roomId||e.current_section_id===t.roomId||e.section_id===t.roomId,c=!t.registration_status||e.registration_status===t.registration_status,s=void 0===t.isSignedIn||e.is_signed_in===t.isSignedIn,u=!t.tagIds||0===t.tagIds.length||t.tagIds.some((function(t){return e.tag_ids&&e.tag_ids.includes(t)})),p=!n||n(e,t);return i&&l&&c&&u&&s&&p}))},z=function(e,t){return e.length<=t?e:"".concat(e.substr(0,t),"...")},R=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e)return"";var r=[e.street_address,e.city,e.state,e.zip],o=t[e.country_code]||e.country_code;return o&&r.push(o),n?r.find(Boolean):r.filter(Boolean).join(", ")},T=function(e){return e.last_name?"".concat(e.first_name," ").concat(e.last_name):e.first_name},D=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(isNaN(e))return"0";var n=function(e){return"".concat(e%1!=0?e.toFixed(2):e).replace(/(\d)(?=(\d{3})+(\.|$))/g,"$1,")},r=parseInt(e,10);return t?Math.abs(r)<1e4?n(r):Math.abs(r)<1e6?"".concat(n(r/1e3),"K"):"".concat(n(r/1e3/1e3),"M"):n(r)},I=function(e,t){switch(e){case"month":return t?"Mo":"Month";case"year":return t?"Yr":"Year";default:return e}},A=function(e,t,n){for(var r=e.target;r&&r!==t&&r!==document.body;)r=r.parentNode;r&&r!==t&&n()},M=function(e){var t=Math.floor(e),n=Math.round(60*(e-t)),r="";return t&&(r+="".concat(t," ").concat(1===t?"Hr":"Hrs"," ")),n&&(r+="".concat(n," ").concat(1===n?"Min":"Mins")),e>0&&!r?"1 Min":r.trim()||"0 Hr"},L=function(e,t){var n=window.open("about:blank");return n.document.body.innerHTML="please wait...",req[t](e).then((function(e){return n.document.write(e)})).catch((function(){return n.document.write("Sorry, something went wrong. Try later.")}))},B=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n,r,a,l=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.length>1&&void 0!==l[1]?l[1]:"procare.pdf",e.prev=1,e.next=4,o.a.get(t,{responseType:"blob"});case 4:r=e.sent,i.a.saveAs(r.data,n),e.next=18;break;case 8:e.prev=8,e.t0=e.catch(1),(a=document.createElement("a")).setAttribute("href",t),a.setAttribute("download",n),a.setAttribute("target","_blank"),a.style.display="none",document.body.appendChild(a),a.click(),document.body.removeChild(a);case 18:case"end":return e.stop()}}),e,null,[[1,8]])})),function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){j(a,r,o,i,l,"next",e)}function l(e){j(a,r,o,i,l,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}(),F=function(e,t){var n=document.createElement("a");n.setAttribute("href",e),n.setAttribute("download",t),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)},V=function(){var e,t=!1;return e=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0),t},q=function(){return window&&window.matchMedia("(pointer: coarse)").matches},U=function(){for(var e=[],t=0;t<4;t++)e.push(255*Math.random()|0);return e.join(".")},H=function(e){return["discount","subsidy","ledger"].includes(e)},Y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(0===e.length)return 0;var n=e.reduce((function(e,n){var r=0;return n._destroy||(r=Number("attendance"===t?n.price*n.quantity:n.price),"discount"!==n.kind&&"subsidy"!==n.kind&&"ledger"!==n.kind||(r=-ee(n)),r=isNaN(r)?0:r),e+r}),0);return Math.round(n)===n?n:n.toFixed(2)};function K(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.response?W(e.response.data,n):e.message||t}function W(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.form_errors||e,r=function(e){return c()(e.split(".").pop())};return n?n.error_message?n.error_message:Object.keys(n).map((function(e){var o=t[e]||r(e)||"";return o.toLowerCase().indexOf("error")>-1&&(o=""),(Array.isArray(n[e])?n[e]:[n[e]]).map((function(e){return"".concat(o," ").concat(e).trim()})).join(".\n")})).join(".\n"):""}var Z=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/;var G=function(e){!function(e){var t="https://www.youtube.com/embed/".concat(e,"?rel=0");Actions.showModal("VideoViewer",{videos:[{video_file_url:t,youtube:!0}]},{className:"modal--full"})}(function(e){var t=e.match(Z);return!(!t||!t[7]||11!=t[7].length)&&t[7]}(e))},$=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Date,r=e.replace("_activity",""),o={activity_time:n,data:{}};switch(r){case"incident":case"video":o.activiable={};break;case"bathroom":o.data.type=t.type||"Diaper",o.data.sub_type=t.sub_type;break;case"nap":o.data.start_time=n,o.data.end_time=y()(n).add(1,"h");break;case"photo":o.activiable={},o.data.photo_ids=t.photo_ids||[];break;case"observation":o.data.measure_ids=t.measure_ids||[]}return o},Q=function(e){return Array.isArray(e)?e[0]:e},X=function(e){return e=e.replace("_activity",""),"/assets/images/activities/".concat(e,".png")},J=function(){return-1!==navigator.userAgent.indexOf("MSIE")||navigator.appVersion.indexOf("Trident/")>0},ee=function(e){var t=e._discountType||"$",n=Number(e._discount||"0"),r=Number(e._base||0);return e._discount||e._discountType?"%"===t?Math.round(r*n)/100:n:-e.price||0},te=function(){return h},ne=function(e,t){return!!e&&(!b.every((function(n){return!0===e[n]||"added_daily_activities"===n&&"after_care"===t}))&&te().filter((function(t){return Array.isArray(t)?t.every((function(t){return!e[t]})):!e[t]})).length)},re=function(){return u()(te()).reduce((function(e,t){return e.onboarding_data[t]=!0,e}),{onboarding_data:{}})},oe=function(e){var t=document.createElement("textarea");t.innerText=e,document.body.appendChild(t),t.select();try{document.execCommand("copy"),Actions.showFlash("Copied to clipboard")}catch(e){}finally{document.body.removeChild(t)}},ae=function(e){return{home:"home",center:"center",center_crm:"center",center_curriculum:"center_curriculum",pro:"enterprise"}[f()(e,"subscription_category")]||"home"},ie=function(e){return"stripe"===e.billing_gateway?"stripe":"te"},le=function(e){return e&&e.online_subscription&&!e.corp_school&&("free"===e.subscription_plan||e.subscription&&e.subscription.is_halted)},ce=function(e){return!!e&&y()(e.trial_period_end_date,"YYYY-MM-DD").endOf("day").isAfter(new Date)},se=function(e,t){return!le(e)||t&&ce(e)?ae(e):"free"},ue=function(e,t){return 1!==e?"".concat(e," ").concat(t,"s"):"".concat(e," ").concat(t)},pe=function(e){var t=e%10,n=e%100,r="th";return 1==t&&11!=n&&(r="st"),2==t&&12!=n&&(r="nd"),3==t&&13!=n&&(r="rd"),"".concat(e).concat(r)},fe=function(e,t,n){for(var r=0,o=0;o<e.length;o+=1)if(t(e[o],o)){if(n===r)return o;r+=1}return-1},de=function(e,t,n){var r={};if(n)return t;var o=e,a=t;return Object.keys(o).forEach((function(e){switch(!0){case"none"===o[e]:case"none"===a[e]:return r[e]="none";case"read"===a[e]&&"write"===o[e]:case"read"===a[e]&&"read"===o[e]:case"write"===a[e]&&"read"===o[e]:return r[e]="read";case"write"===a[e]&&"write"===o[e]:return r[e]="write"}})),r},me=function(e){if(!Array.isArray(e)||!e.length)return[];var t=[];return e.sort((function(e,t){var n=y()(t.created_at).diff(y()(e.created_at));if(0===n){if("candidate.created"===e.type)return 1;if("candidate.created"===t.type)return-1}return n})).forEach((function(e){var n=w[e.type];n&&t.push({type:e.type,label:n.category===x.report?e.status:n.label,at:y()(e.created_at),invitation_url:e.invitation_url,report_url:e.report_url,highlight:n.highlight})})),t},ye=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Please wait...",n=window.open("about:blank");return null===n?(Actions.showFlash("Unable to open a new window","alert"),!1):(e?n.document.body.innerHTML=t:n.document.write(t),n)},be=function(e){var t=ye(!0);t&&(null!=e.match(/\.(jpeg|jpg|gif|png)(\?\d*)?$/)?t.document.writeln('<img src="'.concat(e,'">')):t.location=e)},he=function(e){var t=e.toString();if(!t.length)return e;var n=t.replace(/\W/g,"");return 10===n.length?Object(d.a)(n,"(999)-999-9999"):e},ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.months,n=e.option;if(Array.isArray(t)&&n){var r,o;switch(n){case"less":r=y()().subtract(t[0],"months").format("YYYY-MM-DD");break;case"greater":o=y()().subtract(t[0],"months").format("YYYY-MM-DD");break;case"range":o=y()().subtract(t[0],"months").format("YYYY-MM-DD"),r=y()().subtract(t[1],"months").format("YYYY-MM-DD")}return{gte:r,lte:o}}},ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";try{if(window.DOMParser){var t=new window.DOMParser,n=t.parseFromString(e,"text/html");return n.body}var r=document.createElement("div");return r.innerHTML=e,r}catch(e){return null}},_e=function(e,t){var n=f()(e,"permissions",{}),r=f()(t,"permissions",{}),o=f()(t,"procare_sync_enabled");return O.g.filter((function(e){return!("write"!==n[e.permission]||"write"!==r[e.permission]||e.hideOnProcareSync&&o)}))},we=function(e){return"home"!==ae(e)},xe=function(e,t){var n=(e.families||[]).find((function(e){return e.family_id===t}));return n&&n.sub_family?n.sub_family:[]},Oe=function(e,t){function n(){document[r]?t():e()}var r,o;return void 0!==document.hidden?(r="hidden",o="visibilitychange"):void 0!==document.msHidden?(r="msHidden",o="msvisibilitychange"):void 0!==document.webkitHidden&&(r="webkitHidden",o="webkitvisibilitychange"),void 0===document.addEventListener||void 0===r?null:(document.addEventListener(o,n,!1),function(){return document.removeEventListener(o,n)})},ke=function(e){if(e.length<3)return e.join(" and ");if(e.length<4)return"".concat(e[0],", ").concat(e[1]," and ").concat(e[2]);var t=e.slice(0,3).join(", "),n=e.length-3;return"".concat(t," and ").concat(n," more")},je=function(e){var t=[];return e?(Object.keys(e).forEach((function(n){e[n].indexOf("am")>-1&&t.push({day_index:k.e.indexOf(n),order_index:0}),e[n].indexOf("pm")>-1&&t.push({day_index:k.e.indexOf(n),order_index:1})})),t):[]},Ee=function(e){var t={M:[],T:[],W:[],Th:[],F:[],S:[],Su:[]};return e&&e.length?(e.filter((function(e){return!1!==e.is_enrolled})).forEach((function(e){var n=k.e[e.day_index];0===e.order_index?t[n].push("am"):1===e.order_index&&t[n].push("pm")})),Object.keys(t).forEach((function(e){t[e].length||delete t[e]})),t):{}},Se=function(e){var t={M:[],T:[],W:[],Th:[],F:[],S:[],Su:[]};return e&&e.length?(e.filter((function(e){return e.is_eligible||e.is_enrolled})).forEach((function(e){var n=k.e[e.day_index];0===e.order_index?t[n].push("am"):1===e.order_index&&t[n].push("pm")})),Object.keys(t).forEach((function(e){t[e].length||delete t[e]})),t):{}},Pe=function(e){return e.find((function(e){return e.day_index===k.e.indexOf("S")||e.day_index===k.e.indexOf("Su")}))}},function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(1),i=n.n(a),l=n(7),c=n.n(l);n(694);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var o=m(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(l,e);var t,r,a,i=f(l);function l(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(e=i.call(this)).state={icon:null},e}return t=l,(r=[{key:"componentWillMount",value:function(){this.setIcon()}},{key:"componentDidUpdate",value:function(e){e.name!==this.props.name&&this.setIcon()}},{key:"setIcon",value:function(){var e,t=this.props.name;try{e=n(696)("./".concat(t,".svg"))}catch(t){e=null}this.setState({icon:e})}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.size,r=e.color,a=e.onClick,i=e.width,l=e.height,s=e.resizeable,u=e["data-cy"],p=this.state.icon,f={};r&&(f.fill=r),s||(n&&(f.width=n+"px",f.minWidth=n+"px",f.height=n+"px"),i&&(f.width=i+"px",f.minWidth=i+"px"),l&&(f.height=l+"px"));var d={__html:p},m=c()("icon",y({},t,Boolean(t)));return o.a.createElement("div",{className:m,style:f,dangerouslySetInnerHTML:d,onClick:a,"data-cy":u})}}])&&u(t.prototype,r),a&&u(t,a),Object.defineProperty(t,"prototype",{writable:!1}),l}(r.Component);y(b,"propTypes",{name:i.a.string,width:i.a.number,height:i.a.number,color:i.a.string,size:i.a.oneOfType([i.a.number,i.a.string]),resizeable:i.a.bool,"data-cy":i.a.string}),y(b,"defaultProps",{name:"add",size:14}),t.a=b},function(e,t,n){"use strict";n.r(t),function(e){var r,o,a,i=n(0),l=n.n(i),c=n(1),s=n.n(c),u=n(259);n(1040);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var o=g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v(this,n)}}function v(e,t){if(t&&("object"===p(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w,x,O,k,j,E,S=(a=o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(a,e);var t,n,r,o=h(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this,e)).state={currentStep:e.startStep||0,totalSteps:l.a.Children.toArray(e.children).filter((function(e){return e&&e.props&&!e.props.hidden})).length||0,payload:{}},t}return t=a,(n=[{key:"getChildContext",value:function(){return{nextStep:this.nextStep.bind(this),prevStep:this.prevStep.bind(this),goToStep:this.goToStep.bind(this),currentStep:this.state.currentStep+1,totalSteps:this.state.totalSteps}}},{key:"nextStep",value:function(){this.setState({currentStep:this.state.currentStep+1})}},{key:"prevStep",value:function(){this.setState({currentStep:this.state.currentStep-1})}},{key:"goToStep",value:function(e,t){"string"==typeof e&&(e=this.getNamedStepIndex(e)),-1!==e&&this.setState({currentStep:e,payload:m(m({},this.state.payload),{},_({},e,t||void 0))})}},{key:"getNamedStepIndex",value:function(e){return"string"!=typeof e||0===e.length?-1:l.a.Children.toArray(this.props.children).findIndex((function(t){return t&&t.props&&t.props.name===e}))}},{key:"getCount",value:function(){var e=this.props.children;return l.a.Children.toArray(e).filter((function(e){return e&&e.props&&!e.props.hidden})).length}},{key:"getSteps",value:function(){var e=this,t=this.props.children,n=this.state,r=n.currentStep,o=n.payload[r];return l.a.Children.toArray(t).filter((function(e){return e&&e.props})).map((function(t){return l.a.createElement(t.type,f({},t.props,{step:r+1,totalSteps:e.getCount(),payload:o}))}))}},{key:"render",value:function(){var e=this.state.currentStep,t=this.getSteps();return l.a.createElement("div",{className:"modal-steps"},t.length>0?t[e]:null)}}])&&y(t.prototype,n),r&&y(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.Component),_(o,"Item",u.default),_(o,"childContextTypes",{startStep:s.a.number,nextStep:s.a.func,prevStep:s.a.func,goToStep:s.a.func,currentStep:s.a.number,totalSteps:s.a.number}),w=(r=a).prototype,x="getNamedStepIndex",O=[e],k=Object.getOwnPropertyDescriptor(r.prototype,"getNamedStepIndex"),j=r.prototype,E={},Object.keys(k).forEach((function(e){E[e]=k[e]})),E.enumerable=!!E.enumerable,E.configurable=!!E.configurable,("value"in E||E.initializer)&&(E.writable=!0),E=O.slice().reverse().reduce((function(e,t){return t(w,x,e)||e}),E),j&&void 0!==E.initializer&&(E.value=E.initializer?E.initializer.call(j):void 0,E.initializer=void 0),void 0===E.initializer&&(Object.defineProperty(w,x,E),E=null),r);t.default=S}.call(this,n(4).bind)},function(e,t,n){"use strict";(function(e){var r,o,a,i=n(0),l=n.n(i),c=n(20),s=n(7),u=n.n(s),p=n(1),f=n.n(p),d=n(186),m=n(13),y=n(497);n(976);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function v(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=j(e);if(t){var o=j(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O(this,n)}}function O(e,t){if(t&&("object"===b(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return k(e)}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(e,t,n,r,o){var a={};return Object.keys(r).forEach((function(e){a[e]=r[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var P="ArrowUp",C="ArrowDown",N="Space",z="Enter",R=(a=o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w(e,t)}(a,e);var t,n,r,o=x(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),E(k(t=o.call(this,e)),"scroll",null),t.state={selectedItemIndex:void 0},t}return t=a,(n=[{key:"componentWillUnmount",value:function(){this.removeEventListeners()}},{key:"addEventListeners",value:function(){document.addEventListener("keydown",this.listenArrows),document.addEventListener("keydown",this.listenSubmitKeys)}},{key:"removeEventListeners",value:function(){document.removeEventListener("keydown",this.listenArrows),document.removeEventListener("keydown",this.listenSubmitKeys)}},{key:"listenArrows",value:function(e){if(this.scroll&&(e.code===C||e.code===P)&&this.scroll){e.preventDefault();var t=this.state.selectedItemIndex,n=this.props.children,r=l.a.Children.count(n),o=t||0;e.code===C&&(o=o+1>=r?0:o+1),e.code===P&&(o=o-1<0?r-1:o-1);var a=this.scroll.container.getElementsByClassName("select-group__item")[o],i=0,c=this.scroll.container.clientHeight,s=a.clientHeight,u=a.offsetTop,p=s-Math.floor(c/s);c<=u+s&&(i=u-c+2*p),this.scroll.scrollTop(i),this.setState({selectedItemIndex:o})}}},{key:"listenSubmitKeys",value:function(e){if(e.code===z||e.code===N){e.preventDefault();var t=this.state.selectedItemIndex,n=this.props,r=n.children,o=n.type,a=l.a.Children.toArray(r)[t].props.value;if("radio"===o&&(this.handleChange(a),document.body.click()),"checkbox"===o){if(e.code===z)return void document.body.click();this.handleChange(a)}}}},{key:"handleChange",value:function(e,t){var n=this.props,r=n.onChange,o=n.checked,a=n.type;if(void 0!==t&&this.setState({selectedItemIndex:t}),"radio"!==a){if("checkbox"===a){if(!o)return void r(e);var i=o.indexOf(e);r(i>=0?[].concat(v(o.slice(0,i)),v(o.slice(i+1))):[].concat(v(o),[e]))}}else r(e)}},{key:"renderHorizontalTrack",value:function(e){return l.a.createElement("div",h({},e,{className:"select-group__horizontal-scroll"}))}},{key:"renderTitle",value:function(e,t,n){return l.a.createElement(l.a.Fragment,null,t&&l.a.createElement("div",{className:"select-group__header-icon"},"svg"===n?l.a.createElement(m.a,{name:t}):l.a.createElement("img",{src:t})),l.a.createElement("div",{className:"select-group__header-title"},e))}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,r=t.children,o=t.checked,a=t.multipleSelectionText,i=t.type,s=t.disabled,p=t.tapable,f=t.onClear,m=t.tabIndex,y=t.action,b=t.iconSize,v=t["data-cy"],g=this.props.title,_=null,w=null,x=l.a.Children.map(r,(function(t,n){var r=!1;switch(i){case"radio":r=t.props.value===o;break;case"checkbox":r=o&&o.includes(t.props.value)}return!r&&(!t.props.isDefault||o&&o.length)||(g=t.props.label,_=t.props.icon,w=t.props.iconType),l.a.createElement(t.type,h({},t.props,{key:t.props.value,type:p?"checkbox":i,tapable:p,value:t.props.value,onClick:function(){return e.handleChange(t.props.value,n)},highlighted:n===e.state.selectedItemIndex,checked:r||t.props.isDefault&&(!o||!o.length),"data-cy":t.props["data-cy"]||"".concat(v,"-").concat(t.props.value)}))}));if("checkbox"===i&&o&&o.length>1){var O=o.length===x.length;g=a instanceof Function?a(o):(O?"All":o.length)+" "+a}var k=Boolean(o instanceof Array?o.length>0:void 0!==o),j=u()(E({"select-group":!0,"select-group--checked":k&&!s,"select-group--tapable":Boolean(p),"select-group--enable-clear":f&&!p},n,n)),S=f&&(o instanceof Array?o.length>0:Boolean(o));return p?l.a.createElement("div",{className:j},x):l.a.createElement(d.a,{title:this.renderTitle(g,_,w),iconSize:b,className:j,disabled:s,onClear:S?f:void 0,tabIndex:m,onOpen:this.addEventListeners,onClose:this.removeEventListeners,"data-cy":v},l.a.createElement(c.Scrollbars,{autoHeight:!0,autoHeightMin:0,autoHeightMax:220,ref:function(t){return e.scroll=t},renderTrackHorizontal:this.renderHorizontalTrack},x,y))}}])&&_(t.prototype,n),r&&_(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.Component),E(o,"Item",y.a),E(o,"propTypes",{className:f.a.string,children:f.a.oneOfType([f.a.array,f.a.node]),checked:f.a.oneOfType([f.a.string,f.a.number,f.a.array]),multipleSelectionText:f.a.oneOfType([f.a.string,f.a.func]),type:f.a.oneOf(["radio","checkbox"]),disabled:f.a.bool,tapable:f.a.bool,iconSize:f.a.number,onClear:f.a.func,tabIndex:f.a.number,action:f.a.any,"data-cy":f.a.string}),E(o,"defaultProps",{multipleSelectionText:"items selected"}),S((r=a).prototype,"addEventListeners",[e],Object.getOwnPropertyDescriptor(r.prototype,"addEventListeners"),r.prototype),S(r.prototype,"removeEventListeners",[e],Object.getOwnPropertyDescriptor(r.prototype,"removeEventListeners"),r.prototype),S(r.prototype,"listenArrows",[e],Object.getOwnPropertyDescriptor(r.prototype,"listenArrows"),r.prototype),S(r.prototype,"listenSubmitKeys",[e],Object.getOwnPropertyDescriptor(r.prototype,"listenSubmitKeys"),r.prototype),r);t.a=R}).call(this,n(4).bind)},function(e,t,n){"use strict";(function(e){var r,o,a,i=n(0),l=n.n(i),c=n(1),s=n.n(c),u=n(7),p=n.n(u);n(967);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_(e);if(t){var o=_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v(this,n)}}function v(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return g(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e,t,n,r,o){var a={};return Object.keys(r).forEach((function(e){a[e]=r[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var O=(a=o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(a,e);var t,n,r,o=h(a);function a(){var e;m(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return w(g(e=o.call.apply(o,[this].concat(n))),"input",null),e}return t=a,(n=[{key:"handleChange",value:function(e){if(this.props.onChange){var t=Number(e.target.value);if("number"===this.props.type){var n=this.props,r=n.min,o=n.max;if(Number.isNaN(t)||t<r)return void this.props.onChange(String(r));if(t>o)return void this.props.onChange(String(o))}this.props.onChange(e.target.value)}}},{key:"bindInput",value:function(e){this.input=e}},{key:"focus",value:function(){this.input&&(this.input.selectionStart=this.input.selectionEnd=this.input.value.length,this.input.focus())}},{key:"render",value:function(){var e=this.props,t={className:p()(w({input:!0,"input--textarea":e.multiline},e.className,Boolean(e.className))),id:e.name,autoFocus:e.autoFocus,value:e.value,defaultValue:e.defaultValue,placeholder:e.placeholder,onChange:this.handleChange,onFocus:e.onFocus,onBlur:e.onBlur,disabled:e.disabled,onKeyPress:e.onKeyPress,onKeyDown:e.onKeyDown,autoComplete:e.autoComplete,tabIndex:e.tabIndex,ref:this.bindInput,min:e.min,max:e.max,"data-cy":e["data-cy"]};return"number"===e.type&&(e.decimal?(t.step=.01,t.pattern="d+((.)d{1,2})?"):t.pattern="[0-9]*"),e.multiline?l.a.createElement("textarea",t):l.a.createElement("input",d({type:e.type},t))}}])&&y(t.prototype,n),r&&y(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.Component),w(o,"propTypes",{id:s.a.string,className:s.a.string,type:s.a.string,value:s.a.oneOfType([s.a.number,s.a.string]),placeholder:s.a.string,onChange:s.a.func,onKeyPress:s.a.func,onKeyDown:s.a.func,onFocus:s.a.func,onBlur:s.a.func,tabIndex:s.a.number,disabled:s.a.bool,autoComplete:s.a.string,multiline:s.a.bool,defaultValue:s.a.string,"data-cy":s.a.string}),w(o,"defaultProps",{type:"text",multiline:!1}),x((r=a).prototype,"handleChange",[e],Object.getOwnPropertyDescriptor(r.prototype,"handleChange"),r.prototype),x(r.prototype,"bindInput",[e],Object.getOwnPropertyDescriptor(r.prototype,"bindInput"),r.prototype),x(r.prototype,"focus",[e],Object.getOwnPropertyDescriptor(r.prototype,"focus"),r.prototype),r);t.a=O}).call(this,n(4).bind)},function(e,t,n){"use strict";(function(e){var r,o,a,i=n(0),l=n.n(i),c=n(1),s=n.n(c),u=n(7),p=n.n(u);n(974);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var o=v(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _,w,x,O,k,j,E=(a=o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}(a,e);var t,n,r,o=b(a);function a(){return d(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"getClassName",value:function(){var e=this.props;return p()(g({checkbox:!0,"checkbox--small":"small"===e.size,"checkbox--circle":"circle"===e.type,"checkbox--slider":"slider"===e.type,"checkbox--checked":e.checked,"checkbox--dot":e.dot,"checkbox--reversed":e.reversed&&void 0!==e.label,"checkbox--disabled":e.disabled},e.className,Boolean(e.className)))}},{key:"handleClick",value:function(){var e=this.props,t=e.onChange,n=e.checked,r=e.disabled;void 0===t||r||t(!n)}},{key:"render",value:function(){var e=this.props,t=e.tabIndex,n=e.label,r=e.required,o=e["data-cy"],a=this.getClassName();return l.a.createElement("div",{className:a,onClick:this.handleClick,tabIndex:t,"data-cy":o},l.a.createElement("div",{className:"checkbox__input"}),n&&l.a.createElement("div",{className:"checkbox__label"},n,r&&l.a.createElement("span",{className:"checkbox__label-required"},"*")))}}])&&m(t.prototype,n),r&&m(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.Component),g(o,"propTypes",{size:s.a.oneOf(["small","regular"]),type:s.a.oneOf(["square","circle","slider"]),checked:s.a.bool,dot:s.a.bool,reversed:s.a.bool,disabled:s.a.bool,classNames:s.a.string,required:s.a.bool,onChange:s.a.func,"data-cy":s.a.string}),g(o,"defaultProps",{size:"regular",type:"square"}),_=(r=a).prototype,w="handleClick",x=[e],O=Object.getOwnPropertyDescriptor(r.prototype,"handleClick"),k=r.prototype,j={},Object.keys(O).forEach((function(e){j[e]=O[e]})),j.enumerable=!!j.enumerable,j.configurable=!!j.configurable,("value"in j||j.initializer)&&(j.writable=!0),j=x.slice().reverse().reduce((function(e,t){return t(_,w,e)||e}),j),k&&void 0!==j.initializer&&(j.value=j.initializer?j.initializer.call(k):void 0,j.initializer=void 0),void 0===j.initializer&&(Object.defineProperty(_,w,j),j=null),r);t.a=E}).call(this,n(4).bind)},function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(7),i=n.n(a);n(690);t.a=function(e){var t=e.className,n=e.small,r=e.large,a=e.white,l=e.center,c=i()("preloader",t,{"preloader--small":n,"preloader--large":r,"preloader--center":l,"preloader--white":a});return o.a.createElement("img",{src:"/assets/images/placeholders/preloader.gif",className:c})}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return O}));var r,o,a,i=n(0),l=n.n(i),c=n(1),s=n.n(c),u=n(7),p=n.n(u),f=n(20),d=n(12);n(949);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_(e);if(t){var o=_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g(this,n)}}function g(e,t){if(t&&("object"===m(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e,t,n,r,o){var a={};return Object.keys(r).forEach((function(e){a[e]=r[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var O=function(e){var t=e.items;return l.a.createElement("ul",{className:"tooltip__list-tooltip"},t.map((function(e){return l.a.createElement("li",{key:e.id},e.name)})))},k=(a=o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(a,e);var t,n,r,o=v(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this,e)).state={isTooltipVisible:!1},t}return t=a,(n=[{key:"componentWillReceiveProps",value:function(e){e.disabled&&!this.props.disabled&&this.setState({isTooltipVisible:!1})}},{key:"componentDidUpdate",value:function(e){e.visible!==this.props.visible&&this.toggleTooltip(this.props.visible)}},{key:"componentWillUnmount",value:function(){"click"===this.props.triggerOn&&document.removeEventListener("click",this.listenClick)}},{key:"listenClick",value:function(e){var t=this;"click"===this.props.triggerOn&&(this.props.closeOnInsideClick?this.toggleTooltip(!1):Object(d.S)(e,this.containerEl,(function(){return t.toggleTooltip(!1)})))}},{key:"handleMouseLeave",value:function(){"click"!==this.props.triggerOn&&this.toggleTooltip(!1)}},{key:"handleMouseEnter",value:function(){"click"!==this.props.triggerOn&&this.toggleTooltip(!0)}},{key:"handleClick",value:function(){"click"===this.props.triggerOn&&this.toggleTooltip()}},{key:"toggleTooltip",value:function(e){var t=this;if(!this.props.disabled){var n="boolean"==typeof e?e:!this.state.isTooltipVisible;n&&"click"===this.props.triggerOn?document.addEventListener("click",this.listenClick):n||"click"!==this.props.triggerOn||document.removeEventListener("click",this.listenClick),n&&"function"==typeof this.props.onOpen&&this.props.onOpen(),n||"function"!=typeof this.props.onClose||this.props.onClose(),this.setState({isTooltipVisible:n},(function(){t.props.onVisibleChange&&t.props.onVisibleChange(n)}))}}},{key:"renderThumbVertical",value:function(e){return l.a.createElement("div",y({},e,{className:"tooltip__thumb-vertical"}))}},{key:"renderTooltipContent",value:function(){var e=this,t=this.props,n=t.tooltip,r=t.renderTooltip;return r?r((function(){return e.toggleTooltip(!1)})):n||null}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,r=t.tooltipClassName,o=t.side,a=t.noArrow,i=t.disabled,c=t.white,s=t.children,u=t.maxHeight,d=t.keepOpenDisabled,m=t.tooltipTriggerClassName,y=t["data-cy"],b=p()(w({tooltip:!0,"tooltip--visible":this.state.isTooltipVisible&&(d||!i),"tooltip--left":"left"===o,"tooltip--right":"right"===o,"tooltip--center":"center"===o,"tooltip--no-arrow":a,"tooltip--white":c,"tooltip--disabled":i},n,Boolean(n))),h=p()(w({"tooltip-content":!0},r,Boolean(r))),v=this.renderTooltipContent();return l.a.createElement("div",{className:b,"data-cy":y,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},l.a.createElement("div",{className:p()("tooltip-trigger",m),onClick:this.handleClick},s),l.a.createElement("div",{className:h,ref:function(t){return e.containerEl=t}},u?l.a.createElement(f.Scrollbars,{autoHeight:!0,autoHeightMin:0,autoHeightMax:u,thumbSize:30,renderThumbVertical:this.renderThumbVertical},v):v))}}])&&b(t.prototype,n),r&&b(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.Component),w(o,"propTypes",{className:s.a.string,renderTooltip:s.a.func,tooltip:s.a.any,triggerOn:s.a.oneOf(["hover","click"]),side:s.a.oneOf(["left","right","center"]),disabled:s.a.bool,noArrow:s.a.bool,white:s.a.bool,tooltipClassName:s.a.string,maxHeight:s.a.number,closeOnInsideClick:s.a.bool,keepOpenDisabled:s.a.bool,onOpen:s.a.func,onClose:s.a.func,onVisibleChange:s.a.func,visible:s.a.bool,"data-cy":s.a.string}),w(o,"defaultProps",{triggerOn:"hover",side:"left",closeOnInsideClick:!1}),x((r=a).prototype,"listenClick",[e],Object.getOwnPropertyDescriptor(r.prototype,"listenClick"),r.prototype),x(r.prototype,"handleMouseLeave",[e],Object.getOwnPropertyDescriptor(r.prototype,"handleMouseLeave"),r.prototype),x(r.prototype,"handleMouseEnter",[e],Object.getOwnPropertyDescriptor(r.prototype,"handleMouseEnter"),r.prototype),x(r.prototype,"handleClick",[e],Object.getOwnPropertyDescriptor(r.prototype,"handleClick"),r.prototype),x(r.prototype,"toggleTooltip",[e],Object.getOwnPropertyDescriptor(r.prototype,"toggleTooltip"),r.prototype),r);t.b=k}).call(this,n(4).bind)},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),t.b={TextInput:"textinput",Checkbox:"checkbox",Select:"select",DatePicker:"datepicker",Divider:"divider",TextBox:"textbox",FileUpload:"fileupload"};var r={checkbox:"boolean",select:"list",textinput:"string",datepicker:"date"}},function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(1),i=n.n(a),l=n(7),c=n.n(l),s=n(13),u=n(12);n(947);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b(this,n)}}function b(e,t){if(t&&("object"===p(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=/[!$%^&*()_+|~=`{}\[\]:";'<>?,.\/]/,_=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}(i,e);var t,n,r,a=y(i);function i(){return f(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"getInitials",value:function(){if(this.props.initials)return this.props.initials;var e=this.props.name,t="";try{e&&(t=e.trim().replace(g,"").split(/\s+/).slice(0,2).map((function(e){return e[0].toUpperCase()})).join(""))}catch(e){t="NA"}return t}},{key:"getIconName",value:function(){switch(this.props.type){case"avatar":return"person";case"logo":case"select-logo":return"school"}}},{key:"render",value:function(){var e,t=this.props,n=t.url,r=t.name,a=t.color,i=t.className,l=t.size,p=t.type,f=t.status,d=t.isPrivate,m=t.tooltipText,y=t.placeholder,b=t.onlineStatus,h=t.outRoom,g=this.getInitials(),_=c()((v(e={avatar:!0},"avatar--".concat(l),!0),v(e,"avatar--logo","logo"===p),v(e,"avatar--select-logo","select-logo"===p),v(e,i,Boolean(i)),v(e,"avatar--offline","offline"===b),e)),w=c()({avatar__picture:!0,"avatar__picture--select-logo":"select-logo"===p}),x={backgroundColor:n||p?"transparent":a?"#"+a:r?Object(u.r)(r):"transparent"};return o.a.createElement("div",{className:_},o.a.createElement("div",{className:"avatar__initials",style:x},n?o.a.createElement("div",{className:w,style:{backgroundImage:"url('".concat(n,"')")}}):p?o.a.createElement("div",{className:"avatar__placeholder"},o.a.createElement(s.a,{resizeable:!0,name:this.getIconName()}),o.a.createElement("span",{className:"avatar__placeholder-tip"},y||"Upload ".concat("select-logo"===p?"logo":p))):o.a.createElement("div",{className:"avatar__initials-text"},g)),d&&o.a.createElement("div",{className:"avatar__private"},o.a.createElement(s.a,{name:"private",size:"16"})),f&&o.a.createElement("div",{className:"avatar__status"},o.a.createElement(s.a,{name:"room"===f?"building":f,size:"18"}),o.a.createElement("div",{className:"avatar__status-title"},f)),b&&o.a.createElement("div",{className:"avatar__online-status"}),h&&o.a.createElement("div",{className:"avatar__out-room"},o.a.createElement(s.a,{name:"out-room",size:"12"})),!f&&m&&o.a.createElement("div",{className:"avatar__tooltip"},o.a.createElement("div",{className:"avatar__tooltip-title"},m)))}}])&&d(t.prototype,n),r&&d(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component);v(_,"propTypes",{url:i.a.string,name:i.a.string,color:i.a.string,isPrivate:i.a.bool,initials:i.a.string,onlineStatus:i.a.oneOf(["online","offline"]),size:i.a.oneOf(["xxs","xs","small","dashboard","medium","large"]),type:i.a.oneOf(["avatar","logo","select-logo"]),status:i.a.oneOf(["parent","admin","room","other"]),placeholder:i.a.string,tooltipText:i.a.node}),v(_,"defaultProps",{size:"small"}),t.a=_},function(e,t,n){"use strict";var r=n(620),o=n.n(r);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"usd";i(this,e),this.setCurrency(t)}var t,n,r;return t=e,(n=[{key:"setCurrency",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"usd";this._currency=e}},{key:"getSymbol",value:function(){return o()(this._currency)}},{key:"getMonetaryNumber",value:function(e){var t=Number("".concat(e).replace(/,/g,"")),n=Math.round(t)===t?t:t.toFixed(2);return"-0.00"===n?Math.abs(n).toFixed(2):n}},{key:"getPrice",value:function(e){if(""!==e&&null!=e&&"object"!==a(e))return"".concat(this.getSymbol()).concat(this.getMonetaryNumber(e))}}])&&l(t.prototype,n),r&&l(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.a=new c},function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"f",(function(){return i})),n.d(t,"e",(function(){return l})),n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return u}));n(3);var r=n(11),o=n.n(r);n(12);function a(e){return o()(e,"currentUser.data.teacher.is_admin",!1)}function i(e){return o()(e,"currentUser.data.current_school.corp_school")}function l(e){return o()(e,"paymentMethods.data",[]).some((function(e){return e.auto_pay_failed}))}function c(e,t){return t?o()(e,["currentUser.data.current_school",t].join(".")):o()(e,"currentUser.data.current_school")}function s(e){return o()(e,"constants.data.billing.stripe_publishable_key")}function u(e){return o()(e,"constants.data.billing.stripe_custom_publishable_key")}},function(e,t,n){"use strict";n.d(t,"c",(function(){return y})),n.d(t,"f",(function(){return b})),n.d(t,"d",(function(){return h})),n.d(t,"e",(function(){return v})),n.d(t,"a",(function(){return g}));var r=n(172),o=n(83),a=n.n(o),i=n(66),l=n.n(i),c=n(447),s=n.n(c),u=n(61),p=n.n(u),f=n(53),d=n.n(f),m=Object(r.a)();function y(){return m.location.pathname}function b(e){var t=function(e){var t=m.location,n=t.pathname,r=t.search,o=a.a.parse(r,{ignoreQueryPrefix:!0})||{};return!l()(o,e)?{pathname:n,newQuery:s()(o,e,(function(e,t){if(d()(e)||p()(e))return t}))}:{pathname:n,newQuery:null}}(e),n=t.pathname,r=t.newQuery;null!==r&&m.replace({pathname:n,search:a.a.stringify(r,{encodeValuesOnly:!0,skipNulls:!0})})}function h(){var e=m.location;return a.a.parse(e.search,{ignoreQueryPrefix:!0})}function v(e,t){m.push({pathname:e,search:a.a.stringify(t,{encodeValuesOnly:!0,skipNulls:!0})})}function g(e,t){var n=a.a.stringify(t,{encodeValuesOnly:!0,skipNulls:!0});return"".concat(e,"?").concat(n)}t.b=m},function(e,t,n){"use strict";t.a={isEmail:"Invalid email",isNotEmpty:"Cannot be empty",isNaturalNumber:"Should be a positive integer value",isPasswordsEqual:"Confirm password does not match",minLength:function(e){return"Should be at least ".concat(e," letters")},maxRangeMonth:function(e){return"Please select a date range less than ".concat(e," month").concat(e>1?"s":"")},maxRangeMonthFilter:function(e){return"Please select a date range less than ".concat(e," month").concat(e>1?"s":"")},isGreaterThanStart:"Should be later than start",isLesserThanEnd:"Should be earlier than end",default:"Check this field",isAfterTime:"Should be after start time",isTime:"Wrong formatted time",isUrl:"Invalid URL",pattern:function(e){return"0[0-9]{3}"===e?"Pin must be between 0000 - 0999":"Does not match pattern"}}},function(e,t,n){"use strict";n.r(t),t.default={staffOnly:"Staff Only - Requires Admin Approval for Parents",staffOnlyForce:"Staff Only (parents won't see the created activity)"}},function(e,t,n){"use strict";n.r(t),function(e){var r,o,a,i=n(0),l=n.n(i),c=n(1),s=n.n(c),u=n(20),p=n.n(u),f=n(109),d=n(133),m=n.n(d),y=n(17),b=n(19),h=n(31);n(478);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw a}}}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=E(e);if(t){var o=E(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return k(this,n)}}function k(e,t){if(t&&("object"===v(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return j(e)}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(e,t,n,r,o){var a={};return Object.keys(r).forEach((function(e){a[e]=r[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var C=(a=o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x(e,t)}(a,e);var t,n,r,o=O(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),S(j(t=o.call(this,e)),"selectedPersonIds",{}),S(j(t),"enabledPersons",[]),t.selectedPersonIds=t.buildPersonsHash(e.persons),t.enabledPersons=t.getEnabledPersons(e.persons,e.validations),e.selectedIds.forEach((function(e){t.selectedPersonIds[e]=!0})),t}return t=a,(n=[{key:"selectionState",get:function(){var e,t=this.props,n=t.selectedIds,r=t.persons.map((function(e){return e.id})),o=m()(n,r,(function(e,t){return t===e}));return 0===n.length?"unchecked":n.length===r.length&&(e=r,n.every((function(t){return e.includes(t)})))?"checked":o.length>0?"partial":"unchecked"}},{key:"allFilteredSelected",get:function(){var e=this.props,t=e.selectedIds,n=e.persons,r=n.filter((function(e){return t.find((function(t){return t===e.id}))}));return r.length===n.length&&0!==r.length}},{key:"buildPersonsHash",value:function(e){var t,n={},r=g(e);try{for(r.s();!(t=r.n()).done;)n[t.value.id]=!1}catch(e){r.e(e)}finally{r.f()}return n}},{key:"buildSelectedArray",value:function(){var e=this;return Object.keys(this.selectedPersonIds).filter((function(t){return e.selectedPersonIds[t]}))}},{key:"togglePerson",value:function(e){var t=this.props,n=t.selectType,r=t.persons,o=this.selectedPersonIds[e];"radio"===n&&(this.selectedPersonIds=this.buildPersonsHash(r)),this.selectedPersonIds[e]=!o,this.handleUpdate()}},{key:"toggleAll",value:function(){var e=this,t=this.props,n=t.persons,r=t.validations;this.enabledPersons=this.getEnabledPersons(n,r),0!==this.enabledPersons.length&&(this.allFilteredSelected?this.selectedPersonIds=this.buildPersonsHash(n):this.enabledPersons.forEach((function(t){e.selectedPersonIds[t.id]=!0})),this.handleUpdate())}},{key:"getEnabledPersons",value:function(e,t){return this.props.disableInvalid&&t?e.filter((function(e){return 0===Object.keys(t).filter((function(n){return t[n](e)})).length})):e}},{key:"handleUpdate",value:function(){var e=this.buildSelectedArray();this.props.onSelect&&this.props.onSelect(e)}},{key:"getDisableMessage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.keys(t);if(0!==n.length){var r=n.filter((function(n){return t[n](e)}));return r.length>0?r.join(", "):void 0}}},{key:"renderPersons",value:function(){var e=this,t=this.props,n=t.persons,r=t.validations,o=t.type,a=t.disableInvalid,i=t.renderPersonCard;return n.map((function(t){var n=e.getDisableMessage(t,r);return"function"==typeof i?i({person:t,type:o,onSelect:e.togglePerson,selected:e.selectedPersonIds[t.id],validationError:n,disableInvalid:a}):l.a.createElement(f.default,{key:t.id,id:t.id,name:t.name,color:t.color,type:o,status:t.is_admin?"admin":void 0,picURL:t.profile_pic_url,onSelect:e.togglePerson,selected:e.selectedPersonIds[t.id],validationError:n,disableInvalid:a})}))}},{key:"getSelectedMessage",value:function(){var e=this.props,t=e.type,n=e.selectedIds,r=n.length>0?n.length:"No";switch(t){case"kid":return"".concat(r," STUDENT").concat(1!==n.length?"S":""," SELECTED");case"teacher":return"".concat(r," STAFF SELECTED");case"lead":return"".concat(r," LEAD").concat(1!==n.length?"S":""," SELECTED")}}},{key:"render",value:function(){var e=this.props,t=e.selectedIds,n=e.selectType,r=e.listHeight,o=e.type,a=e.noResultText,i=e.allPersons,c=e.persons.length,s=t.map((function(e){return i.find((function(t){return t.id===e}))})).filter((function(e){return void 0!==e}));return l.a.createElement("div",{className:"select-person-list"},"checkbox"===n&&l.a.createElement("div",{className:"select-person-list__header"},l.a.createElement(y.a,{className:"select-person-list__select-all",checked:["checked","partial"].includes(this.selectionState),dot:"partial"===this.selectionState,onChange:this.toggleAll,disabled:0===c,label:"Select All"}),l.a.createElement("div",{className:"select-person-list__selected"},t.length?l.a.createElement(b.b,{tooltip:l.a.createElement(h.a,{students:s}),maxHeight:110},this.getSelectedMessage()):this.getSelectedMessage())),l.a.createElement(p.a,{autoHeight:!0,autoHeightMin:r},l.a.createElement("div",{className:"select-person-list__cards"},c>0?this.renderPersons():l.a.createElement("div",{className:"select-person-list__no-results"},a||"No ".concat("kid"===o?"student":"staff"," found by filter.")))))}}])&&w(t.prototype,n),r&&w(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.Component),S(o,"propTypes",{persons:s.a.array,allPersons:s.a.array,selectedIds:s.a.array,onSelect:s.a.func,selectType:s.a.oneOf(["checkbox","radio"]),type:s.a.oneOf(["kid","teacher","lead"]),validations:s.a.object,disableInvalid:s.a.bool,noResultText:s.a.string,listHeight:s.a.number,renderPersonCard:s.a.func}),S(o,"defaultProps",{persons:[],allPersons:[],selectedIds:[],type:"kid",listHeight:285,selectType:"checkbox",disableInvalid:!0}),P((r=a).prototype,"togglePerson",[e],Object.getOwnPropertyDescriptor(r.prototype,"togglePerson"),r.prototype),P(r.prototype,"toggleAll",[e],Object.getOwnPropertyDescriptor(r.prototype,"toggleAll"),r.prototype),r);t.default=C}.call(this,n(4).bind)},,function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(0),o=n.n(r),a=n(5),i=n(102),l=n(1),c=n.n(l),s=n(23),u=n(19),p=(n(1075),function(e){var t=e.students;return o.a.createElement("ul",{className:"student-list-component__tooltip"},t.map((function(e){return o.a.createElement("li",{key:e.id},e.name||e.first_name+" "+e.last_name)})))}),f=function(e){var t=e.students,n=e.maxNumber,r=e.showRoom,a=e.withStudentLink,l=e.rooms,c=e.avatarSize,f="";if(r&&t.length){var d=l.find((function(e){return e.id===t[0].current_section_id}));d&&(f=d.name)}return o.a.createElement("div",{className:"student-list-component"},t.slice(0,n).map((function(e){var t=a?i.a:"div";return o.a.createElement(t,{key:"student_list_".concat(e.id),className:"student-list-component__kid",to:a?"/my-school/students/".concat(e.id):void 0},o.a.createElement(s.a,{name:e.name||e.first_name+" "+e.last_name,url:e.profile_pic_url,tooltipText:e.name,color:e.color,initials:e.initials,size:c}),o.a.createElement("div",{className:"student-list-component__firstkid"},o.a.createElement("div",{className:"student-list-component__firstkid-name"},e.name||e.first_name+" "+e.last_name),f&&o.a.createElement("div",{className:"student-list-component__firstkid-room"},f)))})),t.length>n&&o.a.createElement(u.b,{tooltip:o.a.createElement(p,{students:t.slice(n)}),maxHeight:110},o.a.createElement("div",{className:"plus-x"},"+",t.length-n)))};f.propTypes={students:c.a.array,showRoom:c.a.bool,maxNumber:c.a.number,withStudentLink:c.a.bool},f.defaultProps={students:[],showRoom:!1,withStudentLink:!1,maxNumber:1};t.b=Object(a.b)((function(e){return{rooms:e.rooms.data}}))(f)},function(e,t,n){"use strict";(function(e){var r,o=n(0),a=n.n(o);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d,m,y,b,h,v,g=(r=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(i,e);var t,n,r,o=u(i);function i(){return l(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"zoomIn",value:function(e){return function(){return Actions.showModal("PhotoViewer",{photos:[{main_url:e}],index:0},{className:"modal--full"})}}},{key:"render",value:function(){var e=this.props.photoUrl;return e?a.a.createElement("img",{src:e,className:"activity__photo-img",onClick:this.zoomIn(e)}):null}}])&&c(t.prototype,n),r&&c(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(o.Component),d=r.prototype,m="zoomIn",y=[e],b=Object.getOwnPropertyDescriptor(r.prototype,"zoomIn"),h=r.prototype,v={},Object.keys(b).forEach((function(e){v[e]=b[e]})),v.enumerable=!!v.enumerable,v.configurable=!!v.configurable,("value"in v||v.initializer)&&(v.writable=!0),v=y.slice().reverse().reduce((function(e,t){return t(d,m,e)||e}),v),h&&void 0!==v.initializer&&(v.value=v.initializer?v.initializer.call(h):void 0,v.initializer=void 0),void 0===v.initializer&&(Object.defineProperty(d,m,v),v=null),r);t.a=g}).call(this,n(4).bind)},function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(1),i=n.n(a),l=n(18),c=n(12),s=n(7),u=n.n(s),p=(n(1194),function(e){var t=e.image,n=e.hasBorder,r=e.title,a=e.className,i=e.children,s=e.isLoading,p=e.multilineTitle,f=e.youtubeVideoURL,d=e["data-cy"];if(s)return o.a.createElement("div",{className:u()("info-placeholder",a)},o.a.createElement(l.a,{large:!0}));var m=u()("info-placeholder",a,{"info-placeholder--noborder":!n}),y=p?r.split("\\n").map((function(e){return o.a.createElement("div",{key:e},e)})):r;return o.a.createElement("div",{className:m,"data-cy":d},o.a.createElement("div",{className:"info-placeholder__title"},y),o.a.createElement("div",{className:"info-placeholder__desc"},i),o.a.createElement("div",null,t&&o.a.createElement("img",{className:"info-placeholder__img",src:"/assets/images/placeholders/info/".concat(t,".png"),alt:t}),f&&o.a.createElement("div",{className:"info-placeholder__play",onClick:function(){Object(c.Y)(f)}})))});p.proptypes={hasBorder:i.a.bool,image:i.a.string.isRequired,title:i.a.string.isRequired,isLoading:i.a.bool.isRequired,children:i.a.oneOfType([i.a.string,i.a.node]),className:i.a.string},p.defaultProps={image:"no-kids-daily",title:"",isLoading:!1};var f=p,d=(n(1196),function(e){var t=e.image,n=e.className,r=e.children,a=e.isLoading,i=e.hasBorder,c=u()("no-result-placeholder",n,{"no-result-placeholder--border":i});return a?o.a.createElement("div",{className:c},o.a.createElement(l.a,{large:!0})):o.a.createElement("div",{className:c},t&&o.a.createElement("img",{className:"no-result-placeholder__img",src:"/assets/images/placeholders/no-result/".concat(t,".png"),alt:t}),o.a.createElement("div",{className:"no-result-placeholder__desc"},r))});d.proptypes={image:i.a.string.isRequired,isLoading:i.a.bool.isRequired,children:i.a.oneOfType([i.a.string,i.a.node]),className:i.a.string,hasBorder:i.a.bool},d.defaultProps={image:"penguin",isLoading:!1,hasBorder:!0};var m=d,y=n(13);n(1198);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=x(e);if(t){var o=x(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return w(this,n)}}function w(e,t){if(t&&("object"===b(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var O,k,j,E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g(e,t)}(i,e);var t,n,r,a=_(i);function i(){return h(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.iconName,n=e.color,r=e.children;return o.a.createElement("div",{className:"placeholder-feature"},o.a.createElement(y.a,{name:t,color:n,className:"placeholder-feature__icon",size:32}),o.a.createElement("div",{className:"placeholder-feature__description"},r))}}])&&v(t.prototype,n),r&&v(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component);O=E,k="propTypes",j={iconName:i.a.string,color:i.a.string},k in O?Object.defineProperty(O,k,{value:j,enumerable:!0,configurable:!0,writable:!0}):O[k]=j;var S=E;n(1200);function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function z(e,t){return(z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=D(e);if(t){var o=D(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return T(this,n)}}function T(e,t){if(t&&("object"===P(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var A=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&z(e,t)}(i,e);var t,n,r,a=R(i);function i(){return C(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.index,n=e.title,r=e.description,a=e.children,i=r||a;return o.a.createElement("div",{className:"placeholder-step"},o.a.createElement("div",{className:"placeholder-step__index"},t),n&&o.a.createElement("div",{className:"placeholder-step__title"},n),i&&o.a.createElement("div",{className:"placeholder-step__description"},i))}}])&&N(t.prototype,n),r&&N(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component);I(A,"propTypes",{index:i.a.number,title:i.a.string,description:i.a.string}),I(A,"defaultProps",{index:1});var M=A;t.a={Info:f,NoResult:m,Feature:S,Step:M}},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(5),i=n(2);function l(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.default=Object(a.b)((function(e){return{staff:e.staff.data,allStaff:e.allStaff.data,currentUser:e.currentUser.data.teacher&&e.currentUser.data.teacher.id,staffSelectEnabled:!!e.currentUser.data.current_school&&e.currentUser.data.current_school.daily_activity_staff_name_enabled}}),null,null,{pure:!1})((function(e){var t=e.staff,n=e.allStaff,r=e.activity,a=e.currentUser,c=null;c=null===r.staff_present_id?null:void 0===r.staff_present_id?a:r.staff_present_id;var s=l(t);if(null!=r.staff_present_id&&null==t.find((function(e){return e.id===r.staff_present_id}))){var u=n.find((function(e){return e.id===r.staff_present_id}));null!=u&&s.push(u)}return o.a.createElement("div",{className:"form__row form__row--justified pr-5"},o.a.createElement(i.a.Select,{name:"staff_present",defaultValue:c,title:"Staff Present",label:"Staff Present"},o.a.createElement(i.a.Select.Item,{value:null,label:"None"}),s.map((function(e){return o.a.createElement(i.a.Select.Item,{key:e.id,label:e.name,value:e.id})}))))}))},function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return i})),n.d(t,"e",(function(){return l})),t.f={M:"Monday",T:"Tuesday",W:"Wednesday",Th:"Thursday",F:"Friday",S:"Saturday",Su:"Sunday"};var r={MON:"M",TUE:"T",WED:"W",THU:"Th",FRI:"F",SAT:"S",SUN:"Su"},o={M:"MON",T:"TUE",W:"WED",Th:"THU",F:"FRI",S:"SAT",Su:"SUN"},a=["M","T","W","Th","F"],i=["M","T","W","Th","F","S","Su"],l=["Su","M","T","W","Th","F","S"]},function(e,t,n){"use strict";(function(e){var r,o,a,i=n(0),l=n.n(i),c=n(1),s=n.n(c),u=n(7),p=n.n(u),f=n(13);n(953);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var o=g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v(this,n)}}function v(e,t){if(t&&("object"===d(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w,x,O,k,j,E,S=(a=o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(a,e);var t,n,r,o=h(a);function a(){return m(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"handleClick",value:function(e){if(!this.props.disabled){var t=this.props.onClick;t&&t(e)}}},{key:"getClassName",value:function(){var e=this.props,t=e.className,n=e.toggle,r=e.secondary,o=e.disabled,a=e.flat,i=e.small;return p()("toggle-button",_({"toggle-button--flat":a,"toggle-button--small":i,"toggle-button--raised":!a,"toggle-button--disabled":o,"toggle-button--toggled":!0===n,"toggle-button--secondary":!0===r,"toggle-button--by-tooltip":"by-tooltip"===n},t,Boolean(t)))}},{key:"render",value:function(){var e=this.props,t=e.label,n=e.iconName,r=e.iconSize,o=e.fontSize,a=e.hidden,i=e["data-cy"];if(a)return null;var c=this.getClassName();return l.a.createElement("div",{className:c,onClick:this.handleClick,"data-cy":i},n&&l.a.createElement(f.a,{className:"toggle-button__icon",name:n,size:r}),t&&l.a.createElement("div",{className:"toggle-button__label",style:{fontSize:o}},t))}}])&&y(t.prototype,n),r&&y(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.Component),_(o,"propTypes",{label:s.a.string,className:s.a.string,iconName:s.a.string,iconColor:s.a.string,iconSize:s.a.oneOfType([s.a.string,s.a.number]),fontSize:s.a.oneOfType([s.a.string,s.a.number]),onClick:s.a.func,toggle:s.a.oneOf([!0,!1,"by-tooltip"]),flat:s.a.bool,secondary:s.a.bool,hidden:s.a.bool,disabled:s.a.bool,"data-cy":s.a.string}),_(o,"defaultProps",{iconSize:18}),w=(r=a).prototype,x="handleClick",O=[e],k=Object.getOwnPropertyDescriptor(r.prototype,"handleClick"),j=r.prototype,E={},Object.keys(k).forEach((function(e){E[e]=k[e]})),E.enumerable=!!E.enumerable,E.configurable=!!E.configurable,("value"in E||E.initializer)&&(E.writable=!0),E=O.slice().reverse().reduce((function(e,t){return t(w,x,e)||e}),E),j&&void 0!==E.initializer&&(E.value=E.initializer?E.initializer.call(j):void 0,E.initializer=void 0),void 0===E.initializer&&(Object.defineProperty(w,x,E),E=null),r);t.a=S}).call(this,n(4).bind)},,,,,function(e,t,n){"use strict";var r=n(56),o=n.n(r);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i,l,c,s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"getUniqueFilename",value:function(e){if(!e)throw new Error("fileName should not be empty");var t=e.lastIndexOf(".");if(!(t>0))return e+"-"+Date.now().toString();var n=e.slice(t+1);return e.slice(0,t).replace(/[^0-9a-zA-Z_-\s.]/g,"").replace(/\s/g,"+")+"-"+Date.now().toString()+"."+n}},{key:"getFileURL",value:function(e){var t=this.fileURLRegex.exec(e);return t&&2===t.length?t[1]:""}},{key:"getFormData",value:function(e,t){var n=new FormData;return n.append("key",t.key_start+this.getUniqueFilename(e.name)),n.append("AWSAccessKeyId",t.access_key_id),n.append("success_action_status","201"),n.append("X-Requested-With","xhr"),n.append("acl","public-read"),n.append("policy",t.policy),n.append("signature",t.signature),n.append("Content-Type",e.type),n.append("file",e),n}},{key:"upload",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;if(0===t.length)return Promise.reject();var r=Promise.resolve(),o=[];return t.forEach((function(a,i){r=r.then((function(){return n.getSignature({key:n.key})})).then((function(r){return e._uploadFile(a,r,"function"==typeof n.onProgress?function(r){return n.onProgress(r,e._getUploadProgress(r,i,t.length))}:void 0)})).then((function(e){return o.push(e)})).catch((function(e){"function"==typeof n.onFailure&&n.onFailure(e,a)}))})),r=r.then((function(){return Promise.resolve(o)})).catch((function(e){return Promise.reject(e)}))}},{key:"_getUploadProgress",value:function(e,t,n){return t/n*100+e.loaded/e.total*100/n}},{key:"_uploadFile",value:function(t,n,r){var a=this.getFormData(t,n),i="https://".concat(n.bucket,".s3.amazonaws.com/"),l={method:"POST",data:a,headers:{"Access-Control-Allow-Origin":"*"},onUploadProgress:r};return o()(i,l).then((function(n){return{name:t.name,_file:t,url:e.getFileURL(n.data)}}))}}],(n=null)&&a(t.prototype,n),r&&a(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();c=/<Location>(.*?)<\/Location>/,(l="fileURLRegex")in(i=s)?Object.defineProperty(i,l,{value:c,enumerable:!0,configurable:!0,writable:!0}):i[l]=c,t.a=s},,,function(e,t,n){"use strict";n.r(t),function(e){var r,o,a,i=n(0),l=n.n(i),c=n(5),s=n(1),u=n.n(s),p=n(6),f=n(10),d=n(18),m=n(12),y=n(81),b=n(29);n(1145);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=E(e);if(t){var o=E(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return j(this,n)}}function j(e,t){if(t&&("object"===h(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(e,t,n,r,o){var a={};return Object.keys(r).forEach((function(e){a[e]=r[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var C=(a=o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O(e,t)}(a,e);var t,n,r,o=k(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this,e)).state={filters:{tagIds:[],search:"",roomId:""},selectedKids:[]},e.customCondition&&(t.state.filters=w(w({},t.state.filters),{},S({},e.customCondition.paramKey,e.customCondition.paramValue))),e.defaultSelected&&(t.state.selectedKids=v(e.defaultSelected)),t}return t=a,(n=[{key:"updateFilters",value:function(e){this.setState({filters:e}),this.props.onFilter&&this.props.onFilter(e)}},{key:"save",value:function(){this.props.onUpdate&&this.props.onUpdate(this.state.selectedKids),this.context.nextStep&&!this.props.finalStep?this.context.nextStep():this.props.onSubmit&&this.props.onSubmit(this.state.selectedKids)}},{key:"goBack",value:function(){this.props.onUpdate(this.state.selectedKids),this.context.prevStep&&this.context.prevStep()}},{key:"updateSelectedKids",value:function(e){this.setState({selectedKids:e})}},{key:"render",value:function(){var e=this.state,t=e.filters,n=e.selectedKids,r=this.props,o=r.rooms,a=r.students,i=r.tags,c=r.title,s=r.label,u=r.customCondition,h=r.loading,v=r.subtitle,g=r.isContinueLoading,_=r.validations,w=r.disableInvalid,x=r.noResultText,O=r.steps,k=r.selectType,j=r.isOptional,E=r.renderPersonCard,S=this.context,P=S.currentStep,C=S.totalSteps,N=Object(m.a)(a,t,u.method);return l.a.createElement("div",{className:"modal__wrapper select-kids"},l.a.createElement("div",{className:"modal__header modal__header--bordered"},C&&P>1&&l.a.createElement(p.a,{iconName:"back",className:"select-kids__back-button",onClick:this.goBack}),l.a.createElement("div",{className:"modal__header-title"},c),P&&l.a.createElement("div",{className:"modal__header-steps"},l.a.createElement("span",null,"Step ",P)," / ",O||C),l.a.createElement("div",{className:"modal__filter-bar"},l.a.createElement(y.default,{rooms:o,tags:i,onUpdate:this.updateFilters,customControl:u.control})),v&&l.a.createElement("div",{className:"modal__header-subtitle"},v)),l.a.createElement("div",{className:"select-kids__container"},h?l.a.createElement("div",{className:"select-kids__loading"},l.a.createElement(d.a,{large:!0})):l.a.createElement(b.default,{persons:N,allPersons:a,selectedIds:n,onSelect:this.updateSelectedKids,validations:_,noResultText:x,disableInvalid:w,selectType:k,renderPersonCard:E})),l.a.createElement("div",{className:"modal__controls"},l.a.createElement(f.a,{className:"select-kids__submit",label:s,onClick:this.save,disabled:!j&&0===n.length,isLoading:g,"data-cy":"submit"})))}}])&&x(t.prototype,n),r&&x(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.Component),S(o,"contextTypes",{nextStep:u.a.func,prevStep:u.a.func,currentStep:u.a.number,totalSteps:u.a.number,customItemOptions:u.a.object}),S(o,"propTypes",{defaultSelected:u.a.array,onUpdate:u.a.func,onSubmit:u.a.func,title:u.a.string,subtitle:u.a.string,label:u.a.string,loading:u.a.bool,isContinueLoading:u.a.bool,students:u.a.array,validations:u.a.object,disableInvalid:u.a.bool,noResultText:u.a.string,selectType:u.a.oneOf(["checkbox","radio"]),isOptional:u.a.bool,onUpdateFilters:u.a.func}),S(o,"defaultProps",{defaultSelected:[],title:"Select students",label:"Continue",customCondition:{},loading:!1,students:[],isContinueLoading:!1}),P((r=a).prototype,"updateFilters",[e],Object.getOwnPropertyDescriptor(r.prototype,"updateFilters"),r.prototype),P(r.prototype,"save",[e],Object.getOwnPropertyDescriptor(r.prototype,"save"),r.prototype),P(r.prototype,"goBack",[e],Object.getOwnPropertyDescriptor(r.prototype,"goBack"),r.prototype),P(r.prototype,"updateSelectedKids",[e],Object.getOwnPropertyDescriptor(r.prototype,"updateSelectedKids"),r.prototype),r);t.default=Object(c.b)((function(e){return{rooms:e.rooms.data,tags:e.tags.data}}))(C)}.call(this,n(4).bind)},function(e,t,n){"use strict";var r=n(623),o=n(489);n(1055);t.a=Object(r.asyncComponent)({resolve:function(){return Promise.all([n.e(13),n.e(9)]).then(n.bind(null,1866))},LoadingComponent:o.a})},,,,function(e,t,n){"use strict";(function(e){var r,o,a,i=n(0),l=n.n(i),c=n(1),s=n.n(c),u=n(621),p=n.n(u),f=n(7),d=n.n(f),m=n(3),y=n.n(m),b=n(504),h=n(19),v=n(6),g=n(13);n(1738),n(991);function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}(e,t)||O(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e){return function(e){if(Array.isArray(e))return k(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||O(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){if(e){if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?k(e,t):void 0}}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=N(e);if(t){var o=N(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return P(this,n)}}function P(e,t){if(t&&("object"===_(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return C(e)}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R(e,t,n,r,o){var a={};return Object.keys(r).forEach((function(e){a[e]=r[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var T=(a=o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&E(e,t)}(a,e);var t,n,r,o=S(a);function a(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),z(C(t=o.call(this,e)),"_tabRef",void 0),z(C(t),"_wrapperRef",void 0),z(C(t),"rangeActiveIndex",void 0);var n=new Date;return e.value&&(n=e.value instanceof Array?e.value[0]||new Date:e.value),t.state={selectedMonth:n,isEditing:!1,inputText:"",isFocused:!1},t.fromMonth=y()().startOf("month").add(5,"years").toDate(),t.toMonth=y()().startOf("month").subtract(e.yearsToShow,"years").toDate(),t}return t=a,(n=[{key:"componentWillReceiveProps",value:function(e){var t=this.props.value,n=e.value,r=t instanceof Array?t[0]:t,o=n instanceof Array?n[0]:n;(r instanceof Date&&o instanceof Date&&r.valueOf()!==o.valueOf()||void 0===r&&o instanceof Date)&&this.setState({selectedMonth:o})}},{key:"onOpen",value:function(){"range"===this.props.type&&(this.rangeActiveIndex=0)}},{key:"onClose",value:function(){"range"===this.props.type&&(this.rangeActiveIndex=void 0),this.props.onClose&&this.props.onClose(),"number"==typeof this.props.tabIndex&&this.setState({isFocused:!1})}},{key:"onStartEdit",value:function(e){var t=this.props,n=t.type,r=t.value,o=t.disabled,a=t.disableType;"daily"!==n||o||Array.isArray(r)||a||(e.stopPropagation(),this.setState({isEditing:!0,inputText:r?y()(r).format("MM/DD/YYYY"):""}))}},{key:"onEditText",value:function(e){var t=e.target.value;this.setState({inputText:t})}},{key:"onInputKeyDown",value:function(e){13===e.keyCode&&this.onInputBlur()}},{key:"onInputBlur",value:function(){var e=this.state.inputText,t=y()(e,"MM/DD/YYYY");t.isValid()&&(this.changeMonth(t.toDate()),this.props.onChange(t.toDate())),this.setState({inputText:"",isEditing:!1})}},{key:"changeValue",value:function(e,t){var n=this.props,r=n.disableFuture,o=n.disableDays,a=n.disablePast,i=n.type,l=n.onChange;if(e){if(!(r&&this.isFutureDay(e)||o&&o(e)||a&&this.isPastDay(e)))if(l){var c=null,s=Array.isArray(this.props.value),u="range"!==i||!s||1===this.rangeActiveIndex;switch(i){case"weekly":var p=y()(e);c=[p.startOf("isoWeek").toDate(),p.endOf("isoWeek").toDate()];break;case"biweekly":var f=y()(e);c=[f.startOf("isoWeek").toDate(),f.add(1,"week").endOf("isoWeek").toDate()];break;case"range":var d=x(this.props.value);d[this.rangeActiveIndex]=e,Number(d[0])>=Number(d[1])&&(d=d.reverse()),0===this.rangeActiveIndex&&(this.rangeActiveIndex=1),c=d;break;case"daily":default:c=e}this.state.selectedMonth.getUTCMonth()!==e.getUTCMonth()&&this.changeMonth(e),l(c),u&&t()}else t()}else this.props.onChange()}},{key:"changeMonth",value:function(e){var t=this;this.setState({selectedMonth:e},(function(){t.props.onMonthChange&&t.props.onMonthChange(e)}))}},{key:"getTitle",value:function(){var e=this.props,t=e.value,n=e.placeholder,r=e.formatTitle,o="";if("function"==typeof r)return r({value:t,placeholder:n});if(t instanceof Date)o=y()(this.props.value).format("MMM D, YYYY");else if(t instanceof Array){var a=w(this.props.value,2),i=a[0],l=a[1];o=i?y()(i).format("MMM D")+" – "+(l?y()(l).format("MMM D"):"2nd date"):"Select Dates"}else o=n||"Select Date";return o}},{key:"isFutureDay",value:function(e){return y()().isBefore(e,"day")}},{key:"isPastDay",value:function(e){return y()().isAfter(e,"day")}},{key:"onClear",value:function(e){e.stopPropagation(),this.changeValue(void 0)}},{key:"onTabFocus",value:function(e){"number"!=typeof this.props.tabIndex||e.target!==this._tabRef||this.state.isFocused||this.setState({isFocused:!0})}},{key:"onTabBlur",value:function(e){if(void 0!==this.props.tabIndex){var t=e.target,n=e.relatedTarget;t!==this._tabRef||null!==n&&this._wrapperRef.contains(n)||!this.state.isFocused||this.setState({isFocused:!1})}}},{key:"renderCalendar",value:function(e){var t=this,n=this.state.selectedMonth,r=this.props,o=r.value,a=r.disableFuture,i=r.disableDays,c=r.disablePast,s=(new Date).getTimezoneOffset(),u=y.a.parseZone(new Date).utcOffset(),f=[o];if(o instanceof Array){var d=y()(o[0]).add(s+u,"minutes").toDate();f=[{from:d,to:o[1]?y()(o[1]).add(s+u,"minutes").toDate():d}]}else f[0]=y()(o).add(s+u,"minutes").toDate();return l.a.createElement(p.a,{selectedDays:f,onDayClick:function(n){return t.changeValue(n,e)},month:n,enableOutsideDays:!0,fromMonth:this.fromMonth,toMonth:this.toMonth,firstDayOfWeek:1,disabledDays:i||(a?this.isFutureDay:c?this.isPastDay:void 0),captionElement:l.a.createElement(b.a,{onChange:this.changeMonth,from:this.fromMonth,to:this.toMonth,disableFuture:a})})}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,r=t.disabled,o=t.value,a=t.side,i=t.dropup,c=t.clearable,s=t.tabIndex,u=t["data-cy"],p=this.state,f=p.isEditing,m=p.inputText,y=d()(z({datepicker:!0,"datepicker--disabled":r,"datepicker--dropup":i,"datepicker--range":"range"===this.props.type},n,Boolean(n))),b=d()("datepicker__title",{"datepicker__title--has-value":Boolean(o)}),_=this.getTitle();return l.a.createElement("div",{className:"datepicker__wrapper",ref:function(t){e._wrapperRef=t},onFocus:this.onTabFocus,onBlur:this.onTabBlur,"data-cy":u},l.a.createElement(h.b,{white:!0,side:a,triggerOn:"click",className:y,renderTooltip:this.renderCalendar,disabled:r,onOpen:this.onOpen,onClose:this.onClose,visible:this.state.isFocused,noArrow:!0},f?l.a.createElement("input",{type:"text",className:"datepicker__input",autoFocus:!0,"data-cy":"".concat(u,"-input"),placeholder:"MM/DD/YYYY",onChange:this.onEditText,onKeyDown:this.onInputKeyDown,value:m,onBlur:this.onInputBlur}):l.a.createElement("span",{"data-cy":"".concat(u,"-title"),className:b,onClick:this.onStartEdit},_),"number"==typeof s&&l.a.createElement("div",{className:"datepicker__tab",ref:function(t){return e._tabRef=t},tabIndex:s}),c&&o&&l.a.createElement(v.a,{iconName:"close-circle",size:14,className:"datepicker__icon datepicker__icon--clear",onClick:this.onClear}),(!c||!o)&&l.a.createElement(g.a,{name:"calendar",size:18,className:"datepicker__icon"})))}}])&&j(t.prototype,n),r&&j(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.Component),z(o,"propTypes",{type:s.a.oneOf(["daily","weekly","biweekly","range"]),value:s.a.oneOfType([s.a.object,s.a.array]),onChange:s.a.func,onClose:s.a.func,formatTitle:s.a.func,className:s.a.string,placeholder:s.a.string,disabled:s.a.bool,disableType:s.a.bool,disableFuture:s.a.bool,disablePast:s.a.bool,disableDays:s.a.func,side:s.a.oneOf(["left","right","center"]),dropup:s.a.bool,clearable:s.a.bool,yearsToShow:s.a.number,"data-cy":s.a.string}),z(o,"defaultProps",{type:"daily",side:"left",dropup:!1,disableType:!1,disableFuture:!1,disablePast:!1,clearable:!1,yearsToShow:100}),R((r=a).prototype,"onOpen",[e],Object.getOwnPropertyDescriptor(r.prototype,"onOpen"),r.prototype),R(r.prototype,"onClose",[e],Object.getOwnPropertyDescriptor(r.prototype,"onClose"),r.prototype),R(r.prototype,"onStartEdit",[e],Object.getOwnPropertyDescriptor(r.prototype,"onStartEdit"),r.prototype),R(r.prototype,"onEditText",[e],Object.getOwnPropertyDescriptor(r.prototype,"onEditText"),r.prototype),R(r.prototype,"onInputKeyDown",[e],Object.getOwnPropertyDescriptor(r.prototype,"onInputKeyDown"),r.prototype),R(r.prototype,"onInputBlur",[e],Object.getOwnPropertyDescriptor(r.prototype,"onInputBlur"),r.prototype),R(r.prototype,"changeValue",[e],Object.getOwnPropertyDescriptor(r.prototype,"changeValue"),r.prototype),R(r.prototype,"changeMonth",[e],Object.getOwnPropertyDescriptor(r.prototype,"changeMonth"),r.prototype),R(r.prototype,"onClear",[e],Object.getOwnPropertyDescriptor(r.prototype,"onClear"),r.prototype),R(r.prototype,"onTabFocus",[e],Object.getOwnPropertyDescriptor(r.prototype,"onTabFocus"),r.prototype),R(r.prototype,"onTabBlur",[e],Object.getOwnPropertyDescriptor(r.prototype,"onTabBlur"),r.prototype),R(r.prototype,"renderCalendar",[e],Object.getOwnPropertyDescriptor(r.prototype,"renderCalendar"),r.prototype),r);t.a=T}).call(this,n(4).bind)},function(e,t,n){"use strict";(function(e){var r,o,a,i=n(0),l=n.n(i),c=n(1),s=n.n(c),u=n(7),p=n.n(u),f=n(66),d=n.n(f),m=n(6),y=n(518),b=n(13),h=n(19),v=n(5),g=n(55);n(1025);function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=E(e);if(t){var o=E(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return k(this,n)}}function k(e,t){if(t&&("object"===_(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return j(e)}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(e,t,n,r,o){var a={};return Object.keys(r).forEach((function(e){a[e]=r[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var C=(a=o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x(e,t)}(a,e);var t,n,r,o=O(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),S(j(t=o.call(this,e)),"popup",null),t.id=Object(g.v4)(),t.state={value:e.defaultValue,open:!1,loading:!1},t}return t=a,(n=[{key:"componentDidUpdate",value:function(e,t){t.open!==this.state.open&&(this.props.onToggle&&this.props.onToggle(this.state.open),this.state.open?(this.addEventListeners(),this.listenResize()):this.removeEventListeners())}},{key:"componentWillUnmount",value:function(){this.props.activeEditorId===this.id&&this.props.setActiveEditorId(void 0)}},{key:"addEventListeners",value:function(){window.addEventListener("resize",this.listenResize),document.addEventListener("keydown",this.listenEnter)}},{key:"removeEventListeners",value:function(){window.removeEventListener("resize",this.listenResize),document.removeEventListener("keydown",this.listenEnter)}},{key:"listenResize",value:function(){if(null!==this.popup){var e=this.popup.container.getBoundingClientRect(),t=document.body.getBoundingClientRect().width;e.x+e.width>t&&(this.popup.container.style.left=document.body.clientWidth/2-this.popup.clientWidth/2)}}},{key:"listenEnter",value:function(e){"Enter"!==e.code||this.state.loading||this.submit()}},{key:"open",value:function(){var e=this;this.setState({value:this.props.defaultValue},(function(){e.toggleOpen(!0),e.props.setActiveEditorId(e.id)}))}},{key:"close",value:function(){this.state.loading||(this.toggleOpen(!1),this.props.setActiveEditorId(void 0))}},{key:"toggleOpen",value:function(e){this.setState({open:e})}},{key:"updateValue",value:function(e){this.setState({value:e})}},{key:"submit",value:function(){var e=this;d()(this.props.defaultValue,this.state.value)?this.close():this.setState({loading:!0},(function(){return e.props.onSubmit(e.state.value).then((function(){e.setState({loading:!1}),e.close()})).catch((function(){e.setState({loading:!1})}))}))}},{key:"bindPopup",value:function(e){this.popup=e}},{key:"renderLockTooltip",value:function(){var e=this.props.lockedText,t=p()("generic-editor__tooltip-lock-content",S({},"".concat(this.props.className,"__tooltip-lock-content"),Boolean(this.props.className)));return l.a.createElement("div",{className:t},e)}},{key:"render",value:function(){var e=this.props,t=e.activeEditorId,n=e.disabled,r=e.locked,o=e.children,a=this.state,i=a.value,c=a.open,s=a.loading,u=a.isSmallScreen,f=p()("generic-editor__edit-btn",S({},"".concat(this.props.className,"__edit-btn"),Boolean(this.props.className))),d=p()("generic-editor__popup",S({"generic-editor--right":u},"".concat(this.props.className,"__popup"),Boolean(this.props.className))),v=t===this.id||void 0===t;if(r){var g=p()("generic-editor__tooltip-lock",S({},"".concat(this.props.className,"__tooltip-lock"),Boolean(this.props.className))),_=p()("generic-editor__lock-icon",S({},"".concat(this.props.className,"__lock-icon"),Boolean(this.props.className)));return l.a.createElement(h.b,{className:g,tooltip:this.renderLockTooltip()},l.a.createElement(b.a,{size:11,className:_,name:"lock-2",color:"#CCCCCC"}))}return l.a.createElement(l.a.Fragment,null,l.a.createElement(m.a,{disabled:!v,hidden:n,className:f,iconName:"edit",size:14,onClick:this.open}),l.a.createElement(y.a,{ref:this.bindPopup,className:d,onCancel:this.close,onSubmit:this.submit,loading:s,visible:c},o({value:i,loading:s,onChange:this.updateValue})))}}])&&w(t.prototype,n),r&&w(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.Component),S(o,"propTypes",{defaultValue:s.a.any,onToggle:s.a.func,onSubmit:s.a.func,children:s.a.func.isRequired,activeEditorId:s.a.string,setActiveEditorId:s.a.func,disabled:s.a.bool,locked:s.a.bool,lockedText:s.a.string}),S(o,"defaultProps",{lockedText:"Changes synced from Procare"}),P((r=a).prototype,"listenResize",[e],Object.getOwnPropertyDescriptor(r.prototype,"listenResize"),r.prototype),P(r.prototype,"listenEnter",[e],Object.getOwnPropertyDescriptor(r.prototype,"listenEnter"),r.prototype),P(r.prototype,"open",[e],Object.getOwnPropertyDescriptor(r.prototype,"open"),r.prototype),P(r.prototype,"close",[e],Object.getOwnPropertyDescriptor(r.prototype,"close"),r.prototype),P(r.prototype,"updateValue",[e],Object.getOwnPropertyDescriptor(r.prototype,"updateValue"),r.prototype),P(r.prototype,"submit",[e],Object.getOwnPropertyDescriptor(r.prototype,"submit"),r.prototype),P(r.prototype,"bindPopup",[e],Object.getOwnPropertyDescriptor(r.prototype,"bindPopup"),r.prototype),r);t.a=Object(v.b)((function(e){return{activeEditorId:e.profileEditors.activeEditorId}}),(function(e){return{setActiveEditorId:function(t){e({type:"SET_ACTIVE_EDITOR_ID",payload:{activeEditorId:t}})}}}))(C)}).call(this,n(4).bind)},function(e,t,n){"use strict";n.d(t,"c",(function(){return w})),n.d(t,"g",(function(){return _})),n.d(t,"h",(function(){return g})),n.d(t,"a",(function(){return d})),n.d(t,"d",(function(){return m})),n.d(t,"e",(function(){return y})),n.d(t,"b",(function(){return b})),n.d(t,"f",(function(){return h}));var r=n(0),o=n.n(r),a=n(1),i=n.n(a),l=n(12),c=n(2),s=n(3),u=n.n(s);function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var d="active",m="last-3-months",y="last-6-months",b="current-year",h="previous-year",v={active:"Active",inactive:"Inactive",hold:"On Hold",graduate:"Graduated","last-3-months":"last 3 months","last-6-months":"last 6 months","current-year":"current year","previous-year":"previous year"},g=function(e){return e&&e!==d&&"hold"!==e},_={getAppliedTextFromFormValue:function(e){var t=e.status,n=e.range;return"".concat(v[t]).concat(g(t)?" within "+v[n]:"")},buildCompositeProperty:function(e){return e?{status:e.status||d,range:e.range}:{status:d}}},w=function(e){var t=e.defaultValue,n=void 0===t?{}:t,a=e.label,i=e.visible,s=n.status,f=n.range,_=p(Object(r.useState)(s||d),2),w=_[0],x=_[1],O=p(Object(r.useState)(f),2),k=O[0],j=O[1],E=p(Object(r.useState)(g(s)),2),S=E[0],P=E[1];return i&&o.a.createElement(r.Fragment,null,o.a.createElement("div",{className:"form__row"},o.a.createElement("div",{className:"select-newsletter-people__registration-status"},o.a.createElement(c.a.Select,{name:"status","data-cy":"status",label:a,defaultValue:s||d,className:"select-newsletter-people__registration-status-select",onChange:function(e,t){x(t),P(g(t))}},o.a.createElement(c.a.Select.Item,{key:d,value:d,label:Object(l.b)(v[d])}),o.a.createElement(c.a.Select.Item,{key:"hold",value:"hold",label:Object(l.b)(v.hold)}),o.a.createElement(c.a.Select.Item,{key:"graduate",value:"graduate",label:Object(l.b)(v.graduate)}),o.a.createElement(c.a.Select.Item,{key:"inactive",value:"inactive",label:Object(l.b)(v.inactive)})),o.a.createElement(c.a.Select,{name:"range","data-cy":"range",label:"Changed Within",defaultValue:f||b,onChange:function(e,t){return j(t)},disabled:!S},o.a.createElement(c.a.Select.Item,{key:m,value:m,label:Object(l.b)(v[m])}),o.a.createElement(c.a.Select.Item,{key:y,value:y,label:Object(l.b)(v[y])}),o.a.createElement(c.a.Select.Item,{key:b,value:b,label:Object(l.b)(v[b]),isDefault:!0}),o.a.createElement(c.a.Select.Item,{key:h,value:h,label:Object(l.b)(v[h])})))),S&&o.a.createElement("div",{className:"form__row"},o.a.createElement("div",{className:"select-newsletter-people__registration-status__tooltip"},"Will show students whose status was changed to ",o.a.createElement("span",{className:"select-newsletter-people__registration-status__tooltip--emphasis"},v[w])," ","within ",o.a.createElement("span",{className:"select-newsletter-people__registration-status__tooltip--emphasis"},function(e){var t=u()(),n=u()();switch(e){case m:t=u()().subtract(3,"months");break;case y:t=u()().subtract(6,"months");break;case h:t=u()().subtract(1,"years").startOf("year"),n=u()().subtract(1,"years").endOf("year");break;case b:t=u()().startOf("year")}return"".concat(t.format("MMM D, YYYY")," - ").concat(n.format("MMM D, YYYY"))}(k||b)),".")))};w.propTypes={label:i.a.string,defaultValue:i.a.object},w.defaultProps={label:"Enrollment Status"}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return o}));var r="allergy_report",o=[{value:"students_info",label:"Students Info",filename:"students_info"},{value:"age_report",label:"Age Report",filename:"age"},{value:r,label:"Allergy Report",filename:"allergy"},{value:"students_family_info",label:"Students And Family Info",filename:"students_family_info"},{value:"custom",label:"Custom (all fields)",filename:"custom"}];t.b={staff:[{value:"staff_id",label:"Staff ID",default:!0},{value:"name",label:"Name",default:!0},{value:"dob",label:"DOB"},{value:"email",label:"Email"},{value:"phone",label:"Phone"},{value:"address",label:"Address"},{value:"room",label:"Room",default:!0},{value:"pin",label:"Clock In-Out Pin"},{value:"start_date",label:"Hire Date"},{value:"student_ratio",label:"Allowed Student Ratio"},{value:"is_admin",label:"Is Admin",default:!0},{value:"is_active",label:"Is Active"}],student:[{value:"id",label:"Student ID",default:!0,preset:["students_info","age_report","allergy_report","students_family_info"]},{value:"first_name",label:"First Name",default:!0,preset:["students_info","age_report","allergy_report","students_family_info"]},{value:"middle_name",label:"Middle Name"},{value:"last_name",label:"Last Name",default:!0,preset:["students_info","age_report","allergy_report","students_family_info"]},{value:"dob",label:"DOB",default:!0,preset:["students_info","age_report","allergy_report","students_family_info"]},{value:"age",label:"Age",preset:["age_report"]},{value:"street_address",label:"Street Address",preset:["students_info"]},{value:"city",label:"City",preset:["students_info","students_family_info"]},{value:"state",label:"State",preset:["students_info","students_family_info"]},{value:"zip",label:"Zip",preset:["students_info","students_family_info"]},{value:"country",label:"Country",preset:["students_info","students_family_info"]},{value:"tags",label:"Tags",preset:["students_info","age_report","allergy_report","students_family_info"]},{value:"room",label:"Room",default:!0,preset:["students_info","age_report","allergy_report","students_family_info"]},{value:"status",label:"Status",preset:["students_info","allergy_report","students_family_info"]},{value:"note",label:"Note",preset:["students_info","allergy_report"]},{value:"allergy",label:"Allergies",preset:["students_info","allergy_report"]},{value:"time_schedule",label:"Schedule",preset:["students_info","students_family_info"]},{value:"medications",label:"Medications",preset:["students_info","allergy_report"]},{value:"diet_restriction",label:"Diet Restriction",preset:[]},{value:"admission_date",label:"Admission Date",preset:["students_info"]},{value:"graduation_date",label:"Graduation Date",preset:["students_info"]},{value:"student_id",label:"External Student ID",preset:["students_info","allergy_report","age_report","students_family_info"]}],carer:[{value:"family_id",label:"Family ID",preset:["students_family_info"]},{value:"first_name",label:"Carer First Name",default:!0,preset:["students_family_info"]},{value:"last_name",label:"Carer Last Name",default:!0,preset:["students_family_info"]},{value:"actual_relation",label:"Relation",preset:["students_family_info"]},{value:"email",label:"Email",default:!0,preset:["students_family_info"]},{value:"mobile_phone",label:"Mobile Phone",default:!0,preset:["students_family_info"]},{value:"pin",label:"Sign In-Out Pin",preset:["students_family_info"]},{value:"invitation_sent_at",label:"Invitation Sent at"},{value:"emergency_contact",label:"Emergency Contact"}]}},,,,,function(e,t,n){"use strict";var r;function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"d",(function(){return a})),n.d(t,"e",(function(){return i})),n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return s})),n.d(t,"f",(function(){return u}));var a="create-staff",i="create-student",l="create-event",c="create-lead",s="create-invoice",u=(o(r={},a,!0),o(r,i,!0),o(r,l,!0),o(r,c,!0),o(r,s,!0),r);t.g=[{label:"Add Staff",value:a,permission:"teachers",hideOnProcareSync:!0},{label:"Add Student",value:i,permission:"kids",hideOnProcareSync:!0},{label:"Add Calendar Event",value:l,permission:"school_calendars"},{label:"Add Lead",value:c,permission:"lead_crm"},{label:"Create Invoice",value:s,permission:"billing"}]},function(e,t,n){"use strict";(function(e){var r=n(0),o=n.n(r),a=n(1),i=n.n(a),l=n(7),c=n.n(l),s=n(36),u=n(19);n(955);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var f,d,m,y=["iconName","iconSize","label","hidden","raised","className","disabled","secondary","trigger"];function b(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O(e);if(t){var o=O(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return x(this,n)}}function x(e,t){if(t&&("object"===p(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var j,E,S,P,C,N,z=(m=d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_(e,t)}(i,e);var t,n,r,a=w(i);function i(){return v(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"renderMenu",value:function(e){var t=o.a.Children.map(this.props.children,(function(t){if(t)return o.a.createElement(t.type,h({},t.props,{onClick:function(n){t.props.onClick&&t.props.onClick(n),t.props.disableCloseOnClick||e()},closeTooltip:t.props.disableCloseOnClick?e:void 0}))}));return o.a.createElement("ul",{className:"tooltip-content__inner"},t)}},{key:"render",value:function(){var e=this.props,t=e.iconName,n=e.iconSize,r=e.label,a=e.hidden,i=e.raised,l=e.className,p=e.disabled,f=e.secondary,d=e.trigger,m=b(e,y);if(a)return null;var v=c()("context-menu",k({"context-menu--raised":!0===i,"context-menu--disabled":p},l,Boolean(l)));return o.a.createElement(u.b,h({disabled:p,side:"right",white:!0,triggerOn:"click"},m,{className:v,renderTooltip:this.renderMenu}),d||o.a.createElement(s.a,{disabled:p,flat:!i,iconName:t,secondary:f,iconSize:n,label:r,toggle:"by-tooltip"}))}}])&&g(t.prototype,n),r&&g(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component),k(d,"propTypes",{label:i.a.string,trigger:i.a.any,iconName:i.a.string,iconSize:i.a.oneOfType([i.a.string,i.a.number]),hidden:i.a.bool,raised:i.a.bool,className:i.a.string,disabled:i.a.bool,secondary:i.a.bool}),k(d,"defaultProps",{iconName:"ellipsis",iconSize:32,hidden:!1,raised:!1}),j=(f=m).prototype,E="renderMenu",S=[e],P=Object.getOwnPropertyDescriptor(f.prototype,"renderMenu"),C=f.prototype,N={},Object.keys(P).forEach((function(e){N[e]=P[e]})),N.enumerable=!!N.enumerable,N.configurable=!!N.configurable,("value"in N||N.initializer)&&(N.writable=!0),N=S.slice().reverse().reduce((function(e,t){return t(j,E,e)||e}),N),C&&void 0!==N.initializer&&(N.value=N.initializer?N.initializer.call(C):void 0,N.initializer=void 0),void 0===N.initializer&&(Object.defineProperty(j,E,N),N=null),f);t.a=z}).call(this,n(4).bind)},,,,function(e,t,n){"use strict";(function(e){var r,o,a,i=n(0),l=n.n(i),c=n(1),s=n.n(c),u=n(20),p=n(7),f=n.n(p),d=n(191),m=n(6),y=n(13);n(995);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k(e);if(t){var o=k(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return x(this,n)}}function x(e,t){if(t&&("object"===b(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return O(e)}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e,t,n,r,o){var a={};return Object.keys(r).forEach((function(e){a[e]=r[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var S=(a=o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_(e,t)}(a,e);var t,n,r,o=w(a);function a(){var e;v(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return j(O(e=o.call.apply(o,[this].concat(n))),"containerEl",null),j(O(e),"inputEl",null),j(O(e),"scrollEl",l.a.createRef()),j(O(e),"listenClick",(function(t){for(var n=t.target;null!==n&&n!==e.containerEl&&n!==document.body;)n=n.parentNode;n!==e.containerEl&&e.setState({isOpen:!1,typeInput:e.props.resetOnBlur?"":e.state.typeInput})})),e.state={isOpen:!1,typeInput:e.props.defaultInputValue||"",isLoading:!1,selectedValue:!1,highlightIndex:0,options:[]},e}return t=a,(n=[{key:"componentWillReceiveProps",value:function(e){if(e.value!==this.props.value){var t=e.options.findIndex((function(t){return t.id===e.value}));-1!==t&&this.setState({selectedValue:!0,highlightIndex:t,typeInput:e.options[t].label})}}},{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.loadOptions,r=t.options;n&&n("",!0).then((function(t){Object(d.a)(t);var n={options:t};if(e.props.value&&0===r.length){var o=t.findIndex((function(t){return t.id===e.props.value}));-1!==o&&(n=Object.assign(n,{selectedValue:!0,highlightIndex:o,typeInput:t[o].label}))}e.setState(n)}))}},{key:"componentWillUpdate",value:function(e,t){!this.state.isOpen&&t.isOpen&&document.addEventListener("click",this.listenClick),this.state.isOpen&&!t.isOpen&&document.removeEventListener("click",this.listenClick)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.listenClick)}},{key:"setTypeInput",value:function(e){this.setState({typeInput:e})}},{key:"onUpdateValue",value:function(e){if(e){var t=this.props.onChange;t&&t(e.id,this.state.typeInput,e),this.setState({typeInput:e.label,isOpen:!1,selectedValue:!0,highlightIndex:0})}}},{key:"onClear",value:function(){var e=this.props.onChange;e&&e(""),this.setState({typeInput:"",isOpen:!1,selectedValue:!1,highlightIndex:0}),this.setFocus()}},{key:"onType",value:function(e){var t=this,n=this.props,r=n.loadOptions,o=n.minCharacters;r?(this.setState({isLoading:!0,isOpen:!0,highlightIndex:0,typeInput:e.target.value,options:[]}),e.target.value.length>=o&&r(e.target.value).then((function(e){Object(d.a)(e),t.setState({options:e,isLoading:!1})})).catch((function(e){Object(d.a)(e),t.setState({isLoading:!1})}))):this.setState({isOpen:!0,typeInput:e.target.value,selectedValue:Boolean(e.target.value),highlightIndex:0},(function(){return t.props.onChange("",t.state.typeInput)}))}},{key:"onFocus",value:function(){this.setState({isOpen:!0}),this.props.onFocus&&this.props.onFocus()}},{key:"onBlur",value:function(e){null!==e.relatedTarget&&(this.setState({isOpen:!1,typeInput:this.props.resetOnBlur?"":this.state.typeInput}),this.props.onBlur&&this.props.onBlur())}},{key:"scrollListToActiveElement",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.scrollEl.current.view;if(t&&t.children instanceof HTMLCollection){var n=t.children[e];if(n){var r=this.scrollEl.current.getScrollTop(),o=this.scrollEl.current.getClientHeight(),a=n.offsetTop+n.offsetHeight;r+o<a?this.scrollEl.current.scrollTop(a-o):r>n.offsetTop&&this.scrollEl.current.scrollTop(n.offsetTop)}}}},{key:"onKeyDown",value:function(e){var t=this.state.highlightIndex,n=this.getFilteredOptions();if(38===e.keyCode){var r=t-1>=0?t-1:0;this.setState({highlightIndex:r,isOpen:!0}),this.scrollListToActiveElement(r),e.nativeEvent.preventDefault(),e.nativeEvent.stopImmediatePropagation()}else if(40===e.keyCode){var o=t+1>=n.length?n.length-1:t+1;this.setState({highlightIndex:o,isOpen:!0}),this.scrollListToActiveElement(o),e.nativeEvent.preventDefault(),e.nativeEvent.stopImmediatePropagation()}else if(13===e.keyCode){var a=n[t%n.length];this.onUpdateValue(a),this.setFocus(),e.nativeEvent.preventDefault(),e.nativeEvent.stopImmediatePropagation()}}},{key:"setFocus",value:function(){this.inputEl.focus()}},{key:"getOptions",value:function(){var e=this.props,t=e.loadOptions,n=e.options,r=this.state.options;return t?r:n}},{key:"getFilteredOptions",value:function(){var e=this.props,t=e.minCharacters,n=e.loadOptions,r=e.options,o=this.state,a=o.typeInput,i=o.options;return n?i:a.length>=t?r.filter((function(e){return e.label.toLowerCase().indexOf(a.toLowerCase())>-1})):r}},{key:"renderHorizontalTrack",value:function(e){return l.a.createElement("div",h({},e,{className:"typeahead__horizontal-scroll"}))}},{key:"renderOptions",value:function(){var e=this,t=this.props.disableFilter,n=this.state.highlightIndex,r=t?this.getOptions():this.getFilteredOptions();return r.length||this.props.hideNoMatch?r.map((function(t,o){var a=f()("typeahead__item",{"typeahead__item--active":n%r.length===o});return l.a.createElement("div",{key:t.id+String(o),className:a,onClick:function(){return e.onUpdateValue(t)}},t.label)})):l.a.createElement("div",{className:"typeahead__no-result"},"No result")}},{key:"render",value:function(){var e=this,t=this.props,n=t.placeholder,r=t.className,o=t.disabled,a=t.action,i=t.hideNoMatch,c=t.hideClear,s=t.tabIndex,p=t["data-cy"],d=this.state,b=d.typeInput,h=d.selectedValue,v=d.isOpen,g=d.isLoading,_=f()("typeahead","dropdown",r,{"dropdown--disabled":o,"dropdown--open":v,"typeahead__selected-value":h});return l.a.createElement("div",{className:_,ref:function(t){return e.containerEl=t},"data-cy":p},l.a.createElement("div",{className:"dropdown__header",onClick:this.setFocus},l.a.createElement("input",{type:"text",className:"typeahead__input input",ref:function(t){return e.inputEl=t},placeholder:n,value:b,onChange:this.onType,onFocus:this.onFocus,onBlur:this.onBlur,disabled:o,onKeyDown:this.onKeyDown,tabIndex:s}),l.a.createElement(y.a,{className:"dropdown__header-arrow",name:"arrow-down",size:14}),h&&!c&&l.a.createElement(m.a,{"data-cy":p?"".concat(p,"-clear"):void 0,className:"typeahead__icon-clear",iconName:"close-circle",size:14,onClick:this.onClear})),l.a.createElement("div",{className:"dropdown__body"},l.a.createElement(u.Scrollbars,{ref:this.scrollEl,autoHeight:!0,autoHeightMin:i?0:40,autoHeightMax:220,renderTrackHorizontal:this.renderHorizontalTrack},g&&l.a.createElement("div",{className:"typeahead__loading"},"Loading..."),!g&&this.renderOptions()),a&&l.a.createElement("div",{className:"typeahead__action"},a)))}}])&&g(t.prototype,n),r&&g(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.Component),j(o,"propTypes",{className:s.a.string,onChange:s.a.func,onInput:s.a.func,onFocus:s.a.func,onBlur:s.a.func,placeholder:s.a.string,value:s.a.string,disabled:s.a.bool,options:s.a.arrayOf(s.a.shape({id:s.a.string.isRequired,label:s.a.string.isRequired})),resetOnBlur:s.a.bool,action:s.a.object,loadOptions:s.a.func,minCharacters:s.a.number,hideNoMatch:s.a.bool,hideClear:s.a.bool,disableFilter:s.a.bool,defaultInputValue:s.a.string,tabIndex:s.a.number,"data-cy":s.a.string}),j(o,"defaultProps",{minCharacters:2,placeholder:"",resetOnBlur:!0,options:[]}),E((r=a).prototype,"setTypeInput",[e],Object.getOwnPropertyDescriptor(r.prototype,"setTypeInput"),r.prototype),E(r.prototype,"onUpdateValue",[e],Object.getOwnPropertyDescriptor(r.prototype,"onUpdateValue"),r.prototype),E(r.prototype,"onClear",[e],Object.getOwnPropertyDescriptor(r.prototype,"onClear"),r.prototype),E(r.prototype,"onType",[e],Object.getOwnPropertyDescriptor(r.prototype,"onType"),r.prototype),E(r.prototype,"onFocus",[e],Object.getOwnPropertyDescriptor(r.prototype,"onFocus"),r.prototype),E(r.prototype,"onBlur",[e],Object.getOwnPropertyDescriptor(r.prototype,"onBlur"),r.prototype),E(r.prototype,"onKeyDown",[e],Object.getOwnPropertyDescriptor(r.prototype,"onKeyDown"),r.prototype),E(r.prototype,"setFocus",[e],Object.getOwnPropertyDescriptor(r.prototype,"setFocus"),r.prototype),E(r.prototype,"getOptions",[e],Object.getOwnPropertyDescriptor(r.prototype,"getOptions"),r.prototype),E(r.prototype,"getFilteredOptions",[e],Object.getOwnPropertyDescriptor(r.prototype,"getFilteredOptions"),r.prototype),r);t.a=S}).call(this,n(4).bind)},function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(1),i=n.n(a),l=n(7),c=n.n(l),s=n(17),u=n(23),p=n(6);n(1178);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var o=v(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}(i,e);var t,n,r,a=b(i);function i(){return d(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.student,n=e.roomName,r=e.onClick,a=e.checked,i=e.checkable,l=e.disableCheck,f=e.action,d=e.actionIcon,m=e.className,y=c()({"student-card":!0,"student-card--checkable":i,"student-card--actionable":Boolean(f)},m);return o.a.createElement("div",{className:y,onClick:l?void 0:r},i&&o.a.createElement(s.a,{checked:a,disabled:l}),o.a.createElement(u.a,{url:t.profile_pic_url,name:t.name,color:t.color,className:"student-card__avatar avatar--small"}),o.a.createElement("div",{className:"student-card__info"},o.a.createElement("div",{className:"student-card__full-name"},t.name),n&&o.a.createElement("span",{className:"student-card__room"},n)),f&&o.a.createElement(p.a,{iconName:d,onClick:f}))}}])&&m(t.prototype,n),r&&m(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component);g(_,"propTypes",{checkable:i.a.bool,checked:i.a.bool,disableCheck:i.a.bool}),g(_,"defaultProps",{checkable:!0,disableCheck:!1}),t.a=_},function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return i})),n.d(t,"e",(function(){return l}));var r={kids:{label:"Students",disabled:{admin:["none"],nonAdmin:["none"]}},kids_addresses:{label:"Student Address",disabled:{admin:[],nonAdmin:[]}},sections:{label:"Rooms",disabled:{admin:["none"],nonAdmin:["none"]}},programs:{label:"Programs",enabledBySchoolSetting:function(e){return e.enable_programs}},carers:{label:"Parents/Pickup",disabled:{admin:["none"],nonAdmin:["none"]}},carers_info:{label:"Parent Contact",disabled:{admin:[],nonAdmin:[]},tooltip:"Email & Phone contact of parents"},teachers:{label:"Staff",disabled:{nonAdmin:["none","read","write"]}},billing:{label:"Billing"},accounting_total:{label:"Accounting Total",disabled:{admin:["read"],nonAdmin:["read"]}},teachers_siso:{label:"Staff Timecard"},teachers_messaging:{label:"Staff Messaging",disabled:{admin:[],nonAdmin:[]}},parents_messaging:{label:"Parent/Staff Messaging",disabled:{admin:["read"],nonAdmin:["read"]},tooltip:"Staff with Full Access to Staff/Parent Messaging will be limited to see messages in their Primary and Additional rooms"},lead_crm:{label:"Leads"},documents:{label:"Documents",disabledCorp:{admin:["read"],nonAdmin:["read"]}},school_calendars:{label:"Calendar",disabled:{nonAdmin:[]}},reports:{label:"Reports",disabled:{nonAdmin:["read"],admin:["read"]}},school_settings:{label:"School Settings",disabled:{nonAdmin:["none","read","write"]}},school_access:{label:"School Access",disabledCorp:{admin:["none"],nonAdmin:["none"]}}},o={none:"No Access",read:"Read",write:"Full Access"},a=Object.keys(r),i=["sections","teachers","billing","lead_crm","reports","documents","school_access"],l=["school_access"]},,,,function(e,t,n){"use strict";(function(e){var r,o,a,i=n(0),l=n.n(i),c=n(1),s=n.n(c),u=n(6),p=n(18);n(1142);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var o=v(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e,t,n,r,o){var a={};return Object.keys(r).forEach((function(e){a[e]=r[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var w=(a=o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}(a,e);var t,n,r,o=b(a);function a(){return d(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"toPrevPage",value:function(){1!==this.props.page&&this.props.onPrev()}},{key:"toNextPage",value:function(){var e=this.props,t=e.page,n=e.total;t*e.perPage>=n||this.props.onNext()}},{key:"getDisplayedIndicies",value:function(){var e=this.props,t=e.total,n=e.page,r=e.perPage;if(0===t)return"0";var o=n*r,a=(n-1)*r+1,i=o>=t?t:o;return 1===r?"".concat(i):"".concat(a," - ").concat(i)}},{key:"render",value:function(){var e=this.props,t=e.page,n=e.total,r=e.perPage,o=e.loading,a=e.disabled,i=t*r;return e.isBottom&&i>=n?null:l.a.createElement("div",{className:"page-nav"},o&&l.a.createElement("div",{className:"page-nav__loader"},l.a.createElement(p.a,{small:!0})),l.a.createElement("div",{className:"page-nav__count"},this.getDisplayedIndicies()," ",l.a.createElement("span",{className:"page-nav__delimiter"},"of")," ",n),l.a.createElement(u.a,{size:12,disabled:1===t||a,iconName:"arrow-down",className:"page-nav__arrow-left",onClick:this.toPrevPage}),l.a.createElement(u.a,{size:12,disabled:i>=n||a,iconName:"arrow-down",className:"page-nav__arrow-right",onClick:this.toNextPage}))}}])&&m(t.prototype,n),r&&m(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.Component),g(o,"propTypes",{page:s.a.number,total:s.a.number,perPage:s.a.number,loading:s.a.bool,disabled:s.a.bool,delay:s.a.number,isBottom:s.a.bool,onNext:s.a.func,onPrev:s.a.func}),g(o,"defaultProps",{page:1,total:1,perPage:1,loading:!1,delay:500,isBottom:!1}),_((r=a).prototype,"toPrevPage",[e],Object.getOwnPropertyDescriptor(r.prototype,"toPrevPage"),r.prototype),_(r.prototype,"toNextPage",[e],Object.getOwnPropertyDescriptor(r.prototype,"toNextPage"),r.prototype),r);t.a=w}).call(this,n(4).bind)},,function(e,t,n){"use strict";n.r(t),function(e){var r,o,a,i=n(0),l=n(1),c=n.n(l),s=n(55);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b(this,n)}}function b(e,t){if(t&&("object"===u(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,t,n,r,o){var a={};return Object.keys(r).forEach((function(e){a[e]=r[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var _=(a=o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}(a,e);var t,n,r,o=y(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this,e)).state={newItemId:void 0,editItemId:void 0},t}return t=a,(n=[{key:"initNewItem",value:function(){this.setState({newItemId:Object(s.v4)()})}},{key:"cancelNewItem",value:function(){this.setState({newItemId:void 0})}},{key:"createNewItem",value:function(e){var t=this.props.onAdd(f(f({},e),{},{id:this.state.newItemId,_new:!0}));return t instanceof Promise?t.then(this.cancelNewItem).catch((function(){})):this.cancelNewItem(),t}},{key:"initEditItem",value:function(e){this.setState({editItemId:e})}},{key:"endEditItem",value:function(){this.setState({editItemId:void 0})}},{key:"updateItem",value:function(e,t){var n=this.props.onUpdate(e,t);return n instanceof Promise?n.then(this.endEditItem).catch((function(){})):this.endEditItem(),n}},{key:"replaceItems",value:function(e){return this.props.onReplace(e)}},{key:"deleteItem",value:function(e){return this.props.onDelete(e)}},{key:"render",value:function(){var e=this.props,t=e.items,n=e.children,r=this.state,o=r.newItemId,a=r.editItemId;return n({items:t,isNew:void 0!==o,isEdit:void 0!==a,editItemId:a,onNew:this.initNewItem,onNewCreate:this.createNewItem,onNewCancel:this.cancelNewItem,onEditStart:this.initEditItem,onEditEnd:this.endEditItem,onUpdate:this.updateItem,onReplace:this.replaceItems,onDelete:this.deleteItem})}}])&&d(t.prototype,n),r&&d(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.PureComponent),v(o,"propTypes",{items:c.a.arrayOf(c.a.shape({id:c.a.string.isRequired})),onAdd:c.a.func,onUpdate:c.a.func.isRequired,onReplace:c.a.func,onDelete:c.a.func.isRequired,children:c.a.func.isRequired}),g((r=a).prototype,"initNewItem",[e],Object.getOwnPropertyDescriptor(r.prototype,"initNewItem"),r.prototype),g(r.prototype,"cancelNewItem",[e],Object.getOwnPropertyDescriptor(r.prototype,"cancelNewItem"),r.prototype),g(r.prototype,"createNewItem",[e],Object.getOwnPropertyDescriptor(r.prototype,"createNewItem"),r.prototype),g(r.prototype,"initEditItem",[e],Object.getOwnPropertyDescriptor(r.prototype,"initEditItem"),r.prototype),g(r.prototype,"endEditItem",[e],Object.getOwnPropertyDescriptor(r.prototype,"endEditItem"),r.prototype),g(r.prototype,"updateItem",[e],Object.getOwnPropertyDescriptor(r.prototype,"updateItem"),r.prototype),g(r.prototype,"replaceItems",[e],Object.getOwnPropertyDescriptor(r.prototype,"replaceItems"),r.prototype),g(r.prototype,"deleteItem",[e],Object.getOwnPropertyDescriptor(r.prototype,"deleteItem"),r.prototype),r);t.default=_}.call(this,n(4).bind)},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(1),i=n.n(a),l=n(7),c=n.n(l),s=n(6),u=(n(1094),function(e){var t=e.title,n=e.className,r=e.addIcon,a=e.addLabel,i=e.addDisabled,l=e.onAdd,u=e.onBack,p=e.children,f=e["data-cy"];return o.a.createElement("div",{className:c()("manage-window",n)},o.a.createElement("div",{className:"modal__header"},u&&o.a.createElement(s.a,{iconName:"back",onClick:u}),o.a.createElement("div",{className:"modal__header-title"},t),l&&a&&o.a.createElement(s.a,{className:"manage-window__add-btn",iconName:r,title:a,onClick:l,disabled:i,"data-cy":f})),o.a.createElement("div",{className:"manage-window__container"},p))});u.propTypes={title:i.a.string,addIcon:i.a.string,addLabel:i.a.string,addDisabled:i.a.bool,onAdd:i.a.func,onBack:i.a.func,"data-cy":i.a.string},t.default=u},function(e,t,n){"use strict";n.r(t);var r=n(183);n.d(t,"ManageList",(function(){return r.default}));var o=n(239);n.d(t,"ManageListItemDefault",(function(){return o.default})),t.default=r.default},function(e,t,n){"use strict";t.a={US:[{name:"Alabama",abbreviation:"AL"},{name:"Alaska",abbreviation:"AK"},{name:"American Samoa",abbreviation:"AS"},{name:"Arizona",abbreviation:"AZ"},{name:"Arkansas",abbreviation:"AR"},{name:"California",abbreviation:"CA"},{name:"Colorado",abbreviation:"CO"},{name:"Connecticut",abbreviation:"CT"},{name:"Delaware",abbreviation:"DE"},{name:"District Of Columbia",abbreviation:"DC"},{name:"Federated States Of Micronesia",abbreviation:"FM"},{name:"Florida",abbreviation:"FL"},{name:"Georgia",abbreviation:"GA"},{name:"Guam",abbreviation:"GU"},{name:"Hawaii",abbreviation:"HI"},{name:"Idaho",abbreviation:"ID"},{name:"Illinois",abbreviation:"IL"},{name:"Indiana",abbreviation:"IN"},{name:"Iowa",abbreviation:"IA"},{name:"Kansas",abbreviation:"KS"},{name:"Kentucky",abbreviation:"KY"},{name:"Louisiana",abbreviation:"LA"},{name:"Maine",abbreviation:"ME"},{name:"Marshall Islands",abbreviation:"MH"},{name:"Maryland",abbreviation:"MD"},{name:"Massachusetts",abbreviation:"MA"},{name:"Michigan",abbreviation:"MI"},{name:"Minnesota",abbreviation:"MN"},{name:"Mississippi",abbreviation:"MS"},{name:"Missouri",abbreviation:"MO"},{name:"Montana",abbreviation:"MT"},{name:"Nebraska",abbreviation:"NE"},{name:"Nevada",abbreviation:"NV"},{name:"New Hampshire",abbreviation:"NH"},{name:"New Jersey",abbreviation:"NJ"},{name:"New Mexico",abbreviation:"NM"},{name:"New York",abbreviation:"NY"},{name:"North Carolina",abbreviation:"NC"},{name:"North Dakota",abbreviation:"ND"},{name:"Northern Mariana Islands",abbreviation:"MP"},{name:"Ohio",abbreviation:"OH"},{name:"Oklahoma",abbreviation:"OK"},{name:"Oregon",abbreviation:"OR"},{name:"Palau",abbreviation:"PW"},{name:"Pennsylvania",abbreviation:"PA"},{name:"Puerto Rico",abbreviation:"PR"},{name:"Rhode Island",abbreviation:"RI"},{name:"South Carolina",abbreviation:"SC"},{name:"South Dakota",abbreviation:"SD"},{name:"Tennessee",abbreviation:"TN"},{name:"Texas",abbreviation:"TX"},{name:"Utah",abbreviation:"UT"},{name:"Vermont",abbreviation:"VT"},{name:"Virgin Islands",abbreviation:"VI"},{name:"Virginia",abbreviation:"VA"},{name:"Washington",abbreviation:"WA"},{name:"West Virginia",abbreviation:"WV"},{name:"Wisconsin",abbreviation:"WI"},{name:"Wyoming",abbreviation:"WY"}],AU:[{name:"New South Wales",abbreviation:"NSW"},{name:"Queensland",abbreviation:"Qld"},{name:"South Australia",abbreviation:"SA"},{name:"Tasmania",abbreviation:"Tas"},{name:"Victoria",abbreviation:"Vic"},{name:"Western Australia",abbreviation:"WA"},{name:"Australian Capital Territory",abbreviation:"ACT"}],CA:[{name:"Alberta",abbreviation:"AB"},{name:"British Columbia",abbreviation:"BC"},{name:"Manitoba",abbreviation:"MB"},{name:"New Brunswick",abbreviation:"NB"},{name:"Newfoundland and Labrador",abbreviation:"NL"},{name:"Northwest Territories",abbreviation:"NT"},{name:"Nova Scotia",abbreviation:"NS"},{name:"Nunavut",abbreviation:"NU"},{name:"Ontario",abbreviation:"ON"},{name:"Prince Edward Island",abbreviation:"PE"},{name:"Quebec",abbreviation:"QC"},{name:"Saskatchewan",abbreviation:"SK"},{name:"Yukon",abbreviation:"YT"}]}},,function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(1),i=n.n(a),l=n(13),c=n(18);n(1060);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var o=y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m(this,n)}}function m(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(i,e);var t,n,r,a=d(i);function i(){return u(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"renderIcon",value:function(){var e=this.props,t=e.icon,n=e.iconSize,r=e.image;if(t)return o.a.createElement(l.a,{name:t,size:n,className:"loading-placeholder__icon"});if(r){var a={width:n,height:n,backgroundImage:"url(/assets/images/".concat(r,")")};return o.a.createElement("div",{className:"loading-placeholder__image",style:a})}return null}},{key:"renderPlaceholder",value:function(){var e=this.props,t=e.title,n=e.text;return o.a.createElement("div",{className:"loading-placeholder__placeholder"},this.renderIcon(),t&&o.a.createElement("div",{className:"loading-placeholder__title"},t),n&&o.a.createElement("div",{className:"loading-placeholder__text"},n))}},{key:"renderPreloader",value:function(){return o.a.createElement("div",{className:"loading-placeholder__preloader"},o.a.createElement(c.a,{large:!0}))}},{key:"getClassName",value:function(e){return"string"!=typeof e?"loading-placeholder":"loading-placeholder "+e}},{key:"render",value:function(){var e=this.props,t=e.loading,n=e.className;return o.a.createElement("div",{className:this.getClassName(n)},t?this.renderPreloader():this.renderPlaceholder())}}])&&p(t.prototype,n),r&&p(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.PureComponent);b(h,"propTypes",{icon:i.a.string,iconSize:i.a.number,image:i.a.string,title:i.a.string,text:i.a.string,className:i.a.string,loading:i.a.bool}),b(h,"defaultProps",{loading:!1,iconSize:64}),t.a=h},function(e,t,n){"use strict";(function(e){var r,o,a,i=n(0),l=n.n(i),c=n(1),s=n.n(c),u=n(6);n(1126);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b(this,n)}}function b(e,t){if(t&&("object"===p(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g,_,w,x,O,k,j=(a=o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}(a,e);var t,n,r,o=y(a);function a(){return f(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"deleteTag",value:function(){this.props.onDelete&&this.props.onDelete(this.props.tag.id)}},{key:"render",value:function(){var e=this.props,t=e.tag,n=e.onDelete;return t.id&&t.name?l.a.createElement("div",{className:"selected-tag"},l.a.createElement("div",{className:"selected-tag__name"},t.name),n&&l.a.createElement(u.a,{className:"selected-tag__close-btn",iconName:"close",size:9,onClick:this.deleteTag})):null}}])&&d(t.prototype,n),r&&d(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.Component),v(o,"propTypes",{tag:s.a.shape({id:s.a.string,name:s.a.string}),onDelete:s.a.func}),v(o,"defaultProps",{tag:{}}),g=(r=a).prototype,_="deleteTag",w=[e],x=Object.getOwnPropertyDescriptor(r.prototype,"deleteTag"),O=r.prototype,k={},Object.keys(x).forEach((function(e){k[e]=x[e]})),k.enumerable=!!k.enumerable,k.configurable=!!k.configurable,("value"in k||k.initializer)&&(k.writable=!0),k=w.slice().reverse().reduce((function(e,t){return t(g,_,e)||e}),k),O&&void 0!==k.initializer&&(k.value=k.initializer?k.initializer.call(O):void 0,k.initializer=void 0),void 0===k.initializer&&(Object.defineProperty(g,_,k),k=null),r);t.a=j}).call(this,n(4).bind)},,,function(e,t,n){"use strict";(function(e){var r,o,a,i=n(0),l=n.n(i),c=n(7),s=n.n(c),u=n(1),p=n.n(u),f=n(13);n(957);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var o=g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v(this,n)}}function v(e,t){if(t&&("object"===d(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w,x,O,k,j,E,S=(a=o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(a,e);var t,n,r,o=h(a);function a(){return m(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"handleClick",value:function(){this.props.onClick&&this.props.onClick(this.props.value)}},{key:"render",value:function(){var e=this.props,t=e.icon,n=e.label,r=e.className,o=e.disabled,a=e["data-cy"],i=s()("context-menu-item",_({"context-menu-item--disabled":o},r,Boolean(r)));return l.a.createElement("li",{className:i,onClick:this.handleClick,"data-cy":a},t&&l.a.createElement(f.a,{name:t,className:"context-menu-item__icon"}),l.a.createElement("span",{className:"context-menu-item__label"},n))}}])&&y(t.prototype,n),r&&y(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.Component),_(o,"propTypes",{icon:p.a.string,label:p.a.string,value:p.a.any,disabled:p.a.bool,onClick:p.a.func,"data-cy":p.a.string}),_(o,"defaultProps",{}),w=(r=a).prototype,x="handleClick",O=[e],k=Object.getOwnPropertyDescriptor(r.prototype,"handleClick"),j=r.prototype,E={},Object.keys(k).forEach((function(e){E[e]=k[e]})),E.enumerable=!!E.enumerable,E.configurable=!!E.configurable,("value"in E||E.initializer)&&(E.writable=!0),E=O.slice().reverse().reduce((function(e,t){return t(w,x,e)||e}),E),j&&void 0!==E.initializer&&(E.value=E.initializer?E.initializer.call(j):void 0,E.initializer=void 0),void 0===E.initializer&&(Object.defineProperty(w,x,E),E=null),r);t.a=S}).call(this,n(4).bind)},function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(1),i=n.n(a),l=n(7),c=n.n(l),s=n(3),u=n.n(s);n(1601);function p(e){var t=e.timestamp,n=e.showDate,r=e.className,a=e.displayType,i=u()(t),l=u()(),s=Helpers.formatTime(t),p="";switch(!0){case l.diff(i)<0:p="Today";break;case l.startOf("year").diff(i)<0:p=i.format("MMM D");break;default:p=i.format("MMM D, YYYY")}"cell"===a&&(p=i.format("MMM D, YYYY"));var f,d,m,y=c()("timestamp",r,(f={},d="timestamp--".concat(a),m=!!a,d in f?Object.defineProperty(f,d,{value:m,enumerable:!0,configurable:!0,writable:!0}):f[d]=m,f));return o.a.createElement("div",{className:y},n&&o.a.createElement("div",{className:"timestamp__date"},p),o.a.createElement("div",{className:"timestamp__time"},s))}p.propTypes={timestamp:i.a.oneOfType([i.a.string,i.a.number]).isRequired,displayType:i.a.string,className:i.a.string,showDate:i.a.bool},p.defaultProps={showDate:!0},t.a=p},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(1),i=n.n(a),l=n(2),c=function(e){var t=e.rooms,n=e.statuses,r=e.tags,a=e.onUpdate,i=e.defaultValue,c=e.customControl,s=e.placeholder;return o.a.createElement(l.a,{onChange:a,className:"form--search"},o.a.createElement("div",{className:"form__row form--inline"},o.a.createElement(l.a.Input,{name:"search",placeholder:s,className:"input--search",defaultValue:i.search}),t&&o.a.createElement(l.a.Select,{name:"roomId",title:"Select Room",type:"radio",defaultValue:i.roomId,enableClear:!0},o.a.createElement(l.a.Select.Item,{value:"",label:"All Rooms",isDefault:!0}),t.map((function(e){return o.a.createElement(l.a.Select.Item,{key:e.id,value:e.id,label:e.name})}))),n&&o.a.createElement(l.a.Select,{name:"registration_status",title:"Select Status",defaultValue:i.registration_status},Object.keys(n).map((function(e){return o.a.createElement(l.a.Select.Item,{key:e,value:e,label:n[e]})}))),r&&o.a.createElement(l.a.Select,{name:"tagIds",type:"checkbox",title:"Select Tags",multipleSelectionText:"tags applied",defaultValue:i.tagIds,enableClear:!0},r.map((function(e){return o.a.createElement(l.a.Select.Item,{key:e.id,value:e.id,label:e.name})})))),c&&o.a.createElement("div",{className:"form__row form--inline form__row--text"},c))};c.propTypes={onUpdate:i.a.func,rooms:i.a.array,statuses:i.a.object,tags:i.a.array,defaultValues:i.a.object,customControl:i.a.object,placeholder:i.a.string},c.defaultProps={defaultValue:{},placeholder:"Search"},t.default=c},,,,function(e,t,n){"use strict";(function(e){var r=n(0),o=n.n(r),a=n(1),i=n.n(a),l=n(7),c=n.n(l),s=n(3),u=n.n(s),p=n(2),f=n(19),d=n(36),m=n(551),y=n(427),b=(n(1117),n(51));function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var v,g,_,w=["type","hidden","formType"];function x(e,t,n,r,o,a,i){try{var l=e[a](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function O(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){x(a,r,o,i,l,"next",e)}function l(e){x(a,r,o,i,l,"throw",e)}i(void 0)}))}}function k(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){R(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=z(e);if(t){var o=z(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return N(this,n)}}function N(e,t){if(t&&("object"===h(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T(e,t,n,r,o){var a={};return Object.keys(r).forEach((function(e){a[e]=r[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var D=(_=g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&P(e,t)}(i,e);var t,n,r,a=C(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=a.call(this,e)).state={formKey:0,values:E({},e.defaultValues),extra:{}},t}return t=i,r=[{key:"isHidden",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.type;return"hidden-select"===t}}],(n=[{key:"onChange",value:function(e,t){this.setState({values:E(E({},this.state.values),{},R({},e,t))})}},{key:"onSubmit",value:function(e,t,n){var r=this,o=this.props,a=o.filters,i=o.defaultDateFilter,l=E(E({},this.state.values),e);Object.keys(a).forEach((function(t){var o=a[t];if("date-range"===o.type){var c=e[o.useName?"".concat(t,"_from"):"from"],s=e[o.useName?"".concat(t,"_to"):"to"],p=o.useName?t:"dateRange",f=void 0!==c||void 0!==s;(r.state.values[p]&&f||n)&&(l[p]=[c,s])}if("date-filter"===o.type&&void 0!==e[t]&&(l[t].date=u()(e[t].dateRange[0]).toDate(),i)){var d=u()(i.dateRange[0],"YYYY-MM-DD"),m=u()(e[t].dateRange[0]).isSame(d,"day"),y=u()(i.dateRange[1],"YYYY-MM-DD"),h=u()(e[t].dateRange[1]).isSame(y,"day");m&&h&&delete l[t]}"registration-status"===o.type&&(void 0!==e.status&&(l[t]=b.g.buildCompositeProperty(e),delete l.status,delete l.range),l[t]||(l[t]=b.g.buildCompositeProperty(),delete l.status,delete l.range))})),this.setState({values:l}),this.props.onSubmit(l),"function"==typeof t&&t()}},{key:"onCancel",value:function(e,t,n,r){var o=this.props.filters;switch(e){case"tags":case"multi-select":case"checkbox-group":this.onSubmit(E(E({},this.state.values),{},R({},t,this.state.values[t].filter((function(e){return e!==n})))));break;case"room":case"lesson-category":case"checkbox":case"select":case"typeahead":case"hidden-select":case"date-picker":case"age-filter":case"date-filter":this.onSubmit(E(E({},this.state.values),{},R({},t,o[t].ignoredValues?o[t].ignoredValues[0]:void 0)));break;case"date-range":var a=o[t].useName?"".concat(t,"_from"):"from",i=o[t].useName?"".concat(t,"_to"):"to";0===r?this.onSubmit(E(E({},this.state.values),{},R({},a,void 0)),null,!0):this.onSubmit(E(E({},this.state.values),{},R({},i,void 0)),null,!0);break;case"sign-filter":var l=E(E({},this.state.values[t]),{},R({},r,void 0));this.onSubmit(E(E({},this.state.values),{},R({},t,l&&(l.before||l.after||l.never)?l:void 0)));break;case"registration-status":this.onSubmit(E(E({},this.state.values),{},R({},t,void 0)))}}},{key:"onOpen",value:function(){this.filterForm&&this.setState({formKey:this.state.formKey+1})}},{key:"shouldDisplayDefaultDate",value:function(){return this.props.displayDefaultDate&&this.props.defaultDateFilter&&!this.state.values.date}},{key:"filterApplied",value:function(){var e=this.props.filters,t=this.state.values;return Object.keys(t).filter((function(n){return t[n]&&e[n]&&(!e[n].ignoredValues||-1===e[n].ignoredValues.indexOf(t[n]))&&(!e[n].shouldIgnore||!e[n].shouldIgnore(t[n]))&&(!Array.isArray(t[n])||t[n].filter((function(e){return!!e})).length)}))}},{key:"hasFilter",value:function(){var e=this.props.filters;return!!this.filterApplied().filter((function(t){var n=e[t];return!n.hidden&&-1===n.type.indexOf("hidden")})).length}},{key:"resetFilters",value:function(){this.setState({values:{}})}},{key:"renderFilterItem",value:function(e,t){var n=this,r=t.type,a=t.hidden,i=t.formType,l=k(t,w),c=this.state.values,s=m.a[r];if(0===r.indexOf("hidden")||a)return null;if(!s)return null;var p=E({key:"filter_".concat(e),name:e,type:i,defaultValue:c[e]},l);switch(r){case"typeahead":t.loadOptions&&(p.loadOptions=O(regeneratorRuntime.mark((function r(){var o,a=arguments;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=[],r.prev=1,r.next=4,t.loadOptions.apply(t,a);case 4:o=r.sent,r.next=9;break;case 7:r.prev=7,r.t0=r.catch(1);case 9:return n.setState({extra:R({},e,{options:o})}),r.abrupt("return",o);case 11:case"end":return r.stop()}}),r,null,[[1,7]])}))));break;case"date-filter":void 0===p.defaultValue&&(p.defaultValue={type:"monthly",date:u()().startOf("month").format("YYYY-MM-DD")})}return o.a.createElement(s,p)}},{key:"renderFilterForm",value:function(e){var t=this,n=this.props.filters;return o.a.createElement("div",{className:"tooltip-content__inner",key:this.state.formKey,"data-cy":"filter-options"},o.a.createElement(p.a,{ref:function(e){return t.filterForm=e},onSubmit:function(n){return t.onSubmit(n,e)}},Object.keys(n).map((function(e){return t.renderFilterItem(e,n[e])})),o.a.createElement("div",{className:"form__row form__row--actions"},o.a.createElement(p.a.Submit,{label:"Apply","data-cy":"apply"}))))}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,r=t.children,a=t.filters,l=t.wide,s=t.displayApplied,u=t.defaultDateFilter,m=t.side,b=t.noArrow,h=c()("filter-bar__toggle-btn",{"filter-bar__toggle-btn--no-filter":!this.hasFilter()}),v=c()("filter-bar",n,{"filter-bar--wide":l}),g=!!Object.keys(a).filter((function(e){return!i.isHidden(a[e])})).length;return o.a.createElement("div",{className:"filter","data-cy":"filter"},o.a.createElement("div",{className:v},o.a.createElement("div",{className:"filter-bar__main"},o.a.createElement(p.a,{onChange:this.onSubmit},r)),g&&o.a.createElement(f.b,{white:!0,side:m,noArrow:b,triggerOn:"click",className:"filter-bar__toggle",renderTooltip:this.renderFilterForm,tooltipClassName:"tooltip--form-wrapper",onOpen:this.onOpen},o.a.createElement(d.a,{className:h,secondary:!0,iconName:"filter-1",toggle:"by-tooltip","data-cy":"filter-trigger"}))),s&&o.a.createElement("div",{className:"applied-filters","data-cy":"filter-applied"},this.shouldDisplayDefaultDate()&&o.a.createElement(y.a,{key:"applied_default_date_range",config:{type:"date-filter",singleValue:!0},value:u,readonly:!0}),this.filterApplied().map((function(t){var n=e.state,r=n.values,i=n.extra;return o.a.createElement(y.a,{key:"applied_".concat(t),config:a[t],value:r[t],extra:i[t],onCancel:function(n,r){return e.onCancel(a[t].type,t,n,r)}})}))))}}])&&S(t.prototype,n),r&&S(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component),R(g,"propTypes",{onSubmit:i.a.func,className:i.a.string,filters:i.a.object,children:i.a.node,defaultValues:i.a.object,defaultDateFilter:i.a.object,displayApplied:i.a.bool,displayDefaultDate:i.a.bool,side:i.a.oneOf(["left","right","center"]),noArrow:i.a.bool}),R(g,"defaultProps",{onSubmit:function(){},isLoading:!1,children:null,defaultValues:{},defaultDateFilter:null,displayDefaultDate:!0,displayApplied:!0,side:"center",noArrow:!1}),T((v=_).prototype,"onChange",[e],Object.getOwnPropertyDescriptor(v.prototype,"onChange"),v.prototype),T(v.prototype,"onSubmit",[e],Object.getOwnPropertyDescriptor(v.prototype,"onSubmit"),v.prototype),T(v.prototype,"onCancel",[e],Object.getOwnPropertyDescriptor(v.prototype,"onCancel"),v.prototype),T(v.prototype,"onOpen",[e],Object.getOwnPropertyDescriptor(v.prototype,"onOpen"),v.prototype),T(v.prototype,"renderFilterItem",[e],Object.getOwnPropertyDescriptor(v.prototype,"renderFilterItem"),v.prototype),T(v.prototype,"renderFilterForm",[e],Object.getOwnPropertyDescriptor(v.prototype,"renderFilterForm"),v.prototype),v);t.a=D}).call(this,n(4).bind)},,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),t.c=[{label:"Nap",id:"nap_activity"},{label:"Meal",id:"meal_activity"},{label:"Notes",id:"note_activity"},{label:"Incident",id:"incident_activity"},{label:"Photo",id:"photo_activity"},{label:"Video",id:"video_activity"},{label:"Bottle",id:"bottle_activity"},{label:"Mood",id:"mood_activity"},{label:"Medication",id:"medication_activity"},{label:"Bathroom",id:"bathroom_activity"},{label:"Sign In",id:"sign_in_activity"},{label:"Sign Out",id:"sign_out_activity"},{label:"Absent",id:"absent_activity"},{label:"Learning",id:"learning_activity"},{label:"Name to Face",id:"name_to_face_activity"},{label:"Observation",id:"observation_activity"}];var r=[{label:"Nap",id:"nap_activity"},{label:"Meal",id:"meal_activity"},{label:"Notes",id:"note_activity"},{label:"Incident",id:"incident_activity"},{label:"Bottle",id:"bottle_activity"},{label:"Photo",id:"photo_activity"},{label:"Mood",id:"mood_activity"},{label:"Medication",id:"medication_activity"},{label:"Bathroom",id:"bathroom_activity"},{label:"Learning",id:"learning_activity"},{label:"Name to Face",id:"name_to_face_activity"},{label:"Observation",id:"observation_activity"}],o=[{label:"Nap",id:"nap_activity"},{label:"Meal",id:"meal_activity"},{label:"Bottle",id:"bottle_activity"},{label:"Bathroom",id:"bathroom_activity"}]},function(e,t,n){"use strict";(function(e){var r,o,a,i=n(0),l=n.n(i),c=n(1),s=n.n(c),u=n(7),p=n.n(u),f=n(104),d=n.n(f);n(1058);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_(e);if(t){var o=_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v(this,n)}}function v(e,t){if(t&&("object"===m(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return g(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e,t,n,r,o){var a={};return Object.keys(r).forEach((function(e){a[e]=r[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var O=(a=o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(a,e);var t,n,r,o=h(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),w(g(t=o.call(this,e)),"prevScrollTop",0),w(g(t),"infiniteScrollContainer",l.a.createRef()),t.handleScroll=d()(t.handleScroll,e.scrollDelay),t.onEndReach=d()(t.onEndReach,500),t}return t=a,(n=[{key:"componentDidMount",value:function(){document.addEventListener("scroll",this.handleScroll,{capture:!0})}},{key:"componentWillUnmount",value:function(){document.removeEventListener("scroll",this.handleScroll,{capture:!0})}},{key:"handleScroll",value:function(e){for(var t=e.target,n=this.infiniteScrollContainer.current,r=!1;null!==n;){if(t===n){r=!0;break}n=n.parentNode}if(r){var o=this.isEndReached(t,this.props.threshold),a=e.target.scrollTop>this.prevScrollTop;o&&a&&!this.props.loading&&this.props.hasMore&&this.onEndReach(),this.prevScrollTop=e.target.scrollTop}}},{key:"onEndReach",value:function(){this.props.onEndReach&&this.props.onEndReach()}},{key:"isEndReached",value:function(e,t){return e.scrollHeight<=e.offsetHeight+e.scrollTop+t}},{key:"render",value:function(){var e=p()("infinite-scroll",this.props.className);return l.a.createElement("div",{ref:this.infiniteScrollContainer,className:e},this.props.children)}}])&&y(t.prototype,n),r&&y(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.PureComponent),w(o,"propTypes",{threshold:s.a.number,onEndReach:s.a.func,loading:s.a.bool,children:s.a.any,className:s.a.string,scrollDelay:s.a.number,hasMore:s.a.bool}),w(o,"defaultProps",{threshold:0,hasMore:!0,loading:!1,scrollDelay:200}),x((r=a).prototype,"handleScroll",[e],Object.getOwnPropertyDescriptor(r.prototype,"handleScroll"),r.prototype),x(r.prototype,"onEndReach",[e],Object.getOwnPropertyDescriptor(r.prototype,"onEndReach"),r.prototype),r);t.a=O}).call(this,n(4).bind)},function(e,t,n){"use strict";(function(e){var r,o,a,i=n(0),l=n.n(i),c=n(1),s=n.n(c),u=n(20),p=n.n(u),f=n(7),d=n.n(f),m=n(526);n(1104);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w(e);if(t){var o=w(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g(this,n)}}function g(e,t){if(t&&("object"===y(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _(e)}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e,t,n,r,o){var a={};return Object.keys(r).forEach((function(e){a[e]=r[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var k="ArrowUp",j="ArrowDown",E="Enter",S=(a=o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(a,e);var t,n,r,o=v(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),x(_(t=o.call(this,e)),"_scroll",null),t.state={selectedItemIndex:0},t}return t=a,(n=[{key:"componentDidMount",value:function(){this.addEventListeners()}},{key:"componentWillUnmount",value:function(){this.removeEventListeners()}},{key:"componentDidUpdate",value:function(){var e=this.state.selectedItemIndex,t=this.props.items;e<0&&this.setState({selectedItemIndex:0}),e>=t.length&&this.setState({selectedItemIndex:t.length-1})}},{key:"addEventListeners",value:function(){document.addEventListener("keydown",this.listenArrows),document.addEventListener("keydown",this.listenSubmitKeys)}},{key:"removeEventListeners",value:function(){document.removeEventListener("keydown",this.listenArrows),document.removeEventListener("keydown",this.listenSubmitKeys)}},{key:"bindScroll",value:function(e){this._scroll=e}},{key:"listenArrows",value:function(e){var t=null===this._scroll,n=e.code!==j&&e.code!==k;if(!t&&!n){e.preventDefault();var r=this.state.selectedItemIndex,o=this._scroll.container.getElementsByClassName("select-list__item"),a=o.length,i=r;e.code===j&&(i=i+1>=a?0:i+1),e.code===k&&(i=i-1<0?a-1:i-1);var l=this._scroll.container.clientHeight,c=o[i],s=c.clientHeight,u=c.offsetTop,p=s-Math.floor(l/s),f=0;l<=u+s&&(f=u-l+2*p),this._scroll.scrollTop(f),this.setState({selectedItemIndex:i})}}},{key:"listenSubmitKeys",value:function(e){var t=null===this._scroll,n=e.code!==E,r=-1===this.state.selectedItemIndex;if(!(t||n||r))return e.preventDefault(),this.selectItem(this.props.items[this.state.selectedItemIndex])}},{key:"selectItem",value:function(e){this.props.onSelect&&this.props.onSelect(e)}},{key:"focusItem",value:function(e){this.setState({selectedItemIndex:e})}},{key:"renderItems",value:function(){var e=this,t=this.state.selectedItemIndex;return this.props.items.map((function(n,r){return l.a.createElement(m.a,{key:n.id||n.value||n.name,index:r,data:n,selected:r===t,renderItem:e.props.renderItem,onSelect:e.selectItem,onFocus:e.focusItem})}))}},{key:"render",value:function(){var e=d()("select-list",this.props.className);return l.a.createElement("div",{className:e},l.a.createElement(p.a,{className:"select-list__scroll",ref:this.bindScroll},this.renderItems()))}}])&&b(t.prototype,n),r&&b(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.Component),x(o,"propTypes",{items:s.a.array,className:s.a.string,renderItem:s.a.func.isRequired,onSelect:s.a.func}),x(o,"defaultProps",{items:[]}),O((r=a).prototype,"addEventListeners",[e],Object.getOwnPropertyDescriptor(r.prototype,"addEventListeners"),r.prototype),O(r.prototype,"removeEventListeners",[e],Object.getOwnPropertyDescriptor(r.prototype,"removeEventListeners"),r.prototype),O(r.prototype,"bindScroll",[e],Object.getOwnPropertyDescriptor(r.prototype,"bindScroll"),r.prototype),O(r.prototype,"listenArrows",[e],Object.getOwnPropertyDescriptor(r.prototype,"listenArrows"),r.prototype),O(r.prototype,"listenSubmitKeys",[e],Object.getOwnPropertyDescriptor(r.prototype,"listenSubmitKeys"),r.prototype),O(r.prototype,"selectItem",[e],Object.getOwnPropertyDescriptor(r.prototype,"selectItem"),r.prototype),O(r.prototype,"focusItem",[e],Object.getOwnPropertyDescriptor(r.prototype,"focusItem"),r.prototype),r);t.a=S}).call(this,n(4).bind)},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="subsidy";t.b={expense:"Expense Tracking",agency:"(Legacy) Subsidy / Agency",general:"General"}},,,,,function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));var r={US:"Zip",GB:"Postcode",AU:"Postcode",CA:"Postal"},o={US:"Routing Number",GB:"Sort Code",AU:"BSB",CA:"Transit Number"}},function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(1),i=n.n(a),l=n(7),c=n.n(l),s=n(17),u=n(13);n(1020);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var f=["className","icon","label","description","blur"];function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function m(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_(e);if(t){var o=_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g(this,n)}}function g(e,t){if(t&&("object"===p(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var w,x,O,k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(i,e);var t,n,r,a=v(i);function i(){return y(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.className,n=e.icon,r=e.label,a=e.description,i=e.blur,l=m(e,f),p=o.a.createElement("div",{className:"payer-checkbox__label"},o.a.createElement(u.a,{name:n,size:30}),o.a.createElement("div",{className:"payer-checkbox__label-title"},r),o.a.createElement("div",{className:"payer-checkbox__label-desc"},a));return o.a.createElement(s.a,d({},l,{className:c()("payer-checkbox",t,{"payer-checkbox--blur":i}),label:p}))}}])&&b(t.prototype,n),r&&b(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component);w=k,x="propTypes",O={icon:i.a.string,label:i.a.node,description:i.a.node},x in w?Object.defineProperty(w,x,{value:O,enumerable:!0,configurable:!0,writable:!0}):w[x]=O,t.a=k},function(e,t,n){"use strict";(function(e){var r,o,a,i=n(0),l=n.n(i),c=n(1),s=n.n(c),u=n(7),p=n.n(u),f=n(493),d=n(494);n(960);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var o=g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v(this,n)}}function v(e,t){if(t&&("object"===m(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w,x,O,k,j,E,S=(a=o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(a,e);var t,n,r,o=h(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this,e)).state={activeTabIndex:0},t}return t=a,(n=[{key:"componentDidUpdate",value:function(e){this.props.activeTabIndex!==e.activeTabIndex&&this.setState({activeTabIndex:this.props.activeTabIndex})}},{key:"getTabs",value:function(){return l.a.Children.toArray(this.props.children)}},{key:"getTabIndex",value:function(e){var t=l.a.Children.toArray(this.props.children);return 0===t.length?-1:t[e].id}},{key:"getTabContent",value:function(){return l.a.Children.toArray(this.props.children)[this.state.activeTabIndex]}},{key:"handleTabChange",value:function(e){var t="string"==typeof e?this.getTabIndex(e):e;this.props.onChange?this.props.onChange(e):-1===t||t!==this.props.activeTabIndex&&void 0!==this.props.activeTabIndex||this.setState({activeTabIndex:t})}},{key:"render",value:function(){var e=this.props,t=e.disabled,n=e.showIndices,r=e["data-cy"],o=this.state.activeTabIndex,a=p()("tab-view",this.props.className,{"tab-view--disable-nav":t});return l.a.createElement("div",{className:a,"data-cy":r},l.a.createElement(d.a,{tabs:this.getTabs(),activeTabIndex:o,showIndices:n,disabled:t,onTabChange:this.handleTabChange}),l.a.createElement("div",{className:"tab-view__tab"},this.getTabContent()))}}])&&y(t.prototype,n),r&&y(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.Component),_(o,"Tab",f.a),_(o,"propTypes",{activeTabIndex:s.a.number,showIndices:s.a.bool,className:s.a.string,disabled:s.a.bool,onChange:s.a.func,"data-cy":s.a.string}),_(o,"defaultProps",{children:[]}),w=(r=a).prototype,x="handleTabChange",O=[e],k=Object.getOwnPropertyDescriptor(r.prototype,"handleTabChange"),j=r.prototype,E={},Object.keys(k).forEach((function(e){E[e]=k[e]})),E.enumerable=!!E.enumerable,E.configurable=!!E.configurable,("value"in E||E.initializer)&&(E.writable=!0),E=O.slice().reverse().reduce((function(e,t){return t(w,x,e)||e}),E),j&&void 0!==E.initializer&&(E.value=E.initializer?E.initializer.call(j):void 0,E.initializer=void 0),void 0===E.initializer&&(Object.defineProperty(w,x,E),E=null),r);t.a=S}).call(this,n(4).bind)},,function(e,t,n){"use strict";var r=n(50),o=n(519),a=n(0),i=n.n(a),l=n(1),c=n.n(l),s=n(17);function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e){var t=e.onChange,n=e.defaultValue,r=e.type,o=e.disabled,l=u(Object(a.useState)(n),2),c=l[0],p=l[1];return i.a.createElement(s.a,{type:r,onChange:function(e){return p(e),t(e)},checked:c,disabled:o})}f.propTypes={onChange:c.a.func,defaultValue:c.a.bool,type:c.a.string},f.defaultProps={type:"slider"};var d=f,m=n(520),y=n(521),b=n(522),h=n(523),v=n(524),g=n(7),_=n.n(g),w=n(6),x=n(13),O=n(19);function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=N(e);if(t){var o=N(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return C(this,n)}}function C(e,t){if(t&&("object"===k(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&S(e,t)}(a,e);var t,n,r,o=P(a);function a(){return j(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"renderLockTooltip",value:function(){var e=_()("generic-editor__tooltip-lock-content",z({},"".concat(this.props.className,"__tooltip-lock-content"),Boolean(this.props.className)));return i.a.createElement("div",{className:e},"Changes synced from Procare")}},{key:"render",value:function(){var e=this.props,t=e.disabled,n=e.locked,r=e.className,o=e.onClick,a=_()("generic-editor__edit-btn",z({},"".concat(r,"__edit-btn"),Boolean(r)));if(n){var l=_()("generic-editor__tooltip-lock",z({},"".concat(r,"__tooltip-lock"),Boolean(r))),c=_()("generic-editor__lock-icon",z({},"".concat(r,"__lock-icon"),Boolean(r)));return i.a.createElement(O.b,{className:l,tooltip:this.renderLockTooltip()},i.a.createElement(x.a,{size:11,className:c,name:"lock-2",color:"#CCCCCC"}))}return i.a.createElement(w.a,{hidden:t,className:a,iconName:"edit",size:14,onClick:o})}}])&&E(t.prototype,n),r&&E(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(a.Component);z(R,"propTypes",{onClick:c.a.func,disabled:c.a.bool,locked:c.a.bool});var T=R;t.a={Generic:r.a,Input:o.a,Dropdown:m.a,Date:y.a,Name:b.a,Schedule:h.a,DateRange:v.a,Empty:T,Boolean:d}},,,,,function(e,t,n){"use strict";n.r(t),function(e){var r,o,a,i=n(0),l=n.n(i),c=n(1),s=n.n(c),u=n(7),p=n.n(u),f=n(249),d=n.n(f),m=n(48),y=n(627),b=n.n(y),h=n(10),v=n(13),g=n(6),_=n(41);n(1253);function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw a}}}}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C(e);if(t){var o=C(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return S(this,n)}}function S(e,t){if(t&&("object"===w(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return P(e)}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z(e,t,n,r,o){var a={};return Object.keys(r).forEach((function(e){a[e]=r[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var R=(a=o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&j(e,t)}(a,e);var t,n,r,o=E(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),N(P(t=o.call(this,e)),"_fileInput",null),t.state={files:[],progress:e.progress,inProgress:e.inProgress,failed:!1,dragOver:!1},t}return t=a,(n=[{key:"componentDidMount",value:function(){this.preventCloseOnDrop()}},{key:"preventCloseOnDrop",value:function(){var e=document.querySelector(".modal");e&&(e.addEventListener("dragover",(function(e){e.preventDefault()})),e.addEventListener("drop",(function(e){e.preventDefault()})))}},{key:"updateUploadProgress",value:function(e,t){var n=100*Math.floor(e.loaded/e.total),r=isNaN(n);this.setState({progress:t,failed:r})}},{key:"isValidSize",value:function(e){return e.size<=1024*this.props.maxFileSize*1024}},{key:"isValidMIME",value:function(e){return this.props.acceptedMIME.includes(e.type)}},{key:"isValidExt",value:function(e){var t=e.name.lastIndexOf("."),n=e.name.slice(t).toLowerCase();return this.props.acceptedExts.map((function(e){return e.toLowerCase()})).includes(n)}},{key:"validateFiles",value:function(e){var t,n=this.props,r=n.maxFileSize,o=n.acceptedExts,a={ext:!0,size:!0,MIME:!0},i=x(e);try{for(i.s();!(t=i.n()).done;){var l=t.value,c={ext:this.isValidExt(l),size:this.isValidSize(l),MIME:this.isValidMIME(l)};!c.ext&&a.ext&&(a.ext=!1),!c.size&&a.size&&(a.size=!1)}}catch(e){i.e(e)}finally{i.f()}return a.ext||Actions.showFlash("Only ".concat(o.join(", ")," files are accepted"),"alert"),a.size||Actions.showFlash("File size should be smaller than ".concat(r,"MB"),"alert"),a.ext&&a.MIME&&a.size}},{key:"initializeUpload",value:function(e){var t=this,n=Array.from(e);this.validateFiles(n)&&this.setState({files:n},(function(){var e,r=[],o=x(n);try{for(o.s();!(e=o.n()).done;){var a=e.value,i=new FileReader;switch(i.onloadend=function(e){r.push(e.target.result),r.length===n.length&&t.uploadFiles(n,r)},t.props.strategy){case"s3":i.readAsBinaryString(a);break;case"local":i.readAsDataURL(a)}t.setState({inProgress:!0})}}catch(e){o.e(e)}finally{o.f()}}))}},{key:"uploadFiles",value:function(e,t){switch(this.props.strategy){case"s3":this.uploadToS3(e);break;case"local":this.uploadLocal(e,t)}}},{key:"uploadToS3",value:function(e){var t=this.props,n=t.s3Key,r={getSignature:t.parent?req.awsSignatureParent:req.awsSignature,key:n,onProgress:this.updateUploadProgress};_.a.upload(e,r).then(this.handleComplete).catch(this.handleFailure)}},{key:"uploadLocal",value:function(e,t){var n=this,r=setInterval((function(){n.setState((function(e){return{progress:e.progress+25}}),(function(){100===n.state.progress&&(clearInterval(r),n.props.onSuccess(e,t))}))}),175)}},{key:"handleUploadButtonClick",value:function(){this._fileInput&&this._fileInput.click()}},{key:"handleFailure",value:function(){this.setState({failed:!0})}},{key:"handleComplete",value:function(e){var t=this;setTimeout((function(){t.props.onSuccess?(t.props.onSuccess(t.props.multiple?e:e[0]).then((function(){t.setState({inProgress:!1})})).catch((function(e){Actions.reportError("Something went wrong",e),t.setState({inProgress:!1,failed:!0})})),Promise.all([]).then((function(){t.setState({inProgress:!1})})).catch((function(){t.setState({inProgress:!1,failed:!0})}))):t.setState({inProgress:!1})}),380)}},{key:"handleInputUpload",value:function(e){e.preventDefault(),this.initializeUpload(e.target.files)}},{key:"handleDragOver",value:function(e){e.stopPropagation(),e.preventDefault(),this.setState({dragOver:!0})}},{key:"handleDragLeave",value:function(e){e.preventDefault(),this.setState({dragOver:!1})}},{key:"handleDropUpload",value:function(e){if(e.preventDefault(),e.dataTransfer.items){var t=d()(e.dataTransfer.items,(function(e){return e.getAsFile()}));this.initializeUpload(t)}}},{key:"handleClose",value:function(){this.props.onClose&&this.props.onClose()}},{key:"bindInput",value:function(e){this._fileInput=e}},{key:"renderUploader",value:function(){var e=this.props,t=e.acceptedExts,n=e.acceptedMIME,r=e.multiple,o=n.join(", ")+", "+t.join(", "),a=p()("upload-file__drop-icon",{"upload-file__drop-icon--over":this.state.dragOver});return l.a.createElement("div",{className:"upload-file__drop","data-cy":"dropzone",onDragOver:this.handleDragOver,onDragLeave:this.handleDragLeave,onDrop:this.handleDropUpload},l.a.createElement(v.a,{name:"upload",className:a,size:70}),l.a.createElement("div",{className:"upload-file__title"},l.a.createElement("span",{className:"upload-file__upload-btn",onClick:this.handleUploadButtonClick},l.a.createElement("input",{"data-cy":"upload-file-input",ref:this.bindInput,type:"file",className:"upload-file__input",onChange:this.handleInputUpload,accept:o,multiple:r}),"Choose a file"),l.a.createElement("span",null," or Drop a file here")))}},{key:"renderProgress",value:function(){return l.a.createElement("div",{className:"upload-file__progress","data-cy":"file-upload-spinner"},l.a.createElement(b.a,{percentage:this.state.progress.toFixed(0)}))}},{key:"renderSuccessMessage",value:function(){var e=this.props,t=e.successTitle,n=e.successDesc;return l.a.createElement("div",{className:"upload-file__success","data-cy":"file-upload-success"},l.a.createElement(v.a,{className:"upload-file__success-icon",name:"tick",size:70}),l.a.createElement("div",{className:"upload-file__success-title"},t),n&&l.a.createElement("div",{className:"upload-file__success-description"},n))}},{key:"renderFailureMessage",value:function(){return l.a.createElement("div",{className:"upload-file__failure"},l.a.createElement(v.a,{className:"upload-file__failure-icon",name:"clear-circle",size:70}),l.a.createElement("div",{className:"upload-file__failure-title"},"Error"),l.a.createElement("div",{className:"upload-file__failure-description"},"Unable to upload the file. Try again later."))}},{key:"renderContent",value:function(){var e=this.state,t=e.progress,n=e.inProgress;return e.failed?this.renderFailureMessage():n?this.renderProgress():n||100!==t?this.renderUploader():(this.props.skipSuccess&&this.handleClose(),this.renderSuccessMessage())}},{key:"render",value:function(){var e=this.state.progress,t=this.props,n=t.title,r=t.onBack,o=t.className,a=e>0&&e<100,i=p()(N({"upload-file":!0},o,Boolean(o)));return l.a.createElement("div",{className:i},l.a.createElement("div",{className:"modal__header modal__header--bordered upload-file__header"},r&&l.a.createElement(g.a,{className:"upload-file__back",onClick:r,iconName:"back"}),l.a.createElement("div",{className:"modal__header-title"},n),l.a.createElement(g.a,{className:"modal__close",size:12,onClick:this.handleClose,iconName:"close"})),l.a.createElement("div",{className:"upload-file__container"},this.renderContent()),l.a.createElement("div",{className:"modal__controls upload-file__actions"},l.a.createElement(h.a,{label:"Close",disabled:a,onClick:this.handleClose})))}}])&&k(t.prototype,n),r&&k(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.Component),N(o,"propTypes",{title:s.a.string,progress:s.a.number,inProgress:s.a.bool,parent:s.a.bool,multiple:s.a.bool,strategy:s.a.oneOf(["s3","local"]).isRequired,s3Key:s.a.string,acceptedExts:s.a.arrayOf(s.a.string),maxFileSize:s.a.number,skipSuccess:s.a.bool,successTitle:s.a.string,successDesc:s.a.string,onBack:s.a.func,onClose:s.a.func,onSuccess:s.a.func}),N(o,"defaultProps",{title:"Upload File",progress:0,inProgress:!1,multiple:!1,acceptedMIME:[],acceptedExts:[],maxFileSize:10,skipSuccess:!1,successTitle:"Done! The file is uploaded"}),z((r=a).prototype,"updateUploadProgress",[e],Object.getOwnPropertyDescriptor(r.prototype,"updateUploadProgress"),r.prototype),z(r.prototype,"handleUploadButtonClick",[e],Object.getOwnPropertyDescriptor(r.prototype,"handleUploadButtonClick"),r.prototype),z(r.prototype,"handleFailure",[e],Object.getOwnPropertyDescriptor(r.prototype,"handleFailure"),r.prototype),z(r.prototype,"handleComplete",[e],Object.getOwnPropertyDescriptor(r.prototype,"handleComplete"),r.prototype),z(r.prototype,"handleInputUpload",[e],Object.getOwnPropertyDescriptor(r.prototype,"handleInputUpload"),r.prototype),z(r.prototype,"handleDragOver",[e],Object.getOwnPropertyDescriptor(r.prototype,"handleDragOver"),r.prototype),z(r.prototype,"handleDragLeave",[e],Object.getOwnPropertyDescriptor(r.prototype,"handleDragLeave"),r.prototype),z(r.prototype,"handleDropUpload",[e],Object.getOwnPropertyDescriptor(r.prototype,"handleDropUpload"),r.prototype),z(r.prototype,"handleClose",[e],Object.getOwnPropertyDescriptor(r.prototype,"handleClose"),r.prototype),z(r.prototype,"bindInput",[e],Object.getOwnPropertyDescriptor(r.prototype,"bindInput"),r.prototype),r);t.default=Object(m.a)(R)}.call(this,n(4).bind)},function(e,t,n){"use strict";n.r(t),function(e){var r,o,a,i=n(0),l=n.n(i),c=n(1),s=n.n(c),u=n(17),p=n(23);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var o=v(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _,w,x,O,k,j,E=(a=o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}(a,e);var t,n,r,o=b(a);function a(){return d(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"shouldComponentUpdate",value:function(e){return this.props.selected!==e.selected}},{key:"handleSelect",value:function(){this.props.onSelect&&this.props.onSelect(this.props.id)}},{key:"render",value:function(){var e=this.props,t=e.status,n=e.name,r=e.picURL,o=e.selected,a=e.color,i=e.validationError,c=e.disableInvalid,s=e.type,f=e.id,d=void 0!==i&&c;return l.a.createElement("div",{className:"person-card","data-cy":"person-card-".concat(f)},l.a.createElement(u.a,{disabled:d,className:"person-card__checkbox",checked:o,onChange:this.handleSelect}),l.a.createElement("div",{className:"person-card__info",onClick:d?void 0:this.handleSelect},l.a.createElement(p.a,{className:"person-card__avatar",url:r,color:a,size:"small",type:"teacher"===s?"avatar":void 0,status:t,name:n}),l.a.createElement("div",{className:"person-card__text"},l.a.createElement("div",{className:"person-card__name"},n),void 0!==i&&l.a.createElement("div",{className:"person-card__label"},i))))}}])&&m(t.prototype,n),r&&m(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.Component),g(o,"propTypes",{id:s.a.string,name:s.a.string,picURL:s.a.string,color:s.a.string,type:s.a.oneOf(["kid","teacher"]),validationError:s.a.string,disableInvalid:s.a.bool,selected:s.a.bool,onSelect:s.a.func}),g(o,"defaultProps",{type:"kid",selected:!1,disableInvalid:!0}),_=(r=a).prototype,w="handleSelect",x=[e],O=Object.getOwnPropertyDescriptor(r.prototype,"handleSelect"),k=r.prototype,j={},Object.keys(O).forEach((function(e){j[e]=O[e]})),j.enumerable=!!j.enumerable,j.configurable=!!j.configurable,("value"in j||j.initializer)&&(j.writable=!0),j=x.slice().reverse().reduce((function(e,t){return t(_,w,e)||e}),j),k&&void 0!==j.initializer&&(j.value=j.initializer?j.initializer.call(k):void 0,j.initializer=void 0),void 0===j.initializer&&(Object.defineProperty(_,w,j),j=null),r);t.default=E}.call(this,n(4).bind)},function(e,t,n){"use strict";n.r(t);var r=n(292),o=n(293),a=n(420),i=n(294),l=n(419),c=n(295),s=n(296),u=n(298),p=n(299),f=n(300),d=n(421),m=n(301),y=n(199);t.default={meal_activity:r.default,bottle_activity:o.default,mood_activity:a.default,nap_activity:i.default,bathroom_activity:l.default,incident_activity:c.default,photo_activity:s.default,video_activity:u.default,medication_activity:y.default,note_activity:y.default,absent_activity:p.default,learning_activity:f.default,name_to_face_activity:d.default,observation_activity:m.default}},function(e,t,n){"use strict";n.r(t);var r=n(303),o=n(304),a=n(305),i=n(306),l=n(307),c=n(308),s=n(309),u=n(310),p=n(311),f=n(312),d=n(313),m=n(314),y=n(200);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g={meal_activity:r.default,bottle_activity:o.default,mood_activity:a.default,nap_activity:i.default,bathroom_activity:l.default,incident_activity:c.default,photo_activity:s.default,video_activity:u.default,medication_activity:y.default,note_activity:y.default,absent_activity:p.default,learning_activity:f.default,name_to_face_activity:d.default,observation_activity:m.default};t.default=function(e,t){if(!e)return null;var n=g[e](t.data,t.activity,t.isEditing);return h(h({},n),{},{daily_activity:h(h({},n.daily_activity||{}),{},{staff_present_id:t.data.staff_present||null})})}},function(e,t,n){"use strict";n.r(t),function(e){var r,o,a,i=n(0),l=n.n(i),c=n(1),s=n.n(c),u=n(5),p=n(75),f=n(12),d=n(70),m=n(71),y=n(327),b=n(331);n(1277);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function g(e,t,n,r,o,a,i){try{var l=e[a](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function _(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){g(a,r,o,i,l,"next",e)}function l(e){g(a,r,o,i,l,"throw",e)}i(void 0)}))}}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=j(e);if(t){var o=j(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return k(this,n)}}function k(e,t){if(t&&("object"===h(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(e,t,n,r,o){var a={};return Object.keys(r).forEach((function(e){a[e]=r[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var P=(a=o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x(e,t)}(s,e);var t,n,r,o,a,i,c=O(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=c.call(this,e)).typeMessages=s.getKindMessages(e.data.kind),t}return t=s,n=[{key:"makePayload",value:function(e,t){return"subsidy"===e||"discount"===e?{kind:e,title:t.title,rate:0,quantity:1}:{kind:"preset",title:t.title,rate:Number(t.rate),quantity:1}}},{key:"addPreset",value:(i=_(regeneratorRuntime.mark((function e(t){var n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.props.data,r="string"!=typeof t.title||0===t.title.trim().length,o=void 0!==t.rate&&0===Number(t.rate),!r&&!o){e.next=5;break}return e.abrupt("return",Promise.reject());case 5:return e.prev=5,e.next=8,req.createInvoiceItemPreset({charge:this.makePayload(n.kind,t)});case 8:return Actions.showFlash(this.typeMessages.createSuccess),e.abrupt("return",Promise.resolve());case 12:return e.prev=12,e.t0=e.catch(5),Actions.reportError(this.typeMessages.createError,e.t0),e.abrupt("return",Promise.reject());case 16:case"end":return e.stop()}}),e,this,[[5,12]])}))),function(e){return i.apply(this,arguments)})},{key:"updatePreset",value:(a=_(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.props.data,"string"==typeof n.title&&0!==n.title.trim().length){e.next=4;break}return e.abrupt("return",Promise.reject());case 4:return e.prev=4,e.next=7,req.updateInvoiceItemPreset({id:t,charge:this.makePayload(r.kind,n)});case 7:return Actions.showFlash(this.typeMessages.updateSuccess),e.abrupt("return",Promise.resolve());case 11:return e.prev=11,e.t0=e.catch(4),Actions.reportError(this.typeMessages.updateError,e.t0),e.abrupt("return",Promise.reject());case 15:case"end":return e.stop()}}),e,this,[[4,11]])}))),function(e,t){return a.apply(this,arguments)})},{key:"deletePreset",value:(o=_(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,req.deleteInvoiceItemPreset({id:t},{id:t});case 3:return Actions.showFlash(this.typeMessages.deleteSuccess),e.abrupt("return",Promise.resolve());case 7:return e.prev=7,e.t0=e.catch(0),Actions.reportError(this.typeMessages.deleteError,e.t0),e.abrupt("return",Promise.reject());case 11:case"end":return e.stop()}}),e,this,[[0,7]])}))),function(e){return o.apply(this,arguments)})},{key:"renderHeader",value:function(){var e=this.props.data;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"table__cell table__cell--xl"},"Description"),"preset"===e.kind&&l.a.createElement("div",{className:"table__cell table__cell--s"},"Rate"))}},{key:"render",value:function(){var e=this,t=this.props,n=t.presets,r=t.presetsLoading,o=t.franchiseBilling,a=t.data,i=t.onBack,c=n.filter((function(e){return e.kind===a.kind}));return l.a.createElement("div",{className:"manage-presets"},l.a.createElement(d.default,{items:c,onAdd:this.addPreset,onUpdate:this.updatePreset,onDelete:this.deletePreset},(function(t){return l.a.createElement(m.default,{className:"manage-presets__window",title:e.typeMessages.title,addIcon:"add",addLabel:e.typeMessages.addLabel,addDisabled:t.isEdit,onAdd:o?void 0:t.onNew,onBack:i},0!==c.length||t.isNew?l.a.createElement(y.default,v({},t,{renderCustom:!0,ItemComponent:b.default,renderHeader:e.renderHeader,itemProps:{kind:a.kind}})):l.a.createElement(p.a,{text:e.typeMessages.placeholderText,loading:r}))})))}}],r=[{key:"getPluralKind",value:function(e){return Object(f.b)(e)+"s"}},{key:"getTextByKind",value:function(e){return"subsidy"===e?"subsidy discount":e}},{key:"getKindMessages",value:function(e){var t=this.getTextByKind(e),n=Object(f.b)(t);return{title:"Manage ".concat(this.getPluralKind(t)),placeholderText:"No ".concat(this.getPluralKind(t)," have been added"),addLabel:"Add ".concat(t),createSuccess:"".concat(n," has been created"),createError:"Unable to create ".concat(t),updateSuccess:"".concat(n," has been updated"),updateError:"Unable to update ".concat(t),deleteSuccess:"".concat(n," has been deleted"),deleteError:"Unable to delete ".concat(t)}}}],n&&w(t.prototype,n),r&&w(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}(i.PureComponent),E(o,"propTypes",{data:s.a.shape({kind:s.a.oneOf(["preset","discount","subsidy"]).isRequired}).isRequired,presets:s.a.array,presetsLoading:s.a.bool,onBack:s.a.func}),E(o,"defaultProps",{data:{kind:"preset"},presets:[],presetsLoading:!1}),S((r=a).prototype,"addPreset",[e],Object.getOwnPropertyDescriptor(r.prototype,"addPreset"),r.prototype),S(r.prototype,"updatePreset",[e],Object.getOwnPropertyDescriptor(r.prototype,"updatePreset"),r.prototype),S(r.prototype,"deletePreset",[e],Object.getOwnPropertyDescriptor(r.prototype,"deletePreset"),r.prototype),S(r.prototype,"renderHeader",[e],Object.getOwnPropertyDescriptor(r.prototype,"renderHeader"),r.prototype),r);t.default=Object(u.b)((function(e){return{presets:e.invoiceItemPresets.data.charges,presetsLoading:e.invoiceItemPresets.loading,franchiseBilling:e.currentUser.data.current_school.franchise_billing_enabled}}))(P)}.call(this,n(4).bind)},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var r=[".pdf",".csv",".xls",".xlsx",".doc",".docx",".txt",".png",".bmp",".jpg",".jpeg",".ppm"],o=["application/pdf","text/csv","application/vnd.ms-excel","application/msword","text/plain","image/png","image/jpeg","image/bmp","image/x-ppm"]},,,,,,,function(e,t,n){"use strict";(function(e){var r,o,a,i=n(0),l=n.n(i),c=n(1),s=n.n(c),u=n(20),p=n.n(u),f=n(3),d=n.n(f),m=(n(185),n(326)),y=n(202);n(1270);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=x(e);if(t){var o=x(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return w(this,n)}}function w(e,t){if(t&&("object"===b(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k,j,E,S,P,C,N=(a=o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g(e,t)}(a,e);var t,n,r,o=_(a);function a(){return h(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"getDateRange",value:function(){var e=this.props,t=e.data[e.type],n=t.invoice_start_date,r=t.invoice_end_date;return n&&r?[n,r].map((function(e){return d()(e)})).sort((function(e,t){return e.isAfter(t)})).map((function(e){return e.format("MMM DD, YYYY")})).join(" - "):""}},{key:"render",value:function(){var e=this.props,t=e.items,n=e.noScroll,r=e.students,o=e.type,a=e.data,i=e.showBreakdown,c=e.isAttendancePreview,s=a[o],u=this.getDateRange(),f=s.due_date&&d()(s.due_date).format("MMM D, YYYY");return l.a.createElement("div",{className:"invoice-preview-card"},l.a.createElement(m.a,{receiptNumber:s.receipt_number,students:r}),l.a.createElement("div",{className:"invoice-preview-card__content"},l.a.createElement("div",{className:"invoice-preview-card__due-date"},"Due date:",l.a.createElement("span",{className:"invoice-preview-card__due-date-value"},f)),u&&l.a.createElement("div",{className:"invoice-preview-card__due-date"},"Invoice period:",l.a.createElement("span",{className:"invoice-preview-card__due-date-value"},u)),t.length>0&&l.a.createElement("div",{className:"invoice-preview-card__invoice-table table"},n?l.a.createElement(y.a,{items:t,showBreakdown:i,isAttendancePreview:c}):l.a.createElement(p.a,{autoHeight:!0,autoHeightMin:50,autoHeightMax:150},l.a.createElement(y.a,{items:t,showBreakdown:i,isAttendancePreview:c})))))}}])&&v(t.prototype,n),r&&v(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.Component),O(o,"propTypes",{data:s.a.object,items:s.a.array,students:s.a.array,type:s.a.oneOf(["parent_invoice","billing_plan"]),isAttendancePreview:s.a.bool,noScroll:s.a.bool,showBreakdown:s.a.func}),O(o,"defaultProps",{data:{},items:[],students:[],noScroll:!0,type:"parent_invoice",isAttendancePreview:!1,showBreakdown:function(){}}),k=(r=a).prototype,j="getDateRange",E=[e],S=Object.getOwnPropertyDescriptor(r.prototype,"getDateRange"),P=r.prototype,C={},Object.keys(S).forEach((function(e){C[e]=S[e]})),C.enumerable=!!C.enumerable,C.configurable=!!C.configurable,("value"in C||C.initializer)&&(C.writable=!0),C=E.slice().reverse().reduce((function(e,t){return t(k,j,e)||e}),C),P&&void 0!==C.initializer&&(C.value=C.initializer?C.initializer.call(P):void 0,C.initializer=void 0),void 0===C.initializer&&(Object.defineProperty(k,j,C),C=null),r);t.a=N}).call(this,n(4).bind)},function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n(0),o=n.n(r),a=n(6),i=n(10),l=n(13);n(1510);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var o=m(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(d,e);var t,n,r,c=f(d);function d(){return s(this,d),c.apply(this,arguments)}return t=d,(n=[{key:"render",value:function(){var e=this.props,t=e.prevStep,n=e.nextStep;return o.a.createElement("div",{className:"table payments-panel"},o.a.createElement("div",{className:"table__header payments-panel__header"},o.a.createElement(a.a,{iconName:"back",size:20,onClick:t}),o.a.createElement("div",{className:"payments-panel__title"},"Choose Payment")),o.a.createElement("div",{className:"table__body"},o.a.createElement("div",{className:"table__row payments-panel__body"},o.a.createElement("div",{className:"payments-panel__content"},o.a.createElement("div",{className:"payments-agree__img-container"},o.a.createElement("div",{className:"payments-agree__img"},o.a.createElement(l.a,{name:"hand-point",size:32}))),o.a.createElement("div",{className:"payments-agree__title"},"School has my authorization to do automatic debits on my account for outstanding balances."),o.a.createElement("div",{className:"payments-agree__desc"},"* if you have any questions, please contact your school"))),o.a.createElement("div",{className:"table__row table__row--footer payments-panel__footer"},o.a.createElement(i.a,{onClick:n,className:"button--large",label:"Agree & Continue"}))))}}])&&u(t.prototype,n),r&&u(t,r),Object.defineProperty(t,"prototype",{writable:!1}),d}(r.Component)},function(e,t,n){"use strict";(function(e){var r,o,a,i=n(0),l=n.n(i),c=n(1),s=n.n(c),u=n(7),p=n.n(u),f=n(16),d=n(13),m=n(188),y=n(24),b=n(27);n(969);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O(e);if(t){var o=O(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return x(this,n)}}function x(e,t){if(t&&("object"===h(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e,t,n,r,o){var a={};return Object.keys(r).forEach((function(e){a[e]=r[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var E=/^\d{0,7}(\.\d{0,2})?$/,S=(a=o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_(e,t)}(a,e);var t,n,r,o=w(a);function a(){return v(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"componentWillMount",value:function(){this.init()}},{key:"componentWillUnmount",value:function(){this.context.unmount(this.props.name)}},{key:"componentDidUpdate",value:function(e){this.props.required!==e.required&&this.context.updateValidations(this.props.name,this.initValidations()),this.props.hidden&&(delete this.context.values[this.props.name],delete this.context.validations[this.props.name]),!this.props.hidden&&e.hidden&&this.init()}},{key:"init",value:function(){if(!this.props.hidden){var e=this.props.defaultValue||"",t=this.initValidations();this.context.init(this.props.name,e,t)}}},{key:"initValidations",value:function(){var e=this.props,t=e.name,n=e.equalTo,r=e.naturalNumber,o=e.type,a=e.required,i=e.disabled,l=e.minLength,c=e.pattern,s=e.isUrl,u={};return i||(a&&(u.isNotEmpty=null),"email"===o&&(u.isEmail=null),r&&(u.isNaturalNumber=null),n&&(u.isPasswordsEqual=null,this.context.link(t,n)),void 0!==l&&(u.minLength=l),c&&(u.pattern=c),s&&(u.isUrl=null)),u}},{key:"handleChange",value:function(e){var t=e;if("amount"===this.props.type&&E.test(e))this.context.update(this.props.name,e);else if("amount"!==this.props.type){if(this.props.maxLength&&e.length>this.props.maxLength)return;this.props.mask&&(t=Object(m.a)(e,this.props.mask)),this.props.transform&&(t=this.props.transform(e)),this.context.update(this.props.name,t)}}},{key:"handleBlur",value:function(){var e=this.props,t=e.maxValue,n=e.name,r=this.context.values[n],o=t&&!isNaN(Number(r))&&r>=t?t:r;"amount"===this.props.type&&r&&this.context.update(this.props.name,Number(o).toFixed(2)),"submit"!==this.context.validateOn&&this.context.validate(this.props.name)}},{key:"getValidationText",value:function(){var e=this,t=this.props.name,n=this.context.errors;if(n[t])return n[t].join("; ");var r=this.context.validations;return r[t]?Object.keys(r[t]).filter((function(e){return!1===r[t][e]})).map((function(t){return"function"==typeof b.a[t]?b.a[t](e.props[t]):b.a[t]})).join("; "):""}},{key:"render",value:function(){if(this.props.hidden)return null;var e,t=this.context.values,n=this.props,r=n.name,o=n.disabled,a=n.label,i=n.type,c=n.placeholder,s=n.autoFocus,u=n.autoComplete,m=n.disableInvalid,b=n.actionName,h=n.actionType,v=n.actionDisabled,g=n.className,_=n.tabIndex,w=n.asterisk,x=n.multiline,O=n.decimal,j=n.min,E=n.max,S=n.fieldRef,P=n.helperText,C=n["data-cy"],N=this.getValidationText();switch(h){case"submit":e=this.context.submit}var z=p()(k({"form-input":!0,"form-input--disabled":o,"form-input--invalid":Boolean(N)&&!m,"form-input--amount":"amount"===i,"form-input--empty":!t[r],"form-input--with-action":Boolean(b)},g,Boolean(g))),R=p()({"form-input__action":!0,"form-input__action--disabled":!this.context.isFormValid()||v}),T=N&&!m;return l.a.createElement("div",{className:z,ref:S},a&&l.a.createElement("label",{className:"form__label",htmlFor:r},a," ",w&&l.a.createElement("span",{className:"form__asterisk"},"*")),l.a.createElement("div",{className:"form-input__field"},"amount"===i&&l.a.createElement("span",{className:"form-input__field-symbol"},y.a.getSymbol()),l.a.createElement(f.a,{name:r,type:this.props.type,value:t[r]||"",onChange:this.handleChange,onBlur:this.handleBlur,placeholder:c,disabled:o,tabIndex:_,multiline:x,autoFocus:s,autoComplete:u,min:j,max:E,decimal:O,"data-cy":C}),T&&l.a.createElement(d.a,{name:"alert",className:"form-input__invalid-icon"}),w&&!a&&l.a.createElement("span",{className:"form__asterisk--no-label"},"*"),b&&l.a.createElement("div",{className:R,onClick:v?void 0:e},b)),T&&l.a.createElement("div",{className:"form-input__validation-text","data-cy":C?"".concat(C,"-invalid"):void 0},N),P&&!T&&l.a.createElement("div",{className:"form-input__helper-text"},P))}}])&&g(t.prototype,n),r&&g(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.Component),k(o,"contextTypes",{values:s.a.object,validations:s.a.object,errors:s.a.oneOfType([s.a.object,s.a.array]),validateOn:s.a.string,init:s.a.func,unmount:s.a.func,update:s.a.func,validate:s.a.func,submit:s.a.func,link:s.a.func,isFormValid:s.a.func,updateValidations:s.a.func,autoComplete:s.a.string,autoFocus:s.a.bool}),k(o,"propTypes",{name:s.a.string.isRequired,type:s.a.oneOf(["text","password","email","number","amount"]),defaultValue:s.a.oneOfType([s.a.string,s.a.number]),label:s.a.string,actionName:s.a.oneOfType([s.a.string,s.a.node]),actionType:s.a.string,disableInvalid:s.a.bool,disabled:s.a.bool,actionDisabled:s.a.bool,minLength:s.a.number,tabIndex:s.a.number,maxLength:s.a.number,transform:s.a.func,pattern:s.a.string,mask:s.a.string,isUrl:s.a.bool,asterisk:s.a.bool,fieldRef:s.a.func,maxValue:s.a.number,helperText:s.a.string,"data-cy":s.a.string}),k(o,"defaultProps",{type:"text",actionType:"submit"}),j((r=a).prototype,"init",[e],Object.getOwnPropertyDescriptor(r.prototype,"init"),r.prototype),j(r.prototype,"initValidations",[e],Object.getOwnPropertyDescriptor(r.prototype,"initValidations"),r.prototype),j(r.prototype,"handleChange",[e],Object.getOwnPropertyDescriptor(r.prototype,"handleChange"),r.prototype),j(r.prototype,"handleBlur",[e],Object.getOwnPropertyDescriptor(r.prototype,"handleBlur"),r.prototype),r);t.a=S}).call(this,n(4).bind)},function(e,t,n){"use strict";n.r(t);var r=n(242);n.d(t,"Staff",(function(){return r.default}));var o=n(241);n.d(t,"Lead",(function(){return o.default}));var a=n(243);n.d(t,"Student",(function(){return a.default}))},,,,,,,,,function(e,t,n){"use strict";t.a={bank_account:"ACH Bank",card:"Credit Card",cash:"Cash",check:"Check",other:"Other"}},,,function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(6),i=n(19);n(1373);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.a=function(e){var t=l({},e);return o.a.createElement(i.b,l({className:"corporate-icon",side:"center",tooltip:"Corporate Linked"},t),o.a.createElement(a.a,{iconName:"copyright",size:14}))}},,,,,,,,function(e,t,n){var r=n(1022);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(9)(r,o);r.locals&&(e.exports=r.locals)},function(e,t,n){"use strict";(function(e){var r,o,a,i=n(0),l=n.n(i),c=n(1),s=n.n(c),u=n(7),p=n.n(u),f=n(19);n(1119);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var o=g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v(this,n)}}function v(e,t){if(t&&("object"===d(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e,t){var n=!1;"#"===e[0]&&(e=e.slice(1),n=!0);var r=parseInt(e.substring(0,2),16),o=parseInt(e.substring(2,4),16),a=parseInt(e.substring(4,6),16);return(r+=t)>255?r=255:r<0&&(r=0),(o+=t)>255?o=255:o<0&&(o=0),(a+=t)>255?a=255:a<0&&(a=0),(n?"#":"")+(1===r.toString(16).length?"0"+r.toString(16):r.toString(16))+(1===o.toString(16).length?"0"+o.toString(16):o.toString(16))+(1===a.toString(16).length?"0"+a.toString(16):a.toString(16))}var x,O,k,j,E,S,P=(a=o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(a,e);var t,n,r,o=h(a);function a(){return m(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"className",get:function(){return p()("badge",this.props.className,_({},"badge--".concat(this.props.style),this.props.style))}},{key:"inlineStyle",get:function(){var e=this.props.color;if(e)return{color:w(e,70),backgroundColor:w(e,-10)}}},{key:"renderTooltipContent",value:function(){var e=this.props.description;return l.a.createElement("div",{className:"badge__tooltip-content"},e)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.description,r=l.a.createElement("div",{className:this.className,style:this.inlineStyle},t&&l.a.createElement("span",{className:"badge__text"},t));return n?l.a.createElement(f.b,{white:!0,side:"center",tooltipClassName:"badge__tooltip",maxHeight:150,renderTooltip:this.renderTooltipContent},r):r}}])&&y(t.prototype,n),r&&y(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.PureComponent),_(o,"propTypes",{children:s.a.any,style:s.a.string,color:s.a.string,className:s.a.string}),_(o,"defaultProps",{style:"grey"}),x=(r=a).prototype,O="renderTooltipContent",k=[e],j=Object.getOwnPropertyDescriptor(r.prototype,"renderTooltipContent"),E=r.prototype,S={},Object.keys(j).forEach((function(e){S[e]=j[e]})),S.enumerable=!!S.enumerable,S.configurable=!!S.configurable,("value"in S||S.initializer)&&(S.writable=!0),S=k.slice().reverse().reduce((function(e,t){return t(x,O,e)||e}),S),E&&void 0!==S.initializer&&(S.value=S.initializer?S.initializer.call(E):void 0,S.initializer=void 0),void 0===S.initializer&&(Object.defineProperty(x,O,S),S=null),r);t.a=P}).call(this,n(4).bind)},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(1),i=n.n(a),l=n(5),c=n(11),s=n.n(c),u=n(2),p=n(3),f=n.n(p),d=n(194);n(476);function m(e){var t=e.data,n=e.staff,a=e.onSubmit,i=e.fromRule,l=e.fromLead,c=e.saving,p=e.children;Object(r.useEffect)((function(){req.staff()}),[]);var m,y,b=n.map((function(e){return{id:e.id,label:e.name}})),h=s()(t,"due_date",null),v="todo"in d.a?"todo":"";return o.a.createElement(u.a,{onSubmit:a,validateOn:"submit",isLoading:c},o.a.createElement("div",{className:"form__row"},o.a.createElement(u.a.Input,{"data-cy":"title",label:"Title",placeholder:"Task Name",name:"name",required:!0,defaultValue:s()(t,"name","")})),o.a.createElement("div",{className:"form__row form__row--justified"},i?o.a.createElement(u.a.Typeahead,{label:"Assigned To",name:"teacher_id",options:b,defaultValue:s()(t,"teacher_id")}):o.a.createElement(u.a.Typeahead,{placeholder:"Search (min 3 letters)",label:"Lead",name:"enrollment_id",loadOptions:function(e){var n=Boolean(t.assignable);if(""===e&&n)return Promise.resolve([]);var r={filters:{enrollment:{name:e}}};return req.enrollmentsTypeahead(r).then((function(e){return e.enrollments.map((function(e){return{id:e.id,label:"".concat(e.first_name," ").concat(e.last_name)}}))}))},minCharacters:3,options:(m=t.assignable||{},y=s()(m,"name","")||"".concat(s()(m,"first_name","")," ").concat(s()(m,"last_name","")),m.id?[{id:m.id,label:y}]:[]),disabled:l,hideClear:l,defaultValue:s()(t,"assignable.id")}),o.a.createElement(u.a.Select,{label:"Type",title:"Choose Type",name:"kind",required:!0,defaultValue:s()(t,"kind",v)},Object.keys(d.a).map((function(e){return o.a.createElement(u.a.Select.Item,{key:e,value:e,label:d.a[e]})})))),o.a.createElement("div",{className:"form__row"},o.a.createElement(u.a.Input,{label:"Note",placeholder:"Task Details here",name:"description",multiline:!0,defaultValue:s()(t,"description","")})),!i&&o.a.createElement("div",{className:"form__row form__row--justified"},o.a.createElement("div",{className:"form__row form__row--justified"},o.a.createElement(u.a.DatePicker,{label:"Due Date",name:"due_date",defaultValue:h?f()(h).toDate():f()().toDate()}),o.a.createElement(u.a.TimeInput,{label:o.a.createElement("span",null," "),name:"due_time",defaultValue:s()(t,"due_time")})),o.a.createElement(u.a.Typeahead,{label:"Assigned To",name:"teacher_id",options:b,defaultValue:s()(t,"teacher.id")})),p,o.a.createElement("div",{className:"create-crm-task__footer form__row--actions"},o.a.createElement(u.a.Submit,{label:"Save","data-cy":"submit"})))}m.propTypes={data:i.a.object,children:i.a.node,fromRule:i.a.bool,fromLead:i.a.bool,onSubmit:i.a.func};t.default=Object(l.b)((function(e){return{staff:e.staff.data}}))(m)},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(1),i=n.n(a),l=n(11),c=n.n(l),s=n(47),u=n.n(s),p=n(12),f=n(15),d=n(2);function m(e,t){var n=e.formContext,r=n?c()(t,"values.days",0):e.days;return o.a.createElement("div",{className:"add-automation__action-when"},n?o.a.createElement(d.a.Select,{name:"days",type:"radio",title:"Choose",label:"When",defaultValue:e.defaultDays},u()(0,31).map((function(e){return o.a.createElement(d.a.Select.Item,{key:"day_".concat(e),label:e?Object(p.Z)(e,"day"):"Immediate",value:e})}))):o.a.createElement("div",{className:"form-select"},o.a.createElement("label",{className:"form__label"},"When"),o.a.createElement(f.a,{name:"days",type:"radio",title:"Choose",checked:r,onChange:e.onChange},u()(0,31).map((function(e){return o.a.createElement(f.a.Item,{key:"day_".concat(e),label:e?Object(p.Z)(e,"day"):"Immediate",value:e})})))),r>0&&o.a.createElement("div",{className:"add-automation__action-when-description"},e.text))}m.propTypes={text:i.a.string.isRequired},m.contextTypes={values:i.a.object},t.default=m},function(e,t,n){"use strict";n.r(t),function(e){var r,o,a,i=n(0),l=n.n(i),c=n(1),s=n.n(c),u=n(7),p=n.n(u),f=n(10),d=n(6),m=n(16),y=n(45),b=n(103),h=n(5);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t,n,r,o,a,i){try{var l=e[a](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k(e);if(t){var o=k(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O(this,n)}}function O(e,t){if(t&&("object"===v(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e,t,n,r,o){var a={};return Object.keys(r).forEach((function(e){a[e]=r[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var S=(a=o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w(e,t)}(c,e);var t,n,r,o,a,i=x(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=i.call(this,e)).state={subject:e.message.subject,content:e.message.content,replyTo:e.message.replyTo||e.currentUserEmail,groupEntity:e.message.groupEntity,isSubjectValid:!0,isReplyToValid:!0,isContentValid:!0,awsLoaded:!1},t}return t=c,(n=[{key:"componentDidMount",value:function(){var e=this;req.awsSignature({key:"enrollment_messages"}).then((function(){e.setState({awsLoaded:!0,froalaConfig:e.getFroalaConfig()})}))}},{key:"getS3Config",value:function(e){return{bucket:e.bucket,region:e.region,keyStart:e.key_start,params:{acl:e.acl,AWSAccessKeyId:e.access_key_id,policy:e.policy,signature:e.signature}}}},{key:"getFroalaConfig",value:function(){var e=this.props.authToken,t=this.getS3Config(this.props.awsSignature);return{height:245,toolbarSticky:!1,imageUploadToS3:t,fileUploadToS3:t,videoUploadToS3:t,imageMaxSize:104857600,fileMaxSize:104857600,videoMaxSize:104857600,imageManagerLoadURL:"".concat("https://api-school.stage.procareconnect.com/api/web","/school/photos"),imageManagerLoadParams:{token:e},toolbarButtons:{moreMisc:{buttons:["undo","redo","html"]}}}}},{key:"updateSubject",value:function(e){this.setState({subject:e,isSubjectValid:!0})}},{key:"updateContent",value:function(e){this.setState({content:e,isContentValid:!0})}},{key:"updateReplyTo",value:function(e){this.setState({replyTo:e,isReplyToValid:!0})}},{key:"validate",value:function(){var e=Boolean(this.state.subject),t=Boolean(this.state.content),n=this.props.fromTemplate||Boolean(this.state.replyTo);return this.setState({isSubjectValid:e,isContentValid:t,isReplyToValid:n}),e&&t&&n}},{key:"handleSendTest",value:(o=regeneratorRuntime.mark((function e(){var t,n,r,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.validate()){e.next=2;break}return e.abrupt("return");case 2:return t=this.state,n=t.subject,r=t.content,o=t.replyTo,a=this.props.currentUserEmail,e.next=6,Actions.showModal("Confirmation",{title:"Send Test Email",description:"Test email will be sent to ".concat(a," with sample data."),yesButton:"Send",noButton:"Cancel"});case 6:e.sent&&this.props.onSendTest({subject:n,content:r,replyTo:o});case 8:case"end":return e.stop()}}),e,this)})),a=function(){var e=this,t=arguments;return new Promise((function(n,r){var a=o.apply(e,t);function i(e){g(a,n,r,i,l,"next",e)}function l(e){g(a,n,r,i,l,"throw",e)}i(void 0)}))},function(){return a.apply(this,arguments)})},{key:"handleContinue",value:function(){var e=this.state,t=e.subject,n=e.content,r=e.replyTo;this.validate()&&this.props.onSubmit({subject:t,content:n,replyTo:r})}},{key:"handleSaveTemplate",value:function(){var e=this.state,t=e.subject,n=e.content;this.validate()&&this.props.onSaveTemplate({subject:t,content:n})}},{key:"handleSaveDraft",value:function(){var e=this.state,t=e.subject,n=e.content,r=e.replyTo;this.validate()&&this.props.onSaveDraft({subject:t,content:n,replyTo:r})}},{key:"render",value:function(){var e=this.state,t=e.subject,n=e.content,r=e.isSubjectValid,o=e.isReplyToValid,a=e.isContentValid,i=e.replyTo,c=e.awsLoaded,s=e.groupEntity,u=e.froalaConfig,h=this.props,v=h.isSaving,g=h.isSavingDraft,_=h.isSavingTemplate,w=h.fromTemplate,x=h.fromLead,O=h.fromAutomation,k=h.children,j=h.kid;return l.a.createElement("div",{className:"modal__container communication-send-msg__edit-msg-form"},x&&j&&l.a.createElement("div",{className:"communication-send-msg__edit-msg-to"},l.a.createElement("span",{className:"communication-send-msg__edit-msg-to-label"},"To:"),l.a.createElement("span",{className:"communication-send-msg__edit-msg-to-name"},j.name)),l.a.createElement("div",{className:"form__row"},l.a.createElement("div",{className:p()("form-input",{"form-input--invalid":!r})},l.a.createElement("div",{className:"form-input__field"},l.a.createElement(m.a,{name:"subject",placeholder:"Add Title",value:t,onChange:this.updateSubject})),!r&&l.a.createElement("div",{className:"form-input__validation-text","data-cy":"subject-empty-error"},"Cannot be empty"))),!w&&l.a.createElement("div",{className:p()("communication-send-msg__edit-msg-reply",{"communication-send-msg__edit-msg-reply--invalid":!o}),"data-cy":"reply-to"},l.a.createElement("span",{className:"communication-send-msg__edit-msg-reply-label"},"Reply To:"),l.a.createElement("span",{className:"communication-send-msg__edit-msg-reply-email"},i),l.a.createElement(b.a.Input,{placeholder:"Enter Email",onChange:this.updateReplyTo,defaultValue:i,type:"email"}),!o&&l.a.createElement("div",{className:"communication-send-msg__edit-msg-reply-validation"},"Cannot be empty")),l.a.createElement("div",{className:"form__row communication-send-msg__edit-msg-froala"},l.a.createElement("div",{className:p()("form-input",{"form-input--invalid":!a})},l.a.createElement("div",{className:"form-input__field","data-cy":"message-text-editor-field"},l.a.createElement(y.a,{name:"message",placeholder:"Write a message",value:n,config:u,loading:!c,onChange:this.updateContent}))),!a&&l.a.createElement("div",{className:"form-input__validation-text communication-send-msg__edit-msg-err","data-cy":"content-empty-error"},"Cannot be empty")),k,this.props.onSendTest&&l.a.createElement(d.a,{className:"communication-send-msg__edit-msg-test",title:"Send as a Test Email",onClick:this.handleSendTest,"data-cy":"send-as-test"}),!s&&l.a.createElement("div",{className:"modal__controls"},w&&l.a.createElement(f.a,{label:"Save Template",onClick:this.handleSaveTemplate,disabled:_,"data-cy":"save-template"}),!w&&!x&&!O&&l.a.createElement(f.a,{secondary:!0,label:"Save as Draft",onClick:this.handleSaveDraft,isLoading:g,disabled:g,"data-cy":"save-as-draft"}),!w&&!O&&l.a.createElement(f.a,{label:x?"Send":"Continue",onClick:this.handleContinue,disabled:x?v:g,"data-cy":x?"send":"continue"}),O&&l.a.createElement(f.a,{label:"Save",onClick:this.handleContinue,isLoading:v,"data-cy":"save"})))}}])&&_(t.prototype,n),r&&_(t,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(i.Component),j(o,"propTypes",{message:s.a.shape({subject:s.a.string,content:s.a.string}),isEdit:s.a.bool,currentUserEmail:s.a.string,isSavingDraft:s.a.bool,onSubmit:s.a.func.isRequired,onSaveDraft:s.a.func,onSendTest:s.a.func,isSaving:s.a.bool,fromAutomation:s.a.bool,children:s.a.node}),j(o,"defaultProps",{message:{subject:"",content:"",replyTo:""},currentUserEmail:""}),E((r=a).prototype,"updateSubject",[e],Object.getOwnPropertyDescriptor(r.prototype,"updateSubject"),r.prototype),E(r.prototype,"updateContent",[e],Object.getOwnPropertyDescriptor(r.prototype,"updateContent"),r.prototype),E(r.prototype,"updateReplyTo",[e],Object.getOwnPropertyDescriptor(r.prototype,"updateReplyTo"),r.prototype),E(r.prototype,"validate",[e],Object.getOwnPropertyDescriptor(r.prototype,"validate"),r.prototype),E(r.prototype,"handleSendTest",[e],Object.getOwnPropertyDescriptor(r.prototype,"handleSendTest"),r.prototype),E(r.prototype,"handleContinue",[e],Object.getOwnPropertyDescriptor(r.prototype,"handleContinue"),r.prototype),E(r.prototype,"handleSaveTemplate",[e],Object.getOwnPropertyDescriptor(r.prototype,"handleSaveTemplate"),r.prototype),E(r.prototype,"handleSaveDraft",[e],Object.getOwnPropertyDescriptor(r.prototype,"handleSaveDraft"),r.prototype),r);t.default=Object(h.b)((function(e){return{currentUserEmail:e.currentUser.data.current_school.sender_email||e.currentUser.data.email,awsSignature:e.awsSignature.data,authToken:e.currentUser.data.auth_token}}))(S)}.call(this,n(4).bind)},function(e,t,n){"use strict";n.r(t),function(e){var r,o,a,i=n(0),l=n.n(i),c=n(1),s=n.n(c),u=n(20),p=n.n(u),f=n(92),d=n(18),m=n(10),y=n(75),b=n(6),h=n(13),v=n(16),g=n(7),_=n.n(g),w=n(54),x=n.n(w),O=n(263);function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e){return function(e){if(Array.isArray(e))return E(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(e,t,n,r,o,a,i){try{var l=e[a](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=R(e);if(t){var o=R(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return z(this,n)}}function z(e,t){if(t&&("object"===k(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e,t,n,r,o){var a={};return Object.keys(r).forEach((function(e){a[e]=r[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var D,I,A,M=(a=o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&C(e,t)}(c,e);var t,n,r,o,a,i=N(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=i.call(this,e)).state={page:1,hasMore:!0,templates:[],selectedId:void 0,loading:!1,search:""},t.debouncedGetData=x()(t.getData,500),t}return t=c,(n=[{key:"componentDidMount",value:function(){this.getData()}},{key:"getData",value:(o=regeneratorRuntime.mark((function e(){var t,n,r,o,a=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:this.state.page,n=a.length>1&&void 0!==a[1]?a[1]:this.state.search,this.setState({loading:!0}),r={page:t,filters:{message:{subject:n,state:"template",kind:this.props.kind}}},e.prev=4,e.next=7,req.enrollmentsMessageTemplates(r);case 7:o=e.sent,this.setState({page:t,templates:[].concat(j(this.state.templates),j(o.messages)),hasMore:!!o.messages.length}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),Actions.reportError("Unable to download message templates",e.t0);case 14:this.setState({loading:!1});case 15:case"end":return e.stop()}}),e,this,[[4,11]])})),a=function(){var e=this,t=arguments;return new Promise((function(n,r){var a=o.apply(e,t);function i(e){S(a,n,r,i,l,"next",e)}function l(e){S(a,n,r,i,l,"throw",e)}i(void 0)}))},function(){return a.apply(this,arguments)})},{key:"getNextPage",value:function(){this.getData(this.state.page+1)}},{key:"selectTemplate",value:function(e){this.setState({selectedId:this.state.selectedId===e?void 0:e})}},{key:"goBack",value:function(){this.props.onBack()}},{key:"submit",value:function(){var e=this;this.props.onBack(this.state.templates.find((function(t){return t.id===e.state.selectedId})))}},{key:"changeSearch",value:function(e){this.setState({page:1,search:e,templates:[],loading:!0},this.debouncedGetData)}},{key:"renderItems",value:function(){var e=this;return this.state.templates.map((function(t){return l.a.createElement(O.default,{key:t.id,template:t,onSelect:e.selectTemplate,selected:t.id===e.state.selectedId})}))}},{key:"render",value:function(){var e=this.state,t=e.templates,n=e.loading,r=e.hasMore,o=e.selectedId,a=e.search,i=_()("communication-send-msg__templates",{"communication-send-msg__templates--loading":n});return l.a.createElement("div",{className:i},l.a.createElement("div",{className:"modal__header modal__header--bordered"},l.a.createElement(b.a,{iconName:"back",size:20,onClick:this.goBack}),l.a.createElement("div",{className:"modal__header-title"},"Select Template")),l.a.createElement("div",{className:"communication-send-msg__templates-content"},l.a.createElement("div",{className:"communication-send-msg__templates-search"},l.a.createElement(h.a,{size:18,color:"#a3a3a3",name:"search",className:"communication-send-msg__templates-search-icon"}),l.a.createElement(v.a,{type:"text",value:a,className:"communication-send-msg__templates-search-input",placeholder:"Search Template",onChange:this.changeSearch})),0===t.length?l.a.createElement(y.a,{loading:n,icon:"message",title:"No Templates Found"}):l.a.createElement(p.a,{className:"communication-send-msg__templates-scroll"},l.a.createElement(f.a,{pageStart:0,loading:n,hasMore:r,threshold:20,onEndReach:this.getNextPage,useWindow:!1},this.renderItems(),l.a.createElement("div",{className:"communication-send-msg__templates-preloader"},l.a.createElement(d.a,null))))),l.a.createElement("div",{className:"modal__controls"},l.a.createElement(m.a,{label:"Choose",onClick:this.submit,disabled:!o})))}}])&&P(t.prototype,n),r&&P(t,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(i.PureComponent),D=o,I="propTypes",A={kind:s.a.oneOf(["sms","email"]),onSelect:s.a.func.isRequired,onBack:s.a.func.isRequired},I in D?Object.defineProperty(D,I,{value:A,enumerable:!0,configurable:!0,writable:!0}):D[I]=A,T((r=a).prototype,"getData",[e],Object.getOwnPropertyDescriptor(r.prototype,"getData"),r.prototype),T(r.prototype,"getNextPage",[e],Object.getOwnPropertyDescriptor(r.prototype,"getNextPage"),r.prototype),T(r.prototype,"selectTemplate",[e],Object.getOwnPropertyDescriptor(r.prototype,"selectTemplate"),r.prototype),T(r.prototype,"goBack",[e],Object.getOwnPropertyDescriptor(r.prototype,"goBack"),r.prototype),T(r.prototype,"submit",[e],Object.getOwnPropertyDescriptor(r.prototype,"submit"),r.prototype),T(r.prototype,"changeSearch",[e],Object.getOwnPropertyDescriptor(r.prototype,"changeSearch"),r.prototype),r);t.default=M}.call(this,n(4).bind)},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(1),i=n.n(a),l=n(5),c=n(20),s=n(10),u=n(63);n(1237);function p(e,t,n,r,o,a,i){try{var l=e[a](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function f(e){var t=e.allStudents,n=e.value,r=e.hideSelect,a=e.onChange,i=t.filter((function(e){return n.indexOf(e.id)>-1})),l=function(){var e,t=(e=regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Actions.showModal("SelectStudents",{selected:n});case 2:(t=e.sent)&&a(t);case 4:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){p(a,r,o,i,l,"next",e)}function l(e){p(a,r,o,i,l,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}();return o.a.createElement("div",{className:"edit-activity-student-list"},o.a.createElement("div",{className:"edit-activity-student-list__title"},o.a.createElement("div",null,o.a.createElement("span",null,i.length)," selected"),i.length>0&&!r&&o.a.createElement("div",{className:"edit-activity-student-list__link",onClick:l},"Select Students")),i.length>0?o.a.createElement("div",{className:"edit-activity-student-list__content"},o.a.createElement(c.Scrollbars,{autoHeight:!0,autoHeightMin:0,autoHeightMax:285},i.map((function(e){return o.a.createElement(u.a,{key:"student-".concat(e.id),checkable:!1,student:e})})))):o.a.createElement("div",{className:"edit-activity-student-list__button"},o.a.createElement(s.a,{secondary:!0,label:"Select Students",type:"button",onClick:l,"data-cy":"select-students"})))}f.propTypes={value:i.a.array,onChange:i.a.func};t.default=Object(l.b)((function(e){return{allStudents:e.students.data}}))(f)},function(e,t,n){"use strict";n.r(t);var r=n(184);n.d(t,"PhotoActivityGallery",(function(){return r.default}));var o=n(240);n.d(t,"PhotoActivityPanel",(function(){return o.default})),t.default=r.default},function(e,t,n){"use strict";n.r(t),function(e){var r,o,a,i=n(0),l=n.n(i),c=n(1),s=n.n(c),u=n(20),p=n.n(u),f=n(7),d=n.n(f),m=n(5),y=n(2),b=n(13),h=n(10),v=n(101),g=n(6),_=n(92),w=n(18),x=n(297),O=n(104),k=n.n(O);n(1243);function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t,n,r,o,a,i){try{var l=e[a](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=z(e);if(t){var o=z(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return N(this,n)}}function N(e,t){if(t&&("object"===j(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T(e,t,n,r,o){var a={};return Object.keys(r).forEach((function(e){a[e]=r[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var D=(a=o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&P(e,t)}(c,e);var t,n,r,o,a,i=C(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=i.call(this,e)).state={photos:[],sent:!0,page:1},t.prevFilters={},t.getPhotos=k()(t.getPhotos,500),t}return t=c,(n=[{key:"componentDidMount",value:function(){this.getPhotos()}},{key:"makeRequestPayload",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{page:this.state.page,per_page:50,filters:{photo:{section_id:e.section_id,tag_names:e.tag_names,kid_ids:e.kid_id?[e.kid_id]:void 0,sent:this.state.sent}}}}},{key:"getPhotos",value:(o=regeneratorRuntime.mark((function e(){var t,n,r,o=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:this.prevFilters,e.prev=1,e.next=4,req.schoolPhotos(this.makeRequestPayload(t));case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),Actions.reportError("Unable to retrieve photos",e.t0),e.abrupt("return");case 11:if(0!==(r=n.photos).length){e.next=15;break}return this.state.page>1&&this.setState({page:this.state.page-1}),e.abrupt("return");case 15:this.setState({photos:this.state.photos.concat(r)});case 16:case"end":return e.stop()}}),e,this,[[1,7]])})),a=function(){var e=this,t=arguments;return new Promise((function(n,r){var a=o.apply(e,t);function i(e){E(a,n,r,i,l,"next",e)}function l(e){E(a,n,r,i,l,"throw",e)}i(void 0)}))},function(){return a.apply(this,arguments)})},{key:"getNextPhotos",value:function(){this.state.photos.length%50==0&&this.setState({page:this.state.page+1},this.getPhotos)}},{key:"handleFiltersChange",value:function(e){var t=this;this.prevFilters=e,this.setState({page:1,photos:[]},(function(){return t.getPhotos(e)}))}},{key:"handleTabChange",value:function(e){this.setState({page:1,photos:[],sent:0===e},this.getPhotos)}},{key:"renderSentFilters",value:function(){var e=this.props,t=e.kids,n=e.tags,r=e.rooms;return l.a.createElement(y.a,{className:"choose-photo__filters",onChange:this.handleFiltersChange},l.a.createElement("div",{className:"form__row"},l.a.createElement(y.a.Typeahead,{name:"kid_id",className:"input--search",placeholder:"Search Students",options:t.map((function(e){return{id:e.id,label:e.name}}))}),l.a.createElement(y.a.Select,{type:"radio",name:"section_id",title:"All Rooms",enableClear:!0},r.map((function(e){return l.a.createElement(y.a.Select.Item,{key:e.id,value:e.id,label:e.name})}))),l.a.createElement(y.a.Select,{type:"checkbox",name:"tag_names",title:"All Tags",enableClear:!0},n.map((function(e){return l.a.createElement(y.a.Select.Item,{key:e.id,value:e.name,label:e.name})})))))}},{key:"renderUnsentFilters",value:function(){var e=this.props.rooms;return l.a.createElement(y.a,{className:"choose-photo__filters",onChange:this.handleFiltersChange},l.a.createElement("div",{className:"form__row"},l.a.createElement(y.a.Select,{type:"radio",name:"section_id",title:"Room",enableClear:!0},e.map((function(e){return l.a.createElement(y.a.Select.Item,{key:e.id,value:e.id,label:e.name})})))))}},{key:"renderContent",value:function(){var e=this.state.photos,t=this.props,n=t.multiple,r=t.loading,o=t.selected,a=t.onSelect;return 0!==e.length||r?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"choose-photo__preloader"},l.a.createElement(w.a,null)),l.a.createElement(p.a,{className:"choose-photo__scroll"},l.a.createElement(_.a,{loading:r,onEndReach:this.getNextPhotos},l.a.createElement(x.default,{multiple:n,photos:e,selected:o,onSelect:a})))):this.renderPlaceholder()}},{key:"renderPlaceholder",value:function(){return l.a.createElement("div",{className:"choose-photo__placeholder"},l.a.createElement(b.a,{name:"image",className:"choose-photo__placeholder-icon",size:54,color:"#ddd"}),l.a.createElement("div",{className:"choose-photo__placeholder-text"},"No photos"))}},{key:"render",value:function(){var e=this.state.sent,t=this.props,n=t.selected,r=t.submitLabel,o=t.onSubmit,a=t.onBack,i=t.loading,c=d()("choose-photo",{"choose-photo--loading":i});return l.a.createElement("div",{className:c},l.a.createElement("div",{className:"modal__header"},l.a.createElement(g.a,{iconName:"back",onClick:a,hidden:!a}),l.a.createElement("div",{className:"modal__header-title"},"Choose Photo")),l.a.createElement("div",{className:"choose-photo__content"},l.a.createElement(v.a,{activeTabIndex:e?0:1,onChange:this.handleTabChange},l.a.createElement(v.a.Tab,{title:"Sent (Tagged)"},this.renderSentFilters(),this.renderContent()),l.a.createElement(v.a.Tab,{title:"Unsent"},this.renderUnsentFilters(),this.renderContent()))),o&&l.a.createElement("div",{className:"modal__controls"},l.a.createElement(h.a,{label:r,disabled:void 0===n,onClick:o})))}}])&&S(t.prototype,n),r&&S(t,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(i.Component),R(o,"propTypes",{photos:s.a.array,selected:s.a.oneOfType([s.a.string,s.a.arrayOf(s.a.string)]),submitLabel:s.a.string,multiple:s.a.bool,onBack:s.a.func,onSelect:s.a.func,onSubmit:s.a.func}),R(o,"defaultProps",{photos:[],submitLabel:"Continue"}),T((r=a).prototype,"makeRequestPayload",[e],Object.getOwnPropertyDescriptor(r.prototype,"makeRequestPayload"),r.prototype),T(r.prototype,"getPhotos",[e],Object.getOwnPropertyDescriptor(r.prototype,"getPhotos"),r.prototype),T(r.prototype,"getNextPhotos",[e],Object.getOwnPropertyDescriptor(r.prototype,"getNextPhotos"),r.prototype),T(r.prototype,"handleFiltersChange",[e],Object.getOwnPropertyDescriptor(r.prototype,"handleFiltersChange"),r.prototype),T(r.prototype,"handleTabChange",[e],Object.getOwnPropertyDescriptor(r.prototype,"handleTabChange"),r.prototype),r);t.default=Object(m.b)((function(e){return{kids:e.students.data,tags:e.tags.data,rooms:e.rooms.data,photos:e.schoolPhotos.data.photos,loading:e.schoolPhotos.loading}}))(D)}.call(this,n(4).bind)},function(e,t,n){"use strict";n.r(t),function(e){var r,o,a,i=n(0),l=n.n(i),c=n(1),s=n.n(c),u=n(13),p=n(7),f=n.n(p);n(1239);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var o=g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v(this,n)}}function v(e,t){if(t&&("object"===d(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w,x,O,k,j,E,S=(a=o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(a,e);var t,n,r,o=h(a);function a(){return m(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"handleClick",value:function(){this.props.onSelect&&this.props.onSelect(this.props.id)}},{key:"getClassName",value:function(){var e=this.props,t=e.className,n=e.onSelect;return f()("photo-activity-thumb",_({"photo-activity-thumb--selected":this.props.selected,"photo-activity-thumb--selectable":n},t,void 0!==t))}},{key:"render",value:function(){var e=this.props.url,t=this.getClassName();return l.a.createElement("div",{className:t,onClick:this.handleClick},l.a.createElement("div",{className:"photo-activity-thumb__img",style:{backgroundImage:"url(".concat(e,")")}}),l.a.createElement(u.a,{name:"tick",className:"photo-activity-thumb__tick",size:21}))}}])&&y(t.prototype,n),r&&y(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.Component),_(o,"propTypes",{id:s.a.string.isRequired,url:s.a.string.isRequired,selected:s.a.bool,onSelect:s.a.func}),_(o,"defaultProps",{photo:{},selected:!1}),w=(r=a).prototype,x="handleClick",O=[e],k=Object.getOwnPropertyDescriptor(r.prototype,"handleClick"),j=r.prototype,E={},Object.keys(k).forEach((function(e){E[e]=k[e]})),E.enumerable=!!E.enumerable,E.configurable=!!E.configurable,("value"in E||E.initializer)&&(E.writable=!0),E=O.slice().reverse().reduce((function(e,t){return t(w,x,e)||e}),E),j&&void 0!==E.initializer&&(E.value=E.initializer?E.initializer.call(j):void 0,E.initializer=void 0),void 0===E.initializer&&(Object.defineProperty(w,x,E),E=null),r);t.default=S}.call(this,n(4).bind)},function(e,t,n){"use strict";n.r(t),function(e){var r,o,a,i=n(0),l=n.n(i),c=n(1),s=n.n(c),u=n(5),p=n(20),f=n.n(p),d=n(6),m=n(2),y=n(315);n(1258);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w(e);if(t){var o=w(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _(this,n)}}function _(e,t){if(t&&("object"===b(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e,t,n,r,o){var a={};return Object.keys(r).forEach((function(e){a[e]=r[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var k=(a=o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}(a,e);var t,n,r,o=g(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this,e)).state={loading:!1},t}return t=a,(n=[{key:"componentDidMount",value:function(){switch(this.props.type){case"name":req.learningActivityNames();break;case"category":req.learningActivityCategories()}}},{key:"goBack",value:function(){}},{key:"deleteItem",value:function(e){var t=this.props.type;("name"===t?req.deleteLearningActivityName:req.deleteLearningActivityCategory)({id:e},{id:e}).then((function(){Actions.showFlash("The ".concat("name"===t?"activity":"category"," has been deleted."))}))}},{key:"addItem",value:function(e,t){var n=this,r=this.props.type,o="name"===r?req.addLearningActivityName:req.addLearningActivityCategory,a="name"===r?"learning_activity_name":"learning_activity_category";e.value&&(this.setState({loading:!0}),o(x({},a,{value:e.value})).then((function(){t(),Actions.showFlash("A new ".concat("name"===r?"activity":"category"," is added.")),n.setState({loading:!1})})).catch((function(e){e.response.data.form_errors&&e.response.data.form_errors.value?Actions.showFlash("This name ".concat(e.response.data.form_errors.value),"alert"):Actions.reportError("Unable to add ".concat("name"===r?"activity":"category"),e),n.setState({loading:!1})})))}},{key:"renderItems",value:function(){var e=this,t=this.props,n=t.type,r=t.names,o=t.categories;return("name"===n?r:o).map((function(t){return l.a.createElement(y.default,{key:t.id,item:t,onDelete:e.deleteItem})}))}},{key:"render",value:function(){var e=this.props.type,t="Manage Activity ".concat("name"===e?"Names":"Categories");return l.a.createElement("div",{className:"manage-activities"},l.a.createElement("div",{className:"modal__header modal__header--bordered"},l.a.createElement(d.a,{iconName:"back",className:"manage-activities__back-button",onClick:this.goBack}),l.a.createElement("div",{className:"modal__header-title"},t)),l.a.createElement(m.a,{className:"manage-activities__new-item form__row form__row--justified",onSubmit:this.addItem,errors:this.state.errors},l.a.createElement(m.a.Input,{name:"value",label:"New Activity",placeholder:"Enter new activity name"}),l.a.createElement(m.a.Submit,{label:"Add",isLoading:this.state.loading})),l.a.createElement("div",{className:"manage-activities__container"},l.a.createElement(f.a,{className:"manage-activities__scroll"},l.a.createElement("div",{className:"manage-activities__list"},this.renderItems()))))}}])&&h(t.prototype,n),r&&h(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.Component),x(o,"propTypes",{names:s.a.arrayOf(s.a.object),categories:s.a.arrayOf(s.a.object),type:s.a.oneOf(["name","category"]),onBack:s.a.func}),x(o,"defaultProps",{type:"name",names:[],categories:[]}),x(o,"contextTypes",{goToStep:s.a.func}),O((r=a).prototype,"goBack",[e],Object.getOwnPropertyDescriptor(r.prototype,"goBack"),r.prototype),O(r.prototype,"deleteItem",[e],Object.getOwnPropertyDescriptor(r.prototype,"deleteItem"),r.prototype),O(r.prototype,"addItem",[e],Object.getOwnPropertyDescriptor(r.prototype,"addItem"),r.prototype),O(r.prototype,"renderItems",[e],Object.getOwnPropertyDescriptor(r.prototype,"renderItems"),r.prototype),r);t.default=Object(u.b)((function(e){var t=e.learningActivityNames,n=e.learningActivityCategories;return{names:t.data,categories:n.data}}))(k)}.call(this,n(4).bind)},function(e,t,n){"use strict";n.r(t),function(e){var r,o,a,i=n(0),l=n.n(i),c=n(1),s=n.n(c),u=n(10),p=n(2),f=n(201),d=n(31),m=n(15),y=n(43),b=n.n(y);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k(e);if(t){var o=k(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O(this,n)}}function O(e,t){if(t&&("object"===h(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e,t,n,r,o){var a={};return Object.keys(r).forEach((function(e){a[e]=r[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var S=(a=o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w(e,t)}(a,e);var t,n,r,o=x(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this,e)).state={dates:e.data?{due_date:e.data.due_date,invoice_start_date:e.data.invoice_start_date,invoice_end_date:e.data.invoice_end_date}:{},notes:e.data?e.data.notes:"",items:e.data?e.data.parent_invoice_items_attributes:[],total:0},t}return t=a,(n=[{key:"save",value:function(e){var t=this,n=this.state,r=n.items,o=n.dates,a=n.notes,i={parent_invoice_items_attributes:r.map((function(e){return g(g({},e),{},{_mode:"create"===t.props.actionType?e._mode:void 0})})),due_date:o.due_date,invoice_start_date:o.invoice_start_date||void 0,invoice_end_date:o.invoice_end_date||void 0,auto_post:e,notes:a};"create"===this.props.actionType?(this.context.nextStep(),this.props.onUpdate(i)):this.props.onSubmit(i)}},{key:"updateDates",value:function(e){this.setState({dates:e})}},{key:"updateNotes",value:function(e){this.setState({notes:e.notes})}},{key:"updateItems",value:function(e){this.setState({items:e})}},{key:"isIncompleteDateRange",value:function(){var e=this.state.dates;return Boolean(e.invoice_start_date)!==Boolean(e.invoice_end_date)}},{key:"hasEmptyItems",value:function(){return this.state.items.filter((function(e){return!e.description||!e.price&&0!==e.price})).length>0}},{key:"openManagePresets",value:function(e){var t=this,n=this.state,r=n.items,o=n.dates,a=n.notes,i={parent_invoice_items_attributes:r.map((function(e){return g(g({},b()(e,["_discount","_discountType","_base"])),{},{_mode:"create"===t.props.actionType?e._mode:void 0})})),due_date:o.due_date,invoice_start_date:o.invoice_start_date||void 0,invoice_end_date:o.invoice_end_date||void 0,notes:a};this.props.onUpdate(i),this.props.onManagePresets(e)}},{key:"render",value:function(){var e=this,t=this.state.dates,n=this.props,r=n.actionType,o=n.isLoading,a=n.isAutopostSaving,i=n.students,c=n.step,s=n.totalSteps,y=n.subFamilies,b=n.onSubFamilyChange,h=n.currentSubFamily,v=this.hasEmptyItems()||this.isIncompleteDateRange()||!t.due_date;return l.a.createElement("div",{className:"modal__wrapper create-invoice"},l.a.createElement("div",{className:"create-invoice__header"},l.a.createElement("div",{className:"create-invoice__row"},l.a.createElement("div",{className:"create-invoice__header-text"},"edit"===r?"Edit":"Create"," Invoice"),"create"===r&&l.a.createElement("div",{className:"create-invoice__header-step"},"Step ".concat(c," / ").concat(s))),!!y.length&&l.a.createElement("div",{className:"form__row create-invoice__choose-subfamily"},l.a.createElement("div",{className:"create-invoice__choose-subfamily-label"},"Choose family"),l.a.createElement(m.a,{className:"create-invoice__choose-subfamily-select",title:"Choose Family",type:"radio",checked:h,onChange:b},y.map((function(e){return l.a.createElement(m.a.Item,{key:e.id,value:e.id,label:e.name})})))),i&&!!i.length&&l.a.createElement("div",{className:"create-invoice__students"},l.a.createElement(d.b,{students:i})),l.a.createElement("div",{className:"create-invoice__row"},l.a.createElement(p.a,{className:"create-invoice__header-form",onChange:this.updateDates},l.a.createElement(p.a.DatePicker,{label:"Invoice Due Date",name:"due_date",defaultValue:this.state.dates.due_date,required:!0,tabIndex:1}),l.a.createElement(p.a.DatePicker,{label:"Date of Service (optional)",name:"invoice_start_date",className:"create-invoice__service-date",defaultValue:this.state.dates.invoice_start_date,tabIndex:2}),l.a.createElement("div",{className:"to"},"to"),l.a.createElement(p.a.DatePicker,{name:"invoice_end_date",defaultValue:this.state.dates.invoice_end_date,tabIndex:3})))),l.a.createElement("div",{className:"create-invoice__items"},l.a.createElement("div",{className:"create-invoice__items-header"},"Invoice Details"),l.a.createElement(f.a,j({mode:this.props.data?this.props.data.mode:"",data:this.state.items,onUpdate:this.updateItems,onClose:this.props.onClose,type:r,enablePresets:!0,onManagePresets:this.openManagePresets,tabIndex:4},"onClose",this.props.onClose))),l.a.createElement(p.a,{onChange:this.updateNotes},l.a.createElement(p.a.Input,{placeholder:"Add optional internal note",name:"notes",className:"create-invoice__notes form-input--highlight",defaultValue:this.props.data?this.props.data.notes:"",tabIndex:5})),l.a.createElement("div",{className:"modal__controls"},"create"!==r&&l.a.createElement(u.a,{label:"create"===r?"Continue":"Save",secondary:!0,disabled:v||a,isLoading:o,onClick:function(){return e.save(!1)}}),l.a.createElement(u.a,{label:"create"===r?"Continue":"Save and Send",disabled:v||o,isLoading:a,onClick:function(){return e.save(!0)}})))}}])&&_(t.prototype,n),r&&_(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.Component),j(o,"contextTypes",{nextStep:s.a.func,goToStep:s.a.func}),j(o,"propTypes",{actionType:s.a.oneOf(["create","edit"]),data:s.a.object,onUpdate:s.a.func,skipKidList:s.a.bool,isLoading:s.a.bool,isAutopostSaving:s.a.bool,students:s.a.array,subFamilies:s.a.array,onManagePresets:s.a.func,onSubFamilyChange:s.a.func,onSubmit:s.a.func}),j(o,"defaultProps",{actionType:"create",data:{},subFamilies:[],isLoading:!1}),E((r=a).prototype,"save",[e],Object.getOwnPropertyDescriptor(r.prototype,"save"),r.prototype),E(r.prototype,"updateDates",[e],Object.getOwnPropertyDescriptor(r.prototype,"updateDates"),r.prototype),E(r.prototype,"updateNotes",[e],Object.getOwnPropertyDescriptor(r.prototype,"updateNotes"),r.prototype),E(r.prototype,"updateItems",[e],Object.getOwnPropertyDescriptor(r.prototype,"updateItems"),r.prototype),E(r.prototype,"openManagePresets",[e],Object.getOwnPropertyDescriptor(r.prototype,"openManagePresets"),r.prototype),r);t.default=S}.call(this,n(4).bind)},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return P}));var r,o,a,i=n(0),l=n.n(i),c=n(1),s=n.n(c),u=n(5),p=n(48),f=n(30),d=n(25),m=n(14),y=n(533),b=n(534),h=n(536),v=n(537),g=n(121);n(1512);function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=j(e);if(t){var o=j(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return k(this,n)}}function k(e,t){if(t&&("object"===_(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(e,t,n,r,o){var a={};return Object.keys(r).forEach((function(e){a[e]=r[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var P=(a=o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x(e,t)}(a,e);var t,n,r,o=O(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this,e)).state={method:e.startMethod||"",subKind:""},t}return t=a,(n=[{key:"bindSteps",value:function(e){this._steps=e}},{key:"onSelectMethod",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=this.props.isSchool;this.setState({method:e,subKind:t}),this.props.autopayEnabled&&!n?this._steps.goToStep("agreement"):this._steps.nextStep()}},{key:"goToList",value:function(){var e=this.props,t=e.match,n=e.history,r=e.onClose;if(r)r();else{var o=t.url.split("/");o.pop(),n.push(o.join("/"))}}},{key:"render",value:function(){var e=this,t=this.state,n=t.method,r=t.subKind,o=this.props,a=o.isSchool,i=o.onSubmit,c=o.startMethod,s=o.autopayEnabled;return l.a.createElement(m.default,{ref:this.bindSteps,startStep:"card"===c?1:0},l.a.createElement(m.default.Item,null,l.a.createElement(y.a,{method:n,onSubmit:i,onSelectMethod:this.onSelectMethod,goToList:this.goToList,isSchool:a,isRegister:!!i,autopayEnabled:s})),l.a.createElement(m.default.Item,null,"card"===n?l.a.createElement(b.a,{method:n,subKind:r,onSubmit:i,goToList:this.goToList,isSchool:a,autopayEnabled:s}):l.a.createElement(h.a,{method:n,onSubmit:i,goToList:this.goToList,isSchool:a,autopayEnabled:s})),l.a.createElement(m.default.Item,null,l.a.createElement(f.Elements,null,l.a.createElement(v.a,{method:n,onSubmit:i,goToList:this.goToList,isSchool:a,autopayEnabled:s}))),l.a.createElement(m.default.Item,{name:"agreement"},l.a.createElement(g.a,{prevStep:function(){return e._steps.goToStep(0)},nextStep:function(){return e._steps.goToStep(1)}})))}}])&&w(t.prototype,n),r&&w(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.Component),E(o,"propTypes",{onClose:s.a.func,isSchool:s.a.bool}),E(o,"defaultProps",{isSchool:!1}),S((r=a).prototype,"bindSteps",[e],Object.getOwnPropertyDescriptor(r.prototype,"bindSteps"),r.prototype),S(r.prototype,"onSelectMethod",[e],Object.getOwnPropertyDescriptor(r.prototype,"onSelectMethod"),r.prototype),S(r.prototype,"goToList",[e],Object.getOwnPropertyDescriptor(r.prototype,"goToList"),r.prototype),r);t.b=Object(p.a)(Object(u.b)((function(e){return{autopayEnabled:Object(d.a)(e).auto_pay_enabled}}))(P))}).call(this,n(4).bind)},,function(e,t,n){"use strict";(function(e){var r,o,a,i=n(0),l=n.n(i),c=n(1),s=n.n(c),u=n(7),p=n.n(u),f=n(15),d=n(27);n(978);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_(e);if(t){var o=_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g(this,n)}}function g(e,t){if(t&&("object"===m(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e,t,n,r,o){var a={};return Object.keys(r).forEach((function(e){a[e]=r[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var O=(a=o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(a,e);var t,n,r,o=v(a);function a(){return y(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"componentWillMount",value:function(){var e,t=this.props.defaultValue;switch(this.props.type){case"radio":e=t;break;case"checkbox":e=void 0!==t?t:[]}this.context.init(this.props.name,e,this.initValidations())}},{key:"componentWillUnmount",value:function(){this.props.allowUnmount&&this.context.unmount(this.props.name)}},{key:"componentDidUpdate",value:function(e){this.props.required!==e.required&&this.context.updateValidations(this.props.name,this.initValidations())}},{key:"initValidations",value:function(){var e={};return this.props.required&&(e.isNotEmpty=null),e}},{key:"clear",value:function(){switch(this.props.type){case"radio":this.handleChange(void 0);break;case"checkbox":this.handleChange([])}}},{key:"handleChange",value:function(e){this.context.update(this.props.name,e),this.props.onChange&&this.props.onChange(this.props.name,e)}},{key:"handleClose",value:function(){this.context.validate(this.props.name)}},{key:"getValidationText",value:function(){var e=this,t=this.props.name,n=this.context,r=n.validations,o=n.errors;return o[t]?o[t].join("; "):r[t]?Object.keys(r[t]).filter((function(e){return!1===r[t][e]})).map((function(t){return"function"==typeof d.a[t]?d.a[t](e.props[t]):d.a[t]})).join("; "):""}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.title,r=e.multipleSelectionText,o=e.name,a=e.label,i=e.className,c=e.disabled,s=e.disableInvalid,u=e.tapable,d=e.type,m=e.enableClear,y=e.tabIndex,b=e.asterisk,h=e.action,v=e["data-cy"],g=this.context.values[o],_=this.getValidationText(),x=p()(w({"form-select":!0,"form-select--invalid":Boolean(_)},i,Boolean(i)));return l.a.createElement("div",{className:x},a&&l.a.createElement("label",{className:"form__label",htmlFor:o},a," ",b&&l.a.createElement("span",{className:"form__asterisk"},"*")),l.a.createElement(f.a,{className:"form-select__field",type:d,title:n,checked:g,onChange:this.handleChange,multipleSelectionText:r,tapable:u,disabled:c,onClear:m?this.clear:void 0,tabIndex:y,action:h,"data-cy":v},t),b&&!a&&l.a.createElement("span",{className:"form__asterisk--no-label"},"*"),_&&!s&&l.a.createElement("div",{className:"form-select__validation-text","data-cy":"".concat(v,"-invalid")},_))}}])&&b(t.prototype,n),r&&b(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.Component),w(o,"Item",f.a.Item),w(o,"contextTypes",{values:s.a.object,validations:s.a.object,errors:s.a.oneOfType([s.a.object,s.a.array]),init:s.a.func,unmount:s.a.func,update:s.a.func,validate:s.a.func,updateValidations:s.a.func,action:s.a.any}),w(o,"propTypes",{name:s.a.string.isRequired,type:s.a.oneOf(["radio","checkbox"]),defaultValue:s.a.any,label:s.a.string,disableInvalid:s.a.bool,multipleSelectionText:s.a.oneOfType([s.a.string,s.a.func]),enableClear:s.a.bool,tabIndex:s.a.number,allowUnmount:s.a.bool,asterisk:s.a.bool,"data-cy":s.a.string,onChange:s.a.func}),w(o,"defaultProps",{type:"radio",allowUnmount:!0}),x((r=a).prototype,"clear",[e],Object.getOwnPropertyDescriptor(r.prototype,"clear"),r.prototype),x(r.prototype,"handleChange",[e],Object.getOwnPropertyDescriptor(r.prototype,"handleChange"),r.prototype),r);t.a=O}).call(this,n(4).bind)},function(e,t,n){"use strict";(function(e){var r,o,a,i=n(0),l=n.n(i),c=n(1),s=n.n(c),u=n(7),p=n.n(u),f=n(3),d=n.n(f),m=n(12);n(982);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){k(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O(e);if(t){var o=O(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return w(this,n)}}function w(e,t){if(t&&("object"===y(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return x(e)}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e,t,n,r,o){var a={};return Object.keys(r).forEach((function(e){a[e]=r[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var E=/\d{1,2}:\d{2}\s(AM|PM)/,S="hours",P="minutes",C="period",N=null,z=38,R=40,T=37,D=39,I=65,A=80,M={AM:"AM",PM:"PM"},L=[S,P,C],B=(a=o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g(e,t)}(a,e);var t,n,r,o=_(a);function a(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),k(x(n=o.call(this,e,t)),"containerEl",null),k(x(n),"hiddenInput",null),k(x(n),"inputValue","");var r=n.getValueObject(e.defaultValue);return n.state={isEmpty:null===r,focusedOn:null,values:r||{hours:12,minutes:0,period:e.autoPeriod?d()().format("A"):M.AM}},n}return t=a,(n=[{key:"componentWillUnmount",value:function(){this.removeKeyListeners(),this.removeClickListener()}},{key:"componentWillUpdate",value:function(e,t){this.getValue(this.state.values)!==this.getValue(t.values)&&this.setState({isEmpty:!1})}},{key:"componentDidUpdate",value:function(e,t){var n=this.state.focusedOn,r=e.disabled,o=t.focusedOn;if(this.props.disabled&&!r||n===N&&o!==N)return this.removeClickListener(),this.removeKeyListeners(),void this.blur();n!==N&&o===N&&(this.setClickListener(),this.setKeyListeners(),this.focusHiddenInput()),this.getValue(this.state.values)!==this.getValue(t.values)&&this.handleChange()}},{key:"setClickListener",value:function(){this.state.focusedOn!==N&&document.addEventListener("click",this.listenClickOutside)}},{key:"removeClickListener",value:function(){document.removeEventListener("click",this.listenClickOutside)}},{key:"setKeyListeners",value:function(){document.addEventListener("keydown",this.listenArrows),document.addEventListener("keydown",this.listenPeriod)}},{key:"removeKeyListeners",value:function(){document.removeEventListener("keydown",this.listenArrows),document.removeEventListener("keydown",this.listenPeriod)}},{key:"getValueObject",value:function(e){var t=d()(e,"h:mm A"),n=E.test(e)&&t.isValid()?t:null;return null===n?null:{hours:Number(n.format("h"))||12,minutes:Number(n.format("mm")),period:n.format("A")}}},{key:"getTimeString",value:function(e){return e?1===e.toString().length?"0".concat(e):e:"00"}},{key:"getValue",value:function(e){var t=this.getTimeString(e.hours),n=this.getTimeString(e.minutes);return"".concat(t,":").concat(n," ").concat(e.period)}},{key:"setFocus",value:function(e){this.props.disabled||(this.inputValue="",this.setState({focusedOn:e}),this.focusHiddenInput())}},{key:"focusHours",value:function(){this.setFocus(S)}},{key:"focusMinutes",value:function(){this.setFocus(P)}},{key:"focusPeriod",value:function(){this.setFocus(C)}},{key:"blur",value:function(){this.inputValue="",this.setState({focusedOn:N}),this.removeKeyListeners(),this.removeClickListener(),this.hiddenInput.blur()}},{key:"listenClickOutside",value:function(e){Object(m.S)(e,this.containerEl,this.blur)}},{key:"listenArrows",value:function(e){var t=this.state.focusedOn;if(e.keyCode!==z&&e.keyCode!==R){if(e.keyCode===T||e.keyCode===D){var n=L.indexOf(t);n>0&&e.keyCode===T?this.setFocus(L[n-1]):n<L.length-1&&e.keyCode===D&&this.setFocus(L[n+1])}}else{var r=e.keyCode===z?1:-1;switch(t){case S:this.addHours(r);break;case P:this.addMinutes(r);break;case C:this.changePeriod()}}}},{key:"listenPeriod",value:function(e){e.keyCode===I&&this.changePeriod(M.AM),e.keyCode===A&&this.changePeriod(M.PM)}},{key:"onHiddenChange",value:function(e){var t=e.target.value;if(!/\D/g.test(t)||this.state.focusedOn===C)switch(this.inputValue=this.inputValue+t,this.state.focusedOn){case S:this.changeHours(this.inputValue);break;case P:this.changeMinutes(this.inputValue)}}},{key:"changeHours",value:function(e){var t=this.state.values,n=Number(e);(n>1||e.length>1)&&(n>12&&(n-=12),this.focusMinutes()),this.setState({values:h(h({},t),{},{hours:n})})}},{key:"changeMinutes",value:function(e){var t=this.state.values,n=Number(e);(e.length>1||n>59)&&this.focusPeriod(),this.setState({values:h(h({},t),{},{minutes:n>59?59:n})})}},{key:"changePeriod",value:function(e){if(!this.props.disabled){var t=this.state.values,n="string"==typeof e&&[M.AM,M.PM].includes(e.toUpperCase())?e:null;this.setState({values:h(h({},t),{},{period:n||(t.period===M.AM?M.PM:M.AM)})})}}},{key:"handleChange",value:function(){this.props.onChange&&this.props.onChange(this.getValue(this.state.values))}},{key:"addHours",value:function(e){var t=this.state.values,n=0;n=t.hours+e>12?1:t.hours+e<1?12:t.hours+e,this.setState({values:h(h({},t),{},{hours:n})})}},{key:"addMinutes",value:function(e){var t=this.state.values,n=0;n=t.minutes+e>59?0:t.minutes+e<0?59:t.minutes+e,this.setState({values:h(h({},t),{},{minutes:n})})}},{key:"focusHiddenInput",value:function(){this.hiddenInput&&this.hiddenInput.focus()}},{key:"render",value:function(){var e=this,t=this.state,n=t.values,r=t.focusedOn,o=t.isEmpty,a=this.props,i=a.disabled,c=a.className,s=p()("time-input",k({"time-input--focused-h":r===S,"time-input--focused-m":r===P,"time-input--focused-p":r===C,"time-input--empty":o,"time-input--disabled":i},c,Boolean(c)));return l.a.createElement("div",{className:s},l.a.createElement("input",{type:"text",value:"",className:"time-input__hidden",ref:function(t){return e.hiddenInput=t},onChange:this.onHiddenChange,onFocus:this.focusHiddenInput}),l.a.createElement("div",{className:"time-input__inner",ref:function(t){return e.containerEl=t}},l.a.createElement("div",{className:"time-input__hours",onClick:this.focusHours},this.getTimeString(n.hours)),l.a.createElement("div",{className:"time-input__delim"},":"),l.a.createElement("div",{className:"time-input__minutes",onClick:this.focusMinutes},this.getTimeString(n.minutes))),l.a.createElement("div",{className:"time-input__period",onClick:this.changePeriod},l.a.createElement("div",{className:"time-input__period-value"},n.period)))}}])&&v(t.prototype,n),r&&v(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.Component),k(o,"propTypes",{defaultValue:s.a.string,onChange:s.a.func,disabled:s.a.bool,className:s.a.string,autoPeriod:s.a.bool}),k(o,"defaultProps",{}),j((r=a).prototype,"focusHours",[e],Object.getOwnPropertyDescriptor(r.prototype,"focusHours"),r.prototype),j(r.prototype,"focusMinutes",[e],Object.getOwnPropertyDescriptor(r.prototype,"focusMinutes"),r.prototype),j(r.prototype,"focusPeriod",[e],Object.getOwnPropertyDescriptor(r.prototype,"focusPeriod"),r.prototype),j(r.prototype,"blur",[e],Object.getOwnPropertyDescriptor(r.prototype,"blur"),r.prototype),j(r.prototype,"listenClickOutside",[e],Object.getOwnPropertyDescriptor(r.prototype,"listenClickOutside"),r.prototype),j(r.prototype,"listenArrows",[e],Object.getOwnPropertyDescriptor(r.prototype,"listenArrows"),r.prototype),j(r.prototype,"listenPeriod",[e],Object.getOwnPropertyDescriptor(r.prototype,"listenPeriod"),r.prototype),j(r.prototype,"onHiddenChange",[e],Object.getOwnPropertyDescriptor(r.prototype,"onHiddenChange"),r.prototype),j(r.prototype,"changePeriod",[e],Object.getOwnPropertyDescriptor(r.prototype,"changePeriod"),r.prototype),j(r.prototype,"handleChange",[e],Object.getOwnPropertyDescriptor(r.prototype,"handleChange"),r.prototype),j(r.prototype,"focusHiddenInput",[e],Object.getOwnPropertyDescriptor(r.prototype,"focusHiddenInput"),r.prototype),r);t.a=B}).call(this,n(4).bind)},function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(1),i=n.n(a),l=n(47),c=n.n(l),s=n(3),u=n.n(s),p=n(7),f=n.n(p);n(1325);function d(e){var t=e.date,n=f()("weekly-calendar__dates-item",{"weekly-calendar__dates-item--today":t.isSame(new Date,"day")});return o.a.createElement("div",{className:n},o.a.createElement("div",{className:"weekly-calendar__dates-item__inner"},o.a.createElement("div",{className:"weekly-calendar__dates-item__title"},t.format("DD")),o.a.createElement("div",{className:"weekly-calendar__dates-item__subtitle"},t.format("ddd"))))}d.propTypes={date:i.a.object};var m=d;n(1327);var y=function(){return o.a.createElement("div",{className:"weekly-calendar__hours"},c()(25).map((function(e){var t=u()().startOf("day").add(e,"hours");return o.a.createElement("div",{className:"weekly-calendar__hours-item",key:"hours_".concat(e)},t.format("h A"))})))};n(1329);function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v=function(){var e=Object(r.useRef)(null),t=b(Object(r.useState)(new Date),2),n=t[0],a=t[1];Object(r.useEffect)((function(){var t=setInterval((function(){a(new Date)}),1e3);return e.current&&e.current.scrollIntoView(),function(){return clearInterval(t)}}),[]);var i=u()(n).format("hh:mm A"),l=u()().startOf("day"),c=64/60*u()(n).diff(l,"minute");return o.a.createElement("div",{ref:e,className:"weekly-calendar__dateline",style:{top:c}},o.a.createElement("div",{className:"weekly-calendar__dateline-text"},i),o.a.createElement("div",{className:"weekly-calendar__dateline-cross"}))};n(1331);function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var w=function(){var e=g(Object(r.useState)(new Date),2),t=e[0],n=e[1];Object(r.useEffect)((function(){var e=setInterval((function(){n(new Date)}),1e3);return function(){return clearInterval(e)}}),[]);var a=u()().startOf("day"),i=64/60*u()(t).diff(a,"minute")-5;return o.a.createElement("div",{className:"weekly-calendar__caret",style:{top:i}})};function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){k(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e,t){var n=u()(e.starts_at).toDate(),r=u()(e.ends_at).toDate();return t.filter((function(e){var t=u()(e.starts_at).toDate(),o=u()(e.ends_at).toDate(),a=Math.max(t.valueOf(),n.valueOf()),i=r.valueOf()-a,l=o.valueOf()-a;return i>0&&l>0}))}function E(e,t){return e.filter((function(e){return u()(e.starts_at).isSame(t,"day")}))}n(1333);function S(e){var t=e.event,n=e.allEvents,r=e.onClick,a=t.starts_at,i=t.ends_at,l=t.kind,c=t.title,s=function(e,t){var n=j(e,t),r=u()(e.starts_at),o=u()(e.ends_at);return n.forEach((function(e){var t=u()(e.starts_at),n=u()(e.ends_at);t.isBefore(r)&&(r=t),n.isAfter(o)&&(o=n)})),j(O(O({},e),{},{starts_at:r,ends_at:o}),t)}(t,n),p=function(e,t){return t.findIndex((function(t){return t.id===e.id}))}(t,s),d=u()(a).startOf("day"),m=100/s.length,y=u()(i).diff(a,"minute")*(64/60),b=64/60*u()(a).diff(d,"minute"),h=f()("weekly-calendar__event","weekly-calendar__event--".concat(l),{"weekly-calendar__event--last":s.length-1===p,"weekly-calendar__event--inactive":t.inactive}),v={width:"".concat(m,"%"),left:"".concat(p*m,"%"),top:b,height:y};return o.a.createElement("div",{className:h,style:v,onClick:r},c)}S.propTypes={onClick:i.a.func,event:i.a.object,allEvents:i.a.array};var P=S;n(1335);function C(e){var t=e.date,n=e.events,r=e.allowCreate,a=e.onSelect,i=e.showCaret,l=t.isSame(new Date,"day"),s=f()("weekly-calendar__weekday-slots",{"weekly-calendar__weekday-slots--today":l});return o.a.createElement("div",{className:"weekly-calendar__weekday"},o.a.createElement("div",{className:s},c()(96).map((function(e){return o.a.createElement("div",{className:"weekly-calendar__weekday-slots__item",key:"".concat(t.format(),"_").concat(e),onClick:function(){return function(e){if(r){var n=t.startOf("day").add(15*e,"minute").format();Actions.showModal("EditCalendarEvent",{startsAt:n},{noCloseIcon:!0})}}(e)}})}))),n.map((function(e){return o.a.createElement(P,{key:e.id,event:e,allEvents:n,onClick:function(t){return n=e,void a({anchor:t.target,event:n});var n}})})),l&&i&&o.a.createElement(w,null))}C.propTypes={allowCreate:i.a.bool,showCaret:i.a.bool,date:i.a.object,events:i.a.array,allDayEvents:i.a.array,onSelect:i.a.func},C.defaultProps={showCaret:!0,onSelect:function(){}};var N=C;n(1337);function z(e){var t=e.event,n=e.onSelect,r=t.title,a=t.kind,i=f()("weekly-calendar__alldays-event","weekly-calendar__alldays-event--".concat(a),{"weekly-calendar__alldays-event--inactive":t.inactive});return o.a.createElement("div",{className:i,onClick:function(e){return n({anchor:e.target,event:t})}},r)}z.propTypes={event:i.a.object,onSelect:i.a.func},z.defaultProps={onSelect:function(){},active:!0};var R=z,T=n(5),D=n(6),I=n(18),A=n(23),M=n(31),L=n(12);n(1339);function B(e,t,n,r,o,a,i){try{var l=e[a](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function V(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return U(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function H(e){var t=e.rooms,n=e.event,a=e.anchor,i=e.onClose,l=Object(r.useRef)(null),c=q(Object(r.useState)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){V(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n)),2),s=c[0],p=c[1],d=q(Object(r.useState)(!1),2),m=d[0],y=d[1],b=n.starts_at,h=n.ends_at,v=n.kind,g=n.title,_=n.all_day,w=a.getBoundingClientRect(),x=window.innerWidth-w.x>600?"right":"left",O=f()("weekly-calendar__panel","weekly-calendar__panel--".concat(x),"weekly-calendar__panel--".concat(v)),k=u()(h).diff(b,"minute")/60,j=Object(L.x)(k).toLowerCase(),E={top:w.top+w.height/2};E.left="left"===x?w.x-14-328:w.x+w.width+14;Object(r.useEffect)((function(){(function(){var e,t=(e=regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!1),p(n),e.prev=2,e.next=5,req.loadSchoolEventItem({id:n.id});case 5:t=e.sent,p(t),y(!0),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(2);case 12:case"end":return e.stop()}}),e,null,[[2,10]])})),function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){B(a,r,o,i,l,"next",e)}function l(e){B(a,r,o,i,l,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}})()()}),[n]),Object(r.useEffect)((function(){var e=function(e){l.current&&Object(L.S)(e,l.current,(function(){e.target.classList.contains("weekly-calendar__event")||e.target.classList.contains("weekly-calendar__alldays-event")||i()}))};return document.addEventListener("click",e),function(){document.removeEventListener("click",e)}}),[]);var S=s.kids||s.registrations||[];return o.a.createElement("div",{ref:l,className:O,style:E},o.a.createElement("div",{className:"weekly-calendar__panel-heading"},o.a.createElement("div",{className:"weekly-calendar__panel-title"},g),o.a.createElement("div",{className:"weekly-calendar__panel-actions"},m&&o.a.createElement(D.a,{onClick:function(){Actions.showModal("EditCalendarEvent",s,{noCloseIcon:!0})},iconName:"edit",size:16}),o.a.createElement(D.a,{onClick:function(){Actions.showModal("Confirmation",{title:"Delete Event",description:"Are you sure you want to delete this event?"}).then((function(e){if(e)return req.deleteSchoolEvent({id:n.id},{id:n.id}).then((function(){Actions.showFlash("Event has been deleted"),i()})).catch((function(e){Actions.reportError("There was problem deleting event",e)}))}))},iconName:"delete",size:16}))),o.a.createElement("div",{className:"weekly-calendar__panel-date"},o.a.createElement("div",null,u()(b).format("dddd, MMMM DD, YYYY")," ",_&&"(All Day)"),!_&&o.a.createElement("div",null,u()(b).format("h:mm A")," - ",u()(h).format("h:mm A")," (",j,")"),s.section_ids&&o.a.createElement("div",null,t.filter((function(e){return s.section_ids.includes(e.id)})).map((function(e){return e.name})).join(", "))),!m&&o.a.createElement("div",{className:"weekly-calendar__panel-loader"},o.a.createElement(I.a,{small:!0})),S.length>0&&o.a.createElement("div",{className:"weekly-calendar__panel-attendees"},o.a.createElement(M.b,{students:S,avatarSize:"xxs",maxNumber:5})),o.a.createElement("div",{className:"weekly-calendar__panel-description"},s.description),s.teacher&&o.a.createElement("div",{className:"weekly-calendar__panel-teacher"},o.a.createElement("span",{className:"weekly-calendar__panel-teacher-title"},"Organizer: "),o.a.createElement(A.a,{type:"avatar",size:"xxs",name:s.teacher.name,url:s.teacher.profile_pic_url,status:s.teacher.is_admin?"admin":void 0}),o.a.createElement("span",{className:"weekly-calendar__panel-teacher-name"},s.teacher.name)))}H.propTypes={anchor:i.a.object,event:i.a.object};var Y=Object(T.b)((function(e){return{rooms:e.rooms.data}}))(H);n(1341);function K(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return W(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return W(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Z(e){var t=e.showWeekend,n=e.startDate,a=e.events,i=e.allowCreate,l=K(Object(r.useState)(null),2),s=l[0],p=l[1],f=t?7:5,d=a.filter((function(e){return!e.all_day})),b=a.filter((function(e){return e.all_day}));return Object(r.useEffect)((function(){var e=document.getElementById("main-section"),t=function(){p(null)};return e.addEventListener("scroll",t),function(){e.removeEventListener("scroll",t)}}),[]),o.a.createElement("div",{className:"weekly-calendar"},o.a.createElement("div",{className:"weekly-calendar__dates"},c()(f).map((function(e){return o.a.createElement(m,{key:"weekly-date-".concat(e),date:u()(n).add(e,"days")})}))),o.a.createElement("div",{className:"weekly-calendar__alldays"},c()(f).map((function(e){var t=u()(n).add(e,"days"),r=E(b,t);return o.a.createElement("div",{className:"weekly-calendar__alldays-item",key:"allday_".concat(e)},r.map((function(e){return o.a.createElement(R,{key:e.id,event:e,onSelect:p})})))}))),o.a.createElement("div",{className:"weekly-calendar__days"},o.a.createElement(y,null),o.a.createElement(v,null),c()(f).map((function(e){var t=u()(n).add(e,"days");return o.a.createElement(N,{key:"weekday-".concat(e),date:t,events:E(d,t),onSelect:p,allowCreate:i})}))),s&&o.a.createElement(Y,{event:s.event,anchor:s.anchor,onClose:function(){return p(null)}}))}Z.propTypes={events:i.a.array,showWeekend:i.a.bool,allowCreate:i.a.bool,startDate:i.a.any,endDate:i.a.any},Z.Weekday=N,Z.AllDayEventItem=R,Z.Dateline=v,Z.HourLegend=y;t.a=Z},function(e,t,n){"use strict";var r=n(12),o=n(3),a=n.n(o),i=n(11),l=n.n(i);t.a={isEmail:function(e){return!e||Object(r.cb)(e)},isUrl:function(e){return/^(https?:\/\/).+\.[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b/.test(e)},isNotEmpty:function(e){return Array.isArray(e)?e.length>0:"string"==typeof e?e.trim().length>0:null!=e&&!1!==e},isNaturalNumber:function(e){return null==(t=e)||""===t||Object(r.db)(e);var t},isPasswordsEqual:function(e,t){return e===t.values[t.linkedFields[t.fieldName]]},minLength:function(e,t){var n=t.minLength;return!e.length||e.length>=n},pattern:function(e,t){return new RegExp(t.pattern).test(e)},isGreaterThanStart:function(e,t){var n=t.values,o=t.linkedFields,a=t.fieldName;return Object(r.G)(e)>=Object(r.G)(n[o[a]])},isLesserThanEnd:function(e,t){var n=t.values,o=t.linkedFields,a=t.fieldName;return Object(r.G)(e)<=Object(r.G)(n[o[a]])},maxRangeMonth:function(e,t){var n=t.values[t.linkedFields[t.fieldName]];return!n||!Object(r.G)(e)||Math.abs(a()(Object(r.G)(e)).diff(a()(Object(r.G)(n)),"months"))<=t.maxRangeMonth},maxRangeMonthFilter:function(e,t){return"range"!==e.type||Math.abs(a()(e.dateRange[0]).diff(a()(e.dateRange[1]),"months"))<=t.maxRangeMonthFilter},isTime:function(e){return!e||/\d{1,2}:\d{2}\s{1}(AM|PM)/.test(e)},isAfterTime:function(e,t){var n=t.values,r=t.linkedFields,o=t.fieldName,i=l()(n,"".concat(r,".").concat(o));return!e||void 0===i||a()("2000-01-01 ".concat(e),"YYYY-MM-DD hh:mm A").diff(a()("2000-01-01 ".concat(i),"YYYY-MM-DD hh:mm A"))>0}}},,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(5),i=n(495);n(475);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var o=d(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(l,e);var t,n,r,a=p(l);function l(){return c(this,l),a.apply(this,arguments)}return t=l,(n=[{key:"render",value:function(){var e=this.props.flashes;return o.a.createElement("div",{className:"flashes"},Object.keys(e).map((function(t){return o.a.createElement(i.a,{flash:e[t],key:t})})))}}])&&s(t.prototype,n),r&&s(t,r),Object.defineProperty(t,"prototype",{writable:!1}),l}(r.Component);t.a=Object(a.b)((function(e){return{flashes:e.flashes.data}}))(m)},function(e,t,n){"use strict";n.r(t),function(e){var r,o,a,i=n(0),l=n.n(i),c=n(1),s=n.n(c),u=n(5),p=n(251),f=n(252),d=n(361);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O(e);if(t){var o=O(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return w(this,n)}}function w(e,t){if(t&&("object"===m(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return x(e)}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e,t,n,r,o){var a={};return Object.keys(r).forEach((function(e){a[e]=r[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var E=Object(f.default)(),S=(a=o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g(e,t)}(a,e);var t,n,r,o=_(a);function a(){var e;h(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return k(x(e=o.call.apply(o,[this].concat(n))),"modalRef",{}),e}return t=a,(n=[{key:"closeModal",value:function(e,t){Actions.modalResolve&&(t&&t.nativeEvent?Actions.modalResolve(e):Actions.modalResolve(e,t)),this.hideModal(e)}},{key:"onRejectModal",value:function(e,t){Actions.modalReject(e,t),this.hideModal(e)}},{key:"hideModal",value:function(e){var t=this.modalRef[e];if(t)return t.unmountModal();this.props.hideModal(e)}},{key:"getModalComponent",value:function(e){if(!e)return null;var t;try{t=E(e)}catch(e){t=null}return t}},{key:"withSlideWrapper",value:function(e,t){var n=this;return function(r){return"slide"===e?l.a.createElement(d.default,{key:t,ref:function(e){n.modalRef[t]=e},onUnmount:function(){n.props.hideModal(t)}},r):r}}},{key:"renderModal",value:function(e){var t=this,n=e.isVisible,r=e.data,o=e.options,a=e.id,i=this.getModalComponent(e.component),c=o.passDataToProps?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){k(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},r):void 0;return this.withSlideWrapper(o.type,a)(l.a.createElement(p.default,{key:a,className:o.className,visible:n,onClose:function(){return t.closeModal(a)},noCloseIcon:o.noCloseIcon,type:o.type},l.a.createElement(i,y({data:r},c,{options:o,onCloseAll:function(){return t.props.closeAllModals()},onClose:function(e){return t.closeModal(a,e)},onReject:function(e){return t.onRejectModal(a,e)}}))))}},{key:"render",value:function(){var e=this,t=this.props.modals;return t.length?l.a.createElement(l.a.Fragment,null,t.map((function(t){return e.renderModal(t)}))):null}}])&&v(t.prototype,n),r&&v(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.Component),k(o,"propTypes",{visible:s.a.bool,className:s.a.string,component:s.a.string,hideModal:s.a.func}),k(o,"defaultProps",{visible:!1,options:{}}),j((r=a).prototype,"closeModal",[e],Object.getOwnPropertyDescriptor(r.prototype,"closeModal"),r.prototype),j(r.prototype,"onRejectModal",[e],Object.getOwnPropertyDescriptor(r.prototype,"onRejectModal"),r.prototype),j(r.prototype,"hideModal",[e],Object.getOwnPropertyDescriptor(r.prototype,"hideModal"),r.prototype),j(r.prototype,"withSlideWrapper",[e],Object.getOwnPropertyDescriptor(r.prototype,"withSlideWrapper"),r.prototype),r);t.default=Object(u.b)((function(e){return{modals:e.modal.modals}}),(function(e){return{closeAllModals:function(){return e({type:"MODAL_RESET"})},hideModal:function(t){e({type:"MODAL_HIDE",payload:t})}}}))(S)}.call(this,n(4).bind)},,function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(7),i=n.n(a),l=n(1),c=n.n(l);n(1235);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var o=y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m(this,n)}}function m(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(l,e);var t,n,r,a=d(l);function l(){return u(this,l),a.apply(this,arguments)}return t=l,(n=[{key:"render",value:function(){var e=this.props.type,t=i()("activity-icon","activity-icon__".concat(e));return o.a.createElement("div",{className:t})}}])&&p(t.prototype,n),r&&p(t,r),Object.defineProperty(t,"prototype",{writable:!1}),l}(r.Component);b.propTypes={type:c.a.string.isRequired},t.a=b},function(e,t,n){"use strict";n.r(t),function(e){var r,o,a,i=n(0),l=n.n(i),c=n(1),s=n.n(c),u=n(124),p=n(20),f=n.n(p),d=n(273),m=n(196);n(1098);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k(e);if(t){var o=k(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return x(this,n)}}function x(e,t){if(t&&("object"===y(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return O(e)}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e,t,n,r,o){var a={};return Object.keys(r).forEach((function(e){a[e]=r[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var S=Object(u.b)(m.default),P=Object(u.a)((function(e){var t=e.className,n=e.children;return l.a.createElement("div",{className:t},n)})),C=(a=o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_(e,t)}(a,e);var t,n,r,o=w(a);function a(){var e;v(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return j(O(e=o.call.apply(o,[this].concat(n))),"state",{updateId:void 0,deleteId:void 0}),e}return t=a,(n=[{key:"handleUpdate",value:function(e,t){var n=this,r=this.props.onUpdate(e,t);r instanceof Promise&&r.then((function(){n.setState({updateId:void 0})})).catch((function(){n.setState({updateId:void 0})}))}},{key:"handleDelete",value:function(e){var t=this,n=this.props.onDelete(e);n instanceof Promise&&(this.setState({deleteId:e}),n.then((function(){return t.setState({deleteId:void 0})})))}},{key:"handleSortEnd",value:function(e){var t=e.oldIndex,n=e.newIndex,r=b(this.props.items),o=Object(u.d)(r,t,n);this.props.onReplace(o)}},{key:"renderItems",value:function(){var e=this,t=this.props,n=t.items,r=t.sortable,o=t.ItemComponent,a=t.editItemId,i=t.onEditStart,c=t.onEditEnd,s=this.state,u=s.updateId,p=s.deleteId,f=r?S:m.default;return n.map((function(t,n){return l.a.createElement(f,{key:t.id,sortable:r,ItemComponent:o,isEdit:t.id===a,item:t,index:r?n:void 0,controlsDisabled:Boolean(u||p),onEditStart:i,onEditEnd:c,onUpdate:e.handleUpdate,onDelete:e.handleDelete,isUpdateLoading:t.id===u,isDeleteLoading:t.id===p})}))}},{key:"renderItemsContainer",value:function(){return this.props.sortable?l.a.createElement(P,{lockAxis:"y",helperClass:"manage-list-item__sort-helper",onSortStart:this.handleSortStart,onSortEnd:this.handleSortEnd,useDragHandle:!0},this.renderItems()):l.a.createElement("div",{className:"manage-list__items"},this.renderItems())}},{key:"render",value:function(){var e=this.props,t=e.ItemComponent,n=e.isNew,r=e.onNewCreate,o=e.onNewCancel;return l.a.createElement("div",{className:"manage-list"},n&&l.a.createElement(d.default,{ItemComponent:t,onCreate:r,onCancel:o}),l.a.createElement("div",{className:"manage-list__list"},l.a.createElement(f.a,{className:"manage-list__scroll"},this.renderItemsContainer())))}}])&&g(t.prototype,n),r&&g(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.PureComponent),j(o,"propTypes",{items:s.a.arrayOf(s.a.shape({id:s.a.string.isRequired})),isNew:s.a.bool,editItemId:s.a.string,onNewCreate:s.a.func,onNewCancel:s.a.func,onEditStart:s.a.func,onEditEnd:s.a.func,onUpdate:s.a.func,onReplace:s.a.func,onDelete:s.a.func,ItemComponent:s.a.any}),E((r=a).prototype,"handleUpdate",[e],Object.getOwnPropertyDescriptor(r.prototype,"handleUpdate"),r.prototype),E(r.prototype,"handleDelete",[e],Object.getOwnPropertyDescriptor(r.prototype,"handleDelete"),r.prototype),E(r.prototype,"handleSortEnd",[e],Object.getOwnPropertyDescriptor(r.prototype,"handleSortEnd"),r.prototype),r);t.default=C}.call(this,n(4).bind)},function(e,t,n){"use strict";n.r(t),function(e){var r,o,a,i=n(0),l=n.n(i),c=n(1),s=n.n(c),u=n(151);n(1245);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b(e);if(t){var o=b(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){if(t&&("object"===p(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t,n,r,o){var a={};return Object.keys(r).forEach((function(e){a[e]=r[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var g=(a=o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(a,e);var t,n,r,o=m(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this,e)).state={selectedPhotoIds:e.selectedPhotoIds},t}return t=a,(n=[{key:"handleUpdate",value:function(e){this.props.onChange(e)}},{key:"selectPhotos",value:function(e,t){var n=this;this.setState({selectedPhotoIds:e},(function(){return n.handleUpdate(t)}))}},{key:"render",value:function(){return l.a.createElement(u.default,{multiple:!0,selected:this.state.selectedPhotoIds,onSelect:this.selectPhotos,onBack:this.props.goBack})}}])&&f(t.prototype,n),r&&f(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.Component),h(o,"propTypes",{selectedPhotoIds:s.a.array,photos:s.a.array,photosLoading:s.a.bool,onChange:s.a.func,goBack:s.a.func}),h(o,"defaultProps",{selectedPhotoIds:[],photos:[]}),v((r=a).prototype,"handleUpdate",[e],Object.getOwnPropertyDescriptor(r.prototype,"handleUpdate"),r.prototype),v(r.prototype,"selectPhotos",[e],Object.getOwnPropertyDescriptor(r.prototype,"selectPhotos"),r.prototype),r);t.default=g}.call(this,n(4).bind)},function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(1),i=n.n(a),l=n(6),c=n(19),s=n(24);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b(e);if(t){var o=b(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){if(t&&("object"===u(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h,v,g,_={hourly:"hr",daily:"day",per_minute:"min"},w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(i,e);var t,n,r,a=m(i);function i(){return p(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this,t=this.props,n=t.item,r=t.isAttendancePreview,a=_[n.rate_type];return o.a.createElement("div",{className:"table__row"},o.a.createElement("div",{className:"table__cell"},o.a.createElement("span",{className:"invoice-preview-card__description"},n.description)),("attendance"===n.kind||"late_fee"===n.kind)&&o.a.createElement("div",{className:"table__cell table__cell--xs"},n.quantity," ",a,n.quantity>1?"s":""," @ ",s.a.getPrice(n.price),"/",a,"attendance"===n.kind&&o.a.createElement(c.b,{tooltip:"Click to View Breakdown",side:"center"},o.a.createElement(l.a,{className:"invoice-preview-card__breakdown",iconName:"expand",size:16,onClick:function(){return e.props.showBreakdown(n)}}))),o.a.createElement("div",{className:"table__cell table__cell--xxs table__cell--actions"},s.a.getPrice(void 0===n.amount?n.price:n.amount),r?"/".concat(a):""))}}])&&f(t.prototype,n),r&&f(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component);h=w,v="propTypes",g={item:i.a.any,isAttendancePreview:i.a.bool},v in h?Object.defineProperty(h,v,{value:g,enumerable:!0,configurable:!0,writable:!0}):h[v]=g,t.a=w},function(e,t,n){"use strict";(function(e){var r,o,a,i=n(0),l=n.n(i),c=n(1),s=n.n(c),u=n(7),p=n.n(u),f=n(6),d=n(13),m=n(12);n(972);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w(e);if(t){var o=w(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g(this,n)}}function g(e,t){if(t&&("object"===y(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _(e)}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e,t,n,r,o){var a={};return Object.keys(r).forEach((function(e){a[e]=r[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var k=(a=o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(a,e);var t,n,r,o=v(a);function a(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),x(_(e=o.call(this)),"containerRef",l.a.createRef()),e.state={isOpen:!1},e.listenClick=e.listenClick.bind(_(e)),e}return t=a,(n=[{key:"componentWillUpdate",value:function(e,t){!this.state.isOpen&&t.isOpen&&document.addEventListener("click",this.listenClick),this.state.isOpen&&!t.isOpen&&document.removeEventListener("click",this.listenClick)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.listenClick)}},{key:"getChildContext",value:function(){return{toggle:this.toggle}}},{key:"listenClick",value:function(e){var t=this;this.containerRef.current&&Object(m.S)(e,this.containerRef.current,(function(){return t.toggle(!1)}))}},{key:"handleClick",value:function(){if(!this.props.disabled){var e=this.state,t=e.focus,n=e.isOpen;t?this.setState({focus:!1}):this.toggle(!n)}}},{key:"handleFocus",value:function(){void 0===this.props.tabIndex||this.props.disabled||this.state.focus||(this.setState({focus:!0}),this.toggle(!0))}},{key:"handleBlur",value:function(e){void 0!==this.props.tabIndex&&null!==e.relatedTarget&&this.state.focus&&(this.setState({focus:!1}),this.toggle(!1))}},{key:"toggle",value:function(e){var t=this;this.setState({isOpen:"boolean"==typeof e?e:!this.state.isOpen},(function(){!1===t.state.isOpen&&t.props.onClose&&t.props.onClose(),t.state.isOpen&&t.props.onOpen&&t.props.onOpen()}))}},{key:"render",value:function(){var e=this.props,t=e.title,n=e.className,r=e.disabled,o=e.children,a=e.onClear,i=e.tabIndex,c=e.iconSize,s=e["data-cy"],u=p()(x({dropdown:!0,"dropdown--open":this.state.isOpen,"dropdown--disabled":r},n,Boolean(n))),m=p()("dropdown__header-clear",{"dropdown__header-clear--hidden":!a});return l.a.createElement("div",{className:u,ref:this.containerRef,"data-cy":s},l.a.createElement("div",{className:"dropdown__header",tabIndex:i,onClick:this.handleClick,onFocus:this.handleFocus,onBlur:this.handleBlur},l.a.createElement("div",{className:"dropdown__header-title"},t),l.a.createElement(d.a,{className:"dropdown__header-arrow",name:"arrow-down",size:c})),l.a.createElement(f.a,{className:m,iconName:"clear-circle",size:c,onClick:a}),l.a.createElement("div",{className:"dropdown__body"},o))}}])&&b(t.prototype,n),r&&b(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.Component),x(o,"propTypes",{title:s.a.any,className:s.a.string,iconSize:s.a.number,onClear:s.a.func,onOpen:s.a.func,onClose:s.a.func,tabIndex:s.a.number,"data-cy":s.a.string}),x(o,"defaultProps",{iconSize:14}),x(o,"childContextTypes",{toggle:s.a.func}),O((r=a).prototype,"handleClick",[e],Object.getOwnPropertyDescriptor(r.prototype,"handleClick"),r.prototype),O(r.prototype,"handleFocus",[e],Object.getOwnPropertyDescriptor(r.prototype,"handleFocus"),r.prototype),O(r.prototype,"handleBlur",[e],Object.getOwnPropertyDescriptor(r.prototype,"handleBlur"),r.prototype),O(r.prototype,"toggle",[e],Object.getOwnPropertyDescriptor(r.prototype,"toggle"),r.prototype),r);t.a=k}).call(this,n(4).bind)},function(e,t,n){"use strict";(function(e){var r,o,a,i=n(0),l=n.n(i),c=n(1),s=n.n(c),u=n(7),p=n.n(u),f=n(510),d=(n(1005),n(35));function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=x(e);if(t){var o=x(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return w(this,n)}}function w(e,t){if(t&&("object"===m(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e,t,n,r,o){var a={};return Object.keys(r).forEach((function(e){a[e]=r[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var j=["MON","TUE","WED","THU","FRI","SAT","SUN"],E=(a=o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g(e,t)}(a,e);var t,n,r,o=_(a);function a(){return h(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"getClassName",value:function(){return p()("schedule-select",{"schedule-select--inline":"inline"===this.props.layout,"schedule-select--grid":"grid"===this.props.layout})}},{key:"handleChange",value:function(e,t){this.props.onChange&&this.props.onChange(b(b({},this.props.values),{},O({},e,t)))}},{key:"renderDays",value:function(){var e=this,t=this.props,n=t.validTimes,r=t.timesToShow;return(r?Object.keys(r).map((function(e){return d.b[e]})):j).map((function(t){return l.a.createElement(f.a,{key:t,day:t,value:e.props.values[t],validTimes:n?n[d.d[t]]||[]:null,timesToShow:null==r?void 0:r[d.d[t]],onChange:e.handleChange})}))}},{key:"render",value:function(){return l.a.createElement("div",{className:this.getClassName()},this.renderDays())}}])&&v(t.prototype,n),r&&v(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.PureComponent),O(o,"propTypes",{values:s.a.object,layout:s.a.oneOf(["inline","grid"]),onChange:s.a.func,validTimes:s.a.object}),O(o,"defaultProps",{values:{},layout:"grid",validTimes:null}),k((r=a).prototype,"handleChange",[e],Object.getOwnPropertyDescriptor(r.prototype,"handleChange"),r.prototype),k(r.prototype,"renderDays",[e],Object.getOwnPropertyDescriptor(r.prototype,"renderDays"),r.prototype),r);t.a=E}).call(this,n(4).bind)},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));function r(e,t){var n,r=t.replace(/\W/g,""),o=t.split(""),a=e.toString().replace(/\W/g,""),i=a.replace(/\W/g,""),l=o.length,c=0;for(n=0;n<l;n++){if(c>=a.length){if(r.length==i.length)return o.join("");break}if("9"===o[n]&&a[c].match(/[0-9]/)||"A"===o[n]&&a[c].match(/[a-zA-Z]/)||"S"===o[n]&&a[c].match(/[0-9a-zA-Z]/))o[n]=a[c++];else if("9"===o[n]||"A"===o[n]||"S"===o[n])return o.slice(0,n).join("")}return o.join("").substr(0,n)}},function(e,t,n){"use strict";(function(e){var r,o,a,i=n(0),l=n.n(i),c=n(1),s=n.n(c),u=n(17);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b(this,n)}}function b(e,t){if(t&&("object"===p(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var v,g,_,w,x,O,k,j,E,S=(a=o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}(a,e);var t,n,r,o=y(a);function a(){return f(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"componentWillMount",value:function(){var e=this.props.defaultValue||!1;this.context.init(this.props.name,e,{})}},{key:"componentWillUnmount",value:function(){this.context.unmount(this.props.name)}},{key:"componentWillReceiveProps",value:function(e){this.props.disabled!==e.disabled&&!0===e.disabled&&this.context.update(this.props.name,!1)}},{key:"handleChange",value:function(){var e=this.context.values,t=this.props.name;this.context.update(this.props.name,!e[t])}},{key:"render",value:function(){var e=this.context.values,t=this.props,n=t.className,r=t.name,o=t.label,a=t.type,i=t.size,c=t.disabled,s=t.reversed,p=t.tabIndex,f=t.required,d=t["data-cy"];return l.a.createElement(u.a,{className:n,checked:e[r],label:o,type:a,reversed:s,size:i,disabled:c,onChange:this.handleChange,tabIndex:p,required:f,"data-cy":d})}}])&&d(t.prototype,n),r&&d(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.Component),k=o,j="contextTypes",E={values:s.a.object,init:s.a.func,unmount:s.a.func,update:s.a.func,tabIndex:s.a.number,required:s.a.bool,"data-cy":s.a.string},j in k?Object.defineProperty(k,j,{value:E,enumerable:!0,configurable:!0,writable:!0}):k[j]=E,v=(r=a).prototype,g="handleChange",_=[e],w=Object.getOwnPropertyDescriptor(r.prototype,"handleChange"),x=r.prototype,O={},Object.keys(w).forEach((function(e){O[e]=w[e]})),O.enumerable=!!O.enumerable,O.configurable=!!O.configurable,("value"in O||O.initializer)&&(O.writable=!0),O=_.slice().reverse().reduce((function(e,t){return t(v,g,e)||e}),O),x&&void 0!==O.initializer&&(O.value=O.initializer?O.initializer.call(x):void 0,O.initializer=void 0),void 0===O.initializer&&(Object.defineProperty(v,g,O),O=null),r);t.a=S}).call(this,n(4).bind)},function(e,t,n){"use strict";(function(e){var r,o,a,i=n(0),l=n.n(i),c=n(1),s=n.n(c),u=n(7),p=n.n(u),f=n(3),d=n.n(f),m=n(49),y=n(27);n(993);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=x(e);if(t){var o=x(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return w(this,n)}}function w(e,t){if(t&&("object"===b(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k,j,E,S,P,C,N=(a=o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g(e,t)}(a,e);var t,n,r,o=_(a);function a(){return h(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"componentWillMount",value:function(){var e,t=this.props,n=t.name,r=t.defaultValue,o=t.type;if(r)switch(o){case"weekly":var a=d()(r);e=[a.startOf("isoWeek").toDate(),a.endOf("isoWeek").toDate()];break;case"biweekly":var i=d()(r);e=[i.startOf("isoWeek").toDate(),i.add(1,"week").endOf("isoWeek").toDate()];break;case"daily":default:e=r}this.context.init(n,e,this.initValidations())}},{key:"componentWillUnmount",value:function(){this.props.allowUnmount&&this.context.unmount(this.props.name)}},{key:"componentDidUpdate",value:function(e){this.props.required!==e.required&&this.context.updateValidations(this.props.name,this.initValidations())}},{key:"initValidations",value:function(){var e=this.props,t=e.name,n=e.required,r=e.rangeStart,o=e.rangeEnd,a=e.maxRangeMonth,i={};return n&&(i.isNotEmpty=null),r&&(i.isGreaterThanStart=null,this.context.link(t,r)),o&&(i.isLesserThanEnd=null,this.context.link(t,o)),a&&(i.maxRangeMonth=a),i}},{key:"handleChange",value:function(e){var t=null;e?(t=e instanceof Array?[d()(e[0]).toDate(),d()(e[1]).toDate()]:d()(e).toDate(),this.context.update(this.props.name,t)):this.context.update(this.props.name,void 0)}},{key:"getValidationText",value:function(){var e=this,t=this.props.name,n=this.context,r=n.errors,o=n.validations;return r[t]?r[t].join("; "):o[t]?Object.keys(o[t]).filter((function(e){return!1===o[t][e]})).map((function(t){return"function"==typeof y.a[t]?y.a[t](e.props[t]):y.a[t]})).join("; "):""}},{key:"render",value:function(){var e=this.context.values,t=this.props,n=t.name,r=t.side,o=t.label,a=t.dropup,i=t.type,c=t.disableInvalid,s=t.disabled,u=t.className,f=t.placeholder,d=t.clearable,y=t.disableType,b=t.disablePast,h=t.disableFuture,v=t.disableDays,g=t.yearsToShow,_=t.tabIndex,w=t["data-cy"],x=t.asterisk,k=t.fieldRef,j=this.getValidationText(),E=p()(O({"form-date":!0,"form-date--invalid":Boolean(j)&&!c,"form-date--disabled":s},u,Boolean(u)));return l.a.createElement("div",{className:E,ref:k},o&&l.a.createElement("label",{className:"form__label"},o," ",x&&l.a.createElement("span",{className:"form__asterisk"},"*")),l.a.createElement(m.a,{side:r,onChange:this.handleChange,value:e[n],type:i,disabled:s,placeholder:f,disableType:y,disableFuture:h,disablePast:b,disableDays:v,dropup:a,yearsToShow:g,clearable:d,tabIndex:_,"data-cy":w}),j&&!c&&l.a.createElement("div",{className:"form-input__validation-text","data-cy":"".concat(w,"-invalid")},j))}}])&&v(t.prototype,n),r&&v(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.Component),O(o,"contextTypes",{values:s.a.object,validations:s.a.object,updateValidations:s.a.func,errors:s.a.object,init:s.a.func,unmount:s.a.func,update:s.a.func,validate:s.a.func,submit:s.a.func,link:s.a.func,isFormValid:s.a.func,"data-cy":s.a.string}),O(o,"propTypes",{name:s.a.string,defaultValue:s.a.any,label:s.a.string,side:s.a.oneOf(["left","right"]),disableInvalid:s.a.bool,disabled:s.a.bool,className:s.a.string,placeholder:s.a.string,disableType:s.a.bool,disableFuture:s.a.bool,disablePast:s.a.bool,disableDays:s.a.func,rangeStart:s.a.string,rangeEnd:s.a.string,maxRangeMonth:s.a.number,dropup:s.a.bool,clearable:s.a.bool,yearsToShow:s.a.number,allowUnmount:s.a.bool,tabIndex:s.a.number,asterisk:s.a.bool,fieldRef:s.a.func}),O(o,"defaultProps",{allowUnmount:!0}),k=(r=a).prototype,j="handleChange",E=[e],S=Object.getOwnPropertyDescriptor(r.prototype,"handleChange"),P=r.prototype,C={},Object.keys(S).forEach((function(e){C[e]=S[e]})),C.enumerable=!!C.enumerable,C.configurable=!!C.configurable,("value"in C||C.initializer)&&(C.writable=!0),C=E.slice().reverse().reduce((function(e,t){return t(k,j,e)||e}),C),P&&void 0!==C.initializer&&(C.value=C.initializer?C.initializer.call(P):void 0,C.initializer=void 0),void 0===C.initializer&&(Object.defineProperty(k,j,C),C=null),r);t.a=N}).call(this,n(4).bind)},function(e,t,n){"use strict";var r=n(622),o=n.n(r);t.a=o()("kinderlime")},function(e,t,n){"use strict";(function(e){var r,o,a,i=n(0),l=n.n(i),c=n(19),s=n(6),u=n(13),p=n(1),f=n.n(p),d=n(7),m=n.n(d),y=n(3),b=n.n(y);n(999);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O(e);if(t){var o=O(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return w(this,n)}}function w(e,t){if(t&&("object"===h(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return x(e)}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e,t,n,r,o){var a={};return Object.keys(r).forEach((function(e){a[e]=r[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var E=b.a.monthsShort(),S=b.a.months(),P=(a=o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g(e,t)}(a,e);var t,n,r,o=_(a);function a(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),k(x(t=o.call(this,e)),"tooltip",null);var n=Array.isArray(e.defaultValue)?e.defaultValue[0]:e.defaultValue;return t.state={month:e.defaultValue&&n?b()(n).get("month"):null,year:b()(n).get("year")},t}return t=a,(n=[{key:"changeMonth",value:function(e,t){var n=this;t||(this.setState({month:e},(function(){n.handleChange()})),this.tooltip.toggleTooltip(!1))}},{key:"setPrevYear",value:function(){var e=this;this.setState({year:this.state.year-1},(function(){e.handleChange()}))}},{key:"setNextYear",value:function(){var e=this;this.setState({year:this.state.year+1},(function(){e.handleChange()}))}},{key:"setValue",value:function(e,t){var n=this;this.setState({month:e,year:t},(function(){n.handleChange()}))}},{key:"renderRow",value:function(e,t){var n=this,r=this.props,o=r.disableFuture,a=r.disableCurrentMonth,i=this.state.month,c=this.state.year;return e.map((function(e,r){var s=t+r,u=o&&b()("".concat(s+1," ").concat(c),"M YYYY").isAfter(b()())||a&&b()("".concat(s+1," ").concat(c),"M YYYY").isAfter(b()().subtract(1,"month")),p=m()("month-picker__cell",{"month-picker__cell--active":i===s,"month-picker__cell--disabled":u});return l.a.createElement("div",{className:p,key:e,onClick:function(){return n.changeMonth(s,u)}},e)}))}},{key:"handleChange",value:function(){var e=this.state,t=e.month,n=e.year;null!==t?this.props.onChange([b()([n,t,1]).startOf("month").toDate(),b()([n,t,1]).endOf("month").toDate()]):this.props.onChange(void 0)}},{key:"onClear",value:function(e){e.stopPropagation(),this.setValue(null,this.state.year)}},{key:"renderContent",value:function(){for(var e=this.props,t=e.disableFuture,n=e["data-cy"],r=this.state.year,o=[],a=0;a<E.length;a+=3)o.push(l.a.createElement("div",{className:"month-picker__row","data-cy":"".concat(n,"-").concat(a),key:a},this.renderRow(E.slice(a,a+3),a)));return l.a.createElement("div",{className:"month-picker__content"},l.a.createElement("div",{className:"month-picker__year"},l.a.createElement(s.a,{iconName:"arrow-down",className:"month-picker__year-arrow-left",size:12,onClick:this.setPrevYear,"data-cy":"".concat(n,"-prev")}),l.a.createElement("div",{className:"month-picker__year-value"},r),l.a.createElement(s.a,{iconName:"arrow-down",className:"month-picker__year-arrow-right",size:12,onClick:this.setNextYear,disabled:r===b()().get("year")&&t,"data-cy":"".concat(n,"-next")})),l.a.createElement("div",{className:"month-picker__months"},o))}},{key:"render",value:function(){var e,t=this,n=this.state,r=n.month,o=n.year,a=this.props,i=a.disabled,p=a.clearable,f=a["data-cy"],d=a.displayDateRange,y=m()("month-picker__trigger",{"month-picker__trigger--placeholder":null===r});return e=null!==r?d?"".concat(b()([o,r,1]).format("MMM D")," - ").concat(b()([o,r,1]).endOf("month").format("MMM D")):"".concat(S[r],", ").concat(o):"Select Month",l.a.createElement(c.b,{noArrow:!0,white:!0,className:"month-picker",triggerOn:"click",renderTooltip:this.renderContent,ref:function(e){return t.tooltip=e},disabled:i,keepOpenDisabled:!0},l.a.createElement("div",{"data-cy":f,className:y},l.a.createElement("div",{className:"month-picker__label"},e),p&&!!r&&l.a.createElement(s.a,{iconName:"close-circle",size:14,className:"month-picker__icon",onClick:this.onClear}),(!p||!r)&&l.a.createElement(u.a,{name:"calendar",className:"month-picker__icon",size:18})))}}])&&v(t.prototype,n),r&&v(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.Component),k(o,"propTypes",{onChange:f.a.func,defaultValue:f.a.any,"data-cy":f.a.string}),j((r=a).prototype,"changeMonth",[e],Object.getOwnPropertyDescriptor(r.prototype,"changeMonth"),r.prototype),j(r.prototype,"setPrevYear",[e],Object.getOwnPropertyDescriptor(r.prototype,"setPrevYear"),r.prototype),j(r.prototype,"setNextYear",[e],Object.getOwnPropertyDescriptor(r.prototype,"setNextYear"),r.prototype),j(r.prototype,"setValue",[e],Object.getOwnPropertyDescriptor(r.prototype,"setValue"),r.prototype),j(r.prototype,"onClear",[e],Object.getOwnPropertyDescriptor(r.prototype,"onClear"),r.prototype),j(r.prototype,"renderContent",[e],Object.getOwnPropertyDescriptor(r.prototype,"renderContent"),r.prototype),r);t.a=P}).call(this,n(4).bind)},,function(e,t,n){"use strict";t.a={call:"CALL",email:"EMAIL",todo:"TO-DO"}},function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(1),i=n.n(a),l=n(7),c=n.n(l),s=n(17);n(1062);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b(e);if(t){var o=b(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){if(t&&("object"===u(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(i,e);var t,n,r,a=m(i);function i(){return p(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.label,n=e.checked,r=e.onChange,a=e["data-cy"],i=c()("labeled-checkbox",this.props.className,{"labeled-checkbox--checked":n});return o.a.createElement("div",{className:i,onClick:r},o.a.createElement(s.a,{className:"labeled-checkbox__input",type:"circle",checked:n,"data-cy":a}),o.a.createElement("div",{className:"labeled-checkbox__label"},t))}}])&&f(t.prototype,n),r&&f(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.PureComponent);h(v,"propTypes",{label:i.a.string,className:i.a.string,checked:i.a.bool,onChange:i.a.func,"data-cy":i.a.string}),h(v,"defaultProps",{label:"Select",checked:!1}),t.a=v},function(e,t,n){"use strict";n.r(t),function(e){var r,o,a,i=n(0),l=n.n(i),c=n(1),s=n.n(c),u=n(124),p=n(6),f=n(58),d=n(79),m=n(18),y=n(13),b=n(479);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=j(e);if(t){var o=j(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return k(this,n)}}function k(e,t){if(t&&("object"===h(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(e,t,n,r,o){var a={};return Object.keys(r).forEach((function(e){a[e]=r[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var P=Object(u.c)((function(){return l.a.createElement(y.a,{name:"drag-handle",color:"#ccc",size:"24",className:"manage-list-item__drag-handle"})})),C=(a=o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x(e,t)}(a,e);var t,n,r,o=O(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this,e)).state={editedItem:void 0},t}return t=a,(n=[{key:"handleChange",value:function(e){this.setState({editedItem:_(_({},this.state.editedItem),e)})}},{key:"updateItem",value:function(){this.props.onUpdate(this.props.item.id,_({},this.state.editedItem)),this.setState({editItem:void 0})}},{key:"editItem",value:function(){var e=this;this.setState({editedItem:_({},this.props.item)},(function(){e.props.onEditStart(e.props.item.id)}))}},{key:"deleteItem",value:function(){this.props.onDelete(this.props.item.id)}},{key:"getDefaultMenuItems",value:function(){return[{label:"Edit",onClick:this.editItem},{label:"Delete",onClick:this.deleteItem}]}},{key:"renderControls",value:function(){var e=this.props.isUpdateLoading,t=l.a.createElement("div",{className:"manage-list-item__preloader"},l.a.createElement(m.a,{small:!0}));return l.a.createElement("div",{className:"manage-list-item__controls"},e?t:l.a.createElement(p.a,{square:!0,size:14,iconName:"tick-1",onClick:this.updateItem,"data-cy":"update-manage-list-item"}),l.a.createElement(p.a,{square:!0,size:14,iconName:"close",onClick:this.props.onEditEnd,disabled:e}))}},{key:"renderMenu",value:function(){var e=this.props.item,t=this.props.menu||this.getDefaultMenuItems(),n=this.props.controlsDisabled;return e.group_entity?l.a.createElement("div",{className:"manage-list-item__corporate-setting-icon"},l.a.createElement(b.a,null)):l.a.createElement(f.a,{disabled:n,className:"manage-table-item__menu"},t.map((function(e){return l.a.createElement(d.a,v({key:e.label},e))})))}},{key:"render",value:function(){var e=this.props,t=e.item,n=e.sortable,r=e.isEdit,o=e.ItemComponent,a=e.onEditStart,i=e.onEditEnd;return l.a.createElement("div",{className:"manage-list-item"},n&&!r&&l.a.createElement(P,null),l.a.createElement("div",{className:"manage-list-item__content"},l.a.createElement(o,{item:t,editedItem:this.state.editedItem,isEdit:r,onEditStart:a,onEditEnd:i,onChange:this.handleChange})),r?this.renderControls():this.renderMenu())}}])&&w(t.prototype,n),r&&w(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.PureComponent),E(o,"propTypes",{item:s.a.shape({id:s.a.string.isRequired}).isRequired,ItemComponent:s.a.any,controlsDisabled:s.a.bool,sortable:s.a.bool,menu:s.a.arrayOf(s.a.shape({label:s.a.string,icon:s.a.string,value:s.a.any,onClick:s.a.func})),isEdit:s.a.bool,isUpdateLoading:s.a.bool,isDeleteLoading:s.a.bool,onEditStart:s.a.func,onEditEnd:s.a.func,onUpdate:s.a.func,onDelete:s.a.func}),S((r=a).prototype,"handleChange",[e],Object.getOwnPropertyDescriptor(r.prototype,"handleChange"),r.prototype),S(r.prototype,"updateItem",[e],Object.getOwnPropertyDescriptor(r.prototype,"updateItem"),r.prototype),S(r.prototype,"editItem",[e],Object.getOwnPropertyDescriptor(r.prototype,"editItem"),r.prototype),S(r.prototype,"deleteItem",[e],Object.getOwnPropertyDescriptor(r.prototype,"deleteItem"),r.prototype),r);t.default=C}.call(this,n(4).bind)},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(16),i=n(15),l=n(6);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b(this,n)}}function b(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}(s,e);var t,n,r,c=y(s);function s(){return f(this,s),c.apply(this,arguments)}return t=s,(n=[{key:"updateField",value:function(e){var t=this,n=this.props,r=n.id,o=n.isNew;return function(n){var a=u({},t.props.student);a[e]=n,t.props.onUpdate(a,o?null:r)}}},{key:"updateRoom",value:function(e){var t=this.props,n=t.id,r=t.isNew,o=u(u({},this.props.student),{},{room_id:e});this.props.onUpdate(o,r?null:n)}},{key:"render",value:function(){var e=this,t=this.props,n=t.id,r=t.student,c=t.rooms,s=t.isNew;return o.a.createElement("div",{className:"add-student__row"},o.a.createElement("div",{className:"add-student__row-id"},n+1,"."),o.a.createElement(a.a,{className:"add-student__row-first-name",placeholder:"First Name (required)",value:r.first_name,onChange:this.updateField("first_name"),validate:function(e){return e.length>0},validationText:"Shouldn't be empty"}),o.a.createElement(a.a,{className:"add-student__row-last-name",placeholder:"Last Name",value:r.last_name,onChange:this.updateField("last_name"),validate:function(e){return e.length>0},validationText:"Shouldn't be empty"}),o.a.createElement(i.a,{className:"add-student__row-room",title:"Room",type:"radio",checked:r.room_id,onChange:this.updateRoom.bind(this),validate:function(e){return e.length>0},validationText:"Shouldn't be empty"},c.map((function(e){return o.a.createElement(i.a.Item,{key:e.id,label:e.name,value:e.id})}))),o.a.createElement(a.a,{className:"add-student__row-parent-name",placeholder:"Parent Name",value:r.parent_name,onChange:this.updateField("parent_name")}),o.a.createElement("div",{className:"add-student__row-actions"},s?o.a.createElement(l.a,{className:"add-student__row-action-button add-student__row-action-button--add",type:"add-person",onClick:this.props.onAdd}):o.a.createElement(l.a,{className:"add-student__row-action-button add-student__row-action-button--remove",type:"delete-forever",onClick:function(){return e.props.onRemove(n)}})))}}])&&d(t.prototype,n),r&&d(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}(r.Component);t.default=v},function(e,t,n){"use strict";(function(e){var r,o,a,i=n(0),l=n.n(i),c=n(1),s=n.n(c),u=n(7),p=n.n(u),f=n(625),d=n.n(f),m=n(555),y=n(6),b=n(13),h=n(55);n(1163),n(1164);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e){return function(e){if(Array.isArray(e))return _(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=E(e);if(t){var o=E(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return k(this,n)}}function k(e,t){if(t&&("object"===v(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return j(e)}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(e,t,n,r,o){var a={};return Object.keys(r).forEach((function(e){a[e]=r[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var C=(a=o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x(e,t)}(a,e);var t,n,r,o=O(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),S(j(t=o.call(this,e)),"editor",l.a.createRef()),t.state={scale:e.minScale+(e.maxScale-e.minScale)/2,rotate:0,x:.5,y:.5},t}return t=a,(n=[{key:"borderRadius",get:function(){var e=this.props,t=e.border;return e.round?Array.isArray(t)?Math.max.apply(Math,g(t)):t:0}},{key:"src",get:function(){return this.props.proxy?new URL(this.props.imgDataURL).pathname:this.props.imgDataURL}},{key:"handleScaleChange",value:function(e){this.setState({scale:e})}},{key:"handlePositionChange",value:function(e){var t=e.x,n=e.y;this.setState({x:t,y:n})}},{key:"handleRotateChange",value:function(e){this.setState({rotate:e})}},{key:"handleSave",value:function(){var e=this,t=this.props.scaled;if(this.editor){var n=t?this.editor.current.getImageScaledToCanvas():this.editor.current.getImage();this.props.blob?n.toBlob((function(t){t.name=Object(h.v4)(),e.props.onSave(t)})):this.props.onSave(n.toDataURL())}}},{key:"render",value:function(){var e=this,t=this.props,n=t.renderTitle,r=t.renderControls,o=t.className,a=t.width,i=t.height,c=t.minScale,s=t.maxScale,u=t.border,f=this.state,h=f.scale,v=f.rotate,g=f.x,_=f.y;return l.a.createElement("div",{className:p()("image-cropper",o)},n({width:a,height:i}),l.a.createElement("div",{className:"image-cropper__body"},l.a.createElement(d.a,{className:"image-cropper__editor",ref:this.editor,image:this.src,width:v%180?i:a,height:v%180?a:i,border:u,borderRadius:this.borderRadius,color:[0,0,0,.3],scale:h,rotate:v,onPositionChange:this.handlePositionChange,position:{x:g,y:_}}),l.a.createElement("div",{className:"image-cropper__controls"},l.a.createElement("div",{className:"image-cropper__controls-zoom"},l.a.createElement(b.a,{name:"picture",size:14,color:"#666",className:"image-cropper__controls-zoom-small"}),l.a.createElement(m.a,{min:c,max:s,step:.01,value:h,tooltip:!1,onChange:this.handleScaleChange}),l.a.createElement(b.a,{name:"picture",size:20,color:"#666",className:"image-cropper__controls-zoom-large"})),l.a.createElement("div",{className:"image-cropper__controls-rotate"},l.a.createElement(y.a,{iconName:"rotate-left",className:"image-cropper__controls-rotate-left",square:!0,size:12,onClick:function(){return e.handleRotateChange(v-90)}}),l.a.createElement(y.a,{iconName:"rotate-right",className:"image-cropper__controls-rotate-right",square:!0,size:12,onClick:function(){return e.handleRotateChange(v+90)}})))),r({onSave:this.handleSave}))}}])&&w(t.prototype,n),r&&w(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.Component),S(o,"propTypes",{className:s.a.string,renderTitle:s.a.func,renderControls:s.a.func,imgDataURL:s.a.string,width:s.a.number,height:s.a.number,border:s.a.oneOfType([s.a.number,s.a.arrayOf(s.a.number)]),round:s.a.bool,scaled:s.a.bool,maxScale:s.a.number,minScale:s.a.number,proxy:s.a.bool,blob:s.a.bool,onSave:s.a.func}),S(o,"defaultProps",{renderTitle:function(){},renderControls:function(){},round:!1,scaled:!1,maxScale:4,minScale:1,border:100}),P((r=a).prototype,"handleScaleChange",[e],Object.getOwnPropertyDescriptor(r.prototype,"handleScaleChange"),r.prototype),P(r.prototype,"handlePositionChange",[e],Object.getOwnPropertyDescriptor(r.prototype,"handlePositionChange"),r.prototype),P(r.prototype,"handleRotateChange",[e],Object.getOwnPropertyDescriptor(r.prototype,"handleRotateChange"),r.prototype),P(r.prototype,"handleSave",[e],Object.getOwnPropertyDescriptor(r.prototype,"handleSave"),r.prototype),r);t.a=C}).call(this,n(4).bind)},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(3),i=n.n(a),l=n(2),c=n(28),s=n(34);t.default=function(e){var t=e.activity,n=e.useDate,r=void 0===n||n,a=e.forceStaff;return o.a.createElement("div",{className:"form__body"},r&&o.a.createElement("div",{className:"form__row form__row--datetime"},o.a.createElement(l.a.DatePicker,{label:"Date",name:"date",defaultValue:i()(t.activity_time).toDate(),required:!0}),o.a.createElement(l.a.TimeInput,{label:"Time",name:"time",defaultValue:Helpers.formatTime(t.activity_time),required:!0})),o.a.createElement(s.default,{activity:t}),o.a.createElement("div",{className:"form__row"},o.a.createElement(l.a.Textarea,{name:"description",defaultValue:t.data.desc,placeholder:"Description",label:"Description"})),o.a.createElement("div",{className:"form__row"},a?c.default.staffOnlyForce:o.a.createElement(l.a.Checkbox,{type:"circle",name:"staffOnly",label:c.default.staffOnly,defaultValue:t.is_staff_only})))}},function(e,t,n){"use strict";n.r(t);var r=n(3),o=n.n(r);t.default=function(e,t){var n=o()(e.date||void 0).format("YYYY-MM-DD");return{id:t?t.id:void 0,daily_activity:{activity_time:"".concat(n," ").concat(e.time),data:{desc:e.description},is_staff_only:e.staffOnly}}}},function(e,t,n){"use strict";(function(e){var r,o,a,i=n(0),l=n.n(i),c=n(1),s=n.n(c),u=n(7),p=n.n(u),f=n(5),d=n(6),m=n(12),y=n(24),b=n(527);n(1268);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=E(e);if(t){var o=E(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return j(this,n)}}function j(e,t){if(t&&("object"===h(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(e,t,n,r,o){var a={};return Object.keys(r).forEach((function(e){a[e]=r[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var C=(a=o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O(e,t)}(a,e);var t,n,r,o=k(a);function a(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),t=o.call(this,e);var n=e.mode,r=e.franchiseBilling,i=e.type;return t.state={items:e.data.length>0?a.processInitialItems(e.data,i):[a.createItem(null,n,r&&"preset")]},t}return t=a,r=[{key:"createItem",value:function(e,t,n){var r={description:"",price:""};return"edit"===e&&(r._destroy=!1),r.kind="attendance"===t?"attendance":n||"tuition",r}},{key:"processInitialItems",value:function(e,t){return"edit"===t?e.map((function(e){return a.isLedger(e.kind)?w(w({},e),{},{_readonly:!0}):e})):e}},{key:"isLedger",value:function(e){return"ledger"===e}}],(n=[{key:"componentDidMount",value:function(){this.props.enablePresets&&(req.invoiceItemPresets(),req.ledgers({filters:{ledger:{kind:["subsidy"]}},page:1,per_page:50})),0===this.props.data.length&&this.handleUpdate()}},{key:"handleUpdate",value:function(){var e=this.state.items.filter((function(e){return!e._readonly})).map((function(e){return w(w({},e),{},{description:e.description,price:Object(m.L)(e.kind)?-Object(m.w)(e):Number(e.price),quantity:isNaN(e.quantity)?void 0:Number(e.quantity)})}));this.props.onUpdate(e)}},{key:"addItem",value:function(){var e=this.state.items,t=this.props,n=t.mode,r=t.franchiseBilling;this.setState({items:[].concat(v(e),[a.createItem(this.props.type,n,r&&"preset")])},this.handleUpdate)}},{key:"updateItem",value:function(e,t){var n=this.state.items,r=[].concat(v(n.slice(0,e)),[t],v(n.slice(e+1)));this.setState({items:r},this.handleUpdate)}},{key:"handleRemove",value:function(e){var t=this.state.items;"edit"===this.props.type&&void 0!==t[e].id?this.markForRemoval(e):this.removeItem(e)}},{key:"removeItem",value:function(e){var t=this.state.items,n=[].concat(v(t.slice(0,e)),v(t.slice(e+1)));this.setState({items:n},this.handleUpdate)}},{key:"markForRemoval",value:function(e){var t=this.state.items,n=[].concat(v(t.slice(0,e)),[w(w({},t[e]),{},{_destroy:!0})],v(t.slice(e+1)));this.setState({items:n},this.handleUpdate)}},{key:"isAddNewRowDisabled",value:function(){return this.props.disabled||this.state.items.some((function(e){return!e.description&&!Object(m.L)(e.kind)}))}},{key:"renderItems",value:function(){var e=this,t=this.state.items,n=this.props,r=n.mode,o=n.templateGroupEntity,a=n.tabIndex,i=n.onClose,c=n.type;return t.map((function(n,s){return l.a.createElement(b.a,{key:"items-row-".concat(s),id:s,mode:r,data:n,kind:n.kind,templateGroupEntity:o,onUpdate:e.updateItem,onRemove:e.handleRemove,removable:t.length>1||0!==s||n._readonly,disabled:e.props.disabled||n._readonly,onManagePresets:e.props.onManagePresets,tabIndex:a,onClose:i,type:c})}))}},{key:"render",value:function(){var e=this.props.mode,t=Object(m.K)(this.state.items,e);return l.a.createElement("div",{className:"table invoice-item-list"},l.a.createElement("div",{className:"table__header"},"attendance"!==e&&l.a.createElement("div",{className:"table__cell table__cell--xs invoice-item-list__cell-type"},"Type"),l.a.createElement("div",{className:p()("table__cell",{"table__cell--l":"attendance"!==e,"table__cell--s":"attendance"===e})},"Item description"),"attendance"===e&&l.a.createElement("div",{className:"table__cell table__cell--xs invoice-item-list__price"},"Price"),"attendance"===e&&l.a.createElement("div",{className:"table__cell table__cell--xs invoice-item-list__quantity"},"Hours"),l.a.createElement("div",{className:"table__cell table__cell--xs invoice-item-list__amount-text"},"Amount"),l.a.createElement("div",{className:"table__cell table__cell--xxs"})),l.a.createElement("div",{className:"table__body"},this.renderItems(),l.a.createElement("div",{className:"table__row"},l.a.createElement("div",{className:"table__cell table__cell--l invoice-item-add"},l.a.createElement(d.a,{className:"invoice-item-list__add-new",iconName:"add-blue",title:"Add invoice item",onClick:this.addItem,disabled:this.isAddNewRowDisabled()}),l.a.createElement("div",{className:"invoice-item-list__add-new__desc"},"Preset Charges, Discounts & Subsidy")),l.a.createElement("div",{className:"table__cell table__cell--xs invoice-item-list__total"},"Total: ",l.a.createElement("span",{className:"value"},y.a.getPrice(t))))))}}])&&x(t.prototype,n),r&&x(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.Component),S(o,"propTypes",{mode:s.a.string,data:s.a.array,type:s.a.oneOf(["create","edit"]),disabled:s.a.bool,templateGroupEntity:s.a.bool,enablePresets:s.a.bool,onManagePresets:s.a.func,tabIndex:s.a.number,onClose:s.a.func}),S(o,"defaultProps",{mode:null,data:null,type:"create",templateGroupEntity:!1,disabled:!1}),P((r=a).prototype,"addItem",[e],Object.getOwnPropertyDescriptor(r.prototype,"addItem"),r.prototype),P(r.prototype,"updateItem",[e],Object.getOwnPropertyDescriptor(r.prototype,"updateItem"),r.prototype),P(r.prototype,"handleRemove",[e],Object.getOwnPropertyDescriptor(r.prototype,"handleRemove"),r.prototype),P(r.prototype,"isAddNewRowDisabled",[e],Object.getOwnPropertyDescriptor(r.prototype,"isAddNewRowDisabled"),r.prototype),r);t.a=Object(f.b)((function(e){return{franchiseBilling:e.currentUser.data.current_school.franchise_billing_enabled}}))(C)}).call(this,n(4).bind)},function(e,t,n){"use strict";(function(e){var r,o,a,i=n(0),l=n.n(i),c=n(1),s=n.n(c),u=n(24),p=n(185);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var o=v(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var g,_,w,x,O,k,j,E,S,P=(a=o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}(a,e);var t,n,r,o=b(a);function a(){return d(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"getTotal",value:function(e){var t=e.reduce((function(e,t){return e+(void 0===t.amount?t.price:t.amount)}),0);return Math.round(t)===t?t:t.toFixed(2)}},{key:"renderInvoiceItems",value:function(e){var t=this;return e.map((function(e,n){return l.a.createElement(p.a,{item:e,key:"item-".concat(e.description,"-").concat(e.price,"-").concat(n),showBreakdown:t.props.showBreakdown,isAttendancePreview:t.props.isAttendancePreview})}))}},{key:"render",value:function(){var e=this.props,t=e.items,n=e.isAttendancePreview,r=t[0]&&("attendance"===t[0].kind||"late_fee"===t[0].kind);return l.a.createElement("div",{className:"table__body"},l.a.createElement("div",{className:"table__row invoice-preview-card__headrow"},l.a.createElement("div",{className:"table__cell"},"Description"),r&&l.a.createElement("div",{className:"table__cell table__cell--xs"},"Rate"),l.a.createElement("div",{className:"table__cell table__cell--xxs table__cell--actions"},"Amount")),this.renderInvoiceItems(t),!n&&l.a.createElement("div",{className:"table__row invoice-preview-card__total"},l.a.createElement("div",{className:"table__cell"}),l.a.createElement("div",{className:"table__cell table__cell--xs table__cell--actions"},l.a.createElement("span",{className:"invoice-preview-card__total-title"},"Total Amount"),l.a.createElement("span",{className:"invoice-preview-card__total-amount"},u.a.getPrice(this.getTotal(t))))))}}])&&m(t.prototype,n),r&&m(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.Component),j=o,E="propTypes",S={items:s.a.array,isAttendancePreview:s.a.bool},E in j?Object.defineProperty(j,E,{value:S,enumerable:!0,configurable:!0,writable:!0}):j[E]=S,g=(r=a).prototype,_="renderInvoiceItems",w=[e],x=Object.getOwnPropertyDescriptor(r.prototype,"renderInvoiceItems"),O=r.prototype,k={},Object.keys(x).forEach((function(e){k[e]=x[e]})),k.enumerable=!!k.enumerable,k.configurable=!!k.configurable,("value"in k||k.initializer)&&(k.writable=!0),k=w.slice().reverse().reduce((function(e,t){return t(g,_,e)||e}),k),O&&void 0!==k.initializer&&(k.value=k.initializer?k.initializer.call(O):void 0,k.initializer=void 0),void 0===k.initializer&&(Object.defineProperty(g,_,k),k=null),r);t.a=P}).call(this,n(4).bind)},function(e,t,n){"use strict";(function(e){var r,o,a,i=n(0),l=n.n(i),c=n(5),s=n(1),u=n.n(s),p=n(20),f=n.n(p),d=n(531);n(1272);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_(e);if(t){var o=_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g(this,n)}}function g(e,t){if(t&&("object"===m(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x,O,k,j,E,S,P=(a=o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(a,e);var t,n,r,o=v(a);function a(){return y(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"findRoom",value:function(e){return this.props.rooms.find((function(t){return t.id===e}))}},{key:"renderStudents",value:function(){var e=this,t=this.props,n=t.students,r=t.onRemove;return n.map((function(t){var n=e.findRoom(t.current_section_id);return l.a.createElement(d.a,{key:t.id,kid:t,room:n,onRemove:r})}))}},{key:"render",value:function(){var e=this.props.students.length;return l.a.createElement("div",{className:"student-side-list"},l.a.createElement("div",{className:"student-side-list__selected"},l.a.createElement("span",{className:"student-side-list__selected-value"},e),"students selected"),l.a.createElement(f.a,{autoHeight:!0,autoHeightMin:300,autoHeightMax:300},l.a.createElement("div",{className:"student-side-list__list"},this.renderStudents())))}}])&&b(t.prototype,n),r&&b(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.Component),w(o,"propTypes",{students:u.a.array,onRemove:u.a.func}),w(o,"defaultProps",{students:[]}),x=(r=a).prototype,O="findRoom",k=[e],j=Object.getOwnPropertyDescriptor(r.prototype,"findRoom"),E=r.prototype,S={},Object.keys(j).forEach((function(e){S[e]=j[e]})),S.enumerable=!!S.enumerable,S.configurable=!!S.configurable,("value"in S||S.initializer)&&(S.writable=!0),S=k.slice().reverse().reduce((function(e,t){return t(x,O,e)||e}),S),E&&void 0!==S.initializer&&(S.value=S.initializer?S.initializer.call(E):void 0,S.initializer=void 0),void 0===S.initializer&&(Object.defineProperty(x,O,S),S=null),r);t.a=Object(c.b)((function(e){return{rooms:e.rooms.data}}))(P)}).call(this,n(4).memoize)},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(1),i=n.n(a),l=n(7),c=n.n(l),s=n(13);function u(e){var t=e.onClick,n=e.checked,r=e.icon,a=e.title,i=e.children,l=e["data-cy"],u=c()("document-create-type-select__item",{"document-create-type-select__item--selected":n});return o.a.createElement("div",{className:u,onClick:t,"data-cy":l},o.a.createElement("div",{className:"document-create-type-select__item-title"},a),o.a.createElement(s.a,{name:r,size:64,color:"currentColor"}),o.a.createElement("div",{className:"document-create-type-select__item-description"},i))}u.propTypes={onClick:i.a.func,checked:i.a.bool,icon:i.a.string,title:i.a.string,children:i.a.node},t.default=u},function(e,t,n){"use strict";function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var a=["SUN","MON","TUE","WED","THU","FRI","SAT"];t.a=function(e){return Object.entries(e).flatMap((function(e){var t,n=r(e,2),o=n[0],i=n[1];return null===(t=Object.entries(i).filter((function(e){return r(e,2)[1]})))||void 0===t?void 0:t.flatMap((function(e){var t=r(e,1)[0];return{day_index:a.indexOf(o),order_index:"am"==t?0:1}}))}))}},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(1),i=n.n(a),l=n(7),c=n.n(l),s=n(13);function u(e){var t=e.onClick,n=e.checked,r=e.icon,a=e.title,i=e.children,l=e["data-cy"],u=c()("newsletter-type-select__item",{"newsletter-type-select__item--selected":n});return o.a.createElement("div",{className:u,onClick:t,"data-cy":l},o.a.createElement("div",{className:"newsletter-type-select__item-title"},a),o.a.createElement(s.a,{name:r,size:64,color:"#30bdef"}),o.a.createElement("div",{className:"newsletter-type-select__item-description"},i))}u.propTypes={onClick:i.a.func,checked:i.a.bool,icon:i.a.string,title:i.a.string,children:i.a.node},t.default=u},function(e,t,n){"use strict";n.d(t,"a",(function(){return ze}));var r=n(56),o=n.n(r),a=n(83),i=n.n(a),l=n(171),c=n.n(l),s=n(11),u=n.n(s),p=n(43),f=n.n(p),d=n(3),m=n.n(d);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var g=/:\w+/g,_={timeout:4e4},w=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"create",value:function(t,n){var r=n.store,a=n.baseURL,l=null;return function(s,u){var p=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};l&&!1!==t.cancellable&&l.cancel(),l=o.a.CancelToken.source();var f=e.createURL(t.url,s),d=f.url,m=f.params,y={url:d,method:t.method||"get",headers:b(b({},e.getDefaultHeader(r,p)),n.getHeaders(p)),paramsSerializer:function(e){return i.a.stringify(e,{arrayFormat:"brackets"})}};"get"===y.method.toLowerCase()?y.params=m:y.data=m,"/"!==y.url[y.url.length-1]&&(y.url+="/");var h=o.a.create(b(b({},_),{},{baseURL:a,cancelToken:l.token})),v="",g="FETCH",w={};if(t.reducer&&(v=c()(t.reducer.name).toUpperCase(),t.reducer.type&&(g=c()(t.reducer.type).toUpperCase()),t.reducer.options&&(w=t.reducer.options)),r&&v){var x={type:"".concat(v,"_").concat(g)};u&&(x.payload=u),r.dispatch(x)}return new Promise((function(e,a){t.transformRequest&&("get"===y.method.toLowerCase()?y.params=t.transformRequest(y.params||{}):y.data=t.transformRequest(y.data||{})),h(y).then((function(n){var o=t.transformResponse?t.transformResponse(n.data):n.data;r&&v&&r.dispatch({type:"".concat(v,"_").concat(g,"_SUCCESS"),payload:o,options:w}),e(o),l=null})).catch((function(e){o.a.isCancel(e)||(r&&(v&&r.dispatch({type:"".concat(v,"_").concat(g,"_FAILURE")}),n.handleError&&n.handleError(e)),"[Req::".concat(n.name,"] Error: ").concat(e.message),e.response||(e.response={status:0,data:{errors:[e.message]}}),a(e)),l=null}))}))}}},{key:"getDefaultHeader",value:function(e,t){var n={"Content-Type":"application/json"},r=e.getState(),o=r.currentUser.data;if(o&&o.id&&(n.Authorization="Bearer ".concat(o.auth_token)),t.checkHistory){var a=t.historyType||"daily_activities",i=u()(r,"constants.data.history_dates.".concat(a)),l=Array.isArray(t.checkHistory)?t.checkHistory[0]:t.checkHistory;(t.forceHistory||i&&m()(l).isBefore(i))&&(n["History-Data"]=1)}return b(b({},n),f()(t,["checkHistory","historyType","forceHistory"]))}},{key:"createURL",value:function(e,t){var n=(e.match(g)||[]).map((function(e){return e.replace(":","")}));if(0===n.length)return{url:e,params:t};var r={},o={};Object.keys(t).forEach((function(e){-1===n.indexOf(e)?o[e]=t[e]:r[e]=t[e]}));var a=e;return n.forEach((function(e){a=a.replace(":"+e,r[e])})),"/"!==a[a.length]&&(a+="/"),{url:a,params:o}}}],(n=null)&&v(t.prototype,n),r&&v(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var O=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"create",value:function(t){return e.createRequestHandlers(t)}},{key:"createRequestHandlers",value:function(e){for(var t={},n=0,r=Object.keys(e.apiRoutes);n<r.length;n++){var o=r[n],a=e.apiRoutes[o];t[o]=w.create(a,{name:o,baseURL:e.baseUrl,store:e.store,getHeaders:e.getHeaders,handleError:e.handleError})}return t}}],(n=null)&&x(t.prototype,n),r&&x(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S=function(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j({},t),r=arguments.length>1?arguments[1]:void 0;switch(r.type){case"".concat(e,"_SET"):return{data:r.payload,loading:!1};case"REDUX_STORE_RESET":case"".concat(e,"_RESET"):return r.payload&&r.payload.exclude instanceof Array&&r.payload.exclude.includes(e)?n:j({},t);default:return n}}};function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var z=function(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C({},t),r=arguments.length>1?arguments[1]:void 0;switch(r.type){case"".concat(e,"_FETCH"):return C(C({},n),{},{loading:!0});case"".concat(e,"_FETCH_SUCCESS"):return C(C({},n),{},{loading:!1,data:r.payload});case"".concat(e,"_FETCH_FAILURE"):return C(C({},n),{},{loading:!1});default:return n}}};function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){D(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I(e){return function(e){if(Array.isArray(e))return A(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var M=function(e,t){var n=e.indexOf(e.filter((function(e){return e.id===t.id}))[0]);return[].concat(I(e.slice(0,n)),[t],I(e.slice(n+1)))},L=function(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T({},t),r=arguments.length>1?arguments[1]:void 0;switch(r.type){case"".concat(e,"_PATCH_ITEM"):return T(T({},n),{},{loading:!0});case"".concat(e,"_PATCH_ITEM_SUCCESS"):if(r.options&&r.options.collectionName){var o=r.options.collectionName;return{loading:!1,data:T(T({},n.data),{},D({},o,M(n.data[o],r.payload)))}}return{loading:!1,data:M(n.data,r.payload)};case"".concat(e,"_PATCH_ITEM_FAILURE"):return T(T({},n),{},{loading:!1});default:return n}}};function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){V(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function V(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var q=function(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F({},t),r=arguments.length>1?arguments[1]:void 0;switch(r.type){case"".concat(e,"_PATCH_SISO_ITEM"):return F(F({},n),{},{loading:!0});case"".concat(e,"_PATCH_SISO_ITEM_SUCCESS"):var o=r.payload.id,a=r.payload.teacher_id,i=F({},n.data.siso_teachers);if(i[a]){var l=i[a].filter((function(e){return e.id===o}))[0],c=i[a].indexOf(l);i[a][c]=r.payload;var s={teachers:n.data.teachers,siso_teachers:i};return{loading:!1,data:s}}return F(F({},n),{},{loading:!1});case"".concat(e,"_PATCH_SISO_ITEM_FAILURE"):return F(F({},n),{},{loading:!1});default:return n}}};function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){Y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function K(e){return function(e){if(Array.isArray(e))return W(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return W(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return W(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Z=function(e,t){var n=e.indexOf(e.filter((function(e){return e.id===t}))[0]);return[].concat(K(e.slice(0,n)),K(e.slice(n+1)))},G=function(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H({},t),r=arguments.length>1?arguments[1]:void 0;switch(r.type){case"".concat(e,"_REMOVE_ITEM"):return H(H({},n),{},{loading:!0,removeItemId:r.payload.id});case"".concat(e,"_REMOVE_ITEM_SUCCESS"):var o=n.removeItemId;if(r.options&&r.options.collectionName){var a=r.options.collectionName;return{loading:!1,data:H(H({},n.data),{},Y({total:n.data.total-1},a,Z(n.data[a],o)))}}return{loading:!1,data:Z(n.data,o)};case"".concat(e,"_REMOVE_ITEM_FAILURE"):return H(H({},n),{},{loading:!1});default:return n}}};function $(e){return function(e){if(Array.isArray(e))return Q(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Q(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach((function(t){ee(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var te=function(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J({},t),r=arguments.length>1?arguments[1]:void 0;switch(r.type){case"".concat(e,"_ADD"):return J(J({},n),{},{loading:!0});case"".concat(e,"_ADD_SUCCESS"):if(r.options&&r.options.collectionName){var o=r.options.collectionName;return{loading:!1,data:J(J({},n.data),{},ee({total:n.data.total+1},o,[r.payload].concat($(n.data[o]))))}}return{loading:!1,data:[r.payload].concat($(n.data))};case"".concat(e,"_ADD_FAILURE"):return J(J({},n),{},{loading:!1});default:return n}}};function ne(e){return function(e){if(Array.isArray(e))return re(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return re(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return re(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function re(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(n),!0).forEach((function(t){ie(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var le=function(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae({},t),r=arguments.length>1?arguments[1]:void 0;switch(r.type){case"".concat(e,"_ADD_MULTIPLE"):return ae(ae({},n),{},{loading:!0});case"".concat(e,"_ADD_MULTIPLE_SUCCESS"):return{loading:!1,data:[].concat(ne(r.payload),ne(n.data))};case"".concat(e,"_ADD_MULTIPLE_FAILURE"):return ae(ae({},n),{},{loading:!1});default:return n}}},ce=n(82),se=n.n(ce);function ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(n),!0).forEach((function(t){fe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function de(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?de(Object(n),!0).forEach((function(t){ye(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):de(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ye(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function be(e){return function(e){if(Array.isArray(e))return he(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return he(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return he(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function he(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(n),!0).forEach((function(t){_e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function we(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?we(Object(n),!0).forEach((function(t){Oe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):we(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ke(e){return function(e){if(Array.isArray(e))return je(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return je(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return je(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function je(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ee=function(e,t){var n=e.indexOf(e.filter((function(e){return e.id===t.id}))[0]);return-1===n?[t].concat(ke(e)):[t].concat(ke(e.slice(0,n)),ke(e.slice(n+1)))},Se={createBasicReducer:S,createFetchReducer:z,createPatchItemReducer:L,createPatchSisoItemReducer:q,createAddReducer:te,createRemoveItemReducer:G,createAddMultipleReducer:le,createBatchUpdateReducer:function(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe({},t),r=arguments.length>1?arguments[1]:void 0;switch(r.type){case"".concat(e,"_BATCH_UPDATE"):return pe(pe({},n),{},{loading:!0});case"".concat(e,"_BATCH_UPDATE_SUCCESS"):return pe(pe({},n),{},{loading:!1,data:n.data.map((function(e){var t=se()(r.payload,{id:e.id});return t>=0?r.payload[t]:e}))});case"".concat(e,"_BATCH_UPDATE_FAILURE"):return pe(pe({},n),{},{loading:!1});default:return n}}},createBatchDeleteReducer:function(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me({},t),r=arguments.length>1?arguments[1]:void 0;switch(r.type){case"".concat(e,"_BATCH_DELETE"):return me(me({},n),{},{loading:!0,removeItemIds:r.payload.ids});case"".concat(e,"_BATCH_DELETE_SUCCESS"):return me(me({},n),{},{loading:!1,data:n.data.filter((function(e){return-1===n.removeItemIds.indexOf(e.id)}))});case"".concat(e,"_BATCH_DELETE_FAILURE"):return me(me({},n),{},{loading:!1});default:return n}}},createUpdateReportStatusReducer:function(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge({},t),r=arguments.length>1?arguments[1]:void 0;switch(r.type){case"".concat(e,"_UPDATE_REPORT_STATUS_SUCCESS"):if(r.payload.generated_at){var o=r.payload.id,a=be(n.data),i=a.filter((function(e){return e.id===o}))[0],l=a.indexOf(i);return a[l]=r.payload,{data:a,loading:!1}}return ge(ge({},n),{},{loading:!1});case"".concat(e,"_UPDATE_REPORT_STATUS_FAILURE"):return ge(ge({},n),{},{loading:!1});default:return n}}},createAddOrPatchItemReducer:function(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe({},t),r=arguments.length>1?arguments[1]:void 0;switch(r.type){case"".concat(e,"_ADD_OR_PATCH_ITEM"):return xe(xe({},n),{},{loading:!0});case"".concat(e,"_ADD_OR_PATCH_ITEM_SUCCESS"):if(r.options&&r.options.collectionName){var o=r.options.collectionName;return{loading:!1,data:xe(xe({},n.data),{},Oe({},o,Ee(n.data[o],r.payload)))}}return{loading:!1,data:Ee(n.data,r.payload)};case"".concat(e,"_PATCH_ITEM_FAILURE"):return xe(xe({},n),{},{loading:!1});default:return n}}}};function Pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(n),!0).forEach((function(t){Ne(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ze=function(e){var t={};Object.keys(e).forEach((function(n){var r=e[n];if(r.reducer){var o=r.reducer.name,a=t[o];a||(a=t[o]={name:r.reducer.name,initialState:r.reducer.initialState,types:[]});var i=r.reducer.type;i&&!a.types.includes(i)&&a.types.push(r.reducer.type)}}));var n={};return Object.keys(t).forEach((function(e){n[e]=function(e){var t=c()(e.name).toUpperCase(),n={data:e.initialState||null,loading:!1},r={};return e.types.push("basic","fetch"),e.types.forEach((function(e){switch(e){case"basic":r[e]=Se.createBasicReducer(t,n);break;case"fetch":r[e]=Se.createFetchReducer(t,n);break;case"patchItem":r[e]=Se.createPatchItemReducer(t,n);break;case"patchSisoItem":r[e]=Se.createPatchSisoItemReducer(t,n);break;case"removeItem":r[e]=Se.createRemoveItemReducer(t,n);break;case"add":r[e]=Se.createAddReducer(t,n);break;case"addMultiple":r[e]=Se.createAddMultipleReducer(t,n);break;case"batchUpdate":r[e]=Se.createBatchUpdateReducer(t,n);break;case"batchDelete":r[e]=Se.createBatchDeleteReducer(t,n);break;case"updateReportStatus":r[e]=Se.createUpdateReportStatusReducer(t,n);break;case"addOrPatchItem":r[e]=Se.createAddOrPatchItemReducer(t,n)}})),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce({},n),o=arguments.length>1?arguments[1]:void 0;return e.types.reduce((function(e,t){return r[t](e,o)}),t)}}(t[e])})),n};t.b=O},function(e,t,n){"use strict";var r=n(614),o=n.n(r);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=n(205),s=function(e){var t=o()(e,"family_id");return{kids:e,families:Object.keys(t).map((function(e){return{kids:t[e],id:e}}))}},u=function(e){return e.map((function(e){return"tuition"===e.kind?i(i({},e),{},{plan_invoice_items:e.plan_invoice_items.map((function(e){return i(i({},e),{},{ledger_id:e.ledger?e.ledger.id:void 0,description:e.description||e.desc})}))}):e}))},p=(c.a,n(11)),f=n.n(p);function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var m=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"deserialize",value:function(e){var t=e.registration_setting;return{form:t.json_form||{},payment:{enabled:t.is_fees_enabled,amount:f()(t,"fees.0.amount"),description:f()(t,"fees.0.title")},share:{enabled:t.enabled,slug:t.slug},school:t.school||{}}}},{key:"serialize",value:function(e){var t={};return e.form&&(t.json_form=e.form),e.share&&(t.enabled=e.share.enabled),e.payment&&(t.is_fees_enabled=e.payment.enabled,t.fees=void 0===e.payment.amount?void 0:[{title:"Standard Registration",amount:String(e.payment.amount)}]),{registration_setting:t}}}],(n=null)&&d(t.prototype,n),r&&d(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v={authorize:{url:"/auth",method:"post",transformResponse:function(e){return e.user},reducer:{name:"currentUser",initialState:{}}},impersonate:{url:"/impersonate",method:"post",transformResponse:function(e){return e.user},reducer:{name:"currentUser",initialState:{}}},impersonate_token:{url:"/impersonate_token",method:"post"},selectRole:{url:"/auth/school",method:"post",transformResponse:function(e){return e.user},reducer:{name:"currentUser"}},requestPasswordReset:{url:"/passwords",method:"post"},resetPassword:{url:"/passwords",method:"patch"},parentSignUp:{url:"/parent/register",method:"post",transformResponse:function(e){return e.user},reducer:{name:"currentUser"}},createSchool:{url:"/school/register",method:"post",transformResponse:function(e){return e.user},reducer:{name:"currentUser"}},teacherSignUp:{url:"/teacher/register",method:"post",transformResponse:function(e){return e.user},reducer:{name:"currentUser"}},logout:{url:"/logout",method:"delete"},changeSchool:{url:"/school/change",method:"post",transformResponse:function(e){return e.user}},constants:{url:"/list_options",transformResponse:function(e){return e.list_options},reducer:{name:"constants",initialState:{}}},studentsExport:{url:"/school/kids.html"},qrcode:{url:"school/siso/codes",method:"post"},students:{url:"/school/kids",transformResponse:function(e){return e.kids},reducer:{name:"students",initialState:[]}},studentsWithoutCache:{url:"/school/kids",transformResponse:function(e){return e.kids}},studentsByFamily:{url:"/school/kids/family",transformResponse:function(e){return e.kids}},studentsBatchUpdate:{url:"/school/kids/batch_update",transformResponse:function(e){return e.kids},method:"post",reducer:{name:"students",type:"batchUpdate"}},studentsBatchDelete:{url:"/school/kids/batch_delete",method:"post",reducer:{name:"students",type:"batchDelete"}},enrollmentPdf:{url:"school/kids/enrollment_pdf",method:"get"},student:{url:"/school/kids/:id",transformResponse:function(e){return e.kid},reducer:{name:"student",initialState:{}}},updateStudent:{url:"/school/kids/:id",method:"patch",transformResponse:function(e){return e.kid},reducer:{name:"student"}},updateStudentAvatar:{url:"/school/kids/:id",method:"patch",transformResponse:function(e){return e.kid}},addStudentLink:{url:"/school/kids/:id/link",method:"post"},removeStudentLink:{url:"/school/kids/:id/unlink",method:"post"},rooms:{url:"/school/sections",transformResponse:function(e){return e.sections},reducer:{name:"rooms",initialState:[]}},room:{url:"/school/sections/:id",transformResponse:function(e){return e.section},reducer:{name:"room",initialState:null}},updateRoom:{url:"/school/sections/:id",method:"patch",transformResponse:function(e){return e.section},reducer:{name:"rooms",type:"patchItem"}},updateRoomDashboardSettings:{url:"/school/sections/:id/dashboard_settings",method:"patch",transformResponse:function(e){return e.section},reducer:{name:"rooms",type:"patchItem"}},updateRoomCapacity:{url:"/school/sections/:id/update_capacity",method:"patch",transformResponse:function(e){return e.section},reducer:{name:"rooms",type:"patchItem"}},addRoom:{url:"/school/sections/",method:"post",transformResponse:function(e){return e.section},reducer:{name:"rooms",type:"add"}},deleteRoom:{url:"/school/sections/:id",method:"delete",reducer:{name:"rooms",type:"removeItem"}},addRoomStaff:{url:"/school/sections/:id/add_staff",method:"post"},schoolEvents:{url:"/school/events",transformResponse:function(e){return e.events},reducer:{name:"schoolEvents",initialState:[]}},loadSchoolEventItem:{method:"get",url:"/school/events/:id",transformResponse:function(e){return e.event}},loadSchoolEvents:{url:"/school/events",transformResponse:function(e){return e.events}},updateSchoolEvent:{url:"/school/events/:id",method:"patch",transformResponse:function(e){return e.event},reducer:{name:"schoolEvents",type:"patchItem"}},addSchoolEvent:{url:"/school/events/",method:"post",transformResponse:function(e){return e.event},reducer:{name:"schoolEvents",type:"add"}},deleteSchoolEvent:{url:"/school/events/:id",method:"delete",reducer:{name:"schoolEvents",type:"removeItem"}},activateRoom:{url:"/school/sections/:id/activate",method:"post",transformResponse:function(e){return e.section},reducer:{name:"rooms",type:"removeItem"}},dashboard:{url:"/school/dashboard",transformResponse:function(e){return e.counters},reducer:{name:"dashboard",initialState:{}}},liveRoomKids:{url:"/school/kids/live_room",transformResponse:function(e){return e.kids}},liveRoomTeachers:{url:"/school/teachers/live_room",transformResponse:function(e){return e.teachers}},groupSchools:{url:"/school/dashboard/group_schools",reducer:{name:"groupSchools",initialState:{page:0,per_page:0,total:0,group_schools:[],stats:{}}}},groupSchoolList:{url:"/school/group_schools",transformResponse:function(e){return e.group_schools},reducer:{name:"groupSchoolList",initialState:[]}},listSchools:{url:"/user/schools",method:"get"},addStudent:{url:"/school/kids",method:"post",transformResponse:function(e){return b(b({},e.kid),{},{sibling:e.sibling})},reducer:{name:"students",type:"add"}},linkStudents:{url:"/school/kids/:id/link",method:"post",transformResponse:function(e){return e.kid},reducer:{name:"students",type:"patchItem"}},deleteStudent:{url:"/school/kids/:id",method:"delete",reducer:{name:"students",type:"removeItem"}},staff:{url:"/school/teachers",transformResponse:function(e){return e.teachers},reducer:{name:"staff",initialState:[]}},allStaff:{url:"/school/teachers",transformResponse:function(e){return e.teachers},reducer:{name:"allStaff",initialState:[]}},staffItem:{url:"/school/teachers/:id",transformResponse:function(e){return e.teacher},reducer:{name:"staffItem",initialState:{}}},corpAccessSchools:{url:"/school/teachers/:id/corp_schools",transformResponse:function(e){return e.corp_access_schools},reducer:{name:"corpAccessSchools",initialState:[]}},addStaff:{url:"/school/teachers",method:"post",transformResponse:function(e){return e.teacher},reducer:{name:"staff",type:"add"}},updateStaff:{url:"/school/teachers/:id",method:"patch",transformResponse:function(e){return e.teacher},reducer:{name:"staff",type:"patchItem"}},updateStaffItem:{url:"/school/teachers/:id",method:"patch",transformResponse:function(e){return e.teacher},reducer:{name:"staffItem"}},staffPermissions:{url:"/school/permissions/:id",transformResponse:function(e){return e.permissions},reducer:{name:"staffPermissions"}},updateStaffPermissions:{url:"/school/permissions/:id",method:"patch",transformResponse:function(e){return e.permissions},reducer:{name:"staffPermissions"}},updateStaffGroupSchools:{url:"/school/teachers/:id/corp_schools/batch_update",method:"post",transformResponse:function(e){return e.corp_access_schools},reducer:{name:"corpAccessSchools"}},updateStaffAvatar:{url:"/school/teachers/:id",method:"patch",transformResponse:function(e){return e.teacher}},activateStaff:{url:"/school/teachers/:id/activate",method:"post",transformResponse:function(e){return e.teacher},reducer:{name:"staff",type:"removeItem"}},deleteStaff:{url:"/school/teachers/:id",method:"delete",reducer:{name:"staff",type:"removeItem"}},addCarer:{url:"/school/carers",method:"post"},updateCarer:{url:"/school/carers/:id",method:"patch"},deleteCarer:{url:"/school/carers/:id",method:"delete"},parentAddCarer:{url:"/parent/carers",method:"post"},parentUpdateCarer:{url:"/parent/carers/:id",method:"patch"},parentDeleteCarer:{url:"/parent/carers/:id",method:"delete"},parentInviteCarer:{url:"/parent/carers/:id/invite",method:"post"},getCarerPin:{url:"/school/carers/pin"},parentGetCarerPin:{url:"/parent/carers/pin"},tags:{url:"/school/tags",transformResponse:function(e){return e.tags},reducer:{name:"tags",initialState:[]}},addTag:{url:"/school/tags",method:"post",transformResponse:function(e){return e.tag},reducer:{name:"tags",type:"add"}},updateTag:{url:"/school/tags/:id",method:"patch",transformResponse:function(e){return e.tag},reducer:{name:"tags",type:"patchItem"}},deleteTag:{url:"/school/tags/:id",method:"delete",reducer:{name:"tags",type:"removeItem"}},sisoDeliveries:{url:"/school/siso/kids/:siso_kid_id/deliveries",method:"get"},batchSignIn:{url:"/school/siso/kids/batch_signin",method:"post",transformResponse:function(e){return e.signins},reducer:{name:"batch"}},batchSignOut:{url:"/school/siso/kids/batch_signout",method:"post",transformResponse:function(e){return e.signins},reducer:{name:"batch"}},sisoKidsDaily:{url:"/school/siso/kids",reducer:{name:"sisoKidsDaily",initialState:{kids:[],siso_kids:{}}}},sisoKidsPDF:{url:"/school/siso/kids/siso_pdf"},sisoKidsDailyExport:{url:"/school/siso/kids.html"},sisoKidsMonthly:{url:"/school/siso/kids/monthly.json",reducer:{name:"sisoKidsMonthly",initialState:{page:0,per_page:0,total:0,stats:{},kids:[]}}},sisoKidsMonthlyExport:{url:"/school/siso/kids/monthly.html"},sisoKidsWeekly:{url:"/school/siso/kids/weekly.json",reducer:{name:"sisoKidsMonthly",initialState:{page:0,per_page:0,total:0,stats:{},kids:[]}}},sisoKidsWeeklyExport:{url:"/school/siso/kids/weekly.html"},sisoKidsBiweekly:{url:"/school/siso/kids/biweekly",reducer:{name:"sisoKidsMonthly",initialState:{page:0,per_page:0,total:0,stats:{},kids:[]}}},sisoKidsBiweeklyExport:{url:"/school/siso/kids/biweekly.html"},sisoKidsSignins:{url:"/school/siso/kids/signins.json",reducer:{name:"sisoKidsSignins",initialState:{signins:[],stats:{}}}},sisoKidsSigninsExport:{url:"/school/siso/kids/signins.html"},sisoKidsBatchUpdate:{url:"/school/siso/kids/batch_update",method:"post",transformResponse:function(e){return e.kids},reducer:{name:"sisoKids"}},sisoKidsBatchDelete:{url:"/school/siso/kids/batch_delete",method:"post"},deleteKidClockIn:{url:"/school/siso/kids/:id",method:"delete",reducer:{name:"deleteKidClockIn"}},editKidClockIn:{url:"/school/siso/kids/:id",method:"patch",reducer:{name:"editKidClockIn"}},sisoTeachersDaily:{url:"/school/siso/teachers.json",reducer:{name:"sisoTeachersDaily",initialState:{teachers:[],siso_teachers:{}}}},sisoTeachersDailyExport:{url:"/school/siso/teachers.html"},createClockIn:{url:"/school/siso/teachers",method:"post",transformResponse:function(e){return e.siso_teacher},reducer:{name:"createClockIn"}},editStaffClockIn:{url:"/school/siso/teachers/:id",method:"patch",transformResponse:function(e){return e.siso_teacher},reducer:{name:"sisoTeachersDaily",type:"patchSisoItem"}},deleteStaffClockIn:{url:"/school/siso/teachers/:id",method:"delete",reducer:{name:"removeSisoTeachersDaily"}},sisoTeachersMonthly:{url:"/school/siso/teachers/monthly.json",reducer:{name:"sisoTeachersMonthly",initialState:{page:0,per_page:0,total:0,teachers:[],stats:{}}}},sisoTeachersMonthlyExport:{url:"/school/siso/teachers/monthly.html"},sisoTeachersBiweeklyExport:{url:"/school/siso/teachers/biweekly.html"},sisoTeachersWeeklyExport:{url:"/school/siso/teachers/weekly.html"},sisoTeachersWeekly:{url:"/school/siso/teachers/weekly.json",reducer:{name:"sisoTeachersMonthly",initialState:{page:0,per_page:0,total:0,teachers:[],stats:{}}}},sisoTeachersBiweekly:{url:"/school/siso/teachers/biweekly.json",reducer:{name:"sisoTeachersMonthly",initialState:{page:0,per_page:0,total:0,teachers:[],stats:{}}}},sisoTeachersSignins:{url:"/school/siso/teachers/signins.json",reducer:{name:"sisoTeachersSignins",initialState:{signins:[],stats:{}}}},sisoTeachersSigninsExport:{url:"/school/siso/teachers/signins.html"},studentStaffRatio:{url:"/school/siso/ratios",reducer:{name:"studentStaffRatio",initialState:{ratios:[],sections:[]}}},studentStaffRatioExport:{url:"/school/siso/ratios.html"},reports:{url:"/school/reports",transformResponse:function(e){return e.reports},reducer:{name:"reports",initialState:[]}},approveMessage:{url:"/school/messages/:id/approve",method:"post"},deleteMessage:{url:"/school/messages/:id",method:"delete",reducer:{name:"deleteMessage"}},updateReportStatus:{url:"/school/reports/:id",transformResponse:function(e){return e.report},reducer:{name:"reports",type:"updateReportStatus"}},createReport:{url:"/school/reports",method:"post",transformResponse:function(e){return e.report},reducer:{name:"reports",type:"addOrPatchItem"}},allTransactions:{url:"/school/billing/billing_transactions",reducer:{name:"allTransactions",initialState:{page:0,per_page:0,total:0,billing_transactions:[]}}},allTransactionsExport:{url:"/school/billing/billing_transactions.html"},familyBilling:{url:"/school/billing/families",reducer:{name:"familyBilling",initialState:{page:0,per_page:0,total:0,families:[]}}},familyLeadCrmTransactions:{url:"/school/registrations/parent_payments/families/:id",reducer:{name:"familyLeadCrmTransactions",initialState:{page:0,per_page:0,total:0,parent_payments:[],parent_refunds:[],enrollments:[]}}},familyBillingStats:{url:"/school/billing/families/:id",transformResponse:function(e){return e.family},reducer:{name:"familyBillingStats",initialState:{billing_stats:{}}}},familyLeadCrmStats:{url:"/school/registrations/parent_payments/families/:id/stats",reducer:{name:"familyLeadCrmStats",initialState:{billing_stats:{}}}},billingStats:{url:"/school/billing/billing_transactions/stats",transformResponse:function(e){return e.billing_stats},reducer:{name:"billingStats",initialState:{}}},subFamilies:{url:"/school/billing/families/:family_id/sub_families",transformResponse:function(e){return e.sub_families},reducer:{name:"subFamilies",initialState:[]}},createSubFamily:{url:"/school/billing/families/:family_id/sub_families",method:"POST",transformResponse:function(e){return e.sub_family},cancellable:!1},updateSubFamily:{url:"/school/billing/families/:family_id/sub_families/:id",method:"PATCH",transformResponse:function(e){return e.sub_family},cancellable:!1},removeSubFamily:{url:"/school/billing/families/:family_id/sub_families/:id",method:"DELETE",transformResponse:function(e){return e.sub_family},cancellable:!1},removeSubFamilies:{url:"/school/billing/families/:family_id/sub_families/destroy_all",method:"DELETE",transformResponse:function(e){return e.sub_family}},addSubFamilyKid:{url:"/school/billing/families/:family_id/sub_families/:id/add_kid",method:"PUT"},removeSubFamilyKid:{url:"/school/billing/families/:family_id/sub_families/:id/remove_kid",method:"DELETE"},addSubFamilyCarer:{url:"/school/billing/families/:family_id/sub_families/:id/add_carer",method:"PUT"},removeSubFamilyCarer:{url:"/school/billing/families/:family_id/sub_families/:id/remove_carer",method:"DELETE"},school:{url:"/school",transformResponse:function(e){return e.school},reducer:{name:"school",initialState:{}}},updateSchool:{url:"/school",method:"patch",transformResponse:function(e){return e.school},reducer:{name:"school"}},schoolSettings:{url:"/school/settings",transformResponse:function(e){return e.settings},reducer:{name:"schoolSettings",initialState:[]}},updateSchoolSettings:{url:"/school/settings",method:"patch",transformResponse:function(e){return e.settings},reducer:{name:"schoolSettings"}},customAttributes:{url:"/custom_attributes",transformResponse:function(e){return e.custom_attributes},reducer:{name:"customAttributes",initialState:[]}},createCustomAttribute:{url:"/custom_attributes",method:"post",transformResponse:function(e){return e.custom_attribute},reducer:{name:"customAttributes",type:"add"}},updateCustomAttribute:{url:"/custom_attributes/:id",method:"patch",transformResponse:function(e){return e.custom_attribute},reducer:{name:"customAttributes",type:"patchItem"}},deleteCustomAttribute:{url:"/custom_attributes/:id",method:"delete",reducer:{name:"customAttributes",type:"removeItem"}},activateCustomAttribute:{url:"/custom_attributes/:id",method:"patch",transformResponse:function(e){return e.custom_attribute},reducer:{name:"customAttributes",type:"removeItem"}},createInvoice:{url:"/school/billing/parent_invoices",method:"post"},editInvoice:{url:"/school/billing/parent_invoices/:id",method:"patch"},viewInvoice:{url:"/school/billing/parent_invoices/:id",transformResponse:function(e){return e.parent_invoice}},familyTransactions:{url:"/school/billing/billing_transactions/family",reducer:{name:"familyTransactions",initialState:{page:0,per_page:0,total:0,billing_transactions:[],kids:[],carers:[]}}},ledger:{url:"/school/ledgers/:id",transformResponse:function(e){return e.ledger},reducer:{name:"ledger",initialState:{}}},ledgers:{url:"/school/ledgers",reducer:{name:"ledgers",initialState:{page:0,per_page:0,total:0,ledgers:[]}}},allLedgers:{url:"/school/ledgers?lightweight=true&page=0&per_page=1000",method:"GET",reducer:{name:"allLedgers",initialState:{ledgers:[]}}},deleteLedger:{url:"/school/ledgers/:id",method:"delete",reducer:{name:"ledgers",type:"removeItem",options:{collectionName:"ledgers"}}},createLedger:{url:"/school/ledgers",method:"post",transformResponse:function(e){return e.ledger},reducer:{name:"ledgers",type:"add",options:{collectionName:"ledgers"}}},updateLedger:{url:"/school/ledgers/:id",method:"patch",transformResponse:function(e){return e.ledger},reducer:{name:"ledgers",type:"patchItem",options:{collectionName:"ledgers"}}},ledgerTransactions:{url:"/school/ledgers/billing_transactions",reducer:{name:"ledgerTransactions",initialState:{page:0,per_page:0,total:0,billing_transactions:[]}}},ledgerTransactionKids:{url:"/school/ledgers/billing_transactions/:id/kids",method:"GET"},subsidyKidsSummary:{url:"/school/ledgers/kids",transformResponse:function(e){return e.kids},reducer:{name:"subsidyKidsSummary",initialState:[]}},subsidyKidsStats:{url:"/school/ledgers/kids/stats",transformResponse:function(e){return e.stats},reducer:{name:"subsidyKidsStats",initialState:{}}},addLedgerCredit:{url:"/school/ledgers/parent_payments",method:"post"},updateLedgerCredit:{url:"/school/ledgers/parent_payments/:id",method:"patch"},deleteLedgerCredit:{url:"/school/ledgers/parent_payments/:id",method:"delete"},addLedgerPayment:{url:"/school/ledgers/parent_invoices",method:"post"},updateLedgerPayment:{url:"/school/ledgers/parent_invoices/:id",method:"patch"},deleteLedgerPayment:{url:"/school/ledgers/parent_invoices/:id",method:"delete"},subsidyTransactions:{url:"/school/subsidies/billing_transactions",reducer:{name:"subsidyTransactions",initialState:{page:0,per_page:0,total:0,billing_transactions:[]}}},subsidyKidsWithBalanceDue:{url:"/school/ledgers/kids",transformResponse:function(e){return e.kids},method:"get"},addSubsidyCredit:{url:"/school/subsidies/parent_credits",method:"post"},updateSubsidyCredit:{url:"/school/subsidies/parent_credits/:id",method:"patch"},deleteSubsidyCredit:{url:"/school/subsidies/parent_credits/:id",method:"delete"},addSubsidyInvoice:{url:"/school/subsidies/parent_invoices",method:"post"},updateSubsidyInvoice:{url:"/school/subsidies/parent_invoices/:id",method:"patch"},deleteSubsidyInvoice:{url:"/school/subsidies/parent_invoices/:id",method:"delete"},addSubsidyPayment:{url:"/school/subsidies/parent_payments",method:"post"},updateSubsidyPayment:{url:"/school/subsidies/parent_payments/:id",method:"patch"},deleteSubsidyPayment:{url:"/school/subsidies/parent_payments/:id",method:"delete"},dailyActivities:{url:"/school/daily_activities",reducer:{name:"dailyActivities",initialState:{page:0,per_page:0,total:0,daily_activities:[]}}},updateBatchDailyActivity:{url:"/school/daily_activities/batches/:id",method:"patch"},deleteBatchDailyActivity:{url:"/school/daily_activities/batches/:id",method:"delete"},updateActivity:{url:"/school/daily_activities/:id",method:"patch",reducer:{name:"patchDailyActivity"}},deleteActivity:{url:"/school/daily_activities/:id",method:"delete",reducer:{name:"deleteDailyActivity"}},recurringActivities:{url:"/school/recurring_daily_activities",reducer:{name:"recurringActivities",initialState:{page:0,per_page:0,total:0,recurring_daily_activities:[]}}},createRecurringActivity:{url:"/school/recurring_daily_activities",method:"post",transformResponse:function(e){return e.recurring_daily_activity},reducer:{name:"recurringActivities",type:"add",options:{collectionName:"recurring_daily_activities"}}},updateRecurringActivity:{url:"/school/recurring_daily_activities/:id",method:"patch",transformResponse:function(e){return e.recurring_daily_activity},reducer:{name:"recurringActivities",type:"patchItem",options:{collectionName:"recurring_daily_activities"}}},deleteRecurringActivity:{url:"/school/recurring_daily_activities/:id",method:"delete",reducer:{name:"recurringActivities",type:"removeItem",options:{collectionName:"recurring_daily_activities"}}},reportIncident:{url:"/school/incidents/:id.html"},parentKids:{url:"/parent/kids",transformResponse:function(e){return s(e.kids)},reducer:{name:"parentKids",initialState:{kids:[],families:[]}}},parentKid:{url:"/parent/kids/:id",transformResponse:function(e){return e.kid},reducer:{name:"parentKid",initialState:{}}},kidActivities:{url:"/parent/daily_activities",reducer:{name:"kidActivities",initialState:{page:0,per_page:0,total:0,daily_activities:[]}}},parentKidSignins:{url:"/parent/kids/signins",reducer:{name:"parentKidSignins",initialState:{signins:[],stats:{}}}},parentDocs:{url:"/parent/documents",reducer:{name:"parentDocs",initialState:{page:0,per_page:0,total:0,documents:[]}}},parentEdocs:{url:"/parent/electronic_documents",reducer:{name:"parentEdocs",initialState:{page:0,per_page:0,total:0,documents:[]}}},parentEdocsPermissionCheck:{url:"/parent/electronic_documents",cancellable:!1},parentEdoc:{url:"/parent/electronic_document",transformResponse:function(e){return e.document},reducer:{name:"parentEdoc"}},updateParentEdoc:{url:"/parent/electronic_document",method:"PATCH",transformResponse:function(e){return e.document},reducer:{name:"parentEdocs"}},createParentDoc:{url:"/parent/documents",method:"POST",transformResponse:function(e){return e.document},reducer:{name:"parentDocs",type:"add",options:{collectionName:"documents"}}},parentRegister:{url:"/parent/schools",method:"post",transformResponse:function(e){return e.user},reducer:{name:"currentUser"}},addCredit:{url:"/school/billing/parent_credits",method:"post"},editCredit:{url:"/school/billing/parent_credits/:id",method:"patch"},cancelCredit:{url:"/school/billing/parent_credits/:id/cancel",method:"delete"},deleteCredit:{url:"/school/billing/parent_credits/:id",method:"delete"},receivePayment:{url:"/school/billing/parent_payments",method:"post"},editPayment:{url:"/school/billing/parent_payments/:id",method:"patch"},cancelPayment:{url:"/school/billing/parent_payments/:id/cancel",method:"delete"},deletePayment:{url:"/school/billing/parent_payments/:id",method:"delete"},profile:{url:"/user",transformResponse:function(e){return e.user},reducer:{name:"currentUser",initialState:{}}},updateProfile:{url:"/user",method:"patch",transformResponse:function(e){return e.user},reducer:{name:"currentUser"}},recurringPlans:{url:"/school/billing/billing_plans",reducer:{name:"recurringPlans",initialState:{page:0,per_page:0,total:0,kids:[]}}},recurringPlanInfo:{url:"/school/billing/billing_plans/info",method:"post"},createBillingPlan:{url:"/school/billing/billing_plans",method:"post"},updateBillingPlan:{url:"/school/billing/billing_plans/:id",method:"patch"},previewInvoice:{url:"/school/billing/billing_plans/:id/invoice_preview",method:"get",transformResponse:function(e){return e.parent_invoice}},recurringPlanStats:{url:"/school/billing/billing_plans/stats",transformResponse:function(e){return e.stats},reducer:{name:"billingPlanStats",initialState:{unassigned_tuition_count:0,unassigned_attendance_count:0}}},inviteStaff:{url:"/school/teachers/:id/invite",method:"post"},carpoolCarers:{url:"/school/carpool_carers"},deleteBillingPlan:{url:"/school/billing/billing_plans/:id",method:"delete"},billingPlanTemplates:{url:"/school/billing/billing_plans/templates",transformResponse:function(e){return u(e.billing_plans)},reducer:{name:"billingPlanTemplates",initialState:[]}},billingPlanStudents:{url:"/school/billing/billing_plans/kids",transformResponse:function(e){return e.kids},reducer:{name:"billingPlanStudents",initialState:[]}},billingPlanSubFamilyStudents:{url:"/school/billing/billing_plans/sub_family_kids",transformResponse:function(e){return e.kids},reducer:{name:"billingPlanSubFamilyStudents",initialState:[]}},addCarpoolCarer:{url:"/school/carpool_carers",method:"post"},parentAddCarpoolCarer:{url:"/parent/carpool_carers",method:"post"},parentCarpoolCarers:{url:"/parent/carpool_carers"},deleteCarpoolCarer:{url:"/school/carpool_carers/:id",method:"delete"},parentDeleteCarpoolCarer:{url:"/parent/carpool_carers/:id",method:"delete"},sectionRatios:{url:"/school/sections/ratios",transformResponse:function(e){return e.ratios},reducer:{name:"sectionRatios",initialState:[]}},schoolGettingStarted:{url:"/school/dashboard/getting_started",transformResponse:function(e){return e.status},reducer:{name:"gettingStarted",initialState:{}}},schoolDashboardComplete:{url:"/school/dashboard/complete_onboarding",method:"post"},sendPins:{url:"/school/kids/send_pins",method:"post"},sendRegistrationCodes:{url:"/school/kids/send_registration_codes",method:"post"},sendInvitation:{url:"/school/carers/send_invitation",method:"post"},inviteCarer:{url:"/school/carers/:id/invite",method:"post"},listPaymentMethods:{url:"/parent/billing/payment_methods",transformResponse:function(e){return e.payment_methods},reducer:{name:"paymentMethods",initialState:[]}},patchPaymentMethod:{url:"/parent/billing/payment_methods/:id",method:"patch",transformResponse:function(e){return e.payment_method},reducer:{name:"paymentMethods",type:"patchItem"}},addPaymentMethod:{url:"/parent/billing/payment_methods",method:"post",transformResponse:function(e){return e.payment_method},reducer:{name:"paymentMethods",type:"add"}},verifyPaymentMethod:{url:"/parent/billing/payment_methods/:id/verify",method:"post"},deletePaymentMethod:{url:"/parent/billing/payment_methods/:id",method:"delete",transformResponse:function(e){return e.payment_method},reducer:{name:"paymentMethods",type:"removeItem"}},schoolParentUpdatePaymentMethod:{url:"/school/billing/payment_methods/:id",method:"put"},paymentsOverview:{url:"/parent/billing/billing_transactions",reducer:{name:"paymentsOverview",initialState:{page:0,per_page:0,total:0,billing_transactions:[],kids:[]}}},parentViewInvoice:{url:"/parent/billing/parent_invoices/:id",transformResponse:function(e){return e.parent_invoice}},paymentsOverviewStats:{url:"/parent/billing/billing_transactions/info",transformResponse:function(e){return e.billing_info},reducer:{name:"paymentsOverviewStats",initialState:{billing_stats:{}}}},parentDesktopPaymentAccounts:{url:"/parent/billing/te_accounts/payment_accounts",reducer:{name:"parentDesktopPaymentAccounts",initialState:{}}},changePlan:{url:"/school/subscriptions/accounts/change",method:"post"},subscriptionInvoices:{url:"/school/subscriptions/invoices",transformResponse:function(e){return e.invoices},reducer:{name:"subscriptionInvoices",initialState:[]}},lastSubscriptionInvoice:{url:"/school/subscriptions/invoices/latest",transformResponse:function(e){return e.invoice},reducer:{name:"lastSubscriptionInvoice",initialState:{}}},downloadSubscriptionInvoice:{url:"school/subscriptions/invoices/:id"},schoolPaymentMethod:{url:"/school/subscriptions/payment_method",transformResponse:function(e){return e.source},reducer:{name:"paymentMethod",initialState:{}}},addSchoolPaymentMethod:{url:"/school/subscriptions/payment_method",method:"patch",transformResponse:function(e){return e.source},reducer:{name:"paymentMethod",initialState:{}}},parentMakePayment:{url:"/parent/billing/parent_payments",method:"post"},calculateFee:{url:"/parent/billing/parent_payments/fee",method:"post"},addBluepayAccount:{url:"/school/billing/bluepay_accounts",method:"post"},addSchoolBillingAccount:{url:"/school/billing/accounts",method:"post"},teAccountUri:{url:"/school/billing/te_accounts/connect_uri",method:"post"},parentTeAccountUri:{url:"/parent/billing/te_accounts/connect_uri",method:"post"},registrationsTeAccountUri:{url:"/registrations/connect_uri",method:"post"},connectUri:{url:"/school/billing/accounts/connect_uri",method:"get"},addStandardAccount:{url:"/school/billing/accounts/standard_connect",method:"post"},verificationStatus:{url:"/school/billing/accounts/verification_status"},verifySchool:{url:"/school/billing/accounts/verify",method:"post"},schoolFeeBreakdown:{url:"school/billing/accounts/fee_breakdown",transformResponse:function(e){return e.fee_breakdown},reducer:{name:"feeBreakdown",initialState:{}}},parentFeeBreakdown:{url:"parent/billing/parent_payments/fee_breakdown",transformResponse:function(e){return e.fee_breakdown},reducer:{name:"feeBreakdown",initialState:{}}},bluepayRequestSignup:{url:"school/billing/bluepay_accounts/request_signup",method:"post"},teRequestSignup:{url:"school/billing/te_accounts/request_signup",method:"post"},createReferral:{url:"/school/referrals",method:"post"},mobileAuthView:{url:"/auth/mobile_view",method:"post",transformResponse:function(e){return e.user},reducer:{name:"currentUser"}},awsSignature:{url:"/school/aws_signature",reducer:{name:"awsSignature",initialState:{}}},awsSignaturePublic:{url:"/school/aws_signature/signature"},awsSignatureParent:{url:"/parent/aws_signature"},vaccines:{url:"/school/vaccines",transformResponse:function(e){return e.vaccines},reducer:{name:"vaccines",initialState:[]}},saveVaccine:{url:"/school/vaccines",method:"post"},deleteVaccine:{url:"/school/vaccines/:id",method:"delete"},loadKidVaccine:{url:"/school/vaccines/report",transformResponse:function(e){return e.vaccine_dose_kids},reducer:{name:"vaccineDoses",initialState:[]}},toggleKidVaccineReport:{url:"/school/kids/:id/toggle_vaccines_report",method:"patch"},sendInvoiceReminder:{url:"/school/billing/families/:id/send_reminder",method:"post"},pauseFamilyBillingPlans:{url:"/school/billing/families/:id/pause_plans",method:"post"},issueRefund:{url:"/school/billing/parent_refunds",method:"post"},cancelRefund:{url:"/school/billing/parent_refunds/:id/cancel",method:"delete"},deleteRefund:{url:"/school/billing/parent_refunds/:id",method:"delete"},cancelInvoice:{url:"/school/billing/parent_invoices/:id/cancel",method:"delete"},deleteInvoice:{url:"/school/billing/parent_invoices/:id",method:"delete"},subscriptionPlans:{url:"/school/subscriptions/plans",transformResponse:function(e){return e.plans},reducer:{name:"subscriptionPlans",initialState:[]}},newSubscription:{url:"/school/subscriptions/accounts",method:"post"},subscriptionInfo:{url:"/school/subscriptions/accounts/info",method:"post",reducer:{name:"subscriptionInfo"}},verifyCoupon:{url:"/school/subscriptions/accounts/verify_coupon",method:"post"},photos:{url:"/parent/photos",reducer:{name:"photos",initialState:{page:0,per_page:0,total:0,photos:[]}}},videos:{url:"/parent/videos",reducer:{name:"videos",initialState:{page:0,per_page:0,total:0,videos:[]}}},schoolPhotos:{url:"/school/photos",reducer:{name:"schoolPhotos",initialState:{page:0,per_page:0,total:0,photos:[]}}},deleteMedias:{url:"/school/medias/batch_delete",method:"POST",reducer:{name:"schoolPhotos"}},updatePhoto:{url:"/school/photos/:id",method:"patch"},updatePhotoActivity:{url:"/school/photos",method:"patch"},updateVideo:{url:"/school/videos/:id",method:"patch"},kidsRoster:{url:"/school/roster_kids",reducer:{name:"kidsRoster",initialState:{page:0,per_page:0,total:0,roster_kids:[]}}},kidsRosterActivate:{url:"/school/roster_kids/:id/activate",method:"patch",transformResponse:function(e){return e.roster_kid},reducer:{name:"kidsRoster",type:"patchItem",options:{collectionName:"roster_kids"}}},rosterBatchActivate:{url:"/school/roster_kids/batch_activate",method:"POST"},resendParentInvite:{url:"/parent/schools/resend",method:"post"},dailySummary:{url:"/school/daily_activities/summary",reducer:{name:"dailySummary",initialState:{kids:[],summary:{}}}},dailySummaryKid:{url:"/school/daily_activities",reducer:{name:"dailySummaryKid",initialState:{}}},dailySummaryReport:{url:"/school/kids/:id/daily_summary.html"},approveActivities:{url:"/school/daily_activities/approve",method:"post"},createActivity:{url:"/school/daily_activities",method:"post"},markAbsent:{url:"/school/absent_kids/mark_absent",method:"post"},absentKids:{url:"/school/absent_kids",transformResponse:function(e){return e.kids},reducer:{name:"absentKids",initialState:[]}},updateAbsentKid:{url:"/school/absent_kids/:id",method:"patch",cancellable:!1},updateAbsentKidsBatch:{url:"/school/absent_kids/batch_update",method:"post"},deleteAbsentKid:{url:"/school/absent_kids/:id",method:"delete",cancellable:!1},deleteAbsentKidsBatch:{url:"/school/absent_kids/batch_delete",method:"post"},saveRoomsOrder:{url:"/school/sections/reorder",method:"post"},parentKioskForm:{url:"/school/kiosk_form",transformResponse:function(e){return e.kiosk_form},reducer:{name:"parentKioskForm",initialState:{}}},updateParentKioskForm:{url:"/school/kiosk_form",method:"patch"},staffKioskForm:{url:"/school/teacher_kiosk_form",transformResponse:function(e){return e.kiosk_form},reducer:{name:"staffKioskForm",initialState:{}}},updateStaffKioskForm:{url:"/school/teacher_kiosk_form",method:"patch"},recurringPlanTemplates:{url:"/school/billing/billing_plan_templates",reducer:{name:"recurringPlanTemplates",initialState:{page:0,per_page:0,total:0,billing_plans:[]}}},updatePlanTemplate:{url:"/school/billing/billing_plan_templates/:id",method:"patch"},createPlanTemplate:{url:"/school/billing/billing_plan_templates",method:"post"},deletePlanTemplate:{url:"/school/billing/billing_plan_templates/:id",method:"delete"},classes:{url:"/school/school_classes",reducer:{name:"classes",initialState:{page:0,per_page:0,total:0,school_classes:[]}}},createClass:{url:"/school/school_classes",method:"post"},updateClass:{url:"/school/school_classes/:id",method:"patch",transformResponse:function(e){return e.school_class},reducer:{name:"classes",type:"patchItem",options:{collectionName:"school_classes"}}},schoolClass:{url:"/school/school_classes/:id",transformResponse:function(e){return e.school_class},reducer:{name:"schoolClass",initialState:{}}},schoolClassKids:{url:"/school/school_classes/:id/kids",transformResponse:function(e){return e.kids},reducer:{name:"schoolClassKids",initialState:[]}},addKidsToClass:{url:"/school/school_classes/:id/kids",method:"post"},removeFromClass:{url:"/school/school_classes/:class_id/kids/:id",method:"delete"},updateEnrollment:{url:"/school/school_classes/:class_id/kids/:id",method:"patch",transformResponse:function(e){return e.kid},reducer:{name:"schoolClassKids",type:"patchItem"}},parentClasses:{url:"/parent/school_classes",reducer:{name:"parentClasses",initialState:{page:0,per_page:0,total:0,school_classes:[]}}},downloadStatementParent:{url:"/parent/billing/parent_payments/statement"},downloadStatementTeacher:{url:"/school/billing/parent_payments/statement"},downloadTaxStatementParent:{method:"POST",url:"/parent/billing/parent_payments/tax_statement"},downloadTaxStatementTeacher:{method:"POST",url:"/school/billing/parent_payments/tax_statement"},recurringPlanActions:{url:"/school/billing/billing_plans/bulk",method:"post"},learningActivityNames:{url:"/school/learning_activities/names",transformResponse:function(e){return e.learning_activity_names},reducer:{name:"learningActivityNames",initialState:[]}},learningActivityCategories:{url:"/school/learning_activities/categories",transformResponse:function(e){return e.learning_activity_categories},reducer:{name:"learningActivityCategories",initialState:[]}},addLearningActivityName:{url:"/school/learning_activities/names",method:"POST",transformResponse:function(e){return e.learning_activity_name},reducer:{name:"learningActivityNames",type:"add"}},addLearningActivityCategory:{url:"/school/learning_activities/categories",method:"POST",transformResponse:function(e){return e.learning_activity_category},reducer:{name:"learningActivityCategories",type:"add"}},deleteLearningActivityName:{url:"/school/learning_activities/names/:id",method:"DELETE",reducer:{name:"learningActivityNames",type:"removeItem"}},deleteLearningActivityCategory:{url:"/school/learning_activities/categories/:id",method:"DELETE",reducer:{name:"learningActivityCategories",type:"removeItem"}},emailStatement:{url:"/school/billing/parent_payments/email_statement",method:"POST"},uploadStudentRoster:{url:"/school/imports",method:"POST"},kidDoc:{url:"/school/kids/:kidId/documents/:id",transformResponse:function(e){return e.document}},kidDocs:{url:"/school/kids/:kidId/documents",reducer:{name:"kidDocs",initialState:{page:0,per_page:0,total:0,documents:[]}}},createKidDoc:{url:"/school/kids/:kidId/documents",method:"POST",transformResponse:function(e){return e.document},reducer:{name:"kidDocs",type:"add",options:{collectionName:"documents"}}},updateKidDoc:{url:"/school/kids/:kidId/documents/:id",method:"PATCH",transformResponse:function(e){return e.document},reducer:{name:"kidDocs",type:"patchItem",options:{collectionName:"documents"}}},deleteKidDoc:{url:"/school/kids/:kidId/documents/:id",method:"DELETE",reducer:{name:"kidDocs",type:"removeItem",options:{collectionName:"documents"}}},getAppLink:{url:"/invitations",method:"POST"},recurringCharges:{url:"/school/billing/charges/recurring",transformResponse:function(e){return e.charges},reducer:{name:"recurringCharges",initialState:[]}},invoiceItemPresets:{url:"/school/billing/charges",transformResponse:function(e){return e},reducer:{name:"invoiceItemPresets",initialState:{page:0,per_page:0,total:0,charges:[]}}},createInvoiceItemPreset:{url:"/school/billing/charges",method:"POST",transformResponse:function(e){return e.charge},reducer:{name:"invoiceItemPresets",type:"add",options:{collectionName:"charges"}}},updateInvoiceItemPreset:{url:"/school/billing/charges/:id",method:"PATCH",transformResponse:function(e){return e.charge},reducer:{name:"invoiceItemPresets",type:"patchItem",options:{collectionName:"charges"}}},deleteInvoiceItemPreset:{url:"/school/billing/charges/:id",method:"DELETE",reducer:{name:"invoiceItemPresets",type:"removeItem",options:{collectionName:"charges"}}},sisoAlerts:{url:"/school/siso/alerts",transformResponse:function(e){return e.alerts},reducer:{name:"sisoAlerts",initialState:[]}},sisoAlertItem:{url:"/school/siso/alerts/:id",transformResponse:function(e){return e.alert},reducer:{name:"sisoAlertItem",initialState:{}}},addSisoAlert:{url:"/school/siso/alerts",method:"post",transformResponse:function(e){return e.alert},reducer:{name:"sisoAlerts",type:"add"}},updateSisoAlert:{url:"/school/siso/alerts/:id",method:"patch",transformResponse:function(e){return e.alert},reducer:{name:"sisoAlerts",type:"patchItem"}},deleteSisoAlert:{url:"/school/siso/alerts/:id",method:"delete",reducer:{name:"sisoAlerts",type:"removeItem"}},sisoAlertLogs:{url:"/school/siso/alerts/:id/logs",reducer:{name:"sisoAlertLogs",initialState:{page:0,per_page:0,total:0,alert_logs:[]}}},deleteSisoAlertLog:{url:"/school/siso/alerts/:alertId/logs/:id",method:"delete",reducer:{type:"removeItem",name:"sisoAlertLogs",options:{collectionName:"alert_logs"}}},deleteAllSisoAlertLogs:{url:"/school/siso/alerts/:id/logs/delete_all",method:"post"},getGusto:{url:"/school/gusto",transformResponse:function(e){return e.gusto},reducer:{name:"gusto",initialState:{}}},updateGusto:{url:"/school/gusto",method:"PATCH",transformResponse:function(e){return e.gusto},reducer:{name:"gusto",initialState:{}}},getCheckr:{url:"/school/checkr",transformResponse:function(e){return e.checkr},reducer:{name:"checkr",initialState:{}}},updateCheckr:{url:"/school/checkr",method:"PATCH",transformResponse:function(e){return e.checkr},reducer:{name:"checkr",initialState:{}}},getCheckrPackages:{url:"/school/checkr/packages",transformResponse:function(e){return e.packages},reducer:{name:"checkrPackages",initialState:[]}},createCheckrCandidate:{url:"/school/checkr/candidates",method:"POST"},updateCheckrCandidate:{url:"/school/checkr/candidates",method:"PATCH"},inviteCheckrCandidate:{url:"/school/checkr/invitations",method:"POST"},reportCheckrCandidate:{url:"/school/checkr/reports",method:"POST"},getQuickbook:{url:"/school/quick_books",transformResponse:function(e){return e.quick_books},reducer:{name:"quick_books",initialState:{}}},updateQuickbook:{url:"/school/quick_books",method:"PATCH",transformResponse:function(e){return e.quick_books},reducer:{name:"quick_books",initialState:{}}},schoolReg:{url:"/school/registration_setting",transformRequest:m.serialize,transformResponse:m.deserialize,reducer:{name:"schoolReg",initialState:{form:{},payment:{},share:{}}}},schoolRegFee:{url:"/school/registration_setting/fee",method:"post"},updateSchoolReg:{url:"/school/registration_setting",method:"PATCH",transformRequest:m.serialize,transformResponse:m.deserialize,reducer:{name:"schoolReg"}},schoolRegForm:{url:"/registrations/form",transformResponse:m.deserialize},submitSchoolRegForm:{url:"/registrations",method:"POST"},receiveRegistrationPayment:{url:"/school/registrations/parent_payments",method:"POST"},registrationPayments:{url:"/school/registrations/parent_payments",reducer:{name:"registrationPayments",initialState:{registration:{},parent_payments:[],parent_refunds:[]}}},editRegistrationPayment:{url:"/school/registrations/parent_payments/:id",method:"PATCH"},deleteRegistrationPayment:{url:"/school/registrations/parent_payments/:id",method:"DELETE"},cancelRegistrationPayment:{url:"/school/registrations/parent_payments/:id/cancel",method:"DELETE"},issueRegistrationRefund:{url:"/school/registrations/parent_refunds",method:"POST"},enrollments:{url:"/school/enrollments",reducer:{name:"enrollments",initialState:{page:0,per_page:0,total:0,enrollments:[]}}},enrollment:{url:"/school/enrollments/:id",transformResponse:function(e){return e.enrollment},reducer:{name:"enrollment",initialState:{}}},enrollmentsTypeahead:{url:"/school/enrollments"},enrollmentTimeline:{url:"/school/timeline",transformResponse:function(e){return e.activities},reducer:{name:"enrollmentTimeline",initialState:[]}},allEnrollments:{url:"/school/enrollments/all",transformResponse:function(e){return e.enrollments},reducer:{name:"allEnrollments",initialState:[]}},archivedEnrollments:{url:"/school/enrollments/archived",reducer:{name:"archivedEnrollments",initialState:[]}},enrollmentStats:{url:"/school/enrollments/stats",transformResponse:function(e){return e.stats},reducer:{name:"enrollmentStats",initialState:{}}},addEnrollmentItem:{url:"/school/enrollments",method:"post",transformResponse:function(e){return e.enrollment},reducer:{name:"enrollments",type:"add",options:{collectionName:"enrollments"}}},updateEnrollmentItem:{url:"/school/enrollments/:id",method:"PATCH",transformResponse:function(e){return e.enrollment},reducer:{type:"patchItem",name:"enrollments",options:{collectionName:"enrollments"}}},linkSiblingEnrollment:{url:"school/enrollments/:id/link",method:"POST",transformResponse:function(e){return e.enrollment}},unlinkSiblingEnrollment:{url:"school/enrollments/:id/unlink",method:"POST",transformResponse:function(e){return e.enrollment}},printEnrollmentItem:{url:"/school/enrollments/:id/pdf"},activateEnrollmentItem:{url:"/school/enrollments/:id/activate",method:"POST",transformResponse:function(e){return e.enrollment},reducer:{type:"patchItem",name:"enrollments",options:{collectionName:"enrollments"}}},sendEnrollmentEmail:{url:"/school/enrollments/send_email",method:"POST"},leadStages:{url:"/school/enrollments/states",transformResponse:function(e){return e.states},reducer:{name:"leadStages",initialState:[]}},leadSources:{url:"/school/enrollments/sources",transformResponse:function(e){return e.sources},reducer:{name:"leadSources",initialState:[]}},updateLeadStage:{url:"/school/enrollments/states/:id",method:"patch",transformResponse:function(e){return e.state},reducer:{name:"leadStages",type:"patchItem"}},reorderLeadStages:{url:"/school/enrollments/states/reorder",method:"post"},addLeadStage:{url:"/school/enrollments/states/",method:"post",transformResponse:function(e){return e.state},reducer:{name:"leadStages",type:"add"}},deleteLeadStage:{url:"/school/enrollments/states/:id",method:"delete",reducer:{name:"leadStages",type:"removeItem"}},leadPipelines:{url:"/school/enrollments/pipelines",cancellable:!1},leadFunnels:{url:"/school/enrollments/funnels",cancellable:!1},uploadPhoto:{url:"/school/photos",method:"POST"},medias:{url:"/school/medias",reducer:{name:"medias",initialState:{page:0,per_page:0,total:0,medias:[]}}},newsletters:{url:"/school/newsletters",reducer:{name:"newsletters",initialState:{page:0,per_page:0,total:0,newsletters:[]}}},newsletterTemplates:{url:"/school/newsletters",reducer:{name:"newsletterTemplates",initialState:{page:0,per_page:0,total:0,newsletters:[]}}},listNewsletterTemplates:{url:"/school/newsletters",method:"get"},createNewsletter:{url:"/school/newsletters",method:"POST",transformResponse:function(e){return e.newsletter},reducer:{name:"newsletters",type:"add",options:{collectionName:"newsletters"}}},updateNewsletter:{url:"/school/newsletters/:id",method:"PATCH",transformResponse:function(e){return e.newsletter},reducer:{name:"newsletters",type:"patchItem",options:{collectionName:"newsletters"}}},deleteNewsletter:{url:"/school/newsletters/:id",method:"DELETE",reducer:{name:"newsletters",type:"removeItem",options:{collectionName:"newsletters"}}},deleteNewsletterTemplate:{url:"/school/newsletters/:id",method:"DELETE",reducer:{name:"newsletterTemplates",type:"removeItem",options:{collectionName:"newsletters"}}},copyNewsletter:{url:"/school/newsletters/:id/copy",method:"POST",transformResponse:function(e){return e.newsletter},reducer:{name:"newsletters",type:"add",options:{collectionName:"newsletters"}}},getNewsletterPDF:{url:"/school/newsletters/:id/pdf",method:"POST",transformResponse:function(e){return e.pdf}},newsletter:{url:"/school/newsletters/:id",transformResponse:function(e){return e.newsletter},reducer:{name:"newsletter",initialState:[]}},newsletterTemplate:{url:"/school/newsletters/:id",transformResponse:function(e){return e.newsletter}},lessonLabels:{url:"/school/labels/lesson",transformResponse:function(e){return e.labels},reducer:{name:"lessonLabels",initialState:[]}},updateLessonLabel:{url:"/school/labels/lesson/:id",method:"patch",transformResponse:function(e){return e.label},reducer:{name:"lessonLabels",type:"patchItem"}},addLessonLabel:{url:"/school/labels/lesson/",method:"post",transformResponse:function(e){return e.label},reducer:{name:"lessonLabels",type:"add"}},deleteLessonLabel:{url:"/school/labels/lesson/:id",method:"delete",reducer:{name:"lessonLabels",type:"removeItem"}},newsletterRecipients:{url:"/school/newsletters/:id/recipients"},payouts:{url:"/school/billing/payouts",transformResponse:function(e){return e.payouts},reducer:{name:"payouts",initialState:[]}},viewPayout:{url:"/school/billing/payouts/:id",reducer:{name:"viewPayout",initialState:{payout:{},transactions:[]}}},analyticsSiso:{url:"/school/analytics/siso",transformResponse:function(e){return e.stats},cancellable:!1},analyticsStats:{url:"/school/analytics/school_stats",cancellable:!1,transformResponse:function(e){return e.stats},reducer:{name:"analyticsStats",initialState:{}}},analyticsActionItems:{url:"/school/analytics/action_items",transformResponse:function(e){return e.stats},cancellable:!1,reducer:{name:"analyticsActionItems",initialState:{}}},analyticsLeadCrm:{url:"/school/analytics/lead_crm",transformResponse:function(e){return e.stats},cancellable:!1},analyticsBilling:{url:"/school/analytics/billing",transformResponse:function(e){return e.stats},cancellable:!1},analyticsMessages:{url:"/school/analytics/messages",transformResponse:function(e){return e.stats},cancellable:!1},analyticsDailyActivities:{url:"/school/analytics/daily_activities",transformResponse:function(e){return e.stats},cancellable:!1},milestoneStandards:{url:"/school/milestones/standards",transformResponse:function(e){return e.standards},reducer:{name:"milestoneStandards",initialState:[]}},updateMilestoneStandard:{url:"/school/milestones/standards/:id",method:"patch",transformResponse:function(e){return e.standard},reducer:{name:"milestoneStandards",type:"patchItem"}},addMilestoneStandard:{url:"/school/milestones/standards/",method:"post",transformResponse:function(e){return e.standard},reducer:{name:"milestoneStandards",type:"add"}},markStandardProgress:{url:"/school/milestones/standards/:id/mark_progress",method:"post"},deleteMilestoneStandard:{url:"/school/milestones/standards/:id",method:"delete",reducer:{name:"milestoneStandards",type:"removeItem"}},reorderMilestoneStandards:{url:"/school/milestones/standards/reorder",method:"post"},milestoneMeasures:{url:"/school/milestones/measures",transformResponse:function(e){return e.measures},reducer:{name:"milestoneMeasures",initialState:[]}},updateMilestoneMeasure:{url:"/school/milestones/measures/:id",method:"patch",transformResponse:function(e){return e.measure},reducer:{name:"milestoneMeasures",type:"patchItem"}},addMilestoneMeasure:{url:"/school/milestones/measures/",method:"post",transformResponse:function(e){return e.measure},reducer:{name:"milestoneMeasures",type:"add"}},deleteMilestoneMeasure:{url:"/school/milestones/measures/:id",method:"delete",reducer:{name:"milestoneMeasures",type:"removeItem"}},markMeasureProgress:{url:"/school/milestones/measures/:id/mark_progress",method:"post"},markMeasureScale:{url:"/school/milestones/measures/:id/mark_scale",method:"post"},reorderMilestoneMeasures:{url:"/school/milestones/measures/reorder",method:"post"},milestonesStandards:{url:"/school/milestones/standards",transformResponse:function(e){return e.standards},reducer:{name:"milestonesStandards",initialState:[]}},milestoneIndicators:{url:"/school/milestones/indicators",transformResponse:function(e){return e.indicators},reducer:{name:"milestoneIndicators",initialState:[]}},updateMilestoneIndicator:{url:"/school/milestones/indicators/:id",method:"patch",transformResponse:function(e){return e.indicator},reducer:{name:"milestoneIndicators",type:"patchItem"}},addMilestoneIndicator:{url:"/school/milestones/indicators/",method:"post",transformResponse:function(e){return e.indicator},reducer:{name:"milestoneIndicators",type:"add"}},deleteMilestoneIndicator:{url:"/school/milestones/indicators/:id",method:"delete",reducer:{name:"milestoneIndicators",type:"removeItem"}},markIndicatorProgress:{url:"/school/milestones/indicators/:id/mark_progress",method:"post"},milestoneCategories:{url:"/school/categories/milestone",transformResponse:function(e){return e.categories},reducer:{name:"milestoneCategories",initialState:[]}},addMilestoneCategory:{url:"/school/categories/milestone/",method:"POST",transformResponse:function(e){return e.category},reducer:{name:"milestoneCategories",type:"add"}},updateMilestoneCategory:{url:"/school/categories/milestone/:id",method:"PATCH",transformResponse:function(e){return e.category},reducer:{name:"milestoneCategories",type:"patchItem"}},deleteMilestoneCategory:{url:"/school/categories/milestone/:id",method:"DELETE",reducer:{name:"milestoneCategories",type:"removeItem"}},lessonCategories:{url:"/school/lessons/categories",transformResponse:function(e){return e.categories},reducer:{name:"lessonCategories",initialState:[]}},addLessonCategory:{url:"/school/lessons/categories/",method:"POST",transformResponse:function(e){return e.category},reducer:{name:"lessonCategories",type:"add"}},updateLessonCategory:{url:"/school/lessons/categories/:id",method:"PATCH",transformResponse:function(e){return e.category},reducer:{name:"lessonCategories",type:"patchItem"}},deleteLessonCategory:{url:"/school/lessons/categories/:id",method:"DELETE",reducer:{name:"lessonCategories",type:"removeItem"}},milestoneProgresses:{url:"/school/milestones/progresses",transformResponse:function(e){return e.progresses},reducer:{name:"milestoneProgresses",initialState:[]}},reorderMilestoneProgresses:{url:"/school/milestones/progresses/reorder",method:"post"},updateMilestoneProgress:{url:"/school/milestones/progresses/:id",method:"patch",transformResponse:function(e){return e.progress},reducer:{name:"milestoneProgresses",type:"patchItem"}},addMilestoneProgress:{url:"/school/milestones/progresses/",method:"post",transformResponse:function(e){return e.progress},reducer:{name:"milestoneProgresses",type:"add"}},deleteMilestoneProgress:{url:"/school/milestones/progresses/:id",method:"delete",reducer:{name:"milestoneProgresses",type:"removeItem"}},assessments:{url:"/school/assessments",reducer:{name:"assessments",initialState:{page:0,per_page:0,total:0,kids:[],assessments:{}}}},assesmentsShare:{url:"/school/assessments/share",method:"post"},assessmentExport:{url:"/school/assessment/:id/pdf",transformResponse:function(e){return e.pdf}},kidAssessment:{url:"/school/assessment/:id",reducer:{name:"kidAssessment",initialState:{standards:[],measures:[]}}},kidAssessmentObservations:{url:"/school/assessment/:id/observations",transformResponse:function(e){return e.observations},reducer:{name:"kidAssessmentObservations",initialState:[]}},updateKidAssessmentObservations:{url:"/school/assessment/:id/manage_observations",method:"POST"},lesson:{url:"/school/lessons/:id",transformResponse:function(e){return e.lesson}},lessons:{url:"/school/lessons",reducer:{name:"lessons",initialState:{page:0,per_page:0,total:0,lessons:[]}}},createLesson:{url:"/school/lessons",method:"POST",transformResponse:function(e){return e.lesson},reducer:{name:"lessons",type:"add",options:{collectionName:"lessons"}}},updateLesson:{url:"/school/lessons/:id",method:"PATCH",transformResponse:function(e){return e.lesson},reducer:{name:"lessons",type:"patchItem",options:{collectionName:"lessons"}}},deleteLesson:{url:"/school/lessons/:id",method:"DELETE",transformResponse:function(e){return e.lesson},reducer:{name:"lessons",type:"removeItem",options:{collectionName:"lessons"}}},lessonPlan:{url:"/school/lessons/plans",reducer:{name:"lessonPlan",initialState:{}}},lessonPlanAdd:{url:"/school/lessons/plans/add_lesson",method:"POST"},lessonPlanDelete:{url:"/school/lessons/plans/remove_lesson",method:"POST"},lessonPlanPDF:{url:"/school/lessons/plans/pdf",transformResponse:function(e){return e.pdf}},copyLessonPlan:{url:"/school/lessons/plans/copy",method:"POST"},meal:{url:"/school/meals/:id",transformResponse:function(e){return e.meal}},meals:{url:"/school/meals",reducer:{name:"meals",initialState:{page:0,per_page:0,total:0,meals:[]}}},createMeal:{url:"/school/meals",method:"POST",transformResponse:function(e){return e.meal},reducer:{name:"meals",type:"add",options:{collectionName:"meals"}}},updateMeal:{url:"/school/meals/:id",method:"PATCH",transformResponse:function(e){return e.meal},reducer:{name:"meals",type:"patchItem",options:{collectionName:"meals"}}},deleteMeal:{url:"/school/meals/:id",method:"DELETE",transformResponse:function(e){return e.meal},reducer:{name:"meals",type:"removeItem",options:{collectionName:"meals"}}},mealLabels:{url:"/school/labels/meal",transformResponse:function(e){return e.labels},reducer:{name:"mealLabels",initialState:[]}},updateMealLabel:{url:"/school/labels/meal/:id",method:"patch",transformResponse:function(e){return e.label},reducer:{name:"mealLabels",type:"patchItem"}},addMealLabel:{url:"/school/labels/meal/",method:"post",transformResponse:function(e){return e.label},reducer:{name:"mealLabels",type:"add"}},deleteMealLabel:{url:"/school/labels/meal/:id",method:"delete",reducer:{name:"mealLabels",type:"removeItem"}},mealPlan:{url:"/school/meals/plans",reducer:{name:"mealPlan",initialState:{}}},mealPlanAdd:{url:"/school/meals/plans/add_meal",method:"POST"},mealPlanDelete:{url:"/school/meals/plans/remove_meal",method:"POST"},mealPlanPDF:{url:"/school/meals/plans/pdf",transformResponse:function(e){return e.pdf}},mealPlanShare:{url:"/school/meals/plans/share",method:"POST"},copyMealPlan:{url:"/school/meals/plans/copy",method:"POST"},crmTasks:{url:"/school/enrollments/tasks",reducer:{name:"crmTasks",initialState:{page:0,per_page:0,total:0,tasks:[]}}},createCrmNote:{url:"/school/enrollments/:enrollment_id/notes",method:"POST",transformResponse:function(e){return e.note}},updateCrmNote:{url:"/school/enrollments/:enrollment_id/notes/:id",method:"PATCH",transformResponse:function(e){return e.note}},deleteCrmNote:{url:"/school/enrollments/:enrollment_id/notes/:id",method:"DELETE",transformResponse:function(e){return e.note}},createCrmTask:{url:"/school/enrollments/tasks",method:"POST",transformResponse:function(e){return e.task},reducer:{name:"crmTasks",type:"add",options:{collectionName:"tasks"}}},updateCrmTask:{url:"/school/enrollments/tasks/:id",method:"PATCH",transformResponse:function(e){return e.task},reducer:{name:"crmTasks",type:"patchItem",options:{collectionName:"tasks"}}},deleteCrmTask:{url:"/school/enrollments/tasks/:id",method:"DELETE",transformResponse:function(e){return e.task},reducer:{name:"crmTasks",type:"removeItem",options:{collectionName:"tasks"}}},customReports:{url:"/school/custom_reports",transformResponse:function(e){return e.reports},reducer:{name:"customReports",initialState:{}}},enrollmentsMessages:{url:"/school/enrollments/messages",reducer:{name:"enrollmentsMessages",initialState:{page:0,per_page:0,total:0,messages:[]}}},enrollmentsMessageTest:{url:"/school/enrollments/messages/test_email",method:"POST"},enrollmentsMessageSave:{url:"/school/enrollments/messages",method:"post",transformResponse:function(e){return e.message},reducer:{name:"enrollmentsMessages",type:"add",options:{collectionName:"messages"}}},enrollmentsMessageUpdate:{url:"/school/enrollments/messages/:id",method:"patch",transformResponse:function(e){return e.message},reducer:{name:"enrollmentsMessages",type:"patchItem",options:{collectionName:"messages"}}},enrollmentsMessageDelete:{url:"/school/enrollments/messages/:id",method:"DELETE",reducer:{name:"enrollmentsMessages",type:"removeItem",options:{collectionName:"messages"}}},enrollmentMessageEnrollments:{url:"/school/enrollments/messages/:id/enrollments",method:"GET"},enrollmentsMessageTemplates:{url:"/school/enrollments/messages",reducer:{name:"enrollmentsMessageTemplates",initialState:{page:0,per_page:0,total:0,messages:[]}}},updateEnrollmentsMessageTemplate:{url:"/school/enrollments/messages/:id",method:"patch",transformResponse:function(e){return e.message},reducer:{name:"enrollmentsMessageTemplates",type:"patchItem",options:{collectionName:"messages"}}},addEnrollmentsMessageTemplate:{url:"/school/enrollments/messages",method:"post",transformResponse:function(e){return e.message},reducer:{name:"enrollmentsMessageTemplates",type:"add",options:{collectionName:"messages"}}},deleteEnrollmentsMessageTemplate:{url:"/school/enrollments/messages/:id",method:"delete",reducer:{name:"enrollmentsMessageTemplates",type:"removeItem",options:{collectionName:"messages"}}},enrollmentsSentMessages:{url:"/school/enrollments/sent_messages",reducer:{name:"enrollmentsSentMessages",initialState:{page:0,per_page:0,total:0,sent_messages:[]}}},enrollmentsSentMessagesStats:{url:"/school/enrollments/sent_messages/stats",transformResponse:function(e){return e.stats},reducer:{name:"enrollmentsSentMessagesStats",initialState:{}}},emergencyReport:{url:"/school/kids/emergency_pdf"},printAllergyCards:{url:"/school/kids/allergy_pdf"},printEmergencyCards:{url:"/school/kids/emergency_cards_pdf"},automationRule:{url:"/school/automation/rules/:id",transformResponse:function(e){return e.rule}},automationRules:{url:"/school/automation/rules",transformResponse:function(e){return e.rules},reducer:{name:"automationRules",initialState:[]}},createAutomationRule:{url:"/school/automation/rules",method:"POST",transformResponse:function(e){return e.rule},reducer:{name:"automationRules",type:"add"}},updateAutomationRule:{url:"/school/automation/rules/:id",method:"PATCH",transformResponse:function(e){return e.rule},reducer:{name:"automationRules",type:"patchItem"}},deleteAutomationRule:{url:"/school/automation/rules/:id",method:"DELETE",transformResponse:function(e){return e.rule},reducer:{name:"automationRules",type:"removeItem"}},automationActions:{url:"/school/automation/rules/:ruleId/actions",transformResponse:function(e){return e.actions},reducer:{name:"automationActions",initialState:[]}},createAutomationAction:{url:"/school/automation/rules/:ruleId/actions",method:"POST",transformResponse:function(e){return e.action},reducer:{name:"automationActions",type:"add"}},updateAutomationAction:{url:"/school/automation/rules/:ruleId/actions/:id",method:"PATCH",transformResponse:function(e){return e.action},reducer:{name:"automationActions",type:"patchItem"}},deleteAutomationAction:{url:"/school/automation/rules/:ruleId/actions/:id",method:"DELETE",transformResponse:function(e){return e.action},reducer:{name:"automationActions",type:"removeItem"}},unapprovedConversations:{url:"/school/conversations/unapproved",reducer:{name:"unapprovedConversations",initialState:{page:0,per_page:0,total:0,messages:[]}}},unapprovedMessageCount:{url:"/school/conversations/unapproved_count",reducer:{name:"unapprovedMessageCount",initialState:{unapproved_messages_count:0}}},conversations:{url:"/school/conversations",reducer:{name:"conversations",initialState:{page:0,per_page:0,total:0,unapproved_messages_count:0,messages:[]}}},staffInboxMessages:{url:"/school/conversations/staff_messages",reducer:{name:"staffInboxMessages",initialState:{page:0,per_page:0,total:0,messages:[]}}},staffSentMessages:{url:"/school/conversations/staff_messages",reducer:{name:"staffSentMessages",initialState:{page:0,per_page:0,total:0,messages:[]}}},conversation:{url:"/school/conversation",reducer:{name:"conversation",initialState:{page:0,per_page:0,total:0,messages:[],kid:{}}}},sendMessage:{url:"/school/conversations",method:"POST"},edocsStats:{url:"/school/electronic_documents/stats",transformResponse:function(e){return e.stats},method:"GET",reducer:{name:"edocsStats",initialState:{}}},edocsPermissionCheck:{url:"/school/electronic_documents/stats",method:"GET"},edoc:{url:"/school/electronic_documents/:id",transformResponse:function(e){return e.document},reducer:{name:"edoc",initialState:{}}},signerEdoc:{url:"/electronic_documents",transformResponse:function(e){return e.document},reducer:{name:"signerEdoc"}},signerEdocSchool:{url:"/electronic_documents",transformResponse:function(e){return e.school},reducer:{name:"signerEdocSchool"}},updateSignerEdoc:{url:"/electronic_documents",method:"patch",transformResponse:function(e){return e.document},reducer:{name:"signerEdoc",options:{collectionName:"document"}}},createEdoc:{url:"/school/electronic_documents",method:"post",transformResponse:function(e){return e.document},reducer:{name:"edoc"}},edocSendReminder:{url:"/school/electronic_documents/:id/send_reminder",method:"post"},updateEdoc:{url:"/school/electronic_documents/:id",method:"patch",transformResponse:function(e){return e.document},reducer:{name:"edoc"}},edocs:{url:"/school/electronic_documents",reducer:{name:"edocs",initialState:{page:0,per_page:0,total:0,documents:[]}}},addEdocsDocument:{url:"/school/electronic_documents",method:"post"},deleteEdocsDocument:{url:"/school/electronic_documents/:id",method:"delete",reducer:{name:"edocs",type:"removeItem",options:{collectionName:"documents"}}},teacherDocs:{url:"/school/teachers/:teacherId/documents",reducer:{name:"teacherDocs",initialState:{page:0,per_page:0,total:0,documents:[]}}},teacherDoc:{url:"/school/teachers/:teacherId/documents/:id",transformResponse:function(e){return e.document}},createTeacherDoc:{url:"/school/teachers/:teacherId/documents",method:"POST",transformResponse:function(e){return e.document},reducer:{name:"teacherDocs",type:"add",options:{collectionName:"documents"}}},updateTeacherDoc:{url:"/school/teachers/:teacherId/documents/:id",method:"PATCH",transformResponse:function(e){return e.document},reducer:{name:"teacherDocs",type:"patchItem",options:{collectionName:"documents"}}},deleteTeacherDoc:{url:"/school/teachers/:teacherId/documents/:id",method:"DELETE",reducer:{name:"teacherDocs",type:"removeItem",options:{collectionName:"documents"}}},enrollmentDocs:{url:"/school/enrollments/:enrollmentId/documents",reducer:{name:"enrollmentDocs",initialState:{page:0,per_page:0,total:0,documents:[]}}},enrollmentDoc:{url:"/school/enrollments/:enrollmentId/documents/:id",transformResponse:function(e){return e.document}},createEnrollmentDoc:{url:"/school/enrollments/:enrollmentId/documents",method:"POST",transformResponse:function(e){return e.document},reducer:{name:"enrollmentDocs",type:"add",options:{collectionName:"documents"}}},updateEnrollmentDoc:{url:"/school/enrollments/:enrollmentId/documents/:id",method:"PATCH",transformResponse:function(e){return e.document},reducer:{name:"enrollmentDocs",type:"patchItem",options:{collectionName:"documents"}}},deleteEnrollmentDoc:{url:"/school/enrollments/:enrollmentId/documents/:id",method:"DELETE",reducer:{name:"enrollmentDocs",type:"removeItem",options:{collectionName:"documents"}}},pinSearch:{url:"/pins/search"},staffPinSearch:{url:"/siso_teachers/pin_search"},staffPinSignin:{url:"/siso_teachers",method:"POST"},staffPinSignOut:{url:"/siso_teachers/:id",method:"PUT"},batchKidsSignIn:{url:"/siso_kids/batch_signin",method:"POST"},batchKidsSignOut:{url:"/siso_kids/batch_signout",method:"POST"},programs:{url:"/school/programs",reducer:{name:"programs",initialState:{page:0,per_page:0,total:0,programs:[]}}},allActivePrograms:{url:"/school/programs",transformRequest:function(e){return b(b({},e),{},{per_page:1e3,enabled:!0})},transformResponse:function(e){return e.programs},reducer:{name:"allActivePrograms",initialState:[]}},program:{url:"/school/programs/:id",transformResponse:function(e){return e.program},reducer:{name:"program",initialState:null}},deactivatedPrograms:{url:"/school/programs",reducer:{name:"deactivatedPrograms",initialState:{page:0,per_page:0,total:0,programs:[]}}},updateProgram:{url:"/school/programs/:id",method:"patch",transformResponse:function(e){return e.program},reducer:{name:"programs",type:"patchItem",options:{collectionName:"programs"}}},activateProgram:{url:"/school/programs/:id",method:"PATCH",transformRequest:function(e){return b(b({},e),{},{program:{enabled:!0}})},transformResponse:function(e){return e.program},reducer:{name:"deactivatedPrograms",type:"removeItem",options:{collectionName:"programs"}}},deactivateProgram:{url:"/school/programs/:id",method:"PATCH",transformRequest:function(e){return b(b({},e),{},{program:{enabled:!1}})},transformResponse:function(e){return e.program},reducer:{name:"programs",type:"removeItem",options:{collectionName:"programs"}}},batchUpdateProgramSessions:{method:"POST",url:"/school/programs/program_sessions/batch_update"},syncWithDesktop:{url:"/school/procare/sync",method:"POST"},createProgram:{url:"/school/programs",method:"POST"},programStudents:{url:"/school/programs/kids",reducer:{name:"programStudents",initialState:{page:0,per_page:0,total:0,kids:[]}}},batchUpdateProgramStudents:{url:"/school/programs/session_kids/batch_update",method:"POST"},reassignProgramStudents:{url:"/school/programs/session_kids/reassign",method:"POST"},programStaff:{url:"/school/programs/teachers",reducer:{name:"programStaff",initialState:{page:0,per_page:0,total:0,teachers:[]}}},batchUpdateProgramRooms:{url:"/school/programs/sections/batch_update",method:"POST"},batchUpdateProgramStaff:{url:"/school/programs/session_teachers/batch_update",method:"POST"},reassignProgramStaff:{url:"/school/programs/session_teachers/reassign",method:"POST"},programEnrollableStudents:{url:"/school/programs/:id/enrollable_kids",transformResponse:function(e){return e.enrollable_kids},reducer:{name:"programEnrollableStudents",initialState:[]}},programEnrollableStaff:{url:"/school/programs/:id/enrollable_teachers",transformResponse:function(e){return e.enrollable_teachers},reducer:{name:"programEnrollableStaff",initialState:[]}},parentRelationTypes:{url:"/parent/relation_types",transformResponse:function(e){return e.relation_types},reducer:{name:"relationTypes",initialState:[]}},schoolRelationTypes:{url:"/school/relation_types",transformResponse:function(e){return e.relation_types},reducer:{name:"relationTypes",initialState:[]}},addSchoolRelationType:{url:"/school/relation_types/",method:"POST",transformResponse:function(e){return e.relation_type},reducer:{name:"relationTypes",type:"add"}},updateSchoolRelationType:{url:"/school/relation_types/:id",method:"PATCH",transformResponse:function(e){return e.relation_type},reducer:{name:"relationTypes",type:"patchItem"}},deleteSchoolRelationType:{url:"/school/relation_types/:id",method:"DELETE",reducer:{name:"relationTypes",type:"removeItem"}},programInsights:{url:"/school/insights/sections/:id/enrollments",transformResponse:function(e){return e.section},reducer:{name:"programInsights",type:"addOrPatchItem",initialState:[]},cancellable:!1}};t.a=v},,,,,,,,,,,,,function(e,t,n){"use strict";function r(e){return Array.isArray(e)?e.length>0:"string"==typeof e?e.trim().length>0:"boolean"==typeof e?e:null!=e}function o(e,t){return e.map((function(e){return t[e]})).every(r)}n.d(t,"a",(function(){return o}))},,function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(1),i=n.n(a),l=n(18);n(692);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var o=m(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(i,e);var t,n,r,a=f(i);function i(){return s(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){return o.a.createElement("div",{className:"loading-screen"},o.a.createElement(l.a,{large:!0}),o.a.createElement("div",{className:"loading-screen__text"},this.props.children))}}])&&u(t.prototype,n),r&&u(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component);y(b,"propTypes",{children:i.a.node}),y(b,"defaultProps",{children:"Loading..."}),t.a=b},function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return P}));var r,o,a,i=n(0),l=n.n(i),c=n(1),s=n.n(c),u=n(66),p=n.n(u),f=n(612),d=n.n(f),m=n(3),y=n.n(m),b=n(49),h=n(192),v=n(15);n(1009);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k(e);if(t){var o=k(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O(this,n)}}function O(e,t){if(t&&("object"===g(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e,t,n,r,o){var a={};return Object.keys(r).forEach((function(e){a[e]=r[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var S={Monthly:"monthly",Weekly:"weekly",Biweekly:"biweekly",Daily:"daily",Custom:"range"},P=function(e,t){if(!d()(S).includes(t))return null;var n=[],r=t===S.Monthly?"month":"daily"===t?"day":"isoWeek",o=t===S.Biweekly?y()(e).add(1,"week").toDate():e;return n.push(y()(e).startOf(r).toDate(),y()(o).endOf(r).toDate()),n},C=(a=o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w(e,t)}(a,e);var t,n,r,o=x(a);function a(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),t=o.call(this,e);var n=e.defaultValue&&e.defaultValue.type||"monthly",r=e.defaultValue&&e.defaultValue.date||new Date;return t.state={type:n,date:y()(r).toDate(),dateRange:P(r,n)},t}return t=a,(n=[{key:"shouldComponentUpdate",value:function(e,t){return!p()(this.props,e)||!p()(this.state,t)}},{key:"componentDidUpdate",value:function(e,t){var n=this.getValue(t),r=this.getValue();p()(n,r)||this.handleChange()}},{key:"getValue",value:function(e){var t=e||this.state;return{type:t.type,dateRange:[y()(t.dateRange[0]).format("YYYY-MM-DD"),y()(t.dateRange[1]).format("YYYY-MM-DD")]}}},{key:"handleChange",value:function(){this.props.onChange&&this.props.onChange(this.getValue())}},{key:"changeDateRange",value:function(e){Array.isArray(e)?this.setState({dateRange:e}):this.setState({dateRange:[e,e]})}},{key:"setMonthPickerValue",value:function(e){var t=parseInt(y()(e).format("MM"),10),n=parseInt(y()(e).format("YYYY"),10);this.monthPickerRef.setValue(t-1,n)}},{key:"changeMonth",value:function(e){this.changeDateRange(e)}},{key:"changeMonthPicker",value:function(e){this.setState({dateRange:e})}},{key:"changeType",value:function(e){this.setState({type:e,dateRange:P(this.state.date,e)})}},{key:"render",value:function(){var e=this,t=this.state,n=t.type,r=t.date,o=t.dateRange,a=this.props,i=a.disabled,c=a.disableFuture,s=a.disableBiweekly,u=a.disableDaily,p=a.hasCustom,f=a.displayDateRange,d=[];return u||d.push(l.a.createElement(v.a.Item,{key:"daily",value:"daily",label:"Daily"})),d.push(l.a.createElement(v.a.Item,{key:"weekly",value:"weekly",label:"Weekly"})),s||d.push(l.a.createElement(v.a.Item,{key:"biweekly",value:"biweekly",label:"Bi-weekly"})),d.push(l.a.createElement(v.a.Item,{key:"monthly",value:"monthly",label:"Monthly"})),p&&d.push(l.a.createElement(v.a.Item,{key:"range",value:"range",label:"Custom"})),l.a.createElement("div",{className:"date-filter"},l.a.createElement(v.a,{type:"radio",className:"date-filter__type",onChange:this.changeType,checked:this.state.type,disabled:i,"data-cy":"date-filter"},d),l.a.createElement("div",{className:"date-filter__date"},"monthly"===n?l.a.createElement(h.a,{"data-cy":"date-filter-month-picker",onChange:this.changeMonthPicker,defaultValue:r,disabled:i,disableFuture:c,displayDateRange:f,ref:function(t){return e.monthPickerRef=t}}):l.a.createElement(b.a,{"data-cy":"date-filter-date-picker",type:n,value:"daily"===n?o[0]:o,onChange:this.changeDateRange,disabled:i,disableFuture:c})))}}])&&_(t.prototype,n),r&&_(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.Component),j(o,"propTypes",{disabled:s.a.bool,disableFuture:s.a.bool,disableDaily:s.a.bool,disableBiweekly:s.a.bool,displayDateRange:s.a.bool,onChange:s.a.func}),j(o,"defaultProps",{disabled:!1,disableFuture:!1,disableDaily:!0,displayDateRange:!1}),E((r=a).prototype,"handleChange",[e],Object.getOwnPropertyDescriptor(r.prototype,"handleChange"),r.prototype),E(r.prototype,"changeDateRange",[e],Object.getOwnPropertyDescriptor(r.prototype,"changeDateRange"),r.prototype),E(r.prototype,"setMonthPickerValue",[e],Object.getOwnPropertyDescriptor(r.prototype,"setMonthPickerValue"),r.prototype),E(r.prototype,"changeMonth",[e],Object.getOwnPropertyDescriptor(r.prototype,"changeMonth"),r.prototype),E(r.prototype,"changeMonthPicker",[e],Object.getOwnPropertyDescriptor(r.prototype,"changeMonthPicker"),r.prototype),E(r.prototype,"changeType",[e],Object.getOwnPropertyDescriptor(r.prototype,"changeType"),r.prototype),r);t.a=C}).call(this,n(4).bind)},,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(1),i=n.n(a),l=n(7),c=n.n(l),s=n(2);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b(e);if(t){var o=b(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){if(t&&("object"===u(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(i,e);var t,n,r,a=m(i);function i(){return p(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"renderEdit",value:function(){var e=this.props,t=e.item,n=e.valueField,r=e.placeholder,a=e.onChange;return o.a.createElement(s.a,{onChange:a},o.a.createElement(s.a.Input,{name:n,placeholder:r,defaultValue:t.name}))}},{key:"renderShow",value:function(){return this.props.item[this.props.valueField]}},{key:"render",value:function(){return o.a.createElement("div",{className:c()("manage-list-default-item",this.props.className)},this.props.isEdit?this.renderEdit():this.renderShow())}}])&&f(t.prototype,n),r&&f(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.PureComponent);h(v,"propTypes",{item:i.a.object,className:i.a.string,valueField:i.a.string,placeholder:i.a.string,isEdit:i.a.bool,onChange:i.a.func}),h(v,"defaultProps",{item:{},valueField:"name"}),t.default=v},function(e,t,n){"use strict";n.r(t),function(e){var r,o,a,i=n(0),l=n.n(i),c=n(1),s=n.n(c),u=n(20),p=n.n(u),f=n(6),d=n(152);n(1247);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_(e);if(t){var o=_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g(this,n)}}function g(e,t){if(t&&("object"===m(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e,t,n,r,o){var a={};return Object.keys(r).forEach((function(e){a[e]=r[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var O=(a=o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(a,e);var t,n,r,o=v(a);function a(){return y(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"openGallery",value:function(){var e=this.props.onOpenGallery;e&&e()}},{key:"openUpload",value:function(){var e=this.props.onOpenUpload;e&&e()}},{key:"renderEmptyPanel",value:function(){return l.a.createElement("div",{className:"photo-activity-panel__empty"},l.a.createElement("span",{className:"photo-activity-panel__open-btn",onClick:this.openUpload,"data-cy":"upload-photos"},"Upload Photos"),l.a.createElement("span",{className:"photo-activity-panel__empty-divider"},"or"),l.a.createElement("span",{className:"photo-activity-panel__open-btn",onClick:this.openGallery},"Select Photos"))}},{key:"renderPhotos",value:function(){var e=this.props,t=e.photos,n=e.selectedPhotoIds,r=e.uploaded,o={};t.forEach((function(e){o[e.id]=e}));var a=n.filter((function(e){return o[e]})).map((function(e){return l.a.createElement(d.default,{key:e,url:r?o[e].data:o[e].thumb_url})}));return l.a.createElement("div",{className:"photo-activity-panel__photos"},l.a.createElement(p.a,{className:"photo-activity-panel__photos-scroll"},l.a.createElement("div",{className:"photo-activity-panel__photos-list"},a)))}},{key:"render",value:function(){var e=this.props,t=e.selectedPhotoIds,n=e.uploaded,r=0===t.length,o=r?"Photos":"Photos (".concat(t.length," selected)"),a=r?this.renderEmptyPanel():this.renderPhotos();return l.a.createElement("div",{className:"photo-activity-panel"},l.a.createElement("div",{className:"photo-activity-panel__header"},l.a.createElement("div",{className:"photo-activity-panel__title"},o),l.a.createElement(f.a,{className:"photo-activity-panel__manage-btn",onClick:this.openGallery,size:12,iconName:"manage",title:"Manage",hidden:r||n}),l.a.createElement(f.a,{className:"photo-activity-panel__manage-btn",onClick:this.openUpload,size:12,iconName:"upload-1",title:"Upload more",hidden:!n})),a)}}])&&b(t.prototype,n),r&&b(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.Component),w(o,"propTypes",{uploaded:s.a.bool,photos:s.a.array,selectedPhotoIds:s.a.array,onOpenGallery:s.a.func,onOpenUpload:s.a.func}),w(o,"defaultProps",{selectedPhotoIds:[]}),x((r=a).prototype,"openGallery",[e],Object.getOwnPropertyDescriptor(r.prototype,"openGallery"),r.prototype),x(r.prototype,"openUpload",[e],Object.getOwnPropertyDescriptor(r.prototype,"openUpload"),r.prototype),r);t.default=O}.call(this,n(4).bind)},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(2);t.default=function(e){var t=e.leadStages,n=e.leadSources,i=e.values,l=i.parent_email,c=void 0===l?"":l,s=i.parent_phone,u=void 0===s?"":s,p=0===c.trim().length&&0===u.trim().length;return o.a.createElement(r.Fragment,null,o.a.createElement("div",{className:"form__row create-person__lead-label"},"Student Information"),o.a.createElement("div",{className:"form__row form__row--justified"},o.a.createElement(a.a.Input,{label:"First Name",placeholder:"First Name",name:"first_name","data-cy":"first_name",required:!0,asterisk:!0}),o.a.createElement(a.a.Input,{label:"Last Name",placeholder:"Last Name",name:"last_name","data-cy":"last_name",required:!0,asterisk:!0})),o.a.createElement("div",{className:"form__row form__row--justified"},o.a.createElement(a.a.DatePicker,{className:"create-person__lead-dob",label:"Date of Birth",name:"dob",required:!0,asterisk:!0,"data-cy":"dob"}),o.a.createElement(a.a.Select,{label:"Lead Status",title:"Lead Status",name:"state_id",required:!0,asterisk:!0,"data-cy":"state_id",defaultValue:(t.find((function(e){return"pending"===e.kind}))||{}).id},t.map((function(e){return o.a.createElement(a.a.Select.Item,{key:e.id,value:e.id,label:e.name})})))),o.a.createElement("div",{className:"create-person__lead-separator"}),o.a.createElement("div",{className:"form__row create-person__lead-label"},"Parent 1"),o.a.createElement("div",{className:"form__row form__row--justified"},o.a.createElement(a.a.Input,{label:"Parent First Name",placeholder:"First Name",name:"parent_first_name","data-cy":"parent_first_name",required:!0,asterisk:!0}),o.a.createElement(a.a.Input,{label:"Parent Last Name",placeholder:"Last Name",name:"parent_last_name","data-cy":"parent_last_name",required:!0,asterisk:!0})),o.a.createElement("div",{className:"form__row  form__row--justified"},o.a.createElement(a.a.Input,{label:"Parent Email",type:"email",placeholder:"Email",name:"parent_email","data-cy":"parent_email",required:p}),o.a.createElement(a.a.Input,{label:"Parent Phone",placeholder:"Phone Number",name:"parent_phone","data-cy":"parent_phone",mask:"999-999-999999999",required:p})),o.a.createElement("div",{className:"create-person--lead__carer-validation-text"},"At least Email or Phone should be set"),o.a.createElement("div",{className:"form__row form__row--justified"},o.a.createElement(a.a.Select,{label:"How did you hear about us?",name:"source_id","data-cy":"source_id",title:"Select Source",required:!0,asterisk:!0},n.map((function(e){var t=e.id,n=e.name;return o.a.createElement(a.a.Select.Item,{key:t,value:t,label:n})})))))}},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(2);function i(){return o.a.createElement(r.Fragment,null,o.a.createElement("div",{className:"form__row form__row--justified"},o.a.createElement(a.a.Input,{label:"Name",placeholder:"Name",name:"name","data-cy":"name",required:!0,asterisk:!0}),o.a.createElement("div",{className:"create-person__staff-email"},o.a.createElement(a.a.Input,{label:"Email",placeholder:"Email",name:"email"}),o.a.createElement(a.a.Checkbox,{className:"create-person__send-invite",defaultValue:!0,name:"send_invite",label:"Invite to Procare"}))),o.a.createElement("div",{className:"form__row  form__row--justified"},o.a.createElement(a.a.Select,{label:"Role",name:"is_admin",defaultValue:"non-admin"},o.a.createElement(a.a.Select.Item,{value:"admin",label:"Admin"}),o.a.createElement(a.a.Select.Item,{value:"non-admin",label:"Non-Admin"}))))}i.ADMIN="admin",t.default=i},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(2);t.default=function(e){var t=e.rooms;return o.a.createElement(r.Fragment,null,o.a.createElement("div",{className:"form__row form__row--justified"},o.a.createElement(a.a.Input,{label:"First Name",placeholder:"First Name",name:"first_name","data-cy":"first-name",required:!0,asterisk:!0}),o.a.createElement(a.a.Input,{label:"Last Name",placeholder:"Last Name",name:"last_name"})),o.a.createElement("div",{className:"form__row form__row--justified"},o.a.createElement(a.a.Select,{label:"Room","data-cy":"room",name:"current_section_id",title:"Select Room",required:!0,asterisk:!0},t.map((function(e){return o.a.createElement(a.a.Select.Item,{key:e.id,value:e.id,label:e.name})})))))}},function(e,t,n){var r=n(1400);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(9)(r,o);r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(1403);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(9)(r,o);r.locals&&(e.exports=r.locals)},,function(e,t,n){var r=n(1520);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(9)(r,o);r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(1560);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(9)(r,o);r.locals&&(e.exports=r.locals)},,function(e,t,n){"use strict";(function(e){var r,o,a,i=n(0),l=n.n(i),c=n(1),s=n.n(c),u=n(104),p=n.n(u),f=n(7),d=n.n(f),m=n(20),y=n.n(m),b=n(144),h=n(19);n(1121);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k(e);if(t){var o=k(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return x(this,n)}}function x(e,t){if(t&&("object"===v(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return O(e)}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e,t,n,r,o){var a={};return Object.keys(r).forEach((function(e){a[e]=r[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var S=(a=o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_(e,t)}(a,e);var t,n,r,o=w(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),j(O(t=o.call(this,e)),"containerRef",l.a.createRef()),t.state={showing:0},t.recalculateShowing=p()(t.recalculateShowing,t.props.delay),t}return t=a,r=[{key:"getAbsoluteWidth",value:function(e){var t=window.getComputedStyle(e),n=parseFloat(t.marginLeft)+parseFloat(t.marginRight);return Math.ceil(e.offsetWidth+n)}},{key:"getAbsoluteHeight",value:function(e){var t=window.getComputedStyle(e),n=parseFloat(t.marginTop)+parseFloat(t.marginBottom);return Math.ceil(e.offsetHeight+n)}}],(n=[{key:"componentDidMount",value:function(){this.calculateShowing(),this.addEventListeners()}},{key:"componentWillUnmount",value:function(){this.removeEventListeners()}},{key:"addEventListeners",value:function(){window.addEventListener("resize",this.recalculateShowing)}},{key:"removeEventListeners",value:function(){window.removeEventListener("resize",this.recalculateShowing)}},{key:"getChildren",value:function(){return l.a.Children.toArray(this.props.children)}},{key:"calculateShowing",value:function(){var e=this.containerRef.current;if(null!==e){var t=e.querySelectorAll(".badge");if(0!==t.length){var n=a.getAbsoluteHeight(t[0]),r=e.offsetWidth,o=e.offsetHeight,i=this.props.lines;if(!(Math.round(o/n)<=i)){for(var l=0,c=0,s=r*i-80;c<=s;){var u=c+a.getAbsoluteWidth(t[l]);if(u>=s)break;c=u,l+=1}this.setState({showing:l})}}}}},{key:"recalculateShowing",value:function(){this.setState({showing:0},this.calculateShowing)}},{key:"renderChildren",value:function(){var e=this.state.showing,t=this.getChildren();return 0===e?t:t.slice(0,e)}},{key:"renderHorizontalTrack",value:function(){return l.a.createElement("div",null)}},{key:"renderHiddenBadge",value:function(){var e=this.getChildren(),t=e.length-this.state.showing;if(0===this.state.showing)return null;var n=l.a.createElement(y.a,{autoHeight:!0,renderTrackHorizontal:this.renderHorizontalTrack,autoHeightMax:200},l.a.createElement("div",{className:"badge-height-list__tooltip-content"},e.slice(-t)));return l.a.createElement(h.b,{tooltip:n,side:"right",white:!0,tooltipClassName:"badge-height-list__tooltip"},l.a.createElement(b.a,{children:"+".concat(t)}))}},{key:"render",value:function(){var e=d()("badge-height-list",this.props.className);return l.a.createElement("div",{ref:this.containerRef,className:e},this.renderChildren(),this.renderHiddenBadge())}}])&&g(t.prototype,n),r&&g(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.PureComponent),j(o,"propTypes",{lines:s.a.number,delay:s.a.number}),j(o,"defaultProps",{lines:1,delay:200}),E((r=a).prototype,"addEventListeners",[e],Object.getOwnPropertyDescriptor(r.prototype,"addEventListeners"),r.prototype),E(r.prototype,"removeEventListeners",[e],Object.getOwnPropertyDescriptor(r.prototype,"removeEventListeners"),r.prototype),E(r.prototype,"calculateShowing",[e],Object.getOwnPropertyDescriptor(r.prototype,"calculateShowing"),r.prototype),E(r.prototype,"recalculateShowing",[e],Object.getOwnPropertyDescriptor(r.prototype,"recalculateShowing"),r.prototype),r);t.a=S}).call(this,n(4).bind)},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(7),i=n.n(a),l=n(6),c=n(12);n(963);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b(e);if(t){var o=b(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(s,e);var t,n,r,a=m(s);function s(){return p(this,s),a.apply(this,arguments)}return t=s,(n=[{key:"render",value:function(){var e,t=this.props,n=t.children,r=t.visible,a=t.noCloseIcon,s=t.className,p=t.type,f=t.onClose,d=i()("modal",s,(u(e={},"modal--".concat(p),Boolean(p)),u(e,"modal--visible",r),u(e,"modal--ie",Object(c.N)()),e));return o.a.createElement("div",{className:d},o.a.createElement("div",{className:i()("modal__window",u({},"modal__window--".concat(p),p))},n,!a&&o.a.createElement(l.a,{iconName:"close",onClick:f,size:"slide"===p?16:12,className:"modal__close","data-cy":"modal-close"})))}}])&&f(t.prototype,n),r&&f(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}(r.Component);t.default=h},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n(12);function o(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,l=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){c=!0,i=e},f:function(){try{l||null==n.return||n.return()}finally{if(c)throw i}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(){var e,t=n(965),a={},i=o(t.keys());try{for(i.s();!(e=i.n()).done;){var l=e.value;a[l]=t(l).default}}catch(e){i.e(e)}finally{i.f()}return function(e){return a["./".concat(Object(r.b)(e),"/index.js")]}}},function(e,t,n){"use strict";n.r(t),function(e){var r,o,a,i=n(0),l=n.n(i),c=n(5),s=n(1),u=n.n(s),p=n(67),f=n(7),d=n.n(f),m=n(2),y=n(13),b=n(6),h=n(17),v=n(99),g=n(26),_=n(25);function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S(e);if(t){var o=S(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return E(this,n)}}function E(e,t){if(t&&("object"===w(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t,n,r,o){var a={};return Object.keys(r).forEach((function(e){a[e]=r[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var C,N,z,R=(a=o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k(e,t)}(a,e);var t,n,r,o=j(a);function a(){var e;x(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).state={isLoading:!1},e}return t=a,(n=[{key:"onAccountTypeChange",value:function(e){this.props.onUpdate({account_holder_type:e})}},{key:"onSubmit",value:function(e){var t=this,n=this.props,r=n.data,o=n.billingAccountType,a=n.stripeStandardPubKey,i=n.stripeCustomPubKey,l=n.fromReg,c=e.routing_number,s=e.account_number,u=e.institution_number,f=window.Stripe("custom"===o?i:a);this.props.onUpdate(e),this.setState({isLoading:!0}),f.createToken("bank_account",{account_holder_type:r.account_holder_type,routing_number:c,account_number:s,institution_number:u||void 0,account_holder_name:e.account_holder_name,country:r.country,currency:"usd"}).then((function(e){if(e.error)throw e.error;return req.addSchoolBillingAccount({token:e.token.id,country:r.country,channel:l?"school_registration":"billing",legal_entity_type:r.account_holder_type,school:{parent_payment_method:"parent_payment_method_any",parent_payment_fee_paid_by:r.parent_payment_fee_paid_by}})})).then((function(){var e=t.props.onClose;return Actions.showModal("Confirmation",{title:"Account Verification",description:"You will be redirected to account verification page to collect additional information about your business. Please confirm.",yesButton:"Yes",noButton:"No",yesButtonProps:{secondary:!1},noButtonProps:{secondary:!0}}).then((function(t){if(t)return req.connectUri({return_url:"".concat("https://schools.stage.procareconnect.com","/mobile/school/activate/result"),refresh_url:"".concat("https://schools.stage.procareconnect.com","/family/billing")}).then((function(t){g.b.push("/billing/redirecting"),window.location.href=t.url,e()})).catch((function(e){Actions.reportError("There was problem getting account connect uri",e)}))}))})).then((function(){return req.profile()})).then((function(){Object(p.IntercomAPI)("trackEvent","stripe_setup"),t.setState({isLoading:!1})})).catch((function(e){t.setState({isLoading:!1}),Actions.reportError("There was problem adding bank account",e)}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.data,r=t.title,o=n.country,a=this.state.isLoading;return l.a.createElement("div",{className:"modal__wrapper"},l.a.createElement("div",{className:"modal__header modal__header--bordered"},l.a.createElement(b.a,{iconName:"back",className:"school-activate__back",onClick:this.context.prevStep}),l.a.createElement("span",{className:"modal__header-title"},r)),l.a.createElement(m.a,{className:"modal__container school-activate__form",onSubmit:this.onSubmit,isLoading:a,validateOn:"submit"},l.a.createElement("div",{className:"school-activate__legend"},"Choose account type"),l.a.createElement("div",{className:"school-activate__desc"},"Please enter your checking account information."),l.a.createElement("div",{className:"form__row"},l.a.createElement(h.a,{className:d()("school-activate__checkbox",{"school-activate__checkbox--checked":"company"===n.account_holder_type}),label:"Corporation",checked:"company"===n.account_holder_type,type:"circle",onChange:function(){return e.onAccountTypeChange("company")}}),l.a.createElement(h.a,{className:d()("school-activate__checkbox",{"school-activate__checkbox--checked":"individual"===n.account_holder_type}),label:"Individual",checked:"individual"===n.account_holder_type,type:"circle",onChange:function(){return e.onAccountTypeChange("individual")}})),l.a.createElement("div",{className:"form__row form__row--justified"},l.a.createElement(m.a.Input,{defaultValue:n.account_holder_name,placeholder:"Account Holder Name",name:"account_holder_name",required:!0}),l.a.createElement(m.a.Input,{defaultValue:n.routing_number,placeholder:v.a[o],name:"routing_number",required:!0})),l.a.createElement("div",{className:"form__row form__row--justified"},l.a.createElement(m.a.Input,{defaultValue:n.account_number,placeholder:"Account Number",name:"account_number",required:!0}),l.a.createElement(m.a.Input,{defaultValue:n.confirm_account_number,placeholder:"Confirm Account Number",name:"confirm_account_number",required:!0})),l.a.createElement("div",{className:"form__row form__row--justified"},"CA"===o&&l.a.createElement(m.a.Input,{defaultValue:n.institution_number,placeholder:"Institution Number",name:"institution_number",required:!0})),l.a.createElement("div",{className:"school-activate__desc school-activate__desc--term"},"By signing up with us, you are agreeing to our"," ",l.a.createElement("a",{href:"https://www.procaresoftware.com/terms-of-use/procare-solutions-terms-of-use/",target:"_blank"},"Terms & Conditions")),l.a.createElement("div",{className:"school-activate__warning"},l.a.createElement("div",{className:"school-activate__warning-text"},l.a.createElement("span",{className:"school-activate__warning-small"},"Payout timeline for ACH/Bank: 2 business days, Credit Card: 1 business day.",l.a.createElement("br",null),"If you have any questions, please call ",l.a.createElement("span",{className:"school-activate__warning-strong"},"(877) 679-0950.")))),l.a.createElement("div",{className:"school-activate__warning"},l.a.createElement("div",{className:"school-activate__warning-text"},l.a.createElement(y.a,{name:"lock",size:20}),"Procare has the highest levels of PCI compliance for online payments.")),l.a.createElement("div",{className:"form__row form__row--actions"},l.a.createElement(m.a.Submit,{label:"Save & Continue"}))))}}])&&O(t.prototype,n),r&&O(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.Component),C=o,N="contextTypes",z={nextStep:u.a.func,prevStep:u.a.func},N in C?Object.defineProperty(C,N,{value:z,enumerable:!0,configurable:!0,writable:!0}):C[N]=z,P((r=a).prototype,"onAccountTypeChange",[e],Object.getOwnPropertyDescriptor(r.prototype,"onAccountTypeChange"),r.prototype),P(r.prototype,"onSubmit",[e],Object.getOwnPropertyDescriptor(r.prototype,"onSubmit"),r.prototype),r);t.default=Object(c.b)((function(e){return{billingAccountType:Object(_.a)(e,"billing_account_type"),stripeStandardPubKey:Object(_.c)(e),stripeCustomPubKey:Object(_.b)(e)}}))(R)}.call(this,n(4).bind)},function(e,t,n){"use strict";n.r(t),function(e){var r,o,a,i=n(0),l=n.n(i),c=n(5),s=n(1),u=n.n(s),p=n(2),f=n(422);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var o=g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v(this,n)}}function v(e,t){if(t&&("object"===d(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _,w,x,O,k,j,E,S,P,C=(a=o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(a,e);var t,n,r,o=h(a);function a(){return m(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"onSubmit",value:function(e){var t=this.props,n=t.onUpdate,r=t.checkFreeSchool,o=e.enrollment,a=e.facility_type;r()&&(n({enrollment:o,facility_type:a,payment_gateway:"te"}),this.context.goToStep("te"))}},{key:"render",value:function(){var e=this.props,t=e.data,n=e.facilityTypes,r=e.school,o=e.title,a=t.facility_type||r.facility_type,i=t.enrollment||r.enrollment;return l.a.createElement("div",{className:"modal__wrapper"},l.a.createElement("div",{className:"modal__header modal__header--bordered"},l.a.createElement("span",{className:"modal__header-title"},o)),l.a.createElement(p.a,{className:"modal__container school-activate__form school-activate__form--confirm-school",onSubmit:this.onSubmit,validateOn:"submit"},l.a.createElement("div",{className:"school-activate__legend"},"Verify your school info"),l.a.createElement("div",{className:"form__row form__row--justified"},l.a.createElement(p.a.Select,{name:"facility_type",label:"Your school type",title:"Confirm your school type",type:"radio",tabIndex:1,required:!0,defaultValue:a},Object.keys(n).map((function(e){return l.a.createElement(p.a.Select.Item,{key:e,value:e,label:n[e]})})))),l.a.createElement("div",{className:"form__row form__row--justified"},l.a.createElement(p.a.Input,{name:"enrollment",label:"How many active students monthly",tabIndex:2,naturalNumber:!0,type:"number",required:!0,defaultValue:i})),l.a.createElement(f.a,{size:100}),l.a.createElement("div",{className:"form__row form__row--actions"},l.a.createElement(p.a.Submit,{label:"Continue"}))))}}])&&y(t.prototype,n),r&&y(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.Component),E=o,S="contextTypes",P={nextStep:u.a.func,prevStep:u.a.func,goToStep:u.a.func},S in E?Object.defineProperty(E,S,{value:P,enumerable:!0,configurable:!0,writable:!0}):E[S]=P,_=(r=a).prototype,w="onSubmit",x=[e],O=Object.getOwnPropertyDescriptor(r.prototype,"onSubmit"),k=r.prototype,j={},Object.keys(O).forEach((function(e){j[e]=O[e]})),j.enumerable=!!j.enumerable,j.configurable=!!j.configurable,("value"in j||j.initializer)&&(j.writable=!0),j=x.slice().reverse().reduce((function(e,t){return t(_,w,e)||e}),j),k&&void 0!==j.initializer&&(j.value=j.initializer?j.initializer.call(k):void 0,j.initializer=void 0),void 0===j.initializer&&(Object.defineProperty(_,w,j),j=null),r);t.default=Object(c.b)((function(e){return{school:e.currentUser.data.current_school,facilityTypes:e.constants.data.facility_types}}))(C)}.call(this,n(4).bind)},function(e,t,n){"use strict";n.r(t),function(e){var r,o,a,i=n(0),l=n.n(i),c=n(1),s=n.n(c),u=n(10),p=n(100),f=n(5),d=n(11),m=n.n(d);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w(e);if(t){var o=w(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _(this,n)}}function _(e,t){if(t&&("object"===y(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t,n,r,o){var a={};return Object.keys(r).forEach((function(e){a[e]=r[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var O,k,j,E=(a=o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}(a,e);var t,n,r,o=g(a);function a(){return b(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"onChange",value:function(e){this.props.onUpdate({parent_payment_fee_paid_by:e})}},{key:"onContinue",value:function(){var e=this.props,t=e.onUpdate;(0,e.checkFreeSchool)()&&(t({payment_gateway:"stripe"}),this.context.goToStep("basic-info"))}},{key:"getSchoolDesc",value:function(){var e=this.props.feeBreakdown,t=m()(e,"stripe.paid_by_school.ach","$0.50"),n=m()(e,"stripe.paid_by_school.cc","2.95% + $0.50");return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"fee-payer__checkbox-desc__block"},l.a.createElement("span",{className:"fee-payer__checkbox-desc__label"},"ACH/Bank")," : ",t),l.a.createElement("div",{className:"fee-payer__checkbox-desc__block"},l.a.createElement("span",{className:"fee-payer__checkbox-desc__label"},"Credit Card")," : ",n),l.a.createElement("span",{className:"fee-payer__checkbox-desc__text"},"No fees paid by parent"))}},{key:"getParentDesc",value:function(){var e=this.props.feeBreakdown,t=m()(e,"stripe.paid_by_parent.ach","$0.95"),n=m()(e,"stripe.paid_by_parent.cc","2.95% + $0.95");return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"fee-payer__checkbox-desc__block"},l.a.createElement("span",{className:"fee-payer__checkbox-desc__label"},"ACH/Bank")," : ",t),l.a.createElement("div",{className:"fee-payer__checkbox-desc__block"},l.a.createElement("span",{className:"fee-payer__checkbox-desc__label"},"Credit Card")," : ",n),l.a.createElement("span",{className:"fee-payer__checkbox-desc__text"},"No fees paid by school"))}},{key:"render",value:function(){var e=this,t=this.props,n=t.data,r=t.title,o=t.byParentDisabled;return l.a.createElement("div",{className:"modal__wrapper"},l.a.createElement("div",{className:"modal__header modal__header--bordered"},l.a.createElement("span",{className:"modal__header-title"},r)),l.a.createElement("div",{className:"modal__container fee-payer__form"},l.a.createElement("div",{className:"fee-payer__legend"},"School or Parent"),l.a.createElement("div",{className:"fee-payer__desc"},"Choose who will pay for online transaction fee."),l.a.createElement("div",{className:"form__row"},l.a.createElement(p.a,{type:"circle",className:"fee-payer__checkbox",name:"parent",icon:"parent-connection",label:"parent pays",description:this.getParentDesc(),onChange:function(){return e.onChange("parent_payment_fee_paid_by_parent")},checked:"parent_payment_fee_paid_by_parent"===n.parent_payment_fee_paid_by,disabled:o,blur:o}),l.a.createElement(p.a,{type:"circle",className:"fee-payer__checkbox",name:"school",icon:"school",label:"school pays",description:this.getSchoolDesc(),onChange:function(){return e.onChange("parent_payment_fee_paid_by_school")},checked:"parent_payment_fee_paid_by_school"===n.parent_payment_fee_paid_by})),l.a.createElement("div",{className:"school-activate__warning"},l.a.createElement("div",{className:"school-activate__warning-text"},l.a.createElement("span",{className:"school-activate__warning-small"},"Payout timeline for ACH/Bank: 2 business days, Credit Card: 1 business day.",l.a.createElement("br",null),"If you have any questions, please call ",l.a.createElement("span",{className:"school-activate__warning-strong"},"(877) 679-0950.")))),l.a.createElement("div",{className:"form__row form__row--actions"},l.a.createElement(u.a,{label:"Continue",disabled:!n.parent_payment_fee_paid_by,onClick:this.onContinue}))))}}])&&h(t.prototype,n),r&&h(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.Component),O=o,k="contextTypes",j={nextStep:s.a.func,goToStep:s.a.func},k in O?Object.defineProperty(O,k,{value:j,enumerable:!0,configurable:!0,writable:!0}):O[k]=j,x((r=a).prototype,"onChange",[e],Object.getOwnPropertyDescriptor(r.prototype,"onChange"),r.prototype),x(r.prototype,"onContinue",[e],Object.getOwnPropertyDescriptor(r.prototype,"onContinue"),r.prototype),r);t.default=Object(f.b)((function(e){return{feeBreakdown:e.feeBreakdown.data||{}}}))(E)}.call(this,n(4).bind)},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(5),i=n(13);n(143);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var o=d(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(l,e);var t,n,r,a=p(l);function l(){return c(this,l),a.apply(this,arguments)}return t=l,(n=[{key:"componentWillMount",value:function(){window.localStorage.removeItem("verificationClosed")}},{key:"render",value:function(){var e=this.props,t=e.billingAccountStatus,n=e.billingStatusMessage,r=e.showTick,a=e.data;return o.a.createElement("div",{className:"school-activate__thankyou"},(r||"verified"===t)&&o.a.createElement("div",{className:"school-activate__thankyou-img"},o.a.createElement(i.a,{name:"tick",size:55})),o.a.createElement("div",{className:"school-activate__thankyou-title"},"te"===a.payment_gateway?"Thanks for reaching out and our support will get in touch.":"Thanks for setting up online billing."," ",o.a.createElement("br",null),!r&&n))}}])&&s(t.prototype,n),r&&s(t,r),Object.defineProperty(t,"prototype",{writable:!1}),l}(r.Component);t.default=Object(a.b)((function(e){return{billingAccountStatus:e.currentUser.data.current_school.billing_account_status,billingStatusMessage:e.currentUser.data.current_school.billing_status_message}}))(m)},function(e,t,n){"use strict";n.r(t),function(e){var r,o,a,i=n(0),l=n.n(i),c=n(1),s=n.n(c),u=n(5),p=n(13),f=n(10),d=n(6),m=n(11),y=n.n(m);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=x(e);if(t){var o=x(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return w(this,n)}}function w(e,t){if(t&&("object"===b(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t,n,r,o){var a={};return Object.keys(r).forEach((function(e){a[e]=r[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var k,j,E,S=(a=o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g(e,t)}(a,e);var t,n,r,o=_(a);function a(){return h(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"onContinue",value:function(){"stripe"===this.props.data.payment_gateway?this.context.nextStep():this.context.goToStep("te")}},{key:"prevStep",value:function(){"stripe"===this.props.data.payment_gateway?this.context.goToStep(0):this.context.prevStep()}},{key:"getFee",value:function(){var e=this.props,t=e.data,n=t.payment_gateway,r=t.parent_payment_fee_paid_by,o=e.feeBreakdown;return"stripe"===n?"parent_payment_fee_paid_by_parent"===r?y()(o,"stripe.paid_by_parent",{}):y()(o,"stripe.paid_by_school",{}):y()(o,"te.paid_by_school",{})}},{key:"render",value:function(){var e=this.props,t=e.data,n=t.payment_gateway,r=t.parent_payment_fee_paid_by,o=e.title,a=this.getFee();return l.a.createElement("div",{className:"modal__wrapper"},l.a.createElement("div",{className:"modal__header modal__header--bordered"},l.a.createElement(d.a,{iconName:"back",className:"school-activate__back",onClick:this.prevStep}),l.a.createElement("span",{className:"modal__header-title"},o)),l.a.createElement("div",{className:"modal__container school-activate__form"},"te"===n&&l.a.createElement("div",{className:"school-activate__good"},l.a.createElement("img",{src:"/assets/images/clap.png",className:"school-activate__good-img"}),l.a.createElement("div",{className:"school-activate__good-text"},l.a.createElement("span",{className:"school-activate__good-text__title"},"Good News!")," For your account we can provide the best transaction fee & payout timeline in the childcare market.")),"stripe"===n&&l.a.createElement("div",{className:"school-activate__good"},l.a.createElement("img",{src:"/assets/images/clap.png",className:"school-activate__good-img"}),l.a.createElement("div",{className:"school-activate__good-text"},"Below are transaction fees depending on the payment source.")),a.cc&&l.a.createElement("div",{className:"school-activate__transaction-fee"},l.a.createElement(p.a,{name:"credit-card",size:36,color:"#CCCCCC"}),l.a.createElement("div",{className:"school-activate__transaction-fee__content school-activate__transaction-fee__content--bordered"},l.a.createElement("div",{className:"school-activate__transaction-fee__content-title"},"CREDIT CARD"),l.a.createElement("div",{className:"school-activate__transaction-fee__content-desc"},"Transaction fees is ",a.cc),"parent_payment_fee_paid_by_school"===r&&l.a.createElement("div",{className:"school-activate__transaction-fee__content-helper"},"NOTE: You can qualify for even lower rates based on your enrollment count."))),l.a.createElement("div",{className:"school-activate__transaction-fee"},l.a.createElement(p.a,{name:"ach-plain",size:36,color:"#CCCCCC"}),l.a.createElement("div",{className:"school-activate__transaction-fee__content"},l.a.createElement("div",{className:"school-activate__transaction-fee__content-title"},"ACH / BANK"),l.a.createElement("div",{className:"school-activate__transaction-fee__content-desc"},"Transaction fees is ",a.ach),"parent_payment_fee_paid_by_school"===r&&l.a.createElement("div",{className:"school-activate__transaction-fee__content-helper"},"NOTE: You can qualify for even lower rates based on your enrollment count."))),l.a.createElement("div",{className:"school-activate__warning"},l.a.createElement("div",{className:"school-activate__warning-text"},l.a.createElement("span",{className:"school-activate__warning-small"},"Payout timeline for ACH/Bank: 2 business days, Credit Card: 1 business day.",l.a.createElement("br",null),"If you have any questions, please call ",l.a.createElement("span",{className:"school-activate__warning-strong"},"(877) 679-0950.")))),l.a.createElement("div",{className:"form__row form__row--actions"},l.a.createElement(f.a,{label:"Continue",onClick:this.onContinue}))))}}])&&v(t.prototype,n),r&&v(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.Component),k=o,j="contextTypes",E={nextStep:s.a.func,prevStep:s.a.func,goToStep:s.a.func},j in k?Object.defineProperty(k,j,{value:E,enumerable:!0,configurable:!0,writable:!0}):k[j]=E,O((r=a).prototype,"onContinue",[e],Object.getOwnPropertyDescriptor(r.prototype,"onContinue"),r.prototype),O(r.prototype,"prevStep",[e],Object.getOwnPropertyDescriptor(r.prototype,"prevStep"),r.prototype),r);t.default=Object(u.b)((function(e){return{feeBreakdown:e.feeBreakdown.data}}))(S)}.call(this,n(4).bind)},function(e,t,n){"use strict";n.r(t),function(e){var r,o,a,i=n(0),l=n.n(i),c=n(1),s=n.n(c),u=n(5),p=n(103),f=n(10),d=n(6),m=n(11),y=n.n(m),b=n(67);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=x(e);if(t){var o=x(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return w(this,n)}}function w(e,t){if(t&&("object"===h(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e,t,n,r,o){var a={};return Object.keys(r).forEach((function(e){a[e]=r[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var j=(a=o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g(e,t)}(a,e);var t,n,r,o=_(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this,e)).state={schoolName:y()(e,"currentUser.current_school.name",""),yourName:y()(e,"currentUser.name",""),enrollment:y()(e,"data.enrollment",""),facilityType:y()(e,"data.facility_type",""),email:y()(e,"currentUser.email",""),phone:y()(e,"currentUser.phone",""),submitting:!1},t}return t=a,(n=[{key:"handleChange",value:function(e,t){this.setState(O({},e,t))}},{key:"goToFirstStep",value:function(){this.context.goToStep(0)}},{key:"submit",value:function(){var e=this,t=this.state,n=t.yourName,r=t.email,o=t.phone,a=t.enrollment,i=t.facilityType;this.setState({submitting:!0}),req.teRequestSignup({name:n,phone:o,email:r,enrollment:Number(a),school_type:i}).then((function(){e.setState({submitting:!1}),Object(b.IntercomAPI)("trackEvent","te_setup"),Actions.showFlash("Thank you and your request is submitted"),e.context.goToStep("thankyou")})).catch((function(t){e.setState({submitting:!1}),Actions.reportError("There was problem adding bank account",t)}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.yourName,r=t.schoolName,o=t.email,a=t.phone,i=t.submitting;return l.a.createElement("div",{className:"modal__wrapper"},l.a.createElement(d.a,{iconName:"back",className:"school-activate__te-back",onClick:this.goToFirstStep}),l.a.createElement("div",{className:"modal__container school-activate__te"},l.a.createElement("div",{className:"school-activate__good school-activate__good--te"},l.a.createElement("img",{src:"/assets/images/clap.png",className:"school-activate__good-img"}),l.a.createElement("div",{className:"school-activate__good-text"},l.a.createElement("span",{className:"school-activate__good-text__title"},"Good News!"),l.a.createElement("br",null),"For your account we can provide lower rates",l.a.createElement("br",null),"(CC: 2.75%, ACH: $1) & 1 business day payout timeline.",l.a.createElement("br",null),"Fill in details below and our support will reach out to you.")),l.a.createElement("div",{className:"airy-list"},l.a.createElement("div",{className:"airy-list__item"},l.a.createElement("div",{className:"airy-list__item-title"},"Your Name"),l.a.createElement("div",{className:"airy-list__item-description"},l.a.createElement("span",null,n),l.a.createElement(p.a.Input,{onChange:function(t){return e.handleChange("yourName",t)},defaultValue:n}))),l.a.createElement("div",{className:"airy-list__item"},l.a.createElement("div",{className:"airy-list__item-title"},"School Name"),l.a.createElement("div",{className:"airy-list__item-description"},l.a.createElement("span",null,r),l.a.createElement(p.a.Input,{onChange:function(t){return e.handleChange("schoolName",t)},defaultValue:r}))),l.a.createElement("div",{className:"airy-list__item"},l.a.createElement("div",{className:"airy-list__item-title"},"Email"),l.a.createElement("div",{className:"airy-list__item-description"},l.a.createElement("span",null,o),l.a.createElement(p.a.Input,{onChange:function(t){return e.handleChange("email",t)},defaultValue:o}))),l.a.createElement("div",{className:"airy-list__item"},l.a.createElement("div",{className:"airy-list__item-title"},"Phone Number"),l.a.createElement("div",{className:"airy-list__item-description"},l.a.createElement("span",null,a),l.a.createElement(p.a.Input,{onChange:function(t){return e.handleChange("phone",t)},defaultValue:a})))),l.a.createElement(f.a,{className:"button--large",label:"Confirm & Submit",onClick:this.submit,isLoading:i})))}}])&&v(t.prototype,n),r&&v(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.Component),O(o,"contextTypes",{goToStep:s.a.func}),k((r=a).prototype,"handleChange",[e],Object.getOwnPropertyDescriptor(r.prototype,"handleChange"),r.prototype),k(r.prototype,"goToFirstStep",[e],Object.getOwnPropertyDescriptor(r.prototype,"goToFirstStep"),r.prototype),k(r.prototype,"submit",[e],Object.getOwnPropertyDescriptor(r.prototype,"submit"),r.prototype),r);t.default=Object(u.b)((function(e){return{currentUser:e.currentUser.data}}))(j)}.call(this,n(4).bind)},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(1),i=n.n(a);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var o=m(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(i,e);var t,n,r,a=f(i);function i(){return s(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.children,n=e.step,r=e.totalSteps,a=e.payload;return o.a.createElement("div",{className:"modal-steps__item"},o.a.createElement(t.type,c({},t.props,{step:n,totalSteps:r},a)))}}])&&u(t.prototype,n),r&&u(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component);y(b,"propTypes",{step:i.a.number,totalSteps:i.a.number,payload:i.a.object,hidden:i.a.bool,name:i.a.string}),y(b,"contextTypes",{goToStep:i.a.func,goBack:i.a.func}),t.default=b},function(e,t,n){"use strict";n.r(t),function(e){var r,o,a,i=n(0),l=n.n(i),c=n(1),s=n.n(c),u=n(13);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b(this,n)}}function b(e,t){if(t&&("object"===p(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var v,g,_,w,x,O,k,j,E,S=(a=o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}(a,e);var t,n,r,o=y(a);function a(){return f(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"selectType",value:function(e){this.context.goToStep(e)}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"modal__wrapper"},l.a.createElement("div",{className:"modal__header modal__header--bordered"},l.a.createElement("span",{className:"modal__header-title"},"Add Actions"),l.a.createElement("span",{className:"modal__header-steps"},l.a.createElement("span",null,"Step 1")," / 2")),l.a.createElement("div",{className:"modal__container add-automation add-automation__choose-type"},l.a.createElement("div",{className:"modal__container add-automation__choose-type__title"},"Choose your action type"),l.a.createElement("div",{className:"path-selector path-selector--horizontal"},l.a.createElement("div",{className:"path-selector__option",onClick:function(){return e.selectType("send_email")}},l.a.createElement("div",{className:"path-selector__option-inner"},l.a.createElement(u.a,{size:24,color:"#30bdef",name:"message"}),"SEND EMAIL")),l.a.createElement("div",{className:"path-selector__option",onClick:function(){return e.selectType("create_task")}},l.a.createElement("div",{className:"path-selector__option-inner"},l.a.createElement(u.a,{size:24,color:"#30bdef",name:"task"}),"CREATE TASK")))))}}])&&d(t.prototype,n),r&&d(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.Component),k=o,j="contextTypes",E={goToStep:s.a.func},j in k?Object.defineProperty(k,j,{value:E,enumerable:!0,configurable:!0,writable:!0}):k[j]=E,v=(r=a).prototype,g="selectType",_=[e],w=Object.getOwnPropertyDescriptor(r.prototype,"selectType"),x=r.prototype,O={},Object.keys(w).forEach((function(e){O[e]=w[e]})),O.enumerable=!!O.enumerable,O.configurable=!!O.configurable,("value"in O||O.initializer)&&(O.writable=!0),O=_.slice().reverse().reduce((function(e,t){return t(v,g,e)||e}),O),x&&void 0!==O.initializer&&(O.value=O.initializer?O.initializer.call(x):void 0,O.initializer=void 0),void 0===O.initializer&&(Object.defineProperty(v,g,O),O=null),r);t.default=S}.call(this,n(4).bind)},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(1),i=n.n(a),l=n(11),c=n.n(l),s=n(6),u=n(2),p=n(3),f=n.n(p),d=n(47),m=n.n(d),y=n(12),b=n(145),h=n(146),v=(n(477),["days","due_in"]);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function O(e,t,n,r,o,a,i){try{var l=e[a](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function E(e,t){var n=e.data,a=e.onClose,i=t.prevStep,l=k(Object(r.useState)(!1),2),p=l[0],d=l[1],g=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var r,o,i,l,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d(!0),r=c()(n,"action.id"),o=t.days,i=t.due_in,l=x(t,v),s={ruleId:n.ruleId,automation_action:{kind:"create_task",days:parseInt(o,10),data:{task:_(_({},l),{},{due_date:t.due_date?f()(t.due_date).format("YYYY-MM-DD"):void 0,days:i?parseInt(i,10):void 0})}}},e.prev=4,!r){e.next=10;break}return e.next=8,req.updateAutomationAction(_({id:r},s));case 8:e.next=12;break;case 10:return e.next=12,req.createAutomationAction(s);case 12:d(!1),Actions.showFlash("Action saved"),a(),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(4),d(!1),Actions.reportError("Unable to save action",e.t0);case 21:case"end":return e.stop()}}),e,null,[[4,17]])})),function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){O(a,r,o,i,l,"next",e)}function l(e){O(a,r,o,i,l,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}(),w=c()(n,"action.data.task",{}),j=n.fromRule||!1;return o.a.createElement("div",{className:"modal__wrapper"},o.a.createElement("div",{className:"modal__header"},o.a.createElement("span",{className:"modal__header-title"},o.a.createElement(s.a,{iconName:"back",className:"modal__header-back",onClick:i}),"Create Task"),o.a.createElement("span",{className:"modal__header-steps"},o.a.createElement("span",null,"Step 2")," / 2")),o.a.createElement("div",{className:"modal__container add-automation add-automation__action"},o.a.createElement(b.default,{onSubmit:g,data:w,saving:p,fromRule:j},o.a.createElement("div",{className:"form__row  form__row--justified"},o.a.createElement(u.a.Select,{name:"due_in",type:"radio",title:"Choose",label:"Task Due (after creation)",defaultValue:c()(w,"days",0)},o.a.createElement(u.a.Select.Item,{key:"due_in_none",label:"None",value:"",isDefault:!0}),m()(1,8).map((function(e){return o.a.createElement(u.a.Select.Item,{key:"due_in_".concat(e),label:Object(y.Z)(e,"day"),value:e})}))),o.a.createElement(h.default,{formContext:!0,text:"Task will be created between 7 - 9 AM on the day",defaultDays:c()(n,"action.days",0)})))))}E.propTypes={data:i.a.object,onClose:i.a.func},E.contextTypes={prevStep:i.a.func},t.default=E},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(1),i=n.n(a),l=n(11),c=n.n(l),s=n(6),u=n(147),p=n(146);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e,t,n,r,o,a,i){try{var l=e[a](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t){var n=e.data,a=e.template,i=e.onClose,l=t.goToStep,f=b(Object(r.useState)(!1),2),m=f[0],h=f[1],v=b(Object(r.useState)(c()(n,"action.days",0)),2),g=v[0],_=v[1],w={subject:c()(n,"action.data.message.subject",""),content:c()(n,"action.data.message.content",""),replyTo:c()(n,"action.data.message.reply_to","")},x=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h(!0),r=c()(n,"action.id"),o={ruleId:n.ruleId,automation_action:{kind:"send_email",days:parseInt(g,10),data:{message:{subject:t.subject,content:t.content,reply_to:t.replyTo}}}},e.prev=3,!r){e.next=9;break}return e.next=7,req.updateAutomationAction(d({id:r},o));case 7:e.next=11;break;case 9:return e.next=11,req.createAutomationAction(o);case 11:h(!1),Actions.showFlash("Action saved"),i(),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(3),h(!1),Actions.reportError("Unable to save action",e.t0);case 20:case"end":return e.stop()}}),e,null,[[3,16]])})),function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){y(a,r,o,i,l,"next",e)}function l(e){y(a,r,o,i,l,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}();return o.a.createElement("div",{className:"modal__wrapper communication-send-msg__edit-msg"},o.a.createElement("div",{className:"modal__header modal__header--bordered"},o.a.createElement("span",{className:"modal__header-title"},o.a.createElement(s.a,{iconName:"back",className:"modal__header-back",onClick:function(){return l("choose-type")}}),"Send Email"),o.a.createElement("span",{className:"modal__header-steps"},o.a.createElement("span",null,"Step 2")," / 2"),o.a.createElement(s.a,{iconName:"template",className:"communication-send-msg__edit-msg-template-btn",title:"Choose From Template",onClick:function(){return l("msg-template")}})),o.a.createElement(u.default,{fromAutomation:!0,message:a||w,isSaving:m,onSubmit:x},o.a.createElement("div",{className:"form__row  form__row--justified"},o.a.createElement(p.default,{text:"Email will be sent between 7 - 9 AM on the day",days:g,onChange:_}))))}v.propTypes={data:i.a.object,template:i.a.object,onClose:i.a.func},v.contextTypes={prevStep:i.a.func,goToStep:i.a.func},t.default=v},function(e,t,n){"use strict";n.r(t),function(e){var r,o,a,i=n(0),l=n.n(i),c=n(1),s=n.n(c),u=n(195);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b(this,n)}}function b(e,t){if(t&&("object"===p(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g,_,w,x,O,k,j=(a=o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}(a,e);var t,n,r,o=y(a);function a(){return f(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"handleSelect",value:function(){this.props.onSelect(this.props.template.id)}},{key:"render",value:function(){var e=this.props,t=e.template,n=e.selected;return l.a.createElement("div",{className:"communication-send-msg__templates-item"},l.a.createElement("div",{className:"communication-send-msg__templates-item-name"},t.subject,"sms"===t.kind&&t.content),l.a.createElement(u.a,{className:"communication-send-msg__templates-item-checkbox",checked:n,onChange:this.handleSelect}))}}])&&d(t.prototype,n),r&&d(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.PureComponent),v(o,"propTypes",{template:s.a.shape({id:s.a.string,subject:s.a.string}),selected:s.a.bool,onSelect:s.a.func.isRequired}),v(o,"defaultProps",{selected:!1}),g=(r=a).prototype,_="handleSelect",w=[e],x=Object.getOwnPropertyDescriptor(r.prototype,"handleSelect"),O=r.prototype,k={},Object.keys(x).forEach((function(e){k[e]=x[e]})),k.enumerable=!!k.enumerable,k.configurable=!!k.configurable,("value"in k||k.initializer)&&(k.writable=!0),k=w.slice().reverse().reduce((function(e,t){return t(g,_,e)||e}),k),O&&void 0!==k.initializer&&(k.value=k.initializer?k.initializer.call(O):void 0,k.initializer=void 0),void 0===k.initializer&&(Object.defineProperty(g,_,k),k=null),r);t.default=j}.call(this,n(4).bind)},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(1),i=n.n(a),l=n(2),c=n(18),s=n(10),u=n(3),p=n.n(u);n(1067);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var o=v(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}(i,e);var t,n,r,a=b(i);function i(){return d(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.context.nextStep,t=this.props,n=t.schoolClass,r=t.onChange,a=t.grades,i=t.edit,u=t.loading,f=t.submitLoading;if(u)return o.a.createElement("div",{className:"add-class-info__preloader"},o.a.createElement(c.a,{large:!0}));var d=n.signup_start_at?p()(n.signup_start_at).toDate():void 0,m=n.signup_end_at?p()(n.signup_end_at).toDate():void 0;return o.a.createElement(l.a,{onChange:r,className:"add-class-info"},o.a.createElement("div",{className:"modal__header modal__header--bordered"},o.a.createElement("span",{className:"modal__header-title add-class-info__title"},i?"Edit":"Add"," Class"),o.a.createElement("span",{className:"modal__header-steps"},o.a.createElement("span",null,"Step 1")," / 3")),o.a.createElement("div",{className:"modal__container add-class-info__container"},o.a.createElement("div",{className:"add-class-info__form"},o.a.createElement("div",{className:"form__row form__row--justified"},o.a.createElement(l.a.Input,{required:!0,name:"name",placeholder:"Class Name",label:"Class Name",disableInvalid:!0,defaultValue:n.name}),o.a.createElement("div",{className:"form__row form__row--half add-class-info__time"},o.a.createElement("div",{className:"label label--small"},"Class Timings"),o.a.createElement("div",{className:"form__row form__row--justified add-class-info__time-inner"},o.a.createElement(l.a.TimeInput,{name:"start_time",defaultValue:n.start_time}),o.a.createElement("span",{className:"form__row-gap"},"to"),o.a.createElement(l.a.TimeInput,{name:"end_time",defaultValue:n.end_time})))),o.a.createElement("div",{className:"form__row form__row--justified"},o.a.createElement(l.a.WeekdayPicker,{name:"schedule_days",label:"Class Days",className:"add-class-info__days",defaultValue:n.schedule_days}),o.a.createElement(l.a.Select,{type:"checkbox",name:"grades",label:"Grades",title:"Select Grades",className:"add-class-info__grades",defaultValue:n.grades},a.map((function(e){return o.a.createElement(l.a.Select.Item,{key:e,value:e,label:e})})))),o.a.createElement("div",{className:"form__row form__row--justified"},o.a.createElement("div",null,o.a.createElement("div",{className:"label label--small"},"Sign up Begin & End Date"),o.a.createElement("div",{className:"add-class-info__dates"},o.a.createElement(l.a.DatePicker,{name:"signup_start_at",defaultValue:d}),o.a.createElement("span",{className:"form__row-gap"},"to"),o.a.createElement(l.a.DatePicker,{name:"signup_end_at",defaultValue:m}))),o.a.createElement(l.a.Input,{type:"number",name:"max_enrollments",label:"Max Enroll",placeholder:"Max Enroll",defaultValue:n.max_enrollments})),o.a.createElement("div",{className:"form__row form__row--justified"},o.a.createElement(l.a.Textarea,{name:"description",label:"More about class",placeholder:"Write description here...",defaultValue:n.description})),o.a.createElement("div",{className:"form__row"},o.a.createElement("div",null,o.a.createElement("div",{className:"label label--small"},"Allow Waitlist"),o.a.createElement(l.a.Checkbox,{name:"waitlist_enabled",label:"Yes",defaultValue:n.waitlist_enabled}))))),o.a.createElement("div",{className:"modal__controls add-class-info__controls"},o.a.createElement(s.a,{isLoading:f,secondary:!0,label:"Save & Close",onClick:this.props.onSubmit,disabled:!n.name}),o.a.createElement(s.a,{label:"Continue",onClick:e,disabled:!n.name||f})))}}])&&m(t.prototype,n),r&&m(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component);g(_,"contextTypes",{nextStep:i.a.func}),g(_,"propTypes",{schoolClass:i.a.object,onChange:i.a.func,loading:i.a.bool}),g(_,"defaultProps",{classInfo:{},grades:[],loading:i.a.bool}),t.default=_},function(e,t,n){"use strict";n.r(t),function(e){var r,o,a,i=n(0),l=n.n(i),c=n(1),s=n.n(c),u=n(20),p=n.n(u),f=n(6),d=n(45),m=n(10);n(1069);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){k(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O(e);if(t){var o=O(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return w(this,n)}}function w(e,t){if(t&&("object"===y(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return x(e)}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var j,E,S,P,C,N,z={height:150,toolbarSticky:!1,toolbarButtons:{moreRich:{buttons:["insertLink"]},moreMisc:{buttons:["undo","redo","html"]}}},R=(a=o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g(e,t)}(a,e);var t,n,r,o=_(a);function a(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),k(x(t=o.call(this,e)),"updateLiability",t.updatePolicy("liberality")),k(x(t),"updateBehavior",t.updatePolicy("behavior")),k(x(t),"updateRefunds",t.updatePolicy("refunds")),k(x(t),"updatePhoto",t.updatePolicy("photo_release"));var n=e.schoolClass.policy_attributes;return t.state={policies:{behavior:n.behavior||"",liberality:n.liberality||"",refunds:n.refunds||"",photo_release:n.photo_release||""}},t}return t=a,(n=[{key:"handleChange",value:function(){this.props.onChange(this.state.policies)}},{key:"updatePolicy",value:function(e){var t=this;return function(n){t.setState({policies:h(h({},t.state.policies),{},k({},e,n))},t.handleChange)}}},{key:"render",value:function(){var e=this.props,t=e.edit,n=e.submitLoading,r=this.state.policies,o=r.behavior,a=r.liberality,i=r.refunds,c=r.photo_release;return l.a.createElement("div",{className:"add-policies"},l.a.createElement("div",{className:"modal__header modal__header--bordered"},l.a.createElement(f.a,{iconName:"back",className:"add-pricing-details__back",onClick:this.context.prevStep}),l.a.createElement("span",{className:"modal__header-title add-class-info__title"},t?"Edit":"Add"," Policies"),l.a.createElement("span",{className:"modal__header-steps"},l.a.createElement("span",null,"Step 3")," / 3")),l.a.createElement("div",{className:"modal__container"},l.a.createElement(p.a,{autoHeight:!0,autoHeightMin:468},l.a.createElement("div",{className:"add-policies__policy"},l.a.createElement("div",{className:"label label--small"},"Behavior Policy"),l.a.createElement(d.a,{config:z,value:o,onChange:this.updateBehavior})),l.a.createElement("div",{className:"add-policies__policy"},l.a.createElement("div",{className:"label label--small"},"Liability Waiver"),l.a.createElement(d.a,{config:z,value:a,onChange:this.updateLiability})),l.a.createElement("div",{className:"add-policies__policy"},l.a.createElement("div",{className:"label label--small"},"Refunds & Cancellation"),l.a.createElement(d.a,{config:z,value:i,onChange:this.updateRefunds})),l.a.createElement("div",{className:"add-policies__policy"},l.a.createElement("div",{className:"label label--small"},"Photo Release"),l.a.createElement(d.a,{config:z,value:c,onChange:this.updatePhoto})))),l.a.createElement("div",{className:"modal__controls"},l.a.createElement(m.a,{label:"Save",onClick:this.props.onSave,isLoading:n})))}}])&&v(t.prototype,n),r&&v(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.Component),k(o,"contextTypes",{prevStep:s.a.func}),k(o,"propTypes",{schoolClass:s.a.object,onSave:s.a.func}),k(o,"defaultProps",{schoolClass:{}}),j=(r=a).prototype,E="handleChange",S=[e],P=Object.getOwnPropertyDescriptor(r.prototype,"handleChange"),C=r.prototype,N={},Object.keys(P).forEach((function(e){N[e]=P[e]})),N.enumerable=!!N.enumerable,N.configurable=!!N.configurable,("value"in N||N.initializer)&&(N.writable=!0),N=S.slice().reverse().reduce((function(e,t){return t(j,E,e)||e}),N),C&&void 0!==N.initializer&&(N.value=N.initializer?N.initializer.call(C):void 0,N.initializer=void 0),void 0===N.initializer&&(Object.defineProperty(j,E,N),N=null),r);t.default=R}.call(this,n(4).bind)},function(e,t,n){"use strict";n.r(t),function(e){var r,o,a,i=n(0),l=n.n(i),c=n(1),s=n.n(c),u=n(36),p=n(2);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_(e);if(t){var o=_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g(this,n)}}function g(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e,t,n,r,o){var a={};return Object.keys(r).forEach((function(e){a[e]=r[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var O=(a=o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(a,e);var t,n,r,o=v(a);function a(){return y(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"handleUpdate",value:function(e){var t=this.props.addon;this.props.onUpdate(t.id,m(m({},t),e))}},{key:"handleRemove",value:function(){this.props.onRemove(this.props.addon.id)}},{key:"render",value:function(){var e=this.props,t=e.addon,n=e.onAdd,r=e.isLast,o=e.id;return l.a.createElement(p.a,{className:"table__row addon",onChange:this.handleUpdate},l.a.createElement("div",{className:"table__cell table__cell--l"},l.a.createElement(p.a.Input,{name:"name",className:"addon__name",placeholder:"Addon name",defaultValue:t.name})),l.a.createElement("div",{className:"table__cell table__cell--s"},l.a.createElement(p.a.Input,{name:"cost",type:"amount",className:"addon__price",placeholder:"100.00",defaultValue:t.cost})),l.a.createElement("div",{className:"table__cell table__cell--xs"},l.a.createElement(p.a.Checkbox,{name:"required",className:"addon__required",label:"Yes",defaultValue:t.required})),l.a.createElement("div",{className:"table__cell table__cell--xxs table__cell--actions"},r?l.a.createElement(u.a,{flat:!0,key:"".concat(r,"-").concat(o),iconName:"add-blue",iconSize:16,className:"addon__add-new",onClick:n}):l.a.createElement(u.a,{flat:!0,key:"".concat(r,"-").concat(o),iconColor:"#999",iconName:"close-circle",iconSize:16,className:"addon__remove",onClick:this.handleRemove})))}}])&&b(t.prototype,n),r&&b(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.Component),w(o,"propTypes",{addon:s.a.object,onAdd:s.a.func,onUpdate:s.a.func,onRemove:s.a.func,isLast:s.a.bool}),w(o,"defaultProps",{addon:{}}),x((r=a).prototype,"handleUpdate",[e],Object.getOwnPropertyDescriptor(r.prototype,"handleUpdate"),r.prototype),x(r.prototype,"handleRemove",[e],Object.getOwnPropertyDescriptor(r.prototype,"handleRemove"),r.prototype),r);t.default=O}.call(this,n(4).bind)},function(e,t,n){"use strict";n.r(t),function(e){var r,o,a,i=n(0),l=n.n(i),c=n(1),s=n.n(c),u=n(20),p=n.n(u),f=n(266);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var o=g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v(this,n)}}function v(e,t){if(t&&("object"===d(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e,t,n,r,o){var a={};return Object.keys(r).forEach((function(e){a[e]=r[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var x=(a=o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(a,e);var t,n,r,o=h(a);function a(){return m(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"addAddon",value:function(){this.props.onAdd&&this.props.onAdd()}},{key:"updateAddon",value:function(e,t){this.props.onUpdate&&this.props.onUpdate(e,t)}},{key:"removeAddon",value:function(e){var t=this.props,n=t.addons,r=t.onRemove;n.length>1&&void 0!==r&&r(e)}},{key:"renderAddons",value:function(){var e=this,t=this.props.addons;return t.filter((function(e){return!e._destroy})).map((function(n,r){return l.a.createElement(f.default,{key:n.id,addon:n,isLast:t.length-1===r,onAdd:e.addAddon,onUpdate:e.updateAddon,onRemove:e.removeAddon})}))}},{key:"render",value:function(){return l.a.createElement("div",{className:"table addon-list"},l.a.createElement("div",{className:"table__header"},l.a.createElement("div",{className:"table__cell table__cell--l"},"Add-on name"),l.a.createElement("div",{className:"table__cell table__cell--s"},"Price"),l.a.createElement("div",{className:"table__cell table__cell--xs"},"Required"),l.a.createElement("div",{className:"table__cell table__cell--xxs table__cell--actions"})),l.a.createElement("div",{className:"table__body"},l.a.createElement(p.a,{autoHeight:!0,autoHeightMin:300},this.renderAddons())))}}])&&y(t.prototype,n),r&&y(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.Component),_(o,"propTypes",{addons:s.a.array,onAdd:s.a.func,onUpdate:s.a.func,onRemove:s.a.func}),_(o,"defaultProps",{addons:[]}),w((r=a).prototype,"addAddon",[e],Object.getOwnPropertyDescriptor(r.prototype,"addAddon"),r.prototype),w(r.prototype,"updateAddon",[e],Object.getOwnPropertyDescriptor(r.prototype,"updateAddon"),r.prototype),w(r.prototype,"removeAddon",[e],Object.getOwnPropertyDescriptor(r.prototype,"removeAddon"),r.prototype),r);t.default=x}.call(this,n(4).bind)},function(e,t,n){"use strict";n.r(t),function(e){var r,o,a,i=n(0),l=n.n(i),c=n(1),s=n.n(c),u=n(2),p=n(6),f=n(10),d=n(82),m=n.n(d),y=n(267);n(1071);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e){return function(e){if(Array.isArray(e))return w(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||_(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e,t){if(e){if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(e,t):void 0}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=E(e);if(t){var o=E(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return j(this,n)}}function j(e,t){if(t&&("object"===b(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(e,t,n,r,o){var a={};return Object.keys(r).forEach((function(e){a[e]=r[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var C=(a=o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O(e,t)}(a,e);var t,n,r,o=k(a);function a(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this,e)).state={price:0,addons:[]};var n=e.schoolClass.addons_attributes;if(n.length&&n.length>0){var r,i=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=_(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw a}}}}(n);try{for(i.s();!(r=i.n()).done;){var l=r.value;t.state.addons.push(t.getAddon(l))}}catch(e){i.e(e)}finally{i.f()}}else t.state.addons.push(t.getAddon());return t}return t=a,(n=[{key:"handleUpdate",value:function(){this.props.onChange({price:this.state.price,addons_attributes:this.state.addons.map((function(e){return g(g({},e),{},{cost:Number(e.cost)})}))})}},{key:"getAddon",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{id:e.id||this.state.addons.length+1,name:e.name||"",cost:e.cost,required:e.required||!1,_destroy:e._destroy,_new:void 0===e.id}}},{key:"addAddon",value:function(){this.setState({addons:[].concat(h(this.state.addons),[this.getAddon()])},this.handleUpdate)}},{key:"removeAddon",value:function(e){var t=this.state.addons;if(!(t.length<=1)){var n,r=t.findIndex((function(t){return t.id===e})),o=t[r];n=o._new?[].concat(h(t.slice(0,r)),h(t.slice(r+1))):[].concat(h(t.slice(0,r)),[g(g({},o),{},{_destroy:!0})],h(t.slice(r+1))),this.setState({addons:n},this.handleUpdate)}}},{key:"updateAddon",value:function(e,t){var n=this.state.addons,r=m()(n,{id:e});this.setState({addons:[].concat(h(n.slice(0,r)),[t],h(n.slice(r+1)))},this.handleUpdate)}},{key:"updatePrice",value:function(e){var t=e.price;this.setState({price:t},this.handleUpdate)}},{key:"render",value:function(){var e=this.state.addons,t=this.props,n=t.schoolClass,r=t.edit;return l.a.createElement("div",{className:"add-pricing-details"},l.a.createElement("div",{className:"modal__header modal__header--bordered"},l.a.createElement(p.a,{iconName:"back",className:"add-pricing-details__back",onClick:this.context.prevStep}),l.a.createElement("span",{className:"modal__header-title add-class-info__title"},r?"Edit":"Add"," Pricing Details"),l.a.createElement("span",{className:"modal__header-steps"},l.a.createElement("span",null,"Step 2")," / 3")),l.a.createElement("div",{className:"modal__container add-pricing-details__container"},l.a.createElement("div",{className:"add-pricing-details__price"},l.a.createElement("div",{className:"add-pricing-details__price-title"},"Base Price for the class"),l.a.createElement(u.a,{onChange:this.updatePrice},l.a.createElement(u.a.Input,{name:"price",type:"amount",className:"add-pricing-details__price-input",defaultValue:n.price}))),l.a.createElement("div",{className:"add-pricing-details__addons"},l.a.createElement("div",{className:"add-pricing-details__addons-title"},"Additional add-ons"),l.a.createElement(y.default,{addons:e,onAdd:this.addAddon,onUpdate:this.updateAddon,onRemove:this.removeAddon}))),l.a.createElement("div",{className:"modal__controls add-pricing-details__controls"},l.a.createElement(f.a,{label:"Continue",onClick:this.context.nextStep})))}}])&&x(t.prototype,n),r&&x(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.Component),S(o,"contextTypes",{prevStep:s.a.func,nextStep:s.a.func}),S(o,"propTypes",{schoolClass:s.a.object,onChange:s.a.func}),S(o,"defaultProps",{pricingDetails:{addons:[]}}),P((r=a).prototype,"handleUpdate",[e],Object.getOwnPropertyDescriptor(r.prototype,"handleUpdate"),r.prototype),P(r.prototype,"getAddon",[e],Object.getOwnPropertyDescriptor(r.prototype,"getAddon"),r.prototype),P(r.prototype,"addAddon",[e],Object.getOwnPropertyDescriptor(r.prototype,"addAddon"),r.prototype),P(r.prototype,"removeAddon",[e],Object.getOwnPropertyDescriptor(r.prototype,"removeAddon"),r.prototype),P(r.prototype,"updateAddon",[e],Object.getOwnPropertyDescriptor(r.prototype,"updateAddon"),r.prototype),P(r.prototype,"updatePrice",[e],Object.getOwnPropertyDescriptor(r.prototype,"updatePrice"),r.prototype),r);t.default=C}.call(this,n(4).bind)},function(e,t,n){"use strict";t.a={teacher:"Staff",kid:"Student",carer:"Parent",enrollment:"Lead Student",enrollment_carer:"Lead Parent"}},function(e,t,n){"use strict";t.a={string:"Text",date:"Date Picker",integer:"Number",boolean:"Check Box",list:"Dropdown Menu"}},function(e,t,n){"use strict";n.r(t),function(e){var r,o,a,i=n(0),l=n.n(i),c=n(1),s=n.n(c),u=n(2),p=n(525);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var o=v(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e,t,n,r,o){var a={};return Object.keys(r).forEach((function(e){a[e]=r[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var w=(a=o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}(a,e);var t,n,r,o=b(a);function a(){return d(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"handleNameChange",value:function(e){var t=e.name;this.props.onChange({name:t})}},{key:"handleChangeColor",value:function(e){this.props.onChange({color:e})}},{key:"setDefaultColor",value:function(){var e=this.props,t=e.item,n=e.editedItem;t.color||n.color||this.handleChangeColor("#999")}},{key:"renderEdit",value:function(){var e=this.props,t=e.item,n=e.editedItem;return l.a.createElement(u.a,{onInit:this.setDefaultColor,className:"manage-labels__label manage-labels__label--edit",onChange:this.handleNameChange},l.a.createElement(p.a,g({onChange:this.onChangeColor,color:n.color},"onChange",this.handleChangeColor)),l.a.createElement(u.a.Input,{name:"name",placeholder:"Label name",defaultValue:t.name}))}},{key:"renderShow",value:function(){var e=this.props.item;return l.a.createElement("div",{className:"manage-labels__label"},l.a.createElement("span",{className:"manage-labels__label-color",style:{backgroundColor:e.color}}),e.name)}},{key:"render",value:function(){return this.props.isEdit?this.renderEdit():this.renderShow()}}])&&m(t.prototype,n),r&&m(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.PureComponent),g(o,"propTypes",{item:s.a.object,editedItem:s.a.object,isEdit:s.a.bool,onChange:s.a.func}),g(o,"defaultProps",{item:{},editedItem:{}}),_((r=a).prototype,"handleNameChange",[e],Object.getOwnPropertyDescriptor(r.prototype,"handleNameChange"),r.prototype),_(r.prototype,"handleChangeColor",[e],Object.getOwnPropertyDescriptor(r.prototype,"handleChangeColor"),r.prototype),_(r.prototype,"setDefaultColor",[e],Object.getOwnPropertyDescriptor(r.prototype,"setDefaultColor"),r.prototype),r);t.default=w}.call(this,n(4).bind)},function(e,t,n){"use strict";n.r(t),function(e){var r,o,a,i=n(0),l=n.n(i),c=n(1),s=n.n(c),u=n(75),p=n(12),f=n(70),d=n(71),m=n(72),y=n(271);n(1100);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function v(e,t,n,r,o,a,i){try{var l=e[a](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function g(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){v(a,r,o,i,l,"next",e)}function l(e){v(a,r,o,i,l,"throw",e)}i(void 0)}))}}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=j(e);if(t){var o=j(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return k(this,n)}}function k(e,t){if(t&&("object"===b(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(e,t,n,r,o){var a={};return Object.keys(r).forEach((function(e){a[e]=r[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var P=(a=o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x(e,t)}(b,e);var t,n,r,o,a,i,c,s=O(b);function b(){return _(this,b),s.apply(this,arguments)}return t=b,(n=[{key:"addLabel",value:(c=g(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(("string"!=typeof t.name||0!==t.name.trim().length)&&t.color){e.next=3;break}return e.abrupt("return",Promise.reject());case 3:return e.prev=3,e.next=6,req.addLessonLabel({label:t});case 6:return Actions.showFlash("Label has been added"),e.abrupt("return",Promise.resolve());case 10:return e.prev=10,e.t0=e.catch(3),Actions.reportError("Unable to create a label:\n"+Object(p.y)(e.t0.response.data),e.t0),e.abrupt("return",Promise.reject());case 14:case"end":return e.stop()}}),e,null,[[3,10]])}))),function(e){return c.apply(this,arguments)})},{key:"updateLabel",value:(i=g(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(("string"!=typeof n.name||0!==n.name.trim().length)&&n.color){e.next=3;break}return e.abrupt("return",Promise.reject());case 3:return e.prev=3,e.next=6,req.updateLessonLabel({id:t,label:n});case 6:return Actions.showFlash("Label has been updated"),e.abrupt("return",Promise.resolve());case 10:return e.prev=10,e.t0=e.catch(3),Actions.reportError("Unable to update the label:\n"+Object(p.y)(e.t0.response.data),e.t0),e.abrupt("return",Promise.reject());case 14:case"end":return e.stop()}}),e,null,[[3,10]])}))),function(e,t){return i.apply(this,arguments)})},{key:"deleteLabel",value:(a=g(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.confirmDeletion();case 2:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:return e.prev=5,e.next=8,req.deleteLessonLabel({id:t},{id:t});case 8:return Actions.showFlash("Label has been deleted"),e.abrupt("return",Promise.resolve());case 12:return e.prev=12,e.t0=e.catch(5),Actions.reportError("Unable to delete the label",e.t0),e.abrupt("return",Promise.reject());case 16:case"end":return e.stop()}}),e,this,[[5,12]])}))),function(e){return a.apply(this,arguments)})},{key:"confirmDeletion",value:(o=g(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Actions.showModal("Confirmation",{title:"Delete Label",description:"Are you sure you want to delete this label?",noButton:"No",yesButton:"Yes, Delete",yesButtonProps:{danger:!0,secondary:!1},noButtonProps:{secondary:!0}}));case 1:case"end":return e.stop()}}),e)}))),function(){return o.apply(this,arguments)})},{key:"goBack",value:function(){this.context.goToStep("labels")}},{key:"render",value:function(){var e=this,t=this.props,n=t.labels,r=t.labelsLoading;return l.a.createElement("div",{className:"manage-labels"},l.a.createElement(f.default,{items:n,onAdd:this.addLabel,onUpdate:this.updateLabel,onDelete:this.deleteLabel},(function(t){return l.a.createElement(d.default,{className:"manage-labels__window",title:"Manage Labels",addIcon:"create-tag",addLabel:"Add new label",onAdd:t.onNew,onBack:e.goBack},0!==n.length||t.isNew?l.a.createElement(m.default,h({},t,{ItemComponent:y.default})):l.a.createElement(u.a,{icon:"tag-1",loading:r,title:"No labels found",text:"Click on Add New Label to add labels",className:"manage-list__placeholder"}))})))}}])&&w(t.prototype,n),r&&w(t,r),Object.defineProperty(t,"prototype",{writable:!1}),b}(i.PureComponent),E(o,"contextTypes",{goToStep:s.a.func}),E(o,"propTypes",{labels:s.a.array,labelsLoading:s.a.bool}),E(o,"defaultProps",{labels:[]}),S((r=a).prototype,"addLabel",[e],Object.getOwnPropertyDescriptor(r.prototype,"addLabel"),r.prototype),S(r.prototype,"updateLabel",[e],Object.getOwnPropertyDescriptor(r.prototype,"updateLabel"),r.prototype),S(r.prototype,"deleteLabel",[e],Object.getOwnPropertyDescriptor(r.prototype,"deleteLabel"),r.prototype),S(r.prototype,"goBack",[e],Object.getOwnPropertyDescriptor(r.prototype,"goBack"),r.prototype),r);t.default=P}.call(this,n(4).bind)},function(e,t,n){"use strict";n.r(t),function(e){var r,o,a,i=n(0),l=n.n(i),c=n(1),s=n.n(c),u=n(6),p=n(18);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var o=g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v(this,n)}}function v(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e,t,n,r,o){var a={};return Object.keys(r).forEach((function(e){a[e]=r[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var x=(a=o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(a,e);var t,n,r,o=h(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this,e)).state={newItem:{},isLoading:!1},t}return t=a,(n=[{key:"handleChange",value:function(e){this.setState({newItem:m(m({},this.state.newItem),e)})}},{key:"handleCreate",value:function(){var e=this,t=this.props.onCreate(this.state.newItem);t instanceof Promise&&(this.setState({isLoading:!0}),t.then((function(){return e.setState({isLoading:!1})})).catch((function(){return e.setState({isLoading:!1})})))}},{key:"render",value:function(){var e=this.props,t=e.onCancel,n=e.ItemComponent,r=this.state,o=r.newItem,a=r.isLoading;return l.a.createElement("div",{className:"manage-list-new"},l.a.createElement("div",{className:"manage-list-new__content"},l.a.createElement(n,{isEdit:!0,editedItem:o,onChange:this.handleChange})),l.a.createElement("div",{className:"manage-list-new__controls"},a?l.a.createElement("div",{className:"manage-list-new__preloader"},l.a.createElement(p.a,{small:!0})):l.a.createElement(u.a,{square:!0,size:14,className:"manage-list-new__create-btn",iconName:"tick-1",onClick:this.handleCreate,"data-cy":"add-manage-list-item"}),l.a.createElement(u.a,{square:!0,size:14,iconName:"close",onClick:t})))}}])&&y(t.prototype,n),r&&y(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.PureComponent),_(o,"propTypes",{ItemComponent:s.a.any,onCreate:s.a.func,onCancel:s.a.func,isLoading:s.a.bool}),w((r=a).prototype,"handleChange",[e],Object.getOwnPropertyDescriptor(r.prototype,"handleChange"),r.prototype),w(r.prototype,"handleCreate",[e],Object.getOwnPropertyDescriptor(r.prototype,"handleCreate"),r.prototype),r);t.default=x}.call(this,n(4).bind)},function(e,t,n){"use strict";n.r(t),function(e){var r,o,a,i=n(0),l=n.n(i),c=n(1),s=n.n(c),u=n(16),p=n(13),f=n(490),d=n(93);n(1106);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w(e);if(t){var o=w(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _(this,n)}}function _(e,t){if(t&&("object"===m(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e,t,n,r,o){var a={};return Object.keys(r).forEach((function(e){a[e]=r[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var k=(a=o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}(a,e);var t,n,r,o=g(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this,e))._labelsMap=a.buildLabelMap(e.labels),t._filteredLabels=[],t.state={search:"",selectedItemIndex:0,loading:!1},t}return t=a,r=[{key:"filterByTerm",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return n?(n=n.toLowerCase().trim(),e.filter((function(e){return e[t].toLowerCase().indexOf(n)>=0}))):e}},{key:"buildLabelMap",value:function(e){var t={};return e.forEach((function(e){t[e.id]=e})),t}}],(n=[{key:"componentDidUpdate",value:function(e){e.labels!==this.props.labels&&(this._labelsMap=a.buildLabelMap(this.props.labels)),0===this._filteredLabels.length&&-1!==this.state.selectedItemIndex&&this.setState({selectedItemIndex:-1})}},{key:"changeSearch",value:function(e){this.setState({search:e})}},{key:"addLabel",value:function(e){-1===this.props.selectedLabelIds.indexOf(e.id)&&this.props.onChange([].concat(y(this.props.selectedLabelIds),[e.id]))}},{key:"deleteLabel",value:function(e){this.props.onChange(this.props.selectedLabelIds.filter((function(t){return t!==e}))),-1===this.state.selectedItemIndex&&(this.state.selectedItemIndex=0)}},{key:"renderListItem",value:function(e){return l.a.createElement("div",{className:"select-labels-list__list-item",key:e.id},l.a.createElement("span",{className:"select-labels-list__list-item__color",style:{backgroundColor:e.color}}),e.name)}},{key:"renderLabels",value:function(){var e={};this.props.selectedLabelIds.forEach((function(t){e[t]=!0}));var t=this._filteredLabels=a.filterByTerm(this.props.labels,"name",this.state.search).filter((function(t){return!e[t.id]}));return 0===t.length?l.a.createElement("div",{className:"select-labels-list__no-labels-label"},"No labels found"):l.a.createElement(d.a,{items:t,renderItem:this.renderListItem,onSelect:this.addLabel})}},{key:"renderSelectedLabels",value:function(){var e=this;return this.props.selectedLabelIds.map((function(t){return l.a.createElement(f.a,{key:t,label:e._labelsMap[t],onDelete:e.deleteLabel})}))}},{key:"render",value:function(){var e=this.state.search,t=0!==this.props.selectedLabelIds.length;return l.a.createElement("div",{className:"select-labels-list"},l.a.createElement("div",{className:"select-labels-list__header"},l.a.createElement("div",{className:"select-labels-list__search"},l.a.createElement(p.a,{size:18,name:"search",className:"select-labels-list__search-icon"}),l.a.createElement(u.a,{type:"text",value:e,className:"select-labels-list__search-input",placeholder:"Enter a Label",onChange:this.changeSearch}))),l.a.createElement("div",{className:"select-labels-list__inner"},t?l.a.createElement("div",{className:"select-labels-list__selected-labels"},this.renderSelectedLabels()):l.a.createElement("div",{className:"select-labels-list__no-labels-label"},"No labels selected"),l.a.createElement("div",{className:"select-labels-list__list"},this.renderLabels())))}}])&&h(t.prototype,n),r&&h(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.Component),x(o,"propTypes",{labels:s.a.arrayOf(s.a.shape({id:s.a.string,name:s.a.string,color:s.a.string})),selectedLabelIds:s.a.arrayOf(s.a.string),onChange:s.a.func,onCreate:s.a.func}),x(o,"defaultProps",{labels:[],selectedLabelIds:[]}),O((r=a).prototype,"changeSearch",[e],Object.getOwnPropertyDescriptor(r.prototype,"changeSearch"),r.prototype),O(r.prototype,"addLabel",[e],Object.getOwnPropertyDescriptor(r.prototype,"addLabel"),r.prototype),O(r.prototype,"deleteLabel",[e],Object.getOwnPropertyDescriptor(r.prototype,"deleteLabel"),r.prototype),r);t.default=k}.call(this,n(4).bind)},function(e,t,n){"use strict";n.r(t),function(e){var r,o,a,i=n(0),l=n.n(i),c=n(1),s=n.n(c),u=n(10),p=n(6),f=n(274);n(1108);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var o=g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v(this,n)}}function v(e,t){if(t&&("object"===d(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w,x,O,k,j,E,S=(a=o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(a,e);var t,n,r,o=h(a);function a(){return m(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"onSubmit",value:function(){var e=this.props;(0,e.onClose)({selectedLabelIds:e.selectedLabelIds})}},{key:"render",value:function(){var e=this,t=this.props.title;return l.a.createElement("div",{className:"select-labels"},l.a.createElement("div",{className:"modal__header"},l.a.createElement("div",{className:"modal__header-title select-labels__header"},l.a.createElement("span",{className:"select-labels__title"},t),l.a.createElement(p.a,{size:16,className:"select-labels__manage-btn",iconName:"manage",title:"Manage Labels",onClick:function(){return e.context.goToStep("manage")}}))),l.a.createElement("div",{className:"modal__container select-labels__container"},l.a.createElement(f.default,{labels:this.props.labels,selectedLabelIds:this.props.selectedLabelIds,onChange:this.props.onChange,onCreate:function(){return e.context.goToStep("manage")}})),l.a.createElement("div",{className:"modal__controls select-labels__controls"},l.a.createElement(u.a,{label:"Submit",onClick:this.onSubmit})))}}])&&y(t.prototype,n),r&&y(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.Component),_(o,"propTypes",{labels:s.a.array,onChange:s.a.func,onClose:s.a.func}),_(o,"defaultProps",{labels:[]}),_(o,"contextTypes",{goToStep:s.a.func}),w=(r=a).prototype,x="onSubmit",O=[e],k=Object.getOwnPropertyDescriptor(r.prototype,"onSubmit"),j=r.prototype,E={},Object.keys(k).forEach((function(e){E[e]=k[e]})),E.enumerable=!!E.enumerable,E.configurable=!!E.configurable,("value"in E||E.initializer)&&(E.writable=!0),E=O.slice().reverse().reduce((function(e,t){return t(w,x,e)||e}),E),j&&void 0!==E.initializer&&(E.value=E.initializer?E.initializer.call(j):void 0,E.initializer=void 0),void 0===E.initializer&&(Object.defineProperty(w,x,E),E=null),r);t.default=S}.call(this,n(4).bind)},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(12),i=n(1),l=n.n(i),c=n(85),s=n(2);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b(e);if(t){var o=b(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){if(t&&("object"===u(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(l,e);var t,n,r,i=m(l);function l(){return p(this,l),i.apply(this,arguments)}return t=l,(n=[{key:"render",value:function(){var e,t=Object(a.O)();return o.a.createElement(c.a,{className:"add-lesson__filters",filters:(e=this.props.labels,{section_id:{type:"room"},label_ids:{type:"multi-select",formType:"checkbox",enableClear:!0,multipleSelectionText:"labels",title:"Select Labels",label:"Labels",options:e.reduce((function(e,t){return e[t.id]=t.name,e}),{})}}),onSubmit:this.props.onChange,side:t?"right":void 0,noArrow:t},o.a.createElement(s.a.Input,{name:"name",placeholder:"Search Lessons"}))}}])&&f(t.prototype,n),r&&f(t,r),Object.defineProperty(t,"prototype",{writable:!1}),l}(r.PureComponent);h(v,"propTypes",{filters:l.a.object,onChange:l.a.func,labels:l.a.array}),h(v,"defaultProps",{filters:{},labels:[]}),t.default=v},function(e,t,n){"use strict";n.r(t),function(e){var r,o,a,i=n(0),l=n.n(i),c=n(1),s=n.n(c),u=n(7),p=n.n(u),f=n(144),d=n(195),m=n(250);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w(e);if(t){var o=w(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _(this,n)}}function _(e,t){if(t&&("object"===y(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O,k,j,E,S,P,C=(a=o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}(a,e);var t,n,r,o=g(a);function a(){return b(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"handleSelect",value:function(e){e.stopPropagation(),this.props.onSelect(this.props.lesson.id)}},{key:"renderLabels",value:function(){var e=this.props.lesson.labels;return 0===e.length?l.a.createElement("div",{className:"add-lesson__item-labels-empty"},"No labels"):l.a.createElement(m.a,{lines:2},e.map((function(e){return l.a.createElement(f.a,{key:e.id,description:e.name,color:e.color})})))}},{key:"render",value:function(){var e=this.props,t=e.lesson,n=e.selected,r=e.labels,o=e.enableRowSelect;return l.a.createElement("div",{className:p()("add-lesson__item",{"add-lesson__item--selected":Boolean(n)}),onClick:o?this.handleSelect:void 0},l.a.createElement("div",{className:"add-lesson__item-content"},l.a.createElement("div",{className:"add-lesson__item-header"},l.a.createElement("div",{className:"table__cell table__cell--s add-lesson__name-cell"},"Title"),l.a.createElement("div",{className:"table__cell table__cell--l"},"Description"),l.a.createElement("div",{className:"table__cell table__cell--s"},"Labels")),l.a.createElement("div",{className:"add-lesson__item-body"},l.a.createElement("div",{className:"table__cell table__cell--s add-lesson__name-cell"},l.a.createElement("div",{className:"add-lesson__item-name"},t.name),l.a.createElement("div",{className:"add-lesson__item-category"},t.lesson_category&&t.lesson_category.name)),l.a.createElement("div",{className:"table__cell table__cell--l add-lesson__item-description"},t.description),l.a.createElement("div",{className:"table__cell table__cell--s"},this.renderLabels(r)))),l.a.createElement(d.a,{"data-cy":"select",checked:n,onChange:this.handleSelect}))}}])&&h(t.prototype,n),r&&h(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.PureComponent),x(o,"propTypes",{lesson:s.a.shape({id:s.a.string,name:s.a.string}),selected:s.a.bool,onSelect:s.a.func.isRequired}),x(o,"defaultProps",{lesson:{}}),O=(r=a).prototype,k="handleSelect",j=[e],E=Object.getOwnPropertyDescriptor(r.prototype,"handleSelect"),S=r.prototype,P={},Object.keys(E).forEach((function(e){P[e]=E[e]})),P.enumerable=!!P.enumerable,P.configurable=!!P.configurable,("value"in P||P.initializer)&&(P.writable=!0),P=j.slice().reverse().reduce((function(e,t){return t(O,k,e)||e}),P),S&&void 0!==P.initializer&&(P.value=P.initializer?P.initializer.call(S):void 0,P.initializer=void 0),void 0===P.initializer&&(Object.defineProperty(O,k,P),P=null),r);t.default=C}.call(this,n(4).bind)},function(e,t,n){"use strict";n.r(t),function(e){var r,o,a,i=n(0),l=n.n(i),c=n(1),s=n.n(c),u=n(20),p=n.n(u),f=n(92),d=n(18),m=n(277);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=x(e);if(t){var o=x(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return w(this,n)}}function w(e,t){if(t&&("object"===y(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k,j,E,S,P,C,N=(a=o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g(e,t)}(a,e);var t,n,r,o=_(a);function a(){return h(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"selectLesson",value:function(e){var t=this.props,n=t.onSelect,r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t.selected);void 0!==n&&(r[e]?delete r[e]:r[e]=!0,n(r))}},{key:"renderItems",value:function(){var e=this,t=this.props,n=t.lessons,r=t.selected,o=t.enableRowSelect;return n.map((function(t){return l.a.createElement(m.default,{key:t.id,lesson:t,selected:r[t.id],onSelect:e.selectLesson,enableRowSelect:o})}))}},{key:"render",value:function(){var e=this.props,t=e.loading,n=e.onNextPage,r=e.onAdd,o=e.hideCreateLink;return l.a.createElement(p.a,{className:"add-lesson__list-scroll"},l.a.createElement(f.a,{className:"add-lesson__list",loading:t,onEndReach:n,threshold:50},this.renderItems(),!o&&l.a.createElement("div",{className:"add-lesson__list-bottom-msg"},"Didn't find a lesson?"," ",l.a.createElement("span",{onClick:r,className:"add-lesson__list-link",to:"/learning/plans/lessons/create"},"Create new lesson")),l.a.createElement("div",{className:"add-lesson__list-preloader"},l.a.createElement(d.a,null))))}}])&&v(t.prototype,n),r&&v(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.PureComponent),O(o,"propTypes",{lessons:s.a.array,selected:s.a.object,loading:s.a.bool,onAdd:s.a.func,onSelect:s.a.func,onNextPage:s.a.func,hideCreateLink:s.a.bool,enableRowSelect:s.a.bool}),O(o,"defaultProps",{hideCreateLink:!1,lessons:[],selected:{},loading:!1}),k=(r=a).prototype,j="selectLesson",E=[e],S=Object.getOwnPropertyDescriptor(r.prototype,"selectLesson"),P=r.prototype,C={},Object.keys(S).forEach((function(e){C[e]=S[e]})),C.enumerable=!!C.enumerable,C.configurable=!!C.configurable,("value"in C||C.initializer)&&(C.writable=!0),C=E.slice().reverse().reduce((function(e,t){return t(k,j,e)||e}),C),P&&void 0!==C.initializer&&(C.value=C.initializer?C.initializer.call(P):void 0,C.initializer=void 0),void 0===C.initializer&&(Object.defineProperty(k,j,C),C=null),r);t.default=N}.call(this,n(4).bind)},function(e,t,n){"use strict";n.r(t),function(e){var r,o,a,i=n(0),l=n.n(i),c=n(1),s=n.n(c),u=n(7),p=n.n(u),f=n(16),d=n(13),m=n(36),y=n(6),b=n(18),h=n(76),v=n(93),g=n(12);n(1128);function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t,n,r,o,a,i){try{var l=e[a](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function x(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){w(a,r,o,i,l,"next",e)}function l(e){w(a,r,o,i,l,"throw",e)}i(void 0)}))}}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S(e);if(t){var o=S(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return E(this,n)}}function E(e,t){if(t&&("object"===_(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C(e,t,n,r,o){var a={};return Object.keys(r).forEach((function(e){a[e]=r[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var N=(a=o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k(e,t)}(a,e);var t,n,r,o=j(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this,e))._mealsMap=a.buildMealsMap(e.meals),t._filteredMeals=[],t.state={search:"",selectedItemIndex:0,loading:!1,deleteId:void 0},t}return t=a,r=[{key:"filterByTerm",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return n?(n=n.toLowerCase().trim(),e.filter((function(e){return e[t].toLowerCase().trim().indexOf(n)>=0}))):e}},{key:"buildMealsMap",value:function(e){var t={};return e.forEach((function(e){t[e.id]=e})),t}}],(n=[{key:"componentDidUpdate",value:function(e){e.meals!==this.props.meals&&(this._mealsMap=a.buildMealsMap(this.props.meals)),0===this._filteredMeals.length&&-1!==this.state.selectedItemIndex&&this.setState({selectedItemIndex:-1})}},{key:"changeSearch",value:function(e){this.setState({search:e})}},{key:"selectMeal",value:function(e){var t=this;-1===this.props.selectedMealIds.indexOf(e.id)&&e.id!==this.state.deleteId&&this.setState({loading:!0},(function(){t.props.onChange(t.props.selectedMealIds.concat([e.id])),t.setState({loading:!1})}))}},{key:"deselectMeal",value:function(e){this.props.onChange(this.props.selectedMealIds.filter((function(t){return t!==e}))),-1===this.state.selectedItemIndex&&(this.state.selectedItemIndex=0)}},{key:"createMeal",value:function(){var e=this;this.setState({loading:!0},x(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.props.onCreate(e.state.search);case 3:e.setState({loading:!1,search:""}),t.next=10;break;case 6:t.prev=6,t.t0=t.catch(0),Actions.reportError("Unable to create a meal item:\n\n"+Object(g.y)(t.t0.response.data),t.t0),e.setState({loading:!1});case 10:case"end":return t.stop()}}),t,null,[[0,6]])}))))}},{key:"removeMeal",value:function(e){var t=this;this.setState({deleteId:e},x(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.props.onRemove(e,t._mealsMap[e].name);case 3:t.setState({deleteId:void 0}),n.next=10;break;case 6:n.prev=6,n.t0=n.catch(0),Actions.reportError("Unable to remove a meal item:\n\n"+Object(g.y)(n.t0.response.data),n.t0),t.setState({deleteId:void 0});case 10:case"end":return n.stop()}}),n,null,[[0,6]])}))))}},{key:"renderListItem",value:function(e){var t=this,n=this.state.deleteId===e.id;return l.a.createElement("div",{className:p()("select-meals-list__list-item",{"select-meals-list__list-item--deleting":n}),key:e.id},e.name,n?l.a.createElement(b.a,{small:!0,className:"select-meals-list__list-item__loading"}):l.a.createElement(y.a,{size:14,iconName:"delete",onClick:function(n){n.stopPropagation(),t.removeMeal(e.id)},disabled:n,className:"select-meals-list__list-item__delete-button"}))}},{key:"renderMeals",value:function(){var e={};this.props.selectedMealIds.forEach((function(t){e[t]=!0}));var t=this._filteredMeals=a.filterByTerm(this.props.meals,"name",this.state.search).filter((function(t){return!e[t.id]}));return 0===t.length?l.a.createElement("div",{className:"select-meals-list__no-meals-label"},"No meal items found"):l.a.createElement(v.a,{items:t,renderItem:this.renderListItem,onSelect:this.selectMeal})}},{key:"renderSelectedMeals",value:function(){var e=this;return this.props.selectedMealIds.map((function(t){return l.a.createElement(h.a,{key:t,tag:e._mealsMap[t],onDelete:e.deselectMeal})}))}},{key:"render",value:function(){var e=this.state,t=e.search,n=e.loading,r=this.props,o=r.meals,a=0!==r.selectedMealIds.length,i=-1===o.findIndex((function(e){return e.name.toLowerCase().trim()===t.toLowerCase().trim()}));return l.a.createElement("div",{className:"select-meals-list"},l.a.createElement("div",{className:"select-meals-list__header"},l.a.createElement("div",{className:"select-meals-list__search"},l.a.createElement(d.a,{size:18,name:"search",className:"select-meals-list__search-icon"}),l.a.createElement(f.a,{type:"text",value:t,className:"select-meals-list__search-input",placeholder:"Select / Add Meal Items",onChange:this.changeSearch}))),l.a.createElement("div",{className:"select-meals-list__inner"},a?l.a.createElement("div",{className:"select-meals-list__selected-meals"},this.renderSelectedMeals()):l.a.createElement("div",{className:"select-meals-list__no-meals-label"},"No meals selected"),l.a.createElement("div",{className:"select-meals-list__list"},this.renderMeals()),t.length>0&&i&&l.a.createElement("div",{className:"select-meals-list__new-meal"},l.a.createElement(m.a,{iconSize:12,iconName:"plus",label:'Add meal "'.concat(t,'"'),onClick:this.createMeal,disabled:n}),n&&l.a.createElement(b.a,{small:!0,className:"select-meals-list__loading"}))))}}])&&O(t.prototype,n),r&&O(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.Component),P(o,"propTypes",{meals:s.a.arrayOf(s.a.shape({id:s.a.string,name:s.a.string})),selectedMealIds:s.a.arrayOf(s.a.string),onChange:s.a.func,onCreate:s.a.func,onRemove:s.a.func}),P(o,"defaultProps",{meals:[],selectedMealIds:[]}),C((r=a).prototype,"changeSearch",[e],Object.getOwnPropertyDescriptor(r.prototype,"changeSearch"),r.prototype),C(r.prototype,"selectMeal",[e],Object.getOwnPropertyDescriptor(r.prototype,"selectMeal"),r.prototype),C(r.prototype,"deselectMeal",[e],Object.getOwnPropertyDescriptor(r.prototype,"deselectMeal"),r.prototype),C(r.prototype,"createMeal",[e],Object.getOwnPropertyDescriptor(r.prototype,"createMeal"),r.prototype),C(r.prototype,"removeMeal",[e],Object.getOwnPropertyDescriptor(r.prototype,"removeMeal"),r.prototype),C(r.prototype,"renderListItem",[e],Object.getOwnPropertyDescriptor(r.prototype,"renderListItem"),r.prototype),r);t.default=N}.call(this,n(4).bind)},function(e,t,n){"use strict";n.r(t),function(e){var r,o,a,i=n(0),l=n.n(i),c=n(1),s=n.n(c),u=n(7),p=n.n(u),f=n(6),d=n(10),m=n(16),y=n(23),b=n(68),h=n(20),v=n(24);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=E(e);if(t){var o=E(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return j(this,n)}}function j(e,t){if(t&&("object"===g(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(e,t,n,r,o){var a={};return Object.keys(r).forEach((function(e){a[e]=r[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var C=(a=o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O(e,t)}(a,e);var t,n,r,o=k(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this,e)).state={page:1,errors:{}},t}return t=a,(n=[{key:"selectedStudents",value:function(){var e=this.state.page,t=this.props,n=t.selectedKids,r=t.students.filter((function(e){return n.includes(e.id)})).slice(30*(e-1),30*e);return r}},{key:"updateAmount",value:function(e){var t=this;return function(n){var r=t.props.onUpdate;/^\d{0,7}(\.\d{0,2})?$/.test(n)&&r(e,n)}}},{key:"changePage",value:function(e){this.setState({page:e})}},{key:"validateAmounts",value:function(e){var t={},n=this.props.values;return this.selectedStudents().map((function(e){return e.id})).forEach((function(e){var r;r=null==n[e]||n[e].length<=0?"Should be specified":Number(n[e])<=0?"Should be greater than 0":null,t[e]=r})),this.setState((function(e){return w(w({},e),{},{errors:w(w({},e.errors),t)})}),e)}},{key:"handleSave",value:function(){var e=this;this.validateAmounts((function(){var t=e.state.errors,n=e.props.onSave;Object.values(t).filter(Boolean).length>0||"function"!=typeof n||n()}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.selectedKids,r=t.isSaving,o=t.values,a=this.state,i=a.page,c=a.errors;return l.a.createElement("div",{className:"modal__wrapper amount-due-step"},l.a.createElement("div",{className:"modal__header modal__header--bordered"},l.a.createElement(f.a,{iconName:"back",className:"modal__header-back",onClick:function(){return e.context.prevStep()}}),l.a.createElement("span",{className:"modal__header-title"},"Amount Due"),l.a.createElement("span",{className:"modal__header-steps"},l.a.createElement("span",null,"Step 2")," / 2")),l.a.createElement("div",{className:"modal__container"},l.a.createElement("div",{className:"amount-due-step__header"},l.a.createElement("div",null,"Showing ",n.length," results"),l.a.createElement(b.a,{page:i,total:n.length,perPage:30,loading:!1,onPrev:function(){return e.changePage(i-1)},onNext:function(){return e.changePage(i+1)}})),l.a.createElement("div",{className:"table"},l.a.createElement("div",{className:"table__header"},l.a.createElement("div",{className:"table__cell table__cell--l"},"Student"),l.a.createElement("div",{className:"table__cell table__cell--xs"},"Amount")),l.a.createElement("div",{className:"table__body"},l.a.createElement(h.Scrollbars,{autoHeight:!0,autoHeightMin:50,autoHeightMax:300},this.selectedStudents().map((function(t){return l.a.createElement("div",{className:"table__row",key:t.id},l.a.createElement("div",{className:"table__cell table__cell--l"},l.a.createElement(y.a,{name:t.name||t.first_name+" "+t.last_name,url:t.profile_pic_url,tooltipText:t.name,color:t.color,initials:t.initials}),l.a.createElement("div",{className:"amount-due-step__name"},l.a.createElement("div",null,t.name||t.first_name+" "+t.last_name))),l.a.createElement("div",{className:"table__cell table__cell--xs"},l.a.createElement("div",{className:"amount-due-step__amount"},l.a.createElement("div",{className:p()({"form-input--invalid":Boolean(c[t.id])})},l.a.createElement("span",{className:"amount-due-step__price-sym"},v.a.getSymbol()),l.a.createElement(m.a,{value:o[t.id]||"",onChange:e.updateAmount(t.id),placeholder:"0","data-cy":"amount-".concat(t.id)})),c[t.id]&&l.a.createElement("div",{className:"form-input__validation-text"},c[t.id]))))})))))),l.a.createElement("div",{className:"modal__controls"},l.a.createElement(d.a,{label:"Save","data-cy":"submit",onClick:this.handleSave,disabled:r})))}}])&&x(t.prototype,n),r&&x(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.Component),S(o,"contextTypes",{nextStep:s.a.func,prevStep:s.a.func}),P((r=a).prototype,"selectedStudents",[e],Object.getOwnPropertyDescriptor(r.prototype,"selectedStudents"),r.prototype),P(r.prototype,"updateAmount",[e],Object.getOwnPropertyDescriptor(r.prototype,"updateAmount"),r.prototype),P(r.prototype,"changePage",[e],Object.getOwnPropertyDescriptor(r.prototype,"changePage"),r.prototype),P(r.prototype,"validateAmounts",[e],Object.getOwnPropertyDescriptor(r.prototype,"validateAmounts"),r.prototype),P(r.prototype,"handleSave",[e],Object.getOwnPropertyDescriptor(r.prototype,"handleSave"),r.prototype),r);t.default=C}.call(this,n(4).bind)},function(e,t,n){"use strict";n.r(t),function(e){var r,o,a,i=n(0),l=n.n(i),c=n(1),s=n.n(c),u=n(16),p=n(15);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_(e);if(t){var o=_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g(this,n)}}function g(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e,t,n,r,o){var a={};return Object.keys(r).forEach((function(e){a[e]=r[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var O=(a=o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(a,e);var t,n,r,o=v(a);function a(){return y(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"handleUpdate",value:function(e){this.props.onChange&&this.props.onChange(m(m({},this.props.filters),e))}},{key:"updateSearch",value:function(e){this.handleUpdate({search:e})}},{key:"updateRoomId",value:function(e){this.handleUpdate({roomId:e})}},{key:"updateTagIds",value:function(e){this.handleUpdate({tagIds:e})}},{key:"render",value:function(){var e=this.props,t=e.rooms,n=e.tags,r=this.props.filters,o=r.search,a=r.roomId,i=r.tagIds,c=void 0===i?[]:i;return l.a.createElement("div",{className:"form--inline"},l.a.createElement("div",{className:"w-1/2 input--search"},l.a.createElement("div",{className:"form-input__field"},l.a.createElement(u.a,{placeholder:"Search",value:o,onChange:this.updateSearch}))),t&&l.a.createElement(p.a,{title:"Select Room",type:"radio",className:"w-1/4",checked:a,onChange:this.updateRoomId},l.a.createElement(p.a.Item,{value:"",label:"All Rooms",isDefault:!0}),t.map((function(e){return l.a.createElement(p.a.Item,{key:e.id,value:e.id,label:e.name})}))),n&&l.a.createElement(p.a,{type:"checkbox",title:"Select Tags",className:"w-1/4",multipleSelectionText:"tags applied",checked:c,onChange:this.updateTagIds},n.map((function(e){return l.a.createElement(p.a.Item,{key:e.id,value:e.id,label:e.name})}))))}}])&&b(t.prototype,n),r&&b(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.PureComponent),w(o,"propTypes",{filters:s.a.shape({search:s.a.string,roomId:s.a.string,tagIds:s.a.arrayOf(s.a.string)}),rooms:s.a.arrayOf(s.a.object),tags:s.a.arrayOf(s.a.object),onChange:s.a.func}),x((r=a).prototype,"updateSearch",[e],Object.getOwnPropertyDescriptor(r.prototype,"updateSearch"),r.prototype),x(r.prototype,"updateRoomId",[e],Object.getOwnPropertyDescriptor(r.prototype,"updateRoomId"),r.prototype),x(r.prototype,"updateTagIds",[e],Object.getOwnPropertyDescriptor(r.prototype,"updateTagIds"),r.prototype),r);t.default=O}.call(this,n(4).bind)},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(1),i=n.n(a),l=n(2),c=function(e){var t=e.rooms,n=e.statuses,r=e.tags,a=e.onUpdate,i=e.defaultValue,c=e.customControl,s=e.placeholder;return o.a.createElement(l.a,{onChange:a,className:"form--search"},o.a.createElement("div",{className:"form__row form--inline"},o.a.createElement(l.a.Input,{name:"search",placeholder:s,className:"input--search",defaultValue:i.search}),t&&o.a.createElement(l.a.Select,{name:"roomId",title:"Select Room",type:"radio",defaultValue:i.roomId,enableClear:!0},o.a.createElement(l.a.Select.Item,{value:"",label:"All Rooms",isDefault:!0}),t.map((function(e){return o.a.createElement(l.a.Select.Item,{key:e.id,value:e.id,label:e.name})}))),n&&o.a.createElement(l.a.Select,{name:"registration_status",title:"Select Status",defaultValue:i.registration_status},Object.keys(n).map((function(e){return o.a.createElement(l.a.Select.Item,{key:e,value:e,label:n[e]})}))),r&&o.a.createElement(l.a.Select,{name:"tagIds",type:"checkbox",title:"Select Tags",multipleSelectionText:"tags applied",defaultValue:i.tagIds,enableClear:!0},r.map((function(e){return o.a.createElement(l.a.Select.Item,{key:e.id,value:e.id,label:e.name})})))),c&&o.a.createElement("div",{className:"form__row form--inline form__row--text"},c))};c.propTypes={onUpdate:i.a.func,rooms:i.a.array,statuses:i.a.object,tags:i.a.array,defaultValues:i.a.object,customControl:i.a.object,placeholder:i.a.string},c.defaultProps={defaultValue:{},placeholder:"Search"},t.default=c},function(e,t,n){"use strict";n.r(t),function(e){var r,o,a,i=n(0),l=n.n(i),c=n(1),s=n.n(c),u=n(7),p=n.n(u);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var o=v(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t,n,r,o){var a={};return Object.keys(r).forEach((function(e){a[e]=r[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var _,w,x,O=(a=o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}(a,e);var t,n,r,o=b(a);function a(){return d(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"setActionWrapper",value:function(e){this.props.setAction(e),this.props.updateStudents([]),this.context.nextStep()}},{key:"createSignIn",value:function(){this.setActionWrapper("in")}},{key:"createSignOut",value:function(){this.props.forToday&&this.setActionWrapper("out")}},{key:"render",value:function(){var e=this.props.forToday,t=p()("path-selector__option",{"path-selector__option--disabled":!e});return l.a.createElement("div",{className:"modal__wrapper"},l.a.createElement("div",{className:"modal__header"},l.a.createElement("span",{className:"modal__header-steps"},l.a.createElement("span",null,"Step 1")," / 3")),l.a.createElement("div",{className:"modal__container"},l.a.createElement("div",{className:"subheader subheader--accent"},"Which of the following action",l.a.createElement("br",null),"do you want to take?"),l.a.createElement("div",{className:"path-selector"},l.a.createElement("div",{className:"path-selector__option"},l.a.createElement("div",{className:"path-selector__option-inner",onClick:this.createSignIn},"Sign-In Attendance")),l.a.createElement("div",{className:t},l.a.createElement("div",{className:"path-selector__option-inner",onClick:this.createSignOut},"Sign-Out Attendance",!e&&l.a.createElement("div",{className:"path-selector__option-inner__desc"},"Students can be Signed-out only for current day"))))))}}])&&m(t.prototype,n),r&&m(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.Component),_=o,w="contextTypes",x={nextStep:s.a.func,prevStep:s.a.func},w in _?Object.defineProperty(_,w,{value:x,enumerable:!0,configurable:!0,writable:!0}):_[w]=x,g((r=a).prototype,"createSignIn",[e],Object.getOwnPropertyDescriptor(r.prototype,"createSignIn"),r.prototype),g(r.prototype,"createSignOut",[e],Object.getOwnPropertyDescriptor(r.prototype,"createSignOut"),r.prototype),r);t.default=O}.call(this,n(4).bind)},function(e,t,n){"use strict";n.r(t),function(e){var r,o,a,i=n(0),l=n.n(i),c=n(1),s=n.n(c),u=n(5),p=n(6),f=n(10),d=n(63),m=n(17),y=n(19),b=n(18),h=n(31),v=n(12),g=n(601),_=n.n(g),w=n(169),x=n.n(w),O=n(564),k=n.n(O),j=n(282);function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e){return function(e){if(Array.isArray(e))return P(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=I(e);if(t){var o=I(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return D(this,n)}}function D(e,t){if(t&&("object"===E(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M(e,t,n,r,o){var a={};return Object.keys(r).forEach((function(e){a[e]=r[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var L=(a=o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&R(e,t)}(a,e);var t,n,r,o=T(a);function a(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),t=o.call(this,e);var n=N(N({},a.initialFilters),{},{isSignedIn:t.getIsSignedIn()}),r=Object(v.a)(t.props.students,n);return t.state={filteredStudents:r,filteredStudentsIds:r.map((function(e){return e.id})),initialFilteredCount:r.length},t}return t=a,(n=[{key:"getIsSignedIn",value:function(){if(this.props.forToday||"in"!==this.props.action)return"out"===this.props.action}},{key:"updateFilters",value:function(e){var t=N(N({},e),{},{isSignedIn:this.getIsSignedIn()}),n=Object(v.a)(this.props.students,t);this.setState({filteredStudents:n,filteredStudentsIds:n.map((function(e){return e.id})),initialFilteredCount:n.length})}},{key:"studentIsChecked",value:function(e){return this.props.selectedStudents.indexOf(e.id)>-1}},{key:"toggleStudent",value:function(e){var t=this.props,n=t.selectedStudents,r=t.updateStudents,o=n.indexOf(e);r(o>-1?[].concat(S(n.slice(0,o)),S(n.slice(o+1))):[].concat(S(n),[e]))}},{key:"renderStudents",value:function(){var e=this,t=this.state.filteredStudents.map((function(t,n){return l.a.createElement(d.a,{key:"student-".concat(n),student:t,checked:e.studentIsChecked(t),onClick:function(){return e.toggleStudent(t.id)}})}));return t.length?t:l.a.createElement("div",{className:"students-cards__message"},"No students found by filter")}},{key:"selectedCounter",value:function(){var e=this.props.selectedStudents;return e.length>0?"".concat(e.length," STUDENTS SELECTED"):"NO STUDENT SELECTED"}},{key:"toggleAllVisible",value:function(){var e=this.props,t=e.selectedStudents,n=e.updateStudents,r=this.state.filteredStudentsIds;n(this.isAllVisibleChecked()?x()(t,r):_()(t,r))}},{key:"isAllVisibleChecked",value:function(){var e=this.state,t=e.filteredStudents,n=e.filteredStudentsIds;return t.length>0&&t.length===k()(this.props.selectedStudents,n).length}},{key:"render",value:function(){var e=this,t=this.props,n=t.action,r=t.rooms,o=t.tags,a=t.selectedStudents,i=t.isStudentsLoading,c=t.students,s=a.map((function(e){return c.find((function(t){return t.id===e}))}));return l.a.createElement("div",{className:"modal__wrapper"},l.a.createElement("div",{className:"modal__header modal__header--bordered"},l.a.createElement(p.a,{iconName:"back",className:"modal__header-back",onClick:function(){return e.context.prevStep()}}),l.a.createElement("span",{className:"modal__header-title"},"Sign-",n," Attendance"),l.a.createElement("span",{className:"modal__header-steps"},l.a.createElement("span",null,"Step 2")," / 3"),l.a.createElement("div",{className:"modal__header-controls"},l.a.createElement(j.default,{rooms:r,tags:o,onUpdate:this.updateFilters}))),l.a.createElement("div",{className:"modal__container"},l.a.createElement("div",{className:"students-cards__aux"},l.a.createElement(m.a,{checked:this.isAllVisibleChecked(),onChange:this.toggleAllVisible,label:"Select all"}),l.a.createElement("span",{className:"students-cards__counter"},s.length?l.a.createElement(y.b,{tooltip:l.a.createElement(h.a,{students:s}),maxHeight:110},this.selectedCounter()):this.selectedCounter())),l.a.createElement("div",{className:"students-cards"},i?l.a.createElement("div",{className:"students-cards__message"},l.a.createElement(b.a,null)):this.renderStudents())),l.a.createElement("div",{className:"modal__controls"},l.a.createElement(f.a,{label:"Continue",onClick:function(){return e.context.nextStep()},disabled:a.length<1,"data-cy":"continue"})))}}])&&z(t.prototype,n),r&&z(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.Component),A(o,"contextTypes",{nextStep:s.a.func,prevStep:s.a.func}),A(o,"initialFilters",{search:"",roomId:"",tagIds:[],isSignedIn:null}),M((r=a).prototype,"updateFilters",[e],Object.getOwnPropertyDescriptor(r.prototype,"updateFilters"),r.prototype),M(r.prototype,"toggleAllVisible",[e],Object.getOwnPropertyDescriptor(r.prototype,"toggleAllVisible"),r.prototype),r);t.default=Object(u.b)((function(e){return{isStudentsLoading:e.students.loading}}))(L)}.call(this,n(4).bind)},function(e,t,n){"use strict";n.r(t),function(e){var r,o,a,i=n(0),l=n.n(i),c=n(1),s=n.n(c),u=n(5),p=n(3),f=n.n(p),d=n(20),m=n(6),y=n(63),b=n(2);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e){return function(e){if(Array.isArray(e))return w(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=E(e);if(t){var o=E(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return j(this,n)}}function j(e,t){if(t&&("object"===h(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(e,t,n,r,o){var a={};return Object.keys(r).forEach((function(e){a[e]=r[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var C=(a=o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O(e,t)}(a,e);var t,n,r,o=k(a);function a(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(e=o.call(this)).state={showExtraName:!1,transferToNewRoom:!1},e}return t=a,(n=[{key:"configureForm",value:function(e){switch(this.props.action){case"in":this.setState({showExtraName:"other"===e.staffId});break;case"out":this.setState({transferToNewRoom:e.transferToNewRoom,showExtraName:"other"===e.staffId})}}},{key:"deleteStudent",value:function(e){var t=this;return function(){var n=t.props,r=n.selectedStudents,o=n.updateStudents,a=r.indexOf(e);o([].concat(_(r.slice(0,a)),_(r.slice(a+1))))}}},{key:"submit",value:function(e){var t=this.props.staff,n=f()(e.time,"hh:mm A").get("hour"),r=f()(e.time,"hh:mm A").get("minute"),o=g(g({},e),{},{date:f()(e.date).set({hour:n,minute:r}).format()});if("other"!==e.staffId){var a=t.find((function(t){return t.id===e.staffId}));o.type="Teacher",o.staffName=a?a.name:void 0}else o.staffId=void 0,o.type=void 0;this.props.submit(o)}},{key:"render",value:function(){var e=this,t=this.props,n=t.students,r=t.staff,o=t.rooms,a=t.selectedStudents,i=t.action,c=t.isBatchLoading,s=t.defaultValues,u=this.state,p=u.transferToNewRoom,h=u.showExtraName,v=p?"Transfer":"Sign ".concat(i),g=f()(s.report_date).format("YYYY-MM-DD")<f()().format("YYYY-MM-DD");return l.a.createElement("div",{className:"modal__wrapper"},l.a.createElement("div",{className:"modal__header modal__header--bordered"},l.a.createElement(m.a,{iconName:"back",className:"modal__header-back",onClick:function(){return e.context.prevStep()}}),l.a.createElement("span",{className:"modal__header-title"},"Sign-",i," Attendance"),l.a.createElement("span",{className:"modal__header-steps"},l.a.createElement("span",null,"Step 3")," / 3")),l.a.createElement("div",{className:"modal__container"},l.a.createElement(b.a,{onChange:this.configureForm,onSubmit:this.submit,validateOn:"submit",isLoading:c},l.a.createElement("div",{className:"form__row form__row--justified bulk-sign__actions"},l.a.createElement("div",{className:"bulk-sign__params"},l.a.createElement("div",{className:"form__row form__row--text"},"Please fill the required fields to ",l.a.createElement("span",null,"Sign-",i)," the selected students"),"in"===i&&l.a.createElement("div",{className:"form__row"},l.a.createElement(b.a.Select,{name:"toRoom",type:"radio",title:"To room","data-cy":"toRoom",required:!0},o.map((function(e){return l.a.createElement(b.a.Select.Item,{key:e.id,label:e.name,value:e.id})})))),l.a.createElement("div",{className:"form__row"},l.a.createElement(b.a.Select,{name:"staffId",type:"radio",title:"Signed ".concat(i," by"),"data-cy":"toStaffId",required:!0},r.map((function(e){return l.a.createElement(b.a.Select.Item,{key:e.id,label:e.name,value:e.id})})),l.a.createElement(b.a.Select.Item,{key:"other",label:"Other",value:"other",className:"select-group__item--accent"}))),h&&l.a.createElement("div",{className:"form__row"},l.a.createElement(b.a.Input,{name:"staffName",placeholder:"Staff Name","data-cy":"staffName",required:!0})),"out"===i&&l.a.createElement("div",{className:"form__row"},l.a.createElement(b.a.Checkbox,{name:"transferToNewRoom",defaultValue:p,label:"Transfer them to different room","data-cy":"transferToNewRoom",required:!0})),"out"===i&&p&&l.a.createElement("div",{className:"form__row"},l.a.createElement(b.a.Select,{name:"toRoom",type:"radio",title:"To room","data-cy":"toRoom",required:!0},o.map((function(e){return l.a.createElement(b.a.Select.Item,{key:e.id,label:e.name,value:e.id})})))),l.a.createElement("div",{className:"form__row form__row--justified"},l.a.createElement(b.a.DatePicker,{name:"date",placeholder:"Select Date",defaultValue:f()(s.report_date).toDate(),disabled:!0}),l.a.createElement(b.a.TimeInput,{name:"time",defaultValue:f()().format("hh:mm A"),required:!0}))),l.a.createElement("div",{className:"bulk-sign__list"},l.a.createElement("div",{className:"bulk-sign__list-title"},l.a.createElement("span",null,a.length)," selected"),l.a.createElement("div",{className:"bulk-sign__list-content"},l.a.createElement(d.Scrollbars,{autoHeight:!0,autoHeightMin:0,autoHeightMax:285},n.filter((function(e){return a.indexOf(e.id)>-1})).map((function(t,n){return l.a.createElement(y.a,{checkable:!1,action:e.deleteStudent(t.id),actionIcon:"delete",key:"student-".concat(n),student:t})})))))),g&&l.a.createElement("div",{className:"bulk-sign__warning"},"You are signing-in students for an older date -"," ",f()(s.report_date).format("MMM D, YYYY")),l.a.createElement("div",{className:"form__row form__row--actions"},l.a.createElement(b.a.Submit,{label:v,"data-cy":"out"===i?"signOut":"signIn"})))))}}])&&x(t.prototype,n),r&&x(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.Component),S(o,"contextTypes",{nextStep:s.a.func,prevStep:s.a.func}),P((r=a).prototype,"configureForm",[e],Object.getOwnPropertyDescriptor(r.prototype,"configureForm"),r.prototype),P(r.prototype,"deleteStudent",[e],Object.getOwnPropertyDescriptor(r.prototype,"deleteStudent"),r.prototype),P(r.prototype,"submit",[e],Object.getOwnPropertyDescriptor(r.prototype,"submit"),r.prototype),r);t.default=Object(u.b)((function(e){return{isBatchLoading:e.batch.loading}}))(C)}.call(this,n(4).bind)},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(1),i=n.n(a),l=n(6),c=n(5),s=n(147);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b(e);if(t){var o=b(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){if(t&&("object"===u(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h,v,g,_=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(i,e);var t,n,r,a=m(i);function i(){return p(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.onChooseTemplate,n=e.isEdit,r=e.fromTemplate,a=e.fromLead,i=this.context,c=i.currentStep,u=i.totalSteps;return o.a.createElement("div",{className:"modal__wrapper communication-send-msg__edit-msg"},o.a.createElement("div",{className:"modal__header modal__header--bordered"},o.a.createElement("span",{className:"modal__header-title communication-send-msg__title"},n?"Edit":"New"," Email ",r?"Template":"Message"),!r&&!a&&o.a.createElement("span",{className:"modal__header-steps"},o.a.createElement("span",null,"Step ",c)," / ",u),!r&&o.a.createElement(l.a,{iconName:"template",className:"communication-send-msg__edit-msg-template-btn",title:"Choose From Template",onClick:t,"data-cy":"choose-template"})),o.a.createElement(s.default,this.props))}}])&&f(t.prototype,n),r&&f(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component);h=_,v="contextTypes",g={currentStep:i.a.number,totalSteps:i.a.number},v in h?Object.defineProperty(h,v,{value:g,enumerable:!0,configurable:!0,writable:!0}):h[v]=g;t.default=Object(c.b)((function(e){return{currentUserEmail:e.currentUser.data.current_school.sender_email||e.currentUser.data.email,awsSignature:e.awsSignature.data,authToken:e.currentUser.data.auth_token}}))(_)},function(e,t,n){"use strict";n.r(t),function(e){var r,o,a,i=n(0),l=n.n(i),c=n(1),s=n.n(c),u=n(7),p=n.n(u),f=n(5),d=n(6),m=n(16),y=n(10);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w(e);if(t){var o=w(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _(this,n)}}function _(e,t){if(t&&("object"===b(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t,n,r,o){var a={};return Object.keys(r).forEach((function(e){a[e]=r[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var O,k,j,E=(a=o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}(a,e);var t,n,r,o=g(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this,e)).state={content:e.message.content||"",replyTo:e.message.replyTo||e.currentUserEmail,groupEntity:e.message.groupEntity,isContentValid:!0,awsLoaded:!1},t}return t=a,(n=[{key:"updateContent",value:function(e){this.setState({content:e})}},{key:"validate",value:function(){var e=this.state.content,t=e.length>0&&e.length<=160;return this.setState({isContentValid:t}),t}},{key:"handleContinue",value:function(){var e=this.state,t=e.content,n=e.replyTo;this.validate()&&this.props.onSubmit({content:t,replyTo:n})}},{key:"handleSaveTemplate",value:function(){var e=this.state.content;this.validate()&&this.props.onSaveTemplate({content:e})}},{key:"handleSaveDraft",value:function(){var e=this.state,t=e.content,n=e.replyTo;this.validate()&&this.props.onSaveDraft({content:t,replyTo:n})}},{key:"render",value:function(){var e=this.state,t=e.content,n=e.isContentValid,r=this.props,o=r.message,a=r.onChooseTemplate,i=r.isEdit,c=r.fromTemplate,s=r.isSavingDraft,u=r.isSavingTemplate,f=r.groupEntity,b=r.fromLead;return l.a.createElement("div",{className:"communication-send-msg__edit-sms"},l.a.createElement("div",{className:"modal__header modal__header--bordered"},l.a.createElement("span",{className:"modal__header-title communication-send-msg__title"},i?"Edit":"New"," SMS ",c?"Template":"Message"),!c&&!b&&l.a.createElement("span",{className:"modal__header-steps"},l.a.createElement("span",null,"Step 1")," / 2"),!c&&l.a.createElement(d.a,{iconName:"template",className:"communication-send-msg__edit-msg-template-btn",title:"Choose From Template",onClick:a,"data-cy":"choose-template"})),l.a.createElement("div",{className:"modal__container communication-send-msg__edit-sms-form"},l.a.createElement("div",{className:"form__row"},l.a.createElement("div",{className:p()("form-input",{"form-input--invalid":!n})},l.a.createElement("div",{className:"form-input__field"},l.a.createElement(m.a,{multiline:!0,name:"content",value:t,placeholder:"Write message here",required:!0,defaultValue:o.content,onChange:this.updateContent})),!n&&l.a.createElement("div",{className:"form-input__validation-text"},0===t.length&&"Cannot be empty",t.length>=160&&"Cannot be greater than 160 characters")))),l.a.createElement("div",{className:"communication-send-msg__edit-sms-warning"},"Your message can't be greater than 160 characters"),!f&&l.a.createElement("div",{className:"modal__controls"},c&&l.a.createElement(y.a,{"data-cy":"save-template",label:"Save Template",onClick:this.handleSaveTemplate,disabled:u}),!c&&l.a.createElement(y.a,{secondary:!0,label:"Save as Draft",onClick:this.handleSaveDraft,isLoading:s,disabled:s,"data-cy":"save-as-draft"}),!c&&l.a.createElement(y.a,{label:b?"Send":"Continue",onClick:this.handleContinue,disabled:s&&!n,"data-cy":"continue"})))}}])&&h(t.prototype,n),r&&h(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.PureComponent),O=o,k="propTypes",j={message:s.a.shape({content:s.a.string}),isEdit:s.a.bool,currentUserEmail:s.a.string,isSavingDraft:s.a.bool,onSubmit:s.a.func.isRequired,onSaveDraft:s.a.func.isRequired,onChooseTemplate:s.a.func.isRequired},k in O?Object.defineProperty(O,k,{value:j,enumerable:!0,configurable:!0,writable:!0}):O[k]=j,x((r=a).prototype,"updateContent",[e],Object.getOwnPropertyDescriptor(r.prototype,"updateContent"),r.prototype),x(r.prototype,"validate",[e],Object.getOwnPropertyDescriptor(r.prototype,"validate"),r.prototype),x(r.prototype,"handleContinue",[e],Object.getOwnPropertyDescriptor(r.prototype,"handleContinue"),r.prototype),x(r.prototype,"handleSaveTemplate",[e],Object.getOwnPropertyDescriptor(r.prototype,"handleSaveTemplate"),r.prototype),x(r.prototype,"handleSaveDraft",[e],Object.getOwnPropertyDescriptor(r.prototype,"handleSaveDraft"),r.prototype),r);t.default=Object(f.b)((function(e){return{currentUserEmail:e.currentUser.data.email,awsSignature:e.awsSignature.data,authToken:e.currentUser.data.auth_token}}))(E)}.call(this,n(4).bind)},function(e,t,n){"use strict";n.r(t),function(e){var r,o,a,i=n(0),l=n.n(i),c=n(1),s=n.n(c),u=n(16),p=n(85),f=n(491),d=n(480);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=x(e);if(t){var o=x(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return w(this,n)}}function w(e,t){if(t&&("object"===m(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e,t,n,r,o){var a={};return Object.keys(r).forEach((function(e){a[e]=r[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var j=(a=o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g(e,t)}(a,e);var t,n,r,o=_(a);function a(){return h(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"updateSearch",value:function(e){this.props.onChange({search:e})}},{key:"updateStateId",value:function(e){this.props.onChange({stateId:e})}},{key:"updatePriority",value:function(e){this.props.onChange({priority:e})}},{key:"render",value:function(){var e=this.props,t=e.filters,n=e.leadSources.reduce((function(e,t){return b(b({},e),{},O({},t.id,t.name))}),{}),r={roomId:{type:"room"},age:{type:"age-filter",label:"Age",singleValue:!0},source_id:{type:"select",title:"Source",label:"Source",options:b({"":"All Sources"},n)}},o={roomId:t.roomId,age:t.age,source_id:t.source_id};return l.a.createElement("div",{className:"form--inline"},l.a.createElement(p.a,{filters:r,defaultValues:o,onSubmit:this.props.onChange},l.a.createElement(u.a,{placeholder:"Search Student Name",value:t.search,onChange:this.updateSearch})),l.a.createElement(f.a,{onChange:this.updateStateId,value:t.stateId}),l.a.createElement(d.b,{onChange:this.updatePriority,value:t.priority}))}}])&&v(t.prototype,n),r&&v(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.PureComponent),O(o,"propTypes",{filters:s.a.shape({search:s.a.string,roomId:s.a.string,state:s.a.string,priority:s.a.string,age:s.a.object}),rooms:s.a.arrayOf(s.a.object),onChange:s.a.func.isRequired}),k((r=a).prototype,"updateSearch",[e],Object.getOwnPropertyDescriptor(r.prototype,"updateSearch"),r.prototype),k(r.prototype,"updateStateId",[e],Object.getOwnPropertyDescriptor(r.prototype,"updateStateId"),r.prototype),k(r.prototype,"updatePriority",[e],Object.getOwnPropertyDescriptor(r.prototype,"updatePriority"),r.prototype),r);t.default=j}.call(this,n(4).bind)},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(1),i=n.n(a),l=n(12),c=n(6),s=n(10),u=n(3),p=n.n(u),f=n(29),d=n(288);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w(e);if(t){var o=w(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _(this,n)}}function _(e,t){if(t&&("object"===m(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}(i,e);var t,n,r,a=g(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=a.call(this,e)).validations={},"email"===e.kind&&(t.validations["No Email"]=function(e){return 0===e.carers.filter((function(e){return e.email})).length}),"sms"===e.kind&&(t.validations["No Phone"]=function(e){return 0===e.carers.filter((function(e){return e.mobile_phone})).length}),t}return t=i,r=[{key:"filterByCustomConditions",value:function(e,t){var n=!1;t.stateId&&e.state_id!==t.stateId||(n=!0);var r=!1;t.priority&&e.priority!==t.priority||(r=!0);var o=!1;t.source_id&&e.source_id!==t.source_id||(o=!0);var a=!1;if(t.age){if(null!==e.dob){var i=t.age,l=i.option,c=i.months,s=p()().diff(p()(e.dob),"months");switch(l){case"less":a=s<parseInt(c[0]);break;case"greater":a=s>parseInt(c[0]);break;case"range":a=s>parseInt(c[0])&&s<parseInt(c[1])}}}else a=!0;return o&&r&&n&&a}}],(n=[{key:"filterEnrollments",value:function(e,t){return Object(l.a)(e.map((function(e){return b(b({},e),{},{name:"".concat(e.first_name," ").concat(e.last_name)})})),t,i.filterByCustomConditions)}},{key:"render",value:function(){var e=this.props,t=e.leadSources,n=e.filters,r=e.enrollments,a=e.selectedEnrollments,i=e.isSaving,l=e.onSelect,u=e.onFiltersChange,p=e.onSubmit,m=this.filterEnrollments(r,n);return o.a.createElement("div",{className:"modal__wrapper communication-send-msg__enrollments"},o.a.createElement("div",{className:"modal__header modal__header--bordered"},o.a.createElement(c.a,{iconName:"back",size:20,onClick:this.context.prevStep}),o.a.createElement("span",{className:"modal__header-title"},"Select Leads"),o.a.createElement("span",{className:"modal__header-steps"},o.a.createElement("span",null,"Step 2")," / 2"),o.a.createElement("div",{className:"communication-send-msg__enrollments-filter"},o.a.createElement(d.default,{leadSources:t,filters:n,onChange:u}))),o.a.createElement("div",{className:"modal__container"},o.a.createElement(f.default,{persons:m,allPersons:r,selectedIds:a,onSelect:l,listHeight:455,type:"kid",validations:this.validations,disableInvalid:!1})),o.a.createElement("div",{className:"modal__controls"},o.a.createElement(s.a,{label:"Send Message",onClick:p,isLoading:i,disabled:i||0===a.length})))}}])&&h(t.prototype,n),r&&h(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component);x(O,"contextTypes",{prevStep:i.a.func}),x(O,"propTypes",{enrollments:i.a.array,filters:i.a.object,selectedEnrollments:i.a.array,isSaving:i.a.bool,onSelect:i.a.func,onFiltersChange:i.a.func,onSubmit:i.a.func}),t.default=O},function(e,t,n){"use strict";n.r(t),function(e){var r,o,a,i=n(0),l=n.n(i),c=n(1),s=n.n(c),u=n(182),p=n(91);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var o=v(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _,w,x,O,k,j,E=(a=o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}(a,e);var t,n,r,o=b(a);function a(){return d(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"updateActivityType",value:function(e){this.props.onTypeChange&&this.props.onTypeChange(e),this.context.nextStep()}},{key:"render",value:function(){var e=this,t=this.context.currentStep;return l.a.createElement("div",{className:"create-activity__new-activity"},l.a.createElement("div",{className:"modal__header create-activity__header"},l.a.createElement("div",{className:"create-activity__header-title"},l.a.createElement("span",{className:"modal__header-title"},"Choose Activity Type"),l.a.createElement("div",{className:"modal__header-steps"},l.a.createElement("span",null,"Step ",t)," / 2")),l.a.createElement("div",{className:"modal__header-desc"},"Share student activity with parents. Parents can view activity on mobile app.")),l.a.createElement("div",{className:"create-activity__choose"},p.a.map((function(t,n){return l.a.createElement("div",{key:"".concat(t.id,"_").concat(n),className:"create-activity__choose-item"},l.a.createElement("div",{key:"".concat(t.id,"_").concat(n),className:"create-activity__choose-item__inner",onClick:function(){return e.updateActivityType(t.id)}},l.a.createElement(u.a,{type:t.id}),l.a.createElement("span",null,t.label)))}))))}}])&&m(t.prototype,n),r&&m(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.Component),g(o,"propTypes",{onTypeChange:s.a.func}),g(o,"defaultProps",{}),g(o,"contextTypes",{currentStep:s.a.number,totalSteps:s.a.number,nextStep:s.a.func}),_=(r=a).prototype,w="updateActivityType",x=[e],O=Object.getOwnPropertyDescriptor(r.prototype,"updateActivityType"),k=r.prototype,j={},Object.keys(O).forEach((function(e){j[e]=O[e]})),j.enumerable=!!j.enumerable,j.configurable=!!j.configurable,("value"in j||j.initializer)&&(j.writable=!0),j=x.slice().reverse().reduce((function(e,t){return t(_,w,e)||e}),j),k&&void 0!==j.initializer&&(j.value=j.initializer?j.initializer.call(k):void 0,j.initializer=void 0),void 0===j.initializer&&(Object.defineProperty(_,w,j),j=null),r);t.default=E}.call(this,n(4).bind)},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(1),i=n.n(a),l=n(2),c=n(6),s=n(5),u=n(25),p=n(110),f=n(91),d=n(149);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_(e);if(t){var o=_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g(this,n)}}function g(e,t){if(t&&("object"===m(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(i,e);var t,n,r,a=v(i);function i(){return y(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.type,n=e.constants,r=e.onSave,a=e.isSaving,i=e.kidIds,s=e.onUpdate,u=e.activity,m=e.staffOnlyActivities,y=e.isAdmin,b=e.onUpdateKids,h=this.context,v=h.currentStep,g=h.uploadedPhotos,_=p.default[t],w=f.a.find((function(e){return e.id===t})),x="photo_activity"===t&&u.data.photo_ids&&0===u.data.photo_ids.length&&0===g.length,O=!y&&m.includes(t);return y&&m.includes(t)&&(u.is_staff_only=!0),o.a.createElement("div",{className:"create-activity__new-activity"},o.a.createElement("div",{className:"modal__header create-activity__header"},o.a.createElement("div",{className:"create-activity__header-title"},o.a.createElement(c.a,{iconName:"back",className:"modal__back",onClick:this.context.prevStep}),o.a.createElement("span",{className:"modal__header-title"},w&&w.label," Activity"),o.a.createElement("div",{className:"modal__header-steps"},o.a.createElement("span",null,"Step ",v)," / 2"))),o.a.createElement(l.a,{className:"create-activity__form",key:t,onSubmit:r,onChange:s,isLoading:a},o.a.createElement("div",{className:"create-activity__form-container"},o.a.createElement(_,{forceStaff:O,constants:n,activity:u,onChange:s}),o.a.createElement(d.default,{value:i,onChange:b})),o.a.createElement("div",{className:"form__row--actions create-activity__actions"},o.a.createElement(l.a.Submit,{label:"Save","data-cy":"continue",disabled:x}))))}}])&&b(t.prototype,n),r&&b(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component);w(x,"propTypes",{FormComponent:i.a.func,constants:i.a.object,activity:i.a.object,isSaving:i.a.bool,kidIds:i.a.array,onUpdate:i.a.func,onUpdateKids:i.a.func,onSave:i.a.func}),w(x,"defaultProps",{}),w(x,"contextTypes",{uploadedPhotos:i.a.array,currentStep:i.a.number,totalSteps:i.a.number,prevStep:i.a.func});t.default=Object(s.b)((function(e){return{isAdmin:Object(u.d)(e),staffOnlyActivities:e.currentUser.data.current_school.staff_only_activities}}))(x)},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(3),i=n.n(a),l=n(2),c=n(28),s=n(34);t.default=function(e){var t=e.activity,n=e.constants,r=e.useDate,a=void 0===r||r,u=e.forceStaff;return o.a.createElement("div",{className:"form__body"},a&&o.a.createElement("div",{className:"form__row form__row--datetime"},o.a.createElement(l.a.DatePicker,{label:"Date",name:"date",defaultValue:i()(t.activity_time).toDate(),required:!0}),o.a.createElement(l.a.TimeInput,{label:"Time",name:"time",defaultValue:Helpers.formatTime(t.activity_time),required:!0})),o.a.createElement("div",{className:"form__row form__row--justified"},o.a.createElement(l.a.Select,{name:"type",defaultValue:t.data.type,title:"Type",label:"Type","data-cy":"type",required:!0},n.meals.type.map((function(e){return o.a.createElement(l.a.Select.Item,{label:e,value:e,key:e})}))),o.a.createElement(l.a.Select,{name:"quantity",defaultValue:t.data.quantity,title:"Quantity",label:"Quantity","data-cy":"quantity",required:!0},n.meals.quantity.map((function(e){return o.a.createElement(l.a.Select.Item,{label:e,value:e,key:e})})))),o.a.createElement(s.default,{activity:t}),o.a.createElement("div",{className:"form__row"},o.a.createElement(l.a.Textarea,{name:"description",defaultValue:t.data.desc,placeholder:"Description",label:"Description"})),o.a.createElement("div",{className:"form__row"},u?c.default.staffOnlyForce:o.a.createElement(l.a.Checkbox,{type:"circle",name:"staffOnly",label:c.default.staffOnly,defaultValue:t.is_staff_only})))}},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(3),i=n.n(a),l=n(2),c=n(28),s=n(34);t.default=function(e){var t=e.activity,n=e.useDate,r=void 0===n||n,a=e.forceStaff;return o.a.createElement("div",{className:"form__body"},r&&o.a.createElement("div",{className:"form__row form__row--datetime"},o.a.createElement(l.a.DatePicker,{label:"Date",name:"date",defaultValue:i()(t.activity_time).toDate(),required:!0}),o.a.createElement(l.a.TimeInput,{label:"Time",name:"time",defaultValue:Helpers.formatTime(t.activity_time),required:!0})),o.a.createElement("div",{className:"form__row"},o.a.createElement(l.a.Input,{name:"amount",defaultValue:t.data.amount,placeholder:"Amount",label:"Amount (oz)",required:!0})),o.a.createElement(s.default,{activity:t}),o.a.createElement("div",{className:"form__row"},o.a.createElement(l.a.Textarea,{name:"description",defaultValue:t.data.desc,placeholder:"Description",label:"Description"})),o.a.createElement("div",{className:"form__row"},a?c.default.staffOnlyForce:o.a.createElement(l.a.Checkbox,{type:"circle",name:"staffOnly",label:c.default.staffOnly,defaultValue:t.is_staff_only})))}},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(3),i=n.n(a),l=n(2),c=n(28),s=n(34);t.default=function(e){var t=e.activity,n=e.useDate,r=void 0===n||n,a=e.forceStaff;return o.a.createElement("div",{className:"form__body"},r&&o.a.createElement("div",{className:"form__row form__row--datetime"},o.a.createElement(l.a.DatePicker,{label:"Date",name:"date",defaultValue:i()(t.activity_time).toDate(),required:!0}),o.a.createElement(l.a.TimeInput,{label:"Time",name:"time",defaultValue:Helpers.formatTime(t.activity_time),required:!0})),o.a.createElement("div",{className:"form__row form__row--datetime"},o.a.createElement(l.a.TimeInput,{label:"Start Time",name:"start_time",defaultValue:Helpers.formatTime(t.data.start_time),required:!0}),o.a.createElement(l.a.TimeInput,{label:"End Time",name:"end_time",defaultValue:Helpers.formatTime(t.data.end_time),required:!0})),o.a.createElement(s.default,{activity:t}),o.a.createElement("div",{className:"form__row"},o.a.createElement(l.a.Textarea,{name:"description",defaultValue:t.data.desc,placeholder:"Description",label:"Description"})),o.a.createElement("div",{className:"form__row"},a?c.default.staffOnlyForce:o.a.createElement(l.a.Checkbox,{type:"circle",name:"staffOnly",label:c.default.staffOnly,defaultValue:t.is_staff_only})))}},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(3),i=n.n(a),l=n(2),c=n(28),s=n(34);t.default=function(e){var t=e.activity,n=e.useDate,r=void 0===n||n,a=e.forceStaff;return o.a.createElement("div",{className:"form__body"},r&&o.a.createElement("div",{className:"form__row form__row--datetime"},o.a.createElement(l.a.DatePicker,{label:"Date",name:"date",defaultValue:i()(t.activity_time).toDate(),required:!0}),o.a.createElement(l.a.TimeInput,{label:"Time",name:"time",defaultValue:Helpers.formatTime(t.activity_time),required:!0})),o.a.createElement("div",{className:"form__row"},o.a.createElement(l.a.Input,{name:"injury_nature","data-cy":"injury-nature",defaultValue:t.activiable.injury_nature,title:"Nature of Injury/Incident",label:"Nature of Injury/Incident",required:!0})),o.a.createElement("div",{className:"form__row"},o.a.createElement(l.a.Input,{name:"first_aid",defaultValue:t.activiable.first_aid,title:"First Aid Administered",label:"First Aid Administered"})),o.a.createElement(s.default,{activity:t}),o.a.createElement("div",{className:"form__row"},o.a.createElement(l.a.Textarea,{name:"other_comments",defaultValue:t.activiable.other_comments,placeholder:"Additional Notes",label:"Additional Notes"})),o.a.createElement("div",{className:"form__row"},o.a.createElement(l.a.Checkbox,{type:"circle",name:"notify_parent",label:"Was the parent notified?",defaultValue:t.activiable.notify_parent})),o.a.createElement("div",{className:"form__row"},a?c.default.staffOnlyForce:o.a.createElement(l.a.Checkbox,{type:"circle",name:"staffOnly",label:c.default.staffOnly,defaultValue:t.is_staff_only})))}},function(e,t,n){"use strict";n.r(t),function(e){var r,o,a,i=n(0),l=n.n(i),c=n(1),s=n.n(c),u=n(5),p=n(3),f=n.n(p),d=n(2),m=n(150),y=n(28),b=n(34);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O(e);if(t){var o=O(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return x(this,n)}}function x(e,t){if(t&&("object"===h(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e,t,n,r,o){var a={};return Object.keys(r).forEach((function(e){a[e]=r[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var E=(a=o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_(e,t)}(a,e);var t,n,r,o=w(a);function a(){return v(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"componentDidMount",value:function(){req.schoolPhotos()}},{key:"openGallery",value:function(){var e=this;this.context.goToStep("gallery",{selectedPhotoIds:this.props.activity.data.photo_ids,onChange:this.updatePhotos,goBack:function(){return e.context.goToStep(1)}})}},{key:"openUpload",value:function(){var e=this;this.context.goToStep("upload_photos",{goBack:function(){return e.context.goToStep(1)}})}},{key:"updatePhotos",value:function(e){(0,this.context.updateSelectedPhotos)(e)}},{key:"render",value:function(){var e=this.context,t=e.uploadedPhotos,n=e.selectedPhotos,r=this.props,o=r.activity,a=r.useDate,i=void 0===a||a,c=r.isEditing,s=r.forceStaff;return l.a.createElement("div",{className:"form__body"},i&&l.a.createElement("div",{className:"form__row form__row--datetime"},l.a.createElement(d.a.DatePicker,{label:"Date",name:"date",defaultValue:f()(o.activity_time).toDate(),required:!0}),l.a.createElement(d.a.TimeInput,{label:"Time",name:"time",defaultValue:Helpers.formatTime(o.activity_time),required:!0})),!c&&l.a.createElement(m.PhotoActivityPanel,{uploaded:t.length>0,photos:t.length>0?t:n,selectedPhotoIds:t.length>0?t.map((function(e){return e.id})):o.data.photo_ids,onOpenGallery:this.openGallery,onOpenUpload:this.openUpload}),l.a.createElement(b.default,{activity:o}),l.a.createElement("div",{className:"form__row"},l.a.createElement(d.a.Input,{name:"caption",defaultValue:o.comment,placeholder:"Caption",label:"Caption"})),l.a.createElement("div",{className:"form__row"},s?y.default.staffOnlyForce:l.a.createElement(d.a.Checkbox,{type:"circle",name:"staffOnly",label:y.default.staffOnly,defaultValue:o.is_staff_only})))}}])&&g(t.prototype,n),r&&g(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.Component),k(o,"contextTypes",{selectedPhotos:s.a.array,uploadedPhotos:s.a.array,updateSelectedPhotos:s.a.func,updateAdditionalData:s.a.func,goToStep:s.a.func}),k(o,"propTypes",{activity:s.a.object,photos:s.a.array,useDate:s.a.bool}),k(o,"defaultProps",{photos:[]}),j((r=a).prototype,"openGallery",[e],Object.getOwnPropertyDescriptor(r.prototype,"openGallery"),r.prototype),j(r.prototype,"openUpload",[e],Object.getOwnPropertyDescriptor(r.prototype,"openUpload"),r.prototype),j(r.prototype,"updatePhotos",[e],Object.getOwnPropertyDescriptor(r.prototype,"updatePhotos"),r.prototype),r);t.default=Object(u.b)((function(e){return{photos:e.schoolPhotos.data.photos}}))(E)}.call(this,n(4).bind)},function(e,t,n){"use strict";n.r(t),function(e){var r,o,a,i=n(0),l=n.n(i),c=n(1),s=n.n(c),u=n(152);n(1241);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b(this,n)}}function b(e,t){if(t&&("object"===p(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,t,n,r,o){var a={};return Object.keys(r).forEach((function(e){a[e]=r[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var _=(a=o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}(a,e);var t,n,r,o=y(a);function a(){return f(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"getPhotoIdHash",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t={},n=e.length,r=0;r<n;r++)t[e[r]]=!0;return t}},{key:"selectPhoto",value:function(e){if(this.props.multiple){var t=this.getPhotoIdHash(this.props.selected);t[e]?delete t[e]:t[e]=!0;var n=this.props.photos.filter((function(e){return t[e.id]}));this.props.onSelect(Object.keys(t),n)}else this.props.onSelect(e,this.props.photos.find((function(t){return t.id===e})))}},{key:"renderPhotos",value:function(e,t){var n=this,r="string"==typeof t?v({},t,!0):this.getPhotoIdHash(t);return e.map((function(e){return l.a.createElement(u.default,{key:e.id,id:e.id,url:e.thumb_url,selected:r[e.id],onSelect:n.selectPhoto})}))}},{key:"render",value:function(){var e=this.props,t=e.photos,n=e.selected;return l.a.createElement("div",{className:"photo-collection"},this.renderPhotos(t,n))}}])&&d(t.prototype,n),r&&d(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.Component),v(o,"propTypes",{photos:s.a.array.isRequired,selected:s.a.oneOfType([s.a.string,s.a.arrayOf(s.a.string)]),multiple:s.a.bool,onSelect:s.a.func.isRequired}),v(o,"defaultProps",{photos:[]}),g((r=a).prototype,"selectPhoto",[e],Object.getOwnPropertyDescriptor(r.prototype,"selectPhoto"),r.prototype),g(r.prototype,"renderPhotos",[e],Object.getOwnPropertyDescriptor(r.prototype,"renderPhotos"),r.prototype),r);t.default=_}.call(this,n(4).bind)},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(3),i=n.n(a),l=n(2),c=n(28),s=n(34);t.default=function(e){var t=e.activity,n=e.useDate,r=void 0===n||n,a=e.forceStaff;return o.a.createElement("div",{className:"form__body"},r&&o.a.createElement("div",{className:"form__row form__row--datetime"},o.a.createElement(l.a.DatePicker,{label:"Date",name:"date",defaultValue:i()(t.activity_time).toDate(),required:!0}),o.a.createElement(l.a.TimeInput,{label:"Time",name:"time",defaultValue:Helpers.formatTime(t.activity_time),required:!0})),o.a.createElement(s.default,{activity:t}),o.a.createElement("div",{className:"form__row"},o.a.createElement(l.a.Input,{name:"caption",defaultValue:t.activiable.caption||t.comment,placeholder:"Caption",label:"Caption"})),o.a.createElement("div",{className:"form__row"},a?c.default.staffOnlyForce:o.a.createElement(l.a.Checkbox,{type:"circle",name:"staffOnly",label:c.default.staffOnly,defaultValue:t.is_staff_only})))}},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(3),i=n.n(a),l=n(2),c=n(28);t.default=function(e){var t=e.activity,n=e.forceStaff;return o.a.createElement("div",{className:"form__body"},o.a.createElement("div",{className:"form__row form__row--datetime"},o.a.createElement(l.a.DatePicker,{label:"Date",name:"date",defaultValue:i()(t.activity_time).toDate(),required:!0}),o.a.createElement(l.a.TimeInput,{label:"Time",name:"time",defaultValue:Helpers.formatTime(t.activity_time),required:!0})),o.a.createElement("div",{className:"form__row"},o.a.createElement(l.a.Textarea,{name:"note",defaultValue:t.activiable.note,placeholder:"Note",label:"Note"})),o.a.createElement("div",{className:"form__row"},n?c.default.staffOnlyForce:o.a.createElement(l.a.Checkbox,{type:"circle",name:"staffOnly",label:c.default.staffOnly,defaultValue:t.is_staff_only})))}},function(e,t,n){"use strict";n.r(t),function(e){var r,o,a,i=n(0),l=n.n(i),c=n(1),s=n.n(c),u=n(5),p=n(2),f=n(6),d=n(3),m=n.n(d),y=n(28),b=n(34);n(1249);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O(e);if(t){var o=O(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return x(this,n)}}function x(e,t){if(t&&("object"===h(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e,t,n,r,o){var a={};return Object.keys(r).forEach((function(e){a[e]=r[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var E=(a=o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_(e,t)}(a,e);var t,n,r,o=w(a);function a(){return v(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"componentDidMount",value:function(){req.learningActivityNames(),req.learningActivityCategories()}},{key:"manageNames",value:function(){this.context.goToStep("learning",{type:"name"})}},{key:"manageCategories",value:function(){this.context.goToStep("learning",{type:"category"})}},{key:"isLessonAndLearning",value:function(e){return!!e.activiable&&(e.activiable.lesson_id||!e.activiable.learning_activity_name)}},{key:"render",value:function(){var e=this.props,t=e.useDate,n=e.activity,r=e.categories,o=e.names,a=e.forceStaff;return l.a.createElement("div",{className:"form__body"},t&&l.a.createElement("div",{className:"form__row form__row--datetime"},l.a.createElement(p.a.DatePicker,{label:"Date",name:"date",defaultValue:m()(n.activity_time).toDate(),required:!0}),l.a.createElement(p.a.TimeInput,{label:"Time",name:"time",defaultValue:Helpers.formatTime(n.activity_time),required:!0})),!this.isLessonAndLearning(n)&&l.a.createElement("div",{className:"form__row form__row--justified"},l.a.createElement("div",{className:"learning__manage"},l.a.createElement(f.a,{className:"learning__manage-btn",title:"Manage",iconName:"manage",onClick:this.manageNames}),l.a.createElement(p.a.Select,{name:"name_id",defaultValue:n.activiable?n.activiable.learning_activity_name.id:void 0,placeholder:"Activity Name",label:"Activity Name",title:"Select Name","data-cy":"activity-name",required:!0},o.map((function(e){return l.a.createElement(p.a.Select.Item,{key:e.id,value:e.id,label:e.value})})))),l.a.createElement("div",{className:"learning__manage"},l.a.createElement(f.a,{className:"learning__manage-btn",title:"Manage",iconName:"manage",onClick:this.manageCategories}),l.a.createElement(p.a.Select,{type:"checkbox",name:"category_ids",defaultValue:n.activiable?n.activiable.learning_activity_categories.map((function(e){return e.id})):void 0,placeholder:"Activity Category",label:"Categories",title:"Select Categories",multipleSelectionText:"categories",enableClear:!0},r.map((function(e){return l.a.createElement(p.a.Select.Item,{key:e.id,value:e.id,label:e.value})}))))),l.a.createElement(b.default,{activity:n}),l.a.createElement("div",{className:"form__row"},l.a.createElement(p.a.Textarea,{name:"desc",defaultValue:n.comment,placeholder:"Description",label:"Description"})),l.a.createElement("div",{className:"form__row"},a?y.default.staffOnlyForce:l.a.createElement(p.a.Checkbox,{type:"circle",name:"staffOnly",label:y.default.staffOnly,defaultValue:n.is_staff_only})))}}])&&g(t.prototype,n),r&&g(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.Component),k(o,"propTypes",{useDate:s.a.bool,activity:s.a.object,names:s.a.arrayOf(s.a.object),categories:s.a.arrayOf(s.a.object)}),k(o,"defaultProps",{useDate:!0,names:[],categories:[],activity:{data:{}}}),k(o,"contextTypes",{goToStep:s.a.func}),j((r=a).prototype,"manageNames",[e],Object.getOwnPropertyDescriptor(r.prototype,"manageNames"),r.prototype),j(r.prototype,"manageCategories",[e],Object.getOwnPropertyDescriptor(r.prototype,"manageCategories"),r.prototype),j(r.prototype,"isLessonAndLearning",[e],Object.getOwnPropertyDescriptor(r.prototype,"isLessonAndLearning"),r.prototype),r);t.default=Object(u.b)((function(e){var t=e.learningActivityNames,n=e.learningActivityCategories;return{names:t.data,categories:n.data}}))(E)}.call(this,n(4).bind)},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(3),i=n.n(a),l=n(2),c=n(492),s=n(28),u=n(34);function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.default=function(e){var t=e.activity,n=e.useDate,a=void 0===n||n,f=e.onChange,d=p(Object(r.useState)(t.measures||[]),2),m=d[0],y=d[1],b=p(Object(r.useState)(t.indicators||[]),2),h=b[0],v=b[1];Object(r.useEffect)((function(){f({measure_ids:m.map((function(e){return e.id})),indicator_ids:h.map((function(e){return e.id}))})}),[]);return o.a.createElement("div",{className:"form__body"},a&&o.a.createElement("div",{className:"form__row form__row--datetime"},o.a.createElement(l.a.DatePicker,{label:"Date",name:"date",defaultValue:i()(t.activity_time).toDate(),required:!0}),o.a.createElement(l.a.TimeInput,{label:"Time",name:"time",defaultValue:Helpers.formatTime(t.activity_time),required:!0})),o.a.createElement("div",{className:"form__row"},o.a.createElement(c.a,{withIndicators:!0,onChange:function(e){var t=e.selectedMeasures,n=e.selectedIndicators;y(t),v(n),f({measure_ids:t.map((function(e){return e.id})),indicator_ids:n.map((function(e){return e.id}))})},selectedMeasures:m,selectedIndicators:h})),o.a.createElement(u.default,{activity:t}),o.a.createElement("div",{className:"form__row"},o.a.createElement(l.a.Textarea,{name:"description",defaultValue:t.data.desc,placeholder:"Description",label:"Description"})),o.a.createElement("div",{className:"form__row"},s.default.staffOnly))}},function(e,t,n){"use strict";n.r(t),function(e){var r,o,a,i=n(0),l=n.n(i),c=n(1),s=n.n(c),u=n(55),p=n(108);n(1255);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var o=g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v(this,n)}}function v(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _,w,x,O,k,j,E,S,P,C={multiple:!0,strategy:"local",maxFileSize:20,acceptedExts:[".jpg",".jpeg",".png"],skipSuccess:!0},N=(a=o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(a,e);var t,n,r,o=h(a);function a(){return m(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"handleUpload",value:function(e,t){var n=e.map((function(e,n){return{id:Object(u.v4)(),name:e.name,data:t[n],_file:e}}));this.props.onUpload(n)}},{key:"render",value:function(){return l.a.createElement("div",{className:"upload-photos"},l.a.createElement(p.default,d({},C,{onSuccess:this.handleUpload,onBack:this.props.onBack})))}}])&&y(t.prototype,n),r&&y(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.Component),E=o,S="propTypes",P={onUpload:s.a.func.isRequired,onBack:s.a.func.isRequired},S in E?Object.defineProperty(E,S,{value:P,enumerable:!0,configurable:!0,writable:!0}):E[S]=P,_=(r=a).prototype,w="handleUpload",x=[e],O=Object.getOwnPropertyDescriptor(r.prototype,"handleUpload"),k=r.prototype,j={},Object.keys(O).forEach((function(e){j[e]=O[e]})),j.enumerable=!!j.enumerable,j.configurable=!!j.configurable,("value"in j||j.initializer)&&(j.writable=!0),j=x.slice().reverse().reduce((function(e,t){return t(_,w,e)||e}),j),k&&void 0!==j.initializer&&(j.value=j.initializer?j.initializer.call(k):void 0,j.initializer=void 0),void 0===j.initializer&&(Object.defineProperty(_,w,j),j=null),r);t.default=N}.call(this,n(4).bind)},function(e,t,n){"use strict";n.r(t);var r=n(3),o=n.n(r);t.default=function(e,t){var n=o()(e.date||void 0).format("YYYY-MM-DD");return{id:t?t.id:void 0,daily_activity:{activity_time:"".concat(n," ").concat(e.time),data:{item:e.item||"",type:e.type||"",quantity:e.quantity||"",desc:e.description},is_staff_only:e.staffOnly}}}},function(e,t,n){"use strict";n.r(t);var r=n(3),o=n.n(r);t.default=function(e,t){var n=o()(e.date||void 0).format("YYYY-MM-DD");return{id:t?t.id:void 0,daily_activity:{activity_time:"".concat(n," ").concat(e.time),data:{amount:e.amount,desc:e.description},is_staff_only:e.staffOnly}}}},function(e,t,n){"use strict";n.r(t);var r=n(3),o=n.n(r);t.default=function(e,t){var n=o()(e.date||void 0).format("YYYY-MM-DD");return{id:t?t.id:void 0,daily_activity:{activity_time:"".concat(n," ").concat(e.time),data:{mood:e.mood,desc:e.description},is_staff_only:e.staffOnly}}}},function(e,t,n){"use strict";n.r(t);var r=n(3),o=n.n(r);t.default=function(e,t){var n=o()(e.date||void 0).format("YYYY-MM-DD");return{id:t?t.id:void 0,daily_activity:{activity_time:"".concat(n," ").concat(e.time),data:{start_time:"".concat(n," ").concat(e.start_time),end_time:"".concat(n," ").concat(e.end_time),desc:e.description},is_staff_only:e.staffOnly}}}},function(e,t,n){"use strict";n.r(t);var r=n(3),o=n.n(r);t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=o()(e.date||void 0).format("YYYY-MM-DD");return{id:t?t.id:void 0,daily_activity:{activity_time:"".concat(n," ").concat(e.time),data:{type:e.type,sub_type:e.sub_type||"",desc:e.description,diaper_size:e.diaper_size||"",diaper_cream:!!e.diaper_cream},is_staff_only:e.staffOnly}}}},function(e,t,n){"use strict";n.r(t);var r=n(3),o=n.n(r);t.default=function(e,t){var n=o()(e.date||void 0).format("YYYY-MM-DD");return{id:t?t.id:void 0,daily_activity:{activity_time:"".concat(n," ").concat(e.time),is_staff_only:e.staffOnly,data:{desc:""}},incident:{injury_nature:e.injury_nature,first_aid:e.first_aid,notify_parent:e.notify_parent,other_comments:e.other_comments,time:"".concat(n," ").concat(e.time)}}}},function(e,t,n){"use strict";n.r(t);var r=n(3),o=n.n(r);t.default=function(e,t,n){var r=o()(e.date||void 0).format("YYYY-MM-DD");return n?{id:t?t.id:void 0,daily_activity:{activity_time:"".concat(r," ").concat(e.time),comment:e.caption,staff_present_id:e.staff_present||null,is_staff_only:e.staffOnly}}:{id:t?t.id:void 0,photo:{caption:e.caption,activity_time:"".concat(r," ").concat(e.time),is_staff_only:e.staffOnly},daily_activity:{staff_present_id:e.staff_present||null},photo_ids:e.photo_ids||[]}}},function(e,t,n){"use strict";n.r(t),t.default=function(e,t){return{id:t?t.id:void 0,video:{caption:e.caption},daily_activity:{is_staff_only:e.staffOnly}}}},function(e,t,n){"use strict";n.r(t);var r=n(3),o=n.n(r);t.default=function(e,t){var n=o()(e.date||void 0).format("YYYY-MM-DD");return{id:t?t.id:void 0,daily_activity:{activity_time:"".concat(n," ").concat(e.time),activiable:{note:e.note},data:{desc:""},is_staff_only:e.staffOnly}}}},function(e,t,n){"use strict";n.r(t);var r=n(3),o=n.n(r);t.default=function(e,t){var n=o()(e.date||void 0).format("YYYY-MM-DD"),r=o()().format("h:mm A");return{id:t?t.id:void 0,daily_activity:{activity_time:"".concat(n," ").concat(e.time||r),comment:e.desc,description:e.desc,is_staff_only:e.staffOnly},learning:{learning_activity_name_id:e.name_id,learning_activity_category_ids:e.category_ids}}}},function(e,t,n){"use strict";n.r(t);var r=n(3),o=n.n(r);t.default=function(e,t){var n=o()(e.date||void 0).format("YYYY-MM-DD");return{id:t?t.id:void 0,daily_activity:{activity_time:"".concat(n," ").concat(e.time),data:{title:e.title,desc:e.description},is_staff_only:!0}}}},function(e,t,n){"use strict";n.r(t);var r=n(3),o=n.n(r);t.default=function(e,t){var n=o()(e.date||void 0).format("YYYY-MM-DD");return{id:t?t.id:void 0,daily_activity:{activity_time:"".concat(n," ").concat(e.time),measure_ids:e.measure_ids,indicator_ids:e.indicator_ids,data:{desc:e.description},is_staff_only:!0}}}},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(6);t.default=function(e){var t=e.item,n=e.onDelete;return o.a.createElement("div",{className:"manage-activities__item"},o.a.createElement("div",{className:"manage-activities__item-inner"},o.a.createElement("div",{className:"manage-activities__item-name"},t.value),o.a.createElement(a.a,{iconName:"delete",onClick:function(){return n(t.id)}})))}},function(e,t,n){"use strict";n.r(t),function(e){var r,o,a,i=n(0),l=n.n(i),c=n(1),s=n.n(c),u=n(16),p=n(2),f=n(15),d=n(91),m=n(12);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w(e);if(t){var o=w(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _(this,n)}}function _(e,t){if(t&&("object"===y(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e,t,n,r,o){var a={};return Object.keys(r).forEach((function(e){a[e]=r[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var k=(a=o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}(a,e);var t,n,r,o=g(a);function a(){return b(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"saveActivity",value:function(e){this.props.onSave&&(this.props.onSave(e),this.context.nextStep())}},{key:"updateActivityType",value:function(e){this.props.onTypeChange&&this.props.onTypeChange(e)}},{key:"updateActivityName",value:function(e){this.props.onNameChange(e)}},{key:"render",value:function(){var e=this.props,t=e.type,n=e.FormComponent,r=e.constants,o=e.activity,a=e.onSave,i=e.title,c=e.forceStaff,s=this.context,y=s.currentStep,b=s.totalSteps;return l.a.createElement("div",{className:"create-recurring-activity__new-activity"},l.a.createElement("div",{className:"modal__header create-recurring-activity__header"},l.a.createElement("div",{className:"create-recurring-activity__header-title"},l.a.createElement("span",{className:"modal__header-title"},i),l.a.createElement("div",{className:"modal__header-steps"},l.a.createElement("span",null,"Step ",y)," / ",b)),l.a.createElement("div",{className:"modal__header-subtitle"},"Automatically create activities and notify parents on fixed schedule and time during the day.")),l.a.createElement("div",{className:"create-recurring-activity__type"},l.a.createElement("div",{className:"create-recurring-activity__section-header"},"Provide details about activity"),l.a.createElement("div",{className:"form__row form__row--justified"},l.a.createElement("div",{className:"form-input"},l.a.createElement("label",{className:"form__label",htmlFor:"name"},"Enter Title"),l.a.createElement("div",{className:"form-input__field"},l.a.createElement(u.a,{name:"name",placeholder:"eg: Monday - meals",value:o.name,onChange:this.updateActivityName}))),l.a.createElement("div",{className:"form-select"},l.a.createElement("label",{className:"form__label",htmlFor:"type"},"Choose Activity Type"),l.a.createElement(f.a,{name:"type",type:"radio",title:"Activity Type",checked:t,className:"form-select__field",onChange:this.updateActivityType},d.b.map((function(e){return l.a.createElement(f.a.Item,{key:e.id,value:e.id,label:e.label,icon:Object(m.u)(e.id)})})))))),l.a.createElement(p.a,{className:"create-recurring-activity__form",key:t,onSubmit:this.saveActivity,onChange:a},l.a.createElement(n,{constants:r,activity:o,useDate:!1,forceStaff:c}),l.a.createElement("div",{className:"form__row--actions create-recurring-activity__actions"},l.a.createElement(p.a.Submit,{label:"Continue",disabled:!o.name}))))}}])&&h(t.prototype,n),r&&h(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.Component),x(o,"propTypes",{FormComponent:s.a.func,constants:s.a.object,activity:s.a.object,onSave:s.a.func,onNameChange:s.a.func,onTypeChange:s.a.func}),x(o,"defaultProps",{}),x(o,"contextTypes",{currentStep:s.a.number,totalSteps:s.a.number,nextStep:s.a.func}),O((r=a).prototype,"saveActivity",[e],Object.getOwnPropertyDescriptor(r.prototype,"saveActivity"),r.prototype),O(r.prototype,"updateActivityType",[e],Object.getOwnPropertyDescriptor(r.prototype,"updateActivityType"),r.prototype),O(r.prototype,"updateActivityName",[e],Object.getOwnPropertyDescriptor(r.prototype,"updateActivityName"),r.prototype),r);t.default=k}.call(this,n(4).bind)},function(e,t,n){"use strict";n.r(t),function(e){var r,o,a,i=n(0),l=n.n(i),c=n(1),s=n.n(c),u=n(2),p=n(6),f=n(3),d=n.n(f);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_(e);if(t){var o=_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g(this,n)}}function g(e,t){if(t&&("object"===m(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x,O,k,j,E,S,P=(a=o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(a,e);var t,n,r,o=v(a);function a(){return y(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"saveActivity",value:function(e){this.props.onSave&&(this.props.onSave(e),this.context.nextStep())}},{key:"render",value:function(){var e=this.props,t=e.activity,n=e.onSave,r=e.title,o=this.context,a=o.currentStep,i=o.totalSteps,c="string"==typeof t.activity_time&&t.activity_time.length<10?t.activity_time:Helpers.formatTime(t.activity_time||new Date);return l.a.createElement("div",{className:"modal__wrapper create-recurring-activity__new-activity"},l.a.createElement("div",{className:"modal__header modal__header--bordered create-recurring-activity__header"},l.a.createElement(p.a,{iconName:"back",className:"modal__back",onClick:this.context.prevStep}),l.a.createElement("span",{className:"modal__header-title"},r),l.a.createElement("div",{className:"modal__header-steps"},l.a.createElement("span",null,"Step ",a)," / ",i)),l.a.createElement(u.a,{className:"create-recurring-activity__form",onSubmit:this.saveActivity,onChange:n},l.a.createElement("div",{className:"create-recurring-activity__section"},l.a.createElement("div",{className:"create-recurring-activity__section-header"},"Configure auto activity schedule and time"),l.a.createElement("div",{className:"create-recurring-activity__section-body"},l.a.createElement("div",{className:"create-recurring-activity__inline"},l.a.createElement("div",{className:"create-recurring-activity__inline-label"},"REPEAT DAYS:"),l.a.createElement(u.a.WeekdayPicker,{name:"days",defaultValue:t.days||["M","T","W","Th","F"],required:!0})),l.a.createElement("div",{className:"create-recurring-activity__inline create-recurring-activity__inline--time"},l.a.createElement("div",{className:"create-recurring-activity__inline-label"},"REPEAT TIME:"),l.a.createElement(u.a.TimeInput,{name:"activity_time",required:!0,defaultValue:c}))),l.a.createElement("div",{className:"create-recurring-activity__helper"},'Note: Activities will be automatically created only if students are signed-in during this time. If you already use "Sign In-Out" everyday from our mobile app, then no additional action needed.')),l.a.createElement("div",{className:"create-recurring-activity__section create-recurring-activity__section--schedule"},l.a.createElement("div",{className:"create-recurring-activity__section-header"},"Auto activity end date (Leave blank if you prefer not to end)"),l.a.createElement("div",{className:"create-recurring-activity__section-body"},l.a.createElement("div",{className:"create-recurring-activity__inline create-recurring-activity__inline--time"},l.a.createElement("div",{className:"create-recurring-activity__inline-label"},"END DATE"),l.a.createElement(u.a.DatePicker,{name:"ends_at",clearable:!0,defaultValue:t.ends_at?d()(t.ends_at).toDate():void 0})))),l.a.createElement("div",{className:"form__row--actions create-recurring-activity__actions"},l.a.createElement(u.a.Submit,{label:"Continue"}))))}}])&&b(t.prototype,n),r&&b(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.Component),w(o,"propTypes",{activity:s.a.object,onSave:s.a.func}),w(o,"defaultProps",{}),w(o,"contextTypes",{currentStep:s.a.number,totalSteps:s.a.number,nextStep:s.a.func,prevStep:s.a.func}),x=(r=a).prototype,O="saveActivity",k=[e],j=Object.getOwnPropertyDescriptor(r.prototype,"saveActivity"),E=r.prototype,S={},Object.keys(j).forEach((function(e){S[e]=j[e]})),S.enumerable=!!S.enumerable,S.configurable=!!S.configurable,("value"in S||S.initializer)&&(S.writable=!0),S=k.slice().reverse().reduce((function(e,t){return t(x,O,e)||e}),S),E&&void 0!==S.initializer&&(S.value=S.initializer?S.initializer.call(E):void 0,S.initializer=void 0),void 0===S.initializer&&(Object.defineProperty(x,O,S),S=null),r);t.default=P}.call(this,n(4).bind)},function(e,t,n){"use strict";n.r(t),function(e){var r,o,a,i=n(0),l=n.n(i),c=n(5),s=n(1),u=n.n(s),p=n(3),f=n.n(p),d=n(10),m=n(2),y=n(35);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w(e);if(t){var o=w(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _(this,n)}}function _(e,t){if(t&&("object"===b(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e,t,n,r,o){var a={};return Object.keys(r).forEach((function(e){a[e]=r[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var k=(a=o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}(a,e);var t,n,r,o=g(a);function a(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(e=o.call(this)).state={formValues:{},errors:[]},e}return t=a,(n=[{key:"getDayListItems",value:function(){var e=this.props.days;return Object.keys(y.f).map((function(t){return l.a.createElement(m.a.Select.Item,{key:t,value:t,label:e[t]})}))}},{key:"onSave",value:function(e){var t=e.late_fee_time,n=e.start_time,r=e.end_time,o=[];f()(n,"hh:mm A").isAfter(f()(r,"hh:mm A"))&&o.push("Start time cannot be after end time"),t&&f()(t,"hh:mm A").isBefore(f()(r,"hh:mm A"))&&o.push("Late fee time cannot be before end time"),o.length?this.setState({errors:o}):this.props.onSave(e)}},{key:"updateFormValues",value:function(e){this.setState({formValues:e})}},{key:"render",value:function(){var e=this.props,t=e.rooms,n=e.item,r=e.onCancel,o=e.isListEmpty,a=e.index,i=this.state,c=i.formValues,s=i.errors;return l.a.createElement(m.a,{className:"attendance-items__form",onSubmit:this.onSave,onInit:this.updateFormValues,onChange:this.updateFormValues},l.a.createElement("div",{className:"attendance-items__form-row"},l.a.createElement(m.a.Input,{name:"desc",defaultValue:n.desc,disableInvalid:!0,label:"Charge ".concat(a+1),placeholder:"Enter Charge Name",className:"attendance-items__form-desc"})),l.a.createElement("div",{className:"attendance-items__form-row"},l.a.createElement("span",{className:"attendance-items__form-required"},"1"),".",l.a.createElement("span",{className:"attendance-items__form-text"},"Set pick up start time and end time"),l.a.createElement(m.a.TimeInput,{name:"start_time",defaultValue:n.start_time,required:!0,disableInvalid:!0}),l.a.createElement("span",{className:"attendance-items__form-row-text"},"to"),l.a.createElement(m.a.TimeInput,{name:"end_time",defaultValue:n.end_time,required:!0,disableInvalid:!0})),l.a.createElement("div",{className:"attendance-items__form-row"},l.a.createElement("span",{className:"attendance-items__form-required"},"2"),".",l.a.createElement("span",{className:"attendance-items__form-row-text"},"Pick days of week"),l.a.createElement(m.a.Select,{required:!0,disableInvalid:!0,title:"Select days",name:"days",type:"checkbox",className:"attendance-items__form-select",defaultValue:n.days,multipleSelectionText:"days selected"},this.getDayListItems())),l.a.createElement("div",{className:"attendance-items__form-row"},l.a.createElement("span",{className:"attendance-items__form-required"},"3"),".",l.a.createElement("span",{className:"attendance-items__form-row-text"},"Pick the rooms your child is in"),l.a.createElement(m.a.Select,{required:!0,disableInvalid:!0,title:"Select room",name:"section_ids",type:"checkbox",className:"attendance-items__form-select",defaultValue:n.section_ids.filter((function(e){return!!t.find((function(t){return t.id===e}))})),multipleSelectionText:"rooms selected"},t.map((function(e){return l.a.createElement(m.a.Select.Item,{key:e.id,value:e.id,label:e.name})})))),l.a.createElement("div",{className:"attendance-items__form-row"},l.a.createElement("span",{className:"attendance-items__form-required"},"4"),".",l.a.createElement("span",{className:"attendance-items__form-row-text"},"Add a rate for charges"),l.a.createElement(m.a.Input,{required:!0,disableInvalid:!0,name:"rate",placeholder:"0",type:"amount",className:"attendance-items__form-amount-input",defaultValue:n.rate?String(n.rate):void 0}),l.a.createElement("div",{className:"attendance-items__form-row-text"},"by"),l.a.createElement(m.a.Select,{required:!0,disableInvalid:!0,title:"Choose Rate",name:"rate_type",className:"attendance-items__form-select",defaultValue:n.rate_type},l.a.createElement(m.a.Select.Item,{value:"hourly",label:"Hour"}),l.a.createElement(m.a.Select.Item,{value:"daily",label:"Day"}))),l.a.createElement("div",{className:"attendance-items__form-row"},l.a.createElement("span",{className:"attendance-items__form-row-text"},"5. The late pick up fee of"),l.a.createElement(m.a.Input,{disableInvalid:!0,type:"amount",placeholder:"0",name:"late_fee",required:Boolean(c.late_fee_time),className:"attendance-items__form-amount-input",defaultValue:n.late_fee?String(n.late_fee):void 0}),l.a.createElement("div",{className:"attendance-items__form-row-text"},"/ minute after"),l.a.createElement(m.a.TimeInput,{required:Number(c.late_fee)>0,disableInvalid:!0,name:"late_fee_time",defaultValue:n.late_fee_time})),s.map((function(e){return l.a.createElement("div",{className:"attendance-items__form-row form-input__validation-text",key:e},e)})),l.a.createElement("div",{className:"attendance-items__form-submit"},l.a.createElement("div",{className:"attendance-items__form-submit-actions"},!o&&l.a.createElement(d.a,{label:"Cancel",className:"button--secondary",onClick:r}),l.a.createElement(m.a.Submit,{label:n.id?"Save charge":"Add charge",className:o?"button--secondary":void 0}))))}}])&&h(t.prototype,n),r&&h(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.Component),x(o,"propTypes",{item:u.a.shape({start_time:u.a.string,end_time:u.a.string,days:u.a.array,section_ids:u.a.array,rate:u.a.number,rate_type:u.a.string,late_fee:u.a.number,late_fee_time:u.a.string}),index:u.a.number,rooms:u.a.array,days:u.a.object}),x(o,"defaultProps",{item:{start_time:"",end_time:"",days:[],section_ids:[],rate:void 0,rate_type:"",late_fee:void 0,late_fee_time:""},index:0,rooms:[],days:{}}),O((r=a).prototype,"onSave",[e],Object.getOwnPropertyDescriptor(r.prototype,"onSave"),r.prototype),O(r.prototype,"updateFormValues",[e],Object.getOwnPropertyDescriptor(r.prototype,"updateFormValues"),r.prototype),r);t.default=Object(c.b)((function(e){return{rooms:e.rooms.data,days:e.constants.data.kid_schedules}}))(k)}.call(this,n(4).bind)},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(1),i=n.n(a),l=n(320);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var o=m(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(i,e);var t,n,r,a=f(i);function i(){return s(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.items,n=e.onEdit,r=e.onRemove;return o.a.createElement("div",{className:"attendance-items__list"},t.filter((function(e){return!e._destroy})).map((function(e,t){return o.a.createElement(l.default,{key:"attendance-item-".concat(t),index:t+1,item:e,onEdit:function(){return n(t)},onRemove:function(){return r(t)}})})))}}])&&u(t.prototype,n),r&&u(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component);y(b,"propTypes",{items:i.a.array,onEdit:i.a.func,onRemove:i.a.func}),y(b,"defaultProps",{items:[]}),t.default=b},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(1),i=n.n(a),l=n(6),c=n(24),s=function(e){var t=e.index,n=e.item,r=e.onEdit,a=e.onRemove;return o.a.createElement("div",{className:"attendance-items__item"},o.a.createElement("div",{className:"row row--wide"},o.a.createElement("span",{className:"attendance-items__item-title"},n.desc?n.desc:"Charge-".concat(t)),o.a.createElement("div",{className:"attendance-items__actions"},o.a.createElement(l.a,{size:14,iconName:"edit",onClick:r}),o.a.createElement(l.a,{size:14,iconName:"delete",onClick:a}))),o.a.createElement("div",{className:"attendance-items__item-description"},"Charges start at ",n.start_time," & ends at ",n.end_time," for ",n.days.length," days in"," ",n.section_ids.length," rooms. Charge rate: ",c.a.getPrice(n.rate)," / ",n.rate_type,"."))};s.propTypes={item:i.a.object,index:i.a.number},s.defaultProps={index:1,item:{start_time:null,end_time:null,days:[],section_ids:[],rate:void 0,rate_type:"",late_fee:void 0,late_fee_time:""}},t.default=s},function(e,t,n){"use strict";n.r(t),function(e){var r,o,a,i=n(0),l=n.n(i),c=n(1),s=n.n(c),u=n(318),p=n(319),f=n(6);n(1265);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=x(e);if(t){var o=x(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return w(this,n)}}function w(e,t){if(t&&("object"===d(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e,t,n,r,o){var a={};return Object.keys(r).forEach((function(e){a[e]=r[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var j=(a=o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g(e,t)}(a,e);var t,n,r,o=_(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this,e)).state={items:e.data||[],editableItemIndex:e.data&&0===e.data.length?0:void 0},t}return t=a,(n=[{key:"addNewItem",value:function(){this.setState({editableItemIndex:this.state.items.length})}},{key:"editItem",value:function(e){return this.setState({editableItemIndex:e})}},{key:"cancelEditing",value:function(){this.setState({editableItemIndex:void 0})}},{key:"saveItem",value:function(e){var t=this;return function(n){var r=b(t.state.items);r[e]=y(y({},t.state.items[e]),n),r[e].rate=Number(n.rate),r[e].late_fee=Number(n.late_fee),r[e].kind="attendance",t.setState({items:r,editableItemIndex:void 0},t.handleUpdate)}}},{key:"removeItem",value:function(e){var t,n=this.props.actionType;"edit"===n?(t=b(this.state.items))[e]=y(y({},t[e]),{},{_destroy:!0}):"create"===n&&(t=[].concat(b(this.state.items.slice(0,e)),b(this.state.items.slice(e+1)))),this.setState({items:t,editableItemIndex:t.length>0?void 0:0},this.handleUpdate)}},{key:"handleUpdate",value:function(){this.props.onUpdate(this.state.items)}},{key:"render",value:function(){var e=this.state.editableItemIndex,t=this.state.items.filter((function(e){return!e._destroy})),n=t[e];return l.a.createElement("div",{className:"attendance-items"},l.a.createElement("div",{className:"attendance-items__container"},void 0===e&&t.length>0?l.a.createElement(p.default,{items:t,onEdit:this.editItem,onRemove:this.removeItem}):l.a.createElement(u.default,{isListEmpty:0===t.length,index:e,item:n,onSave:this.saveItem(e||0),onCancel:this.cancelEditing})),t.length>0&&void 0===e&&l.a.createElement(f.a,{iconName:"subscription",className:"attendance-items__add-item",title:"Add another charge",onClick:this.addNewItem}))}}])&&v(t.prototype,n),r&&v(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.Component),O(o,"propTypes",{actionType:s.a.oneOf(["create","edit"]),items:s.a.array,onUpdate:s.a.func}),O(o,"defaultProps",{plan:{},actionType:"create"}),k((r=a).prototype,"addNewItem",[e],Object.getOwnPropertyDescriptor(r.prototype,"addNewItem"),r.prototype),k(r.prototype,"editItem",[e],Object.getOwnPropertyDescriptor(r.prototype,"editItem"),r.prototype),k(r.prototype,"cancelEditing",[e],Object.getOwnPropertyDescriptor(r.prototype,"cancelEditing"),r.prototype),k(r.prototype,"saveItem",[e],Object.getOwnPropertyDescriptor(r.prototype,"saveItem"),r.prototype),k(r.prototype,"removeItem",[e],Object.getOwnPropertyDescriptor(r.prototype,"removeItem"),r.prototype),r);t.default=j}.call(this,n(4).bind)},function(e,t,n){"use strict";n.r(t),function(e,r){var o,a,i,l,c=n(0),s=n.n(c),u=n(1),p=n.n(u),f=n(5),d=n(3),m=n.n(d),y=n(7),b=n.n(y),h=n(10),v=n(2),g=n(201),_=n(17),w=n(6),x=n(321),O=n(12);function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e){return function(e){if(Array.isArray(e))return E(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){D(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function N(e,t){return(N=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=T(e);if(t){var o=T(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return R(this,n)}}function R(e,t){if(t&&("object"===k(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I(e,t,n,r,o){var a={};return Object.keys(r).forEach((function(e){a[e]=r[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var A=(o=e({delay:500}),l=i=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&N(e,t)}(a,e);var t,n,r,o=z(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this,e)).state={plan:P(P({},e.plan),{},{start_date:Array.isArray(e.plan.start_date)?e.plan.start_date[0]:e.plan.start_date,end_date:Array.isArray(e.plan.end_date)?e.plan.end_date[0]:e.plan.end_date}),info:null,selectedBillingCycle:"",isSplitFamily:e.kid&&e.kid.sub_families},t}return t=a,(n=[{key:"componentWillMount",value:function(){this.updateBillingInfo(this.state.plan)}},{key:"componentWillReceiveProps",value:function(e){e.templateId===this.props.templateId&&e.kind===this.props.kind||(this.setState({plan:P({},e.plan)}),this.updateBillingInfo(e.plan))}},{key:"saveAsTemplate",value:function(){var e=this;this.props.onUpdate(this.state.plan,(function(){return e.props.onSubmit(!0)}))}},{key:"save",value:function(){var e=this;this.props.isTemplate?this.props.onUpdate(this.state.plan,(function(){return e.props.onSubmit(!0)})):"create"===this.props.actionType?(this.props.onUpdate(this.state.plan),this.context.nextStep()):"edit"===this.props.actionType&&this.props.onUpdate(this.state.plan,this.props.onSubmit)}},{key:"update",value:function(e){var t=this,n=P(P({},this.state.plan),e),r=e.invoice_date!==this.state.plan.invoice_date;e.template_id!==this.state.plan.template_id&&this.props.onTemplateChange(e.template_id),e.cycle!==this.state.plan.cycle&&(e.cycle,n.start_date=m()().subtract(1,"month").startOf("month").toDate(),n.end_date=void 0),this.setState({plan:n},(function(){t.props.onUpdate(t.state.plan),r&&t.form.updateField("due_date",n.invoice_date)})),this.updateBillingInfo(n)}},{key:"updateBillingInfo",value:function(e){var t=this;if(e.cycle&&(e.due_date||0===e.due_date)&&e.start_date[0]&&(e.invoice_date||0===e.invoice_date)){var n=e.start_date[0],r=e.end_date?e.end_date[e.end_date.length-1]:void 0;req.recurringPlanInfo({billing_plan:{name:e.name||"any name",kind:e.kind,cycle:e.cycle,due_date:e.due_date,invoice_date:e.invoice_date,invoice_cycle:e.invoice_cycle||"previous",start_date:n?m()(n).format("YYYY-MM-DD"):void 0,end_date:r?m()(r).format("YYYY-MM-DD"):void 0}}).then((function(e){var n=e.billing_plan;t.setState({info:n})})).catch((function(){t.setState({info:null})}))}else this.setState({info:null})}},{key:"updateInvoiceItems",value:function(e){var t=this;this.setState({plan:P(P({},this.state.plan),{},{plan_invoice_items_attributes:e})},(function(){t.props.onUpdate(t.state.plan)}))}},{key:"updateChargeItems",value:function(e){this.setState({plan:P(P({},this.state.plan),{},{plan_charge_items_attributes:e})})}},{key:"onUpdateAutoPost",value:function(e){this.setState({plan:P(P({},this.state.plan),{},{auto_post:e})})}},{key:"renderDueDateItems",value:function(e,t,n){for(var r=[],o=e;o<=t;o++){var a=void 0;a="monthly"!==n?m.a.weekdays(o):-1===o?"Last day":m()(o,"D").format("Do")+(o<0?" last day":" day"),r.push(s.a.createElement(v.a.Select.Item,{key:"".concat(n,"-item-").concat(o),value:o>0?o:o+1,label:a}))}return r}},{key:"getInvoiceDateItems",value:function(){var e=this.state.plan.cycle;switch(e){case"weekly":case"biweekly":return this.renderDueDateItems(1,7,e);case"monthly":return[].concat(j(this.renderDueDateItems(1,10,e)),j(this.renderDueDateItems(15,15,e)),j(this.renderDueDateItems(-10,-1,e)));default:return[]}}},{key:"getDueDateItems",value:function(){var e=this.state.plan,t=e.cycle,n=e.invoice_date,r=[1,2,3,4,5,6,7,8,9,10,15,-10,-9,-8,-7,-6,-5,-4,-3,-2,-1].indexOf(n);switch(t){case"weekly":case"biweekly":return this.renderDueDateItems(1,7,t).slice(r);case"monthly":return[].concat(j(this.renderDueDateItems(1,10,t)),j(this.renderDueDateItems(15,15,t)),j(this.renderDueDateItems(-10,-1,t))).slice(r);default:return[]}}},{key:"isValid",value:function(){var e=this.state,t=e.plan,n=e.isSplitFamily,r=this.props.kind,o="plan_".concat("tuition"===r?"invoice":"charge","_items_attributes"),a=t[o]&&t[o].map((function(e){return!e._destroy})).length>0,i=Object.keys(this.state.plan).every((function(e){return"end_date"===e||"sub_family_id"===e&&!n||(r=t[e],Array.isArray(r)?r.length>0&&r.every(Boolean):null!=r);var r})),l="attendance"===r||t.plan_invoice_items_attributes.every((function(e){return e.description&&(e.price||0===e.price)}));return a&&i&&l}},{key:"getDefaultInvoiceDate",value:function(){var e=this.state.plan,t=e.cycle,n=e.invoice_date;return"monthly"!==t&&(n<1||n>7)||null==n||""===n?1:n}},{key:"disableStartDate",value:function(e,t){var n=m()(e);return!!(t instanceof Array&&t[0])&&n.isAfter(t[0])}},{key:"disableEndDate",value:function(e,t){var n=m()(e);return!!(t instanceof Array&&t[1])&&n.isBefore(t[1])}},{key:"getDateString",value:function(e){return m()(e).format("MMM D, YYYY")}},{key:"render",value:function(){var e=this,t=this.props,n=t.actionType,r=t.billingPlanTemplates,o=t.templateId,a=t.step,i=t.totalSteps,l=t.isTemplate,c=t.isAssignTemplate,u=t.groupEntity,p=t.franchiseBilling,f=t.kid,d=this.state.plan,m=d.name,y=d.due_date,k=d.start_date,j=d.end_date,E=d.invoice_cycle,S=d.auto_post,P=d.cycle,C=d.plan_invoice_items_attributes,N=d.plan_charge_items_attributes,z=d.sub_family_id,R=this.state,T=R.info,D=R.isSplitFamily,I=this.props.plan.kind||this.props.kind,A=this.props.plan.group_entity,M=!l&&"edit"===n,L="";L=l?"edit"===n?"Save Template":"Create Template":"create"===n?"Continue":"Save";var B=r.filter((function(e){return e.kind===I})).map((function(e){return s.a.createElement(v.a.Select.Item,{key:e.id,value:e.id,label:e.name})}));p||B.unshift(s.a.createElement(v.a.Select.Item,{value:"other",label:"New plan",className:"select-group__item--accent",icon:"add-blue",iconType:"svg",iconSize:14},"Create New Plan"));var F=p?o:o||"other",V=!o&&!l||A||p;return s.a.createElement("div",{className:"modal__wrapper create-billing-plan__details"},s.a.createElement("div",{className:"modal__header"},"edit"!==n&&s.a.createElement(w.a,{iconName:"back",className:"create-billing-plan__back-button",onClick:this.context.prevStep}),s.a.createElement("div",{className:"modal__header-title"},Object(O.b)(c?"assign":n)," ",Object(O.b)(I)," ",l?"Template":"Plan"," ",f&&f.name?"- ".concat(f.name):null),"create"===n&&!l&&s.a.createElement("div",{className:"modal__header-steps"},"Step ",a," / ",i)),s.a.createElement(v.a,{className:"modal__container create-billing-plan__form",onInit:this.update,onChange:this.update,key:this.props.templateId,ref:function(t){return e.form=t}},D&&s.a.createElement("div",{className:"form__row create-billing-plan__choose-subfamily"},s.a.createElement(v.a.Select,{className:"create-billing-plan__choose-subfamily-select",name:"sub_family_id",title:"Choose Family",defaultValue:z,label:"Choose Family",required:!0},f.sub_families.map((function(e){return s.a.createElement(v.a.Select.Item,{key:e.id,value:e.id,label:e.name})})))),s.a.createElement("div",{className:"form__row form__row--justified"},!l&&s.a.createElement(v.a.Select,{name:"template_id",label:p?"Pick Template":"Create New or Pick Template",title:p?"Pick Template":"Create New or Pick Template",type:"radio",className:b()("create-billing-plan__template",{"create-billing-plan__template--other":o||"other"===o}),defaultValue:F,disabled:M},B),s.a.createElement(v.a.Input,{className:"create-billing-plan__name",name:"name",defaultValue:m,label:"Plan Name",placeholder:"Enter Plan Name",disabled:V})),s.a.createElement("div",{className:"form__row create-billing-plan__dates"},s.a.createElement(v.a.Select,{name:"cycle",label:"Plan Cycle",title:"Plan Cycle",className:"create-billing-plan__plan-cycle",defaultValue:P,disabled:M||V},s.a.createElement(v.a.Select.Item,{value:"weekly",label:"Weekly"}),s.a.createElement(v.a.Select.Item,{value:"biweekly",label:"Bi-weekly"}),s.a.createElement(v.a.Select.Item,{value:"monthly",label:"Monthly"})),"monthly"===P?s.a.createElement(v.a.MonthPicker,{name:"start_date",label:"Plan Start",defaultValue:k,allowUnmount:!1,required:!0}):s.a.createElement(v.a.DatePicker,{label:"Plan Start",name:"start_date",key:"".concat(P,"_start_date"),type:P||"weekly",defaultValue:k,disableDays:function(t){return e.disableStartDate(t,j)},allowUnmount:!1,required:!0}),"monthly"===P?s.a.createElement(v.a.MonthPicker,{name:"end_date",label:"Plan End (optional)",defaultValue:j,allowUnmount:!1,clearable:!0}):s.a.createElement(v.a.DatePicker,{label:"Plan End (optional)",key:"".concat(P,"_end_date"),name:"end_date",type:P||"weekly",defaultValue:j,disableDays:function(t){return e.disableEndDate(t,k)},allowUnmount:!1,clearable:!0})),s.a.createElement("div",{className:"row"},s.a.createElement("span",null,"Generate Invoice on"),s.a.createElement(v.a.Select,{key:P,className:"side-margin",name:"invoice_date",title:"Invoice date",defaultValue:this.getDefaultInvoiceDate(),disabled:V||void 0===y||M,allowUnmount:!1},this.getInvoiceDateItems()),s.a.createElement("span",null,", due on"),s.a.createElement(v.a.Select,{name:"due_date",className:"side-margin",defaultValue:void 0===y?1:y,title:"Due Date",disabled:M||!o&&!l},this.getDueDateItems()),s.a.createElement("span",null,"for"),"attendance"===I?s.a.createElement("span",null," previous "):s.a.createElement(v.a.Select,{name:"invoice_cycle",defaultValue:E||"previous",className:"create-billing-plan__cycle side-margin",disabled:M||A||p},s.a.createElement(v.a.Select.Item,{value:"current",label:"Current"}),s.a.createElement(v.a.Select.Item,{value:"previous",label:"Previous"}),s.a.createElement(v.a.Select.Item,{value:"next",label:"Next"})),s.a.createElement("span",null,"billing cycle.")),T&&s.a.createElement("div",{className:"create-billing-plan__info"},"Your first invoice will be generated on",s.a.createElement("b",null,this.getDateString(T.next_invoice_date)),"due on",s.a.createElement("b",null,this.getDateString(T.next_due_date)),"for the period of",s.a.createElement("b",null,this.getDateString(T.cycle_start_date)),"to",s.a.createElement("b",null,this.getDateString(T.cycle_end_date)))),s.a.createElement("div",{className:"create-billing-plan__details-items"},"tuition"===I?s.a.createElement("div",{className:"create-billing-plan__details-inner"},s.a.createElement("div",{className:"create-billing-plan__items-header"},"Invoice Details"),s.a.createElement(g.a,{key:o,type:n,data:C,templateGroupEntity:A,onUpdate:this.updateInvoiceItems,onManagePresets:this.props.onManagePresets,onClose:this.props.onClose})):s.a.createElement("div",{className:"create-billing-plan__details-inner"},s.a.createElement(x.default,{key:o,actionType:n,data:N,onUpdate:this.updateChargeItems})),!l&&"create"!==n&&s.a.createElement("div",{className:"create-billing-plan__auto-post"},s.a.createElement(_.a,{label:"Send Invoice to parent automatically on each billing cycle",checked:S,type:"circle",onChange:this.onUpdateAutoPost}))),l&&"edit"===n&&s.a.createElement("div",{className:"create-billing-plan__warning"},"Updating plan template does not automatically update recurring plans for already assigned students. Will need to be reassigned to students."),s.a.createElement("div",{className:"modal__controls"},!l&&"create"===n&&!u&&!p&&s.a.createElement(h.a,{secondary:!0,label:"Save As Template",onClick:this.saveAsTemplate,disabled:!this.isValid(),isLoading:this.props.isLoading}),(!u||"Continue"===L)&&s.a.createElement(h.a,{label:L,onClick:this.save,disabled:!this.isValid(),isLoading:this.props.isLoading})))}}])&&C(t.prototype,n),r&&C(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(c.Component),D(i,"propTypes",{actionType:p.a.oneOf(["create","edit"]),plan:p.a.object,kind:p.a.string,billingPlanTemplates:p.a.array,onUpdate:p.a.func,onTemplateChange:p.a.func,kid:p.a.object,onClose:p.a.func}),D(i,"defaultProps",{actionType:"create",plan:{},billingPlanTemplates:[]}),D(i,"contextTypes",{prevStep:p.a.func,nextStep:p.a.func}),I((a=l).prototype,"saveAsTemplate",[r],Object.getOwnPropertyDescriptor(a.prototype,"saveAsTemplate"),a.prototype),I(a.prototype,"save",[r],Object.getOwnPropertyDescriptor(a.prototype,"save"),a.prototype),I(a.prototype,"update",[r],Object.getOwnPropertyDescriptor(a.prototype,"update"),a.prototype),I(a.prototype,"updateBillingInfo",[r,o],Object.getOwnPropertyDescriptor(a.prototype,"updateBillingInfo"),a.prototype),I(a.prototype,"updateInvoiceItems",[r],Object.getOwnPropertyDescriptor(a.prototype,"updateInvoiceItems"),a.prototype),I(a.prototype,"updateChargeItems",[r],Object.getOwnPropertyDescriptor(a.prototype,"updateChargeItems"),a.prototype),I(a.prototype,"onUpdateAutoPost",[r],Object.getOwnPropertyDescriptor(a.prototype,"onUpdateAutoPost"),a.prototype),a);t.default=Object(f.b)((function(e){return{billingPlanTemplates:e.billingPlanTemplates.data,franchiseBilling:e.currentUser.data.current_school.franchise_billing_enabled}}))(A)}.call(this,n(4).debounce,n(4).bind)},function(e,t,n){"use strict";n.r(t),function(e){var r,o,a,i=n(0),l=n.n(i),c=n(1),s=n.n(c),u=n(6),p=n(10),f=n(17),d=n(18),m=n(23),y=n(2),b=n(81),h=n(5),v=n(12),g=n(11),_=n.n(g),w=n(29);function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e){return function(e){if(Array.isArray(e))return k(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C(e);if(t){var o=C(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return P(this,n)}}function P(e,t){if(t&&("object"===x(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function N(e,t,n,r,o){var a={};return Object.keys(r).forEach((function(e){a[e]=r[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var z,R,T,D=(a=o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&E(e,t)}(a,e);var t,n,r,o=S(a);function a(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this,e)).state={filters:{tagIds:[],search:"",roomId:"",with_subfamilies:!1,no_assigned_plans:!0},selectedStudents:[]};var n=e.defaultSelected,r=e.students;return n.length&&(t.state.selectedStudents=O(e.defaultSelected),r.length&&(t.state.filters.with_subfamilies=!!r.find((function(e){return e.id===n[0]})).subFamily)),t}return t=a,r=[{key:"renderPersonCard",value:function(e){var t=e.person,n=e.selected,r=e.onSelect;if(!t)return null;var o=t.name,a=t.id,i=t.picURL,c=t.color,s=t.subFamily,u=function(){return r(a)};return l.a.createElement("div",{className:"person-card",key:a},l.a.createElement(f.a,{className:"person-card__checkbox",checked:n,onChange:u}),l.a.createElement("div",{className:"person-card__info",onClick:u},l.a.createElement(m.a,{className:"person-card__avatar",url:i,color:c,size:"small",name:o}),l.a.createElement("div",{className:"person-card__text"},l.a.createElement("div",{className:"person-card__name"},o),s&&l.a.createElement("div",{className:"create-invoice__person-card__subfamily-name"},s.name))))}}],(n=[{key:"customConditions",value:function(e,t){var n=t.with_subfamilies?!!e.subFamily:!e.subFamily,r=!0;if(t.no_assigned_plans){var o=this.props.kind;r=!e.billing_plans_assignment[o]}return n&&r}},{key:"updateFilters",value:function(e){var t={filters:e};e.with_subfamilies!==this.state.filters.with_subfamilies&&(t.selectedStudents=[]),this.setState(t)}},{key:"updateSelectedStudents",value:function(e){this.setState({selectedStudents:e})}},{key:"onUpdate",value:function(){var e=this.state.selectedStudents;this.props.onUpdate(e),this.context.nextStep()}},{key:"onBack",value:function(){this.props.onUpdate([]),this.context.prevStep()}},{key:"render",value:function(){var e=this.props,t=e.step,n=e.totalSteps,r=e.rooms,o=e.tags,i=e.loading,c=e.students,s=e.subFamiliesEnabled,f=this.state,m=f.selectedStudents,h=f.filters,g=Object(v.a)(c,h,this.customConditions);return l.a.createElement("div",{className:"modal__wrapper"},l.a.createElement("div",{className:"modal__header modal__header--bordered"},t>1&&l.a.createElement(u.a,{iconName:"back",size:20,onClick:this.onBack}),l.a.createElement("div",{className:"modal__header-title"},"Select Students"),l.a.createElement("div",{className:"modal__header-steps"},l.a.createElement("span",null,"Step ",t)," / ",n),l.a.createElement("div",{className:"modal__filter-bar"},l.a.createElement(b.default,{rooms:r,tags:o,onUpdate:this.updateFilters,customControl:l.a.createElement("div",{className:"create-billing-plan__custom-filters"},s&&l.a.createElement(y.a.Checkbox,{className:"create-billing-plan__with-subfamilies",type:"slider",name:"with_subfamilies",defaultValue:h.with_subfamilies,label:"Show Multifamily"}),l.a.createElement(y.a.Checkbox,{className:"create-billing-plan__no-assigned-plans",name:"no_assigned_plans",label:"No Assigned Plans",defaultValue:h.no_assigned_plans}))}))),l.a.createElement("div",{className:"modal__container create-billing-plan__select-kids"},i?l.a.createElement("div",{className:"create-billing-plan__loading"},l.a.createElement(d.a,{large:!0})):l.a.createElement(w.default,{key:this.state.filters.with_subfamilies,selectedIds:m,persons:g,allPersons:c,onSelect:this.updateSelectedStudents,noResultText:"There are no students without a plan. Each student can have one tuition and one attendance plan",renderPersonCard:a.renderPersonCard})),l.a.createElement("div",{className:"modal__controls"},l.a.createElement(p.a,{label:"Continue",onClick:this.onUpdate,disabled:0===m.length,isLoading:i})))}}])&&j(t.prototype,n),r&&j(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.Component),z=o,R="contextTypes",T={nextStep:s.a.func,prevStep:s.a.func,currentStep:s.a.number,totalSteps:s.a.number},R in z?Object.defineProperty(z,R,{value:T,enumerable:!0,configurable:!0,writable:!0}):z[R]=T,N((r=a).prototype,"customConditions",[e],Object.getOwnPropertyDescriptor(r.prototype,"customConditions"),r.prototype),N(r.prototype,"updateFilters",[e],Object.getOwnPropertyDescriptor(r.prototype,"updateFilters"),r.prototype),N(r.prototype,"updateSelectedStudents",[e],Object.getOwnPropertyDescriptor(r.prototype,"updateSelectedStudents"),r.prototype),N(r.prototype,"onUpdate",[e],Object.getOwnPropertyDescriptor(r.prototype,"onUpdate"),r.prototype),N(r.prototype,"onBack",[e],Object.getOwnPropertyDescriptor(r.prototype,"onBack"),r.prototype),r);t.default=Object(h.b)((function(e){return{loading:e.billingPlanStudents.loading||e.billingPlanSubFamilyStudents.loading,rooms:e.rooms.data,tags:e.tags.data,subFamiliesEnabled:Object(v.P)(_()(e,"currentUser.data.current_school",{}))}}))(D)}.call(this,n(4).bind)},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(1),i=n.n(a);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var o=d(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m,y,b,h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(i,e);var t,n,r,a=p(i);function i(){return c(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.onSelect,n=e.totalSteps;return o.a.createElement("div",{className:"modal__wrapper create-billing-plan__select-kind"},o.a.createElement("div",{className:"modal__header"},o.a.createElement("span",{className:"modal__header-steps"},o.a.createElement("span",null,"Step 1")," / ",n)),o.a.createElement("div",{className:"modal__container"},o.a.createElement("div",{className:"subheader subheader--accent"},"Which Plan",o.a.createElement("br",null),"do you want to create?"),o.a.createElement("div",{className:"path-selector"},o.a.createElement("div",{className:"path-selector__option"},o.a.createElement("div",{className:"path-selector__option-inner",onClick:function(){return t("tuition")}},"Tuition Plan",o.a.createElement("div",{className:"path-selector__option-inner__desc"},"(plan with fixed rates)"))),o.a.createElement("div",{className:"path-selector__option"},o.a.createElement("div",{className:"path-selector__option-inner",onClick:function(){return t("attendance")}},"Attendance Plan",o.a.createElement("div",{className:"path-selector__option-inner__desc"},"(dynamic rates based on sign in/out)"))))))}}])&&s(t.prototype,n),r&&s(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component);m=h,y="propTypes",b={onSelect:i.a.func.isRequired},y in m?Object.defineProperty(m,y,{value:b,enumerable:!0,configurable:!0,writable:!0}):m[y]=b,t.default=h},function(e,t,n){"use strict";n.r(t),function(e){var r,o,a,i=n(0),l=n.n(i),c=n(1),s=n.n(c),u=n(6),p=n(10),f=n(120),d=n(203),m=n(17),y=n(35),b=n(12),h=n(3),v=n.n(h);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S(e);if(t){var o=S(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return E(this,n)}}function E(e,t){if(t&&("object"===g(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C(e,t,n,r,o){var a={};return Object.keys(r).forEach((function(e){a[e]=r[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var N=(a=o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k(e,t)}(a,e);var t,n,r,o=j(a);function a(){var e;x(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).state={info:null},e}return t=a,(n=[{key:"componentWillMount",value:function(){var e=this,t=this.props.data.billing_plan;req.recurringPlanInfo({billing_plan:{name:t.name||"any name",kind:t.kind,cycle:t.cycle,due_date:t.due_date,invoice_date:t.invoice_date,invoice_cycle:t.invoice_cycle||"previous",start_date:v()(t.start_date[0]).format("YYYY-MM-DD"),end_date:t.end_date?v()(t.end_date[t.end_date.length-1]).format("YYYY-MM-DD"):void 0}}).then((function(t){var n=t.billing_plan;e.setState({info:n})}))}},{key:"getSelectedStudents",value:function(){var e=this.props,t=e.students,n=e.data.kid_ids;return t.filter((function(e){return n.includes(e.id)}))}},{key:"handleRemove",value:function(e){(0,this.props.removeKid)(e)}},{key:"getInvoiceItems",value:function(e){return e.plan_charge_items_attributes.map((function(e){return{description:"".concat(e.days.map((function(e){return y.f[e]})).join(", ")," - ").concat(Object(b.b)(e.rate_type)),amount:e.rate,rate_type:e.rate_type}}))}},{key:"getData",value:function(){var e=this.props.data,t=this.state.info;return w(w({},e),{},{billing_plan:w(w({},e.billing_plan),{},{due_date:t&&t.next_due_date,invoice_start_date:t&&t.cycle_start_date,invoice_end_date:t&&t.cycle_end_date})})}},{key:"onSubmit",value:function(){this.props.onSubmit()}},{key:"render",value:function(){var e=this.props,t=e.data,n=e.kind,r=e.templateId,o=e.onTemplateUpdate,a=e.step,i=e.totalSteps,c=t.billing_plan.template,s="attendance"===n?this.getInvoiceItems(t.billing_plan):t.billing_plan.plan_invoice_items_attributes;return l.a.createElement("div",{className:"modal__wrapper"},l.a.createElement("div",{className:"modal__header"},l.a.createElement(u.a,{iconName:"back",className:"create-billing-plan__back-button",onClick:this.context.prevStep}),l.a.createElement("div",{className:"modal__header-title"},"Submit Plan"),l.a.createElement("div",{className:"modal__header-steps"},"Step ",a," / ",i)),l.a.createElement("div",{className:"create-billing-plan__container"},l.a.createElement("div",{className:"label create-billing-plan__preview-label"},"Invoice Preview"),l.a.createElement("div",{className:"create-billing-plan__submit"},l.a.createElement(f.a,{data:this.getData(),students:this.getSelectedStudents(),items:s,type:"billing_plan",isAttendancePreview:"attendance"===n}),l.a.createElement(d.a,{students:this.getSelectedStudents(),onRemove:this.handleRemove})),l.a.createElement(m.a,{label:"Send Invoice to parent automatically on each billing cycle",checked:t.billing_plan.auto_post,type:"circle",onChange:this.props.onUpdateAutoPost})),l.a.createElement("div",{className:"modal__controls create-billing-plan__submit-controls"},"other"===r&&l.a.createElement(m.a,{reversed:!0,type:"circle",checked:c,onChange:o,className:"create-billing-plan__template-checkbox",label:"Do you want to save this plan as a template?"}),l.a.createElement(p.a,{label:"Create Plan",onClick:this.onSubmit,isLoading:this.props.isLoading,disabled:!t.kid_ids.length})))}}])&&O(t.prototype,n),r&&O(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.Component),P(o,"contextTypes",{prevStep:s.a.func}),C((r=a).prototype,"getSelectedStudents",[e],Object.getOwnPropertyDescriptor(r.prototype,"getSelectedStudents"),r.prototype),C(r.prototype,"handleRemove",[e],Object.getOwnPropertyDescriptor(r.prototype,"handleRemove"),r.prototype),C(r.prototype,"getData",[e],Object.getOwnPropertyDescriptor(r.prototype,"getData"),r.prototype),C(r.prototype,"onSubmit",[e],Object.getOwnPropertyDescriptor(r.prototype,"onSubmit"),r.prototype),r);t.default=N}.call(this,n(4).bind)},function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(5),i=n(1),l=n.n(i),c=n(23),s=n(31),u=n(12);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b(this,n)}}function b(e,t){if(t&&("object"===p(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}(i,e);var t,n,r,a=y(i);function i(){return f(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.school,n=e.constants,r=e.students,a=e.receiptNumber;return o.a.createElement("div",{className:"invoice-preview-card__header"},o.a.createElement("div",{className:"invoice-preview-card__school"},o.a.createElement(c.a,{className:"avatar--square invoice-preview-card__school-logo",url:t.profile_pic_url,type:"logo"}),o.a.createElement("div",{className:"invoice-preview-card__school-info"},o.a.createElement("div",{className:"invoice-preview-card__school-info-name"},t.name),o.a.createElement("div",{className:"invoice-preview-card__school-info-address"},Object(u.bb)(t,n.countries)),t.federal_tax_id&&o.a.createElement("div",{className:"invoice-preview-card__school-info-ein"},"EIN #: ",t.federal_tax_id))),o.a.createElement("div",{className:"invoice-preview-card__invoice-number"},a?"#".concat(a):""),!!r.length&&o.a.createElement("div",{className:"invoice-preview-card__students"},o.a.createElement("span",{className:"invoice-preview-card__students-text"},"Billed For "),o.a.createElement(s.b,{students:r})))}}])&&d(t.prototype,n),r&&d(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component);v(g,"propTypes",{receiptNumber:l.a.string,students:l.a.array}),v(g,"defaultProps",{receiptNumber:"",students:[]});t.a=Object(a.b)((function(e){return{school:e.school.data,constants:e.constants.data}}))(g)},function(e,t,n){"use strict";n.r(t);var r=n(328);t.default=r.default},function(e,t,n){"use strict";n.r(t),function(e){var r,o,a,i=n(0),l=n.n(i),c=n(1),s=n.n(c),u=n(20),p=n.n(u),f=n(329),d=n(330);n(1275);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w(e);if(t){var o=w(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g(this,n)}}function g(e,t){if(t&&("object"===m(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _(e)}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e,t,n,r,o){var a={};return Object.keys(r).forEach((function(e){a[e]=r[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var k=(a=o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(a,e);var t,n,r,o=v(a);function a(){var e;y(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return x(_(e=o.call.apply(o,[this].concat(n))),"state",{updateId:void 0,deleteId:void 0}),x(_(e),"scrollbarsRef",l.a.createRef()),e}return t=a,(n=[{key:"componentDidUpdate",value:function(e){!e.isNew&&this.props.isNew&&this.scrollbarsRef.current.scrollToTop()}},{key:"handleUpdate",value:function(e,t){var n=this,r=this.props.onUpdate(e,t);r instanceof Promise&&r.then((function(){n.setState({updateId:void 0})})).catch((function(){n.setState({updateId:void 0})}))}},{key:"handleDelete",value:function(e){var t=this,n=this.props.onDelete(e);n instanceof Promise&&(this.setState({deleteId:e}),n.then((function(){return t.setState({deleteId:void 0})})))}},{key:"renderNewForm",value:function(){}