!function(t){var e={};function o(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=t,o.c=e,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(n,i,function(e){return t[e]}.bind(null,i));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=173)}([function(t,e,o){"use strict";o.d(e,"a",(function(){return H}));o(3),o(4),o(56),o(157),o(17),o(41),o(5),o(57),o(121);var n={},i=-1,a={publish:function(t,e){if(void 0===n[t])return!1;for(var o=n[t],i=o?o.length:0;i--;)o[i].callback(t,e);return!0},subscribe:function(t,e){var o="".concat(++i);return void 0===n[t]&&(n[t]=[]),n[t].push({uid:o,callback:e}),o},unsubscribe:function(t){for(var e in n)for(var o=n[e],i=0;i<o.length;i++)if(t===o[i].uid)return n[e].splice(i,1),t},unsubscribeAll:function(){for(var t in n)n[t]=[]}},r=(o(55),o(32),o(90),o(18),o(33),o(40),o(2),o(31),o(8),o(1));o(43),o(50),o(51),o(38),o(39),o(167),o(169),o(30);function d(t){return function(t){if(Array.isArray(t))return g(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return g(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return g(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,n=new Array(e);o<e;o++)n[o]=t[o];return n}var l=function(t,e,o){var n=e.slotGPT.getTargeting(t);e.slotGPT.updateTargetingFromMap(function(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}({},t,[].concat(d(n),d(o))))},s=o(42);function c(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var p=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.slotConfig=e,this.slotGPT=null,this.lazyloadSubscriberTopicId=null,this.pointerElement=null,this.containerElement=null,this.activeViewPingbackSend=!1}var e,o,n;return e=t,(o=[{key:"build",value:function(){this.setSlotElements(),this.setSlotStatus("iddle"),this.checkSlotConfigIntegrity()?(r.a.info(this.slotConfig.name),this.injectContainerElement(),this.defineGPTSlot(),this.registerToSlotEvents()):r.a.warn(this.slotConfig.name,this.slotConfig)}},{key:"setSlotStatus",value:function(t){"iddle"===t?this.containerElement.classList.add("dygtag-iddle"):"loading"===t?(this.containerElement.classList.add("dygtag-loading"),this.containerElement.classList.remove("dygtag-iddle")):"filled"===t?(this.containerElement.classList.add("dygtag-filled"),this.containerElement.classList.remove("dygtag-unfilled"),this.containerElement.classList.remove("dygtag-loading")):"unfilled"===t?(this.containerElement.classList.add("dygtag-unfilled"),this.containerElement.classList.remove("dygtag-filled"),this.containerElement.classList.remove("dygtag-loading")):this.containerElement.classList.add("dygtag-unknown-slot-status")}},{key:"setSlotElements",value:function(){this.pointerElement=this.getPointerElement(),this.containerElement=this.getContainerElement()}},{key:"getPointerElement",value:function(){return document.querySelector(this.slotConfig.pointerSelector)}},{key:"getContainerElement",value:function(){var t=document.createElement("div");t.id=this.slotConfig.id;var e=document.createElement("div");e.classList.add("dygtag-injection"),e.insertAdjacentElement("beforeEnd",t);var o=document.createElement("div");return o.classList.add("dygtag-slot"),this.slotConfig.position&&o.classList.add("dygtag-".concat(this.slotConfig.position)),this.slotConfig.lazyload&&o.classList.add("dygtag-lazyload"),this.slotConfig.outOfPage&&o.classList.add("dygtag-outofpage"),this.slotConfig.name&&o.classList.add("dygtag-".concat(this.slotConfig.name)),o.insertAdjacentElement("beforeEnd",e),o}},{key:"checkSlotConfigIntegrity",value:function(){return!(!(this.slotConfig&&this.slotConfig.adUnitPath&&this.slotConfig.id&&this.slotConfig.pointerSelector&&this.slotConfig.pointerPosition)||!this.slotConfig.outOfPage&&!this.slotConfig.size||null===this.pointerElement)}},{key:"injectContainerElement",value:function(){this.pointerElement.insertAdjacentElement(this.slotConfig.pointerPosition,this.containerElement)}},{key:"defineGPTSlot",value:function(){var t=null;if(this.slotConfig.outOfPage)if(/^gpt_(?:top|bottom)_anchor$/i.test(this.slotConfig.name)){if(!Object(s.a)("gpt-anchors")&&-1===window.location.hostname.search("ntvspor.net"))return r.a.warn('Slot creation process interrupted for "'.concat(this.slotConfig.name,'" slot. Ensure that "?dygtag-preview=gpt-anchors" query string exists in the URL if this is a "GPT mWeb Anchors" test.'),this.slotConfig),!1;"gpt_top_anchor"===this.slotConfig.name?t=googletag.defineOutOfPageSlot(this.slotConfig.adUnitPath,googletag.enums.OutOfPageFormat.TOP_ANCHOR):"gpt_bottom_anchor"===this.slotConfig.name&&(t=googletag.defineOutOfPageSlot(this.slotConfig.adUnitPath,googletag.enums.OutOfPageFormat.BOTTOM_ANCHOR))}else t=googletag.defineOutOfPageSlot(this.slotConfig.adUnitPath,this.slotConfig.id);else t=googletag.defineSlot(this.slotConfig.adUnitPath,this.slotConfig.size,this.slotConfig.id);if(null===t)return!1;t.updateTargetingFromMap(this.slotConfig.targeting);var e=this.getGPTServiceForSlot(this.slotConfig.service);return t.addService(e),this.slotGPT=t,t}},{key:"getGPTServiceForSlot",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"pubads";return"companionAds"===t?googletag.companionAds():googletag.pubads()}},{key:"registerToSlotEvents",value:function(){null!==this.slotGPT&&(a.subscribe("dygtag/slotRenderEnded/".concat(this.slotGPT.getSlotElementId()),this.slotRenderEnded.bind(this)),a.subscribe("dygtag/impressionViewable/".concat(this.slotGPT.getSlotElementId()),this.impressionViewable.bind(this))),this.slotConfig.lazyload&&(this.lazyloadSubscriberTopicId=a.subscribe("dygtag/scroll",this.updateSlotViewportStatus.bind(this)))}},{key:"slotRenderEnded",value:function(t,e){var o=e.originalEvent;r.a.info("".concat(o.slot.getAdUnitPath(),":").concat(!o.isEmpty)),o.isEmpty?this.setSlotStatus("unfilled"):this.setSlotStatus("filled")}},{key:"impressionViewable",value:function(t,e){var o=e.originalEvent;this.activeViewPingbackSend=!0,r.a.log('ActiveView pingback has sent for the ad unit "'.concat(o.slot.getAdUnitPath(),'"'))}},{key:"displaySlot",value:function(t){var e,o,n,i,a;this.setSlotStatus("loading"),o="viewport-",n=(e=this).containerElement.getBoundingClientRect(),i=void 0!==window.scrollY?window.scrollY:window.pageYOffset,1===(a=Math.ceil((i+n.top+n.height/2+1)/window.innerHeight))?o+="first":2===a?o+="second":3===a?o+="third":a>3?o+="last":1/0===a?o+="debug-infinity":Number.isNaN(a)?o+="debug-nan":o+="undetectable",l("dygtag",e,[o]),function(t){document.hidden&&l("dygtag",t,["page-hidden"])}(this),googletag.display(t)}},{key:"updateSlotViewportStatus",value:function(){(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=!1;if(null===t)return o;var n=t.getBoundingClientRect();return o=-e-n.height<=n.top&&n.top<=innerHeight+e&&-e<=n.bottom&&n.bottom<=innerHeight+e+n.height})(this.containerElement)&&(a.unsubscribe(this.lazyloadSubscriberTopicId),this.displaySlot(this.slotGPT.getSlotElementId()))}},{key:"tryBidder",value:function(){return t=this,new Promise((function(e){var o=t.slotConfig.bidderConfiguration.bids.filter((function(t){return"criteo"===t.bidder}))[0].params.zoneId;Criteo.events.push((function(){var n={placements:[{slotid:t.slotConfig.id,zoneid:o}]};Criteo.SetLineItemRanges("0..9:0.01;9..99:0.05"),Criteo.RequestBids(n,(function(o){var n=Criteo.GetBidsForAdUnit(t.slotConfig.id)[0],i=[];n&&(i=[{key:"crt_pb",value:n.cpm_bucket},{key:"crt_bidid",value:n.id}]),e({slot:t.slotGPT,bidTargeting:i})}),1500)}))}));var t}}])&&c(e.prototype,o),n&&c(e,n),t}(),y=(o(128),function(){return"xxxxxxxx-xxxx-yxxx-yxxx-xxxxxxxxxxxxxxxy".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)}))}),f=o(70),m=o(71);function u(t,e,o,n,i,a,r){try{var d=t[a](r),g=d.value}catch(t){return void o(t)}d.done?e(g):Promise.resolve(g).then(n,i)}var h=function(){var t,e=(t=regeneratorRuntime.mark((function t(e){var o,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=null,t.prev=1,t.next=4,fetch("https://spadsync.com/sync?sptoken=".concat(e,"&sspid=g4z&ssphost=").concat(window.location.hostname));case 4:if(204!==(n=t.sent).status){t.next=9;break}o="available",t.next=13;break;case 9:if(200!==n.status){t.next=13;break}return t.next=12,n.json();case 12:o=t.sent;case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(1),r.a.error('Error in Novatiq\'s Snowflake preview setup "discoverUser" method',t.t0);case 18:return t.abrupt("return",o);case 19:case"end":return t.stop()}}),t,null,[[1,15]])})),function(){var e=this,o=arguments;return new Promise((function(n,i){var a=t.apply(e,o);function r(t){u(a,n,i,r,d,"next",t)}function d(t){u(a,n,i,r,d,"throw",t)}r(void 0)}))});return function(t){return e.apply(this,arguments)}}();function v(t,e,o,n,i,a,r){try{var d=t[a](r),g=d.value}catch(t){return void o(t)}d.done?e(g):Promise.resolve(g).then(n,i)}var b=function(){var t,e=(t=regeneratorRuntime.mark((function t(e,o){var n,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=null,t.prev=1,t.next=4,h(e);case 4:if("available"!==(n=t.sent)){t.next=16;break}return t.next=8,fetch("https://dogus.consumor.io/segments/v1/dogustrk/".concat(e,"/").concat(o));case 8:if(200!==(i=t.sent).status){t.next=15;break}return t.next=12,i.json();case 12:n=t.sent,t.next=16;break;case 15:400===i.status?r.a.warn('Novatiq ConsumOR error: "Malformed request."',i):404===i.status?(r.a.warn('Novatiq ConsumOR error: "No segment data associated to the snowflake ID or additional IDs in the request."',i),r.a.warn('It is OK to see a "404" in the developer console for this endpoint.')):405===i.status?r.a.warn('Novatiq ConsumOR error: "Method not allowed - only GET is supported."',i):r.a.warn("Unknown response status code from Novatiq's ConsumOR service.",i);case 16:t.next=21;break;case 18:t.prev=18,t.t0=t.catch(1),r.a.error('Error in Novatiq\'s Snowflake preview setup "getUserSegments" method',t.t0);case 21:return t.abrupt("return",n);case 22:case"end":return t.stop()}}),t,null,[[1,18]])})),function(){var e=this,o=arguments;return new Promise((function(n,i){var a=t.apply(e,o);function r(t){v(a,n,i,r,d,"next",t)}function d(t){v(a,n,i,r,d,"throw",t)}r(void 0)}))});return function(t,o){return e.apply(this,arguments)}}();function w(t,e,o,n,i,a,r){try{var d=t[a](r),g=d.value}catch(t){return void o(t)}d.done?e(g):Promise.resolve(g).then(n,i)}var x=function(){var t,e=(t=regeneratorRuntime.mark((function t(){var e,o,n,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("release.ntv.com.tr"!==window.location.hostname&&"preprod.startv.com.tr"!==window.location.hostname){t.next=2;break}return t.abrupt("return",{novatiq_sgmnt_id:["10000000638"]});case 2:return e=null,o=y(),void 0===(n=Object(f.a)().connectFrame)&&(n=y(),Object(m.a)("connectFrame",n,14)),t.next=8,b(o,n);case 8:return null!==(i=t.sent)&&Array.isArray(i.segments)&&i.segments.length>0&&(e={novatiq_sgmnt_id:i.segments}),t.abrupt("return",e);case 11:case"end":return t.stop()}}),t)})),function(){var e=this,o=arguments;return new Promise((function(n,i){var a=t.apply(e,o);function r(t){w(a,n,i,r,d,"next",t)}function d(t){w(a,n,i,r,d,"throw",t)}r(void 0)}))});return function(){return e.apply(this,arguments)}}();function P(t,e,o,n,i,a,r){try{var d=t[a](r),g=d.value}catch(t){return void o(t)}d.done?e(g):Promise.resolve(g).then(n,i)}function S(t){return function(){var e=this,o=arguments;return new Promise((function(n,i){var a=t.apply(e,o);function r(t){P(a,n,i,r,d,"next",t)}function d(t){P(a,n,i,r,d,"throw",t)}r(void 0)}))}}function k(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var z=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.slots=[],this.pageConfig=e,this.duration=0}var e,o,n,i,r;return e=t,(o=[{key:"build",value:(r=S(regeneratorRuntime.mark((function t(){var e,o,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.checkPageConfigIntegrity()){t.next=16;break}if(e=this.defineSlots(this.pageConfig.slots),this.setAndEnableGPTServiceProperties(),!e.some((function(t){return"NovatiqSnowflake"===t.slotConfig.name}))){t.next=9;break}return t.next=7,x();case 7:null!==(o=t.sent)&&e.forEach((function(t){t.slotGPT.updateTargetingFromMap(o)}));case 9:return t.next=11,this.getBids(e);case 11:n=t.sent,this.setBidTargeting(n),this.displaySlots(e),t.next=17;break;case 16:this.setAndEnableGPTServiceProperties();case 17:this.aggregateInternalEvents();case 18:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"buildFragment",value:(i=S(regeneratorRuntime.mark((function t(e){var o,n,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(o=this.defineSlots(e.slots)).some((function(t){return"NovatiqSnowflake"===t.slotConfig.name}))){t.next=6;break}return t.next=4,x();case 4:null!==(n=t.sent)&&o.forEach((function(t){t.slotGPT.updateTargetingFromMap(n)}));case 6:return t.next=8,this.getBids(o);case 8:i=t.sent,this.setBidTargeting(i),this.displaySlots(o);case 11:case"end":return t.stop()}}),t,this)}))),function(t){return i.apply(this,arguments)})},{key:"checkPageConfigIntegrity",value:function(){return!!(this.pageConfig&&this.pageConfig.slots&&Array.isArray(this.pageConfig.slots))}},{key:"setAndEnableGPTServiceProperties",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t&&googletag.pubads().enableSingleRequest(),e&&googletag.pubads().disableInitialLoad(),o&&googletag.pubads().enableLazyLoad(),googletag.enableServices()}},{key:"defineSlot",value:function(t){var e=new p(t);return e.build(),e}},{key:"defineSlots",value:function(t){var e=this,o=[];return t.forEach((function(t){var n=e.defineSlot(t);null!==n.slotGPT&&(o.push(n),e.slots.push(n))})),o}},{key:"getBids",value:function(t){var e=[];return t.forEach((function(t){t.slotConfig.bidderConfiguration&&e.push(t.tryBidder())})),Promise.all(e)}},{key:"setBidTargeting",value:function(t){t.forEach((function(t){t.bidTargeting.forEach((function(e){t.slot.setTargeting(e.key,e.value)}))}))}},{key:"displaySlots",value:function(t){t.forEach((function(t){t.slotConfig.lazyload?t.updateSlotViewportStatus():t.displaySlot(t.slotGPT.getSlotElementId())}))}},{key:"aggregateInternalEvents",value:function(){var t=this;googletag.cmd.push((function(){googletag.pubads().addEventListener("slotRenderEnded",(function(e){var o=t.prepareEventDataForSlotRenderEnded(e);a.publish(o.type,o);var n=t.prepareEventDataForSlotRenderEndedGeneric(e);a.publish(n.type,n)})),googletag.pubads().addEventListener("impressionViewable",(function(){}