(self.webpackChunkwindow_dibs_buyer_layout_buyer=self.webpackChunkwindow_dibs_buyer_layout_buyer||[]).push([[820],{33911:(e,a,n)=>{"use strict";n.r(a),n.d(a,{sanitizePrice:()=>t.sanitizePrice,replacePrices:()=>t.replacePrices,getPriceAttr:()=>t.getPriceAttr,patternByLocale:()=>t.patternByLocale});var t=n(40413)},40413:(e,a,n)=>{"use strict";n.r(a),n.d(a,{patternByLocale:()=>t,getPriceAttr:()=>l,replacePrices:()=>s,sanitizePrice:()=>r});const t={"en-US":{regex:/\$(\s)?(\d+,)*\d+(\.\d+)?/g,decimal:".",separator:",",symbol:"$"},"en-PSEUDO":{regex:/\$(\s)?(\d+,)*\d+(\.\d+)?/g,decimal:".",separator:",",symbol:"$"},"en-GB":{regex:/\£(\s)?(\d+\.)*\d+(,\d+)?/g,decimal:",",separator:".",symbol:"£"},"de-DE":{regex:/(\d+\.)*\d+(,\d+)?(\s)?€/g,decimal:",",separator:".",symbol:"€"},"fr-FR":{regex:/(\d+\s)*\d+(,\d+)?(\s)?€/g,decimal:",",separator:" ",symbol:"€"}},l=e=>`data-cms-price-${e.toLocaleLowerCase()}`,s=(e,a="en-US")=>{const{regex:n}=t[a];return e.replace(/<price>(.*?)<\/price>/g,"$1").replace(n,"<price>$&</price>")},r=(e,a="en-US")=>{const{regex:n,symbol:l,decimal:s,separator:r}=t[a];return e.replace(n,(e=>e.replace(new RegExp(`[${r+l}]`,"g"),"").replace(s,".")))}},54021:(e,a,n)=>{"use strict";n.r(a),n.d(a,{useCurrency:()=>t.useCurrency});var t=n(64959)},86754:(e,a,n)=>{"use strict";n.r(a),n.d(a,{TRADE:()=>t.CUSTOMER_TYPE_TRADE,VIP:()=>t.CUSTOMER_TYPE_VIP,CONSUMER:()=>t.CUSTOMER_TYPE_CONSUMER});var t=n(21657)},81182:(e,a,n)=>{"use strict";n.r(a),n.d(a,{loadLocalCart:()=>i,removeLocalCart:()=>o,setCartItems:()=>c,removeLocalCartItem:()=>d,removePortfolioCartItem:()=>u});var t=n(92773),l=n(15604);const s="cart";function r(){return t.localStorage.getItem(s)||[]}function i(){const e=r().map((e=>(Array.isArray(e.id)&&(e.id=e.id[0]),e)));return{type:l.actionTypes.SET_CART_ITEMS,payload:{items:e}}}function o(){return t.localStorage.deleteItem(s),{type:l.actionTypes.SET_CART_ITEMS,payload:{items:[]}}}function c(e){const a=r(),n=(i=e,a.map((({id:e})=>e)).filter((e=>!i.includes(e))).concat(i).map((e=>({id:e}))));var i;return t.localStorage.setItem(s,n),{type:l.actionTypes.SET_CART_ITEMS,payload:{items:n}}}function d(e){const a=r().filter((a=>a.id!==e));return t.localStorage.setItem(s,a),{type:l.actionTypes.SET_CART_ITEMS,payload:{items:a}}}function u(e){return{type:l.actionTypes.REMOVE_PORTFOLIO_CART_ITEM,payload:{itemId:e}}}},638:(e,a,n)=>{"use strict";n.r(a),n.d(a,{getAuthHash:()=>t});const t=({email:e})=>btoa((e||"").split("@")[0])},19672:(e,a,n)=>{"use strict";n.r(a),n.d(a,{LABEL_STALE_LOGIN_MODAL:()=>f,trackRegistrationEntry:()=>L,trackRegistrationComplete:()=>C,trackLoginEntry:()=>T,trackContactLoginComplete:()=>F,trackInputComplete:()=>I,trackLoginError:()=>E,trackRegistrationError:()=>w,trackSocialLoginButtonClick:()=>_,trackSocialLoginEntry:()=>N,trackSocialAuthComplete:()=>O,trackSocialAccountLinked:()=>A,trackSocialAccountCreated:()=>R,trackSocialEmailOptOut:()=>K,trackSocialLoginError:()=>P,trackForgotYourPassword:()=>D,trackLoginLinkEmailSelected:()=>j,trackLoginLinkEmailSubmitted:()=>M,trackResendLoginLinkSelected:()=>V,trackEmailLoginLinkComplete:()=>x,trackResetPasswordLoginComplete:()=>H,trackVerificationFailedModalDisplayed:()=>U});var t=n(76907),l=n(53501),s=n(2698),r=n(63632),i=n(81361),o=n(21637);function c(e,a){if(null==e)return{};var n,t,l=function(e,a){if(null==e)return{};var n,t,l={},s=Object.keys(e);for(t=0;t<s.length;t++)n=s[t],a.indexOf(n)>=0||(l[n]=e[n]);return l}(e,a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(t=0;t<s.length;t++)n=s[t],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function d(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),n.push.apply(n,t)}return n}function u(e){for(var a=1;a<arguments.length;a++){var n=null!=arguments[a]?arguments[a]:{};a%2?d(Object(n),!0).forEach((function(a){m(e,a,n[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))}))}return e}function m(e,a,n){return a in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}const g="login link",p="register link",f="stale login modal",h={VERIFIED_VETTED:"verified - vetted",VERIFIED_PRE_APPROVED:"verified - pre-approved",SUSPECTED:"suspected",APPLIED_IN_REVIEW:"applied - in review",APPLIED_NOT_ENOUGH_INFORMATION:"applied - not enough information",APPLIED_REJECTED:"applied - rejected"},y=({action:e,label:a,value:n,additional:l={}},r)=>{e===i.ACTION_COMPLETE&&(l=u(u({},l),{},{currentAccountType:(0,s.getCurrentAccountType)({type:"email"})})),(0,t.trackEvent)({action:`registration ${e}`,category:"registration",label:a,value:n,isInteractiveEvent:!1,additional:l},r||null)},k=e=>({submittedTransactions:e.submittedTransactions,confirmedTransactions:e.confirmedTransactions,submittedTransactionsRecent:e.submittedTransactionsRecent,confirmedTransactionsRecent:e.confirmedTransactionsRecent}),b=e=>{const{submittedTransactions:a,confirmedTransactions:n,submittedTransactionsRecent:t,confirmedTransactionsRecent:l}=e,s=a||n,r=t||l;return s&&r?"active":s&&!r?"lapsed":void 0},v=e=>{var a;const{user:n}=e||{},t=null==n||null==(a=n.profile)?void 0:a.email,s=k(e),i=(0,r.formatDate)(null==n?void 0:n.createdDate);return{loginStatus:"Logged In",userID:e.userId,registrationStatus:"Registered",userEmailAddress:t,emailToken:e.emailToken,defaultCurrency:"USD Default",buyerStatus:(0,l.getTransactionsStatus)({transactions:s,resetStorage:!0}).buyerStatus,tradeStatus:void 0,customerType:l.CUSTOMER_TYPE_CONSUMER,registrationDate:i}},S=e=>{const{user:a}=e||{},{profile:n,preferences:t}=a||{},s=null==t?void 0:t.currency,r=null==n?void 0:n.email,i=null==a?void 0:a.verifiedTradeStatus,o=k(e),c=(0,l.getCustomerType)(a||{});return{loginStatus:"Logged In",userID:e.userId,registrationStatus:"Registered",userEmailAddress:r,defaultCurrency:`${s} Selected`,buyerStatus:(0,l.getTransactionsStatus)({transactions:o,resetStorage:!0}).buyerStatus,buyerActivityStatus:b(o),tradeStatus:h[i||""],firstPurchasePrice:"na",firstPurchaseDate:"na",contactDealerStatus:void 0,customerType:c}},L=({action:e=i.ACTION_ENTRY,label:a=p,value:n})=>{y({action:e,label:a,value:n})},C=e=>{const{action:a=i.ACTION_COMPLETE,label:n=p,value:t,event:l}=e,s=v(e);y({action:a,label:n,value:t,additional:s},l)},T=({action:e=i.ACTION_ENTRY,label:a=g,value:n})=>{(0,o.loginTracking)({action:e,label:a,value:n})},F=e=>{const{action:a=i.ACTION_COMPLETE,label:n=g,value:t}=e,l=S(e);(0,o.loginTracking)({action:a,label:n,value:t,additional:l})},I=({field:e,triggerType:a,value:n,event:l})=>{(0,t.trackEvent)({action:"registration form interaction",category:"registration",label:`registration step complete (${e})`,value:n,additional:u(u({},a?{triggerType:a}:{}),{},{currentAccountType:(0,s.getCurrentAccountType)({type:e})})},l||null)},E=()=>{(0,t.trackEvent)({action:"login|login modal|password",category:"form error",label:"incorrect password"})},w=({field:e,error:a,action:n="register form"})=>{(0,t.trackEvent)({action:`registration|${n}|${e}`,category:"form error",label:a})},_=({category:e,label:a,ssoType:n,event:l})=>{(0,t.trackEvent)({action:"continue with button clicked",category:e,label:a,additional:{ssoType:(n||"").toLowerCase()}},l||null)},N=({label:e,ssoType:a})=>{(0,t.trackEvent)({category:"social integrations",action:"connect account entry",label:e,additional:{ssoType:a}})},O=e=>{let{category:a,label:n,ssoType:l}=e,s=c(e,["category","label","ssoType"]);(0,t.trackEvent)({category:a,action:`${a} ${i.ACTION_COMPLETE}`,label:n,additional:u(u({},S(s)),{},{ssoType:l})})},A=e=>{let{label:a,ssoType:n}=e,l=c(e,["label","ssoType"]);(0,t.trackEvent)({category:"social integrations",action:"existing account connected",label:a,additional:u(u({},S(l)),{},{ssoType:(n||"").toLowerCase()})})},R=e=>{let{label:a,ssoType:n}=e,l=c(e,["label","ssoType"]);(0,t.trackEvent)({category:"social integrations",action:"new account connected",label:a,additional:u(u({},v(l)),{},{ssoType:(n||"").toLowerCase()})})},K=({label:e,value:a,errorMessage:n})=>{(0,t.trackEvent)({action:"registration|register form|email",category:"form error",label:n,value:a}),(0,t.trackEvent)({action:"login entry",category:"login",label:e,value:a,additional:{ssoType:"facebook"}})},P=({ssoType:e,errorMessage:a})=>{(0,t.trackEvent)({category:"form error",action:"sign-on error triggered",label:a,additional:{ssoType:e}})},D=e=>{(0,t.trackEvent)({action:i.ACTION_FORGOT_PASSWORD_SELECTED,category:"login",label:e})},j=e=>{(0,o.loginTracking)({action:i.ACTION_LINK_EMAIL_SELECTED,label:e})},M=e=>{(0,o.loginTracking)({action:i.ACTION_LINK_EMAIL_SUBMITTED,label:e})},V=e=>{(0,t.trackEvent)({action:i.ACTION_RESEND_LOGIN_LINK_SELECTED,category:"login",label:e})},x=()=>{(0,o.loginTracking)({action:i.ACTION_COMPLETE,label:"email login link"})},H=()=>{(0,o.loginTracking)({action:i.ACTION_COMPLETE,label:"reset password modal"})},U=()=>{(0,t.trackEvent)({category:"login",action:i.ACTION_VERIFICATION_FAILED_MODAL_DISPLAYED})}},84693:(e,a,n)=>{"use strict";n.r(a),n.d(a,{default:()=>_});const t={fragment:{argumentDefinitions:l=[{defaultValue:null,kind:"LocalArgument",name:"input"}],kind:"Fragment",metadata:null,name:"loginMutation",selections:[{alias:null,args:s=[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"UserLoginPayload",kind:"LinkedField",name:"userLogin",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[r={alias:null,args:null,kind:"ScalarField",name:"serviceId",storageKey:null},i={alias:"userId",args:null,kind:"ScalarField",name:"serviceId",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"createdDate",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"isVerifiedTrade",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"isVip",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"verifiedTradeStatus",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"registrationIntent",storageKey:null},{alias:null,args:null,concreteType:"EthereumAddressType",kind:"LinkedField",name:"ethereumWalletAddress",plural:!1,selections:[g={alias:null,args:null,kind:"ScalarField",name:"address",storageKey:null}],storageKey:null},p={alias:null,args:null,concreteType:"Profile",kind:"LinkedField",name:"profile",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"email",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"firstName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"lastName",storageKey:null}],storageKey:null},f={alias:null,args:null,concreteType:"UserPreferences",kind:"LinkedField",name:"preferences",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"currency",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"measurementUnit",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"preferredLocale",storageKey:null}],storageKey:null},{kind:"InlineDataFragmentSpread",name:"tradeApplicationHelpers_user",selections:[d,u]}],storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"emailToken",storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"userToken",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"userId",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"responseMessage",storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"isNewUser",storageKey:null},L={alias:"submittedTransactions",args:[S={kind:"Literal",name:"viewName",value:"buyerTracking.submitted"}],kind:"ScalarField",name:"transactionsCount",storageKey:'transactionsCount(viewName:"buyerTracking.submitted")'},T={alias:"confirmedTransactions",args:[C={kind:"Literal",name:"viewName",value:"buyerTracking.confirmed"}],kind:"ScalarField",name:"transactionsCount",storageKey:'transactionsCount(viewName:"buyerTracking.confirmed")'},I={alias:"submittedTransactionsRecent",args:[F={kind:"Literal",name:"monthsBack",value:6},S],kind:"ScalarField",name:"transactionsCount",storageKey:'transactionsCount(monthsBack:6,viewName:"buyerTracking.submitted")'},E={alias:"confirmedTransactionsRecent",args:[F,C],kind:"ScalarField",name:"transactionsCount",storageKey:'transactionsCount(monthsBack:6,viewName:"buyerTracking.confirmed")'}],storageKey:null}],type:"Mutations",abstractKey:null},kind:"Request",operation:{argumentDefinitions:l,kind:"Operation",name:"loginMutation",selections:[{alias:null,args:s,concreteType:"UserLoginPayload",kind:"LinkedField",name:"userLogin",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[r,i,o,c,d,u,m,{alias:null,args:null,concreteType:"EthereumAddressType",kind:"LinkedField",name:"ethereumWalletAddress",plural:!1,selections:[g,w={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},p,f,w],storageKey:null},h,y,k,b,v,L,T,I,E],storageKey:null}]},params:{id:"ferrum/369.0.0-2022-06-10T11:16:53.381Z/loginMutation",metadata:{},name:"loginMutation",operationKind:"mutation",text:null}};var l,s,r,i,o,c,d,u,m,g,p,f,h,y,k,b,v,S,L,C,T,F,I,E,w;t.hash="e45ea467bdefdd997140f963a8f4c606";const _=t},7133:(e,a,n)=>{"use strict";n.r(a),n.d(a,{loginMutation:()=>g});n(51594);var t,l=n(68106),s=n.n(l),r=n(72371),i=n.n(r),o=n(73575),c=n(11390),d=n(638),u=n(88081);const m=(void 0!==t||(t=n(84693)).hash&&"e45ea467bdefdd997140f963a8f4c606"!==t.hash&&console.error("The definition of 'loginMutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),t);async function g(e,{email:a,password:n,socialUserFirstName:t,socialUserLastName:l,socialUserEmail:r,socialToken:g,socialClientId:p,socialNetworkName:f,marketingOptIn:h,mfaVerificationCode:y,emailLoginToken:k},b){const v=g||k?"":(0,d.getAuthHash)({email:a}),S=s().get("cookieDomain"),L=(0,c.getUserSessionCountryCode)(),{ga:C={},isEmailOnly:T}=b||{};let F;g&&(F=(0,u.getRegistrationTriggerValue)({ga:C}));const I={email:a,password:n,socialUserFirstName:t,socialUserLastName:l,socialUserEmail:r,socialToken:g,socialClientId:p,socialNetworkName:f,authHash:v,cookieDomain:S,marketingOptIn:h,countryCode:L,registrationTrigger:F,emailLoginToken:k};if(!g&&!T){const n={action:"login",userName:a,mfaVerificationCode:y,supportedMFATypes:["CODE"],featureFlag:"loginCaptcha",featureFlagV3:"loginCaptchaV3"};return(0,o.commitMutationWithRecaptcha)(e,{mutation:m,mutationInputVariables:I,executeCaptchaConfig:n})}return i()(e,{mutation:m,variables:{input:I}})}},88081:(e,a,n)=>{"use strict";n.r(a),n.d(a,{getRegistrationTriggerValue:()=>g});const t="AUTO_MODAL",l="CHECKOUT",s="CONTACT_SELLER",r="REGISTRATION_LINK",i="REGISTRATION_LINK_NAVIGATION",o="SAVE_ITEM",c="SAVE_SEARCH",d="TRADE",u="NOT_SET",m={"abandoned checkout":t,"pageview limit reached":t,"exit pdp":t,"same pdp view":t,"unauth page":t,"google one tap":t,"channel prompt":t,"cart link":"CART",purchase:l,"make offer":l,"complete account modal":l,"contact link in pdp - sidebar":s,"contact link in pdp - more from dealer module":s,"pdp chat box":s,"request price button":s,"pdp image carousel":s,"image zoom modal":s,"in dealer storefront - button":s,"in dealer storefront - call button":s,"make offer exit":s,"contact link in pdp - request customization":s,"call seller link":s,"login link - global header":r,"register query param - address bar":r,"login query param - address bar":r,"register link":r,"register link - global header":i,"footer navigation":i,"save item - product page":o,"save item - search/browse":o,"save search - sold pdp":o,"save item - product nav":o,"save item - favorites page":o,"save item - product page - more from dealer":o,"save item - similar items page":o,"save item - auction PDP":o,"save item - product page - you may also like":o,"save item - product page - top you may also like":o,"save item - dealer storefront page":o,"search banner":c,"save search - search/browse page":c,"save search - dealer storefront page":c,"save search - unlisted pdp":c,"save search - design series":c,"trade application page":d,"third pageview trade login":d},g=({ga:e}={ga:{}})=>{const{label:a}=e||{};return a&&m[a]||u}},21637:(e,a,n)=>{"use strict";n.r(a),n.d(a,{loginTracking:()=>c});var t=n(76907),l=n(2698),s=n(81361);function r(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),n.push.apply(n,t)}return n}function i(e){for(var a=1;a<arguments.length;a++){var n=null!=arguments[a]?arguments[a]:{};a%2?r(Object(n),!0).forEach((function(a){o(e,a,n[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))}))}return e}function o(e,a,n){return a in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function c({action:e,label:a,value:n,additional:r={}}){e===s.ACTION_COMPLETE&&(r=i(i({},r),{},{currentAccountType:(0,l.getCurrentAccountType)({type:"password"})})),(0,t.trackEvent)({action:`login ${e}`,category:"login",label:a,value:n,additional:r})}},81361:(e,a,n)=>{"use strict";n.r(a),n.d(a,{ACTION_COMPLETE:()=>t,ACTION_ENTRY:()=>l,ACTION_FORGOT_PASSWORD_SELECTED:()=>s,ACTION_LINK_EMAIL_SELECTED:()=>r,ACTION_LINK_EMAIL_SUBMITTED:()=>i,ACTION_RESEND_LOGIN_LINK_SELECTED:()=>o,ACTION_VERIFICATION_FAILED_MODAL_DISPLAYED:()=>c});const t="complete",l="entry",s="forgot password selected",r="link email selected",i="link email submited",o="resend login link selected",c="verification failed modal displayed"},15111:(e,a,n)=>{"use strict";n.r(a),n.d(a,{default:()=>T});var t,l=n(95313),s=n(28856),r=n(58260),i=n(48719),o=n(92773),c=n(2408),d=n(94184),u=n.n(d),m=n(46485),g=n(42866),p=n(94933),f=n(55369),h=n(46812),y=n(41099),k=n(52790),b=n(54651),v=n(62061),S=n(50391),L=n(92639);const C=(0,l.lazy)((()=>n.e(619).then(n.bind(n,81851)))),T=({hasUser:e,hasUserId:a,isClient:d,user:T,hasTradeUserId:F})=>{const[I,E]=(0,l.useState)(!1),[w,_]=(0,l.useState)(!1),N=(0,r.useRelayEnvironment)(),O=(0,r.useFragment)((void 0!==t||(t=n(25026)).hash&&"6354207af5acec55e238513ad8e4beab"!==t.hash&&console.error("The definition of 'AccountNav_user' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),t),T);(0,l.useEffect)((()=>{E((0,i.isMasqueradingAsBuyer)(document.cookie)),_((0,i.isDirectlyLoggedInAsUser)(document.cookie))}),[]);const A=(0,s.useSelector)((({header:e})=>e.isVipCuratedFolderTooltipVisible)),R=(0,s.useDispatch)(),K=async e=>{e.preventDefault();const a=e.currentTarget.dataset.action;try{const{authError:e}=await p.default.show({relayEnvironment:N,email:o.localStorage.getItem("userEmail"),action:a,ga:{label:`${a} link - global header`,value:!!window.scrollY}});e||R(v.actionCreators.setUpdateUserState(!0))}catch(n){console.error("Auth Modal could not be loaded\n",n)}};if(!d||a&&!e)return null;const P=null==O?void 0:O.isVerifiedTrade;return(0,L.jsx)("div",{"data-tn":"account-nav",className:b.default.wrapper,children:e?(0,L.jsx)(L.Fragment,{children:(0,L.jsxs)(m.default,{align:m.alignConstants.ALIGN_CENTER,size:m.sizeConstants.SIZE_SMALL,className:u()({[b.default.noHover]:A}),bodyClassName:b.default.dropdownBodyWrapper,dropdownClassName:b.default.dropdown,children:[(0,L.jsx)(l.Suspense,{fallback:null,children:(0,L.jsx)(f.default,{isMasquerading:I,isDirectLogin:w,user:O})}),(0,L.jsx)(g.default,{children:P&&F?(0,L.jsx)(l.Suspense,{fallback:(0,L.jsx)(S.default,{}),children:(0,L.jsx)(C,{user:O})}):(0,L.jsx)(l.Suspense,{fallback:(0,L.jsx)(S.default,{}),children:(0,L.jsx)(h.default,{user:O})})})]})}):(0,L.jsxs)("div",{className:b.default.authButtons,children:[(0,L.jsx)(y.Link,{className:b.default.authButton,dataTn:"user-menu-nav-item-link-log-in",dataAction:k.ACTION_LOGIN,onClick:K,children:(0,L.jsx)(c.FormattedMessage,{id:"dbl.Header.AccountNav.log_in",defaultMessage:"Log In"})}),(0,L.jsx)(y.Link,{className:b.default.authButton,dataTn:"user-menu-nav-item-link-sign-up",dataAction:k.ACTION_REGISTER,onClick:K,children:(0,L.jsx)(c.FormattedMessage,{id:"dbl.Header.AccountNav.sign_up",defaultMessage:"Sign Up"})})]})})}},46812:(e,a,n)=>{"use strict";n.r(a),n.d(a,{default:()=>v});var t,l=n(2408),s=n(28856),r=n(76907),i=n(58260),o=n(94933),c=n(42684),d=n(41099),u=n(70208),m=n(92773),g=n(54651),p=n(92639);function f(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),n.push.apply(n,t)}return n}function h(e){for(var a=1;a<arguments.length;a++){var n=null!=arguments[a]?arguments[a]:{};a%2?f(Object(n),!0).forEach((function(a){y(e,a,n[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))}))}return e}function y(e,a,n){return a in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}const k={category:"navigation",action:"header navigation click"},b=(0,l.defineMessages)({accountLabel:{id:"dbl.Header.AccountNavContent.accountLabel",defaultMessage:"Account"},logout:{id:"dbl.Header.AccountNavContent.logout",defaultMessage:"Logout"},myOrders:{id:"dbl.Header.AccountNavContent.myOrders",defaultMessage:"Orders"},accountInformation:{id:"dbl.Header.AccountNavContent.accountInformation",defaultMessage:"Account Information"},myConversations:{id:"dbl.Header.AccountNavContent.myConversations",defaultMessage:"Inbox"},nft:{id:"dbl.Header.AccountNavContent.nftCollector",defaultMessage:"NFT History"},nftProfile:{id:"dbl.Header.AccountNavContent.nftProfile",defaultMessage:"NFT Profile"}}),v=({user:e})=>{var a;const f=(0,i.useFragment)((void 0!==t||(t=n(95643)).hash&&"8997779c90abeb18372127fb77957faa"!==t.hash&&console.error("The definition of 'AccountNavContent_user' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),t),e),y=(null==f||null==(a=f.conversationSummary)?void 0:a.unread)||0,v=(0,s.useSelector)((({header:e})=>e.logoutUser)),S=(0,s.useSelector)((({header:e})=>e.isEmailOnly)),L=(0,l.useIntl)(),C=async({flow:e,url:a})=>{var n;const t=null==f||null==(n=f.profile)?void 0:n.email,l=await o.default.show({flow:e,action:c.REQUEST_PASSWORD_EMAIL,email:t});l.err||l.modal!==c.LOGIN||(window.location.href=(0,u.handleLocaleUrl)(a,u.GLOBAL_CLIENT_ONLY_LOCALE))};return(0,p.jsxs)("div",{className:g.default.dropdownContent,children:[(0,p.jsx)("div",{className:g.default.dropdownLinkWrapper,"data-tn":"sub-nav-list-item-account-information",children:(0,p.jsx)(d.Link,{className:g.default.dropdownLink,href:"/my/account/",ariaLabel:L.formatMessage(b.accountLabel),dataTn:"sub-nav-list-item-link-account-information",onClick:e=>{(0,r.trackEvent)(h(h({},k),{},{label:"user-nav|account information"}),e)},children:L.formatMessage(b.accountInformation)})}),(0,p.jsx)("div",{className:g.default.dropdownLinkWrapper,"data-tn":"sub-nav-list-item-my-orders",children:(0,p.jsx)(d.Link,{className:g.default.dropdownLink,dataTn:"sub-nav-list-item-link-my-orders",onClick:async e=>{const a="/orders/";S?await C({flow:c.CREATE_PASSWORD_MY_ORDERS_FLOW,url:a}):((0,r.trackEvent)(h(h({},k),{},{label:"user-nav|my orders"}),e),window.location.href=(0,u.handleLocaleUrl)(a,u.GLOBAL_CLIENT_ONLY_LOCALE))},children:L.formatMessage(b.myOrders)})}),(0,p.jsx)("div",{className:g.default.dropdownLinkWrapper,"data-tn":"sub-nav-list-item-my-conversations",children:(0,p.jsxs)(d.Link,{className:g.default.dropdownLink,dataTn:"sub-nav-list-item-link-my-conversations",onClick:async e=>{const a="/inbox/";S?await C({flow:c.CREATE_PASSWORD_MY_CONVERSATIONS_FLOW,url:a}):((0,r.trackEvent)(h(h({},k),{},{label:"user-nav|my conversations"}),e),window.location.href=(0,u.handleLocaleUrl)(a,u.GLOBAL_CLIENT_ONLY_LOCALE))},children:[L.formatMessage(b.myConversations),y?(0,p.jsxs)("span",{className:g.default.unreadCount,children:[" (",y,")"]}):null]})}),!!("undefined"!=typeof window&&window.ethereum||m.localStorage.getItem("walletconnect"))&&(0,p.jsx)("div",{className:g.default.dropdownLinkWrapper,"data-tn":"sub-nav-list-item-nft-collector",children:(0,p.jsx)(d.Link,{className:g.default.dropdownLink,dataTn:"sub-nav-list-item-link-nft-collector",href:"/nft/profile/",onClick:async e=>{(0,r.trackEvent)(h(h({},k),{},{label:"user-nav|nft collector"}),e)},children:L.formatMessage(b.nftProfile)})}),(0,p.jsx)("div",{className:g.default.dropdownLinkWrapper,"data-tn":"sub-nav-list-item-logout",children:(0,p.jsx)(d.Link,{className:g.default.dropdownLink,dataTn:"sub-nav-list-item-link-logout",onClick:e=>{(0,r.trackEvent)(h(h({},k),{},{label:"user-nav|logout"}),e),v()},children:L.formatMessage(b.logout)})})]})}},55369:(e,a,n)=>{"use strict";n.r(a),n.d(a,{default:()=>p});n(95313);var t,l=n(2408),s=n(58260),r=n(49568),i=n(81582),o=n(14765),c=n(76907),d=n(41099),u=n(25116),m=n(92639);const g=(0,l.defineMessages)({label:{id:"AccountNavTrigger.label",defaultMessage:"Account"},tradeLabel:{id:"AccountNavTrigger.tradeLabel",defaultMessage:"Rewards Dashboard"}}),p=({isMasquerading:e,isDirectLogin:a,user:p})=>{var f,h,y,k;const b=(0,l.useIntl)(),v=(0,s.useFragment)((void 0!==t||(t=n(46596)).hash&&"76603bbb19c0cb9719c2592462d9c0f9"!==t.hash&&console.error("The definition of 'AccountNavTrigger_user' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),t),p);let S;if(void 0===(null==v||null==(f=v.profile)?void 0:f.firstName))S="";else if(null!=v&&null!=(h=v.profile)&&h.firstName){var L;S=null==v||null==(L=v.profile)?void 0:L.firstName}else S=(0,m.jsx)(l.FormattedMessage,{id:"dbl.Header.AccountNav.name",defaultMessage:"My Account"});const{tradeFirmRewards:C,isVerifiedTrade:T}=v||{},F=!!C,I=Math.floor((null==C?void 0:C.currentYearPoints)||0),E=(null==C||null==(y=C.currentProgram)||null==(k=y.programInfo)?void 0:k.displayName)||"",w=T?"/trade/rewards/":"/my/account/";let _=null;return e?_=(0,m.jsx)("span",{"data-tn":"user-menu-masq-icon",className:u.default.maskIcon,children:(0,m.jsx)(i.default,{})}):a&&(_=(0,m.jsx)("span",{"data-tn":"user-menu-direct-login-icon",className:u.default.maskDirectLoginIcon,children:(0,m.jsx)(o.default,{})})),(0,m.jsxs)("div",{"data-tn":"user-menu-logged-in",className:u.default.accountWrapper,children:[(0,m.jsxs)("div",{className:F?u.default.nameWrapper:"",children:[(0,m.jsxs)(d.Link,{buyerLinkType:"contrastLinkNoEffect",dataTn:"user-menu-logged-in-name",className:F?u.default.nameTrade:u.default.name,href:w,children:[_,e||a?(0,m.jsxs)("span",{children:["(",S,")"]}):S]}),(0,m.jsxs)("div",{children:[I>0&&(0,m.jsx)(d.Link,{buyerLinkType:"contrastLinkNoEffect",className:u.default.tradePoints,href:w,dataTn:"user-menu-lifetime-points",children:(0,m.jsx)(l.FormattedMessage,{id:"dbl.Header.AccountNav.currentPoints",defaultMessage:"{currentYearPoints, plural, one {# pt} other {# pts}}",values:{currentYearPoints:I}})}),T&&E&&(0,m.jsx)(d.Link,{buyerLinkType:"contrastLinkNoEffect",className:u.default.tradeStatus,href:w,dataTn:"user-menu-firm-program",children:E})]})]}),(0,m.jsx)(d.Link,{ariaLabel:b.formatMessage(T?g.tradeLabel:g.label),className:u.default.accountIcon,href:w,onClick:e=>{(0,c.trackEvent)({category:"navigation",action:"header navigation click",label:"user-nav|user icon"},e)},children:(0,m.jsx)(r.default,{})})]})}},95643:(e,a,n)=>{"use strict";n.r(a),n.d(a,{default:()=>l});const t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"AccountNavContent_user",selections:[{alias:null,args:null,concreteType:"Profile",kind:"LinkedField",name:"profile",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"email",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Summary",kind:"LinkedField",name:"conversationSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"unread",storageKey:null}],storageKey:null}],type:"User",abstractKey:null,hash:"8997779c90abeb18372127fb77957faa"},l=t},46596:(e,a,n)=>{"use strict";n.r(a),n.d(a,{default:()=>l});const t={argumentDefinitions:[{kind:"RootArgument",name:"hasTradeUserId"}],kind:"Fragment",metadata:null,name:"AccountNavTrigger_user",selections:[{alias:null,args:null,concreteType:"Profile",kind:"LinkedField",name:"profile",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"firstName",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isVerifiedTrade",storageKey:null},{condition:"hasTradeUserId",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"TradeFirmRewards",kind:"LinkedField",name:"tradeFirmRewards",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"currentYearPoints",storageKey:null},{alias:null,args:null,concreteType:"ParentProgram",kind:"LinkedField",name:"currentProgram",plural:!1,selections:[{alias:null,args:null,concreteType:"LoyaltyProgram",kind:"LinkedField",name:"programInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]}],type:"User",abstractKey:null,hash:"76603bbb19c0cb9719c2592462d9c0f9"},l=t},25026:(e,a,n)=>{"use strict";n.r(a),n.d(a,{default:()=>l});const t={argumentDefinitions:[{kind:"RootArgument",name:"hasTradeUserId"}],kind:"Fragment",metadata:null,name:"AccountNav_user",selections:[{condition:"hasTradeUserId",kind:"Condition",passingValue:!1,selections:[{kind:"Defer",selections:[{args:null,kind:"FragmentSpread",name:"AccountNavContent_user"}]}]},{kind:"Defer",selections:[{args:null,kind:"FragmentSpread",name:"AccountNavTrigger_user"}]},{condition:"hasTradeUserId",kind:"Condition",passingValue:!0,selections:[{kind:"Defer",selections:[{args:null,kind:"FragmentSpread",name:"TradeAccountNavContent_user"}]}]},{alias:null,args:null,kind:"ScalarField",name:"isVerifiedTrade",storageKey:null}],type:"User",abstractKey:null,hash:"6354207af5acec55e238513ad8e4beab"},l=t},52790:(e,a,n)=>{"use strict";n.r(a),n.d(a,{ACTION_LOGIN:()=>l,ACTION_REGISTER:()=>t,default:()=>s});const t="register",l="login",s={ACTION_LOGIN:l,ACTION_REGISTER:t}},5960:(e,a,n)=>{"use strict";n.r(a),n.d(a,{default:()=>c});var t,l=n(95313),s=n(58260),r=n(54308),i=n(11002),o=n(92639);const c=({viewer:e})=>{const a=(0,s.useFragment)((void 0!==t||(t=n(42012)).hash&&"5be0e6dea8a08175c40f68b833ac7bf6"!==t.hash&&console.error("The definition of 'BottomBar_viewer' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),t),e),[c,d]=(0,l.useState)(!1),u=(0,l.useCallback)((()=>{d(!0)}),[d]),m=(0,l.useCallback)((()=>{d(!1)}),[d]);return(0,o.jsx)("div",{className:i.default.bar,children:(0,o.jsx)("div",{className:i.default.barContent,children:(0,o.jsx)("div",{className:i.default.wrapper,"data-tn":"main-nav-bottom",children:(0,o.jsx)(r.default,{viewer:a,isNavigationHovered:c,onMouseEnter:u,onMouseLeave:m})})})})}},42012:(e,a,n)=>{"use strict";n.r(a),n.d(a,{default:()=>l});const t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BottomBar_viewer",selections:[{args:null,kind:"FragmentSpread",name:"SiteNav_viewer"}],type:"Viewer",abstractKey:null,hash:"5be0e6dea8a08175c40f68b833ac7bf6"},l=t},78384:(e,a,n)=>{"use strict";n.r(a),n.d(a,{default:()=>R});var t,l,s,r,i,o=n(95313),c=n(29208),d=n.n(c),u=(n(99),n(51594)),m=n(28856),g=n(2408),p=n(94184),f=n.n(p),h=n(75174),y=n(81182),k=n(62061),b=n(46485),v=n(92955),S=n(42866),L=n(46317),C=n(50391),T=n(31616),F=n(39204),I=n(16901),E=n(99276),w=n(92639);function _(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),n.push.apply(n,t)}return n}function N(e){for(var a=1;a<arguments.length;a++){var n=null!=arguments[a]?arguments[a]:{};a%2?_(Object(n),!0).forEach((function(a){O(e,a,n[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))}))}return e}function O(e,a,n){return a in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}class A extends o.Component{constructor(e){super(e),this.state={CartNavDropdownContent:null,fragmentVariables:{fetchLocalItems:!1,fetchPortfolioItems:!1,itemIds:"",userIds:""}},this.triggerItemsFetch=this.triggerItemsFetch.bind(this),this.loadComponent=this.loadComponent.bind(this)}componentDidMount(){this.props.user||this.props.loadLocalCart()}componentDidUpdate(e){const{relay:a,user:n,userId:t,localCartItems:l,removedPortfolioCartItemId:s}=this.props,{removedPortfolioCartItemId:r}=e;n&&(0,I.wasPortfolioItemRemoved)({prevRemovedCartItemId:r,removedPortfolioCartItemId:s})&&this.fetchPortfolioItems(),n&&l.length>0&&(0,h.addCartItemMutation)({environment:a.environment,itemsIds:l.map((({id:e})=>e)),userId:t,onCompleted:()=>{this.props.removeLocalCart(),this.triggerItemsFetch(),this.props.setAddCartItemMutationCompleted()},onError:e=>{const{source:a}=e.getError?e.getError():{};if(a){d()(a,"errors[0].message","").includes("409")&&this.props.removeLocalCart()}}})}getSortedLocalItems(){const{viewer:e,localCartItems:a}=this.props,n=a.map((e=>e)),t=d()(e,"items");if(!t||!n)return null;if(n.length<2||t&&t.length>0)return t;const l=n.reduce(((e,a,n)=>(e[a]=n,e)),{});return t.edges.slice().sort((({node:e},{node:a})=>{const{serviceId:n}=e,{serviceId:t}=a;return l[n]-l[t]})),t}isEmptyState(){const{hasUserId:e,localCartItems:a}=this.props;if(!e&&0===a.length)return!0;const n=this.getItems();return!(!n||!n.edges||0!==n.edges.length)}getItems(){const{hasUserId:e,viewer:a}=this.props;return e?d()(a,"portfolios.edges[0].node.items"):this.getSortedLocalItems()}getCount(){const{hasUserId:e,viewer:a,localCartItems:n=[]}=this.props;return e?d()(a,"portfolios.edges[0].node.items.totalResults")||0:n.length}triggerItemsFetch(){const{hasRootPendingRefetch:e,hasUserId:a}=this.props;e||(a&&!this.state.fragmentVariables.fetchPortfolioItems&&this.fetchPortfolioItems(),a||this.state.fragmentVariables.fetchLocalItems||this.fetchLocalItems())}fetchPortfolioItems(){this.setState({fragmentVariables:N(N({},this.state.fragmentVariables),{},{hasUserId:this.props.hasUserId,fetchLocalItems:!1,fetchPortfolioItems:!0,userIds:[this.props.userId]})},(()=>{this.props.relay.refetch(this.state.fragmentVariables,null)}))}fetchLocalItems(){const{localCartItems:e}=this.props,a=e.map((({id:e})=>e));a.length>0&&this.setState({fragmentVariables:N(N({},this.state.fragmentVariables),{},{fetchLocalItems:!0,localItemIds:a})},(()=>{this.props.relay.refetch(this.state.fragmentVariables,null)}))}loadComponent(){(0,T.loadCartNavDropdownContent)().then((e=>{this.setState({CartNavDropdownContent:e})}))}render(){const{isClient:e,isVipCuratedFolderTooltipVisible:a}=this.props,{CartNavDropdownContent:n}=this.state;return e?(0,w.jsxs)(b.default,{align:b.alignConstants.ALIGN_RIGHT,onShow:this.loadComponent,hasDropdownHeader:!0,className:f()({[E.default.noHover]:a}),bodyClassName:E.default.dropdownBodyWrapper,dropdownClassName:E.default.dropdown,children:[(0,w.jsx)(L.default,{count:this.getCount(),handleMouseEnter:this.triggerItemsFetch}),(0,w.jsx)(v.default,{title:(0,w.jsx)(g.FormattedMessage,{id:"dbl.Header.CartNav.shoppingBagHeaderTitle",defaultMessage:"My Shopping Bag"}),link:(0,w.jsx)(g.FormattedMessage,{id:"dbl.Header.CartNav.headerLink",defaultMessage:"View All"}),href:"/my/cart/"}),(0,w.jsx)(S.default,{children:n?(0,w.jsx)(F.CurrencyProvider,{render:({currency:e})=>(0,w.jsx)(n,{currency:e,isEmptyState:this.isEmptyState(),items:this.getItems(),totalItems:this.getCount()})}):(0,w.jsx)(C.default,{})})]}):(0,w.jsx)(L.default,{})}}void 0!==t||(t=n(88452)).hash&&"0acaf8d56c1e760cd755053b99d56c54"!==t.hash&&console.error("The definition of 'CartNav_financialAmount' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),void 0!==l||(l=n(15224)).hash&&"bab947e7c2d42533b7484c064379c6ed"!==l.hash&&console.error("The definition of 'CartNav_item' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data.");const R=(0,u.createRefetchContainer)((0,m.connect)((({header:e,cart:a})=>({localCartItems:(null==a?void 0:a.items)||[],removedPortfolioCartItemId:null==a?void 0:a.removedPortfolioCartItemId,isVipCuratedFolderTooltipVisible:null==e?void 0:e.isVipCuratedFolderTooltipVisible})),(e=>({setAddCartItemMutationCompleted:()=>e(k.actionCreators.setAddCartItemMutationCompleted()),removeLocalCart:()=>e((0,y.removeLocalCart)()),loadLocalCart:()=>e((0,y.loadLocalCart)())})))(A),{user:(void 0!==s||(s=n(10520),s.hash&&"07d71cd5390cadb4431b06d42a73f5b4"!==s.hash&&console.error("The definition of 'CartNav_user' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data.")),s),viewer:(void 0!==r||(r=n(18377),r.hash&&"051fbcb6672daa40dd00a39ea28c5315"!==r.hash&&console.error("The definition of 'CartNav_viewer' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data.")),r)},(void 0!==i||(i=n(52608)).hash&&"66f9037c9d01b7778038030182b7bb5f"!==i.hash&&console.error("The definition of 'CartNavRefetchQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i))},46317:(e,a,n)=>{"use strict";n.r(a),n.d(a,{default:()=>p});var t=n(94184),l=n.n(t),s=n(2408),r=n(76907),i=n(41099),o=n(80524),c=n(99276),d=n(92639);function u(e){(0,r.trackEvent)({category:"navigation",action:"header navigation click",label:"cart|cart header link"},e)}const m=({count:e})=>{const a=9===e,n=l()(c.default.count,{[c.default.maxCount]:a});return(0,d.jsx)("div",{className:c.default.countWrapper,children:(0,d.jsxs)("div",{className:n,children:[e,a?(0,d.jsx)("sup",{children:"+"}):null]})})},g=(0,s.defineMessages)({label:{id:"dbl.Header.CartNavDropdownTrigger.label",defaultMessage:"Cart"}}),p=({count:e=0,handleMouseEnter:a=(()=>{})})=>{e=Math.min(e,9);const n=(0,s.useIntl)();return(0,d.jsx)("div",{"data-tn":"cart-nav-dropdown-trigger",className:c.default.iconWrapper,onMouseEnter:a,children:(0,d.jsxs)(i.Link,{className:c.default.icon,href:"/my/cart/",ariaLabel:n.formatMessage(g.label),onClick:u,children:[e?(0,d.jsx)(m,{count:e}):null,(0,d.jsx)(o.default,{})]})})}},52608:(e,a,n)=>{"use strict";n.r(a),n.d(a,{default:()=>g});const t={fragment:{argumentDefinitions:l=[{defaultValue:null,kind:"LocalArgument",name:"fetchLocalItems"},{defaultValue:null,kind:"LocalArgument",name:"fetchPortfolioItems"},{defaultValue:null,kind:"LocalArgument",name:"hasUserId"},{defaultValue:null,kind:"LocalArgument",name:"localItemIds"},{defaultValue:null,kind:"LocalArgument",name:"userIds"}],kind:"Fragment",metadata:null,name:"CartNavRefetchQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:[{kind:"Variable",name:"fetchLocalItems",variableName:"fetchLocalItems"},{kind:"Variable",name:"fetchPortfolioItems",variableName:"fetchPortfolioItems"},{kind:"Variable",name:"localItemIds",variableName:"localItemIds"}],kind:"FragmentSpread",name:"CartNav_viewer"}],storageKey:null}],type:"RootQueryType",abstractKey:null},kind:"Request",operation:{argumentDefinitions:l,kind:"Operation",name:"CartNavRefetchQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{condition:"fetchLocalItems",kind:"Condition",passingValue:!0,selections:[{alias:null,args:[s={kind:"Literal",name:"first",value:3},{kind:"Variable",name:"itemIds",variableName:"localItemIds"}],concreteType:"ItemsConnection",kind:"LinkedField",name:"items",plural:!1,selections:[{alias:null,args:null,concreteType:"ItemsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Item",kind:"LinkedField",name:"node",plural:!1,selections:m=[{alias:null,args:null,kind:"ScalarField",name:"pdpURL",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"serviceId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isSold",storageKey:null},{alias:null,args:null,concreteType:"ItemPhoto",kind:"LinkedField",name:"photos",plural:!0,selections:[{alias:null,args:null,concreteType:"ItemPhotoVersion",kind:"LinkedField",name:"versions",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"webPath",storageKey:null},{alias:null,args:null,concreteType:"ImageVersionType",kind:"LinkedField",name:"type",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null}],storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ItemPricing",kind:"LinkedField",name:"pricing",plural:!1,selections:[{alias:null,args:null,concreteType:"FinancialAmount",kind:"LinkedField",name:"netPrice",plural:!1,selections:d=[i={alias:null,args:null,kind:"ScalarField",name:"amount",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"currency",storageKey:null},c={alias:null,args:null,concreteType:"ConvertedAmountList",kind:"LinkedField",name:"convertedAmountList",plural:!0,selections:[o,i],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"FinancialAmount",kind:"LinkedField",name:"salePrice",plural:!1,selections:d,storageKey:null},{alias:null,args:null,concreteType:"FinancialAmount",kind:"LinkedField",name:"retailPrice",plural:!1,selections:d,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AuctionLot",kind:"LinkedField",name:"relevantAuctionLot",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},{alias:null,args:null,concreteType:"FinancialAmount",kind:"LinkedField",name:"buyItNowPrice",plural:!1,selections:[c],storageKey:null},r],storageKey:null},{alias:null,args:null,concreteType:"AuctionSolution",kind:"LinkedField",name:"relevantAuctionSolution",plural:!1,selections:[{alias:null,args:null,concreteType:"AuctionBidsConnection",kind:"LinkedField",name:"bids",plural:!1,selections:[u={alias:null,args:null,kind:"ScalarField",name:"totalResults",storageKey:null}],storageKey:null},r],storageKey:null},r],storageKey:null}],storageKey:null}],storageKey:null}]},{condition:"hasUserId",kind:"Condition",passingValue:!0,selections:[{alias:null,args:[{kind:"Literal",name:"first",value:1},{kind:"Literal",name:"portfolioTypes",value:["CART"]},{kind:"Variable",name:"userIds",variableName:"userIds"}],concreteType:"PortfoliosConnection",kind:"LinkedField",name:"portfolios",plural:!1,selections:[{alias:null,args:null,concreteType:"PortfoliosEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"PortfolioV2",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:[s],concreteType:"PortfolioItemsConnection",kind:"LinkedField",name:"items",plural:!1,selections:[u,{condition:"fetchPortfolioItems",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"PortfolioItemsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"PortfolioItemV2",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,concreteType:"Item",kind:"LinkedField",name:"item",plural:!1,selections:m,storageKey:null},r],storageKey:null}],storageKey:null}]}],storageKey:"items(first:3)"},r],storageKey:null}],storageKey:null}],storageKey:null}]},r],storageKey:null}]},params:{id:"ferrum/369.0.0-2022-06-10T11:16:53.381Z/CartNavRefetchQuery",metadata:{},name:"CartNavRefetchQuery",operationKind:"query",text:null}};var l,s,r,i,o,c,d,u,m;t.hash="66f9037c9d01b7778038030182b7bb5f";const g=t},88452:(e,a,n)=>{"use strict";n.r(a),n.d(a,{default:()=>r});const t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CartNav_financialAmount",selections:[l={alias:null,args:null,kind:"ScalarField",name:"amount",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"currency",storageKey:null},{alias:null,args:null,concreteType:"ConvertedAmountList",kind:"LinkedField",name:"convertedAmountList",plural:!0,selections:[s,l],storageKey:null}],type:"FinancialAmount",abstractKey:null};var l,s;t.hash="0acaf8d56c1e760cd755053b99d56c54";const r=t},15224:(e,a,n)=>{"use strict";n.r(a),n.d(a,{default:()=>o});const t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CartNav_item",selections:[{alias:null,args:null,kind:"ScalarField",name:"pdpURL",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"serviceId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isSold",storageKey:null},{alias:null,args:null,concreteType:"ItemPhoto",kind:"LinkedField",name:"photos",plural:!0,selections:[{alias:null,args:null,concreteType:"ItemPhotoVersion",kind:"LinkedField",name:"versions",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"webPath",storageKey:null},{alias:null,args:null,concreteType:"ImageVersionType",kind:"LinkedField",name:"type",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ItemPricing",kind:"LinkedField",name:"pricing",plural:!1,selections:[{alias:null,args:null,concreteType:"FinancialAmount",kind:"LinkedField",name:"netPrice",plural:!1,selections:i=[l={alias:null,args:null,kind:"ScalarField",name:"amount",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"currency",storageKey:null},r={alias:null,args:null,concreteType:"ConvertedAmountList",kind:"LinkedField",name:"convertedAmountList",plural:!0,selections:[s,l],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"FinancialAmount",kind:"LinkedField",name:"salePrice",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"FinancialAmount",kind:"LinkedField",name:"retailPrice",plural:!1,selections:i,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AuctionLot",kind:"LinkedField",name:"relevantAuctionLot",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},{alias:null,args:null,concreteType:"FinancialAmount",kind:"LinkedField",name:"buyItNowPrice",plural:!1,selections:[r],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AuctionSolution",kind:"LinkedField",name:"relevantAuctionSolution",plural:!1,selections:[{alias:null,args:null,concreteType:"AuctionBidsConnection",kind:"LinkedField",name:"bids",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"totalResults",storageKey:null}],storageKey:null}],storageKey:null}],type:"Item",abstractKey:null};var l,s,r,i;t.hash="bab947e7c2d42533b7484c064379c6ed";const o=t},10520:(e,a,n)=>{"use strict";n.r(a),n.d(a,{default:()=>l});const t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CartNav_user",selections:[{alias:null,args:null,concreteType:"UserPreferences",kind:"LinkedField",name:"preferences",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"currency",storageKey:null}],storageKey:null}],type:"User",abstractKey:null,hash:"07d71cd5390cadb4431b06d42a73f5b4"},l=t},18377:(e,a,n)=>{"use strict";n.r(a),n.d(a,{default:()=>u});const t={argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"fetchLocalItems"},{defaultValue:!1,kind:"LocalArgument",name:"fetchPortfolioItems"},{kind:"RootArgument",name:"hasUserId"},{defaultValue:[],kind:"LocalArgument",name:"localItemIds"},{kind:"RootArgument",name:"userIds"}],kind:"Fragment",metadata:null,name:"CartNav_viewer",selections:[{condition:"fetchLocalItems",kind:"Condition",passingValue:!0,selections:[{alias:null,args:[l={kind:"Literal",name:"first",value:3},{kind:"Variable",name:"itemIds",variableName:"localItemIds"}],concreteType:"ItemsConnection",kind:"LinkedField",name:"items",plural:!1,selections:[{alias:null,args:null,concreteType:"ItemsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Item",kind:"LinkedField",name:"node",plural:!1,selections:d=[{alias:null,args:null,kind:"ScalarField",name:"pdpURL",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"serviceId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isSold",storageKey:null},{alias:null,args:null,concreteType:"ItemPhoto",kind:"LinkedField",name:"photos",plural:!0,selections:[{alias:null,args:null,concreteType:"ItemPhotoVersion",kind:"LinkedField",name:"versions",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"webPath",storageKey:null},{alias:null,args:null,concreteType:"ImageVersionType",kind:"LinkedField",name:"type",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ItemPricing",kind:"LinkedField",name:"pricing",plural:!1,selections:[{alias:null,args:null,concreteType:"FinancialAmount",kind:"LinkedField",name:"netPrice",plural:!1,selections:o=[s={alias:null,args:null,kind:"ScalarField",name:"amount",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"currency",storageKey:null},i={alias:null,args:null,concreteType:"ConvertedAmountList",kind:"LinkedField",name:"convertedAmountList",plural:!0,selections:[r,s],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"FinancialAmount",kind:"LinkedField",name:"salePrice",plural:!1,selections:o,storageKey:null},{alias:null,args:null,concreteType:"FinancialAmount",kind:"LinkedField",name:"retailPrice",plural:!1,selections:o,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AuctionLot",kind:"LinkedField",name:"relevantAuctionLot",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},{alias:null,args:null,concreteType:"FinancialAmount",kind:"LinkedField",name:"buyItNowPrice",plural:!1,selections:[i],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AuctionSolution",kind:"LinkedField",name:"relevantAuctionSolution",plural:!1,selections:[{alias:null,args:null,concreteType:"AuctionBidsConnection",kind:"LinkedField",name:"bids",plural:!1,selections:[c={alias:null,args:null,kind:"ScalarField",name:"totalResults",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},{condition:"hasUserId",kind:"Condition",passingValue:!0,selections:[{alias:null,args:[{kind:"Literal",name:"first",value:1},{kind:"Literal",name:"portfolioTypes",value:["CART"]},{kind:"Variable",name:"userIds",variableName:"userIds"}],concreteType:"PortfoliosConnection",kind:"LinkedField",name:"portfolios",plural:!1,selections:[{alias:null,args:null,concreteType:"PortfoliosEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"PortfolioV2",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:[l],concreteType:"PortfolioItemsConnection",kind:"LinkedField",name:"items",plural:!1,selections:[c,{condition:"fetchPortfolioItems",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"PortfolioItemsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"PortfolioItemV2",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,concreteType:"Item",kind:"LinkedField",name:"item",plural:!1,selections:d,storageKey:null}],storageKey:null}],storageKey:null}]}],storageKey:"items(first:3)"}],storageKey:null}],storageKey:null}],storageKey:null}]}],type:"Viewer",abstractKey:null};var l,s,r,i,o,c,d;t.hash="051fbcb6672daa40dd00a39ea28c5315";const u=t},20681:(e,a,n)=>{"use strict";n.r(a),n.d(a,{default:()=>i});const t={fragment:{argumentDefinitions:l=[{defaultValue:null,kind:"LocalArgument",name:"input"}],kind:"Fragment",metadata:null,name:"addCartItemMutation",selections:[{alias:null,args:s=[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"ModifyPortfolioItemsPayload",kind:"LinkedField",name:"modifyPortfolioItems",plural:!1,selections:[{alias:null,args:null,concreteType:"PortfolioV2",kind:"LinkedField",name:"portfolio",plural:!1,selections:[r={alias:null,args:null,concreteType:"PortfolioItemsConnection",kind:"LinkedField",name:"items",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"totalResults",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Mutations",abstractKey:null},kind:"Request",operation:{argumentDefinitions:l,kind:"Operation",name:"addCartItemMutation",selections:[{alias:null,args:s,concreteType:"ModifyPortfolioItemsPayload",kind:"LinkedField",name:"modifyPortfolioItems",plural:!1,selections:[{alias:null,args:null,concreteType:"PortfolioV2",kind:"LinkedField",name:"portfolio",plural:!1,selections:[r,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:"ferrum/369.0.0-2022-06-10T11:16:53.381Z/addCartItemMutation",metadata:{},name:"addCartItemMutation",operationKind:"mutation",text:null}};var l,s,r;t.hash="321aa184c3b379ab2a9f986679257e8d";const i=t},75174:(e,a,n)=>{"use strict";n.r(a),n.d(a,{addCartItemMutation:()=>r});var t,l=n(51594);const s=(void 0!==t||(t=n(20681)).hash&&"321aa184c3b379ab2a9f986679257e8d"!==t.hash&&console.error("The definition of 'addCartItemMutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),t);function r({environment:e,itemsIds:a,userId:n,onCompleted:t,onError:r}){return(a=(a||[]).filter(Boolean))&&a.length?(0,l.commitMutation)(e,{mutation:s,variables:{input:{action:"ADD",portfolioType:"CART",itemsIds:a,userId:n}},onCompleted:t,onError:r}):null}},31616:(e,a,n)=>{"use strict";async function t(){const e=await n.e(259).then(n.bind(n,56632)),{default:a}=e;return a}n.r(a),n.d(a,{loadCartNavDropdownContent:()=>t})},39204:(e,a,n)=>{"use strict";n.r(a),n.d(a,{CurrencyProvider:()=>r});var t=n(95313),l=n(28856);n(99);class s extends t.Component{render(){const{currency:e}=this.props;return this.props.render(e)}}const r=(0,l.connect)((({currency:e})=>({currency:e})))(s)},64959:(e,a,n)=>{"use strict";n.r(a),n.d(a,{useCurrency:()=>l});var t=n(28856);function l(){return(0,t.useSelector)((({currency:e})=>e))}},93300:(e,a,n)=>{"use strict";n.r(a),n.d(a,{drawerAnimations:()=>d,default:()=>m});n(99);var t=n(95313),l=n(94184),s=n.n(l),r=n(42260),i=n(93096),o=n.n(i),c=n(92639);const d={SLIDE_IN:"SLIDE_IN",SLIDE_OUT:"SLIDE_OUT",NONE:"NONE"};class u extends t.Component{static getWindowScrollY(){return window.pageYOffset||document.documentElement.scrollTop}constructor(e){super(e),this.windowScrollY=null,this.animationFrameTicking=!1,this.animationFrameRequestId=0,this.state={animation:d.NONE},this.handleScroll=o()(this.handleScroll.bind(this),e.scrollThrottleDuration)}componentDidMount(){this.windowScrollY=u.getWindowScrollY(),window.addEventListener("scroll",this.handleScroll)}componentDidUpdate(e){!e.forceSlideIn&&this.props.forceSlideIn&&this.updateScrollState({animation:d.SLIDE_IN,force:!0})}componentWillUnmount(){window.removeEventListener("scroll",this.handleScroll),window.cancelAnimationFrame(this.animationFrameRequestId)}updateScrollState({animation:e,force:a}){const{onStateChange:n}=this.props,{SLIDE_IN:t,NONE:l}=d;this.state.animation===l&&e===t||(this.state.animation!==e||a)&&(this.setState({animation:e}),n&&n(e===t))}handleScroll(){const e=u.getWindowScrollY(),a=this.windowScrollY;"number"!=typeof a&&!Number.isNan(a)||a<0||e<0||e<42&&a<42||(!this.props.__disableAnimationFrameTicking&&this.animationFrameTicking||(this.animationFrameRequestId=window.requestAnimationFrame((()=>{const n=e>a?d.SLIDE_OUT:d.SLIDE_IN;this.updateScrollState({animation:n}),this.animationFrameTicking=!1,this.windowScrollY=e}))),this.animationFrameTicking=!0)}render(){const{children:e}=this.props,{animation:a}=this.state,n=s()({[r.default.drawer]:!0,[r.default.slideOut]:a===d.SLIDE_OUT,[r.default.slideIn]:a===d.SLIDE_IN});return(0,c.jsx)("div",{className:n,children:e})}}u.defaultProps={scrollThrottleDuration:200};const m=u},46485:(e,a,n)=>{"use strict";n.r(a),n.d(a,{alignConstants:()=>m,sizeConstants:()=>g,default:()=>k});var t=n(95313),l=n(94184),s=n.n(l),r=n(81899),i=n(92639);const o="left",c="right",d="center",u="medium",m={ALIGN_LEFT:o,ALIGN_RIGHT:c,ALIGN_CENTER:d},g={SIZE_SMALL:"small",SIZE_MEDIUM:u,SIZE_LARGE:"large",SIZE_EXTRA_LARGE:"extraLarge"};class p extends t.Component{constructor(e){super(e),this.state={isClient:!1,isVisible:!1},this.dropdown=null,this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.adjustLeftStyle=this.adjustLeftStyle.bind(this)}componentDidMount(){window.addEventListener("orientationchange",this.adjustLeftStyle),this.setState({isClient:!0},(()=>{this.adjustLeftStyle()}))}componentDidUpdate(e){!e.forceOpen&&this.props.forceOpen?this.show():e.forceOpen&&!this.props.forceOpen&&this.hide()}componentWillUnmount(){window.removeEventListener("orientationchange",this.adjustLeftStyle)}adjustLeftStyle(){const{align:e}=this.props;if(this.dropdown&&e){const{width:a}=this.dropdown.getBoundingClientRect();switch(e){case c:return void(this.dropdown.style.right="0");case d:this.dropdown.style.left=`calc(50% - ${a/2}px)`;break;case o:this.dropdown.style.left="0"}const{left:n}=this.dropdown.getBoundingClientRect(),t=document.body.getBoundingClientRect().width;if(n+a>t){const l=n+a-t,s=a/2;this.dropdown.style.left=e===o?-l+"px":`calc(50% - ${s+l}px)`}}}show(){this.setState({isVisible:!0},(()=>{const{onShow:e}=this.props;e&&e()}))}hide(){this.setState({isVisible:!1},(()=>{const{onHide:e}=this.props;e&&e()}))}render(){const{children:e,className:a,dropdownClassName:n,bodyClassName:t,size:l,hasDropdownHeader:o}=this.props,{isClient:c,isVisible:d}=this.state,u=l?r.default[l]:"",m=a||"",g=n||"",p=t||"",f=s()({[r.default.wrapper]:!0,[r.default.isVisible]:d,[m]:!!a}),h=s()({[r.default.dropdown]:!0,[r.default.isVisible]:d,[r.default.hasDropdownHeader]:o,[g]:!!g}),y=s()({[r.default.bodyWrapper]:!0,[r.default.isVisible]:d,[u]:!!l,[p]:!!p});if(!e)return null;const k=e[0],b=e.length>1?e.slice(1):null;return(0,i.jsxs)("div",{className:f,onMouseEnter:this.show,onMouseLeave:this.hide,children:[k,c?(0,i.jsx)("div",{className:h,children:(0,i.jsx)("div",{className:y,ref:e=>{this.dropdown=e},children:b})}):null]})}}var f,h,y;y={align:o,size:u,hasDropdownHeader:!1,forceOpen:!1},(h="defaultProps")in(f=p)?Object.defineProperty(f,h,{value:y,enumerable:!0,configurable:!0,writable:!0}):f[h]=y;const k=p},42866:(e,a,n)=>{"use strict";n.r(a),n.d(a,{default:()=>i});var t=n(95313),l=n(81899),s=n(92639);const r=({children:e,onBlur:a},n)=>(0,s.jsx)("div",{ref:n,onBlur:a,className:l.default.body,children:e}),i=(0,t.forwardRef)(r)},92955:(e,a,n)=>{"use strict";n.r(a),n.d(a,{default:()=>r});n(99);var t=n(41099),l=n(81899),s=n(92639);const r=e=>{const{title:a,link:n,href:r,onClick:i}=e;return(0,s.jsxs)("div",{className:l.default.header,children:[(0,s.jsx)("div",{className:l.default.headerTitle,children:a}),n?(0,s.jsx)(t.Link,{className:l.default.headerLink,onClick:i,href:r,children:n}):null]})}},50391:(e,a,n)=>{"use strict";n.r(a),n.d(a,{default:()=>r});var t=n(25505),l=n(92218),s=n(92639);const r=()=>(0,s.jsx)("div",{className:l.default.dropdownLoadingContent,children:(0,s.jsx)(t.Spinner,{dark:!0})})},67432:(e,a,n)=>{"use strict";n.r(a),n.d(a,{FullWidthDropdown:()=>o});n(99);var t=n(95313),l=n(94184),s=n.n(l),r=n(28983),i=n(92639);class o extends t.Component{constructor(e){super(e),this.state={isVisible:!1},this.dropdown=null,this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.showTimeout=null}show(){this.showTimeout=setTimeout((()=>{this.setState({isVisible:!0},(()=>{const{onShow:e}=this.props;e&&e()}))}),200)}hide(){clearTimeout(this.showTimeout),this.setState({isVisible:!1},(()=>{const{onHide:e}=this.props;e&&e()}))}render(){const{children:e,wrapperClass:a}=this.props;if(!e)return null;const{isVisible:n}=this.state,t=e[0],l=e.length>1&&e[1]?e.slice(1):null,o=s()(r.default.wrapper,a),c=s()(r.default.dropdown,{[r.default.isVisible]:n}),d=s()(r.default.bodyWrapper,{[r.default.isVisible]:n});return(0,i.jsxs)("div",{className:o,onMouseEnter:this.show,onMouseLeave:this.hide,children:[t,l?(0,i.jsx)("div",{className:c,children:(0,i.jsx)("div",{className:d,children:l})}):null]})}}},40862:(e,a,n)=>{"use strict";n.r(a),n.d(a,{default:()=>i});const t={fragment:{argumentDefinitions:l=[{defaultValue:null,kind:"LocalArgument",name:"input"}],kind:"Fragment",metadata:null,name:"itemEventsShownMutation",selections:[{alias:null,args:s=[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"ItemEventsShownPayload",kind:"LinkedField",name:"itemEventsShown",plural:!1,selections:[{alias:null,args:null,concreteType:"FavoriteNotifications",kind:"LinkedField",name:"favoriteNotifications",plural:!1,selections:[r={alias:null,args:null,kind:"ScalarField",name:"hasNewEvents",storageKey:null}],storageKey:null}],storageKey:null}],type:"Mutations",abstractKey:null},kind:"Request",operation:{argumentDefinitions:l,kind:"Operation",name:"itemEventsShownMutation",selections:[{alias:null,args:s,concreteType:"ItemEventsShownPayload",kind:"LinkedField",name:"itemEventsShown",plural:!1,selections:[{alias:null,args:null,concreteType:"FavoriteNotifications",kind:"LinkedField",name:"favoriteNotifications",plural:!1,selections:[r,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:"ferrum/369.0.0-2022-06-10T11:16:53.381Z/itemEventsShownMutation",metadata:{},name:"itemEventsShownMutation",operationKind:"mutation",text:null}};var l,s,r;t.hash="1282ef6d92da32b74264cdd1393e3f71";const i=t},87969:(e,a,n)=>{"use strict";n.r(a),n.d(a,{MAX_TILES:()=>t,MAX_TILE_ITEMS:()=>l,ITEM_EVENTS_SHOWN_PERIODE_MS:()=>s,VIEW_ALL:()=>r,ITEM_EVENT:()=>i,FAVORITES:()=>o,FOLLOWING:()=>c,FOLLOWING_TYPE_SEARCH:()=>d,EMPTY:()=>u,ON_SALE:()=>m,OFFER_MADE:()=>g,ITEM_SOLD:()=>p});const t=20,l=3,s=2592e6,r="View All",i="itemEvent",o="recentlySavedItems",c="following",d="SEARCH",u="empty",m="ON_SALE",g="OFFER_MADE",p="ITEM_SOLD"},7756:(e,a,n)=>{"use strict";n.r(a),n.d(a,{itemEventsShownMutation:()=>r});var t,l=n(51594);const s=(void 0!==t||(t=n(40862)).hash&&"1282ef6d92da32b74264cdd1393e3f71"!==t.hash&&console.error("The definition of 'itemEventsShownMutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),t);function r({environment:e,userId:a}){return(0,l.commitMutation)(e,{mutation:s,variables:{input:{userId:a}}})}},26865:(e,a,n)=>{"use strict";n.r(a),n.d(a,{default:()=>M});var t,l,s=n(95313),r=n(2408),i=(n(99),n(51594)),o=n(28856),c=n(94184),d=n.n(c),u=n(48719),m=n(64246),g=n(29208),p=n.n(g),f=n(93096),h=n.n(f),y=n(80969),k=n(58785),b=n(5960),v=n(93300),S=n(62061),L=n(53501),C=n(11390),T=n(88340),F=n(6259),I=n(86754),E=n(62368),w=n(88737),_=n(23211),N=n(96528),O=n(32681),A=n(3733),R=n(92639);function K(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),n.push.apply(n,t)}return n}function P(e){for(var a=1;a<arguments.length;a++){var n=null!=arguments[a]?arguments[a]:{};a%2?K(Object(n),!0).forEach((function(a){D(e,a,n[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))}))}return e}function D(e,a,n){return a in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}class j extends s.Component{constructor(e){super(e),this.state={isClient:!1,hasError:!1,forceSlideIn:!1,isBannerClosedManually:!1,isBannerOnScreen:!1,hasMessageBanner:!1,fragmentVariables:{hasUserId:!1,hasTradeUserId:!1,userId:"",userIds:[],fetchRegionalInfo:!1,zipCode:""},hasSentLoginMutation:!1},this.handleTopBarMouseOver=this.handleTopBarMouseOver.bind(this),this.handleTopBarMouseOut=this.handleTopBarMouseOut.bind(this),this.getHeaderParams=this.getHeaderParams.bind(this),this.setupCurrencyInfo=this.setupCurrencyInfo.bind(this),this.handleScroll=h()(this.handleScroll.bind(this),10)}componentDidMount(){this.refetchViewer();const{showMarketingMessages:e,disableStickyNav:a}=this.props,n=(0,_.isMessageBannerClosedManually)(),t=e&&!a&&!n;this.setState({isBannerClosedManually:n,isBannerOnScreen:t,hasMessageBanner:t}),t&&window.addEventListener("scroll",this.handleScroll)}async componentDidUpdate(e){const{hasSentLoginMutation:a}=this.state,{viewer:n,updateUserState:t,relay:{environment:l}}=this.props,{user:s,emailLinkLoginFF:r}=n||{},{user:i}=e.viewer||{},o=(0,O.getEmailLoginToken)();t&&!e.updateUserState&&this.refetchViewer(),null!=s&&s.isVerifiedTrade&&!i&&this.props.updateUserTypeTrade(),null!=s&&s.isVip&&!i&&this.props.updateUserTypeVip();const c=(0,u.getBuyerId)(document.cookie)||"";if(r&&!a&&!c&&!!o){this.setState({hasSentLoginMutation:!0});const e=()=>{this.refetchViewer()};(0,N.loginUserWithEmailLoginToken)(l,o,e)}}componentDidCatch(e){if(window.newrelic){const a=new Error;a.message=`dibs-buyer-layout header error boundary triggered: ${e.message}`,a.stack=e.stack,window.newrelic.noticeError(a)}this.setState({hasError:!0}),this.clearScrollListener()}componentWillUnmount(){this.clearScrollListener()}clearScrollListener(){window.removeEventListener("scroll",this.handleScroll)}handleScroll(){const{isBannerOnScreen:e}=this.state;v.default.getWindowScrollY()<42?e||this.setState({isBannerOnScreen:!0}):e&&this.setState({isBannerOnScreen:!1})}getHeaderParams({forceDisableStickyNav:e}){const{disableStickyNav:a,showMarketingMessages:n,hideBottomBar:t}=this.props,{isClient:l,isBannerClosedManually:s,isBannerOnScreen:r}=this.state,i=a||e,o=l&&n&&!s;return{disableSticky:i,hasBanner:o,isBannerOutOfScreen:o&&!i&&!r,hideBottomBar:t}}getClassnames({forceDisableStickyNav:e,hasTopBarOnly:a}){const{isBannerOutOfScreen:n,hasBanner:t,disableSticky:l,hideBottomBar:s}=this.getHeaderParams({forceDisableStickyNav:e});return{wrapperClasses:d()({[A.default.wrapper]:!0}),headerClasses:d()({[A.default.header]:!0,[A.default.hasBanner]:t,[A.default.isBannerOutOfScreen]:n,[A.default.disableSticky]:l,[A.default.hasTopBarOnly]:a}),shadowClasses:d()({[A.default.shadow]:!0,[A.default.disableSticky]:l,[A.default.hasTopBarOnly]:a,[A.default.isBannerOutOfScreen]:n,[A.default.hideBottomBar]:s}),bottomWrapperClasses:d()({[A.default.bottomWrapper]:!0,[A.default.disableSticky]:l})}}refetchViewer(){const{isUserTypeTrade:e}=this.props,a=(0,u.getBuyerId)(document.cookie)||"",n=(0,u.getUserType)(document.cookie)||"",t=!!a,l=!t&&!(0,E.getSessionCurrency)()||!(0,C.hasValidUserSessionGeoInfo)(),s=n===I.TRADE||e,r=t&&s;this.props.setIsEmailOnly((0,m.isEmailOnly)(document.cookie));const i=(0,T.getLocalHistoryItemIds)({isClient:!0}),o=P(P({},this.state.fragmentVariables),{},{hasUserId:t,hasTradeUserId:r,userId:a,userIds:[a],isClient:!0,fetchRegionalInfo:l,userCountryCode:(0,C.getUserSessionCountryCode)(),zipCode:(0,C.getUserZipCode)(),hasSessionCountryCode:(0,C.hasUserSessionCountryCode)(),localRecentHistoryItemIds:i,fetchUserRecentHistoryItem:i.length<F.MAX_CAROUSEL_RECENTLY_VIEWED_ITEMS});this.setState({isClient:!0,fragmentVariables:o},(()=>{this.props.relay.refetch(this.state.fragmentVariables,null,this.setupCurrencyInfo)}))}setupCurrencyInfo(){const{viewer:e}=this.props,a=p()(e,"user"),n=p()(a,"preferences.currency"),t=p()(e,"regionalInfo[0].currency");a||(0,E.getSessionCurrency)()?n&&(0,E.setLocalCurrency)(n):(0,E.setSessionCurrency)(t),this.props.populateCurrency((0,E.getCurrencyPreference)({user:a,regionalCurrency:t}))}handleTopBarMouseOver(){this.state.forceSlide||this.setState({forceSlideIn:!0})}handleTopBarMouseOut(){this.state.forceSlide&&this.setState({forceSlideIn:!1})}render(){const{disableStickyNav:e,viewer:a,hideHeader:n,showMarketingMessages:t,setDrawerState:l,relay:i,messageBannerRenderer:o,initialTrackingFired:c,setInitialTrackingFired:d,isDrawerOpen:u,hideBottomBar:m}=this.props,g=p()(a,"user")||null,f=p()(a,"regionalInfo[0]")||null,{isClient:h,fragmentVariables:S,forceSlideIn:C,hasError:T,hasMessageBanner:F}=this.state,{hasUserId:I,userId:E,fetchRegionalInfo:_,hasTradeUserId:N}=S,O=T,K=!!g,D=!K&&I||_&&!p()(a,"regionalInfo"),j=e||O?"div":v.default,M=e||O?{}:{onStateChange:l,forceSlideIn:C},{wrapperClasses:V,headerClasses:x,shadowClasses:H,bottomWrapperClasses:U}=this.getClassnames({forceDisableStickyNav:O,hasTopBarOnly:T}),{isBannerOutOfScreen:B}=this.getHeaderParams({forceDisableStickyNav:O}),W=(!F||B)&&!u||m;return T?(0,R.jsxs)("header",{className:V,hidden:n,children:[(0,R.jsx)("div",{className:x,children:(0,R.jsx)(k.TopBar,{hasError:!0,disableStickyNav:!0,hasRootPendingRefetch:D,hasUser:K,hasUserId:I,viewer:a,isClient:h,userId:E,user:g,isSticky:W})}),(0,R.jsx)("div",{className:H})]}):(0,R.jsxs)("header",{className:V,hidden:n,children:[(0,R.jsx)(y.Button,{className:A.default.skipToContent,type:"secondaryAlt",href:"#mainContent",onClick:()=>{if("undefined"!=typeof document){const e=document.getElementById("mainContent"),a=document.getElementById("js-header").offsetHeight+"px";e.style.cssText=`margin-top: -${a}; padding-top: ${a};`}},children:(0,R.jsx)(r.FormattedMessage,{id:"dbl.Header.SkipToContent",defaultMessage:"Skip to main content"})}),(0,R.jsxs)("div",{className:x,children:[t&&o&&o({hasRootPendingRefetch:D,relayEnvironment:i.environment,userId:E,hasUserId:I,isClient:h,onBannerClose:()=>{this.setState({isBannerClosedManually:!0}),this.clearScrollListener()},hasTradeUserId:N}),(0,R.jsx)(k.TopBar,{disableStickyNav:e,hasRootPendingRefetch:D,hasUser:K,hasUserId:I,viewer:a,isClient:h,userId:E,user:g,regionalInfo:f,onMouseOver:this.handleTopBarMouseOver,onMouseOut:this.handleTopBarMouseOut,isSticky:W,hasTradeUserId:N}),m?null:(0,R.jsxs)(j,P(P({className:U},M),{},{children:[(0,R.jsx)(b.default,{viewer:a}),(0,R.jsx)("div",{id:"nav-bottom-marker"})]})),a.relayIsClient&&(0,R.jsx)(s.Suspense,{fallback:"",children:(0,R.jsx)(L.UserTrackingInit,{viewer:a,user:g,environment:i.environment,initialTrackingFired:c,setInitialTrackingFired:d})})]}),(0,R.jsx)("div",{className:H}),(0,R.jsx)(w.PriceIntlHandler,{})]})}}const M=j=(0,i.createRefetchContainer)((0,o.connect)((({header:e,drawer:a})=>({isMobile:e.isMobile,disableStickyNav:e.disableStickyNav,hideBottomBar:e.hideBottomBar,hideHeader:e.hideHeader,updateUserState:e.updateUserState,initialTrackingFired:e.initialTrackingFired,isUserTypeTrade:e.isUserTypeTrade,showMarketingMessages:e.showMarketingMessages,isDrawerOpen:a.isDrawerOpen})),(e=>({updateUserTypeTrade:()=>{e(S.actionCreators.setUserTypeTrade(!0))},updateUserTypeVip:()=>{e(S.actionCreators.setUserTypeVip(!0))},setIsEmailOnly:a=>{e(S.actionCreators.setIsEmailOnly(a))},setInitialTrackingFired:()=>{e(S.actionCreators.setInitialTrackingFired())},populateCurrency:a=>e(S.actionCreators.populateCurrency(a)),setDrawerState:a=>{e(S.actionCreators.setDrawerState(a))}})))(j),{viewer:(void 0!==t||(t=n(34747),t.hash&&"e9cad8697dd5ad9bae96a149568b278c"!==t.hash&&console.error("The definition of 'Header_viewer' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data.")),t)},(void 0!==l||(l=n(60349)).hash&&"d86feb811fab222a58fec2b83d8d6a13"!==l.hash&&console.error("The definition of 'HeaderRefetchQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l))},60349:(e,a,n)=>{"use strict";n.r(a),n.d(a,{default:()=>Z});const t={fragment:{argumentDefinitions:[l={defaultValue:null,kind:"LocalArgument",name:"fetchRegionalInfo"},s={defaultValue:!1,kind:"LocalArgument",name:"fetchUserRecentHistoryItem"},r={defaultValue:null,kind:"LocalArgument",name:"hasSessionCountryCode"},i={defaultValue:null,kind:"LocalArgument",name:"hasTradeUserId"},o={defaultValue:null,kind:"LocalArgument",name:"hasUserId"},c={defaultValue:null,kind:"LocalArgument",name:"isClient"},d={defaultValue:[],kind:"LocalArgument",name:"localRecentHistoryItemIds"},u={defaultValue:"",kind:"LocalArgument",name:"previewKey"},m={defaultValue:"",kind:"LocalArgument",name:"userCountryCode"},g={defaultValue:null,kind:"LocalArgument",name:"userId"},p={defaultValue:null,kind:"LocalArgument",name:"userIds"},f={defaultValue:null,kind:"LocalArgument",name:"zipCode"}],kind:"Fragment",metadata:null,name:"HeaderRefetchQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"Header_viewer"}],storageKey:null}],type:"RootQueryType",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[g,p,c,o,i,l,u,f,m,r,d,s],kind:"Operation",name:"HeaderRefetchQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:"emailLinkLoginFF",args:[{kind:"Literal",name:"feature",value:"emailLinkLogin"}],kind:"ScalarField",name:"featureFlag",storageKey:'featureFlag(feature:"emailLinkLogin")'},h={alias:"isAutomatedOfferNotificationDisabled",args:[{kind:"Literal",name:"key",value:"disableAutomatedOfferBellNotification"}],kind:"ScalarField",name:"isEnabled",storageKey:'isEnabled(key:"disableAutomatedOfferBellNotification")'},{alias:null,args:[{kind:"Variable",name:"rootId",variableName:"previewKey"}],concreteType:"Navigation",kind:"LinkedField",name:"navigation",plural:!1,selections:[{alias:null,args:null,concreteType:"NavigationModule",kind:"LinkedField",name:"modules",plural:!0,selections:[y={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"NavigationTopLevel",kind:"LinkedField",name:"items",plural:!0,selections:[y,{alias:null,args:null,kind:"ScalarField",name:"column",storageKey:null},{alias:null,args:null,concreteType:"NavigationItem",kind:"LinkedField",name:"items",plural:!0,selections:[y,b={alias:null,args:null,concreteType:"LinkData",kind:"LinkedField",name:"linkData",plural:!1,selections:k=[{alias:null,args:null,kind:"ScalarField",name:"path",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isLinkable",storageKey:null}],storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},v],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageUrl",storageKey:null},{alias:null,args:null,concreteType:"LinkData",kind:"LinkedField",name:"imageLinkData",plural:!1,selections:k,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageTitlePrimary",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageTitleSecondary",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageHeight",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageWidth",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageLink",storageKey:null},b,S={alias:null,args:null,kind:"ScalarField",name:"serviceId",storageKey:null},v],storageKey:null},v],storageKey:null},v,{condition:"isClient",kind:"Condition",passingValue:!0,selections:[{alias:"relayIsClient",args:null,kind:"ScalarField",name:"__typename",storageKey:null},{if:null,kind:"Defer",label:"Notifications_viewer$defer$ActivityFeed_viewer",selections:[{alias:"promoCodeMessaging",args:[{kind:"Literal",name:"feature",value:"promoCodeMessaging"}],kind:"ScalarField",name:"featureFlag",storageKey:'featureFlag(feature:"promoCodeMessaging")'},h]},{if:null,kind:"Defer",label:"Notifications_initialViewer$defer$Conversations_viewer",selections:[{condition:"hasUserId",kind:"Condition",passingValue:!0,selections:[{alias:null,args:L=[{kind:"Literal",name:"filter",value:"showUnreadOnly"}],concreteType:"ConversationConnection",kind:"LinkedField",name:"conversations",plural:!1,selections:[{alias:null,args:null,concreteType:"ConversationMetadata",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"totalUnreadConversationCount",storageKey:null}],storageKey:null}],storageKey:'conversations(filter:"showUnreadOnly")'}]}]},{if:null,kind:"Defer",label:"Notifications_initialViewer$defer$NotificationsIcon_viewer",selections:[{condition:"hasUserId",kind:"Condition",passingValue:!0,selections:[{alias:null,args:L,concreteType:"ConversationConnection",kind:"LinkedField",name:"conversations",plural:!1,selections:[{alias:null,args:null,concreteType:"ConversationMetadata",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"lastUnreadMessageDate",storageKey:null}],storageKey:null}],storageKey:'conversations(filter:"showUnreadOnly")'}]},h]},{if:null,kind:"Defer",label:"Header_viewer$defer$userTracking_viewer",selections:[{condition:"hasUserId",kind:"Condition",passingValue:!0,selections:[{alias:null,args:[{kind:"Variable",name:"buyerId",variableName:"userId"}],concreteType:"TransactionsCounter",kind:"LinkedField",name:"transactionsCounter",plural:!1,selections:[{alias:"submittedTransactions",args:null,kind:"ScalarField",name:"submitted",storageKey:null},{alias:"confirmedTransactions",args:null,kind:"ScalarField",name:"confirmed",storageKey:null}],storageKey:null}]}]}]},{condition:"hasUserId",kind:"Condition",passingValue:!0,selections:[{alias:null,args:[{kind:"Literal",name:"first",value:1},{kind:"Literal",name:"portfolioTypes",value:["CART"]},{kind:"Variable",name:"userIds",variableName:"userIds"}],concreteType:"PortfoliosConnection",kind:"LinkedField",name:"portfolios",plural:!1,selections:[{alias:null,args:null,concreteType:"PortfoliosEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"PortfolioV2",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:[C={kind:"Literal",name:"first",value:3}],concreteType:"PortfolioItemsConnection",kind:"LinkedField",name:"items",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"totalResults",storageKey:null}],storageKey:"items(first:3)"},v],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:[T={kind:"Variable",name:"userId",variableName:"userId"}],concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[v,F={alias:null,args:null,kind:"ScalarField",name:"isVip",storageKey:null},I={alias:null,args:null,kind:"ScalarField",name:"isVerifiedTrade",storageKey:null},w={alias:null,args:null,concreteType:"UserPreferences",kind:"LinkedField",name:"preferences",plural:!1,selections:[E={alias:null,args:null,kind:"ScalarField",name:"currency",storageKey:null}],storageKey:null},{if:null,kind:"Defer",label:"SearchBar_viewer$defer$getRecentHistory_user",selections:[{condition:"fetchUserRecentHistoryItem",kind:"Condition",passingValue:!0,selections:[{alias:null,args:_=[{kind:"Variable",name:"excludeItemPks",variableName:"localRecentHistoryItemIds"},{kind:"Literal",name:"first",value:12}],concreteType:"RecentHistoryItemsConnection",kind:"LinkedField",name:"recentHistoryItems",plural:!1,selections:[{alias:null,args:null,concreteType:"RecentHistoryItemsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Item",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"contemporaryTrackingString",storageKey:null},{alias:null,args:[{kind:"Literal",name:"size",value:"small"}],kind:"ScalarField",name:"firstPhotoWebPath",storageKey:'firstPhotoWebPath(size:"small")'},{alias:null,args:null,kind:"ScalarField",name:"pdpURL",storageKey:null},N={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"browseUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"categoryCode",storageKey:null},S,{alias:null,args:null,kind:"ScalarField",name:"categoryPath",storageKey:null},{alias:null,args:null,concreteType:"Seller",kind:"LinkedField",name:"seller",plural:!1,selections:O=[S,v],storageKey:null},v,A={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:_,filters:["excludeItemPks"],handle:"connection",key:"getRecentHistory_recentHistoryItems",kind:"LinkedHandle",name:"recentHistoryItems"}]}]},{if:null,kind:"Defer",label:"Header_viewer$defer$userTracking_user",selections:[{alias:null,args:null,kind:"ScalarField",name:"createdDate",storageKey:null},F,I,{alias:null,args:null,kind:"ScalarField",name:"verifiedTradeStatus",storageKey:null},{alias:null,args:null,concreteType:"UserExistsMetadataType",kind:"LinkedField",name:"authMetadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"emailOnly",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasPassword",storageKey:null},v],storageKey:null},{alias:null,args:null,concreteType:"Profile",kind:"LinkedField",name:"profile",plural:!1,selections:[R={alias:null,args:null,kind:"ScalarField",name:"email",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"zipCode",storageKey:null}],storageKey:null},w,S,{alias:null,args:null,kind:"ScalarField",name:"totalMessagesToDealers",storageKey:null},{alias:null,args:null,concreteType:"TradeFirmType",kind:"LinkedField",name:"tradeFirm",plural:!1,selections:[S,K={alias:null,args:null,kind:"ScalarField",name:"profileStatus",storageKey:null},D={alias:null,args:null,concreteType:"TradeFirmRewards",kind:"LinkedField",name:"rewards",plural:!1,selections:[{alias:null,args:null,concreteType:"ParentProgram",kind:"LinkedField",name:"currentProgram",plural:!1,selections:[{alias:null,args:null,concreteType:"LoyaltyProgram",kind:"LinkedField",name:"programInfo",plural:!1,selections:[P={alias:null,args:null,kind:"ScalarField",name:"code",storageKey:null},v],storageKey:null}],storageKey:null}],storageKey:null},v],storageKey:null},{alias:null,args:null,concreteType:"mentionMeTagParameters",kind:"LinkedField",name:"mentionMeTagParameters",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ciphertext",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nonce",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Promotion",kind:"LinkedField",name:"activePromotion",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"campaignName",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"buyerDisplayable",storageKey:null},v],storageKey:null}]},{condition:"isClient",kind:"Condition",passingValue:!0,selections:[M={alias:null,args:null,concreteType:"UserPreferences",kind:"LinkedField",name:"preferences",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"shareActivities",storageKey:null}],storageKey:null},{condition:"hasTradeUserId",kind:"Condition",passingValue:!1,selections:[{if:null,kind:"Defer",label:"AccountNav_user$defer$AccountNavContent_user",selections:[{alias:null,args:null,concreteType:"Profile",kind:"LinkedField",name:"profile",plural:!1,selections:[R],storageKey:null},V={alias:null,args:null,concreteType:"Summary",kind:"LinkedField",name:"conversationSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"unread",storageKey:null}],storageKey:null}]}]},{if:null,kind:"Defer",label:"AccountNav_user$defer$AccountNavTrigger_user",selections:[{alias:null,args:null,concreteType:"Profile",kind:"LinkedField",name:"profile",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"firstName",storageKey:null}],storageKey:null},I,{condition:"hasTradeUserId",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"TradeFirmRewards",kind:"LinkedField",name:"tradeFirmRewards",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"currentYearPoints",storageKey:null},{alias:null,args:null,concreteType:"ParentProgram",kind:"LinkedField",name:"currentProgram",plural:!1,selections:[{alias:null,args:null,concreteType:"LoyaltyProgram",kind:"LinkedField",name:"programInfo",plural:!1,selections:[x={alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},v],storageKey:null}],storageKey:null}],storageKey:null}]}]},{condition:"hasTradeUserId",kind:"Condition",passingValue:!0,selections:[{if:null,kind:"Defer",label:"AccountNav_user$defer$TradeAccountNavContent_user",selections:[S,I,V,{alias:null,args:null,concreteType:"TradeFirmType",kind:"LinkedField",name:"tradeFirm",plural:!1,selections:[S,K,D,{alias:null,args:null,concreteType:"TradeFirmPublicProfileType",kind:"LinkedField",name:"publicProfile",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"urlLabel",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"TradeFirmMemberType",kind:"LinkedField",name:"members",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"userId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"publicProfileManager",storageKey:null},v],storageKey:null},v],storageKey:null}]}]},{condition:"isClient",kind:"Condition",passingValue:!0,selections:[{if:null,kind:"Defer",label:"Notifications_user$defer$ShareActivityAlert_user",selections:[S,M]},{if:null,kind:"Defer",label:"Notifications_user$defer$ActivityFeed_user",selections:[{alias:null,args:null,concreteType:"Promotion",kind:"LinkedField",name:"activePromotion",plural:!1,selections:[j,{alias:null,args:null,concreteType:"PromotionMeta",kind:"LinkedField",name:"promotionMeta",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayMessage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayCta",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"adjustmentRateList",plural:!0,selections:[A,{alias:null,args:null,kind:"ScalarField",name:"reference",storageKey:null},H={kind:"InlineFragment",selections:[v],type:"Node",abstractKey:"__isNode"}],storageKey:null},P,{alias:null,args:null,concreteType:"FlatAdjustmentRate",kind:"LinkedField",name:"flatAdjustmentRate",plural:!1,selections:[{alias:null,args:null,concreteType:"FinancialAmount",kind:"LinkedField",name:"rate",plural:!1,selections:B=[E,U={alias:null,args:null,kind:"ScalarField",name:"amount",storageKey:null}],storageKey:null},v],storageKey:null},{alias:null,args:null,concreteType:"PercentAdjustmentRate",kind:"LinkedField",name:"percentAdjustmentRate",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"rate",storageKey:null},v],storageKey:null},v],storageKey:null},{alias:null,args:W=[{kind:"Literal",name:"elementTypes",value:["PENDING_FEEDBACK","TRADE_REWARD","TRADE_REWARD_PRORATED","TRADE_REWARD_PROGRAM","AUTOMATED_OFFER"]},C],concreteType:"ActivityFeedConnection",kind:"LinkedField",name:"activityFeed",plural:!1,selections:[{alias:null,args:null,concreteType:"ActivityFeedEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ActivityFeedElement",kind:"LinkedField",name:"node",plural:!1,selections:[$={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},z={alias:null,args:null,kind:"ScalarField",name:"eventDate",storageKey:null},S,{alias:null,args:null,kind:"ScalarField",name:"apiType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},{alias:null,args:null,concreteType:"Anchor",kind:"LinkedField",name:"anchors",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"sourceType",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"source",plural:!1,selections:[A,{kind:"InlineFragment",selections:[S,{alias:null,args:null,concreteType:"FinancialAmount",kind:"LinkedField",name:"rewardEarned",plural:!1,selections:B,storageKey:null}],type:"TradeFirmReward",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"LoyaltyProgram",kind:"LinkedField",name:"programInfo",plural:!1,selections:[x,P,v],storageKey:null}],type:"ParentProgram",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"token",storageKey:null},{alias:null,args:null,concreteType:"Transaction",kind:"LinkedField",name:"transaction",plural:!1,selections:[{alias:null,args:null,concreteType:"Item",kind:"LinkedField",name:"item",plural:!1,selections:[N,G={alias:"thumbnail",args:[{kind:"Literal",name:"size",value:"thumb"}],kind:"ScalarField",name:"firstPhotoWebPath",storageKey:'firstPhotoWebPath(size:"thumb")'},v],storageKey:null},v],storageKey:null}],type:"OrderFeedback",abstractKey:null},{kind:"InlineFragment",selections:[S,{alias:null,args:null,concreteType:"TransactionSummaryObject",kind:"LinkedField",name:"summary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"offerDiscountPercentage",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Item",kind:"LinkedField",name:"item",plural:!1,selections:[N,G,{alias:null,args:null,concreteType:"ItemPricing",kind:"LinkedField",name:"pricing",plural:!1,selections:[{alias:null,args:null,concreteType:"FinancialAmount",kind:"LinkedField",name:"retailPrice",plural:!1,selections:[{alias:null,args:null,concreteType:"ConvertedAmountList",kind:"LinkedField",name:"convertedAmountList",plural:!0,selections:[U,E],storageKey:null}],storageKey:null}],storageKey:null},v],storageKey:null},{alias:null,args:null,concreteType:"Offer",kind:"LinkedField",name:"mostRecentOffer",plural:!1,selections:[{alias:null,args:null,concreteType:"FinancialAmount",kind:"LinkedField",name:"amountPerItem",plural:!1,selections:[{alias:null,args:null,concreteType:"ConvertedAmountList",kind:"LinkedField",name:"convertedAmountList",plural:!0,selections:B,storageKey:null}],storageKey:null},v],storageKey:null},{alias:null,args:null,concreteType:"Conversation",kind:"LinkedField",name:"conversation",plural:!1,selections:O,storageKey:null}],type:"Transaction",abstractKey:null},H],storageKey:null}],storageKey:null},v],storageKey:null}],storageKey:null}],storageKey:'activityFeed(elementTypes:["PENDING_FEEDBACK","TRADE_REWARD","TRADE_REWARD_PRORATED","TRADE_REWARD_PROGRAM","AUTOMATED_OFFER"],first:3)'}]},{if:null,kind:"Defer",label:"Notifications_user$defer$NotificationsIcon_user",selections:[{alias:null,args:null,concreteType:"Promotion",kind:"LinkedField",name:"activePromotion",plural:!1,selections:O,storageKey:null},{alias:null,args:W,concreteType:"ActivityFeedConnection",kind:"LinkedField",name:"activityFeed",plural:!1,selections:[{alias:null,args:null,concreteType:"ActivityFeedEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ActivityFeedElement",kind:"LinkedField",name:"node",plural:!1,selections:[$,z,v],storageKey:null}],storageKey:null}],storageKey:'activityFeed(elementTypes:["PENDING_FEEDBACK","TRADE_REWARD","TRADE_REWARD_PRORATED","TRADE_REWARD_PROGRAM","AUTOMATED_OFFER"],first:3)'}]}]}]}],storageKey:null}]},{condition:"hasSessionCountryCode",kind:"Condition",passingValue:!1,selections:[{alias:"regInfo",args:null,concreteType:"RegionalInfo",kind:"LinkedField",name:"regionalInfo",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"countryCode",storageKey:null},v],storageKey:null}]},{condition:"fetchRegionalInfo",kind:"Condition",passingValue:!0,selections:[{alias:null,args:[{kind:"Variable",name:"countryCode",variableName:"userCountryCode"},T,Y={kind:"Variable",name:"zipCode",variableName:"zipCode"}],concreteType:"RegionalInfo",kind:"LinkedField",name:"regionalInfo",plural:!0,selections:[{alias:null,args:[Y],concreteType:"IncomeLevel",kind:"LinkedField",name:"incomeLevel",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"incomeBracket",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"incomePercentile",storageKey:null}],storageKey:null},E,v],storageKey:null}]}],storageKey:null}]},params:{id:"ferrum/369.0.0-2022-06-10T11:16:53.381Z/HeaderRefetchQuery",metadata:{},name:"HeaderRefetchQuery",operationKind:"query",text:null}};var l,s,r,i,o,c,d,u,m,g,p,f,h,y,k,b,v,S,L,C,T,F,I,E,w,_,N,O,A,R,K,P,D,j,M,V,x,H,U,B,W,$,z,G,Y;t.hash="d86feb811fab222a58fec2b83d8d6a13";const Z=t},34747:(e,a,n)=>{"use strict";n.r(a),n.d(a,{default:()=>i});const t={argumentDefinitions:[{kind:"RootArgument",name:"fetchRegionalInfo"},{kind:"RootArgument",name:"hasSessionCountryCode"},{kind:"RootArgument",name:"hasUserId"},{kind:"RootArgument",name:"isClient"},{kind:"RootArgument",name:"userCountryCode"},{kind:"RootArgument",name:"userId"},{kind:"RootArgument",name:"zipCode"}],kind:"Fragment",metadata:null,name:"Header_viewer",selections:[{condition:"isClient",kind:"Condition",passingValue:!0,selections:[{alias:"relayIsClient",args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"Defer",selections:[{args:null,kind:"FragmentSpread",name:"userTracking_viewer"}]}]},{alias:"emailLinkLoginFF",args:[{kind:"Literal",name:"feature",value:"emailLinkLogin"}],kind:"ScalarField",name:"featureFlag",storageKey:'featureFlag(feature:"emailLinkLogin")'},{args:[{kind:"Variable",name:"hasSessionCountryCode",variableName:"hasSessionCountryCode"}],kind:"FragmentSpread",name:"TopBar_viewer"},{args:null,kind:"FragmentSpread",name:"BottomBar_viewer"},{condition:"hasUserId",kind:"Condition",passingValue:!0,selections:[{alias:null,args:[l={kind:"Variable",name:"userId",variableName:"userId"}],concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[{kind:"Defer",selections:[{args:null,kind:"FragmentSpread",name:"userTracking_user"}]},{args:null,kind:"FragmentSpread",name:"TopBar_user"},{alias:null,args:null,kind:"ScalarField",name:"isVip",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isVerifiedTrade",storageKey:null},{alias:null,args:null,concreteType:"UserPreferences",kind:"LinkedField",name:"preferences",plural:!1,selections:[s={alias:null,args:null,kind:"ScalarField",name:"currency",storageKey:null}],storageKey:null}],storageKey:null}]},{condition:"fetchRegionalInfo",kind:"Condition",passingValue:!0,selections:[{alias:null,args:[{kind:"Variable",name:"countryCode",variableName:"userCountryCode"},l,r={kind:"Variable",name:"zipCode",variableName:"zipCode"}],concreteType:"RegionalInfo",kind:"LinkedField",name:"regionalInfo",plural:!0,selections:[{alias:null,args:[r],concreteType:"IncomeLevel",kind:"LinkedField",name:"incomeLevel",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"incomeBracket",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"incomePercentile",storageKey:null}],storageKey:null},s],storageKey:null}]}],type:"Viewer",abstractKey:null};var l,s,r;t.hash="e9cad8697dd5ad9bae96a149568b278c";const i=t},62458:(e,a,n)=>{"use strict";n.r(a),n.d(a,{default:()=>d});var t=n(28856),l=(n(99),n(71938)),s=n(26865),r=n(92639);function i(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),n.push.apply(n,t)}return n}function o(e){for(var a=1;a<arguments.length;a++){var n=null!=arguments[a]?arguments[a]:{};a%2?i(Object(n),!0).forEach((function(a){c(e,a,n[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))}))}return e}function c(e,a,n){return a in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}const d=(0,t.connect)((({header:e})=>({relayVariables:e.relayVariables||{}})))((function(e){const{environment:a,initialVariables:n,query:t,relayVariables:i,messageBannerRenderer:c}=e,d=o(o({},n),i);return(0,r.jsx)(l.PrepareRelayContextProvider,{environment:a,query:t,variables:d,render:({props:e})=>(0,r.jsx)(s.default,o(o(o({},e),d),{},{messageBannerRenderer:c}))})}))},84385:(e,a,n)=>{"use strict";n.r(a),n.d(a,{LikesLinkComponent:()=>C,default:()=>T});var t,l,s=n(95313),r=n(51594),i=n(28856),o=n(94184),c=n.n(o),d=n(46485),u=n(50391),m=n(14375),g=n(87969),p=n(7756),f=n(56334),h=n(92639);function y(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),n.push.apply(n,t)}return n}function k(e){for(var a=1;a<arguments.length;a++){var n=null!=arguments[a]?arguments[a]:{};a%2?y(Object(n),!0).forEach((function(a){b(e,a,n[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))}))}return e}function b(e,a,n){return a in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}const v=(0,s.lazy)((()=>n.e(344).then(n.bind(n,47651)))),S=(0,s.lazy)((()=>n.e(341).then(n.bind(n,66112)))),L=e=>{var a;return!!(null!=(a=e)&&null!=(a=a.favoriteNotifications)?a.hasNewEvents:a)},C=({fetchNewEvents:e,favoritesUrl:a="/favorites/items/",hasRootPendingRefetch:n,hasUserId:t,isClient:l,userId:r,viewer:o,relay:y})=>{var b;const[C,T]=(0,s.useState)({eventsLimit:g.MAX_TILES,fetchNotifications:!1,createdAfter:new Date((new Date).getTime()-g.ITEM_EVENTS_SHOWN_PERIODE_MS).toJSON(),notificationItemsLimit:g.MAX_TILE_ITEMS,fetchNewEvents:e,userId:r}),[F,I]=(0,s.useState)(!1),E=(0,s.useRef)(!1),{refetch:w,environment:_}=y;(0,s.useEffect)((()=>{e&&!E.current&&(E.current=!0,w(k(k({},C),{fetchNewEvents:e,userId:r})),T(k(k({},C),{userId:r})))}),[e,r,w,C]);const N=(null!=(b=o)?b.favoriteNotificationsTiles:b)||null,O=(0,i.useSelector)((({header:e})=>e.isVipCuratedFolderTooltipVisible));return l?(0,h.jsxs)("div",{className:f.default.likesWrapper,children:[(0,h.jsxs)(d.default,{align:d.alignConstants.ALIGN_RIGHT,onShow:()=>{I(!0)},hasDropdownHeader:!0,className:c()({[f.default.noHover]:O}),bodyClassName:f.default.dropdownBodyWrapper,dropdownClassName:f.default.dropdown,children:[(0,h.jsx)(m.default,{hasUnread:L(o),favoritesUrl:a,onMouseEnter:()=>{if(t&&!n&&!C.fetchNotifications){const e=k(k({},C),{},{fetchNotifications:!0,notificationItemsLimit:g.MAX_TILE_ITEMS});T(e),w(e,null,(()=>{L(o)&&(0,p.itemEventsShownMutation)({environment:_,userId:r})}))}}}),F?(0,h.jsx)(s.Suspense,{fallback:(0,h.jsx)(u.default,{}),children:(0,h.jsx)(v,{hasUserId:t,hasNewEvents:L(o),favoriteNotificationsTiles:N,favoritesUrl:a})}):null]}),O?(0,h.jsx)(s.Suspense,{fallback:"",children:(0,h.jsx)(S,{})}):null]}):(0,h.jsx)(m.default,{favoritesUrl:a})},T=(0,r.createRefetchContainer)(C,{viewer:(void 0!==t||(t=n(69720),t.hash&&"4d40f100c4576e474d59325911ff718f"!==t.hash&&console.error("The definition of 'Likes_viewer' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data.")),t)},(void 0!==l||(l=n(24225)).hash&&"ab2f3c4d7c41daccff0f4fa979704e09"!==l.hash&&console.error("The definition of 'LikesRefetchQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l))},14375:(e,a,n)=>{"use strict";n.r(a),n.d(a,{default:()=>g});var t=n(2408),l=n(76907),s=n(94184),r=n.n(s),i=n(41099),o=n(7029),c=n(38951),d=n(92639);const u={category:"navigation",action:"header navigation click",label:"my favorites|my favorites header icon"},m=(0,t.defineMessages)({label:{id:"dbl.Header.LikesIcon.label",defaultMessage:"Favorites"}}),g=({onMouseEnter:e,favoritesUrl:a,hasUnread:n=!1})=>{const s=(0,t.useIntl)(),g=r()(c.default.icon,{[c.default.hasUnread]:n});return(0,d.jsx)("div",{className:c.default.iconWrapper,onMouseEnter:e,children:(0,d.jsx)(i.Link,{ariaLabel:s.formatMessage(m.label),dataTn:"likes-link",href:a,className:g,onClick:e=>{(0,l.trackEvent)(u,e)},children:(0,d.jsx)(o.default,{})})})}},24225:(e,a,n)=>{"use strict";n.r(a),n.d(a,{default:()=>u});const t={fragment:{argumentDefinitions:l=[{defaultValue:null,kind:"LocalArgument",name:"createdAfter"},{defaultValue:null,kind:"LocalArgument",name:"eventsLimit"},{defaultValue:null,kind:"LocalArgument",name:"fetchNewEvents"},{defaultValue:null,kind:"LocalArgument",name:"fetchNotifications"},{defaultValue:null,kind:"LocalArgument",name:"notificationItemsLimit"},{defaultValue:null,kind:"LocalArgument",name:"userId"}],kind:"Fragment",metadata:null,name:"LikesRefetchQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:[s={kind:"Variable",name:"createdAfter",variableName:"createdAfter"},r={kind:"Variable",name:"eventsLimit",variableName:"eventsLimit"},{kind:"Variable",name:"fetchNewEvents",variableName:"fetchNewEvents"},{kind:"Variable",name:"fetchNotifications",variableName:"fetchNotifications"},i={kind:"Variable",name:"notificationItemsLimit",variableName:"notificationItemsLimit"}],kind:"FragmentSpread",name:"Likes_viewer"}],storageKey:null}],type:"RootQueryType",abstractKey:null},kind:"Request",operation:{argumentDefinitions:l,kind:"Operation",name:"LikesRefetchQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{condition:"fetchNewEvents",kind:"Condition",passingValue:!0,selections:[{alias:null,args:o=[{kind:"Variable",name:"userId",variableName:"userId"}],concreteType:"FavoriteNotifications",kind:"LinkedField",name:"favoriteNotifications",plural:!1,selections:[c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:[s,r],kind:"ScalarField",name:"hasNewEvents",storageKey:null}],storageKey:null}]},{condition:"fetchNotifications",kind:"Condition",passingValue:!0,selections:[{alias:"favoriteNotificationsTiles",args:o,concreteType:"FavoriteNotifications",kind:"LinkedField",name:"favoriteNotifications",plural:!1,selections:[{alias:"tiles",args:[s,i,{kind:"Variable",name:"notificationsLimit",variableName:"eventsLimit"}],concreteType:"FavoriteNotification",kind:"LinkedField",name:"notificationsList",plural:!0,selections:[d={alias:null,args:null,kind:"ScalarField",name:"serviceId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"eventType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"createdDate",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"lastViewedDate",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"followingType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"page",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"totalResults",storageKey:null},{alias:null,args:null,concreteType:"Item",kind:"LinkedField",name:"items",plural:!0,selections:[d,{alias:null,args:null,kind:"ScalarField",name:"pdpURL",storageKey:null},{alias:null,args:[{kind:"Literal",name:"size",value:"thumb"}],kind:"ScalarField",name:"firstPhotoWebPath",storageKey:'firstPhotoWebPath(size:"thumb")'},c],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},c],storageKey:null},c],storageKey:null}]},c],storageKey:null}]},params:{id:"ferrum/369.0.0-2022-06-10T11:16:53.381Z/LikesRefetchQuery",metadata:{},name:"LikesRefetchQuery",operationKind:"query",text:null}};var l,s,r,i,o,c,d;t.hash="ab2f3c4d7c41daccff0f4fa979704e09";const u=t},69720:(e,a,n)=>{"use strict";n.r(a),n.d(a,{default:()=>i});const t={argumentDefinitions:[{defaultValue:"",kind:"LocalArgument",name:"createdAfter"},{defaultValue:0,kind:"LocalArgument",name:"eventsLimit"},{defaultValue:!1,kind:"LocalArgument",name:"fetchNewEvents"},{defaultValue:!1,kind:"LocalArgument",name:"fetchNotifications"},{defaultValue:0,kind:"LocalArgument",name:"notificationItemsLimit"},{kind:"RootArgument",name:"userId"}],kind:"Fragment",metadata:null,name:"Likes_viewer",selections:[{condition:"fetchNewEvents",kind:"Condition",passingValue:!0,selections:[{alias:null,args:l=[{kind:"Variable",name:"userId",variableName:"userId"}],concreteType:"FavoriteNotifications",kind:"LinkedField",name:"favoriteNotifications",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:[s={kind:"Variable",name:"createdAfter",variableName:"createdAfter"},r={kind:"Variable",name:"eventsLimit",variableName:"eventsLimit"}],kind:"ScalarField",name:"hasNewEvents",storageKey:null}],storageKey:null}]},{condition:"fetchNotifications",kind:"Condition",passingValue:!0,selections:[{alias:"favoriteNotificationsTiles",args:l,concreteType:"FavoriteNotifications",kind:"LinkedField",name:"favoriteNotifications",plural:!1,selections:[{args:[s,r,{kind:"Variable",name:"notificationItemsLimit",variableName:"notificationItemsLimit"}],kind:"FragmentSpread",name:"FavNotifications_favoriteNotificationsTiles"}],storageKey:null}]}],type:"Viewer",abstractKey:null};var l,s,r;t.hash="4d40f100c4576e474d59325911ff718f";const i=t},78530:(e,a,n)=>{"use strict";n.r(a),n.d(a,{default:()=>l});const t={kind:"InlineDataFragment",name:"expiringPromoMessageHelpers_expiringPromotion",hash:"89addd7466942b1e9d53058e1b0457f3"},l=t},94177:(e,a,n)=>{"use strict";n.r(a),n.d(a,{default:()=>l});const t={kind:"InlineDataFragment",name:"sharedMessageHelpers_activePromotion",hash:"7c8db323227e2cde65105076d6772d27"},l=t},36507:(e,a,n)=>{"use strict";n.r(a),n.d(a,{default:()=>l});const t={kind:"InlineDataFragment",name:"sharedMessageHelpers_expiringPromotion",hash:"925f9835008643739f14499a6546d9b2"},l=t},97675:(e,a,n)=>{"use strict";n.r(a),n.d(a,{default:()=>l});const t={kind:"InlineDataFragment",name:"sharedMessageHelpers_messages",hash:"c7cf202a5022a6975161e073e3b8da36"},l=t},51566:(e,a,n)=>{"use strict";n.r(a),n.d(a,{PROMO_CODE_TRADE_FIRST_WELCOME:()=>s,shouldShowExpiringPromo:()=>i});var t,l=n(51594);const s="TRADE1STWELCOME",r=(void 0!==t||(t=n(78530)).hash&&"89addd7466942b1e9d53058e1b0457f3"!==t.hash&&console.error("The definition of 'expiringPromoMessageHelpers_expiringPromotion' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),t),i=e=>{const a=(0,l.readInlineData)(r,e),{promotionMeta:n}=a,{daysRelativeToExpiration:t}=a,s=Number(t),i=!(null==n||!n.urgencyMessagingDisplay),o=(null==n?void 0:n.urgencyMessagingDaysBeforeExpiration)||0;return i&&s>=0&&s<=o}},23211:(e,a,n)=>{"use strict";n.r(a),n.d(a,{isMessageBannerClosedManually:()=>m,setIsBannerClosedManuallyInStorage:()=>g,messageItemTemplate:()=>p,getMessageTitle:()=>f,getTrackingObj:()=>h,isLowResolution:()=>y,getNoteByDevice:()=>k,hasAnyText:()=>L,hasAnyMessagesByDevice:()=>C,getFallbackMessagesArray:()=>I});var t,l,s,r=n(58260),i=n(2408),o=n(92773),c=n(5129),d=n(51566);const u="bannerClosedManually",m=()=>o.sessionStorage.getItem(u),g=()=>{o.sessionStorage.setItem(u,!0)},p=({desktop:e=null,mobile:a=null})=>({note:{serviceId:"template_id_1",content:e,anchors:[{serviceId:"template_id_2",content:a}]}}),f=e=>{var a,n;return(null==e||null==(a=e.note)||null==(n=a.content)?void 0:n.title)||""},h=({messageItem:e,action:a,label:n})=>({category:"promo interaction",action:a,label:n||f(e)}),y="undefined"!=typeof window&&window.innerWidth<568,k=e=>{var a,n;return y?null==e||null==(a=e.note)||null==(n=a.anchors)?void 0:n[0]:null==e?void 0:e.note},b=(void 0!==t||(t=n(97675)).hash&&"c7cf202a5022a6975161e073e3b8da36"!==t.hash&&console.error("The definition of 'sharedMessageHelpers_messages' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),t),v=(void 0!==l||(l=n(94177)).hash&&"7c8db323227e2cde65105076d6772d27"!==l.hash&&console.error("The definition of 'sharedMessageHelpers_activePromotion' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l),S=(void 0!==s||(s=n(36507)).hash&&"925f9835008643739f14499a6546d9b2"!==s.hash&&console.error("The definition of 'sharedMessageHelpers_expiringPromotion' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),s),L=e=>{var a;const n=k(e);return!(null==n||null==(a=n.content)||!a.message)},C=(e=[],a,n)=>{let t=!1;if(a||n){const e=(0,r.readInlineData)(v,a),l=(0,r.readInlineData)(S,n),{desktopBannerMessage:s,mobileBannerMessage:i}=(null==e?void 0:e.promotionMeta)||{};t=(0,d.shouldShowExpiringPromo)(l)||(y?!!i:!!s)}return t||e.some((e=>{const{items:a}=(0,r.readInlineData)(b,e);return(a||[]).filter(c.filterNulls).some((e=>L(e)))}))},T=(0,i.defineMessages)({fallback:{id:"dbl.Header.MessageBanner.global_fallback_text",defaultMessage:"1stDibs is the world's leading marketplace for beautiful and rare objects"}}),F=e=>{const a={title:"global fallback",message:e.formatMessage(T.fallback),cta:null};return p({desktop:a,mobile:a})},I=(e,a)=>{var n;const t=((null==a||null==(n=a[2])?void 0:n.items)||[]).filter(c.filterNulls).filter((e=>L(e)));return t.length?t:[F(e)]}},23324:(e,a,n)=>{"use strict";n.r(a),n.d(a,{default:()=>t});const t=(0,n(95313).lazy)((()=>n.e(707).then(n.bind(n,97990))))},24922:(e,a,n)=>{"use strict";n.r(a),n.d(a,{default:()=>t});const t=(0,n(95313).lazy)((()=>n.e(408).then(n.bind(n,85898))))},30918:(e,a,n)=>{"use strict";n.r(a),n.d(a,{LOCAL_STORAGE_KEY_NAME:()=>D,NotificationsComponent:()=>U,default:()=>B});var t,l,s,r,i=n(95313),o=(n(99),n(51594)),c=n(28856),d=n(29208),u=n.n(d),m=n(94184),g=n.n(m),p=n(92773),f=n(46485),h=n(42866),y=n(50391),k=n(14655),b=n(23324),v=n(24922),S=n(71630),L=n(59113),C=n(76907),T=n(5409),F=n(60535),I=n(14391),E=n(11390),w=n(58177),_=n(92639);function N(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),n.push.apply(n,t)}return n}function O(e){for(var a=1;a<arguments.length;a++){var n=null!=arguments[a]?arguments[a]:{};a%2?N(Object(n),!0).forEach((function(a){A(e,a,n[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))}))}return e}function A(e,a,n){return a in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}const R="AUTOMATED_OFFER_COUNT_STORAGE_KEY",K="SHARE_ACTIVITY_AUTO_COUNT_STORAGE_KEY",P="DATE_OF_VIEWS_STORAGE_KEY",D="NAV_NOTIFICATIONS_DROPDOWN_LAST_OPEN_TIME",j=()=>({isOpen:!1,fetchingNotifications:!0,first:5}),M=(e=!1)=>{const a={fetchingNotifications:!1};return e?Object.assign({},a):a},V=()=>({fetchingNotifications:!0}),x=()=>({isOpen:!0}),H=e=>{e.forEach((e=>{const{eventDate:a,type:n}=e;"TRADE_REWARD"!==n&&(e=>new Date(e).getTime()>Number(p.localStorage.getItem(D))||0)(a)&&(0,L.trackNotification)((0,L.getNotificationName)(n),"alert displayed")}))};class U extends i.Component{constructor(e){super(e),this.state=O(O({},{isOpen:!1,fetchingNotifications:!0,first:5}),{},{showShareActivity:!1,triggerDropdown:!1,activePromotion:null}),this.dropdownBodyRef=(0,i.createRef)(),this.lastReadTime=0,this.loadNotifications=this.loadNotifications.bind(this),this.onMouseEnterIcon=this.onMouseEnterIcon.bind(this),this.handleDropdownBlur=this.handleDropdownBlur.bind(this),this.handleDropdownToggle=this.handleDropdownToggle.bind(this),this.onActivePromotionFetched=this.onActivePromotionFetched.bind(this),this.onActivityFeedFetched=this.onActivityFeedFetched.bind(this),this.showShareActivityAlert=this.showShareActivityAlert.bind(this)}componentDidMount(){this.lastReadTime=Number(p.localStorage.getItem(D))||0}showShareActivityAlert(){const e=this.props,{viewer:a,user:n}=e,t=p.localStorage.getItem(K)||0,l=function(){let e=p.localStorage.getItem(P);if(e)e=new Date(parseInt(e,10));else{e=new Date;const a=42;e.setDate(e.getDate()+a),p.localStorage.setItem(P,e.getTime())}return e<new Date}(),s="US"===((0,E.getUserSessionCountryCode)()||u()(a,"regInfo[0].countryCode")),r=u()(n,"preferences.shareActivities")||!1;if(!(s||r||l||(0,I.shouldDisableNotifications)())){const e=t<=3;this.setState({showShareActivity:!0,triggerDropdown:e},(()=>{if(e){const e="auto-displayed";(0,C.trackEvent)((0,T.shareActivitiesDisplay)({trigger:e,timesShown:t})),p.localStorage.setItem(K,t+1),this.loadNotifications()}}))}}showAutomatedOfferAlert(e){const{viewer:a}=this.props,n=u()(a,"isAutomatedOfferNotificationDisabled");if((0,I.shouldDisableNotifications)()||n)return;const t=p.localStorage.getItem(R)||{},l=e.reduce(((e,a)=>{if("AUTOMATED_OFFER"===a.node.type){const n=a.node.serviceId;return O(O({},e),{},{[n]:(t[n]||0)+1})}return e}),{}),s=Math.min(...Object.values(l))<=2;this.setState({triggerDropdown:s},(()=>{s&&(this.loadNotifications(),p.localStorage.setItem(R,l))}))}onActivityFeedFetched(e){const a=null==e?void 0:e.edges;Array.isArray(a)&&(H(a.map((e=>e.node))),this.showAutomatedOfferAlert(a))}onActivePromotionFetched(e){this.setState({activePromotion:e})}loadNotifications(){const{hasRootPendingRefetch:e,relay:a,userId:n}=this.props,t={fetchNotifications:!0,userId:n,hasUserId:!!n,hasSessionCountryCode:(0,E.hasUserSessionCountryCode)()};if(e)return;const l=e=>Object.assign({},e,t),s=()=>{p.localStorage.setItem(D,Date.now()),this.state.activePromotion&&(0,S.setPromoCodeNotificationShown)(this.state.activePromotion),this.setState(M)};this.setState(V,(()=>a.refetch(l,null,s,{force:!0})))}onMouseEnterIcon(e){e.stopPropagation(),this.state.isOpen||(this.loadNotifications(),this.setState(x))}handleDropdownToggle(){this.state.isOpen?this.setState({isOpen:!1,triggerDropdown:!1}):(this.loadNotifications(),this.setState({isOpen:!0,triggerDropdown:!0}))}handleDropdownBlur(e){this.dropdownBodyRef.current&&!this.dropdownBodyRef.current.contains(e.relatedTarget)&&this.setState({isOpen:!1,triggerDropdown:!1})}render(){const{hasUserId:e,isClient:a,user:n,viewer:t,initialViewer:l,isVipCuratedFolderTooltipVisible:s}=this.props,{fetchingNotifications:r,showShareActivity:o,triggerDropdown:c}=this.state;if(!a||!e||!n)return null;const d=u()(this.props,"viewer.conversations")||null;return(0,_.jsxs)(f.default,{hasDropdownHeader:!0,align:f.alignConstants.ALIGN_RIGHT,forceOpen:c,onHide:()=>{this.setState(j)},className:g()({[w.default.noHover]:s}),bodyClassName:w.default.dropdownBodyWrapper,dropdownClassName:w.default.dropdown,children:[(0,_.jsx)(i.Suspense,{fallback:null,children:(0,_.jsx)(k.default,{viewer:l,user:n,isOpen:this.state.isOpen,onActivePromotionFetched:this.onActivePromotionFetched,onMouseEnter:this.onMouseEnterIcon,onClick:this.handleDropdownToggle})}),(0,_.jsx)(h.default,{ref:this.dropdownBodyRef,onBlur:this.handleDropdownBlur,children:(0,_.jsxs)(i.Fragment,{children:[o&&(0,_.jsx)(F.default,{user:n,viewer:t,autoDisplayed:c}),(0,_.jsxs)(i.Suspense,{fallback:(0,_.jsx)(y.default,{}),children:[(0,_.jsx)(b.default,{viewer:t,user:n,lastReadTime:this.lastReadTime,onActivityFeedFetched:this.onActivityFeedFetched}),(0,_.jsx)(v.default,{viewer:l,conversations:d,isLoading:r})]})]})})]})}}const B=(0,o.createRefetchContainer)((0,c.connect)((({header:e})=>({isVipCuratedFolderTooltipVisible:null==e?void 0:e.isVipCuratedFolderTooltipVisible})))(U),{initialViewer:(void 0!==t||(t=n(46499),t.hash&&"c6cb02d8a70fd78b905c9e772b728f8d"!==t.hash&&console.error("The definition of 'Notifications_initialViewer' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data.")),t),viewer:(void 0!==l||(l=n(29202),l.hash&&"61590b4acbfd0f86eb217d303cb6a681"!==l.hash&&console.error("The definition of 'Notifications_viewer' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data.")),l),user:(void 0!==s||(s=n(26638),s.hash&&"b6a51da8722acc22b81a7a70bd63ea2a"!==s.hash&&console.error("The definition of 'Notifications_user' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data.")),s)},(void 0!==r||(r=n(63159)).hash&&"f0c1dff0b7d51deb69434d621e32aa28"!==r.hash&&console.error("The definition of 'NotificationsRefetchQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r))},14655:(e,a,n)=>{"use strict";n.r(a),n.d(a,{default:()=>y});var t,l,s=n(95313),r=n(58260),i=n(2408),o=n(94184),c=n.n(o),d=n(28891),u=n(41099),m=n(58177),g=n(30918),p=n(71630),f=n(92639);const h=(0,i.defineMessages)({label:{id:"dbl.Header.NotificationsIcon.label",defaultMessage:"Notifications"},description:{id:"dbl.Header.NotificationsIcon.description",defaultMessage:"Unread messages"}}),y=({onClick:e,isOpen:a,onMouseEnter:o,viewer:y,user:k,onActivePromotionFetched:b})=>{var v,S;const L=(0,r.useFragment)((void 0!==t||(t=n(24200)).hash&&"650dc7a83096d9485a033d06212388c3"!==t.hash&&console.error("The definition of 'NotificationsIcon_viewer' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),t),y),C=(0,r.useFragment)((void 0!==l||(l=n(6534)).hash&&"3988bc84846e467ed1746017663d4550"!==l.hash&&console.error("The definition of 'NotificationsIcon_user' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l),k),T=(0,s.useId)(),F=(0,i.useIntl)(),{conversations:I,isAutomatedOfferNotificationDisabled:E}=L||{},{activePromotion:w,activityFeed:_}=C||{},N=((null==_?void 0:_.edges)||[]).find((e=>{if(E){const{type:a}=(null==e?void 0:e.node)||{};return"AUTOMATED_OFFER"!==a}return!0})),O=null==N||null==(v=N.node)?void 0:v.eventDate,A=((e,a)=>{const n=e?new Date(e).getTime():0,t=a?new Date(a).getTime():0;return Math.max(n,t)>(Number(localStorage.getItem(g.LOCAL_STORAGE_KEY_NAME))||0)})(null==I||null==(S=I.metadata)?void 0:S.lastUnreadMessageDate,O),R=A||w&&!(0,p.wasPromoCodeNotificationShown)(w),[K,P]=(0,s.useState)(!1);(0,s.useEffect)((()=>{!K&&C.activePromotion&&(b(C.activePromotion),P(!0))}),[C,b,K,P]);const D=c()(m.default.icon,{[m.default.hasUnread]:R});return(0,f.jsxs)(u.Link,{ariaLabel:F.formatMessage(h.label),ariaDescribedBy:R?T:void 0,ariaExpanded:a,ariaHasPopup:!0,onClick:e,onMouseEnter:o,dataTn:"notifications-link"+(R?"-unread":""),className:D,children:[R&&T&&(0,f.jsx)("span",{id:T,className:m.default.hidden,children:F.formatMessage(h.description)}),(0,f.jsx)(d.default,{})]})}},60535:(e,a,n)=>{"use strict";n.r(a),n.d(a,{ShareActivityAlertBase:()=>y,default:()=>k});var t,l=n(95313),s=n(51594),r=(n(99),n(2408)),i=n(77313),o=n(69361),c=n(21935),d=n(76907),u=n(92773),m=n(29208),g=n.n(m),p=n(5409),f=n(92639);const h="SHARE_ACTIVITY_HOVER_COUNT_STORAGE_KEY";class y extends l.Component{constructor(e){super(e);const a=this.props.user;this.state={showSaved:!1,shareActivities:g()(a,"preferences.shareActivities")}}componentDidMount(){if(!this.props.autoDisplayed){const e=u.localStorage.getItem(h)||0,a="hover-state",n=e+1;(0,d.trackEvent)((0,p.shareActivitiesDisplay)({trigger:a,timesDisplayed:n})),u.localStorage.setItem(h,e+1)}}componentDidUpdate(e){this.props.user&&!e.user&&this.setState({shareActivities:this.props.user.preferences.shareActivities})}onChange({value:e}){this.setState({shareActivities:e}),(0,c.editUserPreferencesMutation)(this.props.relay.environment,{userId:this.props.user.serviceId,shareActivities:e}).then((()=>{this.setState({showSaved:!0}),setTimeout((()=>{this.setState({showSaved:!1})}),2500);const e=this.state.shareActivities?"enabled":"disabled";(0,d.trackEvent)((0,p.shareActivitiesUpdate)(e))})).catch((e=>{this.setState({showSaved:!1}),console.error("Profile wasn't saved: ",e)}))}render(){return(0,f.jsxs)(l.Fragment,{children:[(0,f.jsxs)("div",{className:o.default.container,children:[(0,f.jsxs)("div",{className:o.default.heading,children:[(0,f.jsx)("div",{className:o.default.goldHeading,children:(0,f.jsx)(r.FormattedMessage,{id:"dbl.Header.activityNotification.new",defaultMessage:"NEW"})}),(0,f.jsx)(r.FormattedMessage,{id:"dbl.Header.activityNotification.intro",defaultMessage:"Personalize Your Experience"})]}),(0,f.jsx)("div",{className:o.default.bodyText,children:(0,f.jsx)(r.FormattedMessage,{id:"dbl.Header.activityNotification.body",defaultMessage:"Share items you’re interested in so sellers can offer personalized recommendations or items not publicly available."})}),(0,f.jsxs)("div",{className:o.default.promptBody,children:[(0,f.jsx)("div",{className:o.default.promptText,children:(0,f.jsx)(r.FormattedMessage,{id:"dbl.Header.activityNotification.switch",defaultMessage:"Share interests with sellers I contact."})}),(0,f.jsx)("div",{className:o.default.switch,children:(0,f.jsx)(i.Switch,{checked:this.state.shareActivities,dataTn:"dbl-activityNotification-switch",onChange:e=>{this.onChange({value:e})},onText:(0,f.jsx)(r.FormattedMessage,{id:"dbl.Header.activityNotification.switchOn",defaultMessage:"On"}),offText:(0,f.jsx)(r.FormattedMessage,{id:"dbl.Header.activityNotification.switchOff",defaultMessage:"Off"})})})]}),(0,f.jsx)("div",{className:o.default.savingMessage,children:this.state.showSaved&&(0,f.jsx)(r.FormattedMessage,{id:"dbl.Header.activityNotification.saved",defaultMessage:"Setting saved..."})}),(0,f.jsx)("div",{className:o.default.subText,children:(0,f.jsx)(r.FormattedMessage,{id:"dbl.Header.activityNotification.subText",defaultMessage:"Update anytime in your Profile Preferences."})})]}),(0,f.jsx)("div",{className:o.default.sectionDivider})]})}}const k=(0,s.createFragmentContainer)(y,{user:(void 0!==t||(t=n(52051),t.hash&&"1f8e6e09353d2c2af6a4d8f829b056a1"!==t.hash&&console.error("The definition of 'ShareActivityAlert_user' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data.")),t)})},6534:(e,a,n)=>{"use strict";n.r(a),n.d(a,{default:()=>l});const t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"NotificationsIcon_user",selections:[{alias:null,args:null,concreteType:"Promotion",kind:"LinkedField",name:"activePromotion",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"serviceId",storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"elementTypes",value:["PENDING_FEEDBACK","TRADE_REWARD","TRADE_REWARD_PRORATED","TRADE_REWARD_PROGRAM","AUTOMATED_OFFER"]},{kind:"Literal",name:"first",value:3}],concreteType:"ActivityFeedConnection",kind:"LinkedField",name:"activityFeed",plural:!1,selections:[{alias:null,args:null,concreteType:"ActivityFeedEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ActivityFeedElement",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"eventDate",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:'activityFeed(elementTypes:["PENDING_FEEDBACK","TRADE_REWARD","TRADE_REWARD_PRORATED","TRADE_REWARD_PROGRAM","AUTOMATED_OFFER"],first:3)'}],type:"User",abstractKey:null,hash:"3988bc84846e467ed1746017663d4550"},l=t},24200:(e,a,n)=>{"use strict";n.r(a),n.d(a,{default:()=>l});const t={argumentDefinitions:[{kind:"RootArgument",name:"hasUserId"}],kind:"Fragment",metadata:null,name:"NotificationsIcon_viewer",selections:[{condition:"hasUserId",kind:"Condition",passingValue:!0,selections:[{alias:null,args:[{kind:"Literal",name:"filter",value:"showUnreadOnly"}],concreteType:"ConversationConnection",kind:"LinkedField",name:"conversations",plural:!1,selections:[{alias:null,args:null,concreteType:"ConversationMetadata",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"lastUnreadMessageDate",storageKey:null}],storageKey:null}],storageKey:'conversations(filter:"showUnreadOnly")'}]},{alias:"isAutomatedOfferNotificationDisabled",args:[{kind:"Literal",name:"key",value:"disableAutomatedOfferBellNotification"}],kind:"ScalarField",name:"isEnabled",storageKey:'isEnabled(key:"disableAutomatedOfferBellNotification")'}],type:"Viewer",abstractKey:null,hash:"650dc7a83096d9485a033d06212388c3"},l=t},63159:(e,a,n)=>{"use strict";n.r(a),n.d(a,{default:()=>u});const t={fragment:{argumentDefinitions:[l={defaultValue:null,kind:"LocalArgument",name:"fetchNotifications"},s={defaultValue:null,kind:"LocalArgument",name:"first"},r={defaultValue:null,kind:"LocalArgument",name:"hasSessionCountryCode"},i={defaultValue:!0,kind:"LocalArgument",name:"isClient"}],kind:"Fragment",metadata:null,name:"NotificationsRefetchQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:[{kind:"Variable",name:"fetchNotifications",variableName:"fetchNotifications"},o={kind:"Variable",name:"first",variableName:"first"},{kind:"Variable",name:"hasSessionCountryCode",variableName:"hasSessionCountryCode"}],kind:"FragmentSpread",name:"Notifications_viewer"}],storageKey:null}],type:"RootQueryType",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[s,l,r,i],kind:"Operation",name:"NotificationsRefetchQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{condition:"hasSessionCountryCode",kind:"Condition",passingValue:!1,selections:[{alias:"regInfo",args:null,concreteType:"RegionalInfo",kind:"LinkedField",name:"regionalInfo",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"countryCode",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},d={alias:"isAutomatedOfferNotificationDisabled",args:[{kind:"Literal",name:"key",value:"disableAutomatedOfferBellNotification"}],kind:"ScalarField",name:"isEnabled",storageKey:'isEnabled(key:"disableAutomatedOfferBellNotification")'},{condition:"fetchNotifications",kind:"Condition",passingValue:!0,selections:[{alias:null,args:[{kind:"Literal",name:"filter",value:"showUnreadOnly"},o,{kind:"Literal",name:"notifications",value:!0}],concreteType:"ConversationConnection",kind:"LinkedField",name:"conversations",plural:!1,selections:[{alias:null,args:null,concreteType:"ConversationEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Conversation",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"serviceId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasUnreadMessageForMember",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"apiType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"inboxImage",storageKey:null},{alias:null,args:null,concreteType:"Item",kind:"LinkedField",name:"item",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},c],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"latestMessage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"latestMessageReceivedAt",storageKey:null},c],storageKey:null}],storageKey:null}],storageKey:null}]},{condition:"isClient",kind:"Condition",passingValue:!0,selections:[{if:null,kind:"Defer",label:"Notifications_viewer$defer$ActivityFeed_viewer",selections:[{alias:"promoCodeMessaging",args:[{kind:"Literal",name:"feature",value:"promoCodeMessaging"}],kind:"ScalarField",name:"featureFlag",storageKey:'featureFlag(feature:"promoCodeMessaging")'},d]}]},c],storageKey:null}]},params:{id:"ferrum/369.0.0-2022-06-10T11:16:53.381Z/NotificationsRefetchQuery",metadata:{},name:"NotificationsRefetchQuery",operationKind:"query",text:null}};var l,s,r,i,o,c,d;t.hash="f0c1dff0b7d51deb69434d621e32aa28";const u=t},46499:(e,a,n)=>{"use strict";n.r(a),n.d(a,{default:()=>l});const t={argumentDefinitions:[{kind:"RootArgument",name:"isClient"}],kind:"Fragment",metadata:null,name:"Notifications_initialViewer",selections:[{condition:"isClient",kind:"Condition",passingValue:!0,selections:[{kind:"Defer",selections:[{args:null,kind:"FragmentSpread",name:"Conversations_viewer"}]},{kind:"Defer",selections:[{args:null,kind:"FragmentSpread",name:"NotificationsIcon_viewer"}]}]}],type:"Viewer",abstractKey:null,hash:"c6cb02d8a70fd78b905c9e772b728f8d"},l=t},26638:(e,a,n)=>{"use strict";n.r(a),n.d(a,{default:()=>l});const t={argumentDefinitions:[{kind:"RootArgument",name:"isClient"}],kind:"Fragment",metadata:null,name:"Notifications_user",selections:[{alias:null,args:null,concreteType:"UserPreferences",kind:"LinkedField",name:"preferences",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"shareActivities",storageKey:null}],storageKey:null},{condition:"isClient",kind:"Condition",passingValue:!0,selections:[{kind:"Defer",selections:[{args:null,kind:"FragmentSpread",name:"ShareActivityAlert_user"}]},{kind:"Defer",selections:[{args:null,kind:"FragmentSpread",name:"ActivityFeed_user"}]},{kind:"Defer",selections:[{args:null,kind:"FragmentSpread",name:"NotificationsIcon_user"}]}]}],type:"User",abstractKey:null,hash:"b6a51da8722acc22b81a7a70bd63ea2a"},l=t},29202:(e,a,n)=>{"use strict";n.r(a),n.d(a,{default:()=>l});const t={argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"fetchNotifications"},{defaultValue:5,kind:"LocalArgument",name:"first"},{defaultValue:!1,kind:"LocalArgument",name:"hasSessionCountryCode"},{kind:"RootArgument",name:"isClient"}],kind:"Fragment",metadata:null,name:"Notifications_viewer",selections:[{condition:"hasSessionCountryCode",kind:"Condition",passingValue:!1,selections:[{alias:"regInfo",args:null,concreteType:"RegionalInfo",kind:"LinkedField",name:"regionalInfo",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"countryCode",storageKey:null}],storageKey:null}]},{alias:"isAutomatedOfferNotificationDisabled",args:[{kind:"Literal",name:"key",value:"disableAutomatedOfferBellNotification"}],kind:"ScalarField",name:"isEnabled",storageKey:'isEnabled(key:"disableAutomatedOfferBellNotification")'},{condition:"fetchNotifications",kind:"Condition",passingValue:!0,selections:[{alias:null,args:[{kind:"Literal",name:"filter",value:"showUnreadOnly"},{kind:"Variable",name:"first",variableName:"first"},{kind:"Literal",name:"notifications",value:!0}],concreteType:"ConversationConnection",kind:"LinkedField",name:"conversations",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"Conversations_conversations"}],storageKey:null}]},{condition:"isClient",kind:"Condition",passingValue:!0,selections:[{kind:"Defer",selections:[{args:null,kind:"FragmentSpread",name:"ActivityFeed_viewer"}]}]}],type:"Viewer",abstractKey:null,hash:"61590b4acbfd0f86eb217d303cb6a681"},l=t},52051:(e,a,n)=>{"use strict";n.r(a),n.d(a,{default:()=>l});const t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ShareActivityAlert_user",selections:[{alias:null,args:null,kind:"ScalarField",name:"serviceId",storageKey:null},{alias:null,args:null,concreteType:"UserPreferences",kind:"LinkedField",name:"preferences",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"shareActivities",storageKey:null}],storageKey:null}],type:"User",abstractKey:null,hash:"1f8e6e09353d2c2af6a4d8f829b056a1"},l=t},68615:(e,a,n)=>{"use strict";n.r(a),n.d(a,{default:()=>i});const t={fragment:{argumentDefinitions:l=[{defaultValue:null,kind:"LocalArgument",name:"input"}],kind:"Fragment",metadata:null,name:"editUserPreferencesMutation",selections:[{alias:null,args:s=[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"EditUserPreferencesPayload",kind:"LinkedField",name:"editUserPreferences",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[r={alias:null,args:null,concreteType:"UserPreferences",kind:"LinkedField",name:"preferences",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"shareActivities",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Mutations",abstractKey:null},kind:"Request",operation:{argumentDefinitions:l,kind:"Operation",name:"editUserPreferencesMutation",selections:[{alias:null,args:s,concreteType:"EditUserPreferencesPayload",kind:"LinkedField",name:"editUserPreferences",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[r,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:"ferrum/369.0.0-2022-06-10T11:16:53.381Z/editUserPreferencesMutation",metadata:{},name:"editUserPreferencesMutation",operationKind:"mutation",text:null}};var l,s,r;t.hash="9bca29cf5d7e68a73a05b1fed8dc91c4";const i=t},21935:(e,a,n)=>{"use strict";n.r(a),n.d(a,{editUserPreferencesMutation:()=>i});n(51594);var t,l=n(72371),s=n.n(l);const r=(void 0!==t||(t=n(68615)).hash&&"9bca29cf5d7e68a73a05b1fed8dc91c4"!==t.hash&&console.error("The definition of 'editUserPreferencesMutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),t);function i(e,a){return s()(e,{mutation:r,variables:{input:a}})}},59113:(e,a,n)=>{"use strict";n.r(a),n.d(a,{getNotificationName:()=>s,trackNotification:()=>r});var t=n(76907);const l={PENDING_FEEDBACK:"review purchase",VIEW_PROMO:"view promo",VIEW_CONVERSATION:"view conversation"};function s(e){return l[e]}function r(e,a){(0,t.trackEvent)({label:e,category:"navigation",action:`header notifications notification ${a}`,isInteractiveEvent:!1,value:0},null)}},5409:(e,a,n)=>{"use strict";n.r(a),n.d(a,{shareActivitiesDisplay:()=>t,shareActivitiesUpdate:()=>l});const t=({trigger:e,timesDisplayed:a})=>({category:"user favoriting update",action:`opt-in modal ${e}`,label:a}),l=e=>({category:"user favoriting update",action:`share favoriting ${e}`,label:"favoriting dropdown"})},71938:(e,a,n)=>{"use strict";n.r(a),n.d(a,{PrepareRelayContextProvider:()=>r});n(95313);var t=n(38384),l=n(51594),s=n(92639);const r=e=>{const{environment:a,query:n,variables:r,render:i}=e,o=(0,t.createOperationDescriptor)((0,t.getRequest)(n),r);a.retain(o);const c=a.lookup(o.fragment),{data:d}=c;return(0,s.jsx)(l.ReactRelayContext.Provider,{value:{environment:a},children:i({props:d})})}},88737:(e,a,n)=>{"use strict";n.r(a),n.d(a,{PriceIntlHandler:()=>r});var t=n(95313),l=n(33911),s=n(54021);const r=()=>{const{currency:e}=(0,s.useCurrency)();return(0,t.useEffect)((()=>{const a=document.querySelectorAll(`[${(0,l.getPriceAttr)(e)}]`);if(a.length){const n=(0,l.getPriceAttr)(e);a.forEach((e=>{e.textContent=e.getAttribute(n)}))}}),[e]),null}},93990:(e,a,n)=>{"use strict";n.r(a),n.d(a,{SearchBarComponent:()=>N,SearchBar:()=>O});n(99);var t,l,s=n(29208),r=n.n(s),i=n(95313),o=n(51594),c=n(94184),d=n.n(c),u=n(2408),m=n(76907),g=n(7902),p=n(3783),f=n(70208),h=n(93597),y=n(42748),k=n(41700),b=n(56863),v=n(88340),S=n(6259),L=n(26968),C=n(92639);function T(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),n.push.apply(n,t)}return n}function F(e){for(var a=1;a<arguments.length;a++){var n=null!=arguments[a]?arguments[a]:{};a%2?T(Object(n),!0).forEach((function(a){I(e,a,n[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))}))}return e}function I(e,a,n){return a in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}const E="global-header-search-input",w=[`${E}-search-button`,`${E}-clear`,`${E}-search-button-wrapper`,`${E}-clear-wrapper`],_=(0,u.defineMessages)({searchBarPlaceholder:{id:"dbl.Header.SearchBar.placeholder",defaultMessage:"Search"}}),N=e=>{const a=(0,u.useIntl)(),[n,t]=(0,i.useState)(""),[l,s]=(0,i.useState)(!1),[o,c]=(0,i.useState)(!1),[T,I]=(0,i.useState)(!1),[N,O]=(0,i.useState)([]),[A,R]=(0,i.useState)(-1),[K,P]=(0,i.useState)(void 0),D=(0,i.useRef)(null),{hasRootPendingRefetch:j,isClient:M,relay:V,viewer:x}=e,{searchSuggestions:H,user:U}=x,{suggestions:B}=H||{},W=(0,y.dedupeLocalStorage)()||[],$=B||W,z=l||o,G=(0,i.useCallback)((()=>{s(!0)}),[s]),Y=(0,i.useCallback)((e=>{var a;const n=null==(a=e.relatedTarget)?void 0:a.getAttribute("data-tn");w.includes(n)||s(!1)}),[s]),Z=(0,i.useCallback)((e=>{e.stopPropagation(),s(!1)}),[s]),Q=(0,i.useCallback)((()=>{c(!0)}),[c]),q=(0,i.useCallback)((()=>{c(!1)}),[c]),X=(0,i.useCallback)((()=>{const{hash:e,href:a,search:n}=location,l=new URLSearchParams(r()(e.split("?"),"[1]")).get(k.ORIGINAL_SEARCH_QUERY_PARAM);if(-1!==a.indexOf(k.SEARCH_PAGE_PATH)||l){const e=new URLSearchParams(n),a=l||e.get(k.SEARCH_QUERY_PARAM);a&&t(a)}}),[t]),J=(0,i.useCallback)(((e,a,n)=>{const l=H?"global search|auto-complete selected":"recent search";t(e),s(!1),c(!1),(0,m.trackEvent)({category:k.TRACKING.CATEGORY,action:k.TRACKING.ACTION,label:l},n),(0,y.handleRecentStorage)(e,a),location.assign((0,f.handleLocaleUrl)(a,f.GLOBAL_CLIENT_ONLY_LOCALE))}),[H,t,s,c]),ee=(0,i.useCallback)((e=>{const l=N.length?N:(0,y.getCursorTerms)($,n,a);let s=A;if(!$)return;switch(e){case k.KEY_UP_VALUE:s=A||0===A?(A-1+l.length)%l.length:l.length-2;break;case k.KEY_DOWN_VALUE:s=A||0===A?(A+1)%l.length:0}const r=l[s].term,i=l[s].highlightId;t(r),P(i),O(l),R(s)}),[$,n,a,A,N,R,O,P]),ae=(0,i.useCallback)((()=>{const e=(0,v.getLocalHistoryItemIds)({isClient:!0}),a={hasQuery:n.length>1,query:n.toLowerCase(),localRecentHistoryItemIds:e,fetchUserRecentHistoryItem:e.length<S.MAX_CAROUSEL_RECENTLY_VIEWED_ITEMS};V&&!j&&V.refetch((()=>a),F(F({},a),{},{fetchUserRecentHistoryItem:!1}),(()=>I(!1)))}),[n,V,j]),[ne]=(0,b.useDebouncedCallback)(ae,250),te=(0,i.useCallback)((e=>{e||I(!0),t(e),O([]),P(null),R(-1)}),[t,O,R]),le=(0,i.useCallback)((e=>{let a;e.preventDefault(),A>-1&&N[A].link?J(N[A].term,N[A].link,e):n&&(a=`/search/?q=${encodeURIComponent(n.toLowerCase())}`,(0,m.trackEvent)({category:k.TRACKING.CATEGORY,action:k.TRACKING.ACTION,label:"global search"},e),(0,y.handleRecentStorage)(n,a),location.assign((0,f.handleLocaleUrl)(a,f.GLOBAL_CLIENT_ONLY_LOCALE)))}),[n,N,A,J]);(0,i.useEffect)((()=>{(0,y.cleanUpRecentSearches)()}),[]),(0,i.useEffect)((()=>{n&&!K&&ne(n)}),[K,n,ne]),(0,i.useEffect)((()=>{D&&D.current&&(D.current.addEventListener("mouseover",Q),D.current.addEventListener("mouseout",q),X())}),[D,X,q,Q]);const se=!B||n.length<2||T,re=d()(L.default.searchBar,{[L.default.isActive]:z});return(0,C.jsxs)("div",{className:L.default.wrapper,children:[(0,C.jsx)("form",{className:L.default.form,action:"/search/",role:"search",onSubmit:le,children:(0,C.jsx)("div",{className:re,children:(0,C.jsx)(g.SearchBar,{dataTn:E,hasClickableSearchButton:!0,isClearButtonHidden:!n,onBlur:Y,onFocus:G,onChange:te,onClear:Z,onKeyDown:e=>{27===e.keyCode&&Y(e),40===e.keyCode&&(e.preventDefault(),ee(k.KEY_DOWN_VALUE)),38===e.keyCode&&(e.preventDefault(),ee(k.KEY_UP_VALUE))},placeholder:a.formatMessage(_.searchBarPlaceholder),size:"medium",value:n,leftMargin:p.SIZES.small,isHeaderSearch:!0})})}),(0,C.jsx)("div",{className:L.default.overlayWrapper,ref:D,children:M?(0,C.jsx)(h.SearchBarOverlay,{overlayClassName:L.default.overlay,canShowRecentlyViewed:z&&se,handleRowClick:J,visible:z,suggestions:se?W:B,searchTerm:n,cursorHighlightId:K,user:U||null}):null})]})},O=(0,o.createRefetchContainer)(N,{viewer:(void 0!==t||(t=n(48865),t.hash&&"2c3938a90e7461be8ddad9b687098af5"!==t.hash&&console.error("The definition of 'SearchBar_viewer' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data.")),t)},(void 0!==l||(l=n(13341)).hash&&"7beead14353d8fc89775b3c15627bd25"!==l.hash&&console.error("The definition of 'SearchBarRefetchQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l))},93597:(e,a,n)=>{"use strict";n.r(a),n.d(a,{getSuggestedTermElements:()=>k,SearchBarOverlayComponent:()=>b,SearchBarOverlay:()=>v});n(99);var t=n(95313),l=n(51594),s=n(94184),r=n.n(s),i=n(2408),o=n(9558),c=n(42748),d=n(23229),u=n(10629),m=n(92918),g=n(7260),p=n(63213),f=n(26968),h=n(92639);const y=(0,h.jsx)(i.FormattedMessage,{id:"dbl.header.searchBar.recentlyViewed",defaultMessage:"Recently Viewed"}),k=(e,a)=>{if(!a)return e;const n=a.split(" ");return e.split(/(\s+)/).reduce(((a,t,l)=>{let s,r,i=0;return n.forEach((e=>{0===t.toLowerCase().indexOf(e.toLowerCase())&&e.length>i&&(i=e.length,s=t.substr(0,e.length),r=t.substr(e.length))})),s&&a.push(s),r&&a.push((0,h.jsx)("span",{className:f.default.boldTerm,children:r},`${e}${t}${l}`)),r||s||a.push((0,h.jsx)("span",{className:f.default.boldTerm,children:t},`${e}${t}${l}`)),a}),[])},b=({visible:e,suggestions:a,handleRowClick:n,cursorHighlightId:s,focusOnOverlayScroll:b,overlayClassName:v,canShowRecentlyViewed:S,searchTerm:L,user:C})=>{const T=(0,i.useIntl)(),F=(0,t.useContext)(l.ReactRelayContext),{isMobile:I}=(0,t.useContext)(u.HeaderFooterServerVarsContext),[E,w]=(0,t.useState)(),[_,N]=(0,t.useState)();if(F&&null!==C&&!_){const{recentHistoryItems:e}=(0,d.unmaskFragmentData)({relayContext:F,relayData:C,fragment:o.userFragment.user})||{};void 0!==e&&N((null==e?void 0:e.edges)||[])}const O=S&&E&&!!E.length,A=!!a&&a.find((e=>e.terms&&e.terms.length));(0,t.useEffect)((()=>{const e=(0,o.getRecentHistoryList)({recentHistoryItems:(_||[]).map((({node:e})=>e)),isClient:!0});w(e.slice(0,5))}),[_]);const R=r()(f.default.overlay,{[v]:!!v,[f.default.isVisible]:e});return A||O?(0,h.jsxs)("div",{"aria-live":e?"assertive":"off","data-tn":"search-bar-overlay",className:R,onTouchStart:b?()=>document.activeElement.blur():()=>{},children:[I&&O&&(0,h.jsx)(m.SearchBarSection,{title:y,children:(0,h.jsx)(p.SearchBarRecentlyViewedItems,{recentlyViewedItems:E})},"recentlyViewed"),a.map((e=>{const{title:a,urlSection:t}=(0,c.getSectionPropsByType)(e.type,T),{terms:l,type:r}=e;return l&&l.length?(0,h.jsx)(m.SearchBarSection,{title:a,children:l.map((({term:e,urlLabel:a},l)=>{const i="RECENT"===r?e:k(e,L),o=(0,c.createSearchLink)({term:e,urlSection:t,urlLabel:a,type:r});return(0,h.jsx)(g.SearchBarTerm,{id:`${e}-${r}-${l}`,termElements:i,term:e,type:r,href:o,handleRowClick:n,cursorHighlightId:s},e)}))},a):null})),!I&&O&&(0,h.jsx)(m.SearchBarSection,{title:y,children:(0,h.jsx)(p.SearchBarRecentlyViewedItems,{recentlyViewedItems:E})},"recentlyViewed")]}):null};b.defaultProps={focusOnOverlayScroll:!1};const v=b},63213:(e,a,n)=>{"use strict";n.r(a),n.d(a,{SearchBarRecentlyViewedItems:()=>o});var t=n(95313),l=(n(99),n(41099)),s=n(76907),r=n(76471),i=n(92639);const o=e=>{const[a,n]=(0,t.useState)(!1),{recentlyViewedItems:o}=e;return(0,t.useEffect)((()=>{a||(s.trackEcommerce({type:"productImpression",actionField:{list:"recently viewed - global search"},products:o.map(((e,a)=>({id:e.itemId,dimension83:e.contemporaryTrackingString,position:a+1,brand:e.dealerPk,list:"recently viewed - global search"})))}),n(!0))}),[o,a,n]),(0,i.jsx)("div",{className:r.default.items,children:o.map(((e,a)=>(0,i.jsx)(l.Link,{className:r.default.item,href:e.itemPdpUrl,onClick:()=>((e,a)=>{s.trackEvent({category:"promo interaction",action:"recently viewed - global search items clicked",label:"none",value:0}),s.trackEcommerce({type:"productClick",actionField:{list:"recently viewed - global search",itemId:e.itemId},products:[{id:e.itemId,dimension83:e.contemporaryTrackingString,position:a+1,brand:e.dealerPk,list:"recently viewed - global search"}]})})(e,a),children:(0,i.jsx)("img",{className:r.default.image,src:e.itemImageUrl,alt:e.itemTitle})},e.itemPdpUrl)))})}},92918:(e,a,n)=>{"use strict";n.r(a),n.d(a,{SearchBarSection:()=>s});n(99);var t=n(8541),l=n(92639);const s=({title:e,children:a})=>(0,l.jsxs)("div",{"data-tn":"search-bar-section",className:t.default.section,children:[(0,l.jsx)("div",{"data-tn":"search-bar-header",className:t.default.header,children:e}),a]})},7260:(e,a,n)=>{"use strict";n.r(a),n.d(a,{SearchBarTerm:()=>o});n(99);var t=n(94184),l=n.n(t),s=n(41099),r=n(48073),i=n(92639);const o=e=>{const{href:a,term:n,handleRowClick:t,cursorHighlightId:o,id:c,termElements:d}=e,u=l()(r.default.item,{[r.default.active]:c===o});return(0,i.jsx)("div",{className:u,children:(0,i.jsx)(s.Link,{dataTn:"search-bar-term",className:r.default.link,href:a,onClick:e=>{e.preventDefault(),t(n,a,e)},children:d})})}},13341:(e,a,n)=>{"use strict";n.r(a),n.d(a,{default:()=>p});const t={fragment:{argumentDefinitions:[l={defaultValue:!1,kind:"LocalArgument",name:"fetchUserRecentHistoryItem"},s={defaultValue:null,kind:"LocalArgument",name:"hasQuery"},r={defaultValue:null,kind:"LocalArgument",name:"hasUserId"},i={defaultValue:[],kind:"LocalArgument",name:"localRecentHistoryItemIds"},o={defaultValue:null,kind:"LocalArgument",name:"query"},c={defaultValue:null,kind:"LocalArgument",name:"userId"}],kind:"Fragment",metadata:null,name:"SearchBarRefetchQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:[{kind:"Variable",name:"hasQuery",variableName:"hasQuery"},d={kind:"Variable",name:"query",variableName:"query"}],kind:"FragmentSpread",name:"SearchBar_viewer"}],storageKey:null}],type:"RootQueryType",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[o,s,c,r,i,l],kind:"Operation",name:"SearchBarRefetchQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{condition:"hasQuery",kind:"Condition",passingValue:!0,selections:[{alias:null,args:[{kind:"Literal",name:"includeTypes",value:["POPULAR","CATEGORY","SELLER","CREATOR"]},d],concreteType:"SearchSuggestion",kind:"LinkedField",name:"searchSuggestions",plural:!1,selections:[{alias:null,args:null,concreteType:"SearchSuggestionList",kind:"LinkedField",name:"suggestions",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,concreteType:"SearchSuggestionTerm",kind:"LinkedField",name:"terms",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"term",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"urlLabel",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},{condition:"hasUserId",kind:"Condition",passingValue:!0,selections:[{alias:null,args:[{kind:"Variable",name:"userId",variableName:"userId"}],concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[{if:null,kind:"Defer",label:"SearchBar_viewer$defer$getRecentHistory_user",selections:[{condition:"fetchUserRecentHistoryItem",kind:"Condition",passingValue:!0,selections:[{alias:null,args:u=[{kind:"Variable",name:"excludeItemPks",variableName:"localRecentHistoryItemIds"},{kind:"Literal",name:"first",value:12}],concreteType:"RecentHistoryItemsConnection",kind:"LinkedField",name:"recentHistoryItems",plural:!1,selections:[{alias:null,args:null,concreteType:"RecentHistoryItemsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Item",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"contemporaryTrackingString",storageKey:null},{alias:null,args:[{kind:"Literal",name:"size",value:"small"}],kind:"ScalarField",name:"firstPhotoWebPath",storageKey:'firstPhotoWebPath(size:"small")'},{alias:null,args:null,kind:"ScalarField",name:"pdpURL",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"browseUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"categoryCode",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"serviceId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"categoryPath",storageKey:null},{alias:null,args:null,concreteType:"Seller",kind:"LinkedField",name:"seller",plural:!1,selections:[m,g={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},g,{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:u,filters:["excludeItemPks"],handle:"connection",key:"getRecentHistory_recentHistoryItems",kind:"LinkedHandle",name:"recentHistoryItems"}]}]},g],storageKey:null}]},g],storageKey:null}]},params:{id:"ferrum/369.0.0-2022-06-10T11:16:53.381Z/SearchBarRefetchQuery",metadata:{},name:"SearchBarRefetchQuery",operationKind:"query",text:null}};var l,s,r,i,o,c,d,u,m,g;t.hash="7beead14353d8fc89775b3c15627bd25";const p=t},48865:(e,a,n)=>{"use strict";n.r(a),n.d(a,{default:()=>l});const t={argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"hasQuery"},{kind:"RootArgument",name:"hasUserId"},{defaultValue:"",kind:"LocalArgument",name:"query"},{kind:"RootArgument",name:"userId"}],kind:"Fragment",metadata:null,name:"SearchBar_viewer",selections:[{condition:"hasQuery",kind:"Condition",passingValue:!0,selections:[{alias:null,args:[{kind:"Literal",name:"includeTypes",value:["POPULAR","CATEGORY","SELLER","CREATOR"]},{kind:"Variable",name:"query",variableName:"query"}],concreteType:"SearchSuggestion",kind:"LinkedField",name:"searchSuggestions",plural:!1,selections:[{alias:null,args:null,concreteType:"SearchSuggestionList",kind:"LinkedField",name:"suggestions",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,concreteType:"SearchSuggestionTerm",kind:"LinkedField",name:"terms",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"term",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"urlLabel",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},{condition:"hasUserId",kind:"Condition",passingValue:!0,selections:[{alias:null,args:[{kind:"Variable",name:"userId",variableName:"userId"}],concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[{kind:"Defer",selections:[{args:null,kind:"FragmentSpread",name:"getRecentHistory_user"}]}],storageKey:null}]}],type:"Viewer",abstractKey:null,hash:"2c3938a90e7461be8ddad9b687098af5"},l=t},54308:(e,a,n)=>{"use strict";n.r(a),n.d(a,{SiteNav:()=>o,default:()=>c});n(99);var t,l=n(51594),s=n(50473),r=n(75998),i=n(92639);function o({viewer:e,isNavigationHovered:a,onMouseEnter:n,onMouseLeave:t}){const l=(null==e?void 0:e.navigation)||null;return(0,i.jsx)("nav",{className:r.default.navigation,children:(0,i.jsx)("ul",{className:r.default.items,children:((null==l?void 0:l.modules)||[]).map(((e,l)=>(0,i.jsx)(s.default,{navigationModule:e,isNavigationHovered:a,onMouseEnter:n,onMouseLeave:t},`nav-${e.serviceId}-position-${l}`)))})})}const c=(0,l.createFragmentContainer)(o,{viewer:(void 0!==t||(t=n(88350),t.hash&&"0ca62205dba26f7abb8476a182375c19"!==t.hash&&console.error("The definition of 'SiteNav_viewer' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data.")),t)})},27384:(e,a,n)=>{"use strict";n.r(a),n.d(a,{default:()=>d});n(99);var t=n(76907),l=n(95277),s=n(19214),r=n(44382),i=n(75998),o=n(92639);const c={category:"navigation",action:"header navigation click"},d=({items:e,trackingLabelPrefix:a})=>(0,o.jsx)("div",{className:i.default.dropdownCol,children:e.map(((e,n)=>(0,o.jsxs)("div",{className:i.default.dropdownSection,children:[e.name?(0,o.jsx)("div",{className:i.default.dropdownHeader,children:e.name}):null,(e.items||[]).map((({name:n,linkData:d},u)=>{const m=`${a}|${e.name}|${n}`;return(0,o.jsx)(s.SeoLink,{dataTn:`global-nav-item-link-${(0,l.default)(m)}`,className:i.default.dropdownLink,onClick:e=>{(0,t.trackEvent)(Object.assign({},c,{label:m.toLowerCase()}),e)},variant:r.ALWAYS_LINKABLE_LINK,linkData:d,children:n},`${n}${u}`)}))]},`${e.name}${n}`)))})},89830:(e,a,n)=>{"use strict";n.r(a),n.d(a,{SiteNavDropdownContent:()=>c});n(99);var t,l=n(51594),s=n(27384),r=n(91642),i=n(75998),o=n(92639);const c=(0,l.createFragmentContainer)((({trackingLabelPrefix:e,navigationModule:a,onImageModuleFirstImpression:n,onImageModuleClick:t,isVisible:l})=>{const{imageUrl:c,items:d}=a,u={};let m;return d.forEach((e=>{u[e.column]||(u[e.column]=[]),u[e.column].push(e)})),c&&(m=(0,o.jsx)("div",{className:`${i.default.dropdownCol} ${i.default.imageModule}`,children:(0,o.jsx)(r.SiteNavDropdownImageModule,{navigationModule:a,isVisible:l,onFirstImpression:n,onClick:t})})),(0,o.jsxs)("div",{className:i.default.dropdownContent,children:[Object.values(u).map((a=>(0,o.jsx)(s.default,{items:a,trackingLabelPrefix:e},a.map((e=>e.name)).join()))),m]})}),{navigationModule:(void 0!==t||(t=n(12363),t.hash&&"29cf467b177d1c4a3decf224806f52f9"!==t.hash&&console.error("The definition of 'SiteNavDropdownContent_navigationModule' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data.")),t)})},91642:(e,a,n)=>{"use strict";n.r(a),n.d(a,{SiteNavDropdownImageModule:()=>f});var t,l=n(95313),s=(n(99),n(51594)),r=n(94184),i=n.n(r),o=n(29208),c=n.n(o),d=n(19214),u=n(44382),m=n(75998),g=n(92639);class p extends l.Component{constructor(e){super(e),this.onImageLoad=this.onImageLoad.bind(this),this.state={firstImpressionRegistered:!1,imageIsLoaded:!1}}componentDidUpdate(){const{isVisible:e,navigationModule:a}=this.props;e&&c()(a,"imageUrl")&&!this.state.firstImpressionRegistered&&(this.props.onFirstImpression(),this.setState({firstImpressionRegistered:!0}))}onImageLoad(){this.setState({imageIsLoaded:!0})}render(){const{navigationModule:e,onClick:a,isVisible:n}=this.props,{imageIsLoaded:t}=this.state,{imageUrl:l,imageLinkData:s={},imageTitlePrimary:r,imageTitleSecondary:o,imageHeight:c,imageWidth:p}=e,{path:f}=s;if(!l)return null;const h=Number(p.replace("px",""))/Number(c.replace("px","")),y=i()(m.default.imageModuleImage,{[m.default.setWidth]:h<2,[m.default.loadedImage]:t}),k=(0,g.jsxs)("div",{className:m.default.imageModuleWrapper,children:[(0,g.jsx)("div",{className:m.default.imageBox,children:(n||t)&&(0,g.jsx)("img",{className:y,src:l,alt:r,onLoad:this.onImageLoad})}),(0,g.jsxs)("div",{className:m.default.titleBox,children:[o&&(0,g.jsx)("div",{className:m.default.titleSecondary,children:o}),(0,g.jsx)("div",{className:m.default.titlePrimary,children:r})]})]});return f?(0,g.jsx)(d.SeoLink,{className:m.default.imageModuleLink,onClick:a,variant:u.ALWAYS_LINKABLE_LINK,linkData:s,children:k}):k}}p.defaultProps={onFirstImpression:()=>{},onClick:()=>{}};const f=(0,s.createFragmentContainer)(p,{navigationModule:(void 0!==t||(t=n(78513),t.hash&&"0ff3b2450399692f331aae9328e7c9c6"!==t.hash&&console.error("The definition of 'SiteNavDropdownImageModule_navigationModule' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data.")),t)})},50473:(e,a,n)=>{"use strict";n.r(a),n.d(a,{SiteNavItemComponent:()=>S,default:()=>L});n(99);var t,l=n(95313),s=n(51594),r=n(28856),i=n(76907),o=n(67432),c=n(89830),d=n(95277),u=n(94184),m=n.n(u),g=n(19214),p=n(44382),f=n(75998),h=n(92639);function y(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),n.push.apply(n,t)}return n}function k(e){for(var a=1;a<arguments.length;a++){var n=null!=arguments[a]?arguments[a]:{};a%2?y(Object(n),!0).forEach((function(a){b(e,a,n[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))}))}return e}function b(e,a,n){return a in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}const v=({name:e,imageLink:a})=>({id:`trade-trending-tile-${e.toLowerCase()}`,name:"trade-trending-tile",creative:a});class S extends l.Component{constructor(e){super(e),this.state={isVisible:!1},this.onHide=this.onHide.bind(this),this.onShow=this.onShow.bind(this),this.handleClick=this.handleClick.bind(this),this.handleImageModuleClick=this.handleImageModuleClick.bind(this),this.handleImageModuleFirstImpression=this.handleImageModuleFirstImpression.bind(this)}handleClick(e){const{name:a}=this.props.navigationModule;(0,i.trackEvent)({action:"header navigation click",category:"navigation",label:`${a.toLowerCase()} header link|${a.toLowerCase()}`},e)}onHide(){this.setState({isVisible:!1},(()=>{"function"==typeof this.props.onMouseLeave&&this.props.onMouseLeave()}))}onShow(){this.setState({isVisible:!0},(()=>{"function"==typeof this.props.onMouseEnter&&this.props.onMouseEnter()}))}handleImageModuleClick(e){if(this.props.isUserTypeTrade){const e=v(this.props.navigationModule);(0,i.trackEcommerce)({type:"promoClick",promotions:[e]})}(0,i.trackEvent)({category:"navigation",action:"header navigation clicked",label:"trending now"},e)}handleImageModuleFirstImpression(){if(this.props.isUserTypeTrade){const e=v(this.props.navigationModule);(0,i.trackEcommerce)({type:"promotionImpression",promotions:[e]})}}render(){const{isUserTypeTrade:e,navigationModule:a,isNavigationHovered:n}=this.props,{name:t,items:l,linkData:s}=a,{isVisible:r}=this.state,i=m()(f.default.itemLink,{[f.default.pale]:n&&!r}),u={onShow:this.onShow,onHide:this.onHide,wrapperClass:f.default.fullWrapper};return(0,h.jsx)("li",{className:f.default.item,children:(0,h.jsxs)(o.FullWidthDropdown,k(k({},u),{},{children:[(0,h.jsxs)(g.SeoLink,{dataTn:`global-nav-item-link-${(0,d.default)(t).toLowerCase()}`,className:i,onClick:this.handleClick,variant:p.ALWAYS_LINKABLE_LINK,linkData:s,children:[t,r&&(0,h.jsx)("div",{className:e?f.default.linkUnderlineTrade:f.default.linkUnderline})]}),l&&l.length?(0,h.jsx)(c.SiteNavDropdownContent,{trackingLabelPrefix:t,navigationModule:a,onImageModuleFirstImpression:this.handleImageModuleFirstImpression,onImageModuleClick:this.handleImageModuleClick,isVisible:r}):null]}))})}}const L=(0,s.createFragmentContainer)((0,r.connect)((({header:e})=>{const{isUserTypeTrade:a}=e;return{isUserTypeTrade:a}}))(S),{navigationModule:(void 0!==t||(t=n(1794),t.hash&&"1b5ee7d96d8d47905eb1981c678c4852"!==t.hash&&console.error("The definition of 'SiteNavItem_navigationModule' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data.")),t)})},12363:(e,a,n)=>{"use strict";n.r(a),n.d(a,{default:()=>s});const t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SiteNavDropdownContent_navigationModule",selections:[l={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"NavigationTopLevel",kind:"LinkedField",name:"items",plural:!0,selections:[l,{alias:null,args:null,kind:"ScalarField",name:"column",storageKey:null},{alias:null,args:null,concreteType:"NavigationItem",kind:"LinkedField",name:"items",plural:!0,selections:[l,{alias:null,args:null,concreteType:"LinkData",kind:"LinkedField",name:"linkData",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"SeoLink_linkData"}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageUrl",storageKey:null},{args:null,kind:"FragmentSpread",name:"SiteNavDropdownImageModule_navigationModule"}],type:"NavigationModule",abstractKey:null};var l;t.hash="29cf467b177d1c4a3decf224806f52f9";const s=t},78513:(e,a,n)=>{"use strict";n.r(a),n.d(a,{default:()=>l});const t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SiteNavDropdownImageModule_navigationModule",selections:[{alias:null,args:null,concreteType:"LinkData",kind:"LinkedField",name:"imageLinkData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"path",storageKey:null},{args:null,kind:"FragmentSpread",name:"SeoLink_linkData"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageTitlePrimary",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageTitleSecondary",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageHeight",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageWidth",storageKey:null}],type:"NavigationModule",abstractKey:null,hash:"0ff3b2450399692f331aae9328e7c9c6"},l=t},1794:(e,a,n)=>{"use strict";n.r(a),n.d(a,{default:()=>s});const t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SiteNavItem_navigationModule",selections:[{args:null,kind:"FragmentSpread",name:"SiteNavDropdownContent_navigationModule"},{alias:null,args:null,kind:"ScalarField",name:"imageLink",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"LinkData",kind:"LinkedField",name:"linkData",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"SeoLink_linkData"}],storageKey:null},{alias:null,args:null,concreteType:"NavigationTopLevel",kind:"LinkedField",name:"items",plural:!0,selections:[l],storageKey:null}],type:"NavigationModule",abstractKey:null};var l;t.hash="1b5ee7d96d8d47905eb1981c678c4852";const s=t},88350:(e,a,n)=>{"use strict";n.r(a),n.d(a,{default:()=>l});const t={argumentDefinitions:[{kind:"RootArgument",name:"previewKey"}],kind:"Fragment",metadata:null,name:"SiteNav_viewer",selections:[{alias:null,args:[{kind:"Variable",name:"rootId",variableName:"previewKey"}],concreteType:"Navigation",kind:"LinkedField",name:"navigation",plural:!1,selections:[{alias:null,args:null,concreteType:"NavigationModule",kind:"LinkedField",name:"modules",plural:!0,selections:[{args:null,kind:"FragmentSpread",name:"SiteNavItem_navigationModule"},{alias:null,args:null,kind:"ScalarField",name:"serviceId",storageKey:null}],storageKey:null}],storageKey:null}],type:"Viewer",abstractKey:null,hash:"0ca62205dba26f7abb8476a182375c19"},l=t},58785:(e,a,n)=>{"use strict";n.r(a),n.d(a,{TopBar:()=>y});var t,l,s=n(28856),r=(n(99),n(51594)),i=n(94184),o=n.n(i),c=n(72892),d=n(30918),u=n(93990),m=n(15111),g=n(84385),p=n(78384),f=n(986),h=n(92639);const y=(0,r.createFragmentContainer)((0,s.connect)((({header:e})=>({isEmailOnly:e.isEmailOnly})))((e=>{const{disableStickyNav:a,hasRootPendingRefetch:n,hasUserId:t,hasUser:l,isClient:s,user:r,userId:i,viewer:y,onMouseOver:k,onMouseOut:b,hasError:v,isEmailOnly:S,isSticky:L,hasTradeUserId:C}=e,T=o()({[f.default.bar]:!0,[f.default.disableSticky]:a,[f.default.stickyBar]:L});return v?(0,h.jsx)("div",{className:T,children:(0,h.jsx)("div",{className:`${f.default.barContent} js-nav-utils-wrap`,children:(0,h.jsx)("div",{className:f.default.leftContainer,children:(0,h.jsx)(c.default,{})})})}):(0,h.jsx)("div",{className:T,onMouseOver:k,onMouseOut:b,children:(0,h.jsxs)("div",{className:`${f.default.barContent} js-nav-utils-wrap`,"data-tn":"main-nav-top",children:[(0,h.jsx)("div",{className:f.default.leftContainer,children:(0,h.jsx)(u.SearchBar,{hasClickableSearchButton:!0,hasRootPendingRefetch:n,isClient:s,viewer:y})}),(0,h.jsx)(c.default,{isStickyLogo:L}),(0,h.jsxs)("div",{className:f.default.rightContainer,children:[(0,h.jsx)(m.default,{isClient:s,hasUser:l,hasUserId:t,user:r,hasTradeUserId:C}),!S&&(0,h.jsx)(d.default,{hasRootPendingRefetch:n,hasUserId:t,isClient:s,userId:i,viewer:y,initialViewer:y,user:r}),(0,h.jsx)(g.default,{hasRootPendingRefetch:n,hasUserId:t,fetchNewEvents:t&&s&&!n,isClient:s,userId:i,viewer:y}),(0,h.jsx)(p.default,{hasRootPendingRefetch:n,hasUserId:t,isClient:s,user:r,userId:i,viewer:y})]})]})})})),{viewer:(void 0!==t||(t=n(30063),t.hash&&"245c0d77f3d1516476adf2a9fcb3a1f5"!==t.hash&&console.error("The definition of 'TopBar_viewer' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data.")),t),user:(void 0!==l||(l=n(71710),l.hash&&"8b9d906e238b5be75ac5e5f3ac98ae6e"!==l.hash&&console.error("The definition of 'TopBar_user' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data.")),l)})},71710:(e,a,n)=>{"use strict";n.r(a),n.d(a,{default:()=>l});const t={argumentDefinitions:[{kind:"RootArgument",name:"isClient"}],kind:"Fragment",metadata:null,name:"TopBar_user",selections:[{condition:"isClient",kind:"Condition",passingValue:!0,selections:[{args:null,kind:"FragmentSpread",name:"AccountNav_user"},{args:null,kind:"FragmentSpread",name:"CartNav_user"},{args:null,kind:"FragmentSpread",name:"Notifications_user"}]}],type:"User",abstractKey:null,hash:"8b9d906e238b5be75ac5e5f3ac98ae6e"},l=t},30063:(e,a,n)=>{"use strict";n.r(a),n.d(a,{default:()=>l});const t={argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"hasSessionCountryCode"}],kind:"Fragment",metadata:null,name:"TopBar_viewer",selections:[{args:null,kind:"FragmentSpread",name:"CartNav_viewer"},{args:null,kind:"FragmentSpread",name:"Likes_viewer"},{args:[{kind:"Variable",name:"hasSessionCountryCode",variableName:"hasSessionCountryCode"}],kind:"FragmentSpread",name:"Notifications_viewer"},{args:null,kind:"FragmentSpread",name:"Notifications_initialViewer"},{args:null,kind:"FragmentSpread",name:"SearchBar_viewer"}],type:"Viewer",abstractKey:null,hash:"245c0d77f3d1516476adf2a9fcb3a1f5"},l=t},6784:(e,a,n)=>{"use strict";n.r(a),n.d(a,{HeaderRenderer:()=>t.default,headerRootQuery:()=>l.default,headerInitialVariables:()=>l.initialVariables});var t=n(62458),l=n(80249)},16901:(e,a,n)=>{"use strict";function t({prevRemovedCartItemId:e,removedPortfolioCartItemId:a}){return!!a&&e!==a}n.r(a),n.d(a,{wasPortfolioItemRemoved:()=>t})},32681:(e,a,n)=>{"use strict";n.r(a),n.d(a,{getEmailLoginToken:()=>t});const t=()=>new URLSearchParams(window.location.search).get("emailLoginToken")},96528:(e,a,n)=>{"use strict";n.r(a),n.d(a,{loginUserWithEmailLoginToken:()=>i});var t=n(94933),l=n(7133),s=n(19672);const{EMAIL_LINK_LOGIN_RESEND_EMAIL_FLOW:r}=t.default.constants,i=async(e,a,n)=>{try{await(0,l.loginMutation)(e,{email:null,password:null,emailLoginToken:a},{}),(0,s.trackEmailLoginLinkComplete)(),n()}catch(i){const e=new URLSearchParams(window.location.search).get("email");(0,s.trackVerificationFailedModalDisplayed)(),t.default.show({action:t.default.constants.REQUEST_PASSWORD_EMAIL,email:e,flow:r})}}},92395:(e,a,n)=>{"use strict";n.r(a),n.d(a,{default:()=>Z});const t={fragment:{argumentDefinitions:[l={defaultValue:null,kind:"LocalArgument",name:"fetchRegionalInfo"},s={defaultValue:!1,kind:"LocalArgument",name:"fetchUserRecentHistoryItem"},r={defaultValue:null,kind:"LocalArgument",name:"hasSessionCountryCode"},i={defaultValue:null,kind:"LocalArgument",name:"hasTradeUserId"},o={defaultValue:null,kind:"LocalArgument",name:"hasUserId"},c={defaultValue:null,kind:"LocalArgument",name:"isClient"},d={defaultValue:[],kind:"LocalArgument",name:"localRecentHistoryItemIds"},u={defaultValue:"",kind:"LocalArgument",name:"previewKey"},m={defaultValue:"",kind:"LocalArgument",name:"userCountryCode"},g={defaultValue:null,kind:"LocalArgument",name:"userId"},p={defaultValue:null,kind:"LocalArgument",name:"userIds"},f={defaultValue:null,kind:"LocalArgument",name:"zipCode"}],kind:"Fragment",metadata:null,name:"headerRootQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"Header_viewer"}],storageKey:null}],type:"RootQueryType",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[o,i,u,g,p,c,l,f,m,r,d,s],kind:"Operation",name:"headerRootQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:"emailLinkLoginFF",args:[{kind:"Literal",name:"feature",value:"emailLinkLogin"}],kind:"ScalarField",name:"featureFlag",storageKey:'featureFlag(feature:"emailLinkLogin")'},h={alias:"isAutomatedOfferNotificationDisabled",args:[{kind:"Literal",name:"key",value:"disableAutomatedOfferBellNotification"}],kind:"ScalarField",name:"isEnabled",storageKey:'isEnabled(key:"disableAutomatedOfferBellNotification")'},{alias:null,args:[{kind:"Variable",name:"rootId",variableName:"previewKey"}],concreteType:"Navigation",kind:"LinkedField",name:"navigation",plural:!1,selections:[{alias:null,args:null,concreteType:"NavigationModule",kind:"LinkedField",name:"modules",plural:!0,selections:[y={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"NavigationTopLevel",kind:"LinkedField",name:"items",plural:!0,selections:[y,{alias:null,args:null,kind:"ScalarField",name:"column",storageKey:null},{alias:null,args:null,concreteType:"NavigationItem",kind:"LinkedField",name:"items",plural:!0,selections:[y,b={alias:null,args:null,concreteType:"LinkData",kind:"LinkedField",name:"linkData",plural:!1,selections:k=[{alias:null,args:null,kind:"ScalarField",name:"path",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isLinkable",storageKey:null}],storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},v],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageUrl",storageKey:null},{alias:null,args:null,concreteType:"LinkData",kind:"LinkedField",name:"imageLinkData",plural:!1,selections:k,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageTitlePrimary",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageTitleSecondary",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageHeight",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageWidth",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageLink",storageKey:null},b,S={alias:null,args:null,kind:"ScalarField",name:"serviceId",storageKey:null},v],storageKey:null},v],storageKey:null},v,{condition:"isClient",kind:"Condition",passingValue:!0,selections:[{alias:"relayIsClient",args:null,kind:"ScalarField",name:"__typename",storageKey:null},{if:null,kind:"Defer",label:"Notifications_viewer$defer$ActivityFeed_viewer",selections:[{alias:"promoCodeMessaging",args:[{kind:"Literal",name:"feature",value:"promoCodeMessaging"}],kind:"ScalarField",name:"featureFlag",storageKey:'featureFlag(feature:"promoCodeMessaging")'},h]},{if:null,kind:"Defer",label:"Notifications_initialViewer$defer$Conversations_viewer",selections:[{condition:"hasUserId",kind:"Condition",passingValue:!0,selections:[{alias:null,args:L=[{kind:"Literal",name:"filter",value:"showUnreadOnly"}],concreteType:"ConversationConnection",kind:"LinkedField",name:"conversations",plural:!1,selections:[{alias:null,args:null,concreteType:"ConversationMetadata",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"totalUnreadConversationCount",storageKey:null}],storageKey:null}],storageKey:'conversations(filter:"showUnreadOnly")'}]}]},{if:null,kind:"Defer",label:"Notifications_initialViewer$defer$NotificationsIcon_viewer",selections:[{condition:"hasUserId",kind:"Condition",passingValue:!0,selections:[{alias:null,args:L,concreteType:"ConversationConnection",kind:"LinkedField",name:"conversations",plural:!1,selections:[{alias:null,args:null,concreteType:"ConversationMetadata",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"lastUnreadMessageDate",storageKey:null}],storageKey:null}],storageKey:'conversations(filter:"showUnreadOnly")'}]},h]},{if:null,kind:"Defer",label:"Header_viewer$defer$userTracking_viewer",selections:[{condition:"hasUserId",kind:"Condition",passingValue:!0,selections:[{alias:null,args:[{kind:"Variable",name:"buyerId",variableName:"userId"}],concreteType:"TransactionsCounter",kind:"LinkedField",name:"transactionsCounter",plural:!1,selections:[{alias:"submittedTransactions",args:null,kind:"ScalarField",name:"submitted",storageKey:null},{alias:"confirmedTransactions",args:null,kind:"ScalarField",name:"confirmed",storageKey:null}],storageKey:null}]}]}]},{condition:"hasUserId",kind:"Condition",passingValue:!0,selections:[{alias:null,args:[{kind:"Literal",name:"first",value:1},{kind:"Literal",name:"portfolioTypes",value:["CART"]},{kind:"Variable",name:"userIds",variableName:"userIds"}],concreteType:"PortfoliosConnection",kind:"LinkedField",name:"portfolios",plural:!1,selections:[{alias:null,args:null,concreteType:"PortfoliosEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"PortfolioV2",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:[C={kind:"Literal",name:"first",value:3}],concreteType:"PortfolioItemsConnection",kind:"LinkedField",name:"items",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"totalResults",storageKey:null}],storageKey:"items(first:3)"},v],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:[T={kind:"Variable",name:"userId",variableName:"userId"}],concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[v,F={alias:null,args:null,kind:"ScalarField",name:"isVip",storageKey:null},I={alias:null,args:null,kind:"ScalarField",name:"isVerifiedTrade",storageKey:null},w={alias:null,args:null,concreteType:"UserPreferences",kind:"LinkedField",name:"preferences",plural:!1,selections:[E={alias:null,args:null,kind:"ScalarField",name:"currency",storageKey:null}],storageKey:null},{if:null,kind:"Defer",label:"SearchBar_viewer$defer$getRecentHistory_user",selections:[{condition:"fetchUserRecentHistoryItem",kind:"Condition",passingValue:!0,selections:[{alias:null,args:_=[{kind:"Variable",name:"excludeItemPks",variableName:"localRecentHistoryItemIds"},{kind:"Literal",name:"first",value:12}],concreteType:"RecentHistoryItemsConnection",kind:"LinkedField",name:"recentHistoryItems",plural:!1,selections:[{alias:null,args:null,concreteType:"RecentHistoryItemsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Item",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"contemporaryTrackingString",storageKey:null},{alias:null,args:[{kind:"Literal",name:"size",value:"small"}],kind:"ScalarField",name:"firstPhotoWebPath",storageKey:'firstPhotoWebPath(size:"small")'},{alias:null,args:null,kind:"ScalarField",name:"pdpURL",storageKey:null},N={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"browseUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"categoryCode",storageKey:null},S,{alias:null,args:null,kind:"ScalarField",name:"categoryPath",storageKey:null},{alias:null,args:null,concreteType:"Seller",kind:"LinkedField",name:"seller",plural:!1,selections:O=[S,v],storageKey:null},v,A={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:_,filters:["excludeItemPks"],handle:"connection",key:"getRecentHistory_recentHistoryItems",kind:"LinkedHandle",name:"recentHistoryItems"}]}]},{if:null,kind:"Defer",label:"Header_viewer$defer$userTracking_user",selections:[{alias:null,args:null,kind:"ScalarField",name:"createdDate",storageKey:null},F,I,{alias:null,args:null,kind:"ScalarField",name:"verifiedTradeStatus",storageKey:null},{alias:null,args:null,concreteType:"UserExistsMetadataType",kind:"LinkedField",name:"authMetadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"emailOnly",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasPassword",storageKey:null},v],storageKey:null},{alias:null,args:null,concreteType:"Profile",kind:"LinkedField",name:"profile",plural:!1,selections:[R={alias:null,args:null,kind:"ScalarField",name:"email",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"zipCode",storageKey:null}],storageKey:null},w,S,{alias:null,args:null,kind:"ScalarField",name:"totalMessagesToDealers",storageKey:null},{alias:null,args:null,concreteType:"TradeFirmType",kind:"LinkedField",name:"tradeFirm",plural:!1,selections:[S,K={alias:null,args:null,kind:"ScalarField",name:"profileStatus",storageKey:null},D={alias:null,args:null,concreteType:"TradeFirmRewards",kind:"LinkedField",name:"rewards",plural:!1,selections:[{alias:null,args:null,concreteType:"ParentProgram",kind:"LinkedField",name:"currentProgram",plural:!1,selections:[{alias:null,args:null,concreteType:"LoyaltyProgram",kind:"LinkedField",name:"programInfo",plural:!1,selections:[P={alias:null,args:null,kind:"ScalarField",name:"code",storageKey:null},v],storageKey:null}],storageKey:null}],storageKey:null},v],storageKey:null},{alias:null,args:null,concreteType:"mentionMeTagParameters",kind:"LinkedField",name:"mentionMeTagParameters",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ciphertext",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nonce",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Promotion",kind:"LinkedField",name:"activePromotion",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"campaignName",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"buyerDisplayable",storageKey:null},v],storageKey:null}]},{condition:"isClient",kind:"Condition",passingValue:!0,selections:[M={alias:null,args:null,concreteType:"UserPreferences",kind:"LinkedField",name:"preferences",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"shareActivities",storageKey:null}],storageKey:null},{condition:"hasTradeUserId",kind:"Condition",passingValue:!1,selections:[{if:null,kind:"Defer",label:"AccountNav_user$defer$AccountNavContent_user",selections:[{alias:null,args:null,concreteType:"Profile",kind:"LinkedField",name:"profile",plural:!1,selections:[R],storageKey:null},V={alias:null,args:null,concreteType:"Summary",kind:"LinkedField",name:"conversationSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"unread",storageKey:null}],storageKey:null}]}]},{if:null,kind:"Defer",label:"AccountNav_user$defer$AccountNavTrigger_user",selections:[{alias:null,args:null,concreteType:"Profile",kind:"LinkedField",name:"profile",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"firstName",storageKey:null}],storageKey:null},I,{condition:"hasTradeUserId",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"TradeFirmRewards",kind:"LinkedField",name:"tradeFirmRewards",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"currentYearPoints",storageKey:null},{alias:null,args:null,concreteType:"ParentProgram",kind:"LinkedField",name:"currentProgram",plural:!1,selections:[{alias:null,args:null,concreteType:"LoyaltyProgram",kind:"LinkedField",name:"programInfo",plural:!1,selections:[x={alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},v],storageKey:null}],storageKey:null}],storageKey:null}]}]},{condition:"hasTradeUserId",kind:"Condition",passingValue:!0,selections:[{if:null,kind:"Defer",label:"AccountNav_user$defer$TradeAccountNavContent_user",selections:[S,I,V,{alias:null,args:null,concreteType:"TradeFirmType",kind:"LinkedField",name:"tradeFirm",plural:!1,selections:[S,K,D,{alias:null,args:null,concreteType:"TradeFirmPublicProfileType",kind:"LinkedField",name:"publicProfile",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"urlLabel",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"TradeFirmMemberType",kind:"LinkedField",name:"members",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"userId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"publicProfileManager",storageKey:null},v],storageKey:null},v],storageKey:null}]}]},{condition:"isClient",kind:"Condition",passingValue:!0,selections:[{if:null,kind:"Defer",label:"Notifications_user$defer$ShareActivityAlert_user",selections:[S,M]},{if:null,kind:"Defer",label:"Notifications_user$defer$ActivityFeed_user",selections:[{alias:null,args:null,concreteType:"Promotion",kind:"LinkedField",name:"activePromotion",plural:!1,selections:[j,{alias:null,args:null,concreteType:"PromotionMeta",kind:"LinkedField",name:"promotionMeta",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayMessage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayCta",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"adjustmentRateList",plural:!0,selections:[A,{alias:null,args:null,kind:"ScalarField",name:"reference",storageKey:null},H={kind:"InlineFragment",selections:[v],type:"Node",abstractKey:"__isNode"}],storageKey:null},P,{alias:null,args:null,concreteType:"FlatAdjustmentRate",kind:"LinkedField",name:"flatAdjustmentRate",plural:!1,selections:[{alias:null,args:null,concreteType:"FinancialAmount",kind:"LinkedField",name:"rate",plural:!1,selections:B=[E,U={alias:null,args:null,kind:"ScalarField",name:"amount",storageKey:null}],storageKey:null},v],storageKey:null},{alias:null,args:null,concreteType:"PercentAdjustmentRate",kind:"LinkedField",name:"percentAdjustmentRate",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"rate",storageKey:null},v],storageKey:null},v],storageKey:null},{alias:null,args:W=[{kind:"Literal",name:"elementTypes",value:["PENDING_FEEDBACK","TRADE_REWARD","TRADE_REWARD_PRORATED","TRADE_REWARD_PROGRAM","AUTOMATED_OFFER"]},C],concreteType:"ActivityFeedConnection",kind:"LinkedField",name:"activityFeed",plural:!1,selections:[{alias:null,args:null,concreteType:"ActivityFeedEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ActivityFeedElement",kind:"LinkedField",name:"node",plural:!1,selections:[$={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},z={alias:null,args:null,kind:"ScalarField",name:"eventDate",storageKey:null},S,{alias:null,args:null,kind:"ScalarField",name:"apiType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},{alias:null,args:null,concreteType:"Anchor",kind:"LinkedField",name:"anchors",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"sourceType",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"source",plural:!1,selections:[A,{kind:"InlineFragment",selections:[S,{alias:null,args:null,concreteType:"FinancialAmount",kind:"LinkedField",name:"rewardEarned",plural:!1,selections:B,storageKey:null}],type:"TradeFirmReward",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"LoyaltyProgram",kind:"LinkedField",name:"programInfo",plural:!1,selections:[x,P,v],storageKey:null}],type:"ParentProgram",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"token",storageKey:null},{alias:null,args:null,concreteType:"Transaction",kind:"LinkedField",name:"transaction",plural:!1,selections:[{alias:null,args:null,concreteType:"Item",kind:"LinkedField",name:"item",plural:!1,selections:[N,G={alias:"thumbnail",args:[{kind:"Literal",name:"size",value:"thumb"}],kind:"ScalarField",name:"firstPhotoWebPath",storageKey:'firstPhotoWebPath(size:"thumb")'},v],storageKey:null},v],storageKey:null}],type:"OrderFeedback",abstractKey:null},{kind:"InlineFragment",selections:[S,{alias:null,args:null,concreteType:"TransactionSummaryObject",kind:"LinkedField",name:"summary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"offerDiscountPercentage",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Item",kind:"LinkedField",name:"item",plural:!1,selections:[N,G,{alias:null,args:null,concreteType:"ItemPricing",kind:"LinkedField",name:"pricing",plural:!1,selections:[{alias:null,args:null,concreteType:"FinancialAmount",kind:"LinkedField",name:"retailPrice",plural:!1,selections:[{alias:null,args:null,concreteType:"ConvertedAmountList",kind:"LinkedField",name:"convertedAmountList",plural:!0,selections:[U,E],storageKey:null}],storageKey:null}],storageKey:null},v],storageKey:null},{alias:null,args:null,concreteType:"Offer",kind:"LinkedField",name:"mostRecentOffer",plural:!1,selections:[{alias:null,args:null,concreteType:"FinancialAmount",kind:"LinkedField",name:"amountPerItem",plural:!1,selections:[{alias:null,args:null,concreteType:"ConvertedAmountList",kind:"LinkedField",name:"convertedAmountList",plural:!0,selections:B,storageKey:null}],storageKey:null},v],storageKey:null},{alias:null,args:null,concreteType:"Conversation",kind:"LinkedField",name:"conversation",plural:!1,selections:O,storageKey:null}],type:"Transaction",abstractKey:null},H],storageKey:null}],storageKey:null},v],storageKey:null}],storageKey:null}],storageKey:'activityFeed(elementTypes:["PENDING_FEEDBACK","TRADE_REWARD","TRADE_REWARD_PRORATED","TRADE_REWARD_PROGRAM","AUTOMATED_OFFER"],first:3)'}]},{if:null,kind:"Defer",label:"Notifications_user$defer$NotificationsIcon_user",selections:[{alias:null,args:null,concreteType:"Promotion",kind:"LinkedField",name:"activePromotion",plural:!1,selections:O,storageKey:null},{alias:null,args:W,concreteType:"ActivityFeedConnection",kind:"LinkedField",name:"activityFeed",plural:!1,selections:[{alias:null,args:null,concreteType:"ActivityFeedEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ActivityFeedElement",kind:"LinkedField",name:"node",plural:!1,selections:[$,z,v],storageKey:null}],storageKey:null}],storageKey:'activityFeed(elementTypes:["PENDING_FEEDBACK","TRADE_REWARD","TRADE_REWARD_PRORATED","TRADE_REWARD_PROGRAM","AUTOMATED_OFFER"],first:3)'}]}]}]}],storageKey:null}]},{condition:"hasSessionCountryCode",kind:"Condition",passingValue:!1,selections:[{alias:"regInfo",args:null,concreteType:"RegionalInfo",kind:"LinkedField",name:"regionalInfo",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"countryCode",storageKey:null},v],storageKey:null}]},{condition:"fetchRegionalInfo",kind:"Condition",passingValue:!0,selections:[{alias:null,args:[{kind:"Variable",name:"countryCode",variableName:"userCountryCode"},T,Y={kind:"Variable",name:"zipCode",variableName:"zipCode"}],concreteType:"RegionalInfo",kind:"LinkedField",name:"regionalInfo",plural:!0,selections:[{alias:null,args:[Y],concreteType:"IncomeLevel",kind:"LinkedField",name:"incomeLevel",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"incomeBracket",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"incomePercentile",storageKey:null}],storageKey:null},E,v],storageKey:null}]}],storageKey:null}]},params:{id:"ferrum/369.0.0-2022-06-10T11:16:53.381Z/headerRootQuery",metadata:{},name:"headerRootQuery",operationKind:"query",text:null}};var l,s,r,i,o,c,d,u,m,g,p,f,h,y,k,b,v,S,L,C,T,F,I,E,w,_,N,O,A,R,K,P,D,j,M,V,x,H,U,B,W,$,z,G,Y;t.hash="b43af3b84bb44438219b00b08d4bbbbb";const Z=t},80249:(e,a,n)=>{"use strict";n.r(a),n.d(a,{default:()=>l,initialVariables:()=>s});var t;n(51594);const l=(void 0!==t||(t=n(92395)).hash&&"b43af3b84bb44438219b00b08d4bbbbb"!==t.hash&&console.error("The definition of 'headerRootQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),t),s={hasUserId:!1,hasTradeUserId:!1,previewKey:"",fetchRegionalInfo:!1,userId:"",userIds:[],isClient:!1,zipCode:"",userCountryCode:"",hasSessionCountryCode:!1}},71630:(e,a,n)=>{"use strict";n.r(a),n.d(a,{setPromoCodeNotificationShown:()=>l,wasPromoCodeNotificationShown:()=>s});var t=n(92773);const l=e=>{t.localStorage.setItem(e.serviceId,!0)},s=e=>!!t.localStorage.getItem(e.serviceId)},41700:(e,a,n)=>{"use strict";n.r(a),n.d(a,{RECENT_SEARCHES:()=>t,SEARCH_PAGE_PATH:()=>l,SEARCH_QUERY_PARAM:()=>s,TRACKING:()=>i,KEY_UP_VALUE:()=>o,KEY_DOWN_VALUE:()=>c,ORIGINAL_SEARCH_QUERY_PARAM:()=>r});const t={TYPE:"RECENT",LOCAL_STORAGE:"recentSearches",MAX_TERMS:6},l="/search/",s="q",r="oq",i={CATEGORY:"navigation",ACTION:"header navigation click"},o="up",c="down"},42748:(e,a,n)=>{"use strict";n.r(a),n.d(a,{getSectionPropsByType:()=>o,createSearchLink:()=>c,dedupeLocalStorage:()=>d,getCursorTerms:()=>u,handleRecentStorage:()=>m,cleanUpRecentSearches:()=>g});var t=n(29208),l=n.n(t),s=n(92773),r=n(41700);const i=(0,n(2408).defineMessages)({RECENT:{id:"search.suggestions.recent.type",defaultMessage:"Recent searches"},POPULAR:{id:"search.suggestions.popular.type",defaultMessage:"Popular searches"},CREATOR:{id:"search.suggestions.creator.type",defaultMessage:"Creators"},STYLE:{id:"search.suggestions.style.type",defaultMessage:"Styles"},SELLER:{id:"search.suggestions.seller.type",defaultMessage:"Sellers"},CATEGORY:{id:"search.suggestions.category.type",defaultMessage:"Categories"}}),o=(e,a)=>l()((e=>({RECENT:{title:e.formatMessage(i.RECENT),urlSection:null},POPULAR:{title:e.formatMessage(i.POPULAR),urlSection:null},CREATOR:{title:e.formatMessage(i.CREATOR),urlSection:"creators"},STYLE:{title:e.formatMessage(i.STYLE),urlSection:"styles"},SELLER:{title:e.formatMessage(i.SELLER),urlSection:"dealers"},CATEGORY:{title:e.formatMessage(i.CATEGORY),urlSection:null}}))(a),e)||{},c=({term:e,urlSection:a,urlLabel:n,type:t})=>{const l=encodeURIComponent(e.toLowerCase());let s;return s=a&&n?`/${a}/${n}/?search=${l}`:!a&&n&&t!==r.RECENT_SEARCHES.TYPE?`${n}?search=${l}`:`/search/?q=${l}`,s},d=()=>{const e=s.localStorage.getItem(r.RECENT_SEARCHES.LOCAL_STORAGE)||[],a=[];return e.forEach(((e,n)=>{const t={};a.push({type:e.type,terms:[]}),e.terms.forEach((e=>{t[e.term]||(t[e.term]=!0,a[n].terms.push(e))}))})),a.length?a:void 0},u=(e,a,n)=>{let t=e.map((e=>e.terms.map(((a,t)=>{const{type:l}=e,{term:s,urlLabel:r}=a,{urlSection:i}=o(e.type,n);return{term:s,highlightId:`${s}-${l}-${t}`,link:c({term:s,urlSection:i,urlLabel:r,type:l})}}))));return t=[].concat(...t),t.push({term:a,highlightId:`${a}-USER_INPUT`}),t},m=(e,a)=>{const n={term:e,urlLabel:a};let t=s.localStorage.getItem(r.RECENT_SEARCHES.LOCAL_STORAGE)||[],l=[];t.length?(l=t[0].terms,l.length===r.RECENT_SEARCHES.MAX_TERMS&&l.pop(),l.unshift(n)):t=[{type:r.RECENT_SEARCHES.TYPE,terms:[n]}],s.localStorage.setItem(r.RECENT_SEARCHES.LOCAL_STORAGE,JSON.stringify(t))},g=()=>{const e=(s.localStorage.getItem(r.RECENT_SEARCHES.LOCAL_STORAGE)||[]).reduce(((e,a)=>a.type&&Array.isArray(a.terms)?(a.terms=a.terms.filter((e=>e.term&&e.urlLabel)),[...e,a]):e),[]);s.localStorage.setItem(r.RECENT_SEARCHES.LOCAL_STORAGE,JSON.stringify(e))}},80969:(e,a,n)=>{"use strict";n.r(a),n.d(a,{Button:()=>t.Button});var t=n(64573)},52176:(e,a,n)=>{"use strict";n.r(a),n.d(a,{LocalizedLogoVipIcon:()=>t.LocalizedLogoVipIcon});var t=n(91534)},7902:(e,a,n)=>{"use strict";n.r(a),n.d(a,{SearchBar:()=>t.SearchBar});var t=n(41449)},44382:(e,a,n)=>{"use strict";n.r(a),n.d(a,{SeoLink:()=>t.SeoLink,PARTIALLY_LINKABLE_LINK:()=>t.PARTIALLY_LINKABLE_LINK,ALWAYS_LINKABLE_LINK:()=>t.ALWAYS_LINKABLE_LINK,NO_CONTENT_LINK:()=>t.NO_CONTENT_LINK});var t=n(24757)},77313:(e,a,n)=>{"use strict";n.r(a),n.d(a,{Switch:()=>t.Switch});var t=n(19608)},3783:(e,a,n)=>{"use strict";n.r(a),n.d(a,{SIZES:()=>t.SIZES});var t=n(99899)},64573:(e,a,n)=>{"use strict";n.r(a),n.d(a,{Button:()=>u});var t=n(94184),l=n.n(t),s=n(32879),r=n(49505),i=n(92639);function o(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),n.push.apply(n,t)}return n}function c(e){for(var a=1;a<arguments.length;a++){var n=null!=arguments[a]?arguments[a]:{};a%2?o(Object(n),!0).forEach((function(a){d(e,a,n[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))}))}return e}function d(e,a,n){return a in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}const u=({children:e,dataTn:a,className:n,disabled:t,fullWidth:o,href:d,isDangerousAction:u,noFollow:m,onClick:g=(()=>{}),opensInNewWindow:p,size:f="large",type:h="primary",htmlType:y,ariaLabel:k,buttonRef:b})=>{["primary","primaryAlt","secondary","secondaryAlt","textCta","transparent","designManager"].includes(h);const v=!["primaryAlt","secondary","secondaryAlt","textCta","transparent","designManager"].includes(h),S=l()({[r.default.primaryAltButton]:"primaryAlt"===h,[r.default.secondaryButton]:"secondary"===h,[r.default.secondaryAltButton]:"secondaryAlt"===h,[r.default.transparentButton]:"transparent"===h,[r.default.textCtaButton]:"textCta"===h,[r.default.designManagerButton]:"designManager"===h,[r.default.isDangerousActionPrimary]:u&&"primary"===h,[r.default.isDangerousActionSecondary]:u&&"primary"!==h&&"transparent"!==h,[r.default.isDangerousActionTransparent]:u&&"transparent"===h,[r.default.fullWidth]:o,[r.default.disabled]:t},r.default[f],n),L={ariaLabel:k};return t&&(L.disabled=!0),"string"==typeof d?(p&&(L.target="_blank",L.rel="noopener"),m&&(L.rel?L.rel+=" nofollow":L.rel="nofollow"),(0,i.jsx)(s.StyledButton,c(c({className:S,dataTn:a,href:d,isPrimary:v,onClick:g,buttonRef:b},L),{},{children:e}))):(y&&(L.type=y),(0,i.jsx)(s.StyledButton,c(c({className:S,dataTn:a,isPrimary:v,onClick:g,buttonRef:b},L),{},{children:e})))}},4322:(e,a,n)=>{"use strict";n.r(a),n.d(a,{AnimatedPlaceholderContainer:()=>d});var t=n(95313),l=n(94184),s=n.n(l),r=n(89886),i=n(99899),o=n(71249),c=n(92639);const d=e=>{const{children:a,marginLeft:n,marginRight:l,placeholderPaddingLeft:d,onClick:u,placeholder:m,showAnimatedPlaceholder:g}=e,p=(0,t.createRef)(),f=!!m&&g,[h,y]=(0,t.useState)(!1),[k,b]=(0,t.useState)(f);const v=s()(o.default.animatedPlaceholderContainer,{[o.default.marginLeftMedium]:n===i.SIZES.medium,[o.default.marginLeftSmall]:n===i.SIZES.small,[o.default.marginRightMedium]:l===i.SIZES.medium,[o.default.marginRightSmall]:l===i.SIZES.small}),S=s()(o.default.animatedPlaceholderStart,{[o.default.animatedPlaceholderEnd]:k,[o.default.placeholderPaddingLeftMedium]:d===i.SIZES.medium,[o.default.placeholderPaddingLeftSmall]:d===i.SIZES.small});return(0,t.useEffect)((()=>{!function(){const e=!!m&&g&&(0,r.__INTERNAL_ONLY_HAS_ENOUGH_PARENT_HEIGHT__)(p);e!==h&&(e?k?y(!0):(y(!0),setTimeout((()=>b(!0)),10)):k&&(b(!1),setTimeout((()=>y(!1)),100)))}()})),(0,c.jsxs)("div",{ref:p,onClick:u,onKeyPress:u,className:v,children:[h&&(0,c.jsx)("span",{className:S,"data-tn":"animated-placeholder",children:m}),a({placeholderDidRender:h})]})}},89886:(e,a,n)=>{"use strict";function t(e){if(e.current){const a=e.current.parentElement;return!!a&&a.clientHeight>45}return!1}n.r(a),n.d(a,{__INTERNAL_ONLY_HAS_ENOUGH_PARENT_HEIGHT__:()=>t})},32879:(e,a,n)=>{"use strict";n.r(a),n.d(a,{StyledButton:()=>m});var t=n(94184),l=n.n(t),s=n(2408),r=n(70208),i=n(79662),o=n(92639);function c(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),n.push.apply(n,t)}return n}function d(e){for(var a=1;a<arguments.length;a++){var n=null!=arguments[a]?arguments[a]:{};a%2?c(Object(n),!0).forEach((function(a){u(e,a,n[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))}))}return e}function u(e,a,n){return a in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}const m=e=>{const{className:a,children:n,dataTn:t,disabled:c,href:u,isPrimary:m=!1,onClick:g,rel:p,tabIndex:f,target:h,type:y,value:k,ariaLabel:b,buttonRef:v}=e,S=l()(i.default.button,{[i.default.primaryButton]:m,[i.default.disabled]:c},a),L={disabled:c,onClick:g,rel:p,tabIndex:f,target:h,value:k},C=(0,s.useIntl)();return"string"==typeof u?(0,o.jsx)("a",d(d({ref:v,"aria-label":b,className:S,"data-tn":t,href:(0,r.handleLocaleUrl)(c?void 0:u,C.locale)},L),{},{children:n})):(0,o.jsx)("button",d(d({ref:v,"aria-label":b,className:S,"data-tn":t,type:y},L),{},{children:n}))}},38323:(e,a,n)=>{"use strict";n.r(a),n.d(a,{Field:()=>s});n(95313);var t=n(60920),l=n(92639);const s=({children:e})=>(0,l.jsx)("div",{className:t.default.fieldContainer,children:e})},16831:(e,a,n)=>{"use strict";n.r(a),n.d(a,{FocusTrap:()=>s});var t=n(95313),l=n(48792);const s=({children:e,active:a,paused:n,options:s})=>{const r=t.Children.only(e),i=(0,l.useFocusTrap)({active:a,paused:n,options:s});if((0,t.isValidElement)(r))return(0,t.cloneElement)(r,{ref:i});throw new Error("Focus trap child is not a valid ReactElement")}},66736:(e,a,n)=>{"use strict";n.r(a),n.d(a,{FormLabel:()=>s});n(95313);var t=n(55508),l=n(92639);const s=({htmlFor:e,children:a})=>a?(0,l.jsx)("label",{htmlFor:e,className:t.default.label,children:a}):null},31259:(e,a,n)=>{"use strict";n.r(a),n.d(a,{InputBorderContainer:()=>d});var t=n(94184),l=n.n(t),s=n(69849),r=n(92639);function i(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),n.push.apply(n,t)}return n}function o(e){for(var a=1;a<arguments.length;a++){var n=null!=arguments[a]?arguments[a]:{};a%2?i(Object(n),!0).forEach((function(a){c(e,a,n[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))}))}return e}function c(e,a,n){return a in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}const d=({children:e,disabled:a,hasError:n,isFocused:t,maskForPrivacy:i,onClick:c,size:d,noBorder:u,isHeaderInput:m})=>{const g=l()(s.default.inputContainer,{[s.default.heightDefault]:!d,[s.default.heightSmall]:"small"===d,[s.default.heightMedium]:"medium"===d,[s.default.heightLarge]:"large"===d,[s.default.borderError]:n,[s.default.borderFocus]:!n&&t,[s.default.borderDark]:m,[s.default.noBorder]:u&&!n,[s.default.disabled]:a,"fs-block":i});let p={};return c&&(p={onClick:c}),(0,r.jsx)("div",o(o({className:g},p),{},{children:e}))}},65188:(e,a,n)=>{"use strict";n.r(a),n.d(a,{TextInputContainer:()=>o});var t=n(94184),l=n.n(t),s=n(99899),r=n(38625),i=n(92639);const o=({children:e,paddingTop:a,usePaddingLeft:n,isHeaderInput:t})=>{const o=l()(r.default.textInputWrapper,{[r.default.animatedPlaceholderPadding]:a===s.SIZES.animatedPlaceholder,[r.default.usePaddingLeft]:n,[r.default.headerInput]:t});return(0,i.jsx)("div",{className:o,children:e})}},99899:(e,a,n)=>{"use strict";n.r(a),n.d(a,{SIZES:()=>t,DIRECTIONS:()=>l,ALIGN:()=>s});const t={none:"none",def:"default",tiny:"tiny",small:"small",medium:"medium",large:"large",headerXLarge:"header-x-large",animatedPlaceholder:"animatedPlaceholder"},l={left:"left",right:"right",down:"down",up:"up"},s={bottom:"bottom",center:"center",top:"top"}},47175:(e,a,n)=>{"use strict";n.r(a),n.d(a,{default:()=>u});var t=n(34760),l=n.n(t);function s(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),n.push.apply(n,t)}return n}function r(e){for(var a=1;a<arguments.length;a++){var n=null!=arguments[a]?arguments[a]:{};a%2?s(Object(n),!0).forEach((function(a){i(e,a,n[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))}))}return e}function i(e,a,n){return a in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}let o;const c=function(){const e=[];return{activateTrap:function(a){if(e.length>0){const n=e[e.length-1];n!==a&&n.pause()}const n=e.indexOf(a);-1===n||e.splice(n,1),e.push(a)},deactivateTrap:function(a){const n=e.indexOf(a);-1!==n&&e.splice(n,1),e.length>0&&e[e.length-1].unpause()}}}();function d(e){return setTimeout(e,0)}const u=function(e,a){var n,t,s;const i=document,u="string"==typeof e?i.querySelector(e):e,m=r(r({},a),{},{returnFocusOnDeactivate:null==(n=a.returnFocusOnDeactivate)||n,escapeDeactivates:null==(t=a.escapeDeactivates)||t,autoFocusFirstTabbable:null==(s=a.autoFocusFirstTabbable)||s}),g={firstTabbableNode:null,lastTabbableNode:null,nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1},p={activate:function(e){if(g.active)return;T(),g.active=!0,g.paused=!1,g.nodeFocusedBeforeActivation=i.activeElement;const a=e&&e.onActivate?e.onActivate:m.onActivate;a&&a();return h(),p},deactivate:f,pause:function(){if(g.paused||!g.active)return;g.paused=!0,y()},unpause:function(){if(!g.paused||!g.active)return;g.paused=!1,T(),h()}};return p;function f(e){if(!g.active)return;clearTimeout(o),y(),g.active=!1,g.paused=!1,c.deactivateTrap(p);const a=e&&void 0!==e.onDeactivate?e.onDeactivate:m.onDeactivate;a&&a();return(e&&void 0!==e.returnFocus?e.returnFocus:m.returnFocusOnDeactivate)&&d((function(){F(function(e){const a=k("setReturnFocus");return a||e}(g.nodeFocusedBeforeActivation))})),p}function h(){if(g.active)return c.activateTrap(p),o=d((function(){F(b())})),i.addEventListener("focusin",S,!0),i.addEventListener("mousedown",v,{capture:!0,passive:!1}),i.addEventListener("touchstart",v,{capture:!0,passive:!1}),i.addEventListener("click",C,{capture:!0,passive:!1}),i.addEventListener("keydown",L,{capture:!0,passive:!1}),p}function y(){if(g.active)return i.removeEventListener("focusin",S,!0),i.removeEventListener("mousedown",v,!0),i.removeEventListener("touchstart",v,!0),i.removeEventListener("click",C,!0),i.removeEventListener("keydown",L,!0),p}function k(e){const a=m[e];if(a instanceof Element)return a;if("string"==typeof a){const n=i.querySelector(a);if(!n)throw new Error("`"+e+"` refers to no known node");return n}if("function"==typeof a){const n=a();if(!n)throw new Error("`"+e+"` did not return a node");return n}return null}function b(){let e;if(e=null!==k("initialFocus")?k("initialFocus"):null!=u&&u.contains(i.activeElement)?i.activeElement:(m.autoFocusFirstTabbable?g.firstTabbableNode:null)||k("fallbackFocus"),!e)throw new Error("Your focus-trap needs to have at least one focusable element");return e}function v(e){e.target instanceof Node&&null!=u&&u.contains(e.target)||(m.clickOutsideDeactivates?f({returnFocus:!(e.target instanceof HTMLElement&&l().isFocusable(e.target))}):m.allowOutsideClick&&e instanceof MouseEvent&&m.allowOutsideClick(e)||e.preventDefault())}function S(e){e.target instanceof Node&&null!=u&&u.contains(e.target)||e.target instanceof Document||(e.stopImmediatePropagation(),F(g.mostRecentlyFocusedNode||b()))}function L(e){if(!1!==m.escapeDeactivates&&function(e){return"Escape"===e.key||"Esc"===e.key||27===e.keyCode}(e))return e.preventDefault(),void f();(function(e){return"Tab"===e.key||9===e.keyCode})(e)&&function(e){if(T(),e.shiftKey&&e.target===g.firstTabbableNode)return e.preventDefault(),void F(g.lastTabbableNode);if(!e.shiftKey&&e.target===g.lastTabbableNode)e.preventDefault(),F(g.firstTabbableNode)}(e)}function C(e){m.clickOutsideDeactivates||e.target instanceof Node&&null!=u&&u.contains(e.target)||m.allowOutsideClick&&m.allowOutsideClick(e)||(e.preventDefault(),e.stopImmediatePropagation())}function T(){const e=l()(u);g.firstTabbableNode=e[0]||b(),g.lastTabbableNode=e[e.length-1]||b()}function F(e){e!==i.activeElement&&(e&&e instanceof HTMLElement&&e.focus?(e.focus(),g.mostRecentlyFocusedNode=e,function(e){return e instanceof HTMLInputElement}(e)&&e.select()):F(b()))}}},48792:(e,a,n)=>{"use strict";n.r(a),n.d(a,{useFocusTrap:()=>r});var t=n(95313),l=n(47175);const s={active:!0,paused:!1,options:{}},r=(e=s)=>{const{active:a=!0,paused:n=!1,options:r={}}=e,i=(0,t.useRef)(null),o=(0,t.useRef)(a),c=(0,t.useRef)(n),d=(0,t.useRef)(null),u=(0,t.useMemo)((()=>({onActivate:r.onActivate,onDeactivate:r.onDeactivate,initialFocus:r.initialFocus,fallbackFocus:r.fallbackFocus,returnFocusOnDeactivate:r.returnFocusOnDeactivate,setReturnFocus:r.setReturnFocus,escapeDeactivates:r.escapeDeactivates,clickOutsideDeactivates:r.clickOutsideDeactivates,allowOutsideClick:r.allowOutsideClick,autoFocusFirstTabbable:r.autoFocusFirstTabbable})),[r.onActivate,r.onDeactivate,r.initialFocus,r.fallbackFocus,r.returnFocusOnDeactivate,r.setReturnFocus,r.escapeDeactivates,r.clickOutsideDeactivates,r.allowOutsideClick,r.autoFocusFirstTabbable]);return(0,t.useEffect)((()=>(d.current&&!i.current&&(i.current=(0,l.default)(d.current,u),i.current&&(o.current&&i.current.activate(),i.current[c.current?"pause":"unpause"]())),()=>{i.current&&(i.current.deactivate(),i.current=null)})),[d,u]),(0,t.useEffect)((()=>{if(i.current&&d.current){if(o.current!==a)if(a)i.current.activate();else{const e={returnFocus:u.returnFocusOnDeactivate||!1};i.current.deactivate(e)}c.current!==n&&i.current[n?"pause":"unpause"]()}o.current=a,c.current=n}),[a,n,u,d]),d}},43212:(e,a,n)=>{"use strict";n.r(a),n.d(a,{ErrorMessage:()=>c});var t=n(95313),l=n(94184),s=n.n(l),r=n(69907),i=n(92639);const o=(e,a,n)=>e&&"object"==typeof e&&e.hasOwnProperty("__html")?(0,i.jsx)("div",{"data-tn":a,className:n,dangerouslySetInnerHTML:e}):(0,i.jsx)("div",{"data-tn":a,className:n,children:e}),c=({alignRight:e,dataTn:a,message:n,showErrorAsNote:l=!1})=>{const c=s()(r.default.errorMessage,{[r.default.errorMessageRight]:e,[r.default.showErrorAsNote]:l}),[d,u]=(0,t.useState)(!!n||l),[m,g]=(0,t.useState)(o(n,a,c)),[p,f]=(0,t.useState)(!1);return(0,t.useEffect)((()=>{d&&!n?(f(!1),setTimeout((()=>{u(!1),g(n)}),150)):(!d&&n||d&&n)&&(u(!0),f(!0),g(o(n,a,c)))}),[d,n,a,c]),d?(0,i.jsx)("div",{className:s()(r.default.errorMessageTransition,{[r.default.activeErrorMessageTransition]:p}),children:m}):null}},15995:(e,a,n)=>{"use strict";n.r(a),n.d(a,{Input:()=>v});var t=n(95313),l=n(94184),s=n.n(l),r=n(21294),i=n(43791),o=n(64327),c=n(52171),d=n(43212),u=n(38323),m=n(66736),g=n(31259),p=n(4322),f=n(65188),h=n(99899),y=n(66041),k=n(92639);function b(e,a,n){return a in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}class v extends t.Component{constructor(e){super(e),b(this,"onBlur",(e=>{const{onBlur:a}=this.props;this.setState({isFocused:!1}),a&&a(e)})),b(this,"onFocus",(