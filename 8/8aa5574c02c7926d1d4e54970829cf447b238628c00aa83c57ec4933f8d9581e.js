var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.createTemplateTagFirstArg=function(a){return a.raw=a};$jscomp.createTemplateTagFirstArgWithRaw=function(a,b){a.raw=b;return a};$jscomp.arrayIteratorImpl=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.makeIterator=function(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};
$jscomp.arrayFromIterator=function(a){for(var b,d=[];!(b=a.next()).done;)d.push(b.value);return d};$jscomp.arrayFromIterable=function(a){return a instanceof Array?a:$jscomp.arrayFromIterator($jscomp.makeIterator(a))};$jscomp.getGlobal=function(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var d=a[b];if(d&&d.Math==Math)return d}throw Error("Cannot find global object");};
$jscomp.global=$jscomp.getGlobal(this);$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,d){if(a==Array.prototype||a==Object.prototype)return a;a[b]=d.value;return a};$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");
$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(a,b){var d=$jscomp.propertyToPolyfillSymbol[b];if(null==d)return a[b];d=a[d];return void 0!==d?d:a[b]};$jscomp.polyfill=function(a,b,d,g){b&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(a,b,d,g):$jscomp.polyfillUnisolated(a,b,d,g))};
$jscomp.polyfillUnisolated=function(a,b,d,g){d=$jscomp.global;a=a.split(".");for(g=0;g<a.length-1;g++){var m=a[g];if(!(m in d))return;d=d[m]}a=a[a.length-1];g=d[a];b=b(g);b!=g&&null!=b&&$jscomp.defineProperty(d,a,{configurable:!0,writable:!0,value:b})};
$jscomp.polyfillIsolated=function(a,b,d,g){var m=a.split(".");a=1===m.length;g=m[0];g=!a&&g in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var q=0;q<m.length-1;q++){var h=m[q];if(!(h in g))return;g=g[h]}m=m[m.length-1];d=$jscomp.IS_SYMBOL_NATIVE&&"es6"===d?g[m]:null;b=b(d);null!=b&&(a?$jscomp.defineProperty($jscomp.polyfills,m,{configurable:!0,writable:!0,value:b}):b!==d&&($jscomp.propertyToPolyfillSymbol[m]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(m):$jscomp.POLYFILL_PREFIX+m,m=
$jscomp.propertyToPolyfillSymbol[m],$jscomp.defineProperty(g,m,{configurable:!0,writable:!0,value:b})))};$jscomp.polyfill("Array.from",function(a){return a?a:function(b,d,g){d=null!=d?d:function(n){return n};var m=[],q="undefined"!=typeof Symbol&&Symbol.iterator&&b[Symbol.iterator];if("function"==typeof q){b=q.call(b);for(var h=0;!(q=b.next()).done;)m.push(d.call(g,q.value,h++))}else for(q=b.length,h=0;h<q;h++)m.push(d.call(g,b[h],h));return m}},"es6","es3");$jscomp.initSymbol=function(){};
$jscomp.polyfill("Symbol",function(a){if(a)return a;var b=function(m,q){this.$jscomp$symbol$id_=m;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:q})};b.prototype.toString=function(){return this.$jscomp$symbol$id_};var d=0,g=function(m){if(this instanceof g)throw new TypeError("Symbol is not a constructor");return new b("jscomp_symbol_"+(m||"")+"_"+d++,m)};return g},"es6","es3");$jscomp.initSymbolIterator=function(){};
$jscomp.polyfill("Symbol.iterator",function(a){if(a)return a;a=Symbol("Symbol.iterator");for(var b="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),d=0;d<b.length;d++){var g=$jscomp.global[b[d]];"function"===typeof g&&"function"!=typeof g.prototype[a]&&$jscomp.defineProperty(g.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return a},"es6",
"es3");$jscomp.initSymbolAsyncIterator=function(){};$jscomp.iteratorPrototype=function(a){a={next:a};a[Symbol.iterator]=function(){return this};return a};$jscomp.iteratorFromArray=function(a,b){a instanceof String&&(a+="");var d=0,g=!1,m={next:function(){if(!g&&d<a.length){var q=d++;return{value:b(q,a[q]),done:!1}}g=!0;return{done:!0,value:void 0}}};m[Symbol.iterator]=function(){return m};return m};
$jscomp.polyfill("Array.prototype.keys",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(b){return b})}},"es6","es3");$jscomp.owns=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};$jscomp.polyfill("Object.entries",function(a){return a?a:function(b){var d=[],g;for(g in b)$jscomp.owns(b,g)&&d.push([g,b[g]]);return d}},"es8","es3");
$jscomp.checkStringArgs=function(a,b,d){if(null==a)throw new TypeError("The 'this' value for String.prototype."+d+" must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype."+d+" must not be a regular expression");return a+""};
$jscomp.polyfill("String.prototype.startsWith",function(a){return a?a:function(b,d){var g=$jscomp.checkStringArgs(this,b,"startsWith");b+="";var m=g.length,q=b.length;d=Math.max(0,Math.min(d|0,g.length));for(var h=0;h<q&&d<m;)if(g[d++]!=b[h++])return!1;return h>=q}},"es6","es3");
$jscomp.polyfill("Array.prototype.fill",function(a){return a?a:function(b,d,g){var m=this.length||0;0>d&&(d=Math.max(0,m+d));if(null==g||g>m)g=m;g=Number(g);0>g&&(g=Math.max(0,m+g));for(d=Number(d||0);d<g;d++)this[d]=b;return this}},"es6","es3");$jscomp.typedArrayFill=function(){};$jscomp.polyfill("Int8Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Uint8Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");
$jscomp.polyfill("Uint8ClampedArray.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Int16Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Uint16Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Int32Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Uint32Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Float32Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");
$jscomp.polyfill("Float64Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.assign=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.assign?Object.assign:function(a,b){for(var d=1;d<arguments.length;d++){var g=arguments[d];if(g)for(var m in g)$jscomp.owns(g,m)&&(a[m]=g[m])}return a};$jscomp.polyfill("Object.assign",function(a){return a||$jscomp.assign},"es6","es3");
$jscomp.polyfill("Object.is",function(a){return a?a:function(b,d){return b===d?0!==b||1/b===1/d:b!==b&&d!==d}},"es6","es3");$jscomp.polyfill("Array.prototype.includes",function(a){return a?a:function(b,d){var g=this;g instanceof String&&(g=String(g));var m=g.length;d=d||0;for(0>d&&(d=Math.max(d+m,0));d<m;d++){var q=g[d];if(q===b||Object.is(q,b))return!0}return!1}},"es7","es3");
$jscomp.polyfill("String.prototype.includes",function(a){return a?a:function(b,d){return-1!==$jscomp.checkStringArgs(this,b,"includes").indexOf(b,d||0)}},"es6","es3");
$jscomp.polyfill("Promise",function(a){function b(){this.batch_=null}function d(h){return h instanceof m?h:new m(function(n,t){n(h)})}if(a&&!$jscomp.FORCE_POLYFILL_PROMISE)return a;b.prototype.asyncExecute=function(h){if(null==this.batch_){this.batch_=[];var n=this;this.asyncExecuteFunction(function(){n.executeBatch_()})}this.batch_.push(h)};var g=$jscomp.global.setTimeout;b.prototype.asyncExecuteFunction=function(h){g(h,0)};b.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var h=
this.batch_;this.batch_=[];for(var n=0;n<h.length;++n){var t=h[n];h[n]=null;try{t()}catch(p){this.asyncThrow_(p)}}}this.batch_=null};b.prototype.asyncThrow_=function(h){this.asyncExecuteFunction(function(){throw h;})};var m=function(h){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];this.isRejectionHandled_=!1;var n=this.createResolveAndReject_();try{h(n.resolve,n.reject)}catch(t){n.reject(t)}};m.prototype.createResolveAndReject_=function(){function h(p){return function(v){t||(t=!0,
p.call(n,v))}}var n=this,t=!1;return{resolve:h(this.resolveTo_),reject:h(this.reject_)}};m.prototype.resolveTo_=function(h){if(h===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(h instanceof m)this.settleSameAsPromise_(h);else{a:switch(typeof h){case "object":var n=null!=h;break a;case "function":n=!0;break a;default:n=!1}n?this.resolveToNonPromiseObj_(h):this.fulfill_(h)}};m.prototype.resolveToNonPromiseObj_=function(h){var n=void 0;try{n=h.then}catch(t){this.reject_(t);
return}"function"==typeof n?this.settleSameAsThenable_(n,h):this.fulfill_(h)};m.prototype.reject_=function(h){this.settle_(2,h)};m.prototype.fulfill_=function(h){this.settle_(1,h)};m.prototype.settle_=function(h,n){if(0!=this.state_)throw Error("Cannot settle("+h+", "+n+"): Promise already settled in state"+this.state_);this.state_=h;this.result_=n;2===this.state_&&this.scheduleUnhandledRejectionCheck_();this.executeOnSettledCallbacks_()};m.prototype.scheduleUnhandledRejectionCheck_=function(){var h=
this;g(function(){if(h.notifyUnhandledRejection_()){var n=$jscomp.global.console;"undefined"!==typeof n&&n.error(h.result_)}},1)};m.prototype.notifyUnhandledRejection_=function(){if(this.isRejectionHandled_)return!1;var h=$jscomp.global.CustomEvent,n=$jscomp.global.Event,t=$jscomp.global.dispatchEvent;if("undefined"===typeof t)return!0;"function"===typeof h?h=new h("unhandledrejection",{cancelable:!0}):"function"===typeof n?h=new n("unhandledrejection",{cancelable:!0}):(h=$jscomp.global.document.createEvent("CustomEvent"),
h.initCustomEvent("unhandledrejection",!1,!0,h));h.promise=this;h.reason=this.result_;return t(h)};m.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var h=0;h<this.onSettledCallbacks_.length;++h)q.asyncExecute(this.onSettledCallbacks_[h]);this.onSettledCallbacks_=null}};var q=new b;m.prototype.settleSameAsPromise_=function(h){var n=this.createResolveAndReject_();h.callWhenSettled_(n.resolve,n.reject)};m.prototype.settleSameAsThenable_=function(h,n){var t=this.createResolveAndReject_();
try{h.call(n,t.resolve,t.reject)}catch(p){t.reject(p)}};m.prototype.then=function(h,n){function t(F,N){return"function"==typeof F?function(K){try{p(F(K))}catch(J){v(J)}}:N}var p,v,E=new m(function(F,N){p=F;v=N});this.callWhenSettled_(t(h,p),t(n,v));return E};m.prototype.catch=function(h){return this.then(void 0,h)};m.prototype.callWhenSettled_=function(h,n){function t(){switch(p.state_){case 1:h(p.result_);break;case 2:n(p.result_);break;default:throw Error("Unexpected state: "+p.state_);}}var p=
this;null==this.onSettledCallbacks_?q.asyncExecute(t):this.onSettledCallbacks_.push(t);this.isRejectionHandled_=!0};m.resolve=d;m.reject=function(h){return new m(function(n,t){t(h)})};m.race=function(h){return new m(function(n,t){for(var p=$jscomp.makeIterator(h),v=p.next();!v.done;v=p.next())d(v.value).callWhenSettled_(n,t)})};m.all=function(h){var n=$jscomp.makeIterator(h),t=n.next();return t.done?d([]):new m(function(p,v){function E(K){return function(J){F[K]=J;N--;0==N&&p(F)}}var F=[],N=0;do F.push(void 0),
N++,d(t.value).callWhenSettled_(E(F.length-1),v),t=n.next();while(!t.done)})};return m},"es6","es3");$jscomp.polyfill("Promise.prototype.finally",function(a){return a?a:function(b){return this.then(function(d){return Promise.resolve(b()).then(function(){return d})},function(d){return Promise.resolve(b()).then(function(){throw d;})})}},"es9","es3");
$jscomp.findInternal=function(a,b,d){a instanceof String&&(a=String(a));for(var g=a.length,m=0;m<g;m++){var q=a[m];if(b.call(d,q,m,a))return{i:m,v:q}}return{i:-1,v:void 0}};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(b,d){return $jscomp.findInternal(this,b,d).v}},"es6","es3");$jscomp.polyfill("Array.prototype.values",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(b,d){return d})}},"es8","es3");
$jscomp.polyfill("Array.prototype.findIndex",function(a){return a?a:function(b,d){return $jscomp.findInternal(this,b,d).i}},"es6","es3");$jscomp.checkEs6ConformanceViaProxy=function(){try{var a={},b=Object.create(new $jscomp.global.Proxy(a,{get:function(d,g,m){return d==a&&"q"==g&&m==b}}));return!0===b.q}catch(d){return!1}};$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS=!1;$jscomp.ES6_CONFORMANCE=$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS&&$jscomp.checkEs6ConformanceViaProxy();
$jscomp.polyfill("WeakMap",function(a){function b(){if(!a||!Object.seal)return!1;try{var p=Object.seal({}),v=Object.seal({}),E=new a([[p,2],[v,3]]);if(2!=E.get(p)||3!=E.get(v))return!1;E.delete(p);E.set(v,4);return!E.has(p)&&4==E.get(v)}catch(F){return!1}}function d(){}function g(p){var v=typeof p;return"object"===v&&null!==p||"function"===v}function m(p){if(!$jscomp.owns(p,h)){var v=new d;$jscomp.defineProperty(p,h,{value:v})}}function q(p){if(!$jscomp.ISOLATE_POLYFILLS){var v=Object[p];v&&(Object[p]=
function(E){if(E instanceof d)return E;Object.isExtensible(E)&&m(E);return v(E)})}}if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(a&&$jscomp.ES6_CONFORMANCE)return a}else if(b())return a;var h="$jscomp_hidden_"+Math.random();q("freeze");q("preventExtensions");q("seal");var n=0,t=function(p){this.id_=(n+=Math.random()+1).toString();if(p){p=$jscomp.makeIterator(p);for(var v;!(v=p.next()).done;)v=v.value,this.set(v[0],v[1])}};t.prototype.set=function(p,v){if(!g(p))throw Error("Invalid WeakMap key");
m(p);if(!$jscomp.owns(p,h))throw Error("WeakMap key fail: "+p);p[h][this.id_]=v;return this};t.prototype.get=function(p){return g(p)&&$jscomp.owns(p,h)?p[h][this.id_]:void 0};t.prototype.has=function(p){return g(p)&&$jscomp.owns(p,h)&&$jscomp.owns(p[h],this.id_)};t.prototype.delete=function(p){return g(p)&&$jscomp.owns(p,h)&&$jscomp.owns(p[h],this.id_)?delete p[h][this.id_]:!1};return t},"es6","es3");$jscomp.MapEntry=function(){};
$jscomp.polyfill("Map",function(a){function b(){if($jscomp.ASSUME_NO_NATIVE_MAP||!a||"function"!=typeof a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var t=Object.seal({x:4}),p=new a($jscomp.makeIterator([[t,"s"]]));if("s"!=p.get(t)||1!=p.size||p.get({x:4})||p.set({x:4},"t")!=p||2!=p.size)return!1;var v=p.entries(),E=v.next();if(E.done||E.value[0]!=t||"s"!=E.value[1])return!1;E=v.next();return E.done||4!=E.value[0].x||"t"!=E.value[1]||!v.next().done?!1:!0}catch(F){return!1}}
if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(a&&$jscomp.ES6_CONFORMANCE)return a}else if(b())return a;var d=new WeakMap,g=function(t){this.data_={};this.head_=h();this.size=0;if(t){t=$jscomp.makeIterator(t);for(var p;!(p=t.next()).done;)p=p.value,this.set(p[0],p[1])}};g.prototype.set=function(t,p){t=0===t?0:t;var v=m(this,t);v.list||(v.list=this.data_[v.id]=[]);v.entry?v.entry.value=p:(v.entry={next:this.head_,previous:this.head_.previous,head:this.head_,key:t,value:p},v.list.push(v.entry),
this.head_.previous.next=v.entry,this.head_.previous=v.entry,this.size++);return this};g.prototype.delete=function(t){t=m(this,t);return t.entry&&t.list?(t.list.splice(t.index,1),t.list.length||delete this.data_[t.id],t.entry.previous.next=t.entry.next,t.entry.next.previous=t.entry.previous,t.entry.head=null,this.size--,!0):!1};g.prototype.clear=function(){this.data_={};this.head_=this.head_.previous=h();this.size=0};g.prototype.has=function(t){return!!m(this,t).entry};g.prototype.get=function(t){return(t=
m(this,t).entry)&&t.value};g.prototype.entries=function(){return q(this,function(t){return[t.key,t.value]})};g.prototype.keys=function(){return q(this,function(t){return t.key})};g.prototype.values=function(){return q(this,function(t){return t.value})};g.prototype.forEach=function(t,p){for(var v=this.entries(),E;!(E=v.next()).done;)E=E.value,t.call(p,E[1],E[0],this)};g.prototype[Symbol.iterator]=g.prototype.entries;var m=function(t,p){var v=p&&typeof p;"object"==v||"function"==v?d.has(p)?v=d.get(p):
(v=""+ ++n,d.set(p,v)):v="p_"+p;var E=t.data_[v];if(E&&$jscomp.owns(t.data_,v))for(t=0;t<E.length;t++){var F=E[t];if(p!==p&&F.key!==F.key||p===F.key)return{id:v,list:E,index:t,entry:F}}return{id:v,list:E,index:-1,entry:void 0}},q=function(t,p){var v=t.head_;return $jscomp.iteratorPrototype(function(){if(v){for(;v.head!=t.head_;)v=v.previous;for(;v.next!=v.head;)return v=v.next,{done:!1,value:p(v)};v=null}return{done:!0,value:void 0}})},h=function(){var t={};return t.previous=t.next=t.head=t},n=0;
return g},"es6","es3");
$jscomp.polyfill("Set",function(a){function b(){if($jscomp.ASSUME_NO_NATIVE_SET||!a||"function"!=typeof a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var g=Object.seal({x:4}),m=new a($jscomp.makeIterator([g]));if(!m.has(g)||1!=m.size||m.add(g)!=m||1!=m.size||m.add({x:4})!=m||2!=m.size)return!1;var q=m.entries(),h=q.next();if(h.done||h.value[0]!=g||h.value[1]!=g)return!1;h=q.next();return h.done||h.value[0]==g||4!=h.value[0].x||h.value[1]!=h.value[0]?!1:q.next().done}catch(n){return!1}}
if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(a&&$jscomp.ES6_CONFORMANCE)return a}else if(b())return a;var d=function(g){this.map_=new Map;if(g){g=$jscomp.makeIterator(g);for(var m;!(m=g.next()).done;)this.add(m.value)}this.size=this.map_.size};d.prototype.add=function(g){g=0===g?0:g;this.map_.set(g,g);this.size=this.map_.size;return this};d.prototype.delete=function(g){g=this.map_.delete(g);this.size=this.map_.size;return g};d.prototype.clear=function(){this.map_.clear();this.size=0};d.prototype.has=
function(g){return this.map_.has(g)};d.prototype.entries=function(){return this.map_.entries()};d.prototype.values=function(){return this.map_.values()};d.prototype.keys=d.prototype.values;d.prototype[Symbol.iterator]=d.prototype.values;d.prototype.forEach=function(g,m){var q=this;this.map_.forEach(function(h){return g.call(m,h,h,q)})};return d},"es6","es3");$jscomp.polyfill("Object.values",function(a){return a?a:function(b){var d=[],g;for(g in b)$jscomp.owns(b,g)&&d.push(b[g]);return d}},"es8","es3");
$jscomp.polyfill("String.prototype.repeat",function(a){return a?a:function(b){var d=$jscomp.checkStringArgs(this,null,"repeat");if(0>b||1342177279<b)throw new RangeError("Invalid count value");b|=0;for(var g="";b;)if(b&1&&(g+=d),b>>>=1)d+=d;return g}},"es6","es3");$jscomp.stringPadding=function(){};
$jscomp.polyfill("String.prototype.padStart",function(a){return a?a:function(b,d){var g=$jscomp.checkStringArgs(this,null,"padStart");return $jscomp.stringPadding(d,b-g.length)+g}},"es8","es3");
var localStorageSupported=!1,localStorageIsPolyFill=!1,storagePolyFillHasDataCallback=null,progressBar,storage,isOpera=!!window.opr&&!!opr.addons||!!window.opera||0<=navigator.userAgent.indexOf(" OPR/"),isFirefox="undefined"!==typeof InstallTrigger,isSafari=!!navigator.userAgent.match(/Version\/[\d\.]+.*Safari/),isIE=!!document.documentMode,isEdge=!isIE&&!!window.StyleMedia,isChrome=!!window.chrome&&!!window.chrome.webstore,isBlink=(isChrome||isOpera)&&!!window.CSS,isTest=/test\.keepa/.test(location.href)||
/keepa.com\/test/.test(location.href)||/localhost:63342/.test(location.href),isIframe=-1!==window.location.href.indexOf("keepa.com/iframe_addon")||-1!==window.location.href.indexOf("keepa.com/test/iframe_addon")||-1!==window.location.href.indexOf("keepa.com/keepaBox")||-1!==window.location.href.indexOf("localhost:63342/web/iframe_addon_local");keepaApp&&(isIframe=!0);
var storagePolyFillHasData=!1,waitForExtensionStorage=!1,polyFillLocalStorage=function(){localStorageIsPolyFill=!0;var a={},b=function(){};b.prototype.getItem=function(g){g=String(g);return a.hasOwnProperty(g)?String(a[g]):null};b.prototype.setItem=function(g,m){a[String(g)]=String(m)};b.prototype.removeItem=function(g){delete a[String(g)]};b.prototype.clear=function(){a={}};b.prototype.key=function(g){if(0===arguments.length)throw new TypeError("Failed to execute 'key' on 'Storage': 1 argument required, but only 0 present.");
return Array.from(Object.keys(a))[g]};b.prototype.forEach=function(g){Object.entries(obj).forEach(function(m){var q=$jscomp.makeIterator(m);m=q.next().value;q=q.next().value;g(m,q)})};b.prototype.toJSON=function(g){return JSON.stringify(a)};$jscomp.global.Object.defineProperties(b.prototype,{length:{configurable:!0,enumerable:!0,get:function(){return Object.keys(a).length}}});var d=new b;storage=d;storage=new Proxy(d,{set:function(g,m,q){b.prototype.hasOwnProperty(m)?d[m]=q:d.setItem(m,q);return!0},
get:function(g,m){if(b.prototype.hasOwnProperty(m))return d[m];if(a.hasOwnProperty(m))return d.getItem(m)},has:function(g,m){return a.hasOwnProperty(m)}})},deferredStorage={};function sendReceive(a){var b=$.Deferred(),d=Date.now()+Math.floor(1E4*Math.random());"ping"==a.key?deferredStorage.pong=b:deferredStorage[d]=b;window.parent.postMessage({key:a.key,value:a.value,id:d,origin:"keepaIframe",location:""+document.location},"*");return b.promise()}var amznpopupwin=null;
function openPopup(a){var b=$.Deferred(),d="Popup"+Date.now()+Math.floor(1E4*Math.random());deferredStorage[d]=b;amznpopupwin=window.open(a,d,popupSettings);var g=setInterval(function(){amznpopupwin.closed&&(clearInterval(g),b.reject())},500);b.done(function(){clearInterval(g)});return b.promise()}
function initContentScriptListener(){window.addEventListener("message",function(a){if(a.data&&a.data.origin&&("keepaContentScript"==a.data.origin||"keepaBoxHost"==a.data.origin)){if("updateASIN"==a.data.key){if(lastSubUrl==a.data.value)return;lastSubUrl=a.data.value;loadProductIFrame()}var b=deferredStorage[a.data.id];delete deferredStorage[a.data.id];b||"ping"!=a.data.key&&"pong"!=a.data.key||(b=deferredStorage.pong,delete deferredStorage.pong);b&&b.resolve(a.data)}},!1)}
var currencyDomainId=0,calledOnReady=!1,getTokenFromExtension=function(a){sendReceive({key:"getToken"}).done(function(b){if(a||0==storage.accountType||"undefined"==typeof storage.accountType)storage.token=b.value.token,storagePolyFillHasData=!0;if(!calledOnReady)if(calledOnReady=!0,"undefined"==typeof onready){var d=-2;d=setInterval(function(){"undefined"!=typeof onready&&(clearInterval(d),onready(!1))},300)}else onready(!1)})};
try{initContentScriptListener();var l=localStorage.language,x="test_localstorage_available_"+Date.now();localStorage.setItem(x,x);var y=localStorage.getItem(x);localStorage.removeItem(x);for(var k in localStorage)0<k.indexOf("_localstorage_available_")&&localStorage.removeItem(x),k.startsWith("__$")&&localStorage.removeItem(x);if(x===y)localStorageSupported=!0,storage=window.localStorage;else throw Error("localStorage not supported / accessible.");currencyDomainId=isNaN(Number(storage.currencyDomainId))?
0:Number(storage.currencyDomainId);waitForExtensionStorage=!0;getTokenFromExtension(!1);setTimeout(function(){if(!calledOnReady)if("undefined"==typeof onready){var a=-2;a=setInterval(function(){"undefined"!=typeof onready&&(clearInterval(a),calledOnReady||(calledOnReady=!0,onready(!1)))},300)}else calledOnReady=!0,onready(!1)},300)}catch(a){if(isIframe||keepaApp)localStorageSupported=!0,polyFillLocalStorage(!0),console.log("isolated context",localStorageIsPolyFill),localStorageIsPolyFill&&!keepaApp&&
(waitForExtensionStorage=!0,getTokenFromExtension(!0),setTimeout(function(){calledOnReady||(calledOnReady=!0,onready(!1))},3E3));else try{localStorage.clear(),serviceWorker.unregister(),indexedDB.deleteDatabase("keepa"),showPopup("Browser mode unsupported",'Your web browser does not support storing settings locally (all cookies blocked).<br>In Safari, the most common cause of this is using "Private Browsing Mode". Some settings may not save or some features may not work properly for you.',!0)}catch(b){console.error(b)}setTimeout(function(){console.log(a+
" "+navigator.userAgent+" isIframe: "+isIframe)},0)}
var hasDataAccessSubscription=!1,activeWebSocketRequests=0,network=function(){function a(){try{localforage.dropInstance({name:"keepa"}).then(function(){})}catch(B){}xa=xa||cw({pakoType:{to:"string"},initDatabase:function(B,M){importScripts("https://cdn.keepa.com/localforage.min.1.6.0.js");importScripts("https://cdn.keepa.com/helper4.js");(asyncSupported=localforage.supports(localforage.INDEXEDDB))?(Y=localforage.createInstance({driver:localforage.INDEXEDDB,name:"keepaCache",version:1,size:838860800,
storeName:"cache",description:"Caches network data"}),databaseMeta=localforage.createInstance({driver:localforage.INDEXEDDB,name:"keepaCache",version:1,size:838860800,storeName:"cacheMeta",description:"Caches Cache metadata"}),Y.getItem("test").then(databaseMeta.getItem("test")).then(function(){M(!0)}).catch(function(r){asyncSupported=!1;M(!1)})):M(!1)},clearDatabase:function(){Y.clear();databaseMeta.clear()},keepaTime:{now:function(){return Math.floor(Date.now()/6E4-21564E3)},minutesToEpoch:function(B){return 6E4*
(B+21564E3)},epochToMinutes:function(B){return Math.round(B/6E4)-21564E3},timeShiftOffset:-(new Date).getTimezoneOffset()},removeOudatedCacheEntries:function(){if(asyncSupported)try{databaseMeta.getItem("lastClear").then(function(B){var M=Date.now();null==B&&(B=0);if(!(30>M-B)){databaseMeta.setItem("lastClear",M);var r=[];databaseMeta.iterate(function(z,w,I){"lastClear"!=w&&M-z.cached>z.ttl&&r.push(w)}).then(function(){if(0<r.length){console.log("Clearing cached items: ",r.length);for(var z in r)Y.removeItem(r[z]),
databaseMeta.removeItem(r[z])}}).catch(function(z){console.log("2: "+z.toString())})}}).catch(function(B){console.log("3: "+B.toString())})}catch(B){console.log(B)}},calculateStatistics:function(B){return B},read:function(B){try{B instanceof ArrayBuffer&&(B=pako.inflate(B,this.pakoType));var M=JSON.parse(B);return M&&"object"===typeof M&&null!==M?M:null}catch(r){return console.error("4: "+r.toString()),null}},addProduct:function(B){try{var M=B.pr,r=null!=M.csv;if(!r||!M.csv[3]||2!==M.csv[3].length||
-2!==M.csv[3][1]){var z=M.domainId+M.asin+"h"+(r?"1":"0"),w=Date.now(),I=r?M.csv[15]:null,C=null==I||0==I.length?-1:I[I.length-2];r=!1;0<C&&12E4>w-this.keepaTime.minutesToEpoch(C)&&(r=!0);databaseMeta.setItem(z,{g:M.g,extra:r,cached:w,ttl:B.ttl,type:"pr"}).then(function(){Y.setItem(z,pako.deflate(JSON.stringify(M)))})}}catch(V){console.error("5: "+V.toString())}},getProduct:function(B,M,r){var z=this;try{var w=B.domainId+B.asin+"h"+(B.history?"1":"0");databaseMeta.getItem(w).then(function(I){null==
I?M(null):0<B.offerPages&&!I.extra?M(null):Y.getItem(w).then(function(C){M(null==C?null:{data:JSON.parse(pako.inflate(C,z.pakoType)),cached:I.cached})}).catch(function(C){M(null)})}).catch(function(I){M(null);console.log("7: "+e.toString())})}catch(I){M(null),console.error("8; "+I.toString())}},trackingKeyPrefix:"tr",addComTracking:function(B){try{var M=B.tr;if(M&&0!=M.length){var r=this.trackingKeyPrefix+M[0].asin,z=Date.now();databaseMeta.setItem(r,{cached:z,ttl:B.ttl,type:"tr"}).then(function(){Y.setItem(r,
pako.deflate(JSON.stringify(M)))})}}catch(w){console.error("5: "+w.toString())}},getComTracking:function(B,M,r){var z=this;try{var w=z.trackingKeyPrefix+B.asin;databaseMeta.getItem(w).then(function(I){null==I?M(null):Y.getItem(w).then(function(C){M(null==C?null:{data:JSON.parse(pako.inflate(C,z.pakoType)),cached:I.cached})}).catch(function(C){M(null)})}).catch(function(I){console.log("c7: "+I.toString());M(null)})}catch(I){console.error("c8: "+I.toString())}}},1,!0);xa.initDatabase().then(function(B){L=
B;console.log("cache supported: "+L)})}function b(B,M){h[0]||(h=$("#networkBar"),n=$("#networkOverlay"));2>f&&(M.l=document.location.host);M.id=Number(f++ +""+Math.floor(1E8*Math.random())%12345);M.version||(M.version=2);M.user||(M.user=localStorageSupported&&null!=storage.token&&"null"!=storage.token&&64==storage.token.length?storage.token:Guid.newGuid());if("undefined"==typeof pako)return fa.done(function(){d(M).done(B.resolve).fail(B.reject)}).fail(B.reject),B;0<M.id%2?++M.id:1;var r=pako.deflate(JSON.stringify(M));
if(0==activeWebSocketRequests&&"service/features"!=M.path)try{progressBar.open()}catch(w){}"service/features"!=M.path&&activeWebSocketRequests++;5<N.length&&N.shift();N.push({path:M.path,type:M.type,version:M.version});var z=null==F?!1:1==F.readyState;R()&&0<=serviceWorker.workerConnectionState()&&!z?(window.networkInitTimestamp=Date.now(),z=function(w){w.error||"abort"==w.data||"connectError"==w.data?(M.status=500,n.hide(),g(M)):"connectError"!=w.data&&("tokenError"==w.data?(window.forceNoSWConnection=
!1,m(),serviceWorker.updateTokenInSW(),setTimeout(function(){null==F||1!=F.readyState?va.push(r):F.send(r)},500)):(n.hide(),ma=2,g(w.data)))},0==ma&&(ma=1),serviceWorker.postMessage({command:"request",value:M},function(w){g(w)}).then(z).catch(z)):(iframe.parent&&(keepaApp&&(iframe.parent="Keepa_App"),M.keepaBoxParent=iframe.parent,delete iframe.parent),iframe.isIframe&&(M.keepaBoxReferrer=document.referrer),2!=ma&&(ma=1),null!=F&&1==F.readyState&&O?F.send(r):(va.push(r),m(!1)));z=$.Deferred();z.cachedData=
B.cachedData;z.cachedType=B.cachedType;oa[""+M.id]=z;z.promise().done(function(w){B.resolve(w)}).fail(function(w){"retry"!==w||M.isRetry?B.reject(w):(M.isRetry=!0,b(B,M))}).always(function(){"service/features"!=M.path&&(activeWebSocketRequests=Math.max(0,--activeWebSocketRequests));if(0==activeWebSocketRequests)try{progressBar.close()}catch(w){}})}function d(B){var M=$.Deferred();H.push({entry:B,promise:M});return M}function g(B){try{if(null!=B.tokenBucketSize&&(hasDataAccessSubscription=5E3<B.tokenBucketSize),
B.exchange&&(currencies=B.exchange),B.isAWS&&(isAWS=!0),B.forceLogout)logout(!0);else{null!=B.token&&localStorageSupported&&settings.setToken(B.token,!0);var M=oa[B.id];if(M){if(B.isHuman)isHuman=B.isHuman;else if(B.checkHuman){Q?Z.done(function(){M.reject("retry")}):(Q=!0,Z=$.Deferred(),isUserHuman(!1).done(function(ca){network.request({path:"isHuman",captcha:ca,version:3}).done(function(aa){Z.resolve();Q=!1;M.reject("retry")}).fail(showErrorPopup)}).fail(showErrorPopup));return}delete oa[B.id];
if(304==B.status)null!=M.cachedData?(B[M.cachedType]=M.cachedData,B[M.cachedType].lastUpdate=B.lastUpdate,M.resolve(B)):(M.reject(B),reportBug(null,"304 but cachedData empty. "+JSON.stringify(B)));else{if(B.products)for(var r=0;r<B.products.length;r++){var z=B.products[r];null!=z&&null!=z.csv&&3<z.csv.length&&null==z.csv[CsvType.SALES.index]&&(z.csv[CsvType.SALES.index]=[z.lastUpdate,-1]);if(null!=z.csv&&null!=z.csv[CsvType.SALES.index]&&0<z.csv[CsvType.SALES.index].length&&(2<z.csv[CsvType.SALES.index].length||
-1!=z.csv[CsvType.SALES.index][1])){splitRootSalesRank(z);if("undefined"==typeof z.salesRanks||null==z.salesRanks)z.salesRanks={};z.salesRanks[z.salesRankReference]=z.csv[CsvType.SALES.index]}}if(B.products&&null!=B.deals&&null!=B.deals.dr&&0<B.deals.dr.length)for(r=0;r<B.products.length;r++)B.products[r].deal=B.deals.dr[r];if(L&&(B.comTrackings&&xa.addComTracking({tr:B.comTrackings,ttl:864E5}),B.products))for(r=0;r<B.products.length;r++)xa.addProduct({pr:B.products[r],ttl:864E5});if(100==B.status){var w=
tryParseJSON(B.json);null!=w&&M.notify(w.p)}else if(402==B.status)$("body").html('<br><br>Unauthorized access detected. Please visit <a target="_blank" href="https://get.keepa.com">Keepa.com</a> to get our browser extension from a trusted source.'),setInterval(function(){$("body").html('<br><br>Unauthorized access detected. Please visit <a target="_blank" href="https://get.keepa.com">Keepa.com</a> to get our browser extension from a trusted source.')},500),M.reject(B);else if(429==B.status)M.reject(B);
else if(B.products)M.resolve(B);else if(3===B.version)B.offers&&(B.offers=tryParseJSON(B.offers)),M.resolve(B);else if(200==B.status){var I=tryParseJSON(B.json);null==I?M.reject(B):(B.timestamp&&!B.timeStamp&&(B.timeStamp=B.timestamp),I.timeStamp=B.timeStamp,"undefined"!=typeof I.exchange&&(currencies=I.exchange),M.resolve(I),ka=0)}else if(505==B.status)2===Number(storage.forceReload)?(n.show(),h.html("You are using an outdated version of Keepa. Please clear your cache and/or restart your browser. If you need any help, you can contact us at info@keepa.com."),
storage.removeItem("forceReload")):(document.location.reload(!0),storage.forceReload=2);else if(500==B.status||404==B.status)h.html(la._error+'&emsp;<span id="networkAbort" style="color:rgb(0, 0, 0); cursor:pointer">Close.</span>'),M.reject(B),$("#networkAbort").click(function(){G()});else{if((401==B.status||400==B.status)&&400==B.status){var C=tryParseJSON(B.errorMsg);null==C?M.reject({error:"invalidParameter",message:la._error,details:""}):C=C.invalidParameter;w=!1;try{if(null!=C)for(var V in C)"invalid"!=
C[V].message&&(w=!0)}catch(ca){reportBug(ca,JSON.stringify(B))}if(w){M.reject({error:"invalidParameter",message:la._error,details:C});return}n.show();h.html(la._error+'&emsp;<span id="networkAbort" style="color:rgb(0, 0, 0); cursor:pointer">Close.</span>');$("#networkAbort").click(function(){G()})}M.reject(B)}}}}}catch(ca){reportBug(ca),console.log(ca)}}function m(B){if(R()&&0<=serviceWorker.workerConnectionState())B&&serviceWorker.postMessage({command:"connect"},function(C){console.log("SW reconnect command received")}).then(function(){console.log("SW reconnected")}).catch(function(){console.log("reconnect fail")});
else if(null!=F&&B)U=!0,console.trace("webSocket.close"),F.close(4108,"reconnect");else{if(null==A||"pending"!=A.state())A=$.Deferred();var M=Date.now()-u;if(4E3>M)setTimeout(function(){m(B)},4E3-M);else{var r={to:"string"};if(null==F||1!=F.readyState&&0!=F.readyState){!localStorageSupported||null!=storage.token&&"null"!=storage.token&&64==storage.token.length||settings.setToken(Guid.newGuid(),!1);"undefined"!==typeof window.connection&&(window.connection.onmessage=function(C){window.preInitWS=window.preInitWS||
[];window.preInitWS.push(C)});var z=function(C){if(null==C)showErrorPopup();else if(null!=C.tokenBucketSize&&(hasDataAccessSubscription=5E3<C.tokenBucketSize),108==C.status){O=!0;window.networkInitTimestamp=Date.now();null!=A&&A.resolve();for(A=null;1==F.readyState&&0<va.length;)C=va.pop(),F.send(C);n.hide()}else 1==ma&&(ma=2),g(C)};M=function(C){C=C.data;xa?xa.read(C).then(function(V){z(V)}):(C instanceof ArrayBuffer&&(C=pako.inflate(C,r)),z(tryParseJSON(C)))};u=Date.now();F=null!=window.connection&&
1==window.connection.readyState?window.connection:new WebSocket("wss://"+K[J]+"/apps/cloud/?app=keepaWebsite&version=1.6");ma=0;F.binaryType="arraybuffer";F.onmessage=M;F.onclose=function(C){O=!1;ma=0;if(U)U=!1,m(!1);else if("blocked"==C.reason)n.show(),h.html("You are blocked from our services. Please contact us via info@keepa.com for resolution."),storage.updated1008="1";else{J++;J%=K.length;5<=ka&&(n.show(),h.html('Unable to connect to Keepa.com. <span id="networkAgain" style="color:rgb(255, 228, 192); cursor:pointer">Try again?</span>&emsp;<span id="networkAbort" style="color:rgb(0, 0, 0); cursor:pointer">Abort!</span>'),
$("#networkAgain").click(function(){h.text("Connecting...");m(!1)}),$("#networkAbort").click(function(){va=[];G()}));if(null==A||"RESOLVED"==A.state)A=$.Deferred();5>ka&&(ka++,setTimeout(function(){m(!1)},6E3*Math.random()*ka*ka))}};F.onerror=function(C){F.close()};F.onopen=function(C){};if(window.preInitWS)for(var w=$jscomp.makeIterator(window.preInitWS),I=w.next();!I.done;I=w.next())M(I.value);delete window.preInitWS}}}}function q(){P=$.Deferred();var B=setInterval(function(){1==Number($("#networkSeconds").text())&&
(P.resolve(),clearInterval(B));$("#networkSeconds").text(Number($("#networkSeconds").text())-1)},1E3);return P}var h=$("#networkBar"),n=$("#networkOverlay"),t=$.Deferred(),p=!1,v={},E=0,F=null,N=[];"undefined"==typeof window.server&&(window.server=["dyn.keepa.com"]);var K=window.server;"undefined"==typeof window.serverIndex&&(window.serverIndex=Math.floor(window.server.length*Math.random()));var J=(window.serverIndex+1)%K.length,U=!1;try{if("undefined"!=typeof storage.initFailed||isMobile)window.forceNoSWConnection=
!0}catch(B){}var R=function(){return window.forceNoSWConnection?!1:serviceWorker.checkSupport()&&null!=navigator.serviceWorker.controller};$("#loadingBar").html('\n        <div role="progressbar" class="mdc-linear-progress mdc-linear-progress--indeterminate">\n          <div class="mdc-linear-progress__bar mdc-linear-progress__primary-bar">\n            <span class="mdc-linear-progress__bar-inner"></span>\n          </div>\n          <div class="mdc-linear-progress__bar mdc-linear-progress__secondary-bar">\n            <span class="mdc-linear-progress__bar-inner"></span>\n          </div>\n        </div>');
var S=document.querySelector(".mdc-linear-progress");null!=S&&(progressBar=mdc.linearProgress.MDCLinearProgress.attachTo(S));try{if("undefined"==typeof pako){console.log("pako undefined");var fa=$.getScript("//cdn.keepa.com/helper4.js")}}catch(B){console.log(B),reportBug(B)}var qa=$.ajaxSettings.xhr,oa={},va=[],ka=0,ma=0,Y=null,xa=null,L=!1;if(!isTest)try{a(),setTimeout(function(){xa.removeOudatedCacheEntries()},3E4)}catch(B){console.error(B)}var f=1,H=async.queue(function(B,M){var r=B.entry,z=B.promise;
z.always(function(w){M()});B=!1;r.path&&r.path.startsWith("pro/")&&0==storage.accountType&&("pro/seller"==r.path?"undefined"!==typeof r.storefront&&(B=!0):B=!0);if(B)return z.reject("You are not authorized to use this feature. Please register or login first."),z;L&&r.path?-1<r.path.indexOf("product")&&!r.refreshProduct&&0!==r.maxAge&&null!=r.asin&&10==r.asin.length?xa.getProduct(r).then(function(w){try{if(null!=w&&w.data){var I=w.data;Date.now()-w.cached>6E4*r.maxAge?(r.g=I.g,z.cachedData=[I],z.cachedType=
"products",b(z,r)):z.resolve({products:[I]})}else b(z,r)}catch(C){console.error(C)}}):0==r.path.indexOf("tracking/community")&&0!=r.maxAge?xa.getComTracking(r).then(function(w){try{null==w||!w.data||Date.now()-w.cached>6E4*r.maxAge?b(z,r):z.resolve({comTrackings:w.data})}catch(I){console.error(I)}}):b(z,r):b(z,r);return z},isTest?300:100),Q=!1,Z=null,u=0,G=function(){n.hide();for(var B=0;B<oa.length;B++)oa[B].reject(null)};$.ajaxSetup({progress:function(B){try{var M=B.loaded,r=B.srcElement||B.currentTarget||
B.target;if(r&&-1!=r.responseURL.indexOf("https://dyn.keepa")){var z=Number(r.getResponseHeader("Content-Uncompressed-Length"));if(z&&!(1E5>z)&&M){B=M/z;try{progressBar.close(),progressBar.determinate=!0,progressBar.open()}catch(w){}progressBar.progress=B;1<=B&&(progressBar.close(),progressBar.determinate=!1)}}}catch(w){}},xhr:function(){try{var B=qa(),M=this;B&&"function"==typeof B.addEventListener&&B.addEventListener("progress",function(r){try{M.progress(r)}catch(z){}},!1);return B}catch(r){console.log(r)}return qa()}});
var A=null,O=!1,P;return{ajax:function(B,M){5<N.length&&N.shift();N.push(B);var r=$.Deferred(),z=1;h[0]||(h=$("#networkBar"),n=$("#networkOverlay"));var w,I=E,C=Date.now(),V=function(){if(0>C&&!M)r.reject("cancel"),console.info("request cancelled due to navigation.",B);else{p=!0;"jsonp"==B.dataType&&(w=setTimeout(ta,3E4));if(B.url&&-1==B.url.indexOf("http")||B.backUrl)B.backUrl=B.backUrl||B.url,B.url="https://dyn.keepa.com/v2/"+B.backUrl;var sa=$.ajax(B);sa.done(ca).fail(ta).always(function(){delete v[I];
p=!1;try{0<v.length||progressBar.close()}catch(ea){}t.resolve()});M||(v[E]=sa);E++}},ca=function(sa){clearTimeout(w);n.hide();"text"!=B.dataType&&sa&&sa.timestamp&&(sa.timeStamp=sa.timestamp);r.resolve(sa)},aa=function(sa){n.hide();r.reject(sa)},ta=function(sa,ea,W){try{if(-1==B.url.indexOf("://dyn")||-1<B.url.indexOf("isOnline")||-1<B.url.indexOf("app/stats")||-1<B.url.indexOf("bugreport")||"undefined"!=typeof isLoggerPage){-1==B.url.indexOf("://discuss.keepa")&&console.log("failure",B,"textStatus: "+
ea,W);r.reject(sa);return}}catch(Aa){}clearTimeout(w);if("abort"!=W)if(500==sa.status)J++,J%=K.length,h.html(sa.responseText+'&emsp;<span id="networkAbort" style="color:rgb(0, 0, 0); cursor:pointer">Close.</span>'),r.reject(sa,ea,W),$("#networkAbort").click(function(){aa(sa,ea,W)});else if(401==sa.status||400==sa.status||isIE&&0==sa.status){if(400==sa.status){var ya=tryParseJSON(sa.responseText);if(null==ya){r.reject(null);return}ya=ya.data;var Ba="",Ea=!1;if("invalidParameter"==ya.error){for(var ra in ya.details){var Ga=
ya.details[ra];"invalid"!=Ga.message&&(Ea=!0);Ba+="invalid parameter: "+Ga.type+" message: "+Ga.message+"<br>"}setTimeout(function(){reportBug(null,Ba)},250)}if(Ea){r.reject(ya);return}n.show();h.html(ya.message+'&emsp;<span id="networkAbort" style="color:rgb(0, 0, 0); cursor:pointer">Close.</span>');$("#networkAbort").click(function(){aa(sa,ea,W)})}r.reject(sa,ea,W)}else h.html('Connection timeout. Automatic retry in <span id="networkSeconds">'+2E3*z/1E3+"</span> seconds."),n.show(),403==sa.status?
(h.html(sa.responseText+'&emsp;<span id="networkAbort" style="color:rgb(0, 0, 0); cursor:pointer">Close.</span>'),r.reject(sa,ea,W),$("#networkAbort").click(function(){aa(sa,ea,W)})):404==sa.status?r.reject(sa,ea,W):3==z?(h.html('Unable to connect to Keepa.com. <span id="networkAgain" style="color:rgb(255, 228, 192); cursor:pointer">Try again?</span>&emsp;<span id="networkAbort" style="color:rgb(0, 0, 0); cursor:pointer">Abort!</span>'),$("#networkAgain").click(function(){h.text("Connecting...");
V()}),$("#networkAbort").click(function(){r.reject(sa);aa(sa,ea,W)})):(z++,q().always(V))};V();return r},waitForNetworkCompletion:function(){t=$.Deferred();p||t.resolve();return t},cancel:function(){},activeRequests:v,lastUrls:N,server:K,serverIndex:J,onConnected:function(){return A},getWorker:function(){return xa},connectToServer:function(B){m(B)},reauthorize:function(){ma=0;R()&&-1!=serviceWorker.workerConnectionState()||setTimeout(function(){d({})},400);serviceWorker.updateTokenInSW()},request:d,
clearDatabase:function(){try{xa&&xa.clearDatabase()}catch(B){}}}}(),networkHelper=function(){var a=null;return{abortAll:function(){return null!=a?a.notify():void 0},loadASINs:function(b,d,g){isTest&&console.time("load");var m=[],q=$.Deferred();null!=a&&a.notify();a=q;var h=0,n=$(g);n.show();var t=0,p=!1,v=!1,E=null;onPageNavigation.progress(function(J){p=!0;"pending"==q.state()&&console.info("cancelled loading due to navigation.")});q.progress(function(){isTest&&console.info("%cNetwork:","color:red;font-weight:bold;",
"aborting batch call");p=!0}).always(function(){});g=async.queue(function(J,U){var R=!1;p||(v?U():async.timeout(function(S){var fa={path:b.path,offerPages:b.offerPages,maxAge:b.maxAge,type:b.type,history:b.history,domainId:J.domainId,version:3,refreshProduct:b.refreshProduct,getTracking:b.getTracking||!1,includeDeals:b.includeDeals||!1,stats:b.stats||null,getSubSalesRankAvg:b.getSubSalesRankAvg||!1};0<J.asin.indexOf(",")?fa.asin=J.asin:10==J.asin.length?fa.asin=J.asin:fa.code=J.asin;network.request(fa).done(function(qa){switch(qa.status){case 429:case 400:case 401:case 404:case 505:case 500:case 1001:case 402:v=
!0,E=qa}if(null!=qa.products&&0<qa.products.length&&null!=qa.products[0])for(var oa=0;oa<qa.products.length;oa++){var va=qa.products[oa];null!=va&&m.push(va)}else isTest&&console.log("failed loading: ",J.domainId+" "+J.asin,qa.status)}).fail(function(qa){if(!p)switch(qa.status){case 429:case 400:case 401:case 404:case 505:case 500:case 1001:case 402:v=!0,E=qa}}).always(function(){p||S(null)})},4E4*(b.offerPages&&0<b.offerPages?2:1))(function(S){p||R||(S&&isTest&&console.log("product "+J.asin+" took too long."),
h+=J.batchSize,S=Math.round(h/t*100).toFixed(0),$(".loadingProgress").html('<div class="bigAndBold" style="text-align: right">'+S+" %</div><div>"+h+" / "+t+"</div>"),R=!0,U())}))},isMobile?30:200);for(var F in d){var N=d[F];if(null!=N&&0!=N.length){t+=N.length;N=N.reduce(function(J,U,R){0==R%1&&0!==R&&J.push([]);J[J.length-1].push(U);return J},[[]]);for(var K=0;K<N.length;K++)g.push({index:K,domainId:F,batchSize:N[K].length,asin:N[K].join(",")})}}g.drain=function(){p||(isTest&&console.timeEnd("load"),
n.hide(),"pending"==q.state()&&(v?(E.products=m,q.reject(E)):q.resolve(m)))};return q},loadSellers:function(b,d,g,m){var q={},h=$.Deferred();null!=a&&a.notify();a=h;var n=0,t=$(m);t.show();var p=!1;onPageNavigation.progress(function(F){p=!0;"pending"==h.state()&&console.info("cancelled loading due to navigation.")});m=async.queue(function(F,N){p||network.request({path:b.path,storefront:b.storefront||0,maxAge:b.maxAge||0,domainId:d,history:b.history||!1,seller:F.entry,version:3}).done(function(K){null!=
K.merchants?Object.assign(q,K.merchants):console.warn("failed loading: ",F.entry)}).fail(function(K){if(!p)switch(K.status){case 429:case 400:case 401:case 404:case 505:case 500:case 1001:case 402:p=!0,"pending"==h.state()&&h.reject(K)}}).always(function(){if(!p){++n;var K=Math.round(n/g.length*100).toFixed(0);replaceHtml("loadingProgress",'<div class="bigAndBold" style="text-align: right">'+K+" %</div><div>"+n+" / "+g.length+"</div>");N()}})},isMobile?15:70);for(var v=0;v<g.length;v++){var E=g[v];
null!=E&&m.push({index:v,entry:E})}m.drain=function(){if(!p){t.hide();for(var F={},N=[],K=0;K<g.length;K++)N=N.concat(g[K].split(","));for(K=0;K<N.length;K++){var J=N[K];q[J]&&(F[J]=q[J])}h.resolve(F)}};return h}}}();function log(a){}function clone(a){if(null==a||"object"!=typeof a)return a;var b=a.constructor(),d;for(d in a)a.hasOwnProperty(d)&&(b[d]=a[d]);return b}function logAppend(a){}var plotActiveIFrame=!1,graphRangeIFrame=!1,graphZoomIFrame=!1,trackTypeIFrame=!1,trackPercentIFrame=!1,graphDateFormatIFrame=!1,isMobile=!1;try{isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch(a){}
var disableStockFeatures=!1,disableSoldNumbers=!1,emailChangePasswordRequired=!isTest,isNewPage=!0,isAWS=!1,interval,offset=129384E7,offsetMinutes=offset/6E4,offsetHours=offset/36E5,precisionDevisor=6E4,offsetVar=offset/precisionDevisor,isHuman=!1,sso=null,sig=null,changeV5=4827410,changeV5Epoch=15834846E5,keepaTime={now:function(){return Math.floor(Date.now()/precisionDevisor-offsetMinutes)},minutesToEpoch:function(a){return(a+offsetMinutes)*precisionDevisor},epochToMinutes:function(a){return Math.round(a/
6E4)-offsetMinutes},timeShiftOffset:-(new Date).getTimezoneOffset(),precisionDevisor:6E4},ajaxURL="https://dyn.keepa.com/v2/",ajaxPrefix="/v2/",protocol="https://",rootURL="https://keepa.com/",imageServer="https://images-na.ssl-images-amazon.com/images/I/",imageServerAsin="https://images-na.ssl-images-amazon.com/images/P/",CDNUrl="https://cdn.keepa.com/",graphBaseUrl="https://graph.keepa.com/",graphBaseFileName="pricehistory.png",imgCDNUrl=CDNUrl+"img/",currency,dollar="$",euro="\u20ac",pound="\u00a3",
yen="\u00a5",real="R$",rupee="\u20b9",numberOfDomains=15,invalidIfLargerCatId=0x7fffc055dadda000,maxCatId=0x7fffffffffffffff,flag_1="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAALCAYAAAB24g05AAABzElEQVQoU12Sz0sUUQDHP29bKuoQemkhUPCfyEBaCjEKr4ELRcEQQQUhBNUhSjS6R7BKEBrioaAicOoQmCGdxEstWVIL66HENHaddefH+xFvxpnN5vLevPfm+/nw5iucywuGfx8tkze9na1OdLnQ2ubn+q9szd+ZCRvwuHyM6Q+GUlEzM5ej1KeZnM9xsdge7XmldsIBYwyu+4w4oFjqZWZex5mBhEglUlJBKzIs7RvB/N6AP5vQaIDnIc4Psry4gHAuvTfHS30x9dQozN6OGBjL8/pGkxNjB6jkFBt3ErJSCq01HR3XabXGqVSW2gGTczojByGE2sQfy+ZH5PpERja+D0FA7sIgi18/IRzHNeVyPyfvGWZv+vSP7ufNrS0O3w+oDod0XfnC5tPemGwN0ruoFwp8d58nAUeHBnjyTmH3LfmzWkOF32A1gqpCHnpASjaeF4fsuTrEC2tQq1VNoXAEKaOYkhDatP/Jdr/Z3KJnb55Hr6YRcuSayZ0+i3n5dvdN25Oeh6nX41BLTuexwfA5pmo/ECsry6a7u4dGPs/BIKmH/cepTWoEOrb0/U6EWEPKkM6HdxGrzpmsiWm70rqFVgJIHNpjI+sj/AUdjRg+yE6/CgAAAABJRU5ErkJggg==",
flag_10="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAALCAYAAAB24g05AAAAa0lEQVQoU2P8P9P4PwMFgHEQGLC7nEIv/P+P1YCnT78wbNt2h+H/f0YGX18VBklJbqwhxfgfhwFr1txk+Pz5FwPIeH5+dobgYDXSDHj27CvD5s13GBgY/jH4+anhdkHiTF3KwkCog32IGwAA50I1lFJfIREAAAAASUVORK5CYII=",flag_11="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAALCAYAAAB24g05AAAAq0lEQVQoU2NkAIEM9/9gGgr+T9+BzIWzzwupo4gbvb/FyDh4Dfj3/w/DzQPLGVYvWcaQ1DaJQVJEkeGSqDZxXvgzZQvD9y/PGPYvmcJw/txlBkMjXQavjDbiDfjRv4rh9p3rDMevnWd4vnMjg1FkAoOrjSfDNSlT4lzwd9oWhmev7jNcuHwOrMFA14hBRkyF4bywBnEGwKLx549PYA3s7LxgmmQD0BPD4EwHAKQAcQyYJnJzAAAAAElFTkSuQmCC",
flag_12="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAALCAYAAAB24g05AAABm0lEQVQoU6WSv0ubURiFn3u/DKIxCSQSTdRaFQRFBKVLKxStDoWiuDi42hZEhwoZRBERFEEEbdKhIo79A0Q7qqV0aJvBQRAyaAZj/AGKTbRE/L57i5+00SrS4tnf5xzecwThp5p7SNwKUBKE5lVg20bPJUtAC5DqhtVfAAGmQZUrxag/Tt2RtA/WvYrhvYfEUi5wWEA2dBagDIRQ9BYm6M9PEo60sPClAvPcov3JFqHQCjPpIiK7JSgtQV6AwAZILWjISzMe3KTVd8xitIP5zy/wO03SGZPo6hHdz5YY6P/G8p6HoZ1yoqculNCXgNqcnyxXrVGQY9rU7pFOPkXL8bgVvqAT7wMv1YEYQ+1hhAMOMwZNsXrWM7nZBI/yUkwUb9Lk/8HMbCNTH5rxOE8wzxUnZy4mB9boer7I6oGbwUQF368msG2VgSEs+ooSvMnfZfptK0tfKzEckrbHcXpefuTdWYBIshhLG9d/8Kebi6qsyxbG/HFqDiVaw4ZPMbJfxkbKDYZlV/xbd+7gdXAbieZ9shTUP+3g/yf5Cw8+o/xdML+uAAAAAElFTkSuQmCC",
flag_13="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAALCAYAAAB24g05AAACV0lEQVQoU02Qa0iTcRTGf+9U0jI1ZYqWl1WzNCKMog8apeHCyhDKqCShC4X0wQxMxMAiFZQsxA9FhREJlVgkEctSnGFGkEiQQxpGZVpeWFOYe/fe/uEU63x5znPg/A7nkd5XXBOO0PVUvnLT6HlGsGFQatgoT/hBzrYk8u5Mg9cDKMxX3qkc7C0dwGTAS/vzG8X9yizUuETkwQGE7ENKXkuUOYquEZmPn8fRNQOfolKUv5mQYBMjo27svSM8vN6INBAWJuJr6wiankSdncXw+wkJX4HfkJjzKdSH7sSjSSiyQmJ8JLZMC/V332FJiqatqQnp5vZCcaymhLCpn3hcX5GCgom0Wpgcm2Z4bhmtvyOwZafSbnfilRV8PpXKc1n0fPhGc/UlpOp6uyjZk0Cnc4YNE0OYNJ2hrXvZJUbpH3YzF59MSnwEmCSqGrs5ui+dVEsMQsDB3EKk87nlIq3ARv+YSob2KxBM71wk1oRw0oJmeDrkpfhwBi8dX3C6pkiIXUlupoXXfSPYWxqQ4LSouHGc8XEPXl1CUXWCdQW/X8enGiAMZFlF0TQMXXDmSAb32gYxRy/nzYPL84AToqKhmO/jHg7stmJNieZqswNFM9A0HVXVA1BV0/ErKj5ZwyQJLGtW0d1avQAoqytibGKG2rIcwsNCeOFw0drxaRFgLC2vjovgkG0jNbfeYk2KwfHoyjygQJTWnA1c2WQ1syXVzO3HAwghAm/oQqBpBrJf4eLJHaSvi+V51zDtnU76nlxYAIA3EN4//bPo52Xmv96NNbsKV0/t0uwv1AgflzdsYf8AAAAASUVORK5CYII=",
flag_14="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAALCAIAAAD5gJpuAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAFXSURBVHjaYvzPgAD/UNlYEUAAkuTgCAAIBgJggq5VoAs1qM0vdzmMz362vezjokxPGimkEQ5WoAQEKuK71zwCCKyB4c//J8+BShn+/vv/+w/D399AEox+//8FJH/9/wUU+cUoKw20ASCAWBhEDf/LyDOw84BU//kDtgGI/oARmAHRDJQSFwVqAAggxo8fP/Ly8oKc9P8/AxjiAoyMjA8ePAAIIJZ///5BVIM0MOBWDpRlZPzz5w9AALH8gyvCbz7QBrCJAAHEyKDYX15r/+j1199//v35++/Xn7+///77DST/wMl/f4Dk378K4jx7O2cABBALw7NP77/+ev3xB0gOpOHfr99AdX9/gTVASKCGP//+8XCyMjC8AwggFoZfIHWSwpwQk4CW/AYjsKlA8u+ff////v33998/YPgBnQQQQIzAaGNg+AVGf5AYf5BE/oCjGEIyAQQYAGvKZ4C6+xXRAAAAAElFTkSuQmCC",
flag_1l="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAUCAYAAACaq43EAAACHElEQVRIS72UwUuTcRjHv4+jiUTsvejIUbyxJduch2HFVkw2mGKwgwoKogdh4MFLl27eOojTm53Ug2XKLGUb9EYii704KCFih8UodDSLCgfBRizT5p54/4P39x72u3wuz/f5PDzwe2h6OsMw+JYRN5gEKBpN89ycH6XSb8jyFSHewbEhcWNlBTQ1tcfRqAcWyyXs7/9EX99VXdSMMzMeYTERoV6vgyYmXvP8/D3s7BQRCtmQyXzXzQdQhcXo6cG/tTXQ2NhLnpzshs12Gen0N4TD13RRMz7EG2ExuVz4u7EBGh5OcCwWxNbWIQYHr2N396tuzs7eEhZrgVqtBopEXvDISDecTgmKUkIkIuui1uARXgmLyeFANZEADQxs8sJCGOvrnzE0dAOp1BfdjCElLpZl/FIUUDD4hPv7XfD5rNjeLmJ01K6LmnFpKSAuJkK5XAb5/cu8uHgfq6sFjI/fRDx+qJtGDgh1duKHqoJ6ex+zz+fGyckf4emf4alwhqxWHB8cgPL5PNvtdjAbvpxCcu2AFItF0IeuLna63eBKRaiB0WKSJHwqFEDvZJk9Dge4WjXaSyhHFgs+Hh2BVFVlr9fb1FXncjnQXns73+7oAE5PhSY3XNzWhvfad1Ikie9KEvj83HAvkSCZzXhbqYCSySQHAoGmrjqbzYKem80cam0FGg2RwY3XtrQgc3YG2jSZmEwmoEn/GETgiwv8B94wQe5VjuptAAAAAElFTkSuQmCC",
flag_2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAALCAYAAAB24g05AAACDklEQVQoU32RXUiTYRTH/0+2dRPSB6YVCiKDXBOWom4ZTIJqROqcROisHGoE0YqB+TKbClaOZhHTG132BWHUnI5I1sdFE9mmSRtJzV3MwEGpbUYXXujUR3xeei8ceK5+5zz/8+ec85D7vQEqL8qCZzKEX3Nr+B9cjQxTd2wszbttQLNljHEsnoDkWBqK/a8Q1ehAng/+oDoSxg6NBpHoEryTs0x4sTIXie6HjEXXjeiyBxkrjqai2PMUO7k2dL+fBtF3eGj1ORlO/hxlgpRKDax9QTRdkYM21LMaedwP410/rNI5rEVnIDYY8cIZQnOrmzcolaZhPraMC5I9yPD1Q2zqYI3MYDEG4nQxJhYLvi4AN8yjKMw/jIEBH0g4EqeS7H0gRFhfAKqt4CdwupIeKQUCoT8gDn0bLZOnQvTtOy9ajCWJV6K/k2rizIPonJjffoLlwiLWuOvLhGCwvr4qcHD6L8gJrYOWn8lh1zffVCL/AEA5jh1uq8Fm7mtsR7UtDMXxHAwPfeINGnVSXNLmYuWeGdi9F9dmj8DedVYwEI17oTrvgudNBVZ7bPgX8OOZ0oRbLU9AHo1MUYNahkSnGeMqPYY+L7ARH5gUQBV/ROoYRNXVEcbGyzKUKLMQr6+BaX8dSIt9jGYOv4T7kBp+b0TY793rWrhPl7Fc/eEtClT8125GRno2OOspWJo+YgOa38rkXZuAuAAAAABJRU5ErkJggg==",
flag_2l="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAUCAYAAACaq43EAAAFD0lEQVRIS6VTe0xTZxw9l1eLtGChRR7lMR7FFQWsViRjPGfUgfgKGxjdjJuPKMl0g2w6xbllcU4RkzFDJVPIItPhm6EbE0G3+WKCoMUJgmCBVijQQmsLBe/Sr6PuBlSM95/m3u88fufr71AqmYx2S08HHCfhwnUFTl1S4EVP/pZotGzahBGtFsGHD2Pb99eg7h9+Li1upifm27ZBW3kR/KVLQSmLi2mOSAS2SARbDgcGgwFN7QYMmkaeKSQVC6CvqSHnThIJ6pt6n4ln2dsiwM0O9moVwdsFBpFfaut3V+jP0sXQl58DS+AObuRskr7mXg+q5d3jmm9IFaOroICcua9Zg8LSe3hsHDvo9EAXSPAIusZGTJZIwBKJMDw8jG+LakGlZpXRGe+GEZHpffcw1NIMl9hYAnrU+xjn/1JAqzMxBvgofRoxfqLVwiMzkxj/H+PCsUeCyAms2j9h6+QEXnw8uc3qhm4YjUPIO1ZvMV69SIz6+30Q8Bzx9lQ7oOoibDw8CMGc/kqdEtfuPE2f9V4EVHv3kmHMxgdKGqA3DJH3sCAeotk90N+8yQhQ+bcSCtUAOT90psFivCRRhBZFrzXVmzO8SHpjbQ14KSnW9CcqWqHp12PrB1KrsWDzx8j7uQH2djZIDnMG+/J50Fwu+MnJjKFNJsutBfi44lRFI6i31h6nlyeF4v7DPsZ1Clw5WCp2gP3vZ0EJhUSIZrNRcaMDibO9od6/H4MaDYQ7vyRtiDQ0k0G5CQlgh0dArTXCPGhnVz9DN8iXh+IyucV4ceJUtLQzjUfRcyOFmNlTD/3166QGZlHz074jGyM6Hfxy9qHn0A/km7mWo8P9UauEcWjswgUIeThd8Q+ojs5O2l3gDpp+8qL6Ms4fZmaSd9///uuJkinKBl3dXaBuxMTQguhoDHV0TJT7SjgHb2/UVVaCOh0VRU+TSjHU2flKghMlO3h54U51Nahbt+/SwQG+E+VZcfdTU2E/aRL8iopemtvU8hBUcFI+HSH2QZ/WMK6AeeOXxXlhRKOBViYjC+W5axfkCxaAxeEgqKSE8AavXIVKlg8baSQuCONw+lLbuHo8F0fcalCA8ozaQodOn4nefiMDGOjDQ/aH4fD14GKwqgpKmQxTFi1CEUuK9UsCcTcmBjYuLggpLcWPvzQibd5rsNHr0ZuTg4H2dvSnrUdetQnNCmZbXJ3ZkN++aTH29AtlmK5eGMIQ0qnV0C5eha8uWDp5Ys9chnH8ulKYBbevjUREsDMZtDUnB85JC3HcNQYnK5oY+so2+VPjgQEd/Lz5yP1kDkn5uKwMivx8Qj5oNwelF+WEzOVyUClbiDqxGA58Pl6/fBmzlv9kFX5/8QxyI+b03dnZ0D54AEPGNjJ0W4ea8K3GHFc/jBKGe/qg2rkDlEYDzapN2HyyCyq13irswXdCed58NISHk2/iujqEpZ1gJDJjcjNjEervCFN5Odp278aUpCQUeCaj8Mxt0PpWy3KVfBMLoafACpq8fAX2DUfi+K/1YxbE33vyGGPRkqPjLtL6dyTYuMwftgN6EsYol2Pw8z1Iy60EdfTIMTpulgTKLZ/CpFajZd1GbC/uQ2fP4LhiXm4sVBWkoFkqtSb2Sz7yzEqF+Lvh64w3IJ3KJcGasrJwJyEB1IGVK+n+s2fhnJKCc1Qwfrva/txe8vluyM2IQOuGtQTnf+AgVn5R8cIuz4sSYsW8EJh0GnALC/EvQHYvjUeU0r4AAAAASUVORK5CYII=",
flag_3="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAALCAYAAAB24g05AAABYUlEQVQoU41STUtCQRQ9b1EkUZt+iLaNIMLCEoOQoGgZEe36kKhNfyDoF7SVECyCjBZBSFm2KQha9xNMnzoz72tm4s3VpxKBA8O995x7z517GSudTmmoFvoPE2HEBrD/Aiu9NKP3D48j3vc94zuOE2FC8A5mlOE4ZIvFAiKB6tsnkYJIu2FHAvVG3fjNJlnGWtjMJHF5dwtrZ3lWb+/l8PXyQQKcuokWjSU4B7MbkZhd+zF+IrtAAo/z03ru4ASovBtCCwHteeYq14V2XUhG+1CMQQkBxTlG1lMolcuDAsMWh2J/BPRDZajOYXH4orGtLL2gcBrXaxtH8L5faYR2LZpXMppXiqaxgaDFSpdjMpHBzXkV1n0+rhdXcpDtCpEBJUufkoNOHPiEq4BDKR+xqVVc5Z9JIJnajbqaYq+3den3PpkM2gN51xdPsEpncd2Psm5+rIe2FDDhAswDxkfJds8v17z51coLdO4AAAAASUVORK5CYII=",
flag_3l="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAUCAYAAACaq43EAAABjUlEQVRIS8XWQUuaARzH8d9ftyIaJKwMBEmY5JQexKSoYGCHOj0XPYigB+WB550EnbrslCBe3LCLXTzVISGoKJrIM3SCYw1JMBo42Bjbyl/v4t/3DXyuX7Ftm3iGxLIs2ratSheLRUg+n6dlWWi1Wip4NBpFqVSCZLNZFgoFOI6jAhuGgXK5DEmn08zlcuh0OipwOBxGpVKBJJNJZjIZdLtdFTgUCqFarUJM02QqlUKv11OBg8EgarUaZLi9zdemCd7cqMASCOBHvQ65TSTo3doC+30d2O/H3fEx5Nv6On2JBDgY6MA+HwaNBqQbj3NhbQ0cDnXg+Xl8v7iAOIbBN7EYeH+vA8/O4muzCbleXOTbSAQcjXRgjwdf2m3I+ccAlyJB8OGnDvxiBp/bPUij7GPM8IOPv3Vg9zSaTh9ytD/HlagXGP9RgeGawlXrDlJ/7+HGsgcc/1OBxTWBs08jyOHeNN/FX4H8rwPLS5xe/4Ic7E5wc3US4FgFhrhwcvkX8mHHTRE3AK0DEpCPeAIBmJeHAt4UxgAAAABJRU5ErkJggg==",
flag_4="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAALCAYAAAB24g05AAAB2UlEQVQoU43S30tTYRzH8ff3WNJwcwYaOoc1hTlpNfOs+aPLyG1qIXUnBA0qY5INjS67DbW7uuuif6A/QOZFUKh110U33QTR1UZRWGc7ds55ntiOSCOInj/gxefzfD8yP/tEj5qjeI6HCOzbLtcLKU4nu/nzqXc72A8LEAyB1gSmh/nx7AVyOb+hh2IpFKoJ1GsOt5dMTLMPpZRvGAbumy3qpRkk2AlKERoPUHn5BZnLb+jB2FnQLiKGDxRNzPORVmB3C2tl3ge0R9gMUN2uIHO5dX3q5JlmgjbR1G2PxSWTdLq/FdguY927gtERBkPRORakultBZrNrOhpNYoii0cGuORSX06Qz0RbAebXJz5t5JBgGrTgeP0bl0x6Sn17X/ZERRBRaa/a+25TuTzJ5YeBv4NYMRsgHugbbqXy2kNylNd3Xm8DzHFBQqzusPphiYuo/gezFR7qnZ7ipNq9gu6z8I8FhhaGDBHO5x7r3RBxEIfjA3dI4mYnWP3Bfb2LdaZzRrxCOt1P9aCEL157qaCROI7+0Cfs1lxuL50iNte7A2ylTX85hBLuaO+hIHuXrBwspFp7r2EDCT3CwxKsLIySS3SilD4ek3pb5tZpFGmdsLDFzhG/vLX4DfLjm5WxVFyQAAAAASUVORK5CYII=",
flag_4l="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAUCAYAAACaq43EAAABS2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIi8+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+nhxg7wAAAZtJREFUSIm9lEGO1DAQRZ9jt8RiGrgGV2DHaLZzBM7ATTjPXIQNG/YI0U2cdBK7XMUiHQmG7iQNEX9l2b/q6Zctu4eHj+Z9xZKenj4segC+PL5fNlWOUFUV9/dvVjVdo7t3bxc9/afPBBFlGDLH4wkD3DOTAc7Wg/PXb+fCc5FzuPPagPD6JZYGgqrSdYm+z+u7z8j64c+9X9baD6gIIWel6zJdtxG46+fPdztIQhApNM1A26ZNwKU9zRt8hYmMdxxjR9uOI7p0z7dIl8DOYUMaE9d1v1liWwCb2QjOuRDjcOGOp+y3zaA0E/hyvRVFUxofV133DMMEnszwN0PX05XEZuOYi0DKBBEhRiVnuRlyEdy2s+cuJfB+TNw0J3Ium4DL9+M8eLfDv9qPj0vEKOWG72lOOvW50q8UNGdCjC1mfrPEltLvz+S5nCPHhiBieA+q2yQ2s+tQwDmHZCGUIngfxoJtyIsWLYVKVXHuX/6qG+UcqkplZvxP7gQOI9ix37/YpG+1v1v0qBkBjBh/LJoPh8Mq8LGuFz0G/ARPQgf/2BYuEAAAAABJRU5ErkJggg==",
flag_5="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAALCAYAAAB24g05AAABVUlEQVQoU12SQWoCQRBFfw/ZqKM3EG8huPEA3sAslGTtwpXncJ+Q6Fb0Ai7cJKcQRCMogk5kGFzojP2lu+3WmYGmiuqp11X1S5xOJyLzSSl1RNmsb2PKJvIKoQD5fF4nkA+Wceli6i57drvdA5BOJjCbgT+/YHwBq1Ww0UgBhBDYbrcGkMvlXBMaNJmAwyEYx+7gtQn59u4gCrDZbNIAXeLhAHQ6YBia5MtFW93QYABZqWiIAqzXa4goilgoFBw5ns/x0u2mknk+g0kC9vtgrWYAnoe/1QoiDEP6vm8AIETwD9lug1FkXr9XoGbqjcdIymX9r+d5WC6XBmArsErw8wP8+n7MQEGaTbDXc6qoFlaqguPxyGKx6PRWdK39aAROp6aCeh3XVkv3bdVS/mKxgAiCgKVSyc3AVaHUsAt13xG7B1YyDdjv98xul0yubguf7559C7kBliRnuKPjqCMAAAAASUVORK5CYII=",
flag_5l="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAUCAYAAACaq43EAAAB90lEQVRIS8XVPUgjQRgG4HcE/41JNibZKCFCFMGAghba2GljYWdjc8gVNjaieFhYWRwn2tlYiNjY2FnYaGfjFlE0qBFJMCTm12wS179TyBxzC1uIzk4hcepvvmfej51ZkkwmKb5hEQZ7PJ6K0qlUCgZMaWWCE0JgwLIsVzRxOp3WEzNYNPFLLImnqxj+ZvIApaiVW9DQ5UOdr1Xo8CyxAbvdbtNN9PUNd3uHeDyPfFjbGPCjZXQIpKbatFcmk9ETM9gscWprF8+ROLdpvd8Lz48xbg1LbMAul4sLP5xeIb29Z5qEFcgTo2jq7fq0lsHZbFZP7HQ6ufDt+s6nI34vsJG3TY1z4Vwup8MOh4MLRxbX8JZVhRJXuyT4l6a5cD6f12FJkrjw9dwqXtlXLLBq3A50rsxyYVVVddhms3Hhm98b0I4vBFjA0teN9oWfXLhYLOqw1WrlwsXDIGJ/NoVg369J2Ib6uXCpVNJhi8Viep2u51agnYS5eHN/AB3LM6bXSdM0kEQiIQSXn18QW96Eun/0YWNpZBC++UlU1deJwdFolNrtdqExsqJ75QzqgYLHyyhQLqMx0AFpeADNAz3CPQqFAkg4HKZmD4hwR4FC4wEJhUL//8dmT6ZAT6ES47cYDAap1+sV2vRVRfF4HERRFMpOUcnFpvsPHXUA1Vwc3ioAAAAASUVORK5CYII=",
flag_6="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAALCAYAAAB24g05AAACEklEQVQoU1WSzUtUURiHnzufztz5qAn6YCS1jFqEtOgDoyCDVkZF/QeCSBtFEyooEBRE/CDCEANpES0iatOiTURLoRaGIhQtwsHGudfbdZp05s69556417rZuznve87vffidc16l3HlDyrKJF/a6RuLjvJ/vDNd1/dJxHPRcLjjaAJQfJ9pl8lbvtqBSJtHTHQhqpieBaCbtr65wKQ8MEk0mkbbg68NJlI1zF2VDTzfCMLAMg+zQPV8shGBjcorIlkX0ziChP1jz2nVCiTTh/H6+zUz/c+CslRCmRmp4mNriMpZbR87MIiwLt6uLiBDETp3E7LxCuCGO0tjE4pPH24BE703s70Uc0yA1OoLZNxDYdGwLp1Znq1Bg36vnGBcuEVITxJsPs/B0DkU/dlwm+wcQuo6taaQnRn3rfFrAjaqENuvUKxr1I63sGhnGON+BklKJHWxh+cUzlFLTUane7qdeLCHXVkk/msb+WcEYGiKyUvRvvhmPsntqnJCaRDt9lngmi8w38uX1S5TinrzM3L+LVVjB0UtkZmcRroBqjV/v3/mA8Jl2v9l7WK2tjVhuL+FDrcx7gM8g8+MPsAoFhLaKOjeHlBLv77f0EpFYImj2YB4grGYJN7fw4e2bbcCBkTEcq4a9rpOaGAsA3uDsDM9B+fJVZDrrbweAvyJvbNSlJarVatBnWVaQ27ZNsaPjP+hvICgB410MezgAAAAASUVORK5CYII=",
flag_7="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAALCAYAAAB24g05AAABtElEQVQoU52SP2gTcRTHP+93uYv9g43aqilBKSnoIJEs6uIgUhAK4lKhDoKCFRx0EbqIg7gILjoIVlBwsGAXEQqiiLgpHohRxMFENNKgNnjVhjZe7p7c/VyKDup3+A3v8T7v8+AnQRBofOMy/xNz5CRSq9W0d+Y6A3sP/JERrlHcr/Jb78vDOyyOHUV839f87DSDo+MEL5+T2RgTLQjaFsRTMgNKpykQCxoBArktZeZmp2mMjlvAutvX6B/ZB/IOb7iDN9/HwocW0bxBO4K3KUoHw7oBB9zCZpqP7tE8eMwCmJpiaPcOnFyd7j0hUUP4fj+LLgMGRECTI9IH3PV5ao+fwcTEL8ClcxTKOzG9n3FyCkZpv86gHazBUOIO4XtrkFnbT91/CqfOWkDr/GmK20pEiwG6LJBRxEmtMX0Ksd0efZO06KzOUX1VoefMRQv4NHmcrcNF4lbLTiWqCpJVusodlnyXOCSFJjHdPbx5W2XDhasWUD1xiO2FQeJ2cvTKaAxiVtZMdhUvPs5RvHLLAiqH91Pqyv/TX6osNSjdvGsBT8ZGcFwPTdb9RUQMUfiDXTMP+AkkxbXvqu101QAAAABJRU5ErkJggg==",
flag_7l="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAUCAYAAACaq43EAAAChUlEQVRIS71VTWsTURQ9982byUySSSJYq7UQFyoKLVi0ixaz6KYLQVGwFBW3IrjxN/QPuHHhD/AfuHYl7kQRXLTYalvbgmBsmnaSTGbmXZnMTBtspBMDeas3951zz/16b2h74QGTJtBrkckQRUbws/d5T1IaIwnQzuJDNis3e8LlCCNzLYDzVgIqjcd0mPbyCmj7/iJbszNQe3Uwc4dJRJEHqaDZDP93lHFo78Yk+265hPsvnCgW4K2EwncX2Jy+DlXfj7TKCv62APwjdyLHyN7x0Hov4W8OVnZRsOGtroG2bt9j88YkVGMfEEDpmYvay0yntOxGmZME5LiC2iUEe3E10lX1GCoU9r9vgLbmb7Esl6EcB6WnbZgVH613ErVXxiEpFDYmAvhbAsGvAYVzOQTVKmhzbp7luVFws4nScxf11zoKjz3UXmSAqOWgPKP4pA3njYT3VfvPXGNfWavTVtqszLEonQL0JviAIjECyFKAIGgFBX+nWywGJFGF4M5K7Elc3bijKpFpglst0MZMhcm0wK4bhxSKR6kalxXsRx6qS2Z0nWI7kqkPv5P9SXWIsWQYgO+B1qdnOeSy5x0fhCygnWZ4P+JKnOQ8xTnpOqBpoPWpaQ4cB+ghnMJP/xBdh2bboG8TU8zNBuAnFzfsx0n9iqfuWH+7eQnmr9ikBOXzoLUrk0yuCz4U7j+JfhgkJdiyQKsXr7Lw/Z497sdhWmzYY6VL0PKFS6wzg9vttNyBcOFUe0KAvoyV2TKMzgMyjEWWhYbXBn0+O862lYVqNIahC5HNYr/VBH0aPc/FXL7zVg9jiVwOe84B6OOZMS7ZhWFoHmrs1uugDyNjPNj/pv+Ywxv+B4u6+rLjbNaLAAAAAElFTkSuQmCC",
flag_8="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAALCAYAAAB24g05AAABk0lEQVQoU43Sz08TQRTA8e/bpS0xwDYNoW5riMGoJSZevCF48UYrJca/gYug8cLZhH9CTxzl6t3UePfKQUL8Qct2dg2ljTGB0p1HutYa08Y4p5n3Mp+892bk7vZjTd2Y5feqB4bw5dvh+a/N/DzMzQ1DhwsLyM2tijZnJ3B6iiNC29TR1x9HgAtjSPk+ZLPQbif5d5UKUnq+pt9zfcAmQGiOxgJdE5L2r6L5PFiLxDG1lRVk8dkjjTzBsYorDiZqjAcCQ7ro/wGs/QWUtioaTWsCOOISnQRjgfMgIFMsop6HdDpJC7VqFSltljW8EuP0Iz3LyfEBuvdlZAZDIJtFBjOora8ji5tlPZ48Q7p9xHIa1dE3n/8fuP10VT9dhMkFLzNFJzpC9/4BTHvIj0ELa1XkzouyNlI/cfuCuLTCr+ju4WgFzSaZQgG9lgMGr7D8ELm3U1Uzc4bEFhfhW6uB7uyPAN2oSXq1gOZ8iGNE4P2tB8jSqyd6mj9He5oA+60A3RjzkTqG1LYPM9dBY5iAD1P3uQSwOL94YLv3EgAAAABJRU5ErkJggg==",
flag_8l="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAUCAYAAACaq43EAAACfklEQVRIS62WXUiTURyHf8dNl6VhkZplJpb6TjfExFj0wSpmRhosRCwzlcEiqYSsMCswA0tKCSlIobAsSEQkS0JiERTShbPcZOkyN3NujCYqNsxMT3nR7X/novf6ec7D74X3gxnf3OEQuJr2lgtQwMi1m0IcM7yu50b1oYDw9ujkgMwyMGu1BeQ87Z1gJT23uEGVjQHfKCmUqXMDHrgMeJ51kFxYciLcHc/BCrtreak6G9ZJBymUp+mFwu4nbSS3MnEL3J0vwPK7avhxlQ6fJ7+RwvlteULhiZandDghHq6uV2D6jqu8QLUfw1MuUriceVQoPN7cQnKh8XEY7+4By2mr5EdStRiZdpNCjeaEUHjsbjO9OC4WYz0msKzWCp6j2gXnjJcU6nYahMLOhnskt2JjDJymt2Dah2e4LlWD8dnvpNC4p0woPHqjnuQU66PheNcLtuP+Sa5NyYTbP0kK/+sFooiKxNfeD2AZjaVck5IOr3+KDLdmXRRabK+sJrmQdWvxpa8fTH27kKcr1fDNzZBC+8ErQuGhc1UkF7wmAvYBC1hSbR5PkZSYnv9BCi9zrwuFbWUVJCdfHY4hmw0svvow3yolYWbeTwomfZ1QeNBwmg6Hh8Fmt4NtuJTNN0kJ8C/8JIX3eQ1CYUuRkeRkoaEYdDrAIiv28ShpM+Z+z5OCuYB+Pv/Jn/KLyXOCFApYJlxgEWd38wgpFr8WF0jBeqxJaHG/vpBeHCzHR68HbNUpDQ+TYrCwuEgKw0UPhMLmnHx6sVyOfp8XLMSQwRXKaCzxJVJwFD8WCvcdCPD5ZEEwT/nAZCVpXBYkA+f0H9Aj3QWhsL2qhuYYA/97d/8Ay4HaIqKlU4EAAAAASUVORK5CYII=",
flag_9="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAALCAYAAAB24g05AAABSklEQVQoU2P88OHD/48TZjGQA/gL0hgYL1269J97+UYGsSAfksx4tW4Lw9dIf4gBrPNWMkj4ezJ8v3WHKEM41VQYXmzczvA7KRxigPL/VgYOyWCGf98fEmUAE6c8w4/naxnuMlZDDJD4Ws8gKGXF8O/3B4a3r1kYnj9iZ5CU+8kgLPoHq4FMrAIM758dY3jB3QgxgO91CYOkvCnDt4/fGG5dZGL4+FeLQU6Nk0Gc5zQDJ9c3DEMYWUUYnj88zfBJtAdiwL+bcQwaOuYMH979Z3h4k5fh2ZNfDFIybAzy6p8ZeHk+YhjAzCbAcOPKSQYm9UUIA5TkhRm+/WFl+PH9H8P/n6xgTZwCfxm4WH5j9ca9h28RBpwIjGXQEhIlKgBhiq69e81gsX4xxAW7XAIYDPiESDLgwqd3DG57NkAM2GrvTZJmmGLvg1sZAKZYjW3zq1NvAAAAAElFTkSuQmCC",
flag_9l="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAUCAYAAACaq43EAAACdklEQVRIS72VT2sTQRjGn3c3+z+bpCG0YmkVqSJKUQShlnowFaEWBD+D934K8Sp61osgopeCHyAetQhFoU3Fg1ZKW0xKSLLdbXY3O6/srq3tQUpSzXOZ3dmZ9/c+M+/M0vbtOYaqYtCiGGyUbw2UG1TXcACOarW/wxkAHZNbPCbW4XGH5/3+Lo8MIwFvzZRZm56CaLUH4lrK5xCsrKZg9crkQMHh93VQ/c0kW8Z1sO8MxDFpNjpuC8TtGYZ0CmD3CJhZoONbcH6mm2OPEHTNBZF0sgTJAgsnBl9lxggIh8AZwGtE2Fk0EYoUpEgCpfsezKIMdPtnM6yERdy6zKAhALsH0ZbfBhi9oEBeF6ivmVALOdizWbD3DZtfQ1y7d5Jzn01YxK3zDMSBghQsR2i6Zfg/PmL98V7SNX7nWdIad18kbcGqAJHcp+006RTMLeyvX9gO0Kg8gF9dxPaGjqX6EKZvLmB0fAy68QReq4ThuZdQcv26zgCUB4nmGSbEzlLHYbubgGWzgujzFl4vTST98xMW8uU6Iq+MYvk5lFymb8cMAxQ1TrMkdQBOKyZ0BGrNBQwV38F/VYVTz2NzOV4R4Nyjs+jq8xguPIVi91ndlIEQOsivl1hVBMB+EjzoGnhfncJFYyMprlhxgdnqCpTZCXzZG8ONSx+gZtL971mkIQglUO1hkTNaBKkTHsRoOSVoigtd30P8HCt+j+WHFvL2Ts+8/QlCV9D1ZdCqkmVTUcGe13ewXiaSacILgxRsqRqEe/Tm6iVYL2Mly4Ib+KBPpHMha0M4g7mrJdtGc9f5A4ZIC+m/S5LQcNqgZWgs0XF/+X+bjmDGLwotAlW0wG/NAAAAAElFTkSuQmCC",
flags=[null,flag_1,flag_2,flag_3,flag_4,flag_5,flag_6,flag_7,flag_8,flag_9,flag_10,flag_11,flag_12,flag_13,flag_14],flagsLarge=[null,flag_1l,null,flag_3l,flag_4l,flag_5l,null,flag_7l,flag_8l,flag_9l,null,null,null,null,null],englishFlag=flag_2;try{englishFlag="en-US"==navigator.language?flag_1:flag_2}catch(a){}var englishFlagLarge=flag_2l;try{englishFlagLarge="en-US"==navigator.language?flag_1l:flag_2l}catch(a){}
var maxTrackingAllowed=5E3,verifyRegExp={email:/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,asin:/([BC][A-Z0-9]{9}|\d{9}(!?X|\d))/,globalAsin:/([BC][A-Z0-9]{9}|\d{9}(!?X|\d))/g,productCode:/(\d{12,13})/,globalProductCode:/(\d{12,13})/g,sellerId:/([A-Z0-9]{9,21})/,domainId:/^([1-9]|10|11|12|13|14)$/,vatId:/^((AT)?U[0-9]{8}|(BE)?0[0-9]{9}|(BG)?[0-9]{9,10}|(CY)?[0-9A-Z]{8}[A-Z]{1}|(CZ)?[0-9]{8,10}|(DE)?[0-9]{9}|(DK)?[0-9]{8}|(EE)?[0-9]{9}|(EL|GR)?[0-9]{9}|(ES)?[0-9A-Z][0-9]{7}[0-9A-Z]|(FI)?[0-9]{8}|(FR)?[0-9A-Z]{2}[0-9]{9}|(GB)?([0-9]{9}([0-9]{3})?|[A-Z]{2}[0-9]{3})|(HR)?[0-9]{11}|(HU)?[0-9]{8}|(IE)?[0-9]S[0-9]{5}L|(IE)?[0-9]{7}[A-Z]{1,2}|(IT)?[0-9]{11}|(LT)?([0-9]{9}|[0-9]{12})|(LU)?[0-9]{8}|(LV)?[0-9]{11}|(MT)?[0-9]{8}|(NL)?[0-9]{9}B[0-9]{2}|(PL)?[0-9]{10}|(PT)?[0-9]{9}|(RO)?[0-9]{2,10}|(SE)?[0-9]{12}|(SI)?[0-9]{8}|(SK)?[0-9]{10})$/},
tld,CsvType={AMAZON:{index:0,deal:!0,currency:!0,showDefault:1,isEnabled:!0,isWithShipping:!1,isTopGraph:!0,isOfferData:!1,isTrackable:!0,graphAPI:!0,color:"#FFA500",fillColor:["rgba(255, 224, 193, 0.5)","rgba(255, 224, 193, 1)"],bg:"rgba(255, 225, 192, 0.8)"},NEW:{index:1,deal:!0,currency:!0,showDefault:1,isEnabled:!0,isWithShipping:!1,isTopGraph:!0,isOfferData:!1,isTrackable:!0,graphAPI:!0,color:"#88d",bg:"rgba(225, 235, 255, 0.8)"},USED:{index:2,deal:!0,currency:!0,showDefault:1,isEnabled:!0,isWithShipping:!1,
isTopGraph:!0,isOfferData:!1,isTrackable:!0,graphAPI:!0,color:"#444",bg:"rgba(230, 230, 230, 0.8)"},SALES:{index:3,deal:!0,currency:!1,showDefault:0,isEnabled:!0,isWithShipping:!1,isTopGraph:!0,isOfferData:!1,isTrackable:!0,graphAPI:!0,color:"#8FBC8F",bg:"rgba(198, 237, 203, 0.8)"},LISTPRICE:{index:4,deal:!1,currency:!0,showDefault:0,isEnabled:!0,isWithShipping:!1,isTopGraph:!0,isOfferData:!1,isTrackable:!0,color:"#8B4513",bg:"rgba(214, 175, 147, 0.8)"},COLLECTIBLE:{index:5,deal:!0,currency:!0,showDefault:0,
isEnabled:!0,isWithShipping:!1,isTopGraph:!0,isOfferData:!1,isTrackable:!0,color:"#B0C4DE",bg:"rgba(220, 233, 251, 0.8)"},REFURBISHED:{index:6,deal:!0,currency:!0,showDefault:0,isEnabled:!0,isWithShipping:!1,isTopGraph:!0,isOfferData:!1,isTrackable:!0,color:"#00FFFF",bg:"rgba(198, 255, 255, 0.8)"},NEW_FBM_SHIPPING:{index:7,deal:!0,currency:!0,showDefault:0,isEnabled:!0,isWithShipping:!0,isTopGraph:!0,isBeta:function(){return la._498+la._496},isOfferData:!0,isTrackable:!0,graphAPI:!0,color:"#039BE5",
bg:"rgba(177, 213, 255, 0.8)"},LIGHTNING_DEAL:{index:8,deal:!0,currency:!0,showDefault:1,isEnabled:!0,isWithShipping:!1,isTopGraph:!0,isBeta:function(){return'Tip: To only view lightning deals sold by Amazon use the "Has Amazon offer" filter.'},isOfferData:!1,isTrackable:!0,graphAPI:!0,color:"#ff0000",bg:"rgba(255, 221, 221, 0.8)"},WAREHOUSE:{index:9,deal:!0,currency:!0,showDefault:1,isEnabled:!0,isWithShipping:!1,isTopGraph:!0,isBeta:function(){return la._498+la._494},isOfferData:!0,isTrackable:!0,
graphAPI:!0,color:"#9c27b0",bg:"rgba(237, 206, 243, 0.8)"},NEW_FBA:{index:10,deal:!0,currency:!0,showDefault:0,isEnabled:!0,isWithShipping:!1,isTopGraph:!0,isBeta:function(){return la._498+la._495},isOfferData:!0,isTrackable:!0,graphAPI:!0,color:"#ff5722",bg:"rgba(255, 188, 167, 0.8)"},COUNT_NEW:{index:11,deal:!1,currency:!1,showDefault:0,isEnabled:!0,isWithShipping:!1,isTopGraph:!1,isOfferData:!1,isTrackable:!0,color:"#88d",bg:"rgba(225, 235, 255, 0.8)"},COUNT_USED:{index:12,deal:!1,currency:!1,
showDefault:0,isEnabled:!0,isWithShipping:!1,isTopGraph:!1,isOfferData:!1,isTrackable:!0,color:"#444",bg:"rgba(230, 230, 230, 0.8)"},COUNT_REFURBISHED:{index:13,deal:!1,currency:!1,showDefault:0,isEnabled:!0,isWithShipping:!1,isTopGraph:!1,isOfferData:!1,isTrackable:!0,color:"#00FFFF",bg:"rgba(198, 255, 255, 0.8)"},COUNT_COLLECTIBLE:{index:14,deal:!1,currency:!1,showDefault:0,isEnabled:!0,isWithShipping:!1,isTopGraph:!1,isOfferData:!1,isTrackable:!0,color:"rgba(220, 233, 251, 0.8)",bg:"rgba(220, 233, 251, 0.8)"},
EXTRA_INFO_UPDATES:{index:15,deal:!1,currency:!1,showDefault:0,isEnabled:!1,isWithShipping:!1,isTopGraph:!0,color:"#444",bg:"rgba(255, 225, 192, 0.8)"},RATING:{index:16,deal:!1,currency:!1,showDefault:0,isEnabled:!0,isWithShipping:!1,isTopGraph:!1,isOfferData:!0,isTrackable:!0,color:"#009688",bg:"rgba(200, 255, 251, 0.8)"},COUNT_REVIEWS:{index:17,deal:!1,currency:!1,showDefault:0,isEnabled:!0,isWithShipping:!1,isTopGraph:!1,isOfferData:!0,isTrackable:!0,color:"#8ab300",bg:"rgba(222, 239, 167, 0.8)"},
BUY_BOX_SHIPPING:{index:18,deal:!0,currency:!0,showDefault:0,isEnabled:!0,isWithShipping:!0,isTopGraph:!0,isOfferData:!0,isTrackable:!0,graphAPI:!0,color:"#ff00b4",bg:"rgba(255, 204, 240, 0.8)"},USED_NEW_SHIPPING:{index:19,deal:!0,currency:!0,showDefault:0,isEnabled:!0,isWithShipping:!0,isTopGraph:!0,isOfferData:!0,isTrackable:!0,color:"#444",bg:"rgba(173, 173, 173, 0.7)"},USED_VERY_GOOD_SHIPPING:{index:20,deal:!0,currency:!0,showDefault:0,isEnabled:!0,isWithShipping:!0,isTopGraph:!0,isOfferData:!0,
isTrackable:!0,color:"#009678",bg:"rgba(162, 255, 236, 0.7)"},USED_GOOD_SHIPPING:{index:21,deal:!0,currency:!0,showDefault:0,isEnabled:!0,isWithShipping:!0,isTopGraph:!0,isOfferData:!0,isTrackable:!0,color:"#795548",bg:"rgba(189, 162, 153, 0.8)"},USED_ACCEPTABLE_SHIPPING:{index:22,deal:!0,currency:!0,showDefault:0,isEnabled:!0,isWithShipping:!0,isTopGraph:!0,isOfferData:!0,isTrackable:!0,color:"#9E9E9E",bg:"rgba(220, 220, 220, 0.8)"},COLLECTIBLE_NEW_SHIPPING:{index:23,deal:!1,currency:!0,showDefault:0,
isEnabled:isTest,isWithShipping:!0,isTopGraph:!0,isOfferData:!0,isTrackable:!1,color:"#444",bg:"rgba(255, 225, 192, 0.8)"},COLLECTIBLE_VERY_GOOD_SHIPPING:{index:24,deal:!1,currency:!0,showDefault:0,isEnabled:isTest,isWithShipping:!0,isTopGraph:!0,isOfferData:!0,isTrackable:!1,color:"#444",bg:"rgba(255, 225, 192, 0.8)"},COLLECTIBLE_GOOD_SHIPPING:{index:25,deal:!1,currency:!0,showDefault:0,isEnabled:isTest,isWithShipping:!0,isTopGraph:!0,isOfferData:!0,isTrackable:!1,color:"#444",bg:"rgba(255, 225, 192, 0.8)"},
COLLECTIBLE_ACCEPTABLE_SHIPPING:{index:26,deal:!1,currency:!0,showDefault:0,isEnabled:isTest,isWithShipping:!0,isTopGraph:!0,isOfferData:!0,isTrackable:!1,color:"#222",bg:"rgba(255, 225, 192, 0.8)"},REFURBISHED_SHIPPING:{index:27,deal:!1,currency:!0,showDefault:0,isEnabled:isTest,isWithShipping:!0,isTopGraph:!0,isOfferData:!0,isTrackable:!1,color:"#009688",bg:"rgba(192, 255, 226, 0.8)"},EBAY_NEW_SHIPPING:{index:28,deal:!1,currency:!0,showDefault:0,isEnabled:!0,isWithShipping:!0,isTopGraph:!0,isOfferData:!1,
isTrackable:!1,color:"#009688",bg:"rgba(94, 226, 225, 0.8)"},EBAY_USED_SHIPPING:{index:29,deal:!1,currency:!0,showDefault:0,isEnabled:!0,isWithShipping:!0,isTopGraph:!0,isOfferData:!1,isTrackable:!1,color:"#99E600",bg:"rgba(207, 255, 107, 0.8)"},TRADE_IN:{index:30,deal:!0,currency:!0,showDefault:0,isEnabled:!0,isWithShipping:!1,isTopGraph:!0,isOfferData:!1,isTrackable:!0,color:"#ff597c",bg:"rgba(255, 201, 213, 0.7)"},RENT:{index:31,deal:!1,currency:!0,showDefault:0,isEnabled:!1,isWithShipping:!1,
isTopGraph:!0,isOfferData:!0,isTrackable:!1,color:"#b3809a",bg:"rgba(212, 212, 241, 0.8)"},length:32,getName:function(a){switch(a){case 0:return"Amazon";case 1:return la._93;case 2:return la._94;case 3:return la._391;case 4:return la._398;case 5:return la._399;case 6:return la._400;case 7:return la._401;case 8:return la._402;case 9:return la._403;case 10:return la._404;case 11:return la._405;case 12:return la._406;case 13:return la._407;case 14:return la._408;case 15:return la._439;case 16:return la._440;
case 17:return la._441;case 18:return la._442;case 19:return la._443;case 20:return la._444;case 21:return la._445;case 22:return la._446;case 23:return la._447;case 24:return la._448;case 25:return la._449;case 26:return la._450;case 27:return la._451;case 28:return"eBay New \ud83d\ude9a";case 29:return"eBay Used \ud83d\ude9a";case 30:return"Trade-In";case 31:return"Rental";case 32:return"eBay Auction Used \ud83d\ude9a";default:return""}},getCondition:function(a){var b="Unknown";switch(a){case 1:b=
la._93;break;case 2:b=la._443;break;case 3:b=la._444;break;case 4:b=la._445;break;case 5:b=la._446}return b.replace(" \ud83d\ude9a","")},getNameWithCircle:function(a){return'<i class="fa fa-circle" style="font-size: 7px;transform: translateY(-1px);color:'+CsvType.getObject(a).color+'" ></i> '+CsvType.getName(a)},getDescription:function(a){switch(a){case 0:return la._499;case 1:return la._500;case 2:return la._501;case 3:return la._502;case 4:return la._409;case 5:return la._503;case 6:return la._504;
case 7:return la._505;case 8:return la._402;case 9:return la._403;case 10:return la._506;case 11:return la._405;case 12:return la._406;case 13:return la._407;case 14:return la._408;case 15:return la._439;case 16:return la._440;case 17:return la._441;case 18:return la._507;case 19:return la._508;case 20:return la._508;case 21:return la._508;case 22:return la._508;case 23:return la._447;case 24:return la._448;case 25:return la._449;case 26:return la._450;case 27:return la._451;case 28:return"eBay Fixed Price New \ud83d\ude9a";
case 29:return"eBay Fixed Price Used \ud83d\ude9a";case 30:return"Amazon Trade-In Value";case 31:return"Rental price";case 32:return"eBay Auction Used \ud83d\ude9a";default:return""}},getDescriptionTracking:function(a){switch(a){case 0:return la._818;case 1:return la._819;case 2:return la._820;case 3:return la._391;case 4:return la._398;case 5:return la._821;case 6:return la._822;case 7:return la._823;case 8:return la._402;case 9:return la._403;case 10:return la._824;case 11:return la._405;case 12:return la._406;
case 13:return la._407;case 14:return la._408;case 16:return la._440;case 17:return la._441;case 18:return la._825;case 19:return la._826;case 20:return la._827;case 21:return la._828;case 22:return la._829;case 23:return la._830;case 24:return la._831;case 25:return la._832;case 26:return la._833;case 27:return la._834;case 30:return la._835;default:return""}},getObjectNameByName:function(a){if(0==a.indexOf(la._391))return"SALES";if(0==a.indexOf("eBay New \ud83d\ude9a"))return"EBAY_NEW_SHIPPING";
if(0==a.indexOf("eBay Used \ud83d\ude9a"))return"EBAY_USED_SHIPPING";for(var b in CsvType)if("object"==typeof CsvType[b]&&a==CsvType.getName(CsvType[b].index))return b},getObject:function(a){for(var b in CsvType)if("object"==typeof CsvType[b]&&CsvType[b].index==a)return CsvType[b]},getObjectName:function(a){for(var b in CsvType)if("object"==typeof CsvType[b]&&CsvType[b].index==a)return b},format:function(a,b,d){if("undefined"===typeof CsvType[a])return"";if(null==b||-1==b)return"-";if(CsvType[a].currency)return Money.format(b,
{sourceDomainId:d,targetDomainId:d});if("RATING"==a)return(b/10).toFixed(1);b=NumberUtil.format(b);"SALES"===a&&(b="# "+b);return b}},graphIsRestricted=function(a,b,d){return hasDataAccessSubscription&&!0!==d?!1:[CsvType.EBAY_NEW_SHIPPING.index,CsvType.EBAY_USED_SHIPPING.index].includes(Number(b))?!0:!0!==[!1,!0,!0,!0,!0,!0,!0,!1,!0,!0,!0,!0,!0,!1][Number(a)]||!0!==[!1,!1,!1,!0,!1,!1,!1,!1,!1,!1,!1,!0,!0,!0,!0,!1,!0,!0,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!0,!0,!1,!1][Number(b)]?!1:!0};
function getStarsFromRating(a){a*=10;for(var b="#f1bb00",d="",g=100;600>g;g+=100){if(g<=a)var m="fa-star";else a+100<g?m="fa-star-o":(m=a%100,75<=m?m="fa-star":25>m?(m="fa-star-o",b="rgba(241, 187, 0, .5)"):m="fa-star-half-o");d+='<i style="color:'+b+'" class="fa '+m+'"></i>'}return d}
function findOffer(a,b,d,g,m,q,h){if(null==a)return null;if(null==h&&q==CsvType.BUY_BOX_SHIPPING&&null!=b&&1<b.length)for(var n=0;n<b.length;n+=2){var t=Number(b[n]);if(t>d)break;if(!(t<d&&n+2!=b.length&&b[n+2]<=d)){h=b[n+1];break}}for(b=0;b<a.length;b++)if(n=a[b],!(d>n.lastSeen||null!=h&&n.sellerId!=h||null==n.offerCSV||2>n.offerCSV.length)){switch(q.index){case CsvType.AMAZON.index:if(!n.isAmazon)continue;break;case CsvType.WAREHOUSE.index:if(!n.isWarehouseDeal)continue;break;case CsvType.NEW_FBA.index:if(n.isAmazon||
!n.isPrime||n.condition!=ConditionType.NEW)continue;break;case CsvType.NEW_FBM_SHIPPING.index:if(n.isAmazon||n.isPrime||n.condition!=ConditionType.NEW)continue;break;case CsvType.USED_NEW_SHIPPING.index:if(n.condition!=ConditionType.USED_NEW)continue;break;case CsvType.USED_VERY_GOOD_SHIPPING.index:if(n.condition!=ConditionType.USED_VERY_GOOD)continue;break;case CsvType.USED_GOOD_SHIPPING.index:if(n.condition!=ConditionType.USED_GOOD)continue;break;case CsvType.USED_ACCEPTABLE_SHIPPING.index:if(n.condition!=
ConditionType.USED_ACCEPTABLE)continue;break;case CsvType.BUY_BOX_SHIPPING.index:if(null==h||n.sellerId!=h)continue;break;default:continue}for(t=0;t<n.offerCSV.length;t+=3){var p=n.offerCSV[t];if(p>d)break;if(!(p<d&&t+3!=n.offerCSV.length&&n.offerCSV[t+3]<d)){var v=n.offerCSV[t+1],E=n.offerCSV[t+2],F=!1;q.isWithShipping?null==m&&(v+E==g?F=!0:v==g&&E==m&&(F=!0)):v==g&&(F=!0);if(F)return n.item||(n.item={}),!0!==disableStockFeatures&&(n.item.stock=getValueAtTime(n.stockCSV,d,CsvType.AMAZON)),n.item.price=
v,n.item.shipping=E,n.item.time=keepaTime.minutesToEpoch(p),n}}}return null}
for(var continents=[[1,6,11],[12],[2,3,4,8,9,14],[5,10],[13]],domainIdToContinent=[0,0,2,2,2,3,0,3,2,2,3,0,1,4,2],LocaleType={length:numberOfDomains,getName:function(a){a=Number(a);switch(a){case 1:return"US";case 2:return"UK";case 3:return"DE";case 4:return"FR";case 5:return"JP";case 6:return"CA";case 7:return"CN";case 8:return"IT";case 9:return"ES";case 10:return"IN";case 11:return"MX";case 12:return"BR";case 13:return"AU";case 14:return"NL";default:return""}},getByRegionOrder:function(a){return a?
[la._664,1,6,11,la._353,2,3,4,8,9,14,la._354,5,10]:[1,6,11,2,3,4,8,9,5,10]},getObjectNameByName:function(a){return a},getObject:function(a){for(var b in LocaleType)if("object"==typeof LocaleType[b]&&LocaleType[b].index==a)return LocaleType[b]},getObjectName:function(a){return LocaleType.getName(a)},getContinentId:function(a){return domainIdToContinent[a]},getContinentName:function(a){return[la._664,la._665,la._353,la._354,la._663][domainIdToContinent[a]]},getShippingInfoLink:function(a){a=Number(a);
switch(a){case 1:return"http://www.amazon.com/gp/redirect.html?location=/gp/help/customer/display.html/ref=hp_left_ac?ie=UTF8&nodeId=596184";case 2:return"http://www.amazon.co.uk/gp/redirect.html?location=/gp/help/customer/display.html?nodeId=11072981";case 3:return"http://www.amazon.de/gp/redirect.html?location=/gp/help/customer/display.html/ref=hp_left_sib?ie=UTF8&nodeId=200170100";case 4:return"http://www.amazon.fr/gp/redirect.html?location=/gp/help/customer/display.html/ref=hp_left_sib?ie=UTF8&nodeId=200781660";
case 5:return"http://www.amazon.co.jp/gp/redirect.html?location=/gp/help/customer/display.html/ref=footer_shiprates?ie=UTF8&nodeId=642982";case 6:return"http://www.amazon.ca/gp/redirect.html?location=/gp/help/customer/display.html/ref=hp_rel_topic?ie=UTF8&nodeId=915474";case 7:return"";case 8:return"http://www.amazon.it/gp/redirect.html?location=/gp/help/customer/display.html/ref=hp_left_cn?ie=UTF8&nodeId=200533920";case 9:return"http://www.amazon.es/gp/redirect.html?location=/gp/help/customer/display.html/ref=hp_left_cn?ie=UTF8&nodeId=200533920";
case 10:return"";case 11:return"";case 12:return"";case 13:return"";case 14:return"";default:return""}}},LanguageHelper={getAlpha2:function(a){a=Number(a);switch(a){case 1:return"en";case 3:return"de";case 5:return"jp";case 7:return"cn";case 8:return"it";default:return"en"}},getLocaleString:function(a,b){a=Number(a);b=Number(b);switch(a){case 1:return a=LocaleType.getName(b),["US","CA","UK"].includes(a)?"en-"+("UK"==a?"GB":a):"en-US";case 3:return"de-DE";case 5:return"ja-JP";case 7:return"cn-CN";
case 8:return"it-IT";default:return"en-US"}}},MerchantType={RATING:{index:0,deal:!1,currency:!1,showDefault:1,isEnabled:!0,isWithShipping:!1,isTopGraph:!0,isOfferData:!1,color:"#009688",bg:"rgba(200, 255, 251, 0.8)"},RATING_COUNT:{index:1,deal:!1,currency:!1,showDefault:1,isEnabled:!0,isWithShipping:!1,isTopGraph:!0,isOfferData:!1,color:"#8ab300",bg:"rgba(222, 239, 167, 0.8)"},LISTINGS_COUNT:{index:2,deal:!1,currency:!1,showDefault:1,isEnabled:!0,isWithShipping:!1,isTopGraph:!0,isOfferData:!0,color:"#B0C4DE",
bg:"rgba(225, 235, 255, 0.8)"},length:3,getName:function(a){a=Number(a);switch(a){case 0:return la._440;case 1:return la._441;case 2:return"Listing Count";default:return""}},getObjectNameByName:function(a){for(var b in MerchantType)if("object"==typeof MerchantType[b]&&a==MerchantType.getName(MerchantType[b].index))return b},getObject:function(a){for(var b in MerchantType)if("object"==typeof MerchantType[b]&&MerchantType[b].index==a)return MerchantType[b]},getObjectName:function(a){for(var b in MerchantType)if("object"==
typeof MerchantType[b]&&MerchantType[b].index==a)return b}},RatingType={COUNT_RATING:{index:0,deal:!1,currency:!1,showDefault:1,isEnabled:!0,isWithShipping:!1,isTopGraph:!0,isOfferData:!1,color:"#009688",bg:"rgba(200, 255, 251, 0.9)"},COUNT_REVIEW:{index:1,deal:!1,currency:!1,showDefault:1,isEnabled:!0,isWithShipping:!1,isTopGraph:!0,isOfferData:!1,color:"#8ab300",bg:"rgba(222, 239, 167, 0.9)"},length:2,getName:function(a){a=Number(a);switch(a){case 0:return"Rating Count";case 1:return la._441;default:return""}},
getObjectNameByName:function(a){for(var b in RatingType)if("object"==typeof RatingType[b]&&a==RatingType.getName(RatingType[b].index))return b},getObject:function(a){for(var b in RatingType)if("object"==typeof RatingType[b]&&RatingType[b].index==a)return RatingType[b]},getObjectName:function(a){for(var b in RatingType)if("object"==typeof RatingType[b]&&RatingType[b].index==a)return b}},OfferType={STOCK:{index:0,deal:!1,currency:!1,showDefault:1,isEnabled:!0,isWithShipping:!1,isTopGraph:!0,isOfferData:!1,
color:"#2692c2",bg:"rgba(185, 238, 255, 1.0)"},PRICE:{index:1,deal:!1,currency:!0,showDefault:1,isEnabled:!0,isWithShipping:!0,isTopGraph:!0,isOfferData:!1,color:"#000",background:"#000"},length:2,getName:function(a){a=Number(a);switch(a){case 0:return la._632;case 1:return la._488;default:return""}},getObjectNameByName:function(a){for(var b in OfferType)if("object"==typeof OfferType[b]&&a==OfferType.getName(OfferType[b].index))return b},getObject:function(a){for(var b in OfferType)if("object"==typeof OfferType[b]&&
OfferType[b].index==a)return OfferType[b]},getObjectName:function(a){for(var b in OfferType)if("object"==typeof OfferType[b]&&OfferType[b].index==a)return b}},ConditionType={UNKNOWN:0,NEW:1,USED_NEW:2,USED_VERY_GOOD:3,USED_GOOD:4,USED_ACCEPTABLE:5,REFURBISHED:6,COLLECTIBLE_NEW:7,COLLECTIBLE_VERY_GOOD:8,COLLECTIBLE_GOOD:9,COLLECTIBLE_ACCEPTABLE:10,RENTAL:11,length:12,getName:function(a){a=Number(a);switch(a){case 0:return la._530;case 1:return la._93;case 2:return la._637;case 3:return la._638;case 4:return la._639;
case 5:return la._640;case 6:return la._645;case 7:return la._641;case 8:return la._642;case 9:return la._643;case 10:return la._644;case 11:return la._655;default:return la._530}},getCorrespondingCsvType:function(a){var b=null;switch(a){case 2:b=CsvType.USED_NEW_SHIPPING;break;case 3:b=CsvType.USED_VERY_GOOD_SHIPPING;break;case 4:b=CsvType.USED_GOOD_SHIPPING;break;case 5:b=CsvType.USED_ACCEPTABLE_SHIPPING;break;case 6:b=CsvType.REFURBISHED_SHIPPING;break;case 7:b=CsvType.COLLECTIBLE_NEW_SHIPPING;
break;case 8:b=CsvType.COLLECTIBLE_VERY_GOOD_SHIPPING;break;case 9:b=CsvType.COLLECTIBLE_GOOD_SHIPPING;break;case 10:b=CsvType.COLLECTIBLE_ACCEPTABLE_SHIPPING;break;case 11:b=CsvType.RENT}return b},getMetaCondition:function(a){a=Number(a);switch(a){case 1:return"NEW";case 2:case 3:case 4:case 5:return"USED";case 6:return"REFURBISHED";case 7:case 8:case 9:case 10:return"COLLECTIBLE";case 11:return"RENTAL";default:return"UNKNOWN"}}},domainId=0;domainId<numberOfDomains;domainId++)7!=domainId&&(LocaleType[LocaleType.getName(domainId)]=
{index:domainId,deal:!0,currency:!0,showDefault:1});var AccountType=["GUEST","ANON","KEEPA"],EmailStatus=["NEW","VERIFIED","BLOCKED"],NotificationType="NONE EMAIL TWITTER FACEBOOK BROWSER RSS API".split(" "),checkboxNameArray=" US GB DE FR JP CA CN IT ES IN MX BR AU".split(" "),NotifyIfType=["OUT_OF_STOCK","BACK_IN_STOCK","EVERY_CHANGE"],desiredSeriesPrefix="desired-",window_focus=!0;$(window).focus(function(){window_focus=!0}).blur(function(){window_focus=!1});
var selectText=function(a){if(document.body.createTextRange){var b=document.body.createTextRange();b.moveToElementText(a);b.select()}else if(window.getSelection){b=window.getSelection();var d=document.createRange();d.selectNodeContents(a);b.removeAllRanges();b.addRange(d)}};function tryParseJSON(a,b){try{var d=JSON.parse(a);if(d&&"object"===typeof d&&null!==d)return d}catch(g){b||reportBug(g,a)}return null}
var material=function(){return{getButton:function(a,b,d,g,m,q){return'<button id="'+a+'" class="mdc-button '+(m?"":"mdc-button--raised")+" "+(q?"mdc-button--secondary":"mdc-button--primary")+'" data-mdc-auto-init="MDCRipple" name="action">\n\t\t\t'+(d?'<i class="fa fa-'+d+'" ></i>&ensp;':"")+"\n\t\t\t"+b+"\n\t\t\t"+(g?'&ensp;<i class="fa fa-'+g+'" ></i>':"")+"\n\t\t</button>"},getCheckbox:function(a,b,d,g,m,q){return'<div class="mdc-form-field">\n\t\t  <div class="mdc-checkbox" data-mdc-auto-init="MDCCheckbox">\n\t\t\t<input class="mdc-checkbox__native-control" type="checkbox" id="'+
a+'-checkbox" '+(d?"checked":"")+' name="'+m+'" '+(g?"required":"")+(0==q||q?' value="'+q+'"':"")+' />\n\t\t\t<div class="mdc-checkbox__background">\n\t\t\t  <svg class="mdc-checkbox__checkmark" viewBox="0 0 24 24">\n\t\t\t\t<path class="mdc-checkbox__checkmark-path" fill="none" stroke="white" d="M1.73,12.91 8.1,19.28 22.79,4.59"/>\n\t\t\t  </svg>\n\t\t\t  <div class="mdc-checkbox__mixedmark"></div>\n\t\t\t</div>\n\t\t  </div>\n\t\t  <label for="'+a+'-checkbox">'+b+"</label>\n\t\t</div>"},getCountrySelect:function(a,
b){for(var d="",g=[],m=[],q="US GB DE FR JP CA CN IT ES IN MX BR AU".split(" "),h=$jscomp.makeIterator(q),n=h.next();!n.done;n=h.next())m.push(a[n.value]);for(var t in a)g.push([a[t].name,a[t]]);g.sort(function(E,F){return E[0].localeCompare(F[0])});for(var p in g)m.push(g[p][1]);a=!1;for(var v in m)g=m[v],(h=b==g.id&&!a)&&(a=!0),d+="<option "+(h?'selected="selected"':"")+' id="'+g.id+'" data-country="'+g.name+'">'+g.name+"</option>",Number(v)==q.length-1&&(d+="<option disabled>----------------</option>");
return'<div class="mdc-select" style="margin-top:12px;">\n\t\t\t\t<select id="countrySelect" name="billing-country" autocomplete="billing country" class="mdc-select__native-control">'+d+"</select>\n\t\t\t</div>"},getInput:function(a,b,d,g,m,q,h,n,t,p,v,E){return'<div class="mdc-text-field mdc-text-field--dense"'+(t?' style="width:inherit;"':"")+' data-mdc-auto-init="MDCTextField">\n\t\t\t  <input type="'+(E?E:"text")+'" id="'+d+'" class="mdc-text-field__input" '+(n?'placeholder="'+n+'"':"")+"  "+
(b?'pattern="'+b+'"':"")+' name="'+q+'"'+(v?' value="'+v+'"':"")+" "+(a?"required":"")+" "+(m?'autocomplete="'+m+'"':"")+' aria-controls="'+d+'-validation-msg">\n\t\t\t  <label for="'+d+'" class="mdc-floating-label"'+(p?' style="'+p+'"':"")+">"+g+"</label>\n\t\t</div>\n\t\t"+(h?'<p id="'+d+'-validation-msg" class="mdc-text-field-helper-text mdc-text-field-helper-text--validation-msg" aria-hidden="true"> \n\t\t\t\t'+h+"\n\t\t</p>":"")},getInputNumber:function(a,b,d,g,m,q,h,n){return(q?q+"&ensp;":"")+
'\n\t\t<div class="mdc-text-field mdc-text-field--dense">\n\t\t\t<input type="number" id="'+a+'" class="mdc-text-field__input" value="'+b+'" min="'+d+'" max="'+g+'"'+(m?" disabled":"")+(n?' style="'+n+'"':"")+">\n\t\t</div>\n\t\t"+(h?"&ensp;"+h:"")},getInputNumberPattern:function(a,b,d,g,m,q,h,n,t,p){return'<div class="mdc-text-field mdc-text-field--dense'+(n||p?" mdc-text-field--with-leading-icon":"")+(t?" mdc-text-field--with-trailing-icon":"")+'" data-mdc-auto-init="MDCTextField">\n\t\t\t'+(n?
'<i class="mdc-text-field__icon fa fa-fw fa-lg fa-'+n+'"></i>':"")+"\n\t\t\t"+(p?p:"")+'\n\t\t\t<input type="text" id="'+a+'" class="mdc-text-field__input" name="'+b+'"'+(0==g||g?' value="'+g+'"':"")+(m?' pattern="'+m+'"':"")+(q?' title="'+q+'"':"")+(h?'autocomplete="'+h+'"':"")+'>\n\t\t\t<label for="'+a+'" class="mdc-floating-label">'+d+"</label>\n\t\t\t"+(t?'<i class="mdc-text-field__icon fa fa-fw fa-lg fa-'+t+'"></i>':"")+"\n\t\t</div>"},getInputDate:function(a,b,d,g){return'<label class="mdc-text-field mdc-text-field--dense" data-mdc-auto-init="MDCTextField">\n\t\t\t<input type="date" id="'+
a+'" name="'+b+'" '+(g?' value="'+g+'"':"")+' min="1900-01-01" max="2999-12-31" step="1" class="mdc-text-field__input" autocomplete="off">\n\t\t\t<label for="'+a+'" class="mdc-floating-label">'+d+"</label>\n\t\t</label>"},getInputFile:function(a,b,d,g,m,q,h){return'<div class="mdc-text-field mdc-text-field--dense"'+(q?' style="width:inherit;"':"")+' data-mdc-auto-init="MDCTextField">\n\t\t\t<input id="'+a+'Trigger" class="mdc-text-field__input"'+(m?" required":"")+'>\n\t\t\t<input id="'+a+'" name="'+
b+'" type="file"'+(g?' accept="'+g+'"':"")+' style="display:none;">\n\t\t\t<label for="'+a+'" class="mdc-floating-label"'+(h?' style="'+h+'"':"")+">"+d+'</label>\n\t\t</div>\n\t\t<p id="'+a+'-validation-msg" class="mdc-text-field-helper-text mdc-text-field-helper-text--validation-msg" aria-hidden="true">\n\t\t\tno valid file found\n\t\t</p>'},getMenu:function(a,b){var d="";b=$jscomp.makeIterator(b);for(var g=b.next();!g.done;g=b.next())g=g.value,d=g.divider?d+'<li class="mdc-list-divider"></li>':
d+("<li"+(g.value?' data-value="'+g.value+'"':"")+' class="mdc-list-item" role="menuitem" tabindex="'+(g.disabled?-1:0)+'"'+(g.disabled?' aria-disabled="true"':"")+(g.style?' style="'+g.style+'"':"")+">\n\t\t\t\t\t"+g.content+"\n\t\t\t\t</li>");return"\n\t\t\t<div"+(a?' id="'+a+'"':"")+' class="mdc-menu" tabindex="-1">\n\t\t\t\t<ul class="mdc-menu__items mdc-list" role="menu" aria-hidden="true">\n\t\t\t\t'+d+"\n\t\t\t\t</ul>\n\t\t\t</div>\t\n\t\t"},getRadio:function(a,b,d,g,m,q,h){return'<div class="mdc-form-field"'+
("undefined"!=typeof h?' title="'+h+'"':"")+'>\n\t\t  <div class="mdc-radio '+(m?"mdc-radio--disabled":"")+'" data-mdc-auto-init="MDCRadio">\n\t\t\t<input class="mdc-radio__native-control" type="radio" id="'+a+'-radio" name="'+g+'"'+("undefined"!=typeof q?' value="'+q+'"':"")+(d?" checked":"")+(m?" disabled":"")+'>\n\t\t\t<div class="mdc-radio__background">\n\t\t\t  <div class="mdc-radio__outer-circle"></div>\n\t\t\t  <div class="mdc-radio__inner-circle"></div>\n\t\t\t</div>\n\t\t  </div>\n\t\t  <label id="'+
a+'-radio1-label" for="'+a+'-radio">'+b+"</label>\n\t\t</div>"},getSelect:function(a,b,d,g,m,q,h){var n=h?"":-1;m=!0!==q?'<option value="'+n+'"'+(d==n?' selected="selected"':"")+">"+(m?m:"All")+"</option>":"";for(var t in g)q=g[t],m+='<option value="'+q.value+'"'+(d==q.value?' selected="selected"':"")+">"+q.label+"</option>";return'<div class="mdc-select">\n\t\t\t<select id="'+a+'" name="'+b+'" class="mdc-select__native-control"'+(h?" required":"")+">\n\t\t\t \t"+m+"\n\t\t\t</select>\n\t\t</div>"},
getSwitch:function(a,b,d){return'<div class="mdc-switch">\n\t\t\t<input type="checkbox" id="'+a+'-switch" class="mdc-switch__native-control"'+(b?" checked":"")+(d?" disabled":"")+' />\n\t\t\t<div class="mdc-switch__background">\n\t\t\t<div class="mdc-switch__knob"></div>\n\t\t\t</div>\n\t\t</div>'},getTabs:function(a){for(var b=a.mode?a.mode:"text-icon",d="",g="",m=$jscomp.makeIterator(a.tabs),q=m.next();!q.done;q=m.next())if(q=q.value)"text-icon"===b?d+='<a class="mdc-tab mdc-tab--with-icon-and-text'+
(q.isActive?" mdc-tab--active":"")+'"'+(q.tab.id?' id="'+q.tab.id+'"':"")+'>\n\t\t\t\t\t\t<i class="fa fa-'+q.tab.icon+' mdc-tab__icon" aria-hidden="'+(q.isActive?"false":"true")+'"></i>\n\t\t\t\t\t\t<span class="mdc-tab__icon-text">'+q.tab.label+"</span>\n\t\t\t\t\t</a>":"text"===b&&(d+='<a class="mdc-tab'+(q.isActive?" mdc-tab--active":"")+'"'+(q.tab.id?' id="'+q.tab.id+'"':"")+">\n\t\t\t\t\t\t"+q.tab.label+"\n\t\t\t\t\t</a>"),g+='<div class="panel '+(q.isActive?"active":"")+'" '+(q.panel.style?
'style="'+q.panel.style+'"':"")+" "+(q.panel.id?'id="'+q.panel.id+'"':"")+' role="tabpanel" aria-hidden="false">'+(q.panel.content?q.panel.content:"")+"</div>";return'<section class="dynamic-toolbar">\n\t\t\t\t<nav id="'+(a.id?a.id:"icon-text-tab-bar")+'" class="mdc-tab-bar'+("text-icon"===b?" mdc-tab-bar--icons-with-text":"")+'">\n\t\t\t\t\t'+d+'\n\t\t\t\t\t<span class="mdc-tab-bar__indicator"></span>\n\t\t\t\t</nav>\n\t\t\t</section>\n\t\t\t<section>\n\t\t\t\t<div class="panels '+(a.panelsClass?
a.panelsClass:"")+'">\n\t\t\t\t\t'+g+"\n\t\t\t\t</div>\n\t\t\t</section>"},init:function(a){setTimeout(function(){mdc.autoInit($(a)[0],function(){})},0)}}}();function getAmazonWishListUrl(a){return"https://www.amazon."+getTldByDomain(a.domain)+"/gp/registry/wishlist/"+a.id+"/"}
NotificationType={getName:function(a){switch(a){case 0:return"Email";case 1:return"Twitter";case 2:return"Facebook";case 3:return"Web Push";case 4:return"Facebook Messenger";case 5:return"API";case 6:return"Keepa App";case 7:return"Telegram";default:return"Unknown"}},getNotifiedViaText:function(a){for(var b="",d=0;d<a.length;d++)a[d]&&(b+=NotificationType.getName(d)+", ");return b.substr(0,b.length-2)}};
var NotificationCause={getName:function(a,b){b=void 0===b?!0:b;switch(a){case 0:return la._525;case 1:return b?la._526:la._864;case 2:return b?la._527:la._865;case 3:return b?la._528:la._866;case 4:return la._134;case 5:return la._462;case 6:return b?la._529:la._867;case 7:return la._560;default:return la._530}}};function getQueryVariable(a){var b=null,d=[];location.hash.substr(7).split("&").forEach(function(g){d=g.split("=");d[0]===a&&(b=d[1])});return b}
function getCurrencyByDomain(a){a=parseInt(a);switch(a){case 1:case 6:return dollar;case 2:return pound;case 3:case 4:case 8:case 9:case 14:return euro;case 7:case 5:return yen;case 10:return rupee;case 11:return dollar;case 12:return real;case 13:return dollar;default:return dollar}}
function getCurrencyCodeByDomain(a){a=parseInt(a);switch(a){case 1:return"USD";case 2:return"GBP";case 3:case 4:case 8:case 9:case 14:return"EUR";case 5:return"JPY";case 6:return"CAD";case 7:return"CNY";case 10:return"INR";case 11:return"MXN";case 12:return"BRL";case 13:return"AUD";default:return"???"}}var globalEbayArray=[!1,!0,!0,!0,!1,!1,!0,!1,!0,!0,!0,!1,!1,!1,!1];
function getBucketInformation(){if(("undefined"!==typeof storage.bucketUpdated||null==storage.bucketUpdated)&&1E3>Date.now()-Number(storage.bucketUpdated)){var a={tokenBucketSize:storage.tokenBucketSize,tokens:storage.tokens};updateQuotaWidget(a);return $.Deferred().resolve(a)}return network.request({path:"user/settings",type:"getTokenStatus",version:3}).done(function(b){isTest&&"undefined"==typeof b.tokenBucketSize&&console.error("BUCKET ERROR: tokenBucketSize is undefined");updateQuotaWidget({tokenBucketSize:b.tokenBucketSize,
tokens:b.tokens});settings.applyDataBucket(b.tokenBucketSize,b.tokens)}).fail(function(b){401==b.status?console.log("not authorized - no account"):console.log(b)})}
function getAmazonRedirectByDomain(a,b){var d=lastUrl.substr(2);if(1==$("#dealSearchBar").length){d="dealsOverlay";try{var g=dealWrapperInstance.get();g.lastRequest&&g.lastRequest.priceTypes&&(d+="/"+CsvType.getObjectName(g.lastRequest.priceTypes[0]))}catch(m){}}else 1==$("#trackingSearch").length?d="manageOverlay":1==$("#searchPage").length&&(d="searchOverlay");return"https://dyn.keepa.com/r/?type=amazon&smile="+("true"===storage.useSmile?"1":"0")+"&domain="+a+"&asin="+b+"&source=website&path="+
d}function getEbayRedirectByDomain(a,b,d,g){return"https://dyn.keepa.com/r/?type=ebay&domain="+a+"&asin="+b+"&search="+(d?1:0)+"&source=website&path="+(g||CsvType.EBAY_NEW_SHIPPING.index)}
function refreshDomain(a){a=parseInt(a);switch(a){case 1:currency=dollar;tld="com";break;case 2:currency=pound;tld="co.uk";break;case 3:currency=euro;tld="de";break;case 4:currency=euro;tld="fr";break;case 5:currency=yen;tld="co.jp";break;case 6:currency=dollar;tld="ca";break;case 7:currency=yen;tld="cn";break;case 8:currency=euro;tld="it";break;case 9:currency=euro;tld="es";break;case 10:currency=rupee;tld="in";break;case 11:currency=dollar;tld="com.mx";break;case 12:currency=real;tld="com.br";break;
case 13:currency=dollar;tld="com.au";break;case 14:currency=euro;tld="nl";break;default:currency=dollar,tld="com"}}function getTldByDomain(a){a=parseInt(a);switch(a){case 1:return"com";case 2:return"co.uk";case 3:return"de";case 4:return"fr";case 5:return"co.jp";case 6:return"ca";case 7:return"cn";case 8:return"it";case 9:return"es";case 10:return"in";case 11:return"com.mx";case 12:return"com.br";case 13:return"com.au";case 14:return"nl";default:return"com"}}
function getSSTldByDomain(a){a=parseInt(a);switch(a){case 1:return"com";case 2:return"co.uk";case 3:return"co.uk";case 4:return"co.uk";case 5:return"co.jp";case 6:return"com";case 7:return"cn";case 8:return"co.uk";case 9:return"co.uk";case 10:return"co.uk";case 11:return"com";case 12:return"com";case 13:return"com.au";case 14:return"nl";default:return"com"}}
function getSSMktByDomain(a){a=parseInt(a);switch(a){case 1:return"1";case 2:return"3";case 3:return"4";case 4:return"5";case 5:return"6";case 6:return"7";case 7:return"3240";case 8:return"35691";case 9:return"44551";case 10:return"44571";case 11:return"771770";case 12:return"526970";case 13:return"111172";default:return"1"}}
function getDomainByTld(a){a=a.toLowerCase();switch(a){case "com":return 1;case "co.uk":return 2;case "de":return 3;case "fr":return 4;case "co.jp":return 5;case "ca":return 6;case "cn":return 7;case "it":return 8;case "es":return 9;case "in":return 10;case "com.mx":return 11;case "com.br":return 12;case "com.au":return 13;case "nl":return 14;default:return 1}}(function(a){a.fn.onEnter=function(b){this.bind("keypress",function(d){13==d.keyCode&&b.apply(this,[d])});return this}})(jQuery);
function DiscourseApi(a){this.url=a}DiscourseApi.prototype.category=function(a,b){network.ajax({url:this.url+"/c/"+a+".json"}).done(function(d){b(d)})};DiscourseApi.prototype.topic=function(a,b){network.ajax({url:this.url+"/t/"+a+".json"}).done(function(d){b(d)})};DiscourseApi.prototype.notification=function(a){network.ajax({url:this.url+"/notifications.json",xhrFields:{withCredentials:!0}}).done(function(b){a(b)})};
var discourseUrl="https://discuss.keepa.com",discourseBaseUrl="#!discuss",discourseApi=new DiscourseApi(discourseUrl),serviceWorker=function(){function a(J,U){if(!q())return!1;var R=!1;m().done(function(S){R=!0}).fail(function(S){R=S?!1:null}).always(function(){if(null!=R&&(!R||U)){var S='Receive Web Push Notifications for Price Alerts<br><div style="font-size:11px;margin-left:35px;"><span style="color:black;">Chrome and Firefox</span>: You will receive notifications whenever your browser is open. <span style="color:black">Chrome for Android</span>: Always.<br>Registration needs to be repeated for each browser through which you want to receive web push notifications.'+
(R?' To send a test message, <span class="settings-chpw" id="testMessage">click here</span>.':"")+(U?"":"<br> You can change your decision anytime in your account settings.")+"</div>",fa='<i class="settings-chpw fa fa-toggle-'+(R?"on":"off")+' fa-18"></i>';iframe.isIframe&&(S='Want to receive Web Push Notifications for Price Alerts? Go to your <a target="_parent" href="https://keepa.com/#!settings" class="url">account settings</a> to enable them on all your supported devices.',fa="");replaceHtml(J,
fa+"&emsp;"+S);$("#"+J).css("color","#444");U=!0;var qa=!1;$("#testMessage").on("click",function(){qa||(b(),qa=!0,setTimeout(function(){qa=!1},5E3))});$("#"+J+" i").on("click",function(oa){$(oa.currentTarget).replaceWith('<i style="margin:0 4px;" class="fa fa-refresh fa-rotate-90 fa-spin"></i>');R?d().always(function(){a(J,U)}):g().always(function(){a(J,U)})})}})}function b(){var J=$.Deferred();network.request({path:"user/session",type:"webPushSendTest",content:"",version:3}).done(function(U){null==
U.error?J.resolve(p):J.reject(p)}).fail(function(){J.reject(p)});return J}function d(){var J=$.Deferred();navigator.serviceWorker.ready.then(function(U){U.pushManager.getSubscription().then(function(R){if(R){var S=R.endpoint,fa=R.getKey?R.getKey("p256dh"):"",qa=R.getKey?R.getKey("auth"):"";network.request({path:"user/session",type:"webPushUnregister",content:S,key:fa?btoa(String.fromCharCode.apply(null,new Uint8Array(fa))):"",auth:qa?btoa(String.fromCharCode.apply(null,new Uint8Array(qa))):"",version:3}).always(function(){R.unsubscribe().then(function(){J.resolve(S)}).catch(function(oa){J.reject(S);
console.error("Error unsubscribing: ",oa)})})}else J.resolve()}).catch(function(R){console.error("Error unsubscribing.",R);J.reject(null)})});return J}function g(){var J=$.Deferred();navigator.serviceWorker.ready.then(function(U){U.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:"BPD1V1O2wWmO_i2VyaeAxu1EiKnrZDJS-zgZ3pAPUJbtMz8jC5lTg0OUxCmJBd1opBSWIEakIjWOEEtOEMoP2TA"}).then(function(R){var S=R.getKey?R.getKey("p256dh"):"",fa=R.getKey?R.getKey("auth"):"",qa=R.endpoint;network.request({path:"user/session",
type:"webPushRegister",content:qa,key:S?btoa(String.fromCharCode.apply(null,new Uint8Array(S))):"",auth:fa?btoa(String.fromCharCode.apply(null,new Uint8Array(fa))):"",version:3}).done(function(oa){null==oa.error?J.resolve(qa):J.reject(qa)}).fail(function(){J.reject(qa)})}).catch(function(R){U.unregister().finally(function(){U.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:"BPD1V1O2wWmO_i2VyaeAxu1EiKnrZDJS-zgZ3pAPUJbtMz8jC5lTg0OUxCmJBd1opBSWIEakIjWOEEtOEMoP2TA"}).then(function(S){var fa=
S.getKey?S.getKey("p256dh"):"",qa=S.getKey?S.getKey("auth"):"",oa=S.endpoint;network.request({path:"user/session",type:"webPushRegister",content:oa,key:fa?btoa(String.fromCharCode.apply(null,new Uint8Array(fa))):"",auth:qa?btoa(String.fromCharCode.apply(null,new Uint8Array(qa))):"",version:3}).done(function(va){null==va.error?J.resolve(oa):J.reject(oa)}).fail(function(){J.reject(oa)})}).catch(function(S){U.unregister();J.reject(null);showPopup("Unable to register push subscription",'<div style="width:600px;">'+
S+"<br><br>Please try again. If it still does not work: Are using incognito or private mode? If that is not the case, please change your Notification exception of https://keepa.com:443 here:<br><br>Chrome:<br>chrome://settings/contentExceptions#notifications<br><br>Firefox:<br>Open about:preferences#privacy and open the Notifications settings.</div>",!0)})})})});return J}function m(){var J=$.Deferred();navigator.serviceWorker.ready.then(function(U){U.pushManager.getSubscription().then(function(R){if(R){var S=
R.endpoint,fa=R.getKey?R.getKey("p256dh"):"";R=R.getKey?R.getKey("auth"):"";network.request({path:"user/session",type:"webPushStatus",content:S,key:fa?btoa(String.fromCharCode.apply(null,new Uint8Array(fa))):"",auth:R?btoa(String.fromCharCode.apply(null,new Uint8Array(R))):"",version:3}).done(function(qa){null==qa.error?J.resolve(S):J.reject(S)}).fail(function(){J.reject(S)})}else J.reject(!0)}).catch(function(R){console.error("Error getting subscription",R);J.reject(!1)})});return J}function q(){return N?
"serviceWorker"in navigator&&"showNotification"in ServiceWorkerRegistration.prototype&&"PushManager"in window?!0:!1:!1}function h(){try{if(!q())return!1;if(null!=navigator.serviceWorker.controller)return t({command:"localStorage",value:{key:"token",value:storage.token}}).then(function(J){try{"undefined"!=typeof J.networkState&&(v=J.networkState),"undefined"!=typeof J.lastActivate&&(E=J.lastActivate)}catch(U){console.error(U)}F.resolve()}).catch(function(){v=-1;F.reject()})}catch(J){return reportBug(J,
"updateTokenInSW"),v=-1,F.reject(),!1}}function n(){try{navigator.serviceWorker.getRegistration().then(function(J){try{J.unregister()}catch(U){}})}catch(J){}}function t(J,U){return new Promise(function(R,S){try{var fa=new MessageChannel;fa.port1.onmessage=function(qa){if("pong"==qa.data.data)R(qa.data);else if(100==qa.data.status)U(qa.data);else if(qa.data.update)switch(qa.data.update){case "connectionErrorRetry":$("#networkOverlay").show();$("#networkBar").text("Connecting...");break;case "connected":$("#networkOverlay").hide();
break;case "connectError":var oa=function(){$("#networkOverlay").show();$("#networkBar").html('Unable to connect to Keepa.com. <span id="networkAgain" style="color:rgb(255, 228, 192); cursor:pointer">Try again?</span>&emsp;<span id="networkAbort" style="color:rgb(0, 0, 0); cursor:pointer">Abort!</span>');$("#networkAgain").click(function(){$("#networkBar").text("Connecting...");serviceWorker.postMessage({command:"connect"}).then(function(){$("#networkOverlay").hide()}).catch(oa)});$("#networkAbort").click(function(){$("#networkOverlay").hide();
qa.data.error="connectError";t({command:"abort"}).catch(function(va){});S(qa.data)})};oa()}else qa.data.error?(console.log("sw message error",qa.data),S(qa.data.error)):"connectError"==qa.data||"abort"==qa.data?S(qa.data):R(qa.data)};null==navigator.serviceWorker.controller?S():navigator.serviceWorker.controller.postMessage(J,[fa.port2])}catch(qa){console.log(qa)}})}var p,v=-1,E=-1,F=$.Deferred(),N=!1;try{if(-1<navigator.userAgent.toLowerCase().indexOf("firefox")){var K=navigator.userAgent.toLowerCase().match(/firefox\/(\d\d)\.\d\d?/);
K&&48>=Number(K[1])?n():N=!0}else N=!0}catch(J){console.log(J)}return{checkSupport:q,isInitialized:F,generatePushHtml:a,unsubscribePush:d,subscribePush:g,checkSubscription:m,register:function(){if(!q())return F.reject(),!1;if(null==navigator.serviceWorker.controller){var J=storage.swFile||"serviceWorker.js";navigator.serviceWorker.register("./"+J).then(navigator.serviceWorker.ready).then(h).then(function(R){isTest&&console.log("registered:  "+J,R)}).catch(function(R){v=-1;F.reject();isTest&&console.log(R)})}else try{h();
navigator.serviceWorker.addEventListener("message",function(R){isTest&&console.log("message from SW",R)});var U={command:"ping"};setInterval(function(){try{t(U).then(function(R){"undefined"!=typeof R.networkState&&(E!=R.lastActivate&&(console.log("lastActivate change!",E,R.lastActivate),E=R.lastActivate),v=R.networkState)}).catch(function(){v=-1})}catch(R){console.log(R),v=-1,network.connectToServer(!1)}},3E3)}catch(R){reportBug(R,"register"),v=-1,network.connectToServer(!1),"pending"==F.state()&&
F.reject()}},showNotification:b,postMessage:t,unregister:n,updateTokenInSW:h,workerConnectionState:function(){return v}}}();serviceWorker.register();
var ProductImageHover=function(){var a={image_urls_main:[],pf_preview_current:"",preview_images:[],img_string:'<img style="border: 1px solid #ff9f29;  -moz-border-radius: 0px;  margin: -3px;   display:block;   position: relative;   top: -3px;   left: -3px;" src=\'',createNewImageElement:function(b,d){b=b.createElement(d?d:"img");b.style.borderTop="4px solid #328dc3";b.style.borderBottom="3px solid #999999";b.style.display="block";b.style.position="relative";b.style.padding="5px";return b},preview_image:function(b,
d){var g=document;if(!g.getElementById("pf_preview")){var m=g.createElement("div");m.id="pf_preview";m.addEventListener("mouseout",function(E){a.clear_image(E)},!1);m.style.boxShadow="rgb(68, 68, 68) 0px 1px 7px -2px";m.style.position="fixed";m.style.zIndex="10000000";m.style.bottom="0px";m.style.right="0px";m.style.margin="12px 12px";m.style.backgroundColor="#fff";g.body.appendChild(m)}a.pf_preview_current=g.getElementById("pf_preview");if(!a.pf_preview_current.firstChild){m=d;var q=Math.max(Math.floor(.4*
g.defaultView.innerHeight),256),h=Math.max(Math.floor(.4*g.defaultView.innerWidth),256),n=b.clientX>g.defaultView.innerWidth/2,t=256;try{var p=g.defaultView.innerWidth-b.clientX,v=g.defaultView.innerHeight-b.clientY;n&&(p=g.defaultView.innerWidth-p);t=Math.max(Math.max(p,v)-150,t);h=Math.min(Math.floor(.9*g.defaultView.innerWidth),t);q=Math.min(Math.floor(.9*g.defaultView.innerHeight),t);t=Math.min(h,q)}catch(E){}768<t&&(t=768);t-=t%10;a.pf_preview_current.current=-1;a.pf_preview_current.a=d;a.pf_preview_current.href=
"";a.pf_preview_current.size=Math.floor(1.1*Math.min(h,q));n&&(b=g.getElementById("pf_preview"),b.style.right="",b.style.left="6px");"object"===typeof d&&"svgBarcode"===d.type?$.when(LoaderUtil.js(CDNUrl+"JsBarcode-3.11.0.ean-upc.min.js")).then(function(){if(JsBarcode){g.getElementById("pf_preview").style.display="block";var E="jsBarcode-"+d.value,F=a.createNewImageElement(g,"span");F.innerHTML='<svg id="'+E+'"></svg>';a.pf_preview_current.appendChild(F);setTimeout(function(){$("#"+E).length&&JsBarcode("#"+
E,d.value,{format:d.format?d.format:"auto"})},100)}}):(d.startsWith("https://cdn.keepa")||d.startsWith("https://dyn.keepa.com")||d.startsWith("https://graph.keepa.com")||(m=imageServer,m+=d.replace(".","._SL"+t+"_.")),g.getElementById("pf_preview").style.display="block",b=a.createNewImageElement(g),b.setAttribute("src",m),a.pf_preview_current.appendChild(b))}},clear_image:function(b){try{var d=document.getElementById("pf_preview");d.style.display="none";d.style.right="2px";d.style.left="";a.pf_preview_current.innerHTML=
""}catch(g){}},add_events:function(b,d){"pf_prevImg"!=b.getAttribute("keepaPreview")&&(b.addEventListener("mouseover",function(g){a.preview_image(g,d);return!0},!0),b.addEventListener("mouseout",function(g){a.clear_image(g)},!1),b.setAttribute("keepaPreview","pf_prevImg"))}};return{preview:a}}(),browserInfo=function(a){a=a||navigator.userAgent;var b=a.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];if(/trident/i.test(b[1])){var d=/\brv[ :]+(\d+)/g.exec(a)||[];return{name:"IE",
version:d[1]||""}}if("Chrome"===b[1]&&(d=a.match(/\b(OPR|Edg)\/(\d+)/),null!=d))return{name:d[1].replace("OPR","Opera").replace("Edg","Edge"),version:d[2]};b=b[2]?[b[1],b[2]]:[navigator.appName,navigator.appVersion,"-?"];null!=(d=a.match(/version\/(\d+)/i))&&b.splice(1,1,d[1]);return{name:b[0],version:b[1]}};function wait(a){return $.Deferred(function(){setTimeout(this.resolve,a)}).promise()}
var intranet=function(){var a=null,b=0,d=function(m,q){b=Date.now();null!=a?wait(100).always(function(){d(m,q)}):(a=q,null!=m&&(storage.postMessage=JSON.stringify(m)),isIframe&&"login"==m.key&&document.location.reload())},g=null;window.addEventListener("storage",function(m){if(!(isFbLoginPage||1E3>Date.now()-b)&&"postMessage"==m.key&&m.newValue){m=m.newValue;storage.removeItem("postMessage");var q=tryParseJSON(m);if(null!=q){try{null!=g&&g.close()}catch(h){}switch(q.key){case "login":isIframe&&"login"==
q.key&&document.location.reload();break;case "logout":network.reauthorize();updateMenuUserPanel(0);refreshLoginBar();try{callSubPage(1)}catch(h){reportBug(h)}"logout"==q.key&&(g=showPopup("Your session ended","You have signed out from Keepa in another tab.",!0))}null!=a&&(q=a,a=null,q(tryParseJSON(m)))}}},!1);return{postMessage:d,key:"postMessage"}}();function inIframe(){try{return window.self!==window.top}catch(a){return!0}}RegExp.escape=function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};
function onlyUnique(a,b,d){return d.indexOf(a)===b}String.prototype.replaceAt=function(a,b){a=Number(a);b=String(b);return this.substr(0,a)+b+this.substr(a+b.length)};
function reportBug(a,b){try{if(!localStorageSupported||isTest)console.warn(a,b);else{storage.lastBugReport||(storage.lastBugReport=0);try{if(-1<(""+a).indexOf("getComputedStyle")||-1<(""+a).indexOf("'plot' of undefined")||-1<(""+a).indexOf("NS_ERROR_FILE_CORRUPTED")||-1<(""+a).indexOf("mooikfkahbdckldjjndioackbalphokd")||-1<(""+a).indexOf("Invalid dimensions for plot"))return}catch(p){}var d=Date.now();if(!(2E4>d-Number(storage.lastBugReport))){storage.lastBugReport=d;d=a;var g="";try{g=Error().stack.split("\n").splice(1).splice(1).join("&ensp;&lArr;&ensp;"),
g=g.replace(/http|s:\/\/.*?\//g,"").replace(/:[0-9]*?\)/g,")").replace(/[ ]{2,}/g,""),d=a.message?a.message:a}catch(p){}if(!(-1<g.indexOf("KasperskyLab")||-1<g.indexOf("Invalid dimensions for plot")||-1<g.indexOf("mprogress.min"))){var m=function(p,v,E,F){var N=new XMLHttpRequest;E&&(N.onreadystatechange=function(){4==N.readyState&&E.call(this,N.responseText)});N.withCredentials=F;N.open("POST",p,!0);N.setRequestHeader("Content-Type","text/plain;charset=UTF-8");N.send(v)},q={};try{for(var h in navigator)q[h]=
navigator[h]}catch(p){}h=[];for(var n in network.lastUrls)/.*discuss.keepa.*/.test(network.lastUrls[n].url)||/.*js\/languages.*/.test(network.lastUrls[n].url)||"service/features"==network.lastUrls[n].path||"user/settings"==network.lastUrls[n].path||"user/session"==network.lastUrls[n].path||("string"===typeof network.lastUrls[n]&&(network.lastUrls[n]={url:network.lastUrls[n]}),h.push(network.lastUrls[n]));network.lastUrls=[];null==b&&(b="");var t={exception:d,additional:b,url:document.location.toString(),
stack:g,navigator:q,isIframe:iframe.isIframe,keepaType:"website",version:"29",history:h};setTimeout(function(){m(protocol+network.server[network.serverIndex]+ajaxPrefix+"service/bugreport/?user="+storage.token+"&type=website&version=29",JSON.stringify(t))},50)}}}}catch(p){console.error(p,a)}}
function getDebugInfos(){var a=document.location+"",b=[],d;for(d in network.lastUrls)/.*discuss.keepa.*/.test(network.lastUrls[d].url)||/.*js\/languages.*/.test(network.lastUrls[d].url)||"service/features"!=network.lastUrls[d].path&&"user/settings"!=network.lastUrls[d].path&&"user/session"!=network.lastUrls[d].path&&b.push(JSON.stringify(network.lastUrls[d]));network.lastUrls=[];return[a,"",b]}
function prettyDate(a){a=Math.floor(60*a);var b=3===parseInt(storage.language)?la._652+" ":"";return 60>a&&b+la._112||120>a&&b+la._113||3600>a&&b+Math.floor(a/60)+la._114||7200>a&&b+la._115||86400>a&&b+Math.floor(a/3600)+la._116||172800>a&&b+la._117||5356800>a&&b+Math.floor(a/86400)+la._118||114048E4>a&&b+Math.floor(a/2678400)+la._120}function zeroToDash(a){return 0==a?"-":a}
function greenOrRed(a){if("-"==a)return a;var b=0<parseFloat(a)?"red":"green",d=0<parseFloat(a)?"":'&nbsp;<img src="'+imgCDNUrl+'good.png" />';return'<span style="color: '+b+'">'+a+d+"</span>"}function getValueAtTime(a,b,d){if(null==a||0==a.length)return-1;for(var g=0,m=d.isWithShipping?3:2;g<a.length&&!(a[g]>b);g+=m);return g>a.length?getLast(a,d):g<m?-1:d.isWithShipping?(b=a[g-2],a=a[g-1],0>b?b:b+(0>a?0:a)):a[g-1]}
function getValueAtTimeWithShipping(a,b){if(null==a||0==a.length)return-1;for(var d=0;d<a.length&&!(a[d]>b);d+=3);return d>a.length?getLastWithShipping(a,CsvType.BUY_BOX_SHIPPING):3>d?[-1,1]:[a[d-2],a[d-1]]}function getValueAtTimeWithExactTime(a,b,d){if(null==a||0==a.length)return-1;for(var g=0,m=d.isWithShipping?3:2;g<a.length&&!(a[g]>b);g+=m);return g>a.length?getLast(a,d):g<m?-1:d.isWithShipping?(b=a[g-2],a=a[g-1],0>b?b:b+(0>a?0:a)):[a[g-2],a[g-1]]}
function getBBEntryAtTimeWithExactTime(a,b){if(null==a||0==a.length)return-1;for(var d=0;d<a.length&&!(a[d]>b);d+=2);return d>a.length?getLast(a,type):2>d?-1:a[d-1]}function getAggregatedDrop(a,b,d){if(null==a||0==a.length)return-1;for(var g=0,m=-1,q=-1;g<a.length&&!(a[g]>b);g+=2);for(1<g&&(g-=2);g<a.length;g+=2){b=a[g+1];if(0<q&&0<b&&b<q){var h=q-b;!(h<=d&&0!=h%100)||2<g&&10==b&&2<g&&a[g-3]==b&&9<h&&0==h%10||0==q%100&&0==b%100&&49<h||(m+=h)}q=b}0<=m&&m++;return m}
function getLastTime(a,b){return null==a||0==a.length?-1:a[a.length-(b.isWithShipping?3:2)]}
function splitRootSalesRank(a){try{var b=CsvType.SALES.index;if(null!=a.csv[b]&&null!=a.salesRankReferenceHistory&&2<a.salesRankReferenceHistory.length){4<=a.salesRankReferenceHistory.length&&-1==a.salesRankReference&&-1==a.csv[b][a.csv[b].length-1]&&a.csv[b][a.csv[b].length-2]==a.salesRankReferenceHistory[a.salesRankReferenceHistory.length-2]&&(a.salesRankReferenceHistory.pop(),a.salesRankReferenceHistory.pop(),a.salesRankReference=a.salesRankReferenceHistory[a.salesRankReferenceHistory.length-1]);
for(var d={},g={},m=a.salesRankReferenceHistory[1],q=a.salesRankReferenceHistory[0],h=0;h<a.salesRankReferenceHistory.length;h+=2)d[a.salesRankReferenceHistory[h]]=a.salesRankReferenceHistory[h+1];for(var n=h=-1,t=0,p=0;p<a.csv[b].length;p+=2){var v=a.csv[b][p],E=a.csv[b][p+1];if(v<=q)n=m;else{var F=d[v];n=null!=F?F:getValueAtTime(a.salesRankReferenceHistory,v,CsvType.SALES)}h!=n&&(0<p&&4320<v-t&&(g[h]=processCSV(g[h],-1,null,CsvType.SALES,v,a,!1)),h=n,t=v);g[n]=processCSV(g[n],E,null,CsvType.SALES,
v,a,!1)}for(var N in g){null==a.salesRanks&&(a.salesRanks={});var K=g[N];N!=a.salesRankReference&&4320<keepaTime.now()-K[K.length-2]&&(g[N]=processCSV(g[N],-1,null,CsvType.SALES,K[K.length-2]+1440,a,!1));var J=a.salesRanks[N];null==J&&(a.salesRanks[N]=K);a.salesRanks[N]=mergeCSV(K,J,CsvType.SALES)}var U=a.salesRanks[a.salesRankReference];null!=U&&(a.csv[b]=U)}if(null!=a.salesRanks)for(var R in a.salesRanks)"undefined"===typeof a.salesRankCategoryTrees||a.salesRankCategoryTrees[R]||(b=R,-2==R&&(b=
"Launchpad"),a.salesRankCategoryTrees[R]=[{catId:R,name:b}],a.salesRankCategories[R]={catId:R,name:b,children:null,contextFreeName:b,domainId:a.domainId,highestRank:-1,lowestRank:-1,parent:0,productCount:0})}catch(S){console.log(S)}}
function processCSV(a,b,d,g,m,q,h){if(null==a||0==a.length){if(-1==b&&g.index>CsvType.SALES.index&&!h)return null;g=g.isWithShipping?[m,b,d]:[m,b]}else if(g.isWithShipping)if(h||a[a.length-2]!=b||a[a.length-1]!=d){if(a[a.length-3]>m)return a;if(a[a.length-3]==m){if(5<a.length&&0>a[a.length-2]&&(m=a[a.length-4],a[a.length-5]==b&&m==d))return a.slice(0,a.length-3);g=a;g[a.length-2]=b;g[a.length-1]=d}else g=a,g.push(m),g.push(b),g.push(d)}else g=a;else if(h||a[a.length-1]!=b){if(a[a.length-2]>m)return a;
if(a[a.length-2]==m){if(3<a.length&&0>a[a.length-1]&&a[a.length-3]==b)return a.slice(0,a.length-3);g=a;g[a.length-1]=b}else g=a,g.push(m),g.push(b)}else g=a;return g}function mergeCSV(a,b,d){var g=[],m=[];try{var q=d.isWithShipping?3:2,h=function(p){for(var v=0,E=p.length;v<E;v+=q){var F=p[v],N=p[v+1];g[F]=d.isWithShipping?{d:F,c:N,s:p[v+2]}:{d:F,c:N}}};h(a);h(b);for(var n in g){var t=g[n];m.push(t.d);m.push(t.c);d.isWithShipping&&m.push(t.s)}}catch(p){return a}return m}
function getWeightedMean(a,b,d,g){return getWeightedMeanInInterval(a,b,b-1440*d,b,g)}
function getWeightedMeanInInterval(a,b,d,g,m){var q=-1;if(d>=g||null==a||0==a.length)return-1;var h=a.length,n=m.isWithShipping?3:2,t=getLastTime(a,m),p=a[0];if(-1==t||-1==p||p>g)return-1;t=0;p>d&&(d=p);g>b&&(g=b);p=m.isWithShipping?2:1;for(var v=1;v<h;v+=n){var E=a[v],F=a[v-1];if(F>=g)break;if(-1!=E){if(m.isWithShipping){var N=a[v+1];E+=0>N?0:N}if(F>=d){if(1==v&&v+p==h)return E;v+p==h?N=b:(N=a[v+p],N>g&&(N=g));F=Math.max(1,N-F);t+=F;q+=E*F}else{if(v==h-p)return E;N=a[v+p];if(N>=g)return E;N>=d&&
(t=Math.max(1,N-d),q=E*t)}}}-1!=q&&(q=0!=t?parseInt(Math.floor(q/t)):-1);return q}
function getMergedBB(a,b,d,g){var m={};if(null==a)return{};for(var q=1,h=a.length;q<h;q+=2){var n=a[q],t=Number(a[q-1]);m[t]||(m[t]={sellerId:n,price:-1,oc:-1})}if(null!=b)for(a=0,q=b.length;a<q;a+=3)h=b[a],n=-1,0<b[a+1]&&(n=0<b[a+2]?b[a+1]+b[a+2]:b[a+1]),m[h]?m[h].price=n:m[h]={sellerId:-1,price:n,oc:-1};if(null!=d)for(b=0,a=d.length;b<a;b+=2)q=d[b],h=d[b+1],m[q]?m[q].oc=h:m[q]={sellerId:-1,price:-1,oc:h};a=b=d=-1;q=[];for(var p in m)if(h=m[p],0>h.price?-1!=h.sellerId&&(h.price=b):b=h.price,-1!=
d&&-1==h.sellerId&&(h.sellerId=d),-1!=a&&-1==h.oc&&(h.oc=a),-1!=h.sellerId&&(d=h.sellerId),-1!=h.oc&&(a=h.oc),g||!(0>h.price||-1==h.sellerId||-2==h.sellerId))p=Number(p),q.push(p),q.push(h);return q}
function getWeightedMeanSellerInInterval(a,b,d,g){var m=keepaTime.now(),q=m-1440*g;g={};if(q>=m)return-1;if(null==a||0==a.length)return g;d=getMergedBB(a,b,d,!1);for(var h=m,n=b.length;0<=n&&0!=n;n-=3){var t=b[n-3];if(0>b[n-2])h=t;else break}a=Number(a[0]);if(-1==d[d.length-2]||-1==a||a>m)return g;a>q&&(q=a);q<changeV5&&(q=changeV5);a=!0;b=1;for(n=d.length;b<n;b+=2)if(t=d[b],!(0>t.price||-1==t.sellerId||-2==t.sellerId)){var p=d[b-1],v=g[t.sellerId];if(p>=m)break;if(p<changeV5||p<q)if(b+2>=d.length||
d[b-1+2]>q&&d[b-1+2]>changeV5)p=q;else continue;a&&(q=p,a=!1);var E=b+2<n?d[b+2-1]:h;if(-1!=t.sellerId&&-2!=t.sellerId)if(v?v.lastSeen=E:v=g[t.sellerId]={pct:0,price:0,oc:0,lastSeen:E},p>=q){if(1==b&&b+1==n)return v.pct=100,v.price=t.price,v.oc=t.oc,g;b+1==n?E=m:(E=d[b+1],E>m&&(E=m));p=Math.max(1,E-p);v.pct+=p;v.price+=t.price*p;v.oc+=t.oc*p}else{if(b==n-1)return v.pct=100,v.price=t.price,v.oc=t.oc,g;p=d[b+1];if(p>=m)return v.pct=100,v.price=t.price,v.oc=t.oc,g;p>=q&&(v.pct=Math.max(1,p-q),v.price=
t.price*v.pct,v.oc=t.oc*v.pct)}}m-=q;for(var F in g)q=g[F],q.price=0==q.price?-1:parseInt(Math.floor(q.price/q.pct)),q.oc=0==q.oc?-1:parseInt(Math.floor(q.oc/q.pct)),q.pct=q.pct/m*100,0==q.pct&&delete g[F];return g}
function getClosestValueAtTime(a,b,d){if(null==a||0==a.length)return-1;for(var g=0,m=d.isWithShipping?3:2;g<a.length&&!(a[g]>b);g+=m);if(g>a.length)return getLast(a,d);if(g<m)if(d.isWithShipping){if(4>a.length)return b=a[2],a=a[1],0>b?b:b+(0>a?0:a);g+=3}else{if(3>a.length)return a[1];g+=2}if(d.isWithShipping){if(-1==a[g-2]){for(;g<a.length&&-1==a[g-2];g+=m);if(g>a.length)return getLast(a,d);if(3>g)return-1}b=a[g-2];a=a[g-1];return 0>b?b:b+(0>a?0:a)}if(-1!=a[g-1])return a[g-1];for(;g<a.length&&-1==
a[g-1];g+=2);return g>a.length?getLast(a,d):2>g?-1:a[g-1]}function getLast(a,b){return null==a||0==a.length?-1:b.isWithShipping?(b=a[a.length-1],a=a[a.length-2],0>a?a:a+(0>b?0:b)):a[a.length-1]}function getLastWithShipping(a,b){return null==a||0==a.length?-1:b.isWithShipping?[a[a.length-2],a[a.length-1]]:[a[a.length-1],0]}
function getLastInStock(a,b){if(null==a||0==a.length)return[-1,-1];if(b.isWithShipping){if(-1<a[a.length-1]){b=a[a.length-1];var d=a[a.length-2];a=a[a.length-3]}else b=a[a.length-4],d=a[a.length-5],a=a[a.length-6];return[a,0>d?d:d+(0>b?0:b)]}return-1<a[a.length-1]?[a[a.length-2],a[a.length-1]]:[a[a.length-4],a[a.length-3]]}function getSimpleTreeToString(a){var b="";a.forEach(function(d,g){g<a.length-1?(b+=d.name,b+=" \u203a "):b+=d.name+""});return b}
function getCategorySalesRanks(a,b,d,g){var m=keepaTime.now(),q=[],h={},n;for(n in a){h.$jscomp$loop$prop$catId$675=n;if(null!=a[h.$jscomp$loop$prop$catId$675]&&d[h.$jscomp$loop$prop$catId$675]){var t=null!=b?b[h.$jscomp$loop$prop$catId$675]:null,p=getLast(d[h.$jscomp$loop$prop$catId$675],CsvType.SALES),v=function(F){return function(N){var K=[365,90,30,0,0,0,0];if(g&&g[F.$jscomp$loop$prop$catId$675])return g[F.$jscomp$loop$prop$catId$675][K.indexOf(N)];if(30>=N)return getWeightedMean(d[F.$jscomp$loop$prop$catId$675],
m,N,CsvType.SALES);var J=m-d[F.$jscomp$loop$prop$catId$675][0];K=K[K.indexOf(N)+1];return J<1440*K?-1:getWeightedMean(d[F.$jscomp$loop$prop$catId$675],m,N,CsvType.SALES)}}(h),E=v(30);q.push({tree:getSimpleTreeToString(a[h.$jscomp$loop$prop$catId$675]),sublevel:a[h.$jscomp$loop$prop$catId$675].length-1,rank:p,avg30:E,avg90:v(90),avg365:v(365),cr:t,topPct:0==t.productCount||0>=E?108:parseInt(Math.ceil(E/t.productCount*100))})}h={$jscomp$loop$prop$catId$675:h.$jscomp$loop$prop$catId$675}}q.sort(function(F,
N){return F.sublevel==N.sublevel?F.rank>N.rank?-1:1:F.sublevel<N.sublevel?-1:1});return q}var supportsPassive=!1;try{var opts=Object.defineProperty({},"passive",{get:function(){supportsPassive=!0}});window.addEventListener("test",null,opts)}catch(a){}var currencies=0;
function exchangeCurrencyCSV(a,b,d,g){if(null!=a)for(var m=b.isWithShipping?3:2,q=0;q<a.length;q+=m)b.isWithShipping?(a[q+1]=Money.raw(a[q+1],{sourceDomainId:d,targetDomainId:g,applyFloor:!0,keepUnit:!0}),a[q+2]=Money.raw(a[q+2],{sourceDomainId:d,targetDomainId:g,applyFloor:!0,keepUnit:!0})):a[q+1]=Money.raw(a[q+1],{sourceDomainId:d,targetDomainId:g,applyFloor:!0,keepUnit:!0})}
function imageToHtml(a,b,d,g){var m=(a=imageToUrl(a,b))?"":'alt="No image available"';a||(a=imgCDNUrl+"no-photo-available.png",d="");return"<img "+(g?' style="width:'+g+"px; height:"+g+'px;"':"")+' class="active '+d+'" src="'+a+'" width="'+b+'" height="'+b+'" '+m+" />"}
function imageToUrl(a,b){"string"==typeof a&&(a=a.split(","));if(null==a||0===a.length||""===a[0])return!1;if(!b)return""+imageServer+a[0];var d=a[0].substring(a[0].length-4,a[0].length);".gif"===d||".jpg"===d||".png"===d?a=a[0].substring(0,a[0].length-4):(a=a[0],d=".jpg");return""+imageServer+a+"._SS"+b+"_"+d}function replaceHtml(a,b){if(a=document.getElementById(a)){$(a).find("*").off();var d=a.cloneNode(!1);d.innerHTML=b;a.parentNode.replaceChild(d,a)}}
function replaceHtmlEl(a,b){if(a&&a.parentNode){$(a).find("*").off();var d=a.cloneNode(!1);d.innerHTML=b;a.parentNode.replaceChild(d,a);return d}}function replaceElement(a,b,d,g){if(a&&a.parentNode)return $(a).find("*").off(),b=document.createElement(b),b.innerHTML=d,g&&b.setAttribute("style",g),a.parentNode.replaceChild(b,a),b}
function floatHorizontalScroll(a){var b=$(a),d="auto"!==b.css("left"),g=(d?b.css("left"):b.css("right")).replace("px","");$(window).scroll(function(){var m=jQuery(this).scrollLeft();d?b.css({left:g+m+"px"}):b.css({right:g-m+"px"})})}function toPascalCase(a){return(a.match(/[a-zA-Z0-9]+/g)||[]).map(function(b){return""+b.charAt(0).toUpperCase()+b.slice(1)}).join("")}
function toCamelCase(a){return a.toLowerCase().replace(/[-_]+/g," ").replace(/[^\w\s]/g,"").replace(/ (.)/g,function(b){return b.toUpperCase()}).replace(/ /g,"")}function toSpecialCamelCase(a){return a.toLowerCase().replace(/[-_]+/g," ").replace(/[^\w\s]/g,"").replace(/(?: |^)(.)/g,function(b){return b.toUpperCase()})}
function longCodeToString(a,b){if(1E4>a)return"0";var d=""+a,g=d.length,m=b?12:13;if(g==m)return d;if(g>m)return console.error("invalid product code: "+a+" isUPC: "+b),"0";a=m-g;b="";for(g=0;g<a;g++)b+="0";return b+d}function stripTags(a){return a.replace(/<\/?[^>]+>/gi,"")}function stripHTML(a){return stripTags($("<div/>").html(a).text())}function escapeHTML(a){var b=document.createElement("div");a=document.createTextNode(a);b.appendChild(a);return b.innerHTML}
function unescapeHTML(a){var b=document.createElement("div");b.innerHTML=a.stripTags();return b.childNodes[0].nodeValue}function getLoaderFlip(a){return'<div class="cssload-loader"><div class="cssload-flipper"><div class="cssload-front '+a+'"></div><div class="cssload-back '+a+'"></div></div></div>'}
function getLoaderBox(a){var b=newThemeColor;"#905246"===b&&(b="#ce6e6c");b='<div style="position:relative;width:50px;display:block;margin-bottom:50px;"><div class="cssload-box-loading" style="--new-theme-color:'+(b+';"></div></div>');a&&(b='<div class="loadingFlipper" style="display:flex;justify-content:center;margin:80px;flex-direction:column;align-content:center;align-items: center;">'+b+'<div class="loadingProgress"></div></div>');return b}
(function(a){function b(d,g){this.content=d;this.shown=!1}a.fn.colorTip=function(d){var g="red green blue white yellow black".split(" ");d=a.extend({color:"red",timeout:5},d);return this.each(function(){var m=a(this),q=m.attr("title");"INPUT"==m.get(0).nodeName&&(m=m.parent());if(!q)return!0;var h=new b(q);m.append(h.generate()).addClass("colorTipContainer");q=!1;for(var n=0;n<g.length;n++)if(m.hasClass(g[n])){q=!0;break}q||m.addClass(d.color);m.hover(function(){h.show();h.tip.find(".colorTipContent").one("mouseenter",
function(){h.hide()})},function(){h.hide()});m.removeAttr("title");a(this).removeAttr("title")})};b.prototype={generate:function(){return this.tip||(this.tip=a('<span class="colorTip"><span class="colorTipContent">'+this.content+'</span><span class="pointyTipShadow"></span><span class="pointyTip"></span></span>'))},show:function(){if(!this.shown){var d=-18-this.tip.height();-40>d&&(d-=3);this.tip.css({marginLeft:-this.tip.outerWidth()/2,top:d}).show();this.shown=!0}},hide:function(){this.shown&&(this.tip.hide(),
this.shown=!1)}}})(jQuery);function float2int(a){return a|0}Date.DATE_ATOM="Y-m-d%TH:i:sP";Date.DATE_ISO8601="Y-m-d%TH:i:sO";Date.DATE_RFC2822="D, d M Y H:i:s O";Date.DATE_W3C="Y-m-d%TH:i:sP";
Date.prototype.formatDate=function(a,b){function d(p){return void 0!=n[p]?n[p]():p}var g=la._77,m=la._78,q=la._79,h=la._80,n={a:function(){return 11<t.getHours()?"pm":"am"},A:function(){return this.a().toUpperCase()},B:function(){var p=60*(t.getTimezoneOffset()+60);p=3600*t.getHours()+60*t.getMinutes()+t.getSeconds()+p;p=Math.floor(p/86.4);1E3<p&&(p-=1E3);0>p&&(p+=1E3);1==String(p).length&&(p="00"+p);2==String(p).length&&(p="0"+p);return p},c:function(){return this.Y()+"-"+this.m()+"-"+this.d()+"T"+
this.H()+":"+this.i()+":"+this.s()+this.P()},d:function(){var p=String(this.j());return 1==p.length?"0"+p:p},D:function(){return m[t.getDay()]},F:function(){return h[t.getMonth()]},g:function(){return 0==t.getHours()?12:12<t.getHours()?t.getHours()-12:t.getHours()},G:function(){return t.getHours()},h:function(){var p=String(this.g());return 1==p.length?"0"+p:p},H:function(){var p=String(this.G());return 1==p.length?"0"+p:p},i:function(){var p=String(t.getMinutes());return 1==p.length?"0"+p:p},I:function(){return(new Date("January 1 "+
this.Y()+" 00:00:00")).getTimezoneOffset()==t.getTimezoneOffset()?0:1},j:function(){return t.getDate()},l:function(){return g[t.getDay()]},L:function(){var p=this.Y();return 0==p%4&&0!=p%100||0==p%4&&0==p%100&&0==p%400?1:0},m:function(){var p=String(this.n());return 1==p.length?"0"+p:p},M:function(){return q[t.getMonth()]},n:function(){return t.getMonth()+1},N:function(){var p=this.w();return 0==p?7:p},O:function(){var p=Math.abs(t.getTimezoneOffset()),v=String(Math.floor(p/60));p=String(p%60);1==
v.length&&(v="0"+v);1==p.length&&(p="0"+p);return 0>t.getTimezoneOffset()?"+"+v+p:"-"+v+p},P:function(){var p=this.O();return p.substr(0,3)+":"+p.substr(3,2)},r:function(){return this.D()+", "+this.d()+" "+this.M()+" "+this.Y()+" "+this.H()+":"+this.i()+":"+this.s()+" "+this.O()},s:function(){var p=String(t.getSeconds());return 1==p.length?"0"+p:p},S:function(){switch(t.getDate()){case 1:return"st";case 2:return"nd";case 3:return"rd";case 21:return"st";case 22:return"nd";case 23:return"rd";case 31:return"st";
default:return"th"}},t:function(){return 1==this.L()&&2==this.n()?29:[null,31,28,31,30,31,30,31,31,30,31,30,31][this.n()]},U:function(){return Math.round(t.getTime()/1E3)},w:function(){return t.getDay()},W:function(){var p=this.N(),v=this.z(),E=364+this.L()-v;if(2>=E&&p<=3-E)return 1;if(2>=v&&5<=p)return(new Date(this.Y()-1,11,31)).formatDate("W");p=(new Date(this.Y(),0,1)).getDay();p=0!=p?p-1:6;return 3>=p?1+Math.floor((v+p)/7):1+Math.floor((v-(7-p))/7)},y:function(){var p=String(this.Y());return p.substring(p.length-
2,p.length)},Y:function(){if(t.getFullYear){var p=(new Date("January 1 2001 00:00:00 +0000")).getFullYear();if(2001==p)return t.getFullYear()}p=t.getYear();p%=100;return p+(38>p?2E3:1900)},z:function(){var p="January 1 "+this.Y()+" 00:00:00 GMT"+this.O();p=new Date(p);p=t.getTime()-p.getTime();return Math.floor(p/1E3/60/60/24)},Z:function(){return-60*t.getTimezoneOffset()}};var t=b?new Date(b):this;a=a.split("");for(b=0;b<a.length;)"%"==a[b]?a.splice(b,1):a[b]=d(a[b]),b++;return a.join("")};
function drawLine(a,b,d,g,m){try{if(!$(a).next().hasClass("drawLine")){var q=getOffset(a),h=getOffset(b),n=q.left,t=q.top+q.height,p=h.left+h.width/2-5,v=h.top,E=Math.sqrt((p-n)*(p-n)+(v-t)*(v-t));b=(n+p)/2-E/2;h=(t+v)/2-g/2;var F=180/Math.PI*Math.atan2(t-v,n-p),N=h+q.height/2+4;q=b+19;iframe.isIframe&&(N=h,q=b+7);d="<div class='drawLine' style='opacity: "+m+"; height:"+g+"px; background-color:"+d+"; left:"+q+"px; top:"+N+"px; width:"+E+"px; -moz-transform:rotate("+F+"deg); -webkit-transform:rotate("+
F+"deg); -o-transform:rotate("+F+"deg); -ms-transform:rotate("+F+"deg); transform:rotate("+F+"deg);' />";$(a).after(d)}}catch(K){}}function getOffset(a){for(var b=0,d=0,g=a.offsetWidth|0,m=a.offsetHeight|0,q=2;0!=q&&a&&!isNaN(a.offsetLeft)&&!isNaN(a.offsetTop);)b+=a.offsetLeft-a.scrollLeft,d+=a.offsetTop-a.scrollTop,a=a.offsetParent,q--;return{top:d,left:b,width:g,height:m}}
Array.prototype.includes||(Array.prototype.includes=function(a,b){if(null==this)throw new TypeError("Array.prototype.includes called on null or undefined");var d=Object(this),g=parseInt(d.length,10)||0;if(0===g)return!1;b=parseInt(b,10)||0;0<=b||(b=g+b,0>b&&(b=0));for(var m;b<g;){m=d[b];if(a===m||a!==a&&m!==m)return!0;b++}return!1});function addDataUpdateHandler(){$(".link--data-update").on("click",function(a){a.preventDefault();SettingsSubscription.initUpdateData(!1)})}
function removeToolTip(a,b,d){a.removeClass("colorTipContainer");var g=a.children(".colorTip");d?a.attr("title",d):a.attr("title",g.text());g.remove();b&&a.removeClass(b)}function isStockMax(a,b){return[999,1E3,99999].includes(a)?!0:a&&b?1===b[b.length-1]:!1}
function getAppLinksAndBadges(){switch(storage.language){case "3":var a='<img alt="" src="'+imgCDNUrl+'app-store/Download_on_the_App_Store_Badge_DE_RGB_blk_092917.svg"/>';var b='<img alt="Jetzt bei Google Play" src="'+imgCDNUrl+'app-store/de_badge_web_generic.png"/>';break;case "4":a='<img alt="" src="'+imgCDNUrl+'app-store/Download_on_the_App_Store_Badge_FR_RGB_blk_100517.svg"/>';b='<img alt="Disponible sur Google Play" src="'+imgCDNUrl+'app-store/fr_badge_web_generic.png"/>';break;case "5":a='<img alt="" src="'+
imgCDNUrl+'app-store/Download_on_the_App_Store_Badge_JP_RGB_blk_100317.svg"/>';b='<img alt="Google Play \u3067\u624b\u306b\u5165\u308c\u3088\u3046" src="'+imgCDNUrl+'app-store/ja_badge_web_generic.png"/>';break;case "7":a='<img alt="" src="'+imgCDNUrl+'app-store/Download_on_the_App_Store_Badge_CNSC_RGB_blk_092917.svg"/>';b='<img alt="\u4e0b\u8f7d\u5e94\u7528\uff0c\u8bf7\u5230 Google Play" src="'+imgCDNUrl+'app-store/zh-cn_badge_web_generic.png"/>';break;case "8":a='<img alt="" src="'+imgCDNUrl+'app-store/Download_on_the_App_Store_Badge_IT_RGB_blk_100317.svg"/>';
b='<img alt="Disponibile su Google Play" src="'+imgCDNUrl+'app-store/it_badge_web_generic.png"/>';break;case "9":a='<img alt="" src="'+imgCDNUrl+'app-store/Download_on_the_App_Store_Badge_ES_RGB_blk_100217.svg"/>';b='<img alt="Disponible en Google Play" src="'+imgCDNUrl+'app-store/es_badge_web_generic.png"/>';break;default:a='<img alt="" src="'+imgCDNUrl+'app-store/Download_on_the_App_Store_Badge_US-UK_RGB_blk_092917.svg"/>',b='<img alt="Get it on Google Play" src="'+imgCDNUrl+'app-store/en_badge_web_generic.png"/>'}return{linkAppStore:"https://apps.apple.com/app/keepa-price-tracker/id1518541385",
badgeAppStore:a,linkGooglePlay:"https://play.google.com/store/apps/details?id=com.keepa.mobile",badgeGooglePlay:b}}
var showReferencePrice=function(a){return"#!deals"===window.location.hash.split("/")[0]?!1:0<currencyDomainId&&currencyDomainId!=a&&0!=currencies&&currencies[a]!=currencies[currencyDomainId]},Money=function(){var a={},b=0,d,g,m,q=function(h,n){!0===n.isDivided&&5!=n.sourceDomainId&&(h*=100);n.absolute&&0>h&&(-1!=h||-1==h&&n.acceptMinusOne)&&null!=h&&(h*=-1);b=h;"undefined"===typeof n.targetDomainId&&(n.targetDomainId=0<currencyDomainId?currencyDomainId:n.sourceDomainId);a=n;d=Number(a.sourceDomainId);
g=Number(a.targetDomainId);m=5!=g?2:0;!0===a.noDigits&&(m=0);0!=g&&d!=g&&0!=currencies&&currencies[d]!=currencies[g]&&-1!=b&&null!=b&&(b=1/currencies[d]*b*currencies[g]/(5==g?100:5==d?.01:1),b=+accounting.toFixed(b,a.keepUnit?m:0));!0!==a.keepUnit&&5!=g&&(b=100==g?b/10:b/100);a.applyFloor&&(b=Math.floor(b))};return{format:function(h,n){try{q(h,n);if(null==h||-1==h&&!a.acceptMinusOne)return"-";var t=!0===a.forceEuropeanStyle,p=a.preValueModifier?a.preValueModifier+"%v":"%v",v=a.skipSymbol?p:t?p+" %s":
"%s "+p;return accounting.formatMoney(b,{symbol:getCurrencyByDomain(g),precision:m,thousand:t?".":",",decimal:t?",":".",format:v})}catch(E){return reportBug(E),""}},raw:function(h,n){try{return q(h,n),b}catch(t){return reportBug(t),""}},unformat:function(h){return accounting.unformat(h)}}}(),NumberUtil=function(){return{format:function(a,b){return accounting.formatNumber(a,{precision:b||0,thousand:",",decimal:"."})}}}(),CurrencySwitch=function(){var a=function(){var b=$.Deferred(),d=material.getButton("submitCurrency",
la._225,null,"money"),g=[],m=[];continents.forEach(function(h,n){h.forEach(function(t){var p=getCurrencyCodeByDomain(t),v=getCurrencyByDomain(t);g[n]||(g[n]=[]);m.includes(p)||(m.push(p),t=material.getRadio(t+"currency",v+" "+p,t==currencyDomainId),g[n].push(t))})});var q=material.getRadio("0currency",la._954,0==currencyDomainId);d='<div style="width:400px;margin-bottom:10px;">'+la._952+"<br>"+la._953+'*</div>\n\t\t\t<form name="loadForm" id="formCurrency">\n\t\t\t<section id="currencyRadio" style="margin: 10px 0">\n\t\t\t\t'+
q+'\n\t\t\t\t<div class="mdc-typography--caption">'+la._664+" / "+la._665+"</div>\n\t\t\t\t"+g[0].join("")+g[1].join("")+'\n\t\t\t\t<div class="mdc-typography--caption">'+la._353+"</div>\n\t\t\t\t"+g[2].join("")+'\n\t\t\t\t<div class="mdc-typography--caption">'+la._354+"</div>\n\t\t\t\t"+g[3].join("")+"\n\t\t\t</section>\n\t\t\t"+d+'\n\t\t\t</form>\n\t\t\t<div style="width: 400px;margin-top: 10px;font-size: 11px;text-align: justify;">\n\t\t\t* '+la._955+"\n\t\t\t</div>";material.init("#formCurrency");
setTimeout(function(){$("#formCurrency").on("submit",function(h){var n=Number($("#currencyRadio").find(":checked")[0].id.replace("currency-radio",""));b.resolve({currency:n});h.preventDefault()})},0);return{onSubmit:b.promise(),html:d}};return{init:function(){var b=a(),d=showPopup(la._951,b.html,!0);b.onSubmit.done(function(g){g=Number(g.currency);0<g&&"undefined"===typeof currencies[g]&&(g=0);storage.currencyDomainId=g;settings.send();settings.refresh();d.close()})}}}(),LoaderUtil=function(){var a=
[],b=function(d,g){var m=$.Deferred();if(a.includes(g))return m.resolve();a.push(g);var q=document.createElement(d);switch(d){case "script":var h="body";d="src";q.async=!0;q.crossOrigin="anonymous";break;case "link":h="head";d="href";q.type="text/css";q.rel="stylesheet";break;default:throw Error("Unsupported tag.");}q.onload=m.resolve;q.onerror=m.reject;q[d]=g;document[h].appendChild(q);return m.promise()};return{css:function(d){return b("link",d)},js:function(d){return b("script",d)}}}(),GraphService=
function(){return{getAvailableGraphTypes:function(){return[CsvType.AMAZON.index,CsvType.NEW.index,CsvType.USED.index,CsvType.SALES.index,CsvType.NEW_FBM_SHIPPING.index,CsvType.LIGHTNING_DEAL.index,CsvType.WAREHOUSE.index,CsvType.NEW_FBA.index,CsvType.BUY_BOX_SHIPPING.index]},getDefaultWebGraphRange:function(){return 365},getDefaultWebGraphType:function(){var a=Array(CsvType.length).fill(0);a[CsvType.AMAZON.index]=1;a[CsvType.NEW.index]=1;a[CsvType.USED.index]=1;a[CsvType.SALES.index]=1;a[CsvType.WAREHOUSE.index]=
1;a[CsvType.LIGHTNING_DEAL.index]=1;return a},getShareUrl:function(a,b){var d=""+graphBaseUrl+graphBaseFileName;return d+="?asin="+a+"&domain="+getTldByDomain(b)},getUrl:function(a,b,d,g,m,q,h){var n=""+graphBaseUrl+graphBaseFileName;n+="?asin="+a+"&domain="+getTldByDomain(b);m=m||JSON.parse(get("webGraphType"));q=q||JSON.parse(get("webGraphRange"));n+="&amazon="+m[CsvType.AMAZON.index];n+="&new="+m[CsvType.NEW.index];n+="&used="+m[CsvType.USED.index];n+="&salesrank="+m[CsvType.SALES.index];n+="&bb="+
m[CsvType.BUY_BOX_SHIPPING.index];n+="&fbm="+m[CsvType.NEW_FBM_SHIPPING.index];n+="&fba="+m[CsvType.NEW_FBA.index];n+="&ld="+m[CsvType.LIGHTNING_DEAL.index];n+="&wd="+m[CsvType.WAREHOUSE.index];n=n+("&range="+q)+("&width="+(d||500)+"&height="+(g||200));h&&1===h&&(n+="&type=1");return n},getWebGraphTypeAllOff:function(){return Array(CsvType.length).fill(0)}}}();
function sendHelloGraph(a){if(!isTest&&(0!=storage.accountType&&1!=storage.accountType||a)){var b="?token="+storage.token;a&&(b="");a=new XMLHttpRequest;a.open("HEAD","https://graph.keepa.com/hello.graph"+b,!0);a.withCredentials=!0;a.send(null)}}function getBaseUrl(){var a=protocol+document.location.hostname;/localhost:63342\/web/.test(document.location.href)&&(a="http://"+document.location.host+"/web/index_local.html"+document.location.search.replace(/\/$/,""));return a+"/"}
function encodeHTML(a){return a?a.split("&").join("&amp;").split("<").join("&lt;").split('"').join("&quot;").split("'").join("&#39;"):""}function getCasinLocalesFromStorage(){var a=storage.casinLocales?tryParseJSON(storage.casinLocales):null;Array.isArray(a)&&a.length===LocaleType.length&&"boolean"===typeof a[0]||(a=Array(LocaleType.length).fill(!1),a[0]=!0);return a}
var SellerUtil=function(){var a=" ATVPDKIKX0DER A3P5ROKL5A1OLE A3JWKAKR8XB7XF A1X6FK5RDHNB96 AN1VRQENFRJN5 A3DWYIK6Y9EEQB A1AJ19PSB66TGU A11IL2PNWYJU7H A1AT7YVPFBWXBL  AVDBXBAVVSXLQ A1ZZFT5FULY4LN ANEGB3WVEVKZB A17D2BRD4YMT0X".split(" "),b=" A3SLTBYT1P4ASM AZH2GF8Z5J95G AMUN6OW4OKOC5 A2W68NJA5YNXUP    A1TMZHY2SHKLH2 A13P6277X44WWB     ".split(" "),d="A3M32Z6M072V6G A17SFUTIVB227Z A73J8FUD3TCA5 A3T7DQBB0CKEM6 A3ODHND3J0WMC8 A6D8GZQLZZGO9 A3NKQTGM3PCAIZ A3SLTBYT1P4ASM A5UUIVRC5HDTS A1NHYT4IBWIJVV A1SL8GN8WYR9PY A27GA0YBG6SP60 A3MTENA2RGT54E AR9ZQCUDB1BRG A18FWS6K2KEZVH A272UC180L3PT5 A3QNOO22OOSRVA A8FQRD0WW0VW5 AYRD2K1E2G5OI A3OSP7RQDCZTFI A2KAVP39WOVYMY ALQGD0RUJOUO0 A2VH1G09VXWEK4 A3DMYT37LYXJWC A1HAK8FCVUIIJW A3HBS5CIENBL3I AZ8B0UT6GFHPA AE2QNCE40KCLM A1RJCHJCQT9WV5 A1XE56C8KJF3Q8 A1XHM9JTFOBM5W A3G9IOHQDOG823 A2U5JVE7GGFD8B A23R8XU9UYU5MY A14WSK88711B1Q A27LXP2YCQ2WLE A1RIR7ZBMS38LR A20WXWN33S3JGD A1PT7S6F0FISH A2X9BIRDIKC20I A1JW18WKUHUG7I A1G3UP32AZJ14F A1LD4FJ97AUVJA".split(" "),
g=function(m,q){return m===a[q]||m===b[q]||d.includes(m)};return{getAmazonSellerIds:function(m){var q=[];a[m].length&&q.push(a[m]);b[m].length&&q.push(b[m]);return q},getHtml:function(m,q,h,n,t){n=void 0===n?null:n;t=void 0===t?!1:t;var p=g(m,q),v=!p&&14!=q,E="https://www.amazon."+getTldByDomain(q)+"/gp/aag/details/?seller="+m;q=getBaseUrl()+"#!seller/"+q+"-"+m;return""+(v?'<a href="'+q+'" title="'+la._181+'" target="_blank">'+h+"</a>":h)+(p||null===n?"":' <span style="color:#999">('+n+"%)</span>")+
"&ensp;"+(v?'<a href="'+E+'" title="'+la._646+' Amazon" target="_blank"><i class="fa fa-external-link"></i></a>':"")+"\n\t\t\t\t"+(t?'<br><span style="font-family:monospace;color:#ccc">'+m+"</span>":"")},getLabel:function(m,q){return-1==m||-2==m?"-":g(m,q)?"Amazon":"3rd Party"},isSellerIdAmazon:g}}();(function(a){a.color={};a.color.make=function(d,g,m,q){var h={};h.r=d||0;h.g=g||0;h.b=m||0;h.a=null!=q?q:1;h.add=function(n,t){for(var p=0;p<n.length;++p)h[n.charAt(p)]+=t;return h.normalize()};h.scale=function(n,t){for(var p=0;p<n.length;++p)h[n.charAt(p)]*=t;return h.normalize()};h.toString=function(){return 1<=h.a?"rgb("+[h.r,h.g,h.b].join()+")":"rgba("+[h.r,h.g,h.b,h.a].join()+")"};h.normalize=function(){function n(t,p,v){return p<t?t:p>v?v:p}h.r=n(0,parseInt(h.r),255);h.g=n(0,parseInt(h.g),255);
h.b=n(0,parseInt(h.b),255);h.a=n(0,h.a,1);return h};h.clone=function(){return a.color.make(h.r,h.b,h.g,h.a)};return h.normalize()};a.color.extract=function(d,g){do{var m=d.css(g).toLowerCase();if(""!=m&&"transparent"!=m)break;d=d.parent()}while(d.length&&!a.nodeName(d.get(0),"body"));"rgba(0, 0, 0, 0)"==m&&(m="transparent");return a.color.parse(m)};a.color.parse=function(d){var g,m=a.color.make;if(g=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(d))return m(parseInt(g[1],10),
parseInt(g[2],10),parseInt(g[3],10));if(g=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(d))return m(parseInt(g[1],10),parseInt(g[2],10),parseInt(g[3],10),parseFloat(g[4]));if(g=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)%\s*,\s*([0-9]+(?:\.[0-9]+)?)%\s*,\s*([0-9]+(?:\.[0-9]+)?)%\s*\)/.exec(d))return m(2.55*parseFloat(g[1]),2.55*parseFloat(g[2]),2.55*parseFloat(g[3]));if(g=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)%\s*,\s*([0-9]+(?:\.[0-9]+)?)%\s*,\s*([0-9]+(?:\.[0-9]+)?)%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(d))return m(2.55*
parseFloat(g[1]),2.55*parseFloat(g[2]),2.55*parseFloat(g[3]),parseFloat(g[4]));if(g=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(d))return m(parseInt(g[1],16),parseInt(g[2],16),parseInt(g[3],16));if(g=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(d))return m(parseInt(g[1]+g[1],16),parseInt(g[2]+g[2],16),parseInt(g[3]+g[3],16));d=a.trim(d).toLowerCase();if("transparent"==d)return m(255,255,255,0);g=b[d]||[0,0,0];return m(g[0],g[1],g[2])};var b={aqua:[0,255,255],azure:[240,255,255],beige:[245,
245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,
144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}})(jQuery);
(function(a){function b(q,h){var n=h.children("."+q)[0];if(null==n&&(n=document.createElement("canvas"),n.className=q,a(n).css({direction:"ltr",position:"absolute",left:0,top:0}).appendTo(h),!n.getContext))if(window.G_vmlCanvasManager)n=window.G_vmlCanvasManager.initElement(n);else throw Error("Canvas is not available. If you're using IE with a fall-back such as Excanvas, then there's either a mistake in your conditional include, or the page has no DOCTYPE and is rendering in Quirks Mode.");this.element=
n;q=this.context=n.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(q.webkitBackingStorePixelRatio||q.mozBackingStorePixelRatio||q.msBackingStorePixelRatio||q.oBackingStorePixelRatio||q.backingStorePixelRatio||1);try{this.resize(float2int(h.width()),float2int(h.height()))}catch(t){reportBug(t),console.log(h,t),this.resize(h.width(),h.height())}this.textContainer=null;this.text={};this._textCache={}}function d(q,h,n,t){function p(D,T){T=[ia].concat(T);for(var ha in D)D[ha].apply(this,
T)}function v(D){for(var T=[],ha=0;ha<D.length;++ha){var ba=a.extend(!0,{},aa.series);null!=D[ha].data?(ba.data=D[ha].data,delete D[ha].data,a.extend(!0,ba,D[ha]),D[ha].data=ba.data):ba.data=D[ha];T.push(ba)}ca=T;ha=ca.length;T=-1;for(D=0;D<ca.length;++D)ba=ca[D].color,null!=ba&&(ha--,"number"==typeof ba&&ba>T&&(T=ba));ha<=T&&(ha=T+1);T=[];var pa=aa.colors,ua=pa.length,wa=0;for(D=0;D<ha;D++)ba=a.color.parse(pa[D%ua]||"#666"),0==D%ua&&D&&(wa=0<=wa?.5>wa?-wa-.2:0:-wa),T[D]=ba.scale("rgb",1+wa);for(D=
ha=0;D<ca.length;++D){ba=ca[D];null==ba.color?(ba.color=T[ha].toString(),++ha):"number"==typeof ba.color&&(ba.color=T[ba.color].toString());if(null==ba.lines.show){var Fa;pa=!0;for(Fa in ba)if(ba[Fa]&&ba[Fa].show){pa=!1;break}pa&&(ba.lines.show=!0)}null==ba.lines.zero&&(ba.lines.zero=!!ba.lines.fill);ba.xaxis=J(Ba,E(ba,"x"));ba.yaxis=J(Ea,E(ba,"y"))}U()}function E(D,T){D=D[T+"axis"];"object"==typeof D&&(D=D.n);"number"!=typeof D&&(D=1);return D}function F(){return a.grep(Ba.concat(Ea),function(D){return D})}
function N(D){var T={},ha,ba;for(ha=0;ha<Ba.length;++ha)(ba=Ba[ha])&&ba.used&&(T["x"+ba.n]=ba.c2p(D.left));for(ha=0;ha<Ea.length;++ha)(ba=Ea[ha])&&ba.used&&(T["y"+ba.n]=ba.c2p(D.top));void 0!==T.x1&&(T.x=T.x1);void 0!==T.y1&&(T.y=T.y1);return T}function K(){var D=[],T,ha;for(T=0;T<Ba.length;++T)(ha=Ba[T])&&ha.used&&D.push(ha);for(T=0;T<Ea.length;++T)(ha=Ea[T])&&ha.used&&D.push(ha);return D}function J(D,T){D[T-1]||(D[T-1]={n:T,direction:D==Ba?"x":"y",options:a.extend(!0,{},D==Ba?aa.xaxis:aa.yaxis)});
return D[T-1]}function U(){function D(za,Pa,Ra){Pa<za.datamin&&Pa!=-ba&&(za.datamin=Pa);Ra>za.datamax&&Ra!=ba&&(za.datamax=Ra)}var T=Number.POSITIVE_INFINITY,ha=Number.NEGATIVE_INFINITY,ba=Number.MAX_VALUE,pa,ua,wa,Fa,Ha;a.each(F(),function(za,Pa){Pa.datamin=T;Pa.datamax=ha;Pa.used=!1});for(pa=0;pa<ca.length;++pa){var Da=ca[pa];Da.datapoints={points:[]};p(X.processRawData,[Da,Da.data,Da.datapoints])}for(pa=0;pa<ca.length;++pa){Da=ca[pa];var Ca=Da.data;var La=Da.datapoints.format;if(!La){La=[];La.push({x:!0,
number:!0,required:!0});La.push({y:!0,number:!0,required:!0});if(Da.bars.show||Da.lines.show&&Da.lines.fill)La.push({y:!0,number:!0,required:!1,defaultValue:0,autoscale:!!(Da.bars.show&&Da.bars.zero||Da.lines.show&&Da.lines.zero)}),Da.bars.horizontal&&(delete La[La.length-1].y,La[La.length-1].x=!0);Da.datapoints.format=La}if(null==Da.datapoints.pointsize){Da.datapoints.pointsize=La.length;var Na=Da.datapoints.pointsize;var Ja=Da.datapoints.points;var Oa=Da.lines.show&&Da.lines.steps||Da.dashes.show&&
Da.dashes.steps;Da.xaxis.used=Da.yaxis.used=!0;for(ua=wa=0;ua<Ca.length;++ua,wa+=Na){var Sa=Ca[ua];var Ka=null==Sa;if(!Ka)for(Fa=0;Fa<Na;++Fa){var Ia=Sa[Fa];if(Ha=La[Fa])Ha.number&&null!=Ia&&(Ia=+Ia,isNaN(Ia)?Ia=null:Infinity==Ia?Ia=ba:-Infinity==Ia&&(Ia=-ba)),null==Ia&&(Ha.required&&(Ka=!0),null!=Ha.defaultValue&&(Ia=Ha.defaultValue));Ja[wa+Fa]=Ia}if(Ka)for(Fa=0;Fa<Na;++Fa)Ia=Ja[wa+Fa],null==Ia||Da.Yignore||(Ha=La[Fa],!1!==Ha.autoscale&&(Ha.x&&D(Da.xaxis,Ia,Ia),Ha.y&&D(Da.yaxis,Ia,Ia))),Ja[wa+Fa]=
null;else if(Oa&&0<wa&&null!=Ja[wa-Na]&&Ja[wa-Na]!=Ja[wa]&&Ja[wa-Na+1]!=Ja[wa+1]){for(Fa=0;Fa<Na;++Fa)Ja[wa+Na+Fa]=Ja[wa+Fa];Ja[wa+1]=Ja[wa-Na+1];wa+=Na}}}}for(pa=0;pa<ca.length;++pa)Da=ca[pa],p(X.processDatapoints,[Da,Da.datapoints]);for(pa=0;pa<ca.length;++pa)if(Da=ca[pa],Ja=Da.datapoints.points,Na=Da.datapoints.pointsize,La=Da.datapoints.format,!Da.Yignore){Sa=wa=T;Oa=Ca=ha;for(ua=0;ua<Ja.length;ua+=Na)if(null!=Ja[ua])for(Fa=0;Fa<Na;++Fa)Ia=Ja[ua+Fa],(Ha=La[Fa])&&!1!==Ha.autoscale&&Ia!=ba&&Ia!=
-ba&&(Ha.x&&(Ia<wa&&(wa=Ia),Ia>Ca&&(Ca=Ia)),!Ha.y||void 0!==Da.xaxis.options.min&&Ja[ua]<Da.xaxis.options.min||void 0!==Da.xaxis.options.max&&Ja[ua]>Da.xaxis.options.max||(Ia<Sa&&(Sa=Ia),Ia>Oa&&(Oa=Ia)));if(Da.bars.show){switch(Da.bars.align){case "left":ua=0;break;case "right":ua=-Da.bars.barWidth;break;default:ua=-Da.bars.barWidth/2}Da.bars.horizontal?(Sa+=ua,Oa+=ua+Da.bars.barWidth):(wa+=ua,Ca+=ua+Da.bars.barWidth)}D(Da.xaxis,wa,Ca);D(Da.yaxis,Sa,Oa)}a.each(F(),function(za,Pa){Pa.datamin==T&&(Pa.datamin=
null);Pa.datamax==ha&&(Pa.datamax=null)})}function R(){na&&clearTimeout(na);ea.off("mousemove",B);ea.off("mouseleave",M);ea.off("click",r);p(X.shutdown,[ea])}function S(D){function T(wa){return wa}var ha=D.options.transform||T,ba=D.options.inverseTransform;if("x"==D.direction){var pa=D.scale=Ga/Math.abs(ha(D.max)-ha(D.min));var ua=Math.min(ha(D.max),ha(D.min))}else pa=D.scale=Aa/Math.abs(ha(D.max)-ha(D.min)),pa=-pa,ua=Math.max(ha(D.max),ha(D.min));D.p2c=ha==T?function(wa){return(wa-ua)*pa}:function(wa){return(ha(wa)-
ua)*pa};D.c2p=ba?function(wa){return ba(ua+wa/pa)}:function(wa){return ua+wa/pa}}function fa(D,T,ha){if(!ha)return{};var ba=ha*Math.PI/180,pa=Math.sin(ba);ba=Math.cos(ba);var ua=ba*D,wa=pa*D,Fa=-pa*T,Ha=ba*T,Da=ba*D-pa*T,Ca=pa*D+ba*T,La=Math.min(0,ua,Fa,Da);Fa=Math.max(0,ua,Fa,Da);Da=Math.min(0,wa,Ha,Ca);Ha=Math.max(0,wa,Ha,Ca);Ca={x:T/2*pa,y:T/2*ba};var Na={x:D*ba+T/2*pa,y:D*pa-T/2*ba};if(0>ha){D={x:D*ba+T*pa,y:D*pa-T*ba};var Ja={x:T*pa,y:T*ba}}else{var Oa={x:ua,y:wa};D={x:T*pa,y:-T*ba}}return{width:Fa-
La,height:Ha-Da,a_left:Ca,a_right:Na,topmost:Oa,bottommost:D,leftmost:Ja}}function qa(D){var T=D.options.labelAngle;if(void 0==T||0==T)return{};var ha=D.box,ba=fa(D.options.origWidth,D.options.origHeight,T),pa="left",ua=0,wa=0;if("bottom"==D.position){var Fa=ha.top+ha.padding;0>T?ua=ja?-ba.a_left.x:ba.a_left.x:(pa="right",ua=-ba.a_right.x,ja&&(Fa+=ba.topmost.y))}else if("top"==D.position)Fa=ha.top,ja&&0<T&&(Fa+=ha.height-ha.padding+ba.bottommost.y),0>T&&(pa="right"),ua=!ja&&0>T?-ba.width-ba.a_left.x:
0>T?-ba.a_right.x:-ba.a_left.x;else if("left"==D.position){pa="right";var Ha=ha.left;0>T?(wa=ba.a_right.y,ja&&(Ha-=ba.leftmost.x)):wa=ja?ba.a_right.y:-ba.a_left.y}else"right"==D.position&&(pa="left",Ha=ha.left+ha.padding,0>T?(ja&&(Ha-=ba.leftmost.x),wa=-ba.a_left.y):wa=ja?-ba.a_left.y:-ba.height+ba.a_left.y);return{top:Fa,left:Ha,oTop:wa,oLeft:ua,align:pa}}function oa(D){function T(Ha,Da){return a('<div style="position:absolute;top:-10000px;'+Da+'font-size:smaller"><div class="'+D.direction+"Axis "+
D.direction+D.n+'Axis">'+Ha.join("")+"</div></div>").appendTo(q)}var ha=D.options,ba,pa=D.ticks||[],ua=[],wa,Fa=ha.labelWidth;ha=ha.labelHeight;if("x"==D.direction&&0==D.options.labelAngle){if(null==Fa&&(Fa=Math.floor(ta.width/(0<pa.length?pa.length:1))),null==ha){ua=[];for(ba=0;ba<pa.length;++ba)(wa=pa[ba].label)&&ua.push('<div class="tickLabel" style="float:left;width:'+Fa+'px">'+wa+"</div>");0<ua.length&&(ua.push('<div style="clear:left"></div>'),pa=T(ua,"width:10000px;"),ha=float2int(pa.height()),
pa.remove())}}else if(null==Fa||null==ha){for(ba=0;ba<pa.length;++ba)(wa=pa[ba].label)&&ua.push('<div class="tickLabel">'+wa+"</div>");0<ua.length&&(pa=T(ua,""),0!=D.options.labelAngle?(ua=fa(float2int(pa.children().width()),float2int(pa.find("div.tickLabel").height()),D.options.labelAngle),D.options.origHeight=float2int(pa.find("div.tickLabel").height()),D.options.origWidth=float2int(pa.children().width()),null==ha&&(ha=ua.height),null==Fa&&(Fa=ua.width)):(null==Fa&&(Fa=float2int(pa.children().width())),
null==ha&&(ha=float2int(pa.find("div.tickLabel").height()))),pa.remove())}null==Fa&&(Fa=0);null==ha&&(ha=0);D.labelWidth=Fa;5==ia.getOptions().graphIndex&&3==D.n&&(D.labelWidth=13);D.labelHeight=ha}function va(D){var T=D.labelWidth,ha=D.labelHeight,ba=D.options.position,pa="x"===D.direction,ua=D.options.tickLength,wa=aa.grid.axisMargin,Fa=aa.grid.labelMargin,Ha=!0,Da=!0,Ca=!0,La=!1;a.each(pa?Ba:Ea,function(Na,Ja){Ja&&(Ja.show||Ja.reserveSpace)&&(Ja===D?La=!0:Ja.options.position===ba&&(La?Da=!1:Ha=
!1),La||(Ca=!1))});Da&&(wa=0);null==ua&&(ua=Ca?"full":5);pa?(ha+=Fa,"bottom"==ba?(ra.bottom+=ha+wa,D.box={top:ta.height-ra.bottom,height:ha}):(D.box={top:ra.top+wa,height:ha},ra.top+=ha+wa)):(T+=Fa,"left"==ba?(D.box={left:ra.left+wa,width:T},ra.left+=T+wa):(ra.right+=T+wa,D.box={left:ta.width-ra.right,width:T}));D.position=ba;D.tickLength=ua;D.box.padding=Fa;D.innermost=Ha}function ka(D){var T,ha=F(),ba=aa.grid.show;a.each(ha,function(Fa,Ha){Ha.show=Ha.options.show;null==Ha.show&&(Ha.show=Ha.used);
Ha.reserveSpace=Ha.show||Ha.options.reserveSpace;ma(Ha)});var pa=a.grep(ha,function(Fa){return Fa.reserveSpace});ra.left=ra.right=ra.top=ra.bottom=0;if(aa.grid.show){a.each(pa,function(Fa,Ha){Y(Ha);xa(Ha);L(Ha,Ha.ticks);oa(Ha)});for(T=pa.length-1;0<=T;--T)va(pa[T]);var ua=aa.grid.minBorderMargin;if(null==ua)for(T=ua=0;T<ca.length;++T)ua=Math.max(ua,ca[T].points.radius+ca[T].points.lineWidth/2);for(var wa in ra)ra[wa]+=aa.grid.borderWidth,ra[wa]=Math.max(ua,ra[wa])}Ga=ta.width-ra.left-ra.right;Aa=
ta.height-ra.bottom-ra.top;a.each(ha,function(Fa,Ha){S(Ha)});ba&&(a.each(pa,function(Fa,Ha){"x"==Ha.direction?(Ha.box.left=ra.left-Ha.labelWidth/2,Ha.box.width=ta.width-ra.left-ra.right+Ha.labelWidth):(Ha.box.top=ra.top-Ha.labelHeight/2,Ha.box.height=ta.height-ra.bottom-ra.top+Ha.labelHeight)}),Z());D||P()}function ma(D){var T=D.options,ha=+(null!=T.min?T.min:D.datamin),ba=+(null!=T.max?T.max:D.datamax),pa=ba-ha;if(0==pa){if(pa=0==ba?1:.01,null==T.min&&(ha-=pa),null==T.max||null!=T.min)ba+=pa}else{var ua=
T.autoscaleMargin;null!=ua&&(null==T.min&&(ha-=pa*ua,0>ha&&null!=D.datamin&&0<=D.datamin&&(ha=0)),null==T.max&&(ba+=pa*ua,0<ba&&null!=D.datamax&&0>=D.datamax&&(ba=0)))}D.min=ha;D.max=ba}function Y(D){var T=D.options;var ha="number"==typeof T.ticks&&0<T.ticks?T.ticks:.3*Math.sqrt("x"==D.direction?ta.width:ta.height);ha=(D.max-D.min)/ha;var ba;if("time"==T.mode){var pa={second:1E3,minute:6E4,hour:36E5,day:864E5,month:2592E6,year:525949.2*6E4};var ua=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],
[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[.25,"month"],[.5,"month"],[1,"month"],[2,"month"],[3,"month"],[6,"month"],[1,"year"]];var wa=0;null!=T.minTickSize&&(wa="number"==typeof T.tickSize?T.tickSize:T.minTickSize[0]*pa[T.minTickSize[1]]);for(ba=0;ba<ua.length-1&&!(ha<(ua[ba][0]*pa[ua[ba][1]]+ua[ba+1][0]*pa[ua[ba+1][1]])/2&&ua[ba][0]*pa[ua[ba][1]]>=wa);++ba);wa=ua[ba][0];
var Fa=ua[ba][1];"year"==Fa&&(ba=Math.pow(10,Math.floor(Math.log(ha/pa.year)/Math.LN10)),ua=ha/pa.year/ba,wa=(1.5>ua?1:3>ua?2:7.5>ua?5:10)*ba);D.tickSize=T.tickSize||[wa,Fa];ba=function(Ca){var La=[],Na=Ca.tickSize[0],Ja=Ca.tickSize[1],Oa=new Date(Ca.min),Sa=Na*pa[Ja];"second"==Ja&&Oa.setUTCSeconds(g(Oa.getUTCSeconds(),Na));"minute"==Ja&&Oa.setUTCMinutes(g(Oa.getUTCMinutes(),Na));"hour"==Ja&&Oa.setUTCHours(g(Oa.getUTCHours(),Na));"month"==Ja&&Oa.setUTCMonth(g(Oa.getUTCMonth(),Na));"year"==Ja&&Oa.setUTCFullYear(g(Oa.getUTCFullYear(),
Na));Oa.setUTCMilliseconds(0);Sa>=pa.minute&&Oa.setUTCSeconds(0);Sa>=pa.hour&&Oa.setUTCMinutes(0);Sa>=pa.day&&Oa.setUTCHours(0);Sa>=4*pa.day&&Oa.setUTCDate(1);Sa>=pa.year&&Oa.setUTCMonth(0);var Ka=0,Ia=Number.NaN;do{var za=Ia;Ia=Oa.getTime();La.push(Ia);if("month"==Ja)if(1>Na){Oa.setUTCDate(1);var Pa=Oa.getTime();Oa.setUTCMonth(Oa.getUTCMonth()+1);var Ra=Oa.getTime();Oa.setTime(Ia+Ka*pa.hour+(Ra-Pa)*Na);Ka=Oa.getUTCHours();Oa.setUTCHours(0)}else Oa.setUTCMonth(Oa.getUTCMonth()+Na);else"year"==Ja?
Oa.setUTCFullYear(Oa.getUTCFullYear()+Na):Oa.setTime(Ia+Sa)}while(Ia<Ca.max&&Ia!=za);return La};wa=function(Ca,La){Ca=new Date(Ca);if(null!=T.timeformat)return a.plot.formatDate(Ca,T.timeformat,T.monthNames);var Na=La.tickSize[0]*pa[La.tickSize[1]];La=La.max-La.min;var Ja=T.twelveHourClock?" %p":"";return a.plot.formatDate(Ca,Na<pa.minute?"%h:%M:%S"+Ja:Na<pa.day?La<2*pa.day?"%h:%M"+Ja:"%b %d %h:%M"+Ja:Na<pa.month?"%b %d":Na<pa.year?La<pa.year?"%b":"%b %y":"%y",T.monthNames)}}else{Fa=T.tickDecimals;
var Ha=-Math.floor(Math.log(ha)/Math.LN10);null!=Fa&&Ha>Fa&&(Ha=Fa);ba=Math.pow(10,-Ha);ua=ha/ba;1.5>ua?wa=1:3>ua?(wa=2,2.25<ua&&(null==Fa||Ha+1<=Fa)&&(wa=2.5,++Ha)):wa=7.5>ua?5:10;wa*=ba;null!=T.minTickSize&&wa<T.minTickSize&&(wa=T.minTickSize);D.delta=ha;D.tickDecimals=Math.max(0,null!=Fa?Fa:Ha);D.tickSize=T.tickSize||wa;ba=function(Ca){var La=[],Na=g(Ca.min,Ca.tickSize),Ja=0,Oa=Number.NaN;do{var Sa=Oa;Oa=Na+Ja*Ca.tickSize;La.push(Oa);++Ja}while(Oa<Ca.max&&Oa!=Sa);return La};wa=function(Ca,La){return Ca.toFixed(La.tickDecimals)}}if(null!=
T.alignTicksWithAxis){var Da=("x"==D.direction?Ba:Ea)[T.alignTicksWithAxis-1];Da&&Da.used&&Da!=D&&(ba=ba(D),0<ba.length&&(null==T.min&&(D.min=Math.min(D.min,ba[0])),null==T.max&&1<ba.length&&(D.max=Math.max(D.max,ba[ba.length-1]))),ba=function(Ca){var La=[],Na;for(Na=0;Na<Da.ticks.length;++Na){var Ja=(Da.ticks[Na].v-Da.min)/(Da.max-Da.min);Ja=Ca.min+Ja*(Ca.max-Ca.min);La.push(Ja)}return La},"time"!=D.mode&&null==T.tickDecimals&&(ha=Math.max(0,-Math.floor(Math.log(ha)/Math.LN10)+1),ua=ba(D),1<ua.length&&
/\..*0$/.test((ua[1]-ua[0]).toFixed(ha))||(D.tickDecimals=ha)))}D.tickGenerator=ba;a.isFunction(T.tickFormatter)?D.tickFormatter=function(Ca,La){return""+T.tickFormatter(Ca,La)}:D.tickFormatter=wa}function xa(D){var T=D.options.ticks,ha=[];null==T||"number"==typeof T&&0<T?ha=D.tickGenerator(D):T&&(ha=a.isFunction(T)?T(D):T);D.ticks=[];for(T=0;T<ha.length;++T){var ba=null,pa=ha[T];if("object"==typeof pa){var ua=+pa[0];1<pa.length&&(ba=pa[1])}else ua=+pa;null==ba&&(ba=D.tickFormatter(ua,D));isNaN(ua)||
D.ticks.push({v:ua,label:ba})}}function L(D,T){D.options.autoscaleMargin&&0<T.length&&(null==D.options.min&&(D.min=Math.min(D.min,T[0].v)),null==D.options.max&&1<T.length&&(D.max=Math.max(D.max,T[T.length-1].v)))}function f(){ta.clear();p(X.drawBackground,[W]);var D=aa.grid;D.show&&D.backgroundColor&&(W.save(),W.translate(ra.left,ra.top),W.fillStyle=V(aa.grid.backgroundColor,Aa,0,"rgba(255, 255, 255, 0)"),W.fillRect(0,0,Ga,Aa),W.restore());D.show&&!D.aboveData&&Q();for(var T=0;T<ca.length;++T){p(X.drawSeries,
[W,ca[T]]);var ha=ca[T];ha.lines.show&&u(ha);ha.bars.show&&A(ha);ha.points.show&&G(ha)}p(X.draw,[W]);D.show&&D.aboveData&&Q();ta.render();w()}function H(D,T){for(var ha,ba,pa,ua,wa=F(),Fa=0;Fa<wa.length;++Fa)if(ha=wa[Fa],ha.direction==T&&(ua=T+ha.n+"axis",D[ua]||1!=ha.n||(ua=T+"axis"),D[ua])){ba=D[ua].from;pa=D[ua].to;break}D[ua]||(ha="x"==T?Ba[0]:Ea[0],ba=D[T+"1"],pa=D[T+"2"]);null!=ba&&null!=pa&&ba>pa&&(D=ba,ba=pa,pa=D);return{from:ba,to:pa,axis:ha}}function Q(){W.save();W.translate(ra.left,ra.top);
var D=aa.grid.markings;if(D){if(a.isFunction(D)){var T=ia.getAxes();T.xmin=T.xaxis.min;T.xmax=T.xaxis.max;T.ymin=T.yaxis.min;T.ymax=T.yaxis.max;D=D(T)}var ha=0;a:for(;ha<D.length;++ha){T=D[ha];var ba=H(T,"x"),pa=H(T,"y");null==ba.from&&(ba.from=ba.axis.min);null==ba.to&&(ba.to=ba.axis.max);null==pa.from&&(pa.from=pa.axis.min);null==pa.to&&(pa.to=pa.axis.max);if(!(ba.to<ba.axis.min||ba.from>ba.axis.max||pa.to<pa.axis.min||pa.from>pa.axis.max)){ba.from=Math.max(ba.from,ba.axis.min);ba.to=Math.min(ba.to,
ba.axis.max);pa.from=Math.max(pa.from,pa.axis.min);pa.to=Math.min(pa.to,pa.axis.max);var ua=ba.from===ba.to,wa=pa.from===pa.to;if(!ua||!wa){ba.from=Math.floor(ba.axis.p2c(ba.from));ba.to=Math.floor(ba.axis.p2c(ba.to));pa.from=Math.floor(pa.axis.p2c(pa.from));pa.to=Math.floor(pa.axis.p2c(pa.to));T.isUpdateMarker&&(pa.to-=5,pa.from=0);if(T.isSalesRankMaker)try{for(var Fa=ia.getData(),Ha=!1,Da=0;Da<Fa.length;Da++){var Ca=Fa[Da];if(Ca.color==CsvType.SALES.color){if(!Ca.lines.show)continue a;Ha=!0;break}}if(!Ha)continue;
pa.to-=5;pa.from=20}catch(Ja){reportBug(Ja)}if(T.isBuyBoxMarker)try{var La=ia.getData();Ha=!1;for(Da=0;Da<La.length;Da++){var Na=La[Da];if(Na.color==CsvType.BUY_BOX_SHIPPING.color){if(!Na.lines.show)continue a;Ha=!0;break}}if(!Ha)continue;pa.from=T.xaxis.from>=changeV5Epoch?8:20}catch(Ja){reportBug(Ja)}ua||wa?(wa=T.lineWidth||aa.grid.markingsLineWidth,Ha=wa%2?.5:0,W.beginPath(),W.strokeStyle=T.color||aa.grid.markingsColor,W.lineWidth=wa,ua?(W.moveTo(ba.to+Ha,pa.from),W.lineTo(ba.to+Ha,pa.to)):(W.moveTo(ba.from,
pa.to+Ha),W.lineTo(ba.to,pa.to+Ha)),W.stroke()):(W.fillStyle=T.color||aa.grid.markingsColor,W.fillRect(ba.from,pa.to,ba.to-ba.from,pa.from-pa.to))}}}}T=F();D=aa.grid.borderWidth;for(Fa=0;Fa<T.length;++Fa)if(Ca=T[Fa],ha=Ca.box,La=Ca.tickLength,Ca.show&&0!=Ca.ticks.length){W.strokeStyle=Ca.options.tickColor||a.color.parse(Ca.options.color).scale("a",.22).toString();W.lineWidth=1;"x"==Ca.direction?(Na=0,ba="full"==La?"top"==Ca.position?0:Aa:ha.top-ra.top+("top"==Ca.position?ha.height:0)):(ba=0,Na="full"==
La?"left"==Ca.position?0:Ga:ha.left-ra.left+("left"==Ca.position?ha.width:0));W.beginPath();for(ha=0;ha<Ca.ticks.length;++ha)wa=Ca.ticks[ha].v,pa=ua=0,wa<Ca.min||wa>Ca.max||"full"==La&&0<D&&(wa==Ca.min||wa==Ca.max)||("x"==Ca.direction?(Na=Ca.p2c(wa),ua="full"==La?-Aa:La,"top"==Ca.position&&(ua=-ua)):(ba=Ca.p2c(wa),pa="full"==La?-Ga:La,"left"==Ca.position&&(pa=-pa)),1==W.lineWidth&&("x"==Ca.direction?Na=Math.floor(Na)+.5:ba=Math.floor(ba)+.5),W.moveTo(Na,ba),W.lineTo(Na+pa,ba+ua));W.stroke()}D&&(ha=
aa.grid.borderColor,"object"==typeof D||"object"==typeof ha?("object"!==typeof D&&(D={top:D,right:D,bottom:D,left:D}),"object"!==typeof ha&&(ha={top:ha,right:ha,bottom:ha,left:ha}),0<D.top&&(W.strokeStyle=ha.top,W.lineWidth=D.top,W.beginPath(),W.moveTo(0-D.left,-(D.top/2)),W.lineTo(Ga,-(D.top/2)),W.stroke()),0<D.right&&(W.strokeStyle=ha.right,W.lineWidth=D.right,W.beginPath(),W.moveTo(Ga+D.right/2,0-D.top),W.lineTo(Ga+D.right/2,Aa),W.stroke()),0<D.bottom&&(W.strokeStyle=ha.bottom,W.lineWidth=D.bottom,
W.beginPath(),W.moveTo(Ga+D.right,Aa+D.bottom/2),W.lineTo(0,Aa+D.bottom/2),W.stroke()),0<D.left&&(W.strokeStyle=ha.left,W.lineWidth=D.left,W.beginPath(),W.moveTo(-(D.left/2),Aa+D.bottom),W.lineTo(-(D.left/2),0),W.stroke())):(W.lineWidth=D,W.strokeStyle=aa.grid.borderColor,W.strokeRect(-D/2,-D/2,Ga+D,Aa+D)));W.restore()}function Z(){var D=void 0,T=function(){},ha=["transform","WebkitTransform","MozTransform","OTransform","msTransform"],ba=["","-webkit-","-moz-","-o-","-ms-"],pa=document.createElement("flotelement"),
ua;for(ua in ha)if(void 0!==pa.style[ha[ua]]){D=ba[ua];break}if(void 0!=D)ja=!0,T=function(Ja,Oa){Ja.push(D+"transform:rotate("+-Oa.options.labelAngle+"deg)");Ja.push(D+"transform-origin:top left")};else if("string"==typeof pa.style.filter||"object"==typeof pa.style.filters)T=function(Ja,Oa){var Sa=Oa.options.labelAngle*Math.PI/180;Oa=Math.cos(Sa);Sa=Math.sin(Sa);Ja.push("filter:progid:DXImageTransform.Microsoft.Matrix(M11="+Oa+", M12="+Sa+", M21="+-Sa+", M22="+Oa+",sizingMethod='auto expand'")};
q.find(".tickLabels").remove();ha=['<div class="tickLabels" style="font-size:smaller">'];ba=K();for(pa=0;pa<ba.length;++pa){var wa=ba[pa],Fa=wa.box;if(wa.show){var Ha=qa(wa);ha.push('<div class="'+wa.direction+"Axis "+wa.direction+wa.n+'Axis" style="color:'+wa.options.color+'">');for(ua=0;ua<wa.ticks.length;++ua){var Da=wa.ticks[ua];if(!(!Da.label||Da.v<wa.min||Da.v>wa.max)){var Ca={};if("x"==wa.direction)if(0!=wa.options.labelAngle){var La=Ha.align;Ca.left=Math.round(ra.left+wa.p2c(Da.v));Ca.left+=
Ha.oLeft;Ca.top=Ha.top}else La="center",Ca.left=Math.round(ra.left+wa.p2c(Da.v)-wa.labelWidth/2),"bottom"==wa.position?Ca.top=Fa.top+Fa.padding:Ca.bottom=ta.height-(Fa.top+Fa.height-Fa.padding);else 0!=wa.options.labelAngle?(La=Ha.align,Ca.top=Math.round(ra.top+wa.p2c(Da.v)),Ca.top+=Ha.oTop,Ca.left=Ha.left):(Ca.top=Math.round(ra.top+wa.p2c(Da.v)-wa.labelHeight/2),"left"==wa.position?(Ca.right=ta.width-(Fa.left+Fa.width-Fa.padding),La="right"):(Ca.left=Fa.left+Fa.padding,La="left"));Ca.width=0!=wa.options.labelAngle?
wa.options.origWidth:wa.labelWidth;La=["position:absolute","text-align:"+La];for(var Na in Ca)La.push(Na+":"+Ca[Na]+"px");0!=wa.options.labelAngle&&T(La,wa);ha.push('<div class="tickLabel" style="'+La.join(";")+'">'+Da.label+"</div>")}}ha.push("</div>")}}ha.push("</div>");q.append(ha.join(""))}function u(D){function T(wa,Fa,Ha,Da,Ca,La){var Na=wa.points;wa=wa.pointsize;var Ja=null,Oa=null;W.beginPath();for(var Sa=wa;Sa<Na.length;Sa+=wa){var Ka=Na[Sa-wa],Ia=Na[Sa-wa+1],za=Na[Sa],Pa=Na[Sa+1];if(null!=
Ka&&null!=za){if(Ia<=Pa&&Ia<Ca.min){if(Pa<Ca.min)continue;Ka=(Ca.min-Ia)/(Pa-Ia)*(za-Ka)+Ka;Ia=Ca.min}else if(Pa<=Ia&&Pa<Ca.min){if(Ia<Ca.min)continue;za=(Ca.min-Ia)/(Pa-Ia)*(za-Ka)+Ka;Pa=Ca.min}if(Ia>=Pa&&Ia>Ca.max){if(Pa>Ca.max)continue;Ka=(Ca.max-Ia)/(Pa-Ia)*(za-Ka)+Ka;Ia=Ca.max}else if(Pa>=Ia&&Pa>Ca.max){if(Ia>Ca.max)continue;za=(Ca.max-Ia)/(Pa-Ia)*(za-Ka)+Ka;Pa=Ca.max}if(Ka<=za&&Ka<Da.min){if(za<Da.min)continue;Ia=(Da.min-Ka)/(za-Ka)*(Pa-Ia)+Ia;Ka=Da.min}else if(za<=Ka&&za<Da.min){if(Ka<Da.min)continue;
Pa=(Da.min-Ka)/(za-Ka)*(Pa-Ia)+Ia;za=Da.min}if(Ka>=za&&Ka>Da.max){if(za>Da.max)continue;Ia=(Da.max-Ka)/(za-Ka)*(Pa-Ia)+Ia;Ka=Da.max}else if(za>=Ka&&za>Da.max){if(Ka>Da.max)continue;Pa=(Da.max-Ka)/(za-Ka)*(Pa-Ia)+Ia;za=Da.max}Ka==Ja&&Ia==Oa||W.moveTo(Da.p2c(Ka)+Fa,Ca.p2c(Ia)+Ha);Ja=za;Oa=Pa;1==La?W.lineTo(Math.round(Da.p2c(za)+Fa)+.5,Math.round(Ca.p2c(Pa)+Ha)+.5):W.lineTo(Da.p2c(za)+Fa,Ca.p2c(Pa)+Ha)}}W.stroke()}function ha(wa,Fa,Ha){var Da=wa.points;wa=wa.pointsize;for(var Ca=Math.min(Math.max(0,
Ha.min),Ha.max),La=0,Na=!1,Ja=1,Oa=0,Sa=0;!(0<wa&&La>Da.length+wa);){La+=wa;var Ka=Da[La-wa],Ia=Da[La-wa+Ja],za=Da[La],Pa=Da[La+Ja];if(Na){if(0<wa&&null!=Ka&&null==za){Sa=La;wa=-wa;Ja=2;continue}if(0>wa&&La==Oa+wa){W.fill();Na=!1;wa=-wa;Ja=1;La=Oa=Sa+wa;continue}}if(null!=Ka&&null!=za){if(Ka<=za&&Ka<Fa.min){if(za<Fa.min)continue;Ia=(Fa.min-Ka)/(za-Ka)*(Pa-Ia)+Ia;Ka=Fa.min}else if(za<=Ka&&za<Fa.min){if(Ka<Fa.min)continue;Pa=(Fa.min-Ka)/(za-Ka)*(Pa-Ia)+Ia;za=Fa.min}if(Ka>=za&&Ka>Fa.max){if(za>Fa.max)continue;
Ia=(Fa.max-Ka)/(za-Ka)*(Pa-Ia)+Ia;Ka=Fa.max}else if(za>=Ka&&za>Fa.max){if(Ka>Fa.max)continue;Pa=(Fa.max-Ka)/(za-Ka)*(Pa-Ia)+Ia;za=Fa.max}Na||(W.beginPath(),W.moveTo(Fa.p2c(Ka),Ha.p2c(Ca)),Na=!0);if(Ia>=Ha.max&&Pa>=Ha.max)W.lineTo(Fa.p2c(Ka),Ha.p2c(Ha.max)),W.lineTo(Fa.p2c(za),Ha.p2c(Ha.max));else if(Ia<=Ha.min&&Pa<=Ha.min)W.lineTo(Fa.p2c(Ka),Ha.p2c(Ha.min)),W.lineTo(Fa.p2c(za),Ha.p2c(Ha.min));else{var Ra=Ka,Qa=za;Ia<=Pa&&Ia<Ha.min&&Pa>=Ha.min?(Ka=(Ha.min-Ia)/(Pa-Ia)*(za-Ka)+Ka,Ia=Ha.min):Pa<=Ia&&
Pa<Ha.min&&Ia>=Ha.min&&(za=(Ha.min-Ia)/(Pa-Ia)*(za-Ka)+Ka,Pa=Ha.min);Ia>=Pa&&Ia>Ha.max&&Pa<=Ha.max?(Ka=(Ha.max-Ia)/(Pa-Ia)*(za-Ka)+Ka,Ia=Ha.max):Pa>=Ia&&Pa>Ha.max&&Ia<=Ha.max&&(za=(Ha.max-Ia)/(Pa-Ia)*(za-Ka)+Ka,Pa=Ha.max);Ka!=Ra&&W.lineTo(Fa.p2c(Ra),Ha.p2c(Ia));W.lineTo(Fa.p2c(Ka),Ha.p2c(Ia));W.lineTo(Fa.p2c(za),Ha.p2c(Pa));za!=Qa&&(W.lineTo(Fa.p2c(za),Ha.p2c(Pa)),W.lineTo(Fa.p2c(Qa),Ha.p2c(Pa)))}}}}W.save();W.translate(ra.left,ra.top);W.lineJoin="round";var ba=D.lines.lineWidth,pa=D.shadowSize;if(0<
ba&&0<pa){W.lineWidth=pa;W.strokeStyle="rgba(0,0,0,0.1)";var ua=Math.PI/18;T(D.datapoints,Math.sin(ua)*(ba/2+pa/2),Math.cos(ua)*(ba/2+pa/2),D.xaxis,D.yaxis,ba);W.lineWidth=pa/2;T(D.datapoints,Math.sin(ua)*(ba/2+pa/4),Math.cos(ua)*(ba/2+pa/4),D.xaxis,D.yaxis,ba)}W.lineWidth=ba;W.strokeStyle=D.color;if(pa=O(D.lines,D.color,0,Aa))W.fillStyle=pa,ha(D.datapoints,D.xaxis,D.yaxis);0<ba&&T(D.datapoints,0,0,D.xaxis,D.yaxis,ba);W.restore()}function G(D){function T(wa,Fa,Ha,Da,Ca,La,Na,Ja){var Oa=wa.points;
wa=wa.pointsize;for(var Sa=18==D.index,Ka=0;Ka<Oa.length;Ka+=wa){var Ia=Oa[Ka],za=Oa[Ka+1];if(!(null==Ia||Ia<La.min||Ia>La.max||za<Na.min||za>Na.max)){if(Sa&&Ia>changeV5Epoch)break;W.beginPath();Ia=La.p2c(Ia);za=Na.p2c(za)+Da;"circle"==Ja?W.arc(Ia,za,Fa,0,Ca?Math.PI:2*Math.PI,!1):Ja(W,Ia,za,Fa,Ca,Ka==Oa.length-2||Ka==Oa.length-3);W.closePath();Ha&&(W.fillStyle=Ha,W.fill());W.stroke()}}}W.save();W.translate(ra.left,ra.top);var ha=D.points.lineWidth,ba=D.shadowSize,pa=D.points.radius,ua=D.points.symbol;
0<ha&&0<ba&&(ba/=2,W.lineWidth=ba,W.strokeStyle="rgba(0,0,0,0.1)",T(D.datapoints,pa,null,ba+ba/2,!0,D.xaxis,D.yaxis,ua),W.strokeStyle="rgba(0,0,0,0.2)",T(D.datapoints,pa,null,ba/2,!0,D.xaxis,D.yaxis,ua));W.lineWidth=ha;W.strokeStyle=D.color;T(D.datapoints,pa,O(D.points,D.color),0,!1,D.xaxis,D.yaxis,ua);W.restore()}function A(D){W.save();W.translate(ra.left,ra.top);W.lineWidth=D.bars.lineWidth;W.strokeStyle=D.color;var T="left"==D.bars.align?0:-D.bars.barWidth/2;(function(ha,ba,pa,ua,wa,Fa,Ha){var Da=
ha.points;ha=ha.pointsize;for(var Ca=0;Ca<Da.length;Ca+=ha)if(null!=Da[Ca]){var La,Na;var Ja=Da[Ca];var Oa=Da[Ca+1];var Sa=Da[Ca+2];var Ka=ua,Ia=wa,za=Fa,Pa=Ha,Ra=W,Qa=D.bars.lineWidth;if(D.bars.horizontal){var Ma=Na=La=!0;var Ta=!1;var Ua=Sa;Sa=Oa+ba;var Xa=Oa+pa;Ja<Ua&&(Oa=Ja,Ja=Ua,Ua=Oa,Ta=!0,Na=!1)}else Ta=Na=La=!0,Ma=!1,Ua=Ja+ba,Ja+=pa,Xa=Sa,Sa=Oa,Sa<Xa&&(Oa=Sa,Sa=Xa,Xa=Oa,Ma=!0,La=!1);Ja<za.min||Ua>za.max||Sa<Pa.min||Xa>Pa.max||(Ua<za.min&&(Ua=za.min,Ta=!1),Ja>za.max&&(Ja=za.max,Na=!1),Xa<Pa.min&&
(Xa=Pa.min,Ma=!1),Sa>Pa.max&&(Sa=Pa.max,La=!1),Ua=za.p2c(Ua),Xa=Pa.p2c(Xa),Ja=za.p2c(Ja),Sa=Pa.p2c(Sa),Ia&&(Ra.beginPath(),Ra.moveTo(Ua,Xa),Ra.lineTo(Ua,Sa),Ra.lineTo(Ja,Sa),Ra.lineTo(Ja,Xa),Ra.fillStyle=Ia(Xa,Sa),Ra.fill()),0<Qa&&(Ta||Na||La||Ma)&&(Ra.beginPath(),Ra.moveTo(Ua,Xa+Ka),Ta?Ra.lineTo(Ua,Sa+Ka):Ra.moveTo(Ua,Sa+Ka),La?Ra.lineTo(Ja,Sa+Ka):Ra.moveTo(Ja,Sa+Ka),Na?Ra.lineTo(Ja,Xa+Ka):Ra.moveTo(Ja,Xa+Ka),Ma?Ra.lineTo(Ua,Xa+Ka):Ra.moveTo(Ua,Xa+Ka),Ra.stroke()))}})(D.datapoints,T,T+D.bars.barWidth,
0,D.bars.fill?function(ha,ba){return O(D.bars,D.color,ha,ba)}:null,D.xaxis,D.yaxis);W.restore()}function O(D,T,ha,ba){var pa=D.fill;if(!pa)return null;if(D.fillColor)return V(D.fillColor,ha,ba,T);D=a.color.parse(T);D.a="number"==typeof pa?pa:.4;D.normalize();return D.toString()}function P(){q.find(".legend").remove();if(aa.legend.show){var D=[],T=!1,ha=aa.legend.labelFormatter,ba;if(!aa.legend.noLegend){for(var pa=0;pa<ca.length;++pa){var ua=ca[pa];if(ba=ua.label)0==pa%aa.legend.noColumns&&(T&&D.push("</tr>"),
D.push("<tr>"),T=!0),ha&&(ba=ha(ba,ua)),D.push('<td class="legendColorBox"><div><div class="legendColorBoxCircle" style="background:'+ua.color+"; border:"+(ua.lines.show?6:1)+"px solid "+(ua.lines.show?ua.color:"#ccc")+';"></div></div></td><td class="legendLabel" data-type="'+ua.index+'">'+ba+'<span class="flotLegendHover" style="color:'+ua.color+'"></span></td>')}T&&D.push("</tr>");if(0==D.length)return}D='<table class="legendTable" style="font-size:smaller;color:'+aa.grid.color+'">'+D.join("")+
"</table>";null!=aa.legend.container?a(aa.legend.container).html(D):a('<div class="legend">'+D.replace('style="','style="position:absolute;')+"</div>").appendTo(q)}}function B(D,T){aa.grid.hoverable&&z("plothover",T||D,function(ha){return 0!=ha.hoverable})}function M(D){aa.grid.hoverable&&z("plothover",D,function(T){return!1})}function r(D){z("plotclick",D,function(T){return 0!=T.clickable})}function z(D,T,ha){var ba=ea.offset(),pa=T.pageX-ba.left-ra.left,ua=T.pageY-ba.top-ra.top,wa=N({left:pa,top:ua});
wa.pageX=T.pageX;wa.pageY=T.pageY;if("plotclick"==D){var Fa=aa.grid.mouseActiveRadius,Ha=Fa*Fa+1,Da,Ca;T=[];for(Da=ca.length-1;0<=Da;--Da){var La=null;if(ha(ca[Da])){var Na=ca[Da],Ja=Na.xaxis,Oa=Na.yaxis,Sa=Na.datapoints.points,Ka=Na.datapoints.pointsize,Ia=Ja.c2p(pa),za=Oa.c2p(ua),Pa=Fa/Ja.scale,Ra=Fa/Oa.scale;Ja.options.inverseTransform&&(Pa=Number.MAX_VALUE);Oa.options.inverseTransform&&(Ra=Number.MAX_VALUE);if(Na.lines.show||Na.points.show)if(18==Na.index&&Ia>changeV5Epoch){var Qa=Sa.length-2;
for(Ca=0;Ca<Qa;Ca+=Ka)if(Pa=Sa[Ca+1],null!=Sa[Ca]&&!((Ca+Ka>=Qa?1E14:Sa[Ca+Ka])<Ia||Pa-za>Ra||Pa-za<-Ra)){Pa=Sa[Ca+1];var Ma=Math.abs(Ja.p2c(Ia)-pa);Pa=Math.abs(Oa.p2c(Pa)-ua);if(Ma*Ma+Pa*Pa<Ha){La=[Da,Ca/Ka];break}}}else for(Ca=0;Ca<Sa.length;Ca+=Ka)if(Ma=Sa[Ca],Qa=Sa[Ca+1],null!=Ma&&!(Ma-Ia>Pa||Ma-Ia<-Pa||Qa-za>Ra||Qa-za<-Ra)&&(Ma=Math.abs(Ja.p2c(Ma)-pa),Qa=Math.abs(Oa.p2c(Qa)-ua),Ma*Ma+Qa*Qa<Ha)){La=[Da,Ca/Ka];break}if(Na.bars.show&&!La)for(Ja="left"==Na.bars.align?0:-Na.bars.barWidth/2,Na=Ja+
Na.bars.barWidth,Ca=0;Ca<Sa.length;Ca+=Ka)Ma=Sa[Ca],Qa=Sa[Ca+1],Oa=Sa[Ca+2],null!=Ma&&(ca[Da].bars.horizontal?Ia<=Math.max(Oa,Ma)&&Ia>=Math.min(Oa,Ma)&&za>=Qa+Ja&&za<=Qa+Na:Ia>=Ma+Ja&&Ia<=Ma+Na&&za>=Math.min(Oa,Qa)&&za<=Math.max(Oa,Qa))&&(La=[Da,Ca/Ka]);La&&(Da=La[0],Ca=La[1],Ka=ca[Da].datapoints.pointsize,T.push({datapoint:ca[Da].datapoints.points.slice(Ca*Ka,(Ca+1)*Ka),dataIndex:Ca,series:ca[Da],seriesIndex:Da}))}}if(0<T.length)for(var Ta in T)ha=T[Ta],ha.pageX=parseInt(ha.series.xaxis.p2c(ha.datapoint[0])+
ba.left+ra.left),ha.pageY=parseInt(ha.series.yaxis.p2c(ha.datapoint[1])+ba.top+ra.top);q.trigger(D,[wa,T])}else{Ta=aa.grid.mouseActiveRadius;T=Ta*Ta+1;Fa=null;for(Ha=ca.length-1;0<=Ha;--Ha)if(ha(ca[Ha])){Ia=ca[Ha];Na=Ia.xaxis;Ja=Ia.yaxis;Ca=Ia.datapoints.points;La=Ia.datapoints.pointsize;Sa=Na.c2p(pa);Ka=Ja.c2p(ua);Oa=Ta/Na.scale;Ra=Ta/Ja.scale;Na.options.inverseTransform&&(Oa=Number.MAX_VALUE);Ja.options.inverseTransform&&(Ra=Number.MAX_VALUE);if(Ia.lines.show||Ia.points.show)for(Da=0;Da<Ca.length;Da+=
La)Qa=Ca[Da],za=Ca[Da+1],null==Qa||Qa-Sa>Oa||Qa-Sa<-Oa||za-Ka>Ra||za-Ka<-Ra||(Qa=Math.abs(Na.p2c(Qa)-pa),za=Math.abs(Ja.p2c(za)-ua),za=Qa*Qa+za*za,za<T&&(T=za,Fa=[Ha,Da/La]));if(Ia.bars.show&&!Fa)for(Na="left"==Ia.bars.align?0:-Ia.bars.barWidth/2,Ia=Na+Ia.bars.barWidth,Da=0;Da<Ca.length;Da+=La)Qa=Ca[Da],za=Ca[Da+1],Ja=Ca[Da+2],null!=Qa&&(ca[Ha].bars.horizontal?Sa<=Math.max(Ja,Qa)&&Sa>=Math.min(Ja,Qa)&&Ka>=za+Na&&Ka<=za+Ia:Sa>=Qa+Na&&Sa<=Qa+Ia&&Ka>=Math.min(Ja,za)&&Ka<=Math.max(Ja,za))&&(Fa=[Ha,Da/
La])}Fa?(Ha=Fa[0],Da=Fa[1],La=ca[Ha].datapoints.pointsize,ha={datapoint:ca[Ha].datapoints.points.slice(Da*La,(Da+1)*La),dataIndex:Da,series:ca[Ha],seriesIndex:Ha}):ha=null;ha&&(ha.pageX=parseInt(ha.series.xaxis.p2c(ha.datapoint[0])+ba.left+ra.left),ha.pageY=parseInt(ha.series.yaxis.p2c(ha.datapoint[1])+ba.top+ra.top));q.trigger(D,[wa,ha])}}function w(){var D=aa.interaction.redrawOverlayInterval;-1==D?I():na||(na=setTimeout(I,D))}function I(){na=null;ya.save();sa.clear();ya.translate(ra.left,ra.top);
var D;for(D=0;D<da.length;++D){var T=da[D];if(T.series.points.show){var ha=T.series,ba=T.point,pa=ba[0],ua=ba[1],wa=ha.xaxis,Fa=ha.yaxis;if(!(pa<wa.min||pa>wa.max||ua<Fa.min||ua>Fa.max)){var Ha=ha.points.radius+ha.points.lineWidth/2;ya.lineWidth=Ha;ya.strokeStyle=a.color.parse(ha.color).scale("a",.5).toString();Ha*=1.5;pa=wa.p2c(pa);ua=Fa.p2c(ua);18==ha.index&&ba[0]>changeV5Epoch||(ya.beginPath(),"circle"==ha.points.symbol?ya.arc(pa,ua,Ha,0,2*Math.PI,!1):ha.points.symbol(ya,pa,ua,Ha,!1),ya.closePath(),
ya.stroke())}}if(T.point[0]!=T.point[2]){pa=T.series;ba=T.point;var Da=ba[0];T=pa.color;ha=pa.xaxis;Ha=pa.yaxis;var Ca=ya;wa=ua=pa=!0;Fa=Da+0;var La=Da+(ba[2]-ba[0]);Da=0;ba=ba[1];!(La<ha.min||Fa>ha.max||ba<Ha.min||Da>Ha.max)&&(Fa<ha.min&&(Fa=ha.min),La>ha.max&&(La=ha.max),Da<Ha.min&&(Da=Ha.min),ba>Ha.max&&(ba=Ha.max,pa=!1),Fa=ha.p2c(Fa),Ha.p2c(Da),La=ha.p2c(La),ba=Ha.p2c(ba),Ca.lineWidth=2.5,Ca.strokeStyle=T,wa||ua||pa)&&(Ca.beginPath(),Ca.moveTo(Math.round(Fa)+.5,Math.round(ba+0)+.5),pa&&Ca.lineTo(Math.round(La)+
.5,Math.round(ba+0)+.5),Ca.stroke())}}ya.restore();p(X.drawOverlay,[ya])}function C(D,T){for(var ha=0;ha<da.length;++ha){var ba=da[ha];if(ba.series==D&&ba.point[0]==T[0]&&ba.point[1]==T[1])return ha}return-1}function V(D,T,ha,ba){if("string"==typeof D)return D;T=W.createLinearGradient(0,ha,0,T);ha=0;for(var pa=D.colors.length;ha<pa;++ha){var ua=D.colors[ha];if("string"!=typeof ua){var wa=a.color.parse(ba);null!=ua.brightness&&(wa=wa.scale("rgb",ua.brightness));null!=ua.opacity&&(wa.a*=ua.opacity);
ua=wa.toString()}T.addColorStop(ha/(pa-1),ua)}return T}var ca=[],aa={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:!0,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:.85,sorted:null},xaxis:{show:null,position:"bottom",mode:null,font:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,
labelAngle:0,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null,monthNames:null,timeformat:null,twelveHourClock:!1},yaxis:{autoscaleMargin:.02,labelAngle:0,position:"left"},xaxes:[],yaxes:[],series:{points:{show:!1,radius:3,lineWidth:2,fill:!0,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:2,fill:!1,fillColor:null,steps:!1},bars:{show:!1,lineWidth:2,barWidth:1,fill:!0,fillColor:null,align:"left",horizontal:!1,zero:!0},shadowSize:0,highlightColor:null},
grid:{show:!0,aboveData:!1,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,margin:0,labelMargin:5,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:!1,hoverable:!1,autoHighlight:!1,mouseActiveRadius:10},interaction:{redrawOverlayInterval:1E3/60},hooks:{}},ta=null,sa=null,ea=null,W=null,ya=null,Ba=[],Ea=[],ra={left:0,right:0,top:0,bottom:0},Ga=0,Aa=0,X={processOptions:[],processRawData:[],processDatapoints:[],processOffset:[],
drawBackground:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},ia=this;ia.setData=v;ia.setupGrid=ka;ia.draw=f;ia.setupTickGeneration=Y;ia.setTicks=xa;ia.setRange=ma;ia.snapRangeToTicks=L;ia.syncedMouseMove=null;ia.getPlaceholder=function(){return q};ia.getEventHolder=function(){return ea};ia.getCanvas=function(){return canvas};ia.getPlotOffset=function(){return ra};ia.width=function(){return Ga};ia.height=function(){return Aa};ia.offset=function(){var D=ea.offset();D.left+=ra.left;
D.top+=ra.top;return D};ia.getData=function(){return ca};ia.getAxes=function(){var D={};a.each(Ba.concat(Ea),function(T,ha){ha&&(D[ha.direction+(1!=ha.n?ha.n:"")+"axis"]=ha)});return D};ia.getXAxes=function(){return Ba};ia.getYAxes=function(){return Ea};ia.c2p=N;ia.p2c=function(D){var T={},ha,ba;for(ha=0;ha<Ba.length;++ha)if((ba=Ba[ha])&&ba.used){var pa="x"+ba.n;null==D[pa]&&1==ba.n&&(pa="x");if(null!=D[pa]){T.left=ba.p2c(D[pa]);break}}for(ha=0;ha<Ea.length;++ha)if((ba=Ea[ha])&&ba.used&&(pa="y"+ba.n,
null==D[pa]&&1==ba.n&&(pa="y"),null!=D[pa])){T.top=ba.p2c(D[pa]);break}return T};ia.getOptions=function(){return aa};ia.highlight=function(D,T,ha){"number"==typeof D&&(D=ca[D]);if("number"==typeof T){var ba=D.datapoints.pointsize;T=D.datapoints.points.slice(ba*T,ba*(T+2))}ba=C(D,T);-1==ba?(da.push({series:D,point:T,auto:ha}),w()):ha||(da[ba].auto=!1)};ia.getHighlights=function(){return da};ia.setHighlights=function(D){da=D};ia.unhighlight=function(D,T){null==D&&null==T&&(da=[],w());"number"==typeof D&&
(D=ca[D]);"number"==typeof T&&(T=D.data[T]);D=C(D,T);-1!=D&&(da.splice(D,1),w())};ia.triggerRedrawOverlay=w;ia.drawOverlay=I;ia.pointOffset=function(D){return{left:parseInt(Ba[E(D,"x")-1].p2c(+D.x)+ra.left),top:parseInt(Ea[E(D,"y")-1].p2c(+D.y)+ra.top)}};ia.shutdown=R;ia.destroy=function(){R();q.removeData("plot").empty();ca=[];ya=W=ea=sa=ta=aa=null;Ba=[];Ea=[];X=null;da=[];ia=null};ia.resize=function(){var D=float2int(q.width()),T=float2int(q.height());ta.resize(D,T);sa.resize(D,T)};ia.hooks=X;(function(){for(var D=
{Canvas:b},T=0;T<t.length;++T){var ha=t[T];ha.init(ia,D);ha.options&&a.extend(!0,aa,ha.options)}})(ia);(function(D){a.extend(!0,aa,D);D&&D.colors&&(aa.colors=D.colors);null==aa.xaxis.color&&(aa.xaxis.color=aa.grid.color);null==aa.yaxis.color&&(aa.yaxis.color=aa.grid.color);null==aa.xaxis.tickColor&&(aa.xaxis.tickColor=aa.grid.tickColor||aa.xaxis.color);null==aa.yaxis.tickColor&&(aa.yaxis.tickColor=aa.grid.tickColor||aa.yaxis.color);null==aa.grid.borderColor&&(aa.grid.borderColor=aa.grid.color);null==
aa.grid.tickColor&&(aa.grid.tickColor=a.color.parse(aa.grid.color).scale("a",.22).toString());var T;D=(D=q.css("fontSize"))?+D.replace("px",""):13;var ha={style:q.css("fontStyle"),size:Math.round(.8*D),variant:q.css("fontVariant"),weight:q.css("fontWeight"),family:q.css("fontFamily")};var ba=aa.xaxes.length||1;for(D=0;D<ba;++D)(T=aa.xaxes[D])&&!T.tickColor&&(T.tickColor=T.color),T=a.extend(!0,{},aa.xaxis,T),aa.xaxes[D]=T,T.font&&(T.font=a.extend({},ha,T.font),T.font.color||(T.font.color=T.color),
T.font.lineHeight||(T.font.lineHeight=Math.round(1.15*T.font.size)));ba=aa.yaxes.length||1;for(D=0;D<ba;++D)(T=aa.yaxes[D])&&!T.tickColor&&(T.tickColor=T.color),T=a.extend(!0,{},aa.yaxis,T),aa.yaxes[D]=T,T.font&&(T.font=a.extend({},ha,T.font),T.font.color||(T.font.color=T.color),T.font.lineHeight||(T.font.lineHeight=Math.round(1.15*T.font.size)));aa.xaxis.noTicks&&null==aa.xaxis.ticks&&(aa.xaxis.ticks=aa.xaxis.noTicks);aa.yaxis.noTicks&&null==aa.yaxis.ticks&&(aa.yaxis.ticks=aa.yaxis.noTicks);aa.grid.coloredAreas&&
(aa.grid.markings=aa.grid.coloredAreas);aa.grid.coloredAreasColor&&(aa.grid.markingsColor=aa.grid.coloredAreasColor);aa.lines&&a.extend(!0,aa.series.lines,aa.lines);aa.points&&a.extend(!0,aa.series.points,aa.points);aa.bars&&a.extend(!0,aa.series.bars,aa.bars);null!=aa.shadowSize&&(aa.series.shadowSize=aa.shadowSize);null!=aa.highlightColor&&(aa.series.highlightColor=aa.highlightColor);for(D=0;D<aa.xaxes.length;++D)J(Ba,D+1).options=aa.xaxes[D];for(D=0;D<aa.yaxes.length;++D)J(Ea,D+1).options=aa.yaxes[D];
for(var pa in X)aa.hooks[pa]&&aa.hooks[pa].length&&(X[pa]=X[pa].concat(aa.hooks[pa]));p(X.processOptions,[aa])})(n);(function(){q.css("padding",0).children().filter(function(){return!a(this).hasClass("flot-overlay")&&!a(this).hasClass("flot-base")}).remove();"static"==q.css("position")&&q.css("position","relative");ta=new b("flot-base",q);sa=new b("flot-overlay",q);W=ta.context;ya=sa.context;ea=a(sa.element).off();var D=q.data("plot");D&&(D.shutdown(),sa.clear());q.data("plot",ia)})();v(h);ka(!1);
f();(function(){aa.grid.hoverable&&(ea.mousemove(B),ea.mouseleave(M),ea.on("touchmove",function(D){D.pageX=D.originalEvent.touches[0].pageX;D.pageY=D.originalEvent.touches[0].pageY;B(D)}));aa.grid.clickable&&ea.click(r);p(X.bindEvents,[ea])})();var ja,da=[],na=null}function g(q,h){return h*Math.floor(q/h)}var m=Object.prototype.hasOwnProperty;a.fn.detach||(a.fn.detach=function(){return this.each(function(){this.parentNode&&this.parentNode.removeChild(this)})});b.prototype.resize=function(q,h){if(0>=
q||0>=h){0==q&&(q=400);if(0>=h)throw Error("Invalid dimensions for plot, width = "+q+", height = "+h);console.error("Invalid dimensions for plot, width = "+q+", height = "+h)}var n=this.element,t=this.context,p=this.pixelRatio;this.width!=q&&(n.width=q*p,n.style.width=q+"px",this.width=q);this.height!=h&&(n.height=h*p,n.style.height=h+"px",this.height=h);t.restore();t.save();t.scale(p,p)};b.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)};b.prototype.render=function(){var q=
this._textCache,h;for(h in q)if(m.call(q,h)){var n=this.getTextLayer(h),t=q[h];n.hide();for(var p in t)if(m.call(t,p)){var v=t[p],E;for(E in v)if(m.call(v,E)){for(var F=v[E].positions,N=0,K;K=F[N];N++)K.active?K.rendered||(n.append(K.element),K.rendered=!0):(F.splice(N--,1),K.rendered&&K.element.detach());0==F.length&&delete v[E]}}n.show()}};b.prototype.getTextLayer=function(q){var h=this.text[q];null==h&&(null==this.textContainer&&(this.textContainer=a("<div class='flot-text'></div>").css({position:"absolute",
top:0,left:0,bottom:0,right:0,fontSize:"smaller",color:"#545454"}).insertAfter(this.element)),h=this.text[q]=a("<div></div>").addClass(q).css({position:"absolute",top:0,left:0,bottom:0,right:0}).appendTo(this.textContainer));return h};b.prototype.getTextInfo=function(q,h,n,t,p){h=""+h;t="object"===typeof n?n.style+" "+n.variant+" "+n.weight+" "+n.size+"px/"+n.lineHeight+"px "+n.family:n;var v=this._textCache[q];null==v&&(v=this._textCache[q]={});var E=v[t];null==E&&(E=v[t]={});v=E[h];null==v&&(q=
a("<div></div>").html(h).css({position:"absolute",maxWidth:p,top:-9999}).appendTo(this.getTextLayer(q)),"object"===typeof n?q.css({font:t,color:n.color}):"string"===typeof n&&q.addClass(n),v=E[h]={width:q.outerWidth(!0),height:q.outerHeight(!0),element:q,positions:[]},q.detach());return v};b.prototype.addText=function(q,h,n,t,p,v,E,F,N){q=this.getTextInfo(q,t,p,v,E);t=q.positions;"center"==F?h-=q.width/2:"right"==F&&(h-=q.width);"middle"==N?n-=q.height/2:"bottom"==N&&(n-=q.height);for(N=0;p=t[N];N++)if(p.x==
h&&p.y==n){p.active=!0;return}p={active:!0,rendered:!1,element:t.length?q.element.clone():q.element,x:h,y:n};t.push(p);p.element.css({top:Math.round(n),left:Math.round(h),"text-align":F})};b.prototype.removeText=function(q,h,n,t,p,v){if(null==t){if(h=this._textCache[q],null!=h)for(var E in h)if(m.call(h,E)){n=h[E];for(var F in n)if(m.call(n,F))for(q=n[F].positions,t=0;p=q[t];t++)p.active=!1}}else for(q=this.getTextInfo(q,t,p,v).positions,t=0;p=q[t];t++)p.x==h&&p.y==n&&(p.active=!1)};a.plot=function(q,
h,n){return new d(a(q),h,n,a.plot.plugins)};a.plot.version="0.7";a.plot.plugins=[];a.plot.formatDate=function(q,h,n){var t=function(R){R=""+R;return 1==R.length?"0"+R:R},p=[],v=!1,E=!1,F=q.getUTCHours(),N=12>F;null==n&&(n=la._79);-1!=h.search(/%p|%P/)&&(12<F?F-=12:0==F&&(F=12));for(var K=0;K<h.length;++K){var J=h.charAt(K),U=5==storage.language?"\u65e5":"";if(v){switch(J){case "h":J=""+F;break;case "H":J=t(F);break;case "M":J=t(q.getUTCMinutes());break;case "S":J=t(q.getUTCSeconds());break;case "d":J=
""+q.getUTCDate()+U;break;case "m":J=""+(q.getUTCMonth()+1);break;case "y":J=""+q.getUTCFullYear();break;case "b":J=""+n[q.getUTCMonth()];break;case "p":J=N?"am":"pm";break;case "P":J=N?"AM":"PM";break;case "0":J="",E=!0}J&&E&&(J=t(J),E=!1);p.push(J);E||(v=!1)}else"%"==J?v=!0:p.push(J)}return p.join("")}})(jQuery);/*
 Copyright (c) 2011 Brandon Aaron (http://brandonaaron.net)
 Licensed under the MIT License (LICENSE.txt).

 Thanks to: http://adomas.org/javascript-mouse-wheel/ for some pointers.
 Thanks to: Mathias Bank(http://www.mathias-bank.de) for a scope bug fix.
 Thanks to: Seamus Leahy for adding deltaX and deltaY

 Version: 3.0.6

 Requires: 1.2.2+
*/
(function(a){a.plot.plugins.push({init:function(b){var d,g;function m(N,K){if("undefined"!=typeof b.getOptions().$isSyncedWith&&1<b.getOptions().$isSyncedWith.length)for(var J=0;J<b.getOptions().$isSyncedWith.length;J++){var U=b.getOptions().$isSyncedWith[J].$container;v=!!K||U&&U.is(":visible")}K&&(N=K);J=b.offset();U=a(b.getPlaceholder()).offset();K=J.left-U.left;U=J.top-U.top;var R=N.pageX-J.left;N=N.pageY-J.top;t=K;p=R>float2int(b.width())||0>R||!v&&(N>float2int(b.height())||0>N);d=K+Math.max(0,
Math.min(R,float2int(b.width())));h=U+Math.max(0,Math.min(N,float2int(b.height())));g=d+n.x}function q(N){F||(F=!0,setTimeout(function(){var K=b.getPlaceholder();if("undefined"!=typeof b.getOptions().$isSyncedWith)for(var J=0;J<b.getOptions().$isSyncedWith.length;J++){var U=b.getOptions().$isSyncedWith[J].$container;U.find(".flotToolTipsPlaceholder").hide();U.find("#flotTipDate").hide();K.find(".flotLegendHover").hide()}K.find(".flotToolTipsPlaceholder").hide();K.find(".flotLegendHover").hide();K.find("#flotTipDate").hide();
b.unhighlight();F=!1;K.css("cursor","")},0))}if("undefined"==typeof isSnapshotPage){var h=d=g=0;var n={x:14,y:25};var t=0;var p=!1,v=!1;var E=graphDateFormatIFrame?graphDateFormatIFrame:"D, M j Y, G:i ";b.hooks.bindEvents.push(function(N,K){K.mouseout(q);K.mousemove(m);K.on("touchmove",function(J){J.pageX=J.originalEvent.touches[0].pageX;J.pageY=J.originalEvent.touches[0].pageY;1==J.touches.length&&m(J)});K.on("touchstart",function(J){1<J.touches.length&&q(J)});K.on("touchstart",function(J){1<J.touches.length&&
q(J)})});var F=!1;b.hooks.bindEvents.push(function(N,K){var J=N.getOptions(),U=J.timeShiftOffset,R=N.getPlaceholder(),S=a("<div></div>").attr("class","flotToolTipsPlaceholder").appendTo(R),fa=R.find(".flotLegendHover").hide();S=R.find(".flotToolTipsPlaceholder");for(var qa=a("<div></div>").attr("id","flotTipVerticalLine"),oa=a("<div />").attr("id","flotTipDate"),va=a("<div />").attr("id","flotTipHorizontalLine"),ka=[],ma=[],Y=N.getData(),xa=5==J.graphIndex,L=J.showOnlyTracked,f=0;f<Y.length;f++){var H=
a("<div />").attr("class","flotTip").attr("id","flotTip"+Y[f].index).attr("style","border: 1px solid "+a.color.parse(Y[f].color).scale("a",.7).toString()+";background: "+Y[f].backgroundColor+";");ka.push(H);ma.push(a("<div />").attr("class","flotTipAngularLine"+(xa?3:Y[f].index%4)).attr("id","flotTipAngularLine"+Y[f].index))}for(f=Y.length-1;0<=f;f--)ka[f].appendTo(S)[0]&&(ka[f].appendTo(S)[0].style.display="none");if("undefined"!=typeof oa.appendTo(S)[0]){oa.appendTo(S)[0].style.display="none";qa.appendTo(S)[0].style.display=
"none";va.appendTo(S)[0].style.display="none";for(f=Y.length-1;0<=f;f--)qa.append(ma[f].hide());var Q=!1;a(R).on("mouseout",function(u,G){p=!0;N.getPlaceholder().find(".flotToolTipsPlaceholder").hide()});var Z=J.domain;a(R).on("plothover",function(u,G){p?N.getPlaceholder().find(".flotToolTipsPlaceholder").hide():Q||(Q=!0,setTimeout(function(){if(p)N.getPlaceholder().find(".flotToolTipsPlaceholder").hide(),Q=!1;else{var A=[],O=[],P=[],B=!1,M,r,z=N.getData();if("undefined"!==typeof G.x){var w=0,I=0;
for(M=0;M<z.length;M++){var C=z[M];if(C.lines.show||C.dashes.show)if(null==C.data.length)w++;else{for(r=0;r<C.data.length&&!(null!=C.data[r]&&C.data[r][0]>G.x);r++);if(null==C.data[r-1]){var V=C.data[r-2],ca=C.data[r];null==V&&r==C.data.length&&(r--,V=C.data[r-2]);V=null==V?0:V[0];ca=null==ca?9999999999999:ca[0];var aa=Math.abs(G.x-V);V=Math.abs(G.x-V);ca=Math.abs(G.x-ca);V>=ca?aa=ca:(aa=V,r-=2);if(aa/(C.xaxis.max-C.xaxis.min)>(5==J.graphIndex?.025:.003))continue}var ta=void 0;V=void 0;ca=C.data[r-
1];r=C.data[r];null==ca?(V=r[1],ta=r[0],C.points.show&&(ca=r)):(V=ca[1],ta=ca[0]);if(null!=V&&"u"!=V){var sa=NumberUtil.format(V);if(C.formatter)A[M]=C.formatter(V);else if(C.index==CsvType.RATING.index||C.index-100==CsvType.RATING.index)A[M]="<span>"+C.labelText+"</span><br>"+V,sa=V;else if(C.isCurrency){var ea="";aa=""+Money.format(V,{sourceDomainId:Z,targetDomainId:Z,isDivided:!0});if(C.index==CsvType.BUY_BOX_SHIPPING.index&&(ta=keepaTime.epochToMinutes(ta)-keepaTime.timeShiftOffset,sa=getBBEntryAtTimeWithExactTime(C.bbHistory,
ta,CsvType.AMAZON),-1!=sa)){ea="Amazon";if(!SellerUtil.isSellerIdAmazon(sa.sellerId,Z)&&(ea="3rd Party",null!=C.offers))for(var W=$jscomp.makeIterator(C.offers),ya=W.next();!ya.done;ya=W.next())if(ya=ya.value,ya.sellerId===sa.sellerId){var Ba=getValueAtTimeWithShipping(ya.offerCSV,ta);if(""+Money.format(Ba[0]+Ba[1],{sourceDomainId:Z,targetDomainId:Z,isDivided:!1})===aa){ea='3rd Party <span style="color: '+(ya.isFBA?CsvType.NEW_FBA.color:CsvType.NEW_FBM_SHIPPING.color)+'">'+(ya.isFBA?"FBA":"FBM")+
"</span>";break}}ea='<br><span>by <span style="font-weight: bold">'+ea+"</span></span>"}sa=aa;showReferencePrice(Z)&&(aa+='&ensp;<span style="color:#444;">'+Money.format(V,{sourceDomainId:Z,isDivided:!0})+"</span>");A[M]="<span>"+C.labelText+"</span><br>"+aa+ea}else null!=C.labelReferenceHistory?(aa=keepaTime.epochToMinutes(parseInt(G.x))-keepaTime.timeShiftOffset,A[M]="<span>"+C.getLabelText(aa)+"</span><br>"+sa):A[M]="<span>"+C.labelText+"</span><br>"+sa;O[M]=V;ta=C.yaxis.max;aa=C.yaxis.min;C.index!=
CsvType.SALES.index&&2!=C.yaxis.n||"1"!=storage.salesRankInverse||(ta=C.yaxis.min,aa=C.yaxis.max);aa=ta-aa;V=1-(ta-V)/aa;aa=1-(ta-G.y)/aa;ta=V*float2int(N.height());I=Math.max(ta,I);(ta=CsvType.getObject(C.index))&&C.points.show&&ta.isOfferData&&.02>Math.abs(V-aa)&&(B=!0)}if(!(99<C.index&&200>C.index))try{P.push({auto:void 0,point:[ca[0],Number(ca[1]),r[0],Number(r[1])],series:C,seriesIndex:M})}catch(ha){}}else ka[M].hide(),ma[M].hide()}a(N.getPlaceholder()).css("cursor",B?"pointer":"");S.show();
fa.show();try{var Ea=N.getHighlights();B=[];M=!1;for(w=0;w<Ea.length;w++){for(var ra=Ea[w],Ga=!1,Aa=0;Aa<P.length;Aa++){var X=P[Aa];if(ra.seriesIndex==X.seriesIndex){ra.point[0]==X.point[0]?Ga=!0:(B.push(X),M=!0);break}}Ga?B.push(ra):M=!0}for(Aa=0;Aa<P.length;Aa++){X=P[Aa];Ga=!1;for(w=0;w<B.length;w++)if(ra=B[w],ra.seriesIndex==X.seriesIndex){ra.point[0]==X.point[0]?Ga=!0:(B.push(ra),M=!0);break}Ga||(M=!0,B.push(X))}M&&(N.setHighlights(B),N.drawOverlay())}catch(ha){}Aa=X=0;P=!0;v&&(0==J.graphIndex&&
(P=!1),J.graphIndex!=J.$isSyncedWith[N.getOptions().$isSyncedWith.length-1].graphIndex&&(P=!1));Ga="none"!=a("#moreDataGraph").css("display");Ea=float2int(N.height());ra=float2int(N.width());Aa=!1;if(5==J.graphIndex)try{var ia=N.getPlaceholder().parent().parent();if(ia&&0<ia.length&&null!=ia[0].className&&ia[0].className.startsWith("ag-row")){var ja=ia[0].getAttribute("row-index"),da=ia.siblings().length;Aa=ja==da}}catch(ha){console.error(ha)}if(P){var na="";ja=Aa?null:J.grid.markings;ia=function(ha){ha.text&&
(-1<ha.text.indexOf("offer data")&&""!=na||.003<Math.abs(G.x-ha.xaxis.from)/(z[0].xaxis.max-z[0].xaxis.min)||(na+="<br>"+ha.text))};if(null!=ja)for(var D in ja)ia(ja[D]);if("undefined"!=typeof N.getOptions().$isSyncedWith)for(D=0;D<N.getOptions().$isSyncedWith.length;D++)if(J.graphIndex!=J.$isSyncedWith[D].graphIndex&&(ja=N.getOptions().$isSyncedWith[D].grid.markings,null!=ja))for(var T in ja)ia(ja[T]);""!=na&&(na='<span class="markingsText">'+na+"</span>");try{oa[0]=G.x?replaceHtmlEl(oa[0],(new Date(Math.floor(G.x)-
6E4*U)).formatDate(E)+na):""}catch(ha){reportBug(ha,"plothover");return}try{oa.css({left:g-14,top:L?Ea:Ea+(Aa?15:30),display:"block"})}catch(ha){}}T=!0;if(2==N.getOptions().graphIndex){O="";for(r=0;r<z.length;r++)null==A[r]?(null!=ka[r]&&(ka[r][0].style.display="none"),null!=ma[r]&&(ma[r][0].style.display="none")):"undefined"!=typeof A[r]&&""!=A[r]&&(O+=A[r],r!=z.length-1&&(O+="<br>"));0<O.length&&ka[0].html(O).css({left:g,top:10,display:"block"})}else for(r=0;r<z.length;r++)null==A[r]?(null!=ka[r]&&
(ka[r][0].style.display="none"),null!=ma[r]&&(ma[r][0].style.display="none")):(T=!1,D=z[r],100<=D.index&&"#!manage"==lastUrl&&0==storage.manageGridView||(ia=D.yaxis,X=ia.min,Aa=ia.max,aa=Aa-X,(0<=A[r].indexOf(CsvType.getName(CsvType.SALES.index))||2==ia.n)&&"1"==storage.salesRankInverse&&(X=ia.max,Aa=ia.min,aa=Aa-X),qa[0].style.display="block",va[0].style.display="block",ia=(1-(Aa-O[r])/aa)*Ea,ka[r][0]=replaceHtmlEl(ka[r][0],A[r]),ja=float2int(ka[r].height())+2,da=Ea-ia,D=D.index%4,xa&&(D=3),0==D?
(ka[r].css({left:g,top:da-ja-14,display:"block"}),ma[r].css({marginTop:-14+I-ia,display:"block"})):1==D||3==D?(ka[r].html(A[r]).css({left:g-float2int(ka[r].width())-33,top:1==D?da-ja-14:da+ja-14+6,display:"block"}),1==D?ma[r].css({marginTop:-14+I-ia,display:"block"}):ma[r].css({marginTop:I-ia-1,display:"block"})):(ka[r].css({left:g,top:da+ja-14+6,display:"block"}),ma[r].css({"margin-top":I-ia,display:"block"}))));A=!0;if(v||!Ga||keepaApp){O=[];D=[];for(ia=0;ia<CsvType.length;ia++)ja=a("#flotTip"+
ia),0!=ja.length&&(O[ia]=ja,D[ia]=a("#flotTipAngularLine"+ia));for(ia=100;ia<100+CsvType.length;ia++)ja=a("#flotTip"+ia),0!=ja.length&&(O[ia]=ja,D[ia]=a("#flotTipAngularLine"+ia));for(ia=0;3>ia&&A;ia++)for(A=!1,ja=[],da=0;da<O.length;da++)if(null!=O[da])for(Ga=0;Ga<O.length;Ga++)if(da!=Ga&&null!=O[Ga]&&!ja[Ga+"."+da]&&(ja[Ga+"."+da]=!0,ja[da+"."+Ga]=!0,Aa=da%4,X=Ga%4,Aa=1==Aa||3==Aa,X=1==X||3==X,Aa==X&&(Aa=O[da],X=O[Ga],"none"!=Aa.css("display")&&"none"!=X.css("display")&&(M=Aa.collision(X,{relative:"collider",
directionData:"ddata",as:"<div/>"}),0<M.length)))){A=!0;B=a(M[0]).data("ddata");M=parseInt(a(M[0]).css("height"))+5;0==B.indexOf("S")&&(X.css("top","+="+M),D[Ga].hide());if(0==B.indexOf("N")||0==B.indexOf("Inside"))Aa.css("top","+="+M),D[da].hide();break}}A=L?-35:0;O=float2int(R.height());float2int(R.width());T?qa.css({left:d,top:Ea+5,height:O-Ea+1+(P?0:200)+A,display:"block"}):qa.css({left:d,top:Ea-I+5,height:O-(Ea-I)+1+(P?0:150)+20+A,display:"block"});va.css({left:t,top:h,width:ra,display:"block"});
Q=!1}}},0))});K.mousemove(m);K.mouseout(q);N.hooks.shutdown.push(function(u,G){G.off("mouseout",q);G.off("mousemove",m)})}})}},name:"tooltip",version:"0.5"})})(jQuery);
(function(a){a.plot.plugins.push({init:function(b){b.hooks.processDatapoints.push(function(d,g,m){d.hooks.draw[g.index]=function(q,h){function n(F,N){var K=m.points,J=m.pointsize,U=null,R=null,S=0,fa=!0;if(g.dashes.dashLength[0]){var qa=g.dashes.dashLength[0];var oa=g.dashes.dashLength[1]?g.dashes.dashLength[1]:qa}else oa=qa=g.dashes.dashLength;h.beginPath();for(var va={},ka=J;ka<K.length;va={$jscomp$loop$prop$ax2$677:va.$jscomp$loop$prop$ax2$677,$jscomp$loop$prop$ax1$678:va.$jscomp$loop$prop$ax1$678,
$jscomp$loop$prop$ay2$679:va.$jscomp$loop$prop$ay2$679,$jscomp$loop$prop$ay1$680:va.$jscomp$loop$prop$ay1$680},ka+=J){var ma=K[ka-J],Y=K[ka-J+1],xa=K[ka],L=K[ka+1];if(null!=ma&&null!=xa){if(Y<=L&&Y<p.min){if(L<p.min)continue;ma=(p.min-Y)/(L-Y)*(xa-ma)+ma;Y=p.min}else if(L<=Y&&L<p.min){if(Y<p.min)continue;xa=(p.min-Y)/(L-Y)*(xa-ma)+ma;L=p.min}if(Y>=L&&Y>p.max){if(L>p.max)continue;ma=(p.max-Y)/(L-Y)*(xa-ma)+ma;Y=p.max}else if(L>=Y&&L>p.max){if(Y>p.max)continue;xa=(p.max-Y)/(L-Y)*(xa-ma)+ma;L=p.max}if(ma<=
xa&&ma<t.min){if(xa<t.min)continue;Y=(t.min-ma)/(xa-ma)*(L-Y)+Y;ma=t.min}else if(xa<=ma&&xa<t.min){if(ma<t.min)continue;L=(t.min-ma)/(xa-ma)*(L-Y)+Y;xa=t.min}if(ma>=xa&&ma>t.max){if(xa>t.max)continue;Y=(t.max-ma)/(xa-ma)*(L-Y)+Y;ma=t.max}else if(xa>=ma&&xa>t.max){if(ma>t.max)continue;L=(t.max-ma)/(xa-ma)*(L-Y)+Y;xa=t.max}ma==U&&Y==R||h.moveTo(t.p2c(ma)+F,p.p2c(Y)+N);va.$jscomp$loop$prop$ax1$678=t.p2c(ma)+F;va.$jscomp$loop$prop$ay1$680=p.p2c(Y)+N;va.$jscomp$loop$prop$ax2$677=t.p2c(xa)+F;va.$jscomp$loop$prop$ay2$679=
p.p2c(L)+N;U=void 0;R=function(f){return function(H){var Q=Math.sqrt(Math.pow(f.$jscomp$loop$prop$ax2$677-f.$jscomp$loop$prop$ax1$678,2)+Math.pow(f.$jscomp$loop$prop$ay2$679-f.$jscomp$loop$prop$ay1$680,2));return Q<=H?{deltaX:f.$jscomp$loop$prop$ax2$677-f.$jscomp$loop$prop$ax1$678,deltaY:f.$jscomp$loop$prop$ay2$679-f.$jscomp$loop$prop$ay1$680,distance:Q,remainder:H-Q}:{deltaX:(f.$jscomp$loop$prop$ax2$677>f.$jscomp$loop$prop$ax1$678?1:-1)*Math.sqrt(Math.pow(H,2)/(1+Math.pow((f.$jscomp$loop$prop$ay2$679-
f.$jscomp$loop$prop$ay1$680)/(f.$jscomp$loop$prop$ax2$677-f.$jscomp$loop$prop$ax1$678),2))),deltaY:(f.$jscomp$loop$prop$ay2$679>f.$jscomp$loop$prop$ay1$680?1:-1)*Math.sqrt(Math.pow(H,2)-Math.pow(H,2)/(1+Math.pow((f.$jscomp$loop$prop$ay2$679-f.$jscomp$loop$prop$ay1$680)/(f.$jscomp$loop$prop$ax2$677-f.$jscomp$loop$prop$ax1$678),2))),distance:H,remainder:0}}}(va);ma=500;do{ma--;U=R(0<S?S:fa?qa:oa);if(0!=U.deltaX||0!=U.deltaY)fa?h.lineTo(va.$jscomp$loop$prop$ax1$678+U.deltaX,va.$jscomp$loop$prop$ay1$680+
U.deltaY):h.moveTo(va.$jscomp$loop$prop$ax1$678+U.deltaX,va.$jscomp$loop$prop$ay1$680+U.deltaY);fa=!fa;S=U.remainder;va.$jscomp$loop$prop$ax1$678+=U.deltaX;va.$jscomp$loop$prop$ay1$680+=U.deltaY}while(0<U.distance&&0<ma);U=xa;R=L}}h.stroke()}if(g.dashes.show){q=q.getPlotOffset();var t=g.xaxis,p=g.yaxis;h.save();h.translate(q.left,q.top);h.lineJoin="round";q=g.dashes.lineWidth;var v=g.shadowSize;if(0<q&&0<v){h.lineWidth=v;h.strokeStyle="rgba(0,0,0,0.1)";var E=Math.PI/18;n(Math.sin(E)*(q/2+v/2),Math.cos(E)*
(q/2+v/2));h.lineWidth=v/2;n(Math.sin(E)*(q/2+v/4),Math.cos(E)*(q/2+v/4))}h.lineWidth=q;h.strokeStyle=g.color;0<q&&n(0,0);h.restore()}}})},options:{series:{dashes:{show:!1,lineWidth:1,dashLength:10}}},name:"dashes",version:"0.1"})})(jQuery);
(function(a,b){function d(R){return!!(""===R||R&&R.charCodeAt&&R.substr)}function g(R){return E?E(R):"[object Array]"===F.call(R)}function m(R){return"[object Object]"===F.call(R)}function q(R,S){var fa;R=R||{};S=S||{};for(fa in S)S.hasOwnProperty(fa)&&null==R[fa]&&(R[fa]=S[fa]);return R}function h(R,S,fa){var qa=[],oa;if(!R)return qa;if(v&&R.map===v)return R.map(S,fa);var va=0;for(oa=R.length;va<oa;va++)qa[va]=S.call(fa,R[va],va,R);return qa}function n(R,S){R=Math.round(Math.abs(R));return isNaN(R)?
S:R}function t(R){var S=p.settings.currency.format;"function"===typeof R&&(R=R());return d(R)&&R.match("%v")?{pos:R,neg:R.replace("-","").replace("%v","-%v"),zero:R}:R&&R.pos&&R.pos.match("%v")?R:d(S)?p.settings.currency.format={pos:S,neg:S.replace("%v","-%v"),zero:S}:S}var p={version:"0.4.1",settings:{currency:{symbol:"$",format:"%s%v",decimal:".",thousand:",",precision:2,grouping:3},number:{precision:0,grouping:3,thousand:",",decimal:"."}}},v=Array.prototype.map,E=Array.isArray,F=Object.prototype.toString,
N=p.unformat=p.parse=function(R,S){if(g(R))return h(R,function(qa){return N(qa,S)});R=R||0;if("number"===typeof R)return R;S=S||".";var fa=RegExp("[^0-9-"+S+"]",["g"]);fa=parseFloat((""+R).replace(/\((.*)\)/,"-$1").replace(fa,"").replace(S,"."));return isNaN(fa)?0:fa},K=p.toFixed=function(R,S){S=n(S,p.settings.number.precision);var fa=Math.pow(10,S);return(Math.round(p.unformat(R)*fa)/fa).toFixed(S)},J=p.formatNumber=p.format=function(R,S,fa,qa){if(g(R))return h(R,function(xa){return J(xa,S,fa,qa)});
R=N(R);var oa=q(m(S)?S:{precision:S,thousand:fa,decimal:qa},p.settings.number),va=n(oa.precision),ka=0>R?"-":"",ma=parseInt(K(Math.abs(R||0),va),10)+"",Y=3<ma.length?ma.length%3:0;return ka+(Y?ma.substr(0,Y)+oa.thousand:"")+ma.substr(Y).replace(/(\d{3})(?=\d)/g,"$1"+oa.thousand)+(va?oa.decimal+K(Math.abs(R),va).split(".")[1]:"")},U=p.formatMoney=function(R,S,fa,qa,oa,va){if(g(R))return h(R,function(Y){return U(Y,S,fa,qa,oa,va)});R=N(R);var ka=q(m(S)?S:{symbol:S,precision:fa,thousand:qa,decimal:oa,
format:va},p.settings.currency),ma=t(ka.format);return(0<R?ma.pos:0>R?ma.neg:ma.zero).replace("%s",ka.symbol).replace("%v",J(Math.abs(R),n(ka.precision),ka.thousand,ka.decimal))};p.formatColumn=function(R,S,fa,qa,oa,va){if(!R)return[];var ka=q(m(S)?S:{symbol:S,precision:fa,thousand:qa,decimal:oa,format:va},p.settings.currency),ma=t(ka.format),Y=ma.pos.indexOf("%s")<ma.pos.indexOf("%v")?!0:!1,xa=0;R=h(R,function(L){if(g(L))return p.formatColumn(L,ka);L=N(L);L=(0<L?ma.pos:0>L?ma.neg:ma.zero).replace("%s",
ka.symbol).replace("%v",J(Math.abs(L),n(ka.precision),ka.thousand,ka.decimal));L.length>xa&&(xa=L.length);return L});return h(R,function(L){return d(L)&&L.length<xa?Y?L.replace(ka.symbol,ka.symbol+Array(xa-L.length+1).join(" ")):Array(xa-L.length+1).join(" ")+L:L})};"undefined"!==typeof exports?("undefined"!==typeof module&&module.exports&&(exports=module.exports=p),exports.accounting=p):"function"===typeof define&&define.amd?define([],function(){return p}):(p.noConflict=function(R){return function(){a.accounting=
R;p.noConflict=b;return p}}(a.accounting),a.accounting=p)})(this);
(function(a){a.plot.plugins.push({init:function(b){function d(K){E.active&&(n(K),b.getPlaceholder().trigger("plotselecting",[m()]))}function g(K){1==K.which&&(document.body.focus(),void 0!==document.onselectstart&&null==F.onselectstart&&(F.onselectstart=document.onselectstart,document.onselectstart=function(){return!1}),void 0!==document.ondrag&&null==F.ondrag&&(F.ondrag=document.ondrag,document.ondrag=function(){return!1}),h(E.first,K),E.active=!0,N=function(J){N=null;void 0!==document.onselectstart&&
(document.onselectstart=F.onselectstart);void 0!==document.ondrag&&(document.ondrag=F.ondrag);E.active=!1;n(J);v()?q():(b.getPlaceholder().trigger("plotunselected",[]),b.getPlaceholder().trigger("plotselecting",[null]))},a(document).one("mouseup",N))}function m(){if(!v()||!E.show)return null;var K={},J=E.first,U=E.second;a.each(b.getAxes(),function(R,S){if(S.used){var fa=S.c2p(J[S.direction]);S=S.c2p(U[S.direction]);K[R]={from:Math.min(fa,S),to:Math.max(fa,S)}}});return K}function q(){var K=m();b.getPlaceholder().trigger("plotselected",
[K]);K.xaxis&&K.yaxis&&b.getPlaceholder().trigger("selected",[{x1:K.xaxis.from,y1:K.yaxis.from,x2:K.xaxis.to,y2:K.yaxis.to}])}function h(K,J){var U=b.getOptions(),R=b.getPlaceholder().offset(),S=b.getPlotOffset(),fa=J.pageX-R.left-S.left,qa=float2int(b.width());K.x=0>fa?0:fa>qa?qa:fa;J=J.pageY-R.top-S.top;R=float2int(b.height());K.y=0>J?0:J>R?R:J;"y"==U.selection.mode&&(K.x=K==E.first?0:float2int(b.width()));"x"==U.selection.mode&&(K.y=K==E.first?0:float2int(b.height()))}function n(K){null!=K.pageX&&
(h(E.second,K),v()?(E.show=!0,b.triggerRedrawOverlay()):t(!0))}function t(K){E.show&&(E.show=!1,b.triggerRedrawOverlay(),K||b.getPlaceholder().trigger("plotunselected",[]))}function p(K,J){var U=b.getAxes(),R;for(R in U){var S=U[R];if(S.direction==J){var fa=J+S.n+"axis";K[fa]||1!=S.n||(fa=J+"axis");if(K[fa]){var qa=K[fa].from;var oa=K[fa].to;break}}}K[fa]||(S="x"==J?b.getXAxes()[0]:b.getYAxes()[0],qa=K[J+"1"],oa=K[J+"2"]);null!=qa&&null!=oa&&qa>oa&&(K=qa,qa=oa,oa=K);return{from:qa,to:oa,axis:S}}function v(){var K=
b.getOptions().selection.minSize;return Math.abs(E.second.x-E.first.x)>=K&&Math.abs(E.second.y-E.first.y)>=K}var E={first:{x:-1,y:-1},second:{x:-1,y:-1},show:!1,active:!1},F={},N=null;b.clearSelection=t;b.setSelection=function(K,J){var U=b.getOptions();if("y"==U.selection.mode)E.first.x=0,E.second.x=float2int(b.width());else{var R=p(K,"x");E.first.x=R.axis.p2c(R.from);E.second.x=R.axis.p2c(R.to)}"x"==U.selection.mode?(E.first.y=0,E.second.y=float2int(b.height())):(R=p(K,"y"),E.first.y=R.axis.p2c(R.from),
E.second.y=R.axis.p2c(R.to));E.show=!0;b.triggerRedrawOverlay();!J&&v()&&q()};b.getSelection=m;b.hooks.bindEvents.push(function(K,J){null!=K.getOptions().selection.mode&&(J.mousemove(d),J.mousedown(g))});b.hooks.drawOverlay.push(function(K,J){if(E.show&&v()){var U=K.getPlotOffset();K=K.getOptions();J.save();J.translate(U.left,U.top);U=a.color.parse(K.selection.color);J.strokeStyle=U.scale("a",.8).toString();J.lineWidth=1;J.lineJoin=K.selection.shape;J.fillStyle=U.scale("a",.4).toString();U=Math.min(E.first.x,
E.second.x)+.5;K=Math.min(E.first.y,E.second.y)+.5;var R=Math.abs(E.second.x-E.first.x)-1,S=Math.abs(E.second.y-E.first.y)-1;J.fillRect(U,K,R,S);J.strokeRect(U,K,R,S);J.restore()}});b.hooks.shutdown.push(function(K,J){J.off("mousemove",d);J.off("mousedown",g);N&&a(document).off("mouseup",N)})},options:{selection:{mode:null,color:"#e8cfac",shape:"round",minSize:5}},name:"selection",version:"1.1"})})(jQuery);
(function(a){function b(h,n){if(h)if("offset"in h){var t=h.data("jqueryCollisionCoordinates");t?(this.x1=t.x1,this.y1=t.y1,this.x2=t.x2,this.y2=t.y2):n&&n.length&&4<=n.length?(this.x1=n[0],this.y1=n[1],this.x2=n[2]+h.outerWidth(!0),this.y2=n[3]+h.outerHeight(!0)):0>=h.parent().length?(this.x1=parseInt(h.css("left"))||0,this.y1=parseInt(h.css("top"))||0,this.x2=parseInt(h.css("width"))||0,this.y2=parseInt(h.css("height"))||0,this.x2+=this.x1,this.x2+=(parseInt(h.css("marginLeft"))||0)+(parseInt(h.css("borderLeft"))||
0)+(parseInt(h.css("paddingLeft"))||0)+(parseInt(h.css("paddingRight"))||0)+(parseInt(h.css("borderRight"))||0)+(parseInt(h.css("marginRight"))||0),this.y2+=this.y1,this.y2+=(parseInt(h.css("marginTop"))||0)+(parseInt(h.css("borderTop"))||0)+(parseInt(h.css("paddingRop"))||0)+(parseInt(h.css("paddingBottom"))||0)+(parseInt(h.css("borderBottom"))||0)+(parseInt(h.css("marginBottom"))||0)):(n=h.offset(),this.x1=n.left-(parseInt(h.css("marginLeft"))||0),this.y1=n.top-(parseInt(h.css("marginTop"))||0),
this.x2=this.x1+h.outerWidth(!0),this.y2=this.y1+h.outerHeight(!0));this.proto=h}else"x1"in h&&(this.x1=h.x1,this.y1=h.y1,this.x2=h.x2,this.y2=h.y2,this.proto=h);else this.x1=this.y1=this.x2=this.y2=0,this.proto=null;"dir"in h&&(this.dir=h.dir)}function d(h,n,t,p){this.target=h;this.obstacle=n;this.overlap=t;this.overlapType=p}function g(h,n,t){this.targets=h;this.obstacles=n;this.cache=this.collisions=null;this.containment=t?t:null}function m(h){return a(h).get().map(function(n,t,p){return new b(a(n))})}
function q(h){for(var n=a(),t=0;t<h.length;t++)n=n.add(h[t]);return n}b.prototype.innerContainer=function(){var h=new b(this);this.proto.css&&(h.x1+=parseInt(this.proto.css("marginLeft"))||0,h.x1+=parseInt(this.proto.css("borderLeft"))||0,h.x1+=parseInt(this.proto.css("paddingLeft"))||0,h.x2-=parseInt(this.proto.css("paddingRight"))||0,h.x2-=parseInt(this.proto.css("borderRight"))||0,h.x2-=parseInt(this.proto.css("marginRight"))||0,h.y1+=parseInt(this.proto.css("marginTop"))||0,h.y1+=parseInt(this.proto.css("borderTop"))||
0,h.y1+=parseInt(this.proto.css("paddingTop"))||0,h.y2-=parseInt(this.proto.css("paddingBottom"))||0,h.y2-=parseInt(this.proto.css("borderBottom"))||0,h.y2-=parseInt(this.proto.css("marginBottom"))||0);return h};b.prototype.move=function(h,n){this.x1+=h;this.x2+=h;this.y1+=n;this.y2+=n;return this};b.prototype.update=function(h){"x1"in h&&(this.x1=h.x1);"x2"in h&&(this.x1=h.x2);"y1"in h&&(this.x1=h.y1);"y2"in h&&(this.x1=h.y2);if("left"in h){var n=this.x2-this.x1;this.x1=h.left;this.x2=this.x1+n}"top"in
h&&(n=this.y2-this.y1,this.y1=h.top,this.y2=this.y1+n);"offset"in h&&(n=h.offset(),this.update(n),this.x2=this.x1+float2int(h.width()),this.y2=this.y1+float2int(h.height()));"dir"in h&&(this.x1=h.dir);return this};b.prototype.width=function(){return this.x2-this.x1};b.prototype.height=function(){return this.y2-this.y1};b.prototype.centerx=function(){return(this.x1+this.x2)/2};b.prototype.centery=function(){return(this.y1+this.y2)/2};b.prototype.toString=function(){return(this.proto.get?"#"+this.proto.get(0).id:
"")+"["+[this.x1,this.y1,this.x2,this.y2].join()+"]"};b.EPSILON=.001;b.prototype.containsPoint=function(h,n,t){t||(t=!1);t=(t?-1:1)*b.EPSILON;return h>this.x1+t&&h<this.x2-t&&n>this.y1+t&&n<this.y2-t?!0:!1};b.prototype.overlaps=function(h,n){var t=this._overlaps(h,n);if(0<t.length)return t;t=h._overlaps(this,n);0<t.length&&(t[0].dir="Inside"==t[0].dir?"Outside":"Outside"==t[0].dir?"Inside":"N"==t[0].dir?"S":"S"==t[0].dir?"N":"W"==t[0].dir?"E":"E"==t[0].dir?"W":"NE"==t[0].dir?"SW":"SW"==t[0].dir?"NE":
"SE"==t[0].dir?"NW":"NW"==t[0].dir?"SE":void 0);return t||[]};b.prototype._overlaps=function(h,n){n||(n=!1);var t=h.centerx(),p=h.centery();t=[[h.x1,h.y1,"SE"],[h.x2,h.y1,"SW"],[h.x2,h.y2,"NW"],[h.x1,h.y2,"NE"],[t,h.y1,"S"],[h.x2,p,"W"],[t,h.y2,"N"],[h.x1,p,"E"],[t,p,void 0]];p=null;for(var v={NW:!1,N:!1,NE:!1,E:!1,SE:!1,S:!1,SW:!1,W:!1},E=0;E<t.length;E++)this.containsPoint(t[E][0],t[E][1],n)&&(t[E][2]&&(v[t[E][2]]=!0),p||(p=[new b({x1:Math.max(h.x1,this.x1),y1:Math.max(h.y1,this.y1),x2:Math.min(h.x2,
this.x2),y2:Math.min(h.y2,this.y2),dir:t[E][2]})]));p&&(v.NW&&v.NE&&(p[0].dir="N"),v.NE&&v.SE&&(p[0].dir="E"),v.SE&&v.SW&&(p[0].dir="S"),v.SW&&v.NW&&(p[0].dir="W"),v.NW&&v.NE&&v.SE&&v.SW&&(p[0].dir="Outside"),v.NW||v.NE||v.SE||v.SW||v.N||v.E||v.S||v.W||(p[0].dir="Inside"));return p||[]};b.prototype._protrusion=function(h,n,t){h=this.overlaps(new b(h),!1);if(0>=h.length)return t;h[0].dir=n;t.push(h[0]);return t};b.prototype.protrusions=function(h){var n=[],t=Number.NEGATIVE_INFINITY,p=Number.POSITIVE_INFINITY,
v=h.x1,E=h.x2,F=h.y1;h=h.y2;n=this._protrusion({x1:v,y1:t,x2:E,y2:F},"N",n);n=this._protrusion({x1:E,y1:t,x2:p,y2:F},"NE",n);n=this._protrusion({x1:E,y1:F,x2:p,y2:h},"E",n);n=this._protrusion({x1:E,y1:h,x2:p,y2:p},"SE",n);n=this._protrusion({x1:v,y1:h,x2:E,y2:p},"S",n);n=this._protrusion({x1:t,y1:h,x2:v,y2:p},"SW",n);n=this._protrusion({x1:t,y1:F,x2:v,y2:h},"W",n);return n=this._protrusion({x1:t,y1:t,x2:v,y2:F},"NW",n)};d.prototype.distance=function(h){h=c.target;var n=c.overlap;return Math.sqrt((h.centerx()-
n.centerx())*(h.centerx()-n.centerx())+(h.centery()-n.centery())*(h.centery()-n.centery()))};g.prototype.getCollisions=function(h){if(null!==this.collisions)return this.collisions;this.cache={};this.collisions=[];h||(h="collision");if("collision"!=h&&"protrusion"!=h)return[];for(var n=[],t=this.targets,p=this.obstacles,v=0;v<t.length;v++)for(var E=t[v],F=0;F<p.length;F++){var N=p[F];N="collision"==h?E.overlaps(N):E.protrusions(N.innerContainer());for(var K=0;K<N.length;K++)n.push(new d(t[v],p[F],
N[K],h))}return this.collisions=n};a.fn.collision=function(h,n){n||(n={});var t="collision",p=null,v=null,E=null,F=null,N="body";"protrusion"==n.mode&&(t=n.mode);n.as&&(p=n.as);n.colliderData&&(v=n.colliderData);n.obstacleData&&(E=n.obstacleData);n.directionData&&(F=n.directionData);n.relative&&(N=n.relative);h=(new g(m(this),m(h))).getCollisions(t);h=p?a.map(h,function(K,J,U){J=K.overlap.x1;U=K.overlap.y1;if(N&&"body"!=N){var R="collider"==N?a(K.target.proto):"obstacle"==N?a(K.obstacle.proto):a(N);
0<R.length&&(R=R.offset(),J-=R.left,U-=R.top)}try{var S=a(p);S.offset({left:J,top:U});S.width(float2int(K.overlap.width()));S.height(float2int(K.overlap.height()))}catch(fa){return}v&&S.data(v,a(K.target.proto));E&&S.data(E,a(K.obstacle.proto));F&&K.overlap.dir&&S.data(F,K.overlap.dir);return S}):a.map(h,function(K,J,U){return K.obstacle.proto});return q(h)}})(jQuery);(function(a){a.fn.endlessScroll=function(b){b=a.extend({bottomPixels:50,fireOnce:!0,fireDelay:150,data:"",insertAfter:"div:last",resetCounter:function(){return!1},callback:function(){return!0},ceaseFire:function(){return!1},eventName:"endless"},b);var d=!0,g=!1,m=0;!0===b.ceaseFire.apply(this)&&(d=!1);if(!0===d)a(this).off("scroll."+b.eventName).on("scroll."+b.eventName,function(){if(this==document)var q=a(document).height()-a(window).height()<=a(window).scrollTop()+b.bottomPixels;else q=a(".endless_scroll_inner_wrap",
this),0==q.length&&a(this).wrapInner('<div class="endless_scroll_inner_wrap" />'),q=0<q.length&&q.height()-a(this).height()<=a(this).scrollTop()+b.bottomPixels;q&&(0==b.fireOnce||1==b.fireOnce&&1!=g)&&(!0===b.resetCounter.apply(this)&&(m=0),g=!0,m++,!1!==("function"==typeof b.data?b.data.apply(this):b.data)&&(q=[],q[0]=m,b.callback.apply(this,q),!1!==b.fireDelay||0!==b.fireDelay?(a("body").after('<div id="endless_scroll_marker"></div>'),a("div#endless_scroll_marker").fadeTo(b.fireDelay,1,function(){a(this).remove();
g=!1})):g=!1))})}})(jQuery);var $jscomp$this=this,enableListTrackingComponent=isTest&&!1,enableSubcategorySalesRankFilter=isTest&&!1,enableDescriptionFeatures=!0,GridApi=function(){var a,b=$.Deferred();return{version:"16.0.1/1",load:function(){if(a)return b.promise();a=!0;var d=CDNUrl+"ag-grid-enterprise-21.1.0.min.js";isTest&&(d=CDNUrl+"ag-grid-enterprise-21.1.0.js",console.info("%cLoaded \u27fc ","color:pink;font-weight:bold;","21.1.0"));var g=document.createElement("script");g.async=!0;g.src=d;g.onload=b.resolve;g.onerror=
b.reject;g.crossOrigin="anonymous";document.body.appendChild(g);return b.promise()},init:function(d){agGrid.LicenseManager.setLicenseKey("Keepa_GmbH_Keepa_1Devs25_June_2019__MTU2MTQxNzIwMDAwMA==dab76dc13dd49d31c96996f22552f92d");var g=$("#"+d.gridId)[0];if("undefined"===typeof g)return null;new agGrid.Grid(g,d.gridOptions);d.gridOptions.context={};d.gridOptions.context.gridWrapperId=d.gridWrapperId;d.gridOptions.context.pageId=d.pageId;"undefined"===typeof d.gridOptions.onGridReady&&(d.gridOptions.onGridReady=
function(m){GridHelper.addToggleUnitEvents(d.gridOptions);GridHelper.addCopyByKeyboard(d.gridOptions)});d.gridOptions.onVirtualColumnsChanged=function(m){GridHelper.addToggleUnitEvents(d.gridOptions);"finder"===d.gridOptions.context.pageId&&GridFinder.handleSpecialFilters()};d.gridOptions.onRowDataChanged=function(){d.gridOptions.api&&d.gridOptions.api.sizeColumnsToFit();iframe.isIframe&&addon("resize",float2int($(document).height()))};"bestseller deals finder manage offer storefront viewer".split(" ").includes(d.pageId)&&
("manage"!==d.pageId&&GridState.restoreColumnState(d.gridOptions),d.gridOptions.onColumnVisible=function(m){d.gridOptions.api&&d.gridOptions.api.sizeColumnsToFit();if("manage"!==d.pageId&&m.column){var q=$('.grid-wrapper-tools [data-col-id="'+m.column.colId+'"]');!1===m.column.visible&&!0===q.prop("checked")?q.prop("checked",!1):!0===m.column.visible&&!1===q.prop("checked")&&q.prop("checked",!0)}"undefined"!==typeof m.visible&&GridState.saveColumnState(d.gridOptions)},d.gridOptions.onDragStopped=
function(){GridState.saveColumnState(d.gridOptions)},"manage"===d.pageId&&(d.gridOptions.onSortChanged=function(){GridState.saveSortModel(d.gridOptions);GridManage.removeDeletedRows();GridManage.updateSortToolbar()}));onPageNavigation.progress(function(m){"#!product"!=m&&"undefined"!=typeof d.gridOptions&&null!=d.gridOptions.api&&d.gridOptions.api.destroy()});return d.gridOptions},setData:function(d,g,m){GridHelper.addContextMenu(d);d.api.setRowData(g);m&&m.length&&(d.pinnedBottomRowData=m);!0===
d.pagination&&1===d.api.paginationGetTotalPages()&&$(".ag-paging-page-summary-panel").hide();"variation"!==d.context.pageId&&"search"!==d.context.pageId&&getBucketInformation()},getRowsPerPage:function(d){if(d.context.config.perPage)return hasDataAccessSubscription?d.context.config.perPage:GridConfig.maxRowsFreeUser;var g=d.context.config.type,m=GridConfig.getRowCountOptions(g);if("undefined"===typeof m)return GridConfig.maxRowsFreeUser;m=m.values[hasDataAccessSubscription?"asin"==g?2:1:0];if("undefined"!==
typeof storage.gridConfig){var q=JSON.parse(storage.gridConfig);(q=q.perPage?q.perPage:!1)&&q[g]&&(q=q[g],GridHelper.isValidRowsPerPage(g,q)&&(m=q))}"asinFinder"==g?100<m&&(m=100):1E3<m&&(m=1E3);d.context.config.currentRowsPerPage=m;return d.context.config.perPage=m},setRowsPerPage:function(d,g){var m=d.context.config.type;if(GridHelper.isValidRowsPerPage(m,g)){d.context.config.currentRowsPerPage=g;d.context.config.perPage=g;var q=document.querySelector(".tool__row .trigger");$(q).find("span").replaceWith("<span>&ensp;"+
g+" rows&emsp;</span>");q=storage.gridConfig?JSON.parse(storage.gridConfig):{};q.perPage=q.perPage?q.perPage:{};q.perPage[m]=g;storage.gridConfig=JSON.stringify(q);settings.send();d.api.showLoadingOverlay();switch(d.context.pageId){case "bestseller":GridBestSeller.initData(d);break;case "finder":GridFinder.initDatasource();break;case "storefront":GridStorefront.initData(d);break;case "topseller":GridTopSeller.initData(d)}}},toggleUnit:function(d){var g=GridHelper.getCurrentUnitSystem(),m=storage.gridConfig?
JSON.parse(storage.gridConfig):{};delete m.units;m.unitSystem="METRIC"===g?"IMPERIAL":"METRIC";storage.gridConfig=JSON.stringify(m);settings.send();var q=GridHelper.getCurrentUnits(!0);g=d.context.config.template;if("asin"===g){"infinite"==d.rowModelType?d.api.refreshInfiniteCache():d.api.updateRowData({});g=GridHelper.getHeaderComponentTemplate("",'(<span class="toggle-unit" title="Toggle unit">'+q.measure+"</span>\u00b3)");m=GridHelper.getHeaderComponentTemplate("",'(<span class="toggle-unit" title="Toggle unit">'+
q.measure+"</span>)");q=GridHelper.getHeaderComponentTemplate("",'(<span class="toggle-unit" title="Toggle unit">'+q.weight+"</span>)");var h=d.columnApi.getColumn("packageDimension"),n=d.columnApi.getColumn("packageLength"),t=d.columnApi.getColumn("packageWidth"),p=d.columnApi.getColumn("packageHeight"),v=d.columnApi.getColumn("packageWeight"),E=d.columnApi.getColumn("itemDimension"),F=d.columnApi.getColumn("itemLength"),N=d.columnApi.getColumn("itemWidth"),K=d.columnApi.getColumn("itemHeight"),
J=d.columnApi.getColumn("itemWeight");h.colDef.headerComponentParams.template=g;n.colDef.headerComponentParams.template=m;t.colDef.headerComponentParams.template=m;p.colDef.headerComponentParams.template=m;v.colDef.headerComponentParams.template=q;E.colDef.headerComponentParams.template=g;F.colDef.headerComponentParams.template=m;N.colDef.headerComponentParams.template=m;K.colDef.headerComponentParams.template=m;J.colDef.headerComponentParams.template=q;d.api.refreshHeader();GridHelper.addToggleUnitEvents(d)}else if("productDetail"===
g){var U={packageDimension:'Dimension (<span class="toggle-unit" title="Toggle unit">'+q.measure+"</span>\u00b3)",packageWeight:'Weight (<span class="toggle-unit" title="Toggle unit">'+q.weight+"</span>)",itemDimension:'Dimension (<span class="toggle-unit" title="Toggle unit">'+q.measure+"</span>\u00b3)",itemWeight:'Weight (<span class="toggle-unit" title="Toggle unit">'+q.weight+"</span>)"},R=[];d.api.forEachNode(function(S){S=S.data;if(["packageDimension","packageWeight","itemDimension","itemWeight"].includes(S.realField)){S.productKey=
(S.realField.includes("package")?"Package - ":"Item - ")+U[S.realField];switch(S.realField){case "packageWeight":case "itemWeight":var fa={colDef:{field:S.realField},data:{}};fa.data[S.realField]=d.context.lookup[S.realField];S.productValue=GridHelper.valueGetterWeight(fa);fa.value=S.productValue;S.productValueFormatted=GridHelper.valueFormatterWeight(fa);break;case "packageDimension":fa={colDef:{field:S.realField},data:{packageLength:d.context.lookup.packageLength,packageWidth:d.context.lookup.packageWidth,
packageHeight:d.context.lookup.packageHeight}};S.productValue=GridHelper.valueGetterDimension(fa);fa.value=S.productValue;S.productValueFormatted=GridHelper.valueFormatterDimension(fa);break;case "itemDimension":fa={colDef:{field:S.realField},data:{itemLength:d.context.lookup.itemLength,itemWidth:d.context.lookup.itemWidth,itemHeight:d.context.lookup.itemHeight}};S.productValue=GridHelper.valueGetterDimension(fa);fa.value=S.productValue;S.productValueFormatted=GridHelper.valueFormatterDimension(fa);
break;default:fa={colDef:{field:S.realField},data:{}},fa.data[S.realField]=d.context.lookup[S.realField],S.productValue=GridHelper.valueGetterMeasure(fa),fa.value=S.productValue,S.productValueFormatted=GridHelper.valueFormatterMeasure(fa)}R.push(S)}});GridHelper.addContextMenu(d);d.api.updateRowData({update:R});GridHelper.addToggleUnitEvents(d)}}}}(),GridState=function(){var a=function(K){if(isTest)for(var J={},U=$jscomp.makeIterator(K),R=U.next();!R.done;J={$jscomp$loop$prop$c$231$682:J.$jscomp$loop$prop$c$231$682},
R=U.next())J.$jscomp$loop$prop$c$231$682=R.value,R=Object.keys(J.$jscomp$loop$prop$c$231$682).filter(function(S){return!"colId hide aggFunc width pivotIndex pinned rowGroupIndex".split(" ").includes(S)}),R.length&&console.warn("columnState has unknownAttributes:",R,J.$jscomp$loop$prop$c$231$682),R=Object.keys(J.$jscomp$loop$prop$c$231$682).filter(function(S){return function(fa){return["aggFunc","pivotIndex","rowGroupIndex"].includes(fa)&&null!==S.$jscomp$loop$prop$c$231$682[fa]}}(J)),R.length&&console.warn("columnState has skippedAttributesNotNull:",
R,J.$jscomp$loop$prop$c$231$682);return K.map(function(S){return{c:S.colId,h:S.hide?1:0,p:S.pinned?S.pinned.charAt(0):"",w:S.width}})},b=function(K){return K[0].colId?K:K.map(function(J){return{colId:J.c,hide:1===J.h?!0:!1,pinned:"l"===J.p?"left":"r"===J.p?"right":null,width:J.w,aggFunc:null,pivotIndex:null,rowGroupIndex:null}})},d=function(K,J,U,R){U=J=g(K,J,U);J=[];U=$jscomp.makeIterator(U);for(var S=U.next();!S.done;S=U.next())S=S.value,K.columnApi.getColumn(S.colId)&&J.push(S);K=J;if(R&&R.length)for(J=
K,K=[],J=$jscomp.makeIterator(J),U=J.next();!U.done;U=J.next())U=U.value,R.includes(U.colId)&&K.push(U);return J=m(K)},g=function(K,J,U){var R=K.columnApi.getAllColumns(),S=[];if(U){U={};R=$jscomp.makeIterator(R);for(var fa=R.next();!fa.done;U={$jscomp$loop$prop$col$684:U.$jscomp$loop$prop$col$684},fa=R.next())U.$jscomp$loop$prop$col$684=fa.value,J.find(function(oa){return function(va){return va.colId===oa.$jscomp$loop$prop$col$684.colId}}(U))||S.push({colState:{colId:U.$jscomp$loop$prop$col$684.colId,
hide:!0}})}else S=GridConfig.getNewColumns(K.context.pageId);if(S&&S.length&&Array.prototype.findIndex){U={};for(var qa in S)U.$jscomp$loop$prop$column$687=S[qa],R=-1<J.findIndex(function(oa){return function(va){return va.colId===oa.$jscomp$loop$prop$column$687.colState.colId}}(U)),fa=null!=K.columnApi.getColumn(U.$jscomp$loop$prop$column$687.colState.colId),!R&&fa&&(!1===U.$jscomp$loop$prop$column$687.insertAfterColId?J.splice(0,0,U.$jscomp$loop$prop$column$687.colState):(R=J.findIndex(function(oa){return function(va){return va.colId===
oa.$jscomp$loop$prop$column$687.insertAfterColId}}(U)),-1<R?J.splice(R+1,0,U.$jscomp$loop$prop$column$687.colState):J.push(U.$jscomp$loop$prop$column$687.colState))),U={$jscomp$loop$prop$column$687:U.$jscomp$loop$prop$column$687}}return J},m=function(K){if(Array.prototype.findIndex){var J=K.findIndex(function(U){return"checkboxSelection"===U.colId});-1<J&&(K[J].hide=!0)}return K},q=function(){var K=$.Deferred(),J=material.getButton("savePreset","Save",null,"floppy-o"),U=material.getInput(!0,".{1,50}",
"presetName","Preset name","off","presetName","","",!0),R=F().map(function(ma,Y){return ma?{name:ma.name,idx:Y}:null}).filter(function(ma){return ma}).sort(function(ma,Y){ma=ma&&ma.name?ma.name.toUpperCase():"";Y=Y&&Y.name?Y.name.toUpperCase():"";return ma<Y?-1:ma>Y?1:0});J='<div style="width:500px;margin-bottom:10px;">\n                        <p>You can save up to 10 column presets which can be applied to any of our ASIN tables*.</p>\n                    </div>\n\t\t\t\t\t<form name="savePresetForm" id="savePresetForm">\n\t\t\t\t\t    <section'+
(11<=R.length?' style="display:none"':"")+'>\n\t\t\t\t\t\t    <p class="mdc-typography--caption" style="margin-top:15px;">Save current column configuration as:</p>\n\t\t\t\t\t\t    \n\t\t\t\t\t\t    <div style="display:flex">\n                                <div style="width:340px;margin-top:-16px;margin-right:20px;">\n                                    '+U+'\n                                    <p id="presetName-validation-msg" class="mdc-text-field-helper-text"></p>\n                                </div>\n                                <div>'+
J+'</div>\n\t\t                    </div>\n                        </section>\n\t\t\t\t\t    <section id="presetTable">\n\t\t\t\t\t\t    <p class="mdc-typography--caption" style="margin:15px 0;">Load and apply one of the presets below:</p>\n                        </section>\n\t\t\t\t\t</form>\n\t\t\t\t\t<hr class="-purple">\n                    <p class="mdc-typography--caption" style="font-size:11px;">\n                        * Product Finder, Product Viewer, Product Best Sellers or Seller Storefront\n                    </p>';
var S=document.createElement("table");S.className="table";U=$jscomp.makeIterator(R);for(var fa=U.next();!fa.done;fa=U.next()){fa=fa.value;var qa=document.createElement("tr"),oa=document.createElement("td");oa.style="width:340px;";oa.textContent=fa.name;var va=document.createElement("td");va.className="action";va.innerHTML='<span data-action="load-'+fa.idx+'"><i class="fa fa-upload -green" title="Load"></i> Load</span>';var ka=document.createElement("td");ka.className="action";ka.innerHTML='<span data-action="delete-'+
fa.idx+'"><i class="fa fa-trash -tomato"></i> Delete</span>';qa.append(oa,va,ka);S.appendChild(qa)}material.init("#savePresetForm");setTimeout(function(){document.getElementById("presetTable").appendChild(S);var ma=!1,Y="",xa=function(L,f){L=void 0===L?!0:L;$("#savePreset").prop("disabled",L||11<=R.length);ma=!L;$("#presetName-validation-msg").html(f)};xa(11<=R.length);$("#presetName").on("input",function(){Y=$(this).val().trim();1>Y.length||50<Y.length?xa(!0,"The name must be between 1 and 50 characters long."):
R.some(function(L){return L.name===Y})?xa(!0,"The name is already taken."):xa(!1,"")});$("#savePresetForm").on("submit",function(L){ma&&K.resolve({action:"save",presetName:Y});K.resolve();L.preventDefault()});$("#savePresetForm [data-action]").click(function(){var L=$jscomp.makeIterator($(this).data("action").split("-")),f=L.next().value,H=L.next().value;"delete"===f?(t(H),R=R.filter(function(Q){return Q.idx!==Number(H)}),$(this).closest("tr").remove()):K.resolve({action:f,presetIdx:H})})},0);return{onSubmit:K.promise(),
html:J}},h=function(K,J){J=F()[J];J.columnState&&(J=b(J.columnState),J=d(K,J,!0,null),K.columnApi.setColumnState(J),GridState.saveColumnState(K),GridTools.init(K))},n=function(K,J,U){var R=K.columnApi.getColumnState();K=F();J=J?J:K.findIndex(function(S){return S&&S.name===U});U=U?U:K[J].name;R={name:U,columnState:a(R)};0<=J?K[J]=R:K.push(R);K=K.filter(function(S){return S});N(K)},t=function(K){var J=F();J[K]=null;N(J)},p=function(K){var J=K.context.pageId;"manage"===J&&K.context.config.activeViewMode&&
K.context.config.activeViewMode===GridManage.viewModes.COMPACT&&(J+=K.context.config.activeViewMode);return J},v=function(K){var J={};try{(storage.gridVersion?JSON.parse(storage.gridVersion):null)===GridApi.version&&storage.gridState&&(J=JSON.parse(storage.gridState))}catch(U){reportBug(U,"[GridState][getGridStateFromStorage]")}"undefined"===typeof J[K]&&(J[K]={});return J},E=function(K){try{storage.gridState=JSON.stringify(K),storage.gridVersion=JSON.stringify(GridApi.version),settings.send()}catch(J){reportBug(J,
"[GridState][setGridState]")}},F=function(){var K=[];try{storage.gridPresets&&(K=JSON.parse(storage.gridPresets))}catch(J){reportBug(J,"[GridState][getGridPresetsFromStorage]")}return K},N=function(K){try{storage.gridPresets=JSON.stringify(K),settings.send()}catch(J){reportBug(J,"[GridState][setGridPresets]")}};return{saveColumnState:function(K){var J=p(K),U=v(J);try{var R=K.columnApi.getColumnState();R&&R.length||reportBug("missing columnState","[GridState][saveColumnState]");U[J].columnState=a(R);
E(U)}catch(S){reportBug(S,"[GridState][saveColumnState]")}},restoreColumnState:function(K,J){if(null!=K.api&&null!=K.columnApi&&K.context){var U=p(K);try{var R=v(U);if(R[U]&&R[U].columnState){var S=b(R[U].columnState);(S=d(K,S,!1,J))&&S.length||reportBug("missing columnState after cleanup","[GridState][restoreColumnState]");K.columnApi.setColumnState(S)}}catch(fa){reportBug(fa,"[GridState][restoreColumnState]")}}},openColumnPresetPopup:function(K){var J=q(),U=showPopup("Load/save column presets",
J.html,!0);J.onSubmit.done(function(R){R?("load"===R.action&&h(K,R.presetIdx),"save"===R.action&&n(K,R.presetIdx,R.presetName),settings.send().done(function(){U.close()}).fail(showErrorPopup)):U.close()})},saveSortModel:function(K){if(null!=K.api&&K.context){var J=p(K),U=v(J);K=K.api.getSortModel();U[J].sortModel=K;E(U)}},restoreSortModel:function(K,J){if(null!=K.api&&null!=K.columnApi){var U=p(K),R=v(U);R[U]&&R[U].sortModel&&(J=R[U].sortModel);K.api.setSortModel(J)}}}}(),GridConfig=function(){var a=
"AMAZON NEW USED SALES COLLECTIBLE REFURBISHED TRADE_IN NEW_FBA NEW_FBM_SHIPPING LIGHTNING_DEAL WAREHOUSE BUY_BOX_SHIPPING USED_NEW_SHIPPING USED_VERY_GOOD_SHIPPING USED_GOOD_SHIPPING USED_ACCEPTABLE_SHIPPING EBAY_NEW_SHIPPING EBAY_USED_SHIPPING RENT".split(" "),b="SALES AMAZON NEW USED COLLECTIBLE REFURBISHED TRADE_IN NEW_FBA NEW_FBM_SHIPPING WAREHOUSE BUY_BOX_SHIPPING USED_NEW_SHIPPING USED_VERY_GOOD_SHIPPING USED_GOOD_SHIPPING USED_ACCEPTABLE_SHIPPING EBAY_NEW_SHIPPING EBAY_USED_SHIPPING RENT".split(" "),
d={balham:24},g=function(){var r={default:{gridId:"grid",gridClass:"grid ag-theme-balham",gridWrapperId:"grid-wrapper",gridWrapperClass:"grid-wrapper",gridOptions:{autoSizePadding:16,columnTypes:{booleanColumn:{cellClass:"cell-icon",cellRenderer:GridHelper.cellRendererBoolean,pinnedRowCellRenderer:GridHelper.cellRendererEmpty,filter:!1,suppressMenu:!0,suppressSizeToFit:!0},dateColumn:{cellRenderer:GridHelper.cellRendererDateKeepaTime,comparator:GridHelper.comparatorNumberNullLast,icons:GridHelper.getIconsSortNumeric(),
pinnedRowCellRenderer:GridHelper.cellRendererEmpty,filter:!1,suppressMenu:!0,suppressSizeToFit:!0,valueGetter:GridHelper.valueGetterDateKeepaTime,width:94},dateAgoColumn:{cellRenderer:GridHelper.cellRendererDateAgo,comparator:GridHelper.comparatorDateAgo,icons:GridHelper.getIconsSortNumeric(),pinnedRowCellRenderer:GridHelper.cellRendererEmpty,filter:!1,suppressMenu:!0,suppressSizeToFit:!0,width:100},deltaColumn:{cellClass:"cell-number",comparator:GridHelper.comparatorNumberNullLast,equals:function(){return!1},
filter:"agNumberColumnFilter",icons:GridHelper.getIconsSortNumeric(),suppressSizeToFit:!0,width:88},deltaPercentColumn:{cellClass:"cell-number",comparator:GridHelper.comparatorNumberNullLast,equals:function(){return!1},filter:"agNumberColumnFilter",icons:GridHelper.getIconsSortNumeric(),suppressSizeToFit:!0,width:98},graphColumn:{cellClass:["cell-overflow"],pinnedRowCellRenderer:GridHelper.cellRendererEmpty,filter:!1,suppressMenu:!0,suppressSizeToFit:!0,sortable:!1,width:200},manageVariationColumn:{cellRenderer:function(z){return z.data.isDeleted?
"":""+GridHelper.defaultTextClamp(z.value,Math.max(2,z.data.multiLocaleProductsReduced.length))},valueGetter:function(z){return z.data.isDeleted?null:z.data.product[z.colDef.field]},suppressSizeToFit:!1,minWidth:80,width:120},measureColumn:{cellClass:"cell-number",comparator:GridHelper.comparatorNumberNullLast,filter:"agNumberColumnFilter",hide:!0,icons:GridHelper.getIconsSortNumeric(),suppressSizeToFit:!0,valueFormatter:GridHelper.valueFormatterMeasure,valueGetter:GridHelper.valueGetterMeasure,width:100},
numberColumn:{cellClass:"cell-number",comparator:GridHelper.comparatorNumberNullLast,equals:function(){return!1},filter:"agNumberColumnFilter",icons:GridHelper.getIconsSortNumeric(),valueFormatter:function(z){return null==z.value?"-":NumberUtil.format(z.value)}},numberSalesRankColumn:{cellRenderer:function(z){return'<span style="color:'+CsvType.SALES.color+';">'+z.valueFormatted+"</span>"},valueFormatter:function(z){return null==z.value?"-":CsvType.format("SALES",z.value)}},offerCountColumn:{cellClass:"cell-number",
cellRenderer:GridHelper.cellRendererCsvType,comparator:GridHelper.comparatorNumberNullLast,equals:function(){return!1},filter:"agNumberColumnFilter",icons:GridHelper.getIconsSortNumeric(),suppressSizeToFit:!0,valueFormatter:GridHelper.valueFormatterCsvType,valueGetter:GridHelper.valueGetterNoNegative,width:88},priceColumn:{cellClass:"cell-number",cellRenderer:GridHelper.cellRendererCsvType,comparator:GridHelper.comparatorNumberNullLast,equals:function(){return!1},filter:"agNumberColumnFilter",filterParams:{filterOptions:[{displayKey:"nullValue",
displayName:la._666,hideFilterInput:!0,test:function(z,w){return null==w}},"equals","notEqual","lessThan","lessThanOrEqual","greaterThan","greaterThanOrEqual","inRange"],defaultOption:"equals",suppressAndOrCondition:!0},icons:GridHelper.getIconsSortNumeric(),suppressSizeToFit:!0,valueFormatter:GridHelper.valueFormatterPrice,valueGetter:GridHelper.valueGetterPrice,width:91},productCodeColumn:{cellClass:"cell-id cell-wrap",cellRenderer:GridHelper.cellRendererProductCodes,suppressSizeToFit:!0,sortable:!1,
width:105},salesRankColumn:{cellClass:"cell-number",cellRenderer:GridHelper.cellRendererCsvType,comparator:GridHelper.comparatorNumberNullLast,equals:function(){return!1},filter:"agNumberColumnFilter",filterParams:{filterOptions:[{displayKey:"nullValue",displayName:"No Sales Rank",hideFilterInput:!0,test:function(z,w){return null==w}},"equals","notEqual","lessThan","lessThanOrEqual","greaterThan","greaterThanOrEqual","inRange"],defaultOption:"equals",suppressAndOrCondition:!0},icons:GridHelper.getIconsSortNumeric(),
suppressSizeToFit:!0,valueFormatter:GridHelper.valueFormatterCsvType,valueGetter:GridHelper.valueGetterSalesRank,width:91},stockSingleColumn:{cellClass:"cell-number",cellRenderer:GridHelper.cellRendererStockSingle,comparator:GridHelper.comparatorNumberNullLast,filter:"agNumberColumnFilter",icons:GridHelper.getIconsSortNumeric(),suppressSizeToFit:!0,valueFormatter:GridHelper.valueFormatterStockSingle,valueGetter:GridHelper.valueGetterStockSingle,width:76},trackingColumn:{cellClass:"cell-number",cellRenderer:GridHelper.cellRendererTracking,
comparator:GridHelper.comparatorNumberArrayNullLast,getQuickFilterText:function(z){return""},filter:"customNumberArrayColumnFilter",filterParams:{filterOptions:[{displayKey:"nullValue",displayName:"No value",hideFilterInput:!0,test:function(z,w){return Array.isArray(w)?w.some(function(I){return null==I}):null==w}},"equals","notEqual","lessThan","lessThanOrEqual","greaterThan","greaterThanOrEqual","inRange"],defaultOption:"lessThanOrEqual",suppressAndOrCondition:!0},icons:GridHelper.getIconsSortNumeric(),
lockPinned:!0,minWidth:50,width:110,maxWidth:190,suppressSizeToFit:!0,valueFormatter:GridHelper.valueFormatterTracking,valueGetter:GridHelper.valueGetterTracking},hiddenColumn:{getQuickFilterText:function(z){return null},headerNameGroup:"[hidden]",hide:!0,lockVisible:!0,suppressToolPanel:!0}},colWidth:100,defaultColDef:{equals:GridHelper.valuesAreEqual,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},resizable:!0,sortable:!0},minColWidth:30,suppressMenuHide:!0,accentedSort:!0,
enableRangeSelection:!1,rowDeselection:!0,rowSelection:"multiple",headerHeight:d.balham,rowData:null,rowModelType:"clientSide",pagination:!0,paginationPageSize:100,icons:GridHelper.getIconsDefault(),rowHeight:d.balham,scrollbarWidth:isChrome?8:17,overlayLoadingTemplate:getLoaderBox(!0),overlayNoRowsTemplate:'<span class="grid-no-data">No data available</span>',debug:!1,rowBuffer:1,suppressContextMenu:!0,suppressExcelExport:!0,components:{customAutocompleteColumnFilter:GridFilter.AutocompleteFilter,
customBooleanColumnFilter:GridFilter.BooleanFilter,customDynamicColumnFilter:GridFilter.DynamicFilter,customSingleChoiceColumnFilter:GridFilter.SingleChoiceFilter,customSingleChoiceRadioColumnFilter:GridFilter.SingleChoiceRadioFilter},fullWidthCellRenderer:function(z){var w=document.createElement("div");w.className="ag-cell ag-cell-not-inline-editing ag-cell-no-focus ag-force-no-hover";w.innerHTML='<div class="row-free-access"><i class="fa fa-arrow-circle-o-right"></i>&ensp;'+z.data.message+"</div>";
return w},isFullWidthCell:function(z){return"undefined"===typeof z.data?!1:z.data.freeAccessRow},localeTextFunc:function(z,w){z={applyFilter:'<i class="fa fa-caret-right"></i> Apply',autosizeAllColumns:la._682,average:la._385,blanks:la._809,clearFilter:la._596,contains:la._597,copy:la._677,copyWithHeaders:la._678,ctrlC:la._679,endsWith:la._598,equals:la._599,filterOoo:la._177,first:la._610,greaterThan:la._601,greaterThanOrEqual:la._602,inRange:la._603,isNoneOf:"Is none of",isOneOf:"Is one of",last:la._611,
lessThan:la._604,lessThanOrEqual:la._605,loadingOoo:la._600,next:la._612,noRowsToShow:la._606,notContains:la._607,notEqual:la._608,nullValue:la._666,of:la._613,page:la._292,previous:la._614,selectAll:la._671,startsWith:la._609,to:la._615}[z];return"undefined"!==typeof z?z:w},postProcessPopup:function(z){if("columnMenu"===z.type){var w=z.ePopup;z=["casin","variation"].includes(z.column.gridOptionsWrapper.gridOptions.context.pageId)?1:2;w.style.top=d.balham*z-4+"px"}}}},asin:{gridId:"grid-asin",gridWrapperId:"grid-wrapper-asin",
gridOptions:{pagination:!1,getRowClass:function(z){if("undefined"===typeof z.data)return null;var w=[];3===z.data.productType&&w.push("row-product-inaccessible");return w.length?w.join(" "):null},getRowHeight:function(z){return z&&z.node.data.freeAccessRow?d.balham+8:3*(d.balham-8)+8}}},asinViewer:{},asinDeals:{gridId:"grid-asin-deals",gridWrapperId:"grid-wrapper-asin-deals",gridOptions:{rowModelType:"infinite",cacheBlockSize:150,cacheOverflowSize:0,infiniteInitialRowCount:0,maxConcurrentDatasourceRequests:1,
paginationPageSize:150,rowHeight:3*(d.balham-8)+8}},asinFinder:{gridId:"grid-asin-finder",gridWrapperId:"grid-wrapper-asin-finder",gridOptions:{rowModelType:"infinite",cacheBlockSize:100,cacheOverflowSize:0,infiniteInitialRowCount:0,maxBlocksInCache:1,maxConcurrentDatasourceRequests:1,rowHeight:3*(d.balham-8)+8}},buyBoxStatistics:{gridId:"grid-buy-box-statistics",gridWrapperId:"grid-wrapper-buy-box-statistics",gridOptions:{defaultColDef:{filter:!1,resizable:!0,suppressMenu:!0,suppressSizeToFit:!0,
width:100},pagination:!1}},casin:{gridId:"grid-casin",gridWrapperId:"grid-wrapper-casin",gridOptions:{defaultColDef:{equals:GridHelper.valuesAreEqual,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},resizable:!0,sortable:!0,sortingOrder:["asc","desc"]},minColWidth:20,autoGroupColumnDef:{cellClass:"cell-right",cellRenderer:function(z){return null==z.value?"":LocaleType.getContinentName(z.data.domainId)},headerName:"",suppressMenu:!0,suppressSizeToFit:!0,width:110,minColWidth:110},
groupDefaultExpanded:1,groupHideOpenParents:!0,defaultGroupSortComparator:function(z,w){z=Number(z.key);w=Number(w.key);return isFirefox?z-w:w-z},pagination:!1}},category:{gridId:"grid-category",gridWrapperId:"grid-wrapper-category",gridOptions:{autoGroupColumnDef:{cellClassRules:{"cell-group-no-children":function(z){return"undefined"===typeof z.data||null==z.data.children||0===z.data.children.length}},className:"cell-autogroup",field:"name1",headerName:"Category Tree",suppressSizeToFit:!1,width:600},
defaultColDef:{filter:!1,resizable:!1,sortable:!1,suppressMenu:!0,suppressSizeToFit:!0,width:100},rowModelType:"serverSide",cacheBlockSize:500,rowGroupPanelShow:"never",pagination:!1,suppressContextMenu:!1,getContextMenuItems:function(z){return["copy","copyWithHeaders"]},getRowNodeId:function(z){return z.catId},getChildCount:function(z){return"undefined"===typeof z||0===z.parent?-1:null===z.children||0===z.children.length?-1:z.children.length}}},lightningDeal:{gridId:"grid-lightning-deal",gridWrapperId:"grid-wrapper-lightning-deal",
gridOptions:{pagination:!1,suppressContextMenu:!1,getContextMenuItems:function(z){return["copy","copyWithHeaders"]},getRowHeight:function(z){return 2*(d.balham-8)+8},onGridSizeChanged:function(z){setTimeout(function(){z.api.sizeColumnsToFit()})}}},manage:{gridId:"grid-manage",gridWrapperId:"grid-wrapper-manage",gridOptions:{enableRangeSelection:!0,cacheQuickFilter:!0,groupDefaultExpanded:1,pagination:!0,paginationPageSize:1E4,suppressPaginationPanel:!0,detailCellRendererParams:{},masterDetail:!0,
suppressCopyRowsToClipboard:!0,suppressContextMenu:!1,components:{cellEditorAutocompleteChips:GridCellEditorComponents.AutocompleteChips,cellEditorMetaData:GridCellEditorComponents.MetaData,cellEditorThresholdBooleanValues:GridCellEditorComponents.ThresholdBooleanValues,cellEditorThresholdValues:GridCellEditorComponents.ThresholdValues,customNumberArrayColumnFilter:GridFilter.NumberArrayFilter,customResetHeader:GridComponents.CustomResetHeader},getContextMenuItems:function(z){if(null===z.node)return[];
var w=z.columnApi,I=z.node.data;return[{name:la._681,action:function(){var C="#!track/"+I.domainId+"-"+I.asin;iframe.isIframe?window.open(getBaseUrl()+C,"_blank").focus():window.open(C,"_self")},icon:'<i class="fa fa-bell-o"></i>',cssClasses:["menu-option-bold"]},"separator","copy","copyWithHeaders","separator","autoSizeAll",{name:la._680,action:function(){w.resetColumnState();z.api.sizeColumnsToFit();GridState.saveColumnState(z)}}]},getRowClass:function(z){if("undefined"===typeof z.data)return null;
var w=[];z.data.isDeleted&&w.push("row-deleted");z.context.config.activeViewMode!==GridManage.viewModes.COMPACT||z.data.multiLocaleProductsReduced.length||w.push("row-padding");return w.length?w.join(" "):null},getRowHeight:function(z){if(z.node.detail)return z.data.detailRowHeight;var w=1;if(z.data.multiLocaleProductsReduced.length){z=$jscomp.makeIterator(z.data.multiLocaleProductsReduced);for(var I=z.next();!I.done;I=z.next())w++}else z.context.config.activeViewMode===GridManage.viewModes.COMPACT&&
(w+=1);return w*(d.balham-2)+2},processCellForClipboard:GridHelper.processCellForClipboard,processHeaderForClipboard:GridHelper.processHeaderForClipboard,onFilterChanged:function(z){var w=0<Object.keys(z.api.getFilterModel()).length;z=null!=z.api.filterManager.quickFilter&&0<z.api.filterManager.quickFilter.length;w||z?$("#fab-reset").show():$("#fab-reset").hide();GridManage.removeDeletedRows(!0);GridManage.adjustGridHeight();GridManage.updateRowCount()},onGridReady:function(z){window.addEventListener("resize",
function(){setTimeout(function(){GridPage.resizeToViewPort(z.api.gridOptionsWrapper.gridOptions.context.config,!0);z.api.gridOptionsWrapper.gridOptions.context.config.maxHeight=$("#"+z.api.gridOptionsWrapper.gridOptions.context.gridWrapperId).height();z.api.sizeColumnsToFit();$("#grid-wrapper-lightning-deal").length&&$("#grid-wrapper-lightning-deal").width($("#grid-wrapper-manage").width()+"px")})})},onGridSizeChanged:function(z){setTimeout(function(){z.api.sizeColumnsToFit()})}}},manageDetail:{detailGridOptions:{columnDefs:GridConfig.getColumns("manageDetail"),
cacheQuickFilter:!0,headerHeight:0,overlayLoadingTemplate:'<div class="grid-loading-simple"></div>',suppressContextMenu:!0,components:{cellEditorImagesCsv:GridCellEditorComponents.ImagesCsv},getRowClass:function(z){return"undefined"===typeof z.data?null:z.data.isDeleted?"row-deleted":null},getRowHeight:function(z){return z.data.detailRowHeight},onGridReady:function(z){},onGridSizeChanged:function(z){setTimeout(function(){var w=Math.max(720,window.innerWidth-275),I=z.columnApi.getColumn("graphData").actualWidth;
w!=I&&(z.columnApi.setColumnWidth("graphData",w),graph.resizeGraphs(!0))})}},getDetailRowData:function(z){var w=z.data.detailRowData;w&&w.length?(z.data.isDeleted&&(w[0].isDeleted=!0),z.successCallback(w)):network.request({path:"product",asin:z.data.asin,domainId:z.data.detailDomainId,getTracking:!0,history:!0,maxAge:15,offerPages:0,refreshProduct:!1,type:"manage",version:3}).done(function(I){if(null!=I&&null!=I.products&&1==I.products.length){I=GridHelper.prepareProductTrackingDetail(I.products[0]);
var C=GridManage.calculateDetailRowHeight(I),V=I.domainId===z.data.domainId?C:z.data.detailRowHeight;w.detailDomainId=z.data.detailDomainId;var ca={};w.push({detailDomainId:z.data.detailDomainId,detailsPerDomain:(ca[I.domainId]={asin:I.asin,domainId:I.domainId,imagesCSV:I.imagesCSV,title:I.title,lastUpdate:I.lastUpdate,lastEbayUpdate:I.lastEbayUpdate,lastPriceChange:I.lastPriceChange,graphData:{buyBoxSellerIdHistory:I.buyBoxSellerIdHistory,csv:I.csv,offers:I.offers,tracking:z.data.tracking},detailRowHeight:C},
ca),wishLists:z.data.wishLists,conditionsMet:z.data.conditionsMet,detailRowHeight:V});z.data.detailRowData=w}z.successCallback(z.data.detailRowData)}).fail(showErrorPopup)}},offer:{gridId:"grid-offer",gridWrapperId:"grid-wrapper-offer",gridOptions:{defaultColDef:{filter:!1,suppressMenu:!0},pagination:!1,getRowHeight:function(z){var w=6;z&&z.node.rowPinned&&(w=2);return w*(d.balham-8)+8},getRowStyle:function(z){return z.data.isScam?{opacity:"0.4"}:null}}},productDetail:{gridId:"grid-product-detail",
gridWrapperId:"grid-wrapper-product-detail",gridOptions:{pagination:!1,domLayout:"autoHeight",components:{cellRendererAutoHeightRow:GridCellRendererComponents.AutoHeightRow},onFirstDataRendered:function(z){setTimeout(function(){z.api.forEachNode(function(w){w=z.api.getCellRendererInstances({rowNodes:[w],columns:["productValue"]});0<w.length&&w[0].updateRowHeight()})},0);iframe.isIframe&&setTimeout(addon,2)}}},productPrice:{gridId:"grid-product-price",gridWrapperId:"grid-wrapper-product-price",gridOptions:{pagination:!1,
domLayout:"autoHeight"}},seller:{gridId:"grid-seller",gridWrapperId:"grid-wrapper-seller",gridOptions:{getRowHeight:function(z){return z.node.data.freeAccessRow?d.balham+8:d.balham}}},sellerbrandstatistic:{gridId:"grid-sellerbrandstatistic",gridWrapperId:"grid-wrapper-sellerbrandstatistic",gridOptions:{defaultColDef:{filter:!1,resizable:!1,suppressMenu:!0,suppressSizeToFit:!0,width:100},pagination:!1}},sellercategorystatistic:{gridId:"grid-sellercategorystatistic",gridWrapperId:"grid-wrapper-sellercategorystatistic",
gridOptions:{defaultColDef:{filter:!1,resizable:!1,suppressMenu:!0,suppressSizeToFit:!0,width:100},pagination:!1}},search:{gridId:"grid-search",gridWrapperId:"grid-wrapper-search",gridOptions:{defaultColDef:{filter:!1,suppressMenu:!0},pagination:!1,getRowHeight:function(z){return 6*(d.balham-8)+8}}},variation:{gridId:"grid-variation",gridWrapperId:"grid-wrapper-variation",gridOptions:{pagination:!1,getRowHeight:function(z){return z&&z.node.data.freeAccessRow?d.balham+8:6*(d.balham-8)+8},onFilterChanged:function(z){GridTools.updateResults("variation",
z.api.getDisplayedRowCount())}}}};r.asinViewer=r.asin;return r},m=function(r,z,w){var I=g();I=$.extend(!0,I.default,I[r]);I.gridOptions.columnDefs=q(r,z,w);"manage"===r&&(GridManage.pageConfig.activeViewMode===GridManage.viewModes.COMPACT?I.gridOptions.masterDetail=!1:I.gridOptions.detailCellRendererParams=m("manageDetail"));return I},q=function(r,z,w){var I=[],C=[];switch(r){case "asin":case "asinViewer":C=h(r,w);break;case "asinDeals":C=n(r,z);break;case "asinFinder":C=t(r);break;case "buyBoxStatistics":C=
v();break;case "casin":C=E();break;case "category":C=F();break;case "lightningDeal":C=p();break;case "manage":C=N();break;case "manageDetail":C=K();break;case "offer":C=J();break;case "productDetail":C=U();break;case "productPrice":C=R();break;case "search":C=oa();break;case "seller":C=S();break;case "sellerbrandstatistic":C=fa();break;case "sellercategorystatistic":C=qa();break;case "variation":C=va()}var V="manage"===r?["filterMenuTab","columnsMenuTab"]:["filterMenuTab"];r={};for(var ca in C)r.$jscomp$loop$prop$id$689=
ca,C[r.$jscomp$loop$prop$id$689].children?C[r.$jscomp$loop$prop$id$689].children.forEach(function(ta){return function(sa,ea){C[ta.$jscomp$loop$prop$id$689].children[ea].menuTabs=!0===C[ta.$jscomp$loop$prop$id$689].children[ea].suppressMenu?[]:V}}(r)):C[r.$jscomp$loop$prop$id$689].menuTabs=!0===C[r.$jscomp$loop$prop$id$689].suppressMenu?[]:V,r={$jscomp$loop$prop$id$689:r.$jscomp$loop$prop$id$689};for(var aa in C)I.push(C[aa]);return I},h=function(r,z){r=r||"asin";var w=GridHelper.getCurrentUnits();
z={checkboxSelection:GridConfig.gridTypesWithCheckboxSelection.includes(r)?{headerName:"",field:"checkboxSelection",checkboxSelection:!0,headerCheckboxSelection:!0,headerCheckboxSelectionFilteredOnly:!0,hide:!0,lockPinned:!0,pinned:"left",filter:!1,suppressMenu:!0,suppressSizeToFit:!0,sortable:!1,suppressToolPanel:!0,width:30}:{},domainId:{headerName:"",field:"domainId",cellClass:"cell-icon",cellRenderer:GridHelper.cellRendererDomainId,filter:!1,suppressMenu:!0,resizable:!1,suppressSizeToFit:!0,sortable:!1,
suppressToolPanel:!0,width:20},imagesCSV:{headerName:la._589,field:"imagesCSV",cellClass:"cell-image",cellRenderer:GridHelper.cellRendererImage,filter:!1,suppressMenu:!0,suppressSizeToFit:!0,sortable:!1,width:54},title:{headerName:la._590,field:"title",cellRenderer:GridHelper.cellRendererTitle,lockVisible:!0,minWidth:140,width:200},groupDescriptionFeatures:enableDescriptionFeatures?ka():{},groupSalesRank:ma("SALES",r,z),groupReviews:GridHelperReviews.getColumnGroupReviews(),dealFound:"asinDeals"===
r?{headerName:"Deal found",field:"dealFound",type:["dateAgoColumn"]}:{},lastPriceChange:{headerName:"Last Price Change",field:"lastPriceChange",type:["dateAgoColumn"],width:114},lastUpdate:{headerName:"Last Update",field:"lastUpdate",type:["dateAgoColumn"],hide:!0,width:114},lastOffersUpdate:{headerName:"Last Offer Update",field:"lastOffersUpdate",type:["dateAgoColumn"],hide:!0,valueGetter:function(C){return"undefined"===typeof C.data?null:C.data.stats.lastOffersUpdate},width:114},groupPriceAmazon:ma("AMAZON",
r),newPriceIsMAP:{headerName:""+la._907,headerTooltip:"Whether or not the lowest new price (either price type Amazon or New)<br>is restricted by MAP (Minimum Advertised Price). Use this to differentiate<br>out of stock vs. MAP restriction.",headerComponentParams:{template:GridHelper.getHeaderComponentTemplate("",'<i class="fa fa-info"></i>')},field:"newPriceIsMAP",type:["booleanColumn"],hide:!0,width:120},groupPriceNew:ma("NEW",r),groupPriceNewFBA:ma("NEW_FBA",r),sellerIdsLowestFBA:O("FBA"),fbaFees:Q(),
groupPriceNewFBMShipping:ma("NEW_FBM_SHIPPING",r),sellerIdsLowestFBM:O("FBM"),groupPriceUsed:ma("USED",r),groupPriceListprice:ma("LISTPRICE",r),groupPriceLightningDeal:ma("LIGHTNING_DEAL",r),groupPriceWarehouse:ma("WAREHOUSE",r),groupPriceCollectable:ma("COLLECTIBLE",r),groupPriceRefurbished:ma("REFURBISHED",r),groupOfferCountNew:xa("COUNT_NEW",r),groupOfferSellerCountNew:{headerName:"Count of retrieved live offers",children:[Z("FBA"),Z("FBM")]},groupOfferCountUsed:xa("COUNT_USED",r),groupOfferCountRefurbished:xa("COUNT_REFURBISHED",
r),groupOfferCountCollectible:xa("COUNT_COLLECTIBLE",r),groupPriceBuyBoxShipping:ma("BUY_BOX_SHIPPING",r),buyBoxSellerIdHistory:{headerName:"Buy Box Seller",headerTooltip:"Seller of the Buy Box. (x%) = Rating of the displayed seller",field:"buyBoxSellerIdHistory",cellRenderer:GridHelper.cellRendererBuyBoxSellerId,filter:"agSetColumnFilter",filterParams:{cellHeight:22,suppressAndOrCondition:!0,suppressMiniFilter:!0,suppressRemoveEntries:!0},filterValueGetter:function(C){if("undefined"===typeof C.data||
null==C.data.asin)return"-";var V=C.data.buyBoxSellerIdHistory;if(null==V)return"-";if(!Array.isArray(V))return"3rd Party";if(0>=V.length||C.data.offersOutdated)return"-";V=getLast(V,CsvType.AMAZON);return SellerUtil.getLabel(V,C.data.domainId)},suppressSizeToFit:!0,valueGetter:GridHelper.valueGetterBuyBoxSellerId,width:110},buyBoxIsFBA:{headerName:"Buy Box: Is FBA",headerTooltip:"Whether or not the buy box is fulfilled by Amazon",headerComponentParams:{template:GridHelper.getHeaderComponentTemplate("",
'<i class="fa fa-info"></i>')},field:"buyBoxIsFBA",type:["booleanColumn"],valueGetter:GridHelper.valueGetterStats,width:135},buyBoxIsUnqualified:{headerName:"Buy Box: Unqualified",headerTooltip:"Whether or not a seller won the buy box. If there are only sellers with bad offers none qualifies for the buy box.",headerComponentParams:{template:GridHelper.getHeaderComponentTemplate("",'<i class="fa fa-info"></i>')},field:"buyBoxIsUnqualified",type:["booleanColumn"],valueGetter:GridHelper.valueGetterStats,
width:135},groupPriceUsedNewShipping:ma("USED_NEW_SHIPPING",r),groupPriceUsedVeryGoodShipping:ma("USED_VERY_GOOD_SHIPPING",r),groupPriceUsedGoodShipping:ma("USED_GOOD_SHIPPING",r),groupPriceUsedAcceptableShipping:ma("USED_ACCEPTABLE_SHIPPING",r),groupPriceCollectibleNewShipping:ma("COLLECTIBLE_NEW_SHIPPING",r),groupPriceCollectibleVeryGoodShipping:ma("COLLECTIBLE_VERY_GOOD_SHIPPING",r),groupPriceCollectibleGoodShipping:ma("COLLECTIBLE_GOOD_SHIPPING",r),groupPriceCollectibleAcceptableShipping:ma("COLLECTIBLE_ACCEPTABLE_SHIPPING",
r),groupPriceRefurbishedShipping:ma("REFURBISHED_SHIPPING",r),groupPriceEbayNewShipping:ma("EBAY_NEW_SHIPPING",r),groupPriceEbayUsedShipping:ma("EBAY_USED_SHIPPING",r),groupPriceTradeIn:ma("TRADE_IN",r),groupPriceRent:ma("RENT",r),trackingSince:{headerName:"Tracking since",field:"trackingSince",type:["dateColumn"]},listedSince:{headerName:"Listed since",field:"listedSince",type:["dateColumn"]},groupUrls:{headerName:"URL",children:[{headerName:"Amazon",headerNameGroup:"URL",field:"urlAmazon",cellRenderer:function(C){return"undefined"===
typeof C.data?"":'<a href="'+C.value+'" target="_blank">'+C.value+"</a>"},hide:!0,suppressSizeToFit:!0,valueGetter:function(C){return"undefined"===typeof C.data?"":"https://www.amazon."+getTldByDomain(C.data.domainId)+"/dp/"+C.data.asin},width:120},{headerName:"Keepa",headerNameGroup:"URL",field:"urlKeepa",cellRenderer:function(C){return"undefined"===typeof C.data?"":'<a href="'+C.value+'" target="_blank">'+C.value+"</a>"},hide:!0,suppressSizeToFit:!0,valueGetter:function(C){return"undefined"===typeof C.data?
"":"https://keepa.com/#!product/"+C.data.domainId+"-"+C.data.asin},width:120}]},groupCategories:{headerName:la._202,children:[{headerName:"Root",headerNameGroup:la._202,field:"rootCategory",cellRenderer:function(C){return"undefined"===typeof C.data||C.data.rootCategory>invalidIfLargerCatId?"":GridHelperCategory.render(C.data.domainId,C.data.rootCategory,C.value,C)},suppressSizeToFit:!0,valueGetter:GridHelperCategory.valueGetterRootCategory,width:160},{headerName:"Sub",headerNameGroup:la._202,field:"categories",
cellClass:"cell-wrap",cellRenderer:function(C){if("undefined"===typeof C.data)return"";var V=C.data.categories;if(null==V||"undefined"===typeof V)return"";var ca=C.data.domainId;if("finder"===C.context.pageId){var aa=document.createElement("div");V.forEach(function(sa,ea){var W=GridHelperCategory.getName(ca,sa);sa=GridHelperCategory.render(ca,sa,W,C);ea<V.length-1?aa.appendChild(sa).insertAdjacentHTML("beforeend"," / "):aa.appendChild(sa)});return aa}var ta="";V.forEach(function(sa,ea){var W=GridHelperCategory.getName(ca,
sa);sa=GridHelperCategory.render(ca,sa,W,C);ta+=(0<ea?" / ":"")+("object"===typeof sa?sa.outerHTML:sa)});return ta},suppressSizeToFit:!0,sortable:!1,valueGetter:GridHelperCategory.valueGetterCategories,width:240},{headerName:"Tree",headerNameGroup:la._202,field:"categoryTree",cellClass:"cell-wrap",cellRenderer:function(C){if("undefined"===typeof C.data||"undefined"===typeof C.value||null===C.value)return"";var V=C.value,ca=document.createElement("div");V.forEach(function(aa,ta){aa=GridHelperCategory.render(C.data.domainId,
aa.catId,aa.name,C);ta<V.length-1?ca.appendChild(aa).insertAdjacentHTML("beforeend"," &rsaquo; "):ca.appendChild(aa)});return ca.outerHTML},filter:!1,sortable:!1,suppressMenu:!0,suppressSizeToFit:!0,width:240},{headerName:"Launchpad",headerNameGroup:la._202,field:"launchpad",type:["booleanColumn"],width:95}]},asin:{headerName:"ASIN",field:"asin",cellClass:"cell-id",lockVisible:!0,suppressSizeToFit:!0,width:86},groupProductCodes:{headerName:"Product Codes",children:[{headerName:"EAN",headerNameGroup:"Product Codes",
field:"eanList",type:["productCodeColumn"]},{headerName:"UPC",headerNameGroup:"Product Codes",field:"upcList",type:["productCodeColumn"]},{headerName:"PartNumber",headerNameGroup:"Product Codes",field:"partNumber",type:["productCodeColumn"]}]},parentAsin:{headerName:"Parent ASIN",field:"parentAsin",cellClass:"cell-id",suppressSizeToFit:!0,width:84},variationCSV:{headerName:"Variation ASINs",field:"variationCSV",cellClass:"cell-id cell-wrap",cellRenderer:GridHelper.cellRendererLinkedAsins,suppressSizeToFit:!0,
width:102},frequentlyBoughtTogether:{headerName:"Freq. Bought Together",field:"frequentlyBoughtTogether",cellClass:"cell-id cell-wrap",cellRenderer:GridHelper.cellRendererLinkedAsins,suppressSizeToFit:!0,width:133},manufacturer:{headerName:"Manufacturer",field:"manufacturer",cellClass:"cell-wrap",cellRenderer:GridHelper.cellRendererTextFinder,suppressSizeToFit:!0,width:114},brand:{headerName:"Brand",field:"brand",cellClass:"cell-wrap",cellRenderer:GridHelper.cellRendererTextFinder,suppressSizeToFit:!0,
width:114},productGroup:{headerName:"Product Group",field:"productGroup",cellRenderer:GridHelper.cellRendererProductGroup,suppressSizeToFit:!0,width:114},model:{headerName:"Model",field:"model",cellRenderer:function(C){return C.value?GridHelper.defaultTextClamp(C.value,3):""},suppressSizeToFit:!0,width:160},variationAttributes:{headerName:"Variation Attributes",field:"variationAttributes",cellClass:"cell-flex",cellRenderer:function(C){var V="",ca="";if(C=C.value){C=$jscomp.makeIterator(C);for(var aa=
C.next();!aa.done;aa=C.next())aa=aa.value,V+="<i>"+aa.dimension+":</i>&emsp;<br>",ca+=aa.value+"<br>"}return"<span>"+V+"</span><span>"+ca+"</span>"},tooltipValueGetter:function(C){var V="";if(C=C.value){C=$jscomp.makeIterator(C);for(var ca=C.next();!ca.done;ca=C.next())ca=ca.value,V+=ca.dimension+": "+ca.value+"; "}return V.trim()},filter:!1,suppressMenu:!0,suppressSizeToFit:!0,sortable:!1,width:160},color:{headerName:la._591,field:"color",cellClass:"cell-wrap",cellRenderer:GridHelper.cellRendererTextFinder,
suppressSizeToFit:!0,width:114},size:{headerName:la._592,field:"size",cellClass:"cell-wrap",cellRenderer:GridHelper.cellRendererTextFinder,suppressSizeToFit:!0,width:114},edition:{headerName:la._593,field:"edition",cellClass:"cell-wrap",cellRenderer:GridHelper.cellRendererTextFinder,suppressSizeToFit:!0,width:114},format:{headerName:la._595,field:"format",cellClass:"cell-wrap",cellRenderer:GridHelper.cellRendererTextFinder,suppressSizeToFit:!0,width:114},author:{headerName:"Author",field:"author",
cellClass:"cell-wrap",cellRenderer:GridHelper.cellRendererTextFinder,suppressSizeToFit:!0,width:114},binding:{headerName:"Binding",field:"binding",cellClass:"cell-wrap",cellRenderer:GridHelper.cellRendererTextFinder,suppressSizeToFit:!0,width:114},numberOfItems:{headerName:"Number of Items",field:"numberOfItems",cellClass:"cell-number",comparator:GridHelper.comparatorNumberNullLast,filter:"agNumberColumnFilter",icons:GridHelper.getIconsSortNumeric(),suppressSizeToFit:!0,valueGetter:GridHelper.valueGetterNoNegative,
width:120},numberOfPages:{headerName:"Number of Pages",field:"numberOfPages",cellClass:"cell-number",comparator:GridHelper.comparatorNumberNullLast,filter:"agNumberColumnFilter",icons:GridHelper.getIconsSortNumeric(),suppressSizeToFit:!0,valueGetter:GridHelper.valueGetterNoNegative,width:120},publicationDate:{headerName:"Publication Date",field:"publicationDate",cellRenderer:GridHelper.cellRendererDateYMD,comparator:GridHelper.comparatorNumberNullLast,filter:"agNumberColumnFilter",icons:GridHelper.getIconsSortNumeric(),
suppressSizeToFit:!0,width:129},releaseDate:{headerName:"Release Date",field:"releaseDate",cellRenderer:GridHelper.cellRendererDateYMD,comparator:GridHelper.comparatorNumberNullLast,filter:"agNumberColumnFilter",icons:GridHelper.getIconsSortNumeric(),suppressSizeToFit:!0,width:110},languages:{headerName:"Languages",field:"languages",cellRenderer:GridHelper.cellRendererLanguage,filter:!1,suppressMenu:!0,suppressSizeToFit:!0,valueGetter:GridHelper.valueGetterLanguage,width:200},groupPackage:{headerName:"Package",
children:[{headerName:"Dimension",headerNameGroup:"Package",headerComponentParams:{template:GridHelper.getHeaderComponentTemplate("",'(<span class="toggle-unit" title="Toggle unit">'+w.measure+"</span>\u00b3)")},field:"packageDimension",cellClass:"cell-number",cellRenderer:GridHelper.cellRendererDimension,comparator:GridHelper.comparatorNumberNullLast,filter:"agNumberColumnFilter",hide:!1,icons:GridHelper.getIconsSortNumeric(),suppressSizeToFit:!0,valueFormatter:GridHelper.valueFormatterDimension,
valueGetter:GridHelper.valueGetterDimension,width:135},{headerName:"Length",headerNameGroup:"Package",headerComponentParams:{template:GridHelper.getHeaderComponentTemplate("",'(<span class="toggle-unit" title="Toggle unit">'+w.measure+"</span>)")},field:"packageLength",type:["measureColumn"]},{headerName:"Width",headerNameGroup:"Package",headerComponentParams:{template:GridHelper.getHeaderComponentTemplate("",'(<span class="toggle-unit" title="Toggle unit">'+w.measure+"</span>)")},field:"packageWidth",
type:["measureColumn"]},{headerName:"Height",headerNameGroup:"Package",headerComponentParams:{template:GridHelper.getHeaderComponentTemplate("",'(<span class="toggle-unit" title="Toggle unit">'+w.measure+"</span>)")},field:"packageHeight",type:["measureColumn"]},{headerName:"Weight",headerNameGroup:"Package",headerComponentParams:{template:GridHelper.getHeaderComponentTemplate("",'(<span class="toggle-unit" title="Toggle unit">'+w.weight+"</span>)")},field:"packageWeight",cellClass:"cell-number",
comparator:GridHelper.comparatorNumberNullLast,filter:"agNumberColumnFilter",icons:GridHelper.getIconsSortNumeric(),suppressSizeToFit:!0,valueFormatter:GridHelper.valueFormatterWeight,valueGetter:GridHelper.valueGetterWeight,width:97},{headerName:"Quantity",headerNameGroup:"Package",field:"packageQuantity",cellClass:"cell-number",comparator:GridHelper.comparatorNumberNullLast,filter:"agNumberColumnFilter",icons:GridHelper.getIconsSortNumeric(),suppressSizeToFit:!0,valueGetter:GridHelper.valueGetterNoNegative,
width:87}]},groupItem:{headerName:"Item",children:[{headerName:"Dimension",headerNameGroup:"Item",headerComponentParams:{template:GridHelper.getHeaderComponentTemplate("",'(<span class="toggle-unit" title="Toggle unit">'+w.measure+"</span>\u00b3)")},field:"itemDimension",cellClass:"cell-number",cellRenderer:GridHelper.cellRendererDimension,comparator:GridHelper.comparatorNumberNullLast,filter:"agNumberColumnFilter",hide:!1,icons:GridHelper.getIconsSortNumeric(),suppressSizeToFit:!0,valueFormatter:GridHelper.valueFormatterDimension,
valueGetter:GridHelper.valueGetterDimension,width:135},{headerName:"Length",headerNameGroup:"Item",headerComponentParams:{template:GridHelper.getHeaderComponentTemplate("",'(<span class="toggle-unit" title="Toggle unit">'+w.measure+"</span>)")},field:"itemLength",type:["measureColumn"]},{headerName:"Width",headerNameGroup:"Item",headerComponentParams:{template:GridHelper.getHeaderComponentTemplate("",'(<span class="toggle-unit" title="Toggle unit">'+w.measure+"</span>)")},field:"itemWidth",type:["measureColumn"]},
{headerName:"Height",headerNameGroup:"Item",headerComponentParams:{template:GridHelper.getHeaderComponentTemplate("",'(<span class="toggle-unit" title="Toggle unit">'+w.measure+"</span>)")},field:"itemHeight",type:["measureColumn"]},{headerName:"Weight",headerNameGroup:"Item",headerComponentParams:{template:GridHelper.getHeaderComponentTemplate("",'(<span class="toggle-unit" title="Toggle unit">'+w.weight+"</span>)")},field:"itemWeight",cellClass:"cell-number",comparator:GridHelper.comparatorNumberNullLast,
filter:"agNumberColumnFilter",icons:GridHelper.getIconsSortNumeric(),suppressSizeToFit:!0,valueFormatter:GridHelper.valueFormatterWeight,valueGetter:GridHelper.valueGetterWeight,width:97}]},isAdultProduct:{headerName:"Adult Product",field:"isAdultProduct",type:["booleanColumn"],width:95},isEligibleForTradeIn:{headerName:"Trade-In Eligible",field:"isEligibleForTradeIn",type:["booleanColumn"],width:107},isEligibleForSuperSaverShipping:{headerName:"Prime Eligible (Buy Box)",field:"isEligibleForSuperSaverShipping",
type:["booleanColumn"],width:94},isSNS:{headerName:"Subscribe and Save",field:"isSNS",type:["booleanColumn"],width:124},groupCouponOneTime:{headerName:"One Time Coupon",children:[{headerName:"Absolute",headerNameGroup:"One Time Coupon",field:"couponOneTimeAbsolute",cellRenderer:GridHelper.cellRendererMoney,suppressSizeToFit:!0,type:["numberColumn"],valueFormatter:GridHelper.valueFormatterMoney,valueGetter:GridHelper.valueGetterMoney,width:69},{headerName:"Percentage",headerNameGroup:"One Time Coupon",
field:"couponOneTimePercent",cellRenderer:GridHelper.cellRendererCouponPercentage,suppressSizeToFit:!0,type:["numberColumn"],valueFormatter:GridHelper.valueFormatterCouponPercentage,valueGetter:GridHelper.valueGetterCouponPercentage,width:81}]},groupCouponSNS:{headerName:"Subscribe and Save Coupon",children:[{headerName:"Percentage",headerNameGroup:"Subscribe and Save Coupon",field:"couponSNSPercent",cellRenderer:GridHelper.cellRendererCouponPercentage,suppressSizeToFit:!0,type:["numberColumn"],valueFormatter:GridHelper.valueFormatterCouponPercentage,
valueGetter:GridHelper.valueGetterCouponPercentage,width:81}]},promotions:{}};"undefined"!==typeof z.checkboxSelection.field&&["asinDeals","asinFinder"].includes(r)&&(z.checkboxSelection.headerCheckboxSelection=!1);r={};for(var I in z)z[I].children?(r.$jscomp$loop$prop$keepChildren$691=[],z[I].children.forEach(function(C){return function(V,ca){0<Object.keys(V).length&&C.$jscomp$loop$prop$keepChildren$691.push(V)}}(r)),z[I].children=r.$jscomp$loop$prop$keepChildren$691):0===Object.keys(z[I]).length&&
delete z[I],r={$jscomp$loop$prop$keepChildren$691:r.$jscomp$loop$prop$keepChildren$691};return z},n=function(r,z){var w=h(r);r={};for(var I in w)r.$jscomp$loop$prop$id$693=I,w[r.$jscomp$loop$prop$id$693].children?w[r.$jscomp$loop$prop$id$693].children.forEach(function(C){return function(V,ca){w[C.$jscomp$loop$prop$id$693].children[ca]=B(V,z)}}(r)):w[r.$jscomp$loop$prop$id$693]=B(w[r.$jscomp$loop$prop$id$693],z),r={$jscomp$loop$prop$id$693:r.$jscomp$loop$prop$id$693};return w},t=function(r){var z=
h(r);z.groupHidden={headerName:"[hidden]",children:[]};a.forEach(function(I){"undefined"!==typeof CsvType[I]&&z.groupHidden.children.push({headerName:CsvType.getName(CsvType[I].index)+": Lowest ever",field:I+"_isLowest",filter:"customBooleanColumnFilter",filterParams:{applyButton:!0,newRowsAction:"keep",isCheckbox:!0,suppressAndOrCondition:!0},type:["hiddenColumn"]})});b.forEach(function(I){z.groupHidden.children.push({headerName:CsvType.getName(CsvType[I].index)+": Out of stock",field:I+"_outOfStock",
filter:"customBooleanColumnFilter",filterParams:{applyButton:!0,newRowsAction:"keep",isCheckbox:!0,suppressAndOrCondition:!0},type:["hiddenColumn"]})});z.groupHidden.children.push({field:"productType",headerName:"Product Type",filter:"agSetColumnFilter",filterParams:{values:[0,1],valueMap:{0:"Physical Product",1:"Digital Product"},suppressAndOrCondition:!0,suppressMiniFilter:!0,suppressRemoveEntries:!0},type:["hiddenColumn"]});z.groupHidden.children.push({field:"hasParentASIN",headerName:"Variations",
filter:"customBooleanColumnFilter",filterParams:{applyButton:!0,newRowsAction:"keep",isCheckbox:!1,suppressAndOrCondition:!0},type:["hiddenColumn"]});z.groupHidden.children.push({field:"singleVariation",headerName:"Show only one variation per product",filter:"customBooleanColumnFilter",filterParams:{applyButton:!0,newRowsAction:"keep",isCheckbox:!0,suppressAndOrCondition:!0},type:["hiddenColumn"]});z.groupHidden.children.push({headerName:"Seller IDs",field:"sellerIds",filter:"agTextColumnFilter",
filterParams:{applyButton:!0,caseSensitive:!0,defaultOption:"isOneOf",filterOptions:["isOneOf"],newRowsAction:"keep",suppressAndOrCondition:!0},type:["hiddenColumn"]});z.groupHidden.children.push({headerName:"Allow products with possibly outdated price information to be included",field:"allowOutdatedOfferData",filter:"customBooleanColumnFilter",filterParams:{applyButton:!0,newRowsAction:"keep",isCheckbox:!0,suppressAndOrCondition:!0},type:["hiddenColumn"]});z.groupHidden.children.push({headerName:"Exclude sub categories",
field:"categories_exclude",filter:"customAutocompleteColumnFilter",filterParams:{applyButton:!0,caseSensitive:!0,filterOptions:["isNoneOf"],newRowsAction:"keep",suppressAndOrCondition:!0},type:["hiddenColumn"]});enableSubcategorySalesRankFilter&&(z.groupHidden.children.push({headerName:"Current",headerNameGroup:"Sales Rank # - Subcategory",field:"salesRankReference_current",filter:"agNumberColumnFilter",filterParams:{applyButton:!0,defaultOption:"lessThanOrEqual",filterOptions:["lessThanOrEqual",
"greaterThanOrEqual","inRange"],newRowsAction:"keep",suppressAndOrCondition:!0},type:["hiddenColumn"]}),z.groupHidden.children.push({headerName:"Sales Rank Subcategory",headerNameGroup:"Sales Rank # - Subcategory",field:"salesRankReference",filter:"customAutocompleteColumnFilter",filterParams:{applyButton:!0,caseSensitive:!0,defaultOption:"equals",filterOptions:[{displayKey:"equals",displayName:"equals",test:!0}],newRowsAction:"keep",suppressAndOrCondition:!0},type:["hiddenColumn"]}));r={};for(var w in z)r.$jscomp$loop$prop$id$695=
w,z[r.$jscomp$loop$prop$id$695].children?z[r.$jscomp$loop$prop$id$695].children.forEach(function(I){return function(C,V){z[I.$jscomp$loop$prop$id$695].children[V]=M(C)}}(r)):z[r.$jscomp$loop$prop$id$695]=M(z[r.$jscomp$loop$prop$id$695]),r={$jscomp$loop$prop$id$695:r.$jscomp$loop$prop$id$695};return z},p=function(){return{domainId:{headerName:"",field:"domainId",cellClass:"cell-icon",cellRenderer:GridHelper.cellRendererDomainId,icons:GridHelper.getIconsSortNumeric(),filter:!1,suppressMenu:!0,suppressSizeToFit:!0,
suppressToolPanel:!0,width:40},imagesCSV:{headerName:" ",field:"imagesCSV",cellClass:"cell-image",cellRenderer:GridHelper.cellRendererImage,cellRendererParams:{imageSize:35},filter:!1,suppressMenu:!0,suppressSizeToFit:!0,sortable:!1,width:39},title:{headerName:la._590,field:"title",cellRenderer:function(r){return'<a href="#!product/'+r.data.domainId+"-"+r.data.asin+'">'+GridHelper.defaultTextClamp(r.value,2)+"</a>"},filter:!1,suppressMenu:!0,minWidth:200},LIGHTNING_DEAL_current:{headerName:CsvType.getName(CsvType.LIGHTNING_DEAL.index)+
" - "+la._344,headerComponentParams:{template:GridHelper.getHeaderComponentTemplate('<i class="fa fa-circle" style="font-size: 7px;transform: translateY(-1px);color:'+CsvType.getObject(CsvType.LIGHTNING_DEAL.index).color+'" ></i> ',"")},field:"LIGHTNING_DEAL_current",cellClass:"cell-number cell-number-bold",type:["priceColumn"],filter:!1,suppressMenu:!0,width:153},LIGHTNING_DEAL_start:{headerName:la._648,field:"LIGHTNING_DEAL_start",type:["dateColumn"],cellRenderer:GridHelper.cellRendererDateTimeKeepaTime,
width:104,sort:"asc"},LIGHTNING_DEAL_last:{headerName:la._649+" "+la._650,field:"LIGHTNING_DEAL_last",type:["priceColumn"],filter:!1,suppressMenu:!0,width:185},LIGHTNING_DEAL_lastStart:{headerName:la._649,field:"LIGHTNING_DEAL_lastStart",type:["dateColumn"],cellRenderer:GridHelper.cellRendererDateAgo,width:118}}},v=function(){var r={template:GridHelper.getHeaderComponentTemplate("",'<i class="fa fa-info"></i>')};r={percentageWon:{headerName:"% won",headerTooltip:"Percentage the seller won the Buy Box",
headerComponentParams:r,field:"percentageWon",cellClass:"cell-number cell-number-last",comparator:GridHelper.comparatorNumberNullLast,icons:GridHelper.getIconsSortNumeric(),sort:"desc",valueFormatter:function(z){return 0>=z.value?"-":1>z.value?"<1%":parseInt(Math.round(z.value))+"%"},maxWidth:120,width:120},avgPrice:{headerName:"Avg. price",headerTooltip:"Average price of the Buy Box offer of this seller",headerComponentParams:r,field:"avgPrice",cellClass:"cell-number cell-number-last",comparator:GridHelper.comparatorNumberNullLast,
icons:GridHelper.getIconsSortNumeric(),valueFormatter:GridHelper.valueFormatterPrice,maxWidth:120,width:120},avgNewOfferCount:{headerName:"Avg. New Offer Count",headerTooltip:"Average New Offer Count during the time the seller held the Buy Box",headerComponentParams:r,field:"avgNewOfferCount",cellClass:"cell-number cell-number-last",comparator:GridHelper.comparatorNumberNullLast,icons:GridHelper.getIconsSortNumeric(),valueFormatter:function(z){return 0<=z.value?z.value:"-"},width:140},stock:{headerName:la._632,
field:"stock",type:["stockSingleColumn"]},groupSeller:{headerName:la._554,children:[{headerName:"Name",headerNameGroup:la._554,field:"sellerName",cellRenderer:function(z){return SellerUtil.getHtml(z.data.sellerId,z.data.domainId,z.value)},suppressSizeToFit:!1,minWidth:140,width:140},{headerName:"FBA",headerNameGroup:la._554,field:"isFBA",type:["booleanColumn"],width:54},{headerName:la._440,headerNameGroup:la._554,field:"currentRating",cellClass:"cell-number",cellRenderer:GridHelper.cellRendererRating,
comparator:GridHelper.comparatorNumberNullLast,icons:GridHelper.getIconsSortNumeric(),suppressSizeToFit:!0,valueFormatter:GridHelper.valueFormatterRatingPercentage,width:56},{headerName:la._441,headerNameGroup:la._554,field:"currentRatingCount",cellClass:"cell-number",cellRenderer:GridHelper.cellRendererRating,comparator:GridHelper.comparatorNumberNullLast,icons:GridHelper.getIconsSortNumeric(),suppressSizeToFit:!0,valueFormatter:GridHelper.valueFormatterRatingCount,width:92}]},lastSeen:{headerName:"Last won",
headerTooltip:"Last time the seller won the Buy Box",headerComponentParams:r,field:"lastSeen",type:["dateColumn"],cellRenderer:GridHelper.cellRendererDateTimeKeepaTime,width:120},lastSeenAgo:{headerName:"Last won (ago)",headerTooltip:"How long ago the seller won the Buy Box",headerComponentParams:r,field:"lastSeen",colId:"lastSeenAgo",type:["dateAgoColumn"]}};!0===disableStockFeatures&&delete r.stock;return r},E=function(){var r=function(w){var I="BUY_BOX_SHIPPING"===w?110:null;return{headerName:CsvType.getName(CsvType[w].index),
headerTooltip:CsvType.getName(CsvType[w].index),headerComponentParams:{template:GridHelper.getHeaderComponentTemplate('<i class="fa fa-circle" style="font-size: 7px;transform: translateY(-1px);color:'+CsvType.getObject(CsvType[w].index).color+'" ></i> ',"")},field:w+"_current",type:["priceColumn"],cellClass:function(C){return C.data&&C.data[w+"_isLowest"]?"cell-number cell-highlight":"cell-number"},suppressSizeToFit:!1,minWidth:I}};r={continentId:{headerName:"",field:"continentId",hide:!0,rowGroup:!0,
sort:"asc"},domainId:{headerName:"",field:"domainId",cellClass:"cell-icon",cellRenderer:function(w){return'<img title=".'+getTldByDomain(w.value)+'" src="'+flags[w.value]+'" style="margin-top:3px;">'},filter:!1,suppressMenu:!0,resizable:!1,suppressSizeToFit:!1,sortable:!1,width:30},BUY_BOX_SHIPPING:hasDataAccessSubscription?r("BUY_BOX_SHIPPING"):{},AMAZON_current:r("AMAZON"),NEW_current:r("NEW"),USED_current:r("USED"),linkAmazon:{headerName:"",field:"linkAmazon",cellClass:"cell-icon",cellRenderer:function(w){return w.value?
'<span style="display:inline-block;padding-top:1px;"><a class="gridExternalAmazon" href="'+w.value+'" target="_blank" style><i class="fa fa-amazon"></i></a></span>':""},filter:!1,sortable:!1,suppressMenu:!0,valueGetter:function(w){return getAmazonRedirectByDomain(w.data.domainId,w.data.asin)},tooltipValueGetter:function(w){return la._99+" Amazon"},suppressSizeToFit:!0,width:20},linkReviews:{headerName:"",field:"linkReviews",cellClass:"cell-icon cell-opaque",cellRenderer:function(w){return w.value?
'<a href="'+w.value+'" target="_blank" style><i class="fa fa-star"></i></a>':""},filter:!1,sortable:!1,suppressMenu:!0,valueGetter:function(w){return 0<w.data.COUNT_REVIEWS_current?"http://www.amazon."+getTldByDomain(w.data.domainId)+"/product-reviews/"+w.data.asin:""},tooltipValueGetter:function(w){return 0<w.data.COUNT_REVIEWS_current?la._939:null},suppressSizeToFit:!0,width:20},linkShipping:{headerName:"",field:"linkShipping",cellClass:"cell-icon cell-opaque",cellRenderer:function(w){return w.value?
'<a href="'+w.value+'" target="_blank" style><i class="fa fa-truck fa-flip-horizontal"></i></a>':""},filter:!1,sortable:!1,suppressMenu:!0,valueGetter:function(w){return LocaleType.getShippingInfoLink(w.data.domainId)},tooltipValueGetter:function(w){return LocaleType.getShippingInfoLink(w.data.domainId)?la._314:null},suppressSizeToFit:!0,width:20}};for(var z in r)0===Object.keys(r[z]).length&&delete r[z];return r},F=function(){for(var r={catId:{headerName:"Category ID",field:"catId",cellClass:"cell-number"},
links:{headerName:" ",field:"links",cellRenderer:function(I){if("undefined"===typeof I.data)return"";var C=I.data.parent,V={};C={f:(V[0===C?"rootCategory":"categories"]={filter:0===C?I.data.catId:I.data.catId+""},V),s:null,t:"g"};C=encodeURIComponent(JSON.stringify(C));V=getBaseUrl()+"#!finder/"+C;C=document.createElement("a");C.className="gridFinder";C.href=V;C.innerHTML='&ensp;<i class="fa fa-search"></i>';C.title='Search for "'+I.data.name1.replace(/"/g,"&quot;")+'" in our Product Finder';0===
I.data.productCount&&(C.style.visibility="hidden");V=document.createElement("a");V.className="gridBestseller";V.href=getBaseUrl()+"#!bestseller/"+I.data.domainId+"-"+I.data.catId;V.innerHTML='&ensp;<i class="fa fa-hashtag"></i>';V.title="Show Best Sellers List";0===I.data.productCount&&(V.style.visibility="hidden");var ca=document.createElement("a");ca.className="gridExternalAmazon";ca.href="https://www.amazon."+getTldByDomain(I.data.domainId)+"/b/?node="+I.data.catId;ca.innerHTML='&ensp;<i class="fa fa-amazon"></i>';
ca.target="_blank";ca.title=la._99+" Amazon";I=document.createElement("span");I.appendChild(C);I.appendChild(V);I.appendChild(ca);return I},width:70},productCount:{headerName:"Number of products",headerTooltip:"Estimate, as the value is from the Keepa product database and not retrieved from Amazon",headerComponentParams:{template:GridHelper.getHeaderComponentTemplate("",'<i class="fa fa-info"></i>')},field:"productCount",cellClass:"cell-number cell-number-last",valueFormatter:function(I){return null==
I.value?"-":NumberUtil.format(I.value)},width:135}},z=1;z<=GridCategoryTree.depth;z++){var w="name"+z;r[w]={field:w,rowGroup:!0,hide:!0}}return r},N=function(){var r=GridManage.pageConfig.activeViewMode===GridManage.viewModes.COMPACT,z=GridManage.pageConfig.activeViewMode===GridManage.viewModes.COMFORTABLE;z={imagesCSV:r?{headerName:"",field:"imagesCSV",cellClass:"cell-image cell-image-compact",cellEditor:"cellEditorMetaData",cellEditorParams:{ttlOptions:TrackingComponent.getTtlOptions(),ttlDefault:Number(storage.s_trackingTtl)},
cellRenderer:function(C){if(C.data.isDeleted)return"";var V=C.data.product.imagesCSV;if("undefined"===typeof V)return"";var ca=document.createElement("div"),aa=imageToUrl(V,41),ta=V?V.split(",")[0]:"";V=document.createElement("img");V.width=41;V.height=41;V.src=aa?aa:imgCDNUrl+"no-photo-available.png";V.style.height="41px";V.style.width="41px";aa||(V.alt="No image available");aa&&ProductImageHover.preview.add_events(V,ta);aa=document.createElement("div");aa.appendChild(V);ca.appendChild(aa);aa=document.createElement("div");
if(C.data.conditionsMet.length){V=document.createElement("span");V.className="check";V.innerHTML='<i class="fa fa-check fa-lg"></i>';V.title=la._87+":\n";ta=$jscomp.makeIterator(C.data.conditionsMet);for(var sa=ta.next();!sa.done;sa=ta.next())sa=sa.value,V.title+="."+getTldByDomain(sa.domainId)+": "+CsvType.getName(sa.csvTypeIndex)+"\n";aa.appendChild(V)}C.data.tracking.expiresSoon&&(C=GridHelper.cellRendererDateSpan({value:C.data.tracking.expiresOn}),C=C.replace(/\s\s+/g," "),V=document.createElement("span"),
V.className="check",V.innerHTML='<i class="fa fa-clock-o fa-lg"></i>',V.title=la._882+":"+C+"\n"+la._806,aa.appendChild(V));ca.appendChild(aa);return ca},editable:function(C){return!0!==C.data.isDeleted&&C.data.tracking.expiresSoon},enableCellChangeFlash:!0,equals:function(){return!1},getQuickFilterText:function(C){return null},lockPosition:!0,lockVisible:!0,lockPinned:!0,pinned:"left",filter:!1,suppressKeyboardEvent:GridHelper.cellSuppressKeyboardEvent,suppressMenu:!0,suppressMovable:!0,resizable:!1,
suppressSizeToFit:!0,sortable:!1,suppressToolPanel:!0,valueSetter:GridHelper.valueSetterMetaData,minWidth:88,maxWidth:88,width:88}:{},metaData:{headerName:la._680,headerTooltip:la._680,headerComponent:"customResetHeader",field:"metaData",cellClass:"cell-meta",cellEditor:"cellEditorMetaData",cellEditorParams:{ttlOptions:TrackingComponent.getTtlOptions(),ttlDefault:Number(storage.s_trackingTtl)},cellRenderer:r?GridHelper.cellRendererMetaDataCompact:GridHelper.cellRendererMetaData,editable:function(C){return!0!==
C.data.isDeleted&&C.data.tracking.expiresSoon},enableCellChangeFlash:!0,equals:function(){return!1},getQuickFilterText:function(C){return null},lockPosition:!0,lockVisible:!0,lockPinned:!0,pinned:"left",filter:!1,suppressKeyboardEvent:GridHelper.cellSuppressKeyboardEvent,suppressMenu:!0,suppressMovable:!0,resizable:!1,suppressSizeToFit:!0,sortable:!1,suppressToolPanel:!0,valueSetter:GridHelper.valueSetterMetaData,minWidth:r?120:155,maxWidth:r?120:155,width:r?120:155},productTitle:r?{headerName:la._676,
field:"title",cellRenderer:function(C){if(C.data.isDeleted)return"";var V=Math.max(2,C.data.multiLocaleProductsReduced.length),ca="";"Firefox"===browserInfo().name&&(ca=' style="height:'+16*V+'px;display:block;overflow:hidden;"');return"<div"+ca+'><a class="href" href="#!product/'+C.data.domainId+"-"+C.data.asin+'">'+GridHelper.defaultTextClamp(C.value,V)+"</a></div>"},cellClass:"cell-text-compact",equals:function(){return!1},valueGetter:function(C){return C.data.product.title},lockPinned:!1,suppressSizeToFit:!0,
minWidth:140,maxWidth:400,width:200}:{},groupSales:Y("SALES"),groupRating:Y("RATING"),groupCountReviews:Y("COUNT_REVIEWS"),groupAmazon:Y("AMAZON"),groupNew:Y("NEW"),groupNewFBA:Y("NEW_FBA"),groupNewFBMShipping:Y("NEW_FBM_SHIPPING"),groupUsed:Y("USED"),groupListprice:Y("LISTPRICE"),groupLightningDeal:Y("LIGHTNING_DEAL"),groupWarehouse:Y("WAREHOUSE"),groupCollectable:Y("COLLECTIBLE"),groupRefurbished:Y("REFURBISHED"),groupCountNew:Y("COUNT_NEW"),groupCountUsed:Y("COUNT_USED"),groupCountRefurbished:Y("COUNT_REFURBISHED"),
groupCountCollectible:Y("COUNT_COLLECTIBLE"),groupBuyBoxShipping:Y("BUY_BOX_SHIPPING"),groupUsedNewShipping:Y("USED_NEW_SHIPPING"),groupUsedVeryGoodShipping:Y("USED_VERY_GOOD_SHIPPING"),groupUsedGoodShipping:Y("USED_GOOD_SHIPPING"),groupUsedAcceptableShipping:Y("USED_ACCEPTABLE_SHIPPING"),groupCollectibleNewShipping:Y("COLLECTIBLE_NEW_SHIPPING"),groupCollectibleVeryGoodShipping:Y("COLLECTIBLE_VERY_GOOD_SHIPPING"),groupCollectibleGoodShipping:Y("COLLECTIBLE_GOOD_SHIPPING"),groupCollectibleAcceptableShipping:Y("COLLECTIBLE_ACCEPTABLE_SHIPPING"),
groupRefurbishedShipping:Y("REFURBISHED_SHIPPING"),groupEbayNewShipping:Y("EBAY_NEW_SHIPPING"),groupEbayUsedShipping:Y("EBAY_USED_SHIPPING"),groupTradeIn:Y("TRADE_IN"),trackingCreateDate:{headerName:la._197,headerTooltip:la._197,field:"trackingCreateDate",cellClass:r?"cell-text-compact":null,getQuickFilterText:function(C){return null},lockPinned:!0,valueGetter:function(C){return C.data.isDeleted?-2:C.data.tracking.createDate},type:["dateAgoColumn"],suppressSizeToFit:!1,minWidth:120,width:120},trackingExpiresOn:{headerName:la._882,
headerTooltip:la._882,field:"trackingExpiresOn",type:["dateAgoColumn"],cellClass:r?"cell-text-compact":null,cellRenderer:GridHelper.cellRendererDateSpan,comparator:GridHelper.comparatorNumberNullLast,getQuickFilterText:function(C){return null},lockPinned:!0,valueGetter:function(C){return C.data.isDeleted?-2:C.data.tracking.expiresOn},suppressSizeToFit:!1,minWidth:120,width:120},tags:P("tags"),memo:P("memo"),wishListNameInfo:z?{}:{headerName:la._419,headerTooltip:la._419,field:"wishListNameInfo",cellClass:"cell-text-compact cell-wrap",
cellRenderer:function(C){if(C.data.isDeleted||!C.data.tracking.wishListId)return"";var V=r?Math.max(2,C.data.multiLocaleProductsReduced.length):1,ca=C.data.wishLists,aa=C.data.tracking.wishListId;return ca[aa]?'<a href="'+getAmazonWishListUrl(ca[aa])+'" target="_blank">'+GridHelper.defaultTextClamp(C.value,V)+"</a>":""+GridHelper.defaultTextClamp(C.value,V)},getQuickFilterText:function(C){return null},lockPinned:!0,valueGetter:function(C){return C.data.product.wishListName},filter:!1,suppressMenu:!0,
suppressSizeToFit:!1,minWidth:120,width:120},productGroup:{headerName:"Product Group",field:"productGroup",cellClass:r?"cell-text-compact cell-wrap":"cell-wrap",filter:"agSetColumnFilter",filterParams:{cellHeight:22,suppressAndOrCondition:!0,suppressMiniFilter:!0,suppressRemoveEntries:!0},valueGetter:function(C){return C.data.product.productGroup},suppressSizeToFit:!0,type:["manageVariationColumn"],width:114},color:{headerName:la._591,field:"color",cellClass:r?"cell-text-compact cell-wrap":"cell-wrap",
type:["manageVariationColumn"]},size:{headerName:la._592,field:"size",cellClass:r?"cell-text-compact cell-wrap":"cell-wrap",type:["manageVariationColumn"]},edition:{headerName:la._593,field:"edition",cellClass:r?"cell-text-compact cell-wrap":"cell-wrap",type:["manageVariationColumn"]},format:{headerName:la._595,field:"format",cellClass:r?"cell-text-compact cell-wrap":"cell-wrap",type:["manageVariationColumn"]},title:r?{}:{headerName:"Title",field:"title",getQuickFilterText:function(C){var V=[C.value];
if(C.data.multiLocaleProductsReduced.length){C=$jscomp.makeIterator(C.data.multiLocaleProductsReduced);for(var ca=C.next();!ca.done;ca=C.next())V.push(ca.value.title)}return V},valueGetter:function(C){return C.data.product.title},type:["hiddenColumn"]},multiDomainIds:{headerName:la._203,field:"multiDomainIds",filter:"agSetColumnFilter",filterParams:{cellHeight:22,suppressAndOrCondition:!0,suppressRemoveEntries:!0,selectAllOnMiniFilter:!0},type:["hiddenColumn"]},rootCategoryName:{headerName:"Root category",
field:"rootCategoryName",filter:"agSetColumnFilter",filterParams:{cellHeight:22,suppressAndOrCondition:!0,suppressRemoveEntries:!0,selectAllOnMiniFilter:!0},valueGetter:function(C){return C.data.product.rootCategory>invalidIfLargerCatId?"-":C.context.categoryHashMap[C.data.product.rootCategory]},type:["hiddenColumn"]},conditionsMet:{headerName:la._87,field:"conditionsMet",filter:"agSetColumnFilter",filterParams:{cellHeight:22,suppressAndOrCondition:!0,suppressRemoveEntries:!0,selectAllOnMiniFilter:!0},
valueGetter:function(C){return C.data.conditionsMet.length?la._88:la._89},type:["hiddenColumn"]},csvTypesWithTracking:{headerName:"Active price trackings",field:"csvTypesWithTracking",filter:"agSetColumnFilter",filterParams:{cellHeight:22,suppressAndOrCondition:!0,suppressRemoveEntries:!0,selectAllOnMiniFilter:!0},valueGetter:function(C){return C.data.product.csvTypesWithTracking.map(function(V){return CsvType.getName(CsvType[V].index)})},type:["hiddenColumn"]},trackingTypes:{headerName:"Tracking type",
field:"trackingTypes",filter:"agSetColumnFilter",filterParams:{cellHeight:22,suppressAndOrCondition:!0,suppressRemoveEntries:!0,selectAllOnMiniFilter:!0},valueGetter:function(C){var V=[];C.data.product.hasPriceDropTracking&&V.push(la._711);C.data.product.hasPriceIncreaseTracking&&V.push(la._712);return V},type:["hiddenColumn"]},wishListName:{headerName:la._419,field:"wishListName",filter:"agSetColumnFilter",filterParams:{cellHeight:22,suppressAndOrCondition:!0,suppressRemoveEntries:!0,selectAllOnMiniFilter:!0},
valueGetter:function(C){return C.data.product.wishListName},type:["hiddenColumn"]},expiresSoon:{headerName:la._889.replace("!",""),field:"expiresSoon",filter:"agSetColumnFilter",filterParams:{cellHeight:22,suppressAndOrCondition:!0,suppressRemoveEntries:!0,selectAllOnMiniFilter:!0},valueGetter:function(C){return C.data.tracking.expiresSoon?la._254:la._255},type:["hiddenColumn"]},maxDelta:{field:"MAX_delta",comparator:GridHelper.comparatorNumberArrayNullLast,valueGetter:GridHelper.valueGetterTracking,
sortingOrder:["desc","asc",null],type:["hiddenColumn"]},maxDeltaCustom:{field:"MAX_deltaCustom",comparator:GridHelper.comparatorNumberArrayNullLast,valueGetter:GridHelper.valueGetterTracking,sortingOrder:["desc","asc",null],type:["hiddenColumn"]},maxDeltaTrackingCreated:{field:"MAX_deltaTrackingCreated",comparator:GridHelper.comparatorNumberArrayNullLast,valueGetter:GridHelper.valueGetterTracking,sortingOrder:["desc","asc",null],type:["hiddenColumn"]},maxLastPriceChange:{field:"MAX_lastPriceChange",
comparator:GridHelper.comparatorNumberArrayOnlyFirstNullLast,valueGetter:GridHelper.valueGetterTrackingNonCsvArray,sortingOrder:["desc","asc",null],type:["hiddenColumn"]},trackingID:{headerName:"Tracking ID",field:"trackingID",valueGetter:function(C){return C.data.asin},type:["hiddenColumn"]},asin:{headerName:"ASIN",field:"asin",getQuickFilterText:function(C){return C.data.asin},valueGetter:function(C){return C.data.asin},type:["hiddenColumn"]},domainId:{headerName:la._203,field:"domainId",type:["hiddenColumn"]},
currency:{headerName:la._685,field:"currency",valueGetter:function(C){return getCurrencyCodeByDomain(C.data.domainId)},type:["hiddenColumn"]},lastUpdate:{headerName:la._540,field:"lastUpdate",valueGetter:function(C){C=Date.now()/6E4-(C.data.product.lastUpdate+60*offsetHours);return prettyDate(C)},type:["hiddenColumn"]},lastPriceChange:{headerName:la._532,field:"lastPriceChange",valueGetter:function(C){C=Date.now()/6E4-(C.data.product.lastPriceChange+60*offsetHours);return prettyDate(C)},type:["hiddenColumn"]},
internalHref:{headerName:"Keepa URL",field:"internalHref",valueGetter:function(C){return"https://keepa.com/#!product/"+C.data.domainId+"-"+C.data.asin},type:["hiddenColumn"]},externalHref:{headerName:"Amazon URL",field:"externalHref",valueGetter:function(C){return"https://www.amazon."+getTldByDomain(C.data.domainId)+"/dp/"+C.data.asin},type:["hiddenColumn"]}};var w={},I;for(I in z)z[I].children?(w.$jscomp$loop$prop$keepChildren$697=[],z[I].children.forEach(function(C){return function(V,ca){0<Object.keys(V).length&&
C.$jscomp$loop$prop$keepChildren$697.push(V)}}(w)),z[I].children=w.$jscomp$loop$prop$keepChildren$697):0===Object.keys(z[I]).length&&delete z[I],w={$jscomp$loop$prop$keepChildren$697:w.$jscomp$loop$prop$keepChildren$697};return z},K=function(){var r=GridManage.pageConfig.activeViewMode===GridManage.viewModes.DEFAULT;return{imagesCSV:{headerName:la._589,field:"imagesCSV",cellClass:r?"cell-image cell-image-default":"cell-image",cellRenderer:function(z){if(z.data.isDeleted)return"";var w=z.data.detailsPerDomain[z.data.detailDomainId],
I=w.imagesCSV;if("undefined"===typeof I)return"";var C=document.createElement("div"),V=r?90:135,ca=imageToUrl(I,V),aa=I?I.split(",")[0]:"";I=document.createElement("img");I.width=V;I.height=V;I.src=ca?ca:imgCDNUrl+"no-photo-available.png";I.style.height=V+"px";I.style.width=V+"px";ca||(I.alt="No image available");ca&&ProductImageHover.preview.add_events(I,aa);V=document.createElement("div");V.appendChild(I);C.appendChild(V);if(z.data.conditionsMet.length){V=document.createElement("span");V.className=
"check";V.innerHTML='<i class="fa fa-check fa-2x"></i>';V.title=la._87+":\n";z=$jscomp.makeIterator(z.data.conditionsMet);for(ca=z.next();!ca.done;ca=z.next())ca=ca.value,V.title+="."+getTldByDomain(ca.domainId)+": "+CsvType.getName(ca.csvTypeIndex)+"\n";C.appendChild(V)}z=document.createElement("a");z.href=getAmazonRedirectByDomain(w.domainId,w.asin);z.innerHTML='<img src="'+imgCDNUrl+"amazon/small/"+getTldByDomain(w.domainId)+'.png">';z.className="amazonLink";z.target="_blank";z.title=la._99+" Amazon";
ca=keepaTime.now();V=!1;if(0>=w.lastEbayUpdate||0<w.lastEbayUpdate&&20160<ca-w.lastEbayUpdate)V=!0;ca=document.createElement("a");ca.href=getEbayRedirectByDomain(w.domainId,w.asin,!0);ca.innerHTML="ebay";ca.className="ebayLink";ca.style.color=V?"#aaaaaa":"#666666";ca.target="_blank";ca.title=V?"unverified if sold on ebay":la._99+" eBay";V=document.createElement("div");V.appendChild(z);globalEbayArray[w.domainId]&&V.appendChild(ca);C.appendChild(V);return C},equals:function(){return!1},filter:!1,suppressMenu:!0,
suppressMovable:!0,resizable:!1,suppressSizeToFit:!0,sortable:!1,width:155},graphData:{field:"graphData",cellClass:"cell-graph",cellRenderer:function(z){if(z.data.isDeleted)return"";var w=z.data.detailsPerDomain[z.data.detailDomainId],I=z.data.wishLists,C=w.graphData,V=w.title,ca=w.asin,aa=w.domainId,ta=document.createElement("div"),sa=document.createElement("div");sa.className="head";r&&(sa.className+=" head-default");var ea=document.createElement("a");ea.className="href";ea.href="#!product/"+aa+
"-"+ca;ea.innerHTML=""+V;ea.title=""+escapeHTML(V);sa.appendChild(ea).insertAdjacentHTML("beforebegin",'<img class="flag" title="'+getTldByDomain(aa)+'" src="'+flags[aa]+'" />&emsp;');ta.appendChild(sa);r||(V=document.createElement("div"),V.className="info",sa=Date.now()/6E4-(w.lastUpdate+60*offsetHours),w=Date.now()/6E4-(w.lastPriceChange+60*offsetHours),ea=document.createElement("span"),ea.innerHTML="("+la._123+prettyDate(sa)+", "+la._532+": "+prettyDate(w)+")",V.appendChild(ea),w=C.tracking.wishListId,
I[w]&&(sa=document.createElement("span"),sa.innerHTML=la._558+': <a href="'+getAmazonWishListUrl(I[w])+'">'+I[w].name+"</a>",V.appendChild(sa).insertAdjacentHTML("beforebegin","&emsp;|&emsp;")),ta.appendChild(V));I="historyGraphCache"+aa;z.data[I]||(V=$("<div/>",{id:"graph-historyGraph-"+aa+"-"+ca,class:"graph",style:"line-height: 12px"}),w=$("<div/>",{style:"visibility: hidden;"}),w.append(V),$("body").append(w),aa=graph.prepare(aa),aa.asin=ca,aa.buyBoxSellerIdHistory=C.buyBoxSellerIdHistory,aa.csv=
C.csv,aa.offers=C.offers,aa.stats=getStatistics(C),aa.graphIndex=0,aa.isOnTrackingPage=!0,aa.showOnlyTracked=r,aa.$container=V,aa.$container.show(),aa.parameter.tracking=C.tracking,aa.parameter.height="110px",aa.parameter.width=z.column.actualWidth-10-(aa.showOnlyTracked?140:215)+"px",aa.parameter.interval=GridManage.pageConfig.graphRange,graph.create(aa),w.detach(),z.data.isEmptyGraph=aa.showOnlyTracked&&0===Object.keys(aa.data).length,z.data[I]=V.get(0));ta.appendChild(z.data[I]);z.data.isEmptyGraph&&
(z=document.createElement("span"),z.style.color="#7d7d7d",z.style.fontSize="11px",z.style.position="relative",z.style.top="-12px",z.innerHTML='<i class="fa fa-exclamation"></i>&ensp;'+la._716,ta.appendChild(z));return ta},equals:function(){return!1},minWidth:720,width:Math.max(720,window.innerWidth-275),filter:!1,suppressMenu:!0,suppressMovable:!0,resizable:!1,suppressSizeToFit:!1,sortable:!1}}},J=function(){var r={offerCSV:{headerName:la._634,field:"offerCSV",cellClass:"cell-number",cellRenderer:GridHelper.cellRendererOfferCSV,
comparator:GridHelper.comparatorNumberNullLast,icons:GridHelper.getIconsSortNumeric(),pinnedRowCellRenderer:function(z){var w=Money.format(z.data.offerCSV,{sourceDomainId:z.data.domainId}),I="";showReferencePrice(z.data.domainId)&&(I=Money.format(z.data.offerCSV,{sourceDomainId:z.data.domainId,targetDomainId:z.data.domainId}),I='<span style="color:#ccc">'+I+"</span>&ensp;");return"<span>"+la._385+"</span><br>"+I+w},sort:"asc",lockVisible:!0,valueGetter:function(z){var w=z.node.rowPinned?z.data.offerCSV:
z.data.offerCSV?z.data.offerCSV[z.data.offerCSV.length-2]+z.data.offerCSV[z.data.offerCSV.length-1]:-1;return 0>w?null:w=Money.raw(w,{sourceDomainId:z.data.domainId})},minWidth:186,width:186},externalLink:{headerName:"",field:"externalLink",cellClass:"cell-icon",cellRenderer:function(z){z=z.data;return'<a href="https://www.amazon.'+(getTldByDomain(z.domainId)+"/dp/"+z.asin+"/?m="+z.sellerId+'&psc=1" target="_blank"><i class="fa fa-external-link"></i></a>')},pinnedRowCellRenderer:GridHelper.cellRendererEmpty,
sortable:!1,suppressToolPanel:!0,width:50},condition:{headerName:la._553,field:"condition",cellRenderer:function(z){return z.value?GridHelper.defaultTextClamp(z.value,2):""},pinnedRowCellRenderer:GridHelper.cellRendererEmpty,valueGetter:function(z){return ConditionType.getName(z.data.condition)},minWidth:72,width:72},priceHistory:{headerName:"Price History",field:"priceHistory",type:["graphColumn"],cellRenderer:function(z){return GridHelper.cellRendererGraph(z,"price",z.data.offerId,graph.insertOfferGraph,
z.data.priceHistory?z.data.priceHistory:z.data.ageInHours)},minWidth:200,maxWidth:200,resizable:!1},groupStock:{headerName:la._632,children:[{headerName:la._632,headerNameGroup:la._632,field:"stockCSV",cellClass:"cell-number",cellRenderer:function(z){return null==z.value?"?":""+z.value+(z.data.stockIsMax?"+":"")},comparator:GridHelper.comparatorNumberNullLast,icons:GridHelper.getIconsSortNumeric(),pinnedRowCellRenderer:function(z){return"undefined"===typeof z.value||null==z.value?"":"<span>Stock Total</span><br>"+
z.value+(z.data.stockHasMax?"+":"")},suppressSizeToFit:!0,valueGetter:function(z){return z.node.rowPinned?z.data.stockCSV:z.data.stock},width:80},{headerName:"Sold",headerTooltip:la._659,headerNameGroup:la._632,headerComponentParams:{template:GridHelper.getHeaderComponentTemplate("",'<i class="fa fa-info"></i>')},field:"sold",cellClass:"cell-number",cellRenderer:function(z){z=z.value;return-1==z?"?":"~"+z},comparator:GridHelper.comparatorNumberNullLast,icons:GridHelper.getIconsSortNumeric(),pinnedRowCellRenderer:function(z){return"<span>Total</span><br>~"+
z.value},suppressSizeToFit:!0,valueGetter:function(z){return z.node.rowPinned?z.data.totalSold:z.data.sold},width:60},{headerName:"Sold 30 days",headerNameGroup:la._632,field:"sold30Day",cellClass:"cell-number",cellRenderer:function(z){return-1==z.value?"?":"~"+z.value},comparator:GridHelper.comparatorNumberNullLast,icons:GridHelper.getIconsSortNumeric(),pinnedRowCellRenderer:function(z){return"<span>Total</span><br>~"+z.value},suppressSizeToFit:!0,valueGetter:function(z){return z.node.rowPinned?
z.data.totalSold30Day:z.data.sold30Day},width:90},{headerName:"Stock History",headerNameGroup:la._632,field:"stockHistory",type:["graphColumn"],cellRenderer:function(z){return GridHelper.cellRendererGraph(z,"stock",z.data.offerId,graph.insertOfferGraph,z.data.stockHistory?z.data.stockHistory:z.data.ageInHours)}}]},isPrime:{headerName:la._619,headerTooltip:la._620,field:"isPrime",type:["booleanColumn"],width:54},isFBA:{headerName:"FBA",headerTooltip:"Whether or not this offer is fulfilled by Amazon.",
field:"isFBA",type:["booleanColumn"],width:54},groupSeller:{headerName:la._554,children:[{headerName:"Name",headerNameGroup:la._554,field:"sellerName",cellRenderer:function(z){z=z.data;return SellerUtil.getHtml(z.sellerId,z.domainId,z.sellerName,null,!0)},pinnedRowCellRenderer:GridHelper.cellRendererEmpty,minWidth:140,width:140},{headerName:la._440,headerNameGroup:la._554,field:"sellerCurrentRating",cellClass:"cell-number",cellRenderer:GridHelper.cellRendererRating,comparator:GridHelper.comparatorNumberNullLast,
icons:GridHelper.getIconsSortNumeric(),pinnedRowCellRenderer:GridHelper.cellRendererEmpty,suppressSizeToFit:!0,valueFormatter:GridHelper.valueFormatterRatingPercentage,width:56},{headerName:la._441,headerNameGroup:la._554,field:"sellerCurrentRatingCount",cellClass:"cell-number",cellRenderer:GridHelper.cellRendererRating,comparator:GridHelper.comparatorNumberNullLast,icons:GridHelper.getIconsSortNumeric(),pinnedRowCellRenderer:GridHelper.cellRendererEmpty,suppressSizeToFit:!0,valueFormatter:GridHelper.valueFormatterRatingCount,
width:92}]},lastSeen:{headerName:la._635,field:"lastSeen",type:["dateAgoColumn"]},firstSeen:{headerName:la._636,field:"firstSeen",type:["dateAgoColumn"],valueGetter:function(z){return z.data.offerCSV[0]}},conditionComment:{headerName:la._24,field:"conditionComment",cellRenderer:function(z){return z.value?GridHelper.defaultTextClamp(z.value,6):""},pinnedRowCellRenderer:GridHelper.cellRendererEmpty,suppressMenu:!0,minWidth:300,width:300},isWarehouseDeal:{headerName:la._626,field:"isWarehouseDeal",type:["booleanColumn"],
width:104},isScam:{headerName:la._627,headerTooltip:la._628,field:"isScam",type:["booleanColumn"],cellRenderer:function(z){return z.value?'<i title="'+la._628+'" style="color:#f00 !important;font-size: 21px !important;" class="fa fa-exclamation-triangle"></i>':""},width:98},isMAP:{headerName:la._622,headerTooltip:la._623,field:"isMAP",type:["booleanColumn"],width:58},isAmazon:{headerName:la._629,headerTooltip:la._630,field:"isAmazon",type:["booleanColumn"],width:104},isPrimeExcl:{headerName:la._631,
field:"isPrimeExcl",type:["booleanColumn"],width:102},isShippable:{headerName:la._621,field:"isShippable",type:["booleanColumn"],width:72},isAddonItem:{headerName:la._624,field:"isAddonItem",type:["booleanColumn"],width:86},isPreorder:{headerName:la._625,field:"isPreorder",type:["booleanColumn"],width:72}};!0===disableStockFeatures?delete r.groupStock:!0===disableSoldNumbers&&(r.groupStock.children=r.groupStock.children.filter(function(z){return"sold"!==z.field&&"sold30Day"!==z.field}));return r},
U=function(){return{productKey:{headerName:"Details",field:"productKey",cellClass:"cell-wrap",cellRenderer:"cellRendererAutoHeightRow",filter:!1,suppressMenu:!0,resizable:!1,suppressSizeToFit:!0,sortable:!1,width:170},productValue:{headerName:"",field:"productValue",cellClass:"cell-wrap",cellRenderer:"cellRendererAutoHeightRow",filter:!1,suppressMenu:!0,resizable:!1,suppressSizeToFit:!0,sortable:!1,valueFormatter:function(r){return r.data.productValueFormatted},width:320}}},R=function(){return{productKey:{headerName:la._344+
" & "+la._385,field:"productKey",cellRenderer:function(r){return r.valueFormatted?r.valueFormatted:r.value},filter:!1,suppressMenu:!0,resizable:!1,suppressSizeToFit:!0,sortable:!1,width:230},productValue:{headerName:"",field:"productValue",cellClass:function(r){return r.data.cellClass},cellRenderer:function(r){return r.data.realCellRenderer(r)},filter:!1,suppressMenu:!0,resizable:!1,suppressSizeToFit:!0,sortable:!1,valueFormatter:function(r){return r.data.productValueFormatted},width:140}}},S=function(){return{rank:{headerName:" ",
field:"rank",cellClass:"cell-number",icons:GridHelper.getIconsSortNumeric(),sort:"asc",suppressMenu:!0,suppressSizeToFit:!0,suppressToolPanel:!0,width:64},sellerName:{headerName:"Name",field:"sellerName",cellRenderer:function(r){return SellerUtil.getHtml(r.data.sellerId,r.data.domainId,r.value)},lockVisible:!0,minWidth:100},currentRating:{headerName:la._440,field:"currentRating",cellClass:"cell-number",cellRenderer:GridHelper.cellRendererRating,comparator:GridHelper.comparatorNumberNullLast,filter:"agNumberColumnFilter",
icons:GridHelper.getIconsSortNumeric(),suppressSizeToFit:!0,valueFormatter:GridHelper.valueFormatterRatingPercentage,width:76},groupRatingCount:{headerName:la._441,children:[{headerName:"Total",headerNameGroup:la._441,field:"currentRatingCount",cellClass:"cell-number",cellRenderer:GridHelper.cellRendererRating,comparator:GridHelper.comparatorNumberNullLast,filter:"agNumberColumnFilter",icons:GridHelper.getIconsSortNumeric(),suppressSizeToFit:!0,valueFormatter:GridHelper.valueFormatterRatingCount,
width:70},{headerName:"Last 30 Days",headerNameGroup:la._441,field:"ratingsLast30Days",cellClass:"cell-number",cellRenderer:GridHelper.cellRendererRating,comparator:GridHelper.comparatorNumberNullLast,filter:"agNumberColumnFilter",icons:GridHelper.getIconsSortNumeric(),suppressSizeToFit:!0,valueFormatter:GridHelper.valueFormatterRatingCount,width:108}]},hasFBA:{headerName:"Uses FBA",field:"hasFBA",type:["booleanColumn"],width:72},totalStorefrontAsins:{headerName:"Verified Listings",field:"totalStorefrontAsins",
cellClass:"cell-number",comparator:GridHelper.comparatorNumberNullLast,filter:"agNumberColumnFilter",icons:GridHelper.getIconsSortNumeric(),suppressSizeToFit:!0,valueFormatter:function(r){return null==r.value?"-":NumberUtil.format(r.value)},valueGetter:function(r){var z=null;r.data.totalStorefrontAsins&&2==r.data.totalStorefrontAsins.length&&(z=r.data.totalStorefrontAsins[1]);if(null==z||0===z)z=null!=r.data.totalProductCountFromStatistics?r.data.totalProductCountFromStatistics:z;return z},minWidth:104,
width:104},topCategory:{headerName:"Selling primarily",field:"topCategory",cellRenderer:function(r){if(null==r.value)return"-";var z={f:{rootCategory:{filter:r.data.topCategory},sellerIds:{filter:r.data.sellerId,type:"isOneOf"}},s:null,t:"g"};r.data.topCategory>invalidIfLargerCatId&&delete z.f.rootCategory;z=encodeURIComponent(JSON.stringify(z));z=getBaseUrl()+"#!finder/"+z;var w=r.value,I=r.data.sellerName,C=document.createElement("div"),V=document.createElement("a");V.href=z;V.innerHTML=""+r.value;
V.title='Search for "'+I.replace(/\\"/g,"&quot;")+'"'+(w.length?' and "'+w.replace(/"/g,"&quot;")+'"':"")+" in our Product Finder";C.appendChild(V).insertAdjacentHTML("beforeend",' <span style="color:#999;">('+NumberUtil.format(r.data.topCategoryProductCountPercentage)+" %)</span>");return C},suppressSizeToFit:!1,minWidth:100,valueGetter:function(r){return"undefined"===typeof r.data.topCategory?null:GridHelperCategory.getName(r.data.domainId,r.data.topCategory)},width:150},sellerId:{headerName:la._618,
field:"sellerId",cellClass:"cell-id",suppressSizeToFit:!0,width:126}}},fa=function(){return{catName:{headerName:"Brand",field:"brand",cellRenderer:function(r){if(null==r.value)return"-";var z=encodeURIComponent(JSON.stringify({f:{brand:{filter:r.value,type:"isOneOf"},sellerIds:{filter:r.context.data.sellerId,type:"isOneOf"}},s:null,t:"g"}));z=getBaseUrl()+"#!finder/"+z;var w=r.value,I=r.context.data.sellerName,C=document.createElement("div"),V=document.createElement("a");V.href=z;V.innerHTML=""+r.value;
V.title='Search for "'+I.replace(/\\"/g,"&quot;")+'" and "'+w.replace(/"/g,"&quot;")+'" in our Product Finder';C.appendChild(V);return C},suppressSizeToFit:!1,width:280},productCountPercentage:{headerName:"Listings",field:"productCountPercentage",sort:"desc",type:["numberColumn"],valueFormatter:function(r){return NumberUtil.format(r.value,2)+" %"},width:85},productCountWithAmazonOfferPercentage:{headerName:"Listings with Amazon offer",field:"productCountWithAmazonOfferPercentage",type:["numberColumn"],
valueFormatter:function(r){return NumberUtil.format(r.value,2)+" %"},width:180},avg30SalesRank:{headerName:"30 days avg. sales rank",field:"avg30SalesRank",type:["numberColumn","numberSalesRankColumn"],width:150}}},qa=function(){return{catName:{headerName:"Category",field:"catName",cellRenderer:function(r){if(null==r.value)return"-";var z=encodeURIComponent(JSON.stringify({f:{rootCategory:{filter:r.data.catId},sellerIds:{filter:r.context.data.sellerId,type:"isOneOf"}},s:null,t:"g"}));z=getBaseUrl()+
"#!finder/"+z;var w=r.value,I=r.context.data.sellerName,C=document.createElement("div"),V=document.createElement("a");V.href=z;V.innerHTML=""+r.value;V.title='Search for "'+I.replace(/\\"/g,"&quot;")+'" and "'+w.replace(/"/g,"&quot;")+'" in our Product Finder';C.appendChild(V);return C},suppressSizeToFit:!1,width:280},productCountPercentage:{headerName:"Listings",field:"productCountPercentage",sort:"desc",type:["numberColumn"],valueFormatter:function(r){return NumberUtil.format(r.value,2)+" %"},width:85},
productCountWithAmazonOfferPercentage:{headerName:"Listings with Amazon offer",field:"productCountWithAmazonOfferPercentage",type:["numberColumn"],valueFormatter:function(r){return NumberUtil.format(r.value,2)+" %"},width:180},avg30SalesRank:{headerName:"30 days avg. sales rank",field:"avg30SalesRank",type:["numberColumn","numberSalesRankColumn"],width:150}}},oa=function(){return{imagesCSV:{headerName:la._589,field:"imagesCSV",cellClass:"cell-image",cellRenderer:GridHelper.cellRendererImage,cellRendererParams:{imageSize:99},
suppressSizeToFit:!0,sortable:!1,width:101},title:{headerName:la._590,field:"title",cellRenderer:function(r){return'<a href="#!product/'+r.data.domainId+"-"+r.data.asin+'">'+GridHelper.defaultTextClamp(r.value,6)+"</a>"},width:200},AMAZON_current:{headerName:CsvType.getName(CsvType.AMAZON.index),field:"AMAZON_current",type:["priceColumn"],minWidth:74,width:74},NEW_current:{headerName:CsvType.getName(CsvType.NEW.index),field:"NEW_current",type:["priceColumn"],minWidth:74,width:74},USED_current:{headerName:CsvType.getName(CsvType.USED.index),
field:"USED_current",type:["priceColumn"],minWidth:74,width:74},color:{headerName:la._591,field:"color",cellRenderer:function(r){return GridHelper.defaultTextClamp(r.value,6)},width:120},size:{headerName:la._592,field:"size",cellRenderer:function(r){return GridHelper.defaultTextClamp(r.value,6)},width:120},edition:{headerName:la._593,field:"edition",cellRenderer:function(r){return GridHelper.defaultTextClamp(r.value,6)},width:120},format:{headerName:la._595,field:"format",cellRenderer:function(r){return GridHelper.defaultTextClamp(r.value,
6)},width:120},asin:{headerName:"ASIN",field:"asin",cellClass:"cell-id",width:90}}},va=function(){var r={checkboxSelection:GridConfig.gridTypesWithCheckboxSelection.includes("variation")?{headerName:"",field:"checkboxSelection",checkboxSelection:!0,headerCheckboxSelection:!0,headerCheckboxSelectionFilteredOnly:!0,hide:!0,lockPinned:!0,pinned:"left",filter:!1,suppressMenu:!0,suppressSizeToFit:!0,sortable:!1,suppressToolPanel:!0,width:30}:{},imagesCSV:{headerName:la._589,field:"imagesCSV",cellClass:"cell-image",
cellRenderer:GridHelper.cellRendererImage,cellRendererParams:{imageSize:99},filter:!1,suppressMenu:!0,suppressSizeToFit:!0,sortable:!1,width:101},title:{headerName:la._590,field:"title",cellRenderer:function(I){var C="#!product/"+I.data.domainId+"-"+I.data.asin,V="";iframe.isIframe&&(C="http://www.amazon."+getTldByDomain(I.data.domainId)+"/dp/"+I.data.asin+"?psc=1",V=' target="_parent"');return'<a class="href" href="'+C+'"'+V+">"+GridHelper.defaultTextClamp(I.value,6)+"</a>"},lockVisible:!0,minWidth:100,
width:200},AMAZON_current:{headerName:CsvType.getName(CsvType.AMAZON.index),headerComponentParams:{template:GridHelper.getHeaderComponentTemplate('<i class="fa fa-circle" style="font-size: 7px;transform: translateY(-1px);color:'+CsvType.getObject(CsvType.AMAZON.index).color+'" ></i> ',"")},field:"AMAZON_current",type:["priceColumn"],sort:"asc"},NEW_current:{headerName:CsvType.getName(CsvType.NEW.index),headerComponentParams:{template:GridHelper.getHeaderComponentTemplate('<i class="fa fa-circle" style="font-size: 7px;transform: translateY(-1px);color:'+
CsvType.getObject(CsvType.NEW.index).color+'" ></i> ',"")},field:"NEW_current",type:["priceColumn"]},USED_current:{headerName:CsvType.getName(CsvType.USED.index),headerComponentParams:{template:GridHelper.getHeaderComponentTemplate('<i class="fa fa-circle" style="font-size: 7px;transform: translateY(-1px);color:'+CsvType.getObject(CsvType.USED.index).color+'" ></i> ',"")},field:"USED_current",type:["priceColumn"]},variationAttributes:{headerName:"Variation Attributes",field:"variationAttributes",
cellClass:"cell-flex",cellRenderer:function(I){var C="",V="";if(I=I.value){I=$jscomp.makeIterator(I);for(var ca=I.next();!ca.done;ca=I.next())ca=ca.value,C+="<i>"+ca.dimension+":</i>&emsp;<br>",V+=ca.value+"<br>"}return"<span>"+C+"</span><span>"+V+"</span>"},tooltipValueGetter:function(I){var C="";if(I=I.value){I=$jscomp.makeIterator(I);for(var V=I.next();!V.done;V=I.next())V=V.value,C+=V.dimension+": "+V.value+"; "}return C.trim()},filter:!1,suppressMenu:!0,suppressSizeToFit:!0,sortable:!1,width:160},
color:{headerName:la._591,field:"color",cellClass:"cell-wrap",cellRenderer:GridHelper.cellRendererTextFinder,suppressSizeToFit:!1,minWidth:80,width:120},size:{headerName:la._592,field:"size",cellClass:"cell-wrap",cellRenderer:GridHelper.cellRendererTextFinder,suppressSizeToFit:!1,minWidth:80,width:120},edition:{headerName:la._593,field:"edition",cellClass:"cell-wrap",cellRenderer:GridHelper.cellRendererTextFinder,suppressSizeToFit:!1,minWidth:80,width:120},format:{headerName:la._595,field:"format",
cellClass:"cell-wrap",cellRenderer:GridHelper.cellRendererTextFinder,suppressSizeToFit:!1,minWidth:80,width:120},groupReviews:GridHelperReviews.getColumnGroupReviewsFormatSpecific(),asin:{headerName:"ASIN",field:"asin",cellClass:"cell-id",filter:!1,suppressMenu:!0,suppressSizeToFit:!0,width:90},eanList:{headerName:"EAN",field:"eanList",type:["productCodeColumn"],cellRenderer:GridHelper.cellRendererProductCodeSingle},upcList:{headerName:"UPC",field:"upcList",type:["productCodeColumn"],cellRenderer:GridHelper.cellRendererProductCodeSingle},
COUNT_NEW_current:{headerName:CsvType.getName(CsvType.COUNT_NEW.index),headerComponentParams:{template:GridHelper.getHeaderComponentTemplate('<i class="fa fa-circle" style="font-size: 7px;transform: translateY(-1px);color:'+CsvType.getObject(CsvType.COUNT_NEW.index).color+'" ></i> ',"")},field:"COUNT_NEW_current",type:["offerCountColumn"],width:120},COUNT_USED_current:{headerName:CsvType.getName(CsvType.COUNT_USED.index),headerComponentParams:{template:GridHelper.getHeaderComponentTemplate('<i class="fa fa-circle" style="font-size: 7px;transform: translateY(-1px);color:'+
CsvType.getObject(CsvType.COUNT_USED.index).color+'" ></i> ',"")},field:"COUNT_USED_current",type:["offerCountColumn"],width:120},COUNT_REFURBISHED_current:{headerName:CsvType.getName(CsvType.COUNT_REFURBISHED.index),headerComponentParams:{template:GridHelper.getHeaderComponentTemplate('<i class="fa fa-circle" style="font-size: 7px;transform: translateY(-1px);color:'+CsvType.getObject(CsvType.COUNT_REFURBISHED.index).color+'" ></i> ',"")},field:"COUNT_REFURBISHED_current",type:["offerCountColumn"],
width:140},COUNT_COLLECTIBLE_current:{headerName:CsvType.getName(CsvType.COUNT_COLLECTIBLE.index),headerComponentParams:{template:GridHelper.getHeaderComponentTemplate('<i class="fa fa-circle" style="font-size: 7px;transform: translateY(-1px);color:'+CsvType.getObject(CsvType.COUNT_COLLECTIBLE.index).color+'" ></i> ',"")},field:"COUNT_COLLECTIBLE_current",type:["offerCountColumn"],width:140}},z={},w;for(w in r)r[w].children?(z.$jscomp$loop$prop$keepChildren$699=[],r[w].children.forEach(function(I){return function(C,
V){0<Object.keys(C).length&&I.$jscomp$loop$prop$keepChildren$699.push(C)}}(z)),r[w].children=z.$jscomp$loop$prop$keepChildren$699):0===Object.keys(r[w]).length&&delete r[w],z={$jscomp$loop$prop$keepChildren$699:z.$jscomp$loop$prop$keepChildren$699};return r},ka=function(){for(var r=la._557+" & "+la._981,z={headerName:r,children:[{headerName:la._557,headerNameGroup:r,field:"description",cellRenderer:GridHelper.cellRendererDescription,minWidth:140,width:200,hide:!0}]},w={$jscomp$loop$prop$i$701:0};5>
w.$jscomp$loop$prop$i$701;w={$jscomp$loop$prop$i$701:w.$jscomp$loop$prop$i$701},w.$jscomp$loop$prop$i$701++)z.children.push({headerName:la._982+" "+(w.$jscomp$loop$prop$i$701+1),headerNameGroup:r,field:"feature"+w.$jscomp$loop$prop$i$701,cellRenderer:function(I){return function(C){return GridHelper.cellRendererFeatures(C,I.$jscomp$loop$prop$i$701)}}(w),minWidth:140,width:200,hide:!0});return z},ma=function(r,z,w){var I=CsvType[r].index,C=CsvType.getName(I),V="SALES"===r?["salesRankColumn"]:["priceColumn"],
ca="asinDeals"===z,aa="asinFinder"===z,ta="asinViewer"===z;z="asin"===z&&"bestseller"===w;if("RENT"===r&&Number(storage.domain)!==getDomainByTld("com"))return{};w=null;GridHelper.isOfferData(r)&&(w="? = last offer update older than 72 hours\nitalic = last offer update older than 24 hours");I={headerName:CsvType.getNameWithCircle(I),children:[{headerName:la._344,headerNameGroup:C,headerTooltip:w,field:r+"_current",type:V},ca&&"LIGHTNING_DEAL"!==r?{headerName:"1 day avg.",headerNameGroup:C,field:r+
"_avg1",type:V,hide:!0}:{},ca&&"LIGHTNING_DEAL"!==r?{headerName:"7 days avg.",headerNameGroup:C,field:r+"_avg7",type:V,hide:!0}:{},"LIGHTNING_DEAL"!==r?{headerName:"30 days avg.",headerNameGroup:C,field:r+"_avg30",type:V,hide:!0}:{},"LIGHTNING_DEAL"!==r?{headerName:"90 days avg.",headerNameGroup:C,field:r+"_avg90",type:V}:{},"LIGHTNING_DEAL"===r||ca?{}:{headerName:"180 days avg.",headerNameGroup:C,field:r+"_avg180",type:V,hide:!0},ca&&"LIGHTNING_DEAL"!==r?H({headerNameGroup:C,csvType:r,range:1}):
{},ca&&"LIGHTNING_DEAL"!==r?H({headerNameGroup:C,csvType:r,range:7}):{},ca&&"LIGHTNING_DEAL"!==r?H({headerNameGroup:C,csvType:r,range:30}):"LIGHTNING_DEAL"!==r?f({headerNameGroup:C,csvType:r,range:30,hide:!0}):{},ca&&"LIGHTNING_DEAL"!==r?H({headerNameGroup:C,csvType:r,range:90}):"LIGHTNING_DEAL"!==r?f({headerNameGroup:C,csvType:r,range:90,hide:!aa}):{},ta&&"LIGHTNING_DEAL"!==r?L({headerNameGroup:C,csvType:r,range:"custom",hide:ta}):{},ta&&"LIGHTNING_DEAL"!==r?f({headerNameGroup:C,csvType:r,range:"custom",
hide:ta}):{},ta&&"LIGHTNING_DEAL"!==r?{headerName:"Last visit",headerTooltip:"("+prettyDate((Date.now()-(Number(storage.lastViewerVisit)||Date.now()))/6E4).replace(/&nbsp;/g," ")+")",headerNameGroup:C,field:r+"_atIntervalStart",type:V,hide:!0}:{},"LIGHTNING_DEAL"!==r?{headerName:"Lowest",headerNameGroup:C,field:r+"_lowest",type:V,hide:!0}:{},"LIGHTNING_DEAL"!==r?{headerName:"Highest",headerNameGroup:C,field:r+"_highest",type:V,hide:!0}:{}]};"SALES"===r&&(I.groupId="groupSalesRank",I.children[0].sort=
"asc",z&&I.children.unshift({headerName:"Historical",headerNameGroup:C,headerTooltip:null,field:r+"_avgHistorical",type:V}),ca||(I.children.push(u(30)),I.children.push(u(90)),I.children.push(u(180)),I.children.push(G()),I.children.push(A())));"AMAZON"===r&&(!0!==disableStockFeatures&&I.children.push({headerName:"Stock",headerNameGroup:CsvType.getName(CsvType.AMAZON.index),field:"stockAmazon",type:["stockSingleColumn"],hide:!0}),I.children.push(GridHelperCsvType.getColumnOutOfStockPercentage(r)),I.children.push({headerName:"Availability of the Amazon offer",
headerNameGroup:CsvType.getName(CsvType.AMAZON.index),headerTooltip:"Availability of the Amazon offer",field:"availabilityAmazon",cellRenderer:function(sa){return GridHelper.defaultTextClamp(sa.valueFormatted,3,!0)},filter:"agSetColumnFilter",filterParams:{cellHeight:22,cellRenderer:function(sa){return'<span title="'+sa.valueFormatted+'" class="text-clamp clamp-lines-1">'+sa.valueFormatted+"</span>"},suppressAndOrCondition:!0,suppressMiniFilter:!0,suppressRemoveEntries:!0,values:aa?[-1,0,1,2,3,4]:
null,valueMap:aa?GridHelper.availabilityAmazonValueMap:null},hide:!0,sortable:!1,suppressSizeToFit:!0,valueFormatter:function(sa){return GridHelper.availabilityAmazonValueMap[sa.value]},width:150}));["NEW","USED"].includes(r)&&I.children.push(GridHelperCsvType.getColumnOutOfStockPercentage(r));"BUY_BOX_SHIPPING"===r&&(!0!==disableStockFeatures&&I.children.push({headerName:"Stock",headerNameGroup:CsvType.getName(CsvType.BUY_BOX_SHIPPING.index),field:"stockBuyBox",type:["stockSingleColumn"]}),I.children.push(GridHelperCsvType.getColumnOutOfStockPercentage(r)));
"LIGHTNING_DEAL"===r&&I.children.push({headerName:"Upcoming Deal",headerNameGroup:CsvType.getName(CsvType.LIGHTNING_DEAL.index),field:"LIGHTNING_DEAL_upcoming",type:["booleanColumn"],valueGetter:function(sa){return"undefined"===typeof sa.data?!1:(sa=sa.data.stats.lightningDealInfo?sa.data.stats.lightningDealInfo[0]:-1)&&sa>keepaTime.now()}});return I},Y=function(r){if(!CsvType[r].isEnabled)return{};var z=function(){},w=function(ea,W,ya){ya&&reportBug(null,
W);showPopup(ea,W,!0)},I=GridManage.pageConfig.activeViewMode===GridManage.viewModes.COMPACT,C=GridHelper.csvTypeIsTrackable(r),V=CsvType[r].index,ca=CsvType.getName(V),aa=CsvType[r].currency,ta=V===CsvType.LIGHTNING_DEAL.index,sa=Number(storage.lastManageVisit)||Date.now();return{headerName:CsvType.getNameWithCircle(V),headerTooltip:ca,children:[I&&CsvType[r].graphAPI?{headerName:la._692,headerNameGroup:ca,headerTooltip:la._692,field:r+"_graph",cellClass:"cell-graph-compact",cellRenderer:function(ea){if(ea.data.isDeleted||
-2===ea.data.product[r+"_current"])return"";var W=GridManage.graphRanges,ya=W.MONTH;ya=-1<GridManage.pageConfig.graphRange?GridManage.pageConfig.graphRange:2399976;var Ba=Math.ceil(ya/24),Ea="1 "+la._136;ya==W.WEEK?Ea="1 "+la._137:ya==W.MONTH?Ea="1 "+la._139:ya==W.QUARTER?Ea=""+la._140:ya==W.YEAR?Ea="1 "+la._141:GridManage.pageConfig.graphRange==W.ALL&&(Ea="");var ra=ea.data.detailDomainId;W=ea.data.product.csvTypesWithData;ea.data.product.domainId!==ra&&(ya=ea.data.multiLocaleProductsReduced.find(function(Ga){return Ga.domainId===
ra}))&&(W=ya.csvTypesWithData);ya="";W.includes(r)&&(W=GraphService.getWebGraphTypeAllOff(),W[CsvType[r].index]=1,ya=GraphService.getUrl(ea.data.asin,ra,103,37,W,Ba,1));Ba=document.createElement("span");Ba.title="Amazon."+getTldByDomain(ra)+": "+Ea+" "+ca+" "+("SALES"!==r?"price ":"")+"history";Ba.style.background=ya?"url("+ya+") no-repeat left":"none";Ba.style.height="37px";Ba.style.width="103px";ea.data.multiLocaleProductsReduced.length&&(Ba.style.cursor="pointer",Ba.dataset.domainid=ra,Ba.addEventListener("click",
function(){var Ga=getTldByDomain($(this).data("domainid"));Ga=ea.data.multiDomainIds.indexOf(Ga);Ga=getDomainByTld(ea.data.multiDomainIds[Ga+1]?ea.data.multiDomainIds[Ga+1]:ea.data.multiDomainIds[0]);var Aa=ea.node.data;Aa.detailDomainId=Ga;ea.api.updateRowData({update:[Aa]})}));Ea=document.createElement("span");Ea.appendChild(Ba);return Ea},filter:!1,getQuickFilterText:function(ea){return""},lockPinned:!0,suppressMenu:!0,suppressSizeToFit:!0,sortable:!1,suppressToolPanel:!1,valueGetter:function(ea){return"graph-"+
ea.data.detailDomainId},minWidth:101,maxWidth:101,width:101}:{},{headerName:la._344,headerNameGroup:ca,headerTooltip:la._344,headerClass:"header-cell-align-right",field:r+"_current",cellClass:"cell-number cell-number-bold",type:["trackingColumn"]},C&&ta?{headerName:la._869,headerNameGroup:ca,headerTooltip:la._431,headerClass:"header-cell-align-right",field:r+"_upcoming",cellClass:"cell-icon cell-right cell-text-compact",cellRenderer:function(ea){return ea.value?'<span><i class="fa fa-check" style="color:rgba(255, 0, 0, 0.7);"></i></span>':
""},filter:"customBooleanColumnFilter",getQuickFilterText:null,icons:GridHelper.getIconsSortNumeric(),lockPinned:!0,suppressSizeToFit:!0,valueGetter:function(ea){return ea.data.product[r+"_upcoming"]},minWidth:100,width:100,editable:!0,cellEditor:"cellEditorThresholdBooleanValues",cellEditorParams:{isMultiLocaleData:!1},enableCellChangeFlash:!0,suppressKeyboardEvent:GridHelper.cellSuppressKeyboardEvent,tooltipValueGetter:z,valueSetter:function(ea){ea.data.domainId!=getDomainByTld("in")&&ea.data.domainId!=
getDomainByTld("com.br")||0!==ea.data.multiLocaleProductsReduced.length||(ea.newValue=!1);if(ea.newValue===ea.oldValue)return!1;var W=function(ya,Ba){var Ea=ya.node.data;Ea.product[r+"_upcoming"]=Ba;setTimeout(function(){ya.api.updateRowData({update:[Ea]})},0)};(function(ya){var Ba=GridManage.getTrackingUpdateObject();Ba.lightningDealsAlerts=ya.newValue;var Ea={path:"track",type:"updateTracking",asin:ya.data.asin,trackingUpdate:Ba,version:3};isTest&&console.info("%ctrackingUpdateRequest","color:green;",
Ba);network.request(Ea).done(function(ra){null==ra.error?W(ya,Ba.lightningDealsAlerts):w("Tracking Update Error",ra.error,!0)}).fail(function(ra){w("Tracking Update Error",ra.error,!0)})})(ea);return!0}}:{},C&&ta?{headerName:la._870,headerNameGroup:ca,headerTooltip:la._713,headerClass:"header-cell-align-right",field:r+"_backInStock",cellClass:"cell-icon cell-right cell-boolean",cellRenderer:function(ea){var W=ea.colDef.field;if("undefined"!==typeof ea.data.isUpdating&&!0===ea.data.isUpdating[W])return'<div style="text-align:right;padding-top:5px;"><i class="fa fa-spinner fa-spin"></i></div>';
W=ea.data.product[r+"_backInStock"]?'<span><i class="fa fa-check" style="color:rgba(255, 0, 0, 0.7);"></i></span><br>':"<span><i>&nbsp;</i></span><br>";if(ea.data.multiLocaleProductsReduced.length){ea=$jscomp.makeIterator(ea.data.multiLocaleProductsReduced);for(var ya=ea.next();!ya.done;ya=ea.next())W+=ya.value[r+"_backInStock"]?'<span><i class="fa fa-check" style="color:rgba(255, 0, 0, 0.7);"></i></span><br>':"<span><i>&nbsp;</i><span><br>"}return W},filter:"customBooleanColumnFilter",filterValueGetter:function(ea){var W=
ea.data.product[r+"_backInStock"];if(ea.data.multiLocaleProductsReduced.length){ea=$jscomp.makeIterator(ea.data.multiLocaleProductsReduced);for(var ya=ea.next();!ya.done;ya=ea.next())ya.value[r+"_backInStock"]&&(W=!0)}return W},getQuickFilterText:null,icons:GridHelper.getIconsSortNumeric(),lockPinned:!0,suppressSizeToFit:!0,valueGetter:function(ea){var W={};W[ea.data.product.domainId]=ea.data.product[r+"_backInStock"];if(ea.data.multiLocaleProductsReduced.length){ea=$jscomp.makeIterator(ea.data.multiLocaleProductsReduced);
for(var ya=ea.next();!ya.done;ya=ea.next())ya=ya.value,W[ya.domainId]=ya[r+"_backInStock"]}return W},minWidth:130,width:130,editable:!0,cellEditor:"cellEditorThresholdBooleanValues",cellEditorParams:{isMultiLocaleData:!0},enableCellChangeFlash:!0,suppressKeyboardEvent:GridHelper.cellSuppressKeyboardEvent,tooltipValueGetter:z,valueSetter:function(ea){var W=ea.colDef.field,ya=ea.newValue;ya[getDomainByTld("in")]&&(ya[getDomainByTld("in")]=!1);ya[getDomainByTld("com.br")]&&(ya[getDomainByTld("com.br")]=
!1);var Ba=function(ra){var Ga=NotifyIfType.indexOf("BACK_IN_STOCK"),Aa=ea.node,X=Aa.data;X.isUpdating[W]=!1;if(!0!==ra)Aa.setData(X);else{ra=X.multiLocaleProductsReduced;var ia={},ja;for(ja in ya){ia.$jscomp$loop$prop$domainId$240$709=ja;a:{var da=ya[ia.$jscomp$loop$prop$domainId$240$709],na=!1;if(ia.$jscomp$loop$prop$domainId$240$709==X.domainId){if(da==X.product[W])break a;X.product[W]=da;!0===da&&(X.product[r+"_desired"]=-1,X.product[r+"_delta"]=null);0<X.product[r+"_current"]&&(X.product[r+"_isDrop"]&&
0>=X.product[r+"_delta"]||!X.product[r+"_isDrop"]&&0<=X.product[r+"_delta"])&&(na=!0)}else{var D=ra.findIndex(function(T){return function(ha){return ha.domainId==T.$jscomp$loop$prop$domainId$240$709}}(ia));if(-1<D){if(da==X.multiLocaleProductsReduced[D][W])break a;X.multiLocaleProductsReduced[D][W]=da;!0===da&&(X.multiLocaleProductsReduced[D][r+"_desired"]=-1,X.multiLocaleProductsReduced[D][r+"_delta"]=null);0<X.multiLocaleProductsReduced[D][r+"_current"]&&(X.multiLocaleProductsReduced[D][r+"_isDrop"]&&
0>=X.multiLocaleProductsReduced[D][r+"_delta"]||!X.multiLocaleProductsReduced[D][r+"_isDrop"]&&0<=X.multiLocaleProductsReduced[D][r+"_delta"])&&(na=!0)}}D=X.conditionsMet.findIndex(function(T){return function(ha){return ha.domainId==T.$jscomp$loop$prop$domainId$240$709&&ha.csvTypeIndex==CsvType[r].index}}(ia));na&&-1==D?X.conditionsMet.push({domainId:Number(ia.$jscomp$loop$prop$domainId$240$709),csvTypeIndex:CsvType[r].index}):!na&&-1<D&&X.conditionsMet.splice(D,1);null==X.tracking.thresholdValues&&
(X.tracking.thresholdValues=[]);na=X.tracking.thresholdValues.findIndex(function(T){return function(ha){return ha.csvType==CsvType[r].index&&ha.domain==T.$jscomp$loop$prop$domainId$240$709}}(ia));!0===da&&-1<na&&(X.tracking.thresholdValues=X.tracking.thresholdValues.filter(function(T){return function(ha){return!(ha.csvType==CsvType[r].index&&ha.domain==T.$jscomp$loop$prop$domainId$240$709)}}(ia)));!0===da?X.tracking.notifyIf.push({domain:Number(ia.$jscomp$loop$prop$domainId$240$709),csvType:CsvType[r].index,
notifyIfType:Ga}):X.tracking.notifyIf=X.tracking.notifyIf.filter(function(T){return function(ha){return!(ha.domain===Number(T.$jscomp$loop$prop$domainId$240$709)&&ha.csvType===CsvType[r].index&&ha.notifyIfType===Ga)}}(ia))}ia={$jscomp$loop$prop$domainId$240$709:ia.$jscomp$loop$prop$domainId$240$709}}setTimeout(function(){Aa.setData(X);if(!I){var T=ea.api.getDetailGridInfo(ea.node.detailNode.id);T.api.forEachNode(function(ha){var ba=ha.data;ba.detailsPerDomain=[];for(var pa=1;pa<numberOfDomains;pa++)delete ba["historyGraphCache"+
pa];network.request({path:"product",asin:X.asin,domainId:X.detailDomainId,getTracking:!0,history:!0,maxAge:15,offerPages:0,refreshProduct:!1,type:"manage",version:3}).done(function(ua){null==ua||null==ua.products||1!=ua.products.length?(ba.detailDomainId=X.detailDomainId,ha.setData(ba)):(ua=GridHelper.prepareProductTrackingDetail(ua.products[0]),ba.detailDomainId=X.detailDomainId,ba.detailsPerDomain[X.detailDomainId]={asin:ua.asin,domainId:ua.domainId,imagesCSV:ua.imagesCSV,title:ua.title,lastUpdate:ua.lastUpdate,
lastEbayUpdate:ua.lastEbayUpdate,lastPriceChange:ua.lastPriceChange,graphData:{buyBoxSellerIdHistory:ua.buyBoxSellerIdHistory,csv:ua.csv,offers:ua.offers,tracking:X.tracking},detailRowHeight:GridManage.calculateDetailRowHeight(ua)},ba.wishLists=X.wishLists,ba.detailRowHeight=X.detailRowHeight,ha.setData(ba),ha.setRowHeight(ba.detailsPerDomain[X.detailDomainId].detailRowHeight),X.detailNode&&X.detailNode.setRowHeight(ba.detailsPerDomain[X.detailDomainId].detailRowHeight),ea.api.onRowHeightChanged(),
T.api.onRowHeightChanged())}).fail(showErrorPopup)})}},0)}},Ea=function(){var ra=NotifyIfType.indexOf("BACK_IN_STOCK"),Ga=function(na,D){D===CsvType.LIGHTNING_DEAL.index&&(X.desiredPrices=X.desiredPrices.filter(function(T){return!(T.domain===na&&T.csvType===D)}))},Aa=ea.data.tracking,X=GridManage.getTrackingCreationObject(Aa,!0,!1),ia=Object.keys(ya),ja=Aa.notifyIf;if("undefined"!==ja&&null!=ja){Aa={};ja=$jscomp.makeIterator(ja);for(var da=ja.next();!da.done;Aa={$jscomp$loop$prop$existingNotifyIf$711:Aa.$jscomp$loop$prop$existingNotifyIf$711},
da=ja.next())Aa.$jscomp$loop$prop$existingNotifyIf$711=da.value,Aa.$jscomp$loop$prop$existingNotifyIf$711.csvType!==CsvType[r].index||Aa.$jscomp$loop$prop$existingNotifyIf$711.notifyIfType!==ra?X.notifyIf.push(Aa.$jscomp$loop$prop$existingNotifyIf$711):Aa.$jscomp$loop$prop$existingNotifyIf$711.csvType===CsvType[r].index&&Aa.$jscomp$loop$prop$existingNotifyIf$711.notifyIfType===ra&&!0===ea.newValue[Aa.$jscomp$loop$prop$existingNotifyIf$711.domain]&&(X.notifyIf.push(Aa.$jscomp$loop$prop$existingNotifyIf$711),
ia=ia.filter(function(na){return function(D){return Number(D)!==na.$jscomp$loop$prop$existingNotifyIf$711.domain}}(Aa)),Ga(Aa.$jscomp$loop$prop$existingNotifyIf$711.domain,Aa.$jscomp$loop$prop$existingNotifyIf$711.csvType))}if(ia.length)for(ia=$jscomp.makeIterator(ia),Aa=ia.next();!Aa.done;Aa=ia.next())Aa=Aa.value,Aa=Number(Aa),!0===ea.newValue[Aa]&&(X.notifyIf.push({domain:Aa,csvType:CsvType[r].index,notifyIfType:ra}),Ga(Aa,CsvType[r].index));isTest&&console.info("%ctrackingCreationObject","color:green;",
X);network.request({path:"track",type:"addTracking",trackingRequest:X,version:3}).done(function(na){if(null==na.error)Ba(!0),$("#fab-refresh").show();else{switch(na.error.type){case "productNotKnown":w("Tracking Error","Product is invalid and can not be tracked.",!1);break;case "maxTrackingReached":w("Tracking Limit Reached",la._920.replace("#maxTrackingAllowed#",maxTrackingAllowed)+"<br><br><b>"+la._921+"</b>",!1);break;default:w("Tracking Error",na.error,!0)}Ba(!1)}}).fail(function(na){w("Tracking Error",
na.error,!0);Ba(!1)})};return function(){var ra=ea.data.multiLocaleProductsReduced,Ga={},Aa;for(Aa in ya){Ga.$jscomp$loop$prop$domainId$239$703=Aa;var X=ya[Ga.$jscomp$loop$prop$domainId$239$703];if(Ga.$jscomp$loop$prop$domainId$239$703==ea.data.domainId&&X!==ea.data.product[W])return!0;var ia=ra.findIndex(function(ja){return function(da){return da.domainId==ja.$jscomp$loop$prop$domainId$239$703}}(Ga));if(-1<ia&&ea.data.multiLocaleProductsReduced[ia][W]!==X)return!0;Ga={$jscomp$loop$prop$domainId$239$703:Ga.$jscomp$loop$prop$domainId$239$703}}return!1}()?
("undefined"===typeof ea.data.isUpdating&&(ea.data.isUpdating={}),ea.data.isUpdating[W]=!0,Ea(),!0):!1}}:{},C?{headerName:aa?la._342.replace("&nbsp;"," "):la._860,headerNameGroup:ca,headerTooltip:aa?la._342.replace("&nbsp;"," "):la._860,headerClass:"header-cell-align-right",field:r+"_desired",cellClass:function(ea){var W=["cell-number"],ya=ea.data.product;if(!ya.csvTypesWithTracking.includes(r)||!0!==ea.context.hasPriceIncreaseTracking)return W;ya[r+"_isDrop"]?W.push("cell-desired-drop"):W.push("cell-desired-increase");
return W},cellStyle:function(ea){if(ea.data.isDeleted||!ea.data.product.csvTypesWithTracking.includes(r))return null;ea=CsvType[r].bg;var W=CsvType[r].color;ea=ea.replace(/0.[1-9]/,"0.2");return{"background-color":ea,"--csvtype-color":W}},type:["trackingColumn"],editable:function(ea){if(!CsvType[r].isTrackable)return!1;ea=$jscomp.makeIterator(ea.data.multiDomainIds);for(var W=ea.next();!W.done;W=ea.next())if(W=getDomainByTld(W.value),graphIsRestricted(W,CsvType[r].index))return!1;return!0},cellEditor:"cellEditorThresholdValues",
enableCellChangeFlash:!0,suppressKeyboardEvent:GridHelper.cellSuppressKeyboardEvent,tooltipValueGetter:z,valueParser:function(ea){isTest&&console.info("%cvalueParser","color:orange;","newValue:",ea.newValue);return ea.newValue},valueSetter:function(ea){var W=r+"_desired",ya=function(ra,Ga,Aa){var X=keepaTime.now(),ia=ra.node,ja=ia.data;ja.isUpdating[W]=!1;if(!0!==Aa)ia.setData(ja);else{Aa=ja.multiLocaleProductsReduced;var da={},na;for(na in Ga){da.$jscomp$loop$prop$domainId$246$718=na;a:{var D=Ga[da.$jscomp$loop$prop$domainId$246$718];
if(-2<D){var T=null,ha=D,ba=!1;if(da.$jscomp$loop$prop$domainId$246$718==ja.domainId){if(D==ja.product[W])break a;ja.product[W]=D;0<ja.product[r+"_current"]&&0<ha&&(T=ja.product[r+"_current"]-ha);ja.product[r+"_delta"]=T;0<ja.product[r+"_current"]&&(ja.product[r+"_isDrop"]&&0>=ja.product[r+"_delta"]||!ja.product[r+"_isDrop"]&&0<=ja.product[r+"_delta"])&&(ba=!0);CsvType[r].index===CsvType.LIGHTNING_DEAL.index&&0<=D&&(ja.product[r+"_backInStock"]=!1)}else{var pa=Aa.findIndex(function(ua){return function(wa){return wa.domainId==
ua.$jscomp$loop$prop$domainId$246$718}}(da));if(-1<pa){if(D==ja.multiLocaleProductsReduced[pa][W])break a;ja.multiLocaleProductsReduced[pa][W]=D;currencies[ja.domainId]!==currencies[da.$jscomp$loop$prop$domainId$246$718]&&(ha=Money.raw(ha,{sourceDomainId:ja.domainId,targetDomainId:da.$jscomp$loop$prop$domainId$246$718,keepUnit:!0,noDigits:!0}));0<ja.multiLocaleProductsReduced[pa][r+"_current"]&&0<ha&&(T=ja.multiLocaleProductsReduced[pa][r+"_current"]-ha);ja.multiLocaleProductsReduced[pa][r+"_delta"]=
T;0<ja.multiLocaleProductsReduced[pa][r+"_current"]&&(ja.multiLocaleProductsReduced[pa][r+"_isDrop"]&&0>=ja.multiLocaleProductsReduced[pa][r+"_delta"]||!ja.multiLocaleProductsReduced[pa][r+"_isDrop"]&&0<=ja.multiLocaleProductsReduced[pa][r+"_delta"])&&(ba=!0);CsvType[r].index===CsvType.LIGHTNING_DEAL.index&&0<=D&&(ja.multiLocaleProductsReduced[pa][r+"_backInStock"]=!1)}}T=ja.conditionsMet.findIndex(function(ua){return function(wa){return wa.domainId==ua.$jscomp$loop$prop$domainId$246$718&&wa.csvTypeIndex==
CsvType[r].index}}(da));ba&&-1==T?ja.conditionsMet.push({domainId:Number(da.$jscomp$loop$prop$domainId$246$718),csvTypeIndex:CsvType[r].index}):!ba&&-1<T&&ja.conditionsMet.splice(T,1);null==ja.tracking.thresholdValues&&(ja.tracking.thresholdValues=[]);ba=ja.tracking.thresholdValues.findIndex(function(ua){return function(wa){return wa.csvType==CsvType[r].index&&wa.domain==ua.$jscomp$loop$prop$domainId$246$718}}(da));-1<ba?(ja.tracking.thresholdValues[ba].thresholdValueCSV.push(X),ja.tracking.thresholdValues[ba].thresholdValueCSV.push(D)):
ja.tracking.thresholdValues.push({csvType:CsvType[r].index,deltasAreBetweenNotifications:null,domain:Number(da.$jscomp$loop$prop$domainId$246$718),isDrop:ja.product[r+"_isDrop"],minDeltaAbsolute:null,minDeltaPercentage:null,thresholdValueCSV:[X,D]});CsvType[r].index===CsvType.LIGHTNING_DEAL.index&&0<=D&&(ja.tracking.notifyIf=ja.tracking.notifyIf.filter(function(ua){return function(wa){return!(wa.domain===Number(ua.$jscomp$loop$prop$domainId$246$718)&&wa.csvType===CsvType[r].index&&1===wa.notifyIfType)}}(da)))}}da=
{$jscomp$loop$prop$domainId$246$718:da.$jscomp$loop$prop$domainId$246$718}}setTimeout(function(){ia.setData(ja);if(!I){var ua=ra.api.getDetailGridInfo(ra.node.detailNode.id);ua.api.forEachNode(function(wa){var Fa=wa.data;Fa.detailsPerDomain=[];for(var Ha=1;Ha<numberOfDomains;Ha++)delete Fa["historyGraphCache"+Ha];network.request({path:"product",asin:ja.asin,domainId:ja.detailDomainId,getTracking:!0,history:!0,maxAge:15,offerPages:0,refreshProduct:!1,type:"manage",version:3}).done(function(Da){null==
Da||null==Da.products||1!=Da.products.length?(Fa.detailDomainId=ja.detailDomainId,wa.setData(Fa)):(Da=GridHelper.prepareProductTrackingDetail(Da.products[0]),Fa.detailDomainId=ja.detailDomainId,Fa.detailsPerDomain[ja.detailDomainId]={asin:Da.asin,domainId:Da.domainId,imagesCSV:Da.imagesCSV,title:Da.title,lastUpdate:Da.lastUpdate,lastEbayUpdate:Da.lastEbayUpdate,lastPriceChange:Da.lastPriceChange,graphData:{buyBoxSellerIdHistory:Da.buyBoxSellerIdHistory,csv:Da.csv,offers:Da.offers,tracking:ja.tracking},
detailRowHeight:GridManage.calculateDetailRowHeight(Da)},Fa.wishLists=ja.wishLists,Fa.detailRowHeight=ja.detailRowHeight,wa.setData(Fa),wa.setRowHeight(Fa.detailsPerDomain[ja.detailDomainId].detailRowHeight),ja.detailNode&&ja.detailNode.setRowHeight(Fa.detailsPerDomain[ja.detailDomainId].detailRowHeight),ra.api.onRowHeightChanged(),ua.api.onRowHeightChanged())}).fail(showErrorPopup)})}},0)}},Ba=function(ra,Ga){var Aa=function(D,T){T===CsvType.LIGHTNING_DEAL.index&&(ia.notifyIf=ia.notifyIf.filter(function(ha){return!(ha.domain===
D&&ha.csvType===T&&1===ha.notifyIfType)}))},X=ra.data.tracking,ia=GridManage.getTrackingCreationObject(X,!1,!0),ja=X.thresholdValues;if("undefined"!==ja&&null!=ja){var da=Object.keys(Ga);X={};ja=$jscomp.makeIterator(ja);for(var na=ja.next();!na.done;X={$jscomp$loop$prop$existingThresholdValue$720:X.$jscomp$loop$prop$existingThresholdValue$720},na=ja.next())X.$jscomp$loop$prop$existingThresholdValue$720=na.value,na=X.$jscomp$loop$prop$existingThresholdValue$720.thresholdValueCSV[X.$jscomp$loop$prop$existingThresholdValue$720.thresholdValueCSV.length-
1],X.$jscomp$loop$prop$existingThresholdValue$720.csvType===CsvType[r].index&&"undefined"!==typeof Ga[X.$jscomp$loop$prop$existingThresholdValue$720.domain]&&(na=Ga[X.$jscomp$loop$prop$existingThresholdValue$720.domain],da=da.filter(function(D){return function(T){return Number(T)!==D.$jscomp$loop$prop$existingThresholdValue$720.domain}}(X))),0>na||(ia.desiredPrices.push({domain:X.$jscomp$loop$prop$existingThresholdValue$720.domain,csvType:X.$jscomp$loop$prop$existingThresholdValue$720.csvType,isDrop:X.$jscomp$loop$prop$existingThresholdValue$720.isDrop,
thresholdValue:na}),Aa(X.$jscomp$loop$prop$existingThresholdValue$720.domain,X.$jscomp$loop$prop$existingThresholdValue$720.csvType));da=$jscomp.makeIterator(da);for(X=da.next();!X.done;X=da.next())if(X=X.value,X=Number(X),"AMAZON"!==r||X!=getDomainByTld("in"))ja=Ga[X],0>ja||(ia.desiredPrices.push({domain:X,csvType:CsvType[r].index,isDrop:ra.data.product[r+"_isDrop"],thresholdValue:ja}),Aa(X,CsvType[r].index))}else for(da in Ga)if("AMAZON"!==r||da!=getDomainByTld("in"))X=Ga[da],0>X||(ia.desiredPrices.push({domain:da,
csvType:CsvType[r].index,isDrop:!0,thresholdValue:X}),Aa(da,CsvType[r].index));isTest&&console.info("%ctrackingCreationObject","color:green;",ia);network.request({path:"track",type:"addTracking",trackingRequest:ia,version:3}).done(function(D){if(null==D.error)ya(ra,Ga,!0),$("#fab-refresh").show();else{switch(D.error.type){case "productNotKnown":w("Tracking Error","Product is invalid and can not be tracked.",!1);break;case "maxTrackingReached":w("Tracking Limit Reached",la._920.replace("#maxTrackingAllowed#",
maxTrackingAllowed)+"<br><br><b>"+la._921+"</b>",!1);break;default:w("Tracking Error",D.error,!0)}ya(ra,Ga,!1)}}).fail(function(D){w("Tracking Error",D.error,!0);ya(ra,Ga,!1)})},Ea=function(ra){var Ga={},Aa;for(Aa in ra){var X=ra[Aa];"string"===typeof X&&(X=X.replace(/(\d)\.(\d\d)/g,"$1$2"),X=X.replace(/(\d),(\d)/g,"$1$2"),X=X.replace(/^0+/,""),X="-"===X?-1:parseFloat(X));Ga[Aa]=X}return Ga}(ea.newValue);"AMAZON"===r&&(Ea[getDomainByTld("in")]=-1);return function(ra,Ga){var Aa=ra.data.multiLocaleProductsReduced,
X={},ia;for(ia in Ga){X.$jscomp$loop$prop$domainId$245$713=ia;var ja=Ga[X.$jscomp$loop$prop$domainId$245$713];if(-2<ja){if(X.$jscomp$loop$prop$domainId$245$713==ra.data.domainId&&ja!==ra.data.product[W])return!0;var da=Aa.findIndex(function(na){return function(D){return D.domainId==na.$jscomp$loop$prop$domainId$245$713}}(X));if(-1<da&&ra.data.multiLocaleProductsReduced[da][W]!==ja)return!0}X={$jscomp$loop$prop$domainId$245$713:X.$jscomp$loop$prop$domainId$245$713}}return!1}(ea,Ea)?("undefined"===
typeof ea.data.isUpdating&&(ea.data.isUpdating={}),ea.data.isUpdating[W]=!0,Ba(ea,Ea),!0):!1}}:{},C?{headerName:aa?la._198:la._861,headerNameGroup:ca,headerTooltip:aa?la._198:la._861,headerClass:"header-cell-align-right",field:r+"_delta",cellRenderer:function(ea){if("undefined"===typeof ea.data||ea.data.isDeleted)return"";var W=ea.colDef.field,ya=GridHelper.getCsvObjectName(W),Ba=ea.data.product[r+"_isDrop"],Ea="",ra=ea.value[0],Ga=null!=ra&&(Ba&&0>=ra||!Ba&&0<=ra);ra=Ga?"fa-caret-down":"fa-caret-up";
Ba||(ra=Ga?"fa-caret-up":"fa-caret-down");"-"!=ea.valueFormatted&&(Ea=' <i class="fa '+ra+'" style="color:'+(Ga?"limegreen":"red")+';"></i>');var Aa="";"-"!=ea.valueFormatted&&(Aa=NumberUtil.format(ea.data.product[r+"_deltaPercent"],0)+"%&ensp;&hybull;&ensp;");Ea='<span class="delta'+(Ga?"-good":"")+'" style="color:'+CsvType[ya].color+";border-color:"+CsvType[ya].bg+';">'+Aa+ea.valueFormatted+Ea+"</span>";if(ea.data.multiLocaleProductsReduced.length)for(Ga=$jscomp.makeIterator(ea.data.multiLocaleProductsReduced),
Aa=Ga.next();!Aa.done;Aa=Ga.next()){Aa=Aa.value;var X=Aa[W],ia="-",ja="",da="",na="",D=null!=X&&(Ba&&0>=X||!Ba&&0<=X);null!=X&&0!=X&&(ia={sourceDomainId:Aa.domainId,targetDomainId:ea.data.domainId,acceptMinusOne:W.includes("delta")},aa?(ia=Money.format(X,ia),Aa.domainId!==ea.data.domainId&&currencies[Aa.domainId]!==currencies[ea.data.domainId]&&(da=Money.format(X,{sourceDomainId:Aa.domainId,targetDomainId:Aa.domainId,acceptMinusOne:W.includes("delta")}))):ia=CsvType.format(ya,X),ja=' <i class="fa '+
ra+'" style="color:'+(D?"limegreen":"red")+';"></i>',na=NumberUtil.format(Aa[r+"_deltaPercent"],0)+"%&ensp;&hybull;&ensp;");Ea+='<br><span class="delta'+(0<D?"-good":"")+'" style="color:'+CsvType[ya].color+";border-color:"+CsvType[ya].bg+';font-style:italic;opacity:0.8;"'+(da?'title="'+da+'"':"")+">"+na+ia+ja+"</span>"}return Ea},sortingOrder:["asc","desc",null],type:["trackingColumn"],enableCellChangeFlash:!0}:{},C&&!ta?{headerName:la._701,headerNameGroup:ca,headerTooltip:la._701+" ("+prettyDate((Date.now()-
sa)/6E4).replace(/&nbsp;/g," ")+")",headerClass:"header-cell-align-right",field:r+"_deltaCustom",cellRenderer:GridHelper.cellRendererTrackingDelta,hide:!0,sortingOrder:["asc","desc",null],type:["trackingColumn"],width:150}:{},C&&!ta?{headerName:la._702,headerNameGroup:ca,headerTooltip:""+la._702,headerClass:"header-cell-align-right",field:r+"_deltaTrackingCreated",cellRenderer:GridHelper.cellRendererTrackingDelta,hide:!0,sortingOrder:["asc","desc",null],type:["trackingColumn"],width:186}:{},C?{headerName:la._977,
headerNameGroup:ca,headerTooltip:""+la._977,field:r+"_lastPriceChange",type:["dateAgoColumn"],valueGetter:GridHelper.valueGetterTrackingNonCsvArray,comparator:GridHelper.comparatorNumberArrayOnlyFirstNullLast,cellClass:"cell-boolean",cellRenderer:GridHelper.cellRendererDateAgoArray,hide:!0}:{}]}},xa=function(r,z){z="asinFinder"===z;var w=CsvType[r].index,I=CsvType.getName(w);return{headerName:CsvType.getNameWithCircle(w),children:[{headerName:la._344,headerNameGroup:I,field:r+"_current",type:["offerCountColumn"]},
{headerName:"30 days avg.",headerNameGroup:I,field:r+"_avg30",type:["offerCountColumn"]},{headerName:"90 days avg.",headerNameGroup:I,field:r+"_avg90",type:["offerCountColumn"]},{headerName:"180 days avg.",headerNameGroup:I,field:r+"_avg180",type:["offerCountColumn"]},f({headerNameGroup:I,csvType:r,range:90,hide:!z})]}},L=function(r){var z=r.range,w=z+" day"+(1<z?"s":"")+" drop";"custom"===z&&(w=la._199);var I=Number(storage.lastViewerVisit)||Date.now();return{headerName:w,headerTooltip:"custom"===
z?"("+prettyDate((Date.now()-I)/6E4).replace(/&nbsp;/g," ")+")":null,headerNameGroup:r.headerNameGroup,field:r.csvType+"_delta"+("custom"===z?"Custom":z),cellRenderer:function(C){if("undefined"===typeof C.data)return"";var V=C.colDef.field,ca=GridHelper.getCsvObjectName(V),aa=CsvType[ca].currency,ta="",sa="";null!=C.value&&(0==C.value?(ta=' <i class="fa fa-arrow-circle-right" style="color:#ccc;"></i>',sa=' <i class="fa fa-arrow-circle-right" style="color:#ccc;"></i> '):(sa=0<C.value,ta=' <i class="fa fa-arrow-circle-'+
(sa?"down":"up")+'" style="color:'+(sa?"green":"red")+';"></i>',sa=' <i class="fa fa-arrow-circle-'+(sa?"down":"up")+'" style="color:#ccc"></i> '));ca='<span style="color:'+CsvType[ca].color+'">'+C.valueFormatted+"</span>"+ta;aa&&showReferencePrice(C.data.domainId)&&(V=C.data[V],C=null==C.value?"-":Money.format(V,{sourceDomainId:C.data.domainId,targetDomainId:C.data.domainId}),ca=ca+'<br><span style="color:#ccc;">'+(C+"</span> "+sa));return ca},type:["deltaColumn"],hide:r.hide||!1,width:"custom"===
z?128:88,valueFormatter:GridHelper.valueFormatterDelta,valueGetter:function(C){if("undefined"===typeof C.data)return null;var V=C.colDef.field,ca=GridHelper.getCsvObjectName(V);if(GridHelper.isOfferData(ca)&&(C.data.offersOutdated||C.data.offersNeverUpdated)||-1===C.data[ca+"_current"])return null;V=C.data[V];return"SALES"===ca||null==V?V:Money.raw(V,{sourceDomainId:C.data.domainId,targetDomainId:0<currencyDomainId?currencyDomainId:Number(C.data.domainId)})}}},f=function(r){var z=r.range,w=z+" day"+
(1<z?"s":"")+" drop %";"custom"===z&&(w="Drop % since last visit");var I=Number(storage.lastViewerVisit)||Date.now();return{headerName:w,headerTooltip:"custom"===z?"("+prettyDate((Date.now()-I)/6E4).replace(/&nbsp;/g," ")+")":null,headerNameGroup:r.headerNameGroup,field:r.csvType+"_deltaPercent"+("custom"===z?"Custom":z),cellRenderer:function(C){var V=GridHelper.getCsvObjectName(C.colDef.field),ca="";null!=C.value&&(0==C.value?ca=' <i class="fa fa-arrow-circle-right" style="color:#ccc;"></i> ':(ca=
0<C.value,ca=' <i class="fa fa-arrow-circle-'+(ca?"down":"up")+'" style="color:'+(ca?"green":"red")+';"></i> '));return'<span style="color:'+CsvType[V].color+'">'+C.valueFormatted+"</span>"+ca},type:["deltaPercentColumn"],hide:r.hide||!1,width:"custom"===z?138:98,valueFormatter:function(C){return null==C.value?"-":C.value+" %"},valueGetter:function(C){if("undefined"===typeof C.data)return null;var V=C.colDef.field,ca=GridHelper.getCsvObjectName(V);if(GridHelper.isOfferData(ca)&&(C.data.offersOutdated||
C.data.offersNeverUpdated)||-1===C.data[ca+"_current"])return null;var aa=C.data[V];if("undefined"===typeof aa){isTest&&!V.includes("_deltaPercentCustom")&&console.log("ATTENTION: values are calculated",V);V=C.data[ca+"_current"];aa=C.data[ca+"_avg"+z];"custom"===z&&(aa=C.data.stats.atIntervalStart[CsvType[ca].index]);"WAREHOUSE"===ca&&"custom"!==z&&(C.data["AMAZON_avg"+z]&&0<C.data["AMAZON_avg"+z]?aa=C.data["AMAZON_avg"+z]:C.data["NEW_avg"+z]&&0<C.data["NEW_avg"+z]&&(aa=C.data["NEW_avg"+z]));if(0>
V||0>aa||0==aa)return null;C=Math.round(100*(1-V/aa));99<C&&(C=99);-99>C&&(C=-99);aa=C}return aa}}},H=function(r){var z=r.range;return{headerName:z+" day"+(1<z?"s":"")+" drop",headerNameGroup:r.headerNameGroup,field:r.csvType+"_deltaPercent"+z,cellClass:"cell-number cell-deal",cellRenderer:function(w){var I=GridHelper.getCsvObjectName(w.colDef.field),C="",V="";null!=w.value&&(0==w.value?V=' <i class="fa fa-arrow-circle-right" style="color:#ccc;"></i> ':(V=0<w.value,V=' <i class="fa fa-arrow-circle-'+
(V?"down":"up")+'" style="color:'+(V?"green":"red")+';"></i> '),0!==w.value&&(C=w.data[I+"_delta"+z],C="SALES"===I?NumberUtil.format(C):Money.format(C,{sourceDomainId:w.data.domainId})));return'<span class="drop" style="color:'+CsvType[I].color+'">'+w.valueFormatted+"</span>"+V+'\n\t\t\t\t\t\t<br><span style="color:'+CsvType[I].color+'">'+C+"</span>"},type:["deltaPercentColumn"],valueFormatter:function(w){return null==w.value?"-":w.value+" %"},valueGetter:function(w){if("undefined"===typeof w.data)return null;
var I=w.colDef.field,C=GridHelper.getCsvObjectName(I);return GridHelper.isOfferData(C)&&(w.data.offersOutdated||w.data.offersNeverUpdated)||-1===w.data[C+"_current"]?null:w.data[I]}}},Q=function(){return{headerName:"FBA Pick&Pack Fee",field:"fbaFees",cellClass:"cell-number",cellRenderer:GridHelper.cellRendererFbaFees,comparator:GridHelper.comparatorNumberNullLast,filter:"agNumberColumnFilter",icons:GridHelper.getIconsSortNumeric(),suppressSizeToFit:!0,valueFormatter:GridHelper.valueFormatterMoney,
valueGetter:function(r){if("undefined"===typeof r.data||null==r.data.fbaFees)return null;var z=r.data.domainId;return Money.raw(r.data[r.colDef.field+"Total"],{sourceDomainId:z,targetDomainId:z})},width:190}},Z=function(r){var z="offerCount"+r,w="FBM"===r?"NEW_FBM_SHIPPING":"NEW_FBA";return{headerName:"New, "+r,headerNameGroup:"Count of retrieved live offers",field:z,cellClass:"cell-number",cellRenderer:function(I){if("undefined"===typeof I.data)return"";var C="";I.data.offersOutworn&&!I.data.offersOutdated&&
(C="font-style:italic;");return'<span style="color:'+CsvType[w].color+";"+C+'">'+I.valueFormatted+"</span>"},comparator:GridHelper.comparatorNumberNullLast,equals:function(){return!1},filter:"agNumberColumnFilter",icons:GridHelper.getIconsSortNumeric(),suppressSizeToFit:!0,valueFormatter:function(I){return null==I.value?"-":I.value},valueGetter:function(I){if("undefined"===typeof I.data)return null;I=I.data.stats[z];return 0>I?null:I},width:110}},u=function(r){var z="salesRankDrops"+r;return{headerName:"Drops last "+
r+" days",headerNameGroup:CsvType.getName(CsvType.SALES.index),field:z,type:["numberColumn"],cellRenderer:function(w){return'<span style="color:'+CsvType.SALES.color+';">'+w.valueFormatted+"</span>"},suppressSizeToFit:!0,width:110}},G=function(){return{headerName:"Reference",headerNameGroup:CsvType.getName(CsvType.SALES.index),field:"salesRankReference",cellRenderer:function(r){return"undefined"===typeof r.data||r.data.salesRankReference>invalidIfLargerCatId||-1===r.data.salesRankReference?"":-2===
r.data.salesRankReference?"Launchpad":GridHelperCategory.render(r.data.domainId,r.data.salesRankReference,r.value,r)},filter:!1,sortable:!1,suppressMenu:!0,suppressSizeToFit:!0,valueGetter:GridHelperCategory.valueGetterSalesRankReference,width:160}},A=function(){return{headerName:"Subcategory Sales Ranks",headerNameGroup:CsvType.getName(CsvType.SALES.index),field:"subcategorySalesRanks",cellRenderer:function(r){var z=r.value;if(!z||0===z.length)return"-";r="";z=$jscomp.makeIterator(z);for(var w=z.next();!w.done;w=
z.next())currentRank=w.value,w=100<currentRank.topPct?"":'Top <span style="width: 30px; display: inline-block; text-align: right;">'+currentRank.topPct+"%</span>",r+='\n                        <span style="width: 65px; display: inline-block; margin-right: 8px; text-align: right; color:'+CsvType.SALES.color+';">'+CsvType.format("SALES",currentRank.rank)+'</span>\n                        <span style="width: 65px; display: inline-block;color:#40bdb2;" title="Products in Category: '+NumberUtil.format(currentRank.cr.productCount)+
'">'+w+'</span>\n                        <span style="color:#333;" title="'+(currentRank.cr.contextFreeName==currentRank.tree?"":currentRank.tree)+'">'+currentRank.cr.contextFreeName+"</span>\n                        <br>\n                    ";return r},filter:!1,sortable:!1,suppressMenu:!0,suppressSizeToFit:!0,width:300}},O=function(r){var z="sellerIdsLowest"+r,w="FBM"===r?"NEW_FBM_SHIPPING_current":"NEW_FBA_current";return{headerName:"Lowest "+r+" Seller",headerTooltip:"Seller of the lowest priced live "+
r+" offer(s). Multiple entries if multiple offers share the same price. (x%) = Rating of the displayed seller.",field:z,cellRenderer:GridHelper.cellRendererSellerIdsLowest,hide:!0,valueFormatter:GridHelper.valueFormatterSellerIdsLowest,valueGetter:function(I){return"undefined"===typeof I.data||null==I.data.asin||I.data.offersOutdated||I.data.offersNeverUpdated||0>I.data[w]||(null==I.data.stats[z]||0==I.data.stats[z].length)&&"undefined"==typeof I.data[z]?null:I.data[z]?I.data[z]:I.data.stats[z]},
filter:!1,suppressMenu:!0,sortable:!1,suppressSizeToFit:!0,width:220}},P=function(r){var z=GridManage.pageConfig.activeViewMode===GridManage.viewModes.COMPACT,w="tags"===r,I={tags:la._807,memo:la._808},C="agLargeTextCellEditor",V={maxLength:100,rows:4,cols:30},ca="agTextColumnFilter",aa={suppressAndOrCondition:!0};w&&(C="cellEditorAutocompleteChips",V={},ca="agSetColumnFilter",aa={cellHeight:22,suppressAndOrCondition:!0,suppressMiniFilter:!0,suppressRemoveEntries:!0});return{headerName:I[r],field:r,
cellClass:z?"cell-text-compact cell-wrap":"cell-wrap",cellEditor:C,cellEditorParams:V,cellRenderer:function(ta){if("undefined"!==typeof ta.data.isUpdating&&!0===ta.data.isUpdating[r])return'<div><i class="fa fa-spinner fa-spin"></i></div>';var sa="",ea="";"string"===typeof ta.value?(sa=ta.value.replace(/[\r\n]+/g,"<br>"),ea=escapeHTML(ta.value)):ta.value instanceof Array&&ta.value.length&&(sa=ta.value.map(function(W){return null==W?"":'<span class="chip"><span>'+W+"</span></span>"}).filter(function(W){return W.length}).join(" "),
ea=ta.value.join(" "));return'<span class="text-clamp clamp-lines-'+Math.max(2,ta.data.multiLocaleProductsReduced.length)+'" title="'+ea+'">'+sa+"</span>"},editable:function(ta){return!0!==ta.data.isDeleted},enableCellChangeFlash:!0,filter:ca,filterParams:aa,suppressMenu:w,suppressSizeToFit:!0,suppressKeyboardEvent:GridHelper.cellSuppressKeyboardEvent,tooltipValueGetter:function(ta){return!0===ta.data.isDeleted?"":la._806},valueGetter:function(ta){var sa=w?[null]:"";if(ta.data.isDeleted)return sa;
try{var ea=JSON.parse(ta.data.tracking.metaData);if("undefined"!==typeof ea[r]){var W=ea[r];w&&("string"===typeof ea[r]&&(W=[ea[r]]),0<W.length&&W.sort(),0===W.length&&(W=sa));return W}}catch(ya){}return sa},valueSetter:function(ta){var sa=function(ea,W){var ya=ea.node.data;ya.tracking.metaData=W;setTimeout(function(){ea.api.updateRowData({update:[ya]});if(w){var Ba=ea.api.getFilterInstance(r),Ea=Ba.getModel();Ba.resetFilterValues();null!==Ea&&Ba.setModel(Ea);GridManage.updateFilterToolbar(["tags"])}},
0)};(function(ea){var W=w?200:100,ya=ea.newValue;if(w)for(;ya.join('","').length>W;)ya.pop();else ya=ya.slice(0,W);var Ba=GridManage.getTrackingUpdateObject();try{var Ea=JSON.parse(ea.data.tracking.metaData);Ea[r]=ya}catch(ra){W={},Ea=(W[r]=ya,W)}Ba.metaData=JSON.stringify(Ea);ya={path:"track",type:"updateTracking",asin:ea.data.asin,trackingUpdate:Ba,version:3};isTest&&console.info("%ctrackingUpdateRequest","color:green;",Ba);network.request(ya).done(function(ra){null==ra.error?sa(ea,Ba.metaData):
(ra=ra.error,reportBug(null,ra),showPopup("Tracking Update Error",ra,!0))}).fail(function(ra){ra=ra.error;reportBug(null,ra);showPopup("Tracking Update Error",ra,!0)})})(ta);return!0},minWidth:80,width:100}},B=function(r,z){var w=!0;"domainId asin imagesCSV title dealFound eanList upcList color size edition format".split(" ").includes(r.field)?w=!1:r.field.includes("_current")&&r.type&&r.type.some(function(I){return["priceColumn","salesRankColumn"].includes(I)})?w=!1:r.type&&r.type.some(function(I){return["deltaColumn",
"deltaPercentColumn"].includes(I)})&&(w=!1);r.hide=w;z.filterFields.includes(r.field)&&(r.cellClass="cell-number cell-deal-filtered");r.filter=!1;r.sortable=!1;r.suppressMenu=!0;return r},M=function(r){var z=r.field,w=r.type?r.type[0]:null,I="_highest _lowest COLLECTIBLE_ACCEPTABLE_SHIPPING_ COLLECTIBLE_GOOD_SHIPPING_ COLLECTIBLE_NEW_SHIPPING_ COLLECTIBLE_VERY_GOOD_SHIPPING_".split(" ");isTest||I.push("_deltaPercent30");var C=["_deltaPercent30"];Number(storage.domain)!==getDomainByTld("com")&&(I.push("TRADE_IN_"),
I.push("RENT_"));var V="COUNT_REVIEWS_current itemWeight numberOfItems numberOfPages packageWeight packageQuantity RATING_current AMAZON_outOfStockPercentage90 NEW_outOfStockPercentage90 USED_outOfStockPercentage90 BUY_BOX_SHIPPING_outOfStockPercentage90 salesRankDrops30 salesRankDrops90 salesRankDrops180".split(" ");switch(z){case "title":r.filter="agTextColumnFilter";r.filterParams={applyButton:!0,caseSensitive:!0,filterOptions:["contains"],newRowsAction:"keep",suppressAndOrCondition:!0};break;
case "partNumber":r.filter="agTextColumnFilter";r.filterParams={applyButton:!0,caseSensitive:!0,defaultOption:"isOneOf",filterOptions:[{displayKey:"isOneOf",displayName:"isOneOf",test:!0},{displayKey:"isNoneOf",displayName:"isNoneOf",test:!0}],newRowsAction:"keep",suppressAndOrCondition:!0};break;case "categories":r.filter="customAutocompleteColumnFilter";r.filterParams={applyButton:!0,caseSensitive:!0,defaultOption:"isOneOf",filterOptions:[{displayKey:"isOneOf",displayName:"isOneOf",test:!0}],newRowsAction:"keep",
suppressAndOrCondition:!0};r.suppressMenu=!1;break;case "categories_exclude":r.filter="customAutocompleteColumnFilter";r.filterParams={applyButton:!0,caseSensitive:!0,defaultOption:"isNoneOf",filterOptions:[{displayKey:"isNoneOf",displayName:"isNoneOf",test:!0}],newRowsAction:"keep",suppressAndOrCondition:!0};r.suppressMenu=!1;break;case "author":case "binding":case "brand":case "color":case "edition":case "format":case "languages":case "manufacturer":case "model":case "productGroup":case "size":r.filter=
"customAutocompleteColumnFilter";r.filterParams={applyButton:!0,caseSensitive:!0,defaultOption:"isOneOf",filterOptions:[{displayKey:"isOneOf",displayName:"isOneOf",test:!0},{displayKey:"isNoneOf",displayName:"isNoneOf",test:!0}],newRowsAction:"keep",suppressAndOrCondition:!0};r.suppressMenu=!1;break;case "buyBoxSellerIdHistory":r.filter="customDynamicColumnFilter";r.filterParams={applyButton:!0,newRowsAction:"keep",suppressAndOrCondition:!0};r.suppressMenu=!1;break;case "categoryTree":case "eanList":case "frequentlyBoughtTogether":case "linkReviews":case "parentAsin":case "reviews.ratingCount":case "reviews.reviewCount":case "sellerIdsLowestFBA":case "sellerIdsLowestFBM":case "subcategorySalesRanks":case "stockAmazon":case "stockBuyBox":case "upcList":case "urlAmazon":case "urlKeepa":case "variationCSV":r.filter=
!1;r.suppressMenu=!0;break;case "packageQuantity":r.filter=!1;r.suppressMenu=!0;break;case "asin":case "domainId":case "imagesCSV":r.filter=!1;r.suppressMenu=!0;break;case "lastUpdate":case "lastOffersUpdate":r.filter=!1;r.suppressMenu=!0;break;case "lastPriceChange":case "listedSince":case "publicationDate":case "releaseDate":case "trackingSince":r.filter="agDateColumnFilter";r.filterParams={applyButton:!0,defaultOption:"lessThanOrEqual",filterOptions:["lessThanOrEqual","greaterThanOrEqual","inRange"],
newRowsAction:"keep",suppressAndOrCondition:!0};r.suppressMenu=!1;break;case "rootCategory":V=GridHelperCategory.getRootHashMap(storage.domain);C=[];for(var ca in V)V=GridHelperCategory.getRoot(storage.domain,ca),C.push({value:V.catId,label:V.name+" ("+V.productCount+")"});C.sort(function(aa,ta){aa=aa.label.toUpperCase();ta=ta.label.toUpperCase();return aa<ta?-1:aa>ta?1:0});r.filter="customSingleChoiceColumnFilter";r.filterParams={applyButton:!0,valueOptions:C,newRowsAction:"keep",suppressAndOrCondition:!0};
r.suppressMenu=!1;break;case "couponOneTimeAbsolute":case "couponOneTimePercent":case "couponSNSPercent":r.suppressMenu=!1;break;case "COUNT_REVIEWS_avg30":case "COUNT_REVIEWS_avg90":case "COUNT_REVIEWS_avg180":r.filter=!1;r.suppressMenu=!0;break;case "offerCountFBA":case "offerCountFBM":case "fbaFees":r.filter="agNumberColumnFilter";r.filterParams={applyButton:!0,defaultOption:"lessThanOrEqual",filterOptions:["lessThanOrEqual","greaterThanOrEqual","inRange"],newRowsAction:"keep",suppressAndOrCondition:!0};
break;case "availabilityAmazon":case "checkboxSelection":case "itemDimension":case "packageDimension":case "salesRankReference":case "variationAttributes":break;default:z.includes("LIGHTNING_DEAL")&&Number(storage.domain)===getDomainByTld("in")?(r.filter=!1,r.suppressMenu=!0):"deltaPercentColumn"===w||"measureColumn"===w||"offerCountColumn"===w||"priceColumn"===w||"salesRankColumn"===w||V.includes(z)?"priceColumn"!==w&&"salesRankColumn"!==w&&"deltaPercentColumn"!==w||!C.concat(I).some(function(aa){return 0<=
z.indexOf(aa)})?(r.filter="agNumberColumnFilter",r.filterParams={applyButton:!0,defaultOption:"lessThanOrEqual",filterOptions:["lessThanOrEqual","greaterThanOrEqual","inRange"],newRowsAction:"keep",suppressAndOrCondition:!0}):(r.filter=!1,r.suppressMenu=!0):"booleanColumn"===w?(r.filter="customBooleanColumnFilter",r.filterParams={applyButton:!0,newRowsAction:"keep",isCheckbox:!1,suppressAndOrCondition:!0},r.suppressMenu=!1):"hiddenColumn"===w?r.suppressMenu=!1:(r.filter=!1,r.suppressMenu=!0,isTest&&
console.warn("Missing filter setting: "+r.field+" | "+w))}switch(z){case "availabilityAmazon":case "buyBoxSellerIdHistory":case "domainId":case "eanList":case "frequentlyBoughtTogether":case "imagesCSV":case "isAdultProduct":case "isEligibleForSuperSaverShipping":case "isEligibleForTradeIn":case "isSNS":case "languages":case "parentAsin":case "promotions":case "sellerIdsLowestFBA":case "sellerIdsLowestFBM":case "subcategorySalesRanks":case "upcList":case "variationCSV":r.sortable=!1;break;case "asin":case "categoryTree":case "description":case "feature0":case "feature1":case "feature2":case "feature3":case "feature4":case "linkReviews":case "reviews.ratingCount":case "reviews.reviewCount":case "stockAmazon":case "stockBuyBox":case "urlAmazon":case "urlKeepa":case "variationAttributes":r.sortable=
!1;break;case "packageQuantity":r.sortable=!1;break;case "categories":case "rootCategory":case "salesRankReference":r.sortable=!1;break;case "lastOffersUpdate":case "lastUpdate":r.sortable=!1;break;default:"priceColumn"!==w&&"salesRankColumn"!==w&&"deltaPercentColumn"!==w||!I.some(function(aa){return 0<=z.indexOf(aa)})?r.sortable="hiddenColumn"===w?!1:!0:r.sortable=!1}return r};return{csvTypesEnableLowestEver:a,csvTypesEnableOutOfStock:b,csvTypesOfferCounts:["COUNT_NEW","COUNT_USED","COUNT_REFURBISHED",
"COUNT_COLLECTIBLE"],gridTypesWithCheckboxSelection:enableListTrackingComponent?["asinViewer","variation"]:[],maxValuesPerFinderFilter:50,maxRowsFreeUser:5,rowHeight:d,unitSystem:{METRIC:{measure:"cm",weight:"g"},IMPERIAL:{measure:"in",weight:"lb"}},get:m,getColumns:q,getNewColumns:function(r){switch(r){case "bestseller":case "deals":case "storefront":var z="asin";break;case "viewer":z="asinViewer";break;case "finder":z="asinFinder";break;default:z=r}var w={asin:[],asinViewer:[],asinFinder:[],manage:[],
offer:[],buyBoxStatistics:[]};if(["asin","asinViewer","asinFinder"].includes(z)){w.asin.push({colState:{colId:"variationAttributes",hide:"deals"===r?!0:!1},insertAfterColId:"model"});w.asin.push({colState:{colId:"AMAZON_outOfStockPercentage90",hide:"deals"===r?!0:!1},insertAfterColId:"AMAZON_highest"},{colState:{colId:"NEW_outOfStockPercentage90",hide:"deals"===r?!0:!1},insertAfterColId:"NEW_highest"},{colState:{colId:"USED_outOfStockPercentage90",hide:"deals"===r?!0:!1},insertAfterColId:"USED_highest"});
w.asin.push({colState:{colId:"reviews.ratingCount",hide:"deals"===r?!0:!1},insertAfterColId:"COUNT_REVIEWS_avg180"},{colState:{colId:"reviews.reviewCount",hide:"deals"===r?!0:!1},insertAfterColId:"reviews.ratingCount"});w.asin.push({colState:{colId:"BUY_BOX_SHIPPING_outOfStockPercentage90",hide:"deals"===r?!0:!1},insertAfterColId:"BUY_BOX_SHIPPING_highest"});"bestseller"===r&&w.asin.push({colState:{colId:"SALES_avgHistorical",hide:!1},insertAfterColId:"title"});for(var I=$jscomp.makeIterator(GridConfig.csvTypesOfferCounts),
C=I.next();!C.done;C=I.next())if(C=C.value,w.asin.push({colState:{colId:C+"_avg30",hide:"finder"===r?!1:!0},insertAfterColId:C+"_current"},{colState:{colId:C+"_avg180",hide:"finder"===r?!1:!0},insertAfterColId:C+"_avg90"},{colState:{colId:C+"_deltaPercent90",hide:"finder"===r?!1:!0},insertAfterColId:C+"_avg180"}),enableDescriptionFeatures)for(w.asin.push({colState:{colId:"description",hide:!0},insertAfterColId:"title"},{colState:{colId:"feature0",hide:!0},insertAfterColId:"description"}),C=0;5>C;C++)w.asin.push({colState:{colId:"feature"+
C,hide:!0},insertAfterColId:0===C?"description":"feature"+(C-1)});w.asinFinder=w.asin.slice(0);w.asinViewer=w.asin.slice(0)}if("manage"===z){for(var V in CsvType)"object"===typeof CsvType[V]&&GridHelper.csvTypeIsTrackable(V)&&w.manage.push({colState:{colId:V+"_lastPriceChange",hide:!0},insertAfterColId:V+"_deltaTrackingCreated"});if(isTest){r=["COLLECTIBLE_NEW_SHIPPING","COLLECTIBLE_VERY_GOOD_SHIPPING","COLLECTIBLE_GOOD_SHIPPING","COLLECTIBLE_ACCEPTABLE_SHIPPING","REFURBISHED_SHIPPING"];for(var ca in CsvType)"object"===
typeof CsvType[ca]&&(I=GridHelper.csvTypeIsTrackable(ca),r.includes(ca)&&(V=CsvType.getObjectName(CsvType[ca].index-1),C=GridHelper.csvTypeIsTrackable(V),w.manage.push({colState:{colId:ca+"_current",hide:!0},insertAfterColId:C?V+"_deltaTrackingCreated":V+"_current"}),I&&(w.manage.push({colState:{colId:ca+"_desired",hide:!0},insertAfterColId:ca+"_current"}),w.manage.push({colState:{colId:ca+"_delta",hide:!0},insertAfterColId:ca+"_desired"}),w.manage.push({colState:{colId:ca+"_deltaCustom",hide:!0},
insertAfterColId:ca+"_delta"}),w.manage.push({colState:{colId:ca+"_deltaTrackingCreated",hide:!0},insertAfterColId:ca+"_deltaCustom"}))))}}"buyBoxStatistics"===z&&(w.buyBoxStatistics.push({colState:{colId:"stock",hide:!1},insertAfterColId:"avgNewOfferCount"}),w.buyBoxStatistics.push({colState:{colId:"isFBA",hide:!1},insertAfterColId:"sellerName"}));"offer"===z&&w.offer.push({colState:{colId:"sold",hide:!1},insertAfterColId:"stockCSV"},{colState:{colId:"sold30Day",hide:!1},insertAfterColId:"sold"});
GridConfig.gridTypesWithCheckboxSelection.includes(z)&&w[z].push({colState:{colId:"checkboxSelection",hide:!0},insertAfterColId:!1});return w[z]?w[z]:[]},getRowCountOptions:function(r){var z=!hasDataAccessSubscription;return{asin:{values:[5,20,100,500,1E3,2E3,5E3],disabled:[!1,z,z,z,z,z,z]},asinFinder:{values:[5,20,100,500,1E3,2E3,5E3],disabled:[!1,z,z,z,z,z,z]},seller:{values:[5,1E3,2E3,5E3,1E4,2E4,5E4,1E5],disabled:[!1,z,z,z,z,z,z,z]}}[r]}}}(),GridCellEditorComponents=function(){function a(){}function b(){}
function d(){}function g(){}a.prototype.init=function(m){var q=this,h=this;this.eGui=document.createElement("div");this.eGui.className="cell-editing--autocomplete-chips";this.eDivTags=document.createElement("div");m.value.length&&m.value.forEach(function(t){null!=t&&q.addChip(t.trim())});this.eGui.appendChild(this.eDivTags);var n=document.createElement("div");n.className="flex filter-text--autocomplete ui-front";this.input=document.createElement("input");this.addAutocompleter(m);n.appendChild(this.input).insertAdjacentHTML("beforeend",
"&emsp;");this.addButton=document.createElement("button");this.addButton.innerHTML='<i class="fa fa-plus"></i>';this.addButton.addEventListener("click",function(t){if(t=h.input.value.trim().replace(/\s\s+/g," "))t.split(" ").forEach(function(p){h.addChip(p,h.ul)}),h.input.value=""});n.appendChild(this.addButton);this.eGui.appendChild(n);n=document.createElement("div");this.saveButton=document.createElement("button");this.saveButton.innerHTML='<i class="fa fa-caret-right"></i> Ok';this.saveButton.addEventListener("click",
function(t){h.addButton.click();m.stopEditing()});n.appendChild(this.saveButton);this.eGui.appendChild(n)};a.prototype.addAutocompleter=function(m){var q=m.api.getFilterInstance(m.column.colDef.field).valueModel.allUniqueValues.filter(function(n){return null!=n}),h=[];$(this.input).autocomplete({classes:{"ui-autocomplete":"ag-custom-component-popup"},source:function(n,t){var p=n.term;if(p.length){n=q.filter(function(E){return 0===E.indexOf(p)});var v=q.filter(function(E){return 0<E.indexOf(p)});h=
n.concat(v)}else h=q;t(h)},autoFocus:!0,delay:200,minLength:0,close:function(n,t){n.stopPropagation()},position:{my:"left top",at:"left bottom",collision:"none"}}).focus(function(){$(this).data("ui-autocomplete").search($(this).val())})};a.prototype.addChip=function(m){if(0!==m.length){m=m.replace(/\s/g,"");var q=this,h=document.createElement("span");h.className="chip";var n=document.createElement("span");n.innerHTML=""+m;h.appendChild(n).insertAdjacentHTML("beforeend"," ");m=document.createElement("i");
m.className="fa fa-times";h.appendChild(m);this.eDivTags.appendChild(h);m.addEventListener("click",function(t){q.eDivTags.removeChild(this.parentElement)})}};a.prototype.getValue=function(){var m=[];this.eDivTags.querySelectorAll("span > span").forEach(function(q){m.push(q.innerHTML.trim())});return Array.from(new Set(m))};a.prototype.getGui=function(){return this.eGui};a.prototype.afterGuiAttached=function(){};a.prototype.destroy=function(){};a.prototype.isPopup=function(){return!0};b.prototype.init=
function(m){var q=this;this.ttlOptions=m.ttlOptions;this.ttlDefault=m.ttlDefault;this.eGui=document.createElement("div");this.eGui.className="cell-editing--images-csv";var h=document.createElement("div"),n=material.getSelect("tracking-ttl","tracking-ttl",this.ttlDefault,this.ttlOptions,"",!0,!0);h.innerHTML="<span>"+la._906+":</span>&emsp;"+n+"&emsp;";this.hiddenInput=document.createElement("input");this.hiddenInput.hidden=!0;this.hiddenInput.value=0;h.appendChild(this.hiddenInput);this.submitButton=
document.createElement("button");this.submitButton.innerHTML='<i class="fa fa-caret-right"></i> Ok';this.submitButton.addEventListener("click",function(t){q.hiddenInput.value=Number($(q.eGui.querySelector("select")).val());m.stopEditing()});h.appendChild(this.submitButton);this.eGui.appendChild(h)};b.prototype.getValue=function(){var m=Number(this.hiddenInput.value);0<m&&"undefined"===typeof this.ttlOptions.find(function(q){return q.value==m})&&(m=this.ttlDefault);return m};b.prototype.getGui=function(){return this.eGui};
b.prototype.afterGuiAttached=function(){};b.prototype.destroy=function(){};b.prototype.isPopup=function(){return!0};d.prototype.init=function(m){var q=m.isMultiLocaleData?m.isMultiLocaleData:!1,h=function(v,E){var F=document.createElement("div");if(q){var N=document.createElement("img");N.title="."+getTldByDomain(v);N.src=flags[v];F.appendChild(N)}N=function(K,J,U){var R=document.createElement("input");R.checked=U;R.className="ag-filter-checkbox";R.name=v;R.type="radio";R.value=J;J=document.createElement("label");
J.appendChild(R);J.insertAdjacentHTML("beforeend"," "+K);return J};F.appendChild(N(la._254,1,E));F.appendChild(N(la._255,0,!E));return F},n=m.column.colId,t=m.node.data;m=document.createElement("div");m.className="cell-editing--threshold-boolean";m.appendChild(h(t.product.domainId,t.product[n]));if(q&&t.multiLocaleProductsReduced.length){t=$jscomp.makeIterator(t.multiLocaleProductsReduced);for(var p=t.next();!p.done;p=t.next())p=p.value,m.appendChild(h(p.domainId,p[n]))}this.eGui=m;this.isMultiLocaleData=
q};d.prototype.getValue=function(){var m=this.eGui.querySelectorAll("input:checked");if(this.isMultiLocaleData){var q={};m.forEach(function(h){q[Number(h.name)]=1===Number(h.value)});return q}return 1===Number(m[0].value)};d.prototype.getGui=function(){return this.eGui};d.prototype.destroy=function(){};d.prototype.isPopup=function(){return!1};g.prototype.init=function(m){var q=function(F,N,K){var J=document.createElement("div"),U=document.createElement("img");U.title="."+getTldByDomain(F);U.src=flags[F];
J.appendChild(U);U=document.createElement("input");U.name=F;U.pattern="^\\d*(\\.\\d{1,2}$)?";U.title=la._745;U.value="";t&&0<K?U.value=Money.format(K,{sourceDomainId:N,targetDomainId:N,skipSymbol:!0}).replace(",",""):!t&&0<=K&&(U.value="RATING"==n?(K/10).toFixed(1):K);J.appendChild(U);F=document.createElement("span");F.innerHTML='<i class="fa fa-exclamation" title="'+la._105+'"></i>';J.appendChild(F);return J},h=m.column.colId,n=GridHelper.getCsvObjectName(h),t=CsvType[n].currency;m=m.node.data;var p=
document.createElement("div");p.className="cell-editing--threshold";p.appendChild(q(m.product.domainId,m.product.domainId,m.product[h]));if(m.multiLocaleProductsReduced.length)for(var v=$jscomp.makeIterator(m.multiLocaleProductsReduced),E=v.next();!E.done;E=v.next())E=E.value,p.appendChild(q(E.domainId,m.product.domainId,E[h]));this.eGui=p;this.domainId=m.product.domainId;this.csvTypeName=n;this.isCurrency=t};g.prototype.isValid=function(m){return!isNaN(parseFloat(m))&&isFinite(m)};g.prototype.getValue=
function(){var m=this,q={};this.eGui.querySelectorAll("input").forEach(function(h){var n=h.value.trim();n=0===n.length?-1:m.isValid(n)?m.isCurrency?Money.format(Money.unformat(n),{sourceDomainId:m.domainId,targetDomainId:m.domainId,isDivided:!0,skipSymbol:!0}):"RATING"===m.csvTypeName?10*Money.unformat(n):Money.unformat(n):-2;q[h.name]=n});return q};g.prototype.getGui=function(){return this.eGui};g.prototype.destroy=function(){};g.prototype.isPopup=function(){return!1};return{AutocompleteChips:a,
MetaData:b,ThresholdBooleanValues:d,ThresholdValues:g}}(),GridCellRendererComponents=function(){function a(){}a.prototype.init=function(b){this.params=b;this.eGui=document.createElement("div");b=this.getContent();"object"===typeof b?this.eGui.appendChild(b):this.eGui.innerHTML=this.getContent()};a.prototype.getGui=function(){return this.eGui};a.prototype.refresh=function(b){this.updateRowHeight();return!1};a.prototype.getContent=function(){var b=this;if("productKey"===this.params.column.colId)return this.params.valueFormatted?
this.params.valueFormatted:this.params.value;var d="",g=this.params.data.realField,m=this.params.data.realType,q=this.params.data.cellClass;q&&(d+='<div class="'+q+'">');if(m&&m.includes("booleanColumn"))d+=GridHelper.cellRendererBoolean(this.params);else if((g.includes("_current")||g.includes("_avg"))&&"RATING_current"!==g)d+=GridHelper.cellRendererCsvType(this.params);else switch(g){case "domainId":g=this.params.value;d+='<div class="gridDomainCell">\n\t\t\t\t\t\t\t<img title=".'+getTldByDomain(g)+
'" src="'+flags[g]+'">\n\t\t\t\t\t\t</div>';break;case "imagesCSV":this.params.colDef.cellRendererParams={imageSize:36};d+=GridHelper.cellRendererImage(this.params);break;case "title":d+=this.params.value;break;case "lastPriceChange":d+=GridHelper.cellRendererDateAgo(this.params);break;case "trackingSince":d+=GridHelper.cellRendererDateKeepaTime(this.params);break;case "listedSince":d+=GridHelper.cellRendererDateKeepaTime(this.params);break;case "RATING_current":d+=GridHelper.cellRendererRatingStar(this.params).replace("<br>",
" ");break;case "rootCategory":this.params.value<invalidIfLargerCatId&&(g=GridHelperCategory.getName(this.params.data.domainId,this.params.value),g=GridHelperCategory.render(this.params.data.domainId,this.params.value,g),d+="object"===typeof g?g.outerHTML:g);break;case "categories":this.params.value.forEach(function(t,p){var v=GridHelperCategory.getName(b.params.data.domainId,t);t=GridHelperCategory.render(b.params.data.domainId,t,v);d+=(0<p?" / ":"")+("object"===typeof t?t.outerHTML:t)});break;case "categoryTree":if(null==
this.params.value||""===this.params.value)d+="";else{var h=this.params.value,n=document.createElement("div");h.forEach(function(t,p){t=GridHelperCategory.render(b.params.data.domainId,t.catId,t.name);p<h.length-1?n.appendChild(t).insertAdjacentHTML("beforeend"," &rsaquo; "):n.appendChild(t)});d+=n.outerHTML}break;case "eanList":case "upcList":case "partNumber":return GridHelper.cellRendererProductCodes(this.params);case "manufacturer":case "brand":case "color":case "size":case "edition":case "format":case "author":case "binding":d+=
GridHelper.cellRendererTextFinder(this.params);break;case "model":d+=GridHelper.defaultTextClamp(this.params.value);break;case "variationCSV":case "frequentlyBoughtTogether":d+=GridHelper.cellRendererLinkedAsins(this.params);break;case "productGroup":d+=GridHelper.cellRendererProductGroup(this.params);break;case "publicationDate":case "releaseDate":d+=GridHelper.cellRendererDateYMD(this.params);break;case "languages":d+=GridHelper.cellRendererLanguage(this.params);break;case "packageDimension":case "itemDimension":d+=
GridHelper.cellRendererDimension(this.params);break;case "buyBoxSellerIdHistory":d+=GridHelper.cellRendererBuyBoxSellerId(this.params);break;case "sellerIdsLowestFBA":case "sellerIdsLowestFBM":d+=GridHelper.cellRendererSellerIdsLowest(this.params);break;case "couponOneTimeAbsolute":d+=GridHelper.cellRendererMoney(this.params);break;case "fbaFees":d+=GridHelper.cellRendererFbaFees(this.params);break;default:d+=this.params.valueFormatted?this.params.valueFormatted:this.params.value}q&&(d+="</div>");
return d};a.prototype.updateRowHeight=function(){var b=this.params.api.getCellRendererInstances({rowNodes:[this.params.node]}).reduce(function(d,g){g.eGui.offsetHeight>d&&(d=g.eGui.offsetHeight);return d},0);this.params.node.setRowHeight(b+8);this.params.api.onRowHeightChanged()};return{AutoHeightRow:a}}(),GridComponents=function(){function a(){}a.prototype.init=function(b){this.eGui=document.createElement("div");this.eGui.innerHTML='<div class="ag-cell-label-container" role="presentation">\n\t\t\t\t<div ref="eLabel" class="ag-header-cell-label custom-reset-header-cell" role="presentation">\n\t\t\t\t\t<span ref="eText" class="ag-header-cell-text" role="columnheader">'+
b.displayName+'&ensp;<i class="fa fa-undo"></i></span>\n\t\t\t\t</div>\n\t\t\t</div>';this.eLabel=this.eGui.querySelector(".ag-header-cell-label");this.eLabel.addEventListener("click",function(){b.columnApi.resetColumnState();b.api.sizeColumnsToFit();GridState.saveColumnState(b)})};a.prototype.getGui=function(){return this.eGui};a.prototype.destroy=function(){};return{CustomResetHeader:a}}(),GridFilter=function(){function a(){}function b(){}function d(){}function g(){}function m(){}function q(){}
var h=null,n=function(v){var E=$(v).attr("name").replace("autocomplete-",""),F=$(v).parent().parent(),N=F.children("p").first(),K=F.find('input[type="hidden"]'),J=[],U=function(R){R=Array.from(new Set(R)).filter(function(oa){return oa.length});var S=K.val().split("###").filter(function(oa){return oa}),fa=!1;R=$jscomp.makeIterator(R);for(var qa=R.next();!qa.done;qa=R.next())if(qa=qa.value,-1===S.indexOf(qa)){if(0===S.length)N.append(GridFilter.getClearAllItem()).find("i").on("click",function(){p(this)});
S.length<GridConfig.maxValuesPerFinderFilter?(N.append("<span><span>"+qa+'</span> <i class="fa fa-times"></i></span>').find("i").on("click",function(){p(this)}),S.push(qa)):fa=!0}S.length&&(S.sort(),S=S.map(function(oa){return oa.replace(/"/g,"&quot;")}),K.val(S.join("###")).change());fa&&GridFinder.showPopupMaxValuesPerFinderFilter()};$(v).autocomplete({source:function(R,S){var fa=R.term;fa.includes("###")?S([{data:fa,label:"Multiple values: "+fa,value:" "}]):network.request({path:"pro/autocomplete",
content:fa,domainId:Number(storage.domain),maxResults:25,type:E,version:3}).done(function(qa){if(null!=qa.suggestions){for(var oa=[],va=[],ka=0;ka<qa.suggestions.length;ka++){var ma=qa.suggestions[ka],Y=ma.value+" ("+ma.count+")";oa.push(ma.value);va.push({label:Y,value:ma.value})}va.unshift({selectAll:!0,data:oa.join("###"),label:"Select all",value:" "});J=oa;S(va)}else J=[],S([{label:fa+" (?)",value:fa}])}).fail(function(qa){showErrorPopup("Status: "+qa.status)})},autoFocus:!0,delay:200,minLength:0,
close:function(R,S){R=$(v).val();-1<J.indexOf(R)&&U([R]);$(v).val("")},select:function(R,S){if(""!=S.item.value||""!=S.item.data)return R=[],S.item.data?R=S.item.data.split("###"):R.push(S.item.value),U(R),$(v).val(""),!1},position:{my:"left top",at:"left bottom",collision:"none"}}).focus(function(){$(this).data("ui-autocomplete").search($(this).val())}).data("ui-autocomplete")._renderItem=function(R,S){var fa=$("<li>"),qa=$("<div>"),oa=S.label;S.disabled&&(fa.addClass("ui-state-disabled"),oa='<i class="fa fa-ban"></i>&ensp;'+
oa);S.selectAll&&(fa.addClass("ui-item-select-all"),oa='<i class="fa fa-check-circle-o"></i>&ensp;'+oa);qa.html(oa);return fa.append(qa).appendTo(R)}},t=function(v){var E=$(v).attr("name").replace("autocomplete-",""),F=$(v).parent().parent(),N=F.children("p").first(),K=F.find('input[type="hidden"]'),J="salesRankReference"===E;$(v).autocomplete({source:function(U,R){U=U.term;var S=-1,fa=$("#singleChoice-rootCategory");$(fa).is(":visible")?S=Number(fa.val()):h&&h.api&&(fa=h.api.getFilterInstance("rootCategory").getModel())&&
fa.filterActive&&(S=Number(fa.filter));U={path:"service/search",type:"category",domainId:Number(storage.domain),rootCategory:isNaN(S)?-1:S,content:U,version:3};isTest&&console.info("%cGrid: searchCategory \u27fc ","color:#6666bf;font-weight:bold;",U,[JSON.stringify(U)]);network.request(U).always(function(qa){if(null!=qa&&null!=qa.categories){qa=qa.categories;var oa=[],va=[],ka="?;Categories;Kategorien;Categor\u00edas;Categorie;Categorias;\u30ab\u30c6\u30b4\u30ea\u30fc\u5225;Products;Produkte;Departments;Special Feature Stores;Custom Stores".split(";"),
ma;for(ma in qa){var Y=qa[ma];if("undefined"!=typeof Y.matched&&Y.productCount&&Y.name&&"?"!=Y.name&&0<Y.parent&&(!J||J&&(null==Y.children||0===Y.children.length))){var xa={id:ma,name:Y.name};J||oa.push(xa);for(var L=[],f=Y;null!=f&&0!=f.parent;)f=qa[f.parent],null==f||ka.includes(f.name)||L.unshift(f.name);va.push({data:[xa],prefix:L.length?L.join(" &raquo; ")+" &raquo;":null,label:Y.name+" ("+Y.productCount+")",value:ma,count:Y.productCount})}}va.sort(function(H,Q){return H.count<Q.count?1:H.count>
Q.count?-1:0});va.length?(J||va.unshift({selectAll:!0,data:oa,label:"Select all",value:" "}),R(va)):R([{disabled:!0,label:"No matches found",value:"No matches found"}])}else R([{disabled:!0,label:"No matches found",value:"No matches found"}])})},autoFocus:!0,delay:200,minLength:[5,7].includes(Number(storage.domain))?1:2,close:function(U,R){$(v).val("")},select:function(U,R){if(""!=R.item.value||R.item.data){var S=R.item.data||{id:R.item.value,name:R.item.label};U=J?[]:K.val().split("###").filter(function(qa){return qa});
R=!1;S=$jscomp.makeIterator(S);for(var fa=S.next();!fa.done;fa=S.next())if(fa=fa.value,-1===U.indexOf(fa.id)){if(0===U.length&&!J)N.append(GridFilter.getClearAllItem()).find("i").on("click",function(){p(this)});U.length<GridConfig.maxValuesPerFinderFilter?(J&&N.html("&thinsp;"),N.append("<span><span>"+fa.name+'</span> <i class="fa fa-times" data-id="'+fa.id+'"></i></span>').find("i").on("click",function(){p(this)}),U.push(fa.id)):R=!0}U.length&&K.val(U.join("###")).change();$(v).val("");R&&GridFinder.showPopupMaxValuesPerFinderFilter();
return!1}},position:{my:"left top",at:"left bottom",collision:"none"}}).data("ui-autocomplete")._renderItem=function(U,R){var S=$("<li>"),fa=$("<div>"),qa=R.label;R.disabled&&(S.addClass("ui-state-disabled"),qa='<i class="fa fa-ban"></i>&ensp;'+qa);R.selectAll&&(S.addClass("ui-item-select-all"),qa='<i class="fa fa-check-circle-o"></i>&ensp;'+qa);fa.addClass("item--categories");qa=R.prefix?"<span>"+(R.prefix?R.prefix:"-")+"<br></span>"+qa:""+qa;fa.html(qa);return S.append(fa).appendTo(U)}},p=function(v){var E=
$(v).closest("div"),F=E.find('input[type="hidden"]');E=E.find(".mdc-text-field-helper-text--persistent");if(F.length)if(-1===$(v).data("id"))F.val("").change(),E.html("&thinsp;");else{var N=$(v).prev().text();$(v).data("id")&&(N=$(v).data("id")+"");E=F.val().split("###").filter(function(K){return K});E=E.filter(function(K){return K!==N});E.sort();E=E.map(function(K){return K.replace(/"/g,"&quot;")});F.val(E.join("###")).change();$(v).parent().remove()}};a.prototype.init=function(v){var E="autocomplete-"+
v.colDef.field,F=!("categories"===v.colDef.field||"categories_exclude"===v.colDef.field);this.eGui=document.createElement("div");this.eGui.innerHTML='\n\t\t\t<div class="filter-text--autocomplete ui-front">\n\t\t\t\t<div>\n\t\t\t\t\t<select class="ag-filter-select" id="filterType"'+(F?"":" disabled")+'>\n\t\t\t\t\t\t<option value="isOneOf">Is one of</option>\n\t\t\t\t\t\t'+(F?'<option value="isNoneOf">Is none of</option>':"")+'\n\t\t\t\t\t</select>\n\t\t\t\t</div>\n\t\t\t\t<div class="ag-filter-body">\n\t\t\t\t\t<input class="ag-filter-filter" id="filterText" name="'+
E+'" type="text" placeholder="Filter">\n\t\t\t\t</div>\n\t\t\t\t<p></p>\n\t\t\t\t<input type="hidden" name="'+E+'" value="">\n\t\t\t\t<div class="ag-filter-apply-panel" id="applyPanel">\n\t\t\t\t\t<button type="button" id="clearButton"'+(v.clearButton?"":' class="ag-hidden"')+'>Clear Filter</button>\n\t\t\t\t\t<button type="button" id="applyButton"'+(v.applyButton?"":' class="ag-hidden"')+'><i class="fa fa-caret-right"></i> Apply</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t';v.applyButton&&(this.applyButton=
this.eGui.querySelector("#applyButton"),this.applyButton.addEventListener("click",this.onFilterChanged.bind(this)));this.select=this.eGui.querySelector("#filterType");this.input=this.eGui.querySelector("#filterText");this.wrapper=$(this.input).parent().parent();this.hidden=$(this.wrapper).find('input[type="hidden"]');"categories"===v.colDef.field||"categories_exclude"===v.colDef.field?t(this.input):n(this.input);this.filterField=v.colDef.field;this.filter="";this.type="isOneOf";this.filterActive=
""!==this.filter;this.filterChangedCallback=v.filterChangedCallback;this.valueGetter=v.valueGetter};a.prototype.getGui=function(){return this.eGui};a.prototype.afterGuiAttached=function(v){this.hidePopup=v.hidePopup};a.prototype.isFilterActive=function(){return this.filterActive};a.prototype.getModel=function(){return this.filterActive?{filterType:"autocomplete",filter:this.filter,type:this.type}:null};a.prototype.setModel=function(v){if(v){var E="",F="",N=v.filter?v.filter.split("###").map(function(J){return J.trim()}).filter(function(J){return""!=
J}):[];if(N.length){var K="categories"===this.filterField||"categories_exclude"===this.filterField;N=Array.from(new Set(N));N.sort();N.forEach(function(J){E=K?E+("<span><span>"+J+'</span> <i class="fa fa-times" data-id="'+J+'"></i></span>'):E+("<span><span>"+J+'</span> <i class="fa fa-times"></i></span>')});F=N.join("###")}N=$(this.wrapper).children("p").first();N.html(E);N.find("i").on("click",function(){GridFilter.autocompleterRemoveItem(this)});$(this.hidden).val(F);this.filter=v.filter;this.type=
v.type;this.filterActive=0<this.filter.length;$(this.select).val(this.type)}else this.filter="",this.type="isOneOf",this.filterActive=!1,$(this.hidden).val(""),$(this.select).val("isOneOf")};a.prototype.onFilterChanged=function(){this.filter=$(this.hidden).val();this.type=$(this.select).val();this.filterActive=""!==this.filter;this.filterChangedCallback()};b.prototype.init=function(v){var E="manage"===v.context.pageId,F=v.colDef.field+"Filter";!0===v.isCheckbox?this.eGui=document.createElement("div"):
(this.eGui=document.createElement("div"),this.eGui.innerHTML='\n\t\t\t\t<div class="ag-filter-body">\n\t\t\t\t\t<label>\n\t\t\t\t\t\t<input type="radio" name="'+F+'" value="-1" checked="true" class="ag-filter-checkbox" /> All\n\t\t\t\t\t</label>\n\t\t\t\t\t<label>\n\t\t\t\t\t\t<input type="radio" name="'+F+'" value="1" class="ag-filter-checkbox" /> Yes\n\t\t\t\t\t</label>\n\t\t\t\t\t'+("LIGHTNING_DEAL_upcoming"!==v.colDef.field||E?'<label>\n\t\t\t\t\t\t<input type="radio" name="'+F+'" value="0" class="ag-filter-checkbox" /> No\n\t\t\t\t\t</label> ':
"")+'\t\t\t&ensp;\n\t\t\t\t</div>\n\t\t\t\t<div class="ag-filter-apply-panel" id="applyPanel">\n\t\t\t\t\t<button type="button" id="clearButton"'+(v.clearButton?"":' class="ag-hidden"')+'>Clear Filter</button>\n\t\t\t\t\t<button type="button" id="applyButton"'+(v.applyButton?"":' class="ag-hidden"')+'><i class="fa fa-caret-right"></i> Apply</button>\n\t\t\t\t</div>\n\t\t\t');this.radios=this.eGui.querySelectorAll('input[name="'+F+'"]');if(v.applyButton)(this.applyButton=this.eGui.querySelector("#applyButton"))&&
this.applyButton.addEventListener("click",this.onFilterChanged.bind(this));else for(F=0;F<this.radios.length;F++)this.radios[F].addEventListener("change",this.onFilterChanged.bind(this));this.isManage=E;this.isCheckbox=v.isCheckbox;this.filterField=v.colDef.field;this.filter=!0===this.isCheckbox?"":-1;this.filterActive=!this.isCheckbox&&-1<this.filter||!0===this.isCheckbox&&"on"===this.filter;this.filterChangedCallback=v.filterChangedCallback;this.filterValueGetter=v.colDef.filterValueGetter;this.type=
"equals";this.valueGetter=v.colDef.valueGetter};b.prototype.getGui=function(){return this.eGui};b.prototype.afterGuiAttached=function(v){this.hidePopup=v.hidePopup};b.prototype.isFilterActive=function(){return this.filterActive};b.prototype.doesFilterPass=function(v){var E=v.data[this.filterField];!this.isManage||"LIGHTNING_DEAL_upcoming"!==this.filterField&&"LIGHTNING_DEAL_backInStock"!==this.filterField||(E="LIGHTNING_DEAL_upcoming"===this.filterField?this.valueGetter(v):this.filterValueGetter(v));
return E==this.filter};b.prototype.getModel=function(){return this.filterActive?{filterType:"boolean",filter:this.filter,type:this.type}:null};b.prototype.setModel=function(v){v?($(this.eGui.querySelector('input[value="'+v.filter+'"]')).prop("checked",!0),this.filter=v.filter):this.filter=!0===this.isCheckbox?"":-1;this.filterActive=!this.isCheckbox&&-1<this.filter||!0===this.isCheckbox&&"on"===this.filter};b.prototype.onFilterChanged=function(){this.filter=$(this.eGui.querySelector("input:checked")).val();
this.filterActive=!this.isCheckbox&&-1<this.filter||!0===this.isCheckbox&&"on"===this.filter;this.filterChangedCallback()};d.prototype.init=function(v){var E=this;if("buyBoxSellerIdHistory"!==v.colDef.field)this.eGui=document.createElement("div");else{var F=SellerUtil.getAmazonSellerIds(Number(storage.domain)),N=Array.from(F,function(J){return"-"+J});F=F.join(",");N=N.join(",");this.eGui=document.createElement("div");this.eGui.innerHTML='\n\t\t\t<div class="ag-filter-body" style="width:200px;">\n\t\t\t\t<label>\n\t\t\t\t\t<input type="radio" name="dynamic-'+
v.colDef.field+'" value="-1" class="ag-filter-checkbox" /> All\n\t\t\t\t</label><br>\n\t\t\t\t'+(F.length?'\n\t\t\t\t<label>\n\t\t\t\t\t<input type="radio" name="dynamic-'+v.colDef.field+'" value="'+F+'" class="ag-filter-checkbox" /> Amazon\n\t\t\t\t</label><br>':"")+"\n\t\t\t\t"+(N.length?'\n\t\t\t\t<label>\n\t\t\t\t\t<input type="radio" name="dynamic-'+v.colDef.field+'" value="'+N+'" class="ag-filter-checkbox" /> 3rd Party\n\t\t\t\t</label><br>':"")+'\n\t\t\t\t<label>\n\t\t\t\t\t<input type="radio" name="dynamic-'+
v.colDef.field+'" value="1" class="ag-filter-checkbox" /> Seller IDs:\n\t\t\t\t</label><br>\n\t\t\t\t<input type="text" name="dynamicAnyOfDetail-'+v.colDef.field+'" class="ag-filter-filter" style="width:92%;" />\n\t\t\t</div>\n\t\t\t<div class="ag-filter-apply-panel" id="applyPanel">\n\t\t\t\t<button type="button" id="clearButton"'+(v.clearButton?"":' class="ag-hidden"')+'>Clear Filter</button>\n\t\t\t\t<button type="button" id="applyButton"'+(v.applyButton?"":' class="ag-hidden"')+'><i class="fa fa-caret-right"></i> Apply</button>\n\t\t\t</div>\n\t\t';
this.radios=this.eGui.querySelectorAll('input[type="radio"]');v.applyButton&&(this.applyButton=this.eGui.querySelector("#applyButton"))&&this.applyButton.addEventListener("click",this.onFilterChanged.bind(this));F=function(J){var U=J.target;J=U.value;"radio"===U.type?(U=E.eGui.querySelector('input[name="dynamicAnyOfDetail-'+v.colDef.field+'"'),1==J?U.focus():U.value=""):E.eGui.querySelector('input[value="1"]').checked=!0};N=this.eGui.querySelectorAll('input[name^="dynamic"]');for(var K=0;K<N.length;K++)N[K].addEventListener("focus",
F)}this.filterField=v.colDef.field;this.filter=-1;this.filterDetail="";this.filterActive=-1!=this.filter;this.filterChangedCallback=v.filterChangedCallback;this.type="equals";this.valueGetter=v.valueGetter};d.prototype.getGui=function(){return this.eGui};d.prototype.afterGuiAttached=function(v){this.hidePopup=v.hidePopup};d.prototype.isFilterActive=function(){return this.filterActive};d.prototype.getModel=function(){return this.filterActive?{filterType:"dynamic",filter:this.filter,filterDetail:this.filterDetail,
type:this.type}:null};d.prototype.setModel=function(v){var E=v?$(this.eGui.querySelector('input[value="'+v.filter+'"]')):[];v&&E.length?($(this.eGui.querySelector('input[value="'+v.filter+'"]')).prop("checked",!0),$(this.eGui.querySelector('input[name="dynamicAnyOfDetail-'+this.filterField+'"')).val(v.filterDetail),this.filter=v.filter,this.filterDetail=v.filterDetail):(this.filter=-1,this.filterDetail="");this.filterActive=-1!=this.filter};d.prototype.onFilterChanged=function(){this.filter=$(this.eGui.querySelector("input:checked")).val();
this.filterDetail=$(this.eGui.querySelector('input[name="dynamicAnyOfDetail-'+this.filterField+'"')).val();this.filterActive=-1!=this.filter;this.filterChangedCallback()};m.prototype.init=function(v){var E=v.colDef.field+"Filter",F=v.colDef.filterParams.valueOptions,N='<option value="-1">All</option>',K;for(K in F){var J=F[K];N+='<option value="'+J.value+'">'+J.label+"</option>"}this.eGui=document.createElement("div");this.eGui.innerHTML='\n\t\t\t<div class="ag-filter-body">\n\t\t\t\t<select id="'+
E+'" class="ag-filter-select">\n\t\t\t\t\t'+N+'\n\t\t\t\t</select>\n\t\t\t&ensp;\n\t\t\t</div>\n\t\t\t<div class="ag-filter-apply-panel" id="applyPanel">\n\t\t\t\t<button type="button" id="clearButton"'+(v.clearButton?"":' class="ag-hidden"')+'>Clear Filter</button>\n\t\t\t\t<button type="button" id="applyButton"'+(v.applyButton?"":' class="ag-hidden"')+'><i class="fa fa-caret-right"></i> Apply</button>\n\t\t\t</div>\n\t\t';this.select=this.eGui.querySelector("#"+E);v.applyButton?(this.applyButton=
this.eGui.querySelector("#applyButton"),this.applyButton.addEventListener("click",this.onFilterChanged.bind(this))):this.select.addEventListener("change",this.onFilterChanged.bind(this));this.valueOptions=F;this.filter=-1;this.filterActive=-1<this.filter;this.filterChangedCallback=v.filterChangedCallback;this.type="equals";this.valueGetter=v.valueGetter};m.prototype.getGui=function(){return this.eGui};m.prototype.afterGuiAttached=function(v){this.hidePopup=v.hidePopup};m.prototype.isFilterActive=
function(){return this.filterActive};m.prototype.getModel=function(){return-1<this.filter?{filterType:"singleChoice",filter:this.filter,type:this.type}:null};m.prototype.setModel=function(v){v?($(this.select).val(v.filter),this.filter=v.filter):this.filter=-1;this.filterActive=-1<this.filter};m.prototype.onFilterChanged=function(){this.filter=$(this.select).val();this.filterActive=-1<this.filter;this.filterChangedCallback()};q.prototype.init=function(v){var E="singleChoiceRadio-"+v.colDef.field+"Filter",
F=v.colDef.filterParams.valueOptions,N=F.find(function(R){return!0===R.default}),K="",J;for(J in F){var U=F[J];K+='<label>\n\t\t\t\t\t<input type="radio" name="'+E+'" value="'+U.value+'" class="ag-filter-checkbox" /> '+U.label+"\n\t\t\t\t</label><br>"}this.eGui=document.createElement("div");this.eGui.innerHTML='\n\t\t\t<div class="ag-filter-body" style="width:120px;margin-top:10px;">\n\t\t\t\t'+K+'\n\t\t\t&ensp;\n\t\t\t</div>\n\t\t\t<div class="ag-filter-apply-panel" id="applyPanel">\n\t\t\t\t<button type="button" id="clearButton"'+
(v.clearButton?"":' class="ag-hidden"')+'>Clear Filter</button>\n\t\t\t\t<button type="button" id="applyButton"'+(v.applyButton?"":' class="ag-hidden"')+'><i class="fa fa-caret-right"></i> Apply</button>\n\t\t\t</div>\n\t\t';this.radios=this.eGui.querySelectorAll('input[type="radio"]');v.applyButton?(this.applyButton=this.eGui.querySelector("#applyButton"),this.applyButton.addEventListener("click",this.onFilterChanged.bind(this))):this.select.addEventListener("change",this.onFilterChanged.bind(this));
this.valueOptions=F;this.filter=this.filterDefault=N.value;this.filterActive=this.filter!=this.filterDefault;this.filterChangedCallback=v.filterChangedCallback;this.type="equals"};q.prototype.getGui=function(){return this.eGui};q.prototype.afterGuiAttached=function(v){this.hidePopup=v.hidePopup};q.prototype.isFilterActive=function(){return this.filterActive};q.prototype.getModel=function(){return this.filter!=this.filterDefault?{filterType:"singleChoiceRadio",filter:this.filter,type:this.type}:null};
q.prototype.setModel=function(v){var E=v?$(this.eGui.querySelector('input[value="'+v.filter+'"]')):[];v&&E.length?($(this.eGui.querySelector('input[value="'+v.filter+'"]')).prop("checked",!0),this.filter=v.filter):this.filter=-1;this.filterActive=this.filter!=this.filterDefault};q.prototype.onFilterChanged=function(){this.filter=$(this.eGui.querySelector("input:checked")).val();this.filterActive=this.filter!=this.filterDefault;this.filterChangedCallback()};return{autocompleterAdd:n,autocompleterAddCategories:t,
autocompleterRemoveItem:p,getClearAllItem:function(){return'<span style="background-color:#f3f3f3;"><span style="font-style:italic;">Clear all <i class="fa fa-times" data-id="-1"></i></span></span>'},initCustomNumberArrayColumnFilter:function(){g.prototype=new agGrid.NumberFilter;g.NULL_VALUE="nullValue";g.prototype.afterGuiAttached=function(){var v=GridHelper.getCsvObjectName(this.providedFilterParams.colDef.field);if(3>this.eGui.children.length&&"manage"===this.gridOptionsWrapper.gridOptions.context.pageId&&
CsvType[v].currency){var E=getCurrencyCodeByDomain(0<currencyDomainId?currencyDomainId:Number(storage.domain)),F=this.eGui.children[this.eGui.children.length-1],N=document.createElement("div");N.className="custom-filter-info-panel";N.innerHTML='<i class="fa fa-info-circle"></i> '+la._700.replace("#currency#",E);F.parentNode.appendChild(N)}"SALES"===v&&(v=$(this.eGui.querySelector('[ref="eOptions1"] option[value="nullValue"]')).get(0))&&(v.innerHTML="No Sales Rank");this.eValueFrom1.focus()};g.prototype.updateUiVisibility=
function(v){v=this.allowTwoConditions;agGrid.Utils.setVisible(this.eCondition2Body,v);agGrid.Utils.setVisible(this.eType2,v);agGrid.Utils.setVisible(this.eJoinOperatorPanel,v);var E=this.showValueFrom(this.getCondition1Type()),F=this.showValueTo(this.getCondition1Type());this.getCondition1Type()===g.NULL_VALUE&&(F=E=!1);agGrid.Utils.setVisible(this.eValueFrom1,E);agGrid.Utils.setVisible(this.eValueTo1,F);E=v?this.showValueFrom(this.getCondition2Type()):!1;agGrid.Utils.setVisible(this.eValueFrom2,
E);v=v?this.showValueTo(this.getCondition2Type()):!1;agGrid.Utils.setVisible(this.eValueTo2,v);this.getCondition1Type()===g.NULL_VALUE?(this.eValueFrom1.value=-1,this.eValueTo1.value=-1):-1==this.eValueFrom1.value&&-1==this.eValueTo1.value&&(this.eValueFrom1.value=null,this.eValueTo1.value=null)};g.prototype.individualConditionPasses=function(v,E){var F=this;v=this.scalarFilterParams.valueGetter(v.node);var N=this.mapRangeFromModel(E),K=N.from,J=N.to,U=E.type,R=this.scalarFilterParams.inRangeInclusive;
if((E=this.optionsFactory.getCustomOption(U))&&(null!=K||E.hideFilterInput))return E.test(K,v);if(Array.isArray(v))return v.some(function(S){var fa=F.nullComparator(U,K,S);S=null==J?null:F.nullComparator(U,J,S);return F.getPassResult(U,fa,S,R)});E=this.nullComparator(U,K,v);v=null==J?null:this.nullComparator(U,J,v);return this.getPassResult(U,E,v,R)};g.prototype.getPassResult=function(v,E,F,N){if(v===agGrid.ScalerFilter.EQUALS)return 0===E;if(v===agGrid.ScalerFilter.GREATER_THAN)return 0<E;if(v===
agGrid.ScalerFilter.GREATER_THAN_OR_EQUAL)return 0<=E;if(v===agGrid.ScalerFilter.LESS_THAN_OR_EQUAL)return 0>=E;if(v===agGrid.ScalerFilter.LESS_THAN)return 0>E;if(v===agGrid.ScalerFilter.NOT_EQUAL)return 0!=E;if(v===agGrid.ScalerFilter.IN_RANGE)return N?0<=E&&0>=F:0<E&&0>F;throw Error("Unexpected type of filter: "+v);}},setGridApi:function(v){h=v},AutocompleteFilter:a,BooleanFilter:b,DynamicFilter:d,NumberArrayFilter:g,SingleChoiceFilter:m,SingleChoiceRadioFilter:q}}(),GridHelper=function(){var a=
!1,b={"-1":"no Amazon offer exists",0:"Amazon offer is in stock and shippable",1:"Amazon offer is a pre-order",2:"Amazon offer availability is &quot;unknown&quot;",3:"Amazon offer is back-ordered",4:"Amazon offer shipping is delayed"},d=function(f,H){if(null!=f.api&&"undefined"!==typeof f.api){H=$(H).parent('[role="row"]');if("infinite"===f.rowModelType)return H=H.attr("row-index"),f.api.getDisplayedRowAtIndex(H);if("serverSide"===f.rowModelType){var Q=H.attr("row-id"),Z=null;f.api.forEachNode(function(u){u.id==
Q&&(Z=u)});return Z}H=H.attr("row-id");return f.api.getRowNode(H)}},g={},m=function(f){var H=N(f.colDef.field),Q=CsvType[H].color,Z=f.data.domainId,u=f.data.casin,G=[],A="";Object.keys(u).forEach(function(O){var P=u[O][H];-1<P&&G.push({price:P,domainId:O})});0<G.length&&(G.sort(function(O,P){return O.price-P.price}),G.forEach(function(O){var P=Money.format(O.price,{sourceDomainId:Z,targetDomainId:Z});if(O.domainId!=Z){var B=getAmazonRedirectByDomain(O.domainId,f.data.asin);A+='<a href="'+B+'" title="'+
la._99+' Amazon" target="_blank" class="external"><img title=".'+getTldByDomain(O.domainId)+'" src="'+flags[O.domainId]+'" style="opacity:0.8;"></a>\n\t\t\t\t\t<span style="color:'+Q+';opacity:0.8;margin-top:-4px;">'+P+"</span><br>"}else A+='<span style="color:'+Q+';opacity:0.8;margin-top:-4px;">'+P+"</span><br>"}));return A},q=function(f){return"undefined"===typeof f.value||null==f.value?"":-1==f.value?"-":-2==f.value?"?":prettyDate(keepaTime.now()-f.value)},h=function(f){return"undefined"===typeof f.value||
null===f.value?"":(new Date(keepaTime.minutesToEpoch(f.value))).formatDate("Y/m/d")},n=function(f){return"undefined"===typeof f.value||null==f.value?"":-2==f.value?"?":-1==f.value?"":(new Date(keepaTime.minutesToEpoch(f.value))).formatDate("Y/m/d H:i")},t=function(f){if("undefined"===typeof f.value)return"";f=f.value.toString();var H=f.length;return 8===H?f.substring(0,4)+"-"+f.substring(4,6)+"-"+f.substring(6,8):6===H?f.substring(0,4)+"-"+f.substring(4,6):4===H?f:""},p=function(f){var H=f.value;
if(null==H||0==H.length)return"";"string"===typeof H&&(H=[H]);var Q=document.createElement("div");Q.className="text-clamp clamp-lines-"+F(f);Q.title=H.join(", ");for(var Z=0;Z<H.length;Z++){var u=H[Z],G=document.createElement("span");G.innerHTML=u+(Z!==H.length-1?", ":"");var A="undefined"!==typeof f.data.realField?f.data.realField:f.colDef.field;["upcList","eanList"].includes(A)&&ProductImageHover.preview.add_events(G,{type:"svgBarcode",value:u,format:"upcList"===A?"upc":"ean13"});Q.appendChild(G)}return Q},
v=function(f){var H=document.createElement("span");H.className="toggle-filter text-clamp clamp-lines-3";H.innerHTML=f.value;H.title='Toggle filter: "'+f.value+'"';H.addEventListener("click",function(){}