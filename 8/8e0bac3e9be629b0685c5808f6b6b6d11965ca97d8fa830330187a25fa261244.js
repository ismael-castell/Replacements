"use strict";(self.webpackChunkgeekui2=self.webpackChunkgeekui2||[]).push([[179],{89468:(c1,A,i)=>{i.d(A,{s:()=>x});var a=i(28917),m=i(54004),p=i(33148),C=i(87978),n=i(35122),g=i(5e3);let x=(()=>{class V{constructor(S,I,T){this.dfpService=S,this.accountService=I,this.adblockService=T,this.adInitialized=!1}ngOnInit(){var S;this.visible$=null!==(S=this.visible$)&&void 0!==S?S:this.adblockService.isBlocked$(this.blockName).pipe((0,m.U)(I=>!I)),this.elementId=(0,a.Z)(this.slotName+"_")}ngAfterViewInit(){this.initAd()}initAd(){this.adInitialized=!0,this.accountService.accountLoaded$.subscribe(()=>setTimeout(()=>this.dfpService.initAd(this.slotName,this.elementId,this.overridePathName),0))}ngOnDestroy(){this.adInitialized&&this.dfpService.destroyAd(this.elementId)}}return V.\u0275fac=function(S){return new(S||V)(g.Y36(p.D),g.Y36(C.k),g.Y36(n.s))},V.\u0275cmp=g.Xpm({type:V,selectors:[["ng-component"]],decls:0,vars:0,template:function(S,I){},encapsulation:2}),V})()},44487:(c1,A,i)=>{i.d(A,{K:()=>y});var a=i(65620),m=i(84936),p=i(38408),C=i(22259),n=i(5e3),g=i(69808);let x=(()=>{class S{constructor(T,j){this.document=T,this.platformId=j,this.documentIsAccessible=(0,g.NF)(this.platformId)}static getCookieRegExp(T){const j=T.replace(/([\[\]\{\}\(\)\|\=\;\+\?\,\.\*\^\$])/gi,"\\$1");return new RegExp("(?:^"+j+"|;\\s*"+j+")=(.*?)(?:;|$)","g")}static safeDecodeURIComponent(T){try{return decodeURIComponent(T)}catch(j){return T}}check(T){return!!this.documentIsAccessible&&(T=encodeURIComponent(T),S.getCookieRegExp(T).test(this.document.cookie))}get(T){if(this.documentIsAccessible&&this.check(T)){T=encodeURIComponent(T);const k=S.getCookieRegExp(T).exec(this.document.cookie);return k[1]?S.safeDecodeURIComponent(k[1]):""}return""}getAll(){if(!this.documentIsAccessible)return{};const T={},j=this.document;return j.cookie&&""!==j.cookie&&j.cookie.split(";").forEach(k=>{const[X,$]=k.split("=");T[S.safeDecodeURIComponent(X.replace(/^ /,""))]=S.safeDecodeURIComponent($)}),T}set(T,j,k,X,$,G,M1){if(!this.documentIsAccessible)return;if("number"==typeof k||k instanceof Date||X||$||G||M1)return void this.set(T,j,{expires:k,path:X,domain:$,secure:G,sameSite:M1||"Lax"});let b1=encodeURIComponent(T)+"="+encodeURIComponent(j)+";";const z1=k||{};z1.expires&&(b1+="number"==typeof z1.expires?"expires="+new Date((new Date).getTime()+1e3*z1.expires*60*60*24).toUTCString()+";":"expires="+z1.expires.toUTCString()+";"),z1.path&&(b1+="path="+z1.path+";"),z1.domain&&(b1+="domain="+z1.domain+";"),!1===z1.secure&&"None"===z1.sameSite&&(z1.secure=!0,console.warn(`[ngx-cookie-service] Cookie ${T} was forced with secure flag because sameSite=None.More details : https://github.com/stevermeister/ngx-cookie-service/issues/86#issuecomment-597720130`)),z1.secure&&(b1+="secure;"),z1.sameSite||(z1.sameSite="Lax"),b1+="sameSite="+z1.sameSite+";",this.document.cookie=b1}delete(T,j,k,X,$="Lax"){if(!this.documentIsAccessible)return;const G=new Date("Thu, 01 Jan 1970 00:00:01 GMT");this.set(T,"",{expires:G,path:j,domain:k,secure:X,sameSite:$})}deleteAll(T,j,k,X="Lax"){if(!this.documentIsAccessible)return;const $=this.getAll();for(const G in $)$.hasOwnProperty(G)&&this.delete(G,T,j,k,X)}}return S.\u0275fac=function(T){return new(T||S)(n.LFG(g.K0),n.LFG(n.Lbi))},S.\u0275prov=n.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})(),V=(()=>{class S{}return S.\u0275fac=function(T){return new(T||S)},S.\u0275mod=n.oAB({type:S}),S.\u0275inj=n.cJS({providers:[x],imports:[[p.m]]}),S})(),y=(()=>{class S{}return S.\u0275fac=function(T){return new(T||S)},S.\u0275mod=n.oAB({type:S}),S.\u0275inj=n.cJS({imports:[[p.m,a.Aw.forFeature("dfpAd",C.l),V,m.Yn],V]}),S})()},33148:(c1,A,i)=>{i.d(A,{D:()=>q});var a=i(42777),m=i(65620),p=i(71412),C=i(39300),n=i(61135),g=i(39841),x=i(54004),V=i(50590),y=i(82722),S=i(17445),I=i(63900),T=i(28318),j=i(64666),k=i(5e3);const X=new k.OlP("googletag",{factory:()=>googletag});var $=i(22259);const G={"dfp-skyscraper":{sizeMapping:[[[1e3,200],[160,600]],[[0,0],[]]],sizeForPath:[160,600],defaultNameForPath:"skyscraper_160x600"},"dfp-medrect":{sizeMapping:[[[0,0],[300,250]]],sizeForPath:[300,250],defaultNameForPath:"rectangle_300x250"},"dfp-leaderboard":{sizeMapping:[[[768,200],[728,90]],[[320,400],[320,50]],[[0,0],[]]],sizeForPath:[728,90],defaultNameForPath:"leaderboard_728x90"},"dfp-inline-post":{sizeMapping:[[[768,400],[728,90]],[[320,400],[300,250]],[[0,0],[]]],sizeForPath:[728,90],defaultNameForPath:"inline_post"},"dfp-home-leaderboard":{sizeMapping:[[[1230,400],[1200,125]],[[768,400],[728,90]],[[320,400],[300,250]],[[0,0],[]]],sizeForPath:[1200,125],defaultNameForPath:"home_repeater"},"dfp-leaderboard-lg":{sizeMapping:[[[1230,400],[1200,125]],[[768,400],[728,125]],[[320,400],[320,125]],[[0,0],[]]],sizeForPath:[1200,125],defaultNameForPath:"home_hero"}};var M1=i(2572),b1=i(81379);let z1=(()=>{class Y{constructor(){this.getScrollbarOffset=(0,M1.Z)(()=>{const g1=document.createElement("div");g1.style.visibility="hidden",g1.style.overflow="scroll",document.body.appendChild(g1);const A1=document.createElement("div");g1.appendChild(A1);const P1=g1.offsetWidth-A1.offsetWidth;return g1.parentNode.removeChild(g1),P1})}adjustWidth(g1){return Math.max(0,g1-this.getScrollbarOffset())}adjustSizeMapping(g1){return[[this.adjustWidth(g1[0][0]),g1[0][1]],g1[1]]}adjustSlotSize(g1){return Object.assign(Object.assign({},g1),{sizeMapping:g1.sizeMapping.map(A1=>this.adjustSizeMapping(A1))})}adjustSlotSizes(g1){return(0,b1.Z)(g1,A1=>this.adjustSlotSize(A1))}}return Y.\u0275fac=function(g1){return new(g1||Y)},Y.\u0275prov=k.Yz7({token:Y,factory:Y.\u0275fac,providedIn:"root"}),Y})(),q=(()=>{class Y{constructor(g1,A1,P1,_1,l1,L1){this.googletag=g1,this.geeksite=A1,this.adUnitRootPath="/1005854/ca-pub-7206761047394129/",this.slots={},this.initDfp(),this.slotSizes=L1.adjustSlotSizes(G);const n1=l1.pipe((0,m.Ys)($.v)),a1=P1.events.pipe((0,C.h)(f1=>f1 instanceof a.OD)),R=new n.X(!1);this.adsPermitted$=(0,g.a)([n1,R]).pipe((0,x.U)(([f1,o1])=>"show"===f1&&o1),(0,C.h)(f1=>f1),(0,V.P)(),(0,y.R)(a1)),_1.hasConsent("shopping").subscribe(f1=>{f1||this.googletag.cmd.push(()=>{this.googletag.pubads().setPrivacySettings({limitedAds:!0,restrictDataProcessing:!0})}),R.next(!0)}),(0,S.F)(2e3).pipe((0,V.P)(),(0,I.w)(()=>P1.events),(0,C.h)(f1=>f1 instanceof a.m2),(0,I.w)(()=>this.adsPermitted$)).subscribe(()=>this.refresh()),n1.pipe((0,C.h)(f1=>"block"===f1)).subscribe(()=>this.clear())}destroyAd(g1){this.googletag.cmd.push(()=>{var A1;const P1=null===(A1=this.slots[g1])||void 0===A1?void 0:A1.googleTagSlot;void 0!==P1&&this.googletag.destroySlots([P1]),delete this.slots[g1]})}initDfp(){this.googletag.cmd.push(()=>{this.googletag.pubads().enableSingleRequest(),this.googletag.pubads().collapseEmptyDivs(!0),this.googletag.pubads().disableInitialLoad()})}initAd(g1,A1,P1){if(this.slotInitialized(A1))return;this.slots[A1]={slotSize:this.slotSizes[g1]},P1&&(this.slots[A1].overrideNameForPath=P1);const _1=this.slots[A1];this.googletag.cmd.push(()=>{const l1=this.googletag.defineSlot(this.getAdUnitPath(_1),_1.slotSize.sizeForPath,A1).defineSizeMapping(_1.slotSize.sizeMapping).addService(this.googletag.pubads());this.slots[A1].googleTagSlot=l1,this.googletag.enableServices(),this.googletag.display(A1),this.adsPermitted$.subscribe(()=>this.refreshSlot(l1))})}slotInitialized(g1){return null!=this.slots[g1]}getAdUnitPath(g1){return`${this.adUnitRootPath}${this.geeksite}_${g1.overrideNameForPath?g1.overrideNameForPath:g1.slotSize.defaultNameForPath}`}clear(){this.googletag.cmd.push(()=>this.googletag.pubads().clear())}refresh(){const g1=(0,p.Z)(this.slots).map(A1=>A1.googleTagSlot).filter(A1=>null!=A1);g1.length>0&&this.googletag.cmd.push(()=>this.googletag.pubads().refresh(g1))}refreshSlot(g1){this.googletag.cmd.push(()=>this.googletag.pubads().refresh([g1]))}}return Y.\u0275fac=function(g1){return new(g1||Y)(k.LFG(X),k.LFG(j.e),k.LFG(a.F0),k.LFG(T.U),k.LFG(m.yh),k.LFG(z1))},Y.\u0275prov=k.Yz7({token:Y,factory:Y.\u0275fac,providedIn:"root"}),Y})()},28318:(c1,A,i)=>{i.d(A,{U:()=>n});var a=i(50457),m=i(83962),p=i(87978),C=i(5e3);let n=(()=>{class g{constructor(V,y){this.accountService=y,this.cookieconsent=V.geekCookieConsent}run(){this.accountService.currentAccount$.subscribe(V=>{V?this.cookieconsent.run(V.user.userid):this.cookieconsent.run()})}hasConsent(V){return(0,a.D)(this.cookieconsent.hasConsent(V))}readyToLog(){return(0,a.D)(this.cookieconsent.readyToLog())}showSettings(){this.cookieconsent.showSettings()}}return g.\u0275fac=function(V){return new(V||g)(C.LFG(m.l),C.LFG(p.k))},g.\u0275prov=C.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})()},96038:(c1,A,i)=>{i.d(A,{Z:()=>C});var a=i(64666),m=i(5e3),p=i(22313);let C=(()=>{class n{constructor(x,V,y){this.geeksite=x,this.titleService=V,this.metaService=y,this.domainNames={boardgame:"BoardGameGeek",rpg:"RPGGeek",videogame:"VideoGameGeek"}}setTitle(x){this.setTitleCustom(x+" | {DOMAIN}")}setTitleCustom(x){this.titleService.setTitle(x.replace("{DOMAIN}",this.domainNames[this.geeksite]))}setDescription(x){this.metaService.addTag({name:"description",content:x})}removeDescription(){this.metaService.removeTag('name="description"')}}return n.\u0275fac=function(x){return new(x||n)(m.LFG(a.e),m.LFG(p.Dx),m.LFG(p.h_))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})()},64666:(c1,A,i)=>{i.d(A,{e:()=>p});var a=i(5e3),m=i(49594);const p=new a.OlP("gg.geeksite",{factory:()=>(0,m.Z)(window.GEEK,"geeksite","boardgame")})},56545:(c1,A,i)=>{i.d(A,{z:()=>x,H:()=>g});var a=i(40520),m=i(5e3),p=i(49594);const C=new m.OlP("gg.api.prefix",{factory:()=>(0,p.Z)(window.GEEK,"apiurlsPrefix","https://api.geekdo.com")});var n=i(95740);const g=new a.Xk(()=>!1);let x=(()=>{class V{constructor(S){this.apiPrefix=S}intercept(S,I){if((0,n.Fj)(S.url)||S.context.get(g))return I.handle(S);const T=S.clone({url:this.apiPrefix+S.url});return I.handle(T)}}return V.\u0275fac=function(S){return new(S||V)(m.LFG(C))},V.\u0275prov=m.Yz7({token:V,factory:V.\u0275fac}),V})()},92511:(c1,A,i)=>{i.d(A,{$e:()=>G,j0:()=>$,tq:()=>M1});var a=i(40520),m=i(65620),p=i(70262),C=i(62843),n=i(18505),g=i(95577),x=i(54004),V=i(39300),y=i(63900),S=i(95698),I=i(90674),T=i(55805),j=i(95740),k=i(56545),X=i(5e3);const $=new a.Xk(()=>!1),G=new a.Xk(()=>!1);let M1=(()=>{class b1{constructor(q){this.store=q}intercept(q,Y){return q.context.get(G)||(0,j.Fj)(q.url)||q.context.get(k.H)?Y.handle(q):"GET"!==q.method&&"HEAD"!==q.method||q.context.get($)?this.tryAuthenticatedRequest(q,Y):this.tryUnauthenticatedRequest(q,Y)}tryUnauthenticatedRequest(q,Y){return Y.handle(q).pipe((0,p.K)(r1=>this.geekAuthRequested(r1)?this.tryAuthenticatedRequest(q,Y,!1,r1):(0,C._)(()=>r1)))}tryAuthenticatedRequest(q,Y,r1=!1,g1){return this.getAuthReq(q).pipe((0,n.b)(A1=>{if(!A1.authToken&&null!=g1)throw g1}),(0,g.z)(A1=>Y.handle(A1.request).pipe((0,p.K)(P1=>!r1&&A1.authToken&&this.geekAuthRequested(P1)?(this.store.dispatch(T.e9.reload({oldToken:A1.authToken})),this.tryAuthenticatedRequest(q,Y,!0)):(0,C._)(()=>P1)))))}getAuthReq(q){return this.getAuthorizationToken().pipe((0,x.U)(Y=>{if(Y){const r1=q.headers.get("Authorization");let g1="";return r1&&(g1=r1+", "),g1+="GeekAuth "+Y,{request:q.clone({headers:q.headers.set("Authorization",g1)}),authToken:Y}}return{request:q}}))}getAuthorizationToken(){return this.store.pipe((0,m.Ys)(I.Pk),(0,V.h)(q=>q),(0,y.w)(()=>this.store.pipe((0,m.Ys)(I.bW))),(0,S.q)(1))}geekAuthRequested(q){if(401!==q.status)return!1;const Y=q.headers.get("www-authenticate");return null!=Y&&-1!==Y.indexOf("GeekAuth")}}return b1.\u0275fac=function(q){return new(q||b1)(X.LFG(m.yh))},b1.\u0275prov=X.Yz7({token:b1,factory:b1.\u0275fac}),b1})()},65933:(c1,A,i)=>{i.d(A,{c:()=>m});const m=new(i(5e3).OlP)("gg.window.location",{factory:()=>window.location})},83962:(c1,A,i)=>{i.d(A,{l:()=>m});const m=new(i(5e3).OlP)("gg.window",{factory:()=>window})},73224:(c1,A,i)=>{i.d(A,{l:()=>p});var a=i(5e3),m=i(22290);let p=(()=>{class C{constructor(g){this.ts=g,this.DEFAULT_OVERRIDES={positionClass:"toast-top-center",closeButton:!0},this.error=this.getNotificationFunction(this.ts.error),this.warning=this.getNotificationFunction(this.ts.warning),this.info=this.getNotificationFunction(this.ts.info),this.success=this.getNotificationFunction(this.ts.success),this.apiError=x=>this.showApiNotice(x,this.error),this.apiSuccess=x=>this.showApiNotice(x,this.success),this.apiWarning=x=>this.showApiNotice(x,this.warning),this.apiInfo=x=>this.showApiNotice(x,this.info)}showApiNotice(g,x){let V,y;return g.detail?[V,y]=[g.title,g.detail]:y=g.title,x(y,V)}getNotificationFunction(g,x={}){return(V,y=null,S={})=>g.bind(this.ts)(V,y,Object.assign(Object.assign(Object.assign({},this.DEFAULT_OVERRIDES),x),S))}}return C.\u0275fac=function(g){return new(g||C)(a.LFG(m._W))},C.\u0275prov=a.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})()},75455:(c1,A,i)=>{i.d(A,{j:()=>V});var a=i(95577),m=i(54004),p=i(11365),C=i(63900),n=i(39646),g=i(87978),x=i(5e3);let V=(()=>{class y{constructor(I){this.geekAccountService=I,this.combineLoggedIn=T=>T.pipe((0,a.z)(j=>this.geekAccountService.loggedIn$.pipe((0,m.U)(k=>[j,k])))),this.withLatestUserFlat=T=>T.pipe((0,p.M)(this.geekAccountService.currentLoggedInUser$,(j,k)=>Object.assign(Object.assign({},j),{user:k}))),this.withLatestUser=T=>T.pipe((0,p.M)(this.geekAccountService.currentLoggedInUser$)),this.combineLatestUserFlat=T=>T.pipe((0,a.z)(j=>this.geekAccountService.currentLoggedInUser$.pipe((0,m.U)(k=>Object.assign(Object.assign({},j),{user:k}))))),this.combineLatestUserOrNull=T=>T.pipe((0,a.z)(j=>this.geekAccountService.loggedIn$.pipe((0,C.w)(k=>k?this.geekAccountService.currentLoggedInUser$:(0,n.of)(null)),(0,m.U)(k=>({payload:j,user:k})))))}}return y.\u0275fac=function(I){return new(I||y)(x.LFG(g.k))},y.\u0275prov=x.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})()},19544:(c1,A,i)=>{i.d(A,{p:()=>X});var a=i(65620),m=i(98417),p=i(49594),C=i(74744),n=i(39646),g=i(63900),x=i(54004),V=i(22529),y=i(13103),S=i(71884),I=i(87978),T=i(90674),j=i(75266),k=i(5e3);let X=(()=>{class ${constructor(M1,b1){this.accountService=M1,this.store=b1}checkAccess(M1,b1,z1,q=!1){return q||null==M1?(0,n.of)(!0):this.accountService.loggedIn$.pipe((0,g.w)(Y=>Y?z1?this.accountService.currentUserid$.pipe((0,x.U)(r1=>r1===z1),(0,g.w)(r1=>r1?(0,n.of)(!0):this.checkAdminAccess(M1,b1))):this.checkAdminAccess(M1,b1):(0,n.of)(!1)))}checkAdminAccess(M1,b1){return this.getAccessList$(b1).pipe((0,x.U)(z1=>{if((0,m.Z)((0,C.Z)(z1,M1),{hasAccess:!0}))return{hasAccess:!0,complete:!0};const q=M1.filter(r1=>{const g1=(0,p.Z)(z1,r1,null);return!g1||!g1.loaded}),Y=q.filter(r1=>{const g1=(0,p.Z)(z1,r1,null);return!g1||!g1.loading});return Y.length&&this.store.dispatch(j.m.check({payload:null!=b1?{accessTypes:Y,accessItem:b1}:{accessTypes:Y}})),q.length?{hasAccess:!1,complete:!1}:{hasAccess:!1,complete:!0}}),(0,V.o)(z1=>!z1.complete&&!z1.hasAccess,!0),(0,x.U)(z1=>z1.hasAccess),(0,y.Z)(),(0,S.x)())}getAccessList$(M1){return this.store.pipe((0,a.Ys)(null==M1?T.DU:T.aO(M1)))}}return $.\u0275fac=function(M1){return new(M1||$)(k.LFG(I.k),k.LFG(a.yh))},$.\u0275prov=k.Yz7({token:$,factory:$.\u0275fac,providedIn:"root"}),$})()},87978:(c1,A,i)=>{i.d(A,{k:()=>S});var a=i(65620),m=i(77579);class p extends m.x{constructor(){super(...arguments),this._value=null,this._hasValue=!1,this._isComplete=!1}_checkFinalizedStatuses(T){const{hasError:j,_hasValue:k,_value:X,thrownError:$,isStopped:G,_isComplete:M1}=this;j?T.error($):(G||M1)&&(k&&T.next(X),T.complete())}next(T){this.isStopped||(this._value=T,this._hasValue=!0)}complete(){const{_hasValue:T,_value:j,_isComplete:k}=this;k||(this._isComplete=!0,T&&super.next(j),super.complete())}}var C=i(39300),n=i(95698),g=i(13099),x=i(63900),V=i(90674),y=i(5e3);let S=(()=>{class I{constructor(j){this.store=j,this.initVars()}initVars(){this.accountLoaded$=this.store.pipe((0,a.Ys)(V.Rn),(0,C.h)(j=>j),(0,n.q)(1),(0,g.B)({connector:()=>new p,resetOnError:!1,resetOnComplete:!1,resetOnRefCountZero:!1})),this.userLoaded$=this.store.pipe((0,a.Ys)(V.NP),(0,C.h)(j=>j),(0,n.q)(1),(0,g.B)({connector:()=>new p,resetOnError:!1,resetOnComplete:!1,resetOnRefCountZero:!1})),this.loggedIn$=this.accountLoaded$.pipe((0,x.w)(()=>this.store.pipe((0,a.Ys)(V.v9))),(0,n.q)(1),(0,g.B)({connector:()=>new p,resetOnError:!1,resetOnComplete:!1,resetOnRefCountZero:!1})),this.currentUser$=this.userLoaded$.pipe((0,x.w)(()=>this.store.pipe((0,a.Ys)(V.ZW))),(0,n.q)(1),(0,g.B)({connector:()=>new p,resetOnError:!1,resetOnComplete:!1,resetOnRefCountZero:!1})),this.currentAccount$=this.userLoaded$.pipe((0,x.w)(()=>this.store.select(V.WX)),(0,n.q)(1),(0,g.B)({connector:()=>new p,resetOnError:!1,resetOnComplete:!1,resetOnRefCountZero:!1})),this.currentUserid$=this.accountLoaded$.pipe((0,x.w)(()=>this.store.pipe((0,a.Ys)(V.oH))),(0,n.q)(1),(0,g.B)({connector:()=>new p,resetOnError:!1,resetOnComplete:!1,resetOnRefCountZero:!1})),this.currentLoggedInUser$=this.currentUser$.pipe((0,C.h)(j=>!!j))}}return I.\u0275fac=function(j){return new(j||I)(y.LFG(a.yh))},I.\u0275prov=y.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})()},92339:(c1,A,i)=>{i.d(A,{G:()=>x});var a=i(61135),m=i(39841),p=i(63900),C=i(19544),n=i(82872),g=i(5e3);let x=(()=>{class V extends n.S{constructor(S,I,T,j){super(I,T,j),this.checkAccessService=S,this.accessUserid$=new a.X(null),this.accessTypes$=new a.X(null),this.accessItem$=new a.X(null),this.overrideShow$=new a.X(!1)}set ggIfAccessUserid(S){this.accessUserid$.next(S)}set accessTypes(S){this.accessTypes$.next(null==S?null:S)}set ggIfAccessItem(S){this.accessItem$.next(S)}set ggIfAccessOverrideShow(S){this.overrideShow$.next(S)}set ggIfAccessShowIf(S){!1===S&&(this.showIfCondition=!1)}ngOnInit(){const S=(0,m.a)([this.accessTypes$,this.accessItem$,this.accessUserid$,this.overrideShow$]).pipe((0,p.w)(([I,T,j,k])=>this.checkAccessService.checkAccess(I,T,j,k))).subscribe(this.renderOrHideContent);this.subscriptions.push(S)}}return V.\u0275fac=function(S){return new(S||V)(g.Y36(C.p),g.Y36(g.s_b),g.Y36(g.Rgc),g.Y36(g.sBO))},V.\u0275dir=g.lG2({type:V,selectors:[["","ggIfAccess",""]],inputs:{ggIfAccessUserid:"ggIfAccessUserid",accessTypes:["ggIfAccess","accessTypes"],ggIfAccessItem:"ggIfAccessItem",ggIfAccessOverrideShow:"ggIfAccessOverrideShow",ggIfAccessShowIf:"ggIfAccessShowIf"},features:[g.qOj]}),V})()},62512:(c1,A,i)=>{i.d(A,{Z:()=>C});var a=i(87978),m=i(82872),p=i(5e3);let C=(()=>{class n extends m.S{constructor(x,V,y,S){super(V,y,S),this.geekAccountService=x}set ggIfLoggedIn(x){!1===x&&(this.showIfCondition=!1);const V=this.geekAccountService.loggedIn$.subscribe(this.renderOrHideContent);this.subscriptions.push(V)}}return n.\u0275fac=function(x){return new(x||n)(p.Y36(a.k),p.Y36(p.s_b),p.Y36(p.Rgc),p.Y36(p.sBO))},n.\u0275dir=p.lG2({type:n,selectors:[["","ggIfLoggedIn",""]],inputs:{ggIfLoggedIn:"ggIfLoggedIn"},features:[p.qOj]}),n})()},20789:(c1,A,i)=>{i.d(A,{w:()=>p});var a=i(57053),m=i(5e3);let p=(()=>{class C{constructor(g){this.loginService=g}onClick(){this.loginService.showLoginModal()}}return C.\u0275fac=function(g){return new(g||C)(m.Y36(a.r))},C.\u0275dir=m.lG2({type:C,selectors:[["","ggLoginButton",""]],hostBindings:function(g,x){1&g&&m.NdJ("click",function(){return x.onClick()})}}),C})()},44721:(c1,A,i)=>{i.d(A,{y:()=>p});var a=i(38408),m=i(5e3);let p=(()=>{class C{}return C.\u0275fac=function(g){return new(g||C)},C.\u0275mod=m.oAB({type:C}),C.\u0275inj=m.cJS({imports:[[a.m]]}),C})()},77292:(c1,A,i)=>{i.d(A,{$:()=>j});var a=i(5e3),m=i(50727),p=i(70262),C=i(39646),n=i(64370),g=i(93075),x=i(69808),V=i(42777);const y=["passwordEl"];function S(k,X){if(1&k&&(a.TgZ(0,"p",17),a._uU(1),a.qZA()),2&k){const $=a.oxw();a.xp6(1),a.hij(" ",null==$.loginForm.errors?null:$.loginForm.errors.loginFailed," ")}}const I=function(){return{redirect_server:"1"}},T=function(){return{}};let j=(()=>{class k{constructor($,G){this.accountService=$,this.fb=G,this.errorMessage="",this.redirect="none",this.cancel=new a.vpe,this.loginSuccess=new a.vpe,this.subSink=new m.w0,this.passwordValidator=()=>this.errorMessage?{loginFailed:this.errorMessage}:null,this.createForm()}ngOnDestroy(){this.subSink.unsubscribe()}createForm(){this.loginForm=this.fb.group({username:"",password:""},{validators:this.passwordValidator})}attemptLogin(){this.errorMessage="",this.loginForm.updateValueAndValidity(),this.loginForm.disable();const $=this.accountService.attemptLogin({username:this.loginForm.value.username,password:this.passwordEl.nativeElement.value}).pipe((0,p.K)(G=>(0,C.of)({loginSuccessful:!1,message:G.title}))).subscribe(G=>{G.loginSuccessful?this.loginSuccess.emit():(this.errorMessage=G.message?G.message:"",this.loginForm.updateValueAndValidity(),this.loginForm.enable())});this.subSink.add($)}}return k.\u0275fac=function($){return new($||k)(a.Y36(n.c),a.Y36(g.qu))},k.\u0275cmp=a.Xpm({type:k,selectors:[["gg-login-form"]],viewQuery:function($,G){if(1&$&&a.Gf(y,5),2&$){let M1;a.iGM(M1=a.CRH())&&(G.passwordEl=M1.first)}},inputs:{redirect:"redirect"},outputs:{cancel:"cancel",loginSuccess:"loginSuccess"},decls:30,vars:6,consts:[["name","loginform",3,"formGroup"],[3,"disabled"],[1,"form-group","form-group-condensed"],["for","inputUsername",1,"sr-only"],["type","text","id","inputUsername","name","username","formControlName","username","placeholder","Username","autofocus","",1,"form-control","form-control-lg"],["for","inputPassword",1,"sr-only"],["type","password","id","inputPassword","name","password","formControlName","password","placeholder","Password",1,"form-control","form-control-lg"],["passwordEl",""],["class","tw-mt-2 tw-text-sm tw-text-red","role","alert",4,"ngIf"],[1,"tw-mt-3","tw-mb-2","tw-text-sm"],["href","/geekaccount/forgotusername"],["href","/geekaccount/forgotpassword"],[1,"tw-mb-0","tw-text-sm"],["routerLink","/join",3,"queryParams"],[1,"tw-mt-4","tw-flex","tw-gap-2","tw-border-t","tw-border-gray-400","tw-pt-4"],["type","submit",1,"btn","btn-lg","btn-primary",3,"click"],["type","button",1,"btn","btn-lg","btn-outline-secondary",3,"click"],["role","alert",1,"tw-mt-2","tw-text-sm","tw-text-red"]],template:function($,G){1&$&&(a.TgZ(0,"form",0)(1,"fieldset",1)(2,"div",2)(3,"label",3),a._uU(4,"Username"),a.qZA(),a._UZ(5,"input",4),a.qZA(),a.TgZ(6,"div",2)(7,"label",5),a._uU(8,"Password"),a.qZA(),a._UZ(9,"input",6,7),a.YNc(11,S,2,1,"p",8),a.qZA(),a.TgZ(12,"p",9),a._uU(13," Forgot "),a.TgZ(14,"a",10),a._uU(15,"username"),a.qZA(),a._uU(16," or "),a.TgZ(17,"a",11),a._uU(18,"password"),a.qZA(),a._uU(19,"? "),a.qZA(),a.TgZ(20,"p",12),a._uU(21," Don't have an account? "),a.TgZ(22,"a",13),a._uU(23,"Sign up"),a.qZA(),a._uU(24,", it's quick and free! "),a.qZA(),a.TgZ(25,"div",14)(26,"button",15),a.NdJ("click",function(){return G.attemptLogin()}),a._uU(27," Sign In "),a.qZA(),a.TgZ(28,"button",16),a.NdJ("click",function(){return G.cancel.emit()}),a._uU(29," Cancel "),a.qZA()()()()),2&$&&(a.Q6J("formGroup",G.loginForm),a.xp6(1),a.Q6J("disabled",G.loginForm.disabled),a.xp6(10),a.Q6J("ngIf",null==G.loginForm.errors?null:G.loginForm.errors.loginFailed),a.xp6(11),a.Q6J("queryParams","server"===G.redirect?a.DdM(4,I):a.DdM(5,T)))},directives:[g._Y,g.JL,g.sg,g.Fj,g.JJ,g.u,x.O5,V.yS],encapsulation:2}),k})()},84468:(c1,A,i)=>{i.d(A,{r:()=>n});var a=i(69808),m=i(93075),p=i(42777),C=i(5e3);let n=(()=>{class g{}return g.\u0275fac=function(V){return new(V||g)},g.\u0275mod=C.oAB({type:g}),g.\u0275inj=C.cJS({imports:[[a.ez,m.UX,p.Bz.forChild([])]]}),g})()},17497:(c1,A,i)=>{i.d(A,{X:()=>S});var a=i(42777),m=i(50727),p=i(39300),C=i(50590),n=i(65933),g=i(93475),x=i(5e3),V=i(21692);const y=["passwordEl"];let S=(()=>{class I{constructor(j,k,X,$){this.activeModal=j,this.router=k,this.previousUrlService=X,this.windowLocation=$,this.errorMessage="",this.redirect="none",this.subSink=new m.w0}ngOnDestroy(){this.subSink.unsubscribe()}ngOnInit(){this.subSink.add(this.router.events.pipe((0,p.h)(j=>j instanceof a.OD),(0,C.P)()).subscribe(()=>this.activeModal.close()))}cancel(){this.activeModal.dismiss()}loginSuccess(){if("client"===this.redirect)return void this.previousUrlService.navigateToPrevious(!0);const j=this.windowLocation.href;this.windowLocation.href="/join"===j?"/":j}}return I.\u0275fac=function(j){return new(j||I)(x.Y36(V.Kz),x.Y36(a.F0),x.Y36(g.F),x.Y36(n.c))},I.\u0275cmp=x.Xpm({type:I,selectors:[["gg-login-modal"]],viewQuery:function(j,k){if(1&j&&x.Gf(y,5),2&j){let X;x.iGM(X=x.CRH())&&(k.passwordEl=X.first)}},decls:7,vars:1,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","tw-block",3,"redirect","cancel","loginSuccess"]],template:function(j,k){1&j&&(x.TgZ(0,"div",0)(1,"h4",1),x._uU(2,"Sign in"),x.qZA(),x.TgZ(3,"button",2),x.NdJ("click",function(){return k.cancel()}),x.TgZ(4,"span",3),x._uU(5,"\xd7"),x.qZA()()(),x.TgZ(6,"gg-login-form",4),x.NdJ("cancel",function(){return k.cancel()})("loginSuccess",function(){return k.loginSuccess()}),x.qZA()),2&j&&(x.xp6(6),x.Q6J("redirect",k.redirect))},encapsulation:2}),I})()},57053:(c1,A,i)=>{i.d(A,{r:()=>I});var a=i(18505),m=i(63900),p=i(39646),C=i(11848),n=i(54004),g=i(50457),x=i(87978),V=i(17497),y=i(5e3),S=i(21692);let I=(()=>{class T{constructor(k,X){this.geekAccountService=k,this.modalService=X,this.loginOrContinue$=this.geekAccountService.loggedIn$.pipe((0,a.b)($=>{$||this.showLoginModal()}),(0,m.w)($=>$?(0,p.of)(null):C.C))}loginOrError(k){return this.geekAccountService.loggedIn$.pipe((0,m.w)(X=>X?(0,p.of)(!0):this.showLoginModal(k).pipe((0,n.U)(()=>!1))),(0,m.w)(X=>X?(0,p.of)(null):C.C))}showLoginModal(k="none",X={}){const $=this.modalService.open(V.X,X);return $.componentInstance.redirect=k,(0,g.D)($.result)}}return T.\u0275fac=function(k){return new(k||T)(y.LFG(x.k),y.LFG(S.FF))},T.\u0275prov=y.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})()},35122:(c1,A,i)=>{i.d(A,{s:()=>S});var a=i(62331),m=i(39646),p=i(54004),C=i(18505),n=i(68675),g=i(7040),x=i(87978),V=i(5e3),y=i(51928);let S=(()=>{class I{constructor(j,k){this.accountService=j,this.storage=k,this.logInfoKey="adblockSettings",this.adblockLoaded=!1}isBlocked$(j){return this.adblockLoaded?(0,m.of)(this.getAdblockValue(this.adblock,j)):this.accountService.currentAccount$.pipe((0,p.U)(k=>null!=k&&this.userAdblockValid(k)?k.adblock:null),(0,C.b)(k=>this.storeAdblock(k)),(0,n.O)(this.getAdBlockFromStorage()),(0,p.U)(k=>this.getAdblockValue(k,j)))}getAdblockValue(j,k){return null!=j&&("any"===k||j[k])}storeAdblock(j){this.adblockLoaded||(this.adblock=j,this.adblockLoaded=!0,this.storage.setItem(this.logInfoKey,JSON.stringify(j)))}getAdBlockFromStorage(){const j=this.storage.getItem(this.logInfoKey);return j?JSON.parse(j):null}userAdblockValid(j){if(!j||!j.adblockExpiration||!j.adblock)return!1;const k=(0,g.s)(j.adblockExpiration);return(0,a.Z)(k)}}return I.\u0275fac=function(j){return new(j||I)(V.LFG(x.k),V.LFG(y.n))},I.\u0275prov=V.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})()},6270:(c1,A,i)=>{i.d(A,{V:()=>G});var a=i(63900),m=i(39300),p=i(54004),C=i(39646),n=i(11848),g=i(70262),x=i(50457),V=i(18505),y=i(64370),S=i(87978),I=i(57053),T=i(5e3),j=i(21692),k=i(44154);let X=(()=>{class M1{constructor(z1){this.activeModal=z1}ngOnInit(){}}return M1.\u0275fac=function(z1){return new(z1||M1)(T.Y36(j.Kz))},M1.\u0275cmp=T.Xpm({type:M1,selectors:[["gg-verify-email-modal"]],decls:9,vars:0,consts:[["modalTitle","Verify Your Email",3,"headerClose"],[1,"modal-body"],[1,"mb-0"],[1,"modal-footer"],[1,"btn","btn-primary",3,"click"]],template:function(z1,q){1&z1&&(T.TgZ(0,"gg-modal-header",0),T.NdJ("headerClose",function(){return q.activeModal.dismiss()}),T.qZA(),T.TgZ(1,"div",1)(2,"p"),T._uU(3," Sorry, you must verify your email address to perform this action. Please follow the link we previously emailed to you. "),T.qZA(),T.TgZ(4,"p",2),T._uU(5," Note: You may have to reload this page after you have verified your email to continue. "),T.qZA()(),T.TgZ(6,"div",3)(7,"button",4),T.NdJ("click",function(){return q.activeModal.close()}),T._uU(8," Resend Verification Email "),T.qZA()())},directives:[k.R],encapsulation:2,changeDetection:0}),M1})();var $=i(73224);let G=(()=>{class M1{constructor(z1,q,Y,r1,g1){this.geekAccountService=z1,this.accountService=q,this.loginService=Y,this.modalService=r1,this.notifierService=g1,this.verifyOrContinue$=this.loginService.loginOrContinue$.pipe((0,a.w)(()=>this.geekAccountService.currentAccount$),(0,m.h)(A1=>null!==A1),(0,p.U)(A1=>A1.emailVerified),(0,a.w)(A1=>A1?(0,C.of)(A1):this.showVerifyModal()),(0,a.w)(A1=>A1?(0,C.of)(null):n.C),(0,g.K)(()=>n.C))}verifyOrError(z1){return this.loginService.loginOrError(z1).pipe((0,a.w)(()=>this.getEmailverified()),(0,a.w)(q=>q?(0,C.of)(!0):this.showVerifyModal()),(0,a.w)(q=>q?(0,C.of)(null):n.C))}getEmailverified(){return this.geekAccountService.currentAccount$.pipe((0,m.h)(z1=>null!==z1),(0,p.U)(z1=>z1.emailVerified),(0,a.w)(z1=>z1?(0,C.of)(!0):this.accountService.getCurrentAccount().pipe((0,p.U)(q=>!!(null==q?void 0:q.emailVerified)))))}showVerifyModal(){const z1=this.modalService.open(X,{centered:!0});return(0,x.D)(z1.result).pipe((0,V.b)(()=>this.accountService.resendVerifyEmail().subscribe(()=>this.notifierService.success("Email sent."))))}}return M1.\u0275fac=function(z1){return new(z1||M1)(T.LFG(S.k),T.LFG(y.c),T.LFG(I.r),T.LFG(j.FF),T.LFG($.l))},M1.\u0275prov=T.Yz7({token:M1,factory:M1.\u0275fac,providedIn:"root"}),M1})()},92925:(c1,A,i)=>{i.d(A,{c:()=>C});var a=i(5e3),m=i(69808);function p(n,g){if(1&n){const x=a.EpF();a.TgZ(0,"img",1),a.NdJ("load",function(){return a.CHM(x),a.oxw().transitioning=!1}),a.qZA()}if(2&n){const x=a.oxw();a.Udp("display",x.inlineBlock?"inline-block":"inherit"),a.Q6J("src",x.image.src,a.LSH)("srcset",x.srcset,a.LSH)("ngClass",x.classes)("alt",x.alt)("sizes",x.sizes),a.uIk("title",x.title)("height",x.height)("width",x.width)}}let C=(()=>{class n{constructor(){this.inlineBlock=!1,this.alt="",this.title=null,this.sizes="",this._classes=[],this.transitioning=!1,this.srcset=""}set classes(x){this._classes=Array.isArray(x)?x:x.trim().split(" ")}get classes(){return this.transitioning?this._classes.concat("transitioning"):this._classes}ngOnChanges(x){x.image&&(x.image.firstChange||(this.transitioning=!0),this.setSrcSet())}setSrcSet(){this.image&&this.image["src@2x"]&&(this.sizes&&this.width?this.setSrcSetByWidth(this.image,this.width):this.setSrcSetByx(this.image))}setSrcSetByx(x){this.srcset=x.src+" 1x, "+x["src@2x"]+" 2x"}setSrcSetByWidth(x,V){this.srcset=x.src+" "+V+"w, "+x["src@2x"]+" "+2*V+"w"}}return n.\u0275fac=function(x){return new(x||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["gg-image"]],inputs:{inlineBlock:"inlineBlock",alt:"alt",title:"title",image:"image",sizes:"sizes",classes:"classes",height:"height",width:"width"},features:[a.TTD],decls:1,vars:1,consts:[["class","img-fluid","loading","lazy",3,"display","src","srcset","ngClass","alt","sizes","load",4,"ngIf"],["loading","lazy",1,"img-fluid",3,"src","srcset","ngClass","alt","sizes","load"]],template:function(x,V){1&x&&a.YNc(0,p,1,10,"img",0),2&x&&a.Q6J("ngIf",V.image)},directives:[m.O5,m.mk],styles:[".markup-centered[_nghost-%COMP%]   img[_ngcontent-%COMP%], .markup-centered   [_nghost-%COMP%]   img[_ngcontent-%COMP%]{margin:0 auto}img.transitionable[_ngcontent-%COMP%]{transition-property:opacity,-webkit-filter;transition-property:opacity,filter;transition-property:opacity,filter,-webkit-filter;transition-duration:.15s;transition-timing-function:ease-in-out;opacity:1}img.transitionable.transitioning[_ngcontent-%COMP%]{opacity:0}"],changeDetection:0}),n})()},3832:(c1,A,i)=>{i.d(A,{$:()=>q});var a=i(42777),m=i(82682),p=i(65620),C=i(38408),n=i(36686),g=i(54004),x=i(39300),V=i(95577),y=i(39646),S=i(70262),I=i(56451),T=i(63900),j=i(18505),k=i(65933),X=i(8110),$=i(20532),G=i(61291),M1=i(5e3),b1=i(73224);let z1=(()=>{class Y{constructor(g1,A1,P1,_1,l1){this.actions$=g1,this.imagesService=A1,this.notifierService=P1,this.store=_1,this.windowLocation=l1,this.load$=(0,m.GW)(()=>this.actions$.pipe((0,m.l4)(G.VX),(0,g.U)(L1=>L1.payload),(0,X.t)(L1=>this.store.select(n.Ng(L1))),(0,x.h)(([L1,n1])=>!n1||!n1.loaded&&!n1.loading),(0,g.U)(([L1,n1])=>L1),(0,V.z)(L1=>{const n1=(0,y.of)(new G.BF(L1)),a1=this.imagesService.getImage(L1).pipe((0,g.U)(R=>new G.Xt(R)),(0,S.K)(R=>(0,y.of)(new G.YV(L1))));return(0,I.T)(n1,a1)}))),this.loadGalleries$=(0,m.GW)(()=>this.actions$.pipe((0,m.l4)(G.OP),(0,g.U)(L1=>L1.payload),(0,T.w)(L1=>this.imagesService.getImageGalleries(L1)),(0,g.U)(L1=>new G.BQ(L1)),(0,S.K)(