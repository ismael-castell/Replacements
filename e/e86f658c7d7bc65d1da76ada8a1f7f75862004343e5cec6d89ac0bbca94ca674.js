(()=>{window.addEventListener('load',async()=>{if(document.querySelector('.signin-modal')){document.querySelector('.signin-modal').addEventListener('click',(evt)=>{if(evt.target.classList.contains('signin-modal')){evt.target.classList.add('hidden');if(evt.target.classList.contains('reload-on-close')){window.location.reload();}
evt.preventDefault();}});}});async function openSignInModal(returnTo){if(returnTo&&returnTo.startsWith('/')){document.querySelector('.signin-modal').dataset.returnTo=returnTo;document.querySelector('.signup-modal').dataset.returnTo=returnTo;}else{document.querySelector('.signin-modal').dataset.returnTo='';document.querySelector('.signup-modal').dataset.returnTo='';}
document.querySelector('.signin-modal').classList.remove('hidden');document.querySelectorAll('.signin-modal .step').forEach((el)=>(el.classList.add('hidden')));document.querySelector('.signin-modal .step-signin').classList.remove('hidden');}
async function closeSignInModal(returnTo){document.querySelector('.signin-modal').classList.add('hidden');if(returnTo){window.location=returnTo;}else{window.location.reload();}}
window.addEventListener('signin-modal:open',(e)=>{if(document.querySelector('.signup-modal')){document.querySelector('.signup-modal').classList.add('hidden');}
const returnTo=e.detail.returnTo||'';openSignInModal(returnTo);});const linkSignInModals=document.querySelectorAll('.link-open-signin-modal');if(linkSignInModals){linkSignInModals.forEach((linkSignInModal)=>{linkSignInModal.addEventListener('click',async(e)=>{if(document.querySelector('.signup-modal')){document.querySelector('.signup-modal').classList.add('hidden');}
const returnTo=e.currentTarget&&e.currentTarget.dataset&&e.currentTarget.dataset.href?e.currentTarget.dataset.href:'';openSignInModal(returnTo);if(e.target.classList&&e.target.classList.contains('link-signin-text')){if(typeof ga==='function'){console.log('ga send...');ga('send','event',['Links'],['Clicked Login Button'],['Logged In'],['Yes']);}else{console.log('ga undefined...');}}
e.preventDefault();});});}
const linkCloseSignInModal=document.querySelector('.link-close-signin-modal');if(linkCloseSignInModal){linkCloseSignInModal.addEventListener('click',