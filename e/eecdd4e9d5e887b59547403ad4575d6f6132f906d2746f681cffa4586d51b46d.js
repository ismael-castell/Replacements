(function(a,b){function d(){var b=a(".linkset-container .tag-link");a(b).each(function(){a(this).on("click",function(b){b.preventDefault();var d=a(this).data("tag-id").split(":")[0],e=a(this).data("tag-title"),c=a(this).attr("href").replace(".html","");b=a(this).attr("target");var p=0<a(".linkset-container.edit").length?"?wcmmode\x3ddisabled":"";-1<window.location.href.indexOf("?wcmmode\x3ddisabled")&&(p="?wcmmode\x3ddisabled");d=c+".type\x3darticle.p\x3d1.t\x3d"+d+":"+e+".html"+p;b?window.open(d,
b):window.location=d})})}a(b).on("ready",function(){d()})})(jQuery,document);
(function(a,b){if(a(".utility-header").length){var d,e=function(){var a=("; "+b.cookie).split("; LOCATION_ZIP\x3d");2===a.length?(a=a.pop().split(";").shift(),4<a.length&&k(a)):k("20006")},g=function(){a.ajax({url:a("#api-urls").data("api-account")+"/account",contentType:"application/json;charset\x3dUTF-8",dataType:"json",type:"GET",xhrFields:{withCredentials:!0}}).done(function(c){d=c.personalInfo.firstName;l=!0;a(".loggedInName").text(d);f()}).fail(function(){l=!1;f();localStorage.removeItem("RCO_AUTH");
localStorage.removeItem("RCO_AUTH_expiresIn")})},f=function(){!0===l?(a(".signed-out-dropdown-container").removeClass("active"),a(".signed-in-dropdown-container").addClass("active")):(a(".signed-in-dropdown-container").removeClass("active"),a(".signed-out-dropdown-container").addClass("active"))},k=function(l){a(".current-zip").text(l);c(l)},c=function(c){a.ajax({url:a("#api-urls").data("api-lookup")+"/region-mappings/"+c+"?type\x3dRCO",contentType:"application/json;charset\x3dUTF-8",dataType:"json",
type:"GET"}).done(function(a){if(a.length){var c=a[0].regionCode;(a=a[0].regionName)?(p(a),n(c)):p("American Red Cross in the National Capital Region Headquarters")}else p("American Red Cross in the National Capital Region Headquarters")}).fail(function(){})},p=function(c){a(".current-region-label").text(c)},n=function(c){a.ajax({url:"/bin/location-search.regionCode\x3d"+c+".json",contentType:"application/json;charset\x3dUTF-8",dataType:"json",type:"GET"}).done(function(c){c.landingPageUrl&&(c=c.landingPageUrl,
a(".visit-local-site").attr("href",c))}).fail(function(a,c){})},h=function(){a.ajax({url:a("#api-urls").data("api-auth")+"/logout",xhrFields:{withCredentials:!0},method:"DELETE"}).done(function(){localStorage.removeItem("RCO_AUTH");localStorage.removeItem("RCO_AUTHexpiresIn");sessionStorage.removeItem("storeTransaction");Cookies.set("LOCATION_ZIP","20006");Cookies.set("LOCATION_ZIP_RECHECK",!0);location.reload()}).fail(function(){})},m="true"===Cookies.get("LOCATION_ZIP_RECHECK")||!0===Cookies.get("LOCATION_ZIP_RECHECK");
window.addEventListener("zipCookieChange",function(){e()});if(null!==localStorage.getItem("RCO_AUTH"))g();else{var l=!1;f()}m||e();a(".signed-in-dropdown-container").on("click","a",function(){992>a(window).width()?(a(this).toggleClass("active"),a(".signed-in-dropdown").toggleClass("active").slideToggle(200)):(a(this).removeClass("active"),a(".signed-in-dropdown").removeClass("active").removeAttr("style"))});a(window).on("resize",function(){992<a(window).width()&&(a(".signed-in-dropdown-container \x3e a").removeClass("active"),
a(".signed-in-dropdown").removeClass("active").removeAttr("style"),a(".local-dropdown").removeClass("open").removeAttr("style"))});a(".local-dropdown-label").on("click",function(c){var l=a(".local-dropdown-container");992>a(window).width()&&(l.hasClass("open")?(l.removeClass("open"),a(".local-dropdown").removeClass("open").slideUp(200)):(c.preventDefault(),l.addClass("open").find(".local-dropdown").addClass("open").slideDown(200)))});a(".sign-out").on("click",function(a){a.preventDefault();h()})}})(jQuery,
document);
(function(a){function b(){var b=a("#site-search").val();window.location.href=d+"/search?term\x3d"+b+"\x26page\x3d1\x26start\x3d0"}var d=a(".search-box").data("search-path");d&&-1===d.indexOf(".html")&&(d+=".html");a(".search-toggle span").on("click",function(b){b.stopPropagation();a(".site-search-container, .search-toggle").toggleClass("open");a(".alert-outer-wrapper").toggleClass("alert-hidden")});a("#site-search").on("focus",function(){a(this).addClass("focused")});a("#site-search").on("blur",function(){0>=
a(this).val().length&&a(this).removeClass("focused")});a("body").on("click",function(){a(".site-search-container, .search-toggle").removeClass("open");991<a(window).width()&&a(".alert-outer-wrapper").removeClass("alert-hidden")});a(".search-box").on("click",function(a){a.stopPropagation()});a(".search-submit").on("click",function(){b()});a("#site-search").keypress(function(a){13===a.which&&b()})})(jQuery);
(function(a){a(".main-nav-link").on("click",function(){992>a(window).width()&&(a(this).hasClass("open")?(a(".main-nav-link").removeClass("open"),a(".dropdown").removeClass("open").slideUp(200)):(a(".main-nav-link").removeClass("open"),a(".dropdown").removeClass("open").slideUp(200),a(this).addClass("open").next(".dropdown").addClass("open").slideDown(200)))});a(".primary-a").on("click",function(b){992<a(window).width()&&a("body").hasClass("is-touching")&&!a(this).hasClass("touched")&&(b.preventDefault(),
b.stopPropagation(),a(".primary-a").removeClass("touched"),a(this).addClass("touched"))});a(window).on("click",function(){a(this).hasClass("primary-a")||a(".primary-a").removeClass("touched")});a(".dropdown-wide").on("click",".secondary-header-li",function(){992>a(window).width()&&(a(this).hasClass("open")?(a(".secondary-header-li").removeClass("open"),a(".dropdown-wide .secondary-links").removeClass("open").slideUp(200)):(a(".secondary-header-li").removeClass("open"),a(".dropdown-wide .secondary-links").removeClass("open").slideUp(200),
a(this).addClass("open").next(".secondary-links").addClass("open").slideDown(200)))});a(window).on("resize",function(){991<a(window).width()&&(a(".dropdown, .secondary-links").removeAttr("style"),a(".main-nav-link, .dropdown, .secondary-header-li, .secondary-links").removeClass("open"))});window.addEventListener("touchstart",function d(){a("body").addClass("is-touching");window.removeEventListener("touchstart",d,!1)},!1)})(jQuery);var $dropdown=$(".main-nav-section").find(".dropdown");
$dropdown.each(function(){var a=$(this);0===a.find(".secondary-links").children("li").length&&a.siblings(".main-nav-link").addClass("no-secondary")});var navSections=$(".mainnavsection");navSections.each(function(a){a>navSections.length/2&&0!==$(this).find(".dropdown-double").length&&$(this).find(".dropdown-double").addClass("right-align")});
(function(a){a(".navbar-toggle, .bg-fade").on("click",function(){a(".mobile-menu, .bg-fade, body, html").toggleClass("open");a(".alert-outer-wrapper").toggleClass("alert-hidden")});a(window).on("resize",function(){991<a(window).width()&&(a(".mobile-menu, .bg-fade, body, html").removeClass("open"),a(".alert-outer-wrapper").removeClass("alert-hidden"))});"sticky"===a("header .global-nav.outer").data("stickynav")&&a("header").addClass("stickynav")})(jQuery);
(function(a){function b(c){var b=a(c).parent(".form-drive-list");c=b.find("#ziporsponsor");var d=c.val();b=b.find(".redcross-button");d?(c=encodeURIComponent(d),c=b.find("a").attr("href")+"/drive-results?zipSponsor\x3d"+c,window.open(c,"_self")):(c.attr("placeholder","*Required"),c.attr("data-aa-drive-search-error","zip-required"),c.addClass("error-border"))}var d=window.navigator.userAgent.indexOf("MSIE "),e=document.querySelectorAll("img.srcset-ie-fallback");if(0<d||navigator.userAgent.match(/Trident.*rv:11\./))if(a(".is-video-background").addClass("ie"),
0<e.length)a(window).on("load resize",function(){a(e).each(function(){var c=a(this);if(768>window.innerWidth){var b=a(c).data("mobile-img");a(c).attr("src",b);a(c).attr("srcset",b)}else b=a(c).data("large-img"),a(c).attr("src",b),a(c).attr("srcset",b)})});if(a(".is-video-background").length){var g=function(a,b){b?(a.find("source").attr("src",b),b=a.get(0),b.load(),b.play(),a.removeClass("hidden")):a.addClass("hidden")},f=function(){a(".hero-video.mobile").each(function(){a(this).removeClass("mobile").addClass("desktop");
var c=a(this).closest(".hero-image").data("hero-desktop-video");g(a(this),c)})},k=function(){a(".hero-video.desktop").each(function(){a(this).removeClass("desktop").addClass("mobile");var c=a(this).closest(".hero-image").data("hero-mobile-video");g(a(this),c)})};a(window).resize(function(){767>a(window).width()?k():f()});a(".is-video-background").each(function(){if(767>a(window).width()){var c=a(this).data("hero-mobile-video");var b="mobile"}else c=a(this).data("hero-desktop-video"),b="desktop";c?
a(this).find(".hero-image-container").prepend('\x3cvideo aria-label\x3d"Decorative background video" class\x3d"hero-video '+b+'" muted autoplay loop playsinline\x3e\x3csource src\x3d"'+c+'"\x3e\x3c/source\x3e\x3c/video\x3e'):a(this).find(".hero-image-container").prepend('\x3cvideo aria-label\x3d"Decorative background video" class\x3d"hero-video '+b+' hidden" muted autoplay loop playsinline\x3e\x3csource src\x3d""\x3e\x3c/source\x3e\x3c/video\x3e')})}a("#ziporsponsor").keydown(function(a){13===a.keyCode&&
(a.preventDefault(),b(this))});a(".form-drive-list .redcross-button").click(function(a){a.preventDefault();b(this)})})(jQuery);(function(a,b){a(".rich-text-editor-content").each(function(){a(this).find("a").each(function(){a(this).attr("data-aa-link-button",a(this).text().replace(/\s/g,"-"))})})})(jQuery,document);
(function(a){function b(b,d){var e=b.data("title"),c=a(".jump-link-target[id]"),f='\x3cdiv class\x3d"jump-link-navigation" data-context\x3d"jump-link"\x3e';"horizontal"===d&&void 0!==e&&""!==e&&(f+='\x3ch4 class\x3d"linkset-title"\x3e'+e+"\x3c/h4\x3e");f+='\x3cul class\x3d"jump-link-list"\x3e';c.each(function(b,c){if(a(this).data("stop-jump-links"))return!1;c=a(this).attr("id");b=a(this).data("jump-text");var d=a(this).data("jump-link-analytics");void 0!==c&&""!==c&&(f+='\x3cli class\x3d"jump-link-item"\x3e\x3ca href\x3d"#'+
c+'" data-aa-jump-link\x3d"'+d+'"\x3e'+b+"\x3c/a\x3e\x3c/li\x3e");c=a(this).closest(".section-toggle").find(".section-button-label");c.length&&c.text(b)});f+="\x3c/ul\x3e\x3c/div\x3e";b.html(f)}function d(){var b=a(".section-control"),d=a(".section-control-container[id]").first(),e=b.first().parent(),c,p,n;b.each(function(b){b=a(this);var m=b.find(".section-control-container");if(p||m.is(d))if(n||m.data("stop-jump-links"))n=!0,e.append(b);else{if(m.attr("id")){p=!0;m=a('\x3cdiv class\x3d"section-toggle-container"\x3e\x3c/div\x3e');
var l=a('\x3cdiv class\x3d"section-toggle"\x3e\x3c/div\x3e').append(a('\x3cdiv class\x3d"section-toggle-header clearfix"\x3e\x3c/div\x3e').append(a('\x3ca class\x3d"toggle section-button"\x3e\x3c/a\x3e').append(a('\x3cspan class\x3d"plus-minus"\x3e\x3c/span\x3e')).append(a('\x3cspan class\x3d"section-button-label"\x3e\x3c/span\x3e'))));c=m.appendTo(l);e.append(l)}c.append(b)}else e.append(b)});e.append(a(".back-to-top-button.parbase"))}function e(){function b(d){d.preventDefault();a(".jump-link-item").removeClass("bound").off("click",
"a",b);jQuery("html, body").animate({scrollTop:a(a(this).attr("href")).offset().top},500,function(){a(".jump-link-item:not(.bound)").addClass("bound").on("click","a",b)})}a(".jump-link-item:not(.bound)").addClass("bound").on("click","a",b);a(window).on("scroll resize",function(){var b=a("nav.vertical.jump-links-container");if(b.length){var d=a(window).pageYOffset||a(document).scrollTop(),c=a(".section-toggle"),e=a('.section-control-container[data-stop-jump-links\x3d"true"]'),g=a(".section-control-container[id]").first(),
h,m;g.length&&(h=parseInt(g.offset().top));e.length&&(m=parseInt(e.offset().top));for(var l=0;l<c.length;l++){var q=a(c[l]).find(".section-control-container").first().attr("id");q=b.find('ul li a[href\x3d"#'+q+'"]');q.length&&q.offset().top-250>a(c[l]).offset().top?(a(".jump-link-item").removeClass("active"),q.parent().addClass("active"),q.blur()):q.length&&a(window).scrollTop()+a(window).height()==a(document).height()&&(a(".jump-link-item:not(:last)").removeClass("active"),q.parent().addClass("active"),
q.blur())}g.length&&d<h-165?(b.css("position","absolute"),b.css("top",h+50)):e.length&&d>m-515?(b.css("position","absolute"),b.css("top",m-300)):b.removeAttr("style")}});a(".section-button").on("click",function(){a(this).find(".plus-minus, .section-button-label").toggleClass("open");var b=a(this).closest(".section-toggle").find(".section-toggle-container"),d=b.find(".image-carousel-main,.rco-carousel-main");b.slideToggle("fast",function(){b.toggleClass("expanded");b.hasClass("expanded")&&d.each(function(){a(this).find(".slick-slider").slick("setPosition")})})})}
a(document).on("ready",function(){var g=a(".jump-link-target[id]"),f=a(".jump-links-container"),k=f.data("layout");!f.hasClass("edit-mode")&&k&&(g.length?("vertical"===k&&d(),b(f,k),"vertical"===k?(a(".jump-link-navigation").addClass("column-container"),a(".jump-link-list").addClass("col-md-2"),a(".jump-link-item:first-child").addClass("active"),g=a("nav.vertical.jump-links-container"),f=a(".section-control-container[id]").first(),k=parseInt(f.offset().top),f.length&&(g.css("position","absolute"),
g.css("top",k+50))):(a(".jump-links-container").addClass("column-container"),a(".jump-link-item").addClass("col-md-6")),e()):f.hide())})})(jQuery);jQuery(function(a){a(".tabbed-content-main-desk").each(function(){var b=this;a(this).find(".tab-content-trigger").click(function(){var d=a(this).attr("data-tab");a(b).find(".tab-content-trigger").removeClass("current");a(b).find(".tab-content").removeClass("current");a(this).addClass("current");a(b).find("#"+d).addClass("current")})})});
(function(a,b){a(b).on("ready",function(){var b=a(".redcross-submit-button button");a(b).each(function(){var b=a(this),d=a(b).attr("data-aa-submit-button"),f=a(b).closest("[data-aa-type]").attr("data-aa-type");f&&-1<f.indexOf("dollar-handle")?a(b).closest(".hero-image")&&0<a(b).closest(".hero-image").length?a(b).attr("data-aa-submit-button","hero-dollar-handle "+d):a(b).attr("data-aa-submit-button","dollar-handle-cta-panel "+d):f&&-1<f.indexOf("find-a-drive")?a(b).closest(".hero-image")&&0<a(b).closest(".hero-image").length?
a(b).attr("data-aa-submit-button","find-a-drive-and-list-of-drives-combo "+d):a(b).attr("data-aa-submit-button","find-a-drive-cta-panel "+d):f&&-1<f.indexOf("rcb-sign-in")?a(b).attr("data-aa-submit-button","sign-in "+d):f&&-1<f.indexOf("tag-search-button")&&a(b).attr("data-aa-submit-button","tag-search "+d)})})})(jQuery,document);
(function(a){function b(b){b.preventDefault();b.stopPropagation();b=b.currentTarget.getAttribute("href");a.open(b,"_blank","location\x3dyes,height\x3d400,width\x3d620,scrollbars\x3dyes,status\x3dyes")}function d(a){a.stopPropagation();a=a.currentTarget.nextElementSibling;for(var b=a.classList.contains("hidden"),d=document.querySelectorAll(".social-share-container .other-links"),e=0;e<d.length;e++)d[e].classList.add("hidden");b&&a.classList.remove("hidden")}for(var e=document.querySelectorAll(".social-share-container .share-buttons .share-link"),
g=0;g<e.length;g++)e[g].addEventListener("click",b);e=document.querySelectorAll(".social-share-container .other-social-links-dropdown");for(g=0;g<e.length;g++)e[g].addEventListener("click",d),e[g].classList.remove("hidden");var f=document.querySelectorAll(".social-share-container .other-links");document.body.addEventListener("click",function(a){for(a=0;a<f.length;a++)f[a].classList.add("hidden")})})(window);
(function(a,b){function d(b){f.length&&(a("body").addClass("hide-overflow-x"),768<b&&992>b?(k.removeClass("justify-content-center"),c.addClass("tablet-rapid-pass")):992<=b&&(k.addClass("justify-content-center"),c.removeClass("tablet-rapid-pass")))}if(a(".section-mobile-carousel").length){var e=function(){a(".section-carousel-items").each(function(){a(this).slick({slidesToShow:1,slidesToScroll:1,autoplay:!1,infinite:!0})})},g=function(){a(".slick-initialized").each(function(){a(this).slick("unslick")})};
a(".section-mobile-carousel").each(function(){var b=a(this),c=b.find(".par-25+.par-25");if(c)for(c.parent().addClass("section-carousel-items").addClass("rco-carousel-main"),b=b.find(".par-25"),c=0;c<b.length;c+=2)a(b[c]).removeClass("par-25").addClass("par-50").addClass("col-lg-6").removeClass("col-lg-3"),a(b[c+1]).removeClass("par-25").addClass("par-50").addClass("col-lg-6").removeClass("col-lg-3"),b.slice(c,c+2).wrapAll("\x3cdiv class\x3d'pl-lg-0 pr-lg-0 par-50 multi col-lg-6 section-par three-col-50-25-25'\x3e\x3cdiv class\x3d'row mobile-carousel'\x3e\x3c/div\x3e\x3c/div\x3e")});
a(window).on("resize",function(){var b=0<a(".section-mobile-carousel .slick-initialized").length;992>window.innerWidth&&!b?e():992<=window.innerWidth&&b&&g()});992>window.innerWidth&&e()}/Trident.*rv[ :]*11\./.test(navigator.userAgent)?a(".uniform-heights").addClass("ie-eleven"):a(".uniform-heights").addClass("not-ie-eleven");var f=a(".section-control-container.column-container:has(.rapid-pass)"),k=f.find(".justify-content-center"),c=f.find(".container-fluid.main-content");d(window.innerWidth);a(window).on("resize",
function(){d(window.innerWidth)});if(0==a(".section-control-container.edit").length){var p=function(a,b,c){var d="include"==c;c="exclude"==c;for(var l=0;l<a.length;l++)a[l]===b&&(c=d,l=a.length);return c},n=function(){var a=window.location.search;return-1<a.indexOf("subcode\x3d")?a.match(/[?&]subcode=([\w\d-_]*)/)[1]:Cookies.get("subcode")};a(".section-control-container[data-region-codes]").each(function(){var b=a(this).data("region-codes").split(","),c=a(this).data("region-type"),d=Cookies.get("REGION_CODE");
(showThisSection=p(b,d,c))&&a(this).data("subsource-codes")&&(b=a(this).data("subsource-codes").split(","),c=a(this).data("subsource-type"),d=n(),showThisSection=p(b,d,c));c=a(this);showThisSection?c.removeClass("hidden"):c.remove()});a(".section-control-container[data-subsource-codes]").each(function(){var b=a(this).data("subsource-codes").split(","),c=a(this).data("subsource-type"),d=n();b=p(b,d,c);c=a(this);b?c.removeClass("hidden"):c.remove()})}})(jQuery,document);
jQuery(function(a){a("div.banner-embed").length&&(a(".social-links-embed-non-hidden").addClass("social-with-banner"),a(".drop-arrow-container").addClass("arrow-with-banner"));a(".link-block.current-block").click(function(){992>a(window).width()&&(a(".link-block.collapseable").slideToggle({start:function(){jQuery(this).css("display","flex")}}),a(".current-block").find("i").toggleClass("rco-ui-icon-chevron-down rco-ui-icon-chevron-up"))})});
(function(a){function b(a){a.fadeIn(800,function(){e(a)})}function d(a){a.attr("aria-labelledby","lightbox-dialog-label");a.attr("aria-describedby","lightbox-dialog-desc");a=a.find(".content h2, h3, p");a.first().attr("id","lightbox-dialog-label");1<a.length?a.last().attr("id","lightbox-dialog-desc"):a.first().attr("id","lightbox-dialog-desc")}function e(b){function c(){b.fadeOut(800,function(){d.focus()})}var d=a(":focus"),e=b.find("a, button"),f=b.find(".close button"),m=e[e.length-1];f.focus();
a(".start-of-popup").focus(function(){m.focus()});a(".end-of-popup").focus(function(){f.focus()});f.click(function(){c()});b.click(function(a){a.stopPropagation();c()});b.find(".lightbox-pop-up-cmp").click(function(a){a.stopPropagation()});e=b.find("a:not([href])");e.attr("tabindex","0");e.click(function(){c()});e.on("keypress",function(a){13==a.which&&c()})}var g=a(".lightbox-container").first();if(null!=g)if(a(".section-control-container.edit").length||g.hasClass("is-author"))g.removeClass("hide");
else{var f="LIGHTBOX_MODIFIED",k="LIGHTBOX_SESSION"+window.location.pathname,c="LIGHTBOX_TIMED";"/"==window.location.pathname&&(f="LIGHTBOX_MODIFIED_HOME",c="LIGHTBOX_TIMED_HOME");null==Cookies.get("LIGHTBOX_NEW_PAGE_VISITOR")?Cookies.set("LIGHTBOX_NEW_PAGE_VISITOR","new"):Cookies.set("LIGHTBOX_NEW_PAGE_VISITOR","old");var p=g.data("modified"),n=g.data("audience"),h=g.data("expiration");n=n==Cookies.get("LIGHTBOX_NEW_PAGE_VISITOR")||""==n||null==n;if("session"==h)null!=sessionStorage.getItem(k)?n=
!1:sessionStorage.setItem(k,!0);else if("content"==h&&p==Cookies.get(f))n=!1;else if("timed"==h){k=g.data("expiration-time");if(null==k||""==k)k=0;null!=Cookies.get(c)?n=!1:Cookies.set(c,!0,{expires:k,path:window.location.pathname})}Cookies.set(f,p,{path:window.location.pathname});f=g.data("on-exit");n&&(g.appendTo("body"),d(g),f?document.querySelector("html").addEventListener("mouseleave",function q(a){b(g);a.currentTarget.removeEventListener(a.type,q)}):(f=g.data("load"),setTimeout(function(){b(g)},
1E3*f)))}})(jQuery);
jQuery(function(a){var b=a(".image-carousel-main"),d=a(".image-carousel-items");b.each(function(b){b="image-carousel-"+b;a(this).addClass(b);var d=a(this).data("height"),e=a(this).data("mobileheight"),k=a(this).data("background");a("head").append('\x3cstyle type\x3d"text/css" class\x3d"'+b+'"\x3e\x3c/style\x3e');k&&a("head ."+b).append("."+b+".restricted-height .slick-slide { background-color: "+k+"; }");0<e&&a("head ."+b).append("@media (max-width: 575.98px) { ."+b+".restricted-height .image-carousel-items img { max-height: "+e+
"px; max-width: 100%; width: auto; margin: auto; } }");0<d&&a("head ."+b).append("@media (min-width: 576px) { ."+b+".restricted-height .image-carousel-items img { max-height: "+d+"px; max-width: 100%; width: auto; margin: auto; } }")});d.each(function(){a(this).slick({slidesToShow:1,slidesToScroll:1,autoplay:!1,infinite:!0})})});
jQuery(function(a){a(".icon-card-main").each(function(){var b=a(this).find(".redcross-button a:first").attr("href"),d=a(this).find(".redcross-button a:first").attr("target"),e=a(this).find(".icon-link a:first");e.attr("href",b);e.attr("target",d);a(".iconcard").attr("data-context","iconcard")})});jQuery(function(a){a(".iframe-container").each(function(){var b=a(this),d=b.data("iframeurl"),e=getParameterByName("thrive_category");null!=e&&(d=d+"?thrive_category\x3d"+e,b.find("iframe").prop("src",d))})});
function getParameterByName(a){var b=window.location.href;a=a.replace(/[\[\]]/g,"\\$\x26");return(a=(new RegExp("[?\x26]"+a+"(\x3d([^\x26#]*)|\x26|#|$)")).exec(b))?a[2]?decodeURIComponent(a[2].replace(/\+/g," ")):"":null}jQuery(function(a){a(".generic-cta-panel").attr("data-context","generic-cta-panel")});
(function(a,b){a(b).on("ready",function(){var b="true"===Cookies.get("LOCATION_ZIP_RECHECK")||!0===Cookies.get("LOCATION_ZIP_RECHECK");window.addEventListener("zipCookieChange",function(){var b=Cookies.get("LOCATION_ZIP")||"20006";a("#find-a-drive-cta-zip").val(b)});b||(b=Cookies.get("LOCATION_ZIP")||"20006",a("#find-a-drive-cta-zip").val(b))});a("#find-a-drive-cta").on("click","button",function(b){b.preventDefault();var d=a("#find-a-drive-cta-zip").val(),g=/^(?!0{3})\d{5}$/.test(d),f=a(".findadrive-cta-panel").find(".invalid-zip"),
k=a("#query-info"),c=new Date,p=new Date(c.getTime());p.setDate(p.getDate()+14);var n=k.find("#drives-cta-path").text()+"/drive-results?ed\x3d"+formatBasicDate(p)+"\x26order\x3dDATE\x26range\x3d10\x26sd\x3d"+formatBasicDate(c)+"\x26zipSponsor\x3d"+d;g?(f.removeClass("active"),f.attr("data-context","invalid-zip"),"_blank"===b.currentTarget.formTarget?setTimeout(function(){window.open(n)},100):setTimeout(function(){window.location=n},100)):(f.addClass("active"),f.attr("data-context","invalid-zip-active"))});
a("#find-a-drive-cta-zip").keydown(function(a){if(5<=jQuery(this).val().length&&!(48>a.keyCode||90<a.keeCode))return a.preventDefault(),!1})})(jQuery,document);
jQuery(function(a){var b=a("#query-info"),d=b.data("results"),e,g,f,k,c,p,n,h,m=a(".findadrive").find(".invalid-zip"),l,q,t,r;a(window).on("load",function(e){h=b.find("#results-path").text();c=b.find("#range").text();d&&(a(".blood-drive-results-container").find(".rco-carousel-items").addClass("blood-drives"),r=a(".blood-drive-results"),l=b.find("#limit").text(),q=b.find("#blood-drive-url").text(),t=function(){r.empty();a(".all-drives-link").removeClass("active");a(".drives-loading").removeClass("loading");
a(".blood-drive-results-box").removeClass("active");a(".no-results").addClass("active");var b=a(".rco-carousel-items.blood-drives"),c=a(".rco-carousel-items.blood-drives").data("slides-shown"),d,l;b.each(function(){d=a(this).data("automatic");l=1E3*a(this).data("seconds");a(this).hasClass("slick-initialized")||a(this).slick({slidesToShow:c,slidesToScroll:1,autoplay:d,autoplaySpeed:l,infinite:!0,responsive:[{breakpoint:1200,settings:{slidesToShow:3,slidesToScroll:1}},{breakpoint:992,settings:{slidesToShow:2,
slidesToScroll:1}},{breakpoint:768,settings:{slidesToShow:1,slidesToScroll:1}}]})})},v(),z(),x(),window.addEventListener("zipCookieChange",function(){v();r.empty();a(".all-drives-link").removeClass("active");A()}),k&&(r.empty(),A()))});var v=function(){f=a("#find-a-drive-zip").val();k=/^(?!0{3})\d{5}$/.test(f)},x=function(){var a=b.find("#view-all-path").text();h.match(/\/$/)||(h+="/");a.match(/\/$/)||(a+="/");g=h+"drive-results?ed\x3d"+n+"\x26order\x3dDATE\x26range\x3d"+c+"\x26sd\x3d"+p+"\x26zipSponsor\x3d"+
f;e=a+"drive-results?ed\x3d"+n+"\x26order\x3dDATE\x26range\x3d"+c+"\x26sd\x3d"+p+"\x26zipSponsor\x3d"+f},z=function(){var a=parseInt(b.find("#date-range").text()),c=new Date,d=new Date(c.getTime());d.setDate(d.getDate()+a);p=formatBasicDate(c);n=formatBasicDate(d)},A=function(){function d(b,c){a(".no-results").removeClass("active");a(".drives-loading").removeClass("loading");a.each(b,function(a,b){a="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")[b.startDate.split("/")[0]-1];var c=b.startDate,
d=c.split("/")[1],l=b.timeOpen,e=l.split(" - ")[0],f=l.split(" - ")[1],q=b.address.fullAddress,m=b.driveName;b=encodeURI(h+"/donation-time?driveId\x3d"+b.driveId+"\x26driveName\x3d"+m+"\x26driveDate\x3d"+c+"\x26siteCity\x3d"+b.address.city+"\x26siteState\x3d"+b.address.state+"\x26siteZipCode\x3d"+b.address.zipCode+"\x26endTime\x3d"+f+"\x26startTime\x3d"+e+"\x26siteLine1\x3d"+b.address.addressLine1+"\x26siteLine2\x3d"+b.address.addressLine2+"\x26distance\x3d"+b.distance);r.append('\x3cdiv class\x3d"col-12 col-md-6"\x3e\x3ca href\x3d"'+
b+'" class\x3d"drive-result" data-aa-find-a-drive-list\x3d"drive-result"\x3e\x3cdiv class\x3d"drive-date"\x3e\x3ch4\x3e'+a+"\x3c/h4\x3e\x3ch4\x3e"+d+'\x3c/h4\x3e\x3c/div\x3e\x3cdiv class\x3d"drive-info"\x3e\x3ch3 class\x3d"drive-result-title class\x3d"drive-result" data-aa-find-a-drive-list-title\x3d"'+m+'"\x3e'+m+"\x26nbsp\u00bb\x3c/h3\x3e\x3caddress\x3e"+q+'\x3c/address\x3e\x3cp class\x3d"drive-time"\x3e'+l+"\x3c/p\x3e\x3c/div\x3e\x3c/a\x3e\x3c/div\x3e")});a(".all-drives-link").addClass("active");
a(".blood-drive-results-box").addClass("active");a(".all-drives-link").find("a").attr("href",e)}a(".blood-drive-results-container").addClass("results");a(".drives-loading").addClass("loading");m.removeClass("active");m.attr("data-context","invalid-zip");var k=b.find("#limitsuggestions").text();a.ajax({url:q+"/drives",contentType:"application/json;charset\x3dUTF-8",data:JSON.stringify({endDate:n,limit:l,order:"DISTANCE",range:c,startDate:p,suggestIfBlank:!1,zipCode:f}),dataType:"json",type:"POST",
error:function(){t()},success:function(b){0<b.length?d(b.list,a(this)):0<k?a.ajax({url:q+"/drives",contentType:"application/json;charset\x3dUTF-8",data:JSON.stringify({endDate:n,limit:l,order:"DISTANCE",range:c,startDate:p,suggestIfBlank:!0,zipCode:f}),dataType:"json",type:"POST",error:function(){t()},success:function(b){0<b.length?d(b.list.slice(0,k),a(this)):t()}}):t()}})};a("#find-a-drive").on("click","button",function(a){a.preventDefault();v();z();x();k?(m.removeClass("active"),m.attr("data-context",
"invalid-zip"),setTimeout(function(){window.location=g},100)):(m.addClass("active"),m.attr("data-context","invalid-zip-active"))})});
(function(a,b){a(b).on("ready",function(){var b="true"===Cookies.get("LOCATION_ZIP_RECHECK")||!0===Cookies.get("LOCATION_ZIP_RECHECK");window.addEventListener("zipCookieChange",function(){var b=Cookies.get("LOCATION_ZIP")||"20006";a("#find-a-drive-zip").val(b);a("#ziporsponsor").val(b);a(".zip-or-sponsor-code").val(b)});b||(b=Cookies.get("LOCATION_ZIP")||"20006",a("#find-a-drive-zip").val(b),a("#ziporsponsor").val(b),a(".zip-or-sponsor-code").val(b))})})(jQuery,document);
jQuery(function(a){var b=Date.now();a(".expandable-content-main").each(function(d){var e=["expandable",b,Math.random().toString().substr(2,10)].join("-");d=["content",b.toString(),Math.random().toString().substr(2,10)].join("-")+"-contentTitles";var g=e+"-title",f=e+"-plusminus";e+="-content";var k=a(this).find(".content-titles").attr("id",d).attr("aria-controls",e);var c=a(this).find(".expandable-title").attr("id",g).attr("aria-controls",e);var p=a(this).find(".plus-minus").attr("id",f).attr("aria-controls",
e);var n=a(this).find(".collapsed-content").attr("id",e).attr("role","region").attr("aria-labelledby",g);k.on("click",function(b){b.stopPropagation();c.attr("aria-expanded","false"===c.attr("aria-expanded")?"true":"false");p.toggleClass("open").attr("aria-expanded","false"===p.attr("aria-expanded")?"true":"false");k.attr("aria-expanded","false"===k.attr("aria-expanded")?"true":"false");"-1"===n.attr("tabindex")?n.attr("tabindex","0"):n.attr("tabindex","-1");a(this).siblings(".collapsed-content").stop(!0,
!1).slideToggle();b=a(this).closest(".expandable-content-main");b.find(".image-carousel-items").length&&b.find(".image-carousel-items").slick("setPosition");b.find(".rco-carousel-items").length&&b.find(".rco-carousel-items").slick("setPosition")});b++})});
(function(a,b){function d(){var b=a(".view-all");a(b).each(function(){var b=a(this).attr("href");if(b&&""!=b){var d=a(this).closest(".dynamic-page-teaser-content").find(".link-selectors").text();b=b.split(".html")[0]+d+".html";a(this).attr("href",b)}else a(this).hide()})}a(b).on("ready",function(){d()})})(jQuery,document);
jQuery(function(a){var b=a(".dynamic-iFrame .iframe-container");b.length&&a.getScript("/etc/clientlibs/redcross/vendor/iframe/iframeResizer.min.js",function(){b.each(function(){var b=a(this),e=b.data("iframeurl"),g=window.location.href;var f="thrive_category".replace(/[\[\]]/g,"\\$\x26");f=(f=(new RegExp("[?\x26]"+f+"(\x3d([^\x26#]*)|\x26|#|$)")).exec(g))?f[2]?decodeURIComponent(f[2].replace(/\+/g," ")):"":null;b=b.find("iframe");null!=f&&b.prop("src",e+"?thrive_category\x3d"+f);b.iFrameResize({heightCalculationMethod:"lowestElement"});
b.removeAttr("height");b.attr("scrolling","no")})})});
(function(a,b){function d(){function d(b){a.each(b,function(){a(this).on("click",function(){var b=a(this).closest(".custom-donation-form"),c=a(this).hasClass("active");m(b);var d=a(b).find(".custom-donation-amount");a(b).find(".custom-donation").removeClass("active");a(d).val("");c||(a(this).addClass("active"),b=a(this).attr("data-aa-dollar-handle-amount"),a(this).attr("data-aa-dollar-handle-amount",b+" active"))})})}function c(b){a(b).on("keypress",function(b){if(e(b))return b=b.target.closest(".custom-donation"),
a(b).addClass("active"),!0;b.preventDefault();return!1});a(b).on("keyup",function(){var b=a(this).closest(".custom-donation-form");m(b);var c=a(this).val();h(b,c);b=this.selectionStart;var d=this.selectionEnd,l=(c.match(/,/g)||[]).length,e=c.split(".")[0];e=e.replace(/,/g,"");0===c.indexOf("0")&&0!==c.indexOf("0.")&&"0"!==c&&(--b,--d);0===c.indexOf(".")&&(a(this).val("0"+c),b+=1,d+=1);6<e.length&&a(this).val(e.substring(0,6));a(this).formatCurrency({symbol:"",eventOnDecimalsEntered:!0,roundToDecimalPlace:-1});
c=(a(this).val().match(/,/g)||[]).length-l;this.setSelectionRange(b+c,d+c)})}function e(c){var d=c.target,l=a(d).val();c=c.which?c.which:c.keyCode;var e;if(!(e=46==c||8==c||37==c||38==c||39==c||40==c)){e=d.selectionStart;var f=d.selectionEnd,m=b.selection;e=m&&0!=m.createRange().text.length?!0:m||0==d.value.substring(e,f).length?!1:!0}if(e)return!0;if(13==c)return a(d).closest("form").find(".dollar-handles-cta-button input[type\x3dsubmit]").click(),!1;c=58>c&&47<c;m=l.split(".");e=m[0];f="";m&&1<
m.length&&(f=m[1]);d=d.selectionStart;l=l.indexOf(".");if(-1<l&&l<d){if(f&&2==f.length)return!1}else if(6==e.replace(/,/g,"").length)return!1;return c}function f(b,c){a(b).on("click",function(b){b.preventDefault();var d=a(b.target).closest("form");(b=a(d).find(".handle.active .handle-text").text())&&(b=b.replace("$",""));d=a(d).find(".custom-donation-amount");d=a(d).val();b="?donamt\x3d"+parseFloat((b||d||"0").replace(/,/g,""));c+=b;window.location.href=c})}function h(b,c){b=a(b).find(".handle");
var d=parseFloat(c.replace(/[^0-9\.]+/g,""));a(b).each(function(){var b=parseFloat(a(this).find(".handle-text").text().replace("$","").replace(/[^0-9\.]+/g,""));d==b&&a(this).addClass("active")})}var m=function(b){if((b=a(b).find(".handle.active"))&&0<b.length){a(b).removeClass("active");var c=a(b).attr("data-aa-dollar-handle-amount");a(b).attr("data-aa-dollar-handle-amount",c.replace(" active",""))}};(function(){var b=a(".custom-donation-form");a.each(b,function(){var b=a(this).find(".custom-donation-amount");
a(this).find(".custom-donation");var e=a(this).find(".dollar-handles-cta-button button"),l=a(this).attr("action"),m=a(this).find(".handle");d(m);f(e,l);c(b)})})()}var e=a(".hero-image").parent(".heroimage").parent(".campaign")[0],g={attributes:!0,childList:!0,characterData:!0};if(e){var f=new MutationObserver(function(a){a.forEach(function(){d();f.disconnect()})});f.observe(e,g)}else a(b).on("ready",function(){d()})})(jQuery,document);
(function(a,b){function d(b){function d(){var b=f[h],l=a(b).data("source"),q=a(b).data("id"),k=a(b).data("title"),g=a(b).data("thumb");if("vimeo"==l)a.getJSON("https://vimeo.com/api/v2/video/"+q+".json").done(function(f){k=k?k:f[0].title;a(b).attr("data-title",k);g||(g=f[0].thumbnail_medium?f[0].thumbnail_large:"https://i.ytimg.com/vi/default.jpg");f='\x3cdiv class\x3d"gallery-preview-content"\x3e'+('\x3cbutton class\x3d"gallery-preview-image" style\x3d"background-image: url(\''+g+"');\"\x3e");f+=
'\x3cspan class\x3d"hidden-off-screen"\x3ePlay video: '+k+"\x3c/span\x3e";a(f+'\x3c/button\x3e\x3cspan class\x3d"play-button rco-ui-icon-play-icon"\x3e\x3c/span\x3e\x3c/div\x3e').appendTo(b);if(0==h){f=c.find(".current-video-preview");var m=c.find("div.current-video-caption .description");f.css("background-image","url('"+g+"')");m.text(k);a(b).find(".gallery-preview-content").addClass("active");e(c,l,q)}h++;h<n&&d()}).fail(function(a,b,c){console.log("Request Failed: "+(b+", "+c))});else{k||a.getJSON("https://noembed.com/embed",
{format:"json",url:"https://www.youtube.com/watch?v\x3d"+q},function(c){a(b).attr("data-title",k)});g||(g="https://img.youtube.com/vi/"+q+"/0.jpg");var p='\x3cdiv class\x3d"gallery-preview-content"\x3e'+('\x3cbutton class\x3d"gallery-preview-image" style\x3d"background-image: url(\''+g+"');\"\x3e")+('\x3cspan class\x3d"hidden-off-screen"\x3ePlay video: '+k+"\x3c/span\x3e")+'\x3c/button\x3e\x3cspan class\x3d"play-button fab fa-youtube"\x3e\x3c/span\x3e';p+="\x3c/div\x3e";a(p).appendTo(b);if(0==h){p=
c.find(".current-video-preview");var x=c.find("div.current-video-caption .description");p.css("background-image","url('"+g+"')");x.text(k);a(b).find(".gallery-preview-content").addClass("active");e(c,l,q)}h++;h<n&&d()}}var c=a(b),f=c.find(".gallery-previews").children(),n=f.length;c.find(".current-video-header .current-video-info").addClass("hide-for-small");var h=0;c.find(".gallery-preview-content").first().addClass("active");c.find(".gallery-counter .total-count").text(n);d();g(c)}function e(a,
b,c){a.find(".current-video-header").on("click",function(){a.find(".current-video-preview").hide();a.find(".current-video-header .play-button").hide();a.find(".current-video-header .current-video-info").hide();var d=a.find(".current-video-player"),e="";"youtube"==b?e='\x3ciframe src\x3d"https://www.youtube.com/embed/'+c+'?showinfo\x3d0\x26autoplay\x3d1\x26rel\x3d0\x26enablejsapi\x3d1" frameborder\x3d"0" allow\x3d"autoplay; fullscreen" allowfullscreen\x3e\x3c/iframe\x3e':"vimeo"==b&&(e='\x3ciframe src\x3d"https://player.vimeo.com/video/'+
c+'?autoplay\x3d1" frameborder\x3d"0" allow\x3d"autoplay; fullscreen" allowfullscreen\x3e\x3c/iframe\x3e');d.html(e);d.show()})}function g(b){b.find(".gallery-preview").on("click",function(){var d=a(this),c=b.find(".gallery-previews").children().length;b.find(".current-video-preview").hide();var e=d.data("id"),f=d.data("title")?d.data("title").replace("\u00e2\u20ac\u201c","\u2014"):"",h=d.data("source"),m=d.data("item");b.find(".current-video-header .play-button").hide();b.find(".current-video-header .current-video-info").hide();
b.find("div.current-video-caption .description").text(f);f=b.find(".gallery-counter .current-count");var l=b.find(".gallery-counter .total-count");f.text(m+1);l.text(c);c=b.find(".current-video-player");m="";"youtube"==h?m='\x3ciframe src\x3d"https://www.youtube.com/embed/'+e+'?showinfo\x3d0\x26autoplay\x3d1\x26rel\x3d0\x26enablejsapi\x3d1" frameborder\x3d"0" allow\x3d"autoplay; fullscreen" allowfullscreen\x3e\x3c/iframe\x3e':"vimeo"==h&&(m='\x3ciframe src\x3d"https://player.vimeo.com/video/'+e+'?autoplay\x3d1" frameborder\x3d"0" allow\x3d"autoplay; fullscreen" allowfullscreen\x3e\x3c/iframe\x3e');
c.html(m);c.show();c.isOnScreen()||(e=a("header.stickynav")?a("header.stickynav").height()+50:50,a("html, body").animate({scrollTop:c.offset().top-e},500));b.find(".gallery-preview-content").removeClass("active");d.find(".gallery-preview-content").addClass("active")})}a.fn.isOnScreen=function(){var b=a(window),d=b.scrollTop(),c=b.scrollLeft();var e=c+b.width();b=d+b.height();var g=this.offset();g.right=g.left+this.outerWidth();g.bottom=g.top+this.outerHeight();return!(e<g.left||c>g.right||b<g.top||
d>g.bottom)};a(b).on("ready",function(){var e=a(".content-card-video-gallery-main");if(e.length){var g=b.createElement("link");g.href="https://fonts.googleapis.com/css?family\x3dJust+Another+Hand";g.setAttribute("rel","stylesheet");b.head.appendChild(g)}e.each(function(){d(this)})})})(jQuery,document);
(function(a,b){function d(b){var d=a(b),l=f(d),q=d.data("source");b={};if(l&&0!==l.length){if("vimeo"==q){b=e(d)?"":"\x26gallery\x3dtrue";var h=d.data("playlist-account")?"\x26account\x3d"+d.data("playlist-account"):"";b={url:"/bin/vimeo.json?id\x3d"+l+b+h,async:!0}}else"youtube"==q&&(b=g(d)+l+".json",b={url:b,async:!0,contentType:"application/json",dataType:"json"});b!={}&&a.ajax(b).done(function(b){if(b.error)console.log(q+" error: "+b.error.code+" "+b.error.message),k(d);else{var l=f(d);var g=
d.data("video-title");var m=d.data("video-desc");var h=d.find(".current-video-preview"),t=h.data("image-src"),r=d.data("source");e(d)&&t?h.css("background-image",'url("'+t+'")'):(t="vimeo"==r&&e(d)?n(b,!0):n(b.items[0],"vimeo"==r),h.css("background-image",'url("'+t+'")'));h.data("id",l);l=d.find("div.current-video-caption .description");e(d)?(r="vimeo"==r?b:b.items[0].snippet,m=m?m:r.description,null!=m&&l.html(m.replace(/\n/g,"\x3cbr /\x3e").replace("\u00e2\u20ac\u201c","\u2014"))):"vimeo"==r?(r=
b.items[0],l.text(r.name.replace("\u00e2\u20ac\u201c","\u2014"))):(r=b.items[0].snippet,l.text(r.title));m=d.find("p.current-video-title");g||(g=r.name?r.name.replace("\u00e2\u20ac\u201c","\u2014"):r.title);m.text(g);c(d,b);if(!e(d)){g=d.find(".video-gallery");m=g.data("limit");r=b.items.length;g=g.find(".row");l=d.data("source");d.find(".current-video-header .current-video-info").addClass("hide-for-small");if("youtube"==l)for(l=0;l<m;l++){if(l<b.items.length){h=b.items[l];t=n(h,!1);var u='\x3cdiv class\x3d"gallery-preview col-sm-6 col-md-4 col-lg-3" data-id\x3d"'+
h.snippet.resourceId.videoId+'" data-title\x3d"'+h.snippet.title+'" data-item\x3d"'+(l+1)+'"\x3e';u+='\x3cdiv class\x3d"gallery-preview-content"\x3e';u+='\x3cbutton class\x3d"gallery-preview-image" style\x3d"background-image: url('+t+');"\x3e';u+='\x3cspan class\x3d"hidden-off-screen"\x3ePlay video: '+h.snippet.title+"\x3c/span\x3e";u+='\x3c/button\x3e\x3cspan class\x3d"play-button fab fa-youtube"\x3e\x3c/span\x3e';u+="\x3c/div\x3e\x3c/div\x3e";a(u).appendTo(g)}}else if("vimeo"==l)for(l=0;l<m;l++)l<
b.items.length&&(h=b.items[l],t=n(h,!0),u='\x3cdiv class\x3d"gallery-preview col-sm-6 col-md-4 col-lg-3" data-id\x3d"'+h.uri.replace("/videos/","")+'" data-title\x3d"'+h.name+'" data-item\x3d"'+(l+1)+'"\x3e',u+='\x3cdiv class\x3d"gallery-preview-content"\x3e',u+='\x3cbutton class\x3d"gallery-preview-image" style\x3d"background-image: url('+t+');"\x3e',u+='\x3cspan class\x3d"hidden-off-screen"\x3ePlay video: '+h.name+"\x3c/span\x3e",u+='\x3c/button\x3e\x3cspan class\x3d"play-button rco-ui-icon-play-icon"\x3e\x3c/span\x3e',
u+="\x3c/div\x3e\x3c/div\x3e",a(u).appendTo(g));d.find(".gallery-preview-content").first().addClass("active");d.find(".counter").text("1 of "+Math.min(m,r));p(d,b)}a(window).resize();d.removeClass("hidden")}}).fail(function(a,b,c){404==a.status?console.log(q+" video or playlist not found: "+l):400==a.status?console.log(q+" video ID was entered."):(console.log("Failed to retrieve "+q+" results. Servlet status: "+a.status+". Error thrown: "+c),k(d))})}}function e(a){return"single"===a.data("option")}
function g(a){var b="/bin/youtube.part\x3dsnippet\x26maxResults\x3d50\x26";return b=e(a)?b+"id\x3d":b+"playlistId\x3d"}function f(a){return e(a)?a.data("id"):a.data("playlist-id")}function k(a){var b=f(a),c=!e(a),d=a.data("source");a.find(".current-video-preview").hide();a.find(".current-video-header .play-button").hide();a.find(".current-video-caption").hide();a.find(".current-video-header p.current-video-title").addClass("hide-for-medium");var g=a.find(".current-video-player"),h="";"youtube"==d?
h=c?'\x3ciframe src\x3d"https://www.youtube.com/embed/videoseries?list\x3d'+b+'" frameborder\x3d"0" allow\x3d"accelerometer; encrypted-media; gyroscope; picture-in-picture" allowfullscreen\x3e\x3c/iframe\x3e':'\x3ciframe src\x3d"https://www.youtube.com/embed/'+b+'?showinfo\x3d0\x26autoplay\x3d0\x26rel\x3d0\x26enablejsapi\x3d1" allow\x3d"fullscreen" frameborder\x3d"0" allowfullscreen\x3e\x3c/iframe\x3e':"vimeo"==d&&(h=c?'\x3ciframe style\x3d"position: absolute; top: 0; left: 0; width: 100%; height: 100%;" src\x3d"https://vimeo.com/showcase/'+
b+'/embed" frameborder\x3d"0" allow\x3d"fullscreen" allowfullscreen\x3e\x3c/iframe\x3e':'\x3ciframe src\x3d"https://player.vimeo.com/video/'+b+'?autoplay\x3d0" frameborder\x3d"0" allow\x3d"fullscreen" allowfullscreen\x3e\x3c/iframe\x3e');g.html(h);g.show();a.removeClass("hidden")}function c(b,c){b.find(".current-video-header").on("click",function(){var d=a(this).closest(".content-card-video-main");d.find(".current-video-preview").hide();var f=d.data("id"),g=b.data("source");e(b)||null==c||("vimeo"==
g?f=c.items[0].uri.replace("/videos/",""):"youtube"==g&&(f=c.items[0].snippet.resourceId.videoId));d.find(".current-video-header .play-button").hide();d.find(".current-video-header p.current-video-title").addClass("hide-for-medium");d=d.find(".current-video-player");var m="";"youtube"==g?m='\x3ciframe src\x3d"https://www.youtube.com/embed/'+f+'?showinfo\x3d0\x26autoplay\x3d1\x26rel\x3d0\x26enablejsapi\x3d1" allow\x3d"autoplay; fullscreen" frameborder\x3d"0" allowfullscreen\x3e\x3c/iframe\x3e':"vimeo"==
g&&(m='\x3ciframe src\x3d"https://player.vimeo.com/video/'+f+'?autoplay\x3d1" frameborder\x3d"0" allow\x3d"autoplay; fullscreen" allowfullscreen\x3e\x3c/iframe\x3e');d.html(m);d.show()})}function p(b,c){b.find(".gallery-preview").on("click",function(){var d=a(this),e=b.find(".video-gallery").data("limit"),f=c.items.length,g=d.closest(".content-card-video-main");g.find(".current-video-preview").hide();var m=d.data("id"),k=d.data("title").replace("\u00e2\u20ac\u201c","\u2014"),h=d.data("item");g.find(".current-video-header .play-button").hide();
b.find(".current-video-header .current-video-info").hide();g.find("div.current-video-caption .description").text(k);a(".counter").text(h+" of "+Math.min(e,f));e=g.find(".current-video-player");f="";"youtube"==b.data("source")?f='\x3ciframe src\x3d"https://www.youtube.com/embed/'+m+'?showinfo\x3d0\x26autoplay\x3d1\x26rel\x3d0\x26enablejsapi\x3d1" frameborder\x3d"0" allow\x3d"autoplay; fullscreen" allowfullscreen\x3e\x3c/iframe\x3e':"vimeo"==b.data("source")&&(f='\x3ciframe src\x3d"https://player.vimeo.com/video/'+
m+'?autoplay\x3d1" frameborder\x3d"0" allow\x3d"autoplay; fullscreen" allowfullscreen\x3e\x3c/iframe\x3e');e.html(f);e.show();e.isOnScreen()||(m=a("header.stickynav")?a("header.stickynav").height()+50:50,a("html, body").animate({scrollTop:e.offset().top-m},500));g.find(".gallery-preview-content").removeClass("active");d.find(".gallery-preview-content").addClass("active")})}function n(a,b){var c="https://i.ytimg.com/vi/default.jpg";b?c=a.pictures.sizes[3].link:(a=a.snippet.thumbnails,void 0!=a&&(null!=
a.maxres?c=a.maxres.url:null!=a.standard?c=a.standard.url:null!=a.high?c=a.high.url:null!=a.medium?c=a.medium.url:null!=a["default"]&&(c=a.default.url)));return c}a.fn.isOnScreen=function(){var b=a(window),c=b.scrollTop(),d=b.scrollLeft();var e=d+b.width();b=c+b.height();var f=this.offset();f.right=f.left+this.outerWidth();f.bottom=f.top+this.outerHeight();return!(e<f.left||d>f.right||b<f.top||c>f.bottom)};a(b).on("ready",function(){var c=a(".content-card-video-main");if(c.length){var e=b.createElement("link");
e.href="https://fonts.googleapis.com/css?family\x3dJust+Another+Hand";e.setAttribute("rel","stylesheet");b.head.appendChild(e)}c.each(function(){d(this)})})})(jQuery,document);(function(a,b){b=-1<navigator.userAgent.indexOf("Chrome");-1<navigator.userAgent.indexOf("Safari")&&!b&&a(".image-wrapper").addClass("is-safari")})(jQuery,document);
jQuery(function(a){var b=a(".class-search-button").find("a");if(b){var d=b.attr("data-aa-link-button");b.attr("data-aa-link-button","class-search-cta-panel "+d)}a=a(".class-search-button-wrapper");jQuery(a).closest(".class-search-cta-panel").attr("data-context","class-search-cta-panel")});
(function(a,b){function d(b){a(b).on("click","button",function(a){a.preventDefault();var b=jQuery(this).closest(".class-search-button-wrapper");a=b.find("form");var c=b.find(".invalid-zip");b=b.find(".invalid-class");var d=a.find('input[name\x3d"zip"]').val();d=/^\d{5}$/.test(d);var e=0<a.find(".select-class").val().length;d&&e?(c.removeClass("active"),b.removeClass("active"),a.submit()):!1===d&&e?(b.removeClass("active"),c.addClass("active"),c.attr("data-context","invalid zip active")):(!1===e&&
d?c.removeClass("active"):(c.addClass("active"),c.attr("data-context","invalid zip active")),b.addClass("active"),b.attr("data-context","invalid class active"))})}var e=a(".class-search-button");e&&0<e.length&&a(e).each(function(){if(a(this).closest(".hero-image").parent(".heroimage").parent(".campaign")[0]){var b=new MutationObserver(function(e){e.forEach(function(){d(a(this));b.disconnect()})});b.observe(targetElement,{attributes:!0,childList:!0,characterData:!0})}else d(a(this))});a(b).on("ready",
function(){var b=a(".class-search-button");if(b&&0<b.length){var d="true"===Cookies.get("LOCATION_ZIP_RECHECK")||!0===Cookies.get("LOCATION_ZIP_RECHECK");window.addEventListener("zipCookieChange",function(){var c=Cookies.get("LOCATION_ZIP")||"20006";a(b).each(function(){var b=a(this).closest(".class-search-button-wrapper");a(b).find(".header-geo-field .geo-location").val(c)})});if(!d){var e=Cookies.get("LOCATION_ZIP")||"20006";a(b).each(function(){var b=a(this).closest(".class-search-button-wrapper");
a(b).find(".header-geo-field .geo-location").val(e)})}}})})(jQuery,document);
jQuery(function(a){function b(){var b,d,c;a(".rco-carousel-items").not(".blood-drives").each(function(){b=a(this).data("automatic");c=1E3*a(this).data("seconds");d=a(this).data("slides-shown");a(this).slick({slidesToShow:d,slidesToScroll:1,autoplay:b,autoplaySpeed:c,infinite:!0,responsive:[{breakpoint:1200,settings:{slidesToShow:3,slidesToScroll:1}},{breakpoint:992,settings:{slidesToShow:2,slidesToScroll:1}},{breakpoint:768,settings:{slidesToShow:1,slidesToScroll:1}}]})})}a(".blood-drive-results-container").find(".rco-carousel-items").addClass("blood-drives");
var d=a(".rco-carousel-main").parent(".rco-carousel").parent(".campaign")[0],e={attributes:!0,childList:!0,characterData:!0};if(d){var g=new MutationObserver(function(a){a.forEach(function(){b();g.disconnect()})});g.observe(d,e)}else b()});
jQuery(function(a){a("[data-aa-link-button]").each(function(){var b=a(this),d=b.attr("data-aa-link-button");b.closest(".content-card-with-zip").length?b.attr("data-aa-link-button","content-card-with-zip "+d):b.closest(".alternate-cta-panel").length?b.attr("data-aa-link-button","alternate-cta-panel "+d):b.closest(".event-promo-info").length?b.attr("data-aa-link-button","event-promo-info "+d):b.closest(".drive-search").length?b.attr("data-aa-link-button","drive-search "+d):b.closest(".forms-certificate-button").length?
b.attr("data-aa-link-button","forms-and-certificates "+d):b.closest(".generic-panel-button").length?b.attr("data-aa-link-button","generic-cta-panel "+d):b.closest(".icon-link-button").length?(b.attr("data-aa-link-button","icon-card "+d),b.parents(".container-flex").eq(0).find(".icon-link a").attr("data-aa-link-button","icon-card "+d).append('\x3cspan class\x3d"hidden-off-screen"\x3e'+b.text()+"\x3c/span\x3e")):b.closest(".tribute-submit").length?b.attr("data-aa-link-button","send-card "+d):b.closest(".location-info-text").length&&
b.attr("data-aa-link-button","location-map "+d)});a(".redcross-button a").click(function(b){var d=a(this).attr("href"),e=a(this).attr("target");void 0!==d&&-1!=d.indexOf("postal_code\x3dZIPCODE")&&(b.preventDefault(),b=Cookies.get("LOCATION_ZIP")||"20006",d=d.replace("ZIPCODE",b),void 0!==e&&"_blank"===e?window.open(d,"_blank"):window.location.href=d)})});
jQuery(function(a){a(".description-container").each(function(){var b=a(this).children().last();a(this).children().slice(3).remove();var d=a(this).children().last().text();300<a(this).children().last().text().length&&a(this).children().last().text(d.trim(d).substring(0,300).trim(this)+"...");a(this).append(b);a(this).show()});a(".blog-feed-container .blog-description").each(function(){a(this).children()&&a(this).children().slice(1).remove();var b=a(this)[0].innerText;300<b.length&&(b=b.substring(0,
300)," "==b[b.length-1]&&(b=b.substring(0,b.length-1)),a(this)[0].innerText=b+"...")})});
(function(a){var b=a("#back-to-top-button");if(b&&1==b.length){var d=function(b,c,d){200<a(b).scrollTop()?a(c).stop(!1,!0).fadeIn(200).css("display","inline-block"):d||a(c).stop(!1,!0).fadeOut(200)},e=function(b){f||(a(document).scrollTop()+window.innerHeight>a("footer").offset().top?a(b).removeClass("mobile-sticky"):a(b).addClass("mobile-sticky"))},g=-a(b).outerWidth()/2,f=!1;0<a(".back-to-top-button-container.edit-mode").length&&(f=!0);f||(a(b).css("margin-left",g+"px"),e(b),d(a(window),b,f));a(window).scroll(function(){e(b);
d(a(this),b,f)});a(".back-to-top").click(function(b){b.preventDefault();a("html, body").animate({scrollTop:0},300)})}})(jQuery);jQuery(function(a){});
jQuery(function(a){if(0<a(".articlehub").length){var b=1,d=window.location.href,e=a(".articles-container"),g=d.split(".html")[0],f,k=[],c=[],p,n,h=1,m=a(".articles-title").find("p"),l=e.hasClass("edit"),q="article",t=a(".article-pagination"),r=t.find(".next"),v=t.find(".prev"),x=function(){a.ajax({url:"/bin/filter-tags.json",type:"GET"}).done(function(b){b.activity&&b.activity.length?z(b.activity):a(".activity-filter").remove();b.service&&b.service.length?A(b.service):a(".service-filter").remove()}).fail(function(){a(".activity-filter").remove();
a(".service-filter").remove()})},z=function(b){var c="";a.each(b,function(a,b){a=encodeURIComponent(b.name);var d=b.name;c+='\x3cdiv class\x3d"filter-item"\x3e\n\x3cinput type\x3d"checkbox" name\x3d"activityFilters" id\x3d"activity_'+d+'" value\x3d"activity:'+a+'" data-filter-name\x3d"'+b.title+'"\x3e\n\x3clabel for\x3d"activity_'+d+'"\x3e'+b.title+"\x3c/label\x3e\n\x3c/div\x3e"});a(".activity-list").html(c);y()},A=function(b){var c="";a.each(b,function(a,b){a=encodeURIComponent(b.name);var d=b.name;
c+='\x3cdiv class\x3d"filter-item"\x3e\n\x3cinput type\x3d"checkbox" name\x3d"serviceFilters" id\x3d"service_'+d+'" value\x3d"service:'+a+'" data-filter-name\x3d"'+b.title+'"\x3e\n\x3clabel for\x3d"service_'+d+'"\x3e'+b.title+"\x3c/label\x3e\n\x3c/div\x3e"});a(".service-list").html(c);y()},w=function(c){if(-1<d.indexOf(".type\x3d"))q=d.split(".type\x3d")[1].match(/[^&?.]*/),-1<d.indexOf(".p\x3d")?b=window.location.href.split(".p\x3d")[1].match(/^\d*/):(b=1,d=d.replace(/.type=[^&?.]*/,".type\x3d"+
q+".p\x3d1"),window.history.pushState(null,"",d)),1>b&&(p=1,d=window.location.href.replace(".p\x3d"+b,".p\x3d"+p),window.history.pushState(null,"",d),b=1);else if(!1===l){var e=c="",f="",m=d.split(".html")[0];-1<d.indexOf("?")&&(c="?"+d.split("?")[1]);-1<d.indexOf("f\x3d")&&(e=".f\x3d"+d.split(".f\x3d")[1].match(/.+?(?=.t=)|[^?&.]*/));-1<d.indexOf("\x26\x26t\x3d")&&(f=".t\x3d"+d.split(".t\x3d")[1].match(/[^?&.]*/));0>d.indexOf("\x26\x26p\x3d")&&(1>b?(p=1,d=m+".type\x3d"+q+".p\x3d"+p+e+f+".html"+c,
b=1):d=m+".type\x3d"+q+".p\x3d"+b+e+f+".html"+c);window.history.pushState(null,"",d)}else d=window.location.href.replace(".html/",".html"),d=d.replace(".html",".type."+q+".p\x3d1.html");g=d.replace(".type",".search.type");c=a("#"+q.toString()+"Check");a(c).prop("checked",!0);C(g)},C=function(c){a.ajax({url:c,type:"GET"}).done(function(a){f=a;a.hits&&0<a.hits.length?(n=e.outerHeight(),e.css("min-height",n),e.empty(),h=parseInt(a.pages),B(!0)):(e.empty(),h=parseInt(a.pages),0<h?b>h?(d=window.location.href.replace(".p\x3d"+
b,".p\x3d"+h),window.history.pushState(null,"",d),b=h,w()):B(!1):B(!1))}).always(function(){e.removeAttr("style");a("html, body").animate({scrollTop:"0"},200);a(".page-numbers").empty();J(h,b);a(".page").removeClass("active");a(".page[data-page\x3d"+b+"]").addClass("active");t.find(".page-numbers").find(".page").on("click","a",function(c){var e=a(this);c.preventDefault();e.parent().hasClass("active")||(p=e.parent().data("page"),d=window.location.href.replace(".p\x3d"+b,".p\x3d"+p),window.history.pushState(null,
"",d),w())});0!=h?1==b?(v.addClass("disabled"),b!=h?r.removeClass("disabled"):1==h&&(r.addClass("disabled"),v.addClass("disabled"))):b==h?(v.removeClass("disabled"),r.addClass("disabled")):(v.removeClass("disabled"),r.removeClass("disabled")):(r.addClass("disabled"),v.addClass("disabled"));E()}).fail(function(){B(!1)})},u=function(){var b=d.split(".t\x3d");a.each(b,function(a,b){0!==a&&(-1<b.indexOf(":")?c.push(I(b.split(":")[1].match(/[^&?.]*/)[0]).replace(/-/g," ").replace(/%20/g," ").replace(/\+/g,
" ")):c.push(I(b.match(/[^&?.]*/)[0]).replace(/%20/g," ").replace(/\+/g," ")))})},y=function(b){k=[];var c=d.split(".f\x3d");a.each(c,function(a,b){0!==a&&(-1<b.indexOf(":")?k.push(b.split(":")[0]+"_"+b.split(":")[1].match(/[^&?.]*/)[0]):k.push(b.match(/[^&?.]*/)[0]))});H();b&&b()},H=function(){a.each(k,function(b,c){a("#"+c).prop("checked",!0)})},B=function(a){var b="";switch(q.toString()){case "article":var c="Articles";break;case "pressRelease":c="Press Releases";break;case "event":c="Events";
break;case "promo":c="Promotions";break;case "eventPromo":c="Events \x26 Promotions";break;default:c="Results"}!1===a&&(b="No ");b+=c;a=f["tag-titles"];f&&f.hits&&0<f.hits.length&&""===a?b="All "+c:null!=a&&""!=a&&(b+=' tagged with: "'+a.replace(/\-/," ")+'"');m.text(b)},J=function(b,c){var d=parseInt(c)-2;c=parseInt(c)+2;5>b&&(c=b,d=1);1>d&&(d=1,5<b&&(c=d+4));c>=b&&(c=b,5<b&&(d=c-4));for(b=d;b<parseInt(c)+1;b++)a(".page-numbers").append('\x3cdiv class\x3d"page" data-page\x3d"'+b+'"\x3e\x3ca\x3e'+
b+"\x3c/a\x3e\x3c/div\x3e")},F=function(){var b=[],c="";k=[];a(".filter-list").find("input:checked").each(function(){b.push(a(this).attr("value"))});a.each(b,function(a,b){c+=".f\x3d"+b});G(c)},G=function(b){var c="",e="";if(-1<d.indexOf(".f\x3d")){if(-1<d.indexOf(".t\x3d")){e=d.split(".t\x3d");var f=[];a.each(e,function(a,b){0!==a&&(b.indexOf(":"),f.push(b.match(/[^&?.]*/)[0]))});e=".t\x3d"+f.join(".t\x3d")}-1<d.indexOf("?")&&(c="?"+d.split("?")[1]);d=d.split(".f\x3d")[0]+b+e+".html"+c}else{if(-1<
d.indexOf(".t\x3d")){e=d.split(".t\x3d");var l=[];a.each(e,function(a,b){0!==a&&(b.indexOf(":"),l.push(b.match(/[^&?.]*/)[0]))});e=".t\x3d"+l.join(".t\x3d")}-1<d.indexOf("?")&&(c="?"+d.split("?")[1]);d=d.split(".p\x3d")[0]+".p\x3d1"+b+e+".html"+c}window.history.pushState(null,"",d);y(w());a(".filter-display-box").removeClass("active")},D=function(){var b=".type\x3d"+a(".type-list").find("input:checked").attr("value");-1<d.indexOf(".type\x3d")&&(d=d.replace(/.type=[^&.]*/,b),window.history.pushState(null,
"",d),a(".filter-display-box").removeClass("active"),w())},I=function(a){return a.replace(/(?:^|\s)\w/g,function(a){return a.toUpperCase()})};a(window).on({load:function(){x();u();w()},popstate:function(){F()}});a(".pag-arrow").on("click","a",function(){if(!1===l){var c=a(this),e=a(this).parent().hasClass("disabled");c=c.parent().hasClass("next");e||(p=c?parseInt(b)+1:parseInt(b)-1,d=window.location.href.replace(".p\x3d"+b,".p\x3d"+p),window.history.pushState(null,"",d),w())}});a(".filter-label").on("click",
function(b){b.stopPropagation();a(".filter-display-box.active").parent().hasClass("type-filter");b=a(this).siblings(".filter-display-box");b.hasClass("active")?b.removeClass("active"):(a(".filter-display-box").removeClass("active"),b.addClass("active"))});a(".filter-display-box").on("click",function(a){a.stopPropagation()});a(document.body).on("click",function(b){b.stopPropagation();b=a(".filter-display-box.active").parent().hasClass("type-filter");a(".filter-display-box").hasClass("active")&&(a(".filter-display-box").removeClass("active"),
b?D():F())});a(".filter-actions \x3e button").on("click",function(){F()});a(".clear-filters").on("click",function(){a(this).parent().siblings(".filter-list").find("input:checked").prop("checked",!1)});a(".type-actions \x3e button").on("click",function(){D()});var E=function(){var b=f||{};b.isArticle="article"===b.type;b.isPressRelease="pressRelease"===b.type;b.isEvent="event"===b.type;b.isPromo="promo"===b.type;var c=a("#hub-template");c&&c.length&&(c=Handlebars.compile(c.html()),a(".articles-container").append(c(b)))}}});
jQuery(function(a){function b(){a("div.alert-outer-wrapper.regionCodesEnabled").each(function(){a(this).hide();if(a(this).data("allregionsflag"))g(a(this));else{var b=a(this).data("regionlist"),c=Cookies.get("REGION_CODE"),d;for(d in b){var e=0;a.parseJSON(b[d]).region===c&&(g(a(this)),e++);if(0<e)break}}})}function d(){a(".alert-outer-wrapper").fadeIn("fast");var b=a(".banner-embed").data("bannerpath");a(".mobile-menu").hasClass("open")&&a(".alert-outer-wrapper").addClass("alert-hidden");null!==
p(b)?e(0):c(b,!0,30);a(".slide-trigger").click(function(){e(400)})}function e(b){a(".slide-panel").slideToggle(b);a(".slide-trigger").find("i").toggleClass("fa-chevron-up fa-chevron-down");a(".alert-bg-fade").toggleClass("alert-open");a(".alert-bar").toggleClass("alert-depth");a(".alert-main").toggleClass("alert-main-depth")}function g(b){b.fadeIn("fast");var d=b.data("bannerpath");a(".mobile-menu").hasClass("open")&&b.addClass("alert-hidden");null!==p(d)?k(b,0):c(d,!0,30)}function f(){a(".slide-trigger").each(function(){"block"!==
a(this).closest(".alert-outer-wrapper").css("display")||a(this).closest(".alert-outer-wrapper").find(".slide-trigger").find("i").hasClass("fa-chevron-down")||k(a(this).closest(".alert-outer-wrapper"),400)})}function k(a,b){a.find(".slide-panel").slideToggle(b);a.find(".slide-trigger").find("i").toggleClass("fa-chevron-up fa-chevron-down");a.find(".alert-bg-fade").toggleClass("alert-open");a.find(".alert-bar").toggleClass("alert-depth");a.find(".alert-main").toggleClass("alert-main-depth")}function c(a,
b,c){if(c){var d=new Date;d.setTime(d.getTime()+864E5*c);c="; expires\x3d"+d.toGMTString()}else c="";document.cookie=a+"\x3d"+b+c+"; path\x3d/"}function p(a){a+="\x3d";for(var b=document.cookie.split(";"),c=0;c<b.length;c++){for(var d=b[c];" "===d.charAt(0);)d=d.substring(1,d.length);if(0===d.indexOf(a))return d.substring(a.length,d.length)}return null}var n=a(".banner-embed").find(".campaign")[0],h={attributes:!0,childList:!0,characterData:!0};if(a(".banner-embed").find(".campaign").length){var m=
new MutationObserver(function(a){a.forEach(function(){d();m.disconnect()})});m.observe(n,h)}a("div.alert-outer-wrapper.regionCodesDisabled").each(function(){g(a(this))});Cookies.get("REGION_CODE")?b():window.addEventListener("regionCookieChange",function(a){b()});a(".slide-trigger").click(function(){a(this).closest(".alert-outer-wrapper").find(".slide-trigger").find("i").hasClass("fa-chevron-down")&&f();k(a(this).closest(".alert-outer-wrapper"),400)})});
(function(a,b){var d=a("div.banner");null!=d&&0<d.length&&0<a("div.alert-banner .alert-outer-wrapper").length?jQuery.each(a("div.alert-banner .alert-outer-wrapper"),function(b,g){d.append(a("\x3cdiv/\x3e",{"class":"banner-embed","data-bannerpath":g.dataset.bannerpath}).html(g))}):0<a("div.alert-banner .alert-outer-wrapper").length&&(b=a("main"),null!=b&&0<b.length&&(b.prepend(a("\x3cdiv/\x3e",{"class":"div.banner"})),d=a("div.banner"),null!=d&&0<d.length&&0<a("div.alert-banner .alert-outer-wrapper").length&&
jQuery.each(a("div.alert-banner .alert-outer-wrapper"),function(b,g){d.append(a("\x3cdiv/\x3e",{"class":"banner-embed","data-bannerpath":g.dataset.bannerpath}).html(g))})))})(jQuery,document);
$(window).on("load resize",function(){var a=$("div.banner div.banner-embed");if(null!=a&&0<a.length){var b=32;window.matchMedia("(min-width: 768px)").matches&&(b=70);var d=0;a.each(function(){"block"===$(this).children(".alert-outer-wrapper").css("display")&&($(this).find(".slide-trigger").css({right:d}),d+=b)})}});
jQuery(function(a){if(a(".tag-search-panel-wrapper").length){var b=a("#api-urls").data("api-lookup")+"/region-mappings/",d,e,g,f=a(".tag-search-zip"),k=function(){var a=("; "+document.cookie).split("; LOCATION_ZIP\x3d");2===a.length&&(a=a.pop().split(";").shift(),4<a.length&&f.val(a))},c=function(c,d,f){a.ajax({url:b+c+"?type\x3dRCO",contentType:"application/json;charset\x3dUTF-8",dataType:"json",type:"GET"}).done(function(a){a[0]?(e=a[0].regionCode,0<e.length&&(p(d,f),n(d,f))):(f.find(".no-tag-search-results-container").fadeIn(100),
f.find(".no-tag-search-results-container").attr("data-context","no-tag-search-results-container"))}).fail(function(a,b){})},p=function(b,c){a.ajax({url:"/bin/location-search.regionCode\x3d"+e+".json",contentType:"application/json;charset\x3dUTF-8",dataType:"json",type:"GET"}).done(function(a){a.regionTitle&&(g=a.regionTitle,0<g.length&&c.find(".region-title").text(g))}).fail(function(a,b){})},n=function(b,c){for(b=b.find(".search-tags").data("searchTags");b.includes("/");)b=b.replace("/","*");a.ajax({url:"/bin/sound-alarm.regionCode\x3d"+
e+".tags\x3d"+b+".json",contentType:"application/json;charset\x3dUTF-8",dataType:"json",type:"GET"}).done(function(a){0!==Object.keys(a).length?a.tags.length?h(c,a.tags):(c.find(".no-tag-search-results-container").fadeIn(100),c.find(".no-tag-search-results-container").attr("data-context","no-tag-search-results-container")):(c.find(".no-tag-search-results-container").fadeIn(100),c.find(".no-tag-search-results-container").attr("data-context","no-tag-search-results-container"))}).fail(function(a,b){})},
h=function(b,c){b=b.find(".tag-search-results-container");var d=b.find(".tag-search-results-list");a.each(c,function(a,b){d.append('\x3cli\x3e\x3ca href\x3d"'+b.path+'"\x3e'+b.title+"\x3c/a\x3e")});b.fadeIn(100);b.attr("data-context","tag-search-results-container")};a(".tag-search-form").on("click",".cta-button",function(b){b.preventDefault();var e=a(this);d=e.siblings(".tag-search-zip").val();b=e.parent(".tag-search-form");e=e.parents(".tag-search-cta-panel");var f=e.find(".tag-search-results-container"),
g=e.find(".tag-search-results-list"),m=/^(?!0{3})\d{5}$/.test(d);a(".tag-search-cta-panel").attr("data-context","tag-search-cta-panel");f.fadeOut(100);f.removeAttr("data-context");e.find(".no-tag-search-results-container").fadeOut(100);e.find(".no-tag-search-results-container").removeAttr("data-context");g.empty();m?(b.next(".invalid-tag-search-zip").removeClass("active"),b.next(".invalid-tag-search-zip").removeAttr("data-aa-tag-search-error"),c(d,b,e)):(b.next(".invalid-tag-search-zip").addClass("active"),
b.next(".invalid-tag-search-zip").attr("data-aa-tag-search-error","zip Please enter a valid 5 digit zip code"))});a(window).on("load",function(){var a="true"===Cookies.get("LOCATION_ZIP_RECHECK")||!0===Cookies.get("LOCATION_ZIP_RECHECK");window.addEventListener("zipCookieChange",function(){k()});a||k()})}});
(function(a){var b=a(".invalid-search-zip");if(a("header.local").length){var d=!0,e,g=a(".search-regions").attr("href");(function(){var b=a(".region-title");40<b.text().length&&b.addClass("long-title")})();a(".region-search").on("click","button",function(f){f.preventDefault();e=a("#region-zip-search").val();(d=/^(?!0{3})\d{5}$/.test(e))?(b.removeClass("active"),b.attr("data-aa-local-header-nav-error")&&b.removeAttr("data-aa-local-header-nav-error"),window.location=g+"?zip\x3d"+e):(b.addClass("active"),
b.attr("data-aa-local-header-nav-error","zip Invalid Zip Code"))})}})(jQuery);
(function(a,b){function d(){var b=[];a(".locations-list-section-wrapper").each(function(){var c=a(this).attr("id");-1==b.indexOf(c)&&b.push(c)});for(var d=0;d<b.length;d++){var e=a("#"+b[d]).find(".collapsible-section-header");e.addClass("primary");var c=d&1?!0:!1;c&&e.addClass("background-gray")}}function e(b){a(b).on("click",".collapsible-section-header",function(){a(this).find(".plus-minus").toggleClass("open");var b=a(this).siblings(".collapsible-section-content").data("letter");a('.collapsible-section-content[data-letter\x3d"'+
b+'"]').stop(!0,!1).slideToggle()})}a(b).on("ready",function(){a(".locations-list-section-wrapper").each(function(){e(this)});d()})})(jQuery,document);
(function(a,b){function d(){a(".collapsible-section-header").each(function(){var b=a(this).siblings(".collapsible-section-content");"none"!=b.css("display")&&(a(this).find(".plus-minus").toggleClass("open"),b.stop(!0,!1).slideToggle())})}function e(b){var c=a(b).find(".collapsible-section-content");c.siblings(".collapsible-section-header").find(".plus-minus").toggleClass("open");c=c.data("letter");a('.collapsible-section-content[data-letter\x3d"'+c+'"]').stop(!0,!1).slideToggle("400",function(){g(b)})}
function g(b){if(a(b).length){var c=a("header.stickynav")?a("header.stickynav").height():0;b=a(b).offset();a("html,body").stop().animate({scrollTop:b.top-c},"slow")}}function f(b){b=a(b);var c=b.attr("href");a(c).length?b.click(function(a){a.preventDefault();g(c)}):b.addClass("disabled")}function k(b){b=a(b);var c=b.attr("href");b=b.closest(".pad-cell");a(c).length||b.addClass("disabled");b.click(function(a){a.preventDefault();d();e(c)})}a(b).on("ready",function(){var b=a(".locations-list-wrapper");
b.find(".alphabetical-navigation-list a").each(function(){f(this)});b.on("click",".collapsible-nav-header",function(){a(this).find(".plus-minus").toggleClass("open");a(this).siblings(".collapsible-nav-content").stop(!0,!1).slideToggle()});b.find(".alphabetical-navigation-pad a").each(function(){k(this)})})})(jQuery,document);
jQuery(function(a){function b(){a(".location-search-input").val(y);r.hide();r.removeAttr("data-aa-location-search-error");a(".no-results-error").hide();t.show();u=!0;d(y)}function d(b){a.get(q+b.toString()+"?type\x3dRCO",function(){}).done(function(a){Array.isArray(a)&&a.length?e(a[0].regionCode,b):f()}).fail(function(){g("Request Failed, Please try again later")}).always(function(){})}function e(b,c){a.get("/bin/location-search.regionCode\x3d"+b+".json",function(){}).done(function(b){0!==Object.keys(b).length?
(a(".location-search-cta-panel .location-search-text-cont").find(a(".regionTitle")).html(""),a(".location-search-cta-panel .location-search-text-cont").find(a(".regionStreet")).html(""),a(".location-search-cta-panel .location-search-text-cont").find(a(".regionCity")).html(""),a(".location-search-cta-panel .location-search-text-cont").find(a(".regionState")).html(""),a(".location-search-cta-panel .location-search-text-cont").find(a(".regionZip")).html(""),a(".location-search-cta-panel .location-search-text-cont").find(a(".regionPhone")).html(""),
a(".location-search-cta-panel .location-search-text-cont").find(a(".search-link-list")).html(""),k(b,c),A.show(),t.hide(),n(c)):f()}).fail(function(){g("Request Failed, Please try again later")}).always(function(){}).always(function(){})}function g(a){r.html(a);r.attr("data-aa-location-search-error",a);r.show();t.hide();v.hide();x.hide();A.hide()}function f(){t.hide();v.hide();x.hide();A.hide();a(".no-results-error").show()}function k(b,c){var d="",e="";a.each(b,function(b,c){"regionLocationsLink"===
b&&(d=c);"landingPageUrl"===b&&(e=c);"regionLinks"!==b?(a(".location-search-cta-panel").find(a("."+b)).html(" "+c),"regionPhone"===b&&a("."+b).attr("href","tel:"+c)):p(c);"regionCity"!==b&&"regionState"!==b||a("."+b).append(", ")});a(".regionTitle").attr("href",e);z.html("There may be a Red Cross chapter office closer to you than our Regional Headquarters. View other locations");z.attr("href",d);a(".zip-cont").html('"'+c+'"');a(".zip-cont").attr("data-aa-zip-code",c);a(".zip-cont-sub").html(c)}function c(a){a?
(v.hide(),C.show(),x.show()):(x.hide(),C.show(),v.show());u||(location.hash="",location.hash="#locationFound")}function p(b){a(".search-link-list").html("");a.each(b,function(b,c){a(".search-link-list").append('\x3cli class\x3d"search-link-list-item"\x3e\x3ca target\x3d"_blank" class\x3d"search-base-link"\x3e\x3c/a\x3e\x3c/li\x3e');a(".search-base-link").addClass("search-link-list-item-text"+b);a(".search-link-list-item-text"+b).removeClass("search-base-link");a(".search-link-list-item-text"+b).attr("href",
c.link);a(".search-link-list-item-text"+b).html(c.displayName)})}function n(a){var b=Cookies.get("LOCATION_ZIP");a===b?c(!0):c(!1)}function h(b){a.ajax({url:a("#api-urls").data("api-lookup")+"/region-mappings/"+b+"?type\x3dRCO",contentType:"application/json;charset\x3dUTF-8",dataType:"json",type:"GET"}).done(function(a){if(a.length){var b=a[0].regionCode;(a=a[0].regionName)?(m(a),l(b)):m(defaultRegion)}else m(defaultRegion)}).fail(function(){})}function m(b){a(".current-region-label").text(b)}function l(b){a.ajax({url:"/bin/location-search.regionCode\x3d"+
b+".json",contentType:"application/json;charset\x3dUTF-8",dataType:"json",type:"GET"}).done(function(b){b.landingPageUrl&&(b=b.landingPageUrl,a(".visit-local-site").attr("href",b))}).fail(function(a,b){})}if(a(".location-search-cta-panel").length){var q=a("#api-urls").data("api-lookup")+"/region-mappings/",t=a(".spinner-location"),r=a(".location-search-error-text"),v=a(".location-search-results-wrapper"),x=a(".location-search-results-wrapper-saved"),z=a(".regionLocationsLink"),A=a(".location-search-strike"),
w=a(".location-search-input"),C=a(".search-results-container");v.hide();x.hide();var u=!1,y=Cookies.get("LOCATION_ZIP"),H="true"===Cookies.get("LOCATION_ZIP_RECHECK")||!0===Cookies.get("LOCATION_ZIP_RECHECK");window.addEventListener("zipCookieChange",function(a){y=Cookies.get("LOCATION_ZIP");b()});!H&&y&&b();a(".location-search-button").on("click",function(b){t.show();b.preventDefault();b=w.val();/^(?!0{3})\d{5}$/.test(b)?(r.hide(),r.removeAttr("data-aa-location-search-error"),a(".no-results-error").hide(),
u=!1,d(b)):g("Please enter a valid ZIP code")});w.keypress(function(b){13===b.which&&(t.show(),b.preventDefault(),b=w.val(),/^(?!0{3})\d{5}$/.test(b)?(r.hide(),r.removeAttr("data-aa-location-search-error"),a(".no-results-error").hide(),u=!1,d(b)):g("Please enter a valid ZIP code"))});a(".location-search-results-button-inverse").on("click",function(b){location.hash="";location.hash="#topAnchor";a(".location-search-input").focus()});a(".location-search-results-button").on("click",function(b){b=a(".zip-cont").html().toString().replace(/"/g,
"");if(null!=b){Cookies.set("LOCATION_ZIP",b);var c=new CustomEvent("zipCookieChange",{detail:b});window.dispatchEvent(c);h(b);a(".current-zip").text(b)}Cookies.set("LOCATION_ZIP_RECHECK",!1);u=!0;n(b)});a(document).on("ready",function(){if(window.location.href.split("zip\x3d")[1]){var b=window.location.href.split("zip\x3d")[1].match(/\d{1,5}/)?window.location.href.split("zip\x3d")[1].match(/\d{1,5}/)[0]:"";""!==b&&(a(".location-search-input").val(b),r.hide(),r.removeAttr("data-aa-location-search-error"),
a(".no-results-error").hide(),u=!1,Cookies.set("LOCATION_ZIP_RECHECK",!1),t.show(),d(b))}})}});(function(a,b){a(".show-locations").on("click",function(){a(this).find(".plus-minus").toggleClass("open");a(this).siblings(".mobile-cards").stop(!0,!1).slideToggle()})})(jQuery,document);
function initLocationMap(){var a=document.querySelectorAll(".location-map-container"),b=[];Array.prototype.forEach.call(a,function(a){b.push(a)});(function e(){if(b.length){var a=b.shift();$.when(buildMap(a,jQuery)).done(function(a){a&&e()})}})()}
function buildMap(a,b){function d(){if(c.length){var a=c.shift();b.when(e(a)).done(function(b){var c=new google.maps.Marker({map:n,position:b,icon:"/etc/clientlibs/redcross/rcolocalcontent/base/images/icon-pin.png",shadow:!0});g(c,a.formattedAddress);m.extend(b);d()})}else{n.setCenter(m.getCenter());n.fitBounds(m);var f={minZoom:6,maxZoom:14};1==p&&(f={minZoom:6,maxZoom:14,zoom:12});n.setOptions(f);k.resolve(!0)}}function e(a){var c=b.Deferred(),d=0;(function v(){h.geocode({address:a.address},function(b,
e){e===google.maps.GeocoderStatus.OK?c.resolve(b[0].geometry.location):20<d?c.reject({status:e,address:a.address,message:"Geocode has reached the maximum number of attempts for this address."}):e===google.maps.GeocoderStatus.OVER_QUERY_LIMIT?setTimeout(function(){v();d++},250):c.reject({status:e,address:a.address,message:"Geocoder failed with an unexpected error."})})})();return c.promise()}function g(a,b){var c=new google.maps.InfoWindow({});google.maps.event.addListener(a,"click",function(a,b){return function(){c.setContent(b);
c.open(n,a)}}(a,b))}function f(a){var c={},d=b(a).find("h5").text(),e=b(a).find("street").text();a=b(a).find("city").text();var f=(e+" "+a).replace(/#/g,"%23").replace(/%/g,"%25").replace(/"/g,"%22");c.address=f;f="https://www.google.com/maps/search/?api\x3d1\x26query\x3d"+encodeURIComponent(c.address);d="\x3cstrong\x3e"+d+"\x3c/strong\x3e\x3cbr /\x3e"+(e+"\x3cbr /\x3e")+(a+"\x3cbr /\x3e");d+='\x3ca href\x3d"'+f+'"\x3eGet Directions\x3c/a\x3e';c.formattedAddress=d;return c}var k=b.Deferred(),c=[],
p=0,n=new google.maps.Map(a.querySelector(".map_canvas"),{mapTypeId:google.maps.MapTypeId.ROADMAP,gestureHandling:"cooperative"}),h=new google.maps.Geocoder,m=new google.maps.LatLngBounds;(function(){var b=a.querySelector(".mobile-cards").querySelectorAll(".location-card");p=b.length;for(var d=0;d<b.length;d++)c.push(f(b[d]))})();d();return k.promise()}
(function(a,b){b=-1<navigator.userAgent.indexOf("Chrome");-1<navigator.userAgent.indexOf("Safari")&&!b&&a(".image-wrapper").addClass("is-safari");a(".location-info").attr("data-context","location-info")})(jQuery,document);
(function(a,b){function d(a){a=a.replace(/Z|-\d{2}:.*/,"");a=new Date(a);return{date:e[a.getMonth()]+" "+a.getDate(),year:a.getFullYear(),day:g[a.getDay()]}}var e="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),g="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" ");a(b).on("ready",function(){var b=-1<navigator.userAgent.indexOf("Chrome");-1<navigator.userAgent.indexOf("Safari")&&!b&&a(".image-wrapper").addClass("is-safari");a(".event-promo-info-container").each(function(){var b=
a(this).find(".date"),c=b.data("singledate");if(c)c=d(c),b.html('\x3cdiv class\x3d"day"\x3e'+c.day+"\x3c/div\x3e"),b.append(c.date+", "+c.year+"\x3cbr\x3e\n");else{c=b.data("startdatetime");var e=b.data("enddatetime");if(c&&e){c=d(c);var f=d(e);c.date+" "+c.year===f.date+" "+f.year?(b.html('\x3cdiv class\x3d"day"\x3e'+c.day+"\x3c/div\x3e"),b.append(f.date+", "+c.year)):(e=c.day+", "+c.date,c.year!==f.year&&(e+=", "+c.year),c=f.day+", "+f.date+", "+f.year,b.append('\x3cdiv class\x3d"day"\x3e'+e+" - \x3c/div\x3e"),
b.append('\x3cdiv class\x3d"day"\x3e'+c+"\x3c/div\x3e"))}}})})})(jQuery,document);
jQuery(function(a){if(a(".donation-thermometer").length){var b=a(".donation-thermometer").data("id"),d,e,g,f,k='\x3cspan class\x3d"block-label"\x3e$0\x3c/span\x3e',c,p=function(){a(".thermometer-blocks").html(k);a(".mercury").css("width",c)},n=document.getElementById("api-urls").getAttribute("data-api-donation");a.ajax({url:n+"/thermometers/"+b,contentType:"application/json;charset\x3dUTF-8",dataType:"json",type:"GET",error:function(){p()},success:function(a){d=a.donations;e=a.goal;f=a.numberOfBlocks;
a=String(e);switch(a.split("").length){case 4:a=e/1E3;g=a+"K";break;case 5:a=a.substring(0,2);g=a+"K";break;case 6:a=a.substring(0,3);g=a+"K";break;case 7:a=a.substring(0,1);g=a+"M";break;case 8:a=a.substring(0,2);g=a+"M";break;case 9:a=a.substring(0,3);g=a+"M";break;default:g=a}c=d/e*100+"%";for(var b=a=e/f,l=1;l<f;l++){var h=String(b);switch(h.split("").length){case 4:h=b/1E3;h+="K";break;case 5:h=h.substring(0,2);h+="K";break;case 6:h=h.substring(0,3);h+="K";break;case 7:h=h.substring(0,1);h+=
"M";break;case 8:h=h.substring(0,2);h+="M";break;case 9:h=h.substring(0,3);h+="M";break;default:h=b}k+='\x3cspan class\x3d"internal-block block-label"\x3e$'+h+"\x3c/span\x3e";b+=a}k+='\x3cspan class\x3d"block-label goal-label"\x3e$'+g+"\x3c/span\x3e";p()}})}});"use strict";function ownKeys(a,b){var d=Object.keys(a);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(a);b&&(e=e.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable}));d.push.apply(d,e)}return d}
function _objectSpread(a){for(var b=1;b<arguments.length;b++){var d=null!=arguments[b]?arguments[b]:{};b%2?ownKeys(Object(d),!0).forEach(function(b){_defineProperty(a,b,d[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(d)):ownKeys(Object(d)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(d,b))})}return a}
function _defineProperty(a,b,d){b in a?Object.defineProperty(a,b,{value:d,enumerable:!0,configurable:!0,writable:!0}):a[b]=d;return a}
try{var ua=window.navigator.userAgent,isIE=/MSIE|Trident/.test(ua);if(!isIE){var sustainer=document.getElementById("sustainer");if(sustainer){var openSustainer=function(){sustainer.classList.add("open")},backgroundElements=Array.from(document.getElementsByClassName("js-bg-image"));backgroundElements.forEach(function(a){a.style.backgroundImage="url(".concat(a.dataset.bg,")")});var donorInfo=JSON.parse(sessionStorage.donorInfo);if("credit-card"===sessionStorage.pay_type&&1E3>=donorInfo.donationAmount&&
"oneTime"===donorInfo.frequency&&"US"===donorInfo.address_country){var getMonthlyDonationAmount=function(a){var b=parseFloat(a);a=[10,15,20,25,35,50,60,65,70,85,100][[101,150,200,300,400,500,600,700,800,900].filter(function(a){return b>=a}).length];return a="".concat(parseFloat(a).toFixed(2))},monthlyDonationAmount=getMonthlyDonationAmount(donorInfo.donationAmount),getMonthlyDonationDate=function(){var a=new Date,b=[28,31,30,31,30,31,31,30,31,30,31,31];return a.getDate()<=b[a.getMonth()]?a.getDate():
b[a.getMonth()]},nth=function(a){if(3<a&&21>a)return"th";switch(a%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}};sessionStorage.donorInfo=JSON.stringify(_objectSpread(_objectSpread({},donorInfo),{},{monthlyDonationAmount:monthlyDonationAmount}));sustainer.innerHTML=sustainer.innerHTML.replaceAll("#monthlyDonationAmount","$".concat(parseInt(monthlyDonationAmount)));var monthlyDonationDate=getMonthlyDonationDate(),monthlyDonationDateString="".concat(monthlyDonationDate).concat(nth(monthlyDonationDate));
sustainer.innerHTML=sustainer.innerHTML.replaceAll("#monthlyDonationDate",monthlyDonationDateString);var toggleSustainer=function(){sustainer.classList.toggle("open");document.getElementsByClassName("sustainer-base")[0].classList.remove("hide");document.getElementsByClassName("sustainer-confirm")[0].classList.add("hide")};switch(donorInfo.designation){case "Blood Services":sustainer.getElementsByClassName("bsdesc")[0].classList.add("designation");break;case "Disaster Relief":sustainer.getElementsByClassName("drdesc")[0].classList.add("designation");
break;case "Your Local Red Cross":sustainer.getElementsByClassName("ylrcdesc")[0].classList.add("designation");break;case "Where It Is Needed Most":case "WIINM":sustainer.getElementsByClassName("wiinmdesc")[0].classList.add("designation");break;default:sustainer.getElementsByClassName("drdesc")[0].classList.add("designation")}sustainer.addEventListener("click",function(a){toggleSustainer()});openSustainer();var box=sustainer.getElementsByClassName("sustainer-box")[0];box.addEventListener("click",
function(a){a.stopPropagation()});var getFundCode=function(){switch(donorInfo.designation){case "Blood Services":return"2151";case "Disaster Relief":return"4900";case "Where It Is Needed Most":case "WIINM":return"0000";case "Your Local Red Cross":return"9301";default:return"4900"}},getCookie=function(a){a+="\x3d";for(var b=decodeURIComponent(document.cookie).split(";"),d=0;d<b.length;d++){for(var e=b[d];" "==e.charAt(0);)e=e.substring(1);if(0==e.indexOf(a))return e.substring(a.length,e.length)}return""},
getSustainerId=function(){var a=getCookie("sustainerID");a=atob(a);return a.substring(6,a.length-6)},getMicrosite=function(){return"".concat(sustainer.dataset.rt.includes("microsite"))},currentURL="https://"+window.location.host+window.location.pathname,apiBaseURL=currentURL.substring(0,currentURL.length-5),apiRequest={amount:getMonthlyDonationAmount(donorInfo.donationAmount),currency:"USD",billingInfo:{firstName:donorInfo.firstName,lastName:donorInfo.lastName,email:donorInfo.email,phone:donorInfo.phone_billing,
addressLine1:donorInfo.address_line1,addressLine2:donorInfo.address_line2,city:donorInfo.address_city,zipCode:donorInfo.address_postal_code,state:donorInfo.address_state,country:donorInfo.address_country},paymentToken:getSustainerId(),email:donorInfo.email,designationId:donorInfo.designationId,donationEntityId:donorInfo.entityId,receiptUrl:"".concat(apiBaseURL,"/error.html"),errorUrl:"".concat(apiBaseURL,"/receipt.html"),recurringFrequency:"monthly",fdrInfo:{microsite:getMicrosite(),tpf:"false",designationName:donorInfo.designation,
companyName:donorInfo.hasOrganization?donorInfo.organization:"",sourceCode:donorInfo.sourceCode,subSourceCode:donorInfo.subSourceCode,fundCode:getFundCode(),internalDonationPageName:donorInfo.internalDonationPageName,donationEntityUrl:donorInfo.donationEntityUrl,donationLanguage:"ENGLISH",premiumOptIn:sessionStorage.haspremiumoptin},fdrCustomFields:[]},donateButton=document.getElementById("sustainer-donate"),closeButton=document.getElementById("sustainer-close"),returnButton=document.getElementById("sustainer-return"),
sendDonation=function(){var a=document.getElementById("api-urls").dataset.apiDonation;a="".concat(a,"/subscriptions/creditcard/sustainer/token");fetch(a,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(apiRequest)}).then(function(a){201===a.status?(document.getElementsByClassName("sustainer-base")[0].classList.toggle("hide"),document.getElementsByClassName("sustainer-confirm")[0].classList.toggle("hide")):console.log("The SLB API request returned an unexpected HTTP status.")}).catch(function(a){console.log({requestErrorMessage:"A general error occurred within the SLB request.",
error:a})})};donateButton.addEventListener("click",sendDonation);closeButton.addEventListener("click",toggleSustainer);returnButton.addEventListener("click",toggleSustainer)}else sustainer.classList.remove("open")}}}catch(a){var scriptErrorMessage="A general error occurred in the SLB script.";console.log({error:a,scriptErrorMessage:scriptErrorMessage})}
(function(a,b){a(b).on("ready",function(){var b=JSON.parse(window.sessionStorage.getItem("tributeCardInfo"))||{};b.isMail="MAIL"==b.type;var e=a("#tribute-card-template");e&&e.length&&(e=Handlebars.compile(e.html()),a("#tribute-template-placeholder").append(e(b)))})})(jQuery,document);
(function(a,b){function d(a,b){b||(b=window.location.href);a=a.replace(/[\[\]]/g,"\\$\x26");return(a=(new RegExp("[?\x26]"+a+"(\x3d([^\x26#]*)|\x26|#|$)")).exec(b))?a[2]?decodeURIComponent(a[2].replace(/\+/g," ")):"":null}var e=function(){var a=!1;"true"===sessionStorage.getItem("donationSubmitted")&&(a=!0);return a}(),g=function(){var a=window.location.href,b=sessionStorage.donorInfo?JSON.parse(sessionStorage.donorInfo):{},d=a.split("donate/")[0]+"donate/donation.html";b.entityId?k(b.entityId).done(function(a){0<
Object.keys(a).length?f(a.url):f(d)}):f(d)},f=function(a){e?sessionStorage.removeItem("donationSubmitted"):window.location=a},k=function(b){return a.ajax({url:"/bin/donation-id-url.id\x3d"+b+".json",type:"GET"}).fail(function(a){})};a(b).on("ready",function(){var b=d("id"),e=d("referenceNumber");digitalData.itemArray&&(digitalData.itemArray.referenceId=e);null!==b&&""!==b&&window.sessionStorage.setItem("donationId",b);(b=JSON.parse(window.sessionStorage.getItem("donorInfo")))&&void 0!=b&&(e=a(".tribute-card.parbase"),
b.hasDedication?e.show():e.hide());0<a(".confirmation-page").length&&0<a("body.publish").length&&g()})})(jQuery,document);
(function(a,b){function d(a,b){a.length&&b&&void 0!=b&&a.text(b)}a(".donation-details-wrapper").find(".print-receipt").on("click","button",function(a){a.preventDefault();window.print()});a(b).on("ready",function(){var b=a(".date-details span"),g=a(".amount-details span"),f=a(".designation-details span"),k=a(".transaction-details span"),c=JSON.parse(window.sessionStorage.getItem("donorInfo"));if(c&&void 0!=c){var p=formatBasicDate(new Date(c.donationDate)).replace(/\//g,"-"),n=c.designation;if(0<c.donationAmount.length&&
0<c.donationAmount.indexOf(",")){var h=c.donationAmount.replace(/,/g,"");h="$"+parseFloat(h).toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}else h="$"+parseFloat(c.donationAmount).toFixed(2);c="monthly"==c.frequency?0<a(".confirmation-copy-main.spanish").length?"por mes":"per month":"";var m="donationSupportId".replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");m=(new RegExp("[\\?\x26]"+m+"\x3d([^\x26#]*)")).exec(location.search);(m=null===m?"":decodeURIComponent(m[1].replace(/\+/g," ")))||(m=window.sessionStorage.getItem("donationSupportId"));
for(var l=[],q,t=window.location.href.slice(window.location.href.indexOf("?")+1).split("\x26"),r=0;r<t.length;r++)q=t[r].split("\x3d"),l.push(q[0]),l[q[0]]=q[1];d(b,p);d(g,h+" "+c);d(f,n);d(k,m)}(b=a(".donation-details-wrapper").find(".redcross-submit-button button"))&&0<b.length&&(b=b[0],g=a(b).attr("data-aa-submit-button"),a(b).attr("data-aa-submit-button","print-receipt "+g))})})(jQuery,document);
jQuery(function(a){if(a(".contributions-counter").length){var b=a(".contributions-counter"),d=b.data("id"),e=b.find(".counter-amount"),g=0,f=b.find(".number-of-contributions"),k=0,c=function(a,b){var c="",d="",g=/(\d+)(\d{3})/;(function(){for(var b=a.toString().split(".")[0].replace(",","");g.test(b);)b=b.replace(g,"$1,$2");c=b})();(function(){for(var a=b.toString().replace(",","");g.test(a);)a=a.replace(g,"$1,$2");d=a})();e.text("$"+c);f.text(d)};b=document.getElementById("api-urls").getAttribute("data-api-donation");
a.ajax({url:b+"/counters/"+d,contentType:"application/json;charset\x3dUTF-8",dataType:"json",type:"GET",error:function(){window.console.log("the ajax request had an error");c(g,k)},success:function(a){g=a.donations;k=a.contributions;c(g,k)}})}});
(function(a,b){function d(b){var c=JSON.parse(window.sessionStorage.getItem("donorInfo"));if(c&&void 0!=c)if(!0===c.hasDedication){if(a(".tribute-card-main").removeClass("hidden"),window.sessionStorage.setItem("tributeInProgress","true"),p("donationSupportId")){var d={},e=p("initialTransactionId");e?(d.donationId=e,sessionStorage.setItem("donationId",e)):d.donationId=sessionStorage.getItem("donationId");c.donationAmount&&"undefined"!==c.donationAmount&&(d.donationAmount=c.donationAmount.replace(/([,])/g,
""));d.includeDonationAmount=!0;d.honoreeName=c.dedicationValue?c.dedicationValue:" ";d.donorFirstName=c.firstName;d.donorLastName=c.lastName;d.donorEmail=c.email;d.tributeFrom=c.firstName+" "+c.lastName;f(d,c)}}else window.sessionStorage.setItem("tributeInProgress","false");0<a(".confirmation-page").length&&b()}function e(){var a=window.sessionStorage.getItem("tributeInProgress");a&&"true"===a&&window.addEventListener("beforeunload",g,!1);b.getElementsByClassName("tribute-submit")[0].querySelectorAll("a")[0].addEventListener("click",
function(a){a.stopPropagation();window.removeEventListener("beforeunload",g,!1)},!0)}function g(b){a(".unfinished-tribute").addClass("active");return b.returnValue="You haven't chosen when to send the card. Are you sure you want to leave this page?"}function f(b,d){k();a.ajax({url:a("#api-urls").data("api-tribute")+"/cards",contentType:"application/json; charset\x3dUTF-8",dataType:"json",type:"POST",data:JSON.stringify(b)}).done(function(a){a.completed=!1;a.donationAmount=d.donationAmount;sessionStorage.setItem("tributeCardInfo",
JSON.stringify(a));c()}).fail(function(a,b){422===a.status?c():window.location.href=window.location.origin+"/content/redcross/en/errors/500.html"})}function k(){var b=a(".tribute-submit").find("button");b.removeClass("red");b.addClass("tribute-button-disabled");a(".spinner-cont").show();n=!0}function c(){var b=a(".tribute-submit").find("button");a(".spinner-cont").hide();b.removeClass("tribute-button-disabled");b.addClass("red");n=!1}function p(a){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");a=
(new RegExp("[\\?\x26]"+a+"\x3d([^\x26#]*)")).exec(location.search);return null===a?"":decodeURIComponent(a[1].replace(/\+/g," "))}var n=!1;a(b).on("ready",function(){d(function(){e()})});a(".tribute-submit").on("click","a",function(a){n?a.preventDefault():window.removeEventListener("beforeunload")})})(jQuery,document);
(function(a,b){if(a(".premium-shipping-address-main").length){var d=function(){var b=a(".premium-opt-in-addresses-section span"),c=a("#name").val(),d=a("#addressone").val(),e=a("#city").val(),f=a("#state").val(),g=a("#zip").val(),l=getUrlParameter("id"),q=window.sessionStorage.getItem("pay_type");if("paypal"==q||"apple-pay"==q||"credit-card"==q)if(""==l||null==l)l=window.sessionStorage.getItem("donationId");q="all fields";return""==l||null==l?(b.text("Missing property: transactionID."),!1):""==c||
null==c?(c=a('#formDiv label[for\x3d"name"]'),c.length&&(q=c.text().toLowerCase()),b.text("Please enter "+q+"."),!1):""==d||null==d?(c=a('#formDiv label[for\x3d"addressone"]'),c.length&&(q=c.text().toLowerCase()),b.text("Please enter "+q+"."),!1):""==e||null==e?(c=a('#formDiv label[for\x3d"city"]'),c.length&&(q=c.text().toLowerCase()),b.text("Please enter "+q+"."),!1):""==f||null==f?(c=a('#formDiv label[for\x3d"state"]'),c.length&&(q=c.text().toLowerCase()),b.text("Please enter "+q+"."),!1):""==g||
null==g?(c=a('#formDiv label[for\x3d"zip"]'),c.length&&(q=c.text().toLowerCase()),b.text("Please enter "+q+"."),!1):!0},e=function(b){a(".unfinished-premium-shipping-address").addClass("active");return b.returnValue="You haven't provided a shipping address. Are you sure you want to leave this page?"},g=function(b){var c=JSON.parse(window.sessionStorage.getItem("donorInfo"));c&&void 0!=c&&(!0===c.haspremiumoptin?(a(".premium-shipping-address-main").removeClass("hidden"),window.sessionStorage.setItem("premiumOptInProgress",
"true")):window.sessionStorage.setItem("premiumInProgress","false"));0<a(".confirmation-page").length&&b()},f=a('#formDiv button[type\x3d"submit"]');a.ajaxSetup({contentType:"application/json"});a(b).on("ready",function(){g(function(){var a=window.sessionStorage.getItem("premiumOptInProgress");a&&"true"===a&&window.addEventListener("beforeunload",e,!1)})});a("#formDiv input, #formDiv select").on("input",function(){""!==a("#name").val()&&""!==a("#addressone").val()&&""!==a("#city").val()&&""!==a("#state").val()&&
5<=a("#zip").val().length?f.removeAttr("disabled"):f.attr("disabled",!0)});a("#formDiv").submit(function(b){b.preventDefault();b=a("#name").val();var c=a("#addressone").val(),g=a("#addresstwo").val(),k=a("#city").val(),h=a("#state").val(),m=a("#zip").val(),l=getUrlParameter("initialTransactionId")||getUrlParameter("id")||window.sessionStorage.getItem("donationId"),q=getUrlParameter("type")||window.sessionStorage.getItem("donationFrequency"),t=window.sessionStorage.getItem("pay_type");if(d())window.removeEventListener("beforeunload",
e,!1),q=q.toUpperCase(),b=JSON.stringify({id:l,addressee:b,addressLineOne:c,addressLineTwo:g,city:k,state:h,postalCode:m,type:q,exposeId:"",paymentType:t}),c=function(b,c,d){a("#formDiv").hide();a("#titleDiv").html("");a("#descDiv").hide();a("#msg").show()},(g=a("#api-urls").data("api-donation"))?a.ajax({url:g+"/transactions/premiumoptin",type:"post",data:b,headers:{"Content-Type":"application/json"},dataType:"json",statusCode:{200:c,201:c},success:function(b){console.info(b);a("#formDiv").hide();
a("#msg").show()},error:function(b,c){a(".premium-opt-in-addresses-section .error").text("There was an error while attempting to submit this form. Please try again in a couple minutes.");console.error(b)}}):a(".premium-opt-in-addresses-section .error").text("There was an error while attempting to submit this form. Could not parse submission url.");else return f.attr("disabled",!0),!1})}a("#name").on("keypress",function(a){var b=String.fromCharCode(a.charCode?a.charCode:a.which);if(!/^[a-zA-Z'` -]+$/.test(b))return a.preventDefault(),
!1});a("#addressone,#addresstwo,#city").on("keypress",function(a){var b=String.fromCharCode(a.charCode?a.charCode:a.which);if(!/^[a-zA-Z0-9 &#,./-]+$/.test(b))return a.preventDefault(),!1});a("#zip").on("keypress",function(a){var b=String.fromCharCode(a.charCode?a.charCode:a.which);if(!/^[0-9]+$/.test(b))return a.preventDefault(),!1})})(jQuery,document);
(function(a,b){function d(a,b){b=a.indexOf(b);return a.slice(0,b-1)+a.slice(b)}a(b).on("ready",function(){var b=JSON.parse(window.sessionStorage.getItem("donorInfo"))||{},g=a("#confirmation-copy-template-placeholder").hasClass("edit");if(g)b.firstName="{{firstName}}",b.lastName="{{lastName}}",b.companyName="{{companyName}}",b.donationAmount="{{donationAmount}}",b.perMonthText="{{perMonthText}}",b.donationDate="{{donationDate}}",b.designation="{{designation}}",b.email="{{email}}";else{if(b.donationAmount&&
0<b.donationAmount.length&&0<b.donationAmount.indexOf(",")){var f=b.donationAmount.replace(/,/g,"");b.donationAmount=parseFloat(f).toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}else b.donationAmount=parseFloat(b.donationAmount).toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,");b.company_preamble=b.company_preamble?b.company_preamble:"on behalf of";b.companyName=b.hasOrganization?b.company_preamble+" "+b.organization:"";"monthly"===b.frequency?0<a(".confirmation-copy-main.spanish").length?b.perMonthText=
"por mes":b.perMonthText="per month":b.perMonthText=""}(f=a("#confirmation-copy-template"))&&f.length&&(f=f.html(),g||b.hasOrganization||(f=d(f,"{{companyName}}")),g||"monthly"===b.frequency||(f=d(f,"{{perMonthText}}")),g=Handlebars.compile(f),a("#confirmation-copy-template-placeholder").append(g(b)))})})(jQuery,document);
(function(a,b){function d(b,c,d,e){b=a('.associated-content-container[data-type\x3d"'+b+'"]');b.hide();var f=c.attr(d);f&&b.length&&b.each(function(){var b=a(this),c=b.attr(e);c&&c===f&&b.show()})}function e(a,b){a===h.DESIGNATION?d(a,b,"designation-id","data-designation"):a===h.FREQUENCY&&d(a,b,"frequency","data-frequency")}function g(a,b){(new MutationObserver(function(c){c.forEach(function(c){e(a,b)})})).observe(b[0],n)}function f(){var b=a(".associated-content-wrapper");return!0===a(b[0]).data("edit-mode")}
function k(b,d){f()?c():(b=a(b),e(d,b),g(d,b))}function c(){a(".associated-content-container").each(function(){a(this).show()})}function p(a,c,d){null!=b.querySelector(a)||f()?k(a,c):setTimeout(function(){p(a,c,d)},d)}var n={attributes:!0},h={DESIGNATION:"designation",FREQUENCY:"frequency"};a(b).on("ready",function(){p(".rcodonations-designation",h.DESIGNATION,500);p(".rcodonations-frequency",h.FREQUENCY,500)})})(jQuery,document);
(function(a,b){a(b).ready(function(){a(".content-card-with-zip form").each(function(){function b(){if(e()){var a=g.data("search-type");a=k.attr("href")+"/drive-results?dt\x3d"+a+"\x26zipSponsor\x3d"+f.val();var b=k.attr("target")||"_self";window.open(a,b)}}function e(){var a=f.val(),b=!0;a?5>a.length&&(c.text(c.data("too-short")),b=!1):(c.text(c.data("empty-error")),b=!1);a=f.next();a.attr("data-empty-error");b?(f.removeClass("error-state"),a.attr("data-aa-content-card-zipcode-error",""),c.text("")):
(f.addClass("error-state"),a.attr("data-aa-content-card-zipcode-error","zip "+c.text()));return b}var g=a(this),f=g.find('[name\x3d"zipSponsor"]'),k=g.find(".search-cta-button a"),c=g.find(".search-bar-error");f.keydown(function(a){13===a.keyCode&&(a.preventDefault(),b())}).blur(function(a){e()});k.click(function(a){a.preventDefault();b()})});a(".content-card-with-zip").attr("data-context","content-card-with-zip");a(".content-card-with-zip .object-fit-image-container").attr("style","")})})(jQuery,
document);
jQuery(function(a){function b(){var a=!1;""===f.val()&&(a=!0,n.addClass("sso-login-submit-disabled"),n.removeClass("sso-login-submit-active"));""===k.val()&&(a=!0,n.addClass("sso-login-submit-disabled"),n.removeClass("sso-login-submit-active"));a||(n.addClass("sso-login-submit-active"),n.removeClass("sso-login-submit-disabled"))}function d(){g.show();var b=a("#api-urls").data("api-sso"),c={login:f.val(),password:k.val()};a.ajax({url:b+"/login",contentType:"application/json;charset\x3dUTF-8",dataType:"json",
type:"POST",data:JSON.stringify(c)}).done(function(a){g.hide();window.location.href=a.redirectUrl}).fail(function(a,b){g.hide();h.show()})}function e(){h.hide();""!==f.val()&&""!==k.val()&&d()}var g=a(".fa-spinner-loading"),f=a(".sso-login-form-input-email"),k=a(".sso-login-form-input-pass"),c=a(".sso-login-error-label-email"),p=a(".sso-login-link-forgot"),n=a(".sso-login-submit"),h=a(".sso-login-error-label-response"),m="";(function(){var b=a("#api-urls").data("api-lookup");a.ajax({url:b+"/validation-patterns",
contentType:"application/json;charset\x3dUTF-8",dataType:"json",type:"GET"}).done(function(a){m=new RegExp(a.email)}).fail(function(a,b){})})();0<=a(".par-1").find(".sso-login-wrapper").length&&a(".par-1").find(".sso-login-wrapper").addClass("sso-border-right");0===a(".par-1").find(".sso-login-wrapper").length&&(0<=a(".par-2").find(".sso-login-wrapper").length||0<=a(".par-3").find(".sso-login-wrapper").length||0<=a(".par-4").find(".sso-login-wrapper").length)&&a(".par-2").find(".sso-login-wrapper").addClass("sso-border-left");
b();p.on("click",function(){var a=window.location.pathname+window.location.search;var b=new Date;b.setTime(b.getTime()+6048E5);b="; expires\x3d"+b.toGMTString();document.cookie=encodeURIComponent("ArcForgotPassword")+"\x3d"+encodeURIComponent(a)+b+"; path\x3d/"});f.keyup(function(){b()});k.keyup(function(){b()});f.keypress(function(a){13==a.which&&e()});k.keypress(function(a){13==a.which&&e()});f.blur(function(a){""!==m&&(m.test(f.val())?(c.hide(),f.removeClass("sso-login-input-error")):(passedValidation=
!1,c.show(),f.addClass("sso-login-input-error")))});n.on("click",function(){e()})});
jQuery(function(a){function b(){var a=!1;G.text("Password does not meet password requirements");var b=p.test(v.val()),c=n.test(z.val()),d=m.test(C.val()),f=h.test(y.val()),g=l.test(B.val()),r=q.test(F.val());b=[b,c,d,f,g,r];for(c=0;c<b.length;c++)b[c]||(K[c].show(),a=!0);B.val()!==F.val()&&(a=!0,G.text("New password and confirm password do not match."),G.show());a?k():e()}function d(){for(var a=0;a<K.length;a++)K[a].hide();D.hide()}function e(){r.show();f();var b=a("#api-urls").data("api-account"),
d={email:y.val(),password:B.val(),personalInfo:{firstName:v.val(),lastName:z.val(),country:w.val(),postalCode:C.val()}};a.ajax({url:b+"/account",contentType:"application/json;charset\x3dUTF-8",dataType:"json",type:"POST",data:JSON.stringify(d)}).done(function(a){c()}).fail(function(a){r.hide();D.text("An error was encountered while creating your account. Please try again later.");a.responseJSON.errors["409"]&&D.html("This email address "+y.val()+" already exists on www.RedCross.org. If this is your account, please use your existing password for www.RedCross.org. Otherwise, you can \x3ca href\x3d"+
P+"\x3ereset your password\x3c/a\x3e or create a new account with a unique email address.");k();D.show()})}function g(b){var c=a("#api-urls").data("api-lookup");a.ajax({url:c+"/validation-patterns?country\x3d"+b,contentType:"application/json;charset\x3dUTF-8",dataType:"json",type:"GET"}).done(function(a){p=new RegExp(a.firstName);n=new RegExp(a.lastName);h=new RegExp(a.email);l=new RegExp(a.passwordWeak);q=new RegExp(a.passwordWeak);m=new RegExp(a.postalCode)}).fail(function(a,b){})}function f(){E.attr("disabled",
"true");E.addClass("sso-login-submit-disabled");E.removeClass("sso-login-submit-active")}function(){}