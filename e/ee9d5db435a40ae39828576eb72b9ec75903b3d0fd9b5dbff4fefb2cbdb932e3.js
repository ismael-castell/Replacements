/*! For license information please see main.min.da8b5cb4.js.LICENSE.txt */
(()=>{var e={19866:(e,t,n)=>{var i={"./covervid.js":56137,"./fastclick.js":8296,"./isInViewport.js":3390,"./jquery.ajaxQueue.js":21265,"./jquery.autocomplete.js":857,"./jquery.autogrow-textarea.js":45205,"./jquery.ba-throttle-debounce.js":60451,"./jquery.bridget.js":41763,"./jquery.clip.js":3614,"./jquery.color.js":15161,"./jquery.colorbox.js":53109,"./jquery.condense.js":75041,"./jquery.cookie.js":94430,"./jquery.datepicker.js":34559,"./jquery.debouncedresize.js":62452,"./jquery.easing.1.3.js":66123,"./jquery.fullscreenr.js":84496,"./jquery.hotkeys.js":99192,"./jquery.jnotify.js":95970,"./jquery.lazyload.js":56878,"./jquery.localScroll.js":3974,"./jquery.localtime.js":78484,"./jquery.overthrow.js":86599,"./jquery.padme.js":86951,"./jquery.popupWindow.js":7474,"./jquery.rateit.js":35781,"./jquery.react.js":68839,"./jquery.scrollTo.js":38647,"./jquery.smooth-scroll.js":85748,"./jquery.sticky-kit.js":6769,"./jquery.textoverflow.js":25858,"./jquery.timeago.js":81493,"./jquery.tmpl.js":36637,"./jquery.touchwipe.1.1.1.js":56339,"./jquery.waypoints.js":42195,"./jquery.waypointsplugin.inview.js":64237,"./lb.bganimate.js":9841,"./lb.popmenu.js":17228,"./lb.selectmenu.js":62305,"./lb.spinner.js":69115,"./setWaypointStates.js":59822};function r(e){var t=o(e);return n(t)}function o(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}r.keys=function(){return Object.keys(i)},r.resolve=o,e.exports=r,r.id=19866},21448:(e,t,n)=>{var i={"./jquery.ui.draggable.js":27135,"./jquery.ui.droppable.js":34181,"./jquery.ui.sortable.js":94686,"./jquery.ui.touch-punch.js":79195};function r(e){var t=o(e);return n(t)}function o(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}r.keys=function(){return Object.keys(i)},r.resolve=o,e.exports=r,r.id=21448},9028:(e,t,n)=>{var i={"./favourite-films.js":39867,"./film.js":36077,"./films-browser.js":72777,"./homepage.js":1816,"./list.js":81384,"./netflix-importer.js":45384,"./really-lazy-load-posters.js":68169,"./social-friends.js":86983,"./update.js":71701,"./viewing.js":74130,"./watchlist.js":74410};function r(e){var t=o(e);return n(t)}function o(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}r.keys=function(){return Object.keys(i)},r.resolve=o,e.exports=r,r.id=9028},84898:(e,t,n)=>{var i={"./0.protection.js":20204,"./1.logged-out.js":49614,"./2.films-filter.js":70109,"./3.url-fixer.js":94567,"./actions-panel-sharing.js":93580,"./activity-pagination.js":55434,"./ajax.js":35590,"./analytics.js":68218,"./autocomplete-tags.js":15164,"./bxd-prototype.js":28412,"./commentable.js":66976,"./csi.js":82310,"./editorial.js":64706,"./film-poster-menu.js":41234,"./follow-buttons.js":70572,"./instant-rating.js":20886,"./letterboxd-metadata.js":9439,"./lists.js":37671,"./logged-in.js":31433,"./party-banner.js":81314,"./popup-menu.js":18314,"./rating-stars.js":93491,"./string-data.js":89887,"./tmdb.js":22163,"./typekit.js":57569,"./unsaved-changes-protection.js":79159,"./utils.js":72275,"./watchlist.js":90549};function r(e){var t=o(e);return n(t)}function o(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}r.keys=function(){return Object.keys(i)},r.resolve=o,e.exports=r,r.id=84898},62547:(e,t,n)=>{var i={"./film-poster.jsx":82697,"./header.jsx":46111,"./like-link.jsx":49319,"./usermenu.jsx":69522};function r(e){var t=o(e);return n(t)}function o(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}r.keys=function(){return Object.keys(i)},r.resolve=o,e.exports=r,r.id=62547},93036:e=>{e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},62620:e=>{e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},27776:e=>{function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}e.exports=function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},83663:e=>{e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},63980:e=>{function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},14693:(e,t,n)=>{var i=n(23166);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},76305:(e,t,n)=>{var i=n(58682).default,r=n(93036);e.exports=function(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},23166:e=>{function t(n,i){return e.exports=t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,i)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},58682:e=>{function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},51694:(e,t,n)=>{"use strict";n.d(t,{v:()=>i.Z,U:()=>r.Z});var i=n(49149),r=n(69681)},10972:(e,t,n)=>{"use strict";n.d(t,{f0:()=>i,Wq:()=>r,zR:()=>o,Hu:()=>a});const i={"QUOTATION MARK":'"',APOSTROPHE:"'","HYPHEN-MINUS":"-","SOFT HYPHEN":"­",HYPHEN:"‐","NON-BREAKING HYPHEN":"‑","FIGURE DASH":"‒","EN DASH":"–","EM DASH":"—","HORIZONTAL BAR":"―","SWUNG DASH":"⁓","LEFT SINGLE QUOTATION MARK":"‘","RIGHT SINGLE QUOTATION MARK":"’","LEFT DOUBLE QUOTATION MARK":"“","RIGHT DOUBLE QUOTATION MARK":"”","HORIZONTAL ELLIPSIS":"…",SPACE:" ","NO-BREAK SPACE":" ","EN SPACE":" ","EM SPACE":" ","THREE-PER-EM SPACE":" ","FOUR-PER-EM SPACE":" ","FIGURE SPACE":" ","PUNCTUATION SPACE":" ","THIN SPACE":" ","HAIR SPACE":" ","NARROW NO-BREAK SPACE":" "},r={latin:"\0--ÿĀ-ſƀ-ɏ",spaces:`${i.SPACE}${i["NO-BREAK SPACE"]}${i["EN SPACE"]}${i["EM SPACE"]}${i["PUNCTUATION SPACE"]}${i["THIN SPACE"]}${i["HAIR SPACE"]}${i["NARROW NO-BREAK SPACE"]}`,dashes:`${i["HYPHEN-MINUS"]}${i["EN DASH"]}${i["EM DASH"]}${i.HYPHEN}`,singleQuotes:"‚'‘’ʼ‛´`′"},o={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12},a=["base","command","link","meta","noscript","script","style","title","audio","br","code","command","datalist","embed","hr","iframe","img","input","kbd","keygen","map","math","meter","object","output","picture","progress","ruby","samp","script","select","svg","template","textarea","video","wbr","area","audio","canvas","embed","iframe","img","math","object","picture","svg","video","input","keygen","label","meter","object","output","progress","select","textarea","script","template"]},49149:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(10972),r=n(69681);const o={exclusionAttribute:"data-js-nicetype-disable",tagNameExclusions:i.Hu},a=(e,t)=>e.nodeType===i.zR.ELEMENT&&!t.tagNameExclusions.map((e=>e.toLowerCase())).includes(e.tagName.toLowerCase())&&!((e,t)=>e.hasAttribute(t))(e,t.exclusionAttribute),s=function e(t,n={}){if(!(t instanceof Element||t instanceof Node))return null;const s={...o,...n};if(t.nodeType===i.zR.TEXT)t.data=(0,r.Z)(t.data);else if(t.nodeType===i.zR.ELEMENT&&a(t,s)&&t.hasChildNodes()){Array.from(t.childNodes).filter((e=>e.nodeType===i.zR.TEXT||a(e,s))).forEach((t=>e(t,s)))}return t}},69681:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(62540),r=n(60750),o=n(31633);const a=function(e){if(""!==e&&!e)return null;let t=e;return t=(0,o.Z)(t),t=(0,i.Z)(t),t=(0,r.Z)(t),t}},60750:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(10972);const r={replaceSpacedDashesWithEmDash:!1},o=function(e,t){const n={...r,...t};let o=e;{const e=new RegExp(/(---)/,"gi"),t="—";o=o.replace(e,t)}{const e=new RegExp(/(--)/,"gi"),t="–";o=o.replace(e,t)}if(n.replaceSpacedDashesWithEmDash){const e=`[${i.f0.SPACE}][${i.f0.HYPHEN}${i.f0["HYPHEN-MINUS"]}][${i.f0.SPACE}]`,t=new RegExp(e,"gi"),n="—";o=o.replace(t,n)}if(n.replaceSpacedDashesWithEmDash){const e=`([${i.Wq.spaces}]?)([${i.f0.HYPHEN}${i.f0["HYPHEN-MINUS"]}])([${i.Wq.spaces}]?)([${i.Wq.latin}])`,t=new RegExp(e,"giu"),n="—$4";o=o.replace(t,n)}return o}},31633:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(10972);const r=function(e){let t=e;{const e=`[${i.f0["HORIZONTAL ELLIPSIS"]}\\.]{3,}`,n=new RegExp(e,"gi"),r=i.f0["HORIZONTAL ELLIPSIS"];t=t.replace(n,r)}{const e=`\\.${i.f0["HORIZONTAL ELLIPSIS"]}|${i.f0["HORIZONTAL ELLIPSIS"]}{2,}|${i.f0["HORIZONTAL ELLIPSIS"]}\\.`,n=new RegExp(e,"gi"),r=i.f0["HORIZONTAL ELLIPSIS"];t=t.replace(n,r)}{const e=`[${i.Wq.spaces}]\\.{2}[${i.Wq.spaces}]`,n=new RegExp(e,"gi"),r=`${i.f0.SPACE}${i.f0["HORIZONTAL ELLIPSIS"]}${i.f0.SPACE}`;t=t.replace(n,r)}{const e=`,[${i.Wq.spaces}]?${i.f0["HORIZONTAL ELLIPSIS"]}[${i.Wq.spaces}]?,`,n=new RegExp(e,"gi"),r=`, ${i.f0["HORIZONTAL ELLIPSIS"]},`;t=t.replace(n,r)}return t}},62540:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(10972);function r(e){const t=new RegExp(/(^|[(\W"-])'([\s\S]*?)'($|[)\W".,;:?!-])/,"gi"),n=`$1${i.f0["LEFT SINGLE QUOTATION MARK"]}$2${i.f0["RIGHT SINGLE QUOTATION MARK"]}$3`;return e.replace(t,n)}const o=function(e){let t,n=e;{const e=new RegExp(`([${i.Wq.singleQuotes}])(n)([${i.Wq.singleQuotes}])`,"gi"),t=`${i.f0["RIGHT SINGLE QUOTATION MARK"]}$2${i.f0["RIGHT SINGLE QUOTATION MARK"]}`;n=n.replace(e,t)}{const e="cause|em|mid|midst|mongst|prentice|round|sblood|ssdeath|sfoot|sheart|shun|slid|slife|slight|snails|strewth|til|tis|twas|tween|twere|twill|twixt|twould",t=new RegExp(`([${i.Wq.singleQuotes}])(${e})`,"gi"),r=`${i.f0["RIGHT SINGLE QUOTATION MARK"]}$2`;n=n.replace(t,r)}do{t=n,n=r(n)}while(t!==n);{const e=new RegExp(/'/,"gi"),t=i.f0["RIGHT SINGLE QUOTATION MARK"];n=n.replace(e,t)}{const e=`${i.f0["QUOTATION MARK"]}($|[)\\s${i.Wq.dashes}/.,;:?!${i.f0["RIGHT SINGLE QUOTATION MARK"]}])`,t=new RegExp(e,"gi"),r=`${i.f0["RIGHT DOUBLE QUOTATION MARK"]}$1`;n=n.replace(t,r)}{const e=`(^|[(\\s${i.Wq.dashes}/${i.f0["LEFT SINGLE QUOTATION MARK"]}])${i.f0["QUOTATION MARK"]}`,t=new RegExp(e,"gi"),r=`$1${i.f0["LEFT DOUBLE QUOTATION MARK"]}`;n=n.replace(t,r)}return n}},69406:(e,t,n)=>{"use strict";n.d(t,{kZ:()=>h});var i=n(91321),r=n(77466),o=n(78951),a=n(68960),s=n(92875),l=n(68570),c=n(62986),u=n(6238),d={placement:"bottom",modifiers:[],strategy:"absolute"};function f(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function h(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,h=void 0===n?[]:n,p=t.defaultOptions,m=void 0===p?d:p;return function(e,t,n){void 0===n&&(n=m);var p={placement:"bottom",orderedModifiers:[],options:Object.assign({},d,m),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},g=[],v=!1,y={state:p,setOptions:function(n){var i="function"==typeof n?n(p.options):n;b(),p.options=Object.assign({},m,p.options,i),p.scrollParents={reference:(0,u.kK)(e)?(0,o.Z)(e):e.contextElement?(0,o.Z)(e.contextElement):[],popper:(0,o.Z)(t)};var r=(0,s.Z)((0,c.Z)([].concat(h,p.options.modifiers)));return p.orderedModifiers=r.filter((function(e){return e.enabled})),p.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,i=void 0===n?{}:n,r=e.effect;if("function"==typeof r){var o=r({state:p,name:t,instance:y,options:i}),a=function(){};g.push(o||a)}})),y.update()},forceUpdate:function(){if(!v){var e=p.elements,t=e.reference,n=e.popper;if(f(t,n)){p.rects={reference:(0,i.Z)(t,(0,a.Z)(n),"fixed"===p.options.strategy),popper:(0,r.Z)(n)},p.reset=!1,p.placement=p.options.placement,p.orderedModifiers.forEach((function(e){return p.modifiersData[e.name]=Object.assign({},e.data)}));for(var o=0;o<p.orderedModifiers.length;o++)if(!0!==p.reset){var s=p.orderedModifiers[o],l=s.fn,c=s.options,u=void 0===c?{}:c,d=s.name;"function"==typeof l&&(p=l({state:p,options:u,name:d,instance:y})||p)}else p.reset=!1,o=-1}}},update:(0,l.Z)((function(){return new Promise((function(e){y.forceUpdate(),e(p)}))})),destroy:function(){b(),v=!0}};if(!f(e,t))return y;function b(){g.forEach((function(e){return e()})),g=[]}return y.setOptions(n).then((function(e){!v&&n.onFirstUpdate&&n.onFirstUpdate(e)})),y}}},64292:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(6238);function r(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&(0,i.Zq)(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}},48070:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(6238),r=n(88035);function o(e,t){void 0===t&&(t=!1);var n=e.getBoundingClientRect(),o=1,a=1;if((0,i.Re)(e)&&t){var s=e.offsetHeight,l=e.offsetWidth;l>0&&(o=(0,r.NM)(n.width)/l||1),s>0&&(a=(0,r.NM)(n.height)/s||1)}return{width:n.width/o,height:n.height/a,top:n.top/a,right:n.right/o,bottom:n.bottom/a,left:n.left/o,x:n.left/o,y:n.top/a}}},87791:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var i=n(33487),r=n(96991),o=n(74266),a=n(78951),s=n(68960),l=n(66034),c=n(80822),u=n(6238),d=n(48070),f=n(24215),h=n(64292),p=n(40367),m=n(90459),g=n(88035);function v(e,t){return t===i.Pj?(0,m.Z)((0,r.Z)(e)):(0,u.kK)(t)?function(e){var t=(0,d.Z)(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}(t):(0,m.Z)((0,o.Z)((0,l.Z)(e)))}function y(e,t,n){var i="clippingParents"===t?function(e){var t=(0,a.Z)((0,f.Z)(e)),n=["absolute","fixed"].indexOf((0,c.Z)(e).position)>=0&&(0,u.Re)(e)?(0,s.Z)(e):e;return(0,u.kK)(n)?t.filter((function(e){return(0,u.kK)(e)&&(0,h.Z)(e,n)&&"body"!==(0,p.Z)(e)})):[]}(e):[].concat(t),r=[].concat(i,[n]),o=r[0],l=r.reduce((function(t,n){var i=v(e,n);return t.top=(0,g.Fp)(i.top,t.top),t.right=(0,g.VV)(i.right,t.right),t.bottom=(0,g.VV)(i.bottom,t.bottom),t.left=(0,g.Fp)(i.left,t.left),t}),v(e,o));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}},91321:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var i=n(48070),r=n(98007),o=n(40367),a=n(6238),s=n(64179),l=n(66034),c=n(62658),u=n(88035);function d(e,t,n){void 0===n&&(n=!1);var d=(0,a.Re)(t),f=(0,a.Re)(t)&&function(e){var t=e.getBoundingClientRect(),n=(0,u.NM)(t.width)/e.offsetWidth||1,i=(0,u.NM)(t.height)/e.offsetHeight||1;return 1!==n||1!==i}(t),h=(0,l.Z)(t),p=(0,i.Z)(e,f),m={scrollLeft:0,scrollTop:0},g={x:0,y:0};return(d||!d&&!n)&&(("body"!==(0,o.Z)(t)||(0,c.Z)(h))&&(m=(0,r.Z)(t)),(0,a.Re)(t)?((g=(0,i.Z)(t,!0)).x+=t.clientLeft,g.y+=t.clientTop):h&&(g.x=(0,s.Z)(h))),{x:p.left+m.scrollLeft-g.x,y:p.top+m.scrollTop-g.y,width:p.width,height:p.height}}},80822:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(70746);function r(e){return(0,i.Z)(e).getComputedStyle(e)}},66034:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(6238);function r(e){return(((0,i.kK)(e)?e.ownerDocument:e.document)||window.document).documentElement}},74266:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(66034),r=n(80822),o=n(64179),a=n(40379),s=n(88035);function l(e){var t,n=(0,i.Z)(e),l=(0,a.Z)(e),c=null==(t=e.ownerDocument)?void 0:t.body,u=(0,s.Fp)(n.scrollWidth,n.clientWidth,c?c.scrollWidth:0,c?c.clientWidth:0),d=(0,s.Fp)(n.scrollHeight,n.clientHeight,c?c.scrollHeight:0,c?c.clientHeight:0),f=-l.scrollLeft+(0,o.Z)(e),h=-l.scrollTop;return"rtl"===(0,r.Z)(c||n).direction&&(f+=(0,s.Fp)(n.clientWidth,c?c.clientWidth:0)-u),{width:u,height:d,x:f,y:h}}},99227:(e,t,n)=>{"use strict";function i(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}n.d(t,{Z:()=>i})},77466:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(48070);function r(e){var t=(0,i.Z)(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}},40367:(e,t,n)=>{"use strict";function i(e){return e?(e.nodeName||"").toLowerCase():null}n.d(t,{Z:()=>i})},98007:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(40379),r=n(70746),o=n(6238),a=n(99227);function s(e){return e!==(0,r.Z)(e)&&(0,o.Re)(e)?(0,a.Z)(e):(0,i.Z)(e)}},68960:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i=n(70746),r=n(40367),o=n(80822),a=n(6238),s=n(45765),l=n(24215);function c(e){return(0,a.Re)(e)&&"fixed"!==(0,o.Z)(e).position?e.offsetParent:null}function u(e){for(var t=(0,i.Z)(e),n=c(e);n&&(0,s.Z)(n)&&"static"===(0,o.Z)(n).position;)n=c(n);return n&&("html"===(0,r.Z)(n)||"body"===(0,r.Z)(n)&&"static"===(0,o.Z)(n).position)?t:n||function(e){var t=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&(0,a.Re)(e)&&"fixed"===(0,o.Z)(e).position)return null;for(var n=(0,l.Z)(e);(0,a.Re)(n)&&["html","body"].indexOf((0,r.Z)(n))<0;){var i=(0,o.Z)(n);if("none"!==i.transform||"none"!==i.perspective||"paint"===i.contain||-1!==["transform","perspective"].indexOf(i.willChange)||t&&"filter"===i.willChange||t&&i.filter&&"none"!==i.filter)return n;n=n.parentNode}return null}(e)||t}},24215:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(40367),r=n(66034),o=n(6238);function a(e){return"html"===(0,i.Z)(e)?e:e.assignedSlot||e.parentNode||((0,o.Zq)(e)?e.host:null)||(0,r.Z)(e)}},4810:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(24215),r=n(62658),o=n(40367),a=n(6238);function s(e){return["html","body","#document"].indexOf((0,o.Z)(e))>=0?e.ownerDocument.body:(0,a.Re)(e)&&(0,r.Z)(e)?e:s((0,i.Z)(e))}},96991:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(70746),r=n(66034),o=n(64179);function a(e){var t=(0,i.Z)(e),n=(0,r.Z)(e),a=t.visualViewport,s=n.clientWidth,l=n.clientHeight,c=0,u=0;return a&&(s=a.width,l=a.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(c=a.offsetLeft,u=a.offsetTop)),{width:s,height:l,x:c+(0,o.Z)(e),y:u}}},70746:(e,t,n)=>{"use strict";function i(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}n.d(t,{Z:()=>i})},40379:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(70746);function r(e){var t=(0,i.Z)(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}},64179:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(48070),r=n(66034),o=n(40379);function a(e){return(0,i.Z)((0,r.Z)(e)).left+(0,o.Z)(e).scrollLeft}},6238:(e,t,n)=>{"use strict";n.d(t,{kK:()=>r,Re:()=>o,Zq:()=>a});var i=n(70746);function r(e){return e instanceof(0,i.Z)(e).Element||e instanceof Element}function o(e){return e instanceof(0,i.Z)(e).HTMLElement||e instanceof HTMLElement}function a(e){return"undefined"!=typeof ShadowRoot&&(e instanceof(0,i.Z)(e).ShadowRoot||e instanceof ShadowRoot)}},62658:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(80822);function r(e){var t=(0,i.Z)(e),n=t.overflow,r=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+r)}},45765:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(40367);function r(e){return["table","td","th"].indexOf((0,i.Z)(e))>=0}},78951:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(4810),r=n(24215),o=n(70746),a=n(62658);function s(e,t){var n;void 0===t&&(t=[]);var l=(0,i.Z)(e),c=l===(null==(n=e.ownerDocument)?void 0:n.body),u=(0,o.Z)(l),d=c?[u].concat(u.visualViewport||[],(0,a.Z)(l)?l:[]):l,f=t.concat(d);return c?f:f.concat(s((0,r.Z)(d)))}},33487:(e,t,n)=>{"use strict";n.d(t,{we:()=>i,I:()=>r,F2:()=>o,t$:()=>a,d7:()=>s,mv:()=>l,BL:()=>c,ut:()=>u,zV:()=>d,Pj:()=>f,k5:()=>h,YP:()=>p,bw:()=>m,Ct:()=>g,xs:()=>v});var i="top",r="bottom",o="right",a="left",s="auto",l=[i,r,o,a],c="start",u="end",d="clippingParents",f="viewport",h="popper",p="reference",m=l.reduce((function(e,t){return e.concat([t+"-"+c,t+"-"+u])}),[]),g=[].concat(l,[s]).reduce((function(e,t){return e.concat([t,t+"-"+c,t+"-"+u])}),[]),v=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"]},96020:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(40367),r=n(6238);const o={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},o=t.attributes[e]||{},a=t.elements[e];(0,r.Re)(a)&&(0,i.Z)(a)&&(Object.assign(a.style,n),Object.keys(o).forEach((function(e){var t=o[e];!1===t?a.removeAttribute(e):a.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var o=t.elements[e],a=t.attributes[e]||{},s=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});(0,r.Re)(o)&&(0,i.Z)(o)&&(Object.assign(o.style,s),Object.keys(a).forEach((function(e){o.removeAttribute(e)})))}))}},requires:["computeStyles"]}},50819:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var i=n(33487),r=n(68960),o=n(70746),a=n(66034),s=n(80822),l=n(23209),c=n(67167),u=n(88035),d={top:"auto",right:"auto",bottom:"auto",left:"auto"};function f(e){var t,n=e.popper,l=e.popperRect,c=e.placement,f=e.variation,h=e.offsets,p=e.position,m=e.gpuAcceleration,g=e.adaptive,v=e.roundOffsets,y=e.isFixed,b=h.x,w=void 0===b?0:b,x=h.y,_=void 0===x?0:x,k="function"==typeof v?v({x:w,y:_}):{x:w,y:_};w=k.x,_=k.y;var C=h.hasOwnProperty("x"),T=h.hasOwnProperty("y"),S=i.t$,E=i.we,$=window;if(g){var O=(0,r.Z)(n),P="clientHeight",A="clientWidth";if(O===(0,o.Z)(n)&&(O=(0,a.Z)(n),"static"!==(0,s.Z)(O).position&&"absolute"===p&&(P="scrollHeight",A="scrollWidth")),O=O,c===i.we||(c===i.t$||c===i.F2)&&f===i.ut)E=i.I,_-=(y&&$.visualViewport?$.visualViewport.height:O[P])-l.height,_*=m?1:-1;if(c===i.t$||(c===i.we||c===i.I)&&f===i.ut)S=i.F2,w-=(y&&$.visualViewport?$.visualViewport.width:O[A])-l.width,w*=m?1:-1}var j,I=Object.assign({position:p},g&&d),M=!0===v?function(e){var t=e.x,n=e.y,i=window.devicePixelRatio||1;return{x:(0,u.NM)(t*i)/i||0,y:(0,u.NM)(n*i)/i||0}}({x:w,y:_}):{x:w,y:_};return w=M.x,_=M.y,m?Object.assign({},I,((j={})[E]=T?"0":"",j[S]=C?"0":"",j.transform=($.devicePixelRatio||1)<=1?"translate("+w+"px, "+_+"px)":"translate3d("+w+"px, "+_+"px, 0)",j)):Object.assign({},I,((t={})[E]=T?_+"px":"",t[S]=C?w+"px":"",t.transform="",t))}const h={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,i=n.gpuAcceleration,r=void 0===i||i,o=n.adaptive,a=void 0===o||o,s=n.roundOffsets,u=void 0===s||s,d={placement:(0,l.Z)(t.placement),variation:(0,c.Z)(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:r,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,f(Object.assign({},d,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:u})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,f(Object.assign({},d,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}}},475:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(70746),r={passive:!0};const o={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,o=e.options,a=o.scroll,s=void 0===a||a,l=o.resize,c=void 0===l||l,u=(0,i.Z)(t.elements.popper),d=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&d.forEach((function(e){e.addEventListener("scroll",n.update,r)})),c&&u.addEventListener("resize",n.update,r),function(){s&&d.forEach((function(e){e.removeEventListener("scroll",n.update,r)})),c&&u.removeEventListener("resize",n.update,r)}},data:{}}},65837:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i=n(15257),r=n(23209),o=n(18332),a=n(46065),s=n(49216),l=n(33487),c=n(67167);const u={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,u=e.name;if(!t.modifiersData[u]._skip){for(var d=n.mainAxis,f=void 0===d||d,h=n.altAxis,p=void 0===h||h,m=n.fallbackPlacements,g=n.padding,v=n.boundary,y=n.rootBoundary,b=n.altBoundary,w=n.flipVariations,x=void 0===w||w,_=n.allowedAutoPlacements,k=t.options.placement,C=(0,r.Z)(k),T=m||(C===k||!x?[(0,i.Z)(k)]:function(e){if((0,r.Z)(e)===l.d7)return[];var t=(0,i.Z)(e);return[(0,o.Z)(e),t,(0,o.Z)(t)]}(k)),S=[k].concat(T).reduce((function(e,n){return e.concat((0,r.Z)(n)===l.d7?(0,s.Z)(t,{placement:n,boundary:v,rootBoundary:y,padding:g,flipVariations:x,allowedAutoPlacements:_}):n)}),[]),E=t.rects.reference,$=t.rects.popper,O=new Map,P=!0,A=S[0],j=0;j<S.length;j++){var I=S[j],M=(0,r.Z)(I),D=(0,c.Z)(I)===l.BL,N=[l.we,l.I].indexOf(M)>=0,L=N?"width":"height",R=(0,a.Z)(t,{placement:I,boundary:v,rootBoundary:y,altBoundary:b,padding:g}),F=N?D?l.F2:l.t$:D?l.I:l.we;E[L]>$[L]&&(F=(0,i.Z)(F));var z=(0,i.Z)(F),W=[];if(f&&W.push(R[M]<=0),p&&W.push(R[F]<=0,R[z]<=0),W.every((function(e){return e}))){A=I,P=!1;break}O.set(I,W)}if(P)for(var H=function(e){var t=S.find((function(t){var n=O.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return A=t,"break"},B=x?3:1;B>0;B--){if("break"===H(B))break}t.placement!==A&&(t.modifiersData[u]._skip=!0,t.placement=A,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}}},90433:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(23209),r=n(33487);const o={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,o=e.name,a=n.offset,s=void 0===a?[0,0]:a,l=r.Ct.reduce((function(e,n){return e[n]=function(e,t,n){var o=(0,i.Z)(e),a=[r.t$,r.we].indexOf(o)>=0?-1:1,s="function"==typeof n?n(Object.assign({},t,{placement:e})):n,l=s[0],c=s[1];return l=l||0,c=(c||0)*a,[r.t$,r.F2].indexOf(o)>=0?{x:c,y:l}:{x:l,y:c}}(n,t.rects,s),e}),{}),c=l[t.placement],u=c.x,d=c.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=u,t.modifiersData.popperOffsets.y+=d),t.modifiersData[o]=l}}},87973:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(86759);const r={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=(0,i.Z)({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}}},91601:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var i=n(33487),r=n(23209),o=n(45476),a=n(78316),s=n(27837),l=n(77466),c=n(68960),u=n(46065),d=n(67167),f=n(88514),h=n(88035);const p={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,p=e.name,m=n.mainAxis,g=void 0===m||m,v=n.altAxis,y=void 0!==v&&v,b=n.boundary,w=n.rootBoundary,x=n.altBoundary,_=n.padding,k=n.tether,C=void 0===k||k,T=n.tetherOffset,S=void 0===T?0:T,E=(0,u.Z)(t,{boundary:b,rootBoundary:w,padding:_,altBoundary:x}),$=(0,r.Z)(t.placement),O=(0,d.Z)(t.placement),P=!O,A=(0,o.Z)($),j=(0,a.Z)(A),I=t.modifiersData.popperOffsets,M=t.rects.reference,D=t.rects.popper,N="function"==typeof S?S(Object.assign({},t.rects,{placement:t.placement})):S,L="number"==typeof N?{mainAxis:N,altAxis:N}:Object.assign({mainAxis:0,altAxis:0},N),R=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,F={x:0,y:0};if(I){if(g){var z,W="y"===A?i.we:i.t$,H="y"===A?i.I:i.F2,B="y"===A?"height":"width",U=I[A],Z=U+E[W],q=U-E[H],Y=C?-D[B]/2:0,Q=O===i.BL?M[B]:D[B],V=O===i.BL?-D[B]:-M[B],X=t.elements.arrow,K=C&&X?(0,l.Z)(X):{width:0,height:0},G=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:(0,f.Z)(),J=G[W],ee=G[H],te=(0,s.u)(0,M[B],K[B]),ne=P?M[B]/2-Y-te-J-L.mainAxis:Q-te-J-L.mainAxis,ie=P?-M[B]/2+Y+te+ee+L.mainAxis:V+te+ee+L.mainAxis,re=t.elements.arrow&&(0,c.Z)(t.elements.arrow),oe=re?"y"===A?re.clientTop||0:re.clientLeft||0:0,ae=null!=(z=null==R?void 0:R[A])?z:0,se=U+ne-ae-oe,le=U+ie-ae,ce=(0,s.u)(C?(0,h.VV)(Z,se):Z,U,C?(0,h.Fp)(q,le):q);I[A]=ce,F[A]=ce-U}if(y){var ue,de="x"===A?i.we:i.t$,fe="x"===A?i.I:i.F2,he=I[j],pe="y"===j?"height":"width",me=he+E[de],ge=he-E[fe],ve=-1!==[i.we,i.t$].indexOf($),ye=null!=(ue=null==R?void 0:R[j])?ue:0,be=ve?me:he-M[pe]-D[pe]-ye+L.altAxis,we=ve?he+M[pe]+D[pe]-ye-L.altAxis:ge,xe=C&&ve?(0,s.q)(be,he,we):(0,s.u)(C?be:me,he,C?we:ge);I[j]=xe,F[j]=xe-he}t.modifiersData[p]=F}},requiresIfExists:["offset"]}},614:(e,t,n)=>{"use strict";n.d(t,{fi:()=>c});var i=n(69406),r=n(475),o=n(87973),a=n(50819),s=n(96020),l=[r.Z,o.Z,a.Z,s.Z],c=(0,i.kZ)({defaultModifiers:l})},49216:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(67167),r=n(33487),o=n(46065),a=n(23209);function s(e,t){void 0===t&&(t={});var n=t,s=n.placement,l=n.boundary,c=n.rootBoundary,u=n.padding,d=n.flipVariations,f=n.allowedAutoPlacements,h=void 0===f?r.Ct:f,p=(0,i.Z)(s),m=p?d?r.bw:r.bw.filter((function(e){return(0,i.Z)(e)===p})):r.mv,g=m.filter((function(e){return h.indexOf(e)>=0}));0===g.length&&(g=m);var v=g.reduce((function(t,n){return t[n]=(0,o.Z)(e,{placement:n,boundary:l,rootBoundary:c,padding:u})[(0,a.Z)(n)],t}),{});return Object.keys(v).sort((function(e,t){return v[e]-v[t]}))}},86759:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(23209),r=n(67167),o=n(45476),a=n(33487);function s(e){var t,n=e.reference,s=e.element,l=e.placement,c=l?(0,i.Z)(l):null,u=l?(0,r.Z)(l):null,d=n.x+n.width/2-s.width/2,f=n.y+n.height/2-s.height/2;switch(c){case a.we:t={x:d,y:n.y-s.height};break;case a.I:t={x:d,y:n.y+n.height};break;case a.F2:t={x:n.x+n.width,y:f};break;case a.t$:t={x:n.x-s.width,y:f};break;default:t={x:n.x,y:n.y}}var h=c?(0,o.Z)(c):null;if(null!=h){var p="y"===h?"height":"width";switch(u){case a.BL:t[h]=t[h]-(n[p]/2-s[p]/2);break;case a.ut:t[h]=t[h]+(n[p]/2-s[p]/2)}}return t}},68570:(e,t,n)=>{"use strict";function i(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}n.d(t,{Z:()=>i})},46065:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var i=n(87791),r=n(66034),o=n(48070),a=n(86759),s=n(90459),l=n(33487),c=n(6238),u=n(13235),d=n(79569);function f(e,t){void 0===t&&(t={});var n=t,f=n.placement,h=void 0===f?e.placement:f,p=n.boundary,m=void 0===p?l.zV:p,g=n.rootBoundary,v=void 0===g?l.Pj:g,y=n.elementContext,b=void 0===y?l.k5:y,w=n.altBoundary,x=void 0!==w&&w,_=n.padding,k=void 0===_?0:_,C=(0,u.Z)("number"!=typeof k?k:(0,d.Z)(k,l.mv)),T=b===l.k5?l.YP:l.k5,S=e.rects.popper,E=e.elements[x?T:b],$=(0,i.Z)((0,c.kK)(E)?E:E.contextElement||(0,r.Z)(e.elements.popper),m,v),O=(0,o.Z)(e.elements.reference),P=(0,a.Z)({reference:O,element:S,strategy:"absolute",placement:h}),A=(0,s.Z)(Object.assign({},S,P)),j=b===l.k5?A:O,I={top:$.top-j.top+C.top,bottom:j.bottom-$.bottom+C.bottom,left:$.left-j.left+C.left,right:j.right-$.right+C.right},M=e.modifiersData.offset;if(b===l.k5&&M){var D=M[h];Object.keys(I).forEach((function(e){var t=[l.F2,l.I].indexOf(e)>=0?1:-1,n=[l.we,l.I].indexOf(e)>=0?"y":"x";I[e]+=D[n]*t}))}return I}},79569:(e,t,n)=>{"use strict";function i(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}n.d(t,{Z:()=>i})},78316:(e,t,n)=>{"use strict";function i(e){return"x"===e?"y":"x"}n.d(t,{Z:()=>i})},23209:(e,t,n)=>{"use strict";function i(e){return e.split("-")[0]}n.d(t,{Z:()=>i})},88514:(e,t,n)=>{"use strict";function i(){return{top:0,right:0,bottom:0,left:0}}n.d(t,{Z:()=>i})},45476:(e,t,n)=>{"use strict";function i(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}n.d(t,{Z:()=>i})},15257:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i={left:"right",right:"left",bottom:"top",top:"bottom"};function r(e){return e.replace(/left|right|bottom|top/g,(function(e){return i[e]}))}},18332:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i={start:"end",end:"start"};function r(e){return e.replace(/start|end/g,(function(e){return i[e]}))}},67167:(e,t,n)=>{"use strict";function i(e){return e.split("-")[1]}n.d(t,{Z:()=>i})},88035:(e,t,n)=>{"use strict";n.d(t,{Fp:()=>i,VV:()=>r,NM:()=>o});var i=Math.max,r=Math.min,o=Math.round},62986:(e,t,n)=>{"use strict";function i(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}n.d(t,{Z:()=>i})},13235:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(88514);function r(e){return Object.assign({},(0,i.Z)(),e)}},92875:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(33487);function r(e){var t=new Map,n=new Set,i=[];function r(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var i=t.get(e);i&&r(i)}})),i.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||r(e)})),i}function o(e){var t=r(e);return i.xs.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}},90459:(e,t,n)=>{"use strict";function i(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}n.d(t,{Z:()=>i})},27837:(e,t,n)=>{"use strict";n.d(t,{u:()=>r,q:()=>o});var i=n(88035);function r(e,t,n){return(0,i.Fp)(e,(0,i.VV)(t,n))}function o(e,t,n){var i=r(e,t,n);return i>n?n:i}},82697:(e,t,n)=>{var i=n(59496),r=n(62620),o=n(27776),a=n(14693),s=n(76305),l=n(63980);function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=l(e);if(t){var r=l(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return s(this,n)}}n(62888),n(31875),n(39720),n(47559),function(){function e(e,t){var n=t.find(".frame");e.props.byline&&n.before(e.props.byline),e.props.showMenu&&person.loggedIn&&!renderMobile&&n.filmPosterMenu(),e.props.hideTooltip||window.isTouchOnly||renderMobile||n.twipsy({delayIn:1500,offset:1}),n.closest("#poster-frame,#list-entry-poster-frame").length&&n.attr("target","_blank"),1===t.find("img.image").length?t.find("img.image").removeClass("-empty-poster-image hidden"):t.find("img.-empty-poster-image").remove(),bxd.layout(t)}var t=function(t){"use strict";a(s,t);var n=c(s);function s(e){var t;return r(this,s),(t=n.call(this,e)).myDOMNode=i.createRef(),t}return o(s,[{key:"componentDidMount",value:function(){e(this,$(this.myDOMNode.current)),this.props.showMenu&&person.loggedIn&&PubSub.publish("letterboxd-metadata",{poster:this.props.filmId})}},{key:"componentDidUpdate",value:function(){e(this,$(this.myDOMNode.current))}},{key:"render",value:function(){var e,t;this.props.metadataOverlay&&(e=i.createElement("ul",{className:"poster-meta"},i.createElement("li",{className:"poster-views"},i.createElement("span",{className:"icon icon-views"},"Views: "),i.createElement("strong",null,bxd.formatNumber(this.props.numWatches))),i.createElement("li",{className:"poster-likes"},i.createElement("span",{className:"icon icon-like"},"Likes: "),i.createElement("strong",null,bxd.formatNumber(this.props.numLikes))))),this.props.pagination&&(t=i.createElement("span",{className:"replace icon"}));var n,r,o=i.createElement("img",{src:this.props.imageSource,width:this.props.width,height:this.props.height,alt:this.props.altText,itemProp:this.props.itemProp,srcSet:this.props.srcSet,className:this.props.imageClass,"data-original":this.props.originalImageSource}),a=this.props.hideTooltip?null:this.props.posterTitle+(this.props.averageRating?" "+this.props.averageRating:"")+(this.props.ownerRating?" "+ratingStars(this.props.ownerRating):"");this.props.showMenu&&person.loggedIn&&!renderMobile&&(r=i.createElement("span",{className:"overlay-actions js-film-options -w"+this.props.width},i.createElement("span",{className:"film-watch-link-target","data-film-id":this.props.filmId},i.createElement("span",{className:"film-watch-link"},i.createElement("span",{className:"has-icon icon-16 icon-watch"}," "))),i.createElement("span",{className:"like-link-target","data-likeable-uid":"film:"+this.props.filmId},i.createElement(globals.comps.LikeLinkComponent,{likeableUid:"film:"+this.props.filmId,likeableName:"film",likeable:"true",format:"minimal"})),i.createElement("span",{className:"replace menu-link icon"})));var s="frame"+(r?" has-menu":""),l=null;return this.props.listIndex&&(l=i.createElement("span",{className:"number"},i.createElement("span",null,this.props.listIndex))),n=this.props.linked?i.createElement("a",{href:this.props.targetUrl,className:s,title:a,target:this.props.targetLinkTarget||null},l,i.createElement("span",{className:"frame-title"},this.props.posterTitle),i.createElement("span",{className:"overlay"}),r):i.createElement("span",{className:s,title:a},l,i.createElement("span",{className:"frame-title"},this.props.posterTitle),r),i.createElement("div",{ref:this.myDOMNode},o,e,t,n)}}],[{key:"propsFrom",value:function(e){var t=$(e),n=t.find("img:first"),i=t.find(".frame"),r={filmId:t.data("film-id"),linked:t.hasClass("linked-film-poster"),targetUrl:t.data("target-link"),targetLinkTarget:t.data("target-link-target"),showMenu:t.data("show-menu"),hideTooltip:t.data("hide-tooltip"),byline:t.parent().find(".js-poster-attribution"),pagination:t.closest(".prevnext").length>0,listIndex:t.data("list-index"),imageSource:n.attr("src"),originalImageSource:n.data("original"),width:n.attr("width"),height:n.attr("height"),altText:n.attr("alt"),itemProp:n.attr("itemProp"),srcSet:n.attr("srcset"),imageClass:n.attr("class"),ownerRating:t.closest(".poster-container").data("owner-rating"),averageRating:t.closest(".poster-container").data("average-rating"),posterTitle:i.attr("title")};return!renderMobile&&t.closest("#featured").length>0&&(r.metadataOverlay=!0,r.numWatches=t.data("num-watches"),r.numLikes=t.data("num-likes")),r}}]),s}(i.Component);globals.comps||(globals.comps={}),globals.comps.FilmPosterComponent=t}()},46111:(e,t,n)=>{var i=n(59496);n(39720),n(47559);var r,o=n(62620),a=n(27776),s=n(14693),l=n(76305),c=n(63980);function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=c(e);if(t){var r=c(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return l(this,n)}}n(62888),n(31875),n(21082),r=function(e){"use strict";s(n,e);var t=u(n);function n(e){var r;return o(this,n),(r=t.call(this,e)).myDOMNode=i.createRef(),r}return a(n,[{key:"componentDidMount",value:function(){$(this.myDOMNode.current).find(".js-tooltip").twipsy({offset:"-8",placement:"above",template:'<div class="twipsy-inner -mainnav"></div>'})}},{key:"render",value:function(){var e,t=i.createElement(globals.comps.UserMenuComponent,{key:"userMenu"}),n=[],r=[];renderMobile?n.push(t):r.push(t);for(var o=0;o<mainMenu.length;o++){var a=mainMenu[o];if(!(person.loggedIn&&a.hideWhenSignedIn||!person.loggedIn&&a.hideWhenNotSignedIn)){var s=i.createElement("li",{key:a.id,className:"navitem "+a.cssClassCode+(a.selected?" -selected":"")},i.createElement("a",{href:a.url,className:"navlink has-icon"+(a.tooltip?" js-tooltip":""),title:a.tooltip||void 0},i.createElement("span",{className:"label"},a.name)));!renderMobile||a.showInMainNavForMobile?r.push(s):n.push(s)}}renderMobile&&r.push(i.createElement("li",{className:"navitem -mobilemenutoggle",id:"mobile-menu-toggle",key:"mobile-menu-toggle"},i.createElement("a",{className:"replace",href:"#"},"Open/Close menu"))),r.push(i.createElement("li",{className:"navitem -search js-nav-search-toggle",key:"nav-search"},i.createElement("a",{href:"#",className:"replace"}))),n.length&&(e=i.createElement("nav",{id:"mobile-nav"},i.createElement("ul",null,n)));var l=i.createElement("nav",{className:"main-nav"},i.createElement("ul",{className:"navitems"},r));return i.createElement("div",{ref:this.myDOMNode},e,l)}}]),n}(i.Component),globals.comps||(globals.comps={}),globals.comps.NavComponent=r},49319:(e,t,n)=>{var i=n(59496);n(39720),n(47559);var r=n(62620),o=n(27776),a=n(93036),s=n(14693),l=n(76305),c=n(63980),u=n(83663);function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=c(e);if(t){var r=c(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return l(this,n)}}n(30535),n(96339),n(62888),n(31875),function(){var e=function(e){"use strict";s(l,e);var n=d(l);function l(e){var t;return r(this,l),t=n.call(this,e),u(a(t),"mouseOver",(function(e){t.state.hover||t.setState({hover:!0})})),u(a(t),"mouseOut",(function(e){t.state.hover&&t.setState({hover:!1})})),t.myDOMNode=i.createRef(),t.state={initialised:!1,count:0,liked:!1,processing:!1,hover:!1},t}return o(l,[{key:"render",value:function(){var e,t,n=baseURL+"/s/"+this.props.likeableUid+"/like/",r=this.props.likeableUid.split(":")[0]+"_like",o=this.state.initialised&&person.loggedIn&&person.username!==this.props.owner&&this.props.likeable,a="has-icon icon-16",s="icon-like",l="icon-liked";if("large"===this.props.format&&(a="action -like",s="",l="-on"),"svg"===this.props.format&&(a="svg-action -like",s="",l="-liked"),a+=o?" ajax-click-action ":" cannot-like",this.state.initialised?this.state.processing?this.state.liked?a=a+" "+s:this.state.liked||(a=a+" "+l):this.state.liked&&o?a=a+" "+l:this.state.liked||(a=a+" "+s):a=a+" "+s+" ajax-initialising",this.state.initialised){var c=this.state.liked?"You liked this "+this.props.likeableName:"Like this "+this.props.likeableName+"?";if("svg"===this.props.format&&(c=this.state.liked?"Liked":"Like "+this.props.likeableName),"minimal"===this.props.format)e=person.loggedIn?i.createElement("span",{className:a,"data-action":n,"data-recaptcha-action":r},c):i.createElement("span",{className:a});else if("large"===this.props.format){var u=this.state.liked?this.state.hover?"Remove":"Liked":"Like";e=person.loggedIn?i.createElement("span",{className:a,"data-action":n,"data-recaptcha-action":r},u):i.createElement("span",{className:a},"Like")}else if(0===this.state.count)if(o)e=i.createElement("a",{href:"#",className:a,"data-action":n,"data-recaptcha-action":r},c);else{if(!this.state.mountedInSidebar&&!person.loggedIn)return null;e=i.createElement("span",{className:a},"No likes yet")}else{var d;d=o&&"small"===this.props.format&&this.state.count>99?bxd.formatNumber(this.state.count):bxd.pluralise(this.state.count,"like","likes"),o?(e=i.createElement("a",{href:"#",className:a,"data-action":n,"data-recaptcha-action":r},c),t=i.createElement("a",{href:this.props.likesPage,className:"count"},d)):e=i.createElement("a",{href:this.props.likesPage,className:a},d)}}else{if(!person.loggedIn&&!this.state.mountedInSidebar)return null;e=i.createElement("span",{className:a}," ")}return i.createElement("span",{ref:this.myDOMNode,className:"like-link",onMouseOver:this.mouseOver,onMouseOut:this.mouseOut},e,t?" ":null,t)}},{key:"componentDidMount",value:function(){var e=this,n=$(this.myDOMNode.current);t(e,n);var i={mountedInSidebar:1===n.closest("#userpanel").length};if(e.props.likeableUid){i.pubSubToken=PubSub.subscribe("like:"+e.props.likeableUid,(function(t,n){var i={initialised:!0};n.processing?i.processing=n.processing:i.processing=!1;void 0!==n.liked&&(i.liked=n.liked);void 0!==n.count?i.count=n.count:void 0!==i.liked&&i.liked!==e.state.liked&&(i.count=i.liked?e.state.count+1:e.state.count-1);e.setState(i)}));var r={likeable:e.props.likeableUid};"minimal"!==this.props.format&&"large"!==this.props.format&&(r.likeCount=e.props.likeableUid),PubSub.publish("letterboxd-metadata",r)}e.setState(i)}},{key:"componentWillUnmount",value:function(){this.state.pubSubToken&&PubSub.unsubscribe(this.state.pubSubToken)}},{key:"componentDidUpdate",value:function(){t(this,$(this.myDOMNode.current))}}]),l}(i.Component);function t(e,t){t.find(".ajax-click-action").data("ajax-data",(function(){return{liked:!e.state.liked}})),bxd.layout(t)}globals.comps||(globals.comps={}),globals.comps.LikeLinkComponent=e}()},69522:(e,t,n)=>{var i=n(59496);n(31875),n(39720),n(47559);var r,o=n(62620),a=n(27776),s=n(14693),l=n(76305),c=n(63980);function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=c(e);if(t){var r=c(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return l(this,n)}}r=function(e){"use strict";s(n,e);var t=u(n);function n(){return o(this,n),t.apply(this,arguments)}return a(n,[{key:"render",value:function(){var e,t,n;return person.loggedIn?(person.hasHqRole&&(t=i.createElement("li",null,i.createElement("a",{href:baseURL+"/"+person.username+"/stories/"},"Stories"))),person.hasMemberStatistics&&(e=i.createElement("li",null,i.createElement("a",{href:baseURL+"/"+person.username+"/stats/"},"Stats"))),person.canHaveHqDashboard&&(n=i.createElement("li",null,i.createElement("a",{href:baseURL+"/"+person.username+"/backstage/"},"Backstage"))),i.createElement("li",{className:"navitem nav-account js-nav-account"},i.createElement("a",{href:"#",className:"has-icon toggle-menu"},i.createElement("span",{className:"avatar -a24","data-js-user-avatar":!0},i.createElement("img",{src:person.avatarURL24,alt:person.username,width:"24",height:"24"})),person.username),i.createElement("ul",{className:"subnav"},i.createElement("li",{className:"divider"},i.createElement("a",{href:baseURL+"/"},"Home")),i.createElement("li",null,i.createElement("a",{href:baseURL+"/"+person.username+"/"},"Profile")),t,i.createElement("li",null,i.createElement("a",{href:baseURL+"/"+person.username+"/films/"},"Films")),i.createElement("li",null,i.createElement("a",{href:baseURL+"/"+person.username+"/films/diary/"},"Diary")),i.createElement("li",null,i.createElement("a",{href:baseURL+"/"+person.username+"/films/reviews/"},"Reviews")),i.createElement("li",null,i.createElement("a",{href:baseURL+"/"+person.username+"/watchlist/"},"Watchlist")),i.createElement("li",null,i.createElement("a",{href:baseURL+"/"+person.username+"/lists/"},"Lists")),i.createElement("li",null,i.createElement("a",{href:baseURL+"/"+person.username+"/likes/"},"Likes")),i.createElement("li",null,i.createElement("a",{href:baseURL+"/"+person.username+"/tags/"},"Tags")),i.createElement("li",null,i.createElement("a",{href:baseURL+"/"+person.username+"/following/"},"Network")),e,i.createElement("li",{className:"divider"},i.createElement("a",{href:baseURL+"/settings/"},"Settings")),i.createElement("li",null,i.createElement("a",{href:baseURL+"/settings/subscriptions/"},"Subscriptions")),n,i.createElement("li",null,i.createElement("a",{id:"sign-out",href:"#",className:"ajax-click-action","data-action":baseURL+"/user/logout.do"},"Sign Out"))))):null}}]),n}(i.Component),globals.comps||(globals.comps={}),globals.comps.UserMenuComponent=r},94770:(e,t,n)=>{n(75602),"undefined"==typeof console&&(console={log:function(e){}}),$(document).ready((function(){window.bxd=new Bxd,window.bxd.isEmbed=!1,window.bxd.init()})),$(window).load((function(){var e;for($("body").hasClass("backdrop-loaded")||window.bxd.setupBackdrop(),e=0;e<successMessages.length;e++)window.bxd.showMessages("success",successMessages[e]);for(e=0;e<stickyMessages.length;e++)window.bxd.showMessages("error",stickyMessages[e],{sticky:!0});for(e=0;e<errorMessages.length;e++)window.bxd.showMessages("error",errorMessages[e]);renderMobile&&setTimeout((function(){0===$(window).scrollTop()&&window.scrollTo(0,1)}),0)}))},6331:(e,t,n)=>{var i;e=n.nmd(e);var r=n(58682);n(75602),n(53961),n(31875),n(19003),n(96153),n(30535),n(15231),n(22928),n(91063),n(11074),n(85018),function(o,a){"use strict";var s,l,c,u;function d(e,t){for(var n=0,i=e.length,r=[];n<i;n++)r[n]=t(e[n],n);return r}function f(e){return e}function h(e,t){var n=this,i=a;t=t||{},void 0!==e&&("string"==typeof e?(t.selector=e,e=void 0):e.hasOwnProperty("length")||(t=e,e=void 0)),this.imagesOffScreen=[],this.viewportHeight=i.documentElement.clientHeight,this.selector=t.selector||".delayed-image-load",this.className=t.className||"image-replace",this.gif=i.createElement("img"),this.gif.src="data:image/gif;base64,R0lGODlhEAAJAIAAAP///wAAACH5BAEAAAAALAAAAAAQAAkAAAIKhI+py+0Po5yUFQA7",this.gif.className=this.className,this.gif.alt="",this.scrollDelay=t.scrollDelay||250,this.onResize=!t.hasOwnProperty("onResize")||t.onResize,this.lazyload=!!t.hasOwnProperty("lazyload")&&t.lazyload,this.lazyloadOffset=t.hasOwnProperty("lazyloadOffset")?t.lazyloadOffset:0,this.scrolled=!1,this.devicePixelRatio=h.getPixelRatio(),void 0===t.availableWidths&&(t.availableWidths=s),"function"==typeof t.afterChange&&(this.afterChange=t.afterChange),c(t.availableWidths)?(this.availableWidths=t.availableWidths,this.widthsMap=h.createWidthsMap(this.availableWidths)):(this.availableWidths=l(t.availableWidths),this.widthsMap=t.availableWidths),this.availableWidths=this.availableWidths.sort((function(e,t){return e-t})),e?(this.divs=d(e,f),this.selector=null):this.divs=d(i.querySelectorAll(this.selector),f),this.changeDivsToEmptyImages(),u((function(){n.init()}))}u=o.requestAnimationFrame||o.mozRequestAnimationFrame||o.webkitRequestAnimationFrame||function(e){o.setTimeout(e,1e3/60)},s=[96,130,165,200,235,270,304,340,375,410,445,485,520,555,590,625,660,695,736],l="function"==typeof Object.keys?Object.keys:function(e){var t,n=[];for(t in e)n.push(t);return n},c=function(e){return"[object Array]"===Object.prototype.toString.call(e)},h.prototype.scrollCheck=function(){this.scrolled&&(this.imagesOffScreen.length||o.clearInterval(this.interval),this.divs=this.imagesOffScreen.slice(0),this.imagesOffScreen.length=0,this.changeDivsToEmptyImages(),this.scrolled=!1)},h.prototype.init=function(){this.initialized=!0,this.checkImagesNeedReplacing(this.divs),this.onResize&&this.registerResizeEvent(),this.lazyload&&this.registerScrollEvent()},h.prototype.createGif=function(e){if(e.className.match(new RegExp("(^| )"+this.className+"( |$)")))return e;var t=this.gif.cloneNode(!1);return t.width=e.getAttribute("data-width"),t.setAttribute("data-src",e.getAttribute("data-src")),t.setAttribute("alt",e.getAttribute("data-alt")||this.gif.alt),e.parentNode.replaceChild(t,e),t},h.prototype.changeDivsToEmptyImages=function(){var e=this;d(this.divs,(function(t,n){e.lazyload?e.isThisElementOnScreen(t)?e.divs[n]=e.createGif(t):e.imagesOffScreen.push(t):e.divs[n]=e.createGif(t)})),this.initialized&&this.checkImagesNeedReplacing(this.divs)},h.prototype.isThisElementOnScreen=function(e){var t=o.hasOwnProperty("pageYOffset")?o.pageYOffset:a.documentElement.scrollTop,n=0;if(e.offsetParent)do{n+=e.offsetTop}while(e=e.offsetParent);return n<this.viewportHeight+t+this.lazyloadOffset},h.prototype.checkImagesNeedReplacing=function(e){var t=this;this.isResizing||(this.isResizing=!0,d(e,(function(e){t.replaceImagesBasedOnScreenDimensions(e)})),this.isResizing=!1)},h.prototype.replaceImagesBasedOnScreenDimensions=function(e){var t,n;t="function"==typeof this.availableWidths?this.availableWidths(e):this.determineAppropriateResolution(e),n=this.changeImageSrcToUseNewImageDimensions(e.getAttribute("data-src"),t),e.src=n,"function"==typeof this.afterChange&&this.afterChange(e)},h.prototype.determineAppropriateResolution=function(e){for(var t=e.clientWidth,n=this.availableWidths.length,i=this.availableWidths[n-1];n--;)t<=this.availableWidths[n]&&(i=this.availableWidths[n]);return i},h.prototype.changeImageSrcToUseNewImageDimensions=function(e,t){return e.replace(/{width}/g,h.transforms.width(t,this.widthsMap)).replace(/{pixel_ratio}/g,h.transforms.pixelRatio(this.devicePixelRatio))},h.getPixelRatio=function(){return o.devicePixelRatio||1},h.createWidthsMap=function(e){for(var t={},n=e.length;n--;)t[e[n]]=null;return t},h.transforms={pixelRatio:function(e){return 1===e?"":"-"+e+"x"},width:function(e,t){return t[e]||e}},h.prototype.registerResizeEvent=function(){var e=this;o.addEventListener("resize",(function(){e.checkImagesNeedReplacing(e.divs)}),!1)},h.prototype.registerScrollEvent=function(){var e=this;this.scrolled=!1,this.interval=o.setInterval((function(){e.scrollCheck()}),e.scrollDelay),o.addEventListener("scroll",(function(){e.scrolled=!0}),!1)},"object"===r(e)&&"object"===r(e.exports)?e.exports=t=h:void 0===(i=function(){return h}.call(t,n,t,e))||(e.exports=i)}(window,document)},22441:(e,t,n)=>{n(30535),n(15231),n(62888),n(31875),n(30046),n(75602),n(85018),function(e){"use strict";var t;e(document).ready((function(){var n;e.support.transition=void 0!==(n=(document.body||document.documentElement).style).transition||void 0!==n.WebkitTransition||void 0!==n.MozTransition||void 0!==n.MsTransition||void 0!==n.OTransition,e.support.transition&&(t="TransitionEnd",navigator.userAgent.match(/webkit/i)?t="webkitTransitionEnd":navigator.userAgent.match(/mozilla/i)?t="transitionend":navigator.userAgent.match(/opera/i)&&(t="oTransitionEnd"))}));var n=function(t,n){this.$element=e(t),this.options=n,this.enabled=!0,this.fixTitle()};n.prototype={show:function(){var t,n,i,r,o,a,s,l,c;if(this.hasContent()&&this.enabled){switch(o=this.tip(),this.setContent(),this.options.animate&&o.addClass("fade"),o.remove().css({top:0,left:0,display:"block"}).prependTo(document.body),t=e.extend({},this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight}),n=o[0].offsetWidth,i=o[0].offsetHeight,s=this.options.placement,l=this,c=[o[0],this.$element[0]],r="function"==typeof s?s.apply(l,c):s){case"below":a={top:t.top+t.height+this.options.offset,left:this.leftPos(t,n)};break;case"above":a={top:t.top-i-this.options.offset,left:this.leftPos(t,n)};break;case"left":a={top:t.top+t.height/2-i/2,left:t.left-n-this.options.offset};break;case"right":a={top:t.top+t.height/2-i/2,left:t.left+t.width+this.options.offset}}o.css(a).addClass(r).addClass("in")}},leftPos:function(t,n){var i=t.left+t.width/2-n/2,r=e(document).width(),o="50%";return i+n>r?(o=n/2+(i+n-r),i=r-n):i<0&&(o=i+n/2,i=0),this.$tip.find(".twipsy-arrow").css({left:o}),i},setContent:function(){var e=this.tip();e.find(".twipsy-inner")[this.options.html?"html":"text"](this.getTitle()),e[0].className="twipsy"},hide:function(){var n=this.tip();function i(){n.remove()}n.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?(n.bind(t,i),setTimeout((function(){e.contains(document.documentElement,n[0])&&(n.hasClass("in")||i())}),1e3)):i()},fixTitle:function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").removeAttr("title")},hasContent:function(){return this.getTitle()},getTitle:function(){var e,t=this.$element,n=this.options;return this.fixTitle(),"string"==typeof n.title?e=t.attr("title"==n.title?"data-original-title":n.title):"function"==typeof n.title&&(e=n.title.call(t[0])),(e=(""+e).replace(/(^\s*|\s*$)/,""))||n.fallback},tip:function(){return this.$tip||(this.$tip=e('<div class="twipsy" />').html(this.options.template)),this.$tip},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled}},e.fn.twipsy=function(t){return e.fn.twipsy.initWith.call(this,t,n,"twipsy"),this},e.fn.twipsy.initWith=function(t,n,i){var r,o,a,s,l;if(!0===t)return this.data(i);if("string"==typeof t)return(r=this.data(i))&&r[t](),this;function c(r){var o=e.data(r,i);return o||(o=new n(r,e.fn.twipsy.elementOptions(r,t)),e.data(r,i,o)),o}return(t=e.extend({},e.fn[i].defaults,t)).live||this.each((function(){c(this)})),"manual"!=t.trigger&&(o=t.live?"live":"bind",a="hover"==t.trigger?"mouseenter":"focus",s="hover"==t.trigger?"mouseleave":"blur",this[o](a,(function(){var n=c(this);n.hoverState="in",e.fn.twipsy.dontDelayIn||0==t.delayIn?n.show():(n.fixTitle(),clearTimeout(l),l=setTimeout((function(){"in"==n.hoverState&&(n.show(),e.fn.twipsy.dontDelayIn=!0)}),t.delayIn)),e.fn.twipsy.delayInResetTimer&&(clearTimeout(e.fn.twipsy.delayInResetTimer),e.fn.twipsy.delayInResetTimer=null)}))[o](s,(function(){var n=c(this);n.hoverState="out",e.fn.twipsy.delayInResetTimer=setTimeout((function(){e.fn.twipsy.dontDelayIn=!1}),t.delayIn),0==t.delayOut?n.hide():(clearTimeout(l),l=setTimeout((function(){"out"==n.hoverState&&n.hide()}),t.delayOut))}))),this},e.fn.twipsy.Twipsy=n,e.fn.twipsy.defaults={animate:!0,delayIn:0,delayOut:0,fallback:"",placement:"above",html:!1,live:!1,offset:0,title:"title",trigger:"hover",template:'<div class="twipsy-arrow"></div><div class="twipsy-inner"></div>'},e.fn.twipsy.elementOptions=function(t,n){return e.extend({},n,e(t).data())}}(window.jQuery||window.ender)},85548:(e,t,n)=>{n(62888),n(31875),function(e){e.fn.clcarousel=function(t){var n=e.extend({},e.fn.clcarousel.defaultOptions,t);return this.each((function(){var t,i,r,o,a=e(this),s=e(this).children(n.children),l=!1,c=0;"horizontal"==n.orientation&&(o=!0);var u={init:function(){u.detectEasing(),u.structure(),u.navigation(),u.animateItems()},detectEasing:function(){e.easing.def||"swing"!=n.easing&&"linear"!=n.easing&&(n.easing="swing")},structure:function(){if(a.addClass("carousel").wrap('<div class="carousel-mask"></div>').parent().wrap('<div class="carousel-wrap"></div>'),(t=a.closest(".carousel-wrap")).addClass("carousel-"+n.orientation),n.size&&(o?t.find(".carousel-mask").width(n.size):t.find(".carousel-mask").height(n.size)),o){var i=0;s.each((function(){i+=e(this).outerWidth(!0)})),a.width(i)}u.items()},checkIndex:function(){var e=s.length;c>=e-n.show?(r.addClass("carousel-disabled"),c=e-n.show):r.removeClass("carousel-disabled"),c<=0?(c=0,i.addClass("carousel-disabled")):i.removeClass("carousel-disabled")},animateItems:function(){u.checkIndex();for(var e=0,t=0;t<c;t++)e+=o?s.eq(t).outerWidth(!0):s.eq(t).outerHeight(!0);o?a.stop().animate({left:-e},n.speed,n.easing,(function(){l=!1,n.onAnimateEnd&&n.onAnimateEnd()})):a.stop().animate({top:-e},n.speed,n.easing,(function(){l=!1,n.onAnimateEnd&&n.onAnimateEnd()}))},navigation:function(){var o='<ul class="carousel-nav"><li class="carousel-prev"><a href="#"><span>'+n.prevlabel+'</span></a></li><li class="carousel-next"><a href="#"><span>'+n.nextlabel+"</span></a></li></ul>";t.prepend(o),i=t.find("li.carousel-prev a"),r=t.find("li.carousel-next a"),t.find(".carousel-nav a").click((function(){return l||e(this).hasClass("carousel-disabled")||(l=!0,e(this).parent().hasClass("carousel-prev")&&(n.interval?(c-=n.interval)<0&&(c=0):c--),e(this).parent().hasClass("carousel-next")&&(n.interval?(c+=n.interval)>=s.length&&(c=s.length):c++),u.animateItems()),!1}))},items:function(){s.click((function(){"function"==typeof n.clickevent&&(u.selectitem(e(this)),n.clickevent.call(e(this)))}))},selectitem:function(t){s.removeClass("carousel-selected"),e(t).addClass("carousel-selected")}};u.init()}))},e.fn.clcarousel.defaultOptions={show:4,interval:null,children:"li",speed:250,prevlabel:"Prev",nextlabel:"Next",size:null,orientation:"horizontal",clickevent:null,onAnimateEnd:null,easing:"easeOutExpo"}}(jQuery)},97467:(e,t,n)=>{n(90195),n(31875),jQuery.fn.clequalize=function(e,t){var n=0,i=0,r=$(this),o={init:function(){var e=r.parent().data("eqcols");null!=e&&(t=e),null!=t&&r.length>t?o.step():o.adjust()},step:function(){var a;a=0==i?r.filter(":lt("+t+")"):(a=r.filter(":gt("+(i-1)+")")).filter(":lt("+t+")"),o.setmax(a),a.css(""+e,n),n=0,i<r.length-t?o.step():(a=r.filter(":gt("+(i-1)+")"),o.setmax(a),a.css(""+e,n))},setmax:function(t){$(t).each((function(){var t=o.value(this,e);t>n&&(n=t),i++}))},adjust:function(){r.each((function(){var t=o.value(this,e);t>n&&(n=t)})),r.css(""+e,n)},value:function(t){return"height"==e?$(t).height():"width"==e?$(t).width():void 0}};o.init()}},95851:(e,t,n)=>{n(30535),n(93029),$.fn.clwidont=function(){function e(t){for(var n=$(t).contents(),i=n.length-1;i>=0;i--){var r=n[i].nodeType;if(3==r){var o=n[i].nodeValue,a=o.search(/\s\S*$/);if(-1!=a)return n[i].nodeValue=o.substring(0,a)+" "+o.substring(a+1),!0}else if(1==r&&e(n[i]))return!0}}$(this).each((function(){e(this)}))}},39401:(e,t,n)=>{n(30535),n(93029),n(97898),n(31875),n(29888),n(45107),n(20838),function(){var e=!1,t=!1,n=document.createElement("div");n.classList.add("debug-grid");var i=document.createElement("div");function r(){t&&s(),console.log(document.body,document),document.body.appendChild(n),e=!0}function o(){document.body.removeChild(n),e=!1}function a(){e&&o(),document.body.appendChild(i),t=!0}function s(){document.body.removeChild(i),t=!1}document.addEventListener("keydown",(function(n){n.ctrlKey&&n.altKey&&n.shiftKey&&"/"===n.key?t?s():a():n.ctrlKey&&n.altKey&&"/"===n.key&&(e?o():r())})),function(){var e=document.createElement("div");n.setAttribute("style","display: flex; z-index: 9999; position: fixed; top: 0; bottom: 0; left: 0; right: 0; margin-left: auto; margin-right: auto; pointer-events: none; opacity: 0.05; box-sizing: content-box !important; max-width: 1120px;"),e.setAttribute("style","flex: 1; background-color: #f00; margin-left: 5px; margin-right: 5px;");for(var t=0;t<14;t++){var i=e.cloneNode(!0);n.appendChild(i)}}(),function(){var e=document.createElement("div");i.setAttribute("style","display: flex; z-index: 9999; position: fixed; top: 0; bottom: 0; left: 0; right: 0; margin-left: auto; margin-right: auto; pointer-events: none; opacity: 0.1; box-sizing: content-box !important; max-width: 1120px;"),e.setAttribute("style","flex: 1; display: flex; justify-content: space-between;");for(var t=0;t<14;t++){var n=e.cloneNode(!0),r=document.createElement("div"),o=document.createElement("div");r.style.backgroundColor="#f00",r.style.width="5px",o.style.backgroundColor="#00f",o.style.width="5px",n.appendChild(r),n.appendChild(o),i.appendChild(n)}}();var l=window.location.search,c=new URLSearchParams(l),u=c.has("columns"),d=c.has("gutters");window.onload=function(){u?r():d&&a()}}()},56137:(e,t,n)=>{n(75602),n(30535),n(86381);var i=function(e,t,n){var i,r,o;s(),window.addEventListener("resize",(i=s,r=50,o=null,function(){var e=this,t=arguments;window.clearTimeout(o),o=window.setTimeout((function(){i.apply(e,t)}),r)})),e.style.position="absolute",e.style.top="50%",e.style.left="50%",e.style["-webkit-transform"]="translate(-50%, -50%)",e.style["-ms-transform"]="translate(-50%, -50%)",e.style.transform="translate(-50%, -50%)",e.parentNode.style.overflow="hidden";var a=e.getAttribute("poster");function s(){var i=e.parentNode.offsetHeight,r=e.parentNode.offsetWidth;r/t>i/n?(e.style.height="auto",e.style.width=r+"px"):(e.style.height=i+"px",e.style.width="auto")}e.removeAttribute("poster"),e.parentNode.style.backgroundImage="url("+a+")",e.parentNode.style.backgroundSize="cover",e.parentNode.style.backgroundPosition="center center";var l=void 0!==e.canPlayType,c=!1;(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(navigator.userAgent.substr(0,4)))&&(c=!0),l&&!c||e&&e.parentNode&&e.parentNode.removeChild(e)};window.jQuery&&jQuery.fn.extend({coverVid:function(){return i(this[0],arguments[0],arguments[1]),this}})},8296:(e,t,n)=>{var i;function r(e){"use strict";var t,n=this;if(this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.layer=e,!e||!e.nodeType)throw new TypeError("Layer must be a document node");this.onClick=function(){return r.prototype.onClick.apply(n,arguments)},this.onMouse=function(){return r.prototype.onMouse.apply(n,arguments)},this.onTouchStart=function(){return r.prototype.onTouchStart.apply(n,arguments)},this.onTouchEnd=function(){return r.prototype.onTouchEnd.apply(n,arguments)},this.onTouchCancel=function(){return r.prototype.onTouchCancel.apply(n,arguments)},void 0!==window.ontouchstart&&(this.deviceIsAndroid&&(e.addEventListener("mouseover",this.onMouse,!0),e.addEventListener("mousedown",this.onMouse,!0),e.addEventListener("mouseup",this.onMouse,!0)),e.addEventListener("click",this.onClick,!0),e.addEventListener("touchstart",this.onTouchStart,!1),e.addEventListener("touchend",this.onTouchEnd,!1),e.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(e.removeEventListener=function(t,n,i){var r=Node.prototype.removeEventListener;"click"===t?r.call(e,t,n.hijacked||n,i):r.call(e,t,n,i)},e.addEventListener=function(t,n,i){var r=Node.prototype.addEventListener;"click"===t?r.call(e,t,n.hijacked||(n.hijacked=function(e){e.propagationStopped||n(e)}),i):r.call(e,t,n,i)}),"function"==typeof e.onclick&&(t=e.onclick,e.addEventListener("click",(function(e){t(e)}),!1),e.onclick=null))}n(20857),n(30535),n(86381),n(75602),r.prototype.deviceIsAndroid=navigator.userAgent.indexOf("Android")>0,r.prototype.deviceIsIOS=/iP(ad|hone|od)/.test(navigator.userAgent),r.prototype.deviceIsIOS4=r.prototype.deviceIsIOS&&/OS 4_\d(_\d)?/.test(navigator.userAgent),r.prototype.deviceIsIOSWithBadTarget=r.prototype.deviceIsIOS&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent),r.prototype.needsClick=function(e){"use strict";if(/\bneedsclick\b/.test(e.className))return!0;switch(e.nodeName.toLowerCase()){case"button":case"input":return!(!this.deviceIsIOS||"file"!==e.type)||e.disabled;case"label":case"video":return!0;default:return!1}},r.prototype.needsFocus=function(e){"use strict";switch(e.nodeName.toLowerCase()){case"textarea":case"select":return!0;case"input":switch(e.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!e.disabled;default:return/\bneedsfocus\b/.test(e.className)}},r.prototype.sendClick=function(e,t){"use strict";var n,i;document.activeElement&&document.activeElement!==e&&document.activeElement.blur(),i=t.changedTouches[0],(n=document.createEvent("MouseEvents")).initMouseEvent("click",!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,e.dispatchEvent(n)},r.prototype.focus=function(e){"use strict";var t;this.deviceIsIOS&&e.setSelectionRange?(t=e.value.length,e.setSelectionRange(t,t)):e.focus()},r.prototype.updateScrollParent=function(e){"use strict";var t,n;if(!(t=e.fastClickScrollParent)||!t.contains(e)){n=e;do{if(n.scrollHeight>n.offsetHeight){t=n,e.fastClickScrollParent=n;break}n=n.parentElement}while(n)}t&&(t.fastClickLastScrollTop=t.scrollTop)},r.prototype.getTargetElementFromEventTarget=function(e){"use strict";return e.nodeType===Node.TEXT_NODE?e.parentNode:e},r.prototype.onTouchStart=function(e){"use strict";var t,n,i;if(t=this.getTargetElementFromEventTarget(e.target),n=e.targetTouches[0],this.deviceIsIOS){if((i=window.getSelection()).rangeCount&&!i.isCollapsed)return!0;if(!this.deviceIsIOS4){if(n.identifier===this.lastTouchIdentifier)return e.preventDefault(),!1;this.lastTouchIdentifier=n.identifier,this.updateScrollParent(t)}}return this.trackingClick=!0,this.trackingClickStart=e.timeStamp,this.targetElement=t,this.touchStartX=n.pageX,this.touchStartY=n.pageY,e.timeStamp-this.lastClickTime<200&&e.preventDefault(),!0},r.prototype.touchHasMoved=function(e){"use strict";var t=e.changedTouches[0];return Math.abs(t.pageX-this.touchStartX)>10||Math.abs(t.pageY-this.touchStartY)>10},r.prototype.findControl=function(e){"use strict";return void 0!==e.control?e.control:e.htmlFor?document.getElementById(e.htmlFor):e.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},r.prototype.onTouchEnd=function(e){"use strict";var t,n,i,r,o,a=this.targetElement;if(this.touchHasMoved(e)&&(this.trackingClick=!1,this.targetElement=null),!this.trackingClick)return!0;if(e.timeStamp-this.lastClickTime<200)return this.cancelNextClick=!0,!0;if(this.lastClickTime=e.timeStamp,n=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,this.deviceIsIOSWithBadTarget&&(o=e.changedTouches[0],a=document.elementFromPoint(o.pageX-window.pageXOffset,o.pageY-window.pageYOffset)),"label"===(i=a.tagName.toLowerCase())){if(t=this.findControl(a)){if(this.focus(a),this.deviceIsAndroid)return!1;a=t}}else if(this.needsFocus(a))return e.timeStamp-n>100||this.deviceIsIOS&&window.top!==window&&"input"===i?(this.targetElement=null,!1):(this.focus(a),this.deviceIsIOS4&&"select"===i||(this.targetElement=null,e.preventDefault()),!1);if(this.deviceIsIOS&&!this.deviceIsIOS4&&(r=a.fastClickScrollParent)&&r.fastClickLastScrollTop!==r.scrollTop)return!0;if(!this.needsClick(a)){e.preventDefault();var s=this;setTimeout((function(){s.sendClick(a,e)}),0)}return!1},r.prototype.onTouchCancel=function(){"use strict";this.trackingClick=!1,this.targetElement=null},r.prototype.onMouse=function(e){"use strict";return!this.targetElement||(!!e.forwardedTouchEvent||(!e.cancelable||(!(!this.needsClick(this.targetElement)||this.cancelNextClick)||(e.stopImmediatePropagation?e.stopImmediatePropagation():e.propagationStopped=!0,e.stopPropagation(),e.preventDefault(),!1))))},r.prototype.onClick=function(e){"use strict";var t;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===e.target.type&&0===e.detail||((t=this.onMouse(e))||(this.targetElement=null),t)},r.prototype.destroy=function(){"use strict";var e=this.layer;this.deviceIsAndroid&&(e.removeEventListener("mouseover",this.onMouse,!0),e.removeEventListener("mousedown",this.onMouse,!0),e.removeEventListener("mouseup",this.onMouse,!0)),e.removeEventListener("click",this.onClick,!0),e.removeEventListener("touchstart",this.onTouchStart,!1),e.removeEventListener("touchend",this.onTouchEnd,!1),e.removeEventListener("touchcancel",this.onTouchCancel,!1)},r.attach=function(e){"use strict";return new r(e)},void 0===(i=function(){"use strict";return r}.call(t,n,t,e))||(e.exports=i),e.exports&&(e.exports=r.attach,e.exports.FastClick=r)},3390:(e,t,n)=>{n(52248),function(e){e.fn.isInViewport=function t(n){var i=this.get(0),r=i.getBoundingClientRect(),o=r.top,a=r.bottom,s=e(window).scrollTop()===e(document).height()-e(window).height(),l=""+i.offsetLeft+i.offsetTop+r.height+r.width,c=e.extend({tolerance:0,debug:!1},n),u=!1;return(t.elementsAfterCurrent=t.elementsAfterCurrent||{})[l]=t.elementsAfterCurrent[l]||this.nextAll(),c.debug&&(console.log("---------------------------------------"),console.log("index: "+l),console.log("div: "+this.text().trim()),console.log("top: "+o),console.log("bottom: "+a),console.log("tolerance: "+c.tolerance),console.log("end of page: "+s),console.log("scrollTop: "+e(window).scrollTop()),console.log("doc height:"+e(document).height()),console.log("windowHeight using $(window).height(): "+e(window).height())),u=c.tolerance?o>=0?o<=c.tolerance:a>c.tolerance:o>=0&&o<=e(window).height(),s&&(1!==t.elementsAfterCurrent[l].length&&t.elementsAfterCurrent[l].length||(u=!(o<0))),u}}(jQuery)},21265:(e,t,n)=>{var i=n(58682);!function(e){var t=e.ajax,n={},r=[],o=[];e.ajax=function(e,a){"string"==typeof e?"object"===i(a)&&null!==a?a.url=e:a={url:e}:a=e;var s=(a=jQuery.extend(a,jQuery.extend({},jQuery.ajaxSettings,a))).port;switch(a.mode){case"abort":return n[s]&&n[s].abort(),n[s]=t.apply(this,arguments);case"queue":var l=a.complete;return a.complete=function(){l&&l.apply(this,arguments),jQuery([t]).dequeue("ajax"+s)},void jQuery([t]).queue("ajax"+s,(function(){t(a)}));case"sync":var c=r.length;r[c]={error:a.error,success:a.success,complete:a.complete,done:!1},o[c]={error:[],success:[],complete:[]},a.error=function(){o[c].error=arguments},a.success=function(){o[c].success=arguments},a.complete=function(){if(o[c].complete=arguments,r[c].done=!0,0==c||!r[c-1])for(var e=c;e<r.length&&r[e].done;e++)r[e].error&&r[e].error.apply(jQuery,o[e].error),r[e].success&&r[e].success.apply(jQuery,o[e].success),r[e].complete&&r[e].complete.apply(jQuery,o[e].complete),r[e]=null,o[e]=null}}return t.apply(this,arguments)}}(jQuery)},857:(e,t,n)=>{n(30046),n(30535),n(15231),n(75602),n(52248),n(93029),n(89794),n(21082),n(85018),n(22928),n(91063),n(11074),n(96153),n(62888),n(31875),n(90195),n(59505),n(20857),function(e){e.fn.extend({autocomplete:function(t,n){var i="string"==typeof t;return(n=e.extend({},e.Autocompleter.defaults,{url:i?t:null,data:i?null:t,delay:i?e.Autocompleter.defaults.delay:10,max:n&&!n.scroll?10:150},n)).highlight=n.highlight||function(e){return e},n.formatMatch=n.formatMatch||n.formatItem,this.each((function(){new e.Autocompleter(this,n)}))},result:function(e){return this.bind("result",e)},search:function(e){return this.trigger("search",[e])},flushCache:function(){return this.trigger("flushCache")},setOptions:function(e){return this.trigger("setOptions",[e])},unautocomplete:function(){return this.trigger("unautocomplete")}}),e.Autocompleter=function(t,n){var i=38,r=40,o=46,a=9,s=13,l=27,c=33,u=34,d=e(t).attr("autocomplete","off").addClass(n.inputClass),f=null,h="",p=e.Autocompleter.Cache(n),m=0,g=null,v=e.Autocompleter.Select(n,t,b,{}),y=!1;function b(){var e=v.getSelectedItem();if(!e)return!1;var t=d.val();return h=t,d.trigger("result",e),v.hide(),!0}function w(e,t){if(g!=o){var i=d.val();(t||i!=h)&&(h=i,_(),i.length>=n.minChars?(d.addClass(n.loadingClass),n.matchCase||(i=i.toLowerCase()),C(i,k,_)):("function"==typeof n.valueTooShort&&n.valueTooShort(i),T(),v.hide()))}else v.hide()}function x(t){return t?[e.trim(t)]:[""]}function _(){v.hide(),clearTimeout(f),T(),n.mustMatch&&d.search((function(e){e||(d.val(""),d.trigger("result",null))}))}function k(e,t){m?(T(),t||(t=[]),v.display(t,e),v.show()):_()}function C(i,r,o){n.matchCase||(i=i.toLowerCase());var a=p.load(i);if(a)"function"==typeof n.beforeSend&&n.beforeSend(d,i),"function"==typeof n.afterSend&&n.afterSend(d,a),r(i,a);else{var s={timestamp:+new Date};e.each(n.extraParams,(function(e,t){s[e]="function"==typeof t?t():t})),e.ajax({mode:"abort",port:"autocomplete"+t.name,dataType:n.dataType,url:n.url,data:e.extend({q:i,limit:n.max},s),beforeSend:function(e,t){"function"==typeof n.beforeSend&&n.beforeSend(d,i)},error:function(e,t,i){"function"==typeof n.error&&n.error(d,e,t,i)},success:function(e,t,o){e.result&&("function"==typeof n.afterSend&&n.afterSend(d,e.data,t,o),p.add(i,e.data),r(i,e.data))}})}}function T(){d.removeClass(n.loadingClass)}navigator.userAgent.match(/opera/i)&&e(t.form).bind("submit.autocomplete",(function(){if(y)return y=!1,!1})),d.bind((navigator.userAgent.match(/opera/i)?"keypress":"keydown")+".autocomplete",(function(e){switch(m=1,g=e.keyCode,e.keyCode){case i:e.preventDefault(),v.visible()?v.prev():w(null,!0);break;case r:e.preventDefault(),v.visible()?v.next():w(null,!0);break;case c:e.preventDefault(),v.visible()?v.pageUp():w(null,!0);break;case u:e.preventDefault(),v.visible()?v.pageDown():w(null,!0);break;case a:case s:if(b())return e.preventDefault(),y=!0,!1;break;case l:v.hide();break;default:clearTimeout(f),f=setTimeout(w,n.delay),"function"==typeof n.keyPress&&n.keyPress(e.keyCode)}})).focus((function(){m++})).blur((function(){m=0})).click((function(){m++>1&&!v.visible()&&w(null,!0)})).bind("search",(function(){var t=arguments.length>1?arguments[1]:null;function n(e,n){var i=null;if(n&&n.length)for(var r=0;r<n.length;r++)if(n[r].id==e.id){i=n[r];break}"function"==typeof t?t(i):d.trigger("result",i)}e.each(x(d.val()),(function(e,t){C(t,n,n)}))})).bind("flushCache",(function(){h="",p.flush()})).bind("reveal",(function(){clearTimeout(f),T(),v.show()})).bind("close",(function(){clearTimeout(f),T(),v.hide()})).bind("setOptions",(function(){e.extend(n,arguments[1]),"data"in arguments[1]&&p.populate()})).bind("unautocomplete",(function(){v.unbind(),d.unbind(),e(t.form).unbind(".autocomplete")}))},e.Autocompleter.defaults={inputClass:"ac_input",resultsClass:"ac_results",loadingClass:"ac_loading",showAsDropDown:!0,minChars:1,delay:400,matchCase:!1,cacheLength:10,max:100,mustMatch:!1,extraParams:{},selectFirst:!0,formatItem:function(e){return e[0]},formatMatch:null,width:0,highlight:function(e,t){return e.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+t.replace(/([\^\$\(\)\[\]\{\}\*\.\+\?\|\\])/gi,"\\$1")+")(?![^<>]*>)(?![^&;]+;)","gi"),"<strong>$1</strong>")},scroll:!0,scrollHeight:180},e.Autocompleter.Cache=function(t){var n={},i=0;function r(e,r){i>t.cacheLength&&a(),n[e]||i++,n[e]=r}function o(){if(!t.data)return!1;var n={},i=0;t.url||(t.cacheLength=1),n[""]=[];for(var o=0,a=t.data.length;o<a;o++){var s=t.data[o];s="string"==typeof s?[s]:s;var l=t.formatMatch(s,o+1,t.data.length);if(!1!==l){var c=l.charAt(0).toLowerCase();n[c]||(n[c]=[]);var u={value:l,data:s,result:t.formatResult&&t.formatResult(s)||l};n[c].push(u),i++<t.max&&n[""].push(u)}}e.each(n,(function(e,n){t.cacheLength++,r(e,n)}))}function a(){n={},i=0}return setTimeout(o,25),{flush:a,add:r,populate:o,load:function(e){return t.cacheLength&&i&&n[e]?n[e]:null}}},e.Autocompleter.Select=function(t,n,i,r){var o="ac_over",a=null,s=-1,l=null,c="",u=!0,d=null,f=null;function h(e){a.slice(s,s+1).removeClass(o),function(e){(s+=e)<0?s=a.size()-1:s>=a.size()&&(s=0)}(e);var n=a.slice(s,s+1).addClass(o);if(t.scroll){var i=0;a.slice(0,s).each((function(){i+=this.offsetHeight})),i+n[0].offsetHeight-f.scrollTop()>f[0].clientHeight?f.scrollTop(i+n[0].offsetHeight-f.innerHeight()):i<f.scrollTop()&&f.scrollTop(i)}}function p(){if(f&&f.empty(),l.length){for(var n=(h=l.length,t.max&&t.max<h?t.max:h),i=0;i<n;i++)if(l[i]){var r=t.formatItem(l[i],i+1,n,c);if(!1!==r){var u=e("<li/>").html(t.highlight(r,c)).addClass(i%2==0?"ac_even":"ac_odd").appendTo(f)[0];e.data(u,"ac_data",l[i])}}a=f.find("li"),t.selectFirst&&(a.slice(0,1).addClass(o),s=0)}else if(t.handleNoResults){var d="No matches";"function"==typeof t.formatNoResultsMessage&&(d=t.formatNoResultsMessage(c)),e("<li class='ac_even ac_error'>"+d+"</li>").appendTo(f)}var h;e.fn.bgiframe&&f.bgiframe()}return{display:function(r,a){!function(){if(u){if(t.showAsDropDown){d=e("<div/>").hide().addClass(t.resultsClass).css("position","absolute").appendTo(document.body),f=e("<ul/>").appendTo(d);var r="li";f.on("mouseover",r,(function(t){s=e(r).removeClass(o).index(e(this)),e(this).addClass(o)})).on("click",r,(function(t){return e(r).not(this).removeClass(o),e(this).addClass(o),setTimeout((function(){i(),n.focus()}),50),!1})),t.width>0&&d.css("width",t.width)}"function"==typeof t.postInitCallback&&t.postInitCallback(d),u=!1}}(),l=r,c=a,p()},next:function(){h(1)},prev:function(){h(-1)},pageUp:function(){h(0!==s&&s-8<0?-s:-8)},pageDown:function(){s!=a.size()-1&&s+8>a.size()?h(a.size()-1-s):h(8)},hide:function(){d&&d.hide(),s=-1},visible:function(){return d&&d.is(":visible")},current:function(){return this.visible()&&(a.filter("."+o)[0]||t.selectFirst&&a[0])},show:function(){if(t.showAsDropDown){var i=e(n).offset();if(d.css({width:"string"==typeof t.width||t.width>0?t.width:e(n).width(),top:i.top+n.offsetHeight,left:i.left}).show(),t.scroll&&(f.scrollTop(0),f.css({maxHeight:t.scrollHeight,overflow:"auto"}),navigator.userAgent.match(/msie/i)&&void 0===document.body.style.maxHeight)){var r=0;a.each((function(){r+=this.offsetHeight}));var o=r>t.scrollHeight;f.css("height",o?t.scrollHeight:r),o||a.width(f.width()-parseInt(a.css("padding-left"),10)-parseInt(a.css("padding-right"),10))}}},getSelectedItem:function(){var t=null;a&&(t=a.filter("."+o),a.removeClass(o));var n=null;return t&&t.length&&(n=e.data(t[0],"ac_data")),n},emptyList:function(){f&&f.empty()},unbind:function(){d&&d.remove()}}},e.fn.selection=function(e,t){if(void 0!==e)return this.each((function(){if(this.createTextRange){var n=this.createTextRange();void 0===t||e==t?(n.move("character",e),n.select()):(n.collapse(!0),n.moveStart("character",e),n.moveEnd("character",t),n.select())}else this.setSelectionRange?this.setSelectionRange(e,t):this.selectionStart&&(this.selectionStart=e,this.selectionEnd=t)}));var n=this[0];if(n.createTextRange){var i=document.selection.createRange(),r=n.value,o=i.text.length;i.text="<->";var a=n.value.indexOf("<->");return n.value=r,this.selection(a,a+o),{start:a,end:a+o}}return void 0!==n.selectionStart?{start:n.selectionStart,end:n.selectionEnd}:void 0}}(jQuery)},45205:(e,t,n)=>{n(90195),n(31875),n(59505),n(30535),n(85018),function(e){e.fn.autogrow=function(t){return this.filter("textarea").each((function(){var t=e(this),n=t.height(),i=(t.css("lineHeight"),e("<div></div>").css({position:"absolute",top:-1e4,left:-1e4,width:e(this).width()-parseInt(t.css("paddingLeft"))-parseInt(t.css("paddingRight")),fontSize:t.css("fontSize"),fontFamily:t.css("fontFamily"),lineHeight:t.css("lineHeight"),resize:"none"}).appendTo(document.body)),r=function(){var t=this.value.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/&/g,"&amp;").replace(/\n$/,"<br/>&nbsp;").replace(/\n/g,"<br/>").replace(/ {2,}/g,(function(e){return function(e,t){for(var n=0,i="";n<t;n++)i+=e;return i}("&nbsp;",e.length-1)+" "}));i.html(t),e(this).css("height",Math.max(i.height()+20,n))};e(this).change(r).keyup(r).keydown(r),r.apply(this)})),this}}(jQuery)},60451:function(e,t,n){n(89794),n(75602),function(e,t){var n,i=e.jQuery||e.Cowboy||(e.Cowboy={});i.throttle=n=function(e,n,r,o){var a,s=0;function l(){var i=this,l=+new Date-s,c=arguments;function u(){s=+new Date,r.apply(i,c)}function d(){a=t}o&&!a&&u(),a&&clearTimeout(a),o===t&&l>e?u():!0!==n&&(a=setTimeout(o?d:u,o===t?e-l:e))}return"boolean"!=typeof n&&(o=r,r=n,n=t),i.guid&&(l.guid=r.guid=r.guid||i.guid++),l},i.debounce=function(e,i,r){return r===t?n(e,i,!1):n(e,r,!1!==i)}}(this)},41763:(e,t,n)=>{var i,r,o;n(96153),function(a){"use strict";var s=Array.prototype.slice;function l(){}r=[n(13372)],i=function(e){if(e){var t="undefined"==typeof console?l:function(e){console.error(e)};return e.bridget=function(n,i){!function(t){t.prototype.option||(t.prototype.option=function(t){e.isPlainObject(t)&&(this.options=e.extend(!0,this.options,t))})}(i),function(n,i){e.fn[n]=function(r){if("string"==typeof r){for(var o=s.call(arguments,1),a=0,l=this.length;a<l;a++){var c=this[a],u=e.data(c,n);if(u)if(e.isFunction(u[r])&&"_"!==r.charAt(0)){var d=u[r].apply(u,o);if(void 0!==d)return d}else t("no such method '"+r+"' for "+n+" instance");else t("cannot call methods on "+n+" prior to initialization; attempted to call '"+r+"'")}return this}return this.each((function(){var t=e.data(this,n);t?(t.option(r),t._init()):(t=new i(this,r),e.data(this,n,t))}))}}(n,i)},e.bridget}},void 0===(o="function"==typeof i?i.apply(t,r):i)||(e.exports=o)}(window)},3614:(e,t,n)=>{n(30535),n(86381),n(85018),n(59505),function(e){e.fx.step.clip=function(e){if(0==e.state){var t=/rect\(([0-9]{1,})(px|em)[,\s]+([0-9]{1,})(px|em)[,\s]+([0-9]{1,})(px|em)[,\s]+([0-9]{1,})(px|em)\)/;$elem=$(e.elem);var n=t.test(e.elem.style.clip)?e.elem.style.clip:"rect(0px "+$elem.width()+"px "+$elem.height()+"px 0px)";e.start=t.exec(n.replace(/,/g," "));try{e.end=t.exec(e.end.replace(/,/g,""))}catch(e){return!1}}for(var i=new Array,r=new Array,o=e.start.length,a=e.end.length,s="em"==e.start[l+1]?1.333*parseInt($(e.elem).css("fontSize"))*parseInt(e.start[l]):1,l=1;l<o;l+=2)i.push(parseInt(s*e.start[l]));for(var c=1;c<a;c+=2)r.push(parseInt(s*e.end[c]));e.elem.style.clip="rect("+parseInt(e.pos*(r[0]-i[0])+i[0])+"px "+parseInt(e.pos*(r[1]-i[1])+i[1])+"px "+parseInt(e.pos*(r[2]-i[2])+i[2])+"px "+parseInt(e.pos*(r[3]-i[3])+i[3])+"px)"}}(jQuery)},15161:(e,t,n)=>{n(59505),n(20857),n(98942),n(30535),n(93418),n(96153),n(82395),n(89794),n(31875),n(11074),n(96339),function(e,t){var n,i=/^([\-+])=\s*(\d+\.?\d*)/,r=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],o=e.Color=function(t,n,i,r){return new e.Color.fn.parse(t,n,i,r)},a={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},s={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},l=o.support={},c=e("<p>")[0],u=e.each;function d(e,t,n){var i=s[t.type]||{};return null==e?n||!t.def?null:t.def:(e=i.floor?~~e:parseFloat(e),isNaN(e)?t.def:i.mod?(e+i.mod)%i.mod:0>e?0:i.max<e?i.max:e)}function f(t){var i=o(),s=i._rgba=[];return t=t.toLowerCase(),u(r,(function(e,n){var r,o=n.re.exec(t),l=o&&n.parse(o),c=n.space||"rgba";if(l)return r=i[c](l),i[a[c].cache]=r[a[c].cache],s=i._rgba=r._rgba,!1})),s.length?("0,0,0,0"===s.join()&&e.extend(s,n.transparent),i):n[t]}function h(e,t,n){return 6*(n=(n+1)%1)<1?e+(t-e)*n*6:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e}c.style.cssText="background-color:rgba(1,1,1,.5)",l.rgba=c.style.backgroundColor.indexOf("rgba")>-1,u(a,(function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}})),o.fn=e.extend(o.prototype,{parse:function(i,r,s,l){if(i===t)return this._rgba=[null,null,null,null],this;(i.jquery||i.nodeType)&&(i=e(i).css(r),r=t);var c=this,h=e.type(i),p=this._rgba=[];return r!==t&&(i=[i,r,s,l],h="array"),"string"===h?this.parse(f(i)||n._default):"array"===h?(u(a.rgba.props,(function(e,t){p[t.idx]=d(i[t.idx],t)})),this):"object"===h?(u(a,i instanceof o?function(e,t){i[t.cache]&&(c[t.cache]=i[t.cache].slice())}:function(t,n){var r=n.cache;u(n.props,(function(e,t){if(!c[r]&&n.to){if("alpha"===e||null==i[e])return;c[r]=n.to(c._rgba)}c[r][t.idx]=d(i[e],t,!0)})),c[r]&&e.inArray(null,c[r].slice(0,3))<0&&(c[r][3]=1,n.from&&(c._rgba=n.from(c[r])))}),this):void 0},is:function(e){var t=o(e),n=!0,i=this;return u(a,(function(e,r){var o,a=t[r.cache];return a&&(o=i[r.cache]||r.to&&r.to(i._rgba)||[],u(r.props,(function(e,t){if(null!=a[t.idx])return n=a[t.idx]===o[t.idx]}))),n})),n},_space:function(){var e=[],t=this;return u(a,(function(n,i){t[i.cache]&&e.push(n)})),e.pop()},transition:function(e,t){var n=o(e),i=n._space(),r=a[i],l=0===this.alpha()?o("transparent"):this,c=l[r.cache]||r.to(l._rgba),f=c.slice();return n=n[r.cache],u(r.props,(function(e,i){var r=i.idx,o=c[r],a=n[r],l=s[i.type]||{};null!==a&&(null===o?f[r]=a:(l.mod&&(a-o>l.mod/2?o+=l.mod:o-a>l.mod/2&&(o-=l.mod)),f[r]=d((a-o)*t+o,i)))})),this[i](f)},blend:function(t){if(1===this._rgba[3])return this;var n=this._rgba.slice(),i=n.pop(),r=o(t)._rgba;return o(e.map(n,(function(e,t){return(1-i)*r[t]+i*e})))},toRgbaString:function(){var t="rgba(",n=e.map(this._rgba,(function(e,t){return null==e?t>2?1:0:e}));return 1===n[3]&&(n.pop(),t="rgb("),t+n.join()+")"},toHslaString:function(){var t="hsla(",n=e.map(this.hsla(),(function(e,t){return null==e&&(e=t>2?1:0),t&&t<3&&(e=Math.round(100*e)+"%"),e}));return 1===n[3]&&(n.pop(),t="hsl("),t+n.join()+")"},toHexString:function(t){var n=this._rgba.slice(),i=n.pop();return t&&n.push(~~(255*i)),"#"+e.map(n,(function(e,t){return 1===(e=(e||0).toString(16)).length?"0"+e:e})).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),o.fn.parse.prototype=o.fn,a.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,n,i=e[0]/255,r=e[1]/255,o=e[2]/255,a=e[3],s=Math.max(i,r,o),l=Math.min(i,r,o),c=s-l,u=s+l,d=.5*u;return t=l===s?0:i===s?60*(r-o)/c+360:r===s?60*(o-i)/c+120:60*(i-r)/c+240,n=0===d||1===d?d:d<=.5?c/u:c/(2-u),[Math.round(t)%360,n,d,null==a?1:a]},a.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,n=e[1],i=e[2],r=e[3],o=i<=.5?i*(1+n):i+n-i*n,a=2*i-o;return[Math.round(255*h(a,o,t+1/3)),Math.round(255*h(a,o,t)),Math.round(255*h(a,o,t-1/3)),r]},u(a,(function(n,r){var a=r.props,s=r.cache,l=r.to,c=r.from;o.fn[n]=function(n){if(l&&!this[s]&&(this[s]=l(this._rgba)),n===t)return this[s].slice();var i,r=e.type(n),f="array"===r||"object"===r?n:arguments,h=this[s].slice();return u(a,(function(e,t){var n=f["object"===r?e:t.idx];null==n&&(n=h[t.idx]),h[t.idx]=d(n,t)})),c?((i=o(c(h)))[s]=h,i):o(h)},u(a,(function(t,r){o.fn[t]||(o.fn[t]=function(o){var a,s=e.type(o),l="alpha"===t?this._hsla?"hsla":"rgba":n,c=this[l](),u=c[r.idx];return"undefined"===s?u:("function"===s&&(o=o.call(this,u),s=e.type(o)),null==o&&r.empty?this:("string"===s&&(a=i.exec(o))&&(o=u+parseFloat(a[2])*("+"===a[1]?1:-1)),c[r.idx]=o,this[l](c)))})}))})),o.hook=function(t){var n=t.split(" ");u(n,(function(t,n){e.cssHooks[n]={set:function(t,i){var r,a,s="";if("string"!==e.type(i)||(r=f(i))){if(i=o(r||i),!l.rgba&&1!==i._rgba[3]){for(a="backgroundColor"===n?t.parentNode:t;(""===s||"transparent"===s)&&a&&a.style;)try{s=e.css(a,"backgroundColor"),a=a.parentNode}catch(e){}i=i.blend(s&&"transparent"!==s?s:"_default")}i=i.toRgbaString()}try{t.style[n]=i}catch(i){}}},e.fx.step[n]=function(t){t.colorInit||(t.start=o(t.elem,n),t.end=o(t.end),t.colorInit=!0),e.cssHooks[n].set(t.elem,t.start.transition(t.end,t.pos))}}))},o.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"),e.cssHooks.borderColor={expand:function(e){var t={};return u(["Top","Right","Bottom","Left"],(function(n,i){t["border"+i+"Color"]=e})),t}},n=e.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery)},53109:(e,t,n)=>{n(30535),n(86381),n(59505),n(96153),n(52248),n(30046),n(75602),n(93418),n(90195),n(31875),n(98942),n(62888),n(51850),n(85018),n(89794),function(e,t,n){var i,r,o,a,s,l,c,u,d,f,h,p,m,g,v,y,b,w,x,_,k,C,T,S,E,$,O,P,A,j,I,M,D,N,L,R={transition:"elastic",speed:300,width:!1,initialWidth:"600",innerWidth:!1,maxWidth:!1,height:!1,initialHeight:"450",innerHeight:!1,maxHeight:!1,scalePhotos:!0,scrolling:!0,inline:!1,html:!1,iframe:!1,fastIframe:!0,photo:!1,href:!1,title:!1,rel:!1,opacity:.9,preloading:!0,className:!1,current:"image {current} of {total}",previous:"previous",next:"next",close:"close",xhrError:"This content failed to load.",imgError:"This image failed to load.",open:!1,returnFocus:!0,reposition:!0,loop:!0,slideshow:!1,slideshowAuto:!0,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",onOpen:!1,onLoad:!1,onComplete:!1,onCleanup:!1,onClosed:!1,overlayClose:!0,escKey:!0,arrowKey:!0,top:!1,bottom:!1,left:!1,right:!1,fixed:!1,data:void 0},F="colorbox",z="cbox",W="cboxElement",H="cbox_open",B="cbox_load",U="cbox_complete",Z="cbox_cleanup",q="cbox_closed",Y="cbox_purge",Q=!e.support.leadingWhitespace,V=Q&&!n.XMLHttpRequest,X="div";function K(n,i,r){var o=t.createElement(n);return i&&(o.id=z+i),r&&(o.style.cssText=r),e(o)}function G(e){var t=d.length,n=(O+e)%t;return n<0?t+n:n}function J(e,t){return Math.round((/%/.test(e)?("x"===t?f.width():f.height())/100:1)*parseInt(e,10))}function ee(e){return k.photo||/\.(gif|png|jp(e|g|eg)|bmp|ico)((#|\?).*)?$/i.test(e)}function te(){var t,n=e.data($,F);for(t in null==n?(k=e.extend({},R),console&&console.log&&console.log("Error: cboxElement missing settings object")):k=e.extend({},n),k)e.isFunction(k[t])&&"on"!==t.slice(0,2)&&(k[t]=k[t].call($));k.rel=k.rel||$.rel||e($).data("rel")||"nofollow",k.href=k.href||e($).attr("href"),k.title=k.title||$.title,"string"==typeof k.href&&(k.href=e.trim(k.href))}function ne(n,i){e(t).trigger(n),e("*",r).trigger(n),i&&i.call($)}function ie(){var e,t,n,i="cboxSlideshow_",o="click.cbox";k.slideshow&&d[1]?(t=function(){y.html(k.slideshowStop).unbind(o).bind(U,(function(){(k.loop||d[O+1])&&(e=setTimeout(D.next,k.slideshowSpeed))})).bind(B,(function(){clearTimeout(e)})).one(o+" "+Z,n),r.removeClass(i+"off").addClass(i+"on"),e=setTimeout(D.next,k.slideshowSpeed)},n=function(){clearTimeout(e),y.html(k.slideshowStart).unbind([U,B,Z,o].join(" ")).one(o,(function(){D.next(),t()})),r.removeClass(i+"on").addClass(i+"off")},k.slideshowAuto?t():n()):r.removeClass(i+"off "+i+"on")}function re(n){I||($=n,te(),d=e($),O=0,"nofollow"!==k.rel&&(d=e(".cboxElement").filter((function(){var t,n=e.data(this,F);return n&&(t=e(this).data("rel")||n.rel||this.rel),t===k.rel})),-1===(O=d.index($))&&(d=d.add($),O=d.length-1)),A||(A=j=!0,r.css({visibility:"hidden",display:"block"}),h=K(X,"LoadedContent","width:0; height:0; overflow:hidden").appendTo(a),C=s.height()+u.height()+a.outerHeight(!0)-a.height(),T=l.width()+c.width()+a.outerWidth(!0)-a.width(),S=h.outerHeight(!0),E=h.outerWidth(!0),k.returnFocus&&(e($).blur(),e(t).one(q,(function(){e($).focus()}))),i.css({opacity:parseFloat(k.opacity),cursor:k.overlayClose?"pointer":"auto",visibility:"visible"}).show(),k.w=J(k.initialWidth,"x"),k.h=J(k.initialHeight,"y"),D.position(),V&&f.bind("resize.cbox_IE6 scroll.cbox_IE6",(function(){i.css({width:f.width(),height:f.height(),top:f.scrollTop(),left:f.scrollLeft()})})).trigger("resize.cbox_IE6"),ne(H,k.onOpen),_.add(g).hide(),x.html(k.close).show()),D.load(!0))}function oe(){!r&&t.body&&(L=!1,f=e(n),r=K(X).attr({id:F,class:Q?z+(V?"IE6":"IE"):""}).hide(),i=K(X,"Overlay",V?"position:absolute":"").hide(),m=K(X,"LoadingOverlay").add(K(X,"LoadingGraphic")),o=K(X,"Wrapper"),a=K(X,"Content").append(g=K(X,"Title"),v=K(X,"Current"),b=K(X,"Next"),w=K(X,"Previous"),y=K(X,"Slideshow").bind(H,ie),x=K(X,"Close")),o.append(K(X).append(K(X,"TopLeft"),s=K(X,"TopCenter"),K(X,"TopRight")),K(X,!1,"clear:left").append(l=K(X,"MiddleLeft"),a,c=K(X,"MiddleRight")),K(X,!1,"clear:left").append(K(X,"BottomLeft"),u=K(X,"BottomCenter"),K(X,"BottomRight"))).find("div div").css({float:"left"}),p=K(X,!1,"position:absolute; width:9999px; visibility:hidden; display:none"),_=b.add(w).add(v).add(y),e(t.body).append(i,r.append(o,p)))}e.colorbox||(e(oe),(D=e.fn.colorbox=e.colorbox=function(n,o){var a=this;if(n=n||{},oe(),function(){function n(e){e.which>1||e.shiftKey||e.altKey||e.metaKey||(e.preventDefault(),re(this))}return!!r&&(L||(L=!0,b.click((function(){D.next()})),w.click((function(){D.prev()})),x.click((function(){D.close()})),i.click((function(){k.overlayClose&&D.close()})),e(t).bind("keydown.cbox",(function(e){var t=e.keyCode;A&&k.escKey&&27===t&&(e.preventDefault(),D.close()),A&&k.arrowKey&&d[1]&&(37===t?(e.preventDefault(),w.click()):39===t&&(e.preventDefault(),b.click()))})),e.isFunction(e.fn.on)?e(t).on("click.cbox",".cboxElement",n):e(".cboxElement").live("click.cbox",n)),!0)}()){if(e.isFunction(a))a=e("<a/>"),n.open=!0;else if(!a[0])return a;o&&(n.onComplete=o),a.each((function(){e.data(this,F,e.extend({},e.data(this,F)||R,n))})).addClass(W),(e.isFunction(n.open)&&n.open.call(a)||n.open)&&re(a[0])}return a}).position=function(e,t){var n,i,d,h=0,p=0,m=r.offset();function g(e){s[0].style.width=u[0].style.width=a[0].style.width=parseInt(e.style.width,10)-T+"px",a[0].style.height=l[0].style.height=c[0].style.height=parseInt(e.style.height,10)-C+"px"}f.unbind("resize.cbox"),r.css({top:-9e4,left:-9e4}),i=f.scrollTop(),d=f.scrollLeft(),k.fixed&&!V?(m.top-=i,m.left-=d,r.css({position:"fixed"})):(h=i,p=d,r.css({position:"absolute"})),!1!==k.right?p+=Math.max(f.width()-k.w-E-T-J(k.right,"x"),0):!1!==k.left?p+=J(k.left,"x"):p+=Math.round(Math.max(f.width()-k.w-E-T,0)/2),!1!==k.bottom?h+=Math.max(f.height()-k.h-S-C-J(k.bottom,"y"),0):!1!==k.top?h+=J(k.top,"y"):h+=Math.round(Math.max(f.height()-k.h-S-C,0)/2),r.css({top:m.top,left:m.left,visibility:"visible"}),e=r.width()===k.w+E&&r.height()===k.h+S?0:e||0,o[0].style.width=o[0].style.height="9999px",n={width:k.w+E+T,height:k.h+S+C,top:h,left:p},0===e&&r.css(n),r.dequeue().animate(n,{duration:e,complete:function(){g(this),j=!1,o[0].style.width=k.w+E+T+"px",o[0].style.height=k.h+S+C+"px",k.reposition&&setTimeout((function(){f.bind("resize.cbox",D.position)}),1),t&&t()},step:function(){g(this)}})},D.resize=function(e,t){A&&((e=e||{}).width&&(k.w=J(e.width,"x")-E-T),e.innerWidth&&(k.w=J(e.innerWidth,"x")),h.css({width:k.w}),e.height&&(k.h=J(e.height,"y")-S-C),e.innerHeight&&(k.h=J(e.innerHeight,"y")),e.innerHeight||e.height||(h.css({height:"auto"}),k.h=h.height()),h.css({height:k.h}),D.position("none"===k.transition?0:k.speed,t))},D.prep=function(n){if(A){var i,o="none"===k.transition?0:k.speed;h.empty().remove(),(h=K(X,"LoadedContent").append(n)).hide().appendTo(p.show()).css({width:(k.w=k.w||h.width(),k.w=k.mw&&k.mw<k.w?k.mw:k.w,k.w),overflow:k.scrolling?"auto":"hidden"}).css({height:(k.h=k.h||h.height(),k.h=k.mh&&k.mh<k.h?k.mh:k.h,k.h)}).prependTo(a),p.hide(),e(P).css({float:"none"}),i=function(){var n,i,a=d.length,s="frameBorder",l="allowTransparency";function c(){Q&&r[0].style.removeAttribute("filter")}A&&(i=function(){clearTimeout(M),m.remove(),ne(U,k.onComplete)},Q&&P&&h.fadeIn(100),g.html(k.title).add(h).show(),a>1?("string"==typeof k.current&&v.html(k.current.replace("{current}",O+1).replace("{total}",a)).show(),b[k.loop||O<a-1?"show":"hide"]().html(k.next),w[k.loop||O?"show":"hide"]().html(k.previous),k.slideshow&&y.show(),k.preloading&&e.each([G(-1),G(1)],(function(){var t,n=d[this],i=e.data(n,F);i&&i.href?(t=i.href,e.isFunction(t)&&(t=t.call(n))):t=n.href,ee(t)&&((new Image).src=t)}))):_.hide(),k.iframe?(s in(n=K("iframe")[0])&&(n.frameBorder=0),l in n&&(n.allowTransparency="true"),k.scrolling||(n.scrolling="no"),e(n).attr({src:k.href,name:(new Date).getTime(),class:"cboxIframe",allowFullScreen:!0,webkitAllowFullScreen:!0,mozallowfullscreen:!0}).one("load",i).appendTo(h),e(t).one(Y,(function(){n.src="//about:blank"})),k.fastIframe&&e(n).trigger("load")):i(),"fade"===k.transition?r.fadeTo(o,1,c):c())},"fade"===k.transition?r.fadeTo(o,0,(function(){D.position(0,i)})):D.position(o,i)}},D.load=function(n){var o,s,l,c=D.prep;j=!0,P=!1,$=d[O],n||te(),N&&r.add(i).removeClass(N),k.className&&r.add(i).addClass(k.className),N=k.className,ne(Y),ne(B,k.onLoad),k.h=k.height?J(k.height,"y")-S-C:k.innerHeight&&J(k.innerHeight,"y"),k.w=k.width?J(k.width,"x")-E-T:k.innerWidth&&J(k.innerWidth,"x"),k.mw=k.w,k.mh=k.h,k.maxWidth&&(k.mw=J(k.maxWidth,"x")-E-T,k.mw=k.w&&k.w<k.mw?k.w:k.mw),k.maxHeight&&(k.mh=J(k.maxHeight,"y")-S-C,k.mh=k.h&&k.h<k.mh?k.h:k.mh),o=k.href,M=setTimeout((function(){m.appendTo(a)}),100),k.inline?(l=K(X).hide().insertBefore(e(o)[0]),e(t).one(Y,(function(){l.replaceWith(h.children())})),c(e(o))):k.iframe?c(" "):k.html?c(k.html):ee(o)?(e(P=new Image).addClass("cboxPhoto").bind("error",(function(){k.title=!1,c(K(X,"Error").html(k.imgError))})).one("load",(function(){var e;k.scalePhotos&&(s=function(){P.height-=P.height*e,P.width-=P.width*e},k.mw&&P.width>k.mw&&(e=(P.width-k.mw)/P.width,s()),k.mh&&P.height>k.mh&&(e=(P.height-k.mh)/P.height,s())),k.h&&(P.style.marginTop=Math.max(k.h-P.height,0)/2+"px"),d[1]&&(k.loop||d[O+1])&&(P.style.cursor="pointer",P.onclick=function(){D.next()}),Q&&(P.style.msInterpolationMode="bicubic"),setTimeout((function(){c(P)}),1)})),setTimeout((function(){P.src=o}),1)):o&&p.load(o,k.data,(function(t,n){c("error"===n?K(X,"Error").html(k.xhrError):e(this).contents())}))},D.next=function(){!j&&d[1]&&(k.loop||d[O+1])&&(O=G(1),D.load())},D.prev=function(){!j&&d[1]&&(k.loop||O)&&(O=G(-1),D.load())},D.close=function(){A&&!I&&(I=!0,A=!1,ne(Z,k.onCleanup),f.unbind(".cbox .cbox_IE6"),i.fadeTo(200,0),r.stop().fadeTo(300,0,(function(){r.add(i).css({opacity:1,cursor:"auto"}).hide(),ne(Y),h.empty().remove(),setTimeout((function(){I=!1,ne(q,k.onClosed)}),1)})))},D.remove=function(){e([]).add(r).add(i).remove(),r=null,e(".cboxElement").removeData(F).removeClass(W),e(t).unbind("click.cbox")},D.element=function(){return e($)},D.settings=R)}(jQuery,document,window)},75041:(e,t,n)=>{n(52248),n(20857),function(e){function t(e,t,i){var r=!1,o=i;do{if((o=e.indexOf(t,o))<0)return e.length;for(r=!0;n(e,o);)o++,r=!1}while(!r);return o}function n(e,t){return e.indexOf(">",t)<e.indexOf("<",t)}e.fn.condense=function(n){var i=e.extend({},e.fn.condense.defaults,n);return this.each((function(){$this=e(this);var n=e.metadata?e.extend({},i,$this.metadata()):i,r=function(n,i){if(e.trim(n.text()).length<=i.condensedLength+i.minTrail)return!1;var r=e.trim(n.html()),o=e.trim(n.text()),a=n.clone(),s=0;do{var l=t(r,i.delim,i.condensedLength+s),c=e.trim(r.substring(0,l+1));a.html(c),a.addClass("condensed");var u=a.text().length;a.html().length;s=a.html().length-u}while(s&&a.text().length<i.condensedLength);if(o.length-u<i.minTrail)return!1;return a}($this,n);if(r){$this.attr("id")&&$this.attr("id","condensed_"+$this.attr("id")),$this.addClass("condenseable");var o=r,a=$this;i.inline&&(o=o.children().last(),a=a.children().last());var s=" <span class='condense_control condense_control_more' style='cursor:pointer;'>"+n.moreText+"</span>",l=" <span class='condense_control condense_control_less' style='cursor:pointer;'>"+n.lessText+"</span>";o.append(n.ellipsis+s),$this.after(r).hide(),a.append(l),e(".condense_control_more",r).click((function(){!function(e,t){var n=e.closest(".condensed"),i=n.prev();t.expandedWidth&&i.width(t.expandedWidth);i.show();var r=i.width(),o=i.height();if(i.width(n.width()+"px").height(n.height()+"px"),n.hide(),i.animate({height:o,width:r,opacity:1},t.moreSpeed,t.easing),n.attr("id")){var a=n.attr("id");n.attr("id","condensed_"+a),i.attr("id",a)}}(e(this),n)})),e(".condense_control_less",$this).click((function(){!function(e,t){var n=e.closest(".condenseable"),i=n.next();i.show();var r=i.width(),o=i.height();i.hide();var a=n.width(),s=n.height();n.animate({height:o,width:r,opacity:1},t.lessSpeed,t.easing,(function(){n.height(s).width(a).hide(),i.show()}))}(e(this),n)}))}}))},e.fn.condense.defaults={condensedLength:200,minTrail:20,delim:" ",moreText:"[more]",lessText:"[less]",ellipsis:" ( ... )",inline:!0,moreSpeed:"normal",lessSpeed:"normal",easing:"linear"}}(jQuery)},94430:(e,t,n)=>{n(89794),n(93418),n(30535),n(96339),n(52248),jQuery.cookie=function(e,t,n){if(void 0===t){var i=null;if(document.cookie&&""!=document.cookie)for(var r=document.cookie.split(";"),o=0;o<r.length;o++){var a=jQuery.trim(r[o]);if(a.substring(0,e.length+1)==e+"="){i=decodeURIComponent(a.substring(e.length+1));break}}return i}n=n||{},null===t&&(t="",n.expires=-1);var s,l="";n.expires&&("number"==typeof n.expires||n.expires.toUTCString)&&("number"==typeof n.expires?(s=new Date).setTime(s.getTime()+24*n.expires*60*60*1e3):s=n.expires,l="; expires="+s.toUTCString());var c=n.path?"; path="+n.path:"",u=n.domain?"; domain="+n.domain:"",d=n.secure?"; secure":"";document.cookie=[e,"=",encodeURIComponent(t),l,c,u,d].join("")}},34559:(e,t,n)=>{n(62888),n(31875),n(89794),n(93418),n(59505),n(30535),n(96339),n(86381),n(55792),n(30046),n(52582),n(93480),n(85018),function(e){var t,n,i,r,o,a,s,l,c,u,d,f=(t={years:"datepickerViewYears",moths:"datepickerViewMonths",days:"datepickerViewDays"},n={wrapper:'<div class="datepicker"><div class="datepickerBorderT" /><div class="datepickerBorderB" /><div class="datepickerBorderL" /><div class="datepickerBorderR" /><div class="datepickerBorderTL" /><div class="datepickerBorderTR" /><div class="datepickerBorderBL" /><div class="datepickerBorderBR" /><div class="datepickerContainer"><table cellspacing="0" cellpadding="0"><tbody><tr></tr></tbody></table></div></div>',head:["<td>",'<table cellspacing="0" cellpadding="0">',"<thead>",'<tr class="datepickerHeader">','<th class="datepickerGoPrev"><a href="#"><span><%=prev%></span></a></th>','<th colspan="5" class="datepickerMonth"><a href="#"><span></span></a></th>','<th class="datepickerGoNext"><a href="#"><span><%=next%></span></a></th>',"</tr>",'<tr class="datepickerDoW">',"<th><span><%=day1%></span></th>","<th><span><%=day2%></span></th>","<th><span><%=day3%></span></th>","<th><span><%=day4%></span></th>","<th><span><%=day5%></span></th>","<th><span><%=day6%></span></th>","<th><span><%=day7%></span></th>","</tr>","</thead>","</table></td>"],space:'<td class="datepickerSpace"><div></div></td>',days:['<tbody class="datepickerDays">',"<tr>",'<td class="<%=weeks[0].days[0].classname%>"><a href="#"><span><%=weeks[0].days[0].text%></span></a></td>','<td class="<%=weeks[0].days[1].classname%>"><a href="#"><span><%=weeks[0].days[1].text%></span></a></td>','<td class="<%=weeks[0].days[2].classname%>"><a href="#"><span><%=weeks[0].days[2].text%></span></a></td>','<td class="<%=weeks[0].days[3].classname%>"><a href="#"><span><%=weeks[0].days[3].text%></span></a></td>','<td class="<%=weeks[0].days[4].classname%>"><a href="#"><span><%=weeks[0].days[4].text%></span></a></td>','<td class="<%=weeks[0].days[5].classname%>"><a href="#"><span><%=weeks[0].days[5].text%></span></a></td>','<td class="<%=weeks[0].days[6].classname%>"><a href="#"><span><%=weeks[0].days[6].text%></span></a></td>',"</tr>","<tr>",'<td class="<%=weeks[1].days[0].classname%>"><a href="#"><span><%=weeks[1].days[0].text%></span></a></td>','<td class="<%=weeks[1].days[1].classname%>"><a href="#"><span><%=weeks[1].days[1].text%></span></a></td>','<td class="<%=weeks[1].days[2].classname%>"><a href="#"><span><%=weeks[1].days[2].text%></span></a></td>','<td class="<%=weeks[1].days[3].classname%>"><a href="#"><span><%=weeks[1].days[3].text%></span></a></td>','<td class="<%=weeks[1].days[4].classname%>"><a href="#"><span><%=weeks[1].days[4].text%></span></a></td>','<td class="<%=weeks[1].days[5].classname%>"><a href="#"><span><%=weeks[1].days[5].text%></span></a></td>','<td class="<%=weeks[1].days[6].classname%>"><a href="#"><span><%=weeks[1].days[6].text%></span></a></td>',"</tr>","<tr>",'<td class="<%=weeks[2].days[0].classname%>"><a href="#"><span><%=weeks[2].days[0].text%></span></a></td>','<td class="<%=weeks[2].days[1].classname%>"><a href="#"><span><%=weeks[2].days[1].text%></span></a></td>','<td class="<%=weeks[2].days[2].classname%>"><a href="#"><span><%=weeks[2].days[2].text%></span></a></td>','<td class="<%=weeks[2].days[3].classname%>"><a href="#"><span><%=weeks[2].days[3].text%></span></a></td>','<td class="<%=weeks[2].days[4].classname%>"><a href="#"><span><%=weeks[2].days[4].text%></span></a></td>','<td class="<%=weeks[2].days[5].classname%>"><a href="#"><span><%=weeks[2].days[5].text%></span></a></td>','<td class="<%=weeks[2].days[6].classname%>"><a href="#"><span><%=weeks[2].days[6].text%></span></a></td>',"</tr>","<tr>",'<td class="<%=weeks[3].days[0].classname%>"><a href="#"><span><%=weeks[3].days[0].text%></span></a></td>','<td class="<%=weeks[3].days[1].classname%>"><a href="#"><span><%=weeks[3].days[1].text%></span></a></td>','<td class="<%=weeks[3].days[2].classname%>"><a href="#"><span><%=weeks[3].days[2].text%></span></a></td>','<td class="<%=weeks[3].days[3].classname%>"><a href="#"><span><%=weeks[3].days[3].text%></span></a></td>','<td class="<%=weeks[3].days[4].classname%>"><a href="#"><span><%=weeks[3].days[4].text%></span></a></td>','<td class="<%=weeks[3].days[5].classname%>"><a href="#"><span><%=weeks[3].days[5].text%></span></a></td>','<td class="<%=weeks[3].days[6].classname%>"><a href="#"><span><%=weeks[3].days[6].text%></span></a></td>',"</tr>","<tr>",'<td class="<%=weeks[4].days[0].classname%>"><a href="#"><span><%=weeks[4].days[0].text%></span></a></td>','<td class="<%=weeks[4].days[1].classname%>"><a href="#"><span><%=weeks[4].days[1].text%></span></a></td>','<td class="<%=weeks[4].days[2].classname%>"><a href="#"><span><%=weeks[4].days[2].text%></span></a></td>','<td class="<%=weeks[4].days[3].classname%>"><a href="#"><span><%=weeks[4].days[3].text%></span></a></td>','<td class="<%=weeks[4].days[4].classname%>"><a href="#"><span><%=weeks[4].days[4].text%></span></a></td>','<td class="<%=weeks[4].days[5].classname%>"><a href="#"><span><%=weeks[4].days[5].text%></span></a></td>','<td class="<%=weeks[4].days[6].classname%>"><a href="#"><span><%=weeks[4].days[6].text%></span></a></td>',"</tr>","<tr>",'<td class="<%=weeks[5].days[0].classname%>"><a href="#"><span><%=weeks[5].days[0].text%></span></a></td>','<td class="<%=weeks[5].days[1].classname%>"><a href="#"><span><%=weeks[5].days[1].text%></span></a></td>','<td class="<%=weeks[5].days[2].classname%>"><a href="#"><span><%=weeks[5].days[2].text%></span></a></td>','<td class="<%=weeks[5].days[3].classname%>"><a href="#"><span><%=weeks[5].days[3].text%></span></a></td>','<td class="<%=weeks[5].days[4].classname%>"><a href="#"><span><%=weeks[5].days[4].text%></span></a></td>','<td class="<%=weeks[5].days[5].classname%>"><a href="#"><span><%=weeks[5].days[5].text%></span></a></td>','<td class="<%=weeks[5].days[6].classname%>"><a href="#"><span><%=weeks[5].days[6].text%></span></a></td>',"</tr>","</tbody>"],months:['<tbody class="<%=className%>">',"<tr>",'<td colspan="2"><a href="#"><span><%=data[0]%></span></a></td>','<td colspan="2"><a href="#"><span><%=data[1]%></span></a></td>','<td colspan="2"><a href="#"><span><%=data[2]%></span></a></td>','<td colspan="2"><a href="#"><span><%=data[3]%></span></a></td>',"</tr>","<tr>",'<td colspan="2"><a href="#"><span><%=data[4]%></span></a></td>','<td colspan="2"><a href="#"><span><%=data[5]%></span></a></td>','<td colspan="2"><a href="#"><span><%=data[6]%></span></a></td>','<td colspan="2"><a href="#"><span><%=data[7]%></span></a></td>',"</tr>","<tr>",'<td colspan="2"><a href="#"><span><%=data[8]%></span></a></td>','<td colspan="2"><a href="#"><span><%=data[9]%></span></a></td>','<td colspan="2"><a href="#"><span><%=data[10]%></span></a></td>','<td colspan="2"><a href="#"><span><%=data[11]%></span></a></td>',"</tr>","</tbody>"]},i={flat:!1,starts:1,prev:"&larr;",next:"&rarr;",lastSel:!1,mode:"single",view:"days",calendars:1,format:"Y-m-d",position:"bottom",eventName:"click",onRender:function(){return{}},onChange:function(){return!0},onShow:function(){return!0},onBeforeShow:function(){return!0},onHide:function(){return!0},locale:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekMin:"wk"}},r=function(t){var i,r,o,s,l,c,u,d,f=e(t).data("datepicker"),h=e(t),p=Math.floor(f.calendars/2),m=0;h.find("td>table tbody").remove();for(var g=0;g<f.calendars;g++){switch((i=new Date(f.current)).addMonths(-p+g),(d=h.find("table").eq(g+1))[0].className){case"datepickerViewDays":y=a(i,"B, Y");break;case"datepickerViewMonths":y=i.getFullYear();break;case"datepickerViewYears":y=i.getFullYear()-6+" - "+(i.getFullYear()+5)}d.find("thead tr:first th:eq(1) span").text(y),y=i.getFullYear()-6,r={data:[],className:"datepickerYears"};for(var v=0;v<12;v++)r.data.push(y+v);u=tmpl(n.months.join(""),r),i.setDate(1),r={weeks:[],test:10},o=i.getMonth();var y=(i.getDay()-f.starts)%7;for(i.addDays(-(y+(y<0?7:0))),s=-1,m=0;m<42;){l=parseInt(m/7,10),c=m%7,r.weeks[l]||(s=i.getWeekNumber(),r.weeks[l]={week:s,days:[]}),r.weeks[l].days[c]={text:i.getDate(),classname:[]},o!=i.getMonth()&&r.weeks[l].days[c].classname.push("datepickerNotInMonth"),0==i.getDay()&&r.weeks[l].days[c].classname.push("datepickerSunday"),6==i.getDay()&&r.weeks[l].days[c].classname.push("datepickerSaturday");var b=f.onRender(i),w=i.valueOf();(b.selected||f.date==w||e.inArray(w,f.date)>-1||"range"==f.mode&&w>=f.date[0]&&w<=f.date[1])&&r.weeks[l].days[c].classname.push("datepickerSelected"),b.disabled&&r.weeks[l].days[c].classname.push("datepickerDisabled"),b.className&&r.weeks[l].days[c].classname.push(b.className),r.weeks[l].days[c].classname=r.weeks[l].days[c].classname.join(" "),m++,i.addDays(1)}u=tmpl(n.days.join(""),r)+u,r={data:f.locale.monthsShort,className:"datepickerMonths"},u=tmpl(n.months.join(""),r)+u,d.append(u)}},o=function(e,t){if(e.constructor==Date)return new Date(e);for(var n,i,r,o,a=e.split(/\W+/),s=t.split(/\W+/),l=new Date,c=0;c<a.length;c++)switch(s[c]){case"d":case"e":n=parseInt(a[c],10);break;case"b":for(var u=0;u<Date.prototype.monthsShort.length&&Date.prototype.monthsShort[u]!=a[c];u++);break;case"B":for(u=0;u<Date.prototype.months.length&&Date.prototype.months[u]!=a[c];u++);break;case"m":u=parseInt(a[c],10)-1;break;case"Y":case"y":i=parseInt(a[c],10),i+=i>100?0:i<29?2e3:1900;break;case"H":case"I":case"k":case"l":r=parseInt(a[c],10);break;case"P":case"p":/pm/i.test(a[c])&&r<12?r+=12:/am/i.test(a[c])&&r>=12&&(r-=12);break;case"M":o=parseInt(a[c],10)}return new Date(void 0===i?l.getFullYear():i,void 0===u?l.getMonth():u,void 0===n?l.getDate():n,void 0===r?l.getHours():r,void 0===o?l.getMinutes():o,0)},a=function(e,t){var n=e.getMonth(),i=e.getDate(),r=e.getFullYear(),o=(e.getWeekNumber(),e.getDay()),a=e.getHours(),s=a>=12,l=s?a-12:a,c=e.getDayOfYear();0==l&&(l=12);for(var u,d=e.getMinutes(),f=e.getSeconds(),h=t.split(""),p=0;p<h.length;p++){switch(u=h[p],h[p]){case"a":u=e.getDayName();break;case"A":u=e.getDayName(!0);break;case"b":u=e.getMonthName();break;case"B":u=e.getMonthName(!0);break;case"C":u=1+Math.floor(r/100);break;case"d":u=i<10?"0"+i:i;break;case"e":u=i;break;case"H":u=a<10?"0"+a:a;break;case"I":u=l<10?"0"+l:l;break;case"j":u=c<100?c<10?"00"+c:"0"+c:c;break;case"k":u=a;break;case"l":u=l;break;case"m":u=n<9?"0"+(1+n):1+n;break;case"M":u=d<10?"0"+d:d;break;case"p":case"P":u=s?"PM":"AM";break;case"s":u=Math.floor(e.getTime()/1e3);break;case"S":u=f<10?"0"+f:f;break;case"u":u=o+1;break;case"w":u=o;break;case"y":u=(""+r).substr(2,2);break;case"Y":u=r}h[p]=u}return h.join("")},s=function(t){var n=e(t).data("datepicker"),i=e("#"+n.id);if(!n.extraHeight){var r=e(t).find("div");n.extraHeight=r.get(0).offsetHeight+r.get(1).offsetHeight,n.extraWidth=r.get(2).offsetWidth+r.get(3).offsetWidth}var o=i.find("table:first").get(0),a=o.offsetWidth,s=o.offsetHeight;i.css({width:a+n.extraWidth+"px",height:s+n.extraHeight+"px"}).find("div.datepickerContainer").css({width:a+"px",height:s+"px"})},l=function(t){e(t.target).is("span")&&(t.target=t.target.parentNode);var n=e(t.target);if(n.is("a")){if(t.target.blur(),n.hasClass("datepickerDisabled"))return!1;var i=e(this).data("datepicker"),o=n.parent(),s=o.parent().parent().parent(),l=e("table",this).index(s.get(0))-1,u=new Date(i.current),d=!1,f=!1;if(o.is("th")){if(o.hasClass("datepickerWeek")&&"range"==i.mode&&!o.next().hasClass("datepickerDisabled")){var h=parseInt(o.next().text(),10);u.addMonths(l-Math.floor(i.calendars/2)),o.next().hasClass("datepickerNotInMonth")&&u.addMonths(h>15?-1:1),u.setDate(h),i.date[0]=u.setHours(0,0,0,0).valueOf(),u.setHours(23,59,59,0),u.addDays(6),i.date[1]=u.valueOf(),f=!0,d=!0,i.lastSel=!1}else if(o.hasClass("datepickerMonth"))switch(u.addMonths(l-Math.floor(i.calendars/2)),s.get(0).className){case"datepickerViewDays":s.get(0).className="datepickerViewMonths",n.find("span").text(u.getFullYear());break;case"datepickerViewMonths":s.get(0).className="datepickerViewYears",n.find("span").text(u.getFullYear()-6+" - "+(u.getFullYear()+5));break;case"datepickerViewYears":s.get(0).className="datepickerViewDays",n.find("span").text(a(u,"B, Y"))}else if(o.parent().parent().is("thead")){switch(s.get(0).className){case"datepickerViewDays":i.current.addMonths(o.hasClass("datepickerGoPrev")?-1:1);break;case"datepickerViewMonths":i.current.addYears(o.hasClass("datepickerGoPrev")?-1:1);break;case"datepickerViewYears":i.current.addYears(o.hasClass("datepickerGoPrev")?-12:12)}f=!0}}else if(o.is("td")&&!o.hasClass("datepickerDisabled")){switch(s.get(0).className){case"datepickerViewMonths":var p=s.find("tbody.datepickerMonths td").index(o);i.current.setMonth(p),i.current.setFullYear(parseInt(s.find("thead th.datepickerMonth span").text(),10)),i.current.addMonths(Math.floor(i.calendars/2)-l),s.get(0).className="datepickerViewDays";for(var m=0;m<3&&i.current.getMonth()!=p;m++)i.current.addDays(-1);break;case"datepickerViewYears":i.current.setFullYear(parseInt(n.text(),10)),s.get(0).className="datepickerViewMonths";break;default:switch(h=parseInt(n.text(),10),u.addMonths(l-Math.floor(i.calendars/2)),o.hasClass("datepickerNotInMonth")&&u.addMonths(h>15?-1:1),u.setDate(h),i.mode){case"multiple":h=u.setHours(0,0,0,0).valueOf(),e.inArray(h,i.date)>-1?e.each(i.date,(function(e,t){if(t==h)return i.date.splice(e,1),!1})):i.date.push(h);break;case"range":i.lastSel||(i.date[0]=u.setHours(0,0,0,0).valueOf()),(h=u.setHours(23,59,59,0).valueOf())<i.date[0]?(i.date[1]=i.date[0]+86399e3,i.date[0]=h-86399e3):i.date[1]=h,i.lastSel=!i.lastSel;break;default:i.date=u.valueOf()}}f=!0,d=!0}f&&r(this),d&&"datepickerDays"==e(t.target).closest("tbody").attr("class")&&i.onChange.apply(this,c(i))}return!1},c=function(t){var n;return"single"==t.mode?(n=new Date(t.date),[a(n,t.format),n,t.el]):(n=[[],[],t.el],e.each(t.date,(function(e,i){var r=new Date(i);n[0].push(a(r,t.format)),n[1].push(r)})),n)},u=function(t){var n,i=e("#"+e(this).data("datepickerId"));if(!i.is(":visible")){var o=i.get(0);r(o);var a=i.data("datepicker");a.onBeforeShow.apply(this,[i.get(0)]);var l=e(this).offset(),c=(n="CSS1Compat"==document.compatMode,{l:window.pageXOffset||(n?document.documentElement.scrollLeft:document.body.scrollLeft),t:window.pageYOffset||(n?document.documentElement.scrollTop:document.body.scrollTop),w:window.innerWidth||(n?document.documentElement.clientWidth:document.body.clientWidth),h:window.innerHeight||(n?document.documentElement.clientHeight:document.body.clientHeight)}),u=l.top,f=l.left;switch(e.css(o,"display"),i.css({visibility:"hidden",display:"block"}),s(o),a.position){case"top":u-=o.offsetHeight;break;case"left":f-=o.offsetWidth;break;case"right":f+=this.offsetWidth;break;case"bottom":u+=this.offsetHeight}u+o.offsetHeight>c.t+c.h&&(u=l.top-o.offsetHeight),u<c.t&&(u=l.top+this.offsetHeight+o.offsetHeight),f+o.offsetWidth>c.l+c.w&&(f=l.left-o.offsetWidth),f<c.l&&(f="bottom"==a.position?c.l:l.left+this.offsetWidth),i.css({visibility:"visible",display:"block",top:u+"px",left:f+"px"}),0!=a.onShow.apply(this,[i.get(0)])&&i.show(),e(document).bind("mousedown",{cal:i,trigger:this},d)}return!1},d=function t(n){n.target==n.data.trigger||function(e,t,n){if(e==t)return!0;if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return!!(16&e.compareDocumentPosition(t));for(var i=t.parentNode;i&&i!=n;){if(i==e)return!0;i=i.parentNode}return!1}(n.data.cal.get(0),n.target,n.data.cal.get(0))||(0!=n.data.cal.data("datepicker").onHide.apply(this,[n.data.cal.get(0)])&&n.data.cal.hide(),e(document).unbind("mousedown",t))},{init:function(a){return function(e){Date.prototype.tempDate||(Date.prototype.tempDate=null,Date.prototype.months=e.months,Date.prototype.monthsShort=e.monthsShort,Date.prototype.days=e.days,Date.prototype.daysShort=e.daysShort,Date.prototype.getMonthName=function(e){return this[e?"months":"monthsShort"][this.getMonth()]},Date.prototype.getDayName=function(e){return this[e?"days":"daysShort"][this.getDay()]},Date.prototype.addDays=function(e){this.setDate(this.getDate()+e),this.tempDate=this.getDate()},Date.prototype.addMonths=function(e){null==this.tempDate&&(this.tempDate=this.getDate()),this.setDate(1),this.setMonth(this.getMonth()+e),this.setDate(Math.min(this.tempDate,this.getMaxDays()))},Date.prototype.addYears=function(e){null==this.tempDate&&(this.tempDate=this.getDate()),this.setDate(1),this.setFullYear(this.getFullYear()+e),this.setDate(Math.min(this.tempDate,this.getMaxDays()))},Date.prototype.getMaxDays=function(){var e,t=new Date(Date.parse(this)),n=28;for(e=t.getMonth(),n=28;t.getMonth()==e;)n++,t.setDate(n);return n-1},Date.prototype.getFirstDay=function(){var e=new Date(Date.parse(this));return e.setDate(1),e.getDay()},Date.prototype.getWeekNumber=function(){var e=new Date(this);e.setDate(e.getDate()-(e.getDay()+6)%7+3);var t=e.valueOf();return e.setMonth(0),e.setDate(4),Math.round((t-e.valueOf())/6048e5)+1},Date.prototype.getDayOfYear=function(){var e=new Date(this.getFullYear(),this.getMonth(),this.getDate(),0,0,0)-new Date(this.getFullYear(),0,0,0,0,0);return Math.floor(e/24*60*60*1e3)})}((a=e.extend({},i,a||{})).locale),a.calendars=Math.max(1,parseInt(a.calendars,10)||1),a.mode=/single|multiple|range/.test(a.mode)?a.mode:"single",this.each((function(){if(!e(this).data("datepicker")){if(a.el=this,a.date.constructor==String&&(a.date=o(a.date,a.format),a.date.setHours(0,0,0,0)),"single"!=a.mode)if(a.date.constructor!=Array)a.date=[a.date.valueOf()],"range"==a.mode&&a.date.push(new Date(a.date[0]).setHours(23,59,59,0).valueOf());else{for(var i=0;i<a.date.length;i++)a.date[i]=o(a.date[i],a.format).setHours(0,0,0,0).valueOf();"range"==a.mode&&(a.date[1]=new Date(a.date[1]).setHours(23,59,59,0).valueOf())}else a.date=a.date.valueOf();a.current?a.current=o(a.current,a.format):a.current=new Date,a.current.setDate(1),a.current.setHours(0,0,0,0);var c,d="datepicker_"+parseInt(1e3*Math.random());a.id=d,e(this).data("datepickerId",a.id);var f=e(n.wrapper).attr("id",d).bind("click",l).data("datepicker",a);a.className&&f.addClass(a.className);var h="";for(i=0;i<a.calendars;i++)c=a.starts,i>0&&(h+=n.space),h+=tmpl(n.head.join(""),{week:a.locale.weekMin,prev:a.prev,next:a.next,day1:a.locale.daysMin[c++%7],day2:a.locale.daysMin[c++%7],day3:a.locale.daysMin[c++%7],day4:a.locale.daysMin[c++%7],day5:a.locale.daysMin[c++%7],day6:a.locale.daysMin[c++%7],day7:a.locale.daysMin[c++%7]});f.find("tr:first").append(h).find("table").addClass(t[a.view]),r(f.get(0)),a.flat?(f.appendTo(this).show().css("position","relative"),s(f.get(0))):(f.appendTo(document.body),e(this).bind(a.eventName,u))}}))},showPicker:function(){return this.each((function(){e(this).data("datepickerId")&&u.apply(this)}))},hidePicker:function(){return this.each((function(){e(this).data("datepickerId")&&(e("#"+e(this).data("datepickerId")).hide(),e("#add-date").trigger("change"))}))},setDate:function(t,n){return this.each((function(){if(e(this).data("datepickerId")){var i=e("#"+e(this).data("datepickerId")),a=i.data("datepicker");if(a.date=t,a.date.constructor==String&&(a.date=o(a.date,a.format),a.date.setHours(0,0,0,0)),"single"!=a.mode)if(a.date.constructor!=Array)a.date=[a.date.valueOf()],"range"==a.mode&&a.date.push(new Date(a.date[0]).setHours(23,59,59,0).valueOf());else{for(var s=0;s<a.date.length;s++)a.date[s]=o(a.date[s],a.format).setHours(0,0,0,0).valueOf();"range"==a.mode&&(a.date[1]=new Date(a.date[1]).setHours(23,59,59,0).valueOf())}else a.date=a.date.valueOf();n&&(a.current=new Date("single"!=a.mode?a.date[0]:a.date)),r(i.get(0))}}))},getDate:function(t){if(this.size()>0)return c(e("#"+e(this).data("datepickerId")).data("datepicker"))[t?0:1]},clear:function(){return this.each((function(){if(e(this).data("datepickerId")){var t=e("#"+e(this).data("datepickerId")),n=t.data("datepicker");"single"!=n.mode&&(n.date=[],r(t.get(0)))}}))},fixLayout:function(){return this.each((function(){if(e(this).data("datepickerId")){var t=e("#"+e(this).data("datepickerId"));t.data("datepicker").flat&&s(t.get(0))}}))}});e.fn.extend({DatePicker:f.init,DatePickerHide:f.hidePicker,DatePickerShow:f.showPicker,DatePickerSetDate:f.setDate,DatePickerGetDate:f.getDate,DatePickerClear:f.clear,DatePickerLayout:f.fixLayout})}(jQuery),function(){var e={};this.tmpl=function t(n,i){var r=/\W/.test(n)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+n.replace(/[\r\t\n]/g," ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):e[n]=e[n]||t(document.getElementById(n).innerHTML);return i?r(i):r}}()},62452:(e,t,n)=>{n(75602),function(e){var t,n,i=e.event;t=i.special.debouncedresize={setup:function(){e(this).on("resize",t.handler)},teardown:function(){e(this).off("resize",t.handler)},handler:function(e,r){var o=this,a=arguments,s=function(){e.type="debouncedresize",i.dispatch.apply(o,a)};n&&clearTimeout(n),r?s():n=setTimeout(s,t.threshold)},threshold:150}}(jQuery)},66123:()=>{jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(e,t,n,i,r){return jQuery.easing[jQuery.easing.def](e,t,n,i,r)},easeInQuad:function(e,t,n,i,r){return i*(t/=r)*t+n},easeOutQuad:function(e,t,n,i,r){return-i*(t/=r)*(t-2)+n},easeInOutQuad:function(e,t,n,i,r){return(t/=r/2)<1?i/2*t*t+n:-i/2*(--t*(t-2)-1)+n},easeInCubic:function(e,t,n,i,r){return i*(t/=r)*t*t+n},easeOutCubic:function(e,t,n,i,r){return i*((t=t/r-1)*t*t+1)+n},easeInOutCubic:function(e,t,n,i,r){return(t/=r/2)<1?i/2*t*t*t+n:i/2*((t-=2)*t*t+2)+n},easeInQuart:function(e,t,n,i,r){return i*(t/=r)*t*t*t+n},easeOutQuart:function(e,t,n,i,r){return-i*((t=t/r-1)*t*t*t-1)+n},easeInOutQuart:function(e,t,n,i,r){return(t/=r/2)<1?i/2*t*t*t*t+n:-i/2*((t-=2)*t*t*t-2)+n},easeInQuint:function(e,t,n,i,r){return i*(t/=r)*t*t*t*t+n},easeOutQuint:function(e,t,n,i,r){return i*((t=t/r-1)*t*t*t*t+1)+n},easeInOutQuint:function(e,t,n,i,r){return(t/=r/2)<1?i/2*t*t*t*t*t+n:i/2*((t-=2)*t*t*t*t+2)+n},easeInSine:function(e,t,n,i,r){return-i*Math.cos(t/r*(Math.PI/2))+i+n},easeOutSine:function(e,t,n,i,r){return i*Math.sin(t/r*(Math.PI/2))+n},easeInOutSine:function(e,t,n,i,r){return-i/2*(Math.cos(Math.PI*t/r)-1)+n},easeInExpo:function(e,t,n,i,r){return 0==t?n:i*Math.pow(2,10*(t/r-1))+n},easeOutExpo:function(e,t,n,i,r){return t==r?n+i:i*(1-Math.pow(2,-10*t/r))+n},easeInOutExpo:function(e,t,n,i,r){return 0==t?n:t==r?n+i:(t/=r/2)<1?i/2*Math.pow(2,10*(t-1))+n:i/2*(2-Math.pow(2,-10*--t))+n},easeInCirc:function(e,t,n,i,r){return-i*(Math.sqrt(1-(t/=r)*t)-1)+n},easeOutCirc:function(e,t,n,i,r){return i*Math.sqrt(1-(t=t/r-1)*t)+n},easeInOutCirc:function(e,t,n,i,r){return(t/=r/2)<1?-i/2*(Math.sqrt(1-t*t)-1)+n:i/2*(Math.sqrt(1-(t-=2)*t)+1)+n},easeInElastic:function(e,t,n,i,r){var o=1.70158,a=0,s=i;if(0==t)return n;if(1==(t/=r))return n+i;if(a||(a=.3*r),s<Math.abs(i)){s=i;o=a/4}else o=a/(2*Math.PI)*Math.asin(i/s);return-s*Math.pow(2,10*(t-=1))*Math.sin((t*r-o)*(2*Math.PI)/a)+n},easeOutElastic:function(e,t,n,i,r){var o=1.70158,a=0,s=i;if(0==t)return n;if(1==(t/=r))return n+i;if(a||(a=.3*r),s<Math.abs(i)){s=i;o=a/4}else o=a/(2*Math.PI)*Math.asin(i/s);return s*Math.pow(2,-10*t)*Math.sin((t*r-o)*(2*Math.PI)/a)+i+n},easeInOutElastic:function(e,t,n,i,r){var o=1.70158,a=0,s=i;if(0==t)return n;if(2==(t/=r/2))return n+i;if(a||(a=r*(.3*1.5)),s<Math.abs(i)){s=i;o=a/4}else o=a/(2*Math.PI)*Math.asin(i/s);return t<1?s*Math.pow(2,10*(t-=1))*Math.sin((t*r-o)*(2*Math.PI)/a)*-.5+n:s*Math.pow(2,-10*(t-=1))*Math.sin((t*r-o)*(2*Math.PI)/a)*.5+i+n},easeInBack:function(e,t,n,i,r,o){return null==o&&(o=1.70158),i*(t/=r)*t*((o+1)*t-o)+n},easeOutBack:function(e,t,n,i,r,o){return null==o&&(o=1.70158),i*((t=t/r-1)*t*((o+1)*t+o)+1)+n},easeInOutBack:function(e,t,n,i,r,o){return null==o&&(o=1.70158),(t/=r/2)<1?i/2*(t*t*((1+(o*=1.525))*t-o))+n:i/2*((t-=2)*t*((1+(o*=1.525))*t+o)+2)+n},easeInBounce:function(e,t,n,i,r){return i-jQuery.easing.easeOutBounce(e,r-t,0,i,r)+n},easeOutBounce:function(e,t,n,i,r){return(t/=r)<1/2.75?i*(7.5625*t*t)+n:t<2/2.75?i*(7.5625*(t-=1.5/2.75)*t+.75)+n:t<2.5/2.75?i*(7.5625*(t-=2.25/2.75)*t+.9375)+n:i*(7.5625*(t-=2.625/2.75)*t+.984375)+n},easeInOutBounce:function(e,t,n,i,r){return t<r/2?.5*jQuery.easing.easeInBounce(e,2*t,0,i,r)+n:.5*jQuery.easing.easeOutBounce(e,2*t-r,0,i,r)+.5*i+n}})},84496:(e,t,n)=>{n(30046),function(e){e.fn.fullscreenr=function(t){void 0===t.height&&alert("Please supply the background image height, default values will now be used. These may be very inaccurate."),void 0===t.width&&alert("Please supply the background image width, default values will now be used. These may be very inaccurate."),void 0===t.bgID&&alert("Please supply the background image ID, default #bgimg will now be used.");t=e.extend({},{width:1280,height:1024,bgID:"bgimg"},t);return e(document).ready((function(){e(t.bgID).fullscreenrResizer(t)})),e(window).bind("resize",(function(){e(t.bgID).fullscreenrResizer(t)})),this},e.fn.fullscreenrResizer=function(t){var n=t.height/t.width,i=e(window).width(),r=e(window).height();return r/i>n?(e(this).height(r),e(this).width(r/n)):(e(this).width(i),e(this).height(i*n)),e(this).css("left",(i-e(this).width())/2),e(this).css("top",(r-e(this).height())/2),this}}(jQuery)},99192:(e,t,n)=>{n(30535),n(96339),n(86381),function(e){function t(t){if("string"==typeof t.data){var n=t.handler,i=t.data.toLowerCase().split(" ");t.handler=function(t){if(this===t.target||!/textarea|select|input/i.test(t.target.nodeName)){var r="keypress"!==t.type&&e.hotkeys.specialKeys[t.which],o=String.fromCharCode(t.which).toLowerCase(),a="",s={};t.altKey&&"alt"!==r&&(a+="alt+"),t.ctrlKey&&"ctrl"!==r&&(a+="ctrl+"),t.metaKey&&!t.ctrlKey&&"meta"!==r&&(a+="meta+"),t.shiftKey&&"shift"!==r&&(a+="shift+"),r?s[a+r]=!0:(s[a+o]=!0,s[a+e.hotkeys.shiftNums[o]]=!0,"shift+"===a&&(s[e.hotkeys.shiftNums[o]]=!0));for(var l=0,c=i.length;l<c;l++)if(s[i[l]])return n.apply(this,arguments)}}}}e.hotkeys={version:"0.8",specialKeys:{8:"backspace",9:"tab",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",191:"/",224:"meta"},shiftNums:{"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":": ","'":'"',",":"<",".":">","/":"?","\\":"|"}},e.each(["keydown","keyup","keypress"],(function(){e.event.special[this]={add:t}}))}(jQuery)},95970:(e,t,n)=>{var i=n(58682);n(59505),n(75602),n(91063),n(30046),n(62888),n(31875),function(e){e.jnotify=function(e,t,n){return new u(e,t,n)},e.jnotify.version="1.1.00";var t,n,r,o=[],a=0,s=!1,l=!1,c={type:"",delay:2e3,sticky:!1,closeLabel:"&times;",showClose:!0,fadeSpeed:1e3,slideSpeed:250,classContainer:"jnotify-container",classNotification:"jnotify-notification",classBackground:"jnotify-background",classClose:"jnotify-close",classMessage:"jnotify-message",init:null,create:null,beforeRemove:null,remove:null,transition:null};function u(n,r){var s=this,l=i(r);function u(n){var i='<div class="'+r.classNotification+(r.type.length?" "+r.classNotification+"-"+r.type:"")+'"><div class="'+r.classBackground+'"></div>'+(r.showClose?'<a class="'+r.classClose+'">'+r.closeLabel+"</a>":"")+'<div class="'+r.classMessage+'"><div>'+n+"</div></div></div>";a++;var o=e(i);return r.showClose&&o.find("a."+r.classClose).bind("click.jnotify",(function(){s.remove()})),e.isFunction(r.create)&&r.create.apply(s,[o]),window.isTouchOnly?o.hide().appendTo(t).fadeIn():o.hide().appendTo(t).slideDown("fast")}r="number"==l?e.extend({},c,{delay:r}):"boolean"==l?e.extend({},c,{sticky:!0}):"string"==l?e.extend({},c,{type:r,delay:arguments.length>2&&"number"==typeof arguments[2]?arguments[2]:c.delay,sticky:arguments.length>2&&"boolean"==typeof arguments[2]?arguments[2]:c.sticky}):e.extend({},c,r),this.options=r,t||(t=e('<div class="'+c.classContainer+'" />').appendTo("body"),e.isFunction(r.init)&&r.init.apply(s,[t])),this.remove=function(t){var n=d.find("."+r.classMessage),i=n.parent(),o=a--;function l(){window.isTouchOnly?i.fadeOut((function(){e(this).remove()})):i.slideUp(r.slideSpeed,(function(){e(this).remove()})),e.isFunction(t)&&t.apply(s,[n]),e.isFunction(r.remove)&&r.remove.apply(s,[n])}e.isFunction(r.beforeRemove)&&r.beforeRemove.apply(s,[n]),e.isFunction(r.transition)?r.transition.apply(s,[i,n,o,l,r]):(n.fadeTo(r.fadeSpeed,.01,(function(){o<=1?l():window.isTouchOnly?i.fadeOut((function(){l()})):i.slideUp(r.slideSpeed,l)})),a<=0&&(window.isTouchOnly?i.fadeOut():i.slideUp(r.slideSpeed)))};var d=u(n);return r.sticky||(o.push(this),e.jnotify.play()),this}e.jnotify.setup=function(t){c=e.extend({},c,t)},e.jnotify.play=function(t,i){if(!(s&&!0!==t||0==o.length)){s=!0;var a=o.shift();r=a;var c=arguments.length>=2?parseInt(i,10):a.options.delay;n=setTimeout((function(){n=0,a.remove((function(){0==o.length?s=!1:l||e.jnotify.play(!0)}))}),c)}},e.jnotify.pause=function(){clearTimeout(n),n&&o.unshift(r),l=s=!0},e.jnotify.resume=function(){l=!1,e.jnotify.play(!0,0)},e.jnotify.clear=function(n){for(s&&e.jnotify.pause();o.length>1;){o.shift().remove()}e.jnotify.resume(),e.isFunction(n)&&n.apply(self,[t])}}(jQuery)},56878:(e,t,n)=>{n(20857),n(30046),n(30535),n(86381),function(e,t,n,i){var r=e(t);e.fn.lazyload=function(o){var a,s=this,l={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:t,data_attribute:"original",data_srcset:"srcset",skip_invisible:!0,appear:null,load:null,placeholder:"data:image/gif;base64,R0lGODlhAQABAHAAACH5BAUHAAAALAAAAAABAAEAAAICRAEAOw=="};function c(){var t=0;s.each((function(){var n=e(this);if(!l.skip_invisible||n.is(":visible"))if(e.abovethetop(this,l)||e.leftofbegin(this,l));else if(e.belowthefold(this,l)||e.rightoffold(this,l)){if(++t>l.failure_limit)return!1}else n.trigger("appear"),t=0}))}return o&&(i!==o.failurelimit&&(o.failure_limit=o.failurelimit,delete o.failurelimit),i!==o.effectspeed&&(o.effect_speed=o.effectspeed,delete o.effectspeed),e.extend(l,o)),a=l.container===i||l.container===t?r:e(l.container),0===l.event.indexOf("scroll")&&a.bind(l.event,(function(){return c()})),this.each((function(){var t=this,n=e(t);t.loaded=!1,n.attr("src")!==i&&!1!==n.attr("src")||n.is("img")&&n.attr("src",l.placeholder),n.one("appear",(function(){if(!this.loaded){if(l.appear){var i=s.length;l.appear.call(t,i,l)}e("<img />").bind("load",(function(){var i=n.attr("data-"+l.data_attribute),r=n.attr("data-"+l.data_srcset);n.hide(),n.is("img")?(n.attr("src",i),n.attr("srcset",r)):(n.css("background-image","url('"+i+"')"),n.show()),n[l.effect](l.effect_speed),t.loaded=!0;var o=e.grep(s,(function(e){return!e.loaded}));if(s=e(o),l.load){var a=s.length;l.load.call(t,a,l)}})).attr("src",n.attr("data-"+l.data_attribute)).attr("srcset",n.attr("data-"+l.data_srcset))}})),0!==l.event.indexOf("scroll")&&n.bind(l.event,(function(){t.loaded||n.trigger("appear")}))})),r.bind("resize",(function(){c()})),/(?:iphone|ipod|ipad).*os 5/gi.test(navigator.appVersion)&&r.bind("pageshow",(function(t){t.originalEvent&&t.originalEvent.persisted&&s.each((function(){e(this).trigger("appear")}))})),e(n).ready((function(){c()})),this},e.belowthefold=function(n,o){return(o.container===i||o.container===t?(t.innerHeight?t.innerHeight:r.height())+r.scrollTop():e(o.container).offset().top+e(o.container).height())<=e(n).offset().top-o.threshold},e.rightoffold=function(n,o){return(o.container===i||o.container===t?r.width()+r.scrollLeft():e(o.container).offset().left+e(o.container).width())<=e(n).offset().left-o.threshold},e.abovethetop=function(n,o){return(o.container===i||o.container===t?r.scrollTop():e(o.container).offset().top)>=e(n).offset().top+o.threshold+e(n).height()},e.leftofbegin=function(n,o){return(o.container===i||o.container===t?r.scrollLeft():e(o.container).offset().left)>=e(n).offset().left+o.threshold+e(n).width()},e.inviewport=function(t,n){return!(e.rightoffold(t,n)||e.leftofbegin(t,n)||e.belowthefold(t,n)||e.abovethetop(t,n))},e.extend(e.expr[":"],{"below-the-fold":function(t){return e.belowthefold(t,{threshold:0})},"above-the-top":function(t){return!e.belowthefold(t,{threshold:0})},"right-of-screen":function(t){return e.rightoffold(t,{threshold:0})},"left-of-screen":function(t){return!e.rightoffold(t,{threshold:0})},"in-viewport":function(t){return e.inviewport(t,{threshold:0})},"above-the-fold":function(t){return!e.belowthefold(t,{threshold:0})},"right-of-fold":function(t){return e.rightoffold(t,{threshold:0})},"left-of-fold":function(t){return!e.rightoffold(t,{threshold:0})}})}(jQuery,window,document)},3974:(e,t,n)=>{n(30535),n(85018),n(30046),n(90195),n(31875),n(62888),n(96153),function(e){var t=location.href.replace(/#.*/,""),n=e.localScroll=function(t){e("body").localScroll(t)};function i(t,n,i){var r=n.hash.slice(1),o=document.getElementById(r)||document.getElementsByName(r)[0];if(o){t&&t.preventDefault();var a=e(i.target);if(!(i.lock&&a.is(":animated")||i.onBefore&&!1===i.onBefore(t,o,a))){if(i.stop&&a._scrollable().stop(!0),i.hash){var s=i.offset;s=s&&s.top||s||0;var l=o.id==r?"id":"name",c=e("<a> </a>").attr(l,r).css({position:"absolute",top:e(window).scrollTop()+s,left:e(window).scrollLeft()});o[l]="",e("body").prepend(c),location=n.hash,c.remove(),o[l]=r}a.scrollTo(o,i).trigger("notify.serialScroll",[o])}}}n.defaults={duration:1e3,axis:"y",event:"click",stop:!0,target:window},e.fn.localScroll=function(r){return(r=e.extend({},n.defaults,r)).hash&&location.hash&&(r.target&&window.scrollTo(0,0),i(0,location,r)),r.lazy?this.bind(r.event,(function(t){var n=e([t.target,t.target.parentNode]).filter(o)[0];n&&i(t,n,r)})):this.find("a,area").filter(o).bind(r.event,(function(e){i(e,this,r)})).end().end();function o(){return!!this.href&&!!this.hash&&this.href.replace(this.hash,"")==t&&(!r.filter||e(this).is(r.filter))}},n.hash=function(){}}(jQuery)},78484:(e,t,n)=>{var i=n(58682);n(30535),n(93029),n(89794),n(31875),n(11074),n(59505),n(96153),n(52248),n(85018),n(62888),function(e){"use strict";var t,n,r,o;e.localtime=(t={localtime:"yyyy-MM-dd HH:mm:ss"},n=["January","February","March","April","May","June","July","August","September","October","November","December"],r=function(e){return e>=13?e-12:"0"===e?12:e},o=function(e,i){var o=e[0].toString(),a=e[1].toString(),s=e[2].toString(),l=e[3].toString(),c=e[4].toString(),u=e[5].toString(),d=e[6].toString(),f=e[7],h=f<0?"-":"+";if(f=Math.abs(f),void 0===i)for(var p in t)if(t.hasOwnProperty(p)){i=t[p];break}var m,g="",v="";for(m=0;m<i.length;m+=1)if(v+=i.charAt(m),m===i.length-1||i.charAt(m)!==i.charAt(m+1)){switch(v){case"d":g+=s;break;case"dd":g+=("0"+s).slice(-2);break;case"M":g+=a;break;case"MM":g+=("0"+a).slice(-2);break;case"MMM":g+=n[a-1].substr(0,3);break;case"MMMMM":g+=n[a-1];break;case"yy":g+=o.slice(-2);break;case"yyyy":g+=o;break;case"H":g+=l;break;case"HH":g+=("0"+l).slice(-2);break;case"h":g+=r(l);break;case"hh":g+=("0"+r(l)).slice(-2);break;case"m":g+=c;break;case"mm":g+=("0"+c).slice(-2);break;case"s":g+=u;break;case"ss":g+=("0"+u).slice(-2);break;case"S":g+=d;break;case"SS":g+=("0"+d).slice(-2);break;case"SSS":g+=("00"+d).slice(-3);break;case"a":case"tt":g+=l>=12?"PM":"AM";break;case"t":g+=l>=12?"P":"A";break;case"z":g+=h+parseInt(f/60,10);break;case"zz":g+=h+("0"+parseInt(f/60,10)).slice(-2);break;case"zzz":g+=h+("0"+parseInt(f/60,10)).slice(-2)+":"+("0"+f%60).slice(-2);break;default:g+=v}v=""}return g},{setFormat:function(e){t="object"===i(e)?e:{localtime:e}},getFormat:function(){return t},parseISOTimeString:function(t){var n=e.trim(t);return n=(n=(n=(n=n.replace(/\.\d\d\d+/,"")).replace(/-/,"/").replace(/-/,"/")).replace(/T/," ").replace(/Z/," UTC")).replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2"),new Date(n)},toUTCTime:function(e,t){return function(e,t){return o([(n=e).getUTCFullYear(),n.getUTCMonth()+1,n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds(),n.getUTCMilliseconds(),0],t);var n}(jQuery.localtime.parseISOTimeString(e),t)},toLocalTime:function(e,t){return function(e,t){return o([(n=e).getFullYear(),n.getMonth()+1,n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds(),n.getTimezoneOffset()],t);var n}(jQuery.localtime.parseISOTimeString(e),t)}}),jQuery.fn.localtime=function(e){for(var t in null==e&&(e=jQuery.localtime.getFormat()),e)if(e.hasOwnProperty(t)){var n=e[t],i=jQuery(this).find("."+t);jQuery(this).hasClass(t)&&i.add(jQuery(this)),i.each((function(){jQuery(this).is(":input")?jQuery(this).val(jQuery.localtime.toLocalTime(jQuery(this).attr("datetime"),n)):jQuery(this).text(jQuery.localtime.toLocalTime(jQuery(this).attr("datetime"),n))}))}}}(jQuery)},86599:(e,t,n)=>{n(62888),n(31875),n(44817),n(30535),n(15231),n(20857),n(75602),n(96153),function(e){var t,n="overthrow",i="undefined"==typeof console?function(){}:function(e){console.error(e)};e.easing.easeOutQuart=function(e,t,n,i,r){return-i*((t=t/r-1)*t*t*t-1)+n},e.support.transition=void 0!==(t=(document.body||document.documentElement).style).transition||void 0!==t.WebkitTransition||void 0!==t.MozTransition||void 0!==t.MsTransition||void 0!==t.OTransition;var r=function(t,n){this.$el=e(t),this.options=e.extend(!0,{},this.defaults,n),this.options.nestCloseButton?this.container='<div class="overthrow"><div class="overthrow-shield"></div><div class="overthrow-shim"></div><div class="overthrow-wrapper"><div class="overthrow-outer"><div class="overthrow-inner"><div class="overthrow-content"></div><a href="#" class="overthrow-close">Close</a></div></div></div></div>':this.container='<div class="overthrow"><div class="overthrow-shield"></div><div class="overthrow-shim"></div><div class="overthrow-wrapper"><div class="overthrow-outer"><div class="overthrow-inner"><div class="overthrow-content"></div></div></div></div><a href="#" class="overthrow-close">Close</a></div>',this.hasTransitions=e.support.transition,this.transitionDuration=200,this._init()};r.prototype={defaults:{customClass:null,afterLoad:null,youtubeEmbed:!1,disableForTouch:!1,duration:200,aspect:.65,targetAttribute:"href",nestCloseButton:!1,lazyLoad:!1},_init:function(){var t=this;t.$window=e(window),t.$document=e(document),t.$body=e("body"),t.touch=t._touchEnabled(),t.$container=e(t.container),t.$content=t.$container.find(".overthrow-content"),t.$close=t.$container.find(".overthrow-close"),t.options.customClass=t.$el.data("overthrow-class")||t.options.customClass,t.options.target=t.$el.attr(t.options.targetAttribute),t.hasTransitions&&e("html").addClass("overthrow-transitions"),t._bindings()},_bindings:function(){var e=this;e.$el.on("click.overthrow",(function(t){return e.options.disableForTouch&&e.touch?void 0:(t.preventDefault(),e.options.customClass&&e.$container.addClass(e.options.customClass),e.$body.addClass("overthrow-open"),"#"===e.options.target.substring(0,1)||"."===e.options.target.substring(0,1)?e.loadInline():e._checkImageExtensions()?"undefined"!=typeof imagesLoaded?e.loadImage():void console.warn("Overthrow requires the imagesLoaded plugin for showing images"):e.loadAjax())}))},loadInline:function(){var t=this;t.$content.html(e(""+t.options.target).html()),t.showOverthrow()},loadImage:function(){var e=this,t=e.$el.data("srcset"),n=e.$el.data("sizes"),i=e.$el.data("aspect-ratio"),r='<div class="overthrow-image-container">'+(e.options.lazyLoad?'<img srcset="'+t+'" sizes="'+n+'" alt="" class="lazyload">':'<img src="'+e.options.target+'" srcset="'+t+'" sizes="'+n+'" alt="" class="lazyload">')+"</div>";e.$content.addClass("-image").html(r),e.image={$el:e.$content.find("img")};var o=imagesLoaded(e.$content);o.on("always",(function(){var t=o.images[0];e.image.width=t.img.width,e.image.height=t.img.height,e.image.aspect=void 0!==i?i:t.img.width/t.img.height})),e.showOverthrow("image")},_checkImageExtensions:function(){var t=this.options.target.substr(this.options.target.lastIndexOf("."),4);return e.inArray(t,[".jpe",".jpg",".gif",".png"])>-1},_resizeImage:function(){var e=this;if(e.image){var t=!1;e.$content.innerWidth()/e.$content.innerHeight()>e.image.aspect&&(t=!0),t?e.$content.removeClass("-landscape").addClass("-portrait"):e.$content.removeClass("-portrait").addClass("-landscape")}},loadAjax:function(){var t=this,n=t.getVideoUrl();if(t.options.youtubeEmbed||n){if(!n)return alert("Sorry, that video link seems to be invalid."),!1;var i='<div class="overthrow-video-container"><iframe src="'+n+'" allowfullscreen  allow="autoplay; fullscreen"></iframe></div>';t.$content.html(i),t.showOverthrow()}else e.ajax({url:t.options.target,dataType:"html",success:function(e,n,i){t.$content.html(e),t.showOverthrow()},error:function(e,n,i){alert("Error: "+i),t.closeOverthrow()}})},loadNewAjaxContent:function(t,n){var i=this;e.ajax({url:t,dataType:"html",success:function(e,t,r){i.$content.html(e),n&&n(i)},error:function(e,t,n){alert("Error: "+n),i.closeOverthrow()}})},getVideoUrl:function(){var e,t=this.options.target.match(/^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/),n=this.options.target.match(/(http|https)?:\/\/(www\.)?vimeo.com\/(?:channels\/(?:\w+\/)?|groups\/([^\/]*)\/videos\/|)(\d+)(?:|\/\?)/);return t&&(e="//www.youtube.com/embed/"+t[1],-1===t.indexOf("autoplay=1")&&t.indexOf("?")>-1?e+="&rel=0&playsinline=1&autoplay=1":-1===t.indexOf("autoplay=1")&&(e+="?rel=0&playsinline=1&autoplay=1")),n&&(e="//player.vimeo.com/video/"+n[4],e+="?autoplay=1&title=0&byline=0&portrait=0"),!(!t&&!n)&&e},showOverthrow:function(t){var n=this;n.$window.height()/n.$window.width()<n.options.aspect&&n.$body.addClass("overthrow-switch-aspect"),n.$body.append(n.$container),n.$body.addClass("overthrow-enable"),n.$close.on("click",(function(e){e.preventDefault(),event.stopPropagation(),n.closeOverthrow()})),n.$container.on("click",".overthrow-wrapper",(function(t){e(t.target).hasClass("overthrow-wrapper")&&n.closeOverthrow()})),n.hasTransitions?(setTimeout((function(){n.$body.addClass("overthrow-trans-in")}),10),setTimeout((function(){n.$close.addClass("overthrow-close-active"),"image"===t&&n.image&&(n._resizeImage(),n.$content.addClass("-visible"))}),n.options.duration)):(n.$body.addClass("overthrow-show"),n.$close.addClass("overthrow-close-active")),n.$document.on("keyup",(function(e){27===e.which&&n.closeOverthrow()})),n.options.afterLoad&&n.options.afterLoad(n),n.$container.trigger("ajaxload")},_touchEnabled:function(){return"ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0},option:function(t){e.isPlainObject(t)&&(this.options=e.extend(!0,this.options,t))},closeOverthrow:function(){var e=this;e.hasTransitions?(e.$body.removeClass("overthrow-trans-in").addClass("overthrow-trans-out"),setTimeout((function(){e.$body.removeClass("overthrow-trans-out"),e.$close.removeClass("overthrow-close-active"),e.$content.removeClass("-visible -landscape -portrait").html(""),e.$body.addClass("overthrow-hide"),setTimeout((function(){e.$body.removeClass("overthrow-enable"),e.$body.removeClass("overthrow-hide"),e.$body.removeClass("overthrow-open"),e.$body.removeClass("overthrow-switch-aspect"),e.$container.remove()}),e.transitionDuration)}),e.transitionDuration)):(e.$close.removeClass("overthrow-close-active"),e.$body.removeClass("overthrow-show"),e.$content.removeClass("-visible -landscape -portrait").html(""),e.$body.addClass("overthrow-hide"),e.$body.removeClass("overthrow-enable"),e.$body.removeClass("overthrow-hide"),e.$body.removeClass("overthrow-open"),e.$body.removeClass("overthrow-switch-aspect"),e.$container.remove())}},e.fn.overthrow=function(t){if("string"==typeof t){for(var o=Array.prototype.slice.call(arguments,1),a=0,s=this.length;a<s;a++){var l=this[a],c=e.data(l,n);if(c)if(e.isFunction(c[t])&&"_"!==t.charAt(0)){var u=c[t].apply(c,o);if(void 0!==u)return u}else i("no such method '"+t+"' for "+"overthrow instance");else i("cannot call methods on overthrow prior to initialization; attempted to call '"+t+"'")}return this}return this.each((function(){var i=e.data(this,n);i?(i.option(t||{}),i._init()):(i=new r(this,t),e.data(this,n,i))}))}}(jQuery)},86951:(e,t,n)=>{n(62888),n(31875),function(e){e.fn.padme=function(t){var n=e.extend({},e.fn.padme.defaults,t);return this.each((function(){var t=e(this).data("padme-cols"),i={$group:e(this),cols:n.cols?n.cols:t};if(null!==i.cols&&i.cols>1&&(n.children?i.$items=i.$group.children(n.children).not("."+n.placeholderClass):i.$items=i.$group.children().not("."+n.placeholderClass),i.$items.length>0)){var r;r=n.placeholderEl?n.placeholderEl:i.$items.eq(0).prop("tagName"),i.placeholder="<"+r+' class="'+n.placeholderClass+'"></'+r+">",i.$group.find("."+n.placeholderClass).remove();var o=1;if(n.allowExtras){var a=i.$items.length-1;i.top=i.$items.eq(a).position().top;o=1,i.top;for(var s=!1;o<i.cols&&!s&&a>0;){a--;var l=i.$items.eq(a);l.length&&l.position().top>=i.top?o++:s=!0}}else o=i.$items.length%i.cols;!function(e,t){if(e>0){for(var n="",i=0;i<t.cols-e;i++)n+=" "+t.placeholder;t.$group.append(n)}}(o,i),n.removeOverflow&&function(t){t.$group.find("."+n.placeholderClass).each((function(){e(this).position().top>t.top&&e(this).remove()}))}(i)}}))},e.fn.padme.defaults={cols:null,children:null,placeholderEl:null,placeholderClass:"placeholder",removeOverflow:!1,allowExtras:!1}}(jQuery)},7474:(e,t,n)=>{n(21082),n(30535),n(15231),function(e){e.fn.popupWindow=function(t){if(this.length)return this.each((function(){e(this).click((function(){n(t)}))}));function n(t){e.fn.popupWindow.defaultSettings={centerBrowser:0,centerScreen:0,height:500,left:0,location:0,menubar:0,resizable:0,scrollbars:0,status:0,width:500,windowName:null,windowURL:null,top:0,toolbar:0},settings=e.extend({},e.fn.popupWindow.defaultSettings,t||{});var n,i,r="height="+settings.height+",width="+settings.width+",toolbar="+settings.toolbar+",scrollbars="+settings.scrollbars+",status="+settings.status+",resizable="+settings.resizable+",location="+settings.location+",menuBar="+settings.menubar;return settings.windowName=this.name||settings.windowName,settings.windowURL=this.href||settings.windowURL,settings.centerBrowser?(navigator.userAgent.match(/msie/i)?(n=window.screenTop-120+((document.documentElement.clientHeight+120)/2-settings.height/2),i=window.screenLeft+((document.body.offsetWidth+20)/2-settings.width/2)):(n=window.screenY+(window.outerHeight/2-settings.height/2),i=window.screenX+(window.outerWidth/2-settings.width/2)),window.open(settings.windowURL,settings.windowName,r+",left="+i+",top="+n).focus()):settings.centerScreen?(n=(screen.height-settings.height)/2,i=(screen.width-settings.width)/2,window.open(settings.windowURL,settings.windowName,r+",left="+i+",top="+n).focus()):window.open(settings.windowURL,settings.windowName,r+",left="+settings.left+",top="+settings.top).focus(),!1}n(t)}}(jQuery)},35781:(e,t,n)=>{n(62888),n(31875),n(59505),n(12566),n(30535),n(85018),n(30046),function(e){function t(e){var t=e.originalEvent.changedTouches[0],n="";switch(e.type){case"touchmove":n="mousemove";break;case"touchend":n="mouseup";break;default:return}var i=document.createEvent("MouseEvent");i.initMouseEvent(n,!0,!0,window,1,t.screenX,t.screenY,t.clientX,t.clientY,!1,!1,!1,!1,0,null),t.target.dispatchEvent(i),e.preventDefault()}e.rateit={aria:{resetLabel:"reset rating",ratingLabel:"rating"}},e.fn.rateit=function(n,i){var r=1,o={},a="init",s=function(e){return e.charAt(0).toUpperCase()+e.substr(1)};if(0==this.length)return this;var l=e.type(n);if("object"==l||void 0===n||null==n)o=e.extend({},e.fn.rateit.defaults,n);else{if("string"==l&&void 0===i)return this.data("rateit"+s(n));"string"==l&&(a="setvalue")}return this.each((function(){var l=e(this),c=function(e,t){if(null!=t){var n="aria-value"+("value"==e?"now":e),i=l.find(".rateit-range");null!=i.attr(n)&&i.attr(n,t)}return arguments[0]="rateit"+s(e),l.data.apply(l,arguments)};l.hasClass("rateit")||l.addClass("rateit");var u="rtl"!=l.css("direction"),d=function(t,n){c("value",t),c("backingfld")&&e(c("backingfld")).val(t),c("ispreset")&&(i.find(".rateit-selected").removeClass(g),c("ispreset",!1));var i=l.find(".rateit-range");i.find(".rateit-hover").hide(),i.find(".rateit-selected").width(t*c("starwidth")-c("min")*c("starwidth")).show(),l.trigger("hover",[null]).trigger("over",[null]).trigger("rating-changed",[t]),n?l.trigger("update-display",[t]):l.trigger("rated",[t])};if("setvalue"==a){if(!c("init"))throw"Can't set value before init";if("readonly"!=n||1!=i||c("readonly")||(l.find(".rateit-range").unbind(),c("wired",!1)),"value"==n&&(i=null==i?c("min"):Math.max(c("min"),Math.min(c("max"),i))),c("backingfld")){var f=e(c("backingfld"));"value"==n&&i!=f.val()&&(f.val(i),d(i)),"display"==n&&i!=f.val()&&(f.val(i),d(i,!0)),"min"==n&&f[0].min&&(f[0].min=i),"max"==n&&f[0].max&&(f[0].max=i),"step"==n&&f[0].step&&(f[0].step=i)}c(n,i)}if(!c("init")){if(c("min",c("min")||o.min),c("max",c("max")||o.max),c("step",c("step")||o.step),c("readonly",void 0!==c("readonly")?c("readonly"):o.readonly),c("resetable",void 0!==c("resetable")?c("resetable"):o.resetable),c("backingfld",c("backingfld")||o.backingfld),c("starwidth",c("starwidth")||o.starwidth),c("starheight",c("starheight")||o.starheight),c("value",Math.max(c("min"),Math.min(c("max"),c("value")||o.value||o.min))),c("ispreset",void 0!==c("ispreset")?c("ispreset"):o.ispreset),c("backingfld")){f=e(c("backingfld"));c("value",f.hide().val()),(f.attr("disabled")||f.attr("readonly"))&&c("readonly",!0),"INPUT"==f[0].nodeName&&("range"!=f[0].type&&"text"!=f[0].type||(c("min",parseInt(f.attr("min"))||c("min")),c("max",parseInt(f.attr("max"))||c("max")),c("step",parseInt(f.attr("step"))||c("step")))),"SELECT"==f[0].nodeName&&f[0].options.length>1&&(c("min",Number(f[0].options[0].value)),c("max",Number(f[0].options[f[0].length-1].value)),c("step",Number(f[0].options[1].value)-Number(f[0].options[0].value)))}var h="DIV"==l[0].nodeName?"div":"span";r++;var p='<button id="rateit-reset-{{index}}" class="rateit-reset" aria-label="'+e.rateit.aria.resetLabel+'" aria-controls="rateit-range-{{index}}"></button><{{element}} id="rateit-range-{{index}}" class="rateit-range" tabindex="0" role="slider" aria-label="'+e.rateit.aria.ratingLabel+'" aria-owns="rateit-reset-{{index}}" aria-valuemin="'+c("min")+'" aria-valuemax="'+c("max")+'" aria-valuenow="'+c("value")+'"><{{element}} class="rateit-selected" style="height:'+c("starheight")+'px"></{{element}}><{{element}} class="rateit-hover" style="height:'+c("starheight")+'px"></{{element}}></{{element}}>';l.append(p.replace(/{{index}}/gi,r).replace(/{{element}}/gi,h)),u||(l.find(".rateit-reset").css("float","right"),l.find(".rateit-selected").addClass("rateit-selected-rtl"),l.find(".rateit-hover").addClass("rateit-hover-rtl")),c("init",!0)}var m=l.find(".rateit-range");m.width(c("starwidth")*(c("max")-c("min"))).height(c("starheight"));var g="rateit-preset"+(u?"":"-rtl");if(c("ispreset")?l.find(".rateit-selected").addClass(g):l.find(".rateit-selected").removeClass(g),null!=c("value")){var v=(c("value")-c("min"))*c("starwidth");l.find(".rateit-selected").width(v)}var y=l.find(".rateit-reset");!0!==y.data("wired")&&y.bind("click",(function(t){t.preventDefault(),y.blur(),c("value",c("min")),m.find(".rateit-hover").hide().width(0),m.find(".rateit-selected").width(0).show(),c("backingfld")&&e(c("backingfld")).val(c("min")),l.trigger("reset")})).data("wired",!0);var b=function(t,n){var i=(n.changedTouches?n.changedTouches[0].pageX:n.pageX)-e(t).offset().left;return u||(i=m.width()-i),i>m.width()&&(i=m.width()),i<0&&(i=0),v=Math.ceil(i/c("starwidth")*(1/c("step")))};c("readonly")?y.hide():(c("resetable")||y.hide(),c("wired")||(m.bind("touchmove touchend",t),m.mousemove((function(e){!function(e){var t=e*c("starwidth")*c("step"),n=m.find(".rateit-hover");if(n.data("width")!=t){m.find(".rateit-selected").hide(),n.width(t).show().data("width",t);var i=[e*c("step")+c("min")];l.trigger("hover",i).trigger("over",i)}}(b(this,e))})),m.mouseleave((function(e){m.find(".rateit-hover").hide().width(0).data("width",""),l.trigger("hover",[null]).trigger("over",[null]),m.find(".rateit-selected").show()})),m.mouseup((function(e){var t=b(this,e)*c("step")+c("min");d(t)})),m.keyup((function(e){38!=e.which&&e.which!=(u?39:37)||d(Math.min(c("value")+c("step"),c("max"))),40!=e.which&&e.which!=(u?37:39)||d(Math.max(c("value")-c("step"),c("min")))})),c("wired",!0)),c("resetable")&&y.show()),m.attr("aria-readonly",c("readonly"))}))},e.fn.rateit.defaults={min:0,max:5,step:.5,starwidth:16,starheight:16,readonly:!1,resetable:!0,ispreset:!1}}(jQuery)},68839:(e,t,n)=>{var i=n(87995),r=n(59496);n(30535),n(96339),function(e,t,n,o){e.fn.react=function(a){a=e.extend({componentClassName:"componentClass"},a),this.each((function(){var s=e(this),l=s.data(a.componentClassName);if(l){var c,u=function(e,t){var n,i=t.split("."),r=e;for(n=0;n<i.length&&r!==o&&null!==r;n++){if("constructor"===i[n])throw exception("Illegal attempt to access 'constructor' keyword for property: "+t);if(r&&r.constructor===r)throw exception("Illegal attempt to access Function constructor for property: "+t);r=r[i[n]]}if(n===i.length){if(r&&r.constructor===r)throw exception("Illegal attempt to access Function constructor for property: "+t);return r}return o}(t,l);if(u)c="function"==typeof u.propsFrom?u.propsFrom(this):s.data(),i.render(r.createElement(u,c),this);else n!==o&&n.warn("jquery.react: Component class not found: "+l)}else n!==o&&n.warn("jquery.react: No component class data found for",this)}))}}(jQuery,window,console)},38647:(e,t,n)=>{var i,r,o,a=n(58682);n(30535),n(86381),n(96339),n(59505),n(96153),n(98942),function(s){"use strict";r=[n(13372)],void 0===(o="function"==typeof(i=function(e){var t=e.scrollTo=function(t,n,i){return e(window).scrollTo(t,n,i)};function n(t){return!t.nodeName||-1!==e.inArray(t.nodeName.toLowerCase(),["iframe","#document","html","body"])}function i(t){return e.isFunction(t)||e.isPlainObject(t)?t:{top:t,left:t}}return t.defaults={axis:"xy",duration:0,limit:!0},e.fn.scrollTo=function(r,o,s){"object"===a(o)&&(s=o,o=0),"function"==typeof s&&(s={onAfter:s}),"max"===r&&(r=9e9),s=e.extend({},t.defaults,s),o=o||s.duration;var l=s.queue&&s.axis.length>1;return l&&(o/=2),s.offset=i(s.offset),s.over=i(s.over),this.each((function(){if(null!==r){var c,u=n(this),d=u?this.contentWindow||window:this,f=e(d),h=r,p={};switch(a(h)){case"number":case"string":if(/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(h)){h=i(h);break}h=u?e(h):e(h,d);case"object":if(0===h.length)return;(h.is||h.style)&&(c=(h=e(h)).offset())}var m=e.isFunction(s.offset)&&s.offset(d,h)||s.offset;e.each(s.axis.split(""),(function(e,n){var i="x"===n?"Left":"Top",r=i.toLowerCase(),o="scroll"+i,a=f[o](),v=t.max(d,n);if(c)p[o]=c[r]+(u?0:a-f.offset()[r]),s.margin&&(p[o]-=parseInt(h.css("margin"+i),10)||0,p[o]-=parseInt(h.css("border"+i+"Width"),10)||0),p[o]+=m[r]||0,s.over[r]&&(p[o]+=h["x"===n?"width":"height"]()*s.over[r]);else{var y=h[r];p[o]=y.slice&&"%"===y.slice(-1)?parseFloat(y)/100*v:y}s.limit&&/^\d+$/.test(p[o])&&(p[o]=p[o]<=0?0:Math.min(p[o],v)),!e&&s.axis.length>1&&(a===p[o]?p={}:l&&(g(s.onAfterFirst),p={}))})),g(s.onAfter)}function g(t){var n=e.extend({},s,{queue:!0,duration:o,complete:t&&function(){t.call(d,h,s)}});f.animate(p,n)}}))},t.max=function(t,i){var r="x"===i?"Width":"Height",o="scroll"+r;if(!n(t))return t[o]-e(t)[r.toLowerCase()]();var a="client"+r,s=t.ownerDocument||t.document,l=s.documentElement,c=s.body;return Math.max(l[o],c[o])-Math.min(l[a],c[a])},e.Tween.propHooks.scrollLeft=e.Tween.propHooks.scrollTop={get:function(t){return e(t.elem)[t.prop]()},set:function(t){var n=this.get(t);if(t.options.interrupt&&t._last&&t._last!==n)return e(t.elem).stop();var i=Math.round(t.now);n!==i&&(e(t.elem)[t.prop](i),t._last=this.get(t))}},t})?i.apply(t,r):i)||(e.exports=o)}()},85748:(e,t,n)=>{n(30046),n(68576),n(30535),n(85018),function(e){var t=function(t){var n=[],i=t.dir&&"left"==t.dir?"scrollLeft":"scrollTop";return this.each((function(){if(this!=document&&this!=window){var t=e(this);t[i]()>0?n.push(this):(t[i](1),t[i]()>0&&n.push(this),t[i](0))}})),n.length||this.each((function(e){"BODY"===this.nodeName&&(n=[this])})),"first"===t.el&&n.length>1&&(n=[n[0]]),n};document;function n(e){return e.replace(/(:|\.)/g,"\\$1")}e.fn.extend({scrollable:function(e){var n=t.call(this,{dir:e});return this.pushStack(n)},firstScrollable:function(e){var n=t.call(this,{el:"first",dir:e});return this.pushStack(n)},smoothScroll:function(t){t=t||{};var i=e.extend({},e.fn.smoothScroll.defaults,t),r=e.smoothScroll.filterPath(location.pathname);return this.unbind("click.smoothscroll").bind("click.smoothscroll",(function(t){var o=this,a=e(this),s=i.exclude,l=i.excludeWithin,c=0,u=0,d=!0,f={},h=location.hostname===o.hostname||!o.hostname,p=i.scrollTarget||(e.smoothScroll.filterPath(o.pathname)||r)===r,m=n(o.hash);if(i.scrollTarget||h&&p&&m){for(;d&&c<s.length;)a.is(n(s[c++]))&&(d=!1);for(;d&&u<l.length;)a.closest(l[u++]).length&&(d=!1)}else d=!1;d&&(t.preventDefault(),e.extend(f,i,{scrollTarget:i.scrollTarget||m,link:o}),e.smoothScroll(f))})),this}}),e.smoothScroll=function(t,n){var i,r,o,a,s=0,l="offset",c="scrollTop",u={},d={};"number"==typeof t?(i=e.fn.smoothScroll.defaults,o=t):((i=e.extend({},e.fn.smoothScroll.defaults,t||{})).scrollElement&&(l="position","static"==i.scrollElement.css("position")&&i.scrollElement.css("position","relative")),o=n||e(i.scrollTarget)[l]()&&e(i.scrollTarget)[l]()[i.direction]||0),c="left"==(i=e.extend({link:null},i)).direction?"scrollLeft":c,i.scrollElement?s=(r=i.scrollElement)[c]():r=e("html, body").firstScrollable(),u[c]=o+s+i.offset,i.beforeScroll.call(r,i),"auto"===(a=i.speed)&&(a=u[c]||r.scrollTop(),a/=i.autoCoefficent),d={duration:a,easing:i.easing,complete:function(){i.afterScroll.call(i.link,i)}},i.step&&(d.step=i.step),r.length?r.stop().animate(u,d):i.afterScroll.call(i.link,i)},e.smoothScroll.version="1.4.6",e.smoothScroll.filterPath=function(e){return e.replace(/^\//,"").replace(/(index|default).[a-zA-Z]{3,4}$/,"").replace(/\/$/,"")},e.fn.smoothScroll.defaults={exclude:[],excludeWithin:[],offset:0,direction:"top",scrollElement:null,scrollTarget:null,beforeScroll:function(){},afterScroll:function(){},easing:"swing",speed:400,autoCoefficent:2}}(jQuery)},6769:function(e,t,n){n(59505),n(75602),function(){var e,t;e=this.jQuery||window.jQuery,t=e(window),e.fn.stick_in_parent=function(n){var i,r,o,a,s,l,c,u,d,f,h,p;for(null==n&&(n={}),p=n.sticky_class,l=n.inner_scrolling,h=n.recalc_every,f=n.parent,d=n.offset_top,u=n.spacer,o=n.bottoming,null==d&&(d=0),null==f&&(f=void 0),null==l&&(l=!0),null==p&&(p="is_stuck"),i=e(document),null==o&&(o=!0),a=function(n,r,a,s,c,m,g,v){var y,b,w,x,_,k,C,T,S,E,$,O;if(!n.data("sticky_kit")){if(n.data("sticky_kit",!0),_=i.height(),C=n.parent(),null!=f&&(C=C.closest(f)),!C.length)throw"failed to find stick parent";if(w=!1,y=!1,($=null!=u?u&&n.closest(u):e("<div />"))&&$.css("position",n.css("position")),(T=function(){var e,t,o;if(!v)return _=i.height(),e=parseInt(C.css("border-top-width"),10),t=parseInt(C.css("padding-top"),10),r=parseInt(C.css("padding-bottom"),10),a=C.offset().top+e+t,s=C.height(),w&&(w=!1,y=!1,null==u&&(n.insertAfter($),$.detach()),n.css({position:"",top:"",width:"",bottom:""}).removeClass(p),o=!0),c=n.offset().top-(parseInt(n.css("margin-top"),10)||0)-d,m=n.outerHeight(!0),g=n.css("float"),$&&$.css({width:n.outerWidth(!0),height:m,display:n.css("display"),"vertical-align":n.css("vertical-align"),float:g}),o?O():void 0})(),m!==s)return x=void 0,k=d,E=h,O=function(){var e,f,b,S,O,P;if(!v)return b=!1,null!=E&&(E-=1)<=0&&(E=h,T(),b=!0),b||i.height()===_||(T(),b=!0),S=t.scrollTop(),null!=x&&(f=S-x),x=S,w?(o&&(O=S+m+k>s+a,y&&!O&&(y=!1,n.css({position:"fixed",bottom:"",top:k}).trigger("sticky_kit:unbottom"))),S<c&&(w=!1,k=d,null==u&&("left"!==g&&"right"!==g||n.insertAfter($),$.detach()),e={position:"",width:"",top:""},n.css(e).removeClass(p).trigger("sticky_kit:unstick")),l&&(P=t.height(),m+d>P&&(y||(k-=f,k=Math.max(P-m,k),k=Math.min(d,k),w&&n.css({top:k+"px"}))))):S>c&&(w=!0,(e={position:"fixed",top:k}).width="border-box"===n.css("box-sizing")?n.outerWidth()+"px":n.width()+"px",n.css(e).addClass(p),null==u&&(n.after($),"left"!==g&&"right"!==g||$.append(n)),n.trigger("sticky_kit:stick")),w&&o&&(null==O&&(O=S+m+k>s+a),!y&&O)?(y=!0,"static"===C.css("position")&&C.css({position:"relative"}),n.css({position:"absolute",bottom:r,top:"auto"}).trigger("sticky_kit:bottom")):void 0},S=function(){return T(),O()},b=function(){if(v=!0,t.off("touchmove",O),t.off("scroll",O),t.off("resize",S),e(document.body).off("sticky_kit:recalc",S),n.off("sticky_kit:detach",b),n.removeData("sticky_kit"),n.css({position:"",bottom:"",top:"",width:""}),C.position("position",""),w)return null==u&&("left"!==g&&"right"!==g||n.insertAfter($),$.remove()),n.removeClass(p)},t.on("touchmove",O),t.on("scroll",O),t.on("resize",S),e(document.body).on("sticky_kit:recalc",S),n.on("sticky_kit:detach",b),setTimeout(O,0)}},s=0,c=this.length;s<c;s++)r=this[s],a(e(r));return this}}.call(this)},25858:(e,t,n)=>{n(75602),function(e){e.fn.ellipsis=function(t){var n=document.documentElement.style;return"textOverflow"in n||"OTextOverflow"in n?this:this.each((function(){var n=e(this);if("hidden"==n.css("overflow")){var i=n.html(),r=(n.width(),e(this.cloneNode(!0)).hide().css({position:"absolute",width:"auto",overflow:"visible","max-width":"inherit"}));n.after(r);for(var o=i;o.length>0&&r.width()>n.width();)o=o.substr(0,o.length-1),r.html(o+"...");if(n.html(r.html()),r.remove(),1==t){var a=n.width();setInterval((function(){n.width()!=a&&(a=n.width(),n.html(i),n.ellipsis())}),200)}}}))}}(jQuery)},81493:(e,t,n)=>{n(89794),n(30535),n(85018),n(52248),n(93418),n(15231),n(75602),function(e){e.timeago=function(n,r){return"string"==typeof n?n=e.timeago.parse(n):!n instanceof Date&&(n=e.timeago.datetime(n)),i(n,e.extend(!0,{},t.settings,r))};var t=e.timeago;function n(){var n=function(n){var i=(n=e(n)).data("timeago")||{};if(!i.datetime){var r=t.datetimeAttribute(n);i=e.extend(!0,{settings:t.settings},i,{datetime:t.parse(r),isDateOnly:t.isDateOnly(r)}),n.data("timeago",i);var o=e.trim(n.text());o.length>0&&n.attr("title",o)}return i}(this);if(!isNaN(n.datetime)){var r=i(n.datetime,n.isDateOnly,n.settings);e(this).text(r),e(this).attr("title",r)}return this}function i(e,n,i){return t.inWords(function(e,t){var n=new Date;t&&(n.setHours(0,0,0,0),e.setHours(0,0,0,0));return n.getTime()-e.getTime()}(e,n),n,e,i)}function r(e){var t=new Date,n=new Date(e.getTime());return t.setHours(0,0,0,0),n.setHours(0,0,0,0),Math.round((t-n)/864e5)}e.extend(e.timeago,{settings:{refreshMillis:6e4,allowFuture:!1,strings:{prefixAgo:null,prefixFromNow:null,suffixAgo:"",suffixFromNow:"",seconds:"just now",minute:"1m",minutes:"%dm",hour:"1h",hours:"%dh",today:"today",yesterday:"yesterday",day:"1d",days:"%dd",month:"1mo",months:"%dmo",year:"1y",years:"%dy",numbers:[]}},inWords:function(t,n,i,o){var a=o.strings,s=a.prefixAgo,l=a.suffixAgo;o.allowFuture&&(t<0&&(s=a.prefixFromNow,l=a.suffixFromNow),t=Math.abs(t));var c,u=t/1e3,d=u/60,f=d/60,h=r(i),p=h/365;function m(n,i){var r=e.isFunction(n)?n(i,t):n,o=a.numbers&&a.numbers[i]||i;return r.replace(/%d/i,o)}if(n){if(0==h)return a.today;if(1==h)return a.yesterday}else if(f>=24&&function(e){return 1==r(e)}(i))return a.yesterday;return c=u<45&&m(a.seconds,Math.round(u))||u<90&&m(a.minute,1)||d<45&&m(a.minutes,Math.round(d))||d<90&&m(a.hour,1)||f<24&&m(a.hours,Math.round(f))||h<30&&m(a.days,Math.floor(h))||h<60&&m(a.month,1)||h<365&&m(a.months,Math.floor(h/30))||p<2&&m(a.year,1)||m(a.years,Math.floor(p)),e.trim([s,c,l].join(" "))},parse:function(t){var n=e.trim(t);return n=(n=(n=(n=n.replace(/\.\d+/,"")).replace(/-/,"/").replace(/-/,"/")).replace(/T/," ").replace(/Z/," UTC")).replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2"),new Date(n)},isDateOnly:function(t){var n=e.trim(t);return result=null!==n.match(/^\d\d\d\d-\d\d-\d\d$/),result},datetimeAttribute:function(t){return"time"===e(t).get(0).tagName.toLowerCase()?e(t).attr("datetime"):e(t).attr("title")}}),e.fn.timeago=function(i){var r=this,o=e.extend(!0,{},t.settings,i);return r.data("timeago",{settings:o}),r.each(n),o.refreshMillis>0&&setInterval((function(){r.each(n)}),o.refreshMillis),r},document.createElement("abbr"),document.createElement("time")}(jQuery)},36637:(e,t,n)=>{n(41479),n(82395),n(30535),n(86381),n(93418),n(96339),n(85018),n(52248),n(20857),n(90195),n(31875),function(e,t){var n,i=e.fn.domManip,r="_tmplitem",o=/^[^<]*(<[\w\W]+>)[^>]*$|\{\{\! /,a={},s={},l={key:0,data:{}},c=0,u=0,d=[];function f(t,n,i,r){var o={data:r||0===r||!1===r?r:n?n.data:{},_wrap:n?n._wrap:null,tmpl:null,parent:n||null,nodes:[],calls:b,nest:w,wrap:x,html:_,update:k};return t&&e.extend(o,t,{nodes:[],parent:n}),i&&(o.tmpl=i,o._ctnt=o._ctnt||o.tmpl(e,o),o.key=++c,(d.length?s:a)[c]=o),o}function h(t,n,i){var r,o=i?e.map(i,(function(e){return"string"==typeof e?t.key?e.replace(/(<\w+)(?=[\s>])(?![^>]*_tmplitem)([^>]*)/g,'$1 _tmplitem="'+t.key+'" $2'):e:h(e,t,e._ctnt)})):t;return n?o:((o=o.join("")).replace(/^\s*([^<\s][^<]*)?(<[\w\W]+>)([^>]*[^>\s])?\s*$/,(function(t,n,i,o){y(r=e(i).get()),n&&(r=p(n).concat(r)),o&&(r=r.concat(p(o)))})),r||p(o))}function p(t){var n=document.createElement("div");return n.innerHTML=t,e.makeArray(n.childNodes)}function m(t){return new Function("jQuery","$item","var $=jQuery,call,__=[],$data=$item.data;with($data){__.push('"+e.trim(t).replace(/([\\'])/g,"\\$1").replace(/[\r\t\n]/g," ").replace(/\$\{([^\}]*)\}/g,"{{= $1}}").replace(/\{\{(\/?)(\w+|.)(?:\(((?:[^\}]|\}(?!\}))*?)?\))?(?:\s+(.*?)?)?(\(((?:[^\}]|\}(?!\}))*?)\))?\s*\}\}/g,(function(t,n,i,r,o,a,s){var l,c,u,d=e.tmpl.tag[i];if(!d)throw"Unknown template tag: "+i;return l=d._default||[],a&&!/\w$/.test(o)&&(o+=a,a=""),o?(o=v(o),s=s?","+v(s)+")":a?")":"",c=a?o.indexOf(".")>-1?o+v(a):"("+o+").call($item"+s:o,u=a?c:"(typeof("+o+")==='function'?("+o+").call($item):("+o+"))"):u=c=l.$1||"null",r=v(r),"');"+d[n?"close":"open"].split("$notnull_1").join(o?"typeof("+o+")!=='undefined' && ("+o+")!=null":"true").split("$1a").join(u).split("$1").join(c).split("$2").join(r||l.$2||"")+"__.push('"}))+"');}return __;")}function g(t,n){t._wrap=h(t,!0,e.isArray(n)?n:[o.test(n)?n:e(n).html()]).join("")}function v(e){return e?e.replace(/\\'/g,"'").replace(/\\\\/g,"\\"):null}function y(t){var n,i,o,l,d,h="_"+u,p={};for(o=0,l=t.length;o<l;o++)if(1===(n=t[o]).nodeType){for(d=(i=n.getElementsByTagName("*")).length-1;d>=0;d--)m(i[d]);m(n)}function m(t){var n,i,o,l,d=t;if(l=t.getAttribute(r)){for(;d.parentNode&&1===(d=d.parentNode).nodeType&&!(n=d.getAttribute(r)););n!==l&&(d=d.parentNode?11===d.nodeType?0:d.getAttribute(r)||0:0,(o=a[l])||((o=f(o=s[l],a[d]||s[d])).key=++c,a[c]=o),u&&m(l)),t.removeAttribute(r)}else u&&(o=e.data(t,"tmplItem"))&&(m(o.key),a[o.key]=o,d=(d=e.data(t.parentNode,"tmplItem"))?d.key:0);if(o){for(i=o;i&&i.key!=d;)i.nodes.push(t),i=i.parent;delete o._ctnt,delete o._wrap,e.data(t,"tmplItem",o)}function m(e){o=p[e+=h]=p[e]||f(o,a[o.parent.key+h]||o.parent)}}}function b(e,t,n,i){if(!e)return d.pop();d.push({_:e,tmpl:t,item:this,data:n,options:i})}function w(t,n,i){return e.tmpl(e.template(t),n,i,this)}function x(t,n){var i=t.options||{};return i.wrapped=n,e.tmpl(e.template(t.tmpl),t.data,i,t.item)}function _(t,n){var i=this._wrap;return e.map(e(e.isArray(i)?i.join(""):i).filter(t||"*"),(function(e){return n?e.innerText||e.textContent:e.outerHTML||(t=e,(i=document.createElement("div")).appendChild(t.cloneNode(!0)),i.innerHTML);var t,i}))}function k(){var t=this.nodes;e.tmpl(null,null,null,this).insertBefore(t[0]),e(t).remove()}e.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(t,i){e.fn[t]=function(r){var o,s,l,c,d=[],f=e(r),h=1===this.length&&this[0].parentNode;if(n=a||{},h&&11===h.nodeType&&1===h.childNodes.length&&1===f.length)f[i](this[0]),d=this;else{for(s=0,l=f.length;s<l;s++)u=s,o=(s>0?this.clone(!0):this).get(),e(f[s])[i](o),d=d.concat(o);u=0,d=this.pushStack(d,t,f.selector)}return c=n,n=null,e.tmpl.complete(c),d}})),e.fn.extend({tmpl:function(t,n,i){return e.tmpl(this[0],t,n,i)},tmplItem:function(){return e.tmplItem(this[0])},template:function(t){return e.template(t,this[0])},domManip:function(t,r,o,s){if(t[0]&&e.isArray(t[0])){for(var l,c=e.makeArray(arguments),d=t[0],f=d.length,h=0;h<f&&!(l=e.data(d[h++],"tmplItem")););l&&u&&(c[2]=function(t){e.tmpl.afterManip(this,t,o)}),i.apply(this,c)}else i.apply(this,arguments);return u=0,n||e.tmpl.complete(a),this}}),e.extend({tmpl:function(t,n,i,r){var o,c=!r;if(c)r=l,t=e.template[t]||e.template(null,t),s={};else if(!t)return t=r.tmpl,a[r.key]=r,r.nodes=[],r.wrapped&&g(r,r.wrapped),e(h(r,null,r.tmpl(e,r)));return t?("function"==typeof n&&(n=n.call(r||{})),i&&i.wrapped&&g(i,i.wrapped),o=e.isArray(n)?e.map(n,(function(e){return e?f(i,r,t,e):null})):[f(i,r,t,n)],c?e(h(r,null,o)):o):[]},tmplItem:function(t){var n;for(t instanceof e&&(t=t[0]);t&&1===t.nodeType&&!(n=e.data(t,"tmplItem"))&&(t=t.parentNode););return n||l},template:function(t,n){return n?("string"==typeof n?n=m(n):n instanceof e&&(n=n[0]||{}),n.nodeType&&(n=e.data(n,"tmpl")||e.data(n,"tmpl",m(n.innerHTML))),"string"==typeof t?e.template[t]=n:n):t?"string"!=typeof t?e.template(null,t):e.template[t]||e.template(null,o.test(t)?t:e(t)):null},encode:function(e){return(""+e).split("<").join("&lt;").split(">").join("&gt;").split('"').join("&#34;").split("'").join("&#39;")}}),e.extend(e.tmpl,{tag:{tmpl:{_default:{$2:"null"},open:"if($notnull_1){__=__.concat($item.nest($1,$2));}"},wrap:{_default:{$2:"null"},open:"$item.calls(__,$1,$2);__=[];",close:"call=$item.calls();__=call._.concat($item.wrap(call,__));"},each:{_default:{$2:"$index, $value"},open:"if($notnull_1){$.each($1a,function($2){with(this){",close:"}});}"},if:{open:"if(($notnull_1) && $1a){",close:"}"},else:{_default:{$1:"true"},open:"}else if(($notnull_1) && $1a){"},html:{open:"if($notnull_1){__.push($1a);}"},"=":{_default:{$1:"$data"},open:"if($notnull_1){__.push($.encode($1a));}"},"!":{open:""}},complete:function(e){a={}},afterManip:function(t,n,i){var r=11===n.nodeType?e.makeArray(n.childNodes):1===n.nodeType?[n]:[];i.call(t,n),y(r),u++}})}(jQuery)},56339:()=>{!function(e){e.fn.touchwipe=function(t){var n={min_move_x:20,min_move_y:20,wipeLeft:function(){},wipeRight:function(){},wipeUp:function(){},wipeDown:function(){},preventDefaultEvents:!0};return t&&e.extend(n,t),this.each((function(){var e,t,i=!1;function r(){this.removeEventListener("touchmove",o),e=null,i=!1}function o(o){if(n.preventDefaultEvents&&o.preventDefault(),i){var a=o.touches[0].pageX,s=o.touches[0].pageY,l=e-a,c=t-s;Math.abs(l)>=n.min_move_x?(r(),l>0?n.wipeLeft():n.wipeRight()):Math.abs(c)>=n.min_move_y&&(r(),c>0?n.wipeDown():n.wipeUp())}}"ontouchstart"in document.documentElement&&this.addEventListener("touchstart",(function(n){1==n.touches.length&&(e=n.touches[0].pageX,t=n.touches[0].pageY,i=!0,this.addEventListener("touchmove",o,!1))}),!1)})),this}}(jQuery)},42195:(e,t,n)=>{n(75602),n(98942),n(20857),n(21082),n(19003),n(55792),n(96153),function(){"use strict";var e=0,t={};function n(i){if(!i)throw new Error("No options passed to Waypoint constructor");if(!i.element)throw new Error("No element option passed to Waypoint constructor");if(!i.handler)throw new Error("No handler option passed to Waypoint constructor");this.key="waypoint-"+e,this.options=n.Adapter.extend({},n.defaults,i),this.element=this.options.element,this.adapter=new n.Adapter(this.element),this.callback=i.handler,this.axis=this.options.horizontal?"horizontal":"vertical",this.enabled=this.options.enabled,this.triggerPoint=null,this.group=n.Group.findOrCreate({name:this.options.group,axis:this.axis}),this.context=n.Context.findOrCreateByElement(this.options.context),n.offsetAliases[this.options.offset]&&(this.options.offset=n.offsetAliases[this.options.offset]),this.group.add(this),this.context.add(this),t[this.key]=this,e+=1}n.prototype.queueTrigger=function(e){this.group.queueTrigger(this,e)},n.prototype.trigger=function(e){this.enabled&&this.callback&&this.callback.apply(this,e)},n.prototype.destroy=function(){this.context.remove(this),this.group.remove(this),delete t[this.key]},n.prototype.disable=function(){return this.enabled=!1,this},n.prototype.enable=function(){return this.context.refresh(),this.enabled=!0,this},n.prototype.next=function(){return this.group.next(this)},n.prototype.previous=function(){return this.group.previous(this)},n.invokeAll=function(e){var n=[];for(var i in t)n.push(t[i]);for(var r=0,o=n.length;r<o;r++)n[r][e]()},n.destroyAll=function(){n.invokeAll("destroy")},n.disableAll=function(){n.invokeAll("disable")},n.enableAll=function(){for(var e in n.Context.refreshAll(),t)t[e].enabled=!0;return this},n.refreshAll=function(){n.Context.refreshAll()},n.viewportHeight=function(){return window.innerHeight||document.documentElement.clientHeight},n.viewportWidth=function(){return document.documentElement.clientWidth},n.adapters=[],n.defaults={context:window,continuous:!0,enabled:!0,group:"default",horizontal:!1,offset:0},n.offsetAliases={"bottom-in-view":function(){return this.context.innerHeight()-this.adapter.outerHeight()},"right-in-view":function(){return this.context.innerWidth()-this.adapter.outerWidth()}},window.Waypoint=n}(),function(){"use strict";function e(e){window.setTimeout(e,1e3/60)}var t=0,n={},i=window.Waypoint,r=window.onload;function o(e){this.element=e,this.Adapter=i.Adapter,this.adapter=new this.Adapter(e),this.key="waypoint-context-"+t,this.didScroll=!1,this.didResize=!1,this.oldScroll={x:this.adapter.scrollLeft(),y:this.adapter.scrollTop()},this.waypoints={vertical:{},horizontal:{}},e.waypointContextKey=this.key,n[e.waypointContextKey]=this,t+=1,i.windowContext||(i.windowContext=!0,i.windowContext=new o(window)),this.createThrottledScrollHandler(),this.createThrottledResizeHandler()}o.prototype.add=function(e){var t=e.options.horizontal?"horizontal":"vertical";this.waypoints[t][e.key]=e,this.refresh()},o.prototype.checkEmpty=function(){var e=this.Adapter.isEmptyObject(this.waypoints.horizontal),t=this.Adapter.isEmptyObject(this.waypoints.vertical),i=this.element==this.element.window;e&&t&&!i&&(this.adapter.off(".waypoints"),delete n[this.key])},o.prototype.createThrottledResizeHandler=function(){var e=this;function t(){e.handleResize(),e.didResize=!1}this.adapter.on("resize.waypoints",(function(){e.didResize||(e.didResize=!0,i.requestAnimationFrame(t))}))},o.prototype.createThrottledScrollHandler=function(){var e=this;function t(){e.handleScroll(),e.didScroll=!1}this.adapter.on("scroll.waypoints",(function(){e.didScroll&&!i.isTouch||(e.didScroll=!0,i.requestAnimationFrame(t))}))},o.prototype.handleResize=function(){i.Context.refreshAll()},o.prototype.handleScroll=function(){var e={},t={horizontal:{newScroll:this.adapter.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.adapter.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}};for(var n in t){var i=t[n],r=i.newScroll>i.oldScroll?i.forward:i.backward;for(var o in this.waypoints[n]){var a=this.waypoints[n][o];if(null!==a.triggerPoint){var s=i.oldScroll<a.triggerPoint,l=i.newScroll>=a.triggerPoint;(s&&l||!s&&!l)&&(a.queueTrigger(r),e[a.group.id]=a.group)}}}for(var c in e)e[c].flushTriggers();this.oldScroll={x:t.horizontal.newScroll,y:t.vertical.newScroll}},o.prototype.innerHeight=function(){return this.element==this.element.window?i.viewportHeight():this.adapter.innerHeight()},o.prototype.remove=function(e){delete this.waypoints[e.axis][e.key],this.checkEmpty()},o.prototype.innerWidth=function(){return this.element==this.element.window?i.viewportWidth():this.adapter.innerWidth()},o.prototype.destroy=function(){var e=[];for(var t in this.waypoints)for(var n in this.waypoints[t])e.push(this.waypoints[t][n]);for(var i=0,r=e.length;i<r;i++)e[i].destroy()},o.prototype.refresh=function(){var e,t=this.element==this.element.window,n=t?void 0:this.adapter.offset(),r={};for(var o in this.handleScroll(),e={horizontal:{contextOffset:t?0:n.left,contextScroll:t?0:this.oldScroll.x,contextDimension:this.innerWidth(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:t?0:n.top,contextScroll:t?0:this.oldScroll.y,contextDimension:this.innerHeight(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}}){var a=e[o];for(var s in this.waypoints[o]){var l,c,u,d,f=this.waypoints[o][s],h=f.options.offset,p=f.triggerPoint,m=0,g=null==p;f.element!==f.element.window&&(m=f.adapter.offset()[a.offsetProp]),"function"==typeof h?h=h.apply(f):"string"==typeof h&&(h=parseFloat(h),f.options.offset.indexOf("%")>-1&&(h=Math.ceil(a.contextDimension*h/100))),l=a.contextScroll-a.contextOffset,f.triggerPoint=Math.floor(m+l-h),c=p<a.oldScroll,u=f.triggerPoint>=a.oldScroll,d=!c&&!u,!g&&(c&&u)?(f.queueTrigger(a.backward),r[f.group.id]=f.group):(!g&&d||g&&a.oldScroll>=f.triggerPoint)&&(f.queueTrigger(a.forward),r[f.group.id]=f.group)}}return i.requestAnimationFrame((function(){for(var e in r)r[e].flushTriggers()})),this},o.findOrCreateByElement=function(e){return o.findByElement(e)||new o(e)},o.refreshAll=function(){for(var e in n)n[e].refresh()},o.findByElement=function(e){return n[e.waypointContextKey]},window.onload=function(){r&&r(),o.refreshAll()},i.requestAnimationFrame=function(t){(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||e).call(window,t)},i.Context=o}(),function(){"use strict";function e(e,t){return e.triggerPoint-t.triggerPoint}function t(e,t){return t.triggerPoint-e.triggerPoint}var n={vertical:{},horizontal:{}},i=window.Waypoint;function r(e){this.name=e.name,this.axis=e.axis,this.id=this.name+"-"+this.axis,this.waypoints=[],this.clearTriggerQueues(),n[this.axis][this.name]=this}r.prototype.add=function(e){this.waypoints.push(e)},r.prototype.clearTriggerQueues=function(){this.triggerQueues={up:[],down:[],left:[],right:[]}},r.prototype.flushTriggers=function(){for(var n in this.triggerQueues){var i=this.triggerQueues[n],r="up"===n||"left"===n;i.sort(r?t:e);for(var o=0,a=i.length;o<a;o+=1){var s=i[o];(s.options.continuous||o===i.length-1)&&s.trigger([n])}}this.clearTriggerQueues()},r.prototype.next=function(t){this.waypoints.sort(e);var n=i.Adapter.inArray(t,this.waypoints);return n===this.waypoints.length-1?null:this.waypoints[n+1]},r.prototype.previous=function(t){this.waypoints.sort(e);var n=i.Adapter.inArray(t,this.waypoints);return n?this.waypoints[n-1]:null},r.prototype.queueTrigger=function(e,t){this.triggerQueues[t].push(e)},r.prototype.remove=function(e){var t=i.Adapter.inArray(e,this.waypoints);t>-1&&this.waypoints.splice(t,1)},r.prototype.first=function(){return this.waypoints[0]},r.prototype.last=function(){return this.waypoints[this.waypoints.length-1]},r.findOrCreate=function(e){return n[e.axis][e.name]||new r(e)},i.Group=r}(),function(){"use strict";var e=window.jQuery,t=window.Waypoint;function n(t){this.$element=e(t)}e.each(["innerHeight","innerWidth","off","offset","on","outerHeight","outerWidth","scrollLeft","scrollTop"],(function(e,t){n.prototype[t]=function(){var e=Array.prototype.slice.call(arguments);return this.$element[t].apply(this.$element,e)}})),e.each(["extend","inArray","isEmptyObject"],(function(t,i){n[i]=e[i]})),t.adapters.push({name:"jquery",Adapter:n}),t.Adapter=n}(),function(){"use strict";var e=window.Waypoint;function t(t){return function(){var n=[],i=arguments[0];return t.isFunction(arguments[0])&&((i=t.extend({},arguments[1])).handler=arguments[0]),this.each((function(){var r=t.extend({},i,{element:this});"string"==typeof r.context&&(r.context=t(this).closest(r.context)[0]),n.push(new e(r))})),n}}window.jQuery&&(window.jQuery.fn.waypoint=t(window.jQuery)),window.Zepto&&(window.Zepto.fn.waypoint=t(window.Zepto))}()},64237:()=>{!function(){"use strict";function e(){}var t=window.Waypoint;function n(e){this.options=t.Adapter.extend({},n.defaults,e),this.axis=this.options.horizontal?"horizontal":"vertical",this.waypoints=[],this.element=this.options.element,this.createWaypoints()}n.prototype.createWaypoints=function(){for(var e={vertical:[{down:"enter",up:"exited",offset:"100%"},{down:"entered",up:"exit",offset:"bottom-in-view"},{down:"exit",up:"entered",offset:0},{down:"exited",up:"enter",offset:function(){return-this.adapter.outerHeight()}}],horizontal:[{right:"enter",left:"exited",offset:"100%"},{right:"entered",left:"exit",offset:"right-in-view"},{right:"exit",left:"entered",offset:0},{right:"exited",left:"enter",offset:function(){return-this.adapter.outerWidth()}}]},t=0,n=e[this.axis].length;t<n;t++){var i=e[this.axis][t];this.createWaypoint(i)}},n.prototype.createWaypoint=function(e){var n=this;this.waypoints.push(new t({context:this.options.context,element:this.options.element,enabled:this.options.enabled,handler:function(e){return function(t){n.options[e[t]].call(n,t)}}(e),offset:e.offset,horizontal:this.options.horizontal}))},n.prototype.destroy=function(){for(var e=0,t=this.waypoints.length;e<t;e++)this.waypoints[e].destroy();this.waypoints=[]},n.prototype.disable=function(){for(var e=0,t=this.waypoints.length;e<t;e++)this.waypoints[e].disable()},n.prototype.enable=function(){for(var e=0,t=this.waypoints.length;e<t;e++)this.waypoints[e].enable()},n.defaults={context:window,enabled:!0,enter:e,entered:e,exit:e,exited:e},t.Inview=n}()},9841:(e,t,n)=>{n(30046),n(11588),n(96153),function(e){var t="bgAnimate",n="undefined"==typeof console?function(){}:function(e){console.error(e)},i=function(t,n){this.$el=e(t),this.options=e.extend(!0,{},this.defaults,n),this._init()};i.prototype={defaults:{myCallback:null,width:1400,height:788,frames:null,reverse:!1},_init:function(){var t=this;t.$window=e(window),t.$document=e(document),null!==t.options.frames&&(t.animation=t.sprite(),window.requestAnimationFrame(t._animationLoop.bind(this)))},_animationLoop:function(){var e=this;window.requestAnimationFrame(e._animationLoop.bind(this)),e.animation.update(),e.animation.render()},_bindings:function(){},sprite:function(e){var t=this,n={},i=0,r=0,o=t.options.frames,a=t.options.frames.length||1,s=t.options.height,l=t.options.reverse,c=!1;return n.update=function(){(r+=1)>o[i]&&(r=0,i<a-1?c?0==i?(c=!1,i+=1):i-=1:i+=1:l?(c=!0,i-=1):i=0)},n.render=function(){t.$el.css("background-position","0 "+-i*s+"px")},n},refresh:function(){},destroy:function(){this.$window.off("resize.bgAnimate",this._resizeDelegate)},option:function(t){e.isPlainObject(t)&&(this.options=e.extend(!0,this.options,t))}},e.fn.bgAnimate=function(r){if("string"==typeof r){for(var o=Array.prototype.slice.call(arguments,1),a=0,s=this.length;a<s;a++){var l=this[a],c=e.data(l,t);if(c)if(e.isFunction(c[r])&&"_"!==r.charAt(0)){var u=c[r].apply(c,o);if(void 0!==u)return u}else n("no such method '"+r+"' for "+"bgAnimate instance");else n("cannot call methods on bgAnimate prior to initialization; attempted to call '"+r+"'")}return this}return this.each((function(){var n=e.data(this,t);n?(n.option(r||{}),n._init()):(n=new i(this,r),e.data(this,t,n))}))}}(jQuery)},17228:(e,t,n)=>{n(30046),n(75602),n(62888),n(31875),function(e){e.fn.popmenu=function(t){var n;return e(this).each((function(){var t=e(this),i=null,r=!1,o="#"+t.data("popmenu-id");function a(o){var a=t.data("popmenu-direction");function s(e){r=!1,!function(e){return!!c(e,t)||!!o.is(":visible")&&!!c(e,o)}(e)?l(!0):l()}function l(e){setTimeout((function(){o.hide().removeClass("popmenu-n").removeClass("popmenu-s").removeClass("popmenu-w").removeClass("popmenu-e")}),50)}function c(e,t){if(null==t||0===t.length)return!1;var n=t.offset(),i=n.left,r=n.top,o=n.left+t.outerWidth(),a=n.top+t.outerHeight();return!(e.pageX<=i||e.pageX>=o||e.pageY<=r||e.pageY>=a)}n="n"==a||"s"==a||"w"==a?{direction:a}:{direction:"e"},o.append('<span class="popmenu-arrow ir"></span>').appendTo(e("body")),t.data("opts",n),t.bind("click",(function(n){n.preventDefault(),o.is(":visible")?l():(i&&(clearTimeout(i),i=null),function(){var n,i,r,a,s=t.offset(),l=t.data("opts").direction;o.addClass("popmenu-"+l);var c=t.outerWidth(),u=t.outerHeight(),d=o.outerWidth(),f=o.outerHeight(),h=e(window).outerWidth(),p=e(window).outerHeight();"e"!=l&&"w"!=l||(n="auto",i=p-s.top-f+8);"e"==l&&(a=s.left+c,r="auto");"w"==l&&(a="auto",r=h-s.left);"n"!=l&&"s"!=l||(r="auto",a=s.left+c/2-d/2);"n"==l&&(n="auto",i=p-s.top);"s"==l&&(n=s.top+u,i="auto");o.css({left:a,right:r,top:n,bottom:i}).show()}())})),t.mouseleave((function(){null===i&&(i=setTimeout((function(){i=null,r||l()}),500))})),o.mouseenter((function(){r=!0,i&&(clearTimeout(i),i=null)})),o.mouseleave(s),o.find("a,.popmenu-close").click(s)}if(e(o).length)a(e(o));else var s=1,l=setInterval((function(){s>30?(clearInterval(l),console.error("lb.popmenu.js : ERROR - Unable to find the popmenu-id "+o)):e(o).length&&(clearInterval(l),a(e(o))),s+=1}),100)}))}}(jQuery)},62305:(e,t,n)=>{n(62888),n(31875),n(75602),n(30535),n(85018),n(52248),function(e){e.fn.selectmenu=function(t){return e(this).each((function(){var t=e(this),n=t.find("label"),i=n.data("heading")?n.data("heading")+'<i class="ir s icon"></i>':function(e){var t=e.text(),n=t.replace("subscription","sub").substring(0,19);t!==n&&(n=n.trim()+"…");return e.html().replace(t,n)}(n),r=t.find("ul.smenu-menu").prepend(e('<li class="smenu-selected">'+i+"</li>")),o=null,a=!1,s=!1;e(this).children("label").hasClass("-lower")&&r.children(".smenu-selected").addClass("-lower"),e(this).children("label").hasClass("-bold")&&r.children(".smenu-selected").addClass("-bold"),r.appendTo(e("body"));var l=n.find(".js-smenu-label");function c(){var e=t.offset();r.css({left:e.left,top:e.top}).show()}function u(e){a=!1,d()}function d(){setTimeout((function(){r.hide()}),50)}r.on("ajax-success",".ajax-click-action",(function(t,n,i,r){if(n&&n.messages&&bxd.showMessages(n.result?"success":"error",n.messages),n&&n.result){var o=e(this).parent(),a=o.siblings(".smenu-subselected");if(1==a.length){a.removeClass("smenu-subselected"),o.addClass("smenu-subselected");var s=o.data("label");s&&l.text(s)}}})),window.isTouchOnly?(t.on("click",(function(){e(".smenu-menu:visible").hide(),s=!0,o&&(clearTimeout(o),o=null),setTimeout((function(){s&&c()}),500)})),r.find(".smenu-selected").click(u)):(t.mouseenter((function(){s=!0,o&&(clearTimeout(o),o=null),setTimeout((function(){s&&c()}),500)})),t.mouseleave((function(){s=!1,null===o&&(o=setTimeout((function(){o=null,a||d()}),500))}))),r.mouseenter((function(){a=!0,o&&(clearTimeout(o),o=null)})),r.mouseleave(u),r.find("a").click(u)}))}}(jQuery)},69115:(e,t,n)=>{var i=n(58682);n(89794),function(e){var t={init:function(t){return this.each((function(){var n=e(this),i=n.data("spinner"),r=["-webkit-","-moz-","-ms-","-o-",""];function o(){return"lb"+(new Date).getTime()+Math.floor(1001*Math.random())}function a(e){for(var t="",n=0;n<r.length;n++)t+=r[n]+e+";";return t}function s(){var t=o(),s=e("<"+i.element+' id="'+t+'-spinner" class="lb-spinner" style="width:'+i.size+"px; height:"+i.size+'px;"><'+i.element+' class="lb-spinner-body"></'+i.element+"></"+i.element+">"),l="";l="#"+t+"-spinner {display: inline-block; width: "+i.size+"px; height: "+i.size+"px; } #"+t+"-spinner .lb-spinner-body { width: "+i.size+"px; height: "+i.size+"px; display: block; "+a("border-radius: "+i.size/2+"px")+a("animation: spinY 2s infinite")+a("animation-timing-function: cubic-bezier(.3,.64,.69,.36)")+"}";for(var c=0;c<r.length;c++)l+="@"+r[c]+"keyframes spinY { 0%\t\t{ "+r[c]+"transform: rotateY(90deg);  background: #209CE4; } 33.3%\t{ "+r[c]+"transform: rotateY(270deg); background: #209CE4; } 33.31%\t{ "+r[c]+"transform: rotateY(90deg);  background: #EE7000; } 66.6%\t{ "+r[c]+"transform: rotateY(270deg); background: #EE7000; } 66.61%\t{ "+r[c]+"transform: rotateY(90deg);  background: #00AC20; } 100%\t{ "+r[c]+"transform: rotateY(270deg); background: #00AC20; } }";e("<style>").prop("type","text/css").attr("id",t+"-css").html(l).appendTo("head"),"append"==i.insertion?n.data("lb-spinner-id",t).append(s):"prepend"==i.insertion&&n.data("lb-spinner-id",t).prepend(s)}return void 0===i&&(i=e.extend({},e.fn.lbSpinner.defaults,t),n.data("spinner",i)),"undefined"==typeof Modernizr||Modernizr.cssanimations?s():function(){if(""==i.fallback)a="Requires fallback image URL",window.console&&window.console.log&&window.console.log(a);else{var t=o(),r=e("<"+i.element+' id="'+t+'-spinner" class="lb-spinner" style="width:'+i.size+"px; height:"+i.size+'px;"><img src="'+i.fallback+'" width="'+i.size+'" height="'+i.size+'" class="lb-spinner-fallback" /></'+i.element+">");"append"==i.insertion?n.data("lb-spinner-id",t).append(r):"prepend"==i.insertion&&n.data("lb-spinner-id",t).prepend(r)}var a}(),this}))},stop:function(){return this.each((function(){var t=e(this),n=t.data("lb-spinner-id");e("#"+n+"-css").remove(),e("#"+n+"-spinner").remove(),t.removeData("spinner")}))}};e.fn.lbSpinner=function(n){var r=arguments[0];if(t[r])r=t[r];else{if("object"!=i(r)&&r)return e.error("Method "+r+" does not exist on jQuery.pluginName"),this;r=t.init}return r.apply(this,arguments)},e.fn.lbSpinner.defaults={size:16,fallback:"",insertion:"append",element:"div"}}(jQuery)},59822:()=>{},27135:(e,t,n)=>{n(30535),n(86381),n(31875),n(63208),n(59505),n(62888),n(96339),n(19003),function(e,t){e.widget("ui.draggable",e.ui.mouse,{version:"1.10.3",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(t){var n=this.options;return!(this.helper||n.disabled||e(t.target).closest(".ui-resizable-handle").length>0)&&(this.handle=this._getHandle(t),!!this.handle&&(e(!0===n.iframeFix?"iframe":n.iframeFix).each((function(){e("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(e(this).offset()).appendTo("body")})),!0))},_mouseStart:function(t){var n=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),this._setContainment(),!1===this._trigger("start",t)?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_mouseDrag:function(t,n){if("fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),!n){var i=this._uiHash();if(!1===this._trigger("drag",t,i))return this._mouseUp({}),!1;this.position=i.position}return this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var n=this,i=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(i=e.ui.ddmanager.drop(this,t)),this.dropped&&(i=this.dropped,this.dropped=!1),!("original"===this.options.helper&&!e.contains(this.element[0].ownerDocument,this.element[0]))&&("invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||!0===this.options.revert||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),(function(){!1!==n._trigger("stop",t)&&n._clear()})):!1!==this._trigger("stop",t)&&this._clear(),!1)},_mouseUp:function(t){return e("div.ui-draggable-iframeFix").each((function(){this.parentNode.removeChild(this)})),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){return!this.options.handle||!!e(t.target).closest(this.element.find(this.options.handle)).length},_createHelper:function(t){var n=this.options,i=e.isFunction(n.helper)?e(n.helper.apply(this.element[0],[t])):"clone"===n.helper?this.element.clone().removeAttr("id"):this.element;return i.parents("body").length||i.appendTo("parent"===n.appendTo?this.element[0].parentNode:n.appendTo),i[0]===this.element[0]||/(fixed|absolute)/.test(i.css("position"))||i.css("position","absolute"),i},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.element.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,i,r=this.options;r.containment?"window"!==r.containment?"document"!==r.containment?r.containment.constructor!==Array?("parent"===r.containment&&(r.containment=this.helper[0].parentNode),(i=(n=e(r.containment))[0])&&(t="hidden"!==n.css("overflow"),this.containment=[(parseInt(n.css("borderLeftWidth"),10)||0)+(parseInt(n.css("paddingLeft"),10)||0),(parseInt(n.css("borderTopWidth"),10)||0)+(parseInt(n.css("paddingTop"),10)||0),(t?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(n.css("borderRightWidth"),10)||0)-(parseInt(n.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(n.css("borderBottomWidth"),10)||0)-(parseInt(n.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=n)):this.containment=r.containment:this.containment=[0,0,e(document).width()-this.helperProportions.width-this.margins.left,(e(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=null},_convertPositionTo:function(t,n){n||(n=this.position);var i="absolute"===t?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent;return this.offset.scroll||(this.offset.scroll={top:r.scrollTop(),left:r.scrollLeft()}),{top:n.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top)*i,left:n.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)*i}},_generatePosition:function(t){var n,i,r,o,a=this.options,s="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=t.pageX,c=t.pageY;return this.offset.scroll||(this.offset.scroll={top:s.scrollTop(),left:s.scrollLeft()}),this.originalPosition&&(this.containment&&(this.relative_container?(i=this.relative_container.offset(),n=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]):n=this.containment,t.pageX-this.offset.click.left<n[0]&&(l=n[0]+this.offset.click.left),t.pageY-this.offset.click.top<n[1]&&(c=n[1]+this.offset.click.top),t.pageX-this.offset.click.left>n[2]&&(l=n[2]+this.offset.click.left),t.pageY-this.offset.click.top>n[3]&&(c=n[3]+this.offset.click.top)),a.grid&&(r=a.grid[1]?this.originalPageY+Math.round((c-this.originalPageY)/a.grid[1])*a.grid[1]:this.originalPageY,c=n?r-this.offset.click.top>=n[1]||r-this.offset.click.top>n[3]?r:r-this.offset.click.top>=n[1]?r-a.grid[1]:r+a.grid[1]:r,o=a.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/a.grid[0])*a.grid[0]:this.originalPageX,l=n?o-this.offset.click.left>=n[0]||o-this.offset.click.left>n[2]?o:o-this.offset.click.left>=n[0]?o-a.grid[0]:o+a.grid[0]:o)),{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(t,n,i){return i=i||this._uiHash(),e.ui.plugin.call(this,t,[n,i]),"drag"===t&&(this.positionAbs=this._convertPositionTo("absolute")),e.Widget.prototype._trigger.call(this,t,n,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,n){var i=e(this).data("ui-draggable"),r=i.options,o=e.extend({},n,{item:i.element});i.sortables=[],e(r.connectToSortable).each((function(){var n=e.data(this,"ui-sortable");n&&!n.options.disabled&&(i.sortables.push({instance:n,shouldRevert:n.options.revert}),n.refreshPositions(),n._trigger("activate",t,o))}))},stop:function(t,n){var i=e(this).data("ui-draggable"),r=e.extend({},n,{item:i.element});e.each(i.sortables,(function(){this.instance.isOver?(this.instance.isOver=0,i.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(t),this.instance.options.helper=this.instance.options._helper,"original"===i.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",t,r))}))},drag:function(t,n){var i=e(this).data("ui-draggable"),r=this;e.each(i.sortables,(function(){var o=!1,a=this;this.instance.positionAbs=i.positionAbs,this.instance.helperProportions=i.helperProportions,this.instance.offset.click=i.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(o=!0,e.each(i.sortables,(function(){return this.instance.positionAbs=i.positionAbs,this.instance.helperProportions=i.helperProportions,this.instance.offset.click=i.offset.click,this!==a&&this.instance._intersectsWith(this.instance.containerCache)&&e.contains(a.instance.element[0],this.instance.element[0])&&(o=!1),o}))),o?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=e(r).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return n.helper[0]},t.target=this.instance.currentItem[0],this.instance._mouseCapture(t,!0),this.instance._mouseStart(t,!0,!0),this.instance.offset.click.top=i.offset.click.top,this.instance.offset.click.left=i.offset.click.left,this.instance.offset.parent.left-=i.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=i.offset.parent.top-this.instance.offset.parent.top,i._trigger("toSortable",t),i.dropped=this.instance.element,i.currentItem=i.element,this.instance.fromOutside=i),this.instance.currentItem&&this.instance._mouseDrag(t)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",t,this.instance._uiHash(this.instance)),this.instance._mouseStop(t,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),i._trigger("fromSortable",t),i.dropped=!1)}))}}),e.ui.plugin.add("draggable","cursor",{start:function(){var t=e("body"),n=e(this).data("ui-draggable").options;t.css("cursor")&&(n._cursor=t.css("cursor")),t.css("cursor",n.cursor)},stop:function(){var t=e(this).data("ui-draggable").options;t._cursor&&e("body").css("cursor",t._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,n){var i=e(n.helper),r=e(this).data("ui-draggable").options;i.css("opacity")&&(r._opacity=i.css("opacity")),i.css("opacity",r.opacity)},stop:function(t,n){var i=e(this).data("ui-draggable").options;i._opacity&&e(n.helper).css("opacity",i._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(){var t=e(this).data("ui-draggable");t.scrollParent[0]!==document&&"HTML"!==t.scrollParent[0].tagName&&(t.overflowOffset=t.scrollParent.offset())},drag:function(t){var n=e(this).data("ui-draggable"),i=n.options,r=!1;n.scrollParent[0]!==document&&"HTML"!==n.scrollParent[0].tagName?(i.axis&&"x"===i.axis||(n.overflowOffset.top+n.scrollParent[0].offsetHeight-t.pageY<i.scrollSensitivity?n.scrollParent[0].scrollTop=r=n.scrollParent[0].scrollTop+i.scrollSpeed:t.pageY-n.overflowOffset.top<i.scrollSensitivity&&(n.scrollParent[0].scrollTop=r=n.scrollParent[0].scrollTop-i.scrollSpeed)),i.axis&&"y"===i.axis||(n.overflowOffset.left+n.scrollParent[0].offsetWidth-t.pageX<i.scrollSensitivity?n.scrollParent[0].scrollLeft=r=n.scrollParent[0].scrollLeft+i.scrollSpeed:t.pageX-n.overflowOffset.left<i.scrollSensitivity&&(n.scrollParent[0].scrollLeft=r=n.scrollParent[0].scrollLeft-i.scrollSpeed))):(i.axis&&"x"===i.axis||(t.pageY-e(document).scrollTop()<i.scrollSensitivity?r=e(document).scrollTop(e(document).scrollTop()-i.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<i.scrollSensitivity&&(r=e(document).scrollTop(e(document).scrollTop()+i.scrollSpeed))),i.axis&&"y"===i.axis||(t.pageX-e(document).scrollLeft()<i.scrollSensitivity?r=e(document).scrollLeft(e(document).scrollLeft()-i.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<i.scrollSensitivity&&(r=e(document).scrollLeft(e(document).scrollLeft()+i.scrollSpeed)))),!1!==r&&e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(n,t)}}),e.ui.plugin.add("draggable","snap",{start:function(){var t=e(this).data("ui-draggable"),n=t.options;t.snapElements=[],e(n.snap.constructor!==String?n.snap.items||":data(ui-draggable)":n.snap).each((function(){var n=e(this),i=n.offset();this!==t.element[0]&&t.snapElements.push({item:this,width:n.outerWidth(),height:n.outerHeight(),top:i.top,left:i.left})}))},drag:function(t,n){var i,r,o,a,s,l,c,u,d,f,h=e(this).data("ui-draggable"),p=h.options,m=p.snapTolerance,g=n.offset.left,v=g+h.helperProportions.width,y=n.offset.top,b=y+h.helperProportions.height;for(d=h.snapElements.length-1;d>=0;d--)l=(s=h.snapElements[d].left)+h.snapElements[d].width,u=(c=h.snapElements[d].top)+h.snapElements[d].height,v<s-m||g>l+m||b<c-m||y>u+m||!e.contains(h.snapElements[d].item.ownerDocument,h.snapElements[d].item)?(h.snapElements[d].snapping&&h.options.snap.release&&h.options.snap.release.call(h.element,t,e.extend(h._uiHash(),{snapItem:h.snapElements[d].item})),h.snapElements[d].snapping=!1):("inner"!==p.snapMode&&(i=Math.abs(c-b)<=m,r=Math.abs(u-y)<=m,o=Math.abs(s-v)<=m,a=Math.abs(l-g)<=m,i&&(n.position.top=h._convertPositionTo("relative",{top:c-h.helperProportions.height,left:0}).top-h.margins.top),r&&(n.position.top=h._convertPositionTo("relative",{top:u,left:0}).top-h.margins.top),o&&(n.position.left=h._convertPositionTo("relative",{top:0,left:s-h.helperProportions.width}).left-h.margins.left),a&&(n.position.left=h._convertPositionTo("relative",{top:0,left:l}).left-h.margins.left)),f=i||r||o||a,"outer"!==p.snapMode&&(i=Math.abs(c-y)<=m,r=Math.abs(u-b)<=m,o=Math.abs(s-g)<=m,a=Math.abs(l-v)<=m,i&&(n.position.top=h._convertPositionTo("relative",{top:c,left:0}).top-h.margins.top),r&&(n.position.top=h._convertPositionTo("relative",{top:u-h.helperProportions.height,left:0}).top-h.margins.top),o&&(n.position.left=h._convertPositionTo("relative",{top:0,left:s}).left-h.margins.left),a&&(n.position.left=h._convertPositionTo("relative",{top:0,left:l-h.helperProportions.width}).left-h.margins.left)),!h.snapElements[d].snapping&&(i||r||o||a||f)&&h.options.snap.snap&&h.options.snap.snap.call(h.element,t,e.extend(h._uiHash(),{snapItem:h.snapElements[d].item})),h.snapElements[d].snapping=i||r||o||a||f)}}),e.ui.plugin.add("draggable","stack",{start:function(){var t,n=this.data("ui-draggable").options,i=e.makeArray(e(n.stack)).sort((function(t,n){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(n).css("zIndex"),10)||0)}));i.length&&(t=parseInt(e(i[0]).css("zIndex"),10)||0,e(i).each((function(n){e(this).css("zIndex",t+n)})),this.css("zIndex",t+i.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,n){var i=e(n.helper),r=e(this).data("ui-draggable").options;i.css("zIndex")&&(r._zIndex=i.css("zIndex")),i.css("zIndex",r.zIndex)},stop:function(t,n){var i=e(this).data("ui-draggable").options;i._zIndex&&e(n.helper).css("zIndex",i._zIndex)}})}(jQuery)},34181:(e,t,n)=>{n(55792),n(62888),n(31875),n(96153),n(30046),n(90195),function(e,t){function n(e,t,n){return e>t&&e<t+n}e.widget("ui.droppable",{version:"1.10.3",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t=this.options,n=t.accept;this.isover=!1,this.isout=!0,this.accept=e.isFunction(n)?n:function(e){return e.is(n)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},e.ui.ddmanager.droppables[t.scope]=e.ui.ddmanager.droppables[t.scope]||[],e.ui.ddmanager.droppables[t.scope].push(this),t.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var t=0,n=e.ui.ddmanager.droppables[this.options.scope];t<n.length;t++)n[t]===this&&n.splice(t,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(t,n){"accept"===t&&(this.accept=e.isFunction(n)?n:function(e){return e.is(n)}),e.Widget.prototype._setOption.apply(this,arguments)},_activate:function(t){var n=e.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),n&&this._trigger("activate",t,this.ui(n))},_deactivate:function(t){var n=e.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),n&&this._trigger("deactivate",t,this.ui(n))},_over:function(t){var n=e.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(n)))},_out:function(t){var n=e.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(n)))},_drop:function(t,n){var i=n||e.ui.ddmanager.current,r=!1;return!(!i||(i.currentItem||i.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each((function(){var t=e.data(this,"ui-droppable");if(t.options.greedy&&!t.options.disabled&&t.options.scope===i.options.scope&&t.accept.call(t.element[0],i.currentItem||i.element)&&e.ui.intersect(i,e.extend(t,{offset:t.element.offset()}),t.options.tolerance))return r=!0,!1})),!r&&(!!this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(i)),this.element)))},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}}}),e.ui.intersect=function(e,t,i){if(!t.offset)return!1;var r,o=(e.positionAbs||e.position.absolute).left,a=o+e.helperProportions.width,s=(e.positionAbs||e.position.absolute).top,l=s+e.helperProportions.height,c=t.offset.left,u=c+t.proportions.width,d=t.offset.top,f=d+t.proportions.height;switch(i){case"fit":return c<=o&&a<=u&&d<=s&&l<=f;case"intersect":return c<o+e.helperProportions.width/2&&a-e.helperProportions.width/2<u&&d<s+e.helperProportions.height/2&&l-e.helperProportions.height/2<f;case"pointer":return r=(e.positionAbs||e.position.absolute).left+(e.clickOffset||e.offset.click).left,n((e.positionAbs||e.position.absolute).top+(e.clickOffset||e.offset.click).top,d,t.proportions.height)&&n(r,c,t.proportions.width);case"touch":return(s>=d&&s<=f||l>=d&&l<=f||s<d&&l>f)&&(o>=c&&o<=u||a>=c&&a<=u||o<c&&a>u);default:return!1}},e.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(t,n){var i,r,o=e.ui.ddmanager.droppables[t.options.scope]||[],a=n?n.type:null,s=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();e:for(i=0;i<o.length;i++)if(!(o[i].options.disabled||t&&!o[i].accept.call(o[i].element[0],t.currentItem||t.element))){for(r=0;r<s.length;r++)if(s[r]===o[i].element[0]){o[i].proportions.height=0;continue e}o[i].visible="none"!==o[i].element.css("display"),o[i].visible&&("mousedown"===a&&o[i]._activate.call(o[i],n),o[i].offset=o[i].element.offset(),o[i].proportions={width:o[i].element[0].offsetWidth,height:o[i].element[0].offsetHeight})}},drop:function(t,n){var i=!1;return e.each((e.ui.ddmanager.droppables[t.options.scope]||[]).slice(),(function(){this.options&&(!this.options.disabled&&this.visible&&e.ui.intersect(t,this,this.options.tolerance)&&(i=this._drop.call(this,n)||i),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,n)))})),i},dragStart:function(t,n){t.element.parentsUntil("body").bind("scroll.droppable",(function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,n)}))},drag:function(t,n){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,n),e.each(e.ui.ddmanager.droppables[t.options.scope]||[],(function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var i,r,o,a=e.ui.intersect(t,this,this.options.tolerance),s=!a&&this.isover?"isout":a&&!this.isover?"isover":null;s&&(this.options.greedy&&(r=this.options.scope,(o=this.element.parents(":data(ui-droppable)").filter((function(){return e.data(this,"ui-droppable").options.scope===r}))).length&&((i=e.data(o[0],"ui-droppable")).greedyChild="isover"===s)),i&&"isover"===s&&(i.isover=!1,i.isout=!0,i._out.call(i,n)),this[s]=!0,this["isout"===s?"isover":"isout"]=!1,this["isover"===s?"_over":"_out"].call(this,n),i&&"isout"===s&&(i.isout=!1,i.isover=!0,i._over.call(i,n)))}}))},dragStop:function(t,n){t.element.parentsUntil("body").unbind("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,n)}}}(jQuery)},94686:(e,t,n)=>{n(30535),n(86381),n(62888),n(31875),n(63208),n(59505),n(15231),n(93418),n(96339),function(e,t){function n(e,t,n){return e>t&&e<t+n}function i(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))}e.widget("ui.sortable",e.ui.mouse,{version:"1.10.3",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var e=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=!!this.items.length&&("x"===e.axis||i(this.items[0].item)),this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_setOption:function(t,n){"disabled"===t?(this.options[t]=n,this.widget().toggleClass("ui-sortable-disabled",!!n)):e.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(t,n){var i=null,r=!1,o=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(t),e(t.target).parents().each((function(){if(e.data(this,o.widgetName+"-item")===o)return i=e(this),!1})),e.data(t.target,o.widgetName+"-item")===o&&(i=e(t.target)),!!i&&(!(this.options.handle&&!n&&(e(this.options.handle,i).find("*").addBack().each((function(){this===t.target&&(r=!0)})),!r))&&(this.currentItem=i,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(t,n,i){var r,o,a=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),a.containment&&this._setContainment(),a.cursor&&"auto"!==a.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",a.cursor),this.storedStylesheet=e("<style>*{ cursor: "+a.cursor+" !important; }</style>").appendTo(o)),a.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",a.opacity)),a.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",a.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!i)for(r=this.containers.length-1;r>=0;r--)this.containers[r]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!a.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var n,i,r,o,a=this.options,s=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<a.scrollSensitivity?this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop+a.scrollSpeed:t.pageY-this.overflowOffset.top<a.scrollSensitivity&&(this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop-a.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<a.scrollSensitivity?this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft+a.scrollSpeed:t.pageX-this.overflowOffset.left<a.scrollSensitivity&&(this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft-a.scrollSpeed)):(t.pageY-e(document).scrollTop()<a.scrollSensitivity?s=e(document).scrollTop(e(document).scrollTop()-a.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<a.scrollSensitivity&&(s=e(document).scrollTop(e(document).scrollTop()+a.scrollSpeed)),t.pageX-e(document).scrollLeft()<a.scrollSensitivity?s=e(document).scrollLeft(e(document).scrollLeft()-a.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<a.scrollSensitivity&&(s=e(document).scrollLeft(e(document).scrollLeft()+a.scrollSpeed))),!1!==s&&e.ui.ddmanager&&!a.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),n=this.items.length-1;n>=0;n--)if(r=(i=this.items[n]).item[0],(o=this._intersectsWithPointer(i))&&i.instance===this.currentContainer&&!(r===this.currentItem[0]||this.placeholder[1===o?"next":"prev"]()[0]===r||e.contains(this.placeholder[0],r)||"semi-dynamic"===this.options.type&&e.contains(this.element[0],r))){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(i))break;this._rearrange(t,i),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,n){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var i=this,r=this.placeholder.offset(),o=this.options.axis,a={};o&&"x"!==o||(a.left=r.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(a.top=r.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,e(this.helper).animate(a,parseInt(this.options.revert,10)||500,(function(){i._clear(t)}))}else this._clear(t,n);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var n=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},e(n).each((function(){var n=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);n&&i.push((t.key||n[1]+"[]")+"="+(t.key&&t.expression?n[1]:n[2]))})),!i.length&&t.key&&i.push(t.key+"="),i.join("&")},toArray:function(t){var n=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},n.each((function(){i.push(e(t.item||this).attr(t.attribute||"id")||"")})),i},_intersectsWith:function(e){var t=this.positionAbs.left,n=t+this.helperProportions.width,i=this.positionAbs.top,r=i+this.helperProportions.height,o=e.left,a=o+e.width,s=e.top,l=s+e.height,c=this.offset.click.top,u=this.offset.click.left,d="x"===this.options.axis||i+c>s&&i+c<l,f="y"===this.options.axis||t+u>o&&t+u<a,h=d&&f;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?h:o<t+this.helperProportions.width/2&&n-this.helperProportions.width/2<a&&s<i+this.helperProportions.height/2&&r-this.helperProportions.height/2<l},_intersectsWithPointer:function(e){var t="x"===this.options.axis||n(this.positionAbs.top+this.offset.click.top,e.top,e.height),i="y"===this.options.axis||n(this.positionAbs.left+this.offset.click.left,e.left,e.width),r=t&&i,o=this._getDragVerticalDirection(),a=this._getDragHorizontalDirection();return!!r&&(this.floating?a&&"right"===a||"down"===o?2:1:o&&("down"===o?2:1))},_intersectsWithSides:function(e){var t=n(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),i=n(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),r=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return this.floating&&o?"right"===o&&i||"left"===o&&!i:r&&("down"===r&&t||"up"===r&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){var n,i,r,o,a=[],s=[],l=this._connectWith();if(l&&t)for(n=l.length-1;n>=0;n--)for(i=(r=e(l[n])).length-1;i>=0;i--)(o=e.data(r[i],this.widgetFullName))&&o!==this&&!o.options.disabled&&s.push([e.isFunction(o.options.items)?o.options.items.call(o.element):e(o.options.items,o.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),o]);for(s.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),n=s.length-1;n>=0;n--)s[n][0].each((function(){a.push(this)}));return e(a)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,(function(e){for(var n=0;n<t.length;n++)if(t[n]===e.item[0])return!1;return!0}))},_refreshItems:function(t){this.items=[],this.containers=[this];var n,i,r,o,a,s,l,c,u=this.items,d=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],f=this._connectWith();if(f&&this.ready)for(n=f.length-1;n>=0;n--)for(i=(r=e(f[n])).length-1;i>=0;i--)(o=e.data(r[i],this.widgetFullName))&&o!==this&&!o.options.disabled&&(d.push([e.isFunction(o.options.items)?o.options.items.call(o.element[0],t,{item:this.currentItem}):e(o.options.items,o.element),o]),this.containers.push(o));for(n=d.length-1;n>=0;n--)for(a=d[n][1],i=0,c=(s=d[n][0]).length;i<c;i++)(l=e(s[i])).data(this.widgetName+"-item",a),u.push({item:l,instance:a,width:0,height:0,left:0,top:0})},refreshPositions:function(t){var n,i,r,o;for(this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),n=this.items.length-1;n>=0;n--)(i=this.items[n]).instance!==this.currentContainer&&this.currentContainer&&i.item[0]!==this.currentItem[0]||(r=this.options.toleranceElement?e(this.options.toleranceElement,i.item):i.item,t||(i.width=r.outerWidth(),i.height=r.outerHeight()),o=r.offset(),i.left=o.left,i.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--)o=this.containers[n].element.offset(),this.containers[n].containerCache.left=o.left,this.containers[n].containerCache.top=o.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight();return this},_createPlaceholder:function(t){var n,i=(t=t||this).options;i.placeholder&&i.placeholder.constructor!==String||(n=i.placeholder,i.placeholder={element:function(){var i=t.currentItem[0].nodeName.toLowerCase(),r=e("<"+i+">",t.document[0]).addClass(n||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===i?t.currentItem.children().each((function(){e("<td>&#160;</td>",t.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(r)})):"img"===i&&r.attr("src",t.currentItem.attr("src")),n||r.css("visibility","hidden"),r},update:function(e,r){n&&!i.forcePlaceholderSize||(r.height()||r.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),r.width()||r.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=e(i.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),i.placeholder.update(t,t.placeholder)},_contactContainers:function(t){var r,o,a,s,l,c,u,d,f,h,p=null,m=null;for(r=this.containers.length-1;r>=0;r--)if(!e.contains(this.currentItem[0],this.containers[r].element[0]))if(this._intersectsWith(this.containers[r].containerCache)){if(p&&e.contains(this.containers[r].element[0],p.element[0]))continue;p=this.containers[r],m=r}else this.containers[r].containerCache.over&&(this.containers[r]._trigger("out",t,this._uiHash(this)),this.containers[r].containerCache.over=0);if(p)if(1===this.containers.length)this.containers[m].containerCache.over||(this.containers[m]._trigger("over",t,this._uiHash(this)),this.containers[m].containerCache.over=1);else{for(a=1e4,s=null,l=(h=p.floating||i(this.currentItem))?"left":"top",c=h?"width":"height",u=this.positionAbs[l]+this.offset.click[l],o=this.items.length-1;o>=0;o--)e.contains(this.containers[m].element[0],this.items[o].item[0])&&this.items[o].item[0]!==this.currentItem[0]&&(h&&!n(this.positionAbs.top+this.offset.click.top,this.items[o].top,this.items[o].height)||(d=this.items[o].item.offset()[l],f=!1,Math.abs(d-u)>Math.abs(d+this.items[o][c]-u)&&(f=!0,d+=this.items[o][c]),Math.abs(d-u)<a&&(a=Math.abs(d-u),s=this.items[o],this.direction=f?"up":"down")));if(!s&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[m])return;s?this._rearrange(t,s,null,!0):this._rearrange(t,null,this.containers[m].element,!0),this._trigger("change",t,this._uiHash()),this.containers[m]._trigger("change",t,this._uiHash(this)),this.currentContainer=this.containers[m],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[m]._trigger("over",t,this._uiHash(this)),this.containers[m].containerCache.over=1}},_createHelper:function(t){var n=this.options,i=e.isFunction(n.helper)?e(n.helper.apply(this.element[0],[t,this.currentItem])):"clone"===n.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||e("parent"!==n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),i[0].style.width&&!n.forceHelperSize||i.width(this.currentItem.width()),i[0].style.height&&!n.forceHelperSize||i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,i,r=this.options;"parent"===r.containment&&(r.containment=this.helper[0].parentNode),"document"!==r.containment&&"window"!==r.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,e("document"===r.containment?document:window).width()-this.helperProportions.width-this.margins.left,(e("document"===r.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(r.containment)||(t=e(r.containment)[0],n=e(r.containment).offset(),i="hidden"!==e(t).css("overflow"),this.containment=[n.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,n.left+(i?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(i?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,n){n||(n=this.position);var i="absolute"===t?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(r[0].tagName);return{top:n.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:r.scrollTop())*i,left:n.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:r.scrollLeft())*i}},_generatePosition:function(t){var n,i,r=this.options,o=t.pageX,a=t.pageY,s="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(s[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(a=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(a=this.containment[3]+this.offset.click.top)),r.grid&&(n=this.originalPageY+Math.round((a-this.originalPageY)/r.grid[1])*r.grid[1],a=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-r.grid[1]:n+r.grid[1]:n,i=this.originalPageX+Math.round((o-this.originalPageX)/r.grid[0])*r.grid[0],o=this.containment?i-this.offset.click.left>=this.containment[0]&&i-this.offset.click.left<=this.containment[2]?i:i-this.offset.click.left>=this.containment[0]?i-r.grid[0]:i+r.grid[0]:i)),{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:s.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:s.scrollLeft())}},_rearrange:function(e,t,n,i){n?n[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay((function(){r===this.counter&&this.refreshPositions(!i)}))},_clear:function(e,t){this.reverting=!1;var n,i=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(n in this._storedCSS)"auto"!==this._storedCSS[n]&&"static"!==this._storedCSS[n]||(this._storedCSS[n]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!t&&i.push((function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))})),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||i.push((function(e){this._trigger("update",e,this._uiHash())})),this!==this.currentContainer&&(t||(i.push((function(e){this._trigger("remove",e,this._uiHash())})),i.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),i.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),n=this.containers.length-1;n>=0;n--)t||i.push(function(e){return function(t){e._trigger("deactivate",t,this._uiHash(this))}}.call(this,this.containers[n])),this.containers[n].containerCache.over&&(i.push(function(e){return function(t){e._trigger("out",t,this._uiHash(this))}}.call(this,this.containers[n])),this.containers[n].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!t){for(this._trigger("beforeStop",e,this._uiHash()),n=0;n<i.length;n++)i[n].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!1}if(t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!t){for(n=0;n<i.length;n++)i[n].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){!1===e.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(t){var n=t||this;return{helper:n.helper,placeholder:n.placeholder||e([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:t?t.element:null}}})}(jQuery)},79195:(e,t,n)=>{n(30046),function(e){if(e.support.touch="ontouchend"in document,e.support.touch){var t,n=e.ui.mouse.prototype,i=n._mouseInit;n._touchStart=function(e){!t&&this._mouseCapture(e.originalEvent.changedTouches[0])&&(t=!0,this._touchMoved=!1,r(e,"mouseover"),r(e,"mousemove"),r(e,"mousedown"))},n._touchMove=function(e){t&&(this._touchMoved=!0,r(e,"mousemove"))},n._touchEnd=function(e){t&&(r(e,"mouseup"),r(e,"mouseout"),this._touchMoved||r(e,"click"),t=!1)},n._mouseInit=function(){var t=this;t.element.bind("touchstart",e.proxy(t,"_touchStart")).bind("touchmove",e.proxy(t,"_touchMove")).bind("touchend",e.proxy(t,"_touchEnd")),i.call(t)}}function r(e,t){if(!(e.originalEvent.touches.length>1)){e.preventDefault();var n=e.originalEvent.changedTouches[0],i=document.createEvent("MouseEvents");i.initMouseEvent(t,!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(i)}}}(jQuery)},89439:(e,t,n)=>{n(75602),n(30535),n(86381),n(90195),n(31875),n(59505),n(21082),n(98942),n(30046),function(e,t){var n,i,r=0,o=/^ui-id-\d+$/;function a(t,n){var i,r,o,a=t.nodeName.toLowerCase();return"area"===a?(r=(i=t.parentNode).name,!(!t.href||!r||"map"!==i.nodeName.toLowerCase())&&(!!(o=e("img[usemap=#"+r+"]")[0])&&s(o))):(/input|select|textarea|button|object/.test(a)?!t.disabled:"a"===a&&t.href||n)&&s(t)}function s(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter((function(){return"hidden"===e.css(this,"visibility")})).length}e.ui=e.ui||{},e.extend(e.ui,{version:"1.10.3",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({focus:(n=e.fn.focus,function(t,i){return"number"==typeof t?this.each((function(){var n=this;setTimeout((function(){e(n).focus(),i&&i.call(n)}),t)})):n.apply(this,arguments)}),scrollParent:function(){var t;return t=e.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter((function(){return/(relative|absolute|fixed)/.test(e.css(this,"position"))&&/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))})).eq(0):this.parents().filter((function(){return/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))})).eq(0),/fixed/.test(this.css("position"))||!t.length?e(document):t},zIndex:function(n){if(n!==t)return this.css("zIndex",n);if(this.length)for(var i,r,o=e(this[0]);o.length&&o[0]!==document;){if(("absolute"===(i=o.css("position"))||"relative"===i||"fixed"===i)&&(r=parseInt(o.css("zIndex"),10),!isNaN(r)&&0!==r))return r;o=o.parent()}return 0},uniqueId:function(){return this.each((function(){this.id||(this.id="ui-id-"+ ++r)}))},removeUniqueId:function(){return this.each((function(){o.test(this.id)&&e(this).removeAttr("id")}))}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo((function(t){return function(n){return!!e.data(n,t)}})):function(t,n,i){return!!e.data(t,i[3])},focusable:function(t){return a(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var n=e.attr(t,"tabindex"),i=isNaN(n);return(i||n>=0)&&a(t,!i)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],(function(n,i){var r="Width"===i?["Left","Right"]:["Top","Bottom"],o=i.toLowerCase(),a={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};function s(t,n,i,o){return e.each(r,(function(){n-=parseFloat(e.css(t,"padding"+this))||0,i&&(n-=parseFloat(e.css(t,"border"+this+"Width"))||0),o&&(n-=parseFloat(e.css(t,"margin"+this))||0)})),n}e.fn["inner"+i]=function(n){return n===t?a["inner"+i].call(this):this.each((function(){e(this).css(o,s(this,n)+"px")}))},e.fn["outer"+i]=function(t,n){return"number"!=typeof t?a["outer"+i].call(this,t):this.each((function(){e(this).css(o,s(this,t,!0,n)+"px")}))}})),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=(i=e.fn.removeData,function(t){return arguments.length?i.call(this,e.camelCase(t)):i.call(this)})),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.support.selectstart="onselectstart"in document.createElement("div"),e.fn.extend({disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",(function(e){e.preventDefault()}))},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),e.extend(e.ui,{plugin:{add:function(t,n,i){var r,o=e.ui[t].prototype;for(r in i)o.plugins[r]=o.plugins[r]||[],o.plugins[r].push([n,i[r]])},call:function(e,t,n){var i,r=e.plugins[t];if(r&&e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType)for(i=0;i<r.length;i++)e.options[r[i][0]]&&r[i][1].apply(e.element,n)}},hasScroll:function(t,n){if("hidden"===e(t).css("overflow"))return!1;var i,r=n&&"left"===n?"scrollLeft":"scrollTop";return t[r]>0||(t[r]=1,i=t[r]>0,t[r]=0,i)}})}(jQuery)},46227:(e,t,n)=>{n(30046),n(75602),function(e,t){var n=!1;e(document).mouseup((function(){n=!1})),e.widget("ui.mouse",{version:"1.10.3",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,(function(e){return t._mouseDown(e)})).bind("click."+this.widgetName,(function(n){if(!0===e.data(n.target,t.widgetName+".preventClickEvent"))return e.removeData(n.target,t.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1})),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!n){this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var i=this,r=1===t.which,o=!("string"!=typeof this.options.cancel||!t.target.nodeName)&&e(t.target).closest(this.options.cancel).length;return!(r&&!o&&this._mouseCapture(t))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout((function(){i.mouseDelayMet=!0}),this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(t),!this._mouseStarted)?(t.preventDefault(),!0):(!0===e.data(t.target,this.widgetName+".preventClickEvent")&&e.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return i._mouseMove(e)},this._mouseUpDelegate=function(e){return i._mouseUp(e)},e(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),n=!0,!0))}},_mouseMove:function(t){return e.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button?this._mouseUp(t):this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,t),this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery)},32831:(e,t,n)=>{n(96153),n(30535),n(96339),n(41479),n(15231),n(30046),n(93418),n(75602),function(e,t){var n=0,i=Array.prototype.slice,r=e.cleanData;e.cleanData=function(t){for(var n,i=0;null!=(n=t[i]);i++)try{e(n).triggerHandler("remove")}catch(e){}r(t)},e.widget=function(t,n,i){var r,o,a,s,l={},c=t.split(".")[0];t=t.split(".")[1],r=c+"-"+t,i||(i=n,n=e.Widget),e.expr[":"][r.toLowerCase()]=function(t){return!!e.data(t,r)},e[c]=e[c]||{},o=e[c][t],a=e[c][t]=function(e,t){if(!this._createWidget)return new a(e,t);arguments.length&&this._createWidget(e,t)},e.extend(a,o,{version:i.version,_proto:e.extend({},i),_childConstructors:[]}),(s=new n).options=e.widget.extend({},s.options),e.each(i,(function(t,i){var r,o;e.isFunction(i)?l[t]=(r=function(){return n.prototype[t].apply(this,arguments)},o=function(e){return n.prototype[t].apply(this,e)},function(){var e,t=this._super,n=this._superApply;return this._super=r,this._superApply=o,e=i.apply(this,arguments),this._super=t,this._superApply=n,e}):l[t]=i})),a.prototype=e.widget.extend(s,{widgetEventPrefix:o?s.widgetEventPrefix:t},l,{constructor:a,namespace:c,widgetName:t,widgetFullName:r}),o?(e.each(o._childConstructors,(function(t,n){var i=n.prototype;e.widget(i.namespace+"."+i.widgetName,a,n._proto)})),delete o._childConstructors):n._childConstructors.push(a),e.widget.bridge(t,a)},e.widget.extend=function(n){for(var r,o,a=i.call(arguments,1),s=0,l=a.length;s<l;s++)for(r in a[s])o=a[s][r],a[s].hasOwnProperty(r)&&o!==t&&(e.isPlainObject(o)?n[r]=e.isPlainObject(n[r])?e.widget.extend({},n[r],o):e.widget.extend({},o):n[r]=o);return n},e.widget.bridge=function(n,r){var o=r.prototype.widgetFullName||n;e.fn[n]=function(a){var s="string"==typeof a,l=i.call(arguments,1),c=this;return a=!s&&l.length?e.widget.extend.apply(null,[a].concat(l)):a,s?this.each((function(){var i,r=e.data(this,o);return r?e.isFunction(r[a])&&"_"!==a.charAt(0)?(i=r[a].apply(r,l))!==r&&i!==t?(c=i&&i.jquery?c.pushStack(i.get()):i,!1):void 0:e.error("no such method '"+a+"' for "+n+" widget instance"):e.error("cannot call methods on "+n+" prior to initialization; attempted to call method '"+a+"'")})):this.each((function(){var t=e.data(this,o);t?t.option(a||{})._init():e.data(this,o,new r(a,this))})),c}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,i){i=e(i||this.defaultElement||this)[0],this.element=e(i),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),i!==this&&(e.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===i&&this.destroy()}}),this.document=e(i.style?i.ownerDocument:i.document||i),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(n,i){var r,o,a,s=n;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof n)if(s={},r=n.split("."),n=r.shift(),r.length){for(o=s[n]=e.widget.extend({},this.options[n]),a=0;a<r.length-1;a++)o[r[a]]=o[r[a]]||{},o=o[r[a]];if(n=r.pop(),i===t)return o[n]===t?null:o[n];o[n]=i}else{if(i===t)return this.options[n]===t?null:this.options[n];s[n]=i}return this._setOptions(s),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(t,n,i){var r,o=this;"boolean"!=typeof t&&(i=n,n=t,t=!1),i?(n=r=e(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,r=this.widget()),e.each(i,(function(i,a){function s(){if(t||!0!==o.options.disabled&&!e(this).hasClass("ui-state-disabled"))return("string"==typeof a?o[a]:a).apply(o,arguments)}"string"!=typeof a&&(s.guid=a.guid=a.guid||s.guid||e.guid++);var l=i.match(/^(\w+)\s*(.*)$/),c=l[1]+o.eventNamespace,u=l[2];u?r.delegate(u,c,s):n.bind(c,s)}))},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){var n=this;return setTimeout((function(){return("string"==typeof e?n[e]:e).apply(n,arguments)}),t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,n,i){var r,o,a=this.options[t];if(i=i||{},(n=e.Event(n)).type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],o=n.originalEvent)for(r in o)r in n||(n[r]=o[r]);return this.element.trigger(n,i),!(e.isFunction(a)&&!1===a.apply(this.element[0],[n].concat(i))||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},(function(t,n){e.Widget.prototype["_"+t]=function(i,r,o){"string"==typeof r&&(r={effect:r});var a,s=r?!0===r||"number"==typeof r?n:r.effect||n:t;"number"==typeof(r=r||{})&&(r={duration:r}),a=!e.isEmptyObject(r),r.complete=o,r.delay&&i.delay(r.delay),a&&e.effects&&e.effects.effect[s]?i[t](r):s!==t&&i[s]?i[s](r.duration,r.easing,o):i.queue((function(n){e(this)[t](),o&&o.call(i[0]),n()}))}}))}(jQuery)},39867:(e,t,n)=>{n(62888),n(31875),$((function(){$("#favourite-films").sortable({axis:"x",helper:"clone"});var e=328;renderMobile&&(e=262),$("#frm-favourite-film-name").autocomplete($("#frm-favourite-film-name").data("url"),$.extend({},bxd.autocompleteConfig,{width:e})).result((function(e,t,n){var i=$("#favourite-film-search-modal").data("list-index");$("#frm-favourite-film-name").val("").trigger("flushCache"),$("#favourite-film-search-modal").colorbox.close();var r=$($("#favourite-films li")[i]);r.addClass("poster -placeholder").html('<div class="loading-poster"></div><input type="hidden" name="favouriteFilmIds" value="'+t.id+'"/>');var o=r.find("div");$.get(t.image125,(function(e){o.removeClass("loading-poster"),o.empty().prepend(e),r.removeClass("poster-container -placeholder"),renderMobile&&r.append('<a href="#" class="replace remove-favourite-film">remove</a>'),bxd.layout(o)}))})),renderMobile?($("a.remove-favourite-film").remove(),$("#favourite-films li").each((function(){$(this).hasClass("poster")&&$(this).append('<a href="#" class="replace remove-favourite-film">remove</a>')}))):$("#favourite-films li").hover((function(){$("a.remove-favourite-film").remove(),$(this).hasClass("poster")&&$(this).append('<a href="#" class="replace remove-favourite-film">remove</a>')}),(function(){$("a.remove-favourite-film").remove()})),$("#favourite-films").on("click","a.remove-favourite-film",(function(e){e.preventDefault(),$(this).closest("li").fadeOut((function(){$(this).appendTo($("#favourite-films")).html("").removeClass("poster").addClass("poster-container -placeholder").show()}))})),$("#favourite-films li").on("click",(function(e){if(!$(e.target).hasClass("remove-favourite-film")){e.preventDefault();var t=$("#favourite-films li").index($(this));$("#favourite-film-search-modal").data("list-index",t),$("#open-favourite-film-modal").trigger("click")}}));var t={inline:!0,fixed:!0,overlayClose:!1,href:"#favourite-film-search-modal",onComplete:function(){$("#frm-favourite-film-name").focus()},onClosed:function(){$("#frm-favourite-film-name").trigger("close")}};renderMobile&&(t.width="100%",t.initialWidth="288px",t.initialHeight="200px",t.transition="fade",t.speed=0),$("#open-favourite-film-modal").colorbox(t)}))},36077:(e,t,n)=>{"use strict";n.r(t);n(62888),n(31875),n(21082),n(96153),n(52248),n(58722),n(18482),n(63208),n(75602);var i=n(93580),r=(n(39720),n(47559),n(47989)),o=n(2126),a=n(75542),s=n(44890),l=n(20402),c=n(91693),u=n(77189),d=(n(44347),n(86434),n(29888),n(72266)),f=n.n(d),h=n(47632),p=n(29010),m=n(24067),g=n(11312);function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,c.Z)(e);if(t){var r=(0,c.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,l.Z)(this,n)}}var y=function(e){(0,s.Z)(n,e);var t=v(n);function n(e){var i;(0,o.Z)(this,n),i=t.call(this);var r=!1;return Object.defineProperties((0,a.Z)(i),{isAwake:{get:function(){return r}}}),i.contextController=e,i[p.w$.WAKE]=function(){i.isAwake||(r=!0,i.emit(p.Kg.WAKE))},i[p.w$.SUSPEND]=function(){i.isAwake&&(r=!1,i.emit(p.Kg.SUSPEND))},i}return(0,r.Z)(n)}(n.n(g)());function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,c.Z)(e);if(t){var r=(0,c.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,l.Z)(this,n)}}var w="vertical-list-expanded",x=function(e){(0,s.Z)(n,e);var t=b(n);function n(e,i){var r;return(0,o.Z)(this,n),r=t.call(this,e),(0,u.Z)((0,a.Z)(r),"_wake",(function(){!r.isExpanded&&r.showAllTrigger&&(r.showAllTrigger.removeAttribute("disabled"),r.el.insertAdjacentElement("beforeend",r.showAllTrigger),r.showAllTrigger.addEventListener("click",r._onClickShowAllTrigger,{once:!0}))})),(0,u.Z)((0,a.Z)(r),"_suspend",(function(){r.contextController.detachShowAllTrigger()})),(0,u.Z)((0,a.Z)(r),"_onClickShowAllTrigger",(function(e){if(e.preventDefault(),!e.currentTarget.disabled){var t=r.contextController.detachShowAllTrigger();t.disabled="disabled",t.ariaExpanded="true",t.removeEventListener("click",r._onClickShowAllTrigger),r.el.removeAttribute("data-".concat(w))}})),r.el=i,r.showAllTrigger=e.showAllTrigger,Object.defineProperties((0,a.Z)(r),{isExpanded:{get:function(){return"true"===r.el.getAttribute("data-".concat(w))}}}),r.on(p.Kg.WAKE,r._wake),r.on(p.Kg.SUSPEND,r._suspend),r}return(0,r.Z)(n)}(y);function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,c.Z)(e);if(t){var r=(0,c.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,l.Z)(this,n)}}var k="card-summary-list",C="card-summary",T={cardSummaryClassName:"card-summary"},S=function(e){(0,s.Z)(n,e);var t=_(n);function n(e){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,o.Z)(this,n);var s=f()({},T,r,(0,h.Z)(e,k)),l={};return l["vertical-list"]=x,i=t.call(this,p.ZP,l,e,s),(0,u.Z)((0,a.Z)(i),"detachShowAllTrigger",(function(){if(i.showAllTrigger&&i.showAllTrigger.parentNode)return i.showAllTrigger.parentNode.removeChild(i.showAllTrigger)})),Object.defineProperties((0,a.Z)(i),{el:{get:function(){return i._el}},cardSummaries:{get:function(){return i._cardSummaries}},showAllTrigger:{get:function(){return i._showAllTrigger}}}),i._el=e,i._cardSummaries=Array.from(i.el.querySelectorAll(":scope > .js-".concat(C))),i._showAllTrigger=i.el.querySelector('[data-js-trigger="showall"]'),i.detachShowAllTrigger(),i.showAllTrigger&&i.showAllTrigger.removeAttribute("hidden"),i}return(0,r.Z)(n)}(m.Z);$((function(){if("undefined"!=typeof filmData){var e=$('<p class="optional-add">Or add <a href="#add-this-film" class="add-this-film modal-link needsclick"/></p>');e.find("a").attr("data-film-id",filmData.id).attr("data-film-name",filmData.name).attr("data-poster-url",filmData.posterURL).attr("data-film-release-year",filmData.releaseYear).text(filmData.name),$("#frm-film-name").after(e),bxd.layout(e)}var t=$("#popular-reviews");person.loggedIn&&person.blockedMembers.length&&t.find("li.film-detail").each((function(){var e=$(this);person.hasBlocked(e.attr("data-person"))&&e.remove()}));var n=!1,r=!1;PubSub.subscribe("csi-recent-reviews",(function(){var e=$("#recent-reviews");person.loggedIn&&person.blockedMembers.length&&e.find("li.film-detail").each((function(){var e=$(this);person.hasBlocked(e.attr("data-person"))&&e.remove()})),n=!0,r&&o()})),PubSub.subscribe("csi-friend-reviews",(function(){r=!0,n&&o()})),PubSub.subscribe("csi-popular-lists",(function(){bxd.filterPopularLists($("#film-popular-lists"),3)}));var o=function(e,n,i,r){var o=$("#recent-reviews");$("#popular-reviews-with-friends li.film-detail").each((function(){var e=$(this).data("viewing-id");t.find("li.film-detail[data-viewing-id="+e+"]").remove(),o.find("li.film-detail[data-viewing-id="+e+"]").remove()})),a(t,t.data("how-many"),(function(e){return!person.hasBlocked(e.attr("data-person"))&&0===$("#popular-reviews-with-friends li.film-detail[data-viewing-id="+e.data("viewing-id")+"]").length}),(function(){var e=t.find("li.film-detail");0===e.length?t.remove():(e.length>3&&e.slice(3).remove(),t.find("li.film-detail").each((function(){var e=$(this).data("viewing-id");$("#recent-reviews li.film-detail[data-viewing-id="+e+"]").remove()}))),a(o,o.data("how-many"),(function(e){return!person.hasBlocked(e.attr("data-person"))&&0===$("#popular-reviews-with-friends li.film-detail[data-viewing-id="+e.data("viewing-id")+"]").length&&0===t.find("li.film-detail[data-viewing-id="+e.data("viewing-id")+"]").length}),(function(){var e=o.find("li.film-detail");0===e.length?o.remove():e.length>3&&e.slice(3).remove()}))}))},a=function(e,t,n,i){var r=3-e.find("li.film-detail").length;if(r<=0)i();else{var o=e.data("url"),a={start:t,howMany:12};$.ajax({url:o,type:"GET",data:a,success:function(t,o,a){if(""!==$.trim(t)){var s=$(t);bxd.layout(s);var l=0,c=e.find("ul");s.find("li.film-detail").each((function(){0;var e=$(this);l<r&&n(e)&&(l++,c.append(e))})),i()}},error:function(){i()}})}};document.body.classList.contains("film")&&(document.querySelectorAll(".js-".concat(i.NAMESPACE)).forEach((function(e){new i.default(e)})),new Promise((function(e){var t=window.setInterval((function(){void 0!==window.bxd&&(window.clearInterval(t),e(window.bxd))}),50)})).then((function(e){var t=e.getCSIRequestsByTopic("csi-film-news");t.length&&t[0].onReady().then((function(e){e&&e[0].querySelectorAll("[data-js-".concat(k,"]")).forEach((function(e){new S(e)}))}))})))}))},72777:(e,t,n)=>{n(62888),n(31875),$((function(){var e=$("#films-browser-list-container");if(e.length){e.append('<div class="placeholder-empty"></div>'),function t(){e.find(".placeholder-empty").html('<p class="calculating">Calculating…</p>'),$(".calculating").lbSpinner({size:14,fallback:globals.spinners.spinner_14_20272f,insertion:"prepend",element:"span"}),$.get(e.data("url"),(function(n,i,r){"success"==i?(e.empty().prepend(n),bxd.layout(e)):e.find(".placeholder-empty").html('<p>Unable to contact Letterboxd. Please <a href="#">try again</a>.</p></div>').find("a").click((function(e){e.preventDefault(),t()}))}))}()}}))},1816:(e,t,n)=>{"use strict";n.r(t);n(62888),n(31875),n(58722),n(18482),n(84924);var i=n(72266),r=n.n(i),o=n(29010),a=n(42483),s=n(24067),l=(n(30046),n(48860)),c=n.n(l),u=(n(46711),n(50357)),d=n.n(u),f=window.jQuery,h="-layout-complete",p=o.ZP.createContext((function(e,t){this.$el=f(t),this.$cardSummaryList=this.$el.find(".js-card-summary-list"),this._onImagesLoaded=this._createPackeryInstance.bind(this),this._onLayoutComplete=this._onLayoutComplete.bind(this),this._onWindowResize=this._onUpdateLayout.bind(this),this.on(o.w$.WAKE,(function(){this._imagesLoadedInstance=new(d())(this.$cardSummaryList[0],this._onImagesLoaded)})),this.on(o.w$.SUSPEND,(function(){window.removeEventListener("resize",this._onWindowResize),this._setOnLayoutCompleteClass("remove"),this._layoutInstance.off("layoutComplete",this._onLayoutComplete),this._layoutInstance.destroy()}))})),m=p.prototype;m._createPackeryInstance=function(e){this._layoutInstance=new(c())(this.$cardSummaryList[0],{itemSelector:".js-card-summary",gutter:0,percentPosition:!0,horizontalOrder:!1,transitionDuration:0,resize:!1,initLayout:!1}),this._layoutInstance.on("layoutComplete",this._onLayoutComplete),this._layoutInstance.layout(),window.addEventListener("resize",this._onWindowResize)},m._onUpdateLayout=function(){this._layoutInstance.layout()},m._onLayoutComplete=function(e){this._setOnLayoutCompleteClass()},m._setOnLayoutCompleteClass=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"add",t=e+"Class";this.$el[t](h)};window.jQuery;function g(e,t){this.$el=e,this.options=r()({},this.DEFAULTS,t);var n={};n.masonry=p,s.Z.apply(this,[o.ZP,n,this.$el[0]]),this.$cards=this.$el.find(".js-card-summary"),this.$cards.get().forEach(this._formatCard)}g.prototype=Object.create({constructor:{value:g}});var v=g.prototype;v.DEFAULTS={},v._formatCard=function(e){(0,a.Oe)(e)},$((function(){if($("body").hasClass("home")||$("body").hasClass("person-home")){var e=$("#user-homepage-container");e.length?(!1===person.validated&&bxd.showMessages("error",'Your Letterboxd account has not been validated. Check your email or <a href="'+baseURL+'/settings/">update your details</a> to resend the validation link.',{sticky:!0}),e.find("ul li.placeholder-empty").append('<p class="calculating">Calculating...</p>'),e.find("p.calculating").lbSpinner({size:16,fallback:globals.spinners.spinner_16_161B21,insertion:"prepend",element:"span"}),$.get(e.data("url"),(function(n){e.empty().prepend(n),bxd.layout(e),t()}))):t()}function t(){var e=$(".js-story-list"),t=bxd.getTrailerModalConfig();if(e.length){var n=new g(e,{});e.data("lb-news-list-layout",n),e.find(".js-video-zoom").colorbox(t)}}}))},81384:(e,t,n)=>{"use strict";n.r(t);n(58722),n(31875),n(18482);var i=n(93580);$((function(){$("body").hasClass("list-page")&&document.querySelectorAll(".js-".concat(i.NAMESPACE)).forEach((function(e){new i.default(e)}))}))},45384:(e,t,n)=>{n(62888),n(31875),n(75602),n(30535),n(96339),n(52248),$((function(){if($("#imdb-importer-matched-form").protectUnsavedChanges(),$("#imdb-import-button").length)$("#imdb-import-button").click((function(e){e.preventDefault(),$("#upload-imdb-import").trigger("click")})),$("#upload-imdb-import").change((function(){$("#imdb-form").submit()}));else if($(".save-users-imported-imdb-history").length||$(".add-import-films-to-watchlist").length){i(),t();var e=$("#imdb-importer-matched-form");$(".profile-link").hide(),e.delegate("#mark-list-films-as-watched","click",(function(e){t()})),e.delegate("#add-ratings-from-list","click",(function(e){$(".import-rating").is(":visible")?$(".import-rating").hide():$(".import-rating").show(),t()})),e.delegate("#add-reviews-from-list","click",(function(e){$(".import-review").is(":visible")?$(".import-review").hide():$(".import-review").show(),t()})),e.delegate("#add-watchedDates-from-list","click",(function(e){$(".view-date").is(":visible")?$(".view-date,.duplicate-entry").hide():$(".view-date,.duplicate-entry").show(),t()})),e.delegate("#add-tags-from-list","click",(function(e){$(".import-tags").is(":visible")?$(".import-tags").hide():$(".import-tags").show(),t()})),$("a.save-users-imported-imdb-history").click((function(e){e.preventDefault(),$(this).hasClass("import-button-disabled")||($(this).html("Saving…"),$(this).addClass("import-button-disabled").css({opacity:.35}),$("#imdb-importer-matched-form").trigger("submit"))}))}function t(){var e="",t=[],n="",i=!1,r=!1,o=!1;$("a.save-users-imported-imdb-history").removeClass("import-button-disabled").css({opacity:1}),$("#import-text-suffix").show(),($("#mark-list-films-as-watched").is(":checked")||$("#mark-list-films-as-watched").is(":hidden"))&&(e+="Films will be marked as watched ",i=!0,o=!0),$("#add-watchedDates-from-list").is(":checked")&&(t.push(t.length||o?"diary entries":"Diary entries"),i=!0,r=!0),$("#add-reviews-from-list").is(":checked")&&(t.push(t.length||o?"reviews":"Reviews"),i=!0,r=!0),$("#add-ratings-from-list").is(":checked")&&(t.push(t.length||o?"ratings":"Ratings"),i=!0),$("#add-tags-from-list").is(":checked")&&(r?t.push(t.length||o?"tags":"Tags"):n=" Tags cannot be added without a review or a viewing date."),o&&t.length&&(e+="and ");for(var a=0;a<t.length;a++)a==t.length-1&&t.length>1&&(e+=" and "),e+=t[a],a<t.length-2&&(e+=", ");t.length&&(e+=" will be added "),e+="as part of this import. There is no undo, so please be careful!",i||($(".save-users-imported-imdb-history").length?($("#import-text-suffix").hide(),n="",e=t?"You cannot import tags by themselves. You must import them with reviews or watched dates.":'There is nothing to import. Please select a <a href="https://letterboxd.com/about/importing/">valid</a> import file.'):e="No changes will be made to your watched films.",$("a.save-users-imported-imdb-history").addClass("import-button-disabled").css({opacity:.35})),e+=n,$("#import-options-text").text(e)}function n(e){e.hide(),$(".import-buttons").hide();var t=e.find("#import-films").children().length,n=0;$("p.js-import-progress").html('<span id="import-count"><strong>0</strong></span> films processed from <strong>'+bxd.formatNumber(t)+"</strong> in your file.");$("p.js-import-progress").prepend('<span id="spinner" class="small"></span>'),$("#spinner").lbSpinner({size:18});var i=$("<form></form>"),r=["importRating","importReview","importTags","importWatchedDate","importRewatch","importCreatedDate","importFilmId","importViewingId","shouldImportFilm"];$.each(r,(function(t,n){var r=e.find($("[name="+n+"]"));i.append(r)}));var o=e.serialize();!function t(){var a=$("<form></form>");if($.each(r,(function(e,t){var n=i.find("[name="+t+"]:lt(25)");a.append(n)})),a.children().length>0){var s=0;!function i(){$.ajax({url:e.attr("action"),type:"POST",data:o+"&"+a.serialize(),success:function(e){e.result?(n+=a.children('input[name="shouldImportFilm"][value="true"]').length,$("p.js-import-progress #import-count").html("<strong>"+bxd.formatNumber(n)+"</strong>"),t()):e.messages&&bxd.showMessages("error",e.messages)},error:function(){++s>3?($("#spinner").remove(),$("a.submit-matched-films").addClass("import-button-disabled").css({opacity:.35}),bxd.showMessages("error","Oh no! Something’s gone wrong. Please <a href='"+$(".btn-cancel-import").attr("href")+"'>retry</a> later.",{sticky:!0}),$("#imdb-importer-matched-form").protectUnsavedChanges({reset:!0})):setTimeout(i,50*Math.pow(2,s))}})}()}else $("p.js-import-progress").html("<strong>Saved "+bxd.pluralise(n,"film")+".</strong>"),$(".import-buttons").hide(),$(".profile-link").show(),$("#imdb-importer-matched-form").protectUnsavedChanges({reset:!0})}()}function i(){var e,i,r="NoMatch",o="Matched",a="Rejected",s=$("#import-count"),l=$("#import-films");e=0,i=l.children("li").length,$("p.js-import-progress").prepend('<span id="spinner" class="small"></span>'),$("#spinner").lbSpinner({size:18}),$(window).resize((function(){l.find(".import-film input.film-search").trigger("close")})),l.delegate(".js-replace-film","click",(function(e){e.preventDefault();var t=$(this).closest(".import-film");u.clickedSearch(t)})),l.delegate("a.mark-match-inaccurate","click",(function(e){e.preventDefault();var t=$(this).closest(".import-film");u.clickedSearch(t)})),l.delegate(".close-film-replace","click",(function(e){e.preventDefault();var t=$(this).closest(".import-film");u.clickedSearch(t)})),l.delegate("a.mark-match-accurate","click",(function(e){e.preventDefault();var t=$(this).closest(".import-film");u.clickedIsAccurate(t)})),l.delegate(".js-remove-film","click",(function(e){e.preventDefault();var t=$(this).closest(".import-film");u.clickedRejectFilm(t)})),l.delegate(".import-search-link","click",(function(e){e.preventDefault();var t=$(this).closest(".import-film");u.setState(t,r),u.clickedSearch(t)})),$("#importer-matched-form").delegate("#add-ratings-from-list","click",(function(e){$(".import-rating").is(":visible")?$(".import-rating").hide():$(".import-rating").show(),t()})),$("#importer-matched-form").delegate("#add-reviews-from-list","click",(function(e){$(".import-review").is(":visible")?$(".import-review").hide():$(".import-review").show(),t()})),$("#importer-matched-form").delegate("#mark-list-films-as-watched","click",(function(e){t()}));var c,u={};u.updateDOM=function(e){var t=e.find(".import-film-details");t.removeClass("poor-match").removeClass("dont-add").removeClass("duplicate-match").removeClass("icon-hidden"),e.find(".import-match").css({opacity:1}),e.find(".import-search-text").show();var n=!0,i=u.getState(e);switch(i){case o:break;case a:t.addClass("icon-hidden"),e.find(".import-match").css({opacity:.2}),n=!1;break;case r:e.find(".import-search-text").show(),t.addClass("import-no-match"),n=!1}i==o&&u.isDuplicate(e)?(e.find(".duplicate-film").show(),t.addClass("duplicate-match"),n=!1):e.find(".duplicate-film").hide(),u.isSearching(e)?(e.addClass("import-state-search"),e.find(".film-detail-wrapper").hide(),e.find(".import-search").show().find("input").focus(),e.find("div.icon-matched").hide(),e.find(".import-search-text").hide(),n=!1):(e.find(".import-search").hide(),e.removeClass("import-state-search"),e.find(".film-detail-wrapper").show(),e.find("div.icon-matched").show()),n!=u.isShouldImport(e)&&(u.setShouldImport(e,n),u.checkIfDuplicate(e))},u.checkIfDuplicate=function(e){var t=!1,n=u.getFilmId(e),i=[];$("#importer-matched-form input[name=filmId]").each((function(){i.push($(this).val())}));var r=[];$("#importer-matched-form input[name=importFilmId]").each((function(){r.push($(this).val()||-1)}));var o=[];$("#importer-matched-form input[name=shouldImportFilm]").each((function(){o.push($(this).val())}));for(var a=0;a<i.length;a++)n==i[a]&&(t=!0);if(!t){for(var s=0,l=0;l<r.length;l++)n==r[l]&&"true"==o[l]&&s++;u.isShouldImport(e)||s++,s>1&&(t=!0)}e.data("duplicate",t),u.updateDOM(e)},u.isDuplicate=function(e){var t=e.data("duplicate");return void 0===t&&(t=!1),t},u.isShouldImport=function(e){return"true"==e.find("input[name=shouldImportFilm]").val()},u.setShouldImport=function(e,t){e.find("input[name=shouldImportFilm]").val(t)},u.getFilmId=function(e){return e.find("input[name=importFilmId]").val()},u.getState=function(e){return e.data("state")},u.setState=function(e,t){e.data("state",t)},u.isSearching=function(e){var t=e.data("searching");return void 0===t&&(t=!1),t},u.setSearching=function(e,t){e.data("searching",t)},u.clickedRejectFilm=function(e){var t=u.getState(e),n="Remove this film";u.isSearching(e)&&u.setSearching(e,!1),t==a?e.find(".import-search-text").length?u.setState(e,r):u.setState(e,o):(u.setState(e,a),n="Restore this film"),u.updateDOM(e),e.find(".js-remove-film").attr("data-original-title",n).twipsy("show")},u.clickedSearch=function(e){u.isSearching(e)?u.setSearching(e,!1):u.setSearching(e,!0),u.updateDOM(e)},u.clickedIsAccurate=function(e){u.updateDOM(e)},u.initImportFilm=function(e){""!==e.find("input[name=importFilmId]").val()?u.setState(e,o):u.setState(e,r),u.setSearching(e,!1),u.updateDOM(e),u.checkIfDuplicate(e)},$("#diary-importer-identifier").length?c="diary":$("#list-importer-identifier").length?c="list":$("#watchlist-importer-identifier").length&&(c="watchlist"),function n(r,o,a){for(var l=void 0!==a?a.next(".import-film").first():r.find(".import-film").first(),c=[],d=0;d<25;d++)c[d]=l,l=l.next(".import-film"),c[d].data("matchThisFilmOnly",!1);$("a.submit-matched-films").addClass("import-button-disabled").css({opacity:.35}),c[0].length?function(t,n,r,o){for(var a,l,c='{ importType: "'+r+'", importFilms: [ ',d=0;d<n;d++)a=t[d].attr("data-json"),c+=a,d<n-1&&(c+=", ");c+=" ]}",l=$("#imdb-importer-matched-form").length?$("#imdb-importer-matched-form").data("url"):$("#importer-matched-form").data("url");var f=0;function h(){$.ajax({url:l,type:"POST",data:{json:c,__csrf:supermodelCSRF},dataType:"html",success:function(e){p(e,-1)},error:function(e){++f>3?($("#spinner").remove(),$("a.submit-matched-films").addClass("import-button-disabled").css({opacity:.35}),bxd.showMessages("error","Oh no! Something’s gone wrong. Please <a href='"+$(".btn-cancel-import").attr("href")+"'>retry</a> later.",{sticky:!0}),$("#importer-matched-form").protectUnsavedChanges({reset:!0}),$(".btn-cancel-import").text("Retry"),$(".save-users-imported-imdb-history").hide()):setTimeout(h,50*Math.pow(2,f))}})}function p(r,a){var l=$("<div></div>").html(r).children(),c=l.size();if((e+=c)>=i)$("h1.js-import-title").html("Import summary"),$("p.js-import-progress").html("<strong>Matching complete.</strong> Check the results and complete your import below.");else{var d="<strong>"+bxd.formatNumber(e)+"</strong> "+(1===e?"film":"films");s.html(d)}var f=[];f[0]=l.first();for(var h=1;h<c;h++)f[h]=f[h-1].next();function m(e,t){var n=e.find("input.film-search");n.autocomplete(n.data("url"),$.extend({},bxd.autocompleteConfig,{width:328})).result((function(n,i){var r,o="{ filmId: "+i.id+", importFilms: [ "+e.attr("data-json")+"] }";r=$("#imdb-importer-matched-form").length?$("#imdb-importer-matched-form").data("url"):$("#importer-matched-form").data("url"),$.ajax({url:r,type:"POST",data:{json:o,__csrf:supermodelCSRF},dataType:"html",success:function(e){p(e,t)},error:function(){}})})),n.blur((function(){setTimeout((function(){n.trigger("close")}),300)}))}for(var g=function(){for(var e=$(this).text().split(","),t='<ul class="tags">',n=0;n<e.length;n++)t+='<li class="tag"><span>'+$.trim(e[n])+"</span></li>";t+="</ul>",$(this).html(t)},v=0;v<c;v++){var y;$thisFilm=-1==a?t[v]:t[a],(y=$thisFilm.find(".matched")).html(f[v]),bxd.layout(y),m($thisFilm,-1==a?v:a),y.find(".import-tags").each(g),!0===$thisFilm.find(".import-film-details").data("already-rated")&&$thisFilm.addClass("import-film-already-rated"),$($thisFilm.find(".import-match")).length&&u.initImportFilm($thisFilm)}if(setTimeout((function(){!function(e){var t=[];$(e).find(".film-detail-content").each((function(){var e=$(this).height(),n=$(this).parent().height();e<n&&t.push({node:$(this),marginTop:(n-e)/2})}));for(var n=t.length-1;n>=0;n--)t[n].node.css({"margin-top":t[n].marginTop})}($(".matched"))}),0),!1===t[0].data("matchThisFilmOnly")){for(var b=0;b<n;b++)t[b].data("matchThisFilmOnly",!0);o()}}h()}(c,25,o,(function(){n(r,o,c[c.length-1])})):($("a.submit-matched-films").removeClass("import-button-disabled").css({opacity:1}),$("#imdb-importer-matched-form").show(),$("#importer-matched-form").show(),t())}($("#import-films"),c),$("#import-films").fadeIn(),$("#imdb-importer-matched-form").submit((function(e){return e.preventDefault(),n($("#imdb-importer-matched-form")),!1})),$("a.add-import-films-to-list").click((function(e){e.preventDefault(),$(this).hasClass("import-button-disabled")||($(this).html("Adding Films…"),$("#importer-matched-form").trigger("submit"))})),$("a.add-import-films-to-watchlist").click((function(e){(e.preventDefault(),$(this).hasClass("import-button-disabled"))||($(this).html("Adding Films…"),n($("#imdb-importer-matched-form")))})),$("#importer-matched-form").protectUnsavedChanges({warning:"Your list import will be canceled."})}$("#importer-matched-form").length&&i()}))},68169:(e,t,n)=>{n(90195),n(31875),n(75602),n(30046),$((function(){function e(){var e=$(".really-lazy-load").filter((function(){return $.inviewport(this,{threshold:1e3,container:window})}));bxd.loadReallyLazyPosters(e)}var t;function n(){clearTimeout(t),t=setTimeout(e,30)}$(window).bind("scroll",n),PubSub.subscribe("really-lazy-load",n),n()}))},86983:()=>{function e(e,t){$.get(baseURL+"/user/s/"+t.toLowerCase()+"friends.do",{start:e},(function(e,t,n){$("#social-friends-table tbody").append(e),bxd.layout($("#social-friends-table tbody"))}),"html")}window.socialFriendsInitialise=function(t){if(void 0!==t&&""!==t){var n=t.charAt(0).toUpperCase()+t.substr(1);$("#social-friends-table").after("<div id='spinner'></div>"),$("#spinner").lbSpinner({size:24}),$("#social-loading-message").html("Finding your "+n+" friends with an account linked on Letterboxd. Please stand by&hellip;"),e(0,t)}else window.location=baseURL+"/settings/"},window.socialFriendsLoad=e},71701:(e,t,n)=>{"use strict";n.r(t);n(62888),n(31875),n(58722),n(18482),n(41479),n(30046),n(30535),n(85018),n(90195),n(75602),n(52248);var i=n(64125),r=(n(39720),n(47559),n(47989)),o=n(2126),a=n(75542),s=n(44890),l=n(20402),c=n(91693),u=n(77189),d=(n(93418),n(82395),n(63208),n(12566),n(20857),n(86434),n(29888),n(11312)),f=n.n(d),h=n(72266),p=n.n(h),m=n(51301),g=n.n(m);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(){return x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},x.apply(this,arguments)}function _(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function k(e){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(e)}var C=k(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),T=k(/Edge/i),S=k(/firefox/i),E=k(/safari/i)&&!k(/chrome/i)&&!k(/android/i),O=k(/iP(ad|od|hone)/i),P=k(/chrome/i)&&k(/android/i),A={capture:!1,passive:!1};function j(e,t,n){e.addEventListener(t,n,!C&&A)}function I(e,t,n){e.removeEventListener(t,n,!C&&A)}function M(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(e){return!1}return!1}}function D(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function N(e,t,n,i){if(e){n=n||document;do{if(null!=t&&(">"===t[0]?e.parentNode===n&&M(e,t):M(e,t))||i&&e===n)return e;if(e===n)break}while(e=D(e))}return null}var L,R=/\s+/g;function F(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var i=(" "+e.className+" ").replace(R," ").replace(" "+t+" "," ");e.className=(i+(n?" "+t:"")).replace(R," ")}}function z(e,t,n){var i=e&&e.style;if(i){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];t in i||-1!==t.indexOf("webkit")||(t="-webkit-"+t),i[t]=n+("string"==typeof n?"":"px")}}function W(e,t){var n="";if("string"==typeof e)n=e;else do{var i=z(e,"transform");i&&"none"!==i&&(n=i+" "+n)}while(!t&&(e=e.parentNode));var r=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return r&&new r(n)}function H(e,t,n){if(e){var i=e.getElementsByTagName(t),r=0,o=i.length;if(n)for(;r<o;r++)n(i[r],r);return i}return[]}function B(){var e=document.scrollingElement;return e||document.documentElement}function U(e,t,n,i,r){if(e.getBoundingClientRect||e===window){var o,a,s,l,c,u,d;if(e!==window&&e.parentNode&&e!==B()?(a=(o=e.getBoundingClientRect()).top,s=o.left,l=o.bottom,c=o.right,u=o.height,d=o.width):(a=0,s=0,l=window.innerHeight,c=window.innerWidth,u=window.innerHeight,d=window.innerWidth),(t||n)&&e!==window&&(r=r||e.parentNode,!C))do{if(r&&r.getBoundingClientRect&&("none"!==z(r,"transform")||n&&"static"!==z(r,"position"))){var f=r.getBoundingClientRect();a-=f.top+parseInt(z(r,"border-top-width")),s-=f.left+parseInt(z(r,"border-left-width")),l=a+o.height,c=s+o.width;break}}while(r=r.parentNode);if(i&&e!==window){var h=W(r||e),p=h&&h.a,m=h&&h.d;h&&(l=(a/=m)+(u/=m),c=(s/=p)+(d/=p))}return{top:a,left:s,bottom:l,right:c,width:d,height:u}}}function Z(e,t,n){for(var i=X(e,!0),r=U(e)[t];i;){var o=U(i)[n];if(!("top"===n||"left"===n?r>=o:r<=o))return i;if(i===B())break;i=X(i,!1)}return!1}function q(e,t,n,i){for(var r=0,o=0,a=e.children;o<a.length;){if("none"!==a[o].style.display&&a[o]!==et.ghost&&(i||a[o]!==et.dragged)&&N(a[o],n.draggable,e,!1)){if(r===t)return a[o];r++}o++}return null}function Y(e,t){for(var n=e.lastElementChild;n&&(n===et.ghost||"none"===z(n,"display")||t&&!M(n,t));)n=n.previousElementSibling;return n||null}function Q(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)"TEMPLATE"===e.nodeName.toUpperCase()||e===et.clone||t&&!M(e,t)||n++;return n}function V(e){var t=0,n=0,i=B();if(e)do{var r=W(e),o=r.a,a=r.d;t+=e.scrollLeft*o,n+=e.scrollTop*a}while(e!==i&&(e=e.parentNode));return[t,n]}function X(e,t){if(!e||!e.getBoundingClientRect)return B();var n=e,i=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var r=z(n);if(n.clientWidth<n.scrollWidth&&("auto"==r.overflowX||"scroll"==r.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==r.overflowY||"scroll"==r.overflowY)){if(!n.getBoundingClientRect||n===document.body)return B();if(i||t)return n;i=!0}}}while(n=n.parentNode);return B()}function K(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function G(e,t){return function(){if(!L){var n=arguments,i=this;1===n.length?e.call(i,n[0]):e.apply(i,n),L=setTimeout((function(){L=void 0}),t)}}}function J(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function ee(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}var te="Sortable"+(new Date).getTime();function ne(){var e,t=[];return{captureAnimationState:function(){(t=[],this.options.animation)&&[].slice.call(this.el.children).forEach((function(e){if("none"!==z(e,"display")&&e!==et.ghost){t.push({target:e,rect:U(e)});var n=y({},t[t.length-1].rect);if(e.thisAnimationDuration){var i=W(e,!0);i&&(n.top-=i.f,n.left-=i.e)}e.fromRect=n}}))},addAnimationState:function(e){t.push(e)},removeAnimationState:function(e){t.splice(function(e,t){for(var n in e)if(e.hasOwnProperty(n))for(var i in t)if(t.hasOwnProperty(i)&&t[i]===e[n][i])return Number(n);return-1}(t,{target:e}),1)},animateAll:function(n){var i=this;if(!this.options.animation)return clearTimeout(e),void("function"==typeof n&&n());var r=!1,o=0;t.forEach((function(e){var t=0,n=e.target,a=n.fromRect,s=U(n),l=n.prevFromRect,c=n.prevToRect,u=e.rect,d=W(n,!0);d&&(s.top-=d.f,s.left-=d.e),n.toRect=s,n.thisAnimationDuration&&K(l,s)&&!K(a,s)&&(u.top-s.top)/(u.left-s.left)==(a.top-s.top)/(a.left-s.left)&&(t=function(e,t,n,i){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*i.animation}(u,l,c,i.options)),K(s,a)||(n.prevFromRect=a,n.prevToRect=s,t||(t=i.options.animation),i.animate(n,u,s,t)),t&&(r=!0,o=Math.max(o,t),clearTimeout(n.animationResetTimer),n.animationResetTimer=setTimeout((function(){n.animationTime=0,n.prevFromRect=null,n.fromRect=null,n.prevToRect=null,n.thisAnimationDuration=null}),t),n.thisAnimationDuration=t)})),clearTimeout(e),r?e=setTimeout((function(){"function"==typeof n&&n()}),o):"function"==typeof n&&n(),t=[]},animate:function(e,t,n,i){if(i){z(e,"transition",""),z(e,"transform","");var r=W(this.el),o=r&&r.a,a=r&&r.d,s=(t.left-n.left)/(o||1),l=(t.top-n.top)/(a||1);e.animatingX=!!s,e.animatingY=!!l,z(e,"transform","translate3d("+s+"px,"+l+"px,0)"),this.forRepaintDummy=function(e){return e.offsetWidth}(e),z(e,"transition","transform "+i+"ms"+(this.options.easing?" "+this.options.easing:"")),z(e,"transform","translate3d(0,0,0)"),"number"==typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout((function(){z(e,"transition",""),z(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1}),i)}}}}var ie=[],re={initializeByDefault:!0},oe={mount:function(e){for(var t in re)re.hasOwnProperty(t)&&!(t in e)&&(e[t]=re[t]);ie.forEach((function(t){if(t.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")})),ie.push(e)},pluginEvent:function(e,t,n){var i=this;this.eventCanceled=!1,n.cancel=function(){i.eventCanceled=!0};var r=e+"Global";ie.forEach((function(i){t[i.pluginName]&&(t[i.pluginName][r]&&t[i.pluginName][r](y({sortable:t},n)),t.options[i.pluginName]&&t[i.pluginName][e]&&t[i.pluginName][e](y({sortable:t},n)))}))},initializePlugins:function(e,t,n,i){for(var r in ie.forEach((function(i){var r=i.pluginName;if(e.options[r]||i.initializeByDefault){var o=new i(e,t,e.options);o.sortable=e,o.options=e.options,e[r]=o,x(n,o.defaults)}})),e.options)if(e.options.hasOwnProperty(r)){var o=this.modifyOption(e,r,e.options[r]);void 0!==o&&(e.options[r]=o)}},getEventProperties:function(e,t){var n={};return ie.forEach((function(i){"function"==typeof i.eventProperties&&x(n,i.eventProperties.call(t[i.pluginName],e))})),n},modifyOption:function(e,t,n){var i;return ie.forEach((function(r){e[r.pluginName]&&r.optionListeners&&"function"==typeof r.optionListeners[t]&&(i=r.optionListeners[t].call(e[r.pluginName],n))})),i}};function ae(e){var t=e.sortable,n=e.rootEl,i=e.name,r=e.targetEl,o=e.cloneEl,a=e.toEl,s=e.fromEl,l=e.oldIndex,c=e.newIndex,u=e.oldDraggableIndex,d=e.newDraggableIndex,f=e.originalEvent,h=e.putSortable,p=e.extraEventProperties;if(t=t||n&&n[te]){var m,g=t.options,v="on"+i.charAt(0).toUpperCase()+i.substr(1);!window.CustomEvent||C||T?(m=document.createEvent("Event")).initEvent(i,!0,!0):m=new CustomEvent(i,{bubbles:!0,cancelable:!0}),m.to=a||n,m.from=s||n,m.item=r||n,m.clone=o,m.oldIndex=l,m.newIndex=c,m.oldDraggableIndex=u,m.newDraggableIndex=d,m.originalEvent=f,m.pullMode=h?h.lastPutMode:void 0;var b=y(y({},p),oe.getEventProperties(i,t));for(var w in b)m[w]=b[w];n&&n.dispatchEvent(m),g[v]&&g[v].call(t,m)}}var se=["evt"],le=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.evt,r=_(n,se);oe.pluginEvent.bind(et)(e,t,y({dragEl:ue,parentEl:de,ghostEl:fe,rootEl:he,nextEl:pe,lastDownEl:me,cloneEl:ge,cloneHidden:ve,dragStarted:Pe,putSortable:ke,activeSortable:et.active,originalEvent:i,oldIndex:ye,oldDraggableIndex:we,newIndex:be,newDraggableIndex:xe,hideGhostForTarget:Xe,unhideGhostForTarget:Ke,cloneNowHidden:function(){ve=!0},cloneNowShown:function(){ve=!1},dispatchSortableEvent:function(e){ce({sortable:t,name:e,originalEvent:i})}},r))};function ce(e){ae(y({putSortable:ke,cloneEl:ge,targetEl:ue,rootEl:he,oldIndex:ye,oldDraggableIndex:we,newIndex:be,newDraggableIndex:xe},e))}var ue,de,fe,he,pe,me,ge,ve,ye,be,we,xe,_e,ke,Ce,Te,Se,Ee,$e,Oe,Pe,Ae,je,Ie,Me,De=!1,Ne=!1,Le=[],Re=!1,Fe=!1,ze=[],We=!1,He=[],Be="undefined"!=typeof document,Ue=O,Ze=T||C?"cssFloat":"float",qe=Be&&!P&&!O&&"draggable"in document.createElement("div"),Ye=function(){if(Be){if(C)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),Qe=function(e,t){var n=z(e),i=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),r=q(e,0,t),o=q(e,1,t),a=r&&z(r),s=o&&z(o),l=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+U(r).width,c=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+U(o).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(r&&a.float&&"none"!==a.float){var u="left"===a.float?"left":"right";return!o||"both"!==s.clear&&s.clear!==u?"horizontal":"vertical"}return r&&("block"===a.display||"flex"===a.display||"table"===a.display||"grid"===a.display||l>=i&&"none"===n[Ze]||o&&"none"===n[Ze]&&l+c>i)?"vertical":"horizontal"},Ve=function(e){function t(e,n){return function(i,r,o,a){var s=i.options.group.name&&r.options.group.name&&i.options.group.name===r.options.group.name;if(null==e&&(n||s))return!0;if(null==e||!1===e)return!1;if(n&&"clone"===e)return e;if("function"==typeof e)return t(e(i,r,o,a),n)(i,r,o,a);var l=(n?i:r).options.group.name;return!0===e||"string"==typeof e&&e===l||e.join&&e.indexOf(l)>-1}}var n={},i=e.group;i&&"object"==b(i)||(i={name:i}),n.name=i.name,n.checkPull=t(i.pull,!0),n.checkPut=t(i.put),n.revertClone=i.revertClone,e.group=n},Xe=function(){!Ye&&fe&&z(fe,"display","none")},Ke=function(){!Ye&&fe&&z(fe,"display","")};Be&&document.addEventListener("click",(function(e){if(Ne)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),Ne=!1,!1}),!0);var Ge=function(e){if(ue){var t=function(e,t){var n;return Le.some((function(i){var r=i[te].options.emptyInsertThreshold;if(r&&!Y(i)){var o=U(i),a=e>=o.left-r&&e<=o.right+r,s=t>=o.top-r&&t<=o.bottom+r;return a&&s?n=i:void 0}})),n}((e=e.touches?e.touches[0]:e).clientX,e.clientY);if(t){var n={};for(var i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[te]._onDragOver(n)}}},Je=function(e){ue&&ue.parentNode[te]._isOutsideThisEl(e.target)};function et(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=x({},t),e[te]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Qe(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==et.supportPointer&&"PointerEvent"in window&&!E,emptyInsertThreshold:5};for(var i in oe.initializePlugins(this,e,n),n)!(i in t)&&(t[i]=n[i]);for(var r in Ve(t),this)"_"===r.charAt(0)&&"function"==typeof this[r]&&(this[r]=this[r].bind(this));this.nativeDraggable=!t.forceFallback&&qe,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?j(e,"pointerdown",this._onTapStart):(j(e,"mousedown",this._onTapStart),j(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(j(e,"dragover",this),j(e,"dragenter",this)),Le.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),x(this,ne())}function tt(e,t,n,i,r,o,a,s){var l,c,u=e[te],d=u.options.onMove;return!window.CustomEvent||C||T?(l=document.createEvent("Event")).initEvent("move",!0,!0):l=new CustomEvent("move",{bubbles:!0,cancelable:!0}),l.to=t,l.from=e,l.dragged=n,l.draggedRect=i,l.related=r||t,l.relatedRect=o||U(t),l.willInsertAfter=s,l.originalEvent=a,e.dispatchEvent(l),d&&(c=d.call(u,l,a)),c}function nt(e){e.draggable=!1}function it(){We=!1}function rt(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,i=0;n--;)i+=t.charCodeAt(n);return i.toString(36)}function ot(e){return setTimeout(e,0)}function at(e){return clearTimeout(e)}et.prototype={constructor:et,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(Ae=null)},_getDirection:function(e,t){return"function"==typeof this.options.direction?this.options.direction.call(this,e,t,ue):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,i=this.options,r=i.preventOnFilter,o=e.type,a=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,s=(a||e).target,l=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||s,c=i.filter;if(function(e){He.length=0;var t=e.getElementsByTagName("input"),n=t.length;for(;n--;){var i=t[n];i.checked&&He.push(i)}}(n),!ue&&!(/mousedown|pointerdown/.test(o)&&0!==e.button||i.disabled)&&!l.isContentEditable&&(this.nativeDraggable||!E||!s||"SELECT"!==s.tagName.toUpperCase())&&!((s=N(s,i.draggable,n,!1))&&s.animated||me===s)){if(ye=Q(s),we=Q(s,i.draggable),"function"==typeof c){if(c.call(this,e,s,this))return ce({sortable:t,rootEl:l,name:"filter",targetEl:s,toEl:n,fromEl:n}),le("filter",t,{evt:e}),void(r&&e.cancelable&&e.preventDefault())}else if(c&&(c=c.split(",").some((function(i){if(i=N(l,i.trim(),n,!1))return ce({sortable:t,rootEl:i,name:"filter",targetEl:s,fromEl:n,toEl:n}),le("filter",t,{evt:e}),!0}))))return void(r&&e.cancelable&&e.preventDefault());i.handle&&!N(l,i.handle,n,!1)||this._prepareDragStart(e,a,s)}}},_prepareDragStart:function(e,t,n){var i,r=this,o=r.el,a=r.options,s=o.ownerDocument;if(n&&!ue&&n.parentNode===o){var l=U(n);if(he=o,de=(ue=n).parentNode,pe=ue.nextSibling,me=n,_e=a.group,et.dragged=ue,Ce={target:ue,clientX:(t||e).clientX,clientY:(t||e).clientY},$e=Ce.clientX-l.left,Oe=Ce.clientY-l.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,ue.style["will-change"]="all",i=function(){le("delayEnded",r,{evt:e}),et.eventCanceled?r._onDrop():(r._disableDelayedDragEvents(),!S&&r.nativeDraggable&&(ue.draggable=!0),r._triggerDragStart(e,t),ce({sortable:r,name:"choose",originalEvent:e}),F(ue,a.chosenClass,!0))},a.ignore.split(",").forEach((function(e){H(ue,e.trim(),nt)})),j(s,"dragover",Ge),j(s,"mousemove",Ge),j(s,"touchmove",Ge),j(s,"mouseup",r._onDrop),j(s,"touchend",r._onDrop),j(s,"touchcancel",r._onDrop),S&&this.nativeDraggable&&(this.options.touchStartThreshold=4,ue.draggable=!0),le("delayStart",this,{evt:e}),!a.delay||a.delayOnTouchOnly&&!t||this.nativeDraggable&&(T||C))i();else{if(et.eventCanceled)return void this._onDrop();j(s,"mouseup",r._disableDelayedDrag),j(s,"touchend",r._disableDelayedDrag),j(s,"touchcancel",r._disableDelayedDrag),j(s,"mousemove",r._delayedDragTouchMoveHandler),j(s,"touchmove",r._delayedDragTouchMoveHandler),a.supportPointer&&j(s,"pointermove",r._delayedDragTouchMoveHandler),r._dragStartTimer=setTimeout(i,a.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){ue&&nt(ue),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;I(e,"mouseup",this._disableDelayedDrag),I(e,"touchend",this._disableDelayedDrag),I(e,"touchcancel",this._disableDelayedDrag),I(e,"mousemove",this._delayedDragTouchMoveHandler),I(e,"touchmove",this._delayedDragTouchMoveHandler),I(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?j(document,"pointermove",this._onTouchMove):j(document,t?"touchmove":"mousemove",this._onTouchMove):(j(ue,"dragend",this),j(he,"dragstart",this._onDragStart));try{document.selection?ot((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(e,t){if(De=!1,he&&ue){le("dragStarted",this,{evt:t}),this.nativeDraggable&&j(document,"dragover",Je);var n=this.options;!e&&F(ue,n.dragClass,!1),F(ue,n.ghostClass,!0),et.active=this,e&&this._appendGhost(),ce({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(Te){this._lastX=Te.clientX,this._lastY=Te.clientY,Xe();for(var e=document.elementFromPoint(Te.clientX,Te.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(Te.clientX,Te.clientY))!==t;)t=e;if(ue.parentNode[te]._isOutsideThisEl(e),t)do{if(t[te]){if(t[te]._onDragOver({clientX:Te.clientX,clientY:Te.clientY,target:e,rootEl:t})&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);Ke()}},_onTouchMove:function(e){if(Ce){var t=this.options,n=t.fallbackTolerance,i=t.fallbackOffset,r=e.touches?e.touches[0]:e,o=fe&&W(fe,!0),a=fe&&o&&o.a,s=fe&&o&&o.d,l=Ue&&Me&&V(Me),c=(r.clientX-Ce.clientX+i.x)/(a||1)+(l?l[0]-ze[0]:0)/(a||1),u=(r.clientY-Ce.clientY+i.y)/(s||1)+(l?l[1]-ze[1]:0)/(s||1);if(!et.active&&!De){if(n&&Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(fe){o?(o.e+=c-(Se||0),o.f+=u-(Ee||0)):o={a:1,b:0,c:0,d:1,e:c,f:u};var d="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");z(fe,"webkitTransform",d),z(fe,"mozTransform",d),z(fe,"msTransform",d),z(fe,"transform",d),Se=c,Ee=u,Te=r}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!fe){var e=this.options.fallbackOnBody?document.body:he,t=U(ue,!0,Ue,!0,e),n=this.options;if(Ue){for(Me=e;"static"===z(Me,"position")&&"none"===z(Me,"transform")&&Me!==document;)Me=Me.parentNode;Me!==document.body&&Me!==document.documentElement?(Me===document&&(Me=B()),t.top+=Me.scrollTop,t.left+=Me.scrollLeft):Me=B(),ze=V(Me)}F(fe=ue.cloneNode(!0),n.ghostClass,!1),F(fe,n.fallbackClass,!0),F(fe,n.dragClass,!0),z(fe,"transition",""),z(fe,"transform",""),z(fe,"box-sizing","border-box"),z(fe,"margin",0),z(fe,"top",t.top),z(fe,"left",t.left),z(fe,"width",t.width),z(fe,"height",t.height),z(fe,"opacity","0.8"),z(fe,"position",Ue?"absolute":"fixed"),z(fe,"zIndex","100000"),z(fe,"pointerEvents","none"),et.ghost=fe,e.appendChild(fe),z(fe,"transform-origin",$e/parseInt(fe.style.width)*100+"% "+Oe/parseInt(fe.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,i=e.dataTransfer,r=n.options;le("dragStart",this,{evt:e}),et.eventCanceled?this._onDrop():(le("setupClone",this),et.eventCanceled||((ge=ee(ue)).draggable=!1,ge.style["will-change"]="",this._hideClone(),F(ge,this.options.chosenClass,!1),et.clone=ge),n.cloneId=ot((function(){le("clone",n),et.eventCanceled||(n.options.removeCloneOnHide||he.insertBefore(ge,ue),n._hideClone(),ce({sortable:n,name:"clone"}))})),!t&&F(ue,r.dragClass,!0),t?(Ne=!0,n._loopId=setInterval(n._emulateDragOver,50)):(I(document,"mouseup",n._onDrop),I(document,"touchend",n._onDrop),I(document,"touchcancel",n._onDrop),i&&(i.effectAllowed="move",r.setData&&r.setData.call(n,i,ue)),j(document,"drop",n),z(ue,"transform","translateZ(0)")),De=!0,n._dragStartId=ot(n._dragStarted.bind(n,t,e)),j(document,"selectstart",n),Pe=!0,E&&z(document.body,"user-select","none"))},_onDragOver:function(e){var t,n,i,r,o=this.el,a=e.target,s=this.options,l=s.group,c=et.active,u=_e===l,d=s.sort,f=ke||c,h=this,p=!1;if(!We){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),a=N(a,s.draggable,o,!0),P("dragOver"),et.eventCanceled)return p;if(ue.contains(e.target)||a.animated&&a.animatingX&&a.animatingY||h._ignoreWhileAnimating===a)return j(!1);if(Ne=!1,c&&!s.disabled&&(u?d||(i=de!==he):ke===this||(this.lastPutMode=_e.checkPull(this,c,ue,e))&&l.checkPut(this,c,ue,e))){if(r="vertical"===this._getDirection(e,a),t=U(ue),P("dragOverValid"),et.eventCanceled)return p;if(i)return de=he,A(),this._hideClone(),P("revert"),et.eventCanceled||(pe?he.insertBefore(ue,pe):he.appendChild(ue)),j(!0);var m=Y(o,s.draggable);if(!m||function(e,t,n){var i=U(Y(n.el,n.options.draggable)),r=10;return t?e.clientX>i.right+r||e.clientX<=i.right&&e.clientY>i.bottom&&e.clientX>=i.left:e.clientX>i.right&&e.clientY>i.top||e.clientX<=i.right&&e.clientY>i.bottom+r}(e,r,this)&&!m.animated){if(m===ue)return j(!1);if(m&&o===e.target&&(a=m),a&&(n=U(a)),!1!==tt(he,o,ue,t,a,n,e,!!a))return A(),o.appendChild(ue),de=o,I(),j(!0)}else if(m&&function(e,t,n){var i=U(q(n.el,0,n.options,!0)),r=10;return t?e.clientX<i.left-r||e.clientY<i.top&&e.clientX<i.right:e.clientY<i.top-r||e.clientY<i.bottom&&e.clientX<i.left}(e,r,this)){var g=q(o,0,s,!0);if(g===ue)return j(!1);if(n=U(a=g),!1!==tt(he,o,ue,t,a,n,e,!1))return A(),o.insertBefore(ue,g),de=o,I(),j(!0)}else if(a.parentNode===o){n=U(a);var v,b,w,x=ue.parentNode!==o,_=!function(e,t,n){var i=n?e.left:e.top,r=n?e.right:e.bottom,o=n?e.width:e.height,a=n?t.left:t.top,s=n?t.right:t.bottom,l=n?t.width:t.height;return i===a||r===s||i+o/2===a+l/2}(ue.animated&&ue.toRect||t,a.animated&&a.toRect||n,r),k=r?"top":"left",C=Z(a,"top","top")||Z(ue,"top","top"),T=C?C.scrollTop:void 0;if(Ae!==a&&(b=n[k],Re=!1,Fe=!_&&s.invertSwap||x),v=function(e,t,n,i,r,o,a,s){var l=i?e.clientY:e.clientX,c=i?n.height:n.width,u=i?n.top:n.left,d=i?n.bottom:n.right,f=!1;if(!a)if(s&&Ie<c*r){if(!Re&&(1===je?l>u+c*o/2:l<d-c*o/2)&&(Re=!0),Re)f=!0;else if(1===je?l<u+Ie:l>d-Ie)return-je}else if(l>u+c*(1-r)/2&&l<d-c*(1-r)/2)return function(e){return Q(ue)<Q(e)?1:-1}(t);if((f=f||a)&&(l<u+c*o/2||l>d-c*o/2))return l>u+c/2?1:-1;return 0}(e,a,n,r,_?1:s.swapThreshold,null==s.invertedSwapThreshold?s.swapThreshold:s.invertedSwapThreshold,Fe,Ae===a),0!==v){var S=Q(ue);do{S-=v,w=de.children[S]}while(w&&("none"===z(w,"display")||w===fe))}if(0===v||w===a)return j(!1);Ae=a,je=v;var E=a.nextElementSibling,$=!1,O=tt(he,o,ue,t,a,n,e,$=1===v);if(!1!==O)return 1!==O&&-1!==O||($=1===O),We=!0,setTimeout(it,30),A(),$&&!E?o.appendChild(ue):a.parentNode.insertBefore(ue,$?E:a),C&&J(C,0,T-C.scrollTop),de=ue.parentNode,void 0===b||Fe||(Ie=Math.abs(b-U(a)[k])),I(),j(!0)}if(o.contains(ue))return j(!1)}return!1}function P(s,l){le(s,h,y({evt:e,isOwner:u,axis:r?"vertical":"horizontal",revert:i,dragRect:t,targetRect:n,canSort:d,fromSortable:f,target:a,completed:j,onMove:function(n,i){return tt(he,o,ue,t,n,U(n),e,i)},changed:I},l))}function A(){P("dragOverAnimationCapture"),h.captureAnimationState(),h!==f&&f.captureAnimationState()}function j(t){return P("dragOverCompleted",{insertion:t}),t&&(u?c._hideClone():c._showClone(h),h!==f&&(F(ue,ke?ke.options.ghostClass:c.options.ghostClass,!1),F(ue,s.ghostClass,!0)),ke!==h&&h!==et.active?ke=h:h===et.active&&ke&&(ke=null),f===h&&(h._ignoreWhileAnimating=a),h.animateAll((function(){P("dragOverAnimationComplete"),h._ignoreWhileAnimating=null})),h!==f&&(f.animateAll(),f._ignoreWhileAnimating=null)),(a===ue&&!ue.animated||a===o&&!a.animated)&&(Ae=null),s.dragoverBubble||e.rootEl||a===document||(ue.parentNode[te]._isOutsideThisEl(e.target),!t&&Ge(e)),!s.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),p=!0}function I(){be=Q(ue),xe=Q(ue,s.draggable),ce({sortable:h,name:"change",toEl:o,newIndex:be,newDraggableIndex:xe,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){I(document,"mousemove",this._onTouchMove),I(document,"touchmove",this._onTouchMove),I(document,"pointermove",this._onTouchMove),I(document,"dragover",Ge),I(document,"mousemove",Ge),I(document,"touchmove",Ge)},_offUpEvents:function(){var e=this.el.ownerDocument;I(e,"mouseup",this._onDrop),I(e,"touchend",this._onDrop),I(e,"pointerup",this._onDrop),I(e,"touchcancel",this._onDrop),I(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;be=Q(ue),xe=Q(ue,n.draggable),le("drop",this,{evt:e}),de=ue&&ue.parentNode,be=Q(ue),xe=Q(ue,n.draggable),et.eventCanceled||(De=!1,Fe=!1,Re=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),at(this.cloneId),at(this._dragStartId),this.nativeDraggable&&(I(document,"drop",this),I(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),E&&z(document.body,"user-select",""),z(ue,"transform",""),e&&(Pe&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),fe&&fe.parentNode&&fe.parentNode.removeChild(fe),(he===de||ke&&"clone"!==ke.lastPutMode)&&ge&&ge.parentNode&&ge.parentNode.removeChild(ge),ue&&(this.nativeDraggable&&I(ue,"dragend",this),nt(ue),ue.style["will-change"]="",Pe&&!De&&F(ue,ke?ke.options.ghostClass:this.options.ghostClass,!1),F(ue,this.options.chosenClass,!1),ce({sortable:this,name:"unchoose",toEl:de,newIndex:null,newDraggableIndex:null,originalEvent:e}),he!==de?(be>=0&&(ce({rootEl:de,name:"add",toEl:de,fromEl:he,originalEvent:e}),ce({sortable:this,name:"remove",toEl:de,originalEvent:e}),ce({rootEl:de,name:"sort",toEl:de,fromEl:he,originalEvent:e}),ce({sortable:this,name:"sort",toEl:de,originalEvent:e})),ke&&ke.save()):be!==ye&&be>=0&&(ce({sortable:this,name:"update",toEl:de,originalEvent:e}),ce({sortable:this,name:"sort",toEl:de,originalEvent:e})),et.active&&(null!=be&&-1!==be||(be=ye,xe=we),ce({sortable:this,name:"end",toEl:de,originalEvent:e}),this.save())))),this._nulling()},_nulling:function(){le("nulling",this),he=ue=de=fe=pe=ge=me=ve=Ce=Te=Pe=be=xe=ye=we=Ae=je=ke=_e=et.dragged=et.ghost=et.clone=et.active=null,He.forEach((function(e){e.checked=!0})),He.length=Se=Ee=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":ue&&(this._onDragOver(e),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move");e.cancelable&&e.preventDefault()}(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,t=[],n=this.el.children,i=0,r=n.length,o=this.options;i<r;i++)N(e=n[i],o.draggable,this.el,!1)&&t.push(e.getAttribute(o.dataIdAttr)||rt(e));return t},sort:function(e,t){var n={},i=this.el;this.toArray().forEach((function(e,t){var r=i.children[t];N(r,this.options.draggable,i,!1)&&(n[e]=r)}),this),t&&this.captureAnimationState(),e.forEach((function(e){n[e]&&(i.removeChild(n[e]),i.appendChild(n[e]))})),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return N(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(void 0===t)return n[e];var i=oe.modifyOption(this,e,t);n[e]=void 0!==i?i:t,"group"===e&&Ve(n)},destroy:function(){le("destroy",this);var e=this.el;e[te]=null,I(e,"mousedown",this._onTapStart),I(e,"touchstart",this._onTapStart),I(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(I(e,"dragover",this),I(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),(function(e){e.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),Le.splice(Le.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!ve){if(le("hideClone",this),et.eventCanceled)return;z(ge,"display","none"),this.options.removeCloneOnHide&&ge.parentNode&&ge.parentNode.removeChild(ge),ve=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(ve){if(le("showClone",this),et.eventCanceled)return;ue.parentNode!=he||this.options.group.revertClone?pe?he.insertBefore(ge,pe):he.appendChild(ge):he.insertBefore(ge,ue),this.options.group.revertClone&&this.animate(ue,ge),z(ge,"display",""),ve=!1}}else this._hideClone()}},Be&&j(document,"touchmove",(function(e){(et.active||De)&&e.cancelable&&e.preventDefault()})),et.utils={on:j,off:I,css:z,find:H,is:function(e,t){return!!N(e,t,e,!1)},extend:function(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},throttle:G,closest:N,toggleClass:F,clone:ee,index:Q,nextTick:ot,cancelNextTick:at,detectDirection:Qe,getChild:q},et.get=function(e){return e[te]},et.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach((function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(et.utils=y(y({},et.utils),e.utils)),oe.mount(e)}))},et.create=function(e,t){return new et(e,t)},et.version="1.14.0";var st,lt,ct,ut,dt,ft,ht=[],pt=!1;function mt(){ht.forEach((function(e){clearInterval(e.pid)})),ht=[]}function gt(){clearInterval(ft)}var vt=G((function(e,t,n,i){if(t.scroll){var r,o=(e.touches?e.touches[0]:e).clientX,a=(e.touches?e.touches[0]:e).clientY,s=t.scrollSensitivity,l=t.scrollSpeed,c=B(),u=!1;lt!==n&&(lt=n,mt(),st=t.scroll,r=t.scrollFn,!0===st&&(st=X(n,!0)));var d=0,f=st;do{var h=f,p=U(h),m=p.top,g=p.bottom,v=p.left,y=p.right,b=p.width,w=p.height,x=void 0,_=void 0,k=h.scrollWidth,C=h.scrollHeight,T=z(h),S=h.scrollLeft,E=h.scrollTop;h===c?(x=b<k&&("auto"===T.overflowX||"scroll"===T.overflowX||"visible"===T.overflowX),_=w<C&&("auto"===T.overflowY||"scroll"===T.overflowY||"visible"===T.overflowY)):(x=b<k&&("auto"===T.overflowX||"scroll"===T.overflowX),_=w<C&&("auto"===T.overflowY||"scroll"===T.overflowY));var $=x&&(Math.abs(y-o)<=s&&S+b<k)-(Math.abs(v-o)<=s&&!!S),O=_&&(Math.abs(g-a)<=s&&E+w<C)-(Math.abs(m-a)<=s&&!!E);if(!ht[d])for(var P=0;P<=d;P++)ht[P]||(ht[P]={});ht[d].vx==$&&ht[d].vy==O&&ht[d].el===h||(ht[d].el=h,ht[d].vx=$,ht[d].vy=O,clearInterval(ht[d].pid),0==$&&0==O||(u=!0,ht[d].pid=setInterval(function(){i&&0===this.layer&&et.active._onTouchMove(dt);var t=ht[this.layer].vy?ht[this.layer].vy*l:0,n=ht[this.layer].vx?ht[this.layer].vx*l:0;"function"==typeof r&&"continue"!==r.call(et.dragged.parentNode[te],n,t,e,dt,ht[this.layer].el)||J(ht[this.layer].el,n,t)}.bind({layer:d}),24))),d++}while(t.bubbleScroll&&f!==c&&(f=X(f,!1)));pt=u}}),30),yt=function(e){var t=e.originalEvent,n=e.putSortable,i=e.dragEl,r=e.activeSortable,o=e.dispatchSortableEvent,a=e.hideGhostForTarget,s=e.unhideGhostForTarget;if(t){var l=n||r;a();var c=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,u=document.elementFromPoint(c.clientX,c.clientY);s(),l&&!l.el.contains(u)&&(o("spill"),this.onSpill({dragEl:i,putSortable:n}))}};function bt(){}function wt(){}bt.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var i=q(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(t,i):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:yt},x(bt,{pluginName:"revertOnSpill"}),wt.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable||this.sortable;n.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),n.animateAll()},drop:yt},x(wt,{pluginName:"removeOnSpill"});et.mount(new function(){function e(){for(var e in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"==typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?j(document,"dragover",this._handleAutoScroll):this.options.supportPointer?j(document,"pointermove",this._handleFallbackAutoScroll):t.touches?j(document,"touchmove",this._handleFallbackAutoScroll):j(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?I(document,"dragover",this._handleAutoScroll):(I(document,"pointermove",this._handleFallbackAutoScroll),I(document,"touchmove",this._handleFallbackAutoScroll),I(document,"mousemove",this._handleFallbackAutoScroll)),gt(),mt(),clearTimeout(L),L=void 0},nulling:function(){dt=lt=st=pt=ft=ct=ut=null,ht.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var n=this,i=(e.touches?e.touches[0]:e).clientX,r=(e.touches?e.touches[0]:e).clientY,o=document.elementFromPoint(i,r);if(dt=e,t||this.options.forceAutoScrollFallback||T||C||E){vt(e,this.options,o,t);var a=X(o,!0);!pt||ft&&i===ct&&r===ut||(ft&&gt(),ft=setInterval((function(){var o=X(document.elementFromPoint(i,r),!0);o!==a&&(a=o,mt()),vt(e,n.options,o,t)}),10),ct=i,ut=r)}else{if(!this.options.bubbleScroll||X(o,!0)===B())return void mt();vt(e,this.options,X(o,!1),!1)}}},x(e,{pluginName:"scroll",initializeByDefault:!0})}),et.mount(wt,bt);const xt=et;var _t=n(8841);_t.ML._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],(function(){var e,t,n,i,r=function(){_t.VN.call(this,"css"),this._overwriteProps.length=0,this.setRatio=r.prototype.setRatio},o=_t.ML._gsDefine.globals,a={},s=r.prototype=new _t.VN("css");s.constructor=r,r.version="2.1.3",r.API=2,r.defaultTransformPerspective=0,r.defaultSkewType="compensated",r.defaultSmoothOrigin=!0,s="px",r.suffixMap={top:s,right:s,bottom:s,left:s,width:s,height:s,fontSize:s,padding:s,margin:s,perspective:s,lineHeight:""};var l,c,u,d,f,h,p,m,g=/(?:\-|\.|\b)(\d|\.|e\-)+/g,v=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,y=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,b=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b),?/gi,w=/(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g,x=/(?:\d|\-|\+|=|#|\.)*/g,_=/opacity *= *([^)]*)/i,k=/opacity:([^;]*)/i,C=/alpha\(opacity *=.+?\)/i,T=/^(rgb|hsl)/,S=/([A-Z])/g,E=/-([a-z])/gi,$=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,O=function(e,t){return t.toUpperCase()},P=/(?:Left|Right|Width)/i,A=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,j=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,I=/,(?=[^\)]*(?:\(|$))/gi,M=/[\s,\(]/i,D=Math.PI/180,N=180/Math.PI,L={},R={style:{}},F=_t.ML.document||{createElement:function(){return R}},z=function(e,t){var n=F.createElementNS?F.createElementNS(t||"http://www.w3.org/1999/xhtml",e):F.createElement(e);return n.style?n:F.createElement(e)},W=z("div"),H=z("img"),B=r._internals={_specialProps:a},U=(_t.ML.navigator||{}).userAgent||"",Z=function(){var e=U.indexOf("Android"),t=z("a");return u=-1!==U.indexOf("Safari")&&-1===U.indexOf("Chrome")&&(-1===e||parseFloat(U.substr(e+8,2))>3),f=u&&parseFloat(U.substr(U.indexOf("Version/")+8,2))<6,d=-1!==U.indexOf("Firefox"),(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(U)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(U))&&(h=parseFloat(RegExp.$1)),!!t&&(t.style.cssText="top:1px;opacity:.55;",/^0.55/.test(t.style.opacity))}(),q=function(e){return _.test("string"==typeof e?e:(e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?parseFloat(RegExp.$1)/100:1},Y=function(e){_t.ML.console&&console.log(e)},Q="",V="",X=function(e,t){var n,i,r=(t=t||W).style;if(void 0!==r[e])return e;for(e=e.charAt(0).toUpperCase()+e.substr(1),n=["O","Moz","ms","Ms","Webkit"],i=5;--i>-1&&void 0===r[n[i]+e];);return i>=0?(Q="-"+(V=3===i?"ms":n[i]).toLowerCase()+"-",V+e):null},K="undefined"!=typeof window?window:F.defaultView||{getComputedStyle:function(){}},G=function(e){return K.getComputedStyle(e)},J=r.getStyle=function(e,t,n,i,r){var o;return Z||"opacity"!==t?(!i&&e.style[t]?o=e.style[t]:(n=n||G(e))?o=n[t]||n.getPropertyValue(t)||n.getPropertyValue(t.replace(S,"-$1").toLowerCase()):e.currentStyle&&(o=e.currentStyle[t]),null==r||o&&"none"!==o&&"auto"!==o&&"auto auto"!==o?o:r):q(e)},ee=B.convertToPixels=function(e,t,n,i,o){if("px"===i||!i&&"lineHeight"!==t)return n;if("auto"===i||!n)return 0;var a,s,l,c=P.test(t),u=e,d=W.style,f=n<0,h=1===n;if(f&&(n=-n),h&&(n*=100),"lineHeight"!==t||i)if("%"===i&&-1!==t.indexOf("border"))a=n/100*(c?e.clientWidth:e.clientHeight);else{if(d.cssText="border:0 solid red;position:"+J(e,"position")+";line-height:0;","%"!==i&&u.appendChild&&"v"!==i.charAt(0)&&"rem"!==i)d[c?"borderLeftWidth":"borderTopWidth"]=n+i;else{if(u=e.parentNode||F.body,-1!==J(u,"display").indexOf("flex")&&(d.position="absolute"),s=u._gsCache,l=_t.ZP.ticker.frame,s&&c&&s.time===l)return s.width*n/100;d[c?"width":"height"]=n+i}u.appendChild(W),a=parseFloat(W[c?"offsetWidth":"offsetHeight"]),u.removeChild(W),c&&"%"===i&&!1!==r.cacheWidths&&((s=u._gsCache=u._gsCache||{}).time=l,s.width=a/n*100),0!==a||o||(a=ee(e,t,n,i,!0))}else s=G(e).lineHeight,e.style.lineHeight=n,a=parseFloat(G(e).lineHeight),e.style.lineHeight=s;return h&&(a/=100),f?-a:a},te=B.calculateOffset=function(e,t,n){if("absolute"!==J(e,"position",n))return 0;var i="left"===t?"Left":"Top",r=J(e,"margin"+i,n);return e["offset"+i]-(ee(e,t,parseFloat(r),r.replace(x,""))||0)},ne=function(e,t){var n,i,r,o={};if(t=t||G(e))if(n=t.length)for(;--n>-1;)-1!==(r=t[n]).indexOf("-transform")&&Ie!==r||(o[r.replace(E,O)]=t.getPropertyValue(r));else for(n in t)-1!==n.indexOf("Transform")&&je!==n||(o[n]=t[n]);else if(t=e.currentStyle||e.style)for(n in t)"string"==typeof n&&void 0===o[n]&&(o[n.replace(E,O)]=t[n]);return Z||(o.opacity=q(e)),i=qe(e,t,!1),o.rotation=i.rotation,o.skewX=i.skewX,o.scaleX=i.scaleX,o.scaleY=i.scaleY,o.x=i.x,o.y=i.y,De&&(o.z=i.z,o.rotationX=i.rotationX,o.rotationY=i.rotationY,o.scaleZ=i.scaleZ),o.filters&&delete o.filters,o},ie=function(e,t,n,i,r){var o,a,s,l={},c=e.style;for(a in n)"cssText"!==a&&"length"!==a&&isNaN(a)&&(t[a]!==(o=n[a])||r&&r[a])&&-1===a.indexOf("Origin")&&("number"!=typeof o&&"string"!=typeof o||(l[a]="auto"!==o||"left"!==a&&"top"!==a?""!==o&&"auto"!==o&&"none"!==o||"string"!=typeof t[a]||""===t[a].replace(w,"")?o:0:te(e,a),void 0!==c[a]&&(s=new ye(c,a,c[a],s))));if(i)for(a in i)"className"!==a&&(l[a]=i[a]);return{difs:l,firstMPT:s}},re={width:["Left","Right"],height:["Top","Bottom"]},oe=["marginLeft","marginRight","marginTop","marginBottom"],ae=function(e,t,n){if("svg"===(e.nodeName+"").toLowerCase())return(n||G(e))[t]||0;if(e.getCTM&&Be(e))return e.getBBox()[t]||0;var i=parseFloat("width"===t?e.offsetWidth:e.offsetHeight),r=re[t],o=r.length;for(n=n||G(e);--o>-1;)i-=parseFloat(J(e,"padding"+r[o],n,!0))||0,i-=parseFloat(J(e,"border"+r[o]+"Width",n,!0))||0;return i},se=function(e,t){if("contain"===e||"auto"===e||"auto auto"===e)return e+" ";null!=e&&""!==e||(e="0 0");var n,i=e.split(" "),r=-1!==e.indexOf("left")?"0%":-1!==e.indexOf("right")?"100%":i[0],o=-1!==e.indexOf("top")?"0%":-1!==e.indexOf("bottom")?"100%":i[1];if(i.length>3&&!t){for(i=e.split(", ").join(",").split(","),e=[],n=0;n<i.length;n++)e.push(se(i[n]));return e.join(",")}return null==o?o="center"===r?"50%":"0":"center"===o&&(o="50%"),("center"===r||isNaN(parseFloat(r))&&-1===(r+"").indexOf("="))&&(r="50%"),e=r+" "+o+(i.length>2?" "+i[2]:""),t&&(t.oxp=-1!==r.indexOf("%"),t.oyp=-1!==o.indexOf("%"),t.oxr="="===r.charAt(1),t.oyr="="===o.charAt(1),t.ox=parseFloat(r.replace(w,"")),t.oy=parseFloat(o.replace(w,"")),t.v=e),t||e},le=function(e,t){return"function"==typeof e&&(e=e(m,p)),"string"==typeof e&&"="===e.charAt(1)?parseInt(e.charAt(0)+"1",10)*parseFloat(e.substr(2)):parseFloat(e)-parseFloat(t)||0},ce=function(e,t){"function"==typeof e&&(e=e(m,p));var n="string"==typeof e&&"="===e.charAt(1);return"string"==typeof e&&"v"===e.charAt(e.length-2)&&(e=(n?e.substr(0,2):0)+window["inner"+("vh"===e.substr(-2)?"Height":"Width")]*(parseFloat(n?e.substr(2):e)/100)),null==e?t:n?parseInt(e.charAt(0)+"1",10)*parseFloat(e.substr(2))+t:parseFloat(e)||0},ue=function(e,t,n,i){var r,o,a,s,l,c=1e-6;return"function"==typeof e&&(e=e(m,p)),null==e?s=t:"number"==typeof e?s=e:(r=360,o=e.split("_"),a=((l="="===e.charAt(1))?parseInt(e.charAt(0)+"1",10)*parseFloat(o[0].substr(2)):parseFloat(o[0]))*(-1===e.indexOf("rad")?1:N)-(l?0:t),o.length&&(i&&(i[n]=t+a),-1!==e.indexOf("short")&&(a%=r)!==a%180&&(a=a<0?a+r:a-r),-1!==e.indexOf("_cw")&&a<0?a=(a+3599999999640)%r-(a/r|0)*r:-1!==e.indexOf("ccw")&&a>0&&(a=(a-3599999999640)%r-(a/r|0)*r)),s=t+a),s<c&&s>-c&&(s=0),s},de={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},fe=function(e,t,n){return 255*(6*(e=e<0?e+1:e>1?e-1:e)<1?t+(n-t)*e*6:e<.5?n:3*e<2?t+(n-t)*(2/3-e)*6:t)+.5|0},he=r.parseColor=function(e,t){var n,i,r,o,a,s,l,c,u,d,f;if(e)if("number"==typeof e)n=[e>>16,e>>8&255,255&e];else{if(","===e.charAt(e.length-1)&&(e=e.substr(0,e.length-1)),de[e])n=de[e];else if("#"===e.charAt(0))4===e.length&&(i=e.charAt(1),r=e.charAt(2),o=e.charAt(3),e="#"+i+i+r+r+o+o),n=[(e=parseInt(e.substr(1),16))>>16,e>>8&255,255&e];else if("hsl"===e.substr(0,3))if(n=f=e.match(g),t){if(-1!==e.indexOf("="))return e.match(v)}else a=Number(n[0])%360/360,s=Number(n[1])/100,i=2*(l=Number(n[2])/100)-(r=l<=.5?l*(s+1):l+s-l*s),n.length>3&&(n[3]=Number(n[3])),n[0]=fe(a+1/3,i,r),n[1]=fe(a,i,r),n[2]=fe(a-1/3,i,r);else n=e.match(g)||de.transparent;n[0]=Number(n[0]),n[1]=Number(n[1]),n[2]=Number(n[2]),n.length>3&&(n[3]=Number(n[3]))}else n=de.black;return t&&!f&&(i=n[0]/255,r=n[1]/255,o=n[2]/255,l=((c=Math.max(i,r,o))+(u=Math.min(i,r,o)))/2,c===u?a=s=0:(d=c-u,s=l>.5?d/(2-c-u):d/(c+u),a=c===i?(r-o)/d+(r<o?6:0):c===r?(o-i)/d+2:(i-r)/d+4,a*=60),n[0]=a+.5|0,n[1]=100*s+.5|0,n[2]=100*l+.5|0),n},pe=function(e,t){var n,i,r,o=e.match(me)||[],a=0,s="";if(!o.length)return e;for(n=0;n<o.length;n++)i=o[n],a+=(r=e.substr(a,e.indexOf(i,a)-a)).length+i.length,3===(i=he(i,t)).length&&i.push(1),s+=r+(t?"hsla("+i[0]+","+i[1]+"%,"+i[2]+"%,"+i[3]:"rgba("+i.join(","))+")";return s+e.substr(a)},me="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b";for(s in de)me+="|"+s+"\\b";me=new RegExp(me+")","gi"),r.colorStringFilter=function(e){var t,n=e[0]+" "+e[1];me.test(n)&&(t=-1!==n.indexOf("hsl(")||-1!==n.indexOf("hsla("),e[0]=pe(e[0],t),e[1]=pe(e[1],t)),me.lastIndex=0},_t.ZP.defaultStringFilter||(_t.ZP.defaultStringFilter=r.colorStringFilter);var ge=function(e,t,n,i){if(null==e)return function(e){return e};var r,o=t?(e.match(me)||[""])[0]:"",a=e.split(o).join("").match(y)||[],s=e.substr(0,e.indexOf(a[0])),l=")"===e.charAt(e.length-1)?")":"",c=-1!==e.indexOf(" ")?" ":",",u=a.length,d=u>0?a[0].replace(g,""):"";return u?t?(r=function(e){var t,f,h,p;if("number"==typeof e)e+=d;else if(i&&I.test(e)){for(p=e.replace(I,"|").split("|"),h=0;h<p.length;h++)p[h]=r(p[h]);return p.join(",")}if(t=(e.match(me)||[o])[0],h=(f=e.split(t).join("").match(y)||[]).length,u>h--)for(;++h<u;)f[h]=n?f[(h-1)/2|0]:a[h];return s+f.join(c)+c+t+l+(-1!==e.indexOf("inset")?" inset":"")},r):(r=function(e){var t,o,f;if("number"==typeof e)e+=d;else if(i&&I.test(e)){for(o=e.replace(I,"|").split("|"),f=0;f<o.length;f++)o[f]=r(o[f]);return o.join(",")}if(f=(t=e.match(","===c?y:b)||[]).length,u>f--)for(;++f<u;)t[f]=n?t[(f-1)/2|0]:a[f];return(s&&"none"!==e&&e.substr(0,e.indexOf(t[0]))||s)+t.join(c)+l},r):function(e){return e}},ve=function(e){return e=e.split(","),function(t,n,i,r,o,a,s){var l,c=(n+"").split(" ");for(s={},l=0;l<4;l++)s[e[l]]=c[l]=c[l]||c[(l-1)/2>>0];return r.parse(t,s,o,a)}},ye=(B._setPluginRatio=function(e){this.plugin.setRatio(e);for(var t,n,i,r,o,a=this.data,s=a.proxy,l=a.firstMPT,c=1e-6;l;)t=s[l.v],l.r?t=l.r(t):t<c&&t>-c&&(t=0),l.t[l.p]=t,l=l._next;if(a.autoRotate&&(a.autoRotate.rotation=a.mod?a.mod.call(this._tween,s.rotation,this.t,this._tween):s.rotation),1===e||0===e)for(l=a.firstMPT,o=1===e?"e":"b";l;){if((n=l.t).type){if(1===n.type){for(r=n.xs0+n.s+n.xs1,i=1;i<n.l;i++)r+=n["xn"+i]+n["xs"+(i+1)];n[o]=r}}else n[o]=n.s+n.xs0;l=l._next}},function(e,t,n,i,r){this.t=e,this.p=t,this.v=n,this.r=r,i&&(i._prev=this,this._next=i)}),be=(B._parseToProxy=function(e,t,n,i,r,o){var a,s,l,c,u,d=i,f={},h={},p=n._transform,m=L;for(n._transform=null,L=t,i=u=n.parse(e,t,i,r),L=m,o&&(n._transform=p,d&&(d._prev=null,d._prev&&(d._prev._next=null)));i&&i!==d;){if(i.type<=1&&(h[s=i.p]=i.s+i.c,f[s]=i.s,o||(c=new ye(i,"s",s,c,i.r),i.c=0),1===i.type))for(a=i.l;--a>0;)l="xn"+a,h[s=i.p+"_"+l]=i.data[l],f[s]=i[l],o||(c=new ye(i,l,s,c,i.rxp[l]));i=i._next}return{proxy:f,end:h,firstMPT:c,pt:u}},B.CSSPropTween=function(t,n,r,o,a,s,l,c,u,d,f){this.t=t,this.p=n,this.s=r,this.c=o,this.n=l||n,t instanceof be||i.push(this.n),this.r=c?"function"==typeof c?c:Math.round:c,this.type=s||0,u&&(this.pr=u,e=!0),this.b=void 0===d?r:d,this.e=void 0===f?r+o:f,a&&(this._next=a,a._prev=this)}),we=function(e,t,n,i,r,o){var a=new be(e,t,n,i-n,r,-1,o);return a.b=n,a.e=a.xs0=i,a},xe=r.parseComplex=function(e,t,n,i,o,a,s,c,u,d){n=n||a||"","function"==typeof i&&(i=i(m,p)),s=new be(e,t,0,0,s,d?2:1,null,!1,c,n,i),i+="",o&&me.test(i+n)&&(i=[n,i],r.colorStringFilter(i),n=i[0],i=i[1]);var f,h,y,b,w,x,_,k,C,T,S,E,$,O=n.split(", ").join(",").split(" "),P=i.split(", ").join(",").split(" "),A=O.length,j=!1!==l;for(-1===i.indexOf(",")&&-1===n.indexOf(",")||(-1!==(i+n).indexOf("rgb")||-1!==(i+n).indexOf("hsl")?(O=O.join(" ").replace(I,", ").split(" "),P=P.join(" ").replace(I,", ").split(" ")):(O=O.join(" ").split(",").join(", ").split(" "),P=P.join(" ").split(",").join(", ").split(" ")),A=O.length),A!==P.length&&(A=(O=(a||"").split(" ")).length),s.plugin=u,s.setRatio=d,me.lastIndex=0,f=0;f<A;f++)if(b=O[f],w=P[f]+"",(k=parseFloat(b))||0===k)s.appendXtra("",k,le(w,k),w.replace(v,""),!(!j||-1===w.indexOf("px"))&&Math.round,!0);else if(o&&me.test(b))E=")"+((E=w.indexOf(")")+1)?w.substr(E):""),$=-1!==w.indexOf("hsl")&&Z,T=w,b=he(b,$),w=he(w,$),(C=b.length+w.length>6)&&!Z&&0===w[3]?(s["xs"+s.l]+=s.l?" transparent":"transparent",s.e=s.e.split(P[f]).join("transparent")):(Z||(C=!1),$?s.appendXtra(T.substr(0,T.indexOf("hsl"))+(C?"hsla(":"hsl("),b[0],le(w[0],b[0]),",",!1,!0).appendXtra("",b[1],le(w[1],b[1]),"%,",!1).appendXtra("",b[2],le(w[2],b[2]),C?"%,":"%"+E,!1):s.appendXtra(T.substr(0,T.indexOf("rgb"))+(C?"rgba(":"rgb("),b[0],w[0]-b[0],",",Math.round,!0).appendXtra("",b[1],w[1]-b[1],",",Math.round).appendXtra("",b[2],w[2]-b[2],C?",":E,Math.round),C&&(b=b.length<4?1:b[3],s.appendXtra("",b,(w.length<4?1:w[3])-b,E,!1))),me.lastIndex=0;else if(x=b.match(g)){if(!(_=w.match(v))||_.length!==x.length)return s;for(y=0,h=0;h<x.length;h++)S=x[h],T=b.indexOf(S,y),s.appendXtra(b.substr(y,T-y),Number(S),le(_[h],S),"",!(!j||"px"!==b.substr(T+S.length,2))&&Math.round,0===h),y=T+S.length;s["xs"+s.l]+=b.substr(y)}else s["xs"+s.l]+=s.l||s["xs"+s.l]?" "+w:w;if(-1!==i.indexOf("=")&&s.data){for(E=s.xs0+s.data.s,f=1;f<s.l;f++)E+=s["xs"+f]+s.data["xn"+f];s.e=E+s["xs"+f]}return s.l||(s.type=-1,s.xs0=s.e),s.xfirst||s},_e=9;for((s=be.prototype).l=s.pr=0;--_e>0;)s["xn"+_e]=0,s["xs"+_e]="";s.xs0="",s._next=s._prev=s.xfirst=s.data=s.plugin=s.setRatio=s.rxp=null,s.appendXtra=function(e,t,n,i,r,o){var a=this,s=a.l;return a["xs"+s]+=o&&(s||a["xs"+s])?" "+e:e||"",n||0===s||a.plugin?(a.l++,a.type=a.setRatio?2:1,a["xs"+a.l]=i||"",s>0?(a.data["xn"+s]=t+n,a.rxp["xn"+s]=r,a["xn"+s]=t,a.plugin||(a.xfirst=new be(a,"xn"+s,t,n,a.xfirst||a,0,a.n,r,a.pr),a.xfirst.xs0=0),a):(a.data={s:t+n},a.rxp={},a.s=t,a.c=n,a.r=r,a)):(a["xs"+s]+=t+(i||""),a)};var ke=function(e,t){t=t||{},this.p=t.prefix&&X(e)||e,a[e]=a[this.p]=this,this.format=t.formatter||ge(t.defaultValue,t.color,t.collapsible,t.multi),t.parser&&(this.parse=t.parser),this.clrs=t.color,this.multi=t.multi,this.keyword=t.keyword,this.dflt=t.defaultValue,this.allowFunc=t.allowFunc,this.pr=t.priority||0},Ce=B._registerComplexSpecialProp=function(e,t,n){"object"!=typeof t&&(t={parser:n});var i,r=e.split(","),o=t.defaultValue;for(n=n||[o],i=0;i<r.length;i++)t.prefix=0===i&&t.prefix,t.defaultValue=n[i]||o,new ke(r[i],t)},Te=B._registerPluginProp=function(e){if(!a[e]){var t=e.charAt(0).toUpperCase()+e.substr(1)+"Plugin";Ce(e,{parser:function(e,n,i,r,s,l,c){var u=o.com.greensock.plugins[t];return u?(u._cssRegister(),a[i].parse(e,n,i,r,s,l,c)):(Y("Error: "+t+" js file not loaded."),s)}})}};(s=ke.prototype).parseComplex=function(e,t,n,i,r,o){var a,s,l,c,u,d,f=this.keyword;if(this.multi&&(I.test(n)||I.test(t)?(s=t.replace(I,"|").split("|"),l=n.replace(I,"|").split("|")):f&&(s=[t],l=[n])),l){for(c=l.length>s.length?l.length:s.length,a=0;a<c;a++)t=s[a]=s[a]||this.dflt,n=l[a]=l[a]||this.dflt,f&&(u=t.indexOf(f))!==(d=n.indexOf(f))&&(-1===d?s[a]=s[a].split(f).join(""):-1===u&&(s[a]+=" "+f));t=s.join(", "),n=l.join(", ")}return xe(e,this.p,t,n,this.clrs,this.dflt,i,this.pr,r,o)},s.parse=function(e,t,i,r,o,a,s){return this.parseComplex(e.style,this.format(J(e,this.p,n,!1,this.dflt)),this.format(t),o,a)},r.registerSpecialProp=function(e,t,n){Ce(e,{parser:function(e,i,r,o,a,s,l){var c=new be(e,r,0,0,a,2,r,!1,n);return c.plugin=s,c.setRatio=t(e,i,o._tween,r),c},priority:n})},r.useSVGTransformAttr=!0;var Se,Ee,$e,Oe,Pe,Ae="scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","),je=X("transform"),Ie=Q+"transform",Me=X("transformOrigin"),De=null!==X("perspective"),Ne=B.Transform=function(){this.perspective=parseFloat(r.defaultTransformPerspective)||0,this.force3D=!(!1===r.defaultForce3D||!De)&&(r.defaultForce3D||"auto")},Le=_t.ML.SVGElement,Re=function(e,t,n){var i,r=F.createElementNS("http://www.w3.org/2000/svg",e),o=/([a-z])([A-Z])/g;for(i in n)r.setAttributeNS(null,i.replace(o,"$1-$2").toLowerCase(),n[i]);return t.appendChild(r),r},Fe=F.documentElement||{},ze=(Pe=h||/Android/i.test(U)&&!_t.ML.chrome,F.createElementNS&&Fe.appendChild&&!Pe&&(Ee=Re("svg",Fe),Oe=($e=Re("rect",Ee,{width:100,height:50,x:100})).getBoundingClientRect().width,$e.style[Me]="50% 50%",$e.style[je]="scaleX(0.5)",Pe=Oe===$e.getBoundingClientRect().width&&!(d&&De),Fe.removeChild(Ee)),Pe),We=function(e,t,n,i,o,a){var s,l,c,u,d,f,h,p,m,g,v,y,b,w,x=e._gsTransform,_=Ze(e,!0);x&&(b=x.xOrigin,w=x.yOrigin),(!i||(s=i.split(" ")).length<2)&&(0===(h=e.getBBox()).x&&0===h.y&&h.width+h.height===0&&(h={x:parseFloat(e.hasAttribute("x")?e.getAttribute("x"):e.hasAttribute("cx")?e.getAttribute("cx"):0)||0,y:parseFloat(e.hasAttribute("y")?e.getAttribute("y"):e.hasAttribute("cy")?e.getAttribute("cy"):0)||0,width:0,height:0}),s=[(-1!==(t=se(t).split(" "))[0].indexOf("%")?parseFloat(t[0])/100*h.width:parseFloat(t[0]))+h.x,(-1!==t[1].indexOf("%")?parseFloat(t[1])/100*h.height:parseFloat(t[1]))+h.y]),n.xOrigin=u=parseFloat(s[0]),n.yOrigin=d=parseFloat(s[1]),i&&_!==Ue&&(f=_[0],h=_[1],p=_[2],m=_[3],g=_[4],v=_[5],(y=f*m-h*p)&&(l=u*(m/y)+d*(-p/y)+(p*v-m*g)/y,c=u*(-h/y)+d*(f/y)-(f*v-h*g)/y,u=n.xOrigin=s[0]=l,d=n.yOrigin=s[1]=c)),x&&(a&&(n.xOffset=x.xOffset,n.yOffset=x.yOffset,x=n),o||!1!==o&&!1!==r.defaultSmoothOrigin?(l=u-b,c=d-w,x.xOffset+=l*_[0]+c*_[2]-l,x.yOffset+=l*_[1]+c*_[3]-c):x.xOffset=x.yOffset=0),a||e.setAttribute("data-svg-origin",s.join(" "))},He=function(e){var t,n=z("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=this.parentNode,r=this.nextSibling,o=this.style.cssText;if(Fe.appendChild(n),n.appendChild(this),this.style.display="block",e)try{t=this.getBBox(),this._originalGetBBox=this.getBBox,this.getBBox=He}catch(e){}else this._originalGetBBox&&(t=this._originalGetBBox());return r?i.insertBefore(this,r):i.appendChild(this),Fe.removeChild(n),this.style.cssText=o,t},Be=function(e){return!(!Le||!e.getCTM||e.parentNode&&!e.ownerSVGElement||!function(e){try{return e.getBBox()}catch(t){return He.call(e,!0)}}(e))},Ue=[1,0,0,1,0,0],Ze=function(e,t){var n,i,r,o,a,s,l,c=e._gsTransform||new Ne,u=1e5,d=e.style;if(je?i=J(e,Ie,null,!0):e.currentStyle&&(i=(i=e.currentStyle.filter.match(A))&&4===i.length?[i[0].substr(4),Number(i[2].substr(4)),Number(i[1].substr(4)),i[3].substr(4),c.x||0,c.y||0].join(","):""),n=!i||"none"===i||"matrix(1, 0, 0, 1, 0, 0)"===i,je&&n&&!e.offsetParent&&e!==Fe&&(o=d.display,d.display="block",(l=e.parentNode)&&e.offsetParent||(a=1,s=e.nextSibling,Fe.appendChild(e)),n=!(i=J(e,Ie,null,!0))||"none"===i||"matrix(1, 0, 0, 1, 0, 0)"===i,o?d.display=o:Xe(d,"display"),a&&(s?l.insertBefore(e,s):l?l.appendChild(e):Fe.removeChild(e))),(c.svg||e.getCTM&&Be(e))&&(n&&-1!==(d[je]+"").indexOf("matrix")&&(i=d[je],n=0),r=e.getAttribute("transform"),n&&r&&(i="matrix("+(r=e.transform.baseVal.consolidate().matrix).a+","+r.b+","+r.c+","+r.d+","+r.e+","+r.f+")",n=0)),n)return Ue;for(r=(i||"").match(g)||[],_e=r.length;--_e>-1;)o=Number(r[_e]),r[_e]=(a=o-(o|=0))?(a*u+(a<0?-.5:.5)|0)/u+o:o;return t&&r.length>6?[r[0],r[1],r[4],r[5],r[12],r[13]]:r},qe=B.getTransform=function(e,t,n,i){if(e._gsTransform&&n&&!i)return e._gsTransform;var o,a,s,l,c,u,d=n&&e._gsTransform||new Ne,f=d.scaleX<0,h=2e-5,p=1e5,m=De&&(parseFloat(J(e,Me,t,!1,"0 0 0").split(" ")[2])||d.zOrigin)||0,g=parseFloat(r.defaultTransformPerspective)||0;if(d.svg=!(!e.getCTM||!Be(e)),d.svg&&(We(e,J(e,Me,t,!1,"50% 50%")+"",d,e.getAttribute("data-svg-origin")),Se=r.useSVGTransformAttr||ze),(o=Ze(e))!==Ue){if(16===o.length){var v,y,b,w,x,_=o[0],k=o[1],C=o[2],T=o[3],S=o[4],E=o[5],$=o[6],O=o[7],P=o[8],A=o[9],j=o[10],I=o[12],M=o[13],D=o[14],L=o[11],R=Math.atan2($,j);d.zOrigin&&(I=P*(D=-d.zOrigin)-o[12],M=A*D-o[13],D=j*D+d.zOrigin-o[14]),d.rotationX=R*N,R&&(v=S*(w=Math.cos(-R))+P*(x=Math.sin(-R)),y=E*w+A*x,b=$*w+j*x,P=S*-x+P*w,A=E*-x+A*w,j=$*-x+j*w,L=O*-x+L*w,S=v,E=y,$=b),R=Math.atan2(-C,j),d.rotationY=R*N,R&&(y=k*(w=Math.cos(-R))-A*(x=Math.sin(-R)),b=C*w-j*x,A=k*x+A*w,j=C*x+j*w,L=T*x+L*w,_=v=_*w-P*x,k=y,C=b),R=Math.atan2(k,_),d.rotation=R*N,R&&(v=_*(w=Math.cos(R))+k*(x=Math.sin(R)),y=S*w+E*x,b=P*w+A*x,k=k*w-_*x,E=E*w-S*x,A=A*w-P*x,_=v,S=y,P=b),d.rotationX&&Math.abs(d.rotationX)+Math.abs(d.rotation)>359.9&&(d.rotationX=d.rotation=0,d.rotationY=180-d.rotationY),R=Math.atan2(S,E),d.scaleX=(Math.sqrt(_*_+k*k+C*C)*p+.5|0)/p,d.scaleY=(Math.sqrt(E*E+$*$)*p+.5|0)/p,d.scaleZ=(Math.sqrt(P*P+A*A+j*j)*p+.5|0)/p,_/=d.scaleX,S/=d.scaleY,k/=d.scaleX,E/=d.scaleY,Math.abs(R)>h?(d.skewX=R*N,S=0,"simple"!==d.skewType&&(d.scaleY*=1/Math.cos(R))):d.skewX=0,d.perspective=L?1/(L<0?-L:L):0,d.x=I,d.y=M,d.z=D,d.svg&&(d.x-=d.xOrigin-(d.xOrigin*_-d.yOrigin*S),d.y-=d.yOrigin-(d.yOrigin*k-d.xOrigin*E))}else if(!De||i||!o.length||d.x!==o[4]||d.y!==o[5]||!d.rotationX&&!d.rotationY){var F=o.length>=6,z=F?o[0]:1,W=o[1]||0,H=o[2]||0,B=F?o[3]:1;d.x=o[4]||0,d.y=o[5]||0,s=Math.sqrt(z*z+W*W),l=Math.sqrt(B*B+H*H),c=z||W?Math.atan2(W,z)*N:d.rotation||0,u=H||B?Math.atan2(H,B)*N+c:d.skewX||0,d.scaleX=s,d.scaleY=l,d.rotation=c,d.skewX=u,De&&(d.rotationX=d.rotationY=d.z=0,d.perspective=g,d.scaleZ=1),d.svg&&(d.x-=d.xOrigin-(d.xOrigin*z+d.yOrigin*H),d.y-=d.yOrigin-(d.xOrigin*W+d.yOrigin*B))}for(a in Math.abs(d.skewX)>90&&Math.abs(d.skewX)<270&&(f?(d.scaleX*=-1,d.skewX+=d.rotation<=0?180:-180,d.rotation+=d.rotation<=0?180:-180):(d.scaleY*=-1,d.skewX+=d.skewX<=0?180:-180)),d.zOrigin=m,d)d[a]<h&&d[a]>-h&&(d[a]=0)}return n&&(e._gsTransform=d,d.svg&&(Se&&e.style[je]?_t.ZP.delayedCall(.001,(function(){Xe(e.style,je)})):!Se&&e.getAttribute("transform")&&_t.ZP.delayedCall(.001,(function(){e.removeAttribute("transform")})))),d},Ye=function(e){var t,n,i=this.data,r=-i.rotation*D,o=r+i.skewX*D,a=1e5,s=(Math.cos(r)*i.scaleX*a|0)/a,l=(Math.sin(r)*i.scaleX*a|0)/a,c=(Math.sin(o)*-i.scaleY*a|0)/a,u=(Math.cos(o)*i.scaleY*a|0)/a,d=this.t.style,f=this.t.currentStyle;if(f){n=l,l=-c,c=-n,t=f.filter,d.filter="";var p,m,g=this.t.offsetWidth,v=this.t.offsetHeight,y="absolute"!==f.position,b="progid:DXImageTransform.Microsoft.Matrix(M11="+s+", M12="+l+", M21="+c+", M22="+u,w=i.x+g*i.xPercent/100,k=i.y+v*i.yPercent/100;if(null!=i.ox&&(w+=(p=(i.oxp?g*i.ox*.01:i.ox)-g/2)-(p*s+(m=(i.oyp?v*i.oy*.01:i.oy)-v/2)*l),k+=m-(p*c+m*u)),b+=y?", Dx="+((p=g/2)-(p*s+(m=v/2)*l)+w)+", Dy="+(m-(p*c+m*u)+k)+")":", sizingMethod='auto expand')",-1!==t.indexOf("DXImageTransform.Microsoft.Matrix(")?d.filter=t.replace(j,b):d.filter=b+" "+t,0!==e&&1!==e||1===s&&0===l&&0===c&&1===u&&(y&&-1===b.indexOf("Dx=0, Dy=0")||_.test(t)&&100!==parseFloat(RegExp.$1)||-1===t.indexOf(t.indexOf("Alpha"))&&d.removeAttribute("filter")),!y){var C,T,S,E=h<8?1:-1;for(p=i.ieOffsetX||0,m=i.ieOffsetY||0,i.ieOffsetX=Math.round((g-((s<0?-s:s)*g+(l<0?-l:l)*v))/2+w),i.ieOffsetY=Math.round((v-((u<0?-u:u)*v+(c<0?-c:c)*g))/2+k),_e=0;_e<4;_e++)S=(n=-1!==(C=f[T=oe[_e]]).indexOf("px")?parseFloat(C):ee(this.t,T,parseFloat(C),C.replace(x,""))||0)!==i[T]?_e<2?-i.ieOffsetX:-i.ieOffsetY:_e<2?p-i.ieOffsetX:m-i.ieOffsetY,d[T]=(i[T]=Math.round(n-S*(0===_e||2===_e?1:E)))+"px"}}},Qe=B.set3DTransformRatio=B.setTransformRatio=function(e){var t,n,i,r,o,a,s,l,c,u,f,h,p,m,g,v,y,b,w,x,_,k,C,T=this.data,S=this.t.style,E=T.rotation,$=T.rotationX,O=T.rotationY,P=T.scaleX,A=T.scaleY,j=T.scaleZ,I=T.x,M=T.y,N=T.z,L=T.svg,R=T.perspective,F=T.force3D,z=T.skewY,W=T.skewX;if(z&&(W+=z,E+=z),!((1!==e&&0!==e||"auto"!==F||this.tween._totalTime!==this.tween._totalDuration&&this.tween._totalTime)&&F||N||R||O||$||1!==j)||Se&&L||!De)E||W||L?(E*=D,k=W*D,C=1e5,n=Math.cos(E)*P,o=Math.sin(E)*P,i=Math.sin(E-k)*-A,a=Math.cos(E-k)*A,k&&"simple"===T.skewType&&(t=Math.tan(k-z*D),i*=t=Math.sqrt(1+t*t),a*=t,z&&(t=Math.tan(z*D),n*=t=Math.sqrt(1+t*t),o*=t)),L&&(I+=T.xOrigin-(T.xOrigin*n+T.yOrigin*i)+T.xOffset,M+=T.yOrigin-(T.xOrigin*o+T.yOrigin*a)+T.yOffset,Se&&(T.xPercent||T.yPercent)&&(g=this.t.getBBox(),I+=.01*T.xPercent*g.width,M+=.01*T.yPercent*g.height),I<(g=1e-6)&&I>-g&&(I=0),M<g&&M>-g&&(M=0)),w=(n*C|0)/C+","+(o*C|0)/C+","+(i*C|0)/C+","+(a*C|0)/C+","+I+","+M+")",L&&Se?this.t.setAttribute("transform","matrix("+w):S[je]=(T.xPercent||T.yPercent?"translate("+T.xPercent+"%,"+T.yPercent+"%) matrix(":"matrix(")+w):S[je]=(T.xPercent||T.yPercent?"translate("+T.xPercent+"%,"+T.yPercent+"%) matrix(":"matrix(")+P+",0,0,"+A+","+I+","+M+")";else{if(d&&(P<(g=1e-4)&&P>-g&&(P=j=2e-5),A<g&&A>-g&&(A=j=2e-5),!R||T.z||T.rotationX||T.rotationY||(R=0)),E||W)E*=D,v=n=Math.cos(E),y=o=Math.sin(E),W&&(E-=W*D,v=Math.cos(E),y=Math.sin(E),"simple"===T.skewType&&(t=Math.tan((W-z)*D),v*=t=Math.sqrt(1+t*t),y*=t,T.skewY&&(t=Math.tan(z*D),n*=t=Math.sqrt(1+t*t),o*=t))),i=-y,a=v;else{if(!(O||$||1!==j||R||L))return void(S[je]=(T.xPercent||T.yPercent?"translate("+T.xPercent+"%,"+T.yPercent+"%) translate3d(":"translate3d(")+I+"px,"+M+"px,"+N+"px)"+(1!==P||1!==A?" scale("+P+","+A+")":""));n=a=1,i=o=0}u=1,r=s=l=c=f=h=0,p=R?-1/R:0,m=T.zOrigin,g=1e-6,x=",",_="0",(E=O*D)&&(v=Math.cos(E),l=-(y=Math.sin(E)),f=p*-y,r=n*y,s=o*y,u=v,p*=v,n*=v,o*=v),(E=$*D)&&(t=i*(v=Math.cos(E))+r*(y=Math.sin(E)),b=a*v+s*y,c=u*y,h=p*y,r=i*-y+r*v,s=a*-y+s*v,u*=v,p*=v,i=t,a=b),1!==j&&(r*=j,s*=j,u*=j,p*=j),1!==A&&(i*=A,a*=A,c*=A,h*=A),1!==P&&(n*=P,o*=P,l*=P,f*=P),(m||L)&&(m&&(I+=r*-m,M+=s*-m,N+=u*-m+m),L&&(I+=T.xOrigin-(T.xOrigin*n+T.yOrigin*i)+T.xOffset,M+=T.yOrigin-(T.xOrigin*o+T.yOrigin*a)+T.yOffset),I<g&&I>-g&&(I=_),M<g&&M>-g&&(M=_),N<g&&N>-g&&(N=0)),w=T.xPercent||T.yPercent?"translate("+T.xPercent+"%,"+T.yPercent+"%) matrix3d(":"matrix3d(",w+=(n<g&&n>-g?_:n)+x+(o<g&&o>-g?_:o)+x+(l<g&&l>-g?_:l),w+=x+(f<g&&f>-g?_:f)+x+(i<g&&i>-g?_:i)+x+(a<g&&a>-g?_:a),$||O||1!==j?(w+=x+(c<g&&c>-g?_:c)+x+(h<g&&h>-g?_:h)+x+(r<g&&r>-g?_:r),w+=x+(s<g&&s>-g?_:s)+x+(u<g&&u>-g?_:u)+x+(p<g&&p>-g?_:p)+x):w+=",0,0,0,0,1,0,",w+=I+x+M+x+N+x+(R?1+-N/R:1)+")",S[je]=w}};(s=Ne.prototype).x=s.y=s.z=s.skewX=s.skewY=s.rotation=s.rotationX=s.rotationY=s.zOrigin=s.xPercent=s.yPercent=s.xOffset=s.yOffset=0,s.scaleX=s.scaleY=s.scaleZ=1,Ce("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,svgOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent,smoothOrigin",{parser:function(e,t,i,o,a,s,l){if(o._lastParsedTransform===l)return a;o._lastParsedTransform=l;var c=l.scale&&"function"==typeof l.scale?l.scale:0;c&&(l.scale=c(m,e));var u,d,f,h,g,v,y,b,w,x=e._gsTransform,_=e.style,k=1e-6,C=Ae.length,T=l,S={},E="transformOrigin",$=qe(e,n,!0,T.parseTransform),O=T.transform&&("function"==typeof T.transform?T.transform(m,p):T.transform);if($.skewType=T.skewType||$.skewType||r.defaultSkewType,o._transform=$,"rotationZ"in T&&(T.rotation=T.rotationZ),O&&"string"==typeof O&&je)(d=W.style)[je]=O,d.display="block",d.position="absolute",-1!==O.indexOf("%")&&(d.width=J(e,"width"),d.height=J(e,"height")),F.body.appendChild(W),u=qe(W,null,!1),"simple"===$.skewType&&(u.scaleY*=Math.cos(u.skewX*D)),$.svg&&(v=$.xOrigin,y=$.yOrigin,u.x-=$.xOffset,u.y-=$.yOffset,(T.transformOrigin||T.svgOrigin)&&(O={},We(e,se(T.transformOrigin),O,T.svgOrigin,T.smoothOrigin,!0),v=O.xOrigin,y=O.yOrigin,u.x-=O.xOffset-$.xOffset,u.y-=O.yOffset-$.yOffset),(v||y)&&(b=Ze(W,!0),u.x-=v-(v*b[0]+y*b[2]),u.y-=y-(v*b[1]+y*b[3]))),F.body.removeChild(W),u.perspective||(u.perspective=$.perspective),null!=T.xPercent&&(u.xPercent=ce(T.xPercent,$.xPercent)),null!=T.yPercent&&(u.yPercent=ce(T.yPercent,$.yPercent));else if("object"==typeof T){if(u={scaleX:ce(null!=T.scaleX?T.scaleX:T.scale,$.scaleX),scaleY:ce(null!=T.scaleY?T.scaleY:T.scale,$.scaleY),scaleZ:ce(T.scaleZ,$.scaleZ),x:ce(T.x,$.x),y:ce(T.y,$.y),z:ce(T.z,$.z),xPercent:ce(T.xPercent,$.xPercent),yPercent:ce(T.yPercent,$.yPercent),perspective:ce(T.transformPerspective,$.perspective)},null!=(g=T.directionalRotation))if("object"==typeof g)for(d in g)T[d]=g[d];else T.rotation=g;"string"==typeof T.x&&-1!==T.x.indexOf("%")&&(u.x=0,u.xPercent=ce(T.x,$.xPercent)),"string"==typeof T.y&&-1!==T.y.indexOf("%")&&(u.y=0,u.yPercent=ce(T.y,$.yPercent)),u.rotation=ue("rotation"in T?T.rotation:"shortRotation"in T?T.shortRotation+"_short":$.rotation,$.rotation,"rotation",S),De&&(u.rotationX=ue("rotationX"in T?T.rotationX:"shortRotationX"in T?T.shortRotationX+"_short":$.rotationX||0,$.rotationX,"rotationX",S),u.rotationY=ue("rotationY"in T?T.rotationY:"shortRotationY"in T?T.shortRotationY+"_short":$.rotationY||0,$.rotationY,"rotationY",S)),u.skewX=ue(T.skewX,$.skewX),u.skewY=ue(T.skewY,$.skewY)}for(De&&null!=T.force3D&&($.force3D=T.force3D,h=!0),(f=$.force3D||$.z||$.rotationX||$.rotationY||u.z||u.rotationX||u.rotationY||u.perspective)||null==T.scale||(u.scaleZ=1);--C>-1;)((O=u[w=Ae[C]]-$[w])>k||O<-k||null!=T[w]||null!=L[w])&&(h=!0,a=new be($,w,$[w],O,a),w in S&&(a.e=S[w]),a.xs0=0,a.plugin=s,o._overwriteProps.push(a.n));return O="function"==typeof T.transformOrigin?T.transformOrigin(m,p):T.transformOrigin,$.svg&&(O||T.svgOrigin)&&(v=$.xOffset,y=$.yOffset,We(e,se(O),u,T.svgOrigin,T.smoothOrigin),a=we($,"xOrigin",(x?$:u).xOrigin,u.xOrigin,a,E),a=we($,"yOrigin",(x?$:u).yOrigin,u.yOrigin,a,E),v===$.xOffset&&y===$.yOffset||(a=we($,"xOffset",x?v:$.xOffset,$.xOffset,a,E),a=we($,"yOffset",x?y:$.yOffset,$.yOffset,a,E)),O="0px 0px"),(O||De&&f&&$.zOrigin)&&(je?(h=!0,w=Me,O||(O=(O=(J(e,w,n,!1,"50% 50%")+"").split(" "))[0]+" "+O[1]+" "+$.zOrigin+"px"),O+="",(a=new be(_,w,0,0,a,-1,E)).b=_[w],a.plugin=s,De?(d=$.zOrigin,O=O.split(" "),$.zOrigin=(O.length>2?parseFloat(O[2]):d)||0,a.xs0=a.e=O[0]+" "+(O[1]||"50%")+" 0px",(a=new be($,"zOrigin",0,0,a,-1,a.n)).b=d,a.xs0=a.e=$.zOrigin):a.xs0=a.e=O):se(O+"",$)),h&&(o._transformType=$.svg&&Se||!f&&3!==this._transformType?2:3),c&&(l.scale=c),a},allowFunc:!0,prefix:!0}),Ce("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),Ce("clipPath",{defaultValue:"inset(0%)",prefix:!0,multi:!0,formatter:ge("inset(0% 0% 0% 0%)",!1,!0)}),Ce("borderRadius",{defaultValue:"0px",parser:function(e,i,r,o,a,s){i=this.format(i);var l,c,u,d,f,h,p,m,g,v,y,b,w,x,_,k,C=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],T=e.style;for(g=parseFloat(e.offsetWidth),v=parseFloat(e.offsetHeight),l=i.split(" "),c=0;c<C.length;c++)this.p.indexOf("border")&&(C[c]=X(C[c])),-1!==(f=d=J(e,C[c],n,!1,"0px")).indexOf(" ")&&(d=f.split(" "),f=d[0],d=d[1]),h=u=l[c],p=parseFloat(f),b=f.substr((p+"").length),(w="="===h.charAt(1))?(m=parseInt(h.charAt(0)+"1",10),h=h.substr(2),m*=parseFloat(h),y=h.substr((m+"").length-(m<0?1:0))||""):(m=parseFloat(h),y=h.substr((m+"").length)),""===y&&(y=t[r]||b),y!==b&&(x=ee(e,"borderLeft",p,b),_=ee(e,"borderTop",p,b),"%"===y?(f=x/g*100+"%",d=_/v*100+"%"):"em"===y?(f=x/(k=ee(e,"borderLeft",1,"em"))+"em",d=_/k+"em"):(f=x+"px",d=_+"px"),w&&(h=parseFloat(f)+m+y,u=parseFloat(d)+m+y)),a=xe(T,C[c],f+" "+d,h+" "+u,!1,"0px",a);return a},prefix:!0,formatter:ge("0px 0px 0px 0px",!1,!0)}),Ce("borderBottomLeftRadius,borderBottomRightRadius,borderTopLeftRadius,borderTopRightRadius",{defaultValue:"0px",parser:function(e,t,i,r,o,a){return xe(e.style,i,this.format(J(e,i,n,!1,"0px 0px")),this.format(t),!1,"0px",o)},prefix:!0,formatter:ge("0px 0px",!1,!0)}),Ce("backgroundPosition",{defaultValue:"0 0",parser:function(e,t,i,r,o,a){var s,l,c,u,d,f,p="background-position",m=n||G(e),g=this.format((m?h?m.getPropertyValue(p+"-x")+" "+m.getPropertyValue(p+"-y"):m.getPropertyValue(p):e.currentStyle.backgroundPositionX+" "+e.currentStyle.backgroundPositionY)||"0 0"),v=this.format(t);if(-1!==g.indexOf("%")!=(-1!==v.indexOf("%"))&&v.split(",").length<2&&(f=J(e,"backgroundImage").replace($,""))&&"none"!==f){for(s=g.split(" "),l=v.split(" "),H.setAttribute("src",f),c=2;--c>-1;)(u=-1!==(g=s[c]).indexOf("%"))!==(-1!==l[c].indexOf("%"))&&(d=0===c?e.offsetWidth-H.width:e.offsetHeight-H.height,s[c]=u?parseFloat(g)/100*d+"px":parseFloat(g)/d*100+"%");g=s.join(" ")}return this.parseComplex(e.style,g,v,o,a)},formatter:se}),Ce("backgroundSize",{defaultValue:"0 0",formatter:function(e){return"co"===(e+="").substr(0,2)?e:se(-1===e.indexOf(" ")?e+" "+e:e)}}),Ce("perspective",{defaultValue:"0px",prefix:!0}),Ce("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),Ce("transformStyle",{prefix:!0}),Ce("backfaceVisibility",{prefix:!0}),Ce("userSelect",{prefix:!0}),Ce("margin",{parser:ve("marginTop,marginRight,marginBottom,marginLeft")}),Ce("padding",{parser:ve("paddingTop,paddingRight,paddingBottom,paddingLeft")}),Ce("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(e,t,i,r,o,a){var s,l,c;return h<9?(l=e.currentStyle,c=h<8?" ":",",s="rect("+l.clipTop+c+l.clipRight+c+l.clipBottom+c+l.clipLeft+")",t=this.format(t).split(",").join(c)):(s=this.format(J(e,this.p,n,!1,this.dflt)),t=this.format(t)),this.parseComplex(e.style,s,t,o,a)}}),Ce("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),Ce("autoRound,strictUnits",{parser:function(e,t,n,i,r){return r}}),Ce("border",{defaultValue:"0px solid #000",parser:function(e,t,i,r,o,a){var s=J(e,"borderTopWidth",n,!1,"0px"),l=this.format(t).split(" "),c=l[0].replace(x,"");return"px"!==c&&(s=parseFloat(s)/ee(e,"borderTopWidth",1,c)+c),this.parseComplex(e.style,this.format(s+" "+J(e,"borderTopStyle",n,!1,"solid")+" "+J(e,"borderTopColor",n,!1,"#000")),l.join(" "),o,a)},color:!0,formatter:function(e){var t=e.split(" ");return t[0]+" "+(t[1]||"solid")+" "+(e.match(me)||["#000"])[0]}}),Ce("borderWidth",{parser:ve("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}),Ce("float,cssFloat,styleFloat",{parser:function(e,t,n,i,r,o){var a=e.style,s="cssFloat"in a?"cssFloat":"styleFloat";return new be(a,s,0,0,r,-1,n,!1,0,a[s],t)}});var Ve=function(e){var t,n=this.t,i=n.filter||J(this.data,"filter")||"",r=this.s+this.c*e|0;100===r&&(-1===i.indexOf("atrix(")&&-1===i.indexOf("radient(")&&-1===i.indexOf("oader(")?(n.removeAttribute("filter"),t=!J(this.data,"filter")):(n.filter=i.replace(C,""),t=!0)),t||(this.xn1&&(n.filter=i=i||"alpha(opacity="+r+")"),-1===i.indexOf("pacity")?0===r&&this.xn1||(n.filter=i+" alpha(opacity="+r+")"):n.filter=i.replace(_,"opacity="+r))};Ce("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(e,t,i,r,o,a){var s=parseFloat(J(e,"opacity",n,!1,"1")),l=e.style,c="autoAlpha"===i;return"string"==typeof t&&"="===t.charAt(1)&&(t=("-"===t.charAt(0)?-1:1)*parseFloat(t.substr(2))+s),c&&1===s&&"hidden"===J(e,"visibility",n)&&0!==t&&(s=0),Z?o=new be(l,"opacity",s,t-s,o):((o=new be(l,"opacity",100*s,100*(t-s),o)).xn1=c?1:0,l.zoom=1,o.type=2,o.b="alpha(opacity="+o.s+")",o.e="alpha(opacity="+(o.s+o.c)+")",o.data=e,o.plugin=a,o.setRatio=Ve),c&&((o=new be(l,"visibility",0,0,o,-1,null,!1,0,0!==s?"inherit":"hidden",0===t?"hidden":"inherit")).xs0="inherit",r._overwriteProps.push(o.n),r._overwriteProps.push(i)),o}});var Xe=function(e,t){t&&(e.removeProperty?("ms"!==t.substr(0,2)&&"webkit"!==t.substr(0,6)||(t="-"+t),e.removeProperty(t.replace(S,"-$1").toLowerCase())):e.removeAttribute(t))},Ke=function(e){if(this.t._gsClassPT=this,1===e||0===e){this.t.setAttribute("class",0===e?this.b:this.e);for(var t=this.data,n=this.t.style;t;)t.v?n[t.p]=t.v:Xe(n,t.p),t=t._next;1===e&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.getAttribute("class")!==this.e&&this.t.setAttribute("class",this.e)};Ce("className",{parser:function(t,i,r,o,a,s,l){var c,u,d,f,h,p=t.getAttribute("class")||"",m=t.style.cssText;if((a=o._classNamePT=new be(t,r,0,0,a,2)).setRatio=Ke,a.pr=-11,e=!0,a.b=p,u=ne(t,n),d=t._gsClassPT){for(f={},h=d.data;h;)f[h.p]=1,h=h._next;d.setRatio(1)}return t._gsClassPT=a,a.e="="!==i.charAt(1)?i:p.replace(new RegExp("(?:\\s|^)"+i.substr(2)+"(?![\\w-])"),"")+("+"===i.charAt(0)?" "+i.substr(2):""),t.setAttribute("class",a.e),c=ie(t,u,ne(t),l,f),t.setAttribute("class",p),a.data=c.firstMPT,t.style.cssText!==m&&(t.style.cssText=m),a=a.xfirst=o.parse(t,c.difs,a,s)}});var Ge=function(e){if((1===e||0===e)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var t,n,i,r,o,s=this.t.style,l=a.transform.parse;if("all"===this.e)s.cssText="",r=!0;else for(i=(t=this.e.split(" ").join("").split(",")).length;--i>-1;)n=t[i],a[n]&&(a[n].parse===l?r=!0:n="transformOrigin"===n?Me:a[n].p),Xe(s,n);r&&(Xe(s,je),(o=this.t._gsTransform)&&(o.svg&&(this.t.removeAttribute("data-svg-origin"),this.t.removeAttribute("transform")),delete this.t._gsTransform))}};for(Ce("clearProps",{parser:function(t,n,i,r,o){return(o=new be(t,i,0,0,o,2)).setRatio=Ge,o.e=n,o.pr=-10,o.data=r._tween,e=!0,o}}),s="bezier,throwProps,physicsProps,physics2D".split(","),_e=s.length;_e--;)Te(s[_e]);(s=r.prototype)._firstPT=s._lastParsedTransform=s._transform=null,s._onInitTween=function(o,s,d,h){if(!o.nodeType)return!1;this._target=p=o,this._tween=d,this._vars=s,m=h,l=s.autoRound,e=!1,t=s.suffixMap||r.suffixMap,n=G(o),i=this._overwriteProps;var g,v,y,b,w,x,_,C,T,S=o.style;if(c&&""===S.zIndex&&("auto"!==(g=J(o,"zIndex",n))&&""!==g||this._addLazySet(S,"zIndex",0)),"string"==typeof s&&(b=S.cssText,g=ne(o,n),S.cssText=b+";"+s,g=ie(o,g,ne(o)).difs,!Z&&k.test(s)&&(g.opacity=parseFloat(RegExp.$1)),s=g,S.cssText=b),s.className?this._firstPT=v=a.className.parse(o,s.className,"className",this,null,null,s):this._firstPT=v=this.parse(o,s,null),this._transformType){for(T=3===this._transformType,je?u&&(c=!0,""===S.zIndex&&("auto"!==(_=J(o,"zIndex",n))&&""!==_||this._addLazySet(S,"zIndex",0)),f&&this._addLazySet(S,"WebkitBackfaceVisibility",this._vars.WebkitBackfaceVisibility||(T?"visible":"hidden"))):S.zoom=1,y=v;y&&y._next;)y=y._next;C=new be(o,"transform",0,0,null,2),this._linkCSSP(C,null,y),C.setRatio=je?Qe:Ye,C.data=this._transform||qe(o,n,!0),C.tween=d,C.pr=-1,i.pop()}if(e){for(;v;){for(x=v._next,y=b;y&&y.pr>v.pr;)y=y._next;(v._prev=y?y._prev:w)?v._prev._next=v:b=v,(v._next=y)?y._prev=v:w=v,v=x}this._firstPT=b}return!0},s.parse=function(e,i,r,o){var s,c,u,d,f,h,g,v,y,b,w=e.style;for(s in i){if(h=i[s],c=a[s],"function"!=typeof h||c&&c.allowFunc||(h=h(m,p)),c)r=c.parse(e,h,s,this,r,o,i);else{if("--"===s.substr(0,2)){this._tween._propLookup[s]=this._addTween.call(this._tween,e.style,"setProperty",G(e).getPropertyValue(s)+"",h+"",s,!1,s);continue}f=J(e,s,n)+"",y="string"==typeof h,"color"===s||"fill"===s||"stroke"===s||-1!==s.indexOf("Color")||y&&T.test(h)?(y||(h=((h=he(h)).length>3?"rgba(":"rgb(")+h.join(",")+")"),r=xe(w,s,f,h,!0,"transparent",r,0,o)):y&&M.test(h)?r=xe(w,s,f,h,!0,null,r,0,o):(g=(u=parseFloat(f))||0===u?f.substr((u+"").length):"",""!==f&&"auto"!==f||("width"===s||"height"===s?(u=ae(e,s,n),g="px"):"left"===s||"top"===s?(u=te(e,s,n),g="px"):(u="opacity"!==s?0:1,g="")),(b=y&&"="===h.charAt(1))?(d=parseInt(h.charAt(0)+"1",10),h=h.substr(2),d*=parseFloat(h),v=h.replace(x,"")):(d=parseFloat(h),v=y?h.replace(x,""):""),""===v&&(v=s in t?t[s]:g),h=d||0===d?(b?d+u:d)+v:i[s],g!==v&&(""===v&&"lineHeight"!==s||(d||0===d)&&u&&(u=ee(e,s,u,g),"%"===v?(u/=ee(e,s,100,"%")/100,!0!==i.strictUnits&&(f=u+"%")):"em"===v||"rem"===v||"vw"===v||"vh"===v?u/=ee(e,s,1,v):"px"!==v&&(d=ee(e,s,d,v),v="px"),b&&(d||0===d)&&(h=d+u+v))),b&&(d+=u),!u&&0!==u||!d&&0!==d?void 0!==w[s]&&(h||h+""!="NaN"&&null!=h)?(r=new be(w,s,d||u||0,0,r,-1,s,!1,0,f,h)).xs0="none"!==h||"display"!==s&&-1===s.indexOf("Style")?h:f:Y("invalid "+s+" tween value: "+i[s]):(r=new be(w,s,u,d-u,r,0,s,!1!==l&&("px"===v||"zIndex"===s),0,f,h)).xs0=v)}o&&r&&!r.plugin&&(r.plugin=o)}return r},s.setRatio=function(e){var t,n,i,r=this._firstPT,o=1e-6;if(1!==e||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(e||this._tween._time!==this._tween._duration&&0!==this._tween._time||-1e-6===this._tween._rawPrevTime)for(;r;){if(t=r.c*e+r.s,r.r?t=r.r(t):t<o&&t>-o&&(t=0),r.type)if(1===r.type)if(2===(i=r.l))r.t[r.p]=r.xs0+t+r.xs1+r.xn1+r.xs2;else if(3===i)r.t[r.p]=r.xs0+t+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3;else if(4===i)r.t[r.p]=r.xs0+t+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3+r.xn3+r.xs4;else if(5===i)r.t[r.p]=r.xs0+t+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3+r.xn3+r.xs4+r.xn4+r.xs5;else{for(n=r.xs0+t+r.xs1,i=1;i<r.l;i++)n+=r["xn"+i]+r["xs"+(i+1)];r.t[r.p]=n}else-1===r.type?r.t[r.p]=r.xs0:r.setRatio&&r.setRatio(e);else r.t[r.p]=t+r.xs0;r=r._next}else for(;r;)2!==r.type?r.t[r.p]=r.b:r.setRatio(e),r=r._next;else for(;r;){if(2!==r.type)if(r.r&&-1!==r.type)if(t=r.r(r.s+r.c),r.type){if(1===r.type){for(i=r.l,n=r.xs0+t+r.xs1,i=1;i<r.l;i++)n+=r["xn"+i]+r["xs"+(i+1)];r.t[r.p]=n}}else r.t[r.p]=t+r.xs0;else r.t[r.p]=r.e;else r.setRatio(e);r=r._next}},s._enableTransforms=function(e){this._transform=this._transform||qe(this._target,n,!0),this._transformType=this._transform.svg&&Se||!e&&3!==this._transformType?2:3};var Je=function(e){this.t[this.p]=this.e,this.data._linkCSSP(this,this._next,null,!0)};s._addLazySet=function(e,t,n){var i=this._firstPT=new be(e,t,0,0,this._firstPT,2);i.e=n,i.setRatio=Je,i.data=this},s._linkCSSP=function(e,t,n,i){return e&&(t&&(t._prev=e),e._next&&(e._next._prev=e._prev),e._prev?e._prev._next=e._next:this._firstPT===e&&(this._firstPT=e._next,i=!0),n?n._next=e:i||null!==this._firstPT||(this._firstPT=e),e._next=t,e._prev=n),e},s._mod=function(e){for(var t=this._firstPT;t;)"function"==typeof e[t.p]&&(t.r=e[t.p]),t=t._next},s._kill=function(e){var t,n,i,r=e;if(e.autoAlpha||e.alpha){for(n in r={},e)r[n]=e[n];r.opacity=1,r.autoAlpha&&(r.visibility=1)}for(e.className&&(t=this._classNamePT)&&((i=t.xfirst)&&i._prev?this._linkCSSP(i._prev,t._next,i._prev._prev):i===this._firstPT&&(this._firstPT=t._next),t._next&&this._linkCSSP(t._next,t._next._next,i._prev),this._classNamePT=null),t=this._firstPT;t;)t.plugin&&t.plugin!==n&&t.plugin._kill&&(t.plugin._kill(e),n=t.plugin),t=t._next;return _t.VN.prototype._kill.call(this,r)};var et=function(e,t,n){var i,r,o,a;if(e.slice)for(r=e.length;--r>-1;)et(e[r],t,n);else for(r=(i=e.childNodes).length;--r>-1;)a=(o=i[r]).type,o.style&&(t.push(ne(o)),n&&n.push(o)),1!==a&&9!==a&&11!==a||!o.childNodes.length||et(o,t,n)};return r.cascadeTo=function(e,t,n){var i,r,o,a,s=_t.ZP.to(e,t,n),l=[s],c=[],u=[],d=[],f=_t.ZP._internals.reservedProps;for(e=s._targets||s.target,et(e,c,d),s.render(t,!0,!0),et(e,u),s.render(0,!0,!0),s._enabled(!0),i=d.length;--i>-1;)if((r=ie(d[i],c[i],u[i])).firstMPT){for(o in r=r.difs,n)f[o]&&(r[o]=n[o]);for(o in a={},r)a[o]=c[i][o];l.push(_t.ZP.fromTo(d[i],t,a,r))}return l},_t.VN.activate([r]),r}),!0);_t.li.CSSPlugin;var kt=(_t.ML.document||{}).documentElement,Ct=_t.ML,Tt=function(e,t){var n="x"===t?"Width":"Height",i="scroll"+n,r="client"+n,o=document.body;return e===Ct||e===kt||e===o?Math.max(kt[i],o[i])-(Ct["inner"+n]||kt[r]||o[r]):e[i]-e["offset"+n]},St=function(e,t){var n="scroll"+("x"===t?"Left":"Top");return e===Ct&&(null!=e.pageXOffset?n="page"+t.toUpperCase()+"Offset":e=null!=kt[n]?kt:document.body),function(){return e[n]}},Et=function(e,t){var n,i=(n=e,"string"==typeof n&&(n=TweenLite.selector(n)),n.length&&n!==Ct&&n[0]&&n[0].style&&!n.nodeType&&(n=n[0]),n===Ct||n.nodeType&&n.style?n:null).getBoundingClientRect(),r=document.body,o=!t||t===Ct||t===r,a=o?{top:kt.clientTop-(window.pageYOffset||kt.scrollTop||r.scrollTop||0),left:kt.clientLeft-(window.pageXOffset||kt.scrollLeft||r.scrollLeft||0)}:t.getBoundingClientRect(),s={x:i.left-a.left,y:i.top-a.top};return!o&&t&&(s.x+=St(t,"x")(),s.y+=St(t,"y")()),s},$t=function(e,t,n,i){var r=typeof e;return isNaN(e)?"string"===r&&"="===e.charAt(1)?parseInt(e.charAt(0)+"1",10)*parseFloat(e.substr(2))+i:"max"===e?Tt(t,n):Math.min(Tt(t,n),Et(e,t)[n]):parseFloat(e)},Ot=_t.ML._gsDefine.plugin({propName:"scrollTo",API:2,global:!0,version:"1.9.2",init:function(e,t,n){return this._wdw=e===Ct,this._target=e,this._tween=n,"object"!=typeof t?"string"==typeof(t={y:t}).y&&"max"!==t.y&&"="!==t.y.charAt(1)&&(t.x=t.y):t.nodeType&&(t={y:t,x:t}),this.vars=t,this._autoKill=!1!==t.autoKill,this.getX=St(e,"x"),this.getY=St(e,"y"),this.x=this.xPrev=this.getX(),this.y=this.yPrev=this.getY(),null!=t.x?(this._addTween(this,"x",this.x,$t(t.x,e,"x",this.x)-(t.offsetX||0),"scrollTo_x",!0),this._overwriteProps.push("scrollTo_x")):this.skipX=!0,null!=t.y?(this._addTween(this,"y",this.y,$t(t.y,e,"y",this.y)-(t.offsetY||0),"scrollTo_y",!0),this._overwriteProps.push("scrollTo_y")):this.skipY=!0,!0},set:function(e){this._super.setRatio.call(this,e);var t=this._wdw||!this.skipX?this.getX():this.xPrev,n=this._wdw||!this.skipY?this.getY():this.yPrev,i=n-this.yPrev,r=t-this.xPrev,o=Ot.autoKillThreshold;this.x<0&&(this.x=0),this.y<0&&(this.y=0),this._autoKill&&(!this.skipX&&(r>o||r<-o)&&t<Tt(this._target,"x")&&(this.skipX=!0),!this.skipY&&(i>o||i<-o)&&n<Tt(this._target,"y")&&(this.skipY=!0),this.skipX&&this.skipY&&(this._tween.kill(),this.vars.onAutoKill&&this.vars.onAutoKill.apply(this.vars.onAutoKillScope||this._tween,this.vars.onAutoKillParams||[]))),this._wdw?Ct.scrollTo(this.skipX?t:this.x,this.skipY?n:this.y):(this.skipY||(this._target.scrollTop=this.y),this.skipX||(this._target.scrollLeft=this.x)),this.xPrev=this.x,this.yPrev=this.y}}),Pt=Ot.prototype;Ot.max=Tt,Ot.getOffset=Et,Ot.buildGetter=St,Ot.autoKillThreshold=7,Pt._kill=function(e){return e.scrollTo_x&&(this.skipX=!0),e.scrollTo_y&&(this.skipY=!0),this._super._kill.call(this,e)},_t.ML._gsDefine("easing.Back",["easing.Ease"],(function(){var e,t,n,i,r=_t.ML.GreenSockGlobals||_t.ML,o=r.com.greensock,a=2*Math.PI,s=Math.PI/2,l=o._class,c=function(e,t){var n=l("easing."+e,(function(){}),!0),i=n.prototype=new _t.SX;return i.constructor=n,i.getRatio=t,n},u=_t.SX.register||function(){},d=function(e,t,n,i,r){var o=l("easing."+e,{easeOut:new t,easeIn:new n,easeInOut:new i},!0);return u(o,e),o},f=function(e,t,n){this.t=e,this.v=t,n&&(this.next=n,n.prev=this,this.c=n.v-t,this.gap=n.t-e)},h=function(e,t){var n=l("easing."+e,(function(e){this._p1=e||0===e?e:1.70158,this._p2=1.525*this._p1}),!0),i=n.prototype=new _t.SX;return i.constructor=n,i.getRatio=t,i.config=function(e){return new n(e)},n},p=d("Back",h("BackOut",(function(e){return(e-=1)*e*((this._p1+1)*e+this._p1)+1})),h("BackIn",(function(e){return e*e*((this._p1+1)*e-this._p1)})),h("BackInOut",(function(e){return(e*=2)<1?.5*e*e*((this._p2+1)*e-this._p2):.5*((e-=2)*e*((this._p2+1)*e+this._p2)+2)}))),m=l("easing.SlowMo",(function(e,t,n){t=t||0===t?t:.7,null==e?e=.7:e>1&&(e=1),this._p=1!==e?t:0,this._p1=(1-e)/2,this._p2=e,this._p3=this._p1+this._p2,this._calcEnd=!0===n}),!0),g=m.prototype=new _t.SX;return g.constructor=m,g.getRatio=function(e){var t=e+(.5-e)*this._p;return e<this._p1?this._calcEnd?1-(e=1-e/this._p1)*e:t-(e=1-e/this._p1)*e*e*e*t:e>this._p3?this._calcEnd?1===e?0:1-(e=(e-this._p3)/this._p1)*e:t+(e-t)*(e=(e-this._p3)/this._p1)*e*e*e:this._calcEnd?1:t},m.ease=new m(.7,.7),g.config=m.config=function(e,t,n){return new m(e,t,n)},(g=(e=l("easing.SteppedEase",(function(e,t){e=e||1,this._p1=1/e,this._p2=e+(t?0:1),this._p3=t?1:0}),!0)).prototype=new _t.SX).constructor=e,g.getRatio=function(e){return e<0?e=0:e>=1&&(e=.999999999),((this._p2*e|0)+this._p3)*this._p1},g.config=e.config=function(t,n){return new e(t,n)},(g=(t=l("easing.ExpoScaleEase",(function(e,t,n){this._p1=Math.log(t/e),this._p2=t-e,this._p3=e,this._ease=n}),!0)).prototype=new _t.SX).constructor=t,g.getRatio=function(e){return this._ease&&(e=this._ease.getRatio(e)),(this._p3*Math.exp(this._p1*e)-this._p3)/this._p2},g.config=t.config=function(e,n,i){return new t(e,n,i)},(g=(n=l("easing.RoughEase",(function(e){for(var t,n,i,r,o,a,s=(e=e||{}).taper||"none",l=[],c=0,u=0|(e.points||20),d=u,h=!1!==e.randomize,p=!0===e.clamp,m=e.template instanceof _t.SX?e.template:null,g="number"==typeof e.strength?.4*e.strength:.4;--d>-1;)t=h?Math.random():1/u*d,n=m?m.getRatio(t):t,i="none"===s?g:"out"===s?(r=1-t)*r*g:"in"===s?t*t*g:t<.5?(r=2*t)*r*.5*g:(r=2*(1-t))*r*.5*g,h?n+=Math.random()*i-.5*i:d%2?n+=.5*i:n-=.5*i,p&&(n>1?n=1:n<0&&(n=0)),l[c++]={x:t,y:n};for(l.sort((function(e,t){return e.x-t.x})),a=new f(1,1,null),d=u;--d>-1;)o=l[d],a=new f(o.x,o.y,a);this._prev=new f(0,0,0!==a.t?a:a.next)}),!0)).prototype=new _t.SX).constructor=n,g.getRatio=function(e){var t=this._prev;if(e>t.t){for(;t.next&&e>=t.t;)t=t.next;t=t.prev}else for(;t.prev&&e<=t.t;)t=t.prev;return this._prev=t,t.v+(e-t.t)/t.gap*t.c},g.config=function(e){return new n(e)},n.ease=new n,d("Bounce",c("BounceOut",(function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375})),c("BounceIn",(function(e){return(e=1-e)<1/2.75?1-7.5625*e*e:e<2/2.75?1-(7.5625*(e-=1.5/2.75)*e+.75):e<2.5/2.75?1-(7.5625*(e-=2.25/2.75)*e+.9375):1-(7.5625*(e-=2.625/2.75)*e+.984375)})),c("BounceInOut",(function(e){var t=e<.5;return(e=t?1-2*e:2*e-1)<1/2.75?e*=7.5625*e:e=e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375,t?.5*(1-e):.5*e+.5}))),d("Circ",c("CircOut",(function(e){return Math.sqrt(1-(e-=1)*e)})),c("CircIn",(function(e){return-(Math.sqrt(1-e*e)-1)})),c("CircInOut",(function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}))),i=function(e,t,n){var i=l("easing."+e,(function(e,t){this._p1=e>=1?e:1,this._p2=(t||n)/(e<1?e:1),this._p3=this._p2/a*(Math.asin(1/this._p1)||0),this._p2=a/this._p2}),!0),r=i.prototype=new _t.SX;return r.constructor=i,r.getRatio=t,r.config=function(e,t){return new i(e,t)},i},d("Elastic",i("ElasticOut",(function(e){return this._p1*Math.pow(2,-10*e)*Math.sin((e-this._p3)*this._p2)+1}),.3),i("ElasticIn",(function(e){return-this._p1*Math.pow(2,10*(e-=1))*Math.sin((e-this._p3)*this._p2)}),.3),i("ElasticInOut",(function(e){return(e*=2)<1?this._p1*Math.pow(2,10*(e-=1))*Math.sin((e-this._p3)*this._p2)*-.5:this._p1*Math.pow(2,-10*(e-=1))*Math.sin((e-this._p3)*this._p2)*.5+1}),.45)),d("Expo",c("ExpoOut",(function(e){return 1-Math.pow(2,-10*e)})),c("ExpoIn",(function(e){return Math.pow(2,10*(e-1))-.001})),c("ExpoInOut",(function(e){return(e*=2)<1?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*(e-1)))}))),d("Sine",c("SineOut",(function(e){return Math.sin(e*s)})),c("SineIn",(function(e){return 1-Math.cos(e*s)})),c("SineInOut",(function(e){return-.5*(Math.cos(Math.PI*e)-1)}))),l("easing.EaseLookup",{find:function(e){return _t.SX.map[e]}},!0),u(r.SlowMo,"SlowMo","ease,"),u(n,"RoughEase","ease,"),u(e,"SteppedEase","ease,"),p}),!0);_t.li.Back,_t.li.Elastic,_t.li.Bounce,_t.li.RoughEase,_t.li.SlowMo,_t.li.SteppedEase,_t.li.Circ;var At=_t.li.Expo;_t.li.Sine,_t.li.ExpoScaleEase;_t.ML._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],(function(){var e=function(e){_t.MQ.call(this,e);var t,n,i=this,r=i.vars;for(n in i._labels={},i.autoRemoveChildren=!!r.autoRemoveChildren,i.smoothChildTiming=!!r.smoothChildTiming,i._sortChildren=!0,i._onUpdate=r.onUpdate,r)t=r[n],o(t)&&-1!==t.join("").indexOf("{self}")&&(r[n]=i._swapSelfInParams(t));o(r.tweens)&&i.add(r.tweens,0,r.align,r.stagger)},t=1e-8,n=_t.ZP._internals,i=e._internals={},r=n.isSelector,o=n.isArray,a=n.lazyTweens,s=n.lazyRender,l=_t.ML._gsDefine.globals,c=function(e){var t,n={};for(t in e)n[t]=e[t];return n},u=function(e,t,n){var i,r,o=e.cycle;for(i in o)r=o[i],e[i]="function"==typeof r?r(n,t[n],t):r[n%r.length];delete e.cycle},d=i.pauseCallback=function(){},f=function(e,t,n,i){var r="immediateRender";return r in t||(t[r]=!(n&&!1===n[r]||i)),t},h=function(e){if("function"==typeof e)return e;var t="object"==typeof e?e:{each:e},n=t.ease,i=t.from||0,r=t.base||0,o={},a=isNaN(i),s=t.axis,l={center:.5,end:1}[i]||0;return function(e,c,u){var d,f,h,p,m,g,v,y,b,w=(u||t).length,x=o[w];if(!x){if(!(b="auto"===t.grid?0:(t.grid||[1/0])[0])){for(v=-1/0;v<(v=u[b++].getBoundingClientRect().left)&&b<w;);b--}for(x=o[w]=[],d=a?Math.min(b,w)*l-.5:i%b,f=a?w*l/b-.5:i/b|0,v=0,y=1/0,g=0;g<w;g++)h=g%b-d,p=f-(g/b|0),x[g]=m=s?Math.abs("y"===s?p:h):Math.sqrt(h*h+p*p),m>v&&(v=m),m<y&&(y=m);x.max=v-y,x.min=y,x.v=w=t.amount||t.each*(b>w?w-1:s?"y"===s?w/b:b:Math.max(b,w/b))||0,x.b=w<0?r-w:r}return w=(x[e]-x.min)/x.max,x.b+(n?n.getRatio(w):w)*x.v}},p=e.prototype=new _t.MQ;return e.version="2.1.3",e.distribute=h,p.constructor=e,p.kill()._gc=p._forcingPlayhead=p._hasPause=!1,p.to=function(e,t,n,i){var r=n.repeat&&l.TweenMax||_t.ZP;return t?this.add(new r(e,t,n),i):this.set(e,n,i)},p.from=function(e,t,n,i){return this.add((n.repeat&&l.TweenMax||_t.ZP).from(e,t,f(0,n)),i)},p.fromTo=function(e,t,n,i,r){var o=i.repeat&&l.TweenMax||_t.ZP;return i=f(0,i,n),t?this.add(o.fromTo(e,t,n,i),r):this.set(e,i,r)},p.staggerTo=function(t,n,i,o,a,s,l,d){var f,p,m=new e({onComplete:s,onCompleteParams:l,callbackScope:d,smoothChildTiming:this.smoothChildTiming}),g=h(i.stagger||o),v=i.startAt,y=i.cycle;for("string"==typeof t&&(t=_t.ZP.selector(t)||t),r(t=t||[])&&(t=function(e){var t,n=[],i=e.length;for(t=0;t!==i;n.push(e[t++]));return n}(t)),p=0;p<t.length;p++)f=c(i),v&&(f.startAt=c(v),v.cycle&&u(f.startAt,t,p)),y&&(u(f,t,p),null!=f.duration&&(n=f.duration,delete f.duration)),m.to(t[p],n,f,g(p,t[p],t));return this.add(m,a)},p.staggerFrom=function(e,t,n,i,r,o,a,s){return n.runBackwards=!0,this.staggerTo(e,t,f(0,n),i,r,o,a,s)},p.staggerFromTo=function(e,t,n,i,r,o,a,s,l){return i.startAt=n,this.staggerTo(e,t,f(0,i,n),r,o,a,s,l)},p.call=function(e,t,n,i){return this.add(_t.ZP.delayedCall(0,e,t,n),i)},p.set=function(e,t,n){return this.add(new _t.ZP(e,0,f(0,t,null,!0)),n)},e.exportRoot=function(t,n){null==(t=t||{}).smoothChildTiming&&(t.smoothChildTiming=!0);var i,r,o,a,s=new e(t),l=s._timeline;for(null==n&&(n=!0),l._remove(s,!0),s._startTime=0,s._rawPrevTime=s._time=s._totalTime=l._time,o=l._first;o;)a=o._next,n&&o instanceof _t.ZP&&o.target===o.vars.onComplete||((r=o._startTime-o._delay)<0&&(i=1),s.add(o,r)),o=a;return l.add(s,0),i&&s.totalDuration(),s},p.add=function(t,n,i,r){var a,s,l,c,u,d,f=this;if("number"!=typeof n&&(n=f._parseTimeOrLabel(n,0,!0,t)),!(t instanceof _t.fw)){if(t instanceof Array||t&&t.push&&o(t)){for(i=i||"normal",r=r||0,a=n,s=t.length,l=0;l<s;l++)o(c=t[l])&&(c=new e({tweens:c})),f.add(c,a),"string"!=typeof c&&"function"!=typeof c&&("sequence"===i?a=c._startTime+c.totalDuration()/c._timeScale:"start"===i&&(c._startTime-=c.delay())),a+=r;return f._uncache(!0)}if("string"==typeof t)return f.addLabel(t,n);if("function"!=typeof t)throw"Cannot add "+t+" into the timeline; it is not a tween, timeline, function, or string.";t=_t.ZP.delayedCall(0,t)}if(_t.MQ.prototype.add.call(f,t,n),(t._time||!t._duration&&t._initted)&&(a=(f.rawTime()-t._startTime)*t._timeScale,(!t._duration||Math.abs(Math.max(0,Math.min(t.totalDuration(),a)))-t._totalTime>1e-5)&&t.render(a,!1,!1)),(f._gc||f._time===f._duration)&&!f._paused&&f._duration<f.duration())for(d=(u=f).rawTime()>t._startTime;u._timeline;)d&&u._timeline.smoothChildTiming?u.totalTime(u._totalTime,!0):u._gc&&u._enabled(!0,!1),u=u._timeline;return f},p.remove=function(e){if(e instanceof _t.fw){this._remove(e,!1);var t=e._timeline=e.vars.useFrames?_t.fw._rootFramesTimeline:_t.fw._rootTimeline;return e._startTime=(e._paused?e._pauseTime:t._time)-(e._reversed?e.totalDuration()-e._totalTime:e._totalTime)/e._timeScale,this}if(e instanceof Array||e&&e.push&&o(e)){for(var n=e.length;--n>-1;)this.remove(e[n]);return this}return"string"==typeof e?this.removeLabel(e):this.kill(null,e)},p._remove=function(e,t){return _t.MQ.prototype._remove.call(this,e,t),this._last?this._time>this.duration()&&(this._time=this._duration,this._totalTime=this._totalDuration):this._time=this._totalTime=this._duration=this._totalDuration=0,this},p.append=function(e,t){return this.add(e,this._parseTimeOrLabel(null,t,!0,e))},p.insert=p.insertMultiple=function(e,t,n,i){return this.add(e,t||0,n,i)},p.appendMultiple=function(e,t,n,i){return this.add(e,this._parseTimeOrLabel(null,t,!0,e),n,i)},p.addLabel=function(e,t){return this._labels[e]=this._parseTimeOrLabel(t),this},p.addPause=function(e,t,n,i){var r=_t.ZP.delayedCall(0,d,n,i||this);return r.vars.onComplete=r.vars.onReverseComplete=t,r.data="isPause",this._hasPause=!0,this.add(r,e)},p.removeLabel=function(e){return delete this._labels[e],this},p.getLabelTime=function(e){return null!=this._labels[e]?this._labels[e]:-1},p._parseTimeOrLabel=function(e,t,n,i){var r,a;if(i instanceof _t.fw&&i.timeline===this)this.remove(i);else if(i&&(i instanceof Array||i.push&&o(i)))for(a=i.length;--a>-1;)i[a]instanceof _t.fw&&i[a].timeline===this&&this.remove(i[a]);if(r="number"!=typeof e||t?this.duration()>99999999999?this.recent().endTime(!1):this._duration:0,"string"==typeof t)return this._parseTimeOrLabel(t,n&&"number"==typeof e&&null==this._labels[t]?e-r:0,n);if(t=t||0,"string"!=typeof e||!isNaN(e)&&null==this._labels[e])null==e&&(e=r);else{if(-1===(a=e.indexOf("=")))return null==this._labels[e]?n?this._labels[e]=r+t:t:this._labels[e]+t;t=parseInt(e.charAt(a-1)+"1",10)*Number(e.substr(a+1)),e=a>1?this._parseTimeOrLabel(e.substr(0,a-1),0,n):r}return Number(e)+t},p.seek=function(e,t){return this.totalTime("number"==typeof e?e:this._parseTimeOrLabel(e),!1!==t)},p.stop=function(){return this.paused(!0)},p.gotoAndPlay=function(e,t){return this.play(e,t)},p.gotoAndStop=function(e,t){return this.pause(e,t)},p.render=function(e,n,i){this._gc&&this._enabled(!0,!1);var r,o,l,c,u,d,f,h,p=this,m=p._time,g=p._dirty?p.totalDuration():p._totalDuration,v=p._startTime,y=p._timeScale,b=p._paused;if(m!==p._time&&(e+=p._time-m),p._hasPause&&!p._forcingPlayhead&&!n){if(e>m)for(r=p._first;r&&r._startTime<=e&&!d;)r._duration||"isPause"!==r.data||r.ratio||0===r._startTime&&0===p._rawPrevTime||(d=r),r=r._next;else for(r=p._last;r&&r._startTime>=e&&!d;)r._duration||"isPause"===r.data&&r._rawPrevTime>0&&(d=r),r=r._prev;d&&(p._time=p._totalTime=e=d._startTime,h=p._startTime+(p._reversed?p._duration-e:e)/p._timeScale)}if(e>=g-t&&e>=0)p._totalTime=p._time=g,p._reversed||p._hasPausedChild()||(o=!0,c="onComplete",u=!!p._timeline.autoRemoveChildren,0===p._duration&&(e<=0&&e>=-1e-8||p._rawPrevTime<0||p._rawPrevTime===t)&&p._rawPrevTime!==e&&p._first&&(u=!0,p._rawPrevTime>t&&(c="onReverseComplete"))),p._rawPrevTime=p._duration||!n||e||p._rawPrevTime===e?e:t,e=g+1e-4;else if(e<t)if(p._totalTime=p._time=0,e>-1e-8&&(e=0),(0!==m||0===p._duration&&p._rawPrevTime!==t&&(p._rawPrevTime>0||e<0&&p._rawPrevTime>=0))&&(c="onReverseComplete",o=p._reversed),e<0)p._active=!1,p._timeline.autoRemoveChildren&&p._reversed?(u=o=!0,c="onReverseComplete"):p._rawPrevTime>=0&&p._first&&(u=!0),p._rawPrevTime=e;else{if(p._rawPrevTime=p._duration||!n||e||p._rawPrevTime===e?e:t,0===e&&o)for(r=p._first;r&&0===r._startTime;)r._duration||(o=!1),r=r._next;e=0,p._initted||(u=!0)}else p._totalTime=p._time=p._rawPrevTime=e;if(p._time!==m&&p._first||i||u||d){if(p._initted||(p._initted=!0),p._active||!p._paused&&p._time!==m&&e>0&&(p._active=!0),0===m&&p.vars.onStart&&(0===p._time&&p._duration||n||p._callback("onStart")),(f=p._time)>=m)for(r=p._first;r&&(l=r._next,f===p._time&&(!p._paused||b));)(r._active||r._startTime<=f&&!r._paused&&!r._gc)&&(d===r&&(p.pause(),p._pauseTime=h),r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(e-r._startTime)*r._timeScale,n,i):r.render((e-r._startTime)*r._timeScale,n,i)),r=l;else for(r=p._last;r&&(l=r._prev,f===p._time&&(!p._paused||b));){if(r._active||r._startTime<=m&&!r._paused&&!r._gc){if(d===r){for(d=r._prev;d&&d.endTime()>p._time;)d.render(d._reversed?d.totalDuration()-(e-d._startTime)*d._timeScale:(e-d._startTime)*d._timeScale,n,i),d=d._prev;d=null,p.pause(),p._pauseTime=h}r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(e-r._startTime)*r._timeScale,n,i):r.render((e-r._startTime)*r._timeScale,n,i)}r=l}p._onUpdate&&(n||(a.length&&s(),p._callback("onUpdate"))),c&&(p._gc||v!==p._startTime&&y===p._timeScale||(0===p._time||g>=p.totalDuration())&&(o&&(a.length&&s(),p._timeline.autoRemoveChildren&&p._enabled(!1,!1),p._active=!1),!n&&p.vars[c]&&p._callback(c)))}},p._hasPausedChild=function(){for(var t=this._first;t;){if(t._paused||t instanceof e&&t._hasPausedChild())return!0;t=t._next}return!1},p.getChildren=function(e,t,n,i){i=i||-9999999999;for(var r=[],o=this._first,a=0;o;)o._startTime<i||(o instanceof _t.ZP?!1!==t&&(r[a++]=o):(!1!==n&&(r[a++]=o),!1!==e&&(a=(r=r.concat(o.getChildren(!0,t,n))).length))),o=o._next;return r},p.getTweensOf=function(e,t){var n,i,r=this._gc,o=[],a=0;for(r&&this._enabled(!0,!0),i=(n=_t.ZP.getTweensOf(e)).length;--i>-1;)(n[i].timeline===this||t&&this._contains(n[i]))&&(o[a++]=n[i]);return r&&this._enabled(!1,!0),o},p.recent=function(){return this._recent},p._contains=function(e){for(var t=e.timeline;t;){if(t===this)return!0;t=t.timeline}return!1},p.shiftChildren=function(e,t,n){n=n||0;for(var i,r=this._first,o=this._labels;r;)r._startTime>=n&&(r._startTime+=e),r=r._next;if(t)for(i in o)o[i]>=n&&(o[i]+=e);return this._uncache(!0)},p._kill=function(e,t){if(!e&&!t)return this._enabled(!1,!1);for(var n=t?this.getTweensOf(t):this.getChildren(!0,!0,!1),i=n.length,r=!1;--i>-1;)n[i]._kill(e,t)&&(r=!0);return r},p.clear=function(e){var t=this.getChildren(!1,!0,!0),n=t.length;for(this._time=this._totalTime=0;--n>-1;)t[n]._enabled(!1,!1);return!1!==e&&(this._labels={}),this._uncache(!0)},p.invalidate=function(){for(var e=this._first;e;)e.invalidate(),e=e._next;return _t.fw.prototype.invalidate.call(this)},p._enabled=function(e,t){if(e===this._gc)for(var n=this._first;n;)n._enabled(e,!0),n=n._next;return _t.MQ.prototype._enabled.call(this,e,t)},p.totalTime=function(e,t,n){this._forcingPlayhead=!0;var i=_t.fw.prototype.totalTime.apply(this,arguments);return this._forcingPlayhead=!1,i},p.duration=function(e){return arguments.length?(0!==this.duration()&&0!==e&&this.timeScale(this._duration/e),this):(this._dirty&&this.totalDuration(),this._duration)},p.totalDuration=function(e){if(!arguments.length){if(this._dirty){for(var t,n,i=0,r=this,o=r._last,a=999999999999;o;)t=o._prev,o._dirty&&o.totalDuration(),o._startTime>a&&r._sortChildren&&!o._paused&&!r._calculatingDuration?(r._calculatingDuration=1,r.add(o,o._startTime-o._delay),r._calculatingDuration=0):a=o._startTime,o._startTime<0&&!o._paused&&(i-=o._startTime,r._timeline.smoothChildTiming&&(r._startTime+=o._startTime/r._timeScale,r._time-=o._startTime,r._totalTime-=o._startTime,r._rawPrevTime-=o._startTime),r.shiftChildren(-o._startTime,!1,-9999999999),a=0),(n=o._startTime+o._totalDuration/o._timeScale)>i&&(i=n),o=t;r._duration=r._totalDuration=i,r._dirty=!1}return this._totalDuration}return e&&this.totalDuration()?this.timeScale(this._totalDuration/e):this},p.paused=function(e){if(!1===e&&this._paused)for(var t=this._first;t;)t._startTime===this._time&&"isPause"===t.data&&(t._rawPrevTime=0),t=t._next;return _t.fw.prototype.paused.apply(this,arguments)},p.usesFrames=function(){for(var e=this._timeline;e._timeline;)e=e._timeline;return e===_t.fw._rootFramesTimeline},p.rawTime=function(e){return e&&(this._paused||this._repeat&&this.time()>0&&this.totalProgress()<1)?this._totalTime%(this._duration+this._repeatDelay):this._paused?this._totalTime:(this._timeline.rawTime(e)-this._startTime)*this._timeScale},e}),!0);var jt=_t.li.TimelineLite,It=n(47632);const Mt={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"}[n(45291).prefixed("transition")];n(53961),n(37417),n(69501),n(59025),n(44347),n(96226),n(60296);var Dt=n(73318);function Nt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Lt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nt(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Rt={duration:0,delay:0,immediateResolution:!1},Ft=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Lt(Lt({},Rt),e),n=(0,Dt.Z)();t.target||(t.target=document.createElement("div"));var i=setTimeout(n.resolve,t.duration+t.delay+50),r=function(e){e.propertyName===t.propertyName&&(t.targetExpression instanceof Function&&t.targetExpression.apply(null,[e.target])||e.target===t.target)&&n.resolve(e)};return n.finally((function(){clearTimeout(i),t.target.removeEventListener(Mt,r)})).catch((function(e){console.debug(e)})),t.target.addEventListener(Mt,r),t.immediateResolution&&n.resolve(),{reject:n.reject,onTransitionEnd:n}},zt=(n(88425),n(15349),n(21082),n(96339),n(55792),{MEMORIAM:{cssClass:"-memoriam",label:"Memoriam"},STAFF:{cssClass:"",label:"Crew"},ALUM:{cssClass:"",label:"Alum"},HQ:{cssClass:"-hq",label:"HQ"},PATRON:{cssClass:"-patron",label:"Patron"},PRO:{cssClass:"-pro",label:"Pro"}});function Wt(e,t){var n=zt[e];return n?'<span class="badge '.concat(n.cssClass," ").concat(t,'">').concat(n.label,"</span>"):""}function Ht(e,t,n,i){return 1===e?"".concat(t):0===e&&void 0!==i?i:(void 0===n&&(n="".concat(t,"s")),n)}var Bt="follows",Ut="username",Zt=function(e,t){var n=document.createElement("small");switch(n.className="metadata",e){case Bt:n.innerHTML=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-US";return['<span class="_nobr">'.concat(e.followers.toLocaleString(t)," ").concat(Ht(e.followers,"follower"),"</span>, "),'<span class="_nobr">following '.concat(e.following.toLocaleString(t),"</span>")].join("")}(t);break;case Ut:n.innerHTML=function(e){return['<small class="metadata">','<span class="username">@'.concat(e.username,"</span>"),"</small>"].join("")}(t)}return n.outerHTML};function qt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Yt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qt(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Qt={modifierClasses:"",linked:!1,hrefSupplementaryPath:"",metadataFormat:null};function Vt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Yt(Yt({},Qt),t),i="person-summary ".concat(n.modifierClasses).trim(),r=document.createElement("img");r.src=e.avatar,r.alt=e.name,r.width=40,r.height=40;var o=document.createElement(n.linked?"a":"span");o.className="avatar -a40",o.appendChild(r);var a=document.createElement(n.linked?"a":"span");if(a.className="name",a.innerText=e.name,e.badge){var s=Wt(e.badge,"-small");a.innerHTML=a.innerText+="&nbsp;".concat(s)}if(n.linked){var l=e.href+n.hrefSupplementaryPath;o.href=l,a.href=l}return['<div class="'.concat(i,'">'),"".concat(o.outerHTML),'<h3 class="title-3">',"".concat(a.outerHTML),"</h3>","".concat(n.metadataFormat&&Zt(n.metadataFormat,e)),"</div>"].join("\n")}n(43691);const Xt=Object.freeze({BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CONTROL:17,ALT:18,COMMAND:91,CAPSLOCK:20,ESCAPE:27,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,ARROW_LEFT:37,ARROW_UP:38,ARROW_RIGHT:39,ARROW_DOWN:40,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ASTERISK:106,NUMPAD_PLUS:107,NUMPAD_DASH:109,NUMPAD_DOT:110,NUMPAD_SLASH:111,NUMPAD_EQUALS:187,TICK:192,LEFT_BRACKET:219,RIGHT_BRACKET:221,BACKSLASH:220,SEMICOLON:186,APOSTRAPHE:222,APOSTROPHE:222,SPACEBAR:32,CLEAR:12,COMMA:188,DOT:190,SLASH:191});function Kt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,c.Z)(e);if(t){var r=(0,c.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,l.Z)(this,n)}}var Gt="-disabled",Jt="-show",en="members",tn={filterBlockedUsers:!0,endpoint:"foo?q=",queryWildcard:"%QUERY",typeahead:{highlight:!1,hint:!1,autoselect:!1,persistQuery:!0,preventClose:!0,disableSuggestionOnSelect:!0,disableOnDirectionKeyAutoCompletion:!0,minLength:1,classNames:{menu:"dropdown",cursor:"-cursor",disabled:"-disabled"}},dataset:{bloodhoundTransformFilter:function(e,t,n){return!0}},templates:{suggestion:function(e){return function(e){return['<div class="suggestion person-block" data-person-id="'.concat(e.id,'">'),"".concat(Vt(e,{modifierClasses:"-username",metadataFormat:Ut})),"</div>"].join("\n")}(e)},notFound:function(e){return'<div class="notfound">We couldn’t find any members matching <em class="query">'.concat(e.query,"</em>.</div>")}}},nn={PERSON_DATASET_RENDERED:"persondataset-rendered"},rn=function(e){(0,s.Z)(n,e);var t=Kt(n);function n(e){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,o.Z)(this,n),i=t.call(this),(0,u.Z)((0,a.Z)(i),"_blockedUsersFilter",(function(e,t,n){return!window.person.loggedIn||!window.person.blockedMembers.length||!window.person.blockedMembers.some((function(t){return t===e.username}))})),(0,u.Z)((0,a.Z)(i),"_initTypeahead",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=$(i.el);t.attr("autocomplete","off").typeahead(e.typeahead,{name:en,display:"id",limit:Number.MAX_SAFE_INTEGER,source:new Bloodhound({remote:{url:"".concat(e.endpoint,"?q=").concat(e.queryWildcard),wildcard:e.queryWildcard,transform:function(t){return t.data?t.data.filter(e.filterBlockedUsers?i._blockedUsersFilter:function(){return!0}).filter(e.dataset.bloodhoundTransformFilter):[]}},datumTokenizer:function(e){var t=Bloodhound.tokenizers.whitespace(e.name),n=e.username.split("_");return n.length>1&&n.splice(0,0,e.username),t.concat(n)},queryTokenizer:Bloodhound.tokenizers.whitespace}),templates:{suggestion:e.templates.suggestion,notFound:e.templates.notFound}}),i.typeaheadInstance=t.data("ttTypeahead")})),(0,u.Z)((0,a.Z)(i),"_toggleRequestIndicator",(function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];i.spinner.classList.toggle(Jt,e)})),(0,u.Z)((0,a.Z)(i),"_onTypeaheadAsync",(function(e,t,n){if("asyncRequested"===e)i._toggleRequestIndicator(!0);else i._toggleRequestIndicator(!1);i.emit(e,i.typeahead,t,n)})),(0,u.Z)((0,a.Z)(i),"_onPersonDatasetRendered",(function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(t=i).emit.apply(t,[nn.PERSON_DATASET_RENDERED,i.typeahead].concat(r))})),(0,u.Z)((0,a.Z)(i),"_toggleResetInputTrigger",(function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];i.inputResetTrigger.disabled=!e})),(0,u.Z)((0,a.Z)(i),"_onTypeaheadQueryChanged",(function(e,t){i._toggleResetInputTrigger(""!==t)})),(0,u.Z)((0,a.Z)(i),"_onInputResetTriggerClick",(function(e){e.preventDefault(),i.resetInputValue()})),(0,u.Z)((0,a.Z)(i),"_onInputKeyDownEnterPreventDefault",(function(e){if(e.keyCode===Xt.ENTER)return e.preventDefault(),!1})),(0,u.Z)((0,a.Z)(i),"resetInputValue",(function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];i.typeaheadInstance.setVal(""),e&&i.el.focus()})),(0,u.Z)((0,a.Z)(i),"disable",(function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];i.el.parentNode.classList.toggle(Gt,e),i.el.disabled=e,e?(i.typeaheadInstance.menu.close(),i.typeaheadInstance.disable()):i.typeaheadInstance.enable()})),(0,u.Z)((0,a.Z)(i),"destroy",(function(){i.el.removeEventListener("keydown",i._onInputKeyDownEnterPreventDefault),i.inputResetTrigger.removeEventListener("click",i._onInputResetTriggerClick),i.typeaheadInstance.destroy(),$.data(i.input,"ttTypeahead"),delete i.typeaheadInstance})),Object.defineProperties((0,a.Z)(i),{typeahead:{get:function(){return i.typeaheadInstance}}}),i.el=e;var s=p()({},tn,r);return i.inputResetTrigger=s.inputResetTrigger,i.spinner=s.spinner,i._initTypeahead(s),i.el.addEventListener("keydown",i._onInputKeyDownEnterPreventDefault),i.inputResetTrigger.addEventListener("click",i._onInputResetTriggerClick),$(i.spinner).lbSpinner({size:12}),i.typeaheadInstance.input.onSync("queryChanged",i._onTypeaheadQueryChanged).onSync("whitespaceChanged",i._onTypeaheadQueryChanged),i.typeaheadInstance.menu.onSync("asyncRequested",i._onTypeaheadAsync).onSync("asyncCanceled",i._onTypeaheadAsync).onSync("asyncReceived",i._onTypeaheadAsync),i.personDataset=i.typeaheadInstance.menu.datasets.find((function(e){return e.name=en})),i.personDataset.onSync("rendered",i._onPersonDatasetRendered),i._onTypeaheadQueryChanged(null,i.typeaheadInstance.input.getQuery()),i}return(0,r.Z)(n)}(f()),on="suggestion",an="sortable",sn=function(e){return Vt(e,{modifierClasses:"-username",metadataFormat:Ut})},ln=function(e,t){return t===an?['<div class="person-block team-member js-team-member" data-person-id="'.concat(e.id,'">'),'<div class="handle js-handle">',"".concat('<svg class="glyph" width="15" height="14" viewBox="0 0 15 14" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h15v2H0V0zm0 6h15v2H0V6zm0 6h15v2H0v-2z" fill="#000" fill-rule="evenodd"/></svg>'),"</div>","".concat(sn(e)),'<input type="hidden" name="teamMemberPersonIds" value="'.concat(e.id,'"/>'),'<div class="actions">','<div class="action -remove">','<button type="button" data-js-trigger="remove">','<span class="label _sr-only">Remove</span>',"".concat('<svg class="glyph" width="15" height="15" viewBox="0 0 15 15" xmlns="http://www.w3.org/2000/svg"><path fill="#000" d="M14.213 1.485L12.8.071 7.142 5.728 1.485.07.071 1.485l5.657 5.657L.07 12.8l1.414 1.414 5.657-5.657 5.657 5.657 1.414-1.414-5.657-5.657z" fill-rule="evenodd"/></svg>'),"</button>","</div>","</div>","</div>"].join("\n"):['<div class="suggestion person-block" data-person-id="'.concat(e.id,'">'),"".concat(sn(e)),"</div>"].join("\n")};function cn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,c.Z)(e);if(t){var r=(0,c.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,l.Z)(this,n)}}var un="team-member-manager",dn="-expanded",fn="team-member",hn="-highlight",pn="-highlight-transition-out-active",mn="-overflow",gn="person-id",vn="change",yn={searchInputSelector:"#person-search",memberListData:[],endpoint:"foo?q="},bn=function(e){(0,s.Z)(n,e);var t=cn(n);function n(e){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,o.Z)(this,n),i=t.call(this),(0,u.Z)((0,a.Z)(i),"_populateMemberList",(function(e){var t=e.map((function(e){return ln(e,an)})).join("");i.memberList.insertAdjacentHTML("beforeend",t)})),(0,u.Z)((0,a.Z)(i),"updateMemberList",(function(e){var t=i.getSortedMembers();Boolean(t.length)?(i.memberList.removeAttribute("hidden"),i.emptyMemberListFallback.setAttribute("hidden","")):(i.memberList.setAttribute("hidden",""),i.emptyMemberListFallback.removeAttribute("hidden"));var n=i.membersScroller.scrollHeight>i.memberList.offsetHeight;i.membersScroller.classList.toggle("-has-no".concat(mn),!n),i.emit(vn,t)})),(0,u.Z)((0,a.Z)(i),"getSortedMembers",(function(){return i.memberListSortableInstance.toArray().map((function(e){return Number(e)}))})),(0,u.Z)((0,a.Z)(i),"isTeamMemberById",(function(e){return i.getSortedMembers().indexOf(e)>-1})),(0,u.Z)((0,a.Z)(i),"_scrollMemberIntoView",(function(e){var t=this;return new Promise((function(n){var i,r,o,a=t.membersScroller.scrollHeight-t.membersScroller.offsetHeight,s=Math.min(e.offsetTop-t.membersScroller.offsetTop,a),l=Math.abs(t.membersScroller.scrollTop-s),c=(i=.5,r=l,o=t.membersScroller.offsetHeight,r<o?r/o*i:i);0===c?n():t._timeline.clear().eventCallback("onComplete",null).to(t.membersScroller,c,{scrollTo:{y:s,autoKill:!1},ease:At.easeOut,onComplete:function(){n(t._timeline)}})}))})),(0,u.Z)((0,a.Z)(i),"_highlightNewMember",(function(e){e.classList.add(hn,pn);var t=Ft({duration:2e3,propertyName:"backgroundColor",target:e}).onTransitionEnd;i._scrollMemberIntoView(e).then((function(){e.offsetWidth,e.classList.remove(hn),t.then((function(){e.classList.remove(pn)}))}))})),(0,u.Z)((0,a.Z)(i),"addMember",(function(e){if(!i.isTeamMemberById(e.id)){var t=ln(e,an);i.memberList.insertAdjacentHTML("beforeend",t),i._highlightNewMember(i.memberList.lastChild),i.updateMemberList()}})),(0,u.Z)((0,a.Z)(i),"_getPersonIdFromElement",(function(e){return Number(e.dataset["".concat(g()(gn))])})),(0,u.Z)((0,a.Z)(i),"_onMemberListRemoveTriggerClick",(function(e){if(Array.from(i.memberList.querySelectorAll('[data-js-trigger="remove"]')).find((function(t){return t===e.target||t.contains(e.target)}))){e.preventDefault();var t=e.target.closest(".js-".concat(fn)),n=i._getPersonIdFromElement(t);i.removeTeamMemberById(n)}})),(0,u.Z)((0,a.Z)(i),"removeTeamMemberById",(function(e){var t=i.personAutocompleteInstance.typeahead.menu._getSelectables().get().find((function(t){return i._getPersonIdFromElement(t)===e}));i.personAutocompleteInstance.typeahead.menu.enableSelectable($(t)),i.memberList.querySelector("[data-".concat(gn,'="').concat(e,'"]')).remove(),i.updateMemberList()})),(0,u.Z)((0,a.Z)(i),"_onInputInitialFocus",(function(e){i.el.addEventListener(Mt,(function(e){e.target===i.el.querySelector(":scope > .js-frame")&&"padding-top"===e.propertyName&&i.updateMemberList()}),{once:!0}),i.el.classList.add(dn)})),(0,u.Z)((0,a.Z)(i),"_onTypeaheadAutocomplete",(function(e,t,n){i.addMember(t)})),i.$el=e,i.el=e[0],i.options=p()({},yn,r,(0,It.Z)(i.$el,un)),i._timeline=new jt({autoRemoveChildren:!0}),i.membersScroller=i.el.querySelector(".js-members-scrollable"),i.memberList=i.el.querySelector("[data-js-sortable]"),i.emptyMemberListFallback=i.el.querySelector(".js-empty-member-list-fallback"),i._populateMemberList(i.options.memberListData),i.memberListSortableInstance=new xt(i.memberList,{dataIdAttr:"data-".concat(gn),handle:".js-handle",direction:"vertical",ghostClass:"-ghost",chosenClass:"-chosen",dragClass:"-drag",onSort:i.updateMemberList}),i.updateMemberList(),i.memberList.addEventListener("click",i._onMemberListRemoveTriggerClick),i.searchInput=i.el.querySelector(i.options.searchInputSelector),i.spinner=i.el.querySelector("[data-js-spinner]"),i.inputResetTrigger=i.el.querySelector('[data-js-trigger="reset"]'),i.personAutocompleteInstance=new rn(i.searchInput,{spinner:i.spinner,inputResetTrigger:i.inputResetTrigger,endpoint:i.options.endpoint,dataset:{bloodhoundTransformFilter:function(e,t,n){return!i.isTeamMemberById(e.id)}},templates:{suggestion:function(e){return ln(e,on)}}}),i.searchInput.addEventListener("focus",i._onInputInitialFocus,{once:!0}),i.$searchInput=$(i.searchInput),i.$searchInput.on("typeahead:autocomplete typeahead:select",i._onTypeaheadAutocomplete),i}return(0,r.Z)(n)}(f());$((function(){if($(".js-update-screen").length){var e=$("body").hasClass("in-app"),t=$("#user-update");e||(bxd.initUsernameChecker(t.find("input[name='username']"),t.find(".check-container")),t.on("ajax-success",(function(e,t,n,i){t.result&&t.usernameChanged&&window.location.reload(!0)})));var n=t.find(".js-".concat(un));if(n.length){var r=new bn(n,{});n.data(un,r),t.protectUnsavedChanges({reset:!0})}var o=$("#frm-password");t.on("submit",(function(e){var t=$("#frm-email-address");""===o.val()&&t.val()!==t.data("original-value")&&(e.stopImmediatePropagation(),e.preventDefault(),$("#open-enter-password-modal").trigger("click"))})).on("ajax-success",(function(e,n,i,r){if(n.result){var o=$("#frm-email-address");o.data("original-value",o.val()),person&&(person.showAdultContent=!!n.showAdultContent),n.facebookPage&&$("input[name='facebookPage']").val(n.facebookPage),n.instagramPage&&$("input[name='instagramPage']").val(n.instagramPage),n.imdbPage&&$("input[name='imdbPage']").val(n.imdbPage),n.youtubePage&&$("input[name='youtubePage']").val(n.youtubePage)}t.find(".form-row.-error").removeClass("-error"),n.errorFields&&n.errorFields.forEach((function(e){t.find('input[name="'.concat(e,'"],textarea[name="').concat(e,'"]')).one("keypress",(function(e){$(this).closest(".form-row").removeClass("-error")})).closest(".form-row").addClass("-error")}))})).on("ajax-complete",(function(e){o.val(""),t.protectUnsavedChanges({reset:!0})})),$("#enter-password-form").on("submit",(function(e){e.preventDefault(),$("#open-enter-password-modal").colorbox.close(),o.val($("#frm-reg-password").val()),t.trigger("submit")}));var a={inline:!0,fixed:!0,overlayClose:!1,href:"#enter-password-modal",onComplete:function(){$("#frm-reg-password").focus()}};renderMobile&&(a.width="100%",a.initialWidth="288px",a.initialHeight="200px",a.transition="fade",a.speed=0),$("#open-enter-password-modal").colorbox(a),$("#connections li.external-service").bind("refresh",(function(e){$(this).load(baseURL+"/user/ajax/connections-"+$(this).data("type")+"/",(function(){$(this).trigger("reloaded")})),bxd.dismissMessages()})),$(document).on("click","#connections .remove",(function(e){e.preventDefault();var t=$(this);t.hasClass("ajax-working")||bxd.dismissMessages((function(){var e=t.data("confirm");if(void 0===e||window.confirm(e.replace(/\\n/g,"\n"))){t.addClass("ajax-working");var n=t.parents("li"),r=t,o=new i.$({lines:10,length:4,width:2,radius:3,color:"#fff",speed:1,shadow:!1});$.ajax({url:t.data("action"),data:{__csrf:supermodelCSRF},type:"POST",beforeSend:function(){o.spin(r[0])},success:function(){t.removeClass("ajax-working"),o.stop(),n.trigger("refresh"),$("#connections ."+t.data("detail-container")).trigger("refresh")},error:function(){t.removeClass("ajax-working"),o.stop(),bxd.showMessages("error",["Failed to unlink your account."])}})}}))})),$(".js-toggle-list input[type=checkbox]").each((function(){var e=$(this);e.data("ajax-data",(function(){var t={};return t[e.attr("name")]=e.is(":checked"),t})),e.bind("ajax-success",(function(e,t,n,i){for(var r in t.messages&&bxd.showMessages(t.result?"success":"error",t.messages),t){var o=$(".js-toggle-list input[type=checkbox][name="+r+"]");o.length&&o.prop("checked",t[r])}})),e.bind("ajax-error",(function(e,t){bxd.showMessages("error",t)}))})).change((function(){$(this).trigger("ajax-action")}));var s=$(".js-favorite-services-list"),l=$(".js-favorite-services-panel"),c=$(".js-no-favorite-services");l.hasClass("-empty")||c.hide(),$("#stores").bind("ajax-success",(function(e,t,n,i){t.messages&&bxd.showMessages(t.result?"success":"error",t.messages),$("#frm-primary-itunes-store").val(t.primaryItunesStore),$("#frm-secondary-itunes-store").val(t.secondaryItunesStore),$("#frm-primary-amazon-store").val(t.primaryAmazonStore),$("#frm-secondary-amazon-store").val(t.secondaryAmazonStore)})).bind("ajax-error",(function(e,t){bxd.showMessages("error",t)})).data("ajax-data",(function(){var e={serviceIds:[]};$("#stores").find("select").each((function(){e.serviceIds.push($(this).val())}));var t=s.children(".service");return t.length?(t.each((function(){e.serviceIds.push($(this).data("id"))})),l.removeClass("-empty"),c.hide()):(l.addClass("-empty"),c.show()),e})).on("change","select",(function(){$("#stores").trigger("ajax-action")})).on("click",".js-service-brand",(function(e){if(!$(e.target).hasClass("cataloglink")){e.preventDefault();var t=$(this),n=t.data("id");if(t.hasClass("-selected"))!function(e){$("#stores .js-service-brand[data-id="+e+"]").removeClass("-selected"),s.children(".service[data-id="+e+"]").remove(),$("#stores").trigger("ajax-action")}(n);else{t.addClass("-selected");var i=t.data("name"),r='<p class="service" data-id="'+n+'">';r+='<span class="label"><span class="brand"><img src="'+t.data("icon")+'" width="24" height="24" title="'+i+'" alt="'+i+'" class="js-squircle-mask" /></span>',r+='<span class="title">'+i+" ("+t.data("shortname")+')</span></span><a href class="remove js-remove-favorite-service">(Remove)</a></p>';var o=$(r);s.append(o),bxd.layout(o)}$("#stores").trigger("ajax-action")}})),s.on("click",".service",(function(e){e.preventDefault();var t=$(this).data("id");$(e.target).hasClass("js-remove-favorite-service")&&($("#stores .js-service-brand[data-id="+t+"]").removeClass("-selected"),s.children(".service[data-id="+t+"]").remove(),$("#stores").trigger("ajax-action"))})),$(".js-favorite-services-locale").length&&function(){var e=$(".js-favorite-services-locale"),t=$(".js-locale-menu"),n=t.find(".js-locale-link"),i=t.find(".js-close-localemenu"),r=e.data("locale"),o=!1,a=$(".js-brands-by-locale");function s(){e.removeClass("-open"),a&&a.removeClass("-localeopen"),t.hide(),o=!1,$(window).off("click.localemenu")}a&&a.append(t),e.bind("click",(function(n){var i;n.preventDefault(),o?s():(i=e.position().top+e.height()+0,e.addClass("-open"),a&&a.addClass("-localeopen"),t.css({top:i}).show(),o=!0,$(window).on("click.localemenu",(function(e){var t=$(e.target).is(".locale-menu *, .locale-menu"),n=$(e.target).is(".locale-selector *, .locale-selector");t||n||s()})))})),i.bind("click",(function(e){e.preventDefault(),o&&s()})),n.on("click",(function(t){t.preventDefault();var i=$(this),o=i.data("locale"),a=i.find("img").attr("src"),l=i.data("name");s(),o!==r&&(e.find(".js-locale-title").text(l),e.find(".js-flag").attr("src",a),n.parent().removeClass("-selected"),i.parent().addClass("-selected"),$.cookie("availabilityLocale",o,{expires:365,path:"/"}),r=o,$(".js-brands-list").removeClass("-selected").filter("[data-locale="+o+"]").addClass("-selected"))}));var l=$.cookie("availabilityLocale");if(l&&l!==r){var c=n.filter("[data-locale="+l+"]");c&&c.trigger("click")}}();var u={href:$("a.change-password-link").attr("href")+"#modal",fixed:!0,overlayClose:!1,onComplete:function(){bxd.layout($("#modal")),$("a.change-password-link").colorbox.resize(),$(".change-password-button").data("ajax-data",(function(){return $("#change-password-form").serialize()})).bind("ajax-success",(function(e,t,n,i){t.messages&&bxd.showMessages(t.result?"success":"error",t.messages),t.result&&$("a.change-password-link").colorbox.close()}))}};renderMobile&&(u.width="100%",u.initialWidth="288px",u.initialHeight="200px",u.transition="fade",u.speed=0),$("a.change-password-link").colorbox(u);var d={href:$("a.export-data-link").attr("href")+"#modal",overlayClose:!1,fixed:!0,onComplete:function(){$(".export-data-button").on("click",(function(e){e.preventDefault();var t=$(this).attr("href");$("a.export-data-link").colorbox.close(),bxd.showMessages("success","Your export is being prepared. Please leave this window open, your download will begin shortly…"),setTimeout((function(){location.href=t}),300)}))}};renderMobile&&(d.width="100%",d.initialWidth="288px",d.initialHeight="200px",d.transition="fade",d.speed=0),$("a.export-data-link").colorbox(d);var f={href:$(".disable-account-link").data("action-url")+"#modal",fixed:!0,overlayClose:!1,innerWidth:660,onComplete:function(){bxd.layout($("#modal")),$(".disable-account-link").colorbox.resize(),$(".disable-account-button").data("ajax-data",(function(){return $("#disable-account-form").serialize()})).bind("ajax-success",(function(e,t,n,i){if(t.messages&&bxd.showMessages(t.result?"success":"error",t.messages),t.result){$(this).closest("article").html('<section class="registration-complete body-text -hero"><p>Deactivating your account… please wait.</p></section>'),$(".disable-account-link").colorbox.resize();var r=baseURL+"/farewell";t.token&&(r=r+"?hash="+encodeURIComponent(t.token)),setTimeout((function(){location.href=r}),2e3)}}))}};renderMobile&&(f.width="100%",f.initialWidth="288px",f.initialHeight="200px",f.transition="fade",f.speed=0),$(".disable-account-link").colorbox(f),$("#check .username-edit, #check .username-locked").on("click",(function(e){e.preventDefault(),$(".frm-reg-username").trigger("click")})),$(".frm-reg-username").on("click",(function(e){var t=$(this);if(t.is(":disabled"))if(t.data("can-enable")&&$("#check .username-edit").length){var n={html:"<div class='modal signup-modal'><article><h1>Changing your username</h1><p class='body-text -light'>"+t.data("disabled-text")+"</p></article></div>",width:"520px",fixed:!0,overlayClose:!1,onClosed:function(){t.prop("disabled",!1),t.focus(),t.select(),$("#check").html("")}};renderMobile&&(n.width="100%",n.initialWidth="288px",n.initialHeight="200px",n.transition="fade",n.speed=0),$.colorbox(n)}else bxd.showMessages("warning",t.data("disabled-text"),{sticky:!0,messageId:"locked-username",dismissExistingMessages:!0})})),$("#frm-pronoun, #frm-reg-username, #frm-family-name, #frm-given-name").on("change keyup",(function(){var e=$("#frm-pronoun").find("option:selected").data("pronoun-possessive"),t=($("#frm-given-name").val()+" "+$("#frm-family-name").val()).trim();0===t.length&&(t=($("#frm-reg-username").val()||person.username).trim()),$("#pronoun-possessive").text(e),$("#pronoun-name").text(t)}))}}))},74130:(e,t,n)=>{"use strict";n.r(t);n(62888),n(31875),n(58722),n(18482);var i=n(93580);$((function(){$("body").hasClass("view")&&($(".has-spoilers a").click((function(e){e.preventDefault(),$(this).closest(".contains-spoilers").hide().siblings(".moderation-details").addClass("-revealed").end().closest(".review").find(".hidden-spoilers").show()})),document.querySelectorAll(".js-".concat(i.NAMESPACE)).forEach((function(e){new i.default(e)})))}))},74410:(e,t,n)=>{n(20857),n(62888),n(31875),n(75602),$((function(){var e=$("#frm-watchlist-autocomplete");if(e.length){var t=$("body");t.addClass("my-watchlist").removeClass("wide"),0===$(".js-watchlist-content").data("num-entries")&&t.addClass("empty-watchlist");var n=null;e.autocomplete(e.data("url"),$.extend({},bxd.autocompleteConfig,{width:228})).result((function(e,i,r){$.ajax({url:i.watchlistAction,data:{__csrf:supermodelCSRF},type:"POST",dataType:"json",success:function(e,i,r){null!==e.csrf&&void 0!==e.csrf&&(supermodelCSRF=e.csrf),e.messages&&(bxd.showMessages(e.result?"success":"error",e.messages),$("#frm-watchlist-autocomplete").val(""),e.errorCodes.indexOf("film.added.to.watchlist")>-1&&(n=$.get($(".js-watchlist-content").data("path")).done((function(e,i,r){if(r===n){var o=$(e).find(".js-watchlist-main-content"),a=$(".js-watchlist-main-content");$(".twipsy").remove(),a.replaceWith(o),bxd.layout(o);var s=o.find(".watchlist-count");$("#enter-password-modal .watchlist-count").replaceWith(s),t.removeClass("empty-watchlist")}}))))},error:function(e,t,n){bxd.showMessages("error",["Oops.  Couldn't add the film to your watchlist.  Try again."])}})})),$("body").click((function(t){eventIsInsideElement(t,e)||eventIsInsideElement(t,$(".ac_results"))||setTimeout((function(){e.trigger("close")}),300)})),$(window).resize((function(){e.trigger("close")}));var i=$("#filmlist-reset"),r=$("#frm-password");i.on("submit",(function(e){""===r.val()&&(e.stopImmediatePropagation(),e.preventDefault(),$("#open-enter-password-modal").trigger("click"),$("a.js-form-action.btn-loading").removeClass("btn-loading"))})),$("#enter-password-form").on("submit",(function(e){e.preventDefault(),$("#open-enter-password-modal").colorbox.close();var t=$("#frm-reg-password").val();t?(r.val(t),i.trigger("submit")):bxd.showMessages("error","No password entered.")}));var o={inline:!0,fixed:!0,overlayClose:!1,href:"#enter-password-modal",onComplete:function(){$("#frm-reg-password").focus()}};renderMobile&&(o.width="100%",o.initialWidth="288px",o.initialHeight="200px",o.transition="fade",o.speed=0),$("#open-enter-password-modal").colorbox(o)}}))},20204:()=>{disableFrameProtection||window==window.top||(window.top.location=self.location)},49614:(e,t,n)=>{n(30535),n(15231),n(62888),n(31875),n(20857),n(93029),n(85018),$((function(){if(document.location.hostname.match(/(letterboxd\.com|ltrbxdtest\.club|localhost|cactuslab\.com|\.local|^10\.[0-9]+\.[0-9]+\.[0-9]+)$/)||document.location.pathname.match(/\/errors\/wrapped$/)){if($("input[name=__csrf]").val(supermodelCSRF),!person.loggedIn){renderMobile&&$("#remember").prop("checked",!0),$("#hide-toggle-menu").length&&($(".js-fade-toggle, .js-account-filters").remove(),$(".js-film-filters").removeClass("divider-line"));var e=$(".create-account-menu a"),t=$("a.create-account-link");if(e.length||t.length){var n={overlayClose:!1,innerWidth:420,initialWidth:100,initialHeight:300,onComplete:function(){gtag("event","page_view",{page_title:"Register",page_location:baseURL+"/user/register",page_path:"/user/register",transport_type:"beacon"}),ga("send","pageview",baseURL+"/user/register/")},className:"create-account-modal"};renderMobile&&(n.width="100%",n.initialWidth="288px",n.initialHeight="100px",n.transition="fade",n.speed=0),e.colorbox(n),t.colorbox(n)}if($(".js-header-signin-form").each((function(){$(this).find("input").focus((function(){$("body").removeClass("show-signin-message")})),renderMobile&&$(this).find(".-checkbox").removeClass("-small").addClass("-default"),$(this).find(".js-close-signin").click((function(){$("body").removeClass("show-signin-message")}))})),$("form.signin").submit((function(){var e=$(this),t=$("#signin-message"),n=e.find(".buttons input").parent(".button-container");if(!e.hasClass("signin-processing")){e.addClass("signin-processing");var i=e.data("spinner")||globals.spinners.spinner_14_20272f;n.lbSpinner({size:14,fallback:i});var r=0,o=function i(){$.ajax({type:"POST",async:!0,url:e.data("url"),data:e.serialize(),dataType:"json",xhrFields:{withCredentials:!0},error:function(t,i,r){e.removeClass("signin-processing"),n.lbSpinner("stop"),bxd.showMessages("error",["An error occurred.  Please try again later."])},success:function(o,a,s){if(t.stop(!0),"success"==o.result)$("#repost-form").length?$("#repost-form").submit():window.location.reload(!0);else{if(r<3&&-1!==o.messages[0].indexOf("expired"))return r++,e.find("input[name=__csrf]").val(o.csrf),void i();e.removeClass("signin-processing"),n.lbSpinner("stop"),renderMobile?o.messages&&alert(o.messages[0]):o.messages&&(e.is("#signin")?(t.html("<p>"+o.messages[0]+"</p>"),$("body").addClass("show-signin-message")):bxd.showMessages("error",o.messages))}}})};bxd.dismissMessages(),$("body").removeClass("show-signin-message"),e.find("input[name=__csrf]").val(supermodelCSRF);e.data("recaptcha-action");o()}return!1})),location.search.match(/register/)){var i="";if(-1!=location.href.indexOf("register=true"))i=location.href.substring(location.href.indexOf("register=true")+13);else if(-1!=location.href.indexOf("/register/")){var r=location.href.substring(location.href.indexOf("/register/")+10);r.length&&(i="token="+r)}person.signUpEmailAddress&&(i=i+"&emailAddress="+encodeURIComponent(person.signUpEmailAddress)),i=i.replace(/\?/,"&");var o=$("#header .create-account-menu a");if(o.length<=0&&(o=$("a.create-account-link")),o.length>0){var a=o.attr("href");a+="?register=true",i.length&&(a+="&"+i);var s={href:a};renderMobile&&(s.speed=0),o.colorbox(s),o.trigger("click")}}}}else document.location=baseURL+"/errors/wrapped"}))},70109:(e,t,n)=>{n(30535),n(96339),n(58722),n(31875),n(18482),n(20857),n(12809),n(2923),n(18329),n(62888),$((function(){var e={};try{""===$.cookie("filmFilter")?$.cookie("filmFilter",null,{expires:0,path:"/"}):$.cookie("filmFilter")&&function(e,t){e.split(" ").forEach((function(e){var n=e.indexOf("-");if(n>=0){var i=e.substring(0,n),r=e.substring(n+1);t[r]=i}}))}($.cookie("filmFilter"),e)}catch(e){$.cookie("filmFilter",null,{expires:0,path:"/"})}var t=Object.assign({},e),n=$("body"),i=n.stringData("owner")===person.username;i&&n.addClass("my-own-page"),"staff"!==person.role&&($(".js-film-filter[data-category='obscure']").hide(),delete t.obscure,$(".js-film-filter[data-category='nanocrowd']").hide(),delete t.nanocrowd),person.canFilterOwned?i&&n.hasClass("owned-list")&&delete t.owned:($(".js-film-filter[data-category='owned']").hide(),delete t.owned);var r=n.hasClass("my-own-films");if(r||$("#profile-header").stringData("person")!==person.username||(r=!0,n.addClass("my-own-films")),r&&delete t.watched,"show"!==t.rated&&"show"!==t.logged&&"show"!==t.reviewed||(n.addClass("watched-films-subset"),delete t.watched),r&&n.hasClass("films-reviewed")&&delete t.reviewed,r&&n.hasClass("films-rated")&&delete t.rated,r&&n.hasClass("films-diary")&&delete t.logged,r&&n.hasClass("likes")&&delete t.liked,$("#frm-watchlist-autocomplete").length&&delete t.watchlisted,n.hasClass("unreleased-films-only")&&delete t.unreleased,window.location.href.includes("genre/documentary/")&&(n.addClass("documentaries-only"),delete t.docs),"show"===t.watched?n.addClass("hide-unwatched"):"hide"===t.watched&&n.addClass("hide-watched"),$.isEmptyObject(t)&&$("#hide-toggle-menu .js-film-filter-remover").closest("li").hide(),$(".hide-toggle-menu").length){n.addClass("show-hide-toggle"),$(".js-film-filter").each((function(e,n){var i=$(n),r=i.data("category"),o=i.data("type");t[r]===o?i.addClass("smenu-subselected").find("a").data("toggle","on"):i.removeClass("smenu-subselected").find("a").data("toggle","off")})),$(".js-film-filter a").click((function(t){t.preventDefault();var n=$(this),i=n.parent().data("category"),r=n.parent().data("type"),o=$(this).data("toggle");"off"===o?($(this).data("toggle","on"),e[i]=r):"on"===o&&($(this).data("toggle","off"),delete e[i]),$.cookie("filmFilter",function(e){var t="";for(var n in e){var i=e[n];t.length>0&&(t+=" "),t+=i+"-"+n}return t}(e),{expires:730,path:"/"}),location.reload()}));var o=function(){var e="true"==$.cookie("hideMyWatchedFilms");e?$("#hide-toggle-menu .js-fade-toggle input").prop("checked",!0):$("#hide-toggle-menu .js-fade-toggle input").prop("checked",!1),!e||r||t.watched?n.removeClass("hide-films-seen"):n.addClass("hide-films-seen"),$("#hide-toggle-menu .smenu-subselected").not(".fade-toggle-off").length?$(".hide-toggle-menu").closest(".sorting-selects").add("#hide-toggle-menu").addClass("hide-toggle-active"):$(".hide-toggle-menu").closest(".sorting-selects").add("#hide-toggle-menu").removeClass("hide-toggle-active")};o(),$("#hide-toggle-menu .js-fade-toggle input").on("change",(function(e){e.preventDefault(),r||t.watched||($(this).prop("checked")?$.cookie("hideMyWatchedFilms","true",{expires:730,path:"/"}):$.cookie("hideMyWatchedFilms",null,{expires:0,path:"/"}),o())}))}$(document).on("click",".js-film-filter-remover",(function(e){e.preventDefault(),$.cookie("filmFilter",null,{expires:0,path:"/"}),location.reload()}))}))},94567:(e,t,n)=>{if(n(20857),n(30535),n(85018),n(89794),n(66776),window.urlFixerPromise=$.Deferred(),void 0!==window.history){var i=window.location.href;"undefined"!=typeof fixURL&&(i=baseURL+fixURL),(i.indexOf("__requestid=")>0||"undefined"!=typeof fixURL)&&void 0!==window.history.replaceState&&(i=i.replace(/__requestid=[^&]*/,"").replace(/\?$/,"").replace("&&","&").replace("?&","?"),window.history.replaceState(null,null,i))}!function(){var e,t,n;try{n=new Date,(e=window.sessionStorage).setItem(n,n),t=e.getItem(n)!=n,e.removeItem(n),t&&(e=!1)}catch(e){}if(e){var r=e.getItem("sessionState")?JSON.parse(e.getItem("sessionState")):[];i.indexOf("fromApp=")>0&&(i.indexOf("fromApp=true")>0?(r.push("inApp"),e.setItem("sessionState",JSON.stringify(r))):(e.removeItem("sessionState"),r=[]),void 0!==window.history&&void 0!==window.history.replaceState&&(i=i.replace(/fromApp=[^&]*/,"").replace(/\?$/,"").replace("&&","&").replace("?&","?"),window.history.replaceState(null,null,i)))}$((function(){r.length&&"inApp"===r[0]?($("body").addClass("in-app"),$(".js-hide-in-app").remove(),$(".js-show-in-app").show(),renderMobile&&$(".backdrop-container").css("top",0),($("body").hasClass("signin-page")||$("body").hasClass("request-password-reset-page"))&&$("body").addClass("flat-bg")):$(".js-show-in-app").remove(),window.urlFixerPromise.resolve()}))}()},93580:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>p,NAMESPACE:()=>d});var i=n(47989),r=n(2126),o=n(77189),a=(n(75602),n(44347),n(90195),n(31875),n(86434),n(29888),n(62888),n(9300),n(82395),n(51301)),s=n.n(a),l=n(64745),c=n(46819),u=n(89824),d="actions-panel-sharing",f="owner-username",h="href-for-owner",p=(0,i.Z)((function e(t,n){var i=this;(0,r.Z)(this,e),(0,o.Z)(this,"setExpanded",(function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];i.trigger.setAttribute("aria-expanded",e)})),(0,o.Z)(this,"show",(function(){i.setExpanded(!0)})),(0,o.Z)(this,"hide",(function(){i.setExpanded(!1)})),(0,o.Z)(this,"toggle",(function(e){i.isOpen?i.hide():(i.show(),i._addDismissListener())})),(0,o.Z)(this,"_onTriggerClick",(function(e){e.preventDefault(),i.toggle(e)})),(0,o.Z)(this,"_onTriggerPointerenter",(function(e){"mouse"===e.pointerType&&i.toggle(e)})),(0,o.Z)(this,"_onUrlFocus",(function(e){e.target.select()})),(0,o.Z)(this,"_onDocumentBodyPointeroverDismiss",(function(e){e.target===i.el||i.el.contains(e.target)||i._startDismissTimer()})),(0,o.Z)(this,"_addDismissListener",(function(){document.body.addEventListener("pointerover",i._onDocumentBodyPointeroverDismiss)})),(0,o.Z)(this,"_removeDismissListener",(function(){document.body.removeEventListener("pointerover",i._onDocumentBodyPointeroverDismiss)})),(0,o.Z)(this,"_startDismissTimer",(function(){clearTimeout(i._dismissTimeout),i._dismissTimeout=setTimeout((function(){i.hide(),i._removeDismissListener()}),1500)})),(0,o.Z)(this,"_updateHrefForOwner",(function(e){window.person.loggedIn&&window.person.username===i.ownerUsername&&"A"===e.tagName&&e.dataset[s()("js-".concat(h))]&&(e.href=e.dataset[s()("js-".concat(h))])}));var a=!1;Object.defineProperties(this,{isOpen:{get:function(){return a},set:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];a=e}},ownerUsername:{get:function(){return t.dataset[s()("js-".concat(f))]}}}),this.el=t,this.trigger=this.el.querySelector("[aria-expanded][aria-controls]"),this.body=document.getElementById(this.trigger.getAttribute("aria-controls")),this.url=this.body.querySelector('input[type="text"]'),this.trigger.addEventListener("click",this._onTriggerClick),this.trigger.addEventListener("pointerenter",this._onTriggerPointerenter),this.url.addEventListener("focus",this._onUrlFocus);var d=Array.from(this.body.querySelectorAll("[data-".concat(l.$r.SHARER_TYPE,"]"))).filter((function(e){return Object.values(l.vK).find((function(t){return t===(0,l.hF)(e)}))}));this.sharers=d.map((function(e){var t=(0,l.hF)(e);return t===l.vK.LINK?new u.ZP(e,{parentComponent:i,tooltipStyle:u.bC.CONTRAST,tooltipContainer:i.el}):(i._updateHrefForOwner(e),new c.Z(e,{type:t}))}))}))},55434:(e,t,n)=>{"use strict";n.r(t);n(20857),n(30535),n(85018),n(90195),n(31875),n(62888),n(30046),n(21082),n(93418),n(66776);var i=n(42483);$((function(){if($("body").hasClass("activity-stream")){var e=$(".activity-table");if(person.username===e.stringData("owner")){if(void 0!==window.history&&void 0!==window.history.replaceState){var t=window.location.href,n=baseURL+"/"+person.username+"/activity/following/";t.indexOf(n)>0?(t=t.replace(n,baseURL+"/activity/"),window.history.replaceState(null,null,t),$(".main-nav-activity").addClass("selected")):(n=baseURL+"/"+person.username+"/activity/",t.indexOf(n)>0&&(t=t.replace(n,baseURL+"/activity/you/"),window.history.replaceState(null,null,t),$(".main-nav-activity").addClass("selected")))}}else e.addClass("generic-person-activity")}function r(e,t){$("#pagination-errors").remove();var n=$(t).filter(".error-message");if(n.length){var r=[];n.each((function(){r.push($(this).html())})),$(".pagination").after("<div id='pagination-errors' class='messages'></div>"),bxd.showMessages("error",r)}else{var o=$(t);if($("#activity-table-body").append(o),o.hide().fadeIn("slow"),o.filter("section.no-activity-message").length)e.hide();else{var a=$("#activity-table-body").find("section:last-child").data("activity-id");void 0===a&&(a=0),e.data("after-id",a)}bxd.layout(o),(0,i.Oe)(o.get())}}function o(){!function(){var e=$(".load-more-activity"),t=e.data("url"),n=e.data("after-id"),i=[];if(null!=n&&i.push("after="+n),$("#activity-stream-tab").hasClass("selected")){var r=JSON.parse($.cookie("activity-streams-"+person.username));null!=r?$(r).each((function(){i.push($(this)[0].name+"=true")})):$(["reviews","lists","stories","reviewComments","listComments","diaryEntries","watchlistAdditions","reviewLikes","listLikes","follows","yourActivity","incomingActivity"]).each((function(){i.push(this+"=true")}))}i.length&&(t=t+"?"+i.join("&")),e.data("action",t)}(),$(".load-more-activity").trigger("ajax-action")}function a(){$("#activity-table-body").empty(),$(".load-more-activity").show(),$(".load-more-activity").removeData("after-id"),o()}$("section.no-activity-message").length?$(".load-more-activity").hide():($(".load-more-activity").bind("ajax-success",(function(e,t,n,i){var o=$(this);$("#pagination-errors").remove();var a=$("#activity-table-body .no-activity-message");a.length?a.fadeOut("fast",(function(){$(this).remove(),$(this)==a.get(0)&&r(o,t)})):r(o,t)})).bind("ajax-working",(function(e,t,n,i){$(this).lbSpinner({size:12,fallback:globals.spinners.spinner_12_2C3641})})).bind("ajax-error",(function(){$(this).lbSpinner("stop")})).bind("ajax-work-complete",(function(e,t,n,i){$(this).lbSpinner("stop")})),$(document).bind("keydown","l",(function(){$("a.load-more-activity").trigger("click")}))),$(".load-more-activity").on("click",(function(e){e.preventDefault(),o()})),o();var s,l=$(".js-activity-filter-options");null!=(s=JSON.parse($.cookie("activity-streams-"+person.username)))&&l.find("input").each((function(){var e=$(this).attr("name"),t=$(this),n=!1;$(s).each((function(){($(this)[0].name==e||"contentLikes"==$(this)[0].name&&("reviewLikes"==e||"listLikes"==e)||"ratings"==$(this)[0].name&&"diaryEntries"==e)&&(n=!0,t.prop("checked",!0))})),n||t.prop("checked",!1)}));var c=!1,u=!1;$(".load-more-activity").on("ajax-working",(function(){u=!0})).on("ajax-ready-for-next-action",(function(){u=!1,c?($("#activity-table-body").hide(),c=!1,a()):$("#activity-table-body").show()})),l.find("input").on("click",(function(){var e=JSON.stringify(l.serializeArray());$.cookie("activity-streams-"+person.username,e,{expires:730}),u?c=!0:a()})),$(".js-activity-filters").on("click",".js-toggle-settings-panel",(function(e){e.preventDefault();var t=$(this).closest(".js-activity-filters"),n=t.find(".js-activity-filter-options"),i=t.find(".js-toggle-settings-panel");"on"==t.attr("data-panel-open")?(t.attr("data-panel-open","off"),i.attr("title","Edit Filters")):(t.attr("data-panel-open","on"),i.attr("title","Close Filters")),n.stop().slideToggle()}))}))},35590:(e,t,n)=>{var i=n(58682);n(20857),n(31875),n(63208),n(30046);var r=!1;$(document).on("submit","form.ajax-form-json",(function(e){e.preventDefault();var t=$(this);return t.data("ajax-working")||(t.trigger("ajax-working"),$.ajax({url:t.attr("action"),type:"POST",data:t.serialize(),traditional:!0,xhrFields:{withCredentials:!0},success:function(e,n,i){e.csrf&&(supermodelCSRF=e.csrf,$("input[name=__csrf]").val(e.csrf)),t.trigger("ajax-success",[e,n,i])},complete:function(e,n){t.trigger("ajax-complete",[e,n]),t.trigger("ajax-work-complete")},error:function(e,n,i){-1!=e.statusText.indexOf("0x805e0006")&&(i=["Letterboxd can’t communicate with the server.  This is usually caused by the AdBlock Plus add-on.<br />Try disabling AdBlock Plus for Letterboxd.com."]),t.trigger("ajax-error",[e,i])}})),!1})).on("ajax-success","form.ajax-form-json:not(.ajax-reload-on-success)",(function(e,t,n,i){t.messages&&bxd.showMessages(t.result?"success":"error",t.messages)})).on("ajax-error","form.ajax-form-json",(function(e,t,n){bxd.showMessages("error","An unexpected network error occurred.  Please try saving the form again.")})),$(document).on("click",".ajax-click-action",(function(e){e.preventDefault();var t=$(this);if(!t.data("ajax-disabled")){var n=t.data("confirm");if(n){var i=t.data("modal-confirm");i?bxd.colorboxModalConfirm(n,i,(function(){t.trigger("ajax-action")})):window.confirm(n)&&t.trigger("ajax-action")}else t.trigger("ajax-action")}return!1})),$(document).on("click",".ajax-form-post",(function(e){e.preventDefault();var t=$(this);if(t.data("ajax-working"));else{t.trigger("ajax-working");var n=t.data("action"),i=$("<form action='"+n+"' method='post'><input type='hidden' name='__csrf' value='"+supermodelCSRF+"'/></form>");$("body").append(i),i.submit()}})),$(document).on("ajax-action",".ajax-action,.ajax-click-action",(function(){r=!1;var e=$(this);if(e.data("ajax-working"));else{e.trigger("ajax-working");var t=e.data("action");if("function"==typeof t)t((function(t,n,i){e.trigger("ajax-success",[t,n,i])}),(function(t,n,i){e.trigger("ajax-error",[t,i])}));else{var n="function"==typeof e.data("ajax-data")?e.data("ajax-data").call(this):e.data("data");Promise.resolve(n).then((function(n){var r=function(e,t){"string"==typeof n?n+="&"+e+"="+t:"object"==i(n)?n[e]=t:n=e+"="+t};r("__csrf",supermodelCSRF);var o=e.data("data-type")||"json",a={url:t,data:n,type:e.data("ajax-request-type")||"POST",dataType:o,traditional:!0,xhrFields:{withCredentials:!0},success:function(t,n,i){"json"==o&&t.csrf&&(supermodelCSRF=t.csrf,$("input[name=__csrf]").val(t.csrf)),e.trigger("ajax-success",[t,n,i])},complete:function(t,n){e.trigger("ajax-complete",[t,n]),e.trigger("ajax-work-complete")},error:function(t,n,i){-1!=t.statusText.indexOf("0x805e0006")&&(i=["Letterboxd can’t communicate with the server.  This is usually caused by the AdBlock Plus add-on.<br />Try disabling AdBlock Plus for Letterboxd.com."]),e.trigger("ajax-error",[t,i])}},s=!person||!person.loggedIn||!person.trusted,l=e.data("recaptcha-action");l&&s?bxd.loadRecaptcha((function(){grecaptcha.execute(window.gRecaptchaKey,{action:l}).then((function(e){r("gRecaptchaResponse",e),r("gRecaptchaAction",l),a.data=n,$.ajax(a)}))})):$.ajax(a)}),(function(t){e.trigger("ajax-work-complete")})).catch((function(t){e.trigger("ajax-work-complete")}))}}})).on("ajax-working",".ajax-action,.ajax-click-action,.ajax-form-post,.ajax-form-json",(function(e){var t=$(this);t.data("ajax-working",!0),t.addClass("ajax-disabled");var n=t.data("ajax-working-semaphore");n?n+=1:n=1,t.data("ajax-working-semaphore",n)})).on("ajax-work-complete",".ajax-action,.ajax-click-action,.ajax-form-json",(function(e){var t=$(this),n=t.data("ajax-working-semaphore");n&&n>1?n-=1:(n=0,t.removeClass("ajax-disabled")),t.data("ajax-working-semaphore",n),t.data("ajax-working",n>0),t.trigger("ajax-ready-for-next-action")})).on("ajax-error",".ajax-action, .ajax-click-action",(function(e,t,n){if(r)i.trigger("ajax-work-complete");else{var i=$(this);i.trigger("ajax-working"),bxd.showMessages("error","The server returned an error message ("+t.status+"). Please try again later."),i.trigger("ajax-work-complete")}})),$(document).on("ajax-success",".ajax-reload-on-success",(function(e,t,n,i){t&&t.result?location.reload():t&&t.messages&&bxd.showMessages("error",t.messages)})),$(document).on("submit","form.ajax-no-submit",(function(e){return e.preventDefault(),!1})),$(window).bind("beforeunload",(function(e){r=!0}))},68218:(e,t,n)=>{n(53961),n(37417),n(90195),n(31875),n(69501),n(58722),n(18482),n(59025),n(44347),n(96226);var i=n(83663);function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}$(document).on("click","a.track-event",(function(e){var t=$(this).data("track-category")||"Link",n=$(this).data("track-action")||"Click",i=$(this).data("track-params")||{};gtag("event",n,o(o({},i),{},{event_category:t,event_label:e.target.href,transport_type:"beacon"})),ga("send","event",{eventCategory:t,eventAction:n,eventLabel:e.target.href,transport:"beacon"})}))},15164:(e,t,n)=>{n(75602),n(62888),n(31875),n(82395)},28412:(e,t,n)=>{"use strict";n.r(t);var i=n(23565),r=(n(20857),n(75602),n(62888),n(31875),n(30046),n(30535),n(85018),n(52248),n(3662),n(21082),n(49733),n(89794),n(11074),n(97898),n(66028),n(66155),n(13902),n(4923),n(60799),n(73887),n(18086),n(18421),n(34658),n(89956),n(49705),n(90655),n(90685),n(66348),n(8919),n(64485),n(36784),n(25857),n(77051),n(94726),n(65757),n(12423),n(64467),n(62519),n(48879),n(69449),n(93418),n(86434),n(29888),n(90195),n(41479),n(58722),n(18482),n(96339),n(59505),n(96153),n(15231),n(91063),n(72266)),o=n.n(r),a=n(2025),s=n(50390),l=n(36506),c=n(42483),u=n(6691),d=n(53178);"undefined"==typeof PubSub&&(window.PubSub={publish:function(){},subscribe:function(){}}),window.Bxd=function(){var e=$(".js-header-signin-form"),t=$("#search"),n=$("#search #search-q"),r=$("#list-items"),f=($("html"),$("body")),h=$("#tabbed-content"),p={$el:$(".js-page-footer")},m=(navigator.userAgent.indexOf("Android"),{menu:{added:!1,open:!1},login:{open:!1},search:{open:!1}}),g=[];return{init:function(){if($("body").hasClass("js-pattern-library")||(person.loggedIn?$("body").addClass("logged-in"):$("body").addClass("logged-out")),$.fn.localtime&&$.localtime.setFormat({"localtime-mmm-dd":"MMM dd","localtime-mmm-d-yyyy":"MMM d, yyyy","localtime-d-mmm-yyyy":"d MMM yyyy","localtime-d-mmmm-yyyy":"d MMMMM yyyy","localtime-dd-mmm-yyyy":"dd MMM yyyy","localtime-dd-mmmm-yyyy":"dd MMMMM yyyy","localtime-h-mm-d-mmm-yyyy":"H:mm d MMM yyyy","localtime-hh-mm-ss-dd-mmm-yyyy":"HH:mm:ss dd MMM yyyy","localtime-hh-mm-ss-dd-mmmm-yyyy":"HH:mm:ss dd MMMMM yyyy"}),bxd.ratingChartLayout={chart:{renderTo:"",type:"column",backgroundColor:null,margin:0,borderRadius:0},title:{floating:!0,text:""},exporting:{enabled:!1},xAxis:{lineColor:"#456",minPadding:0,maxPadding:0,categories:["0.5","1","1.5","2","2.5","3","3.5","4","4.5","5"],labels:{enabled:!1}},credits:{enabled:!1},legend:{enabled:!1},yAxis:{min:0,tickInterval:1,title:{enabled:!1},gridLineColor:null,labels:{enabled:!1}},colors:["#456"],tooltip:{backgroundColor:"rgba(0,0,0,0.8)",borderColor:"#9AB",useHTML:!0,formatter:function(){return'<p style="color:#9ab;font-size:11px;text-align:center;margin:0;padding:5px 7px 0;"><span class="rating rating-large rated-large-'+2*this.x+'">'+this.x+'</span><br/><strong style="color:#fff;font-weight:normal;font-size:14px;">'+this.y+(1===this.y?" person":" people")+"</strong></p>"}},plotOptions:{column:{pointWidth:63,pointPadding:.4,borderWidth:0,borderColor:"#456",shadow:!1,minPointLength:2,animation:!1,point:{events:{mouseOver:function(){var e=this;setTimeout((function(){e.graphic.attr("fill","#6c3"),e.graphic.attr("stroke","#6c3")}),1)},mouseOut:function(){var e=this;setTimeout((function(){e.graphic.attr("fill","#456"),e.graphic.attr("stroke","#456")}),1)}}}}},series:[{data:[]}]},bxd.barChartMaxY=function(e,t){for(var n=0,i=0;i<e.length;i++)y=t?t(e[i]):e[i],y>n&&(n=y);return n},bxd.layout(f),bxd.showHideSignin(),f.find(".js-show-if-following").hide(),f.hasClass("films-page")&&bxd.filmsPage(),f.hasClass("film")&&bxd.filmPage(),f.hasClass("view")&&bxd.reviewPage(),f.hasClass("backdropped")){var e=5e3;f.hasClass("js-instant-backdrop")&&(e=0),setTimeout((function(){$("body").hasClass("backdrop-loaded")||bxd.setupBackdrop()}),e)}if(f.hasClass("person-yir")){var t=$(".js-inline-backdrop");bxd.loadBackdrop(t)}if(f.hasClass("lists-page")&&bxd.listsPage(),f.hasClass("profile")){var n=$("#backdrop");bxd.loadBackdrop(n),bxd.profilePage()}if(f.hasClass("diary")&&bxd.diaryPage(),f.hasClass("editorial")&&bxd.editorialPage(),f.hasClass("search-results")&&bxd.searchResultsPage(),f.hasClass("list-page")&&$("#content-nav .list-date").length>0){window.isTouchOnly||$("#content-nav p.list-date span.is-updated").length>0&&$("#content-nav p.list-date").hover((function(){$(this).children(".updated,.published").toggle()}),(function(){$(this).children(".updated,.published").toggle()}))}if(f.find("#services-menu li.extended-services-title span").length>0&&f.find("#services-menu li.availability-primevideosubscription").insertAfter(f.find("#services-menu li.extended-services-title")),h.length&&(renderMobile&&h.hasClass("mob-no-tabs")||bxd.tabbedContent()),f.find("a.ellipsis, h3.ellipsis").each((function(){$(this).ellipsis()})),!renderMobile){var i=f.find(".js-widont,.headline-1,#tab-synopsis h4,#content div.body-text.-hero p,.secondary-heading a, h4.tagline").not(".person-summary .title-4").not(".-allow-widow");i.length>0&&i.clwidont();var r=f.find("ul.equalize li.poster-container, ul.equalize li.film-list-group");r.length>0&&r.clequalize("height",4)}var o=f.find("#content-nav .select ul");o.length&&o.hoverIntent((function(){$(this).addClass("hover")}),(function(){$(this).removeClass("hover")})),window.isTouchOnly&&f.find("#content-nav .select ul li.has-icon").click((function(){$(this).parent().toggleClass("hover")})),f.find("#featured-film-header").each((function(){var e=$(this).find("p");e.width()>=$(this).width()&&e.addClass("ellipsis")})),f.bind("reloaded",(function(e){bxd.layout($(e.target))}));var a=$("#frm-film-search");a.length&&(a.autocomplete(a.data("url"),$.extend({},bxd.autocompleteConfig,{width:228})).result((function(e,t,n){location.href=t.url})),$("body").click((function(e){eventIsInsideElement(e,$("#find-film"))||eventIsInsideElement(e,$(".ac_results"))||setTimeout((function(){a.trigger("close")}),300)})),$(window).resize((function(){a.trigger("close")}))),$(".js-search-form").submit((function(e){e.preventDefault();var t=$(this).find("input[name=q]");if(""===t.val())t.focus();else{var n=$(this).attr("action")+encodeURIComponent(t.val().trim().replace(/[\/\\]+/g," ")).replace(/%20/g,"+")+"/";person&&person.showAdultContent&&(n+="?adult"),location.href=n}return!1})),$("#header").on("click",".js-nav-search-toggle a",(function(e){e.preventDefault(),bxd.toggleSearch(!0)})),renderMobile||(f.find("header a.button-add").length?f.hasClass("search-results")&&bxd.toggleSearch(!1):(bxd.toggleSearch(!1),$("#header .js-nav-search-toggle").remove())),f.on("click",".js-allowed-html a",(function(e){e.preventDefault(),$(this).next(".js-allowed-html-tags").show().end().hide()})),$(document).on("click","a.reveal, a.js-reveal",(function(e){e.preventDefault(),$(this).hide();var t=$(this).closest(".collapsible-text"),n=t.data("full-text-url");n.startsWith("#")?(t.hide(),$(n).show(),bxd.revealCallback(this)):t.load(n,(function(){bxd.revealCallback(this)}))})),$(document).on("click","a.js-expand-container",(function(e){e.preventDefault();var t=$("#"+$(this).data("container-id"));t.toggleClass("js-open"),$(this).text(t.hasClass("js-open")?"Close":"All")})),f.find(".truncate").each((function(){var e=$(this),t=e.data("truncate");e.condense({condensedLength:t,moreText:"&hellip;more",lessText:"&times;",ellipsis:"",moreSpeed:0,lessSpeed:0})})),$("body.editorial section.editorial-content h1:not(:first)").before("<div class='hr'><hr /></div>"),$("body.editorial section.tweets h1").append("<span></span>"),$("#more-directors").click((function(){$("#directors").trigger("click")})),$("div.film-list-summary .text[data-more]").each((function(){var e=' <a href="'+$(this).data("more")+'">more</a>';$(this).children("p:last-child").append(e)})),renderMobile||bxd.fixPosterSidebar(),$(".js-glitchy").length&&Math.random()>.404&&setTimeout((function(){$(".js-glitchy").fadeIn(),f.on("click",".js-glitchy",(function(e){e.preventDefault(),$(window).scrollTo(0,250);$("body").prepend("<iframe id='houston_frame' scrolling='no' src='"+$(this).data("url")+"' style='position:fixed;top:0;left:0;width:100%;height:100%;z-index:1337;overflow:hidden !important;'><\/script>"),setTimeout((function(){window.location.href="https://hackertyperclone.herokuapp.com"}),1e4)}))}),5e3);var s=f.find("#comment-form textarea");if(s.length&&s.autogrow(),renderMobile&&bxd.mobileSetup(),$("a.mobile-site-switch").click((function(e){e.preventDefault(),$.cookie("useMobileSite",$(this).data("use-mobile-site"),{expires:365,path:"/"}),$.cookie("useMobileSite")?window.location.reload(!0):alert("Sorry, you’ll need to enable cookies to access the mobile version of Letterboxd.")})),$(".js-button-follow:visible").length&&$("body > footer.page-footer p.copyright span.recap").show(),!renderMobile&&!disableAds&&person.showAds){if(window.tyche&&window.tyche.passiveMode)return;$("#page-footer").addClass("-bottomrail")}bxd.profileHeader(),(0,c.Oe)()},autocompleteConfig:{mustmatch:!0,scroll:!0,highlight:!1,selectFirst:!0,max:100,width:renderMobile?258:578,scrollHeight:window.isTouchOnly?1e4:180,extraParams:{adult:function(){return person&&person.showAdultContent}},postInitCallback:function(e){e.append("<div class='autocomplete-not-found'>Film not here? <a href='"+baseURL+"/about/film-data/' target='_blank'>Find out how to add it.</a></div>")},beforeSend:function(e){e.addClass("loading")},afterSend:function(e){e.removeClass("loading")},error:function(e){e.removeClass("loading")},formatItem:function(e,t,n,i){var r=e.name,o=e.originalName&&e.originalName.length>0&&e.originalName!=e.name;return(e.releaseYear||o)&&(r+=" (",e.releaseYear&&(r+=e.releaseYear,o&&(r+=", ")),o&&(r+=e.originalName),r+=")"),e.directors&&e.directors.length>0&&(r=r+" <span class='directors'>"+e.directors[0].name,e.directors.length>1&&(r=r+", "+e.directors[1].name),e.directors.length>2&&(r+=", et al."),r+="</span>"),r},formatResult:function(e,t,n,i,r){return r},handleNoResults:!0,formatNoResultsMessage:function(e){return"No films matching '"+$("<div></div>").text(e).html().trim()+"'."}},loadRecaptcha:function(e){if("undefined"==typeof grecaptcha){window.recaptchaCallback=e;var t=$('<script src="https://www.google.com/recaptcha/api.js?onload=recaptchaCallback&render='.concat(window.gRecaptchaKey,'" async defer><\/script>'));$("body").append(t)}else grecaptcha.ready(e)},renderHCaptcha:function(e,t){var n=function(){var n={sitekey:e.data("key"),theme:"dark"};renderMobile&&(n.size="compact"),hcaptcha.render(e[0],n),t()};if("undefined"==typeof hcaptcha){window.hcaptchaCallback=n;var i=$('<script src="https://hcaptcha.com/1/api.js?onload=hcaptchaCallback&render=explicit" async defer><\/script>');$("body").append(i)}else n()},initUsernameChecker:function(e,t){var n=null;function i(){t.empty()}function r(e,i){function r(e,n){if("username-check"===e){(i=$("<p class='username-checking'>"+n+"</p>")).lbSpinner({size:12,insertion:"prepend",element:"span"})}else{var i=$("<p class='"+e+" has-icon'>"+n+"</p>");bxd.layout(i)}t.html(i)}n&&clearTimeout(n),"username-check"===e?r(e,i):n=setTimeout((function(){r(e,i)}),1e3)}e.autocomplete(t.data("check-url"),{showAsDropDown:!1,dataType:"json",parse:function(){return[]},valueTooShort:function(e){r("ajax-error","Too short")},beforeSend:function(e,t){r("username-check","Checking...")},error:function(e,t,n,i){r("ajax-error",i+"("+n+")")},keyPress:i,afterSend:function(e,t){"AVAILABLE"===t.result?r("username-available","Available"):"INVALID"===t.result?r("ajax-error","Use a-z, 0-9 or _ only"):"ILLEGAL"===t.result?r("ajax-error","Unavailable"):"TOO_SHORT"===t.result||"MISSING"===t.result?r("ajax-error","Too short"):"TOO_LONG"===t.result?r("ajax-error","Too long!"):"YOU"===t.result?i():r("username-taken","Taken")}})},submit:function(e,t){var n,i=function(e){return e.toString(16).padStart(2,"0")},r=t.serialize(),a=(n=new Uint8Array((32||40)/2),window.crypto.getRandomValues(n),Array.from(n,i).join("")),s=function(){for(var e=17,t=0;t<arguments.length;t++)for(var n=0;n<arguments[t].length;n++)e=(31*e|0)^arguments[t].charCodeAt(n);return e<0&&(e=-e),e.toString(16)}(t.find('[name="emailAddress"]').val(),t.find('[name="username"]').val(),a),l=r+"&nonce="+a+"&hash="+s+"&__csrf="+supermodelCSRF;$.ajax(o()(e,{data:l}))},addToWatchlist:function(e){$("a.remove-from-watchlist[data-film-id="+e+"]").closest("span.action-large").removeClass("hidden"),$("a.add-to-watchlist[data-film-id="+e+"]").closest("span.action-large").addClass("hidden"),$(".poster[data-film-id="+e+"], .film-poster-"+e+", .film-cell-"+e).data("film-in-watchlist",!0).attr("data-film-in-watchlist",!0).removeClass("removed-from-watchlist")},removeFromWatchlist:function(e){$("a.remove-from-watchlist[data-film-id="+e+"]").closest("span.action-large").addClass("hidden"),$("a.add-to-watchlist[data-film-id="+e+"]").closest("span.action-large").removeClass("hidden"),$(".poster[data-film-id="+e+"], .film-poster-"+e+", .film-cell-"+e).data("film-in-watchlist",!1).attr("data-film-in-watchlist",!1).addClass("removed-from-watchlist")},setAsWatched:function(e,t){var n,i,r=$(".film-poster-"+e),o=$("body").hasClass("diary")?$(".film-cell-"+e):r.filter("[data-mark-as-watched-action]").first(),a=r.parent(".poster-container,.td-film-details,li.film-detail"),s=t?"film-watched":"film-not-watched",l=t?"film-not-watched":"film-watched";a.length>0?a.hasClass("td-film-details")?a.closest("tr").addClass(s).removeClass(l):a.addClass(s).removeClass(l):r.addClass(s).removeClass(l);var c=$(".film-watch-link-target[data-film-id="+e+"]");t?(n='<span class="film-watch-link"><span class="has-icon icon-16 icon-watched ajax-click-action" data-action="'+o.data("mark-as-not-watched-action")+'"><span class="replace icon"></span><span class="watched-text">You’ve seen this</span></span></span>',i='<span class="film-watch-link -large -watched"><span class="action -watch -on ajax-click-action" data-action="'+o.data("mark-as-not-watched-action")+'">Watched</span></span>'):(n='<span class="film-watch-link"><span class="has-icon icon-16 icon-watch ajax-click-action" data-action="'+o.data("mark-as-watched-action")+'"><span class="replace icon"></span>Seen this film?</span></span>',i='<span class="film-watch-link -large"><span class="action -watch ajax-click-action" data-action="'+o.data("mark-as-watched-action")+'">Watch</span></span>'),c.each((function(){$(this).closest(".js-actions-panel").length>0?$(this).html(i):$(this).html(n)})),t&&($(".contains-spoilers[data-film-id="+e+"] .reveal").hide(),$(".contains-spoilers[data-film-id="+e+"] .js-reveal").hide(),$(".hidden-spoilers[data-film-id="+e+"]").show())},pluralise:function(e,t,n,i){return 1===e?e+" "+t:0===e&&i?i:(n||(n=t+"s"),bxd.formatNumber(e)+" "+n)},formatNumber:l.Z,postForm:function(e){var t=$("<form action='"+e+"' method='post'><input type='hidden' name='__csrf' value='"+supermodelCSRF+"'/></form>");$("body").append(t),t.submit()},colorboxModalConfirm:function(e,t,n,r){var o=$('<div style="display:none;"></div>');"object"!==(0,i.Z)(t)&&(t={}),"string"!=typeof t.title&&(t.title="Please confirm"),"string"!=typeof t.ok&&(t.ok="Okay"),"string"!=typeof t.okClass&&(t.okClass=""),"boolean"!=typeof t.nonDestructive&&(t.nonDestructive=!1),"string"!=typeof t.cancel&&(t.cancel="Cancel");var a=$("<div id='confirm-modal' class='modal confirm'><article class='fields-reversed'><h1>"+t.title+"</h1><p class='body-text -hero'></p><div class='row buttons'></div></article></div>");o.append(a),a.find("p.body-text").text(e),a.find(".buttons").append($('<a class="modal-ok button '+(t.nonDestructive?"-action":"-destructive")+" right "+t.okClass+'" href="#">'+t.ok+"</a>")).append($('<a class="modal-cancel button right" href="#">'+t.cancel+"</a>")),a.on("click",".modal-cancel",(function(e){e.preventDefault(),o.colorbox.close()}));var s=!1;a.on("click",".modal-ok",(function(e){e.preventDefault(),s=!0,o.colorbox.close()}));var l={inline:!0,fixed:!0,overlayClose:!0,onClosed:function(){o.remove(),s?n&&n():r&&r()},href:".confirm"};renderMobile&&(l.width="100%",l.initialWidth="288px",l.initialHeight="200px",l.speed=0),$("body").append(o),o.colorbox(l).trigger("click")},loadReallyLazyPosters:function(e){e.each((function(){var e=$(this);e.removeClass("really-lazy-load");var t=e.data("film-slug"),n=e.data("image-width"),i=e.data("image-height"),r=e.data("context");r||(r="std");var o=e.data("film-adult"),a=baseURL+"/ajax/poster"+t+r+"/"+n+"x"+i+(e.is("li")?"/list-item/":"/")+(o&&person&&person.showAdultContent?"adult/":""),s=e.data("cache-busting-key");s&&(a=a+"?k="+s),$.ajax({url:a,success:function(t,n,i){var r=$(t),o=r.find("img").attr("srcset");e.hasClass("react-component")?(console.log({message:"Lazy react component!?",posterEl:e}),e.removeClass("really-lazy-load").find("img").attr("src",r.find("img").attr("src")).attr("srcset",o)):(r.addClass(e.attr("class")),r.data(e.data()),r.insertAfter(e),e.remove(),bxd.layout(r))}})}))},layout:function(e){window.componentFailed&&(window.componentFailed=!1,bxd.componentFailed()),PubSub.publish("csi"),PubSub.publish("really-lazy-load"),e.find(".hide-for-owner[data-owner="+person.username+"]").remove(),person.loggedIn?(e.find(".hide-when-logged-in").remove(),e.find(".show-when-logged-in").removeClass("show-when-logged-in").addClass("shown-when-logged-in"),e.find(".show-when-logged-out").remove(),e.find(".hide-when-logged-out").removeClass("hide-when-logged-out"),e.find(".show-for-owner[data-owner="+person.username+"]").removeClass("show-for-owner").addClass("shown-for-owner"),e.find(".link-if-member").each((function(){var e=$(this).data("href").replace("{username}",person.username),t=$("<a href='"+e+"' target='_blank'></a>");t.html($(this).html()),$(this).replaceWith(t)})),person.canUpgradeToPro&&e.find(".show-if-can-upgrade-to-pro").removeClass("show-if-can-upgrade-to-pro").addClass("shown-because-can-upgrade-to-pro"),"pro"===person.role&&e.find(".show-for-pro").removeClass("show-for-patron show-for-pro show-for-staff").addClass("shown-for-pro"),"patron"===person.role&&e.find(".show-for-patron").removeClass("show-for-patron show-for-pro show-for-staff").addClass("shown-for-patron"),"staff"===person.role&&e.find(".show-for-staff").removeClass("show-for-patron show-for-pro show-for-staff").addClass("shown-for-staff"),person.moderator&&e.find(".show-for-moderator").removeClass("show-for-moderator").addClass("shown-for-moderator")):(e.find(".hide-when-logged-out").remove(),e.find(".show-when-logged-out").removeClass("show-when-logged-out").addClass("shown-when-logged-out"),e.find(".show-when-logged-in").remove(),e.find(".hide-when-logged-in").removeClass("hide-when-logged-in"),e.find(".link-if-member").each((function(){$(this).replaceWith($(this).wrapInner("<strong>"))}))),e.find(".show-for-owner").remove();var t=e.hasClass("react-component")?e:e.find(".react-component");t.length>0&&(PubSub.publish("letterboxd-metadata",{reset:!0}),t.react()),e.find(".has-icon").add(e.filter(".has-icon")).not(e.find(".has-icon:has(> span.icon)")).prepend('<span class="icon"></span>'),e.find(".has-fade").add(e.filter(".has-fade")).not(e.find(".has-fade:has(> span.fadeout)")).each((function(){renderMobile||$(this).prepend('<span class="fadeout"></span>')})),e.find(".replace-if-you[data-person="+person.username+"]").each((function(){$(this).html($(this).data("replacement"))})),e.find(".poster-viewingdata").each((function(){var e=0;$(this).children().each((function(){e+=$(this).outerWidth(!0)})),e>150&&$(this).children("time").hide()})),e.find(".collapsed-text").each((function(){$(this).children().last().append(' <a href="#" class="reveal js-reveal">more</a>')})),!disableAds&&person.showAds||$(".pw-in-article-ads").remove(),window.isTouchOnly||renderMobile||(e.find("a.avatar").twipsy({delayIn:500,offset:1}),e.find(".tooltip").twipsy({delayIn:200,offset:1}).filter(".tooltip-close-on-click").on("click",(function(){$(this).twipsy().hide()})),e.find("li.comment-collapsed .icon").twipsy({delayIn:200,offset:1,title:function(){return"Show hidden comments"}}));var n=e.find("time.timeago");n.length>0&&n.each((function(){var e=$(this),t=e.hasClass("-longform")?"LONGFORM":"DEFAULT";e.timeago({strings:s.j[t]}).toggleClass("".concat(s.A.PENDING," ").concat(s.A.COMPLETE))})),$.fn.localtime&&e.localtime(),person&&person.loggedIn&&person.hasExtendedServiceFilters?(e.find(".hide-if-can-filter-all-services").remove(),e.find(".show-if-can-filter-all-services").show()):(e.find(".can-filter-all-services a").each((function(){$(this).attr("href",$(this).closest(".smenu-menu").data("upgrade-url"))})),e.find(".js-watch-panel").each((function(){$(this).find(".show-if-can-filter-all-services").remove();var e=$(this).find(".js-watch-amazon-label"),t=e.parent().find(".link").eq(0).attr("href");"undefined"!==t&&e.attr("href",t)})));var i=e.find(".js-watch-panel"),r=i.find(".service:not(.js-expand-services)");0===i.find(".js-film-availability-link").length&&0===i.find(".js-watch-panel-trailer").length?i.remove():0===i.find("#watch").length&&0!==i.find(".js-watch-panel-trailer").length&&(i.find(".header h3").remove(),i.find(".trailer-link").addClass("-noavail")),r.each((function(){0===$(this).children().length&&$(this).addClass("-empty")}));var o=r.length;if(o>5){var a=o-5+1;i.find(".js-expand-services span.name").text("Show "+a+" more"),i.find(".js-expand-services").show()}else 5===o&&$("#watch .services").addClass("-showall");if(person&&person.loggedIn){if(e.find("input[name=__csrf]").val(supermodelCSRF),e.find("td.film-actions, .rateit").each((function(){var e=$(this).data("film-id");PubSub.publish("letterboxd-metadata",{poster:e})})),e.find(".follow-button-wrapper").not("[disable-js]").each((function(){var e=$(this).stringData("username");e&&(e===person.username?$(this).data("profile")?($(this).css("visibility","visible").html('<a href="'+baseURL+'/settings/" class="button -small" rel="nofollow">Edit Profile</a>'),bxd.layout($(this))):$(this).remove():(PubSub.publish("letterboxd-metadata",{follows:e}),$(this).find(".follows-message").length>0&&PubSub.publish("letterboxd-metadata",{followers:e})))})),tagAutocompleter.initialise(),$.fn.colorbox){var l={inline:!0,initialWidth:isMobile?0:538,overlayClose:!1,href:"#add-to-a-list-modal",className:"-styled -mini -addtolist -loading",onOpen:function(){var e=$("#add-to-a-list-modal"),t=e.find(".js-add-to-list-body");t.lbSpinner({size:16,insertion:"prepend",element:"span"}),e.show();var n=e.find("input.film-id").serialize()+"&__csrf="+supermodelCSRF;$.ajax({url:e.data("data-url"),data:n,type:"POST",dataType:"json",complete:function(){t.lbSpinner("stop"),t.closest("#colorbox").removeClass("-loading"),t.colorbox.resize(),renderMobile||setTimeout((function(){e.find(".js-list-selection[data-list-type=public] .js-list-filter").focus()}),300)},error:function(e,t,n){bxd.showMessages("error",[n])},success:function(t,n,i){if(t.messages&&bxd.showMessages(t.result?"success":"error",t.messages),t.result){var r=function(e,t){return null===t.position?'<label class="list js-list-filter-item"><input type="checkbox" class="checkbox" data-type="'.concat(e,'" name="filmListId" value="').concat(t.id,'"/><span class="substitute"></span><span class="name js-list-filter-data">').concat(t.name,'</span><span class="count">').concat(bxd.pluralise(t.numEntries,"film","films",""),"</span></label>"):'<label class="list js-list-filter-item -added"><span class="substitute"></span><span class="name js-list-filter-data">'.concat(t.name,'</span><span class="count">#').concat(t.position+1," of ").concat(bxd.formatNumber(t.numEntries),"</span></label>")},o=e.find(".js-list-selection[data-list-type=public]");o.find("label.list").remove(),t.publicLists.forEach((function(e){o.append(r("public",e))})),c(o);var a=e.find(".js-list-selection[data-list-type=private]");a.find("label.list").remove(),t.privateLists.forEach((function(e){a.append(r("private",e))})),c(a)}}});var i={public:0,private:0,status:e.find(".js-selected-lists-state"),submit:e.find(".js-add-to-list-submit"),filterTerm:""},r=e.find(".js-list-type-toggle button[data-list-type]"),o=e.find(".js-list-selection"),a=e.find(".js-list-filter");function s(){0==i.public&&0==i.private?(i.status.text(""),i.submit[0].setAttribute("disabled","")):(i.submit[0].removeAttribute("disabled"),0==i.public&&i.private>0?i.status.text(i.private+" private list"+(i.private>1?"s":"")+" selected"):i.public>0&&0==i.private?i.status.text(i.public+" public list"+(i.public>1?"s":"")+" selected"):i.public>0&&1==i.private?i.status.text(i.public+" public and 1 private list selected"):1==i.public&&1==i.private?i.status.text("1 public and 1 private list selected"):i.public>0&&i.private>0&&i.status.text(i.public+" public and "+i.private+" private lists selected"))}function l(e,t){return e.toUpperCase().indexOf(t.toUpperCase())>=0}function c(e){var t=e.find(".js-list-filter"),n=e.find(".js-list-filter-item"),r=e.find(".js-list-filter-clear");t.off("change.list-filter"),r.off("click.clear-filter"),t.on("change.list-filter",(function(){var e,i=$(this).val().trim().split(/\s+/);i.length&&i[0].length?function(){t.addClass("-typing");var r=[];for(e in i)e.length&&function(){var t=i[e];n.each((function(e){l($(this).find(".js-list-filter-data").text(),t)&&r.push(e)}))}();r.length>0?(n.hide(),n.each((function(e){r.indexOf(e)>=0&&n.eq(e).show()}))):n.hide()}():(t.removeClass("-typing"),n.show());return!1})).keyup((function(){i.filterTerm=$(this).val(),$(this).trigger("change.list-filter")})),r.on("click.clear-filter",(function(e){e.preventDefault(),i.filterTerm="",t.val("").trigger("change.list-filter"),t.focus()}))}r.off("click.add-to-list").on("click.add-to-list",(function(n){n.preventDefault(),function(n){r.removeClass("-selected"),r.filter("[data-list-type="+n+"]").addClass("-selected"),a.val("").trigger("change.list-filter"),t.closest("#colorbox").addClass("-loading"),t.lbSpinner({size:16,insertion:"prepend",element:"span"}),t.colorbox.resize(),setTimeout((function(){t.lbSpinner("stop"),o.removeClass("-selected"),o.filter("[data-list-type="+n+"]").addClass("-selected"),t.closest("#colorbox").removeClass("-loading"),t.colorbox.resize(),setTimeout((function(){e.find(".js-list-selection[data-list-type="+n+"] .js-list-filter").val(i.filterTerm).trigger("change.list-filter"),renderMobile||e.find(".js-list-selection[data-list-type="+n+"] .js-list-filter").focus()}),0)}),200)}($(this).data("list-type"))})),o.off("change.add-to-list").on("change.add-to-list","input[type=checkbox]",(function(){var e=$(this).data("type");this.checked?($(this).closest("label").addClass("-checked"),i[e]+=1):($(this).closest("label").removeClass("-checked"),i[e]-=1),s()})),s()}};renderMobile&&(l.width="100%",l.initialWidth="288px",l.initialHeight="200px",l.transition="fade",l.speed=0),e.find("#add-to-a-list").colorbox(l);var c={inline:!0,escKey:!1,overlayClose:!1,href:"#modal",onOpen:function(){var e=$(this);$("#diary-entry-form-heading").text("Edit diary entry"),$("#diary-entry-submit-button").prop("value","Save"),$("#diary-entry-delete-button").data("action",(function(t,n){t(),bxd.postForm(e.data("delete-viewing-url"))})),$("#diary-entry-delete-button").show(),$("#back-to-film-search").hide(),showReviewForm(e.data("viewing-id"),e.data("film-id"),e.attr("data-film-name"),e.data("film-poster"),e.data("film-year"),e.attr("data-viewing-date"),e.attr("data-viewing-date-str"),e.attr("data-review-text"),e.data("rating"),e.data("tags"),e.data("rewatch"),e.data("containsSpoilers"),e.data("spoilersLocked"),e.data("specifiedDate"))},onClosed:function(){$("#diary-entry-form").protectUnsavedChanges({reset:!0}),$("#add-film").removeClass("expanded").addClass("not-expanded"),$("#add-film .standard-messages").remove(),$("#modal").removeClass("wide"),$("#add-new-button").colorbox.resize({innerWidth:"800px"}),$("#diary-entry-delete-button").hide(),$("#frm-film-name").trigger("close")}};renderMobile&&(c.width="100%",c.initialWidth="288px",c.initialHeight="200px",c.transition="fade",c.speed=0),e.find(".edit-review-button").colorbox(c);var u=e.find(".report-link");if(u.length){var d={href:function(){return $(this).data("report-url")},fixed:!0,onComplete:function(){var e=$(this);$("#report-modal article").css({paddingBottom:0}),$("#report-modal form").addClass("ajax-form-json").on("ajax-success",(function(t,n){n.result&&e.colorbox.close()})).on("ajax-complete",(function(e,t){$("#report-modal .btn-loading").removeClass("btn-loading")})),bxd.layout($("#report-modal"))}};isMobile&&(d.width="100%",d.initialWidth="288px",d.initialHeight="100px",d.transition="fade",d.speed=0),u.colorbox(d)}var f=e.find(".redact-link");if(f.length){var h={href:function(){return $(this).data("redact-url")},fixed:!0,onComplete:function(){var e=$(this);$("#redact-modal article").css({paddingBottom:0}),$("#redact-modal form").addClass("ajax-form-json").addClass("ajax-reload-on-success").on("ajax-success",(function(t,n){n.result&&e.colorbox.close()})).on("ajax-complete",(function(e,t){$("#redact-modal .btn-loading").removeClass("btn-loading")})),bxd.layout($("#redact-modal"))}};isMobile&&(h.width="100%",h.initialWidth="288px",h.initialHeight="100px",h.transition="fade",h.speed=0),f.colorbox(h)}}e.find("div.rateit").not("[disable-js]").each((function(){var e=$(this);function t(){var t=e.parent().find(".rating-text");0===parseInt(e.rateit("value"),10)?t.text(""):t.text(.5*e.rateit("value")+" out of 5"),function(){if(e.data("rateit-resetable")){var t=e.find(".rateit-reset");t.length&&(0===parseInt(e.rateit("value"),10)?t.hide():t.show())}}()}$(this).rateit().bind("rated",t).bind("update-display",t).bind("reset",t),t()})),e.find("#frm-sidebar-rating").trigger("init-sidebar-rating"),e.find(".block-or-report-menu").each((function(){PubSub.publish("letterboxd-metadata",{follows:$(this).data("username")})})),e.find(".link-block").data("modal-confirm",{ok:"Block",okClass:"-red"}),e.find(".block-or-report-flag.popmenu-link").popmenu()}else e.find(".follow-button-wrapper").not("[disable-js]").remove(),e.find("a.signin-text-link, button.signin-text-link").click((function(e){e.preventDefault(),0===$("body").prop("scrollTop")?$("#header .sign-in-menu a").trigger("click"):$("body").animate({scrollTop:0},500,(function(){$("#header .sign-in-menu a").trigger("click")}))}));e.find("#comments").length&&commentSection.layoutCommentSection(e),e.find(".yir-avatar-list").each((function(){$(this).find("li").each((function(e){$(this).find("span").before('<i class="list-number">'+(e+1)+"</i>")}))})),$.fn.padme&&e.find("[data-padme-cols]").padme({placeholderClass:"padme-pad"}),renderMobile&&(e.find("form[method=post]").append("<input type='hidden' name='iOS6HTTPPostCacheBuster' value='"+Math.random()+"'/>"),$.fn.padme&&e.find("[data-padme-mob-cols]").padme({cols:$(this).data("padme-mob-cols"),placeholderClass:"padme-pad"})),$.fn.selectmenu&&e.find(".smenu").selectmenu(),e.find(".js-squircle-mask").each((function(e){var t=$(this),n=t.attr("src"),i=t.attr("width"),r=t.attr("height"),o=t.attr("alt"),a=$.now()+e,s=$('<svg version="1.1" baseProfile="full" xmlns="http://www.w3.org/2000/svg" width="'+i+'" height="'+r+'" viewBox="0 0 '+i+" "+r+'"><defs><clipPath id="maskID'+a+'"><path d="M12,24 C2.372583,24 0,21.627417 0,12 C0,2.372583 2.372583,0 12,0 C21.627417,0 24,2.372583 24,12 C24,21.627417 21.627417,24 12,24 Z"/></clipPath>  </defs><title></title><desc>'+o+'</desc><image clip-path="url(#maskID'+a+')" width="'+i+'" height="'+r+'" xlink:href="'+n+'" /><path d="M12,23.5 C21.2262746,23.5 23.5,21.2262746 23.5,12 C23.5,2.77372538 21.2262746,0.5 12,0.5 C2.77372538,0.5 0.5,2.77372538 0.5,12 C0.5,21.2262746 2.77372538,23.5 12,23.5 Z" class="overlay" stroke-opacity="0.35" stroke="#FFFFFF" fill="rgba(0,0,0,0)"></path></svg>');t.replaceWith(s)})),bxd.doMasonry()},doMasonry:function(){renderMobile||(clearTimeout(bxd.masonryTimeout),bxd.masonryTimeout=setTimeout((function(){bxd.$reviewTiles?bxd.$reviewTiles.masonry("layout"):$(".js-review-tiles").length>0&&(bxd.$reviewTiles=$(".js-review-tiles").masonry({itemSelector:".review-tile"}))}),250))},revealCallback:function(e){$(e).trigger("revealed"),$(e).closest(".js-review-tiles").length>0&&bxd.$reviewTiles&&bxd.$reviewTiles.masonry("layout")},toggleSearch:function(e){$("#header").toggleClass("-searchopen"),$("#header .js-nav-search-toggle a").toggleClass("nav-search-active"),renderMobile&&(m.search.open?m.search.open=!1:(bxd.resetMobileNav("search"),m.search.open=!0)),e&&t.is(":visible")&&n.val("").focus()},showHideSignin:function(){var t="-hidden";e.css({opacity:0}).hide().addClass(t);var n=!1;$("#header").on("click",".sign-in-menu a",(function(i){i.preventDefault(),n?(n=!1,$(this).removeClass("selected"),0===e.css("opacity")?e.css({opacity:0}).hide().addClass(t):renderMobile?(m.login.open=!1,e.css({opacity:0}).hide().addClass(t)):(e.stop().animate({opacity:0},500,"easeOutExpo",(function(){e.css({opacity:0}).hide().addClass(t)})),f.find("#header nav").stop().show().animate({opacity:1},500,"easeOutExpo"))):(n=!0,$(this).addClass("selected"),e.css({opacity:0}).show().removeClass(t),renderMobile?(bxd.resetMobileNav("login"),m.login.open=!0,e.css({opacity:1}).find("#username").focus()):(e.stop().animate({opacity:1},500,"easeOutExpo"),f.find("#header nav").animate({opacity:0},500,"easeOutExpo",(function(){$(this).hide()})),e.find("#username").focus()),bxd.layout(e))})),$(".js-header-signin-form .js-close-signin").click((function(){$("#header .sign-in-menu a").trigger("click")}))},filterPopularLists:function(e,t){var n=function(){var n=e.find("section.list");0===n.length?e.remove():n.length>t&&n.slice(t).remove()};if(person.loggedIn&&person.blockedMembers.length){var i=e.find("section.list").length;if(e.find("section.list").each((function(){var e=$(this);person.hasBlocked(e.attr("data-person"))&&e.remove()})),i===e.data("how-many")){var r=e.find("section.list").length;!function t(i,r){if(i<=0)n();else{var o=e.data("url"),a={start:r,howMany:12};$.ajax({url:o,type:"GET",data:a,success:function(o,a,s){if(""!==$.trim(o)){var l=$(o);bxd.layout(l);var c=0,u=0;l.find("section.list").each((function(){c++;var t=$(this);u<i&&!person.hasBlocked(t.attr("data-person"))&&0===e.find("section.list[data-film-list-id="+t.data("film-list-id")+"]").length&&(u++,e.append(t))})),c===o.howMany?t(i-u,r+o.howMany):n()}},error:function(){n()}})}}(t-r,i)}else n()}else n()},profilePage:function(){f.find(".person-yir-promo .popmenu-link").popmenu()},profileHeader:function(){$(".js-".concat(a.A)).each((function(e,t){var n=$(t),i=new a.Z(n,{isLoggedIn:person&&person.loggedIn});n.data(a.A,i)}))},listPlaceholders:function(e,t){var n=e.children("li.poster"),i=$('<li class="poster -placeholder"></li>');if(n.length<t)for(var r=n.length;r<t;r++)i.clone().appendTo(e)},listsPage:function(){$("#popular-lists ul.poster-list").each((function(){bxd.listPlaceholders($(this),5)})),PubSub.subscribe("csi-most-recently-liked-lists",(function(){bxd.filterPopularLists($("#recently-liked-lists"),10)}))},editorialPage:function(){renderMobile&&$("#editorial aside.sidebar").insertBefore($("#editorial .editorial-content"))},searchResultsPage:function(){if(renderMobile){var e=$("#search-filter"),t=e.find("ul").find("li.selected");e.find("h2").append(" <strong>"+t.text()+"</strong><span class='ir s'></span>").on("click",(function(t){t.preventDefault(),e.toggleClass("search-filter-menu-active")}))}},filmsPage:function(){window.isTouchOnly?f.find("#popular-films ul.film-slider").addClass("touch-slider"):renderMobile||f.find("#popular-films ul.film-slider").clcarousel({show:4,size:950,interval:4,speed:400,clickevent:function(){},onAnimateEnd:function(){PubSub.publish("really-lazy-load")}})},filmPage:function(){$("#cast-overflow").length&&$("#show-cast-overflow").on("click",(function(){$(this).hide(),$("#cast-overflow").fadeIn()})),renderMobile&&bxd.mobileFilmActions(),bxd.servicesActions()},reviewPage:function(){renderMobile&&bxd.mobileFilmActions(),bxd.servicesActions()},servicesActions:function(){PubSub.subscribe("csi-availability",(function(){$("html.mobile .film .js-watch-panel-trailer").remove();var e=bxd.getTrailerModalConfig();$(".js-video-zoom").colorbox(o()(e,{onOpen:function(){var e=$(location).attr("pathname");if($("body").hasClass("film")&&!e.match(/trailer\/$/)){e+="trailer/";var t=$(location).attr("protocol")+"//"+$(location).attr("host")+e+$(location).attr("hash")+$(location).attr("search");window.history&&window.history.replaceState&&window.history.replaceState(null,"",t)}PubSub.publish("play-trailer",{film:filmData})},onCleanup:function(){var e=$(location).attr("pathname");e=e.replace(/trailer\/$/,"");var t=$(location).attr("protocol")+"//"+$(location).attr("host")+e+$(location).attr("hash")+$(location).attr("search");window.history&&window.history.replaceState&&window.history.replaceState(null,"",t)}}));var t=document.getElementById("buy-tickets-modal");t&&new d.Z(t,{},window.bxd)}))},mobileFilmActions:function(){if(person.loggedIn){var e=$("#user-actions-menu"),t=$(".js-userpanel-trigger"),n=$("#userpanel"),i=$('<div id="modal-userpanel"><div class="overlay"></div><div class="modal-panelcontent"></div></div>'),r=$('<div id="userpanel-close" class="icon"></div>');i.find(".modal-panelcontent").append(n).append(r),i.hide().appendTo(f),r.on("click",(function(){i.removeClass("-active"),setTimeout((function(){i.hide()}),300)})),e.on("click","a",(function(e){e.preventDefault(),i.show(),setTimeout((function(){i.addClass("-active")}),0)})),t.on("click",(function(e){e.preventDefault(),i.show(),setTimeout((function(){i.addClass("-active")}),0)}))}},diaryPage:function(){f.find("td.has-menu").each((function(){$(this).filmPosterMenu({parent:function(e){return e}})})),renderMobile&&$("#diary-table tr").each((function(){var e=$(this),t=e.find("input.rateit-field").val();null===t||0===t?(t=$('<p class="rating-green" />').append(e.find("span.rating")),e.find("td.td-film-details").append(t)):e.find("td.td-film-details").append('<p class="rating-green"><span class="rating rated-'+t+'"></span></p>'),e.find("th.th-day").text(""),e.find("th.th-month").text("Date")}))},cacheInitialListState:function(){var e=$("#list-form");e.data("transient-list")?e.protectUnsavedChanges({clear:!0}):e.protectUnsavedChanges({reset:!0})},checkListFormForChanges:function(){var e=$("#list-form");if(!e.hasClass("sending-ajax")){var t=e.data("form-initial-state");void 0===t&&(bxd.cacheInitialListState(),t=e.data("form-initial-state"));var n="Cancel";if(t==e.sanitisedSerialisedFormForProtection())""!==e.find("input[name=filmListId]").val()&&($("#list-edit-save").addClass("button-action-disabled -disabled"),n="View List");else $("#list-edit-save").removeClass("button-action-disabled -disabled");n!=$("#list-edit-cancel").text()&&$("#list-edit-cancel").text(n)}},renumberList:function(){r.children("li").each((function(e){$(this).data("index",e).children(".list-number").text(e)})),bxd.checkListFormForChanges()},componentFailed:function(){bxd.showMessages("error","One or more components on this page failed to load. Please <a href='javascript:location.reload(true)'>try again</a>.",{sticky:!0,messageId:"csi-error",dismissExistingMessages:!1})},dismissMessages:function(e){$.jnotify.clear(e)},showMessages:function(e,t,n){if(n=$.extend({sticky:!1,messageId:null,dismissExistingMessages:!0},n),"string"==typeof t&&t.length>0&&(t=[t]),t.length){n.dismissExistingMessages&&bxd.dismissMessages();var i={delay:4e3,fadeSpeed:0,type:e,sticky:n.sticky},r=!1;if(n.messageId&&(bxd.messagesShowing||(bxd.messagesShowing={}),bxd.messagesShowing[n.messageId]||(bxd.messagesShowing[n.messageId]=0),bxd.messagesShowing[n.messageId]?r=!0:bxd.messagesShowing[n.messageId]=!0,i.beforeRemove=function(){bxd.messagesShowing[n.messageId]&&(bxd.messagesShowing[n.messageId]=!1)}),!r)for(var o=0;o<t.length;o++){var a=t[o];$.jnotify(a,i)}}},tabbedContent:function(){var e,t=h.find("header li a"),n=h.find(".tabbed-content-block");function i(e){var i=$(e).data("id");t.parent().removeClass("selected"),t.filter("[data-id="+i+"]").parent().addClass("selected"),n.hide().end().find("#tab-"+i).show(),$(window).trigger("resize")}t.add("a.js-switch-tabbed-nav").click((function(e){e.preventDefault(),i($(this));var t=$(this).attr("href");if("#"!=t&&window.history&&window.history.replaceState){var n=$(this).data("permalinkTitle");window.history.replaceState(null,n,t),n&&(document.title=n)}})),window.urlFixerPromise.promise().then((function(){if(h.data("selected-tab")&&(e=h.find("[data-id="+h.data("selected-tab")+"]")),!e||0===e.length){var t=h.find("[id^='tab-']").first().attr("id").replace(/^tab-/,"");e=h.find("[data-id="+t+"]")}i(e)}))},fixPosterSidebar:function(){window.isTouchOnly||$("#js-poster-col").length&&$("#js-poster-col").stick_in_parent({offset_top:10,spacer:!1})},setupBackdrop:function(){if(f.hasClass("backdropped")){var e=$("#backdrop");e.length>0&&(bxd.loadBackdrop(e),f.addClass("backdrop-loaded"))}},loadBackdrop:function(e){e.each((function(){var e=new Image,t=$(this),n=t.find(".js-backdrop-image"),i=parseInt(t.data("offset"),10),r=t.data("backdrop"),o=t.data("backdrop2x");null!=o&&window.devicePixelRatio>=1.5&&(r=o),$(e).load((function(){$(this).complete&&$(this).trigger("load"),n.css({"background-position":"center -"+i+"px","background-image":"url("+r+")"}),t.addClass("-loaded"),bxd.positionMobileBackdrop(n),f.hasClass("tenet-inversion")&&doTenet()})).error((function(){})).attr("src",r)}))},positionMobileBackdrop:function(e){if(renderMobile&&e){var t=540;e.hasClass("backdrop-short")&&(425,t=340);var n=parseInt(e.data("offset"),10);e.width();if(!isNaN(n)){e.css({"background-image":"url("+e.data("backdropmobile")+")"})}}},mobileSetup:function(){$("#header").on("click","#mobile-menu-toggle a",(function(e){e.preventDefault(),m.menu.open?(m.menu.open=!1,$(this).removeClass("selected"),f.removeClass("mob-nav-open")):(bxd.resetMobileNav("menu"),m.menu.open=!0,$(this).addClass("selected"),f.addClass("mob-nav-open"))})),p.$el.find(".js-footer-nav").before($('<p id="js-toggle-footer-nav" class="nav-toggle">More...</p>')),bxd.mobileFooterNav();var e=f.find(".mob-sort-group-toggle");e.length>0&&(f.addClass("has-mob-sort-toggle"),e.on("click",(function(){f.find(".smenu-menu:visible").hide(),f.toggleClass("mob-sort-group-active")}))),$(window).resize((function(){bxd.mobileFooterNav()}))},mobileFooterNav:function(){p.$nav=p.$el.find(".js-footer-nav"),p.$items=p.$nav.find("li"),p.$toggle=p.$el.find("#js-toggle-footer-nav"),p.navContainerWidth=p.$nav.parent().innerWidth(),bxd.checkMobileFooterNavLength(),p.$toggle.on("click",(function(e){e.preventDefault(),"on"!==p.$el.attr("data-show-all")&&p.$el.attr("data-show-all","on")}))},checkMobileFooterNavLength:function(){var e=0;p.$items.each((function(){e+=$(this).outerWidth(!0)})),e<=p.navContainerWidth?p.$el.attr("data-show-all","on"):p.$el.attr("data-show-all","off")},resetMobileNav:function(e){m.menu.open&&$("#mobile-menu-toggle a").trigger("click"),m.search.open&&$("#header .js-nav-search-toggle a").trigger("click"),m.login.open&&$("#header .sign-in-menu a").trigger("click")},getTrailerModalConfig:function(){var e={inline:!1,fixed:!0,overlayClose:!0,initialWidth:"160px",initialHeight:"90px",width:"840px",height:"512px",iframe:!0,className:"-video"},t=$(window).width(),n=$(window).height();if(.9*t>840&&!renderMobile){var i=Math.floor(.9*t-28),r=Math.floor(40+9/16*i);r>.9*n&&(r=Math.floor(.95*n),i=Math.floor(16/9*(r-40))),e.width=i+"px",e.height=r+"px"}return renderMobile&&(e.width="100%",e.height="95%",e.initialWidth="288px",e.initialHeight="200px",e.transition="fade"),e},setCSIRequestReference:function(e){g.push(e)},getCSIRequestsByTopic:function(e){return g.filter((function(t){return t.getTopic()===e}))},Modal:u.Z}}},66976:(e,t,n)=>{n(75602),n(59505),n(89794),n(62888),n(31875),n(30046),n(90195),n(51850),n(52248),n(30535),n(96339);var i={layoutCommentSection:function(e){$((function(){var t=$("#comments",e),n=$(".comment-list",t),i=n.stringData("owner");if(t.length){var r=function(){person&&(person.moderator||person.username===i)?$("li.comment").addClass("editable"):($("li.comment.editable").removeClass("editable"),$("li.comment[data-person="+person.username+"]").each((function(e,t){parseInt($(t).data("editWindowExpiry"),10)+6e4>(new Date).getTime()&&$(t).addClass("editable")})),$("li.comment").not(".editable").find(".edit-comment,.delete-comment").fadeOut("slow",(function(){$(this).remove()})))};r(),setInterval(r,6e4),person.loggedIn&&($.ajax({url:t.data("reports-url")}).done((function(e){var t=$(".flag-content");t.length&&(e.reportedContent||t.show())})),person.blockedMembers.length&&t.find("li.comment").each((function(){var e=$(this);person.hasBlocked(e.stringData("person"))&&!e.hasClass("comment-blocked")&&(e.addClass("comment-blocked comment-collapsed has-icon icon-16"),e.find(".comment-body").replaceWith("<div class='comment-body col-12 body-text -small'><p>You’ve blocked the author of this comment.</p></div>"),bxd.layout(e))})),t.on("submit","#comment-form",(function(e){var t=$(this);return e.preventDefault(),t.hasClass("ajax-working")||(t.addClass("ajax-working"),$.post(t.attr("action"),t.serialize()).done((function(n){n.result?(bxd.showMessages("success",n.messages),t.find("[name=comment]").val(""),t.protectUnsavedChanges({reset:!0}),n.audienceMemberState&&$("#join-audience").data("state",n.audienceMemberState).trigger("subscriptionChanged"),bxd.fetchMissingComments({done:function(){$(e.delegateTarget).trigger("newcommentsubmission")}})):bxd.showMessages("error",n.messages)})).always((function(){t.removeClass("ajax-working")}))),!1})),$("#join-audience").mouseover((function(e){if(!$(this).data("ajax-working")){var t=$(this).data("state");"NotSubscribed"===t||"Unsubscribed"===t?$(this).addClass("button-subscribe").removeClass("button-unsubscribe").find(".subscription-text").text("Enable notifications for this thread"):"Subscribed"===t&&$(this).addClass("button-unsubscribe").removeClass("button-subscribe").find(".subscription-text").text("Mute notifications for this thread")}})).mouseout((function(e){var t=$(this);$(this).data("ajax-working")||t.trigger("subscriptionChanged")})).bind("subscriptionChanged",(function(e){var t=$(this),n=t.data("state");"NotSubscribed"===n?t.addClass("button-subscribe").removeClass("button-unsubscribe").data("action",t.data("subscribe-action")).find(".subscription-text").text("Notify me"):"Unsubscribed"===n?t.addClass("button-subscribe").removeClass("button-unsubscribe").data("action",t.data("subscribe-action")).find(".subscription-text").text("Notifications muted"):"Subscribed"===n&&t.addClass("button-unsubscribe").removeClass("button-subscribe").data("action",t.data("unsubscribe-action")).find(".subscription-text").text("Notifications enabled")})).bind("ajax-action",(function(e){$(this).data("start-time",new Date)})).bind("ajax-working",(function(e){$(this).find(".subscription-text").text("Saving...")})).bind("ajax-success",(function(e,t,n,i){var r=$(this),o=r.data("start-time"),a=new Date-o,s=Math.max(0,1e3-a);r.trigger("ajax-working"),setTimeout((function(){r.trigger("ajax-work-complete"),t.messages&&bxd.showMessages(t.result?"success":"error",t.messages),t.result&&r.data("state",t.audienceMemberState),r.trigger("subscriptionChanged")}),s)})).trigger("subscriptionChanged")),t.on("click","#show-all-comments",(function(e){e.preventDefault();var t=$(this).parent().data("comments-link");t&&(document.location=t)})),t.on("click","#load-all-comments",(function(e){e.preventDefault(),$(this).data("ajax-working")||($(this).data("ajax-working",!0),$(this).text("Loading…"),bxd.fetchMissingComments({preload:!0}))})),t.on("click","#load-previous-comments",(function(e){if(e.preventDefault(),!$(this).data("ajax-working")){$(this).data("ajax-working",!0),$(this).text("loading…");var t=n.data("comments-start");t=Math.max(0,t-20),bxd.fetchMissingComments({start:t,howMany:20})}})),t.on("click","li.comment-collapsed",(function(e){e.preventDefault(),$(this).removeClass("comment-collapsed").addClass("comment-expanded");for(var t=$(this).next();t.hasClass("comment-collapsed");)t.removeClass("comment-collapsed").addClass("comment-expanded"),t=t.next()}));var o=function(){var e,o=n.data("num-comments");if(o>0)if($("body.profile-hq").length)if((e=$("li.comment:not(.removed-by-admin):not(.removed-by-owner):not(.deleted):not(.comment-blocked)",t).filter(":visible").length)<o){var a="<a href='#' id='show-all-comments'><span class='comment-count'>"+bxd.pluralise(e,"Comment","Comments","")+" of "+o+"</span></a>";$("#comments").addClass("has-comment-controls").find(".section-heading").html(a)}else $("#comments .section-heading").text(1==e?"1 Comment":o+" Comments");else if((e=$("li.comment:not(.removed-by-admin):not(.removed-by-owner):not(.deleted):not(.comment-blocked)",t).length)<o){a="<span class='comment-count'>"+bxd.pluralise(o,"Comment","Comments","")+"</span><span class='comment-controls'>Newest "+bxd.formatNumber(e)+(o<100?" — <a href='#' id='load-all-comments'>Show all</a>":" — <a href='#' id='load-previous-comments'><span class='mob-sm-hide'>Show previous</span><span class='mob-sm-show' aria-hidden='true'>Prev</span></a>")+"</span>";$("#comments").addClass("has-comment-controls").find(".section-heading").html(a)}else $("#comments .section-heading").text(1==e?"1 Comment":o+" Comments");else $("#comments .section-heading").text("Comment?");r();var s=person.moderator||person.username===i?"li.comment":"li.comment.editable[data-person="+person.username+"]";$(s,t).each((function(){var e=$(this),t=e.find("span.comment-tools");if(0===t.length&&(t=$("<span class='comment-tools show-on-hover'></span>"),e.find(".js-comment-person").append(t)),(person.moderator||person.username===e.stringData("person"))&&e.data("edit-url")){var n=t.find(".edit-comment");if(0===n.length){n=$("<a href='#' class='edit-comment has-icon icon-14 tooltip' title='Edit comment'>Edit</a>"),person.moderator&&n.addClass("show-on-hover"),t.append(n);var r={href:e.data("edit-url")+"#modal",initialWidth:"510px",overlayClose:!1,title:" ",onComplete:function(){$("#edit-comment-cancel-button").on("click",(function(){n.colorbox.close()}))}};renderMobile&&(r.width="100%",r.initialWidth="288px",r.initialHeight="200px",r.transition="fade",r.speed=0,r.fixed=!0),n.colorbox(r)}}if((person.moderator||person.username===i||person.username===e.stringData("person"))&&e.data("delete-url")){var o=t.find(".delete-comment");0===o.length&&((o=$("<a href='#' class='delete-comment ajax-click-action has-icon icon-14 tooltip' title='Delete comment' data-action='"+e.data("delete-url")+"' data-confirm='Are you sure you want to delete this&nbsp;comment?'>Delete</a>")).data("modal-confirm",{ok:"Delete",okClass:"-red"}),person.moderator&&o.addClass("show-on-hover"),t.append(o),o.on("ajax-success",(function(t,n){n.result&&e.fadeOut((function(){bxd.fetchMissingComments()})),n.messages&&bxd.showMessages(n.result?"success":"error",n.messages)})))}if(person.moderator&&e.data("undelete-url")){var a=t.find(".delete-comment");0===a.length&&(a=$("<a href='#' class='delete-comment ajax-click-action has-icon icon-14 tooltip' title='Undelete comment' data-action='"+e.data("undelete-url")+"' >Undelete</a>"),person.moderator&&a.addClass("show-on-hover"),t.append(a),a.on("ajax-success",(function(t,n){n.result&&e.fadeOut((function(){bxd.fetchMissingComments()})),n.messages&&bxd.showMessages(n.result?"success":"error",n.messages)})))}bxd.layout(t)}))};o();var a=1e4,s=function(){var e=n.data("timestamp");return a=e>(new Date).getTime()-6e5?1e4:3e5,{latest:e}};bxd.fetchMissingComments=function(e){var r=void 0!==e&&e.preload,c=void 0!==e&&e.start,u=void 0!==e&&e.howMany,d=n.find("li.comment"),f=t.data("url"),h={},p=null;if(r){var m=n.data("comments-start");h.start=Math.max(0,m-100),h.howMany=100}else"number"==typeof c?(h.start=c,"number"==typeof u&&(h.howMany=u)):(h.since=s().latest,p=h.since);var g=$.ajax({url:f,type:"GET",data:h});g.done((function(t,r,a){if(a==g){if(""!==$.trim(t)){var s=$(t);if(bxd.layout(s),n.data("num-comments",s.data("num-comments")),s.data("comments-start")&&n.data("comments-start",s.data("comments-start")),s.data("blocked-comments")){var l=s.data("blocked-comments").split(",");$.each(l,(function(e,t){$("li.comment[data-comment-id="+t+"]").not(".comment-collapsed").each((function(){$(this).addClass("comment-blocked comment-collapsed has-icon icon-16").html("<div class='comment-body col-12 body-text -small'><p><span class='replace-if-you' data-replacement='You’ve' data-person='"+i+"'>The "+n.data("commentableType")+"’s owner has</span> blocked the author of this comment.</p></div>"),bxd.layout($(this))}))}))}s.find("li.comment").each((function(){var e=$(this),t=e.data("timestamp");t>n.data("timestamp")&&n.data("timestamp",t);var i=e.data("comment-id"),r=d.filter("[data-comment-id="+i+"]"),o=e.stringData("person");if(person.hasBlocked(o)&&(e.addClass("comment-blocked comment-collapsed has-icon icon-16"),e.find(".comment-body").replaceWith("<div class='comment-body col-12 body-text -small'><p>You’ve blocked the author of this comment.</p></div>"),bxd.layout(e),r.replaceWith(e)),r.length>=1)r.data("timestamp")!=e.data("timestamp")&&(e.insertAfter(r),r.remove());else{var a=e.data("creation-timestamp");if(null===p||p<=a){for(var s=n.find("li.comment"),l=null,c=s.length-1;c>=0&&$(s[c]).data("creation-timestamp")>a;c--)l=$(s[c]);l?e.insertBefore(l):n.append(e)}}}))}o(),e&&e.done&&e.done()}})).always((function(){s(),clearTimeout(l),l=setTimeout(bxd.fetchMissingComments,a)}))},location.hash&&bxd.fetchMissingComments({preload:!0,done:function(){setTimeout((function(){var e=location.hash;location.hash="",location.hash=e}),100)}}),s();var l=setTimeout(bxd.fetchMissingComments,a)}}))}};$((function(){$("body").on("submit","#comment-editor-modal form",(function(e){var t=$(this);return e.preventDefault(),t.hasClass("ajax-working")||(t.addClass("ajax-working"),$.post(t.attr("action"),t.serialize()).done((function(e){e.result?(bxd.showMessages("success",e.messages),$("#comments .edit-comment").colorbox.close(),bxd.fetchMissingComments()):bxd.showMessages("error",e.messages)})).always((function(){t.removeClass("ajax-working")}))),!1}))})),window.commentSection=i},82310:(e,t,n)=>{n(31875),n(63208);var i=function(e,t,n){var i,r=this;this._topic=e,this._$el=t,this._jqXHR=n;var o=new Promise((function(e){i=e}));this._jqXHR.done((function(e){PubSub.publish(r._topic);var t=$.data(r._$el[0],"csi");t&&t.$replacement?i(t.$replacement):i()})),this.getTopic=function(){return r._topic},this.onReady=function(){return o}};!function(){function e(e,n){var i=e.data("refresh-trigger");i&&PubSub.subscribe(i,(function(){t(e,i)})),t(e,i,n)}function t(e,t,n){e.removeClass("js-csi").removeClass("js-csi-loaded").addClass("loading-csi");var r=e.data("on-load"),o=$.ajax({url:e.data("src"),success:function(n){var i=$(n);i.length?(e.empty().append(i),bxd.layout(e),t?e.removeClass("loading-csi").addClass("js-csi-loaded"):i.unwrap(),r&&$.data(e[0],"csi",{$replacement:i})):t?e.empty():e.remove()},complete:function(){n&&n()},error:function(){bxd.componentFailed()}});r&&bxd.setCSIRequestReference(new i(r,e,o))}var n=[],r=!1;function o(){r||(r=!0,e(n.shift(),(function(){r=!1,n.length&&o()})))}PubSub.subscribe("csi",(function(){$(".js-csi").each((function(){e($(this))})),$(".js-serial-csi").each((function(){$(this).removeClass("js-serial-csi").addClass("loading-csi"),n.push($(this)),o()}))}))}()},64706:(e,t,n)=>{n(20857),n(62888),n(31875),n(97898),n(29888),n(45107),n(20838),n(30535),n(93029),n(96339),n(52248),n(90195),function(e){jQuery.expr[":"].Contains=function(e,t,n){return(e.textContent||e.innerText||"").toUpperCase().indexOf(n[3].toUpperCase())>=0},e((function(){e("body").hasClass("editorial")&&e(".filterable-list").length&&(!function(t,n){var i=e("<form>").attr({class:"filterform",action:"#"}),r=e("<input>").attr({class:"filterinput",placeholder:"Quick find…",type:"text"}),o=e("<span>").attr("class","filterclear").html("&times;");e(i).append(r).append(o).appendTo(t),e(o).hide(),e(n).find(".js-filter-listitem");var a=new URLSearchParams(window.location.search).get("s");e(i).submit((function(){return!1})),e(r).change((function(){e("#filter-no-matches, #filter-matches").remove();var t=e(this).val().trim().split(/\s+/);if(t.length&&t[0].length){e(o).show(),e(n).find(".section-heading").show();var i=e(n).children("li");for(var r in t)r.length&&(i=i.filter(e(n).children("li:Contains("+t[r]+")")));e(n).children("li").hide(),i.show().children(".section-heading").hide(),0===e(n).find(":visible").length?e(n).append("<li class='filtermessage' id='filter-no-matches'><h1>Sorry, no matches!</h1><p>These aren’t the droids you’re looking for.</p></li>"):e(n).prepend("<li class='filtermessage' id='filter-matches'><h2 class='section-heading'>Matching answers</h2></li>")}else e(o).hide(),e(n).children("li").show().children(".section-heading").show();return!1})).keyup((function(){e(this).change()})),a&&e(r).val(a).trigger("change")}(e("#sidebar"),e(".filterable-list")),e("body").on("click",".filterclear",(function(){e(".filterinput").val("").trigger("change"),e(this).hide()})))}))}(jQuery)},41234:(e,t,n)=>{n(62888),n(31875),n(75602),n(30046),n(90195),function(e){e.fn.filmPosterMenu=function(t){t=e.extend({},{parent:function(e){return e.closest(".poster")}},t);return'<li class="fm-rate popup-menu-text"><input class="fm-rateit-field film-menu-rating-${FilmId}" type="range" min="0" max="10" step="1" value="0"/><div class="fm-rateit instant-rating" data-rateit-backingfld=".film-menu-rating-${FilmId}" data-rateit-starwidth="10" data-rateit-starheight="19" data-rateit-resetable="false"></div></li>','{{if AddToFilms}}<li class="fm-add-to-films popup-menu-text"><a href="#" class="menu-item-add-this-film" data-film-id="${FilmId}" data-film-name="${FilmName}" data-poster-url="${FilmPoster}" data-film-release-year="${FilmReleaseYear}">Log or review film&hellip;</a></li>{{/if}}','{{if Watchlist}}<li class="fm-add-to-watchlist popup-menu-text"><a href="#" class="add-to-watchlist ajax-click-action" data-film-id="${FilmId}" data-action="${AddToWatchlistAction}">Add to watchlist</a></li>{{/if}}','{{if Watchlist}}<li class="fm-remove-from-watchlist popup-menu-text"><a href="#" class="remove-from-watchlist ajax-click-action" data-film-id="${FilmId}" data-action="${RemoveFromWatchlistAction}">Remove from watchlist</a></li>{{/if}}','{{if AddToList}}<li class="fm-add-to-list popup-menu-text"><a href="#" class="menu-item-add-to-list" data-film-id="${FilmId}" data-film-name="${FilmName}" data-new-list-with-film-action="${StartNewListURL}" data-poster-url="${FilmPoster}" data-film-release-year="${FilmReleaseYear}">Add to lists&hellip;</a></li>{{/if}}','{{if RemoveFromList}}<li class="fm-remove-from-list popup-menu-text"><a href="#" class="remove-from-list ajax-click-action ajax-reload-on-success" data-confirm="Are you sure you want to remove &lsquo;${FilmName}&rsquo; from this list?" data-modal-confirm="true" data-data="filmId=${FilmId}" data-action="${RemoveFromListAction}">Remove from list</a></li>{{/if}}','{{if FilmListsPage}}<li class="fm-show-in-lists popup-menu-text"><a href="${FilmListsPage}">Show in lists</a></li>{{/if}}','{{if FilmPageLink}}<li class="fm-film-page popup-menu-text"><a href="${FilmPageLink}">Reviews and info</a></li>{{/if}}','{{if IsFilmPage}}<li class="popup-menu-text"><a href="#" class="js-more-services-popup">Where to watch</a></li>{{else}}<li class="popup-menu-text"><a href="${FilmPageLink}watch/">Where to watch</a></li>{{/if}}','{{if Backstage}}<li class="popup-menu-text"><a href="${BackstageLink}">Backstage analytics</a></li>{{/if}}',"</ul></div>",e.template("filmMenuTemplate",'<div class="popup-menu film-menu"><ul><li class="fm-rate popup-menu-text"><input class="fm-rateit-field film-menu-rating-${FilmId}" type="range" min="0" max="10" step="1" value="0"/><div class="fm-rateit instant-rating" data-rateit-backingfld=".film-menu-rating-${FilmId}" data-rateit-starwidth="10" data-rateit-starheight="19" data-rateit-resetable="false"></div></li>{{if AddToFilms}}<li class="fm-add-to-films popup-menu-text"><a href="#" class="menu-item-add-this-film" data-film-id="${FilmId}" data-film-name="${FilmName}" data-poster-url="${FilmPoster}" data-film-release-year="${FilmReleaseYear}">Log or review film&hellip;</a></li>{{/if}}{{if Watchlist}}<li class="fm-add-to-watchlist popup-menu-text"><a href="#" class="add-to-watchlist ajax-click-action" data-film-id="${FilmId}" data-action="${AddToWatchlistAction}">Add to watchlist</a></li>{{/if}}{{if Watchlist}}<li class="fm-remove-from-watchlist popup-menu-text"><a href="#" class="remove-from-watchlist ajax-click-action" data-film-id="${FilmId}" data-action="${RemoveFromWatchlistAction}">Remove from watchlist</a></li>{{/if}}{{if AddToList}}<li class="fm-add-to-list popup-menu-text"><a href="#" class="menu-item-add-to-list" data-film-id="${FilmId}" data-film-name="${FilmName}" data-new-list-with-film-action="${StartNewListURL}" data-poster-url="${FilmPoster}" data-film-release-year="${FilmReleaseYear}">Add to lists&hellip;</a></li>{{/if}}{{if RemoveFromList}}<li class="fm-remove-from-list popup-menu-text"><a href="#" class="remove-from-list ajax-click-action ajax-reload-on-success" data-confirm="Are you sure you want to remove &lsquo;${FilmName}&rsquo; from this list?" data-modal-confirm="true" data-data="filmId=${FilmId}" data-action="${RemoveFromListAction}">Remove from list</a></li>{{/if}}{{if FilmListsPage}}<li class="fm-show-in-lists popup-menu-text"><a href="${FilmListsPage}">Show in lists</a></li>{{/if}}{{if FilmPageLink}}<li class="fm-film-page popup-menu-text"><a href="${FilmPageLink}">Reviews and info</a></li>{{/if}}{{if IsFilmPage}}<li class="popup-menu-text"><a href="#" class="js-more-services-popup">Where to watch</a></li>{{else}}<li class="popup-menu-text"><a href="${FilmPageLink}watch/">Where to watch</a></li>{{/if}}{{if Backstage}}<li class="popup-menu-text"><a href="${BackstageLink}">Backstage analytics</a></li>{{/if}}</ul></div>'),e(this).each((function(){var n,i=e(this),r=e(this).find("span.js-film-options"),o=t.parent(e(this)),a=35,s=null,l=null,c=!1,u=!1;o.hasClass("poster")&&(u=!0),i.click((function(t){if(e(t.target).hasClass("overlay")||e(t.target).hasClass("has-menu")){if(!e(t.target).hasClass("has-menu")&&!e(t.target).parent().hasClass("has-menu"))return!0;if(e(".film-menu:visible").length)t.preventDefault();else{if(r.is(":visible"))return p(),!0;t.preventDefault()}}else t.preventDefault()})),i.mouseenter((function(e){u&&(l=setTimeout((function(){r.show(),l=null}),50)),h.appendTo("body")})),i.mouseleave((function(e){v(e,!0)||(null!==l&&u&&(clearTimeout(l),l=null),p())})),r.appendTo(i),u&&r.hide(),n=r.find("span.menu-link");var d=[],f={};person.loggedIn&&(f.AddToFilms=!0,f.AddToList=!0,f.Watchlist=!0,f.AddToWatchlistAction=o.data("add-to-watchlist-action"),f.RemoveFromWatchlistAction=o.data("remove-from-watchlist-action"),f.RemoveFromListAction=o.closest(".js-list-entries").data("remove-from-list-action"),f.RemoveFromListAction&&(f.RemoveFromList=!0),person.canAccessFilmStats&&(f.Backstage=!0)),f.IsFilmPage=e("body").hasClass("film"),f.IsNotFilmPage=!f.IsFilmPage,f.FilmPageLink=f.IsFilmPage?null:o.data("film-link"),f.FilmListsPage=e("body").hasClass("lists-with-film")?null:o.data("film-link")+"lists/by/popular/",f.FilmId=o.data("film-id"),f.FilmName=o.attr("data-film-name"),f.FilmReleaseYear=o.data("film-release-year"),f.FilmPoster=o.data("poster-url"),f.StartNewListURL=o.data("new-list-with-film-action"),f.BackstageLink=o.data("film-link")+"backstage/",d.push(f);var h=e.tmpl("filmMenuTemplate",d);function p(){u&&r.hide(),h.is(":visible")&&g(!0)}function m(e){c=!1,n.css({opacity:1}),v(e,!1)?g():(g(!0),p())}function g(e){setTimeout((function(){h.hide()}),50)}function v(e,t){return!!eventIsInsideElement(e,i)||!(!t||!h.is(":visible"))&&!!eventIsInsideElement(e,h)}h.find(".popup-menu-text").last().addClass("-last"),h.append('<i class="replace popup-arrow"></i>'),n.bind("click",(function(t){t.preventDefault(),h.is(":visible")?(e(this).css({opacity:1}),g()):(s&&(clearTimeout(s),s=null),e(this).css({opacity:.5}),function(){o.filter("[data-film-id="+f.FilmId+"]").data("film-in-watchlist")?(h.find("a.add-to-watchlist").closest("li").addClass("hidden"),h.find("a.remove-from-watchlist").closest("li").removeClass("hidden")):(h.find("a.add-to-watchlist").closest("li").removeClass("hidden"),h.find("a.remove-from-watchlist").closest("li").addClass("hidden"));r.hasClass("-w70")&&(a-=2);var t=n.offset(),i=t.left+n.width(),s="auto",l=e(window).width(),c=e(window).height()-(t.top+a),u=h.outerWidth(),d=h.find("li.fm-rate .fm-rateit"),p=o.data("film-rating")||0;d.hasClass("rateit")||(h.find("li.fm-rate input").val(p),d.data("rate-action",o.data("rate-action")),d.data("film-id",o.data("film-id")),d.rateit().bind("rated",(function(){g()})));d.rateit("display",p),i+u>l?(s=l-t.left,i="auto",h.addClass("popup-menu-w")):h.removeClass("popup-menu-w");h.css({left:i,right:s,bottom:c,top:"auto"}).show()}())})),n.mouseleave((function(){null===s&&(s=setTimeout((function(){s=null,c||(n.css({opacity:1}),g())}),500))})),h.mouseenter((function(){c=!0,s&&(clearTimeout(s),s=null)})),h.mouseleave(m),h.find("a").click(m)}))}}(jQuery)},70572:(e,t,n)=>{n(62888),n(31875),n(20857),n(55792),$((function(){$(document).on("mouseover",".js-button-following",(function(e){$(this).addClass("button-unfollow -unfollow").find("span.button-text").text("Unfollow")})).on("mouseout",".js-button-following",(function(e){$(this).removeClass("button-unfollow -unfollow").find("span.button-text").text("Following")})).on("ajax-success",".js-button-following",(function(e,t,n,i){var r=$(this);r.trigger("ajax-working"),t.result?r.fadeOut("fast",(function(){r.parent().find(".js-button-follow").fadeIn("fast",(function(){r.trigger("ajax-work-complete")}))})):(t.messages&&bxd.showMessages("error",t.messages),r.trigger("ajax-work-complete")),gtag("event","unfollow",{event_category:"account",transport_type:"beacon"}),ga("send","event","Following","Unfollowed")})),$(document).on("ajax-success",".js-button-follow",(function(e,t,n,i){var r=$(this);r.trigger("ajax-working"),t.result?r.fadeOut("fast",(function(){r.parent().find(".js-button-following").fadeIn("fast",(function(){r.trigger("ajax-work-complete")}))})):(t.messages&&bxd.showMessages("error",t.messages),r.trigger("ajax-work-complete")),gtag("event","follow",{event_category:"account",transport_type:"beacon"}),ga("send","event","Following","Followed")})),$(document).on("click","a.link-blocked",(function(e){e.preventDefault()})),$(document).on("mouseover","a.js-button-blocked",(function(e){$(this).addClass("button-unblock").find("span.button-text").text("Unblock")})).on("mouseout","a.js-button-blocked",(function(e){$(this).removeClass("button-unblock").find("span.button-text").text("Blocked")})).on("ajax-success","a.js-button-blocked",(function(e,t,n,i){var r=$(this);r.trigger("ajax-working"),t.result?(PubSub.publish("block-member",{member:r.closest(".follow-button-wrapper").data("username"),blocked:!1}),r.fadeOut("fast",(function(){r.parent().find(".js-button-follow").fadeIn("fast",(function(){r.trigger("ajax-work-complete")})),$(".link-block").css("display","block").parent().find(".link-blocked").hide()}))):(t.messages&&bxd.showMessages("error",t.messages),r.trigger("ajax-work-complete"))})),$(document).on("ajax-success",".link-block",(function(e,t,n,i){var r=$(this);r.trigger("ajax-working"),t.result?(PubSub.publish("block-member",{member:r.closest(".block-or-report-menu").data("username"),blocked:!0}),$(".follow-button-wrapper").find(".follows-message").hide(),r.hide().parent().find(".link-blocked").css("display","block"),r.trigger("ajax-work-complete"),$(".js-button-follow:visible, .js-button-following:visible").fadeOut("fast",(function(){$(this).parent().find(".js-button-blocked").fadeIn("fast")}))):(t.messages&&bxd.showMessages("error",t.messages),r.trigger("ajax-work-complete"))})),PubSub.subscribe("block-member",(function(e,t){var n;t.blocked?((n=person.blockedMembers.indexOf(t.member))<0&&person.blockedMembers.push(t.member),$(".follow-button-wrapper[data-username="+t.member+"]").each((function(){var e=$(this).find(".js-button-blocked");e?(e.show(),$(this).find(".js-button-following,.js-button-follow").hide(),$(".link-blocked").css("display","block").parent().find(".link-block").hide(),$(this).css("visibility","visible")):$(this).remove()})),$(".block-or-report-menu[data-username="+t.member+"]").each((function(){$(this).find(".link-block").hide(),$(this).find(".link-blocked").css("display","block")}))):((n=person.blockedMembers.indexOf(t.member))>=0&&person.blockedMembers.splice(n,1),$(".block-or-report-menu[data-username="+t.member+"]").each((function(){$(this).find(".link-blocked").hide(),$(this).find(".link-block").css("display","block")})));commentSection.layoutCommentSection()}))}))},20886:(e,t,n)=>{n(62888),n(31875),$((function(){$(document).on("init-sidebar-rating","#frm-sidebar-rating",(function(){var e=$(this).closest("li.js-panel-rate"),t=e.find(".js-rateit-label"),n=$(this).val();e.find(".no-sidebar-rating, .remove-sidebar-rating").remove();var i=0==n?"Rate":"Rated";t.text(i),0==n?e.find(".rateit").show().rateit("value",n):(e.find(".rateit").show().rateit("value",n),e.append('<a href="#" class="replace remove-sidebar-rating">Remove rating</a>'))})),$(document).on("click","li.js-panel-rate .remove-sidebar-rating",(function(e){e.preventDefault(),$(this).closest("li.js-panel-rate").find(".rateit").rateit("value",0)})),$(document).on("rating-changed","li.js-panel-rate .instant-rating",(function(){$("#frm-sidebar-rating").trigger("init-sidebar-rating")})),$(document).on("click","li.js-panel-rate .no-sidebar-rating",(function(e){e.preventDefault();var t=$(this).closest("li.js-panel-rate");$(this).hide(),t.find(".rateit").show()})),$(".diary-entry-row").on("click",".remove-rating",(function(e){e.preventDefault(),$(this).closest(".diary-entry-row").find(".rateit").rateit("value",0)})),$(document).on("ajax-success",".instant-rating",(function(e,t,n,i){var r=$(this);if(t.result){var o=$(".rateit[data-film-id="+t.film.id+"]");$(".film-poster-"+t.film.id).data("film-rating",t.rating),o.rateit("display",t.rating),bxd.setAsWatched(t.film.id,t.watched),t.watchlistUpdated&&bxd.removeFromWatchlist(t.film.id),PubSub.publish("film-member-relationship");var a=r.closest(".diary-entry-row");a.length&&(a.find(".edit-review-button").attr("data-rating",t.rating).data("rating",t.rating),0===t.rating?a.addClass("not-rated"):a.removeClass("not-rated"),$("#frm-viewing-id").val()==a.data("viewing-id")&&($("#modal .rateit").rateit("display",""+t.rating),$("#diary-entry-form").protectUnsavedChanges({reset:!0}))),$("body").hasClass("films-rated")&&$("#profile-header").stringData("person")===person.username&&$(".film-poster-"+t.film.id).each((function(){$(this).siblings(".poster-viewingdata").find(".rating").attr("class","rating rated-"+t.rating).text(ratingStars(t.rating))}))}else r.rateit("display",t.rating);t.messages&&bxd.showMessages(t.result?"success":"error",t.messages);var s={event_category:"films",film_id:t.film.boxdItCode,rating:t.rating,transport_type:"beacon"};0===t.rating&&delete s.rating,gtag("event",0===t.rating?"unrate_film":"rate_film",s),ga("send","event","Film","Rated"),PubSub.publish("rated-film",{film:t.film,rating:t.rating})})),$(document).on("rated",".instant-rating",(function(){var e=$(this);if(!e.hasClass("ajax-disabled")){var t=e.rateit("value"),n=e.data("rate-action");ga("send","event","Films",0==t?"Unrate":"Rate"),e.addClass("ajax-disabled"),$.ajax({url:n,data:{rating:t,__csrf:supermodelCSRF},type:"POST",xhrFields:{withCredentials:!0},success:function(t,n,i){null!==t.csrf&&void 0!==t.csrf&&(supermodelCSRF=t.csrf),e.trigger("ajax-success",[t,n,i])},complete:function(){e.removeClass("ajax-disabled")},error:function(e){bxd.showMessages("error",["Unable to set your rating.  Please try again."])}})}}))}))},9439:(e,t,n)=>{n(75602),n(62888),n(31875),function(){var e,t={posters:[],follows:[],followers:[],likeables:[],likeCounts:[]},n={posters:[],follows:[],followers:[],likeables:[],likeCounts:[]};PubSub.subscribe("letterboxd-metadata",(function(r,o){o.reset&&(n={posters:[],follows:[],followers:[],likeables:[],likeCounts:[]}),o.poster&&-1===$.inArray(o.poster,n.posters)&&(t.posters.push(o.poster),n.posters.push(o.poster)),o.follows&&-1===$.inArray(o.follows,n.follows)&&(t.follows.push(o.follows),n.follows.push(o.follows)),o.followers&&-1===$.inArray(o.followers,n.followers)&&(t.followers.push(o.followers),n.followers.push(o.followers)),o.likeable&&-1===$.inArray(o.likeable,n.likeables)&&(t.likeables.push(o.likeable),n.likeables.push(o.likeable)),o.likeCount&&-1===$.inArray(o.likeCount,n.likeCounts)&&(t.likeCounts.push(o.likeCount),n.likeCounts.push(o.likeCount)),clearTimeout(e),e=setTimeout(i,200)}));function i(e,n){var r;n?r=n:(r=t,t={posters:[],follows:[],followers:[],likeables:[],likeCounts:[]}),(r.posters.length>0||r.follows.length>0||r.followers.length>0||r.likeables.length>0)&&$.ajax({url:baseURL+"/ajax/letterboxd-metadata/",data:r,traditional:!0,type:"POST",dataType:"json",error:function(){if(e||(e=0),e<2){setTimeout((function(){i(e+1,r)}),200)}else bxd.componentFailed()},success:function(e,t,n){for(var i in e.csrf&&(supermodelCSRF=e.csrf,$("input[name=__csrf]").val(e.csrf)),$.each(e.usersFollowed,(function(e,t){$(".follow-button-wrapper[data-username="+t+"]").each((function(){$(this).find(".js-button-following").show(),$(this).find(".js-button-follow").hide(),$(this).css("visibility","visible")})),$(".js-show-if-following[data-username="+t+"]").show()})),$.each(e.usersNotFollowed,(function(e,t){$(".follow-button-wrapper[data-username="+t+"]").each((function(){$(this).find(".js-button-following").hide(),$(this).find(".js-button-follow").show(),$(this).css("visibility","visible")}))})),$.each(e.usersFollowing,(function(e,t){$(".follow-button-wrapper[data-username="+t+"]").each((function(){$(this).find(".follows-message").css("display","inline-block")}))})),$.each(e.usersBlocked,(function(e,t){PubSub.publish("block-member",{member:t,blocked:!0})})),$.each(e.filmsInWatchlist,(function(e,t){bxd.addToWatchlist(t)})),$.each(e.filmsNotInWatchlist,(function(e,t){bxd.removeFromWatchlist(t)})),$.each(e.filmsWatched,(function(e,t){bxd.setAsWatched(t,!0)})),$.each(e.filmsNotWatched,(function(e,t){bxd.setAsWatched(t,!1)})),$.each(e.likeables,(function(e,t){PubSub.publish("like:"+t.likeableUid,t)})),e.filmRatings){var r=i.substring("film-".length),o=e.filmRatings[i]||0;$(".film-poster-"+r+", .film-cell-"+r).data("film-rating",o);var a=$("#frm-sidebar-rating[data-film-id="+r+"]");a.length&&a.val(o)}$(".instant-rating").trigger("rating-changed")}})}}()},37671:(e,t,n)=>{"use strict";n.r(t);n(59505),n(62888),n(31875),n(58722),n(18482),n(75602),n(30535),n(85018),n(19003),n(21082),n(52248),n(66776),n(97898),n(31347),n(29888),n(45107);var i,r=n(51694);$((function(){var e,t=$("#list-form");if($(document).on("click","a.menu-item-add-to-list",(function(e){e.preventDefault();var t=parseInt($(this).data("film-id"),10),n=$(this).attr("data-film-name");$("#add-to-a-list-modal").removeClass("-addalltolist");var i=$(this).data("new-list-with-film-action");$("#add-to-a-list-modal .js-new-list").off("click.newlist").prop("href",(function(){return i+"?privateList="+$(this).data("privateList")})),$("#add-to-a-list-modal").off("change.add-all-to-list"),$("#add-to-a-list-modal input.film-id:gt(0)").remove(),$("#add-to-a-list-modal input.film-id").val(t),$("#add-to-a-list-modal h1.title-2").html("Add <span class='film-name'></span> to lists"),$("#add-to-a-list-modal span.film-name").text("‘"+n+"’"),$("#js-modal-warning").hide(),$("#add-to-a-list").trigger("click")})),$(document).on("submit","#add-to-a-list-modal form",(function(){$("#add-to-a-list-modal").closest("#colorbox").addClass("-loading"),$("#add-to-a-list-modal .js-add-to-list-body").lbSpinner({size:16,insertion:"prepend",element:"span"});var e=$(this);return $.ajax({url:e.attr("action"),data:e.serialize(),type:"POST",dataType:"json",complete:function(){e.find(".sending-ajax").removeClass("sending-ajax"),$("#add-to-a-list-modal .js-add-to-list-body").lbSpinner("stop"),$("#add-to-a-list").colorbox.close()},error:function(e,t,n){bxd.showMessages("error",[n])},success:function(e,t,n){e.messages&&bxd.showMessages(e.result?"success":"error",e.messages),e.result&&e.films&&e.films.forEach((function(t){PubSub.publish("letterboxd-metadata",{reset:!0,poster:t.id}),e.list?gtag("event","add_to_list",{event_category:"lists",list_id:e.list.boxdItCode,film_id:t.boxdItCode,transport_type:"beacon"}):e.lists.forEach((function(e){gtag("event","add_to_list",{event_category:"lists",list_id:e.boxdItCode,film_id:t.boxdItCode,transport_type:"beacon"})}))}))}}),!1})),$(".cancel-import").on("click",(function(e){e.preventDefault(),$("#import-films").remove(),$("input[name=cancelled]").val("true"),$("#importer-matched-form").trigger("submit"),$("#imdb-importer-matched-form").trigger("submit")})),t.length){var n=function(e){return e.toLowerCase().replace(/^(an?|the) (.*)/,"$2\t $1")},o=function(e,t,n){var i=0;return e&&t?i="reverse"===n?e-t:t-e:e?i=g:t&&(i=y),i},a=function(e,t){return $(e).data("index")-$(t).data("index")};t.protectUnsavedChanges({warning:"Your list has unsaved changes."}),t.data("transient-list")&&t.protectUnsavedChanges({clear:!0});var s=$("#show-item-numbers"),l=$("#list-items"),c=$("header.list-items-header"),u=$("#list-items-editor"),d="list",f=$("#list-items-editor .list-items-header a.list-import-link"),h=function(){l.find(".list-entry-notes p:last-child").each((function(){0===$(this).find("a.list-item-edit").length&&($(this).wrapInner('<span class="list-entry-note-text"></span>'),$(this).append(' <a href="#" class="list-item-edit micro-button">Edit</a>'))}))};h();void 0===e&&(e="above"),f.twipsy({placement:e,delayIn:100,offset:3}),u.find("label.section-heading").click((function(){$("#frm-list-film-name").focus()})),$(document).on("click","div.list-number",(function(){function e(e){e.parent(".list-number").removeClass("is-editing"),e.remove()}var t=l.children("li.film-list-entry").index($(this).parent("li.film-list-entry"));if(0===$(this).children("form").length){var n=$("<form/>",{submit:function(n){n.preventDefault();var i=parseInt($(this).find("input").val(),10)-1,r=l.children("li.film-list-entry").length;(isNaN(i)||i>=r)&&(i=r-1),e($(this)),i>=0&&i<r&&(t<i?l.children("li.film-list-entry").eq(t).insertAfter(l.children("li.film-list-entry").eq(i)):t>i&&l.children("li.film-list-entry").eq(t).insertBefore(l.children("li.film-list-entry").eq(i)),bxd.renumberList())}}).appendTo(this),i=$("<input/>",{value:t+1,blur:function(){e($(this).parent("form"))}}).addClass("change-number").appendTo(n);$(this).addClass("is-editing"),i.focus(),setTimeout((function(){i.select()}),10)}})),(i={setupListEditorHead:function(e){c.stick_in_parent({parent:"body"}).on("sticky_kit:stick",(function(e){$("body").addClass("fixed-editor"),f.twipsy("disable")})).on("sticky_kit:unstick",(function(e){$("body").removeClass("fixed-editor"),f.twipsy("enable")}))}}).setupListEditorHead(),$("a.list-add-films-link").on("click",(function(e){e.preventDefault();var t=$("#frm-list-film-name");$.smoothScroll({offset:t.offset().top,direction:"top",easing:"easeInOutQuad",speed:1e3,afterScroll:function(){t.focus()}})})),f.on("click",(function(e){if(e.preventDefault(),$("#list-items").hasClass("empty-list")||$("#list-edit-save").hasClass("button-action-disabled"))$("#upload-list").trigger("click");else{var t={html:"<div style='padding:40px 40px 20px'><article class='modal'><h1>Your list has unsaved changes</h1><p class='body-text -hero'>Please save or discard the changes you’ve made to this list before using the importer.</p></article></div>",width:"520px",fixed:!0,overlayClose:!0};renderMobile&&(t.width="100%",t.initialWidth="288px",t.initialHeight="200px",t.transition="fade",t.speed=0),$.colorbox(t)}}));var p=35,m=function(e,t){var n;n=void 0===e?u:$(e),void 0===t&&(t=35);var i=35==t?52:187;n.find(".poster").each((function(){$(this).addClass("really-lazy-load").data("image-width",t).data("image-height",i)})).find("img").css({width:t,height:i}),PubSub.publish("really-lazy-load")};$("#list-edit-toggle a").on("click",(function(e){e.preventDefault();var t=$(this).attr("rel");"list"==t?(u.removeClass("compact-list").removeClass("poster-list-view"),35!=p&&(m(u,35),p=35),d="list",bxd.renumberList(),w()):"posters"==t&&(u.removeClass("compact-list").addClass("poster-list-view"),125!=p&&(m(u,125),p=125),d="poster",bxd.renumberList(),w()),$(this).closest("ul").find("li").removeClass("selected"),$(this).parent().addClass("selected"),c.trigger("sticky_kit:detach"),$("body").removeClass("fixed-editor"),f.twipsy("enable"),i.setupListEditorHead()}));var g=-1,v=0,y=1,b={name:function(e,t){var i=function(e,t){return(e=n(e))<(t=n(t))?g:e>t?y:v}($(e).attr("data-film-name"),$(t).attr("data-film-name"));return i===v&&(i=a(e,t)),i},"newest-first":function(e,t){var n=$(e).data("film-release-date"),i=$(t).data("film-release-date"),r=o(n,i);return r===v&&(r=a(e,t)),r},"oldest-first":function(e,t){var n=$(e).data("film-release-date"),i=$(t).data("film-release-date"),r=o(n,i,"reverse");return r===v&&(r=a(e,t)),r},"owner-rating":function(e,t){var n=$(e).data("film-owner-rating"),i=$(t).data("film-owner-rating"),r=o(n,i);return r===v&&(r=a(e,t)),r},"owner-rating-reverse":function(e,t){var n=$(e).data("film-owner-rating"),i=$(t).data("film-owner-rating"),r=o(n,i,"reverse");return r===v&&(r=a(e,t)),r},"average-rating":function(e,t){var n=$(e).data("film-average-rating"),i=$(t).data("film-average-rating"),r=o(n,i);return r===v&&(r=a(e,t)),r},"average-rating-reverse":function(e,t){var n=$(e).data("film-average-rating"),i=$(t).data("film-average-rating"),r=o(n,i,"reverse");return r===v&&(r=a(e,t)),r}};$(".js-list-edit-sort").on("click",(function(e){e.preventDefault(),bxd.renumberList();var t=b[$(this).data("sort")];$("#list-items li:not(#empty-list-placeholder)").sort(t).appendTo("#list-items"),bxd.renumberList()}));var w=function(){l.sortable({axis:"poster"==d?null:"y",helper:"clone",handle:!!window.isTouchOnly&&".icon",items:"li:not(#empty-list-placeholder)",start:function(e,t){1==t.item.index()&&l.addClass("first-item-dragged")},stop:function(e,t){l.removeClass("first-item-dragged")},update:function(e,t){l.removeClass("first-item-dragged"),bxd.renumberList()}})};w(),l.disableSelection(),setInterval(bxd.checkListFormForChanges,1e3),$("#delete-film-list").data("modal-confirm",{ok:"Delete",okClass:"-red"}).data("action",(function(e){e(),gtag("event","delete_list",{event_category:"films",transport_type:"beacon"}),bxd.postForm($("#delete-film-list").data("delete-action"))})).on("ajax-action",(function(){t.protectUnsavedChanges({reset:!0})}));var x=$("#frm-list-film-name");x.autocomplete(x.data("url"),$.extend({},bxd.autocompleteConfig,{width:283})).result((function(e,t,n){!function(e,t){bxd.dismissMessages((function(){l.find("input[name=filmId][value="+e.id+"]").length?bxd.showMessages("error","<strong>"+e.name+"</strong> is already in this list"):$.ajax({url:e.filmlistAction,dataType:"html",success:function(e,t,n){var i,r,o,a=$(e),s=35;a.css("opacity",0).hide(),"poster"==d&&(s=125),l.removeClass("empty-list"),l.append(a),a.show(),m(a,s),i=$(a),r=$(window).scrollTop(),o=$(window).height(),i.offset().top+i.height()+20>o+r?$.smoothScroll({offset:a.offset().top+a.height()+20,direction:"top",easing:"easeInOutQuad",speed:1e3,afterScroll:function(){a.slideDown("fast",(function(){$(this).animate({opacity:1},500)}))}}):a.slideDown("fast",(function(){a.animate({opacity:1},500)})),bxd.renumberList(),bxd.layout(a),_(),x.val("")},error:function(e,t,n){bxd.showMessages("error",["Oops.  Couldn't add the film to your list.  Save the list and try again."])}})}))}(t)})),x.blur((function(){setTimeout((function(){x.trigger("close")}),300)})),$(window).resize((function(){x.trigger("close")})),$(document).on("click","#list-edit-save",(function(e){$(this).hasClass("button-action-disabled")||(e.preventDefault(),bxd.dismissMessages(),t.trigger("submit"))})),$("#upload-list").change((function(e){var n=t.attr("action");t.attr("action",t.data("upload-action")),t.attr("enctype","multipart/form-data"),t.trigger("submit"),t.attr("action",n),t.attr("enctype",""),f.text("Sending…")})),0===l.find("li.film-list-entry").length&&l.addClass("empty-list");var _=function(){s.is(":checked")?(bxd.renumberList(),l.addClass("show-list-numbers").find("div.list-number").show()):l.removeClass("show-list-numbers").find("div.list-number").hide(),bxd.checkListFormForChanges()};$("#film-list-main-details input[type=text],#film-list-main-details textarea").change((function(){bxd.checkListFormForChanges()})),s.change((function(){_()})),_(),$("#list-is-public").change((function(){$(this).is(":checked")?$(".list-share-toggle").css("visibility","visible").hide().fadeIn():$(".list-share-toggle").fadeOut((function(){$(this).css("visibility","hidden").show()}))})),$(document).on("submit","#list-form",(function(e){var t=$(this);function n(){var e=[];t.find("li.film-list-entry").each((function(){var t=$(this),n=t.find("input[name=filmId]").val(),i=t.find("input[name=containsSpoilers]").val(),r=t.find("input[name=review]").val(),o={filmId:n};r&&r.trim().length>0&&(o.review=r.trim(),"true"===i&&(o.containsSpoilers=!0)),e.push(o)}));var n=$("<input type='hidden' name='entries'/>");return n.val(JSON.stringify(e)),n}return bxd.dismissMessages(),$("#list-edit-save").addClass("button-action-disabled"),t.addClass("sending-ajax"),$(".saving").lbSpinner({size:14,fallback:globals.spinners.spinner_14_20272f,insertion:"prepend",element:"span"}),"multipart/form-data"!=t.attr("enctype")?(setTimeout((function(){var e=t.clone();e.find("[name=filmId]").remove(),e.find("[name=containsSpoilers]").remove(),e.find("[name=review]").remove(),e.append(n()),$.ajax({url:t.attr("action"),data:e.serialize(),type:"POST",dataType:"json",complete:function(){t.removeClass("sending-ajax"),$(".saving").lbSpinner("stop")},error:function(e,n,i){t.revertUnsavedChanges(),bxd.checkListFormForChanges(),bxd.showMessages("error",[i])},success:function(e,n,i){if(e.result){if(t.data("transient-list",!1),e.newList){if(window.history&&window.history.pushState){var r=$("<div></div>").text(e.name).html();window.history.pushState(null,"Edit your ‘"+r+"’ list",e.editFormURL),document.title="Edit your ‘"+r+"’ list • Letterboxd"}$("#film-list-editor-id").val(e.listId),$(".js-film-list-editor-title").text("Edit List"),$("#list-edit-buttons").html('<a id="list-edit-save" class="button button-action right -disabled">Save</a><a id="list-edit-cancel" href="'+e.url+'" class="button button-cancel right">View List</a>')}bxd.cacheInitialListState(),bxd.checkListFormForChanges(),gtag("event",e.newList?"create_list":"update_list",{event_category:"films",list_id:e.list.boxdItCode,transport_type:"beacon"}),e.messages&&bxd.showMessages("success",e.messages)}else if(t.revertUnsavedChanges(),e.csrf&&(supermodelCSRF=e.csrf,$("input[name=__csrf]").val(e.csrf)),e.messages){bxd.showMessages("error",e.messages);for(var o=!1,a=0;a<e.errorCodes.length;a++)if("list.duplicate.entry"===e.errorCodes[a]){o=!0;break}o&&bxd.colorboxModalConfirm("We do not permit lists to be saved if they contain multiple entries for the same film. This happens occasionally, such as when duplicate records for the same film are merged.\n\nDo you want to automatically remove all duplicate entries from this list, so it can be saved?",!0,(function(){var e=new Map;l.find("li.film-list-entry").each((function(t){var n=$(this),i=n.data("film-id");e.has(i)?n.animate({opacity:0},300,(function(){$(this).slideUp("fast",(function(){$(this).remove()}))})):e.set(i,!0)})),bxd.checkListFormForChanges(),setTimeout(bxd.renumberList,500)}))}}})}),0),!1):(t.append(n()),t.find("[name=filmId]").remove(),t.find("[name=containsSpoilers]").remove(),t.find("[name=review]").remove(),t.find("[name=editMode]").remove(),t.protectUnsavedChanges({reset:!0}),!0)})),$(document).on("click","a.list-item-remove",(function(e){e.preventDefault(),$(this).closest("li.film-list-entry").animate({opacity:0},300,(function(){$(this).slideUp("fast",(function(){$(this).remove(),bxd.checkListFormForChanges(),setTimeout(bxd.renumberList,500),0===l.find("li.film-list-entry").length&&l.addClass("empty-list")}))}))}));var k={inline:!0,escKey:!1,overlayClose:!1,href:"#list-entry-modal",onComplete:function(){},onClosed:function(){null!==$("#frm-review").val()&&void 0!==$("#frm-review").val()?C.find(".list-item-details").addClass("list-item-has-notes"):C.find(".list-item-details").removeClass("list-item-has-notes")}};renderMobile&&(k.width="100%",k.initialWidth="288px",k.initialHeight="200px",k.transition="fade",k.speed=0),$("#list-items-colorbox-owner").colorbox(k),$("#list-entry-cancel-button").on("click",(function(){$("a.list-item-edit").colorbox.close()}));var C=null;l.delegate("a.list-item-edit","click",(function(e){e.preventDefault(),C=$(this).closest("li.film-list-entry");var t=(0,r.U)(C.attr("data-film-name"));$("#film-title").text(t),$("#film-year").text(C.data("film-year")),$("#frm-review").val(C.find("input[name=review]").val()),$("#frm-spoilers").prop("checked","true"==C.find("input[name=containsSpoilers]").val()),$("#list-entry-poster-frame .poster img").remove(),$("#list-entry-number").remove(),$("#list-entry-poster-frame").removeClass("no-poster").addClass("loading-poster"),$.get(C.find(".poster").data("poster-url"),(function(e){$("#list-entry-poster-frame").removeClass("loading-poster").empty().prepend($(e)),bxd.layout($("#list-entry-poster-frame"))})),$("#list-items-colorbox-owner").trigger("click")})),$("#list-entry-save-button").click((function(e){e.preventDefault();var t=$("#frm-review").val();if(C.find("input[name=review]").val(t),null==t||""===t)C.find(".list-entry-notes").html(""),C.find(".list-item-add-notes").show();else{var n=C.find(".list-entry-notes");n.html("<img src='"+globals.spinners.ajax_242d35+"'/>"),C.find(".list-item-add-notes").hide(),$.ajax({type:"POST",url:baseURL+"/s/tidy-content",data:{content:t,maxWords:20,squash:!0},dataType:"html",success:function(e,t,i){n.html(e),h()},error:function(e,i,r){n.html(t)}})}C.find("input[name=containsSpoilers]").val($("#frm-spoilers").prop("checked")),$("a.list-item-edit").colorbox.close(),bxd.checkListFormForChanges()}))}}))},31433:(e,t,n)=>{"use strict";n.r(t);n(53961),n(37417),n(90195),n(69501),n(18482),n(59025),n(44347),n(96226);var i=n(77189),r=(n(75602),n(62888),n(31875),n(58722),n(89794),n(11074),n(30535),n(85018),n(52248),n(21082),n(41479),n(20857),n(30046),n(93418),n(51694));function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}$((function(){function e(){$("#frm-viewing-id").val(""),$("#frm-film-id").val(""),$("#poster-frame .poster img").remove(),$("#frm-film-name").val("").trigger("flushCache"),$("#tag-container li:not(:last)").remove(),d()}function t(){return new Date}function n(){var e=new Date($("#frm-viewing-date-string").val().replace(/-/g,"/")),t=$("#frm-rewatch"),n=$("#frm-viewing-id").val(),i=t.data("earliest-viewing-id");if(i){var r=n==i?t.data("second-earliest-viewing-date"):t.data("earliest-viewing-date");if(r){var o=new Date(r).getTime()<e.getTime();t.prop("checked",o)}}}$.fn.protectUnsavedChanges&&($("#user-update").protectUnsavedChanges({warning:"Your changes have not been saved yet."}),$("#comment-form").protectUnsavedChanges({warning:"You have not posted your comment yet."}),$("#diary-entry-form").protectUnsavedChanges({warning:"Your diary entry has unsaved changes."}),$("#diary-entry-delete-button").data("modal-confirm",{ok:"Delete",okClass:"-red"}).on("ajax-action",(function(){$("#diary-entry-form").protectUnsavedChanges({reset:!0})}))),$("#sign-out").on("ajax-success",(function(e,t){t.result&&location.reload(!0),t.messages&&bxd.showMessages(t.result?"success":"error",t.messages)})),function(){var e=null,t=$("#add-menu"),n=$("#add-new-button"),i=$("#add-menu-button");function r(){clearTimeout(e),t.hide(),i.removeClass("add-menu-button-active")}$(document).on("click","#add-menu-button",(function(e){if(e.preventDefault(),t.is(":visible"))r();else{var o=[];$(".film-poster:visible").each((function(){var e=$(this).data("film-id");e&&$.inArray(e,o)<0&&o.push(e)})),o.length?$(".js-add-all-films-on-page-to-list").show().find("a").html("Add "+bxd.pluralise(o.length,"film")+" to list…"):$(".js-add-all-films-on-page-to-list").hide(),i.addClass("add-menu-button-active"),t.css("top",n.height(!0)).show()}})),$("#add-menu, #add-new-button, #add-menu-button").mouseenter((function(){clearTimeout(e)})).mouseleave((function(){clearTimeout(e),e=setTimeout((function(){r()}),500)})),person.canBulkAddToLists?$(".js-add-all-films-panel").show():$(".js-add-all-films-panel").remove(),$("#header").data("allowUserToAddAllFilmsToAList")?$(".js-add-all-films-on-page-to-list").on("click",(function(e){e.preventDefault(),r();var t=[];$(".film-poster").each((function(){var e=$(this).data("film-id");e&&$.inArray(e,t)<0&&t.push(e)})),t.length?($("#add-to-a-list-modal").addClass("-addalltolist"),$("#add-to-a-list-modal input.film-id").remove(),t.forEach((function(e){$("<input type='hidden' class='film-id' name='filmId' value='"+e+"'/>").insertBefore("#add-to-a-list-modal div.header")})),$("#add-to-a-list-modal h1.title-2").text("Add all films to a list"),$("#js-modal-warning").html("<p class='body-text -small'>Select a list below to add all "+bxd.pluralise(t.length,"film")+" on this page to it. The selected list will be opened in Edit mode with the new entries appended at the end, so you’ll be able to make changes prior to saving, or exit without saving.</p>").show(),$("#add-to-a-list-modal .js-new-list").on("click.newlist",(function(e){$("#add-to-a-list-modal").closest("#colorbox").addClass("-loading"),$("#add-to-a-list-modal .js-add-to-list-body").lbSpinner({size:16,insertion:"prepend",element:"span"});var n=$(this).data("privateList");console.log({el:this,flag:n});var i=$("<form method='post' action='"+baseURL+"/list/new/'></form>");return i.append("<input type='hidden' name='__csrf' value='".concat(supermodelCSRF,"'/>")),i.append("<input type='hidden' name='privateList' value='".concat(n,"'/>")),t.forEach((function(e){i.append("<input type='hidden' name='filmId' value='".concat(e,"'/>"))})),$("body").append(i),i.submit(),!1})),$("#add-to-a-list-modal").on("change.add-all-to-list","input[type=checkbox]",(function(){if(this.checked){$("#add-to-a-list-modal").closest("#colorbox").addClass("-loading"),$("#add-to-a-list-modal .js-add-to-list-body").lbSpinner({size:16,insertion:"prepend",element:"span"});var e=$("<form method='post' action='".concat(baseURL,"/list/add-films/'></form>"));return e.append("<input type='hidden' name='__csrf' value='".concat(supermodelCSRF,"'/>")),e.append("<input type='hidden' name='filmListId' value=\"".concat(this.value,'"/>')),e.append("<input type='hidden' name='editMode' value='AppendFilmsOnly'/>"),t.forEach((function(t){e.append("<input type='hidden' name='importFilmId' value='".concat(t,"'/>"))})),$("body").append(e),e.submit(),!1}})),$("#add-to-a-list").trigger("click")):bxd.showMessages("error","There are no films to add")})):$(".js-add-all-films-on-page-to-list").remove()}(),$("#frm-specify-date").on("change",(function(){n()})),$("#add-date").on("change",(function(e){n()})),window.showReviewForm=function(e,n,i,a,s,l,c,u,d,h,p,m,g,v){var y=$("#frm-viewing-id").val(),b=$("#frm-film-id").val(),w=$("#add-date"),x=$("#frm-viewing-date-string"),_=$("#frm-specify-date"),k=$("#frm-specify-date-label"),C=$("#frm-watched-label"),T=$("#frm-rewatch"),S=$("#frm-rewatch-label");y==e&&b==n||($("#frm-viewing-id").val(e),$("#frm-film-id").val(n),null==c&&(c=function(e){var t="",n=e.getDate();return n<10&&(t+="0"),(t+=n.toString())+" "+["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][e.getMonth()]+" "+e.getFullYear()}(t())),null==l&&(l=function(e){var t="",n=e.getMonth()+1,i=e.getDate();return t=t+e.getFullYear()+"-",n<10&&(t+="0"),t=t+n.toString()+"-",i<10&&(t+="0"),t+i.toString()}(t())),w.text(c),x.val(l).prop("type","hidden"),_.prop("checked",v),$("#frm-review").val(u),f(0),$("#modal .rateit").rateit("display",""+d),$("#current-tags ul li").remove(),$("#frm-tags").val(""),""!==h&&null!==h&&("string"==typeof h&&(h=h.replace(/\\'/g,"'"),h=$.parseJSON(h)),$.each(h,(function(e,t){t=(""+t).trim().toLowerCase();var n=$('<li class="tag"><span class="tag-content"></span><input type="hidden" name="tag" class="tag-content" readonly /></li>');n.find("span.tag-content").attr("title",t).text(t).append('<i class="delete">&times;</i>'),n.find("input.tag-content").val(t);var i=$("#current-tags"),r=i.find("ul");0==r.length&&(r=$('<ul class="tags"/>'),i.append(r)),r.append(n)}))),T.prop("checked",p),$("#frm-spoilers").prop("checked",m),$("#frm-spoilers").prop("disabled",g),g?$("#frm-spoilers-locked-label").show():$("#frm-spoilers-locked-label").hide()),$("#poster-frame .poster img").remove(),$("#poster-frame").removeClass("no-poster").addClass("loading-poster"),$.get(a,(function(e){$("#poster-frame").removeClass("loading-poster"),$("#poster-frame").empty().prepend(e),bxd.layout($("#poster-frame"))})),function(e,t){var n=$("#frm-rewatch");$.ajax({url:baseURL+"/s/check-film-like?filmId="+e,async:!1,dataType:"json",beforeSend:function(e,t){$("#film-like-checkbox").addClass("ajax-working"),n.removeData("earliest-viewing-date"),n.removeData("earliest-viewing-id"),n.removeData("second-earliest-viewing-date")},complete:function(e,t){$("#film-like-checkbox").removeClass("ajax-working")},success:function(e,i,r){e.result&&($("#film-like-checkbox").prop("checked",e.liked),t&&$("#modal .rateit").rateit("display",e.rating),n.data("earliest-viewing-date",e.earliestViewingDate),n.data("earliest-viewing-id",e.earliestViewingId),n.data("second-earliest-viewing-date",e.secondEarliestViewingDate))}})}(n,null==e||0===e),$("#film-title")[0].textContent=(0,r.U)(i),$("#film-year").html(s),$("#add-film").removeClass("not-expanded").addClass("expanded"),o(),renderMobile||($("#frm-review").off("focus.expand"),$("#frm-review").on("focus.expand",(function(){var e=$(window).height()-40,t=e-$("#colorbox").outerHeight(),n=$("#frm-review");t>0&&($("#add-new-button").colorbox.resize({height:e}),null!==n.data("startheight")&&void 0!==n.data("startheight")||n.data("startheight",n.height()),n.animate({height:$(this).height()+t},200))}))),v?(_.prop("checked",!0),k.parent().addClass("specify-date-label-open").closest(".js-specify-date").addClass("col-4").removeClass("col-6"),k.hide(),w.text(c),C.show(),S.show()):(_.prop("checked",!1),k.parent().removeClass("specify-date-label-open").closest(".js-specify-date").addClass("col-6").removeClass("col-4"),k.show(),C.hide(),S.hide()),$("#diary-entry-form").protectUnsavedChanges({reset:!0}),$("#diary-entry-form").data("isDiaryEntry",v),$("#diary-entry-form").data("isReview",u.length>0);var E=e?"/analytics/edit-diary-entry-form/":"/analytics/new-diary-entry-form/";gtag("event","page_view",{page_title:"Diary Entry Form",page_location:baseURL+E,page_path:E,transport_type:"beacon"}),ga("send","pageview",E)},$("#frm-specify-date").change((function(){$(this).prop("checked")?($("#frm-specify-date-label").hide(),$("#frm-specify-date-label").parent().addClass("specify-date-label-open").closest(".js-specify-date").addClass("col-4").removeClass("col-6"),$("#frm-watched-label").show(),$("#frm-rewatch-label").show()):($("#frm-specify-date-label").show(),$("#frm-specify-date-label").parent().removeClass("specify-date-label-open").closest(".js-specify-date").addClass("col-6").removeClass("col-4"),$("#frm-watched-label").hide(),$("#frm-rewatch-label").hide(),$("#frm-rewatch").prop("checked",!1))}));var i={date:$("#frm-viewing-date-string").val(),current:$("#frm-viewing-date-string").val(),format:"d b Y",calendars:1,onBeforeShow:function(){$("#add-date").DatePickerSetDate($("#add-date").text(),!0)},onChange:function(e,t){$("#frm-viewing-date-string").val(t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()),$("#add-date").text(e).DatePickerHide()},onRender:function(e){return{disabled:e.valueOf()>$.now().valueOf()}}};renderMobile||(i.position="right"),$.fn.DatePicker&&$("#add-date").DatePicker(i),$.fn.autocomplete&&$("#frm-film-name").autocomplete($("#frm-film-name").data("url"),bxd.autocompleteConfig).result((function(t,n,i){e(),showReviewForm(null,n.id,n.name,n.image150,n.releaseYear,null,null,"",0,"",!1,!1,!1,!1,!1)})),$(document).on("click",".edit-review-button",(function(e){$("#frm-force-ajax").remove(),$(this).closest(".diary-entry-edit,body.film").length&&$("#diary-entry-form").append("<input type='hidden' name='json' id='frm-force-ajax' value='true'/>"),e.preventDefault()})),$(document).on("click",".sidebar-add-review",(function(e){e.preventDefault(),$("#sidebar-add-review").click()}));var o=function(){renderMobile?$("#add-new-button").colorbox.resize({width:"100%"}):($("#modal").addClass("wide"),$("#add-new-button").colorbox.resize({innerWidth:"800px"}))},s=function(){var e=$("#diary-entry-form:visible");return!(1===e.length&&e.data("form-initial-state")!=e.sanitisedSerialisedFormForProtection()&&!confirm("Are you sure you want to abandon this "+(e.find("#frm-review").val().length>0&&!e.find("#frm-specify-date").is(":checked")?"review":"diary entry")+"?"))};if($.fn.colorbox){var l=$.colorbox.close;$.colorbox.close=function(){s()&&l()},$("#add-this-film").colorbox({inline:!0,escKey:!1,speed:renderMobile?0:300,overlayClose:!1,href:"#modal",scrolling:!1,onOpen:function(){$("#modal-userpanel").is(":visible")&&$("#userpanel-close").trigger("click"),$("#diary-entry-form-heading").text("I watched…"),e(),o(),$("#add-film").addClass("expanded").removeClass("not-expanded"),$("#back-to-film-search").hide()},onComplete:function(){var e=$(this).data("which-film-source");$("#back-to-film-search").hide(),showReviewForm(e.data("viewingId"),e.data("filmId"),e.attr("data-film-name"),e.data("posterUrl"),e.data("filmReleaseYear"),e.attr("data-viewing-date"),e.attr("data-viewing-date-str"),"",0,"",!1,!1,e.data("containsSpoilers"),e.data("spoilersLocked"),e.data("specifiedDate"))},onClosed:function(){$("#add-film").removeClass("expanded").addClass("not-expanded"),$("#add-film .standard-messages").remove(),o(),$("#modal").removeClass("wide"),$("#diary-entry-form").protectUnsavedChanges({reset:!0})}})}$(document).on("click","a.add-this-film, a.menu-item-add-this-film",(function(e){e.preventDefault(),$("#add-this-film").data("which-film-source",$(this)),$("#add-this-film").trigger("click")})),"undefined"!=typeof showDiaryEntryModal&&setTimeout((function(){var e=$(".add-this-film").first();$("#add-this-film").data("which-film-source",e).trigger("click")}),0);var c=$("#add-new-button");if(c.length){var u={inline:!0,escKey:!1,overlayClose:!1,href:"#modal",scrolling:!1,onOpen:function(){e(),$("#diary-entry-form-heading").text("I watched…"),$("#diary-entry-submit-button").prop("value","Save"),$("#back-to-film-search").show(),renderMobile&&$(window).scrollTop(0),gtag("event","page_view",{page_title:"Add Film",page_location:baseURL+"/analytics/add-film/",page_path:"/analytics/add-film/",transport_type:"beacon"}),ga("send","pageview","/analytics/add-film/")},onComplete:function(){$("#frm-film-name").focus()},onClosed:function(){$("#add-film").removeClass("expanded").addClass("not-expanded"),$("#add-film .standard-messages").remove(),o(),$("#modal").removeClass("wide"),$("#frm-film-name").trigger("close"),$("#diary-entry-form").protectUnsavedChanges({reset:!0})}};renderMobile&&(u.width="100%",u.initialWidth="288px",u.initialHeight="100px",u.transition="fade",u.speed=0),c.colorbox(u),$("#add-menu").find(".button-add-trigger").click((function(){c.trigger("click")})),$(document).on("click","#back-to-film-search",(function(e){if(e.preventDefault(),s()){$("#add-film").removeClass("expanded").addClass("not-expanded"),$("#modal").removeClass("wide"),d();var t={};t.innerWidth=renderMobile?"288px":"660px",c.colorbox.resize(t,(function(){$("#frm-film-name").focus().trigger("reveal")})),$("#diary-entry-form").protectUnsavedChanges({reset:!0})}}))}function d(){if(!renderMobile){var e=$("#frm-review");e.off("focus.expand"),e.data("startheight")&&e.innerHeight(e.data("startheight"))}}globals.autoAddFilm&&(person.loggedIn?c.trigger("click"):(bxd.showMessages("error","Please sign in to add a film to your diary"),$("#header .sign-in-menu a").trigger("click")));var f=function(e){"number"!=typeof e&&(e=300),function(e,t,n){t.each((function(){var t=$(this);n>0&&!t.data("disabled")&&e||(e?t.data("disabled",!1).animate({opacity:1},n).find("input").prop("disabled",!1):t.data("disabled",!0).animate({opacity:.35},n).find("input").prop("disabled",!0))}))}(h(),$("#contains-spoilers"),e)},h=function(){return $("#frm-review").val().length>0};$("#frm-review").change(f).keyup(f),$("#frm-specify-date").change(f);var p=$("#diary-entry-form");$(document).on("submit","#diary-entry-form",(function(e){$("#diary-entry-submit-button, #diary-entry-delete-button").css("opacity","0.5").prop("disabled",!0);var t=p.find("#frm-spoilers"),n=t.prop("disabled");n&&t.prop("disabled",!1);var i=p.serialize();n&&t.prop("disabled",!0);var r=$("#frm-viewing-id").val(),o=$("#frm-film-id").val(),a=function(){var e,t,n=function(e){if(0==e)return"0";for(var t="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=10*e,i="";n>0;)i=t.charAt(n%t.length).concat(i),n=Math.floor(n/t.length);return i}(o),i=r&&p.data("isDiaryEntry"),a=r&&p.data("isReview"),s=h(),l=$("#frm-specify-date").is(":checked");$("#frm-specify-date").is(":checked"),$("#frm-rating").val();a&&s?e="update_review":!a&&s?e="create_review":a&&!s&&(e="delete_review"),i&&l?t="update_diary_entry":!i&&l?t="create_diary_entry":i&&!l&&(t="delete_diary_entry"),e&&gtag("event",e,{event_category:"films",film_id:n,transport_type:"beacon"}),l&&gtag("event",t,{event_category:"films",film_id:n,transport_type:"beacon"})};return $.ajax({url:p.attr("action"),data:i,type:"POST",complete:function(){$("#diary-entry-submit-button, #diary-entry-delete-button").css("opacity","1").prop("disabled",!1)},error:function(e,t,n){bxd.showMessages("error",[n]),p.revertUnsavedChanges()},success:function(e,t,n){if(-1==n.getResponseHeader("Content-Type").indexOf("text/json"))$("#diary-entry-form").protectUnsavedChanges({reset:!0}),$("#add-new-button").colorbox.close(),$("#modal-userpanel").remove(),a(),$("#content .content-wrap").empty().append(e),renderMobile&&$("body").hasClass("view")&&bxd.mobileFilmActions(),bxd.layout($("#content .content-wrap"));else if(e.csrf&&(supermodelCSRF=e.csrf,$("input[name=__csrf]").val(e.csrf)),e.result){if($("#diary-entry-form").protectUnsavedChanges({reset:!0}),$("#add-new-button").colorbox.close(),bxd.setAsWatched(e.filmId,!0),e.rating&&$("#frm-sidebar-rating[data-film-id="+e.filmId+"]").val(e.rating).trigger("init-sidebar-rating"),bxd.removeFromWatchlist(e.filmId),PubSub.publish("like:film:"+e.filmId,{liked:e.liked}),PubSub.publish("film-member-relationship"),e.viewingId){var i=$(".diary-entry-row[data-viewing-id="+e.viewingId+"]"),r=$(".edit-review-button[data-viewing-id="+e.viewingId+"]");r.attr("data-viewing-date",e.viewingDate),r.attr("data-viewing-date-str",e.viewingDateStr),r.attr("data-review-text",e.reviewText),e.reviewText?i.find(".td-review").removeClass("icon-status-off"):i.find(".td-review").addClass("icon-status-off"),r.attr("data-rating",e.rating),0===e.rating?i.addClass("not-rated"):i.removeClass("not-rated"),r.data("rating",e.rating),i.find(".rateit").rateit("display",e.rating),r.data("tags",e.tags),r.attr("data-rewatch",e.rewatch),r.data("rewatch",e.rewatch),e.rewatch?i.find(".td-rewatch").removeClass("icon-status-off"):i.find(".td-rewatch").addClass("icon-status-off"),r.attr("data-specified-date",e.specifiedDate),r.data("specifiedDate",e.specifiedDate),r.attr("data-contains-spoilers",e.containsSpoilers),r.data("containsSpoilers",e.containsSpoilers),r.attr("data-spoilers-locked",e.spoilersLocked),r.data("spoilersLocked",e.spoilersLocked)}e.messages&&setTimeout((function(){bxd.showMessages("success",e.messages)}),1e3),a()}else e.messages&&bxd.showMessages("error",e.messages),p.revertUnsavedChanges()}}),!1})),$(document).on("ajax-working",".like-link .ajax-click-action",(function(){var e=$(this).closest(".like-link-target");PubSub.publish("like:"+e.data("likeableUid"),{processing:!0})})).on("ajax-complete",".like-link .ajax-click-action",(function(e,t,n,i){var r=$(this).closest(".like-link-target");PubSub.publish("like:"+r.data("likeableUid"),{processing:!1})})).on("ajax-success",".like-link .ajax-click-action",(function(e,t,n,i){if(t.result){var r="like:"+$(this).closest(".like-link-target").data("likeableUid");PubSub.publish(r,t);var o={};o[t.likeable.typeName+"_id"]=t.likeable.boxdItCode,gtag("event",(t.liked?"like":"unlike")+"_"+t.likeable.typeName,a(a({},o),{},{event_category:"films",transport_type:"beacon"})),ga("send","event","Films","Like or Unlike")}t.messages&&bxd.showMessages(t.result?"success":"error",t.messages)})),$(document).on("ajax-working",".film-watch-link .ajax-click-action",(function(){$(this).closest(".js-actions-panel").length?$(this).toggleClass("-on"):$(this).toggleClass("icon-watch icon-watched")})).on("ajax-success",".film-watch-link .ajax-click-action",(function(e,t,n,i){bxd.setAsWatched(t.filmId,t.watched),t.watched&&bxd.removeFromWatchlist(t.filmId),PubSub.publish("film-member-relationship"),t.result&&y.length&&(t.watched?b.up():b.down()),t.messages&&bxd.showMessages(t.result?"success":"error",t.messages),gtag("event",t.watched?"watch_film":"unwatch_film",{event_category:"films",film_id:t.film.boxdItCode,transport_type:"beacon"}),ga("send","event","Films",t.watched?"Watch":"Unwatch")})),renderMobile||($(document).on("mouseover",".film-watch-link .icon-watched",(function(){$(this).children(".watched-text").text("I haven’t watched this")})).on("mouseout",".film-watch-link .icon-watched",(function(){$(this).children(".watched-text").text("You’ve watched this")})),$(document).on("mouseover",".film-watch-link.-large.-watched",(function(){$(this).children(".action.-watch").html("Remove")})).on("mouseout",".film-watch-link.-large.-watched",(function(){$(this).children(".action.-watch").html("Watched")}))),$("a.add-new-link").click((function(e){e.preventDefault(),$("#add-new-button").trigger("click")}));var m=null;if(!renderMobile){var g=$("<li></li>");g.append($("#header .js-nav-account a.toggle-menu").clone()),$("#header nav ul.subnav").prepend(g),$("#header .js-nav-account").hover((function(){clearTimeout(m),$("#header nav ul.subnav").show()}),(function(){m=setTimeout((function(){$("#header nav ul.subnav").hide()}),300)})),$(document).on("click","#header .js-nav-account a.toggle-menu",(function(e){e.preventDefault(),window.isTouchOnly&&$("#header nav ul.subnav").is(":visible")?$("#header nav ul.subnav").hide():$("#header nav ul.subnav").show()}))}var v=$("a.send-invitation");v.length&&v.colorbox({href:$("a.send-invitation").attr("href")+" #modal",fixed:!0,overlayClose:!1,onComplete:function(){bxd.layout($("#modal")),$("#invitation-form").submit((function(e){return e.preventDefault(),$(".send-invitation-button").trigger("click"),!1})),$(".send-invitation-button").data("ajax-data",(function(){return $("#invitation-form").serialize()})).bind("ajax-success",(function(e,t,n,i){t.messages&&bxd.showMessages(t.result?"success":"error",t.messages.join(", "),{sticky:!0}),t.result&&($(".send-invitation-button").addClass("button-action-disabled -disabled"),setTimeout((function(){location.reload(!0)}),2e3))}))}});var y=$(".progress-panel"),b={container:y.find(".progress-container"),textwrapper:y.find(".progress-counter"),textcount:y.find(".js-progress-count"),textpercent:y.find(".progress-percentage"),count:y.data("count"),total:y.data("total"),bar:y.find(".progress-bar"),up:function(){b.count++,b.stretch()},down:function(){b.count--,b.stretch()},stretch:function(){var e=0===b.total?0:Math.floor(100*b.count/b.total);b.textcount.text(bxd.formatNumber(b.count)),b.textpercent.text(e),b.bar.animate({width:e+"%"},200,"linear",(function(){b.count<=0?(b.container.addClass("zero-count"),b.container.removeClass("near-end")):e>99?(b.container.addClass("near-end"),b.container.removeClass("zero-count")):(b.container.removeClass("zero-count"),b.container.removeClass("near-end"))}))}};b.stretch()})),$(window).resize((function(){$("#frm-film-name").trigger("close")})),$(window).load((function(){$("#header nav .js-nav-account").css({right:$("#header nav").width()}).show()}))},6691:(e,t,n)=>{"use strict";n.d(t,{Z:()=>H});n(39720),n(47559),n(53961),n(37417),n(90195),n(69501),n(59025),n(44347),n(96226);var i=n(23565),r=n(77189),o=n(2126),a=n(47989),s=n(57369),l=n(44890),c=n(20402),u=n(91693),d=(n(2923),n(58722),n(31875),n(18482),n(29734)),f=n(61029),h=n(14107),p=n(51612),m=n(59808),g=n(7109),v=n(17623);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,u.Z)(e);if(t){var r=(0,u.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,c.Z)(this,n)}}var x="modal",_=".".concat("bs.modal"),k="Escape",C={backdrop:!0,keyboard:!0,focus:!0},T={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean"},S="hide".concat(_),E="hidePrevented".concat(_),$="hidden".concat(_),O="show".concat(_),P="shown".concat(_),A="focusin".concat(_),j="resize".concat(_),I="click.dismiss".concat(_),M="keydown.dismiss".concat(_),D="mouseup.dismiss".concat(_),N="mousedown.dismiss".concat(_),L="click".concat(_).concat(".data-api"),R="modal-open",F="-show",z="modal-static",W=function(e){(0,l.Z)(n,e);var t=w(n);function n(e,i){var r;return(0,o.Z)(this,n),(r=t.call(this,e))._config=r._getConfig(i),r._dialog=p.Z.findOne(".modal-dialog",r._element),r._backdrop=r._initializeBackDrop(),r._isShown=!1,r._ignoreBackdropClick=!1,r._isTransitioning=!1,r._scrollBar=new m.Z,r}return(0,a.Z)(n,[{key:"toggle",value:function(e){return this._isShown?this.hide():this.show(e)}},{key:"show",value:function(e){var t=this;this._isShown||this._isTransitioning||(f.Z.trigger(this._element,O,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isAnimated()&&(this._isTransitioning=!0),this._scrollBar.hide(),document.body.classList.add(R),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),f.Z.on(this._element,I,'[data-bs-dismiss="modal"]',(function(e){return t.hide(e)})),f.Z.on(this._dialog,N,(function(){f.Z.one(t._element,D,(function(e){e.target===t._element&&(t._ignoreBackdropClick=!0)}))})),this._showBackdrop((function(){return t._showElement(e)}))))}},{key:"hide",value:function(e){var t=this;if((e&&["A","AREA"].includes(e.target.tagName)&&e.preventDefault(),this._isShown&&!this._isTransitioning)&&!f.Z.trigger(this._element,S).defaultPrevented){this._isShown=!1;var n=this._isAnimated();n&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),f.Z.off(document,A),this._element.classList.remove(F),f.Z.off(this._element,I),f.Z.off(this._dialog,N),this._queueCallback((function(){return t._hideModal()}),this._element,n)}}},{key:"dispose",value:function(){[window,this._dialog].forEach((function(e){return f.Z.off(e,_)})),this._backdrop.dispose(),(0,s.Z)((0,u.Z)(n.prototype),"dispose",this).call(this),f.Z.off(document,A)}},{key:"handleUpdate",value:function(){this._adjustDialog()}},{key:"_initializeBackDrop",value:function(){return new v.Z({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}},{key:"_getConfig",value:function(e){return e=b(b(b({},C),h.Z.getDataAttributes(this._element)),"object"===(0,i.Z)(e)?e:{}),(0,d.zE)(x,e,T),e}},{key:"_showElement",value:function(e){var t=this,n=this._isAnimated(),i=p.Z.findOne(".modal-body",this._dialog);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0,i&&(i.scrollTop=0),n&&(0,d.nq)(this._element),this._element.classList.add(F),this._config.focus&&this._enforceFocus();this._queueCallback((function(){t._config.focus&&t._element.focus(),t._isTransitioning=!1,f.Z.trigger(t._element,P,{relatedTarget:e})}),this._dialog,n)}},{key:"_enforceFocus",value:function(){var e=this;f.Z.off(document,A),f.Z.on(document,A,(function(t){document===t.target||e._element===t.target||e._element.contains(t.target)||e._element.focus()}))}},{key:"_setEscapeEvent",value:function(){var e=this;this._isShown?f.Z.on(this._element,M,(function(t){e._config.keyboard&&t.key===k?(t.preventDefault(),e.hide()):e._config.keyboard||t.key!==k||e._triggerBackdropTransition()})):f.Z.off(this._element,M)}},{key:"_setResizeEvent",value:function(){var e=this;this._isShown?f.Z.on(window,j,(function(){return e._adjustDialog()})):f.Z.off(window,j)}},{key:"_hideModal",value:function(){var e=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide((function(){document.body.classList.remove(R),e._resetAdjustments(),e._scrollBar.reset(),f.Z.trigger(e._element,$)}))}},{key:"_showBackdrop",value:function(e){var t=this;f.Z.on(this._element,I,(function(e){t._ignoreBackdropClick?t._ignoreBackdropClick=!1:e.target===e.currentTarget&&(!0===t._config.backdrop?t.hide():"static"===t._config.backdrop&&t._triggerBackdropTransition())})),this._backdrop.show(e)}},{key:"_isAnimated",value:function(){return this._element.classList.contains("-fade")}},{key:"_triggerBackdropTransition",value:function(){var e=this;if(!f.Z.trigger(this._element,E).defaultPrevented){var t=this._element,n=t.classList,i=t.scrollHeight,r=t.style,o=i>document.documentElement.clientHeight;!o&&"hidden"===r.overflowY||n.contains(z)||(o||(r.overflowY="hidden"),n.add(z),this._queueCallback((function(){n.remove(z),o||e._queueCallback((function(){r.overflowY=""}),e._dialog)}),this._dialog),this._element.focus())}}},{key:"_adjustDialog",value:function(){var e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),n=t>0;(!n&&e&&!(0,d.dZ)()||n&&!e&&(0,d.dZ)())&&(this._element.style.paddingLeft="".concat(t,"px")),(n&&!e&&!(0,d.dZ)()||!n&&e&&(0,d.dZ)())&&(this._element.style.paddingRight="".concat(t,"px"))}},{key:"_resetAdjustments",value:function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}}],[{key:"Default",get:function(){return C}},{key:"NAME",get:function(){return x}},{key:"jQueryInterface",value:function(e,t){return this.each((function(){var i=n.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===i[e])throw new TypeError('No method named "'.concat(e,'"'));i[e](t)}}))}}]),n}(g.Z);f.Z.on(document,L,'[data-bs-toggle="modal"]',(function(e){var t=this,n=(0,d.dG)(this);["A","AREA"].includes(this.tagName)&&e.preventDefault(),f.Z.one(n,O,(function(e){e.defaultPrevented||f.Z.one(n,$,(function(){(0,d.pn)(t)&&t.focus()}))})),W.getOrCreateInstance(n).toggle(this)})),(0,d.pF)(W);const H=W},81314:()=>{},18314:(e,t,n)=>{n(30046),n(75602),function(e){e.fn.popupMenu=function(t,n){return e(this).each((function(){var i=e(this),r=e(t),o=n,a=null,s=!1;function l(e){s=!1,i.css({opacity:1}),c()}function c(){setTimeout((function(){r.hide()}),50)}void 0===o&&(o=0),i.bind("click",(function(t){var n,s,l;t.preventDefault(),r.is(":visible")?(i.css({opacity:1}),c()):(a&&(clearTimeout(a),a=null),i.css({opacity:.5}),n=i.offset(),s=n.left+i.width(),l=e(window).height()-(n.top+o),r.css({left:s,bottom:l,top:"auto"}).show())})),i.mouseleave((function(){null===a&&(a=setTimeout((function(){a=null,s||(i.css({opacity:1}),c())}),500))})),r.mouseenter((function(){s=!0,a&&(clearTimeout(a),a=null)})),r.bind("closeMenu",(function(e){l(e)})),r.mouseleave(l)}))}}(jQuery)},66375:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a,T:()=>o});n(62888),n(31875),n(30046),n(98942);var i=n(29010),r=window.jQuery,o="desktop",a=i.ZP.createContext((function(e,t,n){this.$el=r(t),this._hasMeta=!!n.hasMeta,this._hasBio=!!n.hasBio,this._isLoggedIn=!!n.isLoggedIn,this.$followButtonWrapper=this.$el.find(".js-follow-button-wrapper"),this.$profileName=this.$el.find(".js-profile-name"),this.$profileInfo=this.$el.find(".js-profile-info"),this.$stats=this.$el.find(".js-profile-stats"),this.$metaData=this.$el.find(".js-profile-metadata"),this.$bio=this.$el.find(".js-bio"),this._onWindowResize=this._updateLayout.bind(this),this.on(i.w$.WAKE,(function(){this.$bio.on("revealed",this._onWindowResize),window.addEventListener("resize",this._onWindowResize),this._updateLayout(),this.$el.removeClass("-pending")})),this.on(i.w$.SUSPEND,(function(){this.$bio.off("revealed",this._onWindowResize),window.removeEventListener("resize",this._onWindowResize),this._resetLayout()}))})),s=a.prototype;s._updateLayout=function(){if(!this._hasBio||this._hasMeta){this._resetLayout();var e=this.$stats[0].getBoundingClientRect();if(this._hasBio){var t=this.$bio.find(".js-bio-content"),n=t[0].getBoundingClientRect(),i=parseFloat(t.css("line-height"));if(n.height>i)return}var r={};if(this._hasMeta){this.$metaData.css({maxWidth:this.$profileInfo.width()-e.width});var o=this.$metaData[0].getBoundingClientRect();if(o.height<e.height){var a=this.$metaData.find(".js-metadatum").first().height();if(this._isLoggedIn)r.marginTop=(a-o.height)/2;else{var s=this.$profileName[0].getBoundingClientRect();r.marginTop=o.height-a-s.height-3}}}else{r.marginTop=this.$profileName[0].offsetTop-(this.$stats[0].offsetTop-2)}this.$profileName.css({paddingRight:e.width}),this.$stats.css(r)}},s._resetLayout=function(){this.$profileName.css({paddingRight:""}),this.$metaData.css({maxWidth:""}),this.$stats.css({marginTop:""})}},2025:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u,A:()=>c});n(84924),n(62888),n(31875);var i=n(72266),r=n.n(i),o=n(47632),a=n(29010),s=n(24067),l=n(66375),c=(window.jQuery,"profile-summary");function u(e,t){this.$el=e,this.options=r()({},this._DEFAULTS,t,(0,o.Z)(this.$el,c));var n={};n[l.T]=l.Z,s.Z.apply(this,[a.ZP,n,this.$el[0],this.options]),this._initAvatarZoom()}u.prototype=Object.create({constructor:{value:u}});var d=u.prototype;d._DEFAULTS={},d._initAvatarZoom=function(){var e=r()({},{inline:!0,fixed:!0,overlayClose:!0,href:"#avatar-large",className:"-avatar"},renderMobile?{width:"100%",initialWidth:"288px",initialHeight:"288px",transition:"fade"}:{});this.$el.find("#avatar-zoom").colorbox(e)}},93491:()=>{var e,t;e=["","★","★★","★★★","★★★★","★★★★★"],t=["","⅛","¼","⅜","½","⅝","¾","⅞"],window.ratingStars=function(n){var i=Math.floor(n),r=Math.round(4*(n-i));return r>=4&&(i+=1,r=0),i%2==1&&(i-=1,r+=4),e[i/=2]+t[r]}},64745:(e,t,n)=>{"use strict";n.d(t,{hF:()=>f,wo:()=>d,vK:()=>c,$r:()=>l});var i=n(51301),r=n.n(i),o=n(50962),a=n(66243),s=n(91404),l={SHARER_TYPE:"sharer-type"},c={EMAIL:"email",FACEBOOK:"facebook",TWITTER:"twitter",LINK:"link"},u={email:o.Z,facebook:a.Z,twitter:s.Z},d=function(e,t){u[e]&&u[e].generatePopup.apply(u[e],[t])},f=function(e){return e.dataset[r()(l.SHARER_TYPE)].toLowerCase()}},89824:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>w,bC:()=>y});var i=n(80834),r=n(47989),o=n(2126),a=n(77189),s=(n(75602),n(53961),n(44347),n(12301),n(90286)),l=n.n(s),c=n(614),u=n(65837),d=n(90433),f=n(91601),h=n(63235),p=n(64745),m={SUCCESS:"Link copied to clipboard",ERROR:"Error"},g="-error",v="-animate",y={CONTRAST:"-contrast"},b=2e3,w=(0,r.Z)((function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((0,o.Z)(this,e),(0,a.Z)(this,"_onClick",(function(e){e.preventDefault()})),(0,a.Z)(this,"_onTooltipAnimationComplete",(function(e){n.tooltip.parentNode.removeChild(n.tooltip),n.tooltip.classList.remove(v),delete n._showTooltipAnimationEndReject})),(0,a.Z)(this,"showTooltip",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;n.tooltip.parentNode&&(n._showTooltipAnimationEndReject&&n._showTooltipAnimationEndReject(),n.tooltip.parentNode.removeChild(n.tooltip)),n.tooltip.classList.toggle(g,e),t&&m[t]&&(n.tooltip.innerText=m[t]),n.tooltipContainer.appendChild(n.tooltip),n.popperInstance.update();var i=(0,h.s)({duration:b,target:n.tooltip,animationName:"slideIn"}),r=i.reject,o=i.onAnimationEnd;n._showTooltipAnimationEndReject=r,o.then(n._onTooltipAnimationComplete).catch((function(){})),n.tooltip.classList.add(v),setTimeout((function(){n.popperInstance.update()}),0)})),(0,a.Z)(this,"_onClipboardSuccess",(function(e){n.showTooltip(!1,Object.keys(m)[0])})),(0,a.Z)(this,"_onClipboardError",(function(e){n.showTooltip(!0,Object.keys(m)[1])})),(0,a.Z)(this,"destroy",(function(){n.el.removeEventListener("click",n._onClick),n.clipboardInstance.destroy(),delete n.clipboardInstance,n.popperInstance.destroy(),delete n.popperInstance,n.tooltip.remove()})),this.tooltipContainer=r.tooltipContainer||document.body,Object.defineProperties(this,{type:{get:function(){return p.vK.LINK}}}),this.el=t,this.tooltip=document.createElement("div"),this.tooltip.className="share-tooltip","string"==typeof r.tooltipStyle)this.tooltip.classList.add(r.tooltipStyle);else if(Array.isArray(r.tooltipStyle)){var s;(s=this.tooltip.classList).add.apply(s,(0,i.Z)(r.tooltipStyle))}this.popperInstance=(0,c.fi)(t,this.tooltip,{placement:"top",modifiers:[d.Z,{name:"offset",options:{offset:[0,8]}},f.Z,{name:"preventOverflow",options:{padding:8,mainAxis:["x"]}},u.Z,{name:"flip",options:{padding:8,fallbackPlacements:["bottom"]}},{name:"computeStyles",options:{gpuAcceleration:!1}}]}),this.clipboardInstance=new(l())(t),this.clipboardInstance.on("success",this._onClipboardSuccess),this.clipboardInstance.on("error",this._onClipboardError),this.el.addEventListener("click",this._onClick)}))},46819:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(47989),r=n(2126),o=n(77189),a=(n(44347),n(64745)),s=(0,i.Z)((function e(t){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,r.Z)(this,e),(0,o.Z)(this,"_onClick",(function(e){e.preventDefault();var t=e.currentTarget,i=t.dataset.sharer&&JSON.parse(t.dataset.sharer||"{}");(0,a.wo)(n.type,i||t.href)})),(0,o.Z)(this,"destroy",(function(){n.el.removeEventListener("click",n._onClick)})),Object.defineProperties(this,{type:{get:function(){return i.type}}}),this.el=t,this.el.addEventListener("click",this._onClick)}))},50962:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});n(37417),n(43126),n(41479);const i=new(n(88764).P)((function(e){var t={url:e.url};return e.title&&(t.subject=e.title),e.description?t.body="".concat(e.description,"\r\n\r\n").concat(e.url):t.body=e.url,t}),{baseLinkPath:"mailto:",preventDialog:!0})},66243:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});n(68576);const i=new(n(88764).P)((function(e){return{app_id:e.app_id,redirect_uri:e.redirect_uri,display:"popup",link:e.link,from:e.from,to:e.to,source:e.source,ref:e.ref}}),{baseLinkPath:"https://www.facebook.com/dialog/feed",dimensions:{width:555,height:368}})},91404:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});n(37417),n(43126);const i=new(n(88764).P)((function(e){return{text:e.description,url:e.url,hashtags:e.hashtags,via:e.via,related:e.related,in_reply_to:e.inReplyTo}}),{baseLinkPath:"https://twitter.com/intent/tweet",dimensions:{width:550,height:420}})},89887:()=>{!function(e){e.fn.stringData=function(t){return e(this).attr("data-"+t)}}(jQuery)},50390:(e,t,n)=>{"use strict";n.d(t,{A:()=>i,j:()=>r});var i={COMPLETE:"timeago-complete",PENDING:"timeago-pending"},r={DEFAULT:{suffixAgo:"",suffixFromNow:"",seconds:"just now",minute:"1m",minutes:"%dm",hour:"1h",hours:"%dh",yesterday:"1d",day:"1d",days:"%dd",month:"1mo",months:"%dmo",year:"1y",years:"%dy"},LONGFORM:{suffixAgo:"ago",suffixFromNow:"",seconds:"seconds",minute:"1 minute",minutes:"%d minutes",hour:"1 hour",hours:"%d hours",yesterday:"yesterday",day:"1 day",days:"%d days",month:"1 month",months:"%d months",year:"1 year",years:"%d years"}}},22163:(e,t,n)=>{n(30535),n(85018),n(75602),$((function(){if($("img.js-tmdb-person").length){var e;$.ajax({type:"GET",url:"//api.themoviedb.org/3/configuration?api_key=bb1c3b1185ad7a94b4426faf3d96f304",async:!1,jsonpCallback:"config",contentType:"application/json",dataType:"jsonp",success:function(n){e=n,t()},error:function(e){}});var t=function(){$("img.js-tmdb-person").each((function(){var e=$(this).data("tmdb-id"),t=$(this).data("size");n(e,$(this),t)}))},n=function t(n,i,r){var o=r;void 0===o&&(o=185),$.ajax({type:"GET",url:"//api.themoviedb.org/3/person/"+n+"?api_key=7a9224aa2547b60f9b764ec08c21f20d",contentType:"application/json",dataType:"jsonp",timeout:1e3+1e3*Math.random(),success:function(t){if(t&&null!=t.profile_path){var r=("https:"===location.protocol?e.images.secure_base_url:e.images.base_url)+"w"+o+t.profile_path,a=new Image;$(a).load((function(){if($(this).complete&&$(this).trigger("load"),i.attr("src",r),i.hasClass("crop-square")){var e=i.height()-i.width();e>0&&i.css({position:"absolute",left:0,top:-.35*e+"px"})}var t=i.parent();t.hasClass("avatar")&&t.addClass("image-loaded")})).error((function(e){})).attr("src",r)}var s=$(".js-tmdb-person-bio[data-tmdb-id="+n+"]");if(s.length&&t&&t.biography){var l=$("<div></div>");l.text(t.biography);var c=l.html(),u="<section class='section panel-text'>"+(c=(c=(c=c.replace("&nbsp;"," ")).replace(/(.+)\n*/g,"<p>$1</p>")).replace(/^<p>[^<]*From Wikipedia[^<]*<\/p>/i,""))+"</section>";s.html(u),s.children("section").condense({condensedLength:200,moreText:" more",lessText:"&times;",ellipsis:"&hellip;",moreSpeed:0,lessSpeed:0})}else s.remove()},error:function(e,o,a){setTimeout((function(){t(n,i,r)}),5e3+5e3*Math.random())}})}}}))},57569:(e,t,n)=>{n(75602),n(30535),n(85018),"undefined"!=typeof globals&&void 0!==globals.typekitId&&(TypekitConfig={kitId:globals.typekitId,scriptTimeout:3e3},TypekitConfig.kitId&&function(){var e=document.getElementsByTagName("html")[0];e.className+=" wf-loading";var t=setTimeout((function(){e.className=e.className.replace(/(\s|^)wf-loading(\s|$)/g,""),e.className+=" wf-inactive"}),TypekitConfig.scriptTimeout),n=document.createElement("script");n.src="//use.typekit.com/"+TypekitConfig.kitId+".js",n.type="text/javascript",n.async="true",n.onload=n.onreadystatechange=function(){var e=this.readyState;if(!e||"complete"==e||"loaded"==e){clearTimeout(t);try{Typekit.load(TypekitConfig)}catch(e){}}};var i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(n,i)}())},79159:(e,t,n)=>{n(30535),n(85018),n(30046),function(e){var t=[];function(){}