YUI.add("prbd",(function(Y,NAME){"use strict";(self.ascChunk=self.ascChunk||[]).push([[6399],{47788:function(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__){var _prebidGlobal__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(32528),_ajax__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(25755);function _extends(){return _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_extends.apply(this,arguments)}function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}var asc=(0,_prebidGlobal__WEBPACK_IMPORTED_MODULE_0__.R)(),utils=__webpack_require__(9853),globalPrebidConfig=__webpack_require__(19992);if(!0===asc.isLoaded)throw new Error("asc Wrapper already Loaded!");asc.wrapperVersion="5.0.0",navigator.userAgent&&navigator.userAgent.indexOf("Lighthouse")>=0&&utils.logInfo("Lighthouse detected, disable wrapper"),utils.logInfo("asc Wrapper "+asc.wrapperVersion+" Loaded");var wrapperLoadTime=Date.now(),waaiTargetingSent=!1,config=__webpack_require__(14740);utils.logMessage("__ Config : Site ->",config);var internalAdunits=__webpack_require__(73704);utils.logMessage("__ Config : Adunits ->",internalAdunits);var deviceDetection=__webpack_require__(1346);utils.logMessage("__ Config : Devices for SizeMapping ->",deviceDetection),config.forceReWrittingPBJS&&(window.pbjs=asc);var isPageLoaded=!1,isDFPLoaded=!1,isDFPinit=!1,isAPSLoaded=!1,isAPSinit=!1,isPBJSLoaded=!1,isPBJSinit=!1,Key_DisabledBidders="_asc_dBid",googletag=window.googletag||{};googletag.cmd=googletag.cmd||[],window.googletag=googletag;var TIMEOUT=config.wrapper.timeout,TIMEOUT_FALLBACK=config.wrapper.timeoutFallback,BID_REQUEST_WAIT_TIME=config.wrapper.bidRequestWaitTime,pageLoaded=!1;setTimeout((function(){pageLoaded=!0}),TIMEOUT),config.targetingPrefix||(config.targetingPrefix="hb"),"hb"!=config.targetingPrefix&&(utils.logInfo("__ Targeting Prefix : Set, disabling emtpyCreativeFallback"),config.dfp.emtpyCreativeFallback=!1);var iasAdunitData={};function detectEnviroment(){var e="top";if(window.top!==window){e="friendly";try{window.top.location.toString()}catch(t){e="cross"}"cross"==e&&window.$sf&&window.$sf.ext&&(e="safe")}return utils.logMessage("__ Detection : Iframe enviroment ->",e),e}"c2f"==config.code&&"true"==getParameterByName("durationTest")&&(config.durationMedia="11163"),"efo"==config.code&&"true"==getParameterByName("durationTest")&&(config.durationMedia="11164"),"peo"==config.code&&"true"==getParameterByName("durationTest")&&(config.durationMedia="11165");var enviroment=detectEnviroment();function getConnection(){var e={downlink:0,downlinkRound:0,rtt:0,rttRound:0,type:"na",effectiveType:"na",saveData:!1};return navigator&&navigator.connection?(navigator.connection.downlink&&(e.downlink=navigator.connection.downlink,navigator.connection.downlink<1?e.downlinkRound=.1:navigator.connection.downlink<10?e.downlinkRound=1:navigator.connection.downlink<100?e.downlinkRound=10:navigator.connection.downlink<1e3?e.downlinkRound=100:navigator.connection.downlink>=1e3&&(e.downlinkRound=1e3)),navigator.connection.rtt&&(e.rtt=navigator.connection.rtt,navigator.connection.rtt<=10?e.rttRound=10:navigator.connection.rtt<=100?e.rttRound=100:navigator.connection.rtt<=200?e.rttRound=200:navigator.connection.rtt<=300?e.rttRound=300:navigator.connection.rtt<=400?e.rttRound=400:navigator.connection.rtt<=500?e.rttRound=500:navigator.connection.rtt<=600?e.rttRound=600:navigator.connection.rtt<=700?e.rttRound=700:navigator.connection.rtt<=800?e.rttRound=800:navigator.connection.rtt<=900?e.rttRound=900:navigator.connection.rtt>=1e3&&(e.rttRound=1e3)),navigator.connection.type&&(e.type=navigator.connection.type),navigator.connection.effectiveType&&(e.effectiveType=navigator.connection.effectiveType),navigator.connection.saveData&&(e.saveData=navigator.connection.saveData),utils.logMessage("__ Detection : Connection ->",e),e):e}var connection=getConnection(),ANALYTICS_ENDPOINT="https://cat.hbwrapper.com/";function analyticsTrack(e,t,r){if(config.analytics&&config.analytics.track&&!(config.analytics.track.indexOf(e)<0)){t&&void 0!==t||(t={}),r&&"function"==typeof r||(r=function(){}),t.id=config.id,t.code=config.code,t.site=config.url,enviroment||(enviroment="top"),t.env=enviroment,t.gv="asc",t.url=window.location.href.slice(0,1024),"friendly"==enviroment&&(t.urlTop=window.top.location.href.slice(0,1024));var n={success:r,error:function(e,t){utils.logError("__ AnalyticsTrack : Ajax error:",e,t)}},i=JSON.stringify({e:e,d:t});if(document.addEventListener("securitypolicyviolation",(function(r){if(utils.logError("__ AnalyticsTrack : Content Security Policy error:",r),r.blockedURI==ANALYTICS_ENDPOINT){t.env="csp",i=JSON.stringify({e:e,d:t});var n=document.createElement("iframe");n.id="iframe_wrapper_analyticstrack",n.width=1,n.height=1,n.style.width=1,n.style.height=1,n.hspace="0",n.vspace="0",n.marginWidth="0",n.marginHeight="0",n.scrolling="no",n.frameBorder="0",n.allowtransparency="true",n.allow="conversion-measurement",n.setAttribute("src","https://tpc.googlesyndication.com/pimgad/9450690109161060829?data="+i+"&endpoint="+ANALYTICS_ENDPOINT);var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(n,a)}})),i.length>=1e5){if(Math.random()>.1)return;i=JSON.stringify({e:e+"_bigsize",d:t})}(0,_ajax__WEBPACK_IMPORTED_MODULE_1__.h)(ANALYTICS_ENDPOINT,n,i,{contentType:"text/plain",withCredentials:!1})}}analyticsTrack("pageview",{},(function(){utils.logMessage("__ AnalyticsTrack : Sent pageview!")}));var arTest=!1;function safeJSONparse(e){void 0===e&&(e="{}");var t={};e=e.replace(/'/g,'"');try{"string"==typeof(t=JSON.parse(e))&&(t=JSON.parse(t))}catch(t){utils.logError("Cannot parse JSON string:",e)}return t}function formatAdunit(e){if(!config.dfpChildAccount)return e;if(""==config.dfpChildAccount)return e;var t=e.split("/");return t[1]?t[1].indexOf(",")>=0||t[1].toString()!==config.dfpAccount.toString()?e:(t[1]=config.dfpAccount+","+config.dfpChildAccount,t.join("/")):e}function storeSetDisableBidders(e){var t=window.localStorage.getItem(Key_DisabledBidders);t||(t="[]"),t=JSON.parse(t);var r=[];return t.forEach((function(e){if(r.indexOf(e.name)>=0)return!1;r.push(e.name)})),r.indexOf(e)<0&&t.push({name:e,time:Date.now()}),window.localStorage.setItem(Key_DisabledBidders,JSON.stringify(t))}function storeGetDisableBidders(){var e=window.localStorage.getItem(Key_DisabledBidders);return e?(e=(e=JSON.parse(e)).filter((function(e){return!(e.time<Date.now()-864e5)})),window.localStorage.setItem(Key_DisabledBidders,JSON.stringify(e)),e.map((function(e){return e.name}))):[]}function storeCheckDisabledBidders(){try{storeGetDisableBidders().forEach((function(e){config.wrapper.disableClientSideAdapters.indexOf(e)<0&&(config.wrapper.disableClientSideAdapters.push(e),utils.logWarn("__ Ads : Bidder is disabled from ClientSide due to finding it in localStorage for timeout:",e))}))}catch(e){}}["ccy","stc","aac","aln","awtgw","bm","jc","pt","smc","snt","wdg","ycg","ir","mbt","pfrt","scsf","wewo"].indexOf(config.code)>=0&&(Math.random()<.5&&(arTest=!0),googletag.cmd.push((function(){googletag.pubads().setTargeting("arTest",arTest.toString())})),config.refresh.accelerate=arTest?[{estCPM:1,seconds:3},{estCPM:1.5,seconds:5},{estCPM:2,seconds:10},{estCPM:2.5,seconds:15}]:[]),"true"==getParameterByName("halotest")&&(config.prebid.userSync.userIds.push({name:"hadronId",storage:{type:"html5",name:"hadronId",expires:30}}),config.prebid.realTimeData={auctionDelay:100,dataProviders:[{name:"hadron",waitForIt:!0,params:{segmentCache:!1,requestParams:{publisherId:326}}}]}),"true"==getParameterByName("id5analytics")&&(config.analytics.prebid?(Array.isArray(config.analytics.prebid)||(config.analytics.prebid=[config.analytics.prebid]),config.analytics.prebid.push({provider:"id5Analytics",options:{partnerId:579}})):config.analytics.prebid=[{provider:"id5Analytics",options:{partnerId:579}}]),storeCheckDisabledBidders();var toUseBidders=[];internalAdunits.forEach((function(e){void 0===e.adunit&&(e.adunit="/"+config.dfpAccount+"/"),void 0===e.device&&(e.device=[]),void 0===e.mediaTypes&&(e.mediaTypes={banner:{sizes:[1,1]}}),void 0===e.additionalNonHBSizes&&(e.additionalNonHBSizes=[]),void 0===e.targeting&&(e.targeting={}),void 0===e.lazyLoaded&&(e.lazyLoaded="false"),void 0===e.richMediaFormat&&(e.richMediaFormat={}),void 0===e.refreshTimed&&(e.refreshTimed="0"),void 0===e.refreshViewable&&(e.refreshViewable="0"),void 0===e.refreshStopAdvertisers&&(e.refreshStopAdvertisers=[]),void 0===e.bids&&(e.bids=[]),e.bids.forEach((function(e){if(config.wrapper.disableBidders&&config.wrapper.disableBidders.indexOf(e.bidder)>=0)return utils.logWarn("__ Ads : Bidder is disabled:",e.bidder),!1;toUseBidders.indexOf(e.bidder)<0&&toUseBidders.push(e.bidder)}))})),utils.logMessage("__ Bidding : Bidders to use ->",toUseBidders);var s2sBidderBan=["sharethrough","rubicon"];function updateS2Slist(){var e=[];globalPrebidConfig.s2sConfig.bidders.forEach((function(t){if(s2sBidderBan.indexOf(t)>=0)return!1;toUseBidders.indexOf(t)>=0&&e.push(t)})),globalPrebidConfig.s2sConfig.bidders=e}function updatePrebidServerAccountId(){config.wrapper.prebidServerAccountId&&(globalPrebidConfig.s2sConfig.accountId=config.wrapper.prebidServerAccountId)}function preloadScript(e){var t=document.createElement("link");t.rel="preload",t.as="script",t.href=e,document.head.appendChild(t)}function preconnectLink(e){var t=document.createElement("link");t.rel="preconnect dns-prefetch",t.href=e,document.head.appendChild(t)}config.prebid.currency&&config.prebid.currency.adServerCurrency&&"INR"==config.prebid.currency.adServerCurrency&&s2sBidderBan.push("pubmatic"),updateS2Slist(),updatePrebidServerAccountId(),config.dfp.forceSafeFrames&&config.amazon.enabled&&(config.amazon.enabled=!1,utils.logMessage("__ A9/Amazon : Safe frames enabled, disabling Amazon."));var preconnectBidderEndpoints={aol:["https://adserver-us.adtech.advertising.com"],onemobile:["https://c2shb.ssp.yahoo.com"],yahoossp:["https://c2shb.pubgw.yahoo.com"],sovrn:["https://ap.lijit.com"],appnexus:["https://ib.adnxs.com"],districtmDMX:["https://dmx.districtm.io"],rhythmone:["https://tag.1rx.io"],yieldmo:["https://ads.yieldmo.com"],teads:["https://a.teads.tv"],gamoshi:["https://rtb.gamoshi.io"],pubmatic:["https://hbopenbid.pubmatic.com"],rubicon:["https://fastlane.rubiconproject.com"],sharethrough:["https://btlr.sharethrough.com"],triplelift:["https://tlx.3lift.com"],indexExchange:["https://htlb.casalemedia.com"],ix:["https://htlb.casalemedia.com"],gumgum:["https://g2.gumgum.com"],kargo:["https://krk.kargo.com"],"33across":["https://ssc.33across.com"],conversant:["https://web.hb.ad.cpe.dotomi.com"],nobid:["https://ads.servenobid.com"],viewdeosDX:["https://ghb.sync.viewdeos.com"],lockerdome:["https://lockerdome.com/"],grid:["https://grid.bidswitch.net"],unruly:["https://targeting.unrulymedia.com"],justpremium:["https://pre.ads.justpremium.com"],consumable:["https://e.serverbid.com"],smartadserver:["https://prg.smartadserver.com"],criteo:["https://bidder.criteo.com"],underdogmedia:["https://udmserve.net"],improvedigital:["https://ice.360yield.com"],sonobi:["https://apex.go.sonobi.com"],amx:["https://prebid.a-mo.net"],medianet:["https://prebid.media.net"],richaudience:["https://shb.richaudience.com"],eplanning:["https://ads.us.e-planning.net"],smaato:["https://prebid.ad.smaato.net"],onetag:["https://onetag-sys.com"],trion:["https://in-appadvertising.com"],connectad:["https://i.connectad.io"],emx_digital:["https://hb.emxdgt.com"],smilewanted:["https://prebid.smilewanted.com"],operaads:["https://s.adx.opera.com"],adyoulike:["https://hb-api.omnitagjs.com"],seedtag:["https://s.seedtag.com"],marsmedia:["https://hb.go2speed.media"],kurshmedia:["https://ads4.krushmedia.com"],adagio:["https://mp.4dex.io"],vibrantmedia:["https://prebid.intellitxt.com"],e_volution:["https://service.e-volution.ai"],luponmedia:["https://rtb.adxpremium.services"],insticator:["https://ex.ingage.tech"]};function loadIIQUniversalID(e){utils.logMessage("__ IIQ Universal ID : Loading with partnerID",e),console.log("__ IIQ Universal ID : Loading with partnerID",e),(function(){var t=document.createElement("script");t.async=!0,t.type="text/javascript",t.src="https://cdn.adapex.io/iiq/IIQUniversalID.js",t.onload=function(){utils.logMessage("__ IIQ Universal ID : Library loaded"),console.log("__ IIQ Universal ID : Library loaded"),window["intentIq_"+e]=new IntentIqObject({partner:parseInt(e),pbjs:asc,callback:function(e){utils.logMessage("__ IIQ Universal ID : Callback",e),console.log("__ IIQ Universal ID : Callback",e)}})};var r=document.getElementsByTagName("script")[0];r.parentNode.insertBefore(t,r)})()}if(preloadScript("https://securepubads.g.doubleclick.net/tag/js/gpt.js"),config.amazon.enabled&&preloadScript("https://c.amazon-adsystem.com/aax2/apstag.js"),config.analytics.teads&&preloadScript("https://a.teads.tv/analytics/tag.js"),preconnectLink("https://prebid.adnxs.com"),toUseBidders.forEach((function(e){preconnectBidderEndpoints[e]&&preconnectBidderEndpoints[e].forEach((function(e){preconnectLink(e)}))})),asc.cmd.push((function(){isPBJSLoaded=!0})),(function(){if(!isDFPLoaded){var e=document.createElement("script");e.async=!0,e.type="text/javascript",e.src="https://securepubads.g.doubleclick.net/tag/js/gpt.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t),isDFPLoaded=!0}})(),config.analytics.teads&&(function(){window.teads_analytics=window.teads_analytics||{},window.teads_analytics.analytics_tag_id=config.analytics.teads,window.teads_analytics.share=window.teads_analytics.share||function(){(window.teads_analytics.shared_data=window.teads_analytics.shared_data||[]).push(arguments)};var e=document.createElement("script");e.async=!0,e.type="text/javascript",e.src="https://a.teads.tv/analytics/tag.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)})(),null!==getParameterByName("iiqTest")&&(console.log("__ IIQ Universal ID : Test Enabled !"),loadIIQUniversalID(getParameterByName("iiqTest"))),googletag.cmd.push((function(){if(!isDFPinit){googletag.pubads().enableSingleRequest(),config.dfp.collapseEmptyDivs&&googletag.pubads().collapseEmptyDivs(),googletag.enableServices(),googletag.pubads().setTargeting("wvr","3"),googletag.pubads().setTargeting("wie",enviroment),config.targeting&&config.targeting.speed&&(googletag.pubads().setTargeting("cndl",connection.downlinkRound.toString()),googletag.pubads().setTargeting("cnrtt",connection.rttRound.toString()),googletag.pubads().setTargeting("cntp",connection.type.toString()),googletag.pubads().setTargeting("cnet",connection.effectiveType.toString()),googletag.pubads().setTargeting("cnsd",connection.saveData.toString())),"friendly"==enviroment?window.top&&window.top.location&&window.top.location.href&&googletag.pubads().set("page_url",window.top.location.href):"cross"!=enviroment&&"safe"!=enviroment||googletag.pubads().set("page_url",config.url),(window.location.href.indexOf("localhost")>=0||window.location.href.indexOf("s2stest")>=0||window.location.href.indexOf("testbids")>=0)&&googletag.pubads().set("page_url",config.url);var e="nf";config.forceReWrittingPBJS&&(e="fr",window._pbjsGlobals&&window._pbjsGlobals.indexOf("pbjs")>=0&&(e="cr")),googletag.pubads().setTargeting("wrc",e);var t=Date.now()-wrapperLoadTime;sendProxy("timeline","gpt_load",Date.now()),utils.logMessage("__ Timing : googletag loaded in ->",t),t>1e4&&(t=1e4);var r=(100*Math.round(t/100)).toString();if(config.targeting&&config.targeting.speed&&googletag.pubads().setTargeting("gpt_l",r),performance&&performance.timing&&performance.timing.navigationStart){sendProxy("timeline","navigation_start",performance.timing.navigationStart);var n=wrapperLoadTime-performance.timing.navigationStart;utils.logMessage("__ Timing : wrapper loaded in ->",n),n>1e4&&(n=1e4);var i=(100*Math.round(n/100)).toString();config.targeting&&config.targeting.speed&&googletag.pubads().setTargeting("wrap_l",i)}var a=!1;null!==getCookie("__gads")&&(a=!0),config.targeting&&config.targeting.gads&&googletag.pubads().setTargeting("gads",a.toString());try{var o="unknown",s=window.sessionStorage.getItem("asc_ccp");s&&(o=s),googletag.pubads().setTargeting("ccp",o.toString())}catch(e){utils.logWarn("__ ConfirmedClickPenalty : Cannot access session storage")}isDFPinit=!0}})),!isAPSLoaded&&config.amazon.enabled&&((function(e,t,r,n,i,a,o){function s(r,n){t[e]._Q.push([r,n])}t[e]||(t[e]={init:function(){s("i",arguments)},fetchBids:function(){s("f",arguments)},setDisplayBids:function(){},_Q:[]},(a=r.createElement(n)).async=!0,a.src="//c.amazon-adsystem.com/aax2/apstag.js",(o=r.getElementsByTagName(n)[0]).parentNode.insertBefore(a,o))})("apstag",window,document,"script"),isAPSLoaded=!0),!isAPSinit&&config.amazon.enabled){var a9Config=config.amazon;config.prebid.schain&&config.prebid.schain.config&&(a9Config.schain=config.prebid.schain.config),apstag.init(a9Config,(function(){utils.logMessage("__ A9/Amazon : Init finish",a9Config)})),isAPSinit=!0}if(asc.cmd.push((function(){if(!isPBJSinit){if(asc.setConfig(globalPrebidConfig),globalPrebidConfig&&globalPrebidConfig.userSync&&globalPrebidConfig.userSync.userIds&&globalPrebidConfig.userSync.userIds.length>0&&config.prebid&&config.prebid.userSync&&config.prebid.userSync.userIds&&config.prebid.userSync.userIds.length>0){utils.logMessage("__ UserID : Merging global and site configs");var e=[];config.prebid.userSync.userIds.forEach((function(t){e.push(t.name)})),globalPrebidConfig.userSync.userIds.forEach((function(t){e.indexOf(t.name)<0&&(config.prebid.userSync.userIds.push(t),utils.logMessage("__ UserId : Adding to userId -> "+t.name))}))}asc.setConfig(config.prebid),config.prebidBidderSpecific&&(Array.isArray(config.prebidBidderSpecific)?config.prebidBidderSpecific:[config.prebidBidderSpecific]).forEach((function(e){asc.setBidderConfig(e)})),toUseBidders.indexOf("onefiftytwomedia")>=0&&asc.aliasBidder("adtelligent","onefiftytwomedia"),toUseBidders.indexOf("indexExchange")>=0&&asc.aliasBidder("ix","indexExchange"),toUseBidders.indexOf("bpa33x")>=0&&asc.aliasBidder("appnexus","bpa33x"),toUseBidders.indexOf("emxdigital")>=0&&asc.aliasBidder("appnexus","emxdigital"),toUseBidders.indexOf("mediafuseA")>=0&&asc.aliasBidder("appnexus","mediafuseA"),toUseBidders.indexOf("mediafuseY")>=0&&asc.aliasBidder("yahoossp","mediafuseY"),toUseBidders.indexOf("projectagora")>=0&&asc.aliasBidder("appnexus","projectagora",{gvlid:1032});var t={};toUseBidders.forEach((function(e){t[e]={bidCpmAdjustment:function(t){return t*=config.bidAdjustments.pubshare,config.bidAdjustments.networks[e]&&(t*=config.bidAdjustments.networks[e]),t}}})),asc.bidderSettings=t,config.analytics.prebid&&(Array.isArray(config.analytics.prebid)?config.analytics.prebid:[config.analytics.prebid]).forEach((function(e){asc.enableAnalytics(e)})),isPBJSinit=!0}})),config.targeting&&config.targeting.utmKeyValues){var utmCookie={cookieNamePrefix:"_uc_",utmParams:["utm_source","utm_medium","utm_campaign","utm_term","utm_content"],cookieExpiryDays:365,createCookie:function(e,t,r){if(r){var n=new Date;n.setTime(n.getTime()+24*r*60*60*1e3);var i="; expires="+n.toGMTString()}else i="";document.cookie=this.cookieNamePrefix+e+"="+t+i+"; path=/"},readCookie:function(e){for(var t=this.cookieNamePrefix+e+"=",r=document.cookie.split(";"),n=0;n<r.length;n++){for(var i=r[n];" "==i.charAt(0);)i=i.substring(1,i.length);if(0==i.indexOf(t))return i.substring(t.length,i.length)}return null},eraseCookie:function(e){this.createCookie(e,"",-1)},getParameterByName:function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(window.location.search);return null==t?"":decodeURIComponent(t[1].replace(/\+/g," "))},utmPresentInUrl:function(){for(var e=!1,t=0;t<this.utmParams.length;t++){var r=this.utmParams[t],n=this.getParameterByName(r);""!=n&&null!=n&&(e=!0)}return e},writeUtmCookieFromParams:function(){for(var e=0;e<this.utmParams.length;e++){var t=this.utmParams[e],r=this.getParameterByName(t);this.createCookie(t,r,this.cookieExpiryDays)}},writeCookieOnce:function(e,t){this.readCookie(e)||this.createCookie(e,t,this.cookieExpiryDays)},writeReferrerOnce:function(){var e=document.referrer;""===e||void 0===e?this.writeCookieOnce("referrer","direct"):this.writeCookieOnce("referrer",e)},referrer:function(){return this.readCookie("referrer")}};utmCookie.writeReferrerOnce(),utmCookie.utmPresentInUrl()&&utmCookie.writeUtmCookieFromParams(),googletag.cmd.push((function(){null!=utmCookie.readCookie("utm_source")&&googletag.pubads().setTargeting("utm_source",utmCookie.readCookie("utm_source")),null!=utmCookie.readCookie("utm_medium")&&googletag.pubads().setTargeting("utm_medium",utmCookie.readCookie("utm_medium")),null!=utmCookie.readCookie("utm_campaign")&&googletag.pubads().setTargeting("utm_campaign",utmCookie.readCookie("utm_campaign")),null!=utmCookie.readCookie("utm_content")&&googletag.pubads().setTargeting("utm_content",utmCookie.readCookie("utm_content"))}))}config.durationMedia&&(utils.logMessage("__ DurationMedia : Enabled Loading script"),(function(){var e=document.createElement("script");e.async=!0,e.type="text/javascript",e.charset="utf-8",e.id="dm-script",e.src="https://tag.durationmedia.net/sites/"+config.durationMedia+"/dm.js",e.onload=function(){utils.logMessage("__ DurationMedia : Script Loaded")};var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)})());var browserLangCode=(window.navigator.userLanguage||window.navigator.language||"unknown").toString().toUpperCase();function setCookie(e,t,r){var n="";if(r){var i=new Date;i.setTime(i.getTime()+24*r*60*60*1e3),n="; expires="+i.toUTCString()}document.cookie=e+"="+(t||"")+n+"; path=/"}function getCookie(e){for(var t=e+"=",r=document.cookie.split(";"),n=0;n<r.length;n++){for(var i=r[n];" "==i.charAt(0);)i=i.substring(1,i.length);if(0==i.indexOf(t))return i.substring(t.length,i.length)}return null}function eraseCookie(e){setCookie(e,"",-1)}utils.logMessage("__ Detection : Browser Language ->",browserLangCode),config.targeting&&config.targeting.browserLangCode&&googletag.cmd.push((function(){googletag.pubads().setTargeting("blc",browserLangCode.toString())}));var sesDepth=0;function getSessionDepth(){try{var e=window.sessionStorage.getItem("_asc_sesdepth");e&&(sesDepth=parseInt(e))}catch(e){}sesDepth=parseInt(sesDepth)+1;try{window.sessionStorage.setItem("_asc_sesdepth",sesDepth.toString())}catch(e){}return parseInt(sesDepth)}sesDepth=getSessionDepth(),googletag.cmd.push((function(){googletag.pubads().setTargeting("sesdepth",sesDepth.toString())}));var pageRef="";try{pageRef=window.top.document.referrer}catch(e){pageRef=document.referrer}var pageRefDomain="";function getDevice(){var e=utils.getWindowSelf().navigator.userAgent;return/(tablet|ipad|playbook|silk)|(android(?!.*mobi))/i.test(e)?"tablet":/Mobile|iP(hone|od|ad)|Android|BlackBerry|IEMobile|Kindle|NetFront|Silk-Accelerated|(hpw|web)OS|Fennec|Minimo|Opera M(obi|ini)|Blazer|Dolfin|Dolphin|Skyfire|Zune/.test(e)?"mobile":"desktop"}function getBrowser(){var e=utils.getWindowSelf(),t=e.navigator.userAgent,r=t.toLowerCase();return/Edge\/\d./i.test(t)?"edge":r.indexOf("chrome")>0?"chrome":r.indexOf("firefox")>0?"firefox":r.indexOf("safari")>0?"safari":r.indexOf("opera")>0?"opera":r.indexOf("msie")>0||e.MSStream?"ie":"other"}function getOS(){var e=utils.getWindowSelf().navigator.userAgent.toLowerCase();return e.indexOf("linux")>0?"linux":e.indexOf("mac")>0?"mac":e.indexOf("win")>0?"windows":"other"}function sendGAEvent(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=window.ga||window.__gaTracker||!1;if(i&&"function"==typeof i.getAll&&i.getAll()[0]){var a=i.getAll()[0];if(a)return utils.logMessage("__ GA : Sending event ->",e,t,r,n),a.send("event",e,t,r,n),!0}return void 0!==window._gaq&&(utils.logMessage("__ GA : Sending event (old ga.js) ->",e,t,r,n),window._gaq.push(["_trackEvent",e,t,r,n]),!0)}function GAEvent(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;sendGAEvent(e,t,r,n)||(utils.logMessage("__ GA : Cannot send event, retry in 1s ->",e,t,r,n),setTimeout((function(){sendGAEvent(e,t,r,n)||(utils.logMessage("__ GA : Cannot send event, retry in 3s ->",e,t,r,n),setTimeout((function(){sendGAEvent(e,t,r,n)||utils.logError("__ GA : Was not able to send event ->",e,t,r,n)}),3e3))}),1e3))}function detectWidth(e){return void 0===e&&(e=config.deviceDetection?config.deviceDetection:"window"),"screen"==e&&window.screen&&window.screen.width?window.screen.width:window.screen.width||window.innerWidth&&document.documentElement.clientWidth?Math.min(window.innerWidth,document.documentElement.clientWidth):window.innerWidth||document.documentElement.clientWidth||document.getElementsByTagName("body")[0].clientWidth}function detectHeight(e){return void 0===e&&(e=config.deviceDetection?config.deviceDetection:"window"),"screen"==e&&window.screen&&window.screen.height?window.screen.height:window.screen.height||window.innerHeight&&document.documentElement.clientHeight?Math.min(window.innerHeight,document.documentElement.clientHeight):window.innerHeight||document.documentElement.clientHeight||document.getElementsByTagName("body")[0].clientHeight}pageRefDomain=""==pageRef?"_none":pageRef.match(/:\/\/(.[^/]+)/)[1],config.targeting&&config.targeting.referrer&&googletag.cmd.push((function(){googletag.pubads().setTargeting("referrer",pageRefDomain.toString())})),config.targeting&&config.targeting.device&&googletag.cmd.push((function(){try{var e=getDevice();googletag.pubads().setTargeting("device",e.toString())}catch(e){}})),config.targeting&&config.targeting.browser&&googletag.cmd.push((function(){try{var e=getBrowser();googletag.pubads().setTargeting("browser",e.toString())}catch(e){}})),config.targeting&&config.targeting.os&&googletag.cmd.push((function(){try{var e=getOS();googletag.pubads().setTargeting("os",e.toString())}catch(e){}})),"true"==getParameterByName("stickyContainer")&&internalAdunits.forEach((function(e){e.stickyContainer="true"}));var device="desktop";function updateDevice(){return utils.logMessage("__ Detection : Updating device"),deviceDetection.forEach((function(dd){dd.condition=dd.condition.split("{SCREENWIDTH}").join(detectWidth().toString());var evaluateCondition=eval(dd.condition);utils.logMessage("__ Detection : Checking condition ->",dd.name,dd.condition,evaluateCondition),evaluateCondition&&(device=dd.name)})),device}function uuidv4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))}function getDomain(){if(document.domain.length){for(var e=document.domain.replace(/^(www\.)/,"").split(".");e.length>2;)e.shift();return e.join(".").replace(/(^\.*)|(\.*$)/g,"")}return""}function insertIframeWithHTML(e,t){if(t){var r=e.dataset.parentid?e.dataset.parentid:uuidv4(),n=document.createElement("iframe");n.id="fallback_ads_iframe/"+r,n.width=1,n.height=1,n.hspace="0",n.vspace="0",n.marginWidth="0",n.marginHeight="0",n.scrolling="no",n.frameBorder="0",n.allowtransparency="true",n.allow="conversion-measurement",e.appendChild(n),n.contentWindow.document.open(),n.contentWindow.document.write(t),n.contentWindow.document.close()}}function insertCreativeNoDFP(e,t){e.innerHTML="";var r=document.getElementById("fallback_ads_iframe/"+e.id+"__container__");r||((r=document.createElement("div")).id="fallback_ads_iframe/"+e.id+"__container__",r.dataset.parentid=e.id,e.appendChild(r)),r.style.boder="0pt none",r.style.display="",r.innerHTML="",e.style.display="",insertIframeWithHTML(r,'<script>var ucPbGlobal = "asc";<\/script> <script src="https://cdn.jsdelivr.net/gh/bozghiyy/native-renderer@latest/universal.creative.js"><\/script><script>var ucTagData = {};ucTagData.adServerDomain = "";ucTagData.pubUrl = "'+window.location.href+'";ucTagData.targetingMap = '+JSON.stringify(t)+";try {ucTag.renderAd(document, ucTagData);} catch (e) {    console.log(e);}<\/script> ")}function getMaxWidthSize(e){var t=0;return e.forEach((function(e){e[0]&&e[0]>t&&(t=e[0])})),t}function getMaxHeightSize(e){var t=0;return e.forEach((function(e){e[1]&&e[1]>t&&(t=e[1])})),t}function validateSizes(e){if("object"!=_typeof(e))return[];var t=[];return e.forEach((function(e){return!!e[0]&&!!e[1]&&"number"==typeof e[0]&&"number"==typeof e[0]&&void t.push(e)})),0==t.length&&(t=[[1,1]]),t}function getParameterByName(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var r=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return r?r[2]?decodeURIComponent(r[2].replace(/\+/g," ")):"":null}updateDevice();var testbids=getParameterByName("testbids"),testbidsnative=getParameterByName("testbidsnative"),locationHash="";try{locationHash=window.top.location.hash}catch(e){locationHash=location.hash}locationHash.indexOf("testbids")>=0&&(testbids="true"),locationHash.indexOf("testbidsnative")>=0&&(testbidsnative="true"),"true"==testbids&&(utils.logMessage("__ Testing : ENABLE TEST BIDS"),internalAdunits.forEach((function(e){e.bids=[{bidder:"testbids",params:{placementId:"13144370"}}]}))),"true"==testbidsnative&&(utils.logMessage("__ Testing : ENABLE TEST BIDS NATIVE"),internalAdunits.forEach((function(e){e.bids=[{bidder:"appnexus",params:{placementId:"13232354"}}]})));var disableBidder=getParameterByName("ascDisableBidder");if(null!==disableBidder){utils.logMessage("__ TESTING : Disable bidder ->",disableBidder);var biddersUsed=[];internalAdunits.forEach((function(e){var t=[];e.bids.forEach((function(e){e.bidder!=disableBidder&&(t.push(e),
biddersUsed.indexOf(e.bidder)<0&&biddersUsed.push(e.bidder))})),e.bids=t})),globalPrebidConfig.s2sConfig.bidders=biddersUsed,utils.logMessage("__ Testing : Using S2S Bidders ->",biddersUsed)}config.analytics&&config.analytics.adRizer&&(function(){var e=document.createElement("script");e.async=!0,e.type="text/javascript",e.src="https://run.crtx.info/track.min.js",e.id="ADRIZER_JS",e.onload=function(){utils.logMessage("__ AdRizer : Script Loaded")},e.onerror=function(){utils.logError("__ AdRizer : Error loading script ->")};var t=document.createElement("a");t.href=config.url,e.dataset.domain=t.hostname;var r=document.getElementsByTagName("script")[0];r.parentNode.insertBefore(e,r)})();var setEventListener=function(e,t,r){var n=window.addEventListener?"addEventListener":"attachEvent",i=window.addEventListener?t:"on"+t;e[n](i,r,!1)},removeEventListener=function(e,t,r){e.removeEventListener?e.removeEventListener(t,r,!1):e.detachEvent?e.detachEvent("on"+t,r):e["on"+t]=null};function _getWrapperConfig(){return config}function _getWrapperInternalAdunits(){return internalAdunits}function getWrapperDeviceDetection(){return deviceDetection}function getInternalAdunit(e){var t=!1;return internalAdunits.forEach((function(r){if("adunit"==config.adunitMapping){if(!e.dataset.aaAdunit)return!1;r.adunit.toLowerCase()==e.dataset.aaAdunit.toLowerCase()&&(t=_extends({},r))}else if("targeting"==config.adunitMapping){if(!e.dataset.aaTargeting)return!1;var n="pos";config.adunitMappingKey&&(n=config.adunitMappingKey);var i=safeJSONparse(e.dataset.aaTargeting);if(!i[n])return!1;if(!r.targeting[n])return!1;r.targeting[n].toLowerCase()==i[n].toLowerCase()&&(t=_extends({},r))}})),t}function getAdunitNameFromAdunitPath(e){var t=e.split("/");return t.length<=1?t.toString():t[t.length-1]}function getSizeForNative(e){if(!e.dataset)return[1,1];if(!e.dataset.aaSizes)return[1,1];var t=validateSizes(safeJSONparse(e.dataset.aaSizes));if(!t)return[1,1];var r=t.map((function(e){return e[0]+"x"+e[1]})),n=[[300,600],[300,250],[970,250],[728,90],[160,600],[320,50]].map((function(e){return e[0]+"x"+e[1]})),i=[1,1];return n.forEach((function(e){1!=i[0]&&1!=i[1]||r.indexOf(e)>=0&&(i=e.split("x"))})),i}function getBidsFor(e){storeCheckDisabledBidders();var t=[],r=e.dataset.aaAdunit,n=getAdunitNameFromAdunitPath(r),i=validateSizes(safeJSONparse(e.dataset.aaSizes)),a=e.dataset.aaTargeting?safeJSONparse(e.dataset.aaTargeting):{},o=i.map((function(e){return e[0]+"x"+e[1]}));return internalAdunits.forEach((function(e){if("adunit"==config.adunitMapping){if(e.adunit.toLowerCase()!=r.toLowerCase())return!1}else{if("targeting"!=config.adunitMapping)return!1;if(!a)return!1;if(!e.targeting)return!1;var s="pos";if(config.adunitMappingKey&&(s=config.adunitMappingKey),!a[s])return!1;if(!e.targeting[s])return!1;if(e.targeting[s].toLowerCase()!=a[s].toLowerCase())return!1}r.toLowerCase()==e.adunit.toLowerCase()&&r!=e.adunit&&(r=e.adunit,n=getAdunitNameFromAdunitPath(r)),e.bids.forEach((function(e){if(e.device&&e.device.indexOf(device)<0)return!1;if(e.size&&o.indexOf(e.size[0]+"x"+e.size[1])<0)return!1;if(e.testParameter&&"true"!=getParameterByName(e.testParameter))return!1;if(config.wrapper.disableBidders&&config.wrapper.disableBidders.indexOf(e.bidder)>=0)return!1;switch(e.bidder){case"rhythmone":return e.params.path="mvo",e.params.zone="1r",t.push({bidder:e.bidder,params:e.params}),!0;case"smartadserver":return e.params.networkId||(e.params.networkId=1),t.push({bidder:e.bidder,params:e.params}),!0;case"pubmatic":return t.push({bidder:e.bidder,params:{publisherId:e.params.publisherId,adSlot:e.params.adSlot?e.params.adSlot:n}}),!0;case"indexExchange":case"ix":return e.params.size&&"object"==_typeof(e.params.size)?(t.push({bidder:e.bidder,params:e.params}),!0):(i.forEach((function(r){return t.push({bidder:e.bidder,params:{siteId:e.params.siteId,size:r}}),!0})),!0);case"grid":return e.params&&e.params.uid&&"string"==typeof e.params.uid&&(e.params.uid=parseInt(e.params.uid)),t.push({bidder:e.bidder,params:e.params}),!0;case"criteo":return e.params.publisherSubId||(e.params.publisherSubId=n),t.push({bidder:e.bidder,params:e.params}),!0;case"amx":var r=e.params?e.params:{};return"true"==getParameterByName("amxtest")&&(r.testMode=!0,r.tagId="cHJlYmlkLm9yZw"),r.adUnitId=n,t.push({bidder:e.bidder,params:r}),!0;case"onetag":return e.params.ext||(e.params.ext={adunit:n}),e.params.overwriteAdUnitCode=n,t.push({bidder:e.bidder,params:e.params}),!0;case"outbrain":return e.params.tagid||(e.params.tagid=n),t.push({bidder:e.bidder,params:e.params}),!0;default:return t.push({bidder:e.bidder,params:e.params}),!0}}))})),t}function buildPbjsAdunits(e){var t=[];return e.forEach((function(e){var r={},n=validateSizes(safeJSONparse(e.dataset.aaSizes)),i=e.dataset.aaTargeting?safeJSONparse(e.dataset.aaTargeting):{},a=e.dataset.aaAdditionalNonHBSizes?safeJSONparse(e.dataset.aaAdditionalNonHBSizes):[],o=(e.dataset.aaAdunit,e.dataset.aaRichMediaFormat?safeJSONparse(e.dataset.aaRichMediaFormat):{});if(r.adunit=e.dataset.aaAdunit,r.code=e.id,r.mediaTypes={banner:{sizes:n}},r.additionalNonHBSizes=a,r.targeting=i,r.bids=getBidsFor(e),r.ortb2Imp={ext:{data:{adserver:{name:"gam",adslot:e.dataset.aaAdunit},pbadslot:e.dataset.aaAdunit,gpid:e.dataset.aaAdunit}}},o&&o.type&&"interstitial"==o.type&&(r.ortb2Imp.instl=1),r.mediaTypes&&r.mediaTypes.banner){var s="";r.mediaTypes.banner.pos=0,s="Set pos 0 - Unknown | Default";var d=e.getBoundingClientRect();d.top>=0&&d.bottom<=detectHeight("window")?(r.mediaTypes.banner.pos=1,s="Set pos 1 - ATF | Element in view"):(r.mediaTypes.banner.pos=3,s="Set pos 3 - BTF | Element not in view"),o&&o.type&&["interstitial","adhesion","sticky","peel"].indexOf(o.type)>=0&&(r.mediaTypes.banner.pos=1,s="Set pos 1 - ATF | Richmedia "+o.type),utils.logMessage("__ Ads : Setting mediaTypes.banner.pos:",e.id,r.adunit,s)}if(e.dataset.aaVideo&&""!=e.dataset.aaVideo&&(r.mediaTypes.video=safeJSONparse(e.dataset.aaVideo)),e.dataset.aaOutofpage&&""!=e.dataset.aaOutofpage&&(r.outofpage=e.dataset.aaOutofpage),e.dataset.aaNative&&"true"==e.dataset.aaNative){var c=getSizeForNative(e),u=c[0]+"x"+c[1];"1x1"!=u&&(r.mediaTypes.native={sendTargetingKeys:!1,rendererUrl:"https://cdn.jsdelivr.net/gh/bozghiyy/native-renderer@latest/"+u+".js",title:{required:!0,len:140},body:{required:!1},image:{required:!0,sizes:[1,1],aspect_ratios:[{min_width:100,min_height:100,ratio_width:1,ratio_height:1},{min_width:191,min_height:100,ratio_width:1.91,ratio_height:1},{min_width:200,min_height:300,ratio_width:2,ratio_height:3},{min_width:300,min_height:200,ratio_width:3,ratio_height:2},{min_width:388,min_height:100,ratio_width:3.88,ratio_height:1},{min_width:400,min_height:300,ratio_width:4,ratio_height:3},{min_width:300,min_height:100,ratio_width:3,ratio_height:1}]},icon:{required:!1,sizes:[1,1]},sponsoredBy:{required:!1},clickUrl:{required:!0},cta:{required:!1}})}t.push(r)})),t}function getNewAdElementsOnPage(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"[data-aaad]",t=document.querySelectorAll(e);t=[].slice.call(t);var r=[];return t.forEach((function(e){if(!e.dataset.aaAdunit)return e.dataset.status="error",utils.logError("Ad doesn`t have an adunit defined",e),!1;if("true"!=e.dataset.aaad)return utils.logWarn("__ Ads : Adunit disabled, skipped:",e.dataset.aaAdunit),!1;if(e.estCPM||(e.estCPM=0),e.emptyCount||(e.emptyCount=0),e.emptyConsecutiveCount||(e.emptyConsecutiveCount=0),e.dataset.status&&"processing"!=e.dataset.status)return!1;e.dataset.status="processing",e.id||(e.id=uuidv4());var t=getInternalAdunit(e);t?(t.conditionalMediaTypes&&t.conditionalMediaTypes[device]&&(t.mediaTypes=t.conditionalMediaTypes[device]),t.conditionalNonHBSizes&&t.conditionalNonHBSizes[device]&&(t.additionalNonHBSizes=t.conditionalNonHBSizes[device]),t.css&&""==e.style.cssText&&(e.style.cssText=t.css),e.dataset.aaDevice||(e.dataset.aaDevice=JSON.stringify(t.device)),e.dataset.aaSizes||(e.dataset.aaSizes=JSON.stringify(t.mediaTypes.banner.sizes)),e.dataset.aaLazyLoaded||(e.dataset.aaLazyLoaded=t.lazyLoaded),e.dataset.aaTargeting||t.targeting&&Object.keys(t.targeting).length>0&&(e.dataset.aaTargeting=JSON.stringify(t.targeting)),e.dataset.aaRichMediaFormat||t.richMediaFormat&&Object.keys(t.richMediaFormat).length>0&&(e.dataset.aaRichMediaFormat=JSON.stringify(t.richMediaFormat)),e.dataset.aaRefreshTimed||t.refreshTimed&&t.refreshTimed>0&&(e.dataset.aaRefreshTimed=t.refreshTimed),e.dataset.aaRefreshViewable||t.refreshViewable&&t.refreshViewable>0&&(e.dataset.aaRefreshViewable=t.refreshViewable),e.dataset.aaRefreshStopAdvertisers||t.refreshStopAdvertisers&&t.refreshStopAdvertisers.length>0&&(e.dataset.aaRefreshStopAdvertisers=JSON.stringify(t.refreshStopAdvertisers)),e.dataset.aaAdditionalNonHBSizes||t.additionalNonHBSizes&&t.additionalNonHBSizes.length>0&&(e.dataset.aaAdditionalNonHBSizes=JSON.stringify(t.additionalNonHBSizes)),!e.dataset.aaOutofpage&&t.outofpage&&(e.dataset.aaOutofpage=t.outofpage),e.dataset.aaContainer||t.stickyContainer&&(e.dataset.aaContainer=t.stickyContainer),e.dataset.aaVideo||t.mediaTypes&&t.mediaTypes.video&&(e.dataset.aaVideo=JSON.stringify(t.mediaTypes.video)),e.dataset.aaNative||t.mediaTypes&&t.mediaTypes.native&&(e.dataset.aaNative="true")):(e.dataset.aaSizes||(e.dataset.aaSizes=JSON.stringify([1,1])),e.dataset.aaDevice||(e.dataset.aaDevice=JSON.stringify(deviceDetection.map((function(e){return e.name})))),e.dataset.aaLazyLoaded||(e.dataset.aaLazyLoaded="false"),utils.logMessage("__ Ads : Didn`t find an adunit to map ->",e.dataset.aaAdunit));try{var n=safeJSONparse(e.dataset.aaRichMediaFormat);if(n.type&&(["adhesion","peel","sticky"].indexOf(n.type)>=0&&document.body&&document.body!=e.parentNode&&(utils.logMessage("__ RichMediaFormat : Moved to body element:",e.id),document.body.appendChild(e)),"adhesion"==n.type&&(e.style.display="none"),"topparallax"==n.type.toLowerCase()&&!document.getElementById("c_r_"+e.id))){var i=e.cloneNode(!0),a=document.createElement("div");a.id="c_r_"+i.id,a.style.display="none";var o=document.createElement("div");o.id="c_a_"+i.id,a.appendChild(o);var s=document.createElement("div");s.id="c_f_"+i.id,o.appendChild(s),s.appendChild(i),e.parentNode.insertBefore(a,e),e.remove()}}catch(e){}var d=parseInt(e.dataset.aaRefreshTimed);NaN==d&&(d=0);var c=parseInt(e.dataset.aaRefreshViewable);if(NaN==c&&(c=0),d>0&&c>0&&(e.dataset.aaRefreshViewable=0,utils.logWarn("__ Ads : Cannot have both refreshes enabled. Disabling viewable refresh",e)),e.dataset.aaContainer&&"true"==e.dataset.aaContainer){var u=e.cloneNode(!0);u.dataset.aaContainer="false";var l=document.createElement("div");l.id="cont_"+u.id,l.style.height=getMaxHeightSize(validateSizes(safeJSONparse(e.dataset.aaSizes)))+"px",e.parentNode.insertBefore(l,e),e.remove();var p=document.createElement("div");p.id="wrap_"+u.id,p.style.position="sticky",p.style.top="0",l.appendChild(p),p.appendChild(u)}if(safeJSONparse(e.dataset.aaDevice).indexOf(device)<0)return e.dataset.status="skipped",!1;if("true"==e.dataset.aaLazyLoaded){if(!checkElIsInView(e))return utils.logMessage("__ LazyLoading : Adunit is lazyloaded ->",e.dataset.aaAdunit),e.dataset.status="lazyLoaded",!1;utils.logMessage("__ LazyLoading : Adunit is lazyloaded but is already in view, disabling lazy load ->",e.dataset.aaAdunit),e.dataset.aaLazyLoaded=!1}r.push(e)})),utils.logMessage("getNewAdElementsOnPage:",r),r}asc.getWrapperConfig=_getWrapperConfig,asc.getWrapperInternalAdunits=_getWrapperInternalAdunits,asc.getWrapperDeviceDetection=getWrapperDeviceDetection;var processingAds=!1,processingAdsWaitTimeFinished=!1;function processAdsOnPage(){if(utils.logMessage("__ Ads : processAdsOnPage: Called"),!isPageLoaded)return utils.logMessage("__ Ads : processAdsOnPage: Page is not loaded, cannot use this function yet."),void setTimeout((function(){utils.logInfo("__ Ads: processAdsOnPage: Page not loaded, retried after 1 sec"),processAdsOnPage()}),1e3);if(processingAds)return utils.logMessage("__ Ads : processAdsOnPage: Ads are still processing"),void setTimeout((function(){utils.logInfo("__ Ads: processAdsOnPage: Ads still processing, retried after 1 sec"),processAdsOnPage()}),1e3);if(!processingAdsWaitTimeFinished&&isTabInFocus)return utils.logInfo("__ Ads : processAdsOnPage: Wait "+BID_REQUEST_WAIT_TIME+"ms until executing function"),void setTimeout((function(){processingAdsWaitTimeFinished=!0,processAdsOnPage(),processingAdsWaitTimeFinished=!1}),BID_REQUEST_WAIT_TIME);processingAds=!0;var e=getNewAdElementsOnPage();if(!e||0==e.length)return utils.logWarn("__ Ads : processAdsOnPage: No new ad elements on page"),processingAds=!1,!1;renderAdsOnPage(e,TIMEOUT,(function(){processingAds=!1}))}function renderAdsOnPage(e,t,r){e.forEach((function(e){e.dataset.status="rendered"})),doBidRequests(buildPbjsAdunits(e),t,r)}function doBidRequests(e,t,r){utils.logMessage("__ CMP : Checking for CMP __uspapi",_typeof(window.__uspapi));var n={},i=!1;"function"==typeof window.__uspapi?(n.usp={cmpApi:"iab",timeout:9e4},i=!0,cmpDebugConsolePush('<span style="color:green;">Prebid detected an IAB US Privacy CMP</span>'),window.__uspapi("getUSPData",2,(function(e,t){t?(cmpDebugConsolePush('<span style="color:green;">Interaction with IAB US Privacy CMP Succesful</b></span>'),e&&e.uspString&&("1---"==e.uspString?cmpDebugConsolePush('<span style="color:green;">IAB US Privacy CMP does not apply for this region</b></span>'):cmpDebugConsolePush('<span style="color:green;">IAB US Privacy CMP has consent</b></span>'))):cmpDebugConsolePush('<span style="color:red;">Interaction with IAB US Privacy CMP Failed</span>')}))):cmpDebugConsolePush('<span style="color:red;">Prebid DID NOT detect an IAB US Privacy CMP</span>'),utils.logMessage("__ CMP : Checking for CMP __tcfapi",_typeof(window.__tcfapi)),config.targeting&&config.targeting.tcf&&googletag.cmd.push((function(){googletag.pubads().setTargeting("tcf_s","tcbeforecheck"),googletag.pubads().setTargeting("tcf_gdpr","unknown")})),"function"==typeof window.__tcfapi?(config.targeting&&config.targeting.tcf&&googletag.cmd.push((function(){googletag.pubads().setTargeting("tcf_s","tcfound")})),n.gdpr={cmpApi:"iab",timeout:9e4,defaultGdprScope:!0},i=!0,cmpDebugConsolePush('<span style="color:green;">Prebid detected an IAB TCF 2.0 CMP</span>'),window.__tcfapi("addEventListener",2,(function(e,t){if(t?(e.eventStatus&&(config.targeting&&config.targeting.tcf?googletag.cmd.push((function(){googletag.pubads().setTargeting("tcf_s",e.eventStatus)})):e.gdprApplies&&(config.targeting&&config.targeting.tcf?googletag.cmd.push((function(){googletag.pubads().setTargeting("tcf_s","tcnull")})):config.targeting&&config.targeting.tcf&&googletag.cmd.push((function(){googletag.pubads().setTargeting("tcf_s","tcnotapply")})))),cmpDebugConsolePush('<span style="color:green;">CMP API Response: GDPR Applies: <b>'+e.gdprApplies+"</b> Status: <b>"+e.eventStatus+"</b></span>")):(config.targeting&&config.targeting.tcf&&googletag.cmd.push((function(){googletag.pubads().setTargeting("tcf_s","tcfailed")})),cmpDebugConsolePush('<span style="color:red;">Cannot interact with the CMP API</span>')),config.targeting&&config.targeting.tcf){e.gdprApplies?googletag.cmd.push((function(){googletag.pubads().setTargeting("tcf_gdpr","true")})):googletag.cmd.push((function(){googletag.pubads().setTargeting("tcf_gdpr","false")})),e.cmpId?googletag.cmd.push((function(){googletag.pubads().setTargeting("tcf_cmp_id",e.cmpId.toString())})):googletag.cmd.push((function(){googletag.pubads().setTargeting("tcf_cmp_id","0")})),e.cmpStatus?googletag.cmd.push((function(){googletag.pubads().setTargeting("tcf_cmp_s",e.cmpStatus.toString())})):googletag.cmd.push((function(){googletag.pubads().setTargeting("tcf_cmp_s","false")})),e.tcString&&e.tcString.length&&e.tcString.length>1?googletag.cmd.push((function(){googletag.pubads().setTargeting("tcf_string","true")})):googletag.cmd.push((function(){googletag.pubads().setTargeting("tcf_string","false")}));var r=[];if(e.purpose&&e.purpose.consents){var n=Object.keys(e.purpose.consents);r=n.filter((function(t){return!!e.purpose.consents[t]}))}googletag.cmd.push((function(){googletag.pubads().setTargeting("tcf_p",0==r.length?"0":r)}))}}))):(cmpDebugConsolePush('<span style="color:red;">Prebid DID NOT detect an IAB TCF 2.0 CMP</span>'),config.targeting&&config.targeting.tcf&&googletag.cmd.push((function(){googletag.pubads().setTargeting("tcf_s","tcnotfound"),googletag.pubads().setTargeting("tcf_gdpr","false")}))),i&&(utils.logMessage("__ CMP : Consent Management set config",n),asc.setConfig({consentManagement:n}),TIMEOUT_FALLBACK=91e3),window.ascBeforeAuction&&"function"==typeof window.ascBeforeAuction&&(utils.logMessage("__ Ads : Function ascBeforeAuction is defined, executing it."),window.ascBeforeAuction(e,t,r)),utils.logMessage("__ Ads : Calling doBidRequests with parameters",e,t,r),asc.que.push((function(){if(!e&&!e)return utils.logError("__ Ads : Calling doBidRequest without any adunits"),!1;if(t||(t=TIMEOUT),r||(r=function(){}),0==e.length)return utils.logMessage("__ Ads : Calling doBidRequest with 0 adunits"),!1;var n=e.map((function(e){return e.code})),i=e.map((function(e){return{slotID:e.code,slotName:e.adunit,sizes:e.mediaTypes.banner.sizes}})),a=!1,o=!1,s=!1;function d(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return t&&(a=!0,o=!0),!!a&&!!o&&!s&&(config.durationMedia&&e.forEach((function(e){var t=document.getElementById(e.code);t&&(t.dataset.aaRefreshTimed&&parseInt(t.dataset.aaRefreshTimed)>0&&(t.dataset.aaRefreshTimed="0"),t.dataset.aaRefreshViewable&&parseInt(t.dataset.aaRefreshViewable)>0&&(t.dataset.aaRefreshViewable="0"))})),googletag.cmd.push((function(){var t=googletag.pubads().getSlots(),r=t.map((function(e){return e.getSlotElementId()})),i=[],a=e.filter((function(e){return!(r.indexOf(e.code)>=0)})),o=t.filter((function(e){return n.indexOf(e.getSlotElementId())>=0}));googletag.pubads().setTargeting("pbglobal","asc"),googletag.pubads().setTargeting("tif",isTabInFocus.toString());var s="0s",d=Math.floor(getLastUserInteraction()/1e3);if(s=d+"s",d>=60){var c=Math.floor(d/60);s=c>=60?"1h":c+"m"}googletag.pubads().setTargeting("lui",s.toString()),a.forEach((function(e){var t=_extends([],e.mediaTypes.banner.sizes);e.additionalNonHBSizes&&e.additionalNonHBSizes.length>0&&e.additionalNonHBSizes.forEach((function(e){t.push(e)}));var r={};r=e.outofpage&&"true"==e.outofpage.toLowerCase()?googletag.defineOutOfPageSlot(formatAdunit(e.adunit),e.code).addService(googletag.pubads()):googletag.defineSlot(formatAdunit(e.adunit),t,e.code).addService(googletag.pubads()),utils.logMessage("__ GAM :  Define Slot",r),r.rit=0,config.targeting&&config.targeting.refreshIteration&&r.setTargeting(config.targeting.refreshIteration,r.rit.toString()),googletag.pubads().isInitialLoadDisabled()&&i.push(r)})),a&&a.length>0&&(utils.logMessage("__ GAM : Enable services"),googletag.enableServices()),t=googletag.pubads().getSlots(),"undefined"!=typeof apstag&&config.amazon.enabled&&(utils.logMessage("__ A9/Amazon : Set Targeting A9"),apstag.setDisplayBids()),asc.setTargetingForGPTAsync(n),e.forEach((function(e){var r=t.filter((function(t){return e.code==t.getSlotElementId()}));if(!r[0])return utils.logError("__ GAM : Set Custom Targeting, cannot find adunit defined to DFP",e),!1;var n=r[0],i=document.getElementById(e.code);if(!i)return utils.logError("__ GAM : Set Custom Targeting, cannot find element for adunit:",e),!1;for(var a=Object.keys(e.targeting),o=a.length-1;o>=0;o--)n.setTargeting(a[o],e.targeting[a[o]]),utils.logMessage("__ GAM :  Set Targeting",n,a[o],e.targeting[a[o]]);try{var s=!0;if(null===i.offsetParent&&(s=!1),i.dataset.aaRichMediaFormat){var d=safeJSONparse(i.dataset.aaRichMediaFormat);d&&"object"==_typeof(d)&&d.type&&(s=d.type)}utils.logMessage("__ Targeting : Set Targeting ANH",n,s),n.setTargeting("anh",s.toString())}catch(e){utils.logWarn("__ Targeting : Cannot Set Targeting ANH",n)}config.dfp.forceSafeFramesUnderFloor&&((n.getTargeting(config.targetingPrefix+"_pb")[0]?parseInt(n.getTargeting(config.targetingPrefix+"_pb")[0]):0)<config.dfp.forceSafeFramesUnderFloor?(utils.logMessage("__ GAM :  Bid Under floor, setting Safe Frame",n),n.setForceSafeFrame(!0)):(utils.logMessage("__ GAM :  Bid Over Floor, No need for Safe Frames",n),n.setForceSafeFrame(!1))),config.dfp.forceSafeFrames&&(n.setForceSafeFrame(!0),utils.logMessage("__ GAM :  Set Force Safe Frames",n)),config.targeting.ias&&"object"==_typeof(iasAdunitData)&&iasAdunitData[n.getSlotElementId()]&&(iasAdunitData[n.getSlotElementId()].id&&n.setTargeting("id",iasAdunitData[n.getSlotElementId()].id),iasAdunitData[n.getSlotElementId()].grm&&n.setTargeting("grm",iasAdunitData[n.getSlotElementId()].grm),iasAdunitData[n.getSlotElementId()].vw&&n.setTargeting("vw",iasAdunitData[n.getSlotElementId()].vw))})),o.forEach((function(e){e.rit||(e.rit=0),e.rit++,config.targeting&&config.targeting.refreshIteration&&e.setTargeting(config.targeting.refreshIteration,e.rit.toString()),e.dah&&e.setTargeting("dah",e.dah),"number"==typeof e.lad&&e.setTargeting("lad",e.lad.toString())})),a.forEach((function(e){googletag.display(e.code),utils.logMessage("__ GAM :  Display Slot",e)})),googletag.pubads().isInitialLoadDisabled()&&i.length>0&&(utils.logWarn("__ GAM :  is using disable Initial Load, using refresh to load adunits"),googletag.pubads().refresh(i)),o&&o.length>0&&(googletag.pubads().refresh(o),utils.logMessage("__ GAM :  Refresh Slots",o))})),s=!0,void r())}if(setTimeout((function(){utils.logMessage("__ Ads : Running Force Fallback Render (possible not necessary)",TIMEOUT_FALLBACK),d(!0)}),TIMEOUT_FALLBACK),config.targeting.ias){var c=!1,u="";n.forEach((function(e){u+="&slot=%7Bid:".concat(e,",s:0.0,p:").concat(e,"%7D"),iasAdunitData[e]||(c=!0)}));var l="https://pixel.adsafeprotected.com/services/pub?anId=".concat(config.targeting.ias).concat(u,"&wr=").concat(window.innerWidth,".").concat(window.innerHeight,"&sr=").concat(window.screen.width,".").concat(window.screen.height);c&&(utils.logMessage("__ IAS : Make request to",l),(0,_ajax__WEBPACK_IMPORTED_MODULE_1__.h)(l,(function(e){utils.logMessage("__ IAS : Response: ",e),googletag.cmd.push((function(){var t=JSON.parse(e);t.brandSafety&&(t.brandSafety.adt&&googletag.pubads().setTargeting("adt",t.brandSafety.adt.toString()),t.brandSafety.alc&&googletag.pubads().setTargeting("alc",t.brandSafety.alc.toString()),t.brandSafety.dlm&&googletag.pubads().setTargeting("dlm",t.brandSafety.dlm.toString()),t.brandSafety.drg&&googletag.pubads().setTargeting("drg",t.brandSafety.drg.toString()),t.brandSafety.hat&&googletag.pubads().setTargeting("hat",t.brandSafety.hat.toString()),t.brandSafety.off&&googletag.pubads().setTargeting("off",t.brandSafety.off.toString()),t.brandSafety.vio&&googletag.pubads().setTargeting("vio",t.brandSafety.vio.toString())),t.fr&&googletag.pubads().setTargeting("fr",t.fr.toString()),t.slots&&Object.keys(t.slots).forEach((function(e){iasAdunitData[e]=t.slots[e]}))}))})))}var p=function(){apstag.fetchBids({slots:i,timeout:t},(function(e){utils.logMessage("__ A9/Amazon : A9 bids are back: ",e),o=!0,d()}))};config.amazon.enabled?"function"==typeof window.__tcfapi?(utils.logMessage("__ A9/Amazon : CMP detected, executing fetchbids when consent is given"),window.__tcfapi("addEventListener",2,(function(e,t){return e.gdprApplies?t?"useractioncomplete"===e.eventStatus||"tcloaded"===e.eventStatus?(utils.logMessage("__ A9/Amazon : Received CMP Consent -> Request bids for : ",i),void p()):void utils.logMessage("__ A9/Amazon : Not requesting bids yet, CMP responded",e):(utils.logMessage("__ A9/Amazon : Failed loading CMP, Request bids for : ",i),void p()):(utils.logMessage("__ A9/Amazon : Received CMP Response with gdprApplies false -> Request bids for : ",i),void p())}))):(utils.logMessage("__ A9/Amazon : Request bids for : ",i),p()):o=!0,asc.requestBids({timeout:t,adUnits:e,bidsBackHandler:function(e){a=!0,d()}})}))}asc.processAdsOnPage=processAdsOnPage,asc.renderAds=processAdsOnPage,"fe"==config.code&&(GAEvent("HeaderBidding","WrapperLoaded",device.toString(),1),googletag.cmd.push((function(){googletag.pubads().addEventListener("slotRenderEnded",(function(e){GAEvent(0==e.slot.rit?"AdDisplayed":"AdRefreshed",e.slot.getAdUnitPath(),device.toString(),1)}))})));var lastUserInteractionTimestamp=Date.now(),lastUserNeverInteracted=!1;function updateLastUserInteraction(e){utils.logMessage("__ Last User Interaction : Updated last user interaction by interaction:",e,(Date.now()-lastUserInteractionTimestamp)/1e3+" seconds since last interaction"),lastUserInteractionTimestamp=Date.now(),lastUserNeverInteracted=!0}function getLastUserInteraction(){return Date.now()-lastUserInteractionTimestamp}setEventListener(window,"click",(function(){updateLastUserInteraction("click")})),setEventListener(window,"resize",(function(){updateLastUserInteraction("resize")})),setEventListener(window,"touchend",(function(){updateLastUserInteraction("touchend")})),setEventListener(window,"touchmove",(function(){updateLastUserInteraction("touchmove")}));var userTriggeredUserSyncs=!1;function triggerUserSyncs(){userTriggeredUserSyncs||(userTriggeredUserSyncs=!0,asc.cmd.push((function(){asc.setConfig({userSync:{enableOverride:!0}}),setTimeout((function(){utils.logMessage("__ UserSync : Triggered user syncs by User Interaction: Scroll"),asc.triggerUserSyncs(),"function"==typeof asc.triggerUserSyncsS2S?(utils.logMessage("__ UserSync : Triggered user syncs for S2S by User Interaction: Scroll"),asc.triggerUserSyncsS2S()):utils.logMessage("__ UserSync : CANNOT Triggered user syncs for S2S by User Interaction: Scroll")}),1e3)})))}function checkElIsInView(e){var t=detectHeight("window"),r=e.getBoundingClientRect(),n=config.lazyLoading.preViewLenght+t;return config.lazyLoading.preViewPorts&&(n=parseInt(t*parseFloat(config.lazyLoading.preViewPorts))),n-r.top>=0&&r.bottom>=0?(utils.logMessage("__ LazyLoading : Element is in view, using Pre-ViewLenght:",n,r),!0):(utils.logMessage("__ LazyLoading : Element is NOT in view, using Pre-ViewLenght:",n,r),!1)}var isScrollTimeout=!1,isScrollFirst=!0;function onScroll(){if(!isScrollTimeout){isScrollTimeout=!0,userTriggeredUserSyncs||isScrollFirst||triggerUserSyncs(),isScrollFirst||updateLastUserInteraction("scroll"),isScrollFirst&&(isScrollFirst=!1);var e=document.querySelectorAll('[data-status="lazyLoaded"]');e=[].slice.call(e);var t=!1;e.forEach((function(e){checkElIsInView(e)&&(utils.logMessage("__ LazyLoading : LazyLoaded adunit close to viewport",e.dataset.aaAdunit),e.dataset.status="processing",e.dataset.aaLazyLoaded="false",t=!0)})),t&&processAdsOnPage(),setTimeout((function(){isScrollTimeout=!1}),config.lazyLoading.scrollEventDelay)}}setEventListener(window,"scroll",onScroll);var refreshQue={waitDelay:1e3+TIMEOUT,que:[],push:function(e,t){utils.logMessage("__ Refresh : Refresh added to queue",t),refreshQue.que.push({time:Date.now()+(1e3*t-refreshQue.waitDelay),fnc:e,called:!1}),setTimeout(refreshQue.run,1e3*t-refreshQue.waitDelay)},run:function(){if(!config.refresh.pauseOutOfFocus||isTabInFocus){utils.logMessage("__ Refresh : Run refreshes from queue");var e=!1;refreshQue.que=refreshQue.que.filter((function(t){if(t.called)return!1;if(t.time<=Date.now()+refreshQue.waitDelay){t.time>=Date.now()&&utils.logMessage("__ Refresh : Run refreshe now, with "+(Date.now()+refreshQue.waitDelay-t.time)/1e3+" seconds sooner"),t.called=!0;try{t.fnc()}catch(e){utils.logError("__ Refresh : Cannot execute:",t)}return e=!0,!1}return utils.logMessage("__ Refresh : Skipping refresh, it will be executed in "+(t.time-Date.now()-refreshQue.waitDelay)/1e3+" seconds"),!0})),e?(utils.logMessage("__ Refresh : Run process ads after queue"),processAdsOnPage()):utils.logMessage("__ Refresh : Nothing in the queue that needs processing of ads")}else utils.logMessage("__ Refresh : Tab not in focus, no refresh!")}},isTabInFocus=!0,tabInactiveTimeStamp=Date.now(),tabInactiveTime=0;function makeAdHesion(e,t,r){void 0===r&&(r={closeButton:"true",position:"footer",bottomPosition:"0",topPosition:"0"}),void 0===r.closeButton&&(r.closeButton="true"),void 0===r.position&&(r.position="footer"),void 0===r.bottomPosition&&(r.bottomPosition="0"),void 0===r.topPosition&&(r.topPosition="0"),void 0===r.autoClose&&(r.autoClose="0"),r.autoClose=parseInt(r.autoClose),utils.logMessage("__ RichMediaFormat : Making element adhesion",e,t,r);var n=detectWidth("window"),i=t[0],a=t[1],o=e.id;if(e.style.marginLeft="0",e.style.paddingLeft="0",e.style.width=i+"px",e.style.height=a+"px",e.style.position="fixed",e.style.left=(n-i)/2+"px",e.style.zIndex="2147483640","header"==r.position?e.style.top=r.topPosition:e.style.bottom=r.bottomPosition,e.style.display="","true"==r.closeButton){var s=window.document.createElement("a");s.innerHTML="X",s.onclick=function(){e.style.display="none",e.children[1].style.display="none",e.children[1].innerHTML="",utils.logMessage("__ RichMediaFormat : Closing adHesion adunit ",o),r.closePermanent&&"true"==r.closePermanent&&(utils.logMessage("__ RichMediaFormat : Closing permanent, destroying adunit"),destroy([e]))},s.border="0",s.style.cssText="position:absolute; right:-1px; top:-8px; color:#fff; cursor: pointer; text-decoration:none;text-shadow:0 0 3px #000, 0 0 3px #000, 0 0 3px #000, 0 0 3px #000; font-size:14px; padding:4px; display:block;z-index:2147483646;",e.appendChild(s)}r.autoClose>0&&setTimeout((function(){e.style.display="none",e.children[1].style.display="none",e.children[1].innerHTML="",utils.logMessage("__ RichMediaFormat : Auto-Closing adHesion adunit ",o)}),1e3*r.autoClose)}function makeSticky(e,t){void 0===t&&(t={closeButton:"true"}),void 0===t.closeButton&&(t.closeButton="true"),utils.logMessage("__ RichMediaFormat : Making element sticky",e,t);var r,n=e.id;if(e.style.marginLeft="0",e.style.paddingLeft="0",e.style.cssText=(r="z-index:2147483640;position:fixed;",void 0!==t.top&&(r=r+"top:"+t.top+"px;"),void 0!==t.bottom&&(r=r+"bottom:"+t.bottom+"px;"),void 0!==t.left&&(r=r+"left:"+t.left+"px;"),
void 0!==t.right&&(r=r+"right:"+t.right+"px;"),e&&e.style.cssText?e.style.cssText+r:r),"true"==t.closeButton){var i=window.document.createElement("a");i.innerHTML="X",i.onclick=function(){e.style.display="none",e.children[1].style.display="none",e.children[1].innerHTML="",utils.logMessage("__ RichMediaFormat : Closing Sticky adunit ",n),t.closePermanent&&"true"==t.closePermanent&&(utils.logMessage("__ RichMediaFormat : Closing permanent, destroying adunit"),destroy([e]))},i.border="0",i.style.cssText="position:absolute; right:-1px; top:-2px; color:#fff; cursor: pointer; text-decoration:none;text-shadow:0 0 3px #000, 0 0 3px #000, 0 0 3px #000, 0 0 3px #000; font-size:14px; padding:4px; display:block;z-index:2147483646;",e.appendChild(i)}}function makePeel(e,t){void 0===t&&(t={closeButton:"true",top:"0",right:"0"}),void 0===t.closeButton&&(t.closeButton="true"),utils.logMessage("__ RichMediaFormat : Making element peel",e,t);var r=e.id,n=".peelexpand{-webkit-clip-path: circle(100%) !important;clip-path: circle(100%) !important;}",i=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");if(i.appendChild(a),a.type="text/css",a.styleSheet?a.styleSheet.cssText=n:a.appendChild(document.createTextNode(n)),utils.logMessage("__ RichMediaFormat : Peel Injected Styles"),e.style.marginLeft="0",e.style.paddingLeft="0",e.style.cssText=(function(){var r="top-right";void 0!==t.top&&void 0!==t.left&&(r="top-left"),void 0!==t.bottom&&void 0!==t.right&&(r="bottom-right"),void 0!==t.bottom&&void 0!==t.left&&(r="bottom-left");var n="circle(227px at 320px 0%);";"top-left"==r&&(n="circle(260px at 40px -10%)"),"bottom-right"==r&&(n="circle(227px at 320px 90%)"),"bottom-left"==r&&(n="circle(220px at 20px 90%)");var i="z-index:2147483640;position:fixed;";return void 0!==t.top&&(i=i+"top:"+t.top+"px;"),void 0!==t.bottom&&(i=i+"bottom:"+t.bottom+"px;"),void 0!==t.left&&(i=i+"left:"+t.left+"px;"),void 0!==t.right&&(i=i+"right:"+t.right+"px;"),i=(i=i+"clip-path: "+n+";")+"-webkit-clip-path: "+n+";",i+="-webkit-transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);",i+="-webkit-transition-delay: !important;",i+="-moz-transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94) !important;",i+="-o-transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94) !important;",i+="transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94) !important;  ",e&&e.style.cssText?e.style.cssText+i:i})(),e.addEventListener("mouseenter",(function(t){e.classList.add("peelexpand")})),e.addEventListener("mouseleave",(function(t){e.classList.remove("peelexpand")})),document.body.addEventListener("touchstart",(function(t){e.classList.add("peelexpand")})),"true"==t.closeButton){var o=window.document.createElement("a");o.innerHTML="X",o.onclick=function(){e.style.display="none",e.children[1].style.display="none",e.children[1].innerHTML="",utils.logMessage("__ RichMediaFormat : Closing Peel adunit ",r),t.closePermanent&&"true"==t.closePermanent&&(utils.logMessage("__ RichMediaFormat : Closing permanent, destroying adunit"),destroy([e]))},o.border="0",o.style.cssText="position:absolute; right:-2px; top:-5px; color:#fff; cursor: pointer; text-decoration:none;text-shadow:0 0 3px #000, 0 0 3px #000, 0 0 3px #000, 0 0 3px #000; font-size:14px; padding:4px; display:block;z-index:2147483646;",e.appendChild(o)}}!(function(){var e="hidden";function t(t){var r=!0,n=!1,i={focus:r,focusin:r,pageshow:r,blur:n,focusout:n,pagehide:n};t=t||window.event,(isTabInFocus=t.type in i?i[t.type]:!this[e])||(tabInactiveTime=0,tabInactiveTimeStamp=Date.now()),isTabInFocus&&(tabInactiveTime=Date.now()-tabInactiveTimeStamp,tabInactiveTimeStamp=0,updateLastUserInteraction("visibilitychange")),utils.logMessage("__ OnFocus : Window-Tab Focus changed to: ",isTabInFocus,tabInactiveTime),isTabInFocus&&refreshQue.run()}e in document?document.addEventListener("visibilitychange",t):(e="mozHidden")in document?document.addEventListener("mozvisibilitychange",t):(e="webkitHidden")in document?document.addEventListener("webkitvisibilitychange",t):(e="msHidden")in document?document.addEventListener("msvisibilitychange",t):"onfocusin"in document?document.onfocusin=document.onfocusout=t:window.onpageshow=window.onpagehide=window.onfocus=window.onblur=t,void 0!==document[e]&&t({type:document[e]?"blur":"focus"})})();var interstitial={wrapper:!1,counter:!1,cover:!1,header:!1,intbody:!1,creativeContainer:!1,adClose:!1,options:!1,adunit:!1,timeOpen:30,timeOpenShow:!0,timer:!1};function makeTopParallax(e,t,r){void 0===r&&(r={backgroundColor:"#eee"}),void 0===r.backgroundColor&&(r.backgroundColor="#eee"),utils.logMessage("__ RichMediaFormat : Making element TopParallax",e,t),t[0];var n=t[1],i=document.getElementById("c_r_"+e.id),a=document.getElementById("c_a_"+e.id),o=document.getElementById("c_f_"+e.id);i?a?o?(i.style.height=n+"px",i.style.position="relative",i.style.overflow="hidden",i.style.backgroundColor=r.backgroundColor,i.style.marginTop="0px",a.style.position="absolute",a.style.top="0",a.style.width="100%",a.style.height="100%",a.style.clip="rect(auto, auto, auto, auto)",o.style.position="fixed",o.style.top="0",o.style.width="100%",o.style.height="100vh",o.align="center",i.style.display=""):utils.logMessage("__ RichMediaFormat : Making element TopParallax Error: cannot find Fixed Container"):utils.logMessage("__ RichMediaFormat : Making element TopParallax Error: cannot find Absolute Container"):utils.logMessage("__ RichMediaFormat : Making element TopParallax Error: cannot find Relative Container")}function fastClickProtectionSet(e){var t=document.createElement("div");t.id=e.id+"_afc";var r=document.querySelector("div[id='"+e.id+"'] div[id*='ads_iframe']");r&&(r.appendChild(t),t.style&&t.style.position&&"absolute"==t.style.position||(t.style.cssText="\n                          color: #fff;\n                          width:100%;height:100%;\n                          position:absolute;\n                          background-color:#000;\n                          top:0;\n                          left:0;\n                          right:0;\n                          z-index: 2147483640;\n                          opacity: 0;\n                          overflow-y:hidden;\n                          overflow-x:hidden;\n                          margin:0 auto;"),"static"!=r.style.position&&""!=r.style.position||(r.style.position="relative"),utils.logMessage("__ FastClickProtection : Setting Fast Click Protection for: ",e.id),t.addEventListener("click",(function(){setTimeout((function(){t.parentNode.removeChild(t),utils.logMessage("__ FastClickProtection : Clearing Fast Click Protection for: ",e.id)}),500)})))}function fastClickProtectionClear(e){var t=document.getElementById(e.id+"_afc");t&&setTimeout((function(){t.parentNode.removeChild(t),utils.logMessage("__ FastClickProtection : Clearing Fast Click Protection for: ",e.id)}),3e3)}interstitial.init=function(){var e=internalAdunits.filter((function(e){return!(e.device.indexOf(device)<0||!e.richMediaFormat||!e.richMediaFormat.type||"interstitial"!=e.richMediaFormat.type)}));if(0==e.length)return utils.logMessage("__ RichMediaFormat : Checking for interstitial: none setup"),!1;e.length>1&&utils.logMessage("__ RichMediaFormat : Checking for interstitial: too many, taking the first"),interstitial.adunit=e[0],interstitial.options=interstitial.adunit.richMediaFormat.options,interstitial.timeOpen=parseInt(interstitial.options.timeOpen),interstitial.timeOpen<=0&&(interstitial.options.timeOpenShow=!1),utils.logMessage("__ RichMediaFormat : Interstitial Enabled:",interstitial.adunit);var t=getCookie("_asc_interstitialfreq");if(t||(t="0"),(t=parseInt(t))>=interstitial.options.maxDisplayPerSession)return utils.logMessage("__ RichMediaFormat : Interstitial Max Display Per Session HIT current freq:",t),!1;if(interstitial.options.pageviewDisplayStart>sesDepth)return utils.logMessage("__ RichMediaFormat : Interstitial Pageview Display Start HIT current pageview:",sesDepth),!1;if(Math.abs(sesDepth-interstitial.options.pageviewDisplayStart)%interstitial.options.pageviewDisplayEvery!=0)return utils.logMessage("__ RichMediaFormat : Interstitial Pageview Display EVERY "+interstitial.options.pageviewDisplayEvery+" HIT:",Math.abs(sesDepth-interstitial.options.pageviewDisplayStart)%interstitial.options.pageviewDisplayEvery),!1;var r=Math.floor(1e8*Math.random());interstitial.wrapper=document.createElement("div"),interstitial.wrapper.id="adInt_id_"+r,interstitial.wrapper.classList.add("ad-interstitial"),interstitial.wrapper.innerHTML='<div class="ad-interstitial-cover" id="adInt_cover_'+r+'"></div><div class="ad-interstitial-inner"><div class="ad-interstitial-header shadow-narrow" id="adInt_header_'+r+'"><div class="ad-col ad-col-25"><div class="ad-logo"></div></div><div class="ad-col ad-col-50"><div class="ad-message"><span class="bold">Advertisement </span><span'+(interstitial.options.timeOpenShow?"":' style="display:none;"')+'> <br>Page requested will appear in <span id="adInt_counter_'+r+'">'+interstitial.options.timeOpen+'</span> seconds</span></div></div><div class="ad-img-right ad-col ad-col-25"><div class="ad-close bold" id="adInt_adClose_'+r+'">CLOSE [X]</div></div></div><div class="ad-interstitial-body" id="adInt_body_'+r+'"><div class="ad-interstitial-creative-container" id="adInt_creative_'+r+'">\x3c!-- ADUNIT HERE --\x3e</div></div></div>',document.body.appendChild(interstitial.wrapper),utils.logMessage("__ RichMediaFormat : Interstitial Injected Wrapper"),interstitial.counter=document.getElementById("adInt_counter_"+r),interstitial.cover=document.getElementById("adInt_cover_"+r),interstitial.header=document.getElementById("adInt_header_"+r),interstitial.intbody=document.getElementById("adInt_body_"+r),interstitial.creativeContainer=document.getElementById("adInt_creative_"+r),interstitial.adClose=document.getElementById("adInt_adClose_"+r);var n="html.has-interstitial body{width:100%;height:100%;overflow:hidden;margin:0;text-align:left!important}html.has-interstitial embed,html.has-interstitial object,html.has-interstitial select{visibility:hidden;display:none}html.has-interstitial .ad-interstitial{display:block}html.has-interstitial .ad-interstitial embed,html.has-interstitial .ad-interstitial object,html.has-interstitial .ad-interstitial select{visibility:visible;display:block}.ad-interstitial{display:none;width:100%;height:100%;z-index:2147483646;color:#000;font-size:10px;font-family:arial,sans-serif;margin:0;padding:0;line-height:1;position:fixed;top:0;left:0;text-align:center}.ad-interstitial .shadow-narrow{box-shadow:0 0 8px 2px #111;-webkit-box-shadow:0 0 8px 2px #111;-moz-box-shadow:0 0 8px 2px #111;-o-box-shadow:0 0 8px 2px #111}.ad-interstitial .shadow-wide{box-shadow:0 0 15px 3px #111;-webkit-box-shadow:0 0 15px 3px #111;-moz-box-shadow:0 0 15px 3px #111;-o-box-shadow:0 0 15px 3px #111}.ad-interstitial .ad-interstitial-cover,.ad-interstitial .ad-interstitial-inner{width:100%;height:100%;position:absolute;top:0;left:0}.ad-interstitial .ad-interstitial-cover{background-color:#fff;opacity:1;z-index:999999998}.ad-interstitial .ad-interstitial-inner{z-index:999999999;position:absolute}.ad-interstitial .ad-interstitial-header{height:40px;background-color:#000;color:#fff;padding:3px 8px;position:relative;z-index:5}.ad-interstitial .ad-interstitial-header .ad-logo{background-position:left center;background-repeat:no-repeat;height:40px}.ad-interstitial .ad-interstitial-header .ad-message{text-align:center;height:40px;line-height:20px}.ad-interstitial .ad-interstitial-header .ad-close{line-height:40px;cursor:pointer;text-align:right;float:right;display:block;height:40px}.ad-interstitial .ad-interstitial-body{position:relative;z-index:1}.ad-interstitial .ad-interstitial-body embed,.ad-interstitial .ad-interstitial-body iframe,.ad-interstitial .ad-interstitial-body img,.ad-interstitial .ad-interstitial-body object{margin:0 auto;border:0;outline:0;display:block}.ad-interstitial .ad-interstitial-body .ad-interstitial-creative-container{position:relative;margin:0 auto;display:inline-block}.ad-interstitial .ad-interstitial-body .ad-interstitial-creative-container a{display:inline-block}.ad-interstitial .ad-interstitial-body .ad-interstitial-click-overlay{background-color:transparent;z-index:9999999999;top:0;left:0;position:absolute;display:block;border:0;text-decoration:none}.ad-interstitial .ad-col{float:left;height:40px;overflow:hidden}.ad-interstitial .ad-col-25{width:25%}.ad-interstitial .ad-col-50{width:50%}.ad-interstitial .hidden{display:none}.ad-interstitial .bold{font-weight:700;font-size:12px}",i=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");i.appendChild(a),a.type="text/css",a.styleSheet?a.styleSheet.cssText=n:a.appendChild(document.createTextNode(n)),utils.logMessage("__ RichMediaFormat : Interstitial Injected Styles"),interstitial.adClose.addEventListener("click",(function(){interstitial.close()}));var o=document.createElement("div");o.dataset.aaad="true",o.dataset.aaAdunit=interstitial.adunit.adunit,o.dataset.aaInterstitial="true",interstitial.creativeContainer.appendChild(o),utils.logMessage("__ RichMediaFormat : Interstitial Injected Adunit")},interstitial.render=function(e,t){if(interstitial.adunit){var r=(window.screen.height-interstitial.header.offsetHeight-2*t)/2;interstitial.creativeContainer.style.top=(r>0?r:0)+"px",interstitial.creativeContainer.style.width=e,interstitial.cover.style.backgroundColor=interstitial.options.backgroundColor,interstitial.cover.style.opacity=interstitial.options.opacity,document.documentElement.classList.add("has-interstitial"),interstitial.timeOpen>0&&interstitial.startTimer();var n=getCookie("_asc_interstitialfreq");n||(n="0"),setCookie("_asc_interstitialfreq",n=(parseInt(n)+1).toString(),1)}},interstitial.startTimer=function(){interstitial.timer=setTimeout(interstitial.updateTimer,1e3)},interstitial.clearTimer=function(){clearTimeout(interstitial.timer)},interstitial.updateTimer=function(){interstitial.timeOpen--,interstitial.counter.innerHTML=interstitial.timeOpen,interstitial.timeOpen?interstitial.startTimer():interstitial.close()},interstitial.close=function(){interstitial.clearTimer(),document.documentElement.classList.remove("has-interstitial"),destroyAdunits([interstitial.adunit.adunit]),document.body.removeChild(interstitial.wrapper),utils.logMessage("__ RichMediaFormat : Interstitial Closed")},googletag.cmd.push((function(){googletag.pubads().addEventListener("slotRenderEnded",(function(e){utils.logMessage("__ GAM : Adunit rendered: ",e.slot.getSlotElementId(),e.slot.getTargetingMap());var t=document.getElementById(e.slot.getSlotElementId());if(t){var r=e.slot.getTargetingMap();if(t.dataset.aaad){if(e.companyIds&&e.companyIds[0]&&(e.advertiserId=e.companyIds[0]),e.isEmpty){if(utils.logMessage("__ Ads : Adunit is empty: ",e.slot.getSlotElementId()),e.slot.lad=null,t.emptyCount=t.emptyCount+1,t.emptyConsecutiveCount=t.emptyConsecutiveCount+1,config.dfp.emtpyCreativeFallback&&r[config.targetingPrefix+"_pb"]&&r[config.targetingPrefix+"_pb"][0]){var n=safeJSONparse(t.dataset.aaRichMediaFormat);"object"==_typeof(n)&&n.type?utils.logMessage("__ Ads : Adunit is empty with bid and emtpyCreativeFallback active, BUT is RichmediaFormat",e.slot.getSlotElementId(),r):(utils.logMessage("__ Ads : Adunit is empty but received bid, emtpyCreativeFallback active, rendering slot without DFP:",e.slot.getSlotElementId(),r),insertCreativeNoDFP(t,r))}}else{var i=safeJSONparse(t.dataset.aaRichMediaFormat);if("object"==_typeof(i)&&i.type){if(utils.logMessage("__ RichMediaFormat : Adunit is set as Rich Media Format ",t.dataset.aaAdunit,i),"adhesion"==i.type){var a=e.size;if(utils.logMessage("__ RichMediaFormat : Make Adhesion size is: ",a),1==a[0]&&1==a[1])if(r[config.targetingPrefix+"_size"]&&r[config.targetingPrefix+"_size"][0]){var o=r[config.targetingPrefix+"_size"][0].split("x");o[0]&&o[1]?(a=[o[0],o[1]],utils.logMessage("__ RichMediaFormat : Make Adhesion Prebid creative size is: ",a)):utils.logMessage("__ RichMediaFormat : Cannot detect correct prebid size ",o)}else utils.logMessage("__ RichMediaFormat : No Prebid targeting set");1==a[0]&&1==a[1]?utils.logMessage("__ RichMediaFormat : Error Making adheasion: Cannot detect the size of the adunit ",t.dataset.aaAdunit,t.id):makeAdHesion(t,a,i.options)}if("topparallax"==i.type.toLowerCase()){if(a=e.size,utils.logMessage("__ RichMediaFormat : Make TopParallax size is: ",a),1==a[0]&&1==a[1])if(r[config.targetingPrefix+"_size"]&&r[config.targetingPrefix+"_size"][0]){var s=r[config.targetingPrefix+"_size"][0].split("x");s[0]&&s[1]?(a=[s[0],s[1]],utils.logMessage("__ RichMediaFormat : Make TopParallax Prebid creative size is: ",a)):utils.logMessage("__ RichMediaFormat : Cannot detect correct prebid size ",s)}else utils.logMessage("__ RichMediaFormat : No Prebid targeting set");1==a[0]&&1==a[1]?utils.logMessage("__ RichMediaFormat : Error Making TopParallax: Cannot detect the size of the adunit ",t.dataset.aaAdunit,t.id):makeTopParallax(t,a,i.options)}if("sticky"==i.type&&makeSticky(t,i.options),"peel"==i.type&&makePeel(t,i.options),"interstitial"==i.type){if(a=e.size,utils.logMessage("__ RichMediaFormat : Render Interstitial size is: ",a),1==a[0]&&1==a[1])if(r[config.targetingPrefix+"_size"]&&r[config.targetingPrefix+"_size"][0]){var d=r[config.targetingPrefix+"_size"][0].split("x");d[0]&&d[1]?(a=[d[0],d[1]],utils.logMessage("__ RichMediaFormat : Render Interstitial Prebid creative size is: ",a)):utils.logMessage("__ RichMediaFormat : Cannot detect correct prebid size ",d)}else utils.logMessage("__ RichMediaFormat : No Prebid targeting set");1==a[0]&&1==a[1]?utils.logMessage("__ RichMediaFormat : Error Render Interstitial: Cannot detect the size of the adunit ",t.dataset.aaAdunit,t.id):interstitial.render(a[0],a[1])}}r[config.targetingPrefix+"_pb"]&&r[config.targetingPrefix+"_pb"][0]&&(t.estCPM=parseFloat(r[config.targetingPrefix+"_pb"][0])),utils.logMessage("__ Ads : Estimated CPM:",t.estCPM),e.slot.dah||(e.slot.dah=[]),e.slot.dah.indexOf(e.advertiserId)<0&&e.slot.dah.push(e.advertiserId),e.slot.lad=e.advertiserId;var c=!1;try{var u=t.childNodes;(u=[].slice.call(u)).forEach((function(e){if(e.id&&e.id.indexOf("__container__")>=0){var t=e.childNodes;(t=[].slice.call(t)).forEach((function(e){e.tagName&&"IFRAME"==e.tagName&&e.id&&e.id.indexOf("google_ads_iframe_")>=0&&e.contentWindow&&e.contentWindow.confirmedClickVisible&&(c=!0)}))}})),e.slot.ccp=c,utils.logMessage("__ ConfirmedClickPenalty : Check: "+c+" for: ",e.slot.getSlotElementId());var l=window.sessionStorage.getItem("asc_ccp");l&&"true"==l.toString()||window.sessionStorage.setItem("asc_ccp",c.toString())}catch(e){utils.logWarn("__ ConfirmedClickPenalty : Cannot access content of ad",e)}config.dfp&&config.dfp.fastClickProtection&&config.dfp.fastClickProtection.indexOf(device)>=0&&fastClickProtectionSet(t),t.emptyConsecutiveCount=0}var p=parseInt(t.dataset.aaRefreshTimed);if(NaN==p&&(p=0),config.refresh.accelerate&&config.refresh.accelerate.length>0&&p>0){var f=0;config.refresh.accelerate.forEach((function(e){parseFloat(t.estCPM)>parseFloat(e.estCPM)&&(f=parseInt(e.seconds))})),(p-=f)<=0&&(p=0),utils.logMessage("__ Refresh : Accelerate refresh for :"+t.dataset.aaAdunit+" with: "+f+" for "+p)}p>0&&(config.refresh.maxLimit&&e.slot.rit>=config.refresh.maxLimit?utils.logMessage("__ Refresh : Refresh Limit HIT :"+t.dataset.aaAdunit+" with count: "+e.slot.rit):config.refresh.maxEmpty&&t.emptyCount>=config.refresh.maxEmpty?utils.logMessage("__ Refresh : Refresh Empty Limit HIT :"+t.dataset.aaAdunit+" with count: "+t.emptyCount):config.refresh.maxConsecutiveEmpty&&t.emptyConsecutiveCount>=config.refresh.maxConsecutiveEmpty?utils.logMessage("__ Refresh : Refresh Consecutive Empty Limit HIT :"+t.dataset.aaAdunit+" with count: "+t.emptyConsecutiveCount):(t.dataset.aaRefreshStopAdvertisers?safeJSONparse(t.dataset.aaRefreshStopAdvertisers):[]).indexOf(e.advertiserId)>=0||config.refresh.stopAdvertisers.indexOf(e.advertiserId)>=0?utils.logMessage("__ Refresh : STOP refreshing adunit "+t.dataset.aaAdunit+" HIT advertiser "+e.advertiserId):(config.refresh.forceRefreshRateForAdvertiser&&config.refresh.forceRefreshRateForAdvertiser.length>0&&config.refresh.forceRefreshRateForAdvertiser.forEach((function(t){parseInt(t.advertiserId)==e.advertiserId&&(utils.logMessage("__ Refresh : Force Refresh Rate Change, from "+p+" to "+t.refreshRate+" seconds"),p=parseInt(t.refreshRate))})),utils.logMessage("__ Refresh : TIMED Refreshing adunit "+t.dataset.aaAdunit+" in "+p+" seconds"),refreshQue.push((function(){t.dataset.status="processing"}),p)))}else utils.logWarn("__ Ads : Not a wapper adunit, skipping! ",e.slot.getResponseInformation())}else utils.logWarn("__ Ads : Cannot find element in page, skipping! ",e.slot.getSlotElementId())}))})),googletag.cmd.push((function(){googletag.pubads().addEventListener("impressionViewable",(function(e){e=_extends({},e,e.slot.getResponseInformation()),utils.logMessage("__ GAM : Adunit is now viewable: ",e.slot.getSlotElementId());var t=document.getElementById(e.slot.getSlotElementId());if(t)if(t.dataset.aaad){e.companyIds&&e.companyIds[0]&&(e.advertiserId=e.companyIds[0]);var r=parseInt(t.dataset.aaRefreshViewable);if(NaN==r&&(r=0),config.refresh.accelerate&&config.refresh.accelerate.length>0&&r>0){var n=0;config.refresh.accelerate.forEach((function(e){parseFloat(t.estCPM)>parseFloat(e.estCPM)&&(n=parseInt(e.seconds))})),(r-=n)<=0&&(r=0),utils.logMessage("__ Refresh : Accelerate refresh for :"+t.dataset.aaAdunit+" with: "+n+" for "+r)}r>0&&(config.refresh.maxLimit&&e.slot.rit>=config.refresh.maxLimit?utils.logMessage("__ Refresh : Refresh Limit HIT :"+t.dataset.aaAdunit+" with count: "+e.slot.rit):(t.dataset.aaRefreshStopAdvertisers?safeJSONparse(t.dataset.aaRefreshStopAdvertisers):[]).indexOf(e.advertiserId)>=0||config.refresh.stopAdvertisers.indexOf(e.advertiserId)>=0?utils.logMessage("__ Refresh : STOP refreshing adunit "+t.dataset.aaAdunit+" HIT advertiser "+e.advertiserId):(config.refresh.forceRefreshRateForAdvertiser&&config.refresh.forceRefreshRateForAdvertiser.length>0&&config.refresh.forceRefreshRateForAdvertiser.forEach((function(t){parseInt(t.advertiserId)==e.advertiserId&&(utils.logMessage("__ Refresh : Force Refresh Rate Change, from "+r+" to "+t.refreshRate+" seconds"),r=parseInt(t.refreshRate))})),utils.logMessage("__ Refresh : Viewable Refreshing adunit "+t.dataset.aaAdunit+" in "+r+" seconds"),refreshQue.push((function(){t.dataset.status="processing"}),r)))}else utils.logWarn("__ Ads : Not a wapper adunit, skipping! ",e.slot.getResponseInformation());else utils.logWarn("__ Ads : Cannot find element in page, skipping! ",e.slot.getSlotElementId())}))}));var bcName="asc_bc_";function bcSetBid(e){if(!e.adId)return!1;if(!e.ad)return!1;if(!e.cpm)return!1;if(e.cpm<config.prebid.bidCaching.floor)return utils.logMessage("__ BC : Bid under the floor -> ",e.cpm),!1;if(e.ad.length>config.prebid.bidCaching.maxLength)return utils.logMessage("__ BC : Bid string too big -> ",e.ad.length),!1;var t=document.getElementById(e.adUnitCode);if(!t)return utils.logMessage("__ BC : Cannot find element for bid "),!1;if(!t.dataset.aaad)return utils.logMessage("__ BC : Bid is not for our wrapper"),!1;var r=t.dataset.aaAdunit;if(!r)return utils.logMessage("__ BC : Bid doesnt`t have an adunit"),!1;e.adunit=r;try{return window.sessionStorage.setItem(bcName+e.adId,JSON.stringify(e)),!0}catch(e){return utils.logWarn("__ BC : Error setting BC bid: ",e),!1}}function bcRemoveBid(e){try{return window.sessionStorage.removeItem(bcName+e),!0}catch(e){return utils.logWarn("__ BC : Error removing BC bid: ",e),!1}}function bcGetBids(){var e=Object.keys(window.sessionStorage),t=[],r=asc.getAuctionBidResponses().map((function(e){return e.adId}));return e.forEach((function(e){if(!(e.indexOf(bcName)<0))try{var n=JSON.parse(window.sessionStorage.getItem(e));if(n.responseTimestamp+1e3*n.ttl<=utils.timestamp())return utils.logMessage("__ BC :  Bid expired, removing -> ",n),bcRemoveBid(n.adId),!1;if(r.indexOf(n.adId)>=0)return!1;t.push(n)}catch(e){return utils.logWarn("__ BC : Error getting BC bid: ",e),!1}})),t}function bcPushStoredBid(e,t){var r=t.auctionId,n=utils.getUniqueIdentifierStr(),i=utils.getUniqueIdentifierStr();if(!e.adunit)return!1;var a=document.querySelectorAll('[data-aa-adunit="'+e.adunit+'"]');a=(a=[].slice.call(a)).filter((function(t){return safeJSONparse(t.dataset.aaSizes).map((function(e){return e[0]+"x"+e[1]})).indexOf(e.width+"x"+e.height)>=0}));var o=!1;if(a.forEach((function(e){o||(o=e),o.getBoundingClientRect().top<0?(e.getBoundingClientRect().top>=0||Math.abs(e.getBoundingClientRect().top)<Math.abs(o.getBoundingClientRect().top))&&(o=e):e.getBoundingClientRect().top>=0&&Math.abs(e.getBoundingClientRect().top)<Math.abs(o.getBoundingClientRect().top)&&(o=e)})),!o)return!1;var s={};s.auctionId=r,s.auctionStart=utils.timestamp(),s.bidderCode=e.bidderCode,s.bidderRequestId=n,s.src="client",s.timeout=TIMEOUT,s.bids=[];var d={};return d.adUnitCode=o.id,d.auctionId=r,d.bidId=i,d.bid_id=i,d.bidRequestsCount=1,d.bidder=e.bidderCode,d.bidderRequestId=n,d.bidderRequestsCount=1,d.bidderWinsCount=0,s.bids.push(d),t.bidderRequests.push(s),e.adUnitCode=o.id,e.requestId=i,e.auctionId=r,e.cacheStatus="storage",t.bidsReceived.push(e),utils.logMessage("__ BC : Pushed cached bid -> ",e,o.id),!0}function setUidsTargeting(){var e=0,t=Object.keys(asc.getUserIds());e=t.length,googletag.cmd.push((function(){e>0&&googletag.pubads().setTargeting("uids",t)})),googletag.cmd.push((function(){googletag.pubads().setTargeting("uids_c",e.toString())}))}function refresh(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null==e&&(e=document.querySelectorAll('[data-aaad="true"]'),e=[].slice.call(e)),utils.logMessage("__ API : Calling on demand Refresh for:",e),e.forEach((function(e){e.dataset.status="processing"})),setTimeout(processAdsOnPage,100)}function refreshIds(e){var t=[];e.forEach((function(e){var r=document.getElementById(e);r&&t.push(r)})),refresh(t)}function refreshAdunits(e){var t=[];e.forEach((function(e){var r=document.querySelectorAll('[data-aa-adunit="'+e+'"]');(r=[].slice.call(r)).length>=0&&r.forEach((function(e){e&&t.push(e)}))})),refresh(t)}function destroy(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null==e&&(e=document.querySelectorAll('[data-aaad="true"]'),e=[].slice.call(e)),utils.logMessage("__ API : Calling on demand destroy for:",e),e.forEach((function(e){googletag.cmd.push((function(){var t=googletag.pubads().getSlots().filter((function(t){return t.getSlotElementId()==e.id}));t.length&&t.length>0&&googletag.destroySlots(t)})),e.innerHTML="",e.dataset.aaad="false"}))}function destroyIds(e){var t=[];e.forEach((function(e){var r=document.getElementById(e);r&&t.push(r)})),destroy(t)}function destroyAdunits(e){var t=[];e.forEach((function(e){var r=document.querySelectorAll('[data-aa-adunit="'+e+'"]');(r=[].slice.call(r)).length>=0&&r.forEach((function(e){e&&t.push(e)}))})),destroy(t)}function setPrivacySettings(e){"object"!=_typeof(e)&&utils.logError("__ setPrivacySettings : parameter is not correct ");var t=!1;e.childDirectedTreatment&&!0===e.childDirectedTreatment&&(t=!0),asc.setConfig({coppa:t}),googletag.cmd.push((function(){googletag.pubads().setPrivacySettings(e)})),utils.logMessage("__ setPrivacySettings : setting parameter: ",e)}asc.cmd.push((function(){asc.onEvent("requestBids",(function(e){utils.logMessage("__ Timing : Requesting bids, time:",Date.now()-wrapperLoadTime)})),asc.onEvent("beforeRequestBids",(function(e){setUidsTargeting()})),asc.onEvent("auctionInit",(function(e){var t=Date.now()-wrapperLoadTime;utils.logMessage("__ Timing : Initiating Auction, time:",t),config.targeting&&config.targeting.speed&&googletag.cmd.push((function(){if(waaiTargetingSent){var e=googletag.pubads().getTargeting("waai");e.length&&e.length>0&&googletag.pubads().clearTargeting("waai")}else t>1e4&&(t=1e4),googletag.pubads().setTargeting("waai",(100*Math.round(t/100)).toString()),waaiTargetingSent=!0})),googletag.cmd.push((function(){var e=googletag.pubads().getTargeting("wabt");e.length&&e.length>0&&googletag.pubads().clearTargeting("wabt")}))})),asc.onEvent("auctionEnd",(function(e){if(utils.logMessage("__ Timing : Auction END, time:",Date.now()-wrapperLoadTime),config.prebid.bidCaching){var t=bcGetBids();utils.logMessage("__ BC : get bids -> ",t),t.forEach((function(t){bcPushStoredBid(t,e)}))}var r=e.auctionEnd-e.timestamp;r>1e4&&(r=1e4),config.targeting&&config.targeting.speed&&googletag.cmd.push((function(){googletag.pubads().setTargeting("waae",(100*Math.round(r/100)).toString())}))})),asc.onEvent("bidResponse",(function(e){if("native"==e.mediaType&&e.native){var t=getSizeForNative(document.getElementById(e.adUnitCode));"1"!=t[0]&&"1"!=t[1]&&(e.ad='\n                  <script src="https://cdn.jsdelivr.net/npm/prebid-universal-creative@latest/dist/native-render.js"><\/script>\n                  <scr'+'ipt>\n                      var pbNativeTagData = {};\n                      pbNativeTagData.pubUrl = "'.concat(window.document.location.href,'";\n                      pbNativeTagData.adId = "').concat(e.adId,'";\n                      pbNativeTagData.requestAllAssets = true;\n                      window.pbNativeTag.renderNativeAd(pbNativeTagData);\n                  </scr')+"ipt>\n        ",e.width=parseInt(t[0]),e.height=parseInt(t[1]),e.size=e.width+"x"+e.height,e.adserverTargeting&&e.adserverTargeting[config.targetingPrefix+"_size"]&&"0x0"==e.adserverTargeting[config.targetingPrefix+"_size"]&&(e.adserverTargeting[config.targetingPrefix+"_size"]=e.width+"x"+e.height),utils.logMessage("__ Native : Bid is Native, added renderer -> ",e))}config.prebid.bidCaching&&(bcSetBid(e)?utils.logMessage("__ BC : Bid cached -> ",e):utils.logMessage("__ BC : Cannot Cache bid -> ",e))})),asc.onEvent("bidWon",(function(e){
config.prebid.bidCaching&&(utils.logMessage("__ BC : Removed bid from caching -> ",e),bcRemoveBid(e.adId))})),asc.onEvent("bidTimeout",(function(e){utils.logMessage("__ Timing : Bid Timeout, time:",Date.now()-wrapperLoadTime,e);var t=[];e.forEach((function(e){if("s2s"==e.src)return!1;t.indexOf(e.bidder)<0&&t.push(e.bidder)})),config.targeting&&config.targeting.speed&&googletag.cmd.push((function(){googletag.pubads().setTargeting("wabt",t)}))})),asc.onEvent("setTargeting",(function(e){utils.logMessage("__ Timing : Set Targeting, time:",Date.now()-wrapperLoadTime);var t=[];asc.getAuctionBidsRequested().forEach((function(e){if("s2s"==e.src)return!1;t.indexOf(e.bidderCode)<0&&t.push(e.bidderCode)})),asc.getAuctionBidResponses().forEach((function(e){if("s2s"==e.src)return!1;var r=t.indexOf(e.bidderCode);r>=0&&t.splice(r,1)})),asc.getAuctionNoBids().forEach((function(e){if("s2s"==e.src)return!1;var r=t.indexOf(e.bidder);r>=0&&t.splice(r,1)})),t.length>0&&utils.logInfo("__ Ads : Real Timeout Bidders: ",t),config.targeting&&config.targeting.speed&&googletag.cmd.push((function(){var e=googletag.pubads().getTargeting("wabtr");e.length&&e.length>0&&googletag.pubads().clearTargeting("wabtr"),t.length>0&&googletag.pubads().setTargeting("wabtr",t)}))})),asc.onEvent("adRenderFailed",(function(e){utils.logError("__ Ads : Ad Render Failed:",e,Date.now()-wrapperLoadTime)})),asc.onEvent("auctionDebug",(function(e){if(utils.logMessage("__ Ads : JS Error:",e,Date.now()-wrapperLoadTime),e.type&&e.arguments&&e.arguments[0]){var t=e.arguments[0];if((t=t.toString()).indexOf("Server call for ")>=0&&t.indexOf(" failed:  0. Continuing without bids.")>=0){var r=t.replace("Server call for ","").replace(" failed:  0. Continuing without bids.","");storeSetDisableBidders(r),utils.logInfo("__ Ads : Bidder added to disable bidder list -"+r+"-")}}}))})),asc.refresh=refresh,asc.refreshIds=refreshIds,asc.refreshAdunits=refreshAdunits,asc.destroy=destroy,asc.destroyIds=destroyIds,asc.destroyAdunits=destroyAdunits,asc.setPrivacySettings=setPrivacySettings;var proxyConnection=!1,consoleEnabled=getParameterByName("ascConsole")||getParameterByName("magma");function initProxy(e){var t=document.createElement("iframe");function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"no";t.width=e,t.height=r,t.frameBorder=n,t.scrolling=i}function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";t.style.cssText=e}function i(e,r){if(!e)return!1;t.style[e]=r}t.src=e,document.body.appendChild(t);var a=460,o=600;detectWidth()<768&&(a=detectWidth("window"),o=30),r(a,o),n(),i("position","fixed"),i("top","-1000px"),i("right","-1000px"),i("zIndex","2147483646"),i("display","none"),(proxyConnection=window.Penpal.connectToChild({iframe:t,methods:{iframeMorph:r,iframeCssText:n,iframeStyle:i,iframeExpand:function(){r(a,o=600)},iframeCollapse:function(){r(a,o=30)},iframeDestroy:function(){utils.logMessage("__ Console : Destroying console"),t.remove();var e=document.querySelectorAll("[data-adunit-overlay]");(e=[].slice.call(e)).forEach((function(e){e.remove()})),eraseCookie("_asc_console"),consoleEnabled=null},getWrapperConfig:function(){return _getWrapperConfig()},getWrapperInternalAdunits:function(){return _getWrapperInternalAdunits()}},debug:!1})).promise.then((function(e){detectWidth("window")<768&&e.isSmallScreen().then((function(){}))}))}function sendProxy(e,t,r){return null!==consoleEnabled&&(proxyConnection?(proxyConnection.promise.then((function(n){n[e](t,r).then((function(n){return utils.logMessage("__ Console : sendProxy",e,t,r)}))})),!0):(utils.logInfo("__ Console : sendProxy FAILED, retrying in 1 sec",e,t,r),setTimeout((function(){sendProxy(e,t,r)}),1e3),!1))}function drawAdunitOverlay(e){if(null!==consoleEnabled||"true"===getParameterByName("timeoverlay")){var t=document.getElementById(e.id+"_adunitoverlay");t||((t=document.createElement("div")).id=e.id+"_adunitoverlay",t.dataset.adunitOverlay=!0,e.appendChild(t)),t.style&&t.style.position&&"absolute"==t.style.position||(t.style.cssText="\n                          color: #000;\n                          width:1px;height:1px;\n                          position:absolute;\n                          background-color:#fff;\n                          top:0;\n                          left:0;\n                          right:0;\n                          z-index: 2147483642;\n                          opacity: 0.9;\n                          overflow-y: scroll;\n                          overflow-x:hidden;\n                          margin:0 auto;\n                          padding:6px;\n                          border: 3px dashed green;\n                          line-height:16px !important;\n                          font-size:14px !important;\n                          text-align: left !important;"),"static"==getComputedStyle(e).position&&(e.style.position="relative");try{var r=document.querySelector("div[id='"+e.id+"'] div iframe[id*='ads_iframe']");if(r){var n=getComputedStyle(r);t.style.width=n.width,t.style.height=n.height,r.id.indexOf("fallback_ads_iframe")>=0&&(e.overlay.fallback=!0)}}catch(e){}setTimeout((function(){try{var r=document.querySelector("div[id='"+e.id+"'] div iframe[id*='ads_iframe']");if(r){var n=getComputedStyle(r);t.style.width=n.width,t.style.height=n.height}}catch(e){}}),1e3),t.innerHTML="",t.innerHTML=t.innerHTML+"Adunit: <b>"+e.overlay.adunit+"</b><br>",e.overlay.size&&e.overlay.size[0]&&e.overlay.size[1]&&(t.innerHTML=t.innerHTML+"Ad server response Size: <b>"+e.overlay.size[0]+"x"+e.overlay.size[1]+"</b><br>"),e.overlay.targetingMap&&e.overlay.targetingMap[config.targeting.refreshIteration]&&(t.innerHTML=t.innerHTML+"Refresh Count: <b>"+e.overlay.targetingMap[config.targeting.refreshIteration]+"</b><br>"),t.innerHTML=t.innerHTML+"-<br>",e.estCPM&&(t.innerHTML=t.innerHTML+"Estimated CPM: <b>"+e.estCPM+"</b><br>"),e.overlay.queryId&&(t.innerHTML=t.innerHTML+"ID: <b>"+e.overlay.queryId+"</b><br>"),e.overlay.advertiserId&&(t.innerHTML=t.innerHTML+"Advertiser ID: <b>"+e.overlay.advertiserId+"</b><br>"),e.overlay.companyIds&&(t.innerHTML=t.innerHTML+"Company IDs: <b>"+JSON.stringify(e.overlay.companyIds)+"</b><br>"),e.overlay.isBackfill&&(t.innerHTML=t.innerHTML+"Backfill: <b>Yes</b><br>"),e.overlay.fallback?t.innerHTML=t.innerHTML+'Fallback render: <b style="color:red;">Yes</b><br>':t.innerHTML=t.innerHTML+"Fallback render: <b>No</b><br>",e.overlay.bidWonTime&&e.overlay.bidder&&(t.innerHTML=t.innerHTML+"HB won: <b>"+e.overlay.bidder+"</b> Size: <b>"+e.overlay.prebidSize+"</b> ID: <b>"+e.overlay.prebidCreativeId+"</b><br> Advertiser Domains: <b>"+JSON.stringify(e.overlay.advertiserDomains)+"</b><br>"),t.innerHTML=t.innerHTML+"-<br>",t.innerHTML=t.innerHTML+"HB Auction: <b>"+(e.overlay.auctionEndTime-e.overlay.auctionInitTime)+"ms</b><br>",t.innerHTML=t.innerHTML+"GAM Request: <b>"+(e.overlay.slotResponseTime-e.overlay.slotRequestedTime)+"ms</b><br>",t.innerHTML=t.innerHTML+"Creative Load: <b>"+(e.overlay.slotLoadTime-e.overlay.slotRenderedTime)+"ms</b><br>",t.innerHTML=t.innerHTML+"-<br>",t.innerHTML=t.innerHTML+"Total: <b>"+(e.overlay.slotLoadTime-e.overlay.auctionInitTime)+"ms</b><br>",t.innerHTML=t.innerHTML+"-<br>",e.overlay.targetingMap&&(e.overlay.targetingMap[config.targetingPrefix+"_bidder"]&&e.overlay.targetingMap[config.targetingPrefix+"_bidder"][0]?t.innerHTML=t.innerHTML+"HB bid: <b>Yes</b> Bidder: <b>"+e.overlay.targetingMap[config.targetingPrefix+"_bidder"][0]+"</b>  CPM: <b>"+e.overlay.targetingMap[config.targetingPrefix+"_pb"][0]+"</b><br>":t.innerHTML=t.innerHTML+"Prebid bid: <b>No</b><br>",e.overlay.targetingMap.amznbid&&e.overlay.targetingMap.amznbid[0]&&"2"!=e.overlay.targetingMap.amznbid[0]?t.innerHTML=t.innerHTML+"HB A9 bid: <b>Yes</b><br>":t.innerHTML=t.innerHTML+"A9 bid: <b>No</b><br>",e.overlay.targetingMap[config.targetingPrefix+"_source"]&&e.overlay.targetingMap[config.targetingPrefix+"_source"][0]&&(t.innerHTML=t.innerHTML+"HB Bid source: <b>"+e.overlay.targetingMap[config.targetingPrefix+"_source"][0]+"</b><br>"),e.overlay.targetingMap[config.targetingPrefix+"_cs"]&&e.overlay.targetingMap[config.targetingPrefix+"_cs"][0]&&(t.innerHTML=t.innerHTML+"HB Bid caching: <b>"+e.overlay.targetingMap[config.targetingPrefix+"_cs"][0]+"</b><br>"),e.overlay.targetingMap[config.targetingPrefix+"_bd"]&&e.overlay.targetingMap[config.targetingPrefix+"_bd"][0]&&(t.innerHTML=t.innerHTML+"HB Bid density: <b>"+e.overlay.targetingMap[config.targetingPrefix+"_bd"][0]+"</b><br>")),googletag.cmd.push((function(){googletag.pubads().getTargeting("wabt")&&googletag.pubads().getTargeting("wabt")[0]&&(t.innerHTML=t.innerHTML+"Timeout bidders: <b>"+JSON.stringify(googletag.pubads().getTargeting("wabt"))+"</b><br>"),googletag.pubads().getTargeting("wabtr")&&googletag.pubads().getTargeting("wabtr")[0]&&(t.innerHTML=t.innerHTML+"Timeout before request: <b>"+JSON.stringify(googletag.pubads().getTargeting("wabtr"))+"</b><br>")}))}}function cmpDebugConsolePush(e){sendProxy("cmpMessage",{message:e},Date.now()-wrapperLoadTime)}null!==consoleEnabled&&(utils.logMessage("__ Console : setting cookie for 1 hour: ",consoleEnabled),setCookie("_asc_console",consoleEnabled,1/24)),consoleEnabled=getCookie("_asc_console"),utils.logMessage("__ Console : Variable: ",consoleEnabled),null===consoleEnabled&&"true"!=getParameterByName("timeoverlay")||(googletag.cmd.push((function(){googletag.pubads().addEventListener("slotRequested",(function(e){var t=document.getElementById(e.slot.getSlotElementId());t?t.dataset.aaad&&(t.overlay||(t.overlay={}),t.overlay.slotRequestedTime=Date.now()):utils.logWarn("__ Ads : Cannot find element in page, skipping! ",e.slot.getSlotElementId())})),googletag.pubads().addEventListener("slotResponseReceived",(function(e){var t=document.getElementById(e.slot.getSlotElementId());t?t.dataset.aaad&&(t.overlay||(t.overlay={}),t.overlay.slotResponseTime=Date.now()):utils.logWarn("__ Ads : Cannot find element in page, skipping! ",e.slot.getSlotElementId())})),googletag.pubads().addEventListener("slotOnload",(function(e){var t=document.getElementById(e.slot.getSlotElementId());t?t.dataset.aaad&&(t.overlay||(t.overlay={}),t.overlay.slotLoadTime=Date.now(),drawAdunitOverlay(t)):utils.logWarn("__ Ads : Cannot find element in page, skipping! ",e.slot.getSlotElementId())})),googletag.pubads().addEventListener("slotRenderEnded",(function(e){var t=document.getElementById(e.slot.getSlotElementId());t?t.dataset.aaad&&(t.overlay||(t.overlay={}),t.overlay.slotRenderedTime=Date.now(),t.overlay.targetingMap=e.slot.getTargetingMap(),t.overlay.queryId=e.slot.getEscapedQemQueryId(),t.overlay.adunit=e.slot.getAdUnitPath(),t.overlay.advertiserId=e.advertiserId,t.overlay.campaignId=e.campaignId,t.overlay.companyIds=e.companyIds,t.overlay.creativeId=e.creativeId,t.overlay.isBackfill=e.isBackfill,t.overlay.lineItemId=e.lineItemId,t.overlay.sourceAgnosticCreativeId=e.sourceAgnosticCreativeId,t.overlay.sourceAgnosticLineItemId=e.sourceAgnosticLineItemId,t.overlay.yieldGroupIds=e.yieldGroupIds,t.overlay.size=e.size,e.isEmpty&&(t.overlay.slotLoadTime=Date.now(),setTimeout((function(){drawAdunitOverlay(t)}),1e3)),sendProxy("slotRenderEnded",{isEmpty:e.isEmpty,slotContentChanged:e.slotContentChanged,size:e.size,advertiserId:e.advertiserId,campaignId:e.campaignId,creativeId:e.creativeId,lineItemId:e.lineItemId,isBackfill:e.isBackfill,yieldGroupIds:e.yieldGroupIds,companyIds:e.companyIds,adUnitPath:e.slot.getAdUnitPath(),slotElementId:e.slot.getSlotElementId(),targetingMap:e.slot.getTargetingMap()},Date.now()-wrapperLoadTime)):utils.logWarn("__ Ads : Cannot find element in page, skipping! ",e.slot.getSlotElementId())})),googletag.pubads().addEventListener("impressionViewable",(function(e){var t=document.getElementById(e.slot.getSlotElementId());t?t.dataset.aaad&&sendProxy("impressionViewable",{adUnitPath:e.slot.getAdUnitPath(),slotElementId:e.slot.getSlotElementId()},Date.now()-wrapperLoadTime):utils.logWarn("__ Ads : Cannot find element in page, skipping! ",e.slot.getSlotElementId())}))})),asc.cmd.push((function(){asc.onEvent("auctionInit",(function(e){e.adUnitCodes.forEach((function(e){var t=document.getElementById(e);t.dataset.aaad&&(t.overlay||(t.overlay={}),t.overlay.auctionInitTime=Date.now())})),sendProxy("auctionInit",e,Date.now()-wrapperLoadTime,e),sendProxy("timeline","auctionInit_"+e.auctionId,Date.now())})),asc.onEvent("auctionEnd",(function(e){e.adUnitCodes.forEach((function(e){var t=document.getElementById(e);t&&t.dataset.aaad&&(t.overlay||(t.overlay={}),t.overlay.auctionEndTime=Date.now())})),sendProxy("auctionEnd",{auctionId:e.auctionId,timestamp:e.timestamp,auctionEnd:e.auctionEnd,auctionStatus:e.auctionStatus,adUnitCodes:e.adUnitCodes,timeout:e.timeout},Date.now()-wrapperLoadTime),sendProxy("timeline","auctionEnd_"+e.auctionId,Date.now())})),asc.onEvent("bidWon",(function(e){var t=document.getElementById(e.adUnitCode);t.dataset.aaad&&(t.overlay||(t.overlay={}),t.overlay.bidWonTime=Date.now(),t.overlay.bidder=e.bidder,t.overlay.cpm=e.cpm,t.overlay.prebidSize=e.size,t.overlay.prebidCreativeId=e.creativeId,t.overlay.advertiserDomains=e.meta&&e.meta.advertiserDomains?e.meta.advertiserDomains:[],sendProxy("bidWon",{bidderCode:e.bidderCode,adId:e.adId,requestId:e.requestId,mediaType:e.mediaType,source:e.source,cpm:e.cpm,currency:e.currency,auctionId:e.auctionId,size:e.getSize(),adUnitCode:e.adUnitCode},Date.now()-wrapperLoadTime))})),asc.onEvent("bidResponse",(function(e){sendProxy("bidResponse",{bidderCode:e.bidderCode,adId:e.adId,requestId:e.requestId,mediaType:e.mediaType,source:e.source,cpm:e.cpm,currency:e.currency,auctionId:e.auctionId,size:e.getSize(),adUnitCode:e.adUnitCode,timeToRespond:e.timeToRespond},Date.now()-wrapperLoadTime)}))})));var saveAdsEnabled=getParameterByName("ascSaveAds");function loadLiveRampATS(){if(config.analytics.liverampAts&&config.analytics.liverampAts.placementID){config.analytics.liverampAts.rootDomain&&(config.analytics.liverampAts.rootDomain=config.analytics.liverampAts.rootDomain.replace("$$ROOT_DOMAIN$$",getDomain())),utils.logMessage("__ Liveramp : Load LiveRamp ATS with config:",config.analytics.liverampAts);var e=document.createElement("script");e.onload=function(){window.ats.start(config.analytics.liverampAts),utils.logMessage("__ Liveramp : LiveRamp ATS Loaded. ATS current config:",window.ats.outputCurrentConfiguration())},e.src="https://ats.rlcdn.com/ats.js",document.body.appendChild(e)}}null!==saveAdsEnabled&&(utils.logMessage("__ SaveAds : setting cookie for 1 hour: ",saveAdsEnabled),setCookie("_asc_SaveAds",saveAdsEnabled,1/24)),saveAdsEnabled=getCookie("_asc_SaveAds"),utils.logMessage("__ SaveAds : Variable: ",saveAdsEnabled),saveAdsEnabled&&googletag.cmd.push((function(){googletag.pubads().addEventListener("slotRenderEnded",(function(e){var t=document.getElementById(e.slot.getSlotElementId());if(t){if(t.dataset.aaad){var r={};googletag.pubads().getTargetingKeys().forEach((function(e){r[e]=googletag.pubads().getTargeting(e)}));var n={isEmpty:e.isEmpty,slotContentChanged:e.slotContentChanged,size:e.size,advertiserId:e.advertiserId,campaignId:e.campaignId,creativeId:e.creativeId,lineItemId:e.lineItemId,isBackfill:e.isBackfill,yieldGroupIds:e.yieldGroupIds,companyIds:e.companyIds,adUnitPath:e.slot.getAdUnitPath(),slotElementId:e.slot.getSlotElementId(),targetingMap:e.slot.getTargetingMap(),pageTargeting:r,url:window.location.href};if(e.slot.getTargetingMap()[config.targetingPrefix+"_adid"]&&e.slot.getTargetingMap()[config.targetingPrefix+"_adid"][0]){var i=asc.getAuctionBidResponses().filter((function(t){return e.slot.getTargetingMap()[config.targetingPrefix+"_adid"][0]==t.adId}));i[0]&&(n.prebid=i[0])}try{var a=t.childNodes;(a=[].slice.call(a)).forEach((function(e){if(e.id.indexOf("__container__")>=0){var t=e.childNodes;(t=[].slice.call(t)).forEach((function(e){if("IFRAME"==e.tagName&&e.id.indexOf("google_ads_iframe_")>=0){var t="";t+=e.contentDocument.head.innerHTML,t+=e.contentDocument.body.innerHTML,n.ad=t}}))}}))}catch(e){}(0,_ajax__WEBPACK_IMPORTED_MODULE_1__.h)("https://safeads.adapex.io/collect",(function(){utils.logMessage("__ SaveAds : Sent data! ")}),JSON.stringify(n),{contentType:"text/plain",withCredentials:!1})}}else utils.logWarn("__ SaveAds : Cannot find element in page, skipping! ",e.slot.getSlotElementId())}))})),document.addEventListener("asc",(function(e){utils.logMessage("__ Ads :  asc event: ",e),processAdsOnPage()})),(function(){}