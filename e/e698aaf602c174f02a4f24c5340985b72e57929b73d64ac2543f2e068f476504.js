(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"+6MP":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n("2Vo4"),o=n("fXoL");let s=(()=>{class t{constructor(){this._playerSettings=new i.a({forbiddenFloatingPlayer:!1,autoSkip:!0,autoStart:!0}),this.playerSettings$=this._playerSettings.asObservable()}setPlayerSettings(t){this._playerSettings.next(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Lb({token:t,factory:t.\u0275fac}),t})()},"+bO1":function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var i=n("Njeq"),o=n("tWDZ"),s=n("etJ/"),r=n("lJxs"),a=n("3E0/"),c=n("fXoL");let l=(()=>{class t{constructor(t,e,n){this._apiUrlHelper=t,this._httpClientHelper=e,this._storage=n}getToken(){return Object.assign({},this._httpClientHelper.token)}getMedia(t,e=!0){let n={};n.region=this._storage.GetConfig().region||"GL.",n.device=1,n.ispath=e,n.id=t,n.alluser=1;const i=this._apiUrlHelper.urlBuilder("video-media",n,"NEWS_ENDPOINT");return this._httpClientHelper.get(i).pipe(Object(r.a)(t=>null!==t[0]?t[0]:[]))}like(t){const e=this._apiUrlHelper.urlBuilder("video-like",{videoId:t,cinema:3},"NEWSV3_ENDPOINT");return this._httpClientHelper.get(e).pipe(Object(r.a)(e=>(this.voteRecord(t,"like"),e))).pipe(Object(a.a)(300))}pageViewRecord(t){return this._httpClientHelper.get(t,!0)}dislike(t){const e=this._apiUrlHelper.urlBuilder("video-dislike",{videoId:t,cinema:3},"NEWSV3_ENDPOINT");return this._httpClientHelper.get(e).pipe(Object(r.a)(e=>(this.voteRecord(t,"dislike"),e))).pipe(Object(a.a)(300))}isVoted(t){return(this._storage.GetItem("news_voteVideo")?JSON.parse(this._storage.GetItem("news_voteVideo")):[]).filter(e=>e.id===t).length>0}voteRecord(t,e){}favorite(t,e){var n={};n.id=e;const i=this._apiUrlHelper.urlBuilder("video-favorite",n,"NEWS_ENDPOINT");return this._httpClientHelper.get(i).pipe(Object(r.a)(t=>t)).pipe(Object(a.a)(300))}sendPlayHistory(t){this._httpClientHelper.getAsync(t)}sendWatched(t){this._httpClientHelper.getAsync(t)}getChannelList(t,e){var n={};n.cid=t,n.lable=e,n.size=10;const i=this._apiUrlHelper.urlBuilder("related-channel",n,"NEWS_ENDPOINT");return this._httpClientHelper.get(i).pipe(Object(r.a)(t=>t))}share(t){const e=this._apiUrlHelper.urlBuilder("video-share",{vid:t});return this._httpClientHelper.get(e)}}return t.\u0275fac=function(e){return new(e||t)(c.Zb(i.a),c.Zb(o.a),c.Zb(s.a))},t.\u0275prov=c.Lb({token:t,factory:t.\u0275fac}),t})()},"+cg8":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n("2Vo4"),o=n("fXoL");let s=(()=>{class t{constructor(){this.teaserDetailSource=new i.a(void 0),this.teaserDetail=this.teaserDetailSource.asObservable()}setState(t){this.teaserDetailSource.next(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},"+ntK":function(t,e,n){var i,o=n("Tnqc"),s=n("WLGk"),r=n("ypnn"),a=n("zMFY"),c=n("44nb");"undefined"!=typeof ArrayBuffer&&(i=n("g5Dd"));var l="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),h="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),d=l||h;e.protocol=3;var u=e.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},g=o(u),p={type:"error",data:"parser error"},f=n("14A5");function b(t,e,n){for(var i=new Array(t.length),o=a(t.length,n),s=function(t,n,o){e(n,(function(e,n){i[t]=n,o(e,i)}))},r=0;r<t.length;r++)s(r,t[r],o)}e.encodePacket=function(t,n,i,o){"function"==typeof n&&(o=n,n=!1),"function"==typeof i&&(o=i,i=null);var s=void 0===t.data?void 0:t.data.buffer||t.data;if("undefined"!=typeof ArrayBuffer&&s instanceof ArrayBuffer)return function(t,n,i){if(!n)return e.encodeBase64Packet(t,i);var o=t.data,s=new Uint8Array(o),r=new Uint8Array(1+o.byteLength);r[0]=u[t.type];for(var a=0;a<s.length;a++)r[a+1]=s[a];return i(r.buffer)}(t,n,o);if(void 0!==f&&s instanceof f)return function(t,n,i){if(!n)return e.encodeBase64Packet(t,i);if(d)return function(t,n,i){if(!n)return e.encodeBase64Packet(t,i);var o=new FileReader;return o.onload=function(){e.encodePacket({type:t.type,data:o.result},n,!0,i)},o.readAsArrayBuffer(t.data)}(t,n,i);var o=new Uint8Array(1);return o[0]=u[t.type],i(new f([o.buffer,t.data]))}(t,n,o);if(s&&s.base64)return function(t,n){return n("b"+e.packets[t.type]+t.data.data)}(t,o);var r=u[t.type];return void 0!==t.data&&(r+=i?c.encode(String(t.data),{strict:!1}):String(t.data)),o(""+r)},e.encodeBase64Packet=function(t,n){var i,o="b"+e.packets[t.type];if(void 0!==f&&t.data instanceof f){var s=new FileReader;return s.onload=function(){var t=s.result.split(",")[1];n(o+t)},s.readAsDataURL(t.data)}try{i=String.fromCharCode.apply(null,new Uint8Array(t.data))}catch(l){for(var r=new Uint8Array(t.data),a=new Array(r.length),c=0;c<r.length;c++)a[c]=r[c];i=String.fromCharCode.apply(null,a)}return o+=btoa(i),n(o)},e.decodePacket=function(t,n,i){if(void 0===t)return p;if("string"==typeof t){if("b"===t.charAt(0))return e.decodeBase64Packet(t.substr(1),n);if(i&&!1===(t=function(t){try{t=c.decode(t,{strict:!1})}catch(e){return!1}return t}(t)))return p;var o=t.charAt(0);return Number(o)==o&&g[o]?t.length>1?{type:g[o],data:t.substring(1)}:{type:g[o]}:p}o=new Uint8Array(t)[0];var s=r(t,1);return f&&"blob"===n&&(s=new f([s])),{type:g[o],data:s}},e.decodeBase64Packet=function(t,e){var n=g[t.charAt(0)];if(!i)return{type:n,data:{base64:!0,data:t.substr(1)}};var o=i.decode(t.substr(1));return"blob"===e&&f&&(o=new f([o])),{type:n,data:o}},e.encodePayload=function(t,n,i){"function"==typeof n&&(i=n,n=null);var o=s(t);return n&&o?f&&!d?e.encodePayloadAsBlob(t,i):e.encodePayloadAsArrayBuffer(t,i):t.length?void b(t,(function(t,i){e.encodePacket(t,!!o&&n,!1,(function(t){i(null,function(t){return t.length+":"+t}(t))}))}),(function(t,e){return i(e.join(""))})):i("0:")},e.decodePayload=function(t,n,i){if("string"!=typeof t)return e.decodePayloadAsBinary(t,n,i);var o;if("function"==typeof n&&(i=n,n=null),""===t)return i(p,0,1);for(var s,r,a="",c=0,l=t.length;c<l;c++){var h=t.charAt(c);if(":"===h){if(""===a||a!=(s=Number(a)))return i(p,0,1);if(a!=(r=t.substr(c+1,s)).length)return i(p,0,1);if(r.length){if(o=e.decodePacket(r,n,!1),p.type===o.type&&p.data===o.data)return i(p,0,1);if(!1===i(o,c+s,l))return}c+=s,a=""}else a+=h}return""!==a?i(p,0,1):void 0},e.encodePayloadAsArrayBuffer=function(t,n){if(!t.length)return n(new ArrayBuffer(0));b(t,(function(t,n){e.encodePacket(t,!0,!0,(function(t){return n(null,t)}))}),(function(t,e){var i=e.reduce((function(t,e){var n;return t+(n="string"==typeof e?e.length:e.byteLength).toString().length+n+2}),0),o=new Uint8Array(i),s=0;return e.forEach((function(t){var e="string"==typeof t,n=t;if(e){for(var i=new Uint8Array(t.length),r=0;r<t.length;r++)i[r]=t.charCodeAt(r);n=i.buffer}o[s++]=e?0:1;var a=n.byteLength.toString();for(r=0;r<a.length;r++)o[s++]=parseInt(a[r]);for(o[s++]=255,i=new Uint8Array(n),r=0;r<i.length;r++)o[s++]=i[r]})),n(o.buffer)}))},e.encodePayloadAsBlob=function(t,n){b(t,(function(t,n){e.encodePacket(t,!0,!0,(function(t){var e=new Uint8Array(1);if(e[0]=1,"string"==typeof t){for(var i=new Uint8Array(t.length),o=0;o<t.length;o++)i[o]=t.charCodeAt(o);t=i.buffer,e[0]=0}var s=(t instanceof ArrayBuffer?t.byteLength:t.size).toString(),r=new Uint8Array(s.length+1);for(o=0;o<s.length;o++)r[o]=parseInt(s[o]);if(r[s.length]=255,f){var a=new f([e.buffer,r.buffer,t]);n(null,a)}}))}),(function(t,e){return n(new f(e))}))},e.decodePayloadAsBinary=function(t,n,i){"function"==typeof n&&(i=n,n=null);for(var o=t,s=[];o.byteLength>0;){for(var a=new Uint8Array(o),c=0===a[0],l="",h=1;255!==a[h];h++){if(l.length>310)return i(p,0,1);l+=a[h]}o=r(o,2+l.length),l=parseInt(l);var d=r(o,0,l);if(c)try{d=String.fromCharCode.apply(null,new Uint8Array(d))}catch(f){var u=new Uint8Array(d);for(d="",h=0;h<u.length;h++)d+=String.fromCharCode(u[h])}s.push(d),o=r(o,l)}var g=s.length;s.forEach((function(t,o){i(e.decodePacket(t,n,!0),o,g)}))}},"+rOU":function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return l})),n.d(e,"c",(function(){return h})),n.d(e,"d",(function(){return a}));var i=n("fXoL");function o(){throw Error("Host already has a portal attached")}n("ofXK");class s{attach(t){return null==t&&function(){throw Error("Attempting to attach a portal to a null PortalOutlet")}(),t.hasAttached()&&o(),this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null==t?function(){throw Error("Attempting to detach a portal that is not attached to a host")}():(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class r extends s{constructor(t,e,n,i){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.componentFactoryResolver=i}}class a extends s{constructor(t,e,n){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class c extends s{constructor(t){super(),this.element=t instanceof i.l?t.nativeElement:t}}class l extends class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t||function(){throw Error("Must provide a portal to attach")}(),this.hasAttached()&&o(),this._isDisposed&&function(){throw Error("This PortalOutlet has already been disposed")}(),t instanceof r?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof a?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof c?(this._attachedPortal=t,this.attachDomPortal(t)):void function(){throw Error("Attempting to attach an unknown Portal type. BasePortalOutlet accepts either a ComponentPortal or a TemplatePortal.")}()}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}{constructor(t,e,n,i,o){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=n,this._defaultInjector=i,this.attachDomPortal=t=>{if(!this._document)throw Error("Cannot attach DOM portal without _document constructor parameter");const e=t.element;if(!e.parentNode)throw Error("DOM portal content must be attached to a parent node.");const n=this._document.createComment("dom-portal");e.parentNode.insertBefore(n,e),this.outletElement.appendChild(e),super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=o}attachComponentPortal(t){const e=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let n;return t.viewContainerRef?(n=t.viewContainerRef.createComponent(e,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>n.destroy())):(n=e.create(t.injector||this._defaultInjector),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),n}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context);return n.detectChanges(),n.rootNodes.forEach(t=>this.outletElement.appendChild(t)),this.setDisposeFn(()=>{let t=e.indexOf(n);-1!==t&&e.remove(t)}),n}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let h=(()=>{class t{}return t.\u0275mod=i.Nb({type:t}),t.\u0275inj=i.Mb({factory:function(e){return new(e||t)}}),t})()},"/1rW":function(t,e,n){"use strict";n.d(e,"a",(function(){return m}));var i=n("ofXK"),o=n("3Pt+"),s=n("tyNb"),r=n("iWjc"),a=n("Kdsb"),c=n("4z3+"),l=n("cxvS"),h=n("5+WD"),d=n("ypMf"),u=n("bXfU"),g=n("jv/v"),p=n("gVEI"),f=n("Q4H4"),b=n("fXoL");let m=(()=>{class t{}return t.\u0275mod=b.Nb({type:t}),t.\u0275inj=b.Mb({factory:function(e){return new(e||t)},providers:[c.a],imports:[[i.c,o.h,o.p,s.h,r.a,a.c,l.a,h.d,d.a,u.a,g.a,p.a,f.VideoModule]]}),t})()},"/iZL":function(t,e){var n;(n=window.AmCharts).AmRectangularChart=n.Class({inherits:n.AmCoordinateChart,construct:function(t){n.AmRectangularChart.base.construct.call(this,t),this.theme=t,this.createEvents("zoomed","changed"),this.marginRight=this.marginBottom=this.marginTop=this.marginLeft=20,this.depth3D=this.angle=0,this.plotAreaFillColors="#FFFFFF",this.plotAreaFillAlphas=0,this.plotAreaBorderColor="#000000",this.plotAreaBorderAlpha=0,this.maxZoomFactor=20,this.zoomOutButtonImageSize=19,this.zoomOutButtonImage="lens",this.zoomOutText="Show all",this.zoomOutButtonColor="#e5e5e5",this.zoomOutButtonAlpha=0,this.zoomOutButtonRollOverAlpha=1,this.zoomOutButtonPadding=8,this.trendLines=[],this.autoMargins=!0,this.marginsUpdated=!1,this.autoMarginOffset=10,n.applyTheme(this,t,"AmRectangularChart")},initChart:function(){n.AmRectangularChart.base.initChart.call(this),this.updateDxy(),!this.marginsUpdated&&this.autoMargins&&(this.resetMargins(),this.drawGraphs=!1),this.processScrollbars(),this.updateMargins(),this.updatePlotArea(),this.updateScrollbars(),this.updateTrendLines(),this.updateChartCursor(),this.updateValueAxes(),this.scrollbarOnly||this.updateGraphs()},drawChart:function(){if(n.AmRectangularChart.base.drawChart.call(this),this.drawPlotArea(),n.ifArray(this.chartData)){var t=this.chartCursor;t&&t.draw()}},resetMargins:function(){var t,e={};if("xy"==this.type){var n=this.xAxes,i=this.yAxes;for(t=0;t<n.length;t++){var o=n[t];o.ignoreAxisWidth||(o.setOrientation(!0),o.fixAxisPosition(),e[o.position]=!0)}for(t=0;t<i.length;t++)(n=i[t]).ignoreAxisWidth||(n.setOrientation(!1),n.fixAxisPosition(),e[n.position]=!0)}else{for(i=this.valueAxes,t=0;t<i.length;t++)(n=i[t]).ignoreAxisWidth||(n.setOrientation(this.rotate),n.fixAxisPosition(),e[n.position]=!0);(t=this.categoryAxis)&&!t.ignoreAxisWidth&&(t.setOrientation(!this.rotate),t.fixAxisPosition(),t.fixAxisPosition(),e[t.position]=!0)}e.left&&(this.marginLeft=0),e.right&&(this.marginRight=0),e.top&&(this.marginTop=0),e.bottom&&(this.marginBottom=0),this.fixMargins=e},measureMargins:function(){var t,e,n=this.valueAxes,i=this.autoMarginOffset,o=this.fixMargins,s=this.realWidth,r=this.realHeight,a=i,c=i,l=s;for(t=r,e=0;e<n.length;e++)n[e].handleSynchronization(),t=this.getAxisBounds(n[e],a,l,c,t),a=Math.round(t.l),l=Math.round(t.r),c=Math.round(t.t),t=Math.round(t.b);(n=this.categoryAxis)&&(t=this.getAxisBounds(n,a,l,c,t),a=Math.round(t.l),l=Math.round(t.r),c=Math.round(t.t),t=Math.round(t.b)),o.left&&a<i&&(this.marginLeft=Math.round(-a+i),!isNaN(this.minMarginLeft)&&this.marginLeft<this.minMarginLeft&&(this.marginLeft=this.minMarginLeft)),o.right&&l>=s-i&&(this.marginRight=Math.round(l-s+i),!isNaN(this.minMarginRight)&&this.marginRight<this.minMarginRight&&(this.marginRight=this.minMarginRight)),o.top&&c<i+this.titleHeight&&(this.marginTop=Math.round(this.marginTop-c+i+this.titleHeight),!isNaN(this.minMarginTop)&&this.marginTop<this.minMarginTop&&(this.marginTop=this.minMarginTop)),o.bottom&&t>r-i&&(this.marginBottom=Math.round(this.marginBottom+t-r+i),!isNaN(this.minMarginBottom)&&this.marginBottom<this.minMarginBottom&&(this.marginBottom=this.minMarginBottom)),this.initChart()},getAxisBounds:function(t,e,n,i,o){if(!t.ignoreAxisWidth){var s=t.labelsSet,r=t.tickLength;if(t.inside&&(r=0),s)switch(s=t.getBBox(),t.position){case"top":i>(t=s.y)&&(i=t);break;case"bottom":o<(t=s.y+s.height)&&(o=t);break;case"right":n<(t=s.x+s.width+r+3)&&(n=t);break;case"left":e>(t=s.x-r)&&(e=t)}}return{l:e,t:i,r:n,b:o}},drawZoomOutButton:function(){var t=this;if(!t.zbSet){var e=t.container.set();t.zoomButtonSet.push(e);var i,o=t.color,s=t.fontSize,r=t.zoomOutButtonImageSize,a=t.zoomOutButtonImage.replace(/\.[a-z]*$/i,""),c=t.langObj.zoomOutText||t.zoomOutText,l=t.zoomOutButtonColor,h=t.zoomOutButtonAlpha,d=t.zoomOutButtonFontSize,u=t.zoomOutButtonPadding;isNaN(d)||(s=d),(d=t.zoomOutButtonFontColor)&&(o=d),(d=t.zoomOutButton)&&(d.fontSize&&(s=d.fontSize),d.color&&(o=d.color),d.backgroundColor&&(l=d.backgroundColor),isNaN(d.backgroundAlpha)||(t.zoomOutButtonRollOverAlpha=d.backgroundAlpha));var g=d=0;for(g=t.pathToImages,a&&((n.isAbsolute(a)||void 0===g)&&(g=""),i=t.container.image(g+a+t.extension,0,0,r,r),n.setCN(t,i,"zoom-out-image"),e.push(i),d=(i=i.getBBox()).width+5),void 0!==c&&(o=n.text(t.container,c,o,t.fontFamily,s,"start"),n.setCN(t,o,"zoom-out-label"),s=o.getBBox(),o.translate(d,g=i?i.height/2-3:s.height/2),e.push(o)),i=e.getBBox(),o=1,n.isModern||(o=0),(l=n.rect(t.container,i.width+2*u+5,i.height+2*u-2,l,1,1,l,o)).setAttr("opacity",h),l.translate(-u,-u),n.setCN(t,l,"zoom-out-bg"),e.push(l),l.toBack(),t.zbBG=l,i=l.getBBox(),e.translate(t.marginLeftReal+t.plotAreaWidth-i.width+u,t.marginTopReal+u),e.hide(),e.mouseover((function(){t.rollOverZB()})).mouseout((function(){t.rollOutZB()})).click((function(){t.clickZB()})).touchstart((function(){t.rollOverZB()})).touchend((function(){t.rollOutZB(),t.clickZB()})),h=0;h<e.length;h++)e[h].attr({cursor:"pointer"});void 0!==t.zoomOutButtonTabIndex&&(e.setAttr("tabindex",t.zoomOutButtonTabIndex),e.setAttr("role","menuitem"),e.keyup((function(e){13==e.keyCode&&t.clickZB()}))),t.zbSet=e}},rollOverZB:function(){this.rolledOverZB=!0,this.zbBG.setAttr("opacity",this.zoomOutButtonRollOverAlpha)},rollOutZB:function(){this.rolledOverZB=!1,this.zbBG.setAttr("opacity",this.zoomOutButtonAlpha)},clickZB:function(){this.rolledOverZB=!1,this.zoomOut()},zoomOut:function(){this.zoomOutValueAxes()},drawPlotArea:function(){var t=this.dx,e=this.dy,i=this.marginLeftReal,o=this.marginTopReal,s=this.plotAreaWidth-1,r=this.plotAreaHeight-1,a=this.plotAreaFillColors,c=this.plotAreaFillAlphas,l=this.plotAreaBorderColor,h=this.plotAreaBorderAlpha;"object"==typeof c&&(c=c[0]),a=n.polygon(this.container,[0,s,s,0,0],[0,0,r,r,0],a,c,1,l,h,this.plotAreaGradientAngle),n.setCN(this,a,"plot-area"),a.translate(i+t,o+e),this.set.push(a),0!==t&&0!==e&&("object"==typeof(a=this.plotAreaFillColors)&&(a=a[0]),a=n.adjustLuminosity(a,-.15),s=n.polygon(this.container,[0,t,s+t,s,0],[0,e,e,0,0],a,c,1,l,h),n.setCN(this,s,"plot-area-bottom"),s.translate(i,o+r),this.set.push(s),t=n.polygon(this.container,[0,0,t,t,0],[0,r,r+e,e,0],a,c,1,l,h),n.setCN(this,t,"plot-area-left"),t.translate(i,o),this.set.push(t)),(i=this.bbset)&&this.scrollbarOnly&&i.remove()},updatePlotArea:function(){var t=this.updateWidth(),e=this.updateHeight(),n=this.container;this.realWidth=t,this.realWidth=e,n&&this.container.setSize(t,e);var i=this.marginTopReal;1>(t=t-(n=this.marginLeftReal)-this.marginRightReal-this.dx)&&(t=1),1>(e=e-i-this.marginBottomReal)&&(e=1),this.plotAreaWidth=Math.round(t),this.plotAreaHeight=Math.round(e),this.plotBalloonsSet.translate(n,i)},updateDxy:function(){this.dx=Math.round(this.depth3D*Math.cos(this.angle*Math.PI/180)),this.dy=Math.round(-this.depth3D*Math.sin(this.angle*Math.PI/180)),this.d3x=Math.round(this.columnSpacing3D*Math.cos(this.angle*Math.PI/180)),this.d3y=Math.round(-this.columnSpacing3D*Math.sin(this.angle*Math.PI/180))},updateMargins:function(){var t=this.getTitleHeight();this.titleHeight=t,this.marginTopReal=this.marginTop-this.dy,this.fixMargins&&!this.fixMargins.top&&(this.marginTopReal+=t),this.marginBottomReal=this.marginBottom,this.marginLeftReal=this.marginLeft,this.marginRightReal=this.marginRight},updateValueAxes:function(){var t,e=this.valueAxes;for(t=0;t<e.length;t++){var n=e[t];this.setAxisRenderers(n),this.updateObjectSize(n)}},setAxisRenderers:function(t){t.axisRenderer=n.RecAxis,t.guideFillRenderer=n.RecFill,t.axisItemRenderer=n.RecItem,t.marginsChanged=!0},updateGraphs:function(){var t,e=this.graphs;for(t=0;t<e.length;t++){var n=e[t];n.index=t,n.rotate=this.rotate,this.updateObjectSize(n)}},updateObjectSize:function(t){t.width=this.plotAreaWidth-1,t.height=this.plotAreaHeight-1,t.x=this.marginLeftReal,t.y=this.marginTopReal,t.dx=this.dx,t.dy=this.dy},updateChartCursor:function(){var t=this.chartCursor;t&&(t=n.processObject(t,n.ChartCursor,this.theme),this.updateObjectSize(t),this.addChartCursor(t),t.chart=this)},processScrollbars:function(){var t=this.chartScrollbar;t&&(t=n.processObject(t,n.ChartScrollbar,this.theme),this.addChartScrollbar(t))},updateScrollbars:function(){},removeChartCursor:function(){n.callMethod("destroy",[this.chartCursor]),this.chartCursor=null},zoomTrendLines:function(){var t,e=this.trendLines;for(t=0;t<e.length;t++){var n=e[t];n.valueAxis.recalculateToPercents?n.set&&n.set.hide():(n.x=this.marginLeftReal,n.y=this.marginTopReal,n.draw())}},handleCursorValueZoom:function(){},addTrendLine:function(t){this.trendLines.push(t)},zoomOutValueAxes:function(){for(var t=this.valueAxes,e=0;e<t.length;e++)t[e].zoomOut()},removeTrendLine:function(t){var e,n=this.trendLines;for(e=n.length-1;0<=e;e--)n[e]==t&&n.splice(e,1)},adjustMargins:function(t,e){var n=t.scrollbarHeight+t.offset;t.enabled&&("top"==t.position?e?this.marginLeftReal+=n:this.marginTopReal+=n:e?this.marginRightReal+=n:this.marginBottomReal+=n)},getScrollbarPosition:function(t,e,n){var i="bottom",o="top";t.oppositeAxis||(o=i,i="top"),t.position=e?"bottom"==n||"left"==n?i:o:"top"==n||"right"==n?i:o},updateChartScrollbar:function(t,e){if(t){t.rotate=e;var n=this.marginTopReal,i=this.marginLeftReal,o=t.scrollbarHeight,s=this.dx,r=this.dy,a=t.offset;"top"==t.position?e?(t.y=n,t.x=i-o-a):(t.y=n-o+r-a,t.x=i+s):e?(t.y=n+r,t.x=i+this.plotAreaWidth+s+a):(t.y=n+this.plotAreaHeight+a,t.x=this.marginLeftReal)}},showZB:function(t){var e=this.zbSet;t&&""!==(e=this.zoomOutText)&&e&&this.drawZoomOutButton(),(e=this.zbSet)&&(this.zoomButtonSet.push(e),t?e.show():e.hide(),this.rollOutZB())},handleReleaseOutside:function(t){n.AmRectangularChart.base.handleReleaseOutside.call(this,t),(t=this.chartCursor)&&t.handleReleaseOutside&&t.handleReleaseOutside()},handleMouseDown:function(t){n.AmRectangularChart.base.handleMouseDown.call(this,t);var e=this.chartCursor;e&&e.handleMouseDown&&!this.rolledOverZB&&e.handleMouseDown(t)},update:function(){n.AmRectangularChart.base.update.call(this),this.chartCursor&&this.chartCursor.update&&this.chartCursor.update()},handleScrollbarValueZoom:function(t){this.relativeZoomValueAxes(t.target.valueAxes,t.relativeStart,t.relativeEnd),this.zoomAxesAndGraphs()},zoomValueScrollbar:function(t){if(t&&t.enabled){var e=t.valueAxes[0],n=e.relativeStart,i=e.relativeEnd;e.reversed&&(i=1-n,n=1-e.relativeEnd),t.percentZoom(n,i)}},zoomAxesAndGraphs:function(){if(!this.scrollbarOnly){var t,e=this.valueAxes;for(t=0;t<e.length;t++)e[t].zoom(this.start,this.end);for(e=this.graphs,t=0;t<e.length;t++)e[t].zoom(this.start,this.end);(t=this.chartCursor)&&t.clearSelection(),this.zoomTrendLines()}},handleValueAxisZoomReal:function(t,e){if((i=t.relativeStart)>(o=t.relativeEnd))var n=i,i=o,o=n;this.relativeZoomValueAxes(e,i,o),this.updateAfterValueZoom()},updateAfterValueZoom:function(){this.zoomAxesAndGraphs(),this.zoomScrollbar()},relativeZoomValueAxes:function(t,e,i){if(this.hideBalloonReal(),(e=n.fitToBounds(e,0,1))>(i=n.fitToBounds(i,0,1))){var o=e;e=i,i=o}var s=n.getDecimals(o=1/this.maxZoomFactor)+4;if(i-e<o&&(e=(i=e+(i-e)/2)-o/2,1<(i+=o/2)&&(e-=i-1,i=1),0>e&&(e=0,i=o)),e=n.roundTo(e,s),i=n.roundTo(i,s),o=!1,t){for(s=0;s<t.length;s++){var r=t[s].zoomToRelativeValues(e,i,!0);r&&(o=r)}this.showZB()}return o},addChartCursor:function(t){n.callMethod("destroy",[this.chartCursor]),t&&(this.listenTo(t,"moved",this.handleCursorMove),this.listenTo(t,"zoomed",this.handleCursorZoom),this.listenTo(t,"zoomStarted",this.handleCursorZoomStarted),this.listenTo(t,"panning",this.handleCursorPanning),this.listenTo(t,"onHideCursor",this.handleCursorHide)),this.chartCursor=t},handleCursorChange:function(){},handleCursorMove:function(t){var e,n=this.valueAxes;for(e=0;e<n.length;e++)if(!t.panning){var i=n[e];i&&i.showBalloon&&i.showBalloon(t.x,t.y)}},handleCursorZoom:function(t){if(this.skipZoomed)this.skipZoomed=!1;else{var e=this.startX0,n=this.endX0,i=this.endY0,o=this.startY0,s=t.startX,r=t.endX,a=t.startY,c=t.endY;this.startX0=this.endX0=this.startY0=this.endY0=NaN,this.handleCursorZoomReal(e+s*(n-e),e+r*(n-e),o+a*(i-o),o+c*(i-o),t)}},handleCursorHide:function(){var t,e=this.valueAxes;for(t=0;t<e.length;t++)e[t].hideBalloon();for(e=this.graphs,t=0;t<e.length;t++)e[t].hideBalloonReal()}}),function(){var t=window.AmCharts;t.AmSerialChart=t.Class({inherits:t.AmRectangularChart,construct:function(e){this.type="serial",t.AmSerialChart.base.construct.call(this,e),this.cname="AmSerialChart",this.theme=e,this.columnSpacing=5,this.columnSpacing3D=0,this.columnWidth=.8;var n=new t.CategoryAxis(e);n.chart=this,this.categoryAxis=n,this.zoomOutOnDataUpdate=!0,this.mouseWheelZoomEnabled=this.mouseWheelScrollEnabled=this.rotate=this.skipZoom=!1,this.minSelectedTime=0,t.applyTheme(this,e,this.cname)},initChart:function(){t.AmSerialChart.base.initChart.call(this),this.updateCategoryAxis(this.categoryAxis,this.rotate,"categoryAxis"),this.dataChanged?this.parseData():this.onDataUpdated(),this.drawGraphs=!0},onDataUpdated:function(){var t,e=this.countColumns(),n=this.chartData,i=this.graphs;for(t=0;t<i.length;t++){var o=i[t];o.data=n,o.columnCount=e}0<n.length&&(this.firstTime=this.getStartTime(n[0].time),this.lastTime=this.getEndTime(n[n.length-1].time)),this.drawChart(),this.autoMargins&&!this.marginsUpdated?(this.marginsUpdated=!0,this.measureMargins()):this.dispDUpd()},syncGrid:function(){if(this.synchronizeGrid){var e,n,i=this.valueAxes;if(0<i.length){var o=0;for(n=0;n<i.length;n++)o<(e=i[n]).gridCountReal&&(o=e.gridCountReal);var s=!1;for(n=0;n<i.length;n++)if((e=i[n]).gridCountReal<o){var r=(o-e.gridCountReal)/2,a=s=r;0!=r-Math.round(r)&&(s-=.5,a+=.5),0<=e.min&&0>e.min-s*e.step&&(a+=s,s=0),0>=e.max&&0<e.max+a*e.step&&(s+=a,a=0),r=t.getDecimals(e.step),e.minimum=t.roundTo(e.min-s*e.step,r),e.maximum=t.roundTo(e.max+a*e.step,r),e.setStep=e.step,s=e.strictMinMax=!0}for(s&&this.updateAfterValueZoom(),n=0;n<i.length;n++)(e=i[n]).minimum=NaN,e.maximum=NaN,e.setStep=NaN,e.strictMinMax=!1}}},handleWheelReal:function(t,e){if(!this.wheelBusy){var n=this.categoryAxis,i=n.parseDates,o=n.minDuration(),s=1,r=1;if(this.mouseWheelZoomEnabled?e||(s=-1):e&&(s=-1),c=this.chartCursor)if(c.mouseIsOver()){var a=c.mouseX,c=c.mouseY;s!=r&&(s*=a=this.rotate?c/this.plotAreaHeight:a/this.plotAreaWidth,r*=1-a),a=.05*(this.end-this.start),i&&(a=.05*(this.endTime-this.startTime)/o),1>a&&(a=1),s*=a,r*=a,i&&!n.equalSpacing||(s=Math.round(s),r=Math.round(r)),c=this.chartData.length,n=this.lastTime,a=this.firstTime,0>t?i?(c=this.endTime-this.startTime,i=this.startTime+s*o,o=this.endTime+r*o,0<r&&0<s&&o>=n&&(o=n,i=n-c),this.zoomToDates(new Date(i),new Date(o))):(0<r&&0<s&&this.end>=c-1&&(s=r=0),this.zoomToIndexes(i=this.start+s,o=this.end+r)):i?(c=this.endTime-this.startTime,i=this.startTime-s*o,o=this.endTime-r*o,0<r&&0<s&&i<=a&&(i=a,o=a+c),this.zoomToDates(new Date(i),new Date(o))):(0<r&&0<s&&1>this.start&&(s=r=0),this.zoomToIndexes(i=this.start-s,o=this.end-r))}else this.handleMouseOut()}},validateData:function(e){this.marginsUpdated=!1,this.zoomOutOnDataUpdate&&!e&&(this.endTime=this.end=this.startTime=this.start=NaN);var n=e=!1,i=!1,o=this.chartScrollbar;o&&(o.dragging&&(e=!0,o.handleDragStop()),o.resizingRight&&(i=!0,o.rightDragStop()),o.resizingLeft&&(n=!0,o.leftDragStop())),t.AmSerialChart.base.validateData.call(this),e&&o.handleDragStart(),i&&o.rightDragStart(),n&&o.leftDragStart()},drawChart:function(){if(0<this.realWidth&&0<this.realHeight){t.AmSerialChart.base.drawChart.call(this);var e=this.chartData;if(t.ifArray(e)){!(o=this.chartScrollbar)||!this.marginsUpdated&&this.autoMargins||o.draw(),(o=this.valueScrollbar)&&o.draw();var n,i,o=e.length-1;(n=this.categoryAxis).parseDates&&!n.equalSpacing?(n=this.startTime,i=this.endTime,(isNaN(n)||isNaN(i))&&(n=this.firstTime,i=this.lastTime)):(n=this.start,i=this.end,(isNaN(n)||isNaN(i))&&(i=n=NaN),isNaN(n)&&(isNaN(this.startTime)||(n=this.getClosestIndex(e,"time",this.startTime,!0,0,e.length))),isNaN(i)&&(isNaN(this.endTime)||(i=this.getClosestIndex(e,"time",this.endTime,!1,0,e.length))),(isNaN(n)||isNaN(i))&&(n=0,i=o)),this.endTime=this.startTime=this.end=this.start=void 0,this.zoom(n,i)}}else this.cleanChart()},cleanChart:function(){t.callMethod("destroy",[this.valueAxes,this.graphs,this.categoryAxis,this.chartScrollbar,this.chartCursor,this.valueScrollbar])},updateCategoryAxis:function(t,e,n){t.chart=this,t.id=n,t.rotate=e,t.setOrientation(!this.rotate),t.init(),this.setAxisRenderers(t),this.updateObjectSize(t)},updateValueAxes:function(){t.AmSerialChart.base.updateValueAxes.call(this);var e,n=this.valueAxes;for(e=0;e<n.length;e++){var i=n[e],o=this.rotate;i.rotate=o,i.setOrientation(o),(o=this.categoryAxis).startOnAxis&&!o.parseDates||(i.expandMinMax=!0)}},getStartTime:function(e){var n=this.categoryAxis;return t.resetDateToMin(new Date(e),n.minPeriod,1,n.firstDayOfWeek).getTime()},getEndTime:function(e){var n=t.extractPeriod(this.categoryAxis.minPeriod);return t.changeDate(new Date(e),n.period,n.count,!0).getTime()-1},updateMargins:function(){t.AmSerialChart.base.updateMargins.call(this);var e=this.chartScrollbar;e&&(this.getScrollbarPosition(e,this.rotate,this.categoryAxis.position),this.adjustMargins(e,this.rotate)),(e=this.valueScrollbar)&&(this.getScrollbarPosition(e,!this.rotate,this.valueAxes[0].position),this.adjustMargins(e,!this.rotate))},updateScrollbars:function(){t.AmSerialChart.base.updateScrollbars.call(this),this.updateChartScrollbar(this.chartScrollbar,this.rotate),this.updateChartScrollbar(this.valueScrollbar,!this.rotate)},zoom:function(t,e){var n=this.categoryAxis;n.parseDates&&!n.equalSpacing?(this.timeZoom(t,e),isNaN(t)&&this.zoomOutValueAxes()):this.indexZoom(t,e),(n=this.chartCursor)&&(n.pan||n.hideCursorReal()),this.updateLegendValues()},timeZoom:function(e,n){var i=this.maxSelectedTime;if(isNaN(i)||(n!=this.endTime&&n-e>i&&(e=n-i),e!=this.startTime&&n-e>i&&(n=e+i)),0<(o=this.minSelectedTime)&&n-e<o){var o,s=Math.round(e+(n-e)/2);e=s-(o=Math.round(o/2)),n=s+o}if(s=this.categoryAxis,t.ifArray(o=this.chartData)&&(e!=this.startTime||n!=this.endTime)){var r=s.minDuration(),a=this.firstTime,c=this.lastTime;e||(e=a,isNaN(i)||(e=c-i)),n||(n=c),e>c&&(e=c),n<a&&(n=a),e<a&&(e=a),n>c&&(n=c),n<e&&(n=e+r),n-e<r/5&&(n<c?n=e+r/5:e=n-r/5),this.startTime=e,this.endTime=n,r=this.getClosestIndex(o,"time",e,!0,0,i=o.length-1),o=this.getClosestIndex(o,"time",n,!1,r,i),s.timeZoom(e,n),s.zoom(r,o),this.start=t.fitToBounds(r,0,i),this.end=t.fitToBounds(o,0,i),this.zoomAxesAndGraphs(),this.zoomScrollbar(),this.fixCursor(),this.showZB(),this.syncGrid(),this.updateColumnsDepth(),this.dispatchTimeZoomEvent()}},showZB:function(){var e,n=this.categoryAxis;n&&n.parseDates&&!n.equalSpacing&&(this.startTime>this.firstTime&&(e=!0),this.endTime<this.lastTime&&(e=!0)),0<this.start&&(e=!0),this.end<this.chartData.length-1&&(e=!0),(n=this.valueAxes)&&(n=n[0],isNaN(n.relativeStart)||(0!==t.roundTo(n.relativeStart,3)&&(e=!0),1!=t.roundTo(n.relativeEnd,3)&&(e=!0))),t.AmSerialChart.base.showZB.call(this,e)},updateAfterValueZoom:function(){t.AmSerialChart.base.updateAfterValueZoom.call(this),this.updateColumnsDepth()},indexZoom:function(t,e){var n=this.maxSelectedSeries,i=!1;if(isNaN(n)||(e!=this.end&&e-t>n&&(t=e-n,i=!0),t!=this.start&&e-t>n&&(e=t+n,i=!0)),i&&(i=this.chartScrollbar)&&i.dragger){var o=i.dragger.getBBox();i.maxWidth=o.width,i.maxHeight=o.height}t==this.start&&e==this.end||(i=this.chartData.length-1,isNaN(t)&&(t=0,isNaN(n)||(t=i-n)),isNaN(e)&&(e=i),e<t&&(e=t),e>i&&(e=i),t>i&&(t=i-1),0>t&&(t=0),this.start=t,this.end=e,this.categoryAxis.zoom(t,e),this.zoomAxesAndGraphs(),this.zoomScrollbar(),this.fixCursor(),this.showZB(0!==t||e!=this.chartData.length-1),this.syncGrid(),this.updateColumnsDepth(),this.dispatchIndexZoomEvent())},updateGraphs:function(){t.AmSerialChart.base.updateGraphs.call(this);var e,n=this.graphs;for(e=0;e<n.length;e++){var i=n[e];i.columnWidthReal=this.columnWidth,i.categoryAxis=this.categoryAxis,t.isString(i.fillToGraph)&&(i.fillToGraph=this.graphsById[i.fillToGraph])}},zoomAxesAndGraphs:function(){t.AmSerialChart.base.zoomAxesAndGraphs.call(this),this.updateColumnsDepth()},updateColumnsDepth:function(){if(0!==this.depth3D||0!==this.angle){var e,n,i=this.graphs;for(this.columnsArray=[],e=0;e<i.length;e++){var o,s=(n=i[e]).columnsArray;if(s)for(o=0;o<s.length;o++)this.columnsArray.push(s[o])}if(this.columnsArray.sort(this.compareDepth),i=this.columnsSet,0<this.columnsArray.length){for(s=this.container.set(),this.columnSet.push(s),e=0;e<this.columnsArray.length;e++)s.push(this.columnsArray[e].column.set);n&&s.translate(n.x,n.y),this.columnsSet=s}t.remove(i)}},compareDepth:function(t,e){return t.depth>e.depth?1:-1},zoomScrollbar:function(){var t=this.chartScrollbar,e=this.categoryAxis;if(t){if(!this.zoomedByScrollbar){var n=t.dragger;n&&n.stop()}this.zoomedByScrollbar=!1,e.parseDates&&!e.equalSpacing?t.timeZoom(this.startTime,this.endTime):t.zoom(this.start,this.end)}this.zoomValueScrollbar(this.valueScrollbar)},updateTrendLines:function(){var e,n=this.trendLines;for(e=0;e<n.length;e++){var i=t.processObject(i=n[e],t.TrendLine,this.theme);n[e]=i,i.chart=this,i.id||(i.id="trendLineAuto"+e+"_"+(new Date).getTime()),t.isString(i.valueAxis)&&(i.valueAxis=this.getValueAxisById(i.valueAxis)),i.valueAxis||(i.valueAxis=this.valueAxes[0]),i.categoryAxis=this.categoryAxis}},validateNow:function(e,n){e&&this.zoomOutOnDataUpdate&&(this.endTime=this.end=this.startTime=this.start=NaN),t.AmSerialChart.base.validateNow.call(this,e,n)},countColumns:function(){var t,e,n,i,o=0,s=this.valueAxes.length,r=this.graphs.length,a=!1;for(i=0;i<s;i++){var c=(e=this.valueAxes[i]).stackType,l=0;if("100%"==c||"regular"==c)for(a=!1,n=0;n<r;n++)(t=this.graphs[n]).tcc=1,t.valueAxis==e&&"column"==t.type&&(!a&&t.stackable&&(o++,a=!0),(!t.stackable&&t.clustered||t.newStack&&0!==l)&&o++,t.columnIndex=o-1,t.clustered||(t.columnIndex=0),l++);if("none"==c||"3d"==c){for(l=!1,n=0;n<r;n++)(t=this.graphs[n]).valueAxis==e&&"column"==t.type&&(t.clustered?(t.tcc=1,t.newStack&&(o=0),t.hidden||(t.columnIndex=o,o++)):t.hidden||(l=!0,t.tcc=1,t.columnIndex=0));l&&0===o&&(o=1)}if("3d"==c){for(e=1,l=0;l<r;l++)(t=this.graphs[l]).newStack&&e++,t.depthCount=e,t.tcc=o;o=e}if("regular"==c||"100%"==c)for(e=10,l=0;l<r;l++)(t=this.graphs[l]).newStack&&e--,t.depthCount=e,t.tcc=o}return o},parseData:function(){t.AmSerialChart.base.parseData.call(this),this.parseSerialData(this.dataProvider)},getCategoryIndexByValue:function(t){var e,n=this.chartData;for(e=0;e<n.length;e++)if(n[e].category==t)return e},handleScrollbarZoom:function(t){this.zoomedByScrollbar=!0,this.zoom(t.start,t.end)},dispatchTimeZoomEvent:function(){if(this.drawGraphs&&(this.prevStartTime!=this.startTime||this.prevEndTime!=this.endTime)){var e={type:"zoomed"};e.startDate=new Date(this.startTime),e.endDate=new Date(this.endTime),e.startIndex=this.start,e.endIndex=this.end,this.startIndex=this.start,this.endIndex=this.end,this.startDate=e.startDate,this.endDate=e.endDate,this.prevStartTime=this.startTime,this.prevEndTime=this.endTime;var n,i=t.extractPeriod((n=this.categoryAxis).minPeriod).period;e.startValue=t.formatDate(e.startDate,n=n.dateFormatsObject[i],this),e.endValue=t.formatDate(e.endDate,n,this),e.chart=this,e.target=this,this.fire(e)}},dispatchIndexZoomEvent:function(){if(this.drawGraphs&&(this.prevStartIndex!=this.start||this.prevEndIndex!=this.end)){this.startIndex=this.start,this.endIndex=this.end;var e=this.chartData;if(t.ifArray(e)&&!isNaN(this.start)&&!isNaN(this.end)){var n={chart:this,target:this,type:"zoomed"};n.startIndex=this.start,n.endIndex=this.end,n.startValue=e[this.start].category,n.endValue=e[this.end].category,this.categoryAxis.parseDates&&(this.startTime=e[this.start].time,this.endTime=e[this.end].time,n.startDate=new Date(this.startTime),n.endDate=new Date(this.endTime)),this.prevStartIndex=this.start,this.prevEndIndex=this.end,this.fire(n)}}},updateLegendValues:function(){this.legend&&this.legend.updateValues()},getClosestIndex:function(t,e,n,i,o,s){0>o&&(o=0),s>t.length-1&&(s=t.length-1);var r=o+Math.round((s-o)/2),a=t[r][e];return n==a?r:1>=s-o?i?o:Math.abs(t[o][e]-n)<Math.abs(t[s][e]-n)?o:s:n==a?r:n<a?this.getClosestIndex(t,e,n,i,o,r):this.getClosestIndex(t,e,n,i,r,s)},zoomToIndexes:function(t,e){var n=this.chartData;if(n){var i=n.length;0<i&&(0>t&&(t=0),e>i-1&&(e=i-1),(i=this.categoryAxis).parseDates&&!i.equalSpacing?this.zoom(n[t].time,this.getEndTime(n[e].time)):this.zoom(t,e))}},zoomToDates:function(e,n){var i=this.chartData;if(i)if(this.categoryAxis.equalSpacing){var o=this.getClosestIndex(i,"time",e.getTime(),!0,0,i.length);n=t.resetDateToMin(n,this.categoryAxis.minPeriod,1),i=this.getClosestIndex(i,"time",n.getTime(),!1,0,i.length),this.zoom(o,i)}else this.zoom(e.getTime(),n.getTime())},zoomToCategoryValues:function(t,e){this.chartData&&this.zoom(this.getCategoryIndexByValue(t),this.getCategoryIndexByValue(e))},formatPeriodString:function(e,n){if(n){n.periodDataItem={},n.periodPercentDataItem={};var i=["value","open","low","high","close"],o="value open low high close average sum count".split(" "),s=n.valueAxis,r=this.chartData,a=n.numberFormatter;a||(a=this.nf);for(var c=0;c<i.length;c++){for(var l,h,d,u,g,p,f,b,m,v,y=i[c],C=0,_=0,x=0,P=0,w=this.start;w<=this.end;w++)if(k=r[w]){var O=k.axes[s.id].graphs[n.id];if(O){if(O.values){var M=O.values[y],k=k.x.categoryAxis;this.rotate?(0>k||k>O.graph.height)&&(M=NaN):(0>k||k>O.graph.width)&&(M=NaN),isNaN(M)||(isNaN(l)&&(l=M),h=M,(isNaN(d)||d>M)&&(d=M),(isNaN(u)||u<M)&&(u=M),g=t.getDecimals(C),k=t.getDecimals(M),g=(C=t.roundTo(C+=M,Math.max(g,k)))/++_)}O.percents&&(O=O.percents[y],!isNaN(O))&&(isNaN(p)&&(p=O),f=O,(isNaN(b)||b>O)&&(b=O),(isNaN(m)||m<O)&&(m=O),v=t.getDecimals(x),M=t.getDecimals(O),v=(x=t.roundTo(x+=O,Math.max(v,M)))/++P)}}x={open:p,close:f,high:m,low:b,average:v,sum:x,count:P},e=t.formatValue(e,C={open:l,close:h,high:u,low:d,average:g,sum:C,count:_},o,a,y+"\\.",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers),e=t.formatValue(e,x,o,this.pf,"percents\\."+y+"\\."),n.periodDataItem[y]=C,n.periodPercentDataItem[y]=x}}return t.cleanFromEmpty(e)},formatString:function(e,n,i){if(n){var o=n.graph;if(void 0!==e){if(-1!=e.indexOf("[[category]]")){var s=n.serialDataItem.category;if(this.categoryAxis.parseDates){var r=this.balloonDateFormat,a=this.chartCursor;a&&a.categoryBalloonDateFormat&&(r=a.categoryBalloonDateFormat),-1!=(r=t.formatDate(s,r,this)).indexOf("fff")&&(r=t.formatMilliseconds(r,s)),s=r}e=e.replace(/\[\[category\]\]/g,String(s.replace("$","$$$")))}(s=o.numberFormatter)||(s=this.nf),(a=(r=n.graph.valueAxis).duration)&&!isNaN(n.values.value)&&r.maxInterval&&(a=t.formatDuration(n.values.value,a,"",r.durationUnits,r.maxInterval,s),e=e.replace(RegExp("\\[\\[value\\]\\]","g"),a)),"date"==r.type&&(r=t.formatDate(new Date(n.values.value),o.dateFormat,this),a=RegExp("\\[\\[value\\]\\]","g"),e=e.replace(a,r),r=t.formatDate(new Date(n.values.open),o.dateFormat,this),a=RegExp("\\[\\[open\\]\\]","g"),e=e.replace(a,r)),o="value open low high close total".split(" "),e=t.formatValue(e,n.percents,o,r=this.pf,"percents\\."),e=t.formatValue(e,n.values,o,s,"",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers),-1!=(e=t.formatValue(e,n.values,["percents"],r)).indexOf("[[")&&(e=t.formatDataContextValue(e,n.dataContext)),-1!=e.indexOf("[[")&&n.graph.customData&&(e=t.formatDataContextValue(e,n.graph.customData)),e=t.AmSerialChart.base.formatString.call(this,e,n,i)}return e}},updateChartCursor:function(){t.AmSerialChart.base.updateChartCursor.call(this);var e=this.chartCursor,n=this.categoryAxis;if(e){var i=e.categoryBalloonAlpha,o=e.categoryBalloonColor,s=e.color;void 0===o&&(o=e.cursorColor);var r=e.valueZoomable,a=e.zoomable,c=e.valueLineEnabled;if(this.rotate?(e.vLineEnabled=c,e.hZoomEnabled=r,e.vZoomEnabled=a):(e.hLineEnabled=c,e.vZoomEnabled=r,e.hZoomEnabled=a),e.valueLineBalloonEnabled)for(c=0;c<this.valueAxes.length;c++)(a=(r=this.valueAxes[c]).balloon)||(a={}),(a=t.extend(a,this.balloon,!0)).fillColor=o,a.balloonColor=o,a.fillAlpha=i,a.borderColor=o,a.color=s,r.balloon=a;else for(a=0;a<this.valueAxes.length;a++)(r=this.valueAxes[a]).balloon&&(r.balloon=null);n&&(n.balloonTextFunction=e.categoryBalloonFunction,e.categoryLineAxis=n,n.balloonText=e.categoryBalloonText,e.categoryBalloonEnabled&&((a=n.balloon)||(a={}),(a=t.extend(a,this.balloon,!0)).fillColor=o,a.balloonColor=o,a.fillAlpha=i,a.borderColor=o,a.color=s,n.balloon=a),n.balloon&&(n.balloon.enabled=e.categoryBalloonEnabled))}},addChartScrollbar:function(e){t.callMethod("destroy",[this.chartScrollbar]),e&&(e.chart=this,this.listenTo(e,"zoomed",this.handleScrollbarZoom)),this.rotate?void 0===e.width&&(e.width=e.scrollbarHeight):void 0===e.height&&(e.height=e.scrollbarHeight),e.gridAxis=this.categoryAxis,this.chartScrollbar=e},addValueScrollbar:function(e){t.callMethod("destroy",[this.valueScrollbar]),e&&(e.chart=this,this.listenTo(e,"zoomed",this.handleScrollbarValueZoom),this.listenTo(e,"zoomStarted",this.handleCursorZoomStarted));var n=e.scrollbarHeight;this.rotate?void 0===e.height&&(e.height=n):void 0===e.width&&(e.width=n),e.gridAxis||(e.gridAxis=this.valueAxes[0]),e.valueAxes=this.valueAxes,this.valueScrollbar=e},removeChartScrollbar:function(){t.callMethod("destroy",[this.chartScrollbar]),this.chartScrollbar=null},removeValueScrollbar:function(){t.callMethod("destroy",[this.valueScrollbar]),this.valueScrollbar=null},handleReleaseOutside:function(e){t.AmSerialChart.base.handleReleaseOutside.call(this,e),t.callMethod("handleReleaseOutside",[this.chartScrollbar,this.valueScrollbar])},update:function(){t.AmSerialChart.base.update.call(this),this.chartScrollbar&&this.chartScrollbar.update&&this.chartScrollbar.update(),this.valueScrollbar&&this.valueScrollbar.update&&this.valueScrollbar.update()},processScrollbars:function(){t.AmSerialChart.base.processScrollbars.call(this);var e=this.valueScrollbar;e&&((e=t.processObject(e,t.ChartScrollbar,this.theme)).id="valueScrollbar",this.addValueScrollbar(e))},handleValueAxisZoom:function(t){this.handleValueAxisZoomReal(t,this.valueAxes)},zoomOut:function(){t.AmSerialChart.base.zoomOut.call(this),this.zoom(),this.syncGrid()},getNextItem:function(t){var e=t.index,n=this.chartData,i=t.graph;if(e+1<n.length)for(e+=1;e<n.length;e++)if((t=n[e])&&(t=t.axes[i.valueAxis.id].graphs[i.id],!isNaN(t.y)))return t},handleCursorZoomReal:function(t,e,n,i,o){var s,r,a=o.target;this.rotate?(isNaN(t)||isNaN(e)||this.relativeZoomValueAxes(this.valueAxes,t,e)&&this.updateAfterValueZoom(),a.vZoomEnabled&&(s=o.start,r=o.end)):(isNaN(n)||isNaN(i)||this.relativeZoomValueAxes(this.valueAxes,n,i)&&this.updateAfterValueZoom(),a.hZoomEnabled&&(s=o.start,r=o.end)),isNaN(s)||isNaN(r)||((t=this.categoryAxis).parseDates&&!t.equalSpacing?this.zoomToDates(new Date(s),new Date(r)):this.zoomToIndexes(s,r))},handleCursorZoomStarted:function(){if(t=this.valueAxes){var t,e=(t=t[0]).relativeStart,n=t.relativeEnd;t.reversed&&(e=1-t.relativeEnd,n=1-t.relativeStart),this.rotate?(this.startX0=e,this.endX0=n):(this.startY0=e,this.endY0=n)}this.categoryAxis&&(this.start0=this.start,this.end0=this.end,this.startTime0=this.startTime,this.endTime0=this.endTime)},fixCursor:function(){this.chartCursor&&this.chartCursor.fixPosition(),this.prevCursorItem=null},handleCursorMove:function(e){t.AmSerialChart.base.handleCursorMove.call(this,e);var n=e.target,i=this.categoryAxis;if(e.panning)this.handleCursorHide(e);else if(this.chartData&&!n.isHidden){var o,s=this.graphs;if(s&&(o=i.xToIndex(this.rotate?e.y:e.x),o=this.chartData[o])){var r,a,c,l;if(n.oneBalloonOnly&&n.valueBalloonsEnabled){var h=1/0;for(r=s.length-1;0<=r;r--)if((a=s[r]).balloon.enabled&&a.showBalloon&&!a.hidden){if(c=o.axes[c=a.valueAxis.id].graphs[a.id],n.showNextAvailable&&isNaN(c.y)&&!(c=this.getNextItem(c)))continue;c=c.y,"top"==a.showBalloonAt&&(c=0),"bottom"==a.showBalloonAt&&(c=this.height);var d=n.mouseY;(c=this.rotate?Math.abs(n.mouseX-c):Math.abs(d-c))<h&&(h=c,l=a)}n.mostCloseGraph=l}if(this.prevCursorItem!=o||l!=this.prevMostCloseGraph){for(h=[],r=0;r<s.length;r++)c=o.axes[c=(a=s[r]).valueAxis.id].graphs[a.id],n.showNextAvailable&&isNaN(c.y)&&!(c=this.getNextItem(c))&&a.balloon?a.balloon.hide():l&&a!=l?(a.showGraphBalloon(c,n.pointer,!1,n.graphBulletSize,n.graphBulletAlpha),a.balloon.hide(0)):n.valueBalloonsEnabled?(a.balloon.showBullet=n.bulletsEnabled,a.balloon.bulletSize=n.bulletSize/2,e.hideBalloons||(a.showGraphBalloon(c,n.pointer,!1,n.graphBulletSize,n.graphBulletAlpha),a.balloon.set&&h.push({balloon:a.balloon,y:a.balloon.pointToY}))):(a.currentDataItem=c,a.resizeBullet(c,n.graphBulletSize,n.graphBulletAlpha));n.avoidBalloonOverlapping&&this.arrangeBalloons(h),this.prevCursorItem=o}this.prevMostCloseGraph=l}s=t.fitToBounds(e.x,0,n.width),l=t.fitToBounds(e.y,0,n.height),i.showBalloon(s,l,n.categoryBalloonDateFormat,e.skip),this.updateLegendValues()}},handleCursorHide:function(e){var n;for(t.AmSerialChart.base.handleCursorHide.call(this,e),e=this.categoryAxis,this.prevCursorItem=null,this.updateLegendValues(),e&&e.hideBalloon(),e=this.graphs,n=0;n<e.length;n++)e[n].currentDataItem=null},handleCursorPanning:function(e){var n,i,o,s=e.target,r=e.deltaX,a=e.deltaY,c=e.delta2X,l=e.delta2Y;if(e=!1,this.rotate){isNaN(c)&&(c=r,e=!0);var h=(d=this.endX0)-(n=this.startX0),d=d-h*c,u=h;e||(u=0),e=t.fitToBounds(n-h*r,0,1-u)}else isNaN(l)&&(l=a,e=!0),d=this.endY0,d+=(h=d-(n=this.startY0))*a,u=h,e||(u=0),e=t.fitToBounds(n+h*l,0,1-u);n=t.fitToBounds(d,u,1),s.valueZoomable&&(i=this.relativeZoomValueAxes(this.valueAxes,e,n)),n=this.categoryAxis,this.rotate&&(r=a,c=l),e=!1,isNaN(c)&&(c=r,e=!0),s.zoomable&&(0<Math.abs(r)||0<Math.abs(c))&&(n.parseDates&&!n.equalSpacing?(c*=n=(a=this.endTime0)-(l=this.startTime0),h=this.firstTime,d=this.lastTime,u=n,e||(u=0),e=Math.round(t.fitToBounds(l-n*r,h,d-u)),c=Math.round(t.fitToBounds(a-c,h+u,d)),(this.startTime!=e||this.endTime!=c)&&(o={chart:this,target:s,type:"zoomed",start:e,end:c},this.skipZoomed=!0,s.fire(o),this.zoom(e,c),o=!0)):(n=(a=this.end0)-(l=this.start0),r=Math.round(n*r),c=Math.round(n*c),e||(n=0),e=t.fitToBounds(l-r,0,(h=this.chartData.length-1)-n),n=t.fitToBounds(a-c,n,h),(this.start!=e||this.end!=n)&&(this.skipZoomed=!0,s.fire({chart:this,target:s,type:"zoomed",start:e,end:n}),this.zoom(e,n),o=!0))),!o&&i&&this.updateAfterValueZoom()},arrangeBalloons:function(t){var e=this.plotAreaHeight;t.sort(this.compareY);var n,i,o,s=this.plotAreaWidth,r=t.length;for(n=0;n<r;n++)(i=t[n].balloon).setBounds(0,0,s,e),i.restorePrevious(),i.draw(),e=i.yPos-3;for(t.reverse(),n=0;n<r;n++){e=(i=t[n].balloon).bottom;var a=i.bottom-i.yPos;0<n&&e-a<o+3&&i.setBounds&&(i.setBounds(0,o+3,s,o+a+3),i.restorePrevious(),i.draw()),i.set&&i.set.show(),o=i.bottom}},compareY:function(t,e){return t.y<e.y?1:-1}})}(),function(){var t=window.AmCharts;t.Cuboid=t.Class({construct:function(t,e,n,i,o,s,r,a,c,l,h,d,u,g,p,f,b){this.set=t.set(),this.container=t,this.h=Math.round(n),this.w=Math.round(e),this.dx=i,this.dy=o,this.colors=s,this.alpha=r,this.bwidth=a,this.bcolor=c,this.balpha=l,this.dashLength=g,this.topRadius=f,this.pattern=p,this.rotate=u,this.bcn=b,u?0>e&&0===h&&(h=180):0>n&&270==h&&(h=90),this.gradientRotation=h,0===i&&0===o&&(this.cornerRadius=d),this.draw()},draw:function(){var e=this.set;e.clear();var n=this.container,i=n.chart,o=this.w,s=this.h,r=this.dx,a=this.dy,c=this.colors,l=this.alpha,h=this.bwidth,d=this.bcolor,u=this.balpha,g=this.gradientRotation,p=this.cornerRadius,f=this.dashLength,b=this.pattern,m=this.topRadius,v=this.bcn,y=c,C=c;"object"==typeof c&&(y=c[0],C=c[c.length-1]);var _,x,P,w,O,M,k,S,I,L=l;b&&(l=0);var T,A,N,B,V=this.rotate;if(0<Math.abs(r)||0<Math.abs(a))if(isNaN(m))k=C,C=t.adjustLuminosity(y,-.2),C=t.adjustLuminosity(y,-.2),_=t.polygon(n,[0,r,o+r,o,0],[0,a,a,0,0],C,l,1,d,0,g),0<u&&(I=t.line(n,[0,r,o+r],[0,a,a],d,u,h,f)),(x=t.polygon(n,[0,0,o,o,0],[0,s,s,0,0],C,l,1,d,0,g)).translate(r,a),0<u&&(P=t.line(n,[r,r],[a,a+s],d,u,h,f)),w=t.polygon(n,[0,0,r,r,0],[0,s,s+a,a,0],C,l,1,d,0,g),O=t.polygon(n,[o,o,o+r,o+r,o],[0,s,s+a,a,0],C,l,1,d,0,g),0<u&&(M=t.line(n,[o,o+r,o+r,o],[0,a,s+a,s],d,u,h,f)),C=t.adjustLuminosity(k,.2),k=t.polygon(n,[0,r,o+r,o,0],[s,s+a,s+a,s,s],C,l,1,d,0,g),0<u&&(S=t.line(n,[0,r,o+r],[s,s+a,s+a],d,u,h,f));else{var U,D,E;V?(U=s/2,C=r/2,E=s/2,D=o+r/2,A=Math.abs(s/2),T=Math.abs(r/2)):(C=o/2,U=a/2,D=o/2,E=s+a/2+1,T=Math.abs(o/2),A=Math.abs(a/2)),N=T*m,B=A*m,.1<T&&.1<T&&(_=t.circle(n,T,y,l,h,d,u,!1,A)).translate(C,U),.1<N&&.1<N&&(k=t.circle(n,N,t.adjustLuminosity(y,.5),l,h,d,u,!1,B)).translate(D,E)}for(l=L,1>Math.abs(s)&&(s=0),1>Math.abs(o)&&(o=0),!isNaN(m)&&(0<Math.abs(r)||0<Math.abs(a))?(c={fill:c=[y],stroke:d,"stroke-width":h,"stroke-opacity":u,"fill-opacity":l},V?(l="M0,0 L"+o+","+(s/2-s/2*m),h=" B",0<o&&(h=" A"),t.VML?l=(l+=h+Math.round(o-N)+","+Math.round(s/2-B)+","+Math.round(o+N)+","+Math.round(s/2+B)+","+o+",0,"+o+","+s)+" L0,"+s+(h+Math.round(-T))+","+Math.round(s/2-A)+","+Math.round(T)+","+Math.round(s/2+A)+",0,"+s+",0,0":(l+="A"+N+","+B+",0,0,0,"+o+","+(s-s/2*(1-m))+"L0,"+s,l+="A"+T+","+A+",0,0,1,0,0"),T=90):(l="M0,0 L"+(h=o/2-o/2*m)+","+s,t.VML?(l="M0,0 L"+h+","+s,h=" B",0>s&&(h=" A"),l+=h+Math.round(o/2-N)+","+Math.round(s-B)+","+Math.round(o/2+N)+","+Math.round(s+B)+",0,"+s+","+o+","+s,l+=" L"+o+",0",l+=h+Math.round(o/2+T)+","+Math.round(A)+","+Math.round(o/2-T)+","+Math.round(-A)+","+o+",0,0,0"):(l+="A"+N+","+B+",0,0,0,"+(o-o/2*(1-m))+","+s+"L"+o+",0",l+="A"+T+","+A+",0,0,1,0,0"),T=180),(n=n.path(l).attr(c)).gradient("linearGradient",[y,t.adjustLuminosity(y,-.3),t.adjustLuminosity(y,-.3),y],T),V?n.translate(r/2,0):n.translate(0,a/2)):n=0===s?t.line(n,[0,o],[0,0],d,u,h,f):0===o?t.line(n,[0,0],[0,s],d,u,h,f):0<p?t.rect(n,o,s,c,l,h,d,u,p,g,f):t.polygon(n,[0,0,o,o,0],[0,s,s,0,0],c,l,h,d,u,g,!1,f),o=isNaN(m)?0>s?[_,I,x,P,w,O,M,k,S,n]:[k,S,x,P,w,O,_,I,M,n]:V?0<o?[_,n,k]:[k,n,_]:0>s?[_,n,k]:[k,n,_],t.setCN(i,n,v+"front"),t.setCN(i,x,v+"back"),t.setCN(i,k,v+"top"),t.setCN(i,_,v+"bottom"),t.setCN(i,w,v+"left"),t.setCN(i,O,v+"right"),_=0;_<o.length;_++)(x=o[_])&&(e.push(x),t.setCN(i,x,v+"element"));b&&n.pattern(b,NaN,i.path)},width:function(t){isNaN(t)&&(t=0),this.w=Math.round(t),this.draw()},height:function(t){isNaN(t)&&(t=0),this.h=Math.round(t),this.draw()},animateHeight:function(e,n){var i=this;i.animationFinished=!1,i.easing=n,i.totalFrames=e*t.updateRate,i.rh=i.h,i.frame=0,i.height(1),setTimeout((function(){i.updateHeight.call(i)}),1e3/t.updateRate)},updateHeight:function(){var e=this;e.frame++;var n=e.totalFrames;e.frame<=n?(n=e.easing(0,e.frame,1,e.rh-1,n),e.height(n),window.requestAnimationFrame?window.requestAnimationFrame((function(){e.updateHeight.call(e)})):setTimeout((function(){e.updateHeight.call(e)}),1e3/t.updateRate)):(e.height(e.rh),e.animationFinished=!0)},animateWidth:function(e,n){var i=this;i.animationFinished=!1,i.easing=n,i.totalFrames=e*t.updateRate,i.rw=i.w,i.frame=0,i.width(1),setTimeout((function(){i.updateWidth.call(i)}),1e3/t.updateRate)},updateWidth:function(){var e=this;e.frame++;var n=e.totalFrames;e.frame<=n?(n=e.easing(0,e.frame,1,e.rw-1,n),e.width(n),window.requestAnimationFrame?window.requestAnimationFrame((function(){e.updateWidth.call(e)})):setTimeout((function(){e.updateWidth.call(e)}),1e3/t.updateRate)):(e.width(e.rw),e.animationFinished=!0)}})}(),function(){var t=window.AmCharts;t.CategoryAxis=t.Class({inherits:t.AxisBase,construct:function(e){this.cname="CategoryAxis",t.CategoryAxis.base.construct.call(this,e),this.minPeriod="DD",this.equalSpacing=this.parseDates=!1,this.position="bottom",this.startOnAxis=!1,this.gridPosition="middle",this.safeDistance=30,this.stickBalloonToCategory=!1,t.applyTheme(this,e,this.cname)},draw:function(){t.CategoryAxis.base.draw.call(this),this.generateDFObject();var e=this.chart.chartData;if(this.data=e,this.labelRotationR=this.labelRotation,this.type=null,t.ifArray(e)){var n,i=this.chart;"scrollbar"!=this.id?(t.setCN(i,this.set,"category-axis"),t.setCN(i,this.labelsSet,"category-axis"),t.setCN(i,this.axisLine.axisSet,"category-axis")):this.bcn=this.id+"-";var o,s,r,a,c,l,h=this.start,d=this.labelFrequency,u=0,g=this.end-h+1,p=this.gridCountR,f=this.showFirstLabel,b=this.showLastLabel,m="",v=(m=t.extractPeriod(this.minPeriod),t.getPeriodDuration(m.period,m.count)),y=this.rotate,C=this.firstDayOfWeek,_=this.boldPeriodBeginning;n=t.resetDateToMin(new Date(e[e.length-1].time+1.05*v),this.minPeriod,1,C).getTime(),this.firstTime=i.firstTime,this.endTime>n&&(this.endTime=n),l=this.minorGridEnabled,r=this.gridAlpha;var x=0,P=0;if(this.widthField)for(n=this.start;n<=this.end;n++)if(c=this.data[n]){var w=Number(this.data[n].dataContext[this.widthField]);isNaN(w)||(x+=w,c.widthValue=w)}if(this.parseDates&&!this.equalSpacing)this.lastTime=e[e.length-1].time,this.maxTime=t.resetDateToMin(new Date(this.lastTime+1.05*v),this.minPeriod,1,C).getTime(),this.timeDifference=this.endTime-this.startTime,this.parseDatesDraw();else if(this.parseDates){if(this.parseDates&&this.equalSpacing){if(u=this.start,this.startTime=this.data[this.start].time,this.endTime=this.data[this.end].time,this.timeDifference=this.endTime-this.startTime,n=this.choosePeriod(0),(n=t.getPeriodDuration(d=n.period,s=n.count))<v&&(d=m.period,s=m.count,n=v),"WW"==(r=d)&&(r="DD"),this.currentDateFormat=this.dateFormatsObject[r],this.stepWidth=this.getStepWidth(g),p=Math.ceil(this.timeDifference/n)+1,m=t.resetDateToMin(new Date(this.startTime-n),d,s,C).getTime(),this.cellWidth=this.getStepWidth(g),h=-1,(g=Math.round(m/n))/2==Math.round(g/2)&&(h=-2,m-=n),(g=this.start)/2==Math.round(g/2)&&g--,0>g&&(g=0),(P=this.end+2)>=this.data.length&&(P=this.data.length),e=!1,e=!f,this.previousPos=-1e3,20<this.labelRotationR&&(this.safeDistance=5),w=g,this.data[g].time!=t.resetDateToMin(new Date(this.data[g].time),d,s,C).getTime()){v=0;var O=m;for(n=g;n<P;n++)this.checkPeriodChange(d,s,c=this.data[n].time,O)&&(2<=++v&&(w=n,n=P),O=c)}if(l&&1<s&&(c=this.chooseMinorFrequency(s),t.getPeriodDuration(d,c)),0<this.gridCountR)for(n=g;n<P;n++)this.checkPeriodChange(d,s,c=this.data[n].time,m)&&n>=w&&(g=this.getCoordinate(n-this.start),l=!1,this.nextPeriod[r]&&(l=this.checkPeriodChange(this.nextPeriod[r],1,c,m,r))&&t.resetDateToMin(new Date(c),this.nextPeriod[r],1,C).getTime()!=c&&(l=!1),v=!1,l&&this.markPeriodChange?(l=this.dateFormatsObject[this.nextPeriod[r]],v=!0):l=this.dateFormatsObject[r],m=t.formatDate(new Date(c),l,i),(n==h&&!f||n==p&&!b)&&(m=" "),e?e=!1:(_||(v=!1),g-this.previousPos>this.safeDistance*Math.cos(this.labelRotationR*Math.PI/180)&&(this.labelFunction&&(m=this.labelFunction(m,new Date(c),this,d,s,a)),this.boldLabels&&(v=!0),l=(o=new this.axisItemRenderer(this,g,m,void 0,void 0,void 0,void 0,v)).graphics(),this.pushAxisItem(o),l=l.getBBox().width,t.isModern||(l-=g),this.previousPos=g+l)),a=m=c)}}else if(this.cellWidth=this.getStepWidth(g),g<p&&(p=g),u+=this.start,this.stepWidth=this.getStepWidth(g),0<p)for(C=Math.floor(g/p),c=this.chooseMinorFrequency(C),(g=u)/2==Math.round(g/2)&&g--,0>g&&(g=0),_=0,this.widthField&&(g=this.start,C=1),this.end-g+1>=this.autoRotateCount&&(this.labelRotationR=this.autoRotateAngle),n=g;n<=this.end+2;n++){if(p=!1,0<=n&&n<this.data.length?(m=(s=this.data[n]).category,p=s.forceShow):m="",l&&!isNaN(c)){if(n/c!=Math.round(n/c)&&!p)continue;n/C==Math.round(n/C)||p||(this.gridAlpha=this.minorGridAlpha,m=void 0)}else if(n/C!=Math.round(n/C)&&!p)continue;g=this.getCoordinate(n-u),p=0,"start"==this.gridPosition&&(g-=this.cellWidth/2,p=this.cellWidth/2),o=!0,a=p,"start"==this.tickPosition&&(a=0,o=!1,p=0),(n==h&&!f||n==this.end&&!b)&&(m=void 0),Math.round(_/d)!=_/d&&(m=void 0),_++,e=this.cellWidth,y&&(e=NaN,this.ignoreAxisWidth||!i.autoMargins)&&(e="right"==this.position?i.marginRight-this.titleWidth:i.marginLeft-this.titleWidth,e-=this.tickLength+10),this.labelFunction&&s&&(m=this.labelFunction(m,s,this)),m=t.fixBrakes(m),v=!1,this.boldLabels&&(v=!0),n>this.end&&"start"==this.tickPosition&&(m=" "),this.rotate&&this.inside&&(p-=2),isNaN(s.widthValue)||(s.percentWidthValue=s.widthValue/x*100,g=P,P+=e=this.rotate?this.height*s.widthValue/x:this.width*s.widthValue/x,a=p=e/2),(o=new this.axisItemRenderer(this,g,m,o,e,p,void 0,v,a,!1,s.labelColor,s.className)).serialDataItem=s,this.pushAxisItem(o),this.gridAlpha=r}for(n=f=0;n<this.data.length;n++)(c=this.data[n])&&(this.parseDates&&!this.equalSpacing?(b=c.time,h=this.cellWidth,"MM"==this.minPeriod&&(h=864e5*t.daysInMonth(new Date(b))*this.stepWidth,c.cellWidth=h),b=Math.round((b-this.startTime)*this.stepWidth+h/2)):b=this.getCoordinate(n-u),c.x[this.id]=b);if(this.widthField)for(n=this.start;n<=this.end;n++)(c=this.data[n]).percentWidthValue=(h=c.widthValue)/x*100,this.rotate?(b=this.height*h/x/2+f,f=this.height*h/x+f):(b=this.width*h/x/2+f,f=this.width*h/x+f),c.x[this.id]=b;for(x=this.guides.length,n=0;n<x;n++)C=C=C=l=h=NaN,b=(f=this.guides[n]).above,f.toCategory&&(C=i.getCategoryIndexByValue(f.toCategory),isNaN(C)||(h=this.getCoordinate(C-u),f.expand&&(h+=this.cellWidth/2),o=new this.axisItemRenderer(this,h,"",!0,NaN,NaN,f),this.pushAxisItem(o,b))),f.category&&(C=i.getCategoryIndexByValue(f.category),isNaN(C)||(l=this.getCoordinate(C-u),f.expand&&(l-=this.cellWidth/2),o=new this.axisItemRenderer(this,l,f.label,!0,NaN,C=(h-l)/2,f),this.pushAxisItem(o,b))),_=i.dataDateFormat,f.toDate&&(!_||f.toDate instanceof Date||(f.toDate=f.toDate.toString()+" |"),f.toDate=t.getDate(f.toDate,_),this.equalSpacing?(C=i.getClosestIndex(this.data,"time",f.toDate.getTime(),!1,0,this.data.length-1),isNaN(C)||(h=this.getCoordinate(C-u))):h=(f.toDate.getTime()-this.startTime)*this.stepWidth,o=new this.axisItemRenderer(this,h,"",!0,NaN,NaN,f),this.pushAxisItem(o,b)),f.date&&(!_||f.date instanceof Date||(f.date=f.date.toString()+" |"),f.date=t.getDate(f.date,_),this.equalSpacing?(C=i.getClosestIndex(this.data,"time",f.date.getTime(),!1,0,this.data.length-1),isNaN(C)||(l=this.getCoordinate(C-u))):l=(f.date.getTime()-this.startTime)*this.stepWidth,C=(h-l)/2,o=!0,f.toDate&&(o=!1),o="H"==this.orientation?new this.axisItemRenderer(this,l,f.label,o,2*C,NaN,f):new this.axisItemRenderer(this,l,f.label,!1,NaN,C,f),this.pushAxisItem(o,b)),o&&(C=o.label)&&this.addEventListeners(C,f),(0<h||0<l)&&(C=!1,this.rotate?(h<this.height||l<this.height)&&(C=!0):(h<this.width||l<this.width)&&(C=!0),C&&(l=(h=new this.guideFillRenderer(this,l,h,f)).graphics(),this.pushAxisItem(h,b),f.graphics=l,l.index=n,this.addEventListeners(l,f)));(i=i.chartCursor)&&(y?i.fixHeight(this.cellWidth):(i.fixWidth(this.cellWidth),i.fullWidth&&this.balloon&&(this.balloon.minWidth=this.cellWidth))),this.previousHeight=M}this.axisCreated=!0,this.set.translate(this.x,this.y),this.labelsSet.translate(this.x,this.y),this.labelsSet.show(),this.positionTitle(),(y=this.axisLine.set)&&y.toFront();var M=this.getBBox().height;2<M-this.previousHeight&&this.autoWrap&&!this.parseDates&&(this.axisCreated=this.chart.marginsUpdated=!1)},xToIndex:function(e){var n,i,o=this.data,s=this.chart,r=s.rotate,a=this.stepWidth;if(this.parseDates&&!this.equalSpacing)e=this.startTime+Math.round(e/a)-this.minDuration()/2,n=s.getClosestIndex(o,"time",e,!1,this.start,this.end+1);else if(this.widthField)for(s=1/0,a=this.start;a<=this.end;a++){var c=this.data[a];c&&(c=Math.abs(c.x[this.id]-e))<s&&(s=c,n=a)}else this.startOnAxis||(e-=a/2),n=this.start+Math.round(e/a);return o[n=t.fitToBounds(n,0,o.length-1)]&&(i=o[n].x[this.id]),r?i>this.height+1&&n--:i>this.width+1&&n--,0>i&&n++,t.fitToBounds(n,0,o.length-1)},dateToCoordinate:function(t){return this.parseDates&&!this.equalSpacing?(t.getTime()-this.startTime)*this.stepWidth:this.parseDates&&this.equalSpacing?(t=this.chart.getClosestIndex(this.data,"time",t.getTime(),!1,0,this.data.length-1),this.getCoordinate(t-this.start)):NaN},categoryToCoordinate:function(t){return this.chart?this.parseDates?this.dateToCoordinate(new Date(t)):(t=this.chart.getCategoryIndexByValue(t),isNaN(t)?void 0:this.getCoordinate(t-this.start)):NaN},coordinateToDate:function(t){return this.equalSpacing?(t=this.xToIndex(t),new Date(this.data[t].time)):new Date(this.startTime+t/this.stepWidth)},coordinateToValue:function(t){if(t=this.xToIndex(t),t=this.data[t])return this.parseDates?t.time:t.category},getCoordinate:function(t){return t*=this.stepWidth,this.startOnAxis||(t+=this.stepWidth/2),Math.round(t)},formatValue:function(e,n){return n||(n=this.currentDateFormat),this.parseDates&&(e=t.formatDate(new Date(e),n,this.chart)),e},showBalloonAt:function(t,e){return void 0===e&&(e=this.parseDates?this.dateToCoordinate(new Date(t)):this.categoryToCoordinate(t)),this.adjustBalloonCoordinate(e)},formatBalloonText:function(e,n,i){var o="",s="",r=this.chart,a=this.data[n];if(a)if(this.parseDates)o=t.formatDate(a.category,i,r),n=t.changeDate(new Date(a.category),this.minPeriod,1),s=t.formatDate(n,i,r),-1!=o.indexOf("fff")&&(o=t.formatMilliseconds(o,a.category),s=t.formatMilliseconds(s,n));else{var c;this.data[n+1]&&(c=this.data[n+1]),o=t.fixNewLines(a.category),c&&(s=t.fixNewLines(c.category))}return(e=e.replace(/\[\[category\]\]/g,String(o))).replace(/\[\[toCategory\]\]/g,String(s))},adjustBalloonCoordinate:function(t,e){var n=this.xToIndex(t),i=this.chart.chartCursor;if(this.stickBalloonToCategory){var o=this.data[n];o&&(t=o.x[this.id]),this.stickBalloonToStart&&(t-=this.cellWidth/2);var s=0;if(i){var r=i.limitToGraph;r&&(r.hidden||(s=o.axes[r.valueAxis.id].graphs[r.id].y)),this.rotate?("left"==this.position?(r&&(s-=i.width),0<s&&(s=0)):0>s&&(s=0),i.fixHLine(t,s)):("top"==this.position?(r&&(s-=i.height),0<s&&(s=0)):0>s&&(s=0),i.fullWidth&&(t+=1),i.fixVLine(t,s))}}return i&&!e&&(i.setIndex(n),this.parseDates&&i.setTimestamp(this.coordinateToDate(t).getTime())),t}})}()},"/jvD":function(t,e,n){"use strict";n.d(e,"a",(function(){return mt}));var i=n("fXoL"),o=n("3Pt+"),s=n("q5P3"),r=n("bTYh"),a=n("Rcsm"),c=n("etJ/"),l=n("TuhJ"),h=n("0Xxy"),d=n("cUhd"),u=n("bLCJ"),g=n("wMT6"),p=n("SCto"),f=n("3My9"),b=n("XNiG"),m=n("itXk"),v=n("pLZG"),y=n("vkgz"),C=n("1G5W"),_=n("lJxs"),x=n("SxV6"),P=n("IzEk"),w=n("ciLT"),O=n("tWDZ"),M=n("Njeq"),k=n("YKxU"),S=n("tyNb"),I=n("ofXK"),L=n("qTox"),T=n("Kdsb"),A=n("H7pl"),N=n("qUyv"),B=n("FQmE"),V=n("7IA8"),U=n("k+W2"),D=n("1lty"),E=n("mJNP"),R=n("qQYQ"),F=n("Jr3z"),j=n("OjJS"),z=n("ZR7r"),H=n("qWkz");const G=["youChatLog"],W=["imageInput"],q=["emojiPickerElem"],Q=["chatMenuElem"];function $(t,e){if(1&t){const t=i.Wb();i.Vb(0,"div",27),i.Vb(1,"i",28),i.dc("click",(function(e){return i.Cc(t),i.gc(3).openYouChatSettings()})),i.Ub(),i.Ub()}}function K(t,e){if(1&t){const t=i.Wb();i.Vb(0,"div"),i.Vb(1,"div",29),i.dc("click",(function(e){return i.Cc(t),i.gc(3).closeYouChatSettings()})),i.Vb(2,"i",30),i.dc("click",(function(e){return i.Cc(t),i.gc(3).openYouChatSettings()})),i.Ub(),i.Vb(3,"div"),i.Nc(4," \u6d88\u606f\u8bbe\u7f6e "),i.Ub(),i.Ub(),i.Ub()}}function X(t,e){if(1&t&&(i.Vb(0,"div",25),i.Lc(1,$,2,0,"div",26),i.Lc(2,K,5,0,"div",23),i.Ub()),2&t){const t=i.gc(2);i.Bb(1),i.nc("ngIf",!t.showYouChatSettings),i.Bb(1),i.nc("ngIf",t.showYouChatSettings)}}function Y(t,e){if(1&t&&(i.Vb(0,"div",31),i.Nc(1),i.Ub()),2&t){const t=i.gc(2);i.Bb(1),i.Pc(" \u79c1\u4fe1(",t.contactsNums,") ")}}function Z(t,e){if(1&t){const t=i.Wb();i.Vb(0,"div"),i.Vb(1,"div",32),i.Vb(2,"div"),i.Nc(3,"\u53ea\u63a5\u53d7\u4e92\u5173\u597d\u53cb\u79c1\u4fe1"),i.Ub(),i.Vb(4,"app-slide-toggle",33),i.dc("changed",(function(e){return i.Cc(t),i.gc(2).toggleMessageFriedOnly()})),i.hc(5,"async"),i.Ub(),i.Ub(),i.Ub()}if(2&t){const t=i.gc(2);var n;const e=null==(n=i.ic(5,1,t.settings$))?null:n.friendOnly;i.Bb(4),i.nc("status",e)}}function J(t,e){if(1&t){const t=i.Wb();i.Vb(0,"you-chat-sidebar",34),i.dc("onSelectUser",(function(e){return i.Cc(t),i.gc(2).onSelectUser(e)}))("onRemoveUser",(function(e){return i.Cc(t),i.gc(2).onRemoveUser(e)})),i.Ub()}if(2&t){const t=i.gc(2);i.nc("selectedUser",t.selectedUser)("fromSticky",t.fromSticky)}}const tt=function(t){return{stickyStyle:t}};function et(t,e){if(1&t&&(i.Vb(0,"div",19),i.Lc(1,X,3,2,"div",20),i.Lc(2,Y,2,1,"div",21),i.Vb(3,"div",22),i.Lc(4,Z,6,3,"div",23),i.Lc(5,J,1,2,"you-chat-sidebar",24),i.Ub(),i.Ub()),2&t){const t=i.gc();i.nc("ngClass",i.sc(5,tt,t.fromSticky)),i.Bb(1),i.nc("ngIf",!t.fromSticky),i.Bb(1),i.nc("ngIf",t.fromSticky),i.Bb(2),i.nc("ngIf",t.showYouChatSettings),i.Bb(1),i.nc("ngIf",!t.showYouChatSettings)}}const nt=function(t,e,n){return{followed:t,"not-followed":e,"biway-followed":n}};function it(t,e){if(1&t){const t=i.Wb();i.Vb(0,"button",35),i.dc("click",(function(e){return i.Cc(t),i.gc().changeFollowStatus()})),i.Nc(1),i.Ub()}if(2&t){const t=i.gc();i.nc("ngClass",i.uc(2,nt,"Followed"===(null==t.selectedUser?null:t.selectedUser.followStatus),"NotFollowed"===(null==t.selectedUser?null:t.selectedUser.followStatus),"BiWayFollowed"===(null==t.selectedUser?null:t.selectedUser.followStatus))),i.Bb(1),i.Oc("Followed"===(null==t.selectedUser?null:t.selectedUser.followStatus)?"\u5df2\u5173\u6ce8":"NotFollowed"===(null==t.selectedUser?null:t.selectedUser.followStatus)?"\u5173\u6ce8":"BiWayFollowed"===(null==t.selectedUser?null:t.selectedUser.followStatus)?"\u4e92\u76f8\u5173\u6ce8":"\u5173\u6ce8")}}function ot(t,e){if(1&t){const t=i.Wb();i.Vb(0,"div",39),i.Vb(1,"div",40),i.dc("click",(function(e){return i.Cc(t),i.gc(2).addToBlackList()})),i.Nc(2,"\u52a0\u5165\u9ed1\u540d\u5355"),i.Ub(),i.Vb(3,"div",40),i.dc("click",(function(e){return i.Cc(t),i.gc(2).clearHistory()})),i.Nc(4,"\u6e05\u7a7a\u804a\u5929\u8bb0\u5f55"),i.Ub(),i.Vb(5,"div",40),i.dc("click",(function(e){return i.Cc(t),i.gc(2).reportUser()})),i.Nc(6,"\u4e3e\u62a5\u7528\u6237"),i.Ub(),i.Ub()}}function st(t,e){if(1&t){const t=i.Wb();i.Vb(0,"div",36,37),i.Vb(2,"i",28),i.dc("click",(function(e){return i.Cc(t),i.gc().toggleChatMenu()})),i.Ub(),i.Lc(3,ot,7,0,"div",38),i.Ub()}if(2&t){const t=i.gc();i.Bb(3),i.nc("ngIf",t.showChatMenu)}}function rt(t,e){if(1&t){const t=i.Wb();i.Vb(0,"div",41),i.Vb(1,"i",42),i.dc("click",(function(e){return i.Cc(t),i.gc().navToPage()})),i.Ub(),i.Vb(2,"i",43),i.dc("click",(function(e){return i.Cc(t),i.gc().closeChatLog()})),i.Ub(),i.Ub()}}function at(t,e){if(1&t){const t=i.Wb();i.Vb(0,"div",44),i.dc("click",(function(e){return i.Cc(t),i.gc().scrollToBottom()})),i.Nc(1,"\u4e0b\u65b9\u6709\u65b0\u7684\u6d88\u606f"),i.Ub()}}function ct(t,e){1&t&&i.Qb(0,"app-emoji-box")}function lt(t,e){if(1&t){const t=i.Wb();i.Vb(0,"div",45),i.Vb(1,"div",46),i.Vb(2,"div",47),i.Vb(3,"div",null,48),i.Vb(5,"icon-button",49),i.dc("onClick",(function(e){return i.Cc(t),i.gc().toggleEmojiBox()})),i.Qb(6,"span",50),i.Ub(),i.Lc(7,ct,1,0,"app-emoji-box",23),i.Ub(),i.Vb(8,"div"),i.Vb(9,"input",51,52),i.dc("change",(function(e){return i.Cc(t),i.gc().onImageChange(e)})),i.Ub(),i.Vb(11,"icon-button",49),i.dc("onClick",(function(e){return i.Cc(t),i.gc().addImage()})),i.Qb(12,"span",53),i.Ub(),i.Ub(),i.Ub(),i.Vb(13,"contenteditable",54,55),i.dc("ValueChangedEvent",(function(e){return i.Cc(t),i.gc().onInputChange(e)}))("scrollEndEvent",(function(e){return i.Cc(t),i.gc().scrollToBottom()}))("SendEvent",(function(e){return i.Cc(t),i.gc().sendMessage()}))("onClearedEvent",(function(e){return i.Cc(t),i.gc().resetFlag()})),i.Ub(),i.Ub(),i.Vb(15,"div",56),i.dc("click",(function(e){return i.Cc(t),i.gc().focusInEditor()})),i.Vb(16,"app-dn-button",49),i.dc("onClick",(function(e){return i.Cc(t),i.gc().onSendButtonClick(e)})),i.Nc(17,"\u53d1\u9001"),i.Ub(),i.Ub(),i.Ub()}if(2&t){const t=i.gc();i.Bb(1),i.nc("ngClass",i.sc(6,tt,t.fromSticky)),i.Bb(1),i.nc("ngClass",t.fromSticky?"mb-1":"mb-2"),i.Bb(5),i.nc("ngIf",t.showEmojiBox),i.Bb(6),i.nc("placeholder","\u8bf4\u70b9\u5565\u5427~")("clearEditorFlag",t.clearEditorFlag),i.Bb(2),i.nc("ngClass",i.sc(8,tt,t.fromSticky))}}function ht(t,e){1&t&&(i.Vb(0,"div",57),i.Qb(1,"app-loading"),i.Ub())}function dt(t,e){1&t&&(i.Vb(0,"div",57),i.Qb(1,"app-loading"),i.Ub())}function ut(t,e){1&t&&(i.Vb(0,"div",57),i.Nc(1," \u6ca1\u6709\u6d3b\u8dc3\u7684\u8054\u7cfb\u4eba "),i.Ub())}function gt(t,e){if(1&t){const t=i.Wb();i.Vb(0,"div",66),i.Vb(1,"label",67),i.Vb(2,"input",68),i.dc("ngModelChange",(function(e){return i.Cc(t),i.gc(2).reportReason=e})),i.Ub(),i.Qb(3,"i"),i.Nc(4),i.Ub(),i.Ub()}if(2&t){const t=e.$implicit,n=i.gc(2);i.Bb(2),i.nc("value",t.id)("ngModel",n.reportReason),i.Bb(2),i.Pc(" ",t.name," ")}}function pt(t,e){if(1&t){const t=i.Wb();i.Vb(0,"div",58),i.Nc(1,"\u8bf7\u9009\u62e9\u4e3e\u62a5\u539f\u56e0"),i.Ub(),i.Qb(2,"div",59),i.Vb(3,"div",60),i.Lc(4,gt,5,3,"div",61),i.Ub(),i.Vb(5,"div"),i.Vb(6,"div",59),i.Nc(7,"\u5907\u6ce8\uff1a"),i.Ub(),i.Vb(8,"div"),i.Vb(9,"form",62),i.Qb(10,"textarea",63),i.Ub(),i.Ub(),i.Ub(),i.Qb(11,"app-dn-dialog-close-button",64),i.Vb(12,"div",65),i.Vb(13,"app-dn-button",40),i.dc("click",(function(e){return i.Cc(t),i.gc().report()})),i.Nc(14,"\u63d0\u4ea4"),i.Ub(),i.Ub()}if(2&t){const t=i.gc();i.Bb(4),i.nc("ngForOf",t.reportReasons),i.Bb(5),i.nc("formGroup",t.reportForm),i.Bb(2),i.nc("dialog","report-chat")}}function ft(t,e){1&t&&(i.Qb(0,"app-confirm-dialog"),i.Qb(1,"app-dn-dialog-close-button",64)),2&t&&(i.Bb(1),i.nc("dialog","confirm-dialog-inComponent"))}function bt(t,e){if(1&t&&(i.Qb(0,"app-message-dialog"),i.Vb(1,"div",69),i.Qb(2,"app-dn-dialog-button",70),i.Ub(),i.Qb(3,"app-dn-dialog-close-button",64)),2&t){const t=e.data;i.Bb(2),i.nc("buttonText",t.buttonText||"\u786e\u5b9a")("dialog","message-dialog-inComponent"),i.Bb(1),i.nc("dialog","message-dialog-inComponent")}}let mt=(()=>{class t{constructor(t,e,n,o,s,r,a,c,l,h,d,u,g,p,f,m,v){this.socketFacade=t,this._storage=e,this._confirmDialogService=n,this._dnDialogService=o,this.blacklistService=s,this._messageDialogService=r,this._userService=a,this.fb=c,this.pictureViewerService=l,this._notificationService=h,this._router=d,this._activatedRoute=u,this.location=g,this._httpClientHelper=p,this._utility=f,this._apiHelper=m,this._toastService=v,this.subscriptions=[],this.showSidebar=!1,this.fromSticky=!1,this.onCloseChatLog=new i.n,this.showEmojiBox=!1,this.loading=!1,this.setAttensionLoading=!1,this.allLoaded=!1,this.initiallized=!1,this.showYouChatSettings=!1,this.unreadMessages=[],this.showChatMenu=!1,this.mode="LISTEN",this.isDark=!1,this.unsubscribe$=new b.a,this.reportReasons=[{name:"\u653f\u6cbb",id:0},{name:"\u8272\u60c5",id:1},{name:"\u6076\u610f\u9a9a\u6270",id:2},{name:"\u53d1\u5e03\u5e7f\u544a",id:3},{name:"\u5176\u5b83",id:4}],this.allowImageExtensions=[".jpeg",".jpg",".gif",".png"],this.reportReason=this.reportReasons[0].id,this.maxiumImageFileSize=10485760,this.contactsNums=0,this.privateUserLoaded=!0,this.messageSound="./assets/sound/message.mp3",this.unreadSocketMsgs=0,this.lastSocketUnread=0,this.isFirstOpen=!0,this.clearEditorFlag=!1,this.audio=new Audio}ngAfterViewInit(){this.contacts$.pipe(Object(v.a)(t=>t.length)).subscribe(t=>{!this.selectedUser&&this.privateUserLoaded&&setTimeout(()=>{this.onSelectUser(t[0])},300)})}ngOnInit(){this.user=this._userService.user,this.isDark=!!parseInt(this._storage.GetConfig().isDark||"1"),this.reportForm=this.fb.group({description:new o.d("",[o.s.required])}),this.socketFacade.getRecentlyRecords(),this.loadingMessages$=this.socketFacade.loadingMessages$,this.loadingContacts$=this.socketFacade.loadingContacts$,this.selectedContact$=this.socketFacade.selectedContact$,this.latestMessage$=this.socketFacade.selectLatestedMessage$,this.unreadMessage$=this.socketFacade.concatsHasUnreadMessage$,this.selectCurrentMessagesGroupByDateTime$=this.socketFacade.selectCurrentMessagesGroupByDateTime$.pipe(Object(y.a)(()=>{this.initiallized=!0})),this.selectedContact$.pipe(Object(C.a)(this.unsubscribe$)).subscribe(t=>{var e,n,i;(null===(e=t)||void 0===e?void 0:e.loaded)&&(this.initiallized=!0),!(null===(n=t)||void 0===n?void 0:n.loaded)&&(null===(i=t)||void 0===i?void 0:i.id)&&(this.selectedUser=t,this.socketFacade.getRecentlyRecordsByUser({uid:t.id,currentUser:this.user.id,latest:!0})),t&&this.socketFacade.getFollowStatus(t.id)}),this.contacts$=this.socketFacade.contacts$.pipe(Object(y.a)(t=>{this.contacts=t})),this.settings$=this.socketFacade.settings$,this.noHistory$=Object(m.a)([this.loadingContacts$,this.contacts$]).pipe(Object(_.a)(([t,e])=>!t&&!e.length)),this.partner&&this.getPartnerInfo(),this.latestMessage$.pipe(Object(C.a)(this.unsubscribe$)).subscribe(t=>{var e;t&&(null===(e=this.selectedUser)||void 0===e?void 0:e.id)===t.uid&&"BROWSE"===this.mode&&this.unreadMessages.push(t)}),this.subscriptions.push(this._userService.userState$.subscribe(t=>{this.user=t}),this._utility.GetOrCreateSubscript("theme.change").subscribe(t=>{this.isDark="dark"==t}),this.contacts$.pipe(Object(v.a)(t=>t.length)).subscribe(t=>{0!==t.length&&(this.contactsNums=t.length)}),this.unreadMessage$.subscribe(t=>{this.unreadSocketMsgs=t.length,0===this.unreadSocketMsgs&&(this.lastSocketUnread=0),this.unreadSocketMsgs>0&&this.lastSocketUnread!==this.unreadSocketMsgs&&(this.isFirstOpen||this._utility.isUrlContains(["/user/messages/chat"])&&this.playAudio(),this.isFirstOpen=!1,this.lastSocketUnread=this.unreadSocketMsgs)})),this.socketFacade.getSettings(),setTimeout(()=>{this._notificationService.notifyEnterMsg(!0)},200)}getPartnerInfo(){this.privateUserLoaded=!1,this.getPrivateUserByKey(this.partner.id).subscribe(t=>{401!==t.code&&(this.partner=Object.assign(Object.assign({},this.partner),{name:t[0].nickname,avatar:t[0].headImage,plainUserId:t[0].touid}),this.socketFacade.SelectContact(this.partner),this.partner.temp&&(this.autoSendTemplate(this.partner.temp),this.fromSticky||this.clearUrlTemp())),this.privateUserLoaded=!0})}ngOnChanges(t){t.partner.isFirstChange()||this.getPartnerInfo()}playAudio(){this.audio.src=this.messageSound,this.audio.load(),this.audio.play(),console.log("msg received sound played")}getPrivateUserByKey(t){const e=this._apiHelper.APIV3_ENDPOINT()+"/user/getuserbaseinfo?key="+t;return this._httpClientHelper.get(e)}readState(){}onInputChange(t){this.userInput=t}sendMessage(t){this.selectedUser&&this.socketFacade.sendMessage({message:this.userInput.trim(),toUid:this.selectedUser.id,HeadImg:this.user.avatar})}resetFlag(){this.clearEditorFlag=!1}onSelectUser(t){this.initiallized=!1,this.selectedUser=t,this.unreadMessages=[],this.socketFacade.SelectContact(t),this.clearEditorFlag=!0,setTimeout(()=>{this.youChatLog.directiveRef.scrollToBottom(0,0)},100)}onRemoveUser(t){this.initiallized=!1,this.contacts.length?(this.selectedUser=this.contacts[0],this.unreadMessages=[],this.socketFacade.SelectContact(this.selectedUser)):this.selectedUser=void 0}onMessage(t){setTimeout(()=>{this.youChatLog.directiveRef.update()}),setTimeout(()=>{this.youChatLog.directiveRef.scrollToBottom(0,0)},100)}toggleEmojiBox(){this.showEmojiBox=!this.showEmojiBox,this.showEmojiBox?this.openList=this._utility.openList(this.emojiPickerElem.nativeElement,t=>{var e;t.getAttribute("class")&&(null===(e=t.getAttribute("class"))||void 0===e?void 0:e.split(" ")).indexOf("emoji-item")>-1&&(this.openList.unsubscribe(),this.showEmojiBox=!1)},t=>{this.openList.unsubscribe(),this.showEmojiBox=!1}):this.openList&&this.openList.unsubscribe()}onSendButtonClick(t){t.preventDefault(),t.stopPropagation(),this.editor.send()}onReachStart(){var t;this.initiallized&&!this.loading&&(null===(t=this.selectedUser)||void 0===t?void 0:t.id)&&Object(m.a)([this.selectedContact$,this.socketFacade.selectEarliestMessage$]).pipe(Object(x.a)(),Object(_.a)(([t,e])=>{!t.allLoaded&&e.id&&(this.youChatLog.directiveRef.scrollToTop(10,0),this.socketFacade.getRecentlyRecordsByUser({uid:t.id,currentUser:this.user.id,messageId:e.id,latest:!1}))}),Object(C.a)(this.unsubscribe$)).subscribe(()=>{this.loading=!1})}onReachEnd(){this.unreadMessages=[],this.mode="LISTEN",this.initiallized&&this.selectedUser&&this.selectedUser.hasNew&&this.socketFacade.MarkMessagesAsRead({uid:this.selectedUser.id})}onScrollUp(){this.mode="BROWSE"}onChanges(){"LISTEN"===this.mode&&this.selectedUser&&setTimeout(()=>{this.youChatLog.directiveRef.update(),setTimeout(()=>{this.youChatLog.directiveRef.scrollToBottom(0,0)},50),this.selectedUser.hasNew&&this.socketFacade.MarkMessagesAsRead({uid:this.selectedUser.id})})}scrollToBottom(){setTimeout(()=>{this.youChatLog.directiveRef.scrollToBottom(0,10)},0)}ngOnDestroy(){this.socketFacade.DeselectContact(),this.unsubscribe$.next(),this.unsubscribe$.complete(),this.subscriptions.forEach(t=>t.unsubscribe())}openYouChatSettings(){this.showYouChatSettings=!0}closeYouChatSettings(){this.showYouChatSettings=!1}toggleMessageFriedOnly(){this.socketFacade.toggleSettingsFriendOnly()}toggleChatMenu(){this.showChatMenu=!this.showChatMenu,this.showChatMenu?this.openList=this._utility.openList(this.chatMenuElem.nativeElement,null,t=>{this.openList.unsubscribe(),this.showChatMenu=!1}):this.openList&&this.openList.unsubscribe()}closeChatMenu(){this.showChatMenu=!1}clearHistory(){if(!this.selectedUser)return;const t="confirm-dialog-inComponent";this._confirmDialogService.setState({id:"delete-messages",message:"<h5>\u786e\u5b9a\u6e05\u7a7a\u6240\u6709\u804a\u5929\u8bb0\u5f55\u5417\uff1f</h5>",showIcon:!1,state:s.b.Unknown,cancelText:"\u786e\u5b9a",okText:"\u53d6\u6d88"}),this._dnDialogService.open(t);const e=this._confirmDialogService.confirmDialogSource$.subscribe(n=>{n.state!==s.b.Unknown&&(this._dnDialogService.close(t),e.unsubscribe()),n.state===s.b.Cancalled&&"delete-messages"===n.id&&this.socketFacade.ClearChatHistory(this.selectedUser.id)})}addToBlackList(){if(!this.selectedUser)return;const t="confirm-dialog-inComponent";this._confirmDialogService.setState({id:"add-to-blacklist",message:'<h5 style="margin-bottom: 15px;">\u60a8\u786e\u5b9a\u8981\u5c06TA\u52a0\u5165\u9ed1\u540d\u5355\u5417\uff1f</h5><h5>(\u52a0\u5165\u9ed1\u540d\u5355\u5c06\u4f1a\u5c4f\u853dTA\u7684\u79c1\u804a\u548c\u8bc4\u8bba)</h5>',showIcon:!1,state:s.b.Unknown,cancelText:"\u786e\u5b9a",okText:"\u53d6\u6d88"}),this._dnDialogService.open(t);const e=this._confirmDialogService.confirmDialogSource$.subscribe(n=>{n.state!==s.b.Unknown&&(this._dnDialogService.close(t),e.unsubscribe()),n.state===s.b.Cancalled&&"add-to-blacklist"===n.id&&this.blacklistService.addBlacklist({id:this.selectedUser.plainUserId}).subscribe(t=>{401!==t.code&&(this._messageDialogService.setState({message:"\u7528\u6237\u62c9\u9ed1\u6210\u529f"}),this._dnDialogService.open("message-dialog-inComponent"),setTimeout(()=>{this.socketFacade.getRecentlyRecords()},200))})})}reportUser(){var t;this.reportForm=this.fb.group({description:new o.d("",[o.s.required])}),this._dnDialogService.open("report-chat",{size:{width:397,height:419},toUid:null===(t=this.selectedUser)||void 0===t?void 0:t.id})}report(){this.socketFacade.report({touid:this.selectedUser.id,reason:this.reportForm.value.description,infotype:this.reportReason})}close(){}changeFollowStatus(){this.socketFacade.changeFollowStatus(this.selectedUser.id)}addImage(){this.imageInput.nativeElement.click()}onImageChange(t){const e=t.target.files||t.dataTransfer.files;if(0===e.length)return;var n=Object(a.a)(e[0].name);if(-1==this.allowImageExtensions.findIndex(t=>t==n))return!1;if(t.target.files||(t.target.files=t.dataTransfer.files),e[0].size>this.maxiumImageFileSize)return this._messageDialogService.setState({message:"\u8d85\u8fc7\u6700\u5927\u5c3a\u5bf8"}),this._dnDialogService.open("message-dialog-inComponent"),!1;const i=e[0].size;i>1048576&&this._toastService.showBlackToast("\u56fe\u7247\u53d1\u9001\u4e2d\uff0c\u8bf7\u7a0d\u7b49...");var o=new FileReader;o.readAsDataURL(e[0]),o.onload=t=>{var e=new Image;e.src=t.target.result.toString(),e.onload=t=>{if(i>2097152)return void this.compress(e.src,1.5);const n=e.src.split(",")[1];this.socketFacade.sendMessage({code:n,toUid:this.selectedUser.id,HeadImg:this.user.avatar})}},this.imageInput.nativeElement.value=""}compress(t,e){let n=new Image;n.src=t,n.onload=()=>{let t=document.createElement("canvas"),i=n.width/e,o=n.height/e;t.setAttribute("width",i+"px"),t.setAttribute("height",o+"px"),t.getContext("2d").drawImage(n,0,0,i,o);let s=t.toDataURL("image/jpeg");t.toBlob(t=>{if(t.size>2097152)this.compress(s,e);else{const t=s.split(",")[1];this.socketFacade.sendMessage({code:t,toUid:this.selectedUser.id,HeadImg:this.user.avatar})}},"image/jpeg")}}openPictureViewer(t){this.socketFacade.selectCurrentImages$.pipe(Object(P.a)(1)).subscribe(e=>{let n=0;const i=[...e].reverse().map((e,i)=>(e.id===t.id&&(n=i),e.context));this.pictureViewerService.open(i,n)})}closeChatLog(){this.onCloseChatLog.emit({showChatLog:!1})}autoSendTemplate(t){if(this.selectedUser){const e=this.user.autoSendServiceMsgUids;let n;switch(t){case"recharge":n=this.partner.product?`\u6211\u6b63\u5728\u8d2d\u4e70${this.partner.product}<br>\u6211\u7684\u8d26\u53f7\u662f\uff1a${this.user.accountName}<br>\u6211\u7684\u6635\u79f0\u662f\uff1a${this.user.nickname}<br>\u5e0c\u671b\u4eba\u5de5\u5145\u503c`:`\u6211\u7684\u8d26\u53f7\u662f\uff1a${this.user.accountName}<br>\u6211\u7684\u6635\u79f0\u662f\uff1a${this.user.nickname}<br>\u5e0c\u671b\u4eba\u5de5\u5145\u503c`;break;case"cs":n=`\u672c\u8d26\u53f7\u7ed1\u5b9a\u7684\u90ae\u7bb1\u548c\u624b\u673a\u53f7\u5206\u522b\u662f\uff1a<br>\u90ae\u7bb1\uff1a${this.user.name}<br>\u624b\u673a\u53f7\uff1a<br>\u6240\u5728\u5730\u533a\uff1a${this.user.region}<br>\u4f1a\u5458\u622a\u81f3\u65f6\u95f4\uff1a${this.user.daysOfMembership>0?this.user.membershipExpiryDate:""}`;break;case"tgc":n=`\u672c\u8d26\u53f7\u7ed1\u5b9a\u7684\u90ae\u7bb1\u548c\u624b\u673a\u53f7\u5206\u522b\u662f\uff1a<br>\u90ae\u7bb1\uff1a${this.user.name}<br>\u624b\u673a\u53f7\uff1a<br>\u4f1a\u5458\u622a\u81f3\u65f6\u95f4\uff1a${this.user.daysOfMembership>0?this.user.membershipExpiryDate:""}`}setTimeout(()=>{const t=-1===e.indexOf(this.selectedUser.plainUserId);n&&t&&(console.log(n),this.socketFacade.sendMessage({message:n,toUid:this.selectedUser.plainUserId,HeadImg:this.user.avatar}),e.push(this.selectedUser.plainUserId))},50)}}clearUrlTemp(){const t=this._router.createUrlTree([],{relativeTo:this._activatedRoute,queryParams:{id:this.partner.id}}).toString();this.location.go(t)}navToPage(){this._router.navigate(["/user/messages/chat"],{queryParams:{id:this.selectedUser.id}}),this.closeChatLog()}navToUserPage(){this.fromSticky&&this.selectedUser&&(this._router.navigate(["/space/"+this.selectedUser.id]),this.closeChatLog())}focusInEditor(){this.editor.editorRef.nativeElement.focus(),document.execCommand("selectAll",!1,null),document.getSelection().collapseToEnd()}}return t.\u0275fac=function(e){return new(e||t)(i.Pb(u.a),i.Pb(c.a),i.Pb(s.a),i.Pb(h.a),i.Pb(g.a),i.Pb(r.a),i.Pb(w.a),i.Pb(o.c),i.Pb(d.a),i.Pb(p.a),i.Pb(S.d),i.Pb(S.a),i.Pb(I.j),i.Pb(O.a),i.Pb(f.a),i.Pb(M.a),i.Pb(k.a))},t.\u0275cmp=i.Jb({type:t,selectors:[["app-chat-layout"]],viewQuery:function(t,e){var n;1&t&&(i.Uc(G,!0),i.Uc(l.a,!0),i.Uc(W,!0),i.Uc(q,!0),i.Uc(Q,!0)),2&t&&(i.yc(n=i.ec())&&(e.youChatLog=n.first),i.yc(n=i.ec())&&(e.editor=n.first),i.yc(n=i.ec())&&(e.imageInput=n.first),i.yc(n=i.ec())&&(e.emojiPickerElem=n.first),i.yc(n=i.ec())&&(e.chatMenuElem=n.first))},inputs:{showSidebar:"showSidebar",partner:"partner",fromSticky:"fromSticky"},outputs:{onCloseChatLog:"onCloseChatLog"},features:[i.zb()],decls:29,vars:36,consts:[[1,"you-chat","p-0",3,"ngClass"],["class","you-chat-sidebar",3,"ngClass",4,"ngIf"],[2,"flex","1","height","100%","position","relative"],[1,"you-chat-content-controls",3,"ngClass"],[1,"you-chat-content-controls-title",3,"ngClass","click"],["class","follow-button",3,"ngClass","click",4,"ngIf"],["class","ml-auto",4,"ngIf"],["class","ml-auto d-flex align-items-center",4,"ngIf"],[1,"chat-container",3,"ngClass"],[1,"you-chat-log",2,"flex","0 1 auto","overflow","hidden",3,"ngClass"],[2,"height","100%",3,"psYReachStart","psYReachEnd","psScrollUp"],["youChatLog",""],[3,"messages","currentUser","fromSticky","onChanged","onOpenViewer"],["class","unread-messages",3,"click",4,"ngIf"],["class","you-chat-input","style","flex: 0 0 auto;",4,"ngIf"],["class","loading-messages",4,"ngIf"],["id","report-chat",1,"dn-dialog-background",2,"position","relative"],["id","confirm-dialog-inComponent",1,"dn-dialog-background"],["id","message-dialog-inComponent",1,"dn-dialog-background"],[1,"you-chat-sidebar",3,"ngClass"],["class","you-chat-sidebar-controls",4,"ngIf"],["class","you-chat-sidebar-controls stickyStyle justify-content-center","style","border-right: none;",4,"ngIf"],[2,"height","calc(100% - 38px)"],[4,"ngIf"],[3,"selectedUser","fromSticky","onSelectUser","onRemoveUser",4,"ngIf"],[1,"you-chat-sidebar-controls"],["class","show-settings",4,"ngIf"],[1,"show-settings"],[1,"iconfont","iconshezhi","mr-3",3,"click"],[1,"show-contacts",3,"click"],[1,"iconfont","iconjiantou_liebiaoxiangzuo","mr-3",3,"click"],[1,"you-chat-sidebar-controls","stickyStyle","justify-content-center",2,"border-right","none"],[1,"you-chat-settings-item"],[2,"margin-right","5px",3,"status","changed"],[3,"selectedUser","fromSticky","onSelectUser","onRemoveUser"],[1,"follow-button",3,"ngClass","click"],[1,"ml-auto"],["chatMenuElem",""],["class","chat-menu",4,"ngIf"],[1,"chat-menu"],[3,"click"],[1,"ml-auto","d-flex","align-items-center"],[1,"iconfont","iconTZ","sticky-navTo",3,"click"],[1,"iconfont","iconguanbi","sticky-close",3,"click"],[1,"unread-messages",3,"click"],[1,"you-chat-input",2,"flex","0 0 auto"],[1,"you-chat-input-containter",3,"ngClass"],[1,"d-flex","align-items-center",3,"ngClass"],["emojiPickerElem",""],[3,"onClick"],[1,"iconfont","iconbiaoqing"],["hidden","","type","file","accept","image/jpeg,image/png,.jpeg,.jpg,.png",3,"change"],["imageInput",""],[1,"iconfont","icontupian2"],[3,"placeholder","clearEditorFlag","ValueChangedEvent","scrollEndEvent","SendEvent","onClearedEvent"],["contenteditable",""],[1,"you-chat-input-controls","d-flex","justify-content-end",3,"ngClass","click"],[1,"loading-messages"],[1,"mt-1","title"],[1,"mt-2","mb-3"],[1,"reasons"],["class","reason",4,"ngFor","ngForOf"],[3,"formGroup"],["formControlName","description","name","","id","","rows"," 3","maxlength","100","placeholder","\u8bf7\u8f93\u5165\u4e3e\u62a5\u539f\u56e0"],[3,"dialog"],[1,"d-flex","justify-content-center","mt-3"],[1,"reason"],[1,"rad","mb-3"],["type","radio","name","report-reasons",3,"value","ngModel","ngModelChange"],[1,"dn-dialog-buttons"],[3,"buttonText","dialog"]],template:function(t,e){1&t&&(i.Vb(0,"div",0),i.Lc(1,et,6,7,"div",1),i.Vb(2,"app-chat-container",2),i.Vb(3,"div",3),i.Vb(4,"div",4),i.dc("click",(function(t){return e.navToUserPage()})),i.Nc(5),i.Lc(6,it,2,6,"button",5),i.Ub(),i.Lc(7,st,4,1,"div",6),i.Lc(8,rt,3,0,"div",7),i.Ub(),i.Vb(9,"div",8),i.Vb(10,"div",9),i.Vb(11,"perfect-scrollbar",10,11),i.dc("psYReachStart",(function(t){return e.onReachStart()}))("psYReachEnd",(function(t){return e.onReachEnd()}))("psScrollUp",(function(t){return e.onScrollUp()})),i.Vb(13,"app-you-chat-log",12),i.dc("onChanged",(function(t){return e.onChanges()}))("onOpenViewer",(function(t){return e.openPictureViewer(t)})),i.hc(14,"async"),i.Ub(),i.Lc(15,at,2,0,"div",13),i.Ub(),i.Ub(),i.Lc(16,lt,18,10,"div",14),i.Lc(17,ht,2,0,"div",15),i.hc(18,"async"),i.Ub(),i.Ub(),i.Lc(19,dt,2,0,"div",15),i.hc(20,"async"),i.Lc(21,ut,2,0,"div",15),i.hc(22,"async"),i.Ub(),i.Vb(23,"dn-dialog",16),i.Lc(24,pt,15,3,"ng-template"),i.Ub(),i.Vb(25,"dn-dialog",17),i.Lc(26,ft,2,1,"ng-template"),i.Ub(),i.Vb(27,"dn-dialog",18),i.Lc(28,bt,4,3,"ng-template"),i.Ub()),2&t&&(i.nc("ngClass",i.sc(26,tt,e.fromSticky)),i.Bb(1),i.nc("ngIf",e.showSidebar),i.Bb(2),i.nc("ngClass",i.sc(28,tt,e.fromSticky)),i.Bb(1),i.nc("ngClass",i.sc(30,tt,e.fromSticky)),i.Bb(1),i.Pc(" ",null==e.selectedUser?null:e.selectedUser.name," "),i.Bb(1),i.nc("ngIf",!!e.selectedUser&&!e.fromSticky),i.Bb(1),i.nc("ngIf",!e.fromSticky),i.Bb(1),i.nc("ngIf",e.fromSticky),i.Bb(1),i.nc("ngClass",i.sc(32,tt,e.fromSticky)),i.Bb(1),i.nc("ngClass",i.sc(34,tt,e.fromSticky)),i.Bb(3),i.nc("messages",i.ic(14,18,e.socketFacade.selectCurrentMessagesGroupByDateTime$))("currentUser",e.user)("fromSticky",e.fromSticky),i.Bb(2),i.nc("ngIf",e.unreadMessages.length),i.Bb(1),i.nc("ngIf",!!e.selectedUser),i.Bb(1),i.nc("ngIf",i.ic(18,20,e.loadingMessages$)),i.Bb(2),i.nc("ngIf",i.ic(20,22,e.loadingContacts$)),i.Bb(2),i.nc("ngIf",i.ic(22,24,e.noHistory$)))},directives:[I.l,I.n,L.a,T.b,A.a,N.a,B.a,V.a,U.a,l.a,D.a,E.a,R.a,I.m,o.u,o.l,o.f,o.a,o.k,o.e,o.i,F.a,o.o,o.m,j.a,z.a,H.a],pipes:[I.b],styles:['.chat-dev[_ngcontent-%COMP%]{background-color:#171928!important}.light[_nghost-%COMP%]   .chat-dev[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .chat-dev[_ngcontent-%COMP%]{background-color:#eee!important}.chat-dev[_ngcontent-%COMP%]:before{content:"";width:189px;height:202px}.chat-dev.dark[_ngcontent-%COMP%]:before{background:url(/assets/images/user-center/chat_dev_dark.png)}.chat-dev.light[_ngcontent-%COMP%]:before{background:url(/assets/images/user-center/chat_dev_light.png)}.you-chat-sidebar[_ngcontent-%COMP%]{background-color:#383844}.light[_nghost-%COMP%]   .you-chat-sidebar[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .you-chat-sidebar[_ngcontent-%COMP%]{background-color:#fafafa!important}.you-chat-sidebar-controls[_ngcontent-%COMP%]{background:#383844;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;border-right:1px solid hsla(0,0%,40%,.2);border-bottom:1px solid hsla(0,0%,40%,.2);height:38px}.light[_nghost-%COMP%]   .you-chat-sidebar-controls[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .you-chat-sidebar-controls[_ngcontent-%COMP%]{background-color:#f4f4f4!important}.you-chat-sidebar-controls[_ngcontent-%COMP%]   .show-settings[_ngcontent-%COMP%]{margin-left:auto}.you-chat-sidebar-controls[_ngcontent-%COMP%]   .show-contacts[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;cursor:pointer}.you-chat-sidebar-controls[_ngcontent-%COMP%]   .iconfont[_ngcontent-%COMP%]{cursor:pointer}.you-chat-content-controls[_ngcontent-%COMP%]{position:relative;background-color:#383844;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;border-bottom:1px solid hsla(0,0%,40%,.2);height:38px}.light[_nghost-%COMP%]   .you-chat-content-controls[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .you-chat-content-controls[_ngcontent-%COMP%]{background-color:#f4f4f4!important}.you-chat-content-controls[_ngcontent-%COMP%]   .chat-menu[_ngcontent-%COMP%]{position:absolute;z-index:1;width:120px;background:#666;padding:15px;text-align:center;right:8px;top:42px;background-color:#383844;box-shadow:1.95px 1.95px 2.6px rgba(0,0,0,.15)}.light[_nghost-%COMP%]   .you-chat-content-controls[_ngcontent-%COMP%]   .chat-menu[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .you-chat-content-controls[_ngcontent-%COMP%]   .chat-menu[_ngcontent-%COMP%]{background-color:#fafafa!important}.you-chat-content-controls[_ngcontent-%COMP%]   .chat-menu[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:5px;color:hsla(0,0%,100%,.4);cursor:pointer}.light[_nghost-%COMP%]   .you-chat-content-controls[_ngcontent-%COMP%]   .chat-menu[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .you-chat-content-controls[_ngcontent-%COMP%]   .chat-menu[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{color:#525252}.you-chat-content-controls[_ngcontent-%COMP%]   .chat-menu[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:hover{color:#00c0ff!important}.you-chat-content-controls[_ngcontent-%COMP%]   .icongengduo[_ngcontent-%COMP%]{z-index:1;margin-left:auto;margin-right:3em}.you-chat-content-controls-title[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);white-space:nowrap}.you-chat-content-controls[_ngcontent-%COMP%]   .iconfont[_ngcontent-%COMP%]{cursor:pointer}.you-chat-content-controls.stickyStyle[_ngcontent-%COMP%]{height:32px;font-size:12px;border-bottom:1px solid hsla(0,0%,100%,.05);background-color:#1b1d27}.light[_nghost-%COMP%]   .you-chat-content-controls.stickyStyle[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .you-chat-content-controls.stickyStyle[_ngcontent-%COMP%]{background-color:#fff!important}.you-chat-settings-item[_ngcontent-%COMP%]{padding:15px 20px;display:-webkit-box;display:flex;-webkit-box-pack:justify;justify-content:space-between;-webkit-box-align:center;align-items:center}#report-chat[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#fff}.light[_nghost-%COMP%]   #report-chat[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   #report-chat[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#333}#report-chat[_ngcontent-%COMP%]   .reasons[_ngcontent-%COMP%]{display:-webkit-box;display:flex;flex-wrap:wrap}#report-chat[_ngcontent-%COMP%]   .reason[_ngcontent-%COMP%]{width:35%}.message[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin-bottom:15px}textarea[_ngcontent-%COMP%]{resize:none;padding:15px;border-radius:0;background-color:#1e1d2f;width:100%;border:none;color:#fff}.light[_nghost-%COMP%]   textarea[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   textarea[_ngcontent-%COMP%]{background-color:#eee}.light[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{color:#333!important}.follow-button[_ngcontent-%COMP%]{margin-left:5px;background-color:transparent;border:1px solid #666;color:#666;padding:0 4px;border-radius:2px;outline:none;-webkit-filter:brightness(85%);filter:brightness(85%)}.follow-button.not-followed[_ngcontent-%COMP%]{color:#00c0ff;border-color:#00c0ff}.follow-button[_ngcontent-%COMP%]:hover{-webkit-filter:brightness(90%);filter:brightness(90%)}.follow-button[_ngcontent-%COMP%]:active{-webkit-filter:brightness(100%);filter:brightness(100%)}.sticky-close[_ngcontent-%COMP%]{margin-right:10px;font-size:14px;color:hsla(0,0%,100%,.4)}.light[_nghost-%COMP%]   .sticky-close[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .sticky-close[_ngcontent-%COMP%]{color:#888}.sticky-close[_ngcontent-%COMP%]:hover{color:#fff}.light[_nghost-%COMP%]   .sticky-close[_ngcontent-%COMP%]:hover, .light   [_nghost-%COMP%]   .sticky-close[_ngcontent-%COMP%]:hover{color:#333}.sticky-navTo[_ngcontent-%COMP%]{margin-right:10px;font-size:18px;color:hsla(0,0%,100%,.4)}.light[_nghost-%COMP%]   .sticky-navTo[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .sticky-navTo[_ngcontent-%COMP%]{color:#888}.sticky-navTo[_ngcontent-%COMP%]:hover{color:#fff}.light[_nghost-%COMP%]   .sticky-navTo[_ngcontent-%COMP%]:hover, .light   [_nghost-%COMP%]   .sticky-navTo[_ngcontent-%COMP%]:hover{color:#333}.you-chat-content-controls-title.stickyStyle[_ngcontent-%COMP%]{cursor:pointer;color:hsla(0,0%,100%,.7)}.light[_ngcontent-%COMP%]   .you-chat-content-controls-title.stickyStyle[_ngcontent-%COMP%]{color:#333}.you-chat-content-controls-title.stickyStyle[_ngcontent-%COMP%]:hover{text-decoration:underline}']}),t})()},"/uUt":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n("7o/Q");function o(t,e){return n=>n.lift(new s(t,e))}class s{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new r(t,this.compare,this.keySelector))}}class r extends i.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(i){return this.destination.error(i)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(i){return this.destination.error(i)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}},0:function(t,e,n){t.exports=n("zUnb")},"02qi":function(t,e,n){"use strict";n.d(e,"a",(function(){return b}));var i=n("fXoL"),o=n("Rcsm"),s=n("ofXK"),r=n("rIor");const a=["imageInput"];function c(t,e){1&t&&i.Qb(0,"i",8)}function l(t,e){if(1&t&&(i.Vb(0,"div",9),i.Nc(1),i.Ub()),2&t){const t=i.gc();i.Bb(1),i.Oc(t.errorMessage)}}const h=function(t){return{"background-image":t}};function d(t,e){if(1&t&&i.Qb(0,"div",10),2&t){const t=i.gc();i.nc("ngStyle",i.sc(1,h,t.remoteImage?"url('"+t.remoteImage+"')":"url("+t.imgBase64+")"))}}function u(t,e){1&t&&(i.Vb(0,"div",20),i.Nc(1,"\u6b63\u5728\u52a0\u8f7d\u56fe\u7247\uff0c\u8bf7\u7a0d\u5019..."),i.Ub())}function g(t,e){if(1&t){const t=i.Wb();i.Vb(0,"div",11),i.Vb(1,"div",12),i.Vb(2,"div",13),i.Vb(3,"div",14),i.Nc(4," \u88c1\u5207\u56fe\u7247 "),i.Ub(),i.Vb(5,"div",15),i.Vb(6,"image-cropper",16),i.dc("imageCropped",(function(e){return i.Cc(t),i.gc().imageCropped(e)}))("imageLoaded",(function(e){return i.Cc(t),i.gc().imageLoaded()}))("cropperReady",(function(e){return i.Cc(t),i.gc().cropperReady()}))("loadImageFailed",(function(e){return i.Cc(t),i.gc().loadImageFailed()})),i.Ub(),i.Lc(7,u,2,0,"div",17),i.Ub(),i.Vb(8,"div",18),i.Vb(9,"button",19),i.dc("click",(function(e){return i.Cc(t),i.gc().saveImageCropper()})),i.Nc(10,"\u786e\u5b9a"),i.Ub(),i.Vb(11,"button",19),i.dc("click",(function(e){return i.Cc(t),i.gc().cancelImageCropper()})),i.Nc(12,"\u53d6\u6d88"),i.Ub(),i.Ub(),i.Ub(),i.Ub(),i.Ub()}if(2&t){const t=i.gc();i.Bb(6),i.nc("imageChangedEvent",t.imageChangedEvent)("maintainAspectRatio",!0)("resizeToWidth",t.imageWidth)("aspectRatio",t.imageWidth/t.imageHeight),i.Bb(1),i.nc("ngIf",t.loadingImage)}}const p=function(t,e){return{width:t,height:e}},f=function(t,e,n,i){return{"drag-over":t,"has-error":e,"bgc-darker":n,"sl-font":i}};let b=(()=>{class t{constructor(){this.maxiumImageFileSize=1048576,this.inPopUp=!1,this.inActivity=!1,this.onFileChange=new i.n,this.dragOver=!1,this.loadingImage=!0,this.showImageCropper=!1,this.allowImageExtensions=[".jpeg",".jpg",".gif",".png"],this.acceptImage=this.allowImageExtensions.map(t=>".jpg"==t?"image/jpeg":t.replace(".","image/")).join(","),this.imageChangedEvent=""}ngOnInit(){}triggerImage(){this.imageInput.nativeElement.click()}onChange(t){this.imageChangedEvent=t;const e=t.target.files||t.dataTransfer.files;if(0!==e.length){var n=Object(o.a)(e[0].name);if(-1==this.allowImageExtensions.findIndex(t=>t==n))return this.remoteImage=void 0,this.imgBase64=void 0,this.errorMessage="\u4e0d\u652f\u6301\u7684\u6587\u4ef6\u7c7b\u578b",!1;t.target.files||(t.target.files=t.dataTransfer.files),this.openImageCropper()}}imageCropped(t){setTimeout(()=>{this.imgBase64=t.base64,this.errorMessage=null,this.onFileChange.emit(this.imgBase64)},800)}imageLoaded(t){console.log("image Loaded")}cropperReady(){this.loadingImage=!1,console.log("cropper ready")}loadImageFailed(){this.loadingImage=!1,this.imgBase64=void 0,console.log("load Image Failed")}openImageCropper(){this.loadingImage=!0,this.showImageCropper=!0}saveImageCropper(){this.showImageCropper=!1}cancelImageCropper(){this.imgBase64=void 0,this.showImageCropper=!1}onDrop(t){t.preventDefault(),t.stopPropagation(),this.dragOver=!1,this.onChange(t)}onDragOver(t){t.preventDefault(),t.stopPropagation(),this.dragOver=!0}onDragFinish(t){this.dragOver=!1}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Jb({type:t,selectors:[["app-image-input"]],viewQuery:function(t,e){var n;1&t&&i.Uc(a,!0),2&t&&i.yc(n=i.ec())&&(e.imageInput=n.first)},inputs:{width:"width",height:"height",maxiumImageFileSize:"maxiumImageFileSize",imageWidth:"imageWidth",imageHeight:"imageHeight",remoteImage:"remoteImage",errorMessage:"errorMessage",inPopUp:"inPopUp",inActivity:"inActivity"},outputs:{onFileChange:"onFileChange"},decls:9,vars:14,consts:[[1,"image-input",3,"ngStyle","ngClass","click","dragover","drop","dragleave"],[1,"text-center"],["class","iconfont icontupian",4,"ngIf"],["class","text-red",4,"ngIf"],["class","preview",3,"ngStyle",4,"ngIf"],["hidden","","type","file","accept","image/gif,image/jpeg,image/png,.gif,.jpeg,.jpg,.png",3,"change"],["imageInput",""],["class","image-cropper-overlay",4,"ngIf"],[1,"iconfont","icontupian"],[1,"text-red"],[1,"preview",3,"ngStyle"],[1,"image-cropper-overlay"],[1,"image-cropper-overlay-container"],[1,"image-cropper-overlay-inner"],[1,"image-cropper-header"],[1,"image-cropper-content"],["format","png",3,"imageChangedEvent","maintainAspectRatio","resizeToWidth","aspectRatio","imageCropped","imageLoaded","cropperReady","loadImageFailed"],["class","loading-image",4,"ngIf"],[1,"image-cropper-footer"],[3,"click"],[1,"loading-image"]],template:function(t,e){1&t&&(i.Vb(0,"div",0),i.dc("click",(function(t){return e.triggerImage()}))("dragover",(function(t){return e.onDragOver(t)}))("drop",(function(t){return e.onDrop(t)}))("dragleave",(function(t){return e.onDragFinish(t)})),i.Vb(1,"div",1),i.Vb(2,"div"),i.Lc(3,c,1,0,"i",2),i.Ub(),i.Lc(4,l,2,1,"div",3),i.Ub(),i.Lc(5,d,1,3,"div",4),i.Vb(6,"input",5,6),i.dc("change",(function(t){return e.onChange(t)})),i.Ub(),i.Ub(),i.Lc(8,g,13,5,"div",7)),2&t&&(i.nc("ngStyle",i.tc(6,p,e.width?e.width+"px":"100%",e.height+"px"))("ngClass",i.vc(9,f,e.dragOver,!!e.errorMessage,e.inPopUp,e.inActivity)),i.Bb(3),i.nc("ngIf",!e.imgBase64&&!e.remoteImage),i.Bb(1),i.nc("ngIf",e.errorMessage),i.Bb(1),i.nc("ngIf",e.imgBase64||e.remoteImage),i.Bb(3),i.nc("ngIf",e.showImageCropper))},directives:[s.o,s.l,s.n,r.a],styles:[".image-input{background-color:#2b2c3a;cursor:pointer;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center}.light .image-input{background-color:#eee}.image-input.bgc-darker{background-color:#1c1d2f}.light .image-input.bgc-darker{background-color:#eee}.image-input.has-error{border:1px solid red}.image-input .iconfont{font-size:128px}.light .image-input .iconfont{color:#aaa}.image-input.sl-font .iconfont{font-size:64px}.image-input.drag-over{border:2px dotted grey}.preview{width:100%;height:100%;background-size:cover;background-position:50%}.image-cropper-overlay{position:fixed;top:0;bottom:0;left:0;right:0;background-color:rgba(34,34,34,.6);z-index:1000}.image-cropper-overlay-container{position:relative;height:100%}.image-cropper-overlay-container .image-cropper-overlay-inner{position:absolute;left:50%;top:50%;width:680px;height:480px;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);box-shadow:3px 3px 5px 2px rgba(34,34,34,.6);background-color:#111}.image-cropper-overlay-container .image-cropper-header{height:40px;width:100;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;padding:0 15px;font-size:17px}.image-cropper-overlay-container .image-cropper-footer{height:60px;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center}.image-cropper-overlay-container .image-cropper-footer button{border:none;padding:5px;min-width:80px;outline:none;background-color:#efefef}.image-cropper-overlay-container .image-cropper-footer button:hover{background-color:#f5f0f0}.image-cropper-overlay-container .image-cropper-footer button:focus{background-color:#b3b2b2}.image-cropper-overlay-container .image-cropper-footer button:first-child{margin-right:15px;background-color:#00c0ff;color:#fff}.image-cropper-overlay-container .image-cropper-footer button:first-child:hover{background-color:#03a9f4}.image-cropper-overlay-container .image-cropper-footer button:first-child:focus{background-color:#0cadf8}.image-cropper-overlay-container .image-cropper-content{position:relative;padding:10px;height:calc(100% - 100px);background-color:#333}.image-cropper-overlay-container .loading-image,.image-cropper-overlay-container image-cropper{position:absolute;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.image-cropper-overlay-container .loading-image{z-index:10}overlay{display:none}"],encapsulation:2}),t})()},"08EM":function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var i=n("fXoL"),o=n("ofXK");function s(t,e){if(1&t&&i.Qb(0,"img",3),2&t){const t=i.gc();i.Kc("width",t.width,"px"),i.nc("src","./assets/images/vip"+t.image+".png",i.Fc)}}const r=function(t){return{isVip:t}};function a(t,e){if(1&t&&(i.Vb(0,"span",4),i.Vb(1,"b"),i.Nc(2),i.Ub(),i.Ub()),2&t){const t=i.gc();i.nc("ngClass",i.sc(2,r,t.isVip)),i.Bb(2),i.Oc(t.text)}}let c=(()=>{class t{constructor(){this.image="0",this.text="\u60a8\u8fd8\u6ca1\u6709\u5f00\u901aVIP",this.isVip=!1,this.noText=!1}ngOnInit(){}ngOnChanges(t){switch(this.membership){case"cpvip":case"editor":this.image="4",this.text="\u60c5\u4fa3VIP",this.isVip=!0;break;case"etvip":this.image="4",this.text="\u4f01\u4e1aVIP",this.isVip=!0;break;case"gvip":this.image="2",this.text="\u9ec4\u91d1VIP",this.isVip=!0;break;case"vip":this.image="0",this.text="\u60a8\u8fd8\u6ca1\u6709\u5f00\u901aVIP",this.isVip=!1;break;case"royalAdmin":this.image="4",this.text="\u7ad9\u957f",this.isVip=!0;break;case"royalVip":this.image="3",this.text="\u81f3\u5c0aVIP",this.isVip=!0;break;default:this.image="0",this.text="\u60a8\u8fd8\u6ca1\u6709\u5f00\u901aVIP",this.isVip=!1}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Jb({type:t,selectors:[["app-membership-icon"]],inputs:{membership:"membership",noText:"noText",width:"width",height:"height"},features:[i.zb()],decls:3,vars:2,consts:[[1,"d-flex","align-items-center"],["style","margin-right: 5px;",3,"src","width",4,"ngIf"],["class","text",3,"ngClass",4,"ngIf"],[2,"margin-right","5px",3,"src"],[1,"text",3,"ngClass"]],template:function(t,e){1&t&&(i.Vb(0,"div",0),i.Lc(1,s,1,3,"img",1),i.Lc(2,a,3,4,"span",2),i.Ub()),2&t&&(i.Bb(1),i.nc("ngIf",e.isVip),i.Bb(1),i.nc("ngIf",!e.noText))},directives:[o.n,o.l],styles:[".text-gray[_ngcontent-%COMP%]{color:#f8f8f8!important}.text-light[_ngcontent-%COMP%]{color:hsla(0,0%,100%,.4)!important}.light[_ngcontent-%COMP%]   .text-light[_ngcontent-%COMP%]{color:#888!important}.text-large[_ngcontent-%COMP%]{font-size:18px}text-medium[_ngcontent-%COMP%]{font-size:16px}.text-small[_ngcontent-%COMP%]{font-size:13px}.dn-button[_ngcontent-%COMP%]{border:none;outline:none!important;display:block;padding:6px 8px;width:auto;min-width:100px;margin:0 .4rem;border-radius:0;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;text-align:center;color:#fff!important;background-color:#373843}.light[_ngcontent-%COMP%]   .dn-button[_ngcontent-%COMP%]{background-color:#777}.dn-button[_ngcontent-%COMP%]:hover{background-color:hsla(0,0%,40%,.2)}.dn-button-plain[_ngcontent-%COMP%]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border:1px solid silver;color:#000!important;background-color:#fff;padding:6px 20px;cursor:pointer}.dn-button-plain[_ngcontent-%COMP%]:hover{background-color:#cacaca;color:#fff!important}.dn-button-outline[_ngcontent-%COMP%]{outline:none!important;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border:2px solid silver;border-radius:0;background-color:#fff;padding:2px 14px;cursor:pointer}.dn-button-outline[_ngcontent-%COMP%]:hover{background-color:#cacaca;color:#fff!important}.dn-button-outline.orange[_ngcontent-%COMP%]{color:#f49800;border-color:#f49800;background-color:#434343}.dn-button-outline.orange[_ngcontent-%COMP%]:hover{color:#fe9e00!important;border-color:#fe9e00!important;background-color:#000}.dn-button-blue[_ngcontent-%COMP%]{color:#fff!important;background-color:#00a8ec!important}.dn-button-blue[_ngcontent-%COMP%]:hover{background-color:#00b6ff!important}.dn-button-disable[_ngcontent-%COMP%]{cursor:default;color:hsla(0,0%,100%,.2)!important;background-color:hsla(0,0%,40%,.2)!important}.light[_ngcontent-%COMP%]   .dn-button-disable[_ngcontent-%COMP%]{color:#a0a0a0!important}.dn-button-orange[_ngcontent-%COMP%]{color:#fff!important;background-color:#f49800}.dn-button-orange[_ngcontent-%COMP%]:hover{background-color:#fe9e00}.dn-button-gold[_ngcontent-%COMP%]{color:#fff!important;background-color:#f49800!important}.dn-button-gold[_ngcontent-%COMP%]:hover{background-color:#fe9e00!important}.dn-button-red[_ngcontent-%COMP%]{color:#fff!important}.dn-button-red[_ngcontent-%COMP%], .dn-button-red[_ngcontent-%COMP%]:hover{background-color:#00c0ff}.dn-button-large[_ngcontent-%COMP%]{padding:10px 18px}.dn-play-button[_ngcontent-%COMP%]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;padding:4px 12px;border-radius:3px;font-size:16px;display:inline-block;color:#fff!important;background-color:#f00000}.dn-play-button[_ngcontent-%COMP%]:hover{background-color:#f10000}.dn-play-button[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{font-size:20px;vertical-align:middle}.dn-play-button[_ngcontent-%COMP%]   .btn-text[_ngcontent-%COMP%]{display:inline-block;border-left:1px solid #fff;padding:3px 8px 3px 10px;vertical-align:middle}.dn-btn-load-more[_ngcontent-%COMP%]{cursor:pointer;padding:5px 15px}.link-blue[_ngcontent-%COMP%]{color:#00a8ec}.link-blue[_ngcontent-%COMP%]:hover{color:#434343}.red[_ngcontent-%COMP%]{color:#f00000}.rose[_ngcontent-%COMP%]{color:#ff01ff}.orange[_ngcontent-%COMP%]{color:#fe9e00}.text[_ngcontent-%COMP%]{color:hsla(0,0%,100%,.4)}.light[_nghost-%COMP%]   .text[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .text[_ngcontent-%COMP%]{color:#888}.text.isVip[_ngcontent-%COMP%]{color:#fff}.light[_nghost-%COMP%]   .text.isVip[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .text.isVip[_ngcontent-%COMP%]{color:#ffc1a2}"]}),t})()},"0BEm":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n("fXoL"),o=n("uvtY");let s=(()=>{class t{constructor(){this.medias={},this.playerReadyEvent=new i.n(!0),this.isPlayerReady=!1}assignHidden(t){this.hiddenAPI=t}onPlayerReady(t){this.fsAPI=t,this.isPlayerReady=!0,this.playerReadyEvent.emit(this)}getDefaultMedia(){for(const t in this.medias)if(this.medias[t])return this.medias[t]}getMasterMedia(){let t;for(const e in this.medias)if("true"===this.medias[e].vgMedia||!0===this.medias[e].vgMedia){t=this.medias[e];break}return t||this.getDefaultMedia()}isMasterDefined(){let t=!1;for(const e in this.medias)if("true"===this.medias[e].vgMedia||!0===this.medias[e].vgMedia){t=!0;break}return t}getMediaById(t=null){let e=this.medias[t];return t&&"*"!==t||(e=this),e}play(){for(const t in this.medias)if(this.medias[t])return this.medias[t].play()}pause(){for(let t in this.medias)this.medias[t]&&this.medias[t].pause()}get duration(){return this.$$getAllProperties("duration")}set currentTime(t){this.$$setAllProperties("currentTime",t)}get currentTime(){return this.$$getAllProperties("currentTime")}set state(t){this.$$setAllProperties("state",t)}get state(){return this.$$getAllProperties("state")}set volume(t){this.$$setAllProperties("volume",t)}get volume(){return this.$$getAllProperties("volume")}set playbackRate(t){this.$$setAllProperties("playbackRate",t)}get playbackRate(){return this.$$getAllProperties("playbackRate")}get canPlay(){return this.$$getAllProperties("canPlay")}get canPlayThrough(){return this.$$getAllProperties("canPlayThrough")}get isMetadataLoaded(){return this.$$getAllProperties("isMetadataLoaded")}get isWaiting(){return this.$$getAllProperties("isWaiting")}get isCompleted(){return this.$$getAllProperties("isCompleted")}get isLive(){return this.$$getAllProperties("isLive")}get isMaster(){return this.$$getAllProperties("isMaster")}get time(){return this.$$getAllProperties("time")}get buffer(){return this.$$getAllProperties("buffer")}get buffered(){return this.$$getAllProperties("buffered")}get subscriptions(){return this.$$getAllProperties("subscriptions")}get textTracks(){return this.$$getAllProperties("textTracks")}seekTime(t,e=!1){for(let n in this.medias)this.medias[n]&&this.$$seek(this.medias[n],t,e)}$$seek(t,e,n=!1){let i,o=t.duration;n?(this.isMasterDefined()&&(o=this.getMasterMedia().duration),i=e*o/100):i=e,t.currentTime=i}addTextTrack(t,e,n){for(let i in this.medias)this.medias[i]&&this.$$addTextTrack(this.medias[i],t,e,n)}$$addTextTrack(t,e,n,i){t.addTextTrack(e,n,i)}$$getAllProperties(t){const e={};let n;for(let i in this.medias)this.medias[i]&&(e[i]=this.medias[i]);switch(Object.keys(e).length){case 0:switch(t){case"state":n=o.a.VG_PAUSED;break;case"playbackRate":case"volume":n=1;break;case"time":n={current:0,total:0,left:0}}break;case 1:n=e[Object.keys(e)[0]][t];break;default:n=e[this.getMasterMedia().id][t]}return n}$$setAllProperties(t,e){for(let n in this.medias)this.medias[n]&&(this.medias[n][t]=e)}registerElement(t){this.videogularElement=t}registerMedia(t){this.medias[t.id]=t}unregisterMedia(t){delete this.medias[t.id]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Lb({token:t,factory:t.\u0275fac}),t})()},"0CVD":function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var i=n("fXoL"),o=n("ofXK"),s=n("uSqO"),r=n("k+W2");function a(t,e){1&t&&i.Qb(0,"span",8)}function c(t,e){if(1&t){const t=i.Wb();i.Vb(0,"div"),i.Vb(1,"icon-button",9),i.dc("clicked",(function(e){return i.Cc(t),i.gc().deleteMedia()})),i.Qb(2,"span",10),i.Ub(),i.Ub()}}let l=(()=>{class t{constructor(){this.progress=0,this.fileName="",this.editAble=!0,this.canDelete=!0,this.onDelete=new i.n,this.onBlur=new i.n,this.statusText=""}ngOnInit(){}ngOnChanges(t){var e;t.progress&&(this.statusText=(null===(e=t.progress)||void 0===e?void 0:e.currentValue)>=100?"\u4e0a\u4f20\u6210\u529f":`\u6b63\u5728\u4e0a\u4f20 ${t.progress.currentValue} %`)}deleteMedia(){this.onDelete.emit()}onBlue(t){this.onBlur.emit(t.target.value)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Jb({type:t,selectors:[["app-upload-media"]],inputs:{progress:"progress",fileName:"fileName",editAble:"editAble",canDelete:"canDelete",errorMessage:"errorMessage"},outputs:{onDelete:"onDelete",onBlur:"onBlur"},features:[i.zb()],decls:9,vars:6,consts:[[1,"media","d-flex","align-items-center"],[1,"upload-status"],[1,"media-meta","flex-1","mr-4"],[1,"media-title"],["type","text",1,"mb-2",3,"value","readonly","blur"],["class","iconfont iconbianji",4,"ngIf"],[3,"progress"],[4,"ngIf"],[1,"iconfont","iconbianji"],[3,"clicked"],[1,"iconfont","iconshanchu"]],template:function(t,e){1&t&&(i.Vb(0,"div",0),i.Vb(1,"div",1),i.Nc(2),i.Ub(),i.Vb(3,"div",2),i.Vb(4,"div",3),i.Vb(5,"input",4),i.dc("blur",(function(t){return e.onBlue(t)})),i.Ub(),i.Lc(6,a,1,0,"span",5),i.Ub(),i.Qb(7,"app-progress-bar",6),i.Ub(),i.Lc(8,c,3,0,"div",7),i.Ub()),2&t&&(i.Bb(2),i.Oc(e.statusText),i.Bb(3),i.nc("value",e.fileName)("readonly",!e.editAble),i.Bb(1),i.nc("ngIf",e.editAble),i.Bb(1),i.nc("progress",e.progress),i.Bb(1),i.nc("ngIf",e.canDelete))},directives:[o.n,s.a,r.a],styles:["input[type=text][_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{background-color:#2b2c3a;padding:10px 18px;border:none;resize:none;color:#fff}.media[_ngcontent-%COMP%]{width:100%;padding:8px 25px;background-color:#2b2c3a}.light[_nghost-%COMP%]   .media[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .media[_ngcontent-%COMP%]{background-color:#eee}.media[_ngcontent-%COMP%]   .upload-status[_ngcontent-%COMP%]{width:130px;margin-right:30px}.light[_nghost-%COMP%]   .media[_ngcontent-%COMP%]   .upload-status[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .media[_ngcontent-%COMP%]   .upload-status[_ngcontent-%COMP%]{color:#00c0ff}.media[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{background-color:#1c1d2f;width:100%;line-height:26px;padding:4px 12px}.light[_nghost-%COMP%]   .media[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .media[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{background-color:#ddd;color:#333}.media[_ngcontent-%COMP%]   .media-title[_ngcontent-%COMP%]{position:relative}.media[_ngcontent-%COMP%]   .media-title[_ngcontent-%COMP%]   .iconfont[_ngcontent-%COMP%]{position:absolute;right:12px;top:-3px}.light[_nghost-%COMP%]   .media[_ngcontent-%COMP%]   .media-title[_ngcontent-%COMP%]   .iconfont[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .media[_ngcontent-%COMP%]   .media-title[_ngcontent-%COMP%]   .iconfont[_ngcontent-%COMP%]{color:#aaa}"]}),t})()},"0EUg":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n("bHdf");function o(){return Object(i.a)(1)}},"0KJs":function(t,e,n){function i(){var t;try{t=e.storage.debug}catch(n){}return!t&&"undefined"!=typeof process&&"env"in process&&(t=process.env.DEBUG),t}(e=t.exports=n("FXYA")).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},e.formatArgs=function(t){var n=this.useColors;if(t[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+t[0]+(n?"%c ":" ")+"+"+e.humanize(this.diff),n){var i="color: "+this.color;t.splice(1,0,i,"color: inherit");var o=0,s=0;t[0].replace(/%[a-zA-Z%]/g,(function(t){"%%"!==t&&(o++,"%c"===t&&(s=o))})),t.splice(s,0,i)}},e.save=function(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(n){}},e.load=i,e.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},e.enable(i())},"0Tit":function(t,e){var n="function"==typeof Float32Array;function i(t,e){return 1-3*e+3*t}function o(t,e){return 3*e-6*t}function s(t){return 3*t}function r(t,e,n){return((i(e,n)*t+o(e,n))*t+s(e))*t}function a(t,e,n){return 3*i(e,n)*t*t+2*o(e,n)*t+s(e)}function c(t){return t}t.exports=function(t,e,i,o){if(!(0<=t&&t<=1&&0<=i&&i<=1))throw new Error("bezier x values must be in [0, 1] range");if(t===e&&i===o)return c;for(var s=n?new Float32Array(11):new Array(11),l=0;l<11;++l)s[l]=r(.1*l,t,i);return function(n){return 0===n?0:1===n?1:r(function(e){for(var n=0,o=1;10!==o&&s[o]<=e;++o)n+=.1;--o;var c=n+(e-s[o])/(s[o+1]-s[o])*.1,l=a(c,t,i);return l>=.001?function(t,e,n,i){for(var o=0;o<4;++o){var s=a(e,n,i);if(0===s)return e;e-=(r(e,n,i)-t)/s}return e}(e,c,t,i):0===l?c:function(t,e,n,i,o){var s,a,c=0;do{(s=r(a=e+(n-e)/2,i,o)-t)>0?n=a:e=a}while(Math.abs(s)>1e-7&&++c<10);return a}(e,n,n+.1,t,i)}(n),e,o)}}},"0Xxy":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n("fXoL");let o=(()=>{class t{constructor(){this.dialogs=[]}add(t){this.dialogs.push(t)}remove(t){this.dialogs=this.dialogs.filter(e=>e.id!==t)}open(t,e={}){return n=this,void 0,o=function*(){this.dialogs.filter(e=>e.id!==t).map(t=>{t.close()});const n=this.dialogs.filter(e=>e.id===t)[0];n&&n.open(e)},new((i=void 0)||(i=Promise))((function(t,e){function s(t){try{a(o.next(t))}catch(n){e(n)}}function r(t){try{a(o.throw(t))}catch(n){e(n)}}function a(e){var n;e.done?t(e.value):(n=e.value,n instanceof i?n:new i((function(t){t(n)}))).then(s,r)}a((o=o.apply(n,[])).next())}));var n,i,o}close(t,e=!0){const n=this.dialogs.filter(e=>e.id===t)[0];n&&n.close(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Lb({token:t,factory:t.\u0275fac}),t})()},"0z79":function(t,e,n){var i=n("AdPF"),o=n("CUme"),s=n("1Mk5"),r=n("Yvos"),a=n("HjK1")("engine.io-client:polling-xhr");function c(){}function l(t){if(o.call(this,t),this.requestTimeout=t.requestTimeout,this.extraHeaders=t.extraHeaders,"undefined"!=typeof location){var e="https:"===location.protocol,n=location.port;n||(n=e?443:80),this.xd="undefined"!=typeof location&&t.hostname!==location.hostname||n!==t.port,this.xs=t.secure!==e}}function h(t){this.method=t.method||"GET",this.uri=t.uri,this.xd=!!t.xd,this.xs=!!t.xs,this.async=!1!==t.async,this.data=void 0!==t.data?t.data:null,this.agent=t.agent,this.isBinary=t.isBinary,this.supportsBinary=t.supportsBinary,this.enablesXDR=t.enablesXDR,this.withCredentials=t.withCredentials,this.requestTimeout=t.requestTimeout,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.extraHeaders=t.extraHeaders,this.create()}if(t.exports=l,t.exports.Request=h,r(l,o),l.prototype.supportsBinary=!0,l.prototype.request=function(t){return(t=t||{}).uri=this.uri(),t.xd=this.xd,t.xs=this.xs,t.agent=this.agent||!1,t.supportsBinary=this.supportsBinary,t.enablesXDR=this.enablesXDR,t.withCredentials=this.withCredentials,t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized,t.requestTimeout=this.requestTimeout,t.extraHeaders=this.extraHeaders,new h(t)},l.prototype.doWrite=function(t,e){var n=this.request({method:"POST",data:t,isBinary:"string"!=typeof t&&void 0!==t}),i=this;n.on("success",e),n.on("error",(function(t){i.onError("xhr post error",t)})),this.sendXhr=n},l.prototype.doPoll=function(){a("xhr poll");var t=this.request(),e=this;t.on("data",(function(t){e.onData(t)})),t.on("error",(function(t){e.onError("xhr poll error",t)})),this.pollXhr=t},s(h.prototype),h.prototype.create=function(){var t={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized;var e=this.xhr=new i(t),n=this;try{a("xhr open %s: %s",this.method,this.uri),e.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var o in e.setDisableHeaderCheck&&e.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(o)&&e.setRequestHeader(o,this.extraHeaders[o])}catch(s){}if("POST"===this.method)try{e.setRequestHeader("Content-type",this.isBinary?"application/octet-stream":"text/plain;charset=UTF-8")}catch(s){}try{e.setRequestHeader("Accept","*/*")}catch(s){}"withCredentials"in e&&(e.withCredentials=this.withCredentials),this.requestTimeout&&(e.timeout=this.requestTimeout),this.hasXDR()?(e.onload=function(){n.onLoad()},e.onerror=function(){n.onError(e.responseText)}):e.onreadystatechange=function(){if(2===e.readyState)try{var t=e.getResponseHeader("Content-Type");(n.supportsBinary&&"application/octet-stream"===t||"application/octet-stream; charset=UTF-8"===t)&&(e.responseType="arraybuffer")}catch(s){}4===e.readyState&&(200===e.status||1223===e.status?n.onLoad():setTimeout((function(){n.onError("number"==typeof e.status?e.status:0)}),0))},a("xhr data %s",this.data),e.send(this.data)}catch(s){return void setTimeout((function(){n.onError(s)}),0)}"undefined"!=typeof document&&(this.index=h.requestsCount++,h.requests[this.index]=this)},h.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},h.prototype.onData=function(t){this.emit("data",t),this.onSuccess()},h.prototype.onError=function(t){this.emit("error",t),this.cleanup(!0)},h.prototype.cleanup=function(t){if(null!=this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=c:this.xhr.onreadystatechange=c,t)try{this.xhr.abort()}catch(e){}"undefined"!=typeof document&&delete h.requests[this.index],this.xhr=null}},h.prototype.onLoad=function(){var t;try{var e;try{e=this.xhr.getResponseHeader("Content-Type")}catch(n){}t=("application/octet-stream"===e||"application/octet-stream; charset=UTF-8"===e)&&this.xhr.response||this.xhr.responseText}catch(n){this.onError(n)}null!=t&&this.onData(t)},h.prototype.hasXDR=function(){return"undefined"!=typeof XDomainRequest&&!this.xs&&this.enablesXDR},h.prototype.abort=function(){this.cleanup()},h.requestsCount=0,h.requests={},"undefined"!=typeof document)if("function"==typeof attachEvent)attachEvent("onunload",u);else if("function"==typeof addEventListener){var d="onpagehide"in self?"pagehide":"unload";addEventListener(d,u,!1)}function u(){for(var t in h.requests)h.requests.hasOwnProperty(t)&&h.requests[t].abort()}},"0zID":function(t,e,n){"use strict";var i=n("xgIS"),o=n("/uUt"),s=n("tyNb"),r=n("fXoL");let a=(()=>{class t{constructor(t){this.router=t,this.placeHolder=[],this.currentPos=0;let e=1;/macintosh|mac os x/i.test(navigator.userAgent)||(e=window.innerWidth<1366?1366/window.innerWidth:window.innerWidth>2560?1920/window.innerWidth:1),this.currentPos=Math.floor(window.scrollY*e),Object(i.a)(window,"scroll").pipe(Object(o.a)()).subscribe(t=>{if(Math.floor(window.scrollY*e)-this.currentPos>0)for(var n=Math.floor(window.scrollY*e)-this.currentPos,i=this.placeHolder.length-1;i>-1;--i)this.placeHolder[i].relativeY-n<Math.floor(window.innerHeight*e)&&(this.placeHolder[i].action(),this.placeHolder.splice(i,1))}),this.router.events.subscribe(t=>{t instanceof s.b&&(this.currentPos=0)})}addPlaceHolder(t,e){var n=this.placeHolder.length+1;return this.placeHolder.push({relativeY:t,action:e,id:n}),n}removeIndex(t){if(t>-1){var e=this.placeHolder.findIndex(e=>e.id==t);e>-1&&this.placeHolder.splice(e,1)}}}return t.\u0275fac=function(e){return new(e||t)(r.Zb(s.d))},t.\u0275prov=r.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();n.d(e,"a",(function(){return c}));let c=(()=>{class t{constructor(t,e){this.elementRef=t,this.scroll=e,this.index=-1,this.dataSrc=""}ngOnDestroy(){this.scroll.removeIndex(this.index)}ngAfterViewInit(){var t=this.elementRef.nativeElement,e=(t.getBoundingClientRect().y||0)-t.height;let n=1;/macintosh|mac os x/i.test(navigator.userAgent)||(n=window.innerWidth<1366?1366/window.innerWidth:window.innerWidth>2560?1920/window.innerWidth:1),e<=Math.floor(window.innerHeight*n)?t.src=this.dataSrc:this.index=this.scroll.addPlaceHolder(e+20,()=>{t.src=this.dataSrc,this.index=-1})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.l),r.Pb(a))},t.\u0275dir=r.Kb({type:t,selectors:[["","lazyLoad",""]],inputs:{dataSrc:"dataSrc"}}),t})()},1:function(t,e){},"14A5":function(t,e){var n=void 0!==n?n:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder&&MozBlobBuilder,i=function(){try{return 2===new Blob(["hi"]).size}catch(t){return!1}}(),o=i&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(t){return!1}}(),s=n&&n.prototype.append&&n.prototype.getBlob;function r(t){return t.map((function(t){if(t.buffer instanceof ArrayBuffer){var e=t.buffer;if(t.byteLength!==e.byteLength){var n=new Uint8Array(t.byteLength);n.set(new Uint8Array(e,t.byteOffset,t.byteLength)),e=n.buffer}return e}return t}))}function a(t,e){e=e||{};var i=new n;return r(t).forEach((function(t){i.append(t)})),e.type?i.getBlob(e.type):i.getBlob()}function c(t,e){return new Blob(r(t),e||{})}"undefined"!=typeof Blob&&(a.prototype=Blob.prototype,c.prototype=Blob.prototype),t.exports=i?o?Blob:c:s?a:void 0},"18J0":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n("ofXK"),o=n("fXoL");let s=(()=>{class t{}return t.\u0275mod=o.Nb({type:t}),t.\u0275inj=o.Mb({factory:function(e){return new(e||t)},providers:[],imports:[[i.c]]}),t})()},"1G5W":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n("l7GE"),o=n("ZUHj");function s(t){return e=>e.lift(new r(t))}class r{constructor(t){this.notifier=t}call(t,e){const n=new a(t),i=Object(o.a)(n,this.notifier);return i&&!n.seenValue?(n.add(i),e.subscribe(n)):n}}class a extends i.a{constructor(t){super(t),this.seenValue=!1}notifyNext(t,e,n,i,o){this.seenValue=!0,this.complete()}notifyComplete(){}}},"1Mk5":function(t,e,n){function i(t){if(t)return function(t){for(var e in i.prototype)t[e]=i.prototype[e];return t}(t)}t.exports=i,i.prototype.on=i.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},i.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},i.prototype.off=i.prototype.removeListener=i.prototype.removeAllListeners=i.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,i=this._callbacks["$"+t];if(!i)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var o=0;o<i.length;o++)if((n=i[o])===e||n.fn===e){i.splice(o,1);break}return this},i.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks["$"+t];if(n)for(var i=0,o=(n=n.slice(0)).length;i<o;++i)n[i].apply(this,e);return this},i.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},i.prototype.hasListeners=function(t){return!!this.listeners(t).length}},"1XPh":function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return o}));var i=function(t){return t[t.SearchPageLeft=0]="SearchPageLeft",t[t.SearchPageRight=1]="SearchPageRight",t[t.SearchPageContent=2]="SearchPageContent",t[t.VideoPageLeft=3]="VideoPageLeft",t[t.VideoPageRight=4]="VideoPageRight",t[t.VideoPageContent=5]="VideoPageContent",t[t.LoginBoxLeft=6]="LoginBoxLeft",t[t.DiscoveryPageContent=7]="DiscoveryPageContent",t}({}),o=function(t){return t[t.Image=0]="Image",t[t.Video=1]="Video",t}({})},"1YUx":function(t,e,n){"use strict";n.d(e,"a",(function(){return m}));var i=n("YKxU"),o=n("9U6K"),s=n("ciLT"),r=n("fXoL"),a=n("tyNb"),c=n("ofXK"),l=n("Le4d");function h(t,e){1&t&&(r.Vb(0,"div",13),r.Qb(1,"img",14),r.Ub())}function d(t,e){1&t&&(r.Vb(0,"span",15),r.Qb(1,"i",16),r.Ub())}function u(t,e){1&t&&(r.Vb(0,"span"),r.Nc(1,"\u5df2"),r.Ub())}function g(t,e){1&t&&(r.Vb(0,"span"),r.Nc(1,"+ "),r.Ub())}const p=function(t){return["/","space",t]},f=function(t,e){return{iconnanxing:t,iconnvxing:e}},b=function(t){return{notFans:t}};let m=(()=>{class t{constructor(t,e,n){this._upload=t,this._toast=e,this._user=n,this.loading=!1,this.subscriptions=[]}ngOnInit(){this.subscriptions.push(this._user.userState$.subscribe(t=>{this.user=t}))}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}readState(){}guanzhu(){this.user&&this.user.id>0?(this.loading=!0,this._upload.SetAttension(this.item.key).subscribe(t=>{this.item.isAttend=!this.item.isAttend,this.item.fansCount+=this.item.isAttend?1:-1,this.loading=!1})):(this._toast.showBlackToast("\u8bf7\u5148\u767b\u5f55"),setTimeout(()=>{this._user.showLoginDialog(!0)},1e3))}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(o.a),r.Pb(i.a),r.Pb(s.a))},t.\u0275cmp=r.Jb({type:t,selectors:[["app-svideo-publisher"]],inputs:{item:"item"},decls:23,vars:26,consts:[[1,"publisher-avatar-container"],[3,"routerLink"],[3,"src"],["class","publisher-offical",4,"ngIf"],[1,"publisher-name"],[1,"iconfont","gender-icon",3,"ngClass"],[1,"publisher-nums","d-flex"],[1,"flex-1"],[1,"publisher-words"],[1,"publisher-follow"],["type","button",1,"btn","follow-btn",3,"ngClass","click"],["class","icon-sm",4,"ngIf"],[4,"ngIf"],[1,"publisher-offical"],["src","./assets/images/officalUp.png?v=1",2,"width","20px"],[1,"icon-sm"],[1,"iconfont","iconjiazai_shuaxin","animate-spin"]],template:function(t,e){1&t&&(r.Vb(0,"div",0),r.Vb(1,"a",1),r.Qb(2,"img",2),r.Ub(),r.Ub(),r.Lc(3,h,2,0,"div",3),r.Vb(4,"div",4),r.Vb(5,"a",1),r.Nc(6),r.Ub(),r.Qb(7,"i",5),r.Ub(),r.Vb(8,"div",6),r.Vb(9,"span",7),r.Nc(10),r.hc(11,"chineseCounter"),r.Ub(),r.Vb(12,"span",7),r.Nc(13),r.hc(14,"chineseCounter"),r.Ub(),r.Ub(),r.Vb(15,"div",8),r.Nc(16),r.Ub(),r.Vb(17,"div",9),r.Vb(18,"button",10),r.dc("click",(function(t){return e.guanzhu()})),r.Lc(19,d,2,0,"span",11),r.Lc(20,u,2,0,"span",12),r.Lc(21,g,2,0,"span",12),r.Nc(22,"\u5173\u6ce8 "),r.Ub(),r.Ub()),2&t&&(r.Bb(1),r.nc("routerLink",r.sc(17,p,null==e.item?null:e.item.key)),r.Bb(1),r.nc("src",(null==e.item?null:e.item.headImg)+"?w=77&h=77&format=jpg&mode=crop",r.Fc),r.Bb(1),r.nc("ngIf",null==e.item?null:e.item.isOfficalUP),r.Bb(2),r.nc("routerLink",r.sc(19,p,null==e.item?null:e.item.key)),r.Bb(1),r.Oc(e.item.name),r.Bb(1),r.nc("ngClass",r.tc(21,f,1===(null==e.item?null:e.item.sex),0===(null==e.item?null:e.item.sex))),r.Bb(3),r.Pc("\u4f5c\u54c1\u6570\uff1a",r.ic(11,13,null==e.item?null:e.item.videoCount),""),r.Bb(3),r.Pc("\u7c89\u4e1d\u6570\uff1a",r.ic(14,15,null==e.item?null:e.item.fansCount),""),r.Bb(3),r.Pc(" ",null!=e.item&&e.item.slogon?null==e.item?null:e.item.slogon:"\u6ca1\u6709\u4e2a\u6027\u6240\u4ee5\u6ca1\u6709\u7b7e\u540d","\n"),r.Bb(2),r.nc("ngClass",r.sc(24,b,!(null!=e.item&&e.item.isAttend))),r.Bb(1),r.nc("ngIf",e.loading),r.Bb(1),r.nc("ngIf",!e.loading&&(null==e.item?null:e.item.isAttend)),r.Bb(1),r.nc("ngIf",!(e.loading||null!=e.item&&e.item.isAttend)))},directives:[a.g,c.n,c.l],pipes:[l.a],styles:[".publisher-avatar-container[_ngcontent-%COMP%]{height:77px;width:77px;background-color:rgba(34,34,34,.2);margin:0 auto 20px;border-radius:50%;overflow:hidden}.publisher-avatar-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;-o-object-fit:cover;object-fit:cover}.publisher-offical[_ngcontent-%COMP%]{position:absolute;top:72px;left:125px}.publisher-name[_ngcontent-%COMP%]{white-space:nowrap;width:100%;overflow:hidden;text-overflow:ellipsis;font-size:16px}.gender-icon[_ngcontent-%COMP%]{font-size:16px;font-weight:400!important;margin-left:2px}.gender-icon.iconnanxing[_ngcontent-%COMP%]{color:#00adef}.gender-icon.iconnvxing[_ngcontent-%COMP%]{color:#ec108f}.publisher-nums[_ngcontent-%COMP%]{font-size:.7rem;color:hsla(0,0%,100%,.4);margin:10px 15px}.light[_nghost-%COMP%]   .publisher-nums[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .publisher-nums[_ngcontent-%COMP%]{color:#888}.publisher-words[_ngcontent-%COMP%]{font-size:14px;color:hsla(0,0%,100%,.2);margin:10px 15px;height:44px;line-height:22px;overflow:hidden;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;text-overflow:ellipsis}.light[_nghost-%COMP%]   .publisher-words[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .publisher-words[_ngcontent-%COMP%]{color:#888}.publisher-follow[_ngcontent-%COMP%]{width:100%;height:48px;padding:5px 0;display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center}.icon-sm[_ngcontent-%COMP%]   .iconfont[_ngcontent-%COMP%]{font-size:14px}.follow-btn[_ngcontent-%COMP%]{width:126px;border-radius:0;color:#fff;background-color:#373843;border:none!important}.light[_nghost-%COMP%]   .follow-btn[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .follow-btn[_ngcontent-%COMP%]{color:#888;background-color:#eee}.follow-btn.notFans[_ngcontent-%COMP%]{background-color:#00c0ff!important;color:#fff!important}"]}),t})()},"1lty":function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n("fXoL"),o=n("ofXK");const s=function(t,e,n,i,o,s,r,a,c,l){return{"w-100":t,"btn-large":e,"btn-medium":n,"btn-small":i,"btn-color-primary":o,"btn-color-warn":s,"btn-color-default":r,"btn-color-accent":a,"btn-color-transparent":c,disabled:l}},r=["*"];let a=(()=>{class t{constructor(){this.caption="",this.fullWidth=!1,this.disabled=!1,this.size="large",this.color="primary",this.onClick=new i.n}ngOnInit(){}click(t){this.disabled||this.onClick.emit(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Jb({type:t,selectors:[["app-dn-button"]],inputs:{caption:"caption",fullWidth:"fullWidth",disabled:"disabled",size:"size",color:"color"},outputs:{onClick:"onClick"},ngContentSelectors:r,decls:2,vars:12,consts:[[3,"ngClass","click"]],template:function(t,e){1&t&&(i.mc(),i.Vb(0,"button",0),i.dc("click",(function(t){return e.click(t)})),i.lc(1),i.Ub()),2&t&&i.nc("ngClass",i.xc(1,s,[e.fullWidth,"large"===e.size,"medium"===e.size,"small"===e.size,"primary"===e.color,"warn"===e.color,"default"===e.color,"accent"===e.color,"transparent"===e.color,e.disabled]))},directives:[o.l],styles:["button[_ngcontent-%COMP%]{border:none;outline:none;padding:13px 30px;min-width:120px;background-color:#01bdfc;color:#fff;cursor:pointer;-webkit-transition:all .2s linear;transition:all .2s linear}button.btn-medium[_ngcontent-%COMP%]{padding:6px 8px;min-width:80px}button.btn-small[_ngcontent-%COMP%]{padding:0 4px;min-width:46px}button[_ngcontent-%COMP%]:hover{background-color:#018ef3}button.btn-color-default[_ngcontent-%COMP%]{background-color:#1c1d2f;color:#fff}button.btn-color-default[_ngcontent-%COMP%]:hover{background-color:rgba(0,0,0,.5)}button.btn-color-transparent[_ngcontent-%COMP%]{background-color:transparent;color:#fff}button.btn-color-transparent[_ngcontent-%COMP%]:hover{background-color:rgba(0,0,0,.5)}button.disabled[_ngcontent-%COMP%]{background-color:#ddd!important}"]}),t})()},"1y75":function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var i=n("fXoL"),o=n("kizo"),s=n("ofXK");const r=function(t){return{active:t}};function a(t,e){if(1&t){const t=i.Wb();i.Vb(0,"li"),i.Vb(1,"a",5),i.dc("click",(function(n){i.Cc(t);const o=e.$implicit;return i.gc(2).setPage(o)})),i.Nc(2),i.Ub(),i.Ub()}if(2&t){const t=e.$implicit,n=i.gc(2);i.Bb(1),i.nc("ngClass",i.sc(2,r,n.pager.currentPage==t)),i.Bb(1),i.Oc(t)}}const c=function(t,e,n,i,o){return{"screen-xxsmall":t,"screen-xsmall":e,"screen-small":n,"screen-medium":i,"screen-large":o}},l=function(t){return{disabled:t}};function h(t,e){if(1&t){const t=i.Wb();i.Vb(0,"ul",1),i.Vb(1,"li",2),i.Vb(2,"a",3),i.dc("click",(function(e){return i.Cc(t),i.gc().setPage(1)})),i.Nc(3,"\u7b2c\u4e00\u9875"),i.Ub(),i.Ub(),i.Vb(4,"li",2),i.Vb(5,"a",3),i.dc("click",(function(e){i.Cc(t);const n=i.gc();return n.setPage(n.pager.currentPage-1)})),i.Nc(6,"\u4e0a\u4e00\u9875"),i.Ub(),i.Ub(),i.Lc(7,a,3,4,"li",4),i.Vb(8,"li",2),i.Vb(9,"a",3),i.dc("click",(function(e){i.Cc(t);const n=i.gc();return n.setPage(n.pager.currentPage+1)})),i.Nc(10,"\u4e0b\u4e00\u9875"),i.Ub(),i.Ub(),i.Vb(11,"li",2),i.Vb(12,"a",3),i.dc("click",(function(e){i.Cc(t);const n=i.gc();return n.setPage(n.pager.totalPages)})),i.Nc(13,"\u672b\u5c3e\u9875"),i.Ub(),i.Ub(),i.Ub()}if(2&t){const t=i.gc();i.nc("ngClass",i.wc(6,c,t.screenSize===t.screenType.XXSmall,t.screenSize===t.screenType.XSmall,t.screenSize===t.screenType.Small,t.screenSize===t.screenType.Medium,t.screenSize===t.screenType.Large)),i.Bb(1),i.nc("ngClass",i.sc(12,l,1==t.pager.currentPage)),i.Bb(3),i.nc("ngClass",i.sc(14,l,1==t.pager.currentPage)),i.Bb(3),i.nc("ngForOf",t.pager.pages),i.Bb(1),i.nc("ngClass",i.sc(16,l,t.pager.currentPage==t.pager.totalPages)),i.Bb(3),i.nc("ngClass",i.sc(18,l,t.pager.currentPage==t.pager.totalPages))}}let d=(()=>{class t{constructor(t){this._windowService=t,this.total=0,this.pageSize=10,this.selectPageEvent=new i.n,this.pager={},this.screenType=o.a,this._windowService.size$.subscribe(t=>{this.screenSize=t})}ngOnInit(){}ngOnChanges(){this.pager=this.getPager(this.total,this.current)}setPage(t){t>this.pager.totalPages||t<1||this.selectPageEvent.emit(t)}getPager(t,e=1,n=this.pageSize){void 0===t&&(t=0);const i=Math.ceil(t/n);let o,s;e<1?e=1:e>i&&(e=i),i<=10?(o=1,s=i):e<=6?(o=1,s=10):e+4>=i?(o=i-9,s=i):(o=e-5,s=e+4);const r=(e-1)*n,a=Math.min(r+n-1,t-1),c=Array.from(Array(s+1-o).keys()).map(t=>o+t);return{totalItems:t,currentPage:Number(e),pageSize:n,totalPages:i,startPage:o,endPage:s,startIndex:r,endIndex:a,pages:c}}}return t.\u0275fac=function(e){return new(e||t)(i.Pb(o.b))},t.\u0275cmp=i.Jb({type:t,selectors:[["app-pager"]],inputs:{total:"total",pageSize:"pageSize",current:"current"},outputs:{selectPageEvent:"selectPageEvent"},features:[i.zb()],decls:1,vars:1,consts:[["class","pagination",3,"ngClass",4,"ngIf"],[1,"pagination",3,"ngClass"],[3,"ngClass"],[3,"click"],[4,"ngFor","ngForOf"],[3,"ngClass","click"]],template:function(t,e){1&t&&i.Lc(0,h,14,20,"ul",0),2&t&&i.nc("ngIf",e.pager.pages&&e.pager.pages.length>1)},directives:[s.n,s.l,s.m],styles:[".pagination[_ngcontent-%COMP%]{display:-webkit-box;display:flex;margin:0 auto;-webkit-box-pack:center;justify-content:center}li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;padding:6px 12px;margin:4px;border-radius:2px;min-width:40px;white-space:nowrap;color:hsla(0,0%,100%,.7)}.light[_nghost-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#888}li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#373843;color:#fff}.light[_nghost-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .light   [_nghost-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#00c0ff;color:#fff}li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{border:1px solid #00c0ff;background-color:#00c0ff;color:#fff!important}li.disabled[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:default;color:#424242!important}.light[_nghost-%COMP%]   li.disabled[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   li.disabled[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#ddd!important}li.disabled[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:transparent!important}@media (max-width:1439px){li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin:2px}}"]}),t})()},"22MO":function(t,e,n){"use strict";var i=n("Njeq"),o=n("2Vo4"),s=n("LRne"),r=n("tk/3"),a=n("AytR"),c=n("etJ/"),l=n("lJxs"),h=n("3My9");const d={systime:"/Date(1642520248136)/",data:[{Title:"",LinkURL:"#",Position:"PB",ID:"98",RegionID:0,ResourceType:0,UpdateTime:"/Date(1642498903660)/",DefaultID:623,DesignID:0,PIDuration:0,RawImage:"/assets/images/PB.jpg",ApplySite:1},{Title:"",LinkURL:"#",Position:"PR1",ID:"96",RegionID:0,ResourceType:0,UpdateTime:"/Date(1642335502557)/",DefaultID:622,DesignID:0,PIDuration:0,RawImage:"/assets/images/PR.jpg",ApplySite:1,AppParam:""},{Title:"",LinkURL:"#",Position:"SS",ID:"305",RegionID:0,ResourceType:0,UpdateTime:"/Date(1641907303740)/",DefaultID:624,DesignID:0,PIDuration:0,RawImage:"/assets/images/SS.jpg",ApplySite:-1,AppParam:""},{Title:"",LinkURL:"#",Position:"DL",ID:"306",RegionID:0,ResourceType:0,UpdateTime:"/Date(1642151891803)/",DefaultID:625,DesignID:0,PIDuration:0,RawImage:"/assets/images/DL.jpg",ApplySite:-1,AppParam:""}],country:"GL"};var u=n("fXoL");n.d(e,"a",(function(){return g}));let g=(()=>{class t{constructor(t,e,n,i){this._apiUrlHelper=t,this._httpClient=e,this._storage=n,this._utility=i,this.isAdult=2===a.a.cinema,this._ggService=new o.a([]),this.ggSource$=this._ggService.asObservable(),this._ls1Service=new o.a([]),this.ls1Source$=this._ls1Service.asObservable(),this._ls2Service=new o.a([]),this.ls2Source$=this._ls2Service.asObservable()}updateLS(t,e){var n=this.isAdult?"ALS"+t.toString():"LS"+t.toString(),i=this._storage.GetItem(n),o=null!=i?JSON.parse(i):null;if(o){const n=o.find(t=>t.reqRegion===e);if(n&&(1===t?(this.ls1=n,this._ls1Service.next(this.ls1)):2===t&&(this.ls2=n,this._ls2Service.next(this.ls2)),Date.now()-n.reqDate<6e4))return}this.getLS(t,e).subscribe(e=>{1===t?(this.ls1=e,this._ls1Service.next(this.ls1)):2===t&&(this.ls2=e,this._ls2Service.next(this.ls2))})}getLS(t,e){return Object(s.a)([])}updateggs(t){let e=null;try{e=JSON.parse(this._storage.GetItem("ggs"))}catch(n){}if(e){const n=e.find(e=>e.reqRegion===t);if(n&&(this.ggs=n,this._ggService.next(this.ggs.data),Date.now()-n.reqDate<6e4))return}this.getGgs(t).subscribe(t=>{this.ggs=t,this._ggService.next(this.ggs.data)})}getGgs(t){if(this._utility.getSiteConfig.hideAds)return Object(s.a)(d);{const e=this._apiUrlHelper.urlBuilder("get-gg-block-content",{});let n=["DB","PB","DR","PR1","LB1","LB2","LS1","LS2","PR2","SS","DL","H4"];this.isAdult&&(n=["ADB","APB","ADR","APR1","ALB1","ALB2","ALS","ALS2","APR2","ASS","ADL","H4"]);const o={headers:new r.d({"Content-Type":"application/x-www-form-urlencoded"})},s=new i.b;return t&&s.set("region",t),s.set("a",1),s.set("skin",parseInt(this._storage.GetConfig().isDark)?1:0),n.forEach(t=>{s.append("codes",t)}),this._httpClient.post(e,s.toString(),o).pipe(Object(l.a)(e=>(this.saveGgsToLocalStorage(t,e),e)))}}record(t){const e=this._apiUrlHelper.urlBuilder("get-gg-block-content",{}),n=new i.b,o={headers:new r.d({"Content-Type":"application/x-www-form-urlencoded"})};t&&n.set("region",t);try{n.set("skin",parseInt(this._storage.GetConfig().isDark||"1"))}catch(s){}return this._httpClient.post(e,n.toString(),o).pipe(Object(l.a)(t=>t))}saveGgsToLocalStorage(t,e){e.reqRegion=t,e.reqDate=Date.now();let n=JSON.parse(this._storage.GetItem("ggs"));n||(n=[]),n=n.filter(e=>e.reqRegion!==t),n.push(e),this._storage.SetItem("ggs",JSON.stringify(n))}getGgsFromLocalStorage(t){return JSON.parse(this._storage.GetItem("ggs")).find(e=>e.reqRegion===t)}saveLSToLocalStorage(t,e,n){n.reqRegion=e,n.reqDate=Date.now();let i=this.isAdult?JSON.parse(this._storage.GetItem("ALS"+t.toString())):JSON.parse(this._storage.GetItem("LS"+t.toString()));i||(i=[]),i=i.filter(t=>t.reqRegion!==e),i.push(n),this._storage.SetItem(this.isAdult?"ALS"+t.toString():"LS"+t.toString(),JSON.stringify(i))}getLSFromLocalStorage(t,e){return(this.isAdult?JSON.parse(this._storage.GetItem("ALS"+t.toString())):JSON.parse(this._storage.GetItem("LS"+t.toString()))).find(t=>t.reqRegion===e)}}return t.\u0275fac=function(e){return new(e||t)(u.Zb(i.a),u.Zb(r.a),u.Zb(c.a),u.Zb(h.a))},t.\u0275prov=u.Lb({token:t,factory:t.\u0275fac}),t})()},"2Dig":function(t,e){t.exports=function(t,e,n){return t.on(e,n),{destroy:function(){t.removeListener(e,n)}}}},"2QA8":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));const i=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2Vo4":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n("XNiG"),o=n("9ppp");class s extends i.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new o.a;return this._value}next(t){super.next(this._value=t)}}},"2a2r":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n("UnVO"),o=n("fXoL");let s=(()=>{class t{getResource(t){return i.a[t]}getDefaultAvatar(t=""){switch(t){case"male":return i.a.maleDefaultAvatar;case"female":return i.a.femaleDefaultAvatar;default:return i.a.defaultAvatar}}getDefaultBackground(){}getBadge(t,e="s"){switch(t){case"cpvip":return"s"===e?i.a.mCpVipBadge:i.a.cpVipBadge;case"editor":return"s"===e?i.a.mEditorBadge:i.a.editorBadge;case"etvip":return"s"===e?i.a.mEtVipBadge:i.a.etVipBadge;case"gvip":return"s"===e?i.a.mGVipBadge:i.a.gVipBadge;case"vip":return"s"===e?i.a.mVipBadge:i.a.vipBadge;case"royalAdmin":return"s"===e?i.a.mRoyalAdminBadge:i.a.royalAdminBadge;case"royalVip":return"s"===e?i.a.mRoyalVipBadge:i.a.royalVipBadge;default:return""}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Lb({token:t,factory:t.\u0275fac}),t})()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));let i=!1;const o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=t},get useDeprecatedSynchronousErrorHandling(){return i}}},"2pII":function(t,e,n){var i=n("akSB"),o=n("1Mk5"),s=n("HjK1")("engine.io-client:socket"),r=n("7jRU"),a=n("+ntK"),c=n("Uxeu"),l=n("TypT");function h(t,e){if(!(this instanceof h))return new h(t,e);e=e||{},t&&"object"==typeof t&&(e=t,t=null),t?(t=c(t),e.hostname=t.host,e.secure="https"===t.protocol||"wss"===t.protocol,e.port=t.port,t.query&&(e.query=t.query)):e.host&&(e.hostname=c(e.host).host),this.secure=null!=e.secure?e.secure:"undefined"!=typeof location&&"https:"===location.protocol,e.hostname&&!e.port&&(e.port=this.secure?"443":"80"),this.agent=e.agent||!1,this.hostname=e.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=e.port||("undefined"!=typeof location&&location.port?location.port:this.secure?443:80),this.query=e.query||{},"string"==typeof this.query&&(this.query=l.decode(this.query)),this.upgrade=!1!==e.upgrade,this.path=(e.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!e.forceJSONP,this.jsonp=!1!==e.jsonp,this.forceBase64=!!e.forceBase64,this.enablesXDR=!!e.enablesXDR,this.withCredentials=!1!==e.withCredentials,this.timestampParam=e.timestampParam||"t",this.timestampRequests=e.timestampRequests,this.transports=e.transports||["polling","websocket"],this.transportOptions=e.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=e.policyPort||843,this.rememberUpgrade=e.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=e.onlyBinaryUpgrades,this.perMessageDeflate=!1!==e.perMessageDeflate&&(e.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=e.pfx||null,this.key=e.key||null,this.passphrase=e.passphrase||null,this.cert=e.cert||null,this.ca=e.ca||null,this.ciphers=e.ciphers||null,this.rejectUnauthorized=void 0===e.rejectUnauthorized||e.rejectUnauthorized,this.forceNode=!!e.forceNode,this.isReactNative="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),("undefined"==typeof self||this.isReactNative)&&(e.extraHeaders&&Object.keys(e.extraHeaders).length>0&&(this.extraHeaders=e.extraHeaders),e.localAddress&&(this.localAddress=e.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}t.exports=h,h.priorWebsocketSuccess=!1,o(h.prototype),h.protocol=a.protocol,h.Socket=h,h.Transport=n("Gbct"),h.transports=n("akSB"),h.parser=n("+ntK"),h.prototype.createTransport=function(t){s('creating transport "%s"',t);var e=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}(this.query);e.EIO=a.protocol,e.transport=t;var n=this.transportOptions[t]||{};return this.id&&(e.sid=this.id),new i[t]({query:e,socket:this,agent:n.agent||this.agent,hostname:n.hostname||this.hostname,port:n.port||this.port,secure:n.secure||this.secure,path:n.path||this.path,forceJSONP:n.forceJSONP||this.forceJSONP,jsonp:n.jsonp||this.jsonp,forceBase64:n.forceBase64||this.forceBase64,enablesXDR:n.enablesXDR||this.enablesXDR,withCredentials:n.withCredentials||this.withCredentials,timestampRequests:n.timestampRequests||this.timestampRequests,timestampParam:n.timestampParam||this.timestampParam,policyPort:n.policyPort||this.policyPort,pfx:n.pfx||this.pfx,key:n.key||this.key,passphrase:n.passphrase||this.passphrase,cert:n.cert||this.cert,ca:n.ca||this.ca,ciphers:n.ciphers||this.ciphers,rejectUnauthorized:n.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:n.perMessageDeflate||this.perMessageDeflate,extraHeaders:n.extraHeaders||this.extraHeaders,forceNode:n.forceNode||this.forceNode,localAddress:n.localAddress||this.localAddress,requestTimeout:n.requestTimeout||this.requestTimeout,protocols:n.protocols||void 0,isReactNative:this.isReactNative})},h.prototype.open=function(){var t;if(this.rememberUpgrade&&h.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))t="websocket";else{if(0===this.transports.length){var e=this;return void setTimeout((function(){e.emit("error","No transports available")}),0)}t=this.transports[0]}this.readyState="opening";try{t=this.createTransport(t)}catch(n){return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)},h.prototype.setTransport=function(t){s("setting transport %s",t.name);var e=this;this.transport&&(s("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=t,t.on("drain",(function(){e.onDrain()})).on("packet",(function(t){e.onPacket(t)})).on("error",(function(t){e.onError(t)})).on("close",(function(){e.onClose("transport close")}))},h.prototype.probe=function(t){s('probing transport "%s"',t);var e=this.createTransport(t,{probe:1}),n=!1,i=this;function o(){i.onlyBinaryUpgrades&&(n=n||!this.supportsBinary&&i.transport.supportsBinary),n||(s('probe transport "%s" opened',t),e.send([{type:"ping",data:"probe"}]),e.once("packet",(function(o){if(!n)if("pong"===o.type&&"probe"===o.data){if(s('probe transport "%s" pong',t),i.upgrading=!0,i.emit("upgrading",e),!e)return;h.priorWebsocketSuccess="websocket"===e.name,s('pausing current transport "%s"',i.transport.name),i.transport.pause((function(){n||"closed"!==i.readyState&&(s("changing transport and sending upgrade packet"),u(),i.setTransport(e),e.send([{type:"upgrade"}]),i.emit("upgrade",e),e=null,i.upgrading=!1,i.flush())}))}else{s('probe transport "%s" failed',t);var r=new Error("probe error");r.transport=e.name,i.emit("upgradeError",r)}})))}function r(){n||(n=!0,u(),e.close(),e=null)}function a(n){var o=new Error("probe error: "+n);o.transport=e.name,r(),s('probe transport "%s" failed because of error: %s',t,n),i.emit("upgradeError",o)}function c(){a("transport closed")}function l(){a("socket closed")}function d(t){e&&t.name!==e.name&&(s('"%s" works - aborting "%s"',t.name,e.name),r())}function u(){e.removeListener("open",o),e.removeListener("error",a),e.removeListener("close",c),i.removeListener("close",l),i.removeListener("upgrading",d)}h.priorWebsocketSuccess=!1,e.once("open",o),e.once("error",a),e.once("close",c),this.once("close",l),this.once("upgrading",d),e.open()},h.prototype.onOpen=function(){if(s("socket open"),this.readyState="open",h.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){s("starting upgrade probes");for(var t=0,e=this.upgrades.length;t<e;t++)this.probe(this.upgrades[t])}},h.prototype.onPacket=function(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(s('socket receive: type "%s", data "%s"',t.type,t.data),this.emit("packet",t),this.emit("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var e=new Error("server error");e.code=t.data,this.onError(e);break;case"message":this.emit("data",t.data),this.emit("message",t.data)}else s('packet received with socket readyState "%s"',this.readyState)},h.prototype.onHandshake=function(t){this.emit("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},h.prototype.onHeartbeat=function(t){clearTimeout(this.pingTimeoutTimer);var e=this;e.pingTimeoutTimer=setTimeout((function(){"closed"!==e.readyState&&e.onClose("ping timeout")}),t||e.pingInterval+e.pingTimeout)},h.prototype.setPing=function(){var t=this;clearTimeout(t.pingIntervalTimer),t.pingIntervalTimer=setTimeout((function(){s("writing ping packet - expecting pong within %sms",t.pingTimeout),t.ping(),t.onHeartbeat(t.pingTimeout)}),t.pingInterval)},h.prototype.ping=function(){var t=this;this.sendPacket("ping",(function(){t.emit("ping")}))},h.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},h.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(s("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},h.prototype.write=h.prototype.send=function(t,e,n){return this.sendPacket("message",t,e,n),this},h.prototype.sendPacket=function(t,e,n,i){if("function"==typeof e&&(i=e,e=void 0),"function"==typeof n&&(i=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress;var o={type:t,data:e,options:n};this.emit("packetCreate",o),this.writeBuffer.push(o),i&&this.once("flush",i),this.flush()}},h.prototype.close=function(){if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var t=this;this.writeBuffer.length?this.once("drain",(function(){this.upgrading?i():e()})):this.upgrading?i():e()}function e(){t.onClose("forced close"),s("socket closing - telling transport to close"),t.transport.close()}function n(){t.removeListener("upgrade",n),t.removeListener("upgradeError",n),e()}function i(){t.once("upgrade",n),t.once("upgradeError",n)}return this},h.prototype.onError=function(t){s("socket error %j",t),h.priorWebsocketSuccess=!1,this.emit("error",t),this.onClose("transport error",t)},h.prototype.onClose=function(t,e){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(s('socket close with reason: "%s"',t),clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",t,e),this.writeBuffer=[],this.prevBufferLen=0)},h.prototype.filterUpgrades=function(t){for(var e=[],n=0,i=t.length;n<i;n++)~r(this.transports,t[n])&&e.push(t[n]);return e}},"2xqC":function(t,e,n){function i(t){if(t)return function(t){for(var e in i.prototype)t[e]=i.prototype[e];return t}(t)}t.exports=i,i.prototype.on=i.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},i.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},i.prototype.off=i.prototype.removeListener=i.prototype.removeAllListeners=i.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,i=this._callbacks["$"+t];if(!i)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var o=0;o<i.length;o++)if((n=i[o])===e||n.fn===e){i.splice(o,1);break}return this},i.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks["$"+t];if(n)for(var i=0,o=(n=n.slice(0)).length;i<o;++i)n[i].apply(this,e);return this},i.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},i.prototype.hasListeners=function(t){return!!this.listeners(t).length}},"2zRG":function(t,e,n){"use strict";var i=n("ofXK"),o=n("2Vo4"),s=n("fXoL");let r=(()=>{class t{constructor(){this._sliderSource=new o.a(0),this.sliderSource$=this._sliderSource.asObservable()}changeCurrentIndex(t){this._sliderSource.next(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=s.Lb({token:t,factory:t.\u0275fac}),t})();n.d(e,"a",(function(){return a}));let a=(()=>{class t{}return t.\u0275mod=s.Nb({type:t}),t.\u0275inj=s.Mb({factory:function(e){return new(e||t)},providers:[r],imports:[[i.c]]}),t})()},"3E0/":function(t,e,n){"use strict";var i=n("D0XW"),o=n("7o/Q"),s=n("WMd4");function r(t,e=i.a){var n;const o=(n=t)instanceof Date&&!isNaN(+n)?+t-e.now():Math.abs(t);return t=>t.lift(new a(o,e))}n.d(e,"a",(function(){return r}));class a{constructor(t,e){this.delay=t,this.scheduler=e}call(t,e){return e.subscribe(new c(t,this.delay,this.scheduler))}}class c extends o.a{constructor(t,e,n){super(t),this.delay=e,this.scheduler=n,this.queue=[],this.active=!1,this.errored=!1}static dispatch(t){const e=t.source,n=e.queue,i=t.scheduler,o=t.destination;for(;n.length>0&&n[0].time-i.now()<=0;)n.shift().notification.observe(o);if(n.length>0){const e=Math.max(0,n[0].time-i.now());this.schedule(t,e)}else this.unsubscribe(),e.active=!1}_schedule(t){this.active=!0,this.destination.add(t.schedule(c.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}scheduleNotification(t){if(!0===this.errored)return;const e=this.scheduler,n=new l(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}_next(t){this.scheduleNotification(s.a.createNext(t))}_error(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()}_complete(){this.scheduleNotification(s.a.createComplete()),this.unsubscribe()}}class l{constructor(t,e){this.time=t,this.notification=e}}},"3My9":function(t,e,n){"use strict";n.d(e,"a",(function(){return l})),n.d(e,"c",(function(){return d})),n.d(e,"b",(function(){return u}));var i=n("xgIS"),o=n("XNiG"),s=n("PqYM"),r=n("AytR"),a=n("HQN/"),c=n("fXoL");let l=(()=>{class t{constructor(){this.siteConfig=null,this.preLoadPlaySecond=null,this.isDocumentVisible=!0,this.resourceHost=this.GetHost("static.{Host}"),this.isNews=!1,this.canViewPublic=!0,this.canUseMaster=!(!r.a.production||(a.f.isiOSDevice()||a.f.IsMac())&&a.f.isSafari()),this.defaultHost=2==r.a.cinema?"wyav.tv":"ifsp.tv",this.isClickOnBack=!1,this.isKeyboard=!1,this.IsFullScreen=!1,this.Subscript=[],this.LastActionIsBack=!1,this.windowTop=0}get getSiteConfig(){return this.siteConfig||this._getSiteConfig}get _getSiteConfig(){if(this.siteConfig=r.a,null!=r.a.alternativeConfig&&r.a.alternativeConfig.length>0){var t=this.GetHost("{Host}"),e=r.a.alternativeConfig.findIndex(e=>e.site==t);e>-1&&(this.siteConfig=Object.assign(Object.assign({},r.a),r.a.alternativeConfig[e]),delete this.siteConfig.alternativeConfig)}return this.siteConfig}GUID(){return(new Date).getTime().toString(36)+Math.random().toString(36).slice(2)}isBot(){const t=new RegExp("(googlebot/|bot|Googlebot-Mobile|Googlebot-Image|Google favicon|Mediapartners-Google|bingbot|slurp|java|wget|curl|Commons-HttpClient|Python-urllib|libwww|httpunit|nutch|phpcrawl|msnbot|jyxobot|FAST-WebCrawler|FAST Enterprise Crawler|biglotron|teoma|convera|seekbot|gigablast|exabot|ngbot|ia_archiver|GingerCrawler|webmon |httrack|webcrawler|grub.org|UsineNouvelleCrawler|antibot|netresearchserver|speedy|fluffy|bibnum.bnf|findlink|msrbot|panscient|yacybot|AISearchBot|IOI|ips-agent|tagoobot|MJ12bot|dotbot|woriobot|yanga|buzzbot|mlbot|yandexbot|purebot|Linguee Bot|Voyager|CyberPatrol|voilabot|baiduspider|citeseerxbot|spbot|twengabot|postrank|turnitinbot|scribdbot|page2rss|sitebot|linkdex|Adidxbot|blekkobot|ezooms|dotbot|Mail.RU_Bot|discobot|heritrix|findthatfile|europarchive.org|NerdByNature.Bot|sistrix crawler|ahrefsbot|Aboundex|domaincrawler|wbsearchbot|summify|ccbot|edisterbot|seznambot|ec2linkfinder|gslfbot|aihitbot|intelium_bot|facebookexternalhit|yeti|RetrevoPageAnalyzer|lb-spider|sogou|lssbot|careerbot|wotbox|wocbot|ichiro|DuckDuckBot|lssrocketcrawler|drupact|webcompanycrawler|acoonbot|openindexspider|gnam gnam spider|web-archive-net.com.bot|backlinkcrawler|coccoc|integromedb|content crawler spider|toplistbot|seokicks-robot|it2media-domain-crawler|ip-web-crawler.com|siteexplorer.info|elisabot|proximic|changedetection|blexbot|arabot|WeSEE:Search|niki-bot|CrystalSemanticsBot|rogerbot|360Spider|psbot|InterfaxScanBot|Lipperhey SEO Service|CC Metadata Scaper|g00g1e.net|GrapeshotCrawler|urlappendbot|brainobot|fr-crawler|binlar|SimpleCrawler|Livelapbot|Twitterbot|cXensebot|smtbot|bnf.fr_bot|A6-Indexer|ADmantX|Facebot|Twitterbot|OrangeBot|memorybot|AdvBot|MegaIndex|SemanticScholarBot|ltx71|nerdybot|xovibot|BUbiNG|Qwantify|archive.org_bot|Applebot|TweetmemeBot|crawler4j|findxbot|SemrushBot|yoozBot|lipperhey|y!j-asr|Domain Re-Animator Bot|AddThis)","i");var e=navigator.userAgent;return!!t.test(e)}openList(t,e,n){return Object(i.a)(document,"click").subscribe(i=>{t.contains(i.target)?(null!=e&&e(i.target),console.log("click inside")):(console.log("click outside"),null!=n&&n(i.target))})}isSameRoute(t,e){return t.split("?")[0]==e.split("?")[0]}isSystemDark(){var t=!1;try{window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&(t=!0)}catch(e){}return t}isTimeDark(){if(r.a.switchBaseOnTime){var t=!1,e=(new Date).getHours();return(e>=20||e<=6)&&(t=!0),t}return!1}isDarkMode(t=!0){var e=this.isSystemDark();return!e&&t&&(e=this.isTimeDark()),e}getPromotion(t){for(var e=[],n=0;n<t.promotions.length;++n)e.push(t.promotions[n].promotionCode);return e.join("|")}GetSafeResource(t){return t&&(t.indexOf("http:")>-1||t.indexOf("https:")>-1)?t.replace("http:","https:"):"https:"+t}GetSearchKey(){return decodeURIComponent(this.GetCurrentLocation().split("?")[0].replace("/search/","").replace("/search",""))}isKeyEnter(t){return null!=t&&("Enter"==t.key||13==t.key)}staticResource(t){return t?t.replace("static.dnvod.tv",this.resourceHost):""}getTimeSpan(t){var e=parseInt(t+"",10),n=Math.floor(e/3600),i=Math.floor((e-3600*n)/60),o=e-3600*n-60*i;return n<10&&(n="0"+n),i<10&&(i="0"+i),o<10&&(o="0"+o),n+":"+i+":"+o}GetContent(t){return t.replace(/<\/?[^>]+(>|$)/g,"").replace(/&nbsp;/g,"").trim()}isIphoneDevice(){return this._isIphoneDevice()}_isIphoneDevice(){const t=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"];if(navigator&&navigator.platform)for(;t.length;)if(navigator.platform===t.pop())return!0;return!!(navigator&&navigator.userAgent&&/iphone|ipad/i.test(navigator.userAgent))||navigator.userAgent.toLowerCase().indexOf("macintosh")>-1&&"ontouchend"in document}GetPublicRelation(){return this.GetHost("https://static.{Host}/images/public.jpg?v=2")}GetCharge(){return this.GetHost("https://img.{Host}/wechat/?type=charge")}GetVideoCDN(t){return t.replace("{Host}","s1-a1.dnvodcdn.me")}GetHost(t="",e=!1){var n="";return n=window&&window.location&&window.location.hostname?this.GetDomain(window.location.hostname):this.defaultHost,r.a.app&&(n="apiregion721.xyz"),t&&(n=t.replace(/{Host}/g,n)),n}parseJSON(t){var e=t?t.split("&"):[],n={};return e.forEach((function(t){var e=(t=t.split("="))[0],i=t[1];e.length&&(void 0!==n[e]?(n[e].push||(n[e]=[n[e]]),n[e].push(i||"")):n[e]=i||"")})),n}IsPreventLoad(){return!!(window.location.hash&&window.location.hash.indexOf("navurl_")>-1)}replaceAll(t,e,n){return t.replace(new RegExp(e,"g"),n)}getImage(t){return t&&t.indexOf("http")>-1?t:"https:"+t}GetDomain(t,e=!1){return e=e||!1,t=t.replace(/(https?:\/\/)?(www.)?/i,""),e||(t=(t=t.split(".")).slice(t.length-2).join(".")),-1!==t.indexOf("/")?t.split("/")[0]:t}GetCurrentLocation(){var t=window.location.pathname,e=t.indexOf("/www/");return e>-1&&(t=t.substring(e+4)),t+window.location.search}GetPath(t,e){var n="/movie";switch(t){case 0:break;case 1:n="/movie";break;case 2:n="/adult"}return n+e}Split(t,e){var n=t.split(e),i=[];for(var o in n)n[o]&&i.push(n[o]);return i}ToNameList(t,e){return this.CaptilizeMe(this.Split(t,e))}CaptilizeMe(t){var e=[];if(t&&t.length)for(var n in t){var i={key:"",name:""},o=t[n].split(".");if(o.length>1){var s="";for(var r in o)o[r]&&(s+=o[r].replace(/^\w/,(function(t){return t.toUpperCase()}))+"\xb7");s=s.substring(0,s.length-1),i.name=s,i.key=t[n]}else i.key=i.name=t[n];e.push(i)}return e}getUrlPath(t){return t.replace(/^(?:\/\/|[^\/]+)*\//,"").split("?")[0]}isUrlContains(t){for(var e=window.location.href,n=0;n<t.length;++n)if(e.indexOf(t[n])>-1)return!0;return!1}isUrlDirectionContains(t,e){for(var n=t.split("->")[0],i=t.split("->")[1],o=0;o<e.length;++o){var s=e[o].split("->")[0],r=e[o].split("->")[1];if(new RegExp(s).test(n)&&new RegExp(r).test(i))return!0}return!1}IsStrEndWith(t,e){return!!t&&t.substring(t.lastIndexOf(e))==e}GetOrCreateSubscript(t){return this.Subscript[t]||(this.Subscript[t]=new o.a),this.Subscript[t].asObservable()}Notify(t,e){this.Subscript[t]&&this.Subscript[t].next(e)}Unsubscribe(t){t&&t.unsubscribe&&t.unsubscribe()}GetOrCreateCache(t,e,n,i=60){h.GetOrCreateCache(t,e,n,i)}GetCache(t,e,n,i=60){h.GetCache(t,e,n,i)}setTimeout(t,e){var n=Object(s.a)(e,0),i=n.subscribe(e=>{t(),i.unsubscribe(),n=null});return i}clearTimeout(t){t&&t.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=c.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),h=(()=>{class t{static GetCache(e,n,i,o=60){t.hasValidCachedValue(e)?setTimeout(()=>i(t.cache.get(e).value),0):n().then(n=>{t.cache.set(e,{value:n,expiry:Date.now()+1e3*o}),i(n)})}static GetOrCreateCache(e,n,i,o=60){t.hasValidCachedValue(e)?setTimeout(()=>i(t.cache.get(e).value),0):n.then(n=>{t.cache.set(e,{value:n,expiry:Date.now()+1e3*o}),console.log(t.cache),i(n)})}static hasValidCachedValue(t){return!(!this.cache.has(t)||this.cache.get(t).expiry<Date.now()&&(this.cache.delete(t),1))}static isUrlDirection(t,e){var n=window.location.href;return this.isUrlDirection(n+"->"+t,e)}static isUrlDirectionContains(t,e){for(var n=t.split("->")[0],i=t.split("->")[1],o=0;o<e.length;++o){var s=e[o].split("->")[0],r=e[o].split("->")[1];if(new RegExp(s).test(n)&&new RegExp(r).test(i))return!0}return!1}static GetOrCreateSubscript(t){return this.Subscript[t]||(this.Subscript[t]=new o.a),this.Subscript[t].asObservable()}static Notify(t,e){this.Subscript[t]&&this.Subscript[t].next(e)}static Unsubscribe(t){t&&t.unsubscribe&&t.unsubscribe()}}return t.cache=new Map,t.Subscript=[],t})();function d(t){switch(!0){case"royalVip"===t:return"\u81f3\u5c0aVIP";case"royalAdmin"===t:return"\u7ad9\u957f";case"vip"===t:return"\u666e\u901a\u4f1a\u5458";case"gvip"===t:return"\u9ec4\u91d1VIP";case"etvip"===t:return"\u7f51\u5427\u4f1a\u5458";case"cpvip"===t:return"\u60c5\u4fa3VIP";case"editor"===t:return"\u7f51\u7ad9\u7f16\u8f91";default:return""}}function u(t,e){var n=[];return t&&(n=function t(e,n=""){var i=[];return null!=e&&Object.keys(e).forEach(o=>{var s=typeof e[o];if("function"!=s&&"object"!=s)i.push(`${""==n?o:n.replace("{0}",o)}=${e[o]}`);else if(Array.isArray(e[o])){var r=0;e[o].forEach(e=>{i=i.concat(t(e,`${o}[${r}][{0}]`)),++r})}else i=i.concat(t(e[o],`[${o}].{0}`))}),i}(t)),n.map(t=>e+t)}},"3N8a":function(t,e,n){"use strict";var i=n("quSY");class o extends i.a{constructor(t,e){super()}schedule(t,e=0){return this}}n.d(e,"a",(function(){return s}));class s extends o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(i,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,i=void 0;try{this.work(t)}catch(o){n=!0,i=!!o&&o||new Error(o)}if(n)return this.unsubscribe(),i}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,i=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&n.splice(i,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3Pt+":function(t,e,n){"use strict";n.d(e,"a",(function(){return g})),n.d(e,"b",(function(){return Vt})),n.d(e,"c",(function(){return Gt})),n.d(e,"d",(function(){return pt})),n.d(e,"e",(function(){return Et})),n.d(e,"f",(function(){return Tt})),n.d(e,"g",(function(){return Nt})),n.d(e,"h",(function(){return Wt})),n.d(e,"i",(function(){return zt})),n.d(e,"j",(function(){return c})),n.d(e,"k",(function(){return C})),n.d(e,"l",(function(){return _})),n.d(e,"m",(function(){return kt})),n.d(e,"n",(function(){return q})),n.d(e,"o",(function(){return U})),n.d(e,"p",(function(){return qt})),n.d(e,"q",(function(){return Ft})),n.d(e,"r",(function(){return W})),n.d(e,"s",(function(){return M})),n.d(e,"t",(function(){return X})),n.d(e,"u",(function(){return St}));var i=n("fXoL"),o=n("ofXK"),s=n("cp0P"),r=n("Cfvw"),a=n("lJxs");const c=new i.q("NgValueAccessor"),l={provide:c,useExisting:Object(i.T)(()=>h),multi:!0};let h=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(i.Pb(i.E),i.Pb(i.l))},t.\u0275dir=i.Kb({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&i.dc("change",(function(t){return e.onChange(t.target.checked)}))("blur",(function(t){return e.onTouched()}))},features:[i.Ab([l])]}),t})();const d={provide:c,useExisting:Object(i.T)(()=>g),multi:!0},u=new i.q("CompositionEventMode");let g=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=Object(o.C)()?Object(o.C)().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Pb(i.E),i.Pb(i.l),i.Pb(u,8))},t.\u0275dir=i.Kb({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&i.dc("input",(function(t){return e._handleInput(t.target.value)}))("blur",(function(t){return e.onTouched()}))("compositionstart",(function(t){return e._compositionStart()}))("compositionend",(function(t){return e._compositionEnd(t.target.value)}))},features:[i.Ab([d])]}),t})(),p=(()=>{class t{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Kb({type:t}),t})(),f=(()=>{class t extends p{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return b(e||t)},t.\u0275dir=i.Kb({type:t,features:[i.yb]}),t})();const b=i.Xb(f);function m(){throw new Error("unimplemented")}class v extends p{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){return m()}get asyncValidator(){return m()}}class y{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}let C=(()=>{class t extends y{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Pb(v,2))},t.\u0275dir=i.Kb({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&i.Gb("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[i.yb]}),t})(),_=(()=>{class t extends y{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Pb(f,2))},t.\u0275dir=i.Kb({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&i.Gb("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[i.yb]}),t})();function x(t){return null==t||0===t.length}const P=new i.q("NgValidators"),w=new i.q("NgAsyncValidators"),O=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class M{static min(t){return e=>{if(x(e.value)||x(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(x(e.value)||x(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return x(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return x(t.value)?null:O.test(t.value)?null:{email:!0}}static minLength(t){return e=>{if(x(e.value))return null;const n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}}static maxLength(t){return e=>{const n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}}static pattern(t){if(!t)return M.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(x(t.value))return null;const i=t.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(k);return 0==e.length?null:function(t){return I(function(t,e){return e.map(e=>e(t))}(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(k);return 0==e.length?null:function(t){const n=function(t,e){return e.map(e=>e(t))}(t,e).map(S);return Object(s.a)(n).pipe(Object(a.a)(I))}}}function k(t){return null!=t}function S(t){const e=Object(i.sb)(t)?Object(r.a)(t):t;if(!Object(i.rb)(e))throw new Error("Expected validator to return Promise or Observable.");return e}function I(t){const e=t.reduce((t,e)=>null!=e?Object.assign(Object.assign({},t),e):t,{});return 0===Object.keys(e).length?null:e}function L(t){return t.validate?e=>t.validate(e):t}function T(t){return t.validate?e=>t.validate(e):t}const A={provide:c,useExisting:Object(i.T)(()=>N),multi:!0};let N=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(i.Pb(i.E),i.Pb(i.l))},t.\u0275dir=i.Kb({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&i.dc("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(t){return e.onTouched()}))},features:[i.Ab([A])]}),t})();const B={provide:c,useExisting:Object(i.T)(()=>U),multi:!0};let V=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Lb({token:t,factory:t.\u0275fac}),t})(),U=(()=>{class t{constructor(t,e,n,i){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=i,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(v),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}_throwNameError(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}return t.\u0275fac=function(e){return new(e||t)(i.Pb(i.E),i.Pb(i.l),i.Pb(V),i.Pb(i.r))},t.\u0275dir=i.Kb({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&i.dc("change",(function(t){return e.onChange()}))("blur",(function(t){return e.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[i.Ab([B])]}),t})();const D={provide:c,useExisting:Object(i.T)(()=>E),multi:!0};let E=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(i.Pb(i.E),i.Pb(i.l))},t.\u0275dir=i.Kb({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&i.dc("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(t){return e.onTouched()}))},features:[i.Ab([D])]}),t})();const R='\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',F='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',j='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>';class z{static controlParentException(){throw new Error(`formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ${R}`)}static ngModelGroupException(){throw new Error(`formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        ${F}\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        ${j}`)}static missingFormException(){throw new Error(`formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       ${R}`)}static groupParentException(){throw new Error(`formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ${F}`)}static arrayParentException(){throw new Error('formArrayName must be used with a parent formGroup directive.  You\'ll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        \n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });')}static disabledAttrWarning(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}static ngModelWarning(t){console.warn(`\n    It looks like you're using ngModel on the same form field as ${t}. \n    Support for using the ngModel input property and ngModelChange event with \n    reactive form directives has been deprecated in Angular v6 and will be removed \n    in Angular v7.\n    \n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/${"formControl"===t?"FormControlDirective":"FormControlName"}#use-with-ngmodel\n    `)}}const H={provide:c,useExisting:Object(i.T)(()=>W),multi:!0};function G(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let W=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=i.tb}set compareWith(t){if("function"!=typeof t)throw new Error(`compareWith must be a function, but received ${JSON.stringify(t)}`);this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=G(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(i.Pb(i.E),i.Pb(i.l))},t.\u0275dir=i.Kb({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&i.dc("change",(function(t){return e.onChange(t.target.value)}))("blur",(function(t){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[i.Ab([H])]}),t})(),q=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(G(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(i.Pb(i.l),i.Pb(i.E),i.Pb(W,9))},t.\u0275dir=i.Kb({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const Q={provide:c,useExisting:Object(i.T)(()=>K),multi:!0};function $(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let K=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=i.tb}set compareWith(t){if("function"!=typeof t)throw new Error(`compareWith must be a function, but received ${JSON.stringify(t)}`);this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(e.hasOwnProperty("selectedOptions")){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const i=t.item(e),o=this._getOptionValue(i.value);n.push(o)}}else{const t=e.options;for(let e=0;e<t.length;e++){const i=t.item(e);if(i.selected){const t=this._getOptionValue(i.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(i.Pb(i.E),i.Pb(i.l))},t.\u0275dir=i.Kb({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&i.dc("change",(function(t){return e.onChange(t.target)}))("blur",(function(t){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[i.Ab([Q])]}),t})(),X=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue($(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue($(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(i.Pb(i.l),i.Pb(i.E),i.Pb(K,9))},t.\u0275dir=i.Kb({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();function Y(t,e){return[...e.path,t]}function Z(t,e){t||nt(e,"Cannot find control with"),e.valueAccessor||nt(e,"No value accessor for form control with"),t.validator=M.compose([t.validator,e.validator]),t.asyncValidator=M.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&J(t,e)})}(t,e),function(t,e){t.registerOnChange((t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&J(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(t=>{e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())}),e._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())})}function J(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function tt(t,e){null==t&&nt(e,"Cannot find control with"),t.validator=M.compose([t.validator,e.validator]),t.asyncValidator=M.composeAsync([t.asyncValidator,e.asyncValidator])}function et(t){return nt(t,"There is no FormControl instance attached to form control element with")}function nt(t,e){let n;throw n=t.path.length>1?`path: '${t.path.join(" -> ")}'`:t.path[0]?`name: '${t.path}'`:"unspecified name attribute",new Error(`${e} ${n}`)}function it(t){return null!=t?M.compose(t.map(L)):null}function ot(t){return null!=t?M.composeAsync(t.map(T)):null}function st(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object(i.tb)(e,n.currentValue)}const rt=[h,E,N,W,K,U];function at(t,e){t._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function ct(t,e){if(!e)return null;Array.isArray(e)||nt(t,"Value accessor was not provided as an array for form control with");let n=void 0,i=void 0,o=void 0;return e.forEach(e=>{var s;e.constructor===g?n=e:(s=e,rt.some(t=>s.constructor===t)?(i&&nt(t,"More than one built-in value accessor matches form control with"),i=e):(o&&nt(t,"More than one custom value accessor matches form control with"),o=e))}),o||i||n||(nt(t,"No valid value accessor for form control with"),null)}function lt(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function ht(t){const e=ut(t)?t.validators:t;return Array.isArray(e)?it(e):e||null}function dt(t,e){const n=ut(e)?e.asyncValidators:t;return Array.isArray(n)?ot(n):n||null}function ut(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class gt{constructor(t,e){this.validator=t,this.asyncValidator=e,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}get parent(){return this._parent}get valid(){return"VALID"===this.status}get invalid(){return"INVALID"===this.status}get pending(){return"PENDING"==this.status}get disabled(){return"DISABLED"===this.status}get enabled(){return"DISABLED"!==this.status}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this.validator=ht(t)}setAsyncValidators(t){this.asyncValidator=dt(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status="PENDING";const e=S(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>this.setErrors(e,{emitEvent:t}))}}_cancelExistingSubscription(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){return null==e?null:(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length?null:e.reduce((t,e)=>t instanceof ft?t.controls.hasOwnProperty(e)?t.controls[e]:null:t instanceof bt&&t.at(e)||null,t))}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new i.n,this.statusChanges=new i.n}_calculateStatus(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){ut(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class pt extends gt{constructor(t=null,e,n){super(ht(e),dt(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class ft extends gt{constructor(t,e,n){super(ht(e),dt(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,i)=>{n.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof pt?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){let e=!1;return this._forEachChild((n,i)=>{e=e||this.contains(i)&&t(n)}),e}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,i)=>{n=e(n,t,i)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class bt extends gt{constructor(t,e,n){super(ht(e),dt(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,i)=>{n.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof pt?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const mt={provide:f,useExisting:Object(i.T)(()=>yt)},vt=(()=>Promise.resolve(null))();let yt=(()=>{class t extends f{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new i.n,this.form=new ft({},it(t),ot(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){vt.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),Z(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){vt.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),lt(this._directives,t)})}addFormGroup(t){vt.then(()=>{const e=this._findContainer(t.path),n=new ft({});tt(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){vt.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){vt.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,at(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(i.Pb(P,10),i.Pb(w,10))},t.\u0275dir=i.Kb({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&i.dc("submit",(function(t){return e.onSubmit(t)}))("reset",(function(t){return e.onReset()}))},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[i.Ab([mt]),i.yb]}),t})(),Ct=(()=>{class t extends f{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Y(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return it(this._validators)}get asyncValidator(){return ot(this._asyncValidators)}_checkParentType(){}}return t.\u0275fac=function(e){return _t(e||t)},t.\u0275dir=i.Kb({type:t,features:[i.yb]}),t})();const _t=i.Xb(Ct);class xt{static modelParentException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup's partner directive "formControlName" instead.  Example:\n\n      ${R}\n\n      Or, if you'd like to avoid registering this form control, indicate that it's standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  `)}static formGroupNameException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ${F}\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ${j}`)}static missingNameException(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}static modelGroupParentException(){throw new Error(`\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ${F}\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ${j}`)}}const Pt={provide:f,useExisting:Object(i.T)(()=>wt)};let wt=(()=>{class t extends Ct{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}_checkParentType(){this._parent instanceof t||this._parent instanceof yt||xt.modelGroupParentException()}}return t.\u0275fac=function(e){return new(e||t)(i.Pb(f,5),i.Pb(P,10),i.Pb(w,10))},t.\u0275dir=i.Kb({type:t,selectors:[["","ngModelGroup",""]],inputs:{name:["ngModelGroup","name"]},exportAs:["ngModelGroup"],features:[i.Ab([Pt]),i.yb]}),t})();const Ot={provide:v,useExisting:Object(i.T)(()=>kt)},Mt=(()=>Promise.resolve(null))();let kt=(()=>{class t extends v{constructor(t,e,n,o){super(),this.control=new pt,this._registered=!1,this.update=new i.n,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=ct(this,o)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),st(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?Y(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return it(this._rawValidators)}get asyncValidator(){return ot(this._rawAsyncValidators)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Z(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){!(this._parent instanceof wt)&&this._parent instanceof Ct?xt.formGroupNameException():this._parent instanceof wt||this._parent instanceof yt||xt.modelParentException()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||xt.missingNameException()}_updateValue(t){Mt.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;Mt.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(i.Pb(f,9),i.Pb(P,10),i.Pb(w,10),i.Pb(c,10))},t.\u0275dir=i.Kb({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[i.Ab([Ot]),i.yb,i.zb()]}),t})(),St=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Kb({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const It=new i.q("NgModelWithFormControlWarning"),Lt={provide:f,useExisting:Object(i.T)(()=>Tt)};let Tt=(()=>{class t extends f{constructor(t,e){super(),this._validators=t,this._asyncValidators=e,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new i.n}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return Z(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){lt(this.directives,t)}addFormGroup(t){const e=this.form.get(t.path);tt(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormGroup(t){}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){const e=this.form.get(t.path);tt(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormArray(t){}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,at(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=this.form.get(t.path);t.control!==e&&(function(t,e){e.valueAccessor.registerOnChange(()=>et(e)),e.valueAccessor.registerOnTouched(()=>et(e)),e._rawValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),e._rawAsyncValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),t&&t._clearChangeFns()}(t.control,t),e&&Z(e,t),t.control=e)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{}),this._oldForm=this.form}_updateValidators(){const t=it(this._validators);this.form.validator=M.compose([this.form.validator,t]);const e=ot(this._asyncValidators);this.form.asyncValidator=M.composeAsync([this.form.asyncValidator,e])}_checkFormPresent(){this.form||z.missingFormException()}}return t.\u0275fac=function(e){return new(e||t)(i.Pb(P,10),i.Pb(w,10))},t.\u0275dir=i.Kb({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&i.dc("submit",(function(t){return e.onSubmit(t)}))("reset",(function(t){return e.onReset()}))},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[i.Ab([Lt]),i.yb,i.zb()]}),t})();const At={provide:f,useExisting:Object(i.T)(()=>Nt)};let Nt=(()=>{class t extends Ct{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}_checkParentType(){Ut(this._parent)&&z.groupParentException()}}return t.\u0275fac=function(e){return new(e||t)(i.Pb(f,13),i.Pb(P,10),i.Pb(w,10))},t.\u0275dir=i.Kb({type:t,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[i.Ab([At]),i.yb]}),t})();const Bt={provide:f,useExisting:Object(i.T)(()=>Vt)};let Vt=(()=>{class t extends f{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Y(null==this.name?this.name:this.name.toString(),this._parent)}get validator(){return it(this._validators)}get asyncValidator(){return ot(this._asyncValidators)}_checkParentType(){Ut(this._parent)&&z.arrayParentException()}}return t.\u0275fac=function(e){return new(e||t)(i.Pb(f,13),i.Pb(P,10),i.Pb(w,10))},t.\u0275dir=i.Kb({type:t,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[i.Ab([Bt]),i.yb]}),t})();function Ut(t){return!(t instanceof Nt||t instanceof Tt||t instanceof Vt)}const Dt={provide:v,useExisting:Object(i.T)(()=>Et)};let Et=(()=>{class t extends v{constructor(t,e,n,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.update=new i.n,this._ngModelWarningSent=!1,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=ct(this,o)}set isDisabled(t){z.disabledAttrWarning()}ngOnChanges(e){var n,o;this._added||this._setUpControl(),st(e,this.viewModel)&&("formControlName",n=t,this,o=this._ngModelWarningConfig,Object(i.V)()&&"never"!==o&&((null!==o&&"once"!==o||n._ngModelWarningSentOnce)&&("always"!==o||this._ngModelWarningSent)||(z.ngModelWarning("formControlName"),n._ngModelWarningSentOnce=!0,this._ngModelWarningSent=!0)),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Y(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return it(this._rawValidators)}get asyncValidator(){return ot(this._rawAsyncValidators)}_checkParentType(){!(this._parent instanceof Nt)&&this._parent instanceof Ct?z.ngModelGroupException():this._parent instanceof Nt||this._parent instanceof Tt||this._parent instanceof Vt||z.controlParentException()}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t.\u0275fac=function(e){return new(e||t)(i.Pb(f,13),i.Pb(P,10),i.Pb(w,10),i.Pb(c,10),i.Pb(It,8))},t.\u0275dir=i.Kb({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[i.Ab([Dt]),i.yb,i.zb()]}),t._ngModelWarningSentOnce=!1,t})();const Rt={provide:P,useExisting:Object(i.T)(()=>Ft),multi:!0};let Ft=(()=>{class t{get required(){return this._required}set required(t){this._required=null!=t&&!1!==t&&"false"!==`${t}`,this._onChange&&this._onChange()}validate(t){return this.required?M.required(t):null}registerOnValidatorChange(t){this._onChange=t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Kb({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,e){2&t&&i.Cb("required",e.required?"":null)},inputs:{required:"required"},features:[i.Ab([Rt])]}),t})();const jt={provide:P,useExisting:Object(i.T)(()=>zt),multi:!0};let zt=(()=>{class t{ngOnChanges(t){"maxlength"in t&&(this._createValidator(),this._onChange&&this._onChange())}validate(t){return null!=this.maxlength?this._validator(t):null}registerOnValidatorChange(t){this._onChange=t}_createValidator(){this._validator=M.maxLength("number"==typeof this.maxlength?this.maxlength:parseInt(this.maxlength,10))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Kb({type:t,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(t,e){2&t&&i.Cb("maxlength",e.maxlength?e.maxlength:null)},inputs:{maxlength:"maxlength"},features:[i.Ab([jt]),i.zb()]}),t})(),Ht=(()=>{class t{}return t.\u0275mod=i.Nb({type:t}),t.\u0275inj=i.Mb({factory:function(e){return new(e||t)}}),t})(),Gt=(()=>{class t{group(t,e=null){const n=this._reduceControls(t);let i=null,o=null,s=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(i=null!=e.validators?e.validators:null,o=null!=e.asyncValidators?e.asyncValidators:null,s=null!=e.updateOn?e.updateOn:void 0):(i=null!=e.validator?e.validator:null,o=null!=e.asyncValidator?e.asyncValidator:null)),new ft(n,{asyncValidators:o,updateOn:s,validators:i})}control(t,e,n){return new pt(t,e,n)}array(t,e,n){const i=t.map(t=>this._createControl(t));return new bt(i,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof pt||t instanceof ft||t instanceof bt?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Lb({token:t,factory:t.\u0275fac}),t})(),Wt=(()=>{class t{}return t.\u0275mod=i.Nb({type:t}),t.\u0275inj=i.Mb({factory:function(e){return new(e||t)},providers:[V],imports:[Ht]}),t})(),qt=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:It,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275mod=i.Nb({type:t}),t.\u0275inj=i.Mb({factory:function(e){return new(e||t)},providers:[Gt,V],imports:[Ht]}),t})()},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"3UWI":function(t,e,n){"use strict";var i=n("D0XW"),o=n("l7GE"),s=n("ZUHj");class r{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new a(t,this.durationSelector))}}class a extends o.a{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:e}=this;n=e(t)}catch(e){return this.destination.error(e)}const i=Object(s.a)(this,n);!i||i.closed?this.clearThrottle():this.add(this.throttled=i)}}clearThrottle(){const{value:t,hasValue:e,throttled:n}=this;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),e&&(this.value=null,this.hasValue=!1,this.destination.next(t))}notifyNext(t,e,n,i){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var c=n("PqYM");function l(t,e=i.a){return n=()=>Object(c.a)(t,e),function(t){return t.lift(new r(n))};var n}n.d(e,"a",(function(){return l}))},"3umQ":function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n("fXoL"),o=n("ofXK");function s(t,e){if(1&t&&(i.Vb(0,"h3"),i.Nc(1),i.Ub()),2&t){const t=i.gc();i.Eb("block-title ",t.mode,""),i.Bb(1),i.Oc(t.title)}}function r(t,e){if(1&t&&(i.Vb(0,"h4"),i.Nc(1),i.Ub()),2&t){const t=i.gc();i.Eb("block-title ",t.mode,""),i.Bb(1),i.Oc(t.title)}}let a=(()=>{class t{constructor(){this.title="",this.size="medium",this.mode=""}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Jb({type:t,selectors:[["app-block-title"]],inputs:{title:"title",size:"size",mode:"mode"},decls:2,vars:2,consts:[[3,"class",4,"ngIf"]],template:function(t,e){1&t&&(i.Lc(0,s,2,4,"h3",0),i.Lc(1,r,2,4,"h4",0)),2&t&&(i.nc("ngIf","large"===e.size),i.Bb(1),i.nc("ngIf","medium"===e.size))},directives:[o.n],styles:['.block-title[_ngcontent-%COMP%]{display:block;padding:5px 0 5px 36px;position:relative;margin-bottom:20px;cursor:default}.block-title[_ngcontent-%COMP%]:after{content:"";display:block;position:absolute;left:0;top:3px;bottom:5px;background:url(/assets/images/player_logo.png) no-repeat 50%;background-size:contain;width:24px;height:24px;margin-right:1.2em}.block-title.search[_ngcontent-%COMP%]{padding:5px 0}.block-title.search[_ngcontent-%COMP%]:after{width:0;height:0}']}),t})()},"44nb":function(t,e){var n,i,o,s=String.fromCharCode;function r(t){for(var e,n,i=[],o=0,s=t.length;o<s;)(e=t.charCodeAt(o++))>=55296&&e<=56319&&o<s?56320==(64512&(n=t.charCodeAt(o++)))?i.push(((1023&e)<<10)+(1023&n)+65536):(i.push(e),o--):i.push(e);return i}function a(t,e){if(t>=55296&&t<=57343){if(e)throw Error("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function c(t,e){return s(t>>e&63|128)}function l(t,e){if(0==(4294967168&t))return s(t);var n="";return 0==(4294965248&t)?n=s(t>>6&31|192):0==(4294901760&t)?(a(t,e)||(t=65533),n=s(t>>12&15|224),n+=c(t,6)):0==(4292870144&t)&&(n=s(t>>18&7|240),n+=c(t,12),n+=c(t,6)),n+s(63&t|128)}function h(){if(o>=i)throw Error("Invalid byte index");var t=255&n[o];if(o++,128==(192&t))return 63&t;throw Error("Invalid continuation byte")}function d(t){var e,s;if(o>i)throw Error("Invalid byte index");if(o==i)return!1;if(e=255&n[o],o++,0==(128&e))return e;if(192==(224&e)){if((s=(31&e)<<6|h())>=128)return s;throw Error("Invalid continuation byte")}if(224==(240&e)){if((s=(15&e)<<12|h()<<6|h())>=2048)return a(s,t)?s:65533;throw Error("Invalid continuation byte")}if(240==(248&e)&&(s=(7&e)<<18|h()<<12|h()<<6|h())>=65536&&s<=1114111)return s;throw Error("Invalid UTF-8 detected")}t.exports={version:"2.1.2",encode:function(t,e){for(var n=!1!==(e=e||{}).strict,i=r(t),o=i.length,s=-1,a="";++s<o;)a+=l(i[s],n);return a},decode:function(t,e){var a=!1!==(e=e||{}).strict;n=r(t),i=n.length,o=0;for(var c,l=[];!1!==(c=d(a));)l.push(c);return function(t){for(var e,n=t.length,i=-1,o="";++i<n;)(e=t[i])>65535&&(o+=s((e-=65536)>>>10&1023|55296),e=56320|1023&e),o+=s(e);return o}(l)}}},"4I5i":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));const i=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})()},"4z3+":function(t,e,n){"use strict";var i=n("Njeq"),o=n("tWDZ"),s=n("LRne"),r=n("lJxs"),a=n("3E0/");const c=[{activityId:1,contxt:"\u300a\u6697\u5f71\u706b\u70ac\u57ce\u300b\u901a\u5173\u540e\u7684\u4e2a\u4eba\u4e3b\u89c2\u8bc4\u4ef7<br />\n        <br />\n        1.\u9996\u5148\u7f8e\u672f\u662f\u6700\u5438\u5f15\u6211\u7684\u5730\u65b9\uff0c\u67f4\u6cb9\u670b\u514b\u4e5f\u975e\u5e38\u6233\u6211\uff0c\u4e3b\u7f8e\u6b66\u4fa0\u725b\u903c\uff01<br />\n        2.\u6e38\u620f\u5185\u6709\u591a\u5230\u6570\u4e0d\u6e05\u7684\u5f69\u86cb\uff0c\u6211\u5217\u4e24\u4e2a\u51fa\u6765\uff1a1\u662f\u9a6c\u91cc\u5965\u5144\u5f1f\u7684\u5f69\u86cb 2\u662f\u963f\u57fa\u62c9\u7684\u6d77\u62a5\u5f69\u86cb\uff0c\u8fd8\u6709\u5f88\u591a\u6211\u5c31\u4e0d\u5217\u51fa\u6765\u4e86\uff0c\u5927\u5bb6\u53ef\u4ee5\u81ea\u5df1\u53bb\u8fb9\u73a9\u8fb9\u53d1\u6398\u3002<br />\n        3.\u5341\u5206\u4e30\u5bcc\u7684\u6b66\u5668\u79cd\u7c7b\u548c\u62db\u5f0f\u7cfb\u7edf\uff0c\u53ef\u4ee5\u6253\u51fa\u7279\u522b\u591a\u7684\u534e\u4e3d\u8fde\u6bb5\u548c\u5957\u8def\uff08\u5f53\u7136\u6211\u662f\u61d2\u72d7\uff0c\u559c\u6b22\u4e00\u4e2a\u5957\u8def\u7528\u5230\u901a\u5173\uff09<br />\n        4.\u5730\u56fe\u7684\u6536\u96c6\u8981\u7d20\u4e5f\u5341\u5206\u4e30\u5bcc\uff0c\u4e0d\u8fc7\u6211\u521d\u89c1\u4e00\u822c\u4e0d\u4f1a\u53bb\u523b\u610f\u6536\u96c6\uff0c\u9664\u975e\u5361\u5173\u4e25\u91cd\u624d\u4f1a\u8dd1\u56de\u53bb\u6536\u96c6\uff0c\u4e0d\u8fc7\u597d\u5728\u8fd9\u4e2a\u6e38\u620f\u96be\u5ea6\u4e0d\u662f\u7279\u522b\u9ad8\u3002<br />\n        5.\u6700\u540e\u8bf4\u8bf4\u7f3a\u70b9\uff0c\u795e\u6bbf\u6d41\u7a0b\u7684\u642c\u7535\u6c60\u662f\u6211\u89c9\u5f97\u6700\u5927\u7684\u8d25\u7b14\uff0c\u6574\u4e2a\u8fc7\u7a0b\u53c8\u67af\u71e5\u53c8\u9634\u95f4\uff0c\u73a9\u7684\u6211\u5341\u5206\u70e6\u8e81\uff0c\u8fd8\u6709\u4e00\u4e2a\u975e\u5e38\u975e\u5e38\u5927\u7684\u7f3a\u70b9\uff01\u4e3a\u5565\u4e0d\u8ba9\u6211\u7528LadyQ",photos:[{imgId:"a1",imgPath:"assets/images/right.jpg"},{imgId:"a2",imgPath:"assets/images/\u957f\u56fe\u6d4b\u8bd5.jpg"},{imgId:"a3",imgPath:"assets/images/\u4e0b\u8f7d.jpg"},{imgId:"a4",imgPath:"assets/images/\u957f\u56fe\u6d4b\u8bd5.jpg"},{imgId:"a5",imgPath:"assets/images/left.jpg"},{imgId:"a6",imgPath:"assets/images/\u4e0b\u8f7d.jpg"},{imgId:"a7",imgPath:"assets/images/right.jpg"},{imgId:"a8",imgPath:"assets/images/left.jpg"},{imgId:"a9",imgPath:"assets/images/\u4e0b\u8f7d.jpg"}],addTime:"1\u5c0f\u65f6\u524d",viewCount:5683,comments:7,likes:2231,location:"\u7f8e\u56fd\xb7\u660e\u5c3c\u82cf\u8fbe"},{activityId:2,contxt:"\u60a8\u5df2\u9886\u53d67\u5929VIP\uff01 \\n \u73b0\u5728\u53ef\u4f7f\u7528\u5168\u90e8VIP\u529f\u80fd\uff01",photos:[{imgId:"b1",imgPath:"assets/images/\u957f\u56fe\u6d4b\u8bd5.jpg"}],addTime:"1\u5c0f\u65f6\u524d",viewCount:5683,comments:7,likes:2231,location:"\u7f8e\u56fd\xb7\u660e\u5c3c\u82cf\u8fbe"},{activityId:3,contxt:"\u300a\u6697\u5f71\u706b\u70ac\u57ce\u300b\u901a\u5173\u540e\u7684\u4e2a\u4eba\u4e3b\u89c2\u8bc4\u4ef7<br />\n        <br />\n        1.\u9996\u5148\u7f8e\u672f\u662f\u6700\u5438\u5f15\u6211\u7684\u5730\u65b9\uff0c\u67f4\u6cb9\u670b\u514b\u4e5f\u975e\u5e38\u6233\u6211\uff0c\u4e3b\u7f8e\u6b66\u4fa0\u725b\u903c\uff01<br />\n        2.\u6e38\u620f\u5185\u6709\u591a\u5230\u6570\u4e0d\u6e05\u7684\u5f69\u86cb\uff0c\u6211\u5217\u4e24\u4e2a\u51fa\u6765\uff1a1\u662f\u9a6c\u91cc\u5965\u5144\u5f1f\u7684\u5f69\u86cb 2\u662f\u963f\u57fa\u62c9\u7684\u6d77\u62a5\u5f69\u86cb\uff0c\u8fd8\u6709\u5f88\u591a\u6211\u5c31\u4e0d\u5217\u51fa\u6765\u4e86\uff0c\u5927\u5bb6\u53ef\u4ee5\u81ea\u5df1\u53bb\u8fb9\u73a9\u8fb9\u53d1\u6398\u3002<br />\n        3.\u5341\u5206\u4e30\u5bcc\u7684\u6b66\u5668\u79cd\u7c7b\u548c\u62db\u5f0f\u7cfb\u7edf\uff0c\u53ef\u4ee5\u6253\u51fa\u7279\u522b\u591a\u7684\u534e\u4e3d\u8fde\u6bb5\u548c\u5957\u8def\uff08\u5f53\u7136\u6211\u662f\u61d2\u72d7\uff0c\u559c\u6b22\u4e00\u4e2a\u5957\u8def\u7528\u5230\u901a\u5173\uff09<br />\n        4.\u5730\u56fe\u7684\u6536\u96c6\u8981\u7d20\u4e5f\u5341\u5206\u4e30\u5bcc\uff0c\u4e0d\u8fc7\u6211\u521d\u89c1\u4e00\u822c\u4e0d\u4f1a\u53bb\u523b\u610f\u6536\u96c6\uff0c\u9664\u975e\u5361\u5173\u4e25\u91cd\u624d\u4f1a\u8dd1\u56de\u53bb\u6536\u96c6\uff0c\u4e0d\u8fc7\u597d\u5728\u8fd9\u4e2a\u6e38\u620f\u96be\u5ea6\u4e0d\u662f\u7279\u522b\u9ad8\u3002<br />\n        5.\u6700\u540e\u8bf4\u8bf4\u7f3a\u70b9\uff0c\u795e\u6bbf\u6d41\u7a0b\u7684\u642c\u7535\u6c60\u662f\u6211\u89c9\u5f97\u6700\u5927\u7684\u8d25\u7b14\uff0c\u6574\u4e2a\u8fc7\u7a0b\u53c8\u67af\u71e5\u53c8\u9634\u95f4\uff0c\u73a9\u7684\u6211\u5341\u5206\u70e6\u8e81\uff0c\u8fd8\u6709\u4e00\u4e2a\u975e\u5e38\u975e\u5e38\u5927\u7684\u7f3a\u70b9\uff01\u4e3a\u5565\u4e0d\u8ba9\u6211\u7528LadyQ",photos:[{imgId:"c1",imgPath:"assets/images/\u4e0b\u8f7d.jpg"}],addTime:"1\u5c0f\u65f6\u524d",viewCount:5683,comments:7,likes:2231,location:"\u7f8e\u56fd\xb7\u660e\u5c3c\u82cf\u8fbe"},{activityId:4,contxt:"\u300a\u6697\u5f71\u706b\u70ac\u57ce\u300b\u901a\u5173\u540e\u7684\u4e2a\u4eba\u4e3b\u89c2\u8bc4\u4ef7<br />\n        <br />\n        1.\u9996\u5148\u7f8e\u672f\u662f\u6700\u5438\u5f15\u6211\u7684\u5730\u65b9\uff0c\u67f4\u6cb9\u670b\u514b\u4e5f\u975e\u5e38\u6233\u6211\uff0c\u4e3b\u7f8e\u6b66\u4fa0\u725b\u903c\uff01<br />\n        2.\u6e38\u620f\u5185\u6709\u591a\u5230\u6570\u4e0d\u6e05\u7684\u5f69\u86cb\uff0c\u6211\u5217\u4e24\u4e2a\u51fa\u6765\uff1a1\u662f\u9a6c\u91cc\u5965\u5144\u5f1f\u7684\u5f69\u86cb 2\u662f\u963f\u57fa\u62c9\u7684\u6d77\u62a5\u5f69\u86cb\uff0c\u8fd8\u6709\u5f88\u591a\u6211\u5c31\u4e0d\u5217\u51fa\u6765\u4e86\uff0c\u5927\u5bb6\u53ef\u4ee5\u81ea\u5df1\u53bb\u8fb9\u73a9\u8fb9\u53d1\u6398\u3002<br />\n        3.\u5341\u5206\u4e30\u5bcc\u7684\u6b66\u5668\u79cd\u7c7b\u548c\u62db\u5f0f\u7cfb\u7edf\uff0c\u53ef\u4ee5\u6253\u51fa\u7279\u522b\u591a\u7684\u534e\u4e3d\u8fde\u6bb5\u548c\u5957\u8def\uff08\u5f53\u7136\u6211\u662f\u61d2\u72d7\uff0c\u559c\u6b22\u4e00\u4e2a\u5957\u8def\u7528\u5230\u901a\u5173\uff09<br />\n        4.\u5730\u56fe\u7684\u6536\u96c6\u8981\u7d20\u4e5f\u5341\u5206\u4e30\u5bcc\uff0c\u4e0d\u8fc7\u6211\u521d\u89c1\u4e00\u822c\u4e0d\u4f1a\u53bb\u523b\u610f\u6536\u96c6\uff0c\u9664\u975e\u5361\u5173\u4e25\u91cd\u624d\u4f1a\u8dd1\u56de\u53bb\u6536\u96c6\uff0c\u4e0d\u8fc7\u597d\u5728\u8fd9\u4e2a\u6e38\u620f\u96be\u5ea6\u4e0d\u662f\u7279\u522b\u9ad8\u3002<br />\n        5.\u6700\u540e\u8bf4\u8bf4\u7f3a\u70b9\uff0c\u795e\u6bbf\u6d41\u7a0b\u7684\u642c\u7535\u6c60\u662f\u6211\u89c9\u5f97\u6700\u5927\u7684\u8d25\u7b14\uff0c\u6574\u4e2a\u8fc7\u7a0b\u53c8\u67af\u71e5\u53c8\u9634\u95f4\uff0c\u73a9\u7684\u6211\u5341\u5206\u70e6\u8e81\uff0c\u8fd8\u6709\u4e00\u4e2a\u975e\u5e38\u975e\u5e38\u5927\u7684\u7f3a\u70b9\uff01\u4e3a\u5565\u4e0d\u8ba9\u6211\u7528LadyQ",photos:[{imgId:"d1",imgPath:"assets/images/right.jpg"}],addTime:"1\u5c0f\u65f6\u524d",viewCount:5683,comments:7,likes:2231,location:"\u7f8e\u56fd\xb7\u660e\u5c3c\u82cf\u8fbe"},{activityId:5,contxt:"\u300a\u6697\u5f71\u706b\u70ac\u57ce\u300b\u901a\u5173\u540e\u7684\u4e2a\u4eba\u4e3b\u89c2\u8bc4\u4ef7<br />\n        <br />\n        1.\u9996\u5148\u7f8e\u672f\u662f\u6700\u5438\u5f15\u6211\u7684\u5730\u65b9\uff0c\u67f4\u6cb9\u670b\u514b\u4e5f\u975e\u5e38\u6233\u6211\uff0c\u4e3b\u7f8e\u6b66\u4fa0\u725b\u903c\uff01<br />\n        2.\u6e38\u620f\u5185\u6709\u591a\u5230\u6570\u4e0d\u6e05\u7684\u5f69\u86cb\uff0c\u6211\u5217\u4e24\u4e2a\u51fa\u6765\uff1a1\u662f\u9a6c\u91cc\u5965\u5144\u5f1f\u7684\u5f69\u86cb 2\u662f\u963f\u57fa\u62c9\u7684\u6d77\u62a5\u5f69\u86cb\uff0c\u8fd8\u6709\u5f88\u591a\u6211\u5c31\u4e0d\u5217\u51fa\u6765\u4e86\uff0c\u5927\u5bb6\u53ef\u4ee5\u81ea\u5df1\u53bb\u8fb9\u73a9\u8fb9\u53d1\u6398\u3002<br />\n        3.\u5341\u5206\u4e30\u5bcc\u7684\u6b66\u5668\u79cd\u7c7b\u548c\u62db\u5f0f\u7cfb\u7edf\uff0c\u53ef\u4ee5\u6253\u51fa\u7279\u522b\u591a\u7684\u534e\u4e3d\u8fde\u6bb5\u548c\u5957\u8def\uff08\u5f53\u7136\u6211\u662f\u61d2\u72d7\uff0c\u559c\u6b22\u4e00\u4e2a\u5957\u8def\u7528\u5230\u901a\u5173\uff09<br />\n        4.\u5730\u56fe\u7684\u6536\u96c6\u8981\u7d20\u4e5f\u5341\u5206\u4e30\u5bcc\uff0c\u4e0d\u8fc7\u6211\u521d\u89c1\u4e00\u822c\u4e0d\u4f1a\u53bb\u523b\u610f\u6536\u96c6\uff0c\u9664\u975e\u5361\u5173\u4e25\u91cd\u624d\u4f1a\u8dd1\u56de\u53bb\u6536\u96c6\uff0c\u4e0d\u8fc7\u597d\u5728\u8fd9\u4e2a\u6e38\u620f\u96be\u5ea6\u4e0d\u662f\u7279\u522b\u9ad8\u3002<br />\n        5.\u6700\u540e\u8bf4\u8bf4\u7f3a\u70b9\uff0c\u795e\u6bbf\u6d41\u7a0b\u7684\u642c\u7535\u6c60\u662f\u6211\u89c9\u5f97\u6700\u5927\u7684\u8d25\u7b14\uff0c\u6574\u4e2a\u8fc7\u7a0b\u53c8\u67af\u71e5\u53c8\u9634\u95f4\uff0c\u73a9\u7684\u6211\u5341\u5206\u70e6\u8e81\uff0c\u8fd8\u6709\u4e00\u4e2a\u975e\u5e38\u975e\u5e38\u5927\u7684\u7f3a\u70b9\uff01\u4e3a\u5565\u4e0d\u8ba9\u6211\u7528LadyQ",photos:[{imgId:"e1",imgPath:"assets/images/g-left.jpg"}],addTime:"1\u5c0f\u65f6\u524d",viewCount:5683,comments:7,likes:2231,location:"\u7f8e\u56fd\xb7\u660e\u5c3c\u82cf\u8fbe"},{activityId:6,contxt:"\u300a\u6697\u5f71\u706b\u70ac\u57ce\u300b\u901a\u5173\u540e\u7684\u4e2a\u4eba\u4e3b\u89c2\u8bc4\u4ef7<br />\n        <br />\n        1.\u9996\u5148\u7f8e\u672f\u662f\u6700\u5438\u5f15\u6211\u7684\u5730\u65b9\uff0c\u67f4\u6cb9\u670b\u514b\u4e5f\u975e\u5e38\u6233\u6211\uff0c\u4e3b\u7f8e\u6b66\u4fa0\u725b\u903c\uff01<br />\n        2.\u6e38\u620f\u5185\u6709\u591a\u5230\u6570\u4e0d\u6e05\u7684\u5f69\u86cb\uff0c\u6211\u5217\u4e24\u4e2a\u51fa\u6765\uff1a1\u662f\u9a6c\u91cc\u5965\u5144\u5f1f\u7684\u5f69\u86cb 2\u662f\u963f\u57fa\u62c9\u7684\u6d77\u62a5\u5f69\u86cb\uff0c\u8fd8\u6709\u5f88\u591a\u6211\u5c31\u4e0d\u5217\u51fa\u6765\u4e86\uff0c\u5927\u5bb6\u53ef\u4ee5\u81ea\u5df1\u53bb\u8fb9\u73a9\u8fb9\u53d1\u6398\u3002<br />\n        3.\u5341\u5206\u4e30\u5bcc\u7684\u6b66\u5668\u79cd\u7c7b\u548c\u62db\u5f0f\u7cfb\u7edf\uff0c\u53ef\u4ee5\u6253\u51fa\u7279\u522b\u591a\u7684\u534e\u4e3d\u8fde\u6bb5\u548c\u5957\u8def\uff08\u5f53\u7136\u6211\u662f\u61d2\u72d7\uff0c\u559c\u6b22\u4e00\u4e2a\u5957\u8def\u7528\u5230\u901a\u5173\uff09<br />\n        4.\u5730\u56fe\u7684\u6536\u96c6\u8981\u7d20\u4e5f\u5341\u5206\u4e30\u5bcc\uff0c\u4e0d\u8fc7\u6211\u521d\u89c1\u4e00\u822c\u4e0d\u4f1a\u53bb\u523b\u610f\u6536\u96c6\uff0c\u9664\u975e\u5361\u5173\u4e25\u91cd\u624d\u4f1a\u8dd1\u56de\u53bb\u6536\u96c6\uff0c\u4e0d\u8fc7\u597d\u5728\u8fd9\u4e2a\u6e38\u620f\u96be\u5ea6\u4e0d\u662f\u7279\u522b\u9ad8\u3002<br />\n        5.\u6700\u540e\u8bf4\u8bf4\u7f3a\u70b9\uff0c\u795e\u6bbf\u6d41\u7a0b\u7684\u642c\u7535\u6c60\u662f\u6211\u89c9\u5f97\u6700\u5927\u7684\u8d25\u7b14\uff0c\u6574\u4e2a\u8fc7\u7a0b\u53c8\u67af\u71e5\u53c8\u9634\u95f4\uff0c\u73a9\u7684\u6211\u5341\u5206\u70e6\u8e81\uff0c\u8fd8\u6709\u4e00\u4e2a\u975e\u5e38\u975e\u5e38\u5927\u7684\u7f3a\u70b9\uff01\u4e3a\u5565\u4e0d\u8ba9\u6211\u7528LadyQ",photos:[{imgId:"f1",imgPath:"assets/images/ggv.jpg"}],addTime:"1\u5c0f\u65f6\u524d",viewCount:5683,comments:7,likes:2231,location:"\u7f8e\u56fd\xb7\u660e\u5c3c\u82cf\u8fbe"}],l=[{activityId:1,contxt:"\u300a\u6697\u5f71\u706b\u70ac\u57ce\u300b\u901a\u5173\u540e\u7684\u4e2a\u4eba\u4e3b\u89c2\u8bc4\u4ef7<br />\n            <br />\n            1.\u9996\u5148\u7f8e\u672f\u662f\u6700\u5438\u5f15\u6211\u7684\u5730\u65b9\uff0c\u67f4\u6cb9\u670b\u514b\u4e5f\u975e\u5e38\u6233\u6211\uff0c\u4e3b\u7f8e\u6b66\u4fa0\u725b\u903c\uff01<br />\n            2.\u6e38\u620f\u5185\u6709\u591a\u5230\u6570\u4e0d\u6e05\u7684\u5f69\u86cb\uff0c\u6211\u5217\u4e24\u4e2a\u51fa\u6765\uff1a1\u662f\u9a6c\u91cc\u5965\u5144\u5f1f\u7684\u5f69\u86cb 2\u662f\u963f\u57fa\u62c9\u7684\u6d77\u62a5\u5f69\u86cb\uff0c\u8fd8\u6709\u5f88\u591a\u6211\u5c31\u4e0d\u5217\u51fa\u6765\u4e86\uff0c\u5927\u5bb6\u53ef\u4ee5\u81ea\u5df1\u53bb\u8fb9\u73a9\u8fb9\u53d1\u6398\u3002<br />",photos:[{imgId:"a1",imgPath:"assets/images/right.jpg"},{imgId:"a2",imgPath:"assets/images/\u957f\u56fe\u6d4b\u8bd5.jpg"},{imgId:"a3",imgPath:"assets/images/\u4e0b\u8f7d.jpg"},{imgId:"a4",imgPath:"assets/images/\u957f\u56fe\u6d4b\u8bd5.jpg"},{imgId:"a5",imgPath:"assets/images/left.jpg"},{imgId:"a6",imgPath:"assets/images/\u4e0b\u8f7d.jpg"},{imgId:"a7",imgPath:"assets/images/right.jpg"},{imgId:"a8",imgPath:"assets/images/left.jpg"},{imgId:"a9",imgPath:"assets/images/\u4e0b\u8f7d.jpg"}],addTime:"1\u5c0f\u65f6\u524d",viewCount:5683,comments:7,likes:2231,location:"\u7f8e\u56fd\xb7\u660e\u5c3c\u82cf\u8fbe",publisher:{nickName:"\u53d1\u5e03\u8005\u6635\u79f0",avatar:"assets/images/logon.png",uid:1}}],h=[{activityId:2,contxt:"\u300a\u6697\u5f71\u706b\u70ac\u57ce\u300b\u901a\u5173\u540e\u7684\u4e2a\u4eba\u4e3b\u89c2\u8bc4\u4ef7<br />\n            <br />\n            1.\u9996\u5148\u7f8e\u672f\u662f\u6700\u5438\u5f15\u6211\u7684\u5730\u65b9\uff0c\u67f4\u6cb9\u670b\u514b\u4e5f\u975e\u5e38\u6233\u6211\uff0c\u4e3b\u7f8e\u6b66\u4fa0\u725b\u903c\uff01<br />\n            2.\u6e38\u620f\u5185\u6709\u591a\u5230\u6570\u4e0d\u6e05\u7684\u5f69\u86cb\uff0c\u6211\u5217\u4e24\u4e2a\u51fa\u6765\uff1a1\u662f\u9a6c\u91cc\u5965\u5144\u5f1f\u7684\u5f69\u86cb 2\u662f\u963f\u57fa\u62c9\u7684\u6d77\u62a5\u5f69\u86cb\uff0c\u8fd8\u6709\u5f88\u591a\u6211\u5c31\u4e0d\u5217\u51fa\u6765\u4e86\uff0c\u5927\u5bb6\u53ef\u4ee5\u81ea\u5df1\u53bb\u8fb9\u73a9\u8fb9\u53d1\u6398\u3002<br />\n            3.\u5341\u5206\u4e30\u5bcc\u7684\u6b66\u5668\u79cd\u7c7b\u548c\u62db\u5f0f\u7cfb\u7edf\uff0c\u53ef\u4ee5\u6253\u51fa\u7279\u522b\u591a\u7684\u534e\u4e3d\u8fde\u6bb5\u548c\u5957\u8def\uff08\u5f53\u7136\u6211\u662f\u61d2\u72d7\uff0c\u559c\u6b22\u4e00\u4e2a\u5957\u8def\u7528\u5230\u901a\u5173\uff09<br />\n            4.\u5730\u56fe\u7684\u6536\u96c6\u8981\u7d20\u4e5f\u5341\u5206\u4e30\u5bcc\uff0c\u4e0d\u8fc7\u6211\u521d\u89c1\u4e00\u822c\u4e0d\u4f1a\u53bb\u523b\u610f\u6536\u96c6\uff0c\u9664\u975e\u5361\u5173\u4e25\u91cd\u624d\u4f1a\u8dd1\u56de\u53bb\u6536\u96c6\uff0c\u4e0d\u8fc7\u597d\u5728\u8fd9\u4e2a\u6e38\u620f\u96be\u5ea6\u4e0d\u662f\u7279\u522b\u9ad8\u3002<br />\n            5.\u6700\u540e\u8bf4\u8bf4\u7f3a\u70b9\uff0c\u795e\u6bbf\u6d41\u7a0b\u7684\u642c\u7535\u6c60\u662f\u6211\u89c9\u5f97\u6700\u5927\u7684\u8d25\u7b14\uff0c\u6574\u4e2a\u8fc7\u7a0b\u53c8\u67af\u71e5\u53c8\u9634\u95f4\uff0c\u73a9\u7684\u6211\u5341\u5206\u70e6\u8e81\uff0c\u8fd8\u6709\u4e00\u4e2a\u975e\u5e38\u975e\u5e38\u5927\u7684\u7f3a\u70b9\uff01\u4e3a\u5565\u4e0d\u8ba9\u6211\u7528LadyQ",photos:[{imgId:"b1",imgPath:"assets/images/\u957f\u56fe\u6d4b\u8bd5.jpg"}],addTime:"1\u5c0f\u65f6\u524d",viewCount:5683,comments:7,likes:2231,location:"\u7f8e\u56fd\xb7\u660e\u5c3c\u82cf\u8fbe",publisher:{nickName:"\u53d1\u5e03\u8005\u6635\u79f0",avatar:"assets/images/logon.png",uid:1}}];var d=n("fXoL"),u=n("tk/3");n.d(e,"a",(function(){return g}));let g=(()=>{class t{constructor(t,e,n){this._apiUrlHelper=t,this._httpClientHelper=e,this._httpClient=n}getFakeActivity(t){return Object(s.a)(c)}getFakeDetail(t){return Object(s.a)(1===t?l:h)}getActivityAllLabels(){const t=this._apiUrlHelper.urlBuilder("get-all-label",{});return this._httpClientHelper.post(t,"",null).pipe(Object(r.a)(t=>t))}getActivity(t,e){const n=this._apiUrlHelper.urlBuilder("get-list-trends",{touid:t});return this._httpClientHelper.post(n,e,null).pipe(Object(r.a)(t=>t))}getActivityDetail(t,e=!1,n=1,i=45){const o=this._apiUrlHelper.urlBuilder(e?"get-photo":"get-trends",{pid:t,page:e?n:null,size:e?i:null,sort:e?1:null});return this._httpClientHelper.post(o,"",null).pipe(Object(r.a)(t=>t))}uploadPhoto(t){const e={trendsPictures:t},n=this._apiUrlHelper.urlBuilder("upload-file");return this._httpClientHelper.post(n,e,null).pipe(Object(r.a)(t=>t))}submitActivity(t,e="",n="",i,o,s,a,c){const l={trendsPictures:t,id:e||null,Description:encodeURIComponent(n),latitude:i||null,longitude:o||null,Address:s||null,isSpecial:a||null,labels:c||null},h=this._apiUrlHelper.urlBuilder("create-trends");return this._httpClientHelper.post(h,l,null).pipe(Object(r.a)(t=>t[0]))}deleteActivity(t){const e={ids:t},n=this._apiUrlHelper.urlBuilder("delete-trends");return this._httpClientHelper.post(n,e,null).pipe(Object(r.a)(t=>t[0]))}viewCount(t){const e=this._apiUrlHelper.urlBuilder("activity-view-count",{pid:t});return this._httpClientHelper.get(e).pipe(Object(r.a)(t=>t[0]))}likeActivity(t){const e=this._apiUrlHelper.urlBuilder("like-activity",{pid:t});return this._httpClientHelper.get(e).pipe(Object(r.a)(t=>t[0]))}addFavorite(t,e){const n=this._apiUrlHelper.urlBuilder("video-favorite",{videoid:t,cinema:e});return this._httpClientHelper.get(n).pipe(Object(r.a)(t=>t)).pipe(Object(a.a)(200))}removeFavorite(t,e){const n=this._apiUrlHelper.urlBuilder("video-remove-favorite",{videoid:t,cinema:e});return this._httpClientHelper.get(n).pipe(Object(r.a)(t=>t)).pipe(Object(a.a)(200))}activityPlusOne(t,e,n,i,o,s){const a={cid:"0,8",id:t,tags:e,mixattr:n,nickname:i,uploaderuid:o,imgpath:s},c=this._apiUrlHelper.urlBuilder("plus-one");return this._httpClientHelper.post(c,a,null,!0).pipe(Object(r.a)(t=>t))}albumPlusOne(t,e,n,i,o,s,a){const c={cid:"0,7",id:t,title:e,tags:n,imgpath:i,mixattr:o,nickname:s,uploaderuid:a},l=this._apiUrlHelper.urlBuilder("plus-one");return this._httpClientHelper.post(l,c,null,!0).pipe(Object(r.a)(t=>t))}getMetaData(t,e){const n={fileName:t,serverID:e},i=this._apiUrlHelper.urlBuilder("get-meta-data");return this._httpClientHelper.post(i,n,null).pipe(Object(r.a)(t=>t))}submitVideoActivity(t,e,n="",i,o,s,a,c){const l={imgPath:t,lid:e||null,description:encodeURIComponent(n),latitude:i||null,longitude:o||null,address:s||null,isSpecial:a||null,labels:c||null,isTrendsVideo:1},h=this._apiUrlHelper.urlBuilder("create-video-trends");return this._httpClientHelper.post(h,l,null).pipe(Object(r.a)(t=>t[0]))}}return t.\u0275fac=function(e){return new(e||t)(d.Zb(i.a),d.Zb(o.a),d.Zb(u.a))},t.\u0275prov=d.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},"5+WD":function(t,e,n){"use strict";var i=n("fXoL"),o=n("ofXK"),s=n("vxfF"),r=n("nLfN"),a=n("8LU1"),c=n("XNiG"),l=n("quSY"),h=n("HDdC"),d=n("D0XW"),u=n("Y7HM");function g(t){const{subscriber:e,counter:n,period:i}=t;e.next(n),this.schedule({subscriber:e,counter:n+1,period:i},i)}var p=n("eNwd"),f=n("VRyK"),b=n("1G5W"),m=n("lJxs"),v=n("IzEk"),y=n("JX91"),C=n("vkgz"),_=n("eIep"),x=n("cH1L");function P(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function w(t,e){const n=e?"":"none";P(t.style,{touchAction:e?"":"none",webkitUserDrag:e?"":"none",webkitTapHighlightColor:e?"":"transparent",userSelect:n,msUserSelect:n,webkitUserSelect:n,MozUserSelect:n})}function O(t){const e=t.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(t)*e}function M(t,e){return t.getPropertyValue(e).split(",").map(t=>t.trim())}function k(t){const e=t.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}}function S(t,e,n){const{top:i,bottom:o,left:s,right:r}=t;return n>=i&&n<=o&&e>=s&&e<=r}function I(t,e,n){t.top+=e,t.bottom=t.top+t.height,t.left+=n,t.right=t.left+t.width}function L(t,e,n,i){const{top:o,right:s,bottom:r,left:a,width:c,height:l}=t,h=c*e,d=l*e;return i>o-d&&i<r+d&&n>a-h&&n<s+h}n.d(e,"a",(function(){return rt})),n.d(e,"b",(function(){return et})),n.d(e,"c",(function(){return ht})),n.d(e,"d",(function(){return dt})),n.d(e,"e",(function(){return z}));class T{constructor(t,e){this._document=t,this._viewportRuler=e,this.positions=new Map}clear(){this.positions.clear()}cache(t){this.clear(),this.positions.set(this._document,{scrollPosition:this._viewportRuler.getViewportScrollPosition()}),t.forEach(t=>{this.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:k(t)})})}handleScroll(t){const e=t.target,n=this.positions.get(e);if(!n)return null;const i=e===this._document?e.documentElement:e,o=n.scrollPosition;let s,r;if(e===this._document){const t=this._viewportRuler.getViewportScrollPosition();s=t.top,r=t.left}else s=e.scrollTop,r=e.scrollLeft;const a=o.top-s,c=o.left-r;return this.positions.forEach((t,n)=>{t.clientRect&&e!==n&&i.contains(n)&&I(t.clientRect,a,c)}),o.top=s,o.left=r,{top:a,left:c}}}const A=Object(r.e)({passive:!0}),N=Object(r.e)({passive:!1});class B{constructor(t,e,n,i,o,s){this._config=e,this._document=n,this._ngZone=i,this._viewportRuler=o,this._dragDropRegistry=s,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._moveEvents=new c.a,this._pointerMoveSubscription=l.a.EMPTY,this._pointerUpSubscription=l.a.EMPTY,this._scrollSubscription=l.a.EMPTY,this._resizeSubscription=l.a.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new c.a,this.started=new c.a,this.released=new c.a,this.ended=new c.a,this.entered=new c.a,this.exited=new c.a,this.dropped=new c.a,this.moved=this._moveEvents.asObservable(),this._pointerDown=t=>{if(this.beforeStarted.next(),this._handles.length){const e=this._handles.find(e=>{const n=t.target;return!!n&&(n===e||e.contains(n))});!e||this._disabledHandles.has(e)||this.disabled||this._initializeDragSequence(e,t)}else this.disabled||this._initializeDragSequence(this._rootElement,t)},this._pointerMove=t=>{t.preventDefault();const e=this._getPointerPositionOnPage(t);if(!this._hasStartedDragging){if(Math.abs(e.x-this._pickupPositionOnPage.x)+Math.abs(e.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){if(!(Date.now()>=this._dragStartTime+this._getDragStartDelay(t)))return void this._endDragSequence(t);this._dropContainer&&this._dropContainer.isDragging()||(this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(t)))}return}this._boundaryElement&&(this._previewRect&&(this._previewRect.width||this._previewRect.height)||(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()));const n=this._getConstrainedPointerPosition(e);if(this._hasMoved=!0,this._updatePointerDirectionDelta(n),this._dropContainer)this._updateActiveDropContainer(n);else{const t=this._activeTransform;t.x=n.x-this._pickupPositionOnPage.x+this._passiveTransform.x,t.y=n.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(t.x,t.y),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&this._rootElement.setAttribute("transform",`translate(${t.x} ${t.y})`)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:n,event:t,distance:this._getDragDistance(n),delta:this._pointerDirectionDelta})})},this._pointerUp=t=>{this._endDragSequence(t)},this.withRootElement(t),this._parentPositions=new T(n,o),s.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(t){const e=Object(a.b)(t);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions())}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(t){return this._handles=t.map(t=>Object(a.d)(t)),this._handles.forEach(t=>w(t,!1)),this._toggleNativeDragInteractions(),this}withPreviewTemplate(t){return this._previewTemplate=t,this}withPlaceholderTemplate(t){return this._placeholderTemplate=t,this}withRootElement(t){const e=Object(a.d)(t);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{e.addEventListener("mousedown",this._pointerDown,N),e.addEventListener("touchstart",this._pointerDown,A)}),this._initialTransform=void 0,this._rootElement=e),this}withBoundaryElement(t){return this._boundaryElement=t?Object(a.d)(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&E(this._rootElement),E(this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._placeholderTemplate=this._previewTemplate=this._anchor=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(t){this._handles.indexOf(t)>-1&&this._disabledHandles.add(t)}enableHandle(t){this._disabledHandles.delete(t)}withDirection(t){return this._direction=t,this}_withDropContainer(t){this._dropContainer=t}getFreeDragPosition(){const t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}setFreeDragPosition(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}_sortFromLastPointerPosition(){const t=this._pointerPositionAtLastDirectionChange;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t))}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview&&E(this._preview),this._previewRef&&this._previewRef.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder&&E(this._placeholder),this._placeholderRef&&this._placeholderRef.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(t){this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging&&(this.released.next({source:this}),this._dropContainer?(this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(t),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)})):(this._passiveTransform.x=this._activeTransform.x,this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(this._getPointerPositionOnPage(t))})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this))))}_startDragSequence(t){this.started.next({source:this}),R(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const e=this._dropContainer;if(e){const t=this._rootElement,i=t.parentNode,o=this._preview=this._createPreviewElement(),s=this._placeholder=this._createPlaceholderElement(),r=this._anchor=this._anchor||this._document.createComment("");i.insertBefore(r,t),t.style.display="none",this._document.body.appendChild(i.replaceChild(s,t)),(n=this._document,n.fullscreenElement||n.webkitFullscreenElement||n.mozFullScreenElement||n.msFullscreenElement||n.body).appendChild(o),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this)}else this._initialContainer=this._initialIndex=void 0;var n;this._parentPositions.cache(e?e.getScrollableParents():[])}_initializeDragSequence(t,e){e.stopPropagation();const n=this.isDragging(),i=R(e),o=!i&&0!==e.button,s=this._rootElement,r=!i&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now();if(e.target&&e.target.draggable&&"mousedown"===e.type&&e.preventDefault(),n||o||r)return;this._handles.length&&(this._rootElementTapHighlight=s.style.webkitTapHighlightColor,s.style.webkitTapHighlightColor="transparent"),this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scroll.subscribe(t=>{this._updateOnScroll(t)}),this._boundaryElement&&(this._boundaryRect=k(this._boundaryElement));const a=this._previewTemplate;this._pickupPositionInElement=a&&a.template&&!a.matchSize?{x:0,y:0}:this._getPointerPositionInElement(t,e);const c=this._pickupPositionOnPage=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:c.x,y:c.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(t){this._rootElement.style.display="",this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=void 0,this._ngZone.run(()=>{const e=this._dropContainer,n=e.getItemIndex(this),i=this._getPointerPositionOnPage(t),o=this._getDragDistance(this._getPointerPositionOnPage(t)),s=e._isOverContainer(i.x,i.y);this.ended.next({source:this,distance:o}),this.dropped.next({item:this,currentIndex:n,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:s,distance:o}),e.drop(this,n,this._initialContainer,s,o,this._initialIndex),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:t,y:e}){let n=this._initialContainer._getSiblingContainerFromPosition(this,t,e);!n&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(t,e)&&(n=this._initialContainer),n&&n!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=n,this._dropContainer.enter(this,t,e,n===this._initialContainer&&n.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:n,currentIndex:n.getItemIndex(this)})}),this._dropContainer._startScrollingIfNecessary(t,e),this._dropContainer._sortItem(this,t,e,this._pointerDirectionDelta),this._preview.style.transform=V(t-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y)}_createPreviewElement(){const t=this._previewTemplate,e=this.previewClass,n=t?t.template:null;let i;if(n&&t){const e=t.matchSize?this._rootElement.getBoundingClientRect():null,o=t.viewContainer.createEmbeddedView(n,t.context);o.detectChanges(),i=F(o,this._document),this._previewRef=o,t.matchSize?j(i,e):i.style.transform=V(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const t=this._rootElement;i=U(t),j(i,t.getBoundingClientRect())}return P(i.style,{pointerEvents:"none",margin:"0",position:"fixed",top:"0",left:"0",zIndex:`${this._config.zIndex||1e3}`}),w(i,!1),i.classList.add("cdk-drag-preview"),i.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(t=>i.classList.add(t)):i.classList.add(e)),i}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const t=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._preview.style.transform=V(t.left,t.top);const e=function(t){const e=getComputedStyle(t),n=M(e,"transition-property"),i=n.find(t=>"transform"===t||"all"===t);if(!i)return 0;const o=n.indexOf(i),s=M(e,"transition-duration"),r=M(e,"transition-delay");return O(s[o])+O(r[o])}(this._preview);return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(t=>{const n=e=>{(!e||e.target===this._preview&&"transform"===e.propertyName)&&(this._preview.removeEventListener("transitionend",n),t(),clearTimeout(i))},i=setTimeout(n,1.5*e);this._preview.addEventListener("transitionend",n)}))}_createPlaceholderElement(){const t=this._placeholderTemplate,e=t?t.template:null;let n;return e?(this._placeholderRef=t.viewContainer.createEmbeddedView(e,t.context),this._placeholderRef.detectChanges(),n=F(this._placeholderRef,this._document)):n=U(this._rootElement),n.classList.add("cdk-drag-placeholder"),n}_getPointerPositionInElement(t,e){const n=this._rootElement.getBoundingClientRect(),i=t===this._rootElement?null:t,o=i?i.getBoundingClientRect():n,s=R(e)?e.targetTouches[0]:e,r=this._getViewportScrollPosition();return{x:o.left-n.left+(s.pageX-o.left-r.left),y:o.top-n.top+(s.pageY-o.top-r.top)}}_getPointerPositionOnPage(t){const e=R(t)?t.touches[0]||t.changedTouches[0]:t,n=this._getViewportScrollPosition();return{x:e.pageX-n.left,y:e.pageY-n.top}}_getConstrainedPointerPosition(t){const e=this.constrainPosition?this.constrainPosition(t,this):t,n=this._dropContainer?this._dropContainer.lockAxis:null;if("x"===this.lockAxis||"x"===n?e.y=this._pickupPositionOnPage.y:"y"!==this.lockAxis&&"y"!==n||(e.x=this._pickupPositionOnPage.x),this._boundaryRect){const{x:t,y:n}=this._pickupPositionInElement,i=this._boundaryRect,o=this._previewRect,s=i.top+n,r=i.bottom-(o.height-n);e.x=D(e.x,i.left+t,i.right-(o.width-t)),e.y=D(e.y,s,r)}return e}_updatePointerDirectionDelta(t){const{x:e,y:n}=t,i=this._pointerDirectionDelta,o=this._pointerPositionAtLastDirectionChange,s=Math.abs(e-o.x),r=Math.abs(n-o.y);return s>this._config.pointerDirectionChangeThreshold&&(i.x=e>o.x?1:-1,o.x=e),r>this._config.pointerDirectionChangeThreshold&&(i.y=n>o.y?1:-1,o.y=n),i}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,w(this._rootElement,t))}_removeRootElementListeners(t){t.removeEventListener("mousedown",this._pointerDown,N),t.removeEventListener("touchstart",this._pointerDown,A)}_applyRootElementTransform(t,e){const n=V(t,e);null==this._initialTransform&&(this._initialTransform=this._rootElement.style.transform||""),this._rootElement.style.transform=this._initialTransform?n+" "+this._initialTransform:n}_getDragDistance(t){const e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:t,y:e}=this._passiveTransform;if(0===t&&0===e||this.isDragging()||!this._boundaryElement)return;const n=this._boundaryElement.getBoundingClientRect(),i=this._rootElement.getBoundingClientRect();if(0===n.width&&0===n.height||0===i.width&&0===i.height)return;const o=n.left-i.left,s=i.right-n.right,r=n.top-i.top,a=i.bottom-n.bottom;n.width>i.width?(o>0&&(t+=o),s>0&&(t-=s)):t=0,n.height>i.height?(r>0&&(e+=r),a>0&&(e-=a)):e=0,t===this._passiveTransform.x&&e===this._passiveTransform.y||this.setFreeDragPosition({y:e,x:t})}_getDragStartDelay(t){const e=this.dragStartDelay;return"number"==typeof e?e:R(t)?e.touch:e?e.mouse:0}_updateOnScroll(t){const e=this._parentPositions.handleScroll(t);this._boundaryRect&&e&&I(this._boundaryRect,e.top,e.left)}_getViewportScrollPosition(){const t=this._parentPositions.positions.get(this._document);return t?t.scrollPosition:this._viewportRuler.getViewportScrollPosition()}}function V(t,e){return`translate3d(${Math.round(t)}px, ${Math.round(e)}px, 0)`}function U(t){const e=t.cloneNode(!0),n=e.querySelectorAll("[id]"),i=t.querySelectorAll("canvas");e.removeAttribute("id");for(let o=0;o<n.length;o++)n[o].removeAttribute("id");if(i.length){const t=e.querySelectorAll("canvas");for(let e=0;e<i.length;e++){const n=t[e].getContext("2d");n&&n.drawImage(i[e],0,0)}}return e}function D(t,e,n){return Math.max(e,Math.min(n,t))}function E(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function R(t){return"t"===t.type[0]}function F(t,e){const n=t.rootNodes;if(1===n.length&&n[0].nodeType===e.ELEMENT_NODE)return n[0];const i=e.createElement("div");return n.forEach(t=>i.appendChild(t)),i}function j(t,e){t.style.width=`${e.width}px`,t.style.height=`${e.height}px`,t.style.transform=V(e.left,e.top)}function z(t,e,n){const i=H(e,t.length-1),o=H(n,t.length-1);if(i===o)return;const s=t[i],r=o<i?-1:1;for(let a=i;a!==o;a+=r)t[a]=t[a+r];t[o]=s}function H(t,e){return Math.max(0,Math.min(e,t))}class G{constructor(t,e,n,i,o){this._dragDropRegistry=e,this._ngZone=i,this._viewportRuler=o,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.enterPredicate=()=>!0,this.beforeStarted=new c.a,this.entered=new c.a,this.exited=new c.a,this.dropped=new c.a,this.sorted=new c.a,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0},this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=l.a.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new c.a,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function(t=0,e=d.a){return(!Object(u.a)(t)||t<0)&&(t=0),e&&"function"==typeof e.schedule||(e=d.a),new h.a(n=>(n.add(e.schedule(g,t,{subscriber:n,counter:0,period:t})),n))}(0,p.a).pipe(Object(b.a)(this._stopScrollTimers)).subscribe(()=>{const t=this._scrollNode;1===this._verticalScrollDirection?q(t,-2):2===this._verticalScrollDirection&&q(t,2),1===this._horizontalScrollDirection?Q(t,-2):2===this._horizontalScrollDirection&&Q(t,2)})},this.element=Object(a.d)(t),this._document=n,this.withScrollableParents([this.element]),e.registerDropContainer(this),this._parentPositions=new T(n,o)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){const t=Object(a.d)(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=t.msScrollSnapType||t.scrollSnapType||"",t.scrollSnapType=t.msScrollSnapType="none",this._cacheItems(),this._siblings.forEach(t=>t._startReceiving(this)),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}enter(t,e,n,i){let o;this.start(),null==i?(o=this.sortingDisabled?this._draggables.indexOf(t):-1,-1===o&&(o=this._getItemIndexFromPointerPosition(t,e,n))):o=i;const s=this._activeDraggables,r=s.indexOf(t),c=t.getPlaceholderElement();let l=s[o];if(l===t&&(l=s[o+1]),r>-1&&s.splice(r,1),l&&!this._dragDropRegistry.isDragging(l)){const e=l.getRootElement();e.parentElement.insertBefore(c,e),s.splice(o,0,t)}else{const i=Object(a.d)(this.element);this._shouldEnterAsFirstChild(e,n)?(i.insertBefore(c,s[0].getRootElement()),s.unshift(t)):(i.appendChild(c),s.push(t))}c.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}exit(t){this._reset(),this.exited.next({item:t,container:this})}drop(t,e,n,i,o,s){this._reset(),null==s&&(s=n.getItemIndex(t)),this.dropped.next({item:t,currentIndex:e,previousIndex:s,container:this,previousContainer:n,isPointerOverContainer:i,distance:o})}withItems(t){const e=this._draggables;return this._draggables=t,t.forEach(t=>t._withDropContainer(this)),this.isDragging()&&(e.filter(t=>t.isDragging()).every(e=>-1===t.indexOf(e))?this._reset():this._cacheItems()),this}withDirection(t){return this._direction=t,this}connectedTo(t){return this._siblings=t.slice(),this}withOrientation(t){return this._orientation=t,this}withScrollableParents(t){const e=Object(a.d)(this.element);return this._scrollableElements=-1===t.indexOf(e)?[e,...t]:t.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(t){return this._isDragging?W("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions,e=>e.drag===t):this._draggables.indexOf(t)}isReceiving(){return this._activeSiblings.size>0}_sortItem(t,e,n,i){if(this.sortingDisabled||!L(this._clientRect,.05,e,n))return;const o=this._itemPositions,s=this._getItemIndexFromPointerPosition(t,e,n,i);if(-1===s&&o.length>0)return;const r="horizontal"===this._orientation,a=W(o,e=>e.drag===t),c=o[s],l=o[a].clientRect,h=c.clientRect,d=a>s?1:-1;this._previousSwap.drag=c.drag,this._previousSwap.delta=r?i.x:i.y;const u=this._getItemOffsetPx(l,h,d),g=this._getSiblingOffsetPx(a,o,d),p=o.slice();z(o,a,s),this.sorted.next({previousIndex:a,currentIndex:s,container:this,item:t}),o.forEach((e,n)=>{if(p[n]===e)return;const i=e.drag===t,o=i?u:g,s=i?t.getPlaceholderElement():e.drag.getRootElement();e.offset+=o,r?(s.style.transform=`translate3d(${Math.round(e.offset)}px, 0, 0)`,I(e.clientRect,0,o)):(s.style.transform=`translate3d(0, ${Math.round(e.offset)}px, 0)`,I(e.clientRect,o,0))})}_startScrollingIfNecessary(t,e){if(this.autoScrollDisabled)return;let n,i=0,o=0;if(this._parentPositions.positions.forEach((s,r)=>{r!==this._document&&s.clientRect&&!n&&L(s.clientRect,.05,t,e)&&([i,o]=function(t,e,n,i){const o=$(e,i),s=K(e,n);let r=0,a=0;if(o){const e=t.scrollTop;1===o?e>0&&(r=1):t.scrollHeight-e>t.clientHeight&&(r=2)}if(s){const e=t.scrollLeft;1===s?e>0&&(a=1):t.scrollWidth-e>t.clientWidth&&(a=2)}return[r,a]}(r,s.clientRect,t,e),(i||o)&&(n=r))}),!i&&!o){const{width:s,height:r}=this._viewportRuler.getViewportSize(),a={width:s,height:r,top:0,right:s,bottom:r,left:0};i=$(a,e),o=K(a,t),n=window}!n||i===this._verticalScrollDirection&&o===this._horizontalScrollDirection&&n===this._scrollNode||(this._verticalScrollDirection=i,this._horizontalScrollDirection=o,this._scrollNode=n,(i||o)&&n?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_cacheParentPositions(){const t=Object(a.d)(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(t).clientRect}_cacheItemPositions(){const t="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(t=>{const e=t.getVisibleElement();return{drag:t,offset:0,clientRect:k(e)}}).sort((e,n)=>t?e.clientRect.left-n.clientRect.left:e.clientRect.top-n.clientRect.top)}_reset(){this._isDragging=!1;const t=Object(a.d)(this.element).style;t.scrollSnapType=t.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(t=>{const e=t.getRootElement();e&&(e.style.transform="")}),this._siblings.forEach(t=>t._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(t,e,n){const i="horizontal"===this._orientation,o=e[t].clientRect,s=e[t+-1*n];let r=o[i?"width":"height"]*n;if(s){const t=i?"left":"top",e=i?"right":"bottom";-1===n?r-=s.clientRect[t]-o[e]:r+=o[t]-s.clientRect[e]}return r}_getItemOffsetPx(t,e,n){const i="horizontal"===this._orientation;let o=i?e.left-t.left:e.top-t.top;return-1===n&&(o+=i?e.width-t.width:e.height-t.height),o}_shouldEnterAsFirstChild(t,e){if(!this._activeDraggables.length)return!1;const n=this._itemPositions,i="horizontal"===this._orientation;if(n[0].drag!==this._activeDraggables[0]){const o=n[n.length-1].clientRect;return i?t>=o.right:e>=o.bottom}{const o=n[0].clientRect;return i?t<=o.left:e<=o.top}}_getItemIndexFromPointerPosition(t,e,n,i){const o="horizontal"===this._orientation;return W(this._itemPositions,({drag:s,clientRect:r},a,c)=>{if(s===t)return c.length<2;if(i){const t=o?i.x:i.y;if(s===this._previousSwap.drag&&t===this._previousSwap.delta)return!1}return o?e>=Math.floor(r.left)&&e<Math.floor(r.right):n>=Math.floor(r.top)&&n<Math.floor(r.bottom)})}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(t,e){return S(this._clientRect,t,e)}_getSiblingContainerFromPosition(t,e,n){return this._siblings.find(i=>i._canReceive(t,e,n))}_canReceive(t,e,n){if(!S(this._clientRect,e,n)||!this.enterPredicate(t,this))return!1;const i=this._getShadowRoot().elementFromPoint(e,n);if(!i)return!1;const o=Object(a.d)(this.element);return i===o||o.contains(i)}_startReceiving(t){const e=this._activeSiblings;e.has(t)||(e.add(t),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scroll.subscribe(t=>{if(this.isDragging()){const e=this._parentPositions.handleScroll(t);e&&(this._itemPositions.forEach(({clientRect:t})=>{I(t,e.top,e.left)}),this._itemPositions.forEach(({drag:t})=>{this._dragDropRegistry.isDragging(t)&&t._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const t=Object(r.c)(Object(a.d)(this.element));this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}}function W(t,e){for(let n=0;n<t.length;n++)if(e(t[n],n,t))return n;return-1}function q(t,e){t===window?t.scrollBy(0,e):t.scrollTop+=e}function Q(t,e){t===window?t.scrollBy(e,0):t.scrollLeft+=e}function $(t,e){const{top:n,bottom:i,height:o}=t,s=.05*o;return e>=n-s&&e<=n+s?1:e>=i-s&&e<=i+s?2:0}function K(t,e){const{left:n,right:i,width:o}=t,s=.05*o;return e>=n-s&&e<=n+s?1:e>=i-s&&e<=i+s?2:0}const X=Object(r.e)({passive:!1,capture:!0});let Y=(()=>{class t{constructor(t,e){this._ngZone=t,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=new Set,this._globalListeners=new Map,this.pointerMove=new c.a,this.pointerUp=new c.a,this.scroll=new c.a,this._preventDefaultWhileDragging=t=>{this._activeDragInstances.size&&t.preventDefault()},this._document=e}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t)}registerDragItem(t){this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._preventDefaultWhileDragging,X)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._preventDefaultWhileDragging,X)}startDragging(t,e){if(!this._activeDragInstances.has(t)&&(this._activeDragInstances.add(t),1===this._activeDragInstances.size)){const t=e.type.startsWith("touch"),n=t?"touchend":"mouseup";this._globalListeners.set(t?"touchmove":"mousemove",{handler:t=>this.pointerMove.next(t),options:X}).set(n,{handler:t=>this.pointerUp.next(t),options:!0}).set("scroll",{handler:t=>this.scroll.next(t),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:X}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((t,e)=>{this._document.addEventListener(e,t.handler,t.options)})})}}stopDragging(t){this._activeDragInstances.delete(t),0===this._activeDragInstances.size&&this._clearGlobalListeners()}isDragging(t){return this._activeDragInstances.has(t)}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((t,e)=>{this._document.removeEventListener(e,t.handler,t.options)}),this._globalListeners.clear()}}return t.\u0275fac=function(e){return new(e||t)(i.Zb(i.z),i.Zb(o.d))},t.\u0275prov=Object(i.Lb)({factory:function(){return new t(Object(i.Zb)(i.z),Object(i.Zb)(o.d))},token:t,providedIn:"root"}),t})();const Z={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let J=(()=>{class t{constructor(t,e,n,i){this._document=t,this._ngZone=e,this._viewportRuler=n,this._dragDropRegistry=i}createDrag(t,e=Z){return new B(t,e,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(t){return new G(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return t.\u0275fac=function(e){return new(e||t)(i.Zb(o.d),i.Zb(i.z),i.Zb(s.d),i.Zb(Y))},t.\u0275prov=Object(i.Lb)({factory:function(){return new t(Object(i.Zb)(o.d),Object(i.Zb)(i.z),Object(i.Zb)(s.d),Object(i.Zb)(Y))},token:t,providedIn:"root"}),t})();const tt=new i.q("CDK_DRAG_PARENT");let et=(()=>{class t{constructor(t,e){this.element=t,this._stateChanges=new c.a,this._disabled=!1,this._parentDrag=e,w(t.nativeElement,!1)}get disabled(){return this._disabled}set disabled(t){this._disabled=Object(a.b)(t),this._stateChanges.next(this)}ngOnDestroy(){this._stateChanges.complete()}}return t.\u0275fac=function(e){return new(e||t)(i.Pb(i.l),i.Pb(tt,8))},t.\u0275dir=i.Kb({type:t,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:["cdkDragHandleDisabled","disabled"]}}),t})(),nt=(()=>{class t{constructor(t){this.templateRef=t}}return t.\u0275fac=function(e){return new(e||t)(i.Pb(i.L))},t.\u0275dir=i.Kb({type:t,selectors:[["ng-template","cdkDragPlaceholder",""]],inputs:{data:"data"}}),t})(),it=(()=>{class t{constructor(t){this.templateRef=t,this._matchSize=!1}get matchSize(){return this._matchSize}set matchSize(t){this._matchSize=Object(a.b)(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Pb(i.L))},t.\u0275dir=i.Kb({type:t,selectors:[["ng-template","cdkDragPreview",""]],inputs:{matchSize:"matchSize",data:"data"}}),t})();const ot=new i.q("CDK_DRAG_CONFIG"),st=new i.q("CDK_DROP_LIST");let rt=(()=>{class t{constructor(t,e,n,o,s,r,a,l,d){this.element=t,this.dropContainer=e,this._document=n,this._ngZone=o,this._viewContainerRef=s,this._dir=a,this._changeDetectorRef=d,this._destroyed=new c.a,this.started=new i.n,this.released=new i.n,this.ended=new i.n,this.entered=new i.n,this.exited=new i.n,this.dropped=new i.n,this.moved=new h.a(t=>{const e=this._dragRef.moved.pipe(Object(m.a)(t=>({source:this,pointerPosition:t.pointerPosition,event:t.event,delta:t.delta,distance:t.distance}))).subscribe(t);return()=>{e.unsubscribe()}}),this._dragRef=l.createDrag(t,{dragStartThreshold:r&&null!=r.dragStartThreshold?r.dragStartThreshold:5,pointerDirectionChangeThreshold:r&&null!=r.pointerDirectionChangeThreshold?r.pointerDirectionChangeThreshold:5,zIndex:null==r?void 0:r.zIndex}),this._dragRef.data=this,r&&this._assignDefaults(r),e&&(this._dragRef._withDropContainer(e._dropListRef),e.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(t){this._disabled=Object(a.b)(t),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}ngAfterViewInit(){this._ngZone.onStable.asObservable().pipe(Object(v.a)(1),Object(b.a)(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._handles.changes.pipe(Object(y.a)(this._handles),Object(C.a)(t=>{const e=t.filter(t=>t._parentDrag===this).map(t=>t.element);this._dragRef.withHandles(e)}),Object(_.a)(t=>Object(f.a)(...t.map(t=>t._stateChanges.pipe(Object(y.a)(t))))),Object(b.a)(this._destroyed)).subscribe(t=>{const e=this._dragRef,n=t.element.nativeElement;t.disabled?e.disableHandle(n):e.enableHandle(n)}),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})}ngOnChanges(t){const e=t.rootElementSelector,n=t.freeDragPosition;e&&!e.firstChange&&this._updateRootElement(),n&&!n.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()}_updateRootElement(){const t=this.element.nativeElement,e=this.rootElementSelector?at(t,this.rootElementSelector):t;if(e&&e.nodeType!==this._document.ELEMENT_NODE)throw Error("cdkDrag must be attached to an element node. "+`Currently attached to "${e.nodeName}".`);this._dragRef.withRootElement(e||t)}_getBoundaryElement(){const t=this.boundaryElement;if(!t)return null;if("string"==typeof t)return at(this.element.nativeElement,t);const e=Object(a.d)(t);if(Object(i.V)()&&!e.contains(this.element.nativeElement))throw Error("Draggable element is not inside of the node passed into cdkDragBoundary.");return e}_syncInputs(t){t.beforeStarted.subscribe(()=>{if(!t.isDragging()){const e=this._dir,n=this.dragStartDelay,i=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,o=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.dragStartDelay="object"==typeof n&&n?n:Object(a.e)(n),t.constrainPosition=this.constrainPosition,t.previewClass=this.previewClass,t.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(i).withPreviewTemplate(o),e&&t.withDirection(e.value)}})}_handleEvents(t){t.started.subscribe(()=>{this.started.emit({source:this}),this._changeDetectorRef.markForCheck()}),t.released.subscribe(()=>{this.released.emit({source:this})}),t.ended.subscribe(t=>{this.ended.emit({source:this,distance:t.distance}),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(t=>{this.entered.emit({container:t.container.data,item:this,currentIndex:t.currentIndex})}),t.exited.subscribe(t=>{this.exited.emit({container:t.container.data,item:this})}),t.dropped.subscribe(t=>{this.dropped.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,previousContainer:t.previousContainer.data,container:t.container.data,isPointerOverContainer:t.isPointerOverContainer,item:this,distance:t.distance})})}_assignDefaults(t){const{lockAxis:e,dragStartDelay:n,constrainPosition:i,previewClass:o,boundaryElement:s,draggingDisabled:r,rootElementSelector:a}=t;this.disabled=null!=r&&r,this.dragStartDelay=n||0,e&&(this.lockAxis=e),i&&(this.constrainPosition=i),o&&(this.previewClass=o),s&&(this.boundaryElement=s),a&&(this.rootElementSelector=a)}}return t.\u0275fac=function(e){return new(e||t)(i.Pb(i.l),i.Pb(st,12),i.Pb(o.d),i.Pb(i.z),i.Pb(i.O),i.Pb(ot,8),i.Pb(x.b,8),i.Pb(J),i.Pb(i.h))},t.\u0275dir=i.Kb({type:t,selectors:[["","cdkDrag",""]],contentQueries:function(t,e,n){var o;1&t&&(i.Hb(n,it,!0),i.Hb(n,nt,!0),i.Hb(n,et,!0)),2&t&&(i.yc(o=i.ec())&&(e._previewTemplate=o.first),i.yc(o=i.ec())&&(e._placeholderTemplate=o.first),i.yc(o=i.ec())&&(e._handles=o))},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(t,e){2&t&&i.Gb("cdk-drag-disabled",e.disabled)("cdk-drag-dragging",e._dragRef.isDragging())},inputs:{disabled:["cdkDragDisabled","disabled"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],lockAxis:["cdkDragLockAxis","lockAxis"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],boundaryElement:["cdkDragBoundary","boundaryElement"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],data:["cdkDragData","data"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[i.Ab([{provide:tt,useExisting:t}]),i.zb()]}),t})();function at(t,e){let n=t.parentElement;for(;n;){if(n.matches?n.matches(e):n.msMatchesSelector(e))return n;n=n.parentElement}return null}let ct=(()=>{class t{constructor(){this._items=new Set,this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=Object(a.b)(t)}ngOnDestroy(){this._items.clear()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Kb({type:t,selectors:[["","cdkDropListGroup",""]],inputs:{disabled:["cdkDropListGroupDisabled","disabled"]},exportAs:["cdkDropListGroup"]}),t})(),lt=0,ht=(()=>{class t{constructor(e,n,o,s,r,a,l){this.element=e,this._changeDetectorRef=o,this._dir=s,this._group=r,this._scrollDispatcher=a,this._destroyed=new c.a,this.connectedTo=[],this.id=`cdk-drop-list-${lt++}`,this.enterPredicate=()=>!0,this.dropped=new i.n,this.entered=new i.n,this.exited=new i.n,this.sorted=new i.n,this._unsortedItems=new Set,this._dropListRef=n.createDropList(e),this._dropListRef.data=this,l&&this._assignDefaults(l),this._dropListRef.enterPredicate=(t,e)=>this.enterPredicate(t.data,e.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),t._dropLists.push(this),r&&r._items.add(this)}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(t){this._dropListRef.disabled=this._disabled=Object(a.b)(t)}addItem(t){this._unsortedItems.add(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(t){this._unsortedItems.delete(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((t,e)=>t._dragRef.getVisibleElement().compareDocumentPosition(e._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const e=t._dropLists.indexOf(this);e>-1&&t._dropLists.splice(e,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}start(){this._dropListRef.start()}drop(t,e,n,i){this._dropListRef.drop(t._dragRef,e,n._dropListRef,i,{x:0,y:0})}enter(t,e,n){this._dropListRef.enter(t._dragRef,e,n)}exit(t){this._dropListRef.exit(t._dragRef)}getItemIndex(t){return this._dropListRef.getItemIndex(t._dragRef)}_setupInputSyncSubscription(e){this._dir&&this._dir.change.pipe(Object(y.a)(this._dir.value),Object(b.a)(this._destroyed)).subscribe(t=>e.withDirection(t)),e.beforeStarted.subscribe(()=>{const n=Object(a.a)(this.connectedTo).map(e=>"string"==typeof e?t._dropLists.find(t=>t.id===e):e);if(this._group&&this._group._items.forEach(t=>{-1===n.indexOf(t)&&n.push(t)}),!this._scrollableParentsResolved&&this._scrollDispatcher){const t=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(t=>t.getElementRef().nativeElement);this._dropListRef.withScrollableParents(t),this._scrollableParentsResolved=!0}e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.sortingDisabled=Object(a.b)(this.sortingDisabled),e.autoScrollDisabled=Object(a.b)(this.autoScrollDisabled),e.connectedTo(n.filter(t=>t&&t!==this).map(t=>t._dropListRef)).withOrientation(this.orientation)})}_handleEvents(t){t.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(t=>{this.entered.emit({container:this,item:t.item.data,currentIndex:t.currentIndex})}),t.exited.subscribe(t=>{this.exited.emit({container:this,item:t.item.data}),this._changeDetectorRef.markForCheck()}),t.sorted.subscribe(t=>{this.sorted.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,container:this,item:t.item.data})}),t.dropped.subscribe(t=>{this.dropped.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,previousContainer:t.previousContainer.data,container:t.container.data,item:t.item.data,isPointerOverContainer:t.isPointerOverContainer,distance:t.distance}),this._changeDetectorRef.markForCheck()})}_assignDefaults(t){const{lockAxis:e,draggingDisabled:n,sortingDisabled:i,listAutoScrollDisabled:o,listOrientation:s}=t;this.disabled=null!=n&&n,this.sortingDisabled=null!=i&&i,this.autoScrollDisabled=null!=o&&o,this.orientation=s||"vertical",e&&(this.lockAxis=e)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(t=>t._dragRef))}}return t.\u0275fac=function(e){return new(e||t)(i.Pb(i.l),i.Pb(J),i.Pb(i.h),i.Pb(x.b,8),i.Pb(ct,12),i.Pb(s.b),i.Pb(ot,8))},t.\u0275dir=i.Kb({type:t,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(t,e){2&t&&(i.Yb("id",e.id),i.Gb("cdk-drop-list-disabled",e.disabled)("cdk-drop-list-dragging",e._dropListRef.isDragging())("cdk-drop-list-receiving",e._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],id:"id",enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],orientation:["cdkDropListOrientation","orientation"],lockAxis:["cdkDropListLockAxis","lockAxis"],data:["cdkDropListData","data"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[i.Ab([{provide:ct,useValue:void 0},{provide:st,useExisting:t}])]}),t._dropLists=[],t})(),dt=(()=>{class t{}return t.\u0275mod=i.Nb({type:t}),t.\u0275inj=i.Mb({factory:function(e){return new(e||t)},providers:[J],imports:[s.a]}),t})()},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var i=n("ZUHj"),o=n("l7GE"),s=n("51Dv"),r=n("lJxs"),a=n("Cfvw");function c(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?i=>i.pipe(c((n,i)=>Object(a.a)(t(n,i)).pipe(Object(r.a)((t,o)=>e(n,t,i,o))),n)):("number"==typeof e&&(n=e),e=>e.lift(new l(t,n)))}class l{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new h(t,this.project,this.concurrent))}}class h extends o.a{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(e,t,n)}_innerSub(t,e,n){const o=new s.a(this,e,n),r=this.destination;r.add(o);const a=Object(i.a)(this,t,void 0,void 0,o);a!==o&&r.add(a)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t,e,n,i,o){this.destination.next(e)}notifyComplete(t){const e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"51Dv":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n("7o/Q");class o extends i.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}},"5LH7":function(t,e){var n=1e3,i=6e4,o=36e5,s=24*o;function r(t,e,n,i){var o=e>=1.5*n;return Math.round(t/n)+" "+i+(o?"s":"")}t.exports=function(t,e){e=e||{};var a,c,l=typeof t;if("string"===l&&t.length>0)return function(t){if(!((t=String(t)).length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var r=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*r;case"weeks":case"week":case"w":return 6048e5*r;case"days":case"day":case"d":return r*s;case"hours":case"hour":case"hrs":case"hr":case"h":return r*o;case"minutes":case"minute":case"mins":case"min":case"m":return r*i;case"seconds":case"second":case"secs":case"sec":case"s":return r*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}(t);if("number"===l&&isFinite(t))return e.long?(a=t,(c=Math.abs(a))>=s?r(a,c,s,"day"):c>=o?r(a,c,o,"hour"):c>=i?r(a,c,i,"minute"):c>=n?r(a,c,n,"second"):a+" ms"):function(t){var e=Math.abs(t);return e>=s?Math.round(t/s)+"d":e>=o?Math.round(t/o)+"h":e>=i?Math.round(t/i)+"m":e>=n?Math.round(t/n)+"s":t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},"5TDy":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n("XNiG"),o=n("2Vo4"),s=n("fXoL");let r=(()=>{class t{constructor(){this.fullScreen=!1,this._fullScreen=new i.a,this.fullScreen$=this._fullScreen.asObservable(),this._fullScreenState=new o.a(!1),this.fullScreenState$=this._fullScreenState.asObservable()}toggleFullScreen(){this._fullScreen.next(!this.fullScreen),this._fullScreenState.next(!this.fullScreen)}informFullScreen(t){this._fullScreenState.next(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=s.Lb({token:t,factory:t.\u0275fac}),t})()},"5eHb":function(t,e,n){"use strict";n.d(e,"a",(function(){return M})),n.d(e,"b",(function(){return f})),n.d(e,"c",(function(){return I})),n.d(e,"d",(function(){return O}));var i=n("fXoL"),o=n("R0Ic"),s=n("XNiG"),r=n("jhN1"),a=n("ofXK");const c=["toast-component",""];function l(t,e){if(1&t){const t=i.Wb();i.Vb(0,"button",5),i.dc("click",(function(e){return i.Cc(t),i.gc().remove()})),i.Vb(1,"span",6),i.Nc(2,"\xd7"),i.Ub(),i.Ub()}}function h(t,e){if(1&t&&(i.Tb(0),i.Nc(1),i.Sb()),2&t){const t=i.gc(2);i.Bb(1),i.Pc("[",t.duplicatesCount+1,"]")}}function d(t,e){if(1&t&&(i.Vb(0,"div"),i.Nc(1),i.Lc(2,h,2,1,"ng-container",4),i.Ub()),2&t){const t=i.gc();i.Db(t.options.titleClass),i.Cb("aria-label",t.title),i.Bb(1),i.Pc(" ",t.title," "),i.Bb(1),i.nc("ngIf",t.duplicatesCount)}}function u(t,e){if(1&t&&i.Qb(0,"div",7),2&t){const t=i.gc();i.Db(t.options.messageClass),i.nc("innerHTML",t.message,i.Dc)}}function g(t,e){if(1&t&&(i.Vb(0,"div",8),i.Nc(1),i.Ub()),2&t){const t=i.gc();i.Db(t.options.messageClass),i.Cb("aria-label",t.message),i.Bb(1),i.Pc(" ",t.message," ")}}function p(t,e){if(1&t&&(i.Vb(0,"div"),i.Qb(1,"div",9),i.Ub()),2&t){const t=i.gc();i.Bb(1),i.Kc("width",t.width+"%")}}class f{constructor(t,e,n,i,o,r){this.toastId=t,this.config=e,this.message=n,this.title=i,this.toastType=o,this.toastRef=r,this._onTap=new s.a,this._onAction=new s.a,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(t){this._onAction.next(t)}onAction(){return this._onAction.asObservable()}}const b={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},m=new i.q("ToastConfig");class v{constructor(t,e){this.component=t,this.injector=e}attach(t,e){return this._attachedHost=t,t.attach(this,e)}detach(){const t=this._attachedHost;if(t)return this._attachedHost=void 0,t.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class y extends class{attach(t,e){return this._attachedPortal=t,this.attachComponentPortal(t,e)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(t){this._disposeFn=t}}{constructor(t,e,n){super(),this._hostDomElement=t,this._componentFactoryResolver=e,this._appRef=n}attachComponentPortal(t,e){const n=this._componentFactoryResolver.resolveComponentFactory(t.component);let i;return i=n.create(t.injector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()}),e?this._hostDomElement.insertBefore(this._getComponentRootNode(i),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(i)),i}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let C=(()=>{let t=class{constructor(t){this._document=t}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("overlay-container"),this._document.body.appendChild(t),this._containerElement=t}};return t.\u0275fac=function(e){return new(e||t)(i.Zb(a.d))},t.\u0275prov=i.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t.ngInjectableDef=Object(i.Lb)({factory:function(){return new t(Object(i.Zb)(a.d))},token:t,providedIn:"root"}),t})();class _{constructor(t){this._portalHost=t}attach(t,e=!0){return this._portalHost.attach(t,e)}detach(){return this._portalHost.detach()}}let x=(()=>{let t=class{constructor(t,e,n,i){this._overlayContainer=t,this._componentFactoryResolver=e,this._appRef=n,this._document=i,this._paneElements=new Map}create(t,e){return this._createOverlayRef(this.getPaneElement(t,e))}getPaneElement(t="",e){return this._paneElements.get(e)||this._paneElements.set(e,{}),this._paneElements.get(e)[t]||(this._paneElements.get(e)[t]=this._createPaneElement(t,e)),this._paneElements.get(e)[t]}_createPaneElement(t,e){const n=this._document.createElement("div");return n.id="toast-container",n.classList.add(t),n.classList.add("toast-container"),e?e.getContainerElement().appendChild(n):this._overlayContainer.getContainerElement().appendChild(n),n}_createPortalHost(t){return new y(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new _(this._createPortalHost(t))}};return t.\u0275fac=function(e){return new(e||t)(i.Zb(C),i.Zb(i.j),i.Zb(i.g),i.Zb(a.d))},t.\u0275prov=i.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t.ngInjectableDef=Object(i.Lb)({factory:function(){return new t(Object(i.Zb)(C),Object(i.Zb)(i.j),Object(i.Zb)(i.g),Object(i.Zb)(a.d))},token:t,providedIn:"root"}),t})();class P{constructor(t){this._overlayRef=t,this.duplicatesCount=0,this._afterClosed=new s.a,this._activate=new s.a,this._manualClose=new s.a,this._resetTimeout=new s.a,this._countDuplicate=new s.a}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(t,e){t&&this._resetTimeout.next(),e&&this._countDuplicate.next(++this.duplicatesCount)}}class w{constructor(t,e){this._toastPackage=t,this._parentInjector=e}get(t,e,n){return t===f?this._toastPackage:this._parentInjector.get(t,e,n)}}let O=(()=>{let t=class{constructor(t,e,n,i,o){this.overlay=e,this._injector=n,this.sanitizer=i,this.ngZone=o,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign({},t.default,t.config),t.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign({},t.default.iconClasses,t.config.iconClasses))}show(t,e,n={},i=""){return this._preBuildNotification(i,t,e,this.applyConfig(n))}success(t,e,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,e,this.applyConfig(n))}error(t,e,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,e,this.applyConfig(n))}info(t,e,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,e,this.applyConfig(n))}warning(t,e,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,e,this.applyConfig(n))}clear(t){for(const e of this.toasts)if(void 0!==t){if(e.toastId===t)return void e.toastRef.manualClose()}else e.toastRef.manualClose()}remove(t){const e=this._findToast(t);if(!e)return!1;if(e.activeToast.toastRef.close(),this.toasts.splice(e.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length)return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const t=this.toasts[this.currentlyActive].toastRef;t.isInactive()||(this.currentlyActive=this.currentlyActive+1,t.activate())}return!0}findDuplicate(t,e,n){for(const i of this.toasts)if(i.message===t)return i.toastRef.onDuplicate(e,n),i;return null}applyConfig(t={}){return Object.assign({},this.toastrConfig,t)}_findToast(t){for(let e=0;e<this.toasts.length;e++)if(this.toasts[e].toastId===t)return{index:e,activeToast:this.toasts[e]};return null}_preBuildNotification(t,e,n,i){return i.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,e,n,i)):this._buildNotification(t,e,n,i)}_buildNotification(t,e,n,o){if(!o.toastComponent)throw new Error("toastComponent required");const s=this.findDuplicate(e,this.toastrConfig.resetTimeoutOnDuplicate&&o.timeOut>0,this.toastrConfig.countDuplicates);if(e&&this.toastrConfig.preventDuplicates&&null!==s)return s;this.previousToastMessage=e;let r=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(r=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const a=this.overlay.create(o.positionClass,this.overlayContainer);this.index=this.index+1;let c=e;e&&o.enableHtml&&(c=this.sanitizer.sanitize(i.I.HTML,e));const l=new P(a),h=new f(this.index,o,c,n,t,l),d=new w(h,this._injector),u=new v(o.toastComponent,d),g=a.attach(u,this.toastrConfig.newestOnTop);l.componentInstance=g._component;const p={toastId:this.index,message:e||"",toastRef:l,onShown:l.afterActivate(),onHidden:l.afterClosed(),onTap:h.onTap(),onAction:h.onAction(),portal:g};return r||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{p.toastRef.activate()})),this.toasts.push(p),p}};return t.\u0275fac=function(e){return new(e||t)(i.Zb(m),i.Zb(x),i.Zb(i.r),i.Zb(r.b),i.Zb(i.z))},t.\u0275prov=i.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t.ngInjectableDef=Object(i.Lb)({factory:function(){return new t(Object(i.Zb)(m),Object(i.Zb)(x),Object(i.Zb)(i.o),Object(i.Zb)(r.b),Object(i.Zb)(i.z))},token:t,providedIn:"root"}),t})(),M=(()=>{let t=class{constructor(t,e,n){this.toastrService=t,this.toastPackage=e,this.ngZone=n,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=e.message,this.title=e.title,this.options=e.config,this.originalTimeout=e.config.timeOut,this.toastClasses=`${e.toastType} ${e.config.toastClass}`,this.sub=e.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=e.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=e.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=e.toastRef.countDuplicate().subscribe(t=>{this.duplicatesCount=t})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=Object.assign({},this.state,{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign({},this.state,{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign({},this.state,{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0!==this.options.disableTimeOut&&"extendedTimeOut"!==this.options.disableTimeOut&&0!==this.options.extendedTimeOut&&"removed"!==this.state.value&&(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,e){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),e)):this.timeout=setTimeout(()=>t(),e)}outsideInterval(t,e){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),e)):this.intervalId=setInterval(()=>t(),e)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}};return t.\u0275fac=function(e){return new(e||t)(i.Pb(O),i.Pb(f),i.Pb(i.z))},t.\u0275cmp=i.Jb({type:t,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,e){1&t&&i.dc("click",(function(t){return e.tapToast()}))("mouseenter",(function(t){return e.stickAround()}))("mouseleave",(function(t){return e.delayedHideToast()})),2&t&&(i.Tc("@flyInOut",e.state),i.Db(e.toastClasses),i.Kc("display",e.displayStyle))},attrs:c,decls:5,vars:5,consts:[["class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alertdialog","aria-live","polite",3,"innerHTML"],["role","alertdialog","aria-live","polite"],[1,"toast-progress"]],template:function(t,e){1&t&&(i.Lc(0,l,3,0,"button",0),i.Lc(1,d,3,5,"div",1),i.Lc(2,u,1,3,"div",2),i.Lc(3,g,2,4,"div",3),i.Lc(4,p,2,2,"div",4)),2&t&&(i.nc("ngIf",e.options.closeButton),i.Bb(1),i.nc("ngIf",e.title),i.Bb(1),i.nc("ngIf",e.message&&e.options.enableHtml),i.Bb(1),i.nc("ngIf",e.message&&!e.options.enableHtml),i.Bb(1),i.nc("ngIf",e.options.progressBar))},directives:[a.n],encapsulation:2,data:{animation:[Object(o.l)("flyInOut",[Object(o.i)("inactive",Object(o.j)({opacity:0})),Object(o.i)("active",Object(o.j)({opacity:1})),Object(o.i)("removed",Object(o.j)({opacity:0})),Object(o.k)("inactive => active",Object(o.e)("{{ easeTime }}ms {{ easing }}")),Object(o.k)("active => removed",Object(o.e)("{{ easeTime }}ms {{ easing }}"))])]}}),t})();var k;const S=Object.assign({},b,{toastComponent:M});let I=(()=>{let t=k=class{static forRoot(t={}){return{ngModule:k,providers:[{provide:m,useValue:{default:S,config:t}}]}}};return t.\u0275mod=i.Nb({type:t}),t.\u0275inj=i.Mb({factory:function(e){return new(e||t)},imports:[[a.c]]}),t})()},"5kbV":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n("2Vo4"),o=n("fXoL");let s=(()=>{class t{constructor(){this._purchaseRequiredDialogSource=new i.a({}),this.purchaseRequiredDialogSource$=this._purchaseRequiredDialogSource.asObservable()}setState(t){this._purchaseRequiredDialogSource.next(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Lb({token:t,factory:t.\u0275fac}),t})()},"5yqk":function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var i=n("fXoL"),o=n("tRdC"),s=n("3My9"),r=n("AytR"),a=n("gFX4");let c=(()=>{class t{constructor(t){this._utility=t,this.isEnable=!0,this.observers=[],this.onnect=new i.n,this.ondisconneted=new i.n,this.isconnected=!1,this.lastRoom=null,this.connectionHash=null,this.reconnecting=!1,this.isauth=!1,this.isInit=!1,this.isLogin=!1,this.uid=0,this.lastData=null,this.eventToSend=[],r.a.disableNotify||this.init(0)}init(t){this.uid=t,!this.isEnable||!this.isLogin||null!=this.socket&&this.socket.connected||(this.socket=a(this._utility.GetHost("https://chat.{Host}"),{query:{lb:this._utility.GUID(),uid:this.uid},reconnectionAttempts:10,transports:["websocket","polling"]}),this.socket.on("connect",()=>{this.isconnected=!0,null!=this.connectionHash&&(this.reconnecting=!0,null!=this.lastData&&this.authorize(this.lastData),console.debug("user data connected"));var t=Math.random();this.observers.forEach(e=>{e.hash!=t&&(this.socket.off(e.name),this.socket.on(e.name,t=>{e.observer.next(t)}),e.hash=t)}),this.connectionHash=t,this.onnect.next("connected")}),this.socket.on("disconnect",t=>{console.debug("server may restarted",t),this.isconnected=!1,this.ondisconneted.next()}),this.isInit||(this.isInit=!0,this.on({action:o.a.Conn}).subscribe(t=>{this.eventToSend.forEach(t=>{this.sendMsg(t)}),this.eventToSend=[],console.debug("user authorize",t),t&&t.length>0&&"ok"==t[0]&&(this.isauth=!0,this.onAuthorized())})))}onAuthorized(){null!=this.lastRoom&&this.socket.emit(o.a.JoinVideoRoom,this.lastRoom)}info(t){console.debug("notifyService",t)}clear(){this.lastData=null,null!=this.socket&&this.socket.connected&&(console.log("user disconnect"),this.socket.disconnect())}authorize(t){this.lastData=t,this.sendMsg({action:o.a.Conn,data:t}),console.debug("authorize user")}sendMsg(t){if(this.isEnable)switch(this.isconnected?this.socket.emit(t.action,t.data):t.action!=o.a.Conn&&this.eventToSend.push(t),t.action){case o.a.JoinVideoRoom:this.lastRoom=t.data;break;case o.a.LeaveVideoRoom:this.lastRoom=null}}on(t){var e=this.observers.find(e=>e.name==t.action);return null==e&&((e=new l).name=t.action,e.observer=new i.n,this.observers.push(e)),e.hash!=this.connectionHash&&(e.hash=this.connectionHash,this.socket.on(t.action,t=>{e.observer.next(t)})),e.observer}}return t.\u0275fac=function(e){return new(e||t)(i.Zb(s.a))},t.\u0275prov=i.Lb({token:t,factory:t.\u0275fac}),t})();class l{}},"65MA":function(t,e,n){"use strict";n.r(e);var i=n("ofXK"),o=n("tyNb"),s=n("kizo"),r=n("jBNF"),a=n("OnY+"),c=n("8V5e"),l=n("fXoL"),h=n("WLG8"),d=n("LmEr"),u=n("1YUx");let g=(()=>{class t{transform(t){return t.slice(3,8)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=l.Ob({name:"minuteSecond",type:t,pure:!0}),t})();const p=function(){return["/","list"]},f=function(t,e){return{cid:t,tag:e}};function b(t,e){if(1&t&&(l.Vb(0,"div",17),l.Vb(1,"a",18),l.Nc(2),l.hc(3,"uppercase"),l.Ub(),l.Ub()),2&t){const t=e.$implicit,n=l.gc();l.Bb(1),l.nc("routerLink",l.rc(5,p))("queryParams",l.tc(6,f,n.cid,t)),l.Bb(1),l.Oc(l.ic(3,3,t))}}const m=function(){return["/","watch"]},v=function(t){return{v:t}};function y(t,e){if(1&t&&(l.Vb(0,"div",19),l.Vb(1,"div",20),l.Vb(2,"a",21),l.Qb(3,"img",22),l.Ub(),l.Vb(4,"div",23),l.Nc(5),l.hc(6,"minuteSecond"),l.Ub(),l.Ub(),l.Vb(7,"div",24),l.Vb(8,"a",21),l.Nc(9),l.Ub(),l.Ub(),l.Ub()),2&t){const t=e.$implicit;l.Bb(2),l.nc("routerLink",l.rc(9,m))("queryParams",l.sc(10,v,t.key)),l.Bb(1),l.nc("src",t.image+"?w=216&mode=crop",l.Fc),l.Bb(2),l.Oc(l.ic(6,7,null==t?null:t.lastseconds)),l.Bb(3),l.nc("routerLink",l.rc(12,m))("queryParams",l.sc(13,v,t.key)),l.Bb(1),l.Oc(t.title)}}function C(t,e){if(1&t&&(l.Vb(0,"div",25),l.Qb(1,"app-svideo-publisher",26),l.Ub()),2&t){const t=e.$implicit;l.Bb(1),l.nc("item",t)}}function _(t,e){if(1&t&&(l.Vb(0,"div",19),l.Vb(1,"div",20),l.Vb(2,"a",21),l.Qb(3,"img",22),l.Ub(),l.Vb(4,"div",23),l.Nc(5),l.hc(6,"minuteSecond"),l.Ub(),l.Ub(),l.Vb(7,"div",24),l.Vb(8,"a",21),l.Nc(9),l.Ub(),l.Ub(),l.Ub()),2&t){const t=e.$implicit;l.Bb(2),l.nc("routerLink",l.rc(9,m))("queryParams",l.sc(10,v,t.key)),l.Bb(1),l.nc("src",t.image+"?w=216&h=122&format=jpg&mode=crop",l.Fc),l.Bb(2),l.Oc(l.ic(6,7,null==t?null:t.lastseconds)),l.Bb(3),l.nc("routerLink",l.rc(12,m))("queryParams",l.sc(13,v,t.key)),l.Bb(1),l.Oc(t.title)}}const x=function(t,e){return{cid:t,tag:e,orderBy:0,desc:!0}};function P(t,e){if(1&t&&(l.Vb(0,"div"),l.Vb(1,"div",2),l.Vb(2,"div",3),l.Qb(3,"div",12),l.Vb(4,"div",27),l.Vb(5,"h3",4),l.Vb(6,"span"),l.Nc(7),l.Ub(),l.Ub(),l.Vb(8,"a",28),l.Vb(9,"span"),l.Nc(10,"\u66f4\u591a"),l.Ub(),l.Qb(11,"span",29),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Vb(12,"div",6),l.Vb(13,"div",10),l.Lc(14,_,10,15,"div",11),l.Ub(),l.Ub(),l.Ub()),2&t){const t=e.$implicit,n=e.index,i=l.gc();l.Bb(7),l.Oc(t.group),l.Bb(1),l.nc("routerLink",l.rc(4,p))("queryParams",l.tc(5,x,i.cid,t.group)),l.Bb(6),l.nc("ngForOf",null==t.items?null:t.items.slice(0,n<2?i.internationalLength:i.internationalLength/2))}}let w=(()=>{class t{constructor(t,e,n,i,o){this.videoService=t,this._windowService=e,this.route=n,this._categoryService=i,this._seo=o,this.publishers=[],this.tags=[],this.hotLength=12,this.internationalLength=16,this.publisherLength=8,this.sliderItems=[],this.sliderSize={ExtraLarge:{width:437,height:347},Large:{width:375,height:310},Medium:{width:418,height:304},Small:{width:418,height:304},XSmall:{width:418,height:304}},this.cid="news",this.subscrptions=[],this.lists=[]}ngOnDestroy(){this.subscrptions.forEach(t=>t.unsubscribe())}ngOnInit(){this.subscrptions.push(this.route.params.subscribe(t=>{t.cid&&(this.cid=t.cid||"news",this.loadData())}),this.route.queryParams.subscribe(t=>{t.cid&&(this.cid=t.cid||"news",this.loadData())}),this._windowService.size$.subscribe(t=>{this.setItemsLength(t)}))}loadData(){this.sysCID="game"==this.cid?"games":this.cid,this.videoService.getRecommendedShortVideoList(this.sysCID).subscribe(t=>{this.sliderItems=t[0].hotList.slice(0,5),this.hot=t[0].hotList.slice(5),this.tags=Object.keys(t[0].subList).slice(0,5),this.lists=Object.keys(t[0].subList).map(e=>({group:e.toUpperCase(),items:t[0].subList[e]}))}),this.videoService.getMostPopularPublishers(this.sysCID).subscribe(t=>{this.publishers=t});var t=this._categoryService.getCategoryBySlug(this.cid);t&&t.title&&this._seo.setTitle(t.title)}setItemsLength(t){if(t===s.a.XSmall)return 4;t===s.a.Small?(this.hotLength=8,this.internationalLength=12,this.publisherLength=5):t===s.a.Medium?(this.hotLength=8,this.internationalLength=12,this.publisherLength=5):t===s.a.Large?(this.hotLength=12,this.internationalLength=16,this.publisherLength=6):(this.hotLength=12,this.internationalLength=16,this.publisherLength=8)}}return t.\u0275fac=function(e){return new(e||t)(l.Pb(r.a),l.Pb(s.b),l.Pb(o.a),l.Pb(c.a),l.Pb(a.a))},t.\u0275cmp=l.Jb({type:t,selectors:[["app-short-videos"]],decls:25,vars:7,consts:[[1,"outer","w-100","short-video-page"],[1,"container",2,"min-height","2449px"],[1,"block-title"],[1,"d-flex","align-items-center"],[1,"d-inline","mr-4"],["class","mr-3",4,"ngFor","ngForOf"],[1,"d-flex"],[1,"headerlines-slider-container"],[3,"items","displayMode"],[1,"gutter"],[1,"headlines"],["class","headline",4,"ngFor","ngForOf"],[1,"logo-icon"],[1,"recommand-publishers"],["class","recommand-publisher",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[2,"padding-bottom","30px"],[1,"mr-3"],[1,"top-link",3,"routerLink","queryParams"],[1,"headline"],[1,"image-container"],[3,"routerLink","queryParams"],[3,"src"],[1,"video-length"],[1,"headline-title"],[1,"recommand-publisher"],[3,"item"],[1,"d-flex","align-items-baseline"],[1,"d-flex","align-items-center",3,"routerLink","queryParams"],[1,"iconfont","iconjiantou_liebiaoxiangyou","fs-16"]],template:function(t,e){1&t&&(l.Vb(0,"div",0),l.Vb(1,"div",1),l.Vb(2,"div",2),l.Vb(3,"div",3),l.Vb(4,"h3",4),l.Vb(5,"span"),l.Nc(6),l.Ub(),l.Ub(),l.Lc(7,b,4,9,"div",5),l.Ub(),l.Ub(),l.Vb(8,"div",6),l.Vb(9,"div",7),l.Qb(10,"app-dn-headline-slider",8),l.Ub(),l.Qb(11,"div",9),l.Vb(12,"div",10),l.Lc(13,y,10,15,"div",11),l.Ub(),l.Ub(),l.Vb(14,"div",2),l.Vb(15,"div",3),l.Qb(16,"div",12),l.Vb(17,"h3",4),l.Vb(18,"span"),l.Nc(19,"\u77e5\u540dUP\u4e3b"),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Vb(20,"div",13),l.Lc(21,C,2,1,"div",14),l.Ub(),l.Lc(22,P,15,8,"div",15),l.Ub(),l.Ub(),l.Qb(23,"div",16),l.Qb(24,"app-footer")),2&t&&(l.Bb(6),l.Oc("news"===e.cid?"\u4eca\u65e5\u70ed\u70b9":"\u70ed\u95e8\u89c6\u9891"),l.Bb(1),l.nc("ngForOf",e.tags),l.Bb(3),l.nc("items",e.sliderItems)("displayMode","shortvideo-slider"),l.Bb(3),l.nc("ngForOf",null==e.hot?null:e.hot.slice(0,e.hotLength)),l.Bb(8),l.nc("ngForOf",null==e.publishers?null:e.publishers.slice(0,e.publisherLength)),l.Bb(1),l.nc("ngForOf",e.lists))},directives:[i.m,h.a,d.a,o.g,u.a],pipes:[i.w,g],styles:['.outer[_ngcontent-%COMP%]{padding-top:60px;font-size:14px}.block-title[_ngcontent-%COMP%]{padding:35px 0}.top-link[_ngcontent-%COMP%]{color:hsla(0,0%,100%,.7)!important;background-color:#1c1d2f!important;-webkit-transition:unset!important;transition:unset!important;cursor:pointer;width:70px;height:25px;display:inline-block;font-size:12px;text-align:center;line-height:25px}.light[_nghost-%COMP%]   .top-link[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .top-link[_ngcontent-%COMP%]{color:#888!important;background-color:#f4f4f4!important}.top-link[_ngcontent-%COMP%]:hover{background-color:#00c0ff!important}.top-link[_ngcontent-%COMP%]:hover, .light[_nghost-%COMP%]   .top-link[_ngcontent-%COMP%]:hover, .light   [_nghost-%COMP%]   .top-link[_ngcontent-%COMP%]:hover{color:#fff!important}.light[_nghost-%COMP%]   .top-link[_ngcontent-%COMP%]:hover, .light   [_nghost-%COMP%]   .top-link[_ngcontent-%COMP%]:hover{background-color:#00c0ff!important}.player-container[_ngcontent-%COMP%]{width:660px;min-width:660px;height:354px;background-color:#222;position:relative}.player-container[_ngcontent-%COMP%]   .player-title[_ngcontent-%COMP%]{font-size:16px;position:absolute;left:0;top:0;width:100%;padding:10px 18px;z-index:999;height:42%;background:-webkit-gradient(linear,left top,left bottom,from(rgba(34,34,34,.5)),to(hsla(0,0%,100%,.01)));background:linear-gradient(180deg,rgba(34,34,34,.5),hsla(0,0%,100%,.01));white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.headerlines-slider-container[_ngcontent-%COMP%]{width:437px;min-width:437px;height:315px}.headlines[_ngcontent-%COMP%]{flex-wrap:wrap}.headlines[_ngcontent-%COMP%], .recommand-publishers[_ngcontent-%COMP%]{width:100%;display:-webkit-box;display:flex;-webkit-box-pack:justify;justify-content:space-between}.recommand-publisher[_ngcontent-%COMP%]{text-align:center;width:216px;height:294px;position:relative;background-color:#1c1d2f;padding:15px 0}.light[_nghost-%COMP%]   .recommand-publisher[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .recommand-publisher[_ngcontent-%COMP%]{background-color:#fafafa}.headline[_ngcontent-%COMP%]{width:216px;height:170px;margin-bottom:20px}.headline[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{width:100%;height:120px;background-color:rgba(34,34,34,.2);position:relative;overflow:hidden}.headline[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]:after{content:"";display:block;position:absolute;bottom:0;left:0;height:30%;background:-webkit-gradient(linear,left top,left bottom,from(transparent),color-stop(38%,rgba(0,0,0,.2)),to(rgba(0,0,0,.4)));background:linear-gradient(180deg,transparent,rgba(0,0,0,.2) 38%,rgba(0,0,0,.4));width:100%}.headline[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;-webkit-transition:all .25s ease-in-out;transition:all .25s ease-in-out;-o-object-fit:cover;object-fit:cover;background:#000}.headline[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   .video-length[_ngcontent-%COMP%]{position:absolute;right:5px;bottom:5px;z-index:1}.light[_nghost-%COMP%]   .headline[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   .video-length[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .headline[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   .video-length[_ngcontent-%COMP%]{color:#fff}.headline[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{-webkit-transform:scale(1.05);transform:scale(1.05)}.headline[_ngcontent-%COMP%]   .headline-title[_ngcontent-%COMP%]{padding:6px;margin:0 0 4px}.headline[_ngcontent-%COMP%]   .headline-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:-webkit-box;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;white-space:normal;-webkit-line-clamp:2;max-height:44px;line-height:21px}.gutter[_ngcontent-%COMP%]{width:12px}h3[_ngcontent-%COMP%]{color:#fff}.light[_nghost-%COMP%]   h3[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   h3[_ngcontent-%COMP%]{color:#333}@media (min-width:1679px) and (max-width:1919px){.headline[_ngcontent-%COMP%]{width:186px;height:150px;margin-bottom:20px}.headline[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{height:103px}.gutter[_ngcontent-%COMP%]{width:9px}.player-container[_ngcontent-%COMP%]{width:567px;min-width:567px;height:319px}.headerlines-slider-container[_ngcontent-%COMP%]{width:500px;min-width:unset}}@media (max-width:1678px){.headline[_ngcontent-%COMP%]{width:204px;height:150px;margin-bottom:14px}.headline[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{height:103px}.headerlines-slider-container[_ngcontent-%COMP%]{width:418px;min-width:unset;height:315px}.player-container[_ngcontent-%COMP%]{width:420px;min-width:420px;height:315px}.headerlines-slider-container[_ngcontent-%COMP%]{width:417px;min-width:417px}}.publisher-offical[_ngcontent-%COMP%]{position:absolute;right:24px;bottom:54px}']}),t})();const O=[{path:":cid",component:w},{path:"**",component:w}];let M=(()=>{class t{}return t.\u0275mod=l.Nb({type:t}),t.\u0275inj=l.Mb({factory:function(e){return new(e||t)},providers:[],imports:[[o.h.forChild(O)],o.h]}),t})();var k=n("iWjc"),S=n("BE4r"),I=n("ypMf");n.d(e,"ShortVideosModule",(function(){return L}));let L=(()=>{class t{}return t.\u0275mod=l.Nb({type:t}),t.\u0275inj=l.Mb({factory:function(e){return new(e||t)},providers:[S.a],imports:[[i.c,M,k.a,I.a]]}),t})()},"6C75":function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},"6HMi":function(t,e,n){"use strict";var i=n("ofXK"),o=(n("/jvD"),n("7IA8"),n("fXoL"));n("TuhJ"),n("qTox"),n("H7pl");var s=n("Kdsb");let r=(()=>{class t{}return t.\u0275mod=o.Nb({type:t}),t.\u0275inj=o.Mb({factory:function(e){return new(e||t)},imports:[[i.c,s.c]]}),t})();var a=n("iWjc"),c=n("Ybe3"),l=n("BXbW"),h=n("N9ew"),d=n("18J0"),u=n("3Pt+"),g=n("ypMf"),p=n("cUhd");let f=(()=>{class t{}return t.\u0275mod=o.Nb({type:t}),t.\u0275inj=o.Mb({factory:function(e){return new(e||t)},providers:[p.a],imports:[[i.c,s.c,a.a]]}),t})();var b=n("tyNb");n.d(e,"a",(function(){return v}));const m={suppressScrollX:!0,wheelPropagation:!1};let v=(()=>{class t{}return t.\u0275mod=o.Nb({type:t}),t.\u0275inj=o.Mb({factory:function(e){return new(e||t)},providers:[{provide:s.a,useValue:m},l.a,h.a],imports:[[i.c,s.c,r,a.a,c.a,d.a,u.h,u.p,g.a,f,b.h]]}),t})()},"6VMI":function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"d",(function(){return o})),n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return r}));const i="CLEAR",o="UPDATEREGION",s="CHANGEGUESTLISTOPENSTATUS",r="CHANGEVIPLISTOPENSTATUS"},"6nLG":function(t,e,n){"use strict";n.d(e,"d",(function(){return i})),n.d(e,"c",(function(){return o})),n.d(e,"b",(function(){return s})),n.d(e,"a",(function(){return r}));const i="SETCURRENTVIDEO",o="SETCURRENTLANGUAGE",s="PATCHPLAYLISTS",r="ADDSHARECOUNTER"},"6xUE":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n("PqYM"),o=n("fXoL");let s=(()=>{class t{static IsMac(){try{return-1!=navigator.userAgent.indexOf("Macintosh")}catch(t){}}static getZIndex(){let t,e=1,n=document.getElementsByTagName("*");for(let i=0,o=n.length;i<o;i++)t=parseInt(window.getComputedStyle(n[i])["z-index"],10),t>e&&(e=t+1);return e}static isMobileDevice(){return void 0!==window.orientation||-1!==navigator.userAgent.indexOf("IEMobile")}static isSafari(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}static isiOSDevice(){return navigator.userAgent.match(/ip(hone|ad|od)|CriOS/i)&&!navigator.userAgent.match(/(iemobile)[\/\s]?([\w\.]*)/i)}static isCordova(){return-1===document.URL.indexOf("http://")&&-1===document.URL.indexOf("https://")}static setTimeout(t,e){var n=Object(i.a)(e,0),o=n.subscribe(e=>{t(),o.unsubscribe(),n=null});return o}static clearTimeout(t){t&&t.unsubscribe()}static openInNewWindow(t){window.open(t,"_blank")}}return t.shouldUseNative=!0,t.shouldHandleMouse=!0,t.isTouchDevice=!1,t.shouldUseFakeFullScreen=!1,t.useFakeFullScreenWhenNotPossible=!0,t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Lb({token:t,factory:t.\u0275fac}),t})()},"7DwK":function(t,e,n){"use strict";n.d(e,"a",(function(){return v}));var i=n("fXoL"),o=n("1XPh"),s=n("22MO"),r=n("kizo"),a=n("ofXK"),c=n("Le4d"),l=n("dHfA");const h=["block"];function d(t,e){if(1&t){const t=i.Wb();i.Vb(0,"div",6),i.Vb(1,"img",7),i.dc("load",(function(e){return i.Cc(t),i.gc(2).tryToGetSize(e)})),i.hc(2,"safeResource"),i.Ub(),i.Ub()}if(2&t){const t=i.gc(2);i.Bb(1),i.oc("src",i.ic(2,1,t.posterImage),i.Fc)}}const u=function(t){return{"w-100":t}};function g(t,e){if(1&t){const t=i.Wb();i.Vb(0,"img",12),i.dc("load",(function(e){return i.Cc(t),i.gc(3).tryToGetSize(e)})),i.hc(1,"safeResource"),i.hc(2,"replaceHost"),i.Ub()}if(2&t){const t=i.gc(3);i.nc("src",i.ic(1,2,i.ic(2,4,t.gg.RawImage)),i.Fc)("ngClass",i.sc(6,u,"DB"===t.code||"PB"===t.code||"ADB"===t.code||"APB"===t.code))}}function p(t,e){if(1&t&&(i.Qb(0,"div",13),i.hc(1,"safeResource"),i.hc(2,"replaceHost")),2&t){const t=i.gc(3);i.Kc("background-image","url("+i.ic(1,2,i.ic(2,4,t.gg.RawImage))+")",i.Ib)}}function f(t,e){if(1&t&&(i.Vb(0,"div",8),i.Vb(1,"a",9),i.hc(2,"replaceHost"),i.Lc(3,g,3,8,"img",10),i.Lc(4,p,3,6,"div",11),i.Ub(),i.Ub()),2&t){const t=i.gc(2);i.Bb(1),i.nc("href",i.ic(2,3,t.gg.LinkURL),i.Fc),i.Bb(2),i.nc("ngIf","H4"!==t.code),i.Bb(1),i.nc("ngIf","H4"===t.code)}}const b=function(t,e,n,i,o){return{"search-page-left":t,"search-page-right":e,"video-page-left":n,"video-page-right":i,fixed:o}};function m(t,e){if(1&t&&(i.Vb(0,"div",1,2),i.Lc(2,d,3,3,"div",3),i.Lc(3,f,5,5,"div",4),i.Vb(4,"div",5),i.Nc(5,"\u5e7f\u544a"),i.Ub(),i.Ub()),2&t){const t=i.gc();i.nc("ngClass",i.wc(4,b,t.ggPosition===t.postion.SearchPageLeft,t.ggPosition===t.postion.SearchPageRight,t.ggPosition===t.postion.VideoPageLeft||t.posterImage,t.ggPosition===t.postion.VideoPageRight,t.fixed))("id",t.code),i.Bb(2),i.nc("ngIf",t.posterImage),i.Bb(1),i.nc("ngIf",t.gg&&!t.posterImage)}}let v=(()=>{class t{constructor(t,e){this._ggService=t,this._windowService=e,this.subscriptions=[],this.postion=o.b,this.ggContentType=o.a,this.sticky=!1,this.screenType=r.a,this.ggLoaded=new i.n,this.parentCount=0,this.maxParentCount=5,this._windowService.size$.subscribe(t=>{this.screenSize=t})}ngOnInit(){this.posterImage||(this._ggService.ggs&&(this.gg=this._ggService.ggs.data.find(t=>t.Position===this.code),this.ggLoaded.emit(void 0!==this.gg)),this._ggService.ggSource$.subscribe(t=>{t&&(this.gg=t.find(t=>t.Position===this.code))}),"LS1"!==this.code&&"ALS1"!==this.code||this.subscriptions.push(this._ggService.ls1Source$.subscribe(t=>{t&&(this.gg=t)})),"LS2"!==this.code&&"ALS2"!==this.code||this.subscriptions.push(this._ggService.ls2Source$.subscribe(t=>{t&&(this.gg=t)})))}ngOnDestroy(){this.subscriptions.forEach(t=>{t.unsubscribe()})}tryToGetSize(t){if("SS"!==this.code&&"ASS"!==this.code&&null!=t&&t.target){var e=t.target;0==e.clientHeight&&(e.style.height=this.getParentHeight(e)+"px")}}getParentHeight(t){var e=0;return this.maxParentCount<this.parentCount||(++this.parentCount,0==(e=t.parentElement.clientHeight)&&(e=this.getParentHeight(t.parentElement))),e}}return t.\u0275fac=function(e){return new(e||t)(i.Pb(s.a),i.Pb(r.b))},t.\u0275cmp=i.Jb({type:t,selectors:[["app-gg-block"]],viewQuery:function(t,e){var n;1&t&&i.Ic(h,!0),2&t&&i.yc(n=i.ec())&&(e.blockElement=n.first)},inputs:{posterImage:"posterImage",ggPosition:"ggPosition",code:"code",fixed:"fixed"},outputs:{ggLoaded:"ggLoaded"},features:[i.Ab([])],decls:1,vars:1,consts:[["class","w-100 h-100","style","position: relative;",3,"ngClass","id",4,"ngIf"],[1,"w-100","h-100",2,"position","relative",3,"ngClass","id"],["block",""],["class","inner position-relative","lazy-load-images","",4,"ngIf"],["class","inner position-relative w-100 h-100","lazy-load-images","",4,"ngIf"],[1,"gg-tips-text"],["lazy-load-images","",1,"inner","position-relative"],[3,"src","load"],["lazy-load-images","",1,"inner","position-relative","w-100","h-100"],["target","_blank",1,"w-100","h-100",3,"href"],[3,"src","ngClass","load",4,"ngIf"],["class","w-100 h-100 bg-center",3,"background-image",4,"ngIf"],[3,"src","ngClass","load"],[1,"w-100","h-100","bg-center"]],template:function(t,e){1&t&&i.Lc(0,m,6,10,"div",0),2&t&&i.nc("ngIf",!!e.gg&&!!e.gg.RawImage||!!e.posterImage)},directives:[a.n,a.l],pipes:[c.b,l.b],styles:["[_nghost-%COMP%]{-webkit-transform:translateZ(0);transform:translateZ(0)}.video-page-left[_ngcontent-%COMP%], .video-page-left[_ngcontent-%COMP%]   .inner[_ngcontent-%COMP%], .video-page-right[_ngcontent-%COMP%], .video-page-right[_ngcontent-%COMP%]   .inner[_ngcontent-%COMP%]{height:100%}.video-page-left[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .video-page-right[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;top:0}.video-page-right[_ngcontent-%COMP%]   .inner[_ngcontent-%COMP%]{text-align:center}.video-page-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.sticky[_ngcontent-%COMP%]{position:fixed!important;top:80px}.search-page-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;left:0}.search-page-left[_ngcontent-%COMP%]{height:100%}.search-page-left[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;right:0;top:0}.search-page-left.fixed[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:fixed;left:-20px;top:60px}.search-page-right[_ngcontent-%COMP%]{height:100%}.search-page-right[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;left:0;top:0}.search-page-right.fixed[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:fixed;right:-20px;left:auto;top:60px}@media (max-width:1919px){.video-page-left[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{right:0}.video-page-right[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:346px;min-height:505px;left:0}}@media (min-width:1679px) and (max-width:1919px){.video-page-left[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:358px;right:0}.video-page-right[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:358px;left:0}}.gg-tips-text[_ngcontent-%COMP%]{font-size:12px;color:#fff;opacity:.5;position:absolute;top:5px;left:8px;text-shadow:2px 2px #000}.bg-center[_ngcontent-%COMP%]{background-position:50%;background-repeat:no-repeat}"]}),t})()},"7IA8":function(t,e,n){"use strict";n.d(e,"a",(function(){return C}));var i=n("fXoL"),o=n("bLCJ"),s=n("Kdsb"),r=n("ofXK"),a=n("k+W2");function c(t,e){if(1&t){const t=i.Wb();i.Vb(0,"div",9),i.Vb(1,"icon-button",10),i.dc("onClick",(function(e){i.Cc(t);const n=i.gc().$implicit;return i.gc().removeContact(n)})),i.Qb(2,"span",11),i.Ub(),i.Ub()}}function l(t,e){1&t&&i.Qb(0,"div",15)}function h(t,e){if(1&t&&(i.Vb(0,"div",12),i.Qb(1,"img",13),i.Lc(2,l,1,0,"div",14),i.Ub()),2&t){const t=i.gc().$implicit;i.Bb(1),i.nc("src",t.avatar+"?w=110&h=110&mode=crop&format=jpg",i.Fc),i.Bb(1),i.nc("ngIf",t.hasNew)}}function d(t,e){if(1&t&&(i.Vb(0,"div",20),i.Nc(1),i.hc(2,"date"),i.Ub()),2&t){const t=i.gc(2).$implicit;i.Bb(1),i.Pc(" ",i.jc(2,1,1e3*t.lastMessage,"yyyy\u5e74MM\u6708dd\u65e5 HH:mm"),"")}}function u(t,e){if(1&t&&i.Qb(0,"div",21),2&t){const t=i.gc(2).$implicit;i.nc("innerHtml",t.lastMessageText,i.Dc)}}function g(t,e){if(1&t&&(i.Vb(0,"div",16),i.Vb(1,"div",17),i.Nc(2),i.Ub(),i.Lc(3,d,3,4,"div",18),i.Lc(4,u,1,1,"div",19),i.Ub()),2&t){const t=i.gc().$implicit;i.Bb(2),i.Oc(t.name),i.Bb(1),i.nc("ngIf",!t.lastMessageText&&!!t.lastMessage),i.Bb(1),i.nc("ngIf",!!t.lastMessageText)}}function p(t,e){if(1&t&&(i.Vb(0,"div",22),i.Qb(1,"img",23),i.Ub()),2&t){const t=i.gc().$implicit;i.Bb(1),i.nc("src",t.avatar+"?w=110&h=110&mode=crop&format=jpg",i.Fc)}}function f(t,e){if(1&t&&(i.Vb(0,"div",24),i.Vb(1,"div",25),i.Nc(2),i.Ub(),i.Ub()),2&t){const t=i.gc().$implicit;i.Bb(2),i.Oc(t.name)}}function b(t,e){1&t&&i.Qb(0,"div",26)}function m(t,e){if(1&t){const t=i.Wb();i.Vb(0,"div",27),i.Vb(1,"icon-button",10),i.dc("onClick",(function(e){i.Cc(t);const n=i.gc().$implicit;return i.gc().removeContact(n)})),i.Qb(2,"span",11),i.Ub(),i.Ub()}}const v=function(t,e){return{active:t,stickyStyle:e}};function y(t,e){if(1&t){const t=i.Wb();i.Vb(0,"div",1),i.dc("click",(function(n){i.Cc(t);const o=e.$implicit;return i.gc().selectUser(o)})),i.Lc(1,c,3,0,"div",2),i.Lc(2,h,3,2,"div",3),i.Lc(3,g,5,3,"div",4),i.Lc(4,p,2,1,"div",5),i.Lc(5,f,3,1,"div",6),i.Lc(6,b,1,0,"div",7),i.Lc(7,m,3,0,"div",8),i.Ub()}if(2&t){const t=e.$implicit,n=i.gc();i.nc("ngClass",i.tc(8,v,(null==n.selectedUser?null:n.selectedUser.id)===t.id,n.fromSticky)),i.Bb(1),i.nc("ngIf",!n.fromSticky),i.Bb(1),i.nc("ngIf",!n.fromSticky),i.Bb(1),i.nc("ngIf",!n.fromSticky),i.Bb(1),i.nc("ngIf",n.fromSticky),i.Bb(1),i.nc("ngIf",n.fromSticky),i.Bb(1),i.nc("ngIf",n.fromSticky&&t.hasNew),i.Bb(1),i.nc("ngIf",n.fromSticky)}}let C=(()=>{class t{constructor(t){this.socketFacade=t,this.onSelectUser=new i.n,this.onRemoveUser=new i.n,this.fromSticky=!1}ngOnInit(){this.contacts$=this.socketFacade.contacts$}selectUser(t){var e;(null===(e=this.selectedUser)||void 0===e?void 0:e.id)!==t.id&&this.onSelectUser.emit(t)}removeContact(t){this.socketFacade.RemoveContact(t.id),this.onRemoveUser.emit()}}return t.\u0275fac=function(e){return new(e||t)(i.Pb(o.a))},t.\u0275cmp=i.Jb({type:t,selectors:[["you-chat-sidebar"]],inputs:{selectedUser:"selectedUser",fromSticky:"fromSticky"},outputs:{onSelectUser:"onSelectUser",onRemoveUser:"onRemoveUser"},decls:3,vars:3,consts:[["class","contact position-relative",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"contact","position-relative",3,"ngClass","click"],["class","contact-remove-button",4,"ngIf"],["class","mr-4 avatar-container",4,"ngIf"],["class","overflow-hidden",4,"ngIf"],["class","avatar-container mr-1 d-flex align-items-center justify-content-center stickyStyle",4,"ngIf"],["class","overflow-hidden name stickyStyle",4,"ngIf"],["class","has-new stickyStyle",4,"ngIf"],["class","contact-remove-button stickyStyle",4,"ngIf"],[1,"contact-remove-button"],[3,"onClick"],[1,"iconfont","iconguanbi"],[1,"mr-4","avatar-container"],[1,"avatar-sm",3,"src"],["class","has-new",4,"ngIf"],[1,"has-new"],[1,"overflow-hidden"],[1,"contact-name"],["class","text-secondary",4,"ngIf"],["class","text-secondary last-message",3,"innerHtml",4,"ngIf"],[1,"text-secondary"],[1,"text-secondary","last-message",3,"innerHtml"],[1,"avatar-container","mr-1","d-flex","align-items-center","justify-content-center","stickyStyle"],[1,"avatar-sm","stickyStyle",3,"src"],[1,"overflow-hidden","name","stickyStyle"],[1,"contact-name",2,"max-width","68px","font-size","12px"],[1,"has-new","stickyStyle"],[1,"contact-remove-button","stickyStyle"]],template:function(t,e){1&t&&(i.Vb(0,"perfect-scrollbar"),i.Lc(1,y,8,11,"div",0),i.hc(2,"async"),i.Ub()),2&t&&(i.Bb(1),i.nc("ngForOf",i.ic(2,1,e.contacts$)))},directives:[s.b,r.m,r.l,r.n,a.a],pipes:[r.b,r.e],styles:[".last-message[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"]}),t})()},"7K1u":function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var i=n("tWDZ"),o=n("Njeq"),s=n("8eqO"),r=n("lJxs"),a=n("3E0/"),c=n("3My9"),l=n("fXoL");let h=(()=>{class t{constructor(t,e,n,i){this._apiUrlHelper=t,this._httpClientHelper=e,this._commentTransFormer=n,this._utility=i}delaySomeMillsecond(t){var e=Date.now();return new Date(e+=t)}getComments(t,e,n=10,i=0,o=!1){const s=1===e?0:this.delaySomeMillsecond(200),c=this._apiUrlHelper.urlBuilder("comment-list",{id:t,page:e,pagesize:n,type:"1",orderBy:i,a:this._utility.isNews?"1":"",cinema:o?"7":"1"},this._utility.isNews?"NEWS_ENDPOINT":"");return this._httpClientHelper.get(c).pipe(Object(r.a)(t=>{var e=[],n=[];return t&&t.length>0&&(t[0].commHot&&(e=t[0].commHot.map(t=>this._commentTransFormer.fromList(t,this._utility.isNews))),t[0].commNormal&&(n=t[0].commNormal.map(t=>this._commentTransFormer.fromList(t,this._utility.isNews)))),{topComments:e,comments:n,count:t[0].childrenCount||t[0].recordSum||0}})).pipe(Object(a.a)(s))}}return t.\u0275fac=function(e){return new(e||t)(l.Zb(o.a),l.Zb(i.a),l.Zb(s.a),l.Zb(c.a))},t.\u0275prov=l.Lb({token:t,factory:t.\u0275fac}),t})()},"7jRU":function(t,e){var n=[].indexOf;t.exports=function(t,e){if(n)return t.indexOf(e);for(var i=0;i<t.length;++i)if(t[i]===e)return i;return-1}},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var i=n("n6bG"),o=n("gRHU"),s=n("quSY"),r=n("2QA8"),a=n("2fFW"),c=n("NJ4a");class l extends s.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=o.a;break;case 1:if(!t){this.destination=o.a;break}if("object"==typeof t){t instanceof l?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new h(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new h(this,t,e,n)}}[r.a](){return this}static create(t,e,n){const i=new l(t,e,n);return i.syncErrorThrowable=!1,i}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class h extends l{constructor(t,e,n,s){let r;super(),this._parentSubscriber=t;let a=this;Object(i.a)(e)?r=e:e&&(r=e.next,n=e.error,s=e.complete,e!==o.a&&(a=Object.create(e),Object(i.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=r,this._error=n,this._complete=s}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(c.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(c.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(c.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(i){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=i,t.syncErrorThrown=!0,!0):(Object(c.a)(i),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"8/JR":function(t,e,n){"use strict";var i=n("8T9/"),o=n("Ibf7");t.exports=function(t,e){var n=e||{},s={};return void 0===t&&(t={}),t.on=function(e,n){return s[e]?s[e].push(n):s[e]=[n],t},t.once=function(e,n){return n._once=!0,t.on(e,n),t},t.off=function(e,n){var i=arguments.length;if(1===i)delete s[e];else if(0===i)s={};else{var o=s[e];if(!o)return t;o.splice(o.indexOf(n),1)}return t},t.emit=function(){var e=i(arguments);return t.emitterSnapshot(e.shift()).apply(this,e)},t.emitterSnapshot=function(e){var r=(s[e]||[]).slice(0);return function(){var s=i(arguments),a=this||t;if("error"===e&&!1!==n.throws&&!r.length)throw 1===s.length?s[0]:s;return r.forEach((function(i){n.async?o(i,s,a):i.apply(a,s),i._once&&t.off(e,i)})),t}},t}},"8LU1":function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return a})),n.d(e,"d",(function(){return c})),n.d(e,"e",(function(){return s}));var i=n("fXoL");function o(t){return null!=t&&"false"!==`${t}`}function s(t,e=0){return function(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):e}function r(t){return Array.isArray(t)?t:[t]}function a(t){return null==t?"":"string"==typeof t?t:`${t}px`}function c(t){return t instanceof i.l?t.nativeElement:t}},"8T9/":function(t,e){t.exports=function(t,e){return Array.prototype.slice.call(t,e)}},"8V5e":function(t,e,n){"use strict";var i=n("LRne");const o=[{id:1,title:"\u7535\u5f71",slug:"movie",link:"/movie",ranklink:"/rank/movie",cid:"0,1,3",sysKey:"film",selectable:!0,filterKey:["movie","movies"]},{id:2,title:"\u7535\u89c6\u5267",slug:"drama",link:"/drama",ranklink:"/rank/tv",cid:"0,1,4",sysKey:"tv",selectable:!0,filterKey:["tv-series","drama"]},{id:3,title:"\u7efc\u827a",slug:"variety",link:"/variety",ranklink:"/rank/variety",cid:"0,1,5",selectable:!0},{id:4,title:"\u52a8\u6f2b",slug:"anime",link:"/anime",ranklink:"/rank/anime",cid:"0,1,6",selectable:!0},{id:5,title:"\u4f53\u80b2",slug:"sport",link:"/list",linkParams:{cid:"0,1,95"},cid:"0,1,95",selectable:!0,navOnly:!0},{id:6,title:"\u7eaa\u5f55\u7247",slug:"documentary",link:"/documentary",cid:"0,1,7",selectable:!0,navOnly:!0},{id:7,title:"\u534e\u4eba",slug:"chinese",link:"/short-videos",cid:"chinese",tagFilter:!0,selectable:!0},{id:8,title:"\u6e38\u620f",slug:"game",link:"/short-videos",cid:"game",sysKey:"games",tagFilter:!0,selectable:!0},{id:11,title:"\u65b0\u95fb",slug:"news",link:"/short-videos",tagFilter:!0,cid:"news",selectable:!0},{id:12,title:"\u5a31\u4e50",slug:"yule",link:"/short-videos",tagFilter:!0,cid:"yule",selectable:!0},{id:13,title:"\u751f\u6d3b",slug:"life",link:"/short-videos",tagFilter:!0,cid:"life",selectable:!0},{id:14,title:"\u97f3\u4e50",slug:"music",link:"/short-videos",tagFilter:!0,cid:"music",selectable:!0},{id:15,title:"\u65f6\u5c1a",slug:"fashion",link:"/short-videos",tagFilter:!0,cid:"fashion",selectable:!0},{id:16,title:"\u79d1\u6280",slug:"tech",link:"/short-videos",tagFilter:!0,cid:"tech",selectable:!0},{id:17,title:"\u5c0f\u89c6\u9891",slug:"svideo",link:"/short-videos",tagFilter:!0,cid:"svideo",selectable:!0}],s=[{id:7,title:"\u539f\u521b",slug:"selfLord",link:"/list",ranklink:"/rank/selflord-18",linkParams:{cid:"0,2,10,115"},cid:"0,2,10,115",selectable:!0},{id:1,title:"\u65e5\u97e9",slug:"japanKorea",link:"/list",ranklink:"/rank/japankorea-18",linkParams:{cid:"0,2,10,85"},cid:"0,2,10,85",selectable:!0},{id:2,title:"\u6b27\u7f8e",slug:"europe",link:"/list",ranklink:"/rank/western-18",linkParams:{cid:"0,2,10,86"},cid:"0,2,10,86",selectable:!0},{id:3,title:"\u56fd\u4ea7",slug:"china",link:"/list",ranklink:"/rank/china-18",linkParams:{cid:"0,2,10,87"},cid:"0,2,10,87",selectable:!0},{id:4,title:"\u5361\u901a",slug:"cartoon",link:"/list",ranklink:"/rank/cartoon-18",linkParams:{cid:"0,2,10,88"},cid:"0,2,10,88",selectable:!0},{id:5,title:"\u5176\u5b83",slug:"other",link:"/list",ranklink:"/rank/other-18",linkParams:{cid:"0,2,10,90"},cid:"0,2,10,90",selectable:!0},{id:6,title:"VR",slug:"vr",link:"/list",ranklink:"/rank/vr-18",linkParams:{cid:"0,2,10,112"},cid:"0,2,10,112",selectable:!0}];var r=n("AytR"),a=n("fXoL");n.d(e,"a",(function(){return c}));let c=(()=>{class t{constructor(){this.isAdult=2===r.a.cinema,this.categoryList=this.isAdult?s:o}getCategoryList(){return Object(i.a)(this.categoryList)}getCategoryListSelectable(){return Object(i.a)(this.categoryList.filter(t=>t.selectable))}getCategoryByUrl(t){return Object(i.a)(this.categoryList.filter(e=>e.filterKey?e.filterKey.indexOf(t)>-1:e.link==="/"+t))}getCategoryByCId(t){if(!t)return;let e=this.categoryList.filter(e=>e.cid===t.split(",").slice(0,3).join(","));return e.length>0?e[0]:(e=this.categoryList.filter(e=>e.cid===t),e.length>0?e[0]:void 0)}getCategoryByTitle(t){const e=this.categoryList.filter(e=>e.title===t);if(e.length>0)return e[0].slug}getCategoryBySlug(t){"movies"===t&&(t="movie"),"tv-series"===t&&(t="drama");const e=this.categoryList.filter(e=>e.slug===t);if(e.length>0)return e[0]}getSecondLevelCid(t){if(!t)return;const e=t.split(",");return e.length<4?t:e.slice(0,3).join(",")}getCategoryLink(t){let e;if(t.split(",").length>3)return e={url:"/list",params:t},e;const n=this.getCategoryByCId(t);return null!=n?(e={url:n.link,params:void 0},["sport","chinese","games"].indexOf(n.slug)>-1?e={url:"/list",params:n.cid}:n.tagFilter&&(e={url:"/list",params:n.slug})):e={url:"/list",params:{cid:"top"}},e}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=a.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},"8eqO":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n("UnVO"),o=n("fXoL");let s=(()=>{class t{fromList(t,e=!1){var n;return{commendId:e?t.comment.id:t.id,floor:t.louCeng,likes:t.likes||(null===(n=t.comment)||void 0===n?void 0:n.hit)||0,content:t.context,author:e?t.comment.nickName:t.nickName,authorId:e?t.comment.uid:t.uid,avatar:t.headImage,videoId:e?t.comment.vid:t.videoID,replyId:t.replyID,replyUserId:t.replyUID,replyNikcName:t.replyNickName,replyUserLevel:t.replyUserLevel,replyUserKey:t.replyUserKey,rawContext:t.rawContext,replyFloor:t.replyLouCeng,userLevelSymbol:i.a.getGIDResource(e?t.comment.gid:t.gid),isOfficalUP:t.isOfficalUP?t.isOfficalUP:!!t.comment&&t.comment.isOfficalUP,published:t.post_Date||"\u521a\u521a",liked:!!t.isLike&&t.isLike,deleted:t.isDeleted>0,blacklist:3===t.isDeleted,pollId:t.voteId,status:t.userStatus,children:t.children?t.children.map(t=>this.fromList(t,e)):[],level:t.userLevel||1,totalReplies:t.childrenCount}}fromGetCommentById(t){return{level:t.level||1,commendId:"",floor:t.louCeng,likes:"",content:t.context,author:t.nickName,authorId:t.uid,avatar:t.headImage,videoId:0,replyId:t.replyID,replyUserId:t.replyUID,replyNikcName:t.replyNickName,replyUserLevel:t.replyUserLevel,replyUserKey:t.replyUserKey,rawContext:t.rawContext,replyFloor:t.replyLouCeng,userLevelSymbol:t.userLevelPic.replace("assets/images/","/assets/images/membership/"),isOfficalUP:t.isOfficalUP?t.isOfficalUP:!!t.comment&&t.comment.isOfficalUP,published:t.post_Date,liked:!!t.isLike&&t.isLike,deleted:t.isDeleted>0,pollId:t.voteId,status:t.userStatus,totalReplies:0,children:[]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Lb({token:t,factory:t.\u0275fac}),t})()},"9+fh":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));const i=[{name:"\u963f\u5bcc\u6c57",english:"Afghanistan",code:"93",iso2:"AF",iso3:"AFG"},{name:"\u963f\u5c14\u5df4\u5c3c\u4e9a",english:"Albania",code:"355",iso2:"AL",iso3:"ALB"},{name:"\u963f\u5c14\u53ca\u5229\u4e9a",english:"Algeria",code:"213",iso2:"DZ",iso3:"DZA"},{name:"\u7f8e\u5c5e\u8428\u6469\u4e9a",english:"American Samoa",code:"1-684",iso2:"AS",iso3:"ASM"},{name:"\u5b89\u9053\u5c14",english:"Andorra",code:"376",iso2:"AD",iso3:"AND"},{name:"\u5b89\u54e5\u62c9",english:"Angola",code:"244",iso2:"AO",iso3:"AGO"},{name:"\u5b89\u572d\u62c9",english:"Anguilla",code:"1-264",iso2:"AI",iso3:"AIA"},{name:"\u5357\u6781\u6d32",english:"Antarctica",code:"672",iso2:"AQ",iso3:"ATA"},{name:"\u5b89\u63d0\u74dc\u548c\u5df4\u5e03\u8fbe",english:"Antigua and Barbuda",code:"1-268",iso2:"AG",iso3:"ATG"},{name:"\u963f\u6839\u5ef7",english:"Argentina",code:"54",iso2:"AR",iso3:"ARG"},{name:"\u4e9a\u7f8e\u5c3c\u4e9a",english:"Armenia",code:"374",iso2:"AM",iso3:"ARM"},{name:"\u963f\u9c81\u5df4",english:"Aruba",code:"297",iso2:"AW",iso3:"ABW"},{name:"\u6fb3\u5927\u5229\u4e9a",english:"Australia",code:"61",iso2:"AU",iso3:"AUS"},{name:"\u5965\u5730\u5229",english:"Austria",code:"43",iso2:"AT",iso3:"AUT"},{name:"\u963f\u585e\u62dc\u7586",english:"Azerbaijan",code:"994",iso2:"AZ",iso3:"AZE"},{name:"\u5df4\u54c8\u9a6c",english:"Bahamas",code:"1-242",iso2:"BS",iso3:"BHS"},{name:"\u5df4\u6797",english:"Bahrain",code:"973",iso2:"BH",iso3:"BHR"},{name:"\u5b5f\u52a0\u62c9\u56fd",english:"Bangladesh",code:"880",iso2:"BD",iso3:"BGD"},{name:"\u5df4\u5df4\u591a\u65af",english:"Barbados",code:"1-246",iso2:"BB",iso3:"BRB"},{name:"\u767d\u4fc4\u7f57\u65af",english:"Belarus",code:"375",iso2:"BY",iso3:"BLR"},{name:"\u6bd4\u5229\u65f6",english:"Belgium",code:"32",iso2:"BE",iso3:"BEL"},{name:"\u4f2f\u5229\u5179",english:"Belize",code:"501",iso2:"BZ",iso3:"BLZ"},{name:"\u8d1d\u5b81",english:"Benin",code:"229",iso2:"BJ",iso3:"BEN"},{name:"\u767e\u6155\u5927",english:"Bermuda",code:"1-441",iso2:"BM",iso3:"BMU"},{name:"\u4e0d\u4e39",english:"Bhutan",code:"975",iso2:"BT",iso3:"BTN"},{name:"\u73bb\u5229\u7ef4\u4e9a",english:"Bolivia",code:"591",iso2:"BO",iso3:"BOL"},{name:"\u6ce2\u65af\u5c3c\u4e9a\u548c\u9ed1\u585e\u54e5\u7ef4\u90a3",english:"Bosnia and Herzegovina",code:"387",iso2:"BA",iso3:"BIH"},{name:"\u535a\u8328\u74e6\u7eb3",english:"Botswana",code:"267",iso2:"BW",iso3:"BWA"},{name:"\u5df4\u897f",english:"Brazil",code:"55",iso2:"BR",iso3:"BRA"},{name:"\u82f1\u5c5e\u5370\u5ea6\u6d0b\u9886\u5730",english:"British Indian Ocean Territory",code:"246",iso2:"IO",iso3:"IOT"},{name:"\u82f1\u5c5e\u7ef4\u5c14\u4eac\u7fa4\u5c9b",english:"British Virgin Islands",code:"1-284",iso2:"VG",iso3:"VGB"},{name:"\u6587\u83b1",english:"Brunei",code:"673",iso2:"BN",iso3:"BRN"},{name:"\u4fdd\u52a0\u5229\u4e9a",english:"Bulgaria",code:"359",iso2:"BG",iso3:"BGR"},{name:"\u5e03\u57fa\u7eb3\u6cd5\u7d22",english:"Burkina Faso",code:"226",iso2:"BF",iso3:"BFA"},{name:"\u5e03\u9686\u8fea",english:"Burundi",code:"257",iso2:"BI",iso3:"BDI"},{name:"\u67ec\u57d4\u5be8",english:"Cambodia",code:"855",iso2:"KH",iso3:"KHM"},{name:"\u5580\u9ea6\u9686",english:"Cameroon",code:"237",iso2:"CM",iso3:"CMR"},{name:"\u52a0\u62ff\u5927",english:"Canada",code:"1",iso2:"CA",iso3:"CAN"},{name:"\u4f5b\u5f97\u89d2",english:"Cape Verde",code:"238",iso2:"CV",iso3:"CPV"},{name:"\u5f00\u66fc\u7fa4\u5c9b",english:"Cayman Islands",code:"1-345",iso2:"KY",iso3:"CYM"},{name:"\u4e2d\u975e\u5171\u548c\u56fd",english:"Central African Republic",code:"236",iso2:"CF",iso3:"CAF"},{name:"\u4e4d\u5f97",english:"Chad",code:"235",iso2:"TD",iso3:"TCD"},{name:"\u667a\u5229",english:"Chile",code:"56",iso2:"CL",iso3:"CHL"},{name:"\u4e2d\u56fd",english:"China",code:"86",iso2:"CN",iso3:"CHN"},{name:"\u5723\u8bde\u5c9b",english:"Christmas Island",code:"61",iso2:"CX",iso3:"CXR"},{name:"\u79d1\u79d1\u65af\u7fa4\u5c9b",english:"Cocos Islands",code:"61",iso2:"CC",iso3:"CCK"},{name:"\u54e5\u4f26\u6bd4\u4e9a",english:"Colombia",code:"57",iso2:"CO",iso3:"COL"},{name:"\u79d1\u6469\u7f57",english:"Comoros",code:"269",iso2:"KM",iso3:"COM"},{name:"\u5e93\u514b\u7fa4\u5c9b",english:"Cook Islands",code:"682",iso2:"CK",iso3:"COK"},{name:"\u54e5\u65af\u8fbe\u9ece\u52a0",english:"Costa Rica",code:"506",iso2:"CR",iso3:"CRI"},{name:"\u514b\u7f57\u5730\u4e9a",english:"Croatia",code:"385",iso2:"HR",iso3:"HRV"},{name:"\u53e4\u5df4",english:"Cuba",code:"53",iso2:"CU",iso3:"CUB"},{name:"\u5e93\u62c9\u7d22",english:"Curacao",code:"599",iso2:"CW",iso3:"CUW"},{name:"\u585e\u6d66\u8def\u65af",english:"Cyprus",code:"357",iso2:"CY",iso3:"CYP"},{name:"\u6377\u514b\u5171\u548c\u56fd",english:"Czech Republic",code:"420",iso2:"CZ",iso3:"CZE"},{name:"\u521a\u679c\u6c11\u4e3b\u5171\u548c\u56fd",english:"Democratic Republic of the Congo",code:"243",iso2:"CD",iso3:"COD"},{name:"\u4e39\u9ea6",english:"Denmark",code:"45",iso2:"DK",iso3:"DNK"},{name:"\u5409\u5e03\u63d0",english:"Djibouti",code:"253",iso2:"DJ",iso3:"DJI"},{name:"\u591a\u7c73\u5c3c\u52a0",english:"Dominica",code:"1-767",iso2:"DM",iso3:"DMA"},{name:"\u591a\u660e\u5c3c\u52a0\u5171\u548c\u56fd",english:"Dominican Republic",code:"1-809, 1-829, 1-849",iso2:"DO",iso3:"DOM"},{name:"\u4e1c\u5e1d\u6c76",english:"East Timor",code:"670",iso2:"TL",iso3:"TLS"},{name:"\u5384\u74dc\u591a\u5c14",english:"Ecuador",code:"593",iso2:"EC",iso3:"ECU"},{name:"\u57c3\u53ca",english:"Egypt",code:"20",iso2:"EG",iso3:"EGY"},{name:"\u8428\u5c14\u74e6\u591a",english:"El Salvador",code:"503",iso2:"SV",iso3:"SLV"},{name:"\u8d64\u9053\u51e0\u5185\u4e9a",english:"Equatorial Guinea",code:"240",iso2:"GQ",iso3:"GNQ"},{name:"\u5384\u7acb\u7279\u91cc\u4e9a",english:"Eritrea",code:"291",iso2:"ER",iso3:"ERI"},{name:"\u7231\u6c99\u5c3c\u4e9a",english:"Estonia",code:"372",iso2:"EE",iso3:"EST"},{name:"\u57c3\u585e\u4fc4\u6bd4\u4e9a",english:"Ethiopia",code:"251",iso2:"ET",iso3:"ETH"},{name:"\u798f\u514b\u5170\u7fa4\u5c9b",english:"Falkland Islands",code:"500",iso2:"FK",iso3:"FLK"},{name:"\u6cd5\u7f57\u7fa4\u5c9b",english:"Faroe Islands",code:"298",iso2:"FO",iso3:"FRO"},{name:"\u6590\u6d4e",english:"Fiji",code:"679",iso2:"FJ",iso3:"FJI"},{name:"\u82ac\u5170",english:"Finland",code:"358",iso2:"FI",iso3:"FIN"},{name:"\u6cd5\u56fd",english:"France",code:"33",iso2:"FR",iso3:"FRA"},{name:"\u6cd5\u5c5e\u6ce2\u5229\u5c3c\u897f\u4e9a",english:"French Polynesia",code:"689",iso2:"PF",iso3:"PYF"},{name:"\u52a0\u84ec",english:"Gabon",code:"241",iso2:"GA",iso3:"GAB"},{name:"\u5188\u6bd4\u4e9a",english:"Gambia",code:"220",iso2:"GM",iso3:"GMB"},{name:"\u683c\u9c81\u5409\u4e9a",english:"Georgia",code:"995",iso2:"GE",iso3:"GEO"},{name:"\u5fb7\u56fd",english:"Germany",code:"49",iso2:"DE",iso3:"DEU"},{name:"\u52a0\u7eb3",english:"Ghana",code:"233",iso2:"GH",iso3:"GHA"},{name:"\u76f4\u5e03\u7f57\u9640",english:"Gibraltar",code:"350",iso2:"GI",iso3:"GIB"},{name:"\u5e0c\u814a",english:"Greece",code:"30",iso2:"GR",iso3:"GRC"},{name:"\u683c\u9675\u5170",english:"Greenland",code:"299",iso2:"GL",iso3:"GRL"},{name:"\u683c\u6797\u7eb3\u8fbe",english:"Grenada",code:"1-473",iso2:"GD",iso3:"GRD"},{name:"\u5173\u5c9b",english:"Guam",code:"1-671",iso2:"GU",iso3:"GUM"},{name:"\u5371\u5730\u9a6c\u62c9",english:"Guatemala",code:"502",iso2:"GT",iso3:"GTM"},{name:"\u6839\u897f\u5c9b",english:"Guernsey",code:"44-1481",iso2:"GG",iso3:"GGY"},{name:"\u51e0\u5185\u4e9a",english:"Guinea",code:"224",iso2:"GN",iso3:"GIN"},{name:"\u51e0\u5185\u4e9a\u6bd4\u7ecd",english:"Guinea-Bissau",code:"245",iso2:"GW",iso3:"GNB"},{name:"\u572d\u4e9a\u90a3",english:"Guyana",code:"592",iso2:"GY",iso3:"GUY"},{name:"\u6d77\u5730",english:"Haiti",code:"509",iso2:"HT",iso3:"HTI"},{name:"\u6d2a\u90fd\u62c9\u65af",english:"Honduras",code:"504",iso2:"HN",iso3:"HND"},{name:"\u9999\u6e2f",english:"Hong Kong",code:"852",iso2:"HK",iso3:"HKG"},{name:"\u5308\u7259\u5229",english:"Hungary",code:"36",iso2:"HU",iso3:"HUN"},{name:"\u51b0\u5c9b",english:"Iceland",code:"354",iso2:"IS",iso3:"ISL"},{name:"\u5370\u5ea6",english:"India",code:"91",iso2:"IN",iso3:"IND"},{name:"\u5370\u5ea6\u5c3c\u897f\u4e9a",english:"Indonesia",code:"62",iso2:"ID",iso3:"IDN"},{name:"\u4f0a\u6717",english:"Iran",code:"98",iso2:"IR",iso3:"IRN"},{name:"\u4f0a\u62c9\u514b",english:"Iraq",code:"964",iso2:"IQ",iso3:"IRQ"},{name:"\u7231\u5c14\u5170",english:"Ireland",code:"353",iso2:"IE",iso3:"IRL"},{name:"\u9a6c\u6069\u5c9b",english:"Isle of Man",code:"44-1624",iso2:"IM",iso3:"IMN"},{name:"\u4ee5\u8272\u5217",english:"Israel",code:"972",iso2:"IL",iso3:"ISR"},{name:"\u610f\u5927\u5229",english:"Italy",code:"39",iso2:"IT",iso3:"ITA"},{name:"\u8c61\u7259\u6d77\u5cb8",english:"Ivory Coast",code:"225",iso2:"CI",iso3:"CIV"},{name:"\u7259\u4e70\u52a0",english:"Jamaica",code:"1-876",iso2:"JM",iso3:"JAM"},{name:"\u65e5\u672c",english:"Japan",code:"81",iso2:"JP",iso3:"JPN"},{name:"\u65b0\u6cfd\u897f",english:"Jersey",code:"44-1534",iso2:"JE",iso3:"JEY"},{name:"\u7ea6\u65e6",english:"Jordan",code:"962",iso2:"JO",iso3:"JOR"},{name:"\u54c8\u8428\u514b\u65af\u5766",english:"Kazakhstan",code:"7",iso2:"KZ",iso3:"KAZ"},{name:"\u80af\u5c3c\u4e9a",english:"Kenya",code:"254",iso2:"KE",iso3:"KEN"},{name:"\u57fa\u91cc\u5df4\u65af",english:"Kiribati",code:"686",iso2:"KI",iso3:"KIR"},{name:"\u79d1\u7d22\u6c83",english:"Kosovo",code:"383",iso2:"XK",iso3:"XKX"},{name:"\u79d1\u5a01\u7279",english:"Kuwait",code:"965",iso2:"KW",iso3:"KWT"},{name:"\u5409\u5c14\u5409\u65af\u65af\u5766",english:"Kyrgyzstan",code:"996",iso2:"KG",iso3:"KGZ"},{name:"\u8001\u631d",english:"Laos",code:"856",iso2:"LA",iso3:"LAO"},{name:"\u62c9\u8131\u7ef4\u4e9a",english:"Latvia",code:"371",iso2:"LV",iso3:"LVA"},{name:"\u9ece\u5df4\u5ae9",english:"Lebanon",code:"961",iso2:"LB",iso3:"LBN"},{name:"\u83b1\u7d22\u6258",english:"Lesotho",code:"266",iso2:"LS",iso3:"LSO"},{name:"\u5229\u6bd4\u91cc\u4e9a",english:"Liberia",code:"231",iso2:"LR",iso3:"LBR"},{name:"\u5229\u6bd4\u4e9a",english:"Libya",code:"218",iso2:"LY",iso3:"LBY"},{name:"\u5217\u652f\u6566\u58eb\u767b",english:"Liechtenstein",code:"423",iso2:"LI",iso3:"LIE"},{name:"\u7acb\u9676\u5b9b",english:"Lithuania",code:"370",iso2:"LT",iso3:"LTU"},{name:"\u5362\u68ee\u5821",english:"Luxembourg",code:"352",iso2:"LU",iso3:"LUX"},{name:"\u6fb3\u95e8",english:"Macau",code:"853",iso2:"MO",iso3:"MAC"},{name:"\u9a6c\u5176\u987f",english:"Macedonia",code:"389",iso2:"MK",iso3:"MKD"},{name:"\u9a6c\u8fbe\u52a0\u65af\u52a0",english:"Madagascar",code:"261",iso2:"MG",iso3:"MDG"},{name:"\u9a6c\u62c9\u7ef4",english:"Malawi",code:"265",iso2:"MW",iso3:"MWI"},{name:"\u9a6c\u6765\u897f\u4e9a",english:"Malaysia",code:"60",iso2:"MY",iso3:"MYS"},{name:"\u9a6c\u5c14\u4ee3\u592b",english:"Maldives",code:"960",iso2:"MV",iso3:"MDV"},{name:"\u9a6c\u91cc",english:"Mali",code:"223",iso2:"ML",iso3:"MLI"},{name:"\u9a6c\u8033\u4ed6",english:"Malta",code:"356",iso2:"MT",iso3:"MLT"},{name:"\u9a6c\u7ecd\u5c14\u7fa4\u5c9b",english:"Marshall Islands",code:"692",iso2:"MH",iso3:"MHL"},{name:"\u6bdb\u91cc\u5854\u5c3c\u4e9a",english:"Mauritania",code:"222",iso2:"MR",iso3:"MRT"},{name:"\u6bdb\u91cc\u6c42\u65af",english:"Mauritius",code:"230",iso2:"MU",iso3:"MUS"},{name:"\u9a6c\u7ea6\u7279",english:"Mayotte",code:"262",iso2:"YT",iso3:"MYT"},{name:"\u58a8\u897f\u54e5",english:"Mexico",code:"52",iso2:"MX",iso3:"MEX"},{name:"\u5bc6\u514b\u7f57\u5c3c\u897f\u4e9a",english:"Micronesia",code:"691",iso2:"FM",iso3:"FSM"},{name:"\u6469\u5c14\u591a\u74e6",english:"Moldova",code:"373",iso2:"MD",iso3:"MDA"},{name:"\u6469\u7eb3\u54e5",english:"Monaco",code:"377",iso2:"MC",iso3:"MCO"},{name:"\u8499\u53e4",english:"Mongolia",code:"976",iso2:"MN",iso3:"MNG"},{name:"\u9ed1\u5c71",english:"Montenegro",code:"382",iso2:"ME",iso3:"MNE"},{name:"\u8499\u7279\u585e\u62c9\u7279",english:"Montserrat",code:"1-664",iso2:"MS",iso3:"MSR"},{name:"\u6469\u6d1b\u54e5",english:"Morocco",code:"212",iso2:"MA",iso3:"MAR"},{name:"\u83ab\u6851\u6bd4\u514b",english:"Mozambique",code:"258",iso2:"MZ",iso3:"MOZ"},{name:"\u7f05\u7538",english:"Myanmar",code:"95",iso2:"MM",iso3:"MMR"},{name:"\u7eb3\u7c73\u6bd4\u4e9a",english:"Namibia",code:"264",iso2:"NA",iso3:"NAM"},{name:"\u7459\u9c81",english:"Nauru",code:"674",iso2:"NR",iso3:"NRU"},{name:"\u5c3c\u6cca\u5c14",english:"Nepal",code:"977",iso2:"NP",iso3:"NPL"},{name:"\u8377\u5170",english:"Netherlands",code:"31",iso2:"NL",iso3:"NLD"},{name:"\u8377\u5c5e\u5b89\u7684\u5217\u65af",english:"Netherlands Antilles",code:"599",iso2:"AN",iso3:"ANT"},{name:"\u65b0\u5580\u91cc\u591a\u5c3c\u4e9a",english:"New Caledonia",code:"687",iso2:"NC",iso3:"NCL"},{name:"\u65b0\u897f\u5170",english:"New Zealand",code:"64",iso2:"NZ",iso3:"NZL"},{name:"\u5c3c\u52a0\u62c9\u74dc",english:"Nicaragua",code:"505",iso2:"NI",iso3:"NIC"},{name:"\u5c3c\u65e5\u5c14",english:"Niger",code:"227",iso2:"NE",iso3:"NER"},{name:"\u5c3c\u65e5\u5229\u4e9a",english:"Nigeria",code:"234",iso2:"NG",iso3:"NGA"},{name:"\u7ebd\u57c3",english:"Niue",code:"683",iso2:"NU",iso3:"NIU"},{name:"\u5317\u671d\u9c9c",english:"North Korea",code:"850",iso2:"KP",iso3:"PRK"},{name:"\u5317\u9a6c\u91cc\u4e9a\u7eb3\u7fa4\u5c9b",english:"Northern Mariana Islands",code:"1-670",iso2:"MP",iso3:"MNP"},{name:"\u632a\u5a01",english:"Norway",code:"47",iso2:"NO",iso3:"NOR"},{name:"\u963f\u66fc",english:"Oman",code:"968",iso2:"OM",iso3:"OMN"},{name:"\u5df4\u57fa\u65af\u5766",english:"Pakistan",code:"92",iso2:"PK",iso3:"PAK"},{name:"\u5e15\u52b3",english:"Palau",code:"680",iso2:"PW",iso3:"PLW"},{name:"\u5df4\u52d2\u65af\u5766",english:"Palestine",code:"970",iso2:"PS",iso3:"PSE"},{name:"\u5df4\u62ff\u9a6c",english:"Panama",code:"507",iso2:"PA",iso3:"PAN"},{name:"\u5df4\u5e03\u4e9a\u65b0\u51e0\u5185\u4e9a",english:"Papua New Guinea",code:"675",iso2:"PG",iso3:"PNG"},{name:"\u5df4\u62c9\u572d",english:"Paraguay",code:"595",iso2:"PY",iso3:"PRY"},{name:"\u79d8\u9c81",english:"Peru",code:"51",iso2:"PE",iso3:"PER"},{name:"\u83f2\u5f8b\u5bbe",english:"Philippines",code:"63",iso2:"PH",iso3:"PHL"},{name:"\u76ae\u7279\u51ef\u6069",english:"Pitcairn",code:"64",iso2:"PN",iso3:"PCN"},{name:"\u6ce2\u5170",english:"Poland",code:"48",iso2:"PL",iso3:"POL"},{name:"\u8461\u8404\u7259",english:"Portugal",code:"351",iso2:"PT",iso3:"PRT"},{name:"\u6ce2\u591a\u9ece\u5404",english:"Puerto Rico",code:"1-787, 1-939",iso2:"PR",iso3:"PRI"},{name:"\u5361\u5854\u5c14",english:"Qatar",code:"974",iso2:"QA",iso3:"QAT"},{name:"\u521a\u679c\u5171\u548c\u56fd",english:"Republic of the Congo",code:"242",iso2:"CG",iso3:"COG"},{name:"\u56e2\u5706",english:"Reunion",code:"262",iso2:"RE",iso3:"REU"},{name:"\u7f57\u9a6c\u5c3c\u4e9a",english:"Romania",code:"40",iso2:"RO",iso3:"ROU"},{name:"\u4fc4\u56fd",english:"Russia",code:"7",iso2:"RU",iso3:"RUS"},{name:"\u5362\u65fa\u8fbe",english:"Rwanda",code:"250",iso2:"RW",iso3:"RWA"},{name:"\u5723\u5df4\u6cf0\u52d2\u7c73",english:"Saint Barthelemy",code:"590",iso2:"BL",iso3:"BLM"},{name:"\u5723\u8d6b\u52d2\u62ff",english:"Saint Helena",code:"290",iso2:"SH",iso3:"SHN"},{name:"\u5723\u57fa\u8328\u548c\u5c3c\u7ef4\u65af",english:"Saint Kitts and Nevis",code:"1-869",iso2:"KN",iso3:"KNA"},{name:"\u5723\u5362\u897f\u4e9a",english:"Saint Lucia",code:"1-758",iso2:"LC",iso3:"LCA"},{name:"\u5723\u9a6c\u4e01",english:"Saint Martin",code:"590",iso2:"MF",iso3:"MAF"},{name:"\u5723\u76ae\u57c3\u5c14\u548c\u5bc6\u514b\u9686",english:"Saint Pierre and Miquelon",code:"508",iso2:"PM",iso3:"SPM"},{name:"\u5723\u6587\u68ee\u7279\u548c\u683c\u6797\u7eb3\u4e01\u65af",english:"Saint Vincent and the Grenadines",code:"1-784",iso2:"VC",iso3:"VCT"},{name:"\u8428\u6469\u4e9a",english:"Samoa",code:"685",iso2:"WS",iso3:"WSM"},{name:"\u5723\u9a6c\u529b\u8bfa",english:"San Marino",code:"378",iso2:"SM",iso3:"SMR"},{name:"\u5723\u591a\u7f8e\u548c\u666e\u6797\u897f\u6bd4",english:"Sao Tome and Principe",code:"239",iso2:"ST",iso3:"STP"},{name:"\u6c99\u7279\u963f\u62c9\u4f2f",english:"Saudi Arabia",code:"966",iso2:"SA",iso3:"SAU"},{name:"\u585e\u5185\u52a0\u5c14",english:"Senegal",code:"221",iso2:"SN",iso3:"SEN"},{name:"\u585e\u5c14\u7ef4\u4e9a",english:"Serbia",code:"381",iso2:"RS",iso3:"SRB"},{name:"\u585e\u820c\u5c14",english:"Seychelles",code:"248",iso2:"SC",iso3:"SYC"},{name:"\u585e\u62c9\u5229\u6602",english:"Sierra Leone",code:"232",iso2:"SL",iso3:"SLE"},{name:"\u65b0\u52a0\u5761",english:"Singapore",code:"65",iso2:"SG",iso3:"SGP"},{name:"\u5723\u9a6c\u4e01\u5c9b",english:"Sint Maarten",code:"1-721",iso2:"SX",iso3:"SXM"},{name:"\u65af\u6d1b\u4f10\u514b",english:"Slovakia",code:"421",iso2:"SK",iso3:"SVK"},{name:"\u65af\u6d1b\u6587\u5c3c\u4e9a",english:"Slovenia",code:"386",iso2:"SI",iso3:"SVN"},{name:"\u6240\u7f57\u95e8\u7fa4\u5c9b",english:"Solomon Islands",code:"677",iso2:"SB",iso3:"SLB"},{name:"\u7d22\u9a6c\u91cc",english:"Somalia",code:"252",iso2:"SO",iso3:"SOM"},{name:"\u5357\u975e",english:"South Africa",code:"27",iso2:"ZA",iso3:"ZAF"},{name:"\u97e9\u56fd",english:"South Korea",code:"82",iso2:"KR",iso3:"KOR"},{name:"\u5357\u82cf\u4e39",english:"South Sudan",code:"211",iso2:"SS",iso3:"SSD"},{name:"\u897f\u73ed\u7259",english:"Spain",code:"34",iso2:"ES",iso3:"ESP"},{name:"\u65af\u91cc\u5170\u5361",english:"Sri Lanka",code:"94",iso2:"LK",iso3:"LKA"},{name:"\u82cf\u4e39",english:"Sudan",code:"249",iso2:"SD",iso3:"SDN"},{name:"\u82cf\u91cc\u5357",english:"Suriname",code:"597",iso2:"SR",iso3:"SUR"},{name:"\u65af\u74e6\u5c14\u5df4\u7fa4\u5c9b\u548c\u626c\u9a6c\u5ef6",english:"Svalbard and Jan Mayen",code:"47",iso2:"SJ",iso3:"SJM"},{name:"\u65af\u5a01\u58eb\u5170",english:"Swaziland",code:"268",iso2:"SZ",iso3:"SWZ"},{name:"\u745e\u5178",english:"Sweden",code:"46",iso2:"SE",iso3:"SWE"},{name:"\u745e\u58eb",english:"Switzerland",code:"41",iso2:"CH",iso3:"CHE"},{name:"\u53d9\u5229\u4e9a",english:"Syria",code:"963",iso2:"SY",iso3:"SYR"},{name:"\u53f0\u6e7e",english:"Taiwan",code:"886",iso2:"TW",iso3:"TWN"},{name:"\u5854\u5409\u514b\u65af\u5766",english:"Tajikistan",code:"992",iso2:"TJ",iso3:"TJK"},{name:"\u5766\u6851\u5c3c\u4e9a",english:"Tanzania",code:"255",iso2:"TZ",iso3:"TZA"},{name:"\u6cf0\u56fd",english:"Thailand",code:"66",iso2:"TH",iso3:"THA"},{name:"\u591a\u54e5",english:"Togo",code:"228",iso2:"TG",iso3:"TGO"},{name:"\u6258\u514b\u52b3",english:"Tokelau",code:"690",iso2:"TK",iso3:"TKL"},{name:"\u6c64\u52a0",english:"Tonga",code:"676",iso2:"TO",iso3:"TON"},{name:"\u7279\u7acb\u5c3c\u8fbe\u548c\u591a\u5df4\u54e5",english:"Trinidad and Tobago",code:"1-868",iso2:"TT",iso3:"TTO"},{name:"\u7a81\u5c3c\u65af",english:"Tunisia",code:"216",iso2:"TN",iso3:"TUN"},{name:"\u706b\u9e21",english:"Turkey",code:"90",iso2:"TR",iso3:"TUR"},{name:"\u571f\u5e93\u66fc\u65af\u5766",english:"Turkmenistan",code:"993",iso2:"TM",iso3:"TKM"},{name:"\u7279\u514b\u65af\u548c\u51ef\u79d1\u65af\u7fa4\u5c9b",english:"Turks and Caicos Islands",code:"1-649",iso2:"TC",iso3:"TCA"},{name:"\u56fe\u74e6\u5362",english:"Tuvalu",code:"688",iso2:"TV",iso3:"TUV"},{name:"\u7f8e\u5c5e\u7ef4\u5c14\u4eac\u7fa4\u5c9b",english:"U.S. Virgin Islands",code:"1-340",iso2:"VI",iso3:"VIR"},{name:"\u4e4c\u5e72\u8fbe",english:"Uganda",code:"256",iso2:"UG",iso3:"UGA"},{name:"\u4e4c\u514b\u5170",english:"Ukraine",code:"380",iso2:"UA",iso3:"UKR"},{name:"\u963f\u62c9\u4f2f\u8054\u5408\u914b\u957f\u56fd",english:"United Arab Emirates",code:"971",iso2:"AE",iso3:"ARE"},{name:"\u82f1\u56fd",english:"United Kingdom",code:"44",iso2:"GB",iso3:"GBR"},{name:"\u7f8e\u56fd",english:"United States",code:"1",iso2:"US",iso3:"USA"},{name:"\u4e4c\u62c9\u572d",english:"Uruguay",code:"598",iso2:"UY",iso3:"URY"},{name:"\u4e4c\u5179\u522b\u514b\u65af\u5766",english:"Uzbekistan",code:"998",iso2:"UZ",iso3:"UZB"},{name:"\u74e6\u52aa\u963f\u56fe",english:"Vanuatu",code:"678",iso2:"VU",iso3:"VUT"},{name:"\u6559\u5ef7",english:"Vatican",code:"379",iso2:"VA",iso3:"VAT"},{name:"\u59d4\u5185\u745e\u62c9",english:"Venezuela",code:"58",iso2:"VE",iso3:"VEN"},{name:"\u8d8a\u5357",english:"Vietnam",code:"84",iso2:"VN",iso3:"VNM"},{name:"\u74e6\u5229\u65af\u548c\u5bcc\u56fe\u7eb3",english:"Wallis and Futuna",code:"681",iso2:"WF",iso3:"WLF"},{name:"\u6492\u54c8\u62c9\u6c99\u6f20\u897f\u90e8",english:"Western Sahara",code:"212",iso2:"EH",iso3:"ESH"},{name:"\u4e5f\u95e8",english:"Yemen",code:"967",iso2:"YE",iso3:"YEM"},{name:"\u8d5e\u6bd4\u4e9a",english:"Zambia",code:"260",iso2:"ZM",iso3:"ZMB"},{name:"\u6d25\u5df4\u5e03\u97e6",english:"Zimbabwe",code:"263",iso2:"ZW",iso3:"ZWE"}]},"9U6K":function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var i=n("tWDZ"),o=n("Njeq"),s=n("3My9"),r=n("LRne"),a=n("ciLT"),c=n("YKxU"),l=n("lJxs"),h=n("3E0/"),d=n("fXoL");let u=(()=>{class t{constructor(t,e,n,i,o){this._http=t,this.userService=e,this.toast=n,this._apiHelper=i,this._utility=o}removeChannel(t){var e=this._apiHelper.NEWSAPI_ENDPOINT()+"/user/RemoveSubscription";return this._http.post(e,{keys:t},null).pipe()}getToken(){return Object.assign({},this._http.token)}getMyVideo(t){var e=this._apiHelper.NEWSAPI_ENDPOINT()+"/user/GetMyVideo";return this._http.post(e,t,null).pipe()}getMyVideoList(t,e,n){var i=this.getToken();if("video"===e)var o=this._apiHelper.NEWSAPI_ENDPOINT()+"/user/GetMyVideoList";else o=this._apiHelper.APIV3_ENDPOINT()+"/user/GetMyVideoList";return this._http.post(o,Object.assign(Object.assign({},t),{touid:n||i.uid}),null).pipe(Object(l.a)(t=>t.map(t=>({count:t.count,result:t.result.map(t=>(t.image=t.image.replace("s.","."),t))}))))}saveSVideo(t){this.getToken();var e=this._apiHelper.NEWSAPI_ENDPOINT()+"/user/SaveVideo";return this._http.post(e,t,null).pipe()}deleteVideo(t,e){if(this.getToken(),"video"===e)var n=this._apiHelper.NEWSAPI_ENDPOINT()+"/user/DeleteMyVideo";else n=this._apiHelper.APIV3_ENDPOINT()+"/user/DeleteMyVideo";return this._http.post(n,t,null).pipe()}updateMyIndex(t,e){var n=this._apiHelper.NEWSAPI_ENDPOINT()+"/user/UpdateMyIndex";return this._http.post(n,{id:t,status:e},null).pipe()}getSVideoPublishPoint(){var t=this._apiHelper.NEWSAPI_ENDPOINT()+"/user/getpublishpoint";return this._http.get(t,!1).pipe()}createSVideo(t){var e=this._apiHelper.NEWSAPI_ENDPOINT()+"/user/CreateVideoFile";return this._http.post(e,t,null).pipe()}getUserChannel(t){var e=this._apiHelper.NEWSAPI_ENDPOINT()+"/user/GetChannel";return this._http.post(e,{key:t},null).pipe()}getUserChannelVideoList(t,e){var n=this._apiHelper.NEWSAPI_ENDPOINT()+"/user/GetChannelVideoList";return this._http.post(n,{key:t,page:e},null).pipe()}subscriptChannel(t){if(this.getToken().uid){var e=this._apiHelper.NEWSAPI_ENDPOINT()+"/user/SubscriptChannel";return this._http.post(e,{key:t},null).pipe()}return this.toast.showBlackToast("\u8bf7\u5148\u767b\u5f55"),this.userService.showLoginDialog(!0),Object(r.a)(null)}getTagFilter(t){"game"==t&&(t="games");var e=this._apiHelper.NEWSAPI_ENDPOINT()+"/user/GetTagFilter";return this._http.post(e,{cid:t},null).pipe()}getChannelList(t,e,n){var i=this.getToken();i.page=t,i.order=e,i.size=n;var o=this._apiHelper.NEWSAPI_ENDPOINT()+"/user/GetSubscriptedList";return this._http.post(o,i,null).pipe()}getFollowlList(t,e,n,i,o){var s=this.getToken();s.tid=t,s.page=e,s.orderBy=n,s.size=i,s.tags=o;var r=this._apiHelper.APIV3_ENDPOINT()+"/user/GetAttensionList";return this._http.post(r,s,null).pipe()}SetAttension(t){var e=this.getToken();e.key=t;var n=this._apiHelper.APIV3_ENDPOINT()+"/user/SetAttension";return this._http.post(n,e,null).pipe(Object(h.a)(this.delaySomeMillsecond(500)),Object(l.a)(t=>{if(401===t.code)return t;let e;switch(t[0].attentionStatus){case 0:e="NotFollowed";break;case 1:e="Followed";break;case 2:e="BiWayFollowed"}return{userId:t[0].id,followStatus:e}}))}delaySomeMillsecond(t){var e=Date.now();return new Date(e+=t)}getVideoPublishPoint(){var t=this._utility.GetHost("https://m10.{Host}/v3/user/GetPublishPoint");return this._http.get(t,!1)}createVideo(t){var e=this._utility.GetHost("https://m10.{Host}/v3/user/CreateVideoFile");return this._http.post(e,t,null)}saveVideo(t){var e=this._utility.GetHost("https://m10.{Host}/v3/user/SaveVideo");return this._http.post(e,t,null).pipe()}getMyVideoById(t){var e=this._utility.GetHost(`https://m10.{Host}/v3/user/GetVideoInfoList?id=${t}`);return this._http.get(e).pipe(Object(l.a)(t=>t[0]))}deleteMediaById(t){var e=this._utility.GetHost("https://m10.{Host}/v3/user/DelVideoByVid");return this._http.post(e,{IdList:t},null)}updateMediaTitle(t,e){var n=this._utility.GetHost("https://m10.{Host}/v3/user/UpdVideoTitle");return this._http.post(n,{title:t,id:e},null)}}return t.\u0275fac=function(e){return new(e||t)(d.Zb(i.a),d.Zb(a.a),d.Zb(c.a),d.Zb(o.a),d.Zb(s.a))},t.\u0275prov=d.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},"9a+P":function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n("Njeq"),o=n("tWDZ"),s=n("lJxs"),r=n("fXoL");let a=(()=>{class t{constructor(t,e){this._apiUrlHelper=t,this._httpClientHelper=e}getHotAlbums(t,e){const n=this._apiUrlHelper.urlBuilder("get-hot-albums",{size:t,isfresh:e});return this._httpClientHelper.get(n).pipe(Object(s.a)(t=>t))}getSubAlbumList(t){const e=this._apiUrlHelper.urlBuilder("get-sub-album-list",{size:t});return this._httpClientHelper.get(e).pipe(Object(s.a)(t=>t))}getSubAlbumRndList(t){const e=this._apiUrlHelper.urlBuilder("get-sub-album-rnd-list",{label:t,size:16});return this._httpClientHelper.get(e).pipe(Object(s.a)(t=>t))}getHotUsers(t){const e=this._apiUrlHelper.urlBuilder("get-hot-users",{size:t});return this._httpClientHelper.get(e).pipe(Object(s.a)(t=>t))}getAlbumLabels(){const t=this._apiUrlHelper.urlBuilder("get-ablum-labels",{});return this._httpClientHelper.get(t).pipe(Object(s.a)(t=>t.map((t,e)=>({title:t,id:e}))))}getAlbumSubLabels(t){const e=this._apiUrlHelper.urlBuilder("get-album-sub-labels",{tag:t});return this._httpClientHelper.get(e).pipe(Object(s.a)(t=>t))}getDiscoveryListByLabel(t){const e=this._apiUrlHelper.urlBuilder("get-album-list-by-label",{page:t.page,size:t.size,tag:t.tag,label:t.label,key:t.key?t.key:"",region:t.region?t.region:""});return this._httpClientHelper.get(e).pipe(Object(s.a)(t=>t[0]))}}return t.\u0275fac=function(e){return new(e||t)(r.Zb(i.a),r.Zb(o.a))},t.\u0275prov=r.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},"9ppp":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));const i=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},"A/ap":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={update:function(){if("undefined"!=typeof window&&"function"==typeof window.addEventListener){var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}}),n=function(){};window.addEventListener("testPassiveEventSupport",n,e),window.removeEventListener("testPassiveEventSupport",n,e),i.hasSupport=t}}};i.update(),e.default=i},ANSy:function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var i=n("fXoL"),o=n("ofXK"),s=n("3Pt+");const r=function(t){return{checked:t}};function a(t,e){if(1&t){const t=i.Wb();i.Vb(0,"label",2),i.Vb(1,"span",3),i.Vb(2,"input",4),i.dc("click",(function(n){i.Cc(t);const o=e.index;return i.gc(2).select(o)})),i.Ub(),i.Qb(3,"span",5),i.Ub(),i.Vb(4,"span",6),i.Nc(5),i.Ub(),i.Ub()}if(2&t){const t=e.$implicit,n=e.index,o=i.gc(2);i.Bb(1),i.nc("ngClass",i.sc(2,r,o.selectedIndex===n)),i.Bb(4),i.Oc(t)}}function c(t,e){if(1&t&&(i.Tb(0),i.Lc(1,a,6,4,"label",1),i.Sb()),2&t){const t=i.gc();i.Bb(1),i.nc("ngForOf",t.options)}}function l(t,e){if(1&t&&(i.Vb(0,"span",6),i.Nc(1),i.Ub()),2&t){const t=i.gc().$implicit;i.Bb(1),i.Oc(t.title)}}function h(t,e){if(1&t){const t=i.Wb();i.Vb(0,"span",11),i.Vb(1,"input",12),i.dc("ngModelChange",(function(e){return i.Cc(t),i.gc().$implicit.value=e}))("change",(function(e){return i.Cc(t),i.gc(3).emitChange()})),i.Ub(),i.Ub()}if(2&t){const t=i.gc().$implicit;i.Bb(1),i.oc("placeholder",t.placeholder?t.placeholder:"\u8bf7\u8f93\u5165"+t.title),i.nc("ngModel",t.value)}}const d=function(t){return{"equal-width":t}};function u(t,e){if(1&t){const t=i.Wb();i.Vb(0,"label",8),i.Vb(1,"span",3),i.Vb(2,"input",4),i.dc("click",(function(n){i.Cc(t);const o=e.index;return i.gc(2).selectMulti(o)})),i.Ub(),i.Qb(3,"span",5),i.Ub(),i.Lc(4,l,2,1,"span",9),i.Lc(5,h,2,2,"span",10),i.Ub()}if(2&t){const t=e.$implicit,n=i.gc(2);i.nc("ngClass",i.sc(4,d,n.equalWidth)),i.Bb(1),i.nc("ngClass",i.sc(6,r,t.selected)),i.Bb(3),i.nc("ngIf",!n.equalWidth||!t.customInput||t.customInput&&!t.selected),i.Bb(1),i.nc("ngIf",!n.equalWidth&&t.customInput||n.equalWidth&&t.customInput&&t.selected)}}function g(t,e){if(1&t&&(i.Tb(0),i.Lc(1,u,6,8,"label",7),i.Sb()),2&t){const t=i.gc();i.Bb(1),i.nc("ngForOf",t.multiOptions)}}let p=(()=>{class t{constructor(){this.isMultiSelection=!1,this.clearOtherOption="",this.options=["option1","option2"],this.multiOptions=[{title:"option1",selected:!1,customInput:!1},{title:"option2",selected:!1,customInput:!1}],this.onChange=new i.n,this.onMultiChange=new i.n,this.selectedIndex=0,this.equalWidth=!1}get classAttribute(){return{"d-flex":this.isMultiSelection,"flex-wrap":this.isMultiSelection}}ngOnInit(){}select(t){this.selectedIndex!==t&&(this.selectedIndex=t,this.onChange.emit(this.selectedIndex))}selectMulti(t){this.multiOptions[t].title===this.clearOtherOption?this.multiOptions[t].selected||(this.multiOptions=this.multiOptions.map(t=>Object.assign(Object.assign({},t),{selected:!1}))):this.multiOptions.filter(t=>{t.title===this.clearOtherOption&&(t.selected=!1)}),this.multiOptions[t].selected=!this.multiOptions[t].selected,this.onMultiChange.emit(this.multiOptions)}emitChange(){this.onMultiChange.emit(this.multiOptions)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Jb({type:t,selectors:[["app-dn-radio"]],hostVars:2,hostBindings:function(t,e){2&t&&i.Db(e.classAttribute)},inputs:{isMultiSelection:"isMultiSelection",clearOtherOption:"clearOtherOption",options:"options",multiOptions:"multiOptions",selectedIndex:"selectedIndex",equalWidth:"equalWidth"},outputs:{onChange:"onChange",onMultiChange:"onMultiChange"},decls:2,vars:2,consts:[[4,"ngIf"],["style","cursor: pointer",4,"ngFor","ngForOf"],[2,"cursor","pointer"],[1,"dn-radio",3,"ngClass"],["type","radio",1,"dn-radio-input",3,"click"],[1,"dn-radio-inner"],[1,"dn-radio-label"],["style","cursor: pointer",3,"ngClass",4,"ngFor","ngForOf"],[2,"cursor","pointer",3,"ngClass"],["class","dn-radio-label",4,"ngIf"],["class","dn-input",4,"ngIf"],[1,"dn-input"],["type","input","required","",1,"dn-input","input-box","sm",3,"placeholder","ngModel","ngModelChange","change"]],template:function(t,e){1&t&&(i.Lc(0,c,2,1,"ng-container",0),i.Lc(1,g,2,1,"ng-container",0)),2&t&&(i.nc("ngIf",!e.isMultiSelection),i.Bb(1),i.nc("ngIf",e.isMultiSelection))},directives:[o.n,o.m,o.l,s.a,s.q,s.k,s.m],styles:['.dn-radio[_ngcontent-%COMP%]{box-sizing:border-box;padding:0;color:rgba(0,0,0,.65);display:inline-block;font-variant:tabular-nums;font-feature-settings:"tnum";list-style:none;position:relative;margin:0;top:0;line-height:1;white-space:nowrap;vertical-align:text-bottom;outline:0;cursor:pointer}.dn-radio-input[_ngcontent-%COMP%]{opacity:0;display:none}.dn-radio-inner[_ngcontent-%COMP%]{position:relative;top:0;left:0;display:block;width:16px;height:16px;background-color:transparent;border:1px solid #dedede;-webkit-transition:all .3s;transition:all .3s}.dn-radio-inner[_ngcontent-%COMP%]:after{position:absolute;top:3px;left:3px;display:table;width:8px;height:8px;background-color:#00c0ff;border-top:0;border-left:0;-webkit-transform:scale(0);transform:scale(0);opacity:0;-webkit-transition:all .3s cubic-bezier(.78,.14,.15,.86);transition:all .3s cubic-bezier(.78,.14,.15,.86);content:" "}.checked[_ngcontent-%COMP%]   .dn-radio-inner[_ngcontent-%COMP%]{border-color:#00c0ff}.checked[_ngcontent-%COMP%]   .dn-radio-inner[_ngcontent-%COMP%]:after{-webkit-transform:scale(1);transform:scale(1);opacity:1;-webkit-transition:all .3s cubic-bezier(.78,.14,.15,.86);transition:all .3s cubic-bezier(.78,.14,.15,.86)}.dn-radio-label[_ngcontent-%COMP%]{margin-left:5px}span.dn-input[_ngcontent-%COMP%]{margin-left:.5em}.equal-width[_ngcontent-%COMP%]{width:16em}[_nghost-%COMP%]{margin-left:-.75em}.input-box[_ngcontent-%COMP%]{background-color:#373843;color:#fff}.light[_nghost-%COMP%]   .input-box[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .input-box[_ngcontent-%COMP%]{background-color:#eee;color:#333}']}),t})()},ANjH:function(t,e,n){"use strict";n.d(e,"a",(function(){return l})),n.d(e,"b",(function(){return a}));var i=n("bCCX"),o=function(){return Math.random().toString(36).substring(7).split("").join(".")},s={INIT:"@@redux/INIT"+o(),REPLACE:"@@redux/REPLACE"+o(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+o()}};function r(t){if("object"!=typeof t||null===t)return!1;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function a(t,e,n){var o;if("function"==typeof e&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"==typeof e&&void 0===n&&(n=e,e=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(a)(t,e)}if("function"!=typeof t)throw new Error("Expected the reducer to be a function.");var c=t,l=e,h=[],d=h,u=!1;function g(){d===h&&(d=h.slice())}function p(){if(u)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return l}function f(t){if("function"!=typeof t)throw new Error("Expected the listener to be a function.");if(u)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribelistener for more details.");var e=!0;return g(),d.push(t),function(){if(e){if(u)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribelistener for more details.");e=!1,g();var n=d.indexOf(t);d.splice(n,1),h=null}}}function b(t){if(!r(t))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===t.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(u)throw new Error("Reducers may not dispatch actions.");try{u=!0,l=c(l,t)}finally{u=!1}for(var e=h=d,n=0;n<e.length;n++)(0,e[n])();return t}function m(t){if("function"!=typeof t)throw new Error("Expected the nextReducer to be a function.");c=t,b({type:s.REPLACE})}function v(){var t,e=f;return(t={subscribe:function(t){if("object"!=typeof t||null===t)throw new TypeError("Expected the observer to be an object.");function n(){t.next&&t.next(p())}return n(),{unsubscribe:e(n)}}})[i.a]=function(){return this},t}return b({type:s.INIT}),(o={dispatch:b,subscribe:f,getState:p,replaceReducer:m})[i.a]=v,o}function c(t,e){var n=e&&e.type;return"Given "+(n&&'action "'+String(n)+'"'||"an action")+', reducer "'+t+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function l(t){for(var e=Object.keys(t),n={},i=0;i<e.length;i++){var o=e[i];"function"==typeof t[o]&&(n[o]=t[o])}var r,a=Object.keys(n);try{!function(t){Object.keys(t).forEach((function(e){var n=t[e];if(void 0===n(void 0,{type:s.INIT}))throw new Error('Reducer "'+e+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:s.PROBE_UNKNOWN_ACTION()}))throw new Error('Reducer "'+e+"\" returned undefined when probed with a random type. Don't try to handle "+s.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')}))}(n)}catch(l){r=l}return function(t,e){if(void 0===t&&(t={}),r)throw r;for(var i=!1,o={},s=0;s<a.length;s++){var l=a[s],h=t[l],d=(0,n[l])(h,e);if(void 0===d){var u=c(l,e);throw new Error(u)}o[l]=d,i=i||d!==h}return(i=i||a.length!==Object.keys(t).length)?o:t}}},AdPF:function(t,e,n){var i=n("yeub");t.exports=function(t){var e=t.xdomain,n=t.xscheme,o=t.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!e||i))return new XMLHttpRequest}catch(s){}try{if("undefined"!=typeof XDomainRequest&&!n&&o)return new XDomainRequest}catch(s){}if(!e)try{return new(self[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(s){}}},Agem:function(t,e,n){"use strict";n.d(e,"a",(function(){return v}));var i=n("etJ/"),o=n("3My9"),s=n("KTAx"),r=n("fXoL"),a=n("ofXK"),c=n("tyNb");function l(t,e){if(1&t&&(r.Vb(0,"div",15),r.Vb(1,"span"),r.Nc(2),r.Ub(),r.Vb(3,"span"),r.Nc(4),r.Ub(),r.Vb(5,"span"),r.Nc(6),r.Ub(),r.Vb(7,"span"),r.Nc(8),r.Ub(),r.Ub()),2&t){const t=r.gc().$implicit;r.Bb(2),r.Oc(t.cid),r.Bb(2),r.Oc(t.region),r.Bb(2),r.Oc(t.published),r.Bb(2),r.Oc(t.language)}}function h(t,e){if(1&t&&(r.Vb(0,"div",15),r.Vb(1,"span"),r.Nc(2),r.Ub(),r.Vb(3,"span"),r.Nc(4),r.Ub(),r.Vb(5,"span"),r.Nc(6),r.Ub(),r.Vb(7,"span"),r.Nc(8),r.Ub(),r.Ub()),2&t){const t=r.gc().$implicit;r.Bb(2),r.Oc(t.cidMapperArray[0]),r.Bb(2),r.Oc(t.cidMapperArray[1]),r.Bb(2),r.Oc(t.cidMapperArray.length>2?t.cidMapperArray[2]:t.region),r.Bb(2),r.Oc(t.cidMapperArray.length>2?t.region:t.published)}}const d=function(t){return{light:t}},u=function(){return["/play"]},g=function(t){return{id:t,a:1}};function p(t,e){if(1&t&&(r.Vb(0,"div",9),r.Vb(1,"div"),r.Vb(2,"span",10),r.Qb(3,"span",11),r.Ub(),r.Vb(4,"a",12),r.Nc(5),r.Ub(),r.Ub(),r.Lc(6,l,9,4,"div",13),r.Lc(7,h,9,4,"div",13),r.Vb(8,"div",14),r.Nc(9),r.Ub(),r.Ub()),2&t){const t=e.$implicit,n=e.index,i=r.gc(3);r.Bb(3),r.Eb("number-",n+1,""),r.nc("ngClass",r.sc(11,d,!i.isDark)),r.Bb(1),r.oc("title",t.title),r.nc("routerLink",r.rc(13,u))("queryParams",r.sc(14,g,t.key)),r.Bb(1),r.Oc(t.title),r.Bb(1),r.nc("ngIf",t.cidMapperArray.length<=1),r.Bb(1),r.nc("ngIf",t.cidMapperArray.length>1),r.Bb(2),r.Pc(" ",t.rating," ")}}function f(t,e){if(1&t&&(r.Vb(0,"div",6),r.Vb(1,"div",7),r.Lc(2,p,10,16,"div",8),r.hc(3,"slice"),r.Ub(),r.Ub()),2&t){const t=r.gc(2);r.Bb(2),r.nc("ngForOf",r.kc(3,1,t.videos,0,9))}}const b=function(t){return{fixed:t}};function m(t,e){if(1&t&&(r.Vb(0,"div",1),r.Vb(1,"div",2),r.Qb(2,"div",3),r.Vb(3,"h3",4),r.Nc(4),r.Ub(),r.Ub(),r.Lc(5,f,4,5,"div",5),r.Ub()),2&t){const t=r.gc();r.nc("ngClass",r.sc(4,b,t.fixed)),r.Bb(3),r.nc("routerLink",t.moreLink),r.Bb(1),r.Pc(" ",t.title,"\xb7\u6392\u884c\u699c "),r.Bb(1),r.nc("ngIf",t.videos.length)}}let v=(()=>{class t{constructor(t,e,n){this._rankedVideosService=t,this._storage=e,this._utility=n,this.videos=[],this.fixed=!0,this.isDark=!1,this.isDark=!!parseInt(this._storage.GetConfig().isDark||"1")}ngOnInit(){this._rankedVideosService.rankedVideosSource$.subscribe(t=>{const e=t.find(t=>t.cid===this.cid);if(e){for(var n=0;n<e.items.length;++n)e.items[n].title=e.items[n].title.replace("(\u67aa\u7248\u614e\u5165)","").replace("(\u97e9\u7248\u542c\u8bd1)","");this.videos=e.items}}),this._utility.GetOrCreateSubscript("theme.change").subscribe(t=>{this.isDark="dark"==t})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(s.a),r.Pb(i.a),r.Pb(o.a))},t.\u0275cmp=r.Jb({type:t,selectors:[["app-top-ranked-videos"]],inputs:{cid:"cid",videos:"videos",title:"title",moreLink:"moreLink",fixed:"fixed"},decls:1,vars:1,consts:[["class","top-ranked",3,"ngClass",4,"ngIf"],[1,"top-ranked",3,"ngClass"],[1,"header","d-flex","align-items-center"],[1,"logo-icon"],[1,"mb-0",2,"cursor","pointer",3,"routerLink"],["class","content",4,"ngIf"],[1,"content"],[1,"ranked-items"],["class","rank",4,"ngFor","ngForOf"],[1,"rank"],[1,"rank-pos"],[3,"ngClass"],[3,"routerLink","title","queryParams"],["class","tags",4,"ngIf"],[1,"rate"],[1,"tags"]],template:function(t,e){1&t&&r.Lc(0,m,6,6,"div",0),2&t&&r.nc("ngIf",e.videos.length)},directives:[a.n,a.l,c.e,a.m,c.g],pipes:[a.v],styles:[".text-gray[_ngcontent-%COMP%]{color:#f8f8f8!important}.text-light[_ngcontent-%COMP%]{color:hsla(0,0%,100%,.4)!important}.light[_ngcontent-%COMP%]   .text-light[_ngcontent-%COMP%]{color:#888!important}.text-large[_ngcontent-%COMP%]{font-size:18px}text-medium[_ngcontent-%COMP%]{font-size:16px}.text-small[_ngcontent-%COMP%]{font-size:13px}.dn-button[_ngcontent-%COMP%]{border:none;outline:none!important;display:block;padding:6px 8px;width:auto;min-width:100px;margin:0 .4rem;border-radius:0;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;text-align:center;color:#fff!important;background-color:#373843}.light[_ngcontent-%COMP%]   .dn-button[_ngcontent-%COMP%]{background-color:#777}.dn-button[_ngcontent-%COMP%]:hover{background-color:hsla(0,0%,40%,.2)}.dn-button-plain[_ngcontent-%COMP%]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border:1px solid silver;color:#000!important;background-color:#fff;padding:6px 20px;cursor:pointer}.dn-button-plain[_ngcontent-%COMP%]:hover{background-color:#cacaca;color:#fff!important}.dn-button-outline[_ngcontent-%COMP%]{outline:none!important;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border:2px solid silver;border-radius:0;background-color:#fff;padding:2px 14px;cursor:pointer}.dn-button-outline[_ngcontent-%COMP%]:hover{background-color:#cacaca;color:#fff!important}.dn-button-outline.orange[_ngcontent-%COMP%]{color:#f49800;border-color:#f49800;background-color:#434343}.dn-button-outline.orange[_ngcontent-%COMP%]:hover{color:#fe9e00!important;border-color:#fe9e00!important;background-color:#000}.dn-button-blue[_ngcontent-%COMP%]{color:#fff!important;background-color:#00a8ec!important}.dn-button-blue[_ngcontent-%COMP%]:hover{background-color:#00b6ff!important}.dn-button-disable[_ngcontent-%COMP%]{cursor:default;color:hsla(0,0%,100%,.2)!important;background-color:hsla(0,0%,40%,.2)!important}.light[_ngcontent-%COMP%]   .dn-button-disable[_ngcontent-%COMP%]{color:#a0a0a0!important}.dn-button-orange[_ngcontent-%COMP%]{color:#fff!important;background-color:#f49800}.dn-button-orange[_ngcontent-%COMP%]:hover{background-color:#fe9e00}.dn-button-gold[_ngcontent-%COMP%]{color:#fff!important;background-color:#f49800!important}.dn-button-gold[_ngcontent-%COMP%]:hover{background-color:#fe9e00!important}.dn-button-red[_ngcontent-%COMP%]{color:#fff!important}.dn-button-red[_ngcontent-%COMP%], .dn-button-red[_ngcontent-%COMP%]:hover{background-color:#00c0ff}.dn-button-large[_ngcontent-%COMP%]{padding:10px 18px}.dn-play-button[_ngcontent-%COMP%]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;padding:4px 12px;border-radius:3px;font-size:16px;display:inline-block;color:#fff!important;background-color:#f00000}.dn-play-button[_ngcontent-%COMP%]:hover{background-color:#f10000}.dn-play-button[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{font-size:20px;vertical-align:middle}.dn-play-button[_ngcontent-%COMP%]   .btn-text[_ngcontent-%COMP%]{display:inline-block;border-left:1px solid #fff;padding:3px 8px 3px 10px;vertical-align:middle}.dn-btn-load-more[_ngcontent-%COMP%]{cursor:pointer;padding:5px 15px}.link-blue[_ngcontent-%COMP%]{color:#00a8ec}.link-blue[_ngcontent-%COMP%]:hover{color:#434343}.red[_ngcontent-%COMP%]{color:#f00000}.rose[_ngcontent-%COMP%]{color:#ff01ff}.orange[_ngcontent-%COMP%]{color:#fe9e00}.header[_ngcontent-%COMP%]{padding:15px 0 33px}.top-ranked.fixed[_ngcontent-%COMP%]{z-index:102;position:absolute;right:1px;top:0;padding:0}.top-ranked.fixed[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:1em 1em 1.6em}.top-ranked.fixed[_ngcontent-%COMP%]   .ranked-items[_ngcontent-%COMP%]{margin-bottom:7px;padding:0}.ranked-items[_ngcontent-%COMP%]{margin-bottom:25px;padding:15px 0 0}.rank[_ngcontent-%COMP%]{position:relative;padding:0 28px 1px 64px;vertical-align:top;margin-bottom:13px;font-size:16px}.rank[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .rank[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.rank[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{line-height:26px;display:block;padding-right:38px;width:100%}.rank-pos[_ngcontent-%COMP%]{font-size:16px;position:absolute;height:26px;width:26px;top:-.6em;left:10px;text-align:center;color:#fff;line-height:26px;padding:1em 0}.rank1[_ngcontent-%COMP%]{color:#e7a200}.rank2[_ngcontent-%COMP%]{color:#b85702}.rank3[_ngcontent-%COMP%]{color:#a33407}.icon-rank-nochange[_ngcontent-%COMP%], .icon-rankdown[_ngcontent-%COMP%], .icon-rankup[_ngcontent-%COMP%]{position:absolute;top:6px;right:10px}.more-link[_ngcontent-%COMP%]{display:block;text-align:center;background-color:#e8e8e8;padding:4px 0;color:#666}.more-link[_ngcontent-%COMP%]:hover{background-color:#eee;color:#000}.top-ranked[_ngcontent-%COMP%]{width:100%}.top-ranked.fixed[_ngcontent-%COMP%]{width:420px;padding-right:6px}@media (max-width:1678px){.tags[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:48px!important}.ranked-items[_ngcontent-%COMP%]{margin-bottom:4px}}@media (min-width:1679px) and (max-width:1919px){.top-ranked.fixed[_ngcontent-%COMP%]{width:422px!important;padding-right:0!important}.top-ranked.fixed[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding-bottom:2.1em!important}.top-ranked[_ngcontent-%COMP%]   .rank[_ngcontent-%COMP%]{margin-bottom:.8em}.ranked-items[_ngcontent-%COMP%]{margin-bottom:5px}}.content[_ngcontent-%COMP%]{background-color:#1c1d2f;padding:1em 1em 0}.light[_nghost-%COMP%]   .content[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .content[_ngcontent-%COMP%]{background-color:#fafafa!important;border-color:#f8f8f8!important}.light[_nghost-%COMP%]   .tags[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .tags[_ngcontent-%COMP%]{color:#888}.tags[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:.2em 1em}.light[_nghost-%COMP%]   .tags[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .tags[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background-color:#f4f4f4}.tags[_ngcontent-%COMP%]{margin-top:.5em;margin-bottom:1em;font-size:12px;color:hsla(0,0%,100%,.4)}.light[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]{color:#888}.tags[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background-color:#2b2c3a;display:inline-block;padding:1px 0;margin-right:.5em;width:56px;text-align:center}.light[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background-color:#f8f8f8}.iconfont[_ngcontent-%COMP%]{margin-right:.5em}.light[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]:hover, h3[_ngcontent-%COMP%]:hover{color:#00c0ff}.rate[_ngcontent-%COMP%]{position:absolute;right:2em;top:0;color:#ffb400;font-weight:700;font-size:16px}.number-1[_ngcontent-%COMP%], .number-2[_ngcontent-%COMP%], .number-3[_ngcontent-%COMP%], .number-4[_ngcontent-%COMP%], .number-5[_ngcontent-%COMP%], .number-6[_ngcontent-%COMP%], .number-7[_ngcontent-%COMP%], .number-8[_ngcontent-%COMP%], .number-9[_ngcontent-%COMP%]{display:inline-block;background:url(/assets/images/numbers.png) no-repeat;overflow:hidden;text-indent:-9999px;text-align:left}.number-1[_ngcontent-%COMP%]{background-position:0 0;width:17px;height:21px}.number-1.light[_ngcontent-%COMP%]{background:url(/assets/images/numbers_light.png) no-repeat;background-position:0 0}.number-2[_ngcontent-%COMP%]{background-position:-17px 0;width:17px;height:21px}.number-2.light[_ngcontent-%COMP%]{background:url(/assets/images/numbers_light.png) no-repeat;background-position:-17px 0}.number-3[_ngcontent-%COMP%]{background-position:-34px 0;width:17px;height:21px}.number-3.light[_ngcontent-%COMP%]{background:url(/assets/images/numbers_light.png) no-repeat;background-position:-34px 0}.number-4[_ngcontent-%COMP%]{background-position:0 -21px;width:17px;height:21px}.number-4.light[_ngcontent-%COMP%]{background:url(/assets/images/numbers_light.png) no-repeat;background-position:0 -21px}.number-5[_ngcontent-%COMP%]{background-position:-17px -21px;width:17px;height:21px}.number-5.light[_ngcontent-%COMP%]{background:url(/assets/images/numbers_light.png) no-repeat;background-position:-17px -21px}.number-6[_ngcontent-%COMP%]{background-position:-34px -21px;width:17px;height:21px}.number-6.light[_ngcontent-%COMP%]{background:url(/assets/images/numbers_light.png) no-repeat;background-position:-34px -21px}.number-7[_ngcontent-%COMP%]{background-position:0 -42px;width:17px;height:21px}.number-7.light[_ngcontent-%COMP%]{background:url(/assets/images/numbers_light.png) no-repeat;background-position:0 -42px}.number-8[_ngcontent-%COMP%]{background-position:-17px -42px;width:17px;height:21px}.number-8.light[_ngcontent-%COMP%]{background:url(/assets/images/numbers_light.png) no-repeat;background-position:-17px -42px}.number-9[_ngcontent-%COMP%]{background-position:-34px -42px;width:17px;height:21px}.number-9.light[_ngcontent-%COMP%]{background:url(/assets/images/numbers_light.png) no-repeat;background-position:-34px -42px}"]}),t})()},AoRw:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n("fXoL");let o=(()=>{class t{}return t.VG_ABORT="abort",t.VG_CAN_PLAY="canplay",t.VG_CAN_PLAY_THROUGH="canplaythrough",t.VG_DURATION_CHANGE="durationchange",t.VG_EMPTIED="emptied",t.VG_ENCRYPTED="encrypted",t.VG_ENDED="ended",t.VG_ERROR="error",t.VG_LOADED_DATA="loadeddata",t.VG_LOADED_METADATA="loadedmetadata",t.VG_LOAD_START="loadstart",t.VG_PAUSE="pause",t.VG_PLAY="play",t.VG_PLAYING="playing",t.VG_PROGRESS="progress",t.VG_RATE_CHANGE="ratechange",t.VG_SEEK="seek",t.VG_SEEKED="seeked",t.VG_SEEKING="seeking",t.VG_STALLED="stalled",t.VG_SUSPEND="suspend",t.VG_TIME_UPDATE="timeupdate",t.VG_VOLUME_CHANGE="volumechange",t.VG_WAITING="waiting",t.VG_LOAD="load",t.VG_ENTER="enter",t.VG_EXIT="exit",t.VG_START_ADS="startads",t.VG_END_ADS="endads",t.VG_FULLSCREEN="fullscreen",t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Lb({token:t,factory:t.\u0275fac}),t})()},Aplp:function(t,e,n){"use strict";var i,o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),s={},r=0,a=0;function c(t){var e="";do{e=o[t%64]+e,t=Math.floor(t/64)}while(t>0);return e}function l(){var t=c(+new Date);return t!==i?(r=0,i=t):t+"."+c(r++)}for(;a<64;a++)s[o[a]]=a;l.encode=c,l.decode=function(t){var e=0;for(a=0;a<t.length;a++)e=64*e+s[t.charAt(a)];return e},t.exports=l},Assm:function(t,e,n){"use strict";n.d(e,"a",(function(){return m}));var i=n("0Xxy"),o=n("+cg8"),s=n("fXoL"),r=n("ofXK"),a=n("tyNb"),c=n("Le4d");function l(t,e){if(1&t&&(s.Vb(0,"div",17),s.Vb(1,"span"),s.Nc(2),s.Ub(),s.Vb(3,"span"),s.Nc(4),s.Ub(),s.Vb(5,"span"),s.Nc(6),s.Ub(),s.Vb(7,"span",18),s.Nc(8),s.Ub(),s.Ub()),2&t){const t=s.gc();s.Bb(2),s.Oc((null==t.video?null:t.video.videoType)||(null==t.video?null:t.video.cid)),s.Bb(2),s.Oc(null==t.video?null:t.video.regional),s.Bb(2),s.Oc(null==t.video?null:t.video.year),s.Bb(2),s.Oc(null==t.video?null:t.video.lang)}}function h(t,e){if(1&t&&(s.Vb(0,"div",17),s.Vb(1,"span"),s.Nc(2),s.Ub(),s.Vb(3,"span"),s.Nc(4),s.Ub(),s.Vb(5,"span"),s.Nc(6),s.Ub(),s.Vb(7,"span",18),s.Nc(8),s.Ub(),s.Ub()),2&t){const t=s.gc();s.Bb(2),s.Oc(t.cidMapperArray(null==t.video?null:t.video.cidMapper)[0]),s.Bb(2),s.Oc(t.cidMapperArray(null==t.video?null:t.video.cidMapper)[1]),s.Bb(2),s.Oc(t.cidMapperArray(null==t.video?null:t.video.cidMapper).length>2?t.cidMapperArray(null==t.video?null:t.video.cidMapper)[2]:null==t.video?null:t.video.regional),s.Bb(2),s.Oc(t.cidMapperArray(null==t.video?null:t.video.cidMapper).length>2?null==t.video?null:t.video.regional:null==t.video?null:t.video.year)}}function d(t,e){if(1&t&&(s.Vb(0,"div",17),s.Vb(1,"span"),s.Nc(2),s.Ub(),s.Vb(3,"span"),s.Nc(4),s.Ub(),s.Vb(5,"span"),s.Nc(6),s.Ub(),s.Vb(7,"span",18),s.Nc(8),s.Ub(),s.Ub()),2&t){const t=s.gc();s.Bb(2),s.Oc(t.cidMapperArray(null==t.video?null:t.video.cidMapper)[0]),s.Bb(2),s.Oc(t.cidMapperArray(null==t.video?null:t.video.cidMapper)[1]),s.Bb(2),s.Oc(t.cidMapperArray(null==t.video?null:t.video.cidMapper)[2]),s.Bb(2),s.Oc(t.cidMapperArray(null==t.video?null:t.video.cidMapper)[3])}}const u=function(t){return{list:t}},g=function(){return["/play"]},p=function(t){return{id:t}},f=function(t){return{id:t,a:1}},b=function(t){return{lower:t}};let m=(()=>{class t{constructor(t,e){this.teaserDetailService=t,this._dnDialogService=e,this.fromList=!1,this.hasWatched=!1}ngOnInit(){}cidMapperArray(t){return t?t.split(","):[]}replaceComma(t){if(null!=t)return t.replace(/,/g," / ")}openTeaserDialog(t,e){t.preventDefault(),t.stopPropagation(),this.teaserDetailService.setState(e),setTimeout(()=>{this._dnDialogService.open("teaser-detail-dialog")},50)}}return t.\u0275fac=function(e){return new(e||t)(s.Pb(o.a),s.Pb(i.a))},t.\u0275cmp=s.Jb({type:t,selectors:[["app-teaser-detail"]],inputs:{video:"video",responsiveTeaserSize:"responsiveTeaserSize",fromList:"fromList",hasWatched:"hasWatched"},decls:27,vars:36,consts:[[1,"teaser-detail",3,"ngClass"],[3,"routerLink","queryParams"],[1,"detail-ctn"],[1,"detail-header"],[1,"title-ctn",3,"routerLink","queryParams","title"],[1,"title-text"],["class","detail-tags",4,"ngIf"],[1,"detail-intro"],[1,"detail-starring",3,"ngClass"],[1,"intro-title"],[1,"detail-story"],[3,"innerHTML"],[1,"detail-action"],[1,"d-flex","align-items-center"],[1,"iconfont","iconrenqi","d-block","mr-2",2,"color","#fe6f71","top","auto","font-size","21px"],[1,"mr-0","fs-16","hot-number"],[1,"d-flex","align-items-center","detail-dialog",3,"click"],[1,"detail-tags"],[2,"margin-right","0"]],template:function(t,e){1&t&&(s.Vb(0,"div",0),s.Vb(1,"a",1),s.Vb(2,"div",2),s.Vb(3,"div",3),s.Vb(4,"a",4),s.Vb(5,"span",5),s.Nc(6),s.Ub(),s.Ub(),s.Ub(),s.Lc(7,l,9,4,"div",6),s.Lc(8,h,9,4,"div",6),s.Lc(9,d,9,4,"div",6),s.Vb(10,"div",7),s.Vb(11,"div",8),s.Vb(12,"span",9),s.Nc(13,"\u4e3b\u6f14: "),s.Ub(),s.Nc(14),s.Ub(),s.Vb(15,"div",10),s.Vb(16,"span",9),s.Nc(17,"\u7b80\u4ecb: "),s.Ub(),s.Qb(18,"span",11),s.Ub(),s.Ub(),s.Vb(19,"div",12),s.Vb(20,"div",13),s.Qb(21,"i",14),s.Vb(22,"span",15),s.Nc(23),s.hc(24,"chineseCounter"),s.Ub(),s.Ub(),s.Vb(25,"div",16),s.dc("click",(function(t){return e.openTeaserDialog(t,e.video)})),s.Nc(26," \u8be6\u60c5 "),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub()),2&t&&(s.Kc("width",null==e.responsiveTeaserSize?null:e.responsiveTeaserSize.width,"px")("height",(null==e.responsiveTeaserSize?null:e.responsiveTeaserSize.height)-183,"px"),s.nc("ngClass",s.sc(22,u,e.fromList)),s.Bb(1),s.nc("routerLink",s.rc(24,g))("queryParams",e.hasWatched?s.sc(25,p,null==e.video?null:e.video.lastID):s.sc(27,f,null==e.video?null:e.video.key)),s.Bb(3),s.oc("title",null==e.video?null:e.video.title),s.nc("routerLink",s.rc(29,g))("queryParams",e.hasWatched?s.sc(30,p,null==e.video?null:e.video.lastID):s.sc(32,f,null==e.video?null:e.video.key)),s.Bb(2),s.Oc(null==e.video?null:e.video.title),s.Bb(1),s.nc("ngIf",e.cidMapperArray(null==e.video?null:e.video.cidMapper).length<=1),s.Bb(1),s.nc("ngIf",e.cidMapperArray(null==e.video?null:e.video.cidMapper).length>1&&e.cidMapperArray(null==e.video?null:e.video.cidMapper).length<4),s.Bb(1),s.nc("ngIf",4===e.cidMapperArray(null==e.video?null:e.video.cidMapper).length),s.Bb(2),s.nc("ngClass",s.sc(34,b,!(null!=e.video&&e.video.starring))),s.Bb(3),s.Pc("",null!=e.video&&e.video.starring?e.replaceComma(null==e.video?null:e.video.starring):"\u672a\u77e5"," "),s.Bb(4),s.nc("innerHTML",null!=e.video&&e.video.contxt?null==e.video?null:e.video.contxt:"\u6682\u65e0\u4ecb\u7ecd",s.Dc),s.Bb(1),s.Kc("width",(null==e.responsiveTeaserSize?null:e.responsiveTeaserSize.width)-20,"px"),s.Bb(4),s.Oc(s.ic(24,20,null==e.video?null:e.video.hot)))},directives:[r.l,a.g,r.n],pipes:[c.a],styles:[".text-gray[_ngcontent-%COMP%]{color:#f8f8f8!important}.text-light[_ngcontent-%COMP%]{color:hsla(0,0%,100%,.4)!important}.light[_ngcontent-%COMP%]   .text-light[_ngcontent-%COMP%]{color:#888!important}.text-large[_ngcontent-%COMP%]{font-size:18px}text-medium[_ngcontent-%COMP%]{font-size:16px}.text-small[_ngcontent-%COMP%]{font-size:13px}.dn-button[_ngcontent-%COMP%]{border:none;outline:none!important;display:block;padding:6px 8px;width:auto;min-width:100px;margin:0 .4rem;border-radius:0;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;text-align:center;color:#fff!important;background-color:#373843}.light[_ngcontent-%COMP%]   .dn-button[_ngcontent-%COMP%]{background-color:#777}.dn-button[_ngcontent-%COMP%]:hover{background-color:hsla(0,0%,40%,.2)}.dn-button-plain[_ngcontent-%COMP%]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border:1px solid silver;color:#000!important;background-color:#fff;padding:6px 20px;cursor:pointer}.dn-button-plain[_ngcontent-%COMP%]:hover{background-color:#cacaca;color:#fff!important}.dn-button-outline[_ngcontent-%COMP%]{outline:none!important;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border:2px solid silver;border-radius:0;background-color:#fff;padding:2px 14px;cursor:pointer}.dn-button-outline[_ngcontent-%COMP%]:hover{background-color:#cacaca;color:#fff!important}.dn-button-outline.orange[_ngcontent-%COMP%]{color:#f49800;border-color:#f49800;background-color:#434343}.dn-button-outline.orange[_ngcontent-%COMP%]:hover{color:#fe9e00!important;border-color:#fe9e00!important;background-color:#000}.dn-button-blue[_ngcontent-%COMP%]{color:#fff!important;background-color:#00a8ec!important}.dn-button-blue[_ngcontent-%COMP%]:hover{background-color:#00b6ff!important}.dn-button-disable[_ngcontent-%COMP%]{cursor:default;color:hsla(0,0%,100%,.2)!important;background-color:hsla(0,0%,40%,.2)!important}.light[_ngcontent-%COMP%]   .dn-button-disable[_ngcontent-%COMP%]{color:#a0a0a0!important}.dn-button-orange[_ngcontent-%COMP%]{color:#fff!important;background-color:#f49800}.dn-button-orange[_ngcontent-%COMP%]:hover{background-color:#fe9e00}.dn-button-gold[_ngcontent-%COMP%]{color:#fff!important;background-color:#f49800!important}.dn-button-gold[_ngcontent-%COMP%]:hover{background-color:#fe9e00!important}.dn-button-red[_ngcontent-%COMP%]{color:#fff!important}.dn-button-red[_ngcontent-%COMP%], .dn-button-red[_ngcontent-%COMP%]:hover{background-color:#00c0ff}.dn-button-large[_ngcontent-%COMP%]{padding:10px 18px}.dn-play-button[_ngcontent-%COMP%]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;padding:4px 12px;border-radius:3px;font-size:16px;display:inline-block;color:#fff!important;background-color:#f00000}.dn-play-button[_ngcontent-%COMP%]:hover{background-color:#f10000}.dn-play-button[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{font-size:20px;vertical-align:middle}.dn-play-button[_ngcontent-%COMP%]   .btn-text[_ngcontent-%COMP%]{display:inline-block;border-left:1px solid #fff;padding:3px 8px 3px 10px;vertical-align:middle}.dn-btn-load-more[_ngcontent-%COMP%]{cursor:pointer;padding:5px 15px}.link-blue[_ngcontent-%COMP%]{color:#00a8ec}.link-blue[_ngcontent-%COMP%]:hover{color:#434343}.red[_ngcontent-%COMP%]{color:#f00000}.rose[_ngcontent-%COMP%]{color:#ff01ff}.orange[_ngcontent-%COMP%]{color:#fe9e00}.teaser-detail[_ngcontent-%COMP%]{position:absolute;z-index:100;bottom:0;left:0;bottom:-166px;-webkit-transition:bottom .3s;transition:bottom .3s;background-repeat:no-repeat;background-position:50%;cursor:default;height:50%;width:100%}.detail-ctn[_ngcontent-%COMP%]{width:100%;height:100%;background-color:rgba(28,29,47,.98);padding:10px 10px 0}.light[_nghost-%COMP%]   .detail-ctn[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .detail-ctn[_ngcontent-%COMP%]{background-color:hsla(0,0%,100%,.98)}.detail-header[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-pack:justify;justify-content:space-between;font-size:16px;font-weight:700}.detail-action[_ngcontent-%COMP%]{width:100%;padding:0 19px 0 0}.title-ctn[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:192px}.title-text[_ngcontent-%COMP%]{color:#fff}.light[_nghost-%COMP%]   .title-text[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .title-text[_ngcontent-%COMP%]{color:#333}.title-text[_ngcontent-%COMP%]:hover{color:#00c0ff!important}.detail-tags[_ngcontent-%COMP%]{margin-top:.75em;margin-bottom:.75em;font-size:12px;color:hsla(0,0%,100%,.7);display:-webkit-box;display:flex;flex-wrap:nowrap}.light[_nghost-%COMP%]   .detail-tags[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .detail-tags[_ngcontent-%COMP%]{color:#888}.detail-tags[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background-color:#2b2c3a;display:inline-block;padding:.1em 0;margin-right:.5em;width:44px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;text-align:center}.light[_nghost-%COMP%]   .detail-tags[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .detail-tags[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background-color:#eee}.detail-intro[_ngcontent-%COMP%]{font-size:12px;color:hsla(0,0%,100%,.4)}.light[_nghost-%COMP%]   .detail-intro[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .detail-intro[_ngcontent-%COMP%]{color:#888}.detail-starring[_ngcontent-%COMP%], .detail-story[_ngcontent-%COMP%]{margin-bottom:.5em}.detail-starring[_ngcontent-%COMP%]{height:20px;line-height:20px;overflow:hidden;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;text-overflow:ellipsis}.detail-starring.lower[_ngcontent-%COMP%]{height:21px}.detail-story[_ngcontent-%COMP%]{height:36px;line-height:20px;overflow:hidden;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;text-overflow:ellipsis}.intro-title[_ngcontent-%COMP%]{color:#fff}.light[_nghost-%COMP%]   .intro-title[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .intro-title[_ngcontent-%COMP%]{color:#333}.detail-action[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-pack:justify;justify-content:space-between;-webkit-box-align:center;align-items:center;position:absolute}.detail-dialog[_ngcontent-%COMP%]{font-size:12px;padding:0 5px;text-align:center;color:#00c0ff;border:1px solid #00c0ff}.detail-dialog[_ngcontent-%COMP%]:hover{color:#fff;background-color:#00c0ff}.hot-number[_ngcontent-%COMP%]{color:hsla(0,0%,100%,.7)}.light[_nghost-%COMP%]   .hot-number[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .hot-number[_ngcontent-%COMP%]{color:#333}@media (max-width:1678px){.detail-tags[_ngcontent-%COMP%]{margin-top:.5em!important;margin-bottom:.5em!important}.detail-tags[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:42px!important}.detail-starring[_ngcontent-%COMP%], .detail-story[_ngcontent-%COMP%]{margin-bottom:.3em!important}}"],changeDetection:0}),t})()},AuJu:function(t,e,n){"use strict";n.d(e,"a",(function(){return ht}));var i=n("fXoL"),o=n("pvdS"),s=n("4z3+"),r=n("UnVO"),a=n("YKxU"),c=n("9U6K"),l=n("ciLT"),h=n("ofXK"),d=n("tyNb"),u=n("Le4d");const g=["contxt"],p=["imgSrc"];function f(t,e){if(1&t&&(i.Qb(0,"img",24),i.hc(1,"safeResource")),2&t){const t=i.gc(2);i.nc("src",i.ic(1,1,t.obj.coverPath+"?w=218&h=218&format=jpg&mode=crop"),i.Fc)}}function b(t,e){1&t&&i.Qb(0,"img",25)}function m(t,e){1&t&&i.Qb(0,"i",26)}function v(t,e){1&t&&i.Qb(0,"i",27)}function y(t,e){1&t&&i.Qb(0,"i",28)}function C(t,e){1&t&&i.Qb(0,"i",29)}const _=function(t){return{active:t}},x=function(t){return{liked:t}};function P(t,e){if(1&t){const t=i.Wb();i.Tb(0),i.Vb(1,"div",1),i.Vb(2,"div",2),i.dc("click",(function(e){i.Cc(t);const n=i.gc();return n.openLink(n.obj.id)})),i.Lc(3,f,2,3,"img",3),i.Lc(4,b,1,0,"img",4),i.Vb(5,"div",5),i.Qb(6,"i",6),i.Nc(7),i.Ub(),i.Ub(),i.Vb(8,"div",7),i.Vb(9,"div",8),i.Vb(10,"div",9),i.dc("click",(function(e){i.Cc(t);const n=i.gc();return n.openLink(n.obj.id)})),i.Ub(),i.Ub(),i.Vb(11,"div",10),i.Qb(12,"div",11),i.Ub(),i.Vb(13,"div",12),i.Vb(14,"div",13),i.Vb(15,"div",14),i.Qb(16,"i",15),i.Nc(17),i.hc(18,"chineseCounter"),i.Ub(),i.Vb(19,"div",16),i.Qb(20,"i",17),i.Nc(21),i.hc(22,"chineseCounter"),i.Ub(),i.Vb(23,"div",18),i.dc("click",(function(e){return i.Cc(t),i.gc().favorite()})),i.Lc(24,m,1,0,"i",19),i.Lc(25,v,1,0,"i",20),i.Nc(26),i.hc(27,"chineseCounter"),i.Ub(),i.Vb(28,"div",21),i.dc("click",(function(e){return i.Cc(t),i.gc().like()})),i.Lc(29,y,1,0,"i",22),i.Lc(30,C,1,0,"i",23),i.Nc(31),i.hc(32,"chineseCounter"),i.Ub(),i.Ub(),i.Ub(),i.Ub(),i.Ub(),i.Sb()}if(2&t){const t=i.gc();i.Bb(3),i.nc("ngIf",""!==t.obj.coverPath),i.Bb(1),i.nc("ngIf",""===t.obj.coverPath),i.Bb(3),i.Pc(" ",t.obj.sumPhotoCount," "),i.Bb(3),i.nc("innerHtml",t.obj.title,i.Dc),i.Bb(2),i.nc("innerHtml",t.obj.contxt,i.Dc),i.Bb(5),i.Pc(" ",i.ic(18,15,t.obj.viewCount)," "),i.Bb(4),i.Pc(" ",i.ic(22,17,t.obj.commentCount)," "),i.Bb(2),i.nc("ngClass",i.sc(23,_,t.obj.isFavorited)),i.Bb(1),i.nc("ngIf",!t.obj.isFavorited),i.Bb(1),i.nc("ngIf",t.obj.isFavorited),i.Bb(1),i.Pc(" ",i.ic(27,19,t.obj.favoriteCount)," "),i.Bb(2),i.nc("ngClass",i.sc(25,x,t.obj.isLiked)),i.Bb(1),i.nc("ngIf",!t.obj.isLiked),i.Bb(1),i.nc("ngIf",t.obj.isLiked),i.Bb(1),i.Pc(" ",i.ic(32,21,t.obj.likeCount)," ")}}function w(t,e){if(1&t&&i.Qb(0,"img",51),2&t){const t=i.gc(2);i.nc("src",t.obj.vipSymbol,i.Fc)}}function O(t,e){1&t&&i.Qb(0,"img",52)}function M(t,e){1&t&&(i.Vb(0,"div",53),i.Vb(1,"div",54),i.Qb(2,"div"),i.Qb(3,"div"),i.Qb(4,"div"),i.Qb(5,"div"),i.Qb(6,"div"),i.Qb(7,"div"),i.Qb(8,"div"),i.Qb(9,"div"),i.Qb(10,"div"),i.Qb(11,"div"),i.Qb(12,"div"),i.Qb(13,"div"),i.Ub(),i.Ub())}function k(t,e){if(1&t){const t=i.Wb();i.Vb(0,"div",55),i.dc("click",(function(e){i.Cc(t);const n=i.gc(2);return n.setAttention(n.obj)})),i.Nc(1),i.Ub()}if(2&t){const t=i.gc(2);i.nc("ngClass",i.sc(2,_,t.followStatus)),i.Bb(1),i.Pc(" ",t.followStatus?"\u53d6\u6d88\u5173\u6ce8":"\u5173\u6ce8"," ")}}function S(t,e){if(1&t&&(i.Vb(0,"span",56),i.Nc(1),i.Ub()),2&t){const t=i.gc(2);i.Bb(1),i.Oc(0!==t.obj.photoList.length?"\u4e0a\u4f20\u4e86\u7167\u7247\u5230\u76f8\u518c":"\u65b0\u5efa\u4e86\u76f8\u518c")}}const I=function(t){return[t]},L=function(t){return{type:"album",a:t}};function T(t,e){if(1&t&&(i.Vb(0,"a",57),i.Nc(1),i.Ub()),2&t){const t=i.gc(2);i.oc("title",t.obj.title),i.nc("routerLink",i.sc(4,I,"/space/"+t.obj.userKey))("queryParams",i.sc(6,L,t.obj.id)),i.Bb(1),i.Pc(" \u300a",t.obj.title,"\u300b ")}}function A(t,e){1&t&&(i.Vb(0,"span",56),i.Nc(1,"\u53d1\u5e03\u4e86\u52a8\u6001"),i.Ub())}function N(t,e){if(1&t){const t=i.Wb();i.Vb(0,"div",62),i.dc("click",(function(e){i.Cc(t);const n=i.gc(3);return n.textHidden=!n.textHidden})),i.Nc(1),i.Ub()}if(2&t){const t=i.gc(3);i.Bb(1),i.Pc(" ",t.textHidden?"\u5c55\u5f00":"\u6536\u8d77"," ")}}const B=function(t,e){return{"max-5-line":t,show:e}};function V(t,e){if(1&t&&(i.Vb(0,"div",58),i.Qb(1,"div",59,60),i.Lc(3,N,2,1,"div",61),i.Ub()),2&t){const t=i.gc(2);i.Bb(1),i.nc("innerHtml",t.obj.contxt,i.Dc)("ngClass",i.tc(3,B,t.textHidden,!t.loading)),i.Bb(2),i.nc("ngIf",t.showHideBtn)}}function U(t,e){if(1&t&&(i.Vb(0,"span",65),i.Nc(1),i.Ub()),2&t){const t=e.$implicit;i.Bb(1),i.Oc(t)}}function D(t,e){if(1&t&&(i.Vb(0,"div",63),i.Lc(1,U,2,1,"span",64),i.Ub()),2&t){const t=i.gc(2);i.Bb(1),i.nc("ngForOf",t.obj.label)}}function E(t,e){1&t&&i.Qb(0,"i",66)}function R(t,e){if(1&t&&(i.Vb(0,"span"),i.Nc(1),i.Ub()),2&t){const t=i.gc(2);i.Bb(1),i.Oc(null==t.obj?null:t.obj.location)}}function F(t,e){if(1&t&&(i.Vb(0,"div",79),i.Vb(1,"div",80),i.Nc(2),i.Ub(),i.Ub()),2&t){const t=i.gc(6);i.Bb(2),i.Pc("+ ",t.obj.sumPhotoCount-5,"")}}function j(t,e){1&t&&(i.Vb(0,"div",81),i.Nc(1,"\u957f\u56fe"),i.Ub())}const z=function(t){return{show:t}},H=function(t,e){return{longer:t,inShadow:e}};function G(t,e){if(1&t){const t=i.Wb();i.Vb(0,"div",74),i.dc("click",(function(n){i.Cc(t);const o=e.index,s=i.gc(5);return s.openActivityDetail(s.obj.id,o)})),i.Qb(1,"img",75,76),i.Lc(3,F,3,1,"div",77),i.Lc(4,j,2,0,"div",78),i.Ub()}if(2&t){const t=e.$implicit,n=e.last,o=i.zc(2),s=i.gc(5);i.nc("ngClass",i.sc(5,z,!s.loading)),i.Bb(1),i.nc("src",s.isGif(t)?t:t+"?w=192&format=jpg&mode=crop",i.Fc)("ngClass",i.tc(7,H,s.ifLongeImgInMulti(o),n&&s.obj.sumPhotoCount>5)),i.Bb(2),i.nc("ngIf",n&&s.obj.sumPhotoCount>5),i.Bb(1),i.nc("ngIf",s.ifLongeImgInMulti(o))}}function W(t,e){if(1&t&&(i.Vb(0,"div",72),i.Lc(1,G,5,10,"div",73),i.hc(2,"slice"),i.Ub()),2&t){const t=i.gc(4);i.Bb(1),i.nc("ngForOf",i.kc(2,1,t.obj.photoList,0,5))}}function q(t,e){1&t&&(i.Vb(0,"div",87),i.Nc(1,"\u957f\u56fe"),i.Ub())}function Q(t,e){if(1&t){const t=i.Wb();i.Vb(0,"div",84),i.dc("click",(function(n){i.Cc(t);const o=e.index,s=i.gc(5);return s.openActivityDetail(s.obj.id,o)})),i.Qb(1,"img",85,76),i.Lc(3,q,2,0,"div",86),i.Ub()}if(2&t){const t=e.$implicit,n=i.zc(2),o=i.gc(5);i.nc("ngClass",i.sc(4,z,!o.loading)),i.Bb(1),i.nc("src",o.isGif(t)?t:t+"?w=600&format=jpg&mode=crop",i.Fc)("ngClass",o.ifLongeImgInMulti(n)?"longer":""),i.Bb(2),i.nc("ngIf",o.ifLongeImgInMulti(n))}}function $(t,e){if(1&t&&(i.Vb(0,"div",82),i.Lc(1,Q,4,6,"div",83),i.Ub()),2&t){const t=i.gc(4);i.Bb(1),i.nc("ngForOf",t.obj.photoList)}}function K(t,e){1&t&&(i.Vb(0,"div",87),i.Nc(1,"\u957f\u56fe"),i.Ub())}const X=function(t,e){return{longer:t,show:e}},Y=function(t){return{longer:t}};function Z(t,e){if(1&t){const t=i.Wb();i.Vb(0,"div",90),i.dc("click",(function(n){i.Cc(t);const o=e.index,s=i.gc(5);return s.openActivityDetail(s.obj.id,o)})),i.Qb(1,"img",91,76),i.Lc(3,K,2,0,"div",86),i.Ub()}if(2&t){const t=e.$implicit,n=i.gc(5);i.nc("ngClass",i.tc(4,X,n.isLongerImg,!n.loading)),i.Bb(1),i.nc("src",n.isGif(t)?t:t+"?w=600&format=jpg&mode=crop",i.Fc)("ngClass",i.sc(7,Y,n.isLongerImg)),i.Bb(2),i.nc("ngIf",n.isLongerImg)}}function J(t,e){if(1&t&&(i.Vb(0,"div",88),i.Lc(1,Z,4,9,"div",89),i.Ub()),2&t){const t=i.gc(4);i.Bb(1),i.nc("ngForOf",t.obj.photoList)}}function tt(t,e){if(1&t&&(i.Vb(0,"div",68),i.Lc(1,W,3,5,"div",69),i.Lc(2,$,2,1,"div",70),i.Lc(3,J,2,1,"div",71),i.Ub()),2&t){const t=i.gc(3);i.Bb(1),i.nc("ngIf",t.obj.sumPhotoCount>2),i.Bb(1),i.nc("ngIf",2===t.obj.sumPhotoCount),i.Bb(1),i.nc("ngIf",1===t.obj.sumPhotoCount)}}function et(t,e){if(1&t&&(i.Vb(0,"ng-conatiner"),i.Lc(1,tt,4,3,"div",67),i.Ub()),2&t){const t=i.gc(2);i.Bb(1),i.nc("ngIf",0!==t.obj.sumPhotoCount)}}const nt=function(t,e){return{vertical:t,show:e}};function it(t,e){if(1&t){const t=i.Wb();i.Tb(0),i.Vb(1,"div",92),i.Vb(2,"div",93),i.Vb(3,"div",94),i.dc("click",(function(e){i.Cc(t);const n=i.gc(2);return n.openActivityDetail(n.obj.id,0)})),i.Qb(4,"img",95),i.Vb(5,"div",96),i.Qb(6,"i",97),i.Ub(),i.Ub(),i.Ub(),i.Ub(),i.Sb()}if(2&t){const t=i.gc(2);i.Bb(3),i.nc("ngClass",i.tc(2,nt,t.isVertical,!t.loading)),i.Bb(1),i.nc("src",t.obj.coverPath+"?w=600&format=jpg&mode=crop",i.Fc)}}function ot(t,e){1&t&&i.Qb(0,"i",26)}function st(t,e){1&t&&i.Qb(0,"i",27)}function rt(t,e){1&t&&i.Qb(0,"i",28)}function at(t,e){1&t&&i.Qb(0,"i",29)}const ct=function(t){return{discovery:t}};function lt(t,e){if(1&t){const t=i.Wb();i.Tb(0),i.Vb(1,"div",30),i.Vb(2,"div",31),i.Vb(3,"div",32),i.dc("click",(function(e){i.Cc(t);const n=i.gc();return n.navToSpace(n.obj.userKey)})),i.Qb(4,"img",33),i.hc(5,"safeResource"),i.Lc(6,w,1,1,"img",34),i.Lc(7,O,1,0,"img",35),i.Ub(),i.Vb(8,"div",36),i.Vb(9,"div",37),i.Vb(10,"div",38),i.dc("click",(function(e){i.Cc(t);const n=i.gc();return n.navToSpace(n.obj.userKey)})),i.Nc(11),i.Ub(),i.Lc(12,M,14,0,"div",39),i.Lc(13,k,2,4,"div",40),i.Ub(),i.Vb(14,"div",41),i.Nc(15),i.Lc(16,S,2,1,"span",42),i.Lc(17,T,2,8,"a",43),i.Lc(18,A,2,0,"span",42),i.Ub(),i.Ub(),i.Ub(),i.Lc(19,V,4,6,"div",44),i.Lc(20,D,2,1,"div",45),i.Vb(21,"div",46),i.Lc(22,E,1,0,"i",47),i.Lc(23,R,2,1,"span",0),i.Ub(),i.Lc(24,et,2,1,"ng-conatiner",0),i.Lc(25,it,7,5,"ng-container",0),i.Vb(26,"div",48),i.Vb(27,"div",49),i.Vb(28,"div",14),i.Qb(29,"i",15),i.Nc(30),i.hc(31,"chineseCounter"),i.Ub(),i.Vb(32,"div",50),i.dc("click",(function(e){i.Cc(t);const n=i.gc();return n.openComment(n.obj.id,0)})),i.Qb(33,"i",17),i.Nc(34),i.hc(35,"chineseCounter"),i.Ub(),i.Vb(36,"div",18),i.dc("click",(function(e){return i.Cc(t),i.gc().favorite()})),i.Lc(37,ot,1,0,"i",19),i.Lc(38,st,1,0,"i",20),i.Nc(39),i.hc(40,"chineseCounter"),i.Ub(),i.Vb(41,"div",21),i.dc("click",(function(e){return i.Cc(t),i.gc().like()})),i.Lc(42,rt,1,0,"i",22),i.Lc(43,at,1,0,"i",23),i.Nc(44),i.hc(45,"chineseCounter"),i.Ub(),i.Ub(),i.Ub(),i.Ub(),i.Sb()}if(2&t){const t=i.gc();i.Bb(1),i.nc("ngClass",i.sc(37,ct,t.discoveryStyle)),i.Bb(3),i.nc("src",i.ic(5,27,t.obj.headImg+"?w=44&h=44&format=jpg&mode=crop"),i.Fc),i.Bb(2),i.nc("ngIf",t.obj.vipSymbol&&!t.obj.isUp),i.Bb(1),i.nc("ngIf",t.obj.isUp),i.Bb(4),i.Oc(t.obj.nickName),i.Bb(1),i.nc("ngIf",t.isFollowLoading),i.Bb(1),i.nc("ngIf",!t.isFollowLoading),i.Bb(2),i.Pc(" ",t.obj.addTime," "),i.Bb(1),i.nc("ngIf",0===t.obj.photoType),i.Bb(1),i.nc("ngIf",0===t.obj.photoType),i.Bb(1),i.nc("ngIf",0!==t.obj.photoType),i.Bb(1),i.nc("ngIf",0!==t.obj.photoType),i.Bb(1),i.nc("ngIf",t.obj.label.length>0),i.Bb(2),i.nc("ngIf",null==t.obj?null:t.obj.location),i.Bb(1),i.nc("ngIf",null==t.obj?null:t.obj.location),i.Bb(1),i.nc("ngIf",2!==t.obj.photoType),i.Bb(1),i.nc("ngIf",2===t.obj.photoType),i.Bb(5),i.Pc(" ",i.ic(31,29,t.obj.viewCount)," "),i.Bb(4),i.Pc(" ",i.ic(35,31,t.obj.commentCount)," "),i.Bb(2),i.nc("ngClass",i.sc(39,_,t.obj.isFavorited)),i.Bb(1),i.nc("ngIf",!t.obj.isFavorited),i.Bb(1),i.nc("ngIf",t.obj.isFavorited),i.Bb(1),i.Pc(" ",i.ic(40,33,t.obj.favoriteCount)," "),i.Bb(2),i.nc("ngClass",i.sc(41,x,t.obj.isLiked)),i.Bb(1),i.nc("ngIf",!t.obj.isLiked),i.Bb(1),i.nc("ngIf",t.obj.isLiked),i.Bb(1),i.Pc(" ",i.ic(45,35,t.obj.likeCount)," ")}}let ht=(()=>{class t{constructor(t,e,n,o,s){this._uploadService=t,this._userService=e,this.activityService=n,this.albumService=o,this._toastService=s,this._matchKey="",this.followStatus=!1,this.obj={addTime:"",commentCount:0,contxt:"",coverPath:"",favoriteCount:1,gid:0,vipSymbol:void 0,headImg:"",id:0,isFavorited:!1,isLiked:!1,isUp:!1,label:[],likeCount:0,nickName:"",photoList:[],sumPhotoCount:0,title:"",userKey:"",viewCount:0,location:"",isAttented:!1,photoType:1},this.textHidden=!1,this.showHideBtn=!1,this.loading=!1,this.isLongerImg=!1,this.isFollowLoading=!1,this.changeFollow=new i.n,this.favoriteLoading=!1,this.subscriptions=[],this.discoveryStyle=!1,this.onDeatilOpen=new i.n,this.isVertical=!1}set matchKey(t){t&&(this._matchKey=t,this.changeKey())}get matchKey(){return this._matchKey}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}ngOnInit(){this.subscriptions.push(this._userService.userState$.subscribe(t=>{this.user=t})),this.obj={addTime:this.item.dateStr,commentCount:this.item.comments,contxt:this.item.description,coverPath:this.item.imgPath?this.item.imgPath:"",favoriteCount:this.item.favoriteCount,gid:this.item.gid,vipSymbol:r.a.getGIDResource(this.item.gid),headImg:this.item.headImg,id:this.item.albumID,isFavorited:this.item.isFavorite,isLiked:this.item.isLike,isUp:this.item.isUp,label:""!==this.item.label?this.item.label.split(","):[],likeCount:this.item.dd,nickName:this.item.nickName,photoList:this.item.photoList?this.item.photoList.split(","):[],sumPhotoCount:this.item.photoCount,title:this.item.title,userKey:this.item.userKey,viewCount:this.item.viewCount,location:this.item.address,isAttented:this.item.isAttented,photoType:void 0!==this.item.photoType?this.item.photoType:1},"activity"===this.type&&(this.calculateTextHeight(),1===this.obj.photoType?this.calculateSingleImgHeight():2===this.obj.photoType&&this.calculateRatio())}changeKey(){if(this.matchKey){var t=this.matchKey;t&&("album"===this.type&&(this.item.title=this.item.title.replace(t,'<span class="text-main-color">'+t+"</span>")),"activity"===this.type&&(this.item.description=this.item.description.replace(t,'<span class="text-main-color">'+t+"</span>")))}}calculateRatio(){const t=this.item.ratio?this.item.ratio:"1:1",e=Number(t.split(":")[0]),n=Number(t.split(":")[1]);this.isVertical=e/n<1}calculateTextHeight(){this.loading=!0,0!==this.obj.photoType?this.contxt?(this.contxt.nativeElement.getBoundingClientRect().height>105?(this.showHideBtn=!0,this.textHidden=!0):this.textHidden=!1,this.loading=!1):setTimeout(()=>{this.calculateTextHeight()},10):this.loading=!1}calculateSingleImgHeight(){if(0!==this.obj.photoList.length)if(this.imgSrc){const t=this.imgSrc.nativeElement.naturalWidth,e=this.imgSrc.nativeElement.naturalHeight;if(0===t||0===e)return void setTimeout(()=>{this.calculateSingleImgHeight()},10);e>2*t&&(this.isLongerImg=!0)}else setTimeout(()=>{this.calculateSingleImgHeight()},10)}ifLongeImgInMulti(t){return t.naturalHeight>2*t.naturalWidth}setAttention(t){if(!this.isFollowLoading)if(this.user&&this.user.id>0){const e=t.userKey;this.isFollowLoading=!0,this._uploadService.SetAttension(e).subscribe(e=>{this.changeFollow.emit(t.userKey),setTimeout(()=>{this.isFollowLoading=!1},150)})}else this._userService.showLoginDialog(!0)}favorite(){const t="activity"!==this.type||1!==this.obj.photoType&&2!==this.obj.photoType?7:8;if(this.user.id){if(this.favoriteLoading)return;this.favoriteLoading=!0,this.subscriptions.push(this.obj.isFavorited?this.activityService.removeFavorite(this.obj.id,t).subscribe(t=>{401!=t.code&&(this.obj.isFavorited=!1,this.obj.favoriteCount=this.obj.favoriteCount-1>0?this.obj.favoriteCount-1:0,this._toastService.showBlackToast("\u5df2\u53d6\u6d88\u6536\u85cf\uff01")),this.favoriteLoading=!1}):this.activityService.addFavorite(this.obj.id,t).subscribe(t=>{401!=t.code&&(this.obj.isFavorited=!0,this.obj.favoriteCount=this.obj.favoriteCount+1,this._toastService.showBlackToast("\u6536\u85cf\u6210\u529f\uff01")),this.favoriteLoading=!1}))}else this._userService.showLoginDialog(!0)}like(){this.user.id?"activity"!==this.type||1!==this.obj.photoType&&2!==this.obj.photoType?this.albumService.likeAlbum(this.obj.id).subscribe(t=>{if("ok"===t){if(!0===this.obj.isLiked)return this.obj.likeCount=this.obj.likeCount-1>0?this.obj.likeCount-1:0,void(this.obj.isLiked=!1);this.obj.likeCount=this.obj.likeCount+1,this.obj.isLiked=!0}}):this.activityService.likeActivity(this.obj.id).subscribe(t=>{if("ok"===t){if(!0===this.obj.isLiked)return this.obj.likeCount=this.obj.likeCount-1>0?this.obj.likeCount-1:0,void(this.obj.isLiked=!1);this.obj.likeCount=this.obj.likeCount+1,this.obj.isLiked=!0}}):this._userService.showLoginDialog(!0)}openLink(t){"album"===this.type&&window.open("/space/"+`${this.obj.userKey}?type=album&a=${t}`,"_blank")}navToSpace(t){window.open("/space/"+t,"_blank")}openActivityDetail(t,e){"activity"===this.type&&(1===this.obj.photoType?""!==this._matchKey?window.open("/space/"+`${this.obj.userKey}?type=activity&pid=${t}&index=${e}`,"_blank"):this.onDeatilOpen.emit({activityId:t,photoIndex:e,infoType:1}):2===this.obj.photoType?""!==this._matchKey?window.open("/space/"+`${this.obj.userKey}?type=activity&pid=${t}`,"_blank"):this.onDeatilOpen.emit({activityId:t,photoIndex:e,infoType:3}):window.open("/space/"+`${this.obj.userKey}?type=album&a=${t}`,"_blank"))}openComment(t,e){1===this.obj.photoType||2===this.obj.photoType?this.openActivityDetail(t,e):window.open("/space/"+`${this.obj.userKey}?type=album&a=${t}&tab=comment`,"_blank")}isGif(t){return!!t&&-1!==t.indexOf(".gif")}}return t.\u0275fac=function(e){return new(e||t)(i.Pb(c.a),i.Pb(l.a),i.Pb(s.a),i.Pb(o.a),i.Pb(a.a))},t.\u0275cmp=i.Jb({type:t,selectors:[["app-album-activity-result"]],viewQuery:function(t,e){var n;1&t&&(i.Uc(g,!0),i.Uc(p,!0)),2&t&&(i.yc(n=i.ec())&&(e.contxt=n.first),i.yc(n=i.ec())&&(e.imgSrc=n.first))},inputs:{type:"type",item:"item",matchKey:"matchKey",followStatus:"followStatus",discoveryStyle:"discoveryStyle"},outputs:{changeFollow:"changeFollow",onDeatilOpen:"onDeatilOpen"},decls:2,vars:2,consts:[[4,"ngIf"],[1,"meta-container","d-flex","align-items-center"],[1,"ablum-cover-ctn",3,"click"],["class","ablum-cover-path",3,"src",4,"ngIf"],["class","ablum-cover-path","src","./assets/images/default-album-cover.png",4,"ngIf"],[1,"photo-count-cover"],[1,"iconfont","icontupian2","p-icon"],[1,"meta-info","d-flex","flex-column"],[1,"album-header","d-flex","align-items-center"],[1,"title",3,"innerHtml","click"],[1,"album-content","d-flex","flex-column","justify-content-between"],[1,"album-context",3,"innerHtml"],[1,"info-footer","d-flex","justify-content-between","align-items-baseline"],[1,"footer-left","d-flex"],[1,"info-item","text","d-flex","align-items-center","ml-0"],[1,"iconfont","iconguankan"],[1,"info-item","text","d-flex","align-items-center"],[1,"iconfont","iconpinglun"],[1,"info-item","text","clickable","shoucang","d-flex","align-items-center",3,"ngClass","click"],["class","iconfont iconshoucang",4,"ngIf"],["class","iconfont iconshoucangshixin",4,"ngIf"],[1,"info-item","text","clickable","dianzan","d-flex","align-items-center",3,"ngClass","click"],["class","iconfont iconzan",4,"ngIf"],["class","iconfont iconzanshixin",4,"ngIf"],[1,"ablum-cover-path",3,"src"],["src","./assets/images/default-album-cover.png",1,"ablum-cover-path"],[1,"iconfont","iconshoucang"],[1,"iconfont","iconshoucangshixin"],[1,"iconfont","iconzan"],[1,"iconfont","iconzanshixin"],[1,"activity-item-container",3,"ngClass"],[1,"activity-header","d-flex","align-items-center"],[1,"avatar-box",3,"click"],[1,"avatar-path",3,"src"],["class","vipIcon","height","18",3,"src",4,"ngIf"],["src","./assets/images/officalUp.png?v=1","class","vipIcon","height","18",4,"ngIf"],[1,"text-box"],[1,"name-box","d-flex","align-items-center"],[1,"up-name",3,"click"],["class","follow-up-loading",4,"ngIf"],["class","follow-up",3,"ngClass","click",4,"ngIf"],[1,"item-timeStamp"],["class","header-text",4,"ngIf"],["class","title-link","target","_blank",3,"routerLink","queryParams","title",4,"ngIf"],["class","item-text",4,"ngIf"],["class","label-ctn",4,"ngIf"],[1,"location-ctn","d-flex","align-items-center"],["class","iconfont iconditu_dingwei",4,"ngIf"],[1,"item-bottom","d-flex","justify-content-between"],[1,"activity-info","d-flex","align-items-center"],[1,"info-item","text","clickable","d-flex","align-items-center",3,"click"],["height","18",1,"vipIcon",3,"src"],["src","./assets/images/officalUp.png?v=1","height","18",1,"vipIcon"],[1,"follow-up-loading"],[1,"lds-spinner"],[1,"follow-up",3,"ngClass","click"],[1,"header-text"],["target","_blank",1,"title-link",3,"routerLink","queryParams","title"],[1,"item-text"],[1,"inner-text",3,"innerHtml","ngClass"],["contxt",""],["class","toggle-hide-btn",3,"click",4,"ngIf"],[1,"toggle-hide-btn",3,"click"],[1,"label-ctn"],["class","label-item",4,"ngFor","ngForOf"],[1,"label-item"],[1,"iconfont","iconditu_dingwei"],["class","item-photo",4,"ngIf"],[1,"item-photo"],["class","multi-photo",4,"ngIf"],["class","dual-photo",4,"ngIf"],["class","single-photo",4,"ngIf"],[1,"multi-photo"],["class","multi-photo-ctn",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"multi-photo-ctn",3,"ngClass","click"],[1,"multi-photo-path",3,"src","ngClass"],["imgSrc",""],["class","multi-photo-shadow",4,"ngIf"],["class","long-photo-label small",4,"ngIf"],[1,"multi-photo-shadow"],[1,"multi-photo-remain"],[1,"long-photo-label","small"],[1,"dual-photo"],["class","dual-photo-ctn",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"dual-photo-ctn",3,"ngClass","click"],[1,"dual-photo-path",3,"src","ngClass"],["class","long-photo-label",4,"ngIf"],[1,"long-photo-label"],[1,"single-photo"],["class","single-photo-ctn",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"single-photo-ctn",3,"ngClass","click"],[1,"single-photo-path",3,"src","ngClass"],[1,"item-cover"],[1,"cover-photo"],[1,"cover-photo-ctn",3,"ngClass","click"],[1,"cover-photo-path",3,"src"],[1,"canplay-icon"],[1,"iconfont","iconbofang3"]],template:function(t,e){1&t&&(i.Lc(0,P,33,27,"ng-container",0),i.Lc(1,lt,46,43,"ng-container",0)),2&t&&(i.nc("ngIf","album"===e.type),i.Bb(1),i.nc("ngIf","activity"===e.type))},directives:[h.n,h.l,d.g,h.m],pipes:[u.a,u.b,h.v],styles:[".meta-container[_ngcontent-%COMP%]{width:100%;height:256px;padding:16px 18px 16px 0;margin-bottom:18px}.ablum-cover-ctn[_ngcontent-%COMP%]{width:218px;height:218px;margin-right:20px;position:relative;cursor:pointer}.ablum-cover-path[_ngcontent-%COMP%]{width:218px;height:218px;-o-object-fit:cover;object-fit:cover}.photo-count-cover[_ngcontent-%COMP%]{position:absolute;z-index:2;min-width:40px;height:20px;padding:0 4px;left:6px;bottom:6px;background:rgba(0,0,0,.66);display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;justify-content:space-around;font-size:12px;color:#fff}.photo-count-cover[_ngcontent-%COMP%]   .p-icon[_ngcontent-%COMP%]{font-size:12px!important;color:#fff}.meta-info[_ngcontent-%COMP%]{width:100%;height:256px;padding:19px 0}.album-header[_ngcontent-%COMP%]{position:relative;margin-top:6px}.title[_ngcontent-%COMP%]{font-size:20px;color:#fff;cursor:pointer}.light[_nghost-%COMP%]   .title[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .title[_ngcontent-%COMP%]{color:#333}.title[_ngcontent-%COMP%]:hover{color:#00c0ff!important}.album-content[_ngcontent-%COMP%]{margin-top:16px;height:133px}.album-context[_ngcontent-%COMP%]{font-size:14px;line-height:21px;width:640px;overflow:hidden;overflow-wrap:break-word;display:-webkit-box;-webkit-line-clamp:4;-webkit-box-orient:vertical;text-overflow:ellipsis;color:hsla(0,0%,100%,.4)}.light[_nghost-%COMP%]   .album-context[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .album-context[_ngcontent-%COMP%]{color:#888}.tag-ctn[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;margin-bottom:10px}.tag-box[_ngcontent-%COMP%]{background-color:#373843;font-size:12px;margin:0 3px;padding:0 3px;min-width:43px;height:22px;line-height:22px;text-align:center;cursor:default}.light[_nghost-%COMP%]   .tag-box[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .tag-box[_ngcontent-%COMP%]{background-color:#f8f8f8}.info-footer[_ngcontent-%COMP%]{height:33px}.footer-left[_ngcontent-%COMP%]{position:absolute}.info-item[_ngcontent-%COMP%]{color:#fff;font-size:14px;margin-left:1.5rem;margin-right:.5rem}.light[_nghost-%COMP%]   .info-item[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .info-item[_ngcontent-%COMP%]{color:#888}.info-item.text[_ngcontent-%COMP%]{color:hsla(0,0%,100%,.4)!important}.light[_nghost-%COMP%]   .info-item.text[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .info-item.text[_ngcontent-%COMP%]{color:#888!important}.info-item.clickable[_ngcontent-%COMP%]{cursor:pointer}.info-item.clickable[_ngcontent-%COMP%]:hover, .light[_nghost-%COMP%]   .info-item.clickable[_ngcontent-%COMP%]:hover, .light   [_nghost-%COMP%]   .info-item.clickable[_ngcontent-%COMP%]:hover{color:#00c0ff!important}.info-item[_ngcontent-%COMP%]   .iconfont[_ngcontent-%COMP%]{font-size:24px;margin-right:.4rem}.info-item.dianzan.liked[_ngcontent-%COMP%], .info-item.shoucang.active[_ngcontent-%COMP%]{color:#00c0ff!important}.footer-right[_ngcontent-%COMP%]{width:100%}.activity-item-container[_ngcontent-%COMP%]{border-bottom:1px solid;border-color:hsla(0,0%,40%,.2);margin-bottom:20px;position:relative}.activity-item-container.discovery[_ngcontent-%COMP%]{border-bottom:none;margin-bottom:0}.activity-item-container.discovery[_ngcontent-%COMP%]   .activity-header[_ngcontent-%COMP%]{padding-left:0}.activity-item-container.discovery[_ngcontent-%COMP%]   .item-bottom[_ngcontent-%COMP%], .activity-item-container.discovery[_ngcontent-%COMP%]   .item-cover[_ngcontent-%COMP%], .activity-item-container.discovery[_ngcontent-%COMP%]   .item-photo[_ngcontent-%COMP%], .activity-item-container.discovery[_ngcontent-%COMP%]   .item-text[_ngcontent-%COMP%], .activity-item-container.discovery[_ngcontent-%COMP%]   .label-ctn[_ngcontent-%COMP%], .activity-item-container.discovery[_ngcontent-%COMP%]   .location-ctn[_ngcontent-%COMP%]{padding-left:70px}.activity-header[_ngcontent-%COMP%]{margin-bottom:1rem}.avatar-box[_ngcontent-%COMP%]{height:45px;width:45px;margin-right:25px;position:relative;cursor:pointer}.avatar-path[_ngcontent-%COMP%]{width:45px;height:45px;border-radius:50%;overflow:hidden;-o-object-fit:cover;object-fit:cover}.vipIcon[_ngcontent-%COMP%]{position:absolute;margin-left:-12px;margin-top:28px;z-index:10}.text-box[_ngcontent-%COMP%]{height:50px;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-pack:justify;justify-content:space-between}.up-name[_ngcontent-%COMP%]{font-size:16px;color:#fff;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;cursor:pointer}.light[_nghost-%COMP%]   .up-name[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .up-name[_ngcontent-%COMP%]{color:#333}.up-name[_ngcontent-%COMP%]:hover{color:#00c0ff!important}.follow-up[_ngcontent-%COMP%]{color:#00c0ff;border:1px solid #00c0ff;font-size:12px;min-width:44px;padding:0 9px;height:24px;line-height:23px;text-align:center;cursor:pointer;margin-left:15px}.follow-up[_ngcontent-%COMP%]:hover{background-color:#00c0ff!important;color:#fff!important}.follow-up.active[_ngcontent-%COMP%]{border:0;line-height:24px;background-color:#2b2c3a!important;color:hsla(0,0%,100%,.4)!important}.light[_nghost-%COMP%]   .follow-up.active[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .follow-up.active[_ngcontent-%COMP%]{background-color:#eee!important;color:#888!important}.follow-up.active[_ngcontent-%COMP%]:hover{color:#fff!important}.light[_nghost-%COMP%]   .follow-up.active[_ngcontent-%COMP%]:hover, .light   [_nghost-%COMP%]   .follow-up.active[_ngcontent-%COMP%]:hover{background-color:#777!important;color:#fff!important}.follow-up-loading[_ngcontent-%COMP%]{position:relative;color:#00c0ff;border:1px solid #00c0ff;background:#00c0ff;font-size:14px;border-radius:2px;min-width:44px;padding:0 5px;height:24px;line-height:23px;margin-left:15px}.follow-up-loading[_ngcontent-%COMP%]   .lds-spinner[_ngcontent-%COMP%]{position:absolute;-webkit-transform:scale(.3);transform:scale(.3);background:#00c0ff}.inner-text[_ngcontent-%COMP%]{font-size:14px;line-height:21px;overflow:hidden;overflow-wrap:break-word;visibility:hidden}.inner-text.max-5-line[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:5;-webkit-box-orient:vertical;text-overflow:ellipsis}.inner-text.show[_ngcontent-%COMP%]{visibility:visible}.toggle-hide-btn[_ngcontent-%COMP%]{color:#00c0ff;font-size:14px;width:30px;margin-top:0;cursor:pointer}.item-bottom[_ngcontent-%COMP%]{padding:17px 0}.location-ctn[_ngcontent-%COMP%]{color:hsla(0,0%,100%,.4);font-size:14px;margin:9px 0 7px}.light[_nghost-%COMP%]   .location-ctn[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .location-ctn[_ngcontent-%COMP%]{color:#888}.location-ctn[_ngcontent-%COMP%]   .iconditu_dingwei[_ngcontent-%COMP%]{font-size:14px;margin-right:.5rem}.dual-photo[_ngcontent-%COMP%], .multi-photo[_ngcontent-%COMP%], .single-photo[_ngcontent-%COMP%]{display:-webkit-box;display:flex;margin-top:8px}.multi-photo-ctn[_ngcontent-%COMP%]{width:192px;height:192px;overflow:hidden;margin-right:20px;position:relative;cursor:pointer;visibility:hidden}.multi-photo-ctn.show[_ngcontent-%COMP%]{visibility:visible;background:#000}.single-photo-ctn[_ngcontent-%COMP%]{width:300px;height:300px;overflow:hidden;margin-right:20px;position:relative;cursor:pointer;visibility:hidden}.single-photo-ctn.longer[_ngcontent-%COMP%]{width:300px;height:440px}.single-photo-ctn.show[_ngcontent-%COMP%]{visibility:visible}.dual-photo-ctn[_ngcontent-%COMP%]{width:300px;height:300px;overflow:hidden;margin-right:20px;position:relative;cursor:pointer;visibility:hidden}.dual-photo-ctn.show[_ngcontent-%COMP%]{visibility:visible}.dual-photo-path[_ngcontent-%COMP%], .multi-photo-path[_ngcontent-%COMP%], .single-photo-path[_ngcontent-%COMP%]{width:100%;height:100%;-o-object-fit:cover;object-fit:cover}.dual-photo-path.longer[_ngcontent-%COMP%], .multi-photo-path.longer[_ngcontent-%COMP%], .single-photo-path.longer[_ngcontent-%COMP%]{-o-object-position:center 0;object-position:center 0}.multi-photo-path.inShadow[_ngcontent-%COMP%]{opacity:.3}.long-photo-label[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.5);color:#fff;font-size:14px;text-align:center;line-height:14px;padding:8px 16px;position:absolute;top:0;right:0}.long-photo-label.small[_ngcontent-%COMP%]{font-size:12px;line-height:12px;padding:5px 8px}.multi-photo-shadow[_ngcontent-%COMP%]{width:100%;height:100%}.multi-photo-remain[_ngcontent-%COMP%], .multi-photo-shadow[_ngcontent-%COMP%]{position:absolute;top:0;right:0;left:0;bottom:0}.multi-photo-remain[_ngcontent-%COMP%]{margin:auto;font-size:30px;width:100px;height:100px;text-align:center;line-height:100px;color:#fff!important}.item-timeStamp[_ngcontent-%COMP%]{color:hsla(0,0%,100%,.4);font-size:14px}.light[_nghost-%COMP%]   .item-timeStamp[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .item-timeStamp[_ngcontent-%COMP%]{color:#888}.item-timeStamp[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]{margin-left:.5rem;color:#fff}.light[_nghost-%COMP%]   .item-timeStamp[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .item-timeStamp[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]{color:#888}.title-link[_ngcontent-%COMP%]{margin-left:.2rem;display:-webkit-inline-box;display:inline-flex;-webkit-box-align:center;align-items:center;color:#00c0ff!important}.label-ctn[_ngcontent-%COMP%]{display:-webkit-box;display:flex;flex-wrap:nowrap;margin-top:1rem}.label-ctn[_ngcontent-%COMP%]   .label-item[_ngcontent-%COMP%]{font-size:12px;color:hsla(0,0%,100%,.4);background-color:#2b2c3a;display:inline-block;padding:.1em .5em;margin-right:.75em;min-width:48px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;text-align:center}.light[_nghost-%COMP%]   .label-ctn[_ngcontent-%COMP%]   .label-item[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .label-ctn[_ngcontent-%COMP%]   .label-item[_ngcontent-%COMP%]{color:#888;background-color:#f4f4f4}.cover-photo[_ngcontent-%COMP%]{display:-webkit-box;display:flex;margin-top:8px}.cover-photo-ctn[_ngcontent-%COMP%]{width:534px;height:300px;overflow:hidden;margin-right:20px;position:relative;cursor:pointer;visibility:hidden}.cover-photo-ctn.vertical[_ngcontent-%COMP%]{width:300px;height:534px}.cover-photo-ctn.show[_ngcontent-%COMP%]{visibility:visible}.cover-photo-path[_ngcontent-%COMP%]{width:100%;height:100%;-o-object-fit:cover;object-fit:cover}.canplay-icon[_ngcontent-%COMP%]{position:absolute;top:15px;right:15px;width:35px;height:35px;border-radius:50%;background-color:rgba(0,0,0,.5);display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;cursor:pointer}.canplay-icon[_ngcontent-%COMP%]   .iconfont[_ngcontent-%COMP%]{color:#fff!important;font-size:20px;margin-left:2px}@media (max-width:1439px){.multi-photo-ctn[_ngcontent-%COMP%]{width:128px;height:128px}}@media (min-width:1440px) and (max-width:1678px){.multi-photo-ctn[_ngcontent-%COMP%]{width:128px;height:128px}}"]}),t})()},AytR:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));const i={envName:"prod",app:!1,mobile:!1,production:!0,cinema:1,hidecinema:0,title:"\u7231\u58f9\u5e06",allVip:!1,hideAds:!1,disableNotify:!1,enableAndroidDownload:!0,enableIOSDonwload:!0,officialSite:"www.ifsp.tv",isDarkModeSupport:!0,appDownoloadKey:"iyf",switchBaseOnTime:!1,siteKey:"",enableContact:!0,copyRight:"\u8461\u8404\u7259 \u91cc\u65af\u672c 1600-093 Bairro do Rego",enableServerDownloadUrl:!0,appDownloadLink:"https://www.anygate.vip/r/checkdevice?host=iyf.tv",alternativeConfig:[{site:"lgsp.tv",title:"\u84dd\u5149\u89c6\u9891",siteKey:"lgsp.tv",enableAndroidDownload:!0,enableIOSDonwload:!0,enableContact:!0,hidecinema:2,hideAds:!1,copyRight:"\u897f\u73ed\u7259 \u9a6c\u5fb7\u91cc 13 C. Sta. Florencia",enableServerDownloadUrl:!1,appDownoloadKey:"lgsp",appDownloadLink:"https://www.anygate.vip/r/checkdevice?host=lgsp.tv"},{site:"jssp.tv",title:"\u6d4b\u8bd5",siteKey:"jssp.tv",enableAndroidDownload:!0,enableIOSDonwload:!0,enableContact:!0,hidecinema:2,hideAds:!1,copyRight:"\u897f\u73ed\u7259 \u9a6c\u5fb7\u91cc 13 C. Sta. Florencia",enableServerDownloadUrl:!1,appDownoloadKey:"jssp",appDownloadLink:"https://www.anygate.vip/r/checkdevice?host=jssp.tv"},{site:"iyf.tv",title:"\u7231\u58f9\u5e06",siteKey:"iyf.tv",enableAndroidDownload:!0,enableIOSDonwload:!0,enableContact:!0,hidecinema:0,hideAds:!1,copyRight:"\u8461\u8404\u7259 \u91cc\u65af\u672c 1600-093 Bairro do Rego",enableServerDownloadUrl:!0,appDownoloadKey:"iyf",appDownloadLink:"https://www.anygate.vip/r/checkdevice?host=iyf.tv"}],allowHost:["ifun.tv","wyav.tv","flyv.tv","ifvod.tv","ifsp.tv","jssp.tv","ifsp1.tv","ifsp2.tv","ifsp3.tv","ifsp4.tv","ifsp5.tv","ifsp6.tv","ifsp7.tv","ifsp8.tv","ifsp9.tv","iyf.tv","lgsp.tv"]}},B4PT:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n("fXoL");let o=(()=>{class t{constructor(){this.onStartSeek=new i.n,this.onEndSeek=new i.n}subscript(t,e){return"seekstart"==t?this.onStartSeek.subscribe(e):this.onEndSeek.subscribe(e)}notify(t){"seekstart"==t?this.onStartSeek.next(!0):this.onEndSeek.next(!0)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Lb({token:t,factory:t.\u0275fac}),t})()},BE4r:function(t,e,n){"use strict";var i=n("LRne");const o=[{title:"\u65b0\u95fb",link:"news"},{title:"\u5a31\u4e50",link:"yule"},{title:"\u751f\u6d3b",link:"life"},{title:"\u6e38\u620f",link:"games"},{title:"\u97f3\u4e50",link:"music"},{title:"\u65f6\u5c1a",link:"fashion"},{title:"\u79d1\u6280",link:"tech"},{title:"\u534e\u4eba",link:"chinese"}];var s=n("Njeq"),r=n("tWDZ"),a=n("fXoL");n.d(e,"a",(function(){return c}));let c=(()=>{class t{constructor(t,e){this._apiUrlHelper=t,this._httpClientHelper=e,this.cachced=null}getRecommendedNewsList(){const t=this._apiUrlHelper.urlBuilder("recommended-news",{size:17});return null==this.cachced&&(this.cachced=this._httpClientHelper.get(t).toPromise()),this.cachced}getRecommendedNewsCategories(){return Object(i.a)(o)}}return t.\u0275fac=function(e){return new(e||t)(a.Zb(s.a),a.Zb(r.a))},t.\u0275prov=a.Lb({token:t,factory:t.\u0275fac}),t})()},BXbW:function(t,e,n){"use strict";const i={label:"\u5e38\u7528\u8868\u60c5",height:40,width:40,items:[{not:1,id:1,image:"/upload/facetime/201711302204100487874.gif?v=5",title:"\u5403\u60ca",TypeAvailable:0,IsShow:1,AlternativeName:"(:1)",GroupID:1},{not:2,id:2,image:"/upload/facetime/201711291210551066077.gif?v=5",title:"\u5934\u6655",TypeAvailable:0,IsShow:1,AlternativeName:"(:2)",GroupID:1},{not:3,id:3,image:"/upload/facetime/201711291231113182725.gif?v=5",title:"\u60ca\u8bb6",TypeAvailable:0,IsShow:1,AlternativeName:"(:3)",GroupID:1},{not:4,id:4,image:"/upload/facetime/201711291213571326642.gif?v=5",title:"\u9119\u89c6",TypeAvailable:0,IsShow:1,AlternativeName:"(:4)",GroupID:1},{not:5,id:5,image:"/upload/facetime/201711291214201450745.gif?v=5",title:"\u5927\u54ed",TypeAvailable:0,IsShow:1,AlternativeName:"(:5)",GroupID:1},{not:6,id:6,image:"/upload/facetime/201711291215181577760.gif?v=5",title:"\u5927\u7b11",TypeAvailable:0,IsShow:1,AlternativeName:"(:6)",GroupID:1},{not:7,id:7,image:"/upload/facetime/201711291220492070656.gif?v=5",title:"\u6124\u6012",TypeAvailable:0,IsShow:1,AlternativeName:"(:7)",GroupID:1},{not:8,id:8,image:"/upload/facetime/201711291216121661141.gif?v=5",title:"\u9634\u9669",TypeAvailable:0,IsShow:1,AlternativeName:"(:8)",GroupID:1},{not:9,id:9,image:"/upload/facetime/201711291216421631224.gif?v=5",title:"\u5fae\u7b11",TypeAvailable:0,IsShow:1,AlternativeName:"(:9)",GroupID:1},{not:10,id:10,image:"/upload/facetime/201711291226062650867.gif?v=5",title:"\u5acc\u5f03",TypeAvailable:0,IsShow:1,AlternativeName:"(:10)",GroupID:1},{not:11,id:11,image:"/upload/facetime/201711291230143004568.gif?v=5",title:"\u6d41\u6cea",TypeAvailable:0,IsShow:1,AlternativeName:"(:11)",GroupID:1},{not:12,id:12,image:"/upload/facetime/201711291224482457076.gif?v=5",title:"\u96be\u8fc7",TypeAvailable:0,IsShow:1,AlternativeName:"(:12)",GroupID:1},{not:13,id:13,image:"/upload/facetime/201711291223132381683.gif?v=5",title:"\u53ef\u601c",TypeAvailable:0,IsShow:1,AlternativeName:"(:13)",GroupID:1},{not:14,id:13,image:"/upload/facetime/201711291218411802682.gif?v=5",title:"\u574f\u7b11",TypeAvailable:0,IsShow:1,AlternativeName:"(:14)",GroupID:1},{not:15,id:15,image:"/upload/facetime/201711291219121950780.gif?v=5",title:"\u5de6\u54fc\u54fc",TypeAvailable:0,IsShow:1,AlternativeName:"(:15)",GroupID:1},{not:16,id:16,image:"/upload/facetime/201711291219421962533.gif?v=5",title:"\u53f3\u54fc\u54fc",TypeAvailable:0,IsShow:1,AlternativeName:"(:16)",GroupID:1},{not:17,id:17,image:"/upload/facetime/201711291224102410161.gif?v=5",title:"\u6293\u72c2",TypeAvailable:0,IsShow:1,AlternativeName:"(:17)",GroupID:1},{not:18,id:18,image:"/upload/facetime/201711291229372972450.gif?v=5",title:"\u518d\u89c1",TypeAvailable:0,IsShow:1,AlternativeName:"(:18)",GroupID:1},{not:19,id:19,image:"/upload/facetime/201711291248264802431.gif?v=5",title:"\u7cd7\u5927\u4e86",TypeAvailable:0,IsShow:1,AlternativeName:"(:19)",GroupID:1},{not:20,id:20,image:"/upload/facetime/201711291233483305761.gif?v=5",title:"\u659c\u773c",TypeAvailable:0,IsShow:1,AlternativeName:"(:20)",GroupID:1},{not:21,id:21,image:"/upload/facetime/201711291230363028430.gif?v=5",title:"\u59d4\u5c48",TypeAvailable:0,IsShow:1,AlternativeName:"(:21)",GroupID:1},{not:22,id:22,image:"/upload/facetime/201711291233303368740.gif?v=5",title:"\u4eb2\u4eb2",TypeAvailable:0,IsShow:1,AlternativeName:"(:22)",GroupID:1},{not:23,id:23,image:"/upload/facetime/201711291250275001606.gif?v=5",title:"\u53d1\u5446",TypeAvailable:0,IsShow:1,AlternativeName:"(:23)",GroupID:1},{not:24,id:24,image:"/upload/facetime/201711291249274951480.gif?v=5",title:"\u53ef\u601c",TypeAvailable:0,IsShow:1,AlternativeName:"(:24)",GroupID:1},{not:25,id:25,image:"/upload/facetime/201711291234033420848.gif?v=5",title:"\u60ca\u8bb6",TypeAvailable:0,IsShow:1,AlternativeName:"(:25)",GroupID:1},{not:26,id:26,image:"/upload/facetime/201711291220312056577.gif?v=5",title:"\u60ca\u6050",TypeAvailable:0,IsShow:1,AlternativeName:"(:26)",GroupID:1},{not:27,id:27,image:"/upload/facetime/201711291220242056612.gif?v=5",title:"\u5c34\u5c2c",TypeAvailable:0,IsShow:1,AlternativeName:"(:27)",GroupID:1},{not:28,id:28,image:"/upload/facetime/201711291253395388026.gif?v=5",title:"\u7761\u89c9",TypeAvailable:0,IsShow:1,AlternativeName:"(:28)",GroupID:1},{not:29,id:29,image:"/upload/facetime/201711291249124952264.gif?v=5",title:"\u5bb3\u7f9e",TypeAvailable:0,IsShow:1,AlternativeName:"(:29)",GroupID:1},{not:30,id:30,image:"/upload/facetime/201711291221122144543.gif?v=5",title:"\u5f97\u610f",TypeAvailable:0,IsShow:1,AlternativeName:"(:30)",GroupID:1},{not:31,id:31,image:"/upload/facetime/201711291248494825263.gif?v=5",title:"\u6487\u5634",TypeAvailable:0,IsShow:1,AlternativeName:"(:31)",GroupID:1},{not:32,id:32,image:"/upload/facetime/201711291252145288676.gif?v=5",title:"\u6311\u7709",TypeAvailable:0,IsShow:1,AlternativeName:"(:32)",GroupID:1},{not:33,id:33,image:"/upload/facetime/201711291226552651254.gif?v=5",title:"\u7591\u95ee",TypeAvailable:0,IsShow:1,AlternativeName:"(:33)",GroupID:1},{not:34,id:34,image:"/upload/facetime/201711291225132548631.gif?v=5",title:"\u9f13\u638c",TypeAvailable:0,IsShow:1,AlternativeName:"(:34)",GroupID:1},{not:35,id:35,image:"/upload/facetime/201711291251335122356.gif?v=5",title:"\u5c0f\u58f0\u70b9",TypeAvailable:0,IsShow:1,AlternativeName:"(:35)",GroupID:1},{not:36,id:36,image:"/upload/facetime/201711291228562868740.gif?v=5",title:"\u5b89\u6170",TypeAvailable:0,IsShow:1,AlternativeName:"(:36)",GroupID:1},{not:37,id:37,image:"/upload/facetime/201711291228062862017.gif?v=5",title:"\u60ca\u5413",TypeAvailable:0,IsShow:1,AlternativeName:"(:37)",GroupID:1},{not:38,id:38,image:"/upload/facetime/201711291221592107430.gif?v=5",title:"\u793a\u7231",TypeAvailable:0,IsShow:1,AlternativeName:"(:38)",GroupID:1},{not:39,id:39,image:"/upload/facetime/201711291252395222607.gif?v=5",title:"\u53f9\u6c14",TypeAvailable:0,IsShow:1,AlternativeName:"(:39)",GroupID:1},{not:40,id:40,image:"/upload/facetime/201711291228302860111.gif?v=5",title:"\u88c5\u50bb",TypeAvailable:0,IsShow:1,AlternativeName:"(:40)",GroupID:1},{not:182,id:182,image:"/upload/facetime/201711291300250020863.gif?v=5",title:"\u50b2\u5a07",TypeAvailable:0,IsShow:1,AlternativeName:"(:182)",GroupID:1},{not:183,id:182,image:"/upload/facetime/201711291301220130056.gif?v=5",title:"\u6211\u4e0d\u7ba1\uff0c\u6211\u6700\u9177",TypeAvailable:0,IsShow:0,AlternativeName:"(:182)",GroupID:1},{not:184,id:184,image:"/upload/facetime/201711291309100926268.gif?v=5",title:"1\u7c73\u957f\u7684\u5927\u780d\u5200",TypeAvailable:0,IsShow:0,AlternativeName:"(:184)",GroupID:1},{not:185,id:185,image:"/upload/facetime/201711291309100933485.gif?v=5",title:"WHAT",TypeAvailable:0,IsShow:0,AlternativeName:"(:185)",GroupID:1},{not:186,id:186,image:"/upload/facetime/201711291309100957062.gif?v=5",title:"XD%BCZZ`$5XT{IGXFBV}LR2",TypeAvailable:0,IsShow:0,AlternativeName:"(:186)",GroupID:1},{not:187,id:187,image:"/upload/facetime/201711291309100927813.gif?v=5",title:"\u767d\u773c",TypeAvailable:0,IsShow:0,AlternativeName:"(:187)",GroupID:1},{not:188,id:188,image:"/upload/facetime/201711291309100988754.gif?v=5",title:"\u95ed\u5634",TypeAvailable:0,IsShow:0,AlternativeName:"(:188)",GroupID:1},{not:189,id:189,image:"/upload/facetime/201711291309100958616.gif?v=5",title:"\u998b",TypeAvailable:0,IsShow:0,AlternativeName:"(:189)",GroupID:1},{not:190,id:190,image:"/upload/facetime/201711291309100962372.gif?v=5",title:"\u5403\u53e3\u897f\u74dc",TypeAvailable:0,IsShow:0,AlternativeName:"(:190)",GroupID:1},{not:191,id:191,image:"/upload/facetime/201711291309100970410.gif?v=5",title:"\u75f4\u5446",TypeAvailable:0,IsShow:0,AlternativeName:"(:191)",GroupID:1},{not:192,id:192,image:"/upload/facetime/201711291309100940351.gif?v=5",title:"\u5927\u7231",TypeAvailable:0,IsShow:0,AlternativeName:"(:192)",GroupID:1},{not:193,id:193,image:"/upload/facetime/201711291309100926642.gif?v=5",title:"\u5927\u5175",TypeAvailable:0,IsShow:0,AlternativeName:"(:193)",GroupID:1},{not:194,id:194,image:"/upload/facetime/201711291309100930227.gif?v=5",title:"\u5927\u5c0f",TypeAvailable:0,IsShow:0,AlternativeName:"(:194)",GroupID:1},{not:195,id:195,image:"/upload/facetime/201711291309100905721.gif?v=5",title:"\u8bf6\uff0c\u6211\u662f\u8c01\uff0c\u6211\u5728\u54ea\uff0c\u6211\u8981\u53bb\u5e72\u5565",TypeAvailable:0,IsShow:0,AlternativeName:"(:195)",GroupID:1},{not:196,id:196,image:"/upload/facetime/201711291309100918306.gif?v=5",title:"\u8bf6\uff1f",TypeAvailable:0,IsShow:0,AlternativeName:"(:196)",GroupID:1},{not:197,id:197,image:"/upload/facetime/201711291309100978248.gif?v=5",title:"\u594b\u6597",TypeAvailable:0,IsShow:0,AlternativeName:"(:197)",GroupID:1},{not:198,id:198,image:"/upload/facetime/201711291309100902724.gif?v=5",title:"\u6c57",TypeAvailable:0,IsShow:0,AlternativeName:"(:198)",GroupID:1},{not:199,id:199,image:"/upload/facetime/201711291309100963665.gif?v=5",title:"\u5475\u5475",TypeAvailable:0,IsShow:0,AlternativeName:"(:199)",GroupID:1},{not:200,id:200,image:"/upload/facetime/201711291309100927278.gif?v=5",title:"\u559d\u676f\u9152",TypeAvailable:0,IsShow:0,AlternativeName:"(:200)",GroupID:1},{not:201,id:201,image:"/upload/facetime/201711291309100941744.gif?v=5",title:"\u753b\u4e2a\u5706\u5708\uff0c\u4f60\u662f\u91cd\u70b9",TypeAvailable:0,IsShow:0,AlternativeName:"(:201)",GroupID:1},{not:202,id:202,image:"/upload/facetime/201711291309110967651.gif?v=5",title:"\u7070\u5934\u571f\u8138",TypeAvailable:0,IsShow:0,AlternativeName:"(:202)",GroupID:1},{not:203,id:203,image:"/upload/facetime/201711291309110981327.gif?v=5",title:"\u53ef\u7231",TypeAvailable:0,IsShow:0,AlternativeName:"(:203)",GroupID:1},{not:204,id:204,image:"/upload/facetime/201711291309110951268.gif?v=5",title:"\u62a0\u9f3b",TypeAvailable:0,IsShow:0,AlternativeName:"(:204)",GroupID:1},{not:205,id:205,image:"/upload/facetime/201711291309110912121.gif?v=5",title:"\u54ed\u7b11\u4e0d\u5f97",TypeAvailable:0,IsShow:0,AlternativeName:"(:205)",GroupID:1},{not:206,id:206,image:"/upload/facetime/201711291309110930347.gif?v=5",title:"\u7bee\u7403",TypeAvailable:0,IsShow:0,AlternativeName:"(:206)",GroupID:1},{not:207,id:207,image:"/upload/facetime/201711291309110906548.gif?v=5",title:"\u6d41\u6c57",TypeAvailable:0,IsShow:0,AlternativeName:"(:207)",GroupID:1},{not:208,id:208,image:"/upload/facetime/201711291309110920214.gif?v=5",title:"\u4f60\u5728\u8bf4\u5565",TypeAvailable:0,IsShow:0,AlternativeName:"(:208)",GroupID:1},{not:209,id:209,image:"/upload/facetime/201711291309110980156.gif?v=5",title:"\u634f\u8138",TypeAvailable:0,IsShow:0,AlternativeName:"(:209)",GroupID:1},{not:210,id:210,image:"/upload/facetime/201711291309110903632.gif?v=5",title:"\u6f5c\u6c34",TypeAvailable:0,IsShow:0,AlternativeName:"(:210)",GroupID:1},{not:211,id:211,image:"/upload/facetime/201711291309110926208.gif?v=5",title:"\u53bbshi",TypeAvailable:0,IsShow:0,AlternativeName:"(:211)",GroupID:1},{not:212,id:212,image:"/upload/facetime/201711291309110934435.gif?v=5",title:"\u8272\u827a\u53cc\u5168\uff1f",TypeAvailable:0,IsShow:0,AlternativeName:"(:212)",GroupID:1},{not:213,id:213,image:"/upload/facetime/201711291309110905376.gif?v=5",title:"\u5565\uff1f",TypeAvailable:0,IsShow:0,AlternativeName:"(:213)",GroupID:1},{not:214,id:214,image:"/upload/facetime/201711291309110918843.gif?v=5",title:"\u8bf4\u7684\u90fd\u662f\u5565\uff1f",TypeAvailable:0,IsShow:0,AlternativeName:"(:214)",GroupID:1},{not:215,id:215,image:"/upload/facetime/201711291309110978704.gif?v=5",title:"\u5077\u5077\u5730\u770b\u770b\u4f60",TypeAvailable:0,IsShow:0,AlternativeName:"(:215)",GroupID:1},{not:216,id:216,image:"/upload/facetime/201711291309110902461.gif?v=5",title:"\u5077\u7b11",TypeAvailable:0,IsShow:0,AlternativeName:"(:216)",GroupID:1},{not:217,id:217,image:"/upload/facetime/201711291309110968662.gif?v=5",title:"\u5410~",TypeAvailable:0,IsShow:0,AlternativeName:"(:217)",GroupID:1},{not:218,id:218,image:"/upload/facetime/201711291309110930513.gif?v=5",title:"\u5410\u8840",TypeAvailable:0,IsShow:0,AlternativeName:"(:218)",GroupID:1},{not:219,id:219,image:"/upload/facetime/201711291309110947740.gif?v=5",title:"\u54c7\u54c7\u54c7",TypeAvailable:0,IsShow:0,AlternativeName:"(:219)",GroupID:1},{not:220,id:220,image:"/upload/facetime/201711291309110961316.gif?v=5",title:"\u6211\u662f\u5c0f\u53ef\u7231",TypeAvailable:0,IsShow:0,AlternativeName:"(:220)",GroupID:1},{not:221,id:221,image:"/upload/facetime/201711291309110978533.gif?v=5",title:"\u5c0f\u7231",TypeAvailable:0,IsShow:0,AlternativeName:"(:221)",GroupID:1},{not:222,id:222,image:"/upload/facetime/201711291309110902110.gif?v=5",title:"\u9633\u5149\u660e\u5a9a",TypeAvailable:0,IsShow:0,AlternativeName:"(:222)",GroupID:1},{not:223,id:223,image:"/upload/facetime/201711291309110910336.gif?v=5",title:"\u6709\u8bdd\u8981\u8bb2\uff0c\u4f46\u4e0d\u77e5\u600e\u4e48\u8bf4",TypeAvailable:0,IsShow:0,AlternativeName:"(:223)",GroupID:1},{not:224,id:224,image:"/upload/facetime/201711291309110970288.gif?v=5",title:"\u8fd9\u662f\u53bb\u5e7c\u513f\u56ed\u7684\u8f66\u4e48\uff1f",TypeAvailable:0,IsShow:0,AlternativeName:"(:224)",GroupID:1}]};var o=n("dOYE"),s=n("AytR");const r={label:"\u591a\u798f\u718a",height:90,width:90,items:[{not:20210101,id:20210101,image:"/upload/facetime/duofuxing/20210101.gif",title:"\u64e6\u5730",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210101)",GroupID:202101},{not:20210102,id:20210102,image:"/upload/facetime/duofuxing/20210102.gif",title:"\u70b9\u8d5e",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210102)",GroupID:202101},{not:20210103,id:20210103,image:"/upload/facetime/duofuxing/20210103.gif",title:"\u7edd\u671b",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210103)",GroupID:202101},{not:20210104,id:20210104,image:"/upload/facetime/duofuxing/20210104.gif",title:"\u6320\u5934",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210104)",GroupID:202101},{not:20210105,id:20210105,image:"/upload/facetime/duofuxing/20210105.gif",title:"\u751f\u6c14",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210105)",GroupID:202101},{not:20210106,id:20210106,image:"/upload/facetime/duofuxing/20210106.gif",title:"\u8df3\u821e",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210106)",GroupID:202101},{not:20210107,id:20210107,image:"/upload/facetime/duofuxing/20210107.gif",title:"\u5934\u75bc",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210107)",GroupID:202101},{not:20210108,id:20210108,image:"/upload/facetime/duofuxing/20210108.gif",title:"\u65e0\u804a",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210108)",GroupID:202101},{not:20210109,id:20210109,image:"/upload/facetime/duofuxing/20210109.gif",title:"\u65e0\u52a9",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210109)",GroupID:202101},{not:20210110,id:20210110,image:"/upload/facetime/duofuxing/20210110.gif",title:"\u7591\u60d1",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210110)",GroupID:202101},{not:20210111,id:20210111,image:"/upload/facetime/duofuxing/20210111.gif",title:"\u72b9\u8c6b",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210111)",GroupID:202101},{not:20210112,id:20210112,image:"/upload/facetime/duofuxing/20210112.gif",title:"\u518d\u89c1",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210112)",GroupID:202101}]},a={label:"\u7cca\u7cca",height:90,width:90,items:[{not:20210201,id:20210201,image:"/upload/facetime/huhu/20210201.gif",title:"mua",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210201)",GroupID:202102},{not:20210202,id:20210202,image:"/upload/facetime/huhu/20210202.gif",title:"\u9971\u4e86",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210202)",GroupID:202102},{not:20210203,id:20210203,image:"/upload/facetime/huhu/20210203.gif",title:"\u5d07\u62dc",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210203)",GroupID:202102},{not:20210204,id:20210204,image:"/upload/facetime/huhu/20210204.gif",title:"\u6253\u62db\u547c",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210204)",GroupID:202102},{not:20210205,id:20210205,image:"/upload/facetime/huhu/20210205.gif",title:"\u4fef\u5367\u6491",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210205)",GroupID:202102},{not:20210206,id:20210206,image:"/upload/facetime/huhu/20210206.gif",title:"\u5bb3\u7f9e",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210206)",GroupID:202102},{not:20210207,id:20210207,image:"/upload/facetime/huhu/20210207.gif",title:"\u63ea\u8033\u6735",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210207)",GroupID:202102},{not:20210208,id:20210208,image:"/upload/facetime/huhu/20210208.gif",title:"\u54e6\u8c41",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210208)",GroupID:202102},{not:20210209,id:20210209,image:"/upload/facetime/huhu/20210209.gif",title:"\u7948\u7977",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210209)",GroupID:202102},{not:20210210,id:20210210,image:"/upload/facetime/huhu/20210210.gif",title:"\u8ba4\u8f93",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210210)",GroupID:202102},{not:20210211,id:20210211,image:"/upload/facetime/huhu/20210211.gif",title:"\u9001\u82b1\u82b1",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210211)",GroupID:202102},{not:20210212,id:20210212,image:"/upload/facetime/huhu/20210212.gif",title:"\u53f9\u6c14",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210212)",GroupID:202102},{not:20210213,id:20210213,image:"/upload/facetime/huhu/20210213.gif",title:"\u6316\u9f3b",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210213)",GroupID:202102},{not:20210214,id:20210214,image:"/upload/facetime/huhu/20210214.gif",title:"\u59d4\u5c48",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210214)",GroupID:202102},{not:20210215,id:20210215,image:"/upload/facetime/huhu/20210215.gif",title:"\u563b\u563b",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210215)",GroupID:202102},{not:20210216,id:20210216,image:"/upload/facetime/huhu/20210216.gif",title:"\u5fc3\u788e",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210216)",GroupID:202102},{not:20210217,id:20210217,image:"/upload/facetime/huhu/20210217.gif",title:"\u8036\uff01",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210217)",GroupID:202102},{not:20210218,id:20210218,image:"/upload/facetime/huhu/20210218.gif",title:"\u7591\u60d1",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210218)",GroupID:202102},{not:20210219,id:20210219,image:"/upload/facetime/huhu/20210219.gif",title:"\u90c1\u95f7",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210219)",GroupID:202102},{not:20210220,id:20210220,image:"/upload/facetime/huhu/20210220.gif",title:"\u81ea\u604b",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210220)",GroupID:202102}]},c={label:"\u9e21\u5927\u767d",height:90,width:90,items:[{not:20210301,id:20210301,image:"/upload/facetime/jidabai/20210301.gif",title:"\u5b89\u6170",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210301)",GroupID:202103},{not:20210302,id:20210302,image:"/upload/facetime/jidabai/20210302.gif",title:"\u62b1\u7d27",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210302)",GroupID:202103},{not:20210303,id:20210303,image:"/upload/facetime/jidabai/20210303.gif",title:"\u53d8\u8eab",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210303)",GroupID:202103},{not:20210304,id:20210304,image:"/upload/facetime/jidabai/20210304.gif",title:"\u6233\u6233",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210304)",GroupID:202103},{not:20210305,id:20210305,image:"/upload/facetime/jidabai/20210305.gif",title:"\u6253\u4f60",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210305)",GroupID:202103},{not:20210306,id:20210306,image:"/upload/facetime/jidabai/20210306.gif",title:"\u7b49\u996d",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210306)",GroupID:202103},{not:20210307,id:20210307,image:"/upload/facetime/jidabai/20210307.gif",title:"\u8c03\u76ae",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210307)",GroupID:202103},{not:20210308,id:20210308,image:"/upload/facetime/jidabai/20210308.gif",title:"\u53d1\u82bd",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210308)",GroupID:202103},{not:20210309,id:20210309,image:"/upload/facetime/jidabai/20210309.gif",title:"\u9f13\u638c",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210309)",GroupID:202103},{not:20210310,id:20210310,image:"/upload/facetime/jidabai/20210310.gif",title:"\u89c2\u671b",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210310)",GroupID:202103},{not:20210311,id:20210311,image:"/upload/facetime/jidabai/20210311.gif",title:"\u6b22\u547c",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210311)",GroupID:202103},{not:20210312,id:20210312,image:"/upload/facetime/jidabai/20210312.gif",title:"\u51fb\u62f3",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210312)",GroupID:202103},{not:20210313,id:20210313,image:"/upload/facetime/jidabai/20210313.gif",title:"\u51fb\u638c",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210313)",GroupID:202103},{not:20210314,id:20210314,image:"/upload/facetime/jidabai/20210314.gif",title:"\u53fd\u55b3",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210314)",GroupID:202103},{not:20210315,id:20210315,image:"/upload/facetime/jidabai/20210315.gif",title:"\u6e9c\u4e86",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210315)",GroupID:202103},{not:20210316,id:20210316,image:"/upload/facetime/jidabai/20210316.gif",title:"\u634f\u8138",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210316)",GroupID:202103},{not:20210317,id:20210317,image:"/upload/facetime/jidabai/20210317.gif",title:"\u6e05\u9192\u70b9",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210317)",GroupID:202103},{not:20210318,id:20210318,image:"/upload/facetime/jidabai/20210318.gif",title:"\u5237\u7259",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210318)",GroupID:202103},{not:20210319,id:20210319,image:"/upload/facetime/jidabai/20210319.gif",title:"\u63d0\u793a",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210319)",GroupID:202103},{not:20210320,id:20210320,image:"/upload/facetime/jidabai/20210320.gif",title:"\u8df3\u821e",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210320)",GroupID:202103},{not:20210321,id:20210321,image:"/upload/facetime/jidabai/20210321.gif",title:"\u5410",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210321)",GroupID:202103},{not:20210322,id:20210322,image:"/upload/facetime/jidabai/20210322.gif",title:"\u4f9d\u9760",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210322)",GroupID:202103},{not:20210323,id:20210323,image:"/upload/facetime/jidabai/20210323.gif",title:"\u8d5e",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210323)",GroupID:202103},{not:20210324,id:20210324,image:"/upload/facetime/jidabai/20210324.gif",title:"\u77e5\u9519",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210324)",GroupID:202103}]},l={label:"\u55b5\u9b42",height:90,width:90,items:[{not:20210401,id:20210401,image:"/upload/facetime/miaohun/20210401.gif",title:"\u4e0d\u8981",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210401)",GroupID:202104},{not:20210402,id:20210402,image:"/upload/facetime/miaohun/20210402.gif",title:"\u5403\u74dc",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210402)",GroupID:202104},{not:20210403,id:20210403,image:"/upload/facetime/miaohun/20210403.gif",title:"\u5403\u60ca",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210403)",GroupID:202104},{not:20210404,id:20210404,image:"/upload/facetime/miaohun/20210404.gif",title:"\u6296\u7709",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210404)",GroupID:202104},{not:20210405,id:20210405,image:"/upload/facetime/miaohun/20210405.gif",title:"\u53d1\u6296",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210405)",GroupID:202104},{not:20210406,id:20210406,image:"/upload/facetime/miaohun/20210406.gif",title:"\u4e56\u5de7",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210406)",GroupID:202104},{not:20210407,id:20210407,image:"/upload/facetime/miaohun/20210407.gif",title:"\u54c8\u54c8",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210407)",GroupID:202104},{not:20210408,id:20210408,image:"/upload/facetime/miaohun/20210408.gif",title:"\u563f\u563f",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210408)",GroupID:202104},{not:20210409,id:20210409,image:"/upload/facetime/miaohun/20210409.gif",title:"\u574f\u7b11",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210409)",GroupID:202104},{not:20210410,id:202104010,image:"/upload/facetime/miaohun/20210410.gif",title:"\u60ca\u6050",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210410)",GroupID:202104},{not:20210411,id:20210411,image:"/upload/facetime/miaohun/20210411.gif",title:"\u5c31\u8fd9\uff1f",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210411)",GroupID:202104},{not:20210412,id:20210412,image:"/upload/facetime/miaohun/20210412.gif",title:"\u51b7\u6f20",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210412)",GroupID:202104},{not:20210413,id:20210413,image:"/upload/facetime/miaohun/20210413.gif",title:"\u7565\u7565\u7565",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210413)",GroupID:202104},{not:20210414,id:20210414,image:"/upload/facetime/miaohun/20210414.gif",title:"\u96be\u53d7",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210414)",GroupID:202104},{not:20210415,id:20210415,image:"/upload/facetime/miaohun/20210415.gif",title:"\u8272\u8272",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210415)",GroupID:202104},{not:20210416,id:20210416,image:"/upload/facetime/miaohun/20210416.gif",title:"\u95ea\u5149",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210416)",GroupID:202104},{not:20210417,id:20210417,image:"/upload/facetime/miaohun/20210417.gif",title:"\u751f\u6c14",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210417)",GroupID:202104},{not:20210418,id:20210418,image:"/upload/facetime/miaohun/20210418.gif",title:"\u6311\u7709",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210418)",GroupID:202104},{not:20210419,id:20210419,image:"/upload/facetime/miaohun/20210419.gif",title:"\u5077\u7b11",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210419)",GroupID:202104},{not:20210420,id:20210420,image:"/upload/facetime/miaohun/20210420.gif",title:"\u5413\u50bb",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210420)",GroupID:202104},{not:20210421,id:20210421,image:"/upload/facetime/miaohun/20210421.gif",title:"\u5acc\u5f03",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210421)",GroupID:202104},{not:20210422,id:20210422,image:"/upload/facetime/miaohun/20210422.gif",title:"\u56a3\u5f20",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210422)",GroupID:202104},{not:20210423,id:20210423,image:"/upload/facetime/miaohun/20210423.gif",title:"\u90aa\u6076",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210423)",GroupID:202104},{not:20210424,id:20210424,image:"/upload/facetime/miaohun/20210424.gif",title:"\u53f3\u8fb9",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210424)",GroupID:202104}]},h={label:"\u9739\u96f3\u5154",height:90,width:90,items:[{not:20210501,id:20210501,image:"/upload/facetime/pilitu/20210501.gif",title:"OK",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210501)",GroupID:202105},{not:20210502,id:20210502,image:"/upload/facetime/pilitu/20210502.gif",title:"ROCK",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210502)",GroupID:202105},{not:20210503,id:20210503,image:"/upload/facetime/pilitu/20210503.gif",title:"YEAH",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210503)",GroupID:202105},{not:20210504,id:20210504,image:"/upload/facetime/pilitu/20210504.gif",title:"\u5403\u74dc",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210504)",GroupID:202105},{not:20210505,id:20210505,image:"/upload/facetime/pilitu/20210505.gif",title:"\u9524\u7206",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210505)",GroupID:202105},{not:20210506,id:20210506,image:"/upload/facetime/pilitu/20210506.gif",title:"\u6253\u4f60",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210506)",GroupID:202105},{not:20210507,id:20210507,image:"/upload/facetime/pilitu/20210507.gif",title:"\u6eda",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210507)",GroupID:202105},{not:20210508,id:20210508,image:"/upload/facetime/pilitu/20210508.gif",title:"\u54c8\u54c8\u54c8",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210508)",GroupID:202105},{not:20210509,id:20210509,image:"/upload/facetime/pilitu/20210509.gif",title:"\u55e8",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210509)",GroupID:202105},{not:20210510,id:202105010,image:"/upload/facetime/pilitu/20210510.gif",title:"\u6d2a\u8352",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210510)",GroupID:202105},{not:20210511,id:20210511,image:"/upload/facetime/pilitu/20210511.gif",title:"\u4eae\u76f8",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210511)",GroupID:202105},{not:20210512,id:20210512,image:"/upload/facetime/pilitu/20210512.gif",title:"\u4f60\u8bf4",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210512)",GroupID:202105},{not:20210513,id:20210513,image:"/upload/facetime/pilitu/20210513.gif",title:"\u4eb2\u4eb2",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210513)",GroupID:202105},{not:20210514,id:20210514,image:"/upload/facetime/pilitu/20210514.gif",title:"\u65e0\u8f9c",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210514)",GroupID:202105},{not:20210515,id:20210515,image:"/upload/facetime/pilitu/20210515.gif",title:"\u5c0f\u6837\u513f",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210515)",GroupID:202105},{not:20210516,id:20210516,image:"/upload/facetime/pilitu/20210516.gif",title:"\u5174\u594b",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210516)",GroupID:202105}]},d={label:"\u7403\u7403",height:90,width:90,items:[{not:20210601,id:20210601,image:"/upload/facetime/qiuqiu/20210601.gif",title:"\u6309\u6469",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210601)",GroupID:202106},{not:20210602,id:20210602,image:"/upload/facetime/qiuqiu/20210602.gif",title:"\u62dc\u62dc",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210602)",GroupID:202106},{not:20210603,id:20210603,image:"/upload/facetime/qiuqiu/20210603.gif",title:"\u8e66\u8e66\u8df3\u8df3",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210603)",GroupID:202106},{not:20210604,id:20210604,image:"/upload/facetime/qiuqiu/20210604.gif",title:"\u51b0\u6dc7\u6dcb",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210604)",GroupID:202106},{not:20210605,id:20210605,image:"/upload/facetime/qiuqiu/20210605.gif",title:"\u4e56",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210605)",GroupID:202106},{not:20210606,id:20210606,image:"/upload/facetime/qiuqiu/20210606.gif",title:"\u5f00\u5fc3",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210606)",GroupID:202106},{not:20210607,id:20210607,image:"/upload/facetime/qiuqiu/20210607.gif",title:"\u751f\u65e0\u53ef\u604b",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210607)",GroupID:202106},{not:20210608,id:20210608,image:"/upload/facetime/qiuqiu/20210608.gif",title:"\u662f\u8c01\uff1f\uff01",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210608)",GroupID:202106},{not:20210609,id:20210609,image:"/upload/facetime/qiuqiu/20210609.gif",title:"\u7a81\u7136\u51fa\u73b0",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210609)",GroupID:202106},{not:20210610,id:202106010,image:"/upload/facetime/qiuqiu/20210610.gif",title:"\u73a9\u5f04",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210610)",GroupID:202106},{not:20210611,id:20210611,image:"/upload/facetime/qiuqiu/20210611.gif",title:"\u73a9\u800d",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210611)",GroupID:202106},{not:20210612,id:20210612,image:"/upload/facetime/qiuqiu/20210612.gif",title:"\u95ee\u53f7",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210612)",GroupID:202106},{not:20210613,id:20210613,image:"/upload/facetime/qiuqiu/20210613.gif",title:"\u60f3\u8981",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210613)",GroupID:202106},{not:20210614,id:20210614,image:"/upload/facetime/qiuqiu/20210614.gif",title:"\u5fc3",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210614)",GroupID:202106},{not:20210615,id:20210615,image:"/upload/facetime/qiuqiu/20210615.gif",title:"\u9192\u661f",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210615)",GroupID:202106},{not:20210616,id:20210616,image:"/upload/facetime/qiuqiu/20210616.gif",title:"\u65e9\u4e0a\u597d",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210616)",GroupID:202106}]},u={label:"\u751c\u5fc3\u5154",height:90,width:90,items:[{not:20210701,id:20210701,image:"/upload/facetime/tianxingtu/20210701.gif",title:"Hi",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210701)",GroupID:202107},{not:20210702,id:20210702,image:"/upload/facetime/tianxingtu/20210702.gif",title:"mua~",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210702)",GroupID:202107},{not:20210703,id:20210703,image:"/upload/facetime/tianxingtu/20210703.gif",title:"OK",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210703)",GroupID:202107},{not:20210704,id:20210704,image:"/upload/facetime/tianxingtu/20210704.gif",title:"\u554a\u554a\u554a",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210704)",GroupID:202107},{not:20210705,id:20210705,image:"/upload/facetime/tianxingtu/20210705.gif",title:"\u5b89\u6170",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210705)",GroupID:202107},{not:20210706,id:20210706,image:"/upload/facetime/tianxingtu/20210706.gif",title:"\u62b1\u62b1",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210706)",GroupID:202107},{not:20210707,id:20210707,image:"/upload/facetime/tianxingtu/20210707.gif",title:"\u66b4\u98ce\u54ed\u6ce3",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210707)",GroupID:202107},{not:20210708,id:20210708,image:"/upload/facetime/tianxingtu/20210708.gif",title:"\u6bd4\u5fc3",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210708)",GroupID:202107},{not:20210709,id:20210709,image:"/upload/facetime/tianxingtu/20210709.gif",title:"\u54c8\u54c8\u54c8\u54c8",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210709)",GroupID:202107},{not:20210710,id:202107010,image:"/upload/facetime/tianxingtu/20210710.gif",title:"\u597d",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210710)",GroupID:202107},{not:20210711,id:20210711,image:"/upload/facetime/tianxingtu/20210711.gif",title:"\u597d\u670b\u53cb",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210711)",GroupID:202107},{not:20210712,id:20210712,image:"/upload/facetime/tianxingtu/20210712.gif",title:"\u52a0\u6cb9\uff01",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210712)",GroupID:202107},{not:20210713,id:20210713,image:"/upload/facetime/tianxingtu/20210713.gif",title:"\u53ef\u7231",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210713)",GroupID:202107},{not:20210714,id:20210714,image:"/upload/facetime/tianxingtu/20210714.gif",title:"\u54ed\u6ce3",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210714)",GroupID:202107},{not:20210715,id:20210715,image:"/upload/facetime/tianxingtu/20210715.gif",title:"\u96be\u8fc7",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210715)",GroupID:202107},{not:20210716,id:20210716,image:"/upload/facetime/tianxingtu/20210716.gif",title:"\u55ef",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210716)",GroupID:202107},{not:20210717,id:20210717,image:"/upload/facetime/tianxingtu/20210717.gif",title:"\u4f60\u6700\u597d\u4e86",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210717)",GroupID:202107},{not:20210718,id:20210718,image:"/upload/facetime/tianxingtu/20210718.gif",title:"\u671f\u5f85",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210718)",GroupID:202107},{not:20210719,id:20210719,image:"/upload/facetime/tianxingtu/20210719.gif",title:"\u9001\u4f60\u5fc3",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210719)",GroupID:202107},{not:20210720,id:20210720,image:"/upload/facetime/tianxingtu/20210720.gif",title:"\u54c7",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210720)",GroupID:202107},{not:20210721,id:20210721,image:"/upload/facetime/tianxingtu/20210721.gif",title:"\u665a\u5b89",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210721)",GroupID:202107},{not:20210722,id:20210722,image:"/upload/facetime/tianxingtu/20210722.gif",title:"\u8c22\u8c22",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210722)",GroupID:202107},{not:20210723,id:20210723,image:"/upload/facetime/tianxingtu/20210723.gif",title:"\u8d5e",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210723)",GroupID:202107},{not:20210724,id:20210724,image:"/upload/facetime/tianxingtu/20210724.gif",title:"\u8ffd\u9010",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210724)",GroupID:202107}]},g={label:"\u5154\u767d\u767d",height:90,width:90,items:[{not:20210801,id:20210801,image:"/upload/facetime/tubaibai/20210801.gif",title:"\u7231\u4f60",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210801)",GroupID:202108},{not:20210802,id:20210802,image:"/upload/facetime/tubaibai/20210802.gif",title:"\u7231\u5fc3\u53d1\u5c04",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210802)",GroupID:202108},{not:20210803,id:20210803,image:"/upload/facetime/tubaibai/20210803.gif",title:"\u5b89\u6170",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210803)",GroupID:202108},{not:20210804,id:20210804,image:"/upload/facetime/tubaibai/20210804.gif",title:"\u54c8\u54c8\u54c8\u54c8",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210804)",GroupID:202108},{not:20210805,id:20210805,image:"/upload/facetime/tubaibai/20210805.gif",title:"\u597d\u5403",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210805)",GroupID:202108},{not:20210806,id:20210806,image:"/upload/facetime/tubaibai/20210806.gif",title:"\u54ed\u6ce3",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210806)",GroupID:202108},{not:20210807,id:20210807,image:"/upload/facetime/tubaibai/20210807.gif",title:"\u8d56\u5e8a",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210807)",GroupID:202108},{not:20210808,id:20210808,image:"/upload/facetime/tubaibai/20210808.gif",title:"\u7a81\u7136\u51fa\u73b0",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210808)",GroupID:202108},{not:20210809,id:20210809,image:"/upload/facetime/tubaibai/20210809.gif",title:"\u5fc3\u788e",TypeAvailable:1,IsShow:1,AlternativeName:"(:20210809)",GroupID:202108}]};var p=n("3My9"),f=n("fXoL");n.d(e,"a",(function(){return b}));let b=(()=>{class t{constructor(t){this._utility=t,this.isAdult=2===s.a.cinema}getEmojiItems(){return this.transform(i)}getEmojiDuoFuXiong(){return this.transform(r)}getEmojiHuHu(){return this.transform(a)}getEmojiJiDaBai(){return this.transform(c)}getEmojiMiaoHun(){return this.transform(l)}getEmojiPiLiTu(){return this.transform(h)}getEmojiQiuQiu(){return this.transform(d)}getEmojiTianXingTu(){return this.transform(u)}getEmojiTuBaiBai(){return this.transform(g)}transform(t){return{label:t.label,height:t.height,width:t.width,items:t.items.map(t=>({id:t.id,image:t.image,imageHost:"https://static."+this._utility.GetHost(""),title:t.title,symbol:t.AlternativeName}))}}getImageFromSymbol(t){const e=[...this.transform(i).items,...this.transform(r).items,...this.transform(a).items,...this.transform(c).items,...this.transform(l).items,...this.transform(h).items,...this.transform(d).items,...this.transform(u).items,...this.transform(g).items].filter(e=>e.symbol===t);return e.length?Object.assign(new o.a,e[0]).html:""}getSymbolFromImage(t){const e=[...this.transform(i).items,...this.transform(r).items,...this.transform(a).items,...this.transform(c).items,...this.transform(l).items,...this.transform(h).items,...this.transform(d).items,...this.transform(u).items,...this.transform(g).items].filter(e=>e.image.replace(/^.*[\\\/]/,"")===t.replace(/^.*[\\\/]/,""));return e.length?(this.isAdult&&(e[0].imageHost="https://static.wyav.tv"),e[0].symbol):""}emojiString2Html(t){const e=t.match(/\(:\d*?\)/gi);return e&&e.forEach(e=>{const n=this.getImageFromSymbol(e);t=t.replace(e,n)}),t}stripHtml(t){var e=document.createElement("DIV");return e.innerHTML=t.replace(/<br>/g,"\n"),e.textContent||e.innerText||""}emojiHtml2String(t){const e=t.match(/<img.*?src="(.*?)">/gi);return e&&e.forEach(e=>{const n=e.match(/src="(.*?)"/);if(n){const i=this.getSymbolFromImage(n[1]);t=t.replace(e,i)}}),this.stripHtml(t)}}return t.\u0275fac=function(e){return new(e||t)(f.Zb(p.a))},t.\u0275prov=f.Lb({token:t,factory:t.\u0275fac}),t})()},C2AF:function(t,e,n){"use strict";var i=n("fXoL"),o=n("bTYh"),s=n("0Xxy"),r=n("4z3+"),a=n("ELgw"),c=n("3My9"),l=n("YKxU"),h=n("5+WD"),d=n("ciLT"),u=n("9U6K"),g=n("3E0/"),p=n("3Pt+"),f=n("ofXK"),b=n("BXbW");let m=(()=>{class t{constructor(t,e,n){this.elRef=t,this.sanitizer=e,this._dnEmojiService=n,this.contenteditableModelChange=new i.n,this.contenteditableHtml=!1}ngOnChanges(t){t.contenteditableModel&&(t.contenteditableModel.isFirstChange()&&!this.contenteditableModel&&this.onInput(!0),this.refreshView())}onInput(t=!1){let e=this.elRef.nativeElement[this.getProperty()];t&&(e=e.replace(/^[\n\s]+/,""),e=e.replace(/[\n\s]+$/,"")),this.contenteditableModelChange.emit(e)}onPaste(t){t.preventDefault();let e=t.clipboardData.getData("text/html")||t.clipboardData.getData("text/plain");e=this._dnEmojiService.emojiHtml2String(e);const n=document.createElement("html");n.innerHTML=e,e=n.innerText.replace(/^[\n\s]+/,"").replace(/[\n\s]+$/,"").replace(/\u00a0/g," "),e=this._dnEmojiService.emojiString2Html(e),document.execCommand("insertHTML",!0,e)}refreshView(){const t=this.sanitize(this.contenteditableModel);t!==this.elRef.nativeElement[this.getProperty()]&&(this.elRef.nativeElement[this.getProperty()]=t)}getProperty(){return this.contenteditableHtml?"innerHTML":"innerText"}sanitize(t){return this.contenteditableHtml?this.sanitizer.sanitize(i.I.HTML,t):t}}return t.\u0275fac=function(e){return new(e||t)(i.Pb(i.l),i.Pb(i.H),i.Pb(b.a))},t.\u0275dir=i.Kb({type:t,selectors:[["","contenteditableModel",""]],hostBindings:function(t,e){1&t&&i.dc("input",(function(t){return e.onInput()}))("blur",(function(t){return e.onInput()}))("keyup",(function(t){return e.onInput()}))("paste",(function(t){return e.onPaste(t)}))},inputs:{contenteditableModel:"contenteditableModel",contenteditableHtml:"contenteditableHtml"},outputs:{contenteditableModelChange:"contenteditableModelChange"},features:[i.zb()]}),t})();var v=n("e5K9"),y=n("02qi"),C=n("1lty"),_=n("m9Pk"),x=n("uSqO");function P(t,e){if(1&t&&(i.Vb(0,"div",12),i.Qb(1,"app-progress-bar",13),i.Ub()),2&t){const t=i.gc();i.Bb(1),i.nc("progress",t.progress>100?100:t.progress)("plainStyle",!0)}}let w=(()=>{class t{constructor(){this.ratioHeight=73,this.coverHeight=360,this.coverWidth=640,this.isFileUploaded=!1,this.viewModel={},this.formErrors={title:void 0,tagCategory:void 0,labels:void 0,coverImage:void 0,files:void 0},this.captureBg="",this.capturePreview="",this.canAutoCut=!0,this.inPopUp=!1,this.progress=0,this.metaDataLoaded=!1,this.isVertical=!1,this.onCoverStream=new i.n}ngOnInit(){}ngOnChanges(t){t.metaDataLoaded&&!t.metaDataLoaded.firstChange&&(this.isVertical?(this.ratioHeight=175,this.coverHeight=640,this.coverWidth=360):(this.ratioHeight=73,this.coverHeight=360,this.coverWidth=640))}onImageFileChange(t){this.formErrors.coverImage=void 0,this.viewModel.image=null,this.viewModel.corverStream=t,this.onCoverStream.emit(this.viewModel)}triggerImageBrowser(){this.imageInput.triggerImage()}onPreviewSelected(t){this.imageInput.imgBase64=t,this.imageInput.remoteImage=null,this.imageInput.onFileChange.emit(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Jb({type:t,selectors:[["app-activity-video-upload"]],viewQuery:function(t,e){var n;1&t&&i.Uc(y.a,!0),2&t&&i.yc(n=i.ec())&&(e.imageInput=n.first)},inputs:{isFileUploaded:"isFileUploaded",viewModel:"viewModel",formErrors:"formErrors",captureBg:"captureBg",capturePreview:"capturePreview",canAutoCut:"canAutoCut",inPopUp:"inPopUp",progress:"progress",metaDataLoaded:"metaDataLoaded",isVertical:"isVertical"},outputs:{onCoverStream:"onCoverStream"},features:[i.zb()],decls:14,vars:20,consts:[[1,"poster-selector"],[1,"poster-uploader"],[1,"poster-uploader-container"],[3,"remoteImage","height","imageHeight","imageWidth","errorMessage","inPopUp","inActivity","onFileChange"],["imageInput",""],["class","progress-container",4,"ngIf"],[1,"poster-uploader-footer"],[1,"w-100",3,"fullWidth","click"],[1,"flex-1"],[3,"isFileUploaded","canAutoCut","captureBg","capturePreview","ratioHeight","inPopUp","inActivity","metaDataLoaded","isVertical","onSelected"],["PreviewGenerator",""],[1,"poster-generated-footer"],[1,"progress-container"],[3,"progress","plainStyle"]],template:function(t,e){1&t&&(i.Vb(0,"div",0),i.Vb(1,"div",1),i.Vb(2,"div",2),i.Vb(3,"app-image-input",3,4),i.dc("onFileChange",(function(t){return e.onImageFileChange(t)})),i.Ub(),i.Lc(5,P,2,2,"div",5),i.Ub(),i.Vb(6,"div",6),i.Vb(7,"app-dn-button",7),i.dc("click",(function(t){return e.triggerImageBrowser()})),i.Nc(8,"\u4e0a\u4f20\u5c01\u9762"),i.Ub(),i.Ub(),i.Ub(),i.Vb(9,"div",8),i.Vb(10,"app-preview-generator",9,10),i.dc("onSelected",(function(t){return e.onPreviewSelected(t)})),i.Ub(),i.Vb(12,"div",11),i.Nc(13),i.Ub(),i.Ub(),i.Ub()),2&t&&(i.Bb(3),i.nc("remoteImage",e.viewModel.image)("height",e.ratioHeight)("imageHeight",e.coverHeight)("imageWidth",e.coverWidth)("errorMessage",e.formErrors.coverImage)("inPopUp",e.inPopUp)("inActivity",!0),i.Bb(2),i.nc("ngIf",e.progress>0),i.Bb(2),i.nc("fullWidth",!0),i.Bb(3),i.nc("isFileUploaded",e.isFileUploaded)("canAutoCut",e.canAutoCut)("captureBg",e.captureBg)("capturePreview",e.capturePreview)("ratioHeight",e.ratioHeight)("inPopUp",e.inPopUp)("inActivity",!0)("metaDataLoaded",e.metaDataLoaded)("isVertical",e.isVertical),i.Bb(3),i.Qc(" \u5c01\u9762\u5927\u5c0f\u5fc5\u987b\u4e3a",e.coverWidth,"*",e.coverHeight,"(16:9) "))},directives:[y.a,f.n,C.a,_.a,x.a],styles:[".poster-selector[_ngcontent-%COMP%]{display:-webkit-box;display:flex;width:100%}.poster-uploader[_ngcontent-%COMP%]{width:130px;margin-right:30px}.poster-generated-footer[_ngcontent-%COMP%], .poster-uploader-footer[_ngcontent-%COMP%]{min-height:48px;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}.poster-generated-footer[_ngcontent-%COMP%]{padding:5px 20px}.poster-uploader-container[_ngcontent-%COMP%]{margin-bottom:15px;position:relative}.progress-container[_ngcontent-%COMP%]{width:100%;position:absolute;left:0;bottom:0}"]}),t})();var O=n("y9Rv"),M=n("gstJ"),k=n("dayM"),S=n("Kdsb");n.d(e,"a",(function(){return ot}));const I=["newImage"],L=["contentEditor"],T=["locationList"];function A(t,e){if(1&t){const t=i.Wb();i.Vb(0,"div",22),i.dc("click",(function(e){return i.Cc(t),i.gc().cancel()})),i.Qb(1,"i",23),i.Ub()}}function N(t,e){if(1&t){const t=i.Wb();i.Vb(0,"div",24),i.Vb(1,"div",25),i.dc("click",(function(e){return i.Cc(t),i.gc().selectUplaodType("photo")})),i.Nc(2,"\u4e0a\u4f20\u7167\u7247"),i.Ub(),i.Vb(3,"div",26),i.Nc(4," \u4e0a\u4f20\u89c6\u9891 "),i.Vb(5,"app-video-input",27),i.dc("onFileChange",(function(e){return i.Cc(t),i.gc().onVideoFileChange(e)})),i.Ub(),i.Ub(),i.Ub()}if(2&t){const t=i.gc();i.Bb(5),i.nc("showBox",!1)("onlyButton",!0)("errorMessage",t.formErrors.files)}}function B(t,e){if(1&t){const t=i.Wb();i.Vb(0,"div",36),i.Vb(1,"div",37),i.dc("click",(function(e){i.Cc(t);const n=i.gc().index;return i.gc(2).remove(n)})),i.Qb(2,"i",38),i.Ub(),i.Ub()}}function V(t,e){1&t&&(i.Vb(0,"div",43),i.Qb(1,"i",44),i.Nc(2," \u7b49\u5f85\u4e0a\u4f20 "),i.Ub())}function U(t,e){1&t&&(i.Vb(0,"div",43),i.Nc(1,"\u4e0a\u4f20\u4e2d"),i.Ub())}function D(t,e){1&t&&(i.Vb(0,"div",43),i.Vb(1,"div",45),i.Qb(2,"i",46),i.Ub(),i.Nc(3," \u4f20\u8f93\u5b8c\u6210 "),i.Ub())}function E(t,e){1&t&&(i.Vb(0,"div",43),i.Nc(1,"\u4e0a\u4f20\u5931\u8d25"),i.Ub())}const R=function(t){return{full:t}};function F(t,e){if(1&t&&(i.Vb(0,"div",47),i.Qb(1,"div",48),i.Ub()),2&t){const t=i.gc(2).$implicit;i.Bb(1),i.nc("ngClass",i.sc(1,R,t.getCallback))}}function j(t,e){if(1&t&&(i.Vb(0,"div",39),i.Vb(1,"div",40),i.Lc(2,V,3,0,"div",41),i.Lc(3,U,2,0,"div",41),i.Lc(4,D,4,0,"div",41),i.Lc(5,E,2,0,"div",41),i.Ub(),i.Lc(6,F,2,3,"div",42),i.Ub()),2&t){const t=i.gc().$implicit;i.Bb(2),i.nc("ngIf",0===t.status),i.Bb(1),i.nc("ngIf",1===t.status),i.Bb(1),i.nc("ngIf",2===t.status),i.Bb(1),i.nc("ngIf",3===t.status),i.Bb(1),i.nc("ngIf",1===t.status)}}function z(t,e){1&t&&(i.Vb(0,"div",39),i.Vb(1,"div",40),i.Vb(2,"div",43),i.Nc(3,"\u4e0a\u4f20\u5931\u8d25"),i.Ub(),i.Ub(),i.Ub())}function H(t,e){if(1&t&&(i.Vb(0,"div",32),i.Qb(1,"img",33),i.Lc(2,B,3,0,"div",34),i.Lc(3,j,7,5,"div",35),i.Lc(4,z,4,0,"div",35),i.Ub()),2&t){const t=e.$implicit,n=i.gc(2);i.Bb(1),i.nc("src",t.imagePath,i.Fc),i.Bb(1),i.nc("ngIf",!n.isUploading),i.Bb(1),i.nc("ngIf",n.isUploading),i.Bb(1),i.nc("ngIf",!n.isUploading&&3===t.status)}}function G(t,e){if(1&t){const t=i.Wb();i.Vb(0,"div",49),i.dc("click",(function(e){return i.Cc(t),i.zc(3).click()})),i.Qb(1,"i",50),i.Vb(2,"input",51,52),i.dc("change",(function(e){return i.Cc(t),i.gc(2).imageSelected(e)})),i.Ub(),i.Ub()}}const W=function(t){return{pageStyle:t}};function q(t,e){if(1&t){const t=i.Wb();i.Vb(0,"div",28),i.Vb(1,"div",29),i.dc("cdkDropListDropped",(function(e){return i.Cc(t),i.gc().drop(e)})),i.Lc(2,H,5,4,"div",30),i.Ub(),i.Lc(3,G,4,0,"div",31),i.Ub()}if(2&t){const t=i.gc();i.nc("ngClass",i.sc(5,W,t.fromPage)),i.Bb(1),i.Kc("width",114*t.addImgList.length,"px"),i.Bb(1),i.nc("ngForOf",t.addImgList),i.Bb(1),i.nc("ngIf",t.addImgList.length<9)}}function Q(t,e){if(1&t){const t=i.Wb();i.Vb(0,"app-my-upload-box",57),i.dc("onProgress",(function(e){return i.Cc(t),i.gc(2).onProgress(e)}))("onCreated",(function(e){return i.Cc(t),i.gc(2).onCreated(e)}))("onCreateFail",(function(e){return i.Cc(t),i.gc(2).onCreateFail(e)}))("onComplete",(function(e){return i.Cc(t),i.gc(2).onComplete(e)})),i.Ub()}if(2&t){const t=e.$implicit;i.nc("fileData",t.fileData)("files",t.files)("uploadUrl",t.uploadUrl)("userId",t.userId)("id",t.id)("title",t.title)("hideMediaInfo",!0)("canDelete",!1)}}function $(t,e){if(1&t){const t=i.Wb();i.Vb(0,"div",53),i.Lc(1,Q,1,8,"app-my-upload-box",54),i.Vb(2,"app-activity-video-upload",55),i.dc("onCoverStream",(function(e){return i.Cc(t),i.gc().onCoverStream(e)})),i.Ub(),i.Vb(3,"div",56),i.dc("click",(function(e){return i.Cc(t),i.gc().backToSelect()})),i.Nc(4,"\u8fd4\u56de"),i.Ub(),i.Ub()}if(2&t){const t=i.gc();i.nc("ngClass",i.sc(12,W,t.fromPage)),i.Bb(1),i.nc("ngForOf",t.files),i.Bb(1),i.nc("formErrors",t.formErrors)("viewModel",t.viewModel)("isFileUploaded",t.isFileUploaded)("captureBg",t.captureBg)("capturePreview",t.capturePreview)("canAutoCut",!0)("inPopUp",!t.fromPage)("progress",t.progress)("metaDataLoaded",t.metaDataLoaded)("isVertical",t.isVertical)}}function K(t,e){if(1&t){const t=i.Wb();i.Vb(0,"div",63),i.Vb(1,"div",64),i.Nc(2),i.Ub(),i.Vb(3,"app-options",65),i.dc("onChange",(function(e){return i.Cc(t),i.gc(2).onTagsSelect(e)})),i.Ub(),i.Ub()}if(2&t){const t=e.$implicit,n=i.gc(2);i.Bb(2),i.Oc(t.title),i.Bb(1),i.nc("options",t.labels)("maxItems",6)("smallBg",!0)("selectedTags",n.selectedTags)}}function X(t,e){if(1&t&&(i.Vb(0,"div",58),i.Vb(1,"div",59),i.Vb(2,"span",60),i.Nc(3,"\u9009\u62e9\u6807\u7b7e"),i.Ub(),i.Vb(4,"span",61),i.Nc(5,"\uff08\u6700\u591a6\u4e2a\uff09"),i.Ub(),i.Ub(),i.Lc(6,K,4,5,"div",62),i.Ub()),2&t){const t=i.gc();i.nc("ngClass",i.sc(2,W,t.fromPage)),i.Bb(6),i.nc("ngForOf",t.tagsCatesLabels)}}function Y(t,e){1&t&&(i.Vb(0,"div",74),i.Qb(1,"app-loader-spinner"),i.Ub())}function Z(t,e){if(1&t&&(i.Vb(0,"span"),i.Nc(1),i.Ub()),2&t){const t=i.gc().$implicit;i.Bb(1),i.Qc("",t.country,"\xb7",t.place,"")}}function J(t,e){if(1&t&&(i.Vb(0,"span"),i.Nc(1),i.Ub()),2&t){const t=i.gc().$implicit;i.Bb(1),i.Oc(t.country)}}function tt(t,e){if(1&t){const t=i.Wb();i.Vb(0,"div",79),i.dc("click",(function(n){i.Cc(t);const o=e.$implicit;return i.gc(3).pickLocation(o)})),i.Qb(1,"i",80),i.Lc(2,Z,2,2,"span",81),i.Lc(3,J,2,1,"span",81),i.Ub()}if(2&t){const t=e.$implicit;i.Bb(2),i.nc("ngIf",""!==t.place),i.Bb(1),i.nc("ngIf",""===t.place)}}function et(t,e){if(1&t&&(i.Vb(0,"div",75),i.Vb(1,"perfect-scrollbar",76,77),i.Lc(3,tt,4,2,"div",78),i.Ub(),i.Ub()),2&t){const t=i.gc(2);i.Bb(3),i.nc("ngForOf",t.relativeLocationList)}}function nt(t,e){if(1&t){const t=i.Wb();i.Vb(0,"div",66,67),i.Vb(2,"div",68),i.Qb(3,"div",69),i.Vb(4,"input",70),i.dc("focus",(function(e){return i.Cc(t),i.gc().onFocus()}))("ngModelChange",(function(e){return i.Cc(t),i.gc().locationKeyWord=e}))("keyup.enter",(function(e){return i.Cc(t),i.gc().onSearchLocation()})),i.Ub(),i.Vb(5,"i",71),i.dc("click",(function(e){return i.Cc(t),i.gc().onSearchLocation()})),i.Ub(),i.Ub(),i.Lc(6,Y,2,0,"div",72),i.Lc(7,et,4,1,"div",73),i.Ub()}if(2&t){const t=i.gc();i.Bb(4),i.nc("ngModel",t.locationKeyWord),i.Bb(2),i.nc("ngIf",t.isLoadingMaps),i.Bb(1),i.nc("ngIf",!t.isLoadingMaps)}}function it(t,e){1&t&&(i.Vb(0,"div",82),i.Vb(1,"div",83),i.Qb(2,"app-loader-spinner"),i.Ub(),i.Ub())}let ot=(()=>{class t{constructor(t,e,n,o,s,r,a,c,l){this._messageDialogService=t,this._dnDialogService=e,this.activityService=n,this._formBuilder=o,this._toastService=s,this._utility=r,this._userService=a,this.cdRef=c,this._upService=l,this.closeEdit=new i.n,this.addImgList=[],this.uploadWaitingList=[],this.allowFilter=["jpeg","png"],this.elList=[],this.onMouseDown=!1,this.isUploading=!1,this.uploadIndex=0,this.stopUploading=!1,this.content="",this.showLocationList=!1,this.locationKeyWord="",this.relativeLocationList=[],this.currentLocation="",this.editActivity=!1,this.isLoadingMaps=!1,this.reGetActivity=new i.n,this.isPublishing=!1,this.subscriptions=[],this.fromPage=!1,this.adminPermit=!1,this.labels="",this.tagsCatesLabels=[],this.selectedTags=[],this.uploadUrl="",this.uploadType="",this.files=[],this.captureBg="",this.capturePreview="",this.viewModel={},this.formErrors={title:void 0,tagCategory:void 0,labels:void 0,coverImage:void 0,files:void 0},this.progress=0,this.isValidating=!1,this.isFileSelected=!1,this.isFileUploaded=!1,this.uploadingFile=null,this.metaDataLoaded=!1,this.isVertical=!1,this.maxiumImageFileSize=10485760,this.onCreated=t=>{this.formErrors.files=void 0,this.viewModel.lid=t.lid,this.viewModel.serverID=t.serverID,this.viewModel.id=t.id},this.onComplete=t=>{this.viewModel.uploadedFileName=t.fileName,this.isFileUploaded=!0,this.detectFileChange(),this.getMetaData(t.fileName)},this.onCreateFail=t=>{this.files=[],this.isFileSelected=!1,this.isFileUploaded=!1},this.config={sequeceFormat:"{protocol}//{endpoint}/api/home/GetSequencePreview?virtualfile={file}&autoDetect=1",capturePreview:"{protocol}//{endpoint}/api/home/GetPreviewPictureFrom?virtualFile={file}&position={pos}&autoDetect=1"},this.textForm=this._formBuilder.group({}),this.loadAPI=new Promise(t=>{this.loadScript(),t(!0)})}loadScript(){let t=!1;const e=["https://maps.googleapis.com/maps/api/js?key=AIzaSyDVCVxGQquBn5aGAmFDCM5A_JL5lyUM5tk&libraries=places"],n=document.getElementsByTagName("script");for(let i=0;i<n.length;++i)null!=n[i].getAttribute("src")&&n[i].getAttribute("src").includes(e[0])&&(t=!0);if(!t)for(let i=0;i<e.length;i++){const t=document.createElement("script");t.src=e[i],t.type="text/javascript",t.async=!1,t.charset="utf-8",document.getElementsByTagName("head")[0].appendChild(t)}}ngOnInit(){if(this.adminPermit&&this.activityService.getActivityAllLabels().subscribe(t=>{this.tagsCatesLabels=t.map((t,e)=>({id:e,title:t.parentLabel,labels:t.subLabels.map((e,n)=>({id:n,label:e,uniqueStr:t.parentLabel+"_"+e,selected:!1}))}))}),this.editActivity){this.content=this.editObj.contxt.replace(/<br\s*\/?>/gi,"\r\n"),this.currentLocation=this.editObj.location;for(let t=0;t<this.editObj.photos.length;t++)this.addImgList.push({imagePath:this.editObj.photos[t].imgPath,uploadedPath:this.editObj.photos[t].imgPath,status:0,getCallback:!1,index:this.addImgList.length})}this.getPublishPoint(),this.subscriptions.push(this._userService.userState$.subscribe(t=>{this.user=t}))}onTagsSelect(t){t.selected?this.selectedTags.push(t):this.selectedTags=this.selectedTags.filter(e=>e.uniqueStr!==t.uniqueStr),this.labels=this.selectedTags.filter(t=>t.selected).map(t=>t.label).join(",")}onUploadComplete(){this.content="",this.addImgList=[],this.uploadWaitingList=[],this.labels="",this.selectedTags=[],this.tagsCatesLabels=this.tagsCatesLabels.map(t=>Object.assign(Object.assign({},t),{labels:t.labels.map(t=>Object.assign(Object.assign({},t),{selected:!1}))}))}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}cancel(){this.closeEdit.emit(!0)}imageSelected(t){if(this.isUploading)return this._messageDialogService.setState({message:"\u6b63\u5728\u4e0a\u4f20\u56fe\u7247\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5\u3002"}),void this._dnDialogService.open("message-dialog");const e=t.target.files;if(e.length+this.addImgList.length>9)return this._messageDialogService.setState({message:"\u6700\u591a\u652f\u63019\u5f20\u56fe\u7247\uff0c\u8bf7\u91cd\u65b0\u9009\u62e9\u3002"}),void this._dnDialogService.open("message-dialog");let n=0;for(let i of e){const t=i.size;t>2097152&&this._toastService.showBlackToast("\u5927\u5c3a\u5bf8\u56fe\u7247\u51c6\u5907\u4e2d\uff0c\u8bf7\u7a0d\u7b49...");const o=i.type.split("/")[1];if(-1===this.allowFilter.indexOf(o))n+=1,this._messageDialogService.setState({message:"\u4e0d\u652f\u6301"+this.allowFilter.join(", ")+"\u4ee5\u5916\u7684\u56fe\u7247\u683c\u5f0f\u3002\u5df2\u8fc7\u6ee4\u4e0d\u652f\u6301\u7684\u56fe\u7247\u3002"}),this._dnDialogService.open("message-dialog");else if(t>this.maxiumImageFileSize)n+=1,this._messageDialogService.setState({message:"\u5df2\u8fc7\u6ee4\u8d85\u8fc7\u6700\u5927\u5c3a\u5bf8\u7684\u56fe\u7247\u3002"}),this._dnDialogService.open("message-dialog");else{const o=i,s=new FileReader;s.readAsDataURL(o),s.onload=i=>{if(t>2097152)return this.isUploading=!0,void this.compress(s.result,1.5,e.length-n);const o=s.result,r=Math.floor(t/1024/1024*500);this.addImgList.push({imagePath:o,status:0,getCallback:!1,index:this.addImgList.length,expDelay:r>100?r:100}),this.uploadWaitingList.push({index:this.uploadWaitingList.length}),this.uploadWaitingList.length===e.length-n&&(console.log("strat to upload"),this.uploadIndex=0,this.isUploading=!0,setTimeout(()=>{this.uploadBySequence(this.addImgList[0].expDelay)},100*(e.length-n)))}}}}compress(t,e,n){let i=new Image;i.src=t,i.onload=()=>{let t=document.createElement("canvas"),o=i.width/e,s=i.height/e;t.setAttribute("width",o+"px"),t.setAttribute("height",s+"px"),t.getContext("2d").drawImage(i,0,0,o,s);let r=t.toDataURL("image/jpeg");t.toBlob(t=>{if(t.size>1000500)this.compress(r,e,n);else{const e=r,i=Math.floor(t.size/1024/1024*500);this.addImgList.push({imagePath:e,status:0,getCallback:!1,index:this.addImgList.length,expDelay:i>100?i:100}),this.uploadWaitingList.push({index:this.uploadWaitingList.length}),this.uploadWaitingList.length===n&&(console.log("strat to upload"),this.uploadIndex=0,this.isUploading=!0,setTimeout(()=>{this.uploadBySequence(this.addImgList[0].expDelay)},100*n))}},"image/jpeg")}}uploadPhotoBase64(t){return this.activityService.uploadPhoto(t)}uploadBySequence(t=100){console.log(t);const e=this.uploadWaitingList.length;0!==e&&(this.uploadIndex<e?this.uploadWaitingList.length===this.addImgList.length?setTimeout(()=>{this.addImgList[this.uploadIndex].status=1,this.cdRef.detectChanges();const e=this.addImgList[this.uploadIndex].imagePath.split(",")[1];this.uploadPhotoBase64(e).subscribe(e=>{var n;if(console.log(e),401===e.code)return this.addImgList[this.uploadIndex].status=3,this.uploadIndex+=1,void(this.stopUploading||this.uploadBySequence(null===(n=this.addImgList[this.uploadIndex])||void 0===n?void 0:n.expDelay));this.addImgList[this.uploadIndex].uploadedPath=e[0],this.addImgList[this.uploadIndex].getCallback=!0,setTimeout(()=>{var t;this.addImgList[this.uploadIndex].status=2,this.uploadIndex+=1,this.stopUploading||this.uploadBySequence(null===(t=this.addImgList[this.uploadIndex])||void 0===t?void 0:t.expDelay)},t)})},10):setTimeout(()=>{this.addImgList[this.addImgList.length-this.uploadWaitingList.length+this.uploadIndex].status=1,this.cdRef.detectChanges();const e=this.addImgList[this.addImgList.length-this.uploadWaitingList.length+this.uploadIndex].imagePath.split(",")[1];this.uploadPhotoBase64(e).subscribe(e=>{var n;if(console.log(e),401===e.code)return this.addImgList[this.addImgList.length-this.uploadWaitingList.length+this.uploadIndex].status=3,this.uploadIndex+=1,void(this.stopUploading||this.uploadBySequence(null===(n=this.addImgList[this.uploadIndex])||void 0===n?void 0:n.expDelay));this.addImgList[this.addImgList.length-this.uploadWaitingList.length+this.uploadIndex].uploadedPath=e[0],this.addImgList[this.addImgList.length-this.uploadWaitingList.length+this.uploadIndex].getCallback=!0,setTimeout(()=>{var t;this.addImgList[this.addImgList.length-this.uploadWaitingList.length+this.uploadIndex].status=2,this.uploadIndex+=1,this.stopUploading||this.uploadBySequence(null===(t=this.addImgList[this.uploadIndex])||void 0===t?void 0:t.expDelay)},t)})},10):(this.isUploading=!1,console.log(this.addImgList),this.uploadWaitingList=[],this.newImage&&(this.newImage.nativeElement.value="")))}remove(t){this.addImgList.splice(t,1)}drop(t){Object(h.e)(this.addImgList,t.previousIndex,t.currentIndex)}submit(){if(!this.isPublishing){if("video"===this.uploadType)return this.viewModel.corverStream?(this.isPublishing=!0,void setTimeout(()=>{this.saveVideo(this.viewModel)},100)):(this._messageDialogService.setState({message:"\u8bf7\u4e0a\u4f20\u6216\u9009\u62e9\u4e00\u5f20\u5c01\u9762\u56fe"}),void this._dnDialogService.open("message-dialog"));if(0===this.addImgList.length)return this._messageDialogService.setState({message:"\u8bf7\u81f3\u5c11\u6dfb\u52a0\u4e00\u5f20\u56fe\u7247"}),void this._dnDialogService.open("message-dialog");this.isPublishing=!0,setTimeout(()=>{this.allInSubmit()},100)}}allInSubmit(){if(0===this.addImgList.filter(t=>3!==t.status).length)return this._messageDialogService.setState({message:"\u8bf7\u5220\u9664\u4e0a\u4f20\u5931\u8d25\u7684\u56fe\u7247"}),this._dnDialogService.open("message-dialog"),void(this.isPublishing=!1);let t="";this.editActivity&&(t=this.editObj.activityId);let e=[];for(let n=0;n<this.addImgList.length;n++)e.push(this.addImgList[n].uploadedPath);this.content=this.content.replace(/&nbsp;/g," ").replace(/\u00a0/g," ").replace(/^\s+|\s+$/g,""),this.uploadAll(e.toString(),t).subscribe(t=>{"ok"===t&&(this.cancel(),this.uploadType="",this.reGetActivity.emit(!0),this._toastService.showBlackToast(this.editActivity?"\u7f16\u8f91\u6210\u529f\uff01":"\u53d1\u8868\u6210\u529f\uff01"),this.fromPage&&this.onUploadComplete()),this.isPublishing=!1})}uploadAll(t,e){return this.activityService.submitActivity(t,e,this.content,this.latitude,this.longitude,this.currentLocation,this.adminPermit?1:null,this.labels)}onChange(t){}onFocusIn(){this.focused=!0}onFocusOut(){this.focused=!1}onDragOver(t){t.preventDefault()}onDragLeave(t){t.preventDefault()}onDrop(t){t.preventDefault()}onTextAreaBlur(){this.savedSelection=a.b()}sendEnter(t){}strip(t){const e=document.createElement("DIV");return e.innerHTML=t,e.textContent||e.innerText||""}isEmpty(t){let e=t.replace(/&nbsp;/g," ").replace(/\u00a0/g," ").replace(/^\s+|\s+$/g,"");return e=this.strip(e).trim(),""===e}openLocation(){if(this.relativeLocationList=[],this.showLocationList=!this.showLocationList,this.showLocationList){const t=this.stringToJSON(this.getCookie("last_location"));t?this.addToLocationList(t):navigator.geolocation.getCurrentPosition(t=>{const e={lat:t.coords.latitude,lng:t.coords.longitude};this.latitude=e.lat,this.longitude=e.lng,this.getCityName(e)})}}clickout(t){this.locationList&&!this.locationList.nativeElement.contains(t.target)&&(this.showLocationList=!1)}onFocus(){}onSearchLocation(){this.stringToJSON(this.getCookie("location_anywhere"))?this.mapService(this.locationKeyWord):navigator.geolocation.getCurrentPosition(t=>{const e={lat:t.coords.latitude,lng:t.coords.longitude};this.latitude=e.lat,this.longitude=e.lng,this.getCityName(e,!0)})}formatLocationList(t){this.relativeLocationList=t.map(t=>({country:t.terms[t.terms.length-1].value,city:t.terms.length>=2?t.terms[t.terms.length-2].value:t.terms[0].value,place:t.terms.length>=2?t.terms[0].value:"",lat:null,lng:null})),this.isLoadingMaps=!1}addToLocationList(t){this.relativeLocationList.push(t)}mapService(t){this.isLoadingMaps=!0,(new google.maps.places.AutocompleteService).getQueryPredictions({input:t},(t,e)=>{e==google.maps.places.PlacesServiceStatus.OK&&t?this.formatLocationList(t):alert(e)})}nearbySearch(t,e){this.isLoadingMaps=!0;const n=new google.maps.LatLng(this.latitude,this.longitude),i=new google.maps.Map(document.getElementById("map"),{center:n,zoom:15}),o={location:n,radius:5e3,keyword:t};new google.maps.places.PlacesService(i).nearbySearch(o,(t,n)=>{if(n!=google.maps.places.PlacesServiceStatus.OK||!t)return this._messageDialogService.setState({message:"\u672a\u5728\u9644\u8fd1\u627e\u5230\u76f8\u5173\u5730\u70b9\uff0c\u8bf7\u4fee\u6539\u5185\u5bb9\u6216\u63d0\u4f9b\u66f4\u7cbe\u786e\u7684\u540d\u79f0\u3002"}),void this._dnDialogService.open("message-dialog");this.relativeLocationList=t.map(t=>({country:e.country,city:e.city,place:t.name!==e.city?e.city+"\xb7"+t.name:t.name,lat:e.lat,lng:e.lng})),this.isLoadingMaps=!1})}getCityName(t,e=!1){(new google.maps.Geocoder).geocode({location:t},(t,n)=>{if("OK"===n){const n=t.find(t=>t.types.filter(t=>"sublocality_level_1"==t).length>0);if(null!=location){const t=n.address_components.find(t=>t.types.filter(t=>"sublocality_level_1"==t).length>0),i=n.address_components.find(t=>t.types.filter(t=>"locality"==t).length>0),o=n.address_components.find(t=>t.types.filter(t=>"country"==t).length>0);if(null!=t&&null!=t&&null!=o&&null!=o){const n={country:o.long_name,city:i.short_name,place:i.short_name+t.short_name,lat:this.latitude,lng:this.longitude};this.addToLocationList(n),this.setCookie("last_location",JSON.stringify(n),1),e&&this.nearbySearch(this.locationKeyWord,n)}}}})}setCookie(t,e,n){var i="";if(n){var o=new Date;o.setTime(o.getTime()+24*n*60*60*1e3),i="; expires="+o.toUTCString()}var s=this._utility.GetHost("",!0),r="domain="+(s&&0==s.indexOf(".")?s:"."+s);document.cookie=t+"="+(e||"")+i+"; path=/;"+r}getCookie(t){const e=`; ${document.cookie}`.split(`; ${t}=`);if(2===e.length)return e.pop().split(";").shift()}stringToJSON(t){return t?JSON.parse(t):void 0}pickLocation(t){this.currentLocation=""!==t.place?t.country+"\xb7"+t.place:t.country,this.latitude=t.lat,this.longitude=t.lng,this.setCookie("last_location",JSON.stringify(t),1)}selectUplaodType(t){this.uploadType=t}getPublishPoint(){this._upService.getSVideoPublishPoint().pipe(Object(g.a)(0)).subscribe(t=>{null!=t&&t.length>0&&(this.uploadUrl=t[0].endpoint)})}onVideoFileChange(t){this.create({name:t[0].name,size:t[0].size},t),this.isFileSelected=!0,this.isValidating=!0,this.progress=0,this.uploadType="video"}create(t,e){this.files.push({userId:this.user.id,uploadUrl:this.uploadUrl,fileData:t,files:e,UploadedFileName:void 0})}onProgress(t){this.progress=t}onCoverStream(t){this.viewModel.image=t.image,this.viewModel.corverStream=t.corverStream}getMetaData(t){this.activityService.getMetaData(t,0).subscribe(t=>{const e=t[0].ratio,n=Number(e.split(":")[0]),i=Number(e.split(":")[1]);this.isVertical=n/i<1,this.metaDataLoaded=!0})}detectFileChange(){if(this.uploadUrl){var t=this.getLocation(this.uploadUrl);this.captureBg=this.config.sequeceFormat.replace("{protocol}",t.protocol).replace("{endpoint}",t.host).replace("{file}",this.viewModel.uploadedFileName),this.capturePreview=this.config.capturePreview.replace("{protocol}",t.protocol).replace("{endpoint}",t.host).replace("{file}",this.viewModel.uploadedFileName)}}getLocation(t){var e=t.match(/^(https?\:)\/\/(([^:\/?#]*)(?:\:([0-9]+))?)([\/]{0,1}[^?#]*)(\?[^#]*|)(#.*|)$/);return e&&{href:t,protocol:e[1],host:e[2],hostname:e[3],port:e[4],pathname:e[5],search:e[6],hash:e[7]}}saveVideo(t){this.uploadingFile=Object.assign({corver:t.corverStream?t.corverStream:"",uploadedFileName:t.uploadedFileName,lid:t.lid,id:t.id,serverID:t.serverID,isTrendsVideo:1}),this._upService.saveSVideo(this.uploadingFile).subscribe(t=>{null!=t&&t.length>0&&this.videoTrendsSubmit(t[0].imgpath)})}videoTrendsSubmit(t){this.activityService.submitVideoActivity(t,this.viewModel.lid,this.content,this.latitude,this.longitude,this.currentLocation,this.adminPermit?1:null,this.labels).subscribe(t=>{null!=t&&t.length>0&&(this.cancel(),this.uploadType="",this.reGetActivity.emit(!0),this._toastService.showBlackToast("\u52a8\u6001\u89c6\u9891\u53d1\u5e03\u6210\u529f\uff0c\u7b49\u5f85\u8f6c\u7801\u53d1\u5e03\u3002"),this.fromPage&&this.onUploadComplete(),this.clearAll()),this.isPublishing=!1})}clearAll(){this.isFileUploaded=this.isFileSelected=!1,this.progress=0,this.viewModel={},this.uploadingFile=null,this.metaDataLoaded=!1,this.isVertical=!1,console.log("clear all")}backToSelect(){this.uploadType="",this.files=[],this.captureBg="",this.capturePreview="",this.clearAll()}}return t.\u0275fac=function(e){return new(e||t)(i.Pb(o.a),i.Pb(s.a),i.Pb(r.a),i.Pb(p.c),i.Pb(l.a),i.Pb(c.a),i.Pb(d.a),i.Pb(i.h),i.Pb(u.a))},t.\u0275cmp=i.Jb({type:t,selectors:[["app-activity-edit"]],viewQuery:function(t,e){var n;1&t&&(i.Uc(I,!0),i.Uc(L,!0),i.Uc(T,!0)),2&t&&(i.yc(n=i.ec())&&(e.newImage=n.first),i.yc(n=i.ec())&&(e.editorRef=n.first),i.yc(n=i.ec())&&(e.locationList=n.first))},hostBindings:function(t,e){1&t&&i.dc("mouseup",(function(t){return e.clickout(t)}),!1,i.Ac)},inputs:{editActivity:"editActivity",editObj:"editObj",fromPage:"fromPage",adminPermit:"adminPermit"},outputs:{closeEdit:"closeEdit",reGetActivity:"reGetActivity"},decls:25,vars:21,consts:[[1,"edit-contianer",3,"ngClass"],[1,"edit-header",3,"ngClass"],[1,"header-text"],["class","close-btn",3,"click",4,"ngIf"],["class","select-uplaod-type",4,"ngIf"],["class","activity-image-uploader",3,"ngClass",4,"ngIf"],["class","activity-video-uploader",3,"ngClass",4,"ngIf"],["class","label-box",3,"ngClass",4,"ngIf"],[1,"edit-text-container"],[1,"edit-text-inner",3,"ngClass"],["id","text-input-form",1,"d-flex",3,"formGroup"],[1,"text-input-area"],["id","content-input","contenteditable","true","placeholder","\u6ce8\u610f\uff0c\u4ee5\u4e0b\u884c\u4e3a\u5c06\u88ab\u5c01\u53f7\uff1a\u653f\u6cbb\u8a00\u8bba\u3001\u4e25\u91cd\u5267\u900f\u3001\u53d1\u5e03\u5e7f\u544a\u3001\u6728\u9a6c\u94fe\u63a5\u3001\u5ba3\u4f20\u540c\u7c7b\u7f51\u7ad9\u3001\u8fb1\u9a82\u5de5\u4f5c\u4eba\u5458\u7b49\u3002",3,"contenteditableModel","contenteditableModelChange","focusin","focusout","dragover","dragleave","drop","blur","keydown"],["contentEditor",""],[1,"bottom-container","d-flex","justify-content-between","align-items-center"],[1,"location-selector"],[1,"location-box",3,"click"],[1,"iconfont","iconditu_dingwei"],[1,"location-text"],["class","location-list",4,"ngIf"],[1,"submit-edit",3,"click"],["class","uploading-cover",4,"ngIf"],[1,"close-btn",3,"click"],[1,"iconfont","iconguanbi"],[1,"select-uplaod-type"],[1,"select-type-btn",3,"click"],[1,"select-type-btn"],[1,"video-input-outer-btn",3,"showBox","onlyButton","errorMessage","onFileChange"],[1,"activity-image-uploader",3,"ngClass"],["id","elWrap","cdkDropList","","cdkDropListOrientation","horizontal",1,"wrap",3,"cdkDropListDropped"],["class","image-list d-flex align-items-center justify-content-center","cdkDrag","",4,"ngFor","ngForOf"],["class","image-list add",3,"click",4,"ngIf"],["cdkDrag","",1,"image-list","d-flex","align-items-center","justify-content-center"],[1,"image-path",3,"src"],["class","image-shadow d-flex align-items-center justify-content-end",4,"ngIf"],["class","upload-shadow",4,"ngIf"],[1,"image-shadow","d-flex","align-items-center","justify-content-end"],[1,"delete-icon",3,"click"],[1,"iconfont","iconshanchu"],[1,"upload-shadow"],[1,"upload-status"],["class","upload-text",4,"ngIf"],["class","upload-progress",4,"ngIf"],[1,"upload-text"],[1,"iconfont","iconzantingxiazai","wait-icon"],[1,"complete-circle"],[1,"iconfont","iconduihao","complete-icon"],[1,"upload-progress"],[1,"current-progress",3,"ngClass"],[1,"image-list","add",3,"click"],[1,"iconfont","iconjiahao"],["type","file","multiple","","accept","image/jpeg,image/png",1,"original-input-hiden",3,"change"],["newImage",""],[1,"activity-video-uploader",3,"ngClass"],[3,"fileData","files","uploadUrl","userId","id","title","hideMediaInfo","canDelete","onProgress","onCreated","onCreateFail","onComplete",4,"ngFor","ngForOf"],[3,"formErrors","viewModel","isFileUploaded","captureBg","capturePreview","canAutoCut","inPopUp","progress","metaDataLoaded","isVertical","onCoverStream"],[1,"back-select",3,"click"],[3,"fileData","files","uploadUrl","userId","id","title","hideMediaInfo","canDelete","onProgress","onCreated","onCreateFail","onComplete"],[1,"label-box",3,"ngClass"],[1,"label-header"],[1,"header-name"],[1,"sub-header-name"],["class","cate-row",4,"ngFor","ngForOf"],[1,"cate-row"],[1,"cate-name"],[3,"options","maxItems","smallBg","selectedTags","onChange"],[1,"location-list"],["locationList",""],[1,"location-input-ctn"],["id","map",1,"hiden-map"],[1,"location-input",3,"ngModel","focus","ngModelChange","keyup.enter"],[1,"iconfont","iconsousuo",3,"click"],["class","loader-ctn",4,"ngIf"],["class","relative-location-list",4,"ngIf"],[1,"loader-ctn"],[1,"relative-location-list"],[1,"list-location-scrollbar"],["perfectscroll",""],["class","relative-location-item",3,"click",4,"ngFor","ngForOf"],[1,"relative-location-item",3,"click"],[1,"iconfont","icondingwei"],[4,"ngIf"],[1,"uploading-cover"],[1,"uploading-loader-ctn"]],template:function(t,e){1&t&&(i.Vb(0,"div",0),i.Vb(1,"div",1),i.Vb(2,"div",2),i.Nc(3),i.Ub(),i.Lc(4,A,2,0,"div",3),i.Ub(),i.Lc(5,N,6,3,"div",4),i.Lc(6,q,4,7,"div",5),i.Lc(7,$,5,14,"div",6),i.Lc(8,X,7,4,"div",7),i.Vb(9,"div",8),i.Vb(10,"div",9),i.Vb(11,"form",10),i.Vb(12,"div",11),i.Vb(13,"div",12,13),i.dc("contenteditableModelChange",(function(t){return e.content=t}))("contenteditableModelChange",(function(t){return e.onChange(t)}))("focusin",(function(t){return e.onFocusIn()}))("focusout",(function(t){return e.onFocusOut()}))("dragover",(function(t){return e.onDragOver(t)}))("dragleave",(function(t){return e.onDragLeave(t)}))("drop",(function(t){return e.onDrop(t)}))("blur",(function(t){return e.onTextAreaBlur()}))("keydown",(function(t){return e.sendEnter(t)})),i.Ub(),i.Ub(),i.Ub(),i.Ub(),i.Ub(),i.Vb(15,"div",14),i.Vb(16,"div",15),i.Vb(17,"div",16),i.dc("click",(function(t){return e.openLocation()})),i.Qb(18,"i",17),i.Vb(19,"span",18),i.Nc(20),i.Ub(),i.Ub(),i.Lc(21,nt,8,3,"div",19),i.Ub(),i.Vb(22,"div",20),i.dc("click",(function(t){return e.submit()})),i.Nc(23),i.Ub(),i.Ub(),i.Ub(),i.Lc(24,it,3,0,"div",21)),2&t&&(i.nc("ngClass",i.sc(15,W,e.fromPage)),i.Bb(1),i.nc("ngClass",i.sc(17,W,e.fromPage)),i.Bb(2),i.Oc(e.editActivity?"\u7f16\u8f91\u52a8\u6001":"\u53d1\u52a8\u6001"),i.Bb(1),i.nc("ngIf",!e.fromPage),i.Bb(1),i.nc("ngIf",""===e.uploadType),i.Bb(1),i.nc("ngIf","photo"===e.uploadType),i.Bb(1),i.nc("ngIf","video"===e.uploadType),i.Bb(1),i.nc("ngIf",e.adminPermit),i.Bb(2),i.nc("ngClass",i.sc(19,W,e.fromPage)),i.Bb(1),i.nc("formGroup",e.textForm),i.Bb(2),i.nc("contenteditableModel",e.content),i.Bb(7),i.Oc(e.currentLocation?e.currentLocation:"\u6240\u5728\u4f4d\u7f6e"),i.Bb(1),i.nc("ngIf",e.showLocationList),i.Bb(2),i.Oc(e.editActivity?"\u4fdd\u5b58":"\u53d1\u8868"),i.Bb(1),i.nc("ngIf",e.isUploading))},directives:[f.l,f.n,p.u,p.l,p.f,m,v.a,h.c,f.m,h.a,w,O.a,M.a,p.a,p.k,p.m,k.a,S.b],styles:['.text-gray[_ngcontent-%COMP%]{color:#f8f8f8!important}.text-light[_ngcontent-%COMP%]{color:hsla(0,0%,100%,.4)!important}.light[_ngcontent-%COMP%]   .text-light[_ngcontent-%COMP%]{color:#888!important}.text-large[_ngcontent-%COMP%]{font-size:18px}text-medium[_ngcontent-%COMP%]{font-size:16px}.text-small[_ngcontent-%COMP%]{font-size:13px}.dn-button[_ngcontent-%COMP%]{border:none;outline:none!important;display:block;padding:6px 8px;width:auto;min-width:100px;margin:0 .4rem;border-radius:0;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;text-align:center;color:#fff!important;background-color:#373843}.light[_ngcontent-%COMP%]   .dn-button[_ngcontent-%COMP%]{background-color:#777}.dn-button[_ngcontent-%COMP%]:hover{background-color:hsla(0,0%,40%,.2)}.dn-button-plain[_ngcontent-%COMP%]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border:1px solid silver;color:#000!important;background-color:#fff;padding:6px 20px;cursor:pointer}.dn-button-plain[_ngcontent-%COMP%]:hover{background-color:#cacaca;color:#fff!important}.dn-button-outline[_ngcontent-%COMP%]{outline:none!important;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border:2px solid silver;border-radius:0;background-color:#fff;padding:2px 14px;cursor:pointer}.dn-button-outline[_ngcontent-%COMP%]:hover{background-color:#cacaca;color:#fff!important}.dn-button-outline.orange[_ngcontent-%COMP%]{color:#f49800;border-color:#f49800;background-color:#434343}.dn-button-outline.orange[_ngcontent-%COMP%]:hover{color:#fe9e00!important;border-color:#fe9e00!important;background-color:#000}.dn-button-blue[_ngcontent-%COMP%]{color:#fff!important;background-color:#00a8ec!important}.dn-button-blue[_ngcontent-%COMP%]:hover{background-color:#00b6ff!important}.dn-button-disable[_ngcontent-%COMP%]{cursor:default;color:hsla(0,0%,100%,.2)!important;background-color:hsla(0,0%,40%,.2)!important}.light[_ngcontent-%COMP%]   .dn-button-disable[_ngcontent-%COMP%]{color:#a0a0a0!important}.dn-button-orange[_ngcontent-%COMP%]{color:#fff!important;background-color:#f49800}.dn-button-orange[_ngcontent-%COMP%]:hover{background-color:#fe9e00}.dn-button-gold[_ngcontent-%COMP%]{color:#fff!important;background-color:#f49800!important}.dn-button-gold[_ngcontent-%COMP%]:hover{background-color:#fe9e00!important}.dn-button-red[_ngcontent-%COMP%]{color:#fff!important}.dn-button-red[_ngcontent-%COMP%], .dn-button-red[_ngcontent-%COMP%]:hover{background-color:#00c0ff}.dn-button-large[_ngcontent-%COMP%]{padding:10px 18px}.dn-play-button[_ngcontent-%COMP%]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;padding:4px 12px;border-radius:3px;font-size:16px;display:inline-block;color:#fff!important;background-color:#f00000}.dn-play-button[_ngcontent-%COMP%]:hover{background-color:#f10000}.dn-play-button[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{font-size:20px;vertical-align:middle}.dn-play-button[_ngcontent-%COMP%]   .btn-text[_ngcontent-%COMP%]{display:inline-block;border-left:1px solid #fff;padding:3px 8px 3px 10px;vertical-align:middle}.dn-btn-load-more[_ngcontent-%COMP%]{cursor:pointer;padding:5px 15px}.link-blue[_ngcontent-%COMP%]{color:#00a8ec}.link-blue[_ngcontent-%COMP%]:hover{color:#434343}.red[_ngcontent-%COMP%]{color:#f00000}.rose[_ngcontent-%COMP%]{color:#ff01ff}.orange[_ngcontent-%COMP%]{color:#fe9e00}.edit-contianer[_ngcontent-%COMP%]{position:absolute;z-index:1;top:0;left:0;right:0;bottom:0;margin:auto;width:1050px;height:750px;background-color:#2b2c3a;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.light[_nghost-%COMP%]   .edit-contianer[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .edit-contianer[_ngcontent-%COMP%]{background-color:#fff}.edit-contianer.pageStyle[_ngcontent-%COMP%]{background-color:#1c1d2f;width:100%!important;height:1400px!important}.light[_nghost-%COMP%]   .edit-contianer.pageStyle[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .edit-contianer.pageStyle[_ngcontent-%COMP%]{background-color:#eee}@media screen and (max-height:760px){.edit-contianer[_ngcontent-%COMP%]{height:610px}}.edit-header[_ngcontent-%COMP%]{padding:15px 20px;border-bottom:1px solid;border-color:hsla(0,0%,40%,.2)}.light[_nghost-%COMP%]   .edit-header[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .edit-header[_ngcontent-%COMP%]{border-color:#eee}.edit-header.pageStyle[_ngcontent-%COMP%]{border-color:hsla(0,0%,40%,.4)}.light[_nghost-%COMP%]   .edit-header.pageStyle[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .edit-header.pageStyle[_ngcontent-%COMP%]{border-color:#ddd}.header-text[_ngcontent-%COMP%]{font-size:14px;color:#fff}.light[_nghost-%COMP%]   .header-text[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .header-text[_ngcontent-%COMP%]{color:#333}.close-btn[_ngcontent-%COMP%]{position:absolute;top:12px;right:10px;width:24px;height:24px;line-height:24px;text-align:center;cursor:pointer}.close-btn[_ngcontent-%COMP%]   .iconfont[_ngcontent-%COMP%]{color:hsla(0,0%,100%,.7);font-size:18px}.light[_nghost-%COMP%]   .close-btn[_ngcontent-%COMP%]   .iconfont[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .close-btn[_ngcontent-%COMP%]   .iconfont[_ngcontent-%COMP%]{color:#888}.close-btn[_ngcontent-%COMP%]   .iconfont[_ngcontent-%COMP%]:hover{color:#fff!important}.light[_nghost-%COMP%]   .close-btn[_ngcontent-%COMP%]   .iconfont[_ngcontent-%COMP%]:hover, .light   [_nghost-%COMP%]   .close-btn[_ngcontent-%COMP%]   .iconfont[_ngcontent-%COMP%]:hover{color:#333!important}.activity-image-uploader[_ngcontent-%COMP%]{padding:20px;border-bottom:1px solid;border-color:hsla(0,0%,40%,.2);display:-webkit-box;display:flex;height:140px}.light[_nghost-%COMP%]   .activity-image-uploader[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .activity-image-uploader[_ngcontent-%COMP%]{border-color:#eee}.activity-image-uploader[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]{position:relative;display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row}.activity-image-uploader.pageStyle[_ngcontent-%COMP%]{border-color:hsla(0,0%,40%,.4)}.light[_nghost-%COMP%]   .activity-image-uploader.pageStyle[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .activity-image-uploader.pageStyle[_ngcontent-%COMP%]{border-color:#ddd}.image-list[_ngcontent-%COMP%]{width:98px;height:98px;overflow:hidden;background-color:#373843;cursor:pointer;position:relative;margin-right:16px;-webkit-user-select:none;-moz-user-select:none;-o-user-select:none;-ms-user-select:none;user-select:none}.light[_nghost-%COMP%]   .image-list[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .image-list[_ngcontent-%COMP%]{background-color:#f4f4f4}.image-list[_ngcontent-%COMP%]:hover{cursor:-webkit-grab;cursor:grab}.image-list[_ngcontent-%COMP%]:hover   .image-shadow[_ngcontent-%COMP%]{bottom:0}.image-list.add[_ngcontent-%COMP%]{position:relative;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;cursor:pointer!important;margin-right:0}.image-list.add[_ngcontent-%COMP%]   .iconfont[_ngcontent-%COMP%]{font-size:36px;color:#00c0ff}#elWrap.cdk-drop-list-dragging[_ngcontent-%COMP%]   .image-list[_ngcontent-%COMP%], .cdk-drag-animating[_ngcontent-%COMP%]{-webkit-transition:-webkit-transform .25s cubic-bezier(0,0,.2,1);transition:-webkit-transform .25s cubic-bezier(0,0,.2,1);transition:transform .25s cubic-bezier(0,0,.2,1);transition:transform .25s cubic-bezier(0,0,.2,1),-webkit-transform .25s cubic-bezier(0,0,.2,1)}#elWrap.cdk-drop-list-dragging[_ngcontent-%COMP%]   .image-list[_ngcontent-%COMP%]{cursor:-webkit-grabbing;cursor:grabbing}.image-path[_ngcontent-%COMP%]{width:98px;-webkit-user-drag:none}.image-shadow[_ngcontent-%COMP%]{position:absolute;z-index:1;bottom:-28px;-webkit-transition:bottom .2s;transition:bottom .2s;width:inherit;height:28px;padding:0 5px;background-color:rgba(0,0,0,.7)}.image-shadow[_ngcontent-%COMP%]   .delete-icon[_ngcontent-%COMP%]   .iconfont[_ngcontent-%COMP%]{font-size:20px;color:hsla(0,0%,100%,.7);cursor:pointer!important}.image-shadow[_ngcontent-%COMP%]   .delete-icon[_ngcontent-%COMP%]   .iconfont[_ngcontent-%COMP%]:hover{color:#fff!important}.upload-shadow[_ngcontent-%COMP%]{position:absolute;bottom:0;width:inherit;height:inherit;padding:1px;background-color:rgba(0,0,0,.7);display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center}.upload-shadow[_ngcontent-%COMP%]   .upload-status[_ngcontent-%COMP%]{font-size:12px;color:#fff}.upload-shadow[_ngcontent-%COMP%]   .upload-progress[_ngcontent-%COMP%]{width:inherit;height:12px;background-color:#636363;position:absolute;bottom:0;left:0;overflow:hidden}.upload-shadow[_ngcontent-%COMP%]   .upload-progress[_ngcontent-%COMP%]   .current-progress[_ngcontent-%COMP%]{width:99%;height:12px;background-color:#00c0ff;-webkit-animation:toComplete 1.25s linear;animation:toComplete 1.25s linear}.upload-shadow[_ngcontent-%COMP%]   .upload-progress[_ngcontent-%COMP%]   .current-progress.full[_ngcontent-%COMP%]{width:100%!important}@-webkit-keyframes toComplete{0%{width:0}to{width:99%}}@keyframes toComplete{0%{width:0}to{width:99%}}.upload-text[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:center;align-items:center}.upload-text[_ngcontent-%COMP%]   .complete-icon[_ngcontent-%COMP%], .upload-text[_ngcontent-%COMP%]   .wait-icon[_ngcontent-%COMP%]{font-size:14px}.complete-circle[_ngcontent-%COMP%]{width:20px;height:20px;background-color:#0ac828;border-radius:50%;text-align:center;line-height:22px;margin-bottom:5px}.original-input-hiden[_ngcontent-%COMP%]{-webkit-clip-path:circle(0);clip-path:circle(0);opacity:0;width:100%;height:100%;position:absolute;left:0;top:0}.edit-text-container[_ngcontent-%COMP%]{-webkit-box-flex:1;flex:1;padding:20px;height:490px;overflow:hidden}.edit-text-container[_ngcontent-%COMP%]   .edit-text-inner[_ngcontent-%COMP%]{height:100%;width:100%;background-color:#1c1d2f}.light[_nghost-%COMP%]   .edit-text-container[_ngcontent-%COMP%]   .edit-text-inner[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .edit-text-container[_ngcontent-%COMP%]   .edit-text-inner[_ngcontent-%COMP%]{background-color:#f8f8f8}.edit-text-container[_ngcontent-%COMP%]   .edit-text-inner.pageStyle[_ngcontent-%COMP%]{background-color:#2b2c3a}.light[_nghost-%COMP%]   .edit-text-container[_ngcontent-%COMP%]   .edit-text-inner.pageStyle[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .edit-text-container[_ngcontent-%COMP%]   .edit-text-inner.pageStyle[_ngcontent-%COMP%]{background-color:#fff}.bottom-container[_ngcontent-%COMP%]{padding:15px 20px}.submit-edit[_ngcontent-%COMP%]{background-color:#00c0ff;color:#fff;font-size:15px;text-align:center;width:92px;height:38px;line-height:38px;cursor:pointer}#content-input[placeholder][_ngcontent-%COMP%]:empty:before{content:attr(placeholder);color:hsla(0,0%,100%,.4)}.light[_nghost-%COMP%]   #content-input[placeholder][_ngcontent-%COMP%]:empty:before, .light   [_nghost-%COMP%]   #content-input[placeholder][_ngcontent-%COMP%]:empty:before{color:#888}#content-input[placeholder][_ngcontent-%COMP%]:empty:focus:before{content:""}[contenteditable][_ngcontent-%COMP%]{height:100%;width:100%;line-height:27px;overflow:auto;text-overflow:ellipsis;outline:none!important;font-size:14px;color:#fff!important}.light[_nghost-%COMP%]   [contenteditable][_ngcontent-%COMP%], .light   [_nghost-%COMP%]   [contenteditable][_ngcontent-%COMP%]{color:#333!important}[contenteditable][_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:inline}[contenteditable][_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{display:inline;white-space:nowrap}.edit-text-inner[_ngcontent-%COMP%]   #text-input-form[_ngcontent-%COMP%], .edit-text-inner[_ngcontent-%COMP%]   #text-input-form[_ngcontent-%COMP%]   .text-input-area[_ngcontent-%COMP%]{height:100%;width:100%}.edit-text-inner[_ngcontent-%COMP%]   #text-input-form[_ngcontent-%COMP%]   .text-input-area[_ngcontent-%COMP%]   #content-input[contenteditable][_ngcontent-%COMP%]{height:100%;width:100%;padding:15px 20px}.location-selector[_ngcontent-%COMP%]{position:relative}.location-box[_ngcontent-%COMP%]{color:#00c0ff;font-size:14px;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;cursor:pointer}.location-box[_ngcontent-%COMP%]   .iconfont[_ngcontent-%COMP%]{font-size:24px}.location-box[_ngcontent-%COMP%]   .location-text[_ngcontent-%COMP%]{margin-top:3px;margin-left:6px}.location-list[_ngcontent-%COMP%]{position:absolute;bottom:30px;left:100px;width:300px;height:270px;background-color:#373843;box-shadow:2px 2px 1px 0 rgba(0,0,0,.34)}.light[_nghost-%COMP%]   .location-list[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .location-list[_ngcontent-%COMP%]{background-color:#fff;box-shadow:2px 2px 4px 0 rgba(0,0,0,.24)}.location-input-ctn[_ngcontent-%COMP%]{text-align:center;padding:10px 0}.location-input-ctn[_ngcontent-%COMP%]   .iconfont[_ngcontent-%COMP%]{font-size:18px;color:hsla(0,0%,100%,.7);cursor:pointer;position:absolute;right:18px;top:11px}.light[_nghost-%COMP%]   .location-input-ctn[_ngcontent-%COMP%]   .iconfont[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .location-input-ctn[_ngcontent-%COMP%]   .iconfont[_ngcontent-%COMP%]{color:#888}.location-input-ctn[_ngcontent-%COMP%]   .iconfont[_ngcontent-%COMP%]:hover{color:#fff}.light[_nghost-%COMP%]   .location-input-ctn[_ngcontent-%COMP%]   .iconfont[_ngcontent-%COMP%]:hover, .light   [_nghost-%COMP%]   .location-input-ctn[_ngcontent-%COMP%]   .iconfont[_ngcontent-%COMP%]:hover{color:#333}.hiden-map[_ngcontent-%COMP%]{width:0;height:0;z-index:-10;display:none}.location-input[_ngcontent-%COMP%]{width:275px;height:30px;background-color:#1c1d2f;color:#fff;border:none;padding:0 10px;font-size:14px}.light[_nghost-%COMP%]   .location-input[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .location-input[_ngcontent-%COMP%]{background-color:#eee;color:#333}.relative-location-list[_ngcontent-%COMP%]{margin-top:10px}.list-location-scrollbar[_ngcontent-%COMP%]{height:210px;width:288px;padding-bottom:10px}.relative-location-item[_ngcontent-%COMP%]{padding:8px 10px;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;cursor:pointer;color:#fff}.light[_nghost-%COMP%]   .relative-location-item[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .relative-location-item[_ngcontent-%COMP%]{color:#333}.relative-location-item[_ngcontent-%COMP%]:hover, .light[_nghost-%COMP%]   .relative-location-item[_ngcontent-%COMP%]:hover, .light   [_nghost-%COMP%]   .relative-location-item[_ngcontent-%COMP%]:hover{color:#00c0ff}.relative-location-item[_ngcontent-%COMP%]   .iconfont[_ngcontent-%COMP%]{font-size:16px;margin-left:2px;margin-right:8px}.relative-location-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;margin-top:1px;width:250px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.loader-ctn[_ngcontent-%COMP%]{padding:7em}.uploading-cover[_ngcontent-%COMP%]{position:absolute;z-index:2;background-color:rgba(0,0,0,.5);width:100%;height:100%}.uploading-cover[_ngcontent-%COMP%]   .uploading-loader-ctn[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0;margin:auto}.label-box[_ngcontent-%COMP%]{padding:15px 20px;border-bottom:1px solid;border-color:hsla(0,0%,40%,.2)}.light[_nghost-%COMP%]   .label-box[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .label-box[_ngcontent-%COMP%]{border-color:#eee}.label-box.pageStyle[_ngcontent-%COMP%]{border-color:hsla(0,0%,40%,.4)}.light[_nghost-%COMP%]   .label-box.pageStyle[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .label-box.pageStyle[_ngcontent-%COMP%]{border-color:#ddd}.label-header[_ngcontent-%COMP%]{margin-bottom:20px}.header-name[_ngcontent-%COMP%]{font-size:18px}.header-name[_ngcontent-%COMP%], .sub-header-name[_ngcontent-%COMP%]{display:inline-block;vertical-align:bottom}.sub-header-name[_ngcontent-%COMP%]{margin-left:4px;font-size:14px;color:#00c0ff}.cate-row[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;margin-bottom:20px}.cate-row[_ngcontent-%COMP%]:last-child{margin-bottom:0}.cate-row[_ngcontent-%COMP%]   .cate-name[_ngcontent-%COMP%]{color:hsla(0,0%,100%,.7);font-size:16px;margin-right:35px}.light[_nghost-%COMP%]   .cate-row[_ngcontent-%COMP%]   .cate-name[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .cate-row[_ngcontent-%COMP%]   .cate-name[_ngcontent-%COMP%]{color:#888}.select-uplaod-type[_ngcontent-%COMP%]{padding:15px 20px;border-bottom:1px solid;border-color:hsla(0,0%,40%,.2);display:-webkit-box;display:flex}.light[_nghost-%COMP%]   .select-uplaod-type[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .select-uplaod-type[_ngcontent-%COMP%]{border-color:#eee}.select-uplaod-type.pageStyle[_ngcontent-%COMP%]{border-color:hsla(0,0%,40%,.4)}.light[_nghost-%COMP%]   .select-uplaod-type.pageStyle[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .select-uplaod-type.pageStyle[_ngcontent-%COMP%]{border-color:#ddd}.select-type-btn[_ngcontent-%COMP%]{background-color:#00c0ff;color:#fff;font-size:15px;text-align:center;width:130px;height:38px;line-height:38px;margin-right:20px;cursor:pointer;position:relative}.activity-video-uploader[_ngcontent-%COMP%]{padding:20px;border-bottom:1px solid;border-color:hsla(0,0%,40%,.2);position:relative}.light[_nghost-%COMP%]   .activity-video-uploader[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .activity-video-uploader[_ngcontent-%COMP%]{border-color:#eee}.activity-video-uploader.pageStyle[_ngcontent-%COMP%]{border-color:hsla(0,0%,40%,.4)}.light[_nghost-%COMP%]   .activity-video-uploader.pageStyle[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .activity-video-uploader.pageStyle[_ngcontent-%COMP%]{border-color:#ddd}.video-input-outer-btn[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%}.back-select[_ngcontent-%COMP%]{background-color:#00c0ff;color:#fff;font-size:15px;text-align:center;width:92px;height:38px;line-height:38px;cursor:pointer;position:absolute;right:20px;bottom:20px}']}),t})()},C2QD:function(t,e){function n(t){this.ms=(t=t||{}).min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}t.exports=n,n.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=0==(1&Math.floor(10*e))?t-n:t+n}return 0|Math.min(t,this.max)},n.prototype.reset=function(){this.attempts=0},n.prototype.setMin=function(t){this.ms=t},n.prototype.setMax=function(t){this.max=t},n.prototype.setJitter=function(t){this.jitter=t}},CDBu:function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var i=n("fXoL"),o=n("0BEm"),s=n("c2Dm"),r=n("6xUE"),a=n("XJ1o"),c=n("i0K8"),l=n("B4PT");const h=["*"];let d=(()=>{class t{constructor(t,e,n,o){this.api=e,this.fsAPI=n,this.controlsHidden=o,this.isFullscreen=!1,this.isNativeFullscreen=!1,this.areControlsHidden=!1,this.isFakeFullScreen=!1,this.onPlayerReady=new i.n,this.subscriptions=[],this.elem=t.nativeElement,this.api.registerElement(this.elem)}ngAfterContentInit(){this.medias.toArray().forEach(t=>{this.api.registerMedia(t)}),this.fsAPI.init(this.elem,this.medias),this.subscriptions.push(this.fsAPI.onChangeFullscreen.subscribe(this.onChangeFullscreen.bind(this))),this.subscriptions.push(this.controlsHidden.isHidden.subscribe(this.onHideControls.bind(this))),this.api.onPlayerReady(this.fsAPI),this.api.assignHidden(this.controlsHidden),this.onPlayerReady.next(this.api)}onChangeFullscreen(t){s.a.fakeFullScreen?(this.isFakeFullScreen=t,this.isNativeFullscreen=!1):this.fsAPI.nativeFullscreen?this.isNativeFullscreen=t:(this.isFullscreen=t,this.zIndex=t?r.a.getZIndex().toString():"auto")}onHideControls(t){this.areControlsHidden=t}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(i.Pb(i.l),i.Pb(o.a),i.Pb(s.a),i.Pb(c.a))},t.\u0275cmp=i.Jb({type:t,selectors:[["vg-player"]],contentQueries:function(t,e,n){var o;1&t&&i.Hb(n,a.a,!1),2&t&&i.yc(o=i.ec())&&(e.medias=o)},hostVars:10,hostBindings:function(t,e){2&t&&(i.Kc("z-index",e.zIndex),i.Gb("fullscreen",e.isFullscreen)("native-fullscreen",e.isNativeFullscreen)("controls-hidden",e.areControlsHidden)("fake-fullscreen",e.isFakeFullScreen))},outputs:{onPlayerReady:"onPlayerReady"},features:[i.Ab([o.a,s.a,c.a,l.a])],ngContentSelectors:h,decls:1,vars:0,template:function(t,e){1&t&&(i.mc(),i.lc(0))},styles:["\n        vg-player {\n            font-family: 'iconfont';\n            position: relative;\n            display: flex;\n            width: 100%;\n            height: 100%;\n            overflow: hidden;\n            background-color: black;\n        }\n\n        vg-player.fullscreen {\n            position: fixed;\n            left: 0;\n            top: 0;\n        }\n\n        vg-player.native-fullscreen.controls-hidden {\n            cursor: none;\n        }\n    "],encapsulation:2}),t})()},CIKq:function(t,e,n){var i,o,s=n("Gbct"),r=n("+ntK"),a=n("TypT"),c=n("Yvos"),l=n("Aplp"),h=n("HjK1")("engine.io-client:websocket");if("undefined"!=typeof WebSocket?i=WebSocket:"undefined"!=typeof self&&(i=self.WebSocket||self.MozWebSocket),"undefined"==typeof window)try{o=n(1)}catch(g){}var d=i||o;function u(t){t&&t.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=t.perMessageDeflate,this.usingBrowserWebSocket=i&&!t.forceNode,this.protocols=t.protocols,this.usingBrowserWebSocket||(d=o),s.call(this,t)}t.exports=u,c(u,s),u.prototype.name="websocket",u.prototype.supportsBinary=!0,u.prototype.doOpen=function(){if(this.check()){var t=this.uri(),e=this.protocols,n={agent:this.agent,perMessageDeflate:this.perMessageDeflate};n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(n.headers=this.extraHeaders),this.localAddress&&(n.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket&&!this.isReactNative?e?new d(t,e):new d(t):new d(t,e,n)}catch(i){return this.emit("error",i)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},u.prototype.addEventListeners=function(){var t=this;this.ws.onopen=function(){t.onOpen()},this.ws.onclose=function(){t.onClose()},this.ws.onmessage=function(e){t.onData(e.data)},this.ws.onerror=function(e){t.onError("websocket error",e)}},u.prototype.write=function(t){var e=this;this.writable=!1;for(var n=t.length,i=0,o=n;i<o;i++)!function(t){r.encodePacket(t,e.supportsBinary,(function(i){if(!e.usingBrowserWebSocket){var o={};t.options&&(o.compress=t.options.compress),e.perMessageDeflate&&("string"==typeof i?Buffer.byteLength(i):i.length)<e.perMessageDeflate.threshold&&(o.compress=!1)}try{e.usingBrowserWebSocket?e.ws.send(i):e.ws.send(i,o)}catch(g){h("websocket closed before onclose event")}--n||(e.emit("flush"),setTimeout((function(){e.writable=!0,e.emit("drain")}),0))}))}(t[i])},u.prototype.onClose=function(){s.prototype.onClose.call(this)},u.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},u.prototype.uri=function(){var t=this.query||{},e=this.secure?"wss":"ws",n="";return this.port&&("wss"===e&&443!==Number(this.port)||"ws"===e&&80!==Number(this.port))&&(n=":"+this.port),this.timestampRequests&&(t[this.timestampParam]=l()),this.supportsBinary||(t.b64=1),(t=a.encode(t)).length&&(t="?"+t),e+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+t},u.prototype.check=function(){return!(!d||"__initialize"in d&&this.name===u.prototype.name)}},CUme:function(t,e,n){var i=n("Gbct"),o=n("TypT"),s=n("+ntK"),r=n("Yvos"),a=n("Aplp"),c=n("HjK1")("engine.io-client:polling");t.exports=h;var l=null!=new(n("AdPF"))({xdomain:!1}).responseType;function h(t){l&&!(t&&t.forceBase64)||(this.supportsBinary=!1),i.call(this,t)}r(h,i),h.prototype.name="polling",h.prototype.doOpen=function(){this.poll()},h.prototype.pause=function(t){var e=this;function n(){c("paused"),e.readyState="paused",t()}if(this.readyState="pausing",this.polling||!this.writable){var i=0;this.polling&&(c("we are currently polling - waiting to pause"),i++,this.once("pollComplete",(function(){c("pre-pause polling complete"),--i||n()}))),this.writable||(c("we are currently writing - waiting to pause"),i++,this.once("drain",(function(){c("pre-pause writing complete"),--i||n()})))}else n()},h.prototype.poll=function(){c("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},h.prototype.onData=function(t){var e=this;c("polling got data %s",t),s.decodePayload(t,this.socket.binaryType,(function(t,n,i){if("opening"===e.readyState&&e.onOpen(),"close"===t.type)return e.onClose(),!1;e.onPacket(t)})),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():c('ignoring poll - transport state "%s"',this.readyState))},h.prototype.doClose=function(){var t=this;function e(){c("writing close packet"),t.write([{type:"close"}])}"open"===this.readyState?(c("transport open - closing"),e()):(c("transport not open - deferring close"),this.once("open",e))},h.prototype.write=function(t){var e=this;this.writable=!1;var n=function(){e.writable=!0,e.emit("drain")};s.encodePayload(t,this.supportsBinary,(function(t){e.doWrite(t,n)}))},h.prototype.uri=function(){var t=this.query||{},e=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(t[this.timestampParam]=a()),this.supportsBinary||t.sid||(t.b64=1),t=o.encode(t),this.port&&("https"===e&&443!==Number(this.port)||"http"===e&&80!==Number(this.port))&&(n=":"+this.port),t.length&&(t="?"+t),e+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+t}},Cfvw:function(t,e,n){"use strict";var i=n("HDdC"),o=n("SeVD"),s=n("quSY"),r=n("kJWO"),a=n("jZKg"),c=n("Lhse"),l=n("c2HN"),h=n("I55L");function d(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[r.a]}(t))return function(t,e){return new i.a(n=>{const i=new s.a;return i.add(e.schedule(()=>{const o=t[r.a]();i.add(o.subscribe({next(t){i.add(e.schedule(()=>n.next(t)))},error(t){i.add(e.schedule(()=>n.error(t)))},complete(){i.add(e.schedule(()=>n.complete()))}}))})),i})}(t,e);if(Object(l.a)(t))return function(t,e){return new i.a(n=>{const i=new s.a;return i.add(e.schedule(()=>t.then(t=>{i.add(e.schedule(()=>{n.next(t),i.add(e.schedule(()=>n.complete()))}))},t=>{i.add(e.schedule(()=>n.error(t)))}))),i})}(t,e);if(Object(h.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[c.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new i.a(n=>{const i=new s.a;let o;return i.add(()=>{o&&"function"==typeof o.return&&o.return()}),i.add(e.schedule(()=>{o=t[c.a](),i.add(e.schedule((function(){if(n.closed)return;let t,e;try{const n=o.next();t=n.value,e=n.done}catch(i){return void n.error(i)}e?n.complete():(n.next(t),this.schedule())})))})),i})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof i.a?t:new i.a(Object(o.a)(t))}n.d(e,"a",(function(){return d}))},Cl5A:function(t,e,n){var i=n("CUme"),o=n("Yvos");t.exports=h;var s,r=/\n/g,a=/\\n/g;function c(){}function l(){return"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}}function h(t){if(i.call(this,t),this.query=this.query||{},!s){var e=l();s=e.___eio=e.___eio||[]}this.index=s.length;var n=this;s.push((function(t){n.onData(t)})),this.query.j=this.index,"function"==typeof addEventListener&&addEventListener("beforeunload",(function(){n.script&&(n.script.onerror=c)}),!1)}o(h,i),h.prototype.supportsBinary=!1,h.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),i.prototype.doClose.call(this)},h.prototype.doPoll=function(){var t=this,e=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),e.async=!0,e.src=this.uri(),e.onerror=function(e){t.onError("jsonp poll error",e)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(e,n):(document.head||document.body).appendChild(e),this.script=e,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout((function(){var t=document.createElement("iframe");document.body.appendChild(t),document.body.removeChild(t)}),100)},h.prototype.doWrite=function(t,e){var n=this;if(!this.form){var i,o=document.createElement("form"),s=document.createElement("textarea"),c=this.iframeId="eio_iframe_"+this.index;o.className="socketio",o.style.position="absolute",o.style.top="-1000px",o.style.left="-1000px",o.target=c,o.method="POST",o.setAttribute("accept-charset","utf-8"),s.name="d",o.appendChild(s),document.body.appendChild(o),this.form=o,this.area=s}function l(){h(),e()}function h(){if(n.iframe)try{n.form.removeChild(n.iframe)}catch(t){n.onError("jsonp polling iframe removal error",t)}try{i=document.createElement('<iframe src="javascript:0" name="'+n.iframeId+'">')}catch(t){(i=document.createElement("iframe")).name=n.iframeId,i.src="javascript:0"}i.id=n.iframeId,n.form.appendChild(i),n.iframe=i}this.form.action=this.uri(),h(),t=t.replace(a,"\\\n"),this.area.value=t.replace(r,"\\n");try{this.form.submit()}catch(d){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===n.iframe.readyState&&l()}:this.iframe.onload=l}},D0XW:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n("3N8a");const o=new(n("IjjT").a)(i.a)},DEAf:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n("fXoL");let o=(()=>{class t{transform(t){let e,n=new Date(Number(t));if(t&&t.indexOf("T")>-1){const e=Date.parse(t);n=new Date(Number(e))}const i=((new Date).getTime()-n.getTime())/1e3;if(i<60)e="\u521a\u521a";else if(i<3600)e=Math.floor(i/60)+" \u5206\u949f\u524d";else if(i<86400)e=Math.floor(i/3600)+" \u5c0f\u65f6\u524d";else if(i<2592e3)e=Math.floor(i/86400)+" \u5929\u524d";else{const t=n.getDate(),i=n.getMonth()+1;e=n.getFullYear()+"-"+i+"-"+t}return e}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Ob({name:"relativeTime",type:t,pure:!0}),t})()},DH7j:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));const i=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},DjSW:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n("2Vo4"),o=n("fXoL");let s=(()=>{class t{constructor(){this.isOpen=!1,this._open=new i.a(this.isOpen),this.open$=this._open.asObservable()}open(){this.isOpen=!0,this._open.next(this.isOpen)}close(){this.isOpen=!1,this._open.next(this.isOpen)}toggle(){this.isOpen=!this.isOpen,this._open.next(this.isOpen)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},EEnh:function(t,e){var n;(n=window.AmCharts).AmSlicedChart=n.Class({inherits:n.AmChart,construct:function(t){this.createEvents("rollOverSlice","rollOutSlice","clickSlice","pullOutSlice","pullInSlice","rightClickSlice"),n.AmSlicedChart.base.construct.call(this,t),this.colors="#FF0F00 #FF6600 #FF9E01 #FCD202 #F8FF01 #B0DE09 #04D215 #0D8ECF #0D52D1 #2A0CD0 #8A0CCF #CD0D74 #754DEB #DDDDDD #999999 #333333 #000000 #57032A #CA9726 #990000 #4B0C25".split(" "),this.alpha=1,this.groupPercent=0,this.groupedTitle="Other",this.groupedPulled=!1,this.groupedAlpha=1,this.marginLeft=0,this.marginBottom=this.marginTop=10,this.marginRight=0,this.hoverAlpha=1,this.outlineColor="#FFFFFF",this.outlineAlpha=0,this.outlineThickness=1,this.startAlpha=0,this.startDuration=1,this.startEffect="bounce",this.sequencedAnimation=!0,this.pullOutDuration=1,this.pullOutEffect="bounce",this.pullOnHover=this.pullOutOnlyOne=!1,this.labelsEnabled=!0,this.labelTickColor="#000000",this.labelTickAlpha=.2,this.hideLabelsPercent=0,this.urlTarget="_self",this.autoMarginOffset=10,this.gradientRatio=[],this.maxLabelWidth=200,this.accessibleLabel="[[title]]: [[percents]]% [[value]] [[description]]",n.applyTheme(this,t,"AmSlicedChart")},initChart:function(){n.AmSlicedChart.base.initChart.call(this),this.dataChanged&&(this.parseData(),this.dispatchDataUpdated=!0,this.dataChanged=!1,this.setLegendData(this.chartData)),this.drawChart()},handleLegendEvent:function(t){var e=t.type,n=t.dataItem,i=this.legend;if(n.wedge&&n){var o=n.hidden;switch(t=t.event,e){case"clickMarker":o||i.switchable||this.clickSlice(n,t);break;case"clickLabel":o||this.clickSlice(n,t,!1);break;case"rollOverItem":o||this.rollOverSlice(n,!1,t);break;case"rollOutItem":o||this.rollOutSlice(n,t);break;case"hideItem":this.hideSlice(n,t);break;case"showItem":this.showSlice(n,t)}}},invalidateVisibility:function(){this.recalculatePercents(),this.initChart();var t=this.legend;t&&t.invalidateSize()},addEventListeners:function(t,e){var n=this;t.mouseover((function(t){n.rollOverSlice(e,!0,t)})).mouseout((function(t){n.rollOutSlice(e,t)})).touchend((function(t){n.rollOverSlice(e,t)})).mouseup((function(t){n.clickSlice(e,t)})).contextmenu((function(t){n.handleRightClick(e,t)})).focus((function(t){n.rollOverSlice(e,t)})).blur((function(t){n.rollOutSlice(e,t)}))},formatString:function(t,e,i){t=n.formatValue(t,e,["value"],this.nf,"",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers);var o=this.pf.precision;return isNaN(this.tempPrec)||(this.pf.precision=this.tempPrec),t=n.formatValue(t,e,["percents"],this.pf),t=n.massReplace(t,{"[[title]]":e.title,"[[description]]":e.description}),this.pf.precision=o,-1!=t.indexOf("[[")&&(t=n.formatDataContextValue(t,e.dataContext)),t=i?n.fixNewLines(t):n.fixBrakes(t),n.cleanFromEmpty(t)},startSlices:function(){var t;for(t=0;t<this.chartData.length;t++)0<this.startDuration&&this.sequencedAnimation?this.setStartTO(t):this.startSlice(this.chartData[t])},setStartTO:function(t){var e=this;t=setTimeout((function(){e.startSequenced.call(e)}),e.startDuration/e.chartData.length*500*t),e.timeOuts.push(t)},pullSlices:function(t){var e,n=this.chartData;for(e=0;e<n.length;e++){var i=n[e];i.pulled&&this.pullSlice(i,1,t)}},startSequenced:function(){var t,e=this.chartData;for(t=0;t<e.length;t++)if(!e[t].started){this.startSlice(this.chartData[t]);break}},startSlice:function(t){t.started=!0;var e=t.wedge,n=this.startDuration,i=t.labelSet;e&&0<n&&(0<t.alpha&&e.show(),e.translate(t.startX,t.startY),this.animatable.push(e),e.animate({opacity:1,translate:"0,0"},n,this.startEffect)),i&&0<n&&(0<t.alpha&&i.show(),i.translate(t.startX,t.startY),i.animate({opacity:1,translate:"0,0"},n,this.startEffect))},showLabels:function(){var t,e=this.chartData;for(t=0;t<e.length;t++){var n=e[t];if(0<n.alpha){var i=n.label;i&&i.show(),(n=n.tick)&&n.show()}}},showSlice:function(t){isNaN(t)?t.hidden=!1:this.chartData[t].hidden=!1,this.invalidateVisibility()},hideSlice:function(t){isNaN(t)?t.hidden=!0:this.chartData[t].hidden=!0,this.hideBalloon(),this.invalidateVisibility()},rollOverSlice:function(t,e,i){if(isNaN(t)||(t=this.chartData[t]),clearTimeout(this.hoverInt),!t.hidden){this.pullOnHover&&this.pullSlice(t,1),1>this.hoverAlpha&&t.wedge&&t.wedge.attr({opacity:this.hoverAlpha});var o=t.balloonX,s=t.balloonY;t.pulled&&(o+=t.pullX,s+=t.pullY);var r=this.formatString(this.balloonText,t,!0),a=this.balloonFunction;a&&(r=a(t,r)),a=n.adjustLuminosity(t.color,-.15),r?this.showBalloon(r,a,e,o,s):this.hideBalloon(),0===t.value&&this.hideBalloon(),this.fire({type:"rollOverSlice",dataItem:t,chart:this,event:i})}},rollOutSlice:function(t,e){isNaN(t)||(t=this.chartData[t]),t.wedge&&t.wedge.attr({opacity:1}),this.hideBalloon(),this.fire({type:"rollOutSlice",dataItem:t,chart:this,event:e})},clickSlice:function(t,e,i){this.checkTouchDuration(e)&&(isNaN(t)||(t=this.chartData[t]),this.pullSlice(t,t.pulled?0:1),n.getURL(t.url,this.urlTarget),i||this.fire({type:"clickSlice",dataItem:t,chart:this,event:e}))},handleRightClick:function(t,e){isNaN(t)||(t=this.chartData[t]),this.fire({type:"rightClickSlice",dataItem:t,chart:this,event:e})},drawTicks:function(){var t,e=this.chartData;for(t=0;t<e.length;t++){var i=e[t];if(i.label&&!i.skipTick){var o=n.line(this.container,[i.tx0,i.tx,i.tx2],[i.ty0,o=i.ty,o],this.labelTickColor,this.labelTickAlpha);n.setCN(this,o,this.type+"-tick"),n.setCN(this,o,i.className,!0),i.tick=o,i.wedge.push(o),"AmFunnelChart"==this.cname&&o.toBack()}}},initialStart:function(){var t=this,e=t.startDuration,n=setTimeout((function(){t.showLabels.call(t)}),1e3*e);t.timeOuts.push(n),t.chartCreated?t.pullSlices(!0):(t.startSlices(),0<e?(e=setTimeout((function(){t.pullSlices.call(t)}),1200*e),t.timeOuts.push(e)):t.pullSlices(!0))},pullSlice:function(t,e,n){var i=this.pullOutDuration;!0===n&&(i=0),(n=t.wedge)&&(0<i?(n.animate({translate:e*t.pullX+","+e*t.pullY},i,this.pullOutEffect),t.labelSet&&t.labelSet.animate({translate:e*t.pullX+","+e*t.pullY},i,this.pullOutEffect)):(t.labelSet&&t.labelSet.translate(e*t.pullX,e*t.pullY),n.translate(e*t.pullX,e*t.pullY))),1==e?(t.pulled=!0,this.pullOutOnlyOne&&this.pullInAll(t.index),t={type:"pullOutSlice",dataItem:t,chart:this}):(t.pulled=!1,t={type:"pullInSlice",dataItem:t,chart:this}),this.fire(t)},pullInAll:function(t){var e,n=this.chartData;for(e=0;e<this.chartData.length;e++)e!=t&&n[e].pulled&&this.pullSlice(n[e],0)},pullOutAll:function(){var t,e=this.chartData;for(t=0;t<e.length;t++)e[t].pulled||this.pullSlice(e[t],1)},parseData:function(){var t=[];this.chartData=t;var e=this.dataProvider;if(isNaN(this.pieAlpha)||(this.alpha=this.pieAlpha),void 0!==e){var i,o,s,r=e.length,a=0;for(i=0;i<r;i++){var c=e[i];(o={}).dataContext=c,null!==c[this.valueField]&&(o.value=Number(c[this.valueField])),(s=c[this.titleField])||(s=""),o.title=s,o.pulled=n.toBoolean(c[this.pulledField],!1),(s=c[this.descriptionField])||(s=""),o.description=s,o.labelRadius=Number(c[this.labelRadiusField]),o.switchable=!0,o.className=c[this.classNameField],o.url=c[this.urlField],!(s=c[this.patternField])&&this.patterns&&(s=this.patterns[i]),o.pattern=s,o.visibleInLegend=n.toBoolean(c[this.visibleInLegendField],!0),o.alpha=void 0!==(s=c[this.alphaField])?Number(s):this.alpha,void 0!==(s=c[this.colorField])&&(o.color=s),o.labelColor=n.toColor(c[this.labelColorField]),a+=o.value,o.hidden=!1,t[i]=o}for(i=e=0;i<r;i++)(o=t[i]).percents=o.value/a*100,o.percents<this.groupPercent&&e++;for(1<e&&(this.groupValue=0,this.removeSmallSlices(),t.push({title:this.groupedTitle,value:this.groupValue,percents:this.groupValue/a*100,pulled:this.groupedPulled,color:this.groupedColor,url:this.groupedUrl,description:this.groupedDescription,alpha:this.groupedAlpha,pattern:this.groupedPattern,className:this.groupedClassName,dataContext:{}})),(r=this.baseColor)||(r=this.pieBaseColor),(a=this.brightnessStep)||(a=this.pieBrightnessStep),i=0;i<t.length;i++)r?s=n.adjustLuminosity(r,i*a/100):void 0===(s=this.colors[i])&&(s=n.randomColor()),void 0===t[i].color&&(t[i].color=s);this.recalculatePercents()}},recalculatePercents:function(){var t,e,n=this.chartData,i=0;for(t=0;t<n.length;t++)!(e=n[t]).hidden&&0<e.value&&(i+=e.value);for(t=0;t<n.length;t++)(e=this.chartData[t]).percents=!e.hidden&&0<e.value?100*e.value/i:0},removeSmallSlices:function(){var t,e=this.chartData;for(t=e.length-1;0<=t;t--)e[t].percents<this.groupPercent&&(this.groupValue+=e[t].value,e.splice(t,1))},animateAgain:function(){var t=this;t.startSlices();for(var e=0;e<t.chartData.length;e++){var n=t.chartData[e];n.started=!1;var i=n.wedge;i&&(i.setAttr("opacity",t.startAlpha),i.translate(n.startX,n.startY)),(i=n.labelSet)&&(i.setAttr("opacity",t.startAlpha),i.translate(n.startX,n.startY))}0<(e=t.startDuration)?(e=setTimeout((function(){t.pullSlices.call(t)}),1200*e),t.timeOuts.push(e)):t.pullSlices()},measureMaxLabel:function(){var t,e=this.chartData,i=0;for(t=0;t<e.length;t++){var o=e[t],s=this.formatString(this.labelText,o),r=this.labelFunction;r&&(s=r(o,s)),(s=(o=n.text(this.container,s,this.color,this.fontFamily,this.fontSize)).getBBox().width)>i&&(i=s),o.remove()}return i}}),function(){var t=window.AmCharts;t.AmPieChart=t.Class({inherits:t.AmSlicedChart,construct:function(e){this.type="pie",t.AmPieChart.base.construct.call(this,e),this.cname="AmPieChart",this.pieBrightnessStep=30,this.minRadius=10,this.depth3D=0,this.startAngle=90,this.angle=this.innerRadius=0,this.startRadius="500%",this.pullOutRadius="20%",this.labelRadius=20,this.labelText="[[title]]: [[percents]]%",this.balloonText="[[title]]: [[percents]]% ([[value]])\n[[description]]",this.previousScale=1,this.adjustPrecision=!1,this.gradientType="radial",t.applyTheme(this,e,this.cname)},drawChart:function(){t.AmPieChart.base.drawChart.call(this);var e=this.chartData;if(t.ifArray(e)){if(0<this.realWidth&&0<this.realHeight){t.VML&&(this.startAlpha=1);var n=this.startDuration,i=this.container,o=this.updateWidth();this.realWidth=o;var s=this.updateHeight();this.realHeight=s;var r,a,c,l,h=t.toCoordinate,d=h(this.marginLeft,o),u=h(this.marginRight,o),g=h(this.marginTop,s)+this.getTitleHeight(),p=h(this.marginBottom,s)+this.depth3D,f=t.toNumber(this.labelRadius);for((m=this.measureMaxLabel())>this.maxLabelWidth&&(m=this.maxLabelWidth),this.labelText&&this.labelsEnabled||(f=m=0),r=void 0===this.pieX?(o-d-u)/2+d:h(this.pieX,this.realWidth),a=void 0===this.pieY?(s-g-p)/2+g:h(this.pieY,s),(c=h(this.radius,o,s))||(o=0<=f?o-d-u-2*m:o-d-u,s=s-g-p,c=Math.min(o,s),s<o&&(c/=1-this.angle/90)>o&&(c=o),s=t.toCoordinate(this.pullOutRadius,c),c=(0<=f?c-1.8*(f+s):c-1.8*s)/2),c<this.minRadius&&(c=this.minRadius),s=h(this.pullOutRadius,c),g=t.toCoordinate(this.startRadius,c),(h=h(this.innerRadius,c))>=c&&(h=c-1),p=t.fitToBounds(this.startAngle,0,360),0<this.depth3D&&(p=270<=p?270:90),360<(p-=90)&&(p-=360),o=c-c*this.angle/90,d=m=0;d<e.length;d++)!0!==(u=e[d]).hidden&&(m+=t.roundTo(u.percents,this.pf.precision));for(m=t.roundTo(m,this.pf.precision),this.tempPrec=NaN,this.adjustPrecision&&100!=m&&(this.tempPrec=this.pf.precision+1),d=0;d<e.length;d++)if(!0!==(u=e[d]).hidden&&(this.showZeroSlices||0!==u.percents)){var b=360*u.percents/100,m=Math.sin((p+b/2)/180*Math.PI),v=o/c*-Math.cos((p+b/2)/180*Math.PI),y=this.outlineColor;y||(y=u.color);var C=this.alpha;if(isNaN(u.alpha)||(C=u.alpha),y={fill:u.color,stroke:y,"stroke-width":this.outlineThickness,"stroke-opacity":this.outlineAlpha,"fill-opacity":C},u.url&&(y.cursor="pointer"),y=t.wedge(i,r,a,p,b,c,o,h,this.depth3D,y,this.gradientRatio,u.pattern,this.path,this.gradientType),t.setCN(this,y,"pie-item"),t.setCN(this,y.wedge,"pie-slice"),t.setCN(this,y,u.className,!0),this.addEventListeners(y,u),u.startAngle=p,e[d].wedge=y,0<n&&(this.chartCreated||y.setAttr("opacity",this.startAlpha)),u.ix=m,u.iy=v,u.wedge=y,u.index=d,u.label=null,C=i.set(),this.labelsEnabled&&this.labelText&&u.percents>=this.hideLabelsPercent){var _=p+b/2;0>_&&(_+=360),360<_&&(_-=360);var x=f;isNaN(u.labelRadius)||0>(x=u.labelRadius)&&(u.skipTick=!0),b=r+m*(c+x);var P,w,O=a+v*(c+x),M=0;isNaN(l)&&350<_&&1<e.length-d&&(l=d-1+Math.floor((e.length-d)/2)),0<=x?(90>=_&&0<=_?(w=0,P="start",M=8):90<=_&&180>_?(w=1,P="start",M=8):180<=_&&270>_?(w=2,P="end",M=-8):270<=_&&354>=_?(w=3,P="end",M=-8):354<=_&&(d>l?(w=0,P="start",M=8):(w=3,P="end",M=-8)),u.labelQuarter=w):P="middle",_=this.formatString(this.labelText,u),(x=this.labelFunction)&&(_=x(u,_)),(x=u.labelColor)||(x=this.color),""!==_&&(_=t.wrappedText(i,_,x,this.fontFamily,this.fontSize,P,!1,this.maxLabelWidth),t.setCN(this,_,"pie-label"),t.setCN(this,_,u.className,!0),_.translate(b+1.5*M,O),0>f&&(_.node.style.pointerEvents="none"),_.node.style.cursor="default",u.ty=O,u.textX=b+1.5*M,C.push(_),this.axesSet.push(C),u.labelSet=C,u.label=_,this.addEventListeners(C,u)),u.tx=b,u.tx2=b+M,u.tx0=r+m*c,u.ty0=a+v*c}b=h+(c-h)/2,u.pulled&&(b+=s),this.accessible&&this.accessibleLabel&&(O=this.formatString(this.accessibleLabel,u),this.makeAccessible(y,O)),void 0!==this.tabIndex&&y.setAttr("tabindex",this.tabIndex),u.balloonX=m*b+r,u.balloonY=v*b+a,u.startX=Math.round(m*g),u.startY=Math.round(v*g),u.pullX=Math.round(m*s),u.pullY=Math.round(v*s),this.graphsSet.push(y),(0===u.alpha||0<n&&!this.chartCreated)&&(y.hide(),C&&C.hide()),360<(p+=360*u.percents/100)&&(p-=360)}0<f&&this.arrangeLabels(),this.pieXReal=r,this.pieYReal=a,this.radiusReal=c,this.innerRadiusReal=h,0<f&&this.drawTicks(),this.initialStart(),this.setDepths()}(e=this.legend)&&e.invalidateSize()}else this.cleanChart();this.dispDUpd()},setDepths:function(){var t,e=this.chartData;for(t=0;t<e.length;t++){var n,i=(n=e[t]).wedge;0<=(n=n.startAngle)&&180>n?i.toFront():180<=n&&i.toBack()}},arrangeLabels:function(){var t,e,n=this.chartData,i=n.length;for(e=i-1;0<=e;e--)0!==(t=n[e]).labelQuarter||t.hidden||this.checkOverlapping(e,t,0,!0,0);for(e=0;e<i;e++)1!=(t=n[e]).labelQuarter||t.hidden||this.checkOverlapping(e,t,1,!1,0);for(e=i-1;0<=e;e--)2!=(t=n[e]).labelQuarter||t.hidden||this.checkOverlapping(e,t,2,!0,0);for(e=0;e<i;e++)3!=(t=n[e]).labelQuarter||t.hidden||this.checkOverlapping(e,t,3,!1,0)},checkOverlapping:function(t,e,n,i,o){var s,r,a=this.chartData,c=a.length,l=e.label;if(l){if(!0===i)for(r=t+1;r<c;r++)a[r].labelQuarter==n&&(s=this.checkOverlappingReal(e,a[r],n))&&(r=c);else for(r=t-1;0<=r;r--)a[r].labelQuarter==n&&(s=this.checkOverlappingReal(e,a[r],n))&&(r=0);!0===s&&200>o&&isNaN(e.labelRadius)&&(e.ty=s=e.ty+3*e.iy,l.translate(e.textX,s),this.checkOverlapping(t,e,n,i,o+1))}},checkOverlappingReal:function(e,n,i){var o=!1,s=e.label,r=n.label;return e.labelQuarter!=i||e.hidden||n.hidden||!r||(s=s.getBBox(),(i={}).width=s.width,i.height=s.height,i.y=e.ty,i.x=e.tx,e=r.getBBox(),(r={}).width=e.width,r.height=e.height,r.y=n.ty,r.x=n.tx,t.hitTest(i,r)&&(o=!0)),o}})}()},ELgw:function(t,e,n){"use strict";function i(){if(window.getSelection){const t=window.getSelection();if(t.getRangeAt&&t.rangeCount)return t.getRangeAt(0)}else if(document.getSelection&&document.createRange)return document.createRange();return null}function o(t){if(!t)return!1;if(window.getSelection){const e=window.getSelection();return e.removeAllRanges(),e.addRange(t),!0}return document.getSelection&&t.select?(t.select(),!0):void 0}n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return o}))},EY2u:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return s}));var i=n("HDdC");const o=new i.a(t=>t.complete());function s(t){return t?function(t){return new i.a(e=>t.schedule(()=>e.complete()))}(t):o}},"F/6N":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n("2Vo4"),o=n("fXoL");let s=(()=>{class t{constructor(){this.showStickyChatSource=new i.a(!1),this.showChatLogSource=new i.a(!1),this.showSticky=this.showStickyChatSource.asObservable(),this.showLog=this.showChatLogSource.asObservable(),this.partnerPkgSource=new i.a(void 0),this.partnerPkg=this.partnerPkgSource.asObservable()}updateState(t){this.showStickyChatSource.next(t)}toggleChatLog(t){this.showChatLogSource.next(t)}transmitPartner(t){this.partnerPkgSource.next(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},FQmE:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n("fXoL"),o=n("ofXK");const s=function(t){return{on:t}};let r=(()=>{class t{constructor(){this.status=!1,this.changed=new i.n}ngOnChanges(t){t.current&&(this.status=t.current.currentValue)}ngOnInit(){}toggle(){this.changed.emit(this.status)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Jb({type:t,selectors:[["app-slide-toggle"]],inputs:{status:"status"},outputs:{changed:"changed"},features:[i.zb()],decls:2,vars:3,consts:[[1,"slide-toggle",3,"ngClass","click"],[1,"slide-toggle-shadow"]],template:function(t,e){1&t&&(i.Vb(0,"div",0),i.dc("click",(function(t){return e.toggle()})),i.Qb(1,"div",1),i.Ub()),2&t&&i.nc("ngClass",i.sc(1,s,e.status))},directives:[o.l],styles:["[_nghost-%COMP%]{height:19px}.slide-toggle[_ngcontent-%COMP%]{display:inline-block;background-color:transparent;cursor:pointer;position:relative;border-radius:20px;border:1px solid #fff;overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:29px;height:17px;-webkit-transition:background-color .2s ease-in-out;transition:background-color .2s ease-in-out}.slide-toggle.on[_ngcontent-%COMP%]{background-color:#00c0ff;border:1px solid #00c0ff}.slide-toggle-off[_ngcontent-%COMP%], .slide-toggle-on[_ngcontent-%COMP%]{width:11px;height:11px;display:inline-block;text-align:center;border-radius:50%;-webkit-transition:all .2s ease-in-out;transition:all .2s ease-in-out}.slide-toggle-shadow[_ngcontent-%COMP%]{position:absolute;left:3px;top:2px;width:11px;height:11px;background-color:#fff;border-radius:45px;-webkit-transition:left .2s ease-in-out;transition:left .2s ease-in-out}.on[_ngcontent-%COMP%]   .slide-toggle-shadow[_ngcontent-%COMP%]{left:14px}"]}),t})()},FXYA:function(t,e,n){function i(t){var n;function i(){if(i.enabled){var t=i,o=+new Date,s=o-(n||o);t.diff=s,t.prev=n,t.curr=o,n=o;for(var r=new Array(arguments.length),a=0;a<r.length;a++)r[a]=arguments[a];r[0]=e.coerce(r[0]),"string"!=typeof r[0]&&r.unshift("%O");var c=0;r[0]=r[0].replace(/%([a-zA-Z%])/g,(function(n,i){if("%%"===n)return n;c++;var o=e.formatters[i];return"function"==typeof o&&(n=o.call(t,r[c]),r.splice(c,1),c--),n})),e.formatArgs.call(t,r);var l=i.log||e.log||console.log.bind(console);l.apply(t,r)}}return i.namespace=t,i.enabled=e.enabled(t),i.useColors=e.useColors(),i.color=function(t){var n,i=0;for(n in t)i=(i<<5)-i+t.charCodeAt(n),i|=0;return e.colors[Math.abs(i)%e.colors.length]}(t),i.destroy=o,"function"==typeof e.init&&e.init(i),e.instances.push(i),i}function o(){var t=e.instances.indexOf(this);return-1!==t&&(e.instances.splice(t,1),!0)}(e=t.exports=i.debug=i.default=i).coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){e.enable("")},e.enable=function(t){var n;e.save(t),e.names=[],e.skips=[];var i=("string"==typeof t?t:"").split(/[\s,]+/),o=i.length;for(n=0;n<o;n++)i[n]&&("-"===(t=i[n].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")));for(n=0;n<e.instances.length;n++){var s=e.instances[n];s.enabled=e.enabled(s.namespace)}},e.enabled=function(t){if("*"===t[t.length-1])return!0;var n,i;for(n=0,i=e.skips.length;n<i;n++)if(e.skips[n].test(t))return!1;for(n=0,i=e.names.length;n<i;n++)if(e.names[n].test(t))return!0;return!1},e.humanize=n("XuI1"),e.instances=[],e.names=[],e.skips=[],e.formatters={}},Gbct:function(t,e,n){var i=n("+ntK"),o=n("1Mk5");function s(t){this.path=t.path,this.hostname=t.hostname,this.port=t.port,this.secure=t.secure,this.query=t.query,this.timestampParam=t.timestampParam,this.timestampRequests=t.timestampRequests,this.readyState="",this.agent=t.agent||!1,this.socket=t.socket,this.enablesXDR=t.enablesXDR,this.withCredentials=t.withCredentials,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.forceNode=t.forceNode,this.isReactNative=t.isReactNative,this.extraHeaders=t.extraHeaders,this.localAddress=t.localAddress}t.exports=s,o(s.prototype),s.prototype.onError=function(t,e){var n=new Error(t);return n.type="TransportError",n.description=e,this.emit("error",n),this},s.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},s.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},s.prototype.send=function(t){if("open"!==this.readyState)throw new Error("Transport not open");this.write(t)},s.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},s.prototype.onData=function(t){var e=i.decodePacket(t,this.socket.binaryType);this.onPacket(e)},s.prototype.onPacket=function(t){this.emit("packet",t)},s.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},Gjsa:function(t,e){var n="function"==typeof setImmediate;t.exports=n?function(t){setImmediate(t)}:function(t){setTimeout(t,0)}},H7pl:function(t,e,n){"use strict";var i=n("fXoL"),o=n("ofXK"),s=n("cUhd"),r=n("Kdsb"),a=n("dayM");const c=["pictureViewer"];function l(t,e){1&t&&(i.Vb(0,"div",12),i.Qb(1,"app-loader-spinner"),i.Ub())}const h=function(t){return{"width-adjust":t}},d=function(t){return{fullHeight:t}},u=function(t,e){return{longer:t,loaded:e}},g=function(t,e){return{longer:t,wider:e}},p=function(t){return{disable:t}};function f(t,e){if(1&t){const t=i.Wb();i.Vb(0,"div",1),i.Vb(1,"div",2),i.Vb(2,"perfect-scrollbar",3,4),i.Lc(4,l,2,0,"div",5),i.Vb(5,"div",6),i.Qb(6,"img",7,8),i.Ub(),i.Ub(),i.Vb(8,"div",9),i.dc("click",(function(e){return i.Cc(t),i.gc().prev()})),i.Ub(),i.Vb(9,"div",10),i.dc("click",(function(e){return i.Cc(t),i.gc().next()})),i.Ub(),i.Vb(10,"div",11),i.dc("click",(function(e){return i.Cc(t),i.gc().close()})),i.Ub(),i.Ub(),i.Ub()}if(2&t){const t=i.gc();i.Bb(1),i.nc("ngClass",i.sc(8,h,t.isLongerImg)),i.Bb(1),i.nc("ngClass",i.sc(10,d,t.isLongerImg)),i.Bb(2),i.nc("ngIf",!t.viewerImageLoaded),i.Bb(1),i.nc("ngClass",i.tc(12,u,t.isLongerImg,t.viewerImageLoaded)),i.Bb(1),i.nc("src",t.images[t.current],i.Fc)("ngClass",i.tc(15,g,t.isLongerImg,t.isWiderImg)),i.Bb(2),i.nc("ngClass",i.sc(18,p,t.current>t.images.length-2)),i.Bb(1),i.nc("ngClass",i.sc(20,p,t.current<1))}}let b=(()=>{class t{constructor(t){this.pictureViewerService=t,this.show=!1,this.isLongerImg=!1,this.isWiderImg=!1,this.viewerImageLoaded=!1}ngOnInit(){this.pictureViewerService.showPictureViewer$.subscribe(t=>{this.show=!0,this.images=t.images,this.current=t.index,setTimeout(()=>{this.imageLoaded()},100)})}close(){this.show=!1}prev(){this.current<this.images.length-1&&(this.current+=1,this.viewerImageLoaded=!1,setTimeout(()=>{this.imageLoaded()},100))}next(){this.current>0&&(this.current-=1,this.viewerImageLoaded=!1,setTimeout(()=>{this.imageLoaded()},100))}imageLoaded(){if(this.isLongerImg=!1,this.isWiderImg=!1,void 0===this.viewerImage)setTimeout(()=>{this.imageLoaded()},100);else if(this.viewerImage.nativeElement.complete){const t=this.viewerImage.nativeElement.naturalWidth,e=this.viewerImage.nativeElement.naturalHeight;e>2*t&&(this.isLongerImg=!0),t>2.3*e&&(this.isWiderImg=!0),this.viewerImageLoaded=!0}else setTimeout(()=>{this.imageLoaded()},100)}}return t.\u0275fac=function(e){return new(e||t)(i.Pb(s.a))},t.\u0275cmp=i.Jb({type:t,selectors:[["app-picture-viewer"]],viewQuery:function(t,e){var n;1&t&&i.Uc(c,!0),2&t&&i.yc(n=i.ec())&&(e.viewerImage=n.first)},decls:1,vars:1,consts:[["class","picture-viewer-container",4,"ngIf"],[1,"picture-viewer-container"],[1,"picture-viewer-inner",3,"ngClass"],[1,"picture-viewer-scrollbar",3,"ngClass"],["perfectscroll",""],["class","loader",4,"ngIf"],[1,"picture-viewer-image",3,"ngClass"],[1,"picture-viewer-imgPath",3,"src","ngClass"],["pictureViewer",""],[1,"prev","iconfont","iconjiantou_liebiaoxiangzuo",3,"ngClass","click"],[1,"next","iconfont","iconjiantou_liebiaoxiangyou",3,"ngClass","click"],[1,"close-button","iconfont","iconguanbi",3,"click"],[1,"loader"]],template:function(t,e){1&t&&i.Lc(0,f,11,22,"div",0),2&t&&i.nc("ngIf",e.show)},directives:[o.n,o.l,r.b,a.a],styles:[".picture-viewer-container[_ngcontent-%COMP%]{position:fixed;left:0;right:0;top:0;bottom:0;background-color:rgba(0,0,0,.8);z-index:10000;min-width:720px}.picture-viewer-container[_ngcontent-%COMP%], .picture-viewer-inner[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center}.picture-viewer-inner[_ngcontent-%COMP%]{width:80%;height:80%;position:relative}.picture-viewer-inner.width-adjust[_ngcontent-%COMP%]{width:-webkit-min-content;width:-moz-min-content;width:min-content}.picture-viewer-scrollbar[_ngcontent-%COMP%]{height:calc(85vh - 75px);display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;max-height:unset}.picture-viewer-scrollbar.fullHeight[_ngcontent-%COMP%]{height:100vh;max-height:100%}.loader[_ngcontent-%COMP%]{position:absolute;z-index:0;top:0;left:0;right:0;bottom:0;margin:auto}.picture-viewer-image[_ngcontent-%COMP%]{height:calc(85vh - 75px);margin:auto;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;position:relative;opacity:0;padding-right:10px}.picture-viewer-image.longer[_ngcontent-%COMP%]{height:auto;width:40vw}.picture-viewer-image[_ngcontent-%COMP%]   .picture-viewer-imgPath[_ngcontent-%COMP%]{height:100%;position:relative;z-index:1}.picture-viewer-image[_ngcontent-%COMP%]   .picture-viewer-imgPath.wider[_ngcontent-%COMP%]{height:auto;width:100%}.picture-viewer-image[_ngcontent-%COMP%]   .picture-viewer-imgPath.longer[_ngcontent-%COMP%]{height:auto;max-height:none!important;width:40vw}.picture-viewer-image.loaded[_ngcontent-%COMP%]{opacity:1}@media (max-width:1439px){.picture-viewer-image[_ngcontent-%COMP%]   .picture-viewer-imgPath[_ngcontent-%COMP%]{max-height:40vw}}.close-button[_ngcontent-%COMP%], .next[_ngcontent-%COMP%], .prev[_ngcontent-%COMP%]{cursor:pointer}.light[_nghost-%COMP%]   .close-button[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .close-button[_ngcontent-%COMP%], .light[_nghost-%COMP%]   .next[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .next[_ngcontent-%COMP%], .light[_nghost-%COMP%]   .prev[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .prev[_ngcontent-%COMP%]{color:#fff!important}.close-button[_ngcontent-%COMP%]:hover, .next[_ngcontent-%COMP%]:hover, .prev[_ngcontent-%COMP%]:hover{color:#e2e2e2}.light[_nghost-%COMP%]   .close-button[_ngcontent-%COMP%]:hover, .light   [_nghost-%COMP%]   .close-button[_ngcontent-%COMP%]:hover, .light[_nghost-%COMP%]   .next[_ngcontent-%COMP%]:hover, .light   [_nghost-%COMP%]   .next[_ngcontent-%COMP%]:hover, .light[_nghost-%COMP%]   .prev[_ngcontent-%COMP%]:hover, .light   [_nghost-%COMP%]   .prev[_ngcontent-%COMP%]:hover{color:#a0a0a0!important}.close-button[_ngcontent-%COMP%]:active, .next[_ngcontent-%COMP%]:active, .prev[_ngcontent-%COMP%]:active{color:#d2d2d2}.light[_nghost-%COMP%]   .close-button[_ngcontent-%COMP%]:active, .light   [_nghost-%COMP%]   .close-button[_ngcontent-%COMP%]:active, .light[_nghost-%COMP%]   .next[_ngcontent-%COMP%]:active, .light   [_nghost-%COMP%]   .next[_ngcontent-%COMP%]:active, .light[_nghost-%COMP%]   .prev[_ngcontent-%COMP%]:active, .light   [_nghost-%COMP%]   .prev[_ngcontent-%COMP%]:active{color:#afafaf!important}.next[_ngcontent-%COMP%], .prev[_ngcontent-%COMP%]{position:absolute;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);cursor:pointer}.next.disable[_ngcontent-%COMP%], .prev.disable[_ngcontent-%COMP%]{color:#222!important}.light[_nghost-%COMP%]   .next.disable[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .next.disable[_ngcontent-%COMP%], .light[_nghost-%COMP%]   .prev.disable[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .prev.disable[_ngcontent-%COMP%]{color:#e0e0e0!important}.close-button[_ngcontent-%COMP%]{position:absolute;top:-55px;right:-55px}.prev[_ngcontent-%COMP%]{left:-66px}.next[_ngcontent-%COMP%]{right:-66px}.iconfont[_ngcontent-%COMP%]{font-size:66px}.iconguanbi[_ngcontent-%COMP%]{font-size:36px}img[_ngcontent-%COMP%]{max-width:100%;max-height:100%}"]}),t})();var m=n("tyNb");function v(t,e){1&t&&(i.Vb(0,"div",5),i.Nc(1,"\u672c\u5e73\u53f0\u7981\u6b62\u79c1\u804a\u653f\u6cbb\uff0c\u5e7f\u544a\uff0c\u6728\u9a6c\u94fe\u63a5\uff0c\u975e\u6cd5\u4fe1\u606f\uff0c\u591a\u6b21\u5f15\u5bfc\u7528\u6237\u7ad9\u5916\u8054\u7cfb\u3002\u4ee5\u4e0a\u884c\u4e3a\u5c06\u88ab\u5c01\u53f7\u3002"),i.Ub())}function y(t,e){if(1&t&&i.Qb(0,"img",14),2&t){const t=i.gc(2).$implicit;i.nc("src",t.HeadImg,i.Fc)}}n.d(e,"a",(function(){return B}));const C=function(t){return["/space/",t]};function _(t,e){if(1&t&&(i.Vb(0,"a",12),i.Lc(1,y,1,1,"img",13),i.Ub()),2&t){const t=i.gc().$implicit;i.nc("routerLink",i.sc(2,C,t.uid)),i.Bb(1),i.nc("ngIf","RECEIVE"===t.type)}}function x(t,e){if(1&t&&i.Qb(0,"img",14),2&t){const t=i.gc(4);i.nc("src",null==t.currentUser?null:t.currentUser.avatar,i.Fc)}}const P=function(){return["/space/"]};function w(t,e){if(1&t&&(i.Vb(0,"a",12),i.Lc(1,x,1,1,"img",13),i.Ub()),2&t){const t=i.gc().$implicit;i.nc("routerLink",i.rc(2,P)),i.Bb(1),i.nc("ngIf","SEND"===t.type)}}const O=function(t){return{stickyStyle:t}};function M(t,e){if(1&t&&i.Qb(0,"div",15),2&t){const t=i.gc().$implicit,e=i.gc(2);i.nc("innerHTML",t.context,i.Dc)("ngClass",i.sc(2,O,e.fromSticky))}}const k=function(t){return{"not-loaded":t}};function S(t,e){if(1&t){const t=i.Wb();i.Vb(0,"div",16),i.dc("click",(function(e){i.Cc(t);const n=i.gc().$implicit;return i.gc(2).showPictureViewer(n)})),i.Qb(1,"img",17,18),i.Vb(3,"div",19),i.Qb(4,"app-loader-spinner"),i.Ub(),i.Ub()}if(2&t){const t=i.zc(2),e=i.gc().$implicit,n=i.gc(2);i.nc("ngClass",i.sc(3,O,n.fromSticky)),i.Bb(1),i.nc("src",e.context+"?w=212",i.Fc)("ngClass",i.sc(5,k,!t.complete))}}function I(t,e){if(1&t&&(i.Vb(0,"div",20),i.Nc(1,"\u6d88\u606f\u5185\u542b\u6709\u654f\u611f\u8bcd\u6c47\uff0c\u53d1\u9001\u5931\u8d25\u3002"),i.Vb(2,"span",21),i.Nc(3,"!"),i.Ub(),i.Ub()),2&t){const t=i.gc(3);i.nc("ngClass",i.sc(1,O,t.fromSticky))}}const L=function(t,e){return{"you-chat-message-right":t,"more-space":e}};function T(t,e){if(1&t&&(i.Vb(0,"div",6),i.Vb(1,"span",7),i.Lc(2,_,2,4,"a",8),i.Lc(3,w,2,3,"a",8),i.Ub(),i.Lc(4,M,1,4,"div",9),i.Lc(5,S,5,7,"div",10),i.Lc(6,I,4,3,"div",11),i.Ub()),2&t){const t=e.$implicit,n=i.gc(2);i.nc("ngClass",i.tc(7,L,"SEND"===t.type,n.fromSticky&&t.notAllowed)),i.Bb(1),i.nc("ngClass",i.sc(10,O,n.fromSticky)),i.Bb(1),i.nc("ngIf","RECEIVE"===t.type),i.Bb(1),i.nc("ngIf","SEND"===t.type),i.Bb(1),i.nc("ngIf","text"===t.messageType),i.Bb(1),i.nc("ngIf","image"===t.messageType),i.Bb(1),i.nc("ngIf",t.notAllowed)}}function A(t,e){if(1&t&&(i.Vb(0,"div"),i.Vb(1,"div",2),i.Nc(2),i.hc(3,"date"),i.Ub(),i.Lc(4,v,2,0,"div",3),i.Lc(5,T,7,12,"div",4),i.Ub()),2&t){const t=e.$implicit,n=e.last,o=i.gc();i.Bb(1),i.nc("ngClass",i.sc(7,O,o.fromSticky)),i.Bb(1),i.Oc(i.jc(3,4,1e3*t,"yyyy-MM-dd HH:mm")),i.Bb(2),i.nc("ngIf",n),i.Bb(1),i.nc("ngForOf",o._messages[t])}}const N=["*"];let B=(()=>{class t{constructor(){this._messages={},this._timestamps=[],this.onChanged=new i.n,this.onAppeared=new i.n,this.onOpenViewer=new i.n,this.fromSticky=!1}set messages(t){this._messages=t,this._timestamps=Object.keys(t)}ngOnChanges(t){this.onChanged.emit()}onAppear(t){this.onAppeared.emit(t)}showPictureViewer(t){this.onOpenViewer.emit(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Jb({type:t,selectors:[["app-you-chat-log"]],inputs:{currentUser:"currentUser",messages:"messages",fromSticky:"fromSticky"},outputs:{onChanged:"onChanged",onAppeared:"onAppeared",onOpenViewer:"onOpenViewer"},features:[i.zb()],ngContentSelectors:N,decls:4,vars:4,consts:[[1,"you-chat-log-containter",3,"ngClass"],[4,"ngFor","ngForOf"],[1,"datetime-seprator",3,"ngClass"],["class","chat-warning",4,"ngIf"],["class","you-chat-message mb-05",3,"ngClass",4,"ngFor","ngForOf"],[1,"chat-warning"],[1,"you-chat-message","mb-05",3,"ngClass"],[1,"you-chat-message__avatar-frame",3,"ngClass"],["target","_blank","class","avatar-link",3,"routerLink",4,"ngIf"],["class","you-chat-message__text",3,"innerHTML","ngClass",4,"ngIf"],["class","you-chat-message__image",3,"ngClass","click",4,"ngIf"],["class","message-not-allowed",3,"ngClass",4,"ngIf"],["target","_blank",1,"avatar-link",3,"routerLink"],["alt","avatar","class","chat-message__avatar",3,"src",4,"ngIf"],["alt","avatar",1,"chat-message__avatar",3,"src"],[1,"you-chat-message__text",3,"innerHTML","ngClass"],[1,"you-chat-message__image",3,"ngClass","click"],[3,"src","ngClass"],["msgImg",""],[1,"loader-bg"],[1,"message-not-allowed",3,"ngClass"],[1,"not-allow-icon"]],template:function(t,e){1&t&&(i.mc(),i.Vb(0,"div",0),i.Lc(1,A,6,9,"div",1),i.lc(2),i.Ub(),i.Qb(3,"app-picture-viewer")),2&t&&(i.nc("ngClass",i.sc(2,O,e.fromSticky)),i.Bb(1),i.nc("ngForOf",e._timestamps))},directives:[o.l,o.m,b,o.n,m.g,a.a],pipes:[o.e],styles:[".datetime-seprator[_ngcontent-%COMP%]{padding:15px 0;text-align:center;color:hsla(0,0%,100%,.7)}.light[_nghost-%COMP%]   .datetime-seprator[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .datetime-seprator[_ngcontent-%COMP%]{color:#858585!important}.datetime-seprator.stickyStyle[_ngcontent-%COMP%]{color:hsla(0,0%,100%,.4)}.message-not-allowed[_ngcontent-%COMP%]{color:hsla(0,0%,100%,.7);padding:12px 16px}.light[_nghost-%COMP%]   .message-not-allowed[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .message-not-allowed[_ngcontent-%COMP%]{color:#858585!important}.message-not-allowed[_ngcontent-%COMP%]   .not-allow-icon[_ngcontent-%COMP%]{padding:5px;background-color:red;border-radius:50%;color:#fff;height:18px;width:18px;display:-webkit-inline-box;display:inline-flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center}.message-not-allowed.stickyStyle[_ngcontent-%COMP%]{position:absolute;bottom:-24px}.message-not-allowed.stickyStyle[_ngcontent-%COMP%]   .not-allow-icon[_ngcontent-%COMP%]{height:14px;width:14px}.you-chat-message__image[_ngcontent-%COMP%]{cursor:pointer}.you-chat-message-right[_ngcontent-%COMP%]   .you-chat-message__avatar-frame.stickyStyle[_ngcontent-%COMP%]{display:none!important}.chat-warning[_ngcontent-%COMP%]{font-size:12px;color:hsla(0,0%,100%,.4);text-align:center;padding-bottom:15px}.light[_nghost-%COMP%]   .chat-warning[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .chat-warning[_ngcontent-%COMP%]{color:#888}.avatar-link[_ngcontent-%COMP%]{height:100%;width:100%}.loader-bg[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0;z-index:1}"]}),t})()},HBtT:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var i=n("LRne"),o=n("Njeq"),s=n("tWDZ"),r=n("ionH"),a=n("lJxs"),c=n("fXoL");let l=(()=>{class t{constructor(t,e,n){this._apiUrlHelper=t,this._httpClientHelper=e,this._messageTransFormer=n}getMessages(t,e=1,n=0,o=0){if(!t)return Object(i.a)([]);const s=this._apiUrlHelper.urlBuilder("user-messages",{type:n,page:e,size:o});return this._httpClientHelper.get(s).pipe(Object(a.a)(t=>t.map(t=>({count:t.count,list:t.result.map(t=>this._messageTransFormer.transform(t))}))))}getFollowedNotifications(t,e=1,n=10){if(!t)return Object(i.a)([]);const o=this._apiUrlHelper.urlBuilder("get-user-attend-msg",{page:e,size:n});return this._httpClientHelper.get(o).pipe(Object(a.a)(t=>t.map(t=>({count:t.recordNum,list:t.list}))))}getLikedNotifications(t,e=1,n=10){if(!t)return Object(i.a)([]);const o=this._apiUrlHelper.urlBuilder("get-user-zan-msg",{page:e,size:n});return this._httpClientHelper.get(o).pipe(Object(a.a)(t=>t.map(t=>({count:t.recordNum,list:t.list}))))}}return t.\u0275fac=function(e){return new(e||t)(c.Zb(o.a),c.Zb(s.a),c.Zb(r.a))},t.\u0275prov=c.Lb({token:t,factory:t.\u0275fac}),t})()},HDdC:function(t,e,n){"use strict";var i=n("7o/Q"),o=n("2QA8"),s=n("gRHU"),r=n("kJWO"),a=n("mCNh"),c=n("2fFW");n.d(e,"a",(function(){return l}));let l=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:r}=this,a=function(t,e,n){if(t){if(t instanceof i.a)return t;if(t[o.a])return t[o.a]()}return t||e||n?new i.a(t,e,n):new i.a(s.a)}(t,e,n);if(a.add(r?r.call(a,this.source):this.source||c.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),c.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){c.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:o}=t;if(e||o)return!1;t=n&&n instanceof i.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=h(e))((e,n)=>{let i;i=this.subscribe(e=>{try{t(e)}catch(o){n(o),i&&i.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[r.a](){return this}pipe(...t){return 0===t.length?this:Object(a.b)(t)(this)}toPromise(t){return new(t=h(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function h(t){if(t||(t=c.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},HJVa:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n("Y7a1");const o={loading:!1,list:[],paused:null,setCurrentTime:0,keywordFilter:[],userFilter:[],fullScreen:!1,blockTop:!1,blockBottom:!1,blockLeft:!1,speed:2,showDanmu:!0,fontSize:18,opacity:4,fontFamily:4,danmuKey:"",outputType:0,outputColor:0,userSettings:{includeAvatar:!1,includeLocation:!1,userSettingsLoaded:!1}};function s(t=o,e){switch(e.type){case i.a.DANMU_RESET:return Object.assign(Object.assign({},t),{list:[]});case i.a.DANMU_LIST_REQUIRED:return Object.assign(Object.assign({},t),{loading:!0});case i.a.DANMU_LIST_LOADED:return Object.assign(Object.assign({},t),{loading:!1,list:e.payload?[...e.payload].sort((t,e)=>t.second>=e.second?1:-1):[]});case i.a.DANMU_LIST_LOAD_FAILURE:return Object.assign(Object.assign({},t),{loading:!1});case i.a.DANMU_PAUSE:return Object.assign(Object.assign({},t),{paused:e.payload});case i.a.DANMU_PLAY:return Object.assign(Object.assign({},t),{paused:0});case i.a.DANMU_SEND:return Object.assign({},t);case i.a.DANMU_NEW:return Object.assign(Object.assign({},t),{list:[...t.list,Object.assign({},e.payload)].sort((t,e)=>t.second>=e.second?1:-1)});case i.a.DANMU_SET_CURRENT_TIME:return Object.assign(Object.assign({},t),{setCurrentTime:e.payload});case i.a.DANMU_ADD_KEYWORD_FILTER:return Object.assign(Object.assign({},t),{keywordFilter:-1===t.keywordFilter.indexOf(e.payload)?[...t.keywordFilter,e.payload]:[...t.keywordFilter]});case i.a.DANMU_REMOVE_KEYWORD_FILTER:return Object.assign(Object.assign({},t),{keywordFilter:[...t.keywordFilter.filter(t=>t!==e.payload)]});case i.a.DANMU_ADD_USER_FILTER:return Object.assign(Object.assign({},t),{userFilter:t.userFilter.findIndex(t=>t.id==e.payload.id)>-1?[...t.userFilter]:[...t.userFilter,e.payload]});case i.a.DANMU_REMOVE_USER_FILTER:return Object.assign(Object.assign({},t),{userFilter:[...t.userFilter.filter(t=>t.id!==e.payload.id)]});case i.a.DANMU_SET_FULL_SCREEN:return Object.assign(Object.assign({},t),{fullScreen:e.payload});case i.a.DANMU_BLOCK_TOP:return Object.assign(Object.assign({},t),{blockTop:!t.blockTop});case i.a.DANMU_BLOCK_BOTTOM:return Object.assign(Object.assign({},t),{blockBottom:!t.blockBottom});case i.a.DANMU_BLOCK_LEFT:return Object.assign(Object.assign({},t),{blockLeft:!t.blockLeft});case i.a.DANMU_SET_SPEED:return Object.assign(Object.assign({},t),{speed:e.payload});case i.a.DANMU_TOGGLE_DANMU:return Object.assign(Object.assign({},t),{showDanmu:!t.showDanmu});case i.a.DANMU_SET_FONT_SIZE:return Object.assign(Object.assign({},t),{fontSize:e.payload});case i.a.DANMU_SET_OPACITY:return Object.assign(Object.assign({},t),{opacity:e.payload});case i.a.DANMU_SET_FONT_FAMILY:return Object.assign(Object.assign({},t),{fontFamily:e.payload});case i.a.DANMU_SET_DANMU_KEY:return Object.assign(Object.assign({},t),{danmuKey:e.payload});case i.a.DANMU_REMOVED:return Object.assign(Object.assign({},t),{list:[...t.list.filter(t=>t.guid!==e.payload)]});case i.a.DANMU_SET_OUTPUT_TYPE:return Object.assign(Object.assign({},t),{outputType:e.payload});case i.a.DANMU_SET_OUTPUT_COLOR:return Object.assign(Object.assign({},t),{outputColor:e.payload});case i.a.DANMU_GET_USER_SETTINGS_SUCCESS:return Object.assign(Object.assign({},t),{userSettings:Object.assign(Object.assign({},e.payload),{userSettingsLoaded:!0})});default:return t}}},"HQN/":function(t,e,n){"use strict";var i=n("yf2Q");n.d(e,"a",(function(){return i.a})),n.d(e,"b",(function(){return i.c})),n.d(e,"c",(function(){return i.d})),n.d(e,"d",(function(){return i.e})),n.d(e,"e",(function(){return i.f})),n.d(e,"f",(function(){return i.g})),function(){if("undefined"==typeof window||"function"==typeof window.CustomEvent)return!1;window}()},HjK1:function(t,e,n){e.log=function(...t){return"object"==typeof console&&console.log&&console.log(...t)},e.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;e.splice(1,0,n,"color: inherit");let i=0,o=0;e[0].replace(/%[a-zA-Z%]/g,t=>{"%%"!==t&&(i++,"%c"===t&&(o=i))}),e.splice(o,0,n)},e.save=function(t){try{t?e.storage.setItem("debug",t):e.storage.removeItem("debug")}catch(n){}},e.load=function(){let t;try{t=e.storage.getItem("debug")}catch(n){}return!t&&"undefined"!=typeof process&&"env"in process&&(t=process.env.DEBUG),t},e.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},e.storage=function(){try{return localStorage}catch(t){}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.exports=n("utJY")(e);const{formatters:i}=t.exports;i.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},I2Dd:function(t,e){var n;window.AmCharts?n=window.AmCharts:(n={},window.AmCharts=n,n.themes={},n.maps={},n.inheriting={},n.charts=[],n.onReadyArray=[],n.useUTC=!1,n.updateRate=60,n.uid=0,n.lang={},n.translations={},n.mapTranslations={},n.windows={},n.initHandlers=[],n.amString="am",n.pmString="pm"),n.Class=function(t){var e=function(){arguments[0]!==n.inheriting&&(this.events={},this.construct.apply(this,arguments))};for(var i in t.inherits?(e.prototype=new t.inherits(n.inheriting),e.base=t.inherits.prototype,delete t.inherits):(e.prototype.createEvents=function(){for(var t=0;t<arguments.length;t++)this.events[arguments[t]]=[]},e.prototype.listenTo=function(t,e,n){this.removeListener(t,e,n),t.events[e].push({handler:n,scope:this})},e.prototype.addListener=function(t,e,n){this.removeListener(this,t,e),t&&this.events[t]&&this.events[t].push({handler:e,scope:n})},e.prototype.removeListener=function(t,e,n){if(t&&t.events&&(t=t.events[e]))for(e=t.length-1;0<=e;e--)t[e].handler===n&&t.splice(e,1)},e.prototype.fire=function(t){for(var e=this.events[t.type],n=0;n<e.length;n++){var i=e[n];i.handler.call(i.scope,t)}}),t)e.prototype[i]=t[i];return e},n.addChart=function(t){window.requestAnimationFrame?n.animationRequested||(n.animationRequested=!0,window.requestAnimationFrame(n.update)):n.updateInt||(n.updateInt=setInterval((function(){n.update()}),Math.round(1e3/n.updateRate))),n.charts.push(t)},n.removeChart=function(t){for(var e=n.charts,i=e.length-1;0<=i;i--)e[i]==t&&e.splice(i,1);0===e.length&&(n.requestAnimation&&(window.cancelAnimationFrame(n.requestAnimation),n.animationRequested=!1),n.updateInt&&(clearInterval(n.updateInt),n.updateInt=NaN))},n.isModern=!0,n.getIEVersion=function(){var t,e=0;return"Microsoft Internet Explorer"==navigator.appName&&(t=navigator.userAgent,null!==/MSIE ([0-9]{1,}[.0-9]{0,})/.exec(t)&&(e=parseFloat(RegExp.$1))),e},n.applyLang=function(t,e){var i=n.translations;e.dayNames=n.extend({},n.dayNames),e.shortDayNames=n.extend({},n.shortDayNames),e.monthNames=n.extend({},n.monthNames),e.shortMonthNames=n.extend({},n.shortMonthNames),e.amString="am",e.pmString="pm",i&&(i=i[t])&&(n.lang=i,e.langObj=i,i.monthNames&&(e.dayNames=n.extend({},i.dayNames),e.shortDayNames=n.extend({},i.shortDayNames),e.monthNames=n.extend({},i.monthNames),e.shortMonthNames=n.extend({},i.shortMonthNames)),i.am&&(e.amString=i.am),i.pm&&(e.pmString=i.pm)),n.amString=e.amString,n.pmString=e.pmString},n.IEversion=n.getIEVersion(),9>n.IEversion&&0<n.IEversion&&(n.isModern=!1,n.isIE=!0),n.dx=0,n.dy=0,(document.addEventListener||window.opera)&&(n.isNN=!0,n.isIE=!1,n.dx=.5,n.dy=.5),document.attachEvent&&(n.isNN=!1,n.isIE=!0,n.isModern||(n.dx=0,n.dy=0)),window.chrome&&(n.chrome=!0),n.handleMouseUp=function(t){for(var e=n.charts,i=0;i<e.length;i++){var o=e[i];o&&o.handleReleaseOutside&&o.handleReleaseOutside(t)}},n.handleMouseMove=function(t){for(var e=n.charts,i=0;i<e.length;i++){var o=e[i];o&&o.handleMouseMove&&o.handleMouseMove(t)}},n.handleWheel=function(t){for(var e=n.charts,i=0;i<e.length;i++){var o=e[i];if(o&&o.mouseIsOver){(o.mouseWheelScrollEnabled||o.mouseWheelZoomEnabled)&&o.handleWheel&&(o.handleMouseMove(t),o.handleWheel(t));break}}},n.resetMouseOver=function(){for(var t=n.charts,e=0;e<t.length;e++){var i=t[e];i&&(i.mouseIsOver=!1)}},n.ready=function(t){n.onReadyArray.push(t)},n.handleLoad=function(){n.isReady=!0;for(var t=n.onReadyArray,e=0;e<t.length;e++){var i=t[e];isNaN(n.processDelay)?i():setTimeout(i,n.processDelay*e)}n.onReadyArray=[]},n.addInitHandler=function(t,e){n.initHandlers.push({method:t,types:e})},n.callInitHandler=function(t){var e=n.initHandlers;if(n.initHandlers)for(var i=0;i<e.length;i++){var o=e[i];o.types?n.isInArray(o.types,t.type)&&o.method(t):o.method(t)}},n.getUniqueId=function(){return n.uid++,"AmChartsEl-"+n.uid},n.isNN&&(document.addEventListener("mousemove",n.handleMouseMove),document.addEventListener("mouseup",n.handleMouseUp,!0),window.addEventListener("load",n.handleLoad,!0)),n.isIE&&(document.attachEvent("onmousemove",n.handleMouseMove),document.attachEvent("onmouseup",n.handleMouseUp),window.attachEvent("onload",n.handleLoad)),n.addWheelListeners=function(){n.wheelIsListened||(n.isNN&&(window.addEventListener("DOMMouseScroll",n.handleWheel,!0),document.addEventListener("mousewheel",n.handleWheel,!0)),n.isIE&&document.attachEvent("onmousewheel",n.handleWheel)),n.wheelIsListened=!0},n.clear=function(){var t=n.charts;if(t)for(var e=t.length-1;0<=e;e--)t[e].clear();n.updateInt&&clearInterval(n.updateInt),n.requestAnimation&&window.cancelAnimationFrame(n.requestAnimation),n.charts=[],n.isNN&&(document.removeEventListener("mousemove",n.handleMouseMove,!0),document.removeEventListener("mouseup",n.handleMouseUp,!0),window.removeEventListener("load",n.handleLoad,!0),window.removeEventListener("DOMMouseScroll",n.handleWheel,!0),document.removeEventListener("mousewheel",n.handleWheel,!0)),n.isIE&&(document.detachEvent("onmousemove",n.handleMouseMove),document.detachEvent("onmouseup",n.handleMouseUp),window.detachEvent("onload",n.handleLoad))},n.makeChart=function(t,e,i){var o,s=e.type,r=e.theme;switch(n.isString(r)&&(e.theme=r=n.themes[r]),s){case"serial":o=new n.AmSerialChart(r);break;case"xy":o=new n.AmXYChart(r);break;case"pie":o=new n.AmPieChart(r);break;case"radar":o=new n.AmRadarChart(r);break;case"gauge":o=new n.AmAngularGauge(r);break;case"funnel":o=new n.AmFunnelChart(r);break;case"map":o=new n.AmMap(r);break;case"stock":o=new n.AmStockChart(r);break;case"gantt":o=new n.AmGanttChart(r)}return n.extend(o,e),n.isReady?isNaN(i)?o.write(t):setTimeout((function(){n.realWrite(o,t)}),i):n.ready((function(){isNaN(i)?o.write(t):setTimeout((function(){n.realWrite(o,t)}),i)})),o},n.realWrite=function(t,e){t.write(e)},n.updateCount=0,n.validateAt=Math.round(n.updateRate/10),n.update=function(){var t=n.charts;n.updateCount++;var e=!1;if(n.updateCount==n.validateAt&&(e=!0,n.updateCount=0),t)for(var i=t.length-1;0<=i;i--)t[i].update&&t[i].update(),e&&(t[i].autoResize?t[i].validateSize&&t[i].validateSize():t[i].premeasure&&t[i].premeasure());window.requestAnimationFrame&&(n.requestAnimation=window.requestAnimationFrame(n.update))},"complete"==document.readyState&&n.handleLoad(),function(){var t=window.AmCharts;t.toBoolean=function(t,e){if(void 0===t)return e;switch(String(t).toLowerCase()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":case null:return!1;default:return!!t}},t.removeFromArray=function(t,e){var n;if(void 0!==e&&void 0!==t)for(n=t.length-1;0<=n;n--)t[n]==e&&t.splice(n,1)},t.getPath=function(){var t=document.getElementsByTagName("script");if(t)for(var e=0;e<t.length;e++){var n=t[e].src;if(-1!==n.search(/\/(amcharts|ammap)\.js/))return n.replace(/\/(amcharts|ammap)\.js.*/,"/")}},t.normalizeUrl=function(t){return""!==t&&-1===t.search(/\/$/)?t+"/":t},t.isAbsolute=function(t){return 0===t.search(/^http[s]?:|^\//)},t.isInArray=function(t,e){for(var n=0;n<t.length;n++)if(t[n]==e)return!0;return!1},t.getDecimals=function(t){var e=0;return isNaN(t)||(-1!=(t=String(t)).indexOf("e-")?e=Number(t.split("-")[1]):-1!=t.indexOf(".")&&(e=t.split(".")[1].length)),e},t.wordwrap=function(e,n,i,o){var s,r,a,c;if(e+="",1>n)return e;for(s=-1,e=(c=e.split(/\r\n|\n|\r/)).length;++s<e;c[s]+=a){for(a=c[s],c[s]="";a.length>n;c[s]+=t.trim(a.slice(0,r))+((a=a.slice(r)).length?i:""))r=2==o||(r=a.slice(0,n+1).match(/\S*(\s)?$/))[1]?n:r.input.length-r[0].length||1==o&&n||r.input.length+(r=a.slice(n).match(/^\S*/))[0].length;a=t.trim(a)}return c.join(i)},t.trim=function(t){return t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},t.wrappedText=function(e,n,i,o,s,r,a,c){var l=t.text(e,n,i,o,s,r,a);if(l){var h=l.getBBox();if(h.width>c){var d="\n";t.isModern||(d="<br>"),2<(c=Math.floor(c/(h.width/n.length)))&&(c-=2),n=t.wordwrap(n,c,d,!0),l.remove(),l=t.text(e,n,i,o,s,r,a)}}return l},t.getStyle=function(t,e){var n="";if(document.defaultView&&document.defaultView.getComputedStyle)try{n=document.defaultView.getComputedStyle(t,"").getPropertyValue(e)}catch(i){}else t.currentStyle&&(e=e.replace(/\-(\w)/g,(function(t,e){return e.toUpperCase()})),n=t.currentStyle[e]);return n},t.removePx=function(t){if(void 0!==t)return Number(t.substring(0,t.length-2))},t.getURL=function(e,n){if(e)if("_self"!=n&&n)if("_top"==n&&window.top)window.top.location.href=e;else if("_parent"==n&&window.parent)window.parent.location.href=e;else if("_blank"==n)window.open(e);else{var i=document.getElementsByName(n)[0];i?i.src=e:(i=t.windows[n])&&i.opener&&!i.opener.closed?i.location.href=e:t.windows[n]=window.open(e)}else window.location.href=e},t.ifArray=function(t){return!!(t&&"object"==typeof t&&0<t.length)},t.callMethod=function(t,e){var n;for(n=0;n<e.length;n++){var i=e[n];if(i){i[t]&&i[t]();var o,s=i.length;if(0<s)for(o=0;o<s;o++){var r=i[o];r&&r[t]&&r[t]()}}}},t.toNumber=function(t){return"number"==typeof t?t:Number(String(t).replace(/[^0-9\-.]+/g,""))},t.toColor=function(t){if(""!==t&&void 0!==t)if(-1!=t.indexOf(",")){var e;for(t=t.split(","),e=0;e<t.length;e++){var n=t[e].substring(t[e].length-6,t[e].length);t[e]="#"+n}}else t="#"+(t=t.substring(t.length-6,t.length));return t},t.toCoordinate=function(t,e,n){var i;return void 0!==t&&(t=String(t),n&&n<e&&(e=n),i=Number(t),-1!=t.indexOf("!")&&(i=e-Number(t.substr(1))),-1!=t.indexOf("%")&&(i=e*Number(t.substr(0,t.length-1))/100)),i},t.fitToBounds=function(t,e,n){return t<e&&(t=e),t>n&&(t=n),t},t.isDefined=function(t){return void 0!==t},t.stripNumbers=function(t){return t.replace(/[0-9]+/g,"")},t.roundTo=function(t,e){if(0>e)return t;var n=Math.pow(10,e);return Math.round(t*n)/n},t.toFixed=function(t,e){var n=!1;0>t&&(n=!0,t=Math.abs(t));var i=String(Math.round(t*Math.pow(10,e)));if(0<e){var o,s=i.length;if(s<e)for(o=0;o<e-s;o++)i="0"+i;return""===(s=i.substring(0,i.length-e))&&(s=0),i=s+"."+i.substring(i.length-e,i.length),n?"-"+i:i}return String(i)},t.formatDuration=function(e,n,i,o,s,r){var a=t.intervals,c=r.decimalSeparator;if(e>=a[n].contains){var l=e-Math.floor(e/a[n].contains)*a[n].contains;return"ss"==n?1==(l=t.formatNumber(l,r)).split(c)[0].length&&(l="0"+l):l=t.roundTo(l,r.precision),("mm"==n||"hh"==n)&&10>l&&(l="0"+l),i=l+""+o[n]+i,e=Math.floor(e/a[n].contains),t.formatDuration(e,n=a[n].nextInterval,i,o,s,r)}if("ss"==n&&1==(e=t.formatNumber(e,r)).split(c)[0].length&&(e="0"+e),"mm"==n&&(e=t.roundTo(e,r.precision)),("mm"==n||"hh"==n)&&10>e&&(e="0"+e),i=e+""+o[n]+i,a[s].count>a[n].count)for(e=a[n].count;e<a[s].count;e++)"ss"==(n=a[n].nextInterval)||"mm"==n||"hh"==n?i="00"+o[n]+i:"DD"==n&&(i="0"+o[n]+i);return":"==i.charAt(i.length-1)&&(i=i.substring(0,i.length-1)),i},t.formatNumber=function(e,n,i,o,s){e=t.roundTo(e,n.precision),isNaN(i)&&(i=n.precision);var r,a=n.decimalSeparator;null==a&&(a=","),null==(n=n.thousandsSeparator)&&(n=" "),r=0>e?"-":"",e=Math.abs(e);var c=!1;-1!=(d=String(e)).indexOf("e")&&(c=!0),0<=i&&!c&&(d=t.toFixed(e,i));var l="";if(c)l=d;else{var h,d=d.split(".");for(h=(c=String(d[0])).length;0<=h;h-=3)l=h!=c.length?0!==h?c.substring(h-3,h)+n+l:c.substring(h-3,h)+l:c.substring(h-3,h);void 0!==d[1]&&(l=l+a+d[1]),void 0!==i&&0<i&&"0"!=l&&(l=t.addZeroes(l,a,i))}return l=r+l,""===r&&!0===o&&0!==e&&(l="+"+l),!0===s&&(l+="%"),l},t.addZeroes=function(e,n,i){return void 0===(e=e.split(n))[1]&&0<i&&(e[1]="0"),e[1].length<i?(e[1]+="0",t.addZeroes(e[0]+n+e[1],n,i)):void 0!==e[1]?e[0]+n+e[1]:e[0]},t.scientificToNormal=function(t){var e,n;if("-"==(t=String(t).split("e"))[1].substr(0,1)){for(e="0.",n=0;n<Math.abs(Number(t[1]))-1;n++)e+="0";e+=t[0].split(".").join("")}else{var i=0;for((e=t[0].split("."))[1]&&(i=e[1].length),e=t[0].split(".").join(""),n=0;n<Math.abs(Number(t[1]))-i;n++)e+="0"}return e},t.toScientific=function(t,e){if(0===t)return"0";var n=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),i=String(i).split(".").join(e);return String(i)+"e"+n},t.randomColor=function(){return"#"+("00000"+(16777216*Math.random()<<0).toString(16)).substr(-6)},t.hitTest=function(e,n,i){var o=!1,s=e.x,r=e.x+e.width,a=e.y,c=e.y+e.height,l=t.isInRectangle;return o||(o=l(s,a,n)),o||(o=l(s,c,n)),o||(o=l(r,a,n)),o||(o=l(r,c,n)),o||!0===i||(o=t.hitTest(n,e,!0)),o},t.isInRectangle=function(t,e,n){return t>=n.x-5&&t<=n.x+n.width+5&&e>=n.y-5&&e<=n.y+n.height+5},t.isPercents=function(t){if(-1!=String(t).indexOf("%"))return!0},t.formatValue=function(e,n,i,o,s,r,a,c){var l;if(n)for(void 0===s&&(s=""),l=0;l<i.length;l++){var h=i[l],d=n[h];void 0!==d&&(d=r?t.addPrefix(d,c,a,o):t.formatNumber(d,o),e=e.replace(new RegExp("\\[\\["+s+h+"\\]\\]","g"),d))}return e},t.formatDataContextValue=function(t,e){if(t){var n,i=t.match(/\[\[.*?\]\]/g);for(n=0;n<i.length;n++){var o;void 0!==e[o=(o=i[n]).substr(2,o.length-4)]&&(t=t.replace(new RegExp("\\[\\["+o+"\\]\\]","g"),e[o]))}}return t},t.massReplace=function(t,e){for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];void 0===i&&(i=""),t=t.replace(n,i)}return t},t.cleanFromEmpty=function(t){return t.replace(/\[\[[^\]]*\]\]/g,"")},t.addPrefix=function(e,n,i,o,s){var r,a,c,l=t.formatNumber(e,o),h="";if(0===e)return"0";if(0>e&&(h="-"),1<(e=Math.abs(e))){for(r=n.length-1;-1<r;r--)if(e>=n[r].number&&(a=e/n[r].number,1>(c=Number(o.precision))&&(c=1),i=t.roundTo(a,c),c=t.formatNumber(i,{precision:-1,decimalSeparator:o.decimalSeparator,thousandsSeparator:o.thousandsSeparator}),!s||a==i)){l=h+""+c+n[r].prefix;break}}else for(r=0;r<i.length;r++)if(e<=i[r].number){a=e/i[r].number,c=Math.abs(Math.floor(Math.log(a)*Math.LOG10E)),l=h+""+(a=t.roundTo(a,c))+i[r].prefix;break}return l},t.remove=function(t){t&&t.remove()},t.getEffect=function(t){return">"==t&&(t="easeOutSine"),"<"==t&&(t="easeInSine"),"elastic"==t&&(t="easeOutElastic"),t},t.getObjById=function(t,e){var n,i;for(i=0;i<t.length;i++){var o=t[i];if(o.id==e){n=o;break}}return n},t.applyTheme=function(e,n,i){n||(n=t.theme);try{n=JSON.parse(JSON.stringify(n))}catch(o){}n&&n[i]&&t.extend(e,n[i])},t.isString=function(t){return"string"==typeof t},t.extend=function(t,e,n){var i;for(i in t||(t={}),e)n&&t.hasOwnProperty(i)||(t[i]=e[i]);return t},t.copyProperties=function(t,e){for(var n in t)t.hasOwnProperty(n)&&"events"!=n&&void 0!==t[n]&&"function"!=typeof t[n]&&"cname"!=n&&(e[n]=t[n])},t.processObject=function(e,n,i,o){if(0==e instanceof n&&(e=o?t.extend(new n(i),e):t.extend(e,new n(i),!0)).listeners)for(var s in e.listeners)e.addListener((n=e.listeners[s]).event,n.method);return e},t.fixNewLines=function(t){var e=RegExp("\\n","g");return t&&(t=t.replace(e,"<br />")),t},t.fixBrakes=function(e){if(t.isModern){var n=RegExp("<br>","g");e&&(e=e.replace(n,"\n"))}else e=t.fixNewLines(e);return e},t.deleteObject=function(e,n){if(e&&(null==n&&(n=20),0!==n))if("[object Array]"===Object.prototype.toString.call(e))for(var i=0;i<e.length;i++)t.deleteObject(e[i],n-1),e[i]=null;else if(e&&!e.tagName)try{for(i in e.theme=null,e)e[i]&&("object"==typeof e[i]&&t.deleteObject(e[i],n-1),"function"!=typeof e[i]&&(e[i]=null))}catch(o){}},t.bounce=function(t,e,n,i,o){return(e/=o)<1/2.75?7.5625*i*e*e+n:e<2/2.75?i*(7.5625*(e-=1.5/2.75)*e+.75)+n:e<2.5/2.75?i*(7.5625*(e-=2.25/2.75)*e+.9375)+n:i*(7.5625*(e-=2.625/2.75)*e+.984375)+n},t.easeInOutQuad=function(t,e,n,i,o){return 1>(e/=o/2)?i/2*e*e+n:-i/2*(--e*(e-2)-1)+n},t.easeInSine=function(t,e,n,i,o){return-i*Math.cos(e/o*(Math.PI/2))+i+n},t.easeOutSine=function(t,e,n,i,o){return i*Math.sin(e/o*(Math.PI/2))+n},t.easeOutElastic=function(t,e,n,i,o){t=1.70158;var s=0,r=i;return 0===e?n:1==(e/=o)?n+i:(s||(s=.3*o),r<Math.abs(i)?(r=i,t=s/4):t=s/(2*Math.PI)*Math.asin(i/r),r*Math.pow(2,-10*e)*Math.sin(2*(e*o-t)*Math.PI/s)+i+n)},t.fixStepE=function(e){e=e.toExponential(0).split("e");var n=Number(e[1]);return 9==Number(e[0])&&n++,t.generateNumber(1,n)},t.generateNumber=function(t,e){var n,i,o="";for(n=0>e?Math.abs(e)-1:Math.abs(e),i=0;i<n;i++)o+="0";return Number(0>e?"0."+o+String(t):String(t)+o)},t.setCN=function(t,e,n,i){if(t.addClassNames&&e&&(e=e.node)&&n){var o=e.getAttribute("class");t=t.classNamePrefix+"-",i&&(t=""),e.setAttribute("class",o?o+" "+t+n:t+n)}},t.removeCN=function(t,e,n){e&&(e=e.node)&&n&&(e=e.classList)&&e.remove(t.classNamePrefix+"-"+n)},t.parseDefs=function(e,n){for(var i in e){var o=typeof e[i];if(0<e[i].length&&"object"==o)for(var s=0;s<e[i].length;s++)o=document.createElementNS(t.SVG_NS,i),n.appendChild(o),t.parseDefs(e[i][s],o);else"object"==o?(o=document.createElementNS(t.SVG_NS,i),n.appendChild(o),t.parseDefs(e[i],o)):n.setAttribute(i,e[i])}}}(),function(){var t=window.AmCharts;t.AxisBase=t.Class({construct:function(e){this.createEvents("clickItem","rollOverItem","rollOutItem","rollOverGuide","rollOutGuide","clickGuide"),this.titleDY=this.y=this.x=this.dy=this.dx=0,this.axisThickness=1,this.axisColor="#000000",this.axisAlpha=1,this.gridCount=this.tickLength=5,this.gridAlpha=.15,this.gridThickness=1,this.gridColor="#000000",this.dashLength=0,this.labelFrequency=1,this.showLastLabel=this.showFirstLabel=!0,this.fillColor="#FFFFFF",this.fillAlpha=0,this.labelsEnabled=!0,this.labelRotation=0,this.autoGridCount=!0,this.offset=0,this.guides=[],this.visible=!0,this.counter=0,this.guides=[],this.ignoreAxisWidth=this.inside=!1,this.minHorizontalGap=75,this.minVerticalGap=35,this.titleBold=!0,this.minorGridEnabled=!1,this.minorGridAlpha=.07,this.autoWrap=!1,this.titleAlign="middle",this.labelOffset=0,this.bcn="axis-",this.centerLabels=!1,this.firstDayOfWeek=1,this.centerLabelOnFullPeriod=this.markPeriodChange=this.boldPeriodBeginning=!0,this.titleWidth=0,this.periods=[{period:"fff",count:1},{period:"fff",count:5},{period:"fff",count:10},{period:"fff",count:50},{period:"fff",count:100},{period:"fff",count:500},{period:"ss",count:1},{period:"ss",count:5},{period:"ss",count:10},{period:"ss",count:30},{period:"mm",count:1},{period:"mm",count:5},{period:"mm",count:10},{period:"mm",count:30},{period:"hh",count:1},{period:"hh",count:3},{period:"hh",count:6},{period:"hh",count:12},{period:"DD",count:1},{period:"DD",count:2},{period:"DD",count:3},{period:"DD",count:4},{period:"DD",count:5},{period:"WW",count:1},{period:"MM",count:1},{period:"MM",count:2},{period:"MM",count:3},{period:"MM",count:6},{period:"YYYY",count:1},{period:"YYYY",count:2},{period:"YYYY",count:5},{period:"YYYY",count:10},{period:"YYYY",count:50},{period:"YYYY",count:100}],this.dateFormats=[{period:"fff",format:"NN:SS.QQQ"},{period:"ss",format:"JJ:NN:SS"},{period:"mm",format:"JJ:NN"},{period:"hh",format:"JJ:NN"},{period:"DD",format:"MMM DD"},{period:"WW",format:"MMM DD"},{period:"MM",format:"MMM"},{period:"YYYY",format:"YYYY"}],this.nextPeriod={fff:"ss",ss:"mm",mm:"hh",hh:"DD",DD:"MM",MM:"YYYY"},t.applyTheme(this,e,"AxisBase")},zoom:function(t,e){this.start=t,this.end=e,this.dataChanged=!0,this.draw()},fixAxisPosition:function(){var t=this.position;"H"==this.orientation?("left"==t&&(t="bottom"),"right"==t&&(t="top")):("bottom"==t&&(t="left"),"top"==t&&(t="right")),this.position=t},init:function(){this.createBalloon()},draw:function(){var t=this.chart;this.prevBY=this.prevBX=NaN,this.allLabels=[],this.counter=0,this.destroy(),this.fixAxisPosition(),this.setBalloonBounds(),this.labels=[];var e=t.container,n=e.set();t.gridSet.push(n),this.set=n,e=e.set(),t.axesLabelsSet.push(e),this.labelsSet=e,this.axisLine=new this.axisRenderer(this),this.autoGridCount?("V"==this.orientation?3>(t=this.height/this.minVerticalGap)&&(t=3):t=this.width/this.minHorizontalGap,this.gridCountR=Math.max(t,1)):this.gridCountR=this.gridCount,this.axisWidth=this.axisLine.axisWidth,this.addTitle()},setOrientation:function(t){this.orientation=t?"H":"V"},addTitle:function(){var e=this.title;if(this.titleLabel=null,e){var n=this.chart,i=this.titleColor;void 0===i&&(i=n.color);var o=this.titleFontSize;isNaN(o)&&(o=n.fontSize+1),e=t.text(n.container,e,i,n.fontFamily,o,this.titleAlign,this.titleBold),t.setCN(n,e,this.bcn+"title"),this.titleLabel=e}},positionTitle:function(){var e=this.titleLabel;if(e){var n,i,o={};0<(s=this.labelsSet).length()?o=s.getBBox():(o.x=0,o.y=0,o.width=this.width,o.height=this.height,t.VML&&(o.y+=this.y,o.x+=this.x)),s.push(e);var s=o.x,r=o.y;t.VML&&(r-=this.y,s-=this.x);var a=o.width,c=(o=o.height,this.width),l=this.height,h=0,d=e.getBBox().height/2,u=this.inside,g=this.titleAlign;switch(this.position){case"top":n="left"==g?-1:"right"==g?c:c/2,i=r-10-d;break;case"bottom":n="left"==g?-1:"right"==g?c:c/2,i=r+o+10+d;break;case"left":n=s-10-d,u&&(n-=5),h=-90,i=("left"==g?l+1:"right"==g?-1:l/2)+this.titleDY,this.titleWidth=d+10;break;case"right":n=s+a+10+d,u&&(n+=7),i=("left"==g?l+2:"right"==g?-2:l/2)+this.titleDY,this.titleWidth=d+10,h=-90}this.marginsChanged?(e.translate(n,i),this.tx=n,this.ty=i):e.translate(this.tx,this.ty),this.marginsChanged=!1,isNaN(this.titleRotation)||(h=this.titleRotation),0!==h&&e.rotate(h)}},pushAxisItem:function(t,e){var n=this,i=t.graphics();0<i.length()&&(e?n.labelsSet.push(i):n.set.push(i)),(i=t.getLabel())&&(n.labelsSet.push(i),i.click((function(e){n.handleMouse(e,t,"clickItem")})).touchend((function(e){n.handleMouse(e,t,"clickItem")})).mouseover((function(e){n.handleMouse(e,t,"rollOverItem")})).mouseout((function(e){n.handleMouse(e,t,"rollOutItem")})))},handleMouse:function(t,e,n){this.fire({type:n,value:e.value,serialDataItem:e.serialDataItem,axis:this,target:e.label,chart:this.chart,event:t})},addGuide:function(e){for(var n=this.guides,i=!1,o=n.length,s=0;s<n.length;s++)n[s]==e&&(i=!0,o=s);(e=t.processObject(e,t.Guide,this.theme)).id||(e.id="guideAuto"+o+"_"+(new Date).getTime()),i||n.push(e)},removeGuide:function(t){var e,n=this.guides;for(e=0;e<n.length;e++)n[e]==t&&n.splice(e,1)},handleGuideOver:function(t){clearTimeout(this.chart.hoverInt);var e={x:0,y:0,width:0,height:0};t.graphics&&(e=t.graphics.getBBox());var n=t.fillColor;void 0===n&&(n=t.lineColor),this.chart.showBalloon(t.balloonText,n,!0,this.x+e.x+e.width/2,e=this.y+e.y+e.height/2),this.fire({type:"rollOverGuide",guide:t,chart:this.chart})},handleGuideOut:function(t){this.chart.hideBalloon(),this.fire({type:"rollOutGuide",guide:t,chart:this.chart})},handleGuideClick:function(t){this.chart.hideBalloon(),this.fire({type:"clickGuide",guide:t,chart:this.chart})},addEventListeners:function(t,e){var n=this;t.mouseover((function(){n.handleGuideOver(e)})),t.mouseup((function(){n.handleGuideClick(e)})),t.touchstart((function(){n.handleGuideOver(e)})),t.mouseout((function(){n.handleGuideOut(e)}))},getBBox:function(){var e;return this.labelsSet&&(e=this.labelsSet.getBBox()),e?t.VML||(e={x:e.x+this.x,y:e.y+this.y,width:e.width,height:e.height}):e={x:0,y:0,width:0,height:0},e},destroy:function(){t.remove(this.set),t.remove(this.labelsSet);var e=this.axisLine;e&&t.remove(e.axisSet),t.remove(this.grid0)},chooseMinorFrequency:function(t){for(var e=10;0<e;e--)if(t/e==Math.round(t/e))return t/e},parseDatesDraw:function(){var e,n,i,o,s,r,a,c=this.chart,l=this.showFirstLabel,h=this.showLastLabel,d="",u=t.extractPeriod(this.minPeriod),g=t.getPeriodDuration(u.period,u.count),p=this.firstDayOfWeek,f=this.boldPeriodBeginning;e=this.minorGridEnabled;var b,m,v,y=this.gridAlpha,C=(v=this.choosePeriod(0)).period,_=t.getPeriodDuration(C,v=v.count);_<g&&(C=u.period,v=u.count,_=g),"WW"==(u=C)&&(u="DD"),this.stepWidth=this.getStepWidth(this.timeDifference);var x=Math.ceil(this.timeDifference/_)+5,P=i=t.resetDateToMin(new Date(this.startTime-_),C,v,p).getTime();(u==C&&1==v&&this.centerLabelOnFullPeriod||this.autoWrap||this.centerLabels)&&(s=_*this.stepWidth,this.autoWrap&&!this.centerLabels&&(s=-s)),this.cellWidth=g*this.stepWidth,g=-1,(r=Math.round(i/_))/2==Math.round(r/2)&&(g=-2,i-=_),r=this.firstTime;var w=0,O=0;if(e&&1<v&&(b=this.chooseMinorFrequency(v),m=t.getPeriodDuration(C,b),"DD"==C&&(m+=t.getPeriodDuration("hh")),"fff"==C&&(m=1)),0<this.gridCountR)for(x-5-g>this.autoRotateCount&&!isNaN(this.autoRotateAngle)&&(this.labelRotationR=this.autoRotateAngle),e=g;e<=x;e++){if(a=r+_*(e+Math.floor((P-r)/_))-w,"DD"==C&&(a+=36e5),a=t.resetDateToMin(new Date(a),C,v,p).getTime(),"MM"==C&&(n=(a-i)/_,1.5<=(a-i)/_&&(a=a-(n-1)*_+t.getPeriodDuration("DD",3),a=t.resetDateToMin(new Date(a),C,1).getTime(),w+=_)),n=(a-this.startTime)*this.stepWidth,"radar"==c.type){if(0>(n=this.axisWidth-n)||n>this.axisWidth)continue}else this.rotate?"date"==this.type&&"middle"==this.gridPosition&&(O=-_*this.stepWidth/2):"date"==this.type&&(n=this.axisWidth-n);if(d=!1,this.nextPeriod[u]&&(d=this.checkPeriodChange(this.nextPeriod[u],1,a,i,u)),i=!1,d&&this.markPeriodChange?(d=this.dateFormatsObject[this.nextPeriod[u]],this.twoLineMode&&(d=t.fixBrakes(d=this.dateFormatsObject[u]+"\n"+d)),i=!0):d=this.dateFormatsObject[u],f||(i=!1),this.currentDateFormat=d,d=t.formatDate(new Date(a),d,c),(e==g&&!l||e==x&&!h)&&(d=" "),this.labelFunction&&(d=this.labelFunction(d,new Date(a),this,C,v,o).toString()),this.boldLabels&&(i=!0),o=new this.axisItemRenderer(this,n,d,!1,s,O,!1,i),this.pushAxisItem(o),o=i=a,!isNaN(b))for(n=1;n<v;n+=b)this.gridAlpha=this.minorGridAlpha,d=a+m*n,d=t.resetDateToMin(new Date(d),C,b,p).getTime(),d=new this.axisItemRenderer(this,(d-this.startTime)*this.stepWidth,void 0,void 0,void 0,void 0,void 0,void 0,void 0,!0),this.pushAxisItem(d);this.gridAlpha=y}},choosePeriod:function(e){var n=t.getPeriodDuration(this.periods[e].period,this.periods[e].count),i=this.periods;return this.timeDifference<n&&0<e?i[e-1]:Math.ceil(this.timeDifference/n)<=this.gridCountR?i[e]:e+1<i.length?this.choosePeriod(e+1):i[e]},getStepWidth:function(t){var e;return this.startOnAxis?(e=this.axisWidth/(t-1),1==t&&(e=this.axisWidth)):e=this.axisWidth/t,e},timeZoom:function(t,e){this.startTime=t,this.endTime=e},minDuration:function(){var e=t.extractPeriod(this.minPeriod);return t.getPeriodDuration(e.period,e.count)},checkPeriodChange:function(e,n,i,o,s){i=new Date(i);var r=new Date(o),a=this.firstDayOfWeek;return o=n,"DD"==e&&(n=1),i=t.resetDateToMin(i,e,n,a).getTime(),n=t.resetDateToMin(r,e,n,a).getTime(),!("DD"==e&&"hh"!=s&&i-n<t.getPeriodDuration(e,o)-t.getPeriodDuration("hh",1))&&i!=n},generateDFObject:function(){var t;for(this.dateFormatsObject={},t=0;t<this.dateFormats.length;t++){var e=this.dateFormats[t];this.dateFormatsObject[e.period]=e.format}},hideBalloon:function(){this.balloon&&this.balloon.hide&&this.balloon.hide(),this.prevBY=this.prevBX=NaN},formatBalloonText:function(t){return t},showBalloon:function(t,e,n,i){var o,s=this.offset;switch(this.position){case"bottom":e=this.height+s;break;case"top":e=-s;break;case"left":t=-s;break;case"right":t=this.width+s}if(n||(n=this.currentDateFormat),"V"==this.orientation){if(0>e||e>this.height)return;if(isNaN(e))return void this.hideBalloon();e=this.adjustBalloonCoordinate(e,i),i=this.coordinateToValue(e)}else{if(0>t||t>this.width)return;if(isNaN(t))return void this.hideBalloon();t=this.adjustBalloonCoordinate(t,i),i=this.coordinateToValue(t)}(s=this.chart.chartCursor)&&(o=s.index),this.balloon&&void 0!==i&&this.balloon.enabled&&(this.balloonTextFunction?("date"!=this.type&&!0!==this.parseDates||(i=new Date(i)),i=this.balloonTextFunction(i)):this.balloonText?i=this.formatBalloonText(this.balloonText,o,n):isNaN(i)||(i=this.formatValue(i,n)),t==this.prevBX&&e==this.prevBY||(this.balloon.setPosition(t,e),this.prevBX=t,this.prevBY=e,i&&this.balloon.showBalloon(i)))},adjustBalloonCoordinate:function(t){return t},createBalloon:function(){var e=this.chart,n=e.chartCursor;n&&("mouse"!=(n=n.cursorPosition)&&(this.stickBalloonToCategory=!0),"start"==n&&(this.stickBalloonToStart=!0),"ValueAxis"==this.cname&&(this.stickBalloonToCategory=!1)),this.balloon&&(this.balloon.destroy&&this.balloon.destroy(),t.extend(this.balloon,e.balloon,!0))},setBalloonBounds:function(){var t=this.balloon;if(t){var e=this.chart;t.cornerRadius=0,t.shadowAlpha=0,t.borderThickness=1,t.borderAlpha=1,t.adjustBorderColor=!1,t.showBullet=!1,this.balloon=t,t.chart=e,t.mainSet=e.plotBalloonsSet,t.pointerWidth=this.tickLength,(this.parseDates||"date"==this.type)&&(t.pointerWidth=0),t.className=this.id,e="V","V"==this.orientation&&(e="H"),this.stickBalloonToCategory||(t.animationDuration=0);var n,i,o,s,r=this.inside,a=this.width,c=this.height;switch(this.position){case"bottom":n=0,i=a,r?(o=0,s=c):(o=c,s=c+1e3);break;case"top":n=0,i=a,r?(o=0,s=c):(o=-1e3,s=0);break;case"left":o=0,s=c,r?(n=0,i=a):(n=-1e3,i=0);break;case"right":o=0,s=c,r?(n=0,i=a):(n=a,i=a+1e3)}t.drop||(t.pointerOrientation=e),t.setBounds(n,o,i,s)}}})}(),function(){var t=window.AmCharts;t.ValueAxis=t.Class({inherits:t.AxisBase,construct:function(e){this.cname="ValueAxis",this.createEvents("axisChanged","logarithmicAxisFailed","axisZoomed","axisIntZoomed"),t.ValueAxis.base.construct.call(this,e),this.dataChanged=!0,this.stackType="none",this.position="left",this.unitPosition="right",this.includeAllValues=this.recalculateToPercents=this.includeHidden=this.includeGuidesInMinMax=this.integersOnly=!1,this.durationUnits={DD:"d. ",hh:":",mm:":",ss:""},this.scrollbar=!1,this.baseValue=0,this.radarCategoriesEnabled=!0,this.axisFrequency=1,this.gridType="polygons",this.useScientificNotation=!1,this.axisTitleOffset=10,this.pointPosition="axis",this.minMaxMultiplier=1,this.logGridLimit=2,this.totalTextOffset=this.treatZeroAs=0,this.minPeriod="ss",this.relativeStart=0,this.relativeEnd=1,t.applyTheme(this,e,this.cname)},updateData:function(){0>=this.gridCountR&&(this.gridCountR=1),this.totals=[],this.data=this.chart.chartData;var e=this.chart;"xy"!=e.type&&(this.stackGraphs("smoothedLine"),this.stackGraphs("line"),this.stackGraphs("column"),this.stackGraphs("step")),this.recalculateToPercents&&this.recalculate(),this.synchronizationMultiplier&&this.synchronizeWith?(t.isString(this.synchronizeWith)&&(this.synchronizeWith=e.getValueAxisById(this.synchronizeWith)),this.synchronizeWith&&(this.synchronizeWithAxis(this.synchronizeWith),this.foundGraphs=!0)):(this.foundGraphs=!1,this.getMinMax(),(0===this.start&&this.end==this.data.length-1&&isNaN(this.minZoom)&&isNaN(this.maxZoom)||isNaN(this.fullMin)&&isNaN(this.fullMax))&&(this.fullMin=this.min,this.fullMax=this.max,"date"!=this.type&&this.strictMinMax&&(isNaN(this.minimum)||(this.fullMin=this.minimum),isNaN(this.maximum)||(this.fullMax=this.maximum)),this.logarithmic&&(this.fullMin=this.logMin,0===this.fullMin&&(this.fullMin=this.treatZeroAs)),"date"==this.type&&(this.minimumDate||(this.fullMin=this.minRR),this.maximumDate||(this.fullMax=this.maxRR),this.strictMinMax&&(this.minimumDate&&(this.fullMin=this.minimumDate.getTime()),this.maximumDate&&(this.fullMax=this.maximumDate.getTime())))))},draw:function(){t.ValueAxis.base.draw.call(this);var e=this.chart,n=this.set;this.labelRotationR=this.labelRotation,t.setCN(e,this.set,"value-axis value-axis-"+this.id),t.setCN(e,this.labelsSet,"value-axis value-axis-"+this.id),t.setCN(e,this.axisLine.axisSet,"value-axis value-axis-"+this.id);var i=this.type;if("duration"==i&&(this.duration="ss"),!0===this.dataChanged&&(this.updateData(),this.dataChanged=!1),"date"==i&&(this.logarithmic=!1,this.min=this.minRR,this.max=this.maxRR,this.reversed=!1,this.getDateMinMax()),this.logarithmic){var o=this.treatZeroAs,s=this.getExtremes(0,this.data.length-1).min;if(!isNaN(this.minimum)&&this.minimum<s&&(s=this.minimum),this.logMin=s,this.minReal<s&&(this.minReal=s),isNaN(this.minReal)&&(this.minReal=s),0<o&&0===s&&(this.minReal=s=o),0>=s||0>=this.minimum)return void this.fire({type:"logarithmicAxisFailed",chart:e})}this.grid0=null;var r,a,c=e.dx,l=e.dy;if(o=!1,s=this.logarithmic,isNaN(this.min)||isNaN(this.max)||!this.foundGraphs||1/0==this.min||-1/0==this.max)o=!0;else{"date"==this.type&&this.min==this.max&&(this.max+=this.minDuration(),this.min-=this.minDuration());var h,d=this.labelFrequency,u=this.showFirstLabel,g=this.showLastLabel,p=1,f=0;if(this.minCalc=this.min,this.maxCalc=this.max,this.strictMinMax&&(isNaN(this.minimum)||(this.min=this.minimum),isNaN(this.maximum)||(this.max=this.maximum),this.min==this.max))return;if(isNaN(this.minZoom)||(this.minReal=this.min=this.minZoom),isNaN(this.maxZoom)||(this.max=this.maxZoom),this.logarithmic){a=this.fullMin;var b=this.fullMax;isNaN(this.minimum)||(a=this.minimum),isNaN(this.maximum)||(b=this.maximum),b=Math.log(b)*Math.LOG10E-Math.log(a)*Math.LOG10E;var m=Math.log(this.max)/Math.LN10-Math.log(a)*Math.LOG10E;this.relativeStart=t.roundTo((Math.log(this.minReal)/Math.LN10-Math.log(a)*Math.LOG10E)/b,5),this.relativeEnd=t.roundTo(m/b,5)}else this.relativeStart=t.roundTo(t.fitToBounds((this.min-this.fullMin)/(this.fullMax-this.fullMin),0,1),5),this.relativeEnd=t.roundTo(t.fitToBounds((this.max-this.fullMin)/(this.fullMax-this.fullMin),0,1),5);b=Math.round((this.maxCalc-this.minCalc)/this.step)+1,!0===s?(h=Math.log(this.max)*Math.LOG10E-Math.log(this.minReal)*Math.LOG10E,this.stepWidth=this.axisWidth/h,h>this.logGridLimit&&(b=Math.ceil(Math.log(this.max)*Math.LOG10E)+1,f=Math.round(Math.log(this.minReal)*Math.LOG10E),b>this.gridCountR&&(p=Math.ceil(b/this.gridCountR)))):this.stepWidth=this.axisWidth/(this.max-this.min);var v,y,C=0;for(1>this.step&&-1<this.step&&(C=t.getDecimals(this.step)),this.integersOnly&&(C=0),C>this.maxDecCount&&(C=this.maxDecCount),m=this.precision,isNaN(m)||(C=m),isNaN(this.maxZoom)&&(this.max=t.roundTo(this.max,this.maxDecCount),this.min=t.roundTo(this.min,this.maxDecCount)),(a={}).precision=C,a.decimalSeparator=e.nf.decimalSeparator,a.thousandsSeparator=e.nf.thousandsSeparator,this.numberFormatter=a,this.exponential=!1,a=f;a<b;a+=p){var _=t.roundTo(this.step*a+this.min,C);-1!=String(_).indexOf("e")&&(this.exponential=!0)}if(this.duration&&(this.maxInterval=t.getMaxInterval(this.max,this.duration)),C=this.step,_=this.minorGridAlpha,this.minorGridEnabled&&(y=this.getMinorGridStep(C,this.stepWidth*C)),this.autoGridCount||0!==this.gridCount)if("date"==i)this.generateDFObject(),this.timeDifference=this.max-this.min,this.maxTime=this.lastTime=this.max,this.startTime=this.firstTime=this.min,this.parseDatesDraw();else for(b>=this.autoRotateCount&&!isNaN(this.autoRotateAngle)&&(this.labelRotationR=this.autoRotateAngle),i=this.minCalc,s&&(b++,i=this.maxCalc-b*C),this.gridCountReal=b,a=this.startCount=f;a<b;a+=p)if(f=t.roundTo(f=C*a+i,this.maxDecCount+1),(!this.integersOnly||Math.round(f)==f)&&(isNaN(m)||Number(t.toFixed(f,m))==f)){if(!0===s)if(h>this.logGridLimit){if((f=Math.pow(10,a))>this.max)continue}else if(0>=f&&0>=(f=i+C*a+C/2))continue;var x;if(v=this.formatValue(f,!1,a),Math.round(a/d)!=a/d&&(v=void 0),(0===a&&!u||a==b-1&&!g)&&(v=" "),r=this.getCoordinate(f),this.rotate&&this.autoWrap&&(x=this.stepWidth*C-10),v=new this.axisItemRenderer(this,r,v,void 0,x,void 0,void 0,this.boldLabels),this.pushAxisItem(v),f==this.baseValue&&"radar"!=e.type){var P,w,O=this.width,M=this.height;"H"==this.orientation?0<=r&&r<=O+1&&(P=[r,r,r+c],w=[M,0,l]):0<=r&&r<=M+1&&(P=[0,O,O+c],w=[r,r,r+l]),P&&(r=t.fitToBounds(2*this.gridAlpha,0,1),isNaN(this.zeroGridAlpha)||(r=this.zeroGridAlpha),(r=t.line(e.container,P,w,this.gridColor,r,1,this.dashLength)).translate(this.x,this.y),this.grid0=r,e.axesSet.push(r),r.toBack(),t.setCN(e,r,this.bcn+"zero-grid-"+this.id),t.setCN(e,r,this.bcn+"zero-grid"))}if(!isNaN(y)&&0<_&&a<b-1){for(r=C/y,s&&(y=t.roundTo(y=C*(a+p)+this.minCalc,this.maxDecCount+1),h>this.logGridLimit&&(y=Math.pow(10,a+p)),y=(y-f)/(r=9)),O=this.gridAlpha,this.gridAlpha=this.minorGridAlpha,M=1;M<r;M++){var k=this.getCoordinate(f+y*M);k=new this.axisItemRenderer(this,k,"",!1,0,0,!1,!1,0,!0),this.pushAxisItem(k)}this.gridAlpha=O}}if(0<(x=(h=this.guides).length)){for(P=this.fillAlpha,a=this.fillAlpha=0;a<x;a++)c=NaN,y=(w=h[a]).above,isNaN(w.toValue)||(c=this.getCoordinate(w.toValue),v=new this.axisItemRenderer(this,c,"",!0,NaN,NaN,w),this.pushAxisItem(v,y)),l=NaN,isNaN(w.value)||(l=this.getCoordinate(w.value),v=new this.axisItemRenderer(this,l,w.label,!0,NaN,(c-l)/2,w),this.pushAxisItem(v,y)),isNaN(c)&&(c=3+(l-=3)),v&&(d=v.label)&&this.addEventListeners(d,w),isNaN(c-l)||0>l&&0>c||(c=new this.guideFillRenderer(this,l,c,w),this.pushAxisItem(c,y),y=c.graphics(),w.graphics=y,this.addEventListeners(y,w));this.fillAlpha=P}v=this.baseValue,this.min>this.baseValue&&this.max>this.baseValue&&(v=this.min),this.min<this.baseValue&&this.max<this.baseValue&&(v=this.max),s&&v<this.minReal&&(v=this.minReal),this.baseCoord=this.getCoordinate(v,!0),(v={type:"axisChanged",target:this,chart:e}).min=s?this.minReal:this.min,v.max=this.max,this.fire(v),this.axisCreated=!0}s=this.axisLine.set,v=this.labelsSet,n.translate(this.x,this.y),v.translate(this.x,this.y),this.positionTitle(),"radar"!=e.type&&s.toFront(),!this.visible||o?(n.hide(),s.hide(),v.hide()):(n.show(),s.show(),v.show()),this.axisY=this.y,this.axisX=this.x},getDateMinMax:function(){this.minimumDate&&(this.minimumDate instanceof Date||(this.minimumDate=t.getDate(this.minimumDate,this.chart.dataDateFormat,"fff")),this.min=this.minimumDate.getTime()),this.maximumDate&&(this.maximumDate instanceof Date||(this.maximumDate=t.getDate(this.maximumDate,this.chart.dataDateFormat,"fff")),this.max=this.maximumDate.getTime())},formatValue:function(e,n,i){var o=this.exponential,s=this.logarithmic,r=this.numberFormatter,a=this.chart;if(r)return!0===this.logarithmic&&(o=-1!=String(e).indexOf("e")),this.useScientificNotation&&(o=!0),this.usePrefixes&&(o=!1),o?(o=(i=-1==String(e).indexOf("e")?e.toExponential(15):String(e)).split("e"),i=Number(o[0]),o=Number(o[1]),i=t.roundTo(i,14),n||isNaN(this.precision)||(i=t.roundTo(i,this.precision)),10==i&&(i=1,o+=1),i=i+"e"+o,0===e&&(i="0"),1==e&&(i="1")):(s&&((o=String(e).split("."))[1]?(r.precision=o[1].length,0>i&&(r.precision=Math.abs(i)),n&&1<e&&(r.precision=0),n||isNaN(this.precision)||(r.precision=this.precision)):r.precision=-1),i=this.usePrefixes?t.addPrefix(e,a.prefixesOfBigNumbers,a.prefixesOfSmallNumbers,r,!n):t.formatNumber(e,r,r.precision)),this.duration&&(n&&(r.precision=0),i=t.formatDuration(e,this.duration,"",this.durationUnits,this.maxInterval,r)),"date"==this.type&&(i=t.formatDate(new Date(e),this.currentDateFormat,a)),this.recalculateToPercents?i+="%":(n=this.unit)&&(i="left"==this.unitPosition?n+i:i+n),this.labelFunction&&(i="date"==this.type?this.labelFunction(i,new Date(e),this).toString():this.labelFunction(e,i,this).toString()),i},getMinorGridStep:function(t,e){var n=[5,4,2];60>e&&n.shift();for(var i=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),o=0;o<n.length;o++){var s=t/n[o],r=Math.floor(Math.log(Math.abs(s))*Math.LOG10E);if(!(1<Math.abs(i-r)))if(1>t){if((r=Math.pow(10,-r)*s)==Math.round(r))return s}else if(s==Math.round(s))return s}return 1},stackGraphs:function(e){var n=this.stackType;"stacked"==n&&(n="regular"),"line"==n&&(n="none"),"100% stacked"==n&&(n="100%"),this.stackType=n;var i,o,s,r,a,c,l=[],h=[],d=[],u=[],g=this.chart.graphs,p=this.baseValue,f=!1;if("line"!=e&&"step"!=e&&"smoothedLine"!=e||(f=!0),f&&("regular"==n||"100%"==n))for(a=0;a<g.length;a++)(r=g[a]).stackGraph=null,r.hidden||(s=r.type,r.chart==this.chart&&r.valueAxis==this&&e==s&&r.stackable&&(o&&(r.stackGraph=o),o=r));for(o=this.end+10,r=t.fitToBounds(r=this.start-10,0,a=this.data.length-1),o=t.fitToBounds(o,0,a),c=r;c<=o;c++){var b=0;for(a=0;a<g.length;a++)if((r=g[a]).hidden)r.newStack&&(d[c]=NaN,h[c]=NaN);else if(s=r.type,r.chart==this.chart&&r.valueAxis==this&&e==s&&r.stackable)if(i=(s=this.data[c].axes[this.id].graphs[r.id]).values.value,isNaN(i))r.newStack&&(d[c]=NaN,h[c]=NaN);else{var m=t.getDecimals(i);b<m&&(b=m),isNaN(u[c])?u[c]=Math.abs(i):u[c]+=Math.abs(i),u[c]=t.roundTo(u[c],b),m=r.fillToGraph,f&&m&&(m=this.data[c].axes[this.id].graphs[m.id])&&(s.values.open=m.values.value),"regular"==n&&(f&&(isNaN(l[c])?(l[c]=i,s.values.close=i,s.values.open=this.baseValue):(s.values.close=isNaN(i)?l[c]:i+l[c],s.values.open=l[c],l[c]=s.values.close)),"column"==e&&(r.newStack&&(d[c]=NaN,h[c]=NaN),s.values.close=i,0>i?(s.values.close=i,isNaN(h[c])?s.values.open=p:(s.values.close+=h[c],s.values.open=h[c]),h[c]=s.values.close):(s.values.close=i,isNaN(d[c])?s.values.open=p:(s.values.close+=d[c],s.values.open=d[c]),d[c]=s.values.close)))}}for(c=this.start;c<=this.end;c++)for(a=0;a<g.length;a++)(r=g[a]).hidden?r.newStack&&(d[c]=NaN,h[c]=NaN):(s=r.type,r.chart==this.chart&&r.valueAxis==this&&e==s&&r.stackable&&(i=(s=this.data[c].axes[this.id].graphs[r.id]).values.value,isNaN(i)||(s.values.percents=l=i/u[c]*100,s.values.total=u[c],r.newStack&&(d[c]=NaN,h[c]=NaN),"100%"==n&&(isNaN(h[c])&&(h[c]=0),isNaN(d[c])&&(d[c]=0),0>l?(s.values.close=t.fitToBounds(l+h[c],-100,100),s.values.open=h[c],h[c]=s.values.close):(s.values.close=t.fitToBounds(l+d[c],-100,100),s.values.open=d[c],d[c]=s.values.close)))))},recalculate:function(){var e,n=this.chart,i=n.graphs;for(e=0;e<i.length;e++){var o=i[e];if(o.valueAxis==this){var s="value";"candlestick"!=o.type&&"ohlc"!=o.type||(s="open");var r,a,c,l=this.end+2;if(l=t.fitToBounds(this.end+1,0,this.data.length-1),0<(g=this.start)&&g--,a=this.start,o.compareFromStart&&(a=0),!isNaN(n.startTime)&&(c=n.categoryAxis)){var h=c.minDuration(),d=(h=new Date(n.startTime+h/2),t.resetDateToMin(new Date(n.startTime),c.minPeriod).getTime());t.resetDateToMin(new Date(h),c.minPeriod).getTime()>d&&a++}for((c=n.recalculateFromDate)&&(c=t.getDate(c,n.dataDateFormat,"fff"),a=n.getClosestIndex(n.chartData,"time",c.getTime(),!0,0,n.chartData.length),l=n.chartData.length-1),c=a;c<=l&&(r=(a=this.data[c].axes[this.id].graphs[o.id]).values[s],o.recalculateValue&&(r=a.dataContext[o.valueField+o.recalculateValue]),isNaN(r));c++);for(this.recBaseValue=r,s=g;s<=l;s++){(a=this.data[s].axes[this.id].graphs[o.id]).percents={};var u,g=a.values;for(u in g)a.percents[u]="percents"!=u?g[u]/r*100-100:g[u]}}}},getMinMax:function(){var e,n=!1,i=this.chart,o=i.graphs;for(e=0;e<o.length;e++){var s=o[e].type;("line"==s||"step"==s||"smoothedLine"==s)&&this.expandMinMax&&(n=!0)}if(n&&(0<this.start&&this.start--,this.end<this.data.length-1&&this.end++),"serial"==i.type&&(!0!==i.categoryAxis.parseDates||n||this.end<this.data.length-1&&this.end++),this.includeAllValues&&(this.start=0,this.end=this.data.length-1),n=this.minMaxMultiplier,i=this.getExtremes(this.start,this.end),this.min=i.min,this.max=i.max,this.minRR=this.min,this.maxRR=this.max,this.min-=n=(this.max-this.min)*(n-1),this.max+=n,n=this.guides.length,this.includeGuidesInMinMax&&0<n)for(i=0;i<n;i++)(o=this.guides[i]).toValue<this.min&&(this.min=o.toValue),o.value<this.min&&(this.min=o.value),o.toValue>this.max&&(this.max=o.toValue),o.value>this.max&&(this.max=o.value);isNaN(this.minimum)||(this.min=this.minimum),isNaN(this.maximum)||(this.max=this.maximum),"date"==this.type&&this.getDateMinMax(),this.min>this.max&&(n=this.max,this.max=this.min,this.min=n),isNaN(this.minZoom)||(this.min=this.minZoom),isNaN(this.maxZoom)||(this.max=this.maxZoom),this.minCalc=this.min,this.maxCalc=this.max,this.minReal=this.min,this.maxReal=this.max,0===this.min&&0===this.max&&(this.max=9),this.min>this.max&&(this.min=this.max-1),n=this.min,i=this.max,e=0==(o=this.max-this.min)?Math.pow(10,Math.floor(Math.log(Math.abs(this.max))*Math.LOG10E))/10:Math.pow(10,Math.floor(Math.log(Math.abs(o))*Math.LOG10E))/10,isNaN(this.maximum)&&(this.max=Math.ceil(this.max/e)*e+e),isNaN(this.minimum)&&(this.min=Math.floor(this.min/e)*e-e),0>this.min&&0<=n&&(this.min=0),0<this.max&&0>=i&&(this.max=0),"100%"==this.stackType&&(this.min=0>this.min?-100:0,this.max=0>this.max?0:100),o=this.max-this.min,e=Math.pow(10,Math.floor(Math.log(Math.abs(o))*Math.LOG10E))/10,this.step=Math.ceil(o/this.gridCountR/e)*e,o=Math.pow(10,Math.floor(Math.log(Math.abs(this.step))*Math.LOG10E)),o=t.fixStepE(o),5<(e=Math.ceil(this.step/o))&&(e=10),5>=e&&2<e&&(e=5),this.step=Math.ceil(this.step/(o*e))*o*e,isNaN(this.setStep)||(this.step=this.setStep),1>o?(this.maxDecCount=Math.abs(Math.log(Math.abs(o))*Math.LOG10E),this.maxDecCount=Math.round(this.maxDecCount),this.step=t.roundTo(this.step,this.maxDecCount+1)):this.maxDecCount=0,this.min=this.step*Math.floor(this.min/this.step),this.max=this.step*Math.ceil(this.max/this.step),0>this.min&&0<=n&&(this.min=0),0<this.max&&0>=i&&(this.max=0),1<this.minReal&&1<this.max-this.minReal&&(this.minReal=Math.floor(this.minReal)),o=Math.pow(10,Math.floor(Math.log(Math.abs(this.minReal))*Math.LOG10E)),0===this.min&&(this.minReal=o),0===this.min&&1<this.minReal&&(this.minReal=1),0<this.min&&0<this.minReal-this.step&&(this.minReal=this.min+this.step<this.minReal?this.min+this.step:this.min),this.logarithmic&&(2<Math.log(i)*Math.LOG10E-Math.log(n)*Math.LOG10E?(this.minReal=this.min=Math.pow(10,Math.floor(Math.log(Math.abs(n))*Math.LOG10E)),this.maxReal=this.max=Math.pow(10,Math.ceil(Math.log(Math.abs(i))*Math.LOG10E))):(n=Math.pow(10,Math.floor(Math.log(Math.abs(n))*Math.LOG10E))/10,Math.pow(10,Math.floor(Math.log(Math.abs(this.min))*Math.LOG10E))/10<n&&(this.minReal=this.min=10*n)))},getExtremes:function(t,e){var n,i,o;for(o=t;o<=e;o++){var s,r=this.data[o].axes[this.id].graphs;for(s in r)if(r.hasOwnProperty(s)){var a,c=this.chart.graphsById[s];if(c.includeInMinMax&&(!c.hidden||this.includeHidden))if(isNaN(n)&&(n=1/0),isNaN(i)&&(i=-1/0),this.foundGraphs=!0,c=r[s].values,this.recalculateToPercents&&(c=r[s].percents),this.minMaxField)(a=c[this.minMaxField])<n&&(n=a),a>i&&(i=a);else for(var l in c)c.hasOwnProperty(l)&&"percents"!=l&&"total"!=l&&"error"!=l&&((a=c[l])<n&&(n=a),a>i&&(i=a))}}return{min:n,max:i}},zoomOut:function(t){this.maxZoom=this.minZoom=NaN,this.zoomToRelativeValues(0,1,t)},zoomToRelativeValues:function(t,e,n){if(this.reversed){var i=t;t=1-e,e=1-i}var o=this.fullMax,s=(i=this.fullMin)+(o-i)*t,r=i+(o-i)*e;return 0<=this.minimum&&0>s&&(s=0),this.logarithmic&&(isNaN(this.minimum)||(i=this.minimum),isNaN(this.maximum)||(o=this.maximum),o=Math.log(o)*Math.LOG10E-Math.log(i)*Math.LOG10E,s=Math.pow(10,o*t+Math.log(i)*Math.LOG10E),r=Math.pow(10,o*e+Math.log(i)*Math.LOG10E)),this.zoomToValues(s,r,n)},zoomToValues:function(e,n,i){if(n<e){var o=n;n=e,e=o}if(this.relativeStart=t.roundTo((e-(o=this.fullMin))/((s=this.fullMax)-o),9),this.relativeEnd=t.roundTo((n-o)/(s-o),9),this.logarithmic){isNaN(this.minimum)||(o=this.minimum),isNaN(this.maximum)||(s=this.maximum);var s=Math.log(s)*Math.LOG10E-Math.log(o)*Math.LOG10E,r=Math.log(n)/Math.LN10-Math.log(o)*Math.LOG10E;this.relativeStart=t.roundTo((Math.log(e)/Math.LN10-Math.log(o)*Math.LOG10E)/s,9),this.relativeEnd=t.roundTo(r/s,9)}if(this.minZoom!=e||this.maxZoom!=n)return this.minZoom=e,this.maxZoom=n,(o={type:"axisZoomed"}).chart=this.chart,o.valueAxis=this,o.startValue=e,o.endValue=n,o.relativeStart=this.relativeStart,o.relativeEnd=this.relativeEnd,this.prevStartValue==e&&this.prevEndValue==n||this.fire(o),this.prevStartValue=e,this.prevEndValue=n,i||(t.copyProperties(o,e={}),e.type="axisIntZoomed",this.fire(e)),0===this.relativeStart&&1==this.relativeEnd&&(this.maxZoom=this.minZoom=NaN),!0},coordinateToValue:function(t){if(isNaN(t))return NaN;var e=this.axisWidth,n=this.stepWidth,i=this.reversed,o=this.rotate,s=this.min;return!0===this.logarithmic?Math.pow(10,(o?!0===i?(e-t)/n:t/n:!0===i?t/n:(e-t)/n)+Math.log(this.minReal)*Math.LOG10E):!0===i?o?s-(t-e)/n:t/n+s:o?t/n+s:s-(t-e)/n},getCoordinate:function(t,e){if(isNaN(t))return NaN;var n=this.rotate,i=this.reversed,o=this.axisWidth,s=this.stepWidth,r=this.min,a=this.minReal;return!0===this.logarithmic?(0===t&&(t=this.treatZeroAs),r=Math.log(t)*Math.LOG10E-Math.log(a)*Math.LOG10E,n=n?!0===i?o-s*r:s*r:!0===i?s*r:o-s*r):n=!0===i?n?o-s*(t-r):s*(t-r):n?s*(t-r):o-s*(t-r),1e7<Math.abs(n)&&(n=n/Math.abs(n)*1e7),e||(n=Math.round(n)),n},synchronizeWithAxis:function(t){this.synchronizeWith=t,this.listenTo(this.synchronizeWith,"axisChanged",this.handleSynchronization)},handleSynchronization:function(){if(this.synchronizeWith){t.isString(this.synchronizeWith)&&(this.synchronizeWith=this.chart.getValueAxisById(this.synchronizeWith));var e=(i=this.synchronizeWith).min,n=i.max,i=i.step,o=this.synchronizationMultiplier;o&&(this.min=e*o,this.max=n*o,this.step=i*o,e=Math.abs(Math.log(Math.abs(Math.pow(10,Math.floor(Math.log(Math.abs(this.step))*Math.LOG10E))))*Math.LOG10E),this.maxDecCount=e=Math.round(e),this.draw())}}})}(),function(){var t=window.AmCharts;t.RecAxis=t.Class({construct:function(e){var n=e.chart,i=e.axisThickness,o=e.axisColor,s=e.axisAlpha,r=e.offset,a=e.dx,c=e.dy,l=e.x,h=e.y,d=e.height,u=e.width,g=n.container;"H"==e.orientation?(o=t.line(g,[0,u],[0,0],o,s,i),this.axisWidth=e.width,"bottom"==e.position?(c=i/2+r+d+h-1,i=l):(c=-i/2-r+h+c,i=a+l)):(this.axisWidth=e.height,"right"==e.position?(o=t.line(g,[0,0,-a],[0,d,d-c],o,s,i),c=h+c,i=i/2+r+a+u+l-1):(o=t.line(g,[0,0],[0,d],o,s,i),c=h,i=-i/2-r+l)),o.translate(i,c),(i=n.container.set()).push(o),n.axesSet.push(i),t.setCN(n,o,e.bcn+"line"),this.axisSet=i,this.set=o}})}(),function(){var t=window.AmCharts;t.RecItem=t.Class({construct:function(e,n,i,o,s,r,a,c,l,h,d,u){n=Math.round(n);var g=e.chart;this.value=i,null==i&&(i=""),l||(l=0),null==o&&(o=!0);var p=g.fontFamily,f=e.fontSize;null==f&&(f=g.fontSize);var b=e.color;null==b&&(b=g.color),void 0!==d&&(b=d);var m=e.chart.container,v=m.set();this.set=v;var y=e.axisThickness,C=e.axisColor,_=e.axisAlpha,x=e.tickLength,P=e.gridAlpha,w=e.gridThickness,O=e.gridColor,M=e.dashLength,k=e.fillColor,S=e.fillAlpha,I=e.labelsEnabled;d=e.labelRotationR;var L,T,A=e.counter,N=e.inside,B=e.labelOffset,V=e.dx,U=e.dy,D=e.orientation,E=e.position,R=e.previousCoord,F=e.height,j=e.width,z=e.offset;a?(void 0!==a.id&&(u=g.classNamePrefix+"-guide-"+a.id),I=!0,isNaN(a.tickLength)||(x=a.tickLength),null!=a.lineColor&&(O=a.lineColor),null!=a.color&&(b=a.color),isNaN(a.lineAlpha)||(P=a.lineAlpha),isNaN(a.dashLength)||(M=a.dashLength),isNaN(a.lineThickness)||(w=a.lineThickness),!0===a.inside&&(N=!0,0<z&&(z=0)),isNaN(a.labelRotation)||(d=a.labelRotation),isNaN(a.fontSize)||(f=a.fontSize),a.position&&(E=a.position),void 0!==a.boldLabel&&(c=a.boldLabel),isNaN(a.labelOffset)||(B=a.labelOffset)):""===i&&(x=0),h&&!isNaN(e.minorTickLength)&&(x=e.minorTickLength);var H="start";0<s&&(H="middle"),e.centerLabels&&(H="middle");var G,W,q,Q=d*Math.PI/180,$=0,K=0,X=0,Y=G=0,Z=0;"V"==D&&(d=0),I&&""!==i&&(Y=(H=(q=e.autoWrap&&0===d?t.wrappedText(m,i,b,p,f,H,c,Math.abs(s),0):t.text(m,i,b,p,f,H,c)).getBBox()).width,Z=H.height),"H"==D?(0<=n&&n<=j+1&&(0<x&&0<_&&n+l<=j+1&&(L=t.line(m,[n+l,n+l],[0,x],C,_,w),v.push(L)),0<P&&(T=t.line(m,[n,n+V,n+V],[F,F+U,U],O,P,w,M),v.push(T))),K=0,$=n,a&&90==d&&N&&($-=f),!1===o?(H="start",K="bottom"==E?N?K+x:K-x:N?K-x:K+x,$+=3,0<s&&($+=s/2-3,H="middle"),0<d&&(H="middle")):H="middle",1==A&&0<S&&!a&&!h&&R<j&&0<(G=(o=t.fitToBounds(n,0,j))-(R=t.fitToBounds(R,0,j)))&&((W=t.rect(m,G,e.height,k,S)).translate(o-G+V,U),v.push(W)),"bottom"==E?(K+=F+f/2+z,N?(0<d?(K=F-Y/2*Math.sin(Q)-x-3,e.centerRotatedLabels||($+=Y/2*Math.cos(Q)-4+2)):0>d?(K=F+Y*Math.sin(Q)-x-3+2,$+=-Y*Math.cos(Q)-Z*Math.sin(Q)-4):K-=x+f+3+3,K-=B):(0<d?(K=F+Y/2*Math.sin(Q)+x+3,e.centerRotatedLabels||($-=Y/2*Math.cos(Q))):0>d?(K=F+x+3-Y/2*Math.sin(Q)+2,$+=Y/2*Math.cos(Q)):K+=x+y+3+3,K+=B)):(K+=U+f/2-z,$+=V,N?(0<d?(K=Y/2*Math.sin(Q)+x+3,e.centerRotatedLabels||($-=Y/2*Math.cos(Q))):K+=x+3,K+=B):(0<d?(K=-Y/2*Math.sin(Q)-x-6,e.centerRotatedLabels||($+=Y/2*Math.cos(Q))):K-=x+f+3+y+3,K-=B)),"bottom"==E?G=(N?F-x-1:F+y-1)+z:(X=V,G=(N?U:U-x-y+1)-z),r&&($+=r),f=$,0<d&&(f+=Y/2*Math.cos(Q)),q&&(r=0,N&&(r=Y/2*Math.cos(Q)),f+r>j+2||0>f)&&(q.remove(),q=null)):(0<=n&&n<=F+1&&(0<x&&0<_&&n+l<=F+1&&(L=t.line(m,[0,x+1],[n+l,n+l],C,_,w),v.push(L)),0<P&&(T=t.line(m,[0,V,j+V],[n,n+U,n+U],O,P,w,M),v.push(T))),H="end",(!0===N&&"left"==E||!1===N&&"right"==E)&&(H="start"),K=n-Z/2+2,1==A&&0<S&&!a&&!h&&(o=t.fitToBounds(n,0,F),R=t.fitToBounds(R,0,F),(W=t.polygon(m,[0,e.width,e.width,0],[0,0,Q=o-R,Q],k,S)).translate(V,o-Q+U),v.push(W)),K+=f/2,"right"==E?($+=V+j+z,K+=U,N?(r||(K-=f/2+3),$=$-(x+4)-B):($+=x+4+y,K-=2,$+=B)):N?($+=x+4-z,r||(K-=f/2+3),a&&($+=V,K+=U),$+=B):($+=-x-y-4-2-z,K-=2,$-=B),L&&("right"==E?(X+=V+z+j-1,G+=U,X=N?X-y:X+y):(X-=z,N||(X-=x+y))),r&&(K+=r),N=-3,"right"==E&&(N+=U),q&&(K>F+1||K<N-f/10)&&(q.remove(),q=null)),L&&(L.translate(X,G),t.setCN(g,L,e.bcn+"tick"),t.setCN(g,L,u,!0),a&&t.setCN(g,L,"guide")),!1===e.visible&&(L&&L.remove(),q&&(q.remove(),q=null)),q&&(q.attr({"text-anchor":H}),q.translate($,K,NaN,!0),0!==d&&q.rotate(-d,e.chart.backgroundColor),e.allLabels.push(q),this.label=q,t.setCN(g,q,e.bcn+"label"),t.setCN(g,q,u,!0),a&&t.setCN(g,q,"guide")),T&&(t.setCN(g,T,e.bcn+"grid"),t.setCN(g,T,u,!0),a&&t.setCN(g,T,"guide")),W&&(t.setCN(g,W,e.bcn+"fill"),t.setCN(g,W,u,!0)),h?T&&t.setCN(g,T,e.bcn+"grid-minor"):(e.counter=0===A?1:0,e.previousCoord=n),0===this.set.node.childNodes.length&&this.set.remove()},graphics:function(){return this.set},getLabel:function(){return this.label}})}(),function(){var t=window.AmCharts;t.RecFill=t.Class({construct:function(e,n,i,o){var s=e.dx,r=e.dy,a=e.orientation,c=0;if(i<n){var l=n;n=i,i=l}var h=o.fillAlpha;isNaN(h)&&(h=0),l=e.chart.container;var d=o.fillColor;"V"==a?(n=t.fitToBounds(n,0,e.height),i=t.fitToBounds(i,0,e.height)):(n=t.fitToBounds(n,0,e.width),i=t.fitToBounds(i,0,e.width)),i-=n,isNaN(i)&&(i=4,c=2,h=0),0>i&&"object"==typeof d&&(d=d.join(",").split(",").reverse()),"V"==a?(a=t.rect(l,e.width,i,d,h)).translate(s,n-c+r):(a=t.rect(l,i,e.height,d,h)).translate(n-c+s,r),t.setCN(e.chart,a,"guide-fill"),o.id&&t.setCN(e.chart,a,"guide-fill-"+o.id),this.set=l.set([a])},graphics:function(){return this.set},getLabel:function(){}})}(),function(){var t=window.AmCharts;t.AmChart=t.Class({construct:function(e){this.svgIcons=this.tapToActivate=!0,this.theme=e,this.classNamePrefix="amcharts",this.addClassNames=!1,this.version="3.21.13",t.addChart(this),this.createEvents("buildStarted","dataUpdated","init","rendered","drawn","failed","resized","animationFinished"),this.height=this.width="100%",this.dataChanged=!0,this.chartCreated=!1,this.previousWidth=this.previousHeight=0,this.backgroundColor="#FFFFFF",this.borderAlpha=this.backgroundAlpha=0,this.color=this.borderColor="#000000",this.fontFamily="Verdana",this.fontSize=11,this.usePrefixes=!1,this.autoResize=!0,this.autoDisplay=!1,this.addCodeCredits=this.accessible=!0,this.touchStartTime=this.touchClickDuration=0,this.precision=-1,this.percentPrecision=2,this.decimalSeparator=".",this.thousandsSeparator=",",this.labels=[],this.allLabels=[],this.titles=[],this.marginRight=this.marginLeft=this.autoMarginOffset=0,this.timeOuts=[],this.creditsPosition="top-left";var n=document.createElement("div"),i=n.style;i.overflow="hidden",i.position="relative",i.textAlign="left",this.chartDiv=n,(i=(n=document.createElement("div")).style).overflow="hidden",i.position="relative",i.textAlign="left",this.legendDiv=n,this.titleHeight=0,this.hideBalloonTime=150,this.handDrawScatter=2,this.cssScale=this.handDrawThickness=1,this.cssAngle=0,this.prefixesOfBigNumbers=[{number:1e3,prefix:"k"},{number:1e6,prefix:"M"},{number:1e9,prefix:"G"},{number:1e12,prefix:"T"},{number:1e15,prefix:"P"},{number:1e18,prefix:"E"},{number:1e21,prefix:"Z"},{number:1e24,prefix:"Y"}],this.prefixesOfSmallNumbers=[{number:1e-24,prefix:"y"},{number:1e-21,prefix:"z"},{number:1e-18,prefix:"a"},{number:1e-15,prefix:"f"},{number:1e-12,prefix:"p"},{number:1e-9,prefix:"n"},{number:1e-6,prefix:"\u03bc"},{number:.001,prefix:"m"}],this.panEventsEnabled=!0,this.product="amcharts",this.animations=[],this.balloon=new t.AmBalloon(this.theme),this.balloon.chart=this,this.processTimeout=0,this.processCount=1e3,this.animatable=[],this.langObj={},t.applyTheme(this,e,"AmChart")},drawChart:function(){0<this.realWidth&&0<this.realHeight&&(this.drawBackground(),this.redrawLabels(),this.drawTitles(),this.brr(),this.renderFix(),this.chartDiv&&(this.boundingRect=this.chartDiv.getBoundingClientRect()))},makeAccessible:function(t,e,n){this.accessible&&t&&(n&&t.setAttr("role",n),t.setAttr("aria-label",e))},drawBackground:function(){t.remove(this.background);var e=this.container,n=this.backgroundColor,i=this.backgroundAlpha,o=this.set;t.isModern||0!==i||(i=.001);var s=this.updateWidth();this.realWidth=s;var r=this.updateHeight();this.realHeight=r,n=t.polygon(e,[0,s-1,s-1,0],[0,0,r-1,r-1],n,i,1,this.borderColor,this.borderAlpha),t.setCN(this,n,"bg"),this.background=n,o.push(n),(n=this.backgroundImage)&&(e=e.image(n,0,0,s,r),t.setCN(this,n,"bg-image"),this.bgImg=e,o.push(e))},drawTitles:function(e){var n=this.titles;if(this.titleHeight=0,t.ifArray(n)){var i,o=20;for(i=0;i<n.length;i++){var s;if(!1!==(s=t.processObject(s=n[i],t.Title,this.theme)).enabled){var r=s.color;void 0===r&&(r=this.color);var a=s.size;isNaN(a)&&(a=this.fontSize+2),isNaN(s.alpha);var c=this.marginLeft,l=!0;void 0!==s.bold&&(l=s.bold),(r=t.wrappedText(this.container,s.text,r,this.fontFamily,a,"middle",l,this.realWidth-35-this.marginRight-c)).translate(c+(this.realWidth-this.marginRight-c)/2,o),r.node.style.pointerEvents="none",s.sprite=r,void 0!==s.tabIndex&&r.setAttr("tabindex",s.tabIndex),t.setCN(this,r,"title"),s.id&&t.setCN(this,r,"title-"+s.id),r.attr({opacity:s.alpha}),o+=r.getBBox().height+5,e?r.remove():this.freeLabelsSet.push(r)}}this.titleHeight=o-10}},write:function(t){var e=this;if(e.listeners)for(var n=0;n<e.listeners.length;n++){var i=e.listeners[n];e.addListener(i.event,i.method)}e.fire({type:"buildStarted",chart:e}),e.afterWriteTO&&clearTimeout(e.afterWriteTO),0<e.processTimeout?e.afterWriteTO=setTimeout((function(){e.afterWrite.call(e,t)}),e.processTimeout):e.afterWrite(t)},afterWrite:function(e){var n;if(n="object"!=typeof e?document.getElementById(e):e){for(;n.firstChild;)n.removeChild(n.firstChild);this.div=n,n.style.overflow="hidden",n.style.textAlign="left";var i=this.legendDiv,o=this.legend,s=i.style,r=(e=this.chartDiv).style;this.measure(),this.previousHeight=this.divRealHeight,this.previousWidth=this.divRealWidth;var a,c=document.createElement("div");if((a=c.style).position="relative",this.containerDiv=c,c.className=this.classNamePrefix+"-main-div",e.className=this.classNamePrefix+"-chart-div",n.appendChild(c),(n=this.exportConfig)&&t.AmExport&&!this.AmExport&&(this.AmExport=new t.AmExport(this,n)),this.amExport&&t.AmExport&&(this.AmExport=t.extend(this.amExport,new t.AmExport(this),!0)),this.AmExport&&this.AmExport.init&&this.AmExport.init(),o){if((o=this.addLegend(o,o.divId)).enabled)switch(s.left=null,s.top=null,s.right=null,r.left=null,r.right=null,r.top=null,s.position="relative",r.position="relative",a.width="100%",a.height="100%",o.position){case"bottom":c.appendChild(e),c.appendChild(i);break;case"top":c.appendChild(i),c.appendChild(e);break;case"absolute":s.position="absolute",r.position="absolute",void 0!==o.left&&(s.left=o.left+"px"),void 0!==o.right&&(s.right=o.right+"px"),void 0!==o.top&&(s.top=o.top+"px"),void 0!==o.bottom&&(s.bottom=o.bottom+"px"),o.marginLeft=0,o.marginRight=0,c.appendChild(e),c.appendChild(i);break;case"right":s.position="relative",r.position="absolute",c.appendChild(e),c.appendChild(i);break;case"left":s.position="absolute",r.position="relative",c.appendChild(e),c.appendChild(i);break;case"outside":c.appendChild(e)}else c.appendChild(e);this.prevLegendPosition=o.position}else c.appendChild(e);this.listenersAdded||(this.addListeners(),this.listenersAdded=!0),(this.mouseWheelScrollEnabled||this.mouseWheelZoomEnabled)&&t.addWheelListeners(),this.initChart()}},createLabelsSet:function(){t.remove(this.labelsSet),this.labelsSet=this.container.set(),this.freeLabelsSet.push(this.labelsSet)},initChart:function(){this.balloon=t.processObject(this.balloon,t.AmBalloon,this.theme),window.AmCharts_path&&(this.path=window.AmCharts_path),void 0===this.path&&(this.path=t.getPath()),void 0===this.path&&(this.path="amcharts/"),this.path=t.normalizeUrl(this.path),void 0===this.pathToImages&&(this.pathToImages=this.path+"images/"),this.initHC||(t.callInitHandler(this),this.initHC=!0),t.applyLang(this.language,this);var e=this.numberFormatter;e&&(isNaN(e.precision)||(this.precision=e.precision),void 0!==e.thousandsSeparator&&(this.thousandsSeparator=e.thousandsSeparator),void 0!==e.decimalSeparator&&(this.decimalSeparator=e.decimalSeparator)),(e=this.percentFormatter)&&!isNaN(e.precision)&&(this.percentPrecision=e.precision),this.nf={precision:this.precision,thousandsSeparator:this.thousandsSeparator,decimalSeparator:this.decimalSeparator},this.pf={precision:this.percentPrecision,thousandsSeparator:this.thousandsSeparator,decimalSeparator:this.decimalSeparator},this.destroy(),(e=this.container)?(e.container.innerHTML="",e.width=this.realWidth,e.height=this.realHeight,e.addDefs(this),this.chartDiv.appendChild(e.container)):e=new t.AmDraw(this.chartDiv,this.realWidth,this.realHeight,this),this.container=e,this.extension=".png",this.svgIcons&&t.SVG&&(this.extension=".svg"),this.checkDisplay(),this.checkTransform(this.div),e.chart=this,t.VML||t.SVG?(e.handDrawn=this.handDrawn,e.handDrawScatter=this.handDrawScatter,e.handDrawThickness=this.handDrawThickness,t.remove(this.set),this.set=e.set(),t.remove(this.gridSet),this.gridSet=e.set(),t.remove(this.cursorLineSet),this.cursorLineSet=e.set(),t.remove(this.graphsBehindSet),this.graphsBehindSet=e.set(),t.remove(this.bulletBehindSet),this.bulletBehindSet=e.set(),t.remove(this.columnSet),this.columnSet=e.set(),t.remove(this.graphsSet),this.graphsSet=e.set(),t.remove(this.trendLinesSet),this.trendLinesSet=e.set(),t.remove(this.axesSet),this.axesSet=e.set(),t.remove(this.cursorSet),this.cursorSet=e.set(),t.remove(this.scrollbarsSet),this.scrollbarsSet=e.set(),t.remove(this.bulletSet),this.bulletSet=e.set(),t.remove(this.freeLabelsSet),this.freeLabelsSet=e.set(),t.remove(this.axesLabelsSet),this.axesLabelsSet=e.set(),t.remove(this.balloonsSet),this.balloonsSet=e.set(),t.remove(this.plotBalloonsSet),this.plotBalloonsSet=e.set(),t.remove(this.zoomButtonSet),this.zoomButtonSet=e.set(),t.remove(this.zbSet),this.zbSet=null,t.remove(this.linkSet),this.linkSet=e.set()):this.fire({type:"failed",chart:this})},premeasure:function(){var t=this.div;if(t){try{this.boundingRect=this.chartDiv.getBoundingClientRect()}catch(i){}var e=t.offsetWidth,n=t.offsetHeight;t.clientHeight&&(e=t.clientWidth,n=t.clientHeight),e==this.mw&&n==this.mh||(this.mw=e,this.mh=n,this.measure())}},measure:function(){if(s=this.div){var e=this.chartDiv,n=s.offsetWidth,i=s.offsetHeight,o=this.container;s.clientHeight&&(n=s.clientWidth,i=s.clientHeight),i=Math.round(i),n=Math.round(n);var s=Math.round(t.toCoordinate(this.width,n)),r=Math.round(t.toCoordinate(this.height,i));(n!=this.previousWidth||i!=this.previousHeight)&&0<s&&0<r&&(e.style.width=s+"px",e.style.height=r+"px",e.style.padding=0,o&&o.setSize(s,r),this.balloon=t.processObject(this.balloon,t.AmBalloon,this.theme)),this.balloon&&this.balloon.setBounds&&this.balloon.setBounds(2,2,s-2,r),this.updateWidth(),this.balloon.chart=this,this.realWidth=s,this.realHeight=r,this.divRealWidth=n,this.divRealHeight=i}},checkDisplay:function(){if(this.autoDisplay&&this.container){var e=t.rect(this.container,10,10),n=e.getBBox();0===n.width&&0===n.height&&(this.divRealHeight=this.divRealWidth=this.realHeight=this.realWidth=0,this.previousWidth=this.previousHeight=NaN),e.remove()}},checkTransform:function(t){if(this.autoTransform&&window.getComputedStyle&&t){if(t.style&&(e=window.getComputedStyle(t,null))&&(e=e.getPropertyValue("-webkit-transform")||e.getPropertyValue("-moz-transform")||e.getPropertyValue("-ms-transform")||e.getPropertyValue("-o-transform")||e.getPropertyValue("transform"))&&"none"!==e){var e=(n=e.split("(")[1].split(")")[0].split(","))[0],n=n[1];e=Math.sqrt(e*e+n*n),isNaN(e)||(this.cssScale*=e)}t.parentNode&&this.checkTransform(t.parentNode)}},destroy:function(){this.chartDiv.innerHTML="",this.clearTimeOuts(),this.legend&&this.legend.destroy()},clearTimeOuts:function(){var t,e=this.timeOuts;if(e)for(t=0;t<e.length;t++)clearTimeout(e[t]);this.timeOuts=[]},clear:function(e){try{document.removeEventListener("touchstart",this.docfn1,!0),document.removeEventListener("touchend",this.docfn2,!0)}catch(n){}if(t.callMethod("clear",[this.chartScrollbar,this.scrollbarV,this.scrollbarH,this.chartCursor]),this.chartCursor=this.scrollbarH=this.scrollbarV=this.chartScrollbar=null,this.clearTimeOuts(),this.container&&(this.container.remove(this.chartDiv),this.container.remove(this.legendDiv)),e||t.removeChart(this),e=this.div)for(;e.firstChild;)e.removeChild(e.firstChild);this.legend&&this.legend.destroy(),this.AmExport&&this.AmExport.clear&&this.AmExport.clear()},setMouseCursor:function(e){"auto"==e&&t.isNN&&(e="default"),this.chartDiv.style.cursor=e,this.legendDiv.style.cursor=e},redrawLabels:function(){this.labels=[];var t,e=this.allLabels;for(this.createLabelsSet(),t=0;t<e.length;t++)this.drawLabel(e[t])},drawLabel:function(e){var n=this;if(n.container&&!1!==e.enabled){var i=(e=t.processObject(e,t.Label,n.theme)).y,o=e.text,s=e.align,r=e.size,a=e.color,c=e.rotation,l=e.alpha,h=e.bold,d=t.toCoordinate(e.x,n.realWidth);d||(d=0),(i=t.toCoordinate(i,n.realHeight))||(i=0),void 0===a&&(a=n.color),isNaN(r)&&(r=n.fontSize),s||(s="start"),"left"==s&&(s="start"),"right"==s&&(s="end"),"center"==s&&(s="middle",c?i=n.realHeight-i+i/2:d=n.realWidth/2-d),void 0===l&&(l=1),void 0===c&&(c=0),i+=r/2,(o=t.text(n.container,o,a,n.fontFamily,r,s,h,l)).translate(d,i),void 0!==e.tabIndex&&o.setAttr("tabindex",e.tabIndex),t.setCN(n,o,"label"),e.id&&t.setCN(n,o,"label-"+e.id),0!==c&&o.rotate(c),e.url?(o.setAttr("cursor","pointer"),o.click((function(){t.getURL(e.url,n.urlTarget)}))):o.node.style.pointerEvents="none",n.labelsSet.push(o),n.labels.push(o)}},addLabel:function(t,e,n,i,o,s,r,a,c,l){t={x:t,y:e,text:n,align:i,size:o,color:s,alpha:a,rotation:r,bold:c,url:l,enabled:!0},this.container&&this.drawLabel(t),this.allLabels.push(t)},clearLabels:function(){var t,e=this.labels;for(t=e.length-1;0<=t;t--)e[t].remove();this.labels=[],this.allLabels=[]},updateHeight:function(){var t,e=this.divRealHeight;return(t=this.legend)&&("top"!=(t=t.position)&&"bottom"!=t||((0>(e-=this.legendDiv.offsetHeight)||isNaN(e))&&(e=0),this.chartDiv.style.height=e+"px")),e},updateWidth:function(){var t=this.divRealWidth,e=this.divRealHeight,n=this.legend;if(n){var i=(s=this.legendDiv).offsetWidth;isNaN(n.width)||(i=n.width),n.ieW&&(i=n.ieW);var o=s.offsetHeight,s=s.style,r=this.chartDiv.style,a=n.position;"right"!=a&&"left"!=a||void 0!==n.divId||((0>(t-=i)||isNaN(t))&&(t=0),r.width=t+"px",this.balloon&&this.balloon.setBounds&&this.balloon.setBounds(2,2,t-2,this.realHeight),"left"==a?(r.left=i+"px",s.left="0px"):(r.left="0px",s.left=t+"px"),e>o&&(s.top=(e-o)/2+"px"))}return t},getTitleHeight:function(){return this.drawTitles(!0),this.titleHeight},addTitle:function(t,e,n,i,o){return isNaN(e)&&(e=this.fontSize+2),this.titles.push(t={text:t,size:e,color:n,alpha:i,bold:o,enabled:!0}),t},handleWheel:function(t){var e=0;t||(t=window.event),t.wheelDelta?e=t.wheelDelta/120:t.detail&&(e=-t.detail/3),e&&this.handleWheelReal(e,t.shiftKey),t.preventDefault&&t.preventDefault()},handleWheelReal:function(){},handleDocTouchStart:function(){this.handleMouseMove(),this.tmx=this.mouseX,this.tmy=this.mouseY,this.touchStartTime=(new Date).getTime()},handleDocTouchEnd:function(){-.5<this.tmx&&this.tmx<this.divRealWidth+1&&0<this.tmy&&this.tmy<this.divRealHeight?(this.handleMouseMove(),4>Math.abs(this.mouseX-this.tmx)&&4>Math.abs(this.mouseY-this.tmy)?(this.tapped=!0,this.panRequired&&this.panEventsEnabled&&this.chartDiv&&(this.chartDiv.style.msTouchAction="none",this.chartDiv.style.touchAction="none")):this.mouseIsOver||this.resetTouchStyle()):(this.tapped=!1,this.resetTouchStyle())},resetTouchStyle:function(){this.panEventsEnabled&&this.chartDiv&&(this.chartDiv.style.msTouchAction="auto",this.chartDiv.style.touchAction="auto")},checkTouchDuration:function(t){var e=this,n=(new Date).getTime();if(t)if(t.touches)e.isTouchEvent=!0;else if(!e.isTouchEvent)return!0;if(n-e.touchStartTime>e.touchClickDuration)return!0;setTimeout((function(){e.resetTouchDuration()}),300)},resetTouchDuration:function(){this.isTouchEvent=!1},checkTouchMoved:function(){if(4<Math.abs(this.mouseX-this.tmx)||4<Math.abs(this.mouseY-this.tmy))return!0},addListeners:function(){var t=this,e=t.chartDiv;document.addEventListener?("ontouchstart"in document.documentElement&&(e.addEventListener("touchstart",(function(e){t.handleTouchStart.call(t,e)}),!0),e.addEventListener("touchmove",(function(e){t.handleMouseMove.call(t,e)}),!0),e.addEventListener("touchend",(function(e){t.handleTouchEnd.call(t,e)}),!0),t.docfn1=function(e){t.handleDocTouchStart.call(t,e)},t.docfn2=function(e){t.handleDocTouchEnd.call(t,e)},document.addEventListener("touchstart",t.docfn1,!0),document.addEventListener("touchend",t.docfn2,!0)),e.addEventListener("mousedown",(function(e){t.mouseIsOver=!0,t.handleMouseMove.call(t,e),t.handleMouseDown.call(t,e),t.handleDocTouchStart.call(t,e)}),!0),e.addEventListener("mouseover",(function(e){t.handleMouseOver.call(t,e)}),!0),e.addEventListener("mouseout",(function(e){t.handleMouseOut.call(t,e)}),!0),e.addEventListener("mouseup",(function(e){t.handleDocTouchEnd.call(t,e)}),!0)):(e.attachEvent("onmousedown",(function(e){t.handleMouseDown.call(t,e)})),e.attachEvent("onmouseover",(function(e){t.handleMouseOver.call(t,e)})),e.attachEvent("onmouseout",(function(e){t.handleMouseOut.call(t,e)})))},dispDUpd:function(){this.skipEvents||(this.dispatchDataUpdated&&(this.dispatchDataUpdated=!1,this.fire({type:"dataUpdated",chart:this})),this.chartCreated||(this.chartCreated=!0,this.fire({type:"init",chart:this})),this.chartRendered||(this.fire({type:"rendered",chart:this}),this.chartRendered=!0),this.fire({type:"drawn",chart:this})),this.skipEvents=!1},validateSize:function(){var t=this;if(t.premeasure(),t.checkDisplay(),t.cssScale=1,t.cssAngle=0,t.checkTransform(t.div),t.divRealWidth!=t.previousWidth||t.divRealHeight!=t.previousHeight){var e=t.legend;if(0<t.realWidth&&0<t.realHeight){if(t.sizeChanged=!0,e){t.legendInitTO&&clearTimeout(t.legendInitTO);var n=setTimeout((function(){e.invalidateSize()}),10);t.timeOuts.push(n),t.legendInitTO=n}t.marginsUpdated=!1,clearTimeout(t.initTO),n=setTimeout((function(){t.initChart()}),10),t.timeOuts.push(n),t.initTO=n}t.renderFix(),e&&e.renderFix&&e.renderFix(),t.positionCred(),clearTimeout(t.resizedTO),t.resizedTO=setTimeout((function(){t.fire({type:"resized",chart:t})}),10),t.previousHeight=t.divRealHeight,t.previousWidth=t.divRealWidth}},invalidateSize:function(){this.previousHeight=this.previousWidth=NaN,this.invalidateSizeReal()},invalidateSizeReal:function(){var t=this;t.marginsUpdated=!1,clearTimeout(t.validateTO);var e=setTimeout((function(){t.validateSize()}),5);t.timeOuts.push(e),t.validateTO=e},validateData:function(t){this.chartCreated&&(this.dataChanged=!0,this.marginsUpdated=!1,this.initChart(t))},validateNow:function(t,e){this.initTO&&clearTimeout(this.initTO),t&&(this.dataChanged=!0,this.marginsUpdated=!1),this.skipEvents=e,this.chartRendered=!1;var n=this.legend;n&&n.position!=this.prevLegendPosition&&(this.previousWidth=this.mw=0,n.invalidateSize&&(n.invalidateSize(),this.validateSize())),this.write(this.div)},showItem:function(t){t.hidden=!1,this.initChart()},hideItem:function(t){t.hidden=!0,this.initChart()},hideBalloon:function(){var t=this;clearTimeout(t.hoverInt),clearTimeout(t.balloonTO),t.hoverInt=setTimeout((function(){t.hideBalloonReal.call(t)}),t.hideBalloonTime)},cleanChart:function(){},hideBalloonReal:function(){var t=this.balloon;t&&t.hide&&t.hide()},showBalloon:function(t,e,n,i,o){var s=this;clearTimeout(s.balloonTO),clearTimeout(s.hoverInt),s.balloonTO=setTimeout((function(){s.showBalloonReal.call(s,t,e,n,i,o)}),1)},showBalloonReal:function(t,e,n,i,o){this.handleMouseMove();var s=this.balloon;s.enabled&&(s.followCursor(!1),s.changeColor(e),!n||s.fixedPosition?(s.setPosition(i,o),isNaN(i)||isNaN(o)?s.followCursor(!0):s.followCursor(!1)):s.followCursor(!0),t&&s.showBalloon(t))},handleMouseOver:function(){this.outTO&&clearTimeout(this.outTO),t.resetMouseOver(),this.mouseIsOver=!0},handleMouseOut:function(){var e=this;t.resetMouseOver(),e.outTO&&clearTimeout(e.outTO),e.outTO=setTimeout((function(){e.handleMouseOutReal()}),10)},handleMouseOutReal:function(){this.mouseIsOver=!1},handleMouseMove:function(t){var e,n,i,o;if(t||(t=window.event),this.mouse2Y=this.mouse2X=NaN,t){if(t.touches){var s=t.touches.item(1);if(s&&this.panEventsEnabled&&this.boundingRect&&(i=s.clientX-this.boundingRect.left,o=s.clientY-this.boundingRect.top),!(t=t.touches.item(0)))return}else this.wasTouched=!1;this.boundingRect&&t.clientX&&(e=t.clientX-this.boundingRect.left,n=t.clientY-this.boundingRect.top),isNaN(i)?this.mouseX=e:(this.mouseX=Math.min(e,i),this.mouse2X=Math.max(e,i)),isNaN(o)?this.mouseY=n:(this.mouseY=Math.min(n,o),this.mouse2Y=Math.max(n,o)),this.autoTransform&&(this.mouseX/=this.cssScale,this.mouseY/=this.cssScale)}},handleTouchStart:function(t){this.hideBalloonReal(),t&&(t.touches&&this.tapToActivate&&!this.tapped||!this.panRequired)||(this.handleMouseMove(t),this.handleMouseDown(t))},handleTouchEnd:function(e){this.wasTouched=!0,this.handleMouseMove(e),t.resetMouseOver(),this.handleReleaseOutside(e)},handleReleaseOutside:function(){this.handleDocTouchEnd.call(this)},handleMouseDown:function(e){t.resetMouseOver(),this.mouseIsOver=!0,e&&e.preventDefault&&(this.panEventsEnabled?e.preventDefault():e.touches||e.preventDefault())},addLegend:function(e,n){var i;return(e=t.processObject(e,t.AmLegend,this.theme)).divId=n,e.ieW=0,i="object"!=typeof n&&n?document.getElementById(n):n,this.legend=e,e.chart=this,i?(e.div=i,e.position="outside",e.autoMargins=!1):e.div=this.legendDiv,e},removeLegend:function(){this.legend=void 0,this.previousWidth=0,this.legendDiv.innerHTML=""},handleResize:function(){(t.isPercents(this.width)||t.isPercents(this.height))&&this.invalidateSizeReal(),this.renderFix()},renderFix:function(){if(!t.VML){var e=this.container;e&&e.renderFix()}},getSVG:function(){if(t.hasSVG)return this.container},animate:function(e,n,i,o,s,r,a){return e["an_"+n]&&t.removeFromArray(this.animations,e["an_"+n]),e["an_"+n]=i={obj:e,frame:0,attribute:n,from:i,to:o,time:s,effect:r,suffix:a},this.animations.push(i),i},setLegendData:function(t){var e=this.legend;e&&e.setData(t)},stopAnim:function(e){t.removeFromArray(this.animations,e)},updateAnimations:function(){var e;if(this.container&&this.container.update(),this.animations)for(e=this.animations.length-1;0<=e;e--){var n=this.animations[e],i=n.frame+1,o=n.obj,s=n.attribute;if(i<=(c=t.updateRate*n.time)){n.frame++;var r=Number(n.from),a=Number(n.to)-r,c=t[n.effect](0,i,r,a,c);0===a?(this.animations.splice(e,1),o.node.style[s]=Number(n.to)+n.suffix):o.node.style[s]=c+n.suffix}else o.node.style[s]=Number(n.to)+n.suffix,o.animationFinished=!0,this.animations.splice(e,1)}},update:function(){this.updateAnimations();var t=this.animatable;if(0<t.length){for(var e=!0,n=t.length-1;0<=n;n--){var i=t[n];i&&(i.animationFinished?t.splice(n,1):e=!1)}e&&(this.fire({type:"animationFinished",chart:this}),this.animatable=[])}},inIframe:function(){try{return window.self!==window.top}catch(t){return!0}},brr:function(){if(!this.hideCredits){var t,e="amcharts.com";if(2<=(n=window.location.hostname.split(".")).length&&(t=n[n.length-2]+"."+n[n.length-1]),this.amLink&&(n=this.amLink.parentNode)&&n.removeChild(this.amLink),t!=e||!0===this.inIframe()){t=e="http://www."+e;var n="JavaScript charts",i="JS chart by amCharts";"ammap"==this.product&&(t=e+"/javascript-maps/",n="Interactive JavaScript maps",i="JS map by amCharts"),e=document.createElement("a"),i=document.createTextNode(i),e.setAttribute("href",t),e.setAttribute("title",n),this.urlTarget&&e.setAttribute("target",this.urlTarget),e.appendChild(i),this.chartDiv.appendChild(e),this.amLink=e,(e=e.style).position="absolute",e.textDecoration="none",e.color=this.color,e.fontFamily=this.fontFamily,e.fontSize="11px",e.opacity=.7,e.display="block",this.positionCred()}}},positionCred:function(){if(i=this.amLink){var t=this.creditsPosition,e=i.style,n=i.offsetWidth,i=i.offsetHeight,o=0,s=0,r=this.realWidth,a=this.realHeight;"serial"!=(c=this.type)&&"xy"!=c&&"gantt"!=c||(r=(o=this.marginLeftReal)+this.plotAreaWidth,a=(s=this.marginTopReal)+this.plotAreaHeight);var c=5+o,l=s+5;"bottom-left"==t&&(c=5+o,l=a-i-3),"bottom-right"==t&&(c=r-n-5,l=a-i-3),"top-right"==t&&(c=r-n-5,l=s+5),e.left=c+"px",e.top=l+"px"}}}),t.Slice=t.Class({construct:function(){}}),t.SerialDataItem=t.Class({construct:function(){}}),t.GraphDataItem=t.Class({construct:function(){}}),t.Guide=t.Class({construct:function(e){this.cname="Guide",t.applyTheme(this,e,this.cname)}}),t.Title=t.Class({construct:function(e){this.cname="Title",t.applyTheme(this,e,this.cname)}}),t.Label=t.Class({construct:function(e){this.cname="Label",t.applyTheme(this,e,this.cname)}})}(),function(){var t=window.AmCharts;t.AmGraph=t.Class({construct:function(e){this.cname="AmGraph",this.createEvents("rollOverGraphItem","rollOutGraphItem","clickGraphItem","doubleClickGraphItem","rightClickGraphItem","clickGraph","rollOverGraph","rollOutGraph"),this.type="line",this.stackable=!0,this.columnCount=1,this.columnIndex=0,this.centerCustomBullets=this.showBalloon=!0,this.maxBulletSize=50,this.minBulletSize=4,this.balloonText="[[value]]",this.hidden=this.scrollbar=this.animationPlayed=!1,this.pointPosition="middle",this.depthCount=1,this.includeInMinMax=!0,this.negativeBase=0,this.visibleInLegend=!0,this.showAllValueLabels=!1,this.showBulletsAt=this.showBalloonAt="close",this.lineThickness=1,this.dashLength=0,this.connect=!0,this.lineAlpha=1,this.bullet="none",this.bulletBorderThickness=2,this.bulletBorderAlpha=0,this.bulletAlpha=1,this.bulletSize=8,this.cornerRadiusTop=this.hideBulletsCount=this.bulletOffset=0,this.cursorBulletAlpha=1,this.gradientOrientation="vertical",this.dy=this.dx=0,this.periodValue="",this.clustered=!0,this.periodSpan=1,this.accessibleLabel="[[title]] [[category]] [[value]]",this.accessibleSkipText="Press enter to skip [[title]]",this.y=this.x=0,this.switchable=!0,this.minDistance=.8,this.tcc=1,this.labelRotation=0,this.labelAnchor="auto",this.labelOffset=3,this.bcn="graph-",this.dateFormat="MMM DD, YYYY",this.noRounding=!0,t.applyTheme(this,e,this.cname)},init:function(){this.createBalloon()},draw:function(){var e=this.chart;e.isRolledOverBullet=!1;var n=e.type;if(e.drawGraphs){isNaN(this.precision)||(this.numberFormatter?this.numberFormatter.precision=this.precision:this.numberFormatter={precision:this.precision,decimalSeparator:e.decimalSeparator,thousandsSeparator:e.thousandsSeparator});var i=e.container;this.container=i,this.destroy();var o=i.set();this.set=o,o.translate(this.x,this.y);var s=i.set();this.bulletSet=s,s.translate(this.x,this.y),this.behindColumns?(e.graphsBehindSet.push(o),e.bulletBehindSet.push(s)):(e.graphsSet.push(o),e.bulletSet.push(s));var r=this.bulletAxis;t.isString(r)&&(this.bulletAxis=e.getValueAxisById(r)),i=i.set(),t.remove(this.columnsSet),this.columnsSet=i,t.setCN(e,o,"graph-"+this.type),t.setCN(e,o,"graph-"+this.id),t.setCN(e,s,"graph-"+this.type),t.setCN(e,s,"graph-"+this.id),this.columnsArray=[],this.ownColumns=[],this.allBullets=[],this.animationArray=[],(s=this.labelPosition)||(r=this.valueAxis.stackType,s="top","column"==this.type&&(e.rotate&&(s="right"),"100%"==r||"regular"==r)&&(s="middle"),this.labelPosition=s),t.ifArray(this.data)&&(e=!1,"xy"==n?this.xAxis.axisCreated&&this.yAxis.axisCreated&&(e=!0):this.valueAxis.axisCreated&&(e=!0),!this.hidden&&e&&this.createGraph()),o.push(i)}},createGraph:function(){var e=this,n=e.chart;e.startAlpha=n.startAlpha,e.seqAn=n.sequencedAnimation,e.baseCoord=e.valueAxis.baseCoord,void 0===e.fillAlphas&&(e.fillAlphas=0),e.bulletColorR=e.bulletColor,void 0===e.bulletColorR&&(e.bulletColorR=e.lineColorR,e.bulletColorNegative=e.negativeLineColor),void 0===e.bulletAlpha&&(e.bulletAlpha=e.lineAlpha),("step"==i||t.VML)&&(e.noRounding=!1);var i=n.type;if("gantt"==i&&(i="serial"),clearTimeout(e.playedTO),!isNaN(e.valueAxis.min)&&!isNaN(e.valueAxis.max)){switch(i){case"serial":e.categoryAxis&&(e.createSerialGraph(),"candlestick"==e.type&&1>e.valueAxis.minMaxMultiplier&&e.positiveClip(e.set));break;case"radar":e.createRadarGraph();break;case"xy":e.createXYGraph()}e.playedTO=setTimeout((function(){e.setAnimationPlayed.call(e)}),500*e.chart.startDuration)}},setAnimationPlayed:function(){this.animationPlayed=!0},createXYGraph:function(){var t,e=[],n=[],i=this.xAxis,o=this.yAxis;for(this.pmh=o.height,this.pmw=i.width,this.pmy=this.pmx=0,t=this.start;t<=this.end;t++){var s=this.data[t].axes[i.id].graphs[this.id],r=(c=s.values).x,a=c.y,c=i.getCoordinate(r,this.noRounding),l=o.getCoordinate(a,this.noRounding);if(!isNaN(r)&&!isNaN(a)&&(e.push(c),n.push(l),s.x=c,s.y=l,r=this.createBullet(s,c,l,t),a=this.labelText)){a=this.createLabel(s,a);var h=0;r&&(h=r.size),this.positionLabel(s,c,l,a,h)}}this.drawLineGraph(e,n),this.launchAnimation()},createRadarGraph:function(){var t,e,n,i,o,s=this.valueAxis.stackType,r=[],a=[],c=[],l=[];for(o=this.start;o<=this.end;o++){var h,d,u=this.data[o].axes[this.valueAxis.id].graphs[this.id];if("none"==s||"3d"==s?h=u.values.value:(h=u.values.close,d=u.values.open),isNaN(h))this.connect||(this.drawLineGraph(r,a,c,l),r=[],a=[],c=[],l=[]);else{var g=this.valueAxis.getCoordinate(h,this.noRounding)-this.height,p=-360/(this.end-this.start+1)*o;if("middle"==this.valueAxis.pointPosition&&(p-=180/(this.end-this.start+1)),h=(g*=this.valueAxis.rMultiplier)*Math.sin(p/180*Math.PI),g*=Math.cos(p/180*Math.PI),r.push(h),a.push(g),!isNaN(d)){var f,b=(f=(f=this.valueAxis.getCoordinate(d,this.noRounding)-this.height)*this.valueAxis.rMultiplier)*Math.sin(p/180*Math.PI);p=f*Math.cos(p/180*Math.PI),c.push(b),l.push(p),isNaN(n)&&(n=b),isNaN(i)&&(i=p)}p=this.createBullet(u,h,g,o),u.x=h,u.y=g,(b=this.labelText)&&(b=this.createLabel(u,b),f=0,p&&(f=p.size),this.positionLabel(u,h,g,b,f)),isNaN(t)&&(t=h),isNaN(e)&&(e=g)}}r.push(t),a.push(e),isNaN(n)||(c.push(n),l.push(i)),this.drawLineGraph(r,a,c,l),this.launchAnimation()},positionLabel:function(t,e,n,i,o){if(i){var s=this.chart,r=this.valueAxis,a="middle",c=!1,l=this.labelPosition,h=i.getBBox(),d=this.chart.rotate,u=t.isNegative;switch(void 0===(g=this.fontSize)&&(g=this.chart.fontSize),n-=h.height/2-g/2-1,void 0!==t.labelIsNegative&&(u=t.labelIsNegative),l){case"right":l=d&&u?"left":"right";break;case"top":l=d?"top":u?"bottom":"top";break;case"bottom":l=d?"bottom":u?"top":"bottom";break;case"left":l=d&&u?"right":"left"}var g,p=0,f=0;(g=t.columnGraphics)&&(p=g.x,f=g.y);var b=this.labelOffset;switch(l){case"right":a="start",e+=o/2+b;break;case"top":n=r.reversed?n+(o/2+h.height/2+b):n-(o/2+h.height/2+b);break;case"bottom":n=r.reversed?n-(o/2+h.height/2+b):n+(o/2+h.height/2+b);break;case"left":a="end",e-=o/2+b;break;case"inside":"column"==this.type&&(c=!0,d?u?(a="end",e=p-3-b):(a="start",e=p+3+b):n=u?f+7+b:f-10-b);break;case"middle":"column"==this.type&&(c=!0,d?e-=(e-p)/2+b-3:n-=(n-f)/2+b-3)}return"auto"!=this.labelAnchor&&(a=this.labelAnchor),i.attr({"text-anchor":a}),this.labelRotation&&i.rotate(this.labelRotation),i.translate(e,n),!this.showAllValueLabels&&g&&c&&((h=i.getBBox()).height>t.columnHeight||h.width>t.columnWidth)&&(i.remove(),i=null),i&&"radar"!=s.type&&(d?((0>n||n>this.height)&&(i.remove(),i=null),!this.showAllValueLabels&&i&&(0>e||e>this.width)&&(i.remove(),i=null)):((0>e||e>this.width)&&(i.remove(),i=null),!this.showAllValueLabels&&i&&(0>n||n>this.height)&&(i.remove(),i=null))),i&&this.allBullets.push(i),i}},getGradRotation:function(){var t=270;return"horizontal"==this.gradientOrientation&&(t=0),this.gradientRotation=t},createSerialGraph:function(){this.dashLengthSwitched=this.fillColorsSwitched=this.lineColorSwitched=void 0;var e=this.chart,n=this.id,i=this.index,o=this.data,s=this.chart.container,r=this.valueAxis,a=this.type,c=this.columnWidthReal,l=this.showBulletsAt;isNaN(this.columnWidth)||(c=this.columnWidth),isNaN(c)&&(c=.8);var h,d,u,g,p,f=this.useNegativeColorIfDown,b=this.width,m=this.height,v=this.y,y=this.rotate,C=this.columnCount,_=t.toCoordinate(this.cornerRadiusTop,c/2),x=this.connect,P=[],w=[],O=this.chart.graphs.length,M=this.dx/this.tcc,k=this.dy/this.tcc,S=r.stackType,I=this.start,L=this.end,T=this.scrollbar,A="graph-column-";T&&(A="scrollbar-graph-column-");var N,B=this.categoryAxis,V=this.baseCoord,U=this.negativeBase,D=this.columnIndex,E=this.lineThickness,R=this.lineAlpha,F=this.lineColorR,j=this.dashLength,z=this.set,H=this.getGradRotation(),G=this.chart.columnSpacing,W=B.cellWidth,q=(W*c-C)/C;G>q&&(G=q);var Q,$,K,X=m,Y=b,Z=0,J=0,tt=0,et=0,nt=0,it=0,ot=this.fillColorsR,st=this.negativeFillColors,rt=this.negativeLineColor,at=this.fillAlphas,ct=this.negativeFillAlphas;"object"==typeof at&&(at=at[0]),"object"==typeof ct&&(ct=ct[0]);var lt=this.noRounding;"step"==a&&(lt=!1);var ht=r.getCoordinate(r.min);if(r.logarithmic&&(ht=r.getCoordinate(r.minReal)),this.minCoord=ht,this.resetBullet&&(this.bullet="none"),!(T||"line"!=a&&"smoothedLine"!=a&&"step"!=a||(1==o.length&&"step"!=a&&"none"==this.bullet&&(this.bullet="round",this.resetBullet=!0),!st&&null==rt||f))){var dt=U;dt>r.max&&(dt=r.max),dt<r.min&&(dt=r.min),r.logarithmic&&(dt=r.minReal);var ut=r.getCoordinate(dt)+.5,gt=r.getCoordinate(r.max);y?(X=m,Y=Math.abs(gt-ut),tt=m,et=Math.abs(ht-ut),it=J=0,r.reversed?(Z=0,nt=ut):(Z=ut,nt=0)):(Y=b,X=Math.abs(gt-ut),et=b,tt=Math.abs(ht-ut),nt=Z=0,r.reversed?(it=v,J=ut):it=ut)}var pt=Math.round;this.pmx=pt(Z),this.pmy=pt(J),this.pmh=pt(X),this.pmw=pt(Y),this.nmx=pt(nt),this.nmy=pt(it),this.nmh=pt(tt),this.nmw=pt(et),t.isModern||(this.nmy=this.nmx=0,this.nmh=this.height),this.clustered||(C=1),1>(c="column"==a?(W*c-G*(C-1))/C:W*c)&&(c=1);var ft,bt=this.fixedColumnWidth;if(isNaN(bt)||(c=bt),"line"==a||"step"==a||"smoothedLine"==a){if(0<I){for(ft=I-1;-1<ft;ft--)if(K=($=(Q=o[ft]).axes[r.id].graphs[n]).values.value,!isNaN(K)){I=ft;break}if(this.lineColorField)for(ft=I;-1<ft;ft--)if(($=(Q=o[ft]).axes[r.id].graphs[n]).lineColor){this.lineColorSwitched=$.lineColor,void 0===this.bulletColor&&(this.bulletColorSwitched=this.lineColorSwitched);break}if(this.fillColorsField)for(ft=I;-1<ft;ft--)if(($=(Q=o[ft]).axes[r.id].graphs[n]).fillColors){this.fillColorsSwitched=$.fillColors;break}if(this.dashLengthField)for(ft=I;-1<ft;ft--)if($=(Q=o[ft]).axes[r.id].graphs[n],!isNaN($.dashLength)){this.dashLengthSwitched=$.dashLength;break}}if(L<o.length-1)for(ft=L+1;ft<o.length;ft++)if(K=($=(Q=o[ft]).axes[r.id].graphs[n]).values.value,!isNaN(K)){L=ft;break}}L<o.length-1&&L++;var mt=[],vt=[],yt=!1;"line"!=a&&"step"!=a&&"smoothedLine"!=a||(this.stackable&&"regular"==S||"100%"==S||this.fillToGraph)&&(yt=!0);var Ct=this.noStepRisers,_t=-1e3,xt=-1e3,Pt=this.minDistance,wt=!0,Ot=!1;for(ft=I;ft<=L;ft++){($=(Q=o[ft]).axes[r.id].graphs[n]).index=ft;var Mt,kt=NaN;if(f&&null==this.openField)for(var St=ft+1;St<o.length&&(!o[St]||!(Mt=o[ft+1].axes[r.id].graphs[n])||!Mt.values||(kt=Mt.values.value,isNaN(kt)));St++);var It,Lt,Tt,At,Nt,Bt,Vt=NaN,Ut=NaN,Dt=NaN,Et=NaN,Rt=NaN,Ft=NaN,jt=NaN,zt=NaN,Ht=NaN,Gt=NaN,Wt=NaN,qt=NaN,Qt=NaN,$t=NaN,Kt=NaN,Xt=NaN,Yt=NaN,Zt=void 0,Jt=ot,te=at,ee=F,ne=this.proCandlesticks,ie=this.topRadius,oe=m-1,se=b-1,re=this.pattern;null!=$.pattern&&(re=$.pattern),isNaN($.alpha)||(te=$.alpha),isNaN($.dashLength)||(j=$.dashLength);var ae=$.values;if(r.recalculateToPercents&&(ae=$.percents),"none"==S&&(D=isNaN($.columnIndex)?this.columnIndex:$.columnIndex),ae){if($t=this.stackable&&"none"!=S&&"3d"!=S?ae.close:ae.value,"candlestick"!=a&&"ohlc"!=a||($t=ae.close,jt=r.getCoordinate(Xt=ae.low),Ht=r.getCoordinate(Kt=ae.high)),Yt=ae.open,Dt=r.getCoordinate($t,lt),isNaN(Yt)||(Rt=r.getCoordinate(Yt,lt),f&&"regular"!=S&&"100%"!=S&&(kt=Yt,Yt=Rt=NaN)),f&&(null==this.openField?Mt&&(Mt.isNegative=kt<$t,isNaN(kt)&&($.isNegative=!wt)):$.isNegative=kt>$t),!T)switch(this.showBalloonAt){case"close":$.y=Dt;break;case"open":$.y=Rt;break;case"high":$.y=Ht;break;case"low":$.y=jt}Vt=Q.x[B.id];var ce=this.periodSpan-1;"step"!=a||isNaN(Q.cellWidth)||(W=Q.cellWidth);var le=Math.floor(W/2)+Math.floor(ce*W/2),he=le;if("left"==this.stepDirection&&(Vt-=(2*W+ce*W)/2),"center"==this.stepDirection&&(Vt-=W/2),"start"==this.pointPosition&&(Vt-=W/2+Math.floor(ce*W/2),le=0,he=Math.floor(W)+Math.floor(ce*W)),"end"==this.pointPosition&&(Vt+=W/2+Math.floor(ce*W/2),le=Math.floor(W)+Math.floor(ce*W),he=0),Ct){var de=this.columnWidth;isNaN(de)||(le*=de,he*=de)}T||($.x=Vt),-1e5>Vt&&(Vt=-1e5),Vt>b+1e5&&(Vt=b+1e5),y?(Ut=Dt,Et=Rt,Rt=Dt=Vt,isNaN(Yt)&&!this.fillToGraph&&(Et=V),Ft=jt,zt=Ht):(Et=Ut=Vt,isNaN(Yt)&&!this.fillToGraph&&(Rt=V)),(!ne&&$t<Yt||ne&&$t<N)&&($.isNegative=!0,st&&(Jt=st),ct&&(te=ct),null!=rt&&(ee=rt)),Ot=!1,isNaN($t)||(f?$t>kt?(wt&&(Ot=!0),wt=!1):(wt||(Ot=!0),wt=!0):$.isNegative=$t<U,N=$t);var ue=!1;switch(T&&e.chartScrollbar.ignoreCustomColors&&(ue=!0),ue||(null!=$.color&&(Jt=$.color),$.fillColors&&(Jt=$.fillColors)),Dt=t.fitToBounds(Dt,-3e4,3e4),a){case"line":isNaN($t)?x||(this.drawLineGraph(P,w,mt,vt),P=[],w=[],mt=[],vt=[]):((Math.abs(Ut-_t)>=Pt||Math.abs(Dt-xt)>=Pt)&&(P.push(Ut),w.push(Dt),_t=Ut,xt=Dt),Gt=Ut,Wt=Dt,qt=Ut,Qt=Dt,!yt||isNaN(Rt)||isNaN(Et)||(mt.push(Et),vt.push(Rt)),(Ot||null!=$.lineColor&&$.lineColor!=this.lineColorSwitched||null!=$.fillColors&&$.fillColors!=this.fillColorsSwitched||!isNaN($.dashLength))&&(this.drawLineGraph(P,w,mt,vt),P=[Ut],w=[Dt],mt=[],vt=[],!yt||isNaN(Rt)||isNaN(Et)||(mt.push(Et),vt.push(Rt)),f?(wt?(this.lineColorSwitched=F,this.fillColorsSwitched=ot):(this.lineColorSwitched=rt,this.fillColorsSwitched=st),void 0===this.bulletColor&&(this.bulletColorSwitched=F)):(this.lineColorSwitched=$.lineColor,this.fillColorsSwitched=$.fillColors,void 0===this.bulletColor&&(this.bulletColorSwitched=this.lineColorSwitched)),this.dashLengthSwitched=$.dashLength),$.gap&&(this.drawLineGraph(P,w,mt,vt),P=[],w=[],mt=[],vt=[],xt=_t=-1e3));break;case"smoothedLine":isNaN($t)?x||(this.drawSmoothedGraph(P,w,mt,vt),P=[],w=[],mt=[],vt=[]):((Math.abs(Ut-_t)>=Pt||Math.abs(Dt-xt)>=Pt)&&(P.push(Ut),w.push(Dt),_t=Ut,xt=Dt),Gt=Ut,Wt=Dt,qt=Ut,Qt=Dt,!yt||isNaN(Rt)||isNaN(Et)||(mt.push(Et),vt.push(Rt)),(Ot||null!=$.lineColor&&$.lineColor!=this.lineColorSwitched||null!=$.fillColors&&$.fillColors!=this.fillColorsSwitched||!isNaN($.dashLength))&&(this.drawSmoothedGraph(P,w,mt,vt),P=[Ut],w=[Dt],mt=[],vt=[],!yt||isNaN(Rt)||isNaN(Et)||(mt.push(Et),vt.push(Rt)),this.lineColorSwitched=$.lineColor,this.fillColorsSwitched=$.fillColors,this.dashLengthSwitched=$.dashLength),$.gap&&(this.drawSmoothedGraph(P,w,mt,vt),P=[],w=[],mt=[],vt=[]));break;case"step":if(isNaN($t))x||((1>=this.periodSpan||1<this.periodSpan&&Ut-h>le+he)&&(h=d=NaN),this.drawLineGraph(P,w,mt,vt),P=[],w=[],mt=[],vt=[]);else{if(y?(isNaN(h)||(P.push(h),w.push(Dt-le)),w.push(Dt-le),P.push(Ut),w.push(Dt+he),P.push(Ut),!yt||isNaN(Rt)||isNaN(Et)||(isNaN(u)||(mt.push(u),vt.push(Rt-le)),mt.push(Et),vt.push(Rt-le),mt.push(Et),vt.push(Rt+he))):(isNaN(d)||(w.push(d),P.push(Ut-le)),P.push(Ut-le),w.push(Dt),P.push(Ut+he),w.push(Dt),!yt||isNaN(Rt)||isNaN(Et)||(isNaN(g)||(mt.push(Et-le),vt.push(g)),mt.push(Et-le),vt.push(Rt),mt.push(Et+he),vt.push(Rt))),h=Ut,d=Dt,u=Et,g=Rt,Gt=Ut,Wt=Dt,qt=Ut,Qt=Dt,Ot||null!=$.lineColor||null!=$.fillColors||!isNaN($.dashLength)){var ge=P[P.length-2],pe=w[w.length-2];P.pop(),w.pop(),mt.pop(),vt.pop(),this.drawLineGraph(P,w,mt,vt),P=[ge],w=[pe],mt=[],vt=[],yt&&(mt=[ge,ge+le+he],vt=[g,g]),y?(w.push(Dt+he),P.push(Ut)):(P.push(Ut+he),w.push(Dt)),this.lineColorSwitched=$.lineColor,this.fillColorsSwitched=$.fillColors,this.dashLengthSwitched=$.dashLength,f&&(wt?(this.lineColorSwitched=F,this.fillColorsSwitched=ot):(this.lineColorSwitched=rt,this.fillColorsSwitched=st))}(Ct||$.gap)&&(h=d=NaN,this.drawLineGraph(P,w,mt,vt),P=[],w=[],mt=[],vt=[])}break;case"column":if(Nt=ee,null!=$.lineColor&&(Nt=$.lineColor),!isNaN($t)){f||($.isNegative=$t<U),$.isNegative&&(st&&(Jt=st),null!=rt&&(Nt=rt));var fe,be=r.min,me=r.max,ve=Yt;if(isNaN(ve)&&(ve=U),!($t<be&&ve<be||$t>me&&ve>me))if(y){"3d"==S?(Lt=Dt-(C/2-this.depthCount+1)*(c+G)+G/2+k*D,It=Et+M*D,fe=D):(Lt=Math.floor(Dt-(C/2-D)*(c+G)+G/2),It=Et,fe=0),Gt=Ut,Wt=Lt+c/2,qt=Ut,Qt=Lt+c/2,Lt+(Tt=c)>m+fe*k&&(Tt=m-Lt+fe*k),Lt<fe*k&&(Tt+=Lt,Lt=fe*k),At=Ut-Et;var ye=It;It=t.fitToBounds(It,0,b),At=t.fitToBounds(At+=ye-It,-It,b-It+M*D),$.labelIsNegative=0>At,0===At&&1/$t==-1/0&&($.labelIsNegative=!0),isNaN(Q.percentWidthValue)||(Wt=(Lt=Vt-(Tt=this.height*Q.percentWidthValue/100)/2)+Tt/2),Tt=t.roundTo(Tt,2),At=t.roundTo(At,2),Lt<m&&0<Tt&&(Zt=new t.Cuboid(s,At,Tt,M-e.d3x,k-e.d3y,Jt,te,E,Nt,R,H,_,y,j,re,ie,A),$.columnWidth=Math.abs(At),$.columnHeight=Math.abs(Tt))}else{"3d"==S?(It=Ut-(C/2-this.depthCount+1)*(c+G)+G/2+M*D,Lt=Rt+k*D,fe=D):(It=Ut-(C/2-D)*(c+G)+G/2,Lt=Rt,fe=0),Gt=It+c/2,Wt=Dt,qt=It+c/2,Qt=Dt,It+(Tt=c)>b+fe*M&&(Tt=b-It+fe*M),It<fe*M&&(Tt+=It-fe*M,It=fe*M),$.labelIsNegative=0<(At=Dt-Rt),0===At&&1/$t!=1/Math.abs($t)&&($.labelIsNegative=!0);var Ce=Lt;Lt=t.fitToBounds(Lt,this.dy,m),At=t.fitToBounds(At+=Ce-Lt,k*fe-Lt,m-Lt),isNaN(Q.percentWidthValue)||(Gt=(It=Vt-(Tt=this.width*Q.percentWidthValue/100)/2)+Tt/2),Tt=t.roundTo(Tt,2),At=t.roundTo(At,2),It<b+D*M&&0<Tt&&(this.showOnAxis&&(Lt-=k/2),Zt=new t.Cuboid(s,Tt,At,M-e.d3x,k-e.d3y,Jt,te,E,Nt,this.lineAlpha,H,_,y,j,re,ie,A),$.columnHeight=Math.abs(At),$.columnWidth=Math.abs(Tt))}Zt&&(Bt=Zt.set,t.setCN(e,Zt.set,"graph-"+this.type),t.setCN(e,Zt.set,"graph-"+this.id),$.className&&t.setCN(e,Zt.set,$.className,!0),$.columnGraphics=Bt,It=t.roundTo(It,2),Lt=t.roundTo(Lt,2),Bt.translate(It,Lt),($.url||this.showHandOnHover)&&Bt.setAttr("cursor","pointer"),T||("none"==S&&(p=y?(this.end+1-ft)*O-i:O*ft+i),"3d"==S&&(y?(p=(this.end+1-ft)*O-i-1e3*this.depthCount,Gt+=M*D,qt+=M*D,$.y+=M*D):(p=(O-i)*(ft+1)+1e3*this.depthCount,Wt+=k*D,Qt+=k*D,$.y+=k*D)),"regular"!=S&&"100%"!=S||(p=y?0<ae.value?(this.end+1-ft)*O+i+1e3*this.depthCount:(this.end+1-ft)*O-i+1e3*this.depthCount:0<ae.value?O*ft+i:O*ft-i),this.columnsArray.push({column:Zt,depth:p}),$.x=y?Lt+Tt/2:It+Tt/2,this.ownColumns.push(Zt),this.animateColumns(Zt,ft,Ut,Et,Dt,Rt),this.addListeners(Bt,$),void 0!==this.tabIndex&&Bt.setAttr("tabindex",this.tabIndex)),this.columnsSet.push(Bt))}break;case"candlestick":if(!isNaN(Yt)&&!isNaN($t)){var _e,xe;if(Nt=ee,null!=$.lineColor&&(Nt=$.lineColor),Gt=Ut,Qt=Wt=Dt,qt=Ut,y){if("open"==l&&(qt=Et),"high"==l&&(qt=zt),"low"==l&&(qt=Ft),Ut=t.fitToBounds(Ut,0,se),Et=t.fitToBounds(Et,0,se),Ft=t.fitToBounds(Ft,0,se),zt=t.fitToBounds(zt,0,se),0===Ut&&0===Et&&0===Ft&&0===zt)continue;if(Ut==se&&Et==se&&Ft==se&&zt==se)continue;var Pe,we;It=Et,(Lt=Dt-c/2)+(Tt=c)>m&&(Tt=m-Lt),0>Lt&&(Tt+=Lt,Lt=0),Lt<m&&0<Tt&&($t>Yt?(Pe=[Ut,zt],we=[Et,Ft]):(Pe=[Et,zt],we=[Ut,Ft]),!isNaN(zt)&&!isNaN(Ft)&&Dt<m&&0<Dt&&(_e=t.line(s,Pe,[Dt,Dt],Nt,R,E),xe=t.line(s,we,[Dt,Dt],Nt,R,E)),Zt=new t.Cuboid(s,At=Ut-Et,Tt,M,k,Jt,at,E,Nt,R,H,_,y,j,re,ie,A))}else{if("open"==l&&(Qt=Rt),"high"==l&&(Qt=Ht),"low"==l&&(Qt=jt),Dt=t.fitToBounds(Dt,0,oe),Rt=t.fitToBounds(Rt,0,oe),jt=t.fitToBounds(jt,0,oe),Ht=t.fitToBounds(Ht,0,oe),0===Dt&&0===Rt&&0===jt&&0===Ht)continue;if(Dt==oe&&Rt==oe&&jt==oe&&Ht==oe)continue;var Oe,Me;Lt=Rt+E/2,(It=Ut-c/2)+(Tt=c)>b&&(Tt=b-It),0>It&&(Tt+=It,It=0),At=Dt-Rt,It<b&&0<Tt&&(ne&&$t>=Yt&&(te=0),Zt=new t.Cuboid(s,Tt,At,M,k,Jt,te,E,Nt,R,H,_,y,j,re,ie,A),$t>Yt?(Oe=[Dt,Ht],Me=[Rt,jt]):(Oe=[Rt,Ht],Me=[Dt,jt]),!isNaN(Ht)&&!isNaN(jt)&&Ut<b&&0<Ut&&(_e=t.line(s,[Ut,Ut],Oe,Nt,R,E),xe=t.line(s,[Ut,Ut],Me,Nt,R,E),t.setCN(e,_e,this.bcn+"line-high"),$.className&&t.setCN(e,_e,$.className,!0),t.setCN(e,xe,this.bcn+"line-low"),$.className&&t.setCN(e,xe,$.className,!0)))}Zt&&($.columnGraphics=Bt=Zt.set,z.push(Bt),Bt.translate(It,Lt-E/2),($.url||this.showHandOnHover)&&Bt.setAttr("cursor","pointer"),_e&&(z.push(_e),z.push(xe)),T||($.x=y?Lt+Tt/2:It+Tt/2,this.animateColumns(Zt,ft,Ut,Et,Dt,Rt),this.addListeners(Bt,$),void 0!==this.tabIndex&&Bt.setAttr("tabindex",this.tabIndex)))}break;case"ohlc":if(!(isNaN(Yt)||isNaN(Kt)||isNaN(Xt)||isNaN($t))){var ke,Se,Ie,Le=s.set();if(z.push(Le),$t<Yt&&($.isNegative=!0,null!=rt&&(ee=rt)),null!=$.lineColor&&(ee=$.lineColor),y){if(Qt=Dt,qt=Ut,"open"==l&&(qt=Et),"high"==l&&(qt=zt),"low"==l&&(qt=Ft),Ft=t.fitToBounds(Ft,0,se),zt=t.fitToBounds(zt,0,se),0===Ut&&0===Et&&0===Ft&&0===zt)continue;if(Ut==se&&Et==se&&Ft==se&&zt==se)continue;var Te=t.fitToBounds(Te=Dt-c/2,0,m),Ae=t.fitToBounds(Dt,0,m),Ne=t.fitToBounds(Ne=Dt+c/2,0,m);0<=Et&&Et<=se&&(Se=t.line(s,[Et,Et],[Te,Ae],ee,R,E,j)),0<Dt&&Dt<m&&(ke=t.line(s,[Ft,zt],[Dt,Dt],ee,R,E,j)),0<=Ut&&Ut<=se&&(Ie=t.line(s,[Ut,Ut],[Ae,Ne],ee,R,E,j))}else{Qt=Dt,"open"==l&&(Qt=Rt),"high"==l&&(Qt=Ht),"low"==l&&(Qt=jt),qt=Ut,jt=t.fitToBounds(jt,0,oe),Ht=t.fitToBounds(Ht,0,oe);var Be=t.fitToBounds(Be=Ut-c/2,0,b),Ve=t.fitToBounds(Ut,0,b),Ue=t.fitToBounds(Ue=Ut+c/2,0,b);0<=Rt&&Rt<=oe&&(Se=t.line(s,[Be,Ve],[Rt,Rt],ee,R,E,j)),0<Ut&&Ut<b&&(ke=t.line(s,[Ut,Ut],[jt,Ht],ee,R,E,j)),0<=Dt&&Dt<=oe&&(Ie=t.line(s,[Ve,Ue],[Dt,Dt],ee,R,E,j))}z.push(Se),z.push(ke),z.push(Ie),t.setCN(e,Se,this.bcn+"stroke-open"),t.setCN(e,Ie,this.bcn+"stroke-close"),t.setCN(e,ke,this.bcn+"stroke"),$.className&&t.setCN(e,Le,$.className,!0),ke&&this.addListeners(ke,$),Ie&&this.addListeners(Ie,$),Se&&this.addListeners(Se,$),Gt=Ut,Wt=Dt}}if(!T&&!isNaN($t)){var De=this.hideBulletsCount;if(this.end-this.start<=De||0===De){var Ee=this.createBullet($,qt,Qt,ft),Re=this.labelText;if(Re&&!isNaN(Gt)&&!isNaN(Gt)){var Fe=this.createLabel($,Re),je=0;Ee&&(je=Ee.size),this.positionLabel($,Gt,Wt,Fe,je)}if("regular"==S||"100%"==S){var ze=r.totalText;if(ze){var He=this.createLabel($,ze,r.totalTextColor);if(t.setCN(e,He,this.bcn+"label-total"),this.allBullets.push(He),He){var Ge,We,qe=He.getBBox(),Qe=qe.width,$e=qe.height,Ke=r.totalTextOffset,Xe=r.totals[ft];Xe&&Xe.remove();var Ye=0;"column"!=a&&(Ye=this.bulletSize),y?(We=Wt,Ge=0>$t?Ut-Qe/2-2-Ye-Ke:Ut+Qe/2+3+Ye+Ke):(Ge=Gt,We=0>$t?Dt+$e/2+Ye+Ke:Dt-$e/2-3-Ye-Ke),He.translate(Ge,We),r.totals[ft]=He,y?(0>We||We>m)&&He.remove():(0>Ge||Ge>b)&&He.remove()}}}}}}}this.lastDataItem=$,"line"!=a&&"step"!=a&&"smoothedLine"!=a||("smoothedLine"==a?this.drawSmoothedGraph(P,w,mt,vt):this.drawLineGraph(P,w,mt,vt),T||this.launchAnimation()),this.bulletsHidden&&this.hideBullets(),this.customBulletsHidden&&this.hideCustomBullets()},animateColumns:function(t,e){var n=this,i=n.chart.startDuration;0<i&&!n.animationPlayed&&(n.seqAn?(t.set.hide(),n.animationArray.push(t),i=setTimeout((function(){n.animate.call(n)}),i/(n.end-n.start+1)*(e-n.start)*1e3),n.timeOuts.push(i)):n.animate(t),n.chart.animatable.push(t))},createLabel:function(e,n,i){var o=this.chart,s=e.labelColor;s||(s=this.color),s||(s=o.color),i&&(s=i),void 0===(i=this.fontSize)&&(this.fontSize=i=o.fontSize);var r=this.labelFunction;if(n=o.formatString(n,e),n=t.cleanFromEmpty(n),r&&(n=r(e,n)),void 0!==n&&""!==n)return(e=t.text(this.container,n,s,o.fontFamily,i)).node.style.pointerEvents="none",t.setCN(o,e,this.bcn+"label"),this.bulletSet.push(e),e},positiveClip:function(t){t.clipRect(this.pmx,this.pmy,this.pmw,this.pmh)},negativeClip:function(t){t.clipRect(this.nmx,this.nmy,this.nmw,this.nmh)},drawLineGraph:function(e,n,i,o){var s=this;if(1<e.length){var r=s.noRounding,a=s.set,c=s.chart,l=s.container,h=l.set(),d=l.set();a.push(d),a.push(h);var u=s.lineAlpha,g=s.lineThickness,p=(a=s.fillAlphas,s.lineColorR),f=s.negativeLineAlpha;isNaN(f)&&(f=u),(b=s.lineColorSwitched)&&(p=b);var b=s.fillColorsR;(v=s.fillColorsSwitched)&&(b=v);var m=s.dashLength;(v=s.dashLengthSwitched)&&(m=v);var v=s.negativeLineColor,y=s.negativeFillColors,C=s.negativeFillAlphas,_=s.baseCoord;0!==s.negativeBase&&((_=s.valueAxis.getCoordinate(s.negativeBase,r))>s.height&&(_=s.height),0>_&&(_=0)),(u=t.line(l,e,n,p,u,g,m,!1,!1,r)).node.setAttribute("stroke-linejoin","round"),t.setCN(c,u,s.bcn+"stroke"),h.push(u),h.click((function(t){s.handleGraphEvent(t,"clickGraph")})).mouseover((function(t){s.handleGraphEvent(t,"rollOverGraph")})).mouseout((function(t){s.handleGraphEvent(t,"rollOutGraph")})).touchmove((function(t){s.chart.handleMouseMove(t)})).touchend((function(t){s.chart.handleTouchEnd(t)})),void 0===v||s.useNegativeColorIfDown||((g=t.line(l,e,n,v,f,g,m,!1,!1,r)).node.setAttribute("stroke-linejoin","round"),t.setCN(c,g,s.bcn+"stroke"),t.setCN(c,g,s.bcn+"stroke-negative"),d.push(g)),(0<a||0<C)&&(g=e.join(";").split(";"),f=n.join(";").split(";"),"serial"==(u=c.type)||"radar"==u?0<i.length?(i.reverse(),o.reverse(),g=e.concat(i),f=n.concat(o)):"radar"==u?(f.push(0),g.push(0)):s.rotate?(f.push(f[f.length-1]),g.push(_),f.push(f[0]),g.push(_),f.push(f[0]),g.push(g[0])):(g.push(g[g.length-1]),f.push(_),g.push(g[0]),f.push(_),g.push(e[0]),f.push(f[0])):"xy"==u&&(n=s.fillToAxis)&&(t.isString(n)&&(n=c.getValueAxisById(n)),"H"==n.orientation?(_="top"==n.position?0:n.height,g.push(g[g.length-1]),f.push(_),g.push(g[0]),f.push(_),g.push(e[0]),f.push(f[0])):(_="left"==n.position?0:n.width,f.push(f[f.length-1]),g.push(_),f.push(f[0]),g.push(_),f.push(f[0]),g.push(g[0]))),e=s.gradientRotation,0<a&&((n=t.polygon(l,g,f,b,a,1,"#000",0,e,r)).pattern(s.pattern,NaN,c.path),t.setCN(c,n,s.bcn+"fill"),h.push(n),n.toBack()),(y||void 0!==v)&&(isNaN(C)&&(C=a),y||(y=v),r=t.polygon(l,g,f,y,C,1,"#000",0,e,r),t.setCN(c,r,s.bcn+"fill"),t.setCN(c,r,s.bcn+"fill-negative"),r.pattern(s.pattern,NaN,c.path),d.push(r),r.toBack(),d.click((function(t){s.handleGraphEvent(t,"clickGraph")})).mouseover((function(t){s.handleGraphEvent(t,"rollOverGraph")})).mouseout((function(t){s.handleGraphEvent(t,"rollOutGraph")})).touchmove((function(t){s.chart.handleMouseMove(t)})).touchend((function(t){s.chart.handleTouchEnd(t)})))),s.applyMask(d,h)}},applyMask:function(t,e){var n=t.length();"serial"!=this.chart.type||this.scrollbar||(this.positiveClip(e),0<n&&this.negativeClip(t))},drawSmoothedGraph:function(e,n,i,o){if(1<e.length){var s=this.set,r=this.chart,a=this.container,c=a.set(),l=a.set();s.push(l),s.push(c);var h=this.lineAlpha,d=this.lineThickness,u=(s=this.dashLength,this.fillAlphas),g=this.lineColorR,p=this.fillColorsR,f=this.negativeLineColor,b=this.negativeFillColors,m=this.negativeFillAlphas,v=this.baseCoord,y=this.lineColorSwitched;y&&(g=y),(y=this.fillColorsSwitched)&&(p=y);var C=this.negativeLineAlpha;isNaN(C)&&(C=h),y=this.getGradRotation(),h=new t.Bezier(a,e,n,g,h,d,p,0,s,void 0,y),t.setCN(r,h,this.bcn+"stroke"),c.push(h.path),void 0!==f&&(d=new t.Bezier(a,e,n,f,C,d,p,0,s,void 0,y),t.setCN(r,d,this.bcn+"stroke"),t.setCN(r,d,this.bcn+"stroke-negative"),l.push(d.path)),0<u&&(d=e.join(";").split(";"),h=n.join(";").split(";"),g="",0<i.length?(i.push("M"),o.push("M"),i.reverse(),o.reverse(),d=e.concat(i),h=n.concat(o)):(this.rotate?(g+=" L"+v+","+n[n.length-1],g+=" L"+v+","+n[0]):(g+=" L"+e[e.length-1]+","+v,g+=" L"+e[0]+","+v),g+=" L"+e[0]+","+n[0]),e=new t.Bezier(a,d,h,NaN,0,0,p,u,s,g,y),t.setCN(r,e,this.bcn+"fill"),e.path.pattern(this.pattern,NaN,r.path),c.push(e.path),b||void 0!==f)&&(m||(m=u),b||(b=f),(a=new t.Bezier(a,d,h,NaN,0,0,b,m,s,g,y)).path.pattern(this.pattern,NaN,r.path),t.setCN(r,a,this.bcn+"fill"),t.setCN(r,a,this.bcn+"fill-negative"),l.push(a.path)),this.applyMask(l,c)}},launchAnimation:function(){var e=this,n=e.chart.startDuration;if(0<n&&!e.animationPlayed){var i=e.set,o=e.bulletSet;t.VML||(i.attr({opacity:e.startAlpha}),o.attr({opacity:e.startAlpha})),i.hide(),o.hide(),e.seqAn?(n=setTimeout((function(){e.animateGraphs.call(e)}),e.index*n*1e3),e.timeOuts.push(n)):e.animateGraphs()}},animateGraphs:function(){var t=this.chart,e=this.set,n=this.bulletSet,i=this.x,o=this.y;e.show(),n.show();var s=t.startDuration,r=t.startEffect;e&&(this.rotate?(e.translate(-1e3,o),n.translate(-1e3,o)):(e.translate(i,-1e3),n.translate(i,-1e3)),e.animate({opacity:1,translate:i+","+o},s,r),n.animate({opacity:1,translate:i+","+o},s,r),t.animatable.push(e))},animate:function(e){var n=this.chart,i=this.animationArray;!e&&0<i.length&&(e=i[0],i.shift()),i=t[t.getEffect(n.startEffect)],n=n.startDuration,e&&(this.rotate?e.animateWidth(n,i):e.animateHeight(n,i),e.set.show())},legendKeyColor:function(){var t=this.legendColor,e=this.lineAlpha;return void 0===t&&(t=this.lineColorR,0===e&&(e=this.fillColorsR)&&(t="object"==typeof e?e[0]:e)),t},legendKeyAlpha:function(){var t=this.legendAlpha;return void 0===t&&(this.fillAlphas>(t=this.lineAlpha)&&(t=this.fillAlphas),0===t&&(t=this.bulletAlpha),0===t&&(t=1)),t},createBullet:function(e,n,i){if(!isNaN(n)&&!isNaN(i)&&("none"!=this.bullet||this.customBullet||e.bullet||e.customBullet)){var o=this.chart,s=this.container,r=this.bulletOffset,a=this.bulletSize;isNaN(e.bulletSize)||(a=e.bulletSize);var c,l=e.values.value,h=this.maxValue,d=this.minValue,u=this.maxBulletSize,g=this.minBulletSize;isNaN(h)||(isNaN(l)||(a=(l-d)/(h-d)*(u-g)+g),d==h&&(a=u)),h=a,this.bulletAxis&&(a=e.values.error,isNaN(a)||(l=a),a=this.bulletAxis.stepWidth*l),a<this.minBulletSize&&(a=this.minBulletSize),this.rotate?n=e.isNegative?n-r:n+r:i=e.isNegative?i+r:i-r,g=this.bulletColorR,e.lineColor&&void 0===this.bulletColor&&(this.bulletColorSwitched=e.lineColor),this.bulletColorSwitched&&(g=this.bulletColorSwitched),e.isNegative&&void 0!==this.bulletColorNegative&&(g=this.bulletColorNegative),void 0!==e.color&&(g=e.color),"xy"==o.type&&this.valueField&&(c=this.pattern,e.pattern&&(c=e.pattern)),r=this.bullet,e.bullet&&(r=e.bullet),l=this.bulletBorderThickness,u=this.bulletBorderAlpha;var p=this.bulletAlpha;(d=this.bulletBorderColorR)||(d=g),this.useLineColorForBulletBorder&&(d=this.lineColorR,e.isNegative&&this.negativeLineColor&&(d=this.negativeLineColor),this.lineColorSwitched&&(d=this.lineColorSwitched));var f=e.alpha;return isNaN(f)||(p=f),c=t.bullet(s,r,a,g,p,l,d,u,h,0,c,o.path),h=this.customBullet,e.customBullet&&(h=e.customBullet),h&&(c&&c.remove(),"function"==typeof h?((h=new h).chart=o,e.bulletConfig&&(h.availableSpace=i,h.graph=this,h.graphDataItem=e,h.bulletY=i,e.bulletConfig.minCoord=this.minCoord-i,h.bulletConfig=e.bulletConfig),h.write(s),c&&h.showBullet&&h.set.push(c),e.customBulletGraphics=h.cset,c=h.set):(c=s.set(),h=s.image(h,0,0,a,a),c.push(h),this.centerCustomBullets&&h.translate(-a/2,-a/2))),c&&((e.url||this.showHandOnHover)&&c.setAttr("cursor","pointer"),"serial"!=o.type&&"gantt"!=o.type||(-.5>n||n>this.width||i<-a/2||i>this.height)&&(c.remove(),c=null),c&&(this.bulletSet.push(c),c.translate(n,i),this.addListeners(c,e),this.allBullets.push(c)),e.bx=n,e.by=i,t.setCN(o,c,this.bcn+"bullet"),e.className&&t.setCN(o,c,e.className,!0)),c?(c.size=a||0,(o=this.bulletHitAreaSize)&&((s=t.circle(s,o,"#FFFFFF",.001,0)).translate(n,i),e.hitBullet=s,this.bulletSet.push(s),this.addListeners(s,e)),e.bulletGraphics=c,void 0!==this.tabIndex&&c.setAttr("tabindex",this.tabIndex)):c={size:0},c.graphDataItem=e,c}},showBullets:function(){var t,e=this.allBullets;for(this.bulletsHidden=!1,t=0;t<e.length;t++)e[t].show()},hideBullets:function(){var t,e=this.allBullets;for(this.bulletsHidden=!0,t=0;t<e.length;t++)e[t].hide()},showCustomBullets:function(){var t,e=this.allBullets;for(this.customBulletsHidden=!1,t=0;t<e.length;t++){var n=e[t].graphDataItem;n&&n.customBulletGraphics&&n.customBulletGraphics.show()}},hideCustomBullets:function(){var t,e=this.allBullets;for(this.customBulletsHidden=!0,t=0;t<e.length;t++){var n=e[t].graphDataItem;n&&n.customBulletGraphics&&n.customBulletGraphics.hide()}},addListeners:function(t,e){var n=this;t.mouseover((function(t){n.handleRollOver(e,t)})).mouseout((function(t){n.handleRollOut(e,t)})).touchend((function(t){n.handleRollOver(e,t),n.chart.panEventsEnabled&&n.handleClick(e,t)})).touchstart((function(t){n.handleRollOver(e,t)})).click((function(t){n.handleClick(e,t)})).dblclick((function(t){n.handleDoubleClick(e,t)})).contextmenu((function(t){n.handleRightClick(e,t)}));var i=n.chart;if(i.accessible&&n.accessibleLabel){var o=i.formatString(n.accessibleLabel,e);i.makeAccessible(t,o)}},handleRollOver:function(t,e){if(this.handleGraphEvent(e,"rollOverGraph"),t){var n=this.chart;t.bulletConfig&&(n.isRolledOverBullet=!0);var i={type:"rollOverGraphItem",item:t,index:t.index,graph:this,target:this,chart:this.chart,event:e};this.fire(i),n.fire(i),clearTimeout(n.hoverInt),(n=n.chartCursor)&&n.valueBalloonsEnabled||this.showGraphBalloon(t,"V",!0)}},handleRollOut:function(t,e){var n=this.chart;if(t){var i={type:"rollOutGraphItem",item:t,index:t.index,graph:this,target:this,chart:this.chart,event:e};this.fire(i),n.fire(i),n.isRolledOverBullet=!1}this.handleGraphEvent(e,"rollOutGraph"),(n=n.chartCursor)&&n.valueBalloonsEnabled||this.hideBalloon()},handleClick:function(e,n){if(!this.chart.checkTouchMoved()&&this.chart.checkTouchDuration(n)){if(e){var i={type:"clickGraphItem",item:e,index:e.index,graph:this,target:this,chart:this.chart,event:n};this.fire(i),this.chart.fire(i),t.getURL(e.url,this.urlTarget)}this.handleGraphEvent(n,"clickGraph")}},handleGraphEvent:function(t,e){var n={type:e,graph:this,target:this,chart:this.chart,event:t};this.fire(n),this.chart.fire(n)},handleRightClick:function(t,e){if(t){var n={type:"rightClickGraphItem",item:t,index:t.index,graph:this,target:this,chart:this.chart,event:e};this.fire(n),this.chart.fire(n)}},handleDoubleClick:function(t,e){if(t){var n={type:"doubleClickGraphItem",item:t,index:t.index,graph:this,target:this,chart:this.chart,event:e};this.fire(n),this.chart.fire(n)}},zoom:function(t,e){this.start=t,this.end=e,this.draw()},changeOpacity:function(t){var e,n=this.set;if(n&&n.setAttr("opacity",t),n=this.ownColumns)for(e=0;e<n.length;e++){var i=n[e].set;i&&i.setAttr("opacity",t)}(n=this.bulletSet)&&n.setAttr("opacity",t)},destroy:function(){t.remove(this.set),t.remove(this.bulletSet);var e,n=this.timeOuts;if(n)for(e=0;e<n.length;e++)clearTimeout(n[e]);this.timeOuts=[]},createBalloon:function(){var e=this.chart;this.balloon?this.balloon.destroy&&this.balloon.destroy():this.balloon={};var n=this.balloon;t.extend(n,e.balloon,!0),n.chart=e,n.mainSet=e.plotBalloonsSet,n.className=this.id},hideBalloon:function(){var t=this,e=t.chart;e.chartCursor&&e.chartCursor.valueBalloonsEnabled||e.hideBalloon(),clearTimeout(t.hoverInt),t.hoverInt=setTimeout((function(){t.hideBalloonReal.call(t)}),e.hideBalloonTime)},hideBalloonReal:function(){this.balloon&&this.balloon.hide(),this.fixBulletSize()},fixBulletSize:function(){if(t.isModern){var e=this.resizedDItem;if(e){var n=e.bulletGraphics;if(n&&!n.doNotScale){n.translate(e.bx,e.by,1);var i=this.bulletAlpha;isNaN(e.alpha)||(i=e.alpha),n.setAttr("fill-opacity",i),n.setAttr("stroke-opacity",this.bulletBorderAlpha)}}this.resizedDItem=null}},showGraphBalloon:function(e,n,i,o,s){if(e){var r=this.chart,a=this.balloon,c=0,l=0,h=!0;if((d=r.chartCursor)&&d.valueBalloonsEnabled||(a=r.balloon,c=this.x,l=this.y,h=!1),clearTimeout(this.hoverInt),r.chartCursor&&(this.currentDataItem=e,"serial"==r.type&&r.isRolledOverBullet&&r.chartCursor.valueBalloonsEnabled))return void this.hideBalloonReal();if(this.resizeBullet(e,o,s),a&&a.enabled&&this.showBalloon&&!this.hidden){var d=r.formatString(this.balloonText,e,!0),u=this.balloonFunction;u&&(d=u(e,e.graph)),d&&(d=t.cleanFromEmpty(d)),d&&""!==d?(o=r.getBalloonColor(this,e),a.drop||(a.pointerOrientation=n),n=e.x,s=e.y,r.rotate&&(n=e.y,s=e.x),n+=c,s+=l,isNaN(n)||isNaN(s)?this.hideBalloonReal():(e=this.width,u=this.height,h&&a.setBounds(c,l,e+c,u+l),a.changeColor(o),a.setPosition(n,s),a.fixPrevious(),a.fixedPosition&&(i=!1),!i&&"radar"!=r.type&&(n<c-.5||n>e+c||s<l-.5||s>u+l)?(a.showBalloon(d),a.hide(0)):(a.followCursor(i),a.showBalloon(d)))):(this.hideBalloonReal(),a.hide(),this.resizeBullet(e,o,s))}else this.hideBalloonReal()}},resizeBullet:function(e,n,i){if(this.fixBulletSize(),e&&t.isModern&&(1!=n||!isNaN(i))){var o=e.bulletGraphics;o&&!o.doNotScale&&(o.translate(e.bx,e.by,n),isNaN(i)||(o.setAttr("fill-opacity",i),o.setAttr("stroke-opacity",i)),this.resizedDItem=e)}}})}(),function(){var t=window.AmCharts;t.ChartCursor=t.Class({construct:function(e){this.cname="ChartCursor",this.createEvents("changed","zoomed","onHideCursor","onShowCursor","draw","selected","moved","panning","zoomStarted"),this.enabled=!0,this.cursorAlpha=1,this.selectionAlpha=.2,this.cursorColor="#CC0000",this.categoryBalloonAlpha=1,this.color="#FFFFFF",this.type="cursor",this.zoomed=!1,this.zoomable=!0,this.pan=!1,this.categoryBalloonDateFormat="MMM DD, YYYY",this.categoryBalloonText="[[category]]",this.categoryBalloonEnabled=this.valueBalloonsEnabled=!0,this.rolledOver=!1,this.cursorPosition="middle",this.bulletsEnabled=this.skipZoomDispatch=!1,this.bulletSize=8,this.selectWithoutZooming=this.oneBalloonOnly=!1,this.graphBulletSize=1.7,this.animationDuration=.3,this.zooming=!1,this.adjustment=0,this.avoidBalloonOverlapping=!0,this.leaveCursor=!1,this.leaveAfterTouch=!0,this.valueZoomable=!1,this.balloonPointerOrientation="horizontal",this.hLineEnabled=this.vLineEnabled=!0,this.vZoomEnabled=this.hZoomEnabled=!1,t.applyTheme(this,e,this.cname)},draw:function(){this.destroy();var e=this.chart;e.panRequired=!0;var n=e.container;this.rotate=e.rotate,this.container=n,this.prevLineHeight=this.prevLineWidth=NaN,(n=n.set()).translate(this.x,this.y),this.set=n,e.cursorSet.push(n),this.createElements(),t.isString(this.limitToGraph)&&(this.limitToGraph=t.getObjById(e.graphs,this.limitToGraph),this.fullWidth=!1,this.cursorPosition="middle"),this.pointer=this.balloonPointerOrientation.substr(0,1).toUpperCase(),this.isHidden=!1,this.hideLines(),this.valueLineAxis||(this.valueLineAxis=e.valueAxes[0])},createElements:function(){var e,n,i=this,o=i.chart,s=o.dx,r=o.dy,a=i.width,c=i.height,l=i.cursorAlpha,h=i.valueLineAlpha;i.rotate?(e=h,n=l):(n=h,e=l),"xy"==o.type&&(n=l,void 0!==h&&(n=h),e=l),i.vvLine=t.line(i.container,[s,0,0],[r,0,c],i.cursorColor,e,1),t.setCN(o,i.vvLine,"cursor-line"),t.setCN(o,i.vvLine,"cursor-line-vertical"),i.hhLine=t.line(i.container,[0,a,a+s],[0,0,r],i.cursorColor,n,1),t.setCN(o,i.hhLine,"cursor-line"),t.setCN(o,i.hhLine,"cursor-line-horizontal"),i.vLine=i.rotate?i.vvLine:i.hhLine,i.set.push(i.vvLine),i.set.push(i.hhLine),i.set.node.style.pointerEvents="none",i.fullLines=i.container.set(),(o=o.cursorLineSet).push(i.fullLines),o.translate(i.x,i.y),o.clipRect(-1,-1,a+2,c+2),void 0!==i.tabIndex&&(o.setAttr("tabindex",i.tabIndex),o.keyup((function(t){i.handleKeys(t)})).focus((function(t){i.showCursor()})).blur((function(t){i.hideCursor()}))),i.set.clipRect(0,0,a,c)},handleKeys:function(e){var n=this.prevIndex,i=this.chart;if(i){var o=i.chartData;o&&(isNaN(n)&&(n=o.length-1),37!=e.keyCode&&40!=e.keyCode||n--,39!=e.keyCode&&38!=e.keyCode||n++,n=t.fitToBounds(n,i.startIndex,i.endIndex),(e=this.chart.chartData[n])&&this.setPosition(e.x.categoryAxis),this.prevIndex=n)}},update:function(){var t=this.chart;if(t){var e,n=t.mouseX-this.x,i=t.mouseY-this.y;if(this.mouseX=n,this.mouseY=i,this.mouse2X=t.mouse2X-this.x,this.mouse2Y=t.mouse2Y-this.y,t.chartData&&0<t.chartData.length){if(this.mouseIsOver()?(this.hideGraphBalloons=!1,this.rolledOver=e=!0,this.updateDrawing(),this.vvLine&&isNaN(this.fx)&&(t.rotate||!this.limitToGraph)&&this.vvLine.translate(n,0),!this.hhLine||!isNaN(this.fy)||t.rotate&&this.limitToGraph||this.hhLine.translate(0,i),isNaN(this.mouse2X)?this.dispatchMovedEvent(n,i):e=!1):this.forceShow||this.hideCursor(),this.zooming){if(!isNaN(this.mouse2X))return void(isNaN(this.mouse2X0)||this.dispatchPanEvent());if(this.pan)return void this.dispatchPanEvent();(this.hZoomEnabled||this.vZoomEnabled)&&this.zooming&&this.updateSelection()}e&&this.showCursor()}}},updateDrawing:function(){if(this.drawing&&this.chart.setMouseCursor("crosshair"),this.drawingNow&&(t.remove(this.drawingLine),1<Math.abs(this.drawStartX-this.mouseX)||1<Math.abs(this.drawStartY-this.mouseY))){var e,n=(e=this.chart).marginTop;this.drawingLine=t.line(this.container,[this.drawStartX+(e=e.marginLeft),this.mouseX+e],[this.drawStartY+n,this.mouseY+n],this.cursorColor,1,1)}},fixWidth:function(e){if(this.fullWidth&&this.prevLineWidth!=e){var n=this.vvLine,i=0;n&&(n.remove(),i=n.x),(n=this.container.set()).translate(i,0),i=t.rect(this.container,e,this.height,this.cursorColor,this.cursorAlpha,this.cursorAlpha,this.cursorColor),t.setCN(this.chart,i,"cursor-fill"),i.translate(-e/2-1,0),n.push(i),this.vvLine=n,this.fullLines.push(n),this.prevLineWidth=e}},fixHeight:function(e){if(this.fullWidth&&this.prevLineHeight!=e){var n=this.hhLine,i=0;n&&(n.remove(),i=n.y),(n=this.container.set()).translate(0,i),(i=t.rect(this.container,this.width,e,this.cursorColor,this.cursorAlpha)).translate(0,-e/2),n.push(i),this.fullLines.push(n),this.hhLine=n,this.prevLineHeight=e}},fixVLine:function(t,e){if(!isNaN(t)&&this.vvLine){if(isNaN(this.prevLineX)){var n=0,i=this.mouseX;if(this.limitToGraph){var o=this.chart.categoryAxis;o&&(this.chart.rotate||(n="bottom"==o.position?this.height:-this.height),i=t)}this.vvLine.translate(i,n)}else this.prevLineX!=t&&this.vvLine.translate(this.prevLineX,this.prevLineY);this.fx=t,this.prevLineX!=t&&(n=this.animationDuration,this.zooming&&(n=0),this.vvLine.stop(),this.vvLine.animate({translate:t+","+e},n,"easeOutSine"),this.prevLineX=t,this.prevLineY=e)}},fixHLine:function(t,e){if(!isNaN(t)&&this.hhLine){if(isNaN(this.prevLineY)){var n=0,i=this.mouseY;if(this.limitToGraph){var o=this.chart.categoryAxis;o&&(this.chart.rotate&&(n="right"==o.position?this.width:-this.width),i=t)}this.hhLine.translate(n,i)}else this.prevLineY!=t&&this.hhLine.translate(this.prevLineX,this.prevLineY);this.fy=t,this.prevLineY!=t&&(n=this.animationDuration,this.zooming&&(n=0),this.hhLine.stop(),this.hhLine.animate({translate:e+","+t},n,"easeOutSine"),this.prevLineY=t,this.prevLineX=e)}},hideCursor:function(t){this.forceShow=!1,this.chart.wasTouched&&this.leaveAfterTouch||this.isHidden||this.leaveCursor||(this.hideCursorReal(),t?this.chart.handleCursorHide():this.fire({target:this,chart:this.chart,type:"onHideCursor"}),this.chart.setMouseCursor("auto"))},hideCursorReal:function(){this.hideLines(),this.isHidden=!0,this.index=this.prevLineY=this.prevLineX=this.mouseY0=this.mouseX0=this.fy=this.fx=NaN},hideLines:function(){this.vvLine&&this.vvLine.hide(),this.hhLine&&this.hhLine.hide(),this.fullLines&&this.fullLines.hide(),this.isHidden=!0,this.chart.handleCursorHide()},showCursor:function(t){!this.drawing&&this.enabled&&(this.vLineEnabled&&this.vvLine&&this.vvLine.show(),this.hLineEnabled&&this.hhLine&&this.hhLine.show(),this.isHidden=!1,this.updateFullLine(),t||this.fire({target:this,chart:this.chart,type:"onShowCursor"}),this.pan&&this.chart.setMouseCursor("move"))},updateFullLine:function(){this.zooming&&this.fullWidth&&this.selection&&(this.rotate?0<this.selection.height&&this.hhLine.hide():0<this.selection.width&&this.vvLine.hide())},updateSelection:function(){if(!this.pan&&this.enabled){var e=this.mouseX,n=this.mouseY;isNaN(this.fx)||(e=this.fx),isNaN(this.fy)||(n=this.fy),this.clearSelection();var i,o=this.mouseX0,s=this.mouseY0,r=this.width,a=this.height;(e=t.fitToBounds(e,0,r))<o&&(i=e,e=o,o=i),(n=t.fitToBounds(n,0,a))<s&&(i=n,n=s,s=i),this.hZoomEnabled?r=e-o:o=0,this.vZoomEnabled?a=n-s:s=0,isNaN(this.mouse2X)&&0<Math.abs(r)&&0<Math.abs(a)&&(e=this.chart,n=t.rect(this.container,r,a,this.cursorColor,this.selectionAlpha),t.setCN(e,n,"cursor-selection"),n.width=r,n.height=a,n.translate(o,s),this.set.push(n),this.selection=n),this.updateFullLine()}},mouseIsOver:function(){var t=this.mouseX,e=this.mouseY;return this.justReleased?(this.justReleased=!1,!0):!!this.mouseIsDown||this.chart.mouseIsOver&&0<t&&t<this.width&&0<e&&e<this.height||(this.handleMouseOut(),!1)},fixPosition:function(){this.prevY=this.prevX=NaN},handleMouseDown:function(){if(this.update(),this.mouseIsOver())if(this.mouseIsDown=!0,this.mouseX0=this.mouseX,this.mouseY0=this.mouseY,this.mouse2X0=this.mouse2X,this.mouse2Y0=this.mouse2Y,this.drawing)this.drawStartY=this.mouseY,this.drawStartX=this.mouseX,this.drawingNow=!0;else if(this.dispatchMovedEvent(this.mouseX,this.mouseY),!this.pan&&isNaN(this.mouse2X0)&&(isNaN(this.fx)||(this.mouseX0=this.fx),isNaN(this.fy)||(this.mouseY0=this.fy)),this.hZoomEnabled||this.vZoomEnabled){this.zooming=!0;var t={chart:this.chart,target:this,type:"zoomStarted"};t.x=this.mouseX/this.width,t.y=this.mouseY/this.height,this.index0=t.index=this.index,this.timestamp0=this.timestamp,this.fire(t)}},registerInitialMouse:function(){},handleReleaseOutside:function(){if(this.mouseIsDown=!1,this.drawingNow){this.drawingNow=!1,t.remove(this.drawingLine);var e=this.drawStartX,n=this.drawStartY,i=this.mouseX,o=this.mouseY,s=this.chart;(2<Math.abs(e-i)||2<Math.abs(n-o))&&this.fire({type:"draw",target:this,chart:s,initialX:e,initialY:n,finalX:i,finalY:o})}this.zooming&&(this.zooming=!1,this.selectWithoutZooming?this.dispatchZoomEvent("selected"):(this.hZoomEnabled||this.vZoomEnabled)&&this.dispatchZoomEvent("zoomed"),this.rolledOver&&this.dispatchMovedEvent(this.mouseX,this.mouseY)),this.mouse2Y0=this.mouse2X0=this.mouseY0=this.mouseX0=NaN},dispatchZoomEvent:function(t){if(!this.pan&&(l=this.selection)&&3<Math.abs(l.width)&&3<Math.abs(l.height)){var e=Math.min(this.index,this.index0),n=Math.max(this.index,this.index0),i=e,o=n,s=this.chart,r=s.chartData,a=s.categoryAxis;a&&a.parseDates&&!a.equalSpacing&&(i=r[e]?r[e].time:Math.min(this.timestamp0,this.timestamp),o=r[n]?s.getEndTime(r[n].time):Math.max(this.timestamp0,this.timestamp));var c,l={type:t,chart:this.chart,target:this,end:o,start:i,startIndex:e,endIndex:n,selectionHeight:l.height,selectionWidth:l.width,selectionY:l.y,selectionX:l.x};this.hZoomEnabled&&4<Math.abs(this.mouseX0-this.mouseX)&&(l.startX=this.mouseX0/this.width,l.endX=this.mouseX/this.width,c=!0),this.vZoomEnabled&&4<Math.abs(this.mouseY0-this.mouseY)&&(l.startY=1-this.mouseY0/this.height,l.endY=1-this.mouseY/this.height,c=!0),c&&(this.prevY=this.prevX=NaN,this.fire(l),"selected"!=t&&this.clearSelection()),this.hideCursor()}},dispatchMovedEvent:function(t,e,n,i){if(t=Math.round(t),e=Math.round(e),!this.isHidden&&(t!=this.prevX||e!=this.prevY||"changed"==n)){n||(n="moved");var o=this.fx,s=this.fy;isNaN(o)&&(o=t),isNaN(s)&&(s=e);var r=!1;this.zooming&&this.pan&&(r=!0),r={hidden:this.isHidden,type:n,chart:this.chart,target:this,x:t,y:e,finalX:o,finalY:s,zooming:this.zooming,panning:r,mostCloseGraph:this.mostCloseGraph,index:this.index,skip:i,hideBalloons:this.hideGraphBalloons},this.prevIndex=this.index,this.rotate?(r.position=e,r.finalPosition=s):(r.position=t,r.finalPosition=o),this.prevX=t,this.prevY=e,i?this.chart.handleCursorMove(r):(this.fire(r),"changed"==n&&this.chart.fire(r))}},dispatchPanEvent:function(){if(this.mouseIsDown){var e=t.roundTo((this.mouseX-this.mouseX0)/this.width,3),n=t.roundTo((this.mouseY-this.mouseY0)/this.height,3),i=t.roundTo((this.mouse2X-this.mouse2X0)/this.width,3),o=t.roundTo((this.mouse2Y-this.mouse2Y0)/this.height,2),s=!1;0!==Math.abs(e)&&0!==Math.abs(n)&&(s=!0),this.prevDeltaX!=e&&this.prevDeltaY!=n||(s=!1),isNaN(i)||isNaN(o)||(0!==Math.abs(i)&&0!==Math.abs(o)&&(s=!0),this.prevDelta2X!=i&&this.prevDelta2Y!=o)||(s=!1),s&&(this.hideLines(),this.fire({type:"panning",chart:this.chart,target:this,deltaX:e,deltaY:n,delta2X:i,delta2Y:o,index:this.index}),this.prevDeltaX=e,this.prevDeltaY=n,this.prevDelta2X=i,this.prevDelta2Y=o)}},clearSelection:function(){var t=this.selection;t&&(t.width=0,t.height=0,t.remove())},destroy:function(){this.clear(),t.remove(this.selection),this.selection=null,clearTimeout(this.syncTO),t.remove(this.set)},clear:function(){},setTimestamp:function(t){this.timestamp=t},setIndex:function(t,e){t!=this.index&&(this.index=t,e||this.isHidden||this.dispatchMovedEvent(this.mouseX,this.mouseY,"changed"))},handleMouseOut:function(){this.enabled&&this.rolledOver&&(this.leaveCursor||this.setIndex(void 0),this.forceShow=!1,this.hideCursor(),this.rolledOver=!1)},showCursorAt:function(t){var e=this.chart.categoryAxis;e&&this.setPosition(e.categoryToCoordinate(t),t)},setPosition:function(t,e){var n,i,o=this.chart,s=o.categoryAxis;s&&(void 0===e&&(e=s.coordinateToValue(t)),s.showBalloonAt(e,t),this.forceShow=!0,s.stickBalloonToCategory?o.rotate?this.fixHLine(t,0):this.fixVLine(t,0):(this.showCursor(),o.rotate?this.hhLine.translate(0,t):this.vvLine.translate(t,0)),o.rotate?n=t:i=t,o.rotate?(this.vvLine&&this.vvLine.hide(),this.hhLine&&this.hhLine.show()):(this.hhLine&&this.hhLine.hide(),this.vvLine&&this.vvLine.show()),this.updateFullLine(),this.isHidden=!1,this.dispatchMovedEvent(i,n,"moved",!0))},enableDrawing:function(t){this.enabled=!t,this.hideCursor(),this.drawing=t},syncWithCursor:function(t,e){clearTimeout(this.syncTO),t&&(t.isHidden?this.hideCursor(!0):this.syncWithCursorReal(t,e))},isZooming:function(t){this.zooming=t},syncWithCursorReal:function(t,e){var n=t.vvLine,i=t.hhLine;this.index=t.index,this.forceShow=!0,this.zooming&&this.pan||this.showCursor(!0),this.hideGraphBalloons=e,this.justReleased=t.justReleased,this.zooming=t.zooming,this.index0=t.index0,this.mouseX0=t.mouseX0,this.mouseY0=t.mouseY0,this.mouse2X0=t.mouse2X0,this.mouse2Y0=t.mouse2Y0,this.timestamp0=t.timestamp0,this.prevDeltaX=t.prevDeltaX,this.prevDeltaY=t.prevDeltaY,this.prevDelta2X=t.prevDelta2X,this.prevDelta2Y=t.prevDelta2Y,this.fx=t.fx,this.fy=t.fy,t.zooming&&this.updateSelection();var o=t.mouseX,s=t.mouseY;this.rotate?(o=NaN,this.vvLine&&this.vvLine.hide(),this.hhLine&&i&&(isNaN(t.fy)?this.hhLine.translate(0,t.mouseY):this.fixHLine(t.fy,0))):(s=NaN,this.hhLine&&this.hhLine.hide(),this.vvLine&&n&&(isNaN(t.fx)?this.vvLine.translate(t.mouseX,0):this.fixVLine(t.fx,0))),this.dispatchMovedEvent(o,s,"moved",!0)}})}(),function(){var t=window.AmCharts;t.SimpleChartScrollbar=t.Class({construct:function(e){this.createEvents("zoomed","zoomStarted","zoomEnded"),this.backgroundColor="#D4D4D4",this.backgroundAlpha=1,this.selectedBackgroundColor="#EFEFEF",this.scrollDuration=this.selectedBackgroundAlpha=1,this.resizeEnabled=!0,this.hideResizeGrips=!1,this.scrollbarHeight=20,this.updateOnReleaseOnly=!1,9>document.documentMode&&(this.updateOnReleaseOnly=!0),this.dragIconHeight=this.dragIconWidth=35,this.dragIcon="dragIconRoundBig",this.dragCursorHover="cursor: move; cursor: grab; cursor: -moz-grab; cursor: -webkit-grab;",this.dragCursorDown="cursor: move; cursor: grab; cursor: -moz-grabbing; cursor: -webkit-grabbing;",this.vResizeCursor="ns-resize",this.hResizeCursor="ew-resize",this.enabled=!0,this.percentStart=this.offset=0,this.percentEnd=1,t.applyTheme(this,e,"SimpleChartScrollbar")},getPercents:function(){var t=(i=this.getDBox()).x,e=i.y,n=i.width,i=i.height;this.rotate?(t=1-e/this.height,e=1-(e+i)/this.height):(e=t/this.width,t=(t+n)/this.width),this.percentStart=e,this.percentEnd=t},draw:function(){var e=this;if(e.destroy(),e.enabled){var n=e.chart.container,i=e.rotate,o=e.chart;o.panRequired=!0;var s,r,a=n.set();if(e.set=a,t.setCN(o,a,i?"scrollbar-vertical":"scrollbar-horizontal"),o.scrollbarsSet.push(a),i?(s=e.scrollbarHeight,r=o.plotAreaHeight):(r=e.scrollbarHeight,s=o.plotAreaWidth),e.width=s,(e.height=r)&&s){var c,l=t.rect(n,s,r,e.backgroundColor,e.backgroundAlpha,1,e.backgroundColor,e.backgroundAlpha);t.setCN(o,l,"scrollbar-bg"),e.bg=l,a.push(l),l=t.rect(n,s,r,"#000",.005),a.push(l),e.invisibleBg=l,l.click((function(){e.handleBgClick()})).mouseover((function(){e.handleMouseOver()})).mouseout((function(){e.handleMouseOut()})).touchend((function(){e.handleBgClick()})),l=t.rect(n,s,r,e.selectedBackgroundColor,e.selectedBackgroundAlpha),t.setCN(o,l,"scrollbar-bg-selected"),e.selectedBG=l,a.push(l),s=t.rect(n,s,r,"#000",.005),e.dragger=s,a.push(s),s.mousedown((function(t){e.handleDragStart(t)})).mouseup((function(){e.handleDragStop()})).mouseover((function(){e.handleDraggerOver()})).mouseout((function(){e.handleMouseOut()})).touchstart((function(t){e.handleDragStart(t)})).touchend((function(){e.handleDragStop()})),r=o.pathToImages,l=e.dragIcon.replace(/\.[a-z]*$/i,""),t.isAbsolute(l)&&(r=""),i?(c=r+l+"H"+o.extension,r=e.dragIconWidth,i=e.dragIconHeight):(c=r+l+o.extension,i=e.dragIconWidth,r=e.dragIconHeight),l=n.image(c,0,0,i,r),t.setCN(o,l,"scrollbar-grip-left"),c=n.image(c,0,0,i,r),t.setCN(o,c,"scrollbar-grip-right");var h=10,d=20;o.panEventsEnabled&&(h=25,d=e.scrollbarHeight);var u=t.rect(n,h,d,"#000",.005),g=t.rect(n,h,d,"#000",.005);g.translate(-(h-i)/2,-(d-r)/2),u.translate(-(h-i)/2,-(d-r)/2),i=n.set([l,g]),n=n.set([c,u]),e.iconLeft=i,a.push(e.iconLeft),e.iconRight=n,a.push(n),e.updateGripCursor(!1),o.makeAccessible(i,e.accessibleLabel),o.makeAccessible(n,e.accessibleLabel),o.makeAccessible(s,e.accessibleLabel),i.setAttr("role","menuitem"),n.setAttr("role","menuitem"),s.setAttr("role","menuitem"),void 0!==e.tabIndex&&(i.setAttr("tabindex",e.tabIndex),i.keyup((function(t){e.handleKeys(t,1,0)}))),void 0!==e.tabIndex&&(s.setAttr("tabindex",e.tabIndex),s.keyup((function(t){e.handleKeys(t,1,1)}))),void 0!==e.tabIndex&&(n.setAttr("tabindex",e.tabIndex),n.keyup((function(t){e.handleKeys(t,0,1)}))),i.mousedown((function(){e.leftDragStart()})).mouseup((function(){e.leftDragStop()})).mouseover((function(){e.iconRollOver()})).mouseout((function(){e.iconRollOut()})).touchstart((function(){e.leftDragStart()})).touchend((function(){e.leftDragStop()})),n.mousedown((function(){e.rightDragStart()})).mouseup((function(){e.rightDragStop()})).mouseover((function(){e.iconRollOver()})).mouseout((function(){e.iconRollOut()})).touchstart((function(){e.rightDragStart()})).touchend((function(){e.rightDragStop()})),t.ifArray(o.chartData)?a.show():a.hide(),e.hideDragIcons(),e.clipDragger(!1)}a.translate(e.x,e.y),a.node.style.msTouchAction="none",a.node.style.touchAction="none"}},handleKeys:function(t,e,n){this.getPercents();var i=this.percentStart,o=this.percentEnd;if(this.rotate){var s=o;o=i,i=s}37!=t.keyCode&&40!=t.keyCode||(i-=.02*e,o-=.02*n),39!=t.keyCode&&38!=t.keyCode||(i+=.02*e,o+=.02*n),this.rotate&&(t=o,o=i,i=t),isNaN(o)||isNaN(i)||this.percentZoom(i,o,!0)},updateScrollbarSize:function(t,e){if(!isNaN(t)&&!isNaN(e)){t=Math.round(t),e=Math.round(e);var n,i,o,s,r,a=this.dragger;this.rotate?(n=0,i=t,o=this.width+1,s=e-t,a.setAttr("height",e-t),a.setAttr("y",i)):(i=0,o=e-t,s=this.height+1,r=e-t,a.setAttr("x",n=t),a.setAttr("width",r)),this.clipAndUpdate(n,i,o,s)}},update:function(){var t,e,n,i=!1,o=this.x,s=this.y,r=this.dragger;if(c=this.getDBox()){e=c.x+o,n=c.y+s;var a=c.width,c=c.height,l=this.rotate,h=this.width,d=this.height,u=(g=this.chart).mouseX,g=g.mouseY;if(t=this.initialMouse,this.forceClip&&this.clipDragger(!0),this.dragging){var p=this.initialCoord;l?(0>(t=p+(g-t))&&(t=0),t>(p=d-c)&&(t=p),r.setAttr("y",t)):(0>(t=p+(u-t))&&(t=0),(t>(p=h-a)||isNaN(t))&&(t=p),r.setAttr("x",t)),this.clipDragger(!0)}this.resizingRight&&(l?(t=g-n,!isNaN(this.maxHeight)&&t>this.maxHeight&&(t=this.maxHeight),t+n>d+s&&(t=d-n+s),0>t?(this.resizingRight=!1,i=this.resizingLeft=!0):((0===t||isNaN(t))&&(t=.1),r.setAttr("height",t))):(t=u-e,!isNaN(this.maxWidth)&&t>this.maxWidth&&(t=this.maxWidth),t+e>h+o&&(t=h-e+o),0>t?(this.resizingRight=!1,i=this.resizingLeft=!0):((0===t||isNaN(t))&&(t=.1),r.setAttr("width",t))),this.clipDragger(!0)),this.resizingLeft&&(l?(e=n,(n=g)<s&&(n=s),isNaN(n)&&(n=s),n>d+s&&(n=d+s),t=!0===i?e-n:c+e-n,!isNaN(this.maxHeight)&&t>this.maxHeight&&(t=this.maxHeight,n=e),0>t?(this.resizingRight=!0,this.resizingLeft=!1,r.setAttr("y",e+c-s)):((0===t||isNaN(t))&&(t=.1),r.setAttr("y",n-s),r.setAttr("height",t))):((n=u)<o&&(n=o),isNaN(n)&&(n=o),n>h+o&&(n=h+o),t=!0===i?e-n:a+e-n,!isNaN(this.maxWidth)&&t>this.maxWidth&&(t=this.maxWidth,n=e),0>t?(this.resizingRight=!0,this.resizingLeft=!1,r.setAttr("x",e+a-o)):((0===t||isNaN(t))&&(t=.1),r.setAttr("x",n-o),r.setAttr("width",t))),this.clipDragger(!0))}},stopForceClip:function(){this.animating=this.forceClip=!1},clipDragger:function(t){if(o=this.getDBox()){var e=o.x,n=o.y,i=o.width,o=o.height,s=!1;this.rotate?(e=0,i=this.width+1,(this.clipY!=n||this.clipH!=o)&&(s=!0)):(n=0,o=this.height+1,(this.clipX!=e||this.clipW!=i)&&(s=!0)),s&&this.clipAndUpdate(e,n,i,o),t&&(this.updateOnReleaseOnly||this.dispatchScrollbarEvent())}},maskGraphs:function(){},clipAndUpdate:function(t,e,n,i){this.clipX=t,this.clipY=e,this.clipW=n,this.clipH=i,this.selectedBG.setAttr("width",n),this.selectedBG.setAttr("height",i),this.selectedBG.translate(t,e),this.updateDragIconPositions(),this.maskGraphs(t,e,n,i)},dispatchScrollbarEvent:function(){if(this.skipEvent)this.skipEvent=!1;else{var t=this.chart;t.hideBalloon();var e=(o=this.getDBox()).x,n=o.y,i=o.width,o=o.height;this.getPercents(),this.rotate?(e=n,i=this.height/o):i=this.width/i,t={type:"zoomed",position:e,chart:t,target:this,multiplier:i,relativeStart:this.percentStart,relativeEnd:this.percentEnd},this.percentStart==this.prevPercentStart&&this.percentEnd==this.prevPercentEnd&&this.prevMultiplier==i||(this.fire(t),this.prevPercentStart=this.percentStart,this.prevPercentEnd=this.percentEnd,this.prevMultiplier=i)}},updateDragIconPositions:function(){var t,e,n=this.getDBox(),i=n.x,o=n.y,s=this.iconLeft,r=this.iconRight,a=this.scrollbarHeight;this.rotate?(s.translate((a-(e=this.dragIconHeight))/2,o-(t=this.dragIconWidth)/2),r.translate((a-e)/2,o+n.height-t/2)):(s.translate(i-(e=this.dragIconWidth)/2,(a-(t=this.dragIconHeight))/2),r.translate(i-e/2+n.width,(a-t)/2))},showDragIcons:function(){this.resizeEnabled&&(this.iconLeft.show(),this.iconRight.show())},hideDragIcons:function(){this.resizingLeft||this.resizingRight||this.dragging||(!this.hideResizeGrips&&this.resizeEnabled||(this.iconLeft.hide(),this.iconRight.hide()),this.removeCursors())},removeCursors:function(){this.chart.setMouseCursor("auto")},fireZoomEvent:function(t){this.fire({type:t,chart:this.chart,target:this})},percentZoom:function(e,n,i){var o,s;e=t.fitToBounds(e,0,n),n=t.fitToBounds(n,e,1),this.dragger&&this.enabled&&(this.dragger.stop(),isNaN(e)&&(e=0),isNaN(n)&&(n=1),this.rotate?(n=(o=this.height)-o*n,s=o-o*e):(s=(o=this.width)*n,n=o*e),this.updateScrollbarSize(n,s),this.clipDragger(!1),this.getPercents(),i&&this.dispatchScrollbarEvent())},destroy:function(){this.clear(),t.remove(this.set),t.remove(this.iconRight),t.remove(this.iconLeft)},clear:function(){},handleDragStart:function(){if(this.enabled){this.fireZoomEvent("zoomStarted");var e=this.chart;this.dragger.stop(),this.removeCursors(),t.isModern&&(this.dragger.node.style.cssText=this.dragCursorDown),this.dragging=!0;var n=this.getDBox();this.rotate?(this.initialCoord=n.y,this.initialMouse=e.mouseY):(this.initialCoord=n.x,this.initialMouse=e.mouseX)}},handleDragStop:function(){this.updateOnReleaseOnly&&(this.update(),this.skipEvent=!1,this.dispatchScrollbarEvent()),this.dragging=!1,this.mouseIsOver&&this.removeCursors(),t.isModern&&(this.dragger.node.style.cssText=this.dragCursorHover),this.update(),this.fireZoomEvent("zoomEnded")},handleDraggerOver:function(){this.handleMouseOver(),t.isModern&&(this.dragger.node.style.cssText=this.dragCursorHover)},leftDragStart:function(){this.fireZoomEvent("zoomStarted"),this.dragger.stop(),this.resizingLeft=!0,this.updateGripCursor(!0)},updateGripCursor:function(e){t.isModern&&(e=this.rotate?e?this.vResizeCursorDown:this.vResizeCursorHover:e?this.hResizeCursorDown:this.hResizeCursorHover)&&(this.iconRight&&(this.iconRight.node.style.cssText=e),this.iconLeft&&(this.iconLeft.node.style.cssText=e))},leftDragStop:function(){this.resizingLeft&&(this.resizingLeft=!1,this.mouseIsOver||this.removeCursors(),this.updateOnRelease(),this.fireZoomEvent("zoomEnded")),this.updateGripCursor(!1)},rightDragStart:function(){this.fireZoomEvent("zoomStarted"),this.dragger.stop(),this.resizingRight=!0,this.updateGripCursor(!0)},rightDragStop:function(){this.resizingRight&&(this.resizingRight=!1,this.mouseIsOver||this.removeCursors(),this.updateOnRelease(),this.fireZoomEvent("zoomEnded")),this.updateGripCursor(!1)},iconRollOut:function(){this.removeCursors()},iconRollOver:function(){this.rotate?this.vResizeCursor&&this.chart.setMouseCursor(this.vResizeCursor):this.hResizeCursor&&this.chart.setMouseCursor(this.hResizeCursor),this.handleMouseOver()},getDBox:function(){if(this.dragger)return this.dragger.getBBox()},handleBgClick:function(){var e=this;if(!e.resizingRight&&!e.resizingLeft){e.zooming=!0;var n,i,o=e.scrollDuration,s=e.dragger,r=(n=e.getDBox()).height,a=n.width;i=e.chart;var c=e.x,l=e.rotate;l?(n="y",i=t.fitToBounds(i=i.mouseY-r/2-e.y,0,e.height-r)):(n="x",i=t.fitToBounds(i=i.mouseX-a/2-c,0,e.width-a)),e.updateOnReleaseOnly?(e.skipEvent=!1,s.setAttr(n,i),e.dispatchScrollbarEvent(),e.clipDragger()):(e.animating=!0,i=Math.round(i),s.animate(l?{y:i}:{x:i},o,">"),e.forceClip=!0,clearTimeout(e.forceTO),e.forceTO=setTimeout((function(){e.stopForceClip.call(e)}),5e3*o))}},updateOnRelease:function(){this.updateOnReleaseOnly&&(this.update(),this.skipEvent=!1,this.dispatchScrollbarEvent())},handleReleaseOutside:function(){this.set&&((this.resizingLeft||this.resizingRight||this.dragging)&&(this.dragging=this.resizingRight=this.resizingLeft=!1,this.updateOnRelease(),this.removeCursors()),this.animating=this.mouseIsOver=!1,this.hideDragIcons(),this.update())},handleMouseOver:function(){this.mouseIsOver=!0,this.showDragIcons()},handleMouseOut:function(){this.mouseIsOver=!1,this.hideDragIcons(),this.removeCursors()}})}(),function(){var t=window.AmCharts;t.ChartScrollbar=t.Class({inherits:t.SimpleChartScrollbar,construct:function(e){this.cname="ChartScrollbar",t.ChartScrollbar.base.construct.call(this,e),this.graphLineColor="#BBBBBB",this.graphLineAlpha=0,this.graphFillColor="#BBBBBB",this.graphFillAlpha=1,this.selectedGraphLineColor="#888888",this.selectedGraphLineAlpha=0,this.selectedGraphFillColor="#888888",this.selectedGraphFillAlpha=1,this.gridCount=0,this.gridColor="#FFFFFF",this.gridAlpha=.7,this.skipEvent=this.autoGridCount=!1,this.color="#FFFFFF",this.scrollbarCreated=!1,this.oppositeAxis=!0,this.accessibleLabel="Zoom chart using cursor arrows",t.applyTheme(this,e,this.cname)},init:function(){var e=this.categoryAxis,n=this.chart,i=this.gridAxis;e||("CategoryAxis"==this.gridAxis.cname?(this.catScrollbar=!0,(e=new t.CategoryAxis).id="scrollbar"):((e=new t.ValueAxis).data=n.chartData,e.id=i.id,e.type=i.type,e.maximumDate=i.maximumDate,e.minimumDate=i.minimumDate,e.minPeriod=i.minPeriod,e.minMaxField=i.minMaxField),this.categoryAxis=e),e.chart=n;var o=n.categoryAxis;o&&(e.firstDayOfWeek=o.firstDayOfWeek),e.dateFormats=i.dateFormats,e.markPeriodChange=i.markPeriodChange,e.boldPeriodBeginning=i.boldPeriodBeginning,e.labelFunction=i.labelFunction,e.axisItemRenderer=t.RecItem,e.axisRenderer=t.RecAxis,e.guideFillRenderer=t.RecFill,e.inside=!0,e.fontSize=this.fontSize,e.tickLength=0,e.axisAlpha=0,t.isString(this.graph)&&(this.graph=t.getObjById(n.graphs,this.graph)),(e=this.graph)&&this.catScrollbar&&((i=this.valueAxis)||(this.valueAxis=i=new t.ValueAxis,i.visible=!1,i.scrollbar=!0,i.axisItemRenderer=t.RecItem,i.axisRenderer=t.RecAxis,i.guideFillRenderer=t.RecFill,i.labelsEnabled=!1,i.chart=n),(n=this.unselectedGraph)||((n=new t.AmGraph).scrollbar=!0,this.unselectedGraph=n,n.negativeBase=e.negativeBase,n.noStepRisers=e.noStepRisers),(n=this.selectedGraph)||((n=new t.AmGraph).scrollbar=!0,this.selectedGraph=n,n.negativeBase=e.negativeBase,n.noStepRisers=e.noStepRisers)),this.scrollbarCreated=!0},draw:function(){var e=this;if(t.ChartScrollbar.base.draw.call(e),e.enabled){e.scrollbarCreated||e.init();var n=e.chart,i=n.chartData,o=e.categoryAxis,s=e.rotate,r=e.x,a=e.y,c=e.width,l=e.height,h=e.gridAxis,d=e.set;if(o.setOrientation(!s),o.parseDates=h.parseDates,"ValueAxis"==e.categoryAxis.cname&&(o.rotate=!s),o.equalSpacing=h.equalSpacing,o.minPeriod=h.minPeriod,o.startOnAxis=h.startOnAxis,o.width=c-1,o.height=l,o.gridCount=e.gridCount,o.gridColor=e.gridColor,o.gridAlpha=e.gridAlpha,o.color=e.color,o.tickLength=0,o.axisAlpha=0,o.autoGridCount=e.autoGridCount,o.parseDates&&!o.equalSpacing&&o.timeZoom(n.firstTime,n.lastTime),o.minimum=e.gridAxis.fullMin,o.maximum=e.gridAxis.fullMax,o.strictMinMax=!0,o.zoom(0,i.length-1),(h=e.graph)&&e.catScrollbar){var u,g=e.valueAxis,p=h.valueAxis;for(g.id=p.id,g.rotate=s,g.setOrientation(s),g.width=c,g.height=l,g.dataProvider=i,g.reversed=p.reversed,g.logarithmic=p.logarithmic,g.gridAlpha=0,g.axisAlpha=0,d.push(g.set),s?(g.y=a,g.x=0):(g.x=r,g.y=0),r=1/0,a=-1/0,u=0;u<i.length;u++){var f,b=i[u].axes[p.id].graphs[h.id].values;for(f in b)if(b.hasOwnProperty(f)&&"percents"!=f&&"total"!=f){var m=b[f];m<r&&(r=m),m>a&&(a=m)}}1/0!=r&&(g.minimum=r),-1/0!=a&&(g.maximum=a+.1*(a-r)),r==a&&(--g.minimum,g.maximum+=1),void 0!==e.minimum&&(g.minimum=e.minimum),void 0!==e.maximum&&(g.maximum=e.maximum),g.zoom(0,i.length-1),(f=e.unselectedGraph).id=h.id,f.bcn="scrollbar-graph-",f.rotate=s,f.chart=n,f.data=i,f.valueAxis=g,f.chart=h.chart,f.categoryAxis=e.categoryAxis,f.periodSpan=h.periodSpan,f.valueField=h.valueField,f.openField=h.openField,f.closeField=h.closeField,f.highField=h.highField,f.lowField=h.lowField,f.lineAlpha=e.graphLineAlpha,f.lineColorR=e.graphLineColor,f.fillAlphas=e.graphFillAlpha,f.fillColorsR=e.graphFillColor,f.connect=h.connect,f.hidden=h.hidden,f.width=c,f.height=l,f.pointPosition=h.pointPosition,f.stepDirection=h.stepDirection,f.periodSpan=h.periodSpan,(p=e.selectedGraph).id=h.id,p.bcn=f.bcn+"selected-",p.rotate=s,p.chart=n,p.data=i,p.valueAxis=g,p.chart=h.chart,p.categoryAxis=o,p.periodSpan=h.periodSpan,p.valueField=h.valueField,p.openField=h.openField,p.closeField=h.closeField,p.highField=h.highField,p.lowField=h.lowField,p.lineAlpha=e.selectedGraphLineAlpha,p.lineColorR=e.selectedGraphLineColor,p.fillAlphas=e.selectedGraphFillAlpha,p.fillColorsR=e.selectedGraphFillColor,p.connect=h.connect,p.hidden=h.hidden,p.width=c,p.height=l,p.pointPosition=h.pointPosition,p.stepDirection=h.stepDirection,p.periodSpan=h.periodSpan,(n=e.graphType)||(n=h.type),f.type=n,p.type=n,f.zoom(0,i=i.length-1),p.zoom(0,i),p.set.click((function(){e.handleBackgroundClick()})).mouseover((function(){e.handleMouseOver()})).mouseout((function(){e.handleMouseOut()})),f.set.click((function(){e.handleBackgroundClick()})).mouseover((function(){e.handleMouseOver()})).mouseout((function(){e.handleMouseOut()})),d.push(f.set),d.push(p.set)}d.push(o.set),d.push(o.labelsSet),e.bg.toBack(),e.invisibleBg.toFront(),e.dragger.toFront(),e.iconLeft.toFront(),e.iconRight.toFront()}},timeZoom:function(e,n,i){this.startTime=e,this.endTime=n,this.timeDifference=n-e,this.skipEvent=!t.toBoolean(i),this.zoomScrollbar(),this.dispatchScrollbarEvent()},zoom:function(t,e){this.start=t,this.end=e,this.skipEvent=!0,this.zoomScrollbar()},dispatchScrollbarEvent:function(){if(this.categoryAxis&&"ValueAxis"==this.categoryAxis.cname)t.ChartScrollbar.base.dispatchScrollbarEvent.call(this);else if(this.skipEvent)this.skipEvent=!1;else{var e,n,i=this.chart.chartData;e=(r=this.dragger.getBBox()).x;var o=r.y,s=r.width,r=r.height,a=this.chart;this.rotate?(e=o,n=r):n=s,(s={type:"zoomed",target:this}).chart=a;var c=this.categoryAxis,l=this.stepWidth,h=(o=a.minSelectedTime,r=a.maxSelectedTime,!1);c.parseDates&&!c.equalSpacing?(i=a.lastTime,a=a.firstTime,(c=Math.round(e/l)+a)>(e=this.dragging?c+this.timeDifference:Math.round((e+n)/l)+a)&&(c=e),0<o&&e-c<o&&(c=(e=Math.round(c+(e-c)/2))-(h=Math.round(o/2)),e+=h,h=!0),0<r&&e-c>r&&(c=(e=Math.round(c+(e-c)/2))-(h=Math.round(r/2)),e+=h,h=!0),e>i&&(e=i),e-o<c&&(c=e-o),c<a&&(c=a),c+o>e&&(e=c+o),(c!=this.startTime||e!=this.endTime)&&(this.startTime=c,this.endTime=e,s.start=c,s.end=e,s.startDate=new Date(c),s.endDate=new Date(e),this.fire(s))):(c.startOnAxis||(e+=l/2),n-=this.stepWidth/2,o=c.xToIndex(e),e=c.getCoordinate(o)-this.stepWidth/2,e=c.xToIndex(e+n),o==this.start&&this.end==e||(c.startOnAxis&&(this.resizingRight&&o==e&&e++,this.resizingLeft&&o==e&&(0<o?o--:e=1)),this.start=o,this.end=this.dragging?this.start+this.difference:e,s.start=this.start,s.end=this.end,c.parseDates&&(i[this.start]&&(s.startDate=new Date(i[this.start].time)),i[this.end]&&(s.endDate=new Date(i[this.end].time))),this.fire(s)),this.percentStart=o,this.percentEnd=e),h&&this.zoomScrollbar(!0)}},zoomScrollbar:function(t){if((!(this.dragging||this.resizingLeft||this.resizingRight||this.animating)||t)&&this.dragger&&this.enabled){var e,n,i=this.chart;t=i.chartData;var o=this.categoryAxis;o.parseDates&&!o.equalSpacing?(e=(t=o.stepWidth)*(this.startTime-(n=i.firstTime)),n=t*(this.endTime-n)):(t[this.start]&&(e=t[this.start].x[o.id]),t[this.end]&&(n=t[this.end].x[o.id]),t=o.stepWidth,o.startOnAxis||(e-=i=t/2,n+=i)),this.stepWidth=t,isNaN(e)||isNaN(n)||this.updateScrollbarSize(e,n)}},maskGraphs:function(t,e,n,i){var o=this.selectedGraph;o&&o.set.clipRect(t,e,n,i)},handleDragStart:function(){t.ChartScrollbar.base.handleDragStart.call(this),this.difference=this.end-this.start,this.timeDifference=this.endTime-this.startTime,0>this.timeDifference&&(this.timeDifference=0)},handleBackgroundClick:function(){t.ChartScrollbar.base.handleBackgroundClick.call(this),this.dragging||(this.difference=this.end-this.start,this.timeDifference=this.endTime-this.startTime,0>this.timeDifference&&(this.timeDifference=0))}})}(),function(){var t=window.AmCharts;t.AmBalloon=t.Class({construct:function(e){this.cname="AmBalloon",this.enabled=!0,this.fillColor="#FFFFFF",this.fillAlpha=.8,this.borderThickness=2,this.borderColor="#FFFFFF",this.borderAlpha=1,this.cornerRadius=0,this.maxWidth=220,this.horizontalPadding=8,this.verticalPadding=4,this.pointerWidth=6,this.pointerOrientation="V",this.color="#000000",this.adjustBorderColor=!0,this.show=this.follow=this.showBullet=!1,this.bulletSize=3,this.shadowAlpha=.4,this.shadowColor="#000000",this.fadeOutDuration=this.animationDuration=.3,this.fixedPosition=!0,this.offsetY=6,this.offsetX=1,this.textAlign="center",this.disableMouseEvents=!0,this.deltaSignX=this.deltaSignY=1,t.isModern||(this.offsetY*=1.5),this.sdy=this.sdx=0,t.applyTheme(this,e,this.cname)},draw:function(){var e=this.pointToX,n=this.pointToY;t.isModern||(this.drop=!1);var i=this.chart;if(t.VML&&(this.fadeOutDuration=0),this.xAnim&&i.stopAnim(this.xAnim),this.yAnim&&i.stopAnim(this.yAnim),this.sdy=this.sdx=0,!isNaN(e)){var o=this.follow,s=i.container,r=this.set;if(t.remove(r),this.removeDiv(),(r=s.set()).node.style.pointerEvents="none",this.set=r,this.mainSet?(this.mainSet.push(this.set),this.sdx=this.mainSet.x,this.sdy=this.mainSet.y):i.balloonsSet.push(r),this.show){var a=this.l,c=this.t,l=this.r,h=this.b,d=this.fillColor,u=this.borderColor,g=d;null!=(C=this.balloonColor)&&(this.adjustBorderColor?g=u=C:d=C);var p=this.horizontalPadding,f=this.verticalPadding,b=this.pointerWidth,m=this.pointerOrientation,v=this.cornerRadius,y=i.fontFamily;null==(k=this.fontSize)&&(k=i.fontSize);var C=document.createElement("div"),_=i.classNamePrefix;C.className=_+"-balloon-div",this.className&&(C.className=C.className+" "+_+"-balloon-div-"+this.className),_=C.style,this.disableMouseEvents&&(_.pointerEvents="none"),_.position="absolute";var x=this.minWidth,P=document.createElement("div");C.appendChild(P);var w=P.style;isNaN(x)||(w.minWidth=x-2*p+"px"),w.textAlign=this.textAlign,w.maxWidth=this.maxWidth+"px",w.fontSize=k+"px",w.color=this.color,w.fontFamily=y,P.innerHTML=this.text,i.chartDiv.appendChild(C),this.textDiv=C,w=C.offsetWidth;var O=C.offsetHeight;C.clientHeight&&(w=C.clientWidth,O=C.clientHeight),y=O+2*f,P=w+2*p,!isNaN(x)&&P<x&&(P=x),window.opera&&(y+=2);var M=!1,k=this.offsetY;i.handDrawn&&(k+=i.handDrawScatter+2),"H"!=m?(x=e-P/2,n<c+y+10&&"down"!=m?(M=!0,o&&(n+=k),k=n+b,this.deltaSignY=-1):(o&&(n-=k),k=n-y-b,this.deltaSignY=1)):(2*b>y&&(b=y/2),k=n-y/2,e<a+(l-a)/2?(x=e+b,this.deltaSignX=-1):(x=e-P-b,this.deltaSignX=1)),k+y>=h&&(k=h-y),k<c&&(k=c),x<a&&(x=a),x+P>l&&(x=l-P),c=k+f,h=x+p;var S,I=this.shadowAlpha,L=this.shadowColor,T=(p=this.borderThickness,f=this.fillAlpha,this.borderAlpha);this.showBullet&&(S=t.circle(s,this.bulletSize,g,f),r.push(S)),this.drop?(a=P/1.6,l=0,"V"==m&&(m="down"),"H"==m&&(m="left"),"down"==m&&(x=e+1,k=n-a-a/3),"up"==m&&(l=180,x=e+1,k=n+a+a/3),"left"==m&&(l=270,x=e+a+a/3+2,k=n),"right"==m&&(l=90,x=e-a-a/3+2,k=n),c=k-O/2+1,h=x-w/2-1,d=t.drop(s,a,l,d,f,p,u,T)):0<v||0===b?(0<I&&(e=t.rect(s,P,y,d,0,p+1,L,I,v),t.isModern?e.translate(1,1):e.translate(4,4),r.push(e)),d=t.rect(s,P,y,d,f,p,u,T,v)):(g=[],v=[],"H"!=m?((a=e-x)>P-b&&(a=P-b),a<b&&(a=b),g=[0,a-b,e-x,a+b,P,P,0,0],v=M?[0,0,n-k,0,0,y,y,0]:[y,y,n-k,y,y,0,0,y]):((m=n-k)>y-b&&(m=y-b),m<b&&(m=b),v=[0,m-b,n-k,m+b,y,y,0,0],g=e<a+(l-a)/2?[0,0,x<e?0:e-x,0,0,P,P,0]:[P,P,x+P>e?P:e-x,P,P,0,0,P]),0<I&&((e=t.polygon(s,g,v,d,0,p,L,I)).translate(1,1),r.push(e)),d=t.polygon(s,g,v,d,f,p,u,T)),this.bg=d,r.push(d),d.toFront(),t.setCN(i,d,"balloon-bg"),this.className&&t.setCN(i,d,"balloon-bg-"+this.className),s=1*this.deltaSignX,c+=this.sdy,_.left=(h+=this.sdx)+"px",_.top=c+"px",r.translate(x-s,k,1,!0),d=d.getBBox(),this.bottom=k+y+1,this.yPos=d.y+k,S&&S.translate(this.pointToX-x+s,n-k),n=this.animationDuration,0<this.animationDuration&&!o&&!isNaN(this.prevX)&&(r.translate(this.prevX,this.prevY,NaN,!0),r.animate({translate:x-s+","+k},n,"easeOutSine"),C&&(_.left=this.prevTX+"px",_.top=this.prevTY+"px",this.xAnim=i.animate({node:C},"left",this.prevTX,h,n,"easeOutSine","px"),this.yAnim=i.animate({node:C},"top",this.prevTY,c,n,"easeOutSine","px"))),this.prevX=x-s,this.prevY=k,this.prevTX=h,this.prevTY=c}}},fixPrevious:function(){this.rPrevX=this.prevX,this.rPrevY=this.prevY,this.rPrevTX=this.prevTX,this.rPrevTY=this.prevTY},restorePrevious:function(){this.prevX=this.rPrevX,this.prevY=this.rPrevY,this.prevTX=this.rPrevTX,this.prevTY=this.rPrevTY},followMouse:function(){if(this.follow&&this.show){var t=this.chart.mouseY-this.sdy;if(this.pointToX=n=this.chart.mouseX-this.offsetX*this.deltaSignX-this.sdx,this.pointToY=t,n!=this.previousX||t!=this.previousY)if(this.previousX=n,this.previousY=t,0===this.cornerRadius)this.draw();else{var e=this.set;if(e){var n,i=e.getBBox(),o=t-i.height-10;(n-=i.width/2)<this.l&&(n=this.l),n>this.r-i.width&&(n=this.r-i.width),o<this.t&&(o=t+10),e.translate(n,o),(t=this.textDiv.style).left=n+this.horizontalPadding+"px",t.top=o+this.verticalPadding+"px"}}}},changeColor:function(t){this.balloonColor=t},setBounds:function(t,e,n,i){this.l=t,this.t=e,this.r=n,this.b=i,this.destroyTO&&clearTimeout(this.destroyTO)},showBalloon:function(t){(this.text!=t||this.positionChanged)&&(this.text=t,this.isHiding=!1,this.show=!0,this.destroyTO&&clearTimeout(this.destroyTO),t=this.chart,this.fadeAnim1&&t.stopAnim(this.fadeAnim1),this.fadeAnim2&&t.stopAnim(this.fadeAnim2),this.draw(),this.positionChanged=!1)},hide:function(t){var e=this;e.text=void 0,isNaN(t)&&(t=e.fadeOutDuration);var n=e.chart;if(0<t&&!e.isHiding){e.isHiding=!0,e.destroyTO&&clearTimeout(e.destroyTO),e.destroyTO=setTimeout((function(){e.destroy.call(e)}),1e3*t),e.follow=!1,e.show=!1;var i=e.set;i&&(i.setAttr("opacity",e.fillAlpha),e.fadeAnim1=i.animate({opacity:0},t,"easeInSine")),e.textDiv&&(e.fadeAnim2=n.animate({node:e.textDiv},"opacity",1,0,t,"easeInSine",""))}else e.show=!1,e.follow=!1,e.destroy()},setPosition:function(t,e){t==this.pointToX&&e==this.pointToY||(this.previousX=this.pointToX,this.previousY=this.pointToY,this.pointToX=t,this.pointToY=e,this.positionChanged=!0)},followCursor:function(t){var e=this;e.follow=t,clearInterval(e.interval);var n=e.chart.mouseX-e.sdx,i=e.chart.mouseY-e.sdy;!isNaN(n)&&t&&(e.pointToX=n-e.offsetX*e.deltaSignX,e.pointToY=i,e.followMouse(),e.interval=setInterval((function(){e.followMouse.call(e)}),40))},removeDiv:function(){if(this.textDiv){var t=this.textDiv.parentNode;t&&t.removeChild(this.textDiv)}},destroy:function(){clearInterval(this.interval),t.remove(this.set),this.removeDiv(),this.set=null}})}(),function(){var t=window.AmCharts;t.AmCoordinateChart=t.Class({inherits:t.AmChart,construct:function(e){t.AmCoordinateChart.base.construct.call(this,e),this.theme=e,this.createEvents("rollOverGraphItem","rollOutGraphItem","clickGraphItem","doubleClickGraphItem","rightClickGraphItem","clickGraph","rollOverGraph","rollOutGraph"),this.startAlpha=1,this.startDuration=0,this.startEffect="elastic",this.sequencedAnimation=!0,this.colors="#FF6600 #FCD202 #B0DE09 #0D8ECF #2A0CD0 #CD0D74 #CC0000 #00CC00 #0000CC #DDDDDD #999999 #333333 #990000".split(" "),this.balloonDateFormat="MMM DD, YYYY",this.valueAxes=[],this.graphs=[],this.guides=[],this.gridAboveGraphs=!1,t.applyTheme(this,e,"AmCoordinateChart")},initChart:function(){t.AmCoordinateChart.base.initChart.call(this),this.drawGraphs=!0;var e=this.categoryAxis;e&&(this.categoryAxis=t.processObject(e,t.CategoryAxis,this.theme)),this.processValueAxes(),this.createValueAxes(),this.processGraphs(),this.processGuides(),t.VML&&(this.startAlpha=1),this.setLegendData(this.graphs),this.gridAboveGraphs&&(this.gridSet.toFront(),this.bulletSet.toFront(),this.balloonsSet.toFront())},createValueAxes:function(){if(0===this.valueAxes.length){var e=new t.ValueAxis;this.addValueAxis(e)}},parseData:function(){this.processValueAxes(),this.processGraphs()},parseSerialData:function(t){if(this.chartData=[],t)if(0<this.processTimeout){1>this.processCount&&(this.processCount=1);var e=t.length/this.processCount;this.parseCount=Math.ceil(e)-1;for(var n=0;n<e;n++)this.delayParseSerialData(t,n)}else this.parseCount=0,this.parsePartSerialData(t,0,t.length,0);else this.onDataUpdated()},delayParseSerialData:function(t,e){var n=this,i=n.processCount;setTimeout((function(){n.parsePartSerialData.call(n,t,e*i,(e+1)*i,e)}),n.processTimeout)},parsePartSerialData:function(e,n,i,o){i>e.length&&(i=e.length);var s=this.graphs,r={},a=this.seriesIdField;a||(a=this.categoryField);var c,l,h,d,u=!1,g=this.categoryAxis;g&&(u=g.parseDates,l=g.forceShowField,d=g.classNameField,h=g.labelColorField,c=g.categoryFunction);var p,f,b,m={};u&&(p=t.extractPeriod(g.minPeriod),b=t.getPeriodDuration(f=p.period,p=p.count));var v={};this.lookupTable=v;var y,C=this.dataDateFormat,_={};for(y=n;y<i;y++){var x={},P=e[y];if(n=P[this.categoryField],x.dataContext=P,x.category=c?c(n,P,g):String(n),l&&(x.forceShow=P[l]),d&&(x.className=P[d]),h&&(x.labelColor=P[h]),v[P[a]]=x,!u||(g.categoryFunction?n=g.categoryFunction(n,P,g):(!C||n instanceof Date||(n=n.toString()+" |"),n=t.getDate(n,C,g.minPeriod)),n=t.resetDateToMin(n,f,p,g.firstDayOfWeek),x.category=n,x.time=n.getTime(),!isNaN(x.time))){var w,O=this.valueAxes;for(x.axes={},x.x={},w=0;w<O.length;w++){var M,k=O[w].id;for(x.axes[k]={},x.axes[k].graphs={},M=0;M<s.length;M++){var S=(n=s[M]).id,I=1.1;isNaN(n.gapPeriod)||(I=n.gapPeriod);var L=n.periodValue;if(n.valueAxis.id==k){x.axes[k].graphs[S]={};var T={};T.index=y;var A=P;if(n.dataProvider&&(A=r),T.values=this.processValues(A,n,L),!n.connect||n.forceGap&&!isNaN(n.gapPeriod))if(_&&_[S]&&0<I&&x.time-m[S]>=b*I&&(_[S].gap=!0),n.forceGap){var N;for(N in I=0,T.values)I++;0<I&&(m[S]=x.time,_[S]=T)}else m[S]=x.time,_[S]=T;this.processFields(n,T,A),T.category=x.category,T.serialDataItem=x,T.graph=n,x.axes[k].graphs[S]=T}}}this.chartData[y]=x}}if(this.parseCount==o){for(e=0;e<s.length;e++)(n=s[e]).dataProvider&&this.parseGraphData(n);this.dataChanged=!1,this.dispatchDataUpdated=!0,this.onDataUpdated()}},processValues:function(e,n,i){var o,s={},r=!1;"candlestick"!=n.type&&"ohlc"!=n.type||""===i||(r=!0);for(var a="value error open close low high".split(" "),c=0;c<a.length;c++){var l=a[c];"value"!=l&&"error"!=l&&r&&(i=l.charAt(0).toUpperCase()+l.slice(1));var h=e[n[l+"Field"]+i];null!==h&&(o=Number(h),isNaN(o)||(s[l]=o),"date"==n.valueAxis.type&&void 0!==h&&(o=t.getDate(h,n.chart.dataDateFormat),s[l]=o.getTime()))}return s},parseGraphData:function(t){var e,n=t.dataProvider,i=t.seriesIdField;for(i||(i=this.seriesIdField),i||(i=this.categoryField),e=0;e<n.length;e++){var o=n[e],s=this.lookupTable[String(o[i])],r=t.valueAxis.id;s&&((r=s.axes[r].graphs[t.id]).serialDataItem=s,r.values=this.processValues(o,t,t.periodValue),this.processFields(t,r,o))}},addValueAxis:function(t){t.chart=this,this.valueAxes.push(t),this.validateData()},removeValueAxesAndGraphs:function(){var t,e=this.valueAxes;for(t=e.length-1;-1<t;t--)this.removeValueAxis(e[t])},removeValueAxis:function(t){var e,n=this.graphs;for(e=n.length-1;0<=e;e--){var i=n[e];i&&i.valueAxis==t&&this.removeGraph(i)}for(e=(n=this.valueAxes).length-1;0<=e;e--)n[e]==t&&n.splice(e,1);this.validateData()},addGraph:function(t){this.graphs.push(t),this.chooseGraphColor(t,this.graphs.length-1),this.validateData()},removeGraph:function(t){var e,n=this.graphs;for(e=n.length-1;0<=e;e--)n[e]==t&&(n.splice(e,1),t.destroy());this.validateData()},handleValueAxisZoom:function(){},processValueAxes:function(){var e,n=this.valueAxes;for(e=0;e<n.length;e++){var i=t.processObject(i=n[e],t.ValueAxis,this.theme);n[e]=i,i.chart=this,i.init(),this.listenTo(i,"axisIntZoomed",this.handleValueAxisZoom),i.id||(i.id="valueAxisAuto"+e+"_"+(new Date).getTime()),void 0===i.usePrefixes&&(i.usePrefixes=this.usePrefixes)}},processGuides:function(){var e=this.guides,n=this.categoryAxis;if(e)for(var i=0;i<e.length;i++){var o=e[i];(void 0!==o.category||void 0!==o.date)&&n&&n.addGuide(o),o.id||(o.id="guideAuto"+i+"_"+(new Date).getTime());var s=o.valueAxis;s?(t.isString(s)&&(s=this.getValueAxisById(s)),s?s.addGuide(o):this.valueAxes[0].addGuide(o)):isNaN(o.value)||this.valueAxes[0].addGuide(o)}},processGraphs:function(){var e,n=this.graphs;for(this.graphsById={},e=0;e<n.length;e++){var i=t.processObject(i=n[e],t.AmGraph,this.theme);n[e]=i,this.chooseGraphColor(i,e),i.chart=this,i.init(),t.isString(i.valueAxis)&&(i.valueAxis=this.getValueAxisById(i.valueAxis)),i.valueAxis||(i.valueAxis=this.valueAxes[0]),i.id||(i.id="graphAuto"+e+"_"+(new Date).getTime()),this.graphsById[i.id]=i}},formatString:function(e,n,i){var o=n.graph,s=o.valueAxis;if(s.duration&&s.maxInterval&&n.values.value){var r=s.numberFormatter;r||(r=chart.nf),s=t.formatDuration(n.values.value,s.duration,"",s.durationUnits,s.maxInterval,r),e=e.split("[[value]]").join(s)}return e=t.massReplace(e,{"[[title]]":o.title,"[[description]]":n.description}),e=i?t.fixNewLines(e):t.fixBrakes(e),t.cleanFromEmpty(e)},getBalloonColor:function(e,n,i){var o=e.lineColor,s=e.balloonColor;return i&&(s=o),"object"==typeof(i=e.fillColorsR)?o=i[0]:void 0!==i&&(o=i),n.isNegative&&(i=e.negativeLineColor,"object"==typeof(e=e.negativeFillColors)?i=e[0]:void 0!==e&&(i=e),void 0!==i&&(o=i)),void 0!==n.color&&(o=n.color),void 0!==n.lineColor&&(o=n.lineColor),void 0!==(n=n.fillColors)&&(o=n,t.ifArray(n)&&(o=n[0])),void 0===s&&(s=o),s},getGraphById:function(e){return t.getObjById(this.graphs,e)},getValueAxisById:function(e){return t.getObjById(this.valueAxes,e)},processFields:function(e,n,i){if(e.itemColors){var o=e.itemColors,s=n.index;n.color=s<o.length?o[s]:t.randomColor()}for(o="lineColor color alpha fillColors description bullet customBullet bulletSize bulletConfig url labelColor dashLength pattern gap className columnIndex".split(" "),s=0;s<o.length;s++){var r=o[s],a=e[r+"Field"];a&&t.isDefined(a=i[a])&&(n[r]=a)}n.dataContext=i},chooseGraphColor:function(e,n){var i;e.lineColor?e.lineColorR=e.lineColor:(i=this.colors.length>n?this.colors[n]:e.lineColorR?e.lineColorR:t.randomColor(),e.lineColorR=i),e.fillColorsR=e.fillColors?e.fillColors:e.lineColorR,e.bulletBorderColorR=e.bulletBorderColor?e.bulletBorderColor:e.useLineColorForBulletBorder?e.lineColorR:e.bulletColor,e.bulletColorR=e.bulletColor?e.bulletColor:e.lineColorR,(i=this.patterns)&&(e.pattern=i[n])},handleLegendEvent:function(t){var e=t.type;if(t=t.dataItem){var n=t.hidden,i=t.showBalloon;switch(e){case"clickMarker":this.textClickEnabled&&(i?this.hideGraphsBalloon(t):this.showGraphsBalloon(t));break;case"clickLabel":i?this.hideGraphsBalloon(t):this.showGraphsBalloon(t);break;case"rollOverItem":n||this.highlightGraph(t);break;case"rollOutItem":n||this.unhighlightGraph();break;case"hideItem":this.hideGraph(t);break;case"showItem":this.showGraph(t)}}},highlightGraph:function(t){var e=this.graphs;if(e){var n,i=.2;if(this.legend&&(i=this.legend.rollOverGraphAlpha),1!=i)for(n=0;n<e.length;n++){var o=e[n];o!=t&&o.changeOpacity(i)}}},unhighlightGraph:function(){var t,e;if(this.legend&&(t=this.legend.rollOverGraphAlpha),1!=t)for(t=this.graphs,e=0;e<t.length;e++)t[e].changeOpacity(1)},showGraph:function(t){t.switchable&&(t.hidden=!1,this.dataChanged=!0,"xy"!=this.type&&(this.marginsUpdated=!1),this.chartCreated&&this.initChart())},hideGraph:function(t){t.switchable&&(this.dataChanged=!0,"xy"!=this.type&&(this.marginsUpdated=!1),t.hidden=!0,this.chartCreated&&this.initChart())},hideGraphsBalloon:function(t){t.showBalloon=!1,this.updateLegend()},showGraphsBalloon:function(t){t.showBalloon=!0,this.updateLegend()},updateLegend:function(){this.legend&&this.legend.invalidateSize()},resetAnimation:function(){this.animatable=[];var t,e=this.graphs;if(e)for(t=0;t<e.length;t++)e[t].animationPlayed=!1},animateAgain:function(){this.resetAnimation(),this.validateNow()}})}(),function(){var t=window.AmCharts;t.TrendLine=t.Class({construct:function(e){this.cname="TrendLine",this.createEvents("click","rollOver","rollOut"),this.isProtected=!1,this.dashLength=0,this.lineColor="#00CC00",this.lineThickness=this.lineAlpha=1,t.applyTheme(this,e,this.cname)},draw:function(){var e=this;e.destroy();var n,i,o,s,r=e.chart,a=r.container,c=e.categoryAxis,l=e.initialDate,h=e.initialCategory,d=e.finalDate,u=e.finalCategory,g=e.valueAxis,p=e.valueAxisX,f=e.initialXValue,b=e.finalXValue,m=e.initialValue,v=e.finalValue,y=g.recalculateToPercents,C=r.dataDateFormat;c&&(l&&(l=t.getDate(l,C,"fff"),e.initialDate=l,n=c.dateToCoordinate(l)),h&&(n=c.categoryToCoordinate(h)),d&&(d=t.getDate(d,C,"fff"),e.finalDate=d,i=c.dateToCoordinate(d)),u&&(i=c.categoryToCoordinate(u))),p&&!y&&(isNaN(f)||(n=p.getCoordinate(f)),isNaN(b)||(i=p.getCoordinate(b))),g&&!y&&(isNaN(m)||(o=g.getCoordinate(m)),isNaN(v)||(s=g.getCoordinate(v))),isNaN(n)||isNaN(i)||isNaN(o)||isNaN(o)||(r.rotate?(c=[o,s],s=[n,i]):(c=[n,i],s=[o,s]),o=t.line(a,c,s,e.lineColor,e.lineAlpha,e.lineThickness,e.dashLength),n=c,i=s,0==(d=c[1]-c[0])&&(d=.01),0==(u=s[1]-s[0])&&(u=.01),l=d/Math.abs(d),h=u/Math.abs(u),u=90*Math.PI/180-Math.asin(d/(d*u/Math.abs(d*u)*Math.sqrt(Math.pow(d,2)+Math.pow(u,2)))),d=Math.abs(5*Math.cos(u)),u=Math.abs(5*Math.sin(u)),n.push(c[1]-l*u,c[0]-l*u),i.push(s[1]+h*d,s[0]+h*d),s=t.polygon(a,n,i,"#ffffff",.005,0),(a=a.set([s,o])).translate(r.marginLeftReal,r.marginTopReal),r.trendLinesSet.push(a),t.setCN(r,o,"trend-line"),t.setCN(r,o,"trend-line-"+e.id),e.line=o,e.set=a,(o=e.initialImage)&&((o=t.processObject(o,t.Image,e.theme)).chart=r,o.draw(),o.translate(n[0]+o.offsetX,i[0]+o.offsetY),a.push(o.set)),(o=e.finalImage)&&((o=t.processObject(o,t.Image,e.theme)).chart=r,o.draw(),o.translate(n[1]+o.offsetX,i[1]+o.offsetY),a.push(o.set)),a.mouseup((function(){e.handleLineClick()})).mouseover((function(){e.handleLineOver()})).mouseout((function(){e.handleLineOut()})),a.touchend&&a.touchend((function(){e.handleLineClick()})),a.clipRect(0,0,r.plotAreaWidth,r.plotAreaHeight))},handleLineClick:function(){this.fire({type:"click",trendLine:this,chart:this.chart})},handleLineOver:function(){var t=this.rollOverColor;void 0!==t&&this.line.attr({stroke:t}),this.balloonText&&(clearTimeout(this.chart.hoverInt),t=this.line.getBBox(),this.chart.showBalloon(this.balloonText,this.lineColor,!0,this.x+t.x+t.width/2,this.y+t.y+t.height/2)),this.fire({type:"rollOver",trendLine:this,chart:this.chart})},handleLineOut:function(){this.line.attr({stroke:this.lineColor}),this.balloonText&&this.chart.hideBalloon(),this.fire({type:"rollOut",trendLine:this,chart:this.chart})},destroy:function(){t.remove(this.set)}})}(),function(){var t=window.AmCharts;t.Image=t.Class({construct:function(e){this.cname="Image",this.height=this.width=20,this.rotation=this.offsetY=this.offsetX=0,this.balloonColor=this.color="#000000",this.opacity=1,t.applyTheme(this,e,this.cname)},draw:function(){var t=this;t.set&&t.set.remove();var e,n,i=t.chart.container;t.set=i.set(),t.url?(e=i.image(t.url,0,0,t.width,t.height),n=1):t.svgPath&&((e=i.path(t.svgPath)).setAttr("fill",t.color),e.setAttr("stroke",t.outlineColor),i=e.getBBox(),n=Math.min(t.width/i.width,t.height/i.height)),e&&(e.setAttr("opacity",t.opacity),t.set.rotate(t.rotation),e.translate(-t.width/2,-t.height/2,n),t.balloonText&&e.mouseover((function(){t.chart.showBalloon(t.balloonText,t.balloonColor,!0)})).mouseout((function(){t.chart.hideBalloon()})).touchend((function(){t.chart.hideBalloon()})).touchstart((function(){t.chart.showBalloon(t.balloonText,t.balloonColor,!0)})),t.set.push(e))},translate:function(t,e){this.set&&this.set.translate(t,e)}})}(),function(){var t=window.AmCharts;t.circle=function(e,n,i,o,s,r,a,c,l){return 0>=n&&(n=.001),null!=s&&0!==s||(s=.01),void 0===r&&(r="#000000"),void 0===a&&(a=0),o={fill:i,stroke:r,"fill-opacity":o,"stroke-width":s,"stroke-opacity":a},e=isNaN(l)?e.circle(0,0,n).attr(o):e.ellipse(0,0,n,l).attr(o),c&&e.gradient("radialGradient",[i,t.adjustLuminosity(i,-.6)]),e},t.text=function(e,n,i,o,s,r,a,c){return r||(r="middle"),"right"==r&&(r="end"),"left"==r&&(r="start"),isNaN(c)&&(c=1),void 0!==n&&(n=String(n),t.isIE&&!t.isModern&&(n=(n=n.replace("&amp;","&")).replace("&","&amp;"))),i={fill:i,"font-family":o,"font-size":s+"px",opacity:c},!0===a&&(i["font-weight"]="bold"),i["text-anchor"]=r,e.text(n,i)},t.polygon=function(e,n,i,o,s,r,a,c,l,h,d){isNaN(r)&&(r=.01),isNaN(c)&&(c=s);var u=o,g=!1;for("object"==typeof u&&1<u.length&&(g=!0,u=u[0]),void 0===a&&(a=u),s={fill:u,stroke:a,"fill-opacity":s,"stroke-width":r,"stroke-opacity":c},void 0!==d&&0<d&&(s["stroke-dasharray"]=d),d=t.dx,r=t.dy,e.handDrawn&&(n=(i=t.makeHD(n,i,e.handDrawScatter))[0],i=i[1]),a=Math.round,h&&(a=Number),c="M"+(a(n[0])+d)+","+(a(i[0])+r),u=1;u<n.length;u++)h&&(n[u]=t.roundTo(n[u],5),i[u]=t.roundTo(i[u],5)),c+=" L"+(a(n[u])+d)+","+(a(i[u])+r);return e=e.path(c+" Z").attr(s),g&&e.gradient("linearGradient",o,l),e},t.rect=function(e,n,i,o,s,r,a,c,l,h,d){if(isNaN(n)||isNaN(i))return e.set();isNaN(r)&&(r=0),void 0===l&&(l=0),void 0===h&&(h=270),isNaN(s)&&(s=0);var u=o,g=!1;"object"==typeof u&&(u=u[0],g=!0),void 0===a&&(a=u),void 0===c&&(c=s),n=Math.round(n),i=Math.round(i);var p=0,f=0;return 0>n&&(p=-(n=Math.abs(n))),0>i&&(f=-(i=Math.abs(i))),p+=t.dx,f+=t.dy,s={fill:u,stroke:a,"fill-opacity":s,"stroke-opacity":c},void 0!==d&&0<d&&(s["stroke-dasharray"]=d),e=e.rect(p,f,n,i,l,r).attr(s),g&&e.gradient("linearGradient",o,h),e},t.bullet=function(e,n,i,o,s,r,a,c,l,h,d,u,g){var p;switch("circle"==n&&(n="round"),n){case"round":p=t.circle(e,i/2,o,s,r,a,c);break;case"square":p=t.polygon(e,[-i/2,i/2,i/2,-i/2],[i/2,i/2,-i/2,-i/2],o,s,r,a,c,h-180,void 0,g);break;case"rectangle":p=t.polygon(e,[-i,i,i,-i],[i/2,i/2,-i/2,-i/2],o,s,r,a,c,h-180,void 0,g);break;case"diamond":p=t.polygon(e,[-i/2,0,i/2,0],[0,-i/2,0,i/2],o,s,r,a,c);break;case"triangleUp":p=t.triangle(e,i,0,o,s,r,a,c);break;case"triangleDown":p=t.triangle(e,i,180,o,s,r,a,c);break;case"triangleLeft":p=t.triangle(e,i,270,o,s,r,a,c);break;case"triangleRight":p=t.triangle(e,i,90,o,s,r,a,c);break;case"bubble":p=t.circle(e,i/2,o,s,r,a,c,!0);break;case"line":p=t.line(e,[-i/2,i/2],[0,0],o,s,r,a,c);break;case"yError":(p=e.set()).push(t.line(e,[0,0],[-i/2,i/2],o,s,r)),p.push(t.line(e,[-l,l],[-i/2,-i/2],o,s,r)),p.push(t.line(e,[-l,l],[i/2,i/2],o,s,r));break;case"xError":(p=e.set()).push(t.line(e,[-i/2,i/2],[0,0],o,s,r)),p.push(t.line(e,[-i/2,-i/2],[-l,l],o,s,r)),p.push(t.line(e,[i/2,i/2],[-l,l],o,s,r))}return p&&p.pattern(d,NaN,u),p},t.triangle=function(t,e,n,i,o,s,r,a){var c;return void 0!==s&&0!==s||(s=1),void 0===r&&(r="#000"),void 0===a&&(a=0),i={fill:i,stroke:r,"fill-opacity":o,"stroke-width":s,"stroke-opacity":a},e/=2,0===n&&(c=" M"+-e+","+e+" L0,"+-e+" L"+e+","+e+" Z"),180==n&&(c=" M"+-e+","+-e+" L0,"+e+" L"+e+","+-e+" Z"),90==n&&(c=" M"+-e+","+-e+" L"+e+",0 L"+-e+","+e+" Z"),270==n&&(c=" M"+-e+",0 L"+e+","+e+" L"+e+","+-e+" Z"),t.path(c).attr(i)},t.line=function(e,n,i,o,s,r,a,c,l,h,d){if(e.handDrawn&&!d)return t.handDrawnLine(e,n,i,o,s,r,a,c,l,h,d);for(r={fill:"none","stroke-width":r},void 0!==a&&0<a&&(r["stroke-dasharray"]=a),isNaN(s)||(r["stroke-opacity"]=s),o&&(r.stroke=o),o=Math.round,h&&(o=Number,n[0]=t.roundTo(n[0],5),i[0]=t.roundTo(i[0],5)),h=t.dx,s=t.dy,a="M"+(o(n[0])+h)+","+(o(i[0])+s),c=1;c<n.length;c++)n[c]=t.roundTo(n[c],5),i[c]=t.roundTo(i[c],5),a+=" L"+(o(n[c])+h)+","+(o(i[c])+s);return t.VML?e.path(a,void 0,!0).attr(r):(l&&(a+=" M0,0 L0,0"),e.path(a).attr(r))},t.makeHD=function(t,e,n){for(var i=[],o=[],s=1;s<t.length;s++)for(var r=Number(t[s-1]),a=Number(e[s-1]),c=Number(t[s]),l=Number(e[s]),h=Math.round(Math.sqrt(Math.pow(c-r,2)+Math.pow(l-a,2))/50)+1,d=(c=(c-r)/h,l=(l-a)/h,0);d<=h;d++){var u=a+d*l+Math.random()*n;i.push(r+d*c+Math.random()*n),o.push(u)}return[i,o]},t.handDrawnLine=function(e,n,i,o,s,r,a,c,l,h){var d,u=e.set();for(d=1;d<n.length;d++)for(var g=(p=t.makeHD(g=[n[d-1],n[d]],p=[i[d-1],i[d]],e.handDrawScatter))[0],p=p[1],f=1;f<g.length;f++)u.push(t.line(e,[g[f-1],g[f]],[p[f-1],p[f]],o,s,r+Math.random()*e.handDrawThickness-e.handDrawThickness/2,a,c,l,h,!0));return u},t.doNothing=function(t){return t},t.drop=function(t,e,n,i,o,s,r,a){var c=1/180*Math.PI,l=n-20,h=Math.sin(l*c)*e,d=Math.cos(l*c)*e,u=.8*e,g=-e/3,p=e/3;return 0===n&&(g=-g,p=0),180==n&&(p=0),90==n&&(g=0),270==n&&(g=0,p=-p),n={fill:i,stroke:r,"stroke-width":s,"stroke-opacity":a,"fill-opacity":o},e="M"+h+","+d+" A"+e+","+e+",0,1,1,"+Math.sin((l+40)*c)*e+","+Math.cos((l+40)*c)*e+" A"+u+","+u+",0,0,0,"+(Math.sin((l+20)*c)*e+p)+","+(Math.cos((l+20)*c)*e+g),t.path(e+=" A"+u+","+u+",0,0,0,"+h+","+d,void 0,void 0,"1000,1000").attr(n)},t.wedge=function(e,n,i,o,s,r,a,c,l,h,d,u,g,p){var f=Math.round;r=f(r),a=f(a),c=f(c);var b=f(a/r*c),m=t.VML;359.94<(_=359.5+r/100)&&(_=359.94),s>=_&&(s=_);var v,y,C=1/180*Math.PI,_=n+Math.sin(o*C)*c,x=i-Math.cos(o*C)*b,P=n+Math.sin(o*C)*r,w=i-Math.cos(o*C)*a,O=n+Math.sin((o+s)*C)*r,M=i-Math.cos((o+s)*C)*a,k=n+Math.sin((o+s)*C)*c,S=(C=i-Math.cos((o+s)*C)*b,{fill:t.adjustLuminosity(h.fill,-.2),"stroke-opacity":0,"fill-opacity":h["fill-opacity"]}),I=0;if(180<Math.abs(s)&&(I=1),o=e.set(),m&&(_=f(10*_),P=f(10*P),O=f(10*O),k=f(10*k),x=f(10*x),w=f(10*w),M=f(10*M),C=f(10*C),n=f(10*n),l=f(10*l),i=f(10*i),r*=10,a*=10,c*=10,b*=10,1>Math.abs(s)&&1>=Math.abs(O-P)&&1>=Math.abs(M-w)&&(v=!0)),s="",u&&(S["fill-opacity"]=0,S["stroke-opacity"]=h["stroke-opacity"]/2,S.stroke=h.stroke),0<l){y=" M"+_+","+(x+l)+" L"+P+","+(w+l),m?(v||(y+=" A"+(n-r)+","+(l+i-a)+","+(n+r)+","+(l+i+a)+","+P+","+(w+l)+","+O+","+(M+l)),y+=" L"+k+","+(C+l),0<c&&(v||(y+=" B"+(n-c)+","+(l+i-b)+","+(n+c)+","+(l+i+b)+","+k+","+(l+C)+","+_+","+(l+x)))):(y+=" A"+r+","+a+",0,"+I+",1,"+O+","+(M+l)+" L"+k+","+(C+l),0<c&&(y+=" A"+c+","+b+",0,"+I+",0,"+_+","+(x+l))),y+=" Z";var L=l;m&&(L/=10);for(var T=0;T<L;T+=10){var A=e.path(y,void 0,void 0,"1000,1000").attr(S);o.push(A),A.translate(0,-T)}y=e.path(" M"+_+","+x+" L"+_+","+(x+l)+" L"+P+","+(w+l)+" L"+P+","+w+" L"+_+","+x+" Z",void 0,void 0,"1000,1000").attr(S),l=e.path(" M"+O+","+M+" L"+O+","+(M+l)+" L"+k+","+(C+l)+" L"+k+","+C+" L"+O+","+M+" Z",void 0,void 0,"1000,1000").attr(S),o.push(y),o.push(l)}if(m?(v||(s=" A"+f(n-r)+","+f(i-a)+","+f(n+r)+","+f(i+a)+","+f(P)+","+f(w)+","+f(O)+","+f(M)),a=" M"+f(_)+","+f(x)+" L"+f(P)+","+f(w)+s+" L"+f(k)+","+f(C)):a=" M"+_+","+x+" L"+P+","+w+" A"+r+","+a+",0,"+I+",1,"+O+","+M+" L"+k+","+C,0<c&&(m?v||(a+=" B"+(n-c)+","+(i-b)+","+(n+c)+","+(i+b)+","+k+","+C+","+_+","+x):a+=" A"+c+","+b+",0,"+I+",0,"+_+","+x),e.handDrawn&&(c=t.line(e,[_,P],[x,w],h.stroke,h.thickness*Math.random()*e.handDrawThickness,h["stroke-opacity"]),o.push(c)),e=e.path(a+" Z",void 0,void 0,"1000,1000").attr(h),d){for(c=[],b=0;b<d.length;b++)c.push(t.adjustLuminosity(h.fill,d[b]));"radial"!=p||t.isModern||(c=[]),0<c.length&&e.gradient(p+"Gradient",c)}return t.isModern&&"radial"==p&&e.grad&&(e.grad.setAttribute("gradientUnits","userSpaceOnUse"),e.grad.setAttribute("r",r),e.grad.setAttribute("cx",n),e.grad.setAttribute("cy",i)),e.pattern(u,NaN,g),o.wedge=e,o.push(e),o},t.rgb2hex=function(t){return(t=t.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===t.length?"#"+("0"+parseInt(t[1],10).toString(16)).slice(-2)+("0"+parseInt(t[2],10).toString(16)).slice(-2)+("0"+parseInt(t[3],10).toString(16)).slice(-2):""},t.adjustLuminosity=function(e,n){e&&-1!=e.indexOf("rgb")&&(e=t.rgb2hex(e)),6>(e=String(e).replace(/[^0-9a-f]/gi,"")).length&&(e=String(e[0])+String(e[0])+String(e[1])+String(e[1])+String(e[2])+String(e[2])),n=n||0;var i,o,s="#";for(o=0;3>o;o++)i=parseInt(e.substr(2*o,2),16),s+=("00"+(i=Math.round(Math.min(Math.max(0,i+i*n),255)).toString(16))).substr(i.length);return s}}(),function(){var t=window.AmCharts;t.Bezier=t.Class({construct:function(e,n,i,o,s,r,a,c,l,h,d){var u,g,p=e.chart,f=t.bezierX,b=t.bezierY;for(isNaN(p.bezierX)||(f=p.bezierX),isNaN(p.bezierY)||(b=p.bezierY),isNaN(f)&&(p.rotate?(f=20,b=4):(b=20,f=4)),"object"==typeof a&&1<a.length&&(g=!0,u=a,a=a[0]),"object"==typeof c&&(c=c[0]),0===c&&(a="none"),r={fill:a,"fill-opacity":c,"stroke-width":r},void 0!==l&&0<l&&(r["stroke-dasharray"]=l),isNaN(s)||(r["stroke-opacity"]=s),o&&(r.stroke=o),o="M"+Math.round(n[0])+","+Math.round(i[0])+" ",s=[],l=0;l<n.length;l++)isNaN(n[l])||isNaN(i[l])?(o+=this.drawSegment(s,f,b),l<n.length-1&&(o+="L"+n[l+1]+","+i[l+1]+" "),s=[]):s.push({x:Number(n[l]),y:Number(i[l])});o+=this.drawSegment(s,f,b),h&&(o+=h),this.path=e.path(o).attr(r),this.node=this.path.node,g&&this.path.gradient("linearGradient",u,d)},drawSegment:function(t,e,n){var i="";if(2<t.length)for(var o=0;o<t.length-1;o++){var s=[],r=t[o-1],a=t[o],c=t[o+1],l=t[o+2];0===o?(s.push({x:a.x,y:a.y}),s.push({x:a.x,y:a.y}),s.push({x:c.x,y:c.y}),s.push({x:l.x,y:l.y})):o>=t.length-2?(s.push({x:r.x,y:r.y}),s.push({x:a.x,y:a.y}),s.push({x:c.x,y:c.y}),s.push({x:c.x,y:c.y})):(s.push({x:r.x,y:r.y}),s.push({x:a.x,y:a.y}),s.push({x:c.x,y:c.y}),s.push({x:l.x,y:l.y})),r=[],a=Math.round,r.push({x:a(s[1].x),y:a(s[1].y)}),r.push({x:a((e*s[1].x-s[0].x+s[2].x)/e),y:a((n*s[1].y-s[0].y+s[2].y)/n)}),r.push({x:a((s[1].x+e*s[2].x-s[3].x)/e),y:a((s[1].y+n*s[2].y-s[3].y)/n)}),r.push({x:a(s[2].x),y:a(s[2].y)}),i+="C"+r[1].x+","+r[1].y+","+r[2].x+","+r[2].y+","+r[3].x+","+r[3].y+" "}else 1<t.length&&(i+="L"+t[1].x+","+t[1].y);return i}})}(),function(){var t=window.AmCharts;t.AmDraw=t.Class({construct:function(e,n,i,o){t.SVG_NS="http://www.w3.org/2000/svg",t.SVG_XLINK="http://www.w3.org/1999/xlink",t.hasSVG=!!document.createElementNS&&!!document.createElementNS(t.SVG_NS,"svg").createSVGRect,1>n&&(n=10),1>i&&(i=10),this.div=e,this.width=n,this.height=i,this.rBin=document.createElement("div"),t.hasSVG?(t.SVG=!0,n=this.createSvgElement("svg"),e.appendChild(n),this.container=n,this.addDefs(o),this.R=new t.SVGRenderer(this)):t.isIE&&t.VMLRenderer&&(t.VML=!0,t.vmlStyleSheet||(document.namespaces.add("amvml","urn:schemas-microsoft-com:vml"),31>document.styleSheets.length?((n=document.createStyleSheet()).addRule(".amvml","behavior:url(#default#VML); display:inline-block; antialias:true"),t.vmlStyleSheet=n):document.styleSheets[0].addRule(".amvml","behavior:url(#default#VML); display:inline-block; antialias:true")),this.container=e,this.R=new t.VMLRenderer(this,o),this.R.disableSelection(e))},createSvgElement:function(e){return document.createElementNS(t.SVG_NS,e)},circle:function(e,n,i,o){var s=new t.AmDObject("circle",this);return s.attr({r:i,cx:e,cy:n}),this.addToContainer(s.node,o),s},ellipse:function(e,n,i,o,s){var r=new t.AmDObject("ellipse",this);return r.attr({rx:i,ry:o,cx:e,cy:n}),this.addToContainer(r.node,s),r},setSize:function(t,e){0<t&&0<e&&(this.container.style.width=t+"px",this.container.style.height=e+"px")},rect:function(e,n,i,o,s,r,a){var c=new t.AmDObject("rect",this);return t.VML&&(s=Math.round(100*s/Math.min(i,o)),i+=2*r,o+=2*r,c.bw=r,c.node.style.marginLeft=-r,c.node.style.marginTop=-r),1>i&&(i=1),1>o&&(o=1),c.attr({x:e,y:n,width:i,height:o,rx:s,ry:s,"stroke-width":r}),this.addToContainer(c.node,a),c},image:function(e,n,i,o,s,r){var a=new t.AmDObject("image",this);return a.attr({x:n,y:i,width:o,height:s}),this.R.path(a,e),this.addToContainer(a.node,r),a},addToContainer:function(t,e){e||(e=this.container),e.appendChild(t)},text:function(t,e,n){return this.R.text(t,e,n)},path:function(e,n,i,o){var s=new t.AmDObject("path",this);return o||(o="100,100"),s.attr({cs:o}),s.attr(i?{dd:e}:{d:e}),this.addToContainer(s.node,n),s},set:function(t){return this.R.set(t)},remove:function(t){if(t){var e=this.rBin;e.appendChild(t),e.innerHTML=""}},renderFix:function(){var t=this.container,e=t.style;e.top="0px",e.left="0px";try{var n=t.getBoundingClientRect(),i=n.left-Math.round(n.left),o=n.top-Math.round(n.top);i&&(e.left=i+"px"),o&&(e.top=o+"px")}catch(s){}},update:function(){this.R.update()},addDefs:function(e){if(t.hasSVG){var n=this.createSvgElement("desc"),i=this.container;if(i.setAttribute("version","1.1"),i.style.position="absolute",this.setSize(this.width,this.height),e.accessibleTitle){var o=this.createSvgElement("text");i.appendChild(o),o.innerHTML=e.accessibleTitle,o.style.opacity=0}t.rtl&&(i.setAttribute("direction","rtl"),i.style.left="auto",i.style.right="0px"),e&&(e.addCodeCredits&&n.appendChild(document.createTextNode("JavaScript chart by amCharts "+e.version)),e.accessibleDescription&&(n.innerHTML="",n.appendChild(document.createTextNode(e.accessibleDescription))),i.appendChild(n),e.defs&&(n=this.createSvgElement("defs"),i.appendChild(n),t.parseDefs(e.defs,n),this.defs=n))}}})}(),function(){var t=window.AmCharts;t.AmDObject=t.Class({construct:function(t,e){this.D=e,this.R=e.R,this.node=this.R.create(this,t),this.y=this.x=0,this.scale=1},attr:function(t){return this.R.attr(this,t),this},getAttr:function(t){return this.node.getAttribute(t)},setAttr:function(t,e){return this.R.setAttr(this,t,e),this},clipRect:function(t,e,n,i){this.R.clipRect(this,t,e,n,i)},translate:function(t,e,n,i){i||(t=Math.round(t),e=Math.round(e)),this.R.move(this,t,e,n),this.x=t,this.y=e,this.scale=n,this.angle&&this.rotate(this.angle)},rotate:function(t,e){this.R.rotate(this,t,e),this.angle=t},animate:function(e,n,i){for(var o in e)if(e.hasOwnProperty(o)){var s=o,r=e[o];i=t.getEffect(i),this.R.animate(this,s,r,n,i)}},push:function(t){if(t){var e=this.node;e.appendChild(t.node);var n=t.clipPath;n&&e.appendChild(n),(t=t.grad)&&e.appendChild(t)}},text:function(t){this.R.setText(this,t)},remove:function(){this.stop(),this.R.remove(this)},clear:function(){var t=this.node;if(t.hasChildNodes())for(;1<=t.childNodes.length;)t.removeChild(t.firstChild)},hide:function(){this.setAttr("visibility","hidden")},show:function(){this.setAttr("visibility","visible")},getBBox:function(){return this.R.getBBox(this)},toFront:function(){var t=this.node;if(t){this.prevNextNode=t.nextSibling;var e=t.parentNode;e&&e.appendChild(t)}},toPrevious:function(){var t=this.node;t&&this.prevNextNode&&(t=t.parentNode)&&t.insertBefore(this.prevNextNode,null)},toBack:function(){var t=this.node;if(t){this.prevNextNode=t.nextSibling;var e=t.parentNode;if(e){var n=e.firstChild;n&&e.insertBefore(t,n)}}},mouseover:function(t){return this.R.addListener(this,"mouseover",t),this},mouseout:function(t){return this.R.addListener(this,"mouseout",t),this},click:function(t){return this.R.addListener(this,"click",t),this},dblclick:function(t){return this.R.addListener(this,"dblclick",t),this},mousedown:function(t){return this.R.addListener(this,"mousedown",t),this},mouseup:function(t){return this.R.addListener(this,"mouseup",t),this},touchmove:function(t){return this.R.addListener(this,"touchmove",t),this},touchstart:function(t){return this.R.addListener(this,"touchstart",t),this},touchend:function(t){return this.R.addListener(this,"touchend",t),this},keyup:function(t){return this.R.addListener(this,"keyup",t),this},focus:function(t){return this.R.addListener(this,"focus",t),this},blur:function(t){return this.R.addListener(this,"blur",t),this},contextmenu:function(t){return this.node.addEventListener?this.node.addEventListener("contextmenu",t,!0):this.R.addListener(this,"contextmenu",t),this},stop:function(){t.removeFromArray(this.R.animations,this.an_translate),t.removeFromArray(this.R.animations,this.an_y),t.removeFromArray(this.R.animations,this.an_x)},length:function(){return this.node.childNodes.length},gradient:function(t,e,n){this.R.gradient(this,t,e,n)},pattern:function(t,e,n){t&&this.R.pattern(this,t,e,n)}})}(),function(){var t=window.AmCharts;t.VMLRenderer=t.Class({construct:function(t,e){this.chart=e,this.D=t,this.cNames={circle:"oval",ellipse:"oval",rect:"roundrect",path:"shape"},this.styleMap={x:"left",y:"top",width:"width",height:"height","font-family":"fontFamily","font-size":"fontSize",visibility:"visibility"}},create:function(t,e){var n;if("group"==e)n=document.createElement("div"),t.type="div";else if("text"==e)n=document.createElement("div"),t.type="text";else if("image"==e)n=document.createElement("img"),t.type="image";else{t.type="shape",t.shapeType=this.cNames[e],n=document.createElement("amvml:"+this.cNames[e]);var i=document.createElement("amvml:stroke");n.appendChild(i),t.stroke=i;var o=document.createElement("amvml:fill");n.appendChild(o),t.fill=o,o.className="amvml",i.className="amvml",n.className="amvml"}return n.style.position="absolute",n.style.top=0,n.style.left=0,n},path:function(t,e){t.node.setAttribute("src",e)},setAttr:function(e,n,i){if(void 0!==i){var o;8===document.documentMode&&(o=!0);var s=e.node,r=e.type,a=s.style;"r"==n&&(a.width=2*i,a.height=2*i),"oval"==e.shapeType&&("rx"==n&&(a.width=2*i),"ry"==n&&(a.height=2*i)),"roundrect"==e.shapeType&&("width"!=n&&"height"!=n||--i),"cursor"==n&&(a.cursor=i),"cx"==n&&(a.left=i-t.removePx(a.width)/2),"cy"==n&&(a.top=i-t.removePx(a.height)/2);var c=this.styleMap[n];if("width"==c&&0>i&&(i=0),void 0!==c&&(a[c]=i),"text"==r&&("text-anchor"==n&&(e.anchor=i,c=s.clientWidth,"end"==i&&(a.marginLeft=-c+"px"),"middle"==i&&(a.marginLeft=-c/2+"px",a.textAlign="center"),"start"==i&&(a.marginLeft="0px")),"fill"==n&&(a.color=i),"font-weight"==n&&(a.fontWeight=i)),a=e.children)for(c=0;c<a.length;c++)a[c].setAttr(n,i);"shape"==r&&("cs"==n&&(s.style.width="100px",s.style.height="100px",s.setAttribute("coordsize",i)),"d"==n&&s.setAttribute("path",this.svgPathToVml(i)),"dd"==n&&s.setAttribute("path",i),r=e.stroke,e=e.fill,"stroke"==n&&(o?r.color=i:r.setAttribute("color",i)),"stroke-width"==n&&(o?r.weight=i:r.setAttribute("weight",i)),"stroke-opacity"==n&&(o?r.opacity=i:r.setAttribute("opacity",i)),"stroke-dasharray"==n&&(a="solid",0<i&&3>i&&(a="dot"),3<=i&&6>=i&&(a="dash"),6<i&&(a="longdash"),o?r.dashstyle=a:r.setAttribute("dashstyle",a)),"fill-opacity"!=n&&"opacity"!=n||(0===i?o?e.on=!1:e.setAttribute("on",!1):o?e.opacity=i:e.setAttribute("opacity",i)),"fill"==n&&(o?e.color=i:e.setAttribute("color",i)),"rx"==n&&(o?s.arcSize=i+"%":s.setAttribute("arcsize",i+"%")))}},attr:function(t,e){for(var n in e)e.hasOwnProperty(n)&&this.setAttr(t,n,e[n])},text:function(e,n,i){var o=new t.AmDObject("text",this.D),s=o.node;return s.style.whiteSpace="pre",s.innerHTML=e,this.D.addToContainer(s,i),this.attr(o,n),o},getBBox:function(t){return this.getBox(t.node)},getBox:function(t){var e,n=t.offsetLeft,i=t.offsetTop,o=t.offsetWidth,s=t.offsetHeight;if(t.hasChildNodes()){var r,a,c;for(c=0;c<t.childNodes.length;c++){var l=(e=this.getBox(t.childNodes[c])).x;isNaN(l)||(isNaN(r)?r=l:l<r&&(r=l));var h=e.y;isNaN(h)||(isNaN(a)?a=h:h<a&&(a=h)),l=e.width+l,isNaN(l)||(o=Math.max(o,l)),e=e.height+h,isNaN(e)||(s=Math.max(s,e))}0>r&&(n+=r),0>a&&(i+=a)}return{x:n,y:i,width:o,height:s}},setText:function(t,e){var n=t.node;n&&(n.innerHTML=e),this.setAttr(t,"text-anchor",t.anchor)},addListener:function(t,e,n){t.node["on"+e]=n},move:function(e,n,i){var o=e.node,s=o.style;"text"==e.type&&(i-=t.removePx(s.fontSize)/2-1),"oval"==e.shapeType&&(n-=t.removePx(s.width)/2,i-=t.removePx(s.height)/2),e=e.bw,isNaN(e)||(n-=e,i-=e),isNaN(n)||isNaN(i)||(o.style.left=n+"px",o.style.top=i+"px")},svgPathToVml:function(t){var e=t.split(" ");t="";var n,i,o=Math.round;for(i=0;i<e.length;i++){var s,r=(s=e[i]).substring(0,1),a=(s=s.substring(1)).split(","),c=o(a[0])+","+o(a[1]);if("M"==r&&(t+=" m "+c),"L"==r&&(t+=" l "+c),"Z"==r&&(t+=" x e"),"Q"==r){var l=n.length,h=n[l-1],d=a[0],u=a[1],g=(c=a[2],a[3]);t+=" c "+(n=o(n[l-2]/3+2/3*d))+","+(h=o(h/3+2/3*u))+","+(d=o(2/3*d+c/3))+","+(u=o(2/3*u+g/3))+","+c+","+g}"C"==r&&(t+=" c "+a[0]+","+a[1]+","+a[2]+","+a[3]+","+a[4]+","+a[5]),"A"==r&&(t+=" wa "+s),"B"==r&&(t+=" at "+s),n=a}return t},animate:function(t,e,n,i,o){var s=t.node,r=this.chart;if(t.animationFinished=!1,"translate"==e){e=n.split(","),n=e[1];var a=s.offsetTop;r.animate(t,"left",s.offsetLeft,e[0],i,o,"px"),r.animate(t,"top",a,n,i,o,"px")}},clipRect:function(t,e,n,i,o){t=t.node,0===e&&0===n?(t.style.width=i+"px",t.style.height=o+"px",t.style.overflow="hidden"):t.style.clip="rect("+n+"px "+(e+i)+"px "+(n+o)+"px "+e+"px)"},rotate:function(e,n,i){if(0!==Number(n)){e=(l=e.node).style,i||(i=this.getBGColor(l.parentNode)),e.backgroundColor=i,e.paddingLeft=1,i=n*Math.PI/180;var o=Math.cos(i),s=Math.sin(i),r=t.removePx(e.left),a=t.removePx(e.top),c=l.offsetWidth,l=l.offsetHeight;n/=Math.abs(n),e.left=r+c/2-c/2*Math.cos(i)-n*l/2*Math.sin(i)+3,e.top=a-n*c/2*Math.sin(i)+n*l/2*Math.sin(i),e.cssText=e.cssText+"; filter:progid:DXImageTransform.Microsoft.Matrix(M11='"+o+"', M12='"+-s+"', M21='"+s+"', M22='"+o+"', sizingmethod='auto expand');"}},getBGColor:function(t){var e="#FFFFFF";if(t.style){var n=t.style.backgroundColor;""!==n?e=n:t.parentNode&&(e=this.getBGColor(t.parentNode))}return e},set:function(e){var n,i=new t.AmDObject("group",this.D);if(this.D.container.appendChild(i.node),e)for(n=0;n<e.length;n++)i.push(e[n]);return i},gradient:function(t,e,n,i){var o,s="";for("radialGradient"==e&&(e="gradientradial",n.reverse()),"linearGradient"==e&&(e="gradient"),o=0;o<n.length;o++)s+=Math.round(100*o/(n.length-1))+"% "+n[o],o<n.length-1&&(s+=",");t=t.fill,90==i?i=0:270==i?i=180:180==i?i=90:0===i&&(i=270),8===document.documentMode?(t.type=e,t.angle=i):(t.setAttribute("type",e),t.setAttribute("angle",i)),s&&(t.colors.value=s)},remove:function(t){t.clipPath&&this.D.remove(t.clipPath),this.D.remove(t.node)},disableSelection:function(t){t.onselectstart=function(){return!1},t.style.cursor="default"},pattern:function(e,n,i,o){i=e.node,e=e.fill;var s="none";n.color&&(s=n.color),i.fillColor=s,t.isAbsolute(n=n.url)||(n=o+n),8===document.documentMode?(e.type="tile",e.src=n):(e.setAttribute("type","tile"),e.setAttribute("src",n))},update:function(){}})}(),function(){var t=window.AmCharts;t.SVGRenderer=t.Class({construct:function(t){this.D=t,this.animations=[]},create:function(e,n){return document.createElementNS(t.SVG_NS,n)},attr:function(t,e){for(var n in e)e.hasOwnProperty(n)&&this.setAttr(t,n,e[n])},setAttr:function(t,e,n){void 0!==n&&t.node.setAttribute(e,n)},animate:function(e,n,i,o,s){e.animationFinished=!1;var r=e.node;e["an_"+n]&&t.removeFromArray(this.animations,e["an_"+n]),"translate"==n?0===(r=(r=(r=(r=r.getAttribute("transform"))?String(r).substring(10,r.length-1):"0,0").split(", ").join(" ")).split(" ").join(","))&&(r="0,0"):r=Number(r.getAttribute(n)),this.animations.push(i={obj:e,frame:0,attribute:n,from:r,to:i,time:o,effect:s}),e["an_"+n]=i},update:function(){var e,n=this.animations;for(e=n.length-1;0<=e;e--){var i,o,s,r=n[e],a=r.time*t.updateRate,c=r.frame+1,l=r.obj,h=r.attribute;if(c<=a){if(r.frame++,"translate"==h){if(i=r.from.split(","),h=Number(i[0]),i=Number(i[1]),isNaN(i)&&(i=0),o=r.to.split(","),s=Number(o[0]),o=Number(o[1]),s=0==s-h?s:Math.round(t[r.effect](0,c,h,s-h,a)),r=0==o-i?o:Math.round(t[r.effect](0,c,i,o-i,a)),h="transform",isNaN(s)||isNaN(r))continue;r="translate("+s+","+r+")"}else o=Number(r.from),i=Number(r.to),r=t[r.effect](0,c,o,s=i-o,a),isNaN(r)&&(r=i),0===s&&this.animations.splice(e,1);this.setAttr(l,h,r)}else"translate"==h?(o=r.to.split(","),s=Number(o[0]),o=Number(o[1]),l.translate(s,o)):(i=Number(r.to),this.setAttr(l,h,i)),l.animationFinished=!0,this.animations.splice(e,1)}},getBBox:function(t){if(t=t.node)try{return t.getBBox()}catch(e){}return{width:0,height:0,x:0,y:0}},path:function(e,n){e.node.setAttributeNS(t.SVG_XLINK,"xlink:href",n)},clipRect:function(e,n,i,o,s){var r=e.node,a=e.clipPath;a&&this.D.remove(a);var c=r.parentNode;c&&(r=document.createElementNS(t.SVG_NS,"clipPath"),a=t.getUniqueId(),r.setAttribute("id",a),this.D.rect(n,i,o,s,0,0,r),c.appendChild(r),n="#",t.baseHref&&!t.isIE&&(n=this.removeTarget(window.location.href)+n),this.setAttr(e,"clip-path","url("+n+a+")"),this.clipPathC++,e.clipPath=r)},text:function(e,n,i){var o=new t.AmDObject("text",this.D);e=String(e).split("\n");var s,r=t.removePx(n["font-size"]);for(s=0;s<e.length;s++){var a=this.create(null,"tspan");a.appendChild(document.createTextNode(e[s])),a.setAttribute("y",(r+2)*s+Math.round(r/2)),a.setAttribute("x",0),o.node.appendChild(a)}return o.node.setAttribute("y",Math.round(r/2)),this.attr(o,n),this.D.addToContainer(o.node,i),o},setText:function(t,e){var n=t.node;n&&(n.removeChild(n.firstChild),n.appendChild(document.createTextNode(e)))},move:function(t,e,n,i){isNaN(e)&&(e=0),isNaN(n)&&(n=0),e="translate("+e+","+n+")",i&&(e=e+" scale("+i+")"),this.setAttr(t,"transform",e)},rotate:function(t,e){var n=t.node.getAttribute("transform"),i="rotate("+e+")";n&&(i=n+" "+i),this.setAttr(t,"transform",i)},set:function(e){var n,i=new t.AmDObject("g",this.D);if(this.D.container.appendChild(i.node),e)for(n=0;n<e.length;n++)i.push(e[n]);return i},addListener:function(t,e,n){t.node["on"+e]=n},gradient:function(e,n,i,o){var s=e.node,r=e.grad;if(r&&this.D.remove(r),n=document.createElementNS(t.SVG_NS,n),r=t.getUniqueId(),n.setAttribute("id",r),!isNaN(o)){var a=0,c=0,l=0,h=0;90==o?l=100:270==o?h=100:180==o?a=100:0===o&&(c=100),n.setAttribute("x1",a+"%"),n.setAttribute("x2",c+"%"),n.setAttribute("y1",l+"%"),n.setAttribute("y2",h+"%")}for(o=0;o<i.length;o++)a=document.createElementNS(t.SVG_NS,"stop"),c=100*o/(i.length-1),0===o&&(c=0),a.setAttribute("offset",c+"%"),a.setAttribute("stop-color",i[o]),n.appendChild(a);s.parentNode.appendChild(n),i="#",t.baseHref&&!t.isIE&&(i=this.removeTarget(window.location.href)+i),s.setAttribute("fill","url("+i+r+")"),e.grad=n},removeTarget:function(t){return t.split("#")[0]},pattern:function(e,n,i,o){var s=e.node;isNaN(i)&&(i=1),(r=e.patternNode)&&this.D.remove(r);var r=document.createElementNS(t.SVG_NS,"pattern"),a=t.getUniqueId(),c=n;n.url&&(c=n.url),t.isAbsolute(c)||-1!=c.indexOf("data:image")||(c=o+c),o=Number(n.width),isNaN(o)&&(o=4);var l=Number(n.height);isNaN(l)&&(l=4),o/=i,l/=i,i=n.x,isNaN(i)&&(i=0);var h=-Math.random()*Number(n.randomX);isNaN(h)||(i=h),h=n.y,isNaN(h)&&(h=0);var d=-Math.random()*Number(n.randomY);isNaN(d)||(h=d),r.setAttribute("id",a),r.setAttribute("width",o),r.setAttribute("height",l),r.setAttribute("patternUnits","userSpaceOnUse"),r.setAttribute("xlink:href",c),n.color&&((d=document.createElementNS(t.SVG_NS,"rect")).setAttributeNS(null,"height",o),d.setAttributeNS(null,"width",l),d.setAttributeNS(null,"fill",n.color),r.appendChild(d)),this.D.image(c,0,0,o,l,r).translate(i,h),c="#",t.baseHref&&!t.isIE&&(c=this.removeTarget(window.location.href)+c),s.setAttribute("fill","url("+c+a+")"),e.patternNode=r,s.parentNode.appendChild(r)},remove:function(t){t.clipPath&&this.D.remove(t.clipPath),t.grad&&this.D.remove(t.grad),t.patternNode&&this.D.remove(t.patternNode),this.D.remove(t.node)}})}(),function(){var t=window.AmCharts;t.AmLegend=t.Class({construct:function(e){this.enabled=!0,this.cname="AmLegend",this.createEvents("rollOverMarker","rollOverItem","rollOutMarker","rollOutItem","showItem","hideItem","clickMarker","clickLabel"),this.position="bottom",this.borderColor=this.color="#000000",this.borderAlpha=0,this.markerLabelGap=5,this.verticalGap=10,this.align="left",this.horizontalGap=0,this.spacing=10,this.markerDisabledColor="#AAB3B3",this.markerType="square",this.markerSize=16,this.markerBorderThickness=this.markerBorderAlpha=1,this.marginBottom=this.marginTop=0,this.marginLeft=this.marginRight=20,this.autoMargins=!0,this.valueWidth=50,this.switchable=!0,this.switchType="x",this.switchColor="#FFFFFF",this.rollOverColor="#CC0000",this.reversedOrder=!1,this.labelText="[[title]]",this.valueText="[[value]]",this.accessibleLabel="[[title]]",this.useMarkerColorForLabels=!1,this.rollOverGraphAlpha=1,this.textClickEnabled=!1,this.equalWidths=!0,this.backgroundColor="#FFFFFF",this.backgroundAlpha=0,this.useGraphSettings=!1,this.showEntries=!0,this.labelDx=0,t.applyTheme(this,e,this.cname)},setData:function(t){this.legendData=t,this.invalidateSize()},invalidateSize:function(){this.destroy(),this.entries=[],this.valueLabels=[],this.enabled&&(t.ifArray(this.legendData)||t.ifArray(this.data))&&this.drawLegend()},drawLegend:function(){var e=this.chart,n=this.position,i=this.width,o=e.divRealWidth,s=e.divRealHeight,r=this.div,a=this.legendData;if(this.data&&(a=this.combineLegend?this.legendData.concat(this.data):this.data),isNaN(this.fontSize)&&(this.fontSize=e.fontSize),this.maxColumnsReal=this.maxColumns,"right"==n||"left"==n)this.maxColumnsReal=1,this.autoMargins&&(this.marginLeft=this.marginRight=10);else if(this.autoMargins){this.marginRight=e.marginRight,this.marginLeft=e.marginLeft;var c=e.autoMarginOffset;"bottom"==n?(this.marginBottom=c,this.marginTop=0):(this.marginTop=c,this.marginBottom=0)}if(i=void 0!==i?t.toCoordinate(i,o):"right"!=n&&"left"!=n?e.realWidth:0<this.ieW?this.ieW:e.realWidth,"outside"==n?(i=r.offsetWidth,s=r.offsetHeight,r.clientHeight&&(i=r.clientWidth,s=r.clientHeight)):(isNaN(i)||(r.style.width=i+"px"),r.className="amChartsLegend "+e.classNamePrefix+"-legend-div"),this.divWidth=i,(n=this.container)?(n.container.innerHTML="",r.appendChild(n.container),n.width=i,n.height=s,n.setSize(i,s),n.addDefs(e)):n=new t.AmDraw(r,i,s,e),this.container=n,this.lx=0,this.ly=8,(s=this.markerSize)>this.fontSize&&(this.ly=s/2-1),0<s&&(this.lx+=s+this.markerLabelGap),this.titleWidth=0,(s=this.title)&&(s=t.text(this.container,s,this.color,e.fontFamily,this.fontSize,"start",!0),t.setCN(e,s,"legend-title"),s.translate(this.marginLeft,this.marginTop+this.verticalGap+this.ly+1),e=s.getBBox(),this.titleWidth=e.width+15,this.titleHeight=e.height+6),this.index=this.maxLabelWidth=0,this.showEntries){for(e=0;e<a.length;e++)this.createEntry(a[e]);for(e=this.index=0;e<a.length;e++)this.createValue(a[e])}this.arrangeEntries(),this.updateValues()},arrangeEntries:function(){var e=this.position,n=this.marginLeft+this.titleWidth,i=this.marginRight,o=this.marginTop,s=this.marginBottom,r=this.horizontalGap,a=this.div,c=this.divWidth,l=this.maxColumnsReal,h=this.verticalGap,d=this.spacing,u=c-i-n,g=0,p=0,f=this.container;this.set&&this.set.remove();var b=f.set();this.set=b;var m=f.set();b.push(m);var v,y,C=this.entries;for(y=0;y<C.length;y++)(_=(v=C[y].getBBox()).width)>g&&(g=_),(v=v.height)>p&&(p=v);var _=p=0,x=r,P=0,w=0;for(y=0;y<C.length;y++){var O,M=C[y];this.reversedOrder&&(M=C[C.length-y-1]),v=M.getBBox(),this.equalWidths?O=_*(g+d+this.markerLabelGap):(O=x,x=x+v.width+r+d),O+v.width>u&&0<y&&0!==_&&(p++,x=(O=_=0)+v.width+r+d,P=P+w+h,w=0),v.height>w&&(w=v.height),M.translate(O,P),_++,!isNaN(l)&&_>=l&&(_=0,p++,P=P+w+h,x=r,w=0),m.push(M)}l=(v=m.getBBox()).height+2*h-1,"left"==e||"right"==e?(a.style.width=(c=(d=v.width+2*r)+n+i)+"px",this.ieW=c):d=c-n-i-1,i=t.polygon(this.container,[0,d,d,0],[0,0,l,l],this.backgroundColor,this.backgroundAlpha,1,this.borderColor,this.borderAlpha),t.setCN(this.chart,i,"legend-bg"),b.push(i),b.translate(n,o),i.toBack(),n=r,"top"!=e&&"bottom"!=e&&"absolute"!=e&&"outside"!=e||("center"==this.align?n=r+(d-v.width)/2:"right"==this.align&&(n=r+d-v.width)),m.translate(n,h+1),this.titleHeight>l&&(l=this.titleHeight),0>(o=l+o+s+1)&&(o=0),"absolute"!=e&&"outside"!=e&&o>this.chart.divRealHeight&&(a.style.top="0px"),a.style.height=Math.round(o)+"px",f.setSize(this.divWidth,o)},createEntry:function(e){if(!1!==e.visibleInLegend&&!e.hideFromLegend){var n=this,i=n.chart,o=n.useGraphSettings,s=e.markerType;s&&(o=!1),e.legendEntryWidth=n.markerSize,s||(s=n.markerType);var r,a=e.color,c=e.alpha;e.legendKeyColor&&(a=e.legendKeyColor()),e.legendKeyAlpha&&(c=e.legendKeyAlpha()),!0===e.hidden&&(r=a=n.markerDisabledColor);var l,h=e.pattern,d=e.customMarker;d||(d=n.customMarker);var u,g,p=n.container,f=n.markerSize,b=0,m=0,v=f/2;if(o)o=e.type,n.switchType=void 0,"line"==o||"step"==o||"smoothedLine"==o||"ohlc"==o?(l=p.set(),e.hidden||(a=e.lineColorR,r=e.bulletBorderColorR),b=t.line(p,[0,2*f],[f/2,f/2],a,e.lineAlpha,e.lineThickness,e.dashLength),t.setCN(i,b,"graph-stroke"),l.push(b),e.bullet&&(e.hidden||(a=e.bulletColorR),b=t.bullet(p,e.bullet,e.bulletSize,a,e.bulletAlpha,e.bulletBorderThickness,r,e.bulletBorderAlpha))&&(t.setCN(i,b,"graph-bullet"),b.translate(f+1,f/2),l.push(b)),v=0,b=f,m=f/3):(e.getGradRotation&&0===(l=e.getGradRotation())&&(l=180),b=e.fillColorsR,!0===e.hidden&&(b=a),(l=n.createMarker("rectangle",b,e.fillAlphas,e.lineThickness,a,e.lineAlpha,l,h,e.dashLength))&&l.translate(v=f,f/2),b=f),t.setCN(i,l,"graph-"+o),t.setCN(i,l,"graph-"+e.id);else if(d)l=p.image(d,0,0,f,f);else{var y;isNaN(n.gradientRotation)||(y=180+n.gradientRotation),(l=n.createMarker(s,a,c,void 0,void 0,void 0,y,h))&&l.translate(f/2,f/2)}t.setCN(i,l,"legend-marker"),n.addListeners(l,e),p=p.set([l]),n.switchable&&e.switchable&&p.setAttr("cursor","pointer"),void 0!==e.id&&t.setCN(i,p,"legend-item-"+e.id),t.setCN(i,p,e.className,!0),(r=n.switchType)&&"none"!=r&&0<f&&("x"==r?(u=n.createX()).translate(f/2,f/2):u=n.createV(),u.dItem=e,!0!==e.hidden?"x"==r?u.hide():u.show():"x"!=r&&u.hide(),n.switchable||u.hide(),n.addListeners(u,e),e.legendSwitch=u,p.push(u),t.setCN(i,u,"legend-switch")),r=n.color,e.showBalloon&&n.textClickEnabled&&void 0!==n.selectedColor&&(r=n.selectedColor),n.useMarkerColorForLabels&&!h&&(r=a),!0===e.hidden&&(r=n.markerDisabledColor),a=t.massReplace(n.labelText,{"[[title]]":e.title}),void 0!==n.tabIndex&&(p.setAttr("tabindex",n.tabIndex),p.setAttr("role","menuitem"),p.keyup((function(t){13==t.keyCode&&n.clickMarker(e,t)}))),i.accessible&&n.accessibleLabel&&(h=t.massReplace(n.accessibleLabel,{"[[title]]":e.title}),i.makeAccessible(p,h)),h=n.fontSize,l&&(f<=h&&(l.translate(v,f=f/2+n.ly-h/2+(h+2-f)/2-m),u&&u.translate(u.x,f)),e.legendEntryWidth=l.getBBox().width),a&&(a=t.fixBrakes(a),e.legendTextReal=a,g=n.labelWidth,g=isNaN(g)?t.text(n.container,a,r,i.fontFamily,h,"start"):t.wrappedText(n.container,a,r,i.fontFamily,h,"start",!1,g,0),t.setCN(i,g,"legend-label"),g.translate(n.lx+b,n.ly),p.push(g),n.labelDx=b,i=g.getBBox().width,n.maxLabelWidth<i&&(n.maxLabelWidth=i)),n.entries[n.index]=p,e.legendEntry=n.entries[n.index],e.legendMarker=l,e.legendLabel=g,n.index++}},addListeners:function(t,e){var n=this;t&&t.mouseover((function(t){n.rollOverMarker(e,t)})).mouseout((function(t){n.rollOutMarker(e,t)})).click((function(t){n.clickMarker(e,t)}))},rollOverMarker:function(t,e){this.switchable&&this.dispatch("rollOverMarker",t,e),this.dispatch("rollOverItem",t,e)},rollOutMarker:function(t,e){this.switchable&&this.dispatch("rollOutMarker",t,e),this.dispatch("rollOutItem",t,e)},clickMarker:function(t,e){this.switchable&&this.dispatch(!0===t.hidden?"showItem":"hideItem",t,e),this.dispatch("clickMarker",t,e)},rollOverLabel:function(t,e){t.hidden||this.textClickEnabled&&t.legendLabel&&t.legendLabel.attr({fill:this.rollOverColor}),this.dispatch("rollOverItem",t,e)},rollOutLabel:function(t,e){if(!t.hidden&&this.textClickEnabled&&t.legendLabel){var n=this.color;void 0!==this.selectedColor&&t.showBalloon&&(n=this.selectedColor),this.useMarkerColorForLabels&&void 0===(n=t.lineColor)&&(n=t.color),t.legendLabel.attr({fill:n})}this.dispatch("rollOutItem",t,e)},clickLabel:function(t,e){this.textClickEnabled?t.hidden||this.dispatch("clickLabel",t,e):this.switchable&&this.dispatch(!0===t.hidden?"showItem":"hideItem",t,e)},dispatch:function(t,e,n){t={type:t,dataItem:e,target:this,event:n,chart:this.chart},this.chart&&this.chart.handleLegendEvent(t),this.fire(t)},createValue:function(e){var n=this,i=n.fontSize,o=n.chart;if(!1!==e.visibleInLegend&&!e.hideFromLegend){var s=n.maxLabelWidth,r=0;n.forceWidth&&(s=n.labelWidth),n.equalWidths||(n.valueAlign="left"),r={x:0,y:0,width:0,height:0},e.legendLabel&&(r=e.legendLabel.getBBox()),"left"==n.valueAlign&&(s=r.width),r=r.height;var a=s,c=n.markerSize;if(c<i+7&&(c=i+7,t.VML&&(c+=3)),n.valueText&&0<n.valueWidth){var l=n.color;n.useMarkerColorForValues&&(l=e.color,e.legendKeyColor&&(l=e.legendKeyColor())),!0===e.hidden&&(l=n.markerDisabledColor),s=s+n.lx+n.labelDx+n.markerLabelGap+n.valueWidth;var h="end";"left"==n.valueAlign&&(s-=n.valueWidth,h="start"),i=t.text(n.container,n.valueText,l,n.chart.fontFamily,i,h),t.setCN(o,i,"legend-value"),i.translate(s,n.ly),n.entries[n.index].push(i),a+=n.valueWidth+2*n.markerLabelGap,i.dItem=e,n.valueLabels.push(i),c<r+5&&(c=r+5)}n.index++,(o=n.container.rect(e.legendEntryWidth,0,a,c,0,0).attr({stroke:"none",fill:"#fff","fill-opacity":.005})).dItem=e,n.entries[n.index-1].push(o),o.mouseover((function(t){n.rollOverLabel(e,t)})).mouseout((function(t){n.rollOutLabel(e,t)})).click((function(t){n.clickLabel(e,t)}))}},createV:function(){var e=this.markerSize;return t.polygon(this.container,[e/5,e/2,e-e/5,e/2],[e/3,e-e/5,e/5,e/1.7],this.switchColor)},createX:function(){var e={stroke:this.switchColor,"stroke-width":3},n=this.container,i=t.line(n,[-(o=(this.markerSize-4)/2),o],[-o,o]).attr(e),o=t.line(n,[-o,o],[o,-o]).attr(e);return this.container.set([i,o])},createMarker:function(e,n,i,o,s,r,a,c,l){var h=this.markerSize,d=this.container;return s||(s=this.markerBorderColor),s||(s=n),isNaN(o)&&(o=this.markerBorderThickness),isNaN(r)&&(r=this.markerBorderAlpha),t.bullet(d,e,h,n,i,o,s,r,h,a,c,this.chart.path,l)},validateNow:function(){this.invalidateSize()},updateValues:function(){var e,n=this.valueLabels,i=this.chart,o=this.data;if(n)for(e=0;e<n.length;e++){var s=n[e],r=s.dItem;r.periodDataItem=void 0,r.periodPercentDataItem=void 0;var a=" ";if(o)s.text(r.value?r.value:"");else{var c=null;if(void 0!==r.type){var l=this.periodValueText;r.legendPeriodValueText&&(l=r.legendPeriodValueText),r.legendPeriodValueTextR&&(l=r.legendPeriodValueTextR),(c=r.currentDataItem)?(a=this.valueText,r.legendValueText&&(a=r.legendValueText),r.legendValueTextR&&(a=r.legendValueTextR),a=i.formatString(a,c)):l&&i.formatPeriodString&&(l=t.massReplace(l,{"[[title]]":r.title}),a=i.formatPeriodString(l,r))}else a=i.formatString(this.valueText,r);l=r,c&&(l=c);var h,d=this.valueFunction;d&&(a=d(l,a,i.periodDataItem)),this.useMarkerColorForLabels&&!c&&r.lastDataItem&&(c=r.lastDataItem),c?h=i.getBalloonColor(r,c):r.legendKeyColor&&(h=r.legendKeyColor()),r.legendColorFunction&&(h=r.legendColorFunction(l,a,r.periodDataItem,r.periodPercentDataItem)),s.text(a),!r.pattern&&(this.useMarkerColorForValues&&s.setAttr("fill",h),this.useMarkerColorForLabels)&&((s=r.legendMarker)&&(s.setAttr("fill",h),s.setAttr("stroke",h)),(s=r.legendLabel)&&s.setAttr("fill",r.hidden?this.markerDisabledColor:h))}}},renderFix:function(){if(!t.VML&&this.enabled){var e=this.container;e&&e.renderFix()}},destroy:function(){this.div.innerHTML="",t.remove(this.set)}})}(),function(){var t=window.AmCharts;t.formatMilliseconds=function(t,e){if(-1!=t.indexOf("fff")){var n=e.getMilliseconds(),i=String(n);10>n&&(i="00"+n),10<=n&&100>n&&(i="0"+n),t=t.replace(/fff/g,i)}return t},t.extractPeriod=function(e){var n=t.stripNumbers(e),i=1;return n!=e&&(i=Number(e.slice(0,e.indexOf(n)))),{period:n,count:i}},t.getDate=function(e,n,i){return e instanceof Date?t.newDate(e,i):n&&isNaN(e)?t.stringToDate(e,n):new Date(e)},t.daysInMonth=function(t){return new Date(t.getYear(),t.getMonth()+1,0).getDate()},t.newDate=function(t,e){return e&&-1==e.indexOf("fff")?new Date(t):new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())},t.resetDateToMin=function(e,n,i,o){var s,r,a,c,l,h,d;switch(void 0===o&&(o=1),t.useUTC?(s=e.getUTCFullYear(),r=e.getUTCMonth(),a=e.getUTCDate(),c=e.getUTCHours(),l=e.getUTCMinutes(),h=e.getUTCSeconds(),d=e.getUTCMilliseconds(),e=e.getUTCDay()):(s=e.getFullYear(),r=e.getMonth(),a=e.getDate(),c=e.getHours(),l=e.getMinutes(),h=e.getSeconds(),d=e.getMilliseconds(),e=e.getDay()),n){case"YYYY":s=Math.floor(s/i)*i,r=0,a=1,d=h=l=c=0;break;case"MM":r=Math.floor(r/i)*i,a=1,d=h=l=c=0;break;case"WW":a=e>=o?a-e+o:a-(7+e)+o,d=h=l=c=0;break;case"DD":d=h=l=c=0;break;case"hh":c=Math.floor(c/i)*i,d=h=l=0;break;case"mm":l=Math.floor(l/i)*i,d=h=0;break;case"ss":h=Math.floor(h/i)*i,d=0;break;case"fff":d=Math.floor(d/i)*i}return t.useUTC?((e=new Date).setUTCFullYear(s,r,a),e.setUTCHours(c,l,h,d)):e=new Date(s,r,a,c,l,h,d),e},t.getPeriodDuration=function(t,e){var n;switch(void 0===e&&(e=1),t){case"YYYY":n=316224e5;break;case"MM":n=26784e5;break;case"WW":n=6048e5;break;case"DD":n=864e5;break;case"hh":n=36e5;break;case"mm":n=6e4;break;case"ss":n=1e3;break;case"fff":n=1}return n*e},t.intervals={s:{nextInterval:"ss",contains:1e3},ss:{nextInterval:"mm",contains:60,count:0},mm:{nextInterval:"hh",contains:60,count:1},hh:{nextInterval:"DD",contains:24,count:2},DD:{nextInterval:"",contains:1/0,count:3}},t.getMaxInterval=function(e,n){var i=t.intervals;return e>=i[n].contains?(e=Math.round(e/i[n].contains),t.getMaxInterval(e,n=i[n].nextInterval)):"ss"==n?i[n].nextInterval:n},t.dayNames="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),t.shortDayNames="Sun Mon Tue Wed Thu Fri Sat".split(" "),t.monthNames="January February March April May June July August September October November December".split(" "),t.shortMonthNames="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),t.getWeekNumber=function(t){(t=new Date(t)).setHours(0,0,0),t.setDate(t.getDate()+4-(t.getDay()||7));var e=new Date(t.getFullYear(),0,1);return Math.ceil(((t-e)/864e5+1)/7)},t.stringToDate=function(e,n){var i={},o=[{pattern:"YYYY",period:"year"},{pattern:"YY",period:"year"},{pattern:"MM",period:"month"},{pattern:"M",period:"month"},{pattern:"DD",period:"date"},{pattern:"D",period:"date"},{pattern:"JJ",period:"hours"},{pattern:"J",period:"hours"},{pattern:"HH",period:"hours"},{pattern:"H",period:"hours"},{pattern:"KK",period:"hours"},{pattern:"K",period:"hours"},{pattern:"LL",period:"hours"},{pattern:"L",period:"hours"},{pattern:"NN",period:"minutes"},{pattern:"N",period:"minutes"},{pattern:"SS",period:"seconds"},{pattern:"S",period:"seconds"},{pattern:"QQQ",period:"milliseconds"},{pattern:"QQ",period:"milliseconds"},{pattern:"Q",period:"milliseconds"}],s=!0;-1!=(l=n.indexOf("AA"))&&(e.substr(l,2),"pm"==e.toLowerCase&&(s=!1));var r,a,c,l=n;for(c=0;c<o.length;c++)i[a=o[c].period]=0,"date"==a&&(i[a]=1);for(c=0;c<o.length;c++)if(a=o[c].period,-1!=n.indexOf(r=o[c].pattern)){var h=t.getFromDateString(r,e,l);n=n.replace(r,""),"KK"!=r&&"K"!=r&&"LL"!=r&&"L"!=r||s||(h+=12),i[a]=h}return t.useUTC?((o=new Date).setUTCFullYear(i.year,i.month,i.date),o.setUTCHours(i.hours,i.minutes,i.seconds,i.milliseconds)):o=new Date(i.year,i.month,i.date,i.hours,i.minutes,i.seconds,i.milliseconds),o},t.getFromDateString=function(t,e,n){if(void 0!==e)return n=n.indexOf(t),"0"==(e=(e=String(e)).substr(n,t.length)).charAt(0)&&(e=e.substr(1,e.length-1)),e=Number(e),isNaN(e)&&(e=0),-1!=t.indexOf("M")&&e--,e},t.formatDate=function(e,n,i){i||(i=t);var o,s,r,a,c,l,h,d,u=t.getWeekNumber(e);t.useUTC?(o=e.getUTCFullYear(),s=e.getUTCMonth(),r=e.getUTCDate(),a=e.getUTCDay(),c=e.getUTCHours(),l=e.getUTCMinutes(),h=e.getUTCSeconds(),d=e.getUTCMilliseconds()):(o=e.getFullYear(),s=e.getMonth(),r=e.getDate(),a=e.getDay(),c=e.getHours(),l=e.getMinutes(),h=e.getSeconds(),d=e.getMilliseconds());var g=String(o).substr(2,2),p="0"+a;n=n.replace(/W/g,u),24==(u=c)&&(u=0);var f=u;10>f&&(f="0"+f),n=(n=n.replace(/JJ/g,f)).replace(/J/g,u),0===(f=c)&&(f=24,-1!=n.indexOf("H")&&0==--r&&((o=new Date(e)).setDate(o.getDate()-1),s=o.getMonth(),r=o.getDate(),o=o.getFullYear())),e=s+1,9>s&&(e="0"+e),u=r,10>r&&(u="0"+r);var b=f;return 10>b&&(b="0"+b),n=(n=n.replace(/HH/g,b)).replace(/H/g,f),11<(f=c)&&(f-=12),10>(b=f)&&(b="0"+b),n=(n=n.replace(/KK/g,b)).replace(/K/g,f),0===(f=c)&&(f=12),12<f&&(f-=12),10>(b=f)&&(b="0"+b),n=(n=n.replace(/LL/g,b)).replace(/L/g,f),10>(f=l)&&(f="0"+f),n=(n=n.replace(/NN/g,f)).replace(/N/g,l),10>(l=h)&&(l="0"+l),n=(n=n.replace(/SS/g,l)).replace(/S/g,h),10>(h=d)?h="00"+h:100>h&&(h="0"+h),10>(l=d)&&(l="00"+l),(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=n.replace(/A/g,"@A@")).replace(/QQQ/g,h)).replace(/QQ/g,l)).replace(/Q/g,d)).replace(/YYYY/g,"@IIII@")).replace(/YY/g,"@II@")).replace(/MMMM/g,"@XXXX@")).replace(/MMM/g,"@XXX@")).replace(/MM/g,"@XX@")).replace(/M/g,"@X@")).replace(/DD/g,"@RR@")).replace(/D/g,"@R@")).replace(/EEEE/g,"@PPPP@")).replace(/EEE/g,"@PPP@")).replace(/EE/g,"@PP@")).replace(/E/g,"@P@")).replace(/@IIII@/g,o)).replace(/@II@/g,g)).replace(/@XXXX@/g,i.monthNames[s])).replace(/@XXX@/g,i.shortMonthNames[s])).replace(/@XX@/g,e)).replace(/@X@/g,s+1)).replace(/@RR@/g,u)).replace(/@R@/g,r)).replace(/@PPPP@/g,i.dayNames[a])).replace(/@PPP@/g,i.shortDayNames[a])).replace(/@PP@/g,p)).replace(/@P@/g,a)).replace(/@A@/g,12>c?i.amString:i.pmString)},t.changeDate=function(e,n,i,o,s){if(t.useUTC)return t.changeUTCDate(e,n,i,o,s);var r=-1;switch(void 0===o&&(o=!0),void 0===s&&(s=!1),!0===o&&(r=1),n){case"YYYY":e.setFullYear(e.getFullYear()+i*r),o||s||e.setDate(e.getDate()+1);break;case"MM":n=e.getMonth();var a=e.getFullYear();e.setMonth(e.getMonth()+i*r),a==e.getFullYear()&&e.getMonth()>n+i*r&&e.setDate(e.getDate()-1),o||s||e.setDate(e.getDate()+1);break;case"DD":e.setDate(e.getDate()+i*r);break;case"WW":e.setDate(e.getDate()+i*r*7);break;case"hh":e.setHours(e.getHours()+i*r);break;case"mm":e.setMinutes(e.getMinutes()+i*r);break;case"ss":e.setSeconds(e.getSeconds()+i*r);break;case"fff":e.setMilliseconds(e.getMilliseconds()+i*r)}return e},t.changeUTCDate=function(t,e,n,i,o){var s=-1;switch(void 0===i&&(i=!0),void 0===o&&(o=!1),!0===i&&(s=1),e){case"YYYY":t.setUTCFullYear(t.getUTCFullYear()+n*s),i||o||t.setUTCDate(t.getUTCDate()+1);break;case"MM":e=t.getUTCMonth(),t.setUTCMonth(t.getUTCMonth()+n*s),t.getUTCMonth()>e+n*s&&t.setUTCDate(t.getUTCDate()-1),i||o||t.setUTCDate(t.getUTCDate()+1);break;case"DD":t.setUTCDate(t.getUTCDate()+n*s);break;case"WW":t.setUTCDate(t.getUTCDate()+n*s*7);break;case"hh":t.setUTCHours(t.getUTCHours()+n*s);break;case"mm":t.setUTCMinutes(t.getUTCMinutes()+n*s);break;case"ss":t.setUTCSeconds(t.getUTCSeconds()+n*s);break;case"fff":t.setUTCMilliseconds(t.getUTCMilliseconds()+n*s)}return t}}()},I55L:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));const i=t=>t&&"number"==typeof t.length&&"function"!=typeof t},ITgo:function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));var i=n("3My9"),o=n("ciLT"),s=n("etJ/"),r=n("F/6N"),a=n("bLCJ"),c=n("fXoL"),l=n("ofXK"),h=n("/jvD");function d(t,e){if(1&t&&(c.Vb(0,"div",7),c.Nc(1),c.Ub()),2&t){const t=c.gc(2);c.Bb(1),c.Oc(t.unreadNotificationMsgs+t.unreadSocketMsgs)}}function u(t,e){if(1&t){const t=c.Wb();c.Vb(0,"div",8),c.Vb(1,"app-chat-layout",9),c.dc("onCloseChatLog",(function(e){return c.Cc(t),c.gc(2).onCloseChatLog()})),c.Ub(),c.Ub()}if(2&t){const t=c.gc(2);c.Bb(1),c.nc("partner",t.partner)("showSidebar",!0)("fromSticky",!0)}}const g=function(t){return{playerStyle:t}};function p(t,e){if(1&t){const t=c.Wb();c.Vb(0,"div",1),c.Vb(1,"div",2),c.dc("click",(function(e){return c.Cc(t),c.gc().toggleStickyChatLog()})),c.Lc(2,d,2,1,"div",3),c.Vb(3,"div",4),c.dc("click",(function(e){return c.Cc(t),c.gc().closeSticky(e)})),c.Qb(4,"i",5),c.Ub(),c.Ub(),c.Lc(5,u,2,3,"div",6),c.Ub()}if(2&t){const t=c.gc();c.nc("ngClass",c.sc(5,g,t.innerPlayer)),c.Bb(1),c.Kc("background-image","url("+t.stickyBg+")",c.Ib),c.Bb(1),c.nc("ngIf",t.unreadNotificationMsgs+t.unreadSocketMsgs>0),c.Bb(3),c.nc("ngIf",t.showChatLog)}}let f=(()=>{class t{constructor(t,e,n,i,o){this._userService=t,this._storage=e,this._stickyChatService=n,this.socketFacade=i,this._utility=o,this.isDark=!1,this.subscription=[],this.showChatLog=!1,this.showSticky=!1,this.innerPlayer=!1,this.unreadNotificationMsgs=0,this.unreadSocketMsgs=0,this.messageSound="assets/sound/message.mp3",this.lastSocketUnread=0,this.isDark=!!parseInt(this._storage.GetConfig().isDark),this.audio=new Audio}ngOnInit(){this.subscription.push(this._userService.userState$.subscribe(t=>{this.user=t}),this._userService.notificationState$.subscribe(t=>{this.unreadNotificationMsgs=t.pm,t.pm>0&&(this.showSticky=!0,this._stickyChatService.updateState(this.showSticky))}),this.socketFacade.concatsHasUnreadMessage$.subscribe(t=>{this.unreadSocketMsgs=t.filter(t=>1===t.isRemind).length,0===this.unreadSocketMsgs&&(this.lastSocketUnread=0),this.unreadSocketMsgs>0&&(this.lastSocketUnread!==this.unreadSocketMsgs&&(this.playAudio(),this.lastSocketUnread=this.unreadSocketMsgs),this.showSticky=!0,this._stickyChatService.updateState(this.showSticky))}),this._stickyChatService.showSticky.subscribe(t=>{void 0!==t&&(this.showSticky=t)}),this._stickyChatService.showLog.subscribe(t=>{void 0!==t&&(this.showChatLog=t)}),this._stickyChatService.partnerPkg.subscribe(t=>{void 0!==t&&(this.partner=Object.assign(Object.assign({},t),{avatar:decodeURIComponent(t.avatar),name:decodeURIComponent(t.name)}))}),this._utility.GetOrCreateSubscript("theme.change").subscribe(t=>{this.isDark="dark"===t,this.stickyBg=`./assets/images/sticky-chat/sticky_bg${this.isDark?".png?v=4":"_light.png?v=4"}`})),this.stickyBg=`./assets/images/sticky-chat/sticky_bg${this.isDark?".png?v=4":"_light.png?v=4"}`}ngOnDestroy(){this.subscription.forEach(t=>t.unsubscribe())}toggleStickyChatLog(){this.showChatLog=!this.showChatLog,this._stickyChatService.toggleChatLog(this.showChatLog),!1===this.showChatLog&&setTimeout(()=>{this.partner=void 0},100)}onCloseChatLog(){this.showChatLog=!1,this._stickyChatService.toggleChatLog(this.showChatLog)}closeSticky(t){t.preventDefault(),t.stopPropagation(),this.showSticky=!1,this._stickyChatService.updateState(this.showSticky),this.lastSocketUnread=0,this.onCloseChatLog()}playAudio(){this.audio.src=this.messageSound,this.audio.load(),this.audio.play(),console.log("msg received sound played")}}return t.\u0275fac=function(e){return new(e||t)(c.Pb(o.a),c.Pb(s.a),c.Pb(r.a),c.Pb(a.a),c.Pb(i.a))},t.\u0275cmp=c.Jb({type:t,selectors:[["app-sticky-chat"]],inputs:{innerPlayer:"innerPlayer"},decls:1,vars:1,consts:[["class","sticky",3,"ngClass",4,"ngIf"],[1,"sticky",3,"ngClass"],[1,"sticky-notification",3,"click"],["class","notification-nums-ctn",4,"ngIf"],[1,"sticky-close",3,"click"],[1,"iconfont","iconguanbi","close"],["class","sticky-chat",4,"ngIf"],[1,"notification-nums-ctn"],[1,"sticky-chat"],[3,"partner","showSidebar","fromSticky","onCloseChatLog"]],template:function(t,e){1&t&&c.Lc(0,p,6,7,"div",0),2&t&&c.nc("ngIf",e.showSticky&&!!e.user.id)},directives:[l.n,l.l,h.a],styles:[".text-gray[_ngcontent-%COMP%]{color:#f8f8f8!important}.text-light[_ngcontent-%COMP%]{color:hsla(0,0%,100%,.4)!important}.light[_ngcontent-%COMP%]   .text-light[_ngcontent-%COMP%]{color:#888!important}.text-large[_ngcontent-%COMP%]{font-size:18px}text-medium[_ngcontent-%COMP%]{font-size:16px}.text-small[_ngcontent-%COMP%]{font-size:13px}.dn-button[_ngcontent-%COMP%]{border:none;outline:none!important;display:block;padding:6px 8px;width:auto;min-width:100px;margin:0 .4rem;border-radius:0;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;text-align:center;color:#fff!important;background-color:#373843}.light[_ngcontent-%COMP%]   .dn-button[_ngcontent-%COMP%]{background-color:#777}.dn-button[_ngcontent-%COMP%]:hover{background-color:hsla(0,0%,40%,.2)}.dn-button-plain[_ngcontent-%COMP%]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border:1px solid silver;color:#000!important;background-color:#fff;padding:6px 20px;cursor:pointer}.dn-button-plain[_ngcontent-%COMP%]:hover{background-color:#cacaca;color:#fff!important}.dn-button-outline[_ngcontent-%COMP%]{outline:none!important;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border:2px solid silver;border-radius:0;background-color:#fff;padding:2px 14px;cursor:pointer}.dn-button-outline[_ngcontent-%COMP%]:hover{background-color:#cacaca;color:#fff!important}.dn-button-outline.orange[_ngcontent-%COMP%]{color:#f49800;border-color:#f49800;background-color:#434343}.dn-button-outline.orange[_ngcontent-%COMP%]:hover{color:#fe9e00!important;border-color:#fe9e00!important;background-color:#000}.dn-button-blue[_ngcontent-%COMP%]{color:#fff!important;background-color:#00a8ec!important}.dn-button-blue[_ngcontent-%COMP%]:hover{background-color:#00b6ff!important}.dn-button-disable[_ngcontent-%COMP%]{cursor:default;color:hsla(0,0%,100%,.2)!important;background-color:hsla(0,0%,40%,.2)!important}.light[_ngcontent-%COMP%]   .dn-button-disable[_ngcontent-%COMP%]{color:#a0a0a0!important}.dn-button-orange[_ngcontent-%COMP%]{color:#fff!important;background-color:#f49800}.dn-button-orange[_ngcontent-%COMP%]:hover{background-color:#fe9e00}.dn-button-gold[_ngcontent-%COMP%]{color:#fff!important;background-color:#f49800!important}.dn-button-gold[_ngcontent-%COMP%]:hover{background-color:#fe9e00!important}.dn-button-red[_ngcontent-%COMP%]{color:#fff!important}.dn-button-red[_ngcontent-%COMP%], .dn-button-red[_ngcontent-%COMP%]:hover{background-color:#00c0ff}.dn-button-large[_ngcontent-%COMP%]{padding:10px 18px}.dn-play-button[_ngcontent-%COMP%]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;padding:4px 12px;border-radius:3px;font-size:16px;display:inline-block;color:#fff!important;background-color:#f00000}.dn-play-button[_ngcontent-%COMP%]:hover{background-color:#f10000}.dn-play-button[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{font-size:20px;vertical-align:middle}.dn-play-button[_ngcontent-%COMP%]   .btn-text[_ngcontent-%COMP%]{display:inline-block;border-left:1px solid #fff;padding:3px 8px 3px 10px;vertical-align:middle}.dn-btn-load-more[_ngcontent-%COMP%]{cursor:pointer;padding:5px 15px}.link-blue[_ngcontent-%COMP%]{color:#00a8ec}.link-blue[_ngcontent-%COMP%]:hover{color:#434343}.red[_ngcontent-%COMP%]{color:#f00000}.rose[_ngcontent-%COMP%]{color:#ff01ff}.orange[_ngcontent-%COMP%]{color:#fe9e00}.sticky[_ngcontent-%COMP%]{position:fixed;z-index:10000;right:16px;bottom:30px}.sticky.playerStyle[_ngcontent-%COMP%]{bottom:105px}.sticky-notification[_ngcontent-%COMP%]{width:60px;height:52px;background-repeat:no-repeat;background-position:50%;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer}.sticky-notification[_ngcontent-%COMP%], .sticky-notification[_ngcontent-%COMP%]:hover   .sticky-close[_ngcontent-%COMP%]{display:-webkit-box;display:flex}.notification-nums-ctn[_ngcontent-%COMP%]{cursor:pointer;background-color:red;color:#fff;padding:0 4px;height:16px;line-height:16px;text-align:center;border-radius:4px;font-size:12px!important;margin-top:-31px;margin-left:35px}.sticky-close[_ngcontent-%COMP%]{width:16px;height:16px;border-radius:50%;background-color:rgba(0,0,0,.5);position:absolute;top:-18px;right:0;display:none;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;padding-top:1px}.sticky-close[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{font-size:12px;color:hsla(0,0%,100%,.7);cursor:pointer}.sticky-close[_ngcontent-%COMP%]:hover   .close[_ngcontent-%COMP%]{color:#fff}.sticky-chat[_ngcontent-%COMP%]{width:460px;height:360px;position:absolute;bottom:0;right:65px;background-color:#1b1d27;box-shadow:1px 1px 5px 0 rgba(0,0,0,.35)}.light[_nghost-%COMP%]   .sticky-chat[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .sticky-chat[_ngcontent-%COMP%]{background-color:#fff}"]}),t})()},Ibf7:function(t,e,n){"use strict";var i=n("Gjsa");t.exports=function(t,e,n){t&&i((function(){t.apply(n||null,e||[])}))}},Ieb1:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var i=n("Njeq"),o=n("j4Sn"),s=n("tWDZ"),r=n("lJxs"),a=n("etJ/"),c=n("fXoL");let l=(()=>{class t{constructor(t,e,n,i){this._apiUrlHelper=t,this._rechargeRecordformer=e,this._httpClientHelper=n,this._storage=i,this.regionCode="GL"}getRechargeHistory(t,e,n){const i=this._apiUrlHelper.urlBuilder("recharge-history",{page:e,pageSize:n});return this._httpClientHelper.get(i).pipe(Object(r.a)(t=>{try{return{count:t[0].count,items:t[0].list.map(t=>this._rechargeRecordformer.transform(t))}}catch(e){return t[0]}}))}getCustomerServiceInfo(){try{this.regionCode=this._storage.GetConfig().region?this._storage.GetConfig().region.split(".")[0]:""}catch(e){}const t=this._apiUrlHelper.urlBuilder("customer-service-info",{type:1,region:this.regionCode});return this._httpClientHelper.get(t,!0)}getCustomerServiceChat(t){try{this.regionCode=this._storage.GetConfig().region?this._storage.GetConfig().region.split(".")[0]:""}catch(n){}const e=this._apiUrlHelper.urlBuilder("customer-service-chat",{type:t,region:this.regionCode});return this._httpClientHelper.get(e,!0)}getProductsAndPayment(t){var e=this._apiUrlHelper.urlBuilder("products",0!==t&&void 0!==t?{uid:t}:{});return this._httpClientHelper.get(e,!1,0!==t&&void 0!==t).pipe(Object(r.a)(t=>({products:this.sortProducts(t[0].options.productlist.map(t=>this.transformProduct(t))),payments:t[0].options.paymentlist,discountInfo:t[0].discountInfo,isbindtelphone:t[0].options.isbindtelphone})))}transformProduct(t){t.value=t.productName;for(var e=0,n=1,i=0;i<t.promotions.length;++i)t.promotions[i].minusPrice>0&&(e+=t.promotions[i].minusPrice),t.promotions[i].discountRate>0&&(n*=t.promotions[i].discountRate/100);switch(n<=0&&(n=1),t.productCNYOG=t.memo,t.productValueOG=t.productValue,t.productValue=t.productValue*n-e,t.productID){case 1:case 2:t.label='<span class="orange">\u9ec4\u91d1</span>VIP';break;case 3:t.label='<span class="red">\u81f3\u5c0a</span>VIP';break;case 4:t.label='<span class="rose">\u60c5\u4fa3</span>VIP'}return t.label=t.customHtml||t.label,t.prompt=t.isPromot,t}sortProducts(t){return t.sort((function(t,e){return t.order-e.order}))}}return t.\u0275fac=function(e){return new(e||t)(c.Zb(i.a),c.Zb(o.a),c.Zb(s.a),c.Zb(a.a))},t.\u0275prov=c.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},IjjT:function(t,e,n){"use strict";let i=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();n.d(e,"a",(function(){return o}));class o extends i{constructor(t,e=i.now){super(t,()=>o.delegate&&o.delegate!==this?o.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return o.delegate&&o.delegate!==this?o.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},IwDO:function(t,e,n){"use strict";var i=n("Njeq"),o=n("NO+K"),s=n("tWDZ"),r=n("jtHE"),a=n("oB13"),c=n("x+ZX"),l=n("lJxs"),h=n("fXoL");n.d(e,"a",(function(){return d}));let d=(()=>{class t{constructor(t,e,n){this._apiUrlHelper=t,this._videoTransFormer=e,this._httpClientHelper=n}getTrendingSearchList(t=0){if(!this.trendData){const t=this._apiUrlHelper.urlBuilder("trending-searches",{});this.trendData=this._httpClientHelper.get(t).pipe(function(t,e,n,i){const o=new r.a(1,void 0,void 0);return t=>Object(a.a)(()=>o,void 0)(t)}(),Object(c.a)()),setTimeout(()=>{this.trendData=null},18e5)}return this.trendData.pipe(Object(l.a)(e=>null!=e&&e.length>=t?e[t].map(t=>({title:t.title,count:t.num})):[]))}getTags(t){const e=this._apiUrlHelper.urlBuilder("tag-list",{cid:t});return this._httpClientHelper.get(e).pipe(Object(l.a)(t=>t))}getSearchTree(t){const e=this._apiUrlHelper.urlBuilder("search-tree",{cid:t});return this._httpClientHelper.get(e).pipe(Object(l.a)(t=>t))}search(t,e=!0){var n=-1===t.cid?"":t.cid?t.cid:"";"game"==n&&(n="games");const i=this._apiUrlHelper.urlBuilder("search",{tags:t.keyword?t.keyword:"",orderby:t.orderBy?t.orderBy:0,page:t.page?t.page:1,size:t.size?t.size:10,desc:t.desc?1:"0",cid:n,label:t.tag?"-1"===t.tag||-1===t.tag?"":t.tag:"",year:t.year?"-1"===t.year||-1===t.year?"":t.year:"",language:t.language?"-1"===t.language||-1===t.language?"":t.language:"",region:t.region?"-1"===t.region||-1===t.region?"":t.region:"",isserial:t.status?"-1"===t.status||-1===t.status?"-1":t.status:-1,isIndex:t.isRecommended?"-1"===t.isRecommended||-1===t.isRecommended?"-1":t.isRecommended:-1,isfree:t.isFree?"-1"===t.isFree||-1===t.isFree?"-1":t.isFree:-1,vipResource:t.vipResource?t.vipResource:""},e?"":"NEWS_ENDPOINT");return this._httpClientHelper.get(i).pipe(Object(l.a)(t=>e?{count:t[0].recordcount,items:t[0].result}:{count:t[0].recordcount,items:t[0].result.map(t=>this._videoTransFormer.transformFromList(t))}))}solrSearch(t){const e=this._apiUrlHelper.urlBuilder("solr-search",{tags:t.keyword?t.keyword:"",star:t.star?t.star:"",orderby:0==t.orderBy?t.orderBy+"":t.orderBy?t.orderBy+"":"4",page:t.page?t.page:1,size:t.size?t.size:10,desc:t.desc?1:0,cid:-1===t.cid?"":t.cid?t.cid:"",year:t.year?"-1"===t.year||-1===t.year?"":t.year:"",language:t.language?"-1"===t.language||-1===t.language?"":t.language:"",region:t.region?"-1"===t.region||-1===t.region?"":t.region:"",isserial:t.status?"-1"===t.status||-1===t.status?"-1":t.status:-1,istitle:t.istitle,cinema:t.cinema?t.cinema:void 0,vipResource:t.vipResource?t.vipResource:""});return this._httpClientHelper.post(e,{tags:t.keyword?t.keyword:""},null).pipe(Object(l.a)(t=>t.length?{count:t[0].recordcount,items:t[0].result.map(t=>this._videoTransFormer.transformFromList(t))}:{count:0,items:[]}))}userSearch(t){let e="";e=0===t.orderBy?t.orderBy+"":t.orderBy?t.orderBy+"":"4";const n=this._apiUrlHelper.urlBuilder("user-search",{orderby:e,page:t.page?t.page:1,size:t.size?t.size:10,desc:t.desc?1:0,cinema:t.cinema?t.cinema:void 0});return this._httpClientHelper.post(n,{tags:t.keyword?t.keyword:""},null).pipe(Object(l.a)(t=>t.length?{count:t[0].recordNum,items:t[0].list.map(t=>t)}:{count:0,items:[]}))}getSearchFilters(){const t=this._apiUrlHelper.urlBuilder("search-filters",{});return this._httpClientHelper.get(t).pipe(Object(l.a)(t=>({region:t[0].region.map((t,e)=>({cid:"",id:t.link,link:t.link,slug:"",title:t.title})),language:t[0].language.map((t,e)=>({cid:"",id:t.link,link:t.link,slug:"",title:t.title})),year:t[0].year.map((t,e)=>({cid:"",id:t.link,link:t.link,slug:"",title:t.title})),status:t[0].isSerial.map(t=>({cid:"",id:t.link,link:t.link,slug:"",title:t.title}))})))}getSearchSuggestList(){return this.getTrendingSearchList(1)}albumSearch(t){const e=this._apiUrlHelper.urlBuilder("ablum-search",{page:t.page?t.page:1,size:t.size?t.size:10,photoType:"album"===t.type?0:1});return this._httpClientHelper.post(e,{tag:t.label?t.label:"",key:t.keyword?t.keyword:""},null).pipe(Object(l.a)(t=>t.length?{count:t[0].recordCount,items:t[0].list.map(t=>t)}:{count:0,items:[]}))}getAlbumLabels(){const t=this._apiUrlHelper.urlBuilder("get-ablum-labels",{});return this._httpClientHelper.get(t).pipe(Object(l.a)(t=>t.map((t,e)=>({title:t,id:e}))))}}return t.\u0275fac=function(e){return new(e||t)(h.Zb(i.a),h.Zb(o.a),h.Zb(s.a))},t.\u0275prov=h.Lb({token:t,factory:t.\u0275fac}),t})()},IzEk:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n("7o/Q"),o=n("4I5i"),s=n("EY2u");function r(t){return e=>0===t?Object(s.b)():e.lift(new a(t))}class a{constructor(t){if(this.total=t,this.total<0)throw new o.a}call(t,e){return e.subscribe(new c(t,this.total))}}class c extends i.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}},JIr8:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n("l7GE"),o=n("51Dv"),s=n("ZUHj");function r(t){return function(e){const n=new a(t),i=e.lift(n);return n.caught=i}}class a{constructor(t){this.selector=t}call(t,e){return e.subscribe(new c(t,this.selector,this.caught))}}class c extends i.a{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const i=new o.a(this,void 0,void 0);this.add(i);const r=Object(s.a)(this,n,void 0,void 0,i);r!==i&&this.add(r)}}}},"JU/d":function(t,e,n){"use strict";var i=n("vxfF"),o=n("fXoL"),s=n("nLfN"),r=n("cH1L"),a=n("ofXK"),c=n("8LU1"),l=n("+rOU"),h=n("XNiG"),d=n("quSY"),u=n("VRyK"),g=n("IzEk"),p=n("1G5W");class f{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Object(c.c)(-this._previousScrollPosition.left),t.style.top=Object(c.c)(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,e=t.style,n=this._document.body.style,i=e.scrollBehavior||"",o=n.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),e.scrollBehavior=n.scrollBehavior="auto",window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),e.scrollBehavior=i,n.scrollBehavior=o}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width}}function b(){return Error("Scroll strategy has already been attached.")}class m{constructor(t,e,n,i){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){if(this._overlayRef)throw b();this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class v{enable(){}disable(){}attach(){}}function y(t,e){return e.some(e=>t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function C(t,e){return e.some(e=>t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)}class _{constructor(t,e,n,i){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=i,this._scrollSubscription=null}attach(t){if(this._overlayRef)throw b();this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:e,height:n}=this._viewportRuler.getViewportSize();y(t,[{width:e,height:n,bottom:n,right:e,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let x=(()=>{class t{constructor(t,e,n,i){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this.noop=()=>new v,this.close=t=>new m(this._scrollDispatcher,this._ngZone,this._viewportRuler,t),this.block=()=>new f(this._viewportRuler,this._document),this.reposition=t=>new _(this._scrollDispatcher,this._viewportRuler,this._ngZone,t),this._document=i}}return t.\u0275fac=function(e){return new(e||t)(o.Zb(i.b),o.Zb(i.d),o.Zb(o.z),o.Zb(a.d))},t.\u0275prov=Object(o.Lb)({factory:function(){return new t(Object(o.Zb)(i.b),Object(o.Zb)(i.d),Object(o.Zb)(o.z),Object(o.Zb)(a.d))},token:t,providedIn:"root"}),t})();class P{constructor(t){if(this.scrollStrategy=new v,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const n of e)void 0!==t[n]&&(this[n]=t[n])}}}class w{constructor(t,e,n,i,o){this.offsetX=n,this.offsetY=i,this.panelClass=o,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class O{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}function M(t,e){if("top"!==e&&"bottom"!==e&&"center"!==e)throw Error(`ConnectedPosition: Invalid ${t} "${e}". `+'Expected "top", "bottom" or "center".')}function k(t,e){if("start"!==e&&"end"!==e&&"center"!==e)throw Error(`ConnectedPosition: Invalid ${t} "${e}". `+'Expected "start", "end" or "center".')}let S=(()=>{class t{constructor(t){this._attachedOverlays=[],this._keydownListener=t=>{const e=this._attachedOverlays;for(let n=e.length-1;n>-1;n--)if(e[n]._keydownEvents.observers.length>0){e[n]._keydownEvents.next(t);break}},this._document=t}ngOnDestroy(){this._detach()}add(t){this.remove(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0),this._attachedOverlays.push(t)}remove(t){const e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this._detach()}_detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(o.Zb(a.d))},t.\u0275prov=Object(o.Lb)({factory:function(){return new t(Object(o.Zb)(a.d))},token:t,providedIn:"root"}),t})();const I=!("undefined"==typeof window||!window||!window.__karma__&&!window.jasmine);let L=(()=>{class t{constructor(t,e){this._platform=e,this._document=t}ngOnDestroy(){const t=this._containerElement;t&&t.parentNode&&t.parentNode.removeChild(t)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._platform?this._platform.isBrowser:"undefined"!=typeof window;if(t||I){const t=this._document.querySelectorAll('.cdk-overlay-container[platform="server"], .cdk-overlay-container[platform="test"]');for(let e=0;e<t.length;e++)t[e].parentNode.removeChild(t[e])}const e=this._document.createElement("div");e.classList.add("cdk-overlay-container"),I?e.setAttribute("platform","test"):t||e.setAttribute("platform","server"),this._document.body.appendChild(e),this._containerElement=e}}return t.\u0275fac=function(e){return new(e||t)(o.Zb(a.d),o.Zb(s.a))},t.\u0275prov=Object(o.Lb)({factory:function(){return new t(Object(o.Zb)(a.d),Object(o.Zb)(s.a))},token:t,providedIn:"root"}),t})();class T{constructor(t,e,n,i,o,s,r,a){this._portalOutlet=t,this._host=e,this._pane=n,this._config=i,this._ngZone=o,this._keyboardDispatcher=s,this._document=r,this._location=a,this._backdropElement=null,this._backdropClick=new h.a,this._attachments=new h.a,this._detachments=new h.a,this._locationChanges=d.a.EMPTY,this._backdropClickHandler=t=>this._backdropClick.next(t),this._keydownEvents=new h.a,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.asObservable().pipe(Object(g.a)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&this._location&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick.asObservable()}attachments(){return this._attachments.asObservable()}detachments(){return this._detachments.asObservable()}keydownEvents(){return this._keydownEvents.asObservable()}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Object(c.c)(this._config.width),t.height=Object(c.c)(this._config.height),t.minWidth=Object(c.c)(this._config.minWidth),t.minHeight=Object(c.c)(this._config.minHeight),t.maxWidth=Object(c.c)(this._config.maxWidth),t.maxHeight=Object(c.c)(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"auto":"none"}_attachBackdrop(){this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add("cdk-overlay-backdrop-showing")})}):this._backdropElement.classList.add("cdk-overlay-backdrop-showing")}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t,e=this._backdropElement;if(!e)return;let n=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",n),e.parentNode&&e.parentNode.removeChild(e)),this._backdropElement==e&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",n)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(n,500))}_toggleClasses(t,e,n){const i=t.classList;Object(c.a)(e).forEach(t=>{t&&(n?i.add(t):i.remove(t))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.asObservable().pipe(Object(p.a)(Object(u.a)(this._attachments,this._detachments))).subscribe(()=>{this._pane&&this._host&&0!==this._pane.children.length||(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}}const A=/([A-Za-z%]+)$/;class N{constructor(t,e,n,i,o){this._viewportRuler=e,this._document=n,this._platform=i,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new h.a,this._resizeSubscription=d.a.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges.asObservable(),this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){if(this._overlayRef&&t!==this._overlayRef)throw Error("This position strategy is already attached to an overlay");this._validatePositions(),t.hostElement.classList.add("cdk-overlay-connected-position-bounding-box"),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,n=this._viewportRect,i=[];let o;for(let s of this._preferredPositions){let r=this._getOriginPoint(t,s),a=this._getOverlayPoint(r,e,s),c=this._getOverlayFit(a,e,n,s);if(c.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(s,r);this._canFitWithFlexibleDimensions(c,a,n)?i.push({position:s,origin:r,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(r,s)}):(!o||o.overlayFit.visibleArea<c.visibleArea)&&(o={overlayFit:c,overlayPoint:a,originPoint:r,position:s,overlayRect:e})}if(i.length){let t=null,e=-1;for(const n of i){const i=n.boundingBoxRect.width*n.boundingBoxRect.height*(n.position.weight||1);i>e&&(e=i,t=n)}return this._isPushed=!1,void this._applyPosition(t.position,t.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(o.position,o.originPoint);this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&B(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove("cdk-overlay-connected-position-bounding-box"),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let n,i;if("center"==e.originX)n=t.left+t.width/2;else{const i=this._isRtl()?t.right:t.left,o=this._isRtl()?t.left:t.right;n="start"==e.originX?i:o}return i="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom,{x:n,y:i}}_getOverlayPoint(t,e,n){let i,o;return i="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,o="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height,{x:t.x+i,y:t.y+o}}_getOverlayFit(t,e,n,i){let{x:o,y:s}=t,r=this._getOffset(i,"x"),a=this._getOffset(i,"y");r&&(o+=r),a&&(s+=a);let c=0-s,l=s+e.height-n.height,h=this._subtractOverflows(e.width,0-o,o+e.width-n.width),d=this._subtractOverflows(e.height,c,l),u=h*d;return{visibleArea:u,isCompletelyWithinViewport:e.width*e.height===u,fitsInViewportVertically:d===e.height,fitsInViewportHorizontally:h==e.width}}_canFitWithFlexibleDimensions(t,e,n){if(this._hasFlexibleDimensions){const i=n.bottom-e.y,o=n.right-e.x,s=V(this._overlayRef.getConfig().minHeight),r=V(this._overlayRef.getConfig().minWidth),a=t.fitsInViewportHorizontally||null!=r&&r<=o;return(t.fitsInViewportVertically||null!=s&&s<=i)&&a}return!1}_pushOverlayOnScreen(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const i=this._viewportRect,o=Math.max(t.x+e.width-i.right,0),s=Math.max(t.y+e.height-i.bottom,0),r=Math.max(i.top-n.top-t.y,0),a=Math.max(i.left-n.left-t.x,0);let c=0,l=0;return c=e.width<=i.width?a||-o:t.x<this._viewportMargin?i.left-n.left-t.x:0,l=e.height<=i.height?r||-s:t.y<this._viewportMargin?i.top-n.top-t.y:0,this._previousPushAmount={x:c,y:l},{x:t.x+c,y:t.y+l}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const e=this._getScrollVisibility(),n=new O(t,e);this._positionChanges.next(n)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,i=t.overlayY;n="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${n} ${i}`}_calculateBoundingBoxRect(t,e){const n=this._viewportRect,i=this._isRtl();let o,s,r,a,c,l;if("top"===e.overlayY)s=t.y,o=n.height-s+this._viewportMargin;else if("bottom"===e.overlayY)r=n.height-t.y+2*this._viewportMargin,o=n.height-r+this._viewportMargin;else{const e=Math.min(n.bottom-t.y+n.top,t.y),i=this._lastBoundingBoxSize.height;o=2*e,s=t.y-e,o>i&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-i/2)}if("end"===e.overlayX&&!i||"start"===e.overlayX&&i)l=n.width-t.x+this._viewportMargin,a=t.x-this._viewportMargin;else if("start"===e.overlayX&&!i||"end"===e.overlayX&&i)c=t.x,a=n.right-t.x;else{const e=Math.min(n.right-t.x+n.left,t.x),i=this._lastBoundingBoxSize.width;a=2*e,c=t.x-e,a>i&&!this._isInitialRender&&!this._growAfterOpen&&(c=t.x-i/2)}return{top:s,left:c,bottom:r,right:l,width:a,height:o}}_setBoundingBoxStyles(t,e){const n=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const t=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;i.height=Object(c.c)(n.height),i.top=Object(c.c)(n.top),i.bottom=Object(c.c)(n.bottom),i.width=Object(c.c)(n.width),i.left=Object(c.c)(n.left),i.right=Object(c.c)(n.right),i.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",i.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",t&&(i.maxHeight=Object(c.c)(t)),o&&(i.maxWidth=Object(c.c)(o))}this._lastBoundingBoxSize=n,B(this._boundingBox.style,i)}_resetBoundingBoxStyles(){B(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){B(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const n={},i=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(i){const i=this._viewportRuler.getViewportScrollPosition();B(n,this._getExactOverlayY(e,t,i)),B(n,this._getExactOverlayX(e,t,i))}else n.position="static";let r="",a=this._getOffset(e,"x"),l=this._getOffset(e,"y");a&&(r+=`translateX(${a}px) `),l&&(r+=`translateY(${l}px)`),n.transform=r.trim(),s.maxHeight&&(i?n.maxHeight=Object(c.c)(s.maxHeight):o&&(n.maxHeight="")),s.maxWidth&&(i?n.maxWidth=Object(c.c)(s.maxWidth):o&&(n.maxWidth="")),B(this._pane.style,n)}_getExactOverlayY(t,e,n){let i={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n));let s=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return o.y-=s,"bottom"===t.overlayY?i.bottom=`${this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)}px`:i.top=Object(c.c)(o.y),i}_getExactOverlayX(t,e,n){let i,o={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,n)),i=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===i?o.right=`${this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)}px`:o.left=Object(c.c)(s.x),o}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(t=>t.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:C(t,n),isOriginOutsideView:y(t,n),isOverlayClipped:C(e,n),isOverlayOutsideView:y(e,n)}}_subtractOverflows(t,...e){return e.reduce((t,e)=>t-Math.max(e,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){if(!this._preferredPositions.length)throw Error("FlexibleConnectedPositionStrategy: At least one position is required.");this._preferredPositions.forEach(t=>{k("originX",t.originX),M("originY",t.originY),k("overlayX",t.overlayX),M("overlayY",t.overlayY)})}_addPanelClasses(t){this._pane&&Object(c.a)(t).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof o.l)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}}function B(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function V(t){if("number"!=typeof t&&null!=t){const[e,n]=t.split(A);return n&&"px"!==n?null:parseFloat(e)}return t||null}class U{constructor(t,e,n,i,o,s,r){this._preferredPositions=[],this._positionStrategy=new N(n,i,o,s,r).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e)}get _isRtl(){return"rtl"===this._overlayRef.getDirection()}get onPositionChange(){return this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,n,i){const o=new w(t,e,n,i);return this._preferredPositions.push(o),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}class D{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add("cdk-global-overlay-wrapper"),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:i,height:o,maxWidth:s,maxHeight:r}=n,a=!("100%"!==i&&"100vw"!==i||s&&"100%"!==s&&"100vw"!==s),c=!("100%"!==o&&"100vh"!==o||r&&"100%"!==r&&"100vh"!==r);t.position=this._cssPosition,t.marginLeft=a?"0":this._leftOffset,t.marginTop=c?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,a?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove("cdk-global-overlay-wrapper"),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let E=(()=>{class t{constructor(t,e,n,i){this._viewportRuler=t,this._document=e,this._platform=n,this._overlayContainer=i}global(){return new D}connectedTo(t,e,n){return new U(e,n,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(t){return new N(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return t.\u0275fac=function(e){return new(e||t)(o.Zb(i.d),o.Zb(a.d),o.Zb(s.a),o.Zb(L))},t.\u0275prov=Object(o.Lb)({factory:function(){return new t(Object(o.Zb)(i.d),Object(o.Zb)(a.d),Object(o.Zb)(s.a),Object(o.Zb)(L))},token:t,providedIn:"root"}),t})(),R=0,F=(()=>{class t{constructor(t,e,n,i,o,s,r,a,c,l){this.scrollStrategies=t,this._overlayContainer=e,this._componentFactoryResolver=n,this._positionBuilder=i,this._keyboardDispatcher=o,this._injector=s,this._ngZone=r,this._document=a,this._directionality=c,this._location=l}create(t){const e=this._createHostElement(),n=this._createPaneElement(e),i=this._createPortalOutlet(n),o=new P(t);return o.direction=o.direction||this._directionality.value,new T(i,e,n,o,this._ngZone,this._keyboardDispatcher,this._document,this._location)}position(){return this._positionBuilder}_createPaneElement(t){const e=this._document.createElement("div");return e.id=`cdk-overlay-${R++}`,e.classList.add("cdk-overlay-pane"),t.appendChild(e),e}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(o.g)),new l.b(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return t.\u0275fac=function(e){return new(e||t)(o.Zb(x),o.Zb(L),o.Zb(o.j),o.Zb(E),o.Zb(S),o.Zb(o.r),o.Zb(o.z),o.Zb(a.d),o.Zb(r.b),o.Zb(a.j,8))},t.\u0275prov=o.Lb({token:t,factory:t.\u0275fac}),t})();const j={provide:new o.q("cdk-connected-overlay-scroll-strategy"),deps:[F],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};let z=(()=>{class t{}return t.\u0275mod=o.Nb({type:t}),t.\u0275inj=o.Mb({factory:function(e){return new(e||t)},providers:[F,j],imports:[[r.a,l.c,i.c],i.c]}),t})(),H=(()=>{class t extends L{constructor(t,e){super(t,e)}ngOnDestroy(){super.ngOnDestroy(),this._fullScreenEventName&&this._fullScreenListener&&this._document.removeEventListener(this._fullScreenEventName,this._fullScreenListener)}_createContainer(){super._createContainer(),this._adjustParentForFullscreenChange(),this._addFullscreenChangeListener(()=>this._adjustParentForFullscreenChange())}_adjustParentForFullscreenChange(){this._containerElement&&(this.getFullscreenElement()||this._document.body).appendChild(this._containerElement)}_addFullscreenChangeListener(t){const e=this._getEventName();e&&(this._fullScreenListener&&this._document.removeEventListener(e,this._fullScreenListener),this._document.addEventListener(e,t),this._fullScreenListener=t)}_getEventName(){if(!this._fullScreenEventName){const t=this._document;t.fullscreenEnabled?this._fullScreenEventName="fullscreenchange":t.webkitFullscreenEnabled?this._fullScreenEventName="webkitfullscreenchange":t.mozFullScreenEnabled?this._fullScreenEventName="mozfullscreenchange":t.msFullscreenEnabled&&(this._fullScreenEventName="MSFullscreenChange")}return this._fullScreenEventName}getFullscreenElement(){const t=this._document;return t.fullscreenElement||t.webkitFullscreenElement||t.mozFullScreenElement||t.msFullscreenElement||null}}return t.\u0275fac=function(e){return new(e||t)(o.Zb(a.d),o.Zb(s.a))},t.\u0275prov=Object(o.Lb)({factory:function(){return new t(Object(o.Zb)(a.d),Object(o.Zb)(s.a))},token:t,providedIn:"root"}),t})();var G=n("SxV6"),W=(n("LRne"),n("vkgz")),q=n("Kj3r"),Q=n("pLZG"),$=n("lJxs");n("HDdC");class K extends class{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new h.a,this._typeaheadSubscription=d.a.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new h.a,this.change=new h.a,t instanceof o.D&&t.changes.subscribe(t=>{if(this._activeItem){const e=t.toArray().indexOf(this._activeItem);e>-1&&e!==this._activeItemIndex&&(this._activeItemIndex=e)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){if(this._items.length&&this._items.some(t=>"function"!=typeof t.getLabel))throw Error("ListKeyManager items in typeahead mode must implement the `getLabel` method.");return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Object(W.a)(t=>this._pressedLetters.push(t)),Object(q.a)(t),Object(Q.a)(()=>this._pressedLetters.length>0),Object($.a)(()=>this._pressedLetters.join(""))).subscribe(t=>{const e=this._getItemsArray();for(let n=1;n<e.length+1;n++){const i=(this._activeItemIndex+n)%e.length,o=e[i];if(!this._skipPredicateFn(o)&&0===o.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(i);break}}this._pressedLetters=[]}),this}setActiveItem(t){const e=this._activeItemIndex;this.updateActiveItem(t),this._activeItemIndex!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,n=["altKey","ctrlKey","metaKey","shiftKey"].every(e=>!t[e]||this._allowedModifierKeys.indexOf(e)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&n){this.setNextItemActive();break}return;case 38:if(this._vertical&&n){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&n){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&n){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;default:return void((n||function(t,...e){return e.length?e.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),n="number"==typeof t?t:e.indexOf(t),i=e[n];this._activeItem=null==i?null:i,this._activeItemIndex=n}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let n=1;n<=e.length;n++){const i=(this._activeItemIndex+t*n+e.length)%e.length;if(!this._skipPredicateFn(e[i]))return void this.setActiveItem(i)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const n=this._getItemsArray();if(n[t]){for(;this._skipPredicateFn(n[t]);)if(!n[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof o.D?this._items.toArray():this._items}}{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}"undefined"!=typeof Element&&Element,n.d(e,"a",(function(){return ct})),n.d(e,"b",(function(){return lt})),n.d(e,"c",(function(){return at}));const X=["menu"],Y=["li"];function Z(t,e){}const J=function(t){return{$implicit:t}};function tt(t,e){if(1&t){const t=o.Wb();o.Vb(0,"a",7),o.dc("click",(function(e){o.Cc(t);const n=o.gc().$implicit;return o.gc().onMenuItemSelect(n,e)}))("mouseenter",(function(e){o.Cc(t);const n=o.gc().$implicit;return o.gc().onOpenSubMenu(n,e)})),o.Lc(1,Z,0,0,"ng-template",8),o.Ub()}if(2&t){const t=o.gc().$implicit,e=o.gc();o.Gb("dropdown-item",e.useBootstrap4)("active",t.isActive&&e.isMenuItemEnabled(t))("disabled",e.useBootstrap4&&!e.isMenuItemEnabled(t))("hasSubMenu",!!t.subMenu),o.Bb(1),o.nc("ngTemplateOutlet",t.template)("ngTemplateOutletContext",o.sc(10,J,e.item))}}function et(t,e){}function nt(t,e){if(1&t){const t=o.Wb();o.Vb(0,"span",9),o.dc("click",(function(e){return o.Cc(t),o.gc(2).stopEvent(e)}))("contextmenu",(function(e){return o.Cc(t),o.gc(2).stopEvent(e)})),o.Lc(1,et,0,0,"ng-template",8),o.Ub()}if(2&t){const t=o.gc().$implicit,e=o.gc();o.Gb("dropdown-item",e.useBootstrap4)("disabled",e.useBootstrap4&&!e.isMenuItemEnabled(t)),o.Bb(1),o.nc("ngTemplateOutlet",t.template)("ngTemplateOutletContext",o.sc(6,J,e.item))}}function it(t,e){if(1&t&&(o.Vb(0,"li",null,4),o.Lc(2,tt,2,12,"a",5),o.Lc(3,nt,2,8,"span",6),o.Ub()),2&t){const t=e.$implicit,n=o.gc();o.Gb("disabled",!n.isMenuItemEnabled(t))("divider",t.divider)("dropdown-divider",n.useBootstrap4&&t.divider)("active",t.isActive&&n.isMenuItemEnabled(t)),o.Cb("role",t.divider?"separator":void 0),o.Bb(2),o.nc("ngIf",!t.divider&&!t.passive),o.Bb(1),o.nc("ngIf",!t.divider&&t.passive)}}let ot=(()=>{class t{constructor(t,e){this.template=t,this.elementRef=e,this.divider=!1,this.enabled=!0,this.passive=!1,this.visible=!0,this.execute=new o.n,this.isActive=!1}get disabled(){return this.passive||this.divider||!this.evaluateIfFunction(this.enabled,this.currentItem)}evaluateIfFunction(t,e){return t instanceof Function?t(e):t}setActiveStyles(){this.isActive=!0}setInactiveStyles(){this.isActive=!1}triggerExecute(t,e){this.evaluateIfFunction(this.enabled,t)&&this.execute.emit({event:e,item:t})}}return t.\u0275fac=function(e){return new(e||t)(o.Pb(o.L),o.Pb(o.l))},t.\u0275dir=o.Kb({type:t,selectors:[["","contextMenuItem",""]],inputs:{divider:"divider",enabled:"enabled",passive:"passive",visible:"visible",subMenu:"subMenu"},outputs:{execute:"execute"}}),t})();const st=new o.q("CONTEXT_MENU_OPTIONS");let rt=(()=>{class t{constructor(t,e,n){this.changeDetector=t,this.elementRef=e,this.options=n,this.menuItems=[],this.isLeaf=!1,this.execute=new o.n,this.openSubMenu=new o.n,this.closeLeafMenu=new o.n,this.closeAllMenus=new o.n,this.autoFocus=!1,this.useBootstrap4=!1,this.subscription=new d.a,n&&(this.autoFocus=n.autoFocus,this.useBootstrap4=n.useBootstrap4)}ngOnInit(){this.menuItems.forEach(t=>{t.currentItem=this.item,this.subscription.add(t.execute.subscribe(e=>this.execute.emit(Object.assign({},e,{menuItem:t}))))});const t=new o.D;t.reset(this.menuItems),this._keyManager=new K(t).withWrap()}ngAfterViewInit(){this.autoFocus&&setTimeout(()=>this.focus()),this.overlay.updatePosition()}ngOnDestroy(){this.subscription.unsubscribe()}focus(){this.autoFocus&&this.menuElement.nativeElement.focus()}stopEvent(t){t.stopPropagation()}isMenuItemEnabled(t){return this.evaluateIfFunction(t&&t.enabled)}isMenuItemVisible(t){return this.evaluateIfFunction(t&&t.visible)}evaluateIfFunction(t){return t instanceof Function?t(this.item):t}isDisabled(t){return t.enabled&&!t.enabled(this.item)}onKeyEvent(t){this.isLeaf&&this._keyManager.onKeydown(t)}keyboardOpenSubMenu(t){if(!this.isLeaf)return;this.cancelEvent(t);const e=this.menuItems[this._keyManager.activeItemIndex];e&&this.onOpenSubMenu(e)}keyboardMenuItemSelect(t){if(!this.isLeaf)return;this.cancelEvent(t);const e=this.menuItems[this._keyManager.activeItemIndex];e&&this.onMenuItemSelect(e,t)}onCloseLeafMenu(t){this.isLeaf&&(this.cancelEvent(t),this.closeLeafMenu.emit({exceptRootMenu:37===t.keyCode,event:t}))}closeMenu(t){"click"===t.type&&2===t.button||this.closeAllMenus.emit({event:t})}onOpenSubMenu(t,e){const n=this.menuItemElements.toArray()[this._keyManager.activeItemIndex];this.openSubMenu.emit({anchorElement:n&&n.nativeElement,contextMenu:t.subMenu,event:e,item:this.item,parentContextMenu:this})}onMenuItemSelect(t,e){e.preventDefault(),e.stopPropagation(),this.onOpenSubMenu(t,e),t.subMenu||t.triggerExecute(this.item,e)}cancelEvent(t){if(!t)return;const e=t.target;["INPUT","TEXTAREA","SELECT"].indexOf(e.tagName)>-1||e.isContentEditable||(t.preventDefault(),t.stopPropagation())}}return t.\u0275fac=function(e){return new(e||t)(o.Pb(o.h),o.Pb(o.l),o.Pb(st,8))},t.\u0275cmp=o.Jb({type:t,selectors:[["context-menu-content"]],viewQuery:function(t,e){var n;1&t&&(o.Ic(X,!0),o.Uc(Y,!0)),2&t&&(o.yc(n=o.ec())&&(e.menuElement=n.first),o.yc(n=o.ec())&&(e.menuItemElements=n))},hostBindings:function(t,e){1&t&&o.dc("keydown.ArrowDown",(function(t){return e.onKeyEvent(t)}),!1,o.Bc)("keydown.ArrowUp",(function(t){return e.onKeyEvent(t)}),!1,o.Bc)("keydown.ArrowRight",(function(t){return e.keyboardOpenSubMenu(t)}),!1,o.Bc)("keydown.Enter",(function(t){return e.keyboardMenuItemSelect(t)}),!1,o.Bc)("keydown.Space",(function(t){return e.keyboardMenuItemSelect(t)}),!1,o.Bc)("keydown.Escape",(function(t){return e.onCloseLeafMenu(t)}),!1,o.Bc)("keydown.ArrowLeft",(function(t){return e.onCloseLeafMenu(t)}),!1,o.Bc)("click",(function(t){return e.closeMenu(t)}),!1,o.Ac)("contextmenu",(function(t){return e.closeMenu(t)}),!1,o.Ac)},inputs:{menuItems:"menuItems",isLeaf:"isLeaf",item:"item",event:"event",parentContextMenu:"parentContextMenu",menuClass:"menuClass",overlay:"overlay"},outputs:{execute:"execute",openSubMenu:"openSubMenu",closeLeafMenu:"closeLeafMenu",closeAllMenus:"closeAllMenus"},decls:4,vars:2,consts:[["tabindex","0",1,"dropdown","open","show","ngx-contextmenu",3,"ngClass"],["tabindex","0",1,"dropdown-menu","show",2,"position","static","float","none"],["menu",""],[3,"disabled","divider","dropdown-divider","active",4,"ngFor","ngForOf"],["li",""],["href","",3,"dropdown-item","active","disabled","hasSubMenu","click","mouseenter",4,"ngIf"],["class","passive",3,"dropdown-item","disabled","click","contextmenu",4,"ngIf"],["href","",3,"click","mouseenter"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"passive",3,"click","contextmenu"]],template:function(t,e){1&t&&(o.Vb(0,"div",0),o.Vb(1,"ul",1,2),o.Lc(3,it,4,11,"li",3),o.Ub(),o.Ub()),2&t&&(o.nc("ngClass",e.menuClass),o.Bb(3),o.nc("ngForOf",e.menuItems))},directives:[a.l,a.m,a.n,a.s],styles:[".passive[_ngcontent-%COMP%] {\n        display: block;\n        padding: 3px 20px;\n        clear: both;\n        font-weight: normal;\n        line-height: @line-height-base;\n        white-space: nowrap;\n      }\n      .hasSubMenu[_ngcontent-%COMP%]:before {\n        content: '\u25b6';\n        float: right;\n      }"]}),t})(),at=(()=>{class t{constructor(t,e){this.overlay=t,this.scrollStrategy=e,this.isDestroyingLeafMenu=!1,this.show=new h.a,this.triggerClose=new h.a,this.close=new h.a,this.overlays=[],this.fakeElement={getBoundingClientRect:()=>({bottom:0,height:0,left:0,right:0,top:0,width:0})}}openContextMenu(t){const{anchorElement:e,event:n,parentContextMenu:i}=t;if(i){const s=this.overlay.position().connectedTo(new o.l(n?n.target:e),{originX:"end",originY:"top"},{overlayX:"start",overlayY:"top"}).withFallbackPosition({originX:"start",originY:"top"},{overlayX:"end",overlayY:"top"}).withFallbackPosition({originX:"end",originY:"bottom"},{overlayX:"start",overlayY:"bottom"}).withFallbackPosition({originX:"start",originY:"bottom"},{overlayX:"end",overlayY:"bottom"}),r=this.overlay.create({positionStrategy:s,panelClass:"ngx-contextmenu",scrollStrategy:this.scrollStrategy.close()});this.destroySubMenus(i),this.overlays=this.overlays.concat(r),this.attachContextMenu(r,t)}else{const i=n;this.fakeElement.getBoundingClientRect=()=>({bottom:i.clientY,height:0,left:i.clientX,right:i.clientX,top:i.clientY,width:0}),this.closeAllContextMenus({eventType:"cancel",event:n});const s=this.overlay.position().connectedTo(new o.l(e||this.fakeElement),{originX:"start",originY:"bottom"},{overlayX:"start",overlayY:"top"}).withFallbackPosition({originX:"start",originY:"top"},{overlayX:"start",overlayY:"bottom"}).withFallbackPosition({originX:"end",originY:"top"},{overlayX:"start",overlayY:"top"}).withFallbackPosition({originX:"start",originY:"top"},{overlayX:"end",overlayY:"top"}).withFallbackPosition({originX:"end",originY:"center"},{overlayX:"start",overlayY:"center"}).withFallbackPosition({originX:"start",originY:"center"},{overlayX:"end",overlayY:"center"});this.overlays=[this.overlay.create({positionStrategy:s,panelClass:"ngx-contextmenu",scrollStrategy:this.scrollStrategy.close()})],this.attachContextMenu(this.overlays[0],t)}}attachContextMenu(t,e){const{event:n,item:i,menuItems:o,menuClass:s}=e,r=t.attach(new l.a(rt));r.instance.event=n,r.instance.item=i,r.instance.menuItems=o,r.instance.overlay=t,r.instance.isLeaf=!0,r.instance.menuClass=s,t.contextMenu=r.instance;const a=new d.a;a.add(r.instance.execute.asObservable().subscribe(t=>this.closeAllContextMenus(Object.assign({eventType:"execute"},t)))),a.add(r.instance.closeAllMenus.asObservable().subscribe(t=>this.closeAllContextMenus(Object.assign({eventType:"cancel"},t)))),a.add(r.instance.closeLeafMenu.asObservable().subscribe(t=>this.destroyLeafMenu(t))),a.add(r.instance.openSubMenu.asObservable().subscribe(t=>{this.destroySubMenus(r.instance),t.contextMenu?(r.instance.isLeaf=!1,this.show.next(t)):r.instance.isLeaf=!0})),r.onDestroy(()=>{o.forEach(t=>t.isActive=!1),a.unsubscribe()}),r.changeDetectorRef.detectChanges()}closeAllContextMenus(t){this.overlays&&(this.close.next(t),this.overlays.forEach((t,e)=>{t.detach(),t.dispose()})),this.overlays=[]}getLastAttachedOverlay(){let t=this.overlays[this.overlays.length-1];for(;this.overlays.length>1&&t&&!t.hasAttached();)t.detach(),t.dispose(),this.overlays=this.overlays.slice(0,-1),t=this.overlays[this.overlays.length-1];return t}destroyLeafMenu({exceptRootMenu:t,event:e}={}){this.isDestroyingLeafMenu||(this.isDestroyingLeafMenu=!0,setTimeout(()=>{const n=this.getLastAttachedOverlay();this.overlays.length>1&&n&&(n.detach(),n.dispose()),!t&&this.overlays.length>0&&n&&(this.close.next({eventType:"cancel",event:e}),n.detach(),n.dispose());const i=this.getLastAttachedOverlay();i&&(i.contextMenu.isLeaf=!0),this.isDestroyingLeafMenu=!1}))}destroySubMenus(t){const e=this.overlays.indexOf(t.overlay);this.overlays.slice(e+1).forEach(t=>{t.detach(),t.dispose()})}isLeafMenu(t){const e=this.getLastAttachedOverlay();return t.overlay===e}}return t.\u0275fac=function(e){return new(e||t)(o.Zb(F),o.Zb(x))},t.\u0275prov=o.Lb({token:t,factory:t.\u0275fac}),t})(),ct=(()=>{class t{constructor(t,e,n,i){this._contextMenuService=t,this.changeDetector=e,this.elementRef=n,this.options=i,this.menuClass="",this.autoFocus=!1,this.useBootstrap4=!1,this.disabled=!1,this.close=new o.n,this.open=new o.n,this.visibleMenuItems=[],this.links=[],this.subscription=new d.a,i&&(this.autoFocus=i.autoFocus,this.useBootstrap4=i.useBootstrap4),this.subscription.add(t.show.subscribe(t=>{this.onMenuEvent(t)}))}ngOnDestroy(){this.subscription.unsubscribe()}onMenuEvent(t){if(this.disabled)return;const{contextMenu:e,event:n,item:i}=t;e&&e!==this||(this.event=n,this.item=i,this.setVisibleMenuItems(),this._contextMenuService.openContextMenu(Object.assign({},t,{menuItems:this.visibleMenuItems,menuClass:this.menuClass})),this._contextMenuService.close.asObservable().pipe(Object(G.a)()).subscribe(t=>this.close.emit(t)),this.open.next(t))}isMenuItemVisible(t){return this.evaluateIfFunction(t.visible)}setVisibleMenuItems(){this.visibleMenuItems=this.menuItems.filter(t=>this.isMenuItemVisible(t))}evaluateIfFunction(t){return t instanceof Function?t(this.item):t}}return t.\u0275fac=function(e){return new(e||t)(o.Pb(at),o.Pb(o.h),o.Pb(o.l),o.Pb(st,8))},t.\u0275cmp=o.Jb({type:t,selectors:[["context-menu"]],contentQueries:function(t,e,n){var i;1&t&&o.Hb(n,ot,!1),2&t&&o.yc(i=o.ec())&&(e.menuItems=i)},viewQuery:function(t,e){var n;1&t&&o.Uc(X,!0),2&t&&o.yc(n=o.ec())&&(e.menuElement=n.first)},inputs:{menuClass:"menuClass",autoFocus:"autoFocus",useBootstrap4:"useBootstrap4",disabled:"disabled"},outputs:{close:"close",open:"open"},decls:0,vars:0,template:function(t,e){},styles:["\n    .cdk-overlay-container {\n      position: fixed;\n      z-index: 1000;\n      pointer-events: none;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n    }\n    .ngx-contextmenu.cdk-overlay-pane {\n      position: absolute;\n      pointer-events: auto;\n      box-sizing: border-box;\n    }\n  "],encapsulation:2}),t})(),lt=(()=>{class t{static forRoot(e){return{ngModule:t,providers:[at,{provide:st,useValue:e},{provide:L,useClass:H}]}}}return t.\u0275mod=o.Nb({type:t}),t.\u0275inj=o.Mb({factory:function(e){return new(e||t)},imports:[[a.c,z]]}),t})()},JX91:function(t,e,n){"use strict";var i=n("LRne"),o=n("0EUg");function s(...t){return Object(o.a)()(Object(i.a)(...t))}var r=n("z+Ro");function a(...t){const e=t[t.length-1];return Object(r.a)(e)?(t.pop(),n=>s(t,n,e)):e=>s(t,e)}n.d(e,"a",(function(){return a}))},Jr3z:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n("0Xxy"),o=n("fXoL");let s=(()=>{class t{constructor(t){this._dnDialogService=t}ngOnInit(){}closeDialog(){this.dialog&&this._dnDialogService.close(this.dialog)}}return t.\u0275fac=function(e){return new(e||t)(o.Pb(i.a))},t.\u0275cmp=o.Jb({type:t,selectors:[["app-dn-dialog-close-button"]],inputs:{dialog:"dialog"},decls:2,vars:0,consts:[[1,"close-dialog",3,"click"],[1,"iconfont","iconguanbi"]],template:function(t,e){1&t&&(o.Vb(0,"a",0),o.dc("click",(function(t){return e.closeDialog()})),o.Qb(1,"i",1),o.Ub())},styles:[".close-dialog[_ngcontent-%COMP%]{position:absolute;cursor:pointer;z-index:100;opacity:1;-webkit-backface-visibility:hidden;backface-visibility:hidden;top:5px;right:10px}.close-btn[_ngcontent-%COMP%]{width:24px;height:24px;cursor:pointer}.iconfont[_ngcontent-%COMP%]{font-size:20px;color:hsla(0,0%,100%,.7)}.light[_nghost-%COMP%]   .iconfont[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .iconfont[_ngcontent-%COMP%]{color:#aaa}.iconfont[_ngcontent-%COMP%]:hover{color:#fff}.light[_nghost-%COMP%]   .iconfont[_ngcontent-%COMP%]:hover, .light   [_nghost-%COMP%]   .iconfont[_ngcontent-%COMP%]:hover{color:#333}"]}),t})()},JuX6:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n("ofXK"),o=n("tyNb"),s=n("ypMf"),r=n("fXoL");let a=(()=>{class t{}return t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({factory:function(e){return new(e||t)},imports:[[i.c,o.h,s.a]]}),t})()},KFGy:function(t,e,n){var i=n("Uwu7"),o=n("2xqC"),s=n("kSER"),r=n("2Dig"),a=n("QN7Q"),c=n("x7D4")("socket.io-client:socket"),l=n("TypT"),h=n("WLGk");t.exports=g;var d={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},u=o.prototype.emit;function g(t,e,n){this.io=t,this.nsp=e,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},n&&n.query&&(this.query=n.query),this.io.autoConnect&&this.open()}o(g.prototype),g.prototype.subEvents=function(){if(!this.subs){var t=this.io;this.subs=[r(t,"open",a(this,"onopen")),r(t,"packet",a(this,"onpacket")),r(t,"close",a(this,"onclose"))]}},g.prototype.open=g.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting"),this)},g.prototype.send=function(){var t=s(arguments);return t.unshift("message"),this.emit.apply(this,t),this},g.prototype.emit=function(t){if(d.hasOwnProperty(t))return u.apply(this,arguments),this;var e=s(arguments),n={type:(void 0!==this.flags.binary?this.flags.binary:h(e))?i.BINARY_EVENT:i.EVENT,data:e,options:{}};return n.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof e[e.length-1]&&(c("emitting packet with ack id %d",this.ids),this.acks[this.ids]=e.pop(),n.id=this.ids++),this.connected?this.packet(n):this.sendBuffer.push(n),this.flags={},this},g.prototype.packet=function(t){t.nsp=this.nsp,this.io.packet(t)},g.prototype.onopen=function(){if(c("transport is open - connecting"),"/"!==this.nsp)if(this.query){var t="object"==typeof this.query?l.encode(this.query):this.query;c("sending connect packet with query %s",t),this.packet({type:i.CONNECT,query:t})}else this.packet({type:i.CONNECT})},g.prototype.onclose=function(t){c("close (%s)",t),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",t)},g.prototype.onpacket=function(t){if(t.nsp===this.nsp||t.type===i.ERROR&&"/"===t.nsp)switch(t.type){case i.CONNECT:this.onconnect();break;case i.EVENT:case i.BINARY_EVENT:this.onevent(t);break;case i.ACK:case i.BINARY_ACK:this.onack(t);break;case i.DISCONNECT:this.ondisconnect();break;case i.ERROR:this.emit("error",t.data)}},g.prototype.onevent=function(t){var e=t.data||[];c("emitting event %j",e),null!=t.id&&(c("attaching ack callback to event"),e.push(this.ack(t.id))),this.connected?u.apply(this,e):this.receiveBuffer.push(e)},g.prototype.ack=function(t){var e=this,n=!1;return function(){if(!n){n=!0;var o=s(arguments);c("sending ack %j",o),e.packet({type:h(o)?i.BINARY_ACK:i.ACK,id:t,data:o})}}},g.prototype.onack=function(t){var e=this.acks[t.id];"function"==typeof e?(c("calling ack %s with %j",t.id,t.data),e.apply(this,t.data),delete this.acks[t.id]):c("bad ack %s",t.id)},g.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},g.prototype.emitBuffered=function(){var t;for(t=0;t<this.receiveBuffer.length;t++)u.apply(this,this.receiveBuffer[t]);for(this.receiveBuffer=[],t=0;t<this.sendBuffer.length;t++)this.packet(this.sendBuffer[t]);this.sendBuffer=[]},g.prototype.ondisconnect=function(){c("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},g.prototype.destroy=function(){if(this.subs){for(var t=0;t<this.subs.length;t++)this.subs[t].destroy();this.subs=null}this.io.destroy(this)},g.prototype.close=g.prototype.disconnect=function(){return this.connected&&(c("performing disconnect (%s)",this.nsp),this.packet({type:i.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},g.prototype.compress=function(t){return this.flags.compress=t,this},g.prototype.binary=function(t){return this.flags.binary=t,this}},KRVc:function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"d",(function(){return o})),n.d(e,"g",(function(){return s})),n.d(e,"f",(function(){return r})),n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return c})),n.d(e,"e",(function(){return l}));const i="CLEARCOMMENTS",o="FILTERCOMMENTS",s="UNFILTERCOMMENTS",r="SETCOMMENTREPORTED",a="APPEND",c="APPENDTOPARENT",l="INSERT"},KRns:function(t,e){var n=global.CustomEvent;t.exports=function(){try{var t=new n("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(e){}return!1}()?n:"function"==typeof document.createEvent?function(t,e){var n=document.createEvent("CustomEvent");return e?n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail):n.initCustomEvent(t,!1,!1,void 0),n}:function(t,e){var n=document.createEventObject();return n.type=t,e?(n.bubbles=Boolean(e.bubbles),n.cancelable=Boolean(e.cancelable),n.detail=e.detail):(n.bubbles=!1,n.cancelable=!1,n.detail=void 0),n}},KTAx:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var i=n("Njeq"),o=n("2Vo4"),s=n("tWDZ"),r=n("NO+K"),a=n("lJxs"),c=n("fXoL");let l=(()=>{class t{constructor(t,e,n){this._apiUrlHelper=t,this._httpClientHelper=e,this._videoTransFormer=n,this.rankedVideos=[],this._rankedVideosService=new o.a([]),this.rankedVideosSource$=this._rankedVideosService.asObservable()}updateRankedVideos(){this.getRankedVideos().subscribe(t=>{this.rankedVideos=t,this._rankedVideosService.next(this.rankedVideos)})}getRankedVideos(){const t=this._apiUrlHelper.urlBuilder("all-ranked-videos",{});return this._httpClientHelper.get(t).pipe(Object(a.a)(t=>t.map(t=>({cid:t.cid,items:t.rankList.map(t=>this._videoTransFormer.transformFromRankedList(t))}))))}}return t.\u0275fac=function(e){return new(e||t)(c.Zb(i.a),c.Zb(s.a),c.Zb(r.a))},t.\u0275prov=c.Lb({token:t,factory:t.\u0275fac}),t})()},Kdsb:function(t,e,n){"use strict";var i=n("XNiG"),o=n("xgIS"),s=n("VRyK"),r=n("3UWI"),a=n("1G5W"),c=n("/uUt"),l=n("7o/Q");function h(t){return e=>e.lift(new d(t))}class d{constructor(t){this.value=t}call(t,e){return e.subscribe(new u(t,this.value))}}class u extends l.a{constructor(t,e){super(t),this.value=e}_next(t){this.destination.next(this.value)}}var g=n("fXoL"),p=n("ofXK");function f(t){return getComputedStyle(t)}function b(t,e){for(var n in e){var i=e[n];"number"==typeof i&&(i+="px"),t.style[n]=i}return t}function m(t){var e=document.createElement("div");return e.className=t,e}var v="undefined"!=typeof Element&&(Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);function y(t,e){if(!v)throw new Error("No element matching method supported");return v.call(t,e)}function C(t){t.remove?t.remove():t.parentNode&&t.parentNode.removeChild(t)}function _(t,e){return Array.prototype.filter.call(t.children,(function(t){return y(t,e)}))}var x=function(t){return"ps__thumb-"+t},P=function(t){return"ps__rail-"+t},w=function(t){return"ps--active-"+t},O=function(t){return"ps--scrolling-"+t},M={x:null,y:null};function k(t,e){var n=t.element.classList,i=O(e);n.contains(i)?clearTimeout(M[e]):n.add(i)}function S(t,e){M[e]=setTimeout((function(){return t.isAlive&&t.element.classList.remove(O(e))}),t.settings.scrollingThreshold)}var I=function(t){this.element=t,this.handlers={}},L={isEmpty:{configurable:!0}};I.prototype.bind=function(t,e){void 0===this.handlers[t]&&(this.handlers[t]=[]),this.handlers[t].push(e),this.element.addEventListener(t,e,!1)},I.prototype.unbind=function(t,e){var n=this;this.handlers[t]=this.handlers[t].filter((function(i){return!(!e||i===e)||(n.element.removeEventListener(t,i,!1),!1)}))},I.prototype.unbindAll=function(){for(var t in this.handlers)this.unbind(t)},L.isEmpty.get=function(){var t=this;return Object.keys(this.handlers).every((function(e){return 0===t.handlers[e].length}))},Object.defineProperties(I.prototype,L);var T=function(){this.eventElements=[]};function A(t){if("function"==typeof window.CustomEvent)return new CustomEvent(t);var e=document.createEvent("CustomEvent");return e.initCustomEvent(t,!1,!1,void 0),e}function N(t,e,n,i,o){var s;if(void 0===i&&(i=!0),void 0===o&&(o=!1),"top"===e)s=["contentHeight","containerHeight","scrollTop","y","up","down"];else{if("left"!==e)throw new Error("A proper axis should be provided");s=["contentWidth","containerWidth","scrollLeft","x","left","right"]}!function(t,e,n,i,o){var s=n[0],r=n[1],a=n[2],c=n[3],l=n[4],h=n[5];void 0===i&&(i=!0),void 0===o&&(o=!1);var d=t.element;t.reach[c]=null,d[a]<1&&(t.reach[c]="start"),d[a]>t[s]-t[r]-1&&(t.reach[c]="end"),e&&(d.dispatchEvent(A("ps-scroll-"+c)),e<0?d.dispatchEvent(A("ps-scroll-"+l)):e>0&&d.dispatchEvent(A("ps-scroll-"+h)),i&&function(t,e){k(t,e),S(t,e)}(t,c)),t.reach[c]&&(e||o)&&d.dispatchEvent(A("ps-"+c+"-reach-"+t.reach[c]))}(t,n,s,i,o)}function B(t){return parseInt(t,10)||0}T.prototype.eventElement=function(t){var e=this.eventElements.filter((function(e){return e.element===t}))[0];return e||(e=new I(t),this.eventElements.push(e)),e},T.prototype.bind=function(t,e,n){this.eventElement(t).bind(e,n)},T.prototype.unbind=function(t,e,n){var i=this.eventElement(t);i.unbind(e,n),i.isEmpty&&this.eventElements.splice(this.eventElements.indexOf(i),1)},T.prototype.unbindAll=function(){this.eventElements.forEach((function(t){return t.unbindAll()})),this.eventElements=[]},T.prototype.once=function(t,e,n){var i=this.eventElement(t),o=function(t){i.unbind(e,o),n(t)};i.bind(e,o)};var V={isWebKit:"undefined"!=typeof document&&"WebkitAppearance"in document.documentElement.style,supportsTouch:"undefined"!=typeof window&&("ontouchstart"in window||"maxTouchPoints"in window.navigator&&window.navigator.maxTouchPoints>0||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:"undefined"!=typeof navigator&&navigator.msMaxTouchPoints,isChrome:"undefined"!=typeof navigator&&/Chrome/i.test(navigator&&navigator.userAgent)};function U(t){var e=t.element,n=Math.floor(e.scrollTop),i=e.getBoundingClientRect();t.containerWidth=Math.ceil(i.width),t.containerHeight=Math.ceil(i.height),t.contentWidth=e.scrollWidth,t.contentHeight=e.scrollHeight,e.contains(t.scrollbarXRail)||(_(e,P("x")).forEach((function(t){return C(t)})),e.appendChild(t.scrollbarXRail)),e.contains(t.scrollbarYRail)||(_(e,P("y")).forEach((function(t){return C(t)})),e.appendChild(t.scrollbarYRail)),!t.settings.suppressScrollX&&t.containerWidth+t.settings.scrollXMarginOffset<t.contentWidth?(t.scrollbarXActive=!0,t.railXWidth=t.containerWidth-t.railXMarginWidth,t.railXRatio=t.containerWidth/t.railXWidth,t.scrollbarXWidth=D(t,B(t.railXWidth*t.containerWidth/t.contentWidth)),t.scrollbarXLeft=B((t.negativeScrollAdjustment+e.scrollLeft)*(t.railXWidth-t.scrollbarXWidth)/(t.contentWidth-t.containerWidth))):t.scrollbarXActive=!1,!t.settings.suppressScrollY&&t.containerHeight+t.settings.scrollYMarginOffset<t.contentHeight?(t.scrollbarYActive=!0,t.railYHeight=t.containerHeight-t.railYMarginHeight,t.railYRatio=t.containerHeight/t.railYHeight,t.scrollbarYHeight=D(t,B(t.railYHeight*t.containerHeight/t.contentHeight)),t.scrollbarYTop=B(n*(t.railYHeight-t.scrollbarYHeight)/(t.contentHeight-t.containerHeight))):t.scrollbarYActive=!1,t.scrollbarXLeft>=t.railXWidth-t.scrollbarXWidth&&(t.scrollbarXLeft=t.railXWidth-t.scrollbarXWidth),t.scrollbarYTop>=t.railYHeight-t.scrollbarYHeight&&(t.scrollbarYTop=t.railYHeight-t.scrollbarYHeight),function(t,e){var n={width:e.railXWidth},i=Math.floor(t.scrollTop);n.left=e.isRtl?e.negativeScrollAdjustment+t.scrollLeft+e.containerWidth-e.contentWidth:t.scrollLeft,e.isScrollbarXUsingBottom?n.bottom=e.scrollbarXBottom-i:n.top=e.scrollbarXTop+i,b(e.scrollbarXRail,n);var o={top:i,height:e.railYHeight};e.isScrollbarYUsingRight?o.right=e.isRtl?e.contentWidth-(e.negativeScrollAdjustment+t.scrollLeft)-e.scrollbarYRight-e.scrollbarYOuterWidth-9:e.scrollbarYRight-t.scrollLeft:o.left=e.isRtl?e.negativeScrollAdjustment+t.scrollLeft+2*e.containerWidth-e.contentWidth-e.scrollbarYLeft-e.scrollbarYOuterWidth:e.scrollbarYLeft+t.scrollLeft,b(e.scrollbarYRail,o),b(e.scrollbarX,{left:e.scrollbarXLeft,width:e.scrollbarXWidth-e.railBorderXWidth}),b(e.scrollbarY,{top:e.scrollbarYTop,height:e.scrollbarYHeight-e.railBorderYWidth})}(e,t),t.scrollbarXActive?e.classList.add(w("x")):(e.classList.remove(w("x")),t.scrollbarXWidth=0,t.scrollbarXLeft=0,e.scrollLeft=!0===t.isRtl?t.contentWidth:0),t.scrollbarYActive?e.classList.add(w("y")):(e.classList.remove(w("y")),t.scrollbarYHeight=0,t.scrollbarYTop=0,e.scrollTop=0)}function D(t,e){return t.settings.minScrollbarLength&&(e=Math.max(e,t.settings.minScrollbarLength)),t.settings.maxScrollbarLength&&(e=Math.min(e,t.settings.maxScrollbarLength)),e}function E(t,e){var n=e[0],i=e[1],o=e[2],s=e[3],r=e[4],a=e[5],c=e[6],l=e[7],h=e[8],d=t.element,u=null,g=null,p=null;function f(e){e.touches&&e.touches[0]&&(e[o]=e.touches[0].pageY),d[c]=u+p*(e[o]-g),k(t,l),U(t),e.stopPropagation(),e.preventDefault()}function b(){S(t,l),t[h].classList.remove("ps--clicking"),t.event.unbind(t.ownerDocument,"mousemove",f)}function m(e,r){u=d[c],r&&e.touches&&(e[o]=e.touches[0].pageY),g=e[o],p=(t[i]-t[n])/(t[s]-t[a]),r?t.event.bind(t.ownerDocument,"touchmove",f):(t.event.bind(t.ownerDocument,"mousemove",f),t.event.once(t.ownerDocument,"mouseup",b),e.preventDefault()),t[h].classList.add("ps--clicking"),e.stopPropagation()}t.event.bind(t[r],"mousedown",(function(t){m(t)})),t.event.bind(t[r],"touchstart",(function(t){m(t,!0)}))}var R={"click-rail":function(t){t.event.bind(t.scrollbarY,"mousedown",(function(t){return t.stopPropagation()})),t.event.bind(t.scrollbarYRail,"mousedown",(function(e){var n=e.pageY-window.pageYOffset-t.scrollbarYRail.getBoundingClientRect().top;t.element.scrollTop+=(n>t.scrollbarYTop?1:-1)*t.containerHeight,U(t),e.stopPropagation()})),t.event.bind(t.scrollbarX,"mousedown",(function(t){return t.stopPropagation()})),t.event.bind(t.scrollbarXRail,"mousedown",(function(e){var n=e.pageX-window.pageXOffset-t.scrollbarXRail.getBoundingClientRect().left;t.element.scrollLeft+=(n>t.scrollbarXLeft?1:-1)*t.containerWidth,U(t),e.stopPropagation()}))},"drag-thumb":function(t){E(t,["containerWidth","contentWidth","pageX","railXWidth","scrollbarX","scrollbarXWidth","scrollLeft","x","scrollbarXRail"]),E(t,["containerHeight","contentHeight","pageY","railYHeight","scrollbarY","scrollbarYHeight","scrollTop","y","scrollbarYRail"])},keyboard:function(t){var e=t.element;t.event.bind(t.ownerDocument,"keydown",(function(n){if(!(n.isDefaultPrevented&&n.isDefaultPrevented()||n.defaultPrevented)&&(y(e,":hover")||y(t.scrollbarX,":focus")||y(t.scrollbarY,":focus"))){var i,o=document.activeElement?document.activeElement:t.ownerDocument.activeElement;if(o){if("IFRAME"===o.tagName)o=o.contentDocument.activeElement;else for(;o.shadowRoot;)o=o.shadowRoot.activeElement;if(y(i=o,"input,[contenteditable]")||y(i,"select,[contenteditable]")||y(i,"textarea,[contenteditable]")||y(i,"button,[contenteditable]"))return}var s=0,r=0;switch(n.which){case 37:s=n.metaKey?-t.contentWidth:n.altKey?-t.containerWidth:-30;break;case 38:r=n.metaKey?t.contentHeight:n.altKey?t.containerHeight:30;break;case 39:s=n.metaKey?t.contentWidth:n.altKey?t.containerWidth:30;break;case 40:r=n.metaKey?-t.contentHeight:n.altKey?-t.containerHeight:-30;break;case 32:r=n.shiftKey?t.containerHeight:-t.containerHeight;break;case 33:r=t.containerHeight;break;case 34:r=-t.containerHeight;break;case 36:r=t.contentHeight;break;case 35:r=-t.contentHeight;break;default:return}t.settings.suppressScrollX&&0!==s||t.settings.suppressScrollY&&0!==r||(e.scrollTop-=r,e.scrollLeft+=s,U(t),function(n,i){var o=Math.floor(e.scrollTop);if(0===n){if(!t.scrollbarYActive)return!1;if(0===o&&i>0||o>=t.contentHeight-t.containerHeight&&i<0)return!t.settings.wheelPropagation}var s=e.scrollLeft;if(0===i){if(!t.scrollbarXActive)return!1;if(0===s&&n<0||s>=t.contentWidth-t.containerWidth&&n>0)return!t.settings.wheelPropagation}return!0}(s,r)&&n.preventDefault())}}))},wheel:function(t){var e=t.element;function n(n){var i=function(t){var e=t.deltaX,n=-1*t.deltaY;return void 0!==e&&void 0!==n||(e=-1*t.wheelDeltaX/6,n=t.wheelDeltaY/6),t.deltaMode&&1===t.deltaMode&&(e*=10,n*=10),e!=e&&n!=n&&(e=0,n=t.wheelDelta),t.shiftKey?[-n,-e]:[e,n]}(n),o=i[0],s=i[1];if(!function(t,n,i){if(!V.isWebKit&&e.querySelector("select:focus"))return!0;if(!e.contains(t))return!1;for(var o=t;o&&o!==e;){if(o.classList.contains("ps__child--consume"))return!0;var s=f(o);if(i&&s.overflowY.match(/(scroll|auto)/)){var r=o.scrollHeight-o.clientHeight;if(r>0&&(o.scrollTop>0&&i<0||o.scrollTop<r&&i>0))return!0}if(n&&s.overflowX.match(/(scroll|auto)/)){var a=o.scrollWidth-o.clientWidth;if(a>0&&(o.scrollLeft>0&&n<0||o.scrollLeft<a&&n>0))return!0}o=o.parentNode}return!1}(n.target,o,s)){var r=!1;t.settings.useBothWheelAxes?t.scrollbarYActive&&!t.scrollbarXActive?(s?e.scrollTop-=s*t.settings.wheelSpeed:e.scrollTop+=o*t.settings.wheelSpeed,r=!0):t.scrollbarXActive&&!t.scrollbarYActive&&(o?e.scrollLeft+=o*t.settings.wheelSpeed:e.scrollLeft-=s*t.settings.wheelSpeed,r=!0):(e.scrollTop-=s*t.settings.wheelSpeed,e.scrollLeft+=o*t.settings.wheelSpeed),U(t),(r=r||function(n,i){var o=Math.floor(e.scrollTop),s=0===e.scrollTop,r=o+e.offsetHeight===e.scrollHeight,a=0===e.scrollLeft,c=e.scrollLeft+e.offsetWidth===e.scrollWidth;return!(Math.abs(i)>Math.abs(n)?s||r:a||c)||!t.settings.wheelPropagation}(o,s))&&!n.ctrlKey&&(n.stopPropagation(),n.preventDefault())}}void 0!==window.onwheel?t.event.bind(e,"wheel",n):void 0!==window.onmousewheel&&t.event.bind(e,"mousewheel",n)},touch:function(t){if(V.supportsTouch||V.supportsIePointer){var e=t.element,n={},i=0,o={},s=null;V.supportsTouch?(t.event.bind(e,"touchstart",l),t.event.bind(e,"touchmove",h),t.event.bind(e,"touchend",d)):V.supportsIePointer&&(window.PointerEvent?(t.event.bind(e,"pointerdown",l),t.event.bind(e,"pointermove",h),t.event.bind(e,"pointerup",d)):window.MSPointerEvent&&(t.event.bind(e,"MSPointerDown",l),t.event.bind(e,"MSPointerMove",h),t.event.bind(e,"MSPointerUp",d)))}function r(n,i){e.scrollTop-=i,e.scrollLeft-=n,U(t)}function a(t){return t.targetTouches?t.targetTouches[0]:t}function c(t){return!(t.pointerType&&"pen"===t.pointerType&&0===t.buttons||(!t.targetTouches||1!==t.targetTouches.length)&&(!t.pointerType||"mouse"===t.pointerType||t.pointerType===t.MSPOINTER_TYPE_MOUSE))}function l(t){if(c(t)){var e=a(t);n.pageX=e.pageX,n.pageY=e.pageY,i=(new Date).getTime(),null!==s&&clearInterval(s)}}function h(s){if(c(s)){var l=a(s),h={pageX:l.pageX,pageY:l.pageY},d=h.pageX-n.pageX,u=h.pageY-n.pageY;if(function(t,n,i){if(!e.contains(t))return!1;for(var o=t;o&&o!==e;){if(o.classList.contains("ps__child--consume"))return!0;var s=f(o);if(i&&s.overflowY.match(/(scroll|auto)/)){var r=o.scrollHeight-o.clientHeight;if(r>0&&(o.scrollTop>0&&i<0||o.scrollTop<r&&i>0))return!0}if(n&&s.overflowX.match(/(scroll|auto)/)){var a=o.scrollWidth-o.clientWidth;if(a>0&&(o.scrollLeft>0&&n<0||o.scrollLeft<a&&n>0))return!0}o=o.parentNode}return!1}(s.target,d,u))return;r(d,u),n=h;var g=(new Date).getTime(),p=g-i;p>0&&(o.x=d/p,o.y=u/p,i=g),function(n,i){var o=Math.floor(e.scrollTop),s=e.scrollLeft,r=Math.abs(n),a=Math.abs(i);if(a>r){if(i<0&&o===t.contentHeight-t.containerHeight||i>0&&0===o)return 0===window.scrollY&&i>0&&V.isChrome}else if(r>a&&(n<0&&s===t.contentWidth-t.containerWidth||n>0&&0===s))return!0;return!0}(d,u)&&s.preventDefault()}}function d(){t.settings.swipeEasing&&(clearInterval(s),s=setInterval((function(){t.isInitialized?clearInterval(s):o.x||o.y?Math.abs(o.x)<.01&&Math.abs(o.y)<.01?clearInterval(s):(r(30*o.x,30*o.y),o.x*=.8,o.y*=.8):clearInterval(s)}),10))}}},F=function(t,e){var n=this;if(void 0===e&&(e={}),"string"==typeof t&&(t=document.querySelector(t)),!t||!t.nodeName)throw new Error("no element is specified to initialize PerfectScrollbar");for(var i in this.element=t,t.classList.add("ps"),this.settings={handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1e3,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!0,wheelSpeed:1},e)this.settings[i]=e[i];this.containerWidth=null,this.containerHeight=null,this.contentWidth=null,this.contentHeight=null;var o,s,r=function(){return t.classList.add("ps--focus")},a=function(){return t.classList.remove("ps--focus")};this.isRtl="rtl"===f(t).direction,!0===this.isRtl&&t.classList.add("ps__rtl"),this.isNegativeScroll=(s=t.scrollLeft,t.scrollLeft=-1,o=t.scrollLeft<0,t.scrollLeft=s,o),this.negativeScrollAdjustment=this.isNegativeScroll?t.scrollWidth-t.clientWidth:0,this.event=new T,this.ownerDocument=t.ownerDocument||document,this.scrollbarXRail=m(P("x")),t.appendChild(this.scrollbarXRail),this.scrollbarX=m(x("x")),this.scrollbarXRail.appendChild(this.scrollbarX),this.scrollbarX.setAttribute("tabindex",0),this.event.bind(this.scrollbarX,"focus",r),this.event.bind(this.scrollbarX,"blur",a),this.scrollbarXActive=null,this.scrollbarXWidth=null,this.scrollbarXLeft=null;var c=f(this.scrollbarXRail);this.scrollbarXBottom=parseInt(c.bottom,10),isNaN(this.scrollbarXBottom)?(this.isScrollbarXUsingBottom=!1,this.scrollbarXTop=B(c.top)):this.isScrollbarXUsingBottom=!0,this.railBorderXWidth=B(c.borderLeftWidth)+B(c.borderRightWidth),b(this.scrollbarXRail,{display:"block"}),this.railXMarginWidth=B(c.marginLeft)+B(c.marginRight),b(this.scrollbarXRail,{display:""}),this.railXWidth=null,this.railXRatio=null,this.scrollbarYRail=m(P("y")),t.appendChild(this.scrollbarYRail),this.scrollbarY=m(x("y")),this.scrollbarYRail.appendChild(this.scrollbarY),this.scrollbarY.setAttribute("tabindex",0),this.event.bind(this.scrollbarY,"focus",r),this.event.bind(this.scrollbarY,"blur",a),this.scrollbarYActive=null,this.scrollbarYHeight=null,this.scrollbarYTop=null;var l=f(this.scrollbarYRail);this.scrollbarYRight=parseInt(l.right,10),isNaN(this.scrollbarYRight)?(this.isScrollbarYUsingRight=!1,this.scrollbarYLeft=B(l.left)):this.isScrollbarYUsingRight=!0,this.scrollbarYOuterWidth=this.isRtl?function(t){var e=f(t);return B(e.width)+B(e.paddingLeft)+B(e.paddingRight)+B(e.borderLeftWidth)+B(e.borderRightWidth)}(this.scrollbarY):null,this.railBorderYWidth=B(l.borderTopWidth)+B(l.borderBottomWidth),b(this.scrollbarYRail,{display:"block"}),this.railYMarginHeight=B(l.marginTop)+B(l.marginBottom),b(this.scrollbarYRail,{display:""}),this.railYHeight=null,this.railYRatio=null,this.reach={x:t.scrollLeft<=0?"start":t.scrollLeft>=this.contentWidth-this.containerWidth?"end":null,y:t.scrollTop<=0?"start":t.scrollTop>=this.contentHeight-this.containerHeight?"end":null},this.isAlive=!0,this.settings.handlers.forEach((function(t){return R[t](n)})),this.lastScrollTop=Math.floor(t.scrollTop),this.lastScrollLeft=t.scrollLeft,this.event.bind(this.element,"scroll",(function(t){return n.onScroll(t)})),U(this)};F.prototype.update=function(){this.isAlive&&(this.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0,b(this.scrollbarXRail,{display:"block"}),b(this.scrollbarYRail,{display:"block"}),this.railXMarginWidth=B(f(this.scrollbarXRail).marginLeft)+B(f(this.scrollbarXRail).marginRight),this.railYMarginHeight=B(f(this.scrollbarYRail).marginTop)+B(f(this.scrollbarYRail).marginBottom),b(this.scrollbarXRail,{display:"none"}),b(this.scrollbarYRail,{display:"none"}),U(this),N(this,"top",0,!1,!0),N(this,"left",0,!1,!0),b(this.scrollbarXRail,{display:""}),b(this.scrollbarYRail,{display:""}))},F.prototype.onScroll=function(t){this.isAlive&&(U(this),N(this,"top",this.element.scrollTop-this.lastScrollTop),N(this,"left",this.element.scrollLeft-this.lastScrollLeft),this.lastScrollTop=Math.floor(this.element.scrollTop),this.lastScrollLeft=this.element.scrollLeft)},F.prototype.destroy=function(){this.isAlive&&(this.event.unbindAll(),C(this.scrollbarX),C(this.scrollbarY),C(this.scrollbarXRail),C(this.scrollbarYRail),this.removePsClasses(),this.element=null,this.scrollbarX=null,this.scrollbarY=null,this.scrollbarXRail=null,this.scrollbarYRail=null,this.isAlive=!1)},F.prototype.removePsClasses=function(){this.element.className=this.element.className.split(" ").filter((function(t){return!t.match(/^ps([-_].+|)$/)})).join(" ")};var j=F,z=function(){if("undefined"!=typeof Map)return Map;function t(t,e){var n=-1;return t.some((function(t,i){return t[0]===e&&(n=i,!0)})),n}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var n=t(this.__entries__,e),i=this.__entries__[n];return i&&i[1]},e.prototype.set=function(e,n){var i=t(this.__entries__,e);~i?this.__entries__[i][1]=n:this.__entries__.push([e,n])},e.prototype.delete=function(e){var n=this.__entries__,i=t(n,e);~i&&n.splice(i,1)},e.prototype.has=function(e){return!!~t(this.__entries__,e)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,e){void 0===e&&(e=null);for(var n=0,i=this.__entries__;n<i.length;n++){var o=i[n];t.call(e,o[1],o[0])}},e}()}(),H="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,G="undefined"!=typeof global&&global.Math===Math?global:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),W="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(G):function(t){return setTimeout((function(){return t(Date.now())}),1e3/60)},q=["top","right","bottom","left","width","height","size","weight"],Q="undefined"!=typeof MutationObserver,$=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(t,e){var n=!1,i=!1,o=0;function s(){n&&(n=!1,t()),i&&a()}function r(){W(s)}function a(){var t=Date.now();if(n){if(t-o<2)return;i=!0}else n=!0,i=!1,setTimeout(r,20);o=t}return a}(this.refresh.bind(this))}return t.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},t.prototype.removeObserver=function(t){var e=this.observers_,n=e.indexOf(t);~n&&e.splice(n,1),!e.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},t.prototype.updateObservers_=function(){var t=this.observers_.filter((function(t){return t.gatherActive(),t.hasActive()}));return t.forEach((function(t){return t.broadcastActive()})),t.length>0},t.prototype.connect_=function(){H&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Q?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){H&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(t){var e=t.propertyName,n=void 0===e?"":e;q.some((function(t){return!!~n.indexOf(t)}))&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),K=function(t,e){for(var n=0,i=Object.keys(e);n<i.length;n++){var o=i[n];Object.defineProperty(t,o,{value:e[o],enumerable:!1,writable:!1,configurable:!0})}return t},X=function(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView||G},Y=et(0,0,0,0);function Z(t){return parseFloat(t)||0}function J(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce((function(e,n){return e+Z(t["border-"+n+"-width"])}),0)}var tt="undefined"!=typeof SVGGraphicsElement?function(t){return t instanceof X(t).SVGGraphicsElement}:function(t){return t instanceof X(t).SVGElement&&"function"==typeof t.getBBox};function et(t,e,n,i){return{x:t,y:e,width:n,height:i}}var nt=function(){function t(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=et(0,0,0,0),this.target=t}return t.prototype.isActive=function(){var t,e=(t=this.target,H?tt(t)?function(t){var e=t.getBBox();return et(0,0,e.width,e.height)}(t):function(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return Y;var i=X(t).getComputedStyle(t),o=function(t){for(var e={},n=0,i=["top","right","bottom","left"];n<i.length;n++){var o=i[n];e[o]=Z(t["padding-"+o])}return e}(i),s=o.left+o.right,r=o.top+o.bottom,a=Z(i.width),c=Z(i.height);if("border-box"===i.boxSizing&&(Math.round(a+s)!==e&&(a-=J(i,"left","right")+s),Math.round(c+r)!==n&&(c-=J(i,"top","bottom")+r)),!function(t){return t===X(t).document.documentElement}(t)){var l=Math.round(a+s)-e,h=Math.round(c+r)-n;1!==Math.abs(l)&&(a-=l),1!==Math.abs(h)&&(c-=h)}return et(o.left,o.top,a,c)}(t):Y);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},t}(),it=function(t,e){var n,i,o,s,r,a,c,l=(i=(n=e).x,o=n.y,s=n.width,r=n.height,a="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,c=Object.create(a.prototype),K(c,{x:i,y:o,width:s,height:r,top:o,right:i+s,bottom:r+o,left:i}),c);K(this,{target:t,contentRect:l})},ot=function(){function t(t,e,n){if(this.activeObservations_=[],this.observations_=new z,"function"!=typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=e,this.callbackCtx_=n}return t.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof X(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new nt(t)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof X(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach((function(e){e.isActive()&&t.activeObservations_.push(e)}))},t.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map((function(t){return new it(t.target,t.broadcastRect())}));this.callback_.call(t,e,t),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),st="undefined"!=typeof WeakMap?new WeakMap:new z,rt=function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=$.getInstance(),i=new ot(e,n,this);st.set(this,i)};["observe","unobserve","disconnect"].forEach((function(t){rt.prototype[t]=function(){var e;return(e=st.get(this))[t].apply(e,arguments)}}));var at=void 0!==G.ResizeObserver?G.ResizeObserver:rt;function ct(t,e){if(1&t&&(g.Vb(0,"div",3),g.Qb(1,"div",4),g.Qb(2,"div",5),g.Qb(3,"div",6),g.Qb(4,"div",7),g.Ub()),2&t){const t=g.gc();g.Gb("ps-at-top",t.states.top)("ps-at-left",t.states.left)("ps-at-right",t.states.right)("ps-at-bottom",t.states.bottom),g.Bb(1),g.Gb("ps-indicator-show",t.indicatorY&&t.interaction),g.Bb(1),g.Gb("ps-indicator-show",t.indicatorX&&t.interaction),g.Bb(1),g.Gb("ps-indicator-show",t.indicatorX&&t.interaction),g.Bb(1),g.Gb("ps-indicator-show",t.indicatorY&&t.interaction)}}n.d(e,"a",(function(){return ht})),n.d(e,"b",(function(){return bt})),n.d(e,"c",(function(){return mt}));const lt=["*"],ht=new g.q("PERFECT_SCROLLBAR_CONFIG");class dt{constructor(t,e,n,i){this.x=t,this.y=e,this.w=n,this.h=i}}class ut{constructor(t,e){this.x=t,this.y=e}}const gt=["psScrollY","psScrollX","psScrollUp","psScrollDown","psScrollLeft","psScrollRight","psYReachEnd","psYReachStart","psXReachEnd","psXReachStart"];class pt{constructor(t={}){this.assign(t)}assign(t={}){for(const e in t)this[e]=t[e]}}let ft=(()=>{class t{constructor(t,e,n,o,s){this.zone=t,this.differs=e,this.elementRef=n,this.platformId=o,this.defaults=s,this.instance=null,this.ro=null,this.timeout=null,this.animation=null,this.configDiff=null,this.ngDestroy=new i.a,this.disabled=!1,this.psScrollY=new g.n,this.psScrollX=new g.n,this.psScrollUp=new g.n,this.psScrollDown=new g.n,this.psScrollLeft=new g.n,this.psScrollRight=new g.n,this.psYReachEnd=new g.n,this.psYReachStart=new g.n,this.psXReachEnd=new g.n,this.psXReachStart=new g.n}ngOnInit(){if(!this.disabled&&Object(p.y)(this.platformId)){const t=new pt(this.defaults);t.assign(this.config),this.zone.runOutsideAngular(()=>{this.instance=new j(this.elementRef.nativeElement,t)}),this.configDiff||(this.configDiff=this.differs.find(this.config||{}).create(),this.configDiff.diff(this.config||{})),this.zone.runOutsideAngular(()=>{this.ro=new at(()=>{this.update()}),this.elementRef.nativeElement.children[0]&&this.ro.observe(this.elementRef.nativeElement.children[0]),this.ro.observe(this.elementRef.nativeElement)}),this.zone.runOutsideAngular(()=>{gt.forEach(t=>{const e=t.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`);Object(o.a)(this.elementRef.nativeElement,e).pipe(Object(r.a)(20),Object(a.a)(this.ngDestroy)).subscribe(e=>{this[t].emit(e)})})})}}ngOnDestroy(){Object(p.y)(this.platformId)&&(this.ngDestroy.next(),this.ngDestroy.complete(),this.ro&&this.ro.disconnect(),this.timeout&&"undefined"!=typeof window&&window.clearTimeout(this.timeout),this.zone.runOutsideAngular(()=>{this.instance&&this.instance.destroy()}),this.instance=null)}ngDoCheck(){!this.disabled&&this.configDiff&&Object(p.y)(this.platformId)&&this.configDiff.diff(this.config||{})&&(this.ngOnDestroy(),this.ngOnInit())}ngOnChanges(t){t.disabled&&!t.disabled.isFirstChange()&&Object(p.y)(this.platformId)&&t.disabled.currentValue!==t.disabled.previousValue&&(!0===t.disabled.currentValue?this.ngOnDestroy():!1===t.disabled.currentValue&&this.ngOnInit())}ps(){return this.instance}update(){"undefined"!=typeof window&&(this.timeout&&window.clearTimeout(this.timeout),this.timeout=window.setTimeout(()=>{if(!this.disabled&&this.configDiff)try{this.zone.runOutsideAngular(()=>{this.instance&&this.instance.update()})}catch(t){}},0))}geometry(t="scroll"){return new dt(this.elementRef.nativeElement[t+"Left"],this.elementRef.nativeElement[t+"Top"],this.elementRef.nativeElement[t+"Width"],this.elementRef.nativeElement[t+"Height"])}position(t=!1){return!t&&this.instance?new ut(this.instance.reach.x||0,this.instance.reach.y||0):new ut(this.elementRef.nativeElement.scrollLeft,this.elementRef.nativeElement.scrollTop)}scrollable(t="any"){const e=this.elementRef.nativeElement;return"any"===t?e.classList.contains("ps--active-x")||e.classList.contains("ps--active-y"):"both"===t?e.classList.contains("ps--active-x")&&e.classList.contains("ps--active-y"):e.classList.contains("ps--active-"+t)}scrollTo(t,e,n){this.disabled||(null==e&&null==n?this.animateScrolling("scrollTop",t,n):(null!=t&&this.animateScrolling("scrollLeft",t,n),null!=e&&this.animateScrolling("scrollTop",e,n)))}scrollToX(t,e){this.animateScrolling("scrollLeft",t,e)}scrollToY(t,e){this.animateScrolling("scrollTop",t,e)}scrollToTop(t,e){this.animateScrolling("scrollTop",t||0,e)}scrollToLeft(t,e){this.animateScrolling("scrollLeft",t||0,e)}scrollToRight(t,e){this.animateScrolling("scrollLeft",this.elementRef.nativeElement.scrollWidth-this.elementRef.nativeElement.clientWidth-(t||0),e)}scrollToBottom(t,e){this.animateScrolling("scrollTop",this.elementRef.nativeElement.scrollHeight-this.elementRef.nativeElement.clientHeight-(t||0),e)}scrollToElement(t,e,n){if("string"==typeof t&&(t=this.elementRef.nativeElement.querySelector(t)),t){const i=t.getBoundingClientRect(),o=this.elementRef.nativeElement.getBoundingClientRect();this.elementRef.nativeElement.classList.contains("ps--active-x")&&this.animateScrolling("scrollLeft",i.left-o.left+this.elementRef.nativeElement.scrollLeft+(e||0),n),this.elementRef.nativeElement.classList.contains("ps--active-y")&&this.animateScrolling("scrollTop",i.top-o.top+this.elementRef.nativeElement.scrollTop+(e||0),n)}}animateScrolling(t,e,n){if(this.animation&&(window.cancelAnimationFrame(this.animation),this.animation=null),n&&"undefined"!=typeof window){if(e!==this.elementRef.nativeElement[t]){let i=0,o=0,s=performance.now(),r=this.elementRef.nativeElement[t];const a=(r-e)/2,c=l=>{o+=Math.PI/(n/(l-s)),i=Math.round(e+a+a*Math.cos(o)),this.elementRef.nativeElement[t]===r&&(o>=Math.PI?this.animateScrolling(t,e,0):(this.elementRef.nativeElement[t]=i,r=this.elementRef.nativeElement[t],s=l,this.animation=window.requestAnimationFrame(c)))};window.requestAnimationFrame(c)}}else this.elementRef.nativeElement[t]=e}}return t.\u0275fac=function(e){return new(e||t)(g.Pb(g.z),g.Pb(g.t),g.Pb(g.l),g.Pb(g.B),g.Pb(ht,8))},t.\u0275dir=g.Kb({type:t,selectors:[["","perfectScrollbar",""]],inputs:{disabled:"disabled",config:["perfectScrollbar","config"]},outputs:{psScrollY:"psScrollY",psScrollX:"psScrollX",psScrollUp:"psScrollUp",psScrollDown:"psScrollDown",psScrollLeft:"psScrollLeft",psScrollRight:"psScrollRight",psYReachEnd:"psYReachEnd",psYReachStart:"psYReachStart",psXReachEnd:"psXReachEnd",psXReachStart:"psXReachStart"},exportAs:["ngxPerfectScrollbar"],features:[g.zb()]}),t})(),bt=(()=>{class t{constructor(t,e,n){this.zone=t,this.cdRef=e,this.platformId=n,this.states={},this.indicatorX=!1,this.indicatorY=!1,this.interaction=!1,this.scrollPositionX=0,this.scrollPositionY=0,this.scrollDirectionX=0,this.scrollDirectionY=0,this.usePropagationX=!1,this.usePropagationY=!1,this.allowPropagationX=!1,this.allowPropagationY=!1,this.stateTimeout=null,this.ngDestroy=new i.a,this.stateUpdate=new i.a,this.disabled=!1,this.usePSClass=!0,this.autoPropagation=!1,this.scrollIndicators=!1,this.psScrollY=new g.n,this.psScrollX=new g.n,this.psScrollUp=new g.n,this.psScrollDown=new g.n,this.psScrollLeft=new g.n,this.psScrollRight=new g.n,this.psYReachEnd=new g.n,this.psYReachStart=new g.n,this.psXReachEnd=new g.n,this.psXReachStart=new g.n}ngOnInit(){Object(p.y)(this.platformId)&&(this.stateUpdate.pipe(Object(a.a)(this.ngDestroy),Object(c.a)((t,e)=>t===e&&!this.stateTimeout)).subscribe(t=>{this.stateTimeout&&"undefined"!=typeof window&&(window.clearTimeout(this.stateTimeout),this.stateTimeout=null),"x"===t||"y"===t?(this.interaction=!1,"x"===t?(this.indicatorX=!1,this.states.left=!1,this.states.right=!1,this.autoPropagation&&this.usePropagationX&&(this.allowPropagationX=!1)):"y"===t&&(this.indicatorY=!1,this.states.top=!1,this.states.bottom=!1,this.autoPropagation&&this.usePropagationY&&(this.allowPropagationY=!1))):("left"===t||"right"===t?(this.states.left=!1,this.states.right=!1,this.states[t]=!0,this.autoPropagation&&this.usePropagationX&&(this.indicatorX=!0)):"top"!==t&&"bottom"!==t||(this.states.top=!1,this.states.bottom=!1,this.states[t]=!0,this.autoPropagation&&this.usePropagationY&&(this.indicatorY=!0)),this.autoPropagation&&"undefined"!=typeof window&&(this.stateTimeout=window.setTimeout(()=>{this.indicatorX=!1,this.indicatorY=!1,this.stateTimeout=null,this.interaction&&(this.states.left||this.states.right)&&(this.allowPropagationX=!0),this.interaction&&(this.states.top||this.states.bottom)&&(this.allowPropagationY=!0),this.cdRef.markForCheck()},500))),this.cdRef.markForCheck(),this.cdRef.detectChanges()}),this.zone.runOutsideAngular(()=>{if(this.directiveRef){const t=this.directiveRef.elementRef.nativeElement;Object(o.a)(t,"wheel").pipe(Object(a.a)(this.ngDestroy)).subscribe(t=>{!this.disabled&&this.autoPropagation&&this.checkPropagation(t,t.deltaX,t.deltaY)}),Object(o.a)(t,"touchmove").pipe(Object(a.a)(this.ngDestroy)).subscribe(t=>{if(!this.disabled&&this.autoPropagation){const e=t.touches[0].clientX,n=t.touches[0].clientY;this.checkPropagation(t,e-this.scrollPositionX,n-this.scrollPositionY),this.scrollPositionX=e,this.scrollPositionY=n}}),Object(s.a)(Object(o.a)(t,"ps-scroll-x").pipe(h("x")),Object(o.a)(t,"ps-scroll-y").pipe(h("y")),Object(o.a)(t,"ps-x-reach-end").pipe(h("right")),Object(o.a)(t,"ps-y-reach-end").pipe(h("bottom")),Object(o.a)(t,"ps-x-reach-start").pipe(h("left")),Object(o.a)(t,"ps-y-reach-start").pipe(h("top"))).pipe(Object(a.a)(this.ngDestroy)).subscribe(t=>{this.disabled||!this.autoPropagation&&!this.scrollIndicators||this.stateUpdate.next(t)})}}),window.setTimeout(()=>{gt.forEach(t=>{this.directiveRef&&(this.directiveRef[t]=this[t])})},0))}ngOnDestroy(){Object(p.y)(this.platformId)&&(this.ngDestroy.next(),this.ngDestroy.unsubscribe(),this.stateTimeout&&"undefined"!=typeof window&&window.clearTimeout(this.stateTimeout))}ngDoCheck(){if(Object(p.y)(this.platformId)&&!this.disabled&&this.autoPropagation&&this.directiveRef){const t=this.directiveRef.elementRef.nativeElement;this.usePropagationX=t.classList.contains("ps--active-x"),this.usePropagationY=t.classList.contains("ps--active-y")}}checkPropagation(t,e,n){this.interaction=!0;const i=e<0?-1:1,o=n<0?-1:1;(this.usePropagationX&&this.usePropagationY||this.usePropagationX&&(!this.allowPropagationX||this.scrollDirectionX!==i)||this.usePropagationY&&(!this.allowPropagationY||this.scrollDirectionY!==o))&&(t.preventDefault(),t.stopPropagation()),e&&(this.scrollDirectionX=i),n&&(this.scrollDirectionY=o),this.stateUpdate.next("interaction"),this.cdRef.detectChanges()}}return t.\u0275fac=function(e){return new(e||t)(g.Pb(g.z),g.Pb(g.h),g.Pb(g.B))},t.\u0275cmp=g.Jb({type:t,selectors:[["perfect-scrollbar"]],viewQuery:function(t,e){var n;1&t&&g.Ic(ft,!0),2&t&&g.yc(n=g.ec())&&(e.directiveRef=n.first)},hostVars:4,hostBindings:function(t,e){2&t&&g.Gb("ps-show-limits",e.autoPropagation)("ps-show-active",e.scrollIndicators)},inputs:{disabled:"disabled",usePSClass:"usePSClass",autoPropagation:"autoPropagation",scrollIndicators:"scrollIndicators",config:"config"},outputs:{psScrollY:"psScrollY",psScrollX:"psScrollX",psScrollUp:"psScrollUp",psScrollDown:"psScrollDown",psScrollLeft:"psScrollLeft",psScrollRight:"psScrollRight",psYReachEnd:"psYReachEnd",psYReachStart:"psYReachStart",psXReachEnd:"psXReachEnd",psXReachStart:"psXReachStart"},exportAs:["ngxPerfectScrollbar"],ngContentSelectors:lt,decls:4,vars:5,consts:[[2,"position","static",3,"perfectScrollbar","disabled"],[1,"ps-content"],["class","ps-overlay",3,"ps-at-top","ps-at-left","ps-at-right","ps-at-bottom",4,"ngIf"],[1,"ps-overlay"],[1,"ps-indicator-top"],[1,"ps-indicator-left"],[1,"ps-indicator-right"],[1,"ps-indicator-bottom"]],template:function(t,e){1&t&&(g.mc(),g.Vb(0,"div",0),g.Vb(1,"div",1),g.lc(2),g.Ub(),g.Lc(3,ct,5,16,"div",2),g.Ub()),2&t&&(g.Gb("ps",e.usePSClass),g.nc("perfectScrollbar",e.config)("disabled",e.disabled),g.Bb(3),g.nc("ngIf",e.scrollIndicators))},directives:[ft,p.n],styles:["perfect-scrollbar{display:block;height:100%;max-height:100%;max-width:100%;overflow:hidden;position:relative;width:100%}perfect-scrollbar[hidden]{display:none}perfect-scrollbar[fxflex]{display:flex;flex-direction:column;height:auto;min-height:0;min-width:0}perfect-scrollbar[fxflex]>.ps{-webkit-box-flex:1;flex:1 1 auto;height:auto;min-height:0;min-width:0;width:auto}perfect-scrollbar[fxlayout]>.ps,perfect-scrollbar[fxlayout]>.ps>.ps-content{-webkit-box-align:inherit;-webkit-box-flex:1;-webkit-box-pack:inherit;align-content:inherit;align-items:inherit;display:flex;flex:1 1 auto;flex-direction:inherit;height:100%;justify-content:inherit;width:100%},perfect-scrollbar[fxlayout=row]>.ps,perfect-scrollbar[fxlayout=row]>.ps>.ps-content{flex-direction:row!important}perfect-scrollbar[fxlayout=column]>.ps,perfect-scrollbar[fxlayout=column]>.ps>.ps-content{flex-direction:column!important}perfect-scrollbar>.ps{display:block;height:100%;max-height:100%;max-width:100%;position:static;width:100%}perfect-scrollbar>.ps textarea{-ms-overflow-style:scrollbar}perfect-scrollbar>.ps>.ps-overlay{bottom:0;display:block;left:0;overflow:hidden;pointer-events:none;position:absolute;right:0;top:0}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-bottom,perfect-scrollbar>.ps>.ps-overlay .ps-indicator-left,perfect-scrollbar>.ps>.ps-overlay .ps-indicator-right,perfect-scrollbar>.ps>.ps-overlay .ps-indicator-top{opacity:0;position:absolute;transition:opacity .3s ease-in-out}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-bottom,perfect-scrollbar>.ps>.ps-overlay .ps-indicator-top{left:0;min-height:24px;min-width:100%}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-left,perfect-scrollbar>.ps>.ps-overlay .ps-indicator-right{min-height:100%;min-width:24px;top:0}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-top{top:0}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-left{left:0}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-right{right:0}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-bottom{bottom:0}perfect-scrollbar>.ps.ps--active-y>.ps__rail-y{cursor:default;left:auto!important;right:0!important;top:0!important;transition:width .2s linear,opacity .2s linear,background-color .2s linear;width:10px}perfect-scrollbar>.ps.ps--active-y>.ps__rail-y.ps--clicking,perfect-scrollbar>.ps.ps--active-y>.ps__rail-y:hover{width:15px}perfect-scrollbar>.ps.ps--active-x>.ps__rail-x{bottom:0!important;cursor:default;height:10px;left:0!important;top:auto!important;transition:height .2s linear,opacity .2s linear,background-color .2s linear}perfect-scrollbar>.ps.ps--active-x>.ps__rail-x.ps--clicking,perfect-scrollbar>.ps.ps--active-x>.ps__rail-x:hover{height:15px}perfect-scrollbar>.ps.ps--active-x.ps--active-y>.ps__rail-y{margin:0 0 10px}perfect-scrollbar>.ps.ps--active-x.ps--active-y>.ps__rail-x{margin:0 10px 0 0}perfect-scrollbar>.ps.ps--scrolling-x>.ps__rail-x,perfect-scrollbar>.ps.ps--scrolling-y>.ps__rail-y{background-color:#eee;opacity:.9}perfect-scrollbar.ps-show-always>.ps.ps--active-x>.ps__rail-x,perfect-scrollbar.ps-show-always>.ps.ps--active-y>.ps__rail-y{opacity:.6}perfect-scrollbar.ps-show-active>.ps.ps--active-y>.ps-overlay:not(.ps-at-top) .ps-indicator-top{background:linear-gradient(180deg,hsla(0,0%,100%,.5) 0,hsla(0,0%,100%,0));opacity:1}perfect-scrollbar.ps-show-active>.ps.ps--active-y>.ps-overlay:not(.ps-at-bottom) .ps-indicator-bottom{background:linear-gradient(0deg,hsla(0,0%,100%,.5) 0,hsla(0,0%,100%,0));opacity:1}perfect-scrollbar.ps-show-active>.ps.ps--active-x>.ps-overlay:not(.ps-at-left) .ps-indicator-left{background:linear-gradient(90deg,hsla(0,0%,100%,.5) 0,hsla(0,0%,100%,0));opacity:1}perfect-scrollbar.ps-show-active>.ps.ps--active-x>.ps-overlay:not(.ps-at-right) .ps-indicator-right{background:linear-gradient(270deg,hsla(0,0%,100%,.5) 0,hsla(0,0%,100%,0));opacity:1}perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-y>.ps-overlay.ps-at-top .ps-indicator-top{background:linear-gradient(180deg,hsla(0,0%,66.7%,.5) 0,hsla(0,0%,66.7%,0))}perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-y>.ps-overlay.ps-at-bottom .ps-indicator-bottom{background:linear-gradient(0deg,hsla(0,0%,66.7%,.5) 0,hsla(0,0%,66.7%,0))}perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-x>.ps-overlay.ps-at-left .ps-indicator-left{background:linear-gradient(90deg,hsla(0,0%,66.7%,.5) 0,hsla(0,0%,66.7%,0))}perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-x>.ps-overlay.ps-at-right .ps-indicator-right{background:linear-gradient(270deg,hsla(0,0%,66.7%,.5) 0,hsla(0,0%,66.7%,0))}perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-x>.ps-overlay.ps-at-left .ps-indicator-left.ps-indicator-show,perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-x>.ps-overlay.ps-at-right .ps-indicator-right.ps-indicator-show,perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-y>.ps-overlay.ps-at-bottom .ps-indicator-bottom.ps-indicator-show,perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-y>.ps-overlay.ps-at-top .ps-indicator-top.ps-indicator-show{opacity:1}",".ps{-ms-overflow-style:none;-ms-touch-action:auto;overflow:hidden!important;overflow-anchor:none;touch-action:auto}.ps__rail-x{bottom:0;height:15px}.ps__rail-x,.ps__rail-y{-webkit-transition:background-color .2s linear,opacity .2s linear;display:none;opacity:0;position:absolute;transition:background-color .2s linear,opacity .2s linear}.ps__rail-y{right:0;width:15px}.ps--active-x>.ps__rail-x,.ps--active-y>.ps__rail-y{background-color:transparent;display:block}.ps--focus>.ps__rail-x,.ps--focus>.ps__rail-y,.ps--scrolling-x>.ps__rail-x,.ps--scrolling-y>.ps__rail-y,.ps:hover>.ps__rail-x,.ps:hover>.ps__rail-y{opacity:.6}.ps .ps__rail-x.ps--clicking,.ps .ps__rail-x:focus,.ps .ps__rail-x:hover,.ps .ps__rail-y.ps--clicking,.ps .ps__rail-y:focus,.ps .ps__rail-y:hover{background-color:#eee;opacity:.9}.ps__thumb-x{-webkit-transition:background-color .2s linear,height .2s ease-in-out;bottom:2px;height:6px;transition:background-color .2s linear,height .2s ease-in-out}.ps__thumb-x,.ps__thumb-y{background-color:#aaa;border-radius:6px;position:absolute}.ps__thumb-y{-webkit-transition:background-color .2s linear,width .2s ease-in-out;right:2px;transition:background-color .2s linear,width .2s ease-in-out;width:6px}.ps__rail-x.ps--clicking .ps__thumb-x,.ps__rail-x:focus>.ps__thumb-x,.ps__rail-x:hover>.ps__thumb-x{background-color:#999;height:11px}.ps__rail-y.ps--clicking .ps__thumb-y,.ps__rail-y:focus>.ps__thumb-y,.ps__rail-y:hover>.ps__thumb-y{background-color:#999;width:11px}@supports (-ms-overflow-style:none){.ps{overflow:auto!important}}@media (-ms-high-contrast:none),screen and (-ms-high-contrast:active){.ps{overflow:auto!important}}"],encapsulation:2}),t})(),mt=(()=>{class t{}return t.\u0275mod=g.Nb({type:t}),t.\u0275inj=g.Mb({factory:function(e){return new(e||t)},imports:[[p.c],p.c]}),t})()},Kj3r:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n("7o/Q"),o=n("D0XW");function s(t,e=o.a){return n=>n.lift(new r(t,e))}class r{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new a(t,this.dueTime,this.scheduler))}}class a extends i.a{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(c,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function c(t){t.debouncedNext()}},Kqap:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n("7o/Q");function o(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(i){return i.lift(new s(t,e,n))}}class s{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new r(t,this.accumulator,this.seed,this.hasSeed))}}class r extends i.a{constructor(t,e,n,i){super(t),this.accumulator=e,this._seed=n,this.hasSeed=i,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(i){this.destination.error(i)}this.seed=n,this.destination.next(n)}}},KqfI:function(t,e,n){"use strict";function i(){}n.d(e,"a",(function(){return i}))},L8wN:function(t,e,n){t.exports=function(t){function e(t){let e=0;for(let n=0;n<t.length;n++)e=(e<<5)-e+t.charCodeAt(n),e|=0;return i.colors[Math.abs(e)%i.colors.length]}function i(t){let n;function r(...t){if(!r.enabled)return;const e=r,o=Number(new Date);e.diff=o-(n||o),e.prev=n,e.curr=o,n=o,t[0]=i.coerce(t[0]),"string"!=typeof t[0]&&t.unshift("%O");let s=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,(n,o)=>{if("%%"===n)return n;s++;const r=i.formatters[o];return"function"==typeof r&&(n=r.call(e,t[s]),t.splice(s,1),s--),n}),i.formatArgs.call(e,t),(e.log||i.log).apply(e,t)}return r.namespace=t,r.enabled=i.enabled(t),r.useColors=i.useColors(),r.color=e(t),r.destroy=o,r.extend=s,"function"==typeof i.init&&i.init(r),i.instances.push(r),r}function o(){const t=i.instances.indexOf(this);return-1!==t&&(i.instances.splice(t,1),!0)}function s(t,e){const n=i(this.namespace+(void 0===e?":":e)+t);return n.log=this.log,n}function r(t){return t.toString().substring(2,t.toString().length-2).replace(/\.\*\?$/,"*")}return i.debug=i,i.default=i,i.coerce=function(t){return t instanceof Error?t.stack||t.message:t},i.disable=function(){const t=[...i.names.map(r),...i.skips.map(r).map(t=>"-"+t)].join(",");return i.enable(""),t},i.enable=function(t){let e;i.save(t),i.names=[],i.skips=[];const n=("string"==typeof t?t:"").split(/[\s,]+/),o=n.length;for(e=0;e<o;e++)n[e]&&("-"===(t=n[e].replace(/\*/g,".*?"))[0]?i.skips.push(new RegExp("^"+t.substr(1)+"$")):i.names.push(new RegExp("^"+t+"$")));for(e=0;e<i.instances.length;e++){const t=i.instances[e];t.enabled=i.enabled(t.namespace)}},i.enabled=function(t){if("*"===t[t.length-1])return!0;let e,n;for(e=0,n=i.skips.length;e<n;e++)if(i.skips[e].test(t))return!1;for(e=0,n=i.names.length;e<n;e++)if(i.names[e].test(t))return!0;return!1},i.humanize=n("5LH7"),Object.keys(t).forEach(e=>{i[e]=t[e]}),i.instances=[],i.names=[],i.skips=[],i.formatters={},i.selectColor=e,i.enable(i.load()),i}},LRne:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n("z+Ro"),o=n("yCtX"),s=n("jZKg");function r(...t){let e=t[t.length-1];return Object(i.a)(e)?(t.pop(),Object(s.a)(t,e)):Object(o.a)(t)}},Le4d:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return r}));var i=n("3My9"),o=n("fXoL");let s=(()=>{class t{transform(t){let e=t?t.toString():"0";if(t>99999999){const n=Math.round(t/1e7)/10;e=-1===n.toString().indexOf(".")?n.toString()+".0\u4ebf":n.toString()+"\u4ebf"}else t>9999&&(e=(t/1e4).toFixed(1)+"\u4e07");return e}subStr(t,e=8){return t?t.substring(0,e):t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=o.Ob({name:"chineseCounter",type:t,pure:!0}),t})(),r=(()=>{class t{constructor(t){this._utility=t}transform(t){return this._utility.GetSafeResource(t)}}return t.\u0275fac=function(e){return new(e||t)(o.Pb(i.a))},t.\u0275pipe=o.Ob({name:"safeResource",type:t,pure:!0}),t})()},Lhse:function(t,e,n){"use strict";function i(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",(function(){return o}));const o=i()},LmEr:function(t,e,n){"use strict";var i=n("kizo"),o=n("AytR"),s=n("3My9"),r=n("etJ/"),a=n("bTnO"),c=n("Njeq"),l=n("tWDZ"),h=n("lJxs"),d=n("fXoL"),u=n("ofXK"),g=n("6VMI"),p=n("Q0zv"),f=n("q3We"),b=n("R5tI");const m=function(t){return{selected:t}};function v(t,e){if(1&t){const t=d.Wb();d.Vb(0,"div",9),d.dc("click",(function(n){d.Cc(t);const i=e.$implicit;return d.gc().selectRegion(i.title,i.code)})),d.Qb(1,"img",3),d.Vb(2,"span",10),d.Nc(3),d.Ub(),d.Vb(4,"span",11),d.Nc(5),d.Ub(),d.Ub()}if(2&t){const t=e.$implicit,n=d.gc();d.nc("ngClass",d.sc(4,m,t.title===n.selectedRegion.title)),d.Bb(1),d.nc("src","../../../assets/images/footer/"+t.code+".png",d.Fc),d.Bb(2),d.Oc(t.title),d.Bb(2),d.Pc("(",t.code,")")}}function y(t,e){1&t&&d.Qb(0,"app-box-arrow",12),2&t&&d.nc("colorChange",!0)("direction","bottom")}const C=function(t){return{expanded:t}},_=function(t){return{height:t}};let x=(()=>{class t{constructor(t,e,n,i,o){this._regionService=t,this._configService=e,this._storage=n,this.eRef=i,this.store=o,this.subscriptions=[],this.expand=!1,this.regions=[{title:"\u5168\u7403",code:"GL"},{title:"\u7f8e\u56fd",code:"US"},{title:"\u52a0\u62ff\u5927",code:"CA"},{title:"\u82f1\u56fd",code:"UK"},{title:"\u610f\u5927\u5229",code:"IT"},{title:"\u5fb7\u56fd",code:"DE"},{title:"\u6cd5\u56fd",code:"FR"},{title:"\u897f\u73ed\u7259",code:"ES"},{title:"\u4e1c\u5357\u4e9a",code:"MY"},{title:"\u6fb3\u6d32",code:"AU"},{title:"\u65e5\u672c",code:"JP"},{title:"\u65b0\u897f\u5170",code:"NZ"},{title:"\u97e9\u56fd",code:"KR"},{title:"\u65b0\u52a0\u5761",code:"SG"}],this.selectedRegion=this.regions[0],this.subscripted=null,this.testUrl="url(../../../assets/images/footer/GL.png)",this.subscripted=o.subscribe(()=>this.readState()),this.readState()}clickout(t){this.eRef.nativeElement.contains(t.target)||(this.expand=!1)}readState(){const t=this.store.getState().config;this.config=t;const e=this.getRegionByCode(this._storage.GetConfig().region);e.length>0&&(this.selectedRegion={title:e[0].title,code:e[0].code})}ngOnInit(){}onMouseEnter(){this.expand=!0}onMouseLeave(){this.expand=!1}selectRegion(t,e){this.selectedRegion.code!==e&&(this._configService.setConfig("region","GL"===e?"GL.":e),this.subscriptions.push(this._regionService.switchRegion("GL"===e?"GL.":e).subscribe(t=>{this.store.dispatch({type:g.d,config:{region:"GL"===e?"GL.":e,logoUrl:t.largeLogo.replace("rv19","rv20")}})}))),this.selectedRegion={title:t,code:e},this.expand=!1}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe()),this.subscripted()}getRegionByCode(t){return this.regions.filter(e=>e.code===t)}}return t.\u0275fac=function(e){return new(e||t)(d.Pb(p.a),d.Pb(f.a),d.Pb(r.a),d.Pb(d.l),d.Pb(a.a))},t.\u0275cmp=d.Jb({type:t,selectors:[["app-dn-region-selector"]],hostBindings:function(t,e){1&t&&d.dc("click",(function(t){return e.clickout(t)}),!1,d.Ac)},decls:10,vars:13,consts:[[1,"new-region-selector","text-left","text-small"],[1,"iconfont","iconditu_dingwei","icon-style"],[1,"new-selected-region",3,"ngClass","click","mouseenter"],[1,"regionFlag",3,"src"],[1,"new-regions",3,"ngClass","ngStyle","mouseleave"],[1,"inner"],[1,"new-items"],["class","new-item d-flex",3,"ngClass","click",4,"ngFor","ngForOf"],[3,"colorChange","direction",4,"ngIf"],[1,"new-item","d-flex",3,"ngClass","click"],[1,"region-text","name"],[1,"region-text"],[3,"colorChange","direction"]],template:function(t,e){1&t&&(d.Vb(0,"div",0),d.Qb(1,"span",1),d.Vb(2,"div",2),d.dc("click",(function(t){return e.onMouseEnter()}))("mouseenter",(function(t){return e.onMouseEnter()})),d.Qb(3,"img",3),d.Nc(4),d.Ub(),d.Vb(5,"div",4),d.dc("mouseleave",(function(t){return e.onMouseLeave()})),d.Vb(6,"div",5),d.Vb(7,"div",6),d.Lc(8,v,6,6,"div",7),d.Ub(),d.Ub(),d.Ub(),d.Lc(9,y,1,2,"app-box-arrow",8),d.Ub()),2&t&&(d.Bb(2),d.nc("ngClass",d.sc(7,C,e.expand)),d.Bb(1),d.nc("src","../../../assets/images/footer/"+e.selectedRegion.code+".png",d.Fc),d.Bb(1),d.Pc(" ",e.selectedRegion.title," "),d.Bb(1),d.nc("ngClass",d.sc(9,C,e.expand))("ngStyle",d.sc(11,_,e.expand?10+36*e.regions.length+"px":"14px")),d.Bb(3),d.nc("ngForOf",e.regions),d.Bb(1),d.nc("ngIf",e.expand))},directives:[u.l,u.o,u.m,u.n,b.a],styles:['.region-selector[_ngcontent-%COMP%]{position:relative;width:240px;height:30px;margin:0 auto}.label[_ngcontent-%COMP%]{left:0;top:0;line-height:26px}.label[_ngcontent-%COMP%], .regions[_ngcontent-%COMP%]{position:absolute;padding:2px}.regions[_ngcontent-%COMP%]{border:1px solid hsla(0,0%,40%,.2);z-index:50;bottom:5px;left:116px;background-color:#171928;-webkit-transition:all .3s ease-in-out;transition:all .3s ease-in-out;width:86px;height:22px;overflow:hidden}.regions.expanded[_ngcontent-%COMP%]{bottom:-8px;left:107px;width:392px;height:152px;box-shadow:0 0 5px 0 rgba(0,0,0,.75)}.regions.inner[_ngcontent-%COMP%]{position:relative}.selected-region[_ngcontent-%COMP%]{position:absolute;bottom:2px;left:114px;width:90px;padding:2px;text-align:center;background-color:#090b21;border:1px solid hsla(0,0%,40%,.2);border-radius:2px;z-index:900;overflow:hidden;cursor:pointer}.selected-region.expanded[_ngcontent-%COMP%]{color:#ddd;border-color:hsla(0,0%,40%,.2)}.selected-region.expanded[_ngcontent-%COMP%]:after{border-width:0!important;top:-5px;right:-5px;-webkit-transition:all .2s ease-in-out;transition:all .2s ease-in-out}.selected-region[_ngcontent-%COMP%]:after, .selected-region[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;right:0;border-color:transparent;border-style:solid}.selected-region[_ngcontent-%COMP%]:after{border-radius:0;border-width:5px;border-right-color:#999;border-top-color:#999}.items[_ngcontent-%COMP%]{padding:4px;position:absolute;left:0;bottom:44px;border-bottom:1px solid hsla(0,0%,40%,.2)}.item[_ngcontent-%COMP%]{line-height:26px;height:26px;width:90px;background-color:rgba(0,0,0,.17);border-radius:2px;margin:3px;cursor:pointer}.item.selected[_ngcontent-%COMP%]{background-color:#00c0ff!important;color:#fff}.item[_ngcontent-%COMP%]:hover{background-color:#00c0ff;color:#fff}.new-region-selector[_ngcontent-%COMP%]{position:relative;width:120px;height:30px;margin:-9px auto 0}.icon-style[_ngcontent-%COMP%]{font-size:24px;color:hsla(0,0%,100%,.7)}.light[_nghost-%COMP%]   .icon-style[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .icon-style[_ngcontent-%COMP%]{color:#aaa}.new-selected-region[_ngcontent-%COMP%]{position:absolute;bottom:0;left:30px;width:90px;padding:2px;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;text-align:left;border-radius:2px;z-index:900;overflow:hidden;cursor:pointer;color:hsla(0,0%,100%,.7)}.light[_nghost-%COMP%]   .new-selected-region[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .new-selected-region[_ngcontent-%COMP%]{color:#888}.new-selected-region.expanded[_ngcontent-%COMP%]{color:#ddd}.light[_nghost-%COMP%]   .new-selected-region.expanded[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .new-selected-region.expanded[_ngcontent-%COMP%]{color:#333}.regionFlag[_ngcontent-%COMP%]{width:24px;height:19px;margin-right:9px;-webkit-user-drag:none}.GL[_ngcontent-%COMP%]:before{background:url(/assets/images/footer/GL.png) no-repeat 50%}.US[_ngcontent-%COMP%]:before{background:url(/assets/images/footer/US.png) no-repeat 50%}.UK[_ngcontent-%COMP%]:before{background:url(/assets/images/footer/UK.png) no-repeat 50%}.MY[_ngcontent-%COMP%]:before{background:url(/assets/images/footer/MY.png) no-repeat 50%}.IT[_ngcontent-%COMP%]:before{background:url(/assets/images/footer/IT.png) no-repeat 50%}.ES[_ngcontent-%COMP%]:before{background:url(/assets/images/footer/ES.png) no-repeat 50%}.DE[_ngcontent-%COMP%]:before{background:url(/assets/images/footer/DE.png) no-repeat 50%}.CA[_ngcontent-%COMP%]:before{background:url(/assets/images/footer/CA.png) no-repeat 50%}.AU[_ngcontent-%COMP%]:before{background:url(/assets/images/footer/AU.png) no-repeat 50%}.JP[_ngcontent-%COMP%]:before{background:url(/assets/images/footer/JP.png) no-repeat 50%}.FR[_ngcontent-%COMP%]:before{background:url(/assets/images/footer/FR.png) no-repeat 50%}.NZ[_ngcontent-%COMP%]:before{background:url(/assets/images/footer/NZ.png) no-repeat 50%}.KR[_ngcontent-%COMP%]:before{background:url(/assets/images/footer/KR.png) no-repeat 50%}.SG[_ngcontent-%COMP%]:before{background:url(/assets/images/footer/SG.png) no-repeat 50%}.new-regions[_ngcontent-%COMP%]{padding:2px;z-index:4000;position:absolute;bottom:25px;left:30px;-webkit-transition:all .2s ease-in-out;transition:all .2s ease-in-out;width:60px;height:14px;overflow:hidden}.new-regions.expanded[_ngcontent-%COMP%]{background-color:#2b2c3a;bottom:35px;left:-10px;width:132px;height:514px;box-shadow:2px -2px 3px 0 rgba(0,0,0,.25)}.light[_nghost-%COMP%]   .new-regions.expanded[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .new-regions.expanded[_ngcontent-%COMP%]{background-color:#fff;box-shadow:2px -2px 3px 0 rgba(0,0,0,.24)}.new-regions.inner[_ngcontent-%COMP%]{position:relative}.new-items[_ngcontent-%COMP%]{padding:4px;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.new-item[_ngcontent-%COMP%], .new-items[_ngcontent-%COMP%]{display:-webkit-box;display:flex}.new-item[_ngcontent-%COMP%]{line-height:26px;height:26px;width:115px;margin:5px 3px;cursor:pointer;position:relative;padding-left:3px;-webkit-box-align:center;align-items:center;-webkit-box-pack:start;justify-content:flex-start}.light[_nghost-%COMP%]   .new-item[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .new-item[_ngcontent-%COMP%]{color:#888}.new-item.selected[_ngcontent-%COMP%], .new-item[_ngcontent-%COMP%]:hover{color:#00c0ff!important}.new-item[_ngcontent-%COMP%]   .region-text[_ngcontent-%COMP%]{margin-top:2px}.new-item[_ngcontent-%COMP%]   .region-text.name[_ngcontent-%COMP%]{margin-right:4px}']}),t})();function P(t,e){if(1&t&&(d.Vb(0,"div",1),d.Vb(1,"div",2),d.Vb(2,"div",3),d.Nc(3,"\u7248\u6743\u58f0\u660e\uff1a\u5982\u679c\u6765\u51fd\u8bf4\u660e\u672c\u7f51\u7ad9\u63d0\u4f9b\u5185\u5bb9\u672c\u4eba\u6216\u6cd5\u4eba\u7248\u6743\u6240\u6709\u3002\u672c\u7f51\u7ad9\u5728\u6838\u5b9e\u540e\uff0c\u6709\u6743\u5148\u884c\u64a4\u9664\uff0c\u4ee5\u4fdd\u62a4\u7248\u6743\u62e5\u6709\u8005\u7684\u6743\u76ca\u3002"),d.Ub(),d.Vb(4,"span"),d.Nc(5,"\u90ae\u7bb1\u5730\u5740\uff1a"),d.Ub(),d.Vb(6,"a",4),d.Nc(7),d.Ub(),d.Vb(8,"span",5),d.Nc(9,"\u5730\u5740\uff1a "),d.Vb(10,"span",6),d.Nc(11),d.Ub(),d.Ub(),d.Vb(12,"div",7),d.Vb(13,"b"),d.Nc(14),d.Ub(),d.Nc(15," \u7248\u6743\u6240\u6709\uff0c\u672a\u7ecf\u6388\u6743\u7981\u6b62\u94fe\u63a5\u3001\u590d\u5236\u6216\u5efa\u7acb"),d.Ub(),d.Vb(16,"div",8),d.Nc(17),d.Ub(),d.Ub(),d.Ub()),2&t){const t=d.gc();d.Bb(6),d.pc("href","mailto:info@",t.host,"",d.Fc),d.Bb(1),d.Pc("info@",t.host,""),d.Bb(4),d.Oc(t.copyRight),d.Bb(3),d.Pc(" ",t.host,""),d.Bb(3),d.Pc("Copyright 2021-2022 ",t.host," Allrights Reserved.")}}let w=(()=>{class t{constructor(t){this._utility=t,this.isApp=o.a.app,this.copyRight=this._utility.getSiteConfig.copyRight,this.host=this._utility.GetHost()}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(d.Pb(s.a))},t.\u0275cmp=d.Jb({type:t,selectors:[["app-dn-copyright"]],decls:1,vars:1,consts:[["class","copyright text-center",4,"ngIf"],[1,"copyright","text-center"],[1,"text-small"],[1,"mb-1"],[3,"href"],[2,"margin-left","1em"],[1,"address-color"],[2,"margin-top","0.5em"],[1,"footer-copyright"]],template:function(t,e){1&t&&d.Lc(0,P,18,5,"div",0),2&t&&d.nc("ngIf",!e.isApp)},directives:[u.n],styles:[".copyright[_ngcontent-%COMP%]{color:hsla(0,0%,100%,.4)}.light[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .light[_nghost-%COMP%]   .copyright[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .copyright[_ngcontent-%COMP%]{color:#888}.light[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#00c0ff}.footer-copyright[_ngcontent-%COMP%]{margin-top:3em;font-size:12px;color:hsla(0,0%,100%,.2)}.light[_nghost-%COMP%]   .footer-copyright[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .footer-copyright[_ngcontent-%COMP%]{color:#a0a0a0}.address-color[_ngcontent-%COMP%]{color:hsla(0,0%,100%,.7)}.light[_nghost-%COMP%]   .address-color[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .address-color[_ngcontent-%COMP%]{color:#333}"]}),t})();var O=n("b1b0"),M=n("tyNb");const k=function(){return["/help/job-offers"]};function S(t,e){1&t&&(d.Vb(0,"div"),d.Vb(1,"a",4),d.Nc(2,"\u8bda\u8058\u82f1\u624d"),d.Ub(),d.Ub()),2&t&&(d.Bb(1),d.nc("routerLink",d.rc(1,k)))}const I=function(){return["/help/about-us"]},L=function(){return["/help/terms"]},T=function(){return["/help/faq"]},A=function(){return{cid:4,item:63}};function N(t,e){if(1&t&&(d.Vb(0,"div"),d.Vb(1,"div",2),d.Nc(2,"\u5173\u4e8e\u6211\u4eec"),d.Ub(),d.Vb(3,"div",3),d.Vb(4,"div"),d.Vb(5,"a",4),d.Nc(6,"\u516c\u53f8\u4ecb\u7ecd"),d.Ub(),d.Ub(),d.Lc(7,S,3,2,"div",0),d.Vb(8,"div"),d.Vb(9,"a",4),d.Nc(10,"\u670d\u52a1\u6761\u6b3e"),d.Ub(),d.Ub(),d.Vb(11,"div"),d.Vb(12,"a",5),d.Nc(13,"\u5145\u503c\u534f\u8bae"),d.Ub(),d.Ub(),d.Ub(),d.Ub()),2&t){const t=d.gc();d.Bb(5),d.nc("routerLink",d.rc(5,I)),d.Bb(2),d.nc("ngIf",2!=t.cinema),d.Bb(2),d.nc("routerLink",d.rc(6,L)),d.Bb(3),d.nc("routerLink",d.rc(7,T))("queryParams",d.rc(8,A))}}function B(t,e){if(1&t){const t=d.Wb();d.Vb(0,"div"),d.Vb(1,"a",7),d.dc("click",(function(e){return d.Cc(t),d.gc(2).showRechargeBox()})),d.Nc(2,"\u5145\u503c\u4e2d\u5fc3"),d.Ub(),d.Ub()}}const V=function(){return["/user"]},U=function(){return["/help"]},D=function(){return["/help/feedback"]},E=function(){return["/help/contact-us"]};function R(t,e){if(1&t&&(d.Vb(0,"div"),d.Vb(1,"div",2),d.Nc(2,"\u7f51\u7ad9\u670d\u52a1"),d.Ub(),d.Vb(3,"div",3),d.Vb(4,"div"),d.Vb(5,"a",4),d.Nc(6,"\u4e2a\u4eba\u4e2d\u5fc3"),d.Ub(),d.Ub(),d.Vb(7,"div"),d.Vb(8,"a",4),d.Nc(9,"\u5e38\u89c1\u95ee\u9898"),d.Ub(),d.Ub(),d.Vb(10,"div"),d.Vb(11,"a",4),d.Nc(12,"\u5728\u7ebf\u53cd\u9988"),d.Ub(),d.Ub(),d.Lc(13,B,3,0,"div",0),d.Vb(14,"div"),d.Vb(15,"a",6),d.Nc(16,"\u5e7f\u544a\u6295\u653e"),d.Ub(),d.Ub(),d.Vb(17,"div"),d.Vb(18,"a",4),d.Nc(19,"\u8054\u7cfb\u6211\u4eec"),d.Ub(),d.Ub(),d.Ub(),d.Ub()),2&t){const t=d.gc();d.Bb(5),d.nc("routerLink",d.rc(5,V)),d.Bb(3),d.nc("routerLink",d.rc(6,U)),d.Bb(3),d.nc("routerLink",d.rc(7,D)),d.Bb(2),d.nc("ngIf",!t.allVip),d.Bb(5),d.nc("routerLink",d.rc(8,E))}}function F(t,e){if(1&t&&(d.Vb(0,"div"),d.Vb(1,"a",11),d.Qb(2,"img",12),d.Ub(),d.Ub()),2&t){const t=e.$implicit;d.Bb(1),d.oc("href",t.linkUrl,d.Fc),d.Bb(1),d.nc("src",t.icon,d.Fc)}}function j(t,e){if(1&t&&(d.Vb(0,"div",8),d.Vb(1,"div",2),d.Nc(2,"\u5408\u4f5c\u4f19\u4f34"),d.Ub(),d.Vb(3,"div",9),d.Lc(4,F,3,2,"div",10),d.Ub(),d.Ub()),2&t){const t=d.gc();d.Bb(4),d.nc("ngForOf",t.partnerList)}}let z=(()=>{class t{constructor(t,e,n,i,s){this._rechargeBoxService=t,this._storage=e,this._apiUrlHelper=n,this._httpClientHelper=i,this.store=s,this.partnerList=[],this.cinema=o.a.cinema}ngOnInit(){}showRechargeBox(){this._rechargeBoxService.changeDisplayStatus(!0)}ngOnDestroy(){}}return t.\u0275fac=function(e){return new(e||t)(d.Pb(O.a),d.Pb(r.a),d.Pb(c.a),d.Pb(l.a),d.Pb(a.a))},t.\u0275cmp=d.Jb({type:t,selectors:[["app-dn-footer-menu"]],inputs:{menuType:"menuType",partnerList:"partnerList"},decls:3,vars:3,consts:[[4,"ngIf"],["class","partner-ctn",4,"ngIf"],[1,"footer-menu-title"],[1,"d-flex","justify-content-between","flex-wrap","footer-menu-item"],["target","_blank",3,"routerLink"],["target","_blank",3,"routerLink","queryParams"],["href","/ad-center/intro","target","_blank"],["href","javascript:void(0);",3,"click"],[1,"partner-ctn"],[1,"d-flex","justify-content-start","flex-wrap","partner-logo-item"],[4,"ngFor","ngForOf"],["target","_blank",3,"href"],[1,"partner-logo",3,"src"]],template:function(t,e){1&t&&(d.Lc(0,N,14,9,"div",0),d.Lc(1,R,20,9,"div",0),d.Lc(2,j,5,1,"div",1)),2&t&&(d.nc("ngIf","about-us"===e.menuType),d.Bb(1),d.nc("ngIf","web-service"===e.menuType),d.Bb(1),d.nc("ngIf","partner"===e.menuType&&e.partnerList.length>0))},directives:[u.n,M.g,u.m],styles:[".text-gray[_ngcontent-%COMP%]{color:#f8f8f8!important}.text-light[_ngcontent-%COMP%]{color:hsla(0,0%,100%,.4)!important}.light[_ngcontent-%COMP%]   .text-light[_ngcontent-%COMP%]{color:#888!important}.text-large[_ngcontent-%COMP%]{font-size:18px}text-medium[_ngcontent-%COMP%]{font-size:16px}.text-small[_ngcontent-%COMP%]{font-size:13px}.dn-button[_ngcontent-%COMP%]{border:none;outline:none!important;display:block;padding:6px 8px;width:auto;min-width:100px;margin:0 .4rem;border-radius:0;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;text-align:center;color:#fff!important;background-color:#373843}.light[_ngcontent-%COMP%]   .dn-button[_ngcontent-%COMP%]{background-color:#777}.dn-button[_ngcontent-%COMP%]:hover{background-color:hsla(0,0%,40%,.2)}.dn-button-plain[_ngcontent-%COMP%]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border:1px solid silver;color:#000!important;background-color:#fff;padding:6px 20px;cursor:pointer}.dn-button-plain[_ngcontent-%COMP%]:hover{background-color:#cacaca;color:#fff!important}.dn-button-outline[_ngcontent-%COMP%]{outline:none!important;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border:2px solid silver;border-radius:0;background-color:#fff;padding:2px 14px;cursor:pointer}.dn-button-outline[_ngcontent-%COMP%]:hover{background-color:#cacaca;color:#fff!important}.dn-button-outline.orange[_ngcontent-%COMP%]{color:#f49800;border-color:#f49800;background-color:#434343}.dn-button-outline.orange[_ngcontent-%COMP%]:hover{color:#fe9e00!important;border-color:#fe9e00!important;background-color:#000}.dn-button-blue[_ngcontent-%COMP%]{color:#fff!important;background-color:#00a8ec!important}.dn-button-blue[_ngcontent-%COMP%]:hover{background-color:#00b6ff!important}.dn-button-disable[_ngcontent-%COMP%]{cursor:default;color:hsla(0,0%,100%,.2)!important;background-color:hsla(0,0%,40%,.2)!important}.light[_ngcontent-%COMP%]   .dn-button-disable[_ngcontent-%COMP%]{color:#a0a0a0!important}.dn-button-orange[_ngcontent-%COMP%]{color:#fff!important;background-color:#f49800}.dn-button-orange[_ngcontent-%COMP%]:hover{background-color:#fe9e00}.dn-button-gold[_ngcontent-%COMP%]{color:#fff!important;background-color:#f49800!important}.dn-button-gold[_ngcontent-%COMP%]:hover{background-color:#fe9e00!important}.dn-button-red[_ngcontent-%COMP%]{color:#fff!important}.dn-button-red[_ngcontent-%COMP%], .dn-button-red[_ngcontent-%COMP%]:hover{background-color:#00c0ff}.dn-button-large[_ngcontent-%COMP%]{padding:10px 18px}.dn-play-button[_ngcontent-%COMP%]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;padding:4px 12px;border-radius:3px;font-size:16px;display:inline-block;color:#fff!important;background-color:#f00000}.dn-play-button[_ngcontent-%COMP%]:hover{background-color:#f10000}.dn-play-button[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{font-size:20px;vertical-align:middle}.dn-play-button[_ngcontent-%COMP%]   .btn-text[_ngcontent-%COMP%]{display:inline-block;border-left:1px solid #fff;padding:3px 8px 3px 10px;vertical-align:middle}.dn-btn-load-more[_ngcontent-%COMP%]{cursor:pointer;padding:5px 15px}.link-blue[_ngcontent-%COMP%]{color:#00a8ec}.link-blue[_ngcontent-%COMP%]:hover{color:#434343}.red[_ngcontent-%COMP%]{color:#f00000}.rose[_ngcontent-%COMP%]{color:#ff01ff}.orange[_ngcontent-%COMP%]{color:#fe9e00}.light[_nghost-%COMP%]   a[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   a[_ngcontent-%COMP%]{color:#888}.light[_nghost-%COMP%]   a[_ngcontent-%COMP%]:hover, .light   [_nghost-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#00c0ff}.footer-menu-title[_ngcontent-%COMP%]{color:#fff;font-size:16px;margin-bottom:20px}.light[_nghost-%COMP%]   .footer-menu-title[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .footer-menu-title[_ngcontent-%COMP%]{color:#333}.footer-menu-item[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-bottom:10px;height:32px;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}.partner-ctn[_ngcontent-%COMP%]{width:auto}.partner-logo[_ngcontent-%COMP%]{width:65px;height:32px;border-radius:3px}.partner-logo-item[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-bottom:10px;margin-right:15px;height:32px}"]}),t})();var H=n("irgY");function G(t,e){if(1&t&&d.Qb(0,"app-dn-footer-menu",20),2&t){const t=d.gc(2);d.nc("menuType","partner")("partnerList",t.partnerList)}}function W(t,e){if(1&t&&(d.Vb(0,"div",5),d.Vb(1,"div",6),d.Vb(2,"div",7),d.Lc(3,G,1,2,"app-dn-footer-menu",8),d.Qb(4,"app-dn-footer-menu",9),d.Qb(5,"app-dn-footer-menu",10),d.Ub(),d.Ub(),d.Vb(6,"div",11),d.Qb(7,"app-contact-info",12),d.Vb(8,"div",13),d.Vb(9,"div",14),d.Vb(10,"a",15),d.Qb(11,"img",16),d.Vb(12,"div",17),d.Nc(13,"\u5b89\u5353\u5ba2\u6237\u7aef"),d.Ub(),d.Ub(),d.Ub(),d.Vb(14,"div",14),d.Vb(15,"a",15),d.Qb(16,"img",18),d.Vb(17,"div",17),d.Nc(18,"PC\u5ba2\u6237\u7aef"),d.Ub(),d.Ub(),d.Ub(),d.Vb(19,"div",14),d.Vb(20,"a",15),d.Qb(21,"img",19),d.Vb(22,"div",17),d.Nc(23,"\u7535\u89c6\u5ba2\u6237\u7aef"),d.Ub(),d.Ub(),d.Ub(),d.Ub(),d.Ub(),d.Ub()),2&t){const t=d.gc();d.Bb(3),d.nc("ngIf",t.partnerList.length>0),d.Bb(1),d.nc("menuType","about-us"),d.Bb(1),d.nc("menuType","web-service"),d.Bb(2),d.nc("showTitle",!1)("showTime",!1)("onlyIcon",!0)("onlyImg",!0)}}n.d(e,"a",(function(){return q}));let q=(()=>{class t{constructor(t,e,n,s,r,a){this._windowService=t,this._storage=e,this._utility=n,this.store=s,this._apiUrlHelper=r,this._httpClientHelper=a,this.screenType=i.a,this.isAdult=2===o.a.cinema,this.environment=o.a,this.host=this._utility.GetHost(),this.isDark=!1,this.subscript=null,this.partnerList=[],this.lastRegion="",this.enableContact=this._utility.getSiteConfig.enableContact,this.isApp=o.a.app,this._windowService.size$.subscribe(t=>{this.screenSize=t})}ngOnInit(){this._utility.GetOrCreateSubscript("theme.change").subscribe(t=>{this.isDark="dark"==t}),this.isDark=!!parseInt(this._storage.GetConfig().isDark||"1");const t=this._storage.GetConfig().region;this.getPartnerList(t),this.subscript=this.store.subscribe(()=>{const t=this._storage.GetConfig().region;this.lastRegion!==t&&this.getPartnerList(t)})}ngOnDestroy(){this.subscript()}getPartnerList(t){this.lastRegion=t,this.getCoBusiness(t).subscribe(t=>{this.partnerList=t.list?t.list:[]})}getCoBusiness(t){const e=this._apiUrlHelper.urlBuilder("get-co-business",{region:t,page:1,size:8});return this._httpClientHelper.get(e).pipe(Object(h.a)(t=>t[0]))}}return t.\u0275fac=function(e){return new(e||t)(d.Pb(i.b),d.Pb(r.a),d.Pb(s.a),d.Pb(a.a),d.Pb(c.a),d.Pb(l.a))},t.\u0275cmp=d.Jb({type:t,selectors:[["app-footer"]],decls:7,vars:1,consts:[[1,"container-p"],[1,"container"],[1,"d-flex","justify-content-center","flex-column","align-items-center"],["style","max-width: 1400px;","class","footer-ctn d-flex",4,"ngIf"],[1,"d-flex"],[1,"footer-ctn","d-flex",2,"max-width","1400px"],[1,"footer-left"],[1,"d-flex","justify-content-around"],["class","d-block","style","margin-bottom: 60px; min-width: 100px; max-width: 330px;",3,"menuType","partnerList",4,"ngIf"],[1,"d-block",2,"margin-bottom","60px","width","150px",3,"menuType"],[1,"d-block",2,"margin-bottom","60px","width","205px",3,"menuType"],[1,"footer-right","d-flex","justify-content-end"],[1,"h-100","contact-info-box",3,"showTitle","showTime","onlyIcon","onlyImg"],[1,"downloads","h-100"],[1,"download-box"],["href","/app-download","target","_blank"],["width","56px","height","56px","src","./assets/images/footer/android.png",1,"mb-2","d-block"],[1,"dl-title"],["width","56px","height","56px","src","./assets/images/footer/windows.png",1,"mb-2","d-block"],["width","56px","height","56px","src","./assets/images/footer/tv.png",1,"mb-2","d-block"],[1,"d-block",2,"margin-bottom","60px","min-width","100px","max-width","330px",3,"menuType","partnerList"]],template:function(t,e){1&t&&(d.Vb(0,"div",0),d.Vb(1,"div",1),d.Vb(2,"div",2),d.Lc(3,W,24,7,"div",3),d.Vb(4,"div",4),d.Qb(5,"app-dn-region-selector"),d.Qb(6,"app-dn-copyright"),d.Ub(),d.Ub(),d.Ub(),d.Ub()),2&t&&(d.Bb(3),d.nc("ngIf",e.enableContact))},directives:[u.n,x,w,z,H.a],styles:[".text-gray[_ngcontent-%COMP%]{color:#f8f8f8!important}.text-light[_ngcontent-%COMP%]{color:hsla(0,0%,100%,.4)!important}.light[_ngcontent-%COMP%]   .text-light[_ngcontent-%COMP%]{color:#888!important}.text-large[_ngcontent-%COMP%]{font-size:18px}text-medium[_ngcontent-%COMP%]{font-size:16px}.text-small[_ngcontent-%COMP%]{font-size:13px}.dn-button[_ngcontent-%COMP%]{border:none;outline:none!important;display:block;padding:6px 8px;width:auto;min-width:100px;margin:0 .4rem;border-radius:0;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;text-align:center;color:#fff!important;background-color:#373843}.light[_ngcontent-%COMP%]   .dn-button[_ngcontent-%COMP%]{background-color:#777}.dn-button[_ngcontent-%COMP%]:hover{background-color:hsla(0,0%,40%,.2)}.dn-button-plain[_ngcontent-%COMP%]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border:1px solid silver;color:#000!important;background-color:#fff;padding:6px 20px;cursor:pointer}.dn-button-plain[_ngcontent-%COMP%]:hover{background-color:#cacaca;color:#fff!important}.dn-button-outline[_ngcontent-%COMP%]{outline:none!important;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border:2px solid silver;border-radius:0;background-color:#fff;padding:2px 14px;cursor:pointer}.dn-button-outline[_ngcontent-%COMP%]:hover{background-color:#cacaca;color:#fff!important}.dn-button-outline.orange[_ngcontent-%COMP%]{color:#f49800;border-color:#f49800;background-color:#434343}.dn-button-outline.orange[_ngcontent-%COMP%]:hover{color:#fe9e00!important;border-color:#fe9e00!important;background-color:#000}.dn-button-blue[_ngcontent-%COMP%]{color:#fff!important;background-color:#00a8ec!important}.dn-button-blue[_ngcontent-%COMP%]:hover{background-color:#00b6ff!important}.dn-button-disable[_ngcontent-%COMP%]{cursor:default;color:hsla(0,0%,100%,.2)!important;background-color:hsla(0,0%,40%,.2)!important}.light[_ngcontent-%COMP%]   .dn-button-disable[_ngcontent-%COMP%]{color:#a0a0a0!important}.dn-button-orange[_ngcontent-%COMP%]{color:#fff!important;background-color:#f49800}.dn-button-orange[_ngcontent-%COMP%]:hover{background-color:#fe9e00}.dn-button-gold[_ngcontent-%COMP%]{color:#fff!important;background-color:#f49800!important}.dn-button-gold[_ngcontent-%COMP%]:hover{background-color:#fe9e00!important}.dn-button-red[_ngcontent-%COMP%]{color:#fff!important}.dn-button-red[_ngcontent-%COMP%], .dn-button-red[_ngcontent-%COMP%]:hover{background-color:#00c0ff}.dn-button-large[_ngcontent-%COMP%]{padding:10px 18px}.dn-play-button[_ngcontent-%COMP%]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;padding:4px 12px;border-radius:3px;font-size:16px;display:inline-block;color:#fff!important;background-color:#f00000}.dn-play-button[_ngcontent-%COMP%]:hover{background-color:#f10000}.dn-play-button[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{font-size:20px;vertical-align:middle}.dn-play-button[_ngcontent-%COMP%]   .btn-text[_ngcontent-%COMP%]{display:inline-block;border-left:1px solid #fff;padding:3px 8px 3px 10px;vertical-align:middle}.dn-btn-load-more[_ngcontent-%COMP%]{cursor:pointer;padding:5px 15px}.link-blue[_ngcontent-%COMP%]{color:#00a8ec}.link-blue[_ngcontent-%COMP%]:hover{color:#434343}.red[_ngcontent-%COMP%]{color:#f00000}.rose[_ngcontent-%COMP%]{color:#ff01ff}.orange[_ngcontent-%COMP%]{color:#fe9e00}.container-p[_ngcontent-%COMP%]{background-color:#090b21;background-color:#0d0d17;color:hsla(0,0%,100%,.7)}.light[_nghost-%COMP%]   .container-p[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .container-p[_ngcontent-%COMP%]{background-color:#eee;color:#888}.container[_ngcontent-%COMP%]{padding:45px 30px 30px}.light[_nghost-%COMP%]   .container[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .container[_ngcontent-%COMP%]{background-color:#eee}.footer-top[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:180px}.links[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{width:130px}.links[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:40px}.footer-bottom[_ngcontent-%COMP%]{margin-top:15px;padding:30px 0 0;border-top:1px solid hsla(0,0%,40%,.2)}a[_ngcontent-%COMP%]{color:hsla(0,0%,100%,.7)}a[_ngcontent-%COMP%]:hover{color:#fff!important}.footer-ctn[_ngcontent-%COMP%]{position:relative;padding:0 5em;-webkit-box-pack:center;justify-content:center;width:100%}.footer-left[_ngcontent-%COMP%]{-webkit-box-flex:2;flex:2}.footer-right[_ngcontent-%COMP%]{margin-left:1em}.footer-copyright[_ngcontent-%COMP%]{position:absolute;bottom:0;font-size:12px;color:hsla(0,0%,100%,.2)}.light[_nghost-%COMP%]   .footer-copyright[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .footer-copyright[_ngcontent-%COMP%]{color:#a0a0a0}.contact-info-box[_ngcontent-%COMP%]{padding-bottom:46px;margin-right:16px}.downloads[_ngcontent-%COMP%]{-webkit-box-pack:justify;justify-content:space-between;padding-bottom:46px;width:auto}.downloads[_ngcontent-%COMP%], .downloads[_ngcontent-%COMP%]   .download-box[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;height:100%}.downloads[_ngcontent-%COMP%]   .download-box[_ngcontent-%COMP%]{margin-right:16px}.downloads[_ngcontent-%COMP%]   .download-box[_ngcontent-%COMP%]:last-child{margin-right:0}.downloads[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:center;align-items:center}.dl-title[_ngcontent-%COMP%]{color:#fff;font-size:14px;margin-top:3px;white-space:nowrap}.light[_nghost-%COMP%]   .dl-title[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .dl-title[_ngcontent-%COMP%]{color:#888}@media (max-width:1439px){.container[_ngcontent-%COMP%]{width:1345px!important;min-width:1345px!important;max-width:1345px!important}}@media (min-width:1440px) and (max-width:1678px){.container[_ngcontent-%COMP%]{width:1400px!important;min-width:1400px!important;max-width:1400px!important}}@media (min-width:1679px) and (max-width:1919px){.container[_ngcontent-%COMP%]{width:1528px!important;min-width:1528px!important;max-width:1528px!important}}"]}),t})()},Mb2U:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n("fXoL");let o=(()=>{class t{fromCatType(t,e){let n;return n=e?{title:t.className,id:t.altLink?t.altLink.split("?CID=")[1]:t.path,prompt:t.isIndex,region:t.region}:{title:t.className,id:t.path,prompt:t.isIndex,region:t.region},n}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Lb({token:t,factory:t.\u0275fac}),t})()},"Mi/O":function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return s}));var i=n("UnVO");class o{constructor(){this.favorites=0,this.messages=0,this.pm=0,this.follows=0}}class s{constructor(t){this._isCurrentUser=t,this.autoKey="",this.id=null,this.name="",this.accountName="",this.nickname="",this.gender="",this.avatar=void 0,this.background="",this.experience=0,this.expToNextLevel=0,this.level=0,this.dnCoins=0,this.membership="",this.membershipExpiryDate="",this.roleId=-1,this.daysOfMembership=0,this.region="",this.lastLogin="",this.lastIP="",this.loginTimes=0,this.permissions=[],this.registerDate="",this.key="",this.privateFolder={available:!1,secret:"",securityMode:"password"},this.autoSendServiceMsgUids=[],this.lastTrend={}}get avatarPath(){if(this.avatar)return this.avatar;if(void 0!==this.avatar)switch(this.gender){case"male":return i.a.maleDefaultAvatar;case"female":return i.a.femaleDefaultAvatar;default:return i.a.defaultAvatar}}get backgroundPath(){return this.background?this.background:i.a.defaultBackground}get badge(){switch(this.membership){case"cpvip":return i.a.cpVipBadge;case"editor":return i.a.editorBadge;case"etvip":return i.a.etVipBadge;case"gvip":return i.a.gVipBadge;case"vip":return i.a.vipBadge;case"royalAdmin":return i.a.royalAdminBadge;case"royalVip":return i.a.royalVipBadge;default:return i.a.vipBadge}}get mBadge(){switch(this.membership){case"cpvip":return i.a.mCpVipBadge;case"editor":return i.a.mEditorBadge;case"etvip":return i.a.mEtVipBadge;case"gvip":return i.a.mGVipBadge;case"vip":return i.a.mVipBadge;case"royalAdmin":return i.a.mRoyalAdminBadge;case"royalVip":return i.a.mRoyalVipBadge;default:return""}}get groupName(){switch(this.membership){case"cpvip":case"editor":return"\u60c5\u4fa3VIP";case"etvip":return"\u4f01\u4e1a\u4f1a\u5458";case"gvip":return"\u9ec4\u91d1VIP";case"vip":return"\u666e\u901a\u4f1a\u5458";case"royalAdmin":return"\u8d85\u7ea7\u7ba1\u7406\u5458";case"royalVip":return"\u81f3\u5c0aVIP";default:return""}}get from(){if(!this.region)return"";if(this._isCurrentUser)return this.region;switch(this.gender){case"male":return"\u4ed6\u6765\u81ea"+this.region;case"female":return"\u5979\u6765\u81ea"+this.region;default:return"\u6765\u81ea"+this.region}}get rechargeWords(){switch(!0){case 0===this.daysOfMembership:case this.daysOfMembership<0:return"\u5347\u7ea7VIP";case this.daysOfMembership<30:case this.daysOfMembership>=30:return"VIP\u7eed\u8d39"}}get daysLeftOfMembership(){switch(!0){case this.daysOfMembership>0:return"VIP \u5269\u4f59 <span class='text-white'>"+this.daysOfMembership+"</span> \u5929";case this.daysOfMembership<0:return"VIP \u4f1a\u5458\u5df2\u8fc7\u671f";default:return"\u8fd8\u4e0d\u662f VIP \u4f1a\u5458"}}get userStars(){let t="";if(this.level>5)for(let e=0;e<this.level-5;e++)t+='<span class="user-star moon"></span>';else for(let e=0;e<this.level-5;e++)t+='<span class="user-star star"></span>';return t}}},N9ew:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n("2Vo4"),o=n("fXoL");let s=(()=>{class t{constructor(){this._emojiService=new i.a({}),this.emojiSource$=this._emojiService.asObservable()}showEmojiPicker(t=!0){}selectEmoji(t){this._emojiService.next(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Lb({token:t,factory:t.\u0275fac}),t})()},NGQO:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var i=n("R0Ic"),o=n("5eHb"),s=n("fXoL"),r=n("ofXK");function a(t,e){if(1&t&&(s.Vb(0,"div"),s.Nc(1),s.Ub()),2&t){const t=s.gc();s.Db(t.options.titleClass),s.Cb("aria-label",t.title),s.Bb(1),s.Pc(" ",t.title," ")}}function c(t,e){if(1&t&&s.Qb(0,"div",3),2&t){const t=s.gc();s.Db(t.options.messageClass),s.nc("innerHTML",t.message,s.Dc)}}function l(t,e){if(1&t&&(s.Vb(0,"div",4),s.Nc(1),s.Ub()),2&t){const t=s.gc();s.Db(t.options.messageClass),s.Cb("aria-label",t.message),s.Bb(1),s.Pc(" ",t.message," ")}}let h=(()=>{class t extends o.a{constructor(t,e){super(t,e),this.toastrService=t,this.toastPackage=e}action(t){return t.stopPropagation(),this.toastPackage.triggerAction(),!1}}return t.\u0275fac=function(e){return new(e||t)(s.Pb(o.d),s.Pb(o.b))},t.\u0275cmp=s.Jb({type:t,selectors:[["app-black-toast"]],features:[s.yb],decls:4,vars:3,consts:[[3,"class",4,"ngIf"],["role","alert","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alert","aria-live","polite",3,"class",4,"ngIf"],["role","alert","aria-live","polite",3,"innerHTML"],["role","alert","aria-live","polite"]],template:function(t,e){1&t&&(s.Vb(0,"div"),s.Lc(1,a,2,4,"div",0),s.Lc(2,c,1,3,"div",1),s.Lc(3,l,2,4,"div",2),s.Ub()),2&t&&(s.Bb(1),s.nc("ngIf",e.title),s.Bb(1),s.nc("ngIf",e.message&&e.options.enableHtml),s.Bb(1),s.nc("ngIf",e.message&&!e.options.enableHtml))},directives:[r.n],styles:["[_nghost-%COMP%]{background-color:rgba(34,34,34,.9);display:block;position:relative;overflow:hidden;margin:0 0 6px;padding:30px 40px;border-radius:3px 3px 3px 3px;color:#fff;pointer-events:all;cursor:pointer;font-size:18px}.btn-pink[_ngcontent-%COMP%]{-webkit-backface-visibility:hidden;backface-visibility:hidden;-webkit-transform:translateZ(0);transform:translateZ(0)}"],data:{animation:[Object(i.l)("flyInOut",[Object(i.i)("inactive",Object(i.j)({transform:"perspective(0)",display:"none",opacity:0})),Object(i.k)("inactive => active",Object(i.e)("300ms ease-out",Object(i.g)([Object(i.j)({opacity:0}),Object(i.j)({opacity:.2}),Object(i.j)({opacity:.5}),Object(i.j)({transform:"none",opacity:1})]))),Object(i.k)("active => removed",Object(i.e)("400ms ease-out",Object(i.g)([Object(i.j)({opacity:1}),Object(i.j)({opacity:0})])))])]}}),t})()},NJ4a:function(t,e,n){"use strict";function i(t){setTimeout(()=>{throw t},0)}n.d(e,"a",(function(){return i}))},"NO+K":function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n("8V5e"),o=n("AytR"),s=n("3My9"),r=n("fXoL");let a=(()=>{class t{constructor(t,e){this._categoryService=t,this._utility=e,this.isAdult=2===o.a.cinema}getData(t){return Object.assign({},t)}transformFromNews(t){return t.userData={viewCount:t.views,like:t.good,comments:t.comments,dislike:t.bad,favorites:t.favoriteCount},t.published=t.addTime,t.key=t.contxt||t.key,t.image=t.image||t.imgPath,this.getData(t)}transformFromList(t){var e;let n=[];t.label?n=t.label.trim().split(" "):t.videoType&&(n=t.videoType.trim().split(" ")),1===n.length&&(n=n[0].trim().split(",")),n=n.filter(t=>""!==t);const i=this.getData({copyrightinfo:"",filtergold:10,lastKey:t.lastKey,id:t.id,cid:t.cid,key:t.key||t.contxt||"",title:t.title,category:this._categoryService.getCategoryByTitle(t.atypeName),summary:t.summary?t.summary:"",image:t.image||this._utility.staticResource(t.imgPath.replace("s.",".")),link:t.contxt,recommended:t.isIndex,favorites:t.favorites?t.favorites:0,newItems:t.newItems?t.newItems:0,lastUpdate:t.lastName,lastName:t.lastName,updates:t.isShowTodayNum?t.todayNum:0,updateSchedule:"",updated:t.addTime,created:"",published:t.postTime?t.postTime.split("-")[0]:t.addTime?t.addTime:"",genre:t.cid,rating:t.rating,region:t.regional,language:t.lang,tags:n,mosaic:!1,playlist:(null===(e=t.languagesPlayList)||void 0===e?void 0:e.playList)||{},directors:t.directed?t.directed.split(","):[],directed:t.directed?t.directed:"",updateweekly:t.updateweekly?t.updateweekly:"",actors:t.starring?t.starring.split(",").filter(t=>""!==t):[],lastUpdatedItem:t.lastName,recApiUrl:"",languages:[],isFree:!0,inProgress:t.isSerial,isFilm:t.isFilm,isDocumentry:t.isDocumentry,userData:{viewCount:t.view||t.hot||0,comments:t.comments,favorites:t.favoriteCount,shared:0,like:t.dd,dislike:t.dc,rate:t.rating?Number(t.rating).toFixed(1):null,popular:0,trending:0},userBehaviors:{favorite:!1,favoriteAt:"",favoriteId:"",like:!1,dislike:!1,lastWatch:"",watchHistoryId:void 0,lastWatchedMedia:{length:0,playedTime:0,playTimeLeft:0}},videoLength:t.lastseconds?t.lastseconds.split(".")[0].split(":").slice(1).join(":"):"",favoriteCount:t.favoriteCount,year:t.year,regional:t.regional,lang:t.lang,videoType:t.videoType,starring:t.starring,contxt:t.shortDes,hot:t.hot,cidMapper:t.cidMapper,videoClassID:t.videoClassID?t.videoClassID:"",uploaderName:t.uploadedby?t.uploadedby:"",uploaderKey:t.userKey?t.userKey:"",videoSumTimes:t.videoSumTimes?t.videoSumTimes:"",vipResource:t.vipResource?t.vipResource:""});return i.tags=n,i}transformFromRankedList(t){return this.getData({cid:t.cid,cidMapperArray:t.cidMapper.split(","),key:t.link,title:t.title,link:t.link,updates:t.isShowTodayNum?t.todayNum:0,published:t.year,genre:t.cid,region:t.regional,language:t.language,rating:t.rating})}transformFromVideoService(t){let e;return null==t?e=this.getData({}):(e=this.getData({copyrightinfo:t.copyRightInfo,taxis:t.taxis,id:t.id,cid:t.cid,cidMapper:t.cidMapper?t.cidMapper:"",key:t.key,title:t.title,category:this._categoryService.getCategoryByTitle(t.channel),summary:t.contxt,isMediaTitleVisible:t.isMediaTitleVisible,image:this._utility.staticResource(t.imgPath.replace("s.",".")),link:t.contxt,recommended:!1,favorites:t.favrateNumber,newItems:0,lastUpdate:t.lastName,updates:t.isShowTodayNum?t.todayNum:0,updateSchedule:t.updateweekly,created:t.add_date,published:t.post_Year,genre:t.videoType,region:t.regional,language:t.language,tags:t.labels,mosaic:t.masaike,filtergold:t.filterGold,isFree:t.isFree,inProgress:t.isSerial,externalLink:t.link,publisher:t.publisher,commentStatus:t.commentStatus,publishNavKey:t.publishNavKey,playlist:{},unlockGold:t.unlockGold,directors:t.directors,actors:t.stars,lastUpdatedItem:"",recApiUrl:t.playRecordURL,languages:t.languageList,userData:{viewCount:t.view,comments:t.comments,favorites:t.favoriteCount,shared:t.shareCount,like:t.good,dislike:t.bad,rate:Math.floor(100*t.pinfenRate)/10,popular:t.renqiRate,trending:0},userBehaviors:{favorite:t.isVideoFavrited,favoriteAt:"",favoriteId:"",like:1==t.likeStatus,dislike:2==t.likeStatus,lastWatch:"",watchHistoryId:void 0,lastWatchedMedia:{length:0,playedTime:0,playTimeLeft:0}}}),e.languages&&e.languages.length&&(e.languages.unshift({title:e.language,link:e.key}),e.languages=e.languages.sort((t,e)=>t.title>e.title?1:-1))),e}transformFromFavoriteList(t){var e,n,i,o,s,r,a,c,l,h,d,u,g,p,f;return this.getData({copyrightinfo:"",id:t.videoID,cid:t.cid,key:t.secretVID,title:t.title,category:this._categoryService.getCategoryByTitle(t.atypeName),summary:"",image:t.imgPath?this._utility.staticResource(t.imgPath.replace("s.",".")):"",link:t.secretVID,recommended:!1,favorites:0,newItems:0,lastUpdate:t.updateTime,updates:t.todayUpdateNumber,updateSchedule:"",created:"",published:t.year,genre:t.className,region:t.regional,language:t.lang,filtergold:10,tags:[],mosaic:!1,playlist:{},directors:t.director?t.director.split(","):"",actors:t.starring?t.starring.split(","):"",lastUpdatedItem:t.lastName,recApiUrl:"",languages:[],isFree:!0,inProgress:t.isSerial,userData:{viewCount:t.hot,comments:t.commentNumber,favorites:t.favrateNumber,shared:0,like:t.dd,dislike:t.dc,rate:0,popular:0,trending:0},userBehaviors:{favorite:!0,favoriteAt:t.addTime,favoriteId:t.favoriteID,like:!1,dislike:!1,lastWatch:"",watchHistoryId:void 0,lastWatchedMedia:{length:0,playedTime:0,playTimeLeft:0}},ablumID:null===(e=t)||void 0===e?void 0:e.ablumID,addTime:null===(n=t)||void 0===n?void 0:n.addTime,commentNumber:null===(i=t)||void 0===i?void 0:i.commentNumber,favrateNumber:null===(o=t)||void 0===o?void 0:o.favrateNumber,likeNumber:null===(s=t)||void 0===s?void 0:s.dd,viewNumber:null===(r=t)||void 0===r?void 0:r.hot,label:null===(a=t)||void 0===a?void 0:a.label,headImg:null===(c=t)||void 0===c?void 0:c.headImg,nickName:null===(l=t)||void 0===l?void 0:l.nickName,photoList:null===(h=t)||void 0===h?void 0:h.photoList,sumPhotoCount:null===(d=t)||void 0===d?void 0:d.sumPhotoCount,userKey:null===(u=t)||void 0===u?void 0:u.userKey,gid:null===(g=t)||void 0===g?void 0:g.gid,isUp:null===(p=t)||void 0===p?void 0:p.isUp,contxt:null===(f=t)||void 0===f?void 0:f.description})}transformFromWatchHistoryList(t){var e=t.link,n=e.split("?id=");return n.length>0&&n[1]&&(e=n[1]),this.getData({copyrightinfo:"",id:t.vid,cid:t.cid,key:e,title:t.title,category:"",summary:"",image:t.imgPath,link:e,recommended:!1,favorites:0,newItems:0,lastUpdate:"",updates:t.isShowTodayNum?t.todayNum:0,updateSchedule:"",created:"",published:t.postYear,genre:t.videoType,region:t.region,language:t.lang,tags:[],mosaic:!1,playlist:{},directors:[],actors:[],lastUpdatedItem:t.cid.startsWith("0,1,3")?"-":t.lastTitle?t.lastTitle:"",recApiUrl:"",languages:[],filtergold:10,isFree:!0,inProgress:!1,userData:{viewCount:0,comments:0,favorites:0,shared:0,like:0,dislike:0,rate:0,popular:0,trending:0},userBehaviors:{favorite:!1,favoriteAt:"",favoriteId:"",like:!1,dislike:!1,lastWatch:t.updateTimeStr,lastWatchTime:t.updateTime,watchHistoryId:t.vid,lastWatchedMedia:{length:t.totalTime,playedTime:t.playTime,playTimeLeft:Number(t.leftTime)?Number(t.leftTime):0}},uploaderName:t.nickName,uploaderUid:t.uploaderUid,uploaderKey:t.uploaderKey})}transformFromGetHotVideoTop(t){return this.getData({copyrightinfo:"",id:"",cid:t.cid,key:t.link,title:t.title,category:"",summary:"",image:"",link:"",recommended:!1,favorites:t.favoritenum,newItems:t.updateNumber,lastUpdate:"",updates:t.updateNumber,updateSchedule:"",created:"",published:"",genre:"",region:"",language:"",tags:[],mosaic:!1,playlist:{},directors:[],actors:[],lastUpdatedItem:"",recApiUrl:"",languages:[],filtergold:10,isFree:!0,inProgress:!1,userData:{viewCount:0,comments:0,favorites:t.favoriteNum,shared:0,like:0,dislike:0,rate:t.pinFenValue,popular:0,trending:t.rankStatus},userBehaviors:{favorite:!1,favoriteAt:void 0,favoriteId:void 0,like:!1,dislike:!1,lastWatch:void 0,watchHistoryId:void 0,lastWatchedMedia:{length:0,playedTime:0,playTimeLeft:0}}})}convertVideoResolution(t){switch(t){case"\u67aa\u7248":return"TS";case"DVD":return"480P";case"1080p":return"1080P";case"\u8d85\u6e05":return"720P";default:return null}}}return t.\u0275fac=function(e){return new(e||t)(r.Zb(i.a),r.Zb(s.a))},t.\u0275prov=r.Lb({token:t,factory:t.\u0275fac}),t})()},NXyV:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n("HDdC"),o=n("Cfvw"),s=n("EY2u");function r(t){return new i.a(e=>{let n;try{n=t()}catch(i){return void e.error(i)}return(n?Object(o.a)(n):Object(s.b)()).subscribe(e)})}},Njeq:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return c}));var i=n("AytR"),o=n("3My9"),s=n("fXoL");const r={"video-playnext":{endpoint:"APIV3_ENDPOINT",path:"video/getnextvideo",parameters:{cinema:i.a.cinema}},"video-downloadlink":{endpoint:"API_ENDPOINT",path:"video/GetDownloadLink",parameters:{cinema:i.a.cinema}},"video-filter":{endpoint:"APIV3_ENDPOINT",path:"video/filtervideobygold",parameters:{cinema:i.a.cinema}},"video-is-filter":{endpoint:"API_ENDPOINT",path:"video/IsUserFilter",parameters:{cinema:i.a.cinema}},"slide-list":{endpoint:"APIV3_ENDPOINT",path:"home/getflashbanner",parameters:{cinema:i.a.cinema}},"video-list":{endpoint:"API_ENDPOINT",path:"list/index",parameters:{cinema:i.a.cinema,page:1,cid:0,size:10,isn:0,isfree:-1}},"video-ranked-list":{endpoint:"API_ENDPOINT",path:"home/GetPlayRank",parameters:{}},"video-updated-list":{endpoint:"API_ENDPOINT",path:"home/GetRankOther",parameters:{}},"video-recent-updates":{endpoint:"API_ENDPOINT",path:"home/getrenewlist",parameters:{cinema:i.a.cinema}},"video-last-added":{endpoint:"APIM10_ENDPOINT",path:"list/GetLastAdd",parameters:{cinema:i.a.cinema}},"video-recently-watched":{endpoint:"APIV3_ENDPOINT",path:"list/GetWatching",parameters:{cinema:i.a.cinema}},"video-guess-you-like":{endpoint:"APIM10_ENDPOINT",path:"List/GuessYouLike",parameters:{cinema:i.a.cinema}},"clear-hot-album-cache":{endpoint:"APIV3_ENDPOINT",path:"List/ClearHotAlbumCache",parameters:{}},"video-related-list":{endpoint:"RANK_ENDPOINT",path:"home/getRelativeVideo",parameters:{cinema:i.a.cinema}},"video-random-videos-by-category":{endpoint:"API_ENDPOINT",path:"home/getAllSubRandomVideoList",parameters:{cinema:i.a.cinema}},"video-renew-videos-by-category":{endpoint:"APIV3_ENDPOINT",path:"home/getWeekRenew",parameters:{cinema:i.a.cinema}},"video-classified-top-videos-by-category":{endpoint:"APIM10_ENDPOINT",path:"list/getAllSubList",parameters:{cinema:i.a.cinema}},"video-statistics":{endpoint:"RANK_ENDPOINT",path:"list/getVideoPie",parameters:{cinema:i.a.cinema}},"video-popularity-trend":{endpoint:"RANK_ENDPOINT",path:"list/getVideoTrend",parameters:{cinema:i.a.cinema}},"solr-search":{endpoint:"APIV3RANK_ENDPOINT",path:"list/briefsearch",parameters:{cinema:i.a.cinema}},"user-search":{endpoint:"APIV3RANK_ENDPOINT",path:"list/searchUser",parameters:{cinema:i.a.cinema}},"comment-list":{endpoint:"APIV3_ENDPOINT",path:"video/commentList",parameters:{cinema:i.a.cinema,id:"",page:0,pagesize:10,type:1,a:1}},"comment-like":{endpoint:"APIM10_ENDPOINT",path:"video/sayGood",parameters:{cinema:i.a.cinema,pid:""}},"comment-delete":{endpoint:"APIV3_ENDPOINT",path:"video/commanddelete",parameters:{cinema:i.a.cinema,type:1}},"comment-publish":{endpoint:"APIM10_ENDPOINT",path:"video/reply",parameters:{cinema:i.a.cinema,type:1}},"comment-reply":{endpoint:"APIV3_ENDPOINT",path:"video/replyto",parameters:{cinema:i.a.cinema,type:1}},"get-comment-by-id":{endpoint:"APIV3_ENDPOINT",path:"video/getcomminfobyid",parameters:{cinema:i.a.cinema}},"get-comment-by-parentid":{endpoint:"APIV3_ENDPOINT",path:"video/GetCommentByParentID",parameters:{cinema:i.a.cinema}},products:{endpoint:"APIM10_ENDPOINT",path:"payment/getPaymentInfo",parameters:{isPromotion:1}},"customer-service-info":{endpoint:"PUBLIC_ENDPOINT",path:"price/pubinfos",parameters:{}},"customer-service-chat":{endpoint:"APIV3_ENDPOINT",path:"home/pubinfos",parameters:{}},"app-download":{endpoint:"PUBLIC_ENDPOINT",path:"price/appdownload",parameters:{}},search:{endpoint:"APIM10_ENDPOINT",path:"list/Search",parameters:{cinema:i.a.cinema,tags:"",page:1,size:10,orderby:0,desc:0}},"search-filters":{endpoint:"APIV3_ENDPOINT",path:"list/GetSearchCondition",parameters:{}},"search-tree":{endpoint:"API_ENDPOINT",path:"list/GetTree",parameters:{}},"tag-list":{endpoint:"API_ENDPOINT",path:"video/GetTagFilter",parameters:{}},"trending-searches":{endpoint:"APIV3RANK_ENDPOINT",path:"list/gethotsearchlist",parameters:{cinema:i.a.cinema,size:10}},"suggested-searches":{endpoint:"APIV3RANK_ENDPOINT",path:"list/gethotsearchlist",parameters:{cinema:i.a.cinema,size:10}},"short-video-list":{endpoint:"NEWS_ENDPOINT",path:"home/GetVideoList",parameters:{cinema:i.a.cinema,size:10}},"most-popular-publishers":{endpoint:"NEWS_ENDPOINT",path:"home/GetTopUP",parameters:{cinema:i.a.cinema,size:12}},"video-genre":{endpoint:"API_ENDPOINT",path:"list/FilmType",parameters:{}},"drama-genre":{endpoint:"API_ENDPOINT",path:"list/TvType",parameters:{}},"variety-genre":{endpoint:"API_ENDPOINT",path:"list/VarietyType",parameters:{}},"anime-genre":{endpoint:"API_ENDPOINT",path:"list/AnimeType",parameters:{}},"sport-genre":{endpoint:"API_ENDPOINT",path:"list/SportType",parameters:{}},"documentary-genre":{endpoint:"API_ENDPOINT",path:"list/DocumentaryType",parameters:{}},"chinese-genre":{endpoint:"API_ENDPOINT",path:"list/CircleType",parameters:{}},"game-genre":{endpoint:"API_ENDPOINT",path:"list/GameType",parameters:{}},"random-video-list":{endpoint:"API_ENDPOINT",path:"home/getrandomvideolist",parameters:{size:5}},"video-detail":{endpoint:"APIV3_ENDPOINT",path:"video/detail",parameters:{ispath:!1,cinema:i.a.cinema,device:"desktop",player:"CkPlayer",tech:"HLS",country:"HU",lang:"cns",v:1}},"video-last-play":{endpoint:"API_ENDPOINT",path:"video/getlastview",parameters:{cinema:i.a.cinema}},"video-media":{endpoint:"APIV3_ENDPOINT",path:"video/play",parameters:{cinema:i.a.cinema,id:"",a:1}},"videos-recommanded":{endpoint:"APIV3_ENDPOINT",path:"home/getAllVideo",parameters:{cinema:i.a.cinema,set:1,size:13}},"video-like":{endpoint:"APIV3_ENDPOINT",path:"video/videolike",parameters:{cinema:i.a.cinema,videoID:"",type:1}},"video-dislike":{endpoint:"APIV3_ENDPOINT",path:"video/videodislike",parameters:{cinema:i.a.cinema,videoID:"",type:1}},"video-favorite":{endpoint:"APIM10_ENDPOINT",path:"video/AddToScj",parameters:{cinema:i.a.cinema,type:1}},"video-share":{endpoint:"https://m10.ifvod.tv/api",path:"Task/UpdTask",parameters:{cinema:i.a.cinema,type:1}},"video-teaser-favorite":{endpoint:"APIM10_ENDPOINT",path:"video/AddToScj",parameters:{cinema:i.a.cinema,type:1}},"video-remove-favorite":{endpoint:"APIM10_ENDPOINT",path:"video/removefromscj",parameters:{cinema:i.a.cinema,type:1}},"video-unfavorite":{endpoint:"API_ENDPOINT",path:"list/RemoveFavorite",parameters:{}},"payment-get-orderinfo":{endpoint:"API_ENDPOINT",path:"payment/GetOrderInfo",parameters:{}},"user-auto":{endpoint:"API_ENDPOINT",path:"user/UserAutoLogin",parameters:{}},blacklist:{endpoint:"APIV3_ENDPOINT",path:"user/GetBlackList",parameters:{}},addblacklist:{endpoint:"APIV3_ENDPOINT",path:"user/InsertBlackList",parameters:{}},removeblacklist:{endpoint:"APIV3_ENDPOINT",path:"user/RemoveBlackList",parameters:{}},clearblacklist:{endpoint:"API_ENDPOINT",path:"user/ClearBlackList",parameters:{}},"user-info":{endpoint:"APIV3_ENDPOINT",path:"video/GetUserViewModel",parameters:{touid:""}},"media-purchase":{endpoint:"APIV3_ENDPOINT",path:"video/payvideobygold",parameters:{cinema:i.a.cinema}},"authorized-user-info":{endpoint:"APIV3_ENDPOINT",path:"user/getuserinfo",parameters:{cinema:i.a.cinema}},"user-permissions":{endpoint:"API_ENDPOINT",path:"user/getuserext",parameters:{cinema:i.a.cinema}},"user-favorites":{endpoint:"APIV3_ENDPOINT",path:"list/favoritelist",parameters:{cid:"",cinema:i.a.cinema,pageIndex:1,pageSize:24,key:"added",order:"DESC"}},"user-favorite-updates":{endpoint:"APIM10_ENDPOINT",path:"list/GetFavoriteNotify",parameters:{cinema:i.a.cinema}},"user-favorite-attention-notify":{endpoint:"APIV4_ENDPOINT",path:"list/GetFavAttNotify",parameters:{cinema:i.a.cinema}},"clear-favorite-updates":{endpoint:"API_ENDPOINT",path:"List/ClearFavoriteNotify",parameters:{cinema:i.a.cinema}},"update-favorite-attention-notify":{endpoint:"APIV4_ENDPOINT",path:"list/UpdateFavAttNotify",parameters:{cinema:i.a.cinema}},"clear-favorite-attention-updates":{endpoint:"APIV4_ENDPOINT",path:"List/ClearFavAttNotify",parameters:{cinema:i.a.cinema}},"get-attention-notify":{endpoint:"APIV4_ENDPOINT",path:"List/GetAttentionNotify",parameters:{cinema:i.a.cinema}},"get-favorite-notify":{endpoint:"APIV4_ENDPOINT",path:"List/GetFavoriteNotify",parameters:{cinema:i.a.cinema}},"get-private-folder-settings":{endpoint:"API_ENDPOINT",path:"user/getuserprivate",parameters:{cinema:i.a.cinema}},"check-private-secret":{endpoint:"API_ENDPOINT",path:"user/checkuserprivate",parameters:{cinema:i.a.cinema}},"remove-user-favorites":{endpoint:"APIV3_ENDPOINT",path:"list/RemoveFavorite",parameters:{cid:"",cinema:i.a.cinema}},"clear-user-favorites":{endpoint:"API_ENDPOINT",path:"List/ClearScj",parameters:{cinema:i.a.cinema}},"user-token":{endpoint:"API_ENDPOINT",path:"user/getusertoken",parameters:{cinema:i.a.cinema}},"watch-history":{endpoint:"WEBAPI_ENDPOINT",path:"PlayList/ObtainListWithCount",parameters:{}},"remove-watch-history":{endpoint:"WEBAPI_ENDPOINT",path:"PlayList/ClearsList",parameters:{}},"clear-watch-history":{endpoint:"WEBAPI_ENDPOINT",path:"PlayList/Truncate",parameters:{}},"user-messages":{endpoint:"APIM10_ENDPOINT",path:"list/messageslist",parameters:{cinema:i.a.cinema,page:1,a:1}},"other-notifications":{endpoint:"APIV4_ENDPOINT",path:"List/GetSysMessageNotify",parameters:{cinema:i.a.cinema}},notifications:{endpoint:"APIV4_ENDPOINT",path:"List/GetUnReadSysMessage",parameters:{cinema:i.a.cinema}},"mark-all-notifications-as-read":{endpoint:"APIV4_ENDPOINT",path:"List/MarkSystemRead",parameters:{cinema:i.a.cinema}},"new-mark-all-notifications-as-read":{endpoint:"APIV4_ENDPOINT",path:"List/MarkSystemRead",parameters:{cinema:i.a.cinema}},"mark-a-notifications-as-read":{endpoint:"API_ENDPOINT",path:"List/MarkSystemReadByID",parameters:{cinema:i.a.cinema}},"mark-a-notifications-as-read-by-message-id":{endpoint:"API_ENDPOINT",path:"List/MarkNotifyReadByID",parameters:{cinema:i.a.cinema}},"recharge-history":{endpoint:"APIM10_ENDPOINT",path:"list/rechargerecords",parameters:{cinema:i.a.cinema,page:1,pageSize:10}},"switch-region":{endpoint:"API_ENDPOINT",path:"home/getmyregion",parameters:{cinema:i.a.cinema}},"payment-pay-order":{endpoint:"API_ENDPOINT",path:"payment/PayOrder",parameters:{cinema:i.a.cinema}},"payment-create-order":{endpoint:"API_ENDPOINT",path:"payment/createorder",parameters:{cinema:i.a.cinema}},"payment-get-order":{endpoint:"API_ENDPOINT",path:"payment/getorder",parameters:{cinema:i.a.cinema}},"payment-add-address":{endpoint:"API_ENDPOINT",path:"payment/addorupdateaddress",parameters:{cinema:i.a.cinema}},"payment-get-address":{endpoint:"API_ENDPOINT",path:"payment/getaddress",parameters:{cinema:i.a.cinema}},"payment-query-order":{endpoint:"API_ENDPOINT",path:"payment/QueryOrder",parameters:{cinema:i.a.cinema}},"payment-generate-order":{endpoint:"ACTIVITY_ENDPOINT",path:"task/GenerateOrder",parameters:{cinema:i.a.cinema}},"payment-remove-address":{endpoint:"API_ENDPOINT",path:"payment/removeaddress",parameters:{cinema:i.a.cinema}},"nav-main-links":{endpoint:"APIV3_ENDPOINT",path:"list/mainMenu",parameters:{cinema:i.a.cinema}},"nav-second-links":{endpoint:"APIV3_ENDPOINT",path:"list/getHotVideoTop",parameters:{cinema:i.a.cinema,pageSize:10}},"all-ranked-videos":{endpoint:"RANK_ENDPOINT",path:"list/getAllHotVideoTop",parameters:{cinema:i.a.cinema,pageSize:10}},"recommended-news":{endpoint:"NEWS_ENDPOINT",path:"home/gethotvideo",parameters:{cinema:i.a.cinema}},"vote-create":{endpoint:"APIM10_ENDPOINT",path:"video/postvote",parameters:{cinema:i.a.cinema}},"vote-get-by-id":{endpoint:"APIM10_ENDPOINT",path:"video/getvotebyid",parameters:{cinema:i.a.cinema}},"vote-vote-by-id":{endpoint:"APIM10_ENDPOINT",path:"video/votebyid",parameters:{cinema:i.a.cinema}},webforms:{endpoint:"API_ENDPOINT",path:"video/ReqAndOpinion",parameters:{cinema:i.a.cinema}},report:{endpoint:"API_ENDPOINT",path:"home/reportproblem",parameters:{cinema:i.a.cinema}},languagesplaylist:{endpoint:"APIV3_ENDPOINT",path:"video/languagesplaylist",parameters:{cinema:i.a.cinema}},"help-get-categories":{endpoint:"API_ENDPOINT",path:"home/gethelpcat",parameters:{cinema:i.a.cinema}},"help-get-content":{endpoint:"API_ENDPOINT",path:"home/gethelpcontent",parameters:{cinema:i.a.cinema}},"help-get-content-by-id":{endpoint:"API_ENDPOINT",path:"home/gethelpcontentbyid",parameters:{cinema:i.a.cinema}},"get-gg-block-content":{endpoint:"PUBLIC_ENDPOINT",path:"a/o",parameters:{cinema:i.a.cinema}},"get-adult-types":{endpoint:"API_ENDPOINT",path:"list/allinonetype",parameters:{cinema:i.a.cinema}},celebrities:{endpoint:"API_ENDPOINT",path:"list/starlist",parameters:{cinema:i.a.cinema}},"get-barrages":{endpoint:"APIM10_ENDPOINT",path:"video/getBarrage",parameters:{cinema:i.a.cinema}},"send-barrage":{endpoint:"APIM10_ENDPOINT",path:"video/addBarrage",parameters:{cinema:i.a.cinema}},"remove-barrage":{endpoint:"APIM10_ENDPOINT",path:"video/removeBarrage",parameters:{cinema:i.a.cinema}},"report-barrage":{endpoint:"API_ENDPOINT",path:"video/reportBarrage",parameters:{cinema:i.a.cinema}},"payment-generate-thirparty":{endpoint:"ACTIVITY_ENDPOINT",path:"task/generateThirdPartyOrder",parameters:{cinema:i.a.cinema}},"danmu-user-settings":{endpoint:"APIV3_ENDPOINT",path:"user/getBarrageCofig",parameters:{}},"danmu-update-user-settings":{endpoint:"APIV3_ENDPOINT",path:"user/putBarrageCofig",parameters:{}},"related-channel":{endpoint:"API_ENDPOINT",path:"list/GetChannelList",parameters:{cinema:i.a.cinema}},"report-comment":{endpoint:"API_ENDPOINT",path:"user/ReportUserReq",parameters:{cinema:i.a.cinema}},"send-guide-done":{endpoint:"APIV3_ENDPOINT",path:"user/UpdUserActionLog",parameters:{cinema:i.a.cinema}},"all-video-genres":{endpoint:"APIM10_ENDPOINT",path:"list/AllVideoType",parameters:{cinema:i.a.cinema}},config:{endpoint:"APIV3_ENDPOINT",path:"home/config",parameters:{cinema:i.a.cinema}},"check-code":{endpoint:"APIV3_ENDPOINT",path:"home/CheckCode",parameters:{cinema:i.a.cinema}},"create-album":{endpoint:"APIV3_ENDPOINT",path:"album/CreateAlbum",parameters:{cinema:i.a.cinema}},"get-album":{endpoint:"APIV3_ENDPOINT",path:"album/GetListAlbum",parameters:{cinema:i.a.cinema}},"get-photo":{endpoint:"APIV3_ENDPOINT",path:"album/GetAlbum",parameters:{cinema:i.a.cinema}},"upload-album-photo":{endpoint:"APIV3_ENDPOINT",path:"album/UploadBase64",parameters:{cinema:i.a.cinema}},"edit-album":{endpoint:"APIV3_ENDPOINT",path:"album/EditAlbum",parameters:{cinema:i.a.cinema}},"set-album-sort":{endpoint:"APIV3_ENDPOINT",path:"album/SetAlbumSort",parameters:{cinema:i.a.cinema}},"delete-album":{endpoint:"APIV3_ENDPOINT",path:"album/DelAlbum",parameters:{cinema:i.a.cinema}},"delete-photo":{endpoint:"APIV3_ENDPOINT",path:"album/DelPhoto",parameters:{cinema:i.a.cinema}},"hot-count":{endpoint:"APIV3_ENDPOINT",path:"album/Hot",parameters:{cinema:i.a.cinema}},"move-photo":{endpoint:"APIV3_ENDPOINT",path:"album/MovePhoto",parameters:{cinema:i.a.cinema}},"like-album":{endpoint:"APIV3_ENDPOINT",path:"album/Likes",parameters:{cinema:i.a.cinema}},"create-move-photo":{endpoint:"APIV3_ENDPOINT",path:"album/CreateMovePhoto",parameters:{cinema:i.a.cinema}},"get-all-label":{endpoint:"APIV3_ENDPOINT",path:"album/GetAllLabels",parameters:{cinema:i.a.cinema}},"create-trends":{endpoint:"APIV3_ENDPOINT",path:"trends/CreateTrends",parameters:{cinema:i.a.cinema}},"upload-file":{endpoint:"APIV3_ENDPOINT",path:"trends/UploadFile",parameters:{cinema:i.a.cinema}},"get-meta-data":{endpoint:"NEWS_ENDPOINT",path:"video/GetMetaData",parameters:{}},"create-video-trends":{endpoint:"NEWS_ENDPOINT",path:"user/CreateTrends",parameters:{}},"get-list-trends":{endpoint:"APIV3_ENDPOINT",path:"trends/GetListTrends",parameters:{cinema:i.a.cinema}},"get-trends":{endpoint:"APIV3_ENDPOINT",path:"trends/GetTrends",parameters:{cinema:i.a.cinema}},"delete-trends":{endpoint:"APIV3_ENDPOINT",path:"album/DelAlbum",parameters:{cinema:i.a.cinema}},"activity-view-count":{endpoint:"APIV3_ENDPOINT",path:"album/Hot",parameters:{cinema:i.a.cinema}},"like-activity":{endpoint:"APIV3_ENDPOINT",path:"album/Likes",parameters:{cinema:i.a.cinema}},"submit-big-v":{endpoint:"APIV3_ENDPOINT",path:"user/ApplyForDoubleV",parameters:{cinema:i.a.cinema}},"get-big-v":{endpoint:"APIV3_ENDPOINT",path:"user/GetDoubleV",parameters:{cinema:i.a.cinema}},"get-co-business":{endpoint:"APIV3_ENDPOINT",path:"home/getCoBusiness",parameters:{cinema:i.a.cinema}},"get-person-mix":{endpoint:"NEWS_ENDPOINT",path:"user/PersonMix",parameters:{}},"get-user-attend-msg":{endpoint:"APIV3_ENDPOINT",path:"user/GetUserAttendMsg",parameters:{}},"get-user-zan-msg":{endpoint:"APIV3_ENDPOINT",path:"user/GetUserZanMsg",parameters:{}},"plus-one":{endpoint:"WEBAPI1_ENDPOINT",path:"Counter/PlusOne",parameters:{}},"ablum-record-list":{endpoint:"WEBAPI_ENDPOINT",path:"playlist/AblumRecordList",parameters:{}},"ablum-search":{endpoint:"APIV3_ENDPOINT",path:"album/SearchAlbum",parameters:{}},"get-ablum-labels":{endpoint:"APIV3_ENDPOINT",path:"album/getlabels",parameters:{}},"get-hot-albums":{endpoint:"APIV3_ENDPOINT",path:"album/GetHotAlbums",parameters:{}},"get-sub-album-list":{endpoint:"APIV3_ENDPOINT",path:"album/GetSubAlbumList",parameters:{}},"get-sub-album-rnd-list":{endpoint:"APIV3_ENDPOINT",path:"album/GetLabelRndList",parameters:{}},"get-hot-users":{endpoint:"APIV3_ENDPOINT",path:"album/GetHotUsers",parameters:{}},"get-album-list-by-label":{endpoint:"APIV3_ENDPOINT",path:"album/GetAlbumLabelList",parameters:{}},"get-album-sub-labels":{endpoint:"APIV3_ENDPOINT",path:"album/GetSubLabels",parameters:{}}};let a=(()=>{class t{constructor(t){this._utility=t}static toQueryString(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n+"="+encodeURIComponent(t[n]));return e.join("&")}static get Account_Endpoint(){return"https://api.anygate.vip/api"}WEBAPI_ENDPOINT(){return"https://w.anygate.vip/v3"}WEBAPI1_ENDPOINT(){return"https://w.anygate.vip/api"}NEWS_ENDPOINT(t="api"){return this._utility.GetHost(`https://upload.{Host}/${t}`)}API_ENDPOINT(){return this._utility.GetHost(2===i.a.cinema?"https://api8.{Host}/api":"https://m8.{Host}/api")}JSSP_ENDPOINT(){return"https://m10.jssp.tv/v3"}JSSP1_ENDPOINT(){return"https://m10.jssp.tv/api"}APIV3_ENDPOINT(t="v3"){return this._utility.GetHost(2===i.a.cinema?"https://api10.{Host}/"+t:"https://m10.{Host}/"+t)}APIV4_ENDPOINT(t="v3"){return this._utility.GetHost(2===i.a.cinema?"https://api10.{Host}/"+t:"https://m11.{Host}/"+t)}ACTIVITY_ENDPOINT(){return this._utility.GetHost("https://activity.{Host}/api")}SESSIONAPI_ENDPOINT(){return this._utility.GetHost("https://session.{Host}/api")}NEWSAPI_ENDPOINT(){return this._utility.GetHost("https://upload.{Host}/api")}RANK_ENDPOINT(t="api"){return this._utility.GetHost("https://rankv21.{Host}/"+t)}PUBLIC_ENDPOINT(){return this._utility.GetHost("https://ppt.{Host}")}urlBuilder(t,e={},n=""){const i=r[t];this.clearAuthParams(i);let o=n||i.endpoint;switch(o){case"API_ENDPOINT":o=this.API_ENDPOINT();break;case"NEWS_ENDPOINT":o=this.NEWS_ENDPOINT();break;case"NEWSV3_ENDPOINT":o=this.NEWS_ENDPOINT("v3");break;case"WEBAPI_ENDPOINT":o=this.WEBAPI_ENDPOINT();break;case"WEBAPI1_ENDPOINT":o=this.WEBAPI1_ENDPOINT();break;case"RANK_ENDPOINT":o=this.RANK_ENDPOINT();break;case"PUBLIC_ENDPOINT":o=this.PUBLIC_ENDPOINT();break;case"APIV3_ENDPOINT":o=this.APIV3_ENDPOINT();break;case"APIV4_ENDPOINT":o=this.APIV4_ENDPOINT();break;case"APIV3RANK_ENDPOINT":o=this.RANK_ENDPOINT("v3");break;case"APIM10_ENDPOINT":o=this.APIV3_ENDPOINT("api");break;case"ACTIVITY_ENDPOINT":o=this.ACTIVITY_ENDPOINT()}let s=o+"/"+i.path;var a=Object.assign({},i.parameters,e);const c=[];for(const r in a)a.hasOwnProperty(r)&&(a[r]||0===a[r])&&c.push(r+"="+a[r]);return c.length&&(s=s+"?"+c.join("&")),s}clearAuthParams(t){null!=t&&(delete t.parameters.expire,delete t.parameters.gid,delete t.parameters.sign,delete t.parameters.token,delete t.parameters.uid)}}return t.\u0275fac=function(e){return new(e||t)(s.Zb(o.a))},t.\u0275prov=s.Lb({token:t,factory:t.\u0275fac}),t})();class c{constructor(){this.body={},this.list={}}set(t,e){this.body[t]=e}append(t,e){this.list[t]||(this.list[t]=[]),this.list[t].push(e)}toString(){let t=a.toQueryString(this.body);for(var e in this.list)for(var n in this.list[e])t&&(t+="&"),t+=e+"="+encodeURIComponent(this.list[e][n]);return t}}},Njrz:function(t,e,n){var i=n("luTP"),o=n("qGlh"),s=Object.prototype.toString,r="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===s.call(Blob),a="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===s.call(File);e.deconstructPacket=function(t){var e=[],n=t;return n.data=function t(e,n){if(!e)return e;if(o(e)){var s={_placeholder:!0,num:n.length};return n.push(e),s}if(i(e)){for(var r=new Array(e.length),a=0;a<e.length;a++)r[a]=t(e[a],n);return r}if("object"==typeof e&&!(e instanceof Date)){for(var c in r={},e)r[c]=t(e[c],n);return r}return e}(t.data,e),n.attachments=e.length,{packet:n,buffers:e}},e.reconstructPacket=function(t,e){return t.data=function t(e,n){if(!e)return e;if(e&&e._placeholder)return n[e.num];if(i(e))for(var o=0;o<e.length;o++)e[o]=t(e[o],n);else if("object"==typeof e)for(var s in e)e[s]=t(e[s],n);return e}(t.data,e),t.attachments=void 0,t},e.removeBlobs=function(t,e){var n=0,s=t;!function t(c,l,h){if(!c)return c;if(r&&c instanceof Blob||a&&c instanceof File){n++;var d=new FileReader;d.onload=function(){h?h[l]=this.result:s=this.result,--n||e(s)},d.readAsArrayBuffer(c)}else if(i(c))for(var u=0;u<c.length;u++)t(c[u],u,c);else if("object"==typeof c&&!o(c))for(var g in c)t(c[g],g,c)}(s),n||e(s)}},OJRB:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n("fXoL");let o=(()=>{class t{transform(t){return{id:t.id,timestamp:t.postTimeStr,type:t.messageType,content:t.context,user:{id:t.uid,name:t.title,avatar:t.headImage,role:this.getUserRoleFromImage(t.userLevelPic)},video:{title:t.videoName,key:t.videoUrl},comment:{id:t.commentID,likes:t.hit,floor:t.louCeng,reply:{title:t.toTitle,floor:t.replyLouCeng}},notificationId:t.id}}getUserRoleFromImage(t){if(!t)return"";switch(!0){case-1!==t.indexOf("royal-vvvip.png"):return"royalVip";case-1!==t.indexOf("royal-admin.png"):return"royalAdmin";case-1!==t.indexOf("normal-vip.png"):return"vip";case-1!==t.indexOf("g-VIP.png"):return"gvip";case-1!==t.indexOf("et-VIP.png"):return"etvip";case-1!==t.indexOf("cpvip.png"):return"cpvip";case-1!==t.indexOf("editor.png"):return"editor";default:return""}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Lb({token:t,factory:t.\u0275fac}),t})()},OeGS:function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var i=n("Njeq"),o=n("tWDZ"),s=n("t9Fn"),r=n("8eqO"),a=n("lJxs"),c=n("3E0/"),l=n("3My9"),h=n("fXoL");let d=(()=>{class t{constructor(t,e,n,i,o){this._apiUrlHelper=t,this._votingService=e,this._commentTransFormer=n,this._httpClientHelper=i,this._utility=o}likeComment(t,e,n,i){const o=this._apiUrlHelper.urlBuilder("comment-like",{pid:t,cinema:n?"7":i||null},this._utility.isNews||e?"NEWS_ENDPOINT":"");return this._httpClientHelper.get(o).pipe(Object(a.a)(e=>(this._votingService.vote(s.b.LikeComment,t),e))).pipe(Object(c.a)(this.delaySomeMillsecond(200)))}publishComment(t,e,n,i){var o=this._apiUrlHelper.urlBuilder("comment-publish",{cinema:i?"7":"1"},this._utility.isNews?"NEWS_ENDPOINT":"");return this._httpClientHelper.post(o,{Contxt:n,videoID:e,sDate:t.registerDate,a:1},null).pipe(Object(a.a)(t=>t[0])).pipe(Object(c.a)(this.delaySomeMillsecond(200)))}replyComment(t,e,n,i,o){const s=this._apiUrlHelper.urlBuilder("comment-reply",{cinema:o?"7":"1"},this._utility.isNews||i?"NEWS_ENDPOINT":"");return this._httpClientHelper.post(s,{contxt:n,pid:e,sDate:t.registerDate,a:1},null).pipe(Object(a.a)(t=>t[0])).pipe(Object(c.a)(this.delaySomeMillsecond(200)))}removeComment(t,e,n=1,i){const o=this._apiUrlHelper.urlBuilder("comment-delete",{type:n,id:e},this._utility.isNews||i?"NEWS_ENDPOINT":"");return this._httpClientHelper.get(o).pipe(Object(a.a)(t=>t[0])).pipe(Object(c.a)(this.delaySomeMillsecond(400)))}getCommentById(t){const e=this._apiUrlHelper.urlBuilder("get-comment-by-id",{replyid:t,a:this._utility.isNews?"1":""},this._utility.isNews?"NEWS_ENDPOINT":"");return this._httpClientHelper.get(e).pipe(Object(a.a)(t=>this._commentTransFormer.fromGetCommentById(t[0]))).pipe(Object(c.a)(this.delaySomeMillsecond(200)))}reportComment(t,e,n){const i=this._apiUrlHelper.urlBuilder("report-comment",{CommentID:t,ToUid:e,Reason:n});return this._httpClientHelper.get(i).pipe(Object(a.a)(t=>t))}getCommentByParentID(t,e,n,i=2,o=3,s){const r=this._apiUrlHelper.urlBuilder("get-comment-by-parentid",{id:t,parentID:e,parentUID:n,page:i,size:o,cinema:s?"7":"1"},this._utility.isNews?"NEWS_ENDPOINT":"");return this._httpClientHelper.get(r).pipe(Object(a.a)(t=>t.map(t=>this._commentTransFormer.fromList(t)))).pipe(Object(c.a)(this.delaySomeMillsecond(300)))}delaySomeMillsecond(t){var e=Date.now();return new Date(e+=t)}}return t.\u0275fac=function(e){return new(e||t)(h.Zb(i.a),h.Zb(s.a),h.Zb(r.a),h.Zb(o.a),h.Zb(l.a))},t.\u0275prov=h.Lb({token:t,factory:t.\u0275fac}),t})()},OjJS:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var i=n("q5P3"),o=n("fXoL"),s=n("ofXK");function r(t,e){if(1&t&&o.Qb(0,"img",7),2&t){const t=o.gc();o.nc("src",t.icon,o.Fc)}}const a=function(t){return{"no-icon":t}};let c=(()=>{class t{constructor(t){this._confirmDialogService=t,this.icon=n("eH3U")}ngOnInit(){this._confirmDialogService.confirmDialogSource$.subscribe(t=>{this.state=t})}onConfirm(){this.state.state=i.b.Confirmed,this._confirmDialogService.setState(this.state)}onCancel(){this.state.state=i.b.Cancalled,this._confirmDialogService.setState(this.state)}}return t.\u0275fac=function(e){return new(e||t)(o.Pb(i.a))},t.\u0275cmp=o.Jb({type:t,selectors:[["app-confirm-dialog"]],decls:9,vars:7,consts:[[1,"dn-dialog-icon"],["style","height: 30px; width: 30px;",3,"src",4,"ngIf"],[1,"message",3,"ngClass","innerHtml"],[1,"dn-dialog-buttons"],[1,"dn-button","dn-button-red",3,"click"],[1,"buttons-gap"],[1,"dn-button",3,"click"],[2,"height","30px","width","30px",3,"src"]],template:function(t,e){1&t&&(o.Vb(0,"div",0),o.Lc(1,r,1,1,"img",1),o.Ub(),o.Qb(2,"div",2),o.Vb(3,"div",3),o.Vb(4,"div",4),o.dc("click",(function(t){return e.onConfirm()})),o.Nc(5),o.Ub(),o.Qb(6,"div",5),o.Vb(7,"div",6),o.dc("click",(function(t){return e.onCancel()})),o.Nc(8),o.Ub(),o.Ub()),2&t&&(o.Bb(1),o.nc("ngIf",e.icon&&e.state.showIcon),o.Bb(1),o.nc("ngClass",o.sc(5,a,!e.state.showIcon))("innerHtml",e.state.message,o.Dc),o.Bb(3),o.Oc(e.state.okText||"\u786e\u5b9a"),o.Bb(3),o.Oc(e.state.cancelText||"\u53d6\u6d88"))},directives:[s.n,s.l],styles:["[_nghost-%COMP%]{overflow:hidden}.controls[_ngcontent-%COMP%]{bottom:25px}.dn-dialog-icon[_ngcontent-%COMP%]{width:100%;display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;text-align:center;margin-top:25px}.message[_ngcontent-%COMP%]{top:65%;text-align:center}.message.no-icon[_ngcontent-%COMP%]{padding:40px 15px 15px}"]}),t})()},"OnY+":function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n("3My9"),o=n("AytR"),s=n("fXoL"),r=n("jhN1");let a=(()=>{class t{constructor(t,e,n){this._titleService=t,this.meta=e,this._utility=n,this.seperator="-",this.otherWise="\u5206\u53d1\uff0c\u4e0a\u4f20\uff0c\u793e\u533a\u4e00\u4f53\u7684\u5728\u7ebf\u89c6\u9891\u5e73\u53f0",this.slogon=2==o.a.cinema?"":"\u5206\u4eab\u6b22\u4e50"}ngOnInit(){}setTitle(...t){var e="";if(null!=t&&t.length>0)for(var n=0;n<t.length;++n)t[n]&&(e=t[n]+(e?this.seperator+e:""));var i=(e=e?e+this.seperator+this._utility.getSiteConfig.title:this._utility.getSiteConfig.title)==this._utility.getSiteConfig.title?e+(this.slogon?this.seperator+this.slogon:""):e;this._titleService.setTitle(i),this.meta.updateTag({name:"title",content:i}),this.meta.updateTag({property:"og:title",content:i})}setDescription(...t){var e=t&&t.length>0?t.filter(t=>null!=t&&""!=t).join(" | "):this.otherWise;this.meta.updateTag({name:"description",content:e}),this.meta.updateTag({property:"og:description",content:e})}}return t.\u0275fac=function(e){return new(e||t)(s.Zb(r.g),s.Zb(r.f),s.Zb(i.a))},t.\u0275prov=s.Lb({token:t,factory:t.\u0275fac}),t})()},OwQj:function(t,e,n){"use strict";n.d(e,"A",(function(){return i})),n.d(e,"w",(function(){return o})),n.d(e,"y",(function(){return s})),n.d(e,"x",(function(){return r})),n.d(e,"z",(function(){return a})),n.d(e,"r",(function(){return c})),n.d(e,"s",(function(){return l})),n.d(e,"q",(function(){return h})),n.d(e,"h",(function(){return d})),n.d(e,"k",(function(){return u})),n.d(e,"p",(function(){return g})),n.d(e,"o",(function(){return p})),n.d(e,"i",(function(){return f})),n.d(e,"j",(function(){return b})),n.d(e,"d",(function(){return m})),n.d(e,"v",(function(){return v})),n.d(e,"e",(function(){return y})),n.d(e,"n",(function(){return C})),n.d(e,"l",(function(){return _})),n.d(e,"m",(function(){return x})),n.d(e,"B",(function(){return P})),n.d(e,"t",(function(){return w})),n.d(e,"u",(function(){return O})),n.d(e,"f",(function(){return M})),n.d(e,"g",(function(){return k})),n.d(e,"a",(function(){return S})),n.d(e,"b",(function(){return I})),n.d(e,"c",(function(){return L}));var i=function(t){return t.SendMessage="[Socket] Send Message",t.SendMessageSuccess="[Socket] Send Message Success",t.SendMessageFailure="[Socket] Send Message Failure",t.SentMessageNotAllowed="[Socket] Sent Message Not Allowed",t.RemoveContact="[Socket] Remove Contact",t.RemoveContactSuccess="[Socket] Remove Contact Success",t.MessageReceived="[Socket] Message Received",t.GetRecentlyRecords="[Socket] Get Recently Records",t.GetRecentlyRecordsComplete="[Socket] Get Recently Records Completes",t.MarkMessagesAsRead="[Socket] Mark Messages as Read",t.MarkAllMessagesAsRead="[Socket] Mark All Messages as Read",t.GetRecentlyRecordsByUser="[Socket] Get Recently Records By User",t.GetRecentlyRecordsByUserComplete="[Socket] Get Recently Records By User Complete",t.ClearChatHistory="[Socket] Clear Chat History",t.SelectContact="[Socket] Select Contact",t.DeselectContact="[Socket] Deselect Contact",t.LoadPreviousRecords="[Socket] Load Previous Records",t.GetSettings="[Socket] Get Settings",t.GetSettingsSuccess="[Socket] Get Settings Success",t.ToggleSettingsFriendOnly="[Socket] Toggle Settings Friend Only",t.Report="[Socket] Report",t.ReportSuccess="[Socket] Report Success",t.GetFollowStatus="[Socket] Get Follow Status",t.GetFollowStatusSuccess="[Socket] Get Follow Status Success",t.ChangeFollowStatus="[Socket] Change Follow Status",t.ChangeFollowStatusSuccess="[Socket] Change Follow Status Success",t.ClearAll="[Socket] Clear All",t}({});class o{constructor(t){this.payload=t,this.type=i.SendMessage}}class s{constructor(t){this.payload=t,this.type=i.SendMessageSuccess}}class r{constructor(t){this.payload=t,this.type=i.SendMessageFailure}}class a{constructor(t){this.payload=t,this.type=i.SentMessageNotAllowed}}class c{constructor(t){this.payload=t,this.type=i.RemoveContact}}class l{constructor(t){this.payload=t,this.type=i.RemoveContactSuccess}}class h{constructor(t){this.payload=t,this.type=i.MessageReceived}}class d{constructor(){this.type=i.GetRecentlyRecords}}class u{constructor(t){this.payload=t,this.type=i.GetRecentlyRecordsComplete}}class g{constructor(t){this.payload=t,this.type=i.MarkMessagesAsRead}}class p{constructor(){this.type=i.MarkAllMessagesAsRead}}class f{constructor(t){this.payload=t,this.type=i.GetRecentlyRecordsByUser}}class b{constructor(t){this.payload=t,this.type=i.GetRecentlyRecordsByUserComplete}}class m{constructor(t){this.payload=t,this.type=i.ClearChatHistory}}class v{constructor(t){this.payload=t,this.type=i.SelectContact}}class y{constructor(){this.type=i.DeselectContact}}class C{constructor(t){this.payload=t,this.type=i.LoadPreviousRecords}}class _{constructor(){this.type=i.GetSettings}}class x{constructor(t){this.payload=t,this.type=i.GetSettingsSuccess}}class P{constructor(){this.type=i.ToggleSettingsFriendOnly}}class w{constructor(t){this.payload=t,this.type=i.Report}}class O{constructor(){this.type=i.ReportSuccess}}class M{constructor(t){this.payload=t,this.type=i.GetFollowStatus}}class k{constructor(t){this.payload=t,this.type=i.GetFollowStatusSuccess}}class S{constructor(t){this.payload=t,this.type=i.ChangeFollowStatus}}class I{constructor(t){this.payload=t,this.type=i.ChangeFollowStatusSuccess}}class L{constructor(){this.type=i.ClearAll}}},PQoX:function(t,e,n){"use strict";var i=n("fXoL");function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(){return(r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),i.forEach((function(e){s(t,e,n[e])}))}return t}function c(t,e){if(null==t)return{};var n,i,o=function(t,e){if(null==t)return{};var n,i,o={},s=Object.keys(t);for(i=0;i<s.length;i++)e.indexOf(n=s[i])>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)e.indexOf(n=s[i])>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function l(t){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(t)}var h=l(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),d=l(/Edge/i),u=l(/firefox/i),g=l(/safari/i)&&!l(/chrome/i)&&!l(/android/i),p=l(/iP(ad|od|hone)/i),f=l(/chrome/i)&&l(/android/i),b={capture:!1,passive:!1};function m(t,e,n){t.addEventListener(e,n,!h&&b)}function v(t,e,n){t.removeEventListener(e,n,!h&&b)}function y(t,e){if(e){if(">"===e[0]&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch(n){return!1}return!1}}function C(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function _(t,e,n,i){if(t){n=n||document;do{if(null!=e&&(">"===e[0]?t.parentNode===n&&y(t,e):y(t,e))||i&&t===n)return t;if(t===n)break}while(t=C(t))}return null}var x,P=/\s+/g;function w(t,e,n){if(t&&e)if(t.classList)t.classList[n?"add":"remove"](e);else{var i=(" "+t.className+" ").replace(P," ").replace(" "+e+" "," ");t.className=(i+(n?" "+e:"")).replace(P," ")}}function O(t,e,n){var i=t&&t.style;if(i){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),void 0===e?n:n[e];e in i||-1!==e.indexOf("webkit")||(e="-webkit-"+e),i[e]=n+("string"==typeof n?"":"px")}}function M(t,e){var n="";if("string"==typeof t)n=t;else do{var i=O(t,"transform");i&&"none"!==i&&(n=i+" "+n)}while(!e&&(t=t.parentNode));var o=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return o&&new o(n)}function k(t,e,n){if(t){var i=t.getElementsByTagName(e),o=0,s=i.length;if(n)for(;o<s;o++)n(i[o],o);return i}return[]}function S(){return document.scrollingElement||document.documentElement}function I(t,e,n,i,o){if(t.getBoundingClientRect||t===window){var s,r,a,c,l,d,u;if(t!==window&&t!==S()?(r=(s=t.getBoundingClientRect()).top,a=s.left,c=s.bottom,l=s.right,d=s.height,u=s.width):(r=0,a=0,c=window.innerHeight,l=window.innerWidth,d=window.innerHeight,u=window.innerWidth),(e||n)&&t!==window&&(o=o||t.parentNode,!h))do{if(o&&o.getBoundingClientRect&&("none"!==O(o,"transform")||n&&"static"!==O(o,"position"))){var g=o.getBoundingClientRect();r-=g.top+parseInt(O(o,"border-top-width")),a-=g.left+parseInt(O(o,"border-left-width")),c=r+s.height,l=a+s.width;break}}while(o=o.parentNode);if(i&&t!==window){var p=M(o||t),f=p&&p.a,b=p&&p.d;p&&(c=(r/=b)+(d/=b),l=(a/=f)+(u/=f))}return{top:r,left:a,bottom:c,right:l,width:u,height:d}}}function L(t,e,n){for(var i=V(t,!0),o=I(t)[e];i;){var s=I(i)[n];if(!("top"===n||"left"===n?o>=s:o<=s))return i;if(i===S())break;i=V(i,!1)}return!1}function T(t,e,n){for(var i=0,o=0,s=t.children;o<s.length;){if("none"!==s[o].style.display&&s[o]!==Ut.ghost&&s[o]!==Ut.dragged&&_(s[o],n.draggable,t,!1)){if(i===e)return s[o];i++}o++}return null}function A(t,e){for(var n=t.lastElementChild;n&&(n===Ut.ghost||"none"===O(n,"display")||e&&!y(n,e));)n=n.previousElementSibling;return n||null}function N(t,e){var n=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)"TEMPLATE"===t.nodeName.toUpperCase()||t===Ut.clone||e&&!y(t,e)||n++;return n}function B(t){var e=0,n=0,i=S();if(t)do{var o=M(t);e+=t.scrollLeft*o.a,n+=t.scrollTop*o.d}while(t!==i&&(t=t.parentNode));return[e,n]}function V(t,e){if(!t||!t.getBoundingClientRect)return S();var n=t,i=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var o=O(n);if(n.clientWidth<n.scrollWidth&&("auto"==o.overflowX||"scroll"==o.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==o.overflowY||"scroll"==o.overflowY)){if(!n.getBoundingClientRect||n===document.body)return S();if(i||e)return n;i=!0}}}while(n=n.parentNode);return S()}function U(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}function D(t,e){return function(){if(!x){var n=arguments,i=this;1===n.length?t.call(i,n[0]):t.apply(i,n),x=setTimeout((function(){x=void 0}),e)}}}function E(t,e,n){t.scrollLeft+=e,t.scrollTop+=n}function R(t){var e=window.Polymer,n=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):n?n(t).clone(!0)[0]:t.cloneNode(!0)}var F="Sortable"+(new Date).getTime(),j=[],z={initializeByDefault:!0},H={mount:function(t){for(var e in z)!z.hasOwnProperty(e)||e in t||(t[e]=z[e]);j.push(t)},pluginEvent:function(t,e,n){var i=this;this.eventCanceled=!1,n.cancel=function(){i.eventCanceled=!0};var o=t+"Global";j.forEach((function(i){e[i.pluginName]&&(e[i.pluginName][o]&&e[i.pluginName][o](a({sortable:e},n)),e.options[i.pluginName]&&e[i.pluginName][t]&&e[i.pluginName][t](a({sortable:e},n)))}))},initializePlugins:function(t,e,n,i){for(var o in j.forEach((function(i){var o=i.pluginName;if(t.options[o]||i.initializeByDefault){var s=new i(t,e,t.options);s.sortable=t,s.options=t.options,t[o]=s,r(n,s.defaults)}})),t.options)if(t.options.hasOwnProperty(o)){var s=this.modifyOption(t,o,t.options[o]);void 0!==s&&(t.options[o]=s)}},getEventProperties:function(t,e){var n={};return j.forEach((function(i){"function"==typeof i.eventProperties&&r(n,i.eventProperties.call(e[i.pluginName],t))})),n},modifyOption:function(t,e,n){var i;return j.forEach((function(o){t[o.pluginName]&&o.optionListeners&&"function"==typeof o.optionListeners[e]&&(i=o.optionListeners[e].call(t[o.pluginName],n))})),i}},G=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.evt,o=c(n,["evt"]);H.pluginEvent.bind(Ut)(t,e,a({dragEl:q,parentEl:Q,ghostEl:$,rootEl:K,nextEl:X,lastDownEl:Y,cloneEl:Z,cloneHidden:J,dragStarted:ut,putSortable:st,activeSortable:Ut.active,originalEvent:i,oldIndex:tt,oldDraggableIndex:nt,newIndex:et,newDraggableIndex:it,hideGhostForTarget:At,unhideGhostForTarget:Nt,cloneNowHidden:function(){J=!0},cloneNowShown:function(){J=!1},dispatchSortableEvent:function(t){W({sortable:e,name:t,originalEvent:i})}},o))};function W(t){!function(t){var e=t.sortable,n=t.rootEl,i=t.name,o=t.targetEl,s=t.cloneEl,r=t.toEl,c=t.fromEl,l=t.oldIndex,u=t.newIndex,g=t.oldDraggableIndex,p=t.newDraggableIndex,f=t.originalEvent,b=t.putSortable,m=t.extraEventProperties;if(e=e||n&&n[F]){var v,y=e.options,C="on"+i.charAt(0).toUpperCase()+i.substr(1);!window.CustomEvent||h||d?(v=document.createEvent("Event")).initEvent(i,!0,!0):v=new CustomEvent(i,{bubbles:!0,cancelable:!0}),v.to=r||n,v.from=c||n,v.item=o||n,v.clone=s,v.oldIndex=l,v.newIndex=u,v.oldDraggableIndex=g,v.newDraggableIndex=p,v.originalEvent=f,v.pullMode=b?b.lastPutMode:void 0;var _=a({},m,H.getEventProperties(i,e));for(var x in _)v[x]=_[x];n&&n.dispatchEvent(v),y[C]&&y[C].call(e,v)}}(a({putSortable:st,cloneEl:Z,targetEl:q,rootEl:K,oldIndex:tt,oldDraggableIndex:nt,newIndex:et,newDraggableIndex:it},t))}var q,Q,$,K,X,Y,Z,J,tt,et,nt,it,ot,st,rt,at,ct,lt,ht,dt,ut,gt,pt,ft,bt,mt=!1,vt=!1,yt=[],Ct=!1,_t=!1,xt=[],Pt=!1,wt=[],Ot="undefined"!=typeof document,Mt=p,kt=d||h?"cssFloat":"float",St=Ot&&!f&&!p&&"draggable"in document.createElement("div"),It=function(){if(Ot){if(h)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto","auto"===t.style.pointerEvents}}(),Lt=function(t,e){var n=O(t),i=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),o=T(t,0,e),s=T(t,1,e),r=o&&O(o),a=s&&O(s),c=r&&parseInt(r.marginLeft)+parseInt(r.marginRight)+I(o).width,l=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+I(s).width;return"flex"===n.display?"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal":"grid"===n.display?n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal":o&&r.float&&"none"!==r.float?!s||"both"!==a.clear&&a.clear!==("left"===r.float?"left":"right")?"horizontal":"vertical":o&&("block"===r.display||"flex"===r.display||"table"===r.display||"grid"===r.display||c>=i&&"none"===n[kt]||s&&"none"===n[kt]&&c+l>i)?"vertical":"horizontal"},Tt=function(t){function e(t,n){return function(i,o,s,r){if(null==t&&(n||i.options.group.name&&o.options.group.name&&i.options.group.name===o.options.group.name))return!0;if(null==t||!1===t)return!1;if(n&&"clone"===t)return t;if("function"==typeof t)return e(t(i,o,s,r),n)(i,o,s,r);var a=(n?i:o).options.group.name;return!0===t||"string"==typeof t&&t===a||t.join&&t.indexOf(a)>-1}}var n={},i=t.group;i&&"object"==o(i)||(i={name:i}),n.name=i.name,n.checkPull=e(i.pull,!0),n.checkPut=e(i.put),n.revertClone=i.revertClone,t.group=n},At=function(){!It&&$&&O($,"display","none")},Nt=function(){!It&&$&&O($,"display","")};Ot&&document.addEventListener("click",(function(t){if(vt)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),vt=!1,!1}),!0);var Bt=function(t){if(q){var e=(o=(t=t.touches?t.touches[0]:t).clientX,s=t.clientY,yt.some((function(t){if(!A(t)){var e=I(t),n=t[F].options.emptyInsertThreshold;return n&&o>=e.left-n&&o<=e.right+n&&s>=e.top-n&&s<=e.bottom+n?r=t:void 0}})),r);if(e){var n={};for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.target=n.rootEl=e,n.preventDefault=void 0,n.stopPropagation=void 0,e[F]._onDragOver(n)}}var o,s,r},Vt=function(t){q&&q.parentNode[F]._isOutsideThisEl(t.target)};function Ut(t,e){if(!t||!t.nodeType||1!==t.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=r({},e),t[F]=this;var n,i,o={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Lt(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(t,e){t.setData("Text",e.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==Ut.supportPointer&&"PointerEvent"in window,emptyInsertThreshold:5};for(var s in H.initializePlugins(this,t,o),o)!(s in e)&&(e[s]=o[s]);for(var c in Tt(e),this)"_"===c.charAt(0)&&"function"==typeof this[c]&&(this[c]=this[c].bind(this));this.nativeDraggable=!e.forceFallback&&St,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?m(t,"pointerdown",this._onTapStart):(m(t,"mousedown",this._onTapStart),m(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(m(t,"dragover",this),m(t,"dragenter",this)),yt.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),r(this,(i=[],{captureAnimationState:function(){i=[],this.options.animation&&[].slice.call(this.el.children).forEach((function(t){if("none"!==O(t,"display")&&t!==Ut.ghost){i.push({target:t,rect:I(t)});var e=a({},i[i.length-1].rect);if(t.thisAnimationDuration){var n=M(t,!0);n&&(e.top-=n.f,e.left-=n.e)}t.fromRect=e}}))},addAnimationState:function(t){i.push(t)},removeAnimationState:function(t){i.splice(function(t,e){for(var n in t)if(t.hasOwnProperty(n))for(var i in e)if(e.hasOwnProperty(i)&&e[i]===t[n][i])return Number(n);return-1}(i,{target:t}),1)},animateAll:function(t){var e=this;if(!this.options.animation)return clearTimeout(n),void("function"==typeof t&&t());var o=!1,s=0;i.forEach((function(t){var n=0,i=t.target,r=i.fromRect,a=I(i),c=i.prevFromRect,l=i.prevToRect,h=t.rect,d=M(i,!0);d&&(a.top-=d.f,a.left-=d.e),i.toRect=a,i.thisAnimationDuration&&U(c,a)&&!U(r,a)&&(h.top-a.top)/(h.left-a.left)==(r.top-a.top)/(r.left-a.left)&&(n=function(t,e,n,i){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))*i.animation}(h,c,l,e.options)),U(a,r)||(i.prevFromRect=r,i.prevToRect=a,n||(n=e.options.animation),e.animate(i,h,a,n)),n&&(o=!0,s=Math.max(s,n),clearTimeout(i.animationResetTimer),i.animationResetTimer=setTimeout((function(){i.animationTime=0,i.prevFromRect=null,i.fromRect=null,i.prevToRect=null,i.thisAnimationDuration=null}),n),i.thisAnimationDuration=n)})),clearTimeout(n),o?n=setTimeout((function(){"function"==typeof t&&t()}),s):"function"==typeof t&&t(),i=[]},animate:function(t,e,n,i){if(i){O(t,"transition",""),O(t,"transform","");var o=M(this.el),s=(e.left-n.left)/(o&&o.a||1),r=(e.top-n.top)/(o&&o.d||1);t.animatingX=!!s,t.animatingY=!!r,O(t,"transform","translate3d("+s+"px,"+r+"px,0)"),O(t,"transition","transform "+i+"ms"+(this.options.easing?" "+this.options.easing:"")),O(t,"transform","translate3d(0,0,0)"),"number"==typeof t.animated&&clearTimeout(t.animated),t.animated=setTimeout((function(){O(t,"transition",""),O(t,"transform",""),t.animated=!1,t.animatingX=!1,t.animatingY=!1}),i)}}}))}function Dt(t,e,n,i,o,s,r,a){var c,l,u=t[F],g=u.options.onMove;return!window.CustomEvent||h||d?(c=document.createEvent("Event")).initEvent("move",!0,!0):c=new CustomEvent("move",{bubbles:!0,cancelable:!0}),c.to=e,c.from=t,c.dragged=n,c.draggedRect=i,c.related=o||e,c.relatedRect=s||I(e),c.willInsertAfter=a,c.originalEvent=r,t.dispatchEvent(c),g&&(l=g.call(u,c,r)),l}function Et(t){t.draggable=!1}function Rt(){Pt=!1}function Ft(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,i=0;n--;)i+=e.charCodeAt(n);return i.toString(36)}function jt(t){return setTimeout(t,0)}function zt(t){return clearTimeout(t)}Ut.prototype={constructor:Ut,_isOutsideThisEl:function(t){this.el.contains(t)||t===this.el||(gt=null)},_getDirection:function(t,e){return"function"==typeof this.options.direction?this.options.direction.call(this,t,e,q):this.options.direction},_onTapStart:function(t){if(t.cancelable){var e=this,n=this.el,i=this.options,o=i.preventOnFilter,s=t.type,r=t.touches&&t.touches[0]||t.pointerType&&"touch"===t.pointerType&&t,a=(r||t).target,c=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||a,l=i.filter;if(function(t){wt.length=0;for(var e=t.getElementsByTagName("input"),n=e.length;n--;){var i=e[n];i.checked&&wt.push(i)}}(n),!q&&!(/mousedown|pointerdown/.test(s)&&0!==t.button||i.disabled||c.isContentEditable||(a=_(a,i.draggable,n,!1))&&a.animated||Y===a)){if(tt=N(a),nt=N(a,i.draggable),"function"==typeof l){if(l.call(this,t,a,this))return W({sortable:e,rootEl:c,name:"filter",targetEl:a,toEl:n,fromEl:n}),G("filter",e,{evt:t}),void(o&&t.cancelable&&t.preventDefault())}else if(l&&(l=l.split(",").some((function(i){if(i=_(c,i.trim(),n,!1))return W({sortable:e,rootEl:i,name:"filter",targetEl:a,fromEl:n,toEl:n}),G("filter",e,{evt:t}),!0}))))return void(o&&t.cancelable&&t.preventDefault());i.handle&&!_(c,i.handle,n,!1)||this._prepareDragStart(t,r,a)}}},_prepareDragStart:function(t,e,n){var i,o=this,s=o.el,r=o.options,a=s.ownerDocument;if(n&&!q&&n.parentNode===s){var c=I(n);if(K=s,Q=(q=n).parentNode,X=q.nextSibling,Y=n,ot=r.group,Ut.dragged=q,ht=(rt={target:q,clientX:(e||t).clientX,clientY:(e||t).clientY}).clientX-c.left,dt=rt.clientY-c.top,this._lastX=(e||t).clientX,this._lastY=(e||t).clientY,q.style["will-change"]="all",i=function(){G("delayEnded",o,{evt:t}),Ut.eventCanceled?o._onDrop():(o._disableDelayedDragEvents(),!u&&o.nativeDraggable&&(q.draggable=!0),o._triggerDragStart(t,e),W({sortable:o,name:"choose",originalEvent:t}),w(q,r.chosenClass,!0))},r.ignore.split(",").forEach((function(t){k(q,t.trim(),Et)})),m(a,"dragover",Bt),m(a,"mousemove",Bt),m(a,"touchmove",Bt),m(a,"mouseup",o._onDrop),m(a,"touchend",o._onDrop),m(a,"touchcancel",o._onDrop),u&&this.nativeDraggable&&(this.options.touchStartThreshold=4,q.draggable=!0),G("delayStart",this,{evt:t}),!r.delay||r.delayOnTouchOnly&&!e||this.nativeDraggable&&(d||h))i();else{if(Ut.eventCanceled)return void this._onDrop();m(a,"mouseup",o._disableDelayedDrag),m(a,"touchend",o._disableDelayedDrag),m(a,"touchcancel",o._disableDelayedDrag),m(a,"mousemove",o._delayedDragTouchMoveHandler),m(a,"touchmove",o._delayedDragTouchMoveHandler),r.supportPointer&&m(a,"pointermove",o._delayedDragTouchMoveHandler),o._dragStartTimer=setTimeout(i,r.delay)}}},_delayedDragTouchMoveHandler:function(t){var e=t.touches?t.touches[0]:t;Math.max(Math.abs(e.clientX-this._lastX),Math.abs(e.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){q&&Et(q),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;v(t,"mouseup",this._disableDelayedDrag),v(t,"touchend",this._disableDelayedDrag),v(t,"touchcancel",this._disableDelayedDrag),v(t,"mousemove",this._delayedDragTouchMoveHandler),v(t,"touchmove",this._delayedDragTouchMoveHandler),v(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,e){e=e||"touch"==t.pointerType&&t,!this.nativeDraggable||e?m(document,this.options.supportPointer?"pointermove":e?"touchmove":"mousemove",this._onTouchMove):(m(q,"dragend",this),m(K,"dragstart",this._onDragStart));try{document.selection?jt((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(n){}},_dragStarted:function(t,e){if(mt=!1,K&&q){G("dragStarted",this,{evt:e}),this.nativeDraggable&&m(document,"dragover",Vt);var n=this.options;!t&&w(q,n.dragClass,!1),w(q,n.ghostClass,!0),Ut.active=this,t&&this._appendGhost(),W({sortable:this,name:"start",originalEvent:e})}else this._nulling()},_emulateDragOver:function(){if(at){this._lastX=at.clientX,this._lastY=at.clientY,At();for(var t=document.elementFromPoint(at.clientX,at.clientY),e=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(at.clientX,at.clientY))!==e;)e=t;if(q.parentNode[F]._isOutsideThisEl(t),e)do{if(e[F]&&e[F]._onDragOver({clientX:at.clientX,clientY:at.clientY,target:t,rootEl:e})&&!this.options.dragoverBubble)break;t=e}while(e=e.parentNode);Nt()}},_onTouchMove:function(t){if(rt){var e=this.options,n=e.fallbackTolerance,i=e.fallbackOffset,o=t.touches?t.touches[0]:t,s=$&&M($,!0),r=$&&s&&s.a,a=$&&s&&s.d,c=Mt&&bt&&B(bt),l=(o.clientX-rt.clientX+i.x)/(r||1)+(c?c[0]-xt[0]:0)/(r||1),h=(o.clientY-rt.clientY+i.y)/(a||1)+(c?c[1]-xt[1]:0)/(a||1);if(!Ut.active&&!mt){if(n&&Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))<n)return;this._onDragStart(t,!0)}if($){s?(s.e+=l-(ct||0),s.f+=h-(lt||0)):s={a:1,b:0,c:0,d:1,e:l,f:h};var d="matrix(".concat(s.a,",").concat(s.b,",").concat(s.c,",").concat(s.d,",").concat(s.e,",").concat(s.f,")");O($,"webkitTransform",d),O($,"mozTransform",d),O($,"msTransform",d),O($,"transform",d),ct=l,lt=h,at=o}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!$){var t=this.options.fallbackOnBody?document.body:K,e=I(q,!0,Mt,!0,t),n=this.options;if(Mt){for(bt=t;"static"===O(bt,"position")&&"none"===O(bt,"transform")&&bt!==document;)bt=bt.parentNode;bt!==document.body&&bt!==document.documentElement?(bt===document&&(bt=S()),e.top+=bt.scrollTop,e.left+=bt.scrollLeft):bt=S(),xt=B(bt)}w($=q.cloneNode(!0),n.ghostClass,!1),w($,n.fallbackClass,!0),w($,n.dragClass,!0),O($,"transition",""),O($,"transform",""),O($,"box-sizing","border-box"),O($,"margin",0),O($,"top",e.top),O($,"left",e.left),O($,"width",e.width),O($,"height",e.height),O($,"opacity","0.8"),O($,"position",Mt?"absolute":"fixed"),O($,"zIndex","100000"),O($,"pointerEvents","none"),Ut.ghost=$,t.appendChild($),O($,"transform-origin",ht/parseInt($.style.width)*100+"% "+dt/parseInt($.style.height)*100+"%")}},_onDragStart:function(t,e){var n=this,i=t.dataTransfer,o=n.options;G("dragStart",this,{evt:t}),Ut.eventCanceled?this._onDrop():(G("setupClone",this),Ut.eventCanceled||((Z=R(q)).draggable=!1,Z.style["will-change"]="",this._hideClone(),w(Z,this.options.chosenClass,!1),Ut.clone=Z),n.cloneId=jt((function(){G("clone",n),Ut.eventCanceled||(n.options.removeCloneOnHide||K.insertBefore(Z,q),n._hideClone(),W({sortable:n,name:"clone"}))})),!e&&w(q,o.dragClass,!0),e?(vt=!0,n._loopId=setInterval(n._emulateDragOver,50)):(v(document,"mouseup",n._onDrop),v(document,"touchend",n._onDrop),v(document,"touchcancel",n._onDrop),i&&(i.effectAllowed="move",o.setData&&o.setData.call(n,i,q)),m(document,"drop",n),O(q,"transform","translateZ(0)")),mt=!0,n._dragStartId=jt(n._dragStarted.bind(n,e,t)),m(document,"selectstart",n),ut=!0,g&&O(document.body,"user-select","none"))},_onDragOver:function(t){var e,n,i,o,s=this.el,r=t.target,c=this.options,l=c.group,h=Ut.active,d=ot===l,u=c.sort,g=st||h,p=this,f=!1;if(!Pt){if(void 0!==t.preventDefault&&t.cancelable&&t.preventDefault(),r=_(r,c.draggable,s,!0),U("dragOver"),Ut.eventCanceled)return f;if(q.contains(t.target)||r.animated&&r.animatingX&&r.animatingY||p._ignoreWhileAnimating===r)return R(!1);if(vt=!1,h&&!c.disabled&&(d?u||(i=!K.contains(q)):st===this||(this.lastPutMode=ot.checkPull(this,h,q,t))&&l.checkPut(this,h,q,t))){if(o="vertical"===this._getDirection(t,r),e=I(q),U("dragOverValid"),Ut.eventCanceled)return f;if(i)return Q=K,D(),this._hideClone(),U("revert"),Ut.eventCanceled||(X?K.insertBefore(q,X):K.appendChild(q)),R(!0);var b=A(s,c.draggable);if(!b||function(t,e,n){var i=I(A(n.el,n.options.draggable));return e?t.clientX>i.right+10||t.clientX<=i.right&&t.clientY>i.bottom&&t.clientX>=i.left:t.clientX>i.right&&t.clientY>i.top||t.clientX<=i.right&&t.clientY>i.bottom+10}(t,o,this)&&!b.animated){if(b===q)return R(!1);if(b&&s===t.target&&(r=b),r&&(n=I(r)),!1!==Dt(K,s,q,e,r,n,t,!!r))return D(),s.appendChild(q),Q=s,j(),R(!0)}else if(r.parentNode===s){n=I(r);var m,v,y,C=q.parentNode!==s,x=!function(t,e,n){var i=n?t.left:t.top,o=n?e.left:e.top;return i===o||(n?t.right:t.bottom)===(n?e.right:e.bottom)||i+(n?t.width:t.height)/2===o+(n?e.width:e.height)/2}(q.animated&&q.toRect||e,r.animated&&r.toRect||n,o),P=o?"top":"left",M=L(r,"top","top")||L(q,"top","top"),k=M?M.scrollTop:void 0;if(gt!==r&&(v=n[P],Ct=!1,_t=!x&&c.invertSwap||C),0!==(m=function(t,e,n,i,o,s,r,a){var c=i?t.clientY:t.clientX,l=i?n.height:n.width,h=i?n.top:n.left,d=i?n.bottom:n.right,u=!1;if(!r)if(a&&ft<l*o){if(!Ct&&(1===pt?c>h+l*s/2:c<d-l*s/2)&&(Ct=!0),Ct)u=!0;else if(1===pt?c<h+ft:c>d-ft)return-pt}else if(c>h+l*(1-o)/2&&c<d-l*(1-o)/2)return function(t){return N(q)<N(t)?1:-1}(e);return(u=u||r)&&(c<h+l*s/2||c>d-l*s/2)?c>h+l/2?1:-1:0}(t,r,n,o,x?1:c.swapThreshold,null==c.invertedSwapThreshold?c.swapThreshold:c.invertedSwapThreshold,_t,gt===r))){var S=N(q);do{y=Q.children[S-=m]}while(y&&("none"===O(y,"display")||y===$))}if(0===m||y===r)return R(!1);gt=r,pt=m;var T=r.nextElementSibling,B=!1,V=Dt(K,s,q,e,r,n,t,B=1===m);if(!1!==V)return 1!==V&&-1!==V||(B=1===V),Pt=!0,setTimeout(Rt,30),D(),B&&!T?s.appendChild(q):r.parentNode.insertBefore(q,B?T:r),M&&E(M,0,k-M.scrollTop),Q=q.parentNode,void 0===v||_t||(ft=Math.abs(v-I(r)[P])),j(),R(!0)}if(s.contains(q))return R(!1)}return!1}function U(c,l){G(c,p,a({evt:t,isOwner:d,axis:o?"vertical":"horizontal",revert:i,dragRect:e,targetRect:n,canSort:u,fromSortable:g,target:r,completed:R,onMove:function(n,i){return Dt(K,s,q,e,n,I(n),t,i)},changed:j},l))}function D(){U("dragOverAnimationCapture"),p.captureAnimationState(),p!==g&&g.captureAnimationState()}function R(e){return U("dragOverCompleted",{insertion:e}),e&&(d?h._hideClone():h._showClone(p),p!==g&&(w(q,st?st.options.ghostClass:h.options.ghostClass,!1),w(q,c.ghostClass,!0)),st!==p&&p!==Ut.active?st=p:p===Ut.active&&st&&(st=null),g===p&&(p._ignoreWhileAnimating=r),p.animateAll((function(){U("dragOverAnimationComplete"),p._ignoreWhileAnimating=null})),p!==g&&(g.animateAll(),g._ignoreWhileAnimating=null)),(r===q&&!q.animated||r===s&&!r.animated)&&(gt=null),c.dragoverBubble||t.rootEl||r===document||(q.parentNode[F]._isOutsideThisEl(t.target),!e&&Bt(t)),!c.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),f=!0}function j(){et=N(q),it=N(q,c.draggable),W({sortable:p,name:"change",toEl:s,newIndex:et,newDraggableIndex:it,originalEvent:t})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){v(document,"mousemove",this._onTouchMove),v(document,"touchmove",this._onTouchMove),v(document,"pointermove",this._onTouchMove),v(document,"dragover",Bt),v(document,"mousemove",Bt),v(document,"touchmove",Bt)},_offUpEvents:function(){var t=this.el.ownerDocument;v(t,"mouseup",this._onDrop),v(t,"touchend",this._onDrop),v(t,"pointerup",this._onDrop),v(t,"touchcancel",this._onDrop),v(document,"selectstart",this)},_onDrop:function(t){var e=this.el,n=this.options;et=N(q),it=N(q,n.draggable),G("drop",this,{evt:t}),Q=q&&q.parentNode,et=N(q),it=N(q,n.draggable),Ut.eventCanceled?this._nulling():(mt=!1,_t=!1,Ct=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),zt(this.cloneId),zt(this._dragStartId),this.nativeDraggable&&(v(document,"drop",this),v(e,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),g&&O(document.body,"user-select",""),O(q,"transform",""),t&&(ut&&(t.cancelable&&t.preventDefault(),!n.dropBubble&&t.stopPropagation()),$&&$.parentNode&&$.parentNode.removeChild($),(K===Q||st&&"clone"!==st.lastPutMode)&&Z&&Z.parentNode&&Z.parentNode.removeChild(Z),q&&(this.nativeDraggable&&v(q,"dragend",this),Et(q),q.style["will-change"]="",ut&&!mt&&w(q,st?st.options.ghostClass:this.options.ghostClass,!1),w(q,this.options.chosenClass,!1),W({sortable:this,name:"unchoose",toEl:Q,newIndex:null,newDraggableIndex:null,originalEvent:t}),K!==Q?(et>=0&&(W({rootEl:Q,name:"add",toEl:Q,fromEl:K,originalEvent:t}),W({sortable:this,name:"remove",toEl:Q,originalEvent:t}),W({rootEl:Q,name:"sort",toEl:Q,fromEl:K,originalEvent:t}),W({sortable:this,name:"sort",toEl:Q,originalEvent:t})),st&&st.save()):et!==tt&&et>=0&&(W({sortable:this,name:"update",toEl:Q,originalEvent:t}),W({sortable:this,name:"sort",toEl:Q,originalEvent:t})),Ut.active&&(null!=et&&-1!==et||(et=tt,it=nt),W({sortable:this,name:"end",toEl:Q,originalEvent:t}),this.save()))),this._nulling())},_nulling:function(){G("nulling",this),K=q=Q=$=X=Z=Y=J=rt=at=ut=et=it=tt=nt=gt=pt=st=ot=Ut.dragged=Ut.ghost=Ut.clone=Ut.active=null,wt.forEach((function(t){t.checked=!0})),wt.length=ct=lt=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":q&&(this._onDragOver(t),function(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}(t));break;case"selectstart":t.preventDefault()}},toArray:function(){for(var t,e=[],n=this.el.children,i=0,o=n.length,s=this.options;i<o;i++)_(t=n[i],s.draggable,this.el,!1)&&e.push(t.getAttribute(s.dataIdAttr)||Ft(t));return e},sort:function(t){var e={},n=this.el;this.toArray().forEach((function(t,i){var o=n.children[i];_(o,this.options.draggable,n,!1)&&(e[t]=o)}),this),t.forEach((function(t){e[t]&&(n.removeChild(e[t]),n.appendChild(e[t]))}))},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,e){return _(t,e||this.options.draggable,this.el,!1)},option:function(t,e){var n=this.options;if(void 0===e)return n[t];var i=H.modifyOption(this,t,e);n[t]=void 0!==i?i:e,"group"===t&&Tt(n)},destroy:function(){G("destroy",this);var t=this.el;t[F]=null,v(t,"mousedown",this._onTapStart),v(t,"touchstart",this._onTapStart),v(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(v(t,"dragover",this),v(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),(function(t){t.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),yt.splice(yt.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!J){if(G("hideClone",this),Ut.eventCanceled)return;O(Z,"display","none"),this.options.removeCloneOnHide&&Z.parentNode&&Z.parentNode.removeChild(Z),J=!0}},_showClone:function(t){if("clone"===t.lastPutMode){if(J){if(G("showClone",this),Ut.eventCanceled)return;K.contains(q)&&!this.options.group.revertClone?K.insertBefore(Z,q):X?K.insertBefore(Z,X):K.appendChild(Z),this.options.group.revertClone&&this.animate(q,Z),O(Z,"display",""),J=!1}}else this._hideClone()}},Ot&&m(document,"touchmove",(function(t){(Ut.active||mt)&&t.cancelable&&t.preventDefault()})),Ut.utils={on:m,off:v,css:O,find:k,is:function(t,e){return!!_(t,e,t,!1)},extend:function(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},throttle:D,closest:_,toggleClass:w,clone:R,index:N,nextTick:jt,cancelNextTick:zt,detectDirection:Lt,getChild:T},Ut.get=function(t){return t[F]},Ut.mount=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e[0].constructor===Array&&(e=e[0]),e.forEach((function(t){if(!t.prototype||!t.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(t));t.utils&&(Ut.utils=a({},Ut.utils,t.utils)),H.mount(t)}))},Ut.create=function(t,e){return new Ut(t,e)},Ut.version="1.10.2";var Ht,Gt,Wt,qt,Qt,$t,Kt=[],Xt=!1;function Yt(){Kt.forEach((function(t){clearInterval(t.pid)})),Kt=[]}function Zt(){clearInterval($t)}var Jt=D((function(t,e,n,i){if(e.scroll){var o,s=(t.touches?t.touches[0]:t).clientX,r=(t.touches?t.touches[0]:t).clientY,a=e.scrollSensitivity,c=e.scrollSpeed,l=S(),h=!1;Gt!==n&&(Gt=n,Yt(),o=e.scrollFn,!0===(Ht=e.scroll)&&(Ht=V(n,!0)));var d=0,u=Ht;do{var g=u,p=I(g),f=p.top,b=p.bottom,m=p.left,v=p.right,y=p.width,C=p.height,_=void 0,x=void 0,P=g.scrollWidth,w=g.scrollHeight,M=O(g),k=g.scrollLeft,L=g.scrollTop;g===l?(_=y<P&&("auto"===M.overflowX||"scroll"===M.overflowX||"visible"===M.overflowX),x=C<w&&("auto"===M.overflowY||"scroll"===M.overflowY||"visible"===M.overflowY)):(_=y<P&&("auto"===M.overflowX||"scroll"===M.overflowX),x=C<w&&("auto"===M.overflowY||"scroll"===M.overflowY));var T=_&&(Math.abs(v-s)<=a&&k+y<P)-(Math.abs(m-s)<=a&&!!k),A=x&&(Math.abs(b-r)<=a&&L+C<w)-(Math.abs(f-r)<=a&&!!L);if(!Kt[d])for(var N=0;N<=d;N++)Kt[N]||(Kt[N]={});Kt[d].vx==T&&Kt[d].vy==A&&Kt[d].el===g||(Kt[d].el=g,Kt[d].vx=T,Kt[d].vy=A,clearInterval(Kt[d].pid),0==T&&0==A||(h=!0,Kt[d].pid=setInterval((function(){i&&0===this.layer&&Ut.active._onTouchMove(Qt);var e=Kt[this.layer].vy?Kt[this.layer].vy*c:0,n=Kt[this.layer].vx?Kt[this.layer].vx*c:0;"function"==typeof o&&"continue"!==o.call(Ut.dragged.parentNode[F],n,e,t,Qt,Kt[this.layer].el)||E(Kt[this.layer].el,n,e)}).bind({layer:d}),24))),d++}while(e.bubbleScroll&&u!==l&&(u=V(u,!1)));Xt=h}}),30),te=function(t){var e=t.originalEvent,n=t.putSortable,i=t.dragEl,o=t.dispatchSortableEvent,s=t.unhideGhostForTarget;if(e){var r=n||t.activeSortable;(0,t.hideGhostForTarget)();var a=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e,c=document.elementFromPoint(a.clientX,a.clientY);s(),r&&!r.el.contains(c)&&(o("spill"),this.onSpill({dragEl:i,putSortable:n}))}};function ee(){}function ne(){}ee.prototype={startIndex:null,dragStart:function(t){this.startIndex=t.oldDraggableIndex},onSpill:function(t){var e=t.dragEl,n=t.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var i=T(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(e,i):this.sortable.el.appendChild(e),this.sortable.animateAll(),n&&n.animateAll()},drop:te},r(ee,{pluginName:"revertOnSpill"}),ne.prototype={onSpill:function(t){var e=t.dragEl,n=t.putSortable||this.sortable;n.captureAnimationState(),e.parentNode&&e.parentNode.removeChild(e),n.animateAll()},drop:te},r(ne,{pluginName:"removeOnSpill"}),Ut.mount(new function(){function t(){for(var t in this.defaults={scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===t.charAt(0)&&"function"==typeof this[t]&&(this[t]=this[t].bind(this))}return t.prototype={dragStarted:function(t){var e=t.originalEvent;this.sortable.nativeDraggable?m(document,"dragover",this._handleAutoScroll):m(document,this.options.supportPointer?"pointermove":e.touches?"touchmove":"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var e=t.originalEvent;this.options.dragOverBubble||e.rootEl||this._handleAutoScroll(e)},drop:function(){this.sortable.nativeDraggable?v(document,"dragover",this._handleAutoScroll):(v(document,"pointermove",this._handleFallbackAutoScroll),v(document,"touchmove",this._handleFallbackAutoScroll),v(document,"mousemove",this._handleFallbackAutoScroll)),Zt(),Yt(),clearTimeout(x),x=void 0},nulling:function(){Qt=Gt=Ht=Xt=$t=Wt=qt=null,Kt.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,e){var n=this,i=(t.touches?t.touches[0]:t).clientX,o=(t.touches?t.touches[0]:t).clientY,s=document.elementFromPoint(i,o);if(Qt=t,e||d||h||g){Jt(t,this.options,s,e);var r=V(s,!0);!Xt||$t&&i===Wt&&o===qt||($t&&Zt(),$t=setInterval((function(){var s=V(document.elementFromPoint(i,o),!0);s!==r&&(r=s,Yt()),Jt(t,n.options,s,e)}),10),Wt=i,qt=o)}else{if(!this.options.bubbleScroll||V(s,!0)===S())return void Yt();Jt(t,this.options,V(s,!1),!1)}}},r(t,{pluginName:"scroll",initializeByDefault:!0})}),Ut.mount(ne,ee),n.d(e,"a",(function(){return oe}));const ie=new i.q("Global config for sortablejs");let oe=(()=>{class t{static forRoot(e){return{ngModule:t,providers:[{provide:ie,useValue:e}]}}}return t.\u0275mod=i.Nb({type:t}),t.\u0275inj=i.Mb({factory:function(e){return new(e||t)}}),t})()},PkM9:function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));var i=n("pLZG"),o=n("fXoL"),s=n("tyNb"),r=n("ofXK"),a=n("ZAKw"),c=n("wFXo"),l=n("pdfW");function h(t,e){1&t&&o.Qb(0,"div",2)}function d(t,e){if(1&t){const t=o.Wb();o.Vb(0,"app-expandable-tabs",7),o.dc("selected",(function(e){return o.Cc(t),o.gc(2).onSelectTab(e)})),o.Ub()}if(2&t){const t=o.gc(2);o.nc("items",t.tabs)("activated",t.activeTabIndex||0===t.activeTabIndex?t.activeTabIndex:t.currentTabIndex)("current",t.currentTabIndex)("fromPlayer",t.fromPlayer)("fixed",t.fixedTabs)}}function u(t,e){if(1&t&&(o.Vb(0,"div"),o.Qb(1,"app-media-button",8),o.Ub()),2&t){const t=e.$implicit,n=o.gc(2);o.Bb(1),o.nc("videoId",t.videoId)("type",t.type)("item",t)("wide",n.isWide)("mediaKey",n.newMediaKey)}}const g=function(t,e,n){return{length:t,items:e,placeholder:n,valid:!0}};function p(t,e){if(1&t&&(o.Vb(0,"div",3),o.Lc(1,d,1,5,"app-expandable-tabs",4),o.Vb(2,"div",5),o.Lc(3,u,2,5,"div",6),o.Ub(),o.Ub()),2&t){const t=o.gc();o.Bb(1),o.nc("ngIf",t.tabs.length>1),o.Bb(1),o.nc("FlexboxPlaceholder",o.uc(3,g,t.fromPlayer?t.isWide?2:5:t.isWide?5:10,t.currentItems.length,t.isWide?"media-button wide":"media-button")),o.Bb(1),o.nc("ngForOf",t.currentItems)}}let f=(()=>{class t{constructor(t){this.route=t,this.items=[],this.fixedTabs=3,this.fromPlayer=!1,this.isWide=!1,this.currentItems=[],this.tabs=[],this.subscriptions=[],this.pageSize=50}ngOnInit(){this.subscriptions.push(this.route.queryParams.pipe(Object(i.a)(t=>t.id)).subscribe(t=>{this.currentKey=t.id,this.setCurrentTab()}))}ngOnChanges(t){const e=Math.ceil(this.items.length/this.pageSize);this.tabs=[];for(var n=0;n<e;n++){const t=this.items[n*this.pageSize],e=(n+1)*this.pageSize<this.items.length?this.items[(n+1)*this.pageSize-1]:this.items[this.items.length-1],i=t.title.includes("-")?t.title.split("-")[0]:t.title,o=e.title.includes("-")?e.title.split("-")[1]:e.title;let s=i,r=o;i.toString().length>5&&(s=i.substring(0,5)+"... "),o.toString().length>5&&(r=" "+o.substring(0,5)+"..."),this.tabs.push(s+"-"+r)}this.currentKey?this.setCurrentTab():this.onSelectTab(0)}setCurrentTab(){const t=this.items.findIndex(t=>t.key===this.currentKey);if(t>-1){this.activeTabIndex=void 0;const e=Math.ceil((t+1)/this.pageSize)-1;this.currentTabIndex=e,this.currentItems=this.items.slice(e*this.pageSize,e*this.pageSize+this.pageSize)}else this.onSelectTab(0)}onSelectTab(t){this.activeTabIndex=t,this.currentItems=this.items.slice(t*this.pageSize,t*this.pageSize+this.pageSize)}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(o.Pb(s.a))},t.\u0275cmp=o.Jb({type:t,selectors:[["app-list"]],inputs:{items:"items",fixedTabs:"fixedTabs",fromPlayer:"fromPlayer",isWide:"isWide",newMediaKey:"newMediaKey"},features:[o.zb()],decls:2,vars:2,consts:[["class","mt-3 mb-4 n-media-title",4,"ngIf"],["class","n-media",4,"ngIf"],[1,"mt-3","mb-4","n-media-title"],[1,"n-media"],[3,"items","activated","current","fromPlayer","fixed","selected",4,"ngIf"],[1,"n-media-list",3,"FlexboxPlaceholder"],[4,"ngFor","ngForOf"],[3,"items","activated","current","fromPlayer","fixed","selected"],[3,"videoId","type","item","wide","mediaKey"]],template:function(t,e){1&t&&(o.Lc(0,h,1,0,"div",0),o.Lc(1,p,4,7,"div",1)),2&t&&(o.nc("ngIf",e.fromPlayer),o.Bb(1),o.nc("ngIf",e.currentItems.length))},directives:[r.n,a.a,r.m,c.a,l.a],styles:["button[_ngcontent-%COMP%]{padding:5px 15px;margin:5px}button.active[_ngcontent-%COMP%]{background:red}"]}),t})()},Plof:function(t,e,n){"use strict";var i=n("fXoL"),o=n("ofXK");const s=["elTab"];function r(t,e){1&t&&(i.Vb(0,"span"),i.Qb(1,"img",3),i.Ub())}const a=function(t){return{active:t}};let c=(()=>{class t{constructor(){this.hoverEvent=new i.n,this.activeEvent=new i.n,this.clickEvent=new i.n,this.tabChangeEvent=new i.n,this.hovered=!1,this.styles={padding:"16px 24px",color:"#707070",display:"block",cursor:"pointer"},this.hoveredStyles={color:"#389FFF"},this.activeStyles={color:"#389FFF"}}ngOnInit(){}ngOnChanges(t){t.activeTab&&void 0!==t.activeTab.previousValue&&t.activeTab.currentValue===this.tabIndex&&this.tabChangeEvent.emit({index:this.activeTab,elem:this.elTab})}ngAfterViewInit(){const t=setTimeout(()=>{this.tabIndex===this.activeTab&&(this.activeEvent.emit({index:this.activeTab,elem:this.elTab,init:!0}),clearTimeout(t))},100)}onMouseEnter(t){this.hovered=!0,this.hoverEvent.emit({index:this.tabIndex,elem:this.elTab,init:!1})}onMouseLeave(t){this.hovered=!1}onClick(t){this.clickEvent.emit({index:this.tabIndex,elem:this.elTab,init:!1})}getHoveredStyle(){return Object.assign(Object.assign(Object.assign(Object.assign({},this.styles),this.tabStyle),this.hoveredStyles),this.tabHoveredStyle)}getActiveStyle(){return Object.assign(Object.assign(Object.assign(Object.assign({},this.styles),this.tabStyle),this.activeStyles),this.tabActiveStyle)}getStyle(){return Object.assign(Object.assign({},this.styles),this.tabStyle)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Jb({type:t,selectors:[["app-tab"]],viewQuery:function(t,e){var n;1&t&&i.Ic(s,!0),2&t&&i.yc(n=i.ec())&&(e.elTab=n.first)},inputs:{tab:"tab",tabIndex:"tabIndex",activeTab:"activeTab",tabStyle:"tabStyle",tabActiveStyle:"tabActiveStyle",tabHoveredStyle:"tabHoveredStyle"},outputs:{hoverEvent:"hoverEvent",activeEvent:"activeEvent",clickEvent:"clickEvent",tabChangeEvent:"tabChangeEvent"},features:[i.zb()],decls:4,vars:6,consts:[[1,"tab",3,"ngClass","ngStyle","click","mouseenter","mouseleave"],["elTab",""],[4,"ngIf"],["src","../../../../assets/icon/notice.png",1,"gg-notice"]],template:function(t,e){1&t&&(i.Vb(0,"div",0,1),i.dc("click",(function(t){return e.onClick(t)}))("mouseenter",(function(t){return e.onMouseEnter(t)}))("mouseleave",(function(t){return e.onMouseLeave(t)})),i.Nc(2),i.Lc(3,r,2,0,"span",2),i.Ub()),2&t&&(i.nc("ngClass",i.sc(4,a,e.activeTab===e.tabIndex))("ngStyle",e.activeTab===e.tabIndex?e.getActiveStyle():e.hovered?e.getHoveredStyle():e.getStyle()),i.Bb(2),i.Pc("",e.tab," "),i.Bb(1),i.nc("ngIf","\u670d\u52a1\u6761\u6b3e"===e.tab))},directives:[o.l,o.o,o.n],styles:[".tab[_ngcontent-%COMP%]{white-space:nowrap}.tab.active[_ngcontent-%COMP%]{color:#434343}.gg-notice[_ngcontent-%COMP%]{margin-bottom:3px;width:40px;height:21px}"]}),t})();function l(t,e){if(1&t){const t=i.Wb();i.Vb(0,"app-tab",4),i.dc("hoverEvent",(function(e){return i.Cc(t),i.gc().onTabHover(e)}))("activeEvent",(function(e){return i.Cc(t),i.gc().onTabActive(e)}))("tabChangeEvent",(function(e){return i.Cc(t),i.gc().onTabChange(e)}))("clickEvent",(function(e){return i.Cc(t),i.gc().onTabClick(e)})),i.Ub()}if(2&t){const t=e.$implicit,n=e.index,o=i.gc();i.nc("tab",t)("tabIndex",n)("activeTab",o.activeTab)("tabStyle",o.tabStyle)("tabActiveStyle",o.tabActiveStyle)("tabHoveredStyle",o.tabHoveredStyle)}}n.d(e,"a",(function(){return h}));let h=(()=>{class t{constructor(){this.tabs=[],this.tabsStyle={},this.newTabs=!1,this.tabStyle={},this.tabActiveStyle={},this.tabHoveredStyle={},this.activeShadowStyle={},this.shadowMargin=0,this.dicrection="Horizontal",this.showShadow=!0,this.showHoverShadow=!0,this.activeTabOnHover=!1,this.activeTab=0,this.justifyTabs="justify-content-start",this.selectTabEvent=new i.n,this.shadowThickness=4,this.hoverTab=0,this.shadow={left:0,width:0,top:0,height:0},this.activeShadow={left:0,width:0,top:0,height:0},this.transitionInit=!1,this.clickSelectEvent=new i.n}ngOnInit(){}ngOnChanges(t){}onTabHover(t){this.showHoverShadow&&(this.shadow.left=t.elem.nativeElement.offsetLeft,this.shadow.top=t.elem.nativeElement.offsetTop,this.shadow.width=t.elem.nativeElement.getBoundingClientRect().width,this.shadow.height=t.elem.nativeElement.getBoundingClientRect().height),this.activeTabOnHover&&this.onTabActive(t)}onTabChange(t){this.activeTab=t.index,this.showShadow&&(this.activeShadow.left=t.elem.nativeElement.offsetLeft,this.activeShadow.top=t.elem.nativeElement.offsetTop,this.activeShadow.width=t.elem.nativeElement.getBoundingClientRect().width,this.activeShadow.height=t.elem.nativeElement.getBoundingClientRect().height),this.showHoverShadow&&(this.shadow.left=t.elem.nativeElement.offsetLeft,this.shadow.top=t.elem.nativeElement.offsetTop,this.shadow.width=t.elem.nativeElement.getBoundingClientRect().width,this.shadow.height=t.elem.nativeElement.getBoundingClientRect().height)}onTabActive(t){if(this.onTabChange(t),t.init){const t=setTimeout(()=>{this.transitionInit=!0,clearTimeout(t)},100)}this.selectTabEvent.emit(this.activeTab)}onTabClick(t){this.clickSelectEvent.emit(!0),this.onTabActive(t)}onMouseLeave(){this.showHoverShadow&&(this.shadow.left=this.activeShadow.left,this.shadow.top=this.activeShadow.top,this.shadow.width=this.activeShadow.width,this.shadow.height=this.activeShadow.height)}shadowStyles(t){const e={transition:this.transitionInit?"all 0.3s ease-in-out":"none"},n=this.getShadowRect(t);return Object.assign(Object.assign(Object.assign({},e),n),this.activeShadowStyle)}getShadowRect(t){this.shadowThickness=0===this.zeroShadowThickness?this.zeroShadowThickness:4;const e={};if(this.showShadow){if(t&&"Horizontal"===this.dicrection)return e.left=this.activeShadow.left+"px",e.width=this.activeShadow.width+"px",e.height=this.shadowThickness+"px",e.bottom=0,e;if(t&&"Horizontal"!==this.dicrection)return e.top=this.activeShadow.top+this.shadowMargin+"px",e.height=this.activeShadow.height-2*this.shadowMargin+"px",e.width=this.shadowThickness+"px",e}if(this.showHoverShadow){if(!t&&"Horizontal"===this.dicrection)return e.left=this.shadow.left+"px",e.width=this.shadow.width+"px",e.height=this.shadowThickness+"px",e.bottom=0,e;if(!t&&"Horizontal"!==this.dicrection)return e.top=this.shadow.top+this.shadowMargin+"px",e.height=this.shadow.height-2*this.shadowMargin+"px",e.width=this.shadowThickness+"px",e}}getTabsClasses(){return"Horizontal"===this.dicrection?this.newTabs?"d-flex "+this.justifyTabs+" newTabs":"activity"===this.hostPage?"d-flex "+this.justifyTabs+" activityStyle":"d-flex "+this.justifyTabs:""}getTabsStyles(){return this.tabsStyle}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Jb({type:t,selectors:[["app-tabs"]],inputs:{tabs:"tabs",tabsStyle:"tabsStyle",newTabs:"newTabs",tabStyle:"tabStyle",tabActiveStyle:"tabActiveStyle",tabHoveredStyle:"tabHoveredStyle",activeShadowStyle:"activeShadowStyle",shadowMargin:"shadowMargin",dicrection:"dicrection",showShadow:"showShadow",showHoverShadow:"showHoverShadow",activeTabOnHover:"activeTabOnHover",activeTab:"activeTab",justifyTabs:"justifyTabs",zeroShadowThickness:"zeroShadowThickness",hostPage:"hostPage"},outputs:{selectTabEvent:"selectTabEvent",clickSelectEvent:"clickSelectEvent"},features:[i.zb()],decls:4,vars:5,consts:[[1,"tabs",3,"ngClass","ngStyle","mouseleave"],[1,"shadow",3,"ngStyle"],[1,"active-shadow",3,"ngStyle"],[3,"tab","tabIndex","activeTab","tabStyle","tabActiveStyle","tabHoveredStyle","hoverEvent","activeEvent","tabChangeEvent","clickEvent",4,"ngFor","ngForOf"],[3,"tab","tabIndex","activeTab","tabStyle","tabActiveStyle","tabHoveredStyle","hoverEvent","activeEvent","tabChangeEvent","clickEvent"]],template:function(t,e){1&t&&(i.Vb(0,"div",0),i.dc("mouseleave",(function(t){return e.onMouseLeave()})),i.Qb(1,"div",1),i.Qb(2,"div",2),i.Lc(3,l,1,6,"app-tab",3),i.Ub()),2&t&&(i.nc("ngClass",e.getTabsClasses())("ngStyle",e.getTabsStyles()),i.Bb(1),i.nc("ngStyle",e.shadowStyles(!1)),i.Bb(1),i.nc("ngStyle",e.shadowStyles(!0)),i.Bb(1),i.nc("ngForOf",e.tabs))},directives:[o.l,o.o,o.m,c],styles:[".tabs[_ngcontent-%COMP%]{position:relative;width:100%}.tabs.newTabs[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.3);padding:0 120px;font-weight:700}.tabs.activityStyle[_ngcontent-%COMP%]{flex-wrap:wrap;width:440px}.active-shadow[_ngcontent-%COMP%], .shadow[_ngcontent-%COMP%]{position:absolute;box-shadow:none!important}.active-shadow[_ngcontent-%COMP%]{background-color:#00c0ff}.light[_nghost-%COMP%]   .shadow[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .shadow[_ngcontent-%COMP%]{background-color:#ddd}@media (max-width:1439px){.tabs.activityStyle[_ngcontent-%COMP%]{width:305px}}"]}),t})()},PqYM:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n("HDdC"),o=n("D0XW"),s=n("Y7HM"),r=n("z+Ro");function a(t=0,e,n){let a=-1;return Object(s.a)(e)?a=Number(e)<1?1:Number(e):Object(r.a)(e)&&(n=e),Object(r.a)(n)||(n=o.a),new i.a(e=>{const i=Object(s.a)(t)?t:+t-n.now();return n.schedule(c,i,{index:0,period:a,subscriber:e})})}function c(t){const{index:e,period:n,subscriber:i}=t;if(i.next(e),!i.closed){if(-1===n)return i.complete();t.index=e+1,this.schedule(t,n)}}},PzH3:function(t,e,n){"use strict";var i=n("KRns"),o=n("Ys8N"),s=global.document,r=function(t,e,n,i){return t.addEventListener(e,n,i)},a=function(t,e,n,i){return t.removeEventListener(e,n,i)},c=[];function l(t,e,n){var i=function(t,e,n){var i,o;for(i=0;i<c.length;i++)if((o=c[i]).element===t&&o.type===e&&o.fn===n)return i}(t,e,n);if(i){var o=c[i].wrapper;return c.splice(i,1),o}}global.addEventListener||(r=function(t,e,n){return t.attachEvent("on"+e,function(t,e,n){var i=l(t,e,n)||function(t,e,n){return function(e){var i=e||global.event;i.target=i.target||i.srcElement,i.preventDefault=i.preventDefault||function(){i.returnValue=!1},i.stopPropagation=i.stopPropagation||function(){i.cancelBubble=!0},i.which=i.which||i.keyCode,n.call(t,i)}}(t,0,n);return c.push({wrapper:i,element:t,type:e,fn:n}),i}(t,e,n))},a=function(t,e,n){var i=l(t,e,n);if(i)return t.detachEvent("on"+e,i)}),t.exports={add:r,remove:a,fabricate:function(t,e,n){var r=-1===o.indexOf(e)?new i(e,{detail:n}):function(){var t;return s.createEvent?(t=s.createEvent("Event")).initEvent(e,!0,!0):s.createEventObject&&(t=s.createEventObject()),t}();t.dispatchEvent?t.dispatchEvent(r):t.fireEvent("on"+e,r)}}},Q0zv:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var i=n("2Vo4"),o=n("Njeq"),s=n("tWDZ"),r=n("lJxs"),a=n("etJ/"),c=n("fXoL");let l=(()=>{class t{constructor(t,e,n){this._httpClientHelper=t,this._apiUrlHelper=e,this._storage=n,this._region=new i.a(""),this.region$=this._region.asObservable()}switchRegion(t){const e=this._apiUrlHelper.urlBuilder("switch-region",{region:t});return this._httpClientHelper.get(e).pipe(Object(r.a)(t=>(this._storage.SetConfig({region:t[0].regionCode}),this._region.next(t[0]),t[0])))}}return t.\u0275fac=function(e){return new(e||t)(c.Zb(s.a),c.Zb(o.a),c.Zb(a.a))},t.\u0275prov=c.Lb({token:t,factory:t.\u0275fac}),t})()},Q4H4:function(t,e,n){"use strict";n.r(e);var i=n("ofXK"),o=n("iWjc"),s=n("tyNb"),r=n("jBNF"),a=n("c0WJ"),c=n("1XPh"),l=n("fXoL");let h=(()=>{class t{constructor(t){this._playHistoryService=t,this.current=0,this.duration=0,this.margin=2}assingVideo(t){this.video=t}veryBeginning(){return this.current<this.duration/100*this.margin}veryEnd(){return this.current>this.duration*(100-this.margin)/100}getMedia(){this.media={},Object.keys(this.video.playlist).map(t=>{const e=this.video.playlist[t].medias.filter(t=>t.key===this.mediaKey);e.length>0&&(this.media=e[0])})}nextMedia(){let t="";return["tv-series","anime","variety"].includes(this.video.category)?(Object.keys(this.video.playlist).map(e=>{const n=this.video.playlist[e].medias.findIndex(t=>t.id===this.media.id);n>-1&&n<this.video.playlist[e].medias.length-1&&(t=this.video.playlist[e].medias[n+1].id)}),t):t}save(t,e,n){if(this.mediaKey=n,this.getMedia(),!this.video)return;if(!this.media)return;if(this.current=t,this.duration=e,this.veryBeginning())return;const i={vid:this.video.id,vKey:this.video.key,title:this.video.title,category:this.video.category,mid:this.media.id,mKey:this.media.key,mTitle:this.media.title,nextMid:this.nextMedia(),current:t,duration:e,timestamp:Date.now().toString()};this._playHistoryService.pushLocalPlayHistory(i)}getFromLocal(){return this._playHistoryService.getLocalPlayHistoryById(this.video.id)}}return t.\u0275fac=function(e){return new(e||t)(l.Zb(a.a))},t.\u0275prov=l.Lb({token:t,factory:t.\u0275fac}),t})();var d=n("0Xxy"),u=n("bTYh"),g=n("bTnO"),p=n("6nLG"),f=n("b1b0"),b=n("5kbV"),m=n("syxV"),v=n("pLpv"),y=n("3My9"),C=n("AytR"),_=n("etJ/"),x=n("xMFu"),P=n("OnY+"),w=n("Qa7H"),O=n("fWe4"),M=n("tWDZ"),k=n("KTAx"),S=n("8V5e"),I=n("Njeq"),L=n("lJxs"),T=n("+6MP"),A=n("ciLT"),N=n("Zgu1"),B=n("kizo");const V=["summaryBox"],U=function(t,e){return{expanded:t,"should-hide":e}};function D(t,e){if(1&t&&l.Qb(0,"div",1,2),2&t){const t=l.gc();l.nc("ngClass",l.tc(2,U,t.expanded,t.shouldHide))("innerHTML",t.text,l.Dc)}}function E(t,e){if(1&t&&l.Qb(0,"span",1,2),2&t){const t=l.gc();l.nc("ngClass",l.tc(2,U,t.expanded,t.shouldHide))("innerHTML",t.brief,l.Dc)}}let R=(()=>{class t{constructor(){this.shouldHide=!1,this.expanded=!1}ngOnInit(){}ngOnChanges(t){this.text=this.summary}ngAfterViewInit(){}onClick(){this.expanded=!this.expanded}stripHtml(t){const e=document.createElement("div");return e.innerHTML=t.replace("\u3000","\r\n"),e.textContent||e.innerText||""}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Jb({type:t,selectors:[["app-summary"]],viewQuery:function(t,e){var n;1&t&&l.Ic(V,!0),2&t&&l.yc(n=l.ec())&&(e.elementView=n.first)},inputs:{summary:"summary"},features:[l.zb()],decls:2,vars:2,consts:[["class","summary",3,"ngClass","innerHTML",4,"ngIf"],[1,"summary",3,"ngClass","innerHTML"],["summaryBox",""]],template:function(t,e){1&t&&(l.Lc(0,D,2,5,"div",0),l.Lc(1,E,2,5,"span",0)),2&t&&(l.nc("ngIf",!e.brief||e.expanded),l.Bb(1),l.nc("ngIf",e.brief&&!e.expanded))},directives:[i.n,i.l],styles:[".summary[_ngcontent-%COMP%]{font-size:16px;line-height:1.5;overflow:hidden;text-overflow:ellipsis;white-space:pre-wrap;-webkit-transition:all .5s ease-in-out;transition:all .5s ease-in-out;max-width:77em;max-height:12em;overflow-y:auto}.summary.expanded[_ngcontent-%COMP%]{max-height:500px!important;-webkit-transition:all .5s ease-out;transition:all .5s ease-out}.summary.should-hide[_ngcontent-%COMP%]{max-height:6rem}.expander[_ngcontent-%COMP%]{color:#00a8ec!important}.expander[_ngcontent-%COMP%]:hover{color:#1278ba!important}"]}),t})();var F=n("Z7g2");n("I2Dd"),n("mUY/"),n("EEnh");let j=(()=>{class t{constructor(t,e,n,i,o,s){this._amChartsService=t,this._videoService=e,this._route=n,this._storage=i,this._windowService=o,this._utility=s,this.chatMode=1,this.screenType=B.a,this.isDark=!1,this.containerSize={height:150,width:300}}ngOnDestroy(){this.constellationChart&&this._amChartsService.destroyChart(this.constellationChart)}ngOnChanges(t){var e;(null===(e=t.videoKey)||void 0===e?void 0:e.currentValue)&&this.createChat()}ngOnInit(){this._utility.GetOrCreateSubscript("theme.change").subscribe(t=>{this.isDark="dark"==t,this.constellationChart=this._amChartsService.makeChart("chartdiv",this.renderChart(this.dataProvider))}),this.constellationChart=this._amChartsService.makeChart("chartdiv",this.renderChart(this.dataProvider)),this.isDark=!!parseInt(this._storage.GetConfig().isDark||"1")}renderChart(t){let e=360;switch(this.screenSize){case this.screenType.Small:case this.screenType.Medium:e=150,this.containerSize={width:300,height:340};break;case this.screenType.Large:e=320,this.containerSize={width:600,height:340};break;default:e=360,this.containerSize={width:670,height:340}}const n={type:"pie",theme:"light",addClassNames:!0,startDuration:0,dataProvider:t,labelText:"[[title]]",valueField:"value",titleField:"constellation",outlineAlpha:0,depth3D:0,balloonText:"[[title]]<br><span style='font-size:14px'>([[percents]]%)</span>",angle:0,export:{enabled:!0},balloon:{enabled:!1},color:this.isDark?"rgba(236, 236, 238, 0.4)":"#888888"};return n.legend={position:"absolute",right:0,width:e,fontSize:15,markerSize:12,maxColumns:2,align:"center",color:this.isDark?"rgba(236, 236, 238, 0.4)":"#888888",top:-5,markerType:"circle",switchable:!1,valueText:"[[percents]]%",valueWidth:70},n}ngAfterViewInit(){this._windowService.size$.subscribe(t=>{this.screenSize=t,this.data&&setTimeout(()=>{this.constellationChart=this._amChartsService.makeChart("chartdiv",this.renderChart(this.dataProvider))},10)})}createChat(){this._videoService.getStatistics(this.videoKey).subscribe(t=>{this.data=t;const e=[],n=[],i=[];for(const o in this.data.AgeSexCount)this.data.AgeSexCount.hasOwnProperty(o)&&"\u672a\u77e5"!==o&&0!==this.data.AgeSexCount[o]&&n.push({constellation:o,value:this.data.AgeSexCount[o]});switch(this.chatMode){case 0:this.dataProvider=e;break;case 1:this.dataProvider=n;break;case 2:this.dataProvider=i;break;default:this.dataProvider=e}setTimeout(()=>{this.constellationChart=this._amChartsService.makeChart("chartdiv",this.renderChart(this.dataProvider))},500)})}}return t.\u0275fac=function(e){return new(e||t)(l.Pb(F.b),l.Pb(r.a),l.Pb(s.a),l.Pb(_.a),l.Pb(B.b),l.Pb(y.a))},t.\u0275cmp=l.Jb({type:t,selectors:[["app-play-statistics"]],inputs:{videoKey:"videoKey"},features:[l.zb()],decls:5,vars:4,consts:[[1,"statistics"],[1,"py-3","mb-4","text-left"],[1,"chart-container"],["id","chartdiv"]],template:function(t,e){1&t&&(l.Vb(0,"div",0),l.Vb(1,"h4",1),l.Nc(2,"\u559c\u6b22\u6b64\u5267\u7684\u4eba\u7fa4\uff1a"),l.Ub(),l.Vb(3,"div",2),l.Qb(4,"div",3),l.Ub(),l.Ub()),2&t&&(l.Bb(4),l.Kc("width",100,"%")("height",e.containerSize.height,"px"))},styles:[".statistics[_ngcontent-%COMP%]{margin-bottom:-9em}.chart-container[_ngcontent-%COMP%]{width:52em;margin-top:52px}.py-3[_ngcontent-%COMP%]{color:hsla(0,0%,100%,.4)}.light[_nghost-%COMP%]   .py-3[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .py-3[_ngcontent-%COMP%]{color:#333}"]}),t})();function z(t,e){if(1&t){const t=l.Wb();l.Vb(0,"button",7),l.dc("click",(function(n){l.Cc(t);const i=e.index;return l.gc().selectPeriod(i)})),l.Nc(1),l.Ub()}if(2&t){const t=e.$implicit,n=e.index,i=l.gc();l.Gb("active",i.currentPeriods===n),l.Bb(1),l.Oc(t.label)}}function H(t,e){1&t&&l.Qb(0,"div",8),2&t&&l.Kc("width",90,"%")("height",250,"px")}function G(t,e){1&t&&(l.Vb(0,"div",9),l.Nc(1,"\u6682\u65e0\u6570\u636e"),l.Ub())}n("/iZL");let W=(()=>{class t{constructor(t,e,n,i,o){this.AmCharts=t,this._videoService=e,this._route=n,this._storage=i,this._utility=o,this.isDark=!1,this.periods=[{label:"\u5468"},{label:"\u6708"},{label:"\u5e74"},{label:"\u5168\u90e8"}],this.emptyChart=!1,this.currentPeriods=0}ngOnChanges(t){var e;(null===(e=t.videoKey)||void 0===e?void 0:e.currentValue)&&this.createChat()}ngOnInit(){this._utility.GetOrCreateSubscript("theme.change").subscribe(t=>{this.isDark="dark"==t,this.chart2=this.AmCharts.makeChart("chartdiv2",this.makeOptions(this.data))}),this.isDark=!!parseInt(this._storage.GetConfig().isDark||"1")}selectPeriod(t){this.emptyChart=!1,this.currentPeriods=t,this.createChat()}createChat(){this._videoService.getPopularityTrend(this.videoKey,this.currentPeriods).subscribe(t=>{var e;null==t||null==t.result||t.result.length?(this.emptyChart=!1,this.data=null===(e=t.result)||void 0===e?void 0:e.map(t=>{const e=new Date(t.date.split("+")[0]);return e.getMonth(),e.getDate(),e.getHours(),e.getFullYear(),{day:t.key,value:t.hot}}),this.chart2=this.AmCharts.makeChart("chartdiv2",this.makeOptions(this.data))):this.emptyChart=!0})}makeOptions(t){return{addClassNames:!0,type:"serial",theme:"light",marginTop:0,dataProvider:t,valueAxes:[{gridAlpha:0,position:"left",title:"\u70ed\u5ea6",titleColor:"transparent",color:"rgba(236, 236, 238, 0.4)",labelsEnabled:!1,axisColor:this.isDark?"rgba(236, 236, 238, 0.4)":"#888",axisThickness:2}],allLabels:[{text:"\u70ed\u5ea6",size:12,x:0,y:0,color:this.isDark?"rgba(236, 236, 238, 0.4)":"#888"}],graphs:[{id:"g1",balloonText:"[[value]]",bullet:"round",bulletSize:8,lineColor:"#01bdfc",lineThickness:2,negativeLineColor:"#637bb6",valueField:"value",labelsEnabled:!1}],chartScrollbar:{enabled:!1},chartCursor:{behavior:"none",categoryBalloonEnabled:!1,cursorAlpha:0,categoryBalloonColor:"#01bdfc",cursorColor:"rgba(236, 236, 238, 0.4)"},dataDateFormat:"YYYY",categoryField:"day",categoryAxis:{minPeriod:"DD",gridAlpha:0,minorGridAlpha:0,color:this.isDark?"rgba(236, 236, 238, 0.4)":"#888",axisColor:this.isDark?"rgba(236, 236, 238, 0.4)":"#888",axisThickness:2,balloon:{enabled:!1}},zoomOutButtonImage:"",zoomOutText:"\u5c55\u793a\u6240\u6709"}}ngOnDestroy(){this.chart2&&this.AmCharts.destroyChart(this.chart2)}}return t.\u0275fac=function(e){return new(e||t)(l.Pb(F.b),l.Pb(r.a),l.Pb(s.a),l.Pb(_.a),l.Pb(y.a))},t.\u0275cmp=l.Jb({type:t,selectors:[["app-trending-chart"]],inputs:{videoKey:"videoKey"},features:[l.zb()],decls:8,vars:3,consts:[[1,""],[1,"py-3","mb-4","d-flex","align-items-center"],[1,"text-left","chart-title"],["class","margin-right: 5px;",3,"active","click",4,"ngFor","ngForOf"],[1,"chart-container"],["id","chartdiv2",3,"width","height",4,"ngIf"],["class","no-data",4,"ngIf"],[1,"margin-right:","5px;",3,"click"],["id","chartdiv2"],[1,"no-data"]],template:function(t,e){1&t&&(l.Vb(0,"div",0),l.Vb(1,"div",1),l.Vb(2,"h4",2),l.Nc(3,"\u4eba\u6c14\u8d70\u5411\uff1a"),l.Ub(),l.Lc(4,z,2,3,"button",3),l.Ub(),l.Vb(5,"div",4),l.Lc(6,H,1,4,"div",5),l.Lc(7,G,2,0,"div",6),l.Ub(),l.Ub()),2&t&&(l.Bb(4),l.nc("ngForOf",e.periods),l.Bb(2),l.nc("ngIf",!e.emptyChart),l.Bb(1),l.nc("ngIf",e.emptyChart))},directives:[i.m,i.n],styles:[".statistics[_ngcontent-%COMP%]{margin-bottom:-9em}.chart-container[_ngcontent-%COMP%]{width:52em;min-height:220px;position:relative}.chart-title[_ngcontent-%COMP%]{color:hsla(0,0%,100%,.4)}.light[_nghost-%COMP%]   .chart-title[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .chart-title[_ngcontent-%COMP%]{color:#333}button[_ngcontent-%COMP%]{width:60px;height:22px;background-color:#1c1d2f!important;border:none;margin-right:12px;outline:none;color:hsla(0,0%,100%,.7)}.light[_nghost-%COMP%]   button[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   button[_ngcontent-%COMP%]{background-color:#f8f8f8!important;color:#888}button.active[_ngcontent-%COMP%]{color:#00c0ff!important}.no-data[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;font-size:22px;color:hsla(0,0%,100%,.4);-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.light[_nghost-%COMP%]   .no-data[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .no-data[_ngcontent-%COMP%]{color:#888}"]}),t})();var q=n("Le4d");function Q(t,e){if(1&t&&(l.Vb(0,"h4",32),l.Nc(1),l.Ub()),2&t){const t=l.gc(2);l.Bb(1),l.Pc("",t.mediaTitle," ")}}const $=function(t){return{active:t}},K=function(t){return{"rotate-180":t}};function X(t,e){if(1&t){const t=l.Wb();l.Vb(0,"span",7),l.dc("click",(function(e){return l.Cc(t),l.gc(2).tap("all")})),l.Qb(1,"i",33),l.Nc(2,"\u7edf\u8ba1"),l.Qb(3,"i",9),l.Ub()}if(2&t){const t=l.gc(2);l.nc("ngClass",l.sc(2,$,"all"==t.action)),l.Bb(3),l.nc("ngClass",l.sc(4,K,"all"==t.action))}}function Y(t,e){if(1&t&&(l.Vb(0,"span",35),l.Nc(1),l.Ub()),2&t){const t=e.$implicit;l.Bb(1),l.Oc(t)}}function Z(t,e){if(1&t&&(l.Vb(0,"div",14),l.Lc(1,Y,2,1,"span",34),l.Ub()),2&t){const t=l.gc(2);l.Bb(1),l.nc("ngForOf",t.tagList)}}function J(t,e){if(1&t&&(l.Vb(0,"span",36),l.Nc(1),l.hc(2,"date"),l.Ub()),2&t){const t=l.gc(2);l.Bb(1),l.Oc(l.jc(2,1,t.video.addTime,"yyyy-MM-dd hh:mm"))}}function tt(t,e){1&t&&l.Qb(0,"div",37)}function et(t,e){if(1&t&&(l.Vb(0,"div",14),l.Vb(1,"div",38),l.Vb(2,"div",39),l.Nc(3),l.hc(4,"number"),l.Ub(),l.Vb(5,"div",40),l.Nc(6,"\u5206"),l.Ub(),l.Ub(),l.Ub()),2&t){const t=l.gc(2);l.Bb(3),l.Oc(l.jc(4,1,t.video.userData.rate,"1.1-1"))}}const nt=function(t){return{opened:t}};function it(t,e){if(1&t&&(l.Vb(0,"div",41),l.Qb(1,"app-play-statistics",42),l.Qb(2,"app-trending-chart",42),l.Ub()),2&t){const t=l.gc(2);l.nc("ngClass",l.sc(3,nt,"all"==t.action)),l.Bb(1),l.nc("videoKey",t.video.key),l.Bb(1),l.nc("videoKey",t.video.key)}}function ot(t,e){if(1&t&&(l.Vb(0,"div",43),l.Qb(1,"img",44),l.hc(2,"safeResource"),l.Ub()),2&t){const t=l.gc(2);l.Bb(1),l.pc("src","",l.ic(2,1,t.video.image),"?w=216&height=309&format=jpg&mode=stretch",l.Fc)}}function st(t,e){if(1&t&&(l.Vb(0,"div",45),l.Vb(1,"span",30),l.Nc(2,"\u6dfb\u52a0\uff1a"),l.Ub(),l.Vb(3,"span"),l.Nc(4),l.Ub(),l.Ub()),2&t){const t=l.gc(2);l.Bb(4),l.Oc(t.video.created)}}function rt(t,e){if(1&t&&(l.Vb(0,"div",46),l.Vb(1,"span",30),l.Nc(2,"\u66f4\u65b0\uff1a"),l.Ub(),l.Vb(3,"span"),l.Nc(4),l.Ub(),l.Ub()),2&t){const t=l.gc(2);l.Bb(4),l.Oc(t.video.inProgress?t.video.updateSchedule:"\u5df2\u5b8c\u7ed3")}}function at(t,e){if(1&t&&(l.Vb(0,"div",47),l.Vb(1,"span",30),l.Nc(2,"\u5bfc\u6f14\uff1a"),l.Ub(),l.Vb(3,"span"),l.Nc(4),l.Ub(),l.Ub()),2&t){const t=l.gc(2);l.Bb(4),l.Oc(t.video.directors)}}function ct(t,e){if(1&t&&(l.Vb(0,"div",48),l.Vb(1,"span",30),l.Nc(2,"\u8d44\u8d39\uff1a"),l.Ub(),l.Vb(3,"span",49),l.Nc(4),l.Ub(),l.Ub()),2&t){const t=l.gc(2);l.Bb(4),l.Oc(t.video.isFree?"\u514d\u8d39":"\u6536\u8d39")}}function lt(t,e){1&t&&(l.Vb(0,"span"),l.Nc(1,"\u672a\u77e5"),l.Ub())}const ht=function(t){return{tag:t}};function dt(t,e){if(1&t&&(l.Vb(0,"a",55),l.Vb(1,"span",35),l.Nc(2),l.Ub(),l.Ub()),2&t){const t=e.$implicit;l.nc("queryParams",l.sc(2,ht,t)),l.Bb(2),l.Pc(" ",t," ")}}function ut(t,e){if(1&t&&(l.Vb(0,"div",53),l.Lc(1,dt,3,4,"a",54),l.Ub()),2&t){const t=l.gc(3);l.Bb(1),l.nc("ngForOf",t.video.tags)}}function gt(t,e){if(1&t&&(l.Vb(0,"div",50),l.Vb(1,"span",30),l.Nc(2,"\u5185\u5bb9\uff1a"),l.Ub(),l.Lc(3,lt,2,0,"span",51),l.Lc(4,ut,2,1,"div",52),l.Ub()),2&t){const t=l.gc(2);l.Bb(3),l.nc("ngIf",!t.video.tags.length),l.Bb(1),l.nc("ngIf",t.video.tags.length)}}function pt(t,e){if(1&t&&(l.Vb(0,"div",56),l.Vb(1,"span",30),l.Nc(2,"\u5175\u79cd\uff1a "),l.Ub(),l.Vb(3,"span",57),l.Nc(4),l.Ub(),l.Ub()),2&t){const t=l.gc(2);l.Bb(4),l.Pc(" ",t.video.mosaic?"\u9a91\u5175":"\u6b65\u5175"," ")}}function ft(t,e){1&t&&(l.Vb(0,"span",63),l.Nc(1,"\u4e3b\u6f14\uff1a"),l.Ub())}function bt(t,e){1&t&&(l.Vb(0,"span",30),l.Nc(1,"\u5973\u4f18\uff1a "),l.Ub())}function mt(t,e){1&t&&(l.Vb(0,"div",64),l.Vb(1,"span"),l.Nc(2,"\u672a\u77e5"),l.Ub(),l.Ub())}function vt(t,e){1&t&&(l.Vb(0,"span",69),l.Nc(1,"/"),l.Ub())}const yt=function(){return{type:"star"}};function Ct(t,e){if(1&t&&(l.Vb(0,"span"),l.Vb(1,"a",67),l.Nc(2),l.Ub(),l.Lc(3,vt,2,0,"span",68),l.Ub()),2&t){const t=e.$implicit,n=e.last;l.Bb(1),l.nc("routerLink","/search/"+t)("queryParams",l.rc(4,yt)),l.Bb(1),l.Oc(t),l.Bb(1),l.nc("ngIf",!n)}}function _t(t,e){if(1&t&&(l.Vb(0,"div",65),l.Lc(1,Ct,4,5,"span",66),l.Ub()),2&t){const t=l.gc(3);l.Bb(1),l.nc("ngForOf",t.video.actors)}}function xt(t,e){if(1&t&&(l.Vb(0,"div",58),l.Lc(1,ft,2,0,"span",59),l.Lc(2,bt,2,0,"span",60),l.Lc(3,mt,3,0,"div",61),l.Lc(4,_t,2,1,"div",62),l.Ub()),2&t){const t=l.gc(2);l.Bb(1),l.nc("ngIf",!t.isAdult),l.Bb(1),l.nc("ngIf",t.isAdult),l.Bb(1),l.nc("ngIf",!(null!=t.video.actors&&t.video.actors.length)),l.Bb(1),l.nc("ngIf",null==t.video.actors?null:t.video.actors.length)}}const Pt=function(t,e){return{top:t,opened:e}},wt=function(t){return{height:t}};function Ot(t,e){if(1&t){const t=l.Wb();l.Vb(0,"div",1),l.Vb(1,"div",2),l.Vb(2,"h4",3),l.Nc(3),l.Ub(),l.Lc(4,Q,2,1,"h4",4),l.Ub(),l.Vb(5,"div",5),l.Vb(6,"div",6),l.Vb(7,"span",7),l.dc("click",(function(e){return l.Cc(t),l.gc().tap("detail")})),l.Qb(8,"i",8),l.Nc(9),l.Qb(10,"i",9),l.Ub(),l.Lc(11,X,4,6,"span",10),l.Ub(),l.Lc(12,Z,2,1,"div",11),l.Vb(13,"div",12),l.Lc(14,J,3,4,"span",13),l.Vb(15,"div",14),l.Qb(16,"i",15),l.Vb(17,"span",16),l.Nc(18),l.hc(19,"chineseCounter"),l.Ub(),l.Ub(),l.Lc(20,tt,1,0,"div",17),l.Lc(21,et,7,4,"div",11),l.Ub(),l.Ub(),l.Lc(22,it,3,5,"div",18),l.Vb(23,"div",19),l.Lc(24,ot,3,3,"div",20),l.Vb(25,"div",21),l.Lc(26,st,5,1,"div",22),l.Lc(27,rt,5,1,"div",23),l.Lc(28,at,5,1,"div",24),l.Lc(29,ct,5,1,"div",25),l.Lc(30,gt,5,2,"div",26),l.Lc(31,pt,5,1,"div",27),l.Lc(32,xt,5,4,"div",28),l.Vb(33,"div",29),l.Vb(34,"span",30),l.Nc(35,"\u7b80\u4ecb\uff1a "),l.Ub(),l.Qb(36,"app-summary",31),l.Ub(),l.Ub(),l.Ub(),l.Ub()}if(2&t){const t=l.gc();l.Bb(3),l.Oc(t.video.title),l.Bb(1),l.nc("ngIf",!!t.mediaTitle&&t.video.isMediaTitleVisible),l.Bb(3),l.nc("ngClass",l.sc(25,$,"detail"==t.action)),l.Bb(2),l.Oc("video"===t.type?"\u8be6\u60c5":"\u7b80\u4ecb"),l.Bb(1),l.nc("ngClass",l.sc(27,K,"detail"==t.action)),l.Bb(1),l.nc("ngIf","video"===t.type),l.Bb(1),l.nc("ngIf","video"===t.type),l.Bb(2),l.nc("ngIf","top"===t.type),l.Bb(4),l.Oc(l.ic(19,23,t.video.userData.viewCount)),l.Bb(2),l.nc("ngIf","video"===t.type),l.Bb(1),l.nc("ngIf","video"===t.type),l.Bb(1),l.nc("ngIf","video"===t.type),l.Bb(1),l.nc("ngClass",l.tc(29,Pt,"top"===t.type,"detail"==t.action))("ngStyle",l.sc(32,wt,"detail"===t.action?t.introHeight:0)),l.Bb(1),l.nc("ngIf","video"===t.type),l.Bb(2),l.nc("ngIf","video"===t.type),l.Bb(1),l.nc("ngIf",t.video.updateSchedule&&!t.isAdult),l.Bb(1),l.nc("ngIf",(null==t.video.directors?null:t.video.directors.length)&&!t.isAdult),l.Bb(1),l.nc("ngIf",t.isAdult),l.Bb(1),l.nc("ngIf",t.isAdult),l.Bb(1),l.nc("ngIf",t.isAdult),l.Bb(1),l.nc("ngIf","video"===t.type),l.Bb(4),l.nc("summary",t.video.summary||t.video.contxt)}}let Mt=(()=>{class t{constructor(t){this._categoryService=t,this.isAdult=2===C.a.cinema,this.screenType=B.a,this.mediaTitle="",this.type="video",this.queryNav={},this.navKey="",this.introHeight="352px",this.action="",this.tagList=[]}get video(){return this._video}set video(t){t&&(this.navKey=this.getNavKey(t.category),this.queryNav=this.getNavQuery(t.category),this.getTagList(t)),this._video=t}ngOnInit(){}tap(t){this.action=this.action==t?"":t}getRatingBarWidth(){return this.screenSize===B.a.Small?150:this.screenSize===B.a.Medium?100:this.screenSize===B.a.Large?160:218}getNavKey(t){switch(t){case"sport":case"chinese":case"games":return"/list";case"movie":return"/movies"}return"/"+t}getNavQuery(t){switch(t){case"sport":return{cid:"0,1,95"};case"chinese":return{cid:"0,1,8"};case"games":return{cid:"0,1,100"}}return""}getTagList(t){this.tagList=[];var e=this.cidMapperArray(t.cidMapper);this.tagList.push(e.length>1?e[0]:t.genre),e.length>2&&this.tagList.push(e[1]),e.length>3&&this.tagList.push(e[2]),this.tagList.push(t.region),this.tagList.push(t.published),this.tagList.push(t.language)}getIntroHeight(){}cidMapperArray(t){return t?t.split(","):[]}}return t.\u0275fac=function(e){return new(e||t)(l.Pb(S.a))},t.\u0275cmp=l.Jb({type:t,selectors:[["app-video-info"]],inputs:{mediaTitle:"mediaTitle",video:"video",screenSize:"screenSize",type:"type"},decls:1,vars:1,consts:[["class","video-detail",4,"ngIf"],[1,"video-detail"],[2,"margin-bottom","28px"],[1,"d-inline","h4"],["class","d-inline h4","style","margin-left:1em",4,"ngIf"],[1,"linear","d-flex",2,"margin-bottom","28px"],[1,"linear-left"],[1,"action",3,"ngClass","click"],[1,"iconfont","iconxiangqing"],[1,"iconfont","iconjiantou_liebiaozhankai",3,"ngClass"],["class","action",3,"ngClass","click",4,"ngIf"],["class","d-flex align-items-center",4,"ngIf"],[1,"d-inline-flex","align-items-center",2,"height","24px"],["class","mr-2",4,"ngIf"],[1,"d-flex","align-items-center"],[1,"iconfont","iconrenqi","d-block","mr-2",2,"color","#fe6f71","top","auto"],[1,"mr-0","fs-14"],["style","margin: 0 15px; width: 1px; height: 15px; background-color: rgba(255, 255, 255, 0.2);",4,"ngIf"],["class","d-flex openner statistics",3,"ngClass",4,"ngIf"],["id","introDiv",1,"d-flex","openner",3,"ngClass","ngStyle"],["class","img",4,"ngIf"],[1,"intro"],["class","created d-flex",4,"ngIf"],["class","updateSchedule d-flex",4,"ngIf"],["class","directors d-flex",4,"ngIf"],["class","isFree d-flex",4,"ngIf"],["class","tags d-flex",4,"ngIf"],["class","mosaic d-flex",4,"ngIf"],["class","d-flex","style","white-space: nowrap",4,"ngIf"],[1,"d-flex"],[1,"info-label"],[3,"summary"],[1,"d-inline","h4",2,"margin-left","1em"],[1,"iconfont","iconshujutongji"],["class","tag",4,"ngFor","ngForOf"],[1,"tag"],[1,"mr-2"],[2,"margin","0 15px","width","1px","height","15px","background-color","rgba(255, 255, 255, 0.2)"],[1,"rate"],[1,"value"],[1,"rate-label"],[1,"d-flex","openner","statistics",3,"ngClass"],[3,"videoKey"],[1,"img"],[3,"src"],[1,"created","d-flex"],[1,"updateSchedule","d-flex"],[1,"directors","d-flex"],[1,"isFree","d-flex"],[2,"display","inline-block","width","60px"],[1,"tags","d-flex"],[4,"ngIf"],["class","d-inline",4,"ngIf"],[1,"d-inline"],["routerLink","/list",3,"queryParams",4,"ngFor","ngForOf"],["routerLink","/list",3,"queryParams"],[1,"mosaic","d-flex"],[1,"d-inline-block"],[1,"d-flex",2,"white-space","nowrap"],["class","info-label","style","vertical-align: top;",4,"ngIf"],["class","info-label",4,"ngIf"],["class","d-inline-block actors",4,"ngIf"],["class","d-inline-flex actors",4,"ngIf"],[1,"info-label",2,"vertical-align","top"],[1,"d-inline-block","actors"],[1,"d-inline-flex","actors"],[4,"ngFor","ngForOf"],[1,"star",3,"routerLink","queryParams"],["class","text-light mx-1",4,"ngIf"],[1,"text-light","mx-1"]],template:function(t,e){1&t&&l.Lc(0,Ot,37,34,"div",0),2&t&&l.nc("ngIf",e.video&&e.video.title)},directives:[i.n,i.l,i.o,R,i.m,j,W,s.g],pipes:[q.a,i.e,i.f,q.b],styles:[".video-detail[_ngcontent-%COMP%]{margin-top:28px;padding-left:1em}.bar-container[_ngcontent-%COMP%]{position:relative;border-radius:20px;height:20px;padding-left:54px;background-color:#090b21;overflow:hidden;border:1px solid hsla(0,0%,40%,.2)}.bar-container[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{position:absolute;top:0;left:15px;font-size:15px;line-height:17px}#introDiv[_ngcontent-%COMP%]{overflow:hidden!important;margin-bottom:0!important}.actors[_ngcontent-%COMP%]{display:-webkit-box;display:flex;flex-wrap:wrap;width:inherit}.info-label[_ngcontent-%COMP%]{display:inline-block;white-space:nowrap;width:3em}.light[_nghost-%COMP%]   .info-label[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .info-label[_ngcontent-%COMP%]{color:#888}.star[_ngcontent-%COMP%]{cursor:pointer;white-space:normal;text-transform:capitalize}.h4[_ngcontent-%COMP%]{font-size:22px;font-weight:700}.img[_ngcontent-%COMP%]{width:216px;height:309px;margin-right:25px}.intro[_ngcontent-%COMP%]{color:hsla(0,0%,100%,.7);font-size:16px}.light[_nghost-%COMP%]   .intro[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .intro[_ngcontent-%COMP%]{color:#333}.intro[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%], .linear[_ngcontent-%COMP%]{margin-bottom:1.5em}.linear[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;margin-right:1em;color:hsla(0,0%,100%,.7)}.light[_nghost-%COMP%]   .linear[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .linear[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#333}.linear[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]{margin-right:2em;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-size:16px}.linear[_ngcontent-%COMP%]   .action.active[_ngcontent-%COMP%], .light[_nghost-%COMP%]   .linear[_ngcontent-%COMP%]   .action.active[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .linear[_ngcontent-%COMP%]   .action.active[_ngcontent-%COMP%], .light[_nghost-%COMP%]   .linear[_ngcontent-%COMP%]   .action.active[_ngcontent-%COMP%]   .iconfont[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .linear[_ngcontent-%COMP%]   .action.active[_ngcontent-%COMP%]   .iconfont[_ngcontent-%COMP%], .light[_nghost-%COMP%]   .linear[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]:hover, .light   [_nghost-%COMP%]   .linear[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]:hover, .light[_nghost-%COMP%]   .linear[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]:hover   .iconfont[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .linear[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]:hover   .iconfont[_ngcontent-%COMP%]{color:#00c0ff}.linear[_ngcontent-%COMP%]   .iconfont[_ngcontent-%COMP%]{font-size:27px;position:relative;top:.2em}.light[_nghost-%COMP%]   .linear[_ngcontent-%COMP%]   .iconfont[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .linear[_ngcontent-%COMP%]   .iconfont[_ngcontent-%COMP%]{color:#aaa}.linear[_ngcontent-%COMP%]   .linear-left[_ngcontent-%COMP%]{margin-top:-1em;margin-left:-.4em}.tag[_ngcontent-%COMP%]{background-color:#1c1d2f;color:hsla(0,0%,100%,.4);padding:.1em 0;width:55px;font-size:12px;text-align:center}.light[_nghost-%COMP%]   .tag[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .tag[_ngcontent-%COMP%]{background-color:#f8f8f8;color:#888!important}.tag[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%], .light[_nghost-%COMP%]   .tag[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .tag[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%]{color:#fff}.openner[_ngcontent-%COMP%]{overflow:hidden;-webkit-transition:height .3s;transition:height .3s;z-index:0;position:relative}.openner.statistics[_ngcontent-%COMP%]{height:0;background-color:#090b21}.light[_nghost-%COMP%]   .openner.statistics[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .openner.statistics[_ngcontent-%COMP%]{background-color:#fff}.openner.statistics.opened[_ngcontent-%COMP%]{z-index:1;height:324px!important;overflow:hidden}.openner.opened[_ngcontent-%COMP%]{z-index:0;margin-bottom:28px;overflow:visible}.openner.noMaxHeight[_ngcontent-%COMP%]{max-height:unset!important}.rate[_ngcontent-%COMP%]{font-size:12px;-webkit-box-align:baseline;align-items:baseline}.rate[_ngcontent-%COMP%], .rate[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{color:#ee9d03!important;display:inline-block}.rate[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-weight:700;font-size:22px;line-height:22px;margin-right:5px!important}.rate[_ngcontent-%COMP%]   .rate-label[_ngcontent-%COMP%]{color:#ee9d03!important;display:inline-block;line-height:12px;vertical-align:text-top}.iconrenqi[_ngcontent-%COMP%]{font-size:28px!important}.text-serial[_ngcontent-%COMP%]{color:hsla(0,0%,100%,.7)}.light[_nghost-%COMP%]   .text-serial[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .text-serial[_ngcontent-%COMP%]{color:#888}"]}),t})();var kt=n("Agem"),St=n("SbQY"),It=n("3umQ"),Lt=n("jhYu");function Tt(t,e){if(1&t&&(l.Vb(0,"div",10),l.Vb(1,"span",11),l.Nc(2),l.Ub(),l.Ub()),2&t){const t=l.gc();l.Bb(2),l.Oc(t.getTime(t.video.lastSeconds))}}function At(t,e){if(1&t&&(l.Vb(0,"div",12),l.Vb(1,"span"),l.Nc(2),l.Ub(),l.Vb(3,"span"),l.Nc(4),l.Ub(),l.Vb(5,"span"),l.Nc(6),l.Ub(),l.Vb(7,"span"),l.Nc(8),l.Ub(),l.Ub()),2&t){const t=l.gc();l.Bb(2),l.Oc(t.video.genre),l.Bb(2),l.Oc(t.video.region),l.Bb(2),l.Oc(t.video.published),l.Bb(2),l.Oc(t.video.language)}}function Nt(t,e){1&t&&(l.Vb(0,"span",16),l.Nc(1,"\u66f4\u65b0"),l.Ub())}function Bt(t,e){if(1&t&&(l.Vb(0,"div",13),l.Lc(1,Nt,2,0,"span",14),l.Vb(2,"span",15),l.Nc(3),l.Ub(),l.Ub()),2&t){const t=l.gc();l.Bb(1),l.nc("ngIf","\u5168\u96c6"!==t.video.lastUpdatedItem),l.Bb(2),l.Oc(t.video.lastUpdatedItem)}}function Vt(t,e){if(1&t&&(l.Vb(0,"div",13),l.Vb(1,"span"),l.Nc(2),l.Ub(),l.Ub()),2&t){const t=l.gc();l.Bb(2),l.Oc(t.video.lastUpdatedItem)}}function Ut(t,e){if(1&t&&(l.Vb(0,"div",17),l.Vb(1,"span"),l.Nc(2),l.hc(3,"date"),l.Ub(),l.Ub()),2&t){const t=l.gc();l.Bb(2),l.Oc(l.jc(3,1,t.video.published,"yyyy-MM-dd hh:mm"))}}const Dt=function(t){return{isNews:t}},Et=function(t){return[t]},Rt=function(t){return{v:t}},Ft=function(t){return{id:t,a:1}};let jt=(()=>{class t extends Lt.b{constructor(){super(...arguments),this.isNews=!1}ngOnInit(){}getTime(t){return t?t.split(".")[0].split(":").slice(1).join(":"):""}}return t.\u0275fac=function(e){return zt(e||t)},t.\u0275cmp=l.Jb({type:t,selectors:[["app-video-teaser-rec"]],inputs:{isNews:"isNews"},features:[l.yb],decls:14,vars:29,consts:[[1,"video-compact","mb-2",3,"ngClass"],[1,"poster"],[3,"routerLink","queryParams"],[3,"src"],["class","view-count",4,"ngIf"],[1,"right"],[1,"d-block","mb-4","title",3,"routerLink","title","queryParams"],["class","tags",4,"ngIf"],["class","update-status",4,"ngIf"],["class","published",4,"ngIf"],[1,"view-count"],[1,"num"],[1,"tags"],[1,"update-status"],["class","mr-2",4,"ngIf"],[1,"item"],[1,"mr-2"],[1,"published"]],template:function(t,e){1&t&&(l.Vb(0,"div",0),l.Vb(1,"div",1),l.Vb(2,"a",2),l.Qb(3,"img",3),l.hc(4,"safeResource"),l.Ub(),l.Lc(5,Tt,3,1,"div",4),l.Ub(),l.Vb(6,"div",5),l.Vb(7,"a",6),l.Vb(8,"h5"),l.Nc(9),l.Ub(),l.Ub(),l.Lc(10,At,9,4,"div",7),l.Lc(11,Bt,4,2,"div",8),l.Lc(12,Vt,3,1,"div",8),l.Lc(13,Ut,4,4,"div",9),l.Ub(),l.Ub()),2&t&&(l.nc("ngClass",l.sc(15,Dt,e.isNews)),l.Bb(2),l.nc("routerLink",l.sc(17,Et,e.isNews?"/watch":"/play"))("queryParams",e.isNews?l.sc(19,Rt,e.video.key):l.sc(21,Ft,e.video.key)),l.Bb(1),l.oc("src",l.ic(4,13,e.video.image+(e.isNews?"?w=216&h=122&format=jpg&mode=crop":"?w=216&height=309&format=jpg&mode=stretch")),l.Fc),l.Bb(2),l.nc("ngIf",e.isNews),l.Bb(2),l.oc("title",e.video.title),l.nc("routerLink",l.sc(23,Et,e.isNews?"/watch":"/play"))("queryParams",e.isNews?l.sc(25,Rt,e.video.key):l.sc(27,Ft,e.video.key)),l.Bb(2),l.Oc(e.video.title),l.Bb(1),l.nc("ngIf",!e.isNews),l.Bb(1),l.nc("ngIf",e.video.lastUpdatedItem&&"\u5168\u96c6"!==e.video.lastUpdatedItem),l.Bb(1),l.nc("ngIf",e.video.lastUpdatedItem&&"\u5168\u96c6"===e.video.lastUpdatedItem),l.Bb(1),l.nc("ngIf",e.isNews))},directives:[i.l,s.g,i.n],pipes:[q.b,i.e],styles:['.video-compact[_ngcontent-%COMP%]{position:relative}.video-compact[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{white-space:nowrap}.video-compact[_ngcontent-%COMP%]   .poster[_ngcontent-%COMP%]{width:105px;position:absolute;left:0;top:0;overflow:hidden}.video-compact[_ngcontent-%COMP%]   .poster[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:105px;height:150px}.video-compact[_ngcontent-%COMP%]   .poster[_ngcontent-%COMP%]:after{content:"";display:block;position:absolute;bottom:0;left:0;height:0;background:-webkit-gradient(linear,left top,left bottom,from(transparent),color-stop(38%,rgba(0,0,0,.2)),to(rgba(0,0,0,.4)));background:linear-gradient(180deg,transparent,rgba(0,0,0,.2) 38%,rgba(0,0,0,.4));width:100%}.video-compact[_ngcontent-%COMP%]   .poster[_ngcontent-%COMP%]   .view-count[_ngcontent-%COMP%]{position:absolute;bottom:7px;right:7px;color:#fff;z-index:1}.video-compact[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#fff}.light[_nghost-%COMP%]   .video-compact[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .video-compact[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#333}.video-compact[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]:hover{color:#00c0ff!important}.video-compact[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{padding-left:120px;min-height:160px}.video-compact[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%], .video-compact[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{color:hsla(0,0%,100%,.4);line-height:28px;font-size:15px}.video-compact[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{display:inline-block}.tags[_ngcontent-%COMP%]{margin-top:.5em;margin-bottom:1em;font-size:12px;color:hsla(0,0%,100%,.4)}.light[_nghost-%COMP%]   .tags[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .tags[_ngcontent-%COMP%]{color:#888}.tags[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background-color:#1c1d2f;display:inline-block;padding:.1em 0;margin-right:.5em;margin-bottom:.5em;width:58px;text-align:center}.light[_nghost-%COMP%]   .tags[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .tags[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background-color:#f8f8f8}.video-compact.isNews[_ngcontent-%COMP%]   .poster[_ngcontent-%COMP%]{width:185px}.video-compact.isNews[_ngcontent-%COMP%]   .poster[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:185px;height:102px;-o-object-fit:cover;object-fit:cover;background:#000}.video-compact.isNews[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{padding-left:200px;min-height:110px}.video-compact[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:0 0 4px;display:-webkit-box;max-height:40px;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;white-space:normal;-webkit-line-clamp:2;font-weight:500}.video-compact[_ngcontent-%COMP%]   .published[_ngcontent-%COMP%]{color:hsla(0,0%,100%,.4);white-space:nowrap}.light[_nghost-%COMP%]   .video-compact[_ngcontent-%COMP%]   .published[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .video-compact[_ngcontent-%COMP%]   .published[_ngcontent-%COMP%]{color:#333}.update-status[_ngcontent-%COMP%]{margin-top:30px;color:hsla(0,0%,100%,.4)}.update-status[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{color:#fff}@media (max-width:1678px){.tags[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:48px!important}}']}),t})();const zt=l.Xb(jt);function Ht(t,e){if(1&t&&(l.Vb(0,"div"),l.Qb(1,"app-video-teaser-rec",2),l.Ub()),2&t){const t=e.$implicit,n=l.gc();l.Bb(1),l.nc("video",t)("isNews",n.isNews)}}let Gt=(()=>{class t{constructor(t,e,n){this._videoListService=t,this.store=e,this._utility=n,this.isNews=!1,this.subscript=null,this.cacheKey=null,this.cachedTitle=null,this.title="\u76f8\u5173\u5267\u96c6",this.timeout=null,this.sub=null}ngOnInit(){this.subscript=this.store.subscribe(()=>this.readState()),this.readState()}ngOnDestroy(){this.subscript&&this.subscript(),this._utility.clearTimeout(this.timeout),null!=this.sub&&this.sub.unsubscribe()}readState(){const t=this.store.getState().video;if(t.currentVideo&&this.cacheKey!==t.currentVideo.id){let e=t.currentVideo;this.cacheKey=t.currentVideo.id;const n=t.currentVideo.key;this.currentCid=t.currentVideo.cid,this._utility.clearTimeout(this.timeout),null!=this.sub&&this.sub.unsubscribe(),this.timeout=this._utility.setTimeout(()=>{this.sub=this._videoListService.getRelatedVideos(this.currentCid,e.title,e.id,e.tags||[],this.isNews).subscribe(t=>{this.items=t.filter(t=>t.key!==n)})},200)}}}return t.\u0275fac=function(e){return new(e||t)(l.Pb(St.a),l.Pb(g.a),l.Pb(y.a))},t.\u0275cmp=l.Jb({type:t,selectors:[["app-sidebar-related-videos"]],inputs:{isNews:"isNews",title:"title"},decls:3,vars:3,consts:[[3,"title","size"],[4,"ngFor","ngForOf"],[3,"video","isNews"]],template:function(t,e){1&t&&(l.Qb(0,"app-block-title",0),l.Vb(1,"div"),l.Lc(2,Ht,2,2,"div",1),l.Ub()),2&t&&(l.nc("title",e.title)("size","large"),l.Bb(2),l.nc("ngForOf",e.items))},directives:[It.a,i.m,jt],styles:[""]}),t})();var Wt=n("LmEr"),qt=n("qUyv"),Qt=n("QjhS"),$t=n("YKxU"),Kt=n("jtAa");const Xt=["appBox"];function Yt(t,e){if(1&t&&(l.Vb(0,"span",21),l.Nc(1),l.hc(2,"chineseCounter"),l.Ub()),2&t){const t=l.gc(2);l.Bb(1),l.Pc(" ",l.ic(2,1,t.commentsCount)," ")}}function Zt(t,e){1&t&&(l.Vb(0,"span",21),l.Nc(1," \u8bc4\u8bba "),l.Ub())}function Jt(t,e){if(1&t&&(l.Vb(0,"span",21),l.Nc(1),l.hc(2,"chineseCounter"),l.Ub()),2&t){const t=l.gc(2);l.Bb(1),l.Pc(" ",l.ic(2,1,t.video.userData.favorites)," ")}}function te(t,e){1&t&&(l.Vb(0,"span",21),l.Nc(1," \u6536\u85cf "),l.Ub())}function ee(t,e){1&t&&(l.Vb(0,"span",21),l.Nc(1,"\u5206\u4eab"),l.Ub())}function ne(t,e){if(1&t&&(l.Vb(0,"span",21),l.Nc(1),l.hc(2,"chineseCounter"),l.Ub()),2&t){const t=l.gc(2);l.Bb(1),l.Oc(l.ic(2,1,t.video.userData.shared))}}function ie(t,e){if(1&t){const t=l.Wb();l.Vb(0,"div",23),l.Vb(1,"div",24),l.Vb(2,"div",25),l.Vb(3,"div",26),l.Qb(4,"img",27),l.Ub(),l.Vb(5,"div",28),l.Vb(6,"div",29),l.Nc(7,"\u626b\u4e00\u626b\uff0c\u624b\u673a\u89c2\u770b\u66f4\u4fbf\u6377\uff01"),l.Ub(),l.Vb(8,"div",30),l.dc("click",(function(e){return l.Cc(t),l.gc(2).toAppPage()})),l.Qb(9,"i",31),l.Nc(10," \u4e0b\u8f7d\u5b89\u5353APP "),l.Qb(11,"i",32),l.Ub(),l.Vb(12,"div",33),l.Nc(13,"\u6ca1\u6709APP\uff1f \u7acb\u5373\u4e0b\u8f7d"),l.Ub(),l.Ub(),l.Ub(),l.Vb(14,"div",34),l.Vb(15,"i",35),l.dc("click",(function(e){return l.Cc(t),l.gc(2).showBox=!1})),l.Ub(),l.Ub(),l.Ub(),l.Ub()}if(2&t){const t=l.gc(2);l.Bb(4),l.nc("src",t.qrHost+t.link,l.Fc)}}const oe=function(t,e,n){return{active:t,iconzan:e,iconzanshixin:n}},se=function(t){return{active:t}},re=function(t,e,n){return{active:t,iconcai:e,iconcaishixin:n}},ae=function(t,e,n){return{iconshoucang:t,iconshoucangshixin:e,active:n}};function ce(t,e){if(1&t){const t=l.Wb();l.Vb(0,"div",3),l.Vb(1,"a",4),l.dc("click",(function(e){return l.Cc(t),l.gc().showComments()})),l.Vb(2,"div",5),l.Vb(3,"div",6),l.Qb(4,"div",7),l.Ub(),l.Vb(5,"div",8),l.Lc(6,Yt,3,3,"span",9),l.Lc(7,Zt,2,0,"span",9),l.Ub(),l.Ub(),l.Ub(),l.Vb(8,"button",10),l.Vb(9,"div",11),l.dc("click",(function(e){return l.Cc(t),l.gc().like()})),l.Vb(10,"div",6),l.Qb(11,"div",12),l.Ub(),l.Vb(12,"div",13),l.Nc(13),l.hc(14,"chineseCounter"),l.Ub(),l.Ub(),l.Ub(),l.Vb(15,"button",10),l.Vb(16,"div",11),l.dc("click",(function(e){return l.Cc(t),l.gc().dislike()})),l.Vb(17,"div",6),l.Qb(18,"div",12),l.Ub(),l.Vb(19,"div",13),l.Nc(20),l.hc(21,"chineseCounter"),l.Ub(),l.Ub(),l.Ub(),l.Vb(22,"button",10),l.Vb(23,"div",11),l.dc("click",(function(e){return l.Cc(t),l.gc().favorite()})),l.Vb(24,"div",6),l.Qb(25,"div",12),l.Ub(),l.Vb(26,"div",13),l.Lc(27,Jt,3,3,"span",9),l.Lc(28,te,2,0,"span",9),l.Ub(),l.Ub(),l.Ub(),l.Vb(29,"button",10),l.Vb(30,"div",11),l.dc("click",(function(e){return l.Cc(t),l.gc().share()})),l.Vb(31,"div",6),l.Qb(32,"div",14),l.Ub(),l.Vb(33,"div"),l.Lc(34,ee,2,0,"span",9),l.Lc(35,ne,3,3,"span",9),l.Ub(),l.Ub(),l.Ub(),l.Vb(36,"button",10),l.Vb(37,"div",11),l.dc("click",(function(e){return l.Cc(t),l.gc().openVideoDowanload()})),l.Vb(38,"div",6),l.Qb(39,"div",15),l.Ub(),l.Ub(),l.Ub(),l.Vb(40,"div",16,17),l.Vb(42,"div",18),l.dc("click",(function(e){return l.Cc(t),l.gc().toggleBox()})),l.Vb(43,"div",19),l.Qb(44,"div",20),l.Ub(),l.Vb(45,"div"),l.Vb(46,"span",21),l.Nc(47,"\u624b\u673a\u770b"),l.Ub(),l.Ub(),l.Ub(),l.Lc(48,ie,16,1,"div",22),l.Ub(),l.Ub()}if(2&t){const t=l.gc();l.Bb(6),l.nc("ngIf",t.commentsCount>0),l.Bb(1),l.nc("ngIf",0===t.commentsCount),l.Bb(4),l.nc("ngClass",l.uc(19,oe,t.video.userBehaviors.like,!t.video.userBehaviors.like,t.video.userBehaviors.like)),l.Bb(1),l.nc("ngClass",l.sc(23,se,t.video.userBehaviors.like)),l.Bb(1),l.Pc(" ",t.video.userData.like?l.ic(14,15,t.video.userData.like):"\u8d5e"," "),l.Bb(5),l.nc("ngClass",l.uc(25,re,t.video.userBehaviors.dislike,!t.video.userBehaviors.dislike,t.video.userBehaviors.dislike)),l.Bb(1),l.nc("ngClass",l.sc(29,se,t.video.userBehaviors.dislike)),l.Bb(1),l.Pc(" ",t.video.userData.dislike?l.ic(21,17,t.video.userData.dislike):"\u8e29"," "),l.Bb(5),l.nc("ngClass",l.uc(31,ae,!t.video.userBehaviors.favorite,t.video.userBehaviors.favorite,t.video.userBehaviors.favorite)),l.Bb(1),l.nc("ngClass",l.sc(35,se,t.video.userBehaviors.favorite)),l.Bb(1),l.nc("ngIf",t.video.userData.favorites),l.Bb(1),l.nc("ngIf",!t.video.userData.favorites),l.Bb(6),l.nc("ngIf",!t.video.userData.shared),l.Bb(1),l.nc("ngIf",t.video.userData.shared),l.Bb(13),l.nc("ngIf",t.showBox)}}const le=function(t){return{visibility:t}};function he(t,e){if(1&t&&(l.Vb(0,"div",36),l.Qb(1,"div",37),l.Qb(2,"app-danmu-input",38),l.Ub()),2&t){const t=l.gc();l.nc("ngStyle",l.sc(2,le,t.isLive?"hidden":"visible")),l.Bb(2),l.nc("vgFor","video_player")}}let de=(()=>{class t{constructor(t,e,n,i,o,s,r,a,c,h){this._videoService=t,this._dnDialogService=e,this._messageDialogService=n,this._favoriteService=i,this.pageScrollService=o,this._toastService=s,this._windowService=r,this._userService=a,this._utility=c,this.document=h,this.subscriptions=[],this.isAdult=2===C.a.cinema,this.isApp=C.a.app,this.disableFav=!1,this.isLive=!1,this.likeLoading=!1,this.dislikeLoading=!1,this.favoriteLoading=!1,this.userBehaviorEvent=new l.n,this.screenType=B.a,this.qrHost=this._utility.GetHost("https://img.{Host}/qrcode/?url="),this.link=this._utility.getSiteConfig.appDownloadLink,this.showBox=!1,this.openList=null,this.commentsCount=0,this.unsub=null}ngOnInit(){this.subscriptions.push(this._userService.userState$.subscribe(t=>{this.user=t,this.readState()}),this._windowService.size$.subscribe(t=>{this.screenSize=t}))}readState(){this.user&&this.user.id&&this._favoriteService.favoriteStatusSource$.subscribe(t=>{"all"===t&&(this.video.userBehaviors.favorite=!1,this.video.userData.favorites--)})}like(){this.user&&this.user.id?this.likeLoading||(this.likeLoading=!0,this.subscriptions.push(this._videoService.like(this.video.id).subscribe(t=>{this.likeLoading=!1,t.message?(this._messageDialogService.setState({message:t.message}),this._dnDialogService.open("message-dialog")):(this.userBehaviorEvent.emit(Object.assign({name:"likeStatus"},t[0])),this._toastService.showBlackToast("\u9012\u4ea4\u6210\u529f\uff01"))}))):this._dnDialogService.open("login-required")}dislike(){this.user&&this.user.id?this.dislikeLoading||(this.dislikeLoading=!0,this.subscriptions.push(this._videoService.dislike(this.video.id).subscribe(t=>{this.dislikeLoading=!1,t.message?(this._messageDialogService.setState({message:t.message}),this._dnDialogService.open("message-dialog")):(this.userBehaviorEvent.emit(Object.assign({name:"likeStatus"},t[0])),this._toastService.showBlackToast("\u9012\u4ea4\u6210\u529f\uff01"))}))):this._dnDialogService.open("login-required")}share(){this.video.userBehaviors.share||(this.video.userBehaviors.share=!0,this.video.userData.shared+=1,this._videoService.share(this.video.id).subscribe()),this._dnDialogService.open("share")}favorite(){!0!==this.favoriteLoading&&(this.user&&this.user.id?(this.favoriteLoading=!0,this.video.userBehaviors.favorite?this._favoriteService.removeFavoritesItem(this.user,this.video.id).subscribe(t=>{401!=t.code&&(this.video.userBehaviors.favorite=!1,this.video.userData.favorites=this.video.userData.favorites-1,this._toastService.showBlackToast("\u5df2\u53d6\u6d88\u6536\u85cf\uff01"),this._favoriteService.changeFavoriteStatus(void 0)),this.favoriteLoading=!1}):this._videoService.favorite(this.user,this.video.id).subscribe(t=>{401!=t.code&&(this.video.userData.favorites=this.video.userData.favorites+1,this.userBehaviorEvent.emit("favorite"),this._toastService.showBlackToast("\u6536\u85cf\u6210\u529f\uff01"),this._favoriteService.changeFavoriteStatus(void 0)),this.favoriteLoading=!1})):this._dnDialogService.open("login-required"))}download(){this._messageDialogService.setState({message:"\u8be5\u5f71\u7247\u6682\u65f6\u4e0d\u53ef\u4e0b\u8f7d"}),this._dnDialogService.open("message-dialog")}openVideoDowanload(){this.isApp||this._dnDialogService.open("not-allow-video-download")}showComments(){this.pageScrollService.scroll({document:this.document,duration:400,scrollOffset:62,scrollTarget:"#PB"})}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe()),null!=this.unsub&&this.unsub()}toggleBox(){this.showBox=!this.showBox,this.showBox?this.openList=this._utility.openList(this.appBox.nativeElement,null,t=>{this.openList.unsubscribe(),this.showBox=!1}):this.openList&&this.openList.unsubscribe()}toAppPage(){(this._utility.getSiteConfig.enableIOSDonwload||this._utility.getSiteConfig.enableAndroidDownload)&&window.open("/app-download","_blank")}}return t.\u0275fac=function(e){return new(e||t)(l.Pb(O.a),l.Pb(d.a),l.Pb(u.a),l.Pb(m.a),l.Pb(N.b),l.Pb($t.a),l.Pb(B.b),l.Pb(A.a),l.Pb(y.a),l.Pb(i.d))},t.\u0275cmp=l.Jb({type:t,selectors:[["app-video-user-data-bar"]],viewQuery:function(t,e){var n;1&t&&l.Uc(Xt,!0),2&t&&l.yc(n=l.ec())&&(e.appBox=n.first)},inputs:{video:"video",disableFav:"disableFav",isLive:"isLive",commentsCount:"commentsCount"},outputs:{userBehaviorEvent:"userBehaviorEvent"},decls:3,vars:2,consts:[[1,"user-data-bar","d-flex","align-items-center"],["class","d-flex align-items-center user-data-inner",4,"ngIf"],["class","flex-1 d-flex align-items-center",3,"ngStyle",4,"ngIf"],[1,"d-flex","align-items-center","user-data-inner"],[1,"ico","comment",3,"click"],[1,"d-flex","align-items-center"],[1,"icon-container","mr-2"],[1,"iconfont","iconpinglun"],[1,""],["class","icon-text",4,"ngIf"],[1,"ico"],[1,"d-flex","align-items-center",3,"click"],[1,"iconfont",3,"ngClass"],[3,"ngClass"],[1,"iconfont","iconfenxiang"],[1,"iconfont","iconlixianhuancun1"],[1,"app-hover"],["appBox",""],[1,"d-flex","align-items-center","justify-content-center","hover-button",3,"click"],[1,"icon-container","align-items-center"],[1,"iconfont","iconshouji"],[1,"icon-text"],["class","hovered-box",4,"ngIf"],[1,"hovered-box"],[1,"box-inner"],[1,"box-mid"],[1,"box-content"],[1,"qr-path",3,"src"],[1,"box-content","with-label"],[1,"box-text"],[1,"dl-label",3,"click"],[1,"iconfont","iconanzhuo"],[1,"iconfont","iconzhengzaixiazai"],[1,"box-text-footer"],[1,"box-close"],[1,"iconfont","iconguanbi",3,"click"],[1,"flex-1","d-flex","align-items-center",3,"ngStyle"],[1,"flex-1"],[3,"vgFor"]],template:function(t,e){1&t&&(l.Vb(0,"div",0),l.Lc(1,ce,49,37,"div",1),l.Lc(2,he,3,4,"div",2),l.Ub()),2&t&&(l.Bb(1),l.nc("ngIf",e.video),l.Bb(1),l.nc("ngIf",!e.isAdult))},directives:[i.n,i.l,i.o,Kt.a],pipes:[q.a],styles:[".user-data-bar[_ngcontent-%COMP%]{position:relative;font-size:15px;line-height:30px;background-color:#1c1d2f;padding:11px 18px 11px 12px;min-height:71px}.icon-container[_ngcontent-%COMP%]{height:30px;width:30px;text-align:center;display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center}.dn-icon[_ngcontent-%COMP%]{font-size:25px;margin:0 auto 2px;cursor:pointer}.seprator-overlay[_ngcontent-%COMP%]{z-index:-1}.ico[_ngcontent-%COMP%]{position:relative;cursor:pointer;-webkit-box-flex:1;flex:1;white-space:nowrap;margin-right:1.5em;color:hsla(0,0%,100%,.4);background-color:transparent;border:none;outline:none}.ico[_ngcontent-%COMP%]   .iconfont[_ngcontent-%COMP%]{font-size:32px}.ico[_ngcontent-%COMP%]:hover   .dn-icon[_ngcontent-%COMP%], .ico[_ngcontent-%COMP%]:hover   div[_ngcontent-%COMP%]{color:#00c0ff}.ico[_ngcontent-%COMP%]:active{-webkit-transform:translateY(1px);transform:translateY(1px)}.ico.small[_ngcontent-%COMP%]{-webkit-box-flex:0;flex:0}.ico[_ngcontent-%COMP%]:last-child{margin-right:0}.active[_ngcontent-%COMP%]{color:#00c0ff}.iconfont.active[_ngcontent-%COMP%]{background:-webkit-linear-gradient(#00c0ff,#00b8ff);-webkit-background-clip:text;-webkit-text-fill-color:transparent}.sec-first[_ngcontent-%COMP%], .sec-last[_ngcontent-%COMP%], .sec-second[_ngcontent-%COMP%]{width:33%}.seprator[_ngcontent-%COMP%]{height:30px;width:1px;background-color:#ddd}.sec-center[_ngcontent-%COMP%]{border-left:1px solid #ddd;border-right:1px solid #ddd}.icon-favorite[_ngcontent-%COMP%]{margin-top:-2px}.favorited[_ngcontent-%COMP%]{position:absolute;font-size:13px;background-color:red;line-height:18px;color:#fff;top:2px;padding:1px 2px;right:0;border:1px solid red}.ico[_ngcontent-%COMP%]{font-size:12px}@media (max-width:1919px){.user-data-inner[_ngcontent-%COMP%]{width:420px}.user-data-inner[_ngcontent-%COMP%]   .ico.comment[_ngcontent-%COMP%]{display:none}}.app-hover[_ngcontent-%COMP%]{position:relative}.hover-button[_ngcontent-%COMP%]{font-size:12px;width:70px;height:24px;line-height:24px;border-radius:2px;cursor:pointer;background:linear-gradient(45deg,#5562a0 45%,#b687c3);color:#fff!important}.hover-button[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]{width:auto;height:auto;margin-right:7px}.hover-button[_ngcontent-%COMP%]   .iconfont[_ngcontent-%COMP%]{font-size:16px}.hover-button[_ngcontent-%COMP%]   .icon-text[_ngcontent-%COMP%]{white-space:nowrap}.hovered-box[_ngcontent-%COMP%]{display:block;width:305px;height:130px;border-radius:0;position:absolute;left:-108px;top:-154px;z-index:4599;background-color:#2b2c3a}.box-inner[_ngcontent-%COMP%]{padding:10px;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center}.box-inner[_ngcontent-%COMP%], .box-mid[_ngcontent-%COMP%]{display:-webkit-box;display:flex}.box-mid[_ngcontent-%COMP%]{width:100%;margin:10px 0;justify-content:space-around}.box-content[_ngcontent-%COMP%]{width:90px;height:90px}.box-content.with-label[_ngcontent-%COMP%]{width:auto;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-pack:justify;justify-content:space-between;-webkit-box-align:center;align-items:center}.box-text[_ngcontent-%COMP%]{color:#fff}.box-text[_ngcontent-%COMP%], .box-text-footer[_ngcontent-%COMP%]{text-align:center;font-size:12px}.box-text-footer[_ngcontent-%COMP%]{color:hsla(0,0%,100%,.4)}.dl-label[_ngcontent-%COMP%]{font-size:14px;border-radius:14px;background:linear-gradient(45deg,#5562a0 10%,#b687c3);cursor:pointer;position:relative;width:164px;height:29px;display:-webkit-box;display:flex;justify-content:space-around;-webkit-box-align:center;align-items:center;padding:0 2px;margin:2px 0}.dl-label[_ngcontent-%COMP%], .dl-label[_ngcontent-%COMP%]   .iconfont[_ngcontent-%COMP%]{color:#fff}.dl-label[_ngcontent-%COMP%]   .iconfont.iconanzhuo[_ngcontent-%COMP%]{font-size:18px;color:#61db32}.dl-label[_ngcontent-%COMP%]   .iconfont.iconzhengzaixiazai[_ngcontent-%COMP%]{font-size:20px}.qr-path[_ngcontent-%COMP%]{width:100%;height:100%}.box-close[_ngcontent-%COMP%]{position:absolute;right:6px;top:0}.box-close[_ngcontent-%COMP%]   .iconfont[_ngcontent-%COMP%]{cursor:pointer;font-size:18px;color:hsla(0,0%,100%,.7)}.box-close[_ngcontent-%COMP%]   .iconfont[_ngcontent-%COMP%]:hover{color:#fff}"]}),t})();var ue=n("7DwK"),ge=n("N9ew"),pe=n("ELgw"),fe=n("dOYE"),be=n("BXbW"),me=n("gFX4"),ve=n("2Vo4"),ye=n("5yqk"),Ce=n("tRdC");let _e=(()=>{class t{constructor(t,e,n,i){this._apiUrlHelper=t,this._httpClientHelper=e,this._notifyService=n,this._utility=i,this.server=this._utility.GetHost("https://chat.{Host}"),this.connected$=new ve.a(""),this.observers=[],this.onnect=new l.n,this.connectionHash=null,this.subscriptions=[],this.join$=this.on(Ce.a.JoinVideoRoom).pipe(),this.leave$=this.on(Ce.a.LeaveVideoRoom).pipe(),this.sendMessage$=this.on(Ce.a.SendBarrage).pipe(),this.userMultiLogin$=this.on(Ce.a.UserLiveTest).pipe(),this.notLoginListen()}connect(t,e){this.socket=me(this.server,{reconnectionAttempts:10,transports:["websocket","polling"]}),this.socket.on("connect",()=>{console.log("\u6e38\u5ba2\u8fde\u63a5\u804a\u5929\u670d\u52a1\u5668\u6210\u529f");var t=Math.random();this.connected$.next(this.server),this.observers.forEach(e=>{e.hash!=t&&(this.socket.off(e.name),this.socket.on(e.name,t=>{console.group(),console.log("----- SOCKET IN -----"),console.log("Action: ",e.name),console.log("Payload: ",t),console.groupEnd(),e.observer.next(t)}),e.hash=t)}),this.connectionHash=t,this.onnect.next("connected"),setTimeout(()=>{this.join(e)},1e3)}),this.socket.on("disconnect",()=>{this.connected$.next(void 0)})}authorize(t,e){}join(t){console.log("\u6e38\u5ba2\u8fdb\u5165"),this.emit("joinVideoRoom",{uniqueKey:t})}leave(t){this.emit("leaveVideoRoom",{uniqueKey:t})}disconnect(){this.socket&&this.socket.disconnect()}emit(t,e){console.group(),console.log("----- SOCKET OUT -----"),console.log("Action: ",t),console.log("Payload: ",e),console.groupEnd(),this.socket&&this.socket.emit(t,e)}listenFromChatService(t){var e=this.observers.find(e=>e.name==t.action);return null==e&&((e=new xe).name=t.action,e.observer=new l.n,this.observers.push(e)),e.hash!=this.connectionHash&&(e.hash=this.connectionHash,this.socket.on(t.action,t=>{e.observer.next(t)})),e.observer}listen(t){const e=this.listenFromChatService({action:t});return this.subscriptions.push(e.subscribe(e=>{console.group(),console.log("----- SOCKET IN -----"),console.log("Action: ",t),console.log("Payload: ",e),console.groupEnd()})),e}on(t){const e=this._notifyService.on({action:t,data:null,code:0});return this.subscriptions.push(e.subscribe(e=>{console.group(),console.log("----- SOCKET IN -----"),console.log("Action: ",t),console.log("Payload: ",e),console.groupEnd()})),e}sendMessage(t,e){this.roomId=e;const n=this._apiUrlHelper.urlBuilder("send-barrage",{uniqueKey:this.roomId},this._utility.isNews?"NEWS_ENDPOINT":"");return this._httpClientHelper.post(n,{contxt:t,type:1},null)}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}notLoginListen(){this.notLoginJoin$=this.listen(Ce.a.JoinVideoRoom).pipe(),this.notLoginLeave$=this.listen(Ce.a.LeaveVideoRoom).pipe(),this.notLoginMessage$=this.listen(Ce.a.SendBarrage).pipe()}}return t.\u0275fac=function(e){return new(e||t)(l.Zb(I.a),l.Zb(M.a),l.Zb(ye.a),l.Zb(y.a))},t.\u0275prov=l.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class xe{}var Pe=n("UnVO"),we=n("3Pt+"),Oe=n("Kdsb");let Me=(()=>{class t{constructor(t,e,n){this.elRef=t,this.sanitizer=e,this._dnEmojiService=n,this.contenteditableModelChange=new l.n,this.contenteditableHtml=!1}ngOnChanges(t){t.contenteditableModel&&(t.contenteditableModel.isFirstChange()&&!this.contenteditableModel&&this.onInput(!0),this.refreshView())}onInput(t=!1){let e=this.elRef.nativeElement[this.getProperty()];t&&(e=e.replace(/^[\n\s]+/,""),e=e.replace(/[\n\s]+$/,"")),this.contenteditableModelChange.emit(e)}onPaste(t){t.preventDefault();let e=t.clipboardData.getData("text/html");e=this._dnEmojiService.emojiHtml2String(e);const n=document.createElement("html");n.innerHTML=e,e=n.innerText.replace(/^[\n\s]+/,"").replace(/[\n\s]+$/,"").replace(/\u00a0/g," "),e=this._dnEmojiService.emojiString2Html(e),document.execCommand("insertHTML",!0,e)}refreshView(){const t=this.sanitize(this.contenteditableModel);t!==this.elRef.nativeElement[this.getProperty()]&&(this.elRef.nativeElement[this.getProperty()]=t)}getProperty(){return"innerHTML"}sanitize(t){return this.contenteditableHtml?this.sanitizer.sanitize(l.I.HTML,t):t}}return t.\u0275fac=function(e){return new(e||t)(l.Pb(l.l),l.Pb(l.H),l.Pb(be.a))},t.\u0275dir=l.Kb({type:t,selectors:[["","contenteditableModel",""]],hostBindings:function(t,e){1&t&&l.dc("input",(function(t){return e.onInput()}))("blur",(function(t){return e.onInput()}))("keyup",(function(t){return e.onInput()}))("paste",(function(t){return e.onPaste(t)}))},inputs:{contenteditableModel:"contenteditableModel",contenteditableHtml:"contenteditableHtml"},outputs:{contenteditableModelChange:"contenteditableModelChange"},features:[l.zb()]}),t})();var ke=n("mJNP");const Se=["msgEditor"],Ie=["LiveChatEmojiPicker"],Le=["perfectscroll"];function Te(t,e){if(1&t&&(l.Vb(0,"div",28),l.Qb(1,"img",29),l.Ub()),2&t){const t=l.gc().$implicit,e=l.gc();l.Bb(1),l.nc("src",""+e.fixVipSymbol(t.gid),l.Fc)}}function Ae(t,e){if(1&t&&(l.Vb(0,"div",24),l.Lc(1,Te,2,1,"div",25),l.Vb(2,"span",26),l.Nc(3),l.Ub(),l.Qb(4,"span",27),l.Ub()),2&t){const t=e.$implicit;l.Bb(1),l.nc("ngIf",0!==t.gid),l.Bb(2),l.Pc(" ",t.nickName," : "),l.Bb(1),l.nc("innerHtml",t.processContext,l.Dc)}}function Ne(t,e){if(1&t){const t=l.Wb();l.Vb(0,"app-emoji-box",30),l.dc("close",(function(e){return l.Cc(t),l.gc().showEmojiPicker=!1})),l.Ub()}2&t&&l.nc("isLive",!0)}const Be=function(t){return{"not-allowed":t}};let Ve=(()=>{class t{constructor(t,e,n,i,o,s,r,a,c,l){this._userService=t,this._formBuilder=e,this._emojiPickerService=n,this.cdRef=i,this._dnEmojiService=o,this.liveChatSocketService=s,this._route=r,this._messageDialogService=a,this._dnDialogService=c,this._utility=l,this.onlineUser=0,this.msgList=[],this.message="",this.notAllowedChat=!1,this.isSending=!1,this.unsub=null,this.showEmojiPicker=!1,this.openList=null,this.subscriptions=[],this.uniqueKey="",this.notifySubscription=[],this.isConnecting=!1,this.currentKey="",this.chatForm=this._formBuilder.group({})}ngOnInit(){this.subscriptions.push(this._emojiPickerService.emojiSource$.subscribe(t=>{t&&t.hasOwnProperty("id")&&(pe.a(this.savedSelection),this.pasteHtmlAtCaret(Object.assign(new fe.a,t).html,!1),this._emojiPickerService.selectEmoji(null),this.showEmojiPicker=!1)}),this.liveChatSocketService.join$.subscribe(t=>{this.onlineUser=t.onlineCount}),this.liveChatSocketService.leave$.subscribe(t=>{this.onlineUser=t.onlineCount}),this.liveChatSocketService.sendMessage$.subscribe(t=>{1===t.type&&(this.msgList.push(t),setTimeout(()=>{this.naviToBottom()},50))}),this.liveChatSocketService.userMultiLogin$.subscribe(t=>{console.log(t)}),this._userService.userState$.subscribe(t=>{this.user=t,this.readState()})),this.currentKey=this.uniqueKey}ngOnChanges(t){t.uniqueKey&&""!==this.currentKey&&this.currentKey!==this.uniqueKey&&(this.currentKey=this.uniqueKey,this.msgList=[],null===this.user.id&&this.liveChatSocketService.join(this.currentKey))}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe()),this.liveChatSocketService.disconnect()}ngAfterViewInit(){this.cdRef.detectChanges(),this.emojiPickerElem=this.EmojiPicker.nativeElement}readState(){null===this.user.id&&this.subscriptions.push(this._route.params.subscribe(t=>{this.liveChatSocketService.connect(this.user,this.uniqueKey)}),this.liveChatSocketService.notLoginJoin$.subscribe(t=>{this.onlineUser=t.onlineCount}),this.liveChatSocketService.notLoginLeave$.subscribe(t=>{this.onlineUser=t.onlineCount}),this.liveChatSocketService.notLoginMessage$.subscribe(t=>{this.msgList.push(t),setTimeout(()=>{this.naviToBottom()},50)})),null!==this.user.id&&this.liveChatSocketService.disconnect()}onChange(t){}onFocusIn(){this.focused=!0}onFocusOut(){this.focused=!1}onDragOver(t){t.preventDefault()}onDragLeave(t){t.preventDefault()}onDrop(t){t.preventDefault()}onTextAreaBlur(){this.savedSelection=pe.b()}sendMessageByEnter(t){13===t.keyCode&&(t.preventDefault(),this.sendMessage())}strip(t){const e=document.createElement("DIV");return e.innerHTML=t,e.textContent||e.innerText||""}sendMessage(){if(!this.user.id)return void this._userService.showLoginDialog(!0);if(this.notAllowedChat)return;if(!this.message)return;if(this.isConnecting)return this._messageDialogService.setState({message:"\u6b63\u5728\u8fde\u63a5\u804a\u5929\u5ba4\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5\u3002"}),this._dnDialogService.open("message-dialog"),void this.liveChatSocketService.join(this.uniqueKey);this.message=this.message.replace(/&nbsp;/g," ").replace(/\u00a0/g," ").replace(/^\s+|\s+$/g,"").replace(/<br>/g,"");const t=this._dnEmojiService.emojiHtml2String(this.message.trim()).replace("<div></div>","");return this.isEmpty(t)?(this._messageDialogService.setState({message:"\u8bf7\u81f3\u5c11\u8bf4\u70b9\u4ec0\u4e48"}),void this._dnDialogService.open("message-dialog")):t.length>100?(this._messageDialogService.setState({message:"\u60a8\u53d1\u8868\u7684\u5185\u5bb9\u8fc7\u957f\uff0c\u8bf7\u7b80\u77ed\u53d1\u8a00"}),void this._dnDialogService.open("message-dialog")):(this.liveChatSocketService.sendMessage(t,this.uniqueKey).subscribe(t=>{}),void(this.message=""))}toggleEmojiPicker(){this.showEmojiPicker=!this.showEmojiPicker,this.showEmojiPicker?this.openList=this._utility.openList(this.emojiPickerElem,null,t=>{var e;t.getAttribute("class")&&(null===(e=t.getAttribute("class"))||void 0===e?void 0:e.split(" ")).indexOf("emoji-item")>-1||(this.openList.unsubscribe(),this.showEmojiPicker=!1)}):this.openList&&this.openList.unsubscribe()}pasteHtmlAtCaret(t,e){let n,i;if(this.editorRef.nativeElement.focus(),window.getSelection&&(n=window.getSelection(),n.getRangeAt&&n.rangeCount&&(i=n.getRangeAt(0),i.commonAncestorContainer.parentNode===this.editorRef.nativeElement||i.commonAncestorContainer===this.editorRef.nativeElement))){i.deleteContents();const o=document.createElement("div");o.innerHTML=t;const s=document.createDocumentFragment();let r,a;for(;r=o.firstChild;)a=s.appendChild(r);const c=s.firstChild;return i.insertNode(s),void(a&&(i=i.cloneRange(),i.setStartAfter(a),e?i.setStartBefore(c):i.collapse(!0),n.removeAllRanges(),n.addRange(i)))}}fixVipSymbol(t){if(t)return Pe.a.getGIDResource(t)}isEmpty(t){let e=t.replace(/&nbsp;/g," ").replace(/\u00a0/g," ").replace(/^\s+|\s+$/g,"");return e=this._dnEmojiService.emojiHtml2String(this.message.trim()),e=this.strip(e).trim(),""===e}naviToBottom(){this.ps.directiveRef.scrollToBottom(0,100)}}return t.\u0275fac=function(e){return new(e||t)(l.Pb(A.a),l.Pb(we.c),l.Pb(ge.a),l.Pb(l.h),l.Pb(be.a),l.Pb(_e),l.Pb(s.a),l.Pb(u.a),l.Pb(d.a),l.Pb(y.a))},t.\u0275cmp=l.Jb({type:t,selectors:[["app-live-chat"]],viewQuery:function(t,e){var n;1&t&&(l.Ic(Se,!0),l.Uc(Ie,!0),l.Ic(Le,!0)),2&t&&(l.yc(n=l.ec())&&(e.editorRef=n.first),l.yc(n=l.ec())&&(e.EmojiPicker=n.first),l.yc(n=l.ec())&&(e.ps=n.first))},inputs:{uniqueKey:"uniqueKey"},features:[l.Ab([ge.a,_e]),l.zb()],decls:27,vars:8,consts:[[1,"live-chat","w-100"],[1,"live-chat-header","d-flex","align-items-center"],[1,"live-logo"],["src","./assets/images/live-chat-logo.png"],[1,"live-title"],[1,"live-chat-user"],[1,"live-signol"],[1,"live-chat-container"],[1,"live-chat-scrollbar"],["perfectscroll",""],[1,"live-chat-inner"],["class","live-chat-content",4,"ngFor","ngForOf"],[1,"live-chat-bottom"],[1,"live-chat-input"],["id","chat-input-form",1,"d-flex",3,"formGroup"],[1,"input-area"],["id","message-input","contenteditable","true","placeholder","\u804a\u4e24\u53e5\u5427~",3,"contenteditableModel","contenteditableModelChange","focusin","focusout","dragover","dragleave","drop","blur","keydown"],["msgEditor",""],[1,"not-input-area"],[1,"d-flex","mr-4","align-items-center","emoji-box-trigger"],["LiveChatEmojiPicker",""],[1,"iconfont","iconbiaoqing",3,"click"],["class","live-chat-emoji",3,"isLive","close",4,"ngIf"],["href","javascript:void(0)",1,"chat-input_submit",3,"ngClass","click"],[1,"live-chat-content"],["class","user-vip-icon",4,"ngIf"],[1,"live-chat-userName"],[1,"live-chat-message",3,"innerHtml"],[1,"user-vip-icon"],[3,"src"],[1,"live-chat-emoji",3,"isLive","close"]],template:function(t,e){1&t&&(l.Vb(0,"div",0),l.Vb(1,"div",1),l.Vb(2,"div",2),l.Qb(3,"img",3),l.Ub(),l.Vb(4,"div",4),l.Nc(5," \u804a\u5929 "),l.Vb(6,"span",5),l.Nc(7),l.Ub(),l.Ub(),l.Qb(8,"div",6),l.Ub(),l.Vb(9,"div",7),l.Vb(10,"perfect-scrollbar",8,9),l.Vb(12,"div",10),l.Lc(13,Ae,5,3,"div",11),l.Ub(),l.Ub(),l.Ub(),l.Vb(14,"div",12),l.Vb(15,"div",13),l.Vb(16,"form",14),l.Vb(17,"div",15),l.Vb(18,"div",16,17),l.dc("contenteditableModelChange",(function(t){return e.message=t}))("contenteditableModelChange",(function(t){return e.onChange(t)}))("focusin",(function(t){return e.onFocusIn()}))("focusout",(function(t){return e.onFocusOut()}))("dragover",(function(t){return e.onDragOver(t)}))("dragleave",(function(t){return e.onDragLeave(t)}))("drop",(function(t){return e.onDrop(t)}))("blur",(function(t){return e.onTextAreaBlur()}))("keydown",(function(t){return e.sendMessageByEnter(t)})),l.Ub(),l.Ub(),l.Vb(20,"div",18),l.Vb(21,"div",19,20),l.Vb(23,"i",21),l.dc("click",(function(t){return e.toggleEmojiPicker()})),l.Ub(),l.Lc(24,Ne,1,1,"app-emoji-box",22),l.Ub(),l.Vb(25,"a",23),l.dc("click",(function(t){return e.sendMessage()})),l.Nc(26,"\u53d1\u9001 "),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub()),2&t&&(l.Bb(7),l.Pc("",e.onlineUser,"\u4eba"),l.Bb(6),l.nc("ngForOf",e.msgList),l.Bb(3),l.nc("formGroup",e.chatForm),l.Bb(2),l.nc("contenteditableModel",e.message),l.Bb(6),l.nc("ngIf",e.showEmojiPicker),l.Bb(1),l.nc("ngClass",l.sc(6,Be,e.notAllowedChat)))},directives:[Oe.b,i.m,we.u,we.l,we.f,Me,i.n,i.l,ke.a],styles:['.live-chat[_ngcontent-%COMP%]{background-color:#1c1d2f;height:744px}.live-chat-header[_ngcontent-%COMP%]{background-color:#2b2c3a;height:42px;padding:0 14px}.live-chat-container[_ngcontent-%COMP%]{height:calc(100% - 96px);padding:8px 0 8px 14px}.live-chat-bottom[_ngcontent-%COMP%]{background-color:#2b2c3a;height:54px}.live-logo[_ngcontent-%COMP%]{width:36px;height:21px}.live-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.live-title[_ngcontent-%COMP%]{margin:0 10px 0 12px;font-size:14px;color:#fff}.live-title[_ngcontent-%COMP%]   .live-chat-user[_ngcontent-%COMP%]{margin-left:8px;color:#00c0ff}.live-signol[_ngcontent-%COMP%]{width:6px;height:6px;border-radius:50%;background-color:#00ff3c}.live-signol.offline[_ngcontent-%COMP%]{background-color:red}.live-chat-content[_ngcontent-%COMP%]{word-break:break-all;font-size:14px;line-height:28px;margin-right:14px}.user-vip-icon[_ngcontent-%COMP%]{width:16px;height:14px;float:left;margin-right:4px;margin-top:-1px}.user-vip-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}#chat-input-form[_ngcontent-%COMP%]{position:relative;width:100%;height:54px}.input-area[_ngcontent-%COMP%]{width:calc(100% - 120px);padding:14px}.not-input-area[_ngcontent-%COMP%]{width:120px}#message-input[placeholder][_ngcontent-%COMP%]:empty:before{content:attr(placeholder);color:hsla(0,0%,100%,.4)}#message-input[placeholder][_ngcontent-%COMP%]:empty:focus:before{content:""}[contenteditable][_ngcontent-%COMP%]{display:-webkit-box;display:flex;height:27px;line-height:27px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;outline:none!important;font-size:14px;color:#fff!important}[contenteditable][_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:inline}[contenteditable][_ngcontent-%COMP%]   br[_ngcontent-%COMP%]{display:none}[contenteditable][_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{display:inline;white-space:nowrap}.live-chat-emoji[_ngcontent-%COMP%]{position:absolute;right:435px;bottom:5px;z-index:1000}.emoji-box-trigger[_ngcontent-%COMP%]{cursor:pointer;margin-top:13px;width:30px;height:30px;overflow:hidden}.emoji-box-trigger.iconbiaoqing[_ngcontent-%COMP%], .emoji-box-trigger.icontupian2[_ngcontent-%COMP%]{color:hsla(0,0%,100%,.7)!important}.chat-input_submit[_ngcontent-%COMP%], .emoji-box-trigger.iconbiaoqing[_ngcontent-%COMP%]:hover, .emoji-box-trigger.icontupian2[_ngcontent-%COMP%]:hover{color:#fff!important}.chat-input_submit[_ngcontent-%COMP%]{position:absolute;right:12px;top:12px;width:62px;height:30px;line-height:32px;text-align:center;background-color:#00c0ff;border-radius:0}.chat-input_submit.not-allowed[_ngcontent-%COMP%]{background-color:#383838!important;cursor:not-allowed}.live-chat-userName[_ngcontent-%COMP%]{color:hsla(0,0%,100%,.4)}.live-chat-message[_ngcontent-%COMP%]{color:#fff}']}),t})();var Ue=n("9U6K"),De=n("sJdA"),Ee=n("08EM");function Re(t,e){if(1&t&&(l.Vb(0,"div",23),l.Qb(1,"app-membership-icon",24),l.Ub()),2&t){const t=l.gc(2);l.Bb(1),l.nc("membership",t.getMembership(t.publisher.gid))("noText",!0)("width",24)("height",24)}}function Fe(t,e){1&t&&(l.Vb(0,"div",25),l.Qb(1,"img",26),l.Ub())}function je(t,e){if(1&t&&(l.Vb(0,"div",27),l.Qb(1,"i",28),l.Nc(2),l.Ub()),2&t){const t=l.gc(2);l.Bb(2),l.Pc(" ",t.publisher.from," ")}}const ze=function(t,e){return{iconnanxing:t,iconnvxing:e}},He=function(t){return{maxLv:t}};function Ge(t,e){if(1&t){const t=l.Wb();l.Vb(0,"div",2),l.Vb(1,"div",3),l.Vb(2,"div",4),l.Vb(3,"app-namecard",5),l.dc("userLoadedEvent",(function(e){return l.Cc(t),l.gc().onPublisherLoaded(e)})),l.hc(4,"safeResource"),l.Ub(),l.Vb(5,"div",6),l.dc("click",(function(e){return l.Cc(t),l.gc().visit()})),l.Qb(6,"img",7),l.hc(7,"safeResource"),l.Ub(),l.Lc(8,Re,2,4,"div",8),l.Lc(9,Fe,2,0,"div",9),l.Ub(),l.Vb(10,"div",10),l.Vb(11,"div",11),l.dc("click",(function(e){return l.Cc(t),l.gc().visit()})),l.Vb(12,"div",12),l.Nc(13),l.Ub(),l.Qb(14,"i",13),l.Ub(),l.Vb(15,"div",14),l.Vb(16,"div",15),l.Qb(17,"img",16),l.Ub(),l.Lc(18,je,3,1,"div",17),l.Ub(),l.Ub(),l.Ub(),l.Qb(19,"div",18),l.Vb(20,"div",19),l.Vb(21,"div",20),l.Vb(22,"div",21),l.Nc(23),l.hc(24,"chineseCounter"),l.Ub(),l.Vb(25,"div",21),l.Nc(26),l.hc(27,"chineseCounter"),l.Ub(),l.Vb(28,"div",21),l.Nc(29),l.hc(30,"chineseCounter"),l.Ub(),l.Ub(),l.Vb(31,"div",22),l.Nc(32),l.Ub(),l.Ub(),l.Ub()}if(2&t){const t=l.gc();l.Bb(3),l.nc("currentUser",t.uid)("user",t.publisherEntity)("userId",t.publisher.uid)("avatar",l.ic(4,20,t.publisher.avatar))("status",1)("fromPublisher",!0)("officalUp",null==t.publisher?null:t.publisher.isOfficalUP)("vipSymbol",t.getImage(t.publisher.gid)),l.Bb(3),l.nc("src",l.ic(7,22,t.publisher.avatar+"?w=110&h=110&mode=crop&format=jpg"),l.Fc),l.Bb(2),l.nc("ngIf",t.publisher.gid>0&&!(null!=t.publisher&&t.publisher.isOfficalUP)),l.Bb(1),l.nc("ngIf",null==t.publisher?null:t.publisher.isOfficalUP),l.Bb(4),l.Oc(t.publisher.title),l.Bb(1),l.nc("ngClass",l.tc(30,ze,0===t.publisher.gender,1===t.publisher.gender)),l.Bb(2),l.nc("ngClass",l.sc(33,He,t.publisher.userLevel>7)),l.Bb(1),l.pc("src","./assets/images/user-center/lv_",(t.publisher.userLevel||1)>8?8:t.publisher.userLevel||1,".png",l.Fc),l.Bb(1),l.nc("ngIf",!!t.publisher.from),l.Bb(5),l.Pc("\u7c89\u4e1d\uff1a",l.ic(24,24,t.publisher.fansCount),""),l.Bb(3),l.Pc("\u4f5c\u54c1\uff1a",l.ic(27,26,t.publisher.videoCount),""),l.Bb(3),l.Pc("\u83b7\u8d5e\uff1a",l.ic(30,28,t.publisher.likes),""),l.Bb(3),l.Pc(" ",t.publisher.slogon?t.publisher.slogon:"\u6ca1\u6709\u4e2a\u6027\u6240\u4ee5\u6ca1\u6709\u7b7e\u540d"," ")}}const We=function(t){return{id:t}};function qe(t,e){if(1&t&&(l.Vb(0,"div",36),l.Vb(1,"a",37),l.Qb(2,"i",38),l.Vb(3,"span"),l.Nc(4,"\u79c1\u4fe1"),l.Ub(),l.Ub(),l.Ub()),2&t){const t=l.gc(2);l.Bb(1),l.nc("queryParams",l.sc(1,We,t.publisher.userKey||t.publisher.key))}}function Qe(t,e){1&t&&(l.Vb(0,"span",39),l.Qb(1,"i",40),l.Ub())}function $e(t,e){1&t&&(l.Vb(0,"span"),l.Nc(1,"\u5df2"),l.Ub())}function Ke(t,e){1&t&&(l.Vb(0,"span"),l.Nc(1,"+ "),l.Ub())}const Xe=function(t){return{notAttend:t}};function Ye(t,e){if(1&t){const t=l.Wb();l.Vb(0,"div",29),l.Lc(1,qe,5,3,"div",30),l.Vb(2,"a",31),l.Vb(3,"button",32),l.Vb(4,"span"),l.Nc(5,"\u4e2a\u4eba\u4e3b\u9875"),l.Ub(),l.Ub(),l.Ub(),l.Vb(6,"button",33),l.dc("click",(function(e){return l.Cc(t),l.gc().guanzhu()})),l.Lc(7,Qe,2,0,"span",34),l.Lc(8,$e,2,0,"span",35),l.Lc(9,Ke,2,0,"span",35),l.Nc(10,"\u5173\u6ce8 "),l.Ub(),l.Ub()}if(2&t){const t=l.gc();l.Bb(1),l.nc("ngIf",t.uid!==t.publisher.uid),l.Bb(1),l.nc("routerLink","/space/"+((null==t.publisher?null:t.publisher.userKey)||(null==t.publisher?null:t.publisher.key))+"/"),l.Bb(4),l.nc("ngClass",l.sc(6,Xe,!(null!=t.publisher&&t.publisher.isAttend))),l.Bb(1),l.nc("ngIf",t.loading),l.Bb(1),l.nc("ngIf",!t.loading&&(null==t.publisher?null:t.publisher.isAttend)),l.Bb(1),l.nc("ngIf",!(t.loading||null!=t.publisher&&t.publisher.isAttend))}}let Ze=(()=>{class t{constructor(t,e,n,i){this._router=t,this._toast=e,this._upload=n,this._user=i,this.uid=0,this.fromVideo=!1,this.loading=!1}ngOnInit(){}visit(){var t,e;this._router.navigateByUrl(this.fromVideo?"/space/"+((null===(t=this.publisher)||void 0===t?void 0:t.userKey)||this.publisher.key):"/space/"+((null===(e=this.publisher)||void 0===e?void 0:e.userKey)||this.publisher.key))}subscript(){this._upload.subscriptChannel(this.publisher.key).subscribe(t=>{if(null!=t&&t.length>0){var e=t[0];e.msg?this._toast.showBlackToast(e.msg):this.publisher.isSubscripted=!e.isCancel}})}getMembership(t){var e="";switch(t){case 0:e="";break;case 1:e="vip";break;case 2:e="gvip";break;case 3:e="royalVip";break;case 4:case 101:case 102:e="cpvip";break;default:e="vip"}return e}getImage(t){var e="";switch(t){case 0:e="";break;case 1:e=Pe.a.gVipBadge;break;case 2:e=Pe.a.etVipBadge;break;case 3:e=Pe.a.royalVipBadge;break;case 4:e=Pe.a.cpVipBadge;break;case 101:case 102:e=Pe.a.editorBadge;break;default:e=Pe.a.gVipBadge}return e}guanzhu(){this.uid>0?(this.loading=!0,this._upload.SetAttension(this.publisher.userKey).subscribe(t=>{this.publisher.uid!==this.uid&&(this.publisher.isAttend=!this.publisher.isAttend,this.publisher.fansCount+=this.publisher.isAttend?1:-1),this.loading=!1})):(this._toast.showBlackToast("\u8bf7\u5148\u767b\u5f55"),this._user.showLoginDialog(!0))}onPublisherLoaded(t){}}return t.\u0275fac=function(e){return new(e||t)(l.Pb(s.d),l.Pb($t.a),l.Pb(Ue.a),l.Pb(A.a))},t.\u0275cmp=l.Jb({type:t,selectors:[["video-publisher"]],inputs:{publisher:"publisher",uid:"uid",fromVideo:"fromVideo"},decls:2,vars:2,consts:[["class","publisher",4,"ngIf"],["class","action",4,"ngIf"],[1,"publisher"],[1,"d-flex"],[1,"avatar"],[1,"cardBox","fixed",3,"currentUser","user","userId","avatar","status","fromPublisher","officalUp","vipSymbol","userLoadedEvent"],[3,"click"],[1,"img-responsive",3,"src"],["class","vip-icon",4,"ngIf"],["class","vip-icon officalUp",4,"ngIf"],[1,"d-flex","flex-column","justify-content-center",2,"margin-top","4px"],[1,"name","d-flex","align-items-center",3,"click"],[1,"name-text"],[1,"iconfont","icon-size",3,"ngClass"],[1,"d-flex","align-items-center"],[1,"medal",3,"ngClass"],[1,"level","mr-2",3,"src"],["class","from",4,"ngIf"],[1,"seprate-line"],[1,"intro"],[1,"d-flex","ac"],[1,"flex-1"],[1,"slogon"],[1,"vip-icon"],[3,"membership","noText","width","height"],[1,"vip-icon","officalUp"],["src","./assets/images/officalUp.png?v=1",2,"margin-right","5px","width","20px"],[1,"from"],[1,"iconfont","iconditu_dingwei",2,"font-size","18px","margin-right","6px"],[1,"action"],["class","message-btn-ctn",4,"ngIf"],[1,"user-space",3,"routerLink"],["type","button",1,"btn","btn-default","space-button"],["type","button",1,"btn","btn-default","pull-right","follow-button",3,"ngClass","click"],["class","icon-sm",4,"ngIf"],[4,"ngIf"],[1,"message-btn-ctn"],["routerLink","/user/messages/chat","target","_blank",1,"icon-btn",3,"queryParams"],[1,"iconfont","iconsixin"],[1,"icon-sm"],[1,"iconfont","iconjiazai_shuaxin","animate-spin"]],template:function(t,e){1&t&&(l.Lc(0,Ge,33,35,"div",0),l.Lc(1,Ye,11,8,"div",1)),2&t&&(l.nc("ngIf",!!e.publisher),l.Bb(1),l.nc("ngIf",!!e.publisher))},directives:[i.n,De.a,i.l,Ee.a,s.g],pipes:[q.b,q.a],styles:[".publisher[_ngcontent-%COMP%]{width:100%;position:relative;padding:22px 22px 12px;color:#fff;border-bottom:1px solid hsla(0,0%,40%,.2)}.action[_ngcontent-%COMP%], .publisher[_ngcontent-%COMP%]{background-color:#1c1d2f}.action[_ngcontent-%COMP%]{padding:1.25em 22px;display:-webkit-box;display:flex;-webkit-box-pack:justify;justify-content:space-between;-webkit-box-align:center;align-items:center}.message-btn-ctn[_ngcontent-%COMP%]{height:37px}.btn[_ngcontent-%COMP%]{margin-top:.2em}.avatar[_ngcontent-%COMP%]{width:50px;height:50px;cursor:pointer;margin-right:25px}.avatar[_ngcontent-%COMP%]   .img-responsive[_ngcontent-%COMP%]{border-radius:50%}.cardBox[_ngcontent-%COMP%]{opacity:0}.cardBox[_ngcontent-%COMP%]:hover{opacity:1}.img-responsive[_ngcontent-%COMP%]{width:100%;height:100%}.vip-icon[_ngcontent-%COMP%]{position:absolute;z-index:999;width:20px;height:20px;margin-top:-20px;margin-left:37px}.name[_ngcontent-%COMP%]{font-size:16px;line-height:16px;cursor:pointer}.name[_ngcontent-%COMP%]   .name-text[_ngcontent-%COMP%]{max-width:175px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;margin-right:4px}.medal[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:38px;margin-top:8px}.medal.maxLv[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:54px}.intro[_ngcontent-%COMP%]{padding:29px 4px;color:hsla(0,0%,100%,.4)}.intro[_ngcontent-%COMP%]   .ac[_ngcontent-%COMP%]{color:#fff;margin-bottom:1.5em}.count[_ngcontent-%COMP%]{position:absolute;right:0;bottom:-.5em;color:#525252;width:5em;text-align:center;white-space:nowrap}.from[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;margin-top:5px}.from[_ngcontent-%COMP%], .icon-btn[_ngcontent-%COMP%]{color:hsla(0,0%,100%,.4)}.icon-btn[_ngcontent-%COMP%]{cursor:pointer}.icon-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative;top:-.3em;margin-left:.3em}.icon-btn[_ngcontent-%COMP%]:hover{color:#fff}.btn-default[_ngcontent-%COMP%]{color:hsla(0,0%,100%,.7)!important;border:0!important;height:34px;padding:.3em 1em}.btn-default[_ngcontent-%COMP%], .btn-default[_ngcontent-%COMP%]:hover{background-color:#373843!important}.btn-default[_ngcontent-%COMP%]:hover{color:#fff!important}.icon-size[_ngcontent-%COMP%]{font-size:16px;font-weight:700}.icon-sm[_ngcontent-%COMP%]   .iconfont[_ngcontent-%COMP%]{font-size:14px}.user-space[_ngcontent-%COMP%]{margin-left:auto;margin-right:1em}.follow-button[_ngcontent-%COMP%], .space-button[_ngcontent-%COMP%]{padding-bottom:.2em}.follow-button[_ngcontent-%COMP%]{min-width:70px}.follow-button.notAttend[_ngcontent-%COMP%]{background-color:#00c0ff!important;color:#fff!important}"]}),t})();var Je=n("PkM9"),tn=n("ha/m"),en=n("oAdE"),nn=n("VWJ4");let on=(()=>{class t{constructor(t){this._purchaseRequiredDialogService=t,this._purchaseRequiredDialogService.purchaseRequiredDialogSource$.subscribe(t=>{this.price=t.price,this.mediaId=t.mediaId})}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(l.Pb(b.a))},t.\u0275cmp=l.Jb({type:t,selectors:[["app-purchase-required"]],decls:5,vars:1,consts:[[2,"padding","15px","height","100px","display","flex","flex-direction","column","align-items","center","justify-content","space-between"],[1,"mx-2"],[1,"mx-2",2,"color","#FEC1A1"]],template:function(t,e){1&t&&(l.Vb(0,"div",0),l.Vb(1,"h5",1),l.Nc(2),l.Ub(),l.Vb(3,"h5",2),l.Nc(4,"\u5f00\u901aVIP\u5373\u523b\u4eab\u53d7\u5168\u7ad9\u9ad8\u6e05\u7279\u6743\uff01"),l.Ub(),l.Ub()),2&t&&(l.Bb(2),l.Pc("\u89e3\u9501\u8be5\u89c6\u9891\u5c06\u82b1\u8d39",e.price,"\u91d1\u5e01"))},styles:[""]}),t})();var sn=n("Jr3z"),rn=n("dayM"),an=n("ZR7r");let cn=(()=>{class t{constructor(t,e,n){this._router=t,this._purchaseSuccessDialogService=e,this._dnDialogService=n,this.subscription=[]}ngOnDestroy(){this.subscription.forEach(t=>t.unsubscribe())}ngOnInit(){this.subscription.push(this._purchaseSuccessDialogService.purchaseSuccessDialogSource$.subscribe(t=>{this.videoKey=t.videoKey,this.mediaKey=t.mediaKey}))}playNow(){this._purchaseSuccessDialogService.changeLineOrBitrate(!0),this._dnDialogService.close("purchase-success")}}return t.\u0275fac=function(e){return new(e||t)(l.Pb(s.d),l.Pb(v.a),l.Pb(d.a))},t.\u0275cmp=l.Jb({type:t,selectors:[["app-purchase-success"]],decls:2,vars:0,consts:[[1,"dn-button","dn-button-blue",3,"click"]],template:function(t,e){1&t&&(l.Vb(0,"div",0),l.dc("click",(function(t){return e.playNow()})),l.Nc(1,"\u7acb\u5373\u64ad\u653e"),l.Ub())},styles:[""]}),t})();var ln=n("qWkz");function hn(t,e){if(1&t&&(l.Vb(0,"div",14),l.Vb(1,"div",15),l.Qb(2,"img",16),l.Ub(),l.Vb(3,"div",17),l.Nc(4," \u626b\u63cf\u4e8c\u7ef4\u7801\u6216\u8005\u70b9\u51fb\u56fe\u6807\u5206\u4eab\u8fd9\u4e2a\u9875\u9762 "),l.Ub(),l.Ub()),2&t){const t=l.gc();l.Bb(2),l.nc("src",t.qrCodeSrc,l.Fc)}}function dn(t,e){1&t&&(l.Vb(0,"div",18),l.Vb(1,"div",19),l.Vb(2,"div"),l.Vb(3,"div"),l.Nc(4,"\u626b\u63cf\u4e8c\u7ef4\u7801\u5206\u4eab"),l.Ub(),l.Ub(),l.Ub(),l.Ub())}let un=(()=>{class t{constructor(t,e,n){this._router=t,this.store=e,this._utility=n,this.subscriptions=[],this.showQRCode=!1,this.toPlay=!1,this.isNews=!1,this.domain=document.location.protocol+"//"+document.location.hostname}ngOnInit(){this.showQRCode=!1,this.genLinks(),this.subscriptions.push(this._router.events.subscribe(t=>{this.showQRCode=!1,this.genLinks()}))}shareLink(t,e,n,i){return"https://www.anygate.vip/r?url="+encodeURI(t)+"&click=1&uid=0&to="+i+"&type=text&pic="+encodeURI(e)+"&title="+encodeURI(n)+"&key=&desc=&comment=&relateUid=&searchPic=0&sign=on"}genLinks(){let t=this.toPlay?"https://www."+this._utility.GetHost()+"/watch?id={id}":"https://www."+this._utility.GetHost()+"/detail?id={id}";this.isNews&&(t="https://www."+this._utility.GetHost()+"/watch?v={id}");const e=t.replace("{page}",2==C.a.cinema?"Adult":"Movie").replace("{id}",this.id);this.qrCodeSrc=encodeURI(this._utility.GetHost("//img.{Host}/qrcode/index?url=")+encodeURI(e)),this.fbLink=this.shareLink(e,this.image,this.title,"fbook"),this.twitterLink=this.shareLink(e,this.image,this.title,"twi"),this.qqZoneLink=this.shareLink(e,this.image,this.title,"qzone"),this.qqLink=this.shareLink(e,this.image,this.title,"sqq"),this.weiboLink=this.shareLink(e,this.image,this.title,"tsina")}share(t){t&&(this.showQRCode=!0),this.store.dispatch({type:p.a})}readState(){}}return t.\u0275fac=function(e){return new(e||t)(l.Pb(s.d),l.Pb(g.a),l.Pb(y.a))},t.\u0275cmp=l.Jb({type:t,selectors:[["app-share"]],inputs:{url:"url",title:"title",id:"id",image:"image",toPlay:"toPlay",isNews:"isNews"},decls:14,vars:7,consts:[[1,"share"],["class","share-wechat",4,"ngIf"],["class","share-wechat d-flex justify-content-center mb-3",4,"ngIf"],[1,"d-flex","align-items-center","justify-content-center"],["title","\u5206\u4eab\u5230\u65b0\u6d6a\u5fae\u535a","target","_blank",1,"social-link",3,"href","click"],["src","./assets/images/social/weibo.png",1,"social"],["title","\u5206\u4eab\u5230QQ\u597d\u53cb","target","_blank",1,"social-link",3,"href","click"],["src","./assets/images/social/qq.png",1,"social"],["title","\u5206\u4eab\u5230QQ\u7a7a\u95f4","target","_blank",1,"social-link",3,"href","click"],["src","./assets/images/social/qq-zone.png",1,"social"],["title","\u5206\u4eab\u5230Twitter","target","_blank",1,"social-link",3,"href","click"],["src","./assets/images/social/twitter.png",1,"social"],["title","\u5206\u4eabFacebook","target","_blank",1,"social-link",3,"href","click"],["src","./assets/images/social/facebook.png",1,"social"],[1,"share-wechat"],[1,"qr-code"],[3,"src"],[1,"prompt","w-100"],[1,"share-wechat","d-flex","justify-content-center","mb-3"],[1,"qr-code","flex-1"]],template:function(t,e){1&t&&(l.Vb(0,"div",0),l.Lc(1,hn,5,1,"div",1),l.Lc(2,dn,5,0,"div",2),l.Vb(3,"div",3),l.Vb(4,"a",4),l.dc("click",(function(t){return e.share(!1)})),l.Qb(5,"img",5),l.Ub(),l.Vb(6,"a",6),l.dc("click",(function(t){return e.share(!1)})),l.Qb(7,"img",7),l.Ub(),l.Vb(8,"a",8),l.dc("click",(function(t){return e.share(!1)})),l.Qb(9,"img",9),l.Ub(),l.Vb(10,"a",10),l.dc("click",(function(t){return e.share(!1)})),l.Qb(11,"img",11),l.Ub(),l.Vb(12,"a",12),l.dc("click",(function(t){return e.share(!1)})),l.Qb(13,"img",13),l.Ub(),l.Ub(),l.Ub()),2&t&&(l.Bb(1),l.nc("ngIf",!e.showQRCode),l.Bb(1),l.nc("ngIf",e.showQRCode),l.Bb(2),l.nc("href",e.weiboLink,l.Fc),l.Bb(2),l.nc("href",e.qqLink,l.Fc),l.Bb(2),l.nc("href",e.qqZoneLink,l.Fc),l.Bb(2),l.nc("href",e.twitterLink,l.Fc),l.Bb(2),l.nc("href",e.fbLink,l.Fc))},directives:[i.n],styles:[".share[_ngcontent-%COMP%]{padding:10px 0}.prompt[_ngcontent-%COMP%], .qr-code[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center;text-align:center;width:100%;height:50px}.prompt[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .qr-code[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:90px;width:90px;border:1px solid #ddd;padding:5px;display:block}.qr-code[_ngcontent-%COMP%]{height:105px}.social-link[_ngcontent-%COMP%]{width:20%}img.social[_ngcontent-%COMP%]{width:40px}"]}),t})();const gn=["canvas"],pn=["mediaId"];function fn(t,e){if(1&t&&l.Qb(0,"app-gg-block",43),2&t){const t=l.gc(2);l.nc("ggPosition",t.ggPosition.VideoPageContent)("code",t.isAdult?"APB":"PB")}}function bn(t,e){if(1&t&&(l.Vb(0,"div",44),l.Qb(1,"app-gg-block",45),l.Ub()),2&t){const t=l.gc(2);l.Bb(1),l.nc("ggPosition",t.ggPosition.VideoPageRight)("code",t.isAdult?"APR1":"PR1")}}function mn(t,e){if(1&t&&(l.Vb(0,"div",44),l.Qb(1,"app-live-chat",46),l.Ub()),2&t){const t=l.gc(2);l.Bb(1),l.nc("uniqueKey",t.uniqueKey)}}function vn(t,e){if(1&t&&l.Qb(0,"video-publisher",47),2&t){const t=l.gc(2);l.nc("publisher",t.video.publisher)("uid",null==t.user?null:t.user.id)}}const yn=function(t){return{"float-player":t}};function Cn(t,e){if(1&t){const t=l.Wb();l.Vb(0,"div",21),l.Vb(1,"div",22),l.Vb(2,"div",23),l.Vb(3,"div",24),l.Vb(4,"dn-videoplayer",25),l.dc("onVideoReady",(function(e){return l.Cc(t),l.gc().onPlayerReady(e)}))("onErrorHandler",(function(e){return l.Cc(t),l.gc().handleError()}))("onChangeLanguage",(function(e){return l.Cc(t),l.gc().changingLanguage(e)}))("onPlay",(function(e){return l.Cc(t),l.gc().onPlay()}))("apiReady",(function(e){return l.Cc(t),l.gc().onPlayerApiReady(e)}))("onCloseSmallPlayer",(function(e){return l.Cc(t),l.gc().closeSmallPlayer()})),l.Ub(),l.Ub(),l.Vb(5,"app-video-user-data-bar",26),l.dc("userBehaviorEvent",(function(e){return l.Cc(t),l.gc().onUserrBehavior(e)}))("showCommentsEvent",(function(e){return l.Cc(t),l.gc().showPlaylist()})),l.Ub(),l.Lc(6,fn,1,2,"app-gg-block",27),l.Ub(),l.Vb(7,"div",28),l.Lc(8,bn,2,2,"div",29),l.Lc(9,mn,2,1,"div",29),l.Vb(10,"div",30),l.Lc(11,vn,1,2,"video-publisher",31),l.Ub(),l.Vb(12,"div",32),l.Vb(13,"div",33),l.Vb(14,"div",34),l.Qb(15,"img",35),l.Ub(),l.Vb(16,"div",36),l.Vb(17,"div",37),l.Nc(18,"\u626b\u4e00\u626b\uff0c\u624b\u673a\u89c2\u770b\u66f4\u4fbf\u6377\uff01"),l.Ub(),l.Vb(19,"a",38),l.Vb(20,"div",39),l.Qb(21,"i",40),l.Nc(22," \u4e0b\u8f7d\u5b89\u5353APP "),l.Qb(23,"i",41),l.Ub(),l.Ub(),l.Vb(24,"div",42),l.Nc(25,"\u6ca1\u6709APP\uff1f \u7acb\u5373\u4e0b\u8f7d"),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub()}if(2&t){const t=l.gc();l.Bb(2),l.nc("ngClass",l.sc(38,yn,t.showSmallPlayer)),l.Bb(2),l.nc("mediaTitle",t.mediaTitle)("isFloatPlayer",t.showSmallPlayer)("shouldSkipAds",t.getGID>0||t.hasBought)("needBought",t.getGID<=0||!t.user||!t.user.id)("hasBought",t.hasBought)("showNextButton","movie"!==(null==t.video?null:t.video.category))("playlist",t.playlist)("playlistType",t.whichListType)("filterGold",t.filterGold)("filterCallback",t.filterCallbackFunc)("unlockCallback",t.unlockCallbackFunc)("logo","auto")("playNextCallback",t.playNextFunc)("serverInfo",t.serverInfo)("isPlayRatio",t.playRatio)("previewFormat",t.previewFormat)("languageList",t.languageList)("language",t.language)("bitrates",t.bitrates)("isLine",t.isLine)("unlockGold",t.unlockGold)("playingMedia",t.playingMedia)("video",t.video)("newMediaKey",t.newMediaKey)("isLive",t.isLive)("user",t.user)("isUserFilterAd",t.isUserFilterAd)("mediaList",t.pendingPlayList.medias),l.Bb(1),l.nc("isLive",t.isLive)("video",t.video)("commentsCount",t.commentsCount),l.Bb(1),l.nc("ngIf",t.mediaKey),l.Bb(2),l.nc("ngIf",!t.isLive),l.Bb(1),l.nc("ngIf",t.isLive),l.Bb(2),l.nc("ngIf",null!=t.video),l.Bb(4),l.nc("src",t.qrHost+t.link,l.Fc),l.Bb(4),l.oc("href",t.enableDownload?"/app-download":"#",l.Fc)}}function _n(t,e){if(1&t&&(l.Vb(0,"div",48),l.Qb(1,"app-list",49),l.Ub()),2&t){const t=l.gc();l.Bb(1),l.nc("items",t.playlist)("isWide",t.wideButton)("newMediaKey",t.newMediaKey)}}function xn(t,e){if(1&t&&(l.Vb(0,"div",48),l.Qb(1,"app-list-by-year",50),l.Ub()),2&t){const t=l.gc();l.Bb(1),l.nc("items",t.playlist)("fromPlayer",!1)("newMediaKey",t.newMediaKey)}}function Pn(t,e){if(1&t&&(l.Vb(0,"span"),l.Nc(1),l.Ub()),2&t){const t=l.gc(2);l.Bb(1),l.Pc("(",0===t.video.commentStatus?t.commentsCount:0,")")}}function wn(t,e){if(1&t){const t=l.Wb();l.Vb(0,"app-dn-comments",59),l.dc("onCommentsLoaded",(function(e){return l.Cc(t),l.gc(2).setCommentCount(e)})),l.Ub()}if(2&t){const t=l.gc(2);l.nc("videoId",t.video.id)}}function On(t,e){if(1&t){const t=l.Wb();l.Vb(0,"div",51,52),l.Vb(2,"div",13),l.Vb(3,"h4",53),l.Qb(4,"i",54),l.Nc(5," \u8bc4\u8bba\u533a"),l.Ub(),l.Lc(6,Pn,2,1,"span",55),l.Ub(),l.Vb(7,"app-comment-box",56,57),l.dc("commentSuccessEvent",(function(e){return l.Cc(t),l.gc().commentCountHandler(e)})),l.Ub(),l.Lc(9,wn,1,1,"app-dn-comments",58),l.Ub()}if(2&t){const t=l.gc();l.Bb(6),l.nc("ngIf",t.commentsCount),l.Bb(1),l.nc("videoId",t.video.id)("commentStatus",t.video.commentStatus),l.Bb(2),l.nc("ngIf",t.video&&0===t.video.commentStatus)}}function Mn(t,e){1&t&&(l.Vb(0,"div",67),l.Vb(1,"div"),l.Qb(2,"app-loader-spinner"),l.Vb(3,"p"),l.Nc(4,"\u6b63\u5728\u63d0\u4ea4..."),l.Ub(),l.Ub(),l.Ub())}function kn(t,e){if(1&t){const t=l.Wb();l.Lc(0,Mn,5,0,"div",60),l.Vb(1,"div",61),l.Qb(2,"app-purchase-required"),l.Ub(),l.Vb(3,"div",62),l.Vb(4,"div",63),l.dc("click",(function(e){return l.Cc(t),l.gc().buyMedia()})),l.Nc(5,"\u7acb\u523b\u89e3\u9501"),l.Ub(),l.Qb(6,"div",64),l.Vb(7,"div",65),l.dc("click",(function(e){return l.Cc(t),l.gc().showRechargeBox()})),l.Nc(8,"\u5f00\u901aVIP"),l.Ub(),l.Ub(),l.Qb(9,"app-dn-dialog-close-button",66)}if(2&t){const t=l.gc();l.nc("ngIf",t.purchasing),l.Bb(9),l.nc("dialog","purchase-required")}}function Sn(t,e){1&t&&(l.Qb(0,"app-message-dialog"),l.Vb(1,"div",62),l.Qb(2,"app-purchase-success"),l.Ub(),l.Qb(3,"app-dn-dialog-close-button",66)),2&t&&(l.Bb(3),l.nc("dialog","purchase-success"))}function In(t,e){if(1&t){const t=l.Wb();l.Vb(0,"div",68),l.Vb(1,"h5",69),l.Nc(2),l.Ub(),l.Ub(),l.Vb(3,"div",62),l.Vb(4,"div",70),l.Nc(5,"\u83b7\u53d6\u91d1\u5e01"),l.Ub(),l.Qb(6,"div",64),l.Vb(7,"div",71),l.dc("click",(function(e){return l.Cc(t),l.gc().showRechargeBox()})),l.Nc(8,"\u5145\u503cVIP"),l.Ub(),l.Ub(),l.Qb(9,"app-dn-dialog-close-button",66)}if(2&t){const t=e.data;l.Bb(2),l.Pc("\u60a8\u5f53\u524d\u91d1\u5e01\u4e0d\u8db3",t["purchase-required-price"],"\uff0c\u8bf7\u83b7\u53d6\u91d1\u5e01\u6216\u5347\u7ea7VIP\u540e\u518d\u8bd5\u3002"),l.Bb(2),l.nc("routerLink","/user/index"),l.Bb(5),l.nc("dialog","media-unavailable")}}function Ln(t,e){if(1&t){const t=l.Wb();l.Vb(0,"div",72),l.Qb(1,"div",73),l.Vb(2,"h5",74),l.Nc(3,"\u6b64\u529f\u80fd\u4ec5\u9650 VIP \u7528\u6237\u4f7f\u7528"),l.Ub(),l.Ub(),l.Vb(4,"div",62),l.Vb(5,"div",71),l.dc("click",(function(e){return l.Cc(t),l.gc().showRechargeBox()})),l.Nc(6,"\u5347\u7ea7VIP"),l.Ub(),l.Qb(7,"div",64),l.Qb(8,"app-dn-dialog-button",75),l.Ub(),l.Qb(9,"app-dn-dialog-close-button",66)}2&t&&(l.Bb(8),l.nc("dialog","vip-only"),l.Bb(1),l.nc("dialog","vip-only"))}function Tn(t,e){if(1&t&&l.Qb(0,"app-share",77),2&t){const t=l.gc(2);l.nc("title",t.video.title)("url",t._router.url)("id",t.videoKey)("image",t.posterImage)}}function An(t,e){if(1&t&&(l.Vb(0,"div",72),l.Lc(1,Tn,1,4,"app-share",76),l.Ub(),l.Qb(2,"app-dn-dialog-close-button",66)),2&t){const t=l.gc();l.Bb(1),l.nc("ngIf",t.video),l.Bb(1),l.nc("dialog","share")}}let Nn=(()=>{class t{constructor(t,e,n,i,o,s,r,a,l,h,d,g,p,f,b,m,v,y,_,x,P,w,O,M,k,S){this._videoService=t,this._router=e,this._activatedRoute=n,this._titleService=i,this._dnDialogService=o,this._messageDialogService=s,this.pageScrollService=r,this._rechargeBoxService=a,this._favoriteService=l,this._purchaseRequiredDialogService=h,this._purchaseSuccessDialogService=d,this.document=g,this.store=p,this._storage=f,this.watchHistoy=b,this._playHistoryService=m,this._permission=v,this.danmuFacade=y,this.httpHelper=_,this._location=x,this.rankedVideosService=P,this.categoryService=w,this._apiUrlHelper=O,this.videoPlayerSettingsService=M,this._userService=k,this._utility=S,this.isAdult=2===C.a.cinema,this.hlsSpeed=0,this.pendingPlayList={medias:null,adsList:null,pauseList:null},this.broker="",this.videoTitle="",this.mediaid=null,this.filterGold=10,this.showSmallPlayer=!1,this.customData=null,this.smallPlayerValid=!0,this.messageDialogType=u.b,this.start=0,this.hasBought=0,this.unlockGold=100,this.forbiddeinPlay=["videojs","jwplayer"],this.isVideoOver=!1,this.subscriptions=[],this.ggPosition=c.b,this.purchasing=!1,this.currentLanguage=0,this.serverInfo={},this.contentWidth={width:1370,margin:0},this.playlist=[],this.wideButton=!1,this.showSmallPlayerOffset=540,this.qrHost=this._utility.GetHost("https://img.{Host}/qrcode/?url="),this.link=this._utility.getSiteConfig.appDownloadLink,this.scrollToList=!1,this.isLive=!1,this.uniqueKey="",this.startTimeCount=!1,this.nowTime=null,this.lastTime=null,this.isUserFilterAd=!1,this.subscript=null,this.mediaTitle="",this.currentRankList=[],this.rankListTitle="",this.rankMoreLink="",this.forbiddenFloatPlayer=!1,this._listener=()=>{},this.autoPlay=!1,this.playedKey="-1",this.viewTime="",this.lastuid=0,this.currentUID=0,this.cinema=C.a.cinema,this.language="",this.languageList=[],this.previewFormat="",this.playRatio=!1,this.bitrates=[],this.isLine=!1,this.app=C.a.app,this.onPlayReady=[],this.plaerReadyTimeout=null,this.isWatched=!1,this.shouldClose=!1,this.enableDownload=this._utility.getSiteConfig.enableAndroidDownload||this._utility.getSiteConfig.enableIOSDonwload,this.reload=!1}get playNextFunc(){return this.nextVideo.bind(this,!0)}get getGID(){return null!=this.user&&null!=this.user.token?this.user.token.gid:0}onWindowScroll(){window.pageYOffset>this.showSmallPlayerOffset?this.smallPlayerValid&&!this.forbiddenFloatPlayer&&(this.showSmallPlayer=!0):(this.showSmallPlayer=!1,this.smallPlayerValid=!0)}ngOnInit(){window.rechargeBox=()=>{this._rechargeBoxService.changeDisplayStatus(!0)},this._utility.isNews=!1,this.user=this._userService.user,this.subscriptions.push(this._userService.userState$.subscribe(t=>{this.user=t,this.readState()}),this.videoPlayerSettingsService.playerSettings$.subscribe(t=>{this.forbiddenFloatPlayer="1"===t.forbiddenFloatingPlayer})),this._purchaseRequiredDialogService.purchaseRequiredDialogSource$.subscribe(t=>{this.videoInShoppingCart={price:t.price,mediaId:t.mediaId}}),this.playRatio=this._permission.isValid(x.b.PlayRatio),this._activatedRoute.queryParams.subscribe(t=>{this.isWatched=!1,this.mediaKey=t.id,this.autoPlay=!!t.a,this.scrollToList=!!t.s,this.renderPlayer(),this.danmuFacade.resetDanmu(null)}),this.subscriptions.push(this.checkForbiddenPlayer=this._utility.setTimeout(()=>{this.checkForError()},5e3),this._activatedRoute.fragment.subscribe(t=>{"comments"===t&&this.scrollToComments()}))}stratScroll(){}checkForError(){for(var t=0;t<this.forbiddeinPlay.length;++t)if(window[this.forbiddeinPlay[t]])return confirm("\u68c0\u67e5\u5230\u60a8\u6b63\u5728\u4f7f\u7528\u6076\u610f\u63d2\u4ef6\uff0c\u8be5\u63d2\u4ef6\u4f1a\u7be1\u6539\u7f51\u7ad9\u6570\u636e\uff0c\u81f4\u4f7f\u7f51\u7ad9\u90e8\u5206\u529f\u80fd\u5931\u6548\uff0c\u5e76\u5b58\u5728\u76d7\u53f7\u98ce\u9669\u3002"),void(window.location.href="/");this._utility.setTimeout(()=>this.checkForError(),5e3)}readState(){!this.lastuid&&this.user.id>0&&this.onUserInfoChanged(),this.api&&this.pendingPlayList.pauseList&&this.api.invokePauseList(this.pendingPlayList.pauseList),this.lastuid=this.user.id}onUserInfoChanged(){var t=this._router.parseUrl(this._router.url);this.mediaKey=t.queryParams.id,this.currentUID=this.user.id,this._videoService.IsUserFilter(this.user,this.newMediaKey).subscribe(t=>{t&&(0===this.user.token.gid&&(this.hasBought=this._permission.isValid(x.b.FilterFrontAds)?2:t.isFilter?1:0),this.broker=t.broker)}),this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.reloadClairty()},500),console.log("reload clarity")}renderVideoPage(){this.videoKey&&this.subscriptions.push(this._videoService.getVideo(this.user,this.videoKey).subscribe(t=>{this.invokeDataToVideoPage(t),this._videoService.getPlaylistByLanguage(this.user,this.videoKey,this.video.taxis,this.video.cid).subscribe(t=>{this.whichListType=t.playListType||"None",this.playlist=t.playList})}))}reloadClairty(){this.newMediaKey&&this._videoService.getMedia(this.user,this.newMediaKey,!1).subscribe(t=>{this.invokeClarity(t),this.checkIsBought(t),this.reloadPause(t)})}reloadPause(t){let e=[];t.pauseData&&(e=t.pauseData.map(t=>this.converHtml5ToMedia2(t))),this.assingPendding("pauseList",e),this.api&&this.pendingPlayList.pauseList&&this.api.invokePauseList(this.pendingPlayList.pauseList),this.pendingPlayList.pauseList=null}getRankList(){this.rankList?this.selectCurrentRankList():this.rankedVideosService.getRankedVideos().subscribe(t=>{this.rankList=t,this.selectCurrentRankList()})}selectCurrentRankList(){var t;const e=this.video.cid.match(/\d+,\d+,\d+/g)[0];this.currentRankList=(null===(t=this.rankList.find(t=>t.cid===e))||void 0===t?void 0:t.items)||[]}getVideoPageHotTop(t){const e=this._apiUrlHelper.urlBuilder("nav-second-links",{cid:t});return this.httpHelper.get(e).pipe(Object(L.a)(t=>t.map(t=>({cid:t.videoType,genre:t.videoType,key:t.link,language:t.lang,link:t.link,published:t.year,rating:(10*t.pinFenValue).toFixed(1).toString(),region:t.regional,title:t.title,updates:t.updateNumber}))))}invokeDataToVideoPage(t){var e;t.category!==(null===(e=this.video)||void 0===e?void 0:e.category)?(this.video=t,this.rankListTitle=this.categoryService.getCategoryByCId(this.video.cid).title,this.rankMoreLink=this.categoryService.getCategoryByCId(this.video.cid).ranklink,this.getRankList()):this.video=t,this.video&&(this.video.cid.startsWith("0,1,5")||this.video.cid.startsWith("0,1,95"))&&(this.wideButton=!0),this.unlockGold=this.video.unlockGold,this.filterGold=this.video.filtergold,this.updateUserBehaviors(),this.watchHistoy.assingVideo(this.video),this.history=this.watchHistoy.getFromLocal(),this.posterImage=this.video.image,this.videoTitle=this.video.title,this._titleService.setTitle(this.video.title+(this.video.isMediaTitleVisible?"-"+this.mediaTitle:"")+"-\u5728\u7ebf\u89c2\u770b"),this.video.summary?this._titleService.setDescription(this._utility.GetContent(this.video.summary).substring(0,50)+"..."):this._titleService.setDescription("\u300a"+this.video.title+"\u300b",this.video.genre,this.video.actors,this.video.tags),this._videoService.pageViewRecord(this.video.recApiUrl).subscribe(t=>{"ok"===t&&this._favoriteService.changeFavoriteStatus(!0)}),this.language=t.language,this.languageList=t.languages,this.store.dispatch({type:p.d,video:this.video}),this.store.dispatch({type:p.c,language:this.language})}changingLanguage(t){t.attr?(this.api.showInfo("\u6b63\u5728\u5207\u6362\u5230["+t.title+"]",5,!1),this._videoService.getPlaylistByLanguage(this.user,t.link,this.video.taxis,this.video.cid).subscribe(e=>{var n;(n=e.playList.length>1?e.playList.findIndex(t=>t.title==this.mediaTitle):0)>-1?(this._storage.SetConfig({lang:t.attr}),this.start=this.api.currentTime,setTimeout(()=>{this.api.showInfo("\u5207\u6362\u6210\u529f",5,!1)},3e3),this.toVideoByID(e.playList[n].key)):alert("\u64ad\u653e\u5217\u8868\u51fa\u9519\uff0c\u8bf7\u8054\u7cfb\u5ba2\u670d")})):this.api.showInfo("\u6b63\u5728\u64ad\u653e["+t.title+"]",5,!1)}invokeClarity(t){if(t){const e=t.clarity.filter(t=>"auto"!==t.description);this.uniqueKey=t.uniqueKey,this.isLine=!!t.isLine,this.bitrates=e.map((t,n)=>(t.label=this.isLine?t.memo:t.title,t.title=this.isLine?t.label:t.title,t.qualityIndex=e.length-1-n,t.short="auto"==t.description?"":t.description,t.bitrate=t.bitrate/1e3,t)),this.isUserFilterAd=!!t.isUserFilterAd&&t.isUserFilterAd,this.playingMedia&&-1!=this.bitrates.findIndex(t=>t.key==this.playingMedia.key)||(this.playingMedia=this.bitrates.find(e=>e.key==t.playingMedia.key))}}checkIsBought(t){this.hasBought=t.clarity.filter(t=>t.isBought).length?1:0}invokePlayVideo(t){var e;this.previewFormat=t.previewFormat,this.mediaTitle=t.mediaTitle,this.videoKey!=t.key?(this.videoKey=t.key,this.renderVideoPage()):(null===(e=this.video)||void 0===e?void 0:e.title)&&this._titleService.setTitle(this.video.title+(this.video.isMediaTitleVisible?"-"+this.mediaTitle:"")+"-\u5728\u7ebf\u89c2\u770b"),this.invokeClarity(t),this.checkIsBought(t);const n=t.uniqueKey;this.danmuFacade.setDanmuKey(n),this.danmuFacade.requireDanmuList({key:n,user:this.user}),this.start||(t.startSecond>0?(this.start=t.startSecond,setTimeout(()=>{this.api&&this.api.showInfo("\u4e3a\u60a8\u8df3\u5230\u4e0a\u6b21\u64ad\u653e\u7684\u65f6\u95f4",5,!1)},500)):this.start=0);var i=[],o=[],s=[];if(this.serverInfo=t.videoServer,this.customData=t.customData,this.interpreterCustom(),t.title&&this._titleService.setTitle(t.title),t.startData&&!this._permission.isValid(x.b.FilterFrontAds))for(var r=0;r<t.startData.length;++r){var a=this.converHtml5ToMedia2(t.startData[r]);i.push(a)}var c=3,l=t.maxFrontAds||2;for(r=0;r<t.flvPathList.length;++r){var h=t.flvPathList[r];if(h.needSign&&(h.result=h.backup=this.httpHelper.uriSignature(this.httpHelper.appendUserInfo(h.result).url)),h.link)h.result&&(this._permission.isValid(x.b.FilterFrontAds)||(this.shouldUseFronAds(t.title)?c>0&&i.length<l&&(--c,i.push(this.converHtml5ToMedia2(h))):o.push(this.converHtml5ToMedia2(h))));else{this.broker=t.flvPathList[r].broker;var d=this.converHtml5ToMedia2(t.flvPathList[r]);d.title=t.key,i.push(d)}}t.pauseData&&!this._permission.isValid(x.b.FilterPauseAds)&&(s=t.pauseData.map(t=>this.converHtml5ToMedia2(t))),this.assingPendding("medias",i),0===o.length&&(this.user.id>0&&this.user.token.gid<=0&&(this.hasBought=this._permission.isValid(x.b.FilterFrontAds)?2:this.hasBought),o=[{src:"",href:"",isAd:!0}]),this.mediaid=t.mediaKey,this.shouldUseFronAds(t.title)||this.assingPendding("adsList",o),this.assingPendding("pauseList",s),this.playOrWait()}normalRenderPlayer(){this.subscriptions.push(this._videoService.getMedia(this.user,this.mediaKey,this.autoPlay).subscribe(t=>{t&&t.mediaKey&&(this.invokePlayVideo(t),this.newMediaKey=t.mediaKey,this._location.replaceState("play","id="+t.mediaKey,!0))})),this.shouldClose=!0}renderPlayer(){this.mediaKey&&this.normalRenderPlayer()}shouldUseFronAds(t){return 2==C.a.cinema?-1==t.indexOf("\u9884\u89c8"):!!this._utility.isIphoneDevice()}get filterCallbackFunc(){return this.filterCallback.bind(this)}get unlockCallbackFunc(){return this.unlockCallback.bind(this)}unlockCallback(t){this.user.id?this.user.id&&(this._purchaseRequiredDialogService.setState({price:this.unlockGold,mediaId:t}),this._dnDialogService.open("purchase-required",{"purchase-required-price":this.unlockGold,"media-id":t})):this._dnDialogService.open("login-required")}filterCallback(t,e){this.user.id?this._videoService.filterVideo(this.user,this.mediaid).subscribe(n=>{const i=n[0];i&&(i&&i.issucess?t():e(i))}):e("\u8bf7\u5148\u767b\u5f55")}converHtml5ToMedia2(t){return{title:"",src:this.httpHelper.uriSignature(t.result,!1),length:0,type:this.getType(t.isHls),href:decodeURIComponent(t.link),isStream:0===t.type,isAd:!!t.link,isHls:t.isHls,isImage:t.result&&(t.result.indexOf(".jpg")>-1||t.result.indexOf(".png")>-1||t.result.indexOf(".gif")>-1),backup:"",rtmp:"",isLive:t.isLive}}assingPendding(t,e){this.pendingPlayList[t]=e}playOrWait(){null!=this.api&&(this.pendingPlayList.adsList&&(this.api.invokeInterstitial(this.pendingPlayList.adsList),this.pendingPlayList.adsList=null),this.pendingPlayList.pauseList&&(this.api.invokePauseList(this.pendingPlayList.pauseList),this.pendingPlayList.pauseList=null))}interpreterCustom(){var t={start:this.start||0,info:"",end:0,endInfo:""};this.customData&&(!this.start&&this.customData.s&&(t.start=this.customData.s,t.info="vipstart"),this.customData.e&&(t.end=this.customData.e,t.endInfo="vipend")),null!=this.api?this.api.invokePlaySecond(t):this.onPlayReady.push(()=>{this.api.invokePlaySecond(t)}),this._utility.preLoadPlaySecond=t,this.start=0,console.log(this._utility.preLoadPlaySecond)}getType(t){return t?"application/vnd.apple.mpegurl":"video/mp4"}updateUserBehaviors(){}onPlayerReady(t){let e=null;this.api=t,this.playOrWait(),this.api.subscript("time",t=>{if(this.broker&&(!e||Math.abs(t.current-e.current)>1e4)){e=t;let n=this.broker.replace("__placeholder__",Math.floor(t.current/1e3)+"_"+Math.floor(t.total/1e3));this.hlsSpeed&&(n=`${n}&speed=${this.hlsSpeed}`),this._videoService.sendPlayHistory(n)}}),this.api.subscript("ended",()=>{this.nextVideo(!0,null,()=>{})}),this.api.subscript("fullscreen",t=>{t.isfullscreen||window.scrollTo(0,0)}),this.api.subscript("playAds",t=>{t.href&&this._videoService.sendWatched(t.href.replace("/c/c","/c/d").replace("http:","https:"))}),this.onPlayReady.length>0&&(this.onPlayReady.forEach(t=>{t()}),this.onPlayReady=[])}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe()),this.subscript&&this.subscript(),this.user.id&&(this._utility.clearTimeout(t.timeout),t.timeout=this._utility.setTimeout(()=>this._playHistoryService.changePlayHistoryStatus(!0),5e3)),this._utility.clearTimeout(this.checkForbiddenPlayer),this.danmuFacade.setDanmuKey("")}onPlay(){}showPlaylist(){this.pageScrollService.scroll({document:this.document,duration:400,scrollOffset:95,scrollTarget:"#playlists"})}onUserrBehavior(t){if("string"==typeof t)"favorite"===t&&(this.video.userBehaviors.favorite=!0);else switch(t.name){case"likeStatus":this.video.userData.like=t.good,this.video.userData.dislike=t.bad,this.video.userBehaviors.like=1==t.likeStatus,this.video.userBehaviors.dislike=2==t.likeStatus}}showLoginDialog(){this._dnDialogService.open("login")}buyMedia(){if(this.user.dnCoins<this.videoInShoppingCart.price)return void this._dnDialogService.open("media-unavailable",{"media-unavailable-price":this.videoInShoppingCart.price});const t=this.videoInShoppingCart.mediaId;t&&(this.purchasing=!0,this._videoService.purchaseMedia(this.user,t).subscribe(t=>{this.purchasing=!1,t.issucess?(this._userService.updateUserData({dnCoins:t.json.gold,level:t.json.currentLevel}),this._messageDialogService.setState({message:'<h5>\u89c6\u9891\u5df2\u89e3\u9501\uff0c\u5e76\u5df2\u6dfb\u52a0\u5230\u6536\u85cf\u5939\u3002</h5><div class="leftUnlocksToday">'+t.subtitle+"</div>"}),this._purchaseSuccessDialogService.setState({mediaKey:t.key.split(",")[0],videoKey:this.video.key}),this._dnDialogService.open("purchase-success",{success:t.key}),this.reloadClairty()):(this._messageDialogService.setState({message:t}),this._dnDialogService.open("message-dialog"))}))}trySetresponsivePlayerSize(){}showRechargeBox(){this._dnDialogService.close("media-unavailable"),this._dnDialogService.close("purchase-required"),this._dnDialogService.close("coin-or-upgrade-to-skip-ad"),this._dnDialogService.close("vip-only"),this._rechargeBoxService.changeDisplayStatus(!0)}onUpdateTime(){}getPlayList(){}closeSmallPlayer(){this.smallPlayerValid=!1,this.showSmallPlayer=!1}nextVideo(t=!1,e,n){(this.user.id&&this.user.token.gid>0||!0===t)&&this._videoService.playNextVideo({ID:this.mediaid}).subscribe(t=>{if(console.debug("next video callback ",t),t&&t.length){if(!t[0])return this.isVideoOver=!0,void n();this.customData=t[0].custom,this.interpreterCustom(),this.start=0,this.toVideoByID(t[0].key),this.mediaid=t[0].id,e&&e()}else n&&n()})}toVideoByID(t){var e=this._router.parseUrl(this._router.url);e.queryParams.start="",e.queryParams.a="",delete e.queryParams.start,delete e.queryParams.a,this.mediaKey=e.queryParams.id=decodeURIComponent(t),this._router.navigateByUrl(e,{replaceUrl:!0})}handleError(){this.renderPlayer()}setCommentCount(t){this.commentsCount=t}onPlayerApiReady(t){}commentCountHandler(t){this.commentsCount+=1}scrollToComments(){this.video?setTimeout(()=>{document.getElementById("commentsArea").scrollIntoView()},1e3):setTimeout(()=>{this.scrollToComments()},500)}}return t.timeout=null,t.\u0275fac=function(e){return new(e||t)(l.Pb(r.a),l.Pb(s.d),l.Pb(s.a),l.Pb(P.a),l.Pb(d.a),l.Pb(u.a),l.Pb(N.b),l.Pb(f.a),l.Pb(m.a),l.Pb(b.a),l.Pb(v.a),l.Pb(i.d),l.Pb(g.a),l.Pb(_.a),l.Pb(h),l.Pb(a.a),l.Pb(x.a),l.Pb(w.a),l.Pb(M.a),l.Pb(i.j),l.Pb(k.a),l.Pb(S.a),l.Pb(I.a),l.Pb(T.a),l.Pb(A.a),l.Pb(y.a))},t.\u0275cmp=l.Jb({type:t,selectors:[["app-index"]],viewQuery:function(t,e){var n;1&t&&(l.Ic(gn,!0),l.Ic(pn,!0)),2&t&&(l.yc(n=l.ec())&&(e.canvas=n.first),l.yc(n=l.ec())&&(e.mediaIdDiv=n.first))},hostBindings:function(t,e){1&t&&l.dc("scroll",(function(t){return e.onWindowScroll()}),!1,l.Bc)},inputs:{vgFor:"vgFor"},features:[l.Ab([h,r.a,{provide:O.a,useClass:r.a}])],decls:29,vars:11,consts:[[1,"border-warp",2,"padding-bottom","30px"],[1,"playPageTop"],["class","container v-page v-page-content d-flex",4,"ngIf"],["id","playPageBottom",1,"playPageBottom"],["playPageBottom",""],[1,"container","v-page","v-page-content","boxed","d-flex",2,"padding-top","0"],[1,"left"],[3,"video","mediaTitle"],[3,"ngSwitch"],["class","playlist-new playlist-new-type1",4,"ngSwitchCase"],["class","bg-cover","id","commentsArea",4,"ngIf"],[1,"page-right",2,"padding-top","10px"],[3,"videos","fixed","title","moreLink"],[1,"mb-4"],[1,"d-block","mb-4"],["toastContainer",""],["id","purchase-required",1,"dn-dialog-background"],["id","purchase-success",1,"dn-dialog-background"],["id","media-unavailable",1,"dn-dialog-background"],["id","vip-only",1,"dn-dialog-background"],["id","share",1,"dn-dialog-background"],[1,"container","v-page","v-page-content","d-flex"],[1,"d-flex","w-100"],[1,"page-container","video-player",2,"margin","0",3,"ngClass"],[1,"dn-videoplayer-wrap"],["topPrefix","0",3,"mediaTitle","isFloatPlayer","shouldSkipAds","needBought","hasBought","showNextButton","playlist","playlistType","filterGold","filterCallback","unlockCallback","logo","playNextCallback","serverInfo","isPlayRatio","previewFormat","languageList","language","bitrates","isLine","unlockGold","playingMedia","video","newMediaKey","isLive","user","isUserFilterAd","mediaList","onVideoReady","onErrorHandler","onChangeLanguage","onPlay","apiReady","onCloseSmallPlayer"],[3,"isLive","video","commentsCount","userBehaviorEvent","showCommentsEvent"],["class","d-block gg-bg-cover","style","margin-top: 19px;",3,"ggPosition","code",4,"ngIf"],[1,"player-side","player-right"],["class","block",4,"ngIf"],[1,"video-publisher-container"],[3,"publisher","uid",4,"ngIf"],[1,"app-download-block"],[1,"app-download-block-inner"],[1,"image"],[3,"src"],[1,"app-download-block-content"],[1,"text-white"],["target","_blank",1,"link-button",3,"href"],[1,"dl-label"],[1,"iconfont","iconanzhuo"],[1,"iconfont","iconzhengzaixiazai"],[2,"color","rgba(255, 255, 255, 0.4)"],[1,"d-block","gg-bg-cover",2,"margin-top","19px",3,"ggPosition","code"],[1,"block"],[3,"ggPosition","code"],[3,"uniqueKey"],[3,"publisher","uid"],[1,"playlist-new","playlist-new-type1"],[3,"items","isWide","newMediaKey"],[3,"items","fromPlayer","newMediaKey"],["id","commentsArea",1,"bg-cover"],["comments",""],["id","comments-title",2,"display","inline","line-height","36px","margin-right","8px"],[1,"iconfont","iconpinglun"],[4,"ngIf"],[1,"d-block","mb-4",3,"videoId","commentStatus","commentSuccessEvent"],["commentBox",""],[3,"videoId","onCommentsLoaded",4,"ngIf"],[3,"videoId","onCommentsLoaded"],["class","loading-overlay d-flex align-items-center justify-content-center",4,"ngIf"],[1,"text-center",2,"padding-top","30px"],[1,"dn-dialog-buttons"],[1,"dn-button","dn-button-red",3,"click"],[1,"buttons-gap"],[1,"dn-button","dn-button-gold",2,"color","#FEC1A1 !important",3,"click"],[3,"dialog"],[1,"loading-overlay","d-flex","align-items-center","justify-content-center"],[1,"text-center","center-in-content",2,"height","70%"],[1,"mx-2"],[1,"dn-button","dn-button-gold",3,"routerLink"],[1,"dn-button","dn-button-gold",3,"click"],[1,"text-center"],[2,"padding","30px"],[1,"mb-2"],[2,"margin","0 auto",3,"dialog"],[3,"title","url","id","image",4,"ngIf"],[3,"title","url","id","image"]],template:function(t,e){1&t&&(l.Vb(0,"div",0),l.Vb(1,"div",1),l.Lc(2,Cn,26,40,"div",2),l.Ub(),l.Vb(3,"div",3,4),l.Vb(5,"div",5),l.Vb(6,"div",6),l.Qb(7,"app-video-info",7),l.Tb(8,8),l.Lc(9,_n,2,3,"div",9),l.Lc(10,xn,2,3,"div",9),l.Sb(),l.Lc(11,On,10,4,"div",10),l.Ub(),l.Vb(12,"div",11),l.Qb(13,"app-top-ranked-videos",12),l.Qb(14,"div",13),l.Qb(15,"app-sidebar-related-videos",14),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Qb(16,"div",null,15),l.Qb(18,"app-footer"),l.Vb(19,"dn-dialog",16),l.Lc(20,kn,10,2,"ng-template"),l.Ub(),l.Vb(21,"dn-dialog",17),l.Lc(22,Sn,4,1,"ng-template"),l.Ub(),l.Vb(23,"dn-dialog",18),l.Lc(24,In,10,3,"ng-template"),l.Ub(),l.Vb(25,"dn-dialog",19),l.Lc(26,Ln,10,2,"ng-template"),l.Ub(),l.Vb(27,"dn-dialog",20),l.Lc(28,An,3,2,"ng-template"),l.Ub()),2&t&&(l.Bb(2),l.nc("ngIf",e.mediaKey),l.Bb(5),l.nc("video",e.video)("mediaTitle",e.mediaTitle),l.Bb(1),l.nc("ngSwitch",e.whichListType),l.Bb(1),l.nc("ngSwitchCase","byDefault"),l.Bb(1),l.nc("ngSwitchCase","byDate"),l.Bb(1),l.nc("ngIf",e.video),l.Bb(2),l.nc("videos",e.currentRankList)("fixed",!1)("title",e.rankListTitle)("moreLink",e.rankMoreLink))},directives:[i.n,Mt,i.p,i.q,kt.a,Gt,Wt.a,qt.a,i.l,Qt.a,de,ue.a,Ve,Ze,Je.a,tn.a,en.a,nn.a,on,sn.a,rn.a,an.a,cn,s.e,ln.a,un],styles:["@media (max-width:1678px){h1[_ngcontent-%COMP%]{font-size:24px}.video-meta[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:15px;line-height:24px}.page-container[_ngcontent-%COMP%]{width:900px;margin:0 auto;padding:0 16px 16px 0}.page-container.video-meta[_ngcontent-%COMP%]{padding:20px;width:689px;min-width:689px;height:460px}.page-container.video-player[_ngcontent-%COMP%]{width:900px;height:505px;background-color:#000}.playPageBottom[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{width:900px}}@media (max-width:1678px){.video-publisher-container[_ngcontent-%COMP%]{margin-top:19px!important}}@media (max-width:1439px){.page-right[_ngcontent-%COMP%]{padding-right:8px}}@media (min-width:1920px){.page-right[_ngcontent-%COMP%]{padding-right:8px}}.playPageTop[_ngcontent-%COMP%]{padding-bottom:1.2em}@media (min-width:1679px) and (max-width:1919px){.page-container[_ngcontent-%COMP%]{width:1123px;margin:0 auto;padding:22px}.page-container.video-meta[_ngcontent-%COMP%]{height:500px}.page-container.video-player[_ngcontent-%COMP%]{width:1123px;height:631.6px;background-color:#000}.video-meta[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:15px;line-height:24px}.playPageBottom[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{width:1123px}}@media (min-width:1920px){.page-container[_ngcontent-%COMP%]{width:1364px;margin:0 auto;padding:22px}.page-container.video-meta[_ngcontent-%COMP%]{height:500px}.page-container.video-player[_ngcontent-%COMP%]{width:1364px;height:767px;background-color:#000}.video-meta[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:15px;line-height:24px}.playPageBottom[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{width:1364px}}",".content[_ngcontent-%COMP%]{padding:24px}.player-header[_ngcontent-%COMP%]{padding:11px 10px;background-color:#000;color:#fff}.player-header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff}.player-header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#ddd}.player-side[_ngcontent-%COMP%]{width:379px;margin-left:1.5em}.player-side[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.player-side[_ngcontent-%COMP%]   .block[_ngcontent-%COMP%]{background-color:#1c1d2f}.video-meta[_ngcontent-%COMP%]{height:633px;padding:35px 40px;background-color:#ededed;position:relative;color:#434343}.video-meta[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:16px;line-height:29px}.loading-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;bottom:0;right:0;background-color:#2b2c3a;z-index:999}.light[_nghost-%COMP%]   .loading-overlay[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .loading-overlay[_ngcontent-%COMP%]{background-color:#fff}.media-btn[_ngcontent-%COMP%]{font-family:Microsoft YaHei}.list-title[_ngcontent-%COMP%]{width:80px}.v-page-content[_ngcontent-%COMP%]   .page-container[_ngcontent-%COMP%]{padding-top:0!important}.video-player[_ngcontent-%COMP%]{padding:0!important}.screen-small[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px}.screen-small[_ngcontent-%COMP%]   .video-meta[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:15px;line-height:24px}.star[_ngcontent-%COMP%]{cursor:pointer}.fixed-player[_ngcontent-%COMP%]{position:fixed;right:30px;top:80px;width:480px;height:320px;z-index:9999}.border-warp[_ngcontent-%COMP%]{margin:0 auto;background-color:#090b21}.light[_nghost-%COMP%]   .border-warp[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .border-warp[_ngcontent-%COMP%]{background-color:#fff}.light[_nghost-%COMP%]   .playPageTop[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .playPageTop[_ngcontent-%COMP%]{background-color:#090b21}.light[_nghost-%COMP%]   .playPageBottom[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .playPageBottom[_ngcontent-%COMP%]{background-color:#fff}.copyrightInfo[_ngcontent-%COMP%]{color:red}.d-block.hidden[_ngcontent-%COMP%]{display:none!important}.h5[_ngcontent-%COMP%]{padding:1em;font-weight:700}#comments-title[_ngcontent-%COMP%]{font-size:22px}#comments-title[_ngcontent-%COMP%]   .iconfont[_ngcontent-%COMP%]{position:relative;top:.15em;font-size:48px;color:#00c0ff}.center-in-content[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center}.buttons-gap[_ngcontent-%COMP%]{height:70px;position:absolute;top:0;border-right:2px solid #373843}.light[_nghost-%COMP%]   .buttons-gap[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .buttons-gap[_ngcontent-%COMP%]{border-right-color:#ddd}.playlist-new[_ngcontent-%COMP%]{background-color:#090b21;z-index:2}.light[_nghost-%COMP%]   .playlist-new[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .playlist-new[_ngcontent-%COMP%]{background-color:#fff}.bg-cover[_ngcontent-%COMP%]{background-color:#090b21;position:relative;z-index:2}.light[_nghost-%COMP%]   .bg-cover[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .bg-cover[_ngcontent-%COMP%]{background-color:#fff}.playPageGap[_ngcontent-%COMP%]{height:12px;margin-top:-1px;background-color:#090b21;position:relative;z-index:1}.float-player[_ngcontent-%COMP%]   dn-videoplayer[_ngcontent-%COMP%]{position:fixed;z-index:999;pointer-events:none;top:0;bottom:0;left:0;right:0;width:100vw!important;height:100vh!important}.video-publisher-container[_ngcontent-%COMP%]{margin-top:21px;height:273px}.app-download-block[_ngcontent-%COMP%]{background:url(/assets/images/background.png);height:137px;margin-top:19px;background-size:cover;position:relative;padding:16px;overflow:hidden}.app-download-block[_ngcontent-%COMP%]   .app-download-block-inner[_ngcontent-%COMP%]{position:relative}.app-download-block[_ngcontent-%COMP%]   .app-download-block-content[_ngcontent-%COMP%]{margin-left:120px;height:104px;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-pack:center;justify-content:center}.app-download-block[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{width:104px;height:104px;position:absolute;left:0;top:0}.app-download-block[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%}.app-download-block[_ngcontent-%COMP%]   .app-download-block-content[_ngcontent-%COMP%]{text-align:center}.app-download-block[_ngcontent-%COMP%]   .link-button[_ngcontent-%COMP%]{display:inline-block;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;height:29px;margin:10px 0;width:172px}.dl-label[_ngcontent-%COMP%]{font-size:14px;border-radius:14px;background:linear-gradient(45deg,#5562a0 10%,#b687c3);cursor:pointer;position:relative;width:164px;height:29px;display:-webkit-box;display:flex;justify-content:space-around;-webkit-box-align:center;align-items:center;padding:0 2px}.dl-label[_ngcontent-%COMP%], .dl-label[_ngcontent-%COMP%]   .iconfont[_ngcontent-%COMP%]{color:#fff}.dl-label[_ngcontent-%COMP%]   .iconfont.iconanzhuo[_ngcontent-%COMP%]{font-size:18px;color:#61db32}.dl-label[_ngcontent-%COMP%]   .iconfont.iconzhengzaixiazai[_ngcontent-%COMP%]{font-size:20px}.dn-videoplayer-wrap[_ngcontent-%COMP%]{height:767px}"]}),t})();var Bn=n("+bO1");function Vn(t,e){if(1&t&&l.Qb(0,"app-gg-block",35),2&t){const t=l.gc(2);l.nc("ggPosition",t.ggPosition.VideoPageContent)("code",t.isAdult?"APB":"PB")}}function Un(t,e){if(1&t&&l.Qb(0,"video-publisher",36),2&t){const t=l.gc(2);l.nc("publisher",null==t.video?null:t.video.publisher)("uid",null==t.user?null:t.user.id)("fromVideo",!0)}}const Dn=function(t){return{"float-player":t}};function En(t,e){if(1&t){const t=l.Wb();l.Vb(0,"div",12),l.Vb(1,"div",13),l.Vb(2,"div",14),l.Vb(3,"div",15),l.Vb(4,"dn-videoplayer",16),l.dc("onVideoReady",(function(e){return l.Cc(t),l.gc().onPlayerReady(e)}))("onCloseSmallPlayer",(function(e){return l.Cc(t),l.gc().closeSmallPlayer()})),l.Ub(),l.Ub(),l.Vb(5,"app-video-user-data-bar",17),l.dc("userBehaviorEvent",(function(e){return l.Cc(t),l.gc().onUserrBehavior(e)}))("showCommentsEvent",(function(e){return l.Cc(t),l.gc().showPlaylist()})),l.Ub(),l.Lc(6,Vn,1,2,"app-gg-block",18),l.Ub(),l.Vb(7,"div",19),l.Vb(8,"div",20),l.Qb(9,"app-gg-block",21),l.Ub(),l.Vb(10,"div",22),l.Lc(11,Un,1,3,"video-publisher",23),l.Ub(),l.Vb(12,"div",24),l.Vb(13,"div",25),l.Vb(14,"div",26),l.Qb(15,"img",27),l.Ub(),l.Vb(16,"div",28),l.Vb(17,"div",29),l.Nc(18,"\u626b\u4e00\u626b\uff0c\u624b\u673a\u89c2\u770b\u66f4\u4fbf\u6377\uff01"),l.Ub(),l.Vb(19,"a",30),l.Vb(20,"div",31),l.Qb(21,"i",32),l.Nc(22," \u4e0b\u8f7d\u5b89\u5353APP "),l.Qb(23,"i",33),l.Ub(),l.Ub(),l.Vb(24,"div",34),l.Nc(25,"\u6ca1\u6709APP\uff1f \u7acb\u5373\u4e0b\u8f7d"),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub()}if(2&t){const t=l.gc();l.Bb(2),l.nc("ngClass",l.sc(18,Dn,t.showSmallPlayer)),l.Bb(2),l.nc("isNewsPlayer",!0)("isFloatPlayer",t.showSmallPlayer)("showQuantitySelect",!1)("shouldSkipAds",!0)("logo","auto")("serverInfo",t.serverInfo)("video",t.video)("needBought",t.getGID<=0||!t.user.id)("mediaList",t.pendingPlayList.medias),l.Bb(1),l.nc("video",t.video)("commentsCount",t.commentsCount),l.Bb(1),l.nc("ngIf",t.mediaKey),l.Bb(3),l.nc("ggPosition",t.ggPosition.VideoPageRight)("code",t.isAdult?"APR1":"PR1"),l.Bb(2),l.nc("ngIf",null!=t.video),l.Bb(4),l.nc("src",t.qrHost+t.link,l.Fc),l.Bb(4),l.oc("href",t.enableDownload?"/app-download":"#",l.Fc)}}function Rn(t,e){if(1&t&&(l.Vb(0,"span"),l.Nc(1),l.Ub()),2&t){const t=l.gc(2);l.Bb(1),l.Pc("(",t.commentsCount,")")}}function Fn(t,e){if(1&t){const t=l.Wb();l.Vb(0,"app-dn-comments",46),l.dc("onCommentsLoaded",(function(e){return l.Cc(t),l.gc(2).setCommentCount(e)})),l.Ub()}if(2&t){const t=l.gc(2);l.nc("videoId",t.video.id)}}function jn(t,e){if(1&t){const t=l.Wb();l.Vb(0,"div",37,38),l.Vb(2,"div",39),l.Vb(3,"h4",40),l.Qb(4,"i",41),l.Nc(5," \u8bc4\u8bba\u533a"),l.Ub(),l.Lc(6,Rn,2,1,"span",42),l.Ub(),l.Vb(7,"app-comment-box",43,44),l.dc("commentSuccessEvent",(function(e){return l.Cc(t),l.gc().commentCountHandler(e)})),l.Ub(),l.Lc(9,Fn,1,1,"app-dn-comments",45),l.Ub()}if(2&t){const t=l.gc();l.Bb(6),l.nc("ngIf",t.commentsCount),l.Bb(1),l.nc("videoId",t.video.id)("commentStatus",t.video.commentstatus),l.Bb(2),l.nc("ngIf",t.video)}}function zn(t,e){if(1&t&&l.Qb(0,"app-share",50),2&t){const t=l.gc(2);l.nc("title",t.video.title)("url",t._router.url)("id",t.mediaKey)("image",t.posterImage)("isNews",!0)}}function Hn(t,e){if(1&t&&(l.Vb(0,"div",47),l.Lc(1,zn,1,5,"app-share",48),l.Ub(),l.Qb(2,"app-dn-dialog-close-button",49)),2&t){const t=l.gc();l.Bb(1),l.nc("ngIf",t.video),l.Bb(1),l.nc("dialog","share")}}const Gn=[{path:"watch",component:(()=>{class t{constructor(t,e,n,i,o,s,r,a,l,h){this._videoService=t,this._activatedRoute=e,this._titleService=n,this._userService=i,this.store=o,this.danmuFacade=s,this._storage=r,this._router=a,this.videoPlayerSettingsService=l,this._utility=h,this.pendingPlayList={},this.contentWidth={width:1370,margin:0},this.currentUID=0,this.startTimeCount=!1,this.nowTime=null,this.lastTime=null,this.qrHost=this._utility.GetHost("https://img.{Host}/qrcode/?url="),this.link=this._utility.getSiteConfig.appDownloadLink,this.ggPosition=c.b,this.subscriptions=[],this.serverInfo={},this.video=null,this.isAdult=!1,this.playerSize={},this.mediaKey=null,this.shareUrl="",this.posterImage="",this.broker="",this.hlsSpeed=0,this.showSmallPlayer=!1,this.smallPlayerValid=!0,this.showSmallPlayerOffset=540,this.forbiddenFloatPlayer=!1,this.subscript=null,this.enableDownload=this._utility.getSiteConfig.enableAndroidDownload||this._utility.getSiteConfig.enableIOSDonwload,this.channels=[]}get getGID(){return null!=this.user&&null!=this.user.token?this.user.token.gid:0}onWindowScroll(){window.pageYOffset>this.showSmallPlayerOffset?this.smallPlayerValid&&!this.forbiddenFloatPlayer&&(this.showSmallPlayer=!0):(this.showSmallPlayer=!1,this.smallPlayerValid=!0)}ngOnInit(){this.videoPlayerSettingsService.playerSettings$.subscribe(t=>{this.forbiddenFloatPlayer="1"===t.forbiddenFloatingPlayer}),this._utility.isNews=!0,this.subscriptions.push(this._userService.userState$.subscribe(t=>{this.user=t,this.onUserInfoChanged()}),this._activatedRoute.queryParams.subscribe(t=>{t.v&&(this.mediaKey=t.v,this._videoService.getMedia(this.mediaKey,!0).subscribe(t=>{if(t){this.video=t,this.video.languages=[],this.video.userData={comments:this.video.comments,favorites:this.video.favoriteCount,shared:this.video.shared,like:this.video.good,dislike:this.video.bad},this.posterImage=this.video.image,this.video.userBehaviors={},this.video.userBehaviors.favorite=this.video.isVideoFavrited,this.video.userBehaviors.like=1==this.video.likeStatus,this.video.userBehaviors.dislike=2==this.video.likeStatus,this._titleService.setTitle(this.video.title),this.video.userData.viewCount=this.video.view;for(var e=[],n=0;n<this.video.flvPathList.length;++n){var i=this.converHtml5ToMedia(this.video.flvPathList[n]);i.title=this.video.title,e.push(i)}this.assingPendding("medias",e),this.playOrWait(),this.store.dispatch({type:p.d,video:this.video}),this._videoService.pageViewRecord("https:"+this.video.playRecordURL).subscribe(t=>{}),this.serverInfo=this.video.videoServer,this.onVideoPageReady()}}))}),this._activatedRoute.fragment.subscribe(t=>{"comments"===t&&this.scrollToComments()}))}closeSmallPlayer(){this.smallPlayerValid=!1,this.showSmallPlayer=!1}readState(){}updateUserBehaviors(){}showPlaylist(){}onVideoPageReady(){this._videoService.getChannelList(this.video.cid,this.video.label).subscribe(t=>{this.channels=t});const t=this.video.uniqueKey;this.danmuFacade.setDanmuKey(t),this.danmuFacade.requireDanmuList({key:t,user:this.user}),this.updateUserBehaviors()}onUserrBehavior(t){if("string"==typeof t)"favorite"===t&&(this.video.userBehaviors.favorite=!0);else switch(t.name){case"likeStatus":this.video.userData.like=t.good,this.video.userData.dislike=t.bad,this.video.userBehaviors.like=1==t.likeStatus,this.video.userBehaviors.dislike=2==t.likeStatus}}getType(t){return t?"application/vnd.apple.mpegurl":"video/mp4"}converHtml5ToMedia(t){return{title:"",src:t.result,length:0,type:this.getType(t.isHls),href:decodeURIComponent(t.link),isStream:0===t.type,isAd:!!t.link,isHls:t.isHls,isImage:t.result&&(t.result.indexOf(".jpg")>-1||t.result.indexOf(".png")>-1||t.result.indexOf(".gif")>-1),backup:t.backup,rtmp:t.rtmp}}assingPendding(t,e){this.pendingPlayList[t]=e}playOrWait(){}onPlayerReady(t){this.api=t;let e=null;this.api.subscript("time",t=>{if(this.broker&&(!e||Math.abs(t.current-e.current)>1e4)){e=t;let n=this.broker.replace("__placeholder__",Math.floor(t.current/1e3)+"_"+Math.floor(t.total/1e3));this.hlsSpeed&&(n=`${n}&speed=${this.hlsSpeed}`),this._videoService.sendPlayHistory(n)}}),this.api.subscript("ended",()=>{}),this.api.subscript("fullscreen",t=>{t.isfullscreen||window.scrollTo(0,0)})}sendWatchTime(t){if(this.lastTime&&this.lastTime===t)this.startTimeCount=!1,clearInterval(this.timeCountInterval);else{this.lastTime=t;let e=this.broker.replace("__placeholder__",Math.floor(t.current/1e3)+"_"+Math.floor(t.total/1e3));this.hlsSpeed&&(e=`${e}&speed=${this.hlsSpeed}`),this._videoService.sendPlayHistory(e)}}ngOnDestroy(){clearInterval(this.timeCountInterval),this.subscriptions.forEach(t=>t.unsubscribe()),this.danmuFacade.setDanmuKey(""),this.subscript&&this.subscript()}onUserInfoChanged(){this.currentUID=this.user.id}trySetresponsivePlayerSize(){}setCommentCount(t){this.commentsCount=t}commentCountHandler(t){this.commentsCount+=1}scrollToComments(){this.video?setTimeout(()=>{document.getElementById("commentsArea").scrollIntoView()},1e3):setTimeout(()=>{this.scrollToComments()},500)}}return t.\u0275fac=function(e){return new(e||t)(l.Pb(Bn.a),l.Pb(s.a),l.Pb(P.a),l.Pb(A.a),l.Pb(g.a),l.Pb(w.a),l.Pb(_.a),l.Pb(s.d),l.Pb(T.a),l.Pb(y.a))},t.\u0275cmp=l.Jb({type:t,selectors:[["app-watch"]],hostBindings:function(t,e){1&t&&l.dc("scroll",(function(t){return e.onWindowScroll()}),!1,l.Bc)},features:[l.Ab([{provide:O.a,useClass:Bn.a},Bn.a])],decls:15,vars:6,consts:[[1,"border-warp"],[1,"playPageTop"],["class","container v-page v-page-content d-flex",4,"ngIf"],[1,"playPageBottom"],[1,"container","v-page","v-page-content","boxed","d-flex",2,"padding-top","0"],[1,"left"],[3,"video","mediaTitle","type"],["id","commentsArea",4,"ngIf"],[1,"page-right"],["title","\u76f8\u5173\u89c6\u9891",1,"d-block","mb-4",3,"isNews"],["toastContainer",""],["id","share",1,"dn-dialog-background"],[1,"container","v-page","v-page-content","d-flex"],[1,"d-flex","w-100"],[1,"page-container","video-player",2,"margin","0",3,"ngClass"],[1,"dn-videoplayer-wrap"],["topPrefix","0",3,"isNewsPlayer","isFloatPlayer","showQuantitySelect","shouldSkipAds","logo","serverInfo","video","needBought","mediaList","onVideoReady","onCloseSmallPlayer"],[3,"video","commentsCount","userBehaviorEvent","showCommentsEvent"],["class","d-block","style","margin-top: 21px;",3,"ggPosition","code",4,"ngIf"],[1,"player-side","player-right"],[1,"block"],[3,"ggPosition","code"],[1,"video-publisher-container"],[3,"publisher","uid","fromVideo",4,"ngIf"],[1,"app-download-block"],[1,"app-download-block-inner"],[1,"image"],[3,"src"],[1,"app-download-block-content"],[1,"text-white"],["target","_blank",1,"link-button",3,"href"],[1,"dl-label"],[1,"iconfont","iconanzhuo"],[1,"iconfont","iconzhengzaixiazai"],[2,"color","rgba(255, 255, 255, 0.4)"],[1,"d-block",2,"margin-top","21px",3,"ggPosition","code"],[3,"publisher","uid","fromVideo"],["id","commentsArea"],["comments",""],[1,"mb-4"],["id","comments-title mr-1",1,"comments-title",2,"display","inline","line-height","36px","margin-right","8px"],[1,"iconfont","iconpinglun"],[4,"ngIf"],[1,"d-block","mb-4",3,"videoId","commentStatus","commentSuccessEvent"],["commentBox",""],["style","display: block; padding-bottom: 25px;",3,"videoId","onCommentsLoaded",4,"ngIf"],[2,"display","block","padding-bottom","25px",3,"videoId","onCommentsLoaded"],[1,"text-center"],[3,"title","url","id","image","isNews",4,"ngIf"],[3,"dialog"],[3,"title","url","id","image","isNews"]],template:function(t,e){1&t&&(l.Vb(0,"div",0),l.Vb(1,"div",1),l.Lc(2,En,26,20,"div",2),l.Ub(),l.Ub(),l.Vb(3,"div",3),l.Vb(4,"div",4),l.Vb(5,"div",5),l.Qb(6,"app-video-info",6),l.Lc(7,jn,10,4,"div",7),l.Ub(),l.Vb(8,"div",8),l.Qb(9,"app-sidebar-related-videos",9),l.Ub(),l.Ub(),l.Ub(),l.Qb(10,"div",null,10),l.Qb(12,"app-footer"),l.Vb(13,"dn-dialog",11),l.Lc(14,Hn,3,2,"ng-template"),l.Ub()),2&t&&(l.Bb(2),l.nc("ngIf",e.mediaKey),l.Bb(4),l.nc("video",e.video)("mediaTitle",null==e.video?null:e.video.title)("type","top"),l.Bb(1),l.nc("ngIf",e.video),l.Bb(2),l.nc("isNews",!0))},directives:[i.n,Mt,Gt,Wt.a,qt.a,i.l,Qt.a,de,ue.a,Ze,en.a,nn.a,sn.a,un],styles:["@media (max-width:1678px){h1[_ngcontent-%COMP%]{font-size:24px}.video-meta[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:15px;line-height:24px}.page-container[_ngcontent-%COMP%]{width:900px;margin:0 auto;padding:0 16px 16px 0}.page-container.video-meta[_ngcontent-%COMP%]{padding:20px;width:689px;min-width:689px;height:460px}.page-container.video-player[_ngcontent-%COMP%]{width:900px;height:505px;background-color:#000}.playPageBottom[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{width:900px}}@media (max-width:1678px){.video-publisher-container[_ngcontent-%COMP%]{margin-top:19px!important}}@media (max-width:1439px){.page-right[_ngcontent-%COMP%]{padding-right:8px}}@media (min-width:1920px){.page-right[_ngcontent-%COMP%]{padding-right:8px}}.playPageTop[_ngcontent-%COMP%]{padding-bottom:1.2em}@media (min-width:1679px) and (max-width:1919px){.page-container[_ngcontent-%COMP%]{width:1123px;margin:0 auto;padding:22px}.page-container.video-meta[_ngcontent-%COMP%]{height:500px}.page-container.video-player[_ngcontent-%COMP%]{width:1123px;height:631.6px;background-color:#000}.video-meta[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:15px;line-height:24px}.playPageBottom[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{width:1123px}}@media (min-width:1920px){.page-container[_ngcontent-%COMP%]{width:1364px;margin:0 auto;padding:22px}.page-container.video-meta[_ngcontent-%COMP%]{height:500px}.page-container.video-player[_ngcontent-%COMP%]{width:1364px;height:767px;background-color:#000}.video-meta[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:15px;line-height:24px}.playPageBottom[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{width:1364px}}",".content[_ngcontent-%COMP%]{padding:24px}.player-header[_ngcontent-%COMP%]{padding:11px 10px;background-color:#000;color:#fff}.player-header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff}.player-header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#ddd}.player-side[_ngcontent-%COMP%]{width:379px;margin-left:1.5em}.player-side[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.video-meta[_ngcontent-%COMP%]{height:633px;padding:35px 40px;background-color:#ededed;position:relative;color:#434343}.video-meta[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:16px;line-height:29px}.loading-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;bottom:0;right:0;background-color:hsla(0,0%,40%,.2);z-index:999}.media-btn[_ngcontent-%COMP%]{font-family:Microsoft YaHei}.list-title[_ngcontent-%COMP%]{width:80px}.float-player[_ngcontent-%COMP%]   dn-videoplayer[_ngcontent-%COMP%]{position:fixed;z-index:999;pointer-events:none;top:0;bottom:0;left:0;right:0;width:100vw!important;height:100vh!important}.page-container[_ngcontent-%COMP%]{width:1068px;margin:0 auto;padding:22px 49px}.v-page-content[_ngcontent-%COMP%]   .page-container[_ngcontent-%COMP%]{padding-top:0!important}.video-player[_ngcontent-%COMP%]{padding:0!important}.star[_ngcontent-%COMP%]{cursor:pointer}.fixed-player[_ngcontent-%COMP%]{position:fixed;right:30px;top:80px;width:480px;height:320px;z-index:9999}.border-warp[_ngcontent-%COMP%]{margin:0 auto;background-color:#090b21}.light[_nghost-%COMP%]   .border-warp[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .border-warp[_ngcontent-%COMP%]{background-color:#fff}.light[_nghost-%COMP%]   .playPageTop[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .playPageTop[_ngcontent-%COMP%]{background-color:#090b21}.light[_nghost-%COMP%]   .playPageBottom[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .playPageBottom[_ngcontent-%COMP%]{background-color:#fff}.copyrightInfo[_ngcontent-%COMP%]{color:red}.d-block.hidden[_ngcontent-%COMP%]{display:none!important}.h5[_ngcontent-%COMP%]{padding:1em;font-weight:700}#comments-title[_ngcontent-%COMP%]{font-size:22px}#comments-title[_ngcontent-%COMP%]   .iconfont[_ngcontent-%COMP%]{position:relative;top:.15em;font-size:48px;background:-webkit-linear-gradient(#00c0ff,#00b8ff);-webkit-background-clip:text;-webkit-text-fill-color:transparent}.comments-title[_ngcontent-%COMP%]{font-size:22px}.comments-title[_ngcontent-%COMP%]   .iconfont[_ngcontent-%COMP%]{position:relative;top:.15em;font-size:48px;color:#00c0ff}.playPageGap[_ngcontent-%COMP%]{height:21px;margin-top:-1px;background-color:#090b21;position:relative;z-index:1}.video-publisher-container[_ngcontent-%COMP%]{margin-top:21px;height:273px}.app-download-block[_ngcontent-%COMP%]{background:url(/assets/images/background.png);height:137px;margin-top:21px;background-size:cover;position:relative;padding:16px;overflow:hidden}.app-download-block[_ngcontent-%COMP%]   .app-download-block-inner[_ngcontent-%COMP%]{position:relative}.app-download-block[_ngcontent-%COMP%]   .app-download-block-content[_ngcontent-%COMP%]{margin-left:120px;height:104px;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-pack:center;justify-content:center}.app-download-block[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{width:104px;height:104px;position:absolute;left:0;top:0}.app-download-block[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%}.app-download-block[_ngcontent-%COMP%]   .app-download-block-content[_ngcontent-%COMP%]{text-align:center}.app-download-block[_ngcontent-%COMP%]   .link-button[_ngcontent-%COMP%]{display:inline-block;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;height:29px;margin:10px 0;width:172px}.dl-label[_ngcontent-%COMP%]{font-size:14px;border-radius:14px;background:linear-gradient(45deg,#5562a0 10%,#b687c3);cursor:pointer;position:relative;width:164px;height:29px;display:-webkit-box;display:flex;justify-content:space-around;-webkit-box-align:center;align-items:center;padding:0 2px}.dl-label[_ngcontent-%COMP%], .dl-label[_ngcontent-%COMP%]   .iconfont[_ngcontent-%COMP%]{color:#fff}.dl-label[_ngcontent-%COMP%]   .iconfont.iconanzhuo[_ngcontent-%COMP%]{font-size:18px;color:#61db32}.dl-label[_ngcontent-%COMP%]   .iconfont.iconzhengzaixiazai[_ngcontent-%COMP%]{font-size:20px}.dn-videoplayer-wrap[_ngcontent-%COMP%]{height:767px}"]}),t})()},{path:"**",component:Nn}];let Wn=(()=>{class t{}return t.\u0275mod=l.Nb({type:t}),t.\u0275inj=l.Mb({factory:function(e){return new(e||t)},providers:[],imports:[[s.h.forChild(Gn)],s.h]}),t})();var qn=n("HQN/"),Qn=n("hgWZ"),$n=n("v9og"),Kn=n("deGY"),Xn=n("n1bd"),Yn=n("JU/d");let Zn=(()=>{class t{}return t.\u0275mod=l.Nb({type:t}),t.\u0275inj=l.Mb({factory:function(e){return new(e||t)},providers:[Xn.a],imports:[[i.c,Yn.b.forRoot(),o.a]]}),t})();var Jn=n("olhF");let ti=(()=>{class t{}return t.\u0275mod=l.Nb({type:t}),t.\u0275inj=l.Mb({factory:function(e){return new(e||t)},imports:[[i.c]]}),t})(),ei=(()=>{class t{}return t.\u0275mod=l.Nb({type:t}),t.\u0275inj=l.Mb({factory:function(e){return new(e||t)},imports:[[i.c]]}),t})();var ni=n("cxvS"),ii=n("8eqO"),oi=n("Mb2U"),si=n("beoP"),ri=n("ypMf"),ai=n("18J0"),ci=n("jmij"),li=n("kt0X"),hi=n("snw9"),di=n("HDdC"),ui=n("Y7a1"),gi=n("vkgz"),pi=n("tSvX"),fi=function(t,e,n,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(r=(s<3?o(r):s>3?o(e,n,r):o(e,n))||r);return s>3&&r&&Object.defineProperty(e,n,r),r},bi=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let mi=(()=>{class t{constructor(t,e,n,i,o){this.store=t,this.actions$=e,this.danmuFacade=n,this.danmuService=i,this._utility=o,this.danmuListRequiredAction$=this.actions$.pipe(Object(hi.d)(ui.a.DANMU_LIST_REQUIRED),Object(gi.a)(t=>{this.danmuService.getDanmu(t.payload.key,t.payload.user,t.payload.page).pipe(Object(L.a)(t=>t)).subscribe(t=>{t&&this.danmuFacade.danmuListLoaded(t)})})),this.sendDanmu$=this.actions$.pipe(Object(hi.d)(ui.a.DANMU_SEND),Object(gi.a)(t=>{this.danmuService.sendDanmu(t.payload.uniqueKey,t.payload.user,t.payload).subscribe(t=>{let e={guid:t[0].guid,avatar:t[0].avatar,country:t[0].country,contxt:t[0].contxt,color:t[0].color,font:t[0].font,isDeleted:0,lid:t[0].lid,nickName:t[0].nickName,position:t[0].position,second:t[0].second,uid:t[0].uid,vid:t[0].vid,addTime:t[0].addTime,prefix:t[0].prefix,isOfficalUP:t[0].isOfficalUP,needBorder:!0};this.store.dispatch(new ui.k(e)),this._utility.Notify(ui.a.DANMU_SEND,e)})})),this.removeDanmu$=this.actions$.pipe(Object(hi.d)(ui.a.DANMU_REMOVE_DANMU),Object(gi.a)(t=>{this.danmuService.removeDanmu(t.payload.id,t.payload.user).subscribe(e=>{"ok"===e[0]&&this.danmuFacade.danmuRemoved(t.payload.id)})})),this.getUserSettings$=this.actions$.pipe(Object(hi.d)(ui.a.DANMU_GET_USER_SETTINGS),Object(gi.a)(t=>{this.danmuService.getUserSettings().subscribe(t=>{this.danmuFacade.getUserSettingsSuccess(t)})})),this.updateUserSettings$=this.actions$.pipe(Object(hi.d)(ui.a.DANMU_UPDATE_USER_SETTINGS),Object(gi.a)(t=>{this.danmuService.updateUserSettings(t.payload).subscribe()}))}}return t.\u0275fac=function(e){return new(e||t)(l.Zb(li.b),l.Zb(hi.a),l.Zb(w.a),l.Zb(pi.a),l.Zb(y.a))},t.\u0275prov=l.Lb({token:t,factory:t.\u0275fac}),fi([Object(hi.b)({dispatch:!1}),bi("design:type",di.a)],t.prototype,"danmuListRequiredAction$",void 0),fi([Object(hi.b)({dispatch:!1}),bi("design:type",di.a)],t.prototype,"sendDanmu$",void 0),fi([Object(hi.b)({dispatch:!1}),bi("design:type",di.a)],t.prototype,"removeDanmu$",void 0),fi([Object(hi.b)({dispatch:!1}),bi("design:type",di.a)],t.prototype,"getUserSettings$",void 0),fi([Object(hi.b)({dispatch:!1}),bi("design:type",di.a)],t.prototype,"updateUserSettings$",void 0),t})();var vi=n("HJVa"),yi=n("cH1L"),Ci=n("+rOU"),_i=n("nLfN");n("8LU1"),n("XNiG"),n("VRyK"),n("xgIS"),n("eNwd"),n("LRne"),n("IzEk"),n("l7GE"),n("ZUHj"),n("7o/Q"),n("1G5W"),n("nYR2"),n("0Tit");let xi=(()=>{class t{}return t.\u0275mod=l.Nb({type:t}),t.\u0275inj=l.Mb({factory:function(e){return new(e||t)}}),t})();n("quSY"),n("Cfvw"),n("EY2u"),n("eIep"),n("wO+i"),n("Zy1z"),n("pLZG"),n("3UWI"),n("Kj3r"),n("/uUt"),n("JIr8"),n("5+tZ");const Pi=new l.q("NG_SCROLLBAR_OPTIONS");let wi=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:Pi,useValue:e}]}}}return t.\u0275mod=l.Nb({type:t}),t.\u0275inj=l.Mb({factory:function(e){return new(e||t)},imports:[[i.c,yi.a,Ci.c,_i.b,xi]]}),t})();var Oi=n("SYYg"),Mi=n("mgaL"),ki=n("wXeO");const Si={wheelPropagation:!0};let Ii=(()=>{class t{}return t.\u0275mod=l.Nb({type:t}),t.\u0275inj=l.Mb({factory:function(e){return new(e||t)},providers:[{provide:Oe.a,useValue:Si},pi.a,w.a,ki.a],imports:[[i.c,we.h,Oe.c,li.d.forFeature("danmu",vi.a),hi.c.forFeature([mi]),wi,Oi.b,ri.a,Mi.a,o.a,Yn.b.forRoot()]]}),t})();var Li=n("PQoX"),Ti=n("DjSW"),Ai=n("5+WD"),Ni=n("Ybe3"),Bi=n("UBk6");n.d(e,"VideoModule",(function(){return Vi}));let Vi=(()=>{class t{}return t.\u0275mod=l.Nb({type:t}),t.\u0275inj=l.Mb({factory:function(e){return new(e||t)},providers:[ii.a,si.a,oi.a,Ti.a,r.a,v.a,T.a,be.a],imports:[[i.c,o.a,Wn,qn.b,Qn.a,$n.a,Kn.a,Zn,Jn.a,ti,ei,ni.a,ri.a,ai.a,Li.a,ci.a,we.h,we.p,Ii,Yn.b,Oe.c,Ai.d,Ni.a,Bi.a]]}),t})()},QN7Q:function(t,e){var n=[].slice;t.exports=function(t,e){if("string"==typeof e&&(e=t[e]),"function"!=typeof e)throw new Error("bind() requires a function");var i=n.call(arguments,2);return function(){return e.apply(t,i.concat(n.call(arguments)))}}},QP6B:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var i=function(t){return t[t.Barrel=0]="Barrel",t[t.FixTop=1]="FixTop",t[t.FixBottom=2]="FixBottom",t}({})},Qa7H:function(t,e,n){"use strict";var i=n("kt0X");const o=Object(i.h)("danmu"),s={getLoading:Object(i.i)(o,t=>t.loading),getList:Object(i.i)(o,t=>t.list),getPaused:Object(i.i)(o,t=>t.paused),getSetCurrentTime:Object(i.i)(o,t=>t.setCurrentTime),getKeywordFilter:Object(i.i)(o,t=>t.keywordFilter),getUserFilter:Object(i.i)(o,t=>t.userFilter),getFullScreen:Object(i.i)(o,t=>t.fullScreen),getBlockTop:Object(i.i)(o,t=>t.blockTop),getBlockBottom:Object(i.i)(o,t=>t.blockBottom),getBlockLeft:Object(i.i)(o,t=>t.blockLeft),getSpeed:Object(i.i)(o,t=>t.speed),getShowDanmu:Object(i.i)(o,t=>t.showDanmu),getFontSize:Object(i.i)(o,t=>t.fontSize),getOpacity:Object(i.i)(o,t=>t.opacity),getFontFamily:Object(i.i)(o,t=>t.fontFamily),getDanmuKey:Object(i.i)(o,t=>t.danmuKey),getOutputType:Object(i.i)(o,t=>t.outputType),getOutputColor:Object(i.i)(o,t=>t.outputColor),getUserSettings:Object(i.i)(o,t=>t.userSettings)};var r=n("Y7a1"),a=n("fXoL");n.d(e,"a",(function(){return c}));let c=(()=>{class t{constructor(t){this.store=t,this.currentTime=0,this.loading$=this.store.pipe(Object(i.j)(s.getLoading)),this.list$=this.store.pipe(Object(i.j)(s.getList)),this.paused$=this.store.pipe(Object(i.j)(s.getPaused)),this.setCurrentTime$=this.store.pipe(Object(i.j)(s.getSetCurrentTime)),this.keywordFilter$=this.store.pipe(Object(i.j)(s.getKeywordFilter)),this.userFilter$=this.store.pipe(Object(i.j)(s.getUserFilter)),this.fullScreen$=this.store.pipe(Object(i.j)(s.getFullScreen)),this.blockTop$=this.store.pipe(Object(i.j)(s.getBlockTop)),this.blockBottom$=this.store.pipe(Object(i.j)(s.getBlockBottom)),this.blockLeft$=this.store.pipe(Object(i.j)(s.getBlockLeft)),this.speed$=this.store.pipe(Object(i.j)(s.getSpeed)),this.showDanmu$=this.store.pipe(Object(i.j)(s.getShowDanmu)),this.fontSize$=this.store.pipe(Object(i.j)(s.getFontSize)),this.opacity$=this.store.pipe(Object(i.j)(s.getOpacity)),this.fontFamily$=this.store.pipe(Object(i.j)(s.getFontFamily)),this.DanmuKey$=this.store.pipe(Object(i.j)(s.getDanmuKey)),this.outputType$=this.store.pipe(Object(i.j)(s.getOutputType)),this.outputColor$=this.store.pipe(Object(i.j)(s.getOutputColor)),this.userSettings$=this.store.pipe(Object(i.j)(s.getUserSettings)),this.isPaused=!1}danmuListLoaded(t){this.store.dispatch(new r.i(t))}pause(t){this.isPaused=!0,this.store.dispatch(new r.l(t))}play(t){this.isPaused=!1,this.store.dispatch(new r.m(t))}sendDanmu(t){this.store.dispatch(new r.s(t))}newDanmu(t){this.store.dispatch(new r.k(t))}setCurrentTime(t){this.store.dispatch(new r.t(t))}addKeywordFilter(t){this.store.dispatch(new r.b(t))}removeKeywordFilter(t){this.store.dispatch(new r.o(t))}addUserFilter(t){this.store.dispatch(new r.c(t))}removeUserFilter(t){this.store.dispatch(new r.p(t))}setFullScreen(t){this.store.dispatch(new r.x(t))}blockTop(t){this.store.dispatch(new r.f(t))}blockBottom(t){this.store.dispatch(new r.d(t))}blockLeft(t){this.store.dispatch(new r.e(t))}setSpeed(t){this.store.dispatch(new r.B(t))}toggleDanmu(t){this.store.dispatch(new r.C(t))}setFontSize(t){this.store.dispatch(new r.w(t))}setOpacity(t){this.store.dispatch(new r.y(t))}setFontFamily(t){this.store.dispatch(new r.v(t))}requireDanmuList(t){this.store.dispatch(new r.j(t))}setDanmuKey(t){this.store.dispatch(new r.u(t))}removeDanmu(t){this.store.dispatch(new r.n(t))}danmuRemoved(t){this.store.dispatch(new r.q(t))}resetDanmu(t){this.store.dispatch(new r.r(t))}containKeywordFilter(t,e){return t.some(t=>e.contxt.indexOf(t)>-1)}containUserFilter(t,e){return t.some(t=>t.id==e.uid)}setOutputType(t){this.store.dispatch(new r.A(t))}setOutputColor(t){this.store.dispatch(new r.z(t))}getUserSettings(t){this.store.dispatch(new r.g(t))}getUserSettingsSuccess(t){this.store.dispatch(new r.h(t))}updateUserSettings(t){this.store.dispatch(new r.D(t))}}return t.\u0275fac=function(e){return new(e||t)(a.Zb(i.b))},t.\u0275prov=a.Lb({token:t,factory:t.\u0275fac}),t})()},QcCv:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n("fXoL"),o=n("ofXK");const s=function(t,e){return{active:t,desc:e}};let r=(()=>{class t{constructor(){this.sortEvent=new i.n,this.label="",this.active=!1,this.desc=!1,this.style={},this.mode=""}ngOnInit(){}onClick(){this.sortEvent.emit({orderById:this.orderById,desc:this.desc})}getStyle(){return this.style}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Jb({type:t,selectors:[["app-sort-button"]],inputs:{label:"label",active:"active",desc:"desc",orderById:"orderById",style:"style",mode:"mode"},outputs:{sortEvent:"sortEvent"},decls:4,vars:12,consts:[[3,"ngStyle","ngClass","click"]],template:function(t,e){1&t&&(i.Vb(0,"div",0),i.dc("click",(function(t){return e.onClick()})),i.Vb(1,"span"),i.Nc(2),i.Ub(),i.Qb(3,"i"),i.Ub()),2&t&&(i.Eb("d-flex sort-button align-item-center ",e.mode,""),i.nc("ngStyle",e.getStyle())("ngClass",i.tc(9,s,e.active,e.desc)),i.Bb(2),i.Oc(e.label),i.Bb(1),i.Eb("iconfont iconpaixushang ",e.mode,""))},directives:[o.o,o.l],styles:[".sort-button[_ngcontent-%COMP%]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:relative;border-color:transparent!important;color:hsla(0,0%,100%,.7);font-size:15px;padding:9px 37px 9px 31px;cursor:pointer}.light[_nghost-%COMP%]   .sort-button[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .sort-button[_ngcontent-%COMP%]{color:#888}.sort-button.search[_ngcontent-%COMP%]{font-size:12px;padding:5px 17px 5px 11px;background:#1c1d2f}.light[_nghost-%COMP%]   .sort-button.search[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .sort-button.search[_ngcontent-%COMP%]{background:#fff}.sort-button[_ngcontent-%COMP%]   .iconfont[_ngcontent-%COMP%]{position:absolute;right:12px;top:9px;color:rgba(43,44,58,0);font-size:17px}.sort-button[_ngcontent-%COMP%]   .iconfont.search[_ngcontent-%COMP%]{right:3px;top:5px}.sort-button.active[_ngcontent-%COMP%]{background:#2b2c3a;color:#fff!important;border-color:#2b2c3a!important}.light[_nghost-%COMP%]   .sort-button.active[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .sort-button.active[_ngcontent-%COMP%]{background-color:#00c0ff;border-color:transparent!important}.sort-button.active[_ngcontent-%COMP%]   .iconfont[_ngcontent-%COMP%], .sort-button[_ngcontent-%COMP%]:hover:not(.active){color:#fff}.light[_nghost-%COMP%]   .sort-button[_ngcontent-%COMP%]:hover:not(.active), .light   [_nghost-%COMP%]   .sort-button[_ngcontent-%COMP%]:hover:not(.active){color:#00c0ff}.sort-button[_ngcontent-%COMP%]:hover:not(.active)   .iconfont[_ngcontent-%COMP%]{color:#fff}.light[_nghost-%COMP%]   .sort-button[_ngcontent-%COMP%]:hover:not(.active)   .iconfont[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .sort-button[_ngcontent-%COMP%]:hover:not(.active)   .iconfont[_ngcontent-%COMP%]{color:#00c0ff}.sort-button.desc[_ngcontent-%COMP%]   .iconfont[_ngcontent-%COMP%]{-webkit-transform:rotate(-180deg);transform:rotate(-180deg)}.sort-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .sort-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{line-height:16px}.sort-button[_ngcontent-%COMP%]   .dn-icon[_ngcontent-%COMP%]:before{margin:0;line-height:18px}"]}),t})()},QjhS:function(t,e,n){"use strict";var i=n("fXoL"),o=n("HQN/");let s=(()=>{class t{changeBitrate(t){}captureControls(){}releaseControls(){}triggerPlayAds(t){}setVolume(t){}getVolume(){}invokePlaySecond(t){}dispose(){}setTitle(t){}muted(t){}get getPlayMedia(){return""}reset(){}invokePauseList(t){}showInfo(t,e=5,n=!1){}subscript(t,e){}playVideo(t,e){}invokeInterstitial(t){}play(){console.log("fake play")}pause(){}getRef(){}seek(t){}intersitialHandler(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Lb({token:t,factory:t.\u0275fac}),t})();var r=n("PqYM"),a=n("AytR"),c=function(t){return t[t.Timer=0]="Timer",t[t.SkipTimer=1]="SkipTimer",t[t.ShouldPlayAds=2]="ShouldPlayAds",t[t.ShouldLoadAds=3]="ShouldLoadAds",t[t.ShouldBackToPlay=4]="ShouldBackToPlay",t[t.ShouldCancel=5]="ShouldCancel",t[t.StandBy=6]="StandBy",t}({});let l=(()=>{class t{constructor(){this.pointToshow=[],this.eventList=new i.n,this.timer=null,this.subscript=null,this.globalsubscript=null,this.dataList=[],this.maxSecond=20,this.waitSecond=5,this.skipSecond=0,this.startSecond=600,this.everySecond=1200,this.isPlayingAds=!1,this.globaltimer=null,this.state=c.StandBy,this.ispaused=!1,this.pausesecond=0,this.index=0,this.key="",this.attenpToPlay=!1,this.maxSecond=20,this.startSecond=20,this.everySecond=50,a.a.production||(this.maxSecond=100)}dispose(){this.globalsubscript&&this.globalsubscript.unsubscribe(),this.subscript&&this.subscript.unsubscribe()}invokeList(e,n,i){n>-1&&(this.startSecond=n),i>0&&(this.everySecond=i);for(var o=0;o<e.length;++o)e[o].playfirst||this.dataList.push(e[o]);t.isUseGolbal&&(this.globaltimer=Object(r.a)(1e3*this.startSecond,1e3*this.everySecond),this.globalsubscript=this.globaltimer.subscribe(t=>{this.ispaused||this.isPlayingAds||this.play()}))}reset(){this.subscript&&this.subscript.unsubscribe(),this.eventList.emit({event:c.ShouldCancel,data:{}}),this.isPlayingAds=!1,this.pointToshow.forEach(t=>{t.played=!1}),this.state=c.ShouldCancel,this.attenpToPlay=!1}cancel(){this.pointToshow.forEach(t=>{t.played=!0})}continue(){}stopPlay(){this.timer&&(this.timer=null),this.subscript&&this.subscript.unsubscribe(),this.attenpToPlay=!1,this.eventList.emit({event:c.ShouldBackToPlay,data:{}}),this.state=c.ShouldBackToPlay,this.pausesecond=0,this.isPlayingAds=!1,console.log("ads play success")}pause(){this.ispaused=!0}renew(){this.ispaused=!1}play(){this.dataList.length>this.index||(this.index=0),this.startPlay(this.dataList[this.index]),++this.index}startPlay(t){t&&(this.timer&&(this.timer=null),this.subscript&&this.subscript.unsubscribe(),this.timer=Object(r.a)(1e3,1e3),this.subscript=this.timer.subscribe(t=>{this.ispaused?++this.pausesecond:t-this.pausesecond==this.waitSecond?(this.eventList.emit({event:c.ShouldPlayAds,data:{}}),this.state=c.ShouldPlayAds,this.timer=null,this.subscript.unsubscribe(),this.subscript=null,this.startLoadCounter()):(this.eventList.emit({event:c.Timer,data:{time:this.waitSecond+this.pausesecond-t+""}}),this.state=c.Timer)}),this.isPlayingAds=!0,this.eventList.emit({event:c.ShouldLoadAds,data:t}),this.state=c.ShouldLoadAds)}startCountDown(t,e,n){this.timer=Object(r.a)(0,1e3),this.subscript=this.timer.subscribe(i=>{this.ispaused?++this.pausesecond:(i-this.pausesecond==t&&this.subscript.unsubscribe(),(i-this.pausesecond)%e==0&&n(),this.eventList.emit({event:c.SkipTimer,data:{time:this.skipSecond-i+this.pausesecond+"",left:t-i+this.pausesecond}}),this.state=c.SkipTimer)})}startLoadCounter(){this.timer=Object(r.a)(0,500),this.subscript=this.timer.subscribe(t=>{var e=t/2;e>this.maxSecond?this.stopPlay():(this.eventList.emit({event:c.SkipTimer,data:{time:this.skipSecond-parseInt(e+"")+"",left:this.maxSecond-parseInt(e+"")}}),this.state=c.SkipTimer)})}getTimeDefine(t,e){if(!this.key||this.key!=t){this.key=t;var n=[];if(e<900)return;if(e-120<4200)n.push({point:Math.floor(e/2),played:!1});else for(var i=0;i<2;++i)n.push({point:Math.floor(e/3)*(i+1),played:!1});this.pointToshow=n}}needToShow(t){if(!this.attenpToPlay&&t>0&&this.pointToshow.length>0){var e=this.pointToshow[this.pointToshow.length-1],n=-1;if(t>e.point)e.played||(n=this.pointToshow.length-1);else for(var i=0;i<this.pointToshow.length-1;++i)if(t>this.pointToshow[i].point&&t<this.pointToshow[i+1].point&&!this.pointToshow[i].played){n=i;break}n>-1&&(this.attenpToPlay=!0,this.pointToshow[n].played=!0,this.play())}}}return t.isUseGolbal=!1,t})(),h=(()=>{class t{static clearTimeout(t){t&&t.unsubscribe()}static setTimeout(t,e){var n=Object(r.a)(e,0),i=n.subscribe(e=>{t(),i.unsubscribe(),n=null});return i}static isQQBrwoser(){return-1!==navigator.userAgent.indexOf("QQBrowser")}static isFlashAvailable(){var t=!1;try{new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash")&&(t=!0)}catch(e){navigator&&navigator.mimeTypes&&null!=navigator.mimeTypes["application/x-shockwave-flash"]&&navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(t=!0)}return t&&!a.a.app}static isTouchDevice(){var t=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod","Linux"];if(navigator&&navigator.platform)for(;t.length;)if(navigator.platform===t.pop())return!0;return!!(navigator&&navigator.userAgent&&/(android|bb\d+|meego).+mobile|avantgo|xbox|playstation|linux|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(navigator.userAgent.substr(0,4)))}static isIphoneDevice(){var t=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"];if(navigator&&navigator.platform)for(;t.length;)if(navigator.platform===t.pop())return!0;return!!(navigator&&navigator.userAgent&&/iphone|ipad/i.test(navigator.userAgent))}static isChrome(){var t=window.chrome,e=window.navigator,n=e.vendor,i=e.userAgent.indexOf("OPR")>-1,o=e.userAgent.indexOf("Edge")>-1;return!!e.userAgent.match("CriOS")||null!=t&&"Google Inc."===n&&0==i&&0==o}static IsMac(){try{return-1!=navigator.userAgent.indexOf("Macintosh")}catch(t){}}static GetFileExtension(t){return t&&(t=t.substr(1+t.lastIndexOf("/")).split("?")[0]).lastIndexOf(".")>-1?t.substr(t.lastIndexOf(".")):""}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Lb({token:t,factory:t.\u0275fac}),t})();var d=n("xgIS");let u=(()=>{class t{constructor(){this.subscriptions=[],this.eventList={},this.isPlayingAds=!1,this.lastTimer=null,this.mediaList=[],this.loadingMedia={title:"loading",src:"https://s1-a1.dnvodcdn.me/fast/ll.js",type:"video/mp4",length:1,href:"",isHls:!1,isStream:!0,isAd:!1,rtmp:"",isImage:!1,backup:"",isLive:!1},this.canViewPublic=!0,this.lastSeekTime=0,this.seekCount=5,this.timeout=null}setVolume(t){this.vgAPI.getDefaultMedia().volume=t/100}getVolume(){return this.vgAPI.getDefaultMedia().volume}invokePlaySecond(t){this.component.invokePlaySecond(t)}get getVideoMeta(){var t=this.vgAPI.getDefaultMedia().elem;return{videoWidth:t.videoWidth,videoHeight:t.videoHeight,videoRatio:t.videoWidth/t.videoHeight}}setTitle(t){this.component.media.title=t}muted(t){this.vgAPI.getDefaultMedia().volume=t?0:.8}dispose(){this.subscriptions.forEach(t=>t.unsubscribe())}get getPlayMedia(){return this.component.media}assignData(t,e){this.vgAPI=t,this.component=e}subscript(t,e){var n=this.vgAPI.getDefaultMedia();if(!this.eventList[t]&&(this.eventList[t]=new i.n,n))switch(t){case"ended":this.subscriptions.push(n.subscriptions.ended.subscribe(()=>{n.currentPlayPos>6&&!this.isPlayingAds&&(this.mediaList=[],this.eventList[t].next(null))}));break;case"time":this.subscriptions.push(n.subscriptions.timeUpdate.subscribe(e=>{this.isPlayingAds||n.time&&n.time.current&&n.time.total&&!isNaN(n.time.total)&&isFinite(n.time.total)&&isFinite(n.time.current)&&(!this.lastTimer||Math.abs(n.time.current-this.lastTimer.current)>1e3)&&(this.lastTimer=n.time,this.eventList[t].next(n.time))}));break;case"fullscreen":this.subscriptions.push(Object(d.a)(window,o.c.VG_FULLSCREEN).subscribe(e=>{e&&e.detail&&this.eventList[t].next({isfullscreen:e.detail.isfullscreen,isfake:e.detail.isfake})}));break;case"play":this.subscriptions.push(n.subscriptions.play.subscribe(e=>{this.isPlayingAds||this.eventList[t].next(n.time)}));break;case"pause":this.subscriptions.push(n.subscriptions.pause.subscribe(e=>{this.isPlayingAds||this.eventList[t].next(n.time)}));break;case"controlBarShow":this.subscriptions.push(this.vgAPI.hiddenAPI.isHidden.subscribe(e=>{this.eventList[t].next(!e)}));break;case"loadedmetadata":this.subscriptions.push(n.subscriptions.loadedMetadata.subscribe(e=>{this.isPlayingAds||null==this.getPlayMedia||"loading"==this.getPlayMedia.title||this.eventList[t].next(!e)}));break;case"volumechange":this.subscriptions.push(n.subscriptions.volumeChange.subscribe(e=>{this.isPlayingAds||this.eventList[t].next(parseInt(100*n.volume+""))}))}this.subscriptions.push(this.eventList[t].subscribe(t=>e(t)))}changeBitrate(t){var e;null===(e=this.vgAPI.ss)||void 0===e||e.setBitrate(t)}captureControls(){this.vgAPI.hiddenAPI.captureControls()}releaseControls(){this.vgAPI.hiddenAPI.releaseControls()}get isFluence(){return this.component.isFluence}swapBackup(t){if(t.backup){var e=t.src;t.src=t.backup,t.backup=e,t.isHls=".m3u8"==h.GetFileExtension(t.src)}return t}triggerPlayAds(t){this.eventList.playAds&&this.eventList.playAds.next(t)}mutipleVideoHandler(t){0!=this.mediaList.length&&t.length!=this.mediaList.length||(this.mediaList=t,this.component.reset()),this.isPlayingAds=this.component.isPlayingAds=!0,this.component.skipAfter=0,this.component.triggerCounter(t.length-1,()=>{var t=this.mediaList.filter(t=>!t.isplayed);t.length>1?(t[0].isplayed=!0,this.triggerPlayAds(t[0]),this.canViewPublic?(this.component.currentPlayingAds=this.component.media=t[0],this._playVideo(),this.component.startLoadMedia(t[1])):this.component.currentPlayingAds=this.component.media=this.loadingMedia):this.playVideo(t,!1)})}_playVideo(){var t=this.vgAPI.getDefaultMedia();t&&t.pause()}changePlayMedia(t){this.mediaList.filter(t=>!t.isAd)[0]=t}playVideo(t,e=!1){if(t.length>1)this.mutipleVideoHandler(t);else if(t.length>0){var n=t[0];0!=this.component.isFluence||n.isHls||this.swapBackup(n),this.component.media=n,this.component.isPlayingAds=e,this._playVideo(),e?(this.isPlayingAds=!0,this.triggerPlayAds(n)):this.isPlayingAds=!1,this.component.onPlayNextVideo(e)}}intersitialHandler(t){switch(t.event){case c.Timer:break;case c.ShouldPlayAds:this.isPlayingAds=!0,window.dispatchEvent(new CustomEvent(o.c.VG_START_ADS));break;case c.ShouldBackToPlay:for(var e=0;e<this.mediaList.length;++e)this.mediaList[e].isAd&&(this.mediaList[e].isplayed=!0);this.mediaList.length>0&&this.playVideo(this.mediaList.filter(t=>!t.isplayed)),window.dispatchEvent(new CustomEvent(o.c.VG_END_ADS));break;case c.ShouldLoadAds:case c.SkipTimer:break;case c.ShouldCancel:window.dispatchEvent(new CustomEvent(o.c.VG_END_ADS))}}reset(){this.component.reset()}invokeInterstitial(t){this.component.invokeInterstitial(t)}invokePauseList(t){this.component.invokePauseList(t)}showInfo(t,e=5,n=!1){this.component&&this.component.showInfo(t,e,n)}play(){this.vgAPI.play()}pause(){this.vgAPI.pause()}get currentTime(){return this.vgAPI&&this.vgAPI.getDefaultMedia()?this.vgAPI.getDefaultMedia().currentTime:0}get totalTime(){var t=this.vgAPI.getDefaultMedia();return null!=t?t.time.total||t.duration:0}getRef(){return this.vgAPI}seekAgain(){this.seekCount>0&&(null!=this.timeout&&o.f.clearTimeout(this.timeout),this.timeout=o.f.setTimeout(()=>{this.currentTime>=this.lastSeekTime||this.lastSeekTime>=this.totalTime?(this.lastSeekTime=0,this.seekCount=5):(this.vgAPI.seekTime(this.lastSeekTime,!1),this.vgAPI.getDefaultMedia().currentTime=this.lastSeekTime,this.seekAgain(),--this.seekCount)},500))}seek(t){var e=parseInt(""+t);this.vgAPI.seekTime(e),e>0&&(this.lastSeekTime=e,this.seekAgain())}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Lb({token:t,factory:t.\u0275fac}),t})();var g=function(t){return t[t.Original=0]="Original",t[t.Flash=1]="Flash",t}({}),p=function(t){return t[t.MP4=0]="MP4",t[t.M3U8=1]="M3U8",t}({});let f=(()=>{class t{}return t.secondFormat="<font>{second}s</font > \u540e\u64ad\u653e\u5e7f\u544a",t.vipskipFormat='<font color="#FEC1A1">VIP\u5df2\u81ea\u52a8\u8df3\u8fc7\u5e7f\u544a</font >',t.memberskipFormat='<font color="#FEC1A1">\u767b\u9646\u4f1a\u5458\u5df2\u81ea\u52a8\u8df3\u8fc7\u5e7f\u544a</font >',t.vipskipFrontFormat='<font color="#FEC1A1">VIP\u5df2\u81ea\u52a8\u8df3\u8fc7\u7247\u5934</font >',t.memberskipFrontFormat='<font color="#FEC1A1">\u767b\u9646\u4f1a\u5458\u5df2\u81ea\u52a8\u8df3\u8fc7\u7247\u5934</font >',t.skipFrontFormat='<font color="#FEC1A1">\u5df2\u81ea\u52a8\u8df3\u8fc7\u7247\u5934</font >',t.vipskipEndFormat='<font color="#FEC1A1">VIP\u7528\u62375s\u540e\u81ea\u52a8\u8df3\u8fc7\u7247\u5c3e</font >',t.skipEndFormat='<font color="#FEC1A1">5s\u540e\u81ea\u52a8\u8df3\u8fc7\u7247\u5c3e</font >',t.memberskipEndFormat='<font color="#FEC1A1">\u767b\u9646\u4f1a\u54585s\u540e\u81ea\u52a8\u8df3\u8fc7\u7247\u5c3e</font >',t.boughtVideo='\u91d1\u5e01<font color="#FFC000">-{0}</font >\uff01 \u5df2\u8fc7\u6ee4\u5e7f\u544a\uff01',t.alreadyBought="\u60a8\u5df2\u7ecf\u4f7f\u7528\u91d1\u5e01\u8fc7\u6ee4\u5e7f\u544a\u3002",t.alreadymax="\u6ca1\u6709\u4e0b\u4e00\u96c6\u4e86",t.viptoskip='\u6b64\u529f\u80fd\u4ec5\u9650<font color="#FEC1A1">\u6b64\u529f\u80fd\u4ec5\u9650VIP\u4f7f\u7528</font >',t.membertoskip='<font color="#EEC1A1">\u6b64\u529f\u80fd\u4ec5\u9650\u767b\u5f55\u7528\u6237\u4f7f\u7528</font >',t.startup="\u6b63\u5728\u4e3a\u60a8\u64ad\u653e\u524d\u7f6e\u5e7f\u544a",t.notenoughGold='<font color="#FEC1A1">\u91d1\u5e01\u4e0d\u8db3\uff0c\u5f00\u901aVIP\u53ef\u8df3\u8fc7\u5e7f\u544a</font >',t.highFormat="\u5df2\u4e3a\u60a8\u8fc7\u6ee4\u5e7f\u544a",t})();var b=n("3My9"),m=n("bTnO"),v=n("Qa7H"),y=n("YKxU"),C=n("tSvX"),_=n("0Xxy"),x=n("tWDZ"),P=n("Njeq"),w=n("DjSW"),O=n("ciLT"),M=n("b1b0"),k=n("etJ/"),S=n("+6MP"),I=n("5TDy"),L=n("YFcv"),T=n("tyNb"),A=n("5+WD"),N=n("ofXK"),B=n("CDBu"),V=n("0BEm"),U=n("B4PT");function D(t,e){if(1&t){const t=i.Wb();i.Vb(0,"div",1),i.Vb(1,"div",2),i.Vb(2,"div",3),i.dc("click",(function(e){return i.Cc(t),i.gc().close()})),i.Ub(),i.Vb(3,"div",4),i.dc("click",(function(e){return i.Cc(t),i.gc().navigate(e)})),i.Ub(),i.Vb(4,"div",5),i.Nc(5,"\u5e7f\u544a"),i.Ub(),i.Ub(),i.Ub()}if(2&t){const t=i.gc();i.Bb(3),i.nc("ngStyle",t.getBackgroudImage())}}let E=(()=>{class t{constructor(t,e,n){this.API=e,this.vgSeekBarAPI=n,this.list=[],this.shouldLoad=!0,this.onShowPauseAds=new i.n,this.shouldShow=!0,this.subscriptions=[],this.shouldShowControl=!1,this.pauseImage=null,this.elem=t.nativeElement}ngOnInit(){this.API.isPlayerReady?this.onPlayerReady():this.subscriptions.push(this.API.playerReadyEvent.subscribe(()=>this.onPlayerReady()))}invokeAds(t){this.list=t}onPlayerReady(){this.target=this.API.getMediaById(this.vgFor),null!=this.target&&null!=this.target.subscriptions&&(this.subscriptions.push(this.target.subscriptions.pause.subscribe(t=>{this.shouldLoad&&this.shouldShow&&this.list.length>0&&(this.pauseImage=this.list[Math.floor(Math.random()*this.list.length)],this.onShowPauseAds.next(this.pauseImage))})),this.subscriptions.push(this.target.subscriptions.play.subscribe(t=>{this.pauseImage=null})))}getBackgroudImage(){return this.pauseImage?{"background-image":"url('"+this.pauseImage.src+"')","background-repeat":"no-repeat","background-position":"center","background-size":"contain"}:{}}close(){this.pauseImage=null}navigate(t){t.stopPropagation(),o.f.openInNewWindow(this.pauseImage.href)}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(i.Pb(i.l),i.Pb(V.a),i.Pb(U.a))},t.\u0275cmp=i.Jb({type:t,selectors:[["vg-pause-ads"]],hostBindings:function(t,e){1&t&&i.dc("invokePauseAds",(function(t){return e.invokeAds(t.detail)}),!1,i.Bc)},inputs:{vgFor:"vgFor",shouldLoad:"shouldLoad"},outputs:{onShowPauseAds:"onShowPauseAds"},decls:1,vars:1,consts:[["class","vg-overlay-pause",4,"ngIf"],[1,"vg-overlay-pause"],[1,"vg-bg"],[1,"vg-pause-close",3,"click"],[1,"vg-b",3,"ngStyle","click"],[1,"vg-tips-text"]],template:function(t,e){1&t&&i.Lc(0,D,6,1,"div",0),2&t&&i.nc("ngIf",!!e.pauseImage)},directives:[N.n,N.o],styles:["\n        vg-pause-ads{\n        //   position:absolute;\n        //   width:100%;\n        //   height:100%;\n           z-index: 4500;\n        }\n        vg-overlay-pause {\n            display: block;\n            z-index: 999;\n        }\n        .vg-overlay-pause{\n\n            width: 100%;\n            height: 100%;\n        }\n        .vg-bg{\n            position:absolute;\n\n            max-width: 640px;\n            max-height: 360px;\n            background-size: 100%;\n            margin: 0 auto;\n            cursor:pointer;\n            transform: translate(-50%,-50%);\n            left: 50%;\n            top: 50%;\n            width: 57%;\n            height: 57%;\n        }\n        .vg-b{\n            width: 100%;\n            height: 100%;\n\n        }\n        .vg-pause-close{\n\n            background:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAYAAADE6YVjAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKTWlDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVN3WJP3Fj7f92UPVkLY8LGXbIEAIiOsCMgQWaIQkgBhhBASQMWFiApWFBURnEhVxILVCkidiOKgKLhnQYqIWotVXDjuH9yntX167+3t+9f7vOec5/zOec8PgBESJpHmomoAOVKFPDrYH49PSMTJvYACFUjgBCAQ5svCZwXFAADwA3l4fnSwP/wBr28AAgBw1S4kEsfh/4O6UCZXACCRAOAiEucLAZBSAMguVMgUAMgYALBTs2QKAJQAAGx5fEIiAKoNAOz0ST4FANipk9wXANiiHKkIAI0BAJkoRyQCQLsAYFWBUiwCwMIAoKxAIi4EwK4BgFm2MkcCgL0FAHaOWJAPQGAAgJlCLMwAIDgCAEMeE80DIEwDoDDSv+CpX3CFuEgBAMDLlc2XS9IzFLiV0Bp38vDg4iHiwmyxQmEXKRBmCeQinJebIxNI5wNMzgwAABr50cH+OD+Q5+bk4eZm52zv9MWi/mvwbyI+IfHf/ryMAgQAEE7P79pf5eXWA3DHAbB1v2upWwDaVgBo3/ldM9sJoFoK0Hr5i3k4/EAenqFQyDwdHAoLC+0lYqG9MOOLPv8z4W/gi372/EAe/tt68ABxmkCZrcCjg/1xYW52rlKO58sEQjFu9+cj/seFf/2OKdHiNLFcLBWK8ViJuFAiTcd5uVKRRCHJleIS6X8y8R+W/QmTdw0ArIZPwE62B7XLbMB+7gECiw5Y0nYAQH7zLYwaC5EAEGc0Mnn3AACTv/mPQCsBAM2XpOMAALzoGFyolBdMxggAAESggSqwQQcMwRSswA6cwR28wBcCYQZEQAwkwDwQQgbkgBwKoRiWQRlUwDrYBLWwAxqgEZrhELTBMTgN5+ASXIHrcBcGYBiewhi8hgkEQcgIE2EhOogRYo7YIs4IF5mOBCJhSDSSgKQg6YgUUSLFyHKkAqlCapFdSCPyLXIUOY1cQPqQ28ggMor8irxHMZSBslED1AJ1QLmoHxqKxqBz0XQ0D12AlqJr0Rq0Hj2AtqKn0UvodXQAfYqOY4DRMQ5mjNlhXIyHRWCJWBomxxZj5Vg1Vo81Yx1YN3YVG8CeYe8IJAKLgBPsCF6EEMJsgpCQR1hMWEOoJewjtBK6CFcJg4Qxwicik6hPtCV6EvnEeGI6sZBYRqwm7iEeIZ4lXicOE1+TSCQOyZLkTgohJZAySQtJa0jbSC2kU6Q+0hBpnEwm65Btyd7kCLKArCCXkbeQD5BPkvvJw+S3FDrFiOJMCaIkUqSUEko1ZT/lBKWfMkKZoKpRzame1AiqiDqfWkltoHZQL1OHqRM0dZolzZsWQ8ukLaPV0JppZ2n3aC/pdLoJ3YMeRZfQl9Jr6Afp5+mD9HcMDYYNg8dIYigZaxl7GacYtxkvmUymBdOXmchUMNcyG5lnmA+Yb1VYKvYqfBWRyhKVOpVWlX6V56pUVXNVP9V5qgtUq1UPq15WfaZGVbNQ46kJ1Bar1akdVbupNq7OUndSj1DPUV+jvl/9gvpjDbKGhUaghkijVGO3xhmNIRbGMmXxWELWclYD6yxrmE1iW7L57Ex2Bfsbdi97TFNDc6pmrGaRZp3mcc0BDsax4PA52ZxKziHODc57LQMtPy2x1mqtZq1+rTfaetq+2mLtcu0W7eva73VwnUCdLJ31Om0693UJuja6UbqFutt1z+o+02PreekJ9cr1Dund0Uf1bfSj9Rfq79bv0R83MDQINpAZbDE4Y/DMkGPoa5hpuNHwhOGoEctoupHEaKPRSaMnuCbuh2fjNXgXPmasbxxirDTeZdxrPGFiaTLbpMSkxeS+Kc2Ua5pmutG003TMzMgs3KzYrMnsjjnVnGueYb7ZvNv8jYWlRZzFSos2i8eW2pZ8ywWWTZb3rJhWPlZ5VvVW16xJ1lzrLOtt1ldsUBtXmwybOpvLtqitm63Edptt3xTiFI8p0in1U27aMez87ArsmuwG7Tn2YfYl9m32zx3MHBId1jt0O3xydHXMdmxwvOuk4TTDqcSpw+lXZxtnoXOd8zUXpkuQyxKXdpcXU22niqdun3rLleUa7rrStdP1o5u7m9yt2W3U3cw9xX2r+00umxvJXcM970H08PdY4nHM452nm6fC85DnL152Xlle+70eT7OcJp7WMG3I28Rb4L3Le2A6Pj1l+s7pAz7GPgKfep+Hvqa+It89viN+1n6Zfgf8nvs7+sv9j/i/4XnyFvFOBWABwQHlAb2BGoGzA2sDHwSZBKUHNQWNBbsGLww+FUIMCQ1ZH3KTb8AX8hv5YzPcZyya0RXKCJ0VWhv6MMwmTB7WEY6GzwjfEH5vpvlM6cy2CIjgR2yIuB9pGZkX+X0UKSoyqi7qUbRTdHF09yzWrORZ+2e9jvGPqYy5O9tqtnJ2Z6xqbFJsY+ybuIC4qriBeIf4RfGXEnQTJAntieTE2MQ9ieNzAudsmjOc5JpUlnRjruXcorkX5unOy553PFk1WZB8OIWYEpeyP+WDIEJQLxhP5aduTR0T8oSbhU9FvqKNolGxt7hKPJLmnVaV9jjdO31D+miGT0Z1xjMJT1IreZEZkrkj801WRNberM/ZcdktOZSclJyjUg1plrQr1zC3KLdPZisrkw3keeZtyhuTh8r35CP5c/PbFWyFTNGjtFKuUA4WTC+oK3hbGFt4uEi9SFrUM99m/ur5IwuCFny9kLBQuLCz2Lh4WfHgIr9FuxYji1MXdy4xXVK6ZHhp8NJ9y2jLspb9UOJYUlXyannc8o5Sg9KlpUMrglc0lamUycturvRauWMVYZVkVe9ql9VbVn8qF5VfrHCsqK74sEa45uJXTl/VfPV5bdra3kq3yu3rSOuk626s91m/r0q9akHV0IbwDa0b8Y3lG19tSt50oXpq9Y7NtM3KzQM1YTXtW8y2rNvyoTaj9nqdf13LVv2tq7e+2Sba1r/dd3vzDoMdFTve75TsvLUreFdrvUV99W7S7oLdjxpiG7q/5n7duEd3T8Wej3ulewf2Re/ranRvbNyvv7+yCW1SNo0eSDpw5ZuAb9qb7Zp3tXBaKg7CQeXBJ9+mfHvjUOihzsPcw83fmX+39QjrSHkr0jq/dawto22gPaG97+iMo50dXh1Hvrf/fu8x42N1xzWPV56gnSg98fnkgpPjp2Snnp1OPz3Umdx590z8mWtdUV29Z0PPnj8XdO5Mt1/3yfPe549d8Lxw9CL3Ytslt0utPa49R35w/eFIr1tv62X3y+1XPK509E3rO9Hv03/6asDVc9f41y5dn3m978bsG7duJt0cuCW69fh29u0XdwruTNxdeo94r/y+2v3qB/oP6n+0/rFlwG3g+GDAYM/DWQ/vDgmHnv6U/9OH4dJHzEfVI0YjjY+dHx8bDRq98mTOk+GnsqcTz8p+Vv9563Or59/94vtLz1j82PAL+YvPv655qfNy76uprzrHI8cfvM55PfGm/K3O233vuO+638e9H5ko/ED+UPPR+mPHp9BP9z7nfP78L/eE8/sl0p8zAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAHySURBVHjavJZNSFRRFMd/o0IQrcqyGMZFFEIUGRUhKPRBswghQsGislW4l2IgaNWyMGjjom0biaIwCjISLJionMYMtaJAJshMXES1ydevhQPpzJsP+nh/uIt3zzvnf8/HPefGVMogAewDWoBmYCNQD8wB74EskAaGgVxJK2rYiqspNWN1yOT/j4fZCyNIqoP+GQbz+mVJOtUx/w5jeTuhJMl/QLCUKFlIEi8K0ey8ZiY1CCqb/KmOTujn+cLQxZeSpIoUR0Z151G9PrRopByejmvTYb18rVCSUqnJl2lXUdmtr4eFBei9CHcfQalKz76G3ksQBLBqZaG0C0igdpc84fhb3XVM1+7VW8PF8ucTurVDNxzQ++lSHnej9pcNRXZKtxzR1W1648Hv/ScvteWkNiaX7xejHzVd+apN6rYObdivQ2l990H3HF/8DvNwOdIx9ROwjkp49gp6LsCPABrWQG4Gzp+GE+2VNGdRg6qr/9wVXbF7cR3s0S/fqtEKavLNjqo8ufcYNjdC6w6Y/gi3H1ajORdJTiKrrkjuSSJ0bryZ1u2dmkjqnZHSreXFlLae0k3tevVm2JxJ1OQn2kBRumbmoK4O+s7CoTaIlUhrcxP0nYHaWvj6vVA6AOQi7cKRzJPIJmNkM/6/vFZiUby7fg0AfskAwR4G0nsAAAAASUVORK5CYII=');\n            background-repeat:no-repeat;\n            width:25px;\n            height:25px;\n            //top: -20px;\n            right: -15px;\n            position:absolute;\n            margin-left: auto;\n            margin-right: 0;\n            top: -15px;\n                }\n        .vg-pause-close:hover{\n            background:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAYAAADE6YVjAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKTWlDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVN3WJP3Fj7f92UPVkLY8LGXbIEAIiOsCMgQWaIQkgBhhBASQMWFiApWFBURnEhVxILVCkidiOKgKLhnQYqIWotVXDjuH9yntX167+3t+9f7vOec5/zOec8PgBESJpHmomoAOVKFPDrYH49PSMTJvYACFUjgBCAQ5svCZwXFAADwA3l4fnSwP/wBr28AAgBw1S4kEsfh/4O6UCZXACCRAOAiEucLAZBSAMguVMgUAMgYALBTs2QKAJQAAGx5fEIiAKoNAOz0ST4FANipk9wXANiiHKkIAI0BAJkoRyQCQLsAYFWBUiwCwMIAoKxAIi4EwK4BgFm2MkcCgL0FAHaOWJAPQGAAgJlCLMwAIDgCAEMeE80DIEwDoDDSv+CpX3CFuEgBAMDLlc2XS9IzFLiV0Bp38vDg4iHiwmyxQmEXKRBmCeQinJebIxNI5wNMzgwAABr50cH+OD+Q5+bk4eZm52zv9MWi/mvwbyI+IfHf/ryMAgQAEE7P79pf5eXWA3DHAbB1v2upWwDaVgBo3/ldM9sJoFoK0Hr5i3k4/EAenqFQyDwdHAoLC+0lYqG9MOOLPv8z4W/gi372/EAe/tt68ABxmkCZrcCjg/1xYW52rlKO58sEQjFu9+cj/seFf/2OKdHiNLFcLBWK8ViJuFAiTcd5uVKRRCHJleIS6X8y8R+W/QmTdw0ArIZPwE62B7XLbMB+7gECiw5Y0nYAQH7zLYwaC5EAEGc0Mnn3AACTv/mPQCsBAM2XpOMAALzoGFyolBdMxggAAESggSqwQQcMwRSswA6cwR28wBcCYQZEQAwkwDwQQgbkgBwKoRiWQRlUwDrYBLWwAxqgEZrhELTBMTgN5+ASXIHrcBcGYBiewhi8hgkEQcgIE2EhOogRYo7YIs4IF5mOBCJhSDSSgKQg6YgUUSLFyHKkAqlCapFdSCPyLXIUOY1cQPqQ28ggMor8irxHMZSBslED1AJ1QLmoHxqKxqBz0XQ0D12AlqJr0Rq0Hj2AtqKn0UvodXQAfYqOY4DRMQ5mjNlhXIyHRWCJWBomxxZj5Vg1Vo81Yx1YN3YVG8CeYe8IJAKLgBPsCF6EEMJsgpCQR1hMWEOoJewjtBK6CFcJg4Qxwicik6hPtCV6EvnEeGI6sZBYRqwm7iEeIZ4lXicOE1+TSCQOyZLkTgohJZAySQtJa0jbSC2kU6Q+0hBpnEwm65Btyd7kCLKArCCXkbeQD5BPkvvJw+S3FDrFiOJMCaIkUqSUEko1ZT/lBKWfMkKZoKpRzame1AiqiDqfWkltoHZQL1OHqRM0dZolzZsWQ8ukLaPV0JppZ2n3aC/pdLoJ3YMeRZfQl9Jr6Afp5+mD9HcMDYYNg8dIYigZaxl7GacYtxkvmUymBdOXmchUMNcyG5lnmA+Yb1VYKvYqfBWRyhKVOpVWlX6V56pUVXNVP9V5qgtUq1UPq15WfaZGVbNQ46kJ1Bar1akdVbupNq7OUndSj1DPUV+jvl/9gvpjDbKGhUaghkijVGO3xhmNIRbGMmXxWELWclYD6yxrmE1iW7L57Ex2Bfsbdi97TFNDc6pmrGaRZp3mcc0BDsax4PA52ZxKziHODc57LQMtPy2x1mqtZq1+rTfaetq+2mLtcu0W7eva73VwnUCdLJ31Om0693UJuja6UbqFutt1z+o+02PreekJ9cr1Dund0Uf1bfSj9Rfq79bv0R83MDQINpAZbDE4Y/DMkGPoa5hpuNHwhOGoEctoupHEaKPRSaMnuCbuh2fjNXgXPmasbxxirDTeZdxrPGFiaTLbpMSkxeS+Kc2Ua5pmutG003TMzMgs3KzYrMnsjjnVnGueYb7ZvNv8jYWlRZzFSos2i8eW2pZ8ywWWTZb3rJhWPlZ5VvVW16xJ1lzrLOtt1ldsUBtXmwybOpvLtqitm63Edptt3xTiFI8p0in1U27aMez87ArsmuwG7Tn2YfYl9m32zx3MHBId1jt0O3xydHXMdmxwvOuk4TTDqcSpw+lXZxtnoXOd8zUXpkuQyxKXdpcXU22niqdun3rLleUa7rrStdP1o5u7m9yt2W3U3cw9xX2r+00umxvJXcM970H08PdY4nHM452nm6fC85DnL152Xlle+70eT7OcJp7WMG3I28Rb4L3Le2A6Pj1l+s7pAz7GPgKfep+Hvqa+It89viN+1n6Zfgf8nvs7+sv9j/i/4XnyFvFOBWABwQHlAb2BGoGzA2sDHwSZBKUHNQWNBbsGLww+FUIMCQ1ZH3KTb8AX8hv5YzPcZyya0RXKCJ0VWhv6MMwmTB7WEY6GzwjfEH5vpvlM6cy2CIjgR2yIuB9pGZkX+X0UKSoyqi7qUbRTdHF09yzWrORZ+2e9jvGPqYy5O9tqtnJ2Z6xqbFJsY+ybuIC4qriBeIf4RfGXEnQTJAntieTE2MQ9ieNzAudsmjOc5JpUlnRjruXcorkX5unOy553PFk1WZB8OIWYEpeyP+WDIEJQLxhP5aduTR0T8oSbhU9FvqKNolGxt7hKPJLmnVaV9jjdO31D+miGT0Z1xjMJT1IreZEZkrkj801WRNberM/ZcdktOZSclJyjUg1plrQr1zC3KLdPZisrkw3keeZtyhuTh8r35CP5c/PbFWyFTNGjtFKuUA4WTC+oK3hbGFt4uEi9SFrUM99m/ur5IwuCFny9kLBQuLCz2Lh4WfHgIr9FuxYji1MXdy4xXVK6ZHhp8NJ9y2jLspb9UOJYUlXyannc8o5Sg9KlpUMrglc0lamUycturvRauWMVYZVkVe9ql9VbVn8qF5VfrHCsqK74sEa45uJXTl/VfPV5bdra3kq3yu3rSOuk626s91m/r0q9akHV0IbwDa0b8Y3lG19tSt50oXpq9Y7NtM3KzQM1YTXtW8y2rNvyoTaj9nqdf13LVv2tq7e+2Sba1r/dd3vzDoMdFTve75TsvLUreFdrvUV99W7S7oLdjxpiG7q/5n7duEd3T8Wej3ulewf2Re/ranRvbNyvv7+yCW1SNo0eSDpw5ZuAb9qb7Zp3tXBaKg7CQeXBJ9+mfHvjUOihzsPcw83fmX+39QjrSHkr0jq/dawto22gPaG97+iMo50dXh1Hvrf/fu8x42N1xzWPV56gnSg98fnkgpPjp2Snnp1OPz3Umdx590z8mWtdUV29Z0PPnj8XdO5Mt1/3yfPe549d8Lxw9CL3Ytslt0utPa49R35w/eFIr1tv62X3y+1XPK509E3rO9Hv03/6asDVc9f41y5dn3m978bsG7duJt0cuCW69fh29u0XdwruTNxdeo94r/y+2v3qB/oP6n+0/rFlwG3g+GDAYM/DWQ/vDgmHnv6U/9OH4dJHzEfVI0YjjY+dHx8bDRq98mTOk+GnsqcTz8p+Vv9563Or59/94vtLz1j82PAL+YvPv655qfNy76uprzrHI8cfvM55PfGm/K3O233vuO+638e9H5ko/ED+UPPR+mPHp9BP9z7nfP78L/eE8/sl0p8zAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAK9SURBVHjaxNZtaJVlGAfw355zRCiRSZumx7PKGBM19ai9KMMc2qgQBYn25XySDFGH5QuIpqxGC9oYln0o8uVDIxpIVEiCBSKIIwOdYkEMBjZ8Wa0Zo8QPzvnhPKedPWdnZ+Wg/5cHnuu+rj/3fV/X/3+XDE2uNgaSqMFyLMYclKEP3ehEB06jp1CRkgIkCaRRh5TiuIh2tOHaeEhqUY+1/j1O4BBO5f6MRxa9gv1Y6L9hLSowFcezP4PIDh6EIIuFYZ3aKEkiPKJhgvJSUlUEQfGyJVhSRVlpLlF9WPcfknTeHcx9nE/3smFVpshYWDaPz98h/WL06NJZkmTYRSNx8w/iMVq38/KKwkSLK2l9g1iMv25Ho3VIBuEc5LdpVw/pA/T2c+wA61bmEyydy2dv82SCLe9z5JvoihRqgnDQRseVbl5r4vdbHN3Phprh2LPzObSLqQ+zrYXvzjM0apXlsYZ4xVuYXZCot5+OK6xexqur6ezCEIf38cQstjbz1ZmxbuxuydDk6l5ML9pBT8/jkz1MimeIkzNoPErbyWKZvwWhFhXHjz9z8hyVSaoXcfUGX58ZT2ZZEIqdce3kpRWZhjh7icdmsv758WT2BaGajo1UFUf2MauMNw/yehO3BmipZ/3KYtndQSjXhbGokrYGEtPZ0sz35+m+zvbWzPfDnSO7Lh+dQegHo2PBHA7vpXwaGxv58vRw7IefqG9h4G8+2sULzxQa2I5YQ7yiH6swc0SoMskX72Y0bFMTJ87mp9/oo+Myzz1F3Rpu3+HCL1GfeS8IHa09r8Cjj3B3kB0f8O25QoOWmZsdBxkcZMpD0Wg7erKmlcDHI0SyvJTZM7jUxb17xVU4VcWvvfT9mWtgm3Et1xlr0TwBfgKXsTvrkLlmcQqN4YIHJWjMteCo/R7HwER7/P/2Wpnwd9f9AQCf9MFXVuEYnQAAAABJRU5ErkJggg==');\n\n        }\n        .vg-tips-text {\n            font-size: 12px;\n            color: #ffffff;\n            opacity: 0.5;\n            position: absolute;\n            top: 5px;\n            left: 8px;\n            text-shadow: 1px 1px #000000;\n          }\n    "],encapsulation:2}),t})();var R=n("itXk"),F=n("n1bd"),j=n("R0Ic"),z=n("IzEk"),H=n("JU/d"),G=n("QP6B");const W=["class","bullet"];function q(t,e){if(1&t&&i.Qb(0,"img",7),2&t){const t=i.gc();i.nc("src",t.bullet.avatar,i.Fc)}}function Q(t,e){1&t&&i.Qb(0,"img",11),2&t&&i.nc("src","./assets/images/officalUp.png?v=1",i.Fc)}const $=function(t){return{"is-offical-up":t}};function K(t,e){if(1&t&&(i.Vb(0,"div",8),i.Lc(1,Q,1,1,"img",9),i.Vb(2,"span",10),i.Nc(3),i.Ub(),i.Nc(4,": "),i.Ub()),2&t){const t=i.gc();i.nc("ngClass",i.sc(3,$,t.bullet.isOfficalUP)),i.Bb(1),i.nc("ngIf",t.bullet.isOfficalUP),i.Bb(2),i.Oc(t.bullet.nickName)}}function X(t,e){if(1&t&&(i.Vb(0,"div",12),i.Qb(1,"i",13),i.Nc(2),i.Ub()),2&t){const t=i.gc();i.Bb(2),i.Pc(" ",t.bullet.country," ")}}function Y(t,e){if(1&t){const t=i.Wb();i.Vb(0,"button",20),i.dc("click",(function(e){return i.Cc(t),i.gc(2).addUserFilter()})),i.Nc(1,"\u5c4f\u853d\u7528\u6237"),i.Ub()}}function Z(t,e){if(1&t){const t=i.Wb();i.Vb(0,"button",21),i.dc("click",(function(e){i.Cc(t);const n=i.gc(2);return n.reportDanmu(n.bullet.guid)})),i.Nc(1,"\u4e3e\u62a5"),i.Ub()}}function J(t,e){if(1&t){const t=i.Wb();i.Vb(0,"button",21),i.dc("click",(function(e){return i.Cc(t),i.gc(2).removeDanmu()})),i.Nc(1,"\u64a4\u56de"),i.Ub()}}function tt(t,e){if(1&t&&(i.Vb(0,"div",14),i.Qb(1,"div",15),i.Vb(2,"div",16),i.Nc(3),i.Ub(),i.Vb(4,"div",17),i.Lc(5,Y,2,0,"button",18),i.Lc(6,Z,2,0,"button",19),i.Lc(7,J,2,0,"button",19),i.Ub(),i.Ub()),2&t){const t=i.gc();i.Bb(1),i.nc("innerHtml",t.bullet.contxt,i.Dc),i.Bb(2),i.Oc(t.bullet.nickName),i.Bb(2),i.nc("ngIf",t.userId!==t.bullet.uid),i.Bb(1),i.nc("ngIf",t.userId!==t.bullet.uid),i.Bb(1),i.nc("ngIf",t.userId===t.bullet.uid)}}const et=function(t){return{"my-last":t}};let nt=(()=>{class t{constructor(t,e,n,o,s,r,a){this.danmuFacade=t,this.bulletStyleService=e,this.builder=n,this.elBullet=o,this.dialogService=s,this.cd=r,this._utility=a,this.fullScreen=!1,this.canvasWidth=900,this.duration=1e4,this.width=99999,this.top=-99999,this.fontSize=22,this.opacity=100,this.style={},this.barrelHeight=30,this.subscriptions=[],this.hovered=!1,this.hidden=!1,this.blocked=!1,this.sysHidden=!1,this.startTime=0,this.fontFamily=1,this.showMenu=!1,this.userFilterd=!1,this.onBulletEvent=new i.n,this.eventID=0}get transparent(){return this.hidden||this.blocked||this.sysHidden||this.userFilterd}ngOnInit(){this.getFontSize(),this.getOpacity(),this.getFontFamily(),this.subscribeBlock(),this.subscribePaused()}getMembership(t){let e="";switch(t){case 0:e="";break;case 1:case 2:e="gvip";break;case 3:e="royalVip";break;case 4:case 101:case 102:e="cpvip";break;default:e="vip"}return e}ngAfterViewInit(){this.width=this.elBullet.nativeElement.offsetWidth,this.speed=(this.canvasWidth+this.width)/this.duration,this.style=this.bulletStyleService.getStyle({opacity:this.opacity,font:this.bullet.font,color:this.bullet.color,style:this.bullet.style,"font-family":this.fontFamily}),this._utility.isIphoneDevice()&&(this.style=Object.assign(Object.assign({},this.style),{"font-family":"-apple-system, "+this.style["font-family"]})),this.onBulletEvent.emit({event:it.Bullet_Loaded,object:{duration:this.duration,size:this.width,canvasSize:this.canvasWidth,bullet:this.bullet,speed:this.speed}})}createPlayerAndBindEvent(){this.player=this.factory.create(this.elBullet.nativeElement,{});let t=++this.eventID;this.player.onDone(()=>{this.eventID==t&&(this.onBulletEvent.emit({event:it.Bullet_End,object:{bullet:this.bullet,index:this.barrelIndex}}),this.hidden=!0,this.barrelIndex=0,this.startTime=0,this.userFilterd=!1)})}finish(){this.player&&(this.destroyPlayer(),this.hidden=!0,this.barrelIndex=0,this.startTime=0,this.userFilterd=!1)}get getBulletStyle(){return this.bullet.position===G.a.Barrel?Object.assign({left:"100%",top:this.top+"px","font-size":this.fontSize+"px"},this.style):this.bullet.position===G.a.FixTop?Object.assign({left:"50%",transform:"TranslateX(-50%)",transition:"none",top:this.top+"px","font-size":this.fontSize+"px"},this.style):this.bullet.position===G.a.FixBottom?Object.assign({left:"50%",transform:"TranslateX(-50%)",transition:"none",bottom:this.top+"px","font-size":this.fontSize+"px"},this.style):void 0}destroyPlayer(){this.player&&(this.eventID+=1,this.player.destroy(),this.player=null)}reload(t){this.bullet=t,this.destroyPlayer(),this.style=Object.assign(Object.assign({},this.style),{transform:""}),this.cd.detectChanges(),this.ngAfterViewInit()}restart(){if(this.bullet.position===G.a.Barrel){let t=this.startTime>0?Date.now()-this.startTime:0;this.speed=(this.canvasWidth+this.width)/this.duration;let e=this.duration-t,n=this.startTime>0;if(e>0){this.destroyPlayer();let i=this.canvasWidth+this.width;this.factory=this.builder.build([Object(j.j)({transform:`translateX(${-this.speed*t}px) translateY(0) translateZ(0)`}),Object(j.e)(e,Object(j.j)({transform:"translateX(-"+i+"px) translateY(0) translateZ(0)"}))]),this.createPlayerAndBindEvent(),n&&this.player.play()}}}onPaused(){this.player&&this.player.pause()}onPlay(){this.player&&this.player.play()}ngOnDestroy(){this.player&&this.player.destroy(),this.subscriptions.forEach(t=>t.unsubscribe())}onMouseOver(){this.player&&this.player.pause(),this.hovered=!0}onMouseLeave(){!this.danmuFacade.isPaused&&this.player&&this.player.play(),this.hovered=!1,this.showMenu=!1}addUserFilter(){this.danmuFacade.addUserFilter({id:this.bullet.uid,name:this.bullet.nickName})}subscribeHide(){}subscribeBlock(){this.bullet.position===G.a.FixTop&&this.subscriptions.push(this.danmuFacade.blockTop$.subscribe(t=>{this.blocked=t})),this.bullet.position===G.a.FixBottom&&this.subscriptions.push(this.danmuFacade.blockBottom$.subscribe(t=>{this.blocked=t})),this.bullet.position===G.a.Barrel&&this.subscriptions.push(this.danmuFacade.blockLeft$.subscribe(t=>{this.blocked=t}))}subscribePaused(){this.subscriptions.push(this.danmuFacade.paused$.subscribe(t=>{t&&this.onPaused(),0===t&&this.onPlay()}))}getFontSize(){this.subscriptions.push(this.danmuFacade.fontSize$.pipe(Object(z.a)(1)).subscribe(t=>{switch(t){case 0:this.fontSize=14;break;case 1:this.fontSize=18;break;case 2:this.fontSize=22;break;case 3:this.fontSize=26;break;case 4:this.fontSize=30;break;default:this.fontSize=18}}))}getOpacity(){this.subscriptions.push(this.danmuFacade.opacity$.pipe(Object(z.a)(1)).subscribe(t=>{switch(t){case 0:this.opacity=10;break;case 1:this.opacity=25;break;case 2:this.opacity=50;break;case 3:this.opacity=75;break;case 4:this.opacity=100;break;default:this.opacity=100}}))}getFontFamily(){this.subscriptions.push(this.danmuFacade.fontFamily$.subscribe(t=>{this.fontFamily=t}))}shouldShowMenu(t){t.target&&"avatar-img"===t.target.id||(t.preventDefault(),this.showMenu=!0)}shot(t){if(this.hidden=!1,this.top=this.bullet.position===G.a.Barrel?t*this.barrelHeight+35:this.bullet.position===G.a.FixBottom?70+t*this.barrelHeight:t*this.barrelHeight+10,this.bullet.position!==G.a.FixTop&&this.bullet.position!==G.a.FixBottom||(this.duration=4200),this.bullet.position===G.a.Barrel){let t=this.canvasWidth+this.width;this.factory=this.builder.build([Object(j.j)({transform:"translateX(0) translateY(0) translateZ(0)"}),Object(j.e)(this.duration,Object(j.j)({transform:"translateX(-"+t+"px) translateY(0) translateZ(0)"}))])}else this.factory=this.builder.build([Object(j.j)({transform:"translateX(-50%) translateY(0) translateZ(0)"}),Object(j.e)(this.duration,Object(j.j)({transform:"translateX(-50%) translateY(0) translateZ(0)"}))]);this.createPlayerAndBindEvent(),this.barrelIndex=t,this.startTime=Date.now(),this.player&&this.player.play()}removeDanmu(){this.player.finish(),this.danmuFacade.removeDanmu({id:this.bullet.guid,user:null})}reportDanmu(t){this.userId?this.dialogService.open("reportDanmu",{size:{width:280,height:270},id:t}):this.dialogService.open("login-required")}}return t.\u0275fac=function(e){return new(e||t)(i.Pb(v.a),i.Pb(F.a),i.Pb(j.b),i.Pb(i.l),i.Pb(_.a),i.Pb(i.h),i.Pb(b.a))},t.\u0275cmp=i.Jb({type:t,selectors:[["",8,"bullet"]],viewQuery:function(t,e){var n;1&t&&i.Ic(H.a,!0),2&t&&i.yc(n=i.ec())&&(e.danmuMenu=n.first)},hostVars:8,hostBindings:function(t,e){1&t&&i.dc("mouseover",(function(t){return e.onMouseOver()}))("mouseleave",(function(t){return e.onMouseLeave()}))("click",(function(t){return e.shouldShowMenu(t)})),2&t&&(i.Jc(e.getBulletStyle,i.Ib),i.Gb("hovered",e.hovered)("show-menu",e.showMenu)("transparent",e.transparent))},inputs:{bullet:"bullet",userId:"userId",canvasWidth:"canvasWidth"},outputs:{onBulletEvent:"onBulletEvent"},attrs:W,decls:7,vars:9,consts:[[1,"dammu-bullet","inner",3,"ngClass"],["target","_blank",1,"d-flex","justify-content-center","align-items-center",3,"href"],["class","avatar","id","avatar-img",3,"src",4,"ngIf"],["class","name",3,"ngClass",4,"ngIf"],[3,"innerHtml"],["class","location d-flex align-items-center",4,"ngIf"],["class","context-menu d-flex align-items-center",4,"ngIf"],["id","avatar-img",1,"avatar",3,"src"],[1,"name",3,"ngClass"],["class","official-up-logo",3,"src",4,"ngIf"],[1,"name-text"],[1,"official-up-logo",3,"src"],[1,"location","d-flex","align-items-center"],[1,"iconfont","icondingwei"],[1,"context-menu","d-flex","align-items-center"],[1,"content","flex-1",3,"innerHtml"],[1,"user"],[1,"actions"],["class","mr-1",3,"click",4,"ngIf"],[3,"click",4,"ngIf"],[1,"mr-1",3,"click"],[3,"click"]],template:function(t,e){1&t&&(i.Vb(0,"div",0),i.Vb(1,"a",1),i.Lc(2,q,1,1,"img",2),i.Ub(),i.Lc(3,K,5,5,"div",3),i.Qb(4,"div",4),i.Lc(5,X,3,1,"div",5),i.Lc(6,tt,8,5,"div",6),i.Ub()),2&t&&(i.nc("ngClass",i.sc(7,et,e.bullet.needBorder)),i.Bb(1),i.pc("href","/space/",e.bullet.userKey?e.bullet.userKey:"","",i.Fc),i.Bb(1),i.nc("ngIf",1===e.bullet.prefix||0===e.bullet.prefix),i.Bb(1),i.nc("ngIf",1===e.bullet.prefix||0===e.bullet.prefix),i.Bb(1),i.nc("innerHtml",e.bullet.contxt,i.Dc),i.Bb(1),i.nc("ngIf",2===e.bullet.prefix||0===e.bullet.prefix),i.Bb(1),i.nc("ngIf",e.showMenu))},directives:[N.l,N.n],styles:["[_nghost-%COMP%]   .inner.my-last[_ngcontent-%COMP%]{border:1px solid #00c0ff;padding:2px 5px}[_nghost-%COMP%]   .hidden[_ngcontent-%COMP%]{opacity:0}[_nghost-%COMP%]   .avatar[_ngcontent-%COMP%]{height:24px;width:24px;border-radius:50%;margin-right:8px}[_nghost-%COMP%]   .name[_ngcontent-%COMP%]{color:#e89f75;text-shadow:none!important;margin-right:8px;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}[_nghost-%COMP%]   .name[_ngcontent-%COMP%]   .name-text[_ngcontent-%COMP%]{max-width:175px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:inline-block;margin-right:4px}[_nghost-%COMP%]   .name.is-offical-up[_ngcontent-%COMP%]{color:#00c0ff}[_nghost-%COMP%]   .official-up-logo[_ngcontent-%COMP%]{height:24px}[_nghost-%COMP%]   .official-up-logo[_ngcontent-%COMP%], [_nghost-%COMP%]   .vip-icon[_ngcontent-%COMP%]{width:24px;margin-right:8px}[_nghost-%COMP%]   .location[_ngcontent-%COMP%]{color:#c3c3c3;text-shadow:none!important;font-size:18px}[_nghost-%COMP%]   .location[_ngcontent-%COMP%]   .iconfont[_ngcontent-%COMP%]{font-size:20px;margin-left:10px;margin-right:-5px}"]}),t})();var it=function(t){return t[t.Bullet_Loaded=0]="Bullet_Loaded",t[t.Bullet_Out=1]="Bullet_Out",t[t.Bullet_End=2]="Bullet_End",t}({}),ot=n("Y7a1");class st{constructor(t){this.barrels=[],this.maxBarrels=13,this.maxBarrels=t}count(){return this.getBarrelArray().length}freeBarrels(){return this.getBarrelArray().filter(t=>0===t.stacks).length}clearBarrels(){this.barrels.forEach(t=>{t.duration=0,t.speed=0,t.size=0,t.duration=0,t.stacks=0})}newBallel(){const t={id:this.count()+1,stacks:0,speed:0,size:0,start:0,duration:0,canvasSize:0};this.getBarrelArray().push(t)}reCalculateSpeed(t){this.barrels.forEach(e=>{e.speed=(t+e.size)/e.duration})}releaseBaller(t){const e=this.getBarrelArray();e.length>=t&&(e[t-1].stacks=e[t-1].stacks-1,e[t-1].stacks<0&&console.error("error",t))}resetBaller(t){this.barrels=this.barrels.slice(0,t),this.maxBarrels=t}occupyBaller(t){const e=this.getBarrelArray();return e[t-1].stacks=e[t-1].stacks+1,e[t-1].stacks}getfreeBarrels(){return this.getBarrelArray().filter(t=>0===t.stacks)}nextBarrel(){const t=this.count(),e=this.getMaxStacks();if(0===t)return this.newBallel(),1;const n=this.getfreeBarrels();return n.length>0?n[0].id:0===n.length&&t<e?(this.newBallel(),this.count()):null}getBarrelArray(){return this.barrels}getMaxStacks(){return this.maxBarrels}}let rt=(()=>{class t{constructor(){this.pendingBullet=[],this.subscriptions=[],this.onSchedule=new i.n,this.flying=new st(13),this.fixTop=new st(10),this.fixBottom=new st(3),this.initSignal()}initSignal(){let t=!1;this.subscriptions.push(Object(r.a)(0,100).subscribe(e=>{t||(t=!0,this.firePendingIfPossible()),t=!1}))}shotBullet(t,e,n){return null!=e&&(t.occupyBaller(e),t.barrels[e-1].speed=n.speed,t.barrels[e-1].size=n.size,t.barrels[e-1].start=Date.now(),t.barrels[e-1].duration=n.duration,t.barrels[e-1].canvasSize=n.canvasSize,this.onSchedule.emit({event:at.Bullet_Shot,object:{bullet:n.bullet,index:e}}),this.pendingBullet=this.pendingBullet.filter(t=>t.guid!=n.guid),!0)}fixHandler(t,e){for(let n=0;n<e.length;++n){let i=e[n],o=t.nextBarrel();if(!this.shotBullet(t,o,i))break}}smartHandler(t,e){let n=!1;for(let i=0;i<e.length;++i){let o=e[i],s=null;if(!n){let e=Date.now();for(let n=0;n<t.barrels.length;++n){let i=t.barrels[n],r=e-i.start,a=r*i.speed;if(a>i.size){if(i.speed>=o.speed){s=n+1;break}if((a-i.size)/(o.speed-i.speed)>i.duration-r){s=n+1;break}}}null==s&&(n=!0)}if(null==s&&(s=t.nextBarrel()),!this.shotBullet(t,s,o))break}}firePendingIfPossible(){this.smartHandler(this.flying,this.pendingBullet.filter(t=>t.bullet.position==G.a.Barrel)),this.fixHandler(this.fixBottom,this.pendingBullet.filter(t=>t.bullet.position==G.a.FixBottom)),this.fixHandler(this.fixTop,this.pendingBullet.filter(t=>t.bullet.position==G.a.FixTop))}tryGetBarrels(t){switch(t.position){case G.a.Barrel:return this.flying;case G.a.FixTop:return this.fixTop;case G.a.FixBottom:return this.fixBottom}}resetBarrel(t){this.flying.resetBaller(t)}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}loadBullet(t){this.pendingBullet.push(t)}freeBarrelsAndBullet(){this.freeBullet(),this.flying.clearBarrels(),this.fixBottom.clearBarrels(),this.fixTop.clearBarrels()}reCalculateSpeed(t){this.flying.reCalculateSpeed(t)}freeBullet(){this.pendingBullet=[]}stopAddNew(){this.subscriptions.forEach(t=>t.unsubscribe()),this.subscriptions=[]}startAddNew(){this.stopAddNew(),this.initSignal()}onBulletEnd(t){t.index&&this.tryGetBarrels(t.bullet).releaseBaller(t.index)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Lb({token:t,factory:t.\u0275fac}),t})();var at=function(t){return t[t.Bullet_Shot=0]="Bullet_Shot",t[t.Bullet_SpeedUP=1]="Bullet_SpeedUP",t}({}),ct=n("kizo");const lt=["danmu"];let ht=(()=>{class t{constructor(t,e,n,i,o,s,r,a){this.ref=t,this.API=e,this.resolver=n,this.danmuFacade=i,this._userService=o,this._utility=s,this._danmuService=r,this._window=a,this.isPlayingAds=!1,this.subscriptions=[],this.danmuku=[],this.bullets=[],this.componentRefs=[],this.showDanmu=!0,this.user={id:0},this.last=0,this.userHidden=!1,this.sysHidden=!1,this.userDefineDuration=1e4,this.currentSize=0,this.timeoutChangeSize=null,this.list=[],this.filters=[[],[]],this.lastTime=0,this.factory=null,this.canvasWidth=window.innerWidth,this.timeout=null,this.mediaLoaded=!1,this.userClicked=!1,this.elem=this.ref.nativeElement}ngAfterViewInit(){this.onchangeSize()}ngOnChanges(t){t.isPlayingAds&&(this.sysHidden=t.isPlayingAds.currentValue,this.showOrHideBullet())}readState(){}get hidden(){return this.userHidden||this.sysHidden}randomDuration(t){return t*(Math.floor(30*Math.random())+86)/100}getOCreateBullet(t){let e=this.componentRefs.find(t=>1==t.isFree);null==e?this.componentRefs.push({guid:t.guid,compnent:this.createBullet(t),isFree:!1,isFire:!1,bullet:t}):(e.isFree=!1,e.isFire=!1,e.guid=t.guid,e.bullet=t,e.compnent.instance.duration=t.duration,e.compnent.instance.canvasWidth=this.canvasWidth,e.compnent.instance.reload(t))}ngOnInit(){this.user=this._userService.user,this.API.isPlayerReady?this.onPlayerReady():this.subscriptions.push(this.API.playerReadyEvent.subscribe(()=>{this.onPlayerReady()})),this.subscriptions.push(this._window.size$.subscribe(t=>{0!=this.currentSize&&this.onchangeSize(t),this.currentSize=t,this._danmuService.resetBarrel(this.currentSize<3?8:13)}),this.danmuFacade.speed$.subscribe(t=>{let e=15e3;switch(t){case 0:e=17e3;break;case 1:e=14500;break;case 2:e=12e3;break;case 3:e=9500;break;case 4:e=7e3;break;default:e=15e3}this.userDefineDuration=e}),this.danmuFacade.showDanmu$.subscribe(t=>{this.showDanmu=t}),this._danmuService.onSchedule.subscribe(t=>{switch(t.event){case at.Bullet_Shot:let e=this.componentRefs.find(e=>e.guid.toString()===t.object.bullet.guid);null!=e&&(e.compnent.instance.shot(t.object.index),e.isFire=!0)}}),this.danmuFacade.showDanmu$.subscribe(t=>{this.userHidden=!t,this.showOrHideBullet()}),this.danmuFacade.list$.subscribe(t=>{this.list=t}),this._utility.GetOrCreateSubscript(ot.a.DANMU_SEND).subscribe(t=>{this.onCueChange([t],1)}),this.danmuFacade.setCurrentTime$.subscribe(t=>{this.API.currentTime=t,this.lastTime=t}),this.danmuFacade.DanmuKey$.subscribe(t=>{this.clearCue()}),this.danmuFacade.fullScreen$.subscribe(t=>{this.userClicked&&this.onchangeSize()}),Object(R.a)([this.danmuFacade.keywordFilter$,this.danmuFacade.userFilter$]).subscribe(t=>{this.filters=t,this.userClicked&&this.componentRefs.filter(t=>t.isFire).filter(t=>this.danmuFacade.containKeywordFilter(this.filters[0],t.bullet)||this.danmuFacade.containUserFilter(this.filters[1],t.bullet)).forEach(t=>{t.compnent.instance.userFilterd=!0})}))}showOrHideBullet(){this.componentRefs.forEach(t=>t.compnent.instance.sysHidden=this.hidden)}onPlayerReady(){this.target=this.API.getMediaById(this.vgFor),this.target&&(this.subscriptions.push(this.target.subscriptions.timeUpdate.subscribe(this.onTimeUpdate.bind(this))),this.subscriptions.push(this.target.subscriptions.pause.subscribe(this.onPause.bind(this))),this.subscriptions.push(this.target.subscriptions.play.subscribe(this.onPlay.bind(this))),this.subscriptions.push(this.target.subscriptions.seeked.subscribe(this.onSeeked.bind(this))))}clearCue(){this._danmuService.freeBarrelsAndBullet(),this.componentRefs.forEach(t=>{t.compnent.instance.finish(),t.isFire=!1,t.isFree=!0})}onCueChange(t,e){if(this.isPlayingAds)return;let n;for(let i=0,o=t.length;i<o;i++)n=t[i],this.danmuFacade.containKeywordFilter(this.filters[0],n)||this.danmuFacade.containUserFilter(this.filters[1],n)||(n.duration=this.randomDuration(this.userDefineDuration)*(0==n.position?e:1),this.getOCreateBullet(n))}onTimeUpdate(t){if(this._utility.isDocumentVisible&&!this.hidden){if(this.danmuFacade.currentTime=t.target.currentTime,t.target.currentTime>this.lastTime&&t.target.currentTime-this.lastTime<=2){let e=this.list.filter(t=>t.second>this.lastTime&&t.second<=this.lastTime+2),n=e.filter(e=>e.second<=t.target.currentTime);this.onCueChange(n,e.length>12?.5:1)}this.lastTime=t.target.currentTime}}createBullet(t){null==this.factory&&(this.factory=this.resolver.resolveComponentFactory(nt));const e=this.entry.createComponent(this.factory);return e.location.nativeElement.classList.add("bullet"),e.instance.bullet=t,e.instance.duration=t.duration,e.instance.userId=this._userService.user.id,e.instance.canvasWidth=this.canvasWidth,e.instance.onBulletEvent.subscribe(this.bulletHandler.bind(this)),e}bulletHandler(t){switch(t.event){case it.Bullet_Loaded:this._danmuService.loadBullet(t.object);break;case it.Bullet_End:this._danmuService.onBulletEnd(t.object);let e=this.componentRefs.findIndex(e=>e.guid==t.object.bullet.guid);this.componentRefs[e].isFree=!0,this.componentRefs[e].isFire=!1}}onchangeSize(t=0){clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.canvasWidth=this.entry.element.nativeElement.offsetWidth||window.innerWidth,this.componentRefs.filter(t=>t.isFire).forEach(t=>{t.compnent.instance.canvasWidth=this.canvasWidth,t.compnent.instance.restart()}),this._danmuService.reCalculateSpeed(this.canvasWidth)},20)}destroyBullet(){}onPause(){this.danmuFacade.pause(this.API.currentTime),this._danmuService.stopAddNew()}onPlay(){this.API.currentTime>=0&&(this.danmuFacade.play(this.API.currentTime),this._danmuService.startAddNew())}onSeeked(){this.userClicked&&this.clearCue()}userClick(){this.userClicked=!0}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}pause(t){const e=t.target||t.srcElement||t.currentTarget;e.attributes.id&&"vg-overlay-danmu"===e.attributes.id.nodeValue&&this.API.pause()}}return t.\u0275fac=function(e){return new(e||t)(i.Pb(i.l),i.Pb(V.a),i.Pb(i.j),i.Pb(v.a),i.Pb(O.a),i.Pb(b.a),i.Pb(rt),i.Pb(ct.b))},t.\u0275cmp=i.Jb({type:t,selectors:[["vg-overlay-danmu"]],viewQuery:function(t,e){var n;1&t&&i.Uc(lt,!0,i.O),2&t&&i.yc(n=i.ec())&&(e.entry=n.first)},hostBindings:function(t,e){1&t&&i.dc("click",(function(t){return e.userClick()}),!1,i.Ac)},inputs:{vgFor:"vgFor",isPlayingAds:"isPlayingAds"},features:[i.Ab([rt]),i.zb()],decls:2,vars:0,consts:[[1,"danmu-layer"],["danmu",""]],template:function(t,e){1&t&&i.Qb(0,"div",0,1)},styles:[".vg-overlay-danmu[_ngcontent-%COMP%], [_nghost-%COMP%]{width:100%;position:absolute}.vg-overlay-danmu[_ngcontent-%COMP%]{cursor:pointer;display:block;color:#fff;height:100%}.movetxt[_ngcontent-%COMP%]{animation:moving 5s linear;-webkit-animation:moving 5s linear;position:relative}.hidden[_ngcontent-%COMP%]{visibility:hidden}@keyframes moving{0%{left:1024px}to{left:0}}@-webkit-keyframes moving{0%{left:1024px}to{left:0}}"]}),t})(),dt=(()=>{class t{constructor(t,e){this.API=e,this.checkInterval=50,this.currentPlayPos=0,this.lastPlayPos=0,this.subscriptions=[],this.isBuffering=!1,this.isPaused=!1,this.elem=t.nativeElement}ngOnInit(){this.API.isPlayerReady?this.onPlayerReady():this.subscriptions.push(this.API.playerReadyEvent.subscribe(()=>this.onPlayerReady()))}onPlayerReady(){this.target=this.API.getMediaById(this.vgFor),null!=this.target&&null!=this.target.subscriptions&&this.subscriptions.push(this.target.subscriptions.bufferDetected.subscribe(t=>this.onUpdateBuffer(t)),this.target.subscriptions.play.subscribe(()=>{this.isPaused=!1}),this.target.subscriptions.pause.subscribe(()=>{this.isPaused=!0}))}onUpdateBuffer(t){this.isBuffering=!this.isPaused&&t}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(i.Pb(i.l),i.Pb(V.a))},t.\u0275cmp=i.Jb({type:t,selectors:[["vg-buffering"]],hostVars:2,hostBindings:function(t,e){2&t&&i.Gb("is-buffering",e.isBuffering)},inputs:{vgFor:"vgFor"},decls:3,vars:0,consts:[[1,"vg-buffering"],[1,"bufferingContainer"],[1,"loadingSpinner"]],template:function(t,e){1&t&&(i.Vb(0,"div",0),i.Vb(1,"div",1),i.Qb(2,"div",2),i.Ub(),i.Ub())},styles:["\n        vg-buffering {\n            display: none;\n            z-index: 1;\n        }\n\n        vg-buffering.is-buffering {\n            display: block;\n        }\n\n        .vg-buffering {\n            position: absolute;\n            display: block;\n            width: 100%;\n            height: 100%;\n        }\n\n        .vg-buffering .bufferingContainer {\n            width: 100%;\n            position: absolute;\n            cursor: pointer;\n            top: 50%;\n            margin-top: -50px;\n\n            zoom: 1;\n            filter: alpha(opacity=60);\n            opacity: 0.6;\n        }\n\n        /* Loading Spinner\n        * http://www.alessioatzeni.com/blog/css3-loading-animation-loop/\n        */\n        .vg-buffering .loadingSpinner {\n            background-color: rgba(0, 0, 0, 0);\n            border: 2px solid white;\n            opacity: .9;\n            border-top: 5px solid rgba(0, 0, 0, 0);\n            border-left: 5px solid rgba(0, 0, 0, 0);\n            border-radius: 50px;\n            //box-shadow: 0 0 35px #FFFFFF;\n            width: 50px;\n            height: 50px;\n            margin: 0 auto;\n            -moz-animation: spin .5s infinite linear;\n            -webkit-animation: spin .5s infinite linear;\n        }\n\n        .vg-buffering .loadingSpinner .stop {\n            -webkit-animation-play-state: paused;\n            -moz-animation-play-state: paused;\n        }\n\n        @-moz-keyframes spin {\n            0% {\n                -moz-transform: rotate(0deg);\n            }\n            100% {\n                -moz-transform: rotate(360deg);\n            }\n        }\n\n        @-moz-keyframes spinoff {\n            0% {\n                -moz-transform: rotate(0deg);\n            }\n            100% {\n                -moz-transform: rotate(-360deg);\n            }\n        }\n\n        @-webkit-keyframes spin {\n            0% {\n                -webkit-transform: rotate(0deg);\n            }\n            100% {\n                -webkit-transform: rotate(360deg);\n            }\n        }\n\n        @-webkit-keyframes spinoff {\n            0% {\n                -webkit-transform: rotate(0deg);\n            }\n            100% {\n                -webkit-transform: rotate(-360deg);\n            }\n        }\n    "],encapsulation:2}),t})();var ut=n("qUyv"),gt=n("XJ1o"),pt=n("yf2Q");let ft=(()=>{class t{constructor(t,e,n,o,s){this.ref=t,this.API=e,this.storage=n,this.user=o,this._utility=s,this.onHlsError=new i.n,this.onGetBitrates=new i.n,this.onLevelChanged=new i.n,this.subscriptions=[]}get defaultSharpnes(){return this.storage.GetConfig().sharpness}ngOnInit(){this.API.isPlayerReady?this.onPlayerReady():this.subscriptions.push(this.API.playerReadyEvent.subscribe(()=>this.onPlayerReady()))}isHlsSupport(){try{if((pt.g.isiOSDevice()||pt.g.IsMac())&&pt.g.isSafari())return!1;if(Hls.isSupported())return!0}catch(t){}return!1}onPlayerReady(){this.crossorigin=this.ref.nativeElement.getAttribute("crossorigin"),this.preload="none"!==this.ref.nativeElement.getAttribute("preload"),this.vgFor=this.ref.nativeElement.getAttribute("vgFor"),this.target=this.API.getMediaById(this.vgFor),this.config={autoStartLoad:this.preload,levelLoadingMaxRetry:2,enableWorker:!0,backBufferLength:90},"use-credentials"===this.crossorigin&&(this.config.xhrSetup=(t,e)=>{t.withCredentials=!0}),this.createPlayer()}ngOnChanges(t){t.vgHls&&t.vgHls.currentValue?t.vgHls.previousValue&&this.createPlayer():this.destroyPlayer()}shouldUseHlsmin(){var t=this.getFileExtensions(this.vgHls);return!(!this.vgHls||"mp4"==t||"js"==t)&&this.isHlsSupport()}getFileExtensions(t){try{return(t=t.split("#")[0].split("?")[0]).substring(t.lastIndexOf(".")+1,t.length)||t}catch(e){return""}}createPlayer(){var t;if(this.hls&&this.destroyPlayer(),this.shouldUseHlsmin()){console.debug("load hls");let i=this.ref.nativeElement;var e=(null===(t=this._utility.preLoadPlaySecond)||void 0===t?void 0:t.start)||0;if(e?(e=e,this._utility.preLoadPlaySecond=null):e=0,this.target&&this.target.pause){this.target.pause();try{i.attributes.src=""}catch(n){}}this.hls=new Hls(Object.assign({startPosition:e},this.config)),this.hls.on(Hls.Events.MANIFEST_PARSED,(t,e)=>{const n=this.defaultSharpnes||"720",i=e.levels.findIndex(t=>t.name===n),o=i>-1?i:void 0;let s=-1;var r=[];this.hls.levels.length>1&&(s=null!=o?o:0==this.user.user.id||0==this.user.user.token.gid?0:e.levels.length-1,s>-1&&(this.hls.nextLevel=s)),e.levels.forEach((t,e)=>{t.url.forEach((n,i)=>{r.push({qualityIndex:e+i,width:t.width,height:t.height,bitrate:t.bitrate,mediaType:"video",label:t.name})})}),s>-1&&this.onGetBitrates.emit({levels:r,startLevel:r[s]})}),this.hls.on(Hls.Events.ERROR,(t,e)=>{if(e.fatal)switch(e.type){case Hls.ErrorTypes.NETWORK_ERROR:console.debug("fatal network error encountered, try to recover"),this.onHlsError.emit(e);break;case Hls.ErrorTypes.MEDIA_ERROR:console.debug("fatal media error encountered, try to recover, try jump to next chunk"),this.API.seekTime(this.API.getDefaultMedia().currentTime+1);break;default:this.onHlsError.emit(e)}}),this.hls.on(Hls.Events.LEVEL_SWITCHED,(t,e)=>{this.onLevelChanged.emit(e.level)}),this.hls.loadSource(this.vgHls),this.hls.attachMedia(i),this.API.ss=this}else this.target&&this.target.pause&&(this.target.pause(),this.target.seekTime(0),this.ref.nativeElement.src=this.vgHls)}getBwEstimator(){if(this.hls){const t=this.hls.abrController._bwEstimator;return t?5e5===t.getEstimate()?NaN:Math.round(t.getEstimate()/1e5)/10:NaN}return NaN}setBitrate(t){this.hls&&this.hls.levels&&this.hls.levels.length>t.qualityIndex&&(this.hls.nextLevel=t.qualityIndex)}destroyPlayer(){this.hls&&(this.hls.destroy(),this.hls=null,this.API.ss=null)}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe()),this.destroyPlayer()}}return t.\u0275fac=function(e){return new(e||t)(i.Pb(i.l),i.Pb(V.a),i.Pb(k.a),i.Pb(O.a),i.Pb(b.a))},t.\u0275dir=i.Kb({type:t,selectors:[["","vgHls",""]],inputs:{vgHls:"vgHls"},outputs:{onHlsError:"onHlsError",onGetBitrates:"onGetBitrates",onLevelChanged:"onLevelChanged"},exportAs:["vgHls"],features:[i.zb()]}),t})();var bt=n("uvtY");let mt=(()=>{class t{constructor(t,e){this.API=e,this.subscriptions=[],this.ariaValue=bt.a.VG_PAUSED,this.elem=t.nativeElement}ngOnInit(){this.API.isPlayerReady?this.onPlayerReady():this.subscriptions.push(this.API.playerReadyEvent.subscribe(()=>this.onPlayerReady()))}onPlayerReady(){this.target=this.API.getMediaById(this.vgFor)}onClick(){this.playPause()}onKeyDown(t){var e=document.activeElement;(null==e||"input"!=e.tagName.toLowerCase()&&!e.hasAttribute("contenteditable"))&&32===t.keyCode&&(t.preventDefault(),t.stopPropagation(),this.playPause())}playPause(){let t=this.getState();if(this.target)switch(t){case bt.a.VG_PLAYING:this.target.pause();break;case bt.a.VG_PAUSED:case bt.a.VG_ENDED:this.target.play()}}getState(){return this.ariaValue=this.target?this.target.state:bt.a.VG_PAUSED,this.ariaValue}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(i.Pb(i.l),i.Pb(V.a))},t.\u0275cmp=i.Jb({type:t,selectors:[["vg-play-pause"]],hostBindings:function(t,e){1&t&&i.dc("click",(function(t){return e.onClick()}))("keydown",(function(t){return e.onKeyDown(t)}),!1,i.Ac)},inputs:{vgFor:"vgFor"},decls:1,vars:6,consts:[["tabindex","0","role","button",1,"iconfont"]],template:function(t,e){1&t&&i.Qb(0,"div",0),2&t&&(i.Gb("iconzanting","playing"===e.getState())("iconbofang","paused"===e.getState()||"ended"===e.getState()),i.Cb("aria-label","paused"===e.getState()?"play":"pause")("aria-valuetext",e.ariaValue))},styles:["\n        vg-play-pause {\n            -webkit-touch-callout: none;\n            -webkit-user-select: none;\n            -khtml-user-select: none;\n            -moz-user-select: none;\n            -ms-user-select: none;\n            user-select: none;\n            display: flex;\n            justify-content: center;\n            height: 50px;\n            width: 50px;\n            cursor: pointer;\n            color: white;\n            line-height: 50px;\n        }\n\n        vg-play-pause .iconfont {\n            pointer-events: none;\n            font-size: 66px;\n            margin-left: -5px;\n        }\n    "],encapsulation:2}),t})();var vt=n("c2Dm");let yt=(()=>{class t{constructor(t,e,n,o){this.API=e,this.fsAPI=n,this.fullScreenService=o,this.isFullscreen=!1,this.subscriptions=[],this.ariaValue="normal mode",this.fullscreenStatus=new i.n,this.elem=t.nativeElement,this.subscriptions.push(this.fsAPI.onChangeFullscreen.subscribe(this.onChangeFullscreen.bind(this))),this.fullScreenService.fullScreen$.subscribe(()=>{this.fsAPI.toggleFullscreen()})}ngOnInit(){this.API.isPlayerReady?this.onPlayerReady():this.subscriptions.push(this.API.playerReadyEvent.subscribe(()=>this.onPlayerReady()))}onPlayerReady(){this.target=this.API.getMediaById(this.vgFor)}onChangeFullscreen(t){this.ariaValue=t?"fullscren mode":"normal mode",this.isFullscreen=t,this.fullscreenStatus.emit(this.isFullscreen)}onClick(){this.changeFullscreenState()}onKeyDown(t){13!==t.keyCode&&32!==t.keyCode||(t.preventDefault(),this.changeFullscreenState())}changeFullscreenState(){let t=this.target;this.target instanceof V.a&&(t=null),this.fsAPI.toggleFullscreen(t)}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(i.Pb(i.l),i.Pb(V.a),i.Pb(vt.a),i.Pb(I.a))},t.\u0275cmp=i.Jb({type:t,selectors:[["vg-fullscreen"]],hostBindings:function(t,e){1&t&&i.dc("click",(function(t){return e.onClick()}))("keydown",(function(t){return e.onKeyDown(t)}))},inputs:{vgFor:"vgFor",isFullscreen:"isFullscreen"},outputs:{fullscreenStatus:"fullscreenStatus"},decls:1,vars:5,consts:[["tabindex","0","role","button","aria-label","fullscreen button",1,"iconfont"]],template:function(t,e){1&t&&i.Qb(0,"div",0),2&t&&(i.Gb("iconquanping",!e.isFullscreen)("iconquxiaoquanping",e.isFullscreen),i.Cb("aria-valuetext",e.ariaValue))},styles:["\n        vg-fullscreen {\n            -webkit-touch-callout: none;\n            -webkit-user-select: none;\n            -khtml-user-select: none;\n            -moz-user-select: none;\n            -ms-user-select: none;\n            user-select: none;\n            display: flex;\n            justify-content: center;\n            height: 50px;\n            width: 50px;\n            cursor: pointer;\n            color: white;\n            line-height: 50px;\n        }\n\n        vg-fullscreen .iconfont {\n            pointer-events: none;\n            font-size: 32px;\n        }\n    "],encapsulation:2}),t})();var Ct=n("i0K8");function _t(t,e){1&t&&(i.Vb(0,"div",11),i.Nc(1,"\u5728\u5de6\u4fa7\u6216\u53f3\u4fa7\u70b9\u6309\u4e24\u6b21\u5373\u53ef\u8df3\u8fc710\u79d2"),i.Ub())}const xt=function(t,e){return{iconbofang:t,iconzanting:e}};function Pt(t,e){if(1&t){const t=i.Wb();i.Vb(0,"div",12),i.dc("click",(function(e){return i.Cc(t),i.gc(2).playOrPauseVideo()})),i.Ub()}if(2&t){const t=i.gc(2);i.nc("ngClass",i.tc(1,xt,"playing"!==t.getState(),t.isTouchDevice&&!t.shouldShowControl))}}const wt=function(t,e){return{iconbofang3:t,iconzanting3:e}};function Ot(t,e){if(1&t){const t=i.Wb();i.Vb(0,"div",12),i.dc("click",(function(e){return i.Cc(t),i.gc(2).playOrPauseVideo()})),i.Ub()}if(2&t){const t=i.gc(2);i.nc("ngClass",i.tc(1,wt,"playing"!==t.getState(),"playing"===t.getState()))}}function Mt(t,e){1&t&&(i.fc(),i.Vb(0,"svg",13),i.Qb(1,"polygon",14),i.Qb(2,"polygon",15),i.Ub())}function kt(t,e){1&t&&(i.fc(),i.Vb(0,"svg",16),i.Qb(1,"polygon",15),i.Qb(2,"polygon",17),i.Ub())}function St(t,e){if(1&t){const t=i.Wb();i.Vb(0,"div",3),i.Vb(1,"div",4),i.Lc(2,_t,2,0,"div",5),i.Lc(3,Pt,1,4,"div",6),i.Lc(4,Ot,1,4,"div",6),i.Vb(5,"div",7),i.dc("click",(function(e){return i.Cc(t),i.gc().handleClick("left")})),i.Lc(6,Mt,3,0,"svg",8),i.Ub(),i.Vb(7,"div",9),i.dc("click",(function(e){return i.Cc(t),i.gc().handleClick("right")})),i.Lc(8,kt,3,0,"svg",10),i.Ub(),i.Ub(),i.Ub()}if(2&t){const t=i.gc();i.Gb("paused",t.paused)("native-fullscreen",t.isNativeFullscreen)("controls-hidden",t.areControlsHidden)("is-buffering",t.isBuffering)("is-playing-ads",t.isPlayingAds),i.Bb(2),i.nc("ngIf",t.showCaption),i.Bb(1),i.nc("ngIf",!t.fromActivity||t.fromActivity&&t.isFullscreen),i.Bb(1),i.nc("ngIf",t.fromActivity&&!t.isFullscreen),i.Bb(2),i.nc("ngIf",t.viewLeft),i.Bb(2),i.nc("ngIf",t.viewRight)}}const It=function(t){return{hide:t}};function Lt(t,e){if(1&t&&i.Qb(0,"div",18),2&t){const t=i.gc();i.nc("ngStyle",t.getBackgroudImage())("ngClass",i.sc(2,It,t.areControlsHidden))}}function Tt(t,e){1&t&&i.Qb(0,"div",19)}let At=(()=>{class t{constructor(t,e,n,i){this.API=e,this.fsAPI=n,this.controlsHidden=i,this.isFloatPlayer=!1,this.isNativeFullscreen=!1,this.areControlsHidden=!1,this.subscriptions=[],this.isTouchDevice=o.f.isTouchDevice,this.isMac=o.f.IsMac(),this.isDesktop=!this.isTouchDevice,this.isBuffering=!0,this.shouldShowControl=!1,this.isLive=!1,this.timeout=null,this.lastState=null,this.doubleClickTimer={left:{timer:null,isSingleClick:!1,clicked:0,shouldprevent:!1},right:{timer:null,isSingleClick:!1,clicked:0,shouldprevent:!1}},this.showCaption=!1,this.doubleClickdelay=200,this.seekTime=10,this.viewRight=!1,this.viewLeft=!1,this.elem=t.nativeElement}ngOnInit(){this.API.isPlayerReady?this.onPlayerReady():this.subscriptions.push(this.API.playerReadyEvent.subscribe(()=>this.onPlayerReady())),this.isDesktop&&this.elem.addEventListener("mouseup",t=>{if(1==t.which){var e=this.doubleClickTimer.left;e.isSingleClick=!0,++e.clicked,null!=e.timer?(o.f.clearTimeout(e.timer),e.isSingleClick=!1,e.timer=null,this.doubleToFull("left")):e.timer=o.f.setTimeout(()=>{e.isSingleClick&&this.onClick(),e.timer=null},this.doubleClickdelay)}})}playOrPauseVideo(){if(this.isTouchDevice)return;let t=this.getState();t==bt.a.VG_PLAYING?this.target.pause():(t=bt.a.VG_PAUSED)&&this.target.play()}onPlayerReady(){this.target=this.API.getMediaById(this.vgFor),null!=this.target&&null!=this.target.subscriptions&&(this.subscriptions.push(this.fsAPI.onChangeFullscreen.subscribe(this.onChangeFullscreen.bind(this))),this.subscriptions.push(this.controlsHidden.isHidden.subscribe(this.onHideControls.bind(this))),this.subscriptions.push(this.target.subscriptions.bufferDetected.subscribe(t=>this.onUpdateBuffer(t))))}onUpdateBuffer(t){this.isBuffering=t}onChangeFullscreen(t){this.fsAPI.nativeFullscreen&&(this.isNativeFullscreen=t)}onHideControls(t){this.areControlsHidden=t,this.areControlsHidden&&(this.shouldShowControl=!0)}onClick(){let t=this.getState();if(this.isTouchDevice){switch(t){case bt.a.VG_PLAYING:this.shouldShowControl?(this.shouldShowControl=!1,this.controlsHidden.show()):this.controlsHidden.force(!0);break;case bt.a.VG_PAUSED:case bt.a.VG_ENDED:this.shouldShowControl=!1,this.target.play()}this.lastState=t}else switch(t){case bt.a.VG_PLAYING:this.target.pause();break;case bt.a.VG_PAUSED:case bt.a.VG_ENDED:this.shouldShowControl=!1,this.target.play()}this.lastState=t}pauseVideo(){let t=this.getState();t==bt.a.VG_PLAYING?this.target.pause():(t=bt.a.VG_PAUSED)&&this.target.play()}onSeekStart(){this.showCaption=!0}onSeekEnd(){this.showCaption=!1}handleClick(t){var e;this.isTouchDevice&&(this.getState()==bt.a.VG_PAUSED?((e=this.doubleClickTimer[t]).isSingleClick=!0,null!=e.timer&&o.f.clearTimeout(e.timer),this.onClick()):((e=this.doubleClickTimer[t]).isSingleClick=!0,null!=e.timer?(o.f.clearTimeout(e.timer),this.handleDouble(t)):e.timer=o.f.setTimeout(()=>{e.isSingleClick&&this.onClick(),e.timer=null},this.doubleClickdelay)))}handleDouble(t){var e=this.doubleClickTimer[t];e.isSingleClick=!1,e.timer=null,"left"==t?(this.API.seekTime(this.API.currentTime-this.seekTime),this.playWithLeft()):(this.API.seekTime(this.API.currentTime+this.seekTime),this.playWithRight())}doubleToFull(t){this.isFloatPlayer||this.fsAPI.toggleFullscreen()}playWithLeft(){this.viewLeft=!0,o.f.setTimeout(()=>{this.viewLeft=!1,o.f.setTimeout(()=>{this.viewLeft=!0,o.f.setTimeout(()=>this.viewLeft=!1,100)},100)},100)}playWithRight(){this.viewRight=!0,o.f.setTimeout(()=>{this.viewRight=!1,o.f.setTimeout(()=>{this.viewRight=!0,o.f.setTimeout(()=>this.viewRight=!1,100)},100)},100)}getState(){let t=bt.a.VG_PAUSED;if(this.target)if(this.target.state instanceof Array){for(let e=0,n=this.target.state.length;e<n;e++)if(this.target.state[e]===bt.a.VG_PLAYING){t=bt.a.VG_PLAYING;break}}else t=this.target.state;return t}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}getBackgroudImage(){return this.logo?{"background-image":"url('"+this.logo+"')"}:{}}}return t.\u0275fac=function(e){return new(e||t)(i.Pb(i.l),i.Pb(V.a),i.Pb(vt.a),i.Pb(Ct.a))},t.\u0275cmp=i.Jb({type:t,selectors:[["vg-overlay-play"]],hostVars:2,hostBindings:function(t,e){2&t&&i.Gb("isdesktop",e.isDesktop)},inputs:{vgFor:"vgFor",logo:"logo",isPlayingAds:"isPlayingAds",paused:"paused",isFloatPlayer:"isFloatPlayer",isLive:"isLive",fromActivity:"fromActivity",isFullscreen:"isFullscreen"},decls:3,vars:3,consts:[["class","vg-overlay-play",3,"paused","native-fullscreen","controls-hidden","is-buffering","is-playing-ads",4,"ngIf"],["class","overlay-logo",3,"ngStyle","ngClass",4,"ngIf"],["class","live-overlay-logo",4,"ngIf"],[1,"vg-overlay-play"],[1,"overlay-play-container"],["class","overlay-caption",4,"ngIf"],["class","vv-state iconfont",3,"ngClass","click",4,"ngIf"],[1,"overlay-part","overlay-play-left",3,"click"],["version","1.1","id","jump","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","viewBox","0 0 36 24","style","/* display: none; */",0,"xml","space","preserve",4,"ngIf"],[1,"overlay-part","overlay-play-right",3,"click"],["version","1.1","id","jump","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","viewBox","0 0 36 24",0,"xml","space","preserve",4,"ngIf"],[1,"overlay-caption"],[1,"vv-state","iconfont",3,"ngClass","click"],["version","1.1","id","jump","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","viewBox","0 0 36 24",0,"xml","space","preserve",2,"/* display","none"],["id","arrow-1","points","5,18 13.5,12 5,6 ",1,"arrow"],["id","arrow-2","points","14,18 22.5,12 14,6 ",1,"arrow"],["version","1.1","id","jump","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","viewBox","0 0 36 24",0,"xml","space","preserve"],["id","arrow-3","points","23,6 23,18 31.5,12 ",1,"arrow"],[1,"overlay-logo",3,"ngStyle","ngClass"],[1,"live-overlay-logo"]],template:function(t,e){1&t&&(i.Lc(0,St,9,15,"div",0),i.Lc(1,Lt,1,4,"div",1),i.Lc(2,Tt,1,0,"div",2)),2&t&&(i.nc("ngIf",!e.isTouchDevice),i.Bb(1),i.nc("ngIf",!e.isPlayingAds&&!e.isFloatPlayer),i.Bb(1),i.nc("ngIf",!e.isPlayingAds&&!e.isFloatPlayer&&e.isLive))},directives:[N.n,N.l,N.o],styles:['\n        .vg-overlay-play {\n            z-index: 4445;\n        }\n\n        .vg-overlay-play.paused {\n            z-index: 4446;\n            cursor:pointer;\n        }\n        vg-overlay-play.is-buffering {\n            display: none;\n        }\n        vg-overlay-play.isdesktop .vv-state\n        {\n            pointer-events:none;\n        }\n\n        vg-overlay-play .vg-overlay-play {\n            position: absolute;\n            display: block;\n            color: white;\n            width: 100%;\n            height: 100%;\n            font-size: 80px;\n            top: 50%;\n            left: 50%;\n            transform: translate(-50%, -50%);\n        }\n\n        vg-overlay-play .vg-overlay-play.native-fullscreen.controls-hidden {\n            cursor: none;\n        }\n\n        .vg-overlay-play .overlay-play-container{\n            width:100%;\n            height:100%;\n            position:relative;\n          }\n\n\n        .vv-state{\n\n            left: 0;\n            right: 0;\n            top: 0;\n            bottom: 0;\n            position: absolute;\n            color:white;\n            font-size: 100px;\n            border-radius: 50%;\n            padding: 0.5em;\n\n\n            /* transition:opacity 0.3s; */\n            opacity:0;\n            /* visibility:hidden; */\n        }\n\n        .vv-state.iconbofang:before {\n            transform: translate(-50%,-50%);\n            left:50%;\n            top:50%;\n            position: absolute;\n        }\n\n        .vv-state.iconbofang3:before {\n            transform: translate(-50%,-50%);\n            left:50%;\n            top:50%;\n            position: absolute;\n        }\n\n        .vv-state.iconzanting3:before {\n            transform: translate(-50%,-50%);\n            left:50%;\n            top:50%;\n            position: absolute;\n        }\n\n        .overlay-play-container  .vg-icon-pause{\n\n            opacity:1.0;\n            visibility:visible;\n\n         }\n\n         .overlay-play-container .iconbofang {\n\n                opacity:1.0;\n               visibility:visible;\n               text-shadow: 1px 1px 4px #888888;\n         }\n\n         .overlay-play-container .iconbofang3 {\n            opacity:1.0;\n            visibility:visible;\n            text-shadow: 1px 1px 4px #888888;\n            font-size: 60px;\n         }\n\n         .overlay-play-container:hover .iconzanting3 {\n            opacity:1.0;\n            visibility:visible;\n            text-shadow: 1px 1px 4px #888888;\n            font-size: 60px;\n         }\n\n        vg-overlay-play .vg-overlay-play:hover {\n            filter: alpha(opacity=100);\n            opacity: 1;\n        }\n\n        vg-overlay-play .vg-overlay-play:hover .overlay-play-container.iconbofang:before {\n            transform: scale(1.2);\n        }\n\n        .overlay-play-container .overlay-part{\n            width:50%;\n             height:100%;\n            text-align: center;\n          }\n        .overlay-play-container .overlay-part.overlay-play-left{\n            float:left;\n          }\n        .overlay-play-container .overlay-part.overlay-play-right{\n            float:right;\n          }\n      .overlay-part>svg{\n\n          height: 2em;\n          width: 3em;\n          font-size: 14px;\n          position: absolute;\n          top: 50%;\n          margin-top: -1.5em;\n      }\n\n\n       .overlay-part.overlay-play-left>svg{\n            transform: scaleX(-1);\n        left: 1em;\n        }\n       .overlay-part.overlay-play-right>svg{\n             //  margin-left: 1.2em;\n          right:2em;\n        }\n\n        .overlay-caption{\n               width: 100%;\n        height: 3.5em;\n        font-size: 15px;\n        text-align: center;\n        background: linear-gradient(to top, transparent, black);\n        padding-top: 1em;\n        }\n\n        .overlay-logo {\n          position:absolute;\n          width: 1em;\n          height: 0.5em;\n          pointer-events: none;\n          background-position:left top;\n          background-repeat:no-repeat;\n          margin-left: 23px;\n          margin-top: 23px;\n          top:0;\n          z-index: 500;\n         -webkit-transition: top 1s;\n                -khtml-transition: top 1s;\n                -moz-transition: top 1s;\n                -ms-transition: top 1s;\n                transition: top 1s;\n            background-size: contain;\n            font-size: 70px;\n        }\n        .overlay-logo.hide{\n          //top:-1em;\n        }\n        .vg-overlay-play.is-buffering .vv-state\n        {\n            display:none;\n        }\n        .vg-overlay-play.paused.is-buffering\n        {\n            display:block;\n        }\n\n        .live-overlay-logo {\n            position:absolute;\n            width: 1em;\n            height: 0.5em;\n            pointer-events: none;\n            background-repeat: no-repeat;\n            margin-right: 23px;\n            margin-top: 23px;\n            top:0;\n            right:0;\n            opacity:0.7;\n            z-index: 500;\n            background-image: absUrl("assets/images/live-logo.png");\n            -webkit-transition: top 1s;\n            -khtml-transition: top 1s;\n            -moz-transition: top 1s;\n            -ms-transition: top 1s;\n            transition: top 1s;\n            background-size: contain;\n            font-size: 90px;\n          }\n\n    '],encapsulation:2}),t})();const Nt=["*"];let Bt=(()=>{class t{constructor(t,e,n){this.API=t,this.ref=e,this.hidden=n,this.isAdsPlaying="initial",this.hideControls=!1,this.vgAutohide=!0,this.vgAutohideTime=3,this.subscriptions=[],this.captureCount=0,this.elem=e.nativeElement}captureControls(){++this.captureCount,this.vgAutohide=!1,this.show()}releaseControls(){--this.captureCount,this.captureCount<=0&&(this.captureCount=0,this.vgAutohide=!0,this.hide())}ngOnInit(){let t=Object(d.a)(this.API.videogularElement,"mousemove");if(this.subscriptions.push(t.subscribe(this.show.bind(this))),!pt.g.shouldHandleMouse){let t=Object(d.a)(this.API.videogularElement,"touchstart",{passive:!0});this.subscriptions.push(t.subscribe(this.show.bind(this)))}this.subscriptions.push(this.hidden.captureControlsEvent.subscribe(t=>{t?this.captureControls():this.releaseControls()})),this.API.isPlayerReady?this.onPlayerReady():this.subscriptions.push(this.API.playerReadyEvent.subscribe(()=>this.onPlayerReady()))}onPlayerReady(){this.target=this.API.getMediaById(this.vgFor),null!=this.target&&null!=this.target.subscriptions&&(this.subscriptions.push(this.target.subscriptions.play.subscribe(this.onPlay.bind(this))),this.subscriptions.push(this.target.subscriptions.pause.subscribe(this.onPause.bind(this))),this.subscriptions.push(this.target.subscriptions.startAds.subscribe(this.onStartAds.bind(this))),this.subscriptions.push(this.target.subscriptions.endAds.subscribe(this.onEndAds.bind(this))))}ngAfterViewInit(){this.vgAutohide?this.hide():this.show()}onPlay(){this.vgAutohide&&this.hide()}onPause(){clearTimeout(this.timer),this.hideControls=!1,this.hidden.state(!1)}onStartAds(){this.isAdsPlaying="none"}onEndAds(){this.isAdsPlaying="initial"}hide(){this.vgAutohide&&(clearTimeout(this.timer),this.hideAsync())}show(){clearTimeout(this.timer),this.hideControls=!1,this.hidden.state(!1),this.vgAutohide&&this.hideAsync()}hideAsync(){this.API.state===bt.a.VG_PLAYING&&(this.timer=setTimeout(()=>{this.hideControls=!0,this.hidden.state(!0)},1e3*this.vgAutohideTime))}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(i.Pb(V.a),i.Pb(i.l),i.Pb(Ct.a))},t.\u0275cmp=i.Jb({type:t,selectors:[["vg-controls"]],hostVars:4,hostBindings:function(t,e){2&t&&(i.Kc("pointer-events",e.isAdsPlaying),i.Gb("hide",e.hideControls))},inputs:{vgFor:"vgFor",vgAutohide:"vgAutohide",vgAutohideTime:"vgAutohideTime"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,e){1&t&&(i.mc(),i.lc(0))},styles:["\n        vg-controls {\n            position: absolute;\n            display: flex;\n            width: 100%;\n            height: 50px;\n            z-index: 300;\n            bottom: -1px;\n            background-color: rgba(0, 0, 0, 0.5);\n            transition: bottom 1s;\n        }\n\n        vg-controls.hide {\n            bottom: -50px;\n        }\n    "],encapsulation:2}),t})();function Vt(t,e){if(1&t){const t=i.Wb();i.Vb(0,"img",6),i.dc("load",(function(e){return i.Cc(t),i.gc(2).imageLoaded()})),i.Ub()}if(2&t){const t=i.gc(2);i.oc("src",t.loadingImage,i.Fc)}}const Ut=function(t){return{left:t}},Dt=function(t){return{hasPreview:t}};function Et(t,e){if(1&t){const t=i.Wb();i.Vb(0,"div",2),i.dc("mousedown",(function(e){return i.Cc(t),i.gc().moveTo(e)})),i.Qb(1,"div",3),i.Vb(2,"div",4),i.Nc(3),i.Ub(),i.Lc(4,Vt,1,1,"img",5),i.Ub()}if(2&t){const t=i.gc();i.nc("ngStyle",i.sc(5,Ut,t.percetange))("ngClass",i.sc(7,Dt,!!t.previewFormat)),i.Bb(1),i.nc("ngStyle",t.preview),i.Bb(2),i.Oc(t.display),i.Bb(1),i.nc("ngIf",t.loadingImage)}}const Rt=["*"];let Ft=(()=>{class t{constructor(t,e,n,i){this.API=e,this.vgSeekBarAPI=i,this.hideScrubBar=!1,this.focus=!1,this.vgSlider=!0,this.previewFormat="",this.isSeeking=!1,this.wasPlaying=!1,this.display="",this.percetange="0%",this.subscriptions=[],this.playerReady=!1,this.devicePixelRatio=1,this.noJump=!1,this.asClick=null,this.hasPaused=!1,this.timeout=null,this.showtimeout=null,this.firstTime=!0,this.loadingImage=null,this.x=0,this.y=0,this.imagePerview=25,this.outTime=null,this.percetage=0,this.preview={},this.elem=t.nativeElement,this.subscriptions.push(n.isHidden.subscribe(t=>this.onHideScrubBar(t))),/macintosh|mac os x/i.test(navigator.userAgent)||(this.devicePixelRatio=window.innerWidth<1366?1366/window.innerWidth:window.innerWidth>2560?1920/window.innerWidth:1)}get istouchdevice(){return o.f.isTouchDevice}ngOnInit(){this.API.isPlayerReady?this.onPlayerReady():this.subscriptions.push(this.API.playerReadyEvent.subscribe(()=>this.onPlayerReady())),this.subscriptions.push(Object(d.a)(this.elem,"touchstart",{passive:!0}).subscribe(t=>{this.onTouchStartScrubBar(t)}),Object(d.a)(this.elem,"mousedown").subscribe(t=>{this.onMouseDownScrubBar(t)}),Object(d.a)(this.elem,"mousemove",{passive:!0}).subscribe(t=>{this.onMouseOverBar()}),Object(d.a)(this.elem,"mouseout",{passive:!0}).subscribe(t=>{this.onMouseOut()}),Object(d.a)(document,"mousemove",{passive:!0}).subscribe(t=>{this.onMouseMoveScrubBar(t)}),Object(d.a)(document,"mouseup").subscribe(t=>{this.onMouseUpScrubBar(t)}),Object(d.a)(document,"touchmove",{passive:!0}).subscribe(t=>{this.onTouchMoveScrubBar(t)}),Object(d.a)(document,"touchcancel").subscribe(t=>{this.onTouchCancelScrubBar(t)}),Object(d.a)(document,"touchend").subscribe(t=>{this.onTouchEndScrubBar(t)}),Object(d.a)(document,"keydown").subscribe(t=>{this.arrowAdjustVolume(t)}))}onPlayerReady(){this.target=this.API.getMediaById(this.vgFor),this.playerReady=!0}seekStart(t){if(this.target.canPlay){this.isSeeking=!0,this.target.state===bt.a.VG_PLAYING&&(this.wasPlaying=!0),this.hasPaused=!0;var e=this.getPosition(this.elem).left,n=Math.ceil(t.clientX*this.devicePixelRatio)-e;n=n>=0?n:0;let i=Math.max(Math.min(100*n/this.elem.scrollWidth,99.9),0);this.target.time.current=i*this.target.time.total/100,this.target.seekTime(i,!0),this.vgSeekBarAPI.notify("seekstart"),this.noJump=!0}}seekMove(t){if(this.noJump=!1,this.isSeeking){this.asClick?(o.f.clearTimeout(this.asClick),this.asClick=null):this.hasPaused||(this.hasPaused=!0,this.target.pause());let e=Math.max(Math.min(100*t/this.elem.scrollWidth,99.9),0);this.target.time.current=e*this.target.time.total/100,this.target.seekTime(e,!0)}}imageLoaded(){this.preview["background-image"]="url('"+this.loadingImage+"')",this.preview["background-position-x"]=this.x>0?-this.x+"px":"0",this.preview["background-position-y"]=this.y>0?-this.y+"px":"0"}seekEnd(t){if(this.target.canPlay){if(!this.noJump){o.f.clearTimeout(this.timeout);let e=Math.max(Math.min(100*t/this.elem.scrollWidth,99.9),0);this.timeout=o.f.setTimeout(()=>{this.target.seekTime(e,!0),this.target.time.current=e*this.target.time.total/100,this.wasPlaying&&(this.wasPlaying=!1,this.target.play()),this.vgSeekBarAPI.notify("seekend")},20)}this.isSeeking=!1}}touchEnd(){this.isSeeking=!1,this.wasPlaying&&(this.wasPlaying=!1,this.target.play())}getTouchOffset(t){let e=0,n=t.target;for(;n;)e+=n.offsetLeft,n=n.offsetParent;return t.touches[0].pageX-e}onMouseDownScrubBar(t){this.target&&(this.target.isLive||this.seekStart(t))}getPosition(t){var e=t.getBoundingClientRect();return e.width||e.height||t.getClientRects().length?{top:e.top+window.pageYOffset-document.documentElement.clientTop,left:e.left+window.pageXOffset-document.documentElement.clientLeft}:{top:0,left:0}}onMouseMoveScrubBar(t){if(o.f.shouldHandleMouse&&this.target&&!this.target.isLive&&this.vgSlider&&this.isSeeking){var e=this.getPosition(this.elem).left,n=Math.ceil(t.clientX*this.devicePixelRatio)-e;this.seekMove(n=n>=0?n:0)}}onMouseOver(t){if(o.f.shouldHandleMouse&&this.target&&!this.target.isLive&&null!=t.target&&t.target.className.indexOf("scrubBar")>-1){let n=Math.max(Math.min(t.offsetX/this.elem.scrollWidth*this.devicePixelRatio,.999),0);var e=this.target.time.total*n;this.percetage=n,this.showPreview(e);let i=new Date(e),o="hh:mm:ss",s=i.getUTCSeconds(),r=i.getUTCMinutes(),a=i.getUTCHours();s<10&&(s="0"+s),r<10&&(r="0"+r),a<10&&(a="0"+a),o=o.replace(/ss/g,s),o=o.replace(/mm/g,r),o=o.replace(/hh/g,a),-1==o.indexOf("NaN")?(this.display=o,n>.9&&(n=.9),n<.1&&(n=.1),this.percetange=100*n+"%"):this.display="00:00:00"}}showPreview(t){clearTimeout(this.showtimeout),this.showtimeout=setTimeout(()=>{if(this.previewFormat&&!isNaN(t)&&t>=0){var e=Math.ceil(t/1e3),n=Math.ceil(e/this.imagePerview)-1;if(!isNaN(n)){var i=e%this.imagePerview;let t=this.previewFormat.replace("{group}",n+"");this.loadingImage=t,this.x=i%5*160,this.y=90*Math.floor(i/5)}}},this.firstTime?10:100),this.firstTime=!1}onMouseUpScrubBar(t){if(o.f.shouldHandleMouse&&this.target){var e=this.getPosition(this.elem).left,n=Math.ceil(t.clientX*this.devicePixelRatio)-e;n=n>=0?n:0,!this.target.isLive&&this.vgSlider&&this.isSeeking&&this.seekEnd(n)}}onTouchStartScrubBar(t){if(!o.f.shouldHandleMouse&&this.target&&!this.target.isLive)if(this.vgSlider){null!=this.asClick&&o.f.clearTimeout(this.asClick);var e=this.getTouchOffset(t);this.asClick=o.f.setTimeout(()=>{this.seekEnd(e)},250),this.seekStart(t)}else this.seekEnd(this.getTouchOffset(t))}onTouchMoveScrubBar(t){o.f.shouldHandleMouse||this.target&&!this.target.isLive&&this.vgSlider&&this.isSeeking&&this.seekMove(this.getTouchOffset(t))}onTouchCancelScrubBar(t){o.f.shouldHandleMouse||this.target&&!this.target.isLive&&this.vgSlider&&this.isSeeking&&this.touchEnd()}onTouchEndScrubBar(t){o.f.shouldHandleMouse||this.target&&!this.target.isLive&&this.vgSlider&&this.isSeeking&&this.touchEnd()}arrowAdjustVolume(t){var e=document.activeElement;(null==e||"input"!=e.tagName.toLowerCase()&&!e.hasAttribute("contenteditable"))&&this.target&&(39===t.keyCode?(t.preventDefault(),this.target.seekTime((this.target.time.current+5e3)/1e3,!1)):37===t.keyCode&&(t.preventDefault(),this.target.seekTime((this.target.time.current-5e3)/1e3,!1)))}getPercentage(){return this.target?100*this.target.time.current/this.target.time.total+"%":"0%"}onHideScrubBar(t){this.hideScrubBar=t}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}onMouseOverBar(){this.focus=!0,clearTimeout(this.outTime)}onMouseOut(){this.focus=!1,this.firstTime=!1,clearTimeout(this.outTime),this.outTime=setTimeout(()=>{this.loadingImage=null,this.preview={}},100)}moveTo(t){o.f.clearTimeout(this.timeout),this.timeout=o.f.setTimeout(()=>{this.target.seekTime(100*this.percetage,!0)},20),t.preventDefault(),t.stopPropagation()}}return t.\u0275fac=function(e){return new(e||t)(i.Pb(i.l),i.Pb(V.a),i.Pb(Ct.a),i.Pb(U.a))},t.\u0275cmp=i.Jb({type:t,selectors:[["vg-scrub-bar"]],hostVars:4,hostBindings:function(t,e){2&t&&i.Gb("hide",e.hideScrubBar)("focus",e.focus)},inputs:{vgFor:"vgFor",vgSlider:"vgSlider",previewFormat:"previewFormat"},ngContentSelectors:Rt,decls:3,vars:3,consts:[["tabindex","0","role","slider","aria-label","scrub bar","aria-level","polite","aria-valuemin","0","aria-valuemax","100",1,"scrubBar",3,"mousemove"],["class","overshow",3,"ngStyle","ngClass","mousedown",4,"ngIf"],[1,"overshow",3,"ngStyle","ngClass","mousedown"],[1,"preview",3,"ngStyle"],[1,"scru-t"],["style","width:1px;height:1px;visibility:hidden",3,"src","load",4,"ngIf"],[2,"width","1px","height","1px","visibility","hidden",3,"src","load"]],template:function(t,e){1&t&&(i.mc(),i.Vb(0,"div",0),i.dc("mousemove",(function(t){return e.onMouseOver(t)})),i.lc(1),i.Lc(2,Et,5,9,"div",1),i.Ub()),2&t&&(i.Cb("aria-valuenow",e.getPercentage())("aria-valuetext",e.getPercentage()+"%"),i.Bb(2),i.nc("ngIf",!e.istouchdevice&&e.playerReady))},directives:[N.n,N.o,N.l],styles:["\n        vg-scrub-bar {\n            -webkit-touch-callout: none;\n            -webkit-user-select: none;\n            -moz-user-select: none;\n            -ms-user-select: none;\n            user-select: none;\n            width: 100%;\n            height: 5px;\n            margin: 0;\n            cursor: pointer;\n            align-items: center;\n            background: rgba(0, 0, 0, 0.75);\n            z-index: 250;\n            position:absolute;\n        }\n\n        vg-scrub-bar .scrubBar {\n            position: relative;\n            display: flex;\n            flex-grow: 1;\n            align-items: center;\n            height: 1.2em;\n            margin-top: -0.5em;\n        }\n\n        vg-controls vg-scrub-bar {\n            background: transparent;\n            height: 50px;\n            flex-grow: 1;\n            flex-basis: 0;\n            margin: 0 10px;\n\n        }\n\n        vg-scrub-bar.hide {\n            opacity: 0;\n        }\n\n        vg-controls vg-scrub-bar.hide {\n            opacity: initial;\n        }\n        .scrubBar .overshow{\n            position: absolute;\n            background-color: black;\n            text-align: center;\n            font-size: 15px;\n            color: white;\n            border: 1px solid black;\n            transform: translateX(-50%);\n            bottom: 1em;\n            box-sizing: content-box;\n            opacity:0;\n            transition-property: opacity;\n            transition-duration: 0.2s;\n            display:block;\n        }\n        .scrubBar .overshow.hasPreview\n        {\n            width:160px;\n            height:90px;\n\n        }\n        .scrubBar:hover .overshow{\n\n\n            opacity:1;\n        }\n        .preview\n        {\n            background-repeat: no-repeat;\n            width: 160px;\n            height: 90px;\n            position: absolute;\n            left: 0;\n            top: 0;\n            display:none;\n\n        }\n        .overshow.hasPreview .preview\n        {\n            display:block;\n        }\n        .scru-t\n        {\n            position: absolute;\n            bottom: 0em;\n            background-color: rgba(0, 0, 0, 0.68);\n            padding: 0.2em 0.5em;\n            left: 50%;\n            transform: translateX(-50%);\n            font-size: 13px;\n\n        }\n        .overshow.hasPreview .scru-t\n        {\n            border-radius: 0.5em 0.5em 0 0;\n        }\n\n    "],encapsulation:2}),t})();function jt(t,e){1&t&&i.Qb(0,"span",3)}let zt=(()=>{class t{constructor(t,e){this.API=e,this.vgSlider=!1,this.subscriptions=[],this.elem=t.nativeElement}ngOnInit(){this.API.isPlayerReady?this.onPlayerReady():this.subscriptions.push(this.API.playerReadyEvent.subscribe(()=>this.onPlayerReady()))}onPlayerReady(){this.target=this.API.getMediaById(this.vgFor)}getPercentage(){var t=0;return this.target&&(this.target.isLive?t=1:this.target.time.total>0&&(t=this.target.time.current/this.target.time.total)),100*t+"%"}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(i.Pb(i.l),i.Pb(V.a))},t.\u0275cmp=i.Jb({type:t,selectors:[["vg-scrub-bar-current-time"]],inputs:{vgFor:"vgFor",vgSlider:"vgSlider"},decls:3,vars:3,consts:[[1,"background"],[1,"dot"],["class","slider",4,"ngIf"],[1,"slider"]],template:function(t,e){1&t&&(i.Vb(0,"div",0),i.Qb(1,"div",1),i.Ub(),i.Lc(2,jt,1,0,"span",2)),2&t&&(i.Kc("width",e.getPercentage()),i.Bb(2),i.nc("ngIf",e.vgSlider))},directives:[N.n],styles:["\n        vg-scrub-bar-current-time {\n            display: flex;\n            width: 100%;\n            height: 5px;\n            pointer-events: none;\n            position: absolute;\n            transition:0.7s height;\n\n         }\n\n        vg-scrub-bar-current-time .background {\n            background-color: #fe0000;\n            z-index:1;\n        }\n       \n        vg-scrub-bar-current-time .background .dot {\n            width: 10px;\n            height: 10px;\n            position: relative;\n            display: block;\n            background-color: white;\n            border: 3px solid red;\n            border-radius: 50%;\n            margin-top: -4px;\n            right: 0;\n            float: right;\n            right: -9px;\n            background-color:red;\n            transition:0.7s width,0.7s height;\n          }\n\n        vg-controls vg-scrub-bar-current-time {\n            position: absolute;\n           \n        }\n\n        vg-scrub-bar-current-time .background:hover .dot\n        {\n            top: 3px;\n\n        }\n        vg-scrub-bar-current-time .slider{\n            background: white;\n            height: 15px;\n            width: 15px;\n            border-radius: 50%;\n            box-shadow: 0px 0px 10px black;\n            margin-top: -5px;\n            margin-left: -10px;\n        }\n    "],encapsulation:2}),t})(),Ht=(()=>{class t{constructor(t,e,n){this.API=e,this.cd=n,this.subscriptions=[],this.elem=t.nativeElement}ngOnInit(){this.API.isPlayerReady?this.onPlayerReady():this.subscriptions.push(this.API.playerReadyEvent.subscribe(()=>this.onPlayerReady()))}onPlayerReady(){this.target=this.API.getMediaById(this.vgFor)}getBufferTime(){let t="0%";return this.target&&this.target.buffer&&this.target.buffered.length&&this.target.time.total&&(t=0===this.target.time.total?"0%":this.target.buffer.end/this.target.time.total*100+"%"),t}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(i.Pb(i.l),i.Pb(V.a),i.Pb(i.h))},t.\u0275cmp=i.Jb({type:t,selectors:[["vg-scrub-bar-buffering-time"]],inputs:{vgFor:"vgFor"},decls:1,vars:2,consts:[[1,"background"]],template:function(t,e){1&t&&i.Qb(0,"div",0),2&t&&i.Kc("width",e.getBufferTime())},styles:["\n        vg-scrub-bar-buffering-time {\n            display: flex;\n            width: 100%;\n            height: 5px;\n            pointer-events: none;\n            position: absolute;\n            transition:0.7s height;\n\n        }\n\n        vg-scrub-bar-buffering-time .background {\n            background-color: rgba(255, 255, 255, 0.3);\n        }\n\n        vg-controls vg-scrub-bar-buffering-time {\n            position: absolute;\n\n        }\n\n        vg-controls vg-scrub-bar-buffering-time .background {\n\n        }\n    "],encapsulation:2}),t})();const Gt=["videoElement"],Wt=function(t){return{show:t}};let qt=(()=>{class t{constructor(t){this.API=t,this.subscriptions=[],this.isAvailable=!0,this.attched=!1}ngOnInit(){(pt.g.isiOSDevice()||pt.g.IsMac())&&(this.API.isPlayerReady?this.onPlayerReady():this.subscriptions.push(this.API.playerReadyEvent.subscribe(()=>this.onPlayerReady())),this.detectAirplay())}detectAirplay(){if(window.WebKitPlaybackTargetAvailabilityEvent){this.attched=!0;var t=this.video.nativeElement;t.addEventListener("webkitplaybacktargetavailabilitychanged",e=>{switch(e.availability){case"available":this.isAvailable=!0,t&&t.parentElement&&t.parentElement.classList&&(t.parentElement.classList.add("show"),t.remove());break;case"not-available":this.isAvailable=!1}})}}onPlayerReady(){}showList(){var t=this.API.getDefaultMedia();this.attched&&null!=t&&t.elem.webkitShowPlaybackTargetPicker()}}return t.\u0275fac=function(e){return new(e||t)(i.Pb(o.a))},t.\u0275cmp=i.Jb({type:t,selectors:[["vg-airplay"]],viewQuery:function(t,e){var n;1&t&&i.Ic(Gt,!0),2&t&&i.yc(n=i.ec())&&(e.video=n.first)},inputs:{vgFor:"vgFor"},decls:3,vars:3,consts:[[1,"iconfont","icontouping",3,"ngClass","click"],[2,"display","none"],["videoElement",""]],template:function(t,e){1&t&&(i.Vb(0,"div",0),i.dc("click",(function(t){return e.showList()})),i.Ub(),i.Qb(1,"video",1,2)),2&t&&i.nc("ngClass",i.sc(1,Wt,e.isAvailable))},directives:[N.l],styles:["\n    vg-airplay\n     {\n\n        display: none !important;\n        /* width: 1.8em; */\n        /* height: 3.2em; */\n        text-align: center;\n        color:white;\n        cursor:pointer;\n        margin-right: 2em !important;\n\n     }\n     vg-airplay .iconfont{\n     }\n\n     vg-airplay.show\n     {\n\n       display:inline-block !important;\n       cursor:pointer;\n     }\n  "],encapsulation:2}),t})();function Qt(t,e){1&t&&(i.Vb(0,"span"),i.Nc(1,"\u76f4\u64ad\u4e2d"),i.Ub())}function $t(t,e){if(1&t&&(i.Vb(0,"span"),i.Nc(1),i.hc(2,"vgUtc"),i.Ub()),2&t){const t=i.gc();i.Bb(1),i.Oc(i.jc(2,1,t.getTime(),t.vgFormat))}}const Kt=["*"];let Xt=(()=>{class t{transform(t,e){let n=new Date(t),i=e,o=n.getUTCSeconds(),s=n.getUTCMinutes(),r=n.getUTCHours();return o<10&&(o="0"+o),s<10&&(s="0"+s),r<10&&(r="0"+r),i=i.replace(/ss/g,o),i=i.replace(/mm/g,s),i=i.replace(/hh/g,r),i}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Ob({name:"vgUtc",type:t,pure:!0}),t})(),Yt=(()=>{class t{constructor(t,e){this.API=e,this.vgProperty="current",this.vgFormat="mm:ss",this.subscriptions=[],this.elem=t.nativeElement}ngOnInit(){this.API.isPlayerReady?this.onPlayerReady():this.subscriptions.push(this.API.playerReadyEvent.subscribe(()=>this.onPlayerReady()))}onPlayerReady(){this.target=this.API.getMediaById(this.vgFor)}getTime(){let t=0;return this.target&&(t=Math.round(this.target.time[this.vgProperty]),t=isNaN(t)||this.target.isLive?0:t),t}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(i.Pb(i.l),i.Pb(V.a))},t.\u0275cmp=i.Jb({type:t,selectors:[["vg-time-display"]],inputs:{vgFor:"vgFor",vgProperty:"vgProperty",vgFormat:"vgFormat"},ngContentSelectors:Kt,decls:3,vars:2,consts:[[4,"ngIf"]],template:function(t,e){1&t&&(i.mc(),i.Lc(0,Qt,2,0,"span",0),i.Lc(1,$t,3,4,"span",0),i.lc(2)),2&t&&(i.nc("ngIf",null==e.target?null:e.target.isLive),i.Bb(1),i.nc("ngIf",!(null!=e.target&&e.target.isLive)))},directives:[N.n],pipes:[Xt],styles:["\n        vg-time-display {\n            -webkit-touch-callout: none;\n            -webkit-user-select: none;\n            -moz-user-select: none;\n            -ms-user-select: none;\n            user-select: none;\n            display: flex;\n            justify-content: center;\n            height: 50px;\n            width: 60px;\n            cursor: pointer;\n            color: white;\n            line-height: 50px;\n            pointer-events: none;\n            font-family: Helvetica Neue, Helvetica, Arial, sans-serif;\n        }\n    "],encapsulation:2}),t})();var Zt=n("jtAa"),Jt=n("5kbV"),te=n("pLpv");function ee(t,e){1&t&&i.Qb(0,"i",9)}function ne(t,e){1&t&&i.Qb(0,"i",10)}function ie(t,e){if(1&t){const t=i.Wb();i.Vb(0,"div",11),i.Vb(1,"div",12),i.Nc(2," \u53bb\u5e7f\u544a"),i.Vb(3,"span",13),i.Nc(4,"\xb7"),i.Ub(),i.Nc(5,"\u4eab\u9ad8\u6e05 "),i.Ub(),i.Vb(6,"div",14),i.Vb(7,"div",15),i.dc("click",(function(e){return i.Cc(t),i.gc().showRechargeBox()})),i.Nc(8,"\u5f00\u901aVIP"),i.Ub(),i.Vb(9,"div",16),i.dc("click",(function(e){return i.Cc(t),i.gc().filterCall(e)})),i.Nc(10,"\u91d1\u5e01\u89e3\u9501"),i.Ub(),i.Ub(),i.Ub()}}function oe(t,e){if(1&t&&(i.Vb(0,"span",19),i.Nc(1),i.Ub()),2&t){const t=i.gc().$implicit;i.Bb(1),i.Pc("",t.short,"(\u5ba2\u6237\u7aef)")}}function se(t,e){if(1&t&&(i.Vb(0,"span",19),i.Nc(1),i.Ub()),2&t){const t=i.gc().$implicit,e=i.gc();i.Bb(1),i.Rc("",t.short,"",t.label,"",e.isLine?"":"P","")}}function re(t,e){1&t&&i.Qb(0,"i",9)}function ae(t,e){1&t&&i.Qb(0,"i",10)}const ce=function(t){return{active:t}};function le(t,e){if(1&t){const t=i.Wb();i.Vb(0,"div",17),i.dc("click",(function(n){i.Cc(t);const o=e.$implicit;return i.gc().selectBitrate(o)})),i.Lc(1,oe,2,1,"span",18),i.Lc(2,se,2,3,"span",18),i.Lc(3,re,1,0,"i",2),i.Lc(4,ae,1,0,"i",3),i.Ub()}if(2&t){const t=e.$implicit,n=i.gc();i.nc("ngClass",i.sc(5,ce,(null==n.bitrateSelected?null:n.bitrateSelected.label)==t.label)),i.Bb(1),i.nc("ngIf",t.bitrate>1080),i.Bb(1),i.nc("ngIf",!(t.bitrate>1080)),i.Bb(1),i.nc("ngIf",(null==t?null:t.isVIP)&&!(null!=t&&t.isBought)),i.Bb(1),i.nc("ngIf",(null==t?null:t.isVIP)&&(null==t?null:t.isBought))}}const he=function(t){return{opened:t}};let de=(()=>{class t{constructor(t,e,n,o,s,r,a,c,l,h){this.API=e,this.fsAPI=n,this.hiddenApi=o,this._userService=s,this._purchaseRequiredDialogService=r,this._dnDialogService=a,this._rechargeBoxService=c,this._purchaseSuccessDialogService=l,this._utility=h,this.isLine=!1,this.onBitrateChange=new i.n,this.filterClick=new i.n,this.gold=0,this.autoLevelName="",this.openList=null,this.subscriptions=[],this.isOpen=!1,this.isUnlocked=!1,this.quanlityHeight="auto",this.hasHeight=!1,this.elem=t.nativeElement}set playingLevel(t){if(void 0!==t&&t>-1){var e=this.getAutoLevelName(t);this.autoLevelName=e?"("+this.getAutoLevelName(t)+"P)":""}}set user(t){this._user=t,this.hasHeight=!1,this.quanlityHeight="auto"}get user(){return this._user}getListOfBitrate(t){return this.bitrates.filter(e=>{var n;return e.isEnabled==t&&e.label!=(null===(n=this.bitrateSelected)||void 0===n?void 0:n.label)})}ngOnInit(){this.isUnlocked=!this.bitrates[0].isVIP||this.bitrates[0].isBought,this.listenPurchase()}getAutoLevelName(t){var e;return null===(e=this.bitrates.find(e=>e.qualityIndex==t))||void 0===e?void 0:e.label}filterCall(t){this.filterClick.emit(this.getListOfBitrate(!1).map(t=>t.key)[0])}listenPurchase(){this.subscriptions.push(this._purchaseSuccessDialogService.purchaseSuccessDialogSource$.subscribe(t=>{t&&t.mediaKey&&(this.isUnlocked=t.mediaKey===this.bitrates[0].key)}),this._purchaseSuccessDialogService.playLineOrBitrateSource$.subscribe(t=>{!0===t&&this.selectBitrate(this.bitrates[0])}))}changeOpener(){this.isActive=this.isOpen=!this.isOpen,this.isOpen?(this.hiddenApi.captureControls(),this.openList=this._utility.openList(this.elem,null,()=>{this.isActive=this.isOpen=!1,this.openList.unsubscribe(),this.hiddenApi.releaseControls()})):(this.openList&&this.openList.unsubscribe(),this.hiddenApi.releaseControls())}ngOnChanges(t){t.bitrates&&t.bitrateSelected&&t.bitrates.currentValue&&t.bitrates.currentValue.length&&t.bitrateSelected.currentValue&&(this.isUnlocked=!this.bitrates[0].isVIP||this.bitrates[0].isBought)}selectBitrate(t){var e;if(t.bitrate>1080)this._dnDialogService.open("4k-ask-app-download");else if((null===(e=this.bitrateSelected)||void 0===e?void 0:e.title)!==t.title){if(t.isVIP&&(!this._user||!this._user.id))return this.fsAPI.isFullscreen&&this.fsAPI.toggleFullscreen(),void this._userService.showLoginDialog(!0);if(t.isVIP&&!t.isBought&&this._user&&this._user&&0===this._user.roleId)return this.fsAPI.isFullscreen&&this.fsAPI.toggleFullscreen(),this._purchaseRequiredDialogService.setState({price:this.gold,mediaId:t.key}),void this._dnDialogService.open("purchase-required",{"purchase-required-price":this.gold,"media-id":t.key});this.bitrateSelected=t,this.onBitrateChange.emit(t),this.isActive=this.isOpen=!1,this.openList&&this.openList.unsubscribe(),this.hiddenApi.releaseControls()}}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe()),this.openList&&this.openList.unsubscribe()}openRechargeBox(){window.rechargeBox&&window.rechargeBox()}showRechargeBox(){this._rechargeBoxService.changeDisplayStatus(!0)}}return t.\u0275fac=function(e){return new(e||t)(i.Pb(i.l),i.Pb(V.a),i.Pb(pt.e),i.Pb(pt.b),i.Pb(O.a),i.Pb(Jt.a),i.Pb(_.a),i.Pb(M.a),i.Pb(te.a),i.Pb(b.a))},t.\u0275cmp=i.Jb({type:t,selectors:[["vg-quality-selector"]],hostVars:2,hostBindings:function(t,e){2&t&&i.Gb("active",e.isActive)},inputs:{bitrates:"bitrates",isLine:"isLine",bitrateSelected:"bitrateSelected",playingLevel:"playingLevel",user:"user",gold:"gold"},outputs:{onBitrateChange:"onBitrateChange",filterClick:"filterClick"},features:[i.zb()],decls:11,vars:8,consts:[[1,"box"],[1,"quality-selected",3,"click"],["class","vip-label",4,"ngIf"],["class","iconfont iconjiesuo",4,"ngIf"],[1,"vg-quality-selector-label"],["id","quanlityDiv",1,"openList","quanlity-items",3,"ngClass"],["class","use-coin-box",4,"ngIf"],[1,"bitrates-available"],["class","item",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"vip-label"],[1,"iconfont","iconjiesuo"],[1,"use-coin-box"],[1,"use-coin-title"],[1,"gap-dot"],[1,"use-coin-action"],[1,"button-style-qs2",3,"click"],[1,"button-style-qs1",3,"click"],[1,"item",3,"ngClass","click"],["class","bitrate-name",4,"ngIf"],[1,"bitrate-name"]],template:function(t,e){1&t&&(i.Vb(0,"div",0),i.Vb(1,"div",1),i.dc("click",(function(t){return e.changeOpener()})),i.Nc(2," \u6e05\u6670\u5ea6"),i.Lc(3,ee,1,0,"i",2),i.Lc(4,ne,1,0,"i",3),i.Vb(5,"span",4),i.Nc(6),i.Ub(),i.Ub(),i.Vb(7,"div",5),i.Lc(8,ie,11,0,"div",6),i.Vb(9,"div",7),i.Lc(10,le,5,7,"div",8),i.Ub(),i.Ub(),i.Ub()),2&t&&(i.Bb(3),i.nc("ngIf",!(null!=e.bitrateSelected&&e.bitrateSelected.isBought)),i.Bb(1),i.nc("ngIf",!0===(null==e.bitrateSelected?null:e.bitrateSelected.isBought)),i.Bb(2),i.Pc(" ",(null==e.bitrateSelected?null:e.bitrateSelected.bitrate)>1080?null==e.bitrateSelected?null:e.bitrateSelected.short:(null==e.bitrateSelected?null:e.bitrateSelected.label)+(e.isLine?"":(null==e.bitrateSelected?null:e.bitrateSelected.qualityIndex)>-1?"P":e.autoLevelName)," "),i.Bb(1),i.nc("ngClass",i.sc(6,he,e.isOpen)),i.Bb(1),i.nc("ngIf",!((null==e.user?null:e.user.daysOfMembership)>0||e.isUnlocked)),i.Bb(2),i.nc("ngForOf",e.bitrates))},directives:[N.n,N.l,N.m],styles:[".vip-label{margin:0 5px}vg-quality-selector{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;width:140px;margin-right:30px!important;height:50px;cursor:pointer;color:#fff;line-height:50px}vg-quality-selector .openList{text-align:center;-webkit-transition:.3s;transition:.3s;opacity:1}vg-quality-selector .box{position:relative;padding:0}vg-quality-selector .box,vg-quality-selector .quality-selected{display:-webkit-box;display:flex;width:100%;-webkit-box-align:center;align-items:center}vg-quality-selector .quality-selected{margin:0 auto}vg-quality-selector .quality-selected .iconjiesuo{font-size:16px;color:#fed9b6}vg-quality-selector .quality-selected:hover{color:#00c0ff}vg-quality-selector .quality-selected .vg-quality-selector-label{-webkit-box-flex:1;flex:1;margin-left:5px;white-space:nowrap}vg-quality-selector .item{height:44px;line-height:44px;padding:0 20px;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;white-space:nowrap;-webkit-box-pack:justify;justify-content:space-between;width:168px}vg-quality-selector .item .iconjiesuo{font-size:16px;color:#fed9b6}vg-quality-selector .item:hover{color:#00c0ff!important}vg-quality-selector .openList.opened{position:absolute;max-height:36em;opacity:1}.use-coin-box{height:85px;background-color:#1c1d2f;padding:0 16px}.use-coin-title{font-size:14px;letter-spacing:.2em;color:#fec1a1;height:45px}.use-coin-title .gap-dot{margin:0 .6em}.use-coin-action{display:-webkit-box;display:flex;-webkit-box-pack:justify;justify-content:space-between}.button-style-qs1{padding:0 6px;min-width:62px;max-width:62px;outline:none;border:1px solid #ffc1a2;color:#ffc1a2;background-color:transparent;font-size:12px;height:24px;line-height:24px;white-space:nowrap}.button-style-qs1.active,.button-style-qs1:hover{background-color:#ffc1a2;color:#090b21}.button-style-qs2{padding:0 6px;min-width:62px;max-width:62px;font-size:12px;height:24px;line-height:25px;outline:none;border:none;color:#982e16;background:-webkit-gradient(linear,left top,left bottom,from(#fdeec7),to(#ffc1a2));background:linear-gradient(#fdeec7,#ffc1a2);white-space:nowrap}"],encapsulation:2}),t})();const ue=["playSpeedBox"];function ge(t,e){1&t&&i.Qb(0,"span",10)}function pe(t,e){1&t&&i.Qb(0,"i",11)}const fe=function(t){return{active:t}};function be(t,e){if(1&t){const t=i.Wb();i.Vb(0,"div",6),i.dc("click",(function(n){i.Cc(t);const o=e.index;return i.gc().onClick(o)})),i.Vb(1,"span",7),i.Nc(2),i.Ub(),i.Lc(3,ge,1,0,"span",8),i.Lc(4,pe,1,0,"i",9),i.Ub()}if(2&t){const t=e.$implicit,n=i.gc();i.nc("ngClass",i.sc(4,fe,n.getPlaybackRate()==t)),i.Bb(2),i.Oc(t+"x"),i.Bb(1),i.nc("ngIf","2.0"!==t),i.Bb(1),i.nc("ngIf","2.0"===t)}}const me=function(t){return{active:t}},ve=function(t){return{opened:t}};let ye=(()=>{class t{constructor(t,e,n,o){this.API=e,this.fsAPI=n,this._utility=o,this.subscriptions=[],this.ariaValue=1,this.releaseControl=new i.n,this.isPlayingAds=!1,this.isOpenOrHidePlaySpeedBox=!1,this.elem=t.nativeElement,this.playbackValues=["0.5","0.75","1.0","1.25","1.5","2.0"],this.playbackIndex=2}ngOnInit(){this.API.isPlayerReady?this.onPlayerReady():this.subscriptions.push(this.API.playerReadyEvent.subscribe(()=>this.onPlayerReady()))}onPlayerReady(){this.target=this.API.getMediaById(this.vgFor),this.subscriptions.push(this.target.subscriptions.loadedMetadata.subscribe(t=>{this.updatePlaybackSpeed(this.playbackValues[this.playbackIndex])}))}onClick(t){this.isOpenOrHidePlaySpeedBox=!1,0!=this.customCallback(t)&&(this.playbackIndex=t,this.updatePlaybackSpeed(this.playbackValues[t]),this.releaseControl.emit(!0))}updatePlaybackSpeed(t){t=this.isPlayingAds?"1.0":t,this.target instanceof V.a?this.target.playbackRate=t:this.target.playbackRate[this.vgFor]=t}getPlaybackRate(){return this.ariaValue=this.target?this.target.playbackRate:1,this.ariaValue.toFixed(Math.max(1,(this.ariaValue.toString().split(".")[1]||[]).length))}ngOnDestroy(){this.subscriptions.forEach(t=>{t&&t.unsubscribe()})}openOrHidePlaySpeedBox(){this.isOpenOrHidePlaySpeedBox=!this.isOpenOrHidePlaySpeedBox,this.isOpenOrHidePlaySpeedBox?(this.API.hiddenAPI.captureControls(),this.playSpeedBoxSubscript=this._utility.openList(this.playSpeedBox.nativeElement,null,()=>{this.isOpenOrHidePlaySpeedBox=!1,this.playSpeedBoxSubscript.unsubscribe(),this.API.hiddenAPI.releaseControls()})):(null!=this.playSpeedBoxSubscript&&this.playSpeedBoxSubscript.unsubscribe(),this.API.hiddenAPI.releaseControls())}}return t.\u0275fac=function(e){return new(e||t)(i.Pb(i.l),i.Pb(V.a),i.Pb(o.d),i.Pb(b.a))},t.\u0275cmp=i.Jb({type:t,selectors:[["vg-playback-button"]],viewQuery:function(t,e){var n;1&t&&i.Uc(ue,!0),2&t&&i.yc(n=i.ec())&&(e.playSpeedBox=n.first)},inputs:{vgFor:"vgFor",playbackValues:"playbackValues",customCallback:"customCallback",isPlayingAds:"isPlayingAds"},outputs:{releaseControl:"releaseControl"},decls:7,vars:8,consts:[[1,"player-speed",3,"ngClass"],["playSpeedBox",""],[1,"player-speed-toggler","d-flex","align-items-center",3,"click"],[1,"player-speed-toggler-label"],[1,"openList","open-black","player-speed-menu",3,"ngClass"],["class","player-speed-menu-item",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"player-speed-menu-item",3,"ngClass","click"],[1,"player-speed-menu-item-label"],["class","vip-label-placeholder",4,"ngIf"],["class","vip-label",4,"ngIf"],[1,"vip-label-placeholder"],[1,"vip-label"]],template:function(t,e){1&t&&(i.Vb(0,"div",0,1),i.Vb(2,"div",2),i.dc("click",(function(t){return e.openOrHidePlaySpeedBox()})),i.Vb(3,"span",3),i.Nc(4),i.Ub(),i.Ub(),i.Vb(5,"div",4),i.Lc(6,be,5,6,"div",5),i.Ub(),i.Ub()),2&t&&(i.nc("ngClass",i.sc(4,me,e.isOpenOrHidePlaySpeedBox)),i.Bb(4),i.Oc("1.0"===e.getPlaybackRate()?"\u500d\u901f":e.getPlaybackRate()+"x"),i.Bb(1),i.nc("ngClass",i.sc(6,ve,e.isOpenOrHidePlaySpeedBox)),i.Bb(1),i.nc("ngForOf",e.playbackValues))},directives:[N.l,N.m,N.n],styles:["\n        vg-playback-button {\n            -webkit-touch-callout: none;\n            -webkit-user-select: none;\n            -moz-user-select: none;\n            -ms-user-select: none;\n            user-select: none;\n            display: flex;\n            justify-content: center;\n            height: 50px;\n            width: 50px;\n            cursor: pointer;\n            color: white;\n            line-height: 50px;\n            font-family: Helvetica Neue, Helvetica, Arial, sans-serif;\n        }\n\n        vg-playback-button .button {\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            width: 50px;\n\n        }\n        .player-speed {\n            position: relative;\n        }\n        .player-speed-toggler {\n            width: 90px;\n            padding: 0 10px;\n            line-height: 52px;\n            display: flex;\n            align-items: center;\n            justify-content: space-between;\n        }\n        .player-speed-toggler-label {\n            flex: 1;\n            text-align: center;\n        }\n       .player-speed-toggler:hover {\n            color: #00c0FF;\n        }\n        .player-speed-menu {\n            max-height: unset !important;\n            left: -2px !important;\n            margin-left: 0 !important;\n            bottom: 3.5em !important;\n            display: none;\n        }\n        .player-speed-menu.opened {\n            display: block;\n        }\n        .openList.opened{\n            padding: 0 !important;\n        }\n        .player-speed-menu-item {\n            line-height: 26px;\n            min-width: 92px;\n            padding: 9px 10px;\n            text-align: center;\n            display: flex;\n            align-items: center;\n            justify-content: space-between;\n        }\n        .player-speed-menu-item-label {\n            flex: 1;\n            text-align-center: center;\n        }\n        .player-speed-menu-item.active {\n            background-color: rgba(0, 0, 0, 0.76);\n            color: #00c0FF;\n        }\n        .player-speed-menu-item:hover {\n            color: #00c0FF;\n        }\n    "],encapsulation:2}),t})();const Ce=function(t,e,n){return{iconjingyin:t,iconyinliang:e,iconyinliangxiao:n}};let _e=(()=>{class t{constructor(t,e){this.API=e,this.subscriptions=[],this.ariaValue="unmuted",this.elem=t.nativeElement}ngOnInit(){this.API.isPlayerReady?this.onPlayerReady():this.subscriptions.push(this.API.playerReadyEvent.subscribe(()=>this.onPlayerReady()))}onPlayerReady(){this.target=this.API.getMediaById(this.vgFor),this.currentVolume=this.target.volume}onClick(){this.changeMuteState()}onKeyDown(t){13!==t.keyCode&&32!==t.keyCode||(t.preventDefault(),this.changeMuteState())}changeMuteState(){let t=this.getVolume();0===t?(0===this.target.volume&&0===this.currentVolume&&(this.currentVolume=1),this.target.volume=this.currentVolume):(this.currentVolume=t,this.target.volume=0)}getVolume(){const t=this.target?this.target.volume:0;return this.ariaValue=t?"unmuted":"muted",t}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(i.Pb(i.l),i.Pb(V.a))},t.\u0275cmp=i.Jb({type:t,selectors:[["vg-mute"]],hostBindings:function(t,e){1&t&&i.dc("click",(function(t){return e.onClick()}))("keydown",(function(t){return e.onKeyDown(t)}))},inputs:{vgFor:"vgFor"},decls:1,vars:6,consts:[["tabindex","0","role","button","aria-label","mute button",1,"iconfont",3,"ngClass"]],template:function(t,e){1&t&&i.Qb(0,"div",0),2&t&&(i.nc("ngClass",i.uc(2,Ce,0===e.getVolume(),e.getVolume()>=.5,e.getVolume()>0&&e.getVolume()<.5)),i.Cb("aria-valuetext",e.ariaValue))},directives:[N.l],styles:["\n        vg-mute {\n            -webkit-touch-callout: none;\n            -webkit-user-select: none;\n            -khtml-user-select: none;\n            -moz-user-select: none;\n            -ms-user-select: none;\n            user-select: none;\n            display: flex;\n            justify-content: center;\n            height: 50px;\n            width: 50px;\n            cursor: pointer;\n            color: white;\n            line-height: 50px;\n            margin-left: 20px;\n        }\n\n        vg-mute .iconfont {\n            pointer-events: none;\n            font-size: 32px;\n        }\n    "],encapsulation:2}),t})();const xe=["volumeBar"];function Pe(t,e){if(1&t&&(i.Vb(0,"div",4),i.Nc(1),i.Ub()),2&t){const t=i.gc();i.Bb(1),i.Oc(t.getVolumecCaption())}}const we=function(t){return{dragging:t}};function Oe(t,e){if(1&t&&(i.Vb(0,"div",5),i.Qb(1,"div",6),i.Qb(2,"div",7),i.Ub()),2&t){const t=i.gc();i.nc("ngClass",i.sc(5,we,t.isDragging)),i.Bb(1),i.Kc("width",100*t.getVolume()+"%"),i.Bb(1),i.Kc("left",100*t.getVolume()+"%")}}function Me(t,e){if(1&t&&(i.Vb(0,"div",5),i.Qb(1,"div",6),i.Qb(2,"div",7),i.Ub()),2&t){const t=i.gc();i.nc("ngClass",i.sc(5,we,t.isDragging)),i.Bb(1),i.Kc("height",100*t.getVolume()+"%"),i.Bb(1),i.Kc("bottom",100*t.getVolume()+"%")}}let ke=(()=>{class t{constructor(t,e){this.API=e,this.vertical=!0,this.subscriptions=[],this.elem=t.nativeElement,this.isDragging=!1}ngOnInit(){this.API.isPlayerReady?this.onPlayerReady():this.subscriptions.push(this.API.playerReadyEvent.subscribe(()=>this.onPlayerReady()))}onPlayerReady(){this.target=this.API.getMediaById(this.vgFor),this.ariaValueY=this.ariaValue=100*this.getVolume()}onClick(t){this.setVolume(this.calculateVolume(this.vertical?t.clientY:t.clientX))}onMouseDown(t){this.mouseDownPosX=t.clientX,this.mouseDownPosY=t.clientY,this.isDragging=!0}onDrag(t){this.isDragging&&this.setVolume(this.calculateVolume(this.vertical?t.clientY:t.clientX))}onStopDrag(t){this.isDragging&&(this.isDragging=!1,this.vertical?this.mouseDownPosY===t.clientY&&this.setVolume(this.calculateVolume(t.clientY)):this.mouseDownPosX===t.clientX&&this.setVolume(this.calculateVolume(t.clientX)))}arrowAdjustVolume(t){var e=document.activeElement;(null==e||"input"!=e.tagName.toLowerCase()&&!e.hasAttribute("contenteditable"))&&(38===t.keyCode?(t.preventDefault(),this.setVolume(Math.max(0,Math.min(100,100*this.getVolume()+10)))):40===t.keyCode&&(t.preventDefault(),this.setVolume(Math.max(0,Math.min(100,100*this.getVolume()-10)))))}getVolumecCaption(){return parseInt(""+100*this.getVolume())}calculateVolume(t){let e=1;if(/macintosh|mac os x/i.test(navigator.userAgent)||(e=window.innerWidth<1366?1366/window.innerWidth:window.innerWidth>2560?1920/window.innerWidth:1),this.vertical){const n=this.volumeBarRef.nativeElement.getBoundingClientRect();return 100*(1-(t*e-n.top)/n.height)}{const n=this.volumeBarRef.nativeElement.getBoundingClientRect();return(t*e-n.left)/n.width*100}}setVolume(t){try{this.target.volume=Math.max(0,Math.min(1,t/100)),this.ariaValueY=this.ariaValue=100*this.target.volume}catch(e){}}getVolume(){return this.target?this.target.volume:0}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(i.Pb(i.l),i.Pb(V.a))},t.\u0275cmp=i.Jb({type:t,selectors:[["vg-volume"]],viewQuery:function(t,e){var n;1&t&&i.Ic(xe,!0),2&t&&i.yc(n=i.ec())&&(e.volumeBarRef=n.first)},hostVars:2,hostBindings:function(t,e){1&t&&i.dc("mousemove",(function(t){return e.onDrag(t)}),!1,i.Ac)("mouseup",(function(t){return e.onStopDrag(t)}),!1,i.Ac)("keydown",(function(t){return e.arrowAdjustVolume(t)}),!1,i.Ac),2&t&&i.Gb("vertical",e.vertical)},inputs:{vgFor:"vgFor",vertical:"vertical"},decls:5,vars:5,consts:[["class","caption",4,"ngIf"],["tabindex","0","role","slider","aria-label","volume level","aria-level","polite","aria-valuemin","0","aria-valuemax","100","aria-orientation","horizontal",1,"volumeBar",3,"click","mousedown"],["volumeBar",""],["class","volumeBackground",3,"ngClass",4,"ngIf"],[1,"caption"],[1,"volumeBackground",3,"ngClass"],[1,"volumeValue"],[1,"volumeKnob"]],template:function(t,e){1&t&&(i.Lc(0,Pe,2,1,"div",0),i.Vb(1,"div",1,2),i.dc("click",(function(t){return e.onClick(t)}))("mousedown",(function(t){return e.onMouseDown(t)})),i.Lc(3,Oe,3,7,"div",3),i.Lc(4,Me,3,7,"div",3),i.Ub()),2&t&&(i.nc("ngIf",e.vertical),i.Bb(1),i.Cb("aria-valuenow",e.vertical?e.ariaValueY:e.ariaValue)("aria-valuetext",e.vertical?e.ariaValueY:e.ariaValue+"%"),i.Bb(2),i.nc("ngIf",!e.vertical),i.Bb(1),i.nc("ngIf",e.vertical))},directives:[N.n,N.l],styles:["\n        vg-volume {\n            -webkit-touch-callout: none;\n            -webkit-user-select: none;\n            -moz-user-select: none;\n            -ms-user-select: none;\n            user-select: none;\n            display: flex;\n            justify-content: center;\n            height: 50px;\n            width: 100px;\n            cursor: pointer;\n            color: white;\n            line-height: 50px;\n        }\n\n\n        vg-volume .volumeBar {\n            position: relative;\n            display: flex;\n            flex-grow: 1;\n            align-items: center;\n        }\n        vg-volume .volumeBackground {\n            display: flex;\n            flex-grow: 1;\n            height: 5px;\n            pointer-events: none;\n            background-color: #333;\n        }\n        vg-volume .volumeValue {\n            display: flex;\n            height: 5px;\n            pointer-events: none;\n            background-color: #FFF;\n            transition:all 0.2s ease-out;\n        }\n        vg-volume .volumeKnob {\n            position: absolute;\n            width: 10px; height: 11px;\n            left: 0; top: 50%;\n            transform: translateY(-50%);\n\n            pointer-events: none;\n            background-color: #FFF;\n            transition:all 0.2s ease-out;\n        }\n        vg-volume .volumeBackground.dragging .volumeValue,\n        vg-volume .volumeBackground.dragging .volumeKnob {\n            transition: none;\n        }\n\n        vg-volume.vertical{\n            height: 160px;\n            width: 3.5em;\n            display: block;\n            padding-top: 2em;\n            line-height: 2em;\n\n        }\n        vg-volume.vertical .volumeBar{\n\n\n            position: relative;\n            display: block;\n            top: 0.3em;\n        }\n\n        vg-volume.vertical .volumeBackground{\n\n\n\n        width: 0.2em;\n        background-color:white;\n        height:100px;\n        margin: 0 auto;\n\n\n    }\n    vg-volume.vertical .volumeValue{\n\n        width: 0.2em;\n        height:auto;\n        position: absolute;\n        bottom: 0;\n        background-color:red;\n    }\n\n    vg-volume.vertical .volumeKnob{\n\n        top: auto;\n    left: 50%;\n   // margin-left: -7.5px;\n    background-color:red;\n    transform: translateX(-50%);\n   // margin-bottom: -15px;\n    }\n\n    vg-volume .caption{\n\n        position: absolute;\n        top: 0;\n        text-align: center;\n        width: 100%;\n        margin-top:0.1em;\n    }\n    "],encapsulation:2}),t})();var Se=n("FQmE"),Ie=n("Jr3z"),Le=n("3Pt+"),Te=n("qWkz"),Ae=n("Kdsb"),Ne=n("PkM9"),Be=n("ha/m");const Ve=["PlayerMediaList"];function Ue(t,e){if(1&t&&i.Qb(0,"app-list",7),2&t){const t=i.gc();i.nc("items",t.playlist)("fixedTabs",2)("fromPlayer",!0)("isWide",t.isWide)("newMediaKey",t.newMediaKey)}}function De(t,e){if(1&t&&i.Qb(0,"app-list-by-year",8),2&t){const t=i.gc();i.nc("items",t.playlist)("fromPlayer",!0)("newMediaKey",t.newMediaKey)}}const Ee=function(t){return{show:t}};let Re=(()=>{class t{constructor(t,e,n){this.playerMediaListService=t,this.route=e,this._utility=n,this.perfectScrollbarConfig={suppressScrollX:!0,wheelPropagation:!1},this.show=!1,this.playlist=[],this.playlistType="byDefault",this.isWide=!1,this.listOpenSubscribe=this.playerMediaListService.open$.subscribe(t=>{this.show=t,this.show?setTimeout(()=>{this.closeSubscribe=this._utility.openList(this.PlayerMediaList.nativeElement,null,t=>{var e;if(t.getAttribute("class")){const n=null===(e=t.getAttribute("class"))||void 0===e?void 0:e.split(" ");if(n.indexOf("pmb")>-1||n.indexOf("ps")>-1||n.indexOf("ps__thumb-y")>-1||n.indexOf("ps--active-y")>-1||n.indexOf("ps__rail-y")>-1)return}this.playerMediaListService.close()})}):this.closeSubscribe&&this.closeSubscribe.unsubscribe()}),e.queryParams.subscribe(t=>{this.playerMediaListService.close()})}ngOnInit(){this.route.queryParams.subscribe(t=>{t.s&&this.playerMediaListService.open()})}togglePlaylist(){this.playerMediaListService.toggle()}ngOnDestroy(){this.closeSubscribe&&this.closeSubscribe.unsubscribe(),this.listOpenSubscribe&&this.listOpenSubscribe.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(i.Pb(w.a),i.Pb(T.a),i.Pb(b.a))},t.\u0275cmp=i.Jb({type:t,selectors:[["app-player-media-list"]],viewQuery:function(t,e){var n;1&t&&i.Uc(Ve,!0),2&t&&i.yc(n=i.ec())&&(e.PlayerMediaList=n.first)},inputs:{show:"show",playlist:"playlist",playlistType:"playlistType",isWide:"isWide",newMediaKey:"newMediaKey"},decls:7,vars:6,consts:[[1,"player-media-list",3,"ngClass"],[2,"height","100%",3,"config"],[1,"player-media-list-inner"],["PlayerMediaList",""],[3,"items","fixedTabs","fromPlayer","isWide","newMediaKey",4,"ngIf"],[3,"items","fromPlayer","newMediaKey",4,"ngIf"],[1,"player-media-list-trigger",3,"click"],[3,"items","fixedTabs","fromPlayer","isWide","newMediaKey"],[3,"items","fromPlayer","newMediaKey"]],template:function(t,e){1&t&&(i.Vb(0,"div",0),i.Vb(1,"perfect-scrollbar",1),i.Vb(2,"div",2,3),i.Lc(4,Ue,1,5,"app-list",4),i.Lc(5,De,1,3,"app-list-by-year",5),i.Ub(),i.Ub(),i.Vb(6,"div",6),i.dc("click",(function(t){return e.togglePlaylist()})),i.Ub(),i.Ub()),2&t&&(i.nc("ngClass",i.sc(4,Ee,e.show)),i.Bb(1),i.nc("config",e.perfectScrollbarConfig),i.Bb(3),i.nc("ngIf","byDefault"===e.playlistType),i.Bb(1),i.nc("ngIf","byDate"===e.playlistType))},directives:[N.l,Ae.b,N.n,Ne.a,Be.a],styles:[""]}),t})();var Fe=n("ITgo");n.d(e,"a",(function(){return si}));const je=["configBox"],ze=["languageBox"];function He(t,e){if(1&t&&(i.Vb(0,"div",7),i.Nc(1),i.Ub()),2&t){const t=i.gc();i.Bb(1),i.Pc(" ",t.serverCaption," ")}}function Ge(t,e){if(1&t&&(i.Vb(0,"div",7),i.Nc(1),i.Ub()),2&t){const t=i.gc();i.Bb(1),i.Pc(" ",t.errorContent," ")}}function We(t,e){if(1&t){const t=i.Wb();i.Vb(0,"div",31),i.dc("click",(function(e){return i.Cc(t),i.gc(4).closeSmallPlayer()})),i.Qb(1,"i",32),i.Ub()}}function qe(t,e){if(1&t&&(i.Vb(0,"div",28),i.Qb(1,"vg-play-pause",29),i.Lc(2,We,2,0,"div",30),i.Ub()),2&t){const t=i.gc(3);i.Bb(2),i.nc("ngIf",t.isFloatPlayer)}}const Qe=function(t){return{inFloat:t}};function $e(t,e){if(1&t){const t=i.Wb();i.Vb(0,"div",33),i.dc("click",(function(e){return i.Cc(t),i.gc(3).toPlay()})),i.Ub()}if(2&t){const t=i.gc(3);i.nc("ngClass",i.sc(1,Qe,t.isFloatPlayer))}}function Ke(t,e){1&t&&i.Qb(0,"div",34),2&t&&i.nc("innerHtml",e.$implicit,i.Dc)}function Xe(t,e){if(1&t&&(i.Vb(0,"div",29),i.Vb(1,"div",45),i.Vb(2,"span",46),i.Nc(3),i.Ub(),i.Nc(4,"s "),i.Ub(),i.Ub()),2&t){const t=i.gc(4);i.Bb(3),i.Oc(t.leftSecond)}}function Ye(t,e){1&t&&i.Qb(0,"i",50)}function Ze(t,e){1&t&&i.Qb(0,"i",51)}function Je(t,e){if(1&t){const t=i.Wb();i.Vb(0,"div",47),i.dc("click",(function(e){return i.Cc(t),i.gc(4).muted(e)})),i.Lc(1,Ye,1,0,"i",48),i.Lc(2,Ze,1,0,"i",49),i.Ub()}if(2&t){const t=i.gc(4);i.Bb(1),i.nc("ngIf",!!t.isMuted),i.Bb(1),i.nc("ngIf",!t.isMuted)}}function tn(t,e){1&t&&(i.Vb(0,"div",52),i.Nc(1," \u65e0\u6cd5\u663e\u793a\u5e7f\u544a\u3002 "),i.Ub())}function en(t,e){if(1&t){const t=i.Wb();i.Vb(0,"div",35),i.dc("click",(function(e){return i.Cc(t),i.gc(3).navigatetopublic()})),i.Vb(1,"div",36),i.Lc(2,Xe,5,1,"div",37),i.Vb(3,"div",38),i.Vb(4,"div",39),i.dc("click",(function(e){return i.Cc(t),i.gc(3).skipAds(e)})),i.Nc(5," \u8df3\u8fc7\u5e7f\u544a "),i.Ub(),i.Ub(),i.Lc(6,Je,3,2,"div",40),i.Ub(),i.Lc(7,tn,2,0,"div",41),i.Vb(8,"div",42),i.Nc(9,"\u5e7f\u544a"),i.Ub(),i.Vb(10,"div",43),i.dc("click",(function(e){return i.Cc(t),i.gc(3).adsFullscreenClick(e)})),i.Vb(11,"vg-fullscreen",44),i.dc("fullscreenStatus",(function(e){return i.Cc(t),i.gc(3).fullscreenStatusHandler(e)})),i.Ub(),i.Ub(),i.Ub()}if(2&t){const t=i.gc(3);i.nc("ngClass",i.sc(6,Qe,t.isFloatPlayer))("ngStyle",t.getBackgroudImage(t.currentPlayingAds)),i.Bb(2),i.nc("ngIf",t.leftSecond>0),i.Bb(4),i.nc("ngIf",!(null!=t.currentPlayingAds&&t.currentPlayingAds.isImage)),i.Bb(1),i.nc("ngIf",t.isPublicBlocked&&!t.needUserTouch),i.Bb(4),i.nc("isFullscreen",t.isFullscreen)}}function nn(t,e){if(1&t&&i.Qb(0,"vg-overlay-play",53),2&t){const t=i.gc(3);i.nc("logo",t.logo)("paused",t.isPaused)("isPlayingAds",t.isPlayingAds)("isFloatPlayer",t.isFloatPlayer)("isLive",t.isLive)("fromActivity",t.fromActivity)("isFullscreen",t.isFullscreen)}}function on(t,e){if(1&t&&(i.Vb(0,"span"),i.Nc(1),i.Ub()),2&t){const t=i.gc(4);i.Bb(1),i.Oc(null==t.video?null:t.video.title)}}function sn(t,e){if(1&t&&(i.Vb(0,"span",57),i.Nc(1),i.Ub()),2&t){const t=i.gc(4);i.Bb(1),i.Oc(t.mediaTitle)}}const rn=function(t){return{vip:t}};function an(t,e){if(1&t&&(i.Vb(0,"vg-controls",54),i.Vb(1,"div",55),i.Lc(2,on,2,1,"span",6),i.Lc(3,sn,2,1,"span",56),i.Ub(),i.Ub()),2&t){const t=i.gc(3);i.nc("vgAutohide",t.autoHide)("vgAutohideTime",2.5),i.Bb(1),i.nc("ngClass",i.sc(5,rn,(null==t.user?null:t.user.roleId)>0)),i.Bb(1),i.nc("ngIf",!t.isFloatPlayer),i.Bb(1),i.nc("ngIf",(null==t.video?null:t.video.isMediaTitleVisible)&&!t.isFloatPlayer)}}function cn(t,e){if(1&t){const t=i.Wb();i.Vb(0,"div",76),i.dc("click",(function(e){return i.Cc(t),i.gc(5).playNextVideo()})),i.Qb(1,"div",77),i.Ub()}}function ln(t,e){1&t&&(i.Vb(0,"div",82),i.Nc(1,"/"),i.Ub())}function hn(t,e){1&t&&i.Qb(0,"vg-time-display",83)}function dn(t,e){if(1&t&&(i.Vb(0,"div",78),i.Qb(1,"vg-time-display",79),i.Lc(2,ln,2,0,"div",80),i.Lc(3,hn,1,0,"vg-time-display",81),i.Ub()),2&t){const t=i.gc(5);i.Bb(2),i.nc("ngIf",!t.isLive),i.Bb(1),i.nc("ngIf",!t.isLive)}}function un(t,e){1&t&&(i.Vb(0,"div",82),i.Nc(1,"/"),i.Ub())}function gn(t,e){1&t&&i.Qb(0,"vg-time-display",86)}function pn(t,e){if(1&t&&(i.Vb(0,"div",78),i.Qb(1,"vg-time-display",84),i.Lc(2,un,2,0,"div",80),i.Lc(3,gn,1,0,"vg-time-display",85),i.Ub()),2&t){const t=i.gc(5);i.Bb(2),i.nc("ngIf",!t.isLive),i.Bb(1),i.nc("ngIf",!t.isLive)}}function fn(t,e){if(1&t){const t=i.Wb();i.Vb(0,"button",87,88),i.dc("click",(function(e){return i.Cc(t),i.gc(5).toggleMediaList()})),i.Nc(2,"\u9009\u96c6 "),i.Ub()}}function bn(t,e){if(1&t&&(i.Vb(0,"div",71),i.Qb(1,"vg-play-pause",29),i.Lc(2,cn,2,0,"div",72),i.Qb(3,"vg-airplay",73),i.Lc(4,dn,4,2,"div",74),i.Lc(5,pn,4,2,"div",74),i.Lc(6,fn,3,0,"button",75),i.Ub()),2&t){const t=i.gc(4);i.Bb(2),i.nc("ngIf",t.showNextButton&&!t.isLive),i.Bb(2),i.nc("ngIf",t.api.totalTime>=36e5&&!t.fromActivity),i.Bb(1),i.nc("ngIf",t.api.totalTime<36e5&&!t.fromActivity),i.Bb(1),i.nc("ngIf",t.canSelect())}}function mn(t,e){if(1&t){const t=i.Wb();i.Vb(0,"div",89),i.Vb(1,"app-danmu-input",90),i.dc("onBlur",(function(e){return i.Cc(t),i.gc(4).onInputBlur()}))("onFocus",(function(e){return i.Cc(t),i.gc(4).onInputFocus()}))("onClose",(function(e){return i.Cc(t),i.gc(4).shouldShowInput=!1}))("api",(function(e){return i.Cc(t),i.gc(4).api})),i.Ub(),i.Ub()}}function vn(t,e){if(1&t){const t=i.Wb();i.Vb(0,"vg-quality-selector",91),i.dc("filterClick",(function(e){return i.Cc(t),i.gc(4).purchaseMedia(e)}))("onBitrateChange",(function(e){return i.Cc(t),i.gc(4).onSelectBitrate(e)})),i.Ub()}if(2&t){const t=i.gc(4);i.nc("bitrates",t.bitrates)("bitrateSelected",t.playingMedia)("playingLevel",t.currentPlayingLevel)("gold",t.unlockGold)("user",t.user)("isLine",t.isLine)}}function yn(t,e){if(1&t){const t=i.Wb();i.Vb(0,"div",96),i.dc("click",(function(n){i.Cc(t);const o=e.$implicit;return i.gc(5).changeLanguage(o)})),i.Nc(1),i.Ub()}if(2&t){const t=e.$implicit;i.Bb(1),i.Pc(" ",t.title," ")}}const Cn=function(t){return{active:t}},_n=function(t){return{opened:t}};function xn(t,e){if(1&t){const t=i.Wb();i.Vb(0,"div",92,93),i.dc("click",(function(e){return i.Cc(t),i.gc(4).openLanguageList()})),i.Nc(2),i.Vb(3,"div",94),i.Lc(4,yn,2,1,"div",95),i.Ub(),i.Ub()}if(2&t){const t=i.gc(4);i.nc("ngClass",i.sc(4,Cn,t.isLanguageSelectionOpened)),i.Bb(2),i.Pc(" ",t.language," "),i.Bb(1),i.nc("ngClass",i.sc(6,_n,t.isLanguageSelectionOpened)),i.Bb(1),i.nc("ngForOf",t.languageList)}}function Pn(t,e){if(1&t){const t=i.Wb();i.Vb(0,"vg-playback-button",97),i.dc("releaseControl",(function(e){return i.Cc(t),i.gc(4).releaseControlHandler(e)})),i.Ub()}if(2&t){const t=i.gc(4);i.nc("customCallback",t.checkIfNeedToggleCallback)("isPlayingAds",t.isPlayingAds)}}const wn=function(t){return{active:t}};function On(t,e){if(1&t){const t=i.Wb();i.Vb(0,"vg-mute",98),i.dc("mouseenter",(function(e){return i.Cc(t),i.gc(4).showVolume(e)}))("mouseleave",(function(e){return i.Cc(t),i.gc(4).hideVolume()})),i.Ub()}if(2&t){const t=i.gc(4);i.nc("ngClass",i.sc(1,wn,t.isVolumeShow))}}const Mn=function(t){return{show:t}};function kn(t,e){if(1&t){const t=i.Wb();i.Vb(0,"div",99),i.dc("mouseenter",(function(e){return i.Cc(t),i.gc(4).keepVolume()}))("mouseleave",(function(e){return i.Cc(t),i.gc(4).hideVolume()})),i.Vb(1,"div",100),i.Qb(2,"vg-volume"),i.Ub(),i.Ub()}if(2&t){const t=i.gc(4);i.Kc("left",t.position.left,"px"),i.nc("ngClass",i.sc(3,Mn,t.isVolumeShow))}}function Sn(t,e){if(1&t){const t=i.Wb();i.Vb(0,"div",113),i.Vb(1,"div",114),i.dc("click",(function(e){return i.Cc(t),i.gc(5).toggleAutoStart()})),i.Vb(2,"div",115),i.Vb(3,"span"),i.Nc(4,"\u81ea\u52a8\u5f00\u59cb\u64ad\u653e"),i.Ub(),i.Ub(),i.Qb(5,"app-slide-toggle",116),i.Ub(),i.Ub()}if(2&t){const t=i.gc(5);i.Bb(5),i.nc("status",t.autoStart)}}const In=function(t){return{vip:t}};function Ln(t,e){if(1&t){const t=i.Wb();i.Vb(0,"div",117),i.Vb(1,"div",114),i.dc("click",(function(e){return i.Cc(t),i.gc(5).selectTian()})),i.Vb(2,"div",115),i.Vb(3,"span"),i.Nc(4,"\u8df3\u8fc7\u7247\u5934 / \u7247\u5c3e"),i.Ub(),i.Ub(),i.Qb(5,"app-slide-toggle",116),i.Ub(),i.Ub()}if(2&t){const t=i.gc(5);i.nc("ngClass",i.sc(2,In,t.needBought)),i.Bb(5),i.nc("status",t.isJump)}}function Tn(t,e){if(1&t){const t=i.Wb();i.Vb(0,"div",113),i.Vb(1,"div",114),i.dc("click",(function(e){return i.Cc(t),i.gc(5).toggleFloatingPlayer()})),i.Vb(2,"div",115),i.Vb(3,"span"),i.Nc(4,"\u753b\u4e2d\u753b"),i.Ub(),i.Ub(),i.Qb(5,"app-slide-toggle",116),i.Ub(),i.Ub()}if(2&t){const t=i.gc(5);i.Bb(5),i.nc("status",!t.forbiddenFloatingPlayer)}}const An=function(t){return{guide:t}},Nn=function(t,e){return{opened:t,isnews:e}},Bn=function(t){return{select:t}};function Vn(t,e){if(1&t){const t=i.Wb();i.Vb(0,"div",101,102),i.Vb(2,"div",103),i.dc("click",(function(e){return i.Cc(t),i.gc(4).closeGuide()})),i.Ub(),i.Vb(3,"div",104),i.dc("click",(function(e){return i.Cc(t),i.gc(4).openOrHideConfig()})),i.Ub(),i.Vb(4,"div",105),i.Vb(5,"div",106),i.Vb(6,"div",107),i.Nc(7,"\u753b\u9762\u6bd4\u4f8b"),i.Ub(),i.Vb(8,"div",108),i.Vb(9,"div",109),i.dc("click",(function(e){return i.Cc(t),i.gc(4).scaleVideo("")})),i.Nc(10,"\u9ed8\u8ba4"),i.Ub(),i.Vb(11,"div",110),i.dc("click",(function(e){return i.Cc(t),i.gc(4).scaleVideo("4:3")})),i.Nc(12,"4:3"),i.Ub(),i.Vb(13,"div",110),i.dc("click",(function(e){return i.Cc(t),i.gc(4).scaleVideo("16:9")})),i.Nc(14,"16:9"),i.Ub(),i.Ub(),i.Ub(),i.Lc(15,Sn,6,1,"div",111),i.Lc(16,Ln,6,4,"div",112),i.Lc(17,Tn,6,1,"div",111),i.Ub(),i.Ub()}if(2&t){const t=i.gc(4);i.nc("ngClass",i.sc(10,wn,t.isopenOrHideConfig)),i.Bb(2),i.nc("ngClass",i.sc(12,An,t.playerSettingGuide)),i.Bb(1),i.nc("ngClass",i.sc(14,An,t.playerSettingGuide)),i.Bb(1),i.nc("ngClass",i.tc(16,Nn,t.isopenOrHideConfig,t.isNewsPlayer)),i.Bb(5),i.nc("ngClass",i.sc(19,Bn,""==t.scaled)),i.Bb(2),i.nc("ngClass",i.sc(21,Bn,"4:3"==t.scaled)),i.Bb(2),i.nc("ngClass",i.sc(23,Bn,"16:9"==t.scaled)),i.Bb(2),i.nc("ngIf",!t.isAdult),i.Bb(1),i.nc("ngIf",!t.isAdult),i.Bb(1),i.nc("ngIf",!t.isAdult)}}const Un=function(t){return{show:t}};function Dn(t,e){if(1&t){const t=i.Wb();i.Vb(0,"vg-controls",58),i.Vb(1,"div",59),i.Vb(2,"div",60),i.Nc(3),i.Ub(),i.Vb(4,"vg-scrub-bar",61),i.Qb(5,"vg-scrub-bar-current-time"),i.Qb(6,"vg-scrub-bar-buffering-time"),i.Ub(),i.Ub(),i.Lc(7,bn,7,4,"div",62),i.Lc(8,mn,2,0,"div",63),i.Vb(9,"div",64),i.Lc(10,vn,1,6,"vg-quality-selector",65),i.Lc(11,xn,5,8,"div",66),i.Lc(12,Pn,1,2,"vg-playback-button",67),i.Lc(13,On,1,3,"vg-mute",68),i.Lc(14,kn,3,5,"div",69),i.Lc(15,Vn,18,25,"div",70),i.Vb(16,"vg-fullscreen",44),i.dc("fullscreenStatus",(function(e){return i.Cc(t),i.gc(3).fullscreenStatusHandler(e)})),i.Ub(),i.Ub(),i.Ub()}if(2&t){const t=i.gc(3);i.nc("vgAutohide",t.autoHide)("vgAutohideTime",2.5)("ngClass",i.sc(15,An,t.playerSettingGuide)),i.Bb(2),i.nc("ngClass",i.sc(17,Un,t.isSwitching||t.isSwitchComplete)),i.Bb(1),i.Pc(" ",t.isSwitching?t.isLine?"\u6b63\u5728\u5207\u6362\u7ebf\u8def...":"\u6b63\u5728\u5207\u6362\u6e05\u6670\u5ea6...":t.switchCompleteText," "),i.Bb(1),i.nc("previewFormat",t.previewFormat),i.Bb(3),i.nc("ngIf",!t.fromActivity||t.fromActivity&&t.isFullscreen),i.Bb(1),i.nc("ngIf",t.shouldShowInput&&!t.isAdult),i.Bb(2),i.nc("ngIf",t.showQuantitySelect&&t.bitrates.length),i.Bb(1),i.nc("ngIf",!!t.languageList&&t.languageList.length>0),i.Bb(1),i.nc("ngIf",!t.isLive&&!t.fromSpace&&!t.fromActivity),i.Bb(1),i.nc("ngIf",!t.fromActivity),i.Bb(1),i.nc("ngIf",!t.touchDevice),i.Bb(1),i.nc("ngIf",!t.isLive&&!t.fromSpace&&!t.fromActivity),i.Bb(1),i.nc("isFullscreen",t.isFullscreen)}}function En(t,e){if(1&t){const t=i.Wb();i.Vb(0,"div"),i.Vb(1,"label",123),i.Vb(2,"input",124),i.dc("ngModelChange",(function(e){return i.Cc(t),i.gc(4).reportDanmuReason=e})),i.Ub(),i.Qb(3,"i"),i.Nc(4),i.Ub(),i.Ub()}if(2&t){const t=e.$implicit,n=i.gc(4);i.Bb(2),i.oc("value",t.name),i.nc("ngModel",n.reportDanmuReason),i.Bb(2),i.Pc(" ",t.name," ")}}function Rn(t,e){if(1&t){const t=i.Wb();i.Vb(0,"div"),i.Nc(1,"\u8bf7\u9009\u62e9\u4e3e\u62a5\u539f\u56e0"),i.Ub(),i.Qb(2,"div",118),i.Lc(3,En,5,3,"div",119),i.Qb(4,"app-dn-dialog-close-button",120),i.Vb(5,"div",121),i.Vb(6,"a",122),i.dc("click",(function(n){i.Cc(t);const o=e.data;return i.gc(3).reportDanmu(o.id)})),i.Nc(7,"\u4e3e\u62a5"),i.Ub(),i.Ub()}if(2&t){const t=i.gc(3);i.Bb(3),i.nc("ngForOf",t.reportDanmuReasons),i.Bb(1),i.nc("dialog","reportDanmu")}}function Fn(t,e){if(1&t&&(i.Vb(0,"div",125),i.Nc(1),i.Ub(),i.Vb(2,"div",121),i.Qb(3,"app-dn-dialog-button",126),i.Ub(),i.Qb(4,"app-dn-dialog-close-button",120)),2&t){const t=e.data;i.Bb(1),i.Oc(t.message),i.Bb(2),i.nc("buttonText","\u786e\u5b9a")("dialog","player-message-dialog"),i.Bb(1),i.nc("dialog","player-message-dialog")}}function jn(t,e){if(1&t){const t=i.Wb();i.Qb(0,"app-dn-dialog-close-button",120),i.Vb(1,"h5",127),i.Nc(2),i.Ub(),i.Vb(3,"h5",128),i.Nc(4," \u5f00\u901aVIP\u5373\u523b\u4eab\u53d7\u6c38\u4e45\u65e0\u5e7f\u544a\u7279\u6743! "),i.Ub(),i.Vb(5,"div",121),i.Vb(6,"a",122),i.dc("click",(function(e){return i.Cc(t),i.gc(3).skipAd()})),i.Nc(7,"\u8df3\u8fc7\u5e7f\u544a"),i.Ub(),i.Qb(8,"div",129),i.Vb(9,"a",130),i.dc("click",(function(e){return i.Cc(t),i.gc(3).showRechargeBox()})),i.Nc(10,"\u5f00\u901aVIP"),i.Ub(),i.Ub()}if(2&t){const t=e.data;i.nc("dialog","coin-or-upgrade-to-skip-ad"),i.Bb(2),i.Pc(" \u8df3\u8fc7\u5e7f\u544a\u5c06\u82b1\u8d39",t.price,"\u91d1\u5e01 ")}}function zn(t,e){if(1&t&&i.Qb(0,"app-player-media-list",131),2&t){const t=i.gc(3);i.nc("playlist",t.playlist)("playlistType",t.playlistType)("isWide",t.wideButton)("newMediaKey",t.newMediaKey)}}function Hn(t,e){1&t&&i.Qb(0,"app-sticky-chat",132),2&t&&i.nc("innerPlayer",!0)}const Gn=function(t){return{vertical:t}};function Wn(t,e){if(1&t){const t=i.Wb();i.Vb(0,"div",136),i.Vb(1,"vg-fullscreen",137),i.dc("fullscreenStatus",(function(e){return i.Cc(t),i.gc(4).fullscreenStatusHandler(e)})),i.Ub(),i.Ub()}if(2&t){const t=i.gc(4);i.nc("ngClass",i.sc(2,Gn,t.isVertical&&t.fromActivity&&!t.isFullscreen)),i.Bb(1),i.nc("isFullscreen",t.isFullscreen)}}function qn(t,e){if(1&t&&(i.Tb(0),i.Vb(1,"div",133),i.Vb(2,"vg-scrub-bar",61),i.Qb(3,"vg-scrub-bar-current-time",134),i.Qb(4,"vg-scrub-bar-buffering-time",134),i.Ub(),i.Ub(),i.Lc(5,Wn,2,4,"div",135),i.Sb()),2&t){const t=i.gc(3);i.Bb(2),i.nc("previewFormat",t.previewFormat),i.Bb(3),i.nc("ngIf",t.isVideoSuccessPlayed)}}const Qn=function(t){return{publicplay:t}},$n=function(t){return{pauseInFloat:t}},Kn=function(t){return{opacity:t,"z-index":4445}},Xn=function(){return{}},Yn=function(t,e){return{"window-activity-video":t,vertical:e}};function Zn(t,e){if(1&t){const t=i.Wb();i.Vb(0,"vg-player",10),i.dc("onPlayerReady",(function(e){return i.Cc(t),i.gc(2).onPlayerReady(e)})),i.Lc(1,qe,3,1,"div",11),i.Lc(2,$e,1,3,"div",12),i.Vb(3,"vg-pause-ads",13),i.dc("onShowPauseAds",(function(e){return i.Cc(t),i.gc(2).showAds(e)})),i.Ub(),i.Vb(4,"div",14),i.Lc(5,Ke,1,1,"div",15),i.Ub(),i.Lc(6,en,12,8,"div",16),i.Lc(7,nn,1,7,"vg-overlay-play",17),i.Qb(8,"vg-overlay-danmu",18),i.Qb(9,"vg-buffering"),i.Lc(10,an,4,7,"vg-controls",19),i.Lc(11,Dn,17,19,"vg-controls",20),i.Vb(12,"dn-dialog",21),i.Lc(13,Rn,8,2,"ng-template"),i.Ub(),i.Vb(14,"dn-dialog",22),i.Lc(15,Fn,5,4,"ng-template"),i.Ub(),i.Vb(16,"dn-dialog",23),i.Lc(17,jn,11,2,"ng-template"),i.Ub(),i.Vb(18,"video",24,25),i.dc("error",(function(e){return i.Cc(t),i.gc(2).errorHandler(e)}))("onHlsError",(function(e){return i.Cc(t),i.gc(2).hlsErrorHandler(e)}))("onGetBitrates",(function(e){return i.Cc(t),i.gc(2).onMasterPlayParsed(e)}))("onLevelChanged",(function(e){return i.Cc(t),i.gc(2).onLevelChanged(e)})),i.Ub(),i.Lc(21,zn,1,4,"app-player-media-list",26),i.Lc(22,Hn,1,1,"app-sticky-chat",27),i.Lc(23,qn,6,2,"ng-container",6),i.Ub()}if(2&t){const t=i.zc(19),e=i.gc(2);i.nc("ngClass",i.sc(24,Qn,e.isPlayingAds)),i.Bb(1),i.nc("ngIf",e.isFloatPlayer),i.Bb(1),i.nc("ngIf",e.needUserTouch),i.Bb(1),i.nc("ngClass",i.sc(26,$n,e.isFloatPlayer))("shouldLoad",!e.isPlayingAds),i.Bb(1),i.nc("ngClass",i.sc(28,Mn,e.captions.length)),i.Bb(1),i.nc("ngForOf",e.captions),i.Bb(1),i.nc("ngIf",e.isPlayingAds&&!!e.currentPlayingAds),i.Bb(1),i.nc("ngIf",!e.needUserTouch),i.Bb(1),i.nc("isPlayingAds",e.isPlayingAds)("ngStyle",i.sc(30,Kn,e.isFloatPlayer?0:1)),i.Bb(2),i.nc("ngIf",!e.isPlayingAds&&!e.isFloatPlayer),i.Bb(1),i.nc("ngIf",!e.isFloatPlayer&&(!e.fromActivity||e.fromActivity&&e.isFullscreen)),i.Bb(1),i.nc("parent","main-player"),i.Bb(6),i.oc("poster",e.poster,i.Fc),i.nc("muted",e.muted)("vgMedia",t)("vgHls",e.media.src)("ngStyle",e.isPlayingAds?i.rc(32,Xn):e.videoStyle)("ngClass",i.tc(33,Yn,e.fromActivity&&!e.isFullscreen,e.isVertical&&e.fromActivity&&!e.isFullscreen)),i.Cb("isLive",e.media.isLive),i.Bb(3),i.nc("ngIf",!e.fromSpace),i.Bb(1),i.nc("ngIf",e.isFullscreen),i.Bb(1),i.nc("ngIf",e.fromActivity&&!e.isFullscreen)}}const Jn=function(t,e){return{spaceStyle:t,vertical:e}};function ti(t,e){if(1&t&&(i.Vb(0,"div",8),i.Lc(1,Zn,24,36,"vg-player",9),i.Ub()),2&t){const t=i.gc();i.nc("ngClass",i.tc(2,Jn,t.fromSpace,t.isVertical&&t.fromActivity&&!t.isFullscreen)),i.Bb(1),i.nc("ngIf",!!t.media)}}function ei(t,e){if(1&t&&(i.Vb(0,"div",138),i.Vb(1,"h3"),i.Nc(2,"\u65e0\u6cd5\u64ad\u653e"),i.Ub(),i.Ub()),2&t){const t=i.gc();i.Kc("height",t.playerHeight,"px")}}function ni(t,e){if(1&t){const t=i.Wb();i.Vb(0,"div",141),i.Vb(1,"app-danmu-input",90),i.dc("onBlur",(function(e){return i.Cc(t),i.gc(2).onInputBlur()}))("onFocus",(function(e){return i.Cc(t),i.gc(2).onInputFocus()}))("onClose",(function(e){return i.Cc(t),i.gc(2).shouldShowInput=!1}))("api",(function(e){return i.Cc(t),i.gc(2).api})),i.Ub(),i.Ub()}}function ii(t,e){if(1&t&&(i.Tb(0),i.Vb(1,"div",139),i.Lc(2,ni,2,0,"div",140),i.Ub(),i.Sb()),2&t){const t=i.gc();i.Bb(2),i.nc("ngIf",!t.shouldShowInput&&t.fromActivity)}}const oi=function(t,e,n,i){return{iphone:t,"fixed-player":e,small:n,"trans-bg":i}};let si=(()=>{class t{constructor(t,e,n,o,r,c,l,h,d,u,f,b,m,v,y,C){this.danmuFacade=t,this.store=e,this.danmuService=n,this._toastService=o,this._dnDialogService=r,this._httpHelper=c,this.playerMediaListService=l,this._userService=h,this._rechargeBoxService=d,this.activatedRoute=u,this.storageService=f,this._guide=b,this.videoPlayerSettingsService=m,this.fullScreenService=v,this._utility=y,this._apiHelper=C,this.playerSettingGuide=!1,this.isPaused=!1,this.isFloatPlayer=!1,this.started=!0,this.apiReady=new i.n,this.onCloseSmallPlayer=new i.n,this.isAdult=2==a.a.cinema?1:0,this.subscriptions=[],this._serverInfo={status:-1},this._needBought=!1,this._cachedLogo="",this.reportDanmuReasons=[{name:"\u5267\u900f",value:"spoiler"},{name:"\u4eba\u8eab\u653b\u51fb",value:"language"},{name:"\u6076\u610f\u5237\u5f39\u5e55",value:"virulence"},{name:"\u53d1\u5e03\u5e7f\u544a",value:"advertise"},{name:"\u5176\u5b83",value:"other"}],this.poster="",this.autoHide=!0,this.playbackValues=["0.5","0.75","1.0","1.25","1.5","2.0"],this.playbackIndex=1,this.wideButton=!1,this.isJump=!0,this.forbiddenFloatingPlayer=!1,this.autoStart=!1,this.isContinuousPlay=!1,this.smallPlayerValid=!0,this.adVolume=.8,this.volume=.8,this.isPublicBlocked=!1,this.showPerfect=!1,this.playerSelection=g.Original,this.streamTech=p.MP4,this.serverCaption="",this.onVideoReady=new i.n,this.onErrorHandler=new i.n,this.showNextButton=!1,this.languageList=[],this.shouldSkipAds=!1,this.topPrefix=-147,this.customHeight=0,this.isloadDefault=!1,this.filterGold=10,this.unlockGold=100,this.filterCallback=null,this.unlockCallback=null,this.playNextCallback=null,this.isPlayRatio=!1,this.previewFormat="",this.playerMode="auto",this.playlist=[],this.playlistType="byDefault",this.showQuantitySelect=!0,this.mediaTitle="",this.isNewsPlayer=!1,this.isLive=!1,this.isUserFilterAd=!1,this._hasBought=0,this.onChangeLanguage=new i.n,this.bitrates=[],this.isLine=!1,this.containerRatio=16/9,this.winWidth=window.innerWidth,this.windHeight=window.innerHeight,this.isIPhone=!1,this.touchDevice=!1,this.media=null,this.isPlayerReady=!1,this.onPlay=new i.n,this.fromSpace=!1,this.fromActivity=!1,this.isVertical=!1,this.hasState=!1,this.skipAfter=10,this.shouldPlaySeoncd=0,this.leftSecond=20,this.mutable=!1,this.inputShowTimeout=null,this.isCurrentFullScreen=!1,this.isChrome=!1,this.isControlshow=!0,this.cachePlaySecond=null,this.canSkipEnds=!0,this.currentPlayingAds=null,this.isMuted=!1,this.isSwitching=!1,this.isSwitchComplete=!1,this.switchCompleteText="\u5207\u6362\u5b8c\u6210\uff01",this.infoTimeout=null,this.captions=[],this.checkIfNeedToggleCallback=this.checkIfNeedToggle.bind(this),this.isVolumeShow=!1,this.volumeTimer=null,this.volumeTimeout=330,this.position={},this.loadMedia=null,this.isopenOrHideConfig=!1,this.isMasterEnabled=!1,this.currentLevel={},this.currentPlayingLevel=0,this.shouldChangePlayer=!1,this.isFluence=!1,this.isVideoSuccessPlayed=!1,this.videoSuccessPlayerTimeout=null,this.shouldPlayVideo=!1,this.hasError=!1,this.errorText="\u53d1\u751f\u4e86\u672a\u77e5\u9519\u8bef\uff0c\u70b9\u51fb\u5207\u6362\u6a21\u5f0f",this.pendding=null,this.shouldShowInput=!1,this.skipEndTime=0,this.isLanguageSelectionOpened=!1,this.languageOpenListUn_=null,this.isBackToPlayMedia=!1,this.totalCount=20,this.scaled="",this.videoStyle={},this.needUserTouch=!1,this.errorContent="",this.timerShow=null,this.isFullscreen=!1,this.api=new s}onUserStateChange(t,e){var n,i;if(this._cachedLogo="auto"==this._logo?(null===(i=null===(n=this._userService.user)||void 0===n?void 0:n.token)||void 0===i?void 0:i.gid)?2==a.a.cinema?"./assets/images/player_logo_adult_vip.png":"./assets/images/player_logo_vip.png":2==a.a.cinema?"./assets/images/player_logo_adult.png":"./assets/images/player_logo.png":this._logo,!e){this.publicManager&&null!=this.api&&(this.publicManager.stopPlay(),this.api.showInfo(f.vipskipFormat,5,!1));var o=this.storageService.GetConfig();this.isJump=!(0==o.autoSkip),this.api.changeConfig&&this.api.changeConfig("autoSkip",this.isJump?1:0),this.api.backToPlay&&this.api.backToPlay()}}onServerInfoChange(t,e){e.status>-1&&(this.showPerfect=!(e.ismp4available||!this.mutable),this.serverCaption=e.info)}set mediaList(t){this.initMedia(t)}get hasBought(){return this._hasBought}set hasBought(t){t&&!this._hasBought&&this.publicManager&&this.api&&this.api.currentTime>0&&(this.publicManager.stopPlay(),this.api.showInfo(1==t?f.alreadyBought:f.highFormat,5,!1)),this._hasBought=t,this._hasBought&&(this.pauseList=[])}set serverInfo(t){this.onServerInfoChange(this._serverInfo,t),this._serverInfo=t}set needBought(t){this.onUserStateChange(this._needBought,t&&!this._hasBought),this._needBought=t}set logo(t){this._logo=t,this.needBought=this._needBought}get needBought(){return this._needBought}get logo(){return this._cachedLogo}ngOnDestroy(){this.dispose(),this.subscriptions.forEach(t=>t.unsubscribe?t.unsubscribe():t()),this.languageOpenListUn_&&this.languageOpenListUn_.unsubscribe(),null!=this.configBoxSubscript&&this.configBoxSubscript.unsubscribe()}getBackgroudImage(t){return t&&t.isImage?{"background-image":"url('"+t.src+"')","background-size":"100%","background-repeat":"no-repeat","background-position":"center"}:{}}get playerHeight(){return 0==this.customHeight?this.winWidth/this.windHeight<1?Math.floor(this.winWidth*this.containerRatio):this.windHeight+this.topPrefix:this.customHeight}get canPlayHls(){return h.isTouchDevice()}get canPlayRTMP(){return!1}ngAfterViewInit(){}ngOnChanges(t){var e;if(this.video&&((null===(e=this.video)||void 0===e?void 0:e.cid.startsWith("0,1,5"))||this.video.cid.startsWith("0,1,95"))&&(this.wideButton=!0),t.video&&t.video.currentValue&&t.video.currentValue.cid){if(this.isContinuousPlay=!1,t.video.currentValue.cid.startsWith("top"))return;t.video.currentValue.cid.startsWith("0,1,3")||t.video.currentValue.cid.startsWith("0,1,7")||this.autoStart||setTimeout(()=>{this.playerMediaListService.open()},1e3)}t.video&&t.video.previousValue&&(this.publicManager.reset(),this.isPlayingAds=!1,this.shouldChangePlayer=!0,this.api.isPlayingAds=!1,this.isBackToPlayMedia=!1)}ngOnInit(){this.reportDanmuReason=this.reportDanmuReasons[0].name,this.subscriptions.push(this._utility.GetOrCreateSubscript("change.player").subscribe(t=>{this._dnDialogService.close("coin-or-upgrade-to-skip-ad")}),this._guide.settingGuide.subscribe(t=>{this.playerSettingGuide=t})),this.isPlayerReady=!0,this.playerSelection=g.Original,this.mutable=!0,"auto"==this.playerMode&&(this.isFluence=!0),this.getUserPerference(),o.f.shouldUseNative=!0,o.f.shouldHandleMouse=!h.isIphoneDevice(),o.f.shouldUseFakeFullScreen=!1,o.f.useFakeFullScreenWhenNotPossible=!0,h.isTouchDevice()&&(this.touchDevice=o.f.isTouchDevice=!0),this.isIPhone=h.isIphoneDevice(),this.isChrome=h.isChrome(),a.a.app&&(this.mutable=!0),this.isPublicBlocked=!this._utility.canViewPublic,this.subscriptions.push(this.playerMediaListService.open$.subscribe(t=>{t?this.api.captureControls():this.api.releaseControls()}));var t=this.storageService.GetConfig();this.isJump=0!=t.autoSkip,this.autoStart=0!=t.autoStart,this.forbiddenFloatingPlayer=1==t.forbiddenFloatingPlayer,this.smallPlayerValid=!this.forbiddenFloatingPlayer,this.videoPlayerSettingsService.setPlayerSettings(t);const e=this._utility.isIphoneDevice();this.isLive||e||this._guide.getGuideCookie(0)}getUserPerference(){}setConfigOnSelection(){}startLoadMedia(t){this.loadMedia=t}reset(){this.publicManager.reset()}listenToIntersitial(){var t=0;if(this.pauseList&&this.api.invokePauseList(this.pauseList),this.api.subscript("play",()=>{this.isPlayingAds||this.publicManager.renew(),this.isPaused=!1}),this.api.subscript("pause",()=>{this.isPlayingAds||this.publicManager.pause(),this.isPaused=!0}),this.api.subscript("controlBarShow",t=>{this.isControlshow=!!t}),this.api.subscript("loadedmetadata",()=>{"loading"==this.api.getPlayMedia.title||this.isPlayingAds||(t=0,isNaN(this.api.totalTime)||this.publicManager.getTimeDefine(this.api.getPlayMedia.title,this.api.totalTime/1e3),this.cachePlaySecond&&(this.invokePlaySecond(this.cachePlaySecond),this.cachePlaySecond=null),this.publicManager.state==c.ShouldCancel&&this.publicManager.continue())}),this.api.subscript("play",()=>{this.hasError=!1,this.errorContent="",this.onPlay.emit()}),this.api.subscript("time",e=>{if(!this.isPlayingAds){var n=e.current/1e3;this.publicManager.needToShow(n),this.skipEndTime&&n>this.skipEndTime&&this.isJump&&this.canSkipEnds?(t||this.api.showInfo("\u5373\u5c06\u4e3a\u60a8\u8df3\u8fc7\u7247\u5c3e",5,!0),5==++t&&this.playNextVideo()):t=0}}),null==this.publicManager){this.publicManager=new l;var e=null,n=0;this.subscriptions.push(this.publicManager.eventList.subscribe(t=>{switch(this.api.intersitialHandler(t),t.event){case c.Timer:this.api.showInfo(f.secondFormat.replace("{second}",t.data.time),0,!0);break;case c.ShouldPlayAds:this.api.showInfo("",0,!1),e=this.api.getPlayMedia,n=this.api.currentTime,this.currentPlayingAds=this.loadMedia,this._utility.canViewPublic?this.currentPlayingAds.isImage?this.api.pause():this.api.playVideo([this.currentPlayingAds],!0):this.api.pause(),this._utility.Notify("video.playads",!0),this.isPlayingAds=!0,this.skipAfter=10;break;case c.ShouldBackToPlay:this._utility.Notify("video.playads",!1),this.isBackToPlayMedia=!0,(!this.shouldSkipAds&&!this.hasBought||this.isPlayingAds)&&null!=e&&(this.currentPlayingAds=this.loadMedia=null,this._utility.canViewPublic?(this.api.playVideo([e],!1),this.shouldPlaySeoncd=n):this.api.play(),this.isPlayingAds=!1,this.shouldChangePlayer=!0,this.api.isPlayingAds=!1,this.isBackToPlayMedia=!1),this.canSkipEnds=!0;break;case c.ShouldLoadAds:this.canSkipEnds=!1,this.isBackToPlayMedia=!1,this.shouldSkipAds||this.hasBought||this.isUserFilterAd?(this.publicManager.stopPlay(),this.hasState||(this.needBought?this.api.showInfo(1==this.hasBought?f.alreadyBought:f.highFormat,5,!1):(this.api.showInfo(f.vipskipFormat,5,!1),this._httpHelper.get(this._apiHelper.PUBLIC_ENDPOINT()+"/filter/a?s=1",!0).subscribe()))):this.startLoadMedia(t.data);break;case c.SkipTimer:this.skipAfter=t.data.time,this.leftSecond=t.data.left;break;case c.ShouldCancel:this.captions=[],e=null,n=0,this.loadMedia=null,this.isPlayingAds=!1}})),this.pendding&&(this.publicManager.invokeList(this.pendding.mediaList,this.pendding.startSecond,this.pendding.periodicSecond),this.pendding=null)}}muted(t){null!=t&&t.stopPropagation(),this.isMuted=!this.isMuted,this.api.muted(this.isMuted)}navigatetopublic(){this._utility.isIphoneDevice()?(this.api.play(),this.api.play()):o.f.openInNewWindow(this.currentPlayingAds.href)}checkIfNeedToggle(t){return 5!==t||this._userService.user.id?5===t&&this._userService.user.id&&0===this._userService.user.roleId?(this.isFullscreen&&this.fullScreenService.toggleFullScreen(),this._rechargeBoxService.changeDisplayStatus(!0),!1):(console.log(t),!0):(this.isFullscreen&&this.fullScreenService.toggleFullScreen(),this._userService.showLoginDialog(!0),!1)}showInfo(t,e,n){if((t.indexOf("\u8df3\u8fc7\u5e7f\u544a")>-1||t.indexOf("\u5df2\u8fc7\u6ee4\u5e7f\u544a")>-1)&&(this.captions=this.captions.filter(t=>!t.includes("\u540e\u64ad\u653e\u5e7f\u544a"))),t===this.captions[this.captions.length-1])return h.clearTimeout(this.infoTimeout),void(this.infoTimeout=h.setTimeout(()=>{this.captions=this.captions.filter(e=>e!==t)},1e3*e));""!=t?(n&&this.captions.length?this.captions[this.captions.length-1]=t:this.captions.push(t),e>0&&(this.infoTimeout=h.setTimeout(()=>{this.captions=this.captions.filter(e=>e!==t)},1e3*e))):this.infoTimeout=h.setTimeout(()=>{this.captions.shift()},0)}showVolume(t){var e=t.target;e&&(this.position.left=e.offsetLeft+2,this.position.top=e.offsetTop),null!=this.volumeTimer&&(clearTimeout(this.volumeTimer),this.volumeTimer=null),this.volumeTimer=setTimeout(()=>{this.isVolumeShow=!0,this.api.captureControls()},this.volumeTimeout)}keepVolume(){null!=this.volumeTimer&&(clearTimeout(this.volumeTimer),this.volumeTimer=null),this.isVolumeShow=!0}hideVolume(){null!=this.volumeTimer&&(clearTimeout(this.volumeTimer),this.volumeTimer=null),this.volumeTimer=setTimeout(()=>{this.isVolumeShow&&this.api&&this.api.releaseControls(),this.isVolumeShow=!1},this.volumeTimeout)}changeLanguage(t){this.language=t.title,this.onChangeLanguage.emit(t),this.api.releaseControls()}playNextVideo(){this.isContinuousPlay=!0,this.playNextCallback&&(console.debug("next video called"),this.playNextCallback(()=>{},()=>{this.api&&this.api.showInfo(f.alreadymax,10,!0),this.isContinuousPlay=!1}))}purchaseMedia(t){this.unlockCallback&&(this.isCurrentFullScreen&&this.showInfo("\u8bf7\u5148\u9000\u51fa\u5168\u5c4f",5,!1),this.unlockCallback(t))}skipAds(t){var e;this.isCurrentFullScreen&&this.fullScreenService.toggleFullScreen(),null!=t&&t.stopPropagation(),(null===(e=this.user)||void 0===e?void 0:e.id)?this._dnDialogService.open("coin-or-upgrade-to-skip-ad",{price:this.filterGold}):this._userService.showLoginDialog(!0)}filterAllAds(){this.api.showInfo(f.boughtVideo,5,!1),this.publicManager.stopPlay()}skipAd(){this.needBought?this.filterCallback&&(this._dnDialogService.close("coin-or-upgrade-to-skip-ad"),this.filterCallback(()=>{this.publicManager.cancel(),this.publicManager.stopPlay(),this.api.showInfo(f.boughtVideo.replace("{0}",""+this.filterGold),5,!1)},t=>{var e;(null===(e=this.user)||void 0===e?void 0:e.id)?this._toastService.showBlackToast("\u91d1\u5e01\u4e0d\u8db3\uff01"):this._userService.showLoginDialog(!0)})):this.filterAllAds()}initMedia(t){t&&(this.media=t.find(t=>!!t&&!t.isAd))}onWindowResize(){this.winWidth=window.innerWidth,this.windHeight=window.innerHeight}_onPlayerReady(){this.listenToIntersitial()}onPlayVideo(){this.mutable&&this.media.backup&&(this.shouldPlaySeoncd=this.isLive?0:this.api.currentTime,this.api.playVideo([this.media],!1),this.mediaJudge(),this.shouldChangePlayer=!0)}openOrHideConfig(){this.isopenOrHideConfig=!this.isopenOrHideConfig,this.isopenOrHideConfig?(this.api.captureControls(),this.configBoxSubscript=this._utility.openList(this.configBox.nativeElement,null,()=>{this.isopenOrHideConfig=!1,this.configBoxSubscript.unsubscribe(),this.api.releaseControls()})):(null!=this.configBoxSubscript&&this.configBoxSubscript.unsubscribe(),this.api.releaseControls()),this.closeGuide()}onMasterPlayParsed(t){if(t.levels.length>1){this.isMasterEnabled=!0;for(var e=0;e<t.levels.length;++e){let n=this.bitrates.findIndex(n=>n.title==t.levels[e].label);n>-1&&(this.bitrates[n].qualityIndex=t.levels[e].qualityIndex)}var n=this.bitrates.findIndex(e=>e.label===t.startLevel.label);this.playingMedia=this.bitrates[n],this.currentLevel={},this.currentPlayingLevel=n}else this.isMasterEnabled=!1}onSelectBitrate(t){if(console.log(t,this.isMasterEnabled),this.storageService.SetConfig({sharpness:t.bitrate}),this.isMasterEnabled&&!this.hasError)this.api.changeBitrate(t);else if(t&&t.path){this.shouldPlaySeoncd=this.isLive?0:this.api.currentTime;var e=this._httpHelper.uriSignature(t.path.result),n=Object.assign({},this.media);n.src=e,this.api.playVideo([n],!1)}this.switchCompleteText=this.isLine?"\u5df2\u5207\u6362\u5230"+t.label:"\u5df2\u5207\u6362\u5230"+t.label+"P",clearTimeout(this.switchingPromptTimeout),this.isSwitching=!0,this.switchingPromptTimeout=setTimeout(()=>{this.isSwitching=!1,this.isSwitchComplete=!0,this.switchingPromptTimeout=setTimeout(()=>{this.isSwitchComplete=!1},4e3)},9e3)}isMasterCompible(){return this._utility.canUseMaster}onLevelChanged(t){var e;-1==(null===(e=this.playingMedia)||void 0===e?void 0:e.qualityIndex)&&(this.currentPlayingLevel=t.level)}swapBackup(){if(this.media.backup){var t=this.media.src;this.media.src=this.media.backup,this.media.backup=t,this.media.isHls=".m3u8"==h.GetFileExtension(this.media.src)}}mediaJudge(){this.mutable&&!this.isPlayingAds&&(this.media.isHls?(this.isFluence=!1,this.streamTech=p.M3U8):(this.isFluence=!0,this.streamTech=p.MP4))}selectTian(){this.isJump=!this.isJump,this.storageService.SetConfig({autoSkip:this.isJump?1:0}),this.setConfigOnSelection()}toggleAutoStart(){this.autoStart=!this.autoStart,this.storageService.SetConfig({autoStart:this.autoStart?1:0})}canSelect(){var t,e,n,i;return"movie"!==(null===(t=this.video)||void 0===t?void 0:t.category)&&null!=(null===(e=this.video)||void 0===e?void 0:e.cid)&&"top"!==(null===(n=this.video)||void 0===n?void 0:n.cid)&&!(null===(i=this.video)||void 0===i?void 0:i.cid.startsWith("0,1,6,57"))&&!this.isLive}dispose(){this.api.dispose(),this.api=null}onPlayerReady(t){console.log("player ready 1"),this.api=new u,this.apiReady.emit(this.api),this.api.assignData(t,this),this.api.canViewPublic=this._utility.canViewPublic,this.subscriptions.push(t.getDefaultMedia().subscriptions.volumeChange.subscribe(t=>{this.isPlayingAds?this.adVolume=this.api.getVolume():this.volume=this.api.getVolume()})),this.subscriptions.push(t.getDefaultMedia().subscriptions.loadedMetadata.subscribe(()=>{this.activatedRoute.snapshot.queryParams.s||(this.autoStart||this.isContinuousPlay||this.isPlayingAds||this.shouldChangePlayer)&&this.needPlayVideo(),this.videoSuccessPlayerTimeout=o.f.setTimeout(()=>{h.isQQBrwoser()&&h.isIphoneDevice()?(this.needUserTouch=!1,this.publicManager.renew(),this.isVideoSuccessPlayed=!0):this.isVideoSuccessPlayed||(this.needUserTouch=!0,this.needBought&&this.publicManager.pause())},200),this.shouldChangePlayer&&(this.shouldChangePlayer=!1,this._utility.Notify("change.player",1))})),this.subscriptions.push(t.getDefaultMedia().subscriptions.play.subscribe(()=>{this.needUserTouch=!1,this.isVideoSuccessPlayed=!0,o.f.clearTimeout(this.videoSuccessPlayerTimeout),this.needBought&&this.publicManager.renew()})),this._onPlayerReady(),this.onVideoReady.emit(this.api)}showAds(t){this.api.triggerPlayAds(t)}needPlayVideo(){this.api.setVolume(this.media.isAd?100*this.adVolume:100*this.volume),this.media&&this.media.isHls&&(this.api.seek(this.shouldPlaySeoncd||0),this.shouldPlaySeoncd=0),this.shouldPlaySeoncd&&(this.api.seek(this.shouldPlaySeoncd),this.shouldPlaySeoncd=0),this.api.play(),this.mediaJudge()}seekVideo(){this.shouldPlayVideo=!this.api.getRef().state||this.api.getRef().state!=o.e.VG_PAUSED}seekedVideo(){this.shouldPlayVideo&&this.api.play()}errorHandler(t){if(!this.isPlayingAds){var e=0;switch(t&&t.target&&t.target.error&&(e=t.target.error.code),e){case 3:this.retry();break;default:this.errorContent="\u672a\u77e5\u9519\u8bef\uff0c\u8bf7\u8054\u7cfb\u5ba2\u670d",this.hasError=!0}}}timeUpdate(t){}invokeInterstitial(t,e,n){this.publicManager?this.publicManager.invokeList(t,e,n):this.pendding={mediaList:t,startsecond:e,periodicSecond:n}}set pauseList(t){window.dispatchEvent(new CustomEvent("invokePauseAds",{detail:t}))}invokePauseList(t){this.pauseList=t}invokePlaySecond(t){if(this.api&&0!=this.api.eventAttached){if(!this.isJump&&t.info)return;this.shouldPlaySeoncd=t.start||0}else this.cachePlaySecond=t;this.skipEndTime=t.end}openLanguageList(){this.isLanguageSelectionOpened=!this.isLanguageSelectionOpened,this.isLanguageSelectionOpened?(this.api.captureControls(),this.languageOpenListUn_=this._utility.openList(this.languageBox.nativeElement,null,()=>{this.isLanguageSelectionOpened=!1,this.languageOpenListUn_.unsubscribe(),this.api.releaseControls()})):(this.languageOpenListUn_&&this.languageOpenListUn_.unsubscribe(),this.api.releaseControls())}onPlayNextVideo(t){this.isContinuousPlay=!0,!this.isPlayingAds&&null==this.publicManager||t||this.isBackToPlayMedia||(null!=this.publicManager&&this.publicManager.reset(),null!=this.api&&this.api.showInfo("",0,!1)),this.isBackToPlayMedia=!1,this.isMuted=!1}triggerCounter(t,e){this.totalCount=20*t,this.leftSecond=20*t,this.publicManager.startCountDown(20*t,20,e)}scaleVideo(t){var e=new ri;this.videoStyle=e.getResult(this.api.getVideoMeta,t,this.playerHeight,this.containerRatio),this.scaled=e.getScaled()}toPlay(){if(null!=this.api)try{this.api.play(),this.api.play()}catch(t){}this.hasError=!1}retry(){this.shouldPlaySeoncd=this.api.currentTime+5,this.hasError=!1,this.api.dispose(),this.publicManager.dispose(),this.onErrorHandler.emit(!0)}toggleDanmu(){this.danmuFacade.toggleDanmu(null)}reportDanmu(t){this.danmuService.reportDanmu(t,this.reportDanmuReason).subscribe(()=>{this._dnDialogService.close("reportDanmu"),this._toastService.showBlackToast("\u4e3e\u62a5\u6210\u529f\uff01")})}onInputBlur(){this.api.releaseControls()}onInputFocus(){this.api.captureControls()}releaseControlHandler(t){this.api.releaseControls()}toggleMediaList(){this.playerMediaListService.toggle()}showRechargeBox(){this.isFullscreen&&this.fullScreenService.toggleFullScreen(),this._dnDialogService.close("media-unavailable"),this._dnDialogService.close("purchase-required"),this._dnDialogService.close("coin-or-upgrade-to-skip-ad"),this._dnDialogService.close("vip-only"),this._rechargeBoxService.changeDisplayStatus(!0)}closeGuide(){this.playerSettingGuide&&(this._guide.setGuideCookie(0),this._guide.closeGuideCover(!0,"setting"),this.playerSettingGuide=!1)}closeSmallPlayer(){this.onCloseSmallPlayer.emit()}toggleFloatingPlayer(){this.forbiddenFloatingPlayer=!this.forbiddenFloatingPlayer,this.storageService.SetConfig({forbiddenFloatingPlayer:this.forbiddenFloatingPlayer?1:0});var t=this.storageService.GetConfig();this.videoPlayerSettingsService.setPlayerSettings(t)}hlsErrorHandler(t){this.showInfo("\u5f53\u524d\u89c6\u9891\u65e0\u6cd5\u64ad\u653e",5,!0),this.errorContent="\u7f51\u7edc\u9519\u8bef\uff0c\u5f53\u524d\u89c6\u9891\u65e0\u6cd5\u64ad\u653e",this.hasError=!0}fullscreenStatusHandler(t){this.isFullscreen=t,this.danmuFacade.setFullScreen(t),clearTimeout(this.timerShow),t?this.timerShow=setTimeout(()=>{this.shouldShowInput=!0},50):this.shouldShowInput=!1}adsFullscreenClick(t){t.preventDefault(),t.stopPropagation()}}return t.\u0275fac=function(e){return new(e||t)(i.Pb(v.a),i.Pb(m.a),i.Pb(C.a),i.Pb(y.a),i.Pb(_.a),i.Pb(x.a),i.Pb(w.a),i.Pb(O.a),i.Pb(M.a),i.Pb(T.a),i.Pb(k.a),i.Pb(L.a),i.Pb(S.a),i.Pb(I.a),i.Pb(b.a),i.Pb(P.a))},t.\u0275cmp=i.Jb({type:t,selectors:[["dn-videoplayer"]],viewQuery:function(t,e){var n;1&t&&(i.Uc(je,!0),i.Uc(ze,!0)),2&t&&(i.yc(n=i.ec())&&(e.configBox=n.first),i.yc(n=i.ec())&&(e.languageBox=n.first))},hostBindings:function(t,e){1&t&&i.dc("resize",(function(t){return e.onWindowResize()}),!1,i.Bc)},inputs:{isFloatPlayer:"isFloatPlayer",started:"started",poster:"poster",user:"user",newMediaKey:"newMediaKey",showNextButton:"showNextButton",language:"language",languageList:"languageList",shouldSkipAds:"shouldSkipAds",playingMedia:"playingMedia",mediaList:"mediaList",video:"video",topPrefix:"topPrefix",customHeight:"customHeight",isloadDefault:"isloadDefault",filterGold:"filterGold",unlockGold:"unlockGold",filterCallback:"filterCallback",unlockCallback:"unlockCallback",playNextCallback:"playNextCallback",isPlayRatio:"isPlayRatio",previewFormat:"previewFormat",playerMode:"playerMode",playlist:"playlist",playlistType:"playlistType",showQuantitySelect:"showQuantitySelect",mediaTitle:"mediaTitle",isNewsPlayer:"isNewsPlayer",isLive:"isLive",isUserFilterAd:"isUserFilterAd",hasBought:"hasBought",serverInfo:"serverInfo",needBought:"needBought",logo:"logo",bitrates:"bitrates",isLine:"isLine",fromSpace:"fromSpace",fromActivity:"fromActivity",isVertical:"isVertical",isMuted:"isMuted"},outputs:{apiReady:"apiReady",onCloseSmallPlayer:"onCloseSmallPlayer",onVideoReady:"onVideoReady",onErrorHandler:"onErrorHandler",onChangeLanguage:"onChangeLanguage",onPlay:"onPlay"},features:[i.Ab([]),i.zb()],decls:9,vars:12,consts:[["cdkDrag","","cdkDragHandle","","cdkDragBoundary","dn-videoplayer",1,"video-container",3,"ngClass","cdkDragDisabled"],[1,"video-header"],["class","caption",4,"ngIf"],["class","video-box",3,"ngClass",4,"ngIf"],["class","video-box",3,"height",4,"ngIf"],[1,"video-footer"],[4,"ngIf"],[1,"caption"],[1,"video-box",3,"ngClass"],["id","main-player",3,"ngClass","onPlayerReady",4,"ngIf"],["id","main-player",3,"ngClass","onPlayerReady"],["class","floating-player-controls",4,"ngIf"],["class","needTouch",3,"ngClass","click",4,"ngIf"],[3,"ngClass","shouldLoad","onShowPauseAds"],[1,"caption",3,"ngClass"],["class","inner",3,"innerHtml",4,"ngFor","ngForOf"],["class","publicbox",3,"ngClass","ngStyle","click",4,"ngIf"],[3,"logo","paused","isPlayingAds","isFloatPlayer","isLive","fromActivity","isFullscreen",4,"ngIf"],[3,"isPlayingAds","ngStyle"],["class","player-title-bar",3,"vgAutohide","vgAutohideTime",4,"ngIf"],["class","bg-overlayer",3,"vgAutohide","vgAutohideTime","ngClass",4,"ngIf"],["id","reportDanmu",1,"dn-dialog-background",2,"position","relative",3,"parent"],["id","player-message-dialog",1,"dn-dialog-background"],["id","coin-or-upgrade-to-skip-ad",1,"dn-dialog-background"],["id","video_player","preload","auto","controlsList","nodownload","autobuffer","","webkit-playsinline","webkit-playsinline","playsinline","playsinline","x-webkit-airplay","allow",3,"muted","vgMedia","vgHls","ngStyle","poster","ngClass","error","onHlsError","onGetBitrates","onLevelChanged"],["myMedia","","vgHls","vgHls"],[3,"playlist","playlistType","isWide","newMediaKey",4,"ngIf"],[3,"innerPlayer",4,"ngIf"],[1,"floating-player-controls"],[1,"control-item"],["class","close-small-player-button",3,"click",4,"ngIf"],[1,"close-small-player-button",3,"click"],[1,"iconfont","iconguanbi"],[1,"needTouch",3,"ngClass","click"],[1,"inner",3,"innerHtml"],[1,"publicbox",3,"ngClass","ngStyle","click"],[1,"control-list","pull-right","d-flex"],["class","control-item",4,"ngIf"],[1,"control-item","none",2,"margin-right","0","border","none"],[1,"control-fix","hover",3,"click"],["class","ismuted control-item",3,"click",4,"ngIf"],["class","block-center",4,"ngIf"],[1,"tips-text"],[1,"ads-fullscreen",3,"click"],[1,"control-item",3,"isFullscreen","fullscreenStatus"],[1,"control-fix","text-white"],[1,"second"],[1,"ismuted","control-item",3,"click"],["class","iconfont iconjingyin",4,"ngIf"],["class","iconfont iconyinliang",4,"ngIf"],[1,"iconfont","iconjingyin"],[1,"iconfont","iconyinliang"],[1,"block-center"],[3,"logo","paused","isPlayingAds","isFloatPlayer","isLive","fromActivity","isFullscreen"],[1,"player-title-bar",3,"vgAutohide","vgAutohideTime"],[1,"player-title",3,"ngClass"],["class","ml-3",4,"ngIf"],[1,"ml-3"],[1,"bg-overlayer",3,"vgAutohide","vgAutohideTime","ngClass"],[1,"stick-bottom"],[1,"switching-prompt",3,"ngClass"],[3,"previewFormat"],["class","control-left",4,"ngIf"],["class","flex-1 onfull",4,"ngIf"],[1,"controll-right"],["class","control-item",3,"bitrates","bitrateSelected","playingLevel","gold","user","isLine","filterClick","onBitrateChange",4,"ngIf"],["class","control-item l","style","margin-right: 20px;",3,"ngClass","click",4,"ngIf"],["class","control-item",3,"customCallback","isPlayingAds","releaseControl",4,"ngIf"],["class","control-item",3,"ngClass","mouseenter","mouseleave",4,"ngIf"],["class","hover-item",3,"ngClass","left","mouseenter","mouseleave",4,"ngIf"],["class","control-item config","style","position: relative;",3,"ngClass",4,"ngIf"],[1,"control-left"],["class","play-next control-item",3,"click",4,"ngIf"],[1,"control-item","airplay"],["class","timeline",4,"ngIf"],[3,"click",4,"ngIf"],[1,"play-next","control-item",3,"click"],[1,"iconfont","iconxiayiji"],[1,"timeline"],["vgProperty","current","vgFormat","hh:mm:ss",1,"control-item"],["class","splash",4,"ngIf"],["class","control-item","vgProperty","total","vgFormat","hh:mm:ss",4,"ngIf"],[1,"splash"],["vgProperty","total","vgFormat","hh:mm:ss",1,"control-item"],["vgProperty","current","vgFormat","mm:ss",1,"control-item",2,"width","42px"],["class","control-item","vgProperty","total","vgFormat","mm:ss","style","width: 42px;",4,"ngIf"],["vgProperty","total","vgFormat","mm:ss",1,"control-item",2,"width","42px"],[3,"click"],["toggleMediaListbutton",""],[1,"flex-1","onfull"],[1,"transparent",3,"onBlur","onFocus","onClose","api"],[1,"control-item",3,"bitrates","bitrateSelected","playingLevel","gold","user","isLine","filterClick","onBitrateChange"],[1,"control-item","l",2,"margin-right","20px",3,"ngClass","click"],["languageBox",""],[1,"openList",3,"ngClass"],["class","item",3,"click",4,"ngFor","ngForOf"],[1,"item",3,"click"],[1,"control-item",3,"customCallback","isPlayingAds","releaseControl"],[1,"control-item",3,"ngClass","mouseenter","mouseleave"],[1,"hover-item",3,"ngClass","mouseenter","mouseleave"],[1,"cc"],[1,"control-item","config",2,"position","relative",3,"ngClass"],["configBox",""],[1,"guide-tips",3,"ngClass","click"],[1,"iconfont","iconshezhi","setting-icon",3,"ngClass","click"],[1,"openList","open-black","setting",3,"ngClass"],[1,"box",2,"width","208px"],[1,"b-t"],[1,"b-c","d-flex","justify-content-between"],[1,"b-i","select",3,"ngClass","click"],[1,"b-i",3,"ngClass","click"],["class","box",4,"ngIf"],["class","box",3,"ngClass",4,"ngIf"],[1,"box"],[1,"box-data","d-flex","align-items-center","justify-content-between",3,"click"],[1,"b-i"],[2,"margin-right","5px",3,"status"],[1,"box",3,"ngClass"],[1,"mt-2","mb-2"],[4,"ngFor","ngForOf"],[3,"dialog"],[1,"dn-dialog-buttons"],[1,"dn-button","dn-button-blue",3,"click"],[1,"rad"],["type","radio","name","report-danmu-reasons",3,"value","ngModel","ngModelChange"],[2,"margin-top","75px","font-size","16px","text-align","center"],[3,"buttonText","dialog"],[1,"title","text-center"],[1,"message","text-center"],[1,"buttons-gap"],[1,"dn-button","btn-cancel",3,"click"],[3,"playlist","playlistType","isWide","newMediaKey"],[3,"innerPlayer"],[1,"bottom-scrub-bar"],[1,"pure"],["class","video-activity-cover",3,"ngClass",4,"ngIf"],[1,"video-activity-cover",3,"ngClass"],[1,"control-item","fullscreen-btn",3,"isFullscreen","fullscreenStatus"],[1,"video-box"],[1,"activity-video-danmu"],["class","flex-1 onlyWindowActivity",4,"ngIf"],[1,"flex-1","onlyWindowActivity"]],template:function(t,e){1&t&&(i.Vb(0,"div",0),i.Vb(1,"div",1),i.Lc(2,He,2,1,"div",2),i.Ub(),i.Vb(3,"div",1),i.Lc(4,Ge,2,1,"div",2),i.Ub(),i.Lc(5,ti,2,5,"div",3),i.Lc(6,ei,3,2,"div",4),i.Qb(7,"div",5),i.Ub(),i.Lc(8,ii,3,1,"ng-container",6)),2&t&&(i.nc("ngClass",i.vc(7,oi,e.isIPhone,!e.isFloatPlayer,e.isFloatPlayer,e.fromActivity&&!e.isFullscreen))("cdkDragDisabled",!e.isFloatPlayer),i.Bb(2),i.nc("ngIf",e.serverCaption),i.Bb(2),i.nc("ngIf",e.hasError),i.Bb(1),i.nc("ngIf",e.isPlayerReady&&0==e.playerSelection),i.Bb(1),i.nc("ngIf",e.isPlayerReady&&1==e.playerSelection),i.Bb(2),i.nc("ngIf",e.fromActivity&&!e.isFullscreen))},directives:[A.a,A.b,N.l,N.n,B.a,E,N.m,ht,N.o,dt,ut.a,gt.a,ft,mt,yt,At,Bt,Ft,zt,Ht,qt,Yt,Zt.a,de,ye,_e,ke,Se.a,Ie.a,Le.o,Le.a,Le.k,Le.m,Te.a,Re,Fe.a],styles:['.control-left[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}.right-block[_ngcontent-%COMP%]{color:#fff!important;background-color:#00c0ff;margin:0;font-size:20px;position:absolute;right:3.7em;bottom:.8em;display:block;padding:.5em .7em .5em 1em;text-align:center;border-radius:3px;box-shadow:2px 2px 1px 0 rgba(0,0,0,.34)}.right-block[_ngcontent-%COMP%]   .iconfont[_ngcontent-%COMP%]{font-size:20px;position:relative;top:2px}.ads-fullscreen[_ngcontent-%COMP%]{position:absolute;bottom:1.25em;right:0;padding:.5em .3em .5em 1em;z-index:10000000000}.video-container[_ngcontent-%COMP%]{background-color:#000;position:relative;pointer-events:auto}.video-container.trans-bg[_ngcontent-%COMP%], .video-container.trans-bg[_ngcontent-%COMP%]   vg-player[_ngcontent-%COMP%]{background-color:transparent!important}.video-container.small[_ngcontent-%COMP%]{position:absolute;bottom:28px;right:95px;width:500px;height:282px}.video-container[_ngcontent-%COMP%]   .video-box[_ngcontent-%COMP%]{width:100%}.video-container[_ngcontent-%COMP%]   .video-box[_ngcontent-%COMP%]   .caption[_ngcontent-%COMP%]{font-size:16px;position:absolute;color:#fec1a1;text-align:right;right:1em;top:1em;visibility:hidden;pointer-events:none;max-width:0;-webkit-transition:max-width 1s;transition:max-width 1s;z-index:204;overflow:hidden}.video-container[_ngcontent-%COMP%]   .video-box[_ngcontent-%COMP%]   .caption.show[_ngcontent-%COMP%]{max-width:20em;visibility:visible}.video-container[_ngcontent-%COMP%]   .video-box[_ngcontent-%COMP%]   .caption[_ngcontent-%COMP%]   .inner[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.74902);padding:.2em .5em;margin-bottom:.2em;word-break:normal;white-space:nowrap;text-shadow:2px 1px 4px #434343}.video-container[_ngcontent-%COMP%]   .video-box[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:100%;height:100%}.video-container[_ngcontent-%COMP%]   .video-box[_ngcontent-%COMP%]   video.window-activity-video[_ngcontent-%COMP%]{margin:auto}.video-container[_ngcontent-%COMP%]   .video-box[_ngcontent-%COMP%]   vg-scrub-bar[_ngcontent-%COMP%]{background-color:transparent;margin:0;width:98%;padding:1em 0;box-sizing:border-box}.video-container[_ngcontent-%COMP%]   .video-box[_ngcontent-%COMP%]   vg-scrub-bar.tiny[_ngcontent-%COMP%]{height:5px!important;box-sizing:content-box;bottom:-5.5em!important}.video-container[_ngcontent-%COMP%]   .video-box[_ngcontent-%COMP%]   vg-scrub-bar[_ngcontent-%COMP%], .video-container[_ngcontent-%COMP%]   .video-box[_ngcontent-%COMP%]   vg-scrub-bar-buffering-time[_ngcontent-%COMP%], .video-container[_ngcontent-%COMP%]   .video-box[_ngcontent-%COMP%]   vg-scrub-bar-current-time[_ngcontent-%COMP%]{height:2px}.video-container[_ngcontent-%COMP%]   .video-box[_ngcontent-%COMP%]   vg-scrub-bar-buffering-time[_ngcontent-%COMP%], .video-container[_ngcontent-%COMP%]   .video-box[_ngcontent-%COMP%]   vg-scrub-bar-current-time[_ngcontent-%COMP%]{bottom:0}.video-container[_ngcontent-%COMP%]   .video-box[_ngcontent-%COMP%]   vg-controls[_ngcontent-%COMP%]{height:80px;font-size:16px;background-color:transparent!important}.video-container[_ngcontent-%COMP%]   .video-box[_ngcontent-%COMP%]   vg-controls.hide[_ngcontent-%COMP%]{bottom:-5.5em}.video-container[_ngcontent-%COMP%]   .video-box[_ngcontent-%COMP%]   vg-scrub-bar-current-time[_ngcontent-%COMP%]{background-color:hsla(0,0%,45.5%,.58)}.video-container[_ngcontent-%COMP%]   .stick-bottom[_ngcontent-%COMP%]{position:absolute;height:.5em;width:100%;bottom:96px;padding:0 1%;-webkit-transition:initial;transition:initial}.video-container[_ngcontent-%COMP%]   .stick-bottom[_ngcontent-%COMP%]   vg-time-display[_ngcontent-%COMP%]{height:2em;line-height:2em;display:inline-block;text-align:right;width:auto;min-width:40px}.video-container.iphone[_ngcontent-%COMP%]   vg-scrub-bar[_ngcontent-%COMP%]{display:block}.video-container.iphone[_ngcontent-%COMP%]   vg-scrub-bar.tiny[_ngcontent-%COMP%]{margin:0!important;height:5px!important}.video-container[_ngcontent-%COMP%]   .publicplay[_ngcontent-%COMP%]   vg-controls[_ngcontent-%COMP%]{display:none}.bg-overlayer[_ngcontent-%COMP%]{background:-webkit-gradient(linear,left top,left bottom,from(transparent),to(#000));background:linear-gradient(180deg,transparent,#000);display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;z-index:4445}.bg-overlayer.guide[_ngcontent-%COMP%]{z-index:auto!important}vg-controls.sticky[_ngcontent-%COMP%]{bottom:0!important}.control-item[_ngcontent-%COMP%]{margin-right:10px;color:hsla(0,0%,100%,.7)}.control-item.active[_ngcontent-%COMP%], .control-item[_ngcontent-%COMP%]:not(vg-playback-button):hover{color:#fff}.l[_ngcontent-%COMP%]   .openList[_ngcontent-%COMP%]{width:6em;text-align:center;margin-left:-2em}.l[_ngcontent-%COMP%]   .openList[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{padding:.5em 0}.text-fixed[_ngcontent-%COMP%]{margin:0 -.3em}.video-loader[_ngcontent-%COMP%]{width:1px;height:1px}.publicbox[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;z-index:5003;cursor:pointer}.publicbox.inFloat[_ngcontent-%COMP%]{z-index:5013}.publicbox[_ngcontent-%COMP%]   .control-list[_ngcontent-%COMP%]{color:#fff;background-color:rgba(0,0,0,.74902);padding-left:.2em;margin:1.2em 1em 0 0;font-size:15px}.publicbox[_ngcontent-%COMP%]   .control-item[_ngcontent-%COMP%]{margin:0;padding:.6em 1.5em .1em .5em}.publicbox[_ngcontent-%COMP%]   .control-item.none[_ngcontent-%COMP%]{border-right:none;margin-right:1em;padding-right:.7em}.publicbox[_ngcontent-%COMP%]   .control-item.ismuted[_ngcontent-%COMP%]{padding-top:0;position:relative;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;height:34px;padding-right:.8em}.publicbox[_ngcontent-%COMP%]   .control-item.ismuted[_ngcontent-%COMP%]   .iconfont[_ngcontent-%COMP%]{height:34px}.publicbox[_ngcontent-%COMP%]   .control-item.cross[_ngcontent-%COMP%]:before{-webkit-transform:rotate(119deg);transform:rotate(119deg)}.publicbox[_ngcontent-%COMP%]   .control-item.cross[_ngcontent-%COMP%]:after, .publicbox[_ngcontent-%COMP%]   .control-item.cross[_ngcontent-%COMP%]:before{content:" ";position:absolute;width:2px;height:130%;background-color:#fff;top:-.3em;left:1.5em}.publicbox[_ngcontent-%COMP%]   .control-item.cross[_ngcontent-%COMP%]:after{-webkit-transform:rotate(57deg);transform:rotate(57deg)}.publicbox[_ngcontent-%COMP%]   .control-fix[_ngcontent-%COMP%]{position:relative;top:-.2em;padding-right:.3em;margin:0 -.8em 0 0;color:#fec1a1}.publicbox[_ngcontent-%COMP%]   .control-fix.none[_ngcontent-%COMP%]{border-right:none}.publicbox[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{width:1px;height:100%}.publicbox[_ngcontent-%COMP%]   .tips-text[_ngcontent-%COMP%]{font-size:12px;color:#fff;opacity:.5;position:absolute;top:8px;left:8px;text-shadow:2px 2px #000}.splash[_ngcontent-%COMP%]{color:hsla(0,0%,100%,.7);font-size:12px;margin-left:5px;margin-right:5px;display:inline-block;position:relative;top:-.1em}.hover-item[_ngcontent-%COMP%]{position:absolute;background-color:transparent;box-sizing:content-box;z-index:10000;bottom:3.9em!important}.hover-item[_ngcontent-%COMP%], .hover-item[_ngcontent-%COMP%]   .cc[_ngcontent-%COMP%]{max-height:0;overflow:hidden;-webkit-transition:max-height .2s;transition:max-height .2s}.hover-item[_ngcontent-%COMP%]   .cc[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.67);position:relative;bottom:0}.hover-item.show[_ngcontent-%COMP%]{padding-bottom:.5em}.hover-item.show[_ngcontent-%COMP%], .hover-item.show[_ngcontent-%COMP%]   .cc[_ngcontent-%COMP%]{max-height:10.5em}.controll-right[_ngcontent-%COMP%]{margin-left:auto;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}.controll-right[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:80px;border:none;background-color:transparent;color:hsla(0,0%,100%,.7);outline:none!important}.controll-right[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#fff}.control-left[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:80px;border:none;background-color:transparent;color:hsla(0,0%,100%,.7);margin-left:20px;outline:none!important}.control-left[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#fff}.cleartop[_ngcontent-%COMP%]{bottom:6em;background-color:rgba(0,0,0,.67);border-radius:.5em;height:10.5em;max-height:0;-webkit-transition:max-height .2s;transition:max-height .2s;overflow:hidden}.cleartop.show[_ngcontent-%COMP%]{max-height:10.5em}.cleartop[_ngcontent-%COMP%]{display:inline-block;top:-4px;font-size:14px}.cleartop[_ngcontent-%COMP%], vg-fullscreen.control-item[_ngcontent-%COMP%]{position:relative}vg-time-display.control-item[_ngcontent-%COMP%]{margin-right:0}vg-play-pause.control-item[_ngcontent-%COMP%]{margin-left:1em}vg-playback-button.control-item[_ngcontent-%COMP%]{font-size:16px;margin-top:0}.play-next[_ngcontent-%COMP%]{min-width:60px;text-align:center;cursor:pointer;position:relative}.iconxiayiji[_ngcontent-%COMP%]{margin:0 auto}.stick-top[_ngcontent-%COMP%]{position:relative;top:3em}.second[_ngcontent-%COMP%]{font-size:14px}.second[_ngcontent-%COMP%]:after{content:"";display:block;width:1px;height:16px;background-color:#aaa;opacity:.7;position:absolute;top:2px;right:-7px}.gold[_ngcontent-%COMP%]{color:#ffc000;padding:0 .1em;font-size:14px}.control-item[_ngcontent-%COMP%]{cursor:pointer}.pull-right[_ngcontent-%COMP%]{float:right!important}.config[_ngcontent-%COMP%]   .iconfont[_ngcontent-%COMP%]{width:52px;height:69px;font-size:32px;padding:10px 10px 11px}.player-selection[_ngcontent-%COMP%]{position:absolute;right:0;z-index:500;color:#fff;font-size:16px;padding:.5em 1.2em .2em .2em;cursor:pointer;top:-2em;-webkit-transition:top .5s;transition:top .5s;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.player-selection.gray[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]{background-color:#131111}.player-selection.isshow[_ngcontent-%COMP%]{top:0}.player-selection[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]{background-color:#00c0ff;display:inline-block;width:2em;height:.8em;margin:0 .5em;box-sizing:content-box;position:relative;top:.05em;border-radius:.5em}.player-selection[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]{position:absolute;width:1.3em;height:1.3em;border-radius:50%;background-color:#fff;top:-.25em;left:-.2em;-webkit-transition:left .5s;transition:left .5s}.player-selection.second[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]{left:.8em}.video-header[_ngcontent-%COMP%]   .caption[_ngcontent-%COMP%]{color:#f00000;text-align:center;position:absolute;z-index:500;left:50%;font-size:20px;margin-left:-1em;margin-top:.1em;-webkit-transform:translateX(-50%);transform:translateX(-50%)}.box[_ngcontent-%COMP%]{padding:.5em .5em 1em}.box[_ngcontent-%COMP%], .box[_ngcontent-%COMP%]   .b-t[_ngcontent-%COMP%]{color:hsla(0,0%,100%,.7);font-size:16px}.box[_ngcontent-%COMP%]   .b-t[_ngcontent-%COMP%]{padding:.5em 0}.box[_ngcontent-%COMP%]   .b-i[_ngcontent-%COMP%]{display:inline-block;min-width:3em;text-align:center;cursor:pointer}.box[_ngcontent-%COMP%]   .b-i.select[_ngcontent-%COMP%]{background-color:#00c0ff;color:#fff}.l[_ngcontent-%COMP%]{padding:1em}.switch-caption[_ngcontent-%COMP%]{position:relative;top:-.2em;left:.1em}.box-data[_ngcontent-%COMP%]{position:relative;overflow:hidden}vg-player.fake-fullscreen[_ngcontent-%COMP%]{position:fixed;width:100%;height:100%;left:0;z-index:100000;top:0}.progress[_ngcontent-%COMP%]{height:5px;background-color:#e3e300;-webkit-transition:width .5s;transition:width .5s;border-radius:0}.needTouch[_ngcontent-%COMP%], .progress[_ngcontent-%COMP%]{bottom:0;position:absolute}.needTouch[_ngcontent-%COMP%]{color:#fff;cursor:pointer;background-color:rgba(51,51,51,.2);background-size:contain;background-position:50%;width:100%;height:100%;z-index:4445}.needTouch.inFloat[_ngcontent-%COMP%]{z-index:5010}.needTouch[_ngcontent-%COMP%]:after{content:"\\e66b";font-family:iconfont!important;font-size:120px;display:block;position:absolute;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.needTouch[_ngcontent-%COMP%]   .c[_ngcontent-%COMP%]{color:#fff;text-align:center;position:absolute;width:100%;top:8em;color:red;font-size:20px}vg-pause-ads.pauseInFloat[_ngcontent-%COMP%]{z-index:5010}vg-scrub-bar[_ngcontent-%COMP%]:hover   vg-scrub-bar-buffering-time[_ngcontent-%COMP%], vg-scrub-bar[_ngcontent-%COMP%]:hover   vg-scrub-bar-current-time[_ngcontent-%COMP%]{height:7px!important}.input-section[_ngcontent-%COMP%]{width:370px;position:absolute;left:50%;bottom:0;-webkit-transform:translateX(-50%);transform:translateX(-50%);bottom:.5em;z-index:999}.danmu-toggler[_ngcontent-%COMP%]{color:#222;float:left;margin-top:2px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;padding:.1em .5em;border:1px solid #ddd;background-color:#f2f2f2;border-radius:3px;margin-right:1em}.danmu-toggler.closed[_ngcontent-%COMP%]{color:#fff;background-color:transparent}.block-center[_ngcontent-%COMP%]{position:absolute;width:263px;background-color:#000;color:#fff;font-size:16px;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);padding:1em}.open-black[_ngcontent-%COMP%]{right:-2.2em;bottom:5em}.video-container[_ngcontent-%COMP%]   .video-box[_ngcontent-%COMP%]   .player-title-bar[_ngcontent-%COMP%]{width:100%!important;height:50px!important;position:absolute;top:12px;padding:0 24px;-webkit-transition:all .4s linear;transition:all .4s linear;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}.video-container[_ngcontent-%COMP%]   .video-box[_ngcontent-%COMP%]   .player-title-bar.hide[_ngcontent-%COMP%]{top:-50px}.video-container[_ngcontent-%COMP%]   .video-box[_ngcontent-%COMP%]   .player-title[_ngcontent-%COMP%]{font-size:22px;font-weight:600;color:#fff;text-shadow:2px 2px 2px #444;margin-left:54px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.video-container[_ngcontent-%COMP%]   .switching-prompt[_ngcontent-%COMP%]{padding:5px;background-color:rgba(0,0,0,.5);position:absolute;font-size:16px;left:15px;bottom:16px;z-index:499;opacity:0;color:hsla(0,0%,100%,.7);-webkit-transition:opacity .2s ease-in-out;transition:opacity .2s ease-in-out}.video-container[_ngcontent-%COMP%]   .switching-prompt.show[_ngcontent-%COMP%]{opacity:1}.video-container.fixed-player[_ngcontent-%COMP%]{-webkit-transform:unset!important;transform:unset!important}.guide-tips[_ngcontent-%COMP%]{background-image:url(/assets/images/guide-player-setting.png);width:326px;height:208px;position:absolute;top:-149px;left:-269px;z-index:5001;display:none}.guide-tips.guide[_ngcontent-%COMP%]{display:block}.floating-player-controls[_ngcontent-%COMP%]{opacity:0;z-index:5010;position:absolute;width:100%;height:100%}.floating-player-controls[_ngcontent-%COMP%]   .control-item[_ngcontent-%COMP%]{position:absolute;left:17px;bottom:18px;-webkit-transform:translate(-50%);transform:translate(-50%)}.floating-player-controls[_ngcontent-%COMP%]   .close-small-player-button[_ngcontent-%COMP%]{z-index:5019;position:absolute;top:10px;right:10px;cursor:pointer;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;width:29px;height:26px}.floating-player-controls[_ngcontent-%COMP%]   .close-small-player-button[_ngcontent-%COMP%]   .iconguanbi[_ngcontent-%COMP%]{font-size:15px}.floating-player-controls[_ngcontent-%COMP%]   .close-small-player-button[_ngcontent-%COMP%]:hover{color:#fff}.video-box[_ngcontent-%COMP%]:hover   .floating-player-controls[_ngcontent-%COMP%]{opacity:1}.video-box.spaceStyle[_ngcontent-%COMP%]{height:344px!important}.bottom-scrub-bar[_ngcontent-%COMP%]{position:absolute;z-index:4445;bottom:15px!important;width:100%;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center}.bottom-scrub-bar[_ngcontent-%COMP%]   vg-scrub-bar[_ngcontent-%COMP%]{width:95%!important;opacity:1!important}.video-activity-cover[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0;width:1070px;height:601.875px;margin:auto}.video-activity-cover.vertical[_ngcontent-%COMP%]{width:368.4375px;height:655px}.video-activity-cover[_ngcontent-%COMP%]   .fullscreen-btn[_ngcontent-%COMP%]{position:absolute;z-index:4446;bottom:5px;right:0;text-shadow:1px 1px 4px #888}@media (max-width:1439px){.video-box.vertical[_ngcontent-%COMP%]{height:530px}video.window-activity-video[_ngcontent-%COMP%]{width:500px!important}video.window-activity-video.vertical[_ngcontent-%COMP%]{width:unset!important;height:480px!important}.video-activity-cover[_ngcontent-%COMP%]{width:500px;height:281.25px}.video-activity-cover.vertical[_ngcontent-%COMP%]{width:270px;height:480px}}@media (min-width:1440px) and (max-width:1678px){.video-box.vertical[_ngcontent-%COMP%]{height:630px}video.window-activity-video[_ngcontent-%COMP%]{width:700px!important}video.window-activity-video.vertical[_ngcontent-%COMP%]{width:unset!important;height:570px!important}.video-activity-cover[_ngcontent-%COMP%]{width:700px;height:393.75px}.video-activity-cover.vertical[_ngcontent-%COMP%]{width:320.625px;height:570px}}@media (max-width:1678px){.video-box[_ngcontent-%COMP%]{height:505px}}@media (min-width:1679px) and (max-width:1919px){.video-box[_ngcontent-%COMP%]{height:631.6px}.video-box.vertical[_ngcontent-%COMP%]{height:767px}video.window-activity-video[_ngcontent-%COMP%]{width:960px!important}video.window-activity-video.vertical[_ngcontent-%COMP%]{width:unset!important;height:655px!important}.video-activity-cover[_ngcontent-%COMP%]{width:960px;height:540px}.video-activity-cover.vertical[_ngcontent-%COMP%]{width:368.4375px;height:655px}}@media (min-width:1920px){.video-box[_ngcontent-%COMP%], .video-box.vertical[_ngcontent-%COMP%]{height:767px}video.window-activity-video[_ngcontent-%COMP%]{width:1070px!important}video.window-activity-video.vertical[_ngcontent-%COMP%]{width:unset!important;height:655px!important}}']}),t})();class ri{constructor(){this.scaled=""}getScaled(){return this.scaled}getResult(t,e,n,i){var o={};if(this.scaled=e,this.scaled){var s=16/9;switch(this.scaled){case"4:3":s=4/3;break;case"16:9":s=16/9;break;case"full":s=1}if(s!=t.videoRatio){var r={videoShouldWidth:s*n,videoShouldHeight:n,videoCanWidth:n*i,videoCanHeight:n,videoWidth:0,videoHeight:0},a=1,c=1;1==s?t.videoRatio!=r.videoCanWidth/r.videoCanHeight&&(a=r.videoCanWidth/r.videoWidth,c=r.videoCanHeight/r.videoHeight):(r.videoWidth=r.videoCanHeight*t.videoRatio,r.videoHeight=r.videoCanHeight/t.videoRatio,r.videoWidth>r.videoCanWidth&&(r.videoWidth=r.videoCanWidth,r.videoHeight=r.videoWidth/t.videoRatio),r.videoHeight>r.videoCanHeight&&(r.videoHeight=r.videoCanHeight,r.videoWidth=r.videoHeight*t.videoRatio),a=r.videoShouldWidth/r.videoWidth,c=r.videoShouldHeight/r.videoHeight),o={transform:"scale("+a+","+c+")"}}}return o}}},R0Ic:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return o})),n.d(e,"d",(function(){return f})),n.d(e,"e",(function(){return a})),n.d(e,"f",(function(){return c})),n.d(e,"g",(function(){return u})),n.d(e,"h",(function(){return l})),n.d(e,"i",(function(){return d})),n.d(e,"j",(function(){return h})),n.d(e,"k",(function(){return g})),n.d(e,"l",(function(){return r})),n.d(e,"m",(function(){return b})),n.d(e,"n",(function(){return m}));class i{}class o{}const s="*";function r(t,e){return{type:7,name:t,definitions:e,options:{}}}function a(t,e=null){return{type:4,styles:e,timings:t}}function c(t,e=null){return{type:3,steps:t,options:e}}function l(t,e=null){return{type:2,steps:t,options:e}}function h(t){return{type:6,styles:t,offset:null}}function d(t,e,n){return{type:0,name:t,styles:e,options:n}}function u(t){return{type:5,steps:t}}function g(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function p(t){Promise.resolve(null).then(t)}class f{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){p(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){}getPosition(){return 0}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class b{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,i=0;const o=this.players.length;0==o?p(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==o&&this._onFinish()}),t.onDestroy(()=>{++n==o&&this._onDestroy()}),t.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){let t=0;return this.players.forEach(e=>{const n=e.getPosition();t=Math.min(n,t)}),t}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}const m="!"},R5tI:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n("etJ/"),o=n("fXoL"),s=n("ofXK");let r=(()=>{class t{constructor(t){this._storage=t,this.direction="top",this.colorChange=!1,this.msgCustomPosition=!1}ngOnInit(){}getPopupBoxArrowStyle(){return"top"===this.direction?{left:this.msgCustomPosition?"64.5%":"50%",top:"0","margin-left":"-7px"}:"left"===this.direction?this.position?this.position:{left:"0",top:"50%","margin-top":"-7px"}:"bottom"===this.direction?{left:"50%",top:"0","margin-left":"-11px"}:void 0}getPopupBoxArrowOutStyle(){const t=!!parseInt(this._storage.GetConfig().isDark||"1");return this.color=this.colorChange&&!t?"#fafafa":"#2b2c3a","top"===this.direction?{top:"-14px","border-color":"transparent transparent "+this.color}:"left"===this.direction?{left:"-14px","border-color":"transparent #000 transparent transparent"}:"bottom"===this.direction?{top:"-6px","border-color":this.color+" transparent  transparent  transparent"}:void 0}getPopupBoxArrowInStyle(){const t=!!parseInt(this._storage.GetConfig().isDark||"1");return this.color=this.colorChange&&!t?"#fafafa":"#2b2c3a","top"===this.direction?{left:"-7px",top:"-6px","border-color":"transparent transparent "+this.color}:"left"===this.direction?{top:"-7px",left:"-6px","border-color":"transparent "+this.color+" transparent transparent"}:"bottom"===this.direction?{left:"-7px",top:"-6px","border-color":this.color+" transparent  transparent  transparent"}:void 0}}return t.\u0275fac=function(e){return new(e||t)(o.Pb(i.a))},t.\u0275cmp=o.Jb({type:t,selectors:[["app-box-arrow"]],inputs:{direction:"direction",position:"position",color:"color",colorChange:"colorChange",msgCustomPosition:"msgCustomPosition"},decls:3,vars:3,consts:[[1,"popup-box-arrow",3,"ngStyle"],[1,"popup-box-arrowOut",3,"ngStyle"],[1,"popup-box-arrowIn",3,"ngStyle"]],template:function(t,e){1&t&&(o.Vb(0,"div",0),o.Vb(1,"span",1),o.Qb(2,"i",2),o.Ub(),o.Ub()),2&t&&(o.nc("ngStyle",e.getPopupBoxArrowStyle()),o.Bb(1),o.nc("ngStyle",e.getPopupBoxArrowOutStyle()),o.Bb(1),o.nc("ngStyle",e.getPopupBoxArrowInStyle()))},directives:[s.o],styles:[".popup-box-arrow[_ngcontent-%COMP%]{position:absolute}.popup-box-arrowOut[_ngcontent-%COMP%]{position:absolute;width:0;height:0;border-style:solid;border-width:7px}.popup-box-arrowIn[_ngcontent-%COMP%]{position:absolute;width:0;height:0;border:7px solid transparent;border-right-color:#1c1d2f}"]}),t})()},Rcsm:function(t,e,n){"use strict";function i(t){return/[.]/.exec(t)?("."+/[^.]+$/.exec(t)[0]).toLocaleLowerCase():""}n.d(e,"a",(function(){return i}))},ReVU:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n("fXoL"),o=n("ofXK");let s=(()=>{class t{constructor(t,e){this.document=t,this.platformId=e,this.documentIsAccessible=Object(o.y)(this.platformId)}check(t){return!!this.documentIsAccessible&&(t=encodeURIComponent(t),this.getCookieRegExp(t).test(this.document.cookie))}get(t){if(this.documentIsAccessible&&this.check(t)){t=encodeURIComponent(t);const e=this.getCookieRegExp(t).exec(this.document.cookie);return decodeURIComponent(e[1])}return""}getAll(){if(!this.documentIsAccessible)return{};const t={},e=this.document;if(e.cookie&&""!==e.cookie){const n=e.cookie.split(";");for(let e=0;e<n.length;e+=1){const i=n[e].split("=");i[0]=i[0].replace(/^ /,""),t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}}return t}set(t,e,n,i,o,s,r="None"){if(!this.documentIsAccessible)return;let a=encodeURIComponent(t)+"="+encodeURIComponent(e)+";";n&&(a+="number"==typeof n?"expires="+new Date((new Date).getTime()+1e3*n*60*60*24).toUTCString()+";":"expires="+n.toUTCString()+";"),i&&(a+="path="+i+";"),o&&(a+="domain="+o+";"),s&&(a+="secure;"),a+="sameSite="+r+";",this.document.cookie=a}delete(t,e,n){this.documentIsAccessible&&this.set(t,"",new Date("Thu, 01 Jan 1970 00:00:01 GMT"),e,n,void 0,"Lax")}deleteAll(t,e){if(!this.documentIsAccessible)return;const n=this.getAll();for(const i in n)n.hasOwnProperty(i)&&this.delete(i,t,e)}getCookieRegExp(t){const e=t.replace(/([\[\]\{\}\(\)\|\=\;\+\?\,\.\*\^\$])/gi,"\\$1");return new RegExp("(?:^"+e+"|;\\s*"+e+")=(.*?)(?:;|$)","g")}}return t.\u0275fac=function(e){return new(e||t)(i.Zb(o.d),i.Zb(i.B))},t.\u0275prov=i.Lb({token:t,factory:t.\u0275fac}),t})()},RmqX:function(t,e,n){"use strict";n.r(e);var i=n("ofXK"),o=n("tyNb"),s=n("IwDO"),r=n("jhYu"),a=n("xgIS"),c=n("8V5e"),l=n("beoP"),h=n("1XPh"),d=n("kizo"),u=n("AytR"),g=n("OnY+"),p=n("3My9"),f=n("9U6K"),b=n("0Xxy"),m=n("+cg8"),v=n("fXoL"),y=n("jhN1"),C=n("LmEr"),_=n("7DwK");const x=function(t,e,n,i){return{active:t,item:e,disable:n,"wrap-bottom":i}};function P(t,e){if(1&t){const t=v.Wb();v.Vb(0,"div",6),v.dc("click",(function(n){v.Cc(t);const i=e.$implicit;return v.gc(2).selectFilter(i)})),v.Nc(1),v.Ub()}if(2&t){const t=e.$implicit,n=e.first,i=v.gc(2);v.nc("ngClass",v.vc(3,x,i.languageToid(t.title)===i.selectedId||!0===i.ifAll(t.title)&&-1===i.selectedId||i.selectedId.toString()===t.id,!1===i.ifAll(t.title),i.disabled&&!n,i.addBottom)),v.Cb("data-id",t.title),v.Bb(1),v.Pc(" ",t.title," ")}}const w=function(t){return{"wrap-bottom":t}};function O(t,e){if(1&t){const t=v.Wb();v.Vb(0,"div",3,4),v.Lc(2,P,2,8,"div",5),v.Vb(3,"div",6),v.dc("click",(function(e){return v.Cc(t),v.gc().openDiscovery()})),v.Nc(4," \u53d1\u73b0 "),v.Ub(),v.Ub()}if(2&t){const t=v.gc();v.Cb("id",t.key),v.Bb(2),v.nc("ngForOf",t.items),v.Bb(1),v.nc("ngClass",v.sc(3,w,t.addBottom))}}function M(t,e){if(1&t){const t=v.Wb();v.Vb(0,"div",6),v.dc("click",(function(n){v.Cc(t);const i=e.$implicit;return v.gc(2).selectFilter(i)})),v.Nc(1),v.Ub()}if(2&t){const t=e.$implicit,n=e.first,i=v.gc(2);v.nc("ngClass",v.vc(3,x,i.languageToid(t.title)===i.selectedId||!0===i.ifAll(t.title)&&-1===i.selectedId||i.selectedId.toString()===t.id,!1===i.ifAll(t.title),i.disabled&&!n,i.addBottom)),v.Cb("data-id",t.title),v.Bb(1),v.Pc(" ",t.title," ")}}function k(t,e){if(1&t){const t=v.Wb();v.Vb(0,"div",6),v.dc("click",(function(n){v.Cc(t);const i=e.$implicit;return v.gc(2).selectFilter(i)})),v.Nc(1),v.Ub()}if(2&t){const t=e.$implicit,n=e.first,i=v.gc(2);v.nc("ngClass",v.vc(3,x,i.languageToid(t.title)===i.selectedId||!0===i.ifAll(t.title)&&-1===i.selectedId||i.selectedId.toString()===t.id,!1===i.ifAll(t.title),i.disabled&&!n,i.addBottom)),v.Cb("data-id",t.title),v.Bb(1),v.Pc(" ",t.title," ")}}function S(t,e){if(1&t&&(v.Vb(0,"div",7,4),v.Lc(2,M,2,8,"div",5),v.hc(3,"slice"),v.Vb(4,"div",3),v.Lc(5,k,2,8,"div",5),v.hc(6,"slice"),v.Ub(),v.Ub()),2&t){const t=v.gc();v.Cb("id",t.key),v.Bb(2),v.nc("ngForOf",v.kc(3,3,t.items,0,1)),v.Bb(3),v.nc("ngForOf",v.jc(6,7,t.items,1))}}const I=function(t){return{emptyable:t}};let L=(()=>{class t{constructor(){this.disabled=!1,this.shouldNotChange=!0,this.selectFilterEvent=new v.n,this.key="",this.addBottom=!1}ngOnInit(){}ngAfterContentChecked(){this.correctMarginBottom()}languageToid(t){switch(t){case"\u897f\u73ed\u7259\u8bed":return"\u897f\u73ed\u7259";case"\u610f\u5927\u5229\u8bed":return"\u610f\u5927\u5229"}return t}selectFilter(t){if(!this.disabled){if(-1==this.label.indexOf("\u7248\u5757")){if(-1!=this.selectedId&&this.selectedId==t.id)return void this.selectFilterEvent.emit({id:-1,title:"\u5168\u90e8"})}else if(this.selectedId==t.id||this.selectedId==t.title)return;this.selectFilterEvent.emit(t)}}correctMarginBottom(){const t=document.getElementById(this.key);null!==t&&(t.offsetHeight>50?(this.addBottom=!0,t.parentElement.parentElement.classList.add("removeMarginBottom")):(this.addBottom=!1,t.parentElement.parentElement.classList.remove("removeMarginBottom")))}ifAll(t){return-1!==t.indexOf("\u5168\u90e8")}openDiscovery(){window.open("/discovery/list","_blank")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=v.Jb({type:t,selectors:[["app-search-filter"]],inputs:{label:"label",items:"items",selectedId:"selectedId",disabled:"disabled",shouldNotChange:"shouldNotChange",key:"key"},outputs:{selectFilterEvent:"selectFilterEvent"},decls:3,vars:5,consts:[[1,"d-flex",3,"ngClass"],["class","d-flex","style","flex-wrap: wrap",4,"ngIf"],["class","d-flex",4,"ngIf"],[1,"d-flex",2,"flex-wrap","wrap"],["container",""],["class","filter-button mb-1",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"filter-button","mb-1",3,"ngClass","click"],[1,"d-flex"]],template:function(t,e){1&t&&(v.Vb(0,"div",0),v.Lc(1,O,5,5,"div",1),v.Lc(2,S,7,10,"div",2),v.Ub()),2&t&&(v.nc("ngClass",v.sc(3,I,!e.shouldNotChange)),v.Bb(1),v.nc("ngIf","\u5168\u90e8\u7248\u5757"===e.label),v.Bb(1),v.nc("ngIf","\u5168\u90e8\u7248\u5757"!==e.label))},directives:[i.l,i.n,i.m],pipes:[i.v],styles:[".search-filter-label[_ngcontent-%COMP%]{padding:2px 0;width:70px;-webkit-box-flex:0;flex:0 0 70px;color:hsla(0,0%,100%,.7)}.light[_nghost-%COMP%]   .search-filter-label[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .search-filter-label[_ngcontent-%COMP%]{color:#333}.filter-button[_ngcontent-%COMP%]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:relative;height:22px;line-height:19px;padding:2px 17px 1px;cursor:pointer;color:hsla(0,0%,100%,.7);white-space:nowrap}.light[_nghost-%COMP%]   .filter-button[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .filter-button[_ngcontent-%COMP%]{color:#333}.filter-button.wrap-bottom[_ngcontent-%COMP%]{margin-bottom:15px!important}.filter-button.active[_ngcontent-%COMP%]{background:#00c0ff;color:#fff!important;border-color:#00c0ff}.light[_nghost-%COMP%]   .filter-button.active[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .filter-button.active[_ngcontent-%COMP%]{color:#fff!important}.filter-button[_ngcontent-%COMP%]:hover:not(.disable){color:#fff}.light[_nghost-%COMP%]   .filter-button[_ngcontent-%COMP%]:hover:not(.disable), .light   [_nghost-%COMP%]   .filter-button[_ngcontent-%COMP%]:hover:not(.disable){color:#00c0ff}.filter-button.disable[_ngcontent-%COMP%]{color:#636363}"]}),t})();var T=n("QcCv"),A=n("dayM"),N=n("1y75"),B=n("Assm"),V=n("Le4d"),U=n("DEAf");const D=function(t,e){return{"icon-4K":t,"icon-2K":e}};function E(t,e){if(1&t&&v.Qb(0,"div",31),2&t){const t=v.gc(2);v.nc("ngClass",v.tc(1,D,"4K"===t.video.vipResource,"2K"===t.video.vipResource))}}function R(t,e){if(1&t&&(v.Vb(0,"span",32),v.Nc(1),v.Ub()),2&t){const t=v.gc(2);v.Bb(1),v.Oc(t.video.genre)}}function F(t,e){if(1&t&&(v.Vb(0,"span",32),v.Nc(1),v.Ub()),2&t){const t=v.gc(2);v.Bb(1),v.Oc(t.video.region)}}function j(t,e){if(1&t&&(v.Vb(0,"span",32),v.Nc(1),v.Ub()),2&t){const t=v.gc(2);v.Bb(1),v.Oc(t.video.published)}}function z(t,e){if(1&t&&(v.Vb(0,"span",32),v.Nc(1),v.Ub()),2&t){const t=v.gc(2);v.Bb(1),v.Oc(t.video.language)}}function H(t,e){if(1&t&&(v.Vb(0,"div",33),v.Vb(1,"span"),v.Nc(2,"\u6dfb\u52a0\uff1a"),v.Ub(),v.Vb(3,"span",34),v.Nc(4),v.hc(5,"date"),v.Ub(),v.Ub()),2&t){const t=v.gc(2);v.Bb(4),v.Oc(v.jc(5,1,t.video.updated,"yyyy\u5e74MM\u6708dd\u65e5"))}}function G(t,e){if(1&t&&(v.Vb(0,"div",33),v.Vb(1,"span"),v.Nc(2,"\u66f4\u65b0\uff1a"),v.Ub(),v.Vb(3,"span",34),v.Nc(4),v.Ub(),v.Ub()),2&t){const t=v.gc(2);v.Bb(4),v.Oc(t.video.lastUpdate)}}function W(t,e){if(1&t&&(v.Vb(0,"div",33),v.Vb(1,"span"),v.Nc(2,"\u66f4\u65b0\uff1a"),v.Ub(),v.Vb(3,"span",34),v.Nc(4),v.Ub(),v.Ub()),2&t){const t=v.gc(2);v.Bb(4),v.Oc(t.video.lastUpdate)}}function q(t,e){if(1&t&&(v.Vb(0,"span",34),v.Nc(1),v.Ub()),2&t){const t=e.$implicit;v.Bb(1),v.Oc(t)}}function Q(t,e){if(1&t&&(v.Vb(0,"div",33),v.Vb(1,"span"),v.Nc(2,"\u5bfc\u6f14\uff1a"),v.Ub(),v.Lc(3,q,2,1,"span",35),v.Ub()),2&t){const t=v.gc(2);v.Bb(3),v.nc("ngForOf",t.video.directors)}}function $(t,e){1&t&&(v.Vb(0,"div",33),v.Vb(1,"span"),v.Nc(2,"\u5bfc\u6f14\uff1a"),v.Ub(),v.Vb(3,"span",34),v.Nc(4,"\u672a\u77e5"),v.Ub(),v.Ub())}function K(t,e){1&t&&(v.Vb(0,"span",22),v.Nc(1," / "),v.Ub())}function X(t,e){if(1&t&&(v.Vb(0,"span"),v.Qb(1,"span",25),v.Lc(2,K,2,0,"span",37),v.Ub()),2&t){const t=e.$implicit,n=e.last;v.Bb(1),v.nc("innerHtml",t,v.Dc),v.Bb(1),v.nc("ngIf",!n)}}function Y(t,e){if(1&t&&(v.Vb(0,"span",34),v.Lc(1,X,3,2,"span",36),v.Ub()),2&t){const t=v.gc(2);v.Bb(1),v.nc("ngForOf",t.video.actors)}}function Z(t,e){1&t&&(v.Vb(0,"span",34),v.Vb(1,"span"),v.Nc(2,"\u672a\u77e5"),v.Ub(),v.Ub())}function J(t,e){1&t&&v.Qb(0,"div",43)}const tt=function(){return["/play"]},et=function(t){return{id:t}};function nt(t,e){if(1&t&&(v.Vb(0,"div",40),v.Vb(1,"a",5),v.Vb(2,"div",41),v.Nc(3),v.Ub(),v.Ub(),v.Lc(4,J,1,0,"div",42),v.Ub()),2&t){const t=e.$implicit;v.Bb(1),v.nc("routerLink",v.rc(5,tt))("queryParams",v.sc(6,et,null==t?null:t.key)),v.Bb(1),v.oc("title",null==t?null:t.name),v.Bb(1),v.Pc(" ",null==t?null:t.name," "),v.Bb(1),v.nc("ngIf",null==t?null:t.isNew)}}function it(t,e){if(1&t&&(v.Vb(0,"div",38),v.Lc(1,nt,5,8,"div",39),v.hc(2,"slice"),v.Ub()),2&t){const t=v.gc(2);v.Bb(1),v.nc("ngForOf",v.kc(2,1,t.playList,0,t.episodeBlocks))}}function ot(t,e){1&t&&v.Qb(0,"div",43)}function st(t,e){if(1&t&&(v.Vb(0,"div",40),v.Vb(1,"a",5),v.Vb(2,"div",41),v.Nc(3),v.Ub(),v.Ub(),v.Lc(4,ot,1,0,"div",42),v.Ub()),2&t){const t=e.$implicit;v.Bb(1),v.nc("routerLink",v.rc(5,tt))("queryParams",v.sc(6,et,null==t?null:t.key)),v.Bb(1),v.oc("title",null==t?null:t.name),v.Bb(1),v.Pc(" ",null==t?null:t.name," "),v.Bb(1),v.nc("ngIf",null==t?null:t.isNew)}}function rt(t,e){1&t&&v.Qb(0,"div",43)}function at(t,e){if(1&t&&(v.Vb(0,"div",40),v.Vb(1,"a",5),v.Vb(2,"div",41),v.Nc(3),v.Ub(),v.Ub(),v.Lc(4,rt,1,0,"div",42),v.Ub()),2&t){const t=e.$implicit;v.Bb(1),v.nc("routerLink",v.rc(5,tt))("queryParams",v.sc(6,et,null==t?null:t.key)),v.Bb(1),v.oc("title",null==t?null:t.name),v.Bb(1),v.Pc(" ",null==t?null:t.name," "),v.Bb(1),v.nc("ngIf",null==t?null:t.isNew)}}const ct=function(t){return{id:t,a:1,s:!0}};function lt(t,e){if(1&t&&(v.Vb(0,"div",38),v.Lc(1,st,5,8,"div",39),v.hc(2,"slice"),v.Vb(3,"a",44),v.Vb(4,"div",45),v.Qb(5,"i",46),v.Ub(),v.Ub(),v.Lc(6,at,5,8,"div",39),v.hc(7,"slice"),v.Ub()),2&t){const t=v.gc(2);v.Bb(1),v.nc("ngForOf",v.kc(2,5,t.playList,0,t.episodeSegment)),v.Bb(2),v.nc("routerLink",v.rc(13,tt))("queryParams",v.sc(14,ct,t.video.key)),v.Bb(1),v.oc("title",null==t.item?null:t.item.name),v.Bb(2),v.nc("ngForOf",v.kc(7,9,t.playList,(null==t.playList?null:t.playList.length)-t.episodeSegment-1,null==t.playList?null:t.playList.length))}}function ht(t,e){1&t&&v.Qb(0,"div",43)}function dt(t,e){if(1&t&&(v.Vb(0,"div",40),v.Vb(1,"a",5),v.Vb(2,"div",47),v.Nc(3),v.Ub(),v.Ub(),v.Lc(4,ht,1,0,"div",42),v.Ub()),2&t){const t=e.$implicit;v.Bb(1),v.nc("routerLink",v.rc(5,tt))("queryParams",v.sc(6,et,null==t?null:t.key)),v.Bb(1),v.oc("title",null==t?null:t.name),v.Bb(1),v.Pc(" ",null==t?null:t.name," "),v.Bb(1),v.nc("ngIf",null==t?null:t.isNew)}}function ut(t,e){if(1&t&&(v.Vb(0,"div",38),v.Lc(1,dt,5,8,"div",39),v.hc(2,"slice"),v.Ub()),2&t){const t=v.gc(2);v.Bb(1),v.nc("ngForOf",v.kc(2,1,t.playList,0,t.sportsBlocks))}}function gt(t,e){1&t&&v.Qb(0,"div",43)}function pt(t,e){if(1&t&&(v.Vb(0,"div",40),v.Vb(1,"a",5),v.Vb(2,"div",47),v.Nc(3),v.Ub(),v.Ub(),v.Lc(4,gt,1,0,"div",42),v.Ub()),2&t){const t=e.$implicit;v.Bb(1),v.nc("routerLink",v.rc(5,tt))("queryParams",v.sc(6,et,null==t?null:t.key)),v.Bb(1),v.oc("title",null==t?null:t.name),v.Bb(1),v.Pc(" ",null==t?null:t.name," "),v.Bb(1),v.nc("ngIf",null==t?null:t.isNew)}}function ft(t,e){if(1&t&&(v.Vb(0,"div",38),v.Lc(1,pt,5,8,"div",39),v.hc(2,"slice"),v.Vb(3,"a",44),v.Vb(4,"div",47),v.Nc(5," \u66f4\u591a> "),v.Ub(),v.Ub(),v.Ub()),2&t){const t=v.gc(2);v.Bb(1),v.nc("ngForOf",v.kc(2,4,t.playList,0,t.sportsBlocks-1)),v.Bb(2),v.nc("routerLink",v.rc(8,tt))("queryParams",v.sc(9,ct,t.video.key)),v.Bb(1),v.oc("title",null==t.item?null:t.item.name)}}const bt=function(t){return{id:t,a:1}};function mt(t,e){if(1&t&&(v.Vb(0,"div",48),v.Vb(1,"a",49),v.Vb(2,"div",50),v.Nc(3,"\u7acb\u5373\u64ad\u653e"),v.Ub(),v.Ub(),v.Ub()),2&t){const t=v.gc(2);v.Bb(1),v.nc("routerLink",v.rc(2,tt))("queryParams",v.sc(3,bt,t.video.key))}}function vt(t,e){if(1&t&&(v.Vb(0,"div",2),v.Vb(1,"div",3),v.Vb(2,"div",4),v.Vb(3,"a",5),v.Qb(4,"img",6),v.hc(5,"safeResource"),v.Ub(),v.Vb(6,"div",7),v.Lc(7,E,1,4,"div",8),v.Ub(),v.Ub(),v.Vb(8,"div",9),v.Vb(9,"div",10),v.Vb(10,"a",5),v.Vb(11,"div",11),v.Qb(12,"h5",12),v.Ub(),v.Ub(),v.Lc(13,R,2,1,"span",13),v.Lc(14,F,2,1,"span",13),v.Lc(15,j,2,1,"span",13),v.Lc(16,z,2,1,"span",13),v.Vb(17,"div",14),v.Vb(18,"div",15),v.Nc(19),v.Ub(),v.Vb(20,"div",16),v.Qb(21,"i",17),v.Vb(22,"span"),v.Nc(23),v.hc(24,"chineseCounter"),v.Ub(),v.Ub(),v.Vb(25,"div",16),v.Qb(26,"i",18),v.Vb(27,"span"),v.Nc(28),v.hc(29,"chineseCounter"),v.Ub(),v.Ub(),v.Vb(30,"div",16),v.Qb(31,"i",19),v.Vb(32,"span"),v.Nc(33),v.hc(34,"chineseCounter"),v.Ub(),v.Ub(),v.Vb(35,"div",16),v.Qb(36,"i",20),v.Vb(37,"span"),v.Nc(38),v.hc(39,"chineseCounter"),v.Ub(),v.Ub(),v.Ub(),v.Ub(),v.Vb(40,"div",21),v.Vb(41,"div",16),v.Qb(42,"i",17),v.Vb(43,"span"),v.Nc(44),v.hc(45,"chineseCounter"),v.Ub(),v.Ub(),v.Vb(46,"div",16),v.Qb(47,"i",18),v.Vb(48,"span"),v.Nc(49),v.hc(50,"chineseCounter"),v.Ub(),v.Ub(),v.Vb(51,"div",16),v.Qb(52,"i",19),v.Vb(53,"span"),v.Nc(54),v.hc(55,"chineseCounter"),v.Ub(),v.Ub(),v.Vb(56,"div",16),v.Qb(57,"i",20),v.Vb(58,"span"),v.Nc(59),v.hc(60,"chineseCounter"),v.Ub(),v.Ub(),v.Ub(),v.Vb(61,"div",22),v.Lc(62,H,6,4,"div",23),v.Lc(63,G,5,1,"div",23),v.Lc(64,W,5,1,"div",23),v.Lc(65,Q,4,1,"div",23),v.Lc(66,$,5,0,"div",23),v.Vb(67,"div",24),v.Qb(68,"span",25),v.Lc(69,Y,2,1,"span",26),v.Lc(70,Z,3,0,"span",26),v.Ub(),v.Ub(),v.Vb(71,"div",27),v.Vb(72,"div",28),v.Lc(73,it,3,5,"div",29),v.Lc(74,lt,8,16,"div",29),v.Lc(75,ut,3,5,"div",29),v.Lc(76,ft,6,11,"div",29),v.Ub(),v.Lc(77,mt,4,5,"div",30),v.Ub(),v.Ub(),v.Ub(),v.Ub()),2&t){const t=v.gc();v.Bb(3),v.nc("routerLink",v.rc(51,tt))("queryParams",v.sc(52,bt,t.video.key)),v.Bb(1),v.oc("src",v.ic(5,33,t.video.image+"?w=216&height=309&format=jpg&mode=stretch"),v.Fc),v.Bb(3),v.nc("ngIf","4K"===t.video.vipResource||"2K"===t.video.vipResource),v.Bb(3),v.nc("routerLink",v.rc(54,tt))("queryParams",v.sc(55,bt,t.video.key)),v.Bb(2),v.nc("innerHtml",t.video.title,v.Dc),v.Bb(1),v.nc("ngIf",t.video.genre),v.Bb(1),v.nc("ngIf",t.video.region),v.Bb(1),v.nc("ngIf",t.video.published),v.Bb(1),v.nc("ngIf",t.video.language),v.Bb(3),v.Oc(t.video.userData.rate),v.Bb(4),v.Oc(v.ic(24,35,t.video.userData.comments)),v.Bb(5),v.Oc(v.ic(29,37,t.video.userData.like)),v.Bb(5),v.Oc(v.ic(34,39,t.video.userData.dislike)),v.Bb(5),v.Oc(v.ic(39,41,t.video.userData.viewCount)),v.Bb(6),v.Oc(v.ic(45,43,t.video.userData.comments)),v.Bb(5),v.Oc(v.ic(50,45,t.video.userData.like)),v.Bb(5),v.Oc(v.ic(55,47,t.video.userData.dislike)),v.Bb(5),v.Oc(v.ic(60,49,t.video.userData.viewCount)),v.Bb(3),v.nc("ngIf",!t.multiEpisode(t.video)&&!t.video.inProgress),v.Bb(1),v.nc("ngIf",t.multiEpisode(t.video)&&t.video.inProgress),v.Bb(1),v.nc("ngIf",t.multiEpisode(t.video)&&!t.video.inProgress),v.Bb(1),v.nc("ngIf",null!=t.video.directors&&(null==t.video.directors?null:t.video.directors.length)>0),v.Bb(1),v.nc("ngIf",0===(null==t.video.directors?null:t.video.directors.length)),v.Bb(2),v.nc("innerHtml",t.isAdult?"\u5973\u4f18\uff1a":"\u4e3b\u6f14\uff1a",v.Dc),v.Bb(1),v.nc("ngIf",null!=t.video.actors&&(null==t.video.actors?null:t.video.actors.length)>0),v.Bb(1),v.nc("ngIf",0===(null==t.video.actors?null:t.video.actors.length)),v.Bb(3),v.nc("ngIf",t.multiEpisode(t.video)&&"sport"!==t.video.category&&"variety"!==t.video.category&&(null==t.playList?null:t.playList.length)<t.episodeBlocks),v.Bb(1),v.nc("ngIf",t.multiEpisode(t.video)&&"sport"!==t.video.category&&"variety"!==t.video.category&&(null==t.playList?null:t.playList.length)>=t.episodeBlocks),v.Bb(1),v.nc("ngIf",("sport"===t.video.category||"variety"===t.video.category)&&(null==t.playList?null:t.playList.length)<t.sportsBlocks),v.Bb(1),v.nc("ngIf",("sport"===t.video.category||"variety"===t.video.category)&&(null==t.playList?null:t.playList.length)>=t.sportsBlocks),v.Bb(1),v.nc("ngIf",!t.multiEpisode(t.video))}}const yt=function(){return["/watch"]},Ct=function(t){return{v:t}};function _t(t,e){if(1&t&&(v.Vb(0,"div",51),v.Vb(1,"div",3),v.Vb(2,"div",52),v.Vb(3,"a",5),v.Qb(4,"img",53),v.hc(5,"safeResource"),v.Qb(6,"div",54),v.Vb(7,"div",55),v.Nc(8),v.Ub(),v.Ub(),v.Ub(),v.Vb(9,"div",56),v.Vb(10,"div",10),v.Vb(11,"a",5),v.Vb(12,"div",57),v.Qb(13,"h5",12),v.Ub(),v.Ub(),v.Ub(),v.Vb(14,"div",58),v.Vb(15,"div",59),v.Vb(16,"span"),v.Nc(17,"\u65f6\u95f4\uff1a"),v.Ub(),v.Vb(18,"span",60),v.Nc(19),v.hc(20,"relativeTime"),v.Ub(),v.Ub(),v.Vb(21,"div",59),v.Vb(22,"span"),v.Nc(23,"\u4e0a\u4f20\u8005\uff1a"),v.Ub(),v.Vb(24,"span",60),v.Vb(25,"a",61),v.Nc(26),v.Ub(),v.Ub(),v.Ub(),v.Ub(),v.Ub(),v.Ub(),v.Ub()),2&t){const t=v.gc();v.Bb(3),v.nc("routerLink",v.rc(14,yt))("queryParams",v.sc(15,Ct,t.video.key)),v.Bb(1),v.oc("src",v.ic(5,10,t.video.image+"?w=216&h=122&format=jpg&mode=crop"),v.Fc),v.Bb(4),v.Oc(t.video.videoSumTimes),v.Bb(3),v.nc("routerLink",v.rc(17,yt))("queryParams",v.sc(18,Ct,t.video.key)),v.Bb(2),v.nc("innerHtml",t.video.title,v.Dc),v.Bb(6),v.Oc(v.ic(20,12,t.video.updated)),v.Bb(6),v.nc("routerLink","/space/"+(null==t.video?null:t.video.uploaderKey)+"/"),v.Bb(1),v.Oc(t.video.uploaderName)}}let xt=(()=>{class t extends r.b{constructor(){super(...arguments),this.ifChanged=!1,this._matchKey="",this.svideo=!1,this.episodeBlocks=22,this.episodeSegment=5,this.sportsBlocks=6,this.sportsSegement=1}set matchKey(t){t&&(this._matchKey=t,this.changeKey())}get matchKey(){return this._matchKey}changeKey(){if(this.matchKey&&!this.ifChanged){var t=this.matchKey;t&&(this.video.title=this.video.title.replace(t,'<span class="text-main-color">'+t+"</span>"),-1!==this.video.actors.indexOf(t)&&(this.video.actors=this.video.actors.filter(e=>e!==t),this.video.actors=[t,...this.video.actors]),this.video.actors=this.video.actors.map(e=>e===t?'<span class="text-main-color">'+t+"</span>":e),this.ifChanged=!0)}}ngOnInit(){this.changeKey(),this.ifSVideo(this.video),this.subscriptions.push(this._windowService.size$.subscribe(t=>{this.screenSize=t,this.getSizeChange()})),this.playList="sport"===this.video.category?this.video.playlist.reverse():this.video.playlist}getSizeChange(){this.screenSize!=this.screenType.XSmall&&this.screenSize!=this.screenType.Small||(this.episodeBlocks=12,this.episodeSegment=5,this.sportsBlocks=6),this.screenSize==this.screenType.Medium&&(this.episodeBlocks=12,this.episodeSegment=5,this.sportsBlocks=6),this.screenSize==this.screenType.Large&&(this.episodeBlocks=16,this.episodeSegment=7,this.sportsBlocks=8),this.screenSize==this.screenType.ExtraLarge&&(this.episodeBlocks=22,this.episodeSegment=10,this.sportsBlocks=10)}multiEpisode(t){switch(t.category){case"movie":return!1;case"anime":return"\u5267\u573a\u7248"!==t.cid;default:return!0}}ifSVideo(t){const e=!(!t||!t.videoClassID)&&t.videoClassID.startsWith("0,3");this.svideo=!!e}}return t.\u0275fac=function(e){return Pt(e||t)},t.\u0275cmp=v.Jb({type:t,selectors:[["app-video-teaser-searchresult"]],inputs:{matchKey:"matchKey"},features:[v.yb],decls:2,vars:2,consts:[["class","video-detail",4,"ngIf"],["class","svideo-detail mb-5",4,"ngIf"],[1,"video-detail"],[1,"d-flex"],[1,"poster","position-relative"],[1,"result-nav-link",3,"routerLink","queryParams"],["width","182","height","262",3,"src"],[1,"top-right-icon"],["class","high-res",3,"ngClass",4,"ngIf"],[1,"w-100","position-relative"],[1,"d-flex","align-items-center","mb-3"],[1,"title","mr-4"],[1,"d-inline",2,"font-size","20px",3,"innerHtml"],["class","tag",4,"ngIf"],[1,"d-flex","align-items-center"],[1,"rating-number"],[1,"label-icon"],[1,"iconfont","iconpinglun"],[1,"iconfont","iconzan"],[1,"iconfont","iconcai"],[1,"iconfont","iconrenqi"],[1,"align-items-center","mb-2","label-icon-sl-ctn",2,"margin-top","-1rem"],[1,"text-light"],["class","info-row mb-1",4,"ngIf"],[1,"actors","mb-1"],[3,"innerHtml"],["class","text-number",4,"ngIf"],[1,"d-flex",2,"position","absolute","bottom","1px"],[1,"flex-1","episode-list"],["class","d-flex flex-wrap",4,"ngIf"],["class","flex-1",4,"ngIf"],[1,"high-res",3,"ngClass"],[1,"tag"],[1,"info-row","mb-1"],[1,"text-number"],["class","text-number",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["class","text-light",4,"ngIf"],[1,"d-flex","flex-wrap"],["class","mr-2","style","position: relative;",4,"ngFor","ngForOf"],[1,"mr-2",2,"position","relative"],[1,"episode-ctn",3,"title"],["class","new-media",4,"ngIf"],[1,"new-media"],[1,"mr-2",3,"routerLink","queryParams"],[1,"episode-ctn","notshow",3,"title"],[1,"iconfont","iconshenglve"],[1,"episode-ctn","larger",3,"title"],[1,"flex-1"],[3,"routerLink","queryParams"],[1,"play-right-now"],[1,"svideo-detail","mb-5"],[1,"svideo-poster","position-relative"],["width","182","height","102",2,"object-fit","cover","background","#000000",3,"src"],[1,"svideo-time-shadow"],[1,"svideo-time-label"],[1,"w-100","position-relative",2,"padding-left","20px"],[1,"svideo-title","mr-4"],[1,"svideo-uploader-info"],[1,"mb-1"],[1,"svideo-uploader-text"],[3,"routerLink"]],template:function(t,e){1&t&&(v.Lc(0,vt,78,57,"div",0),v.Lc(1,_t,27,20,"div",1)),2&t&&(v.nc("ngIf",!e.svideo),v.Bb(1),v.nc("ngIf",e.svideo))},directives:[i.n,o.g,i.l,i.m],pipes:[V.b,V.a,i.e,i.v,U.a],styles:[".video-detail[_ngcontent-%COMP%]{margin-bottom:50px}.channel[_ngcontent-%COMP%], .text-dark[_ngcontent-%COMP%]{color:hsla(0,0%,100%,.7)!important}.light[_nghost-%COMP%]   .channel[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .channel[_ngcontent-%COMP%], .light[_nghost-%COMP%]   .text-dark[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .text-dark[_ngcontent-%COMP%]{color:#333!important}.poster[_ngcontent-%COMP%]{width:182px;height:262px;-webkit-box-flex:0;flex:0 0 100px;margin-right:20px}.title[_ngcontent-%COMP%]{color:#fff;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:380px}.light[_nghost-%COMP%]   .title[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .title[_ngcontent-%COMP%]{color:#333}.title[_ngcontent-%COMP%]:hover{color:#00c0ff!important}.tag[_ngcontent-%COMP%]{color:hsla(0,0%,100%,.7);background-color:#2b2c3a;font-size:12px;padding:.1em 0;width:55px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;margin-right:1em;text-align:center}.light[_nghost-%COMP%]   .tag[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .tag[_ngcontent-%COMP%]{background-color:#f8f8f8;color:#888}.actors[_ngcontent-%COMP%], .info-row[_ngcontent-%COMP%]{height:20px}.actors[_ngcontent-%COMP%]{overflow:hidden;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;text-overflow:ellipsis}.text-number[_ngcontent-%COMP%]{color:hsla(0,0%,100%,.7)}.light[_nghost-%COMP%]   .text-number[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .text-number[_ngcontent-%COMP%]{color:#333}.label-icon[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;margin-right:.2em;min-width:60px;font-size:12px;color:hsla(0,0%,100%,.4)}.light[_nghost-%COMP%]   .label-icon[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .label-icon[_ngcontent-%COMP%]{color:#888}.label-icon[_ngcontent-%COMP%]   .iconfont[_ngcontent-%COMP%]{font-size:16px}.label-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:2px;font-size:18px}.label-icon-sl-ctn[_ngcontent-%COMP%]{display:none}.rating-number[_ngcontent-%COMP%]{font-size:20px;color:#ffb400;margin-left:20px;margin-right:20px}.episode-ctn[_ngcontent-%COMP%]{margin-top:12px;width:90px;padding:0 10px;height:54px;line-height:54px;font-size:16px;text-align:center;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;background-color:#242435;color:hsla(0,0%,100%,.7)}.light[_nghost-%COMP%]   .episode-ctn[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .episode-ctn[_ngcontent-%COMP%]{background-color:#eee;color:#333}.episode-ctn[_ngcontent-%COMP%]:hover, .light[_nghost-%COMP%]   .episode-ctn[_ngcontent-%COMP%]:hover, .light   [_nghost-%COMP%]   .episode-ctn[_ngcontent-%COMP%]:hover{color:#00c0ff}.episode-ctn.notshow[_ngcontent-%COMP%]{line-height:52px;font-size:18px}.episode-ctn.larger[_ngcontent-%COMP%]{width:200px}.new-media[_ngcontent-%COMP%]{position:absolute;top:14px;right:2px;height:5px;width:5px;border-radius:50%;background-color:#fa2828}.play-right-now[_ngcontent-%COMP%]{width:90px;height:38px;line-height:37px;text-align:center;border-radius:2px;border:1px solid #00c0ff;color:#00c0ff!important;font-size:14px;cursor:pointer}.play-right-now[_ngcontent-%COMP%]:hover{background-color:#00c0ff;color:#fff!important}.svideo-time-shadow[_ngcontent-%COMP%]{background:#000;background:-webkit-gradient(linear,left top,left bottom,from(transparent),color-stop(38%,rgba(0,0,0,.5)),to(rgba(0,0,0,.9)));background:linear-gradient(180deg,transparent,rgba(0,0,0,.5) 38%,rgba(0,0,0,.9));left:0;height:30px;width:100%;position:absolute;bottom:5px}.svideo-time-label[_ngcontent-%COMP%]{color:#fff;font-size:14px;position:absolute;right:5px;bottom:5px}.svideo-uploader-info[_ngcontent-%COMP%]{color:hsla(0,0%,100%,.4)}.light[_nghost-%COMP%]   .svideo-uploader-info[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .svideo-uploader-info[_ngcontent-%COMP%]{color:#888}.svideo-uploader-text[_ngcontent-%COMP%]{color:hsla(0,0%,100%,.7)}.light[_nghost-%COMP%]   .svideo-uploader-text[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .svideo-uploader-text[_ngcontent-%COMP%]{color:#333}.result-nav-link[_ngcontent-%COMP%]:visited{color:#636363}.light[_nghost-%COMP%]   .result-nav-link[_ngcontent-%COMP%]:visited, .light   [_nghost-%COMP%]   .result-nav-link[_ngcontent-%COMP%]:visited{color:#888}.result-nav-link[_ngcontent-%COMP%]:visited   .title[_ngcontent-%COMP%]{color:#636363}.light[_nghost-%COMP%]   .result-nav-link[_ngcontent-%COMP%]:visited   .title[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .result-nav-link[_ngcontent-%COMP%]:visited   .title[_ngcontent-%COMP%]{color:#888}.result-nav-link[_ngcontent-%COMP%]:visited   .svideo-title[_ngcontent-%COMP%]{color:#636363}.light[_nghost-%COMP%]   .result-nav-link[_ngcontent-%COMP%]:visited   .svideo-title[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .result-nav-link[_ngcontent-%COMP%]:visited   .svideo-title[_ngcontent-%COMP%]{color:#888}.result-nav-link[_ngcontent-%COMP%]:visited   .episode-ctn[_ngcontent-%COMP%]{color:#636363}.light[_nghost-%COMP%]   .result-nav-link[_ngcontent-%COMP%]:visited   .episode-ctn[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .result-nav-link[_ngcontent-%COMP%]:visited   .episode-ctn[_ngcontent-%COMP%]{color:#888}.top-right-icon[_ngcontent-%COMP%]{position:absolute;top:8px;right:8px;display:-webkit-box;display:flex}.top-right-icon[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:last-child{margin-right:0!important}.high-res[_ngcontent-%COMP%]{text-shadow:#000;-webkit-filter:drop-shadow(1px 1px 4px rgba(0,0,0,.65));filter:drop-shadow(1px 1px 4px rgba(0,0,0,.65));z-index:2;width:25px;height:17px;margin-right:8px}.high-res.icon-4K[_ngcontent-%COMP%]{background-image:url(/assets/images/4K.png)}.high-res.icon-2K[_ngcontent-%COMP%], .high-res.icon-4K[_ngcontent-%COMP%]{background-size:contain;background-repeat:no-repeat}.high-res.icon-2K[_ngcontent-%COMP%]{background-image:url(/assets/images/2K.png)}@media (max-width:1439px){.title[_ngcontent-%COMP%]{max-width:200px}.episode-ctn[_ngcontent-%COMP%]{width:84px}.episode-ctn.larger[_ngcontent-%COMP%]{width:180px}.label-icon[_ngcontent-%COMP%]{display:none}.label-icon-sl-ctn[_ngcontent-%COMP%]{display:-webkit-box!important;display:flex!important}.label-icon-sl-ctn[_ngcontent-%COMP%]   .label-icon[_ngcontent-%COMP%]{display:block!important}}@media (min-width:1440px) and (max-width:1678px){.title[_ngcontent-%COMP%]{max-width:200px}.episode-ctn[_ngcontent-%COMP%]{width:84px}.episode-ctn.larger[_ngcontent-%COMP%]{width:180px}.label-icon[_ngcontent-%COMP%]{display:none}.label-icon-sl-ctn[_ngcontent-%COMP%]{display:-webkit-box!important;display:flex!important}.label-icon-sl-ctn[_ngcontent-%COMP%]   .label-icon[_ngcontent-%COMP%]{display:block!important}}@media (min-width:1679px) and (max-width:1919px){.title[_ngcontent-%COMP%]{max-width:200px}}"]}),t})();const Pt=v.Xb(xt);var wt=n("ciLT"),Ot=n("08EM");function Mt(t,e){if(1&t&&(v.Vb(0,"div",23),v.Qb(1,"app-membership-icon",24),v.Ub()),2&t){const t=v.gc();v.Bb(1),v.nc("membership",t.membership)("noText",!0)("width",24)}}function kt(t,e){1&t&&v.Qb(0,"img",25)}function St(t,e){if(1&t&&(v.Vb(0,"span"),v.Nc(1),v.Ub()),2&t){const t=v.gc();v.Bb(1),v.Oc(!0===(null==t.uploader?null:t.uploader.isAttention)?"\u5df2\u5173\u6ce8":"\u5173\u6ce8")}}function It(t,e){1&t&&(v.Vb(0,"span",26),v.Qb(1,"i",27),v.Ub())}const Lt=function(t){return{active:t}};function Tt(t,e){if(1&t){const t=v.Wb();v.Vb(0,"div",36),v.dc("click",(function(e){return v.Cc(t),v.gc(2).setType("drama")})),v.Nc(1," \u5267\u96c6 "),v.Qb(2,"div",37),v.Ub()}if(2&t){const t=v.gc(2);v.nc("ngClass",v.sc(1,Lt,"drama"===t.type))}}function At(t,e){if(1&t){const t=v.Wb();v.Vb(0,"div",36),v.dc("click",(function(e){return v.Cc(t),v.gc(2).setType("video")})),v.Nc(1," \u5c0f\u89c6\u9891 "),v.Qb(2,"div",37),v.Ub()}if(2&t){const t=v.gc(2);v.nc("ngClass",v.sc(1,Lt,"video"===t.type))}}const Nt=function(t){return{id:t,a:1}};function Bt(t,e){if(1&t&&(v.Vb(0,"div",40),v.Vb(1,"a",41),v.Qb(2,"img",42),v.hc(3,"safeResource"),v.Vb(4,"div",43),v.Nc(5),v.Ub(),v.Ub(),v.Ub()),2&t){const t=e.$implicit;v.Bb(1),v.nc("routerLink","/play")("queryParams",v.sc(6,Nt,t.key)),v.Bb(1),v.oc("src",v.ic(3,4,t.imgPath+"?w=180&mode=stretch&format=jpg"),v.Fc),v.Bb(3),v.Oc(t.title)}}function Vt(t,e){if(1&t&&(v.Vb(0,"div",38),v.Lc(1,Bt,6,8,"div",39),v.hc(2,"slice"),v.Ub()),2&t){const t=v.gc(2);v.Bb(1),v.nc("ngForOf",v.kc(2,1,null==t.uploader?null:t.uploader.videoList,0,t.sliceDramaItems))}}const Ut=function(t){return{v:t}};function Dt(t,e){if(1&t&&(v.Vb(0,"div",40),v.Vb(1,"a",41),v.Qb(2,"img",44),v.hc(3,"safeResource"),v.Vb(4,"div",45),v.Nc(5),v.Ub(),v.Qb(6,"div",46),v.Vb(7,"div",47),v.Nc(8),v.Ub(),v.Ub(),v.Ub()),2&t){const t=e.$implicit;v.Bb(1),v.nc("routerLink","/watch")("queryParams",v.sc(7,Ut,t.key)),v.Bb(1),v.oc("src",v.ic(3,5,t.imgPath+"?w=180&mode=stretch&format=jpg"),v.Fc),v.Bb(3),v.Oc(t.title),v.Bb(3),v.Oc(t.lastSeconds)}}function Et(t,e){if(1&t&&(v.Vb(0,"div",38),v.Lc(1,Dt,9,9,"div",39),v.hc(2,"slice"),v.Ub()),2&t){const t=v.gc(2);v.Bb(1),v.nc("ngForOf",v.kc(2,1,null==t.uploader?null:t.uploader.smallVideoList,0,t.sliceVideoItems))}}function Rt(t,e){if(1&t&&(v.Vb(0,"div",28),v.Vb(1,"div",29),v.Lc(2,Tt,3,3,"div",30),v.Lc(3,At,3,3,"div",30),v.Ub(),v.Vb(4,"div",31),v.Lc(5,Vt,3,5,"div",32),v.Lc(6,Et,3,5,"div",32),v.Vb(7,"div",33),v.Vb(8,"a",34),v.Vb(9,"div",35),v.Nc(10,"\u66f4\u591a >"),v.Ub(),v.Ub(),v.Ub(),v.Ub(),v.Ub()),2&t){const t=v.gc();v.Bb(2),v.nc("ngIf",0!==(null==t.uploader?null:t.uploader.videoList.length)),v.Bb(1),v.nc("ngIf",0!==(null==t.uploader?null:t.uploader.smallVideoList.length)),v.Bb(2),v.nc("ngIf","drama"===t.type),v.Bb(1),v.nc("ngIf","video"===t.type),v.Bb(2),v.nc("routerLink","/space/"+(null==t.uploader?null:t.uploader.userKey)+"/")}}const Ft=function(t){return{maxLv:t}},jt=function(t,e){return{m:t,s:e}},zt=function(t){return{followed:t}};let Ht=(()=>{class t{constructor(t,e,n){this._windowService=t,this._upService=e,this._userService=n,this.screenType=d.a,this.screenSize=d.a.Large,this.subscriptions=[],this.sliceDramaItems=7,this.sliceVideoItems=5,this.type="drama",this.loading=!1,this.unsub=null,this._matchKey="",this.membership=""}set matchKey(t){t&&(this._matchKey=t,this.changeKey())}get matchKey(){return this._matchKey}ngOnInit(){var t,e;this.user=this._userService.user,this.subscriptions.push(this._windowService.size$.subscribe(t=>{this.screenSize=t,this.getSliceChange()}),this._userService.userState$.subscribe(t=>{this.user=t})),this.getMembership(null===(t=this.uploader)||void 0===t?void 0:t.gid),this.type=0!==(null===(e=this.uploader)||void 0===e?void 0:e.videoList.length)?"drama":"video",this.uploader.smallVideoList.forEach(t=>{t.lastSeconds=this.transTimestamp(t.lastSeconds)})}readState(){}changeKey(){if(this.matchKey){var t=this.matchKey;t&&(this.uploader.nickName=this.uploader.nickName.replace(t,'<span class="text-main-color">'+t+"</span>"))}}getMembership(t){switch(t){case 0:this.membership="";break;case 1:case 2:this.membership="gvip";break;case 3:this.membership="royalVip";break;case 4:case 101:case 102:this.membership="cpvip";break;default:this.membership="vip"}}getSliceChange(){this.screenSize!=this.screenType.XSmall&&this.screenSize!=this.screenType.Small||(this.sliceDramaItems=4,this.sliceVideoItems=3),this.screenSize==this.screenType.Medium&&(this.sliceDramaItems=4,this.sliceVideoItems=3),this.screenSize==this.screenType.Large&&(this.sliceDramaItems=5,this.sliceVideoItems=4),this.screenSize==this.screenType.ExtraLarge&&(this.sliceDramaItems=7,this.sliceVideoItems=5)}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe()),this.unsub&&this.unsub()}getLevel(t){return{"background-image":`url(assets/images/user-center/lv_${t}.png)`,"background-size":"contain","background-repeat":"no-repeat","background-position":"center"}}setType(t){this.type=t}follow(){var t;this.user.id?(this.loading=!0,this._upService.SetAttension(null===(t=this.uploader)||void 0===t?void 0:t.userKey).subscribe(t=>{var e,n;401!==t.code?((null===(e=this.uploader)||void 0===e?void 0:e.isAttention)?this.uploader.fansCount-=1:this.uploader.fansCount+=1,this.uploader.isAttention=!(null===(n=this.uploader)||void 0===n?void 0:n.isAttention),this.loading=!1):this.loading=!1})):this._userService.showLoginDialog(!0)}transTimestamp(t){if(null!==t){const e=t.split(".")[0],n=e.split(":")[0],i=e.split(":")[1],o=e.split(":")[2];return"00"===n?i+":"+o:e}return"00:00"}}return t.\u0275fac=function(e){return new(e||t)(v.Pb(d.b),v.Pb(f.a),v.Pb(wt.a))},t.\u0275cmp=v.Jb({type:t,selectors:[["app-uploader-result"]],inputs:{uploader:"uploader",matchKey:"matchKey"},decls:41,vars:34,consts:[[1,"uploader-result","mb-5"],[1,"uploader-info","d-flex","w-100"],[1,"uploader-avatar"],["target","_blank",1,"result-nav-link",3,"routerLink"],[3,"src"],["class","vip-icon",4,"ngIf"],["style","position: absolute; width: 24px; margin-top: 95px; margin-left: 95px;","src","./assets/images/officalUp.png?v=1",4,"ngIf"],[1,"uploader-detail","d-flex","flex-column","justify-content-around"],[1,"detail-row","d-flex","align-items-center"],[1,"uploader-name","mr-2",3,"innerHtml"],[1,"uploader-gender","mr-2"],[1,"iconfont","icon-size",3,"ngClass"],[1,"d-flex","uploader-level",3,"ngClass","ngStyle"],[1,"d-flex","align-items-center","uploader-location"],[1,"iconfont","icon-size","iconditu_dingwei"],[1,"detail-row","uploader-slogan",3,"ngClass"],[1,"detail-row","uploader-data"],[1,"data-number"],[1,"uploader-follow"],[1,"follow-btn",3,"ngClass","click"],[4,"ngIf"],["class","loading-icon",4,"ngIf"],["class","uploader-video",4,"ngIf"],[1,"vip-icon"],[3,"membership","noText","width"],["src","./assets/images/officalUp.png?v=1",2,"position","absolute","width","24px","margin-top","95px","margin-left","95px"],[1,"loading-icon"],[1,"iconfont","iconjiazai_shuaxin","animate-spin"],[1,"uploader-video"],[1,"video-type-selector","d-flex"],["class","video-type",3,"ngClass","click",4,"ngIf"],[1,"video-container","d-flex","justify-content-between"],["class","video-list d-flex",4,"ngIf"],[1,"video-more","d-flex","align-items-center","justify-content-center"],["target","_blank",3,"routerLink"],[1,"more-btn"],[1,"video-type",3,"ngClass","click"],[1,"type-shadow"],[1,"video-list","d-flex"],["class","video-box",4,"ngFor","ngForOf"],[1,"video-box"],[1,"result-nav-link",3,"routerLink","queryParams"],[1,"video-cover",3,"src"],[1,"video-title"],[1,"video-cover","svideo",3,"src"],[1,"video-title","svideo"],[1,"video-cover-shadow"],[1,"video-time"]],template:function(t,e){1&t&&(v.Vb(0,"div",0),v.Vb(1,"div",1),v.Vb(2,"div",2),v.Vb(3,"a",3),v.Qb(4,"img",4),v.hc(5,"safeResource"),v.Ub(),v.Ub(),v.Lc(6,Mt,2,3,"div",5),v.Lc(7,kt,1,0,"img",6),v.Vb(8,"div",7),v.Vb(9,"div",8),v.Vb(10,"a",3),v.Qb(11,"div",9),v.Ub(),v.Vb(12,"div",10),v.Qb(13,"i",11),v.Ub(),v.Qb(14,"div",12),v.Vb(15,"div",13),v.Qb(16,"i",14),v.Nc(17),v.Ub(),v.Ub(),v.Vb(18,"div",15),v.Nc(19),v.Ub(),v.Vb(20,"div",16),v.Vb(21,"span"),v.Nc(22,"\u7c89\u4e1d"),v.Vb(23,"span",17),v.Nc(24),v.hc(25,"chineseCounter"),v.Ub(),v.Ub(),v.Vb(26,"span"),v.Nc(27,"\u4f5c\u54c1"),v.Vb(28,"span",17),v.Nc(29),v.hc(30,"chineseCounter"),v.Ub(),v.Ub(),v.Vb(31,"span"),v.Nc(32,"\u83b7\u8d5e"),v.Vb(33,"span",17),v.Nc(34),v.hc(35,"chineseCounter"),v.Ub(),v.Ub(),v.Ub(),v.Ub(),v.Vb(36,"div",18),v.Vb(37,"div",19),v.dc("click",(function(t){return e.follow()})),v.Lc(38,St,2,1,"span",20),v.Lc(39,It,2,0,"span",21),v.Ub(),v.Ub(),v.Ub(),v.Lc(40,Rt,11,5,"div",22),v.Ub()),2&t&&(v.Bb(3),v.nc("routerLink","/space/"+(null==e.uploader?null:e.uploader.userKey)+"/"),v.Bb(1),v.oc("src",v.ic(5,19,null==e.uploader?null:e.uploader.headImg),v.Fc),v.Bb(2),v.nc("ngIf",!(null!=e.uploader&&e.uploader.isOfficalUP)),v.Bb(1),v.nc("ngIf",null==e.uploader?null:e.uploader.isOfficalUP),v.Bb(3),v.nc("routerLink","/space/"+(null==e.uploader?null:e.uploader.userKey)+"/"),v.Bb(1),v.nc("innerHtml",null==e.uploader?null:e.uploader.nickName,v.Dc),v.Bb(2),v.nc("ngClass",1===(null==e.uploader?null:e.uploader.sex)?"iconnanxing":"iconnvxing"),v.Bb(1),v.nc("ngClass",v.sc(27,Ft,(null==e.uploader?null:e.uploader.currentLevel)>7))("ngStyle",e.getLevel(null==e.uploader?null:e.uploader.currentLevel)),v.Bb(3),v.Pc(" ",null==e.uploader?null:e.uploader.country," "),v.Bb(1),v.nc("ngClass",v.tc(29,jt,4===e.screenSize,e.screenSize<4)),v.Bb(1),v.Pc(" ",null!=e.uploader&&e.uploader.signature?null==e.uploader?null:e.uploader.signature:"\u6ca1\u6709\u4e2a\u6027\u6240\u4ee5\u6ca1\u6709\u7b7e\u540d"," "),v.Bb(5),v.Oc(v.ic(25,21,null==e.uploader?null:e.uploader.fansCount)),v.Bb(5),v.Oc(v.ic(30,23,null==e.uploader?null:e.uploader.videoCount)),v.Bb(5),v.Oc(v.ic(35,25,null==e.uploader?null:e.uploader.sayGoodCount)),v.Bb(3),v.nc("ngClass",v.sc(32,zt,!0===(null==e.uploader?null:e.uploader.isAttention))),v.Bb(1),v.nc("ngIf",!e.loading),v.Bb(1),v.nc("ngIf",e.loading),v.Bb(1),v.nc("ngIf",0!==(null==e.uploader?null:e.uploader.videoList.length)||0!==(null==e.uploader?null:e.uploader.smallVideoList.length)))},directives:[o.g,i.n,i.l,i.o,Ot.a,i.m],pipes:[V.b,V.a,i.v],styles:[".uploader-info[_ngcontent-%COMP%]{position:relative}.uploader-avatar[_ngcontent-%COMP%]{width:122px;height:122px;overflow:hidden;border-radius:50%;margin-right:20px}.uploader-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;-o-object-fit:cover;object-fit:cover}.vip-icon[_ngcontent-%COMP%]{position:absolute;margin-left:95px;margin-top:95px;width:24px}.uploader-name[_ngcontent-%COMP%]{font-size:20px}.uploader-gender[_ngcontent-%COMP%]   .icon-size[_ngcontent-%COMP%]{font-size:16px}.uploader-level[_ngcontent-%COMP%]{margin-right:.5rem;width:36px;height:18px}.uploader-level.maxLv[_ngcontent-%COMP%]{width:54px;height:18px}.uploader-location[_ngcontent-%COMP%]{font-size:12px;color:hsla(0,0%,100%,.4)}.light[_nghost-%COMP%]   .uploader-location[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .uploader-location[_ngcontent-%COMP%]{color:#888}.uploader-location[_ngcontent-%COMP%]   .icon-size[_ngcontent-%COMP%]{font-size:16px}.uploader-slogan[_ngcontent-%COMP%]{color:hsla(0,0%,100%,.4);overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:900px}.light[_nghost-%COMP%]   .uploader-slogan[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .uploader-slogan[_ngcontent-%COMP%]{color:#888}.uploader-slogan.m[_ngcontent-%COMP%]{width:600px!important}.uploader-slogan.s[_ngcontent-%COMP%]{width:450px!important}.uploader-data[_ngcontent-%COMP%]{color:hsla(0,0%,100%,.4)}.light[_nghost-%COMP%]   .uploader-data[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .uploader-data[_ngcontent-%COMP%]{color:#888}.data-number[_ngcontent-%COMP%]{font-size:18px;color:hsla(0,0%,100%,.7);margin-left:12px;margin-right:30px}.light[_nghost-%COMP%]   .data-number[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .data-number[_ngcontent-%COMP%]{color:#333}.uploader-follow[_ngcontent-%COMP%]{position:absolute;right:5px;top:10px}.uploader-follow[_ngcontent-%COMP%]   .follow-btn[_ngcontent-%COMP%]{width:88px;height:38px;line-height:38px;text-align:center;font-size:15px;border-radius:2px;background-color:#00c0ff;color:#fff;border:1px solid transparent;cursor:pointer}.uploader-follow[_ngcontent-%COMP%]   .follow-btn.followed[_ngcontent-%COMP%]{background-color:transparent;border-color:hsla(0,0%,100%,.4);color:hsla(0,0%,100%,.4)}.light[_nghost-%COMP%]   .uploader-follow[_ngcontent-%COMP%]   .follow-btn.followed[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .uploader-follow[_ngcontent-%COMP%]   .follow-btn.followed[_ngcontent-%COMP%]{border-color:#888;color:#888}.uploader-video[_ngcontent-%COMP%]{padding-left:142px}.video-type[_ngcontent-%COMP%]{color:hsla(0,0%,100%,.4);font-size:14px;margin-right:30px;text-align:left;cursor:pointer}.light[_nghost-%COMP%]   .video-type[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .video-type[_ngcontent-%COMP%]{color:#888}.video-type.active[_ngcontent-%COMP%]{color:#00c0ff}.video-type.active[_ngcontent-%COMP%]   .type-shadow[_ngcontent-%COMP%]{background-color:#00c0ff}.video-type[_ngcontent-%COMP%]   .type-shadow[_ngcontent-%COMP%]{width:12px;height:2px;margin:3px auto 0}.video-container[_ngcontent-%COMP%]{margin-top:10px}.video-box[_ngcontent-%COMP%]{margin-right:20px;position:relative}.video-box[_ngcontent-%COMP%]   .video-cover[_ngcontent-%COMP%]{width:126px;height:180px}.video-box[_ngcontent-%COMP%]   .video-cover.svideo[_ngcontent-%COMP%]{width:186px;height:104px;-o-object-fit:cover;object-fit:cover;background:#000}.video-box[_ngcontent-%COMP%]   .video-title[_ngcontent-%COMP%]{color:hsla(0,0%,100%,.7);font-size:14px;height:28px;line-height:28px;text-align:left;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:126px}.light[_nghost-%COMP%]   .video-box[_ngcontent-%COMP%]   .video-title[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .video-box[_ngcontent-%COMP%]   .video-title[_ngcontent-%COMP%]{color:#333}.video-box[_ngcontent-%COMP%]   .video-title.svideo[_ngcontent-%COMP%]{width:186px}.video-box[_ngcontent-%COMP%]:hover   .video-title[_ngcontent-%COMP%]{color:#00c0ff!important}.video-more[_ngcontent-%COMP%]{width:100px}.more-btn[_ngcontent-%COMP%]{white-space:nowrap;font-size:14px;margin-top:-20px}.loading-icon[_ngcontent-%COMP%]   .iconfont[_ngcontent-%COMP%]{font-size:18px}.video-cover-shadow[_ngcontent-%COMP%]{height:28px;position:absolute;bottom:33px;width:100%;background:-webkit-gradient(linear,left top,left bottom,from(transparent),to(rgba(0,0,0,.5)));background:linear-gradient(180deg,transparent,rgba(0,0,0,.5))}.video-time[_ngcontent-%COMP%]{text-align:center;color:#fff;padding:0 8px;z-index:1;font-size:14px;position:absolute;bottom:35px;right:0}.result-nav-link[_ngcontent-%COMP%]:visited{color:#636363}.light[_nghost-%COMP%]   .result-nav-link[_ngcontent-%COMP%]:visited, .light   [_nghost-%COMP%]   .result-nav-link[_ngcontent-%COMP%]:visited{color:#888}.result-nav-link[_ngcontent-%COMP%]:visited   .video-title[_ngcontent-%COMP%]{color:#636363}.light[_nghost-%COMP%]   .result-nav-link[_ngcontent-%COMP%]:visited   .video-title[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .result-nav-link[_ngcontent-%COMP%]:visited   .video-title[_ngcontent-%COMP%]{color:#888}"]}),t})();var Gt=n("AuJu"),Wt=n("tvZR"),qt=n("3umQ");function Qt(t,e){if(1&t&&(v.Vb(0,"span",8),v.Qb(1,"i",9),v.Nc(2),v.hc(3,"chineseCounter"),v.Ub()),2&t){const t=v.gc().$implicit;v.Bb(2),v.Oc(v.ic(3,1,t.count))}}const $t=function(t,e,n){return{rank1:t,rank2:e,rank3:n}},Kt=function(t){return["/search",t]},Xt=function(){return{type:""}};function Yt(t,e){if(1&t&&(v.Vb(0,"div",3),v.Vb(1,"div",4),v.Vb(2,"span",5),v.Nc(3),v.Ub(),v.Vb(4,"a",6),v.Nc(5),v.Ub(),v.Lc(6,Qt,4,3,"span",7),v.Ub(),v.Ub()),2&t){const t=e.$implicit,n=e.index,i=v.gc();v.Bb(2),v.Eb("rank-pos ",i.mode,""),v.nc("ngClass",v.uc(12,$t,0===n,1===n,2===n)),v.Bb(1),v.Oc(n+1),v.Bb(1),v.Eb("title ",i.mode,""),v.nc("routerLink",v.sc(16,Kt,t.title))("queryParams",v.rc(18,Xt)),v.Bb(1),v.Oc(t.title),v.Bb(1),v.nc("ngIf","search"!==i.mode)}}let Zt=(()=>{class t{constructor(t,e){this._windowService=t,this._searchService=e,this.subscriptions=[],this.blockTitle="",this.mode="",this.screenType=d.a,this._windowService.size$.subscribe(t=>{this.screenSize=t})}ngOnInit(){this._searchService.getTrendingSearchList().subscribe(t=>{this.items=t})}}return t.\u0275fac=function(e){return new(e||t)(v.Pb(d.b),v.Pb(s.a))},t.\u0275cmp=v.Jb({type:t,selectors:[["app-sidebar-trending-searches"]],inputs:{blockTitle:"blockTitle",mode:"mode"},decls:4,vars:3,consts:[[3,"title","mode"],[1,"text-small"],["class","rank",4,"ngFor","ngForOf"],[1,"rank"],[1,"d-flex"],[3,"ngClass"],[3,"routerLink","queryParams"],["class","search-count",4,"ngIf"],[1,"search-count"],[1,"dn-icon-medium","icon-search-1"]],template:function(t,e){1&t&&(v.Vb(0,"div"),v.Qb(1,"app-block-title",0),v.Vb(2,"div",1),v.Lc(3,Yt,7,19,"div",2),v.Ub(),v.Ub()),2&t&&(v.Bb(1),v.nc("title",e.blockTitle)("mode",e.mode),v.Bb(2),v.nc("ngForOf",e.items))},directives:[qt.a,i.m,i.l,o.g,i.n],pipes:[V.a],styles:[".rank[_ngcontent-%COMP%]{position:relative;padding:0 15px 8px 42px;vertical-align:middle}.title[_ngcontent-%COMP%]{height:26px;line-height:26px;width:170px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.title.search[_ngcontent-%COMP%]{margin-left:-10px}.search-count[_ngcontent-%COMP%]{line-height:26px;margin-left:auto;min-width:100px;white-space:nowrap;color:hsla(0,0%,100%,.7)}.light[_nghost-%COMP%]   .search-count[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .search-count[_ngcontent-%COMP%]{color:#333}.rank-pos[_ngcontent-%COMP%]{position:absolute;height:26px;width:26px;top:0;left:4px;text-align:center;background-color:#bfbfbf;color:#fff;line-height:26px;font-size:11px}.rank-pos.search[_ngcontent-%COMP%]{font-size:16px;background-color:transparent!important;text-align:left;color:hsla(0,0%,100%,.7);left:0}.light[_nghost-%COMP%]   .rank-pos.search[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .rank-pos.search[_ngcontent-%COMP%]{color:#888}.rank-pos.search.rank1[_ngcontent-%COMP%]{color:#a33407!important}.rank-pos.search.rank2[_ngcontent-%COMP%]{color:#b85702!important}.rank-pos.search.rank3[_ngcontent-%COMP%]{color:#e7a200!important}.rank1[_ngcontent-%COMP%]{background-color:#e7a200}.rank2[_ngcontent-%COMP%]{background-color:#b85702}.rank3[_ngcontent-%COMP%]{background-color:#a33407}.rating-bar[_ngcontent-%COMP%]{margin-top:8px;width:48px;display:inline-block;text-align:center;line-height:26px}.tab-header[_ngcontent-%COMP%]{border-bottom:3px solid hsla(0,0%,40%,.2);padding-left:4px}.tab-header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{width:208px}.tab-header[_ngcontent-%COMP%]   .rating-bar[_ngcontent-%COMP%]{margin:0}"]}),t})();const Jt=["container"],te=["filterGroup"];function ee(t,e){if(1&t){const t=v.Wb();v.Vb(0,"div",22),v.Vb(1,"div",23),v.Nc(2),v.Vb(3,"i",24),v.dc("click",(function(e){return v.Cc(t),v.gc(3).moveToList()})),v.Ub(),v.Ub(),v.Nc(4," \u5171\u6709"),v.Vb(5,"span",25),v.Nc(6),v.Ub(),v.Nc(7,"\u4e2a\u641c\u7d22\u7ed3\u679c "),v.Ub()}if(2&t){const t=v.gc(3);v.Bb(2),v.Pc(" ",t.pageParams.star?t.pageParams.star:t.keyword," "),v.Bb(4),v.Pc(" ",t.resultCounter," ")}}function ne(t,e){if(1&t){const t=v.Wb();v.Vb(0,"app-search-filter",20),v.dc("selectFilterEvent",(function(e){return v.Cc(t),v.gc(4).onGenreFilter(e)})),v.Ub()}if(2&t){const t=v.gc(4);v.nc("label","\u5168\u90e8\u7c7b\u578b")("items",t.genreFilters)("selectedId",t.selectedGenre.title)("key","genre")}}function ie(t,e){if(1&t){const t=v.Wb();v.Vb(0,"app-search-filter",29),v.dc("selectFilterEvent",(function(e){return v.Cc(t),v.gc(4).onRegionFilter(e)})),v.Ub()}if(2&t){const t=v.gc(4);v.nc("label","\u5168\u90e8\u5730\u533a")("items",t.regionFilters)("selectedId",-1===t.selectedRegion.id?-1:t.selectedRegion.title)("shouldNotChange",!1)("key","regoin")}}function oe(t,e){if(1&t){const t=v.Wb();v.Vb(0,"app-search-filter",29),v.dc("selectFilterEvent",(function(e){return v.Cc(t),v.gc(4).onLanguageFilter(e)})),v.Ub()}if(2&t){const t=v.gc(4);v.nc("label","\u5168\u90e8\u8bed\u8a00")("items",t.languageFilters)("selectedId",-1===t.selectedLanguage.id?-1:t.selectedLanguage.title)("shouldNotChange",!1)("key","language")}}function se(t,e){if(1&t){const t=v.Wb();v.Vb(0,"app-search-filter",29),v.dc("selectFilterEvent",(function(e){return v.Cc(t),v.gc(4).onYearFilter(e)})),v.Ub()}if(2&t){const t=v.gc(4);v.nc("label","\u5168\u90e8\u5e74\u4efd")("items",t.yearFilters)("selectedId",-1===t.selectedYear.id?-1:t.selectedYear.title)("shouldNotChange",!1)("key","year")}}function re(t,e){if(1&t){const t=v.Wb();v.Vb(0,"app-search-filter",30),v.dc("selectFilterEvent",(function(e){return v.Cc(t),v.gc(4).onStatusFilter(e)})),v.Ub()}if(2&t){const t=v.gc(4);v.nc("label","\u5168\u90e8\u72b6\u6001")("items",t.statusFilters)("disabled","0,1,3"===t.selectedCategory.cid)("selectedId",-1===t.selectedStatus.id?-1:t.selectedStatus.id)("shouldNotChange",!1)("key","serilia")}}function ae(t,e){if(1&t){const t=v.Wb();v.Tb(0),v.Lc(1,ne,1,4,"app-search-filter",26),v.Lc(2,ie,1,5,"app-search-filter",27),v.Lc(3,oe,1,5,"app-search-filter",27),v.Lc(4,se,1,5,"app-search-filter",27),v.Vb(5,"app-search-filter",20),v.dc("selectFilterEvent",(function(e){return v.Cc(t),v.gc(3).onBitrateFilter(e)})),v.Ub(),v.Lc(6,re,1,6,"app-search-filter",28),v.Sb()}if(2&t){const t=v.gc(3);v.Bb(1),v.nc("ngIf","search"!==t.mode&&"\u5168\u90e8\u7248\u5757"!==t.selectedCategory.title),v.Bb(1),v.nc("ngIf",t.regionFilters),v.Bb(1),v.nc("ngIf",t.languageFilters),v.Bb(1),v.nc("ngIf",t.yearFilters),v.Bb(1),v.nc("label","\u5168\u90e8\u753b\u8d28")("items",t.bitrateFilter)("selectedId",t.selectedBitrate?t.selectedBitrate.title:"\u5168\u90e8\u753b\u8d28")("key","bitrate"),v.Bb(1),v.nc("ngIf",t.statusFilters&&"0,1,3"!==t.selectedCategory.cid)}}function ce(t,e){if(1&t){const t=v.Wb();v.Tb(0),v.Vb(1,"app-search-filter",20),v.dc("selectFilterEvent",(function(e){return v.Cc(t),v.gc(3).onTagFilter(e)})),v.Ub(),v.Sb()}if(2&t){const t=v.gc(3);v.Bb(1),v.nc("label","\u5168\u90e8\u6807\u7b7e")("items",t.tagsFilter)("selectedId",t.selectedTag?t.selectedTag.title:"\u5168\u90e8")("key","tag")}}const le=function(t){return{withGG:t}};function he(t,e){if(1&t){const t=v.Wb();v.Vb(0,"div",17,18),v.dc("change",(function(e){return v.Cc(t),v.gc(2).getFilterHeight()})),v.Lc(2,ee,8,2,"div",19),v.Vb(3,"app-search-filter",20),v.dc("selectFilterEvent",(function(e){return v.Cc(t),v.gc(2).onCategoryFilter(e)})),v.Ub(),v.Lc(4,ae,7,9,"ng-container",21),v.Lc(5,ce,2,4,"ng-container",21),v.Ub()}if(2&t){const t=v.gc(2);v.nc("ngClass",v.sc(8,le,!t.ifHideGG)),v.Bb(2),v.nc("ngIf","search"===t.mode),v.Bb(1),v.nc("label","\u5168\u90e8\u7248\u5757")("items",t.categoryFilters)("selectedId",t.selectedCategory?t.selectedCategory.title:"\u5168\u90e8\u7248\u5757")("key","category"),v.Bb(1),v.nc("ngIf",!!t.selectedCategory&&!t.selectedCategory.tagFilter),v.Bb(1),v.nc("ngIf",!!t.selectedCategory&&t.selectedCategory.tagFilter)}}function de(t,e){if(1&t){const t=v.Wb();v.Vb(0,"app-search-filter",20),v.dc("selectFilterEvent",(function(e){return v.Cc(t),v.gc(3).onTagFilter(e)})),v.Ub()}if(2&t){const t=v.gc(3);v.nc("label","\u5168\u90e8\u559c\u597d")("items",t.adultTagsFilters)("selectedId",t.selectedTag?t.selectedTag.title:"\u5168\u90e8")("key","tag")}}function ue(t,e){if(1&t){const t=v.Wb();v.Vb(0,"app-search-filter",20),v.dc("selectFilterEvent",(function(e){return v.Cc(t),v.gc(3).onIsRecommendedFilter(e)})),v.Ub()}if(2&t){const t=v.gc(3);v.nc("label","\u5168\u90e8\u63a8\u8350")("items",t.isRecommendedFilters)("selectedId",-1===t.selectedIsRecommended.id?-1:t.selectedIsRecommended.title)("key","recom")}}function ge(t,e){if(1&t){const t=v.Wb();v.Vb(0,"app-search-filter",33),v.dc("selectFilterEvent",(function(e){return v.Cc(t),v.gc(3).onIsFreeFilter(e)})),v.Ub()}if(2&t){const t=v.gc(3);v.nc("label","\u5168\u90e8\u8d44\u8d39")("items",t.isFreeFilters)("selectedId",-1===t.selectedIsFree.id?-1:t.selectedIsFree.title)("key","fee")}}function pe(t,e){if(1&t){const t=v.Wb();v.Vb(0,"div",31),v.Vb(1,"app-search-filter",20),v.dc("selectFilterEvent",(function(e){return v.Cc(t),v.gc(2).onCategoryFilter(e)})),v.Ub(),v.Lc(2,de,1,4,"app-search-filter",26),v.Lc(3,ue,1,4,"app-search-filter",26),v.Lc(4,ge,1,4,"app-search-filter",32),v.Ub()}if(2&t){const t=v.gc(2);v.Bb(1),v.nc("label","\u5168\u90e8\u7248\u5757")("items",t.categoryFilters)("selectedId",t.selectedCategory?t.selectedCategory.title:"\u5168\u90e8")("key","category"),v.Bb(1),v.nc("ngIf",t.adultTagsFilters&&"list"===t.mode),v.Bb(1),v.nc("ngIf",t.isRecommendedFilters&&"list"===t.mode),v.Bb(1),v.nc("ngIf",t.isFreeFilters&&"list"===t.mode)}}function fe(t,e){if(1&t&&v.Qb(0,"app-gg-block",34),2&t){const t=v.gc(2);v.nc("ggPosition",t.ggPosition.SearchPageContent)("code",t.isAdult?"ALB1":"LB1")}}function be(t,e){if(1&t){const t=v.Wb();v.Vb(0,"div",9),v.Vb(1,"div",10),v.Lc(2,he,6,10,"div",11),v.Lc(3,pe,5,7,"div",12),v.Vb(4,"div",13),v.Vb(5,"div",14),v.Vb(6,"app-gg-block",15),v.dc("ggLoaded",(function(e){return v.Cc(t),v.gc().loadHandler(e)})),v.Ub(),v.Ub(),v.Ub(),v.Ub(),v.Vb(7,"div",10),v.Lc(8,fe,1,2,"app-gg-block",16),v.Ub(),v.Ub()}if(2&t){const t=v.gc();v.Bb(2),v.nc("ngIf",!t.isAdult),v.Bb(1),v.nc("ngIf",t.isAdult),v.Bb(1),v.Kc("height",t.filterHeight,"px"),v.nc("hidden",t.ifHideGG),v.Bb(2),v.nc("ggPosition",t.ggPosition.SearchPageContent)("code",t.isAdult?"ASS":"SS"),v.Bb(2),v.nc("ngIf","list"===t.mode)}}function me(t,e){if(1&t&&(v.Vb(0,"span",49),v.Nc(1),v.Ub()),2&t){const t=v.gc(4);v.Bb(1),v.Oc(t.videoResultCounter)}}function ve(t,e){if(1&t&&(v.Vb(0,"span",49),v.Nc(1),v.Ub()),2&t){const t=v.gc(4);v.Bb(1),v.Oc(t.uploaderResultCounter)}}function ye(t,e){if(1&t&&(v.Vb(0,"span",49),v.Nc(1),v.Ub()),2&t){const t=v.gc(4);v.Bb(1),v.Oc(t.albumResultCounter)}}function Ce(t,e){if(1&t&&(v.Vb(0,"span",49),v.Nc(1),v.Ub()),2&t){const t=v.gc(4);v.Bb(1),v.Oc(t.activityResultCounter)}}function _e(t,e){if(1&t){const t=v.Wb();v.Vb(0,"app-sort-button",54),v.dc("sortEvent",(function(e){return v.Cc(t),v.gc(6).sort(e)})),v.Ub()}if(2&t){const t=v.gc(6);v.Jc(t.setSortButtonStyle(),v.Ib),v.nc("label","\u5339\u914d\u7a0b\u5ea6")("orderById",t.orderByTypes.Relativity)("desc",t.pageParams.desc)("active",t.pageParams.orderBy===t.orderByTypes.Relativity)("mode",t.mode)}}function xe(t,e){if(1&t){const t=v.Wb();v.Vb(0,"app-sort-button",54),v.dc("sortEvent",(function(e){return v.Cc(t),v.gc(6).sort(e)})),v.Ub()}if(2&t){const t=v.gc(6);v.Jc(t.setSortButtonStyle(),v.Ib),v.nc("label","\u66f4\u65b0\u65f6\u95f4")("orderById",t.orderByTypes.Updated)("desc",t.pageParams.desc)("active",t.pageParams.orderBy===t.orderByTypes.Updated)("mode",t.mode)}}function Pe(t,e){if(1&t){const t=v.Wb();v.Vb(0,"div",52),v.Lc(1,_e,1,7,"app-sort-button",53),v.Vb(2,"app-sort-button",54),v.dc("sortEvent",(function(e){return v.Cc(t),v.gc(5).sort(e)})),v.Ub(),v.Lc(3,xe,1,7,"app-sort-button",53),v.Vb(4,"app-sort-button",54),v.dc("sortEvent",(function(e){return v.Cc(t),v.gc(5).sort(e)})),v.Ub(),v.Vb(5,"app-sort-button",54),v.dc("sortEvent",(function(e){return v.Cc(t),v.gc(5).sort(e)})),v.Ub(),v.Ub()}if(2&t){const t=v.gc(5);v.Bb(1),v.nc("ngIf","search"===t.mode),v.Bb(1),v.Jc(t.setSortButtonStyle(),v.Ib),v.nc("label","\u6dfb\u52a0\u65f6\u95f4")("orderById",t.orderByTypes.Added)("desc",t.pageParams.desc)("active",t.pageParams.orderBy===t.orderByTypes.Added)("mode",t.mode),v.Bb(1),v.nc("ngIf",!t.isAdult&&7!==t.display&&"0,1,3"!==t.selectedCategory.cid),v.Bb(1),v.Jc(t.setSortButtonStyle(),v.Ib),v.nc("label","\u4eba\u6c14\u9ad8\u4f4e")("orderById",t.orderByTypes.Popular)("desc",t.pageParams.desc)("active",t.pageParams.orderBy===t.orderByTypes.Popular)("mode",t.mode),v.Bb(1),v.Jc(t.setSortButtonStyle(!0),v.Ib),v.nc("label","\u8bc4\u5206\u9ad8\u4f4e")("orderById",t.orderByTypes.Rating)("desc",t.pageParams.desc)("active",t.pageParams.orderBy===t.orderByTypes.Rating)("mode",t.mode)}}function we(t,e){if(1&t&&(v.Vb(0,"div",50),v.Lc(1,Pe,6,23,"div",51),v.Ub()),2&t){const t=v.gc(4);v.Bb(1),v.nc("ngIf",t.pageParams)}}const Oe=function(t){return{active:t}};function Me(t,e){if(1&t){const t=v.Wb();v.Vb(0,"div",38),v.Vb(1,"div",39),v.Vb(2,"div",40),v.Vb(3,"div",41),v.dc("click",(function(e){return v.Cc(t),v.gc(3).setSearchType("video")})),v.Nc(4," \u89c6\u9891 "),v.Lc(5,me,2,1,"span",42),v.Ub(),v.Vb(6,"div",41),v.dc("click",(function(e){return v.Cc(t),v.gc(3).setSearchType("user")})),v.Nc(7," \u7528\u6237 "),v.Lc(8,ve,2,1,"span",42),v.Ub(),v.Vb(9,"div",41),v.dc("click",(function(e){return v.Cc(t),v.gc(3).setSearchType("album")})),v.Nc(10," \u76f8\u518c "),v.Lc(11,ye,2,1,"span",42),v.Ub(),v.Vb(12,"div",43),v.dc("click",(function(e){return v.Cc(t),v.gc(3).setSearchType("activity")})),v.Nc(13," \u52a8\u6001 "),v.Lc(14,Ce,2,1,"span",42),v.Ub(),v.Ub(),v.Qb(15,"div",44),v.Vb(16,"div",45),v.Vb(17,"div",46),v.Nc(18),v.Ub(),v.Vb(19,"i",24),v.dc("click",(function(e){return v.Cc(t),v.gc(3).moveToList()})),v.Ub(),v.Ub(),v.Vb(20,"span",47),v.Nc(21," \u5171\u6709"),v.Vb(22,"span",25),v.Nc(23),v.Ub(),v.Nc(24,"\u4e2a\u641c\u7d22\u7ed3\u679c "),v.Ub(),v.Ub(),v.Lc(25,we,2,1,"div",48),v.Ub()}if(2&t){const t=v.gc(3);v.Bb(3),v.nc("ngClass",v.sc(11,Oe,!t.searchUser&&("video"===t.pageParams.type||""===t.pageParams.type))),v.Bb(2),v.nc("ngIf",t.videoResultCounter>0),v.Bb(1),v.nc("ngClass",v.sc(13,Oe,t.searchUser)),v.Bb(2),v.nc("ngIf",t.uploaderResultCounter>0),v.Bb(1),v.nc("ngClass",v.sc(15,Oe,!t.searchUser&&"album"===t.pageParams.type)),v.Bb(2),v.nc("ngIf",t.albumResultCounter>0),v.Bb(1),v.nc("ngClass",v.sc(17,Oe,!t.searchUser&&"activity"===t.pageParams.type)),v.Bb(2),v.nc("ngIf",t.activityResultCounter>0),v.Bb(4),v.Oc(t.pageParams.star?t.pageParams.star:t.keyword),v.Bb(5),v.Pc(" ",t.searchUser?t.uploaderResultCounter:"album"===t.pageParams.type?t.albumResultCounter:"activity"===t.pageParams.type?t.activityResultCounter:t.videoResultCounter," "),v.Bb(2),v.nc("ngIf",!t.searchUser&&"album"!==t.pageParams.type&&"activity"!==t.pageParams.type)}}function ke(t,e){if(1&t){const t=v.Wb();v.Vb(0,"app-search-filter",20),v.dc("selectFilterEvent",(function(e){return v.Cc(t),v.gc(5).onGenreFilter(e)})),v.Ub()}if(2&t){const t=v.gc(5);v.nc("label","\u5168\u90e8\u7c7b\u578b")("items",t.genreFilters)("selectedId",t.selectedGenre.title)("key","genre")}}function Se(t,e){if(1&t){const t=v.Wb();v.Vb(0,"app-search-filter",29),v.dc("selectFilterEvent",(function(e){return v.Cc(t),v.gc(5).onRegionFilter(e)})),v.Ub()}if(2&t){const t=v.gc(5);v.nc("label","\u5168\u90e8\u5730\u533a")("items",t.regionFilters)("selectedId",-1===t.selectedRegion.id?-1:t.selectedRegion.title)("shouldNotChange",!1)("key","regoin")}}function Ie(t,e){if(1&t){const t=v.Wb();v.Vb(0,"app-search-filter",29),v.dc("selectFilterEvent",(function(e){return v.Cc(t),v.gc(5).onLanguageFilter(e)})),v.Ub()}if(2&t){const t=v.gc(5);v.nc("label","\u5168\u90e8\u8bed\u8a00")("items",t.languageFilters)("selectedId",-1===t.selectedLanguage.id?-1:t.selectedLanguage.title)("shouldNotChange",!1)("key","language")}}function Le(t,e){if(1&t){const t=v.Wb();v.Vb(0,"app-search-filter",29),v.dc("selectFilterEvent",(function(e){return v.Cc(t),v.gc(5).onYearFilter(e)})),v.Ub()}if(2&t){const t=v.gc(5);v.nc("label","\u5168\u90e8\u5e74\u4efd")("items",t.yearFilters)("selectedId",-1===t.selectedYear.id?-1:t.selectedYear.title)("shouldNotChange",!1)("key","year")}}function Te(t,e){if(1&t){const t=v.Wb();v.Vb(0,"app-search-filter",30),v.dc("selectFilterEvent",(function(e){return v.Cc(t),v.gc(5).onStatusFilter(e)})),v.Ub()}if(2&t){const t=v.gc(5);v.nc("label","\u5168\u90e8\u72b6\u6001")("items",t.statusFilters)("disabled","0,1,3"===t.selectedCategory.cid)("selectedId",-1===t.selectedStatus.id?-1:t.selectedStatus.id)("shouldNotChange",!1)("key","serilia")}}function Ae(t,e){if(1&t){const t=v.Wb();v.Tb(0),v.Lc(1,ke,1,4,"app-search-filter",26),v.Lc(2,Se,1,5,"app-search-filter",27),v.Lc(3,Ie,1,5,"app-search-filter",27),v.Lc(4,Le,1,5,"app-search-filter",27),v.Vb(5,"app-search-filter",20),v.dc("selectFilterEvent",(function(e){return v.Cc(t),v.gc(4).onBitrateFilter(e)})),v.Ub(),v.Lc(6,Te,1,6,"app-search-filter",28),v.Sb()}if(2&t){const t=v.gc(4);v.Bb(1),v.nc("ngIf","search"!==t.mode),v.Bb(1),v.nc("ngIf",t.regionFilters),v.Bb(1),v.nc("ngIf",t.languageFilters),v.Bb(1),v.nc("ngIf",t.yearFilters),v.Bb(1),v.nc("label","\u5168\u90e8\u753b\u8d28")("items",t.bitrateFilter)("selectedId",t.selectedBitrate?t.selectedBitrate.title:"\u5168\u90e8\u753b\u8d28")("key","bitrate"),v.Bb(1),v.nc("ngIf",t.statusFilters&&"0,1,3"!==t.selectedCategory.cid)}}function Ne(t,e){if(1&t){const t=v.Wb();v.Tb(0),v.Vb(1,"app-search-filter",20),v.dc("selectFilterEvent",(function(e){return v.Cc(t),v.gc(4).onTagFilter(e)})),v.Ub(),v.Sb()}if(2&t){const t=v.gc(4);v.Bb(1),v.nc("label","\u5168\u90e8\u6807\u7b7e")("items",t.tagsFilter)("selectedId",t.selectedTag?t.selectedTag.title:"\u5168\u90e8")("key","tag")}}function Be(t,e){if(1&t){const t=v.Wb();v.Vb(0,"div"),v.Vb(1,"app-search-filter",20),v.dc("selectFilterEvent",(function(e){return v.Cc(t),v.gc(3).onCategoryFilter(e)})),v.Ub(),v.Lc(2,Ae,7,9,"ng-container",21),v.Lc(3,Ne,2,4,"ng-container",21),v.Ub()}if(2&t){const t=v.gc(3);v.Bb(1),v.nc("label","\u5168\u90e8\u7248\u5757")("items",t.categoryFilters)("selectedId",t.selectedCategory?t.selectedCategory.title:"\u5168\u90e8\u7248\u5757")("key","category"),v.Bb(1),v.nc("ngIf",!!t.selectedCategory&&!t.selectedCategory.tagFilter),v.Bb(1),v.nc("ngIf",!!t.selectedCategory&&t.selectedCategory.tagFilter&&"svideo"!==t.selectedCategory.cid)}}function Ve(t,e){if(1&t){const t=v.Wb();v.Vb(0,"div"),v.Vb(1,"app-search-filter",55),v.dc("selectFilterEvent",(function(e){return v.Cc(t),v.gc(3).onCategoryFilter(e)})),v.Ub(),v.Ub()}if(2&t){const t=v.gc(3);v.Bb(1),v.nc("label","\u5168\u90e8\u7248\u5757")("items",t.albumLabelFilters)("selectedId",t.selectedLabel?t.selectedLabel.title:"\u5168\u90e8")("key","category")}}const Ue=function(t,e){return{search:t,withGG:e}};function De(t,e){if(1&t){const t=v.Wb();v.Vb(0,"div",17,18),v.dc("change",(function(e){return v.Cc(t),v.gc(2).getFilterHeight()})),v.Lc(2,Me,26,19,"div",37),v.Lc(3,Be,4,6,"div",21),v.Lc(4,Ve,2,4,"div",21),v.Ub()}if(2&t){const t=v.gc(2);v.nc("ngClass",v.tc(4,Ue,"search"===t.mode,!t.ifHideGG)),v.Bb(2),v.nc("ngIf","search"===t.mode),v.Bb(1),v.nc("ngIf",!t.searchUser&&"album"!==t.pageParams.type&&"activity"!==t.pageParams.type),v.Bb(1),v.nc("ngIf",!t.searchUser&&("album"===t.pageParams.type||"activity"===t.pageParams.type))}}function Ee(t,e){if(1&t){const t=v.Wb();v.Vb(0,"app-search-filter",20),v.dc("selectFilterEvent",(function(e){return v.Cc(t),v.gc(3).onTagFilter(e)})),v.Ub()}if(2&t){const t=v.gc(3);v.nc("label","\u5168\u90e8\u559c\u597d")("items",t.adultTagsFilters)("selectedId",t.selectedTag?t.selectedTag.title:"\u5168\u90e8")("key","tag")}}function Re(t,e){if(1&t){const t=v.Wb();v.Vb(0,"app-search-filter",20),v.dc("selectFilterEvent",(function(e){return v.Cc(t),v.gc(3).onIsRecommendedFilter(e)})),v.Ub()}if(2&t){const t=v.gc(3);v.nc("label","\u5168\u90e8\u63a8\u8350")("items",t.isRecommendedFilters)("selectedId",-1===t.selectedIsRecommended.id?-1:t.selectedIsRecommended.title)("key","recom")}}function Fe(t,e){if(1&t){const t=v.Wb();v.Vb(0,"app-search-filter",33),v.dc("selectFilterEvent",(function(e){return v.Cc(t),v.gc(3).onIsFreeFilter(e)})),v.Ub()}if(2&t){const t=v.gc(3);v.nc("label","\u5168\u90e8\u8d44\u8d39")("items",t.isFreeFilters)("selectedId",-1===t.selectedIsFree.id?-1:t.selectedIsFree.title)("key","fee")}}function je(t,e){if(1&t){const t=v.Wb();v.Vb(0,"div",31),v.Vb(1,"app-search-filter",20),v.dc("selectFilterEvent",(function(e){return v.Cc(t),v.gc(2).onCategoryFilter(e)})),v.Ub(),v.Lc(2,Ee,1,4,"app-search-filter",26),v.Lc(3,Re,1,4,"app-search-filter",26),v.Lc(4,Fe,1,4,"app-search-filter",32),v.Ub()}if(2&t){const t=v.gc(2);v.Bb(1),v.nc("label","\u5168\u90e8\u7248\u5757")("items",t.categoryFilters)("selectedId",t.selectedCategory?t.selectedCategory.title:"\u5168\u90e8")("key","category"),v.Bb(1),v.nc("ngIf",t.adultTagsFilters&&"list"===t.mode),v.Bb(1),v.nc("ngIf",t.isRecommendedFilters&&"list"===t.mode),v.Bb(1),v.nc("ngIf",t.isFreeFilters&&"list"===t.mode)}}function ze(t,e){if(1&t){const t=v.Wb();v.Vb(0,"div",9),v.Vb(1,"div",35),v.Lc(2,De,5,7,"div",11),v.Lc(3,je,5,7,"div",12),v.Vb(4,"div",36),v.Vb(5,"div",14),v.Vb(6,"app-gg-block",15),v.dc("ggLoaded",(function(e){return v.Cc(t),v.gc().loadHandler(e)})),v.Ub(),v.Ub(),v.Ub(),v.Ub(),v.Ub()}if(2&t){const t=v.gc();v.Bb(2),v.nc("ngIf",!t.isAdult),v.Bb(1),v.nc("ngIf",t.isAdult),v.Bb(1),v.Kc("height",t.filterHeight,"px"),v.nc("hidden",t.ifHideGG),v.Bb(2),v.nc("ggPosition",t.ggPosition.SearchPageContent)("code",t.isAdult?"ASS":"SS")}}function He(t,e){if(1&t){const t=v.Wb();v.Vb(0,"app-sort-button",64),v.dc("sortEvent",(function(e){return v.Cc(t),v.gc(3).sort(e)})),v.Ub()}if(2&t){const t=v.gc(3);v.Jc(t.setSortButtonStyle(),v.Ib),v.nc("label","\u66f4\u65b0\u65f6\u95f4")("orderById",t.orderByTypes.Updated)("desc",t.pageParams.desc)("active",t.pageParams.orderBy===t.orderByTypes.Updated)}}function Ge(t,e){if(1&t){const t=v.Wb();v.Vb(0,"div",63),v.Vb(1,"app-sort-button",64),v.dc("sortEvent",(function(e){return v.Cc(t),v.gc(2).sort(e)})),v.Ub(),v.Lc(2,He,1,6,"app-sort-button",65),v.Vb(3,"app-sort-button",64),v.dc("sortEvent",(function(e){return v.Cc(t),v.gc(2).sort(e)})),v.Ub(),v.Vb(4,"app-sort-button",64),v.dc("sortEvent",(function(e){return v.Cc(t),v.gc(2).sort(e)})),v.Ub(),v.Ub()}if(2&t){const t=v.gc(2);v.Bb(1),v.Jc(t.setSortButtonStyle(),v.Ib),v.nc("label","\u521b\u5efa\u65f6\u95f4")("orderById",t.orderByTypes.Added)("desc",t.pageParams.desc)("active",t.pageParams.orderBy===t.orderByTypes.Added),v.Bb(1),v.nc("ngIf",!t.isAdult),v.Bb(1),v.Jc(t.setSortButtonStyle(),v.Ib),v.nc("label","\u4eba\u6c14\u9ad8\u4f4e")("orderById",t.orderByTypes.Popular)("desc",t.pageParams.desc)("active",t.pageParams.orderBy===t.orderByTypes.Popular),v.Bb(1),v.Jc(t.setSortButtonStyle(!0),v.Ib),v.nc("label","\u8ba2\u9605\u4eba\u6570")("orderById",t.orderByTypes.Rating)("desc",t.pageParams.desc)("active",t.pageParams.orderBy===t.orderByTypes.Rating)}}function We(t,e){1&t&&v.Qb(0,"div",68)}function qe(t,e){1&t&&v.Qb(0,"div",68)}const Qe=function(t){return{"d-flex flex-wrap justify-content-between":t}};function $e(t,e){if(1&t&&(v.Vb(0,"div",66),v.Lc(1,We,1,0,"div",67),v.Lc(2,qe,1,0,"div",67),v.Ub()),2&t){const t=v.gc(2);v.nc("ngClass",v.sc(3,Qe,"list"===t.mode)),v.Bb(1),v.nc("ngForOf",t.searchResults),v.Bb(1),v.nc("ngForOf",t.flexPlaceholder)}}function Ke(t,e){1&t&&(v.Vb(0,"div",69),v.Qb(1,"app-loader-spinner"),v.Ub())}function Xe(t,e){if(1&t){const t=v.Wb();v.Vb(0,"app-pager",72),v.dc("selectPageEvent",(function(e){return v.Cc(t),v.gc(3).onSelectPage(e)})),v.Ub()}if(2&t){const t=v.gc(3);v.nc("total",t.resultCounter)("current",t.pageParams.page)("pageSize",t.pageParams.pageSize)}}function Ye(t,e){if(1&t&&(v.Vb(0,"div",70),v.Lc(1,Xe,1,3,"app-pager",71),v.Ub()),2&t){const t=v.gc(2);v.Bb(1),v.nc("ngIf",!t.keyword||!t.pageParams.star||"list"===t.mode)}}function Ze(t,e){if(1&t&&(v.Vb(0,"div",56),v.Vb(1,"div",57),v.Lc(2,Ge,5,19,"div",58),v.Vb(3,"div",59),v.Nc(4,"\u5171\u6709 "),v.Vb(5,"span",25),v.Nc(6),v.Ub(),v.Nc(7,"\u4e2a\u7b5b\u9009\u7ed3\u679c "),v.Ub(),v.Ub(),v.Lc(8,$e,3,5,"div",60),v.Lc(9,Ke,2,0,"div",61),v.Lc(10,Ye,2,1,"div",62),v.Ub()),2&t){const t=v.gc();v.Bb(2),v.nc("ngIf",t.pageParams),v.Bb(4),v.Pc(" ",t.resultCounter," "),v.Bb(2),v.nc("ngIf",!t.isPending),v.Bb(1),v.nc("ngIf",t.isPending),v.Bb(1),v.nc("ngIf",!t.isPending)}}function Je(t,e){if(1&t){const t=v.Wb();v.Vb(0,"app-sort-button",64),v.dc("sortEvent",(function(e){return v.Cc(t),v.gc(4).sort(e)})),v.Ub()}if(2&t){const t=v.gc(4);v.Jc(t.setSortButtonStyle(),v.Ib),v.nc("label","\u5339\u914d\u7a0b\u5ea6")("orderById",t.orderByTypes.Relativity)("desc",t.pageParams.desc)("active",t.pageParams.orderBy===t.orderByTypes.Relativity)}}function tn(t,e){if(1&t){const t=v.Wb();v.Vb(0,"app-sort-button",64),v.dc("sortEvent",(function(e){return v.Cc(t),v.gc(4).sort(e)})),v.Ub()}if(2&t){const t=v.gc(4);v.Jc(t.setSortButtonStyle(),v.Ib),v.nc("label","\u66f4\u65b0\u65f6\u95f4")("orderById",t.orderByTypes.Updated)("desc",t.pageParams.desc)("active",t.pageParams.orderBy===t.orderByTypes.Updated)}}function en(t,e){if(1&t){const t=v.Wb();v.Vb(0,"div",63),v.Lc(1,Je,1,6,"app-sort-button",65),v.Vb(2,"app-sort-button",64),v.dc("sortEvent",(function(e){return v.Cc(t),v.gc(3).sort(e)})),v.Ub(),v.Lc(3,tn,1,6,"app-sort-button",65),v.Vb(4,"app-sort-button",64),v.dc("sortEvent",(function(e){return v.Cc(t),v.gc(3).sort(e)})),v.Ub(),v.Vb(5,"app-sort-button",64),v.dc("sortEvent",(function(e){return v.Cc(t),v.gc(3).sort(e)})),v.Ub(),v.Ub()}if(2&t){const t=v.gc(3);v.Bb(1),v.nc("ngIf","search"===t.mode),v.Bb(1),v.Jc(t.setSortButtonStyle(),v.Ib),v.nc("label","\u6dfb\u52a0\u65f6\u95f4")("orderById",t.orderByTypes.Added)("desc",t.pageParams.desc)("active",t.pageParams.orderBy===t.orderByTypes.Added),v.Bb(1),v.nc("ngIf",!t.isAdult&&7!==t.display&&"0,1,3"!==t.selectedCategory.cid),v.Bb(1),v.Jc(t.setSortButtonStyle(),v.Ib),v.nc("label","\u4eba\u6c14\u9ad8\u4f4e")("orderById",t.orderByTypes.Popular)("desc",t.pageParams.desc)("active",t.pageParams.orderBy===t.orderByTypes.Popular),v.Bb(1),v.Jc(t.setSortButtonStyle(!0),v.Ib),v.nc("label","\u8bc4\u5206\u9ad8\u4f4e")("orderById",t.orderByTypes.Rating)("desc",t.pageParams.desc)("active",t.pageParams.orderBy===t.orderByTypes.Rating)}}function nn(t,e){if(1&t&&(v.Vb(0,"div",59),v.Nc(1,"\u5171\u6709 "),v.Vb(2,"span",25),v.Nc(3),v.Ub(),v.Nc(4,"\u4e2a\u7b5b\u9009\u7ed3\u679c "),v.Ub()),2&t){const t=v.gc(3);v.Bb(3),v.Pc(" ",t.resultCounter," ")}}function on(t,e){if(1&t&&(v.Vb(0,"div",57),v.Lc(1,en,6,20,"div",58),v.Lc(2,nn,5,1,"div",78),v.Ub()),2&t){const t=v.gc(2);v.Bb(1),v.nc("ngIf",t.pageParams),v.Bb(1),v.nc("ngIf",t.resultCounter&&"list"===t.mode)}}const sn=function(){return["/play"]},rn=function(t){return{id:t,a:1}};function an(t,e){if(1&t&&(v.Vb(0,"div",83),v.Qb(1,"app-video-teaser",84),v.Qb(2,"app-teaser-detail",85),v.Vb(3,"div",86),v.Vb(4,"div",87),v.Vb(5,"a",88),v.Qb(6,"i",89),v.Ub(),v.Ub(),v.Ub(),v.Qb(7,"div",81),v.Ub()),2&t){const t=e.$implicit,n=v.gc(3);v.Bb(1),v.Kc("width",n.responsiveTeaserSize.width,"px")("height",n.responsiveTeaserSize.height+n.marginBottom-30,"px"),v.nc("display",n.display)("video",t)("listStyle",!1)("fromList",!0),v.Bb(1),v.nc("video",t)("fromList",!0),v.Bb(3),v.nc("routerLink",v.rc(12,sn))("queryParams",v.sc(13,rn,t.key))}}function cn(t,e){if(1&t&&v.Qb(0,"div",90),2&t){const t=v.gc(3);v.Kc("width",t.responsiveTeaserSize.width,"px")}}function ln(t,e){if(1&t&&(v.Vb(0,"div",79),v.Lc(1,an,8,15,"div",80),v.Qb(2,"div",81),v.Lc(3,cn,1,2,"div",82),v.Ub()),2&t){const t=v.gc(2);v.Bb(1),v.nc("ngForOf",t.searchResults),v.Bb(2),v.nc("ngForOf",t.flexPlaceholder)}}function hn(t,e){if(1&t&&v.Qb(0,"app-video-teaser-searchresult",92),2&t){const t=e.$implicit,n=v.gc(4);v.nc("display",n.display)("video",t)("matchKey",n.keyword||n.pageParams.star)}}function dn(t,e){if(1&t&&(v.Tb(0),v.Lc(1,hn,1,3,"app-video-teaser-searchresult",91),v.Sb()),2&t){const t=v.gc(3);v.Bb(1),v.nc("ngForOf",t.searchResults)}}function un(t,e){if(1&t&&v.Qb(0,"app-uploader-result",94),2&t){const t=e.$implicit,n=v.gc(4);v.nc("uploader",t)("matchKey",n.keyword||n.pageParams.star)}}function gn(t,e){if(1&t&&(v.Tb(0),v.Lc(1,un,1,2,"app-uploader-result",93),v.Sb()),2&t){const t=v.gc(3);v.Bb(1),v.nc("ngForOf",t.uploaderResults)}}function pn(t,e){if(1&t){const t=v.Wb();v.Vb(0,"app-album-activity-result",96),v.dc("changeFollow",(function(e){return v.Cc(t),v.gc(4).hasChangeFollow(e)})),v.Ub()}if(2&t){const t=e.$implicit,n=v.gc(4);v.nc("type",n.pageParams.type)("item",t)("matchKey",n.keyword||n.pageParams.star)}}function fn(t,e){if(1&t&&(v.Tb(0),v.Lc(1,pn,1,3,"app-album-activity-result",95),v.Sb()),2&t){const t=v.gc(3);v.Bb(1),v.nc("ngForOf",t.albumActvityResults)}}function bn(t,e){if(1&t&&(v.Vb(0,"div",79),v.Lc(1,dn,2,1,"ng-container",21),v.Lc(2,gn,2,1,"ng-container",21),v.Lc(3,fn,2,1,"ng-container",21),v.Ub()),2&t){const t=v.gc(2);v.Bb(1),v.nc("ngIf",!t.searchUser&&(""===t.pageParams.type||"video"===t.pageParams.type||"star"===t.pageParams.type)),v.Bb(1),v.nc("ngIf",t.searchUser),v.Bb(1),v.nc("ngIf",!t.searchUser&&!(""===t.pageParams.type||"video"===t.pageParams.type||"star"===t.pageParams.type))}}function mn(t,e){if(1&t&&v.Qb(0,"app-video-teaser-newsblock",98),2&t){const t=e.$implicit,n=v.gc(3);v.Kc("width",n.responsiveTeaserSize.width,"px"),v.nc("display",n.display)("video",t)}}function vn(t,e){if(1&t&&v.Qb(0,"div",90),2&t){const t=v.gc(3);v.Kc("width",t.responsiveTeaserSize.width,"px")}}function yn(t,e){if(1&t&&(v.Vb(0,"div",79),v.Lc(1,mn,1,4,"app-video-teaser-newsblock",97),v.Lc(2,vn,1,2,"div",82),v.Ub()),2&t){const t=v.gc(2);v.Bb(1),v.nc("ngForOf",t.searchResults),v.Bb(1),v.nc("ngForOf",t.flexPlaceholder)}}function Cn(t,e){if(1&t&&(v.Vb(0,"span",101),v.Vb(1,"b"),v.Nc(2),v.Ub(),v.Ub()),2&t){const t=v.gc(3);v.Bb(2),v.Oc(t.keyword)}}function _n(t,e){if(1&t&&(v.Vb(0,"div",99),v.Vb(1,"h5"),v.Nc(2,"\u6ca1\u6709\u627e\u5230 "),v.Lc(3,Cn,3,1,"span",100),v.Nc(4,"\u76f8\u5173\u7684\u5185\u5bb9 "),v.Ub(),v.Ub()),2&t){const t=v.gc(2);v.Bb(3),v.nc("ngIf","/list"!==t.keyword)}}function xn(t,e){1&t&&(v.Vb(0,"div",102),v.Qb(1,"app-loader-spinner"),v.Ub())}function Pn(t,e){1&t&&(v.Vb(0,"div",103),v.Nc(1,"\u8bf7\u8f93\u5165\u5173\u952e\u8bcd\u8fdb\u884c\u641c\u7d22"),v.Ub())}function wn(t,e){if(1&t){const t=v.Wb();v.Vb(0,"app-pager",72),v.dc("selectPageEvent",(function(e){return v.Cc(t),v.gc(3).onSelectPage(e)})),v.Ub()}if(2&t){const t=v.gc(3);v.nc("total",t.resultCounter)("current",t.pageParams.page)("pageSize",t.pageParams.pageSize)}}function On(t,e){if(1&t&&(v.Vb(0,"div",70),v.Lc(1,wn,1,3,"app-pager",71),v.Ub()),2&t){const t=v.gc(2);v.Bb(1),v.nc("ngIf",!t.keyword||!t.pageParams.star||"list"===t.mode)}}function Mn(t,e){if(1&t&&(v.Vb(0,"div",56),v.Lc(1,on,3,2,"div",73),v.Lc(2,ln,4,2,"div",74),v.Lc(3,bn,4,3,"div",74),v.Lc(4,yn,3,2,"div",74),v.Lc(5,_n,5,1,"div",75),v.Lc(6,xn,2,0,"div",76),v.Lc(7,Pn,2,0,"div",77),v.Lc(8,On,2,1,"div",62),v.Ub()),2&t){const t=v.gc();v.Bb(1),v.nc("ngIf","list"===t.mode),v.Bb(1),v.nc("ngIf",!t.isPending&&5==t.display),v.Bb(1),v.nc("ngIf",!t.isPending&&4==t.display),v.Bb(1),v.nc("ngIf",!t.isPending&&7==t.display),v.Bb(1),v.nc("ngIf",t.keyword&&0===t.resultCounter&&!t.isPending),v.Bb(1),v.nc("ngIf",t.isPending),v.Bb(1),v.nc("ngIf",t.searchKeyHasValue),v.Bb(1),v.nc("ngIf",!t.isPending)}}function kn(t,e){1&t&&(v.Vb(0,"div",104),v.Qb(1,"app-sidebar-trending-searches",105),v.Ub()),2&t&&(v.Bb(1),v.nc("blockTitle","\u70ed\u95e8\u641c\u7d22")("mode","search"))}const Sn=function(t,e){return{list:t,"border-off":e}},In=function(t,e){return{search:t,uploader:e}};var Ln=function(t){return t[t.Added=0]="Added",t[t.Updated=1]="Updated",t[t.Popular=2]="Popular",t[t.Rating=3]="Rating",t[t.Relativity=4]="Relativity",t}({});let Tn=(()=>{class t{constructor(t,e,n,i,o,s,a,c,l,g,p,f,b){this._activatedRoute=t,this._router=e,this._searchService=n,this._categoryService=i,this._genreService=o,this._titleService=s,this._windowService=a,this._upload=c,this._dnDialogService=l,this._eventManager=g,this.teaserDetailService=p,this.cdref=f,this._utility=b,this.isAdult=2===u.a.cinema,this.isApp=u.a.app,this.adultStringTags=[],this.tagsFilter=[],this.subscriptions=[],this.columns=5,this.mode="list",this.searchResults=[],this.lastKeyword="",this.searchUser=!1,this.videoResultCounter=0,this.uploaderResultCounter=0,this.uploaderResults=[],this.albumResultCounter=0,this.activityResultCounter=0,this.albumActvityResults=[],this.orderByTypes=Ln,this.resultCounter=0,this.isPending=!1,this.display=r.a.Detail,this.categoryFilters=[{id:-1,title:"\u5168\u90e8\u7248\u5757",cid:void 0,tagFilter:!1}],this.selectedCategory=this.categoryFilters[0],this.albumLabelFilters=[{id:-1,title:"\u5168\u90e8"}],this.selectedLabel=this.albumLabelFilters[0],this.genreFilters=[{id:-1,title:"\u5168\u90e8\u7c7b\u578b"}],this.selectedGenre=this.genreFilters[0],this.yearFilters=[{id:-1,title:"\u5168\u90e8\u5e74\u4efd"}],this.selectedYear=this.yearFilters[0],this.languageFilters=[{id:-1,title:"\u5168\u90e8\u8bed\u8a00"}],this.selectedLanguage=this.yearFilters[0],this.regionFilters=[{id:-1,title:"\u5168\u90e8\u5730\u533a"}],this.selectedRegion=this.regionFilters[0],this.statusFilters=[{id:-1,title:"\u5168\u90e8\u72b6\u6001"}],this.selectedStatus=this.statusFilters[0],this.isRecommendedFilters=[{id:-1,title:"\u5168\u90e8"},{id:1,title:"\u662f"},{id:0,title:"\u5426"}],this.selectedIsRecommended=this.isRecommendedFilters[0],this.isFreeFilters=[{id:-1,title:"\u5168\u90e8"},{id:1,title:"\u6536\u8d39"},{id:0,title:"\u514d\u8d39"}],this.selectedIsFree=this.isFreeFilters[0],this.adultTagsFilters=[],this.flexPlaceholder=[],this.ggPosition=h.b,this.fixedLS=!1,this.pageParams={star:"",page:1,pageSize:56,cid:"",year:"",language:"",tag:"",region:"",status:"-1",isRecommended:"-1",isFree:"-1",orderBy:Ln.Updated,desc:!0,type:"",label:"",bitrate:""},this.screenType=d.a,this.screenSize=d.a.Large,this.isChannel=!1,this.ifShowed=!1,this.unsub=null,this.favoriteLoading=!1,this.filterHeight=333,this.ifHideGG=!0,this.bitrateFilter=[{id:-1,title:"\u5168\u90e8\u753b\u8d28"},{id:0,title:"4K"},{id:1,title:"2K"},{id:2,title:"1080P"},{id:3,title:"720P"}],this.isNormalList=!0,this.responsiveTeaserSize={width:213,height:353},this.marginBottom=20,this.lastCid="",this.compareList=[],this.searchTreeKey=[],this.keyword="",this.lastCategory=null}trySetresponsiveTeaserSize(){return this.screenSize==this.screenType.XSmall||this.screenSize==this.screenType.Small?(this.isChannel||(this.columns=6,this.pageParams.pageSize=36),{width:205,height:353}):this.screenSize==this.screenType.Medium?(this.isChannel||(this.columns=6,this.pageParams.pageSize=36),{width:205,height:353}):this.screenSize==this.screenType.Large?(this.isChannel||(this.columns=7,this.pageParams.pageSize=35),{width:213,height:367}):this.screenSize==this.screenType.ExtraLarge?(this.isChannel||(this.columns=8,this.pageParams.pageSize=32),{width:216,height:372}):{width:213,height:353}}ngOnInit(){this.isAdult&&this._searchService.getTags(null).subscribe(t=>{this.adultTagsFilters=t.map(t=>({cid:"0,2,fav_"+t.title,id:t.title,link:"",slug:t.title,title:t.title})),this.adultTagsFilters.unshift({id:-1,title:"\u5168\u90e8"})}),this.selectedTag={id:-1,title:"\u5168\u90e8"},this.selectedBitrate={id:-1,title:"\u5168\u90e8\u753b\u8d28"},this.subscriptions.push(this._windowService.size$.subscribe(t=>{this.screenSize=t,this.responsiveTeaserSize=this.trySetresponsiveTeaserSize()}),Object(a.a)(window,"scroll").subscribe(t=>{this.onWindowScroll()})),this.setDisplayMode(),this.subscriptions.push(this._router.events.subscribe(t=>{t instanceof o.b&&(this.setDisplayMode(),this.getParamsFromUrl(),this.getGenres(this.pageParams.cid),this.setTitle(),this.search(),this.getSearchTree())})),this.subscriptions.push(this._categoryService.getCategoryList().subscribe(t=>{this.categoryFilters="search"===this.mode?[{id:-1,title:"\u5168\u90e8\u7248\u5757"},...t.slice(0,6),{id:17,title:"\u5c0f\u89c6\u9891",slug:"svideo",link:"/short-videos",tagFilter:!0,cid:"svideo",selectable:!0}]:this.isAdult?[{id:-1,title:"\u5168\u90e8\u7248\u5757"},...t]:[{id:-1,title:"\u5168\u90e8\u7248\u5757"},...t.filter(t=>"svideo"!==t.cid)]})),this._searchService.getSearchFilters().subscribe(t=>{this.yearFilters=[{id:-1,title:"\u5168\u90e8\u5e74\u4efd"},...t.year],this.languageFilters=[{id:-1,title:"\u5168\u90e8\u8bed\u8a00"},...t.language],this.regionFilters=[{id:-1,title:"\u5168\u90e8\u5730\u533a"},...t.region];const e=t.status.map(t=>("-1"===t.id&&(t.title="\u5168\u90e8\u72b6\u6001"),t));this.statusFilters=[...e]}),this.getParamsFromUrl(),"album"===this.pageParams.type||"activity"===this.pageParams.type?this.getAlbumLabel(!0):this.search(),this.isAdult||this.getGenres(this.pageParams.cid),this.setTitle(),this.getSearchTree(),this._eventManager.addGlobalEventListener("window","resize",t=>{this.getFilterHeight(),this.setFlexPlaceholders(this.searchResults.length)})}ngAfterContentChecked(){this.cdref.detectChanges()}readState(){}getSearchTree(){}search(){if(this.isPending=!0,this._categoryService.getCategoryList().subscribe(t=>{this.categoryFilters="search"===this.mode?[{id:-1,title:"\u5168\u90e8\u7248\u5757"},...t.slice(0,6),{id:17,title:"\u5c0f\u89c6\u9891",slug:"svideo",link:"/short-videos",tagFilter:!0,cid:"svideo",selectable:!0}]:this.isAdult?[{id:-1,title:"\u5168\u90e8\u7248\u5757"},...t]:[{id:-1,title:"\u5168\u90e8\u7248\u5757"},...t.filter(t=>"svideo"!==t.cid)]}),"search"===this.mode)if(this.searchVideoResults={},this.uploaderResults=[],this.albumActvityResults=[],this.searchUser)this.subscriptions.push(this._searchService.userSearch({keyword:this.keyword.replace(/\+/g,"%20"),orderBy:this.pageParams.orderBy,desc:this.pageParams.desc,page:this.pageParams.page,size:this.pageParams.pageSize}).subscribe(t=>{this.setTitle(),this.videoResultCounter=this.lastKeyword===this.keyword?this.videoResultCounter:0,this.resultCounter=t.count,this.uploaderResults=t.items,this.isPending=!1,this.lastKeyword=this.keyword,this.uploaderResultCounter=this.resultCounter}));else{if("album"===this.pageParams.type||"activity"===this.pageParams.type)return void this.subscriptions.push(this._searchService.albumSearch({keyword:this.keyword.replace(/\+/g,"%20"),label:this.selectedLabel?this.selectedLabel.title:"",page:this.pageParams.page,size:this.pageParams.pageSize,type:this.pageParams.type}).subscribe(t=>{this.setTitle(),this.resultCounter=t.count,"album"===this.pageParams.type?this.albumResultCounter=this.resultCounter:this.activityResultCounter=this.resultCounter,this.albumActvityResults=t.items,this.isPending=!1,this.lastKeyword=this.keyword}));void 0===this.pageParams.cid?this.subscriptions.push(this._searchService.solrSearch({keyword:encodeURIComponent((this.keyword+"").replace(/\+/g,"%20")),star:encodeURIComponent((this.pageParams.star+"").replace(/\+/g,"%20")),orderBy:this.pageParams.orderBy,desc:this.pageParams.desc,page:this.pageParams.page,size:this.pageParams.pageSize,year:this.pageParams.year,language:this.pageParams.language,region:this.pageParams.region,cid:this.pageParams.cid,status:this.pageParams.status,vipResource:this.pageParams.bitrate}).subscribe(t=>{this.setTitle(),this.searchVideoResults=t,this._searchService.solrSearch({keyword:(this.keyword+"").replace(/\+/g,"%20"),star:(this.pageParams.star+"").replace(/\+/g,"%20"),orderBy:this.pageParams.orderBy,desc:this.pageParams.desc,page:this.pageParams.page,size:this.pageParams.pageSize,year:this.pageParams.year,language:this.pageParams.language,region:this.pageParams.region,cid:"0,3",status:this.pageParams.status,cinema:3}).subscribe(t=>{this.uploaderResultCounter=this.lastKeyword===this.keyword?this.uploaderResultCounter:0,this.resultCounter=this.searchVideoResults.count>t.count?this.searchVideoResults.count:t.count,this.searchResults=this.searchVideoResults.items.concat(t.items),this.isPending=!1,this.lastKeyword=this.keyword,this.videoResultCounter=this.searchVideoResults.count+t.count})})):this.pageParams.cid.startsWith("0,1")?this.subscriptions.push(this._searchService.solrSearch({keyword:encodeURIComponent((this.keyword+"").replace(/\+/g,"%20")),star:encodeURIComponent((this.pageParams.star+"").replace(/\+/g,"%20")),orderBy:this.pageParams.orderBy,desc:this.pageParams.desc,page:this.pageParams.page,size:this.pageParams.pageSize,year:this.pageParams.year,language:this.pageParams.language,region:this.pageParams.region,cid:this.pageParams.cid,status:this.pageParams.status,vipResource:this.pageParams.bitrate}).subscribe(t=>{this.setTitle(),this.searchVideoResults=t,this.uploaderResultCounter=this.lastKeyword===this.keyword?this.uploaderResultCounter:0,this.resultCounter=t.count,this.searchResults=this.searchVideoResults.items,this.isPending=!1,this.lastKeyword=this.keyword,this.videoResultCounter=this.resultCounter})):this.subscriptions.push(this._searchService.solrSearch({keyword:(this.keyword+"").replace(/\+/g,"%20"),star:(this.pageParams.star+"").replace(/\+/g,"%20"),orderBy:this.pageParams.orderBy,desc:this.pageParams.desc,page:this.pageParams.page,size:this.pageParams.pageSize,year:this.pageParams.year,language:this.pageParams.language,region:this.pageParams.region,cid:"0,3",status:this.pageParams.status,cinema:3}).subscribe(t=>{this.uploaderResultCounter=this.lastKeyword===this.keyword?this.uploaderResultCounter:0,this.resultCounter=t.count,this.searchResults=t.items,this.isPending=!1,this.lastKeyword=this.keyword,this.videoResultCounter=this.resultCounter}))}else null!=this.lastSub&&this.lastSub.unsubscribe(),this.lastSub=this._searchService.search({orderBy:this.pageParams.orderBy,desc:this.pageParams.desc,page:this.pageParams.page,size:this.isChannel?56:this.pageParams.pageSize,year:this.pageParams.year,language:this.pageParams.language,region:this.pageParams.region,cid:this.pageParams.cid,tag:this.pageParams.tag,status:this.pageParams.status,isRecommended:this.pageParams.isRecommended,isFree:this.pageParams.isFree,vipResource:this.pageParams.bitrate},this.isNormalList).subscribe(t=>{this.resultCounter=t.count,this.searchResults=t.items,this.isPending=!1,this.setFlexPlaceholders(t.items.length),this.setTitle();const e=setInterval(()=>{this.getFilterHeight()},100);setTimeout(()=>{clearInterval(e)},1e3)})}sort(t){if(0!==this.resultCounter){if(this.pageParams.page=1,this.pageParams.orderBy===t.orderById)return this.pageParams.desc=!this.pageParams.desc,void this._router.navigate([decodeURIComponent(this._router.url.split("?")[0])],{queryParams:this.pageParams});this.pageParams.orderBy=t.orderById,this.pageParams.desc=t.desc,this._router.navigate([decodeURIComponent(this._router.url.split("?")[0])],{queryParams:this.pageParams})}}setFlexPlaceholders(t){if(this.flexPlaceholder=[],"list"===this.mode)for(;(t+this.flexPlaceholder.length)%this.columns>0;)this.flexPlaceholder.push([])}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe()),this.unsub&&this.unsub(),this.lastSub&&this.lastSub.unsubscribe()}onSelectPage(t){this.pageParams.page!==t&&(this.pageParams.page=t,this._router.navigate([decodeURIComponent(this._router.url.split("?")[0])],{queryParams:this.pageParams}))}getAlbumLabel(t=!1){this.subscriptions.push(this._searchService.getAlbumLabels().subscribe(e=>{this.albumLabelFilters=[{id:-1,title:"\u5168\u90e8"},...e],this.selectedLabel=this.pageParams.label?this.albumLabelFilters.filter(t=>t.title===this.pageParams.label)[0]:this.albumLabelFilters[0],t&&this.search()}))}onCategoryFilter(t){this.pageParams.page=1,this.pageParams.cid=t.cid,this.selectedCategory=t,this.genreFilters=[{id:-1,title:"\u5168\u90e8\u7c7b\u578b"}],this.selectedGenre={id:-1,title:"\u5168\u90e8\u7c7b\u578b"},this.pageParams.year="-1",this.selectedYear={id:-1,title:"\u5168\u90e8"},this.pageParams.language="-1",this.selectedLanguage={id:-1,title:"\u5168\u90e8"},this.pageParams.region="-1",this.selectedRegion={id:-1,title:"\u5168\u90e8"},this.selectedStatus={id:-1,title:"\u5168\u90e8"},this.pageParams.status="-1",this.pageParams.tag="",this.pageParams.label=t.title,this.selectedLabel=t,this._router.navigate([decodeURIComponent(this._router.url.split("?")[0])],{queryParams:this.pageParams})}onGenreFilter(t){this.pageParams.page=1,this.selectedGenre=t,this.pageParams.cid=-1===t.id?this.pageParams.cid.split(",").slice(0,3).join(","):t.id,this.pageParams.year="-1",this.pageParams.language="-1",this.pageParams.region="-1",this.pageParams.status="-1",this.selectedStatus={id:-1,title:"\u5168\u90e8"},this._router.navigate([decodeURIComponent(this._router.url.split("?")[0])],{queryParams:this.pageParams})}onYearFilter(t){this.pageParams.page=1,this.selectedYear=t,this.pageParams.year=t.id,this._router.navigate([decodeURIComponent(this._router.url.split("?")[0])],{queryParams:this.pageParams})}onLanguageFilter(t){this.pageParams.page=1,this.selectedLanguage=t,this.pageParams.language=t.id,this._router.navigate([decodeURIComponent(this._router.url.split("?")[0])],{queryParams:this.pageParams})}onRegionFilter(t){this.pageParams.page=1,this.selectedRegion=t,this.pageParams.region=t.id,this._router.navigate([decodeURIComponent(this._router.url.split("?")[0])],{queryParams:this.pageParams})}onStatusFilter(t){this.pageParams.page=1,this.selectedStatus=t,this.pageParams.status=t.id,this._router.navigate([decodeURIComponent(this._router.url.split("?")[0])],{queryParams:this.pageParams})}onTagFilter(t){this.pageParams.page=1,this.selectedTag=t,this.pageParams.tag=t.id,this._router.navigate([decodeURIComponent(this._router.url.split("?")[0])],{queryParams:this.pageParams})}onBitrateFilter(t){this.pageParams.page=1,this.selectedBitrate=t,this.pageParams.bitrate=-1!==t.id?t.title:"",this._router.navigate([decodeURIComponent(this._router.url.split("?")[0])],{queryParams:this.pageParams})}onIsRecommendedFilter(t){this.pageParams.page=1,this.selectedIsRecommended=t,this.pageParams.isRecommended=t.id,this._router.navigate([decodeURIComponent(this._router.url.split("?")[0])],{queryParams:this.pageParams})}onIsFreeFilter(t){this.pageParams.page=1,this.selectedIsFree=t,this.pageParams.isFree=t.id,this._router.navigate([decodeURIComponent(this._router.url.split("?")[0])],{queryParams:this.pageParams})}setDisplayMode(){this._utility.GetCurrentLocation().startsWith("/search")?(this.mode="search",this.display=r.a.Detail,this.pageParams.pageSize=10):(this.mode="list",this.pageParams.pageSize=32,this.display=this.isNormalList?r.a.SearchList:r.a.NewsBlock)}getParamsFromUrl(){var t=this._utility.GetSearchKey();this.pageParams.page=this._activatedRoute.snapshot.queryParams.page?Number(this._activatedRoute.snapshot.queryParams.page):1,this.pageParams.pageSize=this._activatedRoute.snapshot.queryParams.pageSize?Number(this._activatedRoute.snapshot.queryParams.pageSize):"list"===this.mode?32:10,this.pageParams.year=this._activatedRoute.snapshot.queryParams.year?this._activatedRoute.snapshot.queryParams.year:-1,this.selectedYear={id:Number(this.pageParams.year),title:this.pageParams.year},this.pageParams.language=this._activatedRoute.snapshot.queryParams.language?this._activatedRoute.snapshot.queryParams.language:-1,this.selectedLanguage={id:Number(this.pageParams.language),title:this.pageParams.language},this.pageParams.region=this._activatedRoute.snapshot.queryParams.region?this._activatedRoute.snapshot.queryParams.region:-1,this.selectedRegion={id:Number(this.pageParams.region),title:this.pageParams.region},this.keyword=t,this.pageParams.orderBy="search"===this.mode?this._activatedRoute.snapshot.queryParams.orderBy?Number(this._activatedRoute.snapshot.queryParams.orderBy):Ln.Relativity:this._activatedRoute.snapshot.queryParams.orderBy?Number(this._activatedRoute.snapshot.queryParams.orderBy):Ln.Added,this.pageParams.desc=!this._activatedRoute.snapshot.queryParams.desc||"true"===this._activatedRoute.snapshot.queryParams.desc,this.pageParams.cid=this._activatedRoute.snapshot.queryParams.cid,this.pageParams.tag=this._activatedRoute.snapshot.queryParams.tag,this.pageParams.bitrate=this._activatedRoute.snapshot.queryParams.bitrate?this._activatedRoute.snapshot.queryParams.bitrate:"",void 0===this.pageParams.cid&&(this.selectedCategory={id:-1,title:"\u5168\u90e8\u7248\u5757",cid:void 0,tagFilter:!1}),this.selectedTag=2==u.a.cinema?this.adultTagsFilters.filter(t=>t.id===this.pageParams.tag)[0]:this.tagsFilter.filter(t=>t.id===this.pageParams.tag)[0],this.selectedBitrate=this.bitrateFilter.filter(t=>t.title===this.pageParams.bitrate)[0],this.pageParams.star="star"==this._activatedRoute.snapshot.queryParams.type?t:"",this.pageParams.type=this._activatedRoute.snapshot.queryParams.type,this.searchUser="user"===this._activatedRoute.snapshot.queryParams.type,this.pageParams.label=this._activatedRoute.snapshot.queryParams.label,"search"!==this.mode||"album"!==this.pageParams.type&&"activity"!==this.pageParams.type||(this.selectedLabel=this.pageParams.label?this.albumLabelFilters.filter(t=>t.title===this.pageParams.label)[0]:this.albumLabelFilters[0]),this.pageParams.isRecommended=this._activatedRoute.snapshot.queryParams.isRecommended,this.selectedIsRecommended=this.pageParams.isRecommended?this.isRecommendedFilters.filter(t=>t.id===Number(this.pageParams.isRecommended))[0]:{id:-1,title:"\u5168\u90e8"},this.pageParams.isFree=this._activatedRoute.snapshot.queryParams.isFree,this.selectedIsFree=this.pageParams.isFree?this.selectedIsFree=this.isFreeFilters.filter(t=>t.id===Number(this.pageParams.isFree))[0]:{id:-1,title:"\u5168\u90e8"},this.pageParams.cid?(this.selectedCategory=this._categoryService.getCategoryByCId(this.pageParams.cid),this.selectedCategory||(this.selectedCategory=this.adultTagsFilters.find(t=>t.cid===this.pageParams.cid))):this.isAdult&&(this.selectedCategory=this.categoryFilters[0]),this.pageParams.status=this._activatedRoute.snapshot.queryParams.status?this._activatedRoute.snapshot.queryParams.status:"-1",this.selectedStatus={id:Number(this.pageParams.status),title:this.pageParams.status},this.selectedCategory||(this.genreFilters=[{id:-1,title:"\u5168\u90e8\u7c7b\u578b"}],this.selectedGenre={id:-1,title:"\u5168\u90e8\u7c7b\u578b"},this.yearFilters=[{id:-1,title:"\u5168\u90e8\u5e74\u4efd"}],this.selectedYear={id:-1,title:"\u5168\u90e8\u5e74\u4efd"},this.languageFilters=[{id:-1,title:"\u5168\u90e8\u8bed\u8a00"}],this.selectedLanguage={id:-1,title:"\u5168\u90e8\u8bed\u8a00"},this.regionFilters=[{id:-1,title:"\u5168\u90e8\u5730\u533a"}],this.selectedRegion={id:-1,title:"\u5168\u90e8\u5730\u533a"},this.selectedTag={id:-1,title:"\u5168\u90e8"},this.selectedBitrate={id:-1,title:"\u5168\u90e8\u753b\u8d28"},this.selectedIsRecommended={id:-1,title:"\u5168\u90e8"},this.selectedIsFree={id:-1,title:"\u5168\u90e8"})}getGenres(t){const e=this._categoryService.getCategoryByCId(t);e&&e.tagFilter?(this.isChannel="channel"==e.cid,this.isNormalList=!1,null!=this.lastCategory&&this.lastCategory.cid==e.cid||this.subscriptions.push(this._upload.getTagFilter(e.cid).subscribe(t=>{this.tagsFilter=[{id:-1,title:"\u5168\u90e8"},...t],this.selectedTag=this.tagsFilter.filter(t=>t.id==this.pageParams.tag)[0]})),this.setDisplayMode()):(this.isNormalList=!0,this.subscriptions.push(this._genreService.getGenres(t||"0,1").subscribe(e=>{this.genreFilters=[{id:-1,title:"\u5168\u90e8\u7c7b\u578b"},...e];const n=this.genreFilters.filter(e=>e.id===t);this.selectedGenre=n.length?this.genreFilters.filter(e=>e.id===t)[0]:{id:-1,title:"\u5168\u90e8\u7c7b\u578b"}})),this.setDisplayMode(),this.isChannel=!1),this.lastCategory=e,this.isChannel?this.columns=10:(this.screenSize!=this.screenType.XSmall&&this.screenSize!=this.screenType.Small||(this.columns=6,this.pageParams.pageSize=36),this.screenSize==this.screenType.Medium&&(this.columns=6,this.pageParams.pageSize=36),this.screenSize==this.screenType.Large&&(this.columns=7,this.pageParams.pageSize=35),this.screenSize==this.screenType.ExtraLarge&&(this.columns=8,this.pageParams.pageSize=32))}setTitle(){let t;if("search"===this.mode){if(this.keyword)t=this.keyword;else{var e=this._categoryService.getCategoryByCId(this.pageParams.cid);e&&(t=e.title)}this._titleService.setTitle("\u641c\u7d22\uff1a"+t),this._titleService.setDescription('\u641c\u7d22\u5173\u4e8e "'+t+'" \u7684\u6240\u6709\u5f71\u7247')}else if("list"===this.mode)return this._titleService.setTitle(this.selectedCategory.title,1==u.a.cinema?this.isNormalList||!this.selectedTag?this.selectedGenre.title:this.selectedTag.title:this.selectedTag?this.selectedTag.title:"\u5168\u90e8"),void("\u5168\u90e8"==this.selectedCategory.title?this._titleService.setDescription(this.selectedCategory.title,this.selectedTag?this.selectedTag.title:"\u8be6\u7ec6\u5217\u8868"):this._titleService.setDescription("\u5173\u4e8e["+this.selectedCategory.title+"]\u5206\u7c7b\u7684\u8be6\u7ec6\u5217\u8868"))}setSortButtonStyle(t=!1){const e={"border-left":"1px solid #ddd","border-top":"1px solid #ddd","border-bottom":"1px solid #ddd","border-right":"none"};return t&&(e["border-right"]="1px solid #ddd"),e}onWindowScroll(){this.fixedLS=(window,!1)}get searchKeyHasValue(){return(!this.keyword&&!this.pageParams.star||"search"!=this.mode)&&"list"!=this.mode}subscript(t){this._upload.subscriptChannel(t.key).subscribe(e=>{null!=e&&(t.isVideoFavrited=!t.isVideoFavrited)})}showDetail(t,e){this.teaserIndex=t,this.ifShowed=!0,this.showedVideo=e}closeDetail(t){this.teaserIndex=t,this.ifShowed=!1}replaceComma(t){if(null!=t)return t.replace(/,/g," / ")}getFilterHeight(){const t=document.getElementById("filterDiv");null!==t&&(this.filterHeight=t.offsetHeight)}loadHandler(t){setTimeout(()=>{this.ifHideGG=!1===t},10)}moveToList(){this.resultCounter=0,this._router.navigateByUrl("/list?cid=0,1,3")}openTeaserDialog(t,e){t.preventDefault(),t.stopPropagation(),this.teaserDetailService.setState(e),setTimeout(()=>{this._dnDialogService.open("teaser-detail-dialog")},50)}cidMapperArray(t){return t?t.split(","):[]}setSearchType(t){this.pageParams.type!==t&&(""===this.pageParams.type&&"video"===t||(this.pageParams.cid=void 0,this.pageParams.label="",this.pageParams.page=1,this.searchResults=[],this.searchVideoResults={},this.resultCounter=0,"user"===t?(this.searchUser=!0,this.pageParams.type="user",this._router.navigate([decodeURIComponent(this._router.url.split("?")[0])],{queryParams:this.pageParams})):(this.searchUser=!1,this.pageParams.type=""!==t?t:"video","album"!==this.pageParams.type&&"activity"!==this.pageParams.type||this.getAlbumLabel(),this._router.navigate([decodeURIComponent(this._router.url.split("?")[0])],{queryParams:this.pageParams}))))}getSerachContentTop(){if("search"!==this.mode)return 0;if(!this.selectedCategory||void 0===this.selectedCategory.cid)return"album"===this.pageParams.type||"activity"===this.pageParams.type?this.screenSize>4?-220:-200:this.screenSize>=4?-25:0;if(-1===this.selectedCategory.cid.indexOf(","))return this.screenSize>=4?-210:-185;switch(this.selectedCategory.cid){case"0,1,3":return this.screenSize>=4?-65:-5;default:return this.screenSize>=4?-25:0}}hasChangeFollow(t){if(t){const e=this.albumActvityResults.map(e=>Object.assign(Object.assign({},e),{isAttented:e.userKey+""==""+t?!e.isAttented:e.isAttented}));setTimeout(()=>{this.albumActvityResults=e},100)}}}return t.\u0275fac=function(e){return new(e||t)(v.Pb(o.a),v.Pb(o.d),v.Pb(s.a),v.Pb(c.a),v.Pb(l.a),v.Pb(g.a),v.Pb(d.b),v.Pb(f.a),v.Pb(b.a),v.Pb(y.c),v.Pb(m.a),v.Pb(v.h),v.Pb(p.a))},t.\u0275cmp=v.Jb({type:t,selectors:[["app-search"]],viewQuery:function(t,e){var n;1&t&&(v.Ic(Jt,!0),v.Ic(te,!0)),2&t&&(v.yc(n=v.ec())&&(e.container=n.first),v.yc(n=v.ec())&&(e.ref=n.first))},features:[v.Ab([l.a])],decls:11,vars:15,consts:[[1,"s-page"],[1,"container",2,"padding-bottom","22px",3,"ngClass"],["container",""],["class","search-top",4,"ngIf"],[1,"search-bottom"],[1,"inner","d-flex",3,"ngClass"],["class","content",4,"ngIf"],["class","sidebar new",4,"ngIf"],[1,"d-block"],[1,"search-top"],[1,"inner"],["class","filters","id","filterDiv",3,"ngClass","change",4,"ngIf"],["class","filters",4,"ngIf"],[1,"ss-ctn",3,"hidden"],[1,"ss"],[3,"ggPosition","code","ggLoaded"],[3,"ggPosition","code",4,"ngIf"],["id","filterDiv",1,"filters",3,"ngClass","change"],["filterGroup",""],["class","search-result-counter d-flex top-result",4,"ngIf"],[1,"d-block","mb-2",3,"label","items","selectedId","key","selectFilterEvent"],[4,"ngIf"],[1,"search-result-counter","d-flex","top-result"],[1,"key-box"],[1,"iconfont","iconguanbi",3,"click"],[1,"white"],["class","d-block mb-2",3,"label","items","selectedId","key","selectFilterEvent",4,"ngIf"],["class","d-block mb-2",3,"label","items","selectedId","shouldNotChange","key","selectFilterEvent",4,"ngIf"],[3,"label","items","disabled","selectedId","shouldNotChange","key","selectFilterEvent",4,"ngIf"],[1,"d-block","mb-2",3,"label","items","selectedId","shouldNotChange","key","selectFilterEvent"],[3,"label","items","disabled","selectedId","shouldNotChange","key","selectFilterEvent"],[1,"filters"],[3,"label","items","selectedId","key","selectFilterEvent",4,"ngIf"],[3,"label","items","selectedId","key","selectFilterEvent"],[3,"ggPosition","code"],[1,"inner","search"],[1,"ss-ctn","search",3,"hidden"],["class","search-result-counter d-flex search top-result",4,"ngIf"],[1,"search-result-counter","d-flex","search","top-result"],[1,"d-flex","align-items-center"],[1,"search-tag","d-flex"],[1,"search-tag-item",3,"ngClass","click"],["class","tag-item-number",4,"ngIf"],[1,"search-tag-item",2,"margin-right","10px",3,"ngClass","click"],[1,"search-gap"],[1,"key-box","search"],[1,"key-text"],[1,"result-counter-text"],["class","search-tools d-flex search",4,"ngIf"],[1,"tag-item-number"],[1,"search-tools","d-flex","search"],["class","search-buttons d-flex",4,"ngIf"],[1,"search-buttons","d-flex"],[3,"label","orderById","desc","active","style","mode","sortEvent",4,"ngIf"],[3,"label","orderById","desc","active","mode","sortEvent"],[1,"d-block","mb-2","album",3,"label","items","selectedId","key","selectFilterEvent"],[1,"content"],[1,"search-tools","d-flex"],["class","search-buttons search d-flex",4,"ngIf"],[1,"result-counter","search-result-counter"],["class","search-results",3,"ngClass",4,"ngIf"],["class","d-flex align-items-center justify-content-center","style","min-height: 220px;",4,"ngIf"],["class","d-flex mb-5 page-controls align-items-center justify-content-center",4,"ngIf"],[1,"search-buttons","search","d-flex"],[3,"label","orderById","desc","active","sortEvent"],[3,"label","orderById","desc","active","style","sortEvent",4,"ngIf"],[1,"search-results",3,"ngClass"],["class","channel",4,"ngFor","ngForOf"],[1,"channel"],[1,"d-flex","align-items-center","justify-content-center",2,"min-height","220px"],[1,"d-flex","mb-5","page-controls","align-items-center","justify-content-center"],[3,"total","current","pageSize","selectPageEvent",4,"ngIf"],[3,"total","current","pageSize","selectPageEvent"],["class","search-tools d-flex",4,"ngIf"],["class","search-results d-flex flex-wrap justify-content-between",4,"ngIf"],["class","no-results d-flex justify-content-center align-items-center","style","height: 200px;",4,"ngIf"],["class","d-flex align-items-center justify-content-center","style","min-height: 420px;",4,"ngIf"],["class","keyword-required",4,"ngIf"],["class","result-counter search-result-counter",4,"ngIf"],[1,"search-results","d-flex","flex-wrap","justify-content-between"],["class","v-c",4,"ngFor","ngForOf"],[1,"teaser-detail-cover"],["class","flex-place-holder d-block",3,"width",4,"ngFor","ngForOf"],[1,"v-c"],[1,"d-block",3,"display","video","listStyle","fromList"],[3,"video","fromList"],[1,"teaser-cover"],[1,"cover-play-area"],[1,"cover-play-button",3,"routerLink","queryParams"],[1,"iconfont","iconbofang","play-icon"],[1,"flex-place-holder","d-block"],["class","w-100 d-block",3,"display","video","matchKey",4,"ngFor","ngForOf"],[1,"w-100","d-block",3,"display","video","matchKey"],["class","w-100 d-block",3,"uploader","matchKey",4,"ngFor","ngForOf"],[1,"w-100","d-block",3,"uploader","matchKey"],["class","w-100 d-block",3,"type","item","matchKey","changeFollow",4,"ngFor","ngForOf"],[1,"w-100","d-block",3,"type","item","matchKey","changeFollow"],[3,"display","video","width",4,"ngFor","ngForOf"],[3,"display","video"],[1,"no-results","d-flex","justify-content-center","align-items-center",2,"height","200px"],["class","mx-1 main-color",4,"ngIf"],[1,"mx-1","main-color"],[1,"d-flex","align-items-center","justify-content-center",2,"min-height","420px"],[1,"keyword-required"],[1,"sidebar","new"],[3,"blockTitle","mode"]],template:function(t,e){1&t&&(v.Vb(0,"div",0),v.Vb(1,"div",1,2),v.Lc(3,be,9,8,"div",3),v.Lc(4,ze,7,7,"div",3),v.Vb(5,"div",4),v.Vb(6,"div",5),v.Lc(7,Ze,11,5,"div",6),v.Lc(8,Mn,9,8,"div",6),v.Ub(),v.Lc(9,kn,2,2,"div",7),v.Ub(),v.Ub(),v.Ub(),v.Qb(10,"app-footer",8)),2&t&&(v.Bb(1),v.nc("ngClass",v.tc(9,Sn,"list"===e.mode,e.isApp)),v.Bb(2),v.nc("ngIf","list"===e.mode),v.Bb(1),v.nc("ngIf","search"===e.mode),v.Bb(2),v.Kc("margin-top",e.getSerachContentTop(),"px"),v.nc("ngClass",v.tc(12,In,"search"===e.mode,e.searchUser)),v.Bb(1),v.nc("ngIf",e.isChannel),v.Bb(1),v.nc("ngIf",!e.isChannel),v.Bb(1),v.nc("ngIf","search"===e.mode))},directives:[i.l,i.n,C.a,_.a,L,T.a,i.m,A.a,N.a,r.b,B.a,o.g,xt,Ht,Gt.a,Wt.a,Zt],styles:["app-search-filter[_ngcontent-%COMP%]{margin-bottom:15px!important}app-search-filter.removeMarginBottom[_ngcontent-%COMP%], app-search-filter[_ngcontent-%COMP%]:last-child{margin-bottom:0!important}.page-container[_ngcontent-%COMP%]{padding-top:22px;min-height:700px;background-color:#090b21;border-left:1px solid hsla(0,0%,40%,.2);border-bottom-color:hsla(0,0%,40%,.2);border-right:1px solid hsla(0,0%,40%,.2);border-top-color:hsla(0,0%,40%,.2)}.light[_nghost-%COMP%]   .page-container[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .page-container[_ngcontent-%COMP%]{background-color:#eee}.page-container[_ngcontent-%COMP%]   .search-results[_ngcontent-%COMP%]{min-height:800px;-webkit-box-align:start;align-items:flex-start;align-content:flex-start}.page-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{width:893px}app-video-teaser[_ngcontent-%COMP%]{margin-bottom:28px}.cb-15[_ngcontent-%COMP%]{border-top:1px solid hsla(0,0%,40%,.2);margin-bottom:25px}.search-tools[_ngcontent-%COMP%]{padding:0 0 4px;margin-bottom:28px}.search-tools.search[_ngcontent-%COMP%]{margin-bottom:0}.search-tools-label[_ngcontent-%COMP%]{padding:2px 0;width:70px;-webkit-box-flex:0;flex:0 0 70px}.search-results[_ngcontent-%COMP%]:not(.d-flex){padding-left:70px}.flex-place-holder[_ngcontent-%COMP%]{width:240px}.border-bottom[_ngcontent-%COMP%]{border-bottom:1px solid hsla(0,0%,40%,.2)!important}.page-controls[_ngcontent-%COMP%]{margin-top:70px}.search-page-left[_ngcontent-%COMP%]{position:fixed;top:60;left:0}.search-top[_ngcontent-%COMP%]{margin-bottom:20px;z-index:3999;position:relative}.search-bottom[_ngcontent-%COMP%]{display:-webkit-box;display:flex}.search-bottom[_ngcontent-%COMP%]   .inner.search[_ngcontent-%COMP%]{width:calc(100% - 486px);margin-right:40px;position:relative;z-index:3999}.search-bottom[_ngcontent-%COMP%]   .inner.search.uploader[_ngcontent-%COMP%]{margin-top:-275px!important}.search-result-counter[_ngcontent-%COMP%]{font-size:15px;line-height:33px;margin-left:1em;color:hsla(0,0%,100%,.7)}.light[_nghost-%COMP%]   .search-result-counter[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .search-result-counter[_ngcontent-%COMP%]{color:#333}.search-result-counter.top-result[_ngcontent-%COMP%]{margin-left:0;font-size:14px;color:hsla(0,0%,100%,.4);line-height:34px}.light[_nghost-%COMP%]   .search-result-counter.top-result[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .search-result-counter.top-result[_ngcontent-%COMP%]{color:#333}.search-result-counter.search[_ngcontent-%COMP%]{border-bottom:1px solid;border-color:hsla(0,0%,40%,.2);margin-bottom:30px;padding-bottom:15px;-webkit-box-align:center;align-items:center;-webkit-box-pack:justify;justify-content:space-between}.filters[_ngcontent-%COMP%]{margin:20px 0 10px!important;background-color:#1c1d2f;padding:30px 3em;border:1px solid transparent;width:100%;min-height:333px}.light[_nghost-%COMP%]   .filters[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .filters[_ngcontent-%COMP%]{background-color:#fff;border-color:#eee}.filters.withGG[_ngcontent-%COMP%]{width:calc(100% - 444px);min-height:333px!important}.filters.search[_ngcontent-%COMP%]{padding:0!important;min-height:auto!important;background-color:transparent!important;border:none!important}.filters.search.withGG[_ngcontent-%COMP%]{width:calc(100% - 486px);min-height:333px!important}.inner[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-pack:justify;justify-content:space-between;width:100%}.inner[_ngcontent-%COMP%], .inner.search[_ngcontent-%COMP%]{-webkit-box-align:start;align-items:flex-start}.sidebar[_ngcontent-%COMP%]{width:438px}.sidebar.new[_ngcontent-%COMP%]{margin-left:8px!important}.s-page[_ngcontent-%COMP%]{display:-webkit-box;display:flex;position:relative;padding-top:61px;-webkit-box-pack:center;justify-content:center;background-color:#090b21}.light[_nghost-%COMP%]   .s-page[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .s-page[_ngcontent-%COMP%]{background-color:#fafafa}.no-results[_ngcontent-%COMP%]{height:200px;margin:0 auto;color:hsla(0,0%,100%,.7)}.light[_nghost-%COMP%]   .no-results[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .no-results[_ngcontent-%COMP%]{color:#888}.no-results[_ngcontent-%COMP%]   .main-color[_ngcontent-%COMP%]{color:#00c0ff}.channel[_ngcontent-%COMP%]{width:170px;margin-bottom:1.5em}.channel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{position:relative;display:block}.channel[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{text-align:center;font-size:16px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;margin-bottom:.5em}.channel[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border:1px solid #d0d0d0;margin-bottom:.5em;border-radius:2em}.channel[_ngcontent-%COMP%]   .overlap[_ngcontent-%COMP%]{position:absolute;bottom:2.2em;left:0;height:2em;width:100%;border-radius:0 0 2em 2em;color:#fff;font-size:14px;background-color:rgba(0,0,0,.258824);padding:.3em 1em 0}.channel[_ngcontent-%COMP%]   .overlap[_ngcontent-%COMP%]   .view[_ngcontent-%COMP%]{float:left}.channel[_ngcontent-%COMP%]   .overlap[_ngcontent-%COMP%]   .fav[_ngcontent-%COMP%]{float:right}.channel[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{color:#fff;background-color:red;position:absolute;right:1em;top:1em;border-radius:1em}.border-off[_ngcontent-%COMP%]{border:none}.search-buttons[_ngcontent-%COMP%]{background-color:#1c1d2f;border:1px solid transparent}.light[_nghost-%COMP%]   .search-buttons[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .search-buttons[_ngcontent-%COMP%]{background-color:#fff;border-color:#eee}.search-buttons.search[_ngcontent-%COMP%]{border:none!important}.white[_ngcontent-%COMP%]{color:#fff}.light[_nghost-%COMP%]   .white[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .white[_ngcontent-%COMP%]{color:#00c0ff}.teaser-detail-cover[_ngcontent-%COMP%]{position:absolute;z-index:100;bottom:0;left:0;width:100%;height:20px;background-color:#090b21}.light[_nghost-%COMP%]   .teaser-detail-cover[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .teaser-detail-cover[_ngcontent-%COMP%]{background-color:#fafafa}.teaser-cover[_ngcontent-%COMP%]{position:absolute;top:0;left:0;background-color:rgba(0,0,0,.5);opacity:0;z-index:-1}.cover-play-area[_ngcontent-%COMP%]{height:135px}.cover-play-area[_ngcontent-%COMP%], .cover-play-area[_ngcontent-%COMP%]   .cover-play-button[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center;width:100%}.cover-play-area[_ngcontent-%COMP%]   .cover-play-button[_ngcontent-%COMP%]{height:100%;text-align:center;cursor:pointer}.cover-play-area[_ngcontent-%COMP%]   .cover-play-button[_ngcontent-%COMP%]   .play-icon[_ngcontent-%COMP%]{font-size:50px;color:hsla(0,0%,100%,.4);-webkit-transition:.2s linear;transition:.2s linear}.cover-play-area[_ngcontent-%COMP%]:hover   .cover-play-button[_ngcontent-%COMP%]   .play-icon[_ngcontent-%COMP%]{color:#fff;font-size:75px}.teaser-detail[_ngcontent-%COMP%]{position:absolute;z-index:100;bottom:-146px;left:0;background-repeat:no-repeat;background-position:50%;-webkit-transition:bottom .3s;transition:bottom .3s;cursor:default}.v-c[_ngcontent-%COMP%]{position:relative;overflow:hidden}@-webkit-keyframes toMoveBottom{0%{display:block;top:91px}to{display:none;top:310px}}@keyframes toMoveBottom{0%{display:block;top:91px}to{display:none;top:310px}}@-webkit-keyframes toMoveTop{0%{top:310px;z-index:0}to{top:91px;z-index:100}}@keyframes toMoveTop{0%{top:310px;z-index:0}to{top:91px;z-index:100}}@-webkit-keyframes toScale{0%{-webkit-transform:scale(.95);transform:scale(.95)}75%{-webkit-transform:scale(.99);transform:scale(.99)}to{-webkit-transform:scale(1);transform:scale(1)}}@keyframes toScale{0%{-webkit-transform:scale(.95);transform:scale(.95)}75%{-webkit-transform:scale(.99);transform:scale(.99)}to{-webkit-transform:scale(1);transform:scale(1)}}.detail-ctn[_ngcontent-%COMP%]{width:100%;height:100%;background-color:rgba(28,29,47,.98);padding:10px 10px 0}.light[_nghost-%COMP%]   .detail-ctn[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .detail-ctn[_ngcontent-%COMP%]{background-color:hsla(0,0%,100%,.98)}.detail-header[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-pack:justify;justify-content:space-between;font-size:16px;font-weight:700}.title-ctn[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:192px}.title-text[_ngcontent-%COMP%]{color:#fff}.light[_nghost-%COMP%]   .title-text[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .title-text[_ngcontent-%COMP%]{color:#333}.title-text[_ngcontent-%COMP%]:hover{color:#00c0ff!important}.rating-text[_ngcontent-%COMP%]{color:#ffa800}.detail-tags[_ngcontent-%COMP%]{margin-top:.75em;margin-bottom:.75em;font-size:12px;color:hsla(0,0%,100%,.7);display:-webkit-box;display:flex;flex-wrap:nowrap}.light[_nghost-%COMP%]   .detail-tags[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .detail-tags[_ngcontent-%COMP%]{color:#888}.detail-tags[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background-color:#2b2c3a;display:inline-block;padding:.1em 0;margin-right:.5em;width:44px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;text-align:center}.light[_nghost-%COMP%]   .detail-tags[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .detail-tags[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background-color:#eee}.detail-intro[_ngcontent-%COMP%]{font-size:12px;color:hsla(0,0%,100%,.4)}.light[_nghost-%COMP%]   .detail-intro[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .detail-intro[_ngcontent-%COMP%]{color:#888}.detail-starring[_ngcontent-%COMP%], .detail-story[_ngcontent-%COMP%]{margin-bottom:.5em}.detail-starring[_ngcontent-%COMP%]{height:20px;line-height:20px;overflow:hidden;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;text-overflow:ellipsis}.detail-starring.lower[_ngcontent-%COMP%]{height:21px}.detail-story[_ngcontent-%COMP%]{height:36px;line-height:20px;overflow:hidden;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;text-overflow:ellipsis}.intro-title[_ngcontent-%COMP%]{color:#fff}.light[_nghost-%COMP%]   .intro-title[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .intro-title[_ngcontent-%COMP%]{color:#333}.detail-action[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-pack:justify;justify-content:space-between;-webkit-box-align:center;align-items:center;position:absolute}.detail-dialog[_ngcontent-%COMP%]{font-size:12px;padding:0 5px;text-align:center;color:#00c0ff;border:1px solid #00c0ff}.detail-dialog[_ngcontent-%COMP%]:hover{color:#fff;background-color:#00c0ff}.favorite-button[_ngcontent-%COMP%]{height:34px;line-height:34px;font-size:16px;color:hsla(0,0%,100%,.7);display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;cursor:pointer}.light[_nghost-%COMP%]   .favorite-button[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .favorite-button[_ngcontent-%COMP%]{color:#aaa}.favorite-button[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:24px}.favorite-button.active[_ngcontent-%COMP%], .favorite-button.active[_ngcontent-%COMP%]   .favorite-number[_ngcontent-%COMP%], .favorite-button[_ngcontent-%COMP%]:hover, .favorite-button[_ngcontent-%COMP%]:hover   .favorite-number[_ngcontent-%COMP%], .light[_nghost-%COMP%]   .favorite-button.active[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .favorite-button.active[_ngcontent-%COMP%], .light[_nghost-%COMP%]   .favorite-button.active[_ngcontent-%COMP%]   .favorite-number[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .favorite-button.active[_ngcontent-%COMP%]   .favorite-number[_ngcontent-%COMP%], .light[_nghost-%COMP%]   .favorite-button[_ngcontent-%COMP%]:hover, .light   [_nghost-%COMP%]   .favorite-button[_ngcontent-%COMP%]:hover, .light[_nghost-%COMP%]   .favorite-button[_ngcontent-%COMP%]:hover   .favorite-number[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .favorite-button[_ngcontent-%COMP%]:hover   .favorite-number[_ngcontent-%COMP%]{color:#00c0ff}.favorite-number[_ngcontent-%COMP%]{margin-left:8px;height:34px;line-height:36px}.light[_nghost-%COMP%]   .favorite-number[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .favorite-number[_ngcontent-%COMP%]{color:#888}.hot-number[_ngcontent-%COMP%]{color:hsla(0,0%,100%,.7)}.light[_nghost-%COMP%]   .hot-number[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .hot-number[_ngcontent-%COMP%]{color:#333}.ss-ctn[_ngcontent-%COMP%]{margin:20px 0 10px!important;width:438px;background-color:#1c1d2f;border:1px solid transparent;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}.light[_nghost-%COMP%]   .ss-ctn[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .ss-ctn[_ngcontent-%COMP%]{background-color:#fff;border-color:#eee}.ss-ctn.search[_ngcontent-%COMP%]{height:333px!important}.ss-ctn[_ngcontent-%COMP%]   .ss[_ngcontent-%COMP%]{width:inherit;height:333px;overflow:hidden}.search-tag-item[_ngcontent-%COMP%]{color:hsla(0,0%,100%,.7);font-size:20px;margin-right:30px;display:-webkit-box;display:flex;-webkit-box-align:start;align-items:flex-start;cursor:pointer}.light[_nghost-%COMP%]   .search-tag-item[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .search-tag-item[_ngcontent-%COMP%]{color:#888}.search-tag-item.active[_ngcontent-%COMP%]{color:#00c0ff!important}.tag-item-number[_ngcontent-%COMP%]{font-size:12px;height:28px;line-height:28px;margin-left:5px}.search-gap[_ngcontent-%COMP%]{margin:0 38px;height:18px;border-right:1px solid;border-color:hsla(0,0%,40%,.4)}.key-box[_ngcontent-%COMP%]{height:34px;background-color:#2b2c3a;color:#00c0ff;padding:0 .8em;font-size:14px;margin-bottom:20px;margin-right:17px;min-width:86px}.light[_nghost-%COMP%]   .key-box[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .key-box[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #00c0ff}.key-box[_ngcontent-%COMP%]   .iconguanbi[_ngcontent-%COMP%]{font-size:14px;margin-left:1.2em;cursor:pointer}.key-box.search[_ngcontent-%COMP%]{height:28px;line-height:28px;margin-bottom:0;display:-webkit-box;display:flex}.key-box.search[_ngcontent-%COMP%]   .key-text[_ngcontent-%COMP%]{max-width:220px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.result-counter-text[_ngcontent-%COMP%]{height:28px;line-height:28px}@media (max-width:1678px){.detail-tags[_ngcontent-%COMP%]{margin-top:.5em;margin-bottom:.5em}.detail-tags[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:41px!important}.detail-starring[_ngcontent-%COMP%], .detail-story[_ngcontent-%COMP%]{margin-bottom:.3em}.filters[_ngcontent-%COMP%]{padding:15px 3em}.search-result-counter.search[_ngcontent-%COMP%]{-webkit-box-align:start;align-items:flex-start;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.search-tools.search[_ngcontent-%COMP%]{margin-top:10px}}"]}),t})();const An=[{path:"",component:Tn,data:{breadcrumb:"Search"}},{path:":key",component:Tn,data:{breadcrumb:"Search"}},{path:"**",component:Tn,data:{breadcrumb:"Search"}}];let Nn=(()=>{class t{}return t.\u0275mod=v.Nb({type:t}),t.\u0275inj=v.Mb({factory:function(e){return new(e||t)},imports:[[o.h.forChild(An)],o.h]}),t})();var Bn=n("iWjc"),Vn=n("ypMf");n.d(e,"SearchModule",(function(){return Un}));let Un=(()=>{class t{}return t.\u0275mod=v.Nb({type:t}),t.\u0275inj=v.Mb({factory:function(e){return new(e||t)},imports:[[i.c,Bn.a,Nn,Vn.a]]}),t})()},SCto:function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var i=n("2Vo4"),o=n("LRne"),s=n("Njeq"),r=n("tWDZ"),a=n("OJRB"),c=n("lJxs"),l=n("3E0/"),h=n("fXoL");let d=(()=>{class t{constructor(t,e,n){this._apiUrlHelper=t,this._httpClientHelper=e,this._notificationTransFormer=n,this._notificationStatusService=new i.a({}),this.notificationStatusSource$=this._notificationStatusService.asObservable(),this._enterMsgClearNotification=new i.a({}),this.enterMsgClearNotification$=this._enterMsgClearNotification.asObservable()}changeNotificationStatus(t){this._notificationStatusService.next(t)}notifyEnterMsg(t){this._enterMsgClearNotification.next(t)}getOtherNotifications(t){if(!t)return Object(o.a)([]);const e=this._apiUrlHelper.urlBuilder("other-notifications",{});return this._httpClientHelper.get(e).pipe(Object(c.a)(t=>t)).pipe(Object(l.a)(200))}getNotifications(t){if(!t)return Object(o.a)([]);const e=this._apiUrlHelper.urlBuilder("notifications",{});return this._httpClientHelper.get(e).pipe(Object(c.a)(t=>t.map(t=>this._notificationTransFormer.transform(t)))).pipe(Object(l.a)(200))}markAllNotificationsAsRead(t){if(!t)return Object(o.a)([]);const e=this._apiUrlHelper.urlBuilder("mark-all-notifications-as-read",{});return this._httpClientHelper.get(e).pipe(Object(c.a)(t=>0)).pipe(Object(l.a)(200))}newMarkAllNotificationsAsRead(t){if(!t)return Object(o.a)([]);const e=this._apiUrlHelper.urlBuilder("new-mark-all-notifications-as-read",{});return this._httpClientHelper.get(e).pipe(Object(c.a)(t=>0)).pipe(Object(l.a)(200))}markANotificationsAsRead(t,e){if(!e)return Object(o.a)([]);const n=this._apiUrlHelper.urlBuilder("mark-a-notifications-as-read",{id:t});return this._httpClientHelper.get(n).pipe(Object(c.a)(t=>t[0])).pipe(Object(l.a)(200))}markANotificationsAsReadByMessageId(t,e){if(!e)return Object(o.a)([]);const n=this._apiUrlHelper.urlBuilder("mark-a-notifications-as-read-by-message-id",{id:t});return this._httpClientHelper.get(n).pipe(Object(c.a)(t=>t)).pipe(Object(l.a)(200))}}return t.\u0275fac=function(e){return new(e||t)(h.Zb(s.a),h.Zb(r.a),h.Zb(a.a))},t.\u0275prov=h.Lb({token:t,factory:t.\u0275fac}),t})()},SLVX:function(t,e,n){"use strict";function i(t){var e,n=t.Symbol;return"function"==typeof n?n.observable?e=n.observable:(e=n("observable"),n.observable=e):e="@@observable",e}n.d(e,"a",(function(){return i}))},SYYg:function(t,e,n){"use strict";n.d(e,"a",(function(){return u})),n.d(e,"b",(function(){return g}));var i=n("fXoL"),o=n("ofXK"),s=n("aCrv");const r=["header"],a=["container"],c=["content"],l=["invisiblePadding"],h=["*"];function d(){return{scrollThrottlingTime:0,scrollDebounceTime:0,scrollAnimationTime:750,checkResizeInterval:1e3,resizeBypassRefreshThreshold:5,modifyOverflowStyleOfParentScroll:!0,stripedTable:!1}}let u=(()=>{let t=class{constructor(t,e,n,s,r,a){this.element=t,this.renderer=e,this.zone=n,this.changeDetectorRef=s,this.window=window,this.executeRefreshOutsideAngularZone=!1,this._enableUnequalChildrenSizes=!1,this.useMarginInsteadOfTranslate=!1,this.ssrViewportWidth=1920,this.ssrViewportHeight=1080,this._bufferAmount=0,this._items=[],this.compareItems=(t,e)=>t===e,this.vsUpdate=new i.n,this.vsChange=new i.n,this.vsStart=new i.n,this.vsEnd=new i.n,this.calculatedScrollbarWidth=0,this.calculatedScrollbarHeight=0,this.padding=0,this.previousViewPort={},this.cachedPageSize=0,this.previousScrollNumberElements=0,this.isAngularUniversalSSR=Object(o.z)(r),this.scrollThrottlingTime=a.scrollThrottlingTime,this.scrollDebounceTime=a.scrollDebounceTime,this.scrollAnimationTime=a.scrollAnimationTime,this.scrollbarWidth=a.scrollbarWidth,this.scrollbarHeight=a.scrollbarHeight,this.checkResizeInterval=a.checkResizeInterval,this.resizeBypassRefreshThreshold=a.resizeBypassRefreshThreshold,this.modifyOverflowStyleOfParentScroll=a.modifyOverflowStyleOfParentScroll,this.stripedTable=a.stripedTable,this.horizontal=!1,this.resetWrapGroupDimensions()}get viewPortInfo(){let t=this.previousViewPort||{};return{startIndex:t.startIndex||0,endIndex:t.endIndex||0,scrollStartPosition:t.scrollStartPosition||0,scrollEndPosition:t.scrollEndPosition||0,maxScrollPosition:t.maxScrollPosition||0,startIndexWithBuffer:t.startIndexWithBuffer||0,endIndexWithBuffer:t.endIndexWithBuffer||0}}get enableUnequalChildrenSizes(){return this._enableUnequalChildrenSizes}set enableUnequalChildrenSizes(t){this._enableUnequalChildrenSizes!==t&&(this._enableUnequalChildrenSizes=t,this.minMeasuredChildWidth=void 0,this.minMeasuredChildHeight=void 0)}get bufferAmount(){return"number"==typeof this._bufferAmount&&this._bufferAmount>=0?this._bufferAmount:this.enableUnequalChildrenSizes?5:0}set bufferAmount(t){this._bufferAmount=t}get scrollThrottlingTime(){return this._scrollThrottlingTime}set scrollThrottlingTime(t){this._scrollThrottlingTime=t,this.updateOnScrollFunction()}get scrollDebounceTime(){return this._scrollDebounceTime}set scrollDebounceTime(t){this._scrollDebounceTime=t,this.updateOnScrollFunction()}updateOnScrollFunction(){this.onScroll=this.scrollDebounceTime?this.debounce(()=>{this.refresh_internal(!1)},this.scrollDebounceTime):this.scrollThrottlingTime?this.throttleTrailing(()=>{this.refresh_internal(!1)},this.scrollThrottlingTime):()=>{this.refresh_internal(!1)}}get checkResizeInterval(){return this._checkResizeInterval}set checkResizeInterval(t){this._checkResizeInterval!==t&&(this._checkResizeInterval=t,this.addScrollEventHandlers())}get items(){return this._items}set items(t){t!==this._items&&(this._items=t||[],this.refresh_internal(!0))}get horizontal(){return this._horizontal}set horizontal(t){this._horizontal=t,this.updateDirection()}revertParentOverscroll(){const t=this.getScrollElement();t&&this.oldParentScrollOverflow&&(t.style["overflow-y"]=this.oldParentScrollOverflow.y,t.style["overflow-x"]=this.oldParentScrollOverflow.x),this.oldParentScrollOverflow=void 0}get parentScroll(){return this._parentScroll}set parentScroll(t){if(this._parentScroll===t)return;this.revertParentOverscroll(),this._parentScroll=t,this.addScrollEventHandlers();const e=this.getScrollElement();this.modifyOverflowStyleOfParentScroll&&e!==this.element.nativeElement&&(this.oldParentScrollOverflow={x:e.style["overflow-x"],y:e.style["overflow-y"]},e.style["overflow-y"]=this.horizontal?"visible":"auto",e.style["overflow-x"]=this.horizontal?"auto":"visible")}ngOnInit(){this.addScrollEventHandlers()}ngOnDestroy(){this.removeScrollEventHandlers(),this.revertParentOverscroll()}ngOnChanges(t){let e=this.cachedItemsLength!==this.items.length;this.cachedItemsLength=this.items.length,this.refresh_internal(e||!t.items||!t.items.previousValue||0===t.items.previousValue.length)}ngDoCheck(){if(this.cachedItemsLength!==this.items.length)return this.cachedItemsLength=this.items.length,void this.refresh_internal(!0);if(this.previousViewPort&&this.viewPortItems&&this.viewPortItems.length>0){let t=!1;for(let e=0;e<this.viewPortItems.length;++e)if(!this.compareItems(this.items[this.previousViewPort.startIndexWithBuffer+e],this.viewPortItems[e])){t=!0;break}t&&this.refresh_internal(!0)}}refresh(){this.refresh_internal(!0)}invalidateAllCachedMeasurements(){this.wrapGroupDimensions={maxChildSizePerWrapGroup:[],numberOfKnownWrapGroupChildSizes:0,sumOfKnownWrapGroupChildWidths:0,sumOfKnownWrapGroupChildHeights:0},this.minMeasuredChildWidth=void 0,this.minMeasuredChildHeight=void 0,this.refresh_internal(!1)}invalidateCachedMeasurementForItem(t){if(this.enableUnequalChildrenSizes){let e=this.items&&this.items.indexOf(t);e>=0&&this.invalidateCachedMeasurementAtIndex(e)}else this.minMeasuredChildWidth=void 0,this.minMeasuredChildHeight=void 0;this.refresh_internal(!1)}invalidateCachedMeasurementAtIndex(t){if(this.enableUnequalChildrenSizes){let e=this.wrapGroupDimensions.maxChildSizePerWrapGroup[t];e&&(this.wrapGroupDimensions.maxChildSizePerWrapGroup[t]=void 0,--this.wrapGroupDimensions.numberOfKnownWrapGroupChildSizes,this.wrapGroupDimensions.sumOfKnownWrapGroupChildWidths-=e.childWidth||0,this.wrapGroupDimensions.sumOfKnownWrapGroupChildHeights-=e.childHeight||0)}else this.minMeasuredChildWidth=void 0,this.minMeasuredChildHeight=void 0;this.refresh_internal(!1)}scrollInto(t,e=!0,n=0,i,o){let s=this.items.indexOf(t);-1!==s&&this.scrollToIndex(s,e,n,i,o)}scrollToIndex(t,e=!0,n=0,i,o){let s=5,r=()=>{if(--s,s<=0)return void(o&&o());let i=this.calculateDimensions(),a=Math.min(Math.max(t,0),i.itemCount-1);this.previousViewPort.startIndex!==a?this.scrollToIndex_internal(t,e,n,0,r):o&&o()};this.scrollToIndex_internal(t,e,n,i,r)}scrollToIndex_internal(t,e=!0,n=0,i,o){i=void 0===i?this.scrollAnimationTime:i;let s=this.calculateDimensions(),r=this.calculatePadding(t,s)+n;e||(r-=s.wrapGroupsPerPage*s[this._childScrollDim]),this.scrollToPosition(r,i,o)}scrollToPosition(t,e,n){t+=this.getElementsOffset(),e=void 0===e?this.scrollAnimationTime:e;let i,o=this.getScrollElement();if(this.currentTween&&(this.currentTween.stop(),this.currentTween=void 0),!e)return this.renderer.setProperty(o,this._scrollType,t),void this.refresh_internal(!1,n);const r={scrollPosition:o[this._scrollType]};let a=new s.Tween(r).to({scrollPosition:t},e).easing(s.Easing.Quadratic.Out).onUpdate(t=>{isNaN(t.scrollPosition)||(this.renderer.setProperty(o,this._scrollType,t.scrollPosition),this.refresh_internal(!1))}).onStop(()=>{cancelAnimationFrame(i)}).start();const c=e=>{a.isPlaying()&&(a.update(e),r.scrollPosition!==t?this.zone.runOutsideAngular(()=>{i=requestAnimationFrame(c)}):this.refresh_internal(!1,n))};c(),this.currentTween=a}getElementSize(t){let e=t.getBoundingClientRect(),n=getComputedStyle(t),i=parseInt(n["margin-top"],10)||0,o=parseInt(n["margin-bottom"],10)||0,s=parseInt(n["margin-left"],10)||0,r=parseInt(n["margin-right"],10)||0;return{top:e.top+i,bottom:e.bottom+o,left:e.left+s,right:e.right+r,width:e.width+s+r,height:e.height+i+o}}checkScrollElementResized(){let t,e=this.getElementSize(this.getScrollElement());if(this.previousScrollBoundingRect){let n=Math.abs(e.width-this.previousScrollBoundingRect.width),i=Math.abs(e.height-this.previousScrollBoundingRect.height);t=n>this.resizeBypassRefreshThreshold||i>this.resizeBypassRefreshThreshold}else t=!0;t&&(this.previousScrollBoundingRect=e,e.width>0&&e.height>0&&this.refresh_internal(!1))}updateDirection(){this.horizontal?(this._invisiblePaddingProperty="width",this._offsetType="offsetLeft",this._pageOffsetType="pageXOffset",this._childScrollDim="childWidth",this._marginDir="margin-left",this._translateDir="translateX",this._scrollType="scrollLeft"):(this._invisiblePaddingProperty="height",this._offsetType="offsetTop",this._pageOffsetType="pageYOffset",this._childScrollDim="childHeight",this._marginDir="margin-top",this._translateDir="translateY",this._scrollType="scrollTop")}debounce(t,e){const n=this.throttleTrailing(t,e),i=function(){n.cancel(),n.apply(this,arguments)};return i.cancel=function(){n.cancel()},i}throttleTrailing(t,e){let n=void 0,i=arguments;const o=function(){const o=this;i=arguments,n||(e<=0?t.apply(o,i):n=setTimeout((function(){n=void 0,t.apply(o,i)}),e))};return o.cancel=function(){n&&(clearTimeout(n),n=void 0)},o}refresh_internal(t,e,n=2){if(t&&this.previousViewPort&&this.previousViewPort.scrollStartPosition>0){let t=this.previousViewPort,n=this.viewPortItems,i=e;e=()=>{let e=this.previousViewPort.scrollLength-t.scrollLength;if(e>0&&this.viewPortItems){let t=n[0],o=this.items.findIndex(e=>this.compareItems(t,e));if(o>this.previousViewPort.startIndexWithBuffer){let t=!1;for(let e=1;e<this.viewPortItems.length;++e)if(!this.compareItems(this.items[o+e],n[e])){t=!0;break}if(!t)return void this.scrollToPosition(this.previousViewPort.scrollStartPosition+e,0,i)}}i&&i()}}this.zone.runOutsideAngular(()=>{requestAnimationFrame(()=>{t&&this.resetWrapGroupDimensions();let i=this.calculateViewport(),o=t||i.startIndex!==this.previousViewPort.startIndex,s=t||i.endIndex!==this.previousViewPort.endIndex,r=i.scrollLength!==this.previousViewPort.scrollLength,a=i.padding!==this.previousViewPort.padding,c=i.scrollStartPosition!==this.previousViewPort.scrollStartPosition||i.scrollEndPosition!==this.previousViewPort.scrollEndPosition||i.maxScrollPosition!==this.previousViewPort.maxScrollPosition;if(this.previousViewPort=i,r&&this.renderer.setStyle(this.invisiblePaddingElementRef.nativeElement,this._invisiblePaddingProperty,`${i.scrollLength}px`),a&&(this.useMarginInsteadOfTranslate?this.renderer.setStyle(this.contentElementRef.nativeElement,this._marginDir,`${i.padding}px`):(this.renderer.setStyle(this.contentElementRef.nativeElement,"transform",`${this._translateDir}(${i.padding}px)`),this.renderer.setStyle(this.contentElementRef.nativeElement,"webkitTransform",`${this._translateDir}(${i.padding}px)`))),this.headerElementRef){let t=this.getScrollElement()[this._scrollType],e=this.getElementsOffset(),n=Math.max(t-i.padding-e+this.headerElementRef.nativeElement.clientHeight,0);this.renderer.setStyle(this.headerElementRef.nativeElement,"transform",`${this._translateDir}(${n}px)`),this.renderer.setStyle(this.headerElementRef.nativeElement,"webkitTransform",`${this._translateDir}(${n}px)`)}const l=o||s?{startIndex:i.startIndex,endIndex:i.endIndex,scrollStartPosition:i.scrollStartPosition,scrollEndPosition:i.scrollEndPosition,startIndexWithBuffer:i.startIndexWithBuffer,endIndexWithBuffer:i.endIndexWithBuffer,maxScrollPosition:i.maxScrollPosition}:void 0;if(o||s||c){const t=()=>{this.viewPortItems=i.startIndexWithBuffer>=0&&i.endIndexWithBuffer>=0?this.items.slice(i.startIndexWithBuffer,i.endIndexWithBuffer+1):[],this.vsUpdate.emit(this.viewPortItems),o&&this.vsStart.emit(l),s&&this.vsEnd.emit(l),(o||s)&&(this.changeDetectorRef.markForCheck(),this.vsChange.emit(l)),n>0?this.refresh_internal(!1,e,n-1):e&&e()};this.executeRefreshOutsideAngularZone?t():this.zone.run(t)}else{if(n>0&&(r||a))return void this.refresh_internal(!1,e,n-1);e&&e()}})})}getScrollElement(){return this.parentScroll instanceof Window?document.scrollingElement||document.documentElement||document.body:this.parentScroll||this.element.nativeElement}addScrollEventHandlers(){if(this.isAngularUniversalSSR)return;let t=this.getScrollElement();this.removeScrollEventHandlers(),this.zone.runOutsideAngular(()=>{this.parentScroll instanceof Window?(this.disposeScrollHandler=this.renderer.listen("window","scroll",this.onScroll),this.disposeResizeHandler=this.renderer.listen("window","resize",this.onScroll)):(this.disposeScrollHandler=this.renderer.listen(t,"scroll",this.onScroll),this._checkResizeInterval>0&&(this.checkScrollElementResizedTimer=setInterval(()=>{this.checkScrollElementResized()},this._checkResizeInterval)))})}removeScrollEventHandlers(){this.checkScrollElementResizedTimer&&clearInterval(this.checkScrollElementResizedTimer),this.disposeScrollHandler&&(this.disposeScrollHandler(),this.disposeScrollHandler=void 0),this.disposeResizeHandler&&(this.disposeResizeHandler(),this.disposeResizeHandler=void 0)}getElementsOffset(){if(this.isAngularUniversalSSR)return 0;let t=0;if(this.containerElementRef&&this.containerElementRef.nativeElement&&(t+=this.containerElementRef.nativeElement[this._offsetType]),this.parentScroll){let e=this.getScrollElement(),n=this.getElementSize(this.element.nativeElement),i=this.getElementSize(e);t+=this.horizontal?n.left-i.left:n.top-i.top,this.parentScroll instanceof Window||(t+=e[this._scrollType])}return t}countItemsPerWrapGroup(){if(this.isAngularUniversalSSR)return Math.round(this.horizontal?this.ssrViewportHeight/this.ssrChildHeight:this.ssrViewportWidth/this.ssrChildWidth);let t=this.horizontal?"offsetLeft":"offsetTop",e=(this.containerElementRef&&this.containerElementRef.nativeElement||this.contentElementRef.nativeElement).children,n=e?e.length:0;if(0===n)return 1;let i=e[0][t],o=1;for(;o<n&&i===e[o][t];)++o;return o}getScrollStartPosition(){let t=void 0;return this.parentScroll instanceof Window&&(t=window[this._pageOffsetType]),t||this.getScrollElement()[this._scrollType]||0}resetWrapGroupDimensions(){const t=this.wrapGroupDimensions;if(this.invalidateAllCachedMeasurements(),!this.enableUnequalChildrenSizes||!t||0===t.numberOfKnownWrapGroupChildSizes)return;const e=this.countItemsPerWrapGroup();for(let n=0;n<t.maxChildSizePerWrapGroup.length;++n){const i=t.maxChildSizePerWrapGroup[n];if(!i||!i.items||!i.items.length)continue;if(i.items.length!==e)return;let o=!1,s=e*n;for(let t=0;t<e;++t)if(!this.compareItems(i.items[t],this.items[s+t])){o=!0;break}o||(++this.wrapGroupDimensions.numberOfKnownWrapGroupChildSizes,this.wrapGroupDimensions.sumOfKnownWrapGroupChildWidths+=i.childWidth||0,this.wrapGroupDimensions.sumOfKnownWrapGroupChildHeights+=i.childHeight||0,this.wrapGroupDimensions.maxChildSizePerWrapGroup[n]=i)}}calculateDimensions(){let t=this.getScrollElement();this.calculatedScrollbarHeight=Math.max(Math.min(t.offsetHeight-t.clientHeight,25),this.calculatedScrollbarHeight),this.calculatedScrollbarWidth=Math.max(Math.min(t.offsetWidth-t.clientWidth,25),this.calculatedScrollbarWidth);let e,n,i,o=t.offsetWidth-(this.scrollbarWidth||this.calculatedScrollbarWidth||(this.horizontal?0:25)),s=t.offsetHeight-(this.scrollbarHeight||this.calculatedScrollbarHeight||(this.horizontal?25:0)),r=this.containerElementRef&&this.containerElementRef.nativeElement||this.contentElementRef.nativeElement,a=this.countItemsPerWrapGroup();if(this.isAngularUniversalSSR){o=this.ssrViewportWidth,s=this.ssrViewportHeight,n=this.ssrChildWidth,i=this.ssrChildHeight;let t=Math.max(Math.ceil(o/n),1),r=Math.max(Math.ceil(s/i),1);e=this.horizontal?t:r}else if(this.enableUnequalChildrenSizes){let c=t[this._scrollType]-(this.previousViewPort?this.previousViewPort.padding:0),l=this.previousViewPort.startIndexWithBuffer||0,h=Math.ceil(l/a),d=0,u=0,g=0,p=0;e=0;for(let t=0;t<r.children.length;++t){++l;let n=this.getElementSize(r.children[t]);if(d=Math.max(d,n.width),u=Math.max(u,n.height),l%a==0){let t=this.wrapGroupDimensions.maxChildSizePerWrapGroup[h];t&&(--this.wrapGroupDimensions.numberOfKnownWrapGroupChildSizes,this.wrapGroupDimensions.sumOfKnownWrapGroupChildWidths-=t.childWidth||0,this.wrapGroupDimensions.sumOfKnownWrapGroupChildHeights-=t.childHeight||0),++this.wrapGroupDimensions.numberOfKnownWrapGroupChildSizes;const n=this.items.slice(l-a,l);if(this.wrapGroupDimensions.maxChildSizePerWrapGroup[h]={childWidth:d,childHeight:u,items:n},this.wrapGroupDimensions.sumOfKnownWrapGroupChildWidths+=d,this.wrapGroupDimensions.sumOfKnownWrapGroupChildHeights+=u,this.horizontal){let t=Math.min(d,Math.max(o-g,0));if(c>0){let e=Math.min(c,t);t-=e,c-=e}g+=t,t>0&&o>=g&&++e}else{let t=Math.min(u,Math.max(s-p,0));if(c>0){let e=Math.min(c,t);t-=e,c-=e}p+=t,t>0&&s>=p&&++e}++h,d=0,u=0}}let f=this.wrapGroupDimensions.sumOfKnownWrapGroupChildWidths/this.wrapGroupDimensions.numberOfKnownWrapGroupChildSizes,b=this.wrapGroupDimensions.sumOfKnownWrapGroupChildHeights/this.wrapGroupDimensions.numberOfKnownWrapGroupChildSizes;n=this.childWidth||f||o,i=this.childHeight||b||s,this.horizontal?o>g&&(e+=Math.ceil((o-g)/n)):s>p&&(e+=Math.ceil((s-p)/i))}else{if(r.children.length>0){this.childWidth&&this.childHeight||(!this.minMeasuredChildWidth&&o>0&&(this.minMeasuredChildWidth=o),!this.minMeasuredChildHeight&&s>0&&(this.minMeasuredChildHeight=s));let t=this.getElementSize(r.children[0]);this.minMeasuredChildWidth=Math.min(this.minMeasuredChildWidth,t.width),this.minMeasuredChildHeight=Math.min(this.minMeasuredChildHeight,t.height)}n=this.childWidth||this.minMeasuredChildWidth||o,i=this.childHeight||this.minMeasuredChildHeight||s;let t=Math.max(Math.ceil(o/n),1),a=Math.max(Math.ceil(s/i),1);e=this.horizontal?t:a}let c=this.items.length,l=a*e,h=c/l,d=Math.ceil(c/a),u=0,g=this.horizontal?n:i;if(this.enableUnequalChildrenSizes){let t=0;for(let e=0;e<d;++e){let n=this.wrapGroupDimensions.maxChildSizePerWrapGroup[e]&&this.wrapGroupDimensions.maxChildSizePerWrapGroup[e][this._childScrollDim];n?u+=n:++t}u+=Math.round(t*g)}else u=d*g;this.headerElementRef&&(u+=this.headerElementRef.nativeElement.clientHeight);let p=this.horizontal?o:s;return{itemCount:c,itemsPerWrapGroup:a,wrapGroupsPerPage:e,itemsPerPage:l,pageCount_fractional:h,childWidth:n,childHeight:i,scrollLength:u,viewportLength:p,maxScrollPosition:Math.max(u-p,0)}}calculatePadding(t,e){if(0===e.itemCount)return 0;let n=e[this._childScrollDim],i=Math.floor(t/e.itemsPerWrapGroup)||0;if(!this.enableUnequalChildrenSizes)return n*i;let o=0,s=0;for(let r=0;r<i;++r){let t=this.wrapGroupDimensions.maxChildSizePerWrapGroup[r]&&this.wrapGroupDimensions.maxChildSizePerWrapGroup[r][this._childScrollDim];t?s+=t:++o}return s+=Math.round(o*n),s}calculatePageInfo(t,e){let n=0;if(this.enableUnequalChildrenSizes){const i=Math.ceil(e.itemCount/e.itemsPerWrapGroup);let o=0,s=e[this._childScrollDim];for(let e=0;e<i;++e)if(o+=this.wrapGroupDimensions.maxChildSizePerWrapGroup[e]&&this.wrapGroupDimensions.maxChildSizePerWrapGroup[e][this._childScrollDim]||s,t<o){n=e/i;break}}else n=t/e.scrollLength;let i=Math.min(Math.max(n*e.pageCount_fractional,0),e.pageCount_fractional)*e.itemsPerPage,o=e.itemCount-e.itemsPerPage-1,s=Math.min(Math.floor(i),o);if(s-=s%e.itemsPerWrapGroup,this.stripedTable){let t=2*e.itemsPerWrapGroup;s%t!=0&&(s=Math.max(s-s%t,0))}let r=Math.ceil(i)+e.itemsPerPage-1,a=(r+1)%e.itemsPerWrapGroup;a>0&&(r+=e.itemsPerWrapGroup-a),isNaN(s)&&(s=0),isNaN(r)&&(r=0),s=Math.min(Math.max(s,0),e.itemCount-1),r=Math.min(Math.max(r,0),e.itemCount-1);let c=this.bufferAmount*e.itemsPerWrapGroup;return{startIndex:s,endIndex:r,startIndexWithBuffer:Math.min(Math.max(s-c,0),e.itemCount-1),endIndexWithBuffer:Math.min(Math.max(r+c,0),e.itemCount-1),scrollStartPosition:t,scrollEndPosition:t+e.viewportLength,maxScrollPosition:e.maxScrollPosition}}calculateViewport(){let t=this.calculateDimensions(),e=this.getElementsOffset(),n=this.getScrollStartPosition();n>t.scrollLength+e&&!(this.parentScroll instanceof Window)?n=t.scrollLength:n-=e,n=Math.max(0,n);let i=this.calculatePageInfo(n,t),o=this.calculatePadding(i.startIndexWithBuffer,t),s=t.scrollLength;return{startIndex:i.startIndex,endIndex:i.endIndex,startIndexWithBuffer:i.startIndexWithBuffer,endIndexWithBuffer:i.endIndexWithBuffer,padding:Math.round(o),scrollLength:Math.round(s),scrollStartPosition:i.scrollStartPosition,scrollEndPosition:i.scrollEndPosition,maxScrollPosition:i.maxScrollPosition}}};return t.\u0275fac=function(e){return new(e||t)(i.Pb(i.l),i.Pb(i.E),i.Pb(i.z),i.Pb(i.h),i.Pb(i.B),i.Pb("virtual-scroller-default-options",8))},t.\u0275cmp=i.Jb({type:t,selectors:[["virtual-scroller"],["","virtualScroller",""]],contentQueries:function(t,e,n){var o;1&t&&(i.Hb(n,r,!0,i.l),i.Hb(n,a,!0,i.l)),2&t&&(i.yc(o=i.ec())&&(e.headerElementRef=o.first),i.yc(o=i.ec())&&(e.containerElementRef=o.first))},viewQuery:function(t,e){var n;1&t&&(i.Uc(c,!0,i.l),i.Uc(l,!0,i.l)),2&t&&(i.yc(n=i.ec())&&(e.contentElementRef=n.first),i.yc(n=i.ec())&&(e.invisiblePaddingElementRef=n.first))},hostVars:6,hostBindings:function(t,e){2&t&&i.Gb("horizontal",e.horizontal)("vertical",!e.horizontal)("selfScroll",!e.parentScroll)},inputs:{executeRefreshOutsideAngularZone:"executeRefreshOutsideAngularZone",useMarginInsteadOfTranslate:"useMarginInsteadOfTranslate",ssrViewportWidth:"ssrViewportWidth",ssrViewportHeight:"ssrViewportHeight",compareItems:"compareItems",scrollThrottlingTime:"scrollThrottlingTime",scrollDebounceTime:"scrollDebounceTime",scrollAnimationTime:"scrollAnimationTime",scrollbarWidth:"scrollbarWidth",scrollbarHeight:"scrollbarHeight",checkResizeInterval:"checkResizeInterval",resizeBypassRefreshThreshold:"resizeBypassRefreshThreshold",modifyOverflowStyleOfParentScroll:"modifyOverflowStyleOfParentScroll",stripedTable:"stripedTable",horizontal:"horizontal",enableUnequalChildrenSizes:"enableUnequalChildrenSizes",bufferAmount:"bufferAmount",items:"items",parentScroll:"parentScroll",childWidth:"childWidth",childHeight:"childHeight",ssrChildWidth:"ssrChildWidth",ssrChildHeight:"ssrChildHeight"},outputs:{vsUpdate:"vsUpdate",vsChange:"vsChange",vsStart:"vsStart",vsEnd:"vsEnd"},exportAs:["virtualScroller"],features:[i.zb()],ngContentSelectors:h,decls:5,vars:0,consts:[[1,"total-padding"],["invisiblePadding",""],[1,"scrollable-content"],["content",""]],template:function(t,e){1&t&&(i.mc(),i.Qb(0,"div",0,1),i.Vb(2,"div",2,3),i.lc(4),i.Ub())},styles:["[_nghost-%COMP%] {\n      position: relative;\n\t  display: block;\n      -webkit-overflow-scrolling: touch;\n    }\n\t\n\t.horizontal.selfScroll[_nghost-%COMP%] {\n      overflow-y: visible;\n      overflow-x: auto;\n\t}\n\t.vertical.selfScroll[_nghost-%COMP%] {\n      overflow-y: auto;\n      overflow-x: visible;\n\t}\n\t\n    .scrollable-content[_ngcontent-%COMP%] {\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      max-width: 100vw;\n      max-height: 100vh;\n      position: absolute;\n    }\n\n\t.scrollable-content[_ngcontent-%COMP%]     > * {\n\t\tbox-sizing: border-box;\n\t}\n\t\n\t.horizontal[_nghost-%COMP%] {\n\t\twhite-space: nowrap;\n\t}\n\t\n\t.horizontal[_nghost-%COMP%]   .scrollable-content[_ngcontent-%COMP%] {\n\t\tdisplay: flex;\n\t}\n\t\n\t.horizontal[_nghost-%COMP%]   .scrollable-content[_ngcontent-%COMP%]     > * {\n\t\tflex-shrink: 0;\n\t\tflex-grow: 0;\n\t\twhite-space: initial;\n\t}\n\t\n    .total-padding[_ngcontent-%COMP%] {\n      width: 1px;\n      opacity: 0;\n    }\n    \n    .horizontal[_nghost-%COMP%]   .total-padding[_ngcontent-%COMP%] {\n      height: 100%;\n    }"]}),t})(),g=(()=>{let t=class{};return t.\u0275mod=i.Nb({type:t}),t.\u0275inj=i.Mb({factory:function(e){return new(e||t)},providers:[{provide:"virtual-scroller-default-options",useFactory:d}],imports:[[o.c]]}),t})()},SbQY:function(t,e,n){"use strict";var i=n("LRne"),o=n("Njeq");const s=[{moreLink:"#fakemorelink",items:[{title:"\u8001\u7537\u5b69",link:"#",trending:""},{title:"\u5357\u65b9\u6709\u4e54\u6728",link:"#",trending:""},{title:"\u51e4\u56da\u51f0",link:"#",trending:"up"},{title:"\u597d\u4e45\u4e0d\u89c1",link:"#",trending:"up"},{title:"\u8700\u5c71\u6218\u5e7b2\u8e0f\u706b\u884c\u6b4c",link:"#",trending:"up"},{title:"\u5229\u5203\u51fa\u51fb",link:"#",trending:"down"},{title:"\u517b\u6bcd\u7684\u82b1\u6837\u5e74\u534e",link:"#",trending:"down"},{title:"\u9e21\u6bdb\u98de\u4e0a\u5929",link:"#",trending:""},{title:"\u540e\u5988\u7684\u6625\u5929",link:"#",trending:"up"},{title:"\u7a81\u51fb\u518d\u7a81\u51fb",link:"#",trending:"down"}]}],r=[],a=[{id:"1",title:"\u89c1\u9f99\u5378\u7532",link:"#",favorite:863,rating:10,genre:"TV"},{id:"2",title:"\u6492\u5a07\u5973\u4eba\u6700\u597d\u547d",link:"#",favorite:1526,rating:9,genre:"TV"},{id:"3",title:"\u897f\u6e38\u4f0f\u5996\u7bc7",link:"#",favorite:379,rating:8,genre:"TV"},{id:"4",title:"\u4f55\u4ee5\u7b19\u7bab\u9ed8 \u7535\u5f71\u7248",link:"#",favorite:617,rating:4.2,genre:"TV"},{id:"5",title:"\u9f99\u51e4\u5e97",link:"#",favorite:181,rating:7,genre:"TV"},{id:"6",title:"\u51b3\u6218\u5239\u9a6c\u9547",link:"#",favorite:1009,rating:7.4,genre:"TV"},{id:"7",title:"\u795e\u6218\uff1a\u6743\u529b\u4e4b\u773c \u82f1\u6587\u7248",link:"#",favorite:538,rating:6.9,genre:"TV"},{id:"8",title:"\u8fa3\u624b\u795e\u63a2 ",link:"#",favorite:231,rating:5,genre:"TV"},{id:"9",title:"\u5510\u4eba\u8857\u63a2\u68482",link:"#",favorite:3033,rating:6.9,genre:"TV"},{id:"10",title:"\u8718\u86db\u4fa03",link:"#",favorite:4567,rating:7,genre:"TV"}];var c=n("NO+K"),l=n("tWDZ"),h=n("lJxs"),d=n("3My9"),u=n("fXoL");n.d(e,"a",(function(){return g}));let g=(()=>{class t{constructor(t,e,n,i){this._videoTransFormer=t,this._apiUrlHelper=e,this._httpClientHelper=n,this._utility=i}getTrendingVideoList(){return Object(i.a)(s)}getFakeRecommendedVideoList(t=8){return Object(i.a)(r)}getRelatedVideos(t,e,n,i,o=!1){let s=o||this._utility.isNews,r={cid:t,title:encodeURIComponent(e),size:s?9:10,set:1,isNews:o,id:n,tags:i.join(",")};s&&(r.cinema=3);const a=this._apiUrlHelper.urlBuilder("video-related-list",r);return this._httpClientHelper.get(a).pipe(Object(h.a)(t=>t.map(s?t=>this._videoTransFormer.transformFromNews(t):t=>this._videoTransFormer.transformFromList(t))))}getRandomVideosByParentCid(t){const e=this._apiUrlHelper.urlBuilder("video-random-videos-by-category",{cid:t,size:6,set:1});return this._httpClientHelper.get(e).pipe(Object(h.a)(t=>t))}getFakeTopVideos(t){return Object(i.a)(a.filter(e=>e.genre===t))}getTopVideos(t){const e=this._apiUrlHelper.urlBuilder("video-list",{cid:t});return this._httpClientHelper.get(e).pipe(Object(h.a)(t=>t.info))}getRecentAddedVideos(t){const e=this._apiUrlHelper.urlBuilder("video-last-added",{CID:t,PageSize:10});return this._httpClientHelper.get(e)}getGuessYouLikeVideos(t){const e=this._apiUrlHelper.urlBuilder("video-guess-you-like",{CID:t,PageSize:35});return this._httpClientHelper.get(e)}getRecentlyWatchedVideos(){const t=this._apiUrlHelper.urlBuilder("video-recently-watched",{size:8});return this._httpClientHelper.get(t)}getRecentUpdates(t){let e;return e=this._apiUrlHelper.urlBuilder("video-recent-updates",t?{cid:t}:{cid:void 0}),this._httpClientHelper.get(e).pipe(Object(h.a)(t=>t))}getRecommendedVideoList(t=""){var e={};t&&(e={set:0,size:8});const n=this._apiUrlHelper.urlBuilder("videos-recommanded",e,t);return this._httpClientHelper.get(n).pipe(Object(h.a)(t=>t[0]))}httpGetRandomVideoList(){const t=this._apiUrlHelper.urlBuilder("random-video-list");return this._httpClientHelper.get(t).pipe(Object(h.a)(t=>t))}randomVideoListService(){return this.randomList$.asObservable()}getRankedVideos(t){const e=this._apiUrlHelper.urlBuilder("video-ranked-list",{cid:t});return this._httpClientHelper.get(e).pipe(Object(h.a)(t=>t.map(t=>this._videoTransFormer.transformFromRankedList(t))))}}return t.\u0275fac=function(e){return new(e||t)(u.Zb(c.a),u.Zb(o.a),u.Zb(l.a),u.Zb(d.a))},t.\u0275prov=u.Lb({token:t,factory:t.\u0275fac}),t})()},SeVD:function(t,e,n){"use strict";var i=n("ngJS"),o=n("NJ4a"),s=n("Lhse"),r=n("kJWO"),a=n("I55L"),c=n("c2HN"),l=n("XoHu");n.d(e,"a",(function(){return h}));const h=t=>{if(t&&"function"==typeof t[r.a])return h=t,t=>{const e=h[r.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(i.a)(t);if(Object(c.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,o.a),t);if(t&&"function"==typeof t[s.a])return e=t,t=>{const n=e[s.a]();for(;;){const e=n.next();if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(l.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected.`+" You can provide an Observable, Promise, Array, or Iterable.")}var e,n,h}},SpAZ:function(t,e,n){"use strict";function i(t){return t}n.d(e,"a",(function(){return i}))},SxV6:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var i=n("sVev"),o=n("pLZG"),s=n("IzEk"),r=n("xbPD"),a=n("XDbj"),c=n("SpAZ");function l(t,e){const n=arguments.length>=2;return l=>l.pipe(t?Object(o.a)((e,n)=>t(e,n,l)):c.a,Object(s.a)(1),n?Object(r.a)(e):Object(a.a)(()=>new i.a))}},T1Vy:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n("Mi/O"),o=n("fXoL");let s=(()=>{class t{fromGetUserInfo(t){const e=new i.b(!1);return e.id="",e.name="",e.accountName="",e.nickname=t.nickName,e.gender="\u4ed6"===t.who?"male":"\u5979"===t.who?"female":"",e.avatar=t.headimg,e.background=t.background,e.experience=t.experience,e.expToNextLevel=t.nextLevel,e.level=t.currentLevel,e.dnCoins=t.gold,e.membership=this.getUserRoleFromImage(t.userLevelPic),e.membershipExpiryDate=t.EndDate,e.roleId=t.GID,e.daysOfMembership=0,e.region=t.from,e.lastLogin="",e.lastIP="",e.loginTimes=0,e.permissions=[],e.key=t.key,e.privateFolder={available:!1,secret:"",securityMode:"password"},e.token={expire:"",gid:null,sign:"",token:""},e.trendCount=t.trendCount?t.trendCount:0,e.lastTrend=t.lastTrend,e}fromGetAuthorizedUserInfo(t){const e=new i.b(!0);return t&&(e.id=t.uid,e.name=t.userName,e.accountName=t.userNameRaw,e.nickname=t.nickName,e.avatar=t.headImage,e.background=t.background,e.gender=1===t.sex?"male":0===t.sex?"female":"",e.region=t.from,e.experience=t.experience,e.expToNextLevel=t.nextLevel,e.level=t.userLevel,e.dnCoins=t.gold,e.daysOfMembership=t.endDays,e.membership=this.getUserRoleFromImage(t.vipImage),e.membershipExpiryDate=t.endDate,e.roleId=t.gid,e.lastLogin=t.lastTime,e.lastIP=t.lastIP,e.loginTimes=t.loginNumber,e.permissions=[],e.registerDate=t.sDate,e.privateFolder={available:!1,secret:"",securityMode:"password"},e.token={expire:"",gid:null,sign:"",token:""},e.officalUp=!!t.isOfficalUP&&t.isOfficalUP,e.colorGuideDone=t.colorGuideDone?t.colorGuideDone:1,e.signature=t.signature,e.isBindTel=!!t.isBindTelphone&&t.isBindTelphone,e.autoSendServiceMsgUids=t.autoSendServiceMsgUids),e}fromValidateToken(t){const e=new i.b(!0);return e.autoKey=t.autoLoginKey,e.id=t.userToken.uid,e.name=t.userName,e.accountName=t.userName,e.nickname=t.nickName,e.avatar=void 0,e.gender="",e.region=t.from,e.experience=0,e.expToNextLevel=0,e.level=null,e.dnCoins=null,e.daysOfMembership=null,e.membership=null,e.membershipExpiryDate=null,e.roleId=t.gid,e.lastLogin=null,e.lastIP=null,e.loginTimes=null,e.permissions=[],e.privateFolder={available:void 0,secret:void 0,securityMode:void 0},e.token={expire:t.userToken.expire,gid:t.userToken.gid,sign:t.userToken.sign,token:t.userToken.token},e}getUserRoleFromImage(t){switch(!0){case-1!==t.indexOf("royal-vvvip.png"):return"royalVip";case-1!==t.indexOf("royal-admin.png"):return"royalAdmin";case-1!==t.indexOf("normal-vip.png"):return"vip";case-1!==t.indexOf("g-VIP.png"):return"gvip";case-1!==t.indexOf("et-VIP.png"):return"etvip";case-1!==t.indexOf("cpvip.png"):return"cpvip";case-1!==t.indexOf("editor.png"):return"editor";default:return""}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Lb({token:t,factory:t.\u0275fac}),t})()},TCkQ:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n("fXoL"),o=n("ofXK");const s=function(t,e){return{medium:t,gray:e}};let r=(()=>{class t{constructor(){this.size="small",this.gray=!1}ngOnInit(){this.gray="#fff"!==this.color}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Jb({type:t,selectors:[["app-loader-ring"]],inputs:{size:"size",color:"color"},decls:5,vars:4,consts:[[1,"lds-ring",3,"ngClass"]],template:function(t,e){1&t&&(i.Vb(0,"div",0),i.Qb(1,"div"),i.Qb(2,"div"),i.Qb(3,"div"),i.Qb(4,"div"),i.Ub()),2&t&&i.nc("ngClass",i.tc(1,s,"medium"===e.size,e.gray))},directives:[o.l],styles:[".lds-ring[_ngcontent-%COMP%]{display:inline-block;position:relative;width:1em;height:1em}.lds-ring[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{box-sizing:border-box;display:block;position:absolute;width:1.2em;height:1.2em;margin:0;border-radius:50%;-webkit-animation:lds-ring 1.2s cubic-bezier(.5,0,.5,1) infinite;animation:lds-ring 1.2s cubic-bezier(.5,0,.5,1) infinite;border:3px solid transparent;border-top-color:#ddd}.lds-ring[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child{-webkit-animation-delay:-.45s;animation-delay:-.45s}.lds-ring[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:-.3s;animation-delay:-.3s}.lds-ring[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:-.15s;animation-delay:-.15s}.medium.lds-ring[_ngcontent-%COMP%]{display:inline-block;position:relative;width:52px;height:52px}.medium.lds-ring[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{box-sizing:border-box;display:block;position:absolute;width:45px;height:45px;margin:3px;border-radius:50%;-webkit-animation:lds-ring 1.2s cubic-bezier(.5,0,.5,1) infinite;animation:lds-ring 1.2s cubic-bezier(.5,0,.5,1) infinite;border:3px solid transparent;border-top-color:#fff}.medium.lds-ring[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child{-webkit-animation-delay:-.45s;animation-delay:-.45s}.medium.lds-ring[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:-.3s;animation-delay:-.3s}.medium.lds-ring[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:-.15s;animation-delay:-.15s}.gray.lds-ring[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{border-color:#ddd transparent transparent}@-webkit-keyframes lds-ring{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes lds-ring{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}"]}),t})()},Tnqc:function(t,e){t.exports=Object.keys||function(t){var e=[],n=Object.prototype.hasOwnProperty;for(var i in t)n.call(t,i)&&e.push(i);return e}},TuhJ:function(t,e,n){"use strict";var i=n("fXoL"),o=n("dOYE"),s=n("N9ew"),r=n("ofXK"),a=n("Kdsb");n.d(e,"a",(function(){return g}));const c=["editor"],l=["perfectscroll"];function h(t,e){if(1&t){const t=i.Wb();i.Vb(0,"div",5),i.dc("click",(function(e){return i.Cc(t),i.gc(),i.zc(4).focus()})),i.Nc(1),i.Ub()}if(2&t){const t=i.gc();i.Bb(1),i.Pc("",t.placeholder," ")}}const d=function(t,e){return{"single-line":t,"height-fixed":e}},u=["*"];let g=(()=>{class t{constructor(t){this._emojiPickerService=t,this.singleLine=!0,this.ValueChangedEvent=new i.n,this.SendEvent=new i.n,this.focused=!1,this.subscriptions=[],this.isHigher=!1,this.lastHeight=0,this.isInputZh=!1,this.clearEditorFlag=!1,this.onClearedEvent=new i.n,this.scrollEndEvent=new i.n}ngOnInit(){this.subscriptions.push(this._emojiPickerService.emojiSource$.subscribe(t=>{t&&t.hasOwnProperty("id")&&(function(t){if(!t)return!1;if(window.getSelection){const e=window.getSelection();return e.removeAllRanges(),e.addRange(t),!0}document.getSelection&&t.select&&t.select()}(this.savedSelection),this.pasteHtmlAtCaret(Object.assign(new o.a,t).html,!1),this._emojiPickerService.selectEmoji(null),this.value=this.editorRef.nativeElement.innerHTML.replace(/<div class=\"ps__rail.*<\/div>/g,""),this.onChange())}))}startInputZh(){this.isInputZh=!0}stopInputZh(){this.isInputZh=!1,this.value=this.editorRef.nativeElement.innerHTML.replace(/<div class=\"ps__rail.*<\/div>/g,""),this.onChange()}onChange(){this.isInputZh||(this.ValueChangedEvent.emit(this.value),this.changeInputHeight())}onKeyDown(t){"Enter"===t.key&&t.ctrlKey?document.execCommand("insertHTML",!1,"<br><br>"):"Enter"===t.key&&(t.preventDefault(),this.send())}onKeyUp(t){"Enter"!==t.key?(this.value=this.editorRef.nativeElement.innerHTML.replace(/<div class=\"ps__rail.*<\/div>/g,""),this.onChange()):t.preventDefault()}onFocus(t){this.focused=!0}onBlur(t){this.focused=!1,this.onTextAreaBlur()}onTextAreaBlur(){this.savedSelection=function(){if(window.getSelection){const t=window.getSelection();if(t.getRangeAt&&t.rangeCount)return t.getRangeAt(0)}else if(document.getSelection&&document.createRange)return document.createRange();return null}()}send(){this.value||(this.value=""),""!==this.value.trim()&&(this.SendEvent.emit(),this.value="",this.editorRef.nativeElement.innerHTML="",this.ValueChangedEvent.emit(this.value),this.isHigher=!1,this.lastHeight=0)}ngOnChanges(t){t.clearEditorFlag&&(void 0!==t.clearEditorFlag.previousValue&&t.clearEditorFlag.currentValue&&this.clearEditor(),setTimeout(()=>{this.onClearedEvent.emit()},50))}clearEditor(){this.editorRef&&this.value&&(this.value="",this.editorRef.nativeElement.innerHTML="",this.ValueChangedEvent.emit(this.value))}pasteHtmlAtCaret(t,e){let n,i;if(this.editorRef.nativeElement.focus(),window.getSelection&&(n=window.getSelection(),n.getRangeAt&&n.rangeCount&&(i=n.getRangeAt(0),i.commonAncestorContainer.parentNode===this.editorRef.nativeElement||i.commonAncestorContainer===this.editorRef.nativeElement))){i.deleteContents();const o=document.createElement("div");o.innerHTML=t;const s=document.createDocumentFragment();let r,a;for(;r=o.firstChild;)a=s.appendChild(r);const c=s.firstChild;return i.insertNode(s),void(a&&(i=i.cloneRange(),i.setStartAfter(a),e?i.setStartBefore(c):i.collapse(!0),n.removeAllRanges(),n.addRange(i)))}}onDrop(t){t.preventDefault()}onPaste(t){t.preventDefault(),this.value=(t.originalEvent||t).clipboardData.getData("text/plain").replace(/&nbsp;/gi,"").replace(/(?:(\r\n)+|\r+|\n+)/g,"<br>").trim(),document.execCommand("insertHTML",!1,this.value)}scrollToBottom(){this.scrollEndEvent.emit()}changeInputHeight(){this.isHigher=this.editorRef.nativeElement.offsetHeight>=96,setTimeout(()=>{this.editorRef.nativeElement.offsetHeight>this.lastHeight&&this.scrollToBottom(),this.lastHeight=this.editorRef.nativeElement.offsetHeight},10)}}return t.\u0275fac=function(e){return new(e||t)(i.Pb(s.a))},t.\u0275cmp=i.Jb({type:t,selectors:[["contenteditable"]],viewQuery:function(t,e){var n;1&t&&(i.Uc(c,!0),i.Ic(l,!0)),2&t&&(i.yc(n=i.ec())&&(e.editorRef=n.first),i.yc(n=i.ec())&&(e.ps=n.first))},inputs:{placeholder:"placeholder",singleLine:"singleLine",value:"value",clearEditorFlag:"clearEditorFlag"},outputs:{ValueChangedEvent:"ValueChangedEvent",SendEvent:"SendEvent",onClearedEvent:"onClearedEvent",scrollEndEvent:"scrollEndEvent"},features:[i.zb()],ngContentSelectors:u,decls:7,vars:5,consts:[[1,"content-editable-container",3,"ngClass"],["perfectscroll",""],["contenteditable","true",1,"content-editable-input",2,"position","relative",3,"input","compositionstart","compositionend","keyup","focus","blur","drop","paste","keydown"],["editor",""],["class","content-editable-input-placeholder",3,"click",4,"ngIf"],[1,"content-editable-input-placeholder",3,"click"]],template:function(t,e){1&t&&(i.mc(),i.Vb(0,"div",0),i.Vb(1,"perfect-scrollbar",null,1),i.Vb(3,"div",2,3),i.dc("input",(function(t){return e.onChange()}))("compositionstart",(function(t){return e.startInputZh()}))("compositionend",(function(t){return e.stopInputZh()}))("keyup",(function(t){return e.onKeyUp(t)}))("focus",(function(t){return e.onFocus(t)}))("blur",(function(t){return e.onBlur(t)}))("drop",(function(t){return e.onDrop(t)}))("paste",(function(t){return e.onPaste(t)}))("keydown",(function(t){return e.onKeyDown(t)})),i.Ub(),i.Lc(5,h,2,1,"div",4),i.lc(6),i.Ub(),i.Ub()),2&t&&(i.nc("ngClass",i.tc(2,d,e.singleLine,e.isHigher)),i.Bb(5),i.nc("ngIf",!(!e.placeholder||e.value&&e.value.length||e.focused)))},directives:[r.l,a.b,r.n],encapsulation:2}),t})()},TypT:function(t,e){e.encode=function(t){var e="";for(var n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e},e.decode=function(t){for(var e={},n=t.split("&"),i=0,o=n.length;i<o;i++){var s=n[i].split("=");e[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return e}},"U+g8":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n("ofXK"),o=n("fXoL");let s=(()=>{class t{}return t.\u0275mod=o.Nb({type:t}),t.\u0275inj=o.Mb({factory:function(e){return new(e||t)},providers:[],imports:[[i.c]]}),t})()},UBk6:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n("ofXK"),o=n("6HMi"),s=n("wMT6"),r=n("fXoL");let a=(()=>{class t{}return t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({factory:function(e){return new(e||t)},providers:[s.a],imports:[[i.c,o.a]]}),t})()},UXun:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n("jtHE");function o(t,e,n){let o;return o=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:o}){let s,r,a=0,c=!1,l=!1;return function(h){a++,s&&!c||(c=!1,s=new i.a(t,e,o),r=h.subscribe({next(t){s.next(t)},error(t){c=!0,s.error(t)},complete(){l=!0,r=void 0,s.complete()}}));const d=s.subscribe(this);this.add(()=>{a--,d.unsubscribe(),r&&!l&&n&&0===a&&(r.unsubscribe(),r=void 0,s=void 0)})}}(o))}},UnVO:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));const i={systemAvatar:"./assets/images/admin_avatar.png",defaultAvatar:"./assets/images/logon.jpg?v=2",femaleDefaultAvatar:"./assets/images/logon.jpg?v=2",maleDefaultAvatar:"./assets/images/logon.jpg?v=2",defaultBackground:"./assets/images/user/default_bg.jpg",mVipBadge:"./assets/images/vip0.png",mGVipBadge:"./assets/images/vip2.png",mEtVipBadge:"./assets/images/vip3.png",mCpVipBadge:"./assets/images/vip4.png",mRoyalVipBadge:"./assets/images/vip3.png",mEditorBadge:"./assets/images/vip4.png",mRoyalAdminBadge:"./assets/images/vip4.png",vipBadge:"./assets/images/vip0.png",gVipBadge:"./assets/images/vip2.png",etVipBadge:"./assets/images/vip3.png",cpVipBadge:"./assets/images/vip4.png",royalVipBadge:"./assets/images/vip3.png",editorBadge:"./assets/images/vip4.png",royalAdminBadge:"./assets/images/vip4.png",vrTS:"./assets/images/ts.png",vr480P:"./assets/images/480P.png",vr576P:"./assets/images/576P.png",vr720P:"./assets/images/720P.png",vr1080P:"./assets/images/1080P.png",getGIDResource:t=>0==t?"":1==t?i.gVipBadge:2==t?i.etVipBadge:3==t?i.royalVipBadge:4==t?i.cpVipBadge:101==t?i.cpVipBadge:102==t?i.cpVipBadge:""}},Uwu7:function(t,e,n){var i=n("0KJs")("socket.io-parser"),o=n("2xqC"),s=n("Njrz"),r=n("luTP"),a=n("qGlh");function c(){}e.protocol=4,e.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],e.CONNECT=0,e.DISCONNECT=1,e.EVENT=2,e.ACK=3,e.ERROR=4,e.BINARY_EVENT=5,e.BINARY_ACK=6,e.Encoder=c,e.Decoder=d;var l=e.ERROR+'"encode error"';function h(t){var n=""+t.type;if(e.BINARY_EVENT!==t.type&&e.BINARY_ACK!==t.type||(n+=t.attachments+"-"),t.nsp&&"/"!==t.nsp&&(n+=t.nsp+","),null!=t.id&&(n+=t.id),null!=t.data){var o=function(t){try{return JSON.stringify(t)}catch(e){return!1}}(t.data);if(!1===o)return l;n+=o}return i("encoded %j as %s",t,n),n}function d(){this.reconstructor=null}function u(t){this.reconPack=t,this.buffers=[]}function g(t){return{type:e.ERROR,data:"parser error: "+t}}c.prototype.encode=function(t,n){i("encoding packet %j",t),e.BINARY_EVENT===t.type||e.BINARY_ACK===t.type?function(t,e){s.removeBlobs(t,(function(t){var n=s.deconstructPacket(t),i=h(n.packet),o=n.buffers;o.unshift(i),e(o)}))}(t,n):n([h(t)])},o(d.prototype),d.prototype.add=function(t){var n;if("string"==typeof t)n=function(t){var n=0,o={type:Number(t.charAt(0))};if(null==e.types[o.type])return g("unknown packet type "+o.type);if(e.BINARY_EVENT===o.type||e.BINARY_ACK===o.type){for(var s="";"-"!==t.charAt(++n)&&(s+=t.charAt(n),n!=t.length););if(s!=Number(s)||"-"!==t.charAt(n))throw new Error("Illegal attachments");o.attachments=Number(s)}if("/"===t.charAt(n+1))for(o.nsp="";++n&&","!==(c=t.charAt(n))&&(o.nsp+=c,n!==t.length););else o.nsp="/";var a=t.charAt(n+1);if(""!==a&&Number(a)==a){for(o.id="";++n;){var c;if(null==(c=t.charAt(n))||Number(c)!=c){--n;break}if(o.id+=t.charAt(n),n===t.length)break}o.id=Number(o.id)}if(t.charAt(++n)){var l=function(t){try{return JSON.parse(t)}catch(e){return!1}}(t.substr(n));if(!1===l||o.type!==e.ERROR&&!r(l))return g("invalid payload");o.data=l}return i("decoded %s as %j",t,o),o}(t),e.BINARY_EVENT===n.type||e.BINARY_ACK===n.type?(this.reconstructor=new u(n),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",n)):this.emit("decoded",n);else{if(!a(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(n=this.reconstructor.takeBinaryData(t))&&(this.reconstructor=null,this.emit("decoded",n))}},d.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},u.prototype.takeBinaryData=function(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){var e=s.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null},u.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},Uxeu:function(t,e){var n=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,i=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.exports=function(t){var e=t,o=t.indexOf("["),s=t.indexOf("]");-1!=o&&-1!=s&&(t=t.substring(0,o)+t.substring(o,s).replace(/:/g,";")+t.substring(s,t.length));for(var r=n.exec(t||""),a={},c=14;c--;)a[i[c]]=r[c]||"";return-1!=o&&-1!=s&&(a.source=e,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a}},VRyK:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n("HDdC"),o=n("z+Ro"),s=n("bHdf"),r=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(o.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof i.a?t[0]:Object(s.a)(e)(Object(r.a)(t,n))}},VWJ4:function(t,e,n){"use strict";var i=n("fXoL"),o=n("7K1u"),s=n("t9Fn"),r=n("bTnO"),a=n("KRVc"),c=n("YKxU"),l=n("0Xxy"),h=n("OeGS"),d=n("ciLT"),u=n("ofXK"),g=n("qUyv"),p=n("bTYh"),f=n("ruQk"),b=n("SCto"),m=n("wMT6"),v=n("AytR"),y=n("oAdE"),C=n("3My9"),_=n("q5P3"),x=n("sJdA"),P=n("tyNb"),w=n("Ysev"),O=n("Le4d");const M=["viewContainerRef"],k=["shotcutMenu"],S=function(t){return{activityStyle:t}};function I(t,e){if(1&t&&i.Qb(0,"img",27),2&t){const t=i.gc();i.pc("src","./assets/images/user-center/lv_",t.comment.level>8?8:t.comment.level,".png",i.Fc),i.nc("ngClass",i.sc(2,S,"activity"===t.hostPage||"activityLast3Child"===t.hostPage))}}function L(t,e){if(1&t&&(i.Vb(0,"span",28),i.Qb(1,"span",29),i.Nc(2),i.Ub()),2&t){const t=i.gc();i.nc("ngClass",i.sc(2,S,"activity"===t.hostPage||"activityLast3Child"===t.hostPage)),i.Bb(2),i.Pc(" ",0===t.comment.status?"\u5df2\u51bb\u7ed3":t.comment.status>2?"\u5df2\u5c01\u53f7":"\u7981\u8a00\u4e2d"," ")}}function T(t,e){if(1&t&&i.Qb(0,"img",36),2&t){const t=i.gc(3);i.pc("src","./assets/images/user-center/lv_",t.comment.replyUserLevel>8?8:t.comment.replyUserLevel,".png",i.Fc)}}const A=function(t){return["/space",t]};function N(t,e){if(1&t&&(i.Vb(0,"div",31),i.Vb(1,"span",32),i.Nc(2,"\u56de\u590d"),i.Ub(),i.Vb(3,"a",33),i.Vb(4,"span",34),i.Nc(5),i.Ub(),i.Ub(),i.Lc(6,T,1,1,"img",35),i.Ub()),2&t){const t=i.gc(2);i.Bb(3),i.nc("routerLink",i.sc(3,A,t.comment.replyUserKey)),i.Bb(2),i.Pc("@",t.comment.replyNikcName,""),i.Bb(1),i.nc("ngIf",t.comment.replyUserLevel>1)}}function B(t,e){if(1&t&&(i.Tb(0),i.Lc(1,N,7,5,"div",30),i.Sb()),2&t){const t=i.gc();i.Bb(1),i.nc("ngIf",t.comment.replyUserKey)}}function V(t,e){if(1&t&&(i.Vb(0,"div",37),i.Nc(1),i.Ub()),2&t){const t=i.gc();i.Bb(1),i.Oc(t.comment.published)}}const U=function(t,e){return{"text-red":t,activityStyle:e}};function D(t,e){if(1&t){const t=i.Wb();i.Vb(0,"div",38),i.dc("mouseover",(function(e){return i.Cc(t),i.gc().showReplied(e)})),i.Ub()}if(2&t){const t=i.gc();i.nc("ngClass",i.tc(2,U,!t.comment.blacklist&&t.comment.deleted,"activity"===t.hostPage||"activityLast3Child"===t.hostPage))("innerHtml",t.comment.blacklist?"<font>\u8be5\u7528\u6237\u5df2\u88ab\u60a8\u62c9\u5165\u9ed1\u540d\u5355\u3002</font>":t.formatContent(t.comment.content),i.Dc)}}function E(t,e){if(1&t){const t=i.Wb();i.Vb(0,"div",38),i.dc("mouseover",(function(e){return i.Cc(t),i.gc(2).showReplied(e)})),i.Ub()}if(2&t){const t=i.gc(2);i.nc("ngClass",i.tc(2,U,!t.comment.blacklist&&t.comment.deleted,"activity"===t.hostPage||"activityLast3Child"===t.hostPage))("innerHtml",t.comment.blacklist?"<font>\u8be5\u7528\u6237\u5df2\u88ab\u60a8\u62c9\u5165\u9ed1\u540d\u5355\u3002</font>":t.formatContent(t.comment.content),i.Dc)}}function R(t,e){if(1&t){const t=i.Wb();i.Vb(0,"div",38),i.dc("mouseover",(function(e){return i.Cc(t),i.gc(2).showReplied(e)})),i.Ub()}if(2&t){const t=i.gc(2);i.nc("ngClass",i.tc(2,U,!t.comment.blacklist&&t.comment.deleted,"activity"===t.hostPage||"activityLast3Child"===t.hostPage))("innerHtml",t.comment.blacklist?"<font>\u8be5\u7528\u6237\u5df2\u88ab\u60a8\u62c9\u5165\u9ed1\u540d\u5355\u3002</font>":t.formatContent(t.comment.rawContext),i.Dc)}}function F(t,e){if(1&t&&(i.Tb(0),i.Lc(1,E,1,5,"div",10),i.Lc(2,R,1,5,"div",10),i.Sb()),2&t){const t=i.gc();i.Bb(1),i.nc("ngIf",!t.comment.replyUserKey),i.Bb(1),i.nc("ngIf",t.comment.replyUserKey)}}function j(t,e){if(1&t&&i.Qb(0,"app-dn-poll",39),2&t){const t=i.gc();i.nc("pollId",t.comment.pollId)("user",t.user)}}const z=function(t,e){return{voted:t,disabled:e}};function H(t,e){if(1&t){const t=i.Wb();i.Vb(0,"div",42),i.dc("click",(function(e){return i.Cc(t),i.gc(2).report()})),i.Qb(1,"i",43),i.Vb(2,"span",2),i.Nc(3),i.Ub(),i.Ub()}if(2&t){const t=i.gc(2);i.Bb(1),i.nc("ngClass",i.tc(3,z,t.comment.reported,t.comment.deleted)),i.Bb(1),i.nc("ngClass",i.tc(6,z,t.comment.reported,t.comment.deleted)),i.Bb(1),i.Pc("",t.comment.reported?"\u5df2\u4e3e\u62a5":"\u4e3e\u62a5"," ")}}const G=function(t){return{disabled:t}};function W(t,e){if(1&t){const t=i.Wb();i.Vb(0,"div",42),i.dc("click",(function(e){i.Cc(t);const n=i.gc(2);return n.addBlacklist(n.comment.authorId)})),i.Qb(1,"i",44),i.Vb(2,"span"),i.Nc(3,"\u62c9\u9ed1"),i.Ub(),i.Ub()}if(2&t){const t=i.gc(2);i.Bb(1),i.nc("ngClass",i.sc(1,G,t.comment.deleted))}}function q(t,e){if(1&t){const t=i.Wb();i.Vb(0,"div",42),i.dc("click",(function(e){i.Cc(t);const n=i.gc(2);return n.removeBlacklist(n.comment.authorId)})),i.Qb(1,"i",44),i.Vb(2,"span"),i.Nc(3,"\u53d6\u6d88\u62c9\u9ed1"),i.Ub(),i.Ub()}if(2&t){const t=i.gc(2);i.Bb(1),i.nc("ngClass",i.sc(1,G,t.comment.deleted))}}function Q(t,e){if(1&t){const t=i.Wb();i.Vb(0,"div",42),i.dc("click",(function(e){i.Cc(t);const n=i.gc(2);return n.deleteComment(n.comment)})),i.Qb(1,"i",45),i.Vb(2,"span"),i.Nc(3,"\u5220\u9664\u8bc4\u8bba"),i.Ub(),i.Ub()}if(2&t){const t=i.gc(2);i.Bb(1),i.nc("ngClass",i.tc(1,z,t.comment.reported,t.comment.deleted))}}function $(t,e){if(1&t&&(i.Vb(0,"div",40),i.Lc(1,H,4,9,"div",41),i.Lc(2,W,4,3,"div",41),i.Lc(3,q,4,3,"div",41),i.Lc(4,Q,4,4,"div",41),i.Ub()),2&t){const t=i.gc();i.Bb(1),i.nc("ngIf",t.user.id!==t.comment.authorId),i.Bb(1),i.nc("ngIf",t.user.id!==t.comment.authorId&&!t.comment.blacklist),i.Bb(1),i.nc("ngIf",t.comment.blacklist),i.Bb(1),i.nc("ngIf",t.comment.authorId===t.user.id)}}const K=function(t){return{"pd-left":t}};function X(t,e){if(1&t&&(i.Vb(0,"div",46),i.Nc(1),i.Ub()),2&t){const t=i.gc();i.nc("ngClass",i.sc(2,K,t.childModeChild)),i.Bb(1),i.Pc(" ",t.comment.published," ")}}const Y=function(t,e){return{iconzan:t,iconzanshixin:e}};function Z(t,e){if(1&t){const t=i.Wb();i.Vb(0,"div",51),i.Vb(1,"button",52),i.dc("click",(function(e){return i.Cc(t),i.gc(2).likeComment()})),i.Vb(2,"div",53),i.Qb(3,"i",54),i.Ub(),i.Vb(4,"span",55),i.Nc(5),i.hc(6,"chineseCounter"),i.Ub(),i.Ub(),i.Ub()}if(2&t){const t=i.gc(2);i.Bb(1),i.nc("ngClass",i.tc(5,z,t.comment.liked,t.comment.deleted)),i.Bb(2),i.nc("ngClass",i.tc(8,Y,!t.comment.liked,t.comment.liked)),i.Bb(2),i.Oc(i.ic(6,3,t.comment.likes))}}function J(t,e){if(1&t){const t=i.Wb();i.Vb(0,"div",56),i.Vb(1,"button",52),i.dc("click",(function(e){return i.Cc(t),i.gc(2).likeComment()})),i.Vb(2,"div",57),i.Qb(3,"i",58),i.Ub(),i.Vb(4,"div",55),i.Nc(5),i.hc(6,"chineseCounter"),i.Ub(),i.Ub(),i.Ub()}if(2&t){const t=i.gc(2);i.Bb(1),i.nc("ngClass",i.tc(5,z,t.comment.liked,t.comment.deleted)),i.Bb(2),i.nc("ngClass",i.tc(8,Y,!t.comment.liked,t.comment.liked)),i.Bb(2),i.Oc(i.ic(6,3,t.comment.likes))}}function tt(t,e){if(1&t){const t=i.Wb();i.Vb(0,"div",59),i.dc("click",(function(e){return i.Cc(t),i.gc(2).reply()})),i.Vb(1,"span",60),i.Nc(2,"\u56de\u590d"),i.Ub(),i.Ub()}}const et=function(t,e){return{childParent:t,"activity-margin":e}};function nt(t,e){if(1&t&&(i.Vb(0,"div",47),i.Lc(1,Z,7,11,"div",48),i.Lc(2,J,7,11,"div",49),i.Lc(3,tt,3,0,"div",50),i.Ub()),2&t){const t=i.gc();i.nc("ngClass",i.tc(4,et,t.childModeParent,("activity"===t.hostPage||"activityLast3Child"===t.hostPage)&&!t.childModeParent)),i.Bb(1),i.nc("ngIf",!t.childModeParent),i.Bb(1),i.nc("ngIf",t.childModeParent),i.Bb(1),i.nc("ngIf",!t.childModeParent)}}function it(t,e){}function ot(t,e){1&t&&(i.Vb(0,"div",61),i.Lc(1,it,0,0,"ng-template",null,62,i.Mc),i.Ub())}function st(t,e){if(1&t){const t=i.Wb();i.Vb(0,"app-dn-comment",66),i.dc("onDeleteEvent",(function(e){return i.Cc(t),i.gc(2).deleteSubComment(e)}))("commentSuccessEvent",(function(e){return i.Cc(t),i.gc(2).commentCountHandler(e)})),i.Ub()}if(2&t){const t=e.$implicit,n=i.gc(2);i.nc("comment",t)("isLast",n.isLast)("replyBox",n.replyBox)("isReply",!0)("level",1)("hostPage","activityLast3Child")}}function rt(t,e){if(1&t){const t=i.Wb();i.Vb(0,"a",69),i.dc("click",(function(e){i.Cc(t);const n=i.gc(3);return n.openChildComments(n.comment)})),i.Nc(1),i.Ub()}if(2&t){const t=i.gc(3);i.Bb(1),i.Pc(" \u67e5\u770b\u5269\u4f59",t.comment.totalReplies-3,"\u6761\u56de\u590d ")}}function at(t,e){if(1&t&&(i.Vb(0,"div",67),i.Lc(1,rt,2,1,"a",68),i.Ub()),2&t){const t=i.gc(2);i.Bb(1),i.nc("ngIf",!t.isloading)}}function ct(t,e){if(1&t&&(i.Vb(0,"div",63),i.Lc(1,st,1,6,"app-dn-comment",64),i.hc(2,"slice"),i.Lc(3,at,2,1,"div",65),i.Ub()),2&t){const t=i.gc();i.Bb(1),i.nc("ngForOf",i.kc(2,2,t.comment.children,0,3)),i.Bb(2),i.nc("ngIf","activity"===t.hostPage&&!t.childModeParent&&t.comment.totalReplies>3)}}function lt(t,e){if(1&t){const t=i.Wb();i.Vb(0,"app-namecard",70),i.dc("userLoadedEvent",(function(e){return i.Cc(t),i.gc().onUserLoaded(e)}))("hideNameCardEvent",(function(e){return i.Cc(t),i.gc().hideNamecard()})),i.Ub()}if(2&t){const t=i.gc();i.nc("currentUser",t.user.id)("user",t.publisher)("userId",t.comment.authorId)("hide",!t.showNamecard)}}function ht(t,e){}function dt(t,e){if(1&t&&(i.Vb(0,"div",71),i.Lc(1,ht,0,0,"ng-template",null,62,i.Mc),i.Ub()),2&t){const t=i.gc();i.nc("ngClass",i.sc(1,S,"activityLast3Child"===t.hostPage))}}function ut(t,e){if(1&t){const t=i.Wb();i.Vb(0,"app-dn-comment",66),i.dc("onDeleteEvent",(function(e){return i.Cc(t),i.gc(2).deleteSubComment(e)}))("commentSuccessEvent",(function(e){return i.Cc(t),i.gc(2).commentCountHandler(e)})),i.Ub()}if(2&t){const t=e.$implicit,n=i.gc(2);i.nc("comment",t)("isLast",n.isLast)("replyBox",n.replyBox)("isReply",!0)("level",1)("hostPage",n.hostPage)}}function gt(t,e){1&t&&(i.Vb(0,"span",75),i.Nc(1,"\u6b63\u5728\u52a0\u8f7d..."),i.Ub())}function pt(t,e){if(1&t){const t=i.Wb();i.Vb(0,"a",69),i.dc("click",(function(e){return i.Cc(t),i.gc(2).pull_down()})),i.Nc(1),i.Ub()}if(2&t){const t=i.gc(2);i.Bb(1),i.Pc("\u67e5\u770b\u5269\u4f59",t.comment.totalReplies-t.comment.children.length,"\u6761\u56de\u590d")}}function ft(t,e){if(1&t){const t=i.Wb();i.Vb(0,"a",69),i.dc("click",(function(e){return i.Cc(t),i.gc(2).close()})),i.Nc(1,"\u6536\u8d77"),i.Ub()}}const bt=function(t){return{addLine:t}};function mt(t,e){if(1&t&&(i.Tb(0),i.Vb(1,"div",72),i.Lc(2,ut,1,6,"app-dn-comment",64),i.Vb(3,"div",73),i.Lc(4,gt,2,0,"span",74),i.Lc(5,pt,2,1,"a",68),i.Lc(6,ft,2,0,"a",68),i.Ub(),i.Ub(),i.Sb()),2&t){const t=i.gc();i.Bb(1),i.nc("ngClass",i.sc(5,bt,t.noMoreSub)),i.Bb(1),i.nc("ngForOf",t.comment.children),i.Bb(2),i.nc("ngIf",t.isloading),i.Bb(1),i.nc("ngIf",!t.isloading&&t.comment.children.length<t.comment.totalReplies),i.Bb(1),i.nc("ngIf",!t.isloading&&t.comment.children.length>t.size)}}const vt=function(t,e,n,i,o){return{last:t,"black-list":e,"sub-level":n,"is-reply":i,activityStyle:o}},yt=function(t,e){return{"d-flex":t,"align-items-baseline":e}},Ct=function(t,e){return{"float-left":t,activityLast3Child:e}};let _t=(()=>{class t{constructor(t,e,n,o,s,r,a,c,l,h,d,u,g){this._commentService=t,this._dnDialogService=e,this._messageDialogService=n,this._commentBoxService=o,this._notificationService=s,this._userService=r,this._confirmDialogService=a,this._dialogService=c,this.blacklistService=l,this.store=h,this.dialogService=d,this.resolver=u,this._utility=g,this.subscript=[],this.isHot=!1,this.isLast=!1,this.showControls=!0,this.level=0,this.isReply=!1,this.onDeleteEvent=new i.n,this.onSubCommentDeleteEvent=new i.n,this.initialSize=3,this.noMoreSub=!1,this.componentsReferences=[],this.voting=!1,this.deleting=!1,this.showNamecard=!1,this.showShotcut=!1,this.showReplyPopup=!1,this.subscriptions=[],this.commentSuccessEvent=new i.n,this.childCommentEvent=new i.n,this.childModeParent=!1,this.childModeChild=!1,this.replyVisible=!1,this.isloading=!1,this.page=1,this.size=10}ngOnDestroy(){this.subscript.forEach(t=>t()),this.subscriptions.forEach(t=>t.unsubscribe())}ngAfterViewInit(){this.shotcutElem=this.shotcutMenu.nativeElement}ngOnInit(){this.$newCommentInputBox=this._commentBoxService.commentId$,this.subscript.push(this.store.subscribe(()=>this.readState())),this.readState(),this.comment.pollId&&(this.showControls=!1),this.subscriptions.push(this._userService.userState$.subscribe(t=>{this.user=t}),this.$newCommentInputBox.subscribe(t=>{t!==this.comment.commendId&&this.removeInputBox()}))}getStatusText(t){switch(t){case 0:return"\u5df2\u5c01\u53f7";case 2:return"\u5df2\u7981\u8a00";case 3:return"\u5df2\u51bb\u7ed3"}return""}readState(){this.user=this._userService.user,this.commentsState=this.store.getState().comments}likeComment(){if(this.user&&this.user.id){if(!this.voting){if(this.comment.deleted)return this._messageDialogService.setState({message:"\u8be5\u8bc4\u8bba\u5df2\u7ecf\u88ab\u5220\u9664"}),void this._dnDialogService.open("message-dialog");this.voting=!0,this._commentService.likeComment(this.comment.commendId,null,this.hostPage).subscribe(t=>{this.voting=!1,401!==t.code&&(this.comment.liked?this.comment.likes-=1:this.comment.likes+=1,this.comment.liked=!this.comment.liked)})}}else this._dnDialogService.open("login-required")}deleteComment(t){if(this.comment.deleted)return this._messageDialogService.setState({message:"\u8be5\u8bc4\u8bba\u5df2\u7ecf\u88ab\u5220\u9664"}),void this._dnDialogService.open("message-dialog");this._confirmDialogService.setState({id:"delete-comment",message:t.replyId?"<h5>\u5220\u9664\u8bc4\u8bba\u540e\u5c06\u4e0d\u53ef\u6062\u590d\uff0c\u662f\u5426\u7ee7\u7eed\uff1f</h5>":"\u5220\u9664\u8bc4\u8bba\u540e\uff0c\u8bc4\u8bba\u4e0b\u7684\u56de\u590d\u90fd\u4f1a\u88ab\u5220\u9664\u3002",showIcon:!1,state:_.b.Unknown}),this._dialogService.open("confirm-dialog");const e=this._confirmDialogService.confirmDialogSource$.subscribe(n=>{if(n.state!==_.b.Unknown&&(this._dialogService.close("confirm-dialog"),e.unsubscribe()),n.state===_.b.Confirmed&&"delete-comment"===n.id){const n=1;this.deleting=!0,this.onDeleteEvent.emit(t.commendId),this._commentService.removeComment(this.user,t.commendId,n).subscribe(t=>{this.deleting=!1,this.comment.content='<font color="#ff0000">\u8be5\u8bc4\u8bba\u5df2\u88ab\u7528\u6237\u5220\u9664\u3002</font>'}),e.unsubscribe()}})}onAvatarMouseEnter(){this.showNamecard=!0,this.showShotcut=!1,this.showReplyPopup=!1}toggleShortcutMenuEnter(){this.showShotcut=!this.showShotcut,this.showNamecard=!1,this.showReplyPopup=!1,this.showShotcut?this.openList=this._utility.openList(this.shotcutElem,null,t=>{this.openList.unsubscribe(),this.showShotcut=!1}):this.openList&&this.openList.unsubscribe()}onAvatarMouseLeave(){v.a.production&&(this.showNamecard=!1,this.showReplyPopup=!1,this.showShotcut=!1)}onUserLoaded(t){this.publisher=t}hideNamecard(){this.showNamecard=!1}hideReplyViewer(){this.showReplyPopup=!1}reply(){if(!this.user||!this.user.id)return void this._userService.showLoginDialog(!0);if(this.comment.deleted)return this._messageDialogService.setState({message:"\u8be5\u8bc4\u8bba\u5df2\u7ecf\u88ab\u5220\u9664"}),void this._dnDialogService.open("message-dialog");if(this.user.id===this.comment.replyUserId&&this._notificationService.markANotificationsAsReadByMessageId(this.comment.commendId,this.user).subscribe(t=>{0===t[0].ret&&this._notificationService.changeNotificationStatus(!0)}),this.componentsReferences.length)return void this.removeInputBox();const t=this.resolver.resolveComponentFactory(y.a),e=this.commentInputContainer.createComponent(t),n=e.instance;n.isReplying=!0,n.reply=this.comment,n.user=this.user,n.hostPage="activityLast3Child"===this.hostPage?"activity":this.hostPage,n.commentSuccessEvent.subscribe(t=>{this.commentSuccessEvent.emit(!0)}),n.compInteraction=this,this.componentsReferences.push(e),this._commentBoxService.notify(this.comment.commendId)}report(){if(this.showShotcut=!1,this.user&&this.user.id)return this.comment.deleted?(this._messageDialogService.setState({message:"\u8be5\u8bc4\u8bba\u5df2\u7ecf\u88ab\u5220\u9664"}),void this._dnDialogService.open("message-dialog")):this.comment.reported?(this._messageDialogService.setState({message:"\u60a8\u5df2\u7ecf\u4e3e\u62a5\u8fc7\u8be5\u8bc4\u8bba"}),void this._dnDialogService.open("message-dialog")):void this.dialogService.open("reportComment",{size:{width:280,height:270},id:this.comment.commendId,ToUid:this.comment.authorId});this._userService.showLoginDialog(!0)}hideReplyingBox(){this.replyVisible=!1}addBlacklist(t){this.showShotcut=!1,this.user&&this.user.id?this.blacklistService.addBlacklist({id:t}).subscribe(e=>{401!==e.code&&(this._messageDialogService.setState({message:"\u7528\u6237\u62c9\u9ed1\u6210\u529f"}),this._dnDialogService.open("message-dialog"),this.store.dispatch({type:a.d,userId:t}))}):this._userService.showLoginDialog(!0)}removeBlacklist(t){this.showShotcut=!1,this.blacklistService.removeBlacklist({id:t}).subscribe(()=>{this._messageDialogService.setState({message:"\u7528\u6237\u53d6\u6d88\u62c9\u9ed1\u6210\u529f"}),this._dnDialogService.open("message-dialog"),this.store.dispatch({type:a.g,userId:t})})}showReplied(t){0!==this.comment.replyId?"FONT"===t.target.tagName||"FONT"===t.target.parentNode.tagName?(this.commentViewerId=this.comment.replyId,this.showReplyPopup=!0,this.showNamecard=!1,this.showShotcut=!1):(this.showNamecard=!1,this.showReplyPopup=!1,this.showShotcut=!1):this.showNamecard=!1}formatContent(t){return this.user&&this.user.id===this.comment.replyUserId?t.replace(/\u56de\u590d\u4e86.*\<\/font>/g,"\u56de\u590d\u4e86@\u60a8</font> "):t.replace("\u56de\u590d\u4e86","\u56de\u590d\u4e86@").replace(/\<\/font>/g," </font>")}pull_down(){this.isloading||this.noMoreSub||(this.isloading=!0,this._commentService.getCommentByParentID(this.comment.videoId,this.comment.commendId,this.comment.authorId,this.page,this.size,"album"===this.hostPage).subscribe(t=>{this.comment.children=this.comment.children.concat(1===this.page?t.slice(3):t),this.isloading=!1,t.length<this.size&&(this.noMoreSub=!0),++this.page}))}close(){this.noMoreSub=!1,this.page=2,this.comment.children=this.comment.children.slice(0,3)}removeInputBox(){this.commentInputContainer.length<1||(this.commentInputContainer.remove(0),this.componentsReferences=[])}fixVipSymbol(t){if(t)return t.split(".png")[0]+"_b.png"}deleteSubComment(t){this.comment.children=this.comment.children.filter(e=>e.commendId!=t),this.comment.totalReplies=this.comment.totalReplies>0?this.comment.totalReplies-1:0,this.onSubCommentDeleteEvent.emit(!0)}commentCountHandler(t){this.commentSuccessEvent.emit(!0)}openChildComments(t){this.childCommentEvent.emit(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Pb(h.a),i.Pb(l.a),i.Pb(p.a),i.Pb(f.a),i.Pb(b.a),i.Pb(d.a),i.Pb(_.a),i.Pb(l.a),i.Pb(m.a),i.Pb(r.a),i.Pb(l.a),i.Pb(i.j),i.Pb(C.a))},t.\u0275cmp=i.Jb({type:t,selectors:[["app-dn-comment"]],viewQuery:function(t,e){var n;1&t&&(i.Uc(M,!0,i.O),i.Uc(k,!0)),2&t&&(i.yc(n=i.ec())&&(e.commentInputContainer=n.first),i.yc(n=i.ec())&&(e.shotcutMenu=n.first))},inputs:{comment:"comment",isHot:"isHot",isLast:"isLast",showControls:"showControls",replyBox:"replyBox",level:"level",isReply:"isReply",hostPage:"hostPage",childModeParent:"childModeParent",childModeChild:"childModeChild"},outputs:{onDeleteEvent:"onDeleteEvent",onSubCommentDeleteEvent:"onSubCommentDeleteEvent",commentSuccessEvent:"commentSuccessEvent",childCommentEvent:"childCommentEvent"},decls:31,vars:50,consts:[[1,"comment",3,"id","ngClass"],[1,"content"],[3,"ngClass"],[1,"author-block","d-flex",3,"ngClass"],[1,"side",3,"currentUser","user","userId","avatar","status","vipSymbol","officalUp","userLoadedEvent"],[1,"author","text-light","no-pointer",3,"ngClass"],["class","level mr-1",3,"src","ngClass",4,"ngIf"],["class","status-text",3,"ngClass",4,"ngIf"],[4,"ngIf"],["class","time text-light",4,"ngIf"],["class","body",3,"ngClass","innerHtml","mouseover",4,"ngIf"],[3,"pollId","user",4,"ngIf"],[1,"comment-menu",3,"ngClass"],["shotcutMenu",""],["title","\u83dc\u5355",1,"iconfont","icongengduo",2,"cursor","pointer",3,"click"],["class","shortcut-menu",4,"ngIf"],[1,"bottom","d-flex","align-items-center"],[1,"side","text-center","text-light"],[1,"content",3,"ngClass"],[1,"d-flex","align-items-center",2,"margin-right","5px"],["class","time bottom text-light","style","position: absolute;",3,"ngClass",4,"ngIf"],["class","controls",3,"ngClass",4,"ngIf"],["class","replyholder sp activityStyle",4,"ngIf"],["class","childShowedActivity",4,"ngIf"],[1,"card"],[3,"currentUser","user","userId","hide","userLoadedEvent","hideNameCardEvent",4,"ngIf"],["class","replyholder",3,"ngClass",4,"ngIf"],[1,"level","mr-1",3,"src","ngClass"],[1,"status-text",3,"ngClass"],[1,"status-label"],["class","replyTo-container ml-2",4,"ngIf"],[1,"replyTo-container","ml-2"],[1,"replyTo-text","mr-2"],["target","_blank",3,"routerLink"],[1,"replyTo-nickname","ml-1"],["class","replyTo-level ml-1 mr-1 activityStyle",3,"src",4,"ngIf"],[1,"replyTo-level","ml-1","mr-1","activityStyle",3,"src"],[1,"time","text-light"],[1,"body",3,"ngClass","innerHtml","mouseover"],[3,"pollId","user"],[1,"shortcut-menu"],["class","hover-red button","style","cursor: pointer",3,"click",4,"ngIf"],[1,"hover-red","button",2,"cursor","pointer",3,"click"],["title","\u4e3e\u62a5",1,"dn-icon-medium","icon-report","mr-1",3,"ngClass"],["title","\u62c9\u9ed1",1,"dn-icon-medium","icon-lahei","mr-1",3,"ngClass"],["title","\u5220\u9664\u8bc4\u8bba",1,"dn-icon-medium","icon-remove","mr-1",3,"ngClass"],[1,"time","bottom","text-light",2,"position","absolute",3,"ngClass"],[1,"controls",3,"ngClass"],["class","d-inline-block",4,"ngIf"],["class","circle-like",4,"ngIf"],["class","d-inline-block hover-red ml-5","style","cursor: pointer",3,"click",4,"ngIf"],[1,"d-inline-block"],[1,"like-button","hover-red","d-flex","align-items-center",2,"cursor","pointer",3,"ngClass","click"],[1,"d-inline-flex","align-items-center",2,"width","35px"],["title","\u6309\u8d5e",1,"iconfont","mr-2",3,"ngClass"],[1,"zcount"],[1,"circle-like"],[1,"d-inline-flex","align-items-center"],["title","\u6309\u8d5e",1,"iconfont",3,"ngClass"],[1,"d-inline-block","hover-red","ml-5",2,"cursor","pointer",3,"click"],[1,"fs-14"],[1,"replyholder","sp","activityStyle"],["viewContainerRef",""],[1,"childShowedActivity"],[3,"comment","isLast","replyBox","isReply","level","hostPage","onDeleteEvent","commentSuccessEvent",4,"ngFor","ngForOf"],["class","enter-child-comments",4,"ngIf"],[3,"comment","isLast","replyBox","isReply","level","hostPage","onDeleteEvent","commentSuccessEvent"],[1,"enter-child-comments"],["href","javascript: void(0)",3,"click",4,"ngIf"],["href","javascript: void(0)",3,"click"],[3,"currentUser","user","userId","hide","userLoadedEvent","hideNameCardEvent"],[1,"replyholder",3,"ngClass"],[1,"sublevel",3,"ngClass"],[1,"d-flex","comment-replies-renderer"],["class","comment-replies-renderer-loading",4,"ngIf"],[1,"comment-replies-renderer-loading"]],template:function(t,e){1&t&&(i.Vb(0,"div",0),i.Vb(1,"div",1),i.Vb(2,"div",2),i.Vb(3,"div",3),i.Vb(4,"app-namecard",4),i.dc("userLoadedEvent",(function(t){return e.onUserLoaded(t)})),i.hc(5,"safeResource"),i.Ub(),i.Vb(6,"span",5),i.Nc(7),i.Ub(),i.Lc(8,I,1,4,"img",6),i.Lc(9,L,3,4,"span",7),i.Lc(10,B,2,1,"ng-container",8),i.Ub(),i.Lc(11,V,2,1,"div",9),i.Lc(12,D,1,5,"div",10),i.Lc(13,F,3,2,"ng-container",8),i.Ub(),i.Lc(14,j,1,2,"app-dn-poll",11),i.Ub(),i.Vb(15,"div",12,13),i.Vb(17,"i",14),i.dc("click",(function(t){return e.toggleShortcutMenuEnter()})),i.Ub(),i.Lc(18,$,5,4,"div",15),i.Ub(),i.Vb(19,"div",16),i.Qb(20,"div",17),i.Vb(21,"div",18),i.Vb(22,"div",19),i.Lc(23,X,2,4,"div",20),i.Lc(24,nt,4,7,"div",21),i.Ub(),i.Lc(25,ot,3,0,"div",22),i.Lc(26,ct,4,6,"div",23),i.Ub(),i.Ub(),i.Vb(27,"div",24),i.Lc(28,lt,1,4,"app-namecard",25),i.Ub(),i.Lc(29,dt,3,3,"div",26),i.Lc(30,mt,7,7,"ng-container",8),i.Ub()),2&t&&(i.nc("id","comment-"+e.comment.commendId)("ngClass",i.wc(32,vt,e.isLast,e.comment.blacklist,!!e.level,e.isReply,"activity"===e.hostPage)),i.Bb(2),i.nc("ngClass",i.tc(38,yt,e.isReply&&"activityLast3Child"!==e.hostPage,e.isReply)),i.Bb(1),i.nc("ngClass",i.tc(41,Ct,e.isReply,"activityLast3Child"===e.hostPage)),i.Bb(1),i.nc("currentUser",e.user.id)("user",e.publisher)("userId",e.comment.authorId)("avatar",i.ic(5,30,e.comment.avatar))("status",e.comment.status)("vipSymbol",e.comment.userLevelSymbol)("officalUp",e.comment.isOfficalUP),i.Bb(2),i.nc("ngClass",i.sc(44,S,"activity"===e.hostPage||"activityLast3Child"===e.hostPage)),i.Bb(1),i.Oc(e.comment.author),i.Bb(1),i.nc("ngIf",e.comment.level>1),i.Bb(1),i.nc("ngIf",1!==e.comment.status),i.Bb(1),i.nc("ngIf","activity"===e.hostPage||"activityLast3Child"===e.hostPage),i.Bb(1),i.nc("ngIf","activity"===e.hostPage&&!e.childModeChild),i.Bb(1),i.nc("ngIf",!("activity"===e.hostPage||"activityLast3Child"===e.hostPage)),i.Bb(1),i.nc("ngIf","activity"===e.hostPage||"activityLast3Child"===e.hostPage),i.Bb(1),i.nc("ngIf",!e.comment.deleted&&e.comment.pollId>0),i.Bb(1),i.nc("ngClass",i.sc(46,S,"activity"===e.hostPage||"activityLast3Child"===e.hostPage)),i.Bb(3),i.nc("ngIf",e.showShotcut),i.Bb(3),i.nc("ngClass",i.sc(48,S,"activity"===e.hostPage)),i.Bb(2),i.nc("ngIf","activity"!==e.hostPage||e.childModeChild),i.Bb(1),i.nc("ngIf",e.showControls),i.Bb(1),i.nc("ngIf","activity"===e.hostPage&&0===e.level),i.Bb(1),i.nc("ngIf","activity"===e.hostPage&&!e.childModeParent),i.Bb(2),i.nc("ngIf",e.showNamecard),i.Bb(1),i.nc("ngIf",!("activity"===e.hostPage&&0===e.level)),i.Bb(1),i.nc("ngIf",e.comment.children.length>0&&"activity"!==e.hostPage))},directives:[u.l,x.a,u.n,P.g,w.a,u.m,t],pipes:[O.b,O.a,u.v],styles:['.text-gray[_ngcontent-%COMP%]{color:#f8f8f8!important}.text-light[_ngcontent-%COMP%]{color:hsla(0,0%,100%,.4)!important}.light[_ngcontent-%COMP%]   .text-light[_ngcontent-%COMP%]{color:#888!important}.text-large[_ngcontent-%COMP%]{font-size:18px}text-medium[_ngcontent-%COMP%]{font-size:16px}.text-small[_ngcontent-%COMP%]{font-size:13px}.dn-button[_ngcontent-%COMP%]{border:none;outline:none!important;display:block;padding:6px 8px;width:auto;min-width:100px;margin:0 .4rem;border-radius:0;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;text-align:center;color:#fff!important;background-color:#373843}.light[_ngcontent-%COMP%]   .dn-button[_ngcontent-%COMP%]{background-color:#777}.dn-button[_ngcontent-%COMP%]:hover{background-color:hsla(0,0%,40%,.2)}.dn-button-plain[_ngcontent-%COMP%]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border:1px solid silver;color:#000!important;background-color:#fff;padding:6px 20px;cursor:pointer}.dn-button-plain[_ngcontent-%COMP%]:hover{background-color:#cacaca;color:#fff!important}.dn-button-outline[_ngcontent-%COMP%]{outline:none!important;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border:2px solid silver;border-radius:0;background-color:#fff;padding:2px 14px;cursor:pointer}.dn-button-outline[_ngcontent-%COMP%]:hover{background-color:#cacaca;color:#fff!important}.dn-button-outline.orange[_ngcontent-%COMP%]{color:#f49800;border-color:#f49800;background-color:#434343}.dn-button-outline.orange[_ngcontent-%COMP%]:hover{color:#fe9e00!important;border-color:#fe9e00!important;background-color:#000}.dn-button-blue[_ngcontent-%COMP%]{color:#fff!important;background-color:#00a8ec!important}.dn-button-blue[_ngcontent-%COMP%]:hover{background-color:#00b6ff!important}.dn-button-disable[_ngcontent-%COMP%]{cursor:default;color:hsla(0,0%,100%,.2)!important;background-color:hsla(0,0%,40%,.2)!important}.light[_ngcontent-%COMP%]   .dn-button-disable[_ngcontent-%COMP%]{color:#a0a0a0!important}.dn-button-orange[_ngcontent-%COMP%]{color:#fff!important;background-color:#f49800}.dn-button-orange[_ngcontent-%COMP%]:hover{background-color:#fe9e00}.dn-button-gold[_ngcontent-%COMP%]{color:#fff!important;background-color:#f49800!important}.dn-button-gold[_ngcontent-%COMP%]:hover{background-color:#fe9e00!important}.dn-button-red[_ngcontent-%COMP%]{color:#fff!important}.dn-button-red[_ngcontent-%COMP%], .dn-button-red[_ngcontent-%COMP%]:hover{background-color:#00c0ff}.dn-button-large[_ngcontent-%COMP%]{padding:10px 18px}.dn-play-button[_ngcontent-%COMP%]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;padding:4px 12px;border-radius:3px;font-size:16px;display:inline-block;color:#fff!important;background-color:#f00000}.dn-play-button[_ngcontent-%COMP%]:hover{background-color:#f10000}.dn-play-button[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{font-size:20px;vertical-align:middle}.dn-play-button[_ngcontent-%COMP%]   .btn-text[_ngcontent-%COMP%]{display:inline-block;border-left:1px solid #fff;padding:3px 8px 3px 10px;vertical-align:middle}.dn-btn-load-more[_ngcontent-%COMP%]{cursor:pointer;padding:5px 15px}.link-blue[_ngcontent-%COMP%]{color:#00a8ec}.link-blue[_ngcontent-%COMP%]:hover{color:#434343}.red[_ngcontent-%COMP%]{color:#f00000}.rose[_ngcontent-%COMP%]{color:#ff01ff}.orange[_ngcontent-%COMP%]{color:#fe9e00}.comment[_ngcontent-%COMP%]{position:relative;padding-bottom:15px;margin-bottom:25px}.comment.sub-level[_ngcontent-%COMP%]{border:none!important;margin-bottom:0}.comment.sub-level[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]{padding:0 20px 0 0;margin-bottom:5px}.comment.sub-level[_ngcontent-%COMP%]   .author-block[_ngcontent-%COMP%]:after{content:":";display:inline-block;width:20px;text-align:center}.comment.sub-level[_ngcontent-%COMP%]   .author-block.activityLast3Child[_ngcontent-%COMP%]:after{content:unset;display:unset;width:unset;text-align:unset}.comment.sub-level[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding-left:62px}.comment.sub-level[_ngcontent-%COMP%]   .content.activityStyle[_ngcontent-%COMP%]{padding-left:20px}.comment[_ngcontent-%COMP%]:not(.last){border-bottom:1px solid rgba(77,76,76,.2)}.light[_nghost-%COMP%]   .comment[_ngcontent-%COMP%]:not(.last), .light   [_nghost-%COMP%]   .comment[_ngcontent-%COMP%]:not(.last){border-bottom-color:#f8f8f8}.comment.last[_ngcontent-%COMP%]{padding-bottom:0;margin-bottom:17px}.comment.activityStyle[_ngcontent-%COMP%]{border-bottom:none!important;margin-bottom:15px}.sublevel[_ngcontent-%COMP%]{margin-left:4.4em;margin-top:1em}.bottom[_ngcontent-%COMP%]{position:relative}.bottom[_ngcontent-%COMP%]   .content.activityStyle[_ngcontent-%COMP%]{width:100%;padding-left:16px}.childShowedActivity[_ngcontent-%COMP%]{margin-top:20px}.side[_ngcontent-%COMP%]{position:absolute;width:48px;left:0}.side[_ngcontent-%COMP%]:hover{z-index:1001}.side[_ngcontent-%COMP%]:hover   .avatar[_ngcontent-%COMP%]{width:62px}.avatar[_ngcontent-%COMP%]{-webkit-transition:all .3s;transition:all .3s;cursor:pointer;width:31px;border-radius:50%}.author[_ngcontent-%COMP%]{cursor:pointer;font-size:16px;white-space:nowrap;max-width:175px;overflow:hidden;text-overflow:ellipsis}.light[_nghost-%COMP%]   .author[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .author[_ngcontent-%COMP%]{color:#888!important}.author.no-pointer[_ngcontent-%COMP%]{cursor:default!important}.author.activityStyle[_ngcontent-%COMP%]{margin-top:-10px;font-size:14px;max-width:120px}.content[_ngcontent-%COMP%]{padding-left:76px}.body[_ngcontent-%COMP%]{font-size:16px;padding:10px 20px 5px 0;word-wrap:break-word;color:hsla(0,0%,100%,.7);text-align:justify;overflow:hidden}.light[_nghost-%COMP%]   .body[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .body[_ngcontent-%COMP%]{color:#333}.body.activityStyle[_ngcontent-%COMP%]{overflow-wrap:anywhere;display:block;font-size:14px;padding:10px 20px 5px 0!important;margin-bottom:0!important}.icongengduo[_ngcontent-%COMP%]{color:hsla(0,0%,100%,.7);font-size:18px;position:relative;bottom:-.2em}.light[_nghost-%COMP%]   .icongengduo[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .icongengduo[_ngcontent-%COMP%]{color:#333}.membership[_ngcontent-%COMP%]{margin-left:.5em;margin-top:.2em}.membership.alone[_ngcontent-%COMP%]{position:absolute;margin-left:-30px;margin-top:18px;z-index:1000}.controls[_ngcontent-%COMP%]{font-size:15px;color:hsla(0,0%,100%,.4);margin-left:15em;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}.light[_nghost-%COMP%]   .controls[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .controls[_ngcontent-%COMP%]{color:#888}.controls.childParent[_ngcontent-%COMP%]{width:70px;height:70px;background-color:#2b2c3a;text-align:center;border-radius:50%;display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center;margin:15px auto 0}.controls.childParent[_ngcontent-%COMP%]   .like-button[_ngcontent-%COMP%]{-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.controls.childParent[_ngcontent-%COMP%]   .like-button[_ngcontent-%COMP%]   .zcount[_ngcontent-%COMP%]{min-width:unset;margin-top:-8px}.controls.activity-margin[_ngcontent-%COMP%]{margin-left:auto}.time[_ngcontent-%COMP%]{font-size:14px}.time.pd-left[_ngcontent-%COMP%]{padding-left:60px}.zcount[_ngcontent-%COMP%]{min-width:2em;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;font-size:14px;margin-top:1px}.voted[_ngcontent-%COMP%]{color:#00c0ff}.card[_ngcontent-%COMP%]{position:absolute;left:220px;top:-60px;background-color:transparent;border-color:transparent}.hover-red[_ngcontent-%COMP%]:hover, .status[_ngcontent-%COMP%]{color:#00c0ff}.status[_ngcontent-%COMP%]{padding:0 .5rem}.shortcut-menu[_ngcontent-%COMP%]{position:absolute;right:0;top:25px;border:1px solid hsla(0,0%,40%,.2);background-color:#090b21;z-index:99}.light[_nghost-%COMP%]   .shortcut-menu[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .shortcut-menu[_ngcontent-%COMP%]{background-color:#f8f8f8}.shortcut-menu[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{border-bottom:1px solid hsla(0,0%,40%,.2);padding:4px 12px 4px 10px;white-space:nowrap}.shortcut-menu[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:last-child{border-bottom:none}.black-list-overlay[_ngcontent-%COMP%]{display:none}.black-list[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%], .black-list[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]{text-decoration:line-through!important}.black-list[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .black-list-overlay[_ngcontent-%COMP%]{display:block;position:absolute;left:0;top:0;right:0;bottom:0;background-color:hsla(0,0%,100%,.9);z-index:10}.black-list[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .black-list-overlay[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);padding:15px}.iconzan[_ngcontent-%COMP%], .replyholder[_ngcontent-%COMP%]{position:relative}.replyholder[_ngcontent-%COMP%]{padding-left:5em}.replyholder.activityStyle[_ngcontent-%COMP%]{padding-left:3.8em}.floating[_ngcontent-%COMP%]{position:absolute;min-width:60px;right:5px;bottom:4px;margin-bottom:.5em;padding:.3em 0}.light[_nghost-%COMP%]   .floating[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .floating[_ngcontent-%COMP%]{background-color:#777}.pull-down[_ngcontent-%COMP%]{cursor:pointer;color:hsla(0,0%,100%,.7)}.light[_nghost-%COMP%]   .pull-down[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .pull-down[_ngcontent-%COMP%]{color:#888}.pull-down[_ngcontent-%COMP%]:hover{color:#fff}.light[_nghost-%COMP%]   .pull-down[_ngcontent-%COMP%]:hover, .light   [_nghost-%COMP%]   .pull-down[_ngcontent-%COMP%]:hover{color:#333}.toLine[_ngcontent-%COMP%]{color:rgba(236,236,238,.7);background-color:#090b21;display:inline-block;position:absolute;left:50%;margin-top:-.7em;padding:0 1em;-webkit-transform:translateX(-50%);transform:translateX(-50%)}.light[_nghost-%COMP%]   .toLine[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .toLine[_ngcontent-%COMP%]{color:#888;background-color:#fff}.sublevel[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:26px}.level[_ngcontent-%COMP%]{margin-left:.5em;height:13px;margin-top:5px}.level.activityStyle[_ngcontent-%COMP%]{margin-top:-5px;height:11px}.light[_nghost-%COMP%]   .time[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .time[_ngcontent-%COMP%]{color:#888!important}.comment-replies-renderer[_ngcontent-%COMP%]{padding-left:60px;margin-top:10px;margin-bottom:15px;font-size:14px}.comment-replies-renderer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:14px;color:#00c0ff}.comment-replies-renderer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#72d4f5}.comment-replies-renderer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:first-child{margin-right:16px}.comment-replies-renderer-loading[_ngcontent-%COMP%]{color:hsla(0,0%,100%,.2)}.comment-menu[_ngcontent-%COMP%]{position:absolute;right:0;top:0}.comment-menu.activityStyle[_ngcontent-%COMP%]{top:-18px}.comment-menu.activityLast3Child[_ngcontent-%COMP%]{top:-5px}.like-button[_ngcontent-%COMP%]{background-color:transparent;color:hsla(0,0%,100%,.4);border:none;outline:none}.light[_nghost-%COMP%]   .like-button[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .like-button[_ngcontent-%COMP%]{color:#888}.like-button[_ngcontent-%COMP%]:active{-webkit-transform:translateY(1px);transform:translateY(1px)}.like-button.voted[_ngcontent-%COMP%], .like-button[_ngcontent-%COMP%]:hover{color:#00c0ff!important}.status-text[_ngcontent-%COMP%]{color:hsla(0,0%,100%,.7);line-height:24px;font-size:14px;font-weight:600;white-space:nowrap;padding-left:17px;position:relative}.light[_nghost-%COMP%]   .status-text[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .status-text[_ngcontent-%COMP%]{color:#888}.status-text.activityStyle[_ngcontent-%COMP%]{margin-top:-11px}.status-label[_ngcontent-%COMP%]{position:absolute;top:10px;left:6px;height:5px;width:5px;border-radius:50%;background-color:#ff0048}.enter-child-comments[_ngcontent-%COMP%]{padding-left:60px}.enter-child-comments[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:14px;color:#00c0ff}.enter-child-comments[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#72d4f5}.enter-child-comments[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:first-child{margin-right:16px}.replyTo-container[_ngcontent-%COMP%]{margin-top:-10px;font-size:14px;display:-webkit-box;display:flex}.replyTo-text[_ngcontent-%COMP%]{margin-top:0!important}.replyTo-nickname[_ngcontent-%COMP%]{display:inline-block;font-size:14px;max-width:120px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;color:hsla(0,0%,100%,.4)}.light[_nghost-%COMP%]   .replyTo-nickname[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .replyTo-nickname[_ngcontent-%COMP%]{color:#888}.replyTo-nickname[_ngcontent-%COMP%]:hover{color:#00c0ff!important}.replyTo-level[_ngcontent-%COMP%]{height:11px;margin-top:5px!important}@media (max-width:1439px){.author.activityStyle[_ngcontent-%COMP%], .replyTo-nickname[_ngcontent-%COMP%]{max-width:60px}}']}),t})();var xt=n("dlKe"),Pt=n("dayM"),wt=n("Jr3z"),Ot=n("3Pt+");function Mt(t,e){1&t&&i.Qb(0,"span",9)}n.d(e,"a",(function(){return Kt}));const kt=function(t,e){return{active:t,activityStyle:e}};function St(t,e){if(1&t){const t=i.Wb();i.Vb(0,"li",7),i.dc("click",(function(n){i.Cc(t);const o=e.$implicit;return i.gc(2).selectTab(o)})),i.Nc(1),i.Lc(2,Mt,1,0,"span",8),i.Ub()}if(2&t){const t=e.$implicit,n=i.gc(2);i.nc("ngClass",i.tc(3,kt,t.active,"activity"===n.hostPage)),i.Bb(1),i.Pc(" ",t.name," "),i.Bb(1),i.nc("ngIf","activity"===n.hostPage)}}const It=function(t){return{activityStyle:t}};function Lt(t,e){if(1&t&&(i.Vb(0,"ul",5),i.Lc(1,St,3,6,"li",6),i.Ub()),2&t){const t=i.gc();i.nc("ngClass",i.sc(2,It,"activity"===t.hostPage)),i.Bb(1),i.nc("ngForOf",t.tabsList)}}function Tt(t,e){1&t&&(i.Vb(0,"span"),i.Nc(1,"\u6682\u65e0\u8bc4\u8bba"),i.Ub())}function At(t,e){1&t&&(i.Vb(0,"div",12),i.Vb(1,"div",13),i.Qb(2,"img",14),i.Ub(),i.Vb(3,"div",15),i.Vb(4,"span",16),i.Nc(5,"\u7a7a\u8361\u8361\u7684"),i.Ub(),i.Qb(6,"br"),i.Vb(7,"span",17),i.Nc(8,"\u8d76\u5feb\u7559\u4e0b\u60a8\u7684\u91d1\u53e5\u5427~"),i.Ub(),i.Ub(),i.Ub())}function Nt(t,e){if(1&t&&(i.Vb(0,"div",10),i.Lc(1,Tt,2,0,"span",2),i.Lc(2,At,9,0,"div",11),i.Ub()),2&t){const t=i.gc();i.Bb(1),i.nc("ngIf","activity"!==t.hostPage),i.Bb(1),i.nc("ngIf","activity"===t.hostPage)}}function Bt(t,e){if(1&t){const t=i.Wb();i.Vb(0,"app-dn-comment",26),i.dc("onDeleteEvent",(function(e){return i.Cc(t),i.gc(3).deleteComment(e)}))("onSubCommentDeleteEvent",(function(e){return i.Cc(t),i.gc(3).deleteSubCommentHandler(e)}))("commentSuccessEvent",(function(e){return i.Cc(t),i.gc(3).commentCountHandler(e)}))("childCommentEvent",(function(e){return i.Cc(t),i.gc(3).onChildComment(e)})),i.Ub()}if(2&t){const t=e.$implicit,n=e.last,o=i.gc(3),s=i.zc(6);i.nc("comment",t)("isHot",!0)("replyBox",s)("isLast",n)("hostPage",o.hostPage)}}function Vt(t,e){if(1&t&&(i.Vb(0,"div",22),i.Lc(1,Bt,1,5,"app-dn-comment",23),i.Vb(2,"div",24),i.Vb(3,"div",25),i.Nc(4," \u4ee5\u4e0a\u4e3a\u70ed\u95e8\u8bc4\u8bba "),i.Ub(),i.Ub(),i.Ub()),2&t){const t=i.gc(2);i.Bb(1),i.nc("ngForOf",t.topComment)}}function Ut(t,e){if(1&t){const t=i.Wb();i.Vb(0,"app-dn-comment",29),i.dc("onDeleteEvent",(function(e){return i.Cc(t),i.gc(3).deleteComment(e)}))("onSubCommentDeleteEvent",(function(e){return i.Cc(t),i.gc(3).deleteSubCommentHandler(e)}))("commentSuccessEvent",(function(e){return i.Cc(t),i.gc(3).commentCountHandler(e)}))("childCommentEvent",(function(e){return i.Cc(t),i.gc(3).onChildComment(e)})),i.Ub()}if(2&t){const t=e.$implicit,n=e.last,o=i.gc(3),s=i.zc(6);i.nc("comment",t)("isLast",n)("replyBox",s)("hostPage",o.hostPage)}}function Dt(t,e){if(1&t){const t=i.Wb();i.Vb(0,"div",27),i.dc("scrolled",(function(e){i.Cc(t);const n=i.gc(2);return n.getComments(n.commentPager+1)})),i.Lc(1,Ut,1,4,"app-dn-comment",28),i.Ub()}if(2&t){const t=i.gc(2);i.nc("infiniteScrollDistance",2)("infiniteScrollThrottle",500),i.Bb(1),i.nc("ngForOf",t.comments.comments)}}function Et(t,e){if(1&t){const t=i.Wb();i.Vb(0,"div",33),i.dc("click",(function(e){return i.Cc(t),i.gc(3).closeChildMode()})),i.Qb(1,"i",34),i.Vb(2,"span",35),i.Nc(3," \u67e5\u770b\u5168\u90e8\u8bc4\u8bba "),i.Vb(4,"span",36),i.Nc(5),i.Ub(),i.Ub(),i.Ub()}if(2&t){const t=i.gc(3);i.Bb(5),i.Pc("(",t.commentCount,")")}}function Rt(t,e){if(1&t){const t=i.Wb();i.Vb(0,"div"),i.Lc(1,Et,6,1,"div",30),i.Vb(2,"app-dn-comment",31),i.dc("onDeleteEvent",(function(e){return i.Cc(t),i.gc(2).deleteComment(e)}))("onSubCommentDeleteEvent",(function(e){return i.Cc(t),i.gc(2).deleteSubCommentHandler(e)}))("commentSuccessEvent",(function(e){return i.Cc(t),i.gc(2).commentCountHandler(e)})),i.Ub(),i.Vb(3,"div",32),i.Vb(4,"span"),i.Nc(5,"\u5168\u90e8\u56de\u590d"),i.Ub(),i.Ub(),i.Ub()}if(2&t){const t=i.gc(2),e=i.zc(6);i.Bb(1),i.nc("ngIf",t.isChildMode),i.Bb(1),i.nc("comment",t.childComment)("replyBox",e)("childModeParent",!0)("hostPage",t.hostPage)}}function Ft(t,e){if(1&t){const t=i.Wb();i.Vb(0,"app-dn-comment",38),i.dc("onDeleteEvent",(function(e){return i.Cc(t),i.gc(3).deleteComment(e)}))("onSubCommentDeleteEvent",(function(e){return i.Cc(t),i.gc(3).deleteSubCommentHandler(e)}))("commentSuccessEvent",(function(e){return i.Cc(t),i.gc(3).commentCountHandler(e)})),i.Ub()}if(2&t){const t=e.$implicit,n=e.last,o=i.gc(3),s=i.zc(6);i.nc("comment",t)("isLast",n)("replyBox",s)("hostPage",o.hostPage)("childModeChild",!0)}}function jt(t,e){1&t&&(i.Vb(0,"div",39),i.Vb(1,"div",40),i.Qb(2,"app-loader-spinner"),i.Ub(),i.Vb(3,"span"),i.Nc(4,"\u6b63\u5728\u52a0\u8f7d"),i.Ub(),i.Ub())}function zt(t,e){if(1&t){const t=i.Wb();i.Vb(0,"div",27),i.dc("scrolled",(function(e){i.Cc(t);const n=i.gc(2);return n.getChildComment(n.childCommentPager+1)})),i.Lc(1,Ft,1,5,"app-dn-comment",37),i.Lc(2,jt,5,0,"div",20),i.Ub()}if(2&t){const t=i.gc(2);i.nc("infiniteScrollDistance",2)("infiniteScrollThrottle",500),i.Bb(1),i.nc("ngForOf",t.childComment.children),i.Bb(1),i.nc("ngIf",t.isloading)}}function Ht(t,e){1&t&&(i.Vb(0,"div",39),i.Vb(1,"div",40),i.Qb(2,"app-loader-spinner"),i.Ub(),i.Vb(3,"span"),i.Nc(4,"\u6b63\u5728\u52a0\u8f7d"),i.Ub(),i.Ub())}function Gt(t,e){1&t&&(i.Vb(0,"div",41),i.Vb(1,"span"),i.Nc(2,"\u6211\u662f\u6709\u5e95\u7ebf\u7684"),i.Ub(),i.Ub())}function Wt(t,e){if(1&t&&(i.Vb(0,"div"),i.Lc(1,Vt,5,1,"div",18),i.Lc(2,Dt,2,3,"div",19),i.Lc(3,Rt,6,5,"div",2),i.Lc(4,zt,3,4,"div",19),i.Lc(5,Ht,5,0,"div",20),i.Lc(6,Gt,3,0,"div",21),i.Ub()),2&t){const t=i.gc();i.Bb(1),i.nc("ngIf",t.topComment.length&&!t.isChildMode),i.Bb(1),i.nc("ngIf",!t.isChildMode),i.Bb(1),i.nc("ngIf",t.isChildMode),i.Bb(1),i.nc("ngIf",t.isChildMode),i.Bb(1),i.nc("ngIf",t.isLoading),i.Bb(1),i.nc("ngIf",t.bottomLine&&t.commentPager>1)}}function qt(t,e){if(1&t){const t=i.Wb();i.Vb(0,"div"),i.Vb(1,"label",48),i.Vb(2,"input",49),i.dc("ngModelChange",(function(e){return i.Cc(t),i.gc(2).reportCommentReason=e})),i.Ub(),i.Qb(3,"i"),i.Nc(4),i.Ub(),i.Ub()}if(2&t){const t=e.$implicit,n=i.gc(2);i.Bb(2),i.oc("value",t.name),i.nc("ngModel",n.reportCommentReason),i.Bb(2),i.Pc(" ",t.name," ")}}function Qt(t,e){if(1&t){const t=i.Wb();i.Vb(0,"div",42),i.Nc(1,"\u8bf7\u9009\u62e9\u4e3e\u62a5\u539f\u56e0"),i.Ub(),i.Qb(2,"div",43),i.Lc(3,qt,5,3,"div",44),i.Qb(4,"app-dn-dialog-close-button",45),i.Vb(5,"div",46),i.Vb(6,"a",47),i.dc("click",(function(n){i.Cc(t);const o=e.data;return i.gc().reportComment(o.id,o.ToUid)})),i.Nc(7,"\u4e3e\u62a5"),i.Ub(),i.Ub()}if(2&t){const t=i.gc();i.Bb(3),i.nc("ngForOf",t.reportCommentReasons),i.Bb(1),i.nc("dialog","reportComment")}}function $t(t,e){if(1&t&&i.Qb(0,"app-comment-box",50),2&t){const t=e.reply,n=i.gc();i.nc("videoId",n.videoId)("isReplying",!0)("user",n.user)("reply",t)}}let Kt=(()=>{class t{constructor(t,e,n,o,s,r,a){this._commentListService=t,this._votingService=e,this._toastService=n,this._dnDialogService=o,this.commentService=s,this.store=r,this._userService=a,this.subscrption=[],this.onCommentsLoaded=new i.n,this.commentPager=0,this.pageSize=10,this.bottomLine=!1,this.isLoading=!1,this.isTryLoaded=!1,this.reportCommentReasons=[{name:"\u5267\u900f",value:"spoiler"},{name:"\u4eba\u8eab\u653b\u51fb",value:"language"},{name:"\u53d1\u5e03\u5e7f\u544a",value:"advertise"},{name:"\u5176\u5b83",value:"other"}],this.reportCommentReason=this.reportCommentReasons[0].name,this.tabsList=[{id:0,name:"\u5168\u90e8\u8bc4\u8bba"},{id:1,name:"\u70ed\u95e8\u8bc4\u8bba"}],this.commentCount=0,this.toggleChildComment=new i.n,this.orderstyle=0,this.topComment=[],this.isChildMode=!1,this.childCommentPager=1,this.noMoreSub=!1,this.isloading=!1}selectTab(t){this.tabsList.filter(t=>t.active).forEach(t=>t.active=!1),t.active=!0,this.isTryLoaded=!1,this.orderstyle=t.id,this.comments=[],this.commentPager=0,this.bottomLine=!1,this.store.dispatch({type:a.c}),this.getComments(this.commentPager+1)}ngOnInit(){this.subscrption.push(this.store.subscribe(()=>this.readState())),this.tabsList[0].active=!0,this.orderstyle=this.tabsList[0].id}readState(){this.user=this._userService.user;const t=this.store.getState().comments;0==this.commentPager&&(this.comments=t.currentComments,this.topComment=Object.assign([],t.currentComments.topComments))}ngOnChanges(t){this.comments=[],this.commentPager=0,this.bottomLine=!1,this.store.dispatch({type:a.c}),this.getComments(this.commentPager+1)}getComments(t){this.isLoading||this.bottomLine||(this.isLoading=!0,this._commentListService.getComments(this.videoId,t,10,this.orderstyle,"album"===this.hostPage||"activity"===this.hostPage).subscribe(t=>{this.isLoading=!1,this.onCommentsLoaded.emit(t.count),this.commentCount=t.count,this.store.dispatch({type:a.a,comments:{comments:t.comments,topComments:t.topComments}}),t.comments.length>0&&(this.commentPager+=1),this.bottomLine=t.comments.length<10,this.isTryLoaded=!0}))}onScroll(){console.log("scrolled!!")}ngOnDestroy(){this.subscrption.forEach(t=>t())}reportComment(t,e){this.commentService.reportComment(t,e,this.reportCommentReason).subscribe(e=>{e.hasOwnProperty("code")&&401===e.code||(this.store.dispatch({type:a.f,commendId:t}),this._dnDialogService.close("reportComment"),this._toastService.showBlackToast("\u4e3e\u62a5\u6210\u529f\uff01"))})}deleteComment(t){this.comments.comments=this.comments.comments.filter(e=>e.commendId!=t),this.topComment=this.topComment.filter(e=>e.commendId!=t),this.commentCount=this.commentCount>0?this.commentCount-1:0,this.onCommentsLoaded.emit(this.commentCount)}deleteSubCommentHandler(t){this.commentCount=this.commentCount>0?this.commentCount-1:0,this.onCommentsLoaded.emit(this.commentCount)}commentCountHandler(t){this.commentCount+=1,this.onCommentsLoaded.emit(this.commentCount)}onChildComment(t){this.childCommentPager=1,this.childComment=t,this.getChildComment(this.childCommentPager),this.isChildMode=!0,this.toggleChildComment.emit(this.isChildMode)}getChildComment(t){this.isloading||this.noMoreSub||(this.childCommentPager=t,this.isloading=!0,this.commentService.getCommentByParentID(this.childComment.videoId,this.childComment.commendId,this.childComment.authorId,this.childCommentPager,this.pageSize,!0).subscribe(t=>{this.childComment.children=this.childComment.children.concat(1===this.childCommentPager?t.slice(3):t),this.isloading=!1,t.length<this.pageSize&&(this.noMoreSub=!0)}))}closeChildMode(){this.isChildMode=!1,this.toggleChildComment.emit(this.isChildMode)}}return t.\u0275fac=function(e){return new(e||t)(i.Pb(o.a),i.Pb(s.a),i.Pb(c.a),i.Pb(l.a),i.Pb(h.a),i.Pb(r.a),i.Pb(d.a))},t.\u0275cmp=i.Jb({type:t,selectors:[["app-dn-comments"]],inputs:{videoId:"videoId",hostPage:"hostPage"},outputs:{onCommentsLoaded:"onCommentsLoaded",toggleChildComment:"toggleChildComment"},features:[i.zb()],decls:7,vars:4,consts:[["class","tabs",3,"ngClass",4,"ngIf"],["class","d-flex align-items-center justify-content-center","style","min-height: 240px",4,"ngIf"],[4,"ngIf"],["id","reportComment",1,"dn-dialog-background",2,"position","relative",3,"parent"],["replyBox",""],[1,"tabs",3,"ngClass"],["class","tab",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"tab",3,"ngClass","click"],["class","tab-gap",4,"ngIf"],[1,"tab-gap"],[1,"d-flex","align-items-center","justify-content-center",2,"min-height","240px"],["class","no-item",4,"ngIf"],[1,"no-item"],[1,"no-item-image"],["src","assets/images/no-item.png",1,"img-path"],[1,"no-item-text"],[1,"text-level-1"],[1,"text-level-2"],["class","top-comments",4,"ngIf"],["class","search-results","infiniteScroll","",3,"infiniteScrollDistance","infiniteScrollThrottle","scrolled",4,"ngIf"],["class","text-center loading",4,"ngIf"],["class","bottom-line text-center",4,"ngIf"],[1,"top-comments"],[3,"comment","isHot","replyBox","isLast","hostPage","onDeleteEvent","onSubCommentDeleteEvent","commentSuccessEvent","childCommentEvent",4,"ngFor","ngForOf"],[1,"hot-comments-seprator"],[1,"hot-comments-seprator-inner"],[3,"comment","isHot","replyBox","isLast","hostPage","onDeleteEvent","onSubCommentDeleteEvent","commentSuccessEvent","childCommentEvent"],["infiniteScroll","",1,"search-results",3,"infiniteScrollDistance","infiniteScrollThrottle","scrolled"],[3,"comment","isLast","replyBox","hostPage","onDeleteEvent","onSubCommentDeleteEvent","commentSuccessEvent","childCommentEvent",4,"ngFor","ngForOf"],[3,"comment","isLast","replyBox","hostPage","onDeleteEvent","onSubCommentDeleteEvent","commentSuccessEvent","childCommentEvent"],["class","back-to-comment d-flex align-items-center",3,"click",4,"ngIf"],[3,"comment","replyBox","childModeParent","hostPage","onDeleteEvent","onSubCommentDeleteEvent","commentSuccessEvent"],[1,"bottom-line","in-child","text-center"],[1,"back-to-comment","d-flex","align-items-center",3,"click"],[1,"iconfont","iconjiantou_liebiaoxiangzuo"],[1,"back-text"],[1,"comments-count"],[3,"comment","isLast","replyBox","hostPage","childModeChild","onDeleteEvent","onSubCommentDeleteEvent","commentSuccessEvent",4,"ngFor","ngForOf"],[3,"comment","isLast","replyBox","hostPage","childModeChild","onDeleteEvent","onSubCommentDeleteEvent","commentSuccessEvent"],[1,"text-center","loading"],[1,"centerload"],[1,"bottom-line","text-center"],[1,"mt-1"],[1,"mt-2","mb-2"],[4,"ngFor","ngForOf"],[3,"dialog"],[1,"dn-dialog-buttons"],[1,"dn-button",3,"click"],[1,"rad"],["type","radio","name","report-comment-reasons",3,"value","ngModel","ngModelChange"],[3,"videoId","isReplying","user","reply"]],template:function(t,e){1&t&&(i.Lc(0,Lt,2,4,"ul",0),i.Lc(1,Nt,3,2,"div",1),i.Lc(2,Wt,7,6,"div",2),i.Vb(3,"dn-dialog",3),i.Lc(4,Qt,8,2,"ng-template"),i.Ub(),i.Lc(5,$t,1,4,"ng-template",null,4,i.Mc)),2&t&&(i.nc("ngIf",!e.isChildMode),i.Bb(1),i.nc("ngIf",e.comments&&(!e.comments.comments||!e.comments.comments.length)&&e.isTryLoaded),i.Bb(1),i.nc("ngIf",e.comments.comments&&e.comments.comments.length),i.Bb(1),i.nc("parent","main-player"))},directives:[u.n,g.a,u.l,u.m,_t,xt.a,Pt.a,wt.a,Ot.o,Ot.a,Ot.k,Ot.m,y.a],styles:['.text-gray[_ngcontent-%COMP%]{color:#f8f8f8!important}.text-light[_ngcontent-%COMP%]{color:hsla(0,0%,100%,.4)!important}.light[_ngcontent-%COMP%]   .text-light[_ngcontent-%COMP%]{color:#888!important}.text-large[_ngcontent-%COMP%]{font-size:18px}text-medium[_ngcontent-%COMP%]{font-size:16px}.text-small[_ngcontent-%COMP%]{font-size:13px}.dn-button[_ngcontent-%COMP%]{border:none;outline:none!important;display:block;padding:6px 8px;width:auto;min-width:100px;margin:0 .4rem;border-radius:0;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;text-align:center;color:#fff!important;background-color:#373843}.light[_ngcontent-%COMP%]   .dn-button[_ngcontent-%COMP%]{background-color:#777}.dn-button[_ngcontent-%COMP%]:hover{background-color:hsla(0,0%,40%,.2)}.dn-button-plain[_ngcontent-%COMP%]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border:1px solid silver;color:#000!important;background-color:#fff;padding:6px 20px;cursor:pointer}.dn-button-plain[_ngcontent-%COMP%]:hover{background-color:#cacaca;color:#fff!important}.dn-button-outline[_ngcontent-%COMP%]{outline:none!important;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border:2px solid silver;border-radius:0;background-color:#fff;padding:2px 14px;cursor:pointer}.dn-button-outline[_ngcontent-%COMP%]:hover{background-color:#cacaca;color:#fff!important}.dn-button-outline.orange[_ngcontent-%COMP%]{color:#f49800;border-color:#f49800;background-color:#434343}.dn-button-outline.orange[_ngcontent-%COMP%]:hover{color:#fe9e00!important;border-color:#fe9e00!important;background-color:#000}.dn-button-blue[_ngcontent-%COMP%]{color:#fff!important;background-color:#00a8ec!important}.dn-button-blue[_ngcontent-%COMP%]:hover{background-color:#00b6ff!important}.dn-button-disable[_ngcontent-%COMP%]{cursor:default;color:hsla(0,0%,100%,.2)!important;background-color:hsla(0,0%,40%,.2)!important}.light[_ngcontent-%COMP%]   .dn-button-disable[_ngcontent-%COMP%]{color:#a0a0a0!important}.dn-button-orange[_ngcontent-%COMP%]{color:#fff!important;background-color:#f49800}.dn-button-orange[_ngcontent-%COMP%]:hover{background-color:#fe9e00}.dn-button-gold[_ngcontent-%COMP%]{color:#fff!important;background-color:#f49800!important}.dn-button-gold[_ngcontent-%COMP%]:hover{background-color:#fe9e00!important}.dn-button-red[_ngcontent-%COMP%]{color:#fff!important}.dn-button-red[_ngcontent-%COMP%], .dn-button-red[_ngcontent-%COMP%]:hover{background-color:#00c0ff}.dn-button-large[_ngcontent-%COMP%]{padding:10px 18px}.dn-play-button[_ngcontent-%COMP%]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;padding:4px 12px;border-radius:3px;font-size:16px;display:inline-block;color:#fff!important;background-color:#f00000}.dn-play-button[_ngcontent-%COMP%]:hover{background-color:#f10000}.dn-play-button[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{font-size:20px;vertical-align:middle}.dn-play-button[_ngcontent-%COMP%]   .btn-text[_ngcontent-%COMP%]{display:inline-block;border-left:1px solid #fff;padding:3px 8px 3px 10px;vertical-align:middle}.dn-btn-load-more[_ngcontent-%COMP%]{cursor:pointer;padding:5px 15px}.link-blue[_ngcontent-%COMP%]{color:#00a8ec}.link-blue[_ngcontent-%COMP%]:hover{color:#434343}.red[_ngcontent-%COMP%]{color:#f00000}.rose[_ngcontent-%COMP%]{color:#ff01ff}.orange[_ngcontent-%COMP%]{color:#fe9e00}.top-comments[_ngcontent-%COMP%]{margin-bottom:25px}.bottom-line[_ngcontent-%COMP%]{position:relative;z-index:0;margin-top:35px;font-size:12px;color:hsla(0,0%,100%,.45)}.light[_nghost-%COMP%]   .bottom-line[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .bottom-line[_ngcontent-%COMP%]{color:#888}.bottom-line[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;padding:0 1em;background-color:#090b21}.light[_nghost-%COMP%]   .bottom-line[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .bottom-line[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background-color:#fff}.bottom-line[_ngcontent-%COMP%]:before{content:"";border-top:1px solid hsla(0,0%,100%,.2);margin:0 auto;position:absolute;top:40%;left:0;right:0;bottom:0;width:100%;z-index:-1}.light[_nghost-%COMP%]   .bottom-line[_ngcontent-%COMP%]:before, .light   [_nghost-%COMP%]   .bottom-line[_ngcontent-%COMP%]:before{border-top-color:#eee!important}.bottom-line.in-child[_ngcontent-%COMP%]{margin:0 5px 30px 15px}.bottom-line.in-child[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background-color:#171928}.light[_nghost-%COMP%]   .bottom-line.in-child[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .bottom-line.in-child[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background-color:#f8f8f8}.body[_ngcontent-%COMP%]   font[_ngcontent-%COMP%]{color:#00ae00!important}.loading[_ngcontent-%COMP%]{color:hsla(0,0%,100%,.7)}.light[_nghost-%COMP%]   .loading[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .loading[_ngcontent-%COMP%]{color:#888}.centerload[_ngcontent-%COMP%]{display:inline-block;position:relative;width:32px;height:32px}.centerload[_ngcontent-%COMP%] > app-loader-spinner[_ngcontent-%COMP%]{margin-top:.5em;position:absolute;left:-1em;top:1.5em}.tabs[_ngcontent-%COMP%]{margin-bottom:24px;margin-top:24px}.tabs.activityStyle[_ngcontent-%COMP%]{margin-left:12px;margin-bottom:34px}.tabs[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{display:inline-block;cursor:pointer;color:hsla(0,0%,100%,.4)!important;background-color:#1c1d2f;padding:4px 16px;font-size:16px}.light[_nghost-%COMP%]   .tabs[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .tabs[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{color:#888!important;background-color:#eee!important}.tabs[_ngcontent-%COMP%]   .tab.active[_ngcontent-%COMP%]{color:hsla(0,0%,100%,.7)!important;background-color:#2b2c3a!important}.light[_nghost-%COMP%]   .tabs[_ngcontent-%COMP%]   .tab.active[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .tabs[_ngcontent-%COMP%]   .tab.active[_ngcontent-%COMP%]{color:#fff!important;background-color:#00c0ff!important}.tabs[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:hover{color:hsla(0,0%,100%,.7)!important}.light[_nghost-%COMP%]   .tabs[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:hover, .light   [_nghost-%COMP%]   .tabs[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:hover{color:#333!important;background-color:#eee!important}.light[_nghost-%COMP%]   .tabs[_ngcontent-%COMP%]   .tab.active[_ngcontent-%COMP%]:hover, .light   [_nghost-%COMP%]   .tabs[_ngcontent-%COMP%]   .tab.active[_ngcontent-%COMP%]:hover{color:#fff!important;background-color:#00c0ff!important}.tabs[_ngcontent-%COMP%]   .tab.activityStyle[_ngcontent-%COMP%]{padding:4px 10px;font-size:12px;position:relative;background-color:#2b2c3a!important}.light[_nghost-%COMP%]   .tabs[_ngcontent-%COMP%]   .tab.activityStyle[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .tabs[_ngcontent-%COMP%]   .tab.activityStyle[_ngcontent-%COMP%]{background-color:#fff!important}.tabs[_ngcontent-%COMP%]   .tab.activityStyle.active[_ngcontent-%COMP%], .tabs[_ngcontent-%COMP%]   .tab.activityStyle[_ngcontent-%COMP%]:hover, .light[_nghost-%COMP%]   .tabs[_ngcontent-%COMP%]   .tab.activityStyle.active[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .tabs[_ngcontent-%COMP%]   .tab.activityStyle.active[_ngcontent-%COMP%], .light[_nghost-%COMP%]   .tabs[_ngcontent-%COMP%]   .tab.activityStyle[_ngcontent-%COMP%]:hover, .light   [_nghost-%COMP%]   .tabs[_ngcontent-%COMP%]   .tab.activityStyle[_ngcontent-%COMP%]:hover{color:#00c0ff!important}.tabs[_ngcontent-%COMP%]   .tab.activityStyle.active[_ngcontent-%COMP%]:hover{color:#00c0ff!important;background-color:#2b2c3a!important}.light[_nghost-%COMP%]   .tabs[_ngcontent-%COMP%]   .tab.activityStyle.active[_ngcontent-%COMP%]:hover, .light   [_nghost-%COMP%]   .tabs[_ngcontent-%COMP%]   .tab.activityStyle.active[_ngcontent-%COMP%]:hover{color:#00c0ff!important;background-color:#fff!important}.tabs[_ngcontent-%COMP%]   .tab.activityStyle[_ngcontent-%COMP%]   .tab-gap[_ngcontent-%COMP%]{position:absolute;top:0;right:0;left:0;bottom:0;margin:auto;height:55%;border-right:1px solid;border-color:hsla(0,0%,40%,.2)}.tabs[_ngcontent-%COMP%]   .tab.activityStyle[_ngcontent-%COMP%]:last-child   .tab-gap[_ngcontent-%COMP%]{border:none!important}.hot-comments-seprator[_ngcontent-%COMP%]{padding-left:65px;width:100%}.hot-comments-seprator-inner[_ngcontent-%COMP%]{background-color:#0e1025;padding:12px;margin-bottom:65px;text-align:center;color:hsla(0,0%,100%,.4);border-radius:2px}.light[_nghost-%COMP%]   .hot-comments-seprator-inner[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .hot-comments-seprator-inner[_ngcontent-%COMP%]{background-color:#f3f3f3!important;color:#888!important}.back-to-comment[_ngcontent-%COMP%]{cursor:pointer;padding:5px;width:-webkit-max-content;width:-moz-max-content;width:max-content;margin-bottom:15px}.back-to-comment[_ngcontent-%COMP%]   .iconfont[_ngcontent-%COMP%]{margin-top:1px;font-size:30px;color:hsla(0,0%,100%,.7)}.light[_nghost-%COMP%]   .back-to-comment[_ngcontent-%COMP%]   .iconfont[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .back-to-comment[_ngcontent-%COMP%]   .iconfont[_ngcontent-%COMP%]{color:#333}.back-to-comment[_ngcontent-%COMP%]   .back-text[_ngcontent-%COMP%]{font-size:16px;color:hsla(0,0%,100%,.7)}.light[_nghost-%COMP%]   .back-to-comment[_ngcontent-%COMP%]   .back-text[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .back-to-comment[_ngcontent-%COMP%]   .back-text[_ngcontent-%COMP%]{color:#333}.back-to-comment[_ngcontent-%COMP%]   .comments-count[_ngcontent-%COMP%]{font-size:12px;color:hsla(0,0%,100%,.4)}.light[_nghost-%COMP%]   .back-to-comment[_ngcontent-%COMP%]   .comments-count[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .back-to-comment[_ngcontent-%COMP%]   .comments-count[_ngcontent-%COMP%]{color:#888}.back-to-comment[_ngcontent-%COMP%]:hover   .iconfont[_ngcontent-%COMP%]{color:#fff}.light[_nghost-%COMP%]   .back-to-comment[_ngcontent-%COMP%]:hover   .iconfont[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .back-to-comment[_ngcontent-%COMP%]:hover   .iconfont[_ngcontent-%COMP%]{color:#00c0ff}.back-to-comment[_ngcontent-%COMP%]:hover   .back-text[_ngcontent-%COMP%]{color:#fff}.light[_nghost-%COMP%]   .back-to-comment[_ngcontent-%COMP%]:hover   .back-text[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .back-to-comment[_ngcontent-%COMP%]:hover   .back-text[_ngcontent-%COMP%]{color:#00c0ff}.back-to-comment[_ngcontent-%COMP%]:hover   .comments-count[_ngcontent-%COMP%]{color:#fff}.light[_nghost-%COMP%]   .back-to-comment[_ngcontent-%COMP%]:hover   .comments-count[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .back-to-comment[_ngcontent-%COMP%]:hover   .comments-count[_ngcontent-%COMP%]{color:#00c0ff}.no-item[_ngcontent-%COMP%]{padding-top:0}.no-item-image[_ngcontent-%COMP%]{width:140px;margin-bottom:5px}.no-item-image[_ngcontent-%COMP%]   .img-path[_ngcontent-%COMP%]{width:100%}.no-item-text[_ngcontent-%COMP%]{font-size:16px;text-align:center;color:hsla(0,0%,100%,.4)}.light[_nghost-%COMP%]   .no-item-text[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .no-item-text[_ngcontent-%COMP%]{color:#888}.no-item-text[_ngcontent-%COMP%]   .text-level-2[_ngcontent-%COMP%]{font-size:14px}']}),t})()},WLG8:function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));var i=n("PqYM"),o=n("kizo"),s=n("fXoL"),r=n("ofXK"),a=n("tyNb"),c=n("Le4d");const l=["wrap"];function h(t,e){if(1&t&&(s.Vb(0,"div",7),s.Vb(1,"div",8),s.Vb(2,"a",9),s.Qb(3,"img",10),s.Ub(),s.Ub(),s.Vb(4,"a",11),s.Vb(5,"div",12),s.Vb(6,"div",13),s.Nc(7),s.Ub(),s.Vb(8,"span",14),s.Nc(9),s.hc(10,"chineseCounter"),s.Ub(),s.Ub(),s.Ub(),s.Ub()),2&t){const t=e.$implicit;s.Bb(2),s.oc("routerLink",t.path),s.nc("queryParams",t.params),s.Bb(1),s.pc("src","",t.image,"?w=496&mode=crop&format=jpg&scale=both",s.Fc),s.Bb(1),s.oc("routerLink",t.path),s.nc("queryParams",t.params),s.Bb(3),s.Oc(t.title),s.Bb(2),s.Pc("",s.ic(10,7,t.views),"\u6b21\u64ad\u653e")}}const d=function(t){return{active:t}};function u(t,e){if(1&t){const t=s.Wb();s.Vb(0,"span",15),s.dc("mouseenter",(function(n){s.Cc(t);const i=e.index;return s.gc().goto(i)})),s.Ub()}if(2&t){const t=e.index,n=s.gc();s.nc("ngClass",s.sc(1,d,n.index==t))}}const g=function(t){return{transform:t}};var p=function(t){return t[t.ToLeft=0]="ToLeft",t[t.ToRight=1]="ToRight",t[t.Stop=2]="Stop",t}({});let f=(()=>{class t{constructor(t){this._windowService=t,this.subscriptions=[],this.displayMode="homepage-slider",this.direction=p.Stop,this.mouseEnter=!1,this.screenType=o.a,this.width=400,this.translateX=0,this.currentTransLate="translateX(0px)",this.index=0}ngAfterViewInit(){this.width=this.wrap.nativeElement.clientWidth}ngOnInit(){this.subscriptions.push(this._windowService.size$.subscribe(t=>{this.width=this.wrap.nativeElement.clientWidth,this.index=0,this.goto(0)}));var t=Object(i.a)(5e3,5e3);this.subscriptions.push(t.subscribe(()=>{this.mouseEnter||this.shiftSlide(p.ToRight)}))}next(){this.shiftSlide(p.ToRight)}prev(){this.shiftSlide(p.ToLeft)}shiftSlide(t){++this.index,this.index>=this.items.length&&(this.index=0,this.translateX=this.width),this.translateX+=-this.width,this.currentTransLate=`translateX(${this.translateX}px)`}onMouseEnter(){this.mouseEnter=!0}onMouseLeave(){this.mouseEnter=!1}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}goto(t){this.index=t,this.translateX=-this.width*t,this.currentTransLate=`translateX(${this.translateX}px)`}}return t.\u0275fac=function(e){return new(e||t)(s.Pb(o.b))},t.\u0275cmp=s.Jb({type:t,selectors:[["app-dn-headline-slider"]],viewQuery:function(t,e){var n;1&t&&s.Ic(l,!0),2&t&&s.yc(n=s.ec())&&(e.wrap=n.first)},inputs:{displayMode:"displayMode",items:"items"},decls:7,vars:6,consts:[["id","carousel",1,"wrap",3,"ngClass","mouseenter","mouseleave"],["wrap",""],[1,"window"],[1,"inner",3,"ngStyle"],["class","slide",4,"ngFor","ngForOf"],[1,"dot-group"],["class","dot",3,"ngClass","mouseenter",4,"ngFor","ngForOf"],[1,"slide"],[1,"img-containner"],[3,"routerLink","queryParams"],[1,"img-responsive","slide-img",3,"src"],[1,"d-block","title-wrap-link",3,"routerLink","queryParams"],[1,"title-wrap"],[1,"title-wrap-title"],[1,"d-block","text-small","sub-text-color","fs-12"],[1,"dot",3,"ngClass","mouseenter"]],template:function(t,e){1&t&&(s.Vb(0,"div",0,1),s.dc("mouseenter",(function(t){return e.onMouseEnter()}))("mouseleave",(function(t){return e.onMouseLeave()})),s.Vb(2,"div",2),s.Vb(3,"div",3),s.Lc(4,h,11,9,"div",4),s.Ub(),s.Vb(5,"div",5),s.Lc(6,u,1,3,"span",6),s.Ub(),s.Ub(),s.Ub()),2&t&&(s.nc("ngClass",e.displayMode),s.Bb(3),s.nc("ngStyle",s.sc(4,g,e.currentTransLate)),s.Bb(1),s.nc("ngForOf",e.items),s.Bb(2),s.nc("ngForOf",e.items))},directives:[r.l,r.o,r.m,a.g],pipes:[c.a],styles:[".wrap[_ngcontent-%COMP%]{width:448px;height:236px;overflow:hidden}.inner[_ngcontent-%COMP%], .wrap[_ngcontent-%COMP%]{position:relative}.inner[_ngcontent-%COMP%]{width:10000px;height:100%;top:0;-webkit-transition:.7s ease-in-out;transition:.7s ease-in-out}.slide[_ngcontent-%COMP%]{height:100%;cursor:pointer;overflow:hidden;float:left}.homepage-slider[_ngcontent-%COMP%]   .slide[_ngcontent-%COMP%]:hover   .title-wrap[_ngcontent-%COMP%]{bottom:0}.homepage-slider[_ngcontent-%COMP%]   .slide[_ngcontent-%COMP%]:hover   .title-wrap[_ngcontent-%COMP%]   .title-wrap-title[_ngcontent-%COMP%]{width:100%}.shortvideo-slider[_ngcontent-%COMP%]   .slide[_ngcontent-%COMP%]{padding-bottom:37px;background-color:transparent}.window[_ngcontent-%COMP%]{overflow:hidden;position:relative;height:100%}.slide-img[_ngcontent-%COMP%]{-o-object-fit:cover;object-fit:cover}#next[_ngcontent-%COMP%], #prev[_ngcontent-%COMP%]{cursor:pointer;position:absolute;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);font-size:24pt;background:#000;opacity:.7;filter:alpha(opacity=70);color:#fff;padding:5px 0}#next[_ngcontent-%COMP%]:hover, #prev[_ngcontent-%COMP%]:hover{background-color:#00c0ff;opacity:1}#next[_ngcontent-%COMP%]:before, #prev[_ngcontent-%COMP%]:before{display:block;height:auto;margin:0}#prev[_ngcontent-%COMP%]{left:0}#next[_ngcontent-%COMP%]{right:0}.transition[_ngcontent-%COMP%]{-webkit-transition:.7s;transition:.7s}a.title-wrap-link[_ngcontent-%COMP%]{display:block;font-size:16px;color:#fff}.light[_nghost-%COMP%]   a.title-wrap-link[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   a.title-wrap-link[_ngcontent-%COMP%]{color:#fff}.light[_nghost-%COMP%]   a.title-wrap-link[_ngcontent-%COMP%]:hover, .light   [_nghost-%COMP%]   a.title-wrap-link[_ngcontent-%COMP%]:hover, a.title-wrap-link[_ngcontent-%COMP%]:hover{color:#00c0ff}.title-wrap[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;position:absolute;bottom:0;width:100%;bottom:-2em;line-height:2.2em;padding:3px 0 0 1em;-webkit-transition:all .3s ease-in-out;transition:all .3s ease-in-out}.title-wrap[_ngcontent-%COMP%]   .title-wrap-title[_ngcontent-%COMP%]{width:270px;line-height:32px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.homepage-slider[_ngcontent-%COMP%]   .title-wrap[_ngcontent-%COMP%]{background-color:rgba(10,10,10,.7)}.slide[_ngcontent-%COMP%]{position:relative;background-color:hsla(0,0%,58%,.2)}.slide[_ngcontent-%COMP%]   .img-containner[_ngcontent-%COMP%]{height:100%}.dot-group[_ngcontent-%COMP%]{position:absolute;right:.3em;bottom:.7em}.dot-group[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{display:inline-block;width:20px;height:4px;background-color:#fff;border-radius:2px;margin-right:.5em;cursor:pointer}.dot-group[_ngcontent-%COMP%]   .dot.active[_ngcontent-%COMP%]{background-color:#00c0ff}.sub-text-color[_ngcontent-%COMP%]{color:hsla(0,0%,100%,.4)}.light[_nghost-%COMP%]   .sub-text-color[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .sub-text-color[_ngcontent-%COMP%]{color:hsla(0,0%,100%,.7)}@media (max-width:1678px){.wrap[_ngcontent-%COMP%]{height:235px}.wrap[_ngcontent-%COMP%], .wrap[_ngcontent-%COMP%]   .slide[_ngcontent-%COMP%]{width:417px}.wrap.shortvideo-slider[_ngcontent-%COMP%]{width:418px;height:304px}.wrap.shortvideo-slider[_ngcontent-%COMP%]   .slide[_ngcontent-%COMP%]{width:418px}}@media (min-width:1679px) and (max-width:1919px){.wrap[_ngcontent-%COMP%]{height:245px}.wrap[_ngcontent-%COMP%], .wrap[_ngcontent-%COMP%]   .slide[_ngcontent-%COMP%]{width:437px}.shortvideo-slider[_ngcontent-%COMP%]{width:375px;height:310px}.shortvideo-slider[_ngcontent-%COMP%]   .slide[_ngcontent-%COMP%]{width:375px}}@media (min-width:1920px){.wrap[_ngcontent-%COMP%]{height:245px}.wrap[_ngcontent-%COMP%], .wrap[_ngcontent-%COMP%]   .slide[_ngcontent-%COMP%]{width:437px}.wrap.shortvideo-slider[_ngcontent-%COMP%]{width:437px;height:347px}.wrap.shortvideo-slider[_ngcontent-%COMP%]   .slide[_ngcontent-%COMP%]{width:437px}}"]}),t})()},WLGk:function(t,e,n){var i=n("6C75"),o=Object.prototype.toString,s="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===o.call(Blob),r="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===o.call(File);t.exports=function t(e){if(!e||"object"!=typeof e)return!1;if(i(e)){for(var n=0,o=e.length;n<o;n++)if(t(e[n]))return!0;return!1}if("function"==typeof Buffer&&Buffer.isBuffer&&Buffer.isBuffer(e)||"function"==typeof ArrayBuffer&&e instanceof ArrayBuffer||s&&e instanceof Blob||r&&e instanceof File)return!0;if(e.toJSON&&"function"==typeof e.toJSON&&1===arguments.length)return t(e.toJSON(),!0);for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)&&t(e[a]))return!0;return!1}},WMd4:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n("EY2u"),o=n("LRne"),s=n("z6cu");let r=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(o.a)(this.value);case"E":return Object(s.a)(this.error);case"C":return Object(i.b)()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})()},WiHW:function(t,e){var n=1e3,i=6e4,o=36e5,s=24*o;function r(t,e,n,i){var o=e>=1.5*n;return Math.round(t/n)+" "+i+(o?"s":"")}t.exports=function(t,e){e=e||{};var a,c,l=typeof t;if("string"===l&&t.length>0)return function(t){if(!((t=String(t)).length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var r=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*r;case"weeks":case"week":case"w":return 6048e5*r;case"days":case"day":case"d":return r*s;case"hours":case"hour":case"hrs":case"hr":case"h":return r*o;case"minutes":case"minute":case"mins":case"min":case"m":return r*i;case"seconds":case"second":case"secs":case"sec":case"s":return r*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}(t);if("number"===l&&isFinite(t))return e.long?(a=t,(c=Math.abs(a))>=s?r(a,c,s,"day"):c>=o?r(a,c,o,"hour"):c>=i?r(a,c,i,"minute"):c>=n?r(a,c,n,"second"):a+" ms"):function(t){var e=Math.abs(t);return e>=s?Math.round(t/s)+"d":e>=o?Math.round(t/o)+"h":e>=i?Math.round(t/i)+"m":e>=n?Math.round(t/n)+"s":t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},XDbj:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n("sVev"),o=n("7o/Q");function s(t=c){return e=>e.lift(new r(t))}class r{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new a(t,this.errorFactory))}}class a extends o.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function c(){return new i.a}},XJ1o:function(t,e,n){"use strict";n("v+ga");var i=n("XNiG"),o=n("xgIS"),s=n("itXk"),r=n("HDdC"),a=n("PqYM");class c extends r.a{static create(t=0,e,n){return Object(a.a)(t,e,n)}}var l=n("uvtY"),h=n("0BEm"),d=n("AoRw"),u=n("fXoL");n.d(e,"a",(function(){return g}));let g=(()=>{class t{constructor(t,e){this.api=t,this.ref=e,this.state=l.a.VG_PAUSED,this.time={current:0,total:0,left:0},this.buffer={end:0},this.canPlay=!1,this.canPlayThrough=!1,this.isMetadataLoaded=!1,this.isWaiting=!1,this.isCompleted=!1,this.isLive=!1,this.isSeeking=!1,this.isBufferDetected=!1,this.checkInterval=2e3,this.currentPlayPos=0,this.lastPlayPos=0,this.playAtferSync=!1,this.bufferDetected=new i.a,this.loadTimeout=null}ngOnInit(){this.elem=this.vgMedia.nodeName?this.vgMedia:this.vgMedia.elem,this.api.registerMedia(this),this.subscriptions={abort:Object(o.a)(this.elem,d.a.VG_ABORT),canPlay:Object(o.a)(this.elem,d.a.VG_CAN_PLAY),canPlayThrough:Object(o.a)(this.elem,d.a.VG_CAN_PLAY_THROUGH),durationChange:Object(o.a)(this.elem,d.a.VG_DURATION_CHANGE),emptied:Object(o.a)(this.elem,d.a.VG_EMPTIED),encrypted:Object(o.a)(this.elem,d.a.VG_ENCRYPTED),ended:Object(o.a)(this.elem,d.a.VG_ENDED),error:Object(o.a)(this.elem,d.a.VG_ERROR),loadedData:Object(o.a)(this.elem,d.a.VG_LOADED_DATA),loadedMetadata:Object(o.a)(this.elem,d.a.VG_LOADED_METADATA),loadStart:Object(o.a)(this.elem,d.a.VG_LOAD_START),pause:Object(o.a)(this.elem,d.a.VG_PAUSE),play:Object(o.a)(this.elem,d.a.VG_PLAY),playing:Object(o.a)(this.elem,d.a.VG_PLAYING),progress:Object(o.a)(this.elem,d.a.VG_PROGRESS),rateChange:Object(o.a)(this.elem,d.a.VG_RATE_CHANGE),seeked:Object(o.a)(this.elem,d.a.VG_SEEKED),seeking:Object(o.a)(this.elem,d.a.VG_SEEKING),stalled:Object(o.a)(this.elem,d.a.VG_STALLED),suspend:Object(o.a)(this.elem,d.a.VG_SUSPEND),timeUpdate:Object(o.a)(this.elem,d.a.VG_TIME_UPDATE),volumeChange:Object(o.a)(this.elem,d.a.VG_VOLUME_CHANGE),waiting:Object(o.a)(this.elem,d.a.VG_WAITING),startAds:Object(o.a)(window,d.a.VG_START_ADS),endAds:Object(o.a)(window,d.a.VG_END_ADS),bufferDetected:this.bufferDetected},this.canPlayObs=this.subscriptions.canPlay.subscribe(this.onCanPlay.bind(this)),this.canPlayThroughObs=this.subscriptions.canPlayThrough.subscribe(this.onCanPlayThrough.bind(this)),this.loadedMetadataObs=this.subscriptions.loadedMetadata.subscribe(this.onLoadMetadata.bind(this)),this.waitingObs=this.subscriptions.waiting.subscribe(this.onWait.bind(this)),this.progressObs=this.subscriptions.progress.subscribe(this.onProgress.bind(this)),this.endedObs=this.subscriptions.ended.subscribe(this.onComplete.bind(this)),this.playingObs=this.subscriptions.playing.subscribe(this.onStartPlaying.bind(this)),this.playObs=this.subscriptions.play.subscribe(this.onPlay.bind(this)),this.pauseObs=this.subscriptions.pause.subscribe(this.onPause.bind(this)),this.timeUpdateObs=this.subscriptions.timeUpdate.subscribe(this.onTimeUpdate.bind(this)),this.volumeChangeObs=this.subscriptions.volumeChange.subscribe(this.onVolumeChange.bind(this)),this.errorObs=this.subscriptions.error.subscribe(this.onError.bind(this)),this.vgMaster&&this.api.playerReadyEvent.subscribe(()=>{this.prepareSync()}),this.volume=.8}prepareSync(){let t=[];for(let e in this.api.medias)this.api.medias[e]&&t.push(this.api.medias[e].subscriptions.canPlay);this.canPlayAllSubscription=Object(s.a)(t,(...t)=>{t.some(t=>4===t.target.readyState)&&!this.syncSubscription&&(this.startSync(),this.syncSubscription.unsubscribe())}).subscribe()}startSync(){this.syncSubscription=c.create(0,1e3).subscribe(()=>{for(let t in this.api.medias)if(this.api.medias[t]!==this){let e=this.api.medias[t].currentTime-this.currentTime;e<-.3||e>.3?(this.playAtferSync=this.state===l.a.VG_PLAYING,this.pause(),this.api.medias[t].pause(),this.api.medias[t].currentTime=this.currentTime):this.playAtferSync&&(this.play(),this.api.medias[t].play(),this.playAtferSync=!1)}})}onMutation(t){for(let e=0,n=t.length;e<n;e++){let n=t[e];if("attributes"===n.type&&"src"===n.attributeName){if(n.target.src&&n.target.src.length>0&&n.target.src.indexOf("blob:")<0)break}else if("childList"===n.type&&n.removedNodes.length&&"source"===n.removedNodes[0].nodeName.toLowerCase())break}}loadMedia(){this.vgMedia.currentTime=0,this.stopBufferCheck(),this.isBufferDetected=!0,this.bufferDetected.next(this.isBufferDetected),this.loadTimeout&&clearTimeout(this.loadTimeout),this.loadTimeout=setTimeout(()=>{this.playPromise&&(this.playPromise=null),this.vgMedia.load()},10)}play(){if(!(this.playPromise||this.state!==l.a.VG_PAUSED&&this.state!==l.a.VG_ENDED))return this.playPromise=this.vgMedia.play(),this.playPromise&&this.playPromise.then&&this.playPromise.catch&&this.playPromise.then(()=>{this.playPromise=null}).catch(()=>{}),this.playPromise;this.playPromise&&(this.playPromise=null)}pause(){this.playPromise?this.playPromise.then(()=>{this.vgMedia.pause()}):this.vgMedia.pause()}get id(){let t=void 0;return this.vgMedia&&(t=this.vgMedia.id),t}get duration(){return this.vgMedia.duration}set currentTime(t){isNaN(t)||(this.vgMedia.currentTime=t)}get currentTime(){return this.vgMedia.currentTime}set volume(t){this.vgMedia.volume=t,this.vgMedia.muted=0==t}get volume(){return this.vgMedia.muted?0:this.vgMedia.volume}set playbackRate(t){this.vgMedia.playbackRate=t}get playbackRate(){return this.vgMedia.playbackRate}get buffered(){return this.vgMedia.buffered}get textTracks(){return this.vgMedia.textTracks}onCanPlay(t){this.isBufferDetected=!1,this.bufferDetected.next(this.isBufferDetected),this.canPlay=!0,this.ref.detectChanges()}onCanPlayThrough(t){this.isBufferDetected=!1,this.bufferDetected.next(this.isBufferDetected),this.canPlayThrough=!0,this.ref.detectChanges()}onLoadMetadata(t){this.isMetadataLoaded=!0,this.time={current:0,left:0,total:1e3*this.duration,vcurrent:0},this.state=l.a.VG_PAUSED;let e=Math.round(this.time.total);this.isLive=e===1/0||null!=t.target&&"true"==t.target.getAttribute("isLive"),this.ref.detectChanges()}onWait(t){this.isWaiting=!0,this.ref.detectChanges()}onComplete(t){this.isCompleted=!0,this.state=l.a.VG_ENDED,this.ref.detectChanges()}onStartPlaying(t){this.state=l.a.VG_PLAYING,this.ref.detectChanges()}onPlay(t){this.state=l.a.VG_PLAYING,this.vgMaster&&(this.syncSubscription&&!this.syncSubscription.closed||this.startSync()),this.startBufferCheck(),this.ref.detectChanges()}onPause(t){this.state=l.a.VG_PAUSED,this.vgMaster&&(this.playAtferSync||this.syncSubscription.unsubscribe()),this.stopBufferCheck(),this.ref.detectChanges()}onTimeUpdate(t){let e=this.buffered.length-1;this.time.total&&isFinite(this.time.total)||(this.time.total=1e3*this.duration),this.time={current:1e3*this.currentTime,total:this.time.total,left:1e3*(this.duration-this.currentTime)},e>=0&&(this.buffer={end:1e3*this.buffered.end(e)}),this.ref.detectChanges()}onProgress(t){let e=this.buffered.length-1;e>=0&&(this.buffer={end:1e3*this.buffered.end(e)}),this.ref.detectChanges()}onVolumeChange(t){this.ref.detectChanges()}onError(t){this.ref.detectChanges()}bufferCheck(){const t=1/this.checkInterval;this.currentPlayPos=this.currentTime,!this.isBufferDetected&&this.currentPlayPos<this.lastPlayPos+t&&(this.isBufferDetected=!0),this.isBufferDetected&&this.currentPlayPos>this.lastPlayPos+t&&(this.isBufferDetected=!1),this.bufferDetected.closed||this.bufferDetected.next(this.isBufferDetected),this.lastPlayPos=this.currentPlayPos}startBufferCheck(){this.checkBufferSubscription=c.create(0,this.checkInterval).subscribe(()=>{this.bufferCheck()})}stopBufferCheck(){this.checkBufferSubscription&&this.checkBufferSubscription.unsubscribe(),this.isBufferDetected=!1,this.bufferDetected.next(this.isBufferDetected)}seekTime(t,e=!1){let n;n=e?t*this.duration/100:t,this.currentTime=n}addTextTrack(t,e,n,i){const o=this.vgMedia.addTextTrack(t,e,n);return i&&(o.mode=i),o}ngOnDestroy(){this.vgMedia.src="",this.canPlayObs.unsubscribe(),this.canPlayThroughObs.unsubscribe(),this.loadedMetadataObs.unsubscribe(),this.waitingObs.unsubscribe(),this.progressObs.unsubscribe(),this.endedObs.unsubscribe(),this.playingObs.unsubscribe(),this.playObs.unsubscribe(),this.pauseObs.unsubscribe(),this.timeUpdateObs.unsubscribe(),this.volumeChangeObs.unsubscribe(),this.errorObs.unsubscribe(),this.checkBufferSubscription&&this.checkBufferSubscription.unsubscribe(),this.syncSubscription&&this.syncSubscription.unsubscribe(),this.bufferDetected.complete(),this.bufferDetected.unsubscribe(),this.api.unregisterMedia(this)}}return t.\u0275fac=function(e){return new(e||t)(u.Pb(h.a),u.Pb(u.h))},t.\u0275dir=u.Kb({type:t,selectors:[["","vgMedia",""]],inputs:{vgMedia:"vgMedia",vgMaster:"vgMaster"}}),t})()},XNiG:function(t,e,n){"use strict";n.d(e,"b",(function(){return l})),n.d(e,"a",(function(){return h}));var i=n("HDdC"),o=n("7o/Q"),s=n("quSY"),r=n("9ppp"),a=n("Ylt2"),c=n("2QA8");class l extends o.a{constructor(t){super(t),this.destination=t}}let h=(()=>{class t extends i.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[c.a](){return new l(this)}lift(t){const e=new d(this,this);return e.operator=t,e}next(t){if(this.closed)throw new r.a;if(!this.isStopped){const{observers:e}=this,n=e.length,i=e.slice();for(let o=0;o<n;o++)i[o].next(t)}}error(t){if(this.closed)throw new r.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,i=e.slice();for(let o=0;o<n;o++)i[o].error(t);this.observers.length=0}complete(){if(this.closed)throw new r.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let i=0;i<e;i++)n[i].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new r.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new r.a;return this.hasError?(t.error(this.thrownError),s.a.EMPTY):this.isStopped?(t.complete(),s.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new i.a;return t.source=this,t}}return t.create=(t,e)=>new d(t,e),t})();class d extends h{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):s.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function i(t){return null!==t&&"object"==typeof t}n.d(e,"a",(function(){return i}))},XuI1:function(t,e){var n=1e3,i=6e4,o=36e5,s=24*o;function r(t,e,n){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}t.exports=function(t,e){e=e||{};var a,c=typeof t;if("string"===c&&t.length>0)return function(t){if(!((t=String(t)).length>100)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(e){var r=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*r;case"days":case"day":case"d":return r*s;case"hours":case"hour":case"hrs":case"hr":case"h":return r*o;case"minutes":case"minute":case"mins":case"min":case"m":return r*i;case"seconds":case"second":case"secs":case"sec":case"s":return r*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}(t);if("number"===c&&!1===isNaN(t))return e.long?r(a=t,s,"day")||r(a,o,"hour")||r(a,i,"minute")||r(a,n,"second")||a+" ms":function(t){return t>=s?Math.round(t/s)+"d":t>=o?Math.round(t/o)+"h":t>=i?Math.round(t/i)+"m":t>=n?Math.round(t/n)+"s":t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},Y7HM:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n("DH7j");function o(t){return!Object(i.a)(t)&&t-parseFloat(t)+1>=0}},Y7a1:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"r",(function(){return o})),n.d(e,"j",(function(){return s})),n.d(e,"i",(function(){return r})),n.d(e,"l",(function(){return a})),n.d(e,"m",(function(){return c})),n.d(e,"s",(function(){return l})),n.d(e,"k",(function(){return h})),n.d(e,"t",(function(){return d})),n.d(e,"b",(function(){return u})),n.d(e,"o",(function(){return g})),n.d(e,"c",(function(){return p})),n.d(e,"p",(function(){return f})),n.d(e,"x",(function(){return b})),n.d(e,"f",(function(){return m})),n.d(e,"d",(function(){return v})),n.d(e,"e",(function(){return y})),n.d(e,"B",(function(){return C})),n.d(e,"C",(function(){return _})),n.d(e,"w",(function(){return x})),n.d(e,"y",(function(){return P})),n.d(e,"v",(function(){return w})),n.d(e,"u",(function(){return O})),n.d(e,"n",(function(){return M})),n.d(e,"q",(function(){return k})),n.d(e,"A",(function(){return S})),n.d(e,"z",(function(){return I})),n.d(e,"g",(function(){return L})),n.d(e,"h",(function(){return T})),n.d(e,"D",(function(){return A}));var i=function(t){return t.DANMU_RESET="Danmu Reset",t.DANMU_LIST_REQUIRED="Danmu List Required",t.DANMU_LIST_LOADED="Danmu List Loaded",t.DANMU_LIST_LOAD_FAILURE="Danmu List Load Failure",t.DANMU_PAUSE="Danmu Pause",t.DANMU_PLAY="Danmu Play",t.DANMU_SEND="Danmu Send a Danmu",t.DANMU_NEW="Danmu Add New Danmu",t.DANMU_SET_CURRENT_TIME="Danmu Set Video Current Time",t.DANMU_ADD_KEYWORD_FILTER="Danmu Add Keyword Filter",t.DANMU_REMOVE_KEYWORD_FILTER="Danmu Remove Keyword Filter",t.DANMU_ADD_USER_FILTER="Danmu Add User Filter",t.DANMU_REMOVE_USER_FILTER="Danmu Remove User Filter",t.DANMU_SET_FULL_SCREEN="Danmu Set Full Screen",t.DANMU_BLOCK_TOP="Danmu Block Top",t.DANMU_BLOCK_BOTTOM="Danmu Block Bottom",t.DANMU_BLOCK_LEFT="Danmu Block Left",t.DANMU_SET_SPEED="Danmu Set Speed",t.DANMU_TOGGLE_DANMU="Danmu Toggle Danmu",t.DANMU_SET_FONT_SIZE="Danmu Set Font Size",t.DANMU_SET_OPACITY="Danmu Set Opacity",t.DANMU_SET_FONT_FAMILY="Danmu Set Font Family",t.DANMU_RESET_ALL_BARRELS="Danmu Reset All Barrels",t.DANMU_SET_DANMU_KEY="Danmu Set Danmu Key",t.DANMU_REMOVE_DANMU="Danmu Remove Danmu",t.DANMU_REMOVED="Danmu Removed",t.DANMU_SET_OUTPUT_TYPE="Danmu Set Output Type",t.DANMU_SET_OUTPUT_COLOR="Danmu Set Output Color",t.DANMU_GET_USER_SETTINGS="Danmu Get User Settings",t.DANMU_GET_USER_SETTINGS_SUCCESS="Danmu Get User Settings Success",t.DANMU_UPDATE_USER_SETTINGS="Danmu Update User Settings",t}({});class o{constructor(t){this.payload=t,this.type=i.DANMU_RESET}}class s{constructor(t){this.payload=t,this.type=i.DANMU_LIST_REQUIRED}}class r{constructor(t){this.payload=t,this.type=i.DANMU_LIST_LOADED}}class a{constructor(t){this.payload=t,this.type=i.DANMU_PAUSE}}class c{constructor(t){this.payload=t,this.type=i.DANMU_PLAY}}class l{constructor(t){this.payload=t,this.type=i.DANMU_SEND}}class h{constructor(t){this.payload=t,this.type=i.DANMU_NEW}}class d{constructor(t){this.payload=t,this.type=i.DANMU_SET_CURRENT_TIME}}class u{constructor(t){this.payload=t,this.type=i.DANMU_ADD_KEYWORD_FILTER}}class g{constructor(t){this.payload=t,this.type=i.DANMU_REMOVE_KEYWORD_FILTER}}class p{constructor(t){this.payload=t,this.type=i.DANMU_ADD_USER_FILTER}}class f{constructor(t){this.payload=t,this.type=i.DANMU_REMOVE_USER_FILTER}}class b{constructor(t){this.payload=t,this.type=i.DANMU_SET_FULL_SCREEN}}class m{constructor(t){this.payload=t,this.type=i.DANMU_BLOCK_TOP}}class v{constructor(t){this.payload=t,this.type=i.DANMU_BLOCK_BOTTOM}}class y{constructor(t){this.payload=t,this.type=i.DANMU_BLOCK_LEFT}}class C{constructor(t){this.payload=t,this.type=i.DANMU_SET_SPEED}}class _{constructor(t){this.payload=t,this.type=i.DANMU_TOGGLE_DANMU}}class x{constructor(t){this.payload=t,this.type=i.DANMU_SET_FONT_SIZE}}class P{constructor(t){this.payload=t,this.type=i.DANMU_SET_OPACITY}}class w{constructor(t){this.payload=t,this.type=i.DANMU_SET_FONT_FAMILY}}class O{constructor(t){this.payload=t,this.type=i.DANMU_SET_DANMU_KEY}}class M{constructor(t){this.payload=t,this.type=i.DANMU_REMOVE_DANMU}}class k{constructor(t){this.payload=t,this.type=i.DANMU_REMOVED}}class S{constructor(t){this.payload=t,this.type=i.DANMU_SET_OUTPUT_TYPE}}class I{constructor(t){this.payload=t,this.type=i.DANMU_SET_OUTPUT_COLOR}}class L{constructor(t){this.payload=t,this.type=i.DANMU_GET_USER_SETTINGS}}class T{constructor(t){this.payload=t,this.type=i.DANMU_GET_USER_SETTINGS_SUCCESS}}class A{constructor(t){this.payload=t,this.type=i.DANMU_UPDATE_USER_SETTINGS}}},YFcv:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n("2Vo4"),o=n("3My9"),s=n("fXoL");let r=(()=>{class t{constructor(t){this._utility=t,this.guideCoverSource=new i.a(!1),this.guideCover=this.guideCoverSource.asObservable(),this.showColorGuide=new i.a(!1),this.colorGuide=this.showColorGuide.asObservable(),this.showSettingGuide=new i.a(!1),this.settingGuide=this.showSettingGuide.asObservable(),this.cookies={colorGuide:!0,settingGuide:!0},this.isBot=!1,this.stopGuide=!0,this.isBot=this._utility.isBot()}closeGuideCover(t,e){switch(e){case"color":this.showColorGuide.next(!1);break;case"setting":this.showSettingGuide.next(!1);break;case"all":this.showSettingGuide.next(!1),this.showColorGuide.next(!1)}this.coverStateByPage(t?"player":"ohter")}coverStateByPage(t){if("player"===t){let t=!1;this.colorGuide.subscribe(e=>{t=e});let e=!1;this.settingGuide.subscribe(t=>{e=t}),this.guideCoverSource.next(t||e)}else this.guideCoverSource.next(!1)}getGuideCookie(t){if(!this.stopGuide&&!this.isBot){const e=this.stringToJSON(this.getCookie("web_guide"));if(void 0===e)this.setCookie("web_guide",JSON.stringify(this.cookies),365),this.showColorGuide.next(!0),this.showSettingGuide.next(!0),this.guideCoverSource.next(!0);else switch(this.cookies=e,t){case 0:this.showSettingGuide.next(e.settingGuide),this.coverStateByPage("player");break;case 1:this.showColorGuide.next(e.colorGuide),this.guideCoverSource.next(e.colorGuide)}}}setGuideCookie(t){let e;switch(t){case 0:e=Object.assign(this.cookies,{settingGuide:!1}),this.showSettingGuide.next(!1);break;case 1:e=Object.assign(this.cookies,{colorGuide:!1}),this.showColorGuide.next(!1)}this.cookies=e,this.setCookie("web_guide",JSON.stringify(e),365)}setCookie(t,e,n){var i="";if(n){var o=new Date;o.setTime(o.getTime()+24*n*60*60*1e3),i="; expires="+o.toUTCString()}var s=this._utility.GetHost("",!0),r="domain="+(s&&0==s.indexOf(".")?s:"."+s);document.cookie=t+"="+(e||"")+i+"; path=/;"+r}getCookie(t){const e=`; ${document.cookie}`.split(`; ${t}=`);if(2===e.length)return e.pop().split(";").shift()}stringToJSON(t){return t?JSON.parse(t):void 0}}return t.\u0275fac=function(e){return new(e||t)(s.Zb(o.a))},t.\u0275prov=s.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},YKxU:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n("NGQO"),o=n("fXoL"),s=n("5eHb");let r=(()=>{class t{constructor(t){this._toastrService=t,this.toastrOptions=this._toastrService.toastrConfig}showBlackToast(t){const e=Object.assign({},this.toastrOptions);e.toastComponent=i.a,e.toastClass="blacktoast",this._toastrService.show(t,"",e)}clearAllBlackToast(){this._toastrService.clear()}}return t.\u0275fac=function(e){return new(e||t)(o.Zb(s.d))},t.\u0275prov=o.Lb({token:t,factory:t.\u0275fac}),t})()},YS7c:function(t,e,n){"use strict";var i=n("8/JR"),o=n("PzH3"),s=n("n6yW"),r=document,a=r.documentElement;function c(t,e,n,i){global.navigator.pointerEnabled?o[e](t,{mouseup:"pointerup",mousedown:"pointerdown",mousemove:"pointermove"}[n],i):global.navigator.msPointerEnabled?o[e](t,{mouseup:"MSPointerUp",mousedown:"MSPointerDown",mousemove:"MSPointerMove"}[n],i):(o[e](t,{mouseup:"touchend",mousedown:"touchstart",mousemove:"touchmove"}[n],i),o[e](t,n,i))}function l(t){if(void 0!==t.touches)return t.touches.length;if(void 0!==t.which&&0!==t.which)return t.which;if(void 0!==t.buttons)return t.buttons;var e=t.button;return void 0!==e?1&e?1:2&e?3:4&e?2:0:void 0}function h(t){var e=t.getBoundingClientRect();return{left:e.left+d("scrollLeft","pageXOffset"),top:e.top+d("scrollTop","pageYOffset")}}function d(t,e){return void 0!==global[e]?global[e]:a.clientHeight?a[t]:r.body[t]}function u(t,e,n){var i,o=t||{},s=o.className;return o.className+=" gu-hide",i=r.elementFromPoint(e,n),o.className=s,i}function g(){return!1}function p(){return!0}function f(t){return t.width||t.right-t.left}function b(t){return t.height||t.bottom-t.top}function m(t){return t.parentNode===r?null:t.parentNode}function v(t){return"INPUT"===t.tagName||"TEXTAREA"===t.tagName||"SELECT"===t.tagName||function t(e){return!!e&&"false"!==e.contentEditable&&("true"===e.contentEditable||t(m(e)))}(t)}function y(t){return t.nextElementSibling||function(){var e=t;do{e=e.nextSibling}while(e&&1!==e.nodeType);return e}()}function C(t,e){var n=function(t){return t.targetTouches&&t.targetTouches.length?t.targetTouches[0]:t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t}(e),i={pageX:"clientX",pageY:"clientY"};return t in i&&!(t in n)&&i[t]in n&&(t=i[t]),n[t]}t.exports=function(t,e){var n,d,_,x,P,w,O,M,k,S,I,L=arguments.length;1===L&&!1===Array.isArray(t)&&(e=t,t=[]);var T,A=null,N=e||{};void 0===N.moves&&(N.moves=p),void 0===N.accepts&&(N.accepts=p),void 0===N.invalid&&(N.invalid=Q),void 0===N.containers&&(N.containers=t||[]),void 0===N.isContainer&&(N.isContainer=g),void 0===N.copy&&(N.copy=!1),void 0===N.copySortSource&&(N.copySortSource=!1),void 0===N.revertOnSpill&&(N.revertOnSpill=!1),void 0===N.removeOnSpill&&(N.removeOnSpill=!1),void 0===N.direction&&(N.direction="vertical"),void 0===N.ignoreInputTextSelection&&(N.ignoreInputTextSelection=!0),void 0===N.mirrorContainer&&(N.mirrorContainer=r.body);var B=i({containers:N.containers,start:W,end:$,cancel:J,remove:Z,destroy:R,canMove:G,dragging:!1});return!0===N.removeOnSpill&&B.on("over",ot).on("out",st),U(),B;function V(t){return-1!==B.containers.indexOf(t)||N.isContainer(t)}function U(t){var e=t?"remove":"add";c(a,e,"mousedown",j),c(a,e,"mouseup",X)}function D(t){c(a,t?"remove":"add","mousemove",z)}function E(t){var e=t?"remove":"add";o[e](a,"selectstart",F),o[e](a,"click",F)}function R(){U(!0),X({})}function F(t){T&&t.preventDefault()}function j(t){if(w=t.clientX,O=t.clientY,1===l(t)&&!t.metaKey&&!t.ctrlKey){var e=t.target,n=H(e);n&&(T=n,D(),"mousedown"===t.type&&(v(e)?e.focus():t.preventDefault()))}}function z(t){if(T)if(0!==l(t)){if(void 0===t.clientX||t.clientX!==w||void 0===t.clientY||t.clientY!==O){if(N.ignoreInputTextSelection){var e=C("clientX",t),n=C("clientY",t);if(v(r.elementFromPoint(e,n)))return}var i=T;D(!0),E(),$(),q(i);var o=h(_);x=C("pageX",t)-o.left,P=C("pageY",t)-o.top,s.add(S||_,"gu-transit"),rt(),it(t)}}else X({})}function H(t){if(!(B.dragging&&n||V(t))){for(var e=t;m(t)&&!1===V(m(t));){if(N.invalid(t,e))return;if(!(t=m(t)))return}var i=m(t);if(i&&!N.invalid(t,e)&&N.moves(t,i,e,y(t)))return{item:t,source:i}}}function G(t){return!!H(t)}function W(t){var e=H(t);e&&q(e)}function q(t){ht(t.item,t.source)&&(S=t.item.cloneNode(!0),B.emit("cloned",S,t.item,"copy")),d=t.source,_=t.item,M=k=y(t.item),B.dragging=!0,B.emit("drag",_,d)}function Q(){return!1}function $(){if(B.dragging){var t=S||_;Y(t,m(t))}}function K(){T=!1,D(!0),E(!0)}function X(t){if(K(),B.dragging){var e=S||_,i=C("clientX",t),o=C("clientY",t),s=nt(u(n,i,o),i,o);s&&(S&&N.copySortSource||!S||s!==d)?Y(e,s):N.removeOnSpill?Z():J()}}function Y(t,e){var n=m(t);S&&N.copySortSource&&e===d&&n.removeChild(_),et(e)?B.emit("cancel",t,d,d):B.emit("drop",t,e,d,k),tt()}function Z(){if(B.dragging){var t=S||_,e=m(t);e&&e.removeChild(t),B.emit(S?"cancel":"remove",t,e,d),tt()}}function J(t){if(B.dragging){var e=arguments.length>0?t:N.revertOnSpill,n=S||_,i=m(n),o=et(i);!1===o&&e&&(S?i&&i.removeChild(S):d.insertBefore(n,M)),o||e?B.emit("cancel",n,d,d):B.emit("drop",n,i,d,k),tt()}}function tt(){var t=S||_;K(),at(),t&&s.rm(t,"gu-transit"),I&&clearTimeout(I),B.dragging=!1,A&&B.emit("out",t,A,d),B.emit("dragend",t),d=_=S=M=k=I=A=null}function et(t,e){var i;return i=void 0!==e?e:n?k:y(S||_),t===d&&i===M}function nt(t,e,n){for(var i=t;i&&!o();)i=m(i);return i;function o(){if(!1===V(i))return!1;var o=ct(i,t),s=lt(i,o,e,n);return!!et(i,s)||N.accepts(_,i,d,s)}}function it(t){if(n){t.preventDefault();var e=C("clientX",t),i=C("clientY",t),o=i-P;n.style.left=e-x+"px",n.style.top=o+"px";var s=S||_,r=u(n,e,i),a=nt(r,e,i),c=null!==a&&a!==A;(c||null===a)&&(A&&p("out"),A=a,c&&p("over"));var l=m(s);if(a!==d||!S||N.copySortSource){var h,g=ct(a,r);if(null!==g)h=lt(a,g,e,i);else{if(!0!==N.revertOnSpill||S)return void(S&&l&&l.removeChild(s));h=M,a=d}(null===h&&c||h!==s&&h!==y(s))&&(k=h,a.insertBefore(s,h),B.emit("shadow",s,a,d))}else l&&l.removeChild(s)}function p(t){B.emit(t,s,A,d)}}function ot(t){s.rm(t,"gu-hide")}function st(t){B.dragging&&s.add(t,"gu-hide")}function rt(){if(!n){var t=_.getBoundingClientRect();(n=_.cloneNode(!0)).style.width=f(t)+"px",n.style.height=b(t)+"px",s.rm(n,"gu-transit"),s.add(n,"gu-mirror"),N.mirrorContainer.appendChild(n),c(a,"add","mousemove",it),s.add(N.mirrorContainer,"gu-unselectable"),B.emit("cloned",n,_,"mirror")}}function at(){n&&(s.rm(N.mirrorContainer,"gu-unselectable"),c(a,"remove","mousemove",it),m(n).removeChild(n),n=null)}function ct(t,e){for(var n=e;n!==t&&m(n)!==t;)n=m(n);return n===a?null:n}function lt(t,e,n,i){var o,s="horizontal"===N.direction;return e!==t?(o=e.getBoundingClientRect(),(s?n>o.left+f(o)/2:i>o.top+b(o)/2)?y(e):e):function(){var e,o,r,a=t.children.length;for(e=0;e<a;e++){if(r=(o=t.children[e]).getBoundingClientRect(),s&&r.left+r.width/2>n)return o;if(!s&&r.top+r.height/2>i)return o}return null}()}function ht(t,e){return"boolean"==typeof N.copy?N.copy:N.copy(t,e)}}},Ybe3:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var i=n("ofXK"),o=n("jmij"),s=n("2zRG"),r=n("Kdsb"),a=n("U+g8"),c=n("fXoL");const l={suppressScrollX:!0,wheelPropagation:!1};let h=(()=>{class t{}return t.\u0275mod=c.Nb({type:t}),t.\u0275inj=c.Mb({factory:function(e){return new(e||t)},providers:[{provide:r.a,useValue:l}],imports:[[i.c,o.a,s.a,r.c,a.a]]}),t})()},Ylt2:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n("quSY");class o extends i.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},Ys8N:function(t,e,n){"use strict";var i=[],o="",s=/^on/;for(o in global)s.test(o)&&i.push(o.slice(2));t.exports=i},Ysev:function(t,e,n){"use strict";var i=n("a87Y"),o=n("bTYh"),s=n("0Xxy"),r=n("YKxU"),a=n("fXoL"),c=n("ofXK"),l=n("dayM");function h(t,e){if(1&t&&(a.Vb(0,"span"),a.Nc(1),a.Ub()),2&t){const t=a.gc(2);a.Bb(1),a.Pc("[",t.option.count,"\u7968]")}}function d(t,e){if(1&t&&(a.Vb(0,"div",7),a.Lc(1,h,2,1,"span",8),a.Ub()),2&t){const t=a.gc();a.Bb(1),a.nc("ngIf",t.vote.isVoted||!t.vote.voteViewType)}}const u=function(t,e){return{hot:t,poor:e}},g=function(t,e){return{width:t,"background-color":e}};function p(t,e){if(1&t&&a.Qb(0,"div",9),2&t){const t=a.gc();a.nc("ngClass",a.tc(2,u,t.total/t.option.count<.9*t.optionsCount,t.total/t.option.count>1.1*t.optionsCount))("ngStyle",a.tc(5,g,t.option.count/t.total*t.barWidth+"px",t.barColor))}}const f=function(t){return{width:t}},b=function(t,e){return{iconduoxuanweixuanzhong:t,iconduihao:e}};let m=(()=>{class t{constructor(){this.barWidth=400,this.optionsCount=0,this.total=0,this.selectEven=new a.n}ngOnInit(){}onSelectOption(){this.vote.isVoted||this.selectEven.emit(this.option)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Jb({type:t,selectors:[["app-dn-poll-option"]],inputs:{vote:"vote",user:"user",option:"option",barWidth:"barWidth",optionsCount:"optionsCount",total:"total",barColor:"barColor"},outputs:{selectEven:"selectEven"},decls:8,vars:13,consts:[[1,"option",3,"ngStyle","click"],[1,"d-flex","align-items-center","position-relative"],[1,"iconfont",3,"ngClass"],[1,"option-title","mr-3"],["class","option-count",4,"ngIf"],[1,"background",3,"ngStyle"],["class","poll-bar",3,"ngClass","ngStyle",4,"ngIf"],[1,"option-count"],[4,"ngIf"],[1,"poll-bar",3,"ngClass","ngStyle"]],template:function(t,e){1&t&&(a.Vb(0,"div",0),a.dc("click",(function(t){return e.onSelectOption()})),a.Vb(1,"div",1),a.Qb(2,"div",2),a.Vb(3,"div",3),a.Nc(4),a.Ub(),a.Lc(5,d,2,1,"div",4),a.Ub(),a.Vb(6,"div",5),a.Lc(7,p,1,8,"div",6),a.Ub(),a.Ub()),2&t&&(a.nc("ngStyle",a.sc(6,f,e.barWidth+"px")),a.Bb(2),a.nc("ngClass",a.tc(8,b,!e.option.selected,e.option.selected)),a.Bb(2),a.Oc(e.option.title),a.Bb(1),a.nc("ngIf",e.total>0),a.Bb(1),a.nc("ngStyle",a.sc(11,f,e.barWidth+"px")),a.Bb(1),a.nc("ngIf",e.vote.isVoted||!e.vote.voteViewType||e.vote.uid===e.user.id))},directives:[c.o,c.l,c.n],styles:[".option[_ngcontent-%COMP%]{padding-left:25px;color:hsla(0,0%,100%,.7);cursor:pointer}.light[_nghost-%COMP%]   .option[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .option[_ngcontent-%COMP%]{color:#888}.selector[_ngcontent-%COMP%]{position:absolute;top:-9px;left:-33px;cursor:pointer}.background[_ngcontent-%COMP%]{background-color:#373843;height:15px;border-radius:9px;margin-bottom:16px;margin-left:-5px;position:relative}.light[_nghost-%COMP%]   .background[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .background[_ngcontent-%COMP%]{background-color:#ddd}.poll-bar[_ngcontent-%COMP%]{background-color:#ff9600;height:15px;border-radius:9px;width:0}"]}),t})();function v(t,e){1&t&&(a.Vb(0,"div",3),a.Qb(1,"app-loader-spinner"),a.Ub())}function y(t,e){1&t&&(a.Vb(0,"span"),a.Nc(1,"\u53ef\u591a\u9009"),a.Ub())}function C(t,e){if(1&t){const t=a.Wb();a.Vb(0,"app-dn-poll-option",11),a.dc("selectEven",(function(e){return a.Cc(t),a.gc(2).onSelectOption(e)})),a.Ub()}if(2&t){const t=e.$implicit,n=e.index,i=a.gc(2);a.nc("option",t)("vote",i.poll)("user",i.user)("optionsCount",i.poll.voteOptions.length)("total",i.total)("barColor",i.randomColors[n])}}function _(t,e){1&t&&(a.Vb(0,"span"),a.Nc(1,"\u8fd8\u6ca1\u6709\u7528\u6237\u53c2\u4e0e\uff0c\u6765\u6295\u4e0b\u7b2c\u4e00\u7968\u5427"),a.Ub())}function x(t,e){1&t&&(a.Vb(0,"span"),a.Nc(1,"\u8fd8\u6ca1\u6709\u7528\u6237\u53c2\u4e0e"),a.Ub())}function P(t,e){if(1&t&&(a.Vb(0,"span",12),a.Nc(1),a.Ub()),2&t){const t=a.gc(2);a.Bb(1),a.Pc("",t.poll.voteCount,"\u4eba\u5df2\u6295\u7968")}}function w(t,e){1&t&&(a.Vb(0,"span"),a.Nc(1,"\u60a8\u5df2\u7ecf\u6295\u8fc7\u7968\u4e86"),a.Ub())}function O(t,e){1&t&&(a.Vb(0,"span"),a.Nc(1,"\u60a8\u4e5f\u6765\u6295\u7968\u5427"),a.Ub())}function M(t,e){1&t&&(a.Vb(0,"span",13),a.Nc(1,"(\u6295\u7968\u540e\u7ed3\u679c\u53ef\u89c1)"),a.Ub())}n.d(e,"a",(function(){return T}));const k=function(t,e){return{"dn-button-disable":t,"dn-button-blue":e}};function S(t,e){if(1&t){const t=a.Wb();a.Vb(0,"div",14),a.Vb(1,"div",15),a.dc("click",(function(e){return a.Cc(t),a.gc(2).vote()})),a.Nc(2,"\u6295\u7968"),a.Ub(),a.Ub()}if(2&t){const t=a.gc(2);a.Bb(1),a.nc("ngClass",a.tc(1,k,t.poll.isVoted||0===t.selectedOptions,t.selectedOptions>0&&!t.poll.isVoted&&!(t.selectedOptions>t.poll.multipleOptions)))}}function I(t,e){if(1&t&&(a.Vb(0,"div"),a.Vb(1,"div",4),a.Lc(2,y,2,0,"span",2),a.Ub(),a.Vb(3,"div",5),a.Lc(4,C,1,6,"app-dn-poll-option",6),a.Ub(),a.Vb(5,"div",7),a.Lc(6,_,2,0,"span",2),a.Lc(7,x,2,0,"span",2),a.Lc(8,P,2,1,"span",8),a.Lc(9,w,2,0,"span",2),a.Lc(10,O,2,0,"span",2),a.Lc(11,M,2,0,"span",9),a.Ub(),a.Lc(12,S,3,4,"div",10),a.Ub()),2&t){const t=a.gc();a.Bb(2),a.nc("ngIf",t.poll.multipleOptions>1),a.Bb(2),a.nc("ngForOf",t.poll.voteOptions),a.Bb(2),a.nc("ngIf",0===t.poll.voteCount&&t.showButton),a.Bb(1),a.nc("ngIf",0===t.poll.voteCount&&!t.showButton),a.Bb(1),a.nc("ngIf",t.poll.voteCount>0),a.Bb(1),a.nc("ngIf",t.poll.voteCount>0&&t.poll.isVoted&&t.showButton),a.Bb(1),a.nc("ngIf",t.poll.voteCount>0&&!t.poll.isVoted&&t.showButton),a.Bb(1),a.nc("ngIf",!t.poll.isVoted&&t.poll.uid!==t.user.id&&t.poll.voteViewType),a.Bb(1),a.nc("ngIf",t.showButton)}}const L=function(t){return{"hide-button":t}};let T=(()=>{class t{constructor(t,e,n,i){this._pollService=t,this._messageDialogService=e,this._dnDialogService=n,this._toastService=i,this.colors=["red","blue","purple","orange","green","cyan","teal","pink"],this.randomColors=this.colors,this.showButton=!0,this.isNews="auto",this.selectedOptions=0,this.barWidth=400,this.loading=!1}ngOnInit(){this.pollId>0&&this.getVote(),this.randomColors=this.shuffle(this.colors)}getVote(){this.loading=!0,this._pollService.get(this.pollId,this.user,this.isNews).subscribe(t=>{this.poll=t,this.poll.voteOptions=this.poll.voteOptions.map(t=>(t.selected=t.voted,t)),this.total=this.poll.voteOptions.reduce((t,e)=>t.count||0===t.count?t.count+e.count:t+e.count),this.loading=!1})}onSelectOption(t){return!0===t.selected?(this.poll.voteOptions.filter(e=>e.id===t.id)[0].selected=!1,void(this.selectedOptions=this.poll.voteOptions.filter(t=>!0===t.selected).length)):1===this.poll.multipleOptions?(this.poll.voteOptions.map(e=>{e.selected=e.id===t.id}),void(this.selectedOptions=this.poll.voteOptions.filter(t=>!0===t.selected).length)):(this.poll.voteOptions.filter(t=>!0===t.selected).length>this.poll.multipleOptions-1?(this._messageDialogService.setState({message:"\u6700\u591a\u9009\u62e9"+this.poll.multipleOptions+"\u4e2a\u9009\u9879"}),this._dnDialogService.open("message-dialog")):this.poll.voteOptions.filter(e=>e.id===t.id)[0].selected=!0,void(this.selectedOptions=this.poll.voteOptions.filter(t=>!0===t.selected).length))}vote(){if(!this.user||!this.user.id)return this._messageDialogService.setState({message:"\u8bf7\u767b\u5f55\u540e\u518d\u8fdb\u884c\u6295\u7968"}),void this._dnDialogService.open("message-dialog");if(this.poll.isVoted)return;const t=[];if(this.poll.voteOptions.map(e=>{e.selected&&t.push(e.id)}),!t.length)return this._messageDialogService.setState({message:"\u8bf7\u52fe\u9009\u9009\u9879"}),void this._dnDialogService.open("message-dialog");this.loading=!0,this._pollService.vote(this.pollId,t,this.user).subscribe(t=>{t&&(this.getVote(),this._toastService.showBlackToast("\u6295\u7968\u6210\u529f"))})}shuffle(t){let e,n,i=t.length;for(;0!==i;)n=Math.floor(Math.random()*i),i-=1,e=t[i],t[i]=t[n],t[n]=e;return t}}return t.\u0275fac=function(e){return new(e||t)(a.Pb(i.a),a.Pb(o.a),a.Pb(s.a),a.Pb(r.a))},t.\u0275cmp=a.Jb({type:t,selectors:[["app-dn-poll"]],inputs:{pollId:"pollId",user:"user",showButton:"showButton",isNews:"isNews"},decls:3,vars:5,consts:[[1,"poll","mb-4",3,"ngClass"],["class","loading-overlay d-flex align-items-center justify-content-center",4,"ngIf"],[4,"ngIf"],[1,"loading-overlay","d-flex","align-items-center","justify-content-center"],[1,""],[1,"options","mt-3","mb-4"],[3,"option","vote","user","optionsCount","total","barColor","selectEven",4,"ngFor","ngForOf"],[1,"summary","mb-3"],["class","mr-2",4,"ngIf"],["class","prompt",4,"ngIf"],["class","vote-buttons d-flex",4,"ngIf"],[3,"option","vote","user","optionsCount","total","barColor","selectEven"],[1,"mr-2"],[1,"prompt"],[1,"vote-buttons","d-flex"],[1,"dn-button",3,"ngClass","click"]],template:function(t,e){1&t&&(a.Vb(0,"div",0),a.Lc(1,v,2,0,"div",1),a.Lc(2,I,13,9,"div",2),a.Ub()),2&t&&(a.nc("ngClass",a.sc(3,L,!e.showButton)),a.Bb(1),a.nc("ngIf",e.loading),a.Bb(1),a.nc("ngIf",e.poll))},directives:[c.l,c.n,l.a,c.m,m],styles:[".poll[_ngcontent-%COMP%]{position:relative;width:420px;min-height:200px}.poll.hide-button[_ngcontent-%COMP%]{min-height:160px}.option-title[_ngcontent-%COMP%]{line-height:24px;color:#000}.summary[_ngcontent-%COMP%]{color:hsla(0,0%,100%,.4);margin-bottom:5px}.light[_nghost-%COMP%]   .summary[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .summary[_ngcontent-%COMP%]{color:#888}.dn-button[_ngcontent-%COMP%]{width:120px}.loading-overlay[_ngcontent-%COMP%]{min-height:100px;z-index:1;position:absolute;left:0;right:0;top:0;bottom:0}.prompt[_ngcontent-%COMP%]{color:red}"]}),t})()},Yvos:function(t,e){t.exports=function(t,e){var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},Z7g2:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return s}));var i=n("fXoL"),o=function(){function t(t){this.zone=t}return Object.defineProperty(t.prototype,"StockPanel",{get:function(){return AmCharts.StockPanel},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"StockGraph",{get:function(){return AmCharts.StockGraph},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"StockEvent",{get:function(){return AmCharts.StockEvent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"StockLegend",{get:function(){return AmCharts.StockLegend},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"baseHref",{get:function(){return AmCharts.baseHref},set:function(t){AmCharts.baseHref=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"useUTC",{get:function(){return AmCharts.useUTC},set:function(t){AmCharts.useUTC=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dayNames",{get:function(){return AmCharts.dayNames},set:function(t){AmCharts.dayNames=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"monthNames",{get:function(){return AmCharts.monthNames},set:function(t){AmCharts.monthNames=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shortDayNames",{get:function(){return AmCharts.shortDayNames},set:function(t){AmCharts.shortDayNames=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shortMonthNames",{get:function(){return AmCharts.shortMonthNames},set:function(t){AmCharts.shortMonthNames=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"theme",{get:function(){return AmCharts.theme},set:function(t){AmCharts.theme=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"processDelay",{get:function(){return AmCharts.processDelay},set:function(t){AmCharts.processDelay=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"charts",{get:function(){return AmCharts.charts},enumerable:!0,configurable:!0}),t.prototype.addInitHandler=function(t,e){AmCharts.addInitHandler(t,e)},t.prototype.addPrefix=function(t,e,n,i){return AmCharts.addPrefix(t,e,n,i)},t.prototype.clear=function(){AmCharts.clear()},t.prototype.formatDate=function(t,e){return AmCharts.formatDate(t,e)},t.prototype.formatNumber=function(t,e,n){return AmCharts.formatNumber(t,e,n)},t.prototype.stringToDate=function(t,e){return AmCharts.stringToDate(t,e)},t.prototype.makeChart=function(t,e,n){return this.zone.runOutsideAngular((function(){return AmCharts.makeChart(t,e,n)}))},t.prototype.addListener=function(t,e,n){var i=this,o=function(t){i.zone.run((function(){n(t)}))};return this.zone.runOutsideAngular((function(){t.addListener(e,o)})),function(){i.zone.runOutsideAngular((function(){t.removeListener(t,e,o)}))}},t.prototype.updateChart=function(t,e){this.zone.runOutsideAngular((function(){e(),t.validateNow(!0)}))},t.prototype.destroyChart=function(t){this.zone.runOutsideAngular((function(){t.clear()}))},t.\u0275fac=function(e){return new(e||t)(i.Zb(i.z))},t.\u0275prov=i.Lb({token:t,factory:function(e){return t.\u0275fac(e)}}),t}(),s=function(){function t(){}return t.\u0275mod=i.Nb({type:t}),t.\u0275inj=i.Mb({factory:function(e){return new(e||t)},providers:[o]}),t}()},ZAKw:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n("ofXK"),o=n("fXoL");let s=(()=>{class t{constructor(t,e,n){this.elementRef=t,this.renderer=e,this.document=n}ngOnInit(){}ngOnChanges(t){const{length:e,items:n,placeholder:i,valid:o}=this.FlexboxPlaceholder,s=n%e>0?e-n%e:0;if(this.elementRef.nativeElement.querySelectorAll(".placeholder").forEach(t=>{this.renderer.removeChild(this.elementRef.nativeElement,t)}),o)for(let r=0;r<s;r++){const t=document.createElement("div");t.className=i+" placeholder",this.renderer.appendChild(this.elementRef.nativeElement,t)}}}return t.\u0275fac=function(e){return new(e||t)(o.Pb(o.l),o.Pb(o.E),o.Pb(i.d))},t.\u0275dir=o.Kb({type:t,selectors:[["","FlexboxPlaceholder",""]],inputs:{FlexboxPlaceholder:"FlexboxPlaceholder"},features:[o.zb()]}),t})()},ZL7v:function(t,e,n){"use strict";n.r(e);var i=n("ofXK"),o=n("iWjc"),s=n("tyNb"),r=n("bTYh"),a=n("OnY+"),c=n("0Xxy"),l=n("kizo"),h=n("9U6K"),d=n("ciLT"),u=n("3My9"),g=n("9a+P"),p=n("fXoL"),f=n("Kdsb"),b=n("LmEr"),m=n("dayM"),v=n("dlKe"),y=n("AuJu"),C=n("C2AF"),_=n("nLx4"),x=n("Le4d");const P=function(t){return{active:t}};function w(t,e){if(1&t){const t=p.Wb();p.Vb(0,"div",35),p.dc("click",(function(n){p.Cc(t);const i=e.$implicit;return p.gc().selectTag(i)})),p.Vb(1,"div",36),p.Nc(2),p.Ub(),p.Ub()}if(2&t){const t=e.$implicit,n=p.gc();p.nc("ngClass",p.sc(2,P,n.selectedTag.id===t.id)),p.Bb(2),p.Pc(" ",t.title," ")}}function O(t,e){if(1&t){const t=p.Wb();p.Vb(0,"div",37),p.dc("click",(function(n){p.Cc(t);const i=e.$implicit;return p.gc().selectTag(i)})),p.Vb(1,"div",36),p.Nc(2),p.Ub(),p.Ub()}if(2&t){const t=e.$implicit,n=p.gc();p.nc("ngClass",p.sc(2,P,n.selectedTag.id===t.id)),p.Bb(2),p.Pc(" ",t.title," ")}}function M(t,e){if(1&t){const t=p.Wb();p.Vb(0,"div",44),p.dc("click",(function(n){p.Cc(t);const i=e.$implicit;return p.gc(2).selectLabel(i)})),p.Vb(1,"div",41),p.Nc(2),p.Ub(),p.Ub()}if(2&t){const t=e.$implicit,n=p.gc(2);p.nc("ngClass",p.sc(2,P,n.selectedLabel===t)),p.Bb(2),p.Pc(" ",t," ")}}function k(t,e){if(1&t){const t=p.Wb();p.Vb(0,"div",38),p.Vb(1,"div",39),p.Vb(2,"div",40),p.dc("click",(function(e){return p.Cc(t),p.gc().selectLabel("\u5168\u90e8\u6807\u7b7e")})),p.Vb(3,"div",41),p.Nc(4," \u5168\u90e8\u6807\u7b7e "),p.Ub(),p.Ub(),p.Ub(),p.Vb(5,"div",42),p.Lc(6,M,3,4,"div",43),p.Ub(),p.Ub()}if(2&t){const t=p.gc();p.Bb(2),p.nc("ngClass",p.sc(2,P,"\u5168\u90e8\u6807\u7b7e"===t.selectedLabel)),p.Bb(4),p.nc("ngForOf",t.subLabels)}}function S(t,e){1&t&&(p.Vb(0,"div",45),p.Qb(1,"app-loader-spinner"),p.Ub())}function I(t,e){if(1&t){const t=p.Wb();p.Vb(0,"div",53),p.Vb(1,"app-album-activity-result",54),p.dc("changeFollow",(function(e){return p.Cc(t),p.gc(4).hasChangeFollow(e)}))("onDeatilOpen",(function(e){return p.Cc(t),p.gc(4).detailOpenHandler(e)})),p.Ub(),p.Ub()}if(2&t){const t=p.gc(),e=t.index,n=t.$implicit,i=p.gc(3);p.Bb(1),p.nc("type","activity")("discoveryStyle",!0)("followStatus",i.followStatusList[e])("item",n)("matchKey","")}}function L(t,e){if(1&t&&(p.Tb(0),p.Lc(1,I,2,5,"div",52),p.Sb()),2&t){const t=e.$implicit;p.Bb(1),p.nc("ngIf",!t.isHidden)}}function T(t,e){if(1&t){const t=p.Wb();p.Vb(0,"div",50),p.dc("scrolled",(function(e){return p.Cc(t),p.gc(2).getMore()})),p.Lc(1,L,2,1,"ng-container",51),p.Ub()}if(2&t){const t=p.gc(2);p.nc("infiniteScrollDistance",2)("infiniteScrollThrottle",500),p.Bb(1),p.nc("ngForOf",t.discoveryList)}}function A(t,e){1&t&&(p.Vb(0,"div",55),p.Vb(1,"div",56),p.Vb(2,"div",57),p.Qb(3,"img",58),p.Ub(),p.Vb(4,"div",59),p.Nc(5," \u6ca1\u6709\u65b0\u7684\u53d1\u73b0~ "),p.Ub(),p.Ub(),p.Ub())}function N(t,e){1&t&&(p.Vb(0,"div",60),p.Vb(1,"div",61),p.Qb(2,"app-loader-spinner"),p.Ub(),p.Vb(3,"span"),p.Nc(4,"\u6b63\u5728\u52a0\u8f7d"),p.Ub(),p.Ub())}function B(t,e){1&t&&(p.Vb(0,"div",62),p.Vb(1,"span"),p.Nc(2,"\u6211\u662f\u6709\u5e95\u7ebf\u7684"),p.Ub(),p.Ub())}function V(t,e){if(1&t&&(p.Vb(0,"div",46),p.Lc(1,T,2,3,"div",47),p.Lc(2,A,6,0,"div",30),p.Lc(3,N,5,0,"div",48),p.Lc(4,B,3,0,"div",49),p.Ub()),2&t){const t=p.gc();p.Bb(1),p.nc("ngIf",0!==t.totalItems),p.Bb(1),p.nc("ngIf",0===t.totalItems),p.Bb(1),p.nc("ngIf",t.isLoadingMore),p.Bb(1),p.nc("ngIf",t.bottomLine&&t.pageParams.page>1)}}function U(t,e){if(1&t&&(p.Vb(0,"span",63),p.Nc(1),p.Ub()),2&t){const t=p.gc();p.Bb(1),p.Oc(t.totalFollowedCount)}}function D(t,e){1&t&&(p.Vb(0,"div",64),p.Qb(1,"app-loader-spinner"),p.Ub())}function E(t,e){1&t&&(p.Vb(0,"div",55),p.Vb(1,"div",56),p.Vb(2,"div",57),p.Qb(3,"img",58),p.Ub(),p.Vb(4,"div",59),p.Nc(5," \u60a8\u8fd8\u6ca1\u6709\u5173\u6ce8\u4efb\u4f55\u4eba~ "),p.Ub(),p.Ub(),p.Ub())}function R(t,e){1&t&&(p.Vb(0,"div",77),p.Qb(1,"img",78),p.Ub())}const F=function(t,e){return{iconnanxing:t,iconnvxing:e}};function j(t,e){if(1&t&&(p.Vb(0,"div",79),p.Qb(1,"i",80),p.Ub()),2&t){const t=p.gc().$implicit;p.Bb(1),p.nc("ngClass",p.tc(1,F,"male"===t.gender,"female"===t.gender))}}const z=function(t){return{maxLv:t}};function H(t,e){if(1&t&&p.Qb(0,"div",81),2&t){const t=p.gc().$implicit,e=p.gc();p.nc("ngClass",p.sc(2,z,t.level>7))("ngStyle",e.getLevel(t.level))}}const G=function(t){return["/space/",t]};function W(t,e){if(1&t){const t=p.Wb();p.Vb(0,"div",65),p.dc("click",(function(n){p.Cc(t);const i=e.$implicit;return p.gc().getListByUser(i.userKey)})),p.Vb(1,"div",66),p.Vb(2,"div",67),p.Vb(3,"a",68),p.Qb(4,"img",69),p.hc(5,"safeResource"),p.Ub(),p.Ub(),p.Lc(6,R,2,0,"div",70),p.Vb(7,"div",71),p.Vb(8,"div",72),p.Vb(9,"a",68),p.Vb(10,"h4",73),p.Nc(11),p.Ub(),p.Ub(),p.Lc(12,j,2,4,"div",74),p.Lc(13,H,1,4,"div",75),p.Ub(),p.Vb(14,"div",76),p.Nc(15),p.Ub(),p.Ub(),p.Ub(),p.Ub()}if(2&t){const t=e.$implicit,n=p.gc();p.Bb(1),p.nc("ngClass",p.sc(11,P,n.pageParams.key===t.userKey)),p.Bb(2),p.nc("routerLink",p.sc(13,G,t.userKey)),p.Bb(1),p.oc("src",p.ic(5,9,t.image),p.Fc),p.Bb(2),p.nc("ngIf",t.officalUp),p.Bb(3),p.nc("routerLink",p.sc(15,G,t.userKey)),p.Bb(2),p.Oc(t.title),p.Bb(1),p.nc("ngIf",null!==t.gender),p.Bb(1),p.nc("ngIf",t.level>1),p.Bb(2),p.Oc(t.signature)}}function q(t,e){1&t&&(p.Vb(0,"div",82),p.Vb(1,"div",61),p.Qb(2,"app-loader-spinner"),p.Ub(),p.Vb(3,"span"),p.Nc(4,"\u6b63\u5728\u52a0\u8f7d"),p.Ub(),p.Ub())}function Q(t,e){if(1&t){const t=p.Wb();p.Vb(0,"div"),p.Vb(1,"app-activity-edit",86),p.dc("closeEdit",(function(e){return p.Cc(t),p.gc(2).closeHandler(e)}))("reGetActivity",(function(e){return p.Cc(t),p.gc(2).reGetActivityHandler(e)})),p.Ub(),p.Ub()}2&t&&(p.Bb(1),p.nc("editActivity",!1))}function $(t,e){if(1&t){const t=p.Wb();p.Vb(0,"div",87),p.Vb(1,"app-activity-detail",88),p.dc("closeDetail",(function(e){return p.Cc(t),p.gc(2).closeHandler(e)})),p.Ub(),p.Ub()}if(2&t){const t=p.gc(2);p.Bb(1),p.nc("detailData",t.detailData)}}function K(t,e){if(1&t&&(p.Vb(0,"div",83),p.Lc(1,Q,2,1,"div",84),p.Lc(2,$,2,1,"div",85),p.Ub()),2&t){const t=p.gc();p.Bb(1),p.nc("ngIf","new-actvity"===t.openType),p.Bb(1),p.nc("ngIf","detail"===t.openType)}}let X=(()=>{class t{constructor(t,e,n,i,o,s,r,a,c,l,h){this._windowService=t,this._discoveryService=e,this._userService=n,this._uploadService=i,this.zone=o,this._router=s,this._titleService=r,this._activatedRoute=a,this._utility=c,this._messageDialogService=l,this._dnDialogService=h,this.albumTagFilters=[{title:"\u5168\u90e8",id:-1}],this.selectedTag=this.albumTagFilters[0],this.subLabels=[],this.selectedLabel="\u5168\u90e8\u6807\u7b7e",this.needSubLabel=!1,this.subscriptions=[],this.initialLoading=!1,this.totalItems=0,this.pageParams={page:1,size:20,key:"",tag:"",label:"",region:""},this.followParams={page:1,orderBy:0,size:10,tag:""},this.totalFollowedCount=0,this.followedUserList=[],this.isFirstLoadUsers=!0,this.isFollowListLoading=!1,this.usersBottomLine=!1,this.isLoadingMoreUsers=!1,this.bottomLine=!1,this.isLoadingMore=!1,this.lastUserId=0,this.discoveryList=[],this.followStatusList=[],this.isChangeFilter=!1,this.shadowOpen=!1,this.openType="",this.currentLocation="",this.loadAPI=new Promise(t=>{this.loadScript(),t(!0)})}loadScript(){let t=!1;const e=["https://maps.googleapis.com/maps/api/js?key=AIzaSyDVCVxGQquBn5aGAmFDCM5A_JL5lyUM5tk&libraries=places"],n=document.getElementsByTagName("script");for(let i=0;i<n.length;++i)null!=n[i].getAttribute("src")&&n[i].getAttribute("src").includes(e[0])&&(t=!0);if(!t)for(let i=0;i<e.length;i++){const t=document.createElement("script");t.src=e[i],t.type="text/javascript",t.async=!1,t.charset="utf-8",document.getElementsByTagName("head")[0].appendChild(t)}}ngOnInit(){this._titleService.setTitle("\u53d1\u73b0\u5217\u8868"),this._activatedRoute.queryParams.subscribe(t=>{this.setPageParams()}),this.subscriptions.push(this._userService.userState$.subscribe(t=>{this.user=t,this.user.id&&0===this.lastUserId&&(this.lastUserId=this.user.id?this.user.id:0,setTimeout(()=>{this.getMyFollowedUsers()},100))}),this._windowService.size$.subscribe(t=>{this.setItemsLength(t)})),setTimeout(()=>{this.getMyLocation()},1e3),this.getTags(),this.getDiscoveryList()}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}setPageParams(){this.pageParams.tag=this._activatedRoute.snapshot.queryParams.tag?this._activatedRoute.snapshot.queryParams.tag:"",this.pageParams.label=this._activatedRoute.snapshot.queryParams.label?this._activatedRoute.snapshot.queryParams.label:""}getTags(){this.subscriptions.push(this._discoveryService.getAlbumLabels().subscribe(t=>{if(this.albumTagFilters=[{title:"\u5168\u90e8\u5206\u7c7b",id:-1},...t],""!==this.pageParams.tag){const t=this.albumTagFilters.filter(t=>t.title===this.pageParams.tag)[0];t&&(this.selectedTag=t,this.getLabels())}}))}getLabels(){this.subscriptions.push(this._discoveryService.getAlbumSubLabels(this.selectedTag.title).subscribe(t=>{if(this.subLabels=t,""!==this.pageParams.label){const t=this.subLabels.filter(t=>t===this.pageParams.label)[0];t&&(this.selectedLabel=t)}}))}selectTag(t){this.isChangeFilter=!0,this.discoveryList=[],this.followStatusList=[],this.subLabels=[],this.selectedTag=t,this.needSubLabel="\u5168\u90e8\u5206\u7c7b"!==this.selectedTag.title,this.pageParams.tag="\u5168\u90e8\u5206\u7c7b"===this.selectedTag.title?"":this.selectedTag.title,this.selectedLabel="\u5168\u90e8\u6807\u7b7e",this.pageParams.label="",this.pageParams.page=1,this.getLabels(),this.getDiscoveryList(),this.editUrl()}selectLabel(t){this.isChangeFilter=!0,this.discoveryList=[],this.followStatusList=[],this.selectedLabel=t,this.pageParams.label="\u5168\u90e8\u6807\u7b7e"===this.selectedLabel?"":this.selectedLabel,this.pageParams.page=1,this.getDiscoveryList(),this.editUrl()}editUrl(){const t=this._router.createUrlTree([],{relativeTo:this._activatedRoute,queryParams:{tag:""!==this.pageParams.tag?this.pageParams.tag:null,label:""!==this.pageParams.label?this.pageParams.label:null}}).toString();this._router.navigateByUrl(t,{replaceUrl:!0})}setItemsLength(t){}getDiscoveryList(){this.isChangeFilter&&(this.initialLoading=!0),this._discoveryService.getDiscoveryListByLabel(this.pageParams).subscribe(t=>{this.discoveryList=this.discoveryList.concat(t.list),this.totalItems=t.recordCount,this.initialLoading=!1,this.isChangeFilter=!1,this.isLoadingMore=!1,this.followStatusList=this.discoveryList.map(t=>t.isAttented),this.bottomLine=t.list.length<this.pageParams.size})}getMore(){this.isLoadingMore||this.bottomLine||(this.pageParams.page+=1,this.isLoadingMore=!0,setTimeout(()=>{this.getDiscoveryList()},100))}getMyFollowedUsers(){this.isFirstLoadUsers&&(this.isFollowListLoading=!0),this.user?this._uploadService.getFollowlList(1,this.followParams.page,this.followParams.orderBy,this.followParams.size,this.followParams.tag).subscribe(t=>{if(null!=t&&t.length){const e=t[0].list.map(t=>({key:t.toUser.id,userKey:t.key,image:t.toUser.image.startsWith("/images/user/default")?"assets/"+t.toUser.image:t.toUser.image,title:t.toUser.nickName,gender:-1!==t.toUser.sex?1===t.toUser.sex?"male":"female":null,level:t.userLevel,region:t.country,signature:t.signature?t.signature:"\u6ca1\u6709\u4e2a\u6027\u6240\u4ee5\u6ca1\u6709\u7b7e\u540d",fans:t.fansNum,works:t.worksNum,like:t.sayGoodNum,isFollowed:t.attensionStatus,addTime:t.addTime,officalUp:t.isOfficalUP,taxis:t.taxis}));this.followedUserList=this.followedUserList.concat(e),this.totalFollowedCount=t[0].recordnum,this.isFollowListLoading=!1,this.isFirstLoadUsers=!1,this.isLoadingMoreUsers=!1,this.usersBottomLine=t[0].list.length<this.followParams.size}}):(this.followedUserList=[],this.totalFollowedCount=0,this.isFollowListLoading=!1)}getListByUser(t){this.pageParams.key===t&&""===this.pageParams.region||(this.pageParams.key=t,this.isChangeFilter=!0,this.discoveryList=[],this.followStatusList=[],this.subLabels=[],this.selectedTag=this.albumTagFilters[0],this.needSubLabel=!1,this.pageParams.region="",this.pageParams.tag="",this.selectedLabel="\u5168\u90e8\u6807\u7b7e",this.pageParams.label="",this.pageParams.page=1,this.getDiscoveryList(),this.editUrl())}getListByCity(){const t=this.stringToJSON(this.getCookie("last_location"));if(this.currentLocation=t?t.city:"",""===this.currentLocation)return this._messageDialogService.setState({message:"\u672a\u5b9a\u4f4d\u5230\u60a8\u7684\u57ce\u5e02\uff0c\u8bf7\u5c1d\u8bd5\u624b\u52a8\u5b9a\u4f4d\u3002"}),void this._dnDialogService.open("message-dialog");this.pageParams.region=this.currentLocation,this.pageParams.key="",this.isChangeFilter=!0,this.discoveryList=[],this.followStatusList=[],this.subLabels=[],this.selectedTag=this.albumTagFilters[0],this.needSubLabel=!1,this.pageParams.tag="",this.selectedLabel="\u5168\u90e8\u6807\u7b7e",this.pageParams.label="",this.pageParams.page=1,this.getDiscoveryList(),this.editUrl()}onReachEnd(){this.zone.run(()=>{this.getMoreFollowedUsers()})}getMoreFollowedUsers(){this.isFirstLoadUsers||this.isLoadingMoreUsers||this.usersBottomLine||(this.followParams.page+=1,this.isLoadingMoreUsers=!0,setTimeout(()=>{this.getMyFollowedUsers()},100))}getLevel(t){return{background:`url(assets/images/user-center/lv_${t}.png) no-repeat center`,"background-size":"contain"}}hasChangeFollow(t){if(t){const e=this.discoveryList.map(e=>Object.assign(Object.assign({},e),{isAttented:e.userKey+""==""+t?!e.isAttented:e.isAttented}));setTimeout(()=>{this.followStatusList=e.map(t=>t.isAttented)},100)}}openActivityEditor(){this.user.id?(this.shadowOpen=!0,this.openType="new-actvity"):this._userService.showLoginDialog(!0)}detailOpenHandler(t){1!==t.infoType&&3!==t.infoType||(this.detailData=t,this.shadowOpen=!0,this.openType="detail")}closeHandler(t){this.close()}close(){this.shadowOpen=!1,this.openType=""}reGetActivityHandler(t){}navToAlbum(){this._router.navigate(["/user/album"])}setCookie(t,e,n){var i="";if(n){var o=new Date;o.setTime(o.getTime()+24*n*60*60*1e3),i="; expires="+o.toUTCString()}var s=this._utility.GetHost("",!0),r="domain="+(s&&0==s.indexOf(".")?s:"."+s);document.cookie=t+"="+(e||"")+i+"; path=/;"+r}getCookie(t){const e=`; ${document.cookie}`.split(`; ${t}=`);if(2===e.length)return e.pop().split(";").shift()}stringToJSON(t){return t?JSON.parse(t):void 0}getMyLocation(){const t=this.stringToJSON(this.getCookie("last_location"));t?this.currentLocation=t.city:navigator.geolocation.getCurrentPosition(t=>{const e={lat:t.coords.latitude,lng:t.coords.longitude};this.latitude=e.lat,this.longitude=e.lng,this.getCityName(e)})}getCityName(t){(new google.maps.Geocoder).geocode({location:t},(t,e)=>{if("OK"===e){const e=t.find(t=>t.types.filter(t=>"sublocality_level_1"==t).length>0);if(null!=location){const t=e.address_components.find(t=>t.types.filter(t=>"sublocality_level_1"==t).length>0),n=e.address_components.find(t=>t.types.filter(t=>"locality"==t).length>0),i=e.address_components.find(t=>t.types.filter(t=>"country"==t).length>0);if(null!=t&&null!=t&&null!=i&&null!=i){const e={country:i.long_name,city:n.short_name,place:n.short_name+t.short_name,lat:this.latitude,lng:this.longitude};this.currentLocation=e.city,this.setCookie("last_location",JSON.stringify(e),1)}}}})}}return t.\u0275fac=function(e){return new(e||t)(p.Pb(l.b),p.Pb(g.a),p.Pb(d.a),p.Pb(h.a),p.Pb(p.z),p.Pb(s.d),p.Pb(a.a),p.Pb(s.a),p.Pb(u.a),p.Pb(r.a),p.Pb(c.a))},t.\u0275cmp=p.Jb({type:t,selectors:[["app-discovery-list"]],decls:43,vars:17,consts:[[1,"outer","w-100","discovery-list-page"],[1,"container","list-page-container",2,"min-height","1440px"],[1,"list-page-1"],[1,"list-filter"],[1,"list-tag-selector"],[1,"all-tag"],["class","tag-item all",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"other-tag"],["class","tag-item",3,"ngClass","click",4,"ngFor","ngForOf"],["class","list-label-selector",4,"ngIf"],[1,"list-content"],["class","loader-ctn",4,"ngIf"],["class","inner-content",4,"ngIf"],[1,"list-page-2"],[1,"fixed-container"],[1,"list-action"],[1,"action-button",3,"click"],[1,"iconfont","iconbianji","mr-2"],[1,"iconfont","icontupian","mr-2"],[1,"list-followed"],[1,"list-followed-scrollbar",3,"psYReachEnd"],["perfectscroll",""],[1,"top-cate"],[1,"cate-item",3,"ngClass","click"],[1,"cate-icon","all"],[1,"cate-icon","city"],[1,"my-followed"],[1,"followed-title"],["class","followed-count",4,"ngIf"],["class","follow-loading",4,"ngIf"],["class","d-flex justify-content-center align-items-center",4,"ngIf"],["class","followed-users",3,"click",4,"ngFor","ngForOf"],["class","text-center loading","style","padding-top: 10px;",4,"ngIf"],[2,"padding-bottom","30px"],["class","discovery-list-shadow",4,"ngIf"],[1,"tag-item","all",3,"ngClass","click"],[1,"tag-title"],[1,"tag-item",3,"ngClass","click"],[1,"list-label-selector"],[1,"all-label"],[1,"label-item","all",3,"ngClass","click"],[1,"label-title"],[1,"other-label"],["class","label-item",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"label-item",3,"ngClass","click"],[1,"loader-ctn"],[1,"inner-content"],["infiniteScroll","",3,"infiniteScrollDistance","infiniteScrollThrottle","scrolled",4,"ngIf"],["class","text-center loading",4,"ngIf"],["class","discovery-bottom-line text-center",4,"ngIf"],["infiniteScroll","",3,"infiniteScrollDistance","infiniteScrollThrottle","scrolled"],[4,"ngFor","ngForOf"],["class","outer-item-box",4,"ngIf"],[1,"outer-item-box"],[3,"type","discoveryStyle","followStatus","item","matchKey","changeFollow","onDeatilOpen"],[1,"d-flex","justify-content-center","align-items-center"],[1,"no-item"],[1,"no-item-image"],["src","assets/images/no-item.png",1,"img-path"],[1,"no-item-text"],[1,"text-center","loading"],[1,"centerload"],[1,"discovery-bottom-line","text-center"],[1,"followed-count"],[1,"follow-loading"],[1,"followed-users",3,"click"],[1,"user-container","d-flex","align-items-center",3,"ngClass"],[1,"user-avatar"],["target","_blank",3,"routerLink"],[1,"avatar-path",3,"src"],["class","offical-icon",4,"ngIf"],[1,"user-info"],[1,"info-row","d-flex","align-items-center",2,"margin-bottom","12px"],[1,"mr-2","name-text"],["class","gender mr-2",4,"ngIf"],["class","d-flex level-badges",3,"ngClass","ngStyle",4,"ngIf"],[1,"info-row"],[1,"offical-icon"],["src","./assets/images/officalUp.png?v=1",2,"width","20px"],[1,"gender","mr-2"],[1,"iconfont","icon-size",3,"ngClass"],[1,"d-flex","level-badges",3,"ngClass","ngStyle"],[1,"text-center","loading",2,"padding-top","10px"],[1,"discovery-list-shadow"],[4,"ngIf"],["style","height: inherit;",4,"ngIf"],[3,"editActivity","editObj","closeEdit","reGetActivity"],[2,"height","inherit"],[2,"height","inherit",3,"detailData","closeDetail"]],template:function(t,e){1&t&&(p.Vb(0,"div",0),p.Vb(1,"div",1),p.Vb(2,"div",2),p.Vb(3,"div",3),p.Vb(4,"div",4),p.Vb(5,"div",5),p.Lc(6,w,3,4,"div",6),p.Ub(),p.Vb(7,"div",7),p.Lc(8,O,3,4,"div",8),p.Ub(),p.Ub(),p.Lc(9,k,7,4,"div",9),p.Ub(),p.Vb(10,"div",10),p.Lc(11,S,2,0,"div",11),p.Lc(12,V,5,4,"div",12),p.Ub(),p.Ub(),p.Vb(13,"div",13),p.Vb(14,"div",14),p.Vb(15,"div",15),p.Vb(16,"div",16),p.dc("click",(function(t){return e.openActivityEditor()})),p.Qb(17,"i",17),p.Nc(18," \u53d1\u52a8\u6001 "),p.Ub(),p.Vb(19,"div",16),p.dc("click",(function(t){return e.navToAlbum()})),p.Qb(20,"i",18),p.Nc(21," \u521b\u5efa\u76f8\u518c "),p.Ub(),p.Ub(),p.Vb(22,"div",19),p.Vb(23,"perfect-scrollbar",20,21),p.dc("psYReachEnd",(function(t){return e.onReachEnd()})),p.Vb(25,"div",22),p.Vb(26,"div",23),p.dc("click",(function(t){return e.getListByUser("")})),p.Qb(27,"div",24),p.Nc(28," \u5168\u90e8\u53d1\u73b0 "),p.Ub(),p.Vb(29,"div",23),p.dc("click",(function(t){return e.getListByCity()})),p.Qb(30,"div",25),p.Nc(31," \u540c\u57ce "),p.Ub(),p.Ub(),p.Vb(32,"div",26),p.Vb(33,"div",27),p.Nc(34," \u6211\u5173\u6ce8\u7684\u4eba "),p.Lc(35,U,2,1,"span",28),p.Ub(),p.Lc(36,D,2,0,"div",29),p.Lc(37,E,6,0,"div",30),p.Lc(38,W,16,17,"div",31),p.Ub(),p.Lc(39,q,5,0,"div",32),p.Ub(),p.Ub(),p.Ub(),p.Ub(),p.Ub(),p.Ub(),p.Qb(40,"div",33),p.Qb(41,"app-footer"),p.Lc(42,K,3,2,"div",34)),2&t&&(p.Bb(6),p.nc("ngForOf",e.albumTagFilters.slice(0,1)),p.Bb(2),p.nc("ngForOf",e.albumTagFilters.slice(1)),p.Bb(1),p.nc("ngIf",e.subLabels.length>0||e.needSubLabel),p.Bb(2),p.nc("ngIf",e.initialLoading),p.Bb(1),p.nc("ngIf",!e.initialLoading),p.Bb(14),p.nc("ngClass",p.sc(13,P,""===e.pageParams.key&&""===e.pageParams.region)),p.Bb(3),p.nc("ngClass",p.sc(15,P,""===e.pageParams.key&&""!==e.pageParams.region)),p.Bb(6),p.nc("ngIf",!e.isFollowListLoading),p.Bb(1),p.nc("ngIf",e.isFollowListLoading),p.Bb(1),p.nc("ngIf",!e.isFollowListLoading&&0===e.totalFollowedCount),p.Bb(1),p.nc("ngForOf",e.followedUserList),p.Bb(1),p.nc("ngIf",0!==e.totalFollowedCount&&e.isLoadingMoreUsers),p.Bb(3),p.nc("ngIf",e.shadowOpen))},directives:[i.m,i.n,f.b,i.l,b.a,m.a,v.a,y.a,s.g,i.o,C.a,_.a],pipes:[x.b],styles:['.outer[_ngcontent-%COMP%]{padding-top:60px;font-size:14px}.light[_nghost-%COMP%]   .outer[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .outer[_ngcontent-%COMP%]{background-color:#fafafa!important}.list-page-container[_ngcontent-%COMP%]{width:100%;display:-webkit-box;display:flex;-webkit-box-pack:justify;justify-content:space-between;margin-top:35px}.light[_nghost-%COMP%]   .list-page-container[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .list-page-container[_ngcontent-%COMP%]{background-color:#fafafa}.list-page-2[_ngcontent-%COMP%]{width:390px;height:auto;margin-left:15px}.fixed-container[_ngcontent-%COMP%]{width:inherit}.list-action[_ngcontent-%COMP%]{-webkit-box-pack:justify;justify-content:space-between;margin-bottom:15px}.action-button[_ngcontent-%COMP%], .list-action[_ngcontent-%COMP%]{display:-webkit-box;display:flex}.action-button[_ngcontent-%COMP%]{width:188px;height:40px;color:#fff;background:#666bc4;background:-webkit-gradient(linear,left top,right top,color-stop(21%,#666bc4),color-stop(71%,#4d52b4));background:linear-gradient(90deg,#666bc4 21%,#4d52b4 71%);font-size:15px;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;cursor:pointer}.action-button[_ngcontent-%COMP%]   .iconfont.iconbianji[_ngcontent-%COMP%]{font-size:25px}.action-button[_ngcontent-%COMP%]   .iconfont.icontupian[_ngcontent-%COMP%]{font-size:30px}.action-button[_ngcontent-%COMP%]:hover{background:#666bc4}.list-followed[_ngcontent-%COMP%]{width:inherit;height:90vh;background-color:#1c1d2f;padding:16px 0 16px 8px}.light[_nghost-%COMP%]   .list-followed[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .list-followed[_ngcontent-%COMP%]{background-color:#fff}.list-followed[_ngcontent-%COMP%]   .list-followed-scrollbar[_ngcontent-%COMP%]{height:inherit}.top-cate[_ngcontent-%COMP%]{margin-bottom:15px}.top-cate[_ngcontent-%COMP%]   .cate-item[_ngcontent-%COMP%]{width:368px;height:90px;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;color:hsla(0,0%,100%,.7);font-size:15px;cursor:pointer;padding-left:25px}.light[_nghost-%COMP%]   .top-cate[_ngcontent-%COMP%]   .cate-item[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .top-cate[_ngcontent-%COMP%]   .cate-item[_ngcontent-%COMP%]{color:#888}.top-cate[_ngcontent-%COMP%]   .cate-item[_ngcontent-%COMP%]:hover{background-color:#2b2c3a}.light[_nghost-%COMP%]   .top-cate[_ngcontent-%COMP%]   .cate-item[_ngcontent-%COMP%]:hover, .light   [_nghost-%COMP%]   .top-cate[_ngcontent-%COMP%]   .cate-item[_ngcontent-%COMP%]:hover{background-color:#eee}.top-cate[_ngcontent-%COMP%]   .cate-item.active[_ngcontent-%COMP%]{background-color:#2b2c3a}.light[_nghost-%COMP%]   .top-cate[_ngcontent-%COMP%]   .cate-item.active[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .top-cate[_ngcontent-%COMP%]   .cate-item.active[_ngcontent-%COMP%]{background-color:#eee}.top-cate[_ngcontent-%COMP%]   .cate-item[_ngcontent-%COMP%]   .cate-icon[_ngcontent-%COMP%]{width:70px;height:70px;border-radius:50%;margin-right:30px}.top-cate[_ngcontent-%COMP%]   .cate-item[_ngcontent-%COMP%]   .cate-icon.all[_ngcontent-%COMP%]{background-image:url(/assets/images/discovery/all.png?v=2);background-repeat:no-repeat;background-position:50%}.top-cate[_ngcontent-%COMP%]   .cate-item[_ngcontent-%COMP%]   .cate-icon.city[_ngcontent-%COMP%]{background-image:url(/assets/images/discovery/local.png?v=2);background-repeat:no-repeat;background-position:50%}.follow-loading[_ngcontent-%COMP%]{padding-top:5em}.my-followed[_ngcontent-%COMP%]{width:368px}.my-followed[_ngcontent-%COMP%]   .followed-title[_ngcontent-%COMP%]{padding-left:25px;color:#fff;font-size:22px;margin-bottom:15px}.light[_nghost-%COMP%]   .my-followed[_ngcontent-%COMP%]   .followed-title[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .my-followed[_ngcontent-%COMP%]   .followed-title[_ngcontent-%COMP%]{color:#333}.my-followed[_ngcontent-%COMP%]   .followed-title[_ngcontent-%COMP%]   .followed-count[_ngcontent-%COMP%]{font-size:15px}.followed-users[_ngcontent-%COMP%]   .user-container[_ngcontent-%COMP%]{padding-left:25px;width:inherit;height:100px;position:relative;cursor:pointer}.followed-users[_ngcontent-%COMP%]   .user-container[_ngcontent-%COMP%]:hover{background-color:#2b2c3a}.light[_nghost-%COMP%]   .followed-users[_ngcontent-%COMP%]   .user-container[_ngcontent-%COMP%]:hover, .light   [_nghost-%COMP%]   .followed-users[_ngcontent-%COMP%]   .user-container[_ngcontent-%COMP%]:hover{background-color:#eee}.followed-users[_ngcontent-%COMP%]   .user-container.active[_ngcontent-%COMP%]{background-color:#2b2c3a}.light[_nghost-%COMP%]   .followed-users[_ngcontent-%COMP%]   .user-container.active[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .followed-users[_ngcontent-%COMP%]   .user-container.active[_ngcontent-%COMP%]{background-color:#eee}.user-avatar[_ngcontent-%COMP%]{width:68px;height:68px;overflow:hidden;border-radius:50%;margin-right:30px}.offical-icon[_ngcontent-%COMP%]{position:absolute;bottom:15px;left:75px}.avatar-path[_ngcontent-%COMP%]{width:100%;height:100%}.info-row[_ngcontent-%COMP%]{width:245px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;color:hsla(0,0%,100%,.4)}.light[_nghost-%COMP%]   .info-row[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .info-row[_ngcontent-%COMP%]{color:#888}.name-text[_ngcontent-%COMP%]{color:hsla(0,0%,100%,.7);font-size:16px;max-width:150px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.light[_nghost-%COMP%]   .name-text[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .name-text[_ngcontent-%COMP%]{color:#333}.name-text[_ngcontent-%COMP%]:hover{color:#00c0ff!important}.icon-size[_ngcontent-%COMP%]{font-size:16px;margin-bottom:1px}.level-badges[_ngcontent-%COMP%]{margin-right:.5rem;width:36px;height:18px}.level-badges.maxLv[_ngcontent-%COMP%]{width:54px;height:18px}.list-page-1[_ngcontent-%COMP%]{width:calc(100% - 405px);height:auto}.list-page-1[_ngcontent-%COMP%]   .list-filter[_ngcontent-%COMP%]{margin-bottom:15px;background-color:#1c1d2f}.light[_nghost-%COMP%]   .list-page-1[_ngcontent-%COMP%]   .list-filter[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .list-page-1[_ngcontent-%COMP%]   .list-filter[_ngcontent-%COMP%]{background-color:#fff}.list-page-1[_ngcontent-%COMP%]   .list-tag-selector[_ngcontent-%COMP%]{width:auto;min-height:21px;padding:15px 28px 0;background-color:#1c1d2f;display:-webkit-box;display:flex}.light[_nghost-%COMP%]   .list-page-1[_ngcontent-%COMP%]   .list-tag-selector[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .list-page-1[_ngcontent-%COMP%]   .list-tag-selector[_ngcontent-%COMP%]{background-color:#fff}.list-page-1[_ngcontent-%COMP%]   .list-label-selector[_ngcontent-%COMP%]{width:auto;min-height:21px;padding:0 28px;background-color:#1c1d2f;display:-webkit-box;display:flex}.light[_nghost-%COMP%]   .list-page-1[_ngcontent-%COMP%]   .list-label-selector[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .list-page-1[_ngcontent-%COMP%]   .list-label-selector[_ngcontent-%COMP%]{background-color:#fff}.other-tag[_ngcontent-%COMP%]{display:-webkit-box;display:flex;flex-wrap:wrap}.tag-item[_ngcontent-%COMP%]{width:60px;height:21px;line-height:23px;text-align:center;font-size:13px;color:hsla(0,0%,100%,.7);cursor:pointer;margin:0 5px 15px;white-space:nowrap}.light[_nghost-%COMP%]   .tag-item[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .tag-item[_ngcontent-%COMP%]{color:#888}.tag-item[_ngcontent-%COMP%]:hover{color:#fff}.tag-item.active[_ngcontent-%COMP%]{color:#fff!important;background-color:#00c0ff!important}.tag-item.all[_ngcontent-%COMP%]{margin-left:0!important}.other-label[_ngcontent-%COMP%]{display:-webkit-box;display:flex;flex-wrap:wrap}.label-item[_ngcontent-%COMP%]{width:60px;height:21px;line-height:23px;text-align:center;font-size:13px;color:hsla(0,0%,100%,.7);cursor:pointer;margin:0 5px 15px;white-space:nowrap}.light[_nghost-%COMP%]   .label-item[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .label-item[_ngcontent-%COMP%]{color:#888}.label-item[_ngcontent-%COMP%]:hover{color:#fff}.label-item.active[_ngcontent-%COMP%]{color:#fff!important;background-color:#00c0ff!important}.label-item.all[_ngcontent-%COMP%]{margin-left:0!important}.active-sign[_ngcontent-%COMP%]{position:relative;width:50px;height:2px;background-color:#00c0ff;margin:-2px auto 0}.active-sign[_ngcontent-%COMP%]   .active-sign-triangle[_ngcontent-%COMP%]{position:absolute;top:-3px;left:23px;border-color:transparent transparent #00c0ff;border-style:solid;border-width:0 4px 4px}.loader-ctn[_ngcontent-%COMP%]{padding:10em}.no-item[_ngcontent-%COMP%]{padding-top:70px}.no-item-image[_ngcontent-%COMP%]{width:170px;margin-bottom:5px}.no-item-image[_ngcontent-%COMP%]   .img-path[_ngcontent-%COMP%]{width:100%}.no-item-text[_ngcontent-%COMP%]{font-size:16px;text-align:center;color:hsla(0,0%,100%,.4)}.light[_nghost-%COMP%]   .no-item-text[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .no-item-text[_ngcontent-%COMP%]{color:#888}.outer-item-box[_ngcontent-%COMP%]{padding:28px 25px 0 28px;background-color:#1c1d2f;margin-bottom:15px}.light[_nghost-%COMP%]   .outer-item-box[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .outer-item-box[_ngcontent-%COMP%]{background-color:#fff}.loading[_ngcontent-%COMP%]{color:hsla(0,0%,100%,.7)}.light[_nghost-%COMP%]   .loading[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .loading[_ngcontent-%COMP%]{color:#888}.centerload[_ngcontent-%COMP%]{display:inline-block;position:relative;width:32px;height:32px}.centerload[_ngcontent-%COMP%] > app-loader-spinner[_ngcontent-%COMP%]{margin-top:.5em;position:absolute;left:-1em;top:1.5em}.discovery-bottom-line[_ngcontent-%COMP%]{position:relative;z-index:0;font-size:12px;color:hsla(0,0%,100%,.45)}.light[_nghost-%COMP%]   .discovery-bottom-line[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .discovery-bottom-line[_ngcontent-%COMP%]{color:#888}.discovery-bottom-line[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;padding:0 1em;background-color:#090b21}.light[_nghost-%COMP%]   .discovery-bottom-line[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .discovery-bottom-line[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background-color:#fff}.discovery-bottom-line[_ngcontent-%COMP%]:before{content:"";border-top:1px solid hsla(0,0%,40%,.2);margin:0 auto;position:absolute;top:40%;left:0;right:0;bottom:0;width:100%;z-index:-1}.light[_nghost-%COMP%]   .discovery-bottom-line[_ngcontent-%COMP%]:before, .light   [_nghost-%COMP%]   .discovery-bottom-line[_ngcontent-%COMP%]:before{border-top-color:!important}.discovery-bottom-line.in-child[_ngcontent-%COMP%]{margin:0 5px 30px 15px}.discovery-bottom-line.in-child[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background-color:#171928}.light[_nghost-%COMP%]   .discovery-bottom-line.in-child[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .discovery-bottom-line.in-child[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background-color:#f8f8f8}.discovery-list-shadow[_ngcontent-%COMP%]{position:fixed;background-color:rgba(0,0,0,.7);width:100%;height:calc(100% + 1px);left:0;top:0;right:0;bottom:0;z-index:9999}']}),t})();var Y=n("1XPh"),Z=n("7DwK"),J=n("dQz7"),tt=n("1YUx");function et(t,e){if(1&t){const t=p.Wb();p.Vb(0,"app-discovery-meta",29),p.dc("onDeatilOpen",(function(e){return p.Cc(t),p.gc(2).detailOpenHandler(e)})),p.Ub()}if(2&t){const t=p.gc().$implicit;p.nc("item",t)}}function nt(t,e){1&t&&(p.Vb(0,"div",30),p.Qb(1,"app-loader-spinner"),p.Ub())}const it=function(t,e){return{"hidden-lg":t,"hidden-md hidden-sm":e}};function ot(t,e){if(1&t&&(p.Vb(0,"div",26),p.Lc(1,et,1,1,"app-discovery-meta",27),p.Lc(2,nt,2,0,"div",28),p.Ub()),2&t){const t=e.index,n=p.gc();p.nc("ngClass",p.tc(3,it,t>=14,t>=12)),p.Bb(1),p.nc("ngIf",!n.isHotLoading),p.Bb(1),p.nc("ngIf",n.isHotLoading)}}function st(t,e){if(1&t&&(p.Vb(0,"div",31),p.Qb(1,"app-svideo-publisher",32),p.Ub()),2&t){const t=e.$implicit,n=e.index;p.nc("ngClass",p.tc(2,it,n>=7,n>=6)),p.Bb(1),p.nc("item",t)}}const rt=function(t,e,n){return{"hidden-xl":t,"hidden-lg":e,"hidden-md hidden-sm":n}},at=function(){return["/discovery/list"]},ct=function(t,e){return{tag:t,label:e}};function lt(t,e){if(1&t&&(p.Vb(0,"div",41),p.Vb(1,"a",42),p.Nc(2),p.Ub(),p.Ub()),2&t){const t=e.$implicit,n=e.index,i=p.gc(2),o=i.index,s=i.$implicit;p.nc("ngClass",p.uc(4,rt,0==o&&n>=20||o>0&&n>=8,0==o&&n>=18||o>0&&n>=8,0==o&&n>=13)),p.Bb(1),p.nc("routerLink",p.rc(8,at))("queryParams",p.tc(9,ct,s.group,t)),p.Bb(1),p.Pc(" ",t," ")}}function ht(t,e){if(1&t){const t=p.Wb();p.Vb(0,"app-discovery-meta",29),p.dc("onDeatilOpen",(function(e){return p.Cc(t),p.gc(4).detailOpenHandler(e)})),p.Ub()}if(2&t){const t=p.gc().$implicit;p.nc("item",t)}}function dt(t,e){1&t&&(p.Vb(0,"div",30),p.Qb(1,"app-loader-spinner"),p.Ub())}function ut(t,e){if(1&t&&(p.Vb(0,"div",26),p.Lc(1,ht,1,1,"app-discovery-meta",27),p.Lc(2,dt,2,0,"div",28),p.Ub()),2&t){const t=e.index,n=p.gc(2).index,i=p.gc();p.nc("ngClass",p.tc(3,it,0==n&&t>=14||n>0&&t>=7,0==n&&t>=12||n>0&&t>=6)),p.Bb(1),p.nc("ngIf",n!==i.loadingSubCatIndex),p.Bb(1),p.nc("ngIf",n===i.loadingSubCatIndex)}}const gt=function(t){return{"all-width":t}},pt=function(t){return{tag:t}},ft=function(t,e){return{"single-row":t,"first-row":e}};function bt(t,e){if(1&t){const t=p.Wb();p.Vb(0,"div",34),p.Vb(1,"div",35),p.Vb(2,"div",11),p.Qb(3,"div",18),p.Vb(4,"div",11),p.Vb(5,"h3",12),p.Vb(6,"a",36),p.Vb(7,"span"),p.Nc(8),p.Ub(),p.Ub(),p.Ub(),p.Vb(9,"div",37),p.dc("click",(function(e){p.Cc(t);const n=p.gc(),i=n.$implicit,o=n.index;return p.gc().changeSubCat(i.group,o)})),p.Qb(10,"i",14),p.Nc(11," \u6362\u4e00\u6ce2 "),p.Ub(),p.Lc(12,lt,3,12,"div",38),p.Ub(),p.Ub(),p.Ub(),p.Vb(13,"div",39),p.Vb(14,"div",40),p.Lc(15,ut,3,6,"div",16),p.hc(16,"slice"),p.Ub(),p.Ub(),p.Ub()}if(2&t){const t=p.gc(),e=t.index,n=t.$implicit;p.nc("ngClass",p.sc(11,gt,0===e)),p.Bb(6),p.nc("routerLink",p.rc(13,at))("queryParams",p.sc(14,pt,n.group)),p.Bb(2),p.Oc(n.group),p.Bb(4),p.nc("ngForOf",null==n?null:n.tags),p.Bb(2),p.nc("ngClass",p.tc(16,ft,e>6,0===e)),p.Bb(1),p.nc("ngForOf",p.kc(16,7,null==n?null:n.items,0,16))}}function mt(t,e){if(1&t&&(p.Tb(0),p.Lc(1,bt,17,19,"div",33),p.Sb()),2&t){const t=e.$implicit;p.Bb(1),p.nc("ngIf",!!t)}}function vt(t,e){if(1&t){const t=p.Wb();p.Vb(0,"div"),p.Vb(1,"app-activity-edit",46),p.dc("closeEdit",(function(e){return p.Cc(t),p.gc(2).closeHandler(e)}))("reGetActivity",(function(e){return p.Cc(t),p.gc(2).reGetActivityHandler(e)})),p.Ub(),p.Ub()}2&t&&(p.Bb(1),p.nc("editActivity",!1))}function yt(t,e){if(1&t){const t=p.Wb();p.Vb(0,"div",47),p.Vb(1,"app-activity-detail",48),p.dc("closeDetail",(function(e){return p.Cc(t),p.gc(2).closeHandler(e)})),p.Ub(),p.Ub()}if(2&t){const t=p.gc(2);p.Bb(1),p.nc("detailData",t.detailData)}}function Ct(t,e){if(1&t&&(p.Vb(0,"div",43),p.Lc(1,vt,2,1,"div",44),p.Lc(2,yt,2,1,"div",45),p.Ub()),2&t){const t=p.gc();p.Bb(1),p.nc("ngIf","new-actvity"===t.openType),p.Bb(1),p.nc("ngIf","detail"===t.openType)}}let _t=(()=>{class t{constructor(t,e,n,i,o){this._windowService=t,this._seo=e,this._discoveryService=n,this._router=i,this._userService=o,this.publishers=[],this.publisherLength=8,this.hot=[],this.hotLength=16,this.hotEmptyList=[],this.subLists=[],this.subHotLength=8,this.firstSubHotLength=16,this.firstSubLabelLength=21,this.subHotEmptyList=[],this.tags=[],this.isHotLoading=!1,this.loadingSubCatIndex=void 0,this.subscrptions=[],this.shadowOpen=!1,this.openType="",this.ggPosition=Y.b}ngOnDestroy(){this.subscrptions.forEach(t=>t.unsubscribe())}ngOnInit(){this.loadData(),this.subscrptions.push(this._userService.userState$.subscribe(t=>{this.user=t}))}loadData(){this._discoveryService.getHotUsers(8).subscribe(t=>{this.publishers=t[0].map(t=>({fansCount:t.fansCount,headImg:t.headImg,isAttend:t.isAttented,isOfficalUP:t.isUp,key:t.userKey,name:t.nickName,sex:t.sex,slogon:t.sign,videoCount:t.workNum}))}),this._discoveryService.getHotAlbums(16,!1).subscribe(t=>{this.hot=t}),this._discoveryService.getSubAlbumList(16).subscribe(t=>{const e=t.map(t=>{if(t.list.length>0)return{group:t.parentName,tags:""!==t.subName?t.subName.split(","):[],items:t.list}}).filter(t=>void 0!==t),n=this.group(e,4);for(let i=0;i<n.length;i++)setTimeout(()=>{this.subLists=[...this.subLists,...n[i]]},0===i?100:1e3*i)}),this.hotEmptyList=[...Array(this.hotLength).keys()],this.subHotEmptyList=[...Array(this.subHotLength).keys()],this._seo.setTitle("\u53d1\u73b0")}group(t,e){let n=0,i=[];for(;n<t.length;)i.push(t.slice(n,n+=e));return i}setItemsLength(t){}changeHots(){this.isHotLoading||(this.isHotLoading=!0,this._discoveryService.getHotAlbums(this.hotLength,!0).subscribe(t=>{this.hot=t,setTimeout(()=>{this.isHotLoading=!1},300)}))}detailOpenHandler(t){3!==t.infoType&&1!==t.infoType&&0!==t.infoType||(this.detailData=t,this.shadowOpen=!0,this.openType="detail")}closeHandler(t){this.close()}close(){this.shadowOpen=!1,this.openType=""}changeSubCat(t,e){this.loadingSubCatIndex=e,this._discoveryService.getSubAlbumRndList(t).subscribe(t=>{if(t.length>0){const n={group:t[0].parentName,tags:""!==t[0].subName?t[0].subName.split(","):[],items:t[0].list};this.subLists[e]=n,this.loadingSubCatIndex=void 0}})}navToAlbum(){this._router.navigate(["/user/album"])}openActivityEditor(){this.user.id?(this.shadowOpen=!0,this.openType="new-actvity"):this._userService.showLoginDialog(!0)}reGetActivityHandler(t){}}return t.\u0275fac=function(e){return new(e||t)(p.Pb(l.b),p.Pb(a.a),p.Pb(g.a),p.Pb(s.d),p.Pb(d.a))},t.\u0275cmp=p.Jb({type:t,selectors:[["app-discovery"]],decls:36,vars:10,consts:[[1,"outer","w-100","discovery-page"],[1,"container",2,"min-height","2449px"],[1,"block-top"],[1,"block-banner"],[1,"d-block","w-100","h-100",3,"ggPosition","code"],[1,"block-actions"],[1,"block-action-button","first",3,"click"],[1,"iconfont","iconbianji","mr-2"],[1,"block-action-button",3,"click"],[1,"iconfont","icontupian","mr-2"],[1,"block-title","first"],[1,"d-flex","align-items-center"],[1,"d-inline","mr-3"],[1,"mr-3","d-flex","align-items-center","try-button",3,"click"],[1,"iconfont","iconhuanyihuan"],[1,"meta-container"],["class","meta-box",3,"ngClass",4,"ngFor","ngForOf"],[1,"block-title","second"],[1,"logo-icon"],[1,"d-inline","mr-4"],[1,"recommand-publishers"],["class","recommand-publisher",3,"ngClass",4,"ngFor","ngForOf"],[1,"subCate-content"],[4,"ngFor","ngForOf"],[2,"padding-bottom","30px"],["class","discovery-shadow",4,"ngIf"],[1,"meta-box",3,"ngClass"],[3,"item","onDeatilOpen",4,"ngIf"],["class","loader-ctn",4,"ngIf"],[3,"item","onDeatilOpen"],[1,"loader-ctn"],[1,"recommand-publisher",3,"ngClass"],[3,"item"],["class","content-wdith",3,"ngClass",4,"ngIf"],[1,"content-wdith",3,"ngClass"],[1,"block-title"],[3,"routerLink","queryParams"],[1,"mr-4","d-flex","align-items-center","try-button",2,"padding-top","1px",3,"click"],["class","mr-3",3,"ngClass",4,"ngFor","ngForOf"],[1,"d-flex"],[1,"meta-container","subCate",3,"ngClass"],[1,"mr-3",3,"ngClass"],[1,"top-link",3,"routerLink","queryParams"],[1,"discovery-shadow"],[4,"ngIf"],["style","height: inherit;",4,"ngIf"],[3,"editActivity","editObj","closeEdit","reGetActivity"],[2,"height","inherit"],[2,"height","inherit",3,"detailData","closeDetail"]],template:function(t,e){1&t&&(p.Vb(0,"div",0),p.Vb(1,"div",1),p.Vb(2,"div",2),p.Vb(3,"div",3),p.Qb(4,"app-gg-block",4),p.Ub(),p.Vb(5,"div",5),p.Vb(6,"div",6),p.dc("click",(function(t){return e.openActivityEditor()})),p.Qb(7,"i",7),p.Nc(8," \u53d1\u52a8\u6001 "),p.Ub(),p.Vb(9,"div",8),p.dc("click",(function(t){return e.navToAlbum()})),p.Qb(10,"i",9),p.Nc(11," \u521b\u5efa\u76f8\u518c "),p.Ub(),p.Ub(),p.Ub(),p.Vb(12,"div",10),p.Vb(13,"div",11),p.Vb(14,"h3",12),p.Vb(15,"span"),p.Nc(16,"\u70ed\u95e8"),p.Ub(),p.Ub(),p.Vb(17,"div",13),p.dc("click",(function(t){return e.changeHots()})),p.Qb(18,"i",14),p.Nc(19," \u6362\u4e00\u6ce2 "),p.Ub(),p.Ub(),p.Ub(),p.Vb(20,"div",15),p.Lc(21,ot,3,6,"div",16),p.hc(22,"slice"),p.Ub(),p.Vb(23,"div",17),p.Vb(24,"div",11),p.Qb(25,"div",18),p.Vb(26,"h3",19),p.Vb(27,"span"),p.Nc(28,"\u4eba\u6c14\u7528\u6237\u63a8\u8350"),p.Ub(),p.Ub(),p.Ub(),p.Ub(),p.Vb(29,"div",20),p.Lc(30,st,2,5,"div",21),p.Ub(),p.Vb(31,"div",22),p.Lc(32,mt,2,1,"ng-container",23),p.Ub(),p.Ub(),p.Ub(),p.Qb(33,"div",24),p.Qb(34,"app-footer"),p.Lc(35,Ct,3,2,"div",25)),2&t&&(p.Bb(4),p.nc("ggPosition",e.ggPosition.DiscoveryPageContent)("code","H4"),p.Bb(17),p.nc("ngForOf",p.kc(22,6,e.hot,0,16)),p.Bb(9),p.nc("ngForOf",e.publishers),p.Bb(2),p.nc("ngForOf",e.subLists),p.Bb(3),p.nc("ngIf",e.shadowOpen))},directives:[Z.a,i.m,b.a,i.n,i.l,J.a,m.a,tt.a,s.g,C.a,_.a],pipes:[i.v],styles:[".outer[_ngcontent-%COMP%]{padding-top:60px;font-size:14px}.block-top[_ngcontent-%COMP%]{padding-top:15px;display:-webkit-box;display:flex;-webkit-box-pack:justify;justify-content:space-between}.block-banner[_ngcontent-%COMP%]{width:calc(100% - 222px);height:134px;overflow:hidden;background-color:#1c1d2f}.light[_nghost-%COMP%]   .block-banner[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .block-banner[_ngcontent-%COMP%]{background-color:#fafafa}.block-actions[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.block-action-button[_ngcontent-%COMP%]{width:216px;height:64px;color:#fff;background:#666bc4;background:-webkit-gradient(linear,left top,right top,color-stop(21%,#666bc4),color-stop(71%,#4d52b4));background:linear-gradient(90deg,#666bc4 21%,#4d52b4 71%);font-size:15px;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;cursor:pointer}.block-action-button.first[_ngcontent-%COMP%]{margin-bottom:6px}.block-action-button[_ngcontent-%COMP%]   .iconfont.iconbianji[_ngcontent-%COMP%]{font-size:25px}.block-action-button[_ngcontent-%COMP%]   .iconfont.icontupian[_ngcontent-%COMP%]{font-size:30px}.block-action-button[_ngcontent-%COMP%]:hover{background:#666bc4}.block-title[_ngcontent-%COMP%]{padding:35px 0}.block-title.first[_ngcontent-%COMP%]{padding:28px 0 24px}.logo-icon[_ngcontent-%COMP%]{background:url(/assets/images/player_logo.png) no-repeat 50%;background-size:contain;width:24px;height:24px;margin-right:1.2em}.meta-box[_ngcontent-%COMP%]{text-align:center;width:216px;height:286px;margin-bottom:6px;position:relative;background-color:#1c1d2f}.light[_nghost-%COMP%]   .meta-box[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .meta-box[_ngcontent-%COMP%]{background-color:#fafafa}.meta-box.empty[_ngcontent-%COMP%]{height:0!important;margin-bottom:0!important}.meta-box.small[_ngcontent-%COMP%]{width:204px;height:270px}.loader-ctn[_ngcontent-%COMP%]{position:absolute;top:0;right:0;bottom:0;left:0;-webkit-box-pack:center;justify-content:center}.loader-ctn[_ngcontent-%COMP%], .meta-container[_ngcontent-%COMP%]{display:-webkit-box;display:flex}.meta-container[_ngcontent-%COMP%]{width:100%;height:579px;flex-wrap:wrap;-webkit-box-pack:justify;justify-content:space-between}.meta-container.single-row[_ngcontent-%COMP%]{height:287px;overflow:hidden}@media (max-width:1678px){.meta-container.first-row[_ngcontent-%COMP%]{height:564px!important}}@media (min-width:1679px){.meta-container.first-row[_ngcontent-%COMP%]{height:579px!important}}.subCate-content[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;flex-wrap:wrap;-webkit-box-pack:justify;justify-content:space-between}.content-wdith[_ngcontent-%COMP%]{width:calc(50% - 3px)}.content-wdith.all-width[_ngcontent-%COMP%]{width:100%}.recommand-publishers[_ngcontent-%COMP%]{width:100%;display:-webkit-box;display:flex;-webkit-box-pack:justify;justify-content:space-between;margin-bottom:15px}.recommand-publisher[_ngcontent-%COMP%]{text-align:center;width:216px;height:294px;position:relative;background-color:#1c1d2f;padding:15px 0}.light[_nghost-%COMP%]   .recommand-publisher[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .recommand-publisher[_ngcontent-%COMP%]{background-color:#fafafa}.recommand-publisher.small[_ngcontent-%COMP%]{width:207px;height:294px}@media (max-width:1678px){.recommand-publisher[_ngcontent-%COMP%]{width:207px;height:294px}}h3[_ngcontent-%COMP%]{color:#fff}.light[_nghost-%COMP%]   h3[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   h3[_ngcontent-%COMP%]{color:#333}.top-link[_ngcontent-%COMP%]{color:hsla(0,0%,100%,.7)!important;background-color:#1c1d2f!important;-webkit-transition:unset!important;transition:unset!important;width:60px;height:25px;display:inline-block;font-size:12px;text-align:center;line-height:26px;cursor:pointer}.light[_nghost-%COMP%]   .top-link[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .top-link[_ngcontent-%COMP%]{color:#888!important;background-color:#f4f4f4!important}.top-link[_ngcontent-%COMP%]:hover{background-color:#00c0ff!important}.top-link[_ngcontent-%COMP%]:hover, .light[_nghost-%COMP%]   .top-link[_ngcontent-%COMP%]:hover, .light   [_nghost-%COMP%]   .top-link[_ngcontent-%COMP%]:hover{color:#fff!important}.light[_nghost-%COMP%]   .top-link[_ngcontent-%COMP%]:hover, .light   [_nghost-%COMP%]   .top-link[_ngcontent-%COMP%]:hover{background-color:#00c0ff!important}.try-button[_ngcontent-%COMP%]{color:#00c0ff;font-size:12px;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.try-button[_ngcontent-%COMP%]   .iconfont[_ngcontent-%COMP%]{font-size:20px;margin-right:.2rem}@media (max-width:1439px){.meta-container[_ngcontent-%COMP%]{height:564px}.subCate-content[_ngcontent-%COMP%]{-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.content-wdith[_ngcontent-%COMP%]{width:100%}.meta-container.subCate[_ngcontent-%COMP%]{height:284px}.block-banner[_ngcontent-%COMP%]{width:calc(100% - 213px)}}@media (min-width:1440px) and (max-width:1678px){.meta-container[_ngcontent-%COMP%]{height:564px}.subCate-content[_ngcontent-%COMP%]{-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.content-wdith[_ngcontent-%COMP%]{width:100%}.meta-container.subCate[_ngcontent-%COMP%]{height:284px}.block-banner[_ngcontent-%COMP%]{width:calc(100% - 214px)}}@media (min-width:1679px) and (max-width:1919px){.meta-container[_ngcontent-%COMP%]{height:579px}.subCate-content[_ngcontent-%COMP%]{-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.content-wdith[_ngcontent-%COMP%]{width:100%}.meta-container.subCate[_ngcontent-%COMP%]{height:284px}.block-banner[_ngcontent-%COMP%]{width:calc(100% - 221px)}}@media (max-width:1678px){.meta-box[_ngcontent-%COMP%]{height:274px}.block-action-button[_ngcontent-%COMP%], .meta-box[_ngcontent-%COMP%]{width:207px}}@media (min-width:1440px) and (max-width:1919px){.meta-container[_ngcontent-%COMP%]{margin-bottom:12px}}.discovery-shadow[_ngcontent-%COMP%]{position:fixed;background-color:rgba(0,0,0,.7);width:100%;height:calc(100% + 1px);left:0;top:0;right:0;bottom:0;z-index:9999}"]}),t})();const xt=[{path:"",component:_t},{path:"list",component:X},{path:"**",component:_t}];let Pt=(()=>{class t{}return t.\u0275mod=p.Nb({type:t}),t.\u0275inj=p.Mb({factory:function(e){return new(e||t)},imports:[[s.h.forChild(xt)],s.h]}),t})();var wt=n("65MA"),Ot=n("ypMf"),Mt=n("RmqX"),kt=n("/1rW");n.d(e,"DiscoveryModule",(function(){return St}));let St=(()=>{class t{}return t.\u0275mod=p.Nb({type:t}),t.\u0275inj=p.Mb({factory:function(e){return new(e||t)},imports:[[i.c,Pt,o.a,wt.ShortVideosModule,Ot.a,Mt.SearchModule,v.b,f.c,kt.a]]}),t})()},ZR7r:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var i=n("bTYh"),o=n("fXoL"),s=n("ofXK");function r(t,e){if(1&t&&o.Qb(0,"img",4),2&t){const t=o.gc();o.nc("src",t.icon,o.Fc)}}const a=function(t){return{noIcon:t}};let c=(()=>{class t{constructor(t){this._messageDialogService=t}ngOnInit(){this.getIcon(),this._messageDialogService.messageDialogSource$.subscribe(t=>{this.message=t.message,this.type=t.type,this.getIcon()})}getIcon(){switch(this.type){case i.b.Info:this.icon="./assets/icons/info.png";break;case i.b.Success:this.icon="./assets/icons/success.png";break;case i.b.Warning:this.icon="./assets/icons/warning.png";break;case i.b.Danger:this.icon="./assets/icons/danger.png";break;case i.b.Emoji1:this.icon="./assets/icons/emoji1.png";break;case i.b.Emoji2:this.icon="./assets/icons/emoji2.png";break;case i.b.Emoji3:this.icon="./assets/icons/emoji3.png";break;case i.b.Emoji4:this.icon="./assets/icons/emoji4.png";break;case i.b.Emoji5:this.icon="./assets/icons/emoji5.png";break;case i.b.Emoji6:this.icon="./assets/icons/emoji6.png";break;case i.b.Emoji7:this.icon="./assets/icons/emoji7.png";break;case i.b.Emoji8:this.icon="./assets/icons/emoji8.png";break;default:this.icon=void 0}}}return t.\u0275fac=function(e){return new(e||t)(o.Pb(i.a))},t.\u0275cmp=o.Jb({type:t,selectors:[["app-message-dialog"]],inputs:{type:"type",style:"style"},decls:4,vars:5,consts:[[1,"dn-dialog-icon"],["style","height: 40px; width: 40px;",3,"src",4,"ngIf"],[1,"message",3,"ngClass"],[2,"padding","0 20px",3,"innerHTML"],[2,"height","40px","width","40px",3,"src"]],template:function(t,e){1&t&&(o.Vb(0,"div",0),o.Lc(1,r,1,1,"img",1),o.Ub(),o.Vb(2,"div",2),o.Qb(3,"div",3),o.Ub()),2&t&&(o.Bb(1),o.nc("ngIf",e.icon),o.Bb(1),o.nc("ngClass",o.sc(3,a,!e.icon)),o.Bb(1),o.nc("innerHTML",e.message,o.Dc))},directives:[s.n,s.l],styles:[".dn-dialog-icon[_ngcontent-%COMP%]{width:100%;display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;text-align:center;margin-top:25px}.light[_nghost-%COMP%]   .message[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .message[_ngcontent-%COMP%]{color:#333}.message.noIcon[_ngcontent-%COMP%]{display:-webkit-box;display:flex;position:absolute;left:0;right:0;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;bottom:0;top:0;padding-bottom:60px}"]}),t})()},ZUHj:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n("51Dv"),o=n("SeVD"),s=n("HDdC");function r(t,e,n,r,a=new i.a(t,n,r)){if(!a.closed)return e instanceof s.a?e.subscribe(a):Object(o.a)(e)(a)}},Zgu1:function(t,e,n){"use strict";n.d(e,"a",(function(){return l})),n.d(e,"b",(function(){return a}));var i=n("fXoL");class o{constructor(t){this.startScrollPosition=0,this.interruptListenersAttached=!1,this.timer=null,t.scrollViews&&0!==t.scrollViews.length?this.isInlineScrolling=!0:(t.scrollViews=[t.document.documentElement,t.document.body,t.document.body.parentNode],this.isInlineScrolling=!1),this.pageScrollOptions=t}static getScrollingTargetPosition(t,e){const n=t.document.body,i=t.document.documentElement,o=t.document.defaultView&&t.document.defaultView.pageYOffset||i.scrollTop||n.scrollTop,s=t.document.defaultView&&t.document.defaultView.pageXOffset||i.scrollLeft||n.scrollLeft,r=i.clientTop||n.clientTop||0,a=i.clientLeft||n.clientLeft||0;if(null==e)return{top:o,left:s};const c=e.getBoundingClientRect(),l=c.left+s-a;return{top:Math.round(c.top+o-r),left:Math.round(l)}}static getInlineScrollingTargetPosition(t,e){const n={top:e.offsetTop,left:e.offsetLeft};if(t.advancedInlineOffsetCalculation&&1===t.scrollViews.length){const i={top:0,left:0},o=e.ownerDocument.defaultView;let s=!1,r=e.parentElement;for(;!s&&null!=r;)"relative"===o.getComputedStyle(r).getPropertyValue("position")&&(i.top+=r.offsetTop,i.left+=r.offsetLeft),r=r.parentElement,s=r===t.scrollViews[0];s&&(n.top+=i.top,n.left+=i.left)}return n}getScrollPropertyValue(t){return this.pageScrollOptions.verticalScrolling?t.scrollTop:t.scrollLeft}getScrollClientPropertyValue(t){return this.pageScrollOptions.verticalScrolling?t.clientHeight:t.clientWidth}extractScrollTargetPosition(){const t=this.getScrollTargetElement();return null==t?{top:NaN,left:NaN}:this.isInlineScrolling?o.getInlineScrollingTargetPosition(this.pageScrollOptions,t):o.getScrollingTargetPosition(this.pageScrollOptions,t)}getCurrentOffset(){return this.pageScrollOptions.scrollOffset}setScrollPosition(t){return this.pageScrollOptions.scrollViews.reduce((e,n)=>{const i=this.getScrollPropertyValue(n);if(n&&null!=i){const e=Math.abs(i-t),o=e<this.pageScrollOptions._minScrollDistance;if(this.pageScrollOptions.verticalScrolling?n.scrollTop=t:n.scrollLeft=t,o||e>Math.abs(this.getScrollPropertyValue(n)-t))return!0}return e},!1)}fireEvent(t){this.pageScrollOptions.scrollFinishListener&&this.pageScrollOptions.scrollFinishListener.emit(t)}attachInterruptListeners(t){this.interruptListenersAttached&&this.detachInterruptListeners(),this.interruptListener=e=>{t.report(e,this)},this.pageScrollOptions.interruptEvents.forEach(t=>this.pageScrollOptions.document.body.addEventListener(t,this.interruptListener)),this.interruptListenersAttached=!0}detachInterruptListeners(){this.pageScrollOptions.interruptEvents.forEach(t=>this.pageScrollOptions.document.body.removeEventListener(t,this.interruptListener)),this.interruptListenersAttached=!1}getScrollTargetElement(){if("string"==typeof this.pageScrollOptions.scrollTarget){const t=this.pageScrollOptions.scrollTarget;return null!==t.match(/^#[^\s]+$/g)?this.pageScrollOptions.document.getElementById(t.substr(1)):this.pageScrollOptions.document.querySelector(t)}return this.pageScrollOptions.scrollTarget}}const s=new i.q("ngxps_config"),r={_interval:10,_minScrollDistance:2,_logLevel:1,namespace:"default",verticalScrolling:!0,duration:1250,scrollOffset:0,advancedInlineOffsetCalculation:!1,interruptEvents:["mousedown","wheel","DOMMouseScroll","mousewheel","keyup","touchmove"],interruptKeys:[" ","Escape","Tab","Enter","PageUp","PageDown","Home","End","ArrowUp","ArrowRight","ArrowLeft","ArrowDown"],interruptible:!0,scrollInView:!0,easingLogic:(t,e,n,i)=>n*t/i+e};let a=(()=>{class t{constructor(e){this.runningInstances=[],this.onInterrupted={report:(t,e)=>{if(!e.pageScrollOptions.interruptible)return;let n=!0;"keyup"===t.type?-1===this.config.interruptKeys.indexOf(t.key)&&(n=!1):"mousedown"===t.type&&(e.pageScrollOptions.scrollViews.some(e=>e.contains(t.target))||(n=!1)),n&&this.stopAll(e.pageScrollOptions.namespace)}},this.config=Object.assign({},r,e),t.instanceCounter>0&&(this.config._logLevel>=2||this.config._logLevel>=1&&Object(i.V)())&&console.warn("An instance of PageScrollService already exists, usually including one provider should be enough, so double check."),t.instanceCounter++}stopInternal(t,e){const n=this.runningInstances.indexOf(e);return n>=0&&this.runningInstances.splice(n,1),e.interruptListenersAttached&&e.detachInterruptListeners(),!!e.timer&&(clearInterval(e.timer),e.timer=void 0,e.fireEvent(!t),!0)}create(t){return new o(Object.assign({},this.config,t))}start(t){if(t.pageScrollOptions=Object.assign({},this.config,t.pageScrollOptions),this.stopAll(t.pageScrollOptions.namespace),null===t.pageScrollOptions.scrollViews||0===t.pageScrollOptions.scrollViews.length)return void((this.config._logLevel>=2||this.config._logLevel>=1&&Object(i.V)())&&console.warn("No scrollViews specified, thus ngx-page-scroll does not know which DOM elements to scroll"));let e=!1,n=t.getScrollClientPropertyValue(t.pageScrollOptions.scrollViews[0]);t.startScrollPosition=0,t.pageScrollOptions.scrollViews.forEach(i=>{if(null==i)return;const o=t.getScrollPropertyValue(i);!e&&o&&(t.startScrollPosition=o,e=!0,n=t.getScrollClientPropertyValue(i))});const o=t.getCurrentOffset(),s=t.extractScrollTargetPosition();if(t.targetScrollPosition=Math.round((t.pageScrollOptions.verticalScrolling?s.top:s.left)-o),t.distanceToScroll=t.targetScrollPosition-t.startScrollPosition,isNaN(t.distanceToScroll))return(this.config._logLevel>=2||this.config._logLevel>=1&&Object(i.V)())&&console.log("Scrolling not possible, as we can't find the specified target"),void t.fireEvent(!1);const r=Math.abs(t.distanceToScroll)<t.pageScrollOptions._minScrollDistance;return t.executionDuration=t.pageScrollOptions.duration,null!=t.pageScrollOptions.speed&&null==t.pageScrollOptions.duration&&(t.executionDuration=Math.abs(t.distanceToScroll)/t.pageScrollOptions.speed*1e3),r||t.executionDuration<=t.pageScrollOptions._interval?((this.config._logLevel>=2||this.config._logLevel>=1&&Object(i.V)())&&(r?console.log("Scrolling not possible, as we can't get any closer to the destination"):console.log("Scroll duration shorter that interval length, jumping to target")),t.setScrollPosition(t.targetScrollPosition),void t.fireEvent(!0)):!t.pageScrollOptions.scrollInView&&t.targetScrollPosition>t.startScrollPosition&&t.targetScrollPosition<=t.startScrollPosition+n?((this.config._logLevel>=2||this.config._logLevel>=1&&Object(i.V)())&&console.log("Not scrolling, as target already in view"),void t.fireEvent(!0)):(t.pageScrollOptions.interruptible&&t.attachInterruptListeners(this.onInterrupted),t.startTime=(new Date).getTime(),t.endTime=t.startTime+t.executionDuration,t.timer=setInterval(t=>{const e=(new Date).getTime();let n,o=!1;t.endTime<=e?(n=t.targetScrollPosition,o=!0):n=Math.round(t.pageScrollOptions.easingLogic(e-t.startTime,t.startScrollPosition,t.distanceToScroll,t.executionDuration)),this.config._logLevel>=5&&Object(i.V)()&&console.warn("Scroll Position: "+n),t.setScrollPosition(n)||(o=!0),o&&this.stopInternal(!1,t)},this.config._interval,t),void this.runningInstances.push(t))}scroll(t){this.start(this.create(t))}stopAll(t){if(this.runningInstances.length>0){let e=!1;for(let n=0;n<this.runningInstances.length;++n){const i=this.runningInstances[n];t&&i.pageScrollOptions.namespace!==t||(e=!0,this.stopInternal(!0,i),n--)}return e}return!1}stop(t){return this.stopInternal(!0,t)}}return t.\u0275fac=function(e){return new(e||t)(i.Zb(s))},t.\u0275prov=i.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t.instanceCounter=0,t.ngInjectableDef=Object(i.Lb)({factory:function(){return new t(Object(i.Zb)(s))},token:t,providedIn:"root"}),t})();const c={};let l=(()=>{class t{static forRoot(e){return{ngModule:t,providers:[a,{provide:s,useValue:e}]}}}return t.\u0275mod=i.Nb({type:t}),t.\u0275inj=i.Mb({factory:function(e){return new(e||t)},providers:[a,{provide:s,useValue:c}]}),t})()},ZrcE:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n("tWDZ"),o=n("Njeq"),s=n("2Vo4"),r=n("fXoL");let a=(()=>{class t{constructor(t,e){this.httpClientHelper=t,this._apiHelper=e,this.sataus=!0,this.value=0,this.bonusDataSource=new s.a(void 0),this.bonusData=this.bonusDataSource.asObservable(),this.newDataSource=new s.a(void 0),this.newData=this.newDataSource.asObservable(),this.signedOrNot=new s.a(!1),this.signedStatus=this.signedOrNot.asObservable()}getSignInData(t){const e=this._apiHelper.APIV3_ENDPOINT("api")+"/activity/getBonus";return this.httpClientHelper.get(e)}setState(t){this.bonusDataSource.next(t)}setNewState(t){this.newDataSource.next(t)}afterSigned(t){this.signedOrNot.next(t)}signInSubmit(){const t=this._apiHelper.APIV3_ENDPOINT("api")+"/activity/reqBonus";return this.httpClientHelper.post(t,{},null)}}return t.\u0275fac=function(e){return new(e||t)(r.Zb(i.a),r.Zb(o.a))},t.\u0275prov=r.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},Zy1z:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n("7o/Q");function o(){return t=>t.lift(new s)}class s{call(t,e){return e.subscribe(new r(t))}}class r extends i.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}},"a/U8":function(t,e,n){"use strict";var i=n("fXoL"),o=n("etJ/"),s=n("F/6N"),r=n("Njeq"),a=n("tWDZ"),c=n("ciLT"),l=n("3My9");const h=[{icon:"iconVIP",title:"\u5145\u503c\u76f8\u5173",context:"\u4fe1\u7528\u5361\u4ed8\u6b3e\u3001\u65e0\u6cd5\u5728\u7ebf\u4ed8\u6b3e\u3001\u4eba\u5de5\u5145\u503c\u3001VIP\u5f00\u901a\u5931\u8d25\u7b49\u95ee\u9898\u3002",index:0,childList:[{title:"\u4fe1\u7528\u5361\u76f8\u5173",label:"cs"},{title:"\u6211\u8981\u5145\u503c",label:"recharge"},{title:"\u6211\u5df2\u4ed8\u6b3e(VIP\u672a\u5f00\u901a)",label:"tgc"}]},{icon:"iconguanggaotoufang",title:"\u6295\u653e\u5e7f\u544a",context:"\u6210\u4e3a\u5e7f\u544a\u5546\uff0c\u628a\u63e1\u6d77\u5916\u534e\u4eba\u5708\u6700\u4f18\u79c0\u7684\u5ba3\u4f20\u8d44\u6e90\uff01",label:"ad",index:1,childList:[{title:"\u5e7f\u544a\u5ba2\u670d",label:"ad"}]},{icon:"iconwenjuan",title:"\u95ee\u9898\u53cd\u9988",context:"\u8054\u7cfb\u6211\u4eec\uff0c\u63d0\u51fa\u60a8\u5b9d\u8d35\u7684\u610f\u89c1\uff0c\u5e2e\u52a9\u6211\u4eec\u505a\u5f97\u66f4\u597d\u3002",label:"question",index:2,childList:[{title:"\u95ee\u5377\u53cd\u9988",label:"question",link:"/help/feedback"},{title:"\u4eba\u5de5\u5ba2\u670d",label:"cs"}]}];var d=n("ofXK");function u(t,e){if(1&t){const t=i.Wb();i.Vb(0,"div",5),i.dc("click",(function(n){i.Cc(t);const o=e.$implicit;return i.gc(2).selectIndex(o.index)})),i.Vb(1,"div",6),i.Qb(2,"i"),i.Ub(),i.Vb(3,"div",7),i.Vb(4,"div",8),i.Nc(5),i.Ub(),i.Vb(6,"div",9),i.Nc(7),i.Ub(),i.Ub(),i.Ub()}if(2&t){const t=e.$implicit;i.Bb(2),i.Eb("iconfont ",t.icon,""),i.Bb(3),i.Oc(t.title),i.Bb(2),i.Oc(t.context)}}function g(t,e){if(1&t&&(i.Vb(0,"div",1),i.Vb(1,"div",2),i.Nc(2,"\u8bf7\u9009\u62e9\u60a8\u60f3\u54a8\u8be2\u7684\u5185\u5bb9\uff1a"),i.Ub(),i.Vb(3,"div",3),i.Lc(4,u,8,5,"div",4),i.Ub(),i.Ub()),2&t){const t=i.gc();i.Bb(4),i.nc("ngForOf",t.selectList)}}function p(t,e){if(1&t){const t=i.Wb();i.Vb(0,"div",14),i.Vb(1,"div",15),i.dc("click",(function(e){return i.Cc(t),i.gc(2).back()})),i.Qb(2,"i",16),i.Ub(),i.Vb(3,"div",17),i.Vb(4,"div",6),i.Qb(5,"i"),i.Ub(),i.Vb(6,"div",7),i.Vb(7,"div",8),i.Nc(8),i.Ub(),i.Vb(9,"div",9),i.Nc(10),i.Ub(),i.Ub(),i.Ub(),i.Ub()}if(2&t){const t=i.gc(2);i.Bb(5),i.Eb("iconfont ",t.selectList[t.currentIndex].icon,""),i.Bb(3),i.Oc(t.selectList[t.currentIndex].title),i.Bb(2),i.Oc(t.selectList[t.currentIndex].context)}}function f(t,e){if(1&t){const t=i.Wb();i.Vb(0,"div",18),i.dc("click",(function(e){return i.Cc(t),i.gc(2).close()})),i.Vb(1,"div",19),i.Qb(2,"i",16),i.Ub(),i.Vb(3,"div",20),i.Nc(4," \u8fd4\u56de "),i.Ub(),i.Ub()}}n.d(e,"a",(function(){return w}));const b=function(t){return{boxStyle:t}};function m(t,e){if(1&t){const t=i.Wb();i.Vb(0,"div",23),i.dc("click",(function(n){i.Cc(t);const o=e.$implicit;return i.gc(3).buttonAction(o)})),i.Nc(1),i.Ub()}if(2&t){const t=e.$implicit,n=i.gc(3);i.nc("ngClass",i.sc(2,b,"box"===n.from)),i.Bb(1),i.Pc(" ",t.title," ")}}const v=function(t){return{"justify-content-center":t}};function y(t,e){if(1&t&&(i.Vb(0,"div",21),i.Lc(1,m,2,4,"div",22),i.Ub()),2&t){const t=i.gc(2);i.nc("ngClass",i.sc(2,v,"box"===t.from)),i.Bb(1),i.nc("ngForOf",t.selectList[t.currentIndex].childList)}}function C(t,e){if(1&t&&i.Qb(0,"h5",29),2&t){const t=i.gc().$implicit,e=i.gc(3);i.nc("innerHtml",e.transTxt(t.txt),i.Dc)}}function _(t,e){if(1&t&&(i.Vb(0,"div",26),i.Qb(1,"img",27),i.Lc(2,C,1,1,"h5",28),i.Ub()),2&t){const t=e.$implicit;i.Bb(1),i.nc("src",t.icon,i.Fc),i.Bb(1),i.nc("ngIf",t.txt)}}function x(t,e){if(1&t&&(i.Vb(0,"div",24),i.Lc(1,_,3,2,"div",25),i.Ub()),2&t){const t=i.gc(2);i.Bb(1),i.nc("ngForOf",t.adList)}}function P(t,e){if(1&t&&(i.Vb(0,"div",1),i.Lc(1,p,11,5,"div",10),i.Lc(2,f,5,0,"div",11),i.Lc(3,y,2,4,"div",12),i.Lc(4,x,2,1,"div",13),i.Ub()),2&t){const t=i.gc();i.Bb(1),i.nc("ngIf","box"!==t.from),i.Bb(1),i.nc("ngIf","box"===t.from),i.Bb(1),i.nc("ngIf",1!==t.currentIndex),i.Bb(1),i.nc("ngIf",1===t.currentIndex)}}let w=(()=>{class t{constructor(t,e,n,o,s,r){this._storage=t,this._apiUrlHelper=e,this._httpClientHelper=n,this._utility=o,this._stickyChatService=s,this._userService=r,this.selectList=h,this.regionCode="GL",this.csList=[],this.adList=[],this.closeCS=new i.n,this.subscriptions=[],this.customerServiceUrl=""}ngOnInit(){this.subscriptions.push(this._userService.userState$.subscribe(t=>{this.user=t}));try{this.regionCode=this._storage.GetConfig().region.split(".")[0]}catch(t){}this.getCustomerServiceInfo()}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}selectIndex(t){this.user.id?this.currentIndex=t:this._userService.showLoginDialog(!0)}back(){this.currentIndex=void 0}close(){this.closeCS.emit()}buttonAction(t){this.user.id?("cs"!==t.label&&"recharge"!==t.label&&"tgc"!==t.label||(this.openStickyChat(this.csList.filter(e=>e.AccType===t.label)[0].LinkURL),"box"===this.from&&this.close()),"question"===t.label&&window.open(t.link,"_blank")):this._userService.showLoginDialog(!0)}getCustomerServiceInfo(){const t=this._apiUrlHelper.urlBuilder("customer-service-chat",{type:-1,region:this.regionCode});this._httpClientHelper.get(t,!0).subscribe(t=>{if(t.data.info){let e;e=t.data.info.filter(t=>0!==t.uid&&!t.linkUrl).map(t=>({Title:t.title,LinkURL:t.linkUrl?t.linkUrl:t.userKey?this._utility.GetHost()+`/user/messages/chat?id=${t.userKey}&temp=${t.templeType}`:"",Image:t.icon,Txt:t.txt.replace(/\n/g,"<br>"),AccType:t.templeType})),this.csList=e;const n=t.data.info.filter(t=>0===t.uid&&"ad"===t.templeType);this.adList=n}})}openStickyChat(t){if(console.log(t),this.customerServiceUrl=t,this.getVariable("id")){let t={id:this.getVariable("id"),entry:!0};this.getVariable("temp")&&Object.assign(t,{temp:this.getVariable("temp")}),"recharge"===this.getVariable("temp")&&this.selectedProduct&&Object.assign(t,{product:this.selectedProduct.title}),this._stickyChatService.transmitPartner(t)}this._stickyChatService.updateState(!0),this._stickyChatService.toggleChatLog(!0)}getVariable(t){if(-1!==this.customerServiceUrl.indexOf("?")){let e=this.customerServiceUrl.split("?")[1].split("&");for(let n=0;n<e.length;n++){let i=e[n].split("=");if(i[0]===t)return i[1]}return!1}}transTxt(t){return t.replace(/\n/g,"<br>")}}return t.\u0275fac=function(e){return new(e||t)(i.Pb(o.a),i.Pb(r.a),i.Pb(a.a),i.Pb(l.a),i.Pb(s.a),i.Pb(c.a))},t.\u0275cmp=i.Jb({type:t,selectors:[["app-customer-service"]],inputs:{currentIndex:"currentIndex",from:"from",selectedProduct:"selectedProduct"},outputs:{closeCS:"closeCS"},decls:2,vars:2,consts:[["class","service-selector",4,"ngIf"],[1,"service-selector"],[1,"selector-header","mt-3","mb-5"],[1,"selector-content"],["class","selector-item hoverable",3,"click",4,"ngFor","ngForOf"],[1,"selector-item","hoverable",3,"click"],[1,"item-icon"],[1,"item-inner"],[1,"item-title"],[1,"item-context"],["class","selector-header mt-3 mb-4 d-flex border-bottom-line","style","padding-bottom: 20px; overflow: hidden;",4,"ngIf"],["class","selector-header mt-3 d-flex boxStyle",3,"click",4,"ngIf"],["class","d-flex",3,"ngClass",4,"ngIf"],["class","d-flex justify-content-center",4,"ngIf"],[1,"selector-header","mt-3","mb-4","d-flex","border-bottom-line",2,"padding-bottom","20px","overflow","hidden"],[1,"back-button",3,"click"],[1,"iconfont","iconjiantou_liebiaoxiangzuo"],[1,"selector-item"],[1,"selector-header","mt-3","d-flex","boxStyle",3,"click"],[1,"back-button","boxStyle"],[1,"selector-item",2,"font-size","15px","margin-top","-1px"],[1,"d-flex",3,"ngClass"],["class","button-item",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"button-item",3,"ngClass","click"],[1,"d-flex","justify-content-center"],["class","img-item",4,"ngFor","ngForOf"],[1,"img-item"],[3,"src"],["class","mt-2",3,"innerHtml",4,"ngIf"],[1,"mt-2",3,"innerHtml"]],template:function(t,e){1&t&&(i.Lc(0,g,5,1,"div",0),i.Lc(1,P,5,4,"div",0)),2&t&&(i.nc("ngIf",void 0===e.currentIndex),i.Bb(1),i.nc("ngIf",void 0!==e.currentIndex))},directives:[d.n,d.m,d.l],styles:[".service-selector[_ngcontent-%COMP%]{width:100%}.selector-header[_ngcontent-%COMP%]{text-align:left;font-size:18px;color:hsla(0,0%,100%,.4)}.light[_nghost-%COMP%]   .selector-header[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .selector-header[_ngcontent-%COMP%]{color:#333}.selector-header.boxStyle[_ngcontent-%COMP%]{cursor:pointer;width:-webkit-max-content;width:-moz-max-content;width:max-content;margin-bottom:100px}.selector-header.boxStyle[_ngcontent-%COMP%]:hover   .back-button[_ngcontent-%COMP%]   .iconfont[_ngcontent-%COMP%]{color:#fff}.light[_nghost-%COMP%]   .selector-header.boxStyle[_ngcontent-%COMP%]:hover   .back-button[_ngcontent-%COMP%]   .iconfont[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .selector-header.boxStyle[_ngcontent-%COMP%]:hover   .back-button[_ngcontent-%COMP%]   .iconfont[_ngcontent-%COMP%]{color:#333}.selector-header.boxStyle[_ngcontent-%COMP%]:hover   .selector-item[_ngcontent-%COMP%]{color:#fff}.light[_nghost-%COMP%]   .selector-header.boxStyle[_ngcontent-%COMP%]:hover   .selector-item[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .selector-header.boxStyle[_ngcontent-%COMP%]:hover   .selector-item[_ngcontent-%COMP%]{color:#333}.selector-content[_ngcontent-%COMP%]{-webkit-box-pack:justify;justify-content:space-between}.selector-content[_ngcontent-%COMP%], .selector-item[_ngcontent-%COMP%]{display:-webkit-box;display:flex}.selector-item.hoverable[_ngcontent-%COMP%]{cursor:pointer}.selector-item.hoverable[_ngcontent-%COMP%]:hover   .item-icon[_ngcontent-%COMP%]{background-color:#5a89be!important}.item-icon[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:4px;background-color:#346cab;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;margin-right:35px}.item-icon[_ngcontent-%COMP%]   .iconfont[_ngcontent-%COMP%]{font-size:46px!important;color:hsla(0,0%,100%,.7)!important}.item-icon[_ngcontent-%COMP%]   .iconfont.iconVIP[_ngcontent-%COMP%]{font-size:42px!important;color:hsla(0,0%,100%,.7)!important;background:unset!important;-webkit-text-fill-color:unset!important}.item-inner[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-pack:justify;justify-content:space-between}.item-title[_ngcontent-%COMP%]{font-size:16px;color:#fff}.light[_nghost-%COMP%]   .item-title[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .item-title[_ngcontent-%COMP%]{color:#333}.item-context[_ngcontent-%COMP%]{width:305px;line-height:18px;margin-top:2px;font-size:14px;color:hsla(0,0%,100%,.4)}.light[_nghost-%COMP%]   .item-context[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .item-context[_ngcontent-%COMP%]{color:#888}.border-bottom-line[_ngcontent-%COMP%]{border-bottom:1px solid;border-color:hsla(0,0%,40%,.4)}.light[_nghost-%COMP%]   .border-bottom-line[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .border-bottom-line[_ngcontent-%COMP%]{border-color:#ddd}.back-button[_ngcontent-%COMP%]{cursor:pointer;margin-left:-15px;margin-right:15px}.back-button[_ngcontent-%COMP%]   .iconfont[_ngcontent-%COMP%]{font-size:42px;color:hsla(0,0%,100%,.4)}.light[_nghost-%COMP%]   .back-button[_ngcontent-%COMP%]   .iconfont[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .back-button[_ngcontent-%COMP%]   .iconfont[_ngcontent-%COMP%]{color:#888}.back-button[_ngcontent-%COMP%]:hover   .iconfont[_ngcontent-%COMP%]{color:#fff}.light[_nghost-%COMP%]   .back-button[_ngcontent-%COMP%]:hover   .iconfont[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .back-button[_ngcontent-%COMP%]:hover   .iconfont[_ngcontent-%COMP%]{color:#333}.back-button.boxStyle[_ngcontent-%COMP%]{margin-left:5px;margin-right:2px;margin-top:-12px;height:30px}.back-button.boxStyle[_ngcontent-%COMP%]   .iconfont[_ngcontent-%COMP%]{font-size:30px}.boxStyleMT[_ngcontent-%COMP%]{margin-top:80px}.button-item[_ngcontent-%COMP%]{height:73px;line-height:73px;text-align:center;margin-right:20px;background-color:#346cab;color:#fff;cursor:pointer;font-size:15px;padding:0 46px;min-width:196px}.button-item[_ngcontent-%COMP%]:last-child{margin-right:0}.button-item[_ngcontent-%COMP%]:hover{background-color:#5a89be!important}.button-item.boxStyle[_ngcontent-%COMP%]{height:42px;line-height:42px;border-radius:4px;border:1px solid #00c0ff;background-color:transparent!important;color:#00c0ff!important}.button-item.boxStyle[_ngcontent-%COMP%]:hover{background-color:#00c0ff!important;color:#fff!important}.img-item[_ngcontent-%COMP%]{margin:20px;width:180px;height:180px;text-align:center}.img-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%}@media (max-width:1439px){.item-context[_ngcontent-%COMP%]{width:230px}}@media (min-width:1440px) and (max-width:1678px){.item-context[_ngcontent-%COMP%]{width:250px}}@media (min-width:1679px) and (max-width:1919px){.item-context[_ngcontent-%COMP%]{width:260px}}"]}),t})()},a87Y:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var i=n("tk/3"),o=n("Njeq"),s=n("tWDZ"),r=n("lJxs"),a=n("3E0/"),c=n("3My9"),l=n("fXoL");let h=(()=>{class t{constructor(t,e,n){this._apiUrlHelper=t,this._httpClientHelper=e,this._utility=n,this.httpOptions={headers:new i.d({"Content-Type":"application/x-www-form-urlencoded"})}}create(t,e,n){const i=this._apiUrlHelper.urlBuilder("vote-create",{},this._utility.isNews?"NEWS_ENDPOINT":"").replace("?cinema=1",this._utility.isNews?"?cinema=3":"?cinema=1"),s=new o.b;return s.set("title",e.value.title),e.value.type.options.map(t=>{s.append("options",t.value)}),s.set("videoID",n),s.set("type",e.value.viewResults),s.set("selectNumber",1===e.value.multipleSelect?e.value.type.options.length:1),s.set("endDays",""),s.set("a",1),this._httpClientHelper.post(i,s.toString(),this.httpOptions).pipe(Object(r.a)(t=>t))}get(t,e,n="auto"){let i="auto"==n?this._utility.isNews:n;const s=this._apiUrlHelper.urlBuilder("vote-get-by-id",{},i?"NEWS_ENDPOINT":"").replace("?cinema=1",i?"?cinema=3":"?cinema=1"),c=new o.b;return c.set("voteId",t),c.set("a",1),this._httpClientHelper.post(s,c.toString(),this.httpOptions).pipe(Object(r.a)(t=>{const e=t[0];return{cid:e.cid,endDate:e.endDay,id:e.id,isShow:e.isShow,isVoted:e.isVoted,multipleOptions:e.selectNum,startDate:e.startTime,title:e.title,uid:e.uid,vid:e.vid,voteCount:e.voteCount,voteOptions:e.voteList.map(t=>{var n;return{id:t.id,title:t.title,count:t.count,voted:null===(n=e.voteItemId)||void 0===n?void 0:n.includes(t.id)}}),voteViewType:e.voteViewType}})).pipe(Object(a.a)(200))}vote(t,e,n){const i=this._apiUrlHelper.urlBuilder("vote-vote-by-id",{},this._utility.isNews?"NEWS_ENDPOINT":"").replace("?cinema=1",this._utility.isNews?"?cinema=3":"?cinema=1"),s=new o.b;return s.set("voteId",t),s.set("a",1),e.map(t=>{s.append("voteItemId",t)}),this._httpClientHelper.post(i,s.toString(),this.httpOptions).pipe(Object(r.a)(t=>t[0])).pipe(Object(a.a)(200))}}return t.\u0275fac=function(e){return new(e||t)(l.Zb(o.a),l.Zb(s.a),l.Zb(c.a))},t.\u0275prov=l.Lb({token:t,factory:t.\u0275fac}),t})()},aCrv:function(t,e,n){var i,o=function(){this._tweens={},this._tweensAddedDuringUpdate={}};o.prototype={getAll:function(){return Object.keys(this._tweens).map((function(t){return this._tweens[t]}).bind(this))},removeAll:function(){this._tweens={}},add:function(t){this._tweens[t.getId()]=t,this._tweensAddedDuringUpdate[t.getId()]=t},remove:function(t){delete this._tweens[t.getId()],delete this._tweensAddedDuringUpdate[t.getId()]},update:function(t,e){var n=Object.keys(this._tweens);if(0===n.length)return!1;for(t=void 0!==t?t:r.now();n.length>0;){this._tweensAddedDuringUpdate={};for(var i=0;i<n.length;i++){var o=this._tweens[n[i]];o&&!1===o.update(t)&&(o._isPlaying=!1,e||delete this._tweens[n[i]])}n=Object.keys(this._tweensAddedDuringUpdate)}return!0}};var s,r=new o;r.Group=o,r._nextId=0,r.nextId=function(){return r._nextId++},r.now="undefined"==typeof self&&"undefined"!=typeof process&&process.hrtime?function(){var t=process.hrtime();return 1e3*t[0]+t[1]/1e6}:"undefined"!=typeof self&&void 0!==self.performance&&void 0!==self.performance.now?self.performance.now.bind(self.performance):void 0!==Date.now?Date.now:function(){return(new Date).getTime()},r.Tween=function(t,e){this._object=t,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._repeat=0,this._repeatDelayTime=void 0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=null,this._easingFunction=r.Easing.Linear.None,this._interpolationFunction=r.Interpolation.Linear,this._chainedTweens=[],this._onStartCallback=null,this._onStartCallbackFired=!1,this._onUpdateCallback=null,this._onRepeatCallback=null,this._onCompleteCallback=null,this._onStopCallback=null,this._group=e||r,this._id=r.nextId()},r.Tween.prototype={getId:function(){return this._id},isPlaying:function(){return this._isPlaying},to:function(t,e){return this._valuesEnd=Object.create(t),void 0!==e&&(this._duration=e),this},duration:function(t){return this._duration=t,this},start:function(t){for(var e in this._group.add(this),this._isPlaying=!0,this._onStartCallbackFired=!1,this._startTime=void 0!==t?"string"==typeof t?r.now()+parseFloat(t):t:r.now(),this._startTime+=this._delayTime,this._valuesEnd){if(this._valuesEnd[e]instanceof Array){if(0===this._valuesEnd[e].length)continue;this._valuesEnd[e]=[this._object[e]].concat(this._valuesEnd[e])}void 0!==this._object[e]&&(this._valuesStart[e]=this._object[e],this._valuesStart[e]instanceof Array==0&&(this._valuesStart[e]*=1),this._valuesStartRepeat[e]=this._valuesStart[e]||0)}return this},stop:function(){return this._isPlaying?(this._group.remove(this),this._isPlaying=!1,null!==this._onStopCallback&&this._onStopCallback(this._object),this.stopChainedTweens(),this):this},end:function(){return this.update(1/0),this},stopChainedTweens:function(){for(var t=0,e=this._chainedTweens.length;t<e;t++)this._chainedTweens[t].stop()},group:function(t){return this._group=t,this},delay:function(t){return this._delayTime=t,this},repeat:function(t){return this._repeat=t,this},repeatDelay:function(t){return this._repeatDelayTime=t,this},yoyo:function(t){return this._yoyo=t,this},easing:function(t){return this._easingFunction=t,this},interpolation:function(t){return this._interpolationFunction=t,this},chain:function(){return this._chainedTweens=arguments,this},onStart:function(t){return this._onStartCallback=t,this},onUpdate:function(t){return this._onUpdateCallback=t,this},onRepeat:function(t){return this._onRepeatCallback=t,this},onComplete:function(t){return this._onCompleteCallback=t,this},onStop:function(t){return this._onStopCallback=t,this},update:function(t){var e,n,i;if(t<this._startTime)return!0;for(e in!1===this._onStartCallbackFired&&(null!==this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),n=(t-this._startTime)/this._duration,i=this._easingFunction(n=0===this._duration||n>1?1:n),this._valuesEnd)if(void 0!==this._valuesStart[e]){var o=this._valuesStart[e]||0,s=this._valuesEnd[e];s instanceof Array?this._object[e]=this._interpolationFunction(s,i):("string"==typeof s&&(s="+"===s.charAt(0)||"-"===s.charAt(0)?o+parseFloat(s):parseFloat(s)),"number"==typeof s&&(this._object[e]=o+(s-o)*i))}if(null!==this._onUpdateCallback&&this._onUpdateCallback(this._object,n),1===n){if(this._repeat>0){for(e in isFinite(this._repeat)&&this._repeat--,this._valuesStartRepeat){if("string"==typeof this._valuesEnd[e]&&(this._valuesStartRepeat[e]=this._valuesStartRepeat[e]+parseFloat(this._valuesEnd[e])),this._yoyo){var r=this._valuesStartRepeat[e];this._valuesStartRepeat[e]=this._valuesEnd[e],this._valuesEnd[e]=r}this._valuesStart[e]=this._valuesStartRepeat[e]}return this._yoyo&&(this._reversed=!this._reversed),this._startTime=void 0!==this._repeatDelayTime?t+this._repeatDelayTime:t+this._delayTime,null!==this._onRepeatCallback&&this._onRepeatCallback(this._object),!0}null!==this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var a=0,c=this._chainedTweens.length;a<c;a++)this._chainedTweens[a].start(this._startTime+this._duration);return!1}return!0}},r.Easing={Linear:{None:function(t){return t}},Quadratic:{In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}},Quartic:{In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}},Quintic:{In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},Sinusoidal:{In:function(t){return 1-Math.cos(t*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return.5*(1-Math.cos(Math.PI*t))}},Exponential:{In:function(t){return 0===t?0:Math.pow(1024,t-1)},Out:function(t){return 1===t?1:1-Math.pow(2,-10*t)},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))}},Circular:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){return 0===t?0:1===t?1:-Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)},Out:function(t){return 0===t?0:1===t?1:Math.pow(2,-10*t)*Math.sin(5*(t-.1)*Math.PI)+1},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?-.5*Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)+1}},Back:{In:function(t){var e=1.70158;return t*t*((e+1)*t-e)},Out:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},InOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)}},Bounce:{In:function(t){return 1-r.Easing.Bounce.Out(1-t)},Out:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(t){return t<.5?.5*r.Easing.Bounce.In(2*t):.5*r.Easing.Bounce.Out(2*t-1)+.5}}},r.Interpolation={Linear:function(t,e){var n=t.length-1,i=n*e,o=Math.floor(i),s=r.Interpolation.Utils.Linear;return e<0?s(t[0],t[1],i):e>1?s(t[n],t[n-1],n-i):s(t[o],t[o+1>n?n:o+1],i-o)},Bezier:function(t,e){for(var n=0,i=t.length-1,o=Math.pow,s=r.Interpolation.Utils.Bernstein,a=0;a<=i;a++)n+=o(1-e,i-a)*o(e,a)*t[a]*s(i,a);return n},CatmullRom:function(t,e){var n=t.length-1,i=n*e,o=Math.floor(i),s=r.Interpolation.Utils.CatmullRom;return t[0]===t[n]?(e<0&&(o=Math.floor(i=n*(1+e))),s(t[(o-1+n)%n],t[o],t[(o+1)%n],t[(o+2)%n],i-o)):e<0?t[0]-(s(t[0],t[0],t[1],t[1],-i)-t[0]):e>1?t[n]-(s(t[n],t[n],t[n-1],t[n-1],i-n)-t[n]):s(t[o?o-1:0],t[o],t[n<o+1?n:o+1],t[n<o+2?n:o+2],i-o)},Utils:{Linear:function(t,e,n){return(e-t)*n+t},Bernstein:function(t,e){var n=r.Interpolation.Utils.Factorial;return n(t)/n(e)/n(t-e)},Factorial:(s=[1],function(t){var e=1;if(s[t])return s[t];for(var n=t;n>1;n--)e*=n;return s[t]=e,e}),CatmullRom:function(t,e,n,i,o){var s=.5*(n-t),r=.5*(i-e),a=o*o;return(2*e-2*n+s+r)*(o*a)+(-3*e+3*n-2*s-r)*a+s*o+e}}},void 0===(i=(function(){return r}).apply(e,[]))||(t.exports=i)},akSB:function(t,e,n){var i=n("AdPF"),o=n("0z79"),s=n("Cl5A"),r=n("CIKq");e.polling=function(t){var e=!1,n=!1,r=!1!==t.jsonp;if("undefined"!=typeof location){var a="https:"===location.protocol,c=location.port;c||(c=a?443:80),e=t.hostname!==location.hostname||c!==t.port,n=t.secure!==a}if(t.xdomain=e,t.xscheme=n,"open"in new i(t)&&!t.forceJSONP)return new o(t);if(!r)throw new Error("JSONP disabled");return new s(t)},e.websocket=r},b1b0:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n("2Vo4"),o=n("fXoL");let s=(()=>{class t{constructor(){this._rechargeBoxSource=new i.a(!1),this.rechargeBox$=this._rechargeBoxSource.asObservable()}changeDisplayStatus(t){return e=this,void 0,i=function*(){this._rechargeBoxSource.next(t)},new((n=void 0)||(n=Promise))((function(t,o){function s(t){try{a(i.next(t))}catch(e){o(e)}}function r(t){try{a(i.throw(t))}catch(e){o(e)}}function a(e){var i;e.done?t(e.value):(i=e.value,i instanceof n?i:new n((function(t){t(i)}))).then(s,r)}a((i=i.apply(e,[])).next())}));var e,n,i}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Lb({token:t,factory:t.\u0275fac}),t})()},bCCX:function(t,e,n){"use strict";(function(t){var i,o=n("SLVX");i="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:t;var s=Object(o.a)(i);e.a=s}).call(this,n("3UD+")(t))},bHdf:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n("5+tZ"),o=n("SpAZ");function s(t=Number.POSITIVE_INFINITY){return Object(i.a)(o.a,t)}},bLCJ:function(t,e,n){"use strict";var i=n("kt0X"),o=n("OwQj");const s=Object(i.h)("socket"),r=Object(i.i)(s,(t,e)=>t.messages.filter(t=>t.uid===e).sort((t,e)=>t.sendTime>e.sendTime?1:-1)),a=Object(i.i)(s,t=>{const e=t.messages;return t.contacts.map(t=>{var n;const i=e.find(e=>e.uid===t.id&&e.sendTime===t.lastMessage);return t.lastMessageText=(null===(n=i)||void 0===n?void 0:n.context)?i.context.replace(/<br>/g,""):null,t.lastMessageText&&t.lastMessageText.endsWith(".jpg")&&(t.lastMessageText="[\u56fe\u7247]"),t}).sort((t,e)=>t.entry||t.lastMessage>=e.lastMessage?-1:1)}),c=Object(i.i)(s,t=>t.settings),l=Object(i.i)(s,t=>t.loadingMessages),h=Object(i.i)(s,t=>t.loadingContacts),d=Object(i.i)(s,t=>t.selectedContact),u=Object(i.i)(s,t=>{if(!t.selectedContact)return[];const e=t.messages.filter(e=>e.uid===t.selectedContact.id&&!!e.id).sort((t,e)=>t.sendTime>e.sendTime?1:-1);return e.length?e[0]:null}),g=Object(i.i)(s,t=>t.selectedContact?t.messages.filter(e=>e.uid===t.selectedContact.id).sort((t,e)=>t.sendTime>e.sendTime?1:-1):[]),p=Object(i.i)(s,t=>t.selectedContact?t.messages.filter(e=>e.uid===t.selectedContact.id&&"image"===e.messageType).sort((t,e)=>t.sendTime>e.sendTime?1:-1):[]),f=Object(i.i)(s,t=>{if(!t.selectedContact)return[];let e,n;return t.messages.filter(e=>e.uid===t.selectedContact.id).sort((t,e)=>t.sendTime>e.sendTime?1:-1).reduce((t,i)=>(t&&0===Object.keys(t).length&&t.constructor===Object?(e=i.sendTime,t[e]=[i]):i.sendTime-n<180?t[e]=[...t[e],i]:(e=i.sendTime,t[e]=[i]),n=i.sendTime,t),{})}),b=Object(i.i)(s,t=>t.latestMessage),m=Object(i.i)(s,t=>!!t.contacts.filter(t=>{var e;return null===(e=t)||void 0===e?void 0:e.hasNew}).length),v=Object(i.i)(s,t=>t.contacts.filter(t=>t.hasNew));var y=n("fXoL");n.d(e,"a",(function(){return C}));let C=(()=>{class t{constructor(t){this.store=t,this.contacts$=this.store.pipe(Object(i.j)(a)),this.settings$=this.store.pipe(Object(i.j)(c)),this.loadingMessages$=this.store.pipe(Object(i.j)(l)),this.loadingContacts$=this.store.pipe(Object(i.j)(h)),this.selectedContact$=this.store.pipe(Object(i.j)(d)),this.selectEarliestMessage$=this.store.pipe(Object(i.j)(u)),this.selectCurrentMessages$=this.store.pipe(Object(i.j)(g)),this.selectCurrentImages$=this.store.pipe(Object(i.j)(p)),this.selectLatestedMessage$=this.store.pipe(Object(i.j)(b)),this.hasNewMessages$=this.store.pipe(Object(i.j)(m)),this.concatsHasUnreadMessage$=this.store.pipe(Object(i.j)(v)),this.selectCurrentMessagesGroupByDateTime$=this.store.pipe(Object(i.j)(f))}selectMessage$(t){return this.store.pipe(Object(i.j)(r,t))}sendMessage(t){this.store.dispatch(new o.w(t))}sendMessageSuccess(t){this.store.dispatch(new o.y(t))}RemoveContact(t){this.store.dispatch(new o.r(t))}RemoveContactSuccess(t){this.store.dispatch(new o.s(t))}sendMessageFailure(t){this.store.dispatch(new o.x(t))}sentMessageNotAllowed(t){this.store.dispatch(new o.z(t))}receiveMessage(t){this.store.dispatch(new o.q(t))}getRecentlyRecords(){this.store.dispatch(new o.h)}getRecentlyRecordsComplete(t){this.store.dispatch(new o.k(t))}getRecentlyRecordsByUser(t){this.store.dispatch(new o.i(t))}getRecentlyRecordsByUserComplete(t){this.store.dispatch(new o.j(t))}MarkMessagesAsRead(t){this.store.dispatch(new o.p(t))}MarkAllMessagesAsRead(){this.store.dispatch(new o.o)}ClearChatHistory(t){this.store.dispatch(new o.d(t))}SelectContact(t){this.store.dispatch(new o.v(t))}DeselectContact(){this.store.dispatch(new o.e)}loadPreviousRecords(t){this.store.dispatch(new o.n(t))}getSettings(){this.store.dispatch(new o.l)}getSettingsSuccess(t){this.store.dispatch(new o.m(t))}toggleSettingsFriendOnly(){this.store.dispatch(new o.B)}report(t){this.store.dispatch(new o.t(t))}reportSuccess(){this.store.dispatch(new o.u)}getFollowStatus(t){this.store.dispatch(new o.f(t))}getFollowStatusSuccess(t){this.store.dispatch(new o.g(t))}changeFollowStatus(t){this.store.dispatch(new o.a(t))}changeFollowStatusSuccess(t){this.store.dispatch(new o.b(t))}clearAll(){this.store.dispatch(new o.c)}}return t.\u0275fac=function(e){return new(e||t)(y.Zb(i.b))},t.\u0275prov=y.Lb({token:t,factory:t.\u0275fac}),t})()},bOdf:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n("5+tZ");function o(t,e){return Object(i.a)(t,e,1)}},bTYh:function(t,e,n){"use strict";n.d(e,"b",(function(){return s})),n.d(e,"a",(function(){return r}));var i=n("2Vo4"),o=n("fXoL"),s=function(t){return t[t.Success=0]="Success",t[t.Info=1]="Info",t[t.Warning=2]="Warning",t[t.Danger=3]="Danger",t[t.Emoji1=4]="Emoji1",t[t.Emoji2=5]="Emoji2",t[t.Emoji3=6]="Emoji3",t[t.Emoji4=7]="Emoji4",t[t.Emoji5=8]="Emoji5",t[t.Emoji6=9]="Emoji6",t[t.Emoji7=10]="Emoji7",t[t.Emoji8=11]="Emoji8",t}({});let r=(()=>{class t{constructor(){this._messageDialogSource=new i.a({}),this.messageDialogSource$=this._messageDialogSource.asObservable()}setState(t){this._messageDialogSource.next(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Lb({token:t,factory:t.\u0275fac}),t})()},bTnO:function(t,e,n){"use strict";var i=n("fXoL"),o=n("ANjH");const s={watchHistory:null};var r=n("KRVc");const a={currentComments:{videoId:void 0,status:void 0,topComments:[],comments:[]}};var c=n("zv+B");const l={currentReply:{author:void 0,authorId:void 0,avatar:void 0,commendId:void 0,content:void 0,deleted:void 0,floor:void 0,liked:void 0,likes:void 0,published:void 0,replyId:void 0,userLevelSymbol:void 0,videoId:void 0}};var h=n("6VMI");const d={config:{region:void 0,logoUrl:void 0}};var u=n("6nLG");const g={currentVideo:null};var p=Object(o.a)({watchHistory:function(t=s,e){switch(e.type){case"READ":return{watchHistory:e.watchHistory};case"CLEAR":return{watchHistory:[]};default:return t}},comments:function(t=a,e){switch(e.type){case r.c:return{currentComments:{videoId:void 0,status:void 0,topComments:[],comments:[]}};case r.d:const n=Object.assign({},t);return n.currentComments.comments=n.currentComments.comments.map(t=>(t.authorId===e.userId&&(t.blacklist=!0),t.children=t.children.map(t=>(t.authorId===e.userId&&(t.blacklist=!0),t)),t)),n.currentComments.topComments=n.currentComments.topComments.map(t=>(t.authorId===e.userId&&(t.blacklist=!0),t.children=t.children.map(t=>(t.authorId===e.userId&&(t.blacklist=!0),t)),t)),n;case r.g:const i=Object.assign({},t);return i.currentComments.comments=i.currentComments.comments.map(t=>(t.authorId===e.userId&&(t.blacklist=!1),t.children=t.children.map(t=>(t.authorId===e.userId&&(t.blacklist=!1),t)),t)),i.currentComments.topComments=i.currentComments.topComments.map(t=>(t.authorId===e.userId&&(t.blacklist=!1),t.children=t.children.map(t=>(t.authorId===e.userId&&(t.blacklist=!1),t)),t)),i;case r.f:const o=Object.assign({},t);let s=o.currentComments.comments.find(t=>t.commendId===e.commendId);return s&&(s.reported=!0),s=o.currentComments.topComments.find(t=>t.commendId===e.commendId),s&&(s.reported=!0),o;case r.f:return Object.assign({},t);case r.e:const a=e.comments;return Object.assign({},t).currentComments.comments.unshift(...a.comments),t;case r.a:const c=e.comments,l=Object.assign({},t);return l.currentComments.topComments=c.topComments,l.currentComments.comments.push(...c.comments),l;case r.b:const h=e.comments;return console.log("************************",t.currentComments,h),h.comments.forEach(e=>{var n;(n=t.currentComments.topComments.findIndex(t=>t.commendId==e.replyId+""))>-1&&(t.currentComments.topComments[n].children||(t.currentComments.topComments[n].children=[]),t.currentComments.topComments[n].children.unshift(e)),(n=t.currentComments.comments.findIndex(t=>Number(t.commendId)==Number(e.replyId)))>-1&&(t.currentComments.comments[n].children||(t.currentComments.comments[n].children=[]),t.currentComments.comments[n].children.unshift(e))}),t;default:return t}},config:function(t=d,e){switch(e.type){case h.c:return d;case h.d:const n=Object.assign({},t);return n.config.region=e.config.region,e.config.logoUrl&&(n.config.logoUrl=e.config.logoUrl),n;case h.a:const i=Object.assign({},t);return i.config.guestListOpenStatus=e.status,i;case h.b:const o=Object.assign({},t);return o.config.vipListOpenStatus=e.status,o;default:return t}},refReply:function(t=l,e){switch(e.type){case c.a:return Object.assign({},t,l);case c.b:return Object.assign({},t,{currentReply:e.reply});default:return t}},video:function(t=g,e){switch(e.type){case u.d:let n;t.currentVideo&&(n=t.currentVideo.language);const i=e.video;return n&&i.languages.length&&(i.language=n),{currentVideo:i};case u.c:const o=e.language,s=Object.assign({},t.currentVideo);return s.language=o,{currentVideo:s};case u.b:const r=e.videos,a=Object.assign({},t.currentVideo);return a.playlist.guest.alter=r.GuessList,a.playlist.vip.alter=r.VipList,a.playlist.guest.medias.map((t,e)=>{t.isNew&&(a.playlist.guest.alter[e].isNew=t.isNew)}),a.playlist.vip.medias.map((t,e)=>{t.isNew&&(a.playlist.vip.alter[e].isNew=t.isNew)}),{currentVideo:a};case u.a:const c=Object.assign({},t.currentVideo);return c.userData.shared++,{currentVideo:c};default:return t}}});n.d(e,"a",(function(){return f})),n.d(e,"b",(function(){return b}));const f=new i.q("App.store"),b=[{provide:f,useFactory:function(){return Object(o.b)(p)}}]},bXfU:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n("ofXK"),o=n("rIor"),s=n("fXoL");let r=(()=>{class t{}return t.\u0275mod=s.Nb({type:t}),t.\u0275inj=s.Mb({factory:function(e){return new(e||t)},providers:[],imports:[[i.c,o.b]]}),t})()},beoP:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var i=n("Njeq"),o=n("Mb2U"),s=n("tWDZ"),r=n("lJxs"),a=n("fXoL");let c=(()=>{class t{constructor(t,e,n){this._apiUrlHelper=t,this._genreTransformer=e,this._httpClientHelper=n}getGenres(t="0,1",e=!1,n=!1,i=!1){const o=t.split(",");o.length>3&&o.pop(),t=o.join(",");const s=this._apiUrlHelper.urlBuilder("all-video-genres",{cid:t,isRegion:n});return this._httpClientHelper.get(s).pipe(Object(r.a)(n=>"0,1,4"===t&&i?n.filter(t=>"-1"!==t.region).map(t=>this._genreTransformer.fromCatType(t,e)):n.map(t=>this._genreTransformer.fromCatType(t,e))))}}return t.\u0275fac=function(e){return new(e||t)(a.Zb(i.a),a.Zb(o.a),a.Zb(s.a))},t.\u0275prov=a.Lb({token:t,factory:t.\u0275fac}),t})()},c0WJ:function(t,e,n){"use strict";n.d(e,"a",(function(){return m}));var i=n("2Vo4"),o=n("LRne"),s=n("Njeq"),r=n("NO+K"),a=n("tk/3"),c=n("tWDZ"),l=n("AytR"),h=n("etJ/"),d=n("vkgz"),u=n("5+tZ"),g=n("lJxs"),p=n("UXun"),f=n("3E0/"),b=n("fXoL");let m=(()=>{class t{constructor(t,e,n,o){this._storage=t,this._apiUrlHelper=e,this._videoTransFormer=n,this._httpClientHelper=o,this.isAdult=2===l.a.cinema,this._playHistoryStatusService=new i.a({}),this.playHistoryStatusSource$=this._playHistoryStatusService.asObservable(),this.lastKey="",this.lastResult=null}changePlayHistoryStatus(t){this._playHistoryStatusService.next(t)}getRemoteToken(t){return Object(o.a)({})}delaySomeMillsecond(t){var e=Date.now();return new Date(e+=t)}getRemotePlayHistory(t,e=1,n=10,i,o,r,c,l){let h;const f={headers:new a.d({"Content-Type":"application/x-www-form-urlencoded"})};return this.getRemoteToken(t).pipe(Object(d.a)(t=>h=t)).pipe(Object(u.a)(t=>{var a=this._apiUrlHelper.urlBuilder("watch-history",{});const h={};this.isAdult&&(h.cinema="2"),h.pageSize=n.toString(),i&&(h.orderBy=i.toString()),h.pageIndex=e.toString(),h.desc=o?"1":"0",r&&(h.cid=r),l&&(h.tags=l),(c||0===c)&&(h.finishStatus=c);var d=s.a.toQueryString(h),u="playListKey_"+d;return this.lastKey!=u&&(this.lastKey=u,this.lastResult=this._httpClientHelper.post(a,d,f).pipe(Object(g.a)(t=>{if(t.length>0){var e=t[0];const n=e.list;return{total:e.recordCount,items:n?n.map(t=>this._videoTransFormer.transformFromWatchHistoryList(t)):[]}}return{total:0,items:[]}})).pipe(Object(p.a)(1))),this.lastResult}))}removeRemotePlayHistory(t,e,n){let i;const o={headers:new a.d({"Content-Type":"application/x-www-form-urlencoded"})};return this.getRemoteToken(t).pipe(Object(d.a)(t=>i=t)).pipe(Object(u.a)(t=>{const i=this._apiUrlHelper.urlBuilder("remove-watch-history",{}),r=new s.b;return this.isAdult?r.set("cid","2"):n&&r.set("cid",n),e.map(t=>{r.append("idlist[]",t.toString())}),this._httpClientHelper.post(i,r.toString(),o).pipe(Object(g.a)(t=>t.length>0?(this.changePlayHistoryStatus(!0),t[0]):(this.lastKey=null,!1)))}))}clearRemotePlayHistory(t,e){const n={headers:new a.d({"Content-Type":"application/x-www-form-urlencoded"})},i=this._apiUrlHelper.urlBuilder("clear-watch-history",{}),o=new s.b;return 7!=e&&8!=e||o.set("cid",e),this.isAdult&&o.set("cid","2"),3==e&&o.set("cid","3"),this._httpClientHelper.post(i,o.toString(),n).pipe(Object(g.a)(t=>(this.lastKey=null,!!(t&&t.length>0)&&t[0])))}getLocalPlayHistory(){const t=this._storage.GetItem("history");return t?JSON.parse(t):[]}getLocalPlayHistoryById(t){const e=this.getLocalPlayHistory().filter(e=>e.vid===t);return e.length>0?e[0]:null}pushLocalPlayHistory(t){this.removeLocalPlayHistory(t.vid);const e=this.getLocalPlayHistory();for(e.push(t);e.length>10;)e.shift();this._storage.SetItem("history",JSON.stringify(e))}removeLocalPlayHistory(t){let e=this.getLocalPlayHistory();e=e?e.filter(e=>e.vid!==t):[],this._storage.SetItem("history",JSON.stringify(e))}clearLocalPlayHistory(){return this._storage.RemoveItem("history"),[]}getAlbumRecords(t,e=1,n=10,i,o,r){let c;const l={headers:new a.d({"Content-Type":"application/x-www-form-urlencoded"})};return this.getRemoteToken(t).pipe(Object(d.a)(t=>c=t)).pipe(Object(u.a)(t=>{var a=this._apiUrlHelper.urlBuilder("ablum-record-list",{});const c={};return c.pageSize=n.toString(),i&&(c.orderBy=i.toString()),c.pageIndex=e.toString(),o&&(c.cid=o),r&&(c.tags=r),this._httpClientHelper.post(a,s.a.toQueryString(c),l).pipe(Object(f.a)(200)).pipe(Object(g.a)(t=>{if(t.length>0){var e=t[0];const n=e.list;return{total:e.recordCount,items:n?n.map(t=>t):[]}}return{total:0,items:[]}}))}))}clearHotAlbumCache(){const t={headers:new a.d({"Content-Type":"application/x-www-form-urlencoded"})},e=this._apiUrlHelper.urlBuilder("clear-hot-album-cache",{});return this._httpClientHelper.post(e,"",t).pipe(Object(g.a)(t=>t))}}return t.\u0275fac=function(e){return new(e||t)(b.Zb(h.a),b.Zb(s.a),b.Zb(r.a),b.Zb(c.a))},t.\u0275prov=b.Lb({token:t,factory:t.\u0275fac}),t})()},c2Dm:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n("fXoL"),o=n("6xUE"),s=n("xgIS"),r=n("AytR");let a=(()=>{class t{constructor(){this.nativeFullscreen=!0,this.isFullscreen=!1,this.onChangeFullscreen=new i.n}init(e,n){null!=this.fsChangeSubscription&&this.fsChangeSubscription.unsubscribe(),null!=this.padChangeSubscription&&this.padChangeSubscription.unsubscribe(),null!=this.appChangeSubscription&&this.appChangeSubscription.unsubscribe(),this.videogularElement=e,this.medias=n;const i={w3:{enabled:"fullscreenEnabled",element:"fullscreenElement",request:"requestFullscreen",exit:"exitFullscreen",onchange:"fullscreenchange",onerror:"fullscreenerror"},newWebkit:{enabled:"webkitFullscreenEnabled",element:"webkitFullscreenElement",request:"webkitRequestFullscreen",exit:"webkitExitFullscreen",onchange:"webkitfullscreenchange",onerror:"webkitfullscreenerror"},oldWebkit:{enabled:"webkitIsFullScreen",element:"webkitCurrentFullScreenElement",request:"webkitRequestFullScreen",exit:"webkitCancelFullScreen",onchange:"webkitfullscreenchange",onerror:"webkitfullscreenerror"},moz:{enabled:"mozFullScreen",element:"mozFullScreenElement",request:"mozRequestFullScreen",exit:"mozCancelFullScreen",onchange:"mozfullscreenchange",onerror:"mozfullscreenerror"},ios:{enabled:"webkitFullscreenEnabled",element:"webkitFullscreenElement",request:"webkitEnterFullscreen",exit:"webkitExitFullscreen",onchange:"webkitendfullscreen",onerror:"webkitfullscreenerror"},ms:{enabled:"msFullscreenEnabled",element:"msFullscreenElement",request:"msRequestFullscreen",exit:"msExitFullscreen",onchange:"MSFullscreenChange",onerror:"MSFullscreenError"}};for(let t in i)if(i[t].enabled in document){this.polyfill=i[t];break}if(o.a.isiOSDevice()&&(this.polyfill=i.ios),this.isAvailable=null!=this.polyfill,null==this.polyfill)return;let a;switch(this.polyfill.onchange){case"mozfullscreenchange":a=document;break;case"webkitendfullscreen":try{a=this.medias.toArray()[0].elem}catch(h){return}break;default:a=e}if(o.a.isSafari()){var c=null,l=this.medias.toArray();this.padChangeSubscription=Object(s.a)(l.length>0?l[0].elem:a,"webkitendfullscreen").subscribe(()=>{clearTimeout(c),c=setTimeout(()=>{this.onFullscreenChange()},200)}),this.fsChangeSubscription=Object(s.a)(a,this.polyfill.onchange).subscribe(()=>{clearTimeout(c),c=setTimeout(()=>{this.onFullscreenChange()},200)})}else this.fsChangeSubscription=Object(s.a)(a,this.polyfill.onchange).subscribe(()=>{this.onFullscreenChange()});o.a.shouldUseFakeFullScreen?t.fakeFullScreen=!0:o.a.useFakeFullScreenWhenNotPossible?this.isAvailable&&this.nativeFullscreen||(t.fakeFullScreen=!0):t.fakeFullScreen=!1,r.a.app&&(this.appChangeSubscription=Object(s.a)(window,"quitFullscreen").subscribe(t=>{this.exit()}))}isChrome(){var t=window.chrome,e=window.navigator,n=e.vendor,i=void 0!==window.chrome,o=e.userAgent.indexOf("Edge")>-1;return!!e.userAgent.match("CriOS")||null!=t&&"Google Inc."===n&&!1===i&&!1===o}onFullscreenChange(){this.isFullscreen=!!document[this.polyfill.element],this.onChangeFullscreen.next(this.isFullscreen),window.dispatchEvent(new CustomEvent("fullscreen",{detail:{isfullscreen:this.isFullscreen,isfake:this.useFakeFullScreen()}}))}toggleFullscreen(t=null){this.isFullscreen?this.exit():this.request(t)}useFakeFullScreen(){return t.fakeFullScreen}request(t){t||(t=this.videogularElement),this.isFullscreen=!0,this.onChangeFullscreen.next(!0),this.useFakeFullScreen()||this.isAvailable&&this.nativeFullscreen&&(o.a.isMobileDevice()?((!this.polyfill.enabled&&t===this.videogularElement||o.a.isiOSDevice()||o.a.shouldUseNative)&&(t=this.medias.toArray()[0].elem),this.enterElementInFullScreen(t)):this.enterElementInFullScreen(this.videogularElement))}enterElementInFullScreen(t){t[this.polyfill.request]({navigationUI:"hide"})}exit(){if(this.isFullscreen=!1,this.onChangeFullscreen.next(!1),this.useFakeFullScreen());else if(this.isAvailable&&this.nativeFullscreen&&document)try{document[this.polyfill.exit]()}catch(t){}}}return t.fakeFullScreen=!1,t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Lb({token:t,factory:t.\u0275fac}),t})()},c2HN:function(t,e,n){"use strict";function i(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",(function(){return i}))},cH1L:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return r}));var i=n("fXoL"),o=n("ofXK");const s=new i.q("cdk-dir-doc",{providedIn:"root",factory:function(){return Object(i.U)(o.d)}});let r=(()=>{class t{constructor(t){if(this.value="ltr",this.change=new i.n,t){const e=t.documentElement?t.documentElement.dir:null,n=(t.body?t.body.dir:null)||e;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)(i.Zb(s,8))},t.\u0275prov=Object(i.Lb)({factory:function(){return new t(Object(i.Zb)(s,8))},token:t,providedIn:"root"}),t})(),a=(()=>{class t{}return t.\u0275mod=i.Nb({type:t}),t.\u0275inj=i.Mb({factory:function(e){return new(e||t)}}),t})()},cUhd:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n("XNiG"),o=n("fXoL");let s=(()=>{class t{constructor(){this._showPictureViewer=new i.a,this.showPictureViewer$=this._showPictureViewer.asObservable()}open(t,e){this._showPictureViewer.next({images:t,index:e})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},ci3f:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var i=function(t){return t[t.MyComments=0]="MyComments",t[t.MyReplies=1]="MyReplies",t[t.System=2]="System",t}({})},ciLT:function(t,e,n){"use strict";var i=n("XNiG"),o=n("2Vo4"),s=n("LRne"),r=n("Mi/O");const a=new r.b(!0);a.name="\u5965\u7279\u66fc",a.nickname="\u6211\u662f\u5c0f\u98de\u732a123",a.gender="female",a.region="\u4fc4\u7f57\u65af",a.level=8,a.dnCoins=235511,a.membership="cpvip",a.daysOfMembership=-327,a.permissions=["view-hd-video","view-std-video","download-video"];var c=n("Njeq"),l=n("T1Vy"),h=n("ReVU"),d=n("tWDZ"),u=n("AytR"),g=n("3My9"),p=n("etJ/"),f=n("3E0/"),b=n("lJxs"),m=n("bLCJ"),v=n("fXoL"),y=n("tyNb");n.d(e,"a",(function(){return C}));let C=(()=>{class t{constructor(t,e,n,s,a,c,l,h,d,g){this._httpClientHelper=t,this._apiUrlHelper=e,this._userTransFormer=n,this._cookieService=s,this._router=a,this._storage=c,this.cfr=l,this.appRef=h,this.socketFacade=d,this._utility=g,this.user=new r.b(!0),this.notifications=new r.a,this._loginBoxService=new i.a,this.loginBoxSource$=this._loginBoxService.asObservable(),this.userState=new o.a(this.user),this.userState$=this.userState.asObservable(),this.notificationState=new o.a(this.notifications),this.notificationState$=this.notificationState.asObservable(),this.isLoginBoxLoaded=!1,this.shouldrenewUser=!1,this.liveTimer=null,this.checkTime=u.a.production?6e4:6e3,this.isTest=!0,this.userState$.subscribe(t=>{this.user=t})}updateNotify(t){var e=!1;Object.keys(this.notifications).forEach(n=>{null!=t[n]&&t[n]!=this.notifications[n]&&(e=!0)}),e&&this.notificationState.next(Object.assign(this.notifications,t))}updateUserData(t){this.user=Object.assign(this.user,t,{token:this._httpClientHelper.token}),this.userState.next(this.user)}updateUserToken(t){this._httpClientHelper.token=t,this._storage.SetSessionData({__t:JSON.stringify(t)}),this._storage.SetSessionData({token:t.token})}getCurrentUser(){return Object(s.a)(a).pipe(Object(f.a)(200))}shortCut(t){this._httpClientHelper.invokeCert(t)}bindUserAccount(t){return this._httpClientHelper.get("https://api.anygate.vip/api/ThirdPartyLogin/GetBindUrl",!0).pipe(Object(b.a)(t=>t))}favorite(t,e){var n;if(this.user.id>0){const e=this._apiUrlHelper.urlBuilder("video-teaser-favorite",{videoID:t});n=this._httpClientHelper.get(e).pipe(Object(b.a)(t=>t)).pipe(Object(f.a)(300))}else e(),n=Object(s.a)({code:401});return n}removeFavorite(t,e){var n;if(this.user.id>0){const e=this._apiUrlHelper.urlBuilder("video-remove-favorite",{videoID:t});n=this._httpClientHelper.get(e).pipe(Object(b.a)(t=>t)).pipe(Object(f.a)(300))}else e(),n=Object(s.a)({code:401});return n}transformData(t){this.user=t;var e=Object.assign({uid:t.id},t.token),n=JSON.stringify(e);this._httpClientHelper.token=e,this._storage.SetSessionData({__t:n}),this._cookieService.set("autologin",t.autoKey,1e4,"/",this._utility.GetHost("",!0),!0,"Lax"),this.getAuthorizedUserInfo(t).subscribe()}login(){let t=new r.b(!1);const e=this._storage.GetSessionData("token");return e&&this.validateToken(e).subscribe(e=>e?(t=e,this.getAuthorizedUserInfo(t).subscribe(),e):(this.logout(),e)),Object(s.a)([])}validateToken(t,e=!1){var n=this._apiUrlHelper.API_ENDPOINT()+"/user/validate?token="+t;return(u.a.app||e)&&(n+="&autologin=1"),this._httpClientHelper.get(n).pipe(Object(b.a)(t=>{if(t[0])return this._userTransFormer.fromValidateToken(t[0])}))}logout(){var t=this._storage.GetSessionData("token");this._httpClientHelper.token={},this._storage.RemoveSessionData("token"),this._storage.RemoveSessionData("__t"),this._cookieService.delete("autologin","/",this._utility.GetHost("",!0)),window.DN_Logout&&window.DN_Logout(t),this.userState.next(new r.b(!0)),this._router.navigate(["/"]),u.a.app&&window.UserLogout(),this.socketFacade.clearAll()}loginUserWithKey(t){const e=this._apiUrlHelper.urlBuilder("user-auto",{autologin:t});return console.log("auto login"),this._httpClientHelper.get(e).subscribe(t=>{t&&t.length&&null!=t[0]?this.validateToken(t[0]).subscribe(t=>{t&&(this.user=t,this.updateUserToken(Object.assign({},t.token,{uid:this.user.id})),this.getAuthorizedUserInfo(t).subscribe())}):this._cookieService.delete("autologin","/",this._utility.defaultHost)})}getUserInfo(t){const e=this._apiUrlHelper.urlBuilder("user-info",{touid:t});return this._httpClientHelper.get(e).pipe(Object(b.a)(t=>this._userTransFormer.fromGetUserInfo(t[0])))}getAuthorizedUserInfo(t){const e=this._apiUrlHelper.urlBuilder("authorized-user-info",{});return this._httpClientHelper.get(e).pipe(Object(b.a)(t=>{const e=this._userTransFormer.fromGetAuthorizedUserInfo(t[0]);return this.updateUserData(e),e}))}getUserPermissions(t){const e=this._apiUrlHelper.urlBuilder("user-permissions",{});return this._httpClientHelper.get(e).pipe(Object(b.a)(t=>t.map((t,e)=>1===u.a.cinema?(0===e&&(t.Title="\u89c2\u770b\u6807\u6e05\u89c6\u9891",t.icon="view-std-video"),1===e&&(t.icon="publish-comment"),2===e&&(t.icon="favorite"),3===e&&(t.icon="autoplay-next-episode"),4===e&&(t.icon="record-last-position"),5===e&&(t.icon="create-poll"),6===e&&(t.icon="define-danmu-color"),7===e&&(t.icon="vip-emotions"),8===e&&(t.icon="speed"),9===e&&(t.icon="identification"),10===e&&(t.icon="ad-pause"),11===e&&(t.icon="advertisement-filter"),12===e&&(t.Title="\u89c2\u770b\u8d85\u6e05\u89c6\u9891",t.icon="view-hd-video"),13===e&&(t.icon="download"),14===e&&(t.icon="request"),15===e&&(t.icon="view-adult-video"),16===e&&(t.icon="private-collection"),17===e&&(t.icon="no-mosaic"),t):(0===e&&(t.Title="\u89c2\u770b\u9a91\u5175\u7247",t.icon="view-adult-video"),1===e&&(t.icon="publish-comment"),2===e&&(t.icon="favorite"),3===e&&(t.Title="\u8d85\u5927\u6536\u85cf\u5939",t.icon="private-collection"),4===e&&(t.icon="record-last-position"),5===e&&(t.icon="create-poll"),6===e&&(t.icon="define-danmu-color"),7===e&&(t.icon="vip-emotions"),8===e&&(t.icon="speed"),9===e&&(t.icon="identification"),10===e&&(t.icon="ad-pause"),11===e&&(t.icon="advertisement-filter"),12===e&&(t.icon="no-mosaic"),13===e&&(t.icon="download"),t))))}getUserNotifications(t){t&&(Math.floor(1e3*Math.random()+1),Math.floor(100*Math.random()+1))}showLoginDialog(t){return e=this,void 0,o=function*(){if(t&&!this.isLoginBoxLoaded){this.isLoginBoxLoaded=!0;const{LoginBoxComponent:i}=yield n.e(15).then(n.bind(null,"bLfI"));var e=this.appRef.components[0].instance.elementRef.createComponent(this.cfr.resolveComponentFactory(i));e.instance.showBox=t,e.instance.DN_Init()}this._loginBoxService.next(t)},new((i=void 0)||(i=Promise))((function(t,n){function s(t){try{a(o.next(t))}catch(e){n(e)}}function r(t){try{a(o.throw(t))}catch(e){n(e)}}function a(e){var n;e.done?t(e.value):(n=e.value,n instanceof i?n:new i((function(t){t(n)}))).then(s,r)}a((o=o.apply(e,[])).next())}));var e,i,o}renewCurrentUser(){this.shouldrenewUser=!0}cancelRenew(){this.shouldrenewUser=!1}getuserLiveTest(t,e){}clearResult(){this._utility.clearTimeout(this.liveTimer)}extendSign(t){return this._httpClientHelper.post(this._apiUrlHelper.API_ENDPOINT()+"/user/ExtendSign?",t,null)}clearOverWatch(t){return this._httpClientHelper.post(this._apiUrlHelper.APIV3_ENDPOINT("api")+"/home/ClearWatch?",t,null)}}return t.\u0275fac=function(e){return new(e||t)(v.Zb(d.a),v.Zb(c.a),v.Zb(l.a),v.Zb(h.a),v.Zb(y.d),v.Zb(p.a),v.Zb(v.j),v.Zb(v.g),v.Zb(m.a),v.Zb(g.a))},t.\u0275prov=v.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},cp0P:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var i=n("HDdC"),o=n("DH7j"),s=n("lJxs"),r=n("XoHu"),a=n("Cfvw");function c(...t){if(1===t.length){const e=t[0];if(Object(o.a)(e))return l(e,null);if(Object(r.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return l(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return l(t=1===t.length&&Object(o.a)(t[0])?t[0]:t,null).pipe(Object(s.a)(t=>e(...t)))}return l(t,null)}function l(t,e){return new i.a(n=>{const i=t.length;if(0===i)return void n.complete();const o=new Array(i);let s=0,r=0;for(let c=0;c<i;c++){const l=Object(a.a)(t[c]);let h=!1;n.add(l.subscribe({next:t=>{h||(h=!0,r++),o[c]=t},error:t=>n.error(t),complete:()=>{s++,s!==i&&h||(r===i&&n.next(e?e.reduce((t,e,n)=>(t[e]=o[n],t),{}):o),n.complete())}}))}})}},crnd:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="crnd"},cxvS:function(t,e,n){"use strict";var i=n("ofXK"),o=n("3Pt+"),s=n("Ybe3"),r=n("BXbW"),a=n("YS7c"),c=n.n(a),l=n("fXoL"),h=n("XNiG"),d=(n("quSY"),n("pLZG")),u=n("lJxs");class g{constructor(t,e,n){this.name=t,this.drake=e,this.options=n,this.initEvents=!1}}const p={Cancel:"cancel",Cloned:"cloned",Drag:"drag",DragEnd:"dragend",Drop:"drop",Out:"out",Over:"over",Remove:"remove",Shadow:"shadow",DropModel:"dropModel",RemoveModel:"removeModel"},f=Object.keys(p).map(t=>p[t]),b=c.a||a;class m{constructor(t=b){this.build=t}}const v=(t,e,n)=>i=>i.pipe(Object(d.a)(({event:n,name:i})=>n===t&&(void 0===e||i===e)),Object(u.a)(({name:t,args:e})=>n(t,e))),y=(t,[e,n,i])=>({name:t,el:e,container:n,source:i});let C=(()=>{class t{constructor(t=null){this.drakeFactory=t,this.dispatch$=new h.a,this.drag=t=>this.dispatch$.pipe(v(p.Drag,t,(t,[e,n])=>({name:t,el:e,source:n}))),this.dragend=t=>this.dispatch$.pipe(v(p.DragEnd,t,(t,[e])=>({name:t,el:e}))),this.drop=t=>this.dispatch$.pipe(v(p.Drop,t,(t,[e,n,i,o])=>({name:t,el:e,target:n,source:i,sibling:o}))),this.elContainerSource=t=>e=>this.dispatch$.pipe(v(t,e,y)),this.cancel=this.elContainerSource(p.Cancel),this.remove=this.elContainerSource(p.Remove),this.shadow=this.elContainerSource(p.Shadow),this.over=this.elContainerSource(p.Over),this.out=this.elContainerSource(p.Out),this.cloned=t=>this.dispatch$.pipe(v(p.Cloned,t,(t,[e,n,i])=>({name:t,clone:e,original:n,cloneType:i}))),this.dropModel=t=>this.dispatch$.pipe(v(p.DropModel,t,(t,[e,n,i,o,s,r,a,c,l])=>({name:t,el:e,target:n,source:i,sibling:o,item:s,sourceModel:r,targetModel:a,sourceIndex:c,targetIndex:l}))),this.removeModel=t=>this.dispatch$.pipe(v(p.RemoveModel,t,(t,[e,n,i,o,s,r])=>({name:t,el:e,container:n,source:i,item:o,sourceModel:s,sourceIndex:r}))),this.groups={},null===this.drakeFactory&&(this.drakeFactory=new m)}add(t){if(this.find(t.name))throw new Error('Group named: "'+t.name+'" already exists.');return this.groups[t.name]=t,this.handleModels(t),this.setupEvents(t),t}find(t){return this.groups[t]}destroy(t){let e=this.find(t);e&&(e.drake&&e.drake.destroy(),delete this.groups[t])}createGroup(t,e){return this.add(new g(t,this.drakeFactory.build([],e),e))}handleModels({name:t,drake:e,options:n}){let i,o,s;e.on("remove",(n,i,s)=>{if(!e.models)return;let r=e.models[e.containers.indexOf(s)];r=r.slice(0);const a=r.splice(o,1)[0];this.dispatch$.next({event:p.RemoveModel,name:t,args:[n,i,s,a,r,o]})}),e.on("drag",(t,n)=>{e.models&&(i=t,o=this.domIndexOf(t,n))}),e.on("drop",(r,a,c,l)=>{if(!e.models||!a)return;s=this.domIndexOf(r,a);let h,d=e.models[e.containers.indexOf(c)],u=e.models[e.containers.indexOf(a)];if(a===c)d=d.slice(0),h=d.splice(o,1)[0],d.splice(s,0,h),u=d;else{let t=i!==r;if(h=d[o],t){if(!n.copyItem)throw new Error("If you have enabled `copy` on a group, you must provide a `copyItem` function.");h=n.copyItem(h)}if(t||(d=d.slice(0),d.splice(o,1)),u=u.slice(0),u.splice(s,0,h),t)try{a.removeChild(r)}catch(g){}}this.dispatch$.next({event:p.DropModel,name:t,args:[r,a,c,l,h,d,u,o,s]})})}setupEvents(t){if(t.initEvents)return;t.initEvents=!0;const e=t.name;f.forEach(n=>{t.drake.on(n,(...t)=>{this.dispatch$.next({event:n,name:e,args:t})})})}domIndexOf(t,e){return Array.prototype.indexOf.call(e.children,t)}}return t.\u0275fac=function(e){return new(e||t)(l.Zb(m,8))},t.\u0275prov=l.Lb({token:t,factory:t.\u0275fac}),t})(),_=(()=>{class t{static forRoot(){return{ngModule:t,providers:[C]}}}return t.\u0275mod=l.Nb({type:t}),t.\u0275inj=l.Mb({factory:function(e){return new(e||t)}}),t})();var x=n("ruQk"),P=n("iWjc"),w=n("dlKe"),O=n("ypMf"),M=n("PQoX"),k=n("wMT6"),S=n("18J0"),I=n("tyNb");n.d(e,"a",(function(){return L}));let L=(()=>{class t{}return t.\u0275mod=l.Nb({type:t}),t.\u0275inj=l.Mb({factory:function(e){return new(e||t)},providers:[r.a,x.a,k.a],imports:[[i.c,s.a,_,o.h,o.p,P.a,w.b,O.a,M.a,S.a,I.h]]}),t})()},dHfA:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return c}));var i=n("3My9"),o=n("AytR"),s=n("fXoL"),r=n("jhN1");let a=(()=>{class t{constructor(t,e){this.sanitized=t,this._utility=e}transform(t,e=!0){var n="";if("string"==typeof t)n=t.replace(/width="\d+"/g,"").replace(/<h1>/g,"<h3>").replace(/<\/h1>/g,"</h3>").replace(/src=['"](?:[^"'\/]*\/)*([^'"]+)['"]/g,'src="https://static.'+this._utility.GetHost()+'/images/$1" class="imagehtml" width="100%"').replace('href="//','href="https://').replace(/href=['"](?:[\:^"'\/]*\/)*([^'"]+)['"]/g,"onclick=navigateLink('/$1')"),2==o.a.cinema&&(n=n.replace('/images/vipcaption.jpg" class="imagehtml"','/images/vipcaption_2.jpg" class="imagehtml"'));else for(var i in t)n+=this.transform(t[i],!1);return e?(n=(n=n.replace('static.dnvod.tv/images/vipcaption.jpg" class="imagehtml"',window.location.hostname+'/assets/images/vipcaption.jpg" class="imagehtml"')).replace('static.dnwyb.tv/images/vipcaption_2.jpg" class="imagehtml"',window.location.hostname+'/assets/images/vipcaption_2.jpg" class="imagehtml"'),this.sanitized.bypassSecurityTrustHtml(n)):n}}return t.\u0275fac=function(e){return new(e||t)(s.Pb(r.b),s.Pb(i.a))},t.\u0275pipe=s.Ob({name:"htmlImage",type:t,pure:!0}),t})(),c=(()=>{class t{constructor(t){this._utility=t}transform(t){return t&&(t=t.replace("dnvod.tv",this._utility.GetHost())),t}}return t.\u0275fac=function(e){return new(e||t)(s.Pb(i.a))},t.\u0275pipe=s.Ob({name:"replaceHost",type:t,pure:!0}),t})()},dOYE:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));class i{get html(){return'<img src="'+this.imageHost+this.image+'" title="'+this.title+'" />'}}},dQz7:function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));var i=n("fXoL"),o=n("kizo"),s=n("ofXK"),r=n("dayM"),a=n("Le4d");const c=["viewImage"],l=function(t){return{loaded:t}};function h(t,e){if(1&t&&i.Qb(0,"img",14,15),2&t){const t=i.gc();i.nc("ngClass",i.sc(2,l,t.viewImageLoaded))("src",(null==t.obj?null:t.obj.image)+"?w=216&h=216&format=jpg&mode=crop",i.Fc)}}function d(t,e){if(1&t&&i.Qb(0,"img",16,15),2&t){const t=i.gc();i.nc("ngClass",i.sc(1,l,t.viewImageLoaded))}}function u(t,e){1&t&&(i.Vb(0,"div",17),i.Qb(1,"app-loader-spinner"),i.Ub())}function g(t,e){if(1&t&&(i.Vb(0,"div",18),i.Vb(1,"div",19),i.Qb(2,"i",20),i.Nc(3),i.hc(4,"chineseCounter"),i.Ub(),i.Ub()),2&t){const t=i.gc();i.Bb(3),i.Pc(" ",i.ic(4,1,null==t.obj?null:t.obj.photoCount)," ")}}function p(t,e){1&t&&(i.Vb(0,"div",21),i.Qb(1,"i",22),i.Ub())}let f=(()=>{class t{constructor(t){this._windowService=t,this.custom=!1,this.obj={image:"",key:"",id:0,title:"",views:0,likes:0,photoCount:0,photoType:0},this.viewImageLoaded=!1,this.onDeatilOpen=new i.n,this.subscrptions=[]}ngOnInit(){this.obj={image:this.item.imgPath?this.item.imgPath:"",key:this.item.userKey?this.item.userKey:"",id:this.item.albumID,title:this.item.title,views:this.item.viewCount,likes:this.item.dd,photoCount:this.item.photoCount,photoType:this.item.photoType},this.subscrptions.push(this._windowService.size$.subscribe(t=>{this.screenSize=t})),this.imageLoaded()}ngOnDestroy(){this.subscrptions.forEach(t=>t.unsubscribe())}imageLoaded(){void 0===this.viewImage?setTimeout(()=>{this.imageLoaded()},100):this.viewImage.nativeElement.complete?this.viewImageLoaded=!0:setTimeout(()=>{this.imageLoaded()},100)}navTo(){var t,e,n;0===(null===(t=this.obj)||void 0===t?void 0:t.photoType)?this.onDeatilOpen.emit({activityId:this.obj.id,photoIndex:0,infoType:0}):1===(null===(e=this.obj)||void 0===e?void 0:e.photoType)?this.onDeatilOpen.emit({activityId:this.obj.id,photoIndex:0,infoType:1}):2===(null===(n=this.obj)||void 0===n?void 0:n.photoType)&&this.onDeatilOpen.emit({activityId:this.obj.id,photoIndex:0,infoType:3})}}return t.\u0275fac=function(e){return new(e||t)(i.Pb(o.b))},t.\u0275cmp=i.Jb({type:t,selectors:[["app-discovery-meta"]],viewQuery:function(t,e){var n;1&t&&i.Uc(c,!0),2&t&&i.yc(n=i.ec())&&(e.viewImage=n.first)},inputs:{item:"item",custom:"custom"},outputs:{onDeatilOpen:"onDeatilOpen"},decls:17,vars:9,consts:[[1,"meta-cover-container"],[1,"cover-link",3,"click"],[3,"ngClass","src",4,"ngIf"],["src","./assets/images/default-album-cover.png?w=216&h=216&format=jpg&mode=crop",3,"ngClass",4,"ngIf"],["class","loader",4,"ngIf"],["class","image-shadow",4,"ngIf"],["class","canplay-icon",4,"ngIf"],[1,"meta-cover-title"],[1,"title-link",3,"title","click"],[1,"meta-info"],[1,"info-item","text","d-flex","align-items-center","ml-0"],[1,"iconfont","iconguankan"],[1,"info-item","text","dianzan","d-flex","align-items-center"],[1,"iconfont","iconzan"],[3,"ngClass","src"],["viewImage",""],["src","./assets/images/default-album-cover.png?w=216&h=216&format=jpg&mode=crop",3,"ngClass"],[1,"loader"],[1,"image-shadow"],[1,"photo-nums"],[1,"iconfont","icontupian2","photo-icon"],[1,"canplay-icon"],[1,"iconfont","iconbofang3"]],template:function(t,e){1&t&&(i.Vb(0,"div",0),i.Vb(1,"div",1),i.dc("click",(function(t){return e.navTo()})),i.Lc(2,h,2,4,"img",2),i.Lc(3,d,2,3,"img",3),i.Lc(4,u,2,0,"div",4),i.Lc(5,g,5,3,"div",5),i.Lc(6,p,2,0,"div",6),i.Ub(),i.Ub(),i.Vb(7,"div",7),i.Vb(8,"span",8),i.dc("click",(function(t){return e.navTo()})),i.Nc(9),i.Ub(),i.Ub(),i.Vb(10,"div",9),i.Vb(11,"div",10),i.Qb(12,"i",11),i.Nc(13),i.Ub(),i.Vb(14,"div",12),i.Qb(15,"i",13),i.Nc(16),i.Ub(),i.Ub()),2&t&&(i.Bb(2),i.nc("ngIf",""!==(null==e.obj?null:e.obj.image)),i.Bb(1),i.nc("ngIf",""===(null==e.obj?null:e.obj.image)),i.Bb(1),i.nc("ngIf",!e.viewImageLoaded),i.Bb(1),i.nc("ngIf",e.viewImageLoaded&&2!==(null==e.obj?null:e.obj.photoType)),i.Bb(1),i.nc("ngIf",e.viewImageLoaded&&2===(null==e.obj?null:e.obj.photoType)),i.Bb(2),i.nc("title",null==e.obj?null:e.obj.title),i.Bb(1),i.Pc(" ",null==e.obj?null:e.obj.title," "),i.Bb(4),i.Pc(" ",null==e.obj?null:e.obj.views," "),i.Bb(3),i.Pc(" ",null==e.obj?null:e.obj.likes," "))},directives:[s.n,s.l,r.a],pipes:[a.a],styles:[".meta-cover-container[_ngcontent-%COMP%]{height:calc(100% - 65px);width:100%;overflow:hidden;position:relative}.meta-cover-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:100%;max-height:216px;-o-object-fit:cover;object-fit:cover;opacity:0;-webkit-transition:all .25s ease-in-out;transition:all .25s ease-in-out}.meta-cover-container[_ngcontent-%COMP%]   img.loaded[_ngcontent-%COMP%]{opacity:1}.meta-cover-container[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{-webkit-transform:scale(1.1);transform:scale(1.1)}.loader[_ngcontent-%COMP%]{position:absolute;z-index:0;top:65px;right:0;bottom:0;left:0;display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center}.image-shadow[_ngcontent-%COMP%]{position:absolute;z-index:2;width:216px;height:30px;margin-top:-36px}.photo-nums[_ngcontent-%COMP%]{position:absolute;z-index:3;left:6px;bottom:6px;padding:2px 5px;background-color:rgba(0,0,0,.5);border-radius:2px;color:#fff;font-size:12px}.photo-nums[_ngcontent-%COMP%]   .photo-icon[_ngcontent-%COMP%]{font-size:12px!important;color:#fff!important}.canplay-icon[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;width:35px;height:35px;border-radius:50%;background-color:rgba(0,0,0,.5);display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;cursor:pointer}.canplay-icon[_ngcontent-%COMP%]   .iconfont[_ngcontent-%COMP%]{color:#fff!important;font-size:20px;margin-left:2px}.cover-link[_ngcontent-%COMP%]{cursor:pointer;height:100%}.meta-cover-title[_ngcontent-%COMP%]{font-size:14px;padding:10px;width:100%;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;text-align:left}.meta-cover-title[_ngcontent-%COMP%]   .title-link[_ngcontent-%COMP%]{cursor:pointer}.meta-cover-title[_ngcontent-%COMP%]   .title-link[_ngcontent-%COMP%]:hover{color:#00c0ff!important}.meta-info[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-pack:justify;justify-content:space-between;-webkit-box-align:center;align-items:center;padding:0 10px;margin-top:-8px}.info-item[_ngcontent-%COMP%]{color:#fff;font-size:12px}.light[_nghost-%COMP%]   .info-item[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .info-item[_ngcontent-%COMP%]{color:#888}.info-item.text[_ngcontent-%COMP%]{color:hsla(0,0%,100%,.4)!important}.light[_nghost-%COMP%]   .info-item.text[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .info-item.text[_ngcontent-%COMP%]{color:#888!important}.info-item[_ngcontent-%COMP%]   .iconfont[_ngcontent-%COMP%]{font-size:20px;margin-right:.2rem}.info-item.dianzan.liked[_ngcontent-%COMP%], .info-item.shoucang.active[_ngcontent-%COMP%]{color:#00c0ff!important}@media (max-width:1678px){.meta-cover-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:207px}}"]}),t})()},dayM:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n("fXoL");let o=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Jb({type:t,selectors:[["app-loader-spinner"]],decls:13,vars:0,consts:[[1,"lds-spinner"]],template:function(t,e){1&t&&(i.Vb(0,"div",0),i.Qb(1,"div"),i.Qb(2,"div"),i.Qb(3,"div"),i.Qb(4,"div"),i.Qb(5,"div"),i.Qb(6,"div"),i.Qb(7,"div"),i.Qb(8,"div"),i.Qb(9,"div"),i.Qb(10,"div"),i.Qb(11,"div"),i.Qb(12,"div"),i.Ub())},styles:['.lds-spinner[_ngcontent-%COMP%]{color:official;display:inline-block;position:relative;width:64px;height:64px;vertical-align:middle}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{-webkit-transform-origin:32px 32px;transform-origin:32px 32px;-webkit-animation:lds-spinner 1.2s linear infinite;animation:lds-spinner 1.2s linear infinite}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:after{content:" ";display:block;position:absolute;top:16px;left:31px;width:2px;height:7px;border-radius:20%;background:#666}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child{-webkit-transform:rotate(0deg);transform:rotate(0deg);-webkit-animation-delay:-1.1s;animation-delay:-1.1s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){-webkit-transform:rotate(30deg);transform:rotate(30deg);-webkit-animation-delay:-1s;animation-delay:-1s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){-webkit-transform:rotate(60deg);transform:rotate(60deg);-webkit-animation-delay:-.9s;animation-delay:-.9s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(4){-webkit-transform:rotate(90deg);transform:rotate(90deg);-webkit-animation-delay:-.8s;animation-delay:-.8s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(5){-webkit-transform:rotate(120deg);transform:rotate(120deg);-webkit-animation-delay:-.7s;animation-delay:-.7s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(6){-webkit-transform:rotate(150deg);transform:rotate(150deg);-webkit-animation-delay:-.6s;animation-delay:-.6s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(7){-webkit-transform:rotate(180deg);transform:rotate(180deg);-webkit-animation-delay:-.5s;animation-delay:-.5s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(8){-webkit-transform:rotate(210deg);transform:rotate(210deg);-webkit-animation-delay:-.4s;animation-delay:-.4s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(9){-webkit-transform:rotate(240deg);transform:rotate(240deg);-webkit-animation-delay:-.3s;animation-delay:-.3s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(10){-webkit-transform:rotate(270deg);transform:rotate(270deg);-webkit-animation-delay:-.2s;animation-delay:-.2s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(11){-webkit-transform:rotate(300deg);transform:rotate(300deg);-webkit-animation-delay:-.1s;animation-delay:-.1s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(12){-webkit-transform:rotate(330deg);transform:rotate(330deg);-webkit-animation-delay:0s;animation-delay:0s}@-webkit-keyframes lds-spinner{0%{opacity:1}to{opacity:0}}@keyframes lds-spinner{0%{opacity:1}to{opacity:0}}']}),t})()},deGY:function(t,e,n){"use strict";var i=n("ofXK"),o=n("fXoL");let s=(()=>{class t{}return t.\u0275mod=o.Nb({type:t}),t.\u0275inj=o.Mb({factory:function(e){return new(e||t)},imports:[[i.c]]}),t})();n.d(e,"a",(function(){return s}))},dlKe:function(t,e,n){"use strict";var i=n("fXoL"),o=n("LRne"),s=n("xgIS"),r=n("5+tZ"),a=n("lJxs"),c=n("vkgz"),l=n("pLZG"),h=n("7o/Q"),d=n("D0XW");class u{constructor(t,e){this.period=t,this.scheduler=e}call(t,e){return e.subscribe(new g(t,this.period,this.scheduler))}}class g extends h.a{constructor(t,e,n){super(t),this.period=e,this.scheduler=n,this.hasValue=!1,this.add(n.schedule(p,e,{subscriber:this,period:e}))}_next(t){this.lastValue=t,this.hasValue=!0}notifyNext(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))}}function p(t){let{subscriber:e,period:n}=t;e.notifyNext(),this.schedule(t,n)}function f(t,e,n,i){const o=window&&!!window.document&&window.document.documentElement;let s=o&&e?window:n;if(t&&(s=t&&o&&"string"==typeof t?function(t,e,n){return(n?window.document:e).querySelector(t)}(t,n.nativeElement,i):t,!s))throw new Error("ngx-infinite-scroll {resolveContainerElement()}: selector for");return s}function b(t){return t&&!t.firstChange}n.d(e,"a",(function(){return I})),n.d(e,"b",(function(){return L}));const m={clientHeight:"clientHeight",offsetHeight:"offsetHeight",scrollHeight:"scrollHeight",pageYOffset:"pageYOffset",offsetTop:"offsetTop",scrollTop:"scrollTop",top:"top"},v={clientHeight:"clientWidth",offsetHeight:"offsetWidth",scrollHeight:"scrollWidth",pageYOffset:"pageXOffset",offsetTop:"offsetLeft",scrollTop:"scrollLeft",top:"left"};class y{constructor(t=!0){this.vertical=t,this.propsMap=t?m:v}clientHeightKey(){return this.propsMap.clientHeight}offsetHeightKey(){return this.propsMap.offsetHeight}scrollHeightKey(){return this.propsMap.scrollHeight}pageYOffsetKey(){return this.propsMap.pageYOffset}offsetTopKey(){return this.propsMap.offsetTop}scrollTopKey(){return this.propsMap.scrollTop}topKey(){return this.propsMap.top}}function C(t){return["Window","global"].some(e=>Object.prototype.toString.call(t).includes(e))}function _(t,e){return t?e.document.documentElement:null}function x(t,e){const n=function({container:t,isWindow:e,axis:n}){const{offsetHeightKey:i,clientHeightKey:o}=P(n);return w(t,e,i,o)}(e);return e.isWindow?function(t,e,n){const{axis:i,container:o,isWindow:s}=n,{offsetHeightKey:r,clientHeightKey:a}=P(i),c=t+O(_(s,o),i,s),l=w(e.nativeElement,s,r,a);return{height:t,scrolled:c,totalToScroll:function(t,e,n){const i=e.topKey();if(t.getBoundingClientRect)return t.getBoundingClientRect()[i]+O(t,e,n)}(e.nativeElement,i,s)+l,isWindow:s}}(n,t,e):function(t,e,n){const{axis:i,container:o}=n;return{height:t,scrolled:o[i.scrollTopKey()],totalToScroll:o[i.scrollHeightKey()],isWindow:!1}}(n,0,e)}function P(t){return{offsetHeightKey:t.offsetHeightKey(),clientHeightKey:t.clientHeightKey()}}function w(t,e,n,i){if(isNaN(t[n])){const n=_(e,t);return n?n[i]:0}return t[n]}function O(t,e,n){const i=e.pageYOffsetKey(),o=e.scrollTopKey(),s=e.offsetTopKey();return isNaN(window[i])?_(n,t)[o]:t.ownerDocument?t.ownerDocument.defaultView[i]:t[s]}function M(t,e,n){let i,o;if(t.totalToScroll<=0)return!1;const s=t.isWindow?t.scrolled:t.height+t.scrolled;return n?(i=(t.totalToScroll-s)/t.totalToScroll,o=e.down/10):(i=t.scrolled/(t.scrolled+(t.totalToScroll-s)),o=e.up/10),i<=o}class k{constructor({totalToScroll:t}){this.lastScrollPosition=0,this.lastTotalToScroll=0,this.totalToScroll=0,this.triggered={down:0,up:0},this.totalToScroll=t}updateScrollPosition(t){return this.lastScrollPosition=t}updateTotalToScroll(t){this.lastTotalToScroll!==t&&(this.lastTotalToScroll=this.totalToScroll,this.totalToScroll=t)}updateScroll(t,e){this.updateScrollPosition(t),this.updateTotalToScroll(e)}updateTriggeredFlag(t,e){e?this.triggered.down=t:this.triggered.up=t}isTriggeredScroll(t,e){return e?this.triggered.down===t:this.triggered.up===t}}function S(t){const{scrollDown:e,stats:{scrolled:n}}=t;return{type:e?"[NGX_ISE] DOWN":"[NGX_ISE] UP",payload:{currentScrollPosition:n}}}let I=(()=>{class t{constructor(t,e){this.element=t,this.zone=e,this.scrolled=new i.n,this.scrolledUp=new i.n,this.infiniteScrollDistance=2,this.infiniteScrollUpDistance=1.5,this.infiniteScrollThrottle=150,this.infiniteScrollDisabled=!1,this.infiniteScrollContainer=null,this.scrollWindow=!0,this.immediateCheck=!1,this.horizontal=!1,this.alwaysCallback=!1,this.fromRoot=!1}ngAfterViewInit(){this.infiniteScrollDisabled||this.setup()}ngOnChanges({infiniteScrollContainer:t,infiniteScrollDisabled:e,infiniteScrollDistance:n}){const i=b(t),o=b(e),s=b(n),r=!o&&!this.infiniteScrollDisabled||o&&!e.currentValue||s;(i||o||s)&&(this.destroyScroller(),r&&this.setup())}setup(){"undefined"!=typeof window&&this.zone.runOutsideAngular(()=>{this.disposeScroller=function(t){const{scrollContainer:e,scrollWindow:n,element:i,fromRoot:h}=t,g=function({windowElement:t,axis:e}){return function(t,e){return Object.assign({},t,{container:t.isWindow||e&&!e.nativeElement?e:e.nativeElement})}({axis:e,isWindow:C(t)},t)}({axis:new y(!t.horizontal),windowElement:f(e,n,i,h)}),p=new k({totalToScroll:x(i,g)}),b={up:t.upDistance,down:t.downDistance};return function(t){let e=Object(s.a)(t.container,"scroll");return t.throttle&&(e=e.pipe(function(t,e=d.a){return n=>n.lift(new u(t,e))}(t.throttle))),e}({container:g.container,throttle:t.throttle}).pipe(Object(r.a)(()=>Object(o.a)(x(i,g))),Object(a.a)(t=>function(t,e,n){const{scrollDown:i,fire:o}=function(t,e,n){const i=function(t,e){return t<e.scrolled}(t,e);return{fire:M(e,n,i),scrollDown:i}}(t,e,n);return{scrollDown:i,fire:o,stats:e}}(p.lastScrollPosition,t,b)),Object(c.a)(({stats:t})=>p.updateScroll(t.scrolled,t.totalToScroll)),Object(l.a)(({fire:e,scrollDown:n,stats:{totalToScroll:i}})=>function(t,e,n){return!(!t||!e)||!(n||!e)}(t.alwaysCallback,e,p.isTriggeredScroll(i,n))),Object(c.a)(({scrollDown:t,stats:{totalToScroll:e}})=>{p.updateTriggeredFlag(e,t)}),Object(a.a)(S))}({fromRoot:this.fromRoot,alwaysCallback:this.alwaysCallback,disable:this.infiniteScrollDisabled,downDistance:this.infiniteScrollDistance,element:this.element,horizontal:this.horizontal,scrollContainer:this.infiniteScrollContainer,scrollWindow:this.scrollWindow,throttle:this.infiniteScrollThrottle,upDistance:this.infiniteScrollUpDistance}).subscribe(t=>this.zone.run(()=>this.handleOnScroll(t)))})}handleOnScroll({type:t,payload:e}){switch(t){case"[NGX_ISE] DOWN":return this.scrolled.emit(e);case"[NGX_ISE] UP":return this.scrolledUp.emit(e);default:return}}ngOnDestroy(){this.destroyScroller()}destroyScroller(){this.disposeScroller&&this.disposeScroller.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(i.Pb(i.l),i.Pb(i.z))},t.\u0275dir=i.Kb({type:t,selectors:[["","infiniteScroll",""],["","infinite-scroll",""],["","data-infinite-scroll",""]],inputs:{infiniteScrollDistance:"infiniteScrollDistance",infiniteScrollUpDistance:"infiniteScrollUpDistance",infiniteScrollThrottle:"infiniteScrollThrottle",infiniteScrollDisabled:"infiniteScrollDisabled",infiniteScrollContainer:"infiniteScrollContainer",scrollWindow:"scrollWindow",immediateCheck:"immediateCheck",horizontal:"horizontal",alwaysCallback:"alwaysCallback",fromRoot:"fromRoot"},outputs:{scrolled:"scrolled",scrolledUp:"scrolledUp"},features:[i.zb()]}),t})(),L=(()=>{class t{}return t.\u0275mod=i.Nb({type:t}),t.\u0275inj=i.Mb({factory:function(e){return new(e||t)},providers:[],imports:[[]]}),t})()},e5K9:function(t,e,n){"use strict";n.d(e,"a",(function(){return g}));var i=n("fXoL"),o=n("Rcsm"),s=n("ofXK"),r=n("1lty");const a=["videoInput"];function c(t,e){if(1&t&&(i.Vb(0,"div",8),i.Vb(1,"span"),i.Nc(2),i.Ub(),i.Ub()),2&t){const t=i.gc(2);i.Bb(2),i.Oc(t.errorMessage)}}const l=function(t,e){return{width:t,height:e}},h=function(t){return{"drag-over":t}};function d(t,e){if(1&t){const t=i.Wb();i.Vb(0,"div",4),i.dc("dragover",(function(e){return i.Cc(t),i.gc().onDragOver(e)}))("drop",(function(e){return i.Cc(t),i.gc().onDrop(e)}))("dragleave",(function(e){return i.Cc(t),i.gc().onDragFinish(e)})),i.Vb(1,"div",5),i.Vb(2,"app-dn-button",6),i.dc("onClick",(function(e){return i.Cc(t),i.gc().triggerVideo()})),i.Nc(3,"\u6dfb\u52a0\u89c6\u9891"),i.Ub(),i.Lc(4,c,3,1,"div",7),i.Ub(),i.Ub()}if(2&t){const t=i.gc();i.nc("ngStyle",i.tc(3,l,t.width?t.width+"px":"100%",t.height+"px"))("ngClass",i.sc(6,h,t.dragOver)),i.Bb(4),i.nc("ngIf",t.errorMessage)}}function u(t,e){if(1&t){const t=i.Wb();i.Vb(0,"div",9),i.dc("click",(function(e){return i.Cc(t),i.gc().triggerVideo()})),i.Ub()}}let g=(()=>{class t{constructor(){this.maxSize=1073741824,this.height=98,this.allowExtension=[".mp4",".mov",".mpeg4",".avi",".wmv",".flv",".3gpp",".webm",".m4v"],this.showBox=!1,this.onlyButton=!1,this.dragOver=!1,this.onFileChange=new i.n}get accept(){return this.allowExtension.join(",")}ngOnInit(){}triggerVideo(){this.videoInput.nativeElement.click()}onChange(t){const e=t.target.files||t.dataTransfer.files;if(0!==e.length){var n=Object(o.a)(e[0].name);-1!=this.allowExtension.findIndex(t=>t==n)?e[0].size>this.maxSize?this.errorMessage="\u8d85\u8fc7\u6700\u5927\u5c3a\u5bf8":(this.errorMessage=null,this.onFileChange.emit(e)):this.errorMessage="\u4e0d\u652f\u6301\u7684\u6587\u4ef6\u7c7b\u578b"}}onDrop(t){t.preventDefault(),t.stopPropagation(),this.dragOver=!1,this.onChange(t)}onDragOver(t){t.preventDefault(),t.stopPropagation(),this.dragOver=!0}onDragFinish(t){this.dragOver=!1}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Jb({type:t,selectors:[["app-video-input"]],viewQuery:function(t,e){var n;1&t&&i.Uc(a,!0),2&t&&i.yc(n=i.ec())&&(e.videoInput=n.first)},inputs:{maxSize:"maxSize",width:"width",height:"height",allowExtension:"allowExtension",showBox:"showBox",onlyButton:"onlyButton",errorMessage:"errorMessage"},outputs:{onFileChange:"onFileChange"},decls:4,vars:3,consts:[["hidden","","type","file",3,"accept","change"],["videoInput",""],["class","video-input",3,"ngStyle","ngClass","dragover","drop","dragleave",4,"ngIf"],["class","video-input-inner-btn",3,"click",4,"ngIf"],[1,"video-input",3,"ngStyle","ngClass","dragover","drop","dragleave"],[1,"text-center"],[3,"onClick"],["class","mt-2 text-red",4,"ngIf"],[1,"mt-2","text-red"],[1,"video-input-inner-btn",3,"click"]],template:function(t,e){1&t&&(i.Vb(0,"input",0,1),i.dc("change",(function(t){return e.onChange(t)})),i.Ub(),i.Lc(2,d,5,8,"div",2),i.Lc(3,u,1,0,"div",3)),2&t&&(i.oc("accept",e.accept),i.Bb(2),i.nc("ngIf",e.showBox),i.Bb(1),i.nc("ngIf",e.onlyButton))},directives:[s.n,s.o,s.l,r.a],styles:[".video-input[_ngcontent-%COMP%]{background-color:#2a2c39;width:100%;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;height:96px}.light[_nghost-%COMP%]   .video-input[_ngcontent-%COMP%], .light   [_nghost-%COMP%]   .video-input[_ngcontent-%COMP%]{background-color:#eee}.video-input.drag-over[_ngcontent-%COMP%]{border:1px dashed grey}.video-input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-bottom:5px}.video-input-inner-btn[_ngcontent-%COMP%]{width:100%;height:100%;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center}"]}),t})()},eH3U:function(t,e,n){t.exports=n.p+"emoji1.944190ba8a9acc5ae9af.png"},eIep:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var i=n("l7GE"),o=n("51Dv"),s=n("ZUHj"),r=n("lJxs"),a=n("Cfvw");function c(t,e){return"function"==typeof e?n=>n.pipe(c((n,i)=>Object(a.a)(t(n,i)).pipe(Object(r.a)((t,o)=>e(n,t,i,o))))):e=>e.lift(new l(t))}class l{constructor(t){this.project=t}call(t,e){return e.subscribe(new h(t,this.project))}}class h extends i.a{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this._innerSub(e,t,n)}_innerSub(t,e,n){const i=this.innerSubscription;i&&i.unsubscribe();const r=new o.a(this,e,n),a=this.destination;a.add(r),this.innerSubscription=Object(s.a)(this,t,void 0,void 0,r),this.innerSubscription!==r&&a.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(t,e,n,i,o){this.destination.next(e)}}},eNwd:function(t,e,n){"use strict";var i=n("3N8a");class o extends i.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(()=>t.flush(null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}}var s=n("IjjT");class r extends s.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,i=-1,o=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++i<o&&(t=e.shift()));if(this.active=!1,n){for(;++i<o&&(t=e.shift());)t.unsubscribe();throw n}}}n.d(e,"a",(function(){return a}));const a=new r(o)},eOtv:function(t,e,n){var i=n("lKxJ"),o=n("KFGy"),s=n("2xqC"),r=n("Uwu7"),a=n("2Dig"),c=n("QN7Q"),l=n("x7D4")("socket.io-client:manager"),h=n("7jRU"),d=n("C2QD"),u=Object.prototype.hasOwnProperty;function g(t,e){if(!(this instanceof g))return new g(t,e);t&&"object"==typeof t&&(e=t,t=void 0),(e=e||{}).path=e.path||"/socket.io",this.nsps={},this.subs=[],this.opts=e,this.reconnection(!1!==e.reconnection),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(e.randomizationFactor||.5),this.backoff=new d({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==e.timeout?2e4:e.timeout),this.readyState="closed",this.uri=t,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var n=e.parser||r;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this.autoConnect=!1!==e.autoConnect,this.autoConnect&&this.open()}t.exports=g,g.prototype.emitAll=function(){for(var t in this.emit.apply(this,arguments),this.nsps)u.call(this.nsps,t)&&this.nsps[t].emit.apply(this.nsps[t],arguments)},g.prototype.updateSocketIds=function(){for(var t in this.nsps)u.call(this.nsps,t)&&(this.nsps[t].id=this.generateId(t))},g.prototype.generateId=function(t){return("/"===t?"":t+"#")+this.engine.id},s(g.prototype),g.prototype.reconnection=function(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection},g.prototype.reconnectionAttempts=function(t){return arguments.length?(this._reconnectionAttempts=t,this):this._reconnectionAttempts},g.prototype.reconnectionDelay=function(t){return arguments.length?(this._reconnectionDelay=t,this.backoff&&this.backoff.setMin(t),this):this._reconnectionDelay},g.prototype.randomizationFactor=function(t){return arguments.length?(this._randomizationFactor=t,this.backoff&&this.backoff.setJitter(t),this):this._randomizationFactor},g.prototype.reconnectionDelayMax=function(t){return arguments.length?(this._reconnectionDelayMax=t,this.backoff&&this.backoff.setMax(t),this):this._reconnectionDelayMax},g.prototype.timeout=function(t){return arguments.length?(this._timeout=t,this):this._timeout},g.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},g.prototype.open=g.prototype.connect=function(t,e){if(l("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;l("opening %s",this.uri),this.engine=i(this.uri,this.opts);var n=this.engine,o=this;this.readyState="opening",this.skipReconnect=!1;var s=a(n,"open",(function(){o.onopen(),t&&t()})),r=a(n,"error",(function(e){if(l("connect_error"),o.cleanup(),o.readyState="closed",o.emitAll("connect_error",e),t){var n=new Error("Connection error");n.data=e,t(n)}else o.maybeReconnectOnOpen()}));if(!1!==this._timeout){var c=this._timeout;l("connect attempt will timeout after %d",c);var h=setTimeout((function(){l("connect attempt timed out after %d",c),s.destroy(),n.close(),n.emit("error","timeout"),o.emitAll("connect_timeout",c)}),c);this.subs.push({destroy:function(){clearTimeout(h)}})}return this.subs.push(s),this.subs.push(r),this},g.prototype.onopen=function(){l("open"),this.cleanup(),this.readyState="open",this.emit("open");var t=this.engine;this.subs.push(a(t,"data",c(this,"ondata"))),this.subs.push(a(t,"ping",c(this,"onping"))),this.subs.push(a(t,"pong",c(this,"onpong"))),this.subs.push(a(t,"error",c(this,"onerror"))),this.subs.push(a(t,"close",c(this,"onclose"))),this.subs.push(a(this.decoder,"decoded",c(this,"ondecoded")))},g.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},g.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},g.prototype.ondata=function(t){this.decoder.add(t)},g.prototype.ondecoded=function(t){this.emit("packet",t)},g.prototype.onerror=function(t){l("error",t),this.emitAll("error",t)},g.prototype.socket=function(t,e){var n=this.nsps[t];if(!n){n=new o(this,t,e),this.nsps[t]=n;var i=this;n.on("connecting",s),n.on("connect",(function(){n.id=i.generateId(t)})),this.autoConnect&&s()}function s(){~h(i.connecting,n)||i.connecting.push(n)}return n},g.prototype.destroy=function(t){var e=h(this.connecting,t);~e&&this.connecting.splice(e,1),this.connecting.length||this.close()},g.prototype.packet=function(t){l("writing packet %j",t);var e=this;t.query&&0===t.type&&(t.nsp+="?"+t.query),e.encoding?e.packetBuffer.push(t):(e.encoding=!0,this.encoder.encode(t,(function(n){for(var i=0;i<n.length;i++)e.engine.write(n[i],t.options);e.encoding=!1,e.processPacketQueue()})))},g.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var t=this.packetBuffer.shift();this.packet(t)}},g.prototype.cleanup=function(){l("cleanup");for(var t=this.subs.length,e=0;e<t;e++)this.subs.shift().destroy();this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},g.prototype.close=g.prototype.disconnect=function(){l("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},g.prototype.onclose=function(t){l("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",t),this._reconnection&&!this.skipReconnect&&this.reconnect()},g.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var t=this;if(this.backoff.attempts>=this._reconnectionAttempts)l("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var e=this.backoff.duration();l("will wait %dms before reconnect attempt",e),this.reconnecting=!0;var n=setTimeout((function(){t.skipReconnect||(l("attempting reconnect"),t.emitAll("reconnect_attempt",t.backoff.attempts),t.emitAll("reconnecting",t.backoff.attempts),t.skipReconnect||t.open((function(e){e?(l("reconnect attempt error"),t.reconnecting=!1,t.reconnect(),t.emitAll("reconnect_error",e.data)):(l("reconnect success"),t.onreconnect())})))}),e);this.subs.push({destroy:function(){clearTimeout(n)}})}},g.prototype.onreconnect=function(){var t=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",t)}},"etJ/":function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n("ReVU"),o=n("3My9"),s=n("AytR"),r=n("fXoL");let a=(()=>{class t{constructor(t,e){this._cookie=t,this._utility=e}GetCookie(t){return this._cookie.get(t)}GetConfig(){if(s.a.app)return t.QueryStringToJSON(this.GetItem("dn_config"));var e=this._cookie.get("dn_config");return t.QueryStringToJSON(e)}SetConfig(e){var n=this.GetConfig();n=Object.assign(n,e),s.a.app?this.SetItem("dn_config",t.JSONtoQueryString(n)):this.setCookie("dn_config",t.JSONtoQueryString(n),365)}static QueryStringToJSON(t){var e=t?t.split("&"):[],n={};return e.forEach((function(t){var e=(t=t.split("="))[0],i=t[1];e.length&&(void 0!==n[e]?(n[e].push||(n[e]=[n[e]]),n[e].push(i||"")):n[e]=i||"")})),n}static JSONtoQueryString(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e.join("&")}GetSessionData(e=""){var n=this._cookie.get("dn_temp");return e?t.QueryStringToJSON(n)[e]:t.QueryStringToJSON(n)}GetLocalSession(){return this.GetSessionData("__t")}RemoveSessionData(t=""){if(t){var e={};e[t]="",this.SetSessionData(e)}else this.RemoveCookie("dn_temp")}SetSessionData(e){var n=this.GetSessionData();n=Object.assign(n,e);let i={};for(let t in n)i[t]=n[t];this.setCookie("dn_temp",t.JSONtoQueryString(i),0)}setCookie(t,e,n){var i="";if(n){var o=new Date;o.setTime(o.getTime()+24*n*60*60*1e3),i="; expires="+o.toUTCString()}var s=this._utility.GetHost("",!0),r="domain="+(s&&0==s.indexOf(".")?s:"."+s);document.cookie=t+"="+(e||"")+i+"; path=/;"+r}RemoveCookie(t,e=null,n=null){this._cookie.delete(t,e,n)}static lsTest(){try{return localStorage.setItem("test","test"),localStorage.removeItem("test"),!0}catch(t){return!1}}SetItem(e,n){t.IsLocalStorageAvailable&&localStorage.setItem(e,n)}GetItem(e){return t.IsLocalStorageAvailable?localStorage.getItem(e):null}RemoveItem(e){t.IsLocalStorageAvailable&&localStorage.removeItem(e)}}return t.IsLocalStorageAvailable=t.lsTest(),t.\u0275fac=function(e){return new(e||t)(r.Zb(i.a),r.Zb(o.a))},t.\u0275prov=r.Lb({token:t,factory:t.\u0275fac}),t})()},fWe4:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));class i{like(t){return null}dislike(t){return null}favorite(t,e){return null}share(t){return null}}},fXoL:function(t,e,n){"use strict";var i=n("XNiG"),o=n("quSY"),s=n("HDdC"),r=n("VRyK"),a=n("oB13"),c=n("x+ZX");function l(){return new i.a}function h(t,e,n){const i=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function o(...t){if(this instanceof o)return i.apply(this,t),this;const e=new o(...t);return n.annotation=e,n;function n(t,n,i){const o=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;for(;o.length<=i;)o.push(null);return(o[i]=o[i]||[]).push(e),t}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=t,o.annotationCls=o,o}n.d(e,"a",(function(){return Os})),n.d(e,"b",(function(){return hl})),n.d(e,"c",(function(){return sl})),n.d(e,"d",(function(){return il})),n.d(e,"e",(function(){return ol})),n.d(e,"f",(function(){return nh})),n.d(e,"g",(function(){return ql})),n.d(e,"h",(function(){return cs})),n.d(e,"i",(function(){return _l})),n.d(e,"j",(function(){return xa})),n.d(e,"k",(function(){return gl})),n.d(e,"l",(function(){return Pa})),n.d(e,"m",(function(){return cn})),n.d(e,"n",(function(){return Nc})),n.d(e,"o",(function(){return Q})),n.d(e,"p",(function(){return d})),n.d(e,"q",(function(){return q})),n.d(e,"r",(function(){return ws})),n.d(e,"s",(function(){return za})),n.d(e,"t",(function(){return Ha})),n.d(e,"u",(function(){return ul})),n.d(e,"v",(function(){return ct})),n.d(e,"w",(function(){return $l})),n.d(e,"x",(function(){return at})),n.d(e,"y",(function(){return jl})),n.d(e,"z",(function(){return Ol})),n.d(e,"A",(function(){return u})),n.d(e,"B",(function(){return ll})),n.d(e,"C",(function(){return cl})),n.d(e,"D",(function(){return Vc})),n.d(e,"E",(function(){return ka})),n.d(e,"F",(function(){return Oa})),n.d(e,"G",(function(){return Ma})),n.d(e,"H",(function(){return Ia})),n.d(e,"I",(function(){return Kn})),n.d(e,"J",(function(){return p})),n.d(e,"K",(function(){return Yl})),n.d(e,"L",(function(){return Qa})),n.d(e,"M",(function(){return Nl})),n.d(e,"N",(function(){return La})),n.d(e,"O",(function(){return Ka})),n.d(e,"P",(function(){return mt})),n.d(e,"Q",(function(){return Ns})),n.d(e,"R",(function(){return zl})),n.d(e,"S",(function(){return Mn})),n.d(e,"T",(function(){return T})),n.d(e,"U",(function(){return it})),n.d(e,"V",(function(){return On})),n.d(e,"W",(function(){return th})),n.d(e,"X",(function(){return Ul})),n.d(e,"Y",(function(){return dl})),n.d(e,"Z",(function(){return hs})),n.d(e,"ab",(function(){return hc})),n.d(e,"bb",(function(){return Qn})),n.d(e,"cb",(function(){return Zn})),n.d(e,"db",(function(){return Ln})),n.d(e,"eb",(function(){return bn})),n.d(e,"fb",(function(){return vn})),n.d(e,"gb",(function(){return xn})),n.d(e,"hb",(function(){return Cn})),n.d(e,"ib",(function(){return yn})),n.d(e,"jb",(function(){return _n})),n.d(e,"kb",(function(){return rc})),n.d(e,"lb",(function(){return Jl})),n.d(e,"mb",(function(){return ac})),n.d(e,"nb",(function(){return cc})),n.d(e,"ob",(function(){return mn})),n.d(e,"pb",(function(){return E})),n.d(e,"qb",(function(){return Bs})),n.d(e,"rb",(function(){return rr})),n.d(e,"sb",(function(){return sr})),n.d(e,"tb",(function(){return As})),n.d(e,"ub",(function(){return sc})),n.d(e,"vb",(function(){return xe})),n.d(e,"wb",(function(){return S})),n.d(e,"xb",(function(){return fn})),n.d(e,"yb",(function(){return ia})),n.d(e,"zb",(function(){return la})),n.d(e,"Ab",(function(){return ya})),n.d(e,"Bb",(function(){return Ai})),n.d(e,"Cb",(function(){return zs})),n.d(e,"Db",(function(){return Nr})),n.d(e,"Eb",(function(){return Zr})),n.d(e,"Fb",(function(){return Jr})),n.d(e,"Gb",(function(){return Lr})),n.d(e,"Hb",(function(){return $c})),n.d(e,"Ib",(function(){return ii})),n.d(e,"Jb",(function(){return xt})),n.d(e,"Kb",(function(){return It})),n.d(e,"Lb",(function(){return v})),n.d(e,"Mb",(function(){return y})),n.d(e,"Nb",(function(){return Mt})),n.d(e,"Ob",(function(){return Lt})),n.d(e,"Pb",(function(){return Qs})),n.d(e,"Qb",(function(){return tr})),n.d(e,"Rb",(function(){return ir})),n.d(e,"Sb",(function(){return nr})),n.d(e,"Tb",(function(){return er})),n.d(e,"Ub",(function(){return Js})),n.d(e,"Vb",(function(){return Zs})),n.d(e,"Wb",(function(){return or})),n.d(e,"Xb",(function(){return on})),n.d(e,"Yb",(function(){return ta})),n.d(e,"Zb",(function(){return nt})),n.d(e,"ac",(function(){return $s})),n.d(e,"bc",(function(){return nl})),n.d(e,"cc",(function(){return Ks})),n.d(e,"dc",(function(){return ar})),n.d(e,"ec",(function(){return Yc})),n.d(e,"fc",(function(){return ge})),n.d(e,"gc",(function(){return hr})),n.d(e,"hc",(function(){return kc})),n.d(e,"ic",(function(){return Sc})),n.d(e,"jc",(function(){return Ic})),n.d(e,"kc",(function(){return Lc})),n.d(e,"lc",(function(){return gr})),n.d(e,"mc",(function(){return ur})),n.d(e,"nc",(function(){return Xs})),n.d(e,"oc",(function(){return pr})),n.d(e,"pc",(function(){return fr})),n.d(e,"qc",(function(){return br})),n.d(e,"rc",(function(){return mc})),n.d(e,"sc",(function(){return vc})),n.d(e,"tc",(function(){return yc})),n.d(e,"uc",(function(){return Cc})),n.d(e,"vc",(function(){return _c})),n.d(e,"wc",(function(){return xc})),n.d(e,"xc",(function(){return Pc})),n.d(e,"yc",(function(){return Gc})),n.d(e,"zc",(function(){return qs})),n.d(e,"Ac",(function(){return Re})),n.d(e,"Bc",(function(){return Ee})),n.d(e,"Cc",(function(){return Wt})),n.d(e,"Dc",(function(){return Jn})),n.d(e,"Ec",(function(){return ni})),n.d(e,"Fc",(function(){return ei})),n.d(e,"Gc",(function(){return kt})),n.d(e,"Hc",(function(){return Kc})),n.d(e,"Ic",(function(){return Wc})),n.d(e,"Jc",(function(){return Tr})),n.d(e,"Kc",(function(){return Ir})),n.d(e,"Lc",(function(){return Ws})),n.d(e,"Mc",(function(){return el})),n.d(e,"Nc",(function(){return qr})),n.d(e,"Oc",(function(){return Qr})),n.d(e,"Pc",(function(){return $r})),n.d(e,"Qc",(function(){return Kr})),n.d(e,"Rc",(function(){return Xr})),n.d(e,"Sc",(function(){return Yr})),n.d(e,"Tc",(function(){return ea})),n.d(e,"Uc",(function(){return qc}));const d=h("Inject",t=>({token:t})),u=h("Optional"),g=h("Self"),p=h("SkipSelf");var f=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function b(t){for(let e in t)if(t[e]===b)return e;throw Error("Could not find renamed property on target object.")}function m(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function v(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function y(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function C(t){return _(t,t[P])||_(t,t[M])}function _(t,e){return e&&e.token===t?e:null}function x(t){return t&&(t.hasOwnProperty(w)||t.hasOwnProperty(k))?t[w]:null}const P=b({"\u0275prov":b}),w=b({"\u0275inj":b}),O=b({"\u0275provFallback":b}),M=b({ngInjectableDef:b}),k=b({ngInjectorDef:b});function S(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(S).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function I(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const L=b({__forward_ref__:b});function T(t){return t.__forward_ref__=T,t.toString=function(){return S(this())},t}function A(t){return N(t)?t():t}function N(t){return"function"==typeof t&&t.hasOwnProperty(L)&&t.__forward_ref__===T}const B="undefined"!=typeof globalThis&&globalThis,V="undefined"!=typeof window&&window,U="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,D="undefined"!=typeof global&&global,E=B||D||V||U,R=b({"\u0275cmp":b}),F=b({"\u0275dir":b}),j=b({"\u0275pipe":b}),z=b({"\u0275mod":b}),H=b({"\u0275loc":b}),G=b({"\u0275fac":b}),W=b({__NG_ELEMENT_ID__:b});class q{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=v({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Q=new q("INJECTOR",-1),$={},K=/\n/gm,X=b({provide:String,useValue:b});let Y,Z=void 0;function J(t){const e=Z;return Z=t,e}function tt(t){const e=Y;return Y=t,e}function et(t,e=f.Default){if(void 0===Z)throw new Error("inject() must be called from an injection context");return null===Z?ot(t,void 0,e):Z.get(t,e&f.Optional?null:void 0,e)}function nt(t,e=f.Default){return(Y||et)(A(t),e)}const it=nt;function ot(t,e,n){const i=C(t);if(i&&"root"==i.providedIn)return void 0===i.value?i.value=i.factory():i.value;if(n&f.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${S(t)}]`)}function st(t){const e=[];for(let n=0;n<t.length;n++){const i=A(t[n]);if(Array.isArray(i)){if(0===i.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=f.Default;for(let e=0;e<i.length;e++){const o=i[e];o instanceof u||"Optional"===o.ngMetadataName||o===u?n|=f.Optional:o instanceof p||"SkipSelf"===o.ngMetadataName||o===p?n|=f.SkipSelf:o instanceof g||"Self"===o.ngMetadataName||o===g?n|=f.Self:t=o instanceof d||o===d?o.token:o}e.push(nt(t,n))}else e.push(nt(i))}return e}class rt{get(t,e=$){if(e===$){const e=new Error(`NullInjectorError: No provider for ${S(t)}!`);throw e.name="NullInjectorError",e}return e}}class at{}class ct{}function lt(t,e){t.forEach(t=>Array.isArray(t)?lt(t,e):e(t))}function ht(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function dt(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function ut(t,e){const n=[];for(let i=0;i<t;i++)n.push(e);return n}function gt(t,e,n){let i=ft(t,e);return i>=0?t[1|i]=n:(i=~i,function(t,e,n,i){let o=t.length;if(o==e)t.push(n,i);else if(1===o)t.push(i,t[0]),t[0]=n;else{for(o--,t.push(t[o-1],t[o]);o>e;)t[o]=t[o-2],o--;t[e]=n,t[e+1]=i}}(t,i,e,n)),i}function pt(t,e){const n=ft(t,e);if(n>=0)return t[1|n]}function ft(t,e){return function(t,e,n){let i=0,o=t.length>>1;for(;o!==i;){const n=i+(o-i>>1),s=t[n<<1];if(e===s)return n<<1;s>e?o=n:i=n+1}return~(o<<1)}(t,e)}const bt=function(){var t={OnPush:0,Default:1};return t[t.OnPush]="OnPush",t[t.Default]="Default",t}(),mt=function(){var t={Emulated:0,Native:1,None:2,ShadowDom:3};return t[t.Emulated]="Emulated",t[t.Native]="Native",t[t.None]="None",t[t.ShadowDom]="ShadowDom",t}();function vt(t){return""+{toString:t}}const yt={},Ct=[];let _t=0;function xt(t){const e=t.type,n=e.prototype,i={},o={type:e,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:i,inputs:null,outputs:null,exportAs:t.exportAs||null,onChanges:null,onInit:n.ngOnInit||null,doCheck:n.ngDoCheck||null,afterContentInit:n.ngAfterContentInit||null,afterContentChecked:n.ngAfterContentChecked||null,afterViewInit:n.ngAfterViewInit||null,afterViewChecked:n.ngAfterViewChecked||null,onDestroy:n.ngOnDestroy||null,onPush:t.changeDetection===bt.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||Ct,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||mt.Emulated,id:"c",styles:t.styles||Ct,_:null,setInput:null,schemas:t.schemas||null,tView:null};return o._=vt(()=>{const e=t.directives,n=t.features,s=t.pipes;o.id+=_t++,o.inputs=St(t.inputs,i),o.outputs=St(t.outputs),n&&n.forEach(t=>t(o)),o.directiveDefs=e?()=>("function"==typeof e?e():e).map(Pt):null,o.pipeDefs=s?()=>("function"==typeof s?s():s).map(wt):null}),o}function Pt(t){return Tt(t)||function(t){return t[F]||null}(t)}function wt(t){return function(t){return t[j]||null}(t)}const Ot={};function Mt(t){const e={type:t.type,bootstrap:t.bootstrap||Ct,declarations:t.declarations||Ct,imports:t.imports||Ct,exports:t.exports||Ct,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&vt(()=>{Ot[t.id]=t.type}),e}function kt(t,e){return vt(()=>{const n=Nt(t,!0);n.declarations=e.declarations||Ct,n.imports=e.imports||Ct,n.exports=e.exports||Ct})}function St(t,e){if(null==t)return yt;const n={};for(const i in t)if(t.hasOwnProperty(i)){let o=t[i],s=o;Array.isArray(o)&&(s=o[1],o=o[0]),n[o]=i,e&&(e[o]=s)}return n}const It=xt;function Lt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Tt(t){return t[R]||null}function At(t,e){return t.hasOwnProperty(G)?t[G]:null}function Nt(t,e){const n=t[z]||null;if(!n&&!0===e)throw new Error(`Type ${S(t)} does not have '\u0275mod' property.`);return n}function Bt(t){return Array.isArray(t)&&"object"==typeof t[1]}function Vt(t){return Array.isArray(t)&&!0===t[1]}function Ut(t){return 0!=(8&t.flags)}function Dt(t){return 2==(2&t.flags)}function Et(t){return 1==(1&t.flags)}function Rt(t){return null!==t.template}function Ft(t){return 0!=(512&t[2])}const jt={lFrame:le(null),bindingsEnabled:!0,checkNoChangesMode:!1};function zt(){return jt.bindingsEnabled}function Ht(){return jt.lFrame.lView}function Gt(){return jt.lFrame.tView}function Wt(t){jt.lFrame.contextLView=t}function qt(){return jt.lFrame.previousOrParentTNode}function Qt(t,e){jt.lFrame.previousOrParentTNode=t,jt.lFrame.isParent=e}function $t(){return jt.lFrame.isParent}function Kt(){jt.lFrame.isParent=!1}function Xt(){return jt.checkNoChangesMode}function Yt(t){jt.checkNoChangesMode=t}function Zt(){const t=jt.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Jt(){return jt.lFrame.bindingIndex}function te(){return jt.lFrame.bindingIndex++}function ee(t){const e=jt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function ne(t,e){const n=jt.lFrame;n.bindingIndex=n.bindingRootIndex=t,n.currentDirectiveIndex=e}function ie(){return jt.lFrame.currentQueryIndex}function oe(t){jt.lFrame.currentQueryIndex=t}function se(t,e){const n=ce();jt.lFrame=n,n.previousOrParentTNode=e,n.lView=t}const re=he;function ae(t,e){const n=ce(),i=t[1];jt.lFrame=n,n.previousOrParentTNode=e,n.isParent=!0,n.lView=t,n.tView=i,n.selectedIndex=0,n.contextLView=t,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.currentSanitizer=null,n.bindingRootIndex=-1,n.bindingIndex=i.bindingStartIndex,n.currentQueryIndex=0}function ce(){const t=jt.lFrame,e=null===t?null:t.child;return null===e?le(t):e}function le(t){const e={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentSanitizer:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null};return null!==t&&(t.child=e),e}function he(){jt.lFrame=jt.lFrame.parent}function de(){return jt.lFrame.selectedIndex}function ue(t){jt.lFrame.selectedIndex=t}function ge(){jt.lFrame.currentNamespace="http://www.w3.org/2000/svg"}function pe(t,e){for(let n=e.directiveStart,i=e.directiveEnd;n<i;n++){const e=t.data[n];e.afterContentInit&&(t.contentHooks||(t.contentHooks=[])).push(-n,e.afterContentInit),e.afterContentChecked&&((t.contentHooks||(t.contentHooks=[])).push(n,e.afterContentChecked),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,e.afterContentChecked)),e.afterViewInit&&(t.viewHooks||(t.viewHooks=[])).push(-n,e.afterViewInit),e.afterViewChecked&&((t.viewHooks||(t.viewHooks=[])).push(n,e.afterViewChecked),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,e.afterViewChecked)),null!=e.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(n,e.onDestroy)}}function fe(t,e,n){ve(t,e,3,n)}function be(t,e,n,i){(3&t[2])===n&&ve(t,e,n,i)}function me(t,e){let n=t[2];(3&n)===e&&(n&=1023,n+=1,t[2]=n)}function ve(t,e,n,i){const o=null!=i?i:-1;let s=0;for(let r=void 0!==i?65535&t[18]:0;r<e.length;r++)if("number"==typeof e[r+1]){if(s=e[r],null!=i&&s>=i)break}else e[r]<0&&(t[18]+=65536),(s<o||-1==o)&&(ye(t,n,e,r),t[18]=(4294901760&t[18])+r+2),r++}function ye(t,e,n,i){const o=n[i]<0,s=n[i+1],r=t[o?-n[i]:n[i]];o?t[2]>>10<t[18]>>16&&(3&t[2])===e&&(t[2]+=1024,s.call(r)):s.call(r)}class Ce{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}let _e=void 0;function xe(t){_e=t}function Pe(){return void 0!==_e?_e:"undefined"!=typeof document?document:void 0}function we(t){return!!t.listen}const Oe={createRenderer:(t,e)=>Pe()};function Me(t,e,n){const i=we(t);let o=0;for(;o<n.length;){const s=n[o];if("number"==typeof s){if(0!==s)break;o++;const r=n[o++],a=n[o++],c=n[o++];i?t.setAttribute(e,a,c,r):e.setAttributeNS(r,a,c)}else{const r=s,a=n[++o];Se(r)?i&&t.setProperty(e,r,a):i?t.setAttribute(e,r,a):e.setAttribute(r,a),o++}}return o}function ke(t){return 3===t||4===t||6===t}function Se(t){return 64===t.charCodeAt(0)}function Ie(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let i=0;i<e.length;i++){const o=e[i];"number"==typeof o?n=o:0===n||Le(t,n,o,null,-1===n||2===n?e[++i]:null)}}return t}function Le(t,e,n,i,o){let s=0,r=t.length;if(-1===e)r=-1;else for(;s<t.length;){const n=t[s++];if("number"==typeof n){if(n===e){r=-1;break}if(n>e){r=s-1;break}}}for(;s<t.length;){const e=t[s];if("number"==typeof e)break;if(e===n){if(null===i)return void(null!==o&&(t[s+1]=o));if(i===t[s+1])return void(t[s+2]=o)}s++,null!==i&&s++,null!==o&&s++}-1!==r&&(t.splice(r,0,e),s=r+1),t.splice(s++,0,n),null!==i&&t.splice(s++,0,i),null!==o&&t.splice(s++,0,o)}function Te(t){return-1!==t}function Ae(t){return 32767&t}function Ne(t){return t>>16}function Be(t,e){let n=Ne(t),i=e;for(;n>0;)i=i[15],n--;return i}function Ve(t){return"string"==typeof t?t:null==t?"":""+t}function Ue(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Ve(t)}const De=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(E))();function Ee(t){return{name:"window",target:t.ownerDocument.defaultView}}function Re(t){return{name:"document",target:t.ownerDocument}}function Fe(t){return t instanceof Function?t():t}let je=!0;function ze(t){const e=je;return je=t,e}let He=0;function Ge(t,e){const n=qe(t,e);if(-1!==n)return n;const i=e[1];i.firstCreatePass&&(t.injectorIndex=e.length,We(i.data,t),We(e,null),We(i.blueprint,null));const o=Qe(t,e),s=t.injectorIndex;if(Te(o)){const t=Ae(o),n=Be(o,e),i=n[1].data;for(let o=0;o<8;o++)e[s+o]=n[t+o]|i[t+o]}return e[s+8]=o,s}function We(t,e){t.push(0,0,0,0,0,0,0,0,e)}function qe(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null==e[t.injectorIndex+8]?-1:t.injectorIndex}function Qe(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=e[6],i=1;for(;n&&-1===n.injectorIndex;)n=(e=e[15])?e[6]:null,i++;return n?n.injectorIndex|i<<16:-1}function $e(t,e,n){!function(t,e,n){let i="string"!=typeof n?n[W]:n.charCodeAt(0)||0;null==i&&(i=n[W]=He++);const o=255&i,s=1<<o,r=64&o,a=32&o,c=e.data;128&o?r?a?c[t+7]|=s:c[t+6]|=s:a?c[t+5]|=s:c[t+4]|=s:r?a?c[t+3]|=s:c[t+2]|=s:a?c[t+1]|=s:c[t]|=s}(t,e,n)}function Ke(t,e,n,i=f.Default,o){if(null!==t){const o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t[W];return"number"==typeof e&&e>0?255&e:e}(n);if("function"==typeof o){se(e,t);try{const t=o();if(null!=t||i&f.Optional)return t;throw new Error(`No provider for ${Ue(n)}!`)}finally{re()}}else if("number"==typeof o){if(-1===o)return new nn(t,e);let s=null,r=qe(t,e),a=-1,c=i&f.Host?e[16][6]:null;for((-1===r||i&f.SkipSelf)&&(a=-1===r?Qe(t,e):e[r+8],en(i,!1)?(s=e[1],r=Ae(a),e=Be(a,e)):r=-1);-1!==r;){a=e[r+8];const t=e[1];if(tn(o,r,t.data)){const t=Ye(r,e,n,s,i,c);if(t!==Xe)return t}en(i,e[1].data[r+8]===c)&&tn(o,r,e)?(s=t,r=Ae(a),e=Be(a,e)):r=-1}}}if(i&f.Optional&&void 0===o&&(o=null),0==(i&(f.Self|f.Host))){const t=e[9],s=tt(void 0);try{return t?t.get(n,o,i&f.Optional):ot(n,o,i&f.Optional)}finally{tt(s)}}if(i&f.Optional)return o;throw new Error(`NodeInjector: NOT_FOUND [${Ue(n)}]`)}const Xe={};function Ye(t,e,n,i,o,s){const r=e[1],a=r.data[t+8],c=Ze(a,r,n,null==i?Dt(a)&&je:i!=r&&3===a.type,o&f.Host&&s===a);return null!==c?Je(e,r,c,a):Xe}function Ze(t,e,n,i,o){const s=t.providerIndexes,r=e.data,a=65535&s,c=t.directiveStart,l=s>>16,h=o?a+l:t.directiveEnd;for(let d=i?a:a+l;d<h;d++){const t=r[d];if(d<c&&n===t||d>=c&&t.type===n)return d}if(o){const t=r[c];if(t&&Rt(t)&&t.type===n)return c}return null}function Je(t,e,n,i){let o=t[n];const s=e.data;if(o instanceof Ce){const r=o;if(r.resolving)throw new Error(`Circular dep for ${Ue(s[n])}`);const a=ze(r.canSeeViewProviders);let c;r.resolving=!0,r.injectImpl&&(c=tt(r.injectImpl)),se(t,i);try{o=t[n]=r.factory(void 0,s,t,i),e.firstCreatePass&&n>=i.directiveStart&&function(t,e,n){const{onChanges:i,onInit:o,doCheck:s}=e;i&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,i),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,i)),o&&(n.preOrderHooks||(n.preOrderHooks=[])).push(-t,o),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{r.injectImpl&&tt(c),ze(a),r.resolving=!1,re()}}return o}function tn(t,e,n){const i=64&t,o=32&t;let s;return s=128&t?i?o?n[e+7]:n[e+6]:o?n[e+5]:n[e+4]:i?o?n[e+3]:n[e+2]:o?n[e+1]:n[e],!!(s&1<<t)}function en(t,e){return!(t&f.Self||t&f.Host&&e)}class nn{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Ke(this._tNode,this._lView,t,void 0,e)}}function on(t){const e=Object.getPrototypeOf(t.prototype).constructor,n=e[G]||function t(e){const n=e;if(N(e))return()=>{const e=t(A(n));return e?e():null};let i=At(n);if(null===i){const t=x(n);i=t&&t.factory}return i||null}(e);return null!==n?n:t=>new t}function sn(t){return t.ngDebugContext}function rn(t){return t.ngOriginalError}function an(t,...e){t.error(...e)}class cn{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),i=function(t){return t.ngErrorLogger||an}(t);i(this._console,"ERROR",t),e&&i(this._console,"ORIGINAL ERROR",e),n&&i(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?sn(t)?sn(t):this._findContext(rn(t)):null}_findOriginalError(t){let e=rn(t);for(;e&&rn(e);)e=rn(e);return e}}class ln{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity}`+" (see http://g.co/ng/security#xss)"}}class hn extends ln{getTypeName(){return"HTML"}}class dn extends ln{getTypeName(){return"Style"}}class un extends ln{getTypeName(){return"Script"}}class gn extends ln{getTypeName(){return"URL"}}class pn extends ln{getTypeName(){return"ResourceURL"}}function fn(t){return t instanceof ln?t.changingThisBreaksApplicationSecurity:t}function bn(t,e){const n=mn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see http://g.co/ng/security#xss)`)}return n===e}function mn(t){return t instanceof ln&&t.getTypeName()||null}function vn(t){return new hn(t)}function yn(t){return new dn(t)}function Cn(t){return new un(t)}function _n(t){return new gn(t)}function xn(t){return new pn(t)}let Pn=!0,wn=!1;function On(){return wn=!0,Pn}function Mn(){if(wn)throw new Error("Cannot enable prod mode after platform setup.");Pn=!1}class kn{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert");let e=this.inertDocument.body;if(null==e){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t),e=this.inertDocument.createElement("body"),t.appendChild(e)}e.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!e.querySelector||e.querySelector("svg")?(e.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=e.querySelector&&e.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}getInertBodyElement_XHR(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(i){return null}const e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(void 0);const n=e.response.body;return n.removeChild(n.firstChild),n}getInertBodyElement_DOMParser(t){t="<body><remove></remove>"+t+"</body>";try{const e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}getInertBodyElement_InertDocument(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=t,e;const n=this.inertDocument.createElement("body");return n.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let i=e.length-1;0<i;i--){const n=e.item(i).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Sn=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,In=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Ln(t){return(t=String(t)).match(Sn)||t.match(In)?t:(On()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`),"unsafe:"+t)}function Tn(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function An(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Nn=Tn("area,br,col,hr,img,wbr"),Bn=Tn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Vn=Tn("rp,rt"),Un=An(Vn,Bn),Dn=An(Nn,An(Bn,Tn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),An(Vn,Tn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Un),En=Tn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Rn=Tn("srcset"),Fn=An(En,Rn,Tn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Tn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),jn=Tn("script,style,template");class zn{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Dn.hasOwnProperty(e))return this.sanitizedSomething=!0,!jn.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let o=0;o<n.length;o++){const t=n.item(o),e=t.name,s=e.toLowerCase();if(!Fn.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let r=t.value;En[s]&&(r=Ln(r)),Rn[s]&&(i=r,r=(i=String(i)).split(",").map(t=>Ln(t.trim())).join(", ")),this.buf.push(" ",e,'="',Wn(r),'"')}var i;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Dn.hasOwnProperty(e)&&!Nn.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(Wn(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const Hn=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Gn=/([^\#-~ |!])/g;function Wn(t){return t.replace(/&/g,"&amp;").replace(Hn,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(Gn,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let qn;function Qn(t,e){let n=null;try{qn=qn||new kn(t);let i=e?String(e):"";n=qn.getInertBodyElement(i);let o=5,s=i;do{if(0===o)throw new Error("Failed to sanitize html because the input is unstable");o--,i=s,s=n.innerHTML,n=qn.getInertBodyElement(i)}while(i!==s);const r=new zn,a=r.sanitizeChildren($n(n)||n);return On()&&r.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n){const t=$n(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function $n(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}const Kn=function(){var t={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return t[t.NONE]="NONE",t[t.HTML]="HTML",t[t.STYLE]="STYLE",t[t.SCRIPT]="SCRIPT",t[t.URL]="URL",t[t.RESOURCE_URL]="RESOURCE_URL",t}(),Xn=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:attr|calc|var))\\([-0-9.%, #a-zA-Z]+\\))$","g"),Yn=/^url\(([^)]+)\)$/;function Zn(t){if(!(t=String(t).trim()))return"";const e=t.match(Yn);return e&&Ln(e[1])===e[1]||t.match(Xn)&&function(t){let e=!0,n=!0;for(let i=0;i<t.length;i++){const o=t.charAt(i);"'"===o&&n?e=!e:'"'===o&&e&&(n=!n)}return e&&n}(t)?t:(On()&&console.warn(`WARNING: sanitizing unsafe style value ${t} (see http://g.co/ng/security#xss).`),"unsafe")}function Jn(t){const e=si();return e?e.sanitize(Kn.HTML,t)||"":bn(t,"HTML")?fn(t):Qn(Pe(),Ve(t))}function ti(t){const e=si();return e?e.sanitize(Kn.STYLE,t)||"":bn(t,"Style")?fn(t):Zn(Ve(t))}function ei(t){const e=si();return e?e.sanitize(Kn.URL,t)||"":bn(t,"URL")?fn(t):Ln(Ve(t))}function ni(t){const e=si();if(e)return e.sanitize(Kn.RESOURCE_URL,t)||"";if(bn(t,"ResourceURL"))return fn(t);throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)")}const ii=function(t,e,n){if(void 0===e&&void 0===n)return ti(t);let i=!0;return 1&(n=n||3)&&(i=oi(t)),2&n?i?ti(e):fn(e):i};function oi(t){return"background-image"===t||"backgroundImage"===t||"background"===t||"border-image"===t||"borderImage"===t||"border-image-source"===t||"borderImageSource"===t||"filter"===t||"list-style"===t||"listStyle"===t||"list-style-image"===t||"listStyleImage"===t||"clip-path"===t||"clipPath"===t}function si(){const t=Ht();return t&&t[12]}function ri(t){for(;Array.isArray(t);)t=t[0];return t}function ai(t,e){return ri(e[t+19])}function ci(t,e){return ri(e[t.index])}function li(t,e){return t.data[e+19]}function hi(t,e){return t[e+19]}function di(t,e){const n=e[t];return Bt(n)?n:n[0]}function ui(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function gi(t){return 4==(4&t[2])}function pi(t){return 128==(128&t[2])}function fi(t,e){return null===t||null==e?null:t[e]}function bi(t){t[18]=0}function mi(t,e){t.__ngContext__=e}function vi(t){throw new Error(`Multiple components match node with tagname ${t.tagName}`)}function yi(){throw new Error("Cannot mix multi providers and regular providers")}function Ci(t,e,n){let i=t.length;for(;;){const o=t.indexOf(e,n);if(-1===o)return o;if(0===o||t.charCodeAt(o-1)<=32){const n=e.length;if(o+n===i||t.charCodeAt(o+n)<=32)return o}n=o+1}}function _i(t,e,n){let i=0;for(;i<t.length;){let o=t[i++];if(n&&"class"===o){if(o=t[i],-1!==Ci(o.toLowerCase(),e,0))return!0}else if(1===o){for(;i<t.length&&"string"==typeof(o=t[i++]);)if(o.toLowerCase()===e)return!0;return!1}}return!1}function xi(t,e,n){return e===(0!==t.type||n?t.tagName:"ng-template")}function Pi(t,e,n){let i=4;const o=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(ke(t[e]))return e;return t.length}(o);let r=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!r)if(4&i){if(i=2|1&i,""!==c&&!xi(t,c,n)||""===c&&1===e.length){if(wi(i))return!1;r=!0}}else{const l=8&i?c:e[++a];if(8&i&&null!==t.attrs){if(!_i(t.attrs,l,n)){if(wi(i))return!1;r=!0}continue}const h=Oi(8&i?"class":c,o,0==t.type&&"ng-template"!==t.tagName,n);if(-1===h){if(wi(i))return!1;r=!0;continue}if(""!==l){let t;t=h>s?"":o[h+1].toLowerCase();const e=8&i?t:null;if(e&&-1!==Ci(e,l,0)||2&i&&l!==t){if(wi(i))return!1;r=!0}}}}else{if(!r&&!wi(i)&&!wi(c))return!1;if(r&&wi(c))continue;r=!1,i=c|1&i}}return wi(i)||r}function wi(t){return 0==(1&t)}function Oi(t,e,n,i){if(null===e)return-1;let o=0;if(i||!n){let n=!1;for(;o<e.length;){const i=e[o];if(i===t)return o;if(3===i||6===i)n=!0;else{if(1===i||2===i){let t=e[++o];for(;"string"==typeof t;)t=e[++o];continue}if(4===i)break;if(0===i){o+=4;continue}}o+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){if(t[n]===e)return n;n++}return-1}(e,t)}function Mi(t,e,n=!1){for(let i=0;i<e.length;i++)if(Pi(t,e[i],n))return!0;return!1}function ki(t,e){t:for(let n=0;n<e.length;n++){const i=e[n];if(t.length===i.length){for(let e=0;e<t.length;e++)if(t[e]!==i[e])continue t;return!0}}return!1}function Si(t,e){return t?":not("+e.trim()+")":e}function Ii(t){let e=t[0],n=1,i=2,o="",s=!1;for(;n<t.length;){let r=t[n];if("string"==typeof r)if(2&i){const e=t[++n];o+="["+r+(e.length>0?'="'+e+'"':"")+"]"}else 8&i?o+="."+r:4&i&&(o+=" "+r);else""===o||wi(r)||(e+=Si(s,o),o=""),i=r,s=s||!wi(i);n++}return""!==o&&(e+=Si(s,o)),e}const Li={};function Ti(t){const e=t[3];return Vt(e)?e[3]:e}function Ai(t){Ni(Gt(),Ht(),de()+t,Xt())}function Ni(t,e,n,i){if(!i)if(3==(3&e[2])){const i=t.preOrderCheckHooks;null!==i&&fe(e,i,n)}else{const i=t.preOrderHooks;null!==i&&be(e,i,0,n)}ue(n)}function Bi(t,e){return t<<17|e<<2}function Vi(t){return t>>17&32767}function Ui(t){return 2|t}function Di(t){return(131068&t)>>2}function Ei(t,e){return-131069&t|e<<2}function Ri(t){return 1|t}function Fi(t,e){const n=t.contentQueries;if(null!==n)for(let i=0;i<n.length;i+=2){const o=n[i],s=n[i+1];if(-1!==s){const n=t.data[s];oe(o),n.contentQueries(2,e[s],s)}}}function ji(t,e,n){return we(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function zi(t,e,n,i,o,s,r,a,c,l){const h=e.blueprint.slice();return h[0]=o,h[2]=140|i,bi(h),h[3]=h[15]=t,h[8]=n,h[10]=r||t&&t[10],h[11]=a||t&&t[11],h[12]=c||t&&t[12]||null,h[9]=l||t&&t[9]||null,h[6]=s,h[16]=2==e.type?t[16]:h,h}function Hi(t,e,n,i,o,s){const r=n+19,a=t.data[r]||function(t,e,n,i,o,s){const r=qt(),a=$t(),c=a?r:r&&r.parent,l=t.data[n]=Ji(0,c&&c!==e?c:null,i,n,o,s);return null===t.firstChild&&(t.firstChild=l),r&&(!a||null!=r.child||null===l.parent&&2!==r.type?a||(r.next=l):r.child=l),l}(t,e,r,i,o,s);return Qt(a,!0),a}function Gi(t,e,n){ae(e,e[6]);try{const i=t.viewQuery;null!==i&&Po(1,i,n);const o=t.template;null!==o&&Qi(t,e,o,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Fi(t,e),t.staticViewQueries&&Po(2,t.viewQuery,n);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)vo(t,e[n])}(e,s)}finally{e[2]&=-5,he()}}function Wi(t,e,n,i){const o=e[2];if(256==(256&o))return;ae(e,e[6]);const s=Xt();try{bi(e),jt.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Qi(t,e,n,2,i);const r=3==(3&o);if(!s)if(r){const n=t.preOrderCheckHooks;null!==n&&fe(e,n,null)}else{const n=t.preOrderHooks;null!==n&&be(e,n,0,null),me(e,0)}if(function(t){let e=t[13];for(;null!==e;){let n;if(Vt(e)&&(n=e[2])>>1==-1){for(let t=9;t<e.length;t++){const n=e[t],i=n[1];pi(n)&&Wi(i,n,i.template,n[8])}0!=(1&n)&&bo(e,t[16])}e=e[4]}}(e),null!==t.contentQueries&&Fi(t,e),!s)if(r){const n=t.contentCheckHooks;null!==n&&fe(e,n)}else{const n=t.contentHooks;null!==n&&be(e,n,1),me(e,1)}!function(t,e){try{const n=t.expandoInstructions;if(null!==n){let i=t.expandoStartIndex,o=-1,s=-1;for(let t=0;t<n.length;t++){const r=n[t];"number"==typeof r?r<=0?(s=0-r,ue(s),i+=9+n[++t],o=i):i+=r:(null!==r&&(ne(i,o),r(2,e[o])),o++)}}}finally{ue(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)mo(t,e[n])}(e,a);const c=t.viewQuery;if(null!==c&&Po(2,c,i),!s)if(r){const n=t.viewCheckHooks;null!==n&&fe(e,n)}else{const n=t.viewHooks;null!==n&&be(e,n,2),me(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73)}finally{he()}}function qi(t,e,n,i){const o=e[10],s=!Xt(),r=gi(e);try{s&&!r&&o.begin&&o.begin(),r&&Gi(t,e,i),Wi(t,e,n,i)}finally{s&&!r&&o.end&&o.end()}}function Qi(t,e,n,i,o){const s=de();try{ue(-1),2&i&&e.length>19&&Ni(t,e,0,Xt()),n(i,o)}finally{ue(s)}}function $i(t,e,n){if(Ut(e)){const i=e.directiveEnd;for(let o=e.directiveStart;o<i;o++){const e=t.data[o];e.contentQueries&&e.contentQueries(1,n[o],o)}}}function Ki(t,e,n){zt()&&(function(t,e,n,i){const o=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||Ge(n,e),mi(i,e);const r=n.initialInputs;for(let a=o;a<s;a++){const i=t.data[a],s=Rt(i);s&&uo(e,n,i);const c=Je(e,t,a,n);mi(c,e),null!==r&&go(0,a-o,c,i,0,r),s&&(di(n.index,e)[8]=c)}}(t,e,n,ci(n,e)),128==(128&n.flags)&&function(t,e,n){const i=n.directiveStart,o=n.directiveEnd,s=t.expandoInstructions,r=t.firstCreatePass,a=n.index-19;try{ue(a);for(let n=i;n<o;n++){const i=t.data[n],o=e[n];null!==i.hostBindings||0!==i.hostVars||null!==i.hostAttrs?so(i,o):r&&s.push(null)}}finally{ue(-1)}}(t,e,n))}function Xi(t,e,n=ci){const i=e.localNames;if(null!==i){let o=e.index+1;for(let s=0;s<i.length;s+=2){const r=i[s+1],a=-1===r?n(e,t):t[r];t[o++]=a}}}function Yi(t){return t.tView||(t.tView=Zi(1,-1,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts))}function Zi(t,e,n,i,o,s,r,a,c,l){const h=19+i,d=h+o,u=function(t,e){const n=[];for(let i=0;i<e;i++)n.push(i<t?null:Li);return n}(h,d);return u[1]={type:t,id:e,blueprint:u,template:n,queries:null,viewQuery:a,node:null,data:u.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:d,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof r?r():r,firstChild:null,schemas:c,consts:l}}function Ji(t,e,n,i,o,s){return{type:n,index:i,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:o,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,residualStyles:void 0,classes:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function to(t,e,n){for(let i in t)if(t.hasOwnProperty(i)){const o=t[i];(n=null===n?{}:n).hasOwnProperty(i)?n[i].push(e,o):n[i]=[e,o]}return n}function eo(t,e,n,i,o,s,r,a){const c=ai(n,e),l=li(t,n);let h,d=l.inputs;if(!r&&null!=d&&(h=d[i]))Io(t,e,h,i,o),Dt(l)&&function(t,e){const n=di(e,t);16&n[2]||(n[2]|=64)}(e,n+19);else if(3===l.type){i="class"===(u=i)?"className":"for"===u?"htmlFor":"formaction"===u?"formAction":"innerHtml"===u?"innerHTML":"readonly"===u?"readOnly":"tabindex"===u?"tabIndex":u;const t=a?a(l,e):e[11];o=null!=s?s(o,l.tagName||"",i):o,we(t)?t.setProperty(c,i,o):Se(i)||(c.setProperty?c.setProperty(i,o):c[i]=o)}var u}function no(t,e,n,i){let o=!1;if(zt()){const s=function(t,e,n){const i=t.directiveRegistry;let o=null;if(i)for(let s=0;s<i.length;s++){const r=i[s];Mi(n,r.selectors,!1)&&(o||(o=[]),$e(Ge(n,e),t,r.type),Rt(r)?(2&n.flags&&vi(n),ao(t,n),o.unshift(r)):o.push(r))}return o}(t,e,n),r=null===i?null:{"":-1};if(null!==s){let i=0;o=!0,lo(n,t.data.length,s.length);for(let t=0;t<s.length;t++){const e=s[t];e.providersResolver&&e.providersResolver(e)}ro(t,n,s.length);let a=!1,c=!1;for(let o=0;o<s.length;o++){const l=s[o];n.mergedAttrs=Ie(n.mergedAttrs,l.hostAttrs),ho(t,e,l),co(t.data.length-1,l,r),null!==l.contentQueries&&(n.flags|=8),null===l.hostBindings&&null===l.hostAttrs&&0===l.hostVars||(n.flags|=128),!a&&(l.onChanges||l.onInit||l.doCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index-19),a=!0),c||!l.onChanges&&!l.doCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index-19),c=!0),io(t,l),i+=l.hostVars}!function(t,e){const n=e.directiveEnd,i=t.data,o=e.attrs,s=[];let r=null,a=null;for(let c=e.directiveStart;c<n;c++){const t=i[c],e=t.inputs;s.push(null!==o?po(e,o):null),r=to(e,c,r),a=to(t.outputs,c,a)}null!==r&&((r.hasOwnProperty("class")||r.hasOwnProperty("className"))&&(e.flags|=16),r.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=r,e.outputs=a}(t,n),oo(t,e,i)}r&&function(t,e,n){if(e){const i=t.localNames=[];for(let t=0;t<e.length;t+=2){const o=n[e[t+1]];if(null==o)throw new Error(`Export of name '${e[t+1]}' not found!`);i.push(e[t],o)}}}(n,i,r)}return n.mergedAttrs=Ie(n.mergedAttrs,n.attrs),o}function io(t,e){const n=t.expandoInstructions;n.push(e.hostBindings),0!==e.hostVars&&n.push(e.hostVars)}function oo(t,e,n){for(let i=0;i<n;i++)e.push(Li),t.blueprint.push(Li),t.data.push(null)}function so(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function ro(t,e,n){const i=19-e.index,o=t.data.length-(65535&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(i,o,n)}function ao(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function co(t,e,n){if(n){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)n[e.exportAs[i]]=t;Rt(e)&&(n[""]=t)}}function lo(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function ho(t,e,n){t.data.push(n);const i=n.factory||(n.factory=At(n.type)),o=new Ce(i,Rt(n),null);t.blueprint.push(o),e.push(o)}function uo(t,e,n){const i=ci(e,t),o=Yi(n),s=t[10],r=yo(t,zi(t,o,null,n.onPush?64:16,i,e,s,s.createRenderer(i,n)));t[e.index]=r}function go(t,e,n,i,o,s){const r=s[e];if(null!==r){const t=i.setInput;for(let e=0;e<r.length;){const o=r[e++],s=r[e++],a=r[e++];null!==t?i.setInput(n,a,o,s):n[s]=a}}}function po(t,e){let n=null,i=0;for(;i<e.length;){const o=e[i];if(0!==o)if(5!==o){if("number"==typeof o)break;t.hasOwnProperty(o)&&(null===n&&(n=[]),n.push(o,t[o],e[i+1])),i+=2}else i+=2;else i+=4}return n}function fo(t,e,n,i){return new Array(t,!0,-2,e,null,null,i,n,null)}function bo(t,e){const n=t[5];for(let i=0;i<n.length;i++){const t=n[i],o=t[3][3][16];if(o!==e&&0==(16&o[2])){const e=t[1];Wi(e,t,e.template,t[8])}}}function mo(t,e){const n=di(e,t);if(pi(n)&&80&n[2]){const t=n[1];Wi(t,n,t.template,n[8])}}function vo(t,e){const n=di(e,t),i=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(i,n),Gi(i,n,n[8])}function yo(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Co(t){for(;t;){t[2]|=64;const e=Ti(t);if(Ft(t)&&!e)return t;t=e}return null}function _o(t,e,n){const i=e[10];i.begin&&i.begin();try{Wi(t,e,t.template,n)}catch(o){throw So(e,o),o}finally{i.end&&i.end()}}function xo(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],i=ui(n),o=i[1];qi(o,i,o.template,n)}}(t[8])}function Po(t,e,n){oe(0),e(t,n)}const wo=(()=>Promise.resolve(null))();function Oo(t){return t[7]||(t[7]=[])}function Mo(t){return t.cleanup||(t.cleanup=[])}function ko(t,e){return e[t.index][11]}function So(t,e){const n=t[9],i=n?n.get(cn,null):null;i&&i.handleError(e)}function Io(t,e,n,i,o){for(let s=0;s<n.length;){const r=n[s++],a=n[s++],c=e[r],l=t.data[r];null!==l.setInput?l.setInput(c,o,i,a):c[a]=o}}function Lo(t,e,n){const i=ai(e,t),o=t[11];we(o)?o.setValue(i,n):i.textContent=n}function To(t,e){const n=e[3];return-1===t.index?Vt(n)?n:null:n}function Ao(t,e){const n=To(t,e);return n?Go(e[11],n[7]):null}function No(t,e,n,i,o){if(null!=i){let s,r=!1;Vt(i)?s=i:Bt(i)&&(r=!0,i=i[0]);const a=ri(i);0===t&&null!==n?null==o?zo(e,n,a):jo(e,n,a,o||null):1===t&&null!==n?jo(e,n,a,o||null):2===t?function(t,e,n){const i=Go(t,e);i&&function(t,e,n,i){we(t)?t.removeChild(e,n,i):e.removeChild(n)}(t,i,e,n)}(e,a,r):3===t&&e.destroyNode(a),null!=s&&function(t,e,n,i,o){const s=n[7];s!==ri(n)&&No(e,t,i,s,o);for(let r=9;r<n.length;r++){const o=n[r];Ko(o[1],o,t,e,i,s)}}(e,t,s,n,o)}}function Bo(t,e,n,i){const o=Ao(t.node,e);o&&Ko(t,e,e[11],n?1:2,o,i)}function Vo(t,e){const n=t[5],i=n.indexOf(e);n.splice(i,1)}function Uo(t,e){if(t.length<=9)return;const n=9+e,i=t[n];if(i){const o=i[17];null!==o&&o!==t&&Vo(o,i),e>0&&(t[n-1][4]=i[4]);const s=dt(t,9+e);Bo(i[1],i,!1,null);const r=s[5];null!==r&&r.detachView(s[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}function Do(t,e){if(!(256&e[2])){const n=e[11];we(n)&&n.destroyNode&&Ko(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Ro(t[1],t);for(;e;){let n=null;if(Bt(e))n=e[13];else{const t=e[9];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)Bt(e)&&Ro(e[1],e),e=Eo(e,t);null===e&&(e=t),Bt(e)&&Ro(e[1],e),n=e&&e[4]}e=n}}(e)}}function Eo(t,e){let n;return Bt(t)&&(n=t[6])&&2===n.type?To(n,t):t[3]===e?null:t[3]}function Ro(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let i=0;i<n.length;i+=2){const t=e[n[i]];t instanceof Ce||n[i+1].call(t)}}(t,e),function(t,e){const n=t.cleanup;if(null!==n){const t=e[7];for(let i=0;i<n.length-1;i+=2)if("string"==typeof n[i]){const o=n[i+1],s="function"==typeof o?o(e):ri(e[o]),r=t[n[i+2]],a=n[i+3];"boolean"==typeof a?s.removeEventListener(n[i],r,a):a>=0?t[a]():t[-a].unsubscribe(),i+=2}else n[i].call(t[n[i+1]]);e[7]=null}}(t,e);const n=e[6];n&&3===n.type&&we(e[11])&&e[11].destroy();const i=e[17];if(null!==i&&Vt(e[3])){i!==e[3]&&Vo(i,e);const n=e[5];null!==n&&n.detachView(t)}}}function Fo(t,e,n){let i=e.parent;for(;null!=i&&(4===i.type||5===i.type);)i=(e=i).parent;if(null==i){const t=n[6];return 2===t.type?Ao(t,n):n[0]}if(e&&5===e.type&&4&e.flags)return ci(e,n).parentNode;if(2&i.flags){const e=t.data,n=e[e[i.index].directiveStart].encapsulation;if(n!==mt.ShadowDom&&n!==mt.Native)return null}return ci(i,n)}function jo(t,e,n,i){we(t)?t.insertBefore(e,n,i):e.insertBefore(n,i,!0)}function zo(t,e,n){we(t)?t.appendChild(e,n):e.appendChild(n)}function Ho(t,e,n,i){null!==i?jo(t,e,n,i):zo(t,e,n)}function Go(t,e){return we(t)?t.parentNode(e):e.parentNode}function Wo(t,e){if(2===t.type){const n=To(t,e);return null===n?null:Qo(n.indexOf(e,9)-9,n)}return 4===t.type||5===t.type?ci(t,e):null}function qo(t,e,n,i){const o=Fo(t,i,e);if(null!=o){const t=e[11],s=Wo(i.parent||e[6],e);if(Array.isArray(n))for(let e=0;e<n.length;e++)Ho(t,o,n[e],s);else Ho(t,o,n,s)}}function Qo(t,e){const n=9+t+1;if(n<e.length){const t=e[n],i=t[1].firstChild;if(null!==i)return function t(e,n){if(null!==n){const i=n.type;if(3===i)return ci(n,e);if(0===i)return Qo(-1,e[n.index]);if(4===i||5===i){const i=n.child;if(null!==i)return t(e,i);{const t=e[n.index];return Vt(t)?Qo(-1,t):ri(t)}}{const i=e[16],o=i[6],s=Ti(i),r=o.projection[n.projection];return null!=r?t(s,r):t(e,n.next)}}return null}(t,i)}return e[7]}function $o(t,e,n,i,o,s,r){for(;null!=n;){const a=i[n.index],c=n.type;r&&0===e&&(a&&mi(ri(a),i),n.flags|=4),64!=(64&n.flags)&&(4===c||5===c?($o(t,e,n.child,i,o,s,!1),No(e,t,o,a,s)):1===c?Xo(t,e,i,n,o,s):No(e,t,o,a,s)),n=r?n.projectionNext:n.next}}function Ko(t,e,n,i,o,s){$o(n,i,t.node.child,e,o,s,!1)}function Xo(t,e,n,i,o,s){const r=n[16],a=r[6].projection[i.projection];if(Array.isArray(a))for(let c=0;c<a.length;c++)No(e,t,o,a[c],s);else $o(t,e,a,r[3],o,s,!0)}function Yo(t,e,n){we(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Zo(t,e,n){we(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}class Jo{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._viewContainerRef=null,this._tViewNode=null}get rootNodes(){const t=this._lView;return null==t[0]?function t(e,n,i,o,s=!1){for(;null!==i;){const r=n[i.index];if(null!==r&&o.push(ri(r)),Vt(r))for(let e=9;e<r.length;e++){const n=r[e],i=n[1].firstChild;null!==i&&t(n[1],n,i,o)}const a=i.type;if(4===a||5===a)t(e,n,i.child,o);else if(1===a){const e=n[16],s=e[6],r=Ti(e);let a=s.projection[i.projection];null!==a&&null!==r&&t(r[1],r,a,o,!0)}i=s?i.projectionNext:i.next}return o}(t[1],t,t[6].child,[]):[]}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}Do(this._lView[1],this._lView)}onDestroy(t){var e,n,i;e=this._lView[1],i=t,Oo(n=this._lView).push(i),e.firstCreatePass&&Mo(e).push(n[7].length-1,null)}markForCheck(){Co(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){_o(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Yt(!0);try{_o(t,e,n)}finally{Yt(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}detachFromAppRef(){var t;this._appRef=null,Ko(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class ts extends Jo{constructor(t){super(t),this._view=t}detectChanges(){xo(this._view)}checkNoChanges(){!function(t){Yt(!0);try{xo(t)}finally{Yt(!1)}}(this._view)}get context(){return null}}let es,ns,is;function os(t,e,n){return es||(es=class extends t{}),new es(ci(e,n))}function ss(t,e,n,i){return ns||(ns=class extends t{constructor(t,e,n){super(),this._declarationView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=zi(this._declarationView,e,t,16,null,e.node);n[17]=this._declarationView[this._declarationTContainer.index];const i=this._declarationView[5];null!==i&&(n[5]=i.createEmbeddedView(e)),Gi(e,n,t);const o=new Jo(n);return o._tViewNode=n[6],o}}),0===n.type?new ns(i,n,os(e,n,i)):null}function rs(t,e,n,i){let o;is||(is=class extends t{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostView=n}