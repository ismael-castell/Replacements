!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=204)}([function(t,e,n){"use strict";(function(t,i){var r;
/**
 * @license
 * Lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash minus="template"`
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var o="Expected a function",a="__lodash_placeholder__",s=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],u="[object Arguments]",l="[object Array]",c="[object Boolean]",d="[object Date]",h="[object Error]",f="[object Function]",p="[object GeneratorFunction]",g="[object Map]",m="[object Number]",v="[object Object]",y="[object RegExp]",_="[object Set]",b="[object String]",T="[object Symbol]",S="[object WeakMap]",w="[object ArrayBuffer]",E="[object DataView]",C="[object Float32Array]",O="[object Float64Array]",A="[object Int8Array]",P="[object Int16Array]",I="[object Int32Array]",x="[object Uint8Array]",M="[object Uint16Array]",k="[object Uint32Array]",D=/&(?:amp|lt|gt|quot|#39);/g,R=/[&<>"']/g,N=RegExp(D.source),L=RegExp(R.source),F=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,V=/^\w*$/,j=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,U=/[\\^$.*+?()[\]{}|]/g,B=RegExp(U.source),H=/^\s+|\s+$/g,G=/^\s+/,W=/\s+$/,z=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,$=/\{\n\/\* \[wrapped with (.+)\] \*/,Y=/,? & /,q=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,X=/\\(\\)?/g,K=/\w*$/,Z=/^[-+]0x[0-9a-f]+$/i,J=/^0b[01]+$/i,Q=/^\[object .+?Constructor\]$/,tt=/^0o[0-7]+$/i,et=/^(?:0|[1-9]\d*)$/,nt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,it="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",rt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ot="[\\ud800-\\udfff]",at="["+rt+"]",st="["+it+"]",ut="\\d+",lt="[\\u2700-\\u27bf]",ct="[a-z\\xdf-\\xf6\\xf8-\\xff]",dt="[^\\ud800-\\udfff"+rt+ut+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",ht="\\ud83c[\\udffb-\\udfff]",ft="[^\\ud800-\\udfff]",pt="(?:\\ud83c[\\udde6-\\uddff]){2}",gt="[\\ud800-\\udbff][\\udc00-\\udfff]",mt="[A-Z\\xc0-\\xd6\\xd8-\\xde]",vt="(?:"+ct+"|"+dt+")",yt="(?:"+mt+"|"+dt+")",_t="(?:"+st+"|"+ht+")"+"?",bt="[\\ufe0e\\ufe0f]?"+_t+("(?:\\u200d(?:"+[ft,pt,gt].join("|")+")[\\ufe0e\\ufe0f]?"+_t+")*"),Tt="(?:"+[lt,pt,gt].join("|")+")"+bt,St="(?:"+[ft+st+"?",st,pt,gt,ot].join("|")+")",wt=RegExp("['’]","g"),Et=RegExp(st,"g"),Ct=RegExp(ht+"(?="+ht+")|"+St+bt,"g"),Ot=RegExp([mt+"?"+ct+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[at,mt,"$"].join("|")+")",yt+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[at,mt+vt,"$"].join("|")+")",mt+"?"+vt+"+(?:['’](?:d|ll|m|re|s|t|ve))?",mt+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ut,Tt].join("|"),"g"),At=RegExp("[\\u200d\\ud800-\\udfff"+it+"\\ufe0e\\ufe0f]"),Pt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,It=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],xt={};xt[C]=xt[O]=xt[A]=xt[P]=xt[I]=xt[x]=xt["[object Uint8ClampedArray]"]=xt[M]=xt[k]=!0,xt[u]=xt[l]=xt[w]=xt[c]=xt[E]=xt[d]=xt[h]=xt[f]=xt[g]=xt[m]=xt[v]=xt[y]=xt[_]=xt[b]=xt[S]=!1;var Mt={};Mt[u]=Mt[l]=Mt[w]=Mt[E]=Mt[c]=Mt[d]=Mt[C]=Mt[O]=Mt[A]=Mt[P]=Mt[I]=Mt[g]=Mt[m]=Mt[v]=Mt[y]=Mt[_]=Mt[b]=Mt[T]=Mt[x]=Mt["[object Uint8ClampedArray]"]=Mt[M]=Mt[k]=!0,Mt[h]=Mt[f]=Mt[S]=!1;var kt=parseFloat,Dt=parseInt,Rt="object"==typeof t&&t&&t.Object===Object&&t,Nt="object"==typeof self&&self&&self.Object===Object&&self,Lt=Rt||Nt||Function("return this")(),Ft=e&&!e.nodeType&&e,Vt=Ft&&"object"==typeof i&&i&&!i.nodeType&&i,jt=Vt&&Vt.exports===Ft,Ut=jt&&Rt.process,Bt=function(){try{var t=Vt&&Vt.require&&Vt.require("util").types;return t||Ut&&Ut.binding&&Ut.binding("util")}catch(t){}}(),Ht=Bt&&Bt.isArrayBuffer,Gt=Bt&&Bt.isDate,Wt=Bt&&Bt.isMap,zt=Bt&&Bt.isRegExp,$t=Bt&&Bt.isSet,Yt=Bt&&Bt.isTypedArray;function qt(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function Xt(t,e,n,i){for(var r=-1,o=null==t?0:t.length;++r<o;){var a=t[r];e(i,a,n(a),t)}return i}function Kt(t,e){for(var n=-1,i=null==t?0:t.length;++n<i&&!1!==e(t[n],n,t););return t}function Zt(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function Jt(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(!e(t[n],n,t))return!1;return!0}function Qt(t,e){for(var n=-1,i=null==t?0:t.length,r=0,o=[];++n<i;){var a=t[n];e(a,n,t)&&(o[r++]=a)}return o}function te(t,e){return!!(null==t?0:t.length)&&ce(t,e,0)>-1}function ee(t,e,n){for(var i=-1,r=null==t?0:t.length;++i<r;)if(n(e,t[i]))return!0;return!1}function ne(t,e){for(var n=-1,i=null==t?0:t.length,r=Array(i);++n<i;)r[n]=e(t[n],n,t);return r}function ie(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}function re(t,e,n,i){var r=-1,o=null==t?0:t.length;for(i&&o&&(n=t[++r]);++r<o;)n=e(n,t[r],r,t);return n}function oe(t,e,n,i){var r=null==t?0:t.length;for(i&&r&&(n=t[--r]);r--;)n=e(n,t[r],r,t);return n}function ae(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}var se=pe("length");function ue(t,e,n){var i;return n(t,(function(t,n,r){if(e(t,n,r))return i=n,!1})),i}function le(t,e,n,i){for(var r=t.length,o=n+(i?1:-1);i?o--:++o<r;)if(e(t[o],o,t))return o;return-1}function ce(t,e,n){return e==e?function(t,e,n){var i=n-1,r=t.length;for(;++i<r;)if(t[i]===e)return i;return-1}(t,e,n):le(t,he,n)}function de(t,e,n,i){for(var r=n-1,o=t.length;++r<o;)if(i(t[r],e))return r;return-1}function he(t){return t!=t}function fe(t,e){var n=null==t?0:t.length;return n?ve(t,e)/n:NaN}function pe(t){return function(e){return null==e?void 0:e[t]}}function ge(t){return function(e){return null==t?void 0:t[e]}}function me(t,e,n,i,r){return r(t,(function(t,r,o){n=i?(i=!1,t):e(n,t,r,o)})),n}function ve(t,e){for(var n,i=-1,r=t.length;++i<r;){var o=e(t[i]);void 0!==o&&(n=void 0===n?o:n+o)}return n}function ye(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}function _e(t){return function(e){return t(e)}}function be(t,e){return ne(e,(function(e){return t[e]}))}function Te(t,e){return t.has(e)}function Se(t,e){for(var n=-1,i=t.length;++n<i&&ce(e,t[n],0)>-1;);return n}function we(t,e){for(var n=t.length;n--&&ce(e,t[n],0)>-1;);return n}function Ee(t,e){for(var n=t.length,i=0;n--;)t[n]===e&&++i;return i}var Ce=ge({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),Oe=ge({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Ae(t){return At.test(t)}function Pe(t){var e=-1,n=Array(t.size);return t.forEach((function(t,i){n[++e]=[i,t]})),n}function Ie(t,e){return function(n){return t(e(n))}}function xe(t,e){for(var n=-1,i=t.length,r=0,o=[];++n<i;){var s=t[n];s!==e&&s!==a||(t[n]=a,o[r++]=n)}return o}function Me(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function ke(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}function De(t){return Ae(t)?function(t){var e=Ct.lastIndex=0;for(;Ct.test(t);)++e;return e}(t):se(t)}function Re(t){return Ae(t)?function(t){return t.match(Ct)||[]}(t):function(t){return t.split("")}(t)}var Ne=ge({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Le=function t(e){var n,i=(e=null==e?Lt:Le.defaults(Lt.Object(),e,Le.pick(Lt,It))).Array,r=e.Date,it=e.Error,rt=e.Function,ot=e.Math,at=e.Object,st=e.RegExp,ut=e.String,lt=e.TypeError,ct=i.prototype,dt=rt.prototype,ht=at.prototype,ft=e["__core-js_shared__"],pt=dt.toString,gt=ht.hasOwnProperty,mt=0,vt=(n=/[^.]+$/.exec(ft&&ft.keys&&ft.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",yt=ht.toString,_t=pt.call(at),bt=Lt._,Tt=st("^"+pt.call(gt).replace(U,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),St=jt?e.Buffer:void 0,Ct=e.Symbol,At=e.Uint8Array,Rt=St?St.allocUnsafe:void 0,Nt=Ie(at.getPrototypeOf,at),Ft=at.create,Vt=ht.propertyIsEnumerable,Ut=ct.splice,Bt=Ct?Ct.isConcatSpreadable:void 0,se=Ct?Ct.iterator:void 0,ge=Ct?Ct.toStringTag:void 0,Fe=function(){try{var t=Br(at,"defineProperty");return t({},"",{}),t}catch(t){}}(),Ve=e.clearTimeout!==Lt.clearTimeout&&e.clearTimeout,je=r&&r.now!==Lt.Date.now&&r.now,Ue=e.setTimeout!==Lt.setTimeout&&e.setTimeout,Be=ot.ceil,He=ot.floor,Ge=at.getOwnPropertySymbols,We=St?St.isBuffer:void 0,ze=e.isFinite,$e=ct.join,Ye=Ie(at.keys,at),qe=ot.max,Xe=ot.min,Ke=r.now,Ze=e.parseInt,Je=ot.random,Qe=ct.reverse,tn=Br(e,"DataView"),en=Br(e,"Map"),nn=Br(e,"Promise"),rn=Br(e,"Set"),on=Br(e,"WeakMap"),an=Br(at,"create"),sn=on&&new on,un={},ln=go(tn),cn=go(en),dn=go(nn),hn=go(rn),fn=go(on),pn=Ct?Ct.prototype:void 0,gn=pn?pn.valueOf:void 0,mn=pn?pn.toString:void 0;function vn(t){if(ka(t)&&!Ta(t)&&!(t instanceof Tn)){if(t instanceof bn)return t;if(gt.call(t,"__wrapped__"))return mo(t)}return new bn(t)}var yn=function(){function t(){}return function(e){if(!Ma(e))return{};if(Ft)return Ft(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function _n(){}function bn(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}function Tn(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Sn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function wn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function En(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function Cn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new En;++e<n;)this.add(t[e])}function On(t){var e=this.__data__=new wn(t);this.size=e.size}function An(t,e){var n=Ta(t),i=!n&&ba(t),r=!n&&!i&&Ca(t),o=!n&&!i&&!r&&Ua(t),a=n||i||r||o,s=a?ye(t.length,ut):[],u=s.length;for(var l in t)!e&&!gt.call(t,l)||a&&("length"==l||r&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||qr(l,u))||s.push(l);return s}function Pn(t){var e=t.length;return e?t[Ci(0,e-1)]:void 0}function In(t,e){return ho(ar(t),Vn(e,0,t.length))}function xn(t){return ho(ar(t))}function Mn(t,e,n){(void 0!==n&&!va(t[e],n)||void 0===n&&!(e in t))&&Ln(t,e,n)}function kn(t,e,n){var i=t[e];gt.call(t,e)&&va(i,n)&&(void 0!==n||e in t)||Ln(t,e,n)}function Dn(t,e){for(var n=t.length;n--;)if(va(t[n][0],e))return n;return-1}function Rn(t,e,n,i){return Gn(t,(function(t,r,o){e(i,t,n(t),o)})),i}function Nn(t,e){return t&&sr(e,us(e),t)}function Ln(t,e,n){"__proto__"==e&&Fe?Fe(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Fn(t,e){for(var n=-1,r=e.length,o=i(r),a=null==t;++n<r;)o[n]=a?void 0:is(t,e[n]);return o}function Vn(t,e,n){return t==t&&(void 0!==n&&(t=t<=n?t:n),void 0!==e&&(t=t>=e?t:e)),t}function jn(t,e,n,i,r,o){var a,s=1&e,l=2&e,h=4&e;if(n&&(a=r?n(t,i,r,o):n(t)),void 0!==a)return a;if(!Ma(t))return t;var S=Ta(t);if(S){if(a=function(t){var e=t.length,n=new t.constructor(e);e&&"string"==typeof t[0]&&gt.call(t,"index")&&(n.index=t.index,n.input=t.input);return n}(t),!s)return ar(t,a)}else{var D=Wr(t),R=D==f||D==p;if(Ca(t))return tr(t,s);if(D==v||D==u||R&&!r){if(a=l||R?{}:$r(t),!s)return l?function(t,e){return sr(t,Gr(t),e)}(t,function(t,e){return t&&sr(e,ls(e),t)}(a,t)):function(t,e){return sr(t,Hr(t),e)}(t,Nn(a,t))}else{if(!Mt[D])return r?t:{};a=function(t,e,n){var i=t.constructor;switch(e){case w:return er(t);case c:case d:return new i(+t);case E:return function(t,e){var n=e?er(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case C:case O:case A:case P:case I:case x:case"[object Uint8ClampedArray]":case M:case k:return nr(t,n);case g:return new i;case m:case b:return new i(t);case y:return function(t){var e=new t.constructor(t.source,K.exec(t));return e.lastIndex=t.lastIndex,e}(t);case _:return new i;case T:return r=t,gn?at(gn.call(r)):{}}var r}(t,D,s)}}o||(o=new On);var N=o.get(t);if(N)return N;o.set(t,a),Fa(t)?t.forEach((function(i){a.add(jn(i,e,n,i,t,o))})):Da(t)&&t.forEach((function(i,r){a.set(r,jn(i,e,n,r,t,o))}));var L=S?void 0:(h?l?Rr:Dr:l?ls:us)(t);return Kt(L||t,(function(i,r){L&&(i=t[r=i]),kn(a,r,jn(i,e,n,r,t,o))})),a}function Un(t,e,n){var i=n.length;if(null==t)return!i;for(t=at(t);i--;){var r=n[i],o=e[r],a=t[r];if(void 0===a&&!(r in t)||!o(a))return!1}return!0}function Bn(t,e,n){if("function"!=typeof t)throw new lt(o);return so((function(){t.apply(void 0,n)}),e)}function Hn(t,e,n,i){var r=-1,o=te,a=!0,s=t.length,u=[],l=e.length;if(!s)return u;n&&(e=ne(e,_e(n))),i?(o=ee,a=!1):e.length>=200&&(o=Te,a=!1,e=new Cn(e));t:for(;++r<s;){var c=t[r],d=null==n?c:n(c);if(c=i||0!==c?c:0,a&&d==d){for(var h=l;h--;)if(e[h]===d)continue t;u.push(c)}else o(e,d,i)||u.push(c)}return u}vn.prototype=_n.prototype,vn.prototype.constructor=vn,bn.prototype=yn(_n.prototype),bn.prototype.constructor=bn,Tn.prototype=yn(_n.prototype),Tn.prototype.constructor=Tn,Sn.prototype.clear=function(){this.__data__=an?an(null):{},this.size=0},Sn.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Sn.prototype.get=function(t){var e=this.__data__;if(an){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return gt.call(e,t)?e[t]:void 0},Sn.prototype.has=function(t){var e=this.__data__;return an?void 0!==e[t]:gt.call(e,t)},Sn.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=an&&void 0===e?"__lodash_hash_undefined__":e,this},wn.prototype.clear=function(){this.__data__=[],this.size=0},wn.prototype.delete=function(t){var e=this.__data__,n=Dn(e,t);return!(n<0)&&(n==e.length-1?e.pop():Ut.call(e,n,1),--this.size,!0)},wn.prototype.get=function(t){var e=this.__data__,n=Dn(e,t);return n<0?void 0:e[n][1]},wn.prototype.has=function(t){return Dn(this.__data__,t)>-1},wn.prototype.set=function(t,e){var n=this.__data__,i=Dn(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this},En.prototype.clear=function(){this.size=0,this.__data__={hash:new Sn,map:new(en||wn),string:new Sn}},En.prototype.delete=function(t){var e=jr(this,t).delete(t);return this.size-=e?1:0,e},En.prototype.get=function(t){return jr(this,t).get(t)},En.prototype.has=function(t){return jr(this,t).has(t)},En.prototype.set=function(t,e){var n=jr(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this},Cn.prototype.add=Cn.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Cn.prototype.has=function(t){return this.__data__.has(t)},On.prototype.clear=function(){this.__data__=new wn,this.size=0},On.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},On.prototype.get=function(t){return this.__data__.get(t)},On.prototype.has=function(t){return this.__data__.has(t)},On.prototype.set=function(t,e){var n=this.__data__;if(n instanceof wn){var i=n.__data__;if(!en||i.length<199)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new En(i)}return n.set(t,e),this.size=n.size,this};var Gn=cr(Zn),Wn=cr(Jn,!0);function zn(t,e){var n=!0;return Gn(t,(function(t,i,r){return n=!!e(t,i,r)})),n}function $n(t,e,n){for(var i=-1,r=t.length;++i<r;){var o=t[i],a=e(o);if(null!=a&&(void 0===s?a==a&&!ja(a):n(a,s)))var s=a,u=o}return u}function Yn(t,e){var n=[];return Gn(t,(function(t,i,r){e(t,i,r)&&n.push(t)})),n}function qn(t,e,n,i,r){var o=-1,a=t.length;for(n||(n=Yr),r||(r=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?qn(s,e-1,n,i,r):ie(r,s):i||(r[r.length]=s)}return r}var Xn=dr(),Kn=dr(!0);function Zn(t,e){return t&&Xn(t,e,us)}function Jn(t,e){return t&&Kn(t,e,us)}function Qn(t,e){return Qt(e,(function(e){return Pa(t[e])}))}function ti(t,e){for(var n=0,i=(e=Ki(e,t)).length;null!=t&&n<i;)t=t[po(e[n++])];return n&&n==i?t:void 0}function ei(t,e,n){var i=e(t);return Ta(t)?i:ie(i,n(t))}function ni(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":ge&&ge in at(t)?function(t){var e=gt.call(t,ge),n=t[ge];try{t[ge]=void 0;var i=!0}catch(t){}var r=yt.call(t);i&&(e?t[ge]=n:delete t[ge]);return r}(t):function(t){return yt.call(t)}(t)}function ii(t,e){return t>e}function ri(t,e){return null!=t&&gt.call(t,e)}function oi(t,e){return null!=t&&e in at(t)}function ai(t,e,n){for(var r=n?ee:te,o=t[0].length,a=t.length,s=a,u=i(a),l=1/0,c=[];s--;){var d=t[s];s&&e&&(d=ne(d,_e(e))),l=Xe(d.length,l),u[s]=!n&&(e||o>=120&&d.length>=120)?new Cn(s&&d):void 0}d=t[0];var h=-1,f=u[0];t:for(;++h<o&&c.length<l;){var p=d[h],g=e?e(p):p;if(p=n||0!==p?p:0,!(f?Te(f,g):r(c,g,n))){for(s=a;--s;){var m=u[s];if(!(m?Te(m,g):r(t[s],g,n)))continue t}f&&f.push(g),c.push(p)}}return c}function si(t,e,n){var i=null==(t=io(t,e=Ki(e,t)))?t:t[po(Ao(e))];return null==i?void 0:qt(i,t,n)}function ui(t){return ka(t)&&ni(t)==u}function li(t,e,n,i,r){return t===e||(null==t||null==e||!ka(t)&&!ka(e)?t!=t&&e!=e:function(t,e,n,i,r,o){var a=Ta(t),s=Ta(e),f=a?l:Wr(t),p=s?l:Wr(e),S=(f=f==u?v:f)==v,C=(p=p==u?v:p)==v,O=f==p;if(O&&Ca(t)){if(!Ca(e))return!1;a=!0,S=!1}if(O&&!S)return o||(o=new On),a||Ua(t)?Mr(t,e,n,i,r,o):function(t,e,n,i,r,o,a){switch(n){case E:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case w:return!(t.byteLength!=e.byteLength||!o(new At(t),new At(e)));case c:case d:case m:return va(+t,+e);case h:return t.name==e.name&&t.message==e.message;case y:case b:return t==e+"";case g:var s=Pe;case _:var u=1&i;if(s||(s=Me),t.size!=e.size&&!u)return!1;var l=a.get(t);if(l)return l==e;i|=2,a.set(t,e);var f=Mr(s(t),s(e),i,r,o,a);return a.delete(t),f;case T:if(gn)return gn.call(t)==gn.call(e)}return!1}(t,e,f,n,i,r,o);if(!(1&n)){var A=S&&gt.call(t,"__wrapped__"),P=C&&gt.call(e,"__wrapped__");if(A||P){var I=A?t.value():t,x=P?e.value():e;return o||(o=new On),r(I,x,n,i,o)}}if(!O)return!1;return o||(o=new On),function(t,e,n,i,r,o){var a=1&n,s=Dr(t),u=s.length,l=Dr(e).length;if(u!=l&&!a)return!1;var c=u;for(;c--;){var d=s[c];if(!(a?d in e:gt.call(e,d)))return!1}var h=o.get(t),f=o.get(e);if(h&&f)return h==e&&f==t;var p=!0;o.set(t,e),o.set(e,t);var g=a;for(;++c<u;){d=s[c];var m=t[d],v=e[d];if(i)var y=a?i(v,m,d,e,t,o):i(m,v,d,t,e,o);if(!(void 0===y?m===v||r(m,v,n,i,o):y)){p=!1;break}g||(g="constructor"==d)}if(p&&!g){var _=t.constructor,b=e.constructor;_==b||!("constructor"in t)||!("constructor"in e)||"function"==typeof _&&_ instanceof _&&"function"==typeof b&&b instanceof b||(p=!1)}return o.delete(t),o.delete(e),p}(t,e,n,i,r,o)}(t,e,n,i,li,r))}function ci(t,e,n,i){var r=n.length,o=r,a=!i;if(null==t)return!o;for(t=at(t);r--;){var s=n[r];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++r<o;){var u=(s=n[r])[0],l=t[u],c=s[1];if(a&&s[2]){if(void 0===l&&!(u in t))return!1}else{var d=new On;if(i)var h=i(l,c,u,t,e,d);if(!(void 0===h?li(c,l,3,i,d):h))return!1}}return!0}function di(t){return!(!Ma(t)||(e=t,vt&&vt in e))&&(Pa(t)?Tt:Q).test(go(t));var e}function hi(t){return"function"==typeof t?t:null==t?Rs:"object"==typeof t?Ta(t)?yi(t[0],t[1]):vi(t):Gs(t)}function fi(t){if(!Qr(t))return Ye(t);var e=[];for(var n in at(t))gt.call(t,n)&&"constructor"!=n&&e.push(n);return e}function pi(t){if(!Ma(t))return function(t){var e=[];if(null!=t)for(var n in at(t))e.push(n);return e}(t);var e=Qr(t),n=[];for(var i in t)("constructor"!=i||!e&&gt.call(t,i))&&n.push(i);return n}function gi(t,e){return t<e}function mi(t,e){var n=-1,r=wa(t)?i(t.length):[];return Gn(t,(function(t,i,o){r[++n]=e(t,i,o)})),r}function vi(t){var e=Ur(t);return 1==e.length&&e[0][2]?eo(e[0][0],e[0][1]):function(n){return n===t||ci(n,t,e)}}function yi(t,e){return Kr(t)&&to(e)?eo(po(t),e):function(n){var i=is(n,t);return void 0===i&&i===e?rs(n,t):li(e,i,3)}}function _i(t,e,n,i,r){t!==e&&Xn(e,(function(o,a){if(r||(r=new On),Ma(o))!function(t,e,n,i,r,o,a){var s=oo(t,n),u=oo(e,n),l=a.get(u);if(l)return void Mn(t,n,l);var c=o?o(s,u,n+"",t,e,a):void 0,d=void 0===c;if(d){var h=Ta(u),f=!h&&Ca(u),p=!h&&!f&&Ua(u);c=u,h||f||p?Ta(s)?c=s:Ea(s)?c=ar(s):f?(d=!1,c=tr(u,!0)):p?(d=!1,c=nr(u,!0)):c=[]:Na(u)||ba(u)?(c=s,ba(s)?c=qa(s):Ma(s)&&!Pa(s)||(c=$r(u))):d=!1}d&&(a.set(u,c),r(c,u,i,o,a),a.delete(u));Mn(t,n,c)}(t,e,a,n,_i,i,r);else{var s=i?i(oo(t,a),o,a+"",t,e,r):void 0;void 0===s&&(s=o),Mn(t,a,s)}}),ls)}function bi(t,e){var n=t.length;if(n)return qr(e+=e<0?n:0,n)?t[e]:void 0}function Ti(t,e,n){e=e.length?ne(e,(function(t){return Ta(t)?function(e){return ti(e,1===t.length?t[0]:t)}:t})):[Rs];var i=-1;return e=ne(e,_e(Vr())),function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(mi(t,(function(t,n,r){return{criteria:ne(e,(function(e){return e(t)})),index:++i,value:t}})),(function(t,e){return function(t,e,n){var i=-1,r=t.criteria,o=e.criteria,a=r.length,s=n.length;for(;++i<a;){var u=ir(r[i],o[i]);if(u){if(i>=s)return u;var l=n[i];return u*("desc"==l?-1:1)}}return t.index-e.index}(t,e,n)}))}function Si(t,e,n){for(var i=-1,r=e.length,o={};++i<r;){var a=e[i],s=ti(t,a);n(s,a)&&xi(o,Ki(a,t),s)}return o}function wi(t,e,n,i){var r=i?de:ce,o=-1,a=e.length,s=t;for(t===e&&(e=ar(e)),n&&(s=ne(t,_e(n)));++o<a;)for(var u=0,l=e[o],c=n?n(l):l;(u=r(s,c,u,i))>-1;)s!==t&&Ut.call(s,u,1),Ut.call(t,u,1);return t}function Ei(t,e){for(var n=t?e.length:0,i=n-1;n--;){var r=e[n];if(n==i||r!==o){var o=r;qr(r)?Ut.call(t,r,1):Hi(t,r)}}return t}function Ci(t,e){return t+He(Je()*(e-t+1))}function Oi(t,e){var n="";if(!t||e<1||e>9007199254740991)return n;do{e%2&&(n+=t),(e=He(e/2))&&(t+=t)}while(e);return n}function Ai(t,e){return uo(no(t,e,Rs),t+"")}function Pi(t){return Pn(vs(t))}function Ii(t,e){var n=vs(t);return ho(n,Vn(e,0,n.length))}function xi(t,e,n,i){if(!Ma(t))return t;for(var r=-1,o=(e=Ki(e,t)).length,a=o-1,s=t;null!=s&&++r<o;){var u=po(e[r]),l=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return t;if(r!=a){var c=s[u];void 0===(l=i?i(c,u,s):void 0)&&(l=Ma(c)?c:qr(e[r+1])?[]:{})}kn(s,u,l),s=s[u]}return t}var Mi=sn?function(t,e){return sn.set(t,e),t}:Rs,ki=Fe?function(t,e){return Fe(t,"toString",{configurable:!0,enumerable:!1,value:Ms(e),writable:!0})}:Rs;function Di(t){return ho(vs(t))}function Ri(t,e,n){var r=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(n=n>o?o:n)<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var a=i(o);++r<o;)a[r]=t[r+e];return a}function Ni(t,e){var n;return Gn(t,(function(t,i,r){return!(n=e(t,i,r))})),!!n}function Li(t,e,n){var i=0,r=null==t?i:t.length;if("number"==typeof e&&e==e&&r<=2147483647){for(;i<r;){var o=i+r>>>1,a=t[o];null!==a&&!ja(a)&&(n?a<=e:a<e)?i=o+1:r=o}return r}return Fi(t,e,Rs,n)}function Fi(t,e,n,i){var r=0,o=null==t?0:t.length;if(0===o)return 0;for(var a=(e=n(e))!=e,s=null===e,u=ja(e),l=void 0===e;r<o;){var c=He((r+o)/2),d=n(t[c]),h=void 0!==d,f=null===d,p=d==d,g=ja(d);if(a)var m=i||p;else m=l?p&&(i||h):s?p&&h&&(i||!f):u?p&&h&&!f&&(i||!g):!f&&!g&&(i?d<=e:d<e);m?r=c+1:o=c}return Xe(o,4294967294)}function Vi(t,e){for(var n=-1,i=t.length,r=0,o=[];++n<i;){var a=t[n],s=e?e(a):a;if(!n||!va(s,u)){var u=s;o[r++]=0===a?0:a}}return o}function ji(t){return"number"==typeof t?t:ja(t)?NaN:+t}function Ui(t){if("string"==typeof t)return t;if(Ta(t))return ne(t,Ui)+"";if(ja(t))return mn?mn.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Bi(t,e,n){var i=-1,r=te,o=t.length,a=!0,s=[],u=s;if(n)a=!1,r=ee;else if(o>=200){var l=e?null:Or(t);if(l)return Me(l);a=!1,r=Te,u=new Cn}else u=e?[]:s;t:for(;++i<o;){var c=t[i],d=e?e(c):c;if(c=n||0!==c?c:0,a&&d==d){for(var h=u.length;h--;)if(u[h]===d)continue t;e&&u.push(d),s.push(c)}else r(u,d,n)||(u!==s&&u.push(d),s.push(c))}return s}function Hi(t,e){return null==(t=io(t,e=Ki(e,t)))||delete t[po(Ao(e))]}function Gi(t,e,n,i){return xi(t,e,n(ti(t,e)),i)}function Wi(t,e,n,i){for(var r=t.length,o=i?r:-1;(i?o--:++o<r)&&e(t[o],o,t););return n?Ri(t,i?0:o,i?o+1:r):Ri(t,i?o+1:0,i?r:o)}function zi(t,e){var n=t;return n instanceof Tn&&(n=n.value()),re(e,(function(t,e){return e.func.apply(e.thisArg,ie([t],e.args))}),n)}function $i(t,e,n){var r=t.length;if(r<2)return r?Bi(t[0]):[];for(var o=-1,a=i(r);++o<r;)for(var s=t[o],u=-1;++u<r;)u!=o&&(a[o]=Hn(a[o]||s,t[u],e,n));return Bi(qn(a,1),e,n)}function Yi(t,e,n){for(var i=-1,r=t.length,o=e.length,a={};++i<r;){var s=i<o?e[i]:void 0;n(a,t[i],s)}return a}function qi(t){return Ea(t)?t:[]}function Xi(t){return"function"==typeof t?t:Rs}function Ki(t,e){return Ta(t)?t:Kr(t,e)?[t]:fo(Xa(t))}var Zi=Ai;function Ji(t,e,n){var i=t.length;return n=void 0===n?i:n,!e&&n>=i?t:Ri(t,e,n)}var Qi=Ve||function(t){return Lt.clearTimeout(t)};function tr(t,e){if(e)return t.slice();var n=t.length,i=Rt?Rt(n):new t.constructor(n);return t.copy(i),i}function er(t){var e=new t.constructor(t.byteLength);return new At(e).set(new At(t)),e}function nr(t,e){var n=e?er(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function ir(t,e){if(t!==e){var n=void 0!==t,i=null===t,r=t==t,o=ja(t),a=void 0!==e,s=null===e,u=e==e,l=ja(e);if(!s&&!l&&!o&&t>e||o&&a&&u&&!s&&!l||i&&a&&u||!n&&u||!r)return 1;if(!i&&!o&&!l&&t<e||l&&n&&r&&!i&&!o||s&&n&&r||!a&&r||!u)return-1}return 0}function rr(t,e,n,r){for(var o=-1,a=t.length,s=n.length,u=-1,l=e.length,c=qe(a-s,0),d=i(l+c),h=!r;++u<l;)d[u]=e[u];for(;++o<s;)(h||o<a)&&(d[n[o]]=t[o]);for(;c--;)d[u++]=t[o++];return d}function or(t,e,n,r){for(var o=-1,a=t.length,s=-1,u=n.length,l=-1,c=e.length,d=qe(a-u,0),h=i(d+c),f=!r;++o<d;)h[o]=t[o];for(var p=o;++l<c;)h[p+l]=e[l];for(;++s<u;)(f||o<a)&&(h[p+n[s]]=t[o++]);return h}function ar(t,e){var n=-1,r=t.length;for(e||(e=i(r));++n<r;)e[n]=t[n];return e}function sr(t,e,n,i){var r=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var s=e[o],u=i?i(n[s],t[s],s,n,t):void 0;void 0===u&&(u=t[s]),r?Ln(n,s,u):kn(n,s,u)}return n}function ur(t,e){return function(n,i){var r=Ta(n)?Xt:Rn,o=e?e():{};return r(n,t,Vr(i,2),o)}}function lr(t){return Ai((function(e,n){var i=-1,r=n.length,o=r>1?n[r-1]:void 0,a=r>2?n[2]:void 0;for(o=t.length>3&&"function"==typeof o?(r--,o):void 0,a&&Xr(n[0],n[1],a)&&(o=r<3?void 0:o,r=1),e=at(e);++i<r;){var s=n[i];s&&t(e,s,i,o)}return e}))}function cr(t,e){return function(n,i){if(null==n)return n;if(!wa(n))return t(n,i);for(var r=n.length,o=e?r:-1,a=at(n);(e?o--:++o<r)&&!1!==i(a[o],o,a););return n}}function dr(t){return function(e,n,i){for(var r=-1,o=at(e),a=i(e),s=a.length;s--;){var u=a[t?s:++r];if(!1===n(o[u],u,o))break}return e}}function hr(t){return function(e){var n=Ae(e=Xa(e))?Re(e):void 0,i=n?n[0]:e.charAt(0),r=n?Ji(n,1).join(""):e.slice(1);return i[t]()+r}}function fr(t){return function(e){return re(Ps(bs(e).replace(wt,"")),t,"")}}function pr(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=yn(t.prototype),i=t.apply(n,e);return Ma(i)?i:n}}function gr(t){return function(e,n,i){var r=at(e);if(!wa(e)){var o=Vr(n,3);e=us(e),n=function(t){return o(r[t],t,r)}}var a=t(e,n,i);return a>-1?r[o?e[a]:a]:void 0}}function mr(t){return kr((function(e){var n=e.length,i=n,r=bn.prototype.thru;for(t&&e.reverse();i--;){var a=e[i];if("function"!=typeof a)throw new lt(o);if(r&&!s&&"wrapper"==Lr(a))var s=new bn([],!0)}for(i=s?i:n;++i<n;){var u=Lr(a=e[i]),l="wrapper"==u?Nr(a):void 0;s=l&&Zr(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?s[Lr(l[0])].apply(s,l[3]):1==a.length&&Zr(a)?s[u]():s.thru(a)}return function(){var t=arguments,i=t[0];if(s&&1==t.length&&Ta(i))return s.plant(i).value();for(var r=0,o=n?e[r].apply(this,t):i;++r<n;)o=e[r].call(this,o);return o}}))}function vr(t,e,n,r,o,a,s,u,l,c){var d=128&e,h=1&e,f=2&e,p=24&e,g=512&e,m=f?void 0:pr(t);return function v(){for(var y=arguments.length,_=i(y),b=y;b--;)_[b]=arguments[b];if(p)var T=Fr(v),S=Ee(_,T);if(r&&(_=rr(_,r,o,p)),a&&(_=or(_,a,s,p)),y-=S,p&&y<c){var w=xe(_,T);return Er(t,e,vr,v.placeholder,n,_,w,u,l,c-y)}var E=h?n:this,C=f?E[t]:t;return y=_.length,u?_=ro(_,u):g&&y>1&&_.reverse(),d&&l<y&&(_.length=l),this&&this!==Lt&&this instanceof v&&(C=m||pr(C)),C.apply(E,_)}}function yr(t,e){return function(n,i){return function(t,e,n,i){return Zn(t,(function(t,r,o){e(i,n(t),r,o)})),i}(n,t,e(i),{})}}function _r(t,e){return function(n,i){var r;if(void 0===n&&void 0===i)return e;if(void 0!==n&&(r=n),void 0!==i){if(void 0===r)return i;"string"==typeof n||"string"==typeof i?(n=Ui(n),i=Ui(i)):(n=ji(n),i=ji(i)),r=t(n,i)}return r}}function br(t){return kr((function(e){return e=ne(e,_e(Vr())),Ai((function(n){var i=this;return t(e,(function(t){return qt(t,i,n)}))}))}))}function Tr(t,e){var n=(e=void 0===e?" ":Ui(e)).length;if(n<2)return n?Oi(e,t):e;var i=Oi(e,Be(t/De(e)));return Ae(e)?Ji(Re(i),0,t).join(""):i.slice(0,t)}function Sr(t){return function(e,n,r){return r&&"number"!=typeof r&&Xr(e,n,r)&&(n=r=void 0),e=Wa(e),void 0===n?(n=e,e=0):n=Wa(n),function(t,e,n,r){for(var o=-1,a=qe(Be((e-t)/(n||1)),0),s=i(a);a--;)s[r?a:++o]=t,t+=n;return s}(e,n,r=void 0===r?e<n?1:-1:Wa(r),t)}}function wr(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=Ya(e),n=Ya(n)),t(e,n)}}function Er(t,e,n,i,r,o,a,s,u,l){var c=8&e;e|=c?32:64,4&(e&=~(c?64:32))||(e&=-4);var d=[t,e,r,c?o:void 0,c?a:void 0,c?void 0:o,c?void 0:a,s,u,l],h=n.apply(void 0,d);return Zr(t)&&ao(h,d),h.placeholder=i,lo(h,t,e)}function Cr(t){var e=ot[t];return function(t,n){if(t=Ya(t),(n=null==n?0:Xe(za(n),292))&&ze(t)){var i=(Xa(t)+"e").split("e");return+((i=(Xa(e(i[0]+"e"+(+i[1]+n)))+"e").split("e"))[0]+"e"+(+i[1]-n))}return e(t)}}var Or=rn&&1/Me(new rn([,-0]))[1]==1/0?function(t){return new rn(t)}:js;function Ar(t){return function(e){var n=Wr(e);return n==g?Pe(e):n==_?ke(e):function(t,e){return ne(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function Pr(t,e,n,r,s,u,l,c){var d=2&e;if(!d&&"function"!=typeof t)throw new lt(o);var h=r?r.length:0;if(h||(e&=-97,r=s=void 0),l=void 0===l?l:qe(za(l),0),c=void 0===c?c:za(c),h-=s?s.length:0,64&e){var f=r,p=s;r=s=void 0}var g=d?void 0:Nr(t),m=[t,e,n,r,s,f,p,u,l,c];if(g&&function(t,e){var n=t[1],i=e[1],r=n|i,o=r<131,s=128==i&&8==n||128==i&&256==n&&t[7].length<=e[8]||384==i&&e[7].length<=e[8]&&8==n;if(!o&&!s)return t;1&i&&(t[2]=e[2],r|=1&n?0:4);var u=e[3];if(u){var l=t[3];t[3]=l?rr(l,u,e[4]):u,t[4]=l?xe(t[3],a):e[4]}(u=e[5])&&(l=t[5],t[5]=l?or(l,u,e[6]):u,t[6]=l?xe(t[5],a):e[6]);(u=e[7])&&(t[7]=u);128&i&&(t[8]=null==t[8]?e[8]:Xe(t[8],e[8]));null==t[9]&&(t[9]=e[9]);t[0]=e[0],t[1]=r}(m,g),t=m[0],e=m[1],n=m[2],r=m[3],s=m[4],!(c=m[9]=void 0===m[9]?d?0:t.length:qe(m[9]-h,0))&&24&e&&(e&=-25),e&&1!=e)v=8==e||16==e?function(t,e,n){var r=pr(t);return function o(){for(var a=arguments.length,s=i(a),u=a,l=Fr(o);u--;)s[u]=arguments[u];var c=a<3&&s[0]!==l&&s[a-1]!==l?[]:xe(s,l);if((a-=c.length)<n)return Er(t,e,vr,o.placeholder,void 0,s,c,void 0,void 0,n-a);var d=this&&this!==Lt&&this instanceof o?r:t;return qt(d,this,s)}}(t,e,c):32!=e&&33!=e||s.length?vr.apply(void 0,m):function(t,e,n,r){var o=1&e,a=pr(t);return function e(){for(var s=-1,u=arguments.length,l=-1,c=r.length,d=i(c+u),h=this&&this!==Lt&&this instanceof e?a:t;++l<c;)d[l]=r[l];for(;u--;)d[l++]=arguments[++s];return qt(h,o?n:this,d)}}(t,e,n,r);else var v=function(t,e,n){var i=1&e,r=pr(t);return function e(){var o=this&&this!==Lt&&this instanceof e?r:t;return o.apply(i?n:this,arguments)}}(t,e,n);return lo((g?Mi:ao)(v,m),t,e)}function Ir(t,e,n,i,r,o){return Ma(t)&&Ma(e)&&(o.set(e,t),_i(t,e,void 0,Ir,o),o.delete(e)),t}function xr(t){return Na(t)?void 0:t}function Mr(t,e,n,i,r,o){var a=1&n,s=t.length,u=e.length;if(s!=u&&!(a&&u>s))return!1;var l=o.get(t),c=o.get(e);if(l&&c)return l==e&&c==t;var d=-1,h=!0,f=2&n?new Cn:void 0;for(o.set(t,e),o.set(e,t);++d<s;){var p=t[d],g=e[d];if(i)var m=a?i(g,p,d,e,t,o):i(p,g,d,t,e,o);if(void 0!==m){if(m)continue;h=!1;break}if(f){if(!ae(e,(function(t,e){if(!Te(f,e)&&(p===t||r(p,t,n,i,o)))return f.push(e)}))){h=!1;break}}else if(p!==g&&!r(p,g,n,i,o)){h=!1;break}}return o.delete(t),o.delete(e),h}function kr(t){return uo(no(t,void 0,So),t+"")}function Dr(t){return ei(t,us,Hr)}function Rr(t){return ei(t,ls,Gr)}var Nr=sn?function(t){return sn.get(t)}:js;function Lr(t){for(var e=t.name+"",n=un[e],i=gt.call(un,e)?n.length:0;i--;){var r=n[i],o=r.func;if(null==o||o==t)return r.name}return e}function Fr(t){return(gt.call(vn,"placeholder")?vn:t).placeholder}function Vr(){var t=vn.iteratee||Ns;return t=t===Ns?hi:t,arguments.length?t(arguments[0],arguments[1]):t}function jr(t,e){var n=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?n["string"==typeof e?"string":"hash"]:n.map}function Ur(t){for(var e=us(t),n=e.length;n--;){var i=e[n],r=t[i];e[n]=[i,r,to(r)]}return e}function Br(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return di(n)?n:void 0}var Hr=Ge?function(t){return null==t?[]:(t=at(t),Qt(Ge(t),(function(e){return Vt.call(t,e)})))}:$s,Gr=Ge?function(t){for(var e=[];t;)ie(e,Hr(t)),t=Nt(t);return e}:$s,Wr=ni;function zr(t,e,n){for(var i=-1,r=(e=Ki(e,t)).length,o=!1;++i<r;){var a=po(e[i]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++i!=r?o:!!(r=null==t?0:t.length)&&xa(r)&&qr(a,r)&&(Ta(t)||ba(t))}function $r(t){return"function"!=typeof t.constructor||Qr(t)?{}:yn(Nt(t))}function Yr(t){return Ta(t)||ba(t)||!!(Bt&&t&&t[Bt])}function qr(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&et.test(t))&&t>-1&&t%1==0&&t<e}function Xr(t,e,n){if(!Ma(n))return!1;var i=typeof e;return!!("number"==i?wa(n)&&qr(e,n.length):"string"==i&&e in n)&&va(n[e],t)}function Kr(t,e){if(Ta(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!ja(t))||(V.test(t)||!F.test(t)||null!=e&&t in at(e))}function Zr(t){var e=Lr(t),n=vn[e];if("function"!=typeof n||!(e in Tn.prototype))return!1;if(t===n)return!0;var i=Nr(n);return!!i&&t===i[0]}(tn&&Wr(new tn(new ArrayBuffer(1)))!=E||en&&Wr(new en)!=g||nn&&"[object Promise]"!=Wr(nn.resolve())||rn&&Wr(new rn)!=_||on&&Wr(new on)!=S)&&(Wr=function(t){var e=ni(t),n=e==v?t.constructor:void 0,i=n?go(n):"";if(i)switch(i){case ln:return E;case cn:return g;case dn:return"[object Promise]";case hn:return _;case fn:return S}return e});var Jr=ft?Pa:Ys;function Qr(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||ht)}function to(t){return t==t&&!Ma(t)}function eo(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in at(n)))}}function no(t,e,n){return e=qe(void 0===e?t.length-1:e,0),function(){for(var r=arguments,o=-1,a=qe(r.length-e,0),s=i(a);++o<a;)s[o]=r[e+o];o=-1;for(var u=i(e+1);++o<e;)u[o]=r[o];return u[e]=n(s),qt(t,this,u)}}function io(t,e){return e.length<2?t:ti(t,Ri(e,0,-1))}function ro(t,e){for(var n=t.length,i=Xe(e.length,n),r=ar(t);i--;){var o=e[i];t[i]=qr(o,n)?r[o]:void 0}return t}function oo(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var ao=co(Mi),so=Ue||function(t,e){return Lt.setTimeout(t,e)},uo=co(ki);function lo(t,e,n){var i=e+"";return uo(t,function(t,e){var n=e.length;if(!n)return t;var i=n-1;return e[i]=(n>1?"& ":"")+e[i],e=e.join(n>2?", ":" "),t.replace(z,"{\n/* [wrapped with "+e+"] */\n")}(i,function(t,e){return Kt(s,(function(n){var i="_."+n[0];e&n[1]&&!te(t,i)&&t.push(i)})),t.sort()}(function(t){var e=t.match($);return e?e[1].split(Y):[]}(i),n)))}function co(t){var e=0,n=0;return function(){var i=Ke(),r=16-(i-n);if(n=i,r>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function ho(t,e){var n=-1,i=t.length,r=i-1;for(e=void 0===e?i:e;++n<e;){var o=Ci(n,r),a=t[o];t[o]=t[n],t[n]=a}return t.length=e,t}var fo=function(t){var e=da(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(j,(function(t,n,i,r){e.push(i?r.replace(X,"$1"):n||t)})),e}));function po(t){if("string"==typeof t||ja(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function go(t){if(null!=t){try{return pt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function mo(t){if(t instanceof Tn)return t.clone();var e=new bn(t.__wrapped__,t.__chain__);return e.__actions__=ar(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var vo=Ai((function(t,e){return Ea(t)?Hn(t,qn(e,1,Ea,!0)):[]})),yo=Ai((function(t,e){var n=Ao(e);return Ea(n)&&(n=void 0),Ea(t)?Hn(t,qn(e,1,Ea,!0),Vr(n,2)):[]})),_o=Ai((function(t,e){var n=Ao(e);return Ea(n)&&(n=void 0),Ea(t)?Hn(t,qn(e,1,Ea,!0),void 0,n):[]}));function bo(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=null==n?0:za(n);return r<0&&(r=qe(i+r,0)),le(t,Vr(e,3),r)}function To(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=i-1;return void 0!==n&&(r=za(n),r=n<0?qe(i+r,0):Xe(r,i-1)),le(t,Vr(e,3),r,!0)}function So(t){return(null==t?0:t.length)?qn(t,1):[]}function wo(t){return t&&t.length?t[0]:void 0}var Eo=Ai((function(t){var e=ne(t,qi);return e.length&&e[0]===t[0]?ai(e):[]})),Co=Ai((function(t){var e=Ao(t),n=ne(t,qi);return e===Ao(n)?e=void 0:n.pop(),n.length&&n[0]===t[0]?ai(n,Vr(e,2)):[]})),Oo=Ai((function(t){var e=Ao(t),n=ne(t,qi);return(e="function"==typeof e?e:void 0)&&n.pop(),n.length&&n[0]===t[0]?ai(n,void 0,e):[]}));function Ao(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}var Po=Ai(Io);function Io(t,e){return t&&t.length&&e&&e.length?wi(t,e):t}var xo=kr((function(t,e){var n=null==t?0:t.length,i=Fn(t,e);return Ei(t,ne(e,(function(t){return qr(t,n)?+t:t})).sort(ir)),i}));function Mo(t){return null==t?t:Qe.call(t)}var ko=Ai((function(t){return Bi(qn(t,1,Ea,!0))})),Do=Ai((function(t){var e=Ao(t);return Ea(e)&&(e=void 0),Bi(qn(t,1,Ea,!0),Vr(e,2))})),Ro=Ai((function(t){var e=Ao(t);return e="function"==typeof e?e:void 0,Bi(qn(t,1,Ea,!0),void 0,e)}));function No(t){if(!t||!t.length)return[];var e=0;return t=Qt(t,(function(t){if(Ea(t))return e=qe(t.length,e),!0})),ye(e,(function(e){return ne(t,pe(e))}))}function Lo(t,e){if(!t||!t.length)return[];var n=No(t);return null==e?n:ne(n,(function(t){return qt(e,void 0,t)}))}var Fo=Ai((function(t,e){return Ea(t)?Hn(t,e):[]})),Vo=Ai((function(t){return $i(Qt(t,Ea))})),jo=Ai((function(t){var e=Ao(t);return Ea(e)&&(e=void 0),$i(Qt(t,Ea),Vr(e,2))})),Uo=Ai((function(t){var e=Ao(t);return e="function"==typeof e?e:void 0,$i(Qt(t,Ea),void 0,e)})),Bo=Ai(No);var Ho=Ai((function(t){var e=t.length,n=e>1?t[e-1]:void 0;return n="function"==typeof n?(t.pop(),n):void 0,Lo(t,n)}));function Go(t){var e=vn(t);return e.__chain__=!0,e}function Wo(t,e){return e(t)}var zo=kr((function(t){var e=t.length,n=e?t[0]:0,i=this.__wrapped__,r=function(e){return Fn(e,t)};return!(e>1||this.__actions__.length)&&i instanceof Tn&&qr(n)?((i=i.slice(n,+n+(e?1:0))).__actions__.push({func:Wo,args:[r],thisArg:void 0}),new bn(i,this.__chain__).thru((function(t){return e&&!t.length&&t.push(void 0),t}))):this.thru(r)}));var $o=ur((function(t,e,n){gt.call(t,n)?++t[n]:Ln(t,n,1)}));var Yo=gr(bo),qo=gr(To);function Xo(t,e){return(Ta(t)?Kt:Gn)(t,Vr(e,3))}function Ko(t,e){return(Ta(t)?Zt:Wn)(t,Vr(e,3))}var Zo=ur((function(t,e,n){gt.call(t,n)?t[n].push(e):Ln(t,n,[e])}));var Jo=Ai((function(t,e,n){var r=-1,o="function"==typeof e,a=wa(t)?i(t.length):[];return Gn(t,(function(t){a[++r]=o?qt(e,t,n):si(t,e,n)})),a})),Qo=ur((function(t,e,n){Ln(t,n,e)}));function ta(t,e){return(Ta(t)?ne:mi)(t,Vr(e,3))}var ea=ur((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]}));var na=Ai((function(t,e){if(null==t)return[];var n=e.length;return n>1&&Xr(t,e[0],e[1])?e=[]:n>2&&Xr(e[0],e[1],e[2])&&(e=[e[0]]),Ti(t,qn(e,1),[])})),ia=je||function(){return Lt.Date.now()};function ra(t,e,n){return e=n?void 0:e,Pr(t,128,void 0,void 0,void 0,void 0,e=t&&null==e?t.length:e)}function oa(t,e){var n;if("function"!=typeof e)throw new lt(o);return t=za(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=void 0),n}}var aa=Ai((function(t,e,n){var i=1;if(n.length){var r=xe(n,Fr(aa));i|=32}return Pr(t,i,e,n,r)})),sa=Ai((function(t,e,n){var i=3;if(n.length){var r=xe(n,Fr(sa));i|=32}return Pr(e,i,t,n,r)}));function ua(t,e,n){var i,r,a,s,u,l,c=0,d=!1,h=!1,f=!0;if("function"!=typeof t)throw new lt(o);function p(e){var n=i,o=r;return i=r=void 0,c=e,s=t.apply(o,n)}function g(t){return c=t,u=so(v,e),d?p(t):s}function m(t){var n=t-l;return void 0===l||n>=e||n<0||h&&t-c>=a}function v(){var t=ia();if(m(t))return y(t);u=so(v,function(t){var n=e-(t-l);return h?Xe(n,a-(t-c)):n}(t))}function y(t){return u=void 0,f&&i?p(t):(i=r=void 0,s)}function _(){var t=ia(),n=m(t);if(i=arguments,r=this,l=t,n){if(void 0===u)return g(l);if(h)return Qi(u),u=so(v,e),p(l)}return void 0===u&&(u=so(v,e)),s}return e=Ya(e)||0,Ma(n)&&(d=!!n.leading,a=(h="maxWait"in n)?qe(Ya(n.maxWait)||0,e):a,f="trailing"in n?!!n.trailing:f),_.cancel=function(){void 0!==u&&Qi(u),c=0,i=l=r=u=void 0},_.flush=function(){return void 0===u?s:y(ia())},_}var la=Ai((function(t,e){return Bn(t,1,e)})),ca=Ai((function(t,e,n){return Bn(t,Ya(e)||0,n)}));function da(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new lt(o);var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var a=t.apply(this,i);return n.cache=o.set(r,a)||o,a};return n.cache=new(da.Cache||En),n}function ha(t){if("function"!=typeof t)throw new lt(o);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}da.Cache=En;var fa=Zi((function(t,e){var n=(e=1==e.length&&Ta(e[0])?ne(e[0],_e(Vr())):ne(qn(e,1),_e(Vr()))).length;return Ai((function(i){for(var r=-1,o=Xe(i.length,n);++r<o;)i[r]=e[r].call(this,i[r]);return qt(t,this,i)}))})),pa=Ai((function(t,e){return Pr(t,32,void 0,e,xe(e,Fr(pa)))})),ga=Ai((function(t,e){return Pr(t,64,void 0,e,xe(e,Fr(ga)))})),ma=kr((function(t,e){return Pr(t,256,void 0,void 0,void 0,e)}));function va(t,e){return t===e||t!=t&&e!=e}var ya=wr(ii),_a=wr((function(t,e){return t>=e})),ba=ui(function(){return arguments}())?ui:function(t){return ka(t)&&gt.call(t,"callee")&&!Vt.call(t,"callee")},Ta=i.isArray,Sa=Ht?_e(Ht):function(t){return ka(t)&&ni(t)==w};function wa(t){return null!=t&&xa(t.length)&&!Pa(t)}function Ea(t){return ka(t)&&wa(t)}var Ca=We||Ys,Oa=Gt?_e(Gt):function(t){return ka(t)&&ni(t)==d};function Aa(t){if(!ka(t))return!1;var e=ni(t);return e==h||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!Na(t)}function Pa(t){if(!Ma(t))return!1;var e=ni(t);return e==f||e==p||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Ia(t){return"number"==typeof t&&t==za(t)}function xa(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function Ma(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function ka(t){return null!=t&&"object"==typeof t}var Da=Wt?_e(Wt):function(t){return ka(t)&&Wr(t)==g};function Ra(t){return"number"==typeof t||ka(t)&&ni(t)==m}function Na(t){if(!ka(t)||ni(t)!=v)return!1;var e=Nt(t);if(null===e)return!0;var n=gt.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&pt.call(n)==_t}var La=zt?_e(zt):function(t){return ka(t)&&ni(t)==y};var Fa=$t?_e($t):function(t){return ka(t)&&Wr(t)==_};function Va(t){return"string"==typeof t||!Ta(t)&&ka(t)&&ni(t)==b}function ja(t){return"symbol"==typeof t||ka(t)&&ni(t)==T}var Ua=Yt?_e(Yt):function(t){return ka(t)&&xa(t.length)&&!!xt[ni(t)]};var Ba=wr(gi),Ha=wr((function(t,e){return t<=e}));function Ga(t){if(!t)return[];if(wa(t))return Va(t)?Re(t):ar(t);if(se&&t[se])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[se]());var e=Wr(t);return(e==g?Pe:e==_?Me:vs)(t)}function Wa(t){return t?(t=Ya(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function za(t){var e=Wa(t),n=e%1;return e==e?n?e-n:e:0}function $a(t){return t?Vn(za(t),0,4294967295):0}function Ya(t){if("number"==typeof t)return t;if(ja(t))return NaN;if(Ma(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Ma(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(H,"");var n=J.test(t);return n||tt.test(t)?Dt(t.slice(2),n?2:8):Z.test(t)?NaN:+t}function qa(t){return sr(t,ls(t))}function Xa(t){return null==t?"":Ui(t)}var Ka=lr((function(t,e){if(Qr(e)||wa(e))sr(e,us(e),t);else for(var n in e)gt.call(e,n)&&kn(t,n,e[n])})),Za=lr((function(t,e){sr(e,ls(e),t)})),Ja=lr((function(t,e,n,i){sr(e,ls(e),t,i)})),Qa=lr((function(t,e,n,i){sr(e,us(e),t,i)})),ts=kr(Fn);var es=Ai((function(t,e){t=at(t);var n=-1,i=e.length,r=i>2?e[2]:void 0;for(r&&Xr(e[0],e[1],r)&&(i=1);++n<i;)for(var o=e[n],a=ls(o),s=-1,u=a.length;++s<u;){var l=a[s],c=t[l];(void 0===c||va(c,ht[l])&&!gt.call(t,l))&&(t[l]=o[l])}return t})),ns=Ai((function(t){return t.push(void 0,Ir),qt(ds,void 0,t)}));function is(t,e,n){var i=null==t?void 0:ti(t,e);return void 0===i?n:i}function rs(t,e){return null!=t&&zr(t,e,oi)}var os=yr((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=yt.call(e)),t[e]=n}),Ms(Rs)),as=yr((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=yt.call(e)),gt.call(t,e)?t[e].push(n):t[e]=[n]}),Vr),ss=Ai(si);function us(t){return wa(t)?An(t):fi(t)}function ls(t){return wa(t)?An(t,!0):pi(t)}var cs=lr((function(t,e,n){_i(t,e,n)})),ds=lr((function(t,e,n,i){_i(t,e,n,i)})),hs=kr((function(t,e){var n={};if(null==t)return n;var i=!1;e=ne(e,(function(e){return e=Ki(e,t),i||(i=e.length>1),e})),sr(t,Rr(t),n),i&&(n=jn(n,7,xr));for(var r=e.length;r--;)Hi(n,e[r]);return n}));var fs=kr((function(t,e){return null==t?{}:function(t,e){return Si(t,e,(function(e,n){return rs(t,n)}))}(t,e)}));function ps(t,e){if(null==t)return{};var n=ne(Rr(t),(function(t){return[t]}));return e=Vr(e),Si(t,n,(function(t,n){return e(t,n[0])}))}var gs=Ar(us),ms=Ar(ls);function vs(t){return null==t?[]:be(t,us(t))}var ys=fr((function(t,e,n){return e=e.toLowerCase(),t+(n?_s(e):e)}));function _s(t){return As(Xa(t).toLowerCase())}function bs(t){return(t=Xa(t))&&t.replace(nt,Ce).replace(Et,"")}var Ts=fr((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),Ss=fr((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),ws=hr("toLowerCase");var Es=fr((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}));var Cs=fr((function(t,e,n){return t+(n?" ":"")+As(e)}));var Os=fr((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),As=hr("toUpperCase");function Ps(t,e,n){return t=Xa(t),void 0===(e=n?void 0:e)?function(t){return Pt.test(t)}(t)?function(t){return t.match(Ot)||[]}(t):function(t){return t.match(q)||[]}(t):t.match(e)||[]}var Is=Ai((function(t,e){try{return qt(t,void 0,e)}catch(t){return Aa(t)?t:new it(t)}})),xs=kr((function(t,e){return Kt(e,(function(e){e=po(e),Ln(t,e,aa(t[e],t))})),t}));function Ms(t){return function(){return t}}var ks=mr(),Ds=mr(!0);function Rs(t){return t}function Ns(t){return hi("function"==typeof t?t:jn(t,1))}var Ls=Ai((function(t,e){return function(n){return si(n,t,e)}})),Fs=Ai((function(t,e){return function(n){return si(t,n,e)}}));function Vs(t,e,n){var i=us(e),r=Qn(e,i);null!=n||Ma(e)&&(r.length||!i.length)||(n=e,e=t,t=this,r=Qn(e,us(e)));var o=!(Ma(n)&&"chain"in n&&!n.chain),a=Pa(t);return Kt(r,(function(n){var i=e[n];t[n]=i,a&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__),r=n.__actions__=ar(this.__actions__);return r.push({func:i,args:arguments,thisArg:t}),n.__chain__=e,n}return i.apply(t,ie([this.value()],arguments))})})),t}function js(){}var Us=br(ne),Bs=br(Jt),Hs=br(ae);function Gs(t){return Kr(t)?pe(po(t)):function(t){return function(e){return ti(e,t)}}(t)}var Ws=Sr(),zs=Sr(!0);function $s(){return[]}function Ys(){return!1}var qs=_r((function(t,e){return t+e}),0),Xs=Cr("ceil"),Ks=_r((function(t,e){return t/e}),1),Zs=Cr("floor");var Js,Qs=_r((function(t,e){return t*e}),1),tu=Cr("round"),eu=_r((function(t,e){return t-e}),0);return vn.after=function(t,e){if("function"!=typeof e)throw new lt(o);return t=za(t),function(){if(--t<1)return e.apply(this,arguments)}},vn.ary=ra,vn.assign=Ka,vn.assignIn=Za,vn.assignInWith=Ja,vn.assignWith=Qa,vn.at=ts,vn.before=oa,vn.bind=aa,vn.bindAll=xs,vn.bindKey=sa,vn.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Ta(t)?t:[t]},vn.chain=Go,vn.chunk=function(t,e,n){e=(n?Xr(t,e,n):void 0===e)?1:qe(za(e),0);var r=null==t?0:t.length;if(!r||e<1)return[];for(var o=0,a=0,s=i(Be(r/e));o<r;)s[a++]=Ri(t,o,o+=e);return s},vn.compact=function(t){for(var e=-1,n=null==t?0:t.length,i=0,r=[];++e<n;){var o=t[e];o&&(r[i++]=o)}return r},vn.concat=function(){var t=arguments.length;if(!t)return[];for(var e=i(t-1),n=arguments[0],r=t;r--;)e[r-1]=arguments[r];return ie(Ta(n)?ar(n):[n],qn(e,1))},vn.cond=function(t){var e=null==t?0:t.length,n=Vr();return t=e?ne(t,(function(t){if("function"!=typeof t[1])throw new lt(o);return[n(t[0]),t[1]]})):[],Ai((function(n){for(var i=-1;++i<e;){var r=t[i];if(qt(r[0],this,n))return qt(r[1],this,n)}}))},vn.conforms=function(t){return function(t){var e=us(t);return function(n){return Un(n,t,e)}}(jn(t,1))},vn.constant=Ms,vn.countBy=$o,vn.create=function(t,e){var n=yn(t);return null==e?n:Nn(n,e)},vn.curry=function t(e,n,i){var r=Pr(e,8,void 0,void 0,void 0,void 0,void 0,n=i?void 0:n);return r.placeholder=t.placeholder,r},vn.curryRight=function t(e,n,i){var r=Pr(e,16,void 0,void 0,void 0,void 0,void 0,n=i?void 0:n);return r.placeholder=t.placeholder,r},vn.debounce=ua,vn.defaults=es,vn.defaultsDeep=ns,vn.defer=la,vn.delay=ca,vn.difference=vo,vn.differenceBy=yo,vn.differenceWith=_o,vn.drop=function(t,e,n){var i=null==t?0:t.length;return i?Ri(t,(e=n||void 0===e?1:za(e))<0?0:e,i):[]},vn.dropRight=function(t,e,n){var i=null==t?0:t.length;return i?Ri(t,0,(e=i-(e=n||void 0===e?1:za(e)))<0?0:e):[]},vn.dropRightWhile=function(t,e){return t&&t.length?Wi(t,Vr(e,3),!0,!0):[]},vn.dropWhile=function(t,e){return t&&t.length?Wi(t,Vr(e,3),!0):[]},vn.fill=function(t,e,n,i){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&Xr(t,e,n)&&(n=0,i=r),function(t,e,n,i){var r=t.length;for((n=za(n))<0&&(n=-n>r?0:r+n),(i=void 0===i||i>r?r:za(i))<0&&(i+=r),i=n>i?0:$a(i);n<i;)t[n++]=e;return t}(t,e,n,i)):[]},vn.filter=function(t,e){return(Ta(t)?Qt:Yn)(t,Vr(e,3))},vn.flatMap=function(t,e){return qn(ta(t,e),1)},vn.flatMapDeep=function(t,e){return qn(ta(t,e),1/0)},vn.flatMapDepth=function(t,e,n){return n=void 0===n?1:za(n),qn(ta(t,e),n)},vn.flatten=So,vn.flattenDeep=function(t){return(null==t?0:t.length)?qn(t,1/0):[]},vn.flattenDepth=function(t,e){return(null==t?0:t.length)?qn(t,e=void 0===e?1:za(e)):[]},vn.flip=function(t){return Pr(t,512)},vn.flow=ks,vn.flowRight=Ds,vn.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,i={};++e<n;){var r=t[e];i[r[0]]=r[1]}return i},vn.functions=function(t){return null==t?[]:Qn(t,us(t))},vn.functionsIn=function(t){return null==t?[]:Qn(t,ls(t))},vn.groupBy=Zo,vn.initial=function(t){return(null==t?0:t.length)?Ri(t,0,-1):[]},vn.intersection=Eo,vn.intersectionBy=Co,vn.intersectionWith=Oo,vn.invert=os,vn.invertBy=as,vn.invokeMap=Jo,vn.iteratee=Ns,vn.keyBy=Qo,vn.keys=us,vn.keysIn=ls,vn.map=ta,vn.mapKeys=function(t,e){var n={};return e=Vr(e,3),Zn(t,(function(t,i,r){Ln(n,e(t,i,r),t)})),n},vn.mapValues=function(t,e){var n={};return e=Vr(e,3),Zn(t,(function(t,i,r){Ln(n,i,e(t,i,r))})),n},vn.matches=function(t){return vi(jn(t,1))},vn.matchesProperty=function(t,e){return yi(t,jn(e,1))},vn.memoize=da,vn.merge=cs,vn.mergeWith=ds,vn.method=Ls,vn.methodOf=Fs,vn.mixin=Vs,vn.negate=ha,vn.nthArg=function(t){return t=za(t),Ai((function(e){return bi(e,t)}))},vn.omit=hs,vn.omitBy=function(t,e){return ps(t,ha(Vr(e)))},vn.once=function(t){return oa(2,t)},vn.orderBy=function(t,e,n,i){return null==t?[]:(Ta(e)||(e=null==e?[]:[e]),Ta(n=i?void 0:n)||(n=null==n?[]:[n]),Ti(t,e,n))},vn.over=Us,vn.overArgs=fa,vn.overEvery=Bs,vn.overSome=Hs,vn.partial=pa,vn.partialRight=ga,vn.partition=ea,vn.pick=fs,vn.pickBy=ps,vn.property=Gs,vn.propertyOf=function(t){return function(e){return null==t?void 0:ti(t,e)}},vn.pull=Po,vn.pullAll=Io,vn.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?wi(t,e,Vr(n,2)):t},vn.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?wi(t,e,void 0,n):t},vn.pullAt=xo,vn.range=Ws,vn.rangeRight=zs,vn.rearg=ma,vn.reject=function(t,e){return(Ta(t)?Qt:Yn)(t,ha(Vr(e,3)))},vn.remove=function(t,e){var n=[];if(!t||!t.length)return n;var i=-1,r=[],o=t.length;for(e=Vr(e,3);++i<o;){var a=t[i];e(a,i,t)&&(n.push(a),r.push(i))}return Ei(t,r),n},vn.rest=function(t,e){if("function"!=typeof t)throw new lt(o);return Ai(t,e=void 0===e?e:za(e))},vn.reverse=Mo,vn.sampleSize=function(t,e,n){return e=(n?Xr(t,e,n):void 0===e)?1:za(e),(Ta(t)?In:Ii)(t,e)},vn.set=function(t,e,n){return null==t?t:xi(t,e,n)},vn.setWith=function(t,e,n,i){return i="function"==typeof i?i:void 0,null==t?t:xi(t,e,n,i)},vn.shuffle=function(t){return(Ta(t)?xn:Di)(t)},vn.slice=function(t,e,n){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&Xr(t,e,n)?(e=0,n=i):(e=null==e?0:za(e),n=void 0===n?i:za(n)),Ri(t,e,n)):[]},vn.sortBy=na,vn.sortedUniq=function(t){return t&&t.length?Vi(t):[]},vn.sortedUniqBy=function(t,e){return t&&t.length?Vi(t,Vr(e,2)):[]},vn.split=function(t,e,n){return n&&"number"!=typeof n&&Xr(t,e,n)&&(e=n=void 0),(n=void 0===n?4294967295:n>>>0)?(t=Xa(t))&&("string"==typeof e||null!=e&&!La(e))&&!(e=Ui(e))&&Ae(t)?Ji(Re(t),0,n):t.split(e,n):[]},vn.spread=function(t,e){if("function"!=typeof t)throw new lt(o);return e=null==e?0:qe(za(e),0),Ai((function(n){var i=n[e],r=Ji(n,0,e);return i&&ie(r,i),qt(t,this,r)}))},vn.tail=function(t){var e=null==t?0:t.length;return e?Ri(t,1,e):[]},vn.take=function(t,e,n){return t&&t.length?Ri(t,0,(e=n||void 0===e?1:za(e))<0?0:e):[]},vn.takeRight=function(t,e,n){var i=null==t?0:t.length;return i?Ri(t,(e=i-(e=n||void 0===e?1:za(e)))<0?0:e,i):[]},vn.takeRightWhile=function(t,e){return t&&t.length?Wi(t,Vr(e,3),!1,!0):[]},vn.takeWhile=function(t,e){return t&&t.length?Wi(t,Vr(e,3)):[]},vn.tap=function(t,e){return e(t),t},vn.throttle=function(t,e,n){var i=!0,r=!0;if("function"!=typeof t)throw new lt(o);return Ma(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),ua(t,e,{leading:i,maxWait:e,trailing:r})},vn.thru=Wo,vn.toArray=Ga,vn.toPairs=gs,vn.toPairsIn=ms,vn.toPath=function(t){return Ta(t)?ne(t,po):ja(t)?[t]:ar(fo(Xa(t)))},vn.toPlainObject=qa,vn.transform=function(t,e,n){var i=Ta(t),r=i||Ca(t)||Ua(t);if(e=Vr(e,4),null==n){var o=t&&t.constructor;n=r?i?new o:[]:Ma(t)&&Pa(o)?yn(Nt(t)):{}}return(r?Kt:Zn)(t,(function(t,i,r){return e(n,t,i,r)})),n},vn.unary=function(t){return ra(t,1)},vn.union=ko,vn.unionBy=Do,vn.unionWith=Ro,vn.uniq=function(t){return t&&t.length?Bi(t):[]},vn.uniqBy=function(t,e){return t&&t.length?Bi(t,Vr(e,2)):[]},vn.uniqWith=function(t,e){return e="function"==typeof e?e:void 0,t&&t.length?Bi(t,void 0,e):[]},vn.unset=function(t,e){return null==t||Hi(t,e)},vn.unzip=No,vn.unzipWith=Lo,vn.update=function(t,e,n){return null==t?t:Gi(t,e,Xi(n))},vn.updateWith=function(t,e,n,i){return i="function"==typeof i?i:void 0,null==t?t:Gi(t,e,Xi(n),i)},vn.values=vs,vn.valuesIn=function(t){return null==t?[]:be(t,ls(t))},vn.without=Fo,vn.words=Ps,vn.wrap=function(t,e){return pa(Xi(e),t)},vn.xor=Vo,vn.xorBy=jo,vn.xorWith=Uo,vn.zip=Bo,vn.zipObject=function(t,e){return Yi(t||[],e||[],kn)},vn.zipObjectDeep=function(t,e){return Yi(t||[],e||[],xi)},vn.zipWith=Ho,vn.entries=gs,vn.entriesIn=ms,vn.extend=Za,vn.extendWith=Ja,Vs(vn,vn),vn.add=qs,vn.attempt=Is,vn.camelCase=ys,vn.capitalize=_s,vn.ceil=Xs,vn.clamp=function(t,e,n){return void 0===n&&(n=e,e=void 0),void 0!==n&&(n=(n=Ya(n))==n?n:0),void 0!==e&&(e=(e=Ya(e))==e?e:0),Vn(Ya(t),e,n)},vn.clone=function(t){return jn(t,4)},vn.cloneDeep=function(t){return jn(t,5)},vn.cloneDeepWith=function(t,e){return jn(t,5,e="function"==typeof e?e:void 0)},vn.cloneWith=function(t,e){return jn(t,4,e="function"==typeof e?e:void 0)},vn.conformsTo=function(t,e){return null==e||Un(t,e,us(e))},vn.deburr=bs,vn.defaultTo=function(t,e){return null==t||t!=t?e:t},vn.divide=Ks,vn.endsWith=function(t,e,n){t=Xa(t),e=Ui(e);var i=t.length,r=n=void 0===n?i:Vn(za(n),0,i);return(n-=e.length)>=0&&t.slice(n,r)==e},vn.eq=va,vn.escape=function(t){return(t=Xa(t))&&L.test(t)?t.replace(R,Oe):t},vn.escapeRegExp=function(t){return(t=Xa(t))&&B.test(t)?t.replace(U,"\\$&"):t},vn.every=function(t,e,n){var i=Ta(t)?Jt:zn;return n&&Xr(t,e,n)&&(e=void 0),i(t,Vr(e,3))},vn.find=Yo,vn.findIndex=bo,vn.findKey=function(t,e){return ue(t,Vr(e,3),Zn)},vn.findLast=qo,vn.findLastIndex=To,vn.findLastKey=function(t,e){return ue(t,Vr(e,3),Jn)},vn.floor=Zs,vn.forEach=Xo,vn.forEachRight=Ko,vn.forIn=function(t,e){return null==t?t:Xn(t,Vr(e,3),ls)},vn.forInRight=function(t,e){return null==t?t:Kn(t,Vr(e,3),ls)},vn.forOwn=function(t,e){return t&&Zn(t,Vr(e,3))},vn.forOwnRight=function(t,e){return t&&Jn(t,Vr(e,3))},vn.get=is,vn.gt=ya,vn.gte=_a,vn.has=function(t,e){return null!=t&&zr(t,e,ri)},vn.hasIn=rs,vn.head=wo,vn.identity=Rs,vn.includes=function(t,e,n,i){t=wa(t)?t:vs(t),n=n&&!i?za(n):0;var r=t.length;return n<0&&(n=qe(r+n,0)),Va(t)?n<=r&&t.indexOf(e,n)>-1:!!r&&ce(t,e,n)>-1},vn.indexOf=function(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=null==n?0:za(n);return r<0&&(r=qe(i+r,0)),ce(t,e,r)},vn.inRange=function(t,e,n){return e=Wa(e),void 0===n?(n=e,e=0):n=Wa(n),function(t,e,n){return t>=Xe(e,n)&&t<qe(e,n)}(t=Ya(t),e,n)},vn.invoke=ss,vn.isArguments=ba,vn.isArray=Ta,vn.isArrayBuffer=Sa,vn.isArrayLike=wa,vn.isArrayLikeObject=Ea,vn.isBoolean=function(t){return!0===t||!1===t||ka(t)&&ni(t)==c},vn.isBuffer=Ca,vn.isDate=Oa,vn.isElement=function(t){return ka(t)&&1===t.nodeType&&!Na(t)},vn.isEmpty=function(t){if(null==t)return!0;if(wa(t)&&(Ta(t)||"string"==typeof t||"function"==typeof t.splice||Ca(t)||Ua(t)||ba(t)))return!t.length;var e=Wr(t);if(e==g||e==_)return!t.size;if(Qr(t))return!fi(t).length;for(var n in t)if(gt.call(t,n))return!1;return!0},vn.isEqual=function(t,e){return li(t,e)},vn.isEqualWith=function(t,e,n){var i=(n="function"==typeof n?n:void 0)?n(t,e):void 0;return void 0===i?li(t,e,void 0,n):!!i},vn.isError=Aa,vn.isFinite=function(t){return"number"==typeof t&&ze(t)},vn.isFunction=Pa,vn.isInteger=Ia,vn.isLength=xa,vn.isMap=Da,vn.isMatch=function(t,e){return t===e||ci(t,e,Ur(e))},vn.isMatchWith=function(t,e,n){return n="function"==typeof n?n:void 0,ci(t,e,Ur(e),n)},vn.isNaN=function(t){return Ra(t)&&t!=+t},vn.isNative=function(t){if(Jr(t))throw new it("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return di(t)},vn.isNil=function(t){return null==t},vn.isNull=function(t){return null===t},vn.isNumber=Ra,vn.isObject=Ma,vn.isObjectLike=ka,vn.isPlainObject=Na,vn.isRegExp=La,vn.isSafeInteger=function(t){return Ia(t)&&t>=-9007199254740991&&t<=9007199254740991},vn.isSet=Fa,vn.isString=Va,vn.isSymbol=ja,vn.isTypedArray=Ua,vn.isUndefined=function(t){return void 0===t},vn.isWeakMap=function(t){return ka(t)&&Wr(t)==S},vn.isWeakSet=function(t){return ka(t)&&"[object WeakSet]"==ni(t)},vn.join=function(t,e){return null==t?"":$e.call(t,e)},vn.kebabCase=Ts,vn.last=Ao,vn.lastIndexOf=function(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=i;return void 0!==n&&(r=(r=za(n))<0?qe(i+r,0):Xe(r,i-1)),e==e?function(t,e,n){for(var i=n+1;i--;)if(t[i]===e)return i;return i}(t,e,r):le(t,he,r,!0)},vn.lowerCase=Ss,vn.lowerFirst=ws,vn.lt=Ba,vn.lte=Ha,vn.max=function(t){return t&&t.length?$n(t,Rs,ii):void 0},vn.maxBy=function(t,e){return t&&t.length?$n(t,Vr(e,2),ii):void 0},vn.mean=function(t){return fe(t,Rs)},vn.meanBy=function(t,e){return fe(t,Vr(e,2))},vn.min=function(t){return t&&t.length?$n(t,Rs,gi):void 0},vn.minBy=function(t,e){return t&&t.length?$n(t,Vr(e,2),gi):void 0},vn.stubArray=$s,vn.stubFalse=Ys,vn.stubObject=function(){return{}},vn.stubString=function(){return""},vn.stubTrue=function(){return!0},vn.multiply=Qs,vn.nth=function(t,e){return t&&t.length?bi(t,za(e)):void 0},vn.noConflict=function(){return Lt._===this&&(Lt._=bt),this},vn.noop=js,vn.now=ia,vn.pad=function(t,e,n){t=Xa(t);var i=(e=za(e))?De(t):0;if(!e||i>=e)return t;var r=(e-i)/2;return Tr(He(r),n)+t+Tr(Be(r),n)},vn.padEnd=function(t,e,n){t=Xa(t);var i=(e=za(e))?De(t):0;return e&&i<e?t+Tr(e-i,n):t},vn.padStart=function(t,e,n){t=Xa(t);var i=(e=za(e))?De(t):0;return e&&i<e?Tr(e-i,n)+t:t},vn.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),Ze(Xa(t).replace(G,""),e||0)},vn.random=function(t,e,n){if(n&&"boolean"!=typeof n&&Xr(t,e,n)&&(e=n=void 0),void 0===n&&("boolean"==typeof e?(n=e,e=void 0):"boolean"==typeof t&&(n=t,t=void 0)),void 0===t&&void 0===e?(t=0,e=1):(t=Wa(t),void 0===e?(e=t,t=0):e=Wa(e)),t>e){var i=t;t=e,e=i}if(n||t%1||e%1){var r=Je();return Xe(t+r*(e-t+kt("1e-"+((r+"").length-1))),e)}return Ci(t,e)},vn.reduce=function(t,e,n){var i=Ta(t)?re:me,r=arguments.length<3;return i(t,Vr(e,4),n,r,Gn)},vn.reduceRight=function(t,e,n){var i=Ta(t)?oe:me,r=arguments.length<3;return i(t,Vr(e,4),n,r,Wn)},vn.repeat=function(t,e,n){return e=(n?Xr(t,e,n):void 0===e)?1:za(e),Oi(Xa(t),e)},vn.replace=function(){var t=arguments,e=Xa(t[0]);return t.length<3?e:e.replace(t[1],t[2])},vn.result=function(t,e,n){var i=-1,r=(e=Ki(e,t)).length;for(r||(r=1,t=void 0);++i<r;){var o=null==t?void 0:t[po(e[i])];void 0===o&&(i=r,o=n),t=Pa(o)?o.call(t):o}return t},vn.round=tu,vn.runInContext=t,vn.sample=function(t){return(Ta(t)?Pn:Pi)(t)},vn.size=function(t){if(null==t)return 0;if(wa(t))return Va(t)?De(t):t.length;var e=Wr(t);return e==g||e==_?t.size:fi(t).length},vn.snakeCase=Es,vn.some=function(t,e,n){var i=Ta(t)?ae:Ni;return n&&Xr(t,e,n)&&(e=void 0),i(t,Vr(e,3))},vn.sortedIndex=function(t,e){return Li(t,e)},vn.sortedIndexBy=function(t,e,n){return Fi(t,e,Vr(n,2))},vn.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var i=Li(t,e);if(i<n&&va(t[i],e))return i}return-1},vn.sortedLastIndex=function(t,e){return Li(t,e,!0)},vn.sortedLastIndexBy=function(t,e,n){return Fi(t,e,Vr(n,2),!0)},vn.sortedLastIndexOf=function(t,e){if(null==t?0:t.length){var n=Li(t,e,!0)-1;if(va(t[n],e))return n}return-1},vn.startCase=Cs,vn.startsWith=function(t,e,n){return t=Xa(t),n=null==n?0:Vn(za(n),0,t.length),e=Ui(e),t.slice(n,n+e.length)==e},vn.subtract=eu,vn.sum=function(t){return t&&t.length?ve(t,Rs):0},vn.sumBy=function(t,e){return t&&t.length?ve(t,Vr(e,2)):0},vn.times=function(t,e){if((t=za(t))<1||t>9007199254740991)return[];var n=4294967295,i=Xe(t,4294967295);t-=4294967295;for(var r=ye(i,e=Vr(e));++n<t;)e(n);return r},vn.toFinite=Wa,vn.toInteger=za,vn.toLength=$a,vn.toLower=function(t){return Xa(t).toLowerCase()},vn.toNumber=Ya,vn.toSafeInteger=function(t){return t?Vn(za(t),-9007199254740991,9007199254740991):0===t?t:0},vn.toString=Xa,vn.toUpper=function(t){return Xa(t).toUpperCase()},vn.trim=function(t,e,n){if((t=Xa(t))&&(n||void 0===e))return t.replace(H,"");if(!t||!(e=Ui(e)))return t;var i=Re(t),r=Re(e);return Ji(i,Se(i,r),we(i,r)+1).join("")},vn.trimEnd=function(t,e,n){if((t=Xa(t))&&(n||void 0===e))return t.replace(W,"");if(!t||!(e=Ui(e)))return t;var i=Re(t);return Ji(i,0,we(i,Re(e))+1).join("")},vn.trimStart=function(t,e,n){if((t=Xa(t))&&(n||void 0===e))return t.replace(G,"");if(!t||!(e=Ui(e)))return t;var i=Re(t);return Ji(i,Se(i,Re(e))).join("")},vn.truncate=function(t,e){var n=30,i="...";if(Ma(e)){var r="separator"in e?e.separator:r;n="length"in e?za(e.length):n,i="omission"in e?Ui(e.omission):i}var o=(t=Xa(t)).length;if(Ae(t)){var a=Re(t);o=a.length}if(n>=o)return t;var s=n-De(i);if(s<1)return i;var u=a?Ji(a,0,s).join(""):t.slice(0,s);if(void 0===r)return u+i;if(a&&(s+=u.length-s),La(r)){if(t.slice(s).search(r)){var l,c=u;for(r.global||(r=st(r.source,Xa(K.exec(r))+"g")),r.lastIndex=0;l=r.exec(c);)var d=l.index;u=u.slice(0,void 0===d?s:d)}}else if(t.indexOf(Ui(r),s)!=s){var h=u.lastIndexOf(r);h>-1&&(u=u.slice(0,h))}return u+i},vn.unescape=function(t){return(t=Xa(t))&&N.test(t)?t.replace(D,Ne):t},vn.uniqueId=function(t){var e=++mt;return Xa(t)+e},vn.upperCase=Os,vn.upperFirst=As,vn.each=Xo,vn.eachRight=Ko,vn.first=wo,Vs(vn,(Js={},Zn(vn,(function(t,e){gt.call(vn.prototype,e)||(Js[e]=t)})),Js),{chain:!1}),vn.VERSION="4.17.20",Kt(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){vn[t].placeholder=vn})),Kt(["drop","take"],(function(t,e){Tn.prototype[t]=function(n){n=void 0===n?1:qe(za(n),0);var i=this.__filtered__&&!e?new Tn(this):this.clone();return i.__filtered__?i.__takeCount__=Xe(n,i.__takeCount__):i.__views__.push({size:Xe(n,4294967295),type:t+(i.__dir__<0?"Right":"")}),i},Tn.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),Kt(["filter","map","takeWhile"],(function(t,e){var n=e+1,i=1==n||3==n;Tn.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Vr(t,3),type:n}),e.__filtered__=e.__filtered__||i,e}})),Kt(["head","last"],(function(t,e){var n="take"+(e?"Right":"");Tn.prototype[t]=function(){return this[n](1).value()[0]}})),Kt(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");Tn.prototype[t]=function(){return this.__filtered__?new Tn(this):this[n](1)}})),Tn.prototype.compact=function(){return this.filter(Rs)},Tn.prototype.find=function(t){return this.filter(t).head()},Tn.prototype.findLast=function(t){return this.reverse().find(t)},Tn.prototype.invokeMap=Ai((function(t,e){return"function"==typeof t?new Tn(this):this.map((function(n){return si(n,t,e)}))})),Tn.prototype.reject=function(t){return this.filter(ha(Vr(t)))},Tn.prototype.slice=function(t,e){t=za(t);var n=this;return n.__filtered__&&(t>0||e<0)?new Tn(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),void 0!==e&&(n=(e=za(e))<0?n.dropRight(-e):n.take(e-t)),n)},Tn.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Tn.prototype.toArray=function(){return this.take(4294967295)},Zn(Tn.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),i=/^(?:head|last)$/.test(e),r=vn[i?"take"+("last"==e?"Right":""):e],o=i||/^find/.test(e);r&&(vn.prototype[e]=function(){var e=this.__wrapped__,a=i?[1]:arguments,s=e instanceof Tn,u=a[0],l=s||Ta(e),c=function(t){var e=r.apply(vn,ie([t],a));return i&&d?e[0]:e};l&&n&&"function"==typeof u&&1!=u.length&&(s=l=!1);var d=this.__chain__,h=!!this.__actions__.length,f=o&&!d,p=s&&!h;if(!o&&l){e=p?e:new Tn(this);var g=t.apply(e,a);return g.__actions__.push({func:Wo,args:[c],thisArg:void 0}),new bn(g,d)}return f&&p?t.apply(this,a):(g=this.thru(c),f?i?g.value()[0]:g.value():g)})})),Kt(["pop","push","shift","sort","splice","unshift"],(function(t){var e=ct[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);vn.prototype[t]=function(){var t=arguments;if(i&&!this.__chain__){var r=this.value();return e.apply(Ta(r)?r:[],t)}return this[n]((function(n){return e.apply(Ta(n)?n:[],t)}))}})),Zn(Tn.prototype,(function(t,e){var n=vn[e];if(n){var i=n.name+"";gt.call(un,i)||(un[i]=[]),un[i].push({name:e,func:n})}})),un[vr(void 0,2).name]=[{name:"wrapper",func:void 0}],Tn.prototype.clone=function(){var t=new Tn(this.__wrapped__);return t.__actions__=ar(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=ar(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=ar(this.__views__),t},Tn.prototype.reverse=function(){if(this.__filtered__){var t=new Tn(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Tn.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=Ta(t),i=e<0,r=n?t.length:0,o=function(t,e,n){var i=-1,r=n.length;for(;++i<r;){var o=n[i],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=Xe(e,t+a);break;case"takeRight":t=qe(t,e-a)}}return{start:t,end:e}}(0,r,this.__views__),a=o.start,s=o.end,u=s-a,l=i?s:a-1,c=this.__iteratees__,d=c.length,h=0,f=Xe(u,this.__takeCount__);if(!n||!i&&r==u&&f==u)return zi(t,this.__actions__);var p=[];t:for(;u--&&h<f;){for(var g=-1,m=t[l+=e];++g<d;){var v=c[g],y=v.iteratee,_=v.type,b=y(m);if(2==_)m=b;else if(!b){if(1==_)continue t;break t}}p[h++]=m}return p},vn.prototype.at=zo,vn.prototype.chain=function(){return Go(this)},vn.prototype.commit=function(){return new bn(this.value(),this.__chain__)},vn.prototype.next=function(){void 0===this.__values__&&(this.__values__=Ga(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?void 0:this.__values__[this.__index__++]}},vn.prototype.plant=function(t){for(var e,n=this;n instanceof _n;){var i=mo(n);i.__index__=0,i.__values__=void 0,e?r.__wrapped__=i:e=i;var r=i;n=n.__wrapped__}return r.__wrapped__=t,e},vn.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof Tn){var e=t;return this.__actions__.length&&(e=new Tn(this)),(e=e.reverse()).__actions__.push({func:Wo,args:[Mo],thisArg:void 0}),new bn(e,this.__chain__)}return this.thru(Mo)},vn.prototype.toJSON=vn.prototype.valueOf=vn.prototype.value=function(){return zi(this.__wrapped__,this.__actions__)},vn.prototype.first=vn.prototype.head,se&&(vn.prototype[se]=function(){return this}),vn}();Lt._=Le,void 0===(r=function(){return Le}.call(e,n,e,i))||(i.exports=r)}).call(this)}).call(this,n(33),n(207)(t))},function(t,e){t.exports=jQuery},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o={absorb:function(t){r.default.each(t,(function(t,e){o[e]=t}))},purge:function(t){delete o[t]}};window.cerosContext&&o.absorb(window.cerosContext),e.default=o},function(t,e,n){"use strict";(function(i){var r,o,a;a="object"==typeof self&&self.self==self&&self||"object"==typeof i&&i.global==i&&i,r=[n(0),n(1),e],void 0===(o=function(t,e,n){a.Backbone=function(t,e,n,i){var r=t.Backbone,o=Array.prototype.slice;e.VERSION="1.2.3",e.$=i,e.noConflict=function(){return t.Backbone=r,this},e.emulateHTTP=!1,e.emulateJSON=!1;var a=function(t,e,i){n.each(e,(function(e,r){n[r]&&(t.prototype[r]=function(t,e,i){switch(t){case 1:return function(){return n[e](this[i])};case 2:return function(t){return n[e](this[i],t)};case 3:return function(t,r){return n[e](this[i],s(t,this),r)};case 4:return function(t,r,o){return n[e](this[i],s(t,this),r,o)};default:return function(){var t=o.call(arguments);return t.unshift(this[i]),n[e].apply(n,t)}}}(e,r,i))}))},s=function(t,e){return n.isFunction(t)?t:n.isObject(t)&&!e._isModel(t)?u(t):n.isString(t)?function(e){return e.get(t)}:t},u=function(t){var e=n.matches(t);return function(t){return e(t.attributes)}},l=e.Events={},c=/\s+/,d=function(t,e,i,r,o){var a,s=0;if(i&&"object"==typeof i){void 0!==r&&"context"in o&&void 0===o.context&&(o.context=r);for(a=n.keys(i);s<a.length;s++)e=d(t,e,a[s],i[a[s]],o)}else if(i&&c.test(i))for(a=i.split(c);s<a.length;s++)e=t(e,a[s],r,o);else e=t(e,i,r,o);return e};l.on=function(t,e,n){return h(this,t,e,n)};var h=function(t,e,n,i,r){return t._events=d(f,t._events||{},e,n,{context:i,ctx:t,listening:r}),r&&((t._listeners||(t._listeners={}))[r.id]=r),t};l.listenTo=function(t,e,i){if(!t)return this;var r=t._listenId||(t._listenId=n.uniqueId("l")),o=this._listeningTo||(this._listeningTo={}),a=o[r];if(!a){var s=this._listenId||(this._listenId=n.uniqueId("l"));a=o[r]={obj:t,objId:r,id:s,listeningTo:o,count:0}}return h(t,e,i,this,a),this};var f=function(t,e,n,i){if(n){var r=t[e]||(t[e]=[]),o=i.context,a=i.ctx,s=i.listening;s&&s.count++,r.push({callback:n,context:o,ctx:o||a,listening:s})}return t};l.off=function(t,e,n){return this._events?(this._events=d(p,this._events,t,e,{context:n,listeners:this._listeners}),this):this},l.stopListening=function(t,e,i){var r=this._listeningTo;if(!r)return this;for(var o=t?[t._listenId]:n.keys(r),a=0;a<o.length;a++){var s=r[o[a]];if(!s)break;s.obj.off(e,i,this)}return n.isEmpty(r)&&(this._listeningTo=void 0),this};var p=function(t,e,i,r){if(t){var o,a=0,s=r.context,u=r.listeners;if(e||i||s){for(var l=e?[e]:n.keys(t);a<l.length;a++){var c=t[e=l[a]];if(!c)break;for(var d=[],h=0;h<c.length;h++){var f=c[h];i&&i!==f.callback&&i!==f.callback._callback||s&&s!==f.context?d.push(f):(o=f.listening)&&0==--o.count&&(delete u[o.id],delete o.listeningTo[o.objId])}d.length?t[e]=d:delete t[e]}return n.size(t)?t:void 0}for(var p=n.keys(u);a<p.length;a++)delete u[(o=u[p[a]]).id],delete o.listeningTo[o.objId]}};l.once=function(t,e,i){var r=d(g,{},t,e,n.bind(this.off,this));return this.on(r,void 0,i)},l.listenToOnce=function(t,e,i){var r=d(g,{},e,i,n.bind(this.stopListening,this,t));return this.listenTo(t,r)};var g=function(t,e,i,r){if(i){var o=t[e]=n.once((function(){r(e,o),i.apply(this,arguments)}));o._callback=i}return t};l.trigger=function(t){if(!this._events)return this;for(var e=Math.max(0,arguments.length-1),n=Array(e),i=0;i<e;i++)n[i]=arguments[i+1];return d(m,this._events,t,void 0,n),this};var m=function(t,e,n,i){if(t){var r=t[e],o=t.all;r&&o&&(o=o.slice()),r&&v(r,i),o&&v(o,[e].concat(i))}return t},v=function(t,e){var n,i=-1,r=t.length,o=e[0],a=e[1],s=e[2];switch(e.length){case 0:for(;++i<r;)(n=t[i]).callback.call(n.ctx);return;case 1:for(;++i<r;)(n=t[i]).callback.call(n.ctx,o);return;case 2:for(;++i<r;)(n=t[i]).callback.call(n.ctx,o,a);return;case 3:for(;++i<r;)(n=t[i]).callback.call(n.ctx,o,a,s);return;default:for(;++i<r;)(n=t[i]).callback.apply(n.ctx,e);return}};l.bind=l.on,l.unbind=l.off,n.extend(e,l);var y=e.Model=function(t,e){var i=t||{};e||(e={}),this.cid=n.uniqueId(this.cidPrefix),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(i=this.parse(i,e)||{}),i=n.defaults({},i,n.result(this,"defaults")),this.set(i,e),this.changed={},this.initialize.apply(this,arguments)};n.extend(y.prototype,l,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(t){return n.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return n.escape(this.get(t))},has:function(t){return null!=this.get(t)},matches:function(t){return!!n.iteratee(t,this)(this.attributes)},set:function(t,e,i){if(null==t)return this;var r;if("object"==typeof t?(r=t,i=e):(r={})[t]=e,i||(i={}),!this._validate(r,i))return!1;var o=i.unset,a=i.silent,s=[],u=this._changing;this._changing=!0,u||(this._previousAttributes=n.clone(this.attributes),this.changed={});var l=this.attributes,c=this.changed,d=this._previousAttributes;for(var h in r)e=r[h],n.isEqual(l[h],e)||s.push(h),n.isEqual(d[h],e)?delete c[h]:c[h]=e,o?delete l[h]:l[h]=e;if(this.id=this.get(this.idAttribute),!a){s.length&&(this._pending=i);for(var f=0;f<s.length;f++)this.trigger("change:"+s[f],this,l[s[f]],i)}if(u)return this;if(!a)for(;this._pending;)i=this._pending,this._pending=!1,this.trigger("change",this,i);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,n.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var i in this.attributes)e[i]=void 0;return this.set(e,n.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!n.isEmpty(this.changed):n.has(this.changed,t)},changedAttributes:function(t){if(!t)return!!this.hasChanged()&&n.clone(this.changed);var e=this._changing?this._previousAttributes:this.attributes,i={};for(var r in t){var o=t[r];n.isEqual(e[r],o)||(i[r]=o)}return!!n.size(i)&&i},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(t){t=n.extend({parse:!0},t);var e=this,i=t.success;return t.success=function(n){var r=t.parse?e.parse(n,t):n;if(!e.set(r,t))return!1;i&&i.call(t.context,e,n,t),e.trigger("sync",e,n,t)},F(this,t),this.sync("read",this,t)},save:function(t,e,i){var r;null==t||"object"==typeof t?(r=t,i=e):(r={})[t]=e;var o=(i=n.extend({validate:!0,parse:!0},i)).wait;if(r&&!o){if(!this.set(r,i))return!1}else if(!this._validate(r,i))return!1;var a=this,s=i.success,u=this.attributes;i.success=function(t){a.attributes=u;var e=i.parse?a.parse(t,i):t;if(o&&(e=n.extend({},r,e)),e&&!a.set(e,i))return!1;s&&s.call(i.context,a,t,i),a.trigger("sync",a,t,i)},F(this,i),r&&o&&(this.attributes=n.extend({},u,r));var l=this.isNew()?"create":i.patch?"patch":"update";"patch"!==l||i.attrs||(i.attrs=r);var c=this.sync(l,this,i);return this.attributes=u,c},destroy:function(t){t=t?n.clone(t):{};var e=this,i=t.success,r=t.wait,o=function(){e.stopListening(),e.trigger("destroy",e,e.collection,t)};t.success=function(n){r&&o(),i&&i.call(t.context,e,n,t),e.isNew()||e.trigger("sync",e,n,t)};var a=!1;return this.isNew()?n.defer(t.success):(F(this,t),a=this.sync("delete",this,t)),r||o(),a},url:function(){var t=n.result(this,"urlRoot")||n.result(this.collection,"url")||L();if(this.isNew())return t;var e=this.get(this.idAttribute);return t.replace(/[^\/]$/,"$&/")+encodeURIComponent(e)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},n.defaults({validate:!0},t))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=n.extend({},this.attributes,t);var i=this.validationError=this.validate(t,e)||null;return!i||(this.trigger("invalid",this,i,n.extend(e,{validationError:i})),!1)}}),a(y,{keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1},"attributes");var _=e.Collection=function(t,e){e||(e={}),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,n.extend({silent:!0},e))},b={add:!0,remove:!0,merge:!0},T={add:!0,remove:!1},S=function(t,e,n){n=Math.min(Math.max(n,0),t.length);for(var i=Array(t.length-n),r=e.length,o=0;o<i.length;o++)i[o]=t[o+n];for(o=0;o<r;o++)t[o+n]=e[o];for(o=0;o<i.length;o++)t[o+r+n]=i[o]};n.extend(_.prototype,l,{model:y,initialize:function(){},toJSON:function(t){return this.map((function(e){return e.toJSON(t)}))},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,n.extend({merge:!1},e,T))},remove:function(t,e){e=n.extend({},e);var i=!n.isArray(t);t=i?[t]:n.clone(t);var r=this._removeModels(t,e);return!e.silent&&r&&this.trigger("update",this,e),i?r[0]:r},set:function(t,e){if(null!=t){(e=n.defaults({},e,b)).parse&&!this._isModel(t)&&(t=this.parse(t,e));var i=!n.isArray(t);t=i?[t]:t.slice();var r=e.at;null!=r&&(r=+r),r<0&&(r+=this.length+1);for(var o,a=[],s=[],u=[],l={},c=e.add,d=e.merge,h=e.remove,f=!1,p=this.comparator&&null==r&&!1!==e.sort,g=n.isString(this.comparator)?this.comparator:null,m=0;m<t.length;m++){o=t[m];var v=this.get(o);if(v){if(d&&o!==v){var y=this._isModel(o)?o.attributes:o;e.parse&&(y=v.parse(y,e)),v.set(y,e),p&&!f&&(f=v.hasChanged(g))}l[v.cid]||(l[v.cid]=!0,a.push(v)),t[m]=v}else c&&(o=t[m]=this._prepareModel(o,e))&&(s.push(o),this._addReference(o,e),l[o.cid]=!0,a.push(o))}if(h){for(m=0;m<this.length;m++)l[(o=this.models[m]).cid]||u.push(o);u.length&&this._removeModels(u,e)}var _=!1,T=!p&&c&&h;if(a.length&&T?(_=this.length!=a.length||n.some(this.models,(function(t,e){return t!==a[e]})),this.models.length=0,S(this.models,a,0),this.length=this.models.length):s.length&&(p&&(f=!0),S(this.models,s,null==r?this.length:r),this.length=this.models.length),f&&this.sort({silent:!0}),!e.silent){for(m=0;m<s.length;m++)null!=r&&(e.index=r+m),(o=s[m]).trigger("add",o,this,e);(f||_)&&this.trigger("sort",this,e),(s.length||u.length)&&this.trigger("update",this,e)}return i?t[0]:t}},reset:function(t,e){e=e?n.clone(e):{};for(var i=0;i<this.models.length;i++)this._removeReference(this.models[i],e);return e.previousModels=this.models,this._reset(),t=this.add(t,n.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,n.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t)},unshift:function(t,e){return this.add(t,n.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t)},slice:function(){return o.apply(this.models,arguments)},get:function(t){if(null!=t){var e=this.modelId(this._isModel(t)?t.attributes:t);return this._byId[t]||this._byId[e]||this._byId[t.cid]}},at:function(t){return t<0&&(t+=this.length),this.models[t]},where:function(t,e){return this[e?"find":"filter"](t)},findWhere:function(t){return this.where(t,!0)},sort:function(t){var e=this.comparator;if(!e)throw new Error("Cannot sort a set without a comparator");t||(t={});var i=e.length;return n.isFunction(e)&&(e=n.bind(e,this)),1===i||n.isString(e)?this.models=this.sortBy(e):this.models.sort(e),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return n.invoke(this.models,"get",t)},fetch:function(t){var e=(t=n.extend({parse:!0},t)).success,i=this;return t.success=function(n){var r=t.reset?"reset":"set";i[r](n,t),e&&e.call(t.context,i,n,t),i.trigger("sync",i,n,t)},F(this,t),this.sync("read",this,t)},create:function(t,e){var i=(e=e?n.clone(e):{}).wait;if(!(t=this._prepareModel(t,e)))return!1;i||this.add(t,e);var r=this,o=e.success;return e.success=function(t,e,n){i&&r.add(t,n),o&&o.call(n.context,t,e,n)},t.save(null,e),t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(t){return t[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(this._isModel(t))return t.collection||(t.collection=this),t;(e=e?n.clone(e):{}).collection=this;var i=new this.model(t,e);return i.validationError?(this.trigger("invalid",this,i.validationError,e),!1):i},_removeModels:function(t,e){for(var n=[],i=0;i<t.length;i++){var r=this.get(t[i]);if(r){var o=this.indexOf(r);this.models.splice(o,1),this.length--,e.silent||(e.index=o,r.trigger("remove",r,this,e)),n.push(r),this._removeReference(r,e)}}return!!n.length&&n},_isModel:function(t){return t instanceof y},_addReference:function(t,e){this._byId[t.cid]=t;var n=this.modelId(t.attributes);null!=n&&(this._byId[n]=t),t.on("all",this._onModelEvent,this)},_removeReference:function(t,e){delete this._byId[t.cid];var n=this.modelId(t.attributes);null!=n&&delete this._byId[n],this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,n,i){if("add"!==t&&"remove"!==t||n===this){if("destroy"===t&&this.remove(e,i),"change"===t){var r=this.modelId(e._previousAttributes),o=this.modelId(e.attributes);r!==o&&(null!=r&&delete this._byId[r],null!=o&&(this._byId[o]=e))}this.trigger.apply(this,arguments)}}}),a(_,{forEach:3,each:3,map:3,collect:3,reduce:4,foldl:4,inject:4,reduceRight:4,foldr:4,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3},"models");var w=e.View=function(t){this.cid=n.uniqueId("view"),n.extend(this,n.pick(t,C)),this._ensureElement(),this.initialize.apply(this,arguments)},E=/^(\S+)\s*(.*)$/,C=["model","collection","el","id","attributes","className","tagName","events"];n.extend(w.prototype,l,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(t){return this.undelegateEvents(),this._setElement(t),this.delegateEvents(),this},_setElement:function(t){this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0]},delegateEvents:function(t){if(t||(t=n.result(this,"events")),!t)return this;for(var e in this.undelegateEvents(),t){var i=t[e];if(n.isFunction(i)||(i=this[i]),i){var r=e.match(E);this.delegate(r[1],r[2],n.bind(i,this))}}return this},delegate:function(t,e,n){return this.$el.on(t+".delegateEvents"+this.cid,e,n),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(t,e,n){return this.$el.off(t+".delegateEvents"+this.cid,e,n),this},_createElement:function(t){return document.createElement(t)},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"));else{var t=n.extend({},n.result(this,"attributes"));this.id&&(t.id=n.result(this,"id")),this.className&&(t.class=n.result(this,"className")),this.setElement(this._createElement(n.result(this,"tagName"))),this._setAttributes(t)}},_setAttributes:function(t){this.$el.attr(t)}}),e.sync=function(t,i,r){var o=O[t];n.defaults(r||(r={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var a={type:o,dataType:"json"};if(r.url||(a.url=n.result(i,"url")||L()),null!=r.data||!i||"create"!==t&&"update"!==t&&"patch"!==t||(a.contentType="application/json",a.data=JSON.stringify(r.attrs||i.toJSON(r))),r.emulateJSON&&(a.contentType="application/x-www-form-urlencoded",a.data=a.data?{model:a.data}:{}),r.emulateHTTP&&("PUT"===o||"DELETE"===o||"PATCH"===o)){a.type="POST",r.emulateJSON&&(a.data._method=o);var s=r.beforeSend;r.beforeSend=function(t){if(t.setRequestHeader("X-HTTP-Method-Override",o),s)return s.apply(this,arguments)}}"GET"===a.type||r.emulateJSON||(a.processData=!1);var u=r.error;r.error=function(t,e,n){r.textStatus=e,r.errorThrown=n,u&&u.call(r.context,t,e,n)};var l=r.xhr=e.ajax(n.extend(a,r));return i.trigger("request",i,l,r),l};var O={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var A=e.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},P=/\((.*?)\)/g,I=/(\(\?)?:\w+/g,x=/\*\w+/g,M=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(A.prototype,l,{initialize:function(){},route:function(t,i,r){n.isRegExp(t)||(t=this._routeToRegExp(t)),n.isFunction(i)&&(r=i,i=""),r||(r=this[i]);var o=this;return e.history.route(t,(function(n){var a=o._extractParameters(t,n);!1!==o.execute(r,a,i)&&(o.trigger.apply(o,["route:"+i].concat(a)),o.trigger("route",i,a),e.history.trigger("route",o,i,a))})),this},execute:function(t,e,n){t&&t.apply(this,e)},navigate:function(t,n){return e.history.navigate(t,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var t,e=n.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(M,"\\$&").replace(P,"(?:$1)?").replace(I,(function(t,e){return e?t:"([^/?]+)"})).replace(x,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var i=t.exec(e).slice(1);return n.map(i,(function(t,e){return e===i.length-1?t||null:t?decodeURIComponent(t):null}))}});var k=e.History=function(){this.handlers=[],this.checkUrl=n.bind(this.checkUrl,this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},D=/^[#\/]|\s+$/g,R=/^\/+|\/+$/g,N=/#.*$/;k.started=!1,n.extend(k.prototype,l,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root&&!this.getSearch()},matchRoot:function(){return this.decodeFragment(this.location.pathname).slice(0,this.root.length-1)+"/"===this.root},decodeFragment:function(t){return decodeURI(t.replace(/%25/g,"%2525"))},getSearch:function(){var t=this.location.href.replace(/#.*/,"").match(/\?.+/);return t?t[0]:""},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getPath:function(){var t=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===t.charAt(0)?t.slice(1):t},getFragment:function(t){return null==t&&(t=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),t.replace(D,"")},start:function(t){if(k.started)throw new Error("Backbone.history has already been started");if(k.started=!0,this.options=n.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(R,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var e=this.root.slice(0,-1)||"/";return this.location.replace(e+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var i=document.body,r=i.insertBefore(this.iframe,i.firstChild).contentWindow;r.document.open(),r.document.close(),r.location.hash="#"+this.fragment}var o=window.addEventListener||function(t,e){return attachEvent("on"+t,e)};if(this._usePushState?o("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?o("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var t=window.removeEventListener||function(t,e){return detachEvent("on"+t,e)};this._usePushState?t("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&t("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),k.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();if(e===this.fragment&&this.iframe&&(e=this.getHash(this.iframe.contentWindow)),e===this.fragment)return!1;this.iframe&&this.navigate(e),this.loadUrl()},loadUrl:function(t){return!!this.matchRoot()&&(t=this.fragment=this.getFragment(t),n.some(this.handlers,(function(e){if(e.route.test(t))return e.callback(t),!0})))},navigate:function(t,e){if(!k.started)return!1;e&&!0!==e||(e={trigger:!!e}),t=this.getFragment(t||"");var n=this.root;""!==t&&"?"!==t.charAt(0)||(n=n.slice(0,-1)||"/");var i=n+t;if(t=this.decodeFragment(t.replace(N,"")),this.fragment!==t){if(this.fragment=t,this._usePushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,i);else{if(!this._wantsHashChange)return this.location.assign(i);if(this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getHash(this.iframe.contentWindow)){var r=this.iframe.contentWindow;e.replace||(r.document.open(),r.document.close()),this._updateHash(r.location,t,e.replace)}}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,n){if(n){var i=t.href.replace(/(javascript:|#).*$/,"");t.replace(i+"#"+e)}else t.hash="#"+e}}),e.history=new k,y.extend=_.extend=A.extend=w.extend=k.extend=function(t,e){var i,r=this;i=t&&n.has(t,"constructor")?t.constructor:function(){return r.apply(this,arguments)},n.extend(i,r,e);var o=function(){this.constructor=i};return o.prototype=r.prototype,i.prototype=new o,t&&n.extend(i.prototype,t),i.__super__=r.prototype,i};var L=function(){throw new Error('A "url" property or function must be specified')},F=function(t,e){var n=e.error;e.error=function(i){n&&n.call(e.context,t,i,e),t.trigger("error",t,i,e)}};return e}(a,n,t,e)}.apply(e,r))||(t.exports=o)}).call(this,n(33))},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r,o,a,s,u,l,c,d,h,f,p,g,m,v,y,_,b,T,S,w,E,C,O,A,P,I,x,M,k,D,R=i(n(0)),N=i(n(105)),L=i(n(212)),F=i(n(53)),V=i(n(213)),j=i(n(54)),U=(r=function(){var t=j.default.getDimensions();return t.width*t.height<5e5},o=function(){return window.innerWidth*window.innerHeight<5e5},a=function(){return L.default.isMobile},s=function(){return!a()},u=function(){return a()&&r()},l=function(){return h(navigator.userAgent)||a()&&!r()},c=function(){return N.default.canvas&&N.default.video},d=R.default.once((function(){return V.default.browser(navigator.userAgent)})),h=function(t){var e=(t=t||navigator.userAgent).match(/(Macintosh; Intel Mac)(.*Version\/([\d.]+)\sSafari)/i);return!!(e&&(window.navigator.maxTouchPoints||0)>1)&&e},p=(f=function(t){var e,n,i;/Windows/i.test(t)?(e=t.match(/Phone( (OS )?([\d.]+))?/))?(n="Windows Mobile",i=e[3]):(e=t.match(/Windows NT\s([0-9.]+)/))?(n="Windows",i=e[1]):n="Windows":(e=t.match(/(iPad|iPod|iPhone)(.*OS ([\d_]+))?/))?(n="iOS",e[3]&&(i=e[3].replace(/_/g,"."))):(e=h(t))?(n="iOS",i=e[3]):(e=t.match(/(Android ?([\d.]+)?)/))?(n="Android",i=e[2]):(e=t.match(/(BlackBerry|PlayBook|BB10)(.*Version\/(\d+\.\d+\.\d+))?/i))?(n="BlackBerry",i=e[3]):(e=t.match(/\(Macintosh(;\D*([\d_.]+)[);])?/))?(n="Mac OS X",e[2]&&(i=e[2].replace(/_/g,"."))):(e=t.match(/Linux\s([0-9._a-z]+)?/))?(n="Linux",i=e[1]):(e=t.match(/CrOS ?(\S+)?/))?(n="Chrome OS",i=e[1]):(e=t.match(/jsdom\/([0-9._a-z]+)/))&&(n="jsdom",i=e[1]);var r={};return n&&(r.name=n),i&&(r.version=i),r})(navigator.userAgent),g=function(){return window.orientation%180==0?"portrait":"landscape"},m=o()?50:200,v=R.default.once((function(){F.default.set("testcookie",1);var t=F.default.get("testcookie");return t&&F.default.remove("testcookie"),t})),y=function(){return d().msieVersion()},_=d().isEdge(),b=d().isWebkit(),T=d().isMozilla(),w=function(){return S()&&d().version.match(/^7\..*/)},E=function(t,e){if(!t)return!1;var n=t.split("."),i=Number(n[0]);return!isNaN(i)&&i<e},C=function(t,e){if(!t)return!1;var n=t.split("."),i=Number(n[0]);return!isNaN(i)&&i>=e},O=function(){return a()&&"Mobile Safari"===d().name},A=function(){return!a()&&"Safari"===d().name},x=function(){return P()&&!window.navigator.standalone&&O()},M=function(){return"Chrome"===d().name},k=function(){return d().isMozilla()},{touch:function(){return N.default.touch},mobile:a,desktop:s,smartPhone:u,tablet:l,retina:function(){var t=1;return void 0!==window.devicePixelRatio&&(t=window.devicePixelRatio),t>=2},renderingEngine:function(){return d().engine},edge:_,webkit:b,mozilla:T,html5:c,isBot:function(){return/(google web preview|google search console|baiduspider|yandexbot|bingbot|googlebot|yahoo! slurp)/i.test(window.navigator.userAgent)},browser:d,os:p,parseOS:f,standalone:function(){return!0===window.navigator.standalone},smallWindow:o,deviceType:function(){return u()?"smartphone":l()?"tablet":s()?"desktop":"other"},playerType:function(){return c()?"html5":"html4"},orientation:g,portrait:function(){return"portrait"===g()},landscape:function(){return"landscape"===g()},supportsOrientationChange:function(){return"onorientationchange"in window},getSlackHeight:function(t){var e=j.default.getDimensions();if(!D()&&t<e.width){if(I()&&!window.navigator.standalone&&w())return-20;if(x()&&w())return-65;if(x())return 60}return 0},getRubberBandLimit:function(){return m},cookies:v,pixelRatio:function(){return R.default.isNumber(window.devicePixelRatio)?window.devicePixelRatio:1},isIphoneFullscreenMobileSafari:function(t,e){var n=j.default.getDimensions();return x()&&t===n.height&&e>=n.width},isIframe:D=function(){return top!=window},isMac:function(){return"Mac OS X"===p.name},isWindows:function(){return"Windows"===p.name},isIos:S=function(){return"iOS"===p.name},isIosLessThan:function(t){return!!S()&&E(p.version,t)},isIosGreaterThanOrEqualTo:function(t){return!!S()&&C(p.version,t)},isBrowserChromeLessThan:function(t){return!!M()&&E(d().version,t)},isBrowserChromeGreaterThanOrEqualTo:function(t){return!!M()&&C(d().version,t)},isBrowserFirefoxGreaterThanOrEqualTo:function(t){return!!k()&&C(d().version,t)},isDesktopSafariLessThan:function(t){return!!A()&&E(d().version,t)},isAndroid:function(){return"Android"===p.name},isIphone:P=function(){return/iPhone/i.test(navigator.userAgent)},isIpad:I=function(){return/iPad/i.test(navigator.userAgent)||!!h(navigator.userAgent)},isPhantomJS:function(){return"PhantomJS"===d().name},isJsDom:function(){return R.default.includes(navigator.userAgent,"jsdom")},isIE9OrEarlier:function(){return!1!==y()&&y()<=9},isBrowserChrome:M,isBrowserFirefox:k,isDesktopSafari:A,isMobileSafari:O,isIpadPretendingToBeDesktop:h,isIosSafari:function(){return S()&&d().name.includes("Safari")},reload:function(){d=R.default.once((function(){return V.default.browser(navigator.userAgent)})),p=f(navigator.userAgent)},DEVICE_TYPE_SMARTPHONE:"smartphone",DEVICE_TYPE_TABLET:"tablet",DEVICE_TYPE_DESKTOP:"desktop",DEVICE_TYPE_OTHER:"other"});e.default=U},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActionTypes=void 0,function(t){t.cycleNext="cycle-next",t.cyclePrevious="cycle-previous",t.hideCanvasTargets="hide-layers",t.showCanvasTargets="show-layers",t.showCanvasTargetsOnHover="show-layers-on-hover",t.toggleCanvasTargets="toggle-layers",t.enableDisablePage="page-enable-disable",t.gotoPage="page-goto",t.nextPage="page-next",t.prevPage="page-prev",t.scrollTo="scroll-to",t.scrollToObject="scroll-to-object",t.url="url",t.email="share-email",t.facebook="share-facebook",t.linkedin="share-linkedin",t.pinterest="share-pinterest",t.twitter="share-twitter",t.changeState="change-state",t.fullscreen="show-fullscreen",t.hideAndStayHiddenCanvasTargets="hide-and-stay-hidden",t.hideOnly="hide-only",t.lightbox="lightbox",t.product="product",t.shoppingCart="shopping-cart",t.showAndStayVisibleCanvasTargets="show-and-stay-visible",t.showOnly="show-only",t.toggleReducedMotion="toggle-reduced-motion",t.bringToFront="bring-to-front",t.resetPositions="reset-positions",t.invalid="invalid"}(e.ActionTypes||(e.ActionTypes={}))},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o={debug:!1,info:!1,warn:!1,error:!1},a=!1,s=!1,u={debug:function(){o.debug&&(window.Rollbar&&window.Rollbar.debug.apply(window.Rollbar,arguments),console.debug.apply(console,arguments))},info:function(){o.info&&(window.Rollbar&&window.Rollbar.info.apply(window.Rollbar,arguments),console.info.apply(console,arguments))},forceInfo:function(){window.Rollbar&&window.Rollbar.info.apply(window.Rollbar,arguments),console.info.apply(console,arguments)},devWarn:function(){return a?u.warn.apply(this,arguments):u.info.apply(this,arguments)},warn:function(){o.warn&&(window.Rollbar&&window.Rollbar.warn.apply(window.Rollbar,arguments),console.warn.apply(console,arguments))},error:function(){o.error&&(window.Rollbar&&window.Rollbar.error.apply(window.Rollbar,arguments),console.error.apply(console,arguments))},init:function(t){o=r.default.defaults(t.modes||{},o),a=t.emitDevWarnings,s=r.default.reduce(o,(function(t,e,n){return t||e}),s)},isEnabled:function(t){return r.default.isUndefined(t)?s:o[t]}};u.d=u.debug,u.i=u.info,u.w=u.warn,u.e=u.error,u.fi=u.forceInfo,e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActionModelOptions=void 0;var i=n(34);e.ActionModelOptions=function(t){return i.BackboneShim(t)}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(2)),a=/^(https?|ftp):\/\/[^\s\/$.?#].[^\s]*$/i,s={isValidUrl:function(t){return a.test(t)},beginsWithHttpOrHttps:function(t){return/^(http(s?))\:\/\//gi.test(t)},getUrlParams:function(t){var e,n={};if(-1===(t=String(t)).indexOf("?"))return n;var i=t.split("?")[1];if(r.default.isEmpty(i))return n;i=i.split("&");for(var o=0;o<i.length;o++)-1===i[o].indexOf("=")?n[decodeURIComponent(i[o])]=void 0:(e=i[o].split("="),n[decodeURIComponent(e[0])]=decodeURIComponent(e[1]));return n},removeEmbedParams:function(t){var e=t.replace(/heightOverride=\d+&?/g,"").replace(/tabletHeightOverride=\d+&?/g,"").replace(/mobileHeightOverride=\d+&?/g,"");return-1!==e.indexOf("?",e.length-1)&&(e=e.substring(0,e.length-1)),e},getBaseUrl:function(t){return-1===(t=String(t)).indexOf("?")?t:t.split("?")[0]},appendQueryParams:function(t,e,n){if(r.default.isEmpty(e))return t;var i="",o=t.lastIndexOf("#");-1!==o&&(i=t.substr(o),t=t.substr(0,o));var a=this.getUrlParams(t);e=r.default.extend({},a,e);var s=[];r.default.each(e,(function(t,e){var i=n?e:encodeURIComponent(e);r.default.isUndefined(t)||(n||(t=encodeURIComponent(t)),i+="="+t),s.push(i)}));var u=s.join("&");return this.getBaseUrl(t)+"?"+u+i},extractDomain:function(t){var e=t.match(/^https?:\/\/([^\/]+)/);return e?e[1]:""},replaceProtocolIfHttpsRequest:function(t){return"https:"===location.protocol&&(t=s.makeHttps(t)),t},makeHttps:function(t){return t.replace(/^http:/,"https:")},linkifyText:function(t,e){var n=e?' target="_blank"':"";return t.replace(/\b(?:https?|ftp):\/\/[a-z0-9-+&@#\/%?=~_|!:,.;]*[a-z0-9-+&@#\/%=~_|]/gim,'<a href="$&"'+n+">$&</a>").replace(/(^|[^\/])(www\.[\S]+(\b|$))/gim,'$1<a href="http://$2"'+n+">$2</a>").replace(/[\w.]+@[a-zA-Z_-]+?(?:\.[a-zA-Z]{2,6})+/gim,'<a href="mailto:$&"'+n+">$&</a>")},locationIsHtmlFile:function(){return!!window.location.pathname.match(/\.html$/)},makeUrlAbsolute:function(t){if(this.extractDomain(t))return t;if(!window.cerosBaseUrl)return t;var e="/"===t[0],n=window.cerosBaseUrl.lastIndexOf("/")===window.cerosBaseUrl.length-1;return n&&e?window.cerosBaseUrl+t.slice(1):n||e?window.cerosBaseUrl+t:window.cerosBaseUrl+"/"+t},hasQueryParam:function(t,e){return!r.default.isUndefined(this.getQueryParamValue(t,e))},getQueryParamValue:function(t,e){var n=s.getUrlParams(t);return r.default.find(n,(function(t,n){if(n.toLowerCase()===e.toLowerCase())return!0}))},prependProtocol:function(t,e){var n=e?"https://":"http://";return s.beginsWithHttpOrHttps(t)?t:n+t},replaceUrlContextVariables:function(t){return t.replace(/\{api-version\}/,o.default.apiVersion).replace(/\{account-slug\}/,o.default.accountSlug).replace(/\{scope\}/,o.default.accountSlug)},filterUrl:function(t){var e=0===t.trim().toLowerCase().indexOf("javascript:");return-1===t.indexOf(":")||e?"http://"+t:t},getRootDomain:function(){var t=location.host.split(".").reverse();return"."+t[1]+"."+t[0]},getExperiencePath:function(){var t=window.location.pathname,e=o.default.previewMode?t.search(/\/page\/page-.+/g):t.search(/\/p\/\d+/g);return e>=0?t.substr(0,e):t}};e.default=s},function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return r(e,t),e};Object.defineProperty(e,"__esModule",{value:!0});var a=o(n(399));e.default=a},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(2)),o={hasFeature:function(t){return r.default.featureFlags&&!!r.default.featureFlags[t]}};e.default=o},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractActionModel=void 0;var a=o(n(0)),s=o(n(3)),u=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.parentInteraction=n.parentInteraction,i}return r(e,t),e.prototype.getDefaultDelay=function(){return this.parentInteraction.defaults.delay},e.prototype.getActionType=function(){return this.actionType},e.prototype.toJSON=function(){return a.default.extend(s.default.Model.prototype.toJSON.call(this),{action:this.actionType})},e.prototype.isValid=function(){return!0},e.prototype.isHidden=function(){return!1},e}(s.default.Model);e.AbstractActionModel=u},function(t,e,n){"use strict";var i,r;Object.defineProperty(e,"__esModule",{value:!0}),e.VIEWPORT_TOP_ID=e.MAIN_CONTENT_LINK_DEFAULT_TEXT=e.SECTION_DEFAULTS=e.MODEL_DEFAULTS=e.properties=e.DEFAULT_LANDMARK_TAG=e.HTML_LANDMARK_TAGS=void 0,e.HTML_LANDMARK_TAGS=["main","nav","aside","article","section","header","footer"],e.DEFAULT_LANDMARK_TAG="main",e.properties={HTML_LANDMARK:"htmlLandmarkTag",ARIA_LABEL:"ariaLabel",SCREEN_READER_ONLY_TEXT:"screenReaderOnlyText"},e.MODEL_DEFAULTS=((i={})[e.properties.ARIA_LABEL]=void 0,i),e.SECTION_DEFAULTS=((r={})[e.properties.HTML_LANDMARK]=void 0,r[e.properties.ARIA_LABEL]=void 0,r),e.MAIN_CONTENT_LINK_DEFAULT_TEXT="Skip to Main Content",e.VIEWPORT_TOP_ID="viewport-top"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FeatureFlagName=void 0,function(t){t.PASSWORD_PROTECTED_EXPERIENCES="Password Protected Experiences",t.GETTY_IMAGES="Getty Image Integration",t.GETTY_VIDEOS="Getty Video Integration",t.ACCESSIBILITY="Accessibility",t.OBJECT_STATES="Object States",t.AVOCODE_INTEGRATION="Avocode Integration",t.VIEWER_ROLE="(BETA) Viewer Role",t.REVIEWER_ROLE="(BETA) Reviewer Role",t.PROTECTED_PREVIEW="(BETA) Protected Preview",t.POSITION_INTERACTIONS="Position Interactions",t.COOKIE_COMPLIANCE="Cookie Compliance",t.EDIT_IN_PREVIEW="Project Miller Prototype",t.NEW_TEXT_TOOL="New Text Tool",t.STUDIO_API="Studio API",t.AUTHENTICATED_PUBLISHED_EXPERIENCES="Authenticated Published Experiences",t.ADMIN_REDESIGN="Admin Redesign"}(e.FeatureFlagName||(e.FeatureFlagName={}))},function(t,e,n){"use strict";var i,r,o,a;
/*!
 * mustache.js - Logic-less {{mustache}} templates with JavaScript
 * http://github.com/janl/mustache.js
 */a=function(t){var e=Object.prototype.toString,n=Array.isArray||function(t){return"[object Array]"===e.call(t)};function i(t){return"function"==typeof t}function r(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function o(t,e){return null!=t&&"object"==typeof t&&e in t}var a=RegExp.prototype.test,s=/\S/;function u(t){return!function(t,e){return a.call(t,e)}(s,t)}var l={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},c=/\s*/,d=/\s+/,h=/\s*=/,f=/\s*\}/,p=/#|\^|\/|>|\{|&|=|!/;function g(t){this.string=t,this.tail=t,this.pos=0}function m(t,e){this.view=t,this.cache={".":this.view},this.parent=e}function v(){this.cache={}}g.prototype.eos=function(){return""===this.tail},g.prototype.scan=function(t){var e=this.tail.match(t);if(!e||0!==e.index)return"";var n=e[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n},g.prototype.scanUntil=function(t){var e,n=this.tail.search(t);switch(n){case-1:e=this.tail,this.tail="";break;case 0:e="";break;default:e=this.tail.substring(0,n),this.tail=this.tail.substring(n)}return this.pos+=e.length,e},m.prototype.push=function(t){return new m(t,this)},m.prototype.lookup=function(t){var e,n=this.cache;if(n.hasOwnProperty(t))e=n[t];else{for(var r,a,s=this,u=!1;s;){if(t.indexOf(".")>0)for(e=s.view,r=t.split("."),a=0;null!=e&&a<r.length;)a===r.length-1&&(u=o(e,r[a])),e=e[r[a++]];else e=s.view[t],u=o(s.view,t);if(u)break;s=s.parent}n[t]=e}return i(e)&&(e=e.call(this.view)),e},v.prototype.clearCache=function(){this.cache={}},v.prototype.parse=function(e,i){var o=this.cache,a=o[e];return null==a&&(a=o[e]=function(e,i){if(!e)return[];var o,a,s,l=[],m=[],v=[],y=!1,_=!1;function b(){if(y&&!_)for(;v.length;)delete m[v.pop()];else v=[];y=!1,_=!1}function T(t){if("string"==typeof t&&(t=t.split(d,2)),!n(t)||2!==t.length)throw new Error("Invalid tags: "+t);o=new RegExp(r(t[0])+"\\s*"),a=new RegExp("\\s*"+r(t[1])),s=new RegExp("\\s*"+r("}"+t[1]))}T(i||t.tags);for(var S,w,E,C,O,A,P=new g(e);!P.eos();){if(S=P.pos,E=P.scanUntil(o))for(var I=0,x=E.length;I<x;++I)u(C=E.charAt(I))?v.push(m.length):_=!0,m.push(["text",C,S,S+1]),S+=1,"\n"===C&&b();if(!P.scan(o))break;if(y=!0,w=P.scan(p)||"name",P.scan(c),"="===w?(E=P.scanUntil(h),P.scan(h),P.scanUntil(a)):"{"===w?(E=P.scanUntil(s),P.scan(f),P.scanUntil(a),w="&"):E=P.scanUntil(a),!P.scan(a))throw new Error("Unclosed tag at "+P.pos);if(O=[w,E,S,P.pos],m.push(O),"#"===w||"^"===w)l.push(O);else if("/"===w){if(!(A=l.pop()))throw new Error('Unopened section "'+E+'" at '+S);if(A[1]!==E)throw new Error('Unclosed section "'+A[1]+'" at '+S)}else"name"===w||"{"===w||"&"===w?_=!0:"="===w&&T(E)}if(A=l.pop())throw new Error('Unclosed section "'+A[1]+'" at '+P.pos);return function(t){for(var e,n=[],i=n,r=[],o=0,a=t.length;o<a;++o)switch((e=t[o])[0]){case"#":case"^":i.push(e),r.push(e),i=e[4]=[];break;case"/":r.pop()[5]=e[2],i=r.length>0?r[r.length-1][4]:n;break;default:i.push(e)}return n}(function(t){for(var e,n,i=[],r=0,o=t.length;r<o;++r)(e=t[r])&&("text"===e[0]&&n&&"text"===n[0]?(n[1]+=e[1],n[3]=e[3]):(i.push(e),n=e));return i}(m))}(e,i)),a},v.prototype.render=function(t,e,n){var i=this.parse(t),r=e instanceof m?e:new m(e);return this.renderTokens(i,r,n,t)},v.prototype.renderTokens=function(t,e,n,i){for(var r,o,a,s="",u=0,l=t.length;u<l;++u)a=void 0,"#"===(o=(r=t[u])[0])?a=this.renderSection(r,e,n,i):"^"===o?a=this.renderInverted(r,e,n,i):">"===o?a=this.renderPartial(r,e,n,i):"&"===o?a=this.unescapedValue(r,e):"name"===o?a=this.escapedValue(r,e):"text"===o&&(a=this.rawValue(r)),void 0!==a&&(s+=a);return s},v.prototype.renderSection=function(t,e,r,o){var a=this,s="",u=e.lookup(t[1]);if(u){if(n(u))for(var l=0,c=u.length;l<c;++l)s+=this.renderTokens(t[4],e.push(u[l]),r,o);else if("object"==typeof u||"string"==typeof u||"number"==typeof u)s+=this.renderTokens(t[4],e.push(u),r,o);else if(i(u)){if("string"!=typeof o)throw new Error("Cannot use higher-order sections without the original template");null!=(u=u.call(e.view,o.slice(t[3],t[5]),(function(t){return a.render(t,e,r)})))&&(s+=u)}else s+=this.renderTokens(t[4],e,r,o);return s}},v.prototype.renderInverted=function(t,e,i,r){var o=e.lookup(t[1]);if(!o||n(o)&&0===o.length)return this.renderTokens(t[4],e,i,r)},v.prototype.renderPartial=function(t,e,n){if(n){var r=i(n)?n(t[1]):n[t[1]];return null!=r?this.renderTokens(this.parse(r),e,n,r):void 0}},v.prototype.unescapedValue=function(t,e){var n=e.lookup(t[1]);if(null!=n)return n},v.prototype.escapedValue=function(e,n){var i=n.lookup(e[1]);if(null!=i)return t.escape(i)},v.prototype.rawValue=function(t){return t[1]},t.name="mustache.js",t.version="2.2.1",t.tags=["{{","}}"];var y=new v;t.clearCache=function(){return y.clearCache()},t.parse=function(t,e){return y.parse(t,e)},t.render=function(t,e,i){if("string"!=typeof t)throw new TypeError('Invalid template! Template should be a "string" but "'+(n(r=t)?"array":typeof r)+'" was given as the first argument for mustache#render(template, view, partials)');var r;return y.render(t,e,i)},t.to_html=function(e,n,r,o){var a=t.render(e,n,r);if(!i(o))return a;o(a)},t.escape=function(t){return String(t).replace(/[&<>"'`=\/]/g,(function(t){return l[t]}))},t.Scanner=g,t.Context=m,t.Writer=v},e&&"string"!=typeof e.nodeName?a(e):(r=[e],void 0===(o="function"==typeof(i=a)?i.apply(e,r):i)||(t.exports=o))},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r,o=i(n(0)),a=i(n(1)),s=i(n(3)),u=i(n(4)),l=i(n(2)),c=i(n(6)),d=i(n(40)),h=i(n(29)),f=function(t){var e=d.default.getLayoutSettings();return d.default.doesVariantExist("mobile")&&t<=e.maxMobileWidthBreakpoint?"mobile":d.default.doesVariantExist("tablet")&&t<=e.maxTabletWidthBreakpoint?"tablet":"desktop"},p=function(t,e){return d.default.doesVariantExist(e)?e:d.default.doesVariantExist(t.deviceTypeMissingVariantFallback)?t.deviceTypeMissingVariantFallback:"desktop"};function g(){var t=u.default.deviceType();return"smartphone"===t&&(t="mobile"),t}var m=function(t){var e=d.default.getLayoutSettings();return 0!==d.default.getNumberOfExistingVariants()&&d.default.isValidVariantName(t)?"desktop"===t||d.default.doesVariantExist(t)?t:v(e.deviceTypeMissingVariantFallback):"desktop"},v=function(t){return d.default.doesVariantExist(t)?t:(c.default.info("FALLBACK RECTIFIED"),"tablet"===t?"desktop":"mobile"===t&&d.default.doesVariantExist("tablet")?"tablet":"desktop")},y=function(){if(!l.default.allowAdaptiveLayouts)return"desktop";if(!d.default.isDocVersionSet())throw new Error("Trying to resolve variant before DocVersion set");if(0===d.default.getNumberOfExistingVariants())return"desktop";if(l.default.previewMode)return function(){var t=d.default.getLayoutSettings(),e=g(),n=e!==u.default.DEVICE_TYPE_DESKTOP;if("device-type"===t.layoutPrimarySetting){if(n){var i=p(t,e);return c.default.debug("Resolved layout for touch device: "+e),i!==d.default.getPreviewerFrameSize()&&(c.default.debug("Forcing frame size as on touch device: "+i),d.default.setPreviewerFrameSize(i)),i}var r=d.default.getPreviewerFrameSize();return m(r)}var o=a.default(".adaptive-layouts-frame").width();return f(o)}();var t,e,n,i=("smartphone"===(t=d.default.getLayoutFromQueryParam())&&(t="mobile"),t&&d.default.doesVariantExist(t)?t:null);return i||("device-type"===d.default.getLayoutSettings().layoutPrimarySetting?m(g()):l.default.isEmbedded?(e=h.default.getInstance().getEmbedContextDimensions(),f(e.width)):(n=window.innerWidth,f(n)))};e.default=o.default.extend({},s.default.Events,{getVariant:function(){if(!r)throw new Error("Something wants to know the variant before detection");return r},hasDetectedVariant:function(){return!!r},detect:function(){var t=y();if(t!==r){var e=r;r=t,c.default.debug("Detected variant "+t+(e?", was "+e:"")),this.trigger("change",r,e)}return r}})},function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.objectStateSupportedProperties=e.supported=e.defaults=void 0;var u=s(n(0)),l=a(n(163));e.defaults=i({},l.defaults),e.supported=u.default.union(l.supported,["animations","animationsRepeatAll","animationsReplayOnScroll"]),e.objectStateSupportedProperties=l.objectStateSupportedProperties},function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.maintainOffsetWhenRotated=e.toNextMultiple=e.round=e.evaluateBezierCurve=e.splitBezierCurveAtPoint=e.cubicBezierCurveFirstDerivativeRoots=e.sqDiag2D=e.vectorToSegment2D=e.closestPointOnLine=e.closestPointOnBezierCurve=e.lineLength=e.distance=e.scaleBoxToMaxDimension=e.calcPointOnRect=e.calcRotatedLineIntersect=e.Point=e.BEZIER_CURVE_POINT_INCREMENT_DEFAULT=void 0,e.BEZIER_CURVE_POINT_INCREMENT_DEFAULT=.01;e.Point=function(t,e){this.x=t,this.y=e,this.getX=function(){return this.x},this.getY=function(){return this.y},this.setX=function(t){this.x=t},this.setY=function(t){this.y=t},this.rotate=function(t,e,n){var i=Math.rotateCoord(this.x,this.y,t,e,n);this.setX(i.x),this.setY(i.y)}},e.Point.diff=function(t,n){return new e.Point(t.getX()-n.getX(),t.getY()-n.getY())},e.Point.sum=function(t,n){return new e.Point(t.getX()+n.getX(),t.getY()+n.getY())},e.Point.ORIGIN=new e.Point(0,0);e.calcRotatedLineIntersect=function(t,e,n){return{startPt:this.calcPointOnRect(t-270,e,n),endPt:this.calcPointOnRect(t-90,e,n)}};e.calcPointOnRect=function(t,n,i){var r=n/2,o=i/2;(t%=360)<0&&(t+=360);var a,s,u,l=Math.toRad(t),c=Math.tan(l),d=50*c,h=50/c;return Math.abs(d)<=50?(a=n/100*50,s=i/100*d,u=l<=Math.PI/2||l>3*Math.PI/2?{x:a,y:s}:{x:-a,y:-s}):(a=n/100*h,s=i/100*50,u=l<Math.PI?{x:a,y:s}:{x:-a,y:-s}),u.x+=r,u.y+=o,u.x=Math.round(u.x),u.y=Math.round(u.y),new e.Point(u.x,u.y)};e.scaleBoxToMaxDimension=function(t,e,n){var i=t,r=e;return t>0&&e>0&&(t>e?(i=n,r=Math.round(n/t*e)):(i=Math.round(n/e*t),r=n)),{width:i,height:r}};e.distance=function(t,e){var n=t.x-e.x,i=t.y-e.y;return Math.sqrt(n*n+i*i)};e.lineLength=function(t){return e.distance({x:t.x1,y:t.y1},{x:t.x2,y:t.y2})};e.closestPointOnBezierCurve=function(t,n,i,r,o,a){if(null==a&&(a=e.BEZIER_CURVE_POINT_INCREMENT_DEFAULT),a<=0)return null;for(var s=1/0,u=null,l=a;l<1;l+=a){var c={x:e.evaluateBezierCurve(n.x,i.cx2,o.cx1,r.x,l),y:e.evaluateBezierCurve(n.y,i.cy2,o.cy1,r.y,l)},d=e.distance(t,c);d<s&&(s=d,u=c)}return u};e.closestPointOnLine=function(t,n){var i=[n.x2-n.x1,n.y2-n.y1],r=[n.x1-t.x,n.y1-t.y],o=-(i[0]*r[0]+i[1]*r[1])/(Math.pow(i[0],2)+Math.pow(i[1],2));return o>=0&&o<=1?e.vectorToSegment2D(o,{x:0,y:0},n):e.sqDiag2D(e.vectorToSegment2D(0,t,n))<=e.sqDiag2D(e.vectorToSegment2D(1,t,n))?{x:n.x1,y:n.y1}:{x:n.x2,y:n.y2}};e.vectorToSegment2D=function(t,e,n){return{x:(1-t)*n.x1+t*n.x2-e.x,y:(1-t)*n.y1+t*n.y2-e.y}};e.sqDiag2D=function(t){return Math.pow(t.x,2)+Math.pow(t.y,2)};e.cubicBezierCurveFirstDerivativeRoots=function(t,n,i,r){var o=[],a=3*(3*n-t-3*i+r),s=6*(t-2*n+i),u=s*s-4*a*(3*(n-t));if(u>=0){var l=(-s+Math.sqrt(u))/(2*a),c=(-s-Math.sqrt(u))/(2*a);l>0&&l<1&&o.push(e.evaluateBezierCurve(t,n,i,r,l)),c>0&&c<1&&o.push(e.evaluateBezierCurve(t,n,i,r,c))}return o};e.splitBezierCurveAtPoint=function(t,e,n){var r={x:t.x,y:t.y},o={x:t.cx2||t.x,y:t.cy2||t.y},a={x:e.cx1||e.x,y:e.cy1||e.y},s={x:e.x,y:e.y},u=function(t,e){return{x:(t.x+e.x)*(1-n),y:(t.y+e.y)*(1-n)}},l=u(r,o),c=u(o,a),d=u(a,s),h=u(l,c),f=u(c,d),p=u(h,f);return{left:i(i({},t),{cx2:l.x,cy2:l.y}),center:{x:p.x,y:p.y,cx1:h.x,cy1:h.y,cx2:f.x,cy2:f.y},right:i(i({},e),{cx1:d.x,cy1:d.y})}};e.evaluateBezierCurve=function(t,e,n,i,r){return t*(1-r)*(1-r)*(1-r)+3*e*r*(1-r)*(1-r)+3*n*r*r*(1-r)+i*r*r*r};e.round=function(t,e){var n=Math.pow(10,e);return Math.round(t*n)/n};e.toNextMultiple=function(t,e){return t>0?Math.ceil(t/e)*e:t<0?Math.floor(t/e)*e:0};e.maintainOffsetWhenRotated=function(t,e){var n=e.x,i=e.y;if(t&&0!==t&&void 0!==e.x&&void 0!==e.y){var r=e.x,o=e.y;t=Math.toRad(t),n=r*Math.cos(t)+o*Math.sin(t),i=o*Math.cos(t)-r*Math.sin(t)}return{x:n,y:i}};var r={BEZIER_CURVE_POINT_INCREMENT_DEFAULT:e.BEZIER_CURVE_POINT_INCREMENT_DEFAULT,Point:e.Point,calcRotatedLineIntersect:e.calcRotatedLineIntersect,calcPointOnRect:e.calcPointOnRect,scaleBoxToMaxDimension:e.scaleBoxToMaxDimension,distance:e.distance,lineLength:e.lineLength,closestPointOnBezierCurve:e.closestPointOnBezierCurve,closestPointOnLine:e.closestPointOnLine,vectorToSegment2D:e.vectorToSegment2D,sqDiag2D:e.sqDiag2D,cubicBezierCurveFirstDerivativeRoots:e.cubicBezierCurveFirstDerivativeRoots,evaluateBezierCurve:e.evaluateBezierCurve,round:e.round,toNextMultiple:e.toNextMultiple,maintainOffsetWhenRotated:e.maintainOffsetWhenRotated};window.CerosMath=r,e.default=r},function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var u=s(n(0)),l=a(n(17)),c=s(n(9)),d=s(n(166)),h=s(n(424)),f=n(101),p=s(n(435)),g=s(n(35)),m=s(n(200)),v=s(n(24)),y=n(49),_=s(n(44)),b=n(72),T=s(n(44));e.default=d.default.extend({MINIMUM_WIDTH:0,MINIMUM_HEIGHT:0,DIMENSION_DECIMAL_PLACES:0,initialize:function(t,e){var n=v.default.getCurrentVariant(),i=t.interactions;"desktop"!==n&&(i=u.default.get(t,"overrides."+n+".interactions")||i),this.interactions=this._buildInteractionCollectionThatWillUpdateOnChanges(i),this.on("change:interactions",u.default.bind((function(){this.interactions.reset(this.get("interactions"))}),this)),this.rubberBandHighlighted=!1,d.default.prototype.initialize.call(this,t,e)},_buildInteractionCollectionThatWillUpdateOnChanges:function(t,e){var n=new h.default(t,{saveHandler:u.default.bind(this.save,this)});return n.on("reset add change remove",u.default.bind((function(){this.set("interactions",n.toJSON(),e)}),this)),n},getInteractions:function(){return this.interactions},getSupported:function(){return c.default.AbstractComponentModel.supported},supportsProperty:function(t){return-1!==this.getSupported().indexOf(t)},getSupportedInteractionTriggers:function(){var t=[f.InteractionModel.TRIGGER_TYPES.CLICK,f.InteractionModel.TRIGGER_TYPES.ONVIEW];return v.default.doesCurrentVariantSupportHover()&&t.splice(1,0,f.InteractionModel.TRIGGER_TYPES.HOVER),t},highlight:function(){return this.rubberBandHighlighted||(this.rubberBandHighlighted=!0),this},dehighlight:function(){return this.rubberBandHighlighted?(this.rubberBandHighlighted=!1,this):this},getWidth:function(){return this.get("width")},getHeight:function(){return this.get("height")},setWidth:function(t){this.set("width",t)},setHeight:function(t){this.set("height",t)},getExtentsDimensionData:function(){var t=this.get("x"),e=this.get("y"),n=this.getWidth(),i=this.getHeight(),r=Math.toRad(this.get("rotation")),o=this.get("border");return{x:t,y:e,width:n,height:i,rotation:r,borderWidth:o&&o.width?o.width:0}},getExtents:function(){var t=this.getExtentsDimensionData();return g.default.getExtentsFromDimensions(t.x,t.y,t.width,t.height,t.rotation,t.borderWidth)},getExtentsInPageCoords:function(){var t=this.getExtentsDimensionData(),e=g.default.getExtentsPointsFromDimensions(t.x,t.y,t.width,t.height,t.rotation,t.borderWidth);return this.transformPointsToPageCoords(e)},getExtentsInPageCoordsWithoutBorder:function(){var t=this.getExtentsDimensionData(),e=g.default.getExtentsPointsFromDimensions(t.x,t.y,t.width,t.height,t.rotation,0);return this.transformPointsToPageCoords(e)},transformPointsToPageCoords:function(t){var e=this.transformPointToRotatedPageCoordinateSpace(t[0]),n=this.transformPointToRotatedPageCoordinateSpace(t[1]),i=this.transformPointToRotatedPageCoordinateSpace(t[2]),r=this.transformPointToRotatedPageCoordinateSpace(t[3]);return{x1:Math.round(Math.min(e.x,n.x,i.x,r.x)),y1:Math.round(Math.min(e.y,n.y,i.y,r.y)),x2:Math.round(Math.max(e.x,n.x,i.x,r.x)),y2:Math.round(Math.max(e.y,n.y,i.y,r.y))}},getCenterPosition:function(){var t=this.get("x")+this.getWidth()/2,e=this.get("y")+this.getHeight()/2;return new l.Point(t,e)},getCenterPositionInPageCoordinateSpace:function(){return this.translatePointToPageCoordinateSpace(this.getCenterPosition(),this.getAllParents())},getTopLeft:function(){return new l.Point(this.get("x"),this.get("y"))},getTopCenter:function(){return new l.Point(this.get("x")+this.getWidth()/2,this.get("y"))},getTopRight:function(){return new l.Point(this.get("x")+this.getWidth(),this.get("y"))},getCenterRight:function(){return new l.Point(this.get("x")+this.getWidth(),this.get("y")+this.getHeight()/2)},getBottomRight:function(){return new l.Point(this.get("x")+this.getWidth(),this.get("y")+this.getHeight())},getBottomCenter:function(){return new l.Point(this.get("x")+this.getWidth()/2,this.get("y")+this.getHeight())},getBottomLeft:function(){return new l.Point(this.get("x"),this.get("y")+this.getHeight())},getCenterLeft:function(){return new l.Point(this.get("x"),this.get("y")+this.getHeight()/2)},getAspectRatio:function(){return 0===this.get("height")?1:this.get("width")/this.get("height")},getLeft:function(){return this.get("x")},getRight:function(){return this.get("x")+this.getWidth()},getTop:function(){return this.get("y")},getBottom:function(){return this.get("y")+this.getHeight()},setLeft:function(t){this.set("x",t)},setRight:function(t){this.set("x",t-this.getWidth())},setTop:function(t){this.set("y",t)},setBottom:function(t){this.set("y",t-this.getHeight())},setCenterX:function(t){this.set("x",t-Math.round(this.getWidth()/2))},setCenterY:function(t){this.set("y",t-Math.round(this.getHeight()/2))},toCanvasCoords:function(t){return Math.rotateCoord(t,this.getCenterPosition(),-Math.toRad(this.get("rotation")))},fromCanvasCoords:function(t){return Math.rotateCoord(t,this.getCenterPosition(),Math.toRad(this.get("rotation")))},setWidthWhileMaintainingCanvasLeft:function(t,e,n,i){var r;n=n||p.default.createInstance(this),t=m.default.getValidValueForOptions(this.get("width"),t,i),t=this.ensureMinimumWidth(t),e&&0!==n.getWidth()&&0!==n.getHeight()?(r=t/n.getAspectRatio(),r=0===this.DIMENSION_DECIMAL_PLACES?Math.round(r):l.round(r,this.DIMENSION_DECIMAL_PLACES)):r=this.get("height"),this.setDimensionsWhileMaintainingCanvasTopLeft(t,r,n)},toHierarchyJSON:function(){return{id:this.get("id")}},toDictionaryJSON:function(){return this.toJSON()},setHeightWhileMaintainingCanvasTop:function(t,e,n,i){var r;n=n||p.default.createInstance(this),t=m.default.getValidValueForOptions(this.get("height"),t,i),t=this.ensureMinimumHeight(t),e&&0!==n.getWidth()&&0!==n.getHeight()?(r=t*n.getAspectRatio(),r=0===this.DIMENSION_DECIMAL_PLACES?Math.round(r):l.round(r,this.DIMENSION_DECIMAL_PLACES)):r=this.get("width"),this.setDimensionsWhileMaintainingCanvasTopLeft(r,t,n)},setDimensionsWhileMaintainingCanvasTopLeft:function(t,e,n){var i=(n=n||p.default.createInstance(this)).getCenterPosition(),r=n.getWidth(),o=n.getHeight(),a=Math.toRad(this.get("rotation")),s=t-r,u=e-o,c=s*Math.cos(a)/2-u*Math.sin(a)/2,d=s*Math.sin(a)/2+u*Math.cos(a)/2,h=new l.Point(i.getX()+c,i.getY()+d);this.set({x:Math.round(h.getX()-t/2),y:Math.round(h.getY()-e/2),width:t,height:e})},ensureMinimumWidth:function(t){return t<this.MINIMUM_WIDTH&&(t=this.MINIMUM_WIDTH),t},ensureMinimumHeight:function(t){return t<this.MINIMUM_HEIGHT&&(t=this.MINIMUM_HEIGHT),t},resizeAttributes:function(t){},translatePointToPageCoordinateSpace:function(t,e){e=e||this.getAllParents();var n=t;return u.default.forEachRight(e,(function(t){t.isGroup()&&(n=t.translatePointToParentCoordinateSpace(n))})),n},translatePointFromPageCoordinateSpace:function(t,e){e=e||this.getAllParents();var n=t;return u.default.each(e,(function(t){t.isGroup()&&(n=t.translatePointToChildCoordinateSpace(n))})),n},transformPointToRotatedPageCoordinateSpace:function(t,e){e=e||this.getAllParents();var n=t;return u.default.forEachRight(e,(function(t){t.isGroup()&&(n=t.transformPointToRotatedParentCoordinateSpace(n))})),n},transformPointFromRotatedPageCoordinateSpace:function(t,e){e=e||this.getAllParents();var n=t;return u.default.each(e,(function(t){t.isGroup()&&(n=t.transformPointToRotatedChildCoordinateSpace(n))})),n},transformPositionFromPageCoordinateSpaceMaintainingPositionAndOrientation:function(t){var e=this.getTopLeft(),n=0,i=new l.Point(0,0);u.default.each(t,(function(t){if(t.isGroup()){var r=t.get("rotation");n+=t.get("rotation"),e=Math.rotateCoord(e,l.Point.sum(i,t.getCenterPosition()),Math.toRad(r)),i=l.Point.sum(i,t.getTopLeft())}}));var r=Math.rotateCoord(e,new l.Point(e.x+this.getWidth()/2,e.y+this.getHeight()/2),Math.toRad(n)),o=l.Point.diff(e,r),a=l.Point.diff(l.Point.sum(new l.Point(e.x+this.getWidth()/2,e.y+this.getHeight()/2),o),new l.Point(this.getWidth()/2,this.getHeight()/2)),s=this.supportsProperty("rotation")?this.get("rotation")-n:0;s%=360;var c=this.translatePointFromPageCoordinateSpace(a,t);this.set({x:c.getX(),y:c.getY(),rotation:s},{silent:!0})},hasReferencesToScranchor:function(t){var e=this.getReferencedScranchorIds();return u.default.includes(e,t.getId())},getReferencedScranchorIds:function(){return this.interactions.reduce((function(t,e){if(e.isScrollToInteraction()){var n=e.getAction().getScranchorId();n&&!u.default.includes(t,n)&&t.push(n)}return t}),[])},removeInteractionsReferencingScranchor:function(t){var e=this.interactions.filter((function(e){return e.isScrollToInteraction()&&e.getAction().getScranchorId()===t.getId()}));this.interactions.remove(e)},isVectorBased:function(){return!1},toPageCoordinateSpaceJsonMaintainingPositionAndOrientation:function(t){var e;e=t&&t.ignoreState?new l.Point(this.get("x",{ignoreState:!0}),this.get("y",{ignoreState:!0})):this.getTopLeft();var n=this.transformPointToRotatedPageCoordinateSpace(e,this.getAllParents()),i=this.getTotalParentRotation(),r=Math.rotateCoord(n,new l.Point(n.x+this.getWidth()/2,n.y+this.getHeight()/2),Math.toRad(-i)),o=l.Point.diff(n,r),a=l.Point.diff(l.Point.sum(new l.Point(n.x+this.getWidth()/2,n.y+this.getHeight()/2),o),new l.Point(this.getWidth()/2,this.getHeight()/2)),s=this.supportsProperty("rotation")?this.get("rotation")+i:0;s%=360;var u=this.reconcileJSONForCurrentVariant(!0);return u.x=a.getX(),u.y=a.getY(),u.rotation=s,u.width=this.get("width"),u.height=this.get("height"),u},translateToParentCoordinateSpace:function(t){var e=this.translatePointFromPageCoordinateSpace(this.getTopLeft(),t);this.set("x",e.getX()),this.set("y",e.getY())},roundTransformableAttributes:function(){this.set("x",Math.round(this.get("x"))),this.set("y",Math.round(this.get("y"))),this.set("width",Math.round(this.get("width"))),this.set("height",Math.round(this.get("height")))},getTotalRotation:function(){return this.get("rotation")+this.getTotalParentRotation()},getTotalParentRotation:function(){var t=this.getAllParents(),e=0;return u.default.each(t,(function(t){t.isGroup()&&(e+=t.get("rotation"))})),e},setSelectedObjectState:function(t,e,n){if(e=!!e,d.default.prototype.setSelectedObjectState.call(this,t),e){if(n.inIsolationMode())n.getAllIsolationModeReferences().forEach((function(e){e.createAutogeneratedChangeStateInteraction(t)}));this.createAutogeneratedChangeStateInteraction(t)}},supportsBlendingModes:function(){var t=this.get("contentType"),e=this.get("title");return this.supportsProperty("blendingMode")&&y.BlendingModes.isSupportedImageType(t,e)},hasActiveBlendingMode:function(){var t=this.get("blendingMode");return t&&!y.BlendingModes.isDefaultBlendingMode(t)},hasRotation:function(){return!!this.get("rotation")},hasAnimations:function(){var t=this.get("animations");return t&&0!==t.length},hasAnyParentWithRotation:function(){return this.getAllParents().some((function(t){return!t.isFolder()&&t.hasRotation()}))},hasAnyParentWithAnimations:function(){return this.getAllParents().some((function(t){return!t.isFolder()&&t.hasAnimations()}))},hasAnyParentThatDoesNotAllowBlendModes:function(){return this.hasAnyParentWithRotation()||this.hasAnyParentWithAnimations()},supportsLinkInteraction:function(){return this.supportsProperty("linkInteraction")},setLinkInteraction:function(t){this.set("linkInteraction",t),t?(this.createAutogeneratedChangeStateInteraction(_.default.OBJECT_STATES_CLICK),v.default.isCurrentVariant("desktop")&&this.createAutogeneratedChangeStateInteraction(_.default.OBJECT_STATES_HOVER)):this.removeAllAutogeneratedInteractions()},removeInteractionsForState:function(t){this.getInteractions().forEach((function(e){e&&e.get("state")===t&&e.destroy()}))},removeAllAutogeneratedInteractions:function(){this.getInteractions().forEach((function(t){t&&t.get("autogenerated")&&t.destroy()}))},removeInteractionsNotChangeState:function(){this.getInteractions().forEach((function(t){t&&"change-state"!==t.get("action")&&t.destroy()}))},hasObjectStates:function(){var t=this.get("states");return!!Object.keys(t).length>0},createAutogeneratedChangeStateInteraction:function(t){this.isInteractable()&&b.ObjectStateManager.isInteractionState(t)&&(u.default.find(this.interactions.models,(function(e){return e.get("autogenerated")&&e.get("trigger")===t}))||this.interactions.add({action:"change-state",trigger:t,layerTargets:[this.id],state:t,autogenerated:!0,lockState:t!==_.default.OBJECT_STATES_HOVER}));this.save()},removeIncompatiblePropertiesWhenMasking:function(t){var e;void 0===t&&(t=!1);var n=this.get("type"),r={};if("shape-component"===n||"custom-shape-component"===n){var o=this.get("background");o&&o.color||(r.background=i(i({},o),{color:T.default.MASK_ITEM_DEFAULT_FILL_COLOR})),r.shadow={};var a=this.get("border");if(a){var s=a.radius;void 0!==s&&s.split&&(s=a.radius.split(",")[0]),r.border=i(i({},a),{radius:s,color:void 0,width:void 0})}}r.visible=!0,r.animations=[],r.animationsRepeatAll=!1,r.animationsReplayOnScroll=!1;var u=!(!this.attributes.maskInfo||!(null===(e=this.attributes.maskInfo)||void 0===e?void 0:e.isBaseMaskObject));"image-component"===n&&u?this.removeInteractionsNotChangeState():(r.interactions=[],this.removeAllObjectStates(t)),this.set(r,{silent:t})}})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(6)),o=i(n(2)),a=i(n(8)),s={page_number:"/p/",page_slug:"/page/"},u={buildUri:function(t,e,n,i){return void 0===n&&(n=null),void 0===i&&(i=""),a.default.locationIsHtmlFile()?this.buildHtmlStyleUri(e,i):this.buildPathStyleUri(t,e,n,i)},buildHtmlStyleUri:function(t,e){e=e||"";var n,i=this.getWindowContext(),r=i.location.search;return 1===t?(r=r.replace(/page=(\d+)&?/,""),n=i.location.pathname+r):n=a.default.appendQueryParams(i.location.pathname+r,{page:t}),(n=n.replace(/[&|\?]$/,""))+e},buildPathStyleUri:function(t,e,n,i){if(!s[t])return r.default.warn("Mode is not supported"),null;i=i||"";var a=this.getWindowContext(),u=s[t]+e,l=o.default.previewMode&&n&&"desktop"!==n?"/layout/"+n:"",c=a.location.pathname+"";return c=(c=(c=c.replace(/\/$/,"")).replace(/\/layout\/[a-z0-9-]+/,"")+l).replace(/\/(p|page)\/[a-z0-9-]*/,"")+u,(c+=a.location.search)+i},buildUriForPageNumber:function(t){var e=this.parseLayoutFromLocation();return this.buildUri("page_number",t,e)},parsePageFromLocation:function(){var t=this.getWindowContext(),e=null;if(a.default.locationIsHtmlFile()){var n=t.location.search.match(/page=(\d+)/);return e=1,n&&(e=parseInt(n[1],10)),e}var i=t.location.pathname.match(/\/p\/(\d+)\/?$/);if(i&&(e=parseInt(i[1],10)),!e&&o.default.usePageSlugsInNavigation){var r=t.location.pathname.match(/\/page\/([a-z0-9-]+)\/?$/);r&&(e=r[1])}return e||(e=1),e},parseLayoutFromLocation:function(){var t=this.getWindowContext().location.pathname.match(/\/layout\/([a-z0-9-]+)\/?/);return t?t[1]:"desktop"},getLayoutFromQueryParam:function(){var t,e=window.location.search;return null===(t=new URLSearchParams(e).get("layout"))||void 0===t?void 0:t.toLowerCase()},getLocationWithoutParamsAndLayoutOrPageNumber:function(){return this.getWindowContext().location.href.replace(/\?.*$/,"").replace(/\/(layout\/[0-9a-z-]+)\\?/,"").replace(/\/(page\/[0-9a-z-]+|p\/\d+)\\?$/,"")},getWindowContext:function(){return window},getEditModeFromQueryParam:function(){return"true"===new URLSearchParams(window.location.search).get("editmode")},getIsEditor:function(){return!0===o.default.isEditor},getStackDistance:function(){var t=new URLSearchParams(window.location.search);return parseInt(t.get("distance"))},getEditorURL:function(){return o.default.adminUrl+"/account/"+o.default.accountSlug+"/editor/experience/"+o.default.issueAliasSlug}};e.default=u},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractComponentView=void 0;var s=a(n(0)),u=a(n(4)),l=a(n(271)),c=a(n(35)),d=n(130),h=n(37),f=a(n(17)),p=n(36),g=a(n(2)),m=a(n(60)),v=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n._isComponent=!0,n.activeStateInteractions=[],n}return r(e,t),e.prototype.render=function(){return t.prototype.render.call(this),this.applyTransition(),this.setStateValues(),this.createHoverArea(),this},e.prototype.setStateValues=function(){var t=this;this.options.states&&this.options.states.forEach((function(e){t.applyDeltaValuesToCoordinateProperties(e),Object.keys(e.config).forEach((function(n){t.diffStateProperty(e,n)}))}))},e.prototype.diffStateProperty=function(t,e){s.default.get(t.config,e)===s.default.get(this.options,e)&&s.default.set(t.config,e,void 0)},e.prototype.hasObjectState=function(t){var e;return"default"===t||!!(null===(e=this.options.states)||void 0===e?void 0:e.find((function(e){return e.state===t})))},e.prototype.getObjectState=function(t){var e;if(t)return null===(e=this.options.states)||void 0===e?void 0:e.find((function(e){return e.state===t}))},e.prototype.applyDeltaValuesToCoordinateProperties=function(t){s.default.isNil(this.options.x)||(t.config.deltaX=t.config.deltaX||0,t.config.x=this.options.x+t.config.deltaX),s.default.isNil(this.options.y)||(t.config.deltaY=t.config.deltaY||0,t.config.y=this.options.y+t.config.deltaY),s.default.isNil(this.options.x2)||(t.config.deltaX2=t.config.deltaX2||0,t.config.x2=this.options.x2+t.config.deltaX2),s.default.isNil(this.options.y2)||(t.config.deltaY2=t.config.deltaY2||0,t.config.y2=this.options.y2+t.config.deltaY2)},e.prototype.getExtentsFromObjectState=function(t){var e=this.getExtentsDimensionData(!0),n=this.getObjectState(t),i=e;n&&(n.config.deltaX&&void 0!==n.config.x&&(i.x=n.config.x),n.config.deltaY&&void 0!==n.config.y&&(i.y=n.config.y),n.config.border&&void 0!==n.config.border.width&&(i.borderWidth=n.config.border.width),n.config.width&&(i.width=n.config.width),n.config.height&&(i.height=n.config.height),n.config.rotation&&(i.rotation=n.config.rotation));var r=c.default.getExtentsPointsFromDimensions(i.x,i.y,i.width,i.height,i.rotation,i.borderWidth);return this._transformPointsToExtents(r)},e.prototype.getExtentsDimensionData=function(t){var e,n,i=t?null:this.getObjectState(this.options.selectedState);return{x:i&&i.hasPositionChange()?i.config.x:this.options.x,y:i&&i.hasPositionChange()?i.config.y:this.options.y,width:i&&i.hasDimensionsChange()?i.config.width:this.options.width,height:i&&i.hasDimensionsChange()?i.config.height:this.options.height,rotation:-Math.toRad((i&&i.hasRotationChange()?i.config.rotation:this.options.rotation)||0),borderWidth:(i&&i.hasBorderChange()?null===(e=i.config.border)||void 0===e?void 0:e.width:null===(n=this.options.border)||void 0===n?void 0:n.width)||0}},e.prototype.applyScale=function(t,e,n,i){void 0===t&&(t=this.options.width),void 0===e&&(e=this.options.height),void 0===n&&(n=this.options.x),void 0===i&&(i=this.options.y);var r=t/this.options.width,o=e/this.options.height;p.CssUtils.setTransformToElement(this.$el,{scale:{x:r,y:o}}),this.applyPositionToScaledObject(n,i,t,e)},e.prototype.applyPositionToScaledObject=function(t,e,n,i){void 0===t&&(t=this.options.x),void 0===e&&(e=this.options.y),void 0===n&&(n=this.options.width),void 0===i&&(i=this.options.height);var r=(n-this.options.width)/2,o=(i-this.options.height)/2;this._applyPosition(t+r,e+o)},e.prototype.addStateUnderActiveState=function(t,e){if(!this.activeStateInteractions.some((function(e){return e.state===t}))&&this.activeStateInteractions&&this.activeStateInteractions.length>0){var n=this.activeStateInteractions.findIndex((function(t){return t.lockState}));n>=0&&this.activeStateInteractions.splice(n,0,e)}},e.prototype.invokeObjectState=function(t){"default"===t&&this.isInNonDefaultState()&&this.revertToDefaultState();var e=this.getObjectState(t);e&&this.applyState(e)},e.prototype.applyState=function(t){var e="default"!==this.options.selectedState?this.getObjectState(this.options.selectedState):void 0;this.options.selectedState=t.state||"default",this.callObjectStateInvoker(t,e)},e.prototype.callObjectStateInvoker=function(t,e){h.ObjectStateInvoker.invokeObjectState(this,t,e)},e.prototype.revertToDefaultState=function(){var t=new d.ObjectState({state:"default"});this.activeStateInteractions=[],this.applyState(t)},e.prototype.revokeObjectState=function(t){var e,n;if(this.getObjectState(t)){var i=t===(null===(e=this.getCurrentActiveChangeStateInteraction())||void 0===e?void 0:e.state);if(this.activeStateInteractions=this.activeStateInteractions.filter((function(e){return e.state!==t})),i){var r=this.getObjectState(null===(n=this.getCurrentActiveChangeStateInteraction())||void 0===n?void 0:n.state);r?this.applyState(r):this.revertToDefaultState()}}},e.prototype.applyTransition=function(t,e){var n=this;if(void 0===t&&(t=this.options.transition),!g.default.shouldReduceMotion)if(t){var i="all "+(t.duration||0)+"s "+(t.easing||"linear")+" "+(t.delay||0)+"s";this.applyTransitionToTarget(i,e);var r=1e3*((t.duration||0)+(t.delay||0));this.transitionTimer&&clearTimeout(this.transitionTimer),this.transitionTimer=setTimeout((function(){n.applyTransitionToTarget("")}),r)}else this.applyTransitionToTarget("")},e.prototype.applyTransitionToTarget=function(t,e){this.$el.css("transition",t),this.$el.css("transition-property",e||"none")},e.prototype.applyDropShadow=function(t,e){var n;void 0===t&&(t=this.options.shadow),void 0===e&&(e=this.options.rotation);var i=this.getApplyShadowTarget(),r=null===(n=i[0])||void 0===n?void 0:n.style.filter,o="";if(r){var a=r.match(/[\w-]*\(.*?\)/g);a&&(o=a.filter((function(t){return!t.startsWith("drop-shadow")})).join(" "))}if(this.hasShadow(t)){var s=p.CssUtils.convertShadowObjectToCssFilter(t,e);i.css("-webkit-filter",s),i.css("filter",s)}else i.css("filter",o),i.css("-webkit-filter",o)},e.prototype.getParentsWithLinkInteraction=function(){return this.options.parentSmartGroup&&this.options.parentSmartGroup.interactions.find((function(t){var e;return"click"===(null===(e=t)||void 0===e?void 0:e.state)}))?[this.options.parentSmartGroup.id]:this.hasParents()?this.parentViews.filter((function(t){return t.isComponent()&&!!t.options.linkInteraction})).map((function(t){return t.id})):[]},e.prototype.triggerMouseUpAction=function(t){t.triggerOutAction()},e.prototype.removeAllActiveStates=function(){var t=this;this.activeStateInteractions.forEach((function(e){t.options.pageView.deactivateInteraction(e)})),this.activeStateInteractions=[]},e.prototype.removeActiveState=function(t){var e=this.activeStateInteractions.findIndex((function(e){return e===t}));-1!==e&&this.activeStateInteractions.splice(e,1),this.options.pageView.deactivateInteraction(t)},e.prototype.addActiveState=function(t){this.activeStateInteractions.find((function(e){return e===t}))||this.activeStateInteractions.push(t)},e.prototype.getCurrentActiveChangeStateInteraction=function(){if(this.activeStateInteractions&&this.activeStateInteractions.length>0)return this.activeStateInteractions[this.activeStateInteractions.length-1]},e.prototype.hasActiveClickStateWithLock=function(){return this.activeStateInteractions.some((function(t){return"click"===t.state&&t.lockState}))},e.prototype.hasActiveCustomStateWithLock=function(){return this.activeStateInteractions.some((function(t){return!("click"===t.state||"hover"===t.state||"default"===t.state)&&t.lockState}))},e.prototype.hasActiveBringToFront=function(){return!!this.activeBringToFrontInteraction},e.prototype.isInNonDefaultState=function(){return"default"!==this.options.selectedState},e.prototype.createHoverArea=function(){(this.isUsingHoverAreaForMouseOut()||this.isMask())&&(this.unbindInteractions(),this.hoverArea||(this.hoverArea=this.options.pageView.createHoverArea(this),this.hoverArea.render()),this._configureInteractions(),this.shouldAddHoverAreaPointerEvents()?this.addPointerEvents():this.removePointerEvents())},e.prototype.enableHoverArea=function(){var t;this.shouldAddHoverAreaPointerEvents(!0)&&(null===(t=this.hoverArea)||void 0===t||t.enableHoverArea(this))},e.prototype.disableHoverArea=function(){var t,e=this;this.usesHoverAreaForInteractions()&&(null===(t=this.hoverArea)||void 0===t||t.getHoverAreaTarget().on("click",(function(){var t;null===(t=e.hoverArea)||void 0===t||t.disableHoverArea(e)})))},e.prototype.isHoverAreaDisabled=function(){var t;return!!(null===(t=this.hoverArea)||void 0===t?void 0:t.isDisabled())},e.prototype.activateHoverArea=function(){var t;this.shouldAddHoverAreaPointerEvents()&&(null===(t=this.hoverArea)||void 0===t||t.activate())},e.prototype.shouldAddHoverAreaPointerEvents=function(t){void 0===t&&(t=!1);var e=this.hoverArea&&!(this.hoverArea.isDisabled()&&!t);return this.visible&&e},e.prototype.isHovered=function(t){var e,n=this.getHoverTarget();return!!(null===(e=this.hoverArea)||void 0===e?void 0:e.isHovered())||n.is((function(t,e){return e.matches(":hover")}))},e.prototype.getComponentActualWidthHeight=function(){var t=this.options.width,e=this.options.height,n=this.options.parentSmartgroup;return n&&(t*=n.options.scaleWidth,e*=n.options.scaleHeight),{width:t,height:e}},e.prototype.getComponentAbsolutePosition=function(){var t=this.options.absoluteX||0,e=this.options.absoluteY||0,n=this.options.parentSmartgroup;if(n){t*=n.options.scaleWidth,t+=n.options.originalX,e*=n.options.scaleHeight,e+=n.options.originalY;var i=Math.toRad(n.options.rotation);if(i){var r=this.options.width*n.options.scaleWidth,o=this.options.height*n.options.scaleHeight,a=this.options.x*n.options.scaleWidth,s=this.options.y*n.options.scaleHeight,u=new f.default.Point(a+r/2,s+o/2),l=n.options.width*n.options.scaleWidth/2,c=n.options.height*n.options.scaleHeight/2;u.rotate(l,c,-i),u.x+=n.options.absoluteX||0,u.y+=n.options.absoluteY||0,t=u.x-r/2,e=u.y-o/2}}return{componentTop:e,componentLeft:t}},e.prototype.getHoverTarget=function(){return this.$el},e.prototype.updatePositionForHoverArea=function(){var t;null===(t=this.hoverArea)||void 0===t||t.updatePosition()},e.prototype.setInitialZIndex=function(t){this.$el.css("z-index",t),this.zIndex=t,this.currentZIndex=t},e.prototype.setZIndex=function(t,e){var n;this.$el.css("z-index",t),this.currentZIndex=t,null===(n=this.hoverArea)||void 0===n||n.setZIndex(t+1),"click"===e&&(this.activeBringToFrontInteraction=!0)},e.prototype.resetZIndex=function(){var t;this.$el.css("z-index",this.zIndex),this.currentZIndex=this.zIndex,null===(t=this.hoverArea)||void 0===t||t.setZIndex(this.zIndex+1),this.activeBringToFrontInteraction=!1},e.prototype.getCurrentHighestZIndex=function(){return this.hoverArea?Math.max(this.hoverArea.currentZIndex,this.currentZIndex):this.currentZIndex},e.prototype.setDimensionsAsAttributes=function(t,e,n){t.attr("width",e),t.attr("height",n)},e.prototype.getPointerEventsTarget=function(){return this.$el},e.prototype.addPointerEvents=function(){var t;this.usesHoverAreaForInteractions()?null===(t=this.hoverArea)||void 0===t||t.activate():this.isMask()||this.isMaskGroup()?(this.getPointerEventsTarget().css("pointer-events","none"),this.addPointerEventsToChildren()):this.getPointerEventsTarget().css("pointer-events","auto")},e.prototype.addPointerEventsToChildren=function(){},e.prototype.removePointerEvents=function(){var t;this.usesHoverAreaForInteractions()?null===(t=this.hoverArea)||void 0===t||t.deactivate():this.getPointerEventsTarget().css("pointer-events","none")},e.prototype.assignCursor=function(){this.hasClickInteraction()||this.hasMouseDownInteraction()||this.options.showHoverCursor?this.getInteractionTarget().css("cursor","pointer"):this.getInteractionTarget().css("cursor","inherit")},e.prototype.getInteractionTarget=function(t){if((void 0===t&&(t=!1),this.hoverArea)&&!(this.hoverArea.isDisabled()&&!t))return this.hoverArea.getHoverAreaTarget();return this.getPointerEventsTarget()},e.prototype.bindClickInteraction=function(){this.hasClickInteraction()||this.isMask()?this.getInteractionTarget().on("click",s.default.bind(this._handleClickInteraction,this)):this.getInteractionTarget().on("click",s.default.bind(this.handleClickWithoutInteraction,this))},e.prototype.bindMouseDownInteraction=function(){(this.hasMouseDownInteraction()||this.isMask())&&this.getInteractionTarget().on("mousedown",s.default.bind(this._handleMouseDownInteraction,this))},e.prototype.bindMouseOverInteraction=function(){(this.hasHoverInteraction()||this.isMask())&&this.getInteractionTarget().on("mouseover",s.default.bind(this._handleMouseOverInteraction,this))},e.prototype.unbindInteractions=function(t){void 0===t&&(t=!1),this.$el.off("click"),this.$el.off("mouseover"),this.$el.off("mouseout"),this.$el.off("keydown"),this.$el.off("mousedown");var e=this.getInteractionTarget(t);e!==this.$el&&(e.off("click"),e.off("mouseover"),e.off("mouseout"),e.off("mousedown")),this.hasAccessibilityFeature&&this.$el.off("keydown",this._handleOnEscKeyPressed)},e.prototype._configureInteractions=function(){this.unbindInteractions(!0),this.assignCursor(),this.bindClickInteraction(),this.bindMouseDownInteraction(),this.bindMouseOverInteraction(),this.bindClickSelectInteraction(),this.hasAccessibilityFeature&&this.$el.on("keydown",this._handleOnEscKeyPressed)},e.prototype.bindClickSelectInteraction=function(){this.$el.on("keydown",this.handleKeydown.bind(this))},e.prototype.shouldTriggerClickOnKeyDown=function(){return!(!this.hasClickInteraction()||!this.hoverArea)},e.prototype.handleKeydown=function(t){var e=t.keyCode;e!==m.default.SPACE&&e!==m.default.ENTER||(this.shouldTriggerClickOnKeyDown()?this._handleClickInteraction(t,!1,void 0,!0):this.handleClickWithoutInteraction(t),this.hasMouseDownInteraction()&&this._handleMouseDownInteraction(t,!0))},e.prototype.setMaskInteractions=function(t){this.options.interactions=t,this.createHoverArea()},e.prototype.usesHoverAreaForInteractions=function(){return!!this.hoverArea&&!this.hoverArea.isDisabled()},e.prototype.isBaseMaskObject=function(){return!1},e.prototype.isMask=function(){var t;return!(!this.options.maskInfo||!(null===(t=this.options.maskInfo)||void 0===t?void 0:t.maskedObjectId))},e.prototype.isMaskGroup=function(){return!1},e.prototype.isAlphaMask=function(){return!1},e.prototype.hasInteractions=function(){var t;return!!(null===(t=this.options.interactions)||void 0===t?void 0:t.length)},e.prototype.getMaskGroup=function(){return[]},e.prototype.isUsingHoverAreaForMouseOut=function(){var t,e=!!(null===(t=this.options.interactions)||void 0===t?void 0:t.find((function(t){return!!t.hasOutTrigger})));return u.default.desktop()&&!this.isBaseMaskObject()&&this.hasInteractions()&&e},e.prototype.getEventInteractionData=function(){var t,e;return this.isMask()&&this.parentViews.length?this.parentViews[0].getEventInteractionData():{componentSlug:this.id,componentName:this.options.title,componentType:this.options.type,pageSlug:null===(t=this.options.pageView.model)||void 0===t?void 0:t.get("slug"),pageName:null===(e=this.options.pageView.model)||void 0===e?void 0:e.get("name"),currentState:this.options.selectedState,sdkTags:this.options.sdkTags,sdkPayload:this.options.sdkPayload}},Object.defineProperty(e.prototype,"linkInteraction",{get:function(){return this.options.linkInteraction||"smartgroup"===this.options.type},enumerable:!1,configurable:!0}),e.prototype.getCurrentValue=function(t){var e=this.getComponentAbsolutePosition(),n=e.componentLeft,i=e.componentTop,r=this.options;if(this.isInNonDefaultState()){var a=this.getObjectState(this.options.selectedState),s=(null==a?void 0:a.config)||{},u=s.deltaX,l=void 0===u?0:u,c=s.deltaY,d={x:n+l,y:i+(void 0===c?0:c)};r=o(o(o({},r),null==a?void 0:a.config),d)}else{d={x:n,y:i};r=o(o({},r),d)}return r[t]},e}(l.default);e.AbstractComponentView=v},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FontConstants=void 0;var i=function(){function t(){}return t.GOOGLE_API_ID="Google",t.BUILTIN_API_ID="BuiltIn",t.UPLOADED_API_ID="Uploaded",t.FONT_PLUS_UPLOADED_API_ID="FontPlusUploaded",t.DEFAULT_FONT_FAMILY_GUID="Google|Roboto",t.DEFAULT_FONT_VARIANT_GUID="Google|Roboto|400|normal",t.DEFAULT_FONT_WEIGHT=400,t.DEFAULT_FONT_STYLE="normal",t.FONT_STYLE_ITALIC="italic",t.FONT_STYLE_NORMAL="normal",t.FONT_STYLE_OBLIQUE="oblique",t.EXPERIENCE_FAMILY_GUIDS_KEY="familyGuids",t}();e.FontConstants=i},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractCanvasTargetsActionModel=void 0;var s=a(n(0)),u=n(11),l=n(7),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.isValid=function(){var t=this,e=this.get("layerTargets");if(!e||s.default.isEmpty(e))return!1;if(!this.getSupportsMultipleTargets()&&1!==e.length)return!1;var n=this.getValidCanvasTargets();return e.every(function(e){return t.isCanvasTargetValid(e,n)}.bind(this))},e.prototype.getCanvasTargetsInContext=function(){return this.parentInteraction.getValidFullHierarchyTargets()},e.prototype.getValidCanvasTargets=function(){return this.getCanvasTargetsInContext()},e.prototype.isCanvasTargetTypeValid=function(t){var e=this.get("layerTargets");return!(!this.getSupportsMultipleTargets()&&e&&e.length>=1)&&t.isInteractable()},e.prototype.isCanvasTargetValid=function(t,e){return e||(e=this.getValidCanvasTargets()),!!e.get(t)},e.prototype.getCanvasTargetIds=function(){var t=this.get("layerTargets");return s.default.isArray(t)?t.slice():[]},e.prototype.getFirstCanvasTargetId=function(){var t=this.getCanvasTargetIds();return s.default.isEmpty(t)?null:t[0]},e.prototype.getCanvasTargetModels=function(){var t=this,e=new Array;return s.default.each(this.getCanvasTargetIds(),s.default.bind((function(n){var i=t.getValidCanvasTargets().get(n);i?e.push(i):console.warn("No canvas target model found for id "+n)}),this)),e},e.prototype.getFirstCanvasTargetModel=function(){var t=this.getCanvasTargetModels();return t.length>0?t[0]:null},e.prototype.hasACanvasTarget=function(){var t=this.getCanvasTargetIds();return!s.default.isEmpty(t)},e.prototype.addCanvasTarget=function(t){var e=this.getCanvasTargetIds();e.push(t),this.set("layerTargets",e)},e.prototype.setCanvasTargets=function(t){s.default.isString(t)&&(t=s.default.filter([t])),this.set("layerTargets",t)},e.prototype.updateCanvasTargets=function(t,e){var n=this.getCanvasTargetIds();n.length<=t?console.warn("Trying to update a canvas target that doesn't exist"):(n[t]=e,this.set("layerTargets",n))},e.prototype.removeCanvasTarget=function(t){var e=this.getCanvasTargetIds();e.length<=t?console.warn("Trying to update a canvas target that doesn't exist"):(e.splice(t,1),this.set("layerTargets",e))},e.prototype.getSupportsMultipleTargets=function(){return this.get("supportsMultipleTargets")},e=o([l.ActionModelOptions({defaults:{layerTargets:null,supportsMultipleTargets:!0}})],e)}(u.AbstractActionModel);e.AbstractCanvasTargetsActionModel=c},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(1)),a=i(n(3)),s=i(n(4)),u=i(n(119));e.default=a.default.View.extend({broadcast:r.default.clone(a.default.Events),constructor:function(t){this.options=t||{},a.default.View.apply(this,arguments)},_broadcast:function(t){if(!r.default.isUndefined(t)){t.preventDefault(),t.stopPropagation();var e=o.default(t.currentTarget).attr("data-event-name"),n=o.default(t.currentTarget).attr("data-event-param");r.default.isString(e)&&this.broadcast.trigger(e,n)}},_triggerEvent:function(t){if(!r.default.isUndefined(t)){t.preventDefault();var e=o.default(t.currentTarget).attr("data-event-name"),n=o.default(t.currentTarget).attr("data-event-param");this.trigger(e,n)}},bindInteraction:function(t,e){var n;n="function"!=typeof e?o.default.noop:function(t){s.default.touch()&&(t=t.srcEvent),t.preventDefault(),e(t)},s.default.touch()&&r.default.each(t,(function(t){t.swipeAction=new u.default(t),t.swipeAction.on("tap",n)})),s.default.desktop()&&t.off("click").on("click",n)},unbindInteraction:function(t){s.default.touch()&&r.default.each(t,(function(t){t.swipeAction.destroy()})),s.default.desktop()&&t.off("click")},onClose:function(){},beforeClose:function(){},close:function(){this.beforeClose(),this.remove(),this.onClose(),this.trigger("close"),this.unbind()},setModel:function(t){this.model=t,this._bindModel()},setCollection:function(t){this.collection=t,this._bindCollection()},_bindModel:function(){this.model&&(this.model.bind("change",this._change,this),this.model.bind("sync",this._sync,this),this.model.bind("destroy",this._destroy,this),this.model.bind("invalid",this._invalid,this),this.render())},_bindCollection:function(){this.collection&&(this.collection.bind("add",this._add,this),this.collection.bind("remove",this._remove,this),this.collection.bind("reset",this._reset,this),this.render())},initialize:function(){this.options.module&&this._setModule(this.options.module),this._bindModel(),this._bindCollection()},insertAfter:function(t){this.$el.insertAfter(t)},insertBefore:function(t){this.$el.insertBefore(t)},appendTo:function(t){this.$el.appendTo(t)},after:function(t){this.$el.after(t)},before:function(t){this.$el.before(t)},setAsAccessibilityHoverTarget:function(){this.keepVisibleForScreenReaders=!0,this.options.visible&&"none"!=this.$el.css("display")||(this.$el.css("display","block"),this.$el.addClass("sr-only")),this.exitAnimations.forEach((function(t){return t.keepVisibleForScreenReaders()}))},unsetAsAccessibilityHoverTarget:function(){this.keepVisibleForScreenReaders=!1,this.$el.hasClass("sr-only")&&(this.$el.removeClass("sr-only"),this.$el.css("display","none")),this.exitAnimations.forEach((function(t){return t.restoreHideBehavior()}))},show:function(){this.keepVisibleForScreenReaders?this.$el.removeClass("sr-only"):this.$el.show()},hide:function(){this.keepVisibleForScreenReaders?this.$el.addClass("sr-only"):this.$el.hide()},_setModule:function(t){if(r.default.isUndefined(t)||null===t)throw Error("attempting to set an invalid module!");this.module=t},getModule:function(){return this.module},_change:function(){this.render()},_sync:function(){this.render()},_destroy:function(){this.render()},_invalid:function(){this.render()},_add:function(){this.render()},_remove:function(){this.render()},_reset:function(){this.render()},getEscapedId:function(){return this.id.replace("|","\\|")}})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1)),o=i(n(0)),a=i(n(3)),s=i(n(2)),u=i(n(158)),l=i(n(392)),c=i(n(161)),d={VARIANT_ADDED:"variantAdded",VARIANT_ADDED_REMOTE:"variantAddedRemote",VARIANT_CHANGED:"variantChanged",VARIANT_DELETION_STARTED:"variantDeletionStarted",VARIANT_ABOUT_TO_DELETE:"variantAboutToDelete",VARIANT_DELETED:"variantDeleted",VARIANT_DELETED_REMOTE:"variantDeletedRemote",VARIANT_DELETED_FROM_ALL_PAGES:"variantDeletedFromAllPages",VARIANT_DELETE_FAILED:"variantDeleteFailed",VARIANT_SAVED:"variantSaved",VARIANT_SAVE_FAILED:"variantSaveFailed"},h=["desktop"],f={docVersion:null,currentVariant:"desktop",creatingComponent:!1,inIsolationMode:!1,EVENTS:d,doingCycleHack:!1,cachedAdaptiveLayoutsEnabled:null,defaultVariantValues:{mobile:{viewportWidth:540,viewportHeight:960},tablet:{viewportWidth:768,viewportHeight:1024}},setDocumentVersion:function(t){this.docVersion=t},setInIsolationMode:function(t){this.inIsolationMode=t},setCurrentVariant:function(t){t!==this.currentVariant&&(this.currentVariant=t,this.trigger(d.VARIANT_CHANGED))},setDoingCycleHack:function(t){this.doingCycleHack=t},isDoingCycleHack:function(){return this.doingCycleHack},setIsDeletingAVariant:function(t){this.deletingAVariant=t},isDeletingAVariant:function(){return this.deletingAVariant},isCurrentVariant:function(t){return this.currentVariant===t},isInIsolationMode:function(){return this.inIsolationMode},getExistingVariants:function(){if(!this.adaptiveLayoutsEnabled())return[];var t=this.docVersion.doc.at("overrides").get();return o.default.keys(t)},areAllVariantsCreated:function(){return 2===this.getExistingVariants().length},getMissingVariants:function(){return o.default.difference(o.default.keys(this.defaultVariantValues),this.getExistingVariants())},getOtherVariantIfExists:function(t){var e="mobile"===t?"tablet":"mobile";return this.doesVariantExist(e)?e:null},doesVariantExist:function(t){var e=this.getExistingVariants();return o.default.includes(e,t)||"desktop"===t},doesAnyVariantExist:function(){return this.getExistingVariants().length>0},getCurrentVariant:function(){return this.adaptiveLayoutsEnabled()?this.currentVariant:"desktop"},getAllExistingLayouts:function(){return this.getExistingVariants().concat("desktop")},getNonCurrentLayouts:function(){if(!this.adaptiveLayoutsEnabled())return[];if("desktop"===this.currentVariant)return this.getExistingVariants();var t=["desktop"],e=this.getOtherVariantIfExists(this.currentVariant);return e&&t.push(e),t},hasMultipleVariants:function(){return o.default.size(this.docVersion.doc.at("overrides").get())>0},addNewVariantToDocVersion:function(t){var e=r.default.Deferred();if(this.adaptiveLayoutsEnabled())if(this.doesVariantExist(t))e.reject("error-variant-exists");else try{var n=this.getSourceVariantName(),i=o.default.cloneDeep(this.docVersion.get("overrides"))||{};i[t]=this.defaultVariantValues[t],o.default.extend(i[t],this.getDocVersionAttributesToCopyFromSourceVariant(this.docVersion,n)),this.docVersion.set("overrides",i),this.trigger(d.VARIANT_ADDED,{newVariantName:t,sourceVariantName:n}),e.resolve()}catch(t){e.reject(t)}else e.reject("error-adaptiveLayouts-disabled");return e.promise()},beginVariantDelete:function(t){this.doesVariantExist(t)&&(this.setIsDeletingAVariant(!0),this.trigger(d.VARIANT_DELETION_STARTED),this.trigger(d.VARIANT_ABOUT_TO_DELETE,{variantName:t}))},deleteVariantFromDocVersion:function(t){var e=r.default.Deferred();if(this.doesVariantExist(t))try{this.setCurrentVariant("desktop");var n=o.default.cloneDeep(this.docVersion.get("overrides"));delete n[t],this.docVersion.set("overrides",n),this.setIsDeletingAVariant(!1),this.trigger(d.VARIANT_DELETED,{variantName:t}),e.resolve()}catch(t){e.reject(t),this.trigger(d.VARIANT_DELETE_FAILED)}else e.reject("error-variant-missing"),this.trigger(d.VARIANT_DELETE_FAILED);return e.promise()},saveVariant:function(t){this.trigger(d.VARIANT_SAVED,{variantName:t})},variantSaveFailed:function(t){this.trigger(d.VARIANT_SAVE_FAILED,{variantName:t})},listenForVariantSavedOrFailed:function(){var t=r.default.Deferred();return this.listenToOnce(f,f.EVENTS.VARIANT_SAVED,t.resolve),this.listenToOnce(f,f.EVENTS.VARIANT_SAVE_FAILED,t.reject),t},getDocVersionAttributesToCopyFromSourceVariant:function(t,e){return"desktop"!==e&&this.adaptiveLayoutsEnabled()?{scaleExperienceType:t.get("overrides")[e].scaleExperienceType}:{scaleExperienceType:t.get("scaleExperienceType")}},adaptiveLayoutsEnabled:function(){if(null!==this.cachedAdaptiveLayoutsEnabled)return this.cachedAdaptiveLayoutsEnabled;if(c.default.getCurrentUser()){var t=u.default.getActiveAccount().hasAdaptiveLayouts();return this.cachedAdaptiveLayoutsEnabled=t,t}return!1},getSourceVariantName:function(){var t=this.getExistingVariants();if(0===t.length)return"desktop";if(1===t.length)return t[0];throw"All 3 variants already exist"},cloneOverrides:function(t){var e=o.default.clone(t);return o.default.each(t,(function(t,n){e[n]=o.default.clone(t)})),e},reconcileJSONForCurrentVariant:function(t,e){var n;if(e&&e.isSyncedObject()||"desktop"===this.currentVariant)n=o.default.extend({},t);else{var i=t.overrides[this.currentVariant];if(i){var r=t.synced?o.default.omit(i,e.getSyncedProperties()):i;n=o.default.extend({},t,r)}else{var a={variant:this.currentVariant,modelJSON:JSON.stringify(t),issue:s.default.issueSlug,docDictionaryJson:JSON.stringify(this.docVersion.pageCollection.getCurrentPage().doc.at("layerDictionary").at(t.id).get())};window.Rollbar.warn("Missing Variant Overrides Object on reconcileJSONForCurrentVariant",a)}}return delete n.overrides,n},disableLayoutSwitch:function(){this.trigger("disableLayoutSwitch")},enableLayoutSwitchIfReady:function(){l.default.allClearToSwitchVariants()&&this.trigger("enableLayoutSwitch")},doesCurrentVariantSupportHover:function(){var t=this.getCurrentVariant();return h.indexOf(t)>-1}};o.default.extend(f,a.default.Events),e.default=f},function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return r(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=a(n(0)),u=a(n(1)),l=a(n(3)),c={Module:function(t){s.default.extend(this,t),this.status=c.Module.STATUS.PENDING,t.delegate&&this.setDelegate(t.delegate)}};s.default.extend(c.Module.prototype,l.default.Events,{setDelegate:function(t){if(!s.default.isObject(t))throw Error("invalid module delegate!");for(var e in t)!this.hasOwnProperty(e)&&t.hasOwnProperty(e)&&s.default.isFunction(t[e])&&(this[e]=s.default.bind(t[e],t))},getModule:function(t){return this.application.getModule(t)},setApplication:function(t){this.application=t},getApplication:function(){return this.application},getDependency:function(t){return this.application.getModule(t)},setStatus:function(t){this.status=t},getStatus:function(){return this.status},getDeferredLoadingTimeout:function(){return c.Application.DEFERRED_LOADING_TIMEOUT}}),c.Module.extend=l.default.View.extend,c.Module.STATUS={PENDING:1,LOADED:2,STARTED:4},c.Application=function(t){this.initCallbacks=new c.Callbacks,this.modules={};var e=this;this.loadedAllModules=(new u.default.Deferred).progress((function(t){e._loadModule(t),e._allLoaded()&&this.resolve()})),s.default.extend(this,t)},s.default.extend(c.Application.prototype,l.default.Events,{_allLoaded:function(){return s.default.every(s.default.values(this.modules),(function(t){return t&&t.getStatus()===c.Module.STATUS.LOADED}))},_loadModule:function(t){if(s.default.isUndefined(t)||s.default.isNull(t))throw Error("invalid module!");this.modules[t.id]=t,t.setApplication(this),t.trigger("load"),t.setStatus(c.Module.STATUS.LOADED),this.addInitializer((function(){t.trigger("start"),t.setStatus(c.Module.STATUS.STARTED)}))},use:function(t){var e=this;s.default.isString(t)?(this.modules[t]=null,Promise.resolve().then((function(){return o(n(229)("./"+t+"/module"))})).then((function(n){if(!n)throw Error("could not load module: "+t);e.loadedAllModules.notify(n)}))):this._loadModule(t)},getModule:function(t){return this.modules[t]},addInitializer:function(t){this.initCallbacks.add(t)},start:function(t){var e=s.default.bind((function(){this.trigger("initialize:before",t),this.initCallbacks.run(t,this),this.trigger("initialize:after",t),this.trigger("start",t)}),this);this._allLoaded()?e():u.default.when(this.loadedAllModules).then(e)}}),c.Application.extend=l.default.View.extend,c.Application.DEFERRED_LOADING_TIMEOUT=5e3,c.Callbacks=function(){this.deferred=u.default.Deferred(),this.promise=this.deferred.promise()},s.default.extend(c.Callbacks.prototype,{add:function(t,e){this.promise.done((function(n,i){e&&(n=e),t.call(n,i)}))},run:function(t,e){this.deferred.resolve(e,t)}}),e.default=c},function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},r=this&&this.__rest||function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.BaseInteraction=void 0;var a=o(n(0)),s=n(258),u=o(n(28)),l=function(){function t(e,n){if(!n.module)throw new Error("All interactions must belong to a module");a.default.assign(this,e),this.action=e.action,this.trigger=e.trigger,this.pageView=n;var i=t.shouldInteractionChangeToMouseDown(this.action,this.trigger,this.hasOutTrigger,!!e.hasSiblingThatIsABringToFrontClickInteraction,!!e.hasSiblingThatIsAChangeStateClickInteraction);this.trigger=i?"mouseDown":e.trigger}return t.prototype.hasGlobalScope=function(){return!0},t.prototype.setTrigger=function(t){this.trigger=t},t.shouldInteractionChangeToMouseDown=function(t,e,n,i,r){return void 0===r&&(r=!1),"click"===e&&(n||"bring-to-front"===t||i||r)},t.prototype.setOptionalParameters=function(t){this.componentId=t},t.prototype.triggerAction=function(t){return this.validateAndSendEvent(t)},t.prototype.triggerOutAction=function(){},t.prototype.validateAndSendEvent=function(t){if(!t)return!1;if(!a.default.isFunction(this.getModuleAction))return!1;var e=this.getModuleAction();if(!e)return!1;var n=new s.InteractionInvocation(this,t);return this.hasGlobalScope()?u.default.trigger(e,n):this.pageView.module.trigger(e,n),!0},Object.defineProperty(t.prototype,"domTagOverride",{get:function(){if(this.isValid()&&("click"===this.trigger||"mouseDown"===this.trigger))return{tagName:"button",priority:1}},enumerable:!1,configurable:!0}),t.prototype.isValid=function(){var t=a.default.values(i(i({},this),{sdkTags:void 0,sdkPayload:void 0}));return!a.default.some(t,(function(t){if(a.default.isNull(t))return!0;if(a.default.isArray(t)){if(0===t.length)return!0}else if(""===t)return!0;return!1}))},t.prototype.toJSON=function(){this.pageView;return r(this,["pageView"])},t.prototype.shouldCreateHoverArea=function(){return!1},t.prototype.shouldTriggerOnKeyboardNavigation=function(){return!0},t.prototype.getHoverTargets=function(){return[]},t}();e.BaseInteraction=l},function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return r(e,t),e},a=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var u=s(n(1)),l=s(n(0)),c=o(n(17)),d=s(n(4)),h=s(n(107)),f=["svg","path","rect","circle","ellipse","line","polyline","polygon","text"];e.default={VECTOR_IMAGE_CONVERSION_VERSION:2,isVectorBased:function(t){return"image/svg+xml"===t},hasCurrentConvertedVectorImageUri:function(t,e){return 2===t&&!!e},getImageAspectRatio:function(t){var e=this.getViewportDimensions(t);if(e&&e.height>0&&e.width>0)return e;var n=this.getViewBoxDimensions(t);return n&&n.height>0&&n.width>0?n:null},getViewBoxDimensions:function(t){var e=(t.documentElement.getAttribute("viewBox")||"").match(/-?[\d\.]+/g);if(e&&4===e.length){var n=parseInt(e[2],10),i=parseInt(e[3],10);if(n>0&&i>0)return{width:n,height:i}}return null},getViewportDimensions:function(t){var e=t.documentElement,n=parseInt(e.getAttribute("width"),10),i=parseInt(e.getAttribute("height"),10);return n>0&&i>0?{width:n,height:i}:null},setViewportDimensions:function(t,e,n){var i=t.documentElement;i.setAttribute("width",e+"px"),i.setAttribute("height",n+"px")},updateSVGColorStyle:function(t,e){l.default.each(f,l.default.bind((function(n){var i=t.getElementsByTagName(n);l.default.each(i,l.default.bind((function(t){this.canFillStyleBeUpdated(t)&&this.appendStyle(t,"fill",e),this.canStrokeStyleBeUpdated(t)&&this.appendStyle(t,"stroke",e)}),this))}),this))},canFillStyleBeUpdated:function(t){var e=this.getStyle(t,"fill");return!e||"none"!==e.trim()},canStrokeStyleBeUpdated:function(t){var e=this.getStyle(t,"stroke");return e&&"none"!==e.trim()},getStyle:function(t,e){var n=this.getStyleValue(t,e);return n||(n=t.getAttribute(e)),n},removeIllegalNodes:function(t){this.removeNodesByNodeName(t,"foreignObject")},removeNodesByNodeName:function(t,e){var n=t.getElementsByTagName(e);if(n)for(var i=n.length-1;i>=0;i--){var r=n[i];r.parentNode.removeChild(r)}},handleTitle:function(t,e,n){var i=t.getElementsByTagName("title"),r=t.documentElement;if(e||n){var o="title"+h.default.randomId();if(r.setAttribute("role","img"),r.setAttribute("aria-labelledby",o),r.removeAttribute("aria-hidden"),null==i||0===i.length){var a=t.createElement("title");r.appendChild(a),i=t.getElementsByTagName("title")}i[0].innerHTML=e,i[0].setAttribute("id",o)}else r.setAttribute("aria-hidden","true")},findChildNode:function(t,e){return l.default.find(t.childNodes,(function(t){return t.nodeName===e}))},appendNewChildNode:function(t,e,n){var i=this.createSVGNode(t,n);return e.appendChild(i,e.firstChild),i},prependNewChildNode:function(t,e,n){var i=this.createSVGNode(t,n);return e.insertBefore(i,e.firstChild),i},addLinearGradient:function(t,e,n){var i=t.documentElement,r=this.findChildNode(i,"defs");r||(r=this.prependNewChildNode(t,i,"defs"));var o=this.findChildNode(r,"linearGradient"),a=(null==o?void 0:o.getAttribute("id"))||"";null!=o&&0!==o.length||(o=this.prependNewChildNode(t,r,"linearGradient")),o.getAttribute("data-cerosgradient")||0===a.indexOf("CerosGradient_")||(o=this.prependNewChildNode(t,r,"linearGradient")),o.setAttribute("class","cerosgradient"),o.setAttribute("data-cerosgradient",!0),o.setAttribute("id",e),o.setAttribute("gradientUnits","userSpaceOnUse");var s=c.calcRotatedLineIntersect(n.angle,100,100);o.setAttribute("x1",s.startPt.getX()+"%"),o.setAttribute("y1",s.startPt.getY()+"%"),o.setAttribute("x2",s.endPt.getX()+"%"),o.setAttribute("y2",s.endPt.getY()+"%"),l.default.each(n.stops,l.default.bind((function(e,i){var r=100*i/(n.stops.length-1),a=o.getElementsByTagName("stop")[i];null!=a&&0!==a.length||(a=this.appendNewChildNode(t,o,"stop")),a.setAttribute("offset",r+"%"),a.setAttribute("stop-color",e.color)}),this))},createSVGNode:function(t,e){return t.createElementNS("http://www.w3.org/2000/svg",e)},supportsObjectURLs:function(){return!d.default.isPhantomJS()&&!d.default.isJsDom()},createObjectURL:function(t){if(this.supportsObjectURLs()){var e=this.createBlob(t);return this.getDOMURL().createObjectURL(e)}var n=this.createXmlString(t);return"data:image/svg+xml;base64,"+window.btoa(n)},createBlob:function(t){var e=this.createXmlString(t);return new Blob([e],{type:"image/svg+xml"})},createXmlString:function(t){return(new XMLSerializer).serializeToString(t)},revokeObjectURL:function(t){this.supportsObjectURLs()&&this.getDOMURL().revokeObjectURL(t)},getDOMURL:function(){return window.URL||window.webkitURL||window},isDataURL:function(t){return l.default.isString(t)&&0===t.indexOf("data:")},isVectorDataURL:function(t){return l.default.isString(t)&&0===t.indexOf("data:image/svg+xml;base64,")},convertToXMLString:function(t){if(!this.isVectorDataURL(t))throw new Error("Expected data url to start with data:image/svg+xml;base64,");var e=t.substring("data:image/svg+xml;base64,".length);return window.atob(e)},appendStyle:function(t,e,n){var i=t.getAttribute("style"),r=e+":"+n+";";i&&i.length>0?(";"!==i.substr(i.length-1)&&(i+=";"),i+=r):i=r,t.setAttribute("style",i)},getStyleValue:function(t,e){var n=t.getAttribute("style");if(!n||0===n.length)return null;var i=n.split(";");if(!i)return null;for(var r=null,o=i.length-1;o>=0;o--){var a=i[o].split(":");if(a&&2==a.length)if(a[0].trim()===e){r=a[1].trim();break}}return r},createImageElement:function(t,e){var n=u.default("<img/>");return e&&n.attr(e),n.on("error",l.default.bind((function(){this.revokeObjectURL(t)}),this)),n.attr("src",t),n},renameCssClassesAndIds:function(t,e){return t=this.renameCssClasses(t,e),t=this.renameIds(t,e)},renameCssClasses:function(t,e){var n,i,r,o,s,u,c=this.extractStyleFromSvg(t),d=this.extractClassesFromSvg(t),h=null;c&&d&&(h=this.matchCssClasses(c[2]));var f=function(t){return t.original+t.newOne};if(h&&h.length>0){var p=l.default.uniq(h),g=new Array,m=new Set;try{for(var v=a(p),y=v.next();!y.done;y=v.next()){var _=y.value,b=_.indexOf("{")===_.length-1,T=new RegExp("[.|{|,]","gi"),S=_.replace(T,"").replace(" ","")+"-"+e,w=f(x={original:_,newOne:b?"."+S+"{":"."+S+","});m.has(w)||(g.push(x),m.add(w))}}catch(t){n={error:t}}finally{try{y&&!y.done&&(i=v.return)&&i.call(v)}finally{if(n)throw n.error}}try{for(var E=a(d),C=E.next();!C.done;C=E.next()){var O=C.value,A=O.replace("class=","").replace('"',"").replace('"',"").split(" ");w=f(x={original:O,newOne:'class="'+(A=this.formatClasses(A,e)).join(" ")+'"'});m.has(w)||(g.push(x),m.add(w))}}catch(t){r={error:t}}finally{try{C&&!C.done&&(o=E.return)&&o.call(E)}finally{if(r)throw r.error}}try{for(var P=a(g),I=P.next();!I.done;I=P.next()){var x=I.value;t=t.replaceAll(x.original,x.newOne)}}catch(t){s={error:t}}finally{try{I&&!I.done&&(u=P.return)&&u.call(P)}finally{if(s)throw s.error}}}return t},formatClasses:function(t,e){for(var n=0;n<t.length;n++){var i=t[n].indexOf("cerosgradient")>-1;t[n]=i?t[n]:t[n]+"-"+e}return t},renameIds:function(t,e){var n=this.matchIds(t);if(n)for(var i=l.default.uniq(n),r=0;r<i.length;r++){var o=i[r].replace("id=","").replace(/\"/gi,""),a=""+o+e,s=new RegExp('id=\\"'+o+'\\"',"gi");t=t.replace(s,'id="'+a+'"');var u=new RegExp('begin=\\"(.+)?'+o+"\\.","gi");t=t.replace(u,'begin="$1'+a+".");var c=new RegExp('end=\\"'+o+"\\.","gi");t=t.replace(c,'end="'+a+".");var d=new RegExp('xlink:href=\\"#'+o+'\\"',"gi");t=t.replace(d,'xlink:href="#'+a+'"');var h=new RegExp("url\\(\\&quot\\;#"+o+"\\&quot\\;\\)","gi");t=t.replace(h,"url(&quot;#"+a+"&quot;");var f=new RegExp(o+"\\)","gi");t=t.replace(f,a+")")}return t},extractClassesFromSvg:function(t){return t.match(/class=\"([^"]*)\"/g)},extractStyleFromSvg:function(t){return t.match(/<style(.+)?>([\s\S]+?)<\/style>/)},matchCssClasses:function(t){return t.match(/(\.(?![^{]*})([\w+\-]+?)(\s+)?[\{|(\,])/g)},matchIds:function(t){var e=new RegExp('id=\\"?([a-zA-Z][\\w|\\:|\\.|\\-]*)\\"?',"gi");return t.match(e)},colorToGradient:function(t){return{angle:0,stops:[{color:t},{color:t}]}},preventXss:function(t){var e=/\b(on\w+=[\w|\(|\)|\'|\"| ]+)[ |\>|\/]/i,n=t.match(e);if(n){for(;n;)n=(t=t.replace(n[1]," ")).match(e);t=t.replace(/\s\s+/g," ").replace(" >",">")}return t},fetchSvg:function(t,e){var n=this;t.startsWith("http://")&&(t="https"+t.substring("http".length)),u.default.ajax({type:"GET",url:t,dataType:"text",cache:!0,success:function(t){t=n.preventXss(t),e.resolve(t)},error:function(){e.reject()}})}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(3));e.default=r.default.extend({events:{},unregisteredHandlers:{},registerEvents:function(t,e){r.default.each(t,r.default.bind((function(t){this.events[t]=e,this.unregisteredHandlers[t]&&(r.default.each(this.unregisteredHandlers[t],r.default.bind((function(e){this.on(t,e)}),this)),this.unregisteredHandlers[t]=null)}),this))}},o.default.Events)},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(2)),o=i(n(0)),a=i(n(3)),s=null,u=a.default.Model.extend({defaults:{top:null,bottom:null,windowWidth:null,windowHeight:null},validPositionProperties:["top","bottom","windowWidth","windowHeight"],setPositionData:function(t){var e=o.default.pick(t,this.validPositionProperties);this.set(e)},getTop:function(){return this.get("top")},getBottom:function(){return this.get("bottom")},getWindowWidth:function(){return this.get("windowWidth")},getWindowHeight:function(){return this.get("windowHeight")},getVerticalCenterOfVisibleArea:function(t){var e=Math.max(this.getTop(),0);return(Math.min(this.getBottom(),t)-e)/2+e},getEmbedContextDimensions:function(){var t=this.getWindowWidth(),e=this.getWindowHeight();return r.default.allowAdaptiveLayouts&&!1===o.default.isNull(t)&&!1===o.default.isNull(e)?{width:t,height:e}:{width:window.innerWidth,height:window.innerHeight}},isActive:function(){return null!==this.get("top")&&null!==this.get("bottom")}},{getInstance:function(){return s||(s=new u),s}});e.default=u},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=function(t,e,n,i){var o=parseFloat(i);return(r.default.isUndefined(i)||r.default.isNaN(o))&&(o=1),null!==t&&(this.r=parseInt(t,10)),null!==e&&(this.g=parseInt(e,10)),null!==n&&(this.b=parseInt(n,10)),this.a=o,this};o.prototype={toHex:function(){var t;return null===this.r||null===this.g||null===this.b?"transparent":(t=(this.b|this.g<<8|this.r<<16).toString(16),(t="#"+"000000".substr(0,6-t.length)+t).toUpperCase())},isTransparent:function(){return!this.a},set:function(t){return r.default.each(t,r.default.bind((function(t,e){this[e]=t}),this)),this},hsv:function(){var t={h:0,s:0,v:0},e=this.r/255,n=this.g/255,i=this.b/255,r=Math.min(e,Math.min(n,i)),o=Math.max(e,Math.max(n,i));if(r==o)return t.v=r,t;var a=e==r?n-i:i==r?e-n:i-e,s=e==r?3:i==r?1:5;return t.h=60*(s-a/(o-r)),t.s=(o-r)/o,t.v=o,t},rgb:function(){return{r:this.r,g:this.g,b:this.b}},rgba:function(){return{r:this.r,g:this.g,b:this.b,a:this.a}},cmyk:function(){var t={c:0,m:0,y:0,k:0},e=this.r/255,n=this.g/255,i=this.b/255;return t.k=Math.min(1-e,1-n,1-i),t.c=(1-e-t.k)/(1-t.k),t.m=(1-n-t.k)/(1-t.k),t.y=(1-i-t.k)/(1-t.k),isNaN(t.c)&&(t.c=0),isNaN(t.m)&&(t.m=0),isNaN(t.y)&&(t.y=0),t.c=Math.round(100*t.c),t.m=Math.round(100*t.m),t.y=Math.round(100*t.y),t.k=Math.round(100*t.k),t},contrastRatio:function(t){t=o.fromString(t);var e=this.relativeLuminance(),n=t.relativeLuminance();if(e<n){var i=e;e=n,n=i}return(e+.05)/(n+.05)},relativeLuminance:function(){var t=function(t){return t<.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)};return.2126*t(this.r/255)+.7152*t(this.g/255)+.0722*t(this.b/255)},clone:function(){return new o(this.r,this.g,this.b,this.a)},cloneWithAlpha:function(t){var e=this.clone();return e.a=t,e},toString:function(){return null!==this.r&&null!==this.g&&null!==this.b?null!==this.a&&1!==this.a?"rgba("+this.r+", "+this.g+", "+this.b+", "+this.a+")":this.toHex():"transparent"},toValue:function(){return[this.r,this.g,this.b,this.a]}},o.fromHex=function(t){var e,n,i;return"#"===t[0]&&(t=t.substring(1,7)),3===t.length&&(t=t.charAt(0)+t.charAt(0)+t.charAt(1)+t.charAt(1)+t.charAt(2)+t.charAt(2)),i=parseInt(t.substring(0,2),16),n=parseInt(t.substring(2,4),16),e=parseInt(t.substring(4,6),16),new o(i,n,e)},o.fromHSV=function(t,e,n){var i,a,s,u,l,c,d,h;if(r.default.isObject(t)&&(e=t.s,n=t.v,t=t.h),0===e)return c=d=h=n,new o(255*c,255*d,255*h);switch(s=n*(1-e),u=n*(1-e*(a=(t/=60)-(i=Math.floor(t)))),l=n*(1-e*(1-a)),i){case 0:c=n,d=l,h=s;break;case 1:c=u,d=n,h=s;break;case 2:c=s,d=n,h=l;break;case 3:c=s,d=u,h=n;break;case 4:c=l,d=s,h=n;break;default:c=n,d=s,h=u}return new o(255*c,255*d,255*h)},o.fromCMYK=function(t,e,n,i){r.default.isObject(t)&&(e=t.m,n=t.y,i=t.k,t=t.c);var a=o.Black();return t/=100,e/=100,n/=100,i/=100,a.r=1-Math.min(1,t*(1-i)+i),a.g=1-Math.min(1,e*(1-i)+i),a.b=1-Math.min(1,n*(1-i)+i),a.r=Math.round(255*a.r),a.g=Math.round(255*a.g),a.b=Math.round(255*a.b),a},o.fromString=function(t){var e,n,i,r,a,s,u;if(t instanceof o)return t;var l=t.match(this.regex);return l?(a=l[1],s=l[2],a?o.fromHex(a):s?(e=(u=s.split(/\s*,\s*/))[0],n=u[1],i=u[2],r=u[3],new o(e,n,i,r)):void 0):null},o.regex=/(?:#([0-9a-f]{3,6})|rgba?\(([^)]+)\))/i,o.buildStops=function(t){return r.default.map(t,(function(t){return o.fromString(t.color)+" "+parseInt(100*t.stop,10)+"%"})).join(",")},o.White=function(t){return new o(255,255,255,t)},o.Black=function(t){return new o(0,0,0,t)},o.Transparent=function(){return new o},o.getMostContrasting=function(t,e,n){return t=o.fromString(t),e=o.fromString(e),n=o.fromString(n),t.contrastRatio(e)>t.contrastRatio(n)?e:n},window.Color=o,e.default=o},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(17)),a=i(n(4)),s=i(n(27));e.default={CONSTANTS:{DEFAULT_VECTOR_IMAGE_MAX_DIM_SIZE:100},calculateWidthForDevicePixelRatio:function(t){return t*a.default.pixelRatio()},calculateDimensions:function(t,e,n,i){var r;if(s.default.isVectorBased(t)){var a=i?this.CONSTANTS.DEFAULT_VECTOR_IMAGE_MAX_DIM_SIZE:Math.min(e,n);r=o.default.scaleBoxToMaxDimension(e,n,a)}else r={width:Math.round(e/2),height:Math.round(n/2)};return r},shouldConstrainImageSize:function(t,e,n,i){return!!(s.default.isVectorBased(t)&&i||s.default.isVectorBased(t)&&(!e||!n))||!s.default.isVectorBased(t)},base64toBlob:function(t,e,n){e=r.default.isString(e)?e:"",n=r.default.isNumber(n)?n:512;for(var i=atob(t),o=[],a=0;a<i.length;a+=n){for(var s=i.slice(a,a+n),u=new Array(s.length),l=0;l<s.length;l++)u[l]=s.charCodeAt(l);var c=new Uint8Array(u);o.push(c)}return new Blob(o,{type:e})},createFileFromBase64:function(t,e,n){return new File([this.base64toBlob(t)],e,{type:n})},isBase64EncodedImage:function(t){return"data:image"===t.slice(0,10)},encodedSvgStringAsBase64:function(t){return"url('data:image/svg+xml;base64,"+(t=btoa(t.trim()))+"')"},getScaleValueFromFlip:function(t){return{scaleXValue:t.flipHorizontal?-1:1,scaleYValue:t.flipVertical?-1:1}}}},function(t,e,n){"use strict";(function(e){
/**
 * @license
 * Video.js 7.10.2 <http://videojs.com/>
 * Copyright Brightcove, Inc. <https://www.brightcove.com/>
 * Available under Apache License Version 2.0
 * <https://github.com/videojs/video.js/blob/master/LICENSE>
 *
 * Includes vtt.js <https://github.com/mozilla/vtt.js>
 * Available under Apache License Version 2.0
 * <https://github.com/mozilla/vtt.js/blob/master/LICENSE>
 */
t.exports=function(t,n){t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n;var i=[],r=function e(n){var r,o="info",a=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];r("log",o,e)};return r=function(e,n){return function(r,o,a){var s=n.levels[o],u=new RegExp("^("+s+")$");if("log"!==r&&a.unshift(r.toUpperCase()+":"),a.unshift(e+":"),i){i.push([].concat(a));var l=i.length-1e3;i.splice(0,l>0?l:0)}if(t.console){var c=t.console[r];c||"debug"!==r||(c=t.console.info||t.console.log),c&&s&&u.test(r)&&c[Array.isArray(a)?"apply":"call"](t.console,a)}}}(n,a),a.createLogger=function(t){return e(n+": "+t)},a.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:o},a.level=function(t){if("string"==typeof t){if(!a.levels.hasOwnProperty(t))throw new Error('"'+t+'" in not a valid log level');o=t}return o},(a.history=function(){return i?[].concat(i):[]}).filter=function(t){return(i||[]).filter((function(e){return new RegExp(".*"+t+".*").test(e[0])}))},a.history.clear=function(){i&&(i.length=0)},a.history.disable=function(){null!==i&&(i.length=0,i=null)},a.history.enable=function(){null===i&&(i=[])},a.error=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return r("error",o,e)},a.warn=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return r("warn",o,e)},a.debug=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return r("debug",o,e)},a}("VIDEOJS"),o=r.createLogger;function a(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function s(t,e){return t(e={exports:{}},e.exports),e.exports}var u=s((function(t){function e(){return t.exports=e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},e.apply(this,arguments)}t.exports=e})),l=Object.prototype.toString,c=function(t){return f(t)?Object.keys(t):[]};function d(t,e){c(t).forEach((function(n){return e(t[n],n)}))}function h(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return Object.assign?u.apply(void 0,[t].concat(n)):(n.forEach((function(e){e&&d(e,(function(e,n){t[n]=e}))})),t)}function f(t){return!!t&&"object"==typeof t}function p(t){return f(t)&&"[object Object]"===l.call(t)&&t.constructor===Object}function g(e,n){if(!e||!n)return"";if("function"==typeof t.getComputedStyle){var i=t.getComputedStyle(e);return i?i.getPropertyValue(n)||i[n]:""}return""}function m(t){return"string"==typeof t&&Boolean(t.trim())}function v(t){if(t.indexOf(" ")>=0)throw new Error("class has illegal whitespace characters")}function y(){return n===t.document}function _(t){return f(t)&&1===t.nodeType}function b(){try{return t.parent!==t.self}catch(t){return!0}}function T(t){return function(e,i){if(!m(e))return n[t](null);m(i)&&(i=n.querySelector(i));var r=_(i)?i:n;return r[t]&&r[t](e)}}function S(t,e,i,o){void 0===t&&(t="div"),void 0===e&&(e={}),void 0===i&&(i={});var a=n.createElement(t);return Object.getOwnPropertyNames(e).forEach((function(t){var n=e[t];-1!==t.indexOf("aria-")||"role"===t||"type"===t?(r.warn("Setting attributes in the second argument of createEl()\nhas been deprecated. Use the third argument instead.\ncreateEl(type, properties, attributes). Attempting to set "+t+" to "+n+"."),a.setAttribute(t,n)):"textContent"===t?w(a,n):a[t]!==n&&(a[t]=n)})),Object.getOwnPropertyNames(i).forEach((function(t){a.setAttribute(t,i[t])})),o&&H(a,o),a}function w(t,e){return void 0===t.textContent?t.innerText=e:t.textContent=e,t}function E(t,e){e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}function C(t,e){return v(e),t.classList?t.classList.contains(e):(n=e,new RegExp("(^|\\s)"+n+"($|\\s)")).test(t.className);var n}function O(t,e){return t.classList?t.classList.add(e):C(t,e)||(t.className=(t.className+" "+e).trim()),t}function A(t,e){return t.classList?t.classList.remove(e):(v(e),t.className=t.className.split(/\s+/).filter((function(t){return t!==e})).join(" ")),t}function P(t,e,n){var i=C(t,e);if("function"==typeof n&&(n=n(t,e)),"boolean"!=typeof n&&(n=!i),n!==i)return n?O(t,e):A(t,e),t}function I(t,e){Object.getOwnPropertyNames(e).forEach((function(n){var i=e[n];null==i||!1===i?t.removeAttribute(n):t.setAttribute(n,!0===i?"":i)}))}function x(t){var e={},n=",autoplay,controls,playsinline,loop,muted,default,defaultMuted,";if(t&&t.attributes&&t.attributes.length>0)for(var i=t.attributes,r=i.length-1;r>=0;r--){var o=i[r].name,a=i[r].value;"boolean"!=typeof t[o]&&-1===n.indexOf(","+o+",")||(a=null!==a),e[o]=a}return e}function M(t,e){return t.getAttribute(e)}function k(t,e,n){t.setAttribute(e,n)}function D(t,e){t.removeAttribute(e)}function R(){n.body.focus(),n.onselectstart=function(){return!1}}function N(){n.onselectstart=function(){return!0}}function L(t){if(t&&t.getBoundingClientRect&&t.parentNode){var e=t.getBoundingClientRect(),n={};return["bottom","height","left","right","top","width"].forEach((function(t){void 0!==e[t]&&(n[t]=e[t])})),n.height||(n.height=parseFloat(g(t,"height"))),n.width||(n.width=parseFloat(g(t,"width"))),n}}function F(t){if(!t||t&&!t.offsetParent)return{left:0,top:0,width:0,height:0};var e=t.offsetWidth,n=t.offsetHeight,i=0,r=0;do{i+=t.offsetLeft,r+=t.offsetTop,t=t.offsetParent}while(t);return{left:i,top:r,width:e,height:n}}function V(t,e){var n={},i=F(e.target),r=F(t),o=r.width,a=r.height,s=e.offsetY-(r.top-i.top),u=e.offsetX-(r.left-i.left);return e.changedTouches&&(u=e.changedTouches[0].pageX-r.left,s=e.changedTouches[0].pageY+r.top),n.y=1-Math.max(0,Math.min(1,s/a)),n.x=Math.max(0,Math.min(1,u/o)),n}function j(t){return f(t)&&3===t.nodeType}function U(t){for(;t.firstChild;)t.removeChild(t.firstChild);return t}function B(t){return"function"==typeof t&&(t=t()),(Array.isArray(t)?t:[t]).map((function(t){return"function"==typeof t&&(t=t()),_(t)||j(t)?t:"string"==typeof t&&/\S/.test(t)?n.createTextNode(t):void 0})).filter((function(t){return t}))}function H(t,e){return B(e).forEach((function(e){return t.appendChild(e)})),t}function G(t,e){return H(U(t),e)}function W(t){return void 0===t.button&&void 0===t.buttons||0===t.button&&void 0===t.buttons||"mouseup"===t.type&&0===t.button&&0===t.buttons||0===t.button&&1===t.buttons}var z,$=T("querySelector"),Y=T("querySelectorAll"),q=Object.freeze({__proto__:null,isReal:y,isEl:_,isInFrame:b,createEl:S,textContent:w,prependTo:E,hasClass:C,addClass:O,removeClass:A,toggleClass:P,setAttributes:I,getAttributes:x,getAttribute:M,setAttribute:k,removeAttribute:D,blockTextSelection:R,unblockTextSelection:N,getBoundingClientRect:L,findPosition:F,getPointerPosition:V,isTextNode:j,emptyEl:U,normalizeContent:B,appendContent:H,insertContent:G,isSingleLeftClick:W,$:$,$$:Y}),X=!1,K=function(){if(y()&&!1!==z.options.autoSetup){var t=Array.prototype.slice.call(n.getElementsByTagName("video")),e=Array.prototype.slice.call(n.getElementsByTagName("audio")),i=Array.prototype.slice.call(n.getElementsByTagName("video-js")),r=t.concat(e,i);if(r&&r.length>0)for(var o=0,a=r.length;o<a;o++){var s=r[o];if(!s||!s.getAttribute){Z(1);break}void 0===s.player&&null!==s.getAttribute("data-setup")&&z(s)}else X||Z(1)}};function Z(e,n){n&&(z=n),t.setTimeout(K,e)}function J(){X=!0,t.removeEventListener("load",J)}y()&&("complete"===n.readyState?J():t.addEventListener("load",J));var Q,tt=function(t){var e=n.createElement("style");return e.className=t,e},et=function(t,e){t.styleSheet?t.styleSheet.cssText=e:t.textContent=e},nt=3;function it(){return nt++}t.WeakMap||(Q=function(){function e(){this.vdata="vdata"+Math.floor(t.performance&&t.performance.now()||Date.now()),this.data={}}var n=e.prototype;return n.set=function(t,e){var n=t[this.vdata]||it();return t[this.vdata]||(t[this.vdata]=n),this.data[n]=e,this},n.get=function(t){var e=t[this.vdata];if(e)return this.data[e];r("We have no data for this element",t)},n.has=function(t){return t[this.vdata]in this.data},n.delete=function(t){var e=t[this.vdata];e&&(delete this.data[e],delete t[this.vdata])},e}());var rt,ot=t.WeakMap?new WeakMap:new Q;function at(t,e){if(ot.has(t)){var n=ot.get(t);0===n.handlers[e].length&&(delete n.handlers[e],t.removeEventListener?t.removeEventListener(e,n.dispatcher,!1):t.detachEvent&&t.detachEvent("on"+e,n.dispatcher)),Object.getOwnPropertyNames(n.handlers).length<=0&&(delete n.handlers,delete n.dispatcher,delete n.disabled),0===Object.getOwnPropertyNames(n).length&&ot.delete(t)}}function st(t,e,n,i){n.forEach((function(n){t(e,n,i)}))}function ut(e){if(e.fixed_)return e;function i(){return!0}function r(){return!1}if(!e||!e.isPropagationStopped){var o=e||t.event;for(var a in e={},o)"layerX"!==a&&"layerY"!==a&&"keyLocation"!==a&&"webkitMovementX"!==a&&"webkitMovementY"!==a&&("returnValue"===a&&o.preventDefault||(e[a]=o[a]));if(e.target||(e.target=e.srcElement||n),e.relatedTarget||(e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement),e.preventDefault=function(){o.preventDefault&&o.preventDefault(),e.returnValue=!1,o.returnValue=!1,e.defaultPrevented=!0},e.defaultPrevented=!1,e.stopPropagation=function(){o.stopPropagation&&o.stopPropagation(),e.cancelBubble=!0,o.cancelBubble=!0,e.isPropagationStopped=i},e.isPropagationStopped=r,e.stopImmediatePropagation=function(){o.stopImmediatePropagation&&o.stopImmediatePropagation(),e.isImmediatePropagationStopped=i,e.stopPropagation()},e.isImmediatePropagationStopped=r,null!==e.clientX&&void 0!==e.clientX){var s=n.documentElement,u=n.body;e.pageX=e.clientX+(s&&s.scrollLeft||u&&u.scrollLeft||0)-(s&&s.clientLeft||u&&u.clientLeft||0),e.pageY=e.clientY+(s&&s.scrollTop||u&&u.scrollTop||0)-(s&&s.clientTop||u&&u.clientTop||0)}e.which=e.charCode||e.keyCode,null!==e.button&&void 0!==e.button&&(e.button=1&e.button?0:4&e.button?1:2&e.button?2:0)}return e.fixed_=!0,e}var lt=["touchstart","touchmove"];function ct(e,n,i){if(Array.isArray(n))return st(ct,e,n,i);ot.has(e)||ot.set(e,{});var o=ot.get(e);if(o.handlers||(o.handlers={}),o.handlers[n]||(o.handlers[n]=[]),i.guid||(i.guid=it()),o.handlers[n].push(i),o.dispatcher||(o.disabled=!1,o.dispatcher=function(t,n){if(!o.disabled){t=ut(t);var i=o.handlers[t.type];if(i)for(var a=i.slice(0),s=0,u=a.length;s<u&&!t.isImmediatePropagationStopped();s++)try{a[s].call(e,t,n)}catch(t){r.error(t)}}}),1===o.handlers[n].length)if(e.addEventListener){var a=!1;(function(){if("boolean"!=typeof rt){rt=!1;try{var e=Object.defineProperty({},"passive",{get:function(){rt=!0}});t.addEventListener("test",null,e),t.removeEventListener("test",null,e)}catch(t){}}return rt})()&&lt.indexOf(n)>-1&&(a={passive:!0}),e.addEventListener(n,o.dispatcher,a)}else e.attachEvent&&e.attachEvent("on"+n,o.dispatcher)}function dt(t,e,n){if(ot.has(t)){var i=ot.get(t);if(i.handlers){if(Array.isArray(e))return st(dt,t,e,n);var r=function(t,e){i.handlers[e]=[],at(t,e)};if(void 0!==e){var o=i.handlers[e];if(o)if(n){if(n.guid)for(var a=0;a<o.length;a++)o[a].guid===n.guid&&o.splice(a--,1);at(t,e)}else r(t,e)}else for(var s in i.handlers)Object.prototype.hasOwnProperty.call(i.handlers||{},s)&&r(t,s)}}}function ht(t,e,n){var i=ot.has(t)?ot.get(t):{},r=t.parentNode||t.ownerDocument;if("string"==typeof e?e={type:e,target:t}:e.target||(e.target=t),e=ut(e),i.dispatcher&&i.dispatcher.call(t,e,n),r&&!e.isPropagationStopped()&&!0===e.bubbles)ht.call(null,r,e,n);else if(!r&&!e.defaultPrevented&&e.target&&e.target[e.type]){ot.has(e.target)||ot.set(e.target,{});var o=ot.get(e.target);e.target[e.type]&&(o.disabled=!0,"function"==typeof e.target[e.type]&&e.target[e.type](),o.disabled=!1)}return!e.defaultPrevented}function ft(t,e,n){if(Array.isArray(e))return st(ft,t,e,n);var i=function i(){dt(t,e,i),n.apply(this,arguments)};i.guid=n.guid=n.guid||it(),ct(t,e,i)}function pt(t,e,n){var i=function i(){dt(t,e,i),n.apply(this,arguments)};i.guid=n.guid=n.guid||it(),ct(t,e,i)}var gt,mt=Object.freeze({__proto__:null,fixEvent:ut,on:ct,off:dt,trigger:ht,one:ft,any:pt}),vt=function(t,e,n){e.guid||(e.guid=it());var i=e.bind(t);return i.guid=n?n+"_"+e.guid:e.guid,i},yt=function(e,n){var i=t.performance.now();return function(){var r=t.performance.now();r-i>=n&&(e.apply(void 0,arguments),i=r)}},_t=function(){};_t.prototype.allowedEvents_={},_t.prototype.on=function(t,e){var n=this.addEventListener;this.addEventListener=function(){},ct(this,t,e),this.addEventListener=n},_t.prototype.addEventListener=_t.prototype.on,_t.prototype.off=function(t,e){dt(this,t,e)},_t.prototype.removeEventListener=_t.prototype.off,_t.prototype.one=function(t,e){var n=this.addEventListener;this.addEventListener=function(){},ft(this,t,e),this.addEventListener=n},_t.prototype.any=function(t,e){var n=this.addEventListener;this.addEventListener=function(){},pt(this,t,e),this.addEventListener=n},_t.prototype.trigger=function(t){var e=t.type||t;"string"==typeof t&&(t={type:e}),t=ut(t),this.allowedEvents_[e]&&this["on"+e]&&this["on"+e](t),ht(this,t)},_t.prototype.dispatchEvent=_t.prototype.trigger,_t.prototype.queueTrigger=function(e){var n=this;gt||(gt=new Map);var i=e.type||e,r=gt.get(this);r||(r=new Map,gt.set(this,r));var o=r.get(i);r.delete(i),t.clearTimeout(o);var a=t.setTimeout((function(){0===r.size&&(r=null,gt.delete(n)),n.trigger(e)}),0);r.set(i,a)};var bt=function(t){return t instanceof _t||!!t.eventBusEl_&&["on","one","off","trigger"].every((function(e){return"function"==typeof t[e]}))},Tt=function(t){return"string"==typeof t&&/\S/.test(t)||Array.isArray(t)&&!!t.length},St=function(t){if(!t.nodeName&&!bt(t))throw new Error("Invalid target; must be a DOM node or evented object.")},wt=function(t){if(!Tt(t))throw new Error("Invalid event type; must be a non-empty string or array.")},Et=function(t){if("function"!=typeof t)throw new Error("Invalid listener; must be a function.")},Ct=function(t,e){var n,i,r,o=e.length<3||e[0]===t||e[0]===t.eventBusEl_;return o?(n=t.eventBusEl_,e.length>=3&&e.shift(),i=e[0],r=e[1]):(n=e[0],i=e[1],r=e[2]),St(n),wt(i),Et(r),{isTargetingSelf:o,target:n,type:i,listener:r=vt(t,r)}},Ot=function(t,e,n,i){St(t),t.nodeName?mt[e](t,n,i):t[e](n,i)},At={on:function(){for(var t=this,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var r=Ct(this,n),o=r.isTargetingSelf,a=r.target,s=r.type,u=r.listener;if(Ot(a,"on",s,u),!o){var l=function(){return t.off(a,s,u)};l.guid=u.guid;var c=function(){return t.off("dispose",l)};c.guid=u.guid,Ot(this,"on","dispose",l),Ot(a,"on","dispose",c)}},one:function(){for(var t=this,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var r=Ct(this,n),o=r.isTargetingSelf,a=r.target,s=r.type,u=r.listener;if(o)Ot(a,"one",s,u);else{var l=function e(){t.off(a,s,e);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];u.apply(null,i)};l.guid=u.guid,Ot(a,"one",s,l)}},any:function(){for(var t=this,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var r=Ct(this,n),o=r.isTargetingSelf,a=r.target,s=r.type,u=r.listener;if(o)Ot(a,"any",s,u);else{var l=function e(){t.off(a,s,e);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];u.apply(null,i)};l.guid=u.guid,Ot(a,"any",s,l)}},off:function(t,e,n){if(!t||Tt(t))dt(this.eventBusEl_,t,e);else{var i=t,r=e;St(i),wt(r),Et(n),n=vt(this,n),this.off("dispose",n),i.nodeName?(dt(i,r,n),dt(i,"dispose",n)):bt(i)&&(i.off(r,n),i.off("dispose",n))}},trigger:function(t,e){return ht(this.eventBusEl_,t,e)}};function Pt(e,n){void 0===n&&(n={});var i=n.eventBusKey;if(i){if(!e[i].nodeName)throw new Error('The eventBusKey "'+i+'" does not refer to an element.');e.eventBusEl_=e[i]}else e.eventBusEl_=S("span",{className:"vjs-event-bus"});return h(e,At),e.eventedCallbacks&&e.eventedCallbacks.forEach((function(t){t()})),e.on("dispose",(function(){e.off(),t.setTimeout((function(){e.eventBusEl_=null}),0)})),e}var It={state:{},setState:function(t){var e,n=this;return"function"==typeof t&&(t=t()),d(t,(function(t,i){n.state[i]!==t&&((e=e||{})[i]={from:n.state[i],to:t}),n.state[i]=t})),e&&bt(this)&&this.trigger({changes:e,type:"statechanged"}),e}};function xt(t,e){return h(t,It),t.state=h({},t.state,e),"function"==typeof t.handleStateChanged&&bt(t)&&t.on("statechanged",t.handleStateChanged),t}var Mt=function(t){return"string"!=typeof t?t:t.replace(/./,(function(t){return t.toLowerCase()}))},kt=function(t){return"string"!=typeof t?t:t.replace(/./,(function(t){return t.toUpperCase()}))};function Dt(){for(var t={},e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return n.forEach((function(e){e&&d(e,(function(e,n){p(e)?(p(t[n])||(t[n]={}),t[n]=Dt(t[n],e)):t[n]=e}))})),t}var Rt=function(){function t(){this.map_={}}var e=t.prototype;return e.has=function(t){return t in this.map_},e.delete=function(t){var e=this.has(t);return delete this.map_[t],e},e.set=function(t,e){return this.set_[t]=e,this},e.forEach=function(t,e){for(var n in this.map_)t.call(e,this.map_[n],n,this)},t}(),Nt=t.Map?t.Map:Rt,Lt=function(){function t(){this.set_={}}var e=t.prototype;return e.has=function(t){return t in this.set_},e.delete=function(t){var e=this.has(t);return delete this.set_[t],e},e.add=function(t){return this.set_[t]=1,this},e.forEach=function(t,e){for(var n in this.set_)t.call(e,n,n,this)},t}(),Ft=t.Set?t.Set:Lt,Vt=function(){function e(t,e,n){if(!t&&this.play?this.player_=t=this:this.player_=t,this.isDisposed_=!1,this.parentComponent_=null,this.options_=Dt({},this.options_),e=this.options_=Dt(this.options_,e),this.id_=e.id||e.el&&e.el.id,!this.id_){var i=t&&t.id&&t.id()||"no_player";this.id_=i+"_component_"+it()}this.name_=e.name||null,e.el?this.el_=e.el:!1!==e.createEl&&(this.el_=this.createEl()),!1!==e.evented&&Pt(this,{eventBusKey:this.el_?"el_":null}),xt(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new Ft,this.setIntervalIds_=new Ft,this.rafIds_=new Ft,this.namedRafs_=new Nt,this.clearingTimersOnDispose_=!1,!1!==e.initChildren&&this.initChildren(),this.ready(n),!1!==e.reportTouchActivity&&this.enableTouchActivity()}var n=e.prototype;return n.dispose=function(){if(!this.isDisposed_){if(this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(var t=this.children_.length-1;t>=0;t--)this.children_[t].dispose&&this.children_[t].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),ot.has(this.el_)&&ot.delete(this.el_),this.el_=null),this.player_=null}},n.isDisposed=function(){return Boolean(this.isDisposed_)},n.player=function(){return this.player_},n.options=function(t){return t?(this.options_=Dt(this.options_,t),this.options_):this.options_},n.el=function(){return this.el_},n.createEl=function(t,e,n){return S(t,e,n)},n.localize=function(t,e,n){void 0===n&&(n=t);var i=this.player_.language&&this.player_.language(),r=this.player_.languages&&this.player_.languages(),o=r&&r[i],a=i&&i.split("-")[0],s=r&&r[a],u=n;return o&&o[t]?u=o[t]:s&&s[t]&&(u=s[t]),e&&(u=u.replace(/\{(\d+)\}/g,(function(t,n){var i=e[n-1],r=i;return void 0===i&&(r=t),r}))),u},n.contentEl=function(){return this.contentEl_||this.el_},n.id=function(){return this.id_},n.name=function(){return this.name_},n.children=function(){return this.children_},n.getChildById=function(t){return this.childIndex_[t]},n.getChild=function(t){if(t)return this.childNameIndex_[t]},n.getDescendant=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e=e.reduce((function(t,e){return t.concat(e)}),[]);for(var i=this,r=0;r<e.length;r++)if(!(i=i.getChild(e[r]))||!i.getChild)return;return i},n.addChild=function(t,n,i){var r,o;if(void 0===n&&(n={}),void 0===i&&(i=this.children_.length),"string"==typeof t){o=kt(t);var a=n.componentClass||o;n.name=o;var s=e.getComponent(a);if(!s)throw new Error("Component "+a+" does not exist");if("function"!=typeof s)return null;r=new s(this.player_||this,n)}else r=t;if(r.parentComponent_&&r.parentComponent_.removeChild(r),this.children_.splice(i,0,r),r.parentComponent_=this,"function"==typeof r.id&&(this.childIndex_[r.id()]=r),(o=o||r.name&&kt(r.name()))&&(this.childNameIndex_[o]=r,this.childNameIndex_[Mt(o)]=r),"function"==typeof r.el&&r.el()){var u=null;this.children_[i+1]&&(this.children_[i+1].el_?u=this.children_[i+1].el_:_(this.children_[i+1])&&(u=this.children_[i+1])),this.contentEl().insertBefore(r.el(),u)}return r},n.removeChild=function(t){if("string"==typeof t&&(t=this.getChild(t)),t&&this.children_){for(var e=!1,n=this.children_.length-1;n>=0;n--)if(this.children_[n]===t){e=!0,this.children_.splice(n,1);break}if(e){t.parentComponent_=null,this.childIndex_[t.id()]=null,this.childNameIndex_[kt(t.name())]=null,this.childNameIndex_[Mt(t.name())]=null;var i=t.el();i&&i.parentNode===this.contentEl()&&this.contentEl().removeChild(t.el())}}},n.initChildren=function(){var t=this,n=this.options_.children;if(n){var i,r=this.options_,o=e.getComponent("Tech");(i=Array.isArray(n)?n:Object.keys(n)).concat(Object.keys(this.options_).filter((function(t){return!i.some((function(e){return"string"==typeof e?t===e:t===e.name}))}))).map((function(e){var i,r;return"string"==typeof e?r=n[i=e]||t.options_[i]||{}:(i=e.name,r=e),{name:i,opts:r}})).filter((function(t){var n=e.getComponent(t.opts.componentClass||kt(t.name));return n&&!o.isTech(n)})).forEach((function(e){var n=e.name,i=e.opts;if(void 0!==r[n]&&(i=r[n]),!1!==i){!0===i&&(i={}),i.playerOptions=t.options_.playerOptions;var o=t.addChild(n,i);o&&(t[n]=o)}}))}},n.buildCSSClass=function(){return""},n.ready=function(t,e){if(void 0===e&&(e=!1),t)return this.isReady_?void(e?t.call(this):this.setTimeout(t,1)):(this.readyQueue_=this.readyQueue_||[],void this.readyQueue_.push(t))},n.triggerReady=function(){this.isReady_=!0,this.setTimeout((function(){var t=this.readyQueue_;this.readyQueue_=[],t&&t.length>0&&t.forEach((function(t){t.call(this)}),this),this.trigger("ready")}),1)},n.$=function(t,e){return $(t,e||this.contentEl())},n.$$=function(t,e){return Y(t,e||this.contentEl())},n.hasClass=function(t){return C(this.el_,t)},n.addClass=function(t){O(this.el_,t)},n.removeClass=function(t){A(this.el_,t)},n.toggleClass=function(t,e){P(this.el_,t,e)},n.show=function(){this.removeClass("vjs-hidden")},n.hide=function(){this.addClass("vjs-hidden")},n.lockShowing=function(){this.addClass("vjs-lock-showing")},n.unlockShowing=function(){this.removeClass("vjs-lock-showing")},n.getAttribute=function(t){return M(this.el_,t)},n.setAttribute=function(t,e){k(this.el_,t,e)},n.removeAttribute=function(t){D(this.el_,t)},n.width=function(t,e){return this.dimension("width",t,e)},n.height=function(t,e){return this.dimension("height",t,e)},n.dimensions=function(t,e){this.width(t,!0),this.height(e)},n.dimension=function(t,e,n){if(void 0!==e)return null!==e&&e==e||(e=0),-1!==(""+e).indexOf("%")||-1!==(""+e).indexOf("px")?this.el_.style[t]=e:this.el_.style[t]="auto"===e?"":e+"px",void(n||this.trigger("componentresize"));if(!this.el_)return 0;var i=this.el_.style[t],r=i.indexOf("px");return-1!==r?parseInt(i.slice(0,r),10):parseInt(this.el_["offset"+kt(t)],10)},n.currentDimension=function(t){var e=0;if("width"!==t&&"height"!==t)throw new Error("currentDimension only accepts width or height value");if(e=g(this.el_,t),0===(e=parseFloat(e))||isNaN(e)){var n="offset"+kt(t);e=this.el_[n]}return e},n.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},n.currentWidth=function(){return this.currentDimension("width")},n.currentHeight=function(){return this.currentDimension("height")},n.focus=function(){this.el_.focus()},n.blur=function(){this.el_.blur()},n.handleKeyDown=function(t){this.player_&&(t.stopPropagation(),this.player_.handleKeyDown(t))},n.handleKeyPress=function(t){this.handleKeyDown(t)},n.emitTapEvents=function(){var e,n=0,i=null;this.on("touchstart",(function(r){1===r.touches.length&&(i={pageX:r.touches[0].pageX,pageY:r.touches[0].pageY},n=t.performance.now(),e=!0)})),this.on("touchmove",(function(t){if(t.touches.length>1)e=!1;else if(i){var n=t.touches[0].pageX-i.pageX,r=t.touches[0].pageY-i.pageY;Math.sqrt(n*n+r*r)>10&&(e=!1)}}));var r=function(){e=!1};this.on("touchleave",r),this.on("touchcancel",r),this.on("touchend",(function(r){i=null,!0===e&&t.performance.now()-n<200&&(r.preventDefault(),this.trigger("tap"))}))},n.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var t,e=vt(this.player(),this.player().reportUserActivity);this.on("touchstart",(function(){e(),this.clearInterval(t),t=this.setInterval(e,250)}));var n=function(n){e(),this.clearInterval(t)};this.on("touchmove",e),this.on("touchend",n),this.on("touchcancel",n)}},n.setTimeout=function(e,n){var i,r=this;return e=vt(this,e),this.clearTimersOnDispose_(),i=t.setTimeout((function(){r.setTimeoutIds_.has(i)&&r.setTimeoutIds_.delete(i),e()}),n),this.setTimeoutIds_.add(i),i},n.clearTimeout=function(e){return this.setTimeoutIds_.has(e)&&(this.setTimeoutIds_.delete(e),t.clearTimeout(e)),e},n.setInterval=function(e,n){e=vt(this,e),this.clearTimersOnDispose_();var i=t.setInterval(e,n);return this.setIntervalIds_.add(i),i},n.clearInterval=function(e){return this.setIntervalIds_.has(e)&&(this.setIntervalIds_.delete(e),t.clearInterval(e)),e},n.requestAnimationFrame=function(e){var n,i=this;return this.supportsRaf_?(this.clearTimersOnDispose_(),e=vt(this,e),n=t.requestAnimationFrame((function(){i.rafIds_.has(n)&&i.rafIds_.delete(n),e()})),this.rafIds_.add(n),n):this.setTimeout(e,1e3/60)},n.requestNamedAnimationFrame=function(t,e){var n=this;if(!this.namedRafs_.has(t)){this.clearTimersOnDispose_(),e=vt(this,e);var i=this.requestAnimationFrame((function(){e(),n.namedRafs_.has(t)&&n.namedRafs_.delete(t)}));return this.namedRafs_.set(t,i),t}},n.cancelNamedAnimationFrame=function(t){this.namedRafs_.has(t)&&(this.cancelAnimationFrame(this.namedRafs_.get(t)),this.namedRafs_.delete(t))},n.cancelAnimationFrame=function(e){return this.supportsRaf_?(this.rafIds_.has(e)&&(this.rafIds_.delete(e),t.cancelAnimationFrame(e)),e):this.clearTimeout(e)},n.clearTimersOnDispose_=function(){var t=this;this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",(function(){[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach((function(e){var n=e[0],i=e[1];t[n].forEach((function(e,n){return t[i](n)}))})),t.clearingTimersOnDispose_=!1})))},e.registerComponent=function(t,n){if("string"!=typeof t||!t)throw new Error('Illegal component name, "'+t+'"; must be a non-empty string.');var i,r=e.getComponent("Tech"),o=r&&r.isTech(n),a=e===n||e.prototype.isPrototypeOf(n.prototype);if(o||!a)throw i=o?"techs must be registered using Tech.registerTech()":"must be a Component subclass",new Error('Illegal component, "'+t+'"; '+i+".");t=kt(t),e.components_||(e.components_={});var s=e.getComponent("Player");if("Player"===t&&s&&s.players){var u=s.players,l=Object.keys(u);if(u&&l.length>0&&l.map((function(t){return u[t]})).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return e.components_[t]=n,e.components_[Mt(t)]=n,n},e.getComponent=function(t){if(t&&e.components_)return e.components_[t]},e}();Vt.prototype.supportsRaf_="function"==typeof t.requestAnimationFrame&&"function"==typeof t.cancelAnimationFrame,Vt.registerComponent("Component",Vt);var jt=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t};s((function(t){function e(n){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=e=function(t){return typeof t}:t.exports=e=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(n)}t.exports=e})),s((function(t){function e(n){return t.exports=e=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},e(n)}t.exports=e}));var Ut,Bt=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e},Ht=t.navigator&&t.navigator.userAgent||"",Gt=/AppleWebKit\/([\d.]+)/i.exec(Ht),Wt=Gt?parseFloat(Gt.pop()):null,zt=/iPod/i.test(Ht),$t=(Ut=Ht.match(/OS (\d+)_/i))&&Ut[1]?Ut[1]:null,Yt=/Android/i.test(Ht),qt=function(){var t=Ht.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!t)return null;var e=t[1]&&parseFloat(t[1]),n=t[2]&&parseFloat(t[2]);return e&&n?parseFloat(t[1]+"."+t[2]):e||null}(),Xt=Yt&&qt<5&&Wt<537,Kt=/Firefox/i.test(Ht),Zt=/Edg/i.test(Ht),Jt=!Zt&&(/Chrome/i.test(Ht)||/CriOS/i.test(Ht)),Qt=function(){var t=Ht.match(/(Chrome|CriOS)\/(\d+)/);return t&&t[2]?parseFloat(t[2]):null}(),te=function(){var t=/MSIE\s(\d+)\.\d/.exec(Ht),e=t&&parseFloat(t[1]);return!e&&/Trident\/7.0/i.test(Ht)&&/rv:11.0/.test(Ht)&&(e=11),e}(),ee=/Safari/i.test(Ht)&&!Jt&&!Yt&&!Zt,ne=/Windows/i.test(Ht),ie=y()&&("ontouchstart"in t||t.navigator.maxTouchPoints||t.DocumentTouch&&t.document instanceof t.DocumentTouch),re=/iPad/i.test(Ht)||ee&&ie&&!/iPhone/i.test(Ht),oe=/iPhone/i.test(Ht)&&!re,ae=oe||re||zt,se=(ee||ae)&&!Jt,ue=Object.freeze({__proto__:null,IS_IPOD:zt,IOS_VERSION:$t,IS_ANDROID:Yt,ANDROID_VERSION:qt,IS_NATIVE_ANDROID:Xt,IS_FIREFOX:Kt,IS_EDGE:Zt,IS_CHROME:Jt,CHROME_VERSION:Qt,IE_VERSION:te,IS_SAFARI:ee,IS_WINDOWS:ne,TOUCH_ENABLED:ie,IS_IPAD:re,IS_IPHONE:oe,IS_IOS:ae,IS_ANY_SAFARI:se});function le(t,e,n,i){return function(t,e,n){if("number"!=typeof e||e<0||e>n)throw new Error("Failed to execute '"+t+"' on 'TimeRanges': The index provided ("+e+") is non-numeric or out of bounds (0-"+n+").")}(t,i,n.length-1),n[i][e]}function ce(t){return void 0===t||0===t.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:t.length,start:le.bind(null,"start",0,t),end:le.bind(null,"end",1,t)}}function de(t,e){return Array.isArray(t)?ce(t):void 0===t||void 0===e?ce():ce([[t,e]])}function he(t,e){var n,i,r=0;if(!e)return 0;t&&t.length||(t=de(0,0));for(var o=0;o<t.length;o++)n=t.start(o),(i=t.end(o))>e&&(i=e),r+=i-n;return r/e}for(var fe,pe={prefixed:!0},ge=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"]],me=ge[0],ve=0;ve<ge.length;ve++)if(ge[ve][1]in n){fe=ge[ve];break}if(fe){for(var ye=0;ye<fe.length;ye++)pe[me[ye]]=fe[ye];pe.prefixed=fe[0]!==me[0]}function _e(t){if(t instanceof _e)return t;"number"==typeof t?this.code=t:"string"==typeof t?this.message=t:f(t)&&("number"==typeof t.code&&(this.code=t.code),h(this,t)),this.message||(this.message=_e.defaultMessages[this.code]||"")}_e.prototype.code=0,_e.prototype.message="",_e.prototype.status=null,_e.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],_e.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var be=0;be<_e.errorTypes.length;be++)_e[_e.errorTypes[be]]=be,_e.prototype[_e.errorTypes[be]]=be;var Te=function(t,e){var n,i=null;try{n=JSON.parse(t,e)}catch(t){i=t}return[i,n]};function Se(t){return null!=t&&"function"==typeof t.then}function we(t){Se(t)&&t.then(null,(function(t){}))}var Ee=function(t){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce((function(e,n,i){return t[n]&&(e[n]=t[n]),e}),{cues:t.cues&&Array.prototype.map.call(t.cues,(function(t){return{startTime:t.startTime,endTime:t.endTime,text:t.text,id:t.id}}))})},Ce=function(t){var e=t.$$("track"),n=Array.prototype.map.call(e,(function(t){return t.track}));return Array.prototype.map.call(e,(function(t){var e=Ee(t.track);return t.src&&(e.src=t.src),e})).concat(Array.prototype.filter.call(t.textTracks(),(function(t){return-1===n.indexOf(t)})).map(Ee))},Oe=function(t,e){return t.forEach((function(t){var n=e.addRemoteTextTrack(t).track;!t.src&&t.cues&&t.cues.forEach((function(t){return n.addCue(t)}))})),e.textTracks()},Ae=s((function(t,e){function n(t){if(t&&"object"==typeof t){var e=t.which||t.keyCode||t.charCode;e&&(t=e)}if("number"==typeof t)return a[t];var n,o=String(t);return(n=i[o.toLowerCase()])?n:(n=r[o.toLowerCase()])||(1===o.length?o.charCodeAt(0):void 0)}n.isEventKey=function(t,e){if(t&&"object"==typeof t){var n=t.which||t.keyCode||t.charCode;if(null==n)return!1;if("string"==typeof e){var o;if(o=i[e.toLowerCase()])return o===n;if(o=r[e.toLowerCase()])return o===n}else if("number"==typeof e)return e===n;return!1}};var i=(e=t.exports=n).code=e.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},r=e.aliases={windows:91,"⇧":16,"⌥":18,"⌃":17,"⌘":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};
/*!
     * Programatically add the following
     */
for(o=97;o<123;o++)i[String.fromCharCode(o)]=o-32;for(var o=48;o<58;o++)i[o-48]=o;for(o=1;o<13;o++)i["f"+o]=o+111;for(o=0;o<10;o++)i["numpad "+o]=o+96;var a=e.names=e.title={};for(o in i)a[i[o]]=o;for(var s in r)i[s]=r[s]})),Pe=(Ae.code,Ae.codes,Ae.aliases,Ae.names,Ae.title,function(e){function i(t,n){var i;return(i=e.call(this,t,n)||this).opened_=i.hasBeenOpened_=i.hasBeenFilled_=!1,i.closeable(!i.options_.uncloseable),i.content(i.options_.content),i.contentEl_=S("div",{className:"vjs-modal-dialog-content"},{role:"document"}),i.descEl_=S("p",{className:"vjs-modal-dialog-description vjs-control-text",id:i.el().getAttribute("aria-describedby")}),w(i.descEl_,i.description()),i.el_.appendChild(i.descEl_),i.el_.appendChild(i.contentEl_),i}Bt(i,e);var r=i.prototype;return r.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},r.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,e.prototype.dispose.call(this)},r.buildCSSClass=function(){return"vjs-modal-dialog vjs-hidden "+e.prototype.buildCSSClass.call(this)},r.label=function(){return this.localize(this.options_.label||"Modal Window")},r.description=function(){var t=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(t+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),t},r.open=function(){if(!this.opened_){var t=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!t.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&t.pause(),this.on("keydown",this.handleKeyDown),this.hadControls_=t.controls(),t.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},r.opened=function(t){return"boolean"==typeof t&&this[t?"open":"close"](),this.opened_},r.close=function(){if(this.opened_){var t=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&t.play(),this.off("keydown",this.handleKeyDown),this.hadControls_&&t.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},r.closeable=function(t){if("boolean"==typeof t){var e=this.closeable_=!!t,n=this.getChild("closeButton");if(e&&!n){var i=this.contentEl_;this.contentEl_=this.el_,n=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=i,this.on(n,"close",this.close)}!e&&n&&(this.off(n,"close",this.close),this.removeChild(n),n.dispose())}return this.closeable_},r.fill=function(){this.fillWith(this.content())},r.fillWith=function(t){var e=this.contentEl(),n=e.parentNode,i=e.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,n.removeChild(e),this.empty(),G(e,t),this.trigger("modalfill"),i?n.insertBefore(e,i):n.appendChild(e);var r=this.getChild("closeButton");r&&n.appendChild(r.el_)},r.empty=function(){this.trigger("beforemodalempty"),U(this.contentEl()),this.trigger("modalempty")},r.content=function(t){return void 0!==t&&(this.content_=t),this.content_},r.conditionalFocus_=function(){var t=n.activeElement,e=this.player_.el_;this.previouslyActiveEl_=null,(e.contains(t)||e===t)&&(this.previouslyActiveEl_=t,this.focus())},r.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)},r.handleKeyDown=function(t){if(t.stopPropagation(),Ae.isEventKey(t,"Escape")&&this.closeable())return t.preventDefault(),void this.close();if(Ae.isEventKey(t,"Tab")){for(var e,i=this.focusableEls_(),r=this.el_.querySelector(":focus"),o=0;o<i.length;o++)if(r===i[o]){e=o;break}n.activeElement===this.el_&&(e=0),t.shiftKey&&0===e?(i[i.length-1].focus(),t.preventDefault()):t.shiftKey||e!==i.length-1||(i[0].focus(),t.preventDefault())}},r.focusableEls_=function(){var e=this.el_.querySelectorAll("*");return Array.prototype.filter.call(e,(function(e){return(e instanceof t.HTMLAnchorElement||e instanceof t.HTMLAreaElement)&&e.hasAttribute("href")||(e instanceof t.HTMLInputElement||e instanceof t.HTMLSelectElement||e instanceof t.HTMLTextAreaElement||e instanceof t.HTMLButtonElement)&&!e.hasAttribute("disabled")||e instanceof t.HTMLIFrameElement||e instanceof t.HTMLObjectElement||e instanceof t.HTMLEmbedElement||e.hasAttribute("tabindex")&&-1!==e.getAttribute("tabindex")||e.hasAttribute("contenteditable")}))},i}(Vt));Pe.prototype.options_={pauseOnOpen:!0,temporary:!0},Vt.registerComponent("ModalDialog",Pe);var Ie=function(t){function e(e){var n;void 0===e&&(e=[]),(n=t.call(this)||this).tracks_=[],Object.defineProperty(jt(n),"length",{get:function(){return this.tracks_.length}});for(var i=0;i<e.length;i++)n.addTrack(e[i]);return n}Bt(e,t);var n=e.prototype;return n.addTrack=function(t){var e=this.tracks_.length;""+e in this||Object.defineProperty(this,e,{get:function(){return this.tracks_[e]}}),-1===this.tracks_.indexOf(t)&&(this.tracks_.push(t),this.trigger({track:t,type:"addtrack",target:this}))},n.removeTrack=function(t){for(var e,n=0,i=this.length;n<i;n++)if(this[n]===t){(e=this[n]).off&&e.off(),this.tracks_.splice(n,1);break}e&&this.trigger({track:e,type:"removetrack",target:this})},n.getTrackById=function(t){for(var e=null,n=0,i=this.length;n<i;n++){var r=this[n];if(r.id===t){e=r;break}}return e},e}(_t);for(var xe in Ie.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack"},Ie.prototype.allowedEvents_)Ie.prototype["on"+xe]=null;var Me=function(t,e){for(var n=0;n<t.length;n++)Object.keys(t[n]).length&&e.id!==t[n].id&&(t[n].enabled=!1)},ke=function(t){function e(e){var n;void 0===e&&(e=[]);for(var i=e.length-1;i>=0;i--)if(e[i].enabled){Me(e,e[i]);break}return(n=t.call(this,e)||this).changing_=!1,n}Bt(e,t);var n=e.prototype;return n.addTrack=function(e){var n=this;e.enabled&&Me(this,e),t.prototype.addTrack.call(this,e),e.addEventListener&&(e.enabledChange_=function(){n.changing_||(n.changing_=!0,Me(n,e),n.changing_=!1,n.trigger("change"))},e.addEventListener("enabledchange",e.enabledChange_))},n.removeTrack=function(e){t.prototype.removeTrack.call(this,e),e.removeEventListener&&e.enabledChange_&&(e.removeEventListener("enabledchange",e.enabledChange_),e.enabledChange_=null)},e}(Ie),De=function(t,e){for(var n=0;n<t.length;n++)Object.keys(t[n]).length&&e.id!==t[n].id&&(t[n].selected=!1)},Re=function(t){function e(e){var n;void 0===e&&(e=[]);for(var i=e.length-1;i>=0;i--)if(e[i].selected){De(e,e[i]);break}return(n=t.call(this,e)||this).changing_=!1,Object.defineProperty(jt(n),"selectedIndex",{get:function(){for(var t=0;t<this.length;t++)if(this[t].selected)return t;return-1},set:function(){}}),n}Bt(e,t);var n=e.prototype;return n.addTrack=function(e){var n=this;e.selected&&De(this,e),t.prototype.addTrack.call(this,e),e.addEventListener&&(e.selectedChange_=function(){n.changing_||(n.changing_=!0,De(n,e),n.changing_=!1,n.trigger("change"))},e.addEventListener("selectedchange",e.selectedChange_))},n.removeTrack=function(e){t.prototype.removeTrack.call(this,e),e.removeEventListener&&e.selectedChange_&&(e.removeEventListener("selectedchange",e.selectedChange_),e.selectedChange_=null)},e}(Ie),Ne=function(t){function e(){return t.apply(this,arguments)||this}Bt(e,t);var n=e.prototype;return n.addTrack=function(e){var n=this;t.prototype.addTrack.call(this,e),this.queueChange_||(this.queueChange_=function(){return n.queueTrigger("change")}),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=function(){return n.trigger("selectedlanguagechange")}),e.addEventListener("modechange",this.queueChange_),-1===["metadata","chapters"].indexOf(e.kind)&&e.addEventListener("modechange",this.triggerSelectedlanguagechange_)},n.removeTrack=function(e){t.prototype.removeTrack.call(this,e),e.removeEventListener&&(this.queueChange_&&e.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&e.removeEventListener("modechange",this.triggerSelectedlanguagechange_))},e}(Ie),Le=function(){function t(t){void 0===t&&(t=[]),this.trackElements_=[],Object.defineProperty(this,"length",{get:function(){return this.trackElements_.length}});for(var e=0,n=t.length;e<n;e++)this.addTrackElement_(t[e])}var e=t.prototype;return e.addTrackElement_=function(t){var e=this.trackElements_.length;""+e in this||Object.defineProperty(this,e,{get:function(){return this.trackElements_[e]}}),-1===this.trackElements_.indexOf(t)&&this.trackElements_.push(t)},e.getTrackElementByTrack_=function(t){for(var e,n=0,i=this.trackElements_.length;n<i;n++)if(t===this.trackElements_[n].track){e=this.trackElements_[n];break}return e},e.removeTrackElement_=function(t){for(var e=0,n=this.trackElements_.length;e<n;e++)if(t===this.trackElements_[e]){this.trackElements_[e].track&&"function"==typeof this.trackElements_[e].track.off&&this.trackElements_[e].track.off(),"function"==typeof this.trackElements_[e].off&&this.trackElements_[e].off(),this.trackElements_.splice(e,1);break}},t}(),Fe=function(){function t(e){t.prototype.setCues_.call(this,e),Object.defineProperty(this,"length",{get:function(){return this.length_}})}var e=t.prototype;return e.setCues_=function(t){var e=this.length||0,n=0,i=t.length;this.cues_=t,this.length_=t.length;var r=function(t){""+t in this||Object.defineProperty(this,""+t,{get:function(){return this.cues_[t]}})};if(e<i)for(n=e;n<i;n++)r.call(this,n)},e.getCueById=function(t){for(var e=null,n=0,i=this.length;n<i;n++){var r=this[n];if(r.id===t){e=r;break}}return e},t}(),Ve={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},je={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},Ue={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},Be={disabled:"disabled",hidden:"hidden",showing:"showing"},He=function(t){function e(e){var n;void 0===e&&(e={}),n=t.call(this)||this;var i={id:e.id||"vjs_track_"+it(),kind:e.kind||"",label:e.label||"",language:e.language||""},r=function(t){Object.defineProperty(jt(n),t,{get:function(){return i[t]},set:function(){}})};for(var o in i)r(o);return n}return Bt(e,t),e}(_t),Ge=function(e){var i=["protocol","hostname","port","pathname","search","hash","host"],r=n.createElement("a");r.href=e;var o,a=""===r.host&&"file:"!==r.protocol;a&&((o=n.createElement("div")).innerHTML='<a href="'+e+'"></a>',r=o.firstChild,o.setAttribute("style","display:none; position:absolute;"),n.body.appendChild(o));for(var s={},u=0;u<i.length;u++)s[i[u]]=r[i[u]];return"http:"===s.protocol&&(s.host=s.host.replace(/:80$/,"")),"https:"===s.protocol&&(s.host=s.host.replace(/:443$/,"")),s.protocol||(s.protocol=t.location.protocol),a&&n.body.removeChild(o),s},We=function(t){if(!t.match(/^https?:\/\//)){var e=n.createElement("div");e.innerHTML='<a href="'+t+'">x</a>',t=e.firstChild.href}return t},ze=function(t){if("string"==typeof t){var e=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/.exec(t);if(e)return e.pop().toLowerCase()}return""},$e=function(e,n){void 0===n&&(n=t.location);var i=Ge(e);return(":"===i.protocol?n.protocol:i.protocol)+i.host!==n.protocol+n.host},Ye=Object.freeze({__proto__:null,parseUrl:Ge,getAbsoluteURL:We,getFileExtension:ze,isCrossOrigin:$e}),qe=function(t){var e=Xe.call(t);return"[object Function]"===e||"function"==typeof t&&"[object RegExp]"!==e||"undefined"!=typeof window&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)}
/**
     * @license
     * slighly modified parse-headers 2.0.2 <https://github.com/kesla/parse-headers/>
     * Copyright (c) 2014 David Björklund
     * Available under the MIT license
     * <https://github.com/kesla/parse-headers/blob/master/LICENCE>
     */,Xe=Object.prototype.toString,Ke=Qe,Ze=Qe;function Je(t,e,n){var i=t;return qe(e)?(n=e,"string"==typeof t&&(i={uri:t})):i=u({},e,{uri:t}),i.callback=n,i}function Qe(t,e,n){return tn(e=Je(t,e,n))}function tn(t){if(void 0===t.callback)throw new Error("callback argument missing");var e=!1,n=function(n,i,r){e||(e=!0,t.callback(n,i,r))};function i(){var t=void 0;if(t=u.response?u.response:u.responseText||function(t){try{if("document"===t.responseType)return t.responseXML;var e=t.responseXML&&"parsererror"===t.responseXML.documentElement.nodeName;if(""===t.responseType&&!e)return t.responseXML}catch(t){}return null}(u),g)try{t=JSON.parse(t)}catch(t){}return t}function r(t){return clearTimeout(l),t instanceof Error||(t=new Error(""+(t||"Unknown XMLHttpRequest Error"))),t.statusCode=0,n(t,m)}function o(){if(!s){var e;clearTimeout(l),e=t.useXDR&&void 0===u.status?200:1223===u.status?204:u.status;var r=m,o=null;return 0!==e?(r={body:i(),statusCode:e,method:d,headers:{},url:c,rawRequest:u},u.getAllResponseHeaders&&(r.headers=function(t){var e={};return t?(t.trim().split("\n").forEach((function(t){var n=t.indexOf(":"),i=t.slice(0,n).trim().toLowerCase(),r=t.slice(n+1).trim();void 0===e[i]?e[i]=r:Array.isArray(e[i])?e[i].push(r):e[i]=[e[i],r]})),e):e}(u.getAllResponseHeaders()))):o=new Error("Internal XMLHttpRequest Error"),n(o,r,r.body)}}var a,s,u=t.xhr||null;u||(u=t.cors||t.useXDR?new Qe.XDomainRequest:new Qe.XMLHttpRequest);var l,c=u.url=t.uri||t.url,d=u.method=t.method||"GET",h=t.body||t.data,f=u.headers=t.headers||{},p=!!t.sync,g=!1,m={body:void 0,headers:{},statusCode:0,method:d,url:c,rawRequest:u};if("json"in t&&!1!==t.json&&(g=!0,f.accept||f.Accept||(f.Accept="application/json"),"GET"!==d&&"HEAD"!==d&&(f["content-type"]||f["Content-Type"]||(f["Content-Type"]="application/json"),h=JSON.stringify(!0===t.json?h:t.json))),u.onreadystatechange=function(){4===u.readyState&&setTimeout(o,0)},u.onload=o,u.onerror=r,u.onprogress=function(){},u.onabort=function(){s=!0},u.ontimeout=r,u.open(d,c,!p,t.username,t.password),p||(u.withCredentials=!!t.withCredentials),!p&&t.timeout>0&&(l=setTimeout((function(){if(!s){s=!0,u.abort("timeout");var t=new Error("XMLHttpRequest timeout");t.code="ETIMEDOUT",r(t)}}),t.timeout)),u.setRequestHeader)for(a in f)f.hasOwnProperty(a)&&u.setRequestHeader(a,f[a]);else if(t.headers&&!function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}(t.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(u.responseType=t.responseType),"beforeSend"in t&&"function"==typeof t.beforeSend&&t.beforeSend(u),u.send(h||null),u}Qe.XMLHttpRequest=t.XMLHttpRequest||function(){},Qe.XDomainRequest="withCredentials"in new Qe.XMLHttpRequest?Qe.XMLHttpRequest:t.XDomainRequest,function(t,e){for(var n=0;n<t.length;n++)e(t[n])}(["get","put","post","patch","head","delete"],(function(t){Qe["delete"===t?"del":t]=function(e,n,i){return(n=Je(e,n,i)).method=t.toUpperCase(),tn(n)}})),Ke.default=Ze;var en=function(e,n){var i=new t.WebVTT.Parser(t,t.vttjs,t.WebVTT.StringDecoder()),o=[];i.oncue=function(t){n.addCue(t)},i.onparsingerror=function(t){o.push(t)},i.onflush=function(){n.trigger({type:"loadeddata",target:n})},i.parse(e),o.length>0&&(t.console&&t.console.groupCollapsed&&t.console.groupCollapsed("Text Track parsing errors for "+n.src),o.forEach((function(t){return r.error(t)})),t.console&&t.console.groupEnd&&t.console.groupEnd()),i.flush()},nn=function(e,n){var i={uri:e},o=$e(e);o&&(i.cors=o);var a="use-credentials"===n.tech_.crossOrigin();a&&(i.withCredentials=a),Ke(i,vt(this,(function(e,i,o){if(e)return r.error(e,i);n.loaded_=!0,"function"!=typeof t.WebVTT?n.tech_&&n.tech_.any(["vttjsloaded","vttjserror"],(function(t){if("vttjserror"!==t.type)return en(o,n);r.error("vttjs failed to load, stopping trying to process "+n.src)})):en(o,n)})))},rn=function(e){function n(t){var n;if(void 0===t&&(t={}),!t.tech)throw new Error("A tech was not provided.");var i=Dt(t,{kind:Ue[t.kind]||"subtitles",language:t.language||t.srclang||""}),r=Be[i.mode]||"disabled",o=i.default;"metadata"!==i.kind&&"chapters"!==i.kind||(r="hidden"),(n=e.call(this,i)||this).tech_=i.tech,n.cues_=[],n.activeCues_=[],n.preload_=!1!==n.tech_.preloadTextTracks;var a=new Fe(n.cues_),s=new Fe(n.activeCues_),u=!1,l=vt(jt(n),(function(){this.activeCues=this.activeCues,u&&(this.trigger("cuechange"),u=!1)}));return"disabled"!==r&&n.tech_.ready((function(){n.tech_.on("timeupdate",l)}),!0),Object.defineProperties(jt(n),{default:{get:function(){return o},set:function(){}},mode:{get:function(){return r},set:function(t){var e=this;Be[t]&&(r=t,this.preload_||"disabled"===r||0!==this.cues.length||nn(this.src,this),"disabled"!==r?this.tech_.ready((function(){e.tech_.on("timeupdate",l)}),!0):this.tech_.off("timeupdate",l),this.trigger("modechange"))}},cues:{get:function(){return this.loaded_?a:null},set:function(){}},activeCues:{get:function(){if(!this.loaded_)return null;if(0===this.cues.length)return s;for(var t=this.tech_.currentTime(),e=[],n=0,i=this.cues.length;n<i;n++){var r=this.cues[n];(r.startTime<=t&&r.endTime>=t||r.startTime===r.endTime&&r.startTime<=t&&r.startTime+.5>=t)&&e.push(r)}if(u=!1,e.length!==this.activeCues_.length)u=!0;else for(var o=0;o<e.length;o++)-1===this.activeCues_.indexOf(e[o])&&(u=!0);return this.activeCues_=e,s.setCues_(this.activeCues_),s},set:function(){}}}),i.src?(n.src=i.src,n.preload_||(n.loaded_=!0),(n.preload_||o||"subtitles"!==i.kind&&"captions"!==i.kind)&&nn(n.src,jt(n))):n.loaded_=!0,n}Bt(n,e);var i=n.prototype;return i.addCue=function(e){var n=e;if(t.vttjs&&!(e instanceof t.vttjs.VTTCue)){for(var i in n=new t.vttjs.VTTCue(e.startTime,e.endTime,e.text),e)i in n||(n[i]=e[i]);n.id=e.id,n.originalCue_=e}for(var r=this.tech_.textTracks(),o=0;o<r.length;o++)r[o]!==this&&r[o].removeCue(n);this.cues_.push(n),this.cues.setCues_(this.cues_)},i.removeCue=function(t){for(var e=this.cues_.length;e--;){var n=this.cues_[e];if(n===t||n.originalCue_&&n.originalCue_===t){this.cues_.splice(e,1),this.cues.setCues_(this.cues_);break}}},n}(He);rn.prototype.allowedEvents_={cuechange:"cuechange"};var on=function(t){function e(e){var n;void 0===e&&(e={});var i=Dt(e,{kind:je[e.kind]||""});n=t.call(this,i)||this;var r=!1;return Object.defineProperty(jt(n),"enabled",{get:function(){return r},set:function(t){"boolean"==typeof t&&t!==r&&(r=t,this.trigger("enabledchange"))}}),i.enabled&&(n.enabled=i.enabled),n.loaded_=!0,n}return Bt(e,t),e}(He),an=function(t){function e(e){var n;void 0===e&&(e={});var i=Dt(e,{kind:Ve[e.kind]||""});n=t.call(this,i)||this;var r=!1;return Object.defineProperty(jt(n),"selected",{get:function(){return r},set:function(t){"boolean"==typeof t&&t!==r&&(r=t,this.trigger("selectedchange"))}}),i.selected&&(n.selected=i.selected),n}return Bt(e,t),e}(He),sn=function(t){function e(e){var n,i;void 0===e&&(e={}),n=t.call(this)||this;var r=new rn(e);return n.kind=r.kind,n.src=r.src,n.srclang=r.language,n.label=r.label,n.default=r.default,Object.defineProperties(jt(n),{readyState:{get:function(){return i}},track:{get:function(){return r}}}),i=0,r.addEventListener("loadeddata",(function(){i=2,n.trigger({type:"load",target:jt(n)})})),n}return Bt(e,t),e}(_t);sn.prototype.allowedEvents_={load:"load"},sn.NONE=0,sn.LOADING=1,sn.LOADED=2,sn.ERROR=3;var un={audio:{ListClass:ke,TrackClass:on,capitalName:"Audio"},video:{ListClass:Re,TrackClass:an,capitalName:"Video"},text:{ListClass:Ne,TrackClass:rn,capitalName:"Text"}};Object.keys(un).forEach((function(t){un[t].getterName=t+"Tracks",un[t].privateName=t+"Tracks_"}));var ln={remoteText:{ListClass:Ne,TrackClass:rn,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:Le,TrackClass:sn,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},cn=u({},un,ln);ln.names=Object.keys(ln),un.names=Object.keys(un),cn.names=[].concat(ln.names).concat(un.names);var dn=Object.create||function(){function t(){}return function(e){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return t.prototype=e,new t}}();function hn(t,e){this.name="ParsingError",this.code=t.code,this.message=e||t.message}function fn(t){function e(t,e,n,i){return 3600*(0|t)+60*(0|e)+(0|n)+(0|i)/1e3}var n=t.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return n?n[3]?e(n[1],n[2],n[3].replace(":",""),n[4]):n[1]>59?e(n[1],n[2],0,n[4]):e(0,n[1],n[2],n[4]):null}function pn(){this.values=dn(null)}function gn(t,e,n,i){var r=i?t.split(i):[t];for(var o in r)if("string"==typeof r[o]){var a=r[o].split(n);2===a.length&&e(a[0],a[1])}}function mn(t,e,n){var i=t;function r(){var e=fn(t);if(null===e)throw new hn(hn.Errors.BadTimeStamp,"Malformed timestamp: "+i);return t=t.replace(/^[^\sa-zA-Z-]+/,""),e}function o(){t=t.replace(/^\s+/,"")}if(o(),e.startTime=r(),o(),"--\x3e"!==t.substr(0,3))throw new hn(hn.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+i);t=t.substr(3),o(),e.endTime=r(),o(),function(t,e){var i=new pn;gn(t,(function(t,e){switch(t){case"region":for(var r=n.length-1;r>=0;r--)if(n[r].id===e){i.set(t,n[r].region);break}break;case"vertical":i.alt(t,e,["rl","lr"]);break;case"line":var o=e.split(","),a=o[0];i.integer(t,a),i.percent(t,a)&&i.set("snapToLines",!1),i.alt(t,a,["auto"]),2===o.length&&i.alt("lineAlign",o[1],["start","center","end"]);break;case"position":o=e.split(","),i.percent(t,o[0]),2===o.length&&i.alt("positionAlign",o[1],["start","center","end"]);break;case"size":i.percent(t,e);break;case"align":i.alt(t,e,["start","center","end","left","right"])}}),/:/,/\s/),e.region=i.get("region",null),e.vertical=i.get("vertical","");try{e.line=i.get("line","auto")}catch(t){}e.lineAlign=i.get("lineAlign","start"),e.snapToLines=i.get("snapToLines",!0),e.size=i.get("size",100);try{e.align=i.get("align","center")}catch(t){e.align=i.get("align","middle")}try{e.position=i.get("position","auto")}catch(t){e.position=i.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},e.align)}e.positionAlign=i.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},e.align)}(t,e)}hn.prototype=dn(Error.prototype),hn.prototype.constructor=hn,hn.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},pn.prototype={set:function(t,e){this.get(t)||""===e||(this.values[t]=e)},get:function(t,e,n){return n?this.has(t)?this.values[t]:e[n]:this.has(t)?this.values[t]:e},has:function(t){return t in this.values},alt:function(t,e,n){for(var i=0;i<n.length;++i)if(e===n[i]){this.set(t,e);break}},integer:function(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))},percent:function(t,e){return!!(e.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(e=parseFloat(e))>=0&&e<=100)&&(this.set(t,e),!0)}};var vn=n.createElement("textarea"),yn={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},_n={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},bn={v:"title",lang:"lang"},Tn={rt:"ruby"};function Sn(t,e){function n(){if(!e)return null;var t,n=e.match(/^([^<]*)(<[^>]*>?)?/);return t=n[1]?n[1]:n[2],e=e.substr(t.length),t}function i(t,e){return!Tn[e.localName]||Tn[e.localName]===t.localName}function r(e,n){var i=yn[e];if(!i)return null;var r=t.document.createElement(i),o=bn[e];return o&&n&&(r[o]=n.trim()),r}for(var o,a,s=t.document.createElement("div"),u=s,l=[];null!==(o=n());)if("<"!==o[0])u.appendChild(t.document.createTextNode((a=o,vn.innerHTML=a,a=vn.textContent,vn.textContent="",a)));else{if("/"===o[1]){l.length&&l[l.length-1]===o.substr(2).replace(">","")&&(l.pop(),u=u.parentNode);continue}var c,d=fn(o.substr(1,o.length-2));if(d){c=t.document.createProcessingInstruction("timestamp",d),u.appendChild(c);continue}var h=o.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!h)continue;if(!(c=r(h[1],h[3])))continue;if(!i(u,c))continue;if(h[2]){var f=h[2].split(".");f.forEach((function(t){var e=/^bg_/.test(t),n=e?t.slice(3):t;if(_n.hasOwnProperty(n)){var i=e?"background-color":"color",r=_n[n];c.style[i]=r}})),c.className=f.join(" ")}l.push(h[1]),u.appendChild(c),u=c}return s}var wn=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function En(t){for(var e=0;e<wn.length;e++){var n=wn[e];if(t>=n[0]&&t<=n[1])return!0}return!1}function Cn(t){var e=[],n="";if(!t||!t.childNodes)return"ltr";function i(t,e){for(var n=e.childNodes.length-1;n>=0;n--)t.push(e.childNodes[n])}function r(t){if(!t||!t.length)return null;var e=t.pop(),n=e.textContent||e.innerText;if(n){var o=n.match(/^.*(\n|\r)/);return o?(t.length=0,o[0]):n}return"ruby"===e.tagName?r(t):e.childNodes?(i(t,e),r(t)):void 0}for(i(e,t);n=r(e);)for(var o=0;o<n.length;o++)if(En(n.charCodeAt(o)))return"rtl";return"ltr"}function On(){}function An(t,e,n){On.call(this),this.cue=e,this.cueDiv=Sn(t,e.text);var i={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:""===e.vertical?"horizontal-tb":"lr"===e.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(i,this.cueDiv),this.div=t.document.createElement("div"),i={direction:Cn(this.cueDiv),writingMode:""===e.vertical?"horizontal-tb":"lr"===e.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:"middle"===e.align?"center":e.align,font:n.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(i),this.div.appendChild(this.cueDiv);var r=0;switch(e.positionAlign){case"start":r=e.position;break;case"center":r=e.position-e.size/2;break;case"end":r=e.position-e.size}""===e.vertical?this.applyStyles({left:this.formatStyle(r,"%"),width:this.formatStyle(e.size,"%")}):this.applyStyles({top:this.formatStyle(r,"%"),height:this.formatStyle(e.size,"%")}),this.move=function(t){this.applyStyles({top:this.formatStyle(t.top,"px"),bottom:this.formatStyle(t.bottom,"px"),left:this.formatStyle(t.left,"px"),right:this.formatStyle(t.right,"px"),height:this.formatStyle(t.height,"px"),width:this.formatStyle(t.width,"px")})}}function Pn(t){var e,n,i,r;if(t.div){n=t.div.offsetHeight,i=t.div.offsetWidth,r=t.div.offsetTop;var o=(o=t.div.childNodes)&&(o=o[0])&&o.getClientRects&&o.getClientRects();t=t.div.getBoundingClientRect(),e=o?Math.max(o[0]&&o[0].height||0,t.height/o.length):0}this.left=t.left,this.right=t.right,this.top=t.top||r,this.height=t.height||n,this.bottom=t.bottom||r+(t.height||n),this.width=t.width||i,this.lineHeight=void 0!==e?e:t.lineHeight}function In(t,e,n,i){var r=new Pn(e),o=e.cue,a=function(t){if("number"==typeof t.line&&(t.snapToLines||t.line>=0&&t.line<=100))return t.line;if(!t.track||!t.track.textTrackList||!t.track.textTrackList.mediaElement)return-1;for(var e=t.track,n=e.textTrackList,i=0,r=0;r<n.length&&n[r]!==e;r++)"showing"===n[r].mode&&i++;return-1*++i}(o),s=[];if(o.snapToLines){var u;switch(o.vertical){case"":s=["+y","-y"],u="height";break;case"rl":s=["+x","-x"],u="width";break;case"lr":s=["-x","+x"],u="width"}var l=r.lineHeight,c=l*Math.round(a),d=n[u]+l,h=s[0];Math.abs(c)>d&&(c=c<0?-1:1,c*=Math.ceil(d/l)*l),a<0&&(c+=""===o.vertical?n.height:n.width,s=s.reverse()),r.move(h,c)}else{var f=r.lineHeight/n.height*100;switch(o.lineAlign){case"center":a-=f/2;break;case"end":a-=f}switch(o.vertical){case"":e.applyStyles({top:e.formatStyle(a,"%")});break;case"rl":e.applyStyles({left:e.formatStyle(a,"%")});break;case"lr":e.applyStyles({right:e.formatStyle(a,"%")})}s=["+y","-x","+x","-y"],r=new Pn(e)}var p=function(t,e){for(var r,o=new Pn(t),a=1,s=0;s<e.length;s++){for(;t.overlapsOppositeAxis(n,e[s])||t.within(n)&&t.overlapsAny(i);)t.move(e[s]);if(t.within(n))return t;var u=t.intersectPercentage(n);a>u&&(r=new Pn(t),a=u),t=new Pn(o)}return r||o}(r,s);e.move(p.toCSSCompatValues(n))}function xn(){}On.prototype.applyStyles=function(t,e){for(var n in e=e||this.div,t)t.hasOwnProperty(n)&&(e.style[n]=t[n])},On.prototype.formatStyle=function(t,e){return 0===t?0:t+e},An.prototype=dn(On.prototype),An.prototype.constructor=An,Pn.prototype.move=function(t,e){switch(e=void 0!==e?e:this.lineHeight,t){case"+x":this.left+=e,this.right+=e;break;case"-x":this.left-=e,this.right-=e;break;case"+y":this.top+=e,this.bottom+=e;break;case"-y":this.top-=e,this.bottom-=e}},Pn.prototype.overlaps=function(t){return this.left<t.right&&this.right>t.left&&this.top<t.bottom&&this.bottom>t.top},Pn.prototype.overlapsAny=function(t){for(var e=0;e<t.length;e++)if(this.overlaps(t[e]))return!0;return!1},Pn.prototype.within=function(t){return this.top>=t.top&&this.bottom<=t.bottom&&this.left>=t.left&&this.right<=t.right},Pn.prototype.overlapsOppositeAxis=function(t,e){switch(e){case"+x":return this.left<t.left;case"-x":return this.right>t.right;case"+y":return this.top<t.top;case"-y":return this.bottom>t.bottom}},Pn.prototype.intersectPercentage=function(t){return Math.max(0,Math.min(this.right,t.right)-Math.max(this.left,t.left))*Math.max(0,Math.min(this.bottom,t.bottom)-Math.max(this.top,t.top))/(this.height*this.width)},Pn.prototype.toCSSCompatValues=function(t){return{top:this.top-t.top,bottom:t.bottom-this.bottom,left:this.left-t.left,right:t.right-this.right,height:this.height,width:this.width}},Pn.getSimpleBoxPosition=function(t){var e=t.div?t.div.offsetHeight:t.tagName?t.offsetHeight:0,n=t.div?t.div.offsetWidth:t.tagName?t.offsetWidth:0,i=t.div?t.div.offsetTop:t.tagName?t.offsetTop:0;return{left:(t=t.div?t.div.getBoundingClientRect():t.tagName?t.getBoundingClientRect():t).left,right:t.right,top:t.top||i,height:t.height||e,bottom:t.bottom||i+(t.height||e),width:t.width||n}},xn.StringDecoder=function(){return{decode:function(t){if(!t)return"";if("string"!=typeof t)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}},xn.convertCueToDOMTree=function(t,e){return t&&e?Sn(t,e):null},xn.processCues=function(t,e,n){if(!t||!e||!n)return null;for(;n.firstChild;)n.removeChild(n.firstChild);var i=t.document.createElement("div");if(i.style.position="absolute",i.style.left="0",i.style.right="0",i.style.top="0",i.style.bottom="0",i.style.margin="1.5%",n.appendChild(i),function(t){for(var e=0;e<t.length;e++)if(t[e].hasBeenReset||!t[e].displayState)return!0;return!1}(e)){var r=[],o=Pn.getSimpleBoxPosition(i),a={font:Math.round(.05*o.height*100)/100+"px sans-serif"};!function(){for(var n,s,u=0;u<e.length;u++)s=e[u],n=new An(t,s,a),i.appendChild(n.div),In(0,n,o,r),s.displayState=n.div,r.push(Pn.getSimpleBoxPosition(n))}()}else for(var s=0;s<e.length;s++)i.appendChild(e[s].displayState)},xn.Parser=function(t,e,n){n||(n=e,e={}),e||(e={}),this.window=t,this.vttjs=e,this.state="INITIAL",this.buffer="",this.decoder=n||new TextDecoder("utf8"),this.regionList=[]},xn.Parser.prototype={reportOrThrowError:function(t){if(!(t instanceof hn))throw t;this.onparsingerror&&this.onparsingerror(t)},parse:function(t){var e=this;function n(){for(var t=e.buffer,n=0;n<t.length&&"\r"!==t[n]&&"\n"!==t[n];)++n;var i=t.substr(0,n);return"\r"===t[n]&&++n,"\n"===t[n]&&++n,e.buffer=t.substr(n),i}function i(t){t.match(/X-TIMESTAMP-MAP/)?gn(t,(function(t,n){switch(t){case"X-TIMESTAMP-MAP":!function(t){var n=new pn;gn(t,(function(t,e){switch(t){case"MPEGT":n.integer(t+"S",e);break;case"LOCA":n.set(t+"L",fn(e))}}),/[^\d]:/,/,/),e.ontimestampmap&&e.ontimestampmap({MPEGTS:n.get("MPEGTS"),LOCAL:n.get("LOCAL")})}(n)}}),/=/):gn(t,(function(t,n){switch(t){case"Region":!function(t){var n=new pn;if(gn(t,(function(t,e){switch(t){case"id":n.set(t,e);break;case"width":n.percent(t,e);break;case"lines":n.integer(t,e);break;case"regionanchor":case"viewportanchor":var i=e.split(",");if(2!==i.length)break;var r=new pn;if(r.percent("x",i[0]),r.percent("y",i[1]),!r.has("x")||!r.has("y"))break;n.set(t+"X",r.get("x")),n.set(t+"Y",r.get("y"));break;case"scroll":n.alt(t,e,["up"])}}),/=/,/\s/),n.has("id")){var i=new(e.vttjs.VTTRegion||e.window.VTTRegion);i.width=n.get("width",100),i.lines=n.get("lines",3),i.regionAnchorX=n.get("regionanchorX",0),i.regionAnchorY=n.get("regionanchorY",100),i.viewportAnchorX=n.get("viewportanchorX",0),i.viewportAnchorY=n.get("viewportanchorY",100),i.scroll=n.get("scroll",""),e.onregion&&e.onregion(i),e.regionList.push({id:n.get("id"),region:i})}}(n)}}),/:/)}t&&(e.buffer+=e.decoder.decode(t,{stream:!0}));try{var r;if("INITIAL"===e.state){if(!/\r\n|\n/.test(e.buffer))return this;var o=(r=n()).match(/^WEBVTT([ \t].*)?$/);if(!o||!o[0])throw new hn(hn.Errors.BadSignature);e.state="HEADER"}for(var a=!1;e.buffer;){if(!/\r\n|\n/.test(e.buffer))return this;switch(a?a=!1:r=n(),e.state){case"HEADER":/:/.test(r)?i(r):r||(e.state="ID");continue;case"NOTE":r||(e.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(r)){e.state="NOTE";break}if(!r)continue;e.cue=new(e.vttjs.VTTCue||e.window.VTTCue)(0,0,"");try{e.cue.align="center"}catch(t){e.cue.align="middle"}if(e.state="CUE",-1===r.indexOf("--\x3e")){e.cue.id=r;continue}case"CUE":try{mn(r,e.cue,e.regionList)}catch(t){e.reportOrThrowError(t),e.cue=null,e.state="BADCUE";continue}e.state="CUETEXT";continue;case"CUETEXT":var s=-1!==r.indexOf("--\x3e");if(!r||s&&(a=!0)){e.oncue&&e.oncue(e.cue),e.cue=null,e.state="ID";continue}e.cue.text&&(e.cue.text+="\n"),e.cue.text+=r.replace(/\u2028/g,"\n").replace(/u2029/g,"\n");continue;case"BADCUE":r||(e.state="ID");continue}}}catch(t){e.reportOrThrowError(t),"CUETEXT"===e.state&&e.cue&&e.oncue&&e.oncue(e.cue),e.cue=null,e.state="INITIAL"===e.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){try{if(this.buffer+=this.decoder.decode(),(this.cue||"HEADER"===this.state)&&(this.buffer+="\n\n",this.parse()),"INITIAL"===this.state)throw new hn(hn.Errors.BadSignature)}catch(t){this.reportOrThrowError(t)}return this.onflush&&this.onflush(),this}};var Mn=xn,kn={"":1,lr:1,rl:1},Dn={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function Rn(t){return"string"==typeof t&&!!Dn[t.toLowerCase()]&&t.toLowerCase()}function Nn(t,e,n){this.hasBeenReset=!1;var i="",r=!1,o=t,a=e,s=n,u=null,l="",c=!0,d="auto",h="start",f="auto",p="auto",g=100,m="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return i},set:function(t){i=""+t}},pauseOnExit:{enumerable:!0,get:function(){return r},set:function(t){r=!!t}},startTime:{enumerable:!0,get:function(){return o},set:function(t){if("number"!=typeof t)throw new TypeError("Start time must be set to a number.");o=t,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return a},set:function(t){if("number"!=typeof t)throw new TypeError("End time must be set to a number.");a=t,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return s},set:function(t){s=""+t,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return u},set:function(t){u=t,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return l},set:function(t){var e=function(t){return"string"==typeof t&&!!kn[t.toLowerCase()]&&t.toLowerCase()}(t);if(!1===e)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");l=e,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return c},set:function(t){c=!!t,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return d},set:function(t){if("number"!=typeof t&&"auto"!==t)throw new SyntaxError("Line: an invalid number or illegal string was specified.");d=t,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return h},set:function(t){var e=Rn(t);e?(h=e,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return f},set:function(t){if(t<0||t>100)throw new Error("Position must be between 0 and 100.");f=t,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return p},set:function(t){var e=Rn(t);e?(p=e,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return g},set:function(t){if(t<0||t>100)throw new Error("Size must be between 0 and 100.");g=t,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return m},set:function(t){var e=Rn(t);if(!e)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");m=e,this.hasBeenReset=!0}}}),this.displayState=void 0}Nn.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};var Ln=Nn,Fn={"":!0,up:!0};function Vn(t){return"number"==typeof t&&t>=0&&t<=100}var jn=function(){var t=100,e=3,n=0,i=100,r=0,o=100,a="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return t},set:function(e){if(!Vn(e))throw new Error("Width must be between 0 and 100.");t=e}},lines:{enumerable:!0,get:function(){return e},set:function(t){if("number"!=typeof t)throw new TypeError("Lines must be set to a number.");e=t}},regionAnchorY:{enumerable:!0,get:function(){return i},set:function(t){if(!Vn(t))throw new Error("RegionAnchorX must be between 0 and 100.");i=t}},regionAnchorX:{enumerable:!0,get:function(){return n},set:function(t){if(!Vn(t))throw new Error("RegionAnchorY must be between 0 and 100.");n=t}},viewportAnchorY:{enumerable:!0,get:function(){return o},set:function(t){if(!Vn(t))throw new Error("ViewportAnchorY must be between 0 and 100.");o=t}},viewportAnchorX:{enumerable:!0,get:function(){return r},set:function(t){if(!Vn(t))throw new Error("ViewportAnchorX must be between 0 and 100.");r=t}},scroll:{enumerable:!0,get:function(){return a},set:function(t){var e=function(t){return"string"==typeof t&&!!Fn[t.toLowerCase()]&&t.toLowerCase()}(t);!1===e?console.warn("Scroll: an invalid or illegal string was specified."):a=e}}})},Un=s((function(e){var n=e.exports={WebVTT:Mn,VTTCue:Ln,VTTRegion:jn};t.vttjs=n,t.WebVTT=n.WebVTT;var i=n.VTTCue,r=n.VTTRegion,o=t.VTTCue,a=t.VTTRegion;n.shim=function(){t.VTTCue=i,t.VTTRegion=r},n.restore=function(){t.VTTCue=o,t.VTTRegion=a},t.VTTCue||n.shim()}));Un.WebVTT,Un.VTTCue,Un.VTTRegion;var Bn=function(e){function i(t,n){var i;return void 0===t&&(t={}),void 0===n&&(n=function(){}),t.reportTouchActivity=!1,(i=e.call(this,null,t,n)||this).hasStarted_=!1,i.on("playing",(function(){this.hasStarted_=!0})),i.on("loadstart",(function(){this.hasStarted_=!1})),cn.names.forEach((function(e){var n=cn[e];t&&t[n.getterName]&&(i[n.privateName]=t[n.getterName])})),i.featuresProgressEvents||i.manualProgressOn(),i.featuresTimeupdateEvents||i.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach((function(e){!1===t["native"+e+"Tracks"]&&(i["featuresNative"+e+"Tracks"]=!1)})),!1===t.nativeCaptions||!1===t.nativeTextTracks?i.featuresNativeTextTracks=!1:!0!==t.nativeCaptions&&!0!==t.nativeTextTracks||(i.featuresNativeTextTracks=!0),i.featuresNativeTextTracks||i.emulateTextTracks(),i.preloadTextTracks=!1!==t.preloadTextTracks,i.autoRemoteTextTracks_=new cn.text.ListClass,i.initTrackListeners(),t.nativeControlsForTouch||i.emitTapEvents(),i.constructor&&(i.name_=i.constructor.name||"Unknown Tech"),i}Bt(i,e);var o=i.prototype;return o.triggerSourceset=function(t){var e=this;this.isReady_||this.one("ready",(function(){return e.setTimeout((function(){return e.triggerSourceset(t)}),1)})),this.trigger({src:t,type:"sourceset"})},o.manualProgressOn=function(){this.on("durationchange",this.onDurationChange),this.manualProgress=!0,this.one("ready",this.trackProgress)},o.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange)},o.trackProgress=function(t){this.stopTrackingProgress(),this.progressInterval=this.setInterval(vt(this,(function(){var t=this.bufferedPercent();this.bufferedPercent_!==t&&this.trigger("progress"),this.bufferedPercent_=t,1===t&&this.stopTrackingProgress()})),500)},o.onDurationChange=function(t){this.duration_=this.duration()},o.buffered=function(){return de(0,0)},o.bufferedPercent=function(){return he(this.buffered(),this.duration_)},o.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},o.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime)},o.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},o.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval((function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}),250)},o.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},o.dispose=function(){this.clearTracks(un.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),e.prototype.dispose.call(this)},o.clearTracks=function(t){var e=this;(t=[].concat(t)).forEach((function(t){for(var n=e[t+"Tracks"]()||[],i=n.length;i--;){var r=n[i];"text"===t&&e.removeRemoteTextTrack(r),n.removeTrack(r)}}))},o.cleanupAutoTextTracks=function(){for(var t=this.autoRemoteTextTracks_||[],e=t.length;e--;){var n=t[e];this.removeRemoteTextTrack(n)}},o.reset=function(){},o.crossOrigin=function(){},o.setCrossOrigin=function(){},o.error=function(t){return void 0!==t&&(this.error_=new _e(t),this.trigger("error")),this.error_},o.played=function(){return this.hasStarted_?de(0,0):de()},o.setScrubbing=function(){},o.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},o.initTrackListeners=function(){var t=this;un.names.forEach((function(e){var n=un[e],i=function(){t.trigger(e+"trackchange")},r=t[n.getterName]();r.addEventListener("removetrack",i),r.addEventListener("addtrack",i),t.on("dispose",(function(){r.removeEventListener("removetrack",i),r.removeEventListener("addtrack",i)}))}))},o.addWebVttScript_=function(){var e=this;if(!t.WebVTT)if(n.body.contains(this.el())){if(!this.options_["vtt.js"]&&p(Un)&&Object.keys(Un).length>0)return void this.trigger("vttjsloaded");var i=n.createElement("script");i.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",i.onload=function(){e.trigger("vttjsloaded")},i.onerror=function(){e.trigger("vttjserror")},this.on("dispose",(function(){i.onload=null,i.onerror=null})),t.WebVTT=!0,this.el().parentNode.appendChild(i)}else this.ready(this.addWebVttScript_)},o.emulateTextTracks=function(){var t=this,e=this.textTracks(),n=this.remoteTextTracks(),i=function(t){return e.addTrack(t.track)},r=function(t){return e.removeTrack(t.track)};n.on("addtrack",i),n.on("removetrack",r),this.addWebVttScript_();var o=function(){return t.trigger("texttrackchange")},a=function(){o();for(var t=0;t<e.length;t++){var n=e[t];n.removeEventListener("cuechange",o),"showing"===n.mode&&n.addEventListener("cuechange",o)}};a(),e.addEventListener("change",a),e.addEventListener("addtrack",a),e.addEventListener("removetrack",a),this.on("dispose",(function(){n.off("addtrack",i),n.off("removetrack",r),e.removeEventListener("change",a),e.removeEventListener("addtrack",a),e.removeEventListener("removetrack",a);for(var t=0;t<e.length;t++)e[t].removeEventListener("cuechange",o)}))},o.addTextTrack=function(t,e,n){if(!t)throw new Error("TextTrack kind is required but was not provided");return function(t,e,n,i,r){void 0===r&&(r={});var o=t.textTracks();r.kind=e,n&&(r.label=n),i&&(r.language=i),r.tech=t;var a=new cn.text.TrackClass(r);return o.addTrack(a),a}(this,t,e,n)},o.createRemoteTextTrack=function(t){var e=Dt(t,{tech:this});return new ln.remoteTextEl.TrackClass(e)},o.addRemoteTextTrack=function(t,e){var n=this;void 0===t&&(t={});var i=this.createRemoteTextTrack(t);return!0!==e&&!1!==e&&(r.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),e=!0),this.remoteTextTrackEls().addTrackElement_(i),this.remoteTextTracks().addTrack(i.track),!0!==e&&this.ready((function(){return n.autoRemoteTextTracks_.addTrack(i.track)})),i},o.removeRemoteTextTrack=function(t){var e=this.remoteTextTrackEls().getTrackElementByTrack_(t);this.remoteTextTrackEls().removeTrackElement_(e),this.remoteTextTracks().removeTrack(t),this.autoRemoteTextTracks_.removeTrack(t)},o.getVideoPlaybackQuality=function(){return{}},o.requestPictureInPicture=function(){var e=this.options_.Promise||t.Promise;if(e)return e.reject()},o.disablePictureInPicture=function(){return!0},o.setDisablePictureInPicture=function(){},o.setPoster=function(){},o.playsinline=function(){},o.setPlaysinline=function(){},o.overrideNativeAudioTracks=function(){},o.overrideNativeVideoTracks=function(){},o.canPlayType=function(){return""},i.canPlayType=function(){return""},i.canPlaySource=function(t,e){return i.canPlayType(t.type)},i.isTech=function(t){return t.prototype instanceof i||t instanceof i||t===i},i.registerTech=function(t,e){if(i.techs_||(i.techs_={}),!i.isTech(e))throw new Error("Tech "+t+" must be a Tech");if(!i.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!i.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return t=kt(t),i.techs_[t]=e,i.techs_[Mt(t)]=e,"Tech"!==t&&i.defaultTechOrder_.push(t),e},i.getTech=function(e){if(e)return i.techs_&&i.techs_[e]?i.techs_[e]:(e=kt(e),t&&t.videojs&&t.videojs[e]?(r.warn("The "+e+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),t.videojs[e]):void 0)},i}(Vt);cn.names.forEach((function(t){var e=cn[t];Bn.prototype[e.getterName]=function(){return this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName]}})),Bn.prototype.featuresVolumeControl=!0,Bn.prototype.featuresMuteControl=!0,Bn.prototype.featuresFullscreenResize=!1,Bn.prototype.featuresPlaybackRate=!1,Bn.prototype.featuresProgressEvents=!1,Bn.prototype.featuresSourceset=!1,Bn.prototype.featuresTimeupdateEvents=!1,Bn.prototype.featuresNativeTextTracks=!1,Bn.withSourceHandlers=function(t){t.registerSourceHandler=function(e,n){var i=t.sourceHandlers;i||(i=t.sourceHandlers=[]),void 0===n&&(n=i.length),i.splice(n,0,e)},t.canPlayType=function(e){for(var n,i=t.sourceHandlers||[],r=0;r<i.length;r++)if(n=i[r].canPlayType(e))return n;return""},t.selectSourceHandler=function(e,n){for(var i=t.sourceHandlers||[],r=0;r<i.length;r++)if(i[r].canHandleSource(e,n))return i[r];return null},t.canPlaySource=function(e,n){var i=t.selectSourceHandler(e,n);return i?i.canHandleSource(e,n):""},["seekable","seeking","duration"].forEach((function(t){var e=this[t];"function"==typeof e&&(this[t]=function(){return this.sourceHandler_&&this.sourceHandler_[t]?this.sourceHandler_[t].apply(this.sourceHandler_,arguments):e.apply(this,arguments)})}),t.prototype),t.prototype.setSource=function(e){var n=t.selectSourceHandler(e,this.options_);n||(t.nativeSourceHandler?n=t.nativeSourceHandler:r.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler),n!==t.nativeSourceHandler&&(this.currentSource_=e),this.sourceHandler_=n.handleSource(e,this,this.options_),this.one("dispose",this.disposeSourceHandler)},t.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},Vt.registerComponent("Tech",Bn),Bn.registerTech("Tech",Bn),Bn.defaultTechOrder_=[];var Hn={},Gn={},Wn={};function zn(t,e,n){t.setTimeout((function(){return function t(e,n,i,r,o,a){void 0===e&&(e={}),void 0===n&&(n=[]),void 0===o&&(o=[]),void 0===a&&(a=!1);var s=n,u=s[0],l=s.slice(1);if("string"==typeof u)t(e,Hn[u],i,r,o,a);else if(u){var c=function(t,e){var n=Gn[t.id()],i=null;if(null==n)return i=e(t),Gn[t.id()]=[[e,i]],i;for(var r=0;r<n.length;r++){var o=n[r],a=o[0],s=o[1];a===e&&(i=s)}return null===i&&(i=e(t),n.push([e,i])),i}(r,u);if(!c.setSource)return o.push(c),t(e,l,i,r,o,a);c.setSource(h({},e),(function(n,s){if(n)return t(e,l,i,r,o,a);o.push(c),t(s,e.type===s.type?l:Hn[s.type],i,r,o,a)}))}else l.length?t(e,l,i,r,o,a):a?i(e,o):t(e,Hn["*"],i,r,o,!0)}(e,Hn[e.type],n,t)}),1)}function $n(t,e,n,i){void 0===i&&(i=null);var r="call"+kt(n),o=t.reduce(Kn(r),i),a=o===Wn,s=a?null:e[n](o);return function(t,e,n,i){for(var r=t.length-1;r>=0;r--){var o=t[r];o[e]&&o[e](i,n)}}(t,n,s,a),s}var Yn={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1},qn={setCurrentTime:1,setMuted:1,setVolume:1},Xn={play:1,pause:1};function Kn(t){return function(e,n){return e===Wn?Wn:n[t]?n[t](e):e}}var Zn={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},Jn=function(t){void 0===t&&(t="");var e=ze(t);return Zn[e.toLowerCase()]||""};function Qn(t){if(!t.type){var e=Jn(t.src);e&&(t.type=e)}return t}var ti=function(t){function e(e,n,i){var r,o=Dt({createEl:!1},n);if(r=t.call(this,e,o,i)||this,n.playerOptions.sources&&0!==n.playerOptions.sources.length)e.src(n.playerOptions.sources);else for(var a=0,s=n.playerOptions.techOrder;a<s.length;a++){var u=kt(s[a]),l=Bn.getTech(u);if(u||(l=Vt.getComponent(u)),l&&l.isSupported()){e.loadTech_(u);break}}return r}return Bt(e,t),e}(Vt);Vt.registerComponent("MediaLoader",ti);var ei=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).emitTapEvents(),i.enable(),i}Bt(e,t);var n=e.prototype;return n.createEl=function(e,n,i){void 0===e&&(e="div"),void 0===n&&(n={}),void 0===i&&(i={}),n=h({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass(),tabIndex:0},n),"button"===e&&r.error("Creating a ClickableComponent with an HTML element of "+e+" is not supported; use a Button instead."),i=h({role:"button"},i),this.tabIndex_=n.tabIndex;var o=t.prototype.createEl.call(this,e,n,i);return this.createControlTextEl(o),o},n.dispose=function(){this.controlTextEl_=null,t.prototype.dispose.call(this)},n.createControlTextEl=function(t){return this.controlTextEl_=S("span",{className:"vjs-control-text"},{"aria-live":"polite"}),t&&t.appendChild(this.controlTextEl_),this.controlText(this.controlText_,t),this.controlTextEl_},n.controlText=function(t,e){if(void 0===e&&(e=this.el()),void 0===t)return this.controlText_||"Need Text";var n=this.localize(t);this.controlText_=t,w(this.controlTextEl_,n),this.nonIconControl||e.setAttribute("title",n)},n.buildCSSClass=function(){return"vjs-control vjs-button "+t.prototype.buildCSSClass.call(this)},n.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),void 0!==this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick),this.on("keydown",this.handleKeyDown))},n.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),void 0!==this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver),this.off("mouseout",this.handleMouseOut),this.off(["tap","click"],this.handleClick),this.off("keydown",this.handleKeyDown)},n.handleClick=function(t){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)},n.handleKeyDown=function(e){Ae.isEventKey(e,"Space")||Ae.isEventKey(e,"Enter")?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):t.prototype.handleKeyDown.call(this,e)},e}(Vt);Vt.registerComponent("ClickableComponent",ei);var ni=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).update(),e.on("posterchange",vt(jt(i),i.update)),i}Bt(e,t);var n=e.prototype;return n.dispose=function(){this.player().off("posterchange",this.update),t.prototype.dispose.call(this)},n.createEl=function(){return S("div",{className:"vjs-poster",tabIndex:-1})},n.update=function(t){var e=this.player().poster();this.setSrc(e),e?this.show():this.hide()},n.setSrc=function(t){var e="";t&&(e='url("'+t+'")'),this.el_.style.backgroundImage=e},n.handleClick=function(t){if(this.player_.controls()){var e=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;!this.player_.tech(!0)||(te||Zt)&&e||this.player_.tech(!0).focus(),this.player_.paused()?we(this.player_.play()):this.player_.pause()}},e}(ei);Vt.registerComponent("PosterImage",ni);var ii={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function ri(t,e){var n;if(4===t.length)n=t[1]+t[1]+t[2]+t[2]+t[3]+t[3];else{if(7!==t.length)throw new Error("Invalid color code provided, "+t+"; must be formatted as e.g. #f0e or #f604e2.");n=t.slice(1)}return"rgba("+parseInt(n.slice(0,2),16)+","+parseInt(n.slice(2,4),16)+","+parseInt(n.slice(4,6),16)+","+e+")"}function oi(t,e,n){try{t.style[e]=n}catch(t){return}}var ai=function(e){function n(n,i,r){var o;o=e.call(this,n,i,r)||this;var a=vt(jt(o),o.updateDisplay);return n.on("loadstart",vt(jt(o),o.toggleDisplay)),n.on("texttrackchange",a),n.on("loadedmetadata",vt(jt(o),o.preselectTrack)),n.ready(vt(jt(o),(function(){if(n.tech_&&n.tech_.featuresNativeTextTracks)this.hide();else{n.on("fullscreenchange",a),n.on("playerresize",a),t.addEventListener("orientationchange",a),n.on("dispose",(function(){return t.removeEventListener("orientationchange",a)}));for(var e=this.options_.playerOptions.tracks||[],i=0;i<e.length;i++)this.player_.addRemoteTextTrack(e[i],!0);this.preselectTrack()}}))),o}Bt(n,e);var i=n.prototype;return i.preselectTrack=function(){for(var t,e,n,i={captions:1,subtitles:1},r=this.player_.textTracks(),o=this.player_.cache_.selectedLanguage,a=0;a<r.length;a++){var s=r[a];o&&o.enabled&&o.language&&o.language===s.language&&s.kind in i?s.kind===o.kind?n=s:n||(n=s):o&&!o.enabled?(n=null,t=null,e=null):s.default&&("descriptions"!==s.kind||t?s.kind in i&&!e&&(e=s):t=s)}n?n.mode="showing":e?e.mode="showing":t&&(t.mode="showing")},i.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},i.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"off","aria-atomic":"true"})},i.clearDisplay=function(){"function"==typeof t.WebVTT&&t.WebVTT.processCues(t,[],this.el_)},i.updateDisplay=function(){var t=this.player_.textTracks(),e=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),e){for(var n=[],i=0;i<t.length;++i){var r=t[i];"showing"===r.mode&&n.push(r)}this.updateForTrack(n)}else{for(var o=null,a=null,s=t.length;s--;){var u=t[s];"showing"===u.mode&&("descriptions"===u.kind?o=u:a=u)}a?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(a)):o&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(o))}},i.updateDisplayState=function(e){for(var n=this.player_.textTrackSettings.getValues(),i=e.activeCues,r=i.length;r--;){var o=i[r];if(o){var a=o.displayState;if(n.color&&(a.firstChild.style.color=n.color),n.textOpacity&&oi(a.firstChild,"color",ri(n.color||"#fff",n.textOpacity)),n.backgroundColor&&(a.firstChild.style.backgroundColor=n.backgroundColor),n.backgroundOpacity&&oi(a.firstChild,"backgroundColor",ri(n.backgroundColor||"#000",n.backgroundOpacity)),n.windowColor&&(n.windowOpacity?oi(a,"backgroundColor",ri(n.windowColor,n.windowOpacity)):a.style.backgroundColor=n.windowColor),n.edgeStyle&&("dropshadow"===n.edgeStyle?a.firstChild.style.textShadow="2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px #222":"raised"===n.edgeStyle?a.firstChild.style.textShadow="1px 1px #222, 2px 2px #222, 3px 3px #222":"depressed"===n.edgeStyle?a.firstChild.style.textShadow="1px 1px #ccc, 0 1px #ccc, -1px -1px #222, 0 -1px #222":"uniform"===n.edgeStyle&&(a.firstChild.style.textShadow="0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px #222")),n.fontPercent&&1!==n.fontPercent){var s=t.parseFloat(a.style.fontSize);a.style.fontSize=s*n.fontPercent+"px",a.style.height="auto",a.style.top="auto"}n.fontFamily&&"default"!==n.fontFamily&&("small-caps"===n.fontFamily?a.firstChild.style.fontVariant="small-caps":a.firstChild.style.fontFamily=ii[n.fontFamily])}}},i.updateForTrack=function(e){if(Array.isArray(e)||(e=[e]),"function"==typeof t.WebVTT&&!e.every((function(t){return!t.activeCues}))){for(var n=[],i=0;i<e.length;++i)for(var r=e[i],o=0;o<r.activeCues.length;++o)n.push(r.activeCues[o]);t.WebVTT.processCues(t,n,this.el_);for(var a=0;a<e.length;++a){for(var s=e[a],u=0;u<s.activeCues.length;++u){var l=s.activeCues[u].displayState;O(l,"vjs-text-track-cue"),O(l,"vjs-text-track-cue-"+(s.language?s.language:a))}this.player_.textTrackSettings&&this.updateDisplayState(s)}}},n}(Vt);Vt.registerComponent("TextTrackDisplay",ai);var si=function(t){function e(){return t.apply(this,arguments)||this}return Bt(e,t),e.prototype.createEl=function(){var e=this.player_.isAudio(),n=this.localize(e?"Audio Player":"Video Player"),i=S("span",{className:"vjs-control-text",innerHTML:this.localize("{1} is loading.",[n])}),r=t.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return r.appendChild(i),r},e}(Vt);Vt.registerComponent("LoadingSpinner",si);var ui=function(t){function e(){return t.apply(this,arguments)||this}Bt(e,t);var n=e.prototype;return n.createEl=function(t,e,n){void 0===e&&(e={}),void 0===n&&(n={}),e=h({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass()},e),n=h({type:"button"},n);var i=Vt.prototype.createEl.call(this,"button",e,n);return this.createControlTextEl(i),i},n.addChild=function(t,e){void 0===e&&(e={});var n=this.constructor.name;return r.warn("Adding an actionable (user controllable) child to a Button ("+n+") is not supported; use a ClickableComponent instead."),Vt.prototype.addChild.call(this,t,e)},n.enable=function(){t.prototype.enable.call(this),this.el_.removeAttribute("disabled")},n.disable=function(){t.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},n.handleKeyDown=function(e){Ae.isEventKey(e,"Space")||Ae.isEventKey(e,"Enter")?e.stopPropagation():t.prototype.handleKeyDown.call(this,e)},e}(ei);Vt.registerComponent("Button",ui);var li=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).mouseused_=!1,i.on("mousedown",i.handleMouseDown),i}Bt(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-big-play-button"},n.handleClick=function(t){var e=this.player_.play();if(this.mouseused_&&t.clientX&&t.clientY){var n=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;return we(e),void(!this.player_.tech(!0)||(te||Zt)&&n||this.player_.tech(!0).focus())}var i=this.player_.getChild("controlBar"),r=i&&i.getChild("playToggle");if(r){var o=function(){return r.focus()};Se(e)?e.then(o,(function(){})):this.setTimeout(o,1)}else this.player_.tech(!0).focus()},n.handleKeyDown=function(e){this.mouseused_=!1,t.prototype.handleKeyDown.call(this,e)},n.handleMouseDown=function(t){this.mouseused_=!0},e}(ui);li.prototype.controlText_="Play Video",Vt.registerComponent("BigPlayButton",li);var ci=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).controlText(n&&n.controlText||i.localize("Close")),i}Bt(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-close-button "+t.prototype.buildCSSClass.call(this)},n.handleClick=function(t){this.trigger({type:"close",bubbles:!1})},n.handleKeyDown=function(e){Ae.isEventKey(e,"Esc")?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):t.prototype.handleKeyDown.call(this,e)},e}(ui);Vt.registerComponent("CloseButton",ci);var di=function(t){function e(e,n){var i;return void 0===n&&(n={}),i=t.call(this,e,n)||this,n.replay=void 0===n.replay||n.replay,i.on(e,"play",i.handlePlay),i.on(e,"pause",i.handlePause),n.replay&&i.on(e,"ended",i.handleEnded),i}Bt(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-play-control "+t.prototype.buildCSSClass.call(this)},n.handleClick=function(t){this.player_.paused()?this.player_.play():this.player_.pause()},n.handleSeeked=function(t){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(t):this.handlePlay(t)},n.handlePlay=function(t){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},n.handlePause=function(t){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},n.handleEnded=function(t){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",this.handleSeeked)},e}(ui);di.prototype.controlText_="Play",Vt.registerComponent("PlayToggle",di);var hi=function(t,e){t=t<0?0:t;var n=Math.floor(t%60),i=Math.floor(t/60%60),r=Math.floor(t/3600),o=Math.floor(e/60%60),a=Math.floor(e/3600);return(isNaN(t)||t===1/0)&&(r=i=n="-"),(r=r>0||a>0?r+":":"")+(i=((r||o>=10)&&i<10?"0"+i:i)+":")+(n=n<10?"0"+n:n)},fi=hi;function pi(t,e){return void 0===e&&(e=t),fi(t,e)}var gi=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).on(e,["timeupdate","ended"],i.updateContent),i.updateTextNode_(),i}Bt(e,t);var i=e.prototype;return i.createEl=function(){var e=this.buildCSSClass(),n=t.prototype.createEl.call(this,"div",{className:e+" vjs-time-control vjs-control",innerHTML:'<span class="vjs-control-text" role="presentation">'+this.localize(this.labelText_)+" </span>"});return this.contentEl_=S("span",{className:e+"-display"},{"aria-live":"off",role:"presentation"}),n.appendChild(this.contentEl_),n},i.dispose=function(){this.contentEl_=null,this.textNode_=null,t.prototype.dispose.call(this)},i.updateTextNode_=function(t){var e=this;void 0===t&&(t=0),t=pi(t),this.formattedTime_!==t&&(this.formattedTime_=t,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",(function(){if(e.contentEl_){var t=e.textNode_;e.textNode_=n.createTextNode(e.formattedTime_),e.textNode_&&(t?e.contentEl_.replaceChild(e.textNode_,t):e.contentEl_.appendChild(e.textNode_))}})))},i.updateContent=function(t){},e}(Vt);gi.prototype.labelText_="Time",gi.prototype.controlText_="Time",Vt.registerComponent("TimeDisplay",gi);var mi=function(t){function e(){return t.apply(this,arguments)||this}Bt(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-current-time"},n.updateContent=function(t){var e;e=this.player_.ended()?this.player_.duration():this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(e)},e}(gi);mi.prototype.labelText_="Current Time",mi.prototype.controlText_="Current Time",Vt.registerComponent("CurrentTimeDisplay",mi);var vi=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).on(e,"durationchange",i.updateContent),i.on(e,"loadstart",i.updateContent),i.on(e,"loadedmetadata",i.updateContent),i}Bt(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-duration"},n.updateContent=function(t){var e=this.player_.duration();this.updateTextNode_(e)},e}(gi);vi.prototype.labelText_="Duration",vi.prototype.controlText_="Duration",Vt.registerComponent("DurationDisplay",vi);var yi=function(t){function e(){return t.apply(this,arguments)||this}return Bt(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"},{"aria-hidden":!0})},e}(Vt);Vt.registerComponent("TimeDivider",yi);var _i=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).on(e,"durationchange",i.updateContent),i}Bt(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-remaining-time"},n.createEl=function(){var e=t.prototype.createEl.call(this);return e.insertBefore(S("span",{},{"aria-hidden":!0},"-"),this.contentEl_),e},n.updateContent=function(t){var e;"number"==typeof this.player_.duration()&&(e=this.player_.ended()?0:this.player_.remainingTimeDisplay?this.player_.remainingTimeDisplay():this.player_.remainingTime(),this.updateTextNode_(e))},e}(gi);_i.prototype.labelText_="Remaining Time",_i.prototype.controlText_="Remaining Time",Vt.registerComponent("RemainingTimeDisplay",_i);var bi=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).updateShowing(),i.on(i.player(),"durationchange",i.updateShowing),i}Bt(e,t);var n=e.prototype;return n.createEl=function(){var e=t.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=S("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Stream Type")+" </span>"+this.localize("LIVE")},{"aria-live":"off"}),e.appendChild(this.contentEl_),e},n.dispose=function(){this.contentEl_=null,t.prototype.dispose.call(this)},n.updateShowing=function(t){this.player().duration()===1/0?this.show():this.hide()},e}(Vt);Vt.registerComponent("LiveDisplay",bi);var Ti=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).updateLiveEdgeStatus(),i.player_.liveTracker&&i.on(i.player_.liveTracker,"liveedgechange",i.updateLiveEdgeStatus),i}Bt(e,t);var n=e.prototype;return n.createEl=function(){var e=t.prototype.createEl.call(this,"button",{className:"vjs-seek-to-live-control vjs-control"});return this.textEl_=S("span",{className:"vjs-seek-to-live-text",innerHTML:this.localize("LIVE")},{"aria-hidden":"true"}),e.appendChild(this.textEl_),e},n.updateLiveEdgeStatus=function(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))},n.handleClick=function(){this.player_.liveTracker.seekToLiveEdge()},n.dispose=function(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatus),this.textEl_=null,t.prototype.dispose.call(this)},e}(ui);Ti.prototype.controlText_="Seek to live, currently playing live",Vt.registerComponent("SeekToLive",Ti);var Si=function(t,e,n){return t=Number(t),Math.min(n,Math.max(e,isNaN(t)?e:t))},wi=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).bar=i.getChild(i.options_.barName),i.vertical(!!i.options_.vertical),i.enable(),i}Bt(e,t);var n=e.prototype;return n.enabled=function(){return this.enabled_},n.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown),this.on("touchstart",this.handleMouseDown),this.on("keydown",this.handleKeyDown),this.on("click",this.handleClick),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},n.disable=function(){if(this.enabled()){var t=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown),this.off("touchstart",this.handleMouseDown),this.off("keydown",this.handleKeyDown),this.off("click",this.handleClick),this.off(this.player_,"controlsvisible",this.update),this.off(t,"mousemove",this.handleMouseMove),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchmove",this.handleMouseMove),this.off(t,"touchend",this.handleMouseUp),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}},n.createEl=function(e,n,i){return void 0===n&&(n={}),void 0===i&&(i={}),n.className=n.className+" vjs-slider",n=h({tabIndex:0},n),i=h({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},i),t.prototype.createEl.call(this,e,n,i)},n.handleMouseDown=function(t){var e=this.bar.el_.ownerDocument;"mousedown"===t.type&&t.preventDefault(),"touchstart"!==t.type||Jt||t.preventDefault(),R(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(e,"mousemove",this.handleMouseMove),this.on(e,"mouseup",this.handleMouseUp),this.on(e,"touchmove",this.handleMouseMove),this.on(e,"touchend",this.handleMouseUp),this.handleMouseMove(t)},n.handleMouseMove=function(t){},n.handleMouseUp=function(){var t=this.bar.el_.ownerDocument;N(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(t,"mousemove",this.handleMouseMove),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchmove",this.handleMouseMove),this.off(t,"touchend",this.handleMouseUp),this.update()},n.update=function(){var t=this;if(this.el_&&this.bar){var e=this.getProgress();return e===this.progress_||(this.progress_=e,this.requestNamedAnimationFrame("Slider#update",(function(){var n=t.vertical()?"height":"width";t.bar.el().style[n]=(100*e).toFixed(2)+"%"}))),e}},n.getProgress=function(){return Number(Si(this.getPercent(),0,1).toFixed(4))},n.calculateDistance=function(t){var e=V(this.el_,t);return this.vertical()?e.y:e.x},n.handleKeyDown=function(e){Ae.isEventKey(e,"Left")||Ae.isEventKey(e,"Down")?(e.preventDefault(),e.stopPropagation(),this.stepBack()):Ae.isEventKey(e,"Right")||Ae.isEventKey(e,"Up")?(e.preventDefault(),e.stopPropagation(),this.stepForward()):t.prototype.handleKeyDown.call(this,e)},n.handleClick=function(t){t.stopPropagation(),t.preventDefault()},n.vertical=function(t){if(void 0===t)return this.vertical_||!1;this.vertical_=!!t,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")},e}(Vt);Vt.registerComponent("Slider",wi);var Ei=function(t,e){return Si(t/e*100,0,100).toFixed(2)+"%"},Ci=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).partEls_=[],i.on(e,"progress",i.update),i}Bt(e,t);var i=e.prototype;return i.createEl=function(){var e=t.prototype.createEl.call(this,"div",{className:"vjs-load-progress"}),i=S("span",{className:"vjs-control-text"}),r=S("span",{textContent:this.localize("Loaded")}),o=n.createTextNode(": ");return this.percentageEl_=S("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),e.appendChild(i),i.appendChild(r),i.appendChild(o),i.appendChild(this.percentageEl_),e},i.dispose=function(){this.partEls_=null,this.percentageEl_=null,t.prototype.dispose.call(this)},i.update=function(t){var e=this;this.requestNamedAnimationFrame("LoadProgressBar#update",(function(){var t=e.player_.liveTracker,n=e.player_.buffered(),i=t&&t.isLive()?t.seekableEnd():e.player_.duration(),r=e.player_.bufferedEnd(),o=e.partEls_,a=Ei(r,i);e.percent_!==a&&(e.el_.style.width=a,w(e.percentageEl_,a),e.percent_=a);for(var s=0;s<n.length;s++){var u=n.start(s),l=n.end(s),c=o[s];c||(c=e.el_.appendChild(S()),o[s]=c),c.dataset.start===u&&c.dataset.end===l||(c.dataset.start=u,c.dataset.end=l,c.style.left=Ei(u,r),c.style.width=Ei(l-u,r))}for(var d=o.length;d>n.length;d--)e.el_.removeChild(o[d-1]);o.length=n.length}))},e}(Vt);Vt.registerComponent("LoadProgressBar",Ci);var Oi=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).update=yt(vt(jt(i),i.update),30),i}Bt(e,t);var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})},n.update=function(t,e,n){var i=F(this.el_),r=L(this.player_.el()),o=t.width*e;if(r&&i){var a=t.left-r.left+o,s=t.width-o+(r.right-t.right),u=i.width/2;a<u?u+=u-a:s<u&&(u=s),u<0?u=0:u>i.width&&(u=i.width),this.el_.style.right="-"+u+"px",this.write(n)}},n.write=function(t){w(this.el_,t)},n.updateTime=function(t,e,n,i){var r=this;this.requestNamedAnimationFrame("TimeTooltip#updateTime",(function(){var o,a=r.player_.duration();if(r.player_.liveTracker&&r.player_.liveTracker.isLive()){var s=r.player_.liveTracker.liveWindow(),u=s-e*s;o=(u<1?"":"-")+pi(u,s)}else o=pi(n,a);r.update(t,e,o),i&&i()}))},e}(Vt);Vt.registerComponent("TimeTooltip",Oi);var Ai=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).update=yt(vt(jt(i),i.update),30),i}Bt(e,t);var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})},n.update=function(t,e){var n=this.getChild("timeTooltip");if(n){var i=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();n.updateTime(t,e,i)}},e}(Vt);Ai.prototype.options_={children:[]},ae||Yt||Ai.prototype.options_.children.push("timeTooltip"),Vt.registerComponent("PlayProgressBar",Ai);var Pi=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).update=yt(vt(jt(i),i.update),30),i}Bt(e,t);var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},n.update=function(t,e){var n=this,i=e*this.player_.duration();this.getChild("timeTooltip").updateTime(t,e,i,(function(){n.el_.style.left=t.width*e+"px"}))},e}(Vt);Pi.prototype.options_={children:["timeTooltip"]},Vt.registerComponent("MouseTimeDisplay",Pi);var Ii=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).setEventHandlers_(),i}Bt(e,t);var i=e.prototype;return i.setEventHandlers_=function(){this.update_=vt(this,this.update),this.update=yt(this.update_,30),this.on(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.on(this.player_,["playing"],this.enableInterval_),this.on(this.player_,["ended","pause","waiting"],this.disableInterval_),"hidden"in n&&"visibilityState"in n&&this.on(n,"visibilitychange",this.toggleVisibility_)},i.toggleVisibility_=function(t){n.hidden?this.disableInterval_(t):(this.enableInterval_(),this.update())},i.enableInterval_=function(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,30))},i.disableInterval_=function(t){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&t&&"ended"!==t.type||this.updateInterval&&(this.clearInterval(this.updateInterval),this.updateInterval=null)},i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},i.update=function(e){var n=this,i=t.prototype.update.call(this);return this.requestNamedAnimationFrame("SeekBar#update",(function(){var t=n.player_.ended()?n.player_.duration():n.getCurrentTime_(),e=n.player_.liveTracker,r=n.player_.duration();e&&e.isLive()&&(r=n.player_.liveTracker.liveCurrentTime()),n.percent_!==i&&(n.el_.setAttribute("aria-valuenow",(100*i).toFixed(2)),n.percent_=i),n.currentTime_===t&&n.duration_===r||(n.el_.setAttribute("aria-valuetext",n.localize("progress bar timing: currentTime={1} duration={2}",[pi(t,r),pi(r,r)],"{1} of {2}")),n.currentTime_=t,n.duration_=r),n.bar&&n.bar.update(L(n.el()),n.getProgress())})),i},i.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},i.getPercent=function(){var t,e=this.getCurrentTime_(),n=this.player_.liveTracker;return n&&n.isLive()?(t=(e-n.seekableStart())/n.liveWindow(),n.atLiveEdge()&&(t=1)):t=e/this.player_.duration(),t},i.handleMouseDown=function(e){W(e)&&(e.stopPropagation(),this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),t.prototype.handleMouseDown.call(this,e))},i.handleMouseMove=function(t){if(W(t)){var e,n=this.calculateDistance(t),i=this.player_.liveTracker;if(i&&i.isLive()){if(n>=.99)return void i.seekToLiveEdge();var r=i.seekableStart(),o=i.liveCurrentTime();if((e=r+n*i.liveWindow())>=o&&(e=o),e<=r&&(e=r+.1),e===1/0)return}else(e=n*this.player_.duration())===this.player_.duration()&&(e-=.1);this.player_.currentTime(e)}},i.enable=function(){t.prototype.enable.call(this);var e=this.getChild("mouseTimeDisplay");e&&e.show()},i.disable=function(){t.prototype.disable.call(this);var e=this.getChild("mouseTimeDisplay");e&&e.hide()},i.handleMouseUp=function(e){t.prototype.handleMouseUp.call(this,e),e&&e.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?we(this.player_.play()):this.update_()},i.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+5)},i.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-5)},i.handleAction=function(t){this.player_.paused()?this.player_.play():this.player_.pause()},i.handleKeyDown=function(e){if(Ae.isEventKey(e,"Space")||Ae.isEventKey(e,"Enter"))e.preventDefault(),e.stopPropagation(),this.handleAction(e);else if(Ae.isEventKey(e,"Home"))e.preventDefault(),e.stopPropagation(),this.player_.currentTime(0);else if(Ae.isEventKey(e,"End"))e.preventDefault(),e.stopPropagation(),this.player_.currentTime(this.player_.duration());else if(/^[0-9]$/.test(Ae(e))){e.preventDefault(),e.stopPropagation();var n=10*(Ae.codes[Ae(e)]-Ae.codes[0])/100;this.player_.currentTime(this.player_.duration()*n)}else Ae.isEventKey(e,"PgDn")?(e.preventDefault(),e.stopPropagation(),this.player_.currentTime(this.player_.currentTime()-60)):Ae.isEventKey(e,"PgUp")?(e.preventDefault(),e.stopPropagation(),this.player_.currentTime(this.player_.currentTime()+60)):t.prototype.handleKeyDown.call(this,e)},i.dispose=function(){this.disableInterval_(),this.off(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableInterval_),this.off(this.player_,["ended","pause","waiting"],this.disableInterval_),"hidden"in n&&"visibilityState"in n&&this.off(n,"visibilitychange",this.toggleVisibility_),t.prototype.dispose.call(this)},e}(wi);Ii.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},ae||Yt||Ii.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),Vt.registerComponent("SeekBar",Ii);var xi=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).handleMouseMove=yt(vt(jt(i),i.handleMouseMove),30),i.throttledHandleMouseSeek=yt(vt(jt(i),i.handleMouseSeek),30),i.enable(),i}Bt(e,t);var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},n.handleMouseMove=function(t){var e=this.getChild("seekBar");if(e){var n=e.getChild("playProgressBar"),i=e.getChild("mouseTimeDisplay");if(n||i){var r=e.el(),o=F(r),a=V(r,t).x;a=Si(a,0,1),i&&i.update(o,a),n&&n.update(o,e.getProgress())}}},n.handleMouseSeek=function(t){var e=this.getChild("seekBar");e&&e.handleMouseMove(t)},n.enabled=function(){return this.enabled_},n.disable=function(){this.children().forEach((function(t){return t.disable&&t.disable()})),this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDown),this.off(this.el_,"mousemove",this.handleMouseMove),this.handleMouseUp(),this.addClass("disabled"),this.enabled_=!1)},n.enable=function(){this.children().forEach((function(t){return t.enable&&t.enable()})),this.enabled()||(this.on(["mousedown","touchstart"],this.handleMouseDown),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},n.handleMouseDown=function(t){var e=this.el_.ownerDocument,n=this.getChild("seekBar");n&&n.handleMouseDown(t),this.on(e,"mousemove",this.throttledHandleMouseSeek),this.on(e,"touchmove",this.throttledHandleMouseSeek),this.on(e,"mouseup",this.handleMouseUp),this.on(e,"touchend",this.handleMouseUp)},n.handleMouseUp=function(t){var e=this.el_.ownerDocument,n=this.getChild("seekBar");n&&n.handleMouseUp(t),this.off(e,"mousemove",this.throttledHandleMouseSeek),this.off(e,"touchmove",this.throttledHandleMouseSeek),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchend",this.handleMouseUp)},e}(Vt);xi.prototype.options_={children:["seekBar"]},Vt.registerComponent("ProgressControl",xi);var Mi=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).on(e,["enterpictureinpicture","leavepictureinpicture"],i.handlePictureInPictureChange),i.on(e,["disablepictureinpicturechanged","loadedmetadata"],i.handlePictureInPictureEnabledChange),i.disable(),i}Bt(e,t);var i=e.prototype;return i.buildCSSClass=function(){return"vjs-picture-in-picture-control "+t.prototype.buildCSSClass.call(this)},i.handlePictureInPictureEnabledChange=function(){n.pictureInPictureEnabled&&!1===this.player_.disablePictureInPicture()?this.enable():this.disable()},i.handlePictureInPictureChange=function(t){this.player_.isInPictureInPicture()?this.controlText("Exit Picture-in-Picture"):this.controlText("Picture-in-Picture"),this.handlePictureInPictureEnabledChange()},i.handleClick=function(t){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()},e}(ui);Mi.prototype.controlText_="Picture-in-Picture",Vt.registerComponent("PictureInPictureToggle",Mi);var ki=function(t){function e(e,i){var r;return(r=t.call(this,e,i)||this).on(e,"fullscreenchange",r.handleFullscreenChange),!1===n[e.fsApi_.fullscreenEnabled]&&r.disable(),r}Bt(e,t);var i=e.prototype;return i.buildCSSClass=function(){return"vjs-fullscreen-control "+t.prototype.buildCSSClass.call(this)},i.handleFullscreenChange=function(t){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},i.handleClick=function(t){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},e}(ui);ki.prototype.controlText_="Fullscreen",Vt.registerComponent("FullscreenToggle",ki);var Di=function(t){function e(){return t.apply(this,arguments)||this}return Bt(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},e}(Vt);Vt.registerComponent("VolumeLevel",Di);var Ri=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).on("slideractive",i.updateLastVolume_),i.on(e,"volumechange",i.updateARIAAttributes),e.ready((function(){return i.updateARIAAttributes()})),i}Bt(e,t);var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},n.handleMouseDown=function(e){W(e)&&t.prototype.handleMouseDown.call(this,e)},n.handleMouseMove=function(t){W(t)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(t)))},n.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},n.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},n.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},n.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},n.updateARIAAttributes=function(t){var e=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",e),this.el_.setAttribute("aria-valuetext",e+"%")},n.volumeAsPercentage_=function(){return Math.round(100*this.player_.volume())},n.updateLastVolume_=function(){var t=this,e=this.player_.volume();this.one("sliderinactive",(function(){0===t.player_.volume()&&t.player_.lastVolume_(e)}))},e}(wi);Ri.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},Ri.prototype.playerEvent="volumechange",Vt.registerComponent("VolumeBar",Ri);var Ni=function(t){function e(e,n){var i;return void 0===n&&(n={}),n.vertical=n.vertical||!1,(void 0===n.volumeBar||p(n.volumeBar))&&(n.volumeBar=n.volumeBar||{},n.volumeBar.vertical=n.vertical),i=t.call(this,e,n)||this,function(t,e){e.tech_&&!e.tech_.featuresVolumeControl&&t.addClass("vjs-hidden"),t.on(e,"loadstart",(function(){e.tech_.featuresVolumeControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")}))}(jt(i),e),i.throttledHandleMouseMove=yt(vt(jt(i),i.handleMouseMove),30),i.on("mousedown",i.handleMouseDown),i.on("touchstart",i.handleMouseDown),i.on(i.volumeBar,["focus","slideractive"],(function(){i.volumeBar.addClass("vjs-slider-active"),i.addClass("vjs-slider-active"),i.trigger("slideractive")})),i.on(i.volumeBar,["blur","sliderinactive"],(function(){i.volumeBar.removeClass("vjs-slider-active"),i.removeClass("vjs-slider-active"),i.trigger("sliderinactive")})),i}Bt(e,t);var n=e.prototype;return n.createEl=function(){var e="vjs-volume-horizontal";return this.options_.vertical&&(e="vjs-volume-vertical"),t.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+e})},n.handleMouseDown=function(t){var e=this.el_.ownerDocument;this.on(e,"mousemove",this.throttledHandleMouseMove),this.on(e,"touchmove",this.throttledHandleMouseMove),this.on(e,"mouseup",this.handleMouseUp),this.on(e,"touchend",this.handleMouseUp)},n.handleMouseUp=function(t){var e=this.el_.ownerDocument;this.off(e,"mousemove",this.throttledHandleMouseMove),this.off(e,"touchmove",this.throttledHandleMouseMove),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchend",this.handleMouseUp)},n.handleMouseMove=function(t){this.volumeBar.handleMouseMove(t)},e}(Vt);Ni.prototype.options_={children:["volumeBar"]},Vt.registerComponent("VolumeControl",Ni);var Li=function(t){function e(e,n){var i;return i=t.call(this,e,n)||this,function(t,e){e.tech_&&!e.tech_.featuresMuteControl&&t.addClass("vjs-hidden"),t.on(e,"loadstart",(function(){e.tech_.featuresMuteControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")}))}(jt(i),e),i.on(e,["loadstart","volumechange"],i.update),i}Bt(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-mute-control "+t.prototype.buildCSSClass.call(this)},n.handleClick=function(t){var e=this.player_.volume(),n=this.player_.lastVolume_();if(0===e){var i=n<.1?.1:n;this.player_.volume(i),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())},n.update=function(t){this.updateIcon_(),this.updateControlText_()},n.updateIcon_=function(){var t=this.player_.volume(),e=3;ae&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),0===t||this.player_.muted()?e=0:t<.33?e=1:t<.67&&(e=2);for(var n=0;n<4;n++)A(this.el_,"vjs-vol-"+n);O(this.el_,"vjs-vol-"+e)},n.updateControlText_=function(){var t=this.player_.muted()||0===this.player_.volume()?"Unmute":"Mute";this.controlText()!==t&&this.controlText(t)},e}(ui);Li.prototype.controlText_="Mute",Vt.registerComponent("MuteToggle",Li);var Fi=function(t){function e(e,n){var i;return void 0===n&&(n={}),void 0!==n.inline?n.inline=n.inline:n.inline=!0,(void 0===n.volumeControl||p(n.volumeControl))&&(n.volumeControl=n.volumeControl||{},n.volumeControl.vertical=!n.inline),(i=t.call(this,e,n)||this).on(e,["loadstart"],i.volumePanelState_),i.on(i.muteToggle,"keyup",i.handleKeyPress),i.on(i.volumeControl,"keyup",i.handleVolumeControlKeyUp),i.on("keydown",i.handleKeyPress),i.on("mouseover",i.handleMouseOver),i.on("mouseout",i.handleMouseOut),i.on(i.volumeControl,["slideractive"],i.sliderActive_),i.on(i.volumeControl,["sliderinactive"],i.sliderInactive_),i}Bt(e,t);var i=e.prototype;return i.sliderActive_=function(){this.addClass("vjs-slider-active")},i.sliderInactive_=function(){this.removeClass("vjs-slider-active")},i.volumePanelState_=function(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},i.createEl=function(){var e="vjs-volume-panel-horizontal";return this.options_.inline||(e="vjs-volume-panel-vertical"),t.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+e})},i.dispose=function(){this.handleMouseOut(),t.prototype.dispose.call(this)},i.handleVolumeControlKeyUp=function(t){Ae.isEventKey(t,"Esc")&&this.muteToggle.focus()},i.handleMouseOver=function(t){this.addClass("vjs-hover"),ct(n,"keyup",vt(this,this.handleKeyPress))},i.handleMouseOut=function(t){this.removeClass("vjs-hover"),dt(n,"keyup",vt(this,this.handleKeyPress))},i.handleKeyPress=function(t){Ae.isEventKey(t,"Esc")&&this.handleMouseOut()},e}(Vt);Fi.prototype.options_={children:["muteToggle","volumeControl"]},Vt.registerComponent("VolumePanel",Fi);var Vi=function(t){function e(e,n){var i;return i=t.call(this,e,n)||this,n&&(i.menuButton_=n.menuButton),i.focusedChild_=-1,i.on("keydown",i.handleKeyDown),i.boundHandleBlur_=vt(jt(i),i.handleBlur),i.boundHandleTapClick_=vt(jt(i),i.handleTapClick),i}Bt(e,t);var i=e.prototype;return i.addEventListenerForItem=function(t){t instanceof Vt&&(this.on(t,"blur",this.boundHandleBlur_),this.on(t,["tap","click"],this.boundHandleTapClick_))},i.removeEventListenerForItem=function(t){t instanceof Vt&&(this.off(t,"blur",this.boundHandleBlur_),this.off(t,["tap","click"],this.boundHandleTapClick_))},i.removeChild=function(e){"string"==typeof e&&(e=this.getChild(e)),this.removeEventListenerForItem(e),t.prototype.removeChild.call(this,e)},i.addItem=function(t){var e=this.addChild(t);e&&this.addEventListenerForItem(e)},i.createEl=function(){var e=this.options_.contentElType||"ul";this.contentEl_=S(e,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var n=t.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return n.appendChild(this.contentEl_),ct(n,"click",(function(t){t.preventDefault(),t.stopImmediatePropagation()})),n},i.dispose=function(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,t.prototype.dispose.call(this)},i.handleBlur=function(t){var e=t.relatedTarget||n.activeElement;if(!this.children().some((function(t){return t.el()===e}))){var i=this.menuButton_;i&&i.buttonPressed_&&e!==i.el().firstChild&&i.unpressButton()}},i.handleTapClick=function(t){if(this.menuButton_){this.menuButton_.unpressButton();var e=this.children();if(!Array.isArray(e))return;var n=e.filter((function(e){return e.el()===t.target}))[0];if(!n)return;"CaptionSettingsMenuItem"!==n.name()&&this.menuButton_.focus()}},i.handleKeyDown=function(t){Ae.isEventKey(t,"Left")||Ae.isEventKey(t,"Down")?(t.preventDefault(),t.stopPropagation(),this.stepForward()):(Ae.isEventKey(t,"Right")||Ae.isEventKey(t,"Up"))&&(t.preventDefault(),t.stopPropagation(),this.stepBack())},i.stepForward=function(){var t=0;void 0!==this.focusedChild_&&(t=this.focusedChild_+1),this.focus(t)},i.stepBack=function(){var t=0;void 0!==this.focusedChild_&&(t=this.focusedChild_-1),this.focus(t)},i.focus=function(t){void 0===t&&(t=0);var e=this.children().slice();e.length&&e[0].className&&/vjs-menu-title/.test(e[0].className)&&e.shift(),e.length>0&&(t<0?t=0:t>=e.length&&(t=e.length-1),this.focusedChild_=t,e[t].el_.focus())},e}(Vt);Vt.registerComponent("Menu",Vi);var ji=function(t){function e(e,i){var r;void 0===i&&(i={}),(r=t.call(this,e,i)||this).menuButton_=new ui(e,i),r.menuButton_.controlText(r.controlText_),r.menuButton_.el_.setAttribute("aria-haspopup","true");var o=ui.prototype.buildCSSClass();return r.menuButton_.el_.className=r.buildCSSClass()+" "+o,r.menuButton_.removeClass("vjs-control"),r.addChild(r.menuButton_),r.update(),r.enabled_=!0,r.on(r.menuButton_,"tap",r.handleClick),r.on(r.menuButton_,"click",r.handleClick),r.on(r.menuButton_,"keydown",r.handleKeyDown),r.on(r.menuButton_,"mouseenter",(function(){r.addClass("vjs-hover"),r.menu.show(),ct(n,"keyup",vt(jt(r),r.handleMenuKeyUp))})),r.on("mouseleave",r.handleMouseLeave),r.on("keydown",r.handleSubmenuKeyDown),r}Bt(e,t);var i=e.prototype;return i.update=function(){var t=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=t,this.addChild(t),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?this.hide():this.show()},i.createMenu=function(){var t=new Vi(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var e=S("li",{className:"vjs-menu-title",innerHTML:kt(this.options_.title),tabIndex:-1});this.hideThreshold_+=1;var n=new Vt(this.player_,{el:e});t.addItem(n)}if(this.items=this.createItems(),this.items)for(var i=0;i<this.items.length;i++)t.addItem(this.items[i]);return t},i.createItems=function(){},i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},i.buildWrapperCSSClass=function(){var e="vjs-menu-button";return!0===this.options_.inline?e+="-inline":e+="-popup","vjs-menu-button "+e+" "+ui.prototype.buildCSSClass()+" "+t.prototype.buildCSSClass.call(this)},i.buildCSSClass=function(){var e="vjs-menu-button";return!0===this.options_.inline?e+="-inline":e+="-popup","vjs-menu-button "+e+" "+t.prototype.buildCSSClass.call(this)},i.controlText=function(t,e){return void 0===e&&(e=this.menuButton_.el()),this.menuButton_.controlText(t,e)},i.dispose=function(){this.handleMouseLeave(),t.prototype.dispose.call(this)},i.handleClick=function(t){this.buttonPressed_?this.unpressButton():this.pressButton()},i.handleMouseLeave=function(t){this.removeClass("vjs-hover"),dt(n,"keyup",vt(this,this.handleMenuKeyUp))},i.focus=function(){this.menuButton_.focus()},i.blur=function(){this.menuButton_.blur()},i.handleKeyDown=function(t){Ae.isEventKey(t,"Esc")||Ae.isEventKey(t,"Tab")?(this.buttonPressed_&&this.unpressButton(),Ae.isEventKey(t,"Tab")||(t.preventDefault(),this.menuButton_.focus())):(Ae.isEventKey(t,"Up")||Ae.isEventKey(t,"Down"))&&(this.buttonPressed_||(t.preventDefault(),this.pressButton()))},i.handleMenuKeyUp=function(t){(Ae.isEventKey(t,"Esc")||Ae.isEventKey(t,"Tab"))&&this.removeClass("vjs-hover")},i.handleSubmenuKeyPress=function(t){this.handleSubmenuKeyDown(t)},i.handleSubmenuKeyDown=function(t){(Ae.isEventKey(t,"Esc")||Ae.isEventKey(t,"Tab"))&&(this.buttonPressed_&&this.unpressButton(),Ae.isEventKey(t,"Tab")||(t.preventDefault(),this.menuButton_.focus()))},i.pressButton=function(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),ae&&b())return;this.menu.focus()}},i.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},i.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},i.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},e}(Vt);Vt.registerComponent("MenuButton",ji);var Ui=function(t){function e(e,n){var i,r=n.tracks;if((i=t.call(this,e,n)||this).items.length<=1&&i.hide(),!r)return jt(i);var o=vt(jt(i),i.update);return r.addEventListener("removetrack",o),r.addEventListener("addtrack",o),i.player_.on("ready",o),i.player_.on("dispose",(function(){r.removeEventListener("removetrack",o),r.removeEventListener("addtrack",o)})),i}return Bt(e,t),e}(ji);Vt.registerComponent("TrackButton",Ui);var Bi=["Tab","Esc","Up","Down","Right","Left"],Hi=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).selectable=n.selectable,i.isSelected_=n.selected||!1,i.multiSelectable=n.multiSelectable,i.selected(i.isSelected_),i.selectable?i.multiSelectable?i.el_.setAttribute("role","menuitemcheckbox"):i.el_.setAttribute("role","menuitemradio"):i.el_.setAttribute("role","menuitem"),i}Bt(e,t);var n=e.prototype;return n.createEl=function(e,n,i){return this.nonIconControl=!0,t.prototype.createEl.call(this,"li",h({className:"vjs-menu-item",innerHTML:'<span class="vjs-menu-item-text">'+this.localize(this.options_.label)+"</span>",tabIndex:-1},n),i)},n.handleKeyDown=function(e){Bi.some((function(t){return Ae.isEventKey(e,t)}))||t.prototype.handleKeyDown.call(this,e)},n.handleClick=function(t){this.selected(!0)},n.selected=function(t){this.selectable&&(t?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},e}(ei);Vt.registerComponent("MenuItem",Hi);var Gi=function(e){function i(i,r){var o,a=r.track,s=i.textTracks();r.label=a.label||a.language||"Unknown",r.selected="showing"===a.mode,(o=e.call(this,i,r)||this).track=a,o.kinds=(r.kinds||[r.kind||o.track.kind]).filter(Boolean);var u,l=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];o.handleTracksChange.apply(jt(o),e)},c=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];o.handleSelectedLanguageChange.apply(jt(o),e)};return i.on(["loadstart","texttrackchange"],l),s.addEventListener("change",l),s.addEventListener("selectedlanguagechange",c),o.on("dispose",(function(){i.off(["loadstart","texttrackchange"],l),s.removeEventListener("change",l),s.removeEventListener("selectedlanguagechange",c)})),void 0===s.onchange&&o.on(["tap","click"],(function(){if("object"!=typeof t.Event)try{u=new t.Event("change")}catch(t){}u||(u=n.createEvent("Event")).initEvent("change",!0,!0),s.dispatchEvent(u)})),o.handleTracksChange(),o}Bt(i,e);var r=i.prototype;return r.handleClick=function(t){var n=this.track,i=this.player_.textTracks();if(e.prototype.handleClick.call(this,t),i)for(var r=0;r<i.length;r++){var o=i[r];-1!==this.kinds.indexOf(o.kind)&&(o===n?"showing"!==o.mode&&(o.mode="showing"):"disabled"!==o.mode&&(o.mode="disabled"))}},r.handleTracksChange=function(t){var e="showing"===this.track.mode;e!==this.isSelected_&&this.selected(e)},r.handleSelectedLanguageChange=function(t){if("showing"===this.track.mode){var e=this.player_.cache_.selectedLanguage;if(e&&e.enabled&&e.language===this.track.language&&e.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},r.dispose=function(){this.track=null,e.prototype.dispose.call(this)},i}(Hi);Vt.registerComponent("TextTrackMenuItem",Gi);var Wi=function(t){function e(e,n){return n.track={player:e,kind:n.kind,kinds:n.kinds,default:!1,mode:"disabled"},n.kinds||(n.kinds=[n.kind]),n.label?n.track.label=n.label:n.track.label=n.kinds.join(" and ")+" off",n.selectable=!0,n.multiSelectable=!1,t.call(this,e,n)||this}Bt(e,t);var n=e.prototype;return n.handleTracksChange=function(t){for(var e=this.player().textTracks(),n=!0,i=0,r=e.length;i<r;i++){var o=e[i];if(this.options_.kinds.indexOf(o.kind)>-1&&"showing"===o.mode){n=!1;break}}n!==this.isSelected_&&this.selected(n)},n.handleSelectedLanguageChange=function(t){for(var e=this.player().textTracks(),n=!0,i=0,r=e.length;i<r;i++){var o=e[i];if(["captions","descriptions","subtitles"].indexOf(o.kind)>-1&&"showing"===o.mode){n=!1;break}}n&&(this.player_.cache_.selectedLanguage={enabled:!1})},e}(Gi);Vt.registerComponent("OffTextTrackMenuItem",Wi);var zi=function(t){function e(e,n){return void 0===n&&(n={}),n.tracks=e.textTracks(),t.call(this,e,n)||this}return Bt(e,t),e.prototype.createItems=function(t,e){var n;void 0===t&&(t=[]),void 0===e&&(e=Gi),this.label_&&(n=this.label_+" off"),t.push(new Wi(this.player_,{kinds:this.kinds_,kind:this.kind_,label:n})),this.hideThreshold_+=1;var i=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var r=0;r<i.length;r++){var o=i[r];if(this.kinds_.indexOf(o.kind)>-1){var a=new e(this.player_,{track:o,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});a.addClass("vjs-"+o.kind+"-menu-item"),t.push(a)}}return t},e}(Ui);Vt.registerComponent("TextTrackButton",zi);var $i=function(t){function e(e,n){var i,r=n.track,o=n.cue,a=e.currentTime();return n.selectable=!0,n.multiSelectable=!1,n.label=o.text,n.selected=o.startTime<=a&&a<o.endTime,(i=t.call(this,e,n)||this).track=r,i.cue=o,r.addEventListener("cuechange",vt(jt(i),i.update)),i}Bt(e,t);var n=e.prototype;return n.handleClick=function(e){t.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},n.update=function(t){var e=this.cue,n=this.player_.currentTime();this.selected(e.startTime<=n&&n<e.endTime)},e}(Hi);Vt.registerComponent("ChaptersTrackMenuItem",$i);var Yi=function(t){function e(e,n,i){return t.call(this,e,n,i)||this}Bt(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-chapters-button "+t.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-chapters-button "+t.prototype.buildWrapperCSSClass.call(this)},n.update=function(e){this.track_&&(!e||"addtrack"!==e.type&&"removetrack"!==e.type)||this.setTrack(this.findChaptersTrack()),t.prototype.update.call(this)},n.setTrack=function(t){if(this.track_!==t){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var e=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);e&&e.removeEventListener("load",this.updateHandler_),this.track_=null}if(this.track_=t,this.track_){this.track_.mode="hidden";var n=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);n&&n.addEventListener("load",this.updateHandler_)}}},n.findChaptersTrack=function(){for(var t=this.player_.textTracks()||[],e=t.length-1;e>=0;e--){var n=t[e];if(n.kind===this.kind_)return n}},n.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(kt(this.kind_))},n.createMenu=function(){return this.options_.title=this.getMenuCaption(),t.prototype.createMenu.call(this)},n.createItems=function(){var t=[];if(!this.track_)return t;var e=this.track_.cues;if(!e)return t;for(var n=0,i=e.length;n<i;n++){var r=e[n],o=new $i(this.player_,{track:this.track_,cue:r});t.push(o)}return t},e}(zi);Yi.prototype.kind_="chapters",Yi.prototype.controlText_="Chapters",Vt.registerComponent("ChaptersButton",Yi);var qi=function(t){function e(e,n,i){var r;r=t.call(this,e,n,i)||this;var o=e.textTracks(),a=vt(jt(r),r.handleTracksChange);return o.addEventListener("change",a),r.on("dispose",(function(){o.removeEventListener("change",a)})),r}Bt(e,t);var n=e.prototype;return n.handleTracksChange=function(t){for(var e=this.player().textTracks(),n=!1,i=0,r=e.length;i<r;i++){var o=e[i];if(o.kind!==this.kind_&&"showing"===o.mode){n=!0;break}}n?this.disable():this.enable()},n.buildCSSClass=function(){return"vjs-descriptions-button "+t.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+t.prototype.buildWrapperCSSClass.call(this)},e}(zi);qi.prototype.kind_="descriptions",qi.prototype.controlText_="Descriptions",Vt.registerComponent("DescriptionsButton",qi);var Xi=function(t){function e(e,n,i){return t.call(this,e,n,i)||this}Bt(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-subtitles-button "+t.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+t.prototype.buildWrapperCSSClass.call(this)},e}(zi);Xi.prototype.kind_="subtitles",Xi.prototype.controlText_="Subtitles",Vt.registerComponent("SubtitlesButton",Xi);var Ki=function(t){function e(e,n){var i;return n.track={player:e,kind:n.kind,label:n.kind+" settings",selectable:!1,default:!1,mode:"disabled"},n.selectable=!1,n.name="CaptionSettingsMenuItem",(i=t.call(this,e,n)||this).addClass("vjs-texttrack-settings"),i.controlText(", opens "+n.kind+" settings dialog"),i}return Bt(e,t),e.prototype.handleClick=function(t){this.player().getChild("textTrackSettings").open()},e}(Gi);Vt.registerComponent("CaptionSettingsMenuItem",Ki);var Zi=function(t){function e(e,n,i){return t.call(this,e,n,i)||this}Bt(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-captions-button "+t.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-captions-button "+t.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(){var e=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(e.push(new Ki(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),t.prototype.createItems.call(this,e)},e}(zi);Zi.prototype.kind_="captions",Zi.prototype.controlText_="Captions",Vt.registerComponent("CaptionsButton",Zi);var Ji=function(t){function e(){return t.apply(this,arguments)||this}return Bt(e,t),e.prototype.createEl=function(e,n,i){var r='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);return"captions"===this.options_.track.kind&&(r+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Captions")+"</span>\n      "),r+="</span>",t.prototype.createEl.call(this,e,h({innerHTML:r},n),i)},e}(Gi);Vt.registerComponent("SubsCapsMenuItem",Ji);var Qi=function(t){function e(e,n){var i;return void 0===n&&(n={}),(i=t.call(this,e,n)||this).label_="subtitles",["en","en-us","en-ca","fr-ca"].indexOf(i.player_.language_)>-1&&(i.label_="captions"),i.menuButton_.controlText(kt(i.label_)),i}Bt(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-subs-caps-button "+t.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+t.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(){var e=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(e.push(new Ki(this.player_,{kind:this.label_})),this.hideThreshold_+=1),e=t.prototype.createItems.call(this,e,Ji)},e}(zi);Qi.prototype.kinds_=["captions","subtitles"],Qi.prototype.controlText_="Subtitles",Vt.registerComponent("SubsCapsButton",Qi);var tr=function(t){function e(e,n){var i,r=n.track,o=e.audioTracks();n.label=r.label||r.language||"Unknown",n.selected=r.enabled,(i=t.call(this,e,n)||this).track=r,i.addClass("vjs-"+r.kind+"-menu-item");var a=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];i.handleTracksChange.apply(jt(i),e)};return o.addEventListener("change",a),i.on("dispose",(function(){o.removeEventListener("change",a)})),i}Bt(e,t);var n=e.prototype;return n.createEl=function(e,n,i){var r='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);return"main-desc"===this.options_.track.kind&&(r+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Descriptions")+"</span>\n      "),r+="</span>",t.prototype.createEl.call(this,e,h({innerHTML:r},n),i)},n.handleClick=function(e){var n=this.player_.audioTracks();t.prototype.handleClick.call(this,e);for(var i=0;i<n.length;i++){var r=n[i];r.enabled=r===this.track}},n.handleTracksChange=function(t){this.selected(this.track.enabled)},e}(Hi);Vt.registerComponent("AudioTrackMenuItem",tr);var er=function(t){function e(e,n){return void 0===n&&(n={}),n.tracks=e.audioTracks(),t.call(this,e,n)||this}Bt(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-audio-button "+t.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-audio-button "+t.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(t){void 0===t&&(t=[]),this.hideThreshold_=1;for(var e=this.player_.audioTracks(),n=0;n<e.length;n++){var i=e[n];t.push(new tr(this.player_,{track:i,selectable:!0,multiSelectable:!1}))}return t},e}(Ui);er.prototype.controlText_="Audio Track",Vt.registerComponent("AudioTrackButton",er);var nr=function(t){function e(e,n){var i,r=n.rate,o=parseFloat(r,10);return n.label=r,n.selected=1===o,n.selectable=!0,n.multiSelectable=!1,(i=t.call(this,e,n)||this).label=r,i.rate=o,i.on(e,"ratechange",i.update),i}Bt(e,t);var n=e.prototype;return n.handleClick=function(e){t.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},n.update=function(t){this.selected(this.player().playbackRate()===this.rate)},e}(Hi);nr.prototype.contentElType="button",Vt.registerComponent("PlaybackRateMenuItem",nr);var ir=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).updateVisibility(),i.updateLabel(),i.on(e,"loadstart",i.updateVisibility),i.on(e,"ratechange",i.updateLabel),i}Bt(e,t);var n=e.prototype;return n.createEl=function(){var e=t.prototype.createEl.call(this);return this.labelEl_=S("div",{className:"vjs-playback-rate-value",innerHTML:"1x"}),e.appendChild(this.labelEl_),e},n.dispose=function(){this.labelEl_=null,t.prototype.dispose.call(this)},n.buildCSSClass=function(){return"vjs-playback-rate "+t.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-playback-rate "+t.prototype.buildWrapperCSSClass.call(this)},n.createMenu=function(){var t=new Vi(this.player()),e=this.playbackRates();if(e)for(var n=e.length-1;n>=0;n--)t.addChild(new nr(this.player(),{rate:e[n]+"x"}));return t},n.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},n.handleClick=function(t){for(var e=this.player().playbackRate(),n=this.playbackRates(),i=n[0],r=0;r<n.length;r++)if(n[r]>e){i=n[r];break}this.player().playbackRate(i)},n.playbackRates=function(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates},n.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},n.updateVisibility=function(t){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},n.updateLabel=function(t){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")},e}(ji);ir.prototype.controlText_="Playback Rate",Vt.registerComponent("PlaybackRateMenuButton",ir);var rr=function(t){function e(){return t.apply(this,arguments)||this}Bt(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-spacer "+t.prototype.buildCSSClass.call(this)},n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},e}(Vt);Vt.registerComponent("Spacer",rr);var or=function(t){function e(){return t.apply(this,arguments)||this}Bt(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-custom-control-spacer "+t.prototype.buildCSSClass.call(this)},n.createEl=function(){var e=t.prototype.createEl.call(this,{className:this.buildCSSClass()});return e.innerHTML=" ",e},e}(rr);Vt.registerComponent("CustomControlSpacer",or);var ar=function(t){function e(){return t.apply(this,arguments)||this}return Bt(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},e}(Vt);ar.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]},"exitPictureInPicture"in n&&ar.prototype.options_.children.splice(ar.prototype.options_.children.length-1,0,"pictureInPictureToggle"),Vt.registerComponent("ControlBar",ar);var sr=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).on(e,"error",i.open),i}Bt(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-error-display "+t.prototype.buildCSSClass.call(this)},n.content=function(){var t=this.player().error();return t?this.localize(t.message):""},e}(Pe);sr.prototype.options_=u({},Pe.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),Vt.registerComponent("ErrorDisplay",sr);var ur=["#000","Black"],lr=["#00F","Blue"],cr=["#0FF","Cyan"],dr=["#0F0","Green"],hr=["#F0F","Magenta"],fr=["#F00","Red"],pr=["#FFF","White"],gr=["#FF0","Yellow"],mr=["1","Opaque"],vr=["0.5","Semi-Transparent"],yr=["0","Transparent"],_r={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[ur,pr,fr,dr,lr,gr,hr,cr]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[mr,vr,yr]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[pr,ur,fr,dr,lr,gr,hr,cr]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(t){return"1.00"===t?null:Number(t)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[mr,vr]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[yr,vr,mr]}};function br(t,e){if(e&&(t=e(t)),t&&"none"!==t)return t}_r.windowColor.options=_r.backgroundColor.options;var Tr=function(e){function n(t,n){var i;return n.temporary=!1,(i=e.call(this,t,n)||this).updateDisplay=vt(jt(i),i.updateDisplay),i.fill(),i.hasBeenOpened_=i.hasBeenFilled_=!0,i.endDialog=S("p",{className:"vjs-control-text",textContent:i.localize("End of dialog window.")}),i.el().appendChild(i.endDialog),i.setDefaults(),void 0===n.persistTextTrackSettings&&(i.options_.persistTextTrackSettings=i.options_.playerOptions.persistTextTrackSettings),i.on(i.$(".vjs-done-button"),"click",(function(){i.saveSettings(),i.close()})),i.on(i.$(".vjs-default-button"),"click",(function(){i.setDefaults(),i.updateDisplay()})),d(_r,(function(t){i.on(i.$(t.selector),"change",i.updateDisplay)})),i.options_.persistTextTrackSettings&&i.restoreSettings(),i}Bt(n,e);var i=n.prototype;return i.dispose=function(){this.endDialog=null,e.prototype.dispose.call(this)},i.createElSelect_=function(t,e,n){var i=this;void 0===e&&(e=""),void 0===n&&(n="label");var r=_r[t],o=r.id.replace("%s",this.id_),a=[e,o].join(" ").trim();return["<"+n+' id="'+o+'" class="'+("label"===n?"vjs-label":"")+'">',this.localize(r.label),"</"+n+">",'<select aria-labelledby="'+a+'">'].concat(r.options.map((function(t){var e=o+"-"+t[1].replace(/\W+/g,"");return['<option id="'+e+'" value="'+t[0]+'" ','aria-labelledby="'+a+" "+e+'">',i.localize(t[1]),"</option>"].join("")}))).concat("</select>").join("")},i.createElFgColor_=function(){var t="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",t),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",t),"</span>","</fieldset>"].join("")},i.createElBgColor_=function(){var t="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",t),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",t),"</span>","</fieldset>"].join("")},i.createElWinColor_=function(){var t="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",t),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",t),"</span>","</fieldset>"].join("")},i.createElColors_=function(){return S("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},i.createElFont_=function(){return S("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},i.createElControls_=function(){var t=this.localize("restore all settings to the default values");return S("div",{className:"vjs-track-settings-controls",innerHTML:['<button type="button" class="vjs-default-button" title="'+t+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+t+"</span>","</button>",'<button type="button" class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},i.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},i.label=function(){return this.localize("Caption Settings Dialog")},i.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},i.buildCSSClass=function(){return e.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},i.getValues=function(){var t,e,n,i=this;return e=function(t,e,n){var r,o,a=(r=i.$(e.selector),o=e.parser,br(r.options[r.options.selectedIndex].value,o));return void 0!==a&&(t[n]=a),t},void 0===(n={})&&(n=0),c(t=_r).reduce((function(n,i){return e(n,t[i],i)}),n)},i.setValues=function(t){var e=this;d(_r,(function(n,i){!function(t,e,n){if(e)for(var i=0;i<t.options.length;i++)if(br(t.options[i].value,n)===e){t.selectedIndex=i;break}}(e.$(n.selector),t[i],n.parser)}))},i.setDefaults=function(){var t=this;d(_r,(function(e){var n=e.hasOwnProperty("default")?e.default:0;t.$(e.selector).selectedIndex=n}))},i.restoreSettings=function(){var e;try{e=JSON.parse(t.localStorage.getItem("vjs-text-track-settings"))}catch(t){r.warn(t)}e&&this.setValues(e)},i.saveSettings=function(){if(this.options_.persistTextTrackSettings){var e=this.getValues();try{Object.keys(e).length?t.localStorage.setItem("vjs-text-track-settings",JSON.stringify(e)):t.localStorage.removeItem("vjs-text-track-settings")}catch(t){r.warn(t)}}},i.updateDisplay=function(){var t=this.player_.getChild("textTrackDisplay");t&&t.updateDisplay()},i.conditionalBlur_=function(){this.previouslyActiveEl_=null;var t=this.player_.controlBar,e=t&&t.subsCapsButton,n=t&&t.captionsButton;e?e.focus():n&&n.focus()},n}(Pe);Vt.registerComponent("TextTrackSettings",Tr);var Sr=function(e){function n(n,i){var r,o=i.ResizeObserver||t.ResizeObserver;null===i.ResizeObserver&&(o=!1);var a=Dt({createEl:!o,reportTouchActivity:!1},i);return(r=e.call(this,n,a)||this).ResizeObserver=i.ResizeObserver||t.ResizeObserver,r.loadListener_=null,r.resizeObserver_=null,r.debouncedHandler_=function(e,n,i,r){var o;void 0===r&&(r=t);var a=function(){var t=this,a=arguments,s=function(){o=null,s=null,i||e.apply(t,a)};!o&&i&&e.apply(t,a),r.clearTimeout(o),o=r.setTimeout(s,n)};return a.cancel=function(){r.clearTimeout(o),o=null},a}((function(){r.resizeHandler()}),100,!1,jt(r)),o?(r.resizeObserver_=new r.ResizeObserver(r.debouncedHandler_),r.resizeObserver_.observe(n.el())):(r.loadListener_=function(){if(r.el_&&r.el_.contentWindow){var t=r.debouncedHandler_,e=r.unloadListener_=function(){dt(this,"resize",t),dt(this,"unload",e),e=null};ct(r.el_.contentWindow,"unload",e),ct(r.el_.contentWindow,"resize",t)}},r.one("load",r.loadListener_)),r}Bt(n,e);var i=n.prototype;return i.createEl=function(){return e.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager",tabIndex:-1},{"aria-hidden":"true"})},i.resizeHandler=function(){this.player_&&this.player_.trigger&&this.player_.trigger("playerresize")},i.dispose=function(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,e.prototype.dispose.call(this)},n}(Vt);Vt.registerComponent("ResizeManager",Sr);var wr={trackingThreshold:30,liveTolerance:15},Er=function(e){function i(t,i){var r,o=Dt(wr,i,{createEl:!1});return(r=e.call(this,t,o)||this).reset_(),r.on(r.player_,"durationchange",r.handleDurationchange),te&&"hidden"in n&&"visibilityState"in n&&r.on(n,"visibilitychange",r.handleVisibilityChange),r}Bt(i,e);var r=i.prototype;return r.handleVisibilityChange=function(){this.player_.duration()===1/0&&(n.hidden?this.stopTracking():this.startTracking())},r.trackLive_=function(){var e=this.player_.seekable();if(e&&e.length){var n=Number(t.performance.now().toFixed(4)),i=-1===this.lastTime_?0:(n-this.lastTime_)/1e3;this.lastTime_=n,this.pastSeekEnd_=this.pastSeekEnd()+i;var r=this.liveCurrentTime(),o=this.player_.currentTime(),a=this.player_.paused()||this.seekedBehindLive_||Math.abs(r-o)>this.options_.liveTolerance;this.timeupdateSeen_&&r!==1/0||(a=!1),a!==this.behindLiveEdge_&&(this.behindLiveEdge_=a,this.trigger("liveedgechange"))}},r.handleDurationchange=function(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())},r.startTracking=function(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLive_,30),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLive_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked):(this.one(this.player_,"play",this.handlePlay),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate)))},r.handleFirstTimeupdate=function(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked)},r.handleSeeked=function(){var t=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=!this.skipNextSeeked_&&t>2,this.skipNextSeeked_=!1,this.trackLive_()},r.handlePlay=function(){this.one(this.player_,"timeupdate",this.seekToLiveEdge)},r.reset_=function(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.skipNextSeeked_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLive_),this.off(this.player_,"seeked",this.handleSeeked),this.off(this.player_,"play",this.handlePlay),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate),this.off(this.player_,"timeupdate",this.seekToLiveEdge)},r.stopTracking=function(){this.isTracking()&&(this.reset_(),this.trigger("liveedgechange"))},r.seekableEnd=function(){for(var t=this.player_.seekable(),e=[],n=t?t.length:0;n--;)e.push(t.end(n));return e.length?e.sort()[e.length-1]:1/0},r.seekableStart=function(){for(var t=this.player_.seekable(),e=[],n=t?t.length:0;n--;)e.push(t.start(n));return e.length?e.sort()[0]:0},r.liveWindow=function(){var t=this.liveCurrentTime();return t===1/0?1/0:t-this.seekableStart()},r.isLive=function(){return this.isTracking()},r.atLiveEdge=function(){return!this.behindLiveEdge()},r.liveCurrentTime=function(){return this.pastSeekEnd()+this.seekableEnd()},r.pastSeekEnd=function(){var t=this.seekableEnd();return-1!==this.lastSeekEnd_&&t!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=t,this.pastSeekEnd_},r.behindLiveEdge=function(){return this.behindLiveEdge_},r.isTracking=function(){return"number"==typeof this.trackingInterval_},r.seekToLiveEdge=function(){this.seekedBehindLive_=!1,this.atLiveEdge()||(this.skipNextSeeked_=!0,this.player_.currentTime(this.liveCurrentTime()))},r.dispose=function(){this.off(n,"visibilitychange",this.handleVisibilityChange),this.stopTracking(),e.prototype.dispose.call(this)},i}(Vt);Vt.registerComponent("LiveTracker",Er);var Cr,Or=function(t){var e=t.el();if(e.hasAttribute("src"))return t.triggerSourceset(e.src),!0;var n=t.$$("source"),i=[],r="";if(!n.length)return!1;for(var o=0;o<n.length;o++){var a=n[o].src;a&&-1===i.indexOf(a)&&i.push(a)}return!!i.length&&(1===i.length&&(r=i[0]),t.triggerSourceset(r),!0)},Ar=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(e){var i=n.createElement(this.nodeName.toLowerCase());i.innerHTML=e;for(var r=n.createDocumentFragment();i.childNodes.length;)r.appendChild(i.childNodes[0]);return this.innerText="",t.Element.prototype.appendChild.call(this,r),this.innerHTML}}),Pr=function(t,e){for(var n={},i=0;i<t.length&&!((n=Object.getOwnPropertyDescriptor(t[i],e))&&n.set&&n.get);i++);return n.enumerable=!0,n.configurable=!0,n},Ir=function(e){var n=e.el();if(!n.resetSourceWatch_){var i={},r=function(e){return Pr([e.el(),t.HTMLMediaElement.prototype,t.Element.prototype,Ar],"innerHTML")}(e),o=function(t){return function(){for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];var a=t.apply(n,r);return Or(e),a}};["append","appendChild","insertAdjacentHTML"].forEach((function(t){n[t]&&(i[t]=n[t],n[t]=o(i[t]))})),Object.defineProperty(n,"innerHTML",Dt(r,{set:o(r.set)})),n.resetSourceWatch_=function(){n.resetSourceWatch_=null,Object.keys(i).forEach((function(t){n[t]=i[t]})),Object.defineProperty(n,"innerHTML",r)},e.one("sourceset",n.resetSourceWatch_)}},xr=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?We(t.Element.prototype.getAttribute.call(this,"src")):""},set:function(e){return t.Element.prototype.setAttribute.call(this,"src",e),e}}),Mr=function(e){if(e.featuresSourceset){var n=e.el();if(!n.resetSourceset_){var i=function(e){return Pr([e.el(),t.HTMLMediaElement.prototype,xr],"src")}(e),r=n.setAttribute,o=n.load;Object.defineProperty(n,"src",Dt(i,{set:function(t){var r=i.set.call(n,t);return e.triggerSourceset(n.src),r}})),n.setAttribute=function(t,i){var o=r.call(n,t,i);return/src/i.test(t)&&e.triggerSourceset(n.src),o},n.load=function(){var t=o.call(n);return Or(e)||(e.triggerSourceset(""),Ir(e)),t},n.currentSrc?e.triggerSourceset(n.currentSrc):Or(e)||Ir(e),n.resetSourceset_=function(){n.resetSourceset_=null,n.load=o,n.setAttribute=r,Object.defineProperty(n,"src",i),n.resetSourceWatch_&&n.resetSourceWatch_()}}}},kr=function(t,e,n,i){void 0===i&&(i=!0);var r=function(n){return Object.defineProperty(t,e,{value:n,enumerable:!0,writable:!0})},o={configurable:!0,enumerable:!0,get:function(){var t=n();return r(t),t}};return i&&(o.set=r),Object.defineProperty(t,e,o)},Dr=function(e){function i(t,n){var i;i=e.call(this,t,n)||this;var o=t.source,a=!1;if(o&&(i.el_.currentSrc!==o.src||t.tag&&3===t.tag.initNetworkState_)?i.setSource(o):i.handleLateInit_(i.el_),t.enableSourceset&&i.setupSourcesetHandling_(),i.el_.hasChildNodes()){for(var s=i.el_.childNodes,u=s.length,l=[];u--;){var c=s[u];"track"===c.nodeName.toLowerCase()&&(i.featuresNativeTextTracks?(i.remoteTextTrackEls().addTrackElement_(c),i.remoteTextTracks().addTrack(c.track),i.textTracks().addTrack(c.track),a||i.el_.hasAttribute("crossorigin")||!$e(c.src)||(a=!0)):l.push(c))}for(var d=0;d<l.length;d++)i.el_.removeChild(l[d])}return i.proxyNativeTracks_(),i.featuresNativeTextTracks&&a&&r.warn("Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\nThis may prevent text tracks from loading."),i.restoreMetadataTracksInIOSNativePlayer_(),(ie||oe||Xt)&&!0===t.nativeControlsForTouch&&i.setControls(!0),i.proxyWebkitFullscreen_(),i.triggerReady(),i}Bt(i,e);var o=i.prototype;return o.dispose=function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),i.disposeMediaElement(this.el_),this.options_=null,e.prototype.dispose.call(this)},o.setupSourcesetHandling_=function(){Mr(this)},o.restoreMetadataTracksInIOSNativePlayer_=function(){var t,e=this.textTracks(),n=function(){t=[];for(var n=0;n<e.length;n++){var i=e[n];"metadata"===i.kind&&t.push({track:i,storedMode:i.mode})}};n(),e.addEventListener("change",n),this.on("dispose",(function(){return e.removeEventListener("change",n)}));var i=function n(){for(var i=0;i<t.length;i++){var r=t[i];"disabled"===r.track.mode&&r.track.mode!==r.storedMode&&(r.track.mode=r.storedMode)}e.removeEventListener("change",n)};this.on("webkitbeginfullscreen",(function(){e.removeEventListener("change",n),e.removeEventListener("change",i),e.addEventListener("change",i)})),this.on("webkitendfullscreen",(function(){e.removeEventListener("change",n),e.addEventListener("change",n),e.removeEventListener("change",i)}))},o.overrideNative_=function(t,e){var n=this;if(e===this["featuresNative"+t+"Tracks"]){var i=t.toLowerCase();this[i+"TracksListeners_"]&&Object.keys(this[i+"TracksListeners_"]).forEach((function(t){n.el()[i+"Tracks"].removeEventListener(t,n[i+"TracksListeners_"][t])})),this["featuresNative"+t+"Tracks"]=!e,this[i+"TracksListeners_"]=null,this.proxyNativeTracksForType_(i)}},o.overrideNativeAudioTracks=function(t){this.overrideNative_("Audio",t)},o.overrideNativeVideoTracks=function(t){this.overrideNative_("Video",t)},o.proxyNativeTracksForType_=function(t){var e=this,n=un[t],i=this.el()[n.getterName],r=this[n.getterName]();if(this["featuresNative"+n.capitalName+"Tracks"]&&i&&i.addEventListener){var o={change:function(n){var i={type:"change",target:r,currentTarget:r,srcElement:r};r.trigger(i),"text"===t&&e[ln.remoteText.getterName]().trigger(i)},addtrack:function(t){r.addTrack(t.track)},removetrack:function(t){r.removeTrack(t.track)}},a=function(){for(var t=[],e=0;e<r.length;e++){for(var n=!1,o=0;o<i.length;o++)if(i[o]===r[e]){n=!0;break}n||t.push(r[e])}for(;t.length;)r.removeTrack(t.shift())};this[n.getterName+"Listeners_"]=o,Object.keys(o).forEach((function(t){var n=o[t];i.addEventListener(t,n),e.on("dispose",(function(e){return i.removeEventListener(t,n)}))})),this.on("loadstart",a),this.on("dispose",(function(t){return e.off("loadstart",a)}))}},o.proxyNativeTracks_=function(){var t=this;un.names.forEach((function(e){t.proxyNativeTracksForType_(e)}))},o.createEl=function(){var t=this.options_.tag;if(!t||!this.options_.playerElIngest&&!this.movingMediaElementInDOM){if(t){var e=t.cloneNode(!0);t.parentNode&&t.parentNode.insertBefore(e,t),i.disposeMediaElement(t),t=e}else{t=n.createElement("video");var r=Dt({},this.options_.tag&&x(this.options_.tag));ie&&!0===this.options_.nativeControlsForTouch||delete r.controls,I(t,h(r,{id:this.options_.techId,class:"vjs-tech"}))}t.playerId=this.options_.playerId}void 0!==this.options_.preload&&k(t,"preload",this.options_.preload),void 0!==this.options_.disablePictureInPicture&&(t.disablePictureInPicture=this.options_.disablePictureInPicture);for(var o=["loop","muted","playsinline","autoplay"],a=0;a<o.length;a++){var s=o[a],u=this.options_[s];void 0!==u&&(u?k(t,s,s):D(t,s),t[s]=u)}return t},o.handleLateInit_=function(t){if(0!==t.networkState&&3!==t.networkState){if(0===t.readyState){var e=!1,n=function(){e=!0};this.on("loadstart",n);var i=function(){e||this.trigger("loadstart")};return this.on("loadedmetadata",i),void this.ready((function(){this.off("loadstart",n),this.off("loadedmetadata",i),e||this.trigger("loadstart")}))}var r=["loadstart"];r.push("loadedmetadata"),t.readyState>=2&&r.push("loadeddata"),t.readyState>=3&&r.push("canplay"),t.readyState>=4&&r.push("canplaythrough"),this.ready((function(){r.forEach((function(t){this.trigger(t)}),this)}))}},o.setScrubbing=function(t){this.isScrubbing_=t},o.setCurrentTime=function(t){try{this.isScrubbing_&&this.el_.fastSeek&&se?this.el_.fastSeek(t):this.el_.currentTime=t}catch(t){r(t,"Video is not ready. (Video.js)")}},o.duration=function(){var t=this;return this.el_.duration===1/0&&Yt&&Jt&&0===this.el_.currentTime?(this.on("timeupdate",(function e(){t.el_.currentTime>0&&(t.el_.duration===1/0&&t.trigger("durationchange"),t.off("timeupdate",e))})),NaN):this.el_.duration||NaN},o.width=function(){return this.el_.offsetWidth},o.height=function(){return this.el_.offsetHeight},o.proxyWebkitFullscreen_=function(){var t=this;if("webkitDisplayingFullscreen"in this.el_){var e=function(){this.trigger("fullscreenchange",{isFullscreen:!1})},n=function(){"webkitPresentationMode"in this.el_&&"picture-in-picture"!==this.el_.webkitPresentationMode&&(this.one("webkitendfullscreen",e),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",n),this.on("dispose",(function(){t.off("webkitbeginfullscreen",n),t.off("webkitendfullscreen",e)}))}},o.supportsFullScreen=function(){if("function"==typeof this.el_.webkitEnterFullScreen){var e=t.navigator&&t.navigator.userAgent||"";if(/Android/.test(e)||!/Chrome|Mac OS X 10.5/.test(e))return!0}return!1},o.enterFullScreen=function(){var t=this.el_;if(t.paused&&t.networkState<=t.HAVE_METADATA)we(this.el_.play()),this.setTimeout((function(){t.pause();try{t.webkitEnterFullScreen()}catch(t){this.trigger("fullscreenerror",t)}}),0);else try{t.webkitEnterFullScreen()}catch(t){this.trigger("fullscreenerror",t)}},o.exitFullScreen=function(){this.el_.webkitDisplayingFullscreen?this.el_.webkitExitFullScreen():this.trigger("fullscreenerror",new Error("The video is not fullscreen"))},o.requestPictureInPicture=function(){return this.el_.requestPictureInPicture()},o.src=function(t){if(void 0===t)return this.el_.src;this.setSrc(t)},o.reset=function(){i.resetMediaElement(this.el_)},o.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},o.setControls=function(t){this.el_.controls=!!t},o.addTextTrack=function(t,n,i){return this.featuresNativeTextTracks?this.el_.addTextTrack(t,n,i):e.prototype.addTextTrack.call(this,t,n,i)},o.createRemoteTextTrack=function(t){if(!this.featuresNativeTextTracks)return e.prototype.createRemoteTextTrack.call(this,t);var i=n.createElement("track");return t.kind&&(i.kind=t.kind),t.label&&(i.label=t.label),(t.language||t.srclang)&&(i.srclang=t.language||t.srclang),t.default&&(i.default=t.default),t.id&&(i.id=t.id),t.src&&(i.src=t.src),i},o.addRemoteTextTrack=function(t,n){var i=e.prototype.addRemoteTextTrack.call(this,t,n);return this.featuresNativeTextTracks&&this.el().appendChild(i),i},o.removeRemoteTextTrack=function(t){if(e.prototype.removeRemoteTextTrack.call(this,t),this.featuresNativeTextTracks)for(var n=this.$$("track"),i=n.length;i--;)t!==n[i]&&t!==n[i].track||this.el().removeChild(n[i])},o.getVideoPlaybackQuality=function(){if("function"==typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();var e={};return void 0!==this.el().webkitDroppedFrameCount&&void 0!==this.el().webkitDecodedFrameCount&&(e.droppedVideoFrames=this.el().webkitDroppedFrameCount,e.totalVideoFrames=this.el().webkitDecodedFrameCount),t.performance&&"function"==typeof t.performance.now?e.creationTime=t.performance.now():t.performance&&t.performance.timing&&"number"==typeof t.performance.timing.navigationStart&&(e.creationTime=t.Date.now()-t.performance.timing.navigationStart),e},i}(Bn);kr(Dr,"TEST_VID",(function(){if(y()){var t=n.createElement("video"),e=n.createElement("track");return e.kind="captions",e.srclang="en",e.label="English",t.appendChild(e),t}})),Dr.isSupported=function(){try{Dr.TEST_VID.volume=.5}catch(t){return!1}return!(!Dr.TEST_VID||!Dr.TEST_VID.canPlayType)},Dr.canPlayType=function(t){return Dr.TEST_VID.canPlayType(t)},Dr.canPlaySource=function(t,e){return Dr.canPlayType(t.type)},Dr.canControlVolume=function(){try{var t=Dr.TEST_VID.volume;return Dr.TEST_VID.volume=t/2+.1,t!==Dr.TEST_VID.volume}catch(t){return!1}},Dr.canMuteVolume=function(){try{var t=Dr.TEST_VID.muted;return Dr.TEST_VID.muted=!t,Dr.TEST_VID.muted?k(Dr.TEST_VID,"muted","muted"):D(Dr.TEST_VID,"muted"),t!==Dr.TEST_VID.muted}catch(t){return!1}},Dr.canControlPlaybackRate=function(){if(Yt&&Jt&&Qt<58)return!1;try{var t=Dr.TEST_VID.playbackRate;return Dr.TEST_VID.playbackRate=t/2+.1,t!==Dr.TEST_VID.playbackRate}catch(t){return!1}},Dr.canOverrideAttributes=function(){try{var t=function(){};Object.defineProperty(n.createElement("video"),"src",{get:t,set:t}),Object.defineProperty(n.createElement("audio"),"src",{get:t,set:t}),Object.defineProperty(n.createElement("video"),"innerHTML",{get:t,set:t}),Object.defineProperty(n.createElement("audio"),"innerHTML",{get:t,set:t})}catch(t){return!1}return!0},Dr.supportsNativeTextTracks=function(){return se||ae&&Jt},Dr.supportsNativeVideoTracks=function(){return!(!Dr.TEST_VID||!Dr.TEST_VID.videoTracks)},Dr.supportsNativeAudioTracks=function(){return!(!Dr.TEST_VID||!Dr.TEST_VID.audioTracks)},Dr.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],[["featuresVolumeControl","canControlVolume"],["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach((function(t){var e=t[0],n=t[1];kr(Dr.prototype,e,(function(){return Dr[n]()}),!0)})),Dr.prototype.movingMediaElementInDOM=!ae,Dr.prototype.featuresFullscreenResize=!0,Dr.prototype.featuresProgressEvents=!0,Dr.prototype.featuresTimeupdateEvents=!0,Dr.patchCanPlayType=function(){qt>=4&&!Kt&&!Jt&&(Cr=Dr.TEST_VID&&Dr.TEST_VID.constructor.prototype.canPlayType,Dr.TEST_VID.constructor.prototype.canPlayType=function(t){return t&&/^application\/(?:x-|vnd\.apple\.)mpegurl/i.test(t)?"maybe":Cr.call(this,t)})},Dr.unpatchCanPlayType=function(){var t=Dr.TEST_VID.constructor.prototype.canPlayType;return Cr&&(Dr.TEST_VID.constructor.prototype.canPlayType=Cr),t},Dr.patchCanPlayType(),Dr.disposeMediaElement=function(t){if(t){for(t.parentNode&&t.parentNode.removeChild(t);t.hasChildNodes();)t.removeChild(t.firstChild);t.removeAttribute("src"),"function"==typeof t.load&&function(){try{t.load()}catch(t){}}()}},Dr.resetMediaElement=function(t){if(t){for(var e=t.querySelectorAll("source"),n=e.length;n--;)t.removeChild(e[n]);t.removeAttribute("src"),"function"==typeof t.load&&function(){try{t.load()}catch(t){}}()}},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach((function(t){Dr.prototype[t]=function(){return this.el_[t]||this.el_.hasAttribute(t)}})),["muted","defaultMuted","autoplay","loop","playsinline"].forEach((function(t){Dr.prototype["set"+kt(t)]=function(e){this.el_[t]=e,e?this.el_.setAttribute(t,t):this.el_.removeAttribute(t)}})),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach((function(t){Dr.prototype[t]=function(){return this.el_[t]}})),["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach((function(t){Dr.prototype["set"+kt(t)]=function(e){this.el_[t]=e}})),["pause","load","play"].forEach((function(t){Dr.prototype[t]=function(){return this.el_[t]()}})),Bn.withSourceHandlers(Dr),Dr.nativeSourceHandler={},Dr.nativeSourceHandler.canPlayType=function(t){try{return Dr.TEST_VID.canPlayType(t)}catch(t){return""}},Dr.nativeSourceHandler.canHandleSource=function(t,e){if(t.type)return Dr.nativeSourceHandler.canPlayType(t.type);if(t.src){var n=ze(t.src);return Dr.nativeSourceHandler.canPlayType("video/"+n)}return""},Dr.nativeSourceHandler.handleSource=function(t,e,n){e.setSrc(t.src)},Dr.nativeSourceHandler.dispose=function(){},Dr.registerSourceHandler(Dr.nativeSourceHandler),Bn.registerTech("Html5",Dr);var Rr=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],Nr={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},Lr=["tiny","xsmall","small","medium","large","xlarge","huge"],Fr={};Lr.forEach((function(t){var e="x"===t.charAt(0)?"x-"+t.substring(1):t;Fr[t]="vjs-layout-"+e}));var Vr={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0},jr=function(e){function i(t,r,a){var s;if(t.id=t.id||r.id||"vjs_video_"+it(),(r=h(i.getTagSettings(t),r)).initChildren=!1,r.createEl=!1,r.evented=!1,r.reportTouchActivity=!1,!r.language)if("function"==typeof t.closest){var u=t.closest("[lang]");u&&u.getAttribute&&(r.language=u.getAttribute("lang"))}else for(var l=t;l&&1===l.nodeType;){if(x(l).hasOwnProperty("lang")){r.language=l.getAttribute("lang");break}l=l.parentNode}if((s=e.call(this,null,r,a)||this).boundDocumentFullscreenChange_=vt(jt(s),s.documentFullscreenChange_),s.boundFullWindowOnEscKey_=vt(jt(s),s.fullWindowOnEscKey),s.isFullscreen_=!1,s.log=o(s.id_),s.fsApi_=pe,s.isPosterFromTech_=!1,s.queuedCallbacks_=[],s.isReady_=!1,s.hasStarted_=!1,s.userActive_=!1,s.debugEnabled_=!1,!s.options_||!s.options_.techOrder||!s.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(s.tag=t,s.tagAttributes=t&&x(t),s.language(s.options_.language),r.languages){var c={};Object.getOwnPropertyNames(r.languages).forEach((function(t){c[t.toLowerCase()]=r.languages[t]})),s.languages_=c}else s.languages_=i.prototype.options_.languages;s.resetCache_(),s.poster_=r.poster||"",s.controls_=!!r.controls,t.controls=!1,t.removeAttribute("controls"),s.changingSrc_=!1,s.playCallbacks_=[],s.playTerminatedQueue_=[],t.hasAttribute("autoplay")?s.autoplay(!0):s.autoplay(s.options_.autoplay),r.plugins&&Object.keys(r.plugins).forEach((function(t){if("function"!=typeof s[t])throw new Error('plugin "'+t+'" does not exist')})),s.scrubbing_=!1,s.el_=s.createEl(),Pt(jt(s),{eventBusKey:"el_"}),s.fsApi_.requestFullscreen&&(ct(n,s.fsApi_.fullscreenchange,s.boundDocumentFullscreenChange_),s.on(s.fsApi_.fullscreenchange,s.boundDocumentFullscreenChange_)),s.fluid_&&s.on("playerreset",s.updateStyleEl_);var d=Dt(s.options_);r.plugins&&Object.keys(r.plugins).forEach((function(t){s[t](r.plugins[t])})),r.debug&&s.debug(!0),s.options_.playerOptions=d,s.middleware_=[],s.initChildren(),s.isAudio("audio"===t.nodeName.toLowerCase()),s.controls()?s.addClass("vjs-controls-enabled"):s.addClass("vjs-controls-disabled"),s.el_.setAttribute("role","region"),s.isAudio()?s.el_.setAttribute("aria-label",s.localize("Audio Player")):s.el_.setAttribute("aria-label",s.localize("Video Player")),s.isAudio()&&s.addClass("vjs-audio"),s.flexNotSupported_()&&s.addClass("vjs-no-flex"),ie&&s.addClass("vjs-touch-enabled"),ae||s.addClass("vjs-workinghover"),i.players[s.id_]=jt(s);var f="7.10.2".split(".")[0];return s.addClass("vjs-v"+f),s.userActive(!0),s.reportUserActivity(),s.one("play",s.listenForUserActivity_),s.on("stageclick",s.handleStageClick_),s.on("keydown",s.handleKeyDown),s.breakpoints(s.options_.breakpoints),s.responsive(s.options_.responsive),s}Bt(i,e);var a=i.prototype;return a.dispose=function(){var t=this;this.trigger("dispose"),this.off("dispose"),dt(n,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),dt(n,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),i.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),Gn[this.id()]=null,cn.names.forEach((function(e){var n=cn[e],i=t[n.getterName]();i&&i.off&&i.off()})),e.prototype.dispose.call(this)},a.createEl=function(){var i,r=this.tag,o=this.playerElIngest_=r.parentNode&&r.parentNode.hasAttribute&&r.parentNode.hasAttribute("data-vjs-player"),a="video-js"===this.tag.tagName.toLowerCase();o?i=this.el_=r.parentNode:a||(i=this.el_=e.prototype.createEl.call(this,"div"));var s=x(r);if(a){for(i=this.el_=r,r=this.tag=n.createElement("video");i.children.length;)r.appendChild(i.firstChild);C(i,"video-js")||O(i,"video-js"),i.appendChild(r),o=this.playerElIngest_=i,Object.keys(i).forEach((function(t){try{r[t]=i[t]}catch(t){}}))}if(r.setAttribute("tabindex","-1"),s.tabindex="-1",(te||Jt&&ne)&&(r.setAttribute("role","application"),s.role="application"),r.removeAttribute("width"),r.removeAttribute("height"),"width"in s&&delete s.width,"height"in s&&delete s.height,Object.getOwnPropertyNames(s).forEach((function(t){a&&"class"===t||i.setAttribute(t,s[t]),a&&r.setAttribute(t,s[t])})),r.playerId=r.id,r.id+="_html5_api",r.className="vjs-tech",r.player=i.player=this,this.addClass("vjs-paused"),!0!==t.VIDEOJS_NO_DYNAMIC_STYLE){this.styleEl_=tt("vjs-styles-dimensions");var u=$(".vjs-styles-defaults"),l=$("head");l.insertBefore(this.styleEl_,u?u.nextSibling:l.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);for(var c=r.getElementsByTagName("a"),d=0;d<c.length;d++){var h=c.item(d);O(h,"vjs-hidden"),h.setAttribute("hidden","hidden")}return r.initNetworkState_=r.networkState,r.parentNode&&!o&&r.parentNode.insertBefore(i,r),E(r,i),this.children_.unshift(r),this.el_.setAttribute("lang",this.language_),this.el_=i,i},a.crossOrigin=function(t){if(!t)return this.techGet_("crossOrigin");"anonymous"===t||"use-credentials"===t?this.techCall_("setCrossOrigin",t):r.warn('crossOrigin must be "anonymous" or "use-credentials", given "'+t+'"')},a.width=function(t){return this.dimension("width",t)},a.height=function(t){return this.dimension("height",t)},a.dimension=function(t,e){var n=t+"_";if(void 0===e)return this[n]||0;if(""===e||"auto"===e)return this[n]=void 0,void this.updateStyleEl_();var i=parseFloat(e);isNaN(i)?r.error('Improper value "'+e+'" supplied for for '+t):(this[n]=i,this.updateStyleEl_())},a.fluid=function(t){if(void 0===t)return!!this.fluid_;var e,n;this.fluid_=!!t,bt(this)&&this.off("playerreset",this.updateStyleEl_),t?(this.addClass("vjs-fluid"),this.fill(!1),bt(e=function(){this.on("playerreset",this.updateStyleEl_)})?n():(e.eventedCallbacks||(e.eventedCallbacks=[]),e.eventedCallbacks.push(n))):this.removeClass("vjs-fluid"),this.updateStyleEl_()},a.fill=function(t){if(void 0===t)return!!this.fill_;this.fill_=!!t,t?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")},a.aspectRatio=function(t){if(void 0===t)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(t))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=t,this.fluid(!0),this.updateStyleEl_()},a.updateStyleEl_=function(){if(!0!==t.VIDEOJS_NO_DYNAMIC_STYLE){var e,n,i,r=(void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:this.videoWidth()>0?this.videoWidth()+":"+this.videoHeight():"16:9").split(":"),o=r[1]/r[0];e=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/o:this.videoWidth()||300,n=void 0!==this.height_?this.height_:e*o,i=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(i),et(this.styleEl_,"\n      ."+i+" {\n        width: "+e+"px;\n        height: "+n+"px;\n      }\n\n      ."+i+".vjs-fluid {\n        padding-top: "+100*o+"%;\n      }\n    ")}else{var a="number"==typeof this.width_?this.width_:this.options_.width,s="number"==typeof this.height_?this.height_:this.options_.height,u=this.tech_&&this.tech_.el();u&&(a>=0&&(u.width=a),s>=0&&(u.height=s))}},a.loadTech_=function(t,e){var n=this;this.tech_&&this.unloadTech_();var i=kt(t),r=t.charAt(0).toLowerCase()+t.slice(1);"Html5"!==i&&this.tag&&(Bn.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=i,this.isReady_=!1;var o={source:e,autoplay:"string"!=typeof this.autoplay()&&this.autoplay(),nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+r+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset,Promise:this.options_.Promise};cn.names.forEach((function(t){var e=cn[t];o[e.getterName]=n[e.privateName]})),h(o,this.options_[i]),h(o,this.options_[r]),h(o,this.options_[t.toLowerCase()]),this.tag&&(o.tag=this.tag),e&&e.src===this.cache_.src&&this.cache_.currentTime>0&&(o.startTime=this.cache_.currentTime);var a=Bn.getTech(t);if(!a)throw new Error("No Tech named '"+i+"' exists! '"+i+"' should be registered using videojs.registerTech()'");this.tech_=new a(o),this.tech_.ready(vt(this,this.handleTechReady_),!0),Oe(this.textTracksJson_||[],this.tech_),Rr.forEach((function(t){n.on(n.tech_,t,n["handleTech"+kt(t)+"_"])})),Object.keys(Nr).forEach((function(t){n.on(n.tech_,t,(function(e){0===n.tech_.playbackRate()&&n.tech_.seeking()?n.queuedCallbacks_.push({callback:n["handleTech"+Nr[t]+"_"].bind(n),event:e}):n["handleTech"+Nr[t]+"_"](e)}))})),this.on(this.tech_,"loadstart",this.handleTechLoadStart_),this.on(this.tech_,"sourceset",this.handleTechSourceset_),this.on(this.tech_,"waiting",this.handleTechWaiting_),this.on(this.tech_,"ended",this.handleTechEnded_),this.on(this.tech_,"seeking",this.handleTechSeeking_),this.on(this.tech_,"play",this.handleTechPlay_),this.on(this.tech_,"firstplay",this.handleTechFirstPlay_),this.on(this.tech_,"pause",this.handleTechPause_),this.on(this.tech_,"durationchange",this.handleTechDurationChange_),this.on(this.tech_,"fullscreenchange",this.handleTechFullscreenChange_),this.on(this.tech_,"fullscreenerror",this.handleTechFullscreenError_),this.on(this.tech_,"enterpictureinpicture",this.handleTechEnterPictureInPicture_),this.on(this.tech_,"leavepictureinpicture",this.handleTechLeavePictureInPicture_),this.on(this.tech_,"error",this.handleTechError_),this.on(this.tech_,"loadedmetadata",this.updateStyleEl_),this.on(this.tech_,"posterchange",this.handleTechPosterChange_),this.on(this.tech_,"textdata",this.handleTechTextData_),this.on(this.tech_,"ratechange",this.handleTechRateChange_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===i&&this.tag||E(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},a.unloadTech_=function(){var t=this;cn.names.forEach((function(e){var n=cn[e];t[n.privateName]=t[n.getterName]()})),this.textTracksJson_=Ce(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},a.tech=function(t){return void 0===t&&r.warn("Using the tech directly can be dangerous. I hope you know what you're doing.\nSee https://github.com/videojs/video.js/issues/2617 for more info.\n"),this.tech_},a.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"mouseup",this.handleTechClick_),this.on(this.tech_,"dblclick",this.handleTechDoubleClick_),this.on(this.tech_,"touchstart",this.handleTechTouchStart_),this.on(this.tech_,"touchmove",this.handleTechTouchMove_),this.on(this.tech_,"touchend",this.handleTechTouchEnd_),this.on(this.tech_,"tap",this.handleTechTap_)},a.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.handleTechTap_),this.off(this.tech_,"touchstart",this.handleTechTouchStart_),this.off(this.tech_,"touchmove",this.handleTechTouchMove_),this.off(this.tech_,"touchend",this.handleTechTouchEnd_),this.off(this.tech_,"mouseup",this.handleTechClick_),this.off(this.tech_,"dblclick",this.handleTechDoubleClick_)},a.handleTechReady_=function(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()},a.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay")),this.manualAutoplay_(this.autoplay())},a.manualAutoplay_=function(t){var e=this;if(this.tech_&&"string"==typeof t){var n,i=function(){var t=e.muted();e.muted(!0);var n=function(){e.muted(t)};e.playTerminatedQueue_.push(n);var i=e.play();if(Se(i))return i.catch(n)};if("any"===t&&!0!==this.muted()?Se(n=this.play())&&(n=n.catch(i)):n="muted"===t&&!0!==this.muted()?i():this.play(),Se(n))return n.then((function(){e.trigger({type:"autoplay-success",autoplay:t})})).catch((function(n){e.trigger({type:"autoplay-failure",autoplay:t})}))}},a.updateSourceCaches_=function(t){void 0===t&&(t="");var e=t,n="";"string"!=typeof e&&(e=t.src,n=t.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],e&&!n&&(n=function(t,e){if(!e)return"";if(t.cache_.source.src===e&&t.cache_.source.type)return t.cache_.source.type;var n=t.cache_.sources.filter((function(t){return t.src===e}));if(n.length)return n[0].type;for(var i=t.$$("source"),r=0;r<i.length;r++){var o=i[r];if(o.type&&o.src&&o.src===e)return o.type}return Jn(e)}(this,e)),this.cache_.source=Dt({},t,{src:e,type:n});for(var i=this.cache_.sources.filter((function(t){return t.src&&t.src===e})),r=[],o=this.$$("source"),a=[],s=0;s<o.length;s++){var u=x(o[s]);r.push(u),u.src&&u.src===e&&a.push(u.src)}a.length&&!i.length?this.cache_.sources=r:i.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=e},a.handleTechSourceset_=function(t){var e=this;if(!this.changingSrc_){var n=function(t){return e.updateSourceCaches_(t)},i=this.currentSource().src,r=t.src;i&&!/^blob:/.test(i)&&/^blob:/.test(r)&&(!this.lastSource_||this.lastSource_.tech!==r&&this.lastSource_.player!==i)&&(n=function(){}),n(r),t.src||this.tech_.any(["sourceset","loadstart"],(function(t){if("sourceset"!==t.type){var n=e.techGet("currentSrc");e.lastSource_.tech=n,e.updateSourceCaches_(n)}}))}this.lastSource_={player:this.currentSource().src,tech:t.src},this.trigger({src:t.src,type:"sourceset"})},a.hasStarted=function(t){if(void 0===t)return this.hasStarted_;t!==this.hasStarted_&&(this.hasStarted_=t,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},a.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},a.handleTechRateChange_=function(){this.tech_.playbackRate()>0&&0===this.cache_.lastPlaybackRate&&(this.queuedCallbacks_.forEach((function(t){return t.callback(t.event)})),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},a.handleTechWaiting_=function(){var t=this;this.addClass("vjs-waiting"),this.trigger("waiting");var e=this.currentTime();this.on("timeupdate",(function n(){e!==t.currentTime()&&(t.removeClass("vjs-waiting"),t.off("timeupdate",n))}))},a.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},a.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},a.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},a.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},a.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.removeClass("vjs-ended"),this.trigger("seeked")},a.handleTechFirstPlay_=function(){this.options_.starttime&&(r.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},a.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},a.handleTechEnded_=function(){this.addClass("vjs-ended"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},a.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},a.handleTechClick_=function(t){W(t)&&this.controls_&&(this.paused()?we(this.play()):this.pause())},a.handleTechDoubleClick_=function(t){this.controls_&&(Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),(function(e){return e.contains(t.target)}))||void 0!==this.options_&&void 0!==this.options_.userActions&&void 0!==this.options_.userActions.doubleClick&&!1===this.options_.userActions.doubleClick||(void 0!==this.options_&&void 0!==this.options_.userActions&&"function"==typeof this.options_.userActions.doubleClick?this.options_.userActions.doubleClick.call(this,t):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen()))},a.handleTechTap_=function(){this.userActive(!this.userActive())},a.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},a.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},a.handleTechTouchEnd_=function(t){t.preventDefault()},a.handleStageClick_=function(){this.reportUserActivity()},a.toggleFullscreenClass_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},a.documentFullscreenChange_=function(t){var e=t.target.player;if(!e||e===this){var i=this.el(),r=n[this.fsApi_.fullscreenElement]===i;!r&&i.matches?r=i.matches(":"+this.fsApi_.fullscreen):!r&&i.msMatchesSelector&&(r=i.msMatchesSelector(":"+this.fsApi_.fullscreen)),this.isFullscreen(r)}},a.handleTechFullscreenChange_=function(t,e){e&&(e.nativeIOSFullscreen&&this.toggleClass("vjs-ios-native-fs"),this.isFullscreen(e.isFullscreen))},a.handleTechFullscreenError_=function(t,e){this.trigger("fullscreenerror",e)},a.togglePictureInPictureClass_=function(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")},a.handleTechEnterPictureInPicture_=function(t){this.isInPictureInPicture(!0)},a.handleTechLeavePictureInPicture_=function(t){this.isInPictureInPicture(!1)},a.handleTechError_=function(){var t=this.tech_.error();this.error(t)},a.handleTechTextData_=function(){var t=null;arguments.length>1&&(t=arguments[1]),this.trigger("textdata",t)},a.getCache=function(){return this.cache_},a.resetCache_=function(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],volume:1}},a.techCall_=function(t,e){this.ready((function(){if(t in qn)return function(t,e,n,i){return e[n](t.reduce(Kn(n),i))}(this.middleware_,this.tech_,t,e);if(t in Xn)return $n(this.middleware_,this.tech_,t,e);try{this.tech_&&this.tech_[t](e)}catch(t){throw r(t),t}}),!0)},a.techGet_=function(t){if(this.tech_&&this.tech_.isReady_){if(t in Yn)return function(t,e,n){return t.reduceRight(Kn(n),e[n]())}(this.middleware_,this.tech_,t);if(t in Xn)return $n(this.middleware_,this.tech_,t);try{return this.tech_[t]()}catch(e){if(void 0===this.tech_[t])throw r("Video.js: "+t+" method not defined for "+this.techName_+" playback technology.",e),e;if("TypeError"===e.name)throw r("Video.js: "+t+" unavailable on "+this.techName_+" playback technology element.",e),this.tech_.isReady_=!1,e;throw r(e),e}}},a.play=function(){var e=this,n=this.options_.Promise||t.Promise;return n?new n((function(t){e.play_(t)})):this.play_()},a.play_=function(t){var e=this;void 0===t&&(t=we),this.playCallbacks_.push(t);var n=Boolean(!this.changingSrc_&&(this.src()||this.currentSrc()));if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!n)return this.waitToPlay_=function(t){e.play_()},this.one(["ready","loadstart"],this.waitToPlay_),void(n||!se&&!ae||this.load());var i=this.techGet_("play");null===i?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(i)},a.runPlayTerminatedQueue_=function(){var t=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],t.forEach((function(t){t()}))},a.runPlayCallbacks_=function(t){var e=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],e.forEach((function(e){e(t)}))},a.pause=function(){this.techCall_("pause")},a.paused=function(){return!1!==this.techGet_("paused")},a.played=function(){return this.techGet_("played")||de(0,0)},a.scrubbing=function(t){if(void 0===t)return this.scrubbing_;this.scrubbing_=!!t,this.techCall_("setScrubbing",this.scrubbing_),t?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},a.currentTime=function(t){return void 0!==t?(t<0&&(t=0),this.isReady_&&!this.changingSrc_&&this.tech_&&this.tech_.isReady_?(this.techCall_("setCurrentTime",t),void(this.cache_.initTime=0)):(this.cache_.initTime=t,this.off("canplay",this.applyInitTime_),void this.one("canplay",this.applyInitTime_))):(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime)},a.applyInitTime_=function(){this.currentTime(this.cache_.initTime)},a.duration=function(t){if(void 0===t)return void 0!==this.cache_.duration?this.cache_.duration:NaN;(t=parseFloat(t))<0&&(t=1/0),t!==this.cache_.duration&&(this.cache_.duration=t,t===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(t)||this.trigger("durationchange"))},a.remainingTime=function(){return this.duration()-this.currentTime()},a.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},a.buffered=function(){var t=this.techGet_("buffered");return t&&t.length||(t=de(0,0)),t},a.bufferedPercent=function(){return he(this.buffered(),this.duration())},a.bufferedEnd=function(){var t=this.buffered(),e=this.duration(),n=t.end(t.length-1);return n>e&&(n=e),n},a.volume=function(t){var e;return void 0!==t?(e=Math.max(0,Math.min(1,parseFloat(t))),this.cache_.volume=e,this.techCall_("setVolume",e),void(e>0&&this.lastVolume_(e))):(e=parseFloat(this.techGet_("volume")),isNaN(e)?1:e)},a.muted=function(t){if(void 0===t)return this.techGet_("muted")||!1;this.techCall_("setMuted",t)},a.defaultMuted=function(t){return void 0!==t?this.techCall_("setDefaultMuted",t):this.techGet_("defaultMuted")||!1},a.lastVolume_=function(t){if(void 0===t||0===t)return this.cache_.lastVolume;this.cache_.lastVolume=t},a.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},a.isFullscreen=function(t){if(void 0!==t){var e=this.isFullscreen_;return this.isFullscreen_=Boolean(t),this.isFullscreen_!==e&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),void this.toggleFullscreenClass_()}return this.isFullscreen_},a.requestFullscreen=function(e){var n=this.options_.Promise||t.Promise;if(n){var i=this;return new n((function(t,n){function r(){i.off("fullscreenerror",a),i.off("fullscreenchange",o)}function o(){r(),t()}function a(t,e){r(),n(e)}i.one("fullscreenchange",o),i.one("fullscreenerror",a);var s=i.requestFullscreenHelper_(e);if(s)return s.then(r,r),s}))}return this.requestFullscreenHelper_()},a.requestFullscreenHelper_=function(t){var e,n=this;if(this.fsApi_.prefixed||(e=this.options_.fullscreen&&this.options_.fullscreen.options||{},void 0!==t&&(e=t)),this.fsApi_.requestFullscreen){var i=this.el_[this.fsApi_.requestFullscreen](e);return i&&i.then((function(){return n.isFullscreen(!0)}),(function(){return n.isFullscreen(!1)})),i}this.tech_.supportsFullScreen()?this.techCall_("enterFullScreen"):this.enterFullWindow()},a.exitFullscreen=function(){var e=this.options_.Promise||t.Promise;if(e){var n=this;return new e((function(t,e){function i(){n.off("fullscreenerror",o),n.off("fullscreenchange",r)}function r(){i(),t()}function o(t,n){i(),e(n)}n.one("fullscreenchange",r),n.one("fullscreenerror",o);var a=n.exitFullscreenHelper_();if(a)return a.then(i,i),a}))}return this.exitFullscreenHelper_()},a.exitFullscreenHelper_=function(){var t=this;if(this.fsApi_.requestFullscreen){var e=n[this.fsApi_.exitFullscreen]();return e&&e.then((function(){return t.isFullscreen(!1)})),e}this.tech_.supportsFullScreen()?this.techCall_("exitFullScreen"):this.exitFullWindow()},a.enterFullWindow=function(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=n.documentElement.style.overflow,ct(n,"keydown",this.boundFullWindowOnEscKey_),n.documentElement.style.overflow="hidden",O(n.body,"vjs-full-window"),this.trigger("enterFullWindow")},a.fullWindowOnEscKey=function(t){Ae.isEventKey(t,"Esc")&&(!0===this.isFullscreen()?this.exitFullscreen():this.exitFullWindow())},a.exitFullWindow=function(){this.isFullscreen(!1),this.isFullWindow=!1,dt(n,"keydown",this.boundFullWindowOnEscKey_),n.documentElement.style.overflow=this.docOrigOverflow,A(n.body,"vjs-full-window"),this.trigger("exitFullWindow")},a.disablePictureInPicture=function(t){if(void 0===t)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",t),this.options_.disablePictureInPicture=t,this.trigger("disablepictureinpicturechanged")},a.isInPictureInPicture=function(t){return void 0!==t?(this.isInPictureInPicture_=!!t,void this.togglePictureInPictureClass_()):!!this.isInPictureInPicture_},a.requestPictureInPicture=function(){if("pictureInPictureEnabled"in n&&!1===this.disablePictureInPicture())return this.techGet_("requestPictureInPicture")},a.exitPictureInPicture=function(){if("pictureInPictureEnabled"in n)return n.exitPictureInPicture()},a.handleKeyDown=function(t){var e,n,i=this.options_.userActions;i&&i.hotkeys&&(e=this.el_.ownerDocument.activeElement,n=e.tagName.toLowerCase(),e.isContentEditable||("input"===n?-1===["button","checkbox","hidden","radio","reset","submit"].indexOf(e.type):-1!==["textarea"].indexOf(n))||("function"==typeof i.hotkeys?i.hotkeys.call(this,t):this.handleHotkeys(t)))},a.handleHotkeys=function(t){var e=this.options_.userActions?this.options_.userActions.hotkeys:{},i=e.fullscreenKey,r=void 0===i?function(t){return Ae.isEventKey(t,"f")}:i,o=e.muteKey,a=void 0===o?function(t){return Ae.isEventKey(t,"m")}:o,s=e.playPauseKey,u=void 0===s?function(t){return Ae.isEventKey(t,"k")||Ae.isEventKey(t,"Space")}:s;if(r.call(this,t)){t.preventDefault(),t.stopPropagation();var l=Vt.getComponent("FullscreenToggle");!1!==n[this.fsApi_.fullscreenEnabled]&&l.prototype.handleClick.call(this,t)}else a.call(this,t)?(t.preventDefault(),t.stopPropagation(),Vt.getComponent("MuteToggle").prototype.handleClick.call(this,t)):u.call(this,t)&&(t.preventDefault(),t.stopPropagation(),Vt.getComponent("PlayToggle").prototype.handleClick.call(this,t))},a.canPlayType=function(t){for(var e,n=0,i=this.options_.techOrder;n<i.length;n++){var o=i[n],a=Bn.getTech(o);if(a||(a=Vt.getComponent(o)),a){if(a.isSupported()&&(e=a.canPlayType(t)))return e}else r.error('The "'+o+'" tech is undefined. Skipped browser support check for that tech.')}return""},a.selectSource=function(t){var e,n=this,i=this.options_.techOrder.map((function(t){return[t,Bn.getTech(t)]})).filter((function(t){var e=t[0],n=t[1];return n?n.isSupported():(r.error('The "'+e+'" tech is undefined. Skipped browser support check for that tech.'),!1)})),o=function(t,e,n){var i;return t.some((function(t){return e.some((function(e){if(i=n(t,e))return!0}))})),i},a=function(t,e){var i=t[0];if(t[1].canPlaySource(e,n.options_[i.toLowerCase()]))return{source:e,tech:i}};return(this.options_.sourceOrder?o(t,i,(e=a,function(t,n){return e(n,t)})):o(i,t,a))||!1},a.src=function(t){var e=this;if(void 0===t)return this.cache_.src||"";var n=function t(e){if(Array.isArray(e)){var n=[];e.forEach((function(e){e=t(e),Array.isArray(e)?n=n.concat(e):f(e)&&n.push(e)})),e=n}else e="string"==typeof e&&e.trim()?[Qn({src:e})]:f(e)&&"string"==typeof e.src&&e.src&&e.src.trim()?[Qn(e)]:[];return e}(t);n.length?(this.changingSrc_=!0,this.cache_.sources=n,this.updateSourceCaches_(n[0]),zn(this,n[0],(function(t,i){var r,o;if(e.middleware_=i,e.cache_.sources=n,e.updateSourceCaches_(t),e.src_(t))return n.length>1?e.src(n.slice(1)):(e.changingSrc_=!1,e.setTimeout((function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})}),0),void e.triggerReady());r=i,o=e.tech_,r.forEach((function(t){return t.setTech&&t.setTech(o)}))}))):this.setTimeout((function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})}),0)},a.src_=function(t){var e,n,i=this,r=this.selectSource([t]);return!r||(e=r.tech,n=this.techName_,kt(e)!==kt(n)?(this.changingSrc_=!0,this.loadTech_(r.tech,r.source),this.tech_.ready((function(){i.changingSrc_=!1})),!1):(this.ready((function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",t):this.techCall_("src",t.src),this.changingSrc_=!1}),!0),!1))},a.load=function(){this.techCall_("load")},a.reset=function(){var e=this,n=this.options_.Promise||t.Promise;this.paused()||!n?this.doReset_():we(this.play().then((function(){return e.doReset_()})))},a.doReset_=function(){this.tech_&&this.tech_.clearTracks("text"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),bt(this)&&this.trigger("playerreset")},a.resetControlBarUI_=function(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()},a.resetProgressBar_=function(){this.currentTime(0);var t=this.controlBar,e=t.durationDisplay,n=t.remainingTimeDisplay;e&&e.updateContent(),n&&n.updateContent()},a.resetPlaybackRate_=function(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()},a.resetVolumeBar_=function(){this.volume(1),this.trigger("volumechange")},a.currentSources=function(){var t=this.currentSource(),e=[];return 0!==Object.keys(t).length&&e.push(t),this.cache_.sources||e},a.currentSource=function(){return this.cache_.source||{}},a.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},a.currentType=function(){return this.currentSource()&&this.currentSource().type||""},a.preload=function(t){return void 0!==t?(this.techCall_("setPreload",t),void(this.options_.preload=t)):this.techGet_("preload")},a.autoplay=function(t){if(void 0===t)return this.options_.autoplay||!1;var e;"string"==typeof t&&/(any|play|muted)/.test(t)?(this.options_.autoplay=t,this.manualAutoplay_(t),e=!1):this.options_.autoplay=!!t,e=void 0===e?this.options_.autoplay:e,this.tech_&&this.techCall_("setAutoplay",e)},a.playsinline=function(t){return void 0!==t?(this.techCall_("setPlaysinline",t),this.options_.playsinline=t,this):this.techGet_("playsinline")},a.loop=function(t){return void 0!==t?(this.techCall_("setLoop",t),void(this.options_.loop=t)):this.techGet_("loop")},a.poster=function(t){if(void 0===t)return this.poster_;t||(t=""),t!==this.poster_&&(this.poster_=t,this.techCall_("setPoster",t),this.isPosterFromTech_=!1,this.trigger("posterchange"))},a.handleTechPosterChange_=function(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var t=this.tech_.poster()||"";t!==this.poster_&&(this.poster_=t,this.isPosterFromTech_=!0,this.trigger("posterchange"))}},a.controls=function(t){if(void 0===t)return!!this.controls_;t=!!t,this.controls_!==t&&(this.controls_=t,this.usingNativeControls()&&this.techCall_("setControls",t),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},a.usingNativeControls=function(t){if(void 0===t)return!!this.usingNativeControls_;t=!!t,this.usingNativeControls_!==t&&(this.usingNativeControls_=t,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},a.error=function(t){if(void 0===t)return this.error_||null;if(this.options_.suppressNotSupportedError&&t&&4===t.code){var e=function(){this.error(t)};return this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],e),void this.one("loadstart",(function(){this.off(["click","touchstart"],e)}))}if(null===t)return this.error_=t,this.removeClass("vjs-error"),void(this.errorDisplay&&this.errorDisplay.close());this.error_=new _e(t),this.addClass("vjs-error"),r.error("(CODE:"+this.error_.code+" "+_e.errorTypes[this.error_.code]+")",this.error_.message,this.error_),this.trigger("error")},a.reportUserActivity=function(t){this.userActivity_=!0},a.userActive=function(t){if(void 0===t)return this.userActive_;if((t=!!t)!==this.userActive_){if(this.userActive_=t,this.userActive_)return this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),void this.trigger("useractive");this.tech_&&this.tech_.one("mousemove",(function(t){t.stopPropagation(),t.preventDefault()})),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},a.listenForUserActivity_=function(){var t,e,n,i=vt(this,this.reportUserActivity),r=function(e){i(),this.clearInterval(t)};this.on("mousedown",(function(){i(),this.clearInterval(t),t=this.setInterval(i,250)})),this.on("mousemove",(function(t){t.screenX===e&&t.screenY===n||(e=t.screenX,n=t.screenY,i())})),this.on("mouseup",r),this.on("mouseleave",r);var o,a=this.getChild("controlBar");!a||ae||Yt||(a.on("mouseenter",(function(t){this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout,this.player().options_.inactivityTimeout=0})),a.on("mouseleave",(function(t){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout}))),this.on("keydown",i),this.on("keyup",i),this.setInterval((function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(o);var t=this.options_.inactivityTimeout;t<=0||(o=this.setTimeout((function(){this.userActivity_||this.userActive(!1)}),t))}}),250)},a.playbackRate=function(t){if(void 0===t)return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1;this.techCall_("setPlaybackRate",t)},a.defaultPlaybackRate=function(t){return void 0!==t?this.techCall_("setDefaultPlaybackRate",t):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},a.isAudio=function(t){if(void 0===t)return!!this.isAudio_;this.isAudio_=!!t},a.addTextTrack=function(t,e,n){if(this.tech_)return this.tech_.addTextTrack(t,e,n)},a.addRemoteTextTrack=function(t,e){if(this.tech_)return this.tech_.addRemoteTextTrack(t,e)},a.removeRemoteTextTrack=function(t){void 0===t&&(t={});var e=t.track;if(e||(e=t),this.tech_)return this.tech_.removeRemoteTextTrack(e)},a.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},a.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},a.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},a.language=function(t){if(void 0===t)return this.language_;this.language_=String(t).toLowerCase()},a.languages=function(){return Dt(i.prototype.options_.languages,this.languages_)},a.toJSON=function(){var t=Dt(this.options_),e=t.tracks;t.tracks=[];for(var n=0;n<e.length;n++){var i=e[n];(i=Dt(i)).player=void 0,t.tracks[n]=i}return t},a.createModal=function(t,e){var n=this;(e=e||{}).content=t||"";var i=new Pe(this,e);return this.addChild(i),i.on("dispose",(function(){n.removeChild(i)})),i.open(),i},a.updateCurrentBreakpoint_=function(){if(this.responsive())for(var t=this.currentBreakpoint(),e=this.currentWidth(),n=0;n<Lr.length;n++){var i=Lr[n];if(e<=this.breakpoints_[i]){if(t===i)return;t&&this.removeClass(Fr[t]),this.addClass(Fr[i]),this.breakpoint_=i;break}}},a.removeCurrentBreakpoint_=function(){var t=this.currentBreakpointClass();this.breakpoint_="",t&&this.removeClass(t)},a.breakpoints=function(t){return void 0===t||(this.breakpoint_="",this.breakpoints_=h({},Vr,t),this.updateCurrentBreakpoint_()),h(this.breakpoints_)},a.responsive=function(t){return void 0===t?this.responsive_:(t=Boolean(t))!==this.responsive_?(this.responsive_=t,t?(this.on("playerresize",this.updateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.updateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),t):void 0},a.currentBreakpoint=function(){return this.breakpoint_},a.currentBreakpointClass=function(){return Fr[this.breakpoint_]||""},a.loadMedia=function(t,e){var n=this;if(t&&"object"==typeof t){this.reset(),this.cache_.media=Dt(t);var i=this.cache_.media,r=i.artwork,o=i.poster,a=i.src,s=i.textTracks;!r&&o&&(this.cache_.media.artwork=[{src:o,type:Jn(o)}]),a&&this.src(a),o&&this.poster(o),Array.isArray(s)&&s.forEach((function(t){return n.addRemoteTextTrack(t,!1)})),this.ready(e)}},a.getMedia=function(){if(!this.cache_.media){var t=this.poster(),e={src:this.currentSources(),textTracks:Array.prototype.map.call(this.remoteTextTracks(),(function(t){return{kind:t.kind,label:t.label,language:t.language,src:t.src}}))};return t&&(e.poster=t,e.artwork=[{src:e.poster,type:Jn(e.poster)}]),e}return Dt(this.cache_.media)},i.getTagSettings=function(t){var e={sources:[],tracks:[]},n=x(t),i=n["data-setup"];if(C(t,"vjs-fill")&&(n.fill=!0),C(t,"vjs-fluid")&&(n.fluid=!0),null!==i){var o=Te(i||"{}"),a=o[0],s=o[1];a&&r.error(a),h(n,s)}if(h(e,n),t.hasChildNodes())for(var u=t.childNodes,l=0,c=u.length;l<c;l++){var d=u[l],f=d.nodeName.toLowerCase();"source"===f?e.sources.push(x(d)):"track"===f&&e.tracks.push(x(d))}return e},a.flexNotSupported_=function(){var t=n.createElement("i");return!("flexBasis"in t.style||"webkitFlexBasis"in t.style||"mozFlexBasis"in t.style||"msFlexBasis"in t.style||"msFlexOrder"in t.style)},a.debug=function(t){if(void 0===t)return this.debugEnabled_;t?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)},i}(Vt);cn.names.forEach((function(t){var e=cn[t];jr.prototype[e.getterName]=function(){return this.tech_?this.tech_[e.getterName]():(this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName])}})),jr.prototype.crossorigin=jr.prototype.crossOrigin,jr.players={};var Ur=t.navigator;jr.prototype.options_={techOrder:Bn.defaultTechOrder_,html5:{},flash:{},inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:Ur&&(Ur.languages&&Ur.languages[0]||Ur.userLanguage||Ur.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1},["ended","seeking","seekable","networkState","readyState"].forEach((function(t){jr.prototype[t]=function(){return this.techGet_(t)}})),Rr.forEach((function(t){jr.prototype["handleTech"+kt(t)+"_"]=function(){return this.trigger(t)}})),Vt.registerComponent("Player",jr);var Br=s((function(t){function e(n,i){return t.exports=e=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},e(n,i)}t.exports=e})),Hr=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}},Gr=s((function(t){function e(n,i,r){return Hr()?t.exports=e=Reflect.construct:t.exports=e=function(t,e,n){var i=[null];i.push.apply(i,e);var r=new(Function.bind.apply(t,i));return n&&Br(r,n.prototype),r},e.apply(null,arguments)}t.exports=e})),Wr={},zr=function(t){return Wr.hasOwnProperty(t)},$r=function(t){return zr(t)?Wr[t]:void 0},Yr=function(t,e){t.activePlugins_=t.activePlugins_||{},t.activePlugins_[e]=!0},qr=function(t,e,n){var i=(n?"before":"")+"pluginsetup";t.trigger(i,e),t.trigger(i+":"+e.name,e)},Xr=function(t,e){return e.prototype.name=t,function(){qr(this,{name:t,plugin:e,instance:null},!0);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=Gr(e,[this].concat(i));return this[t]=function(){return o},qr(this,o.getEventHash()),o}},Kr=function(){function t(e){if(this.constructor===t)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=e,this.log||(this.log=this.player.log.createLogger(this.name)),Pt(this),delete this.trigger,xt(this,this.constructor.defaultState),Yr(e,this.name),this.dispose=vt(this,this.dispose),e.on("dispose",this.dispose)}var e=t.prototype;return e.version=function(){return this.constructor.VERSION},e.getEventHash=function(t){return void 0===t&&(t={}),t.name=this.name,t.plugin=this.constructor,t.instance=this,t},e.trigger=function(t,e){return void 0===e&&(e={}),ht(this.eventBusEl_,t,this.getEventHash(e))},e.handleStateChanged=function(t){},e.dispose=function(){var t=this.name,e=this.player;this.trigger("dispose"),this.off(),e.off("dispose",this.dispose),e.activePlugins_[t]=!1,this.player=this.state=null,e[t]=Xr(t,Wr[t])},t.isBasic=function(e){var n="string"==typeof e?$r(e):e;return"function"==typeof n&&!t.prototype.isPrototypeOf(n.prototype)},t.registerPlugin=function(e,n){if("string"!=typeof e)throw new Error('Illegal plugin name, "'+e+'", must be a string, was '+typeof e+".");if(zr(e))r.warn('A plugin named "'+e+'" already exists. You may want to avoid re-registering plugins!');else if(jr.prototype.hasOwnProperty(e))throw new Error('Illegal plugin name, "'+e+'", cannot share a name with an existing player method!');if("function"!=typeof n)throw new Error('Illegal plugin for "'+e+'", must be a function, was '+typeof n+".");return Wr[e]=n,"plugin"!==e&&(t.isBasic(n)?jr.prototype[e]=function(t,e){var n=function(){qr(this,{name:t,plugin:e,instance:null},!0);var n=e.apply(this,arguments);return Yr(this,t),qr(this,{name:t,plugin:e,instance:n}),n};return Object.keys(e).forEach((function(t){n[t]=e[t]})),n}(e,n):jr.prototype[e]=Xr(e,n)),n},t.deregisterPlugin=function(t){if("plugin"===t)throw new Error("Cannot de-register base plugin.");zr(t)&&(delete Wr[t],delete jr.prototype[t])},t.getPlugins=function(t){var e;return void 0===t&&(t=Object.keys(Wr)),t.forEach((function(t){var n=$r(t);n&&((e=e||{})[t]=n)})),e},t.getPluginVersion=function(t){var e=$r(t);return e&&e.VERSION||""},t}();Kr.getPlugin=$r,Kr.BASE_PLUGIN_NAME="plugin",Kr.registerPlugin("plugin",Kr),jr.prototype.usingPlugin=function(t){return!!this.activePlugins_&&!0===this.activePlugins_[t]},jr.prototype.hasPlugin=function(t){return!!zr(t)};var Zr=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Br(t,e)},Jr=function(t){return 0===t.indexOf("#")?t.slice(1):t};function Qr(t,e,n){var i=Qr.getPlayer(t);if(i)return e&&r.warn('Player "'+t+'" is already initialised. Options will not be applied.'),n&&i.ready(n),i;var o="string"==typeof t?$("#"+Jr(t)):t;if(!_(o))throw new TypeError("The element or ID supplied is not valid. (videojs)");o.ownerDocument.defaultView&&o.ownerDocument.body.contains(o)||r.warn("The element supplied is not included in the DOM"),e=e||{},Qr.hooks("beforesetup").forEach((function(t){var n=t(o,Dt(e));f(n)&&!Array.isArray(n)?e=Dt(e,n):r.error("please return an object in beforesetup hooks")}));var a=Vt.getComponent("Player");return i=new a(o,e,n),Qr.hooks("setup").forEach((function(t){return t(i)})),i}if(Qr.hooks_={},Qr.hooks=function(t,e){return Qr.hooks_[t]=Qr.hooks_[t]||[],e&&(Qr.hooks_[t]=Qr.hooks_[t].concat(e)),Qr.hooks_[t]},Qr.hook=function(t,e){Qr.hooks(t,e)},Qr.hookOnce=function(t,e){Qr.hooks(t,[].concat(e).map((function(e){return function n(){return Qr.removeHook(t,n),e.apply(void 0,arguments)}})))},Qr.removeHook=function(t,e){var n=Qr.hooks(t).indexOf(e);return!(n<=-1||(Qr.hooks_[t]=Qr.hooks_[t].slice(),Qr.hooks_[t].splice(n,1),0))},!0!==t.VIDEOJS_NO_DYNAMIC_STYLE&&y()){var to=$(".vjs-styles-defaults");if(!to){to=tt("vjs-styles-defaults");var eo=$("head");eo&&eo.insertBefore(to,eo.firstChild),et(to,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")}}function no(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}Z(1,Qr),Qr.VERSION="7.10.2",Qr.options=jr.prototype.options_,Qr.getPlayers=function(){return jr.players},Qr.getPlayer=function(t){var e,n=jr.players;if("string"==typeof t){var i=Jr(t),r=n[i];if(r)return r;e=$("#"+i)}else e=t;if(_(e)){var o=e,a=o.player,s=o.playerId;if(a||n[s])return a||n[s]}},Qr.getAllPlayers=function(){return Object.keys(jr.players).map((function(t){return jr.players[t]})).filter(Boolean)},Qr.players=jr.players,Qr.getComponent=Vt.getComponent,Qr.registerComponent=function(t,e){Bn.isTech(e)&&r.warn("The "+t+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),Vt.registerComponent.call(Vt,t,e)},Qr.getTech=Bn.getTech,Qr.registerTech=Bn.registerTech,Qr.use=function(t,e){Hn[t]=Hn[t]||[],Hn[t].push(e)},Object.defineProperty(Qr,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(Qr.middleware,"TERMINATOR",{value:Wn,writeable:!1,enumerable:!0}),Qr.browser=ue,Qr.TOUCH_ENABLED=ie,Qr.extend=function(t,e){void 0===e&&(e={});var n=function(){t.apply(this,arguments)},i={};for(var r in"object"==typeof e?(e.constructor!==Object.prototype.constructor&&(n=e.constructor),i=e):"function"==typeof e&&(n=e),Zr(n,t),t&&(n.super_=t),i)i.hasOwnProperty(r)&&(n.prototype[r]=i[r]);return n},Qr.mergeOptions=Dt,Qr.bind=vt,Qr.registerPlugin=Kr.registerPlugin,Qr.deregisterPlugin=Kr.deregisterPlugin,Qr.plugin=function(t,e){return r.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),Kr.registerPlugin(t,e)},Qr.getPlugins=Kr.getPlugins,Qr.getPlugin=Kr.getPlugin,Qr.getPluginVersion=Kr.getPluginVersion,Qr.addLanguage=function(t,e){var n;return t=(""+t).toLowerCase(),Qr.options.languages=Dt(Qr.options.languages,((n={})[t]=e,n)),Qr.options.languages[t]},Qr.log=r,Qr.createLogger=o,Qr.createTimeRange=Qr.createTimeRanges=de,Qr.formatTime=pi,Qr.setFormatTime=function(t){fi=t},Qr.resetFormatTime=function(){fi=hi},Qr.parseUrl=Ge,Qr.isCrossOrigin=$e,Qr.EventTarget=_t,Qr.on=ct,Qr.one=ft,Qr.off=dt,Qr.trigger=ht,Qr.xhr=Ke,Qr.TextTrack=rn,Qr.AudioTrack=on,Qr.VideoTrack=an,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach((function(t){Qr[t]=function(){return r.warn("videojs."+t+"() is deprecated; use videojs.dom."+t+"() instead"),q[t].apply(null,arguments)}})),Qr.computedStyle=g,Qr.dom=q,Qr.url=Ye,Qr.defineLazyProperty=kr;var io=no(s((function(t,e){var n,i,r,o,a;n=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/\?#]*\/)*.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,i=/^([^\/?#]*)(.*)$/,r=/(?:\/|^)\.(?=\/)/g,o=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,a={buildAbsoluteURL:function(t,e,n){if(n=n||{},t=t.trim(),!(e=e.trim())){if(!n.alwaysNormalize)return t;var r=a.parseURL(t);if(!r)throw new Error("Error trying to parse base URL.");return r.path=a.normalizePath(r.path),a.buildURLFromParts(r)}var o=a.parseURL(e);if(!o)throw new Error("Error trying to parse relative URL.");if(o.scheme)return n.alwaysNormalize?(o.path=a.normalizePath(o.path),a.buildURLFromParts(o)):e;var s=a.parseURL(t);if(!s)throw new Error("Error trying to parse base URL.");if(!s.netLoc&&s.path&&"/"!==s.path[0]){var u=i.exec(s.path);s.netLoc=u[1],s.path=u[2]}s.netLoc&&!s.path&&(s.path="/");var l={scheme:s.scheme,netLoc:o.netLoc,path:null,params:o.params,query:o.query,fragment:o.fragment};if(!o.netLoc&&(l.netLoc=s.netLoc,"/"!==o.path[0]))if(o.path){var c=s.path,d=c.substring(0,c.lastIndexOf("/")+1)+o.path;l.path=a.normalizePath(d)}else l.path=s.path,o.params||(l.params=s.params,o.query||(l.query=s.query));return null===l.path&&(l.path=n.alwaysNormalize?a.normalizePath(o.path):o.path),a.buildURLFromParts(l)},parseURL:function(t){var e=n.exec(t);return e?{scheme:e[1]||"",netLoc:e[2]||"",path:e[3]||"",params:e[4]||"",query:e[5]||"",fragment:e[6]||""}:null},normalizePath:function(t){for(t=t.split("").reverse().join("").replace(r,"");t.length!==(t=t.replace(o,"")).length;);return t.split("").reverse().join("")},buildURLFromParts:function(t){return t.scheme+t.netLoc+t.path+t.params+t.query+t.fragment}},t.exports=a}))),ro=no(t),oo=function(t,e){return/^[a-z]+:/i.test(e)?e:(/\/\//i.test(t)||(t=io.default.buildAbsoluteURL(ro.default.location&&ro.default.location.href||"",t)),io.default.buildAbsoluteURL(t,e))},ao=function(){function t(){this.listeners={}}var e=t.prototype;return e.on=function(t,e){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(e)},e.off=function(t,e){if(!this.listeners[t])return!1;var n=this.listeners[t].indexOf(e);return this.listeners[t]=this.listeners[t].slice(0),this.listeners[t].splice(n,1),n>-1},e.trigger=function(t){var e=this.listeners[t];if(e)if(2===arguments.length)for(var n=e.length,i=0;i<n;++i)e[i].call(this,arguments[1]);else for(var r=Array.prototype.slice.call(arguments,1),o=e.length,a=0;a<o;++a)e[a].apply(this,r)},e.dispose=function(){this.listeners={}},e.pipe=function(t){this.on("data",(function(e){t.push(e)}))},t}();function so(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var uo=so(t),lo=function(t){for(var n,i=(n=t,uo.default.atob?uo.default.atob(n):e.from(n,"base64").toString("binary")),r=new Uint8Array(i.length),o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r},co=function(t){function e(){var e;return(e=t.call(this)||this).buffer="",e}return Bt(e,t),e.prototype.push=function(t){var e;for(this.buffer+=t,e=this.buffer.indexOf("\n");e>-1;e=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,e)),this.buffer=this.buffer.substring(e+1)},e}(ao),ho=function(t){for(var e,n=t.split(new RegExp('(?:^|,)((?:[^=]*)=(?:"[^"]*"|[^,]*))')),i={},r=n.length;r--;)""!==n[r]&&((e=/([^=]*)=(.*)/.exec(n[r]).slice(1))[0]=e[0].replace(/^\s+|\s+$/g,""),e[1]=e[1].replace(/^\s+|\s+$/g,""),e[1]=e[1].replace(/^['"](.*)['"]$/g,"$1"),i[e[0]]=e[1]);return i},fo=function(t){function e(){var e;return(e=t.call(this)||this).customParsers=[],e.tagMappers=[],e}Bt(e,t);var n=e.prototype;return n.push=function(t){var e,n,i=this;0!==(t=t.trim()).length&&("#"===t[0]?this.tagMappers.reduce((function(e,n){var i=n(t);return i===t?e:e.concat([i])}),[t]).forEach((function(t){for(var r=0;r<i.customParsers.length;r++)if(i.customParsers[r].call(i,t))return;if(0===t.indexOf("#EXT"))if(t=t.replace("\r",""),e=/^#EXTM3U/.exec(t))i.trigger("data",{type:"tag",tagType:"m3u"});else{if(e=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(t))return n={type:"tag",tagType:"inf"},e[1]&&(n.duration=parseFloat(e[1])),e[2]&&(n.title=e[2]),void i.trigger("data",n);if(e=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(t))return n={type:"tag",tagType:"targetduration"},e[1]&&(n.duration=parseInt(e[1],10)),void i.trigger("data",n);if(e=/^#ZEN-TOTAL-DURATION:?([0-9.]*)?/.exec(t))return n={type:"tag",tagType:"totalduration"},e[1]&&(n.duration=parseInt(e[1],10)),void i.trigger("data",n);if(e=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(t))return n={type:"tag",tagType:"version"},e[1]&&(n.version=parseInt(e[1],10)),void i.trigger("data",n);if(e=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(t))return n={type:"tag",tagType:"media-sequence"},e[1]&&(n.number=parseInt(e[1],10)),void i.trigger("data",n);if(e=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(t))return n={type:"tag",tagType:"discontinuity-sequence"},e[1]&&(n.number=parseInt(e[1],10)),void i.trigger("data",n);if(e=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(t))return n={type:"tag",tagType:"playlist-type"},e[1]&&(n.playlistType=e[1]),void i.trigger("data",n);if(e=/^#EXT-X-BYTERANGE:?([0-9.]*)?@?([0-9.]*)?/.exec(t))return n={type:"tag",tagType:"byterange"},e[1]&&(n.length=parseInt(e[1],10)),e[2]&&(n.offset=parseInt(e[2],10)),void i.trigger("data",n);if(e=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(t))return n={type:"tag",tagType:"allow-cache"},e[1]&&(n.allowed=!/NO/.test(e[1])),void i.trigger("data",n);if(e=/^#EXT-X-MAP:?(.*)$/.exec(t)){if(n={type:"tag",tagType:"map"},e[1]){var o=ho(e[1]);if(o.URI&&(n.uri=o.URI),o.BYTERANGE){var a=o.BYTERANGE.split("@"),s=a[0],u=a[1];n.byterange={},s&&(n.byterange.length=parseInt(s,10)),u&&(n.byterange.offset=parseInt(u,10))}}i.trigger("data",n)}else if(e=/^#EXT-X-STREAM-INF:?(.*)$/.exec(t)){if(n={type:"tag",tagType:"stream-inf"},e[1]){if(n.attributes=ho(e[1]),n.attributes.RESOLUTION){var l=n.attributes.RESOLUTION.split("x"),c={};l[0]&&(c.width=parseInt(l[0],10)),l[1]&&(c.height=parseInt(l[1],10)),n.attributes.RESOLUTION=c}n.attributes.BANDWIDTH&&(n.attributes.BANDWIDTH=parseInt(n.attributes.BANDWIDTH,10)),n.attributes["PROGRAM-ID"]&&(n.attributes["PROGRAM-ID"]=parseInt(n.attributes["PROGRAM-ID"],10))}i.trigger("data",n)}else{if(e=/^#EXT-X-MEDIA:?(.*)$/.exec(t))return n={type:"tag",tagType:"media"},e[1]&&(n.attributes=ho(e[1])),void i.trigger("data",n);if(e=/^#EXT-X-ENDLIST/.exec(t))i.trigger("data",{type:"tag",tagType:"endlist"});else if(e=/^#EXT-X-DISCONTINUITY/.exec(t))i.trigger("data",{type:"tag",tagType:"discontinuity"});else{if(e=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(t))return n={type:"tag",tagType:"program-date-time"},e[1]&&(n.dateTimeString=e[1],n.dateTimeObject=new Date(e[1])),void i.trigger("data",n);if(e=/^#EXT-X-KEY:?(.*)$/.exec(t))return n={type:"tag",tagType:"key"},e[1]&&(n.attributes=ho(e[1]),n.attributes.IV&&("0x"===n.attributes.IV.substring(0,2).toLowerCase()&&(n.attributes.IV=n.attributes.IV.substring(2)),n.attributes.IV=n.attributes.IV.match(/.{8}/g),n.attributes.IV[0]=parseInt(n.attributes.IV[0],16),n.attributes.IV[1]=parseInt(n.attributes.IV[1],16),n.attributes.IV[2]=parseInt(n.attributes.IV[2],16),n.attributes.IV[3]=parseInt(n.attributes.IV[3],16),n.attributes.IV=new Uint32Array(n.attributes.IV))),void i.trigger("data",n);if(e=/^#EXT-X-START:?(.*)$/.exec(t))return n={type:"tag",tagType:"start"},e[1]&&(n.attributes=ho(e[1]),n.attributes["TIME-OFFSET"]=parseFloat(n.attributes["TIME-OFFSET"]),n.attributes.PRECISE=/YES/.test(n.attributes.PRECISE)),void i.trigger("data",n);if(e=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(t))return n={type:"tag",tagType:"cue-out-cont"},e[1]?n.data=e[1]:n.data="",void i.trigger("data",n);if(e=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(t))return n={type:"tag",tagType:"cue-out"},e[1]?n.data=e[1]:n.data="",void i.trigger("data",n);if(e=/^#EXT-X-CUE-IN:?(.*)?$/.exec(t))return n={type:"tag",tagType:"cue-in"},e[1]?n.data=e[1]:n.data="",void i.trigger("data",n);i.trigger("data",{type:"tag",data:t.slice(4)})}}}else i.trigger("data",{type:"comment",text:t.slice(1)})})):this.trigger("data",{type:"uri",uri:t}))},n.addParser=function(t){var e=this,n=t.expression,i=t.customType,r=t.dataParser,o=t.segment;"function"!=typeof r&&(r=function(t){return t}),this.customParsers.push((function(t){if(n.exec(t))return e.trigger("data",{type:"custom",data:r(t),customType:i,segment:o}),!0}))},n.addTagMapper=function(t){var e=t.expression,n=t.map;this.tagMappers.push((function(t){return e.test(t)?n(t):t}))},e}(ao),po=function(t){function e(){var e;(e=t.call(this)||this).lineStream=new co,e.parseStream=new fo,e.lineStream.pipe(e.parseStream);var n,i,r=jt(e),o=[],a={},s=function(){},l={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},c=0;e.manifest={allowCache:!0,discontinuityStarts:[],segments:[]};var d=0;return e.parseStream.on("data",(function(t){var e,h;({tag:function(){({"allow-cache":function(){this.manifest.allowCache=t.allowed,"allowed"in t||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var e={};"length"in t&&(a.byterange=e,e.length=t.length,"offset"in t||(t.offset=d)),"offset"in t&&(a.byterange=e,e.offset=t.offset),d=e.offset+e.length},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),t.duration>0&&(a.duration=t.duration),0===t.duration&&(a.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=o},key:function(){if(t.attributes)if("NONE"!==t.attributes.METHOD)if(t.attributes.URI){if("urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"===t.attributes.KEYFORMAT)return-1===["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].indexOf(t.attributes.METHOD)?void this.trigger("warn",{message:"invalid key method provided for Widevine"}):("SAMPLE-AES-CENC"===t.attributes.METHOD&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),"data:text/plain;base64,"!==t.attributes.URI.substring(0,23)?void this.trigger("warn",{message:"invalid key URI provided for Widevine"}):t.attributes.KEYID&&"0x"===t.attributes.KEYID.substring(0,2)?void(this.manifest.contentProtection={"com.widevine.alpha":{attributes:{schemeIdUri:t.attributes.KEYFORMAT,keyId:t.attributes.KEYID.substring(2)},pssh:lo(t.attributes.URI.split(",")[1])}}):void this.trigger("warn",{message:"invalid key ID provided for Widevine"}));t.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),i={method:t.attributes.METHOD||"AES-128",uri:t.attributes.URI},void 0!==t.attributes.IV&&(i.iv=t.attributes.IV)}else this.trigger("warn",{message:"ignoring key declaration without URI"});else i=null;else this.trigger("warn",{message:"ignoring key declaration without attribute list"})},"media-sequence":function(){isFinite(t.number)?this.manifest.mediaSequence=t.number:this.trigger("warn",{message:"ignoring invalid media sequence: "+t.number})},"discontinuity-sequence":function(){isFinite(t.number)?(this.manifest.discontinuitySequence=t.number,c=t.number):this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+t.number})},"playlist-type":function(){/VOD|EVENT/.test(t.playlistType)?this.manifest.playlistType=t.playlistType:this.trigger("warn",{message:"ignoring unknown playlist type: "+t.playlist})},map:function(){n={},t.uri&&(n.uri=t.uri),t.byterange&&(n.byterange=t.byterange)},"stream-inf":function(){this.manifest.playlists=o,this.manifest.mediaGroups=this.manifest.mediaGroups||l,t.attributes?(a.attributes||(a.attributes={}),u(a.attributes,t.attributes)):this.trigger("warn",{message:"ignoring empty stream-inf attributes"})},media:function(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||l,t.attributes&&t.attributes.TYPE&&t.attributes["GROUP-ID"]&&t.attributes.NAME){var n=this.manifest.mediaGroups[t.attributes.TYPE];n[t.attributes["GROUP-ID"]]=n[t.attributes["GROUP-ID"]]||{},e=n[t.attributes["GROUP-ID"]],(h={default:/yes/i.test(t.attributes.DEFAULT)}).default?h.autoselect=!0:h.autoselect=/yes/i.test(t.attributes.AUTOSELECT),t.attributes.LANGUAGE&&(h.language=t.attributes.LANGUAGE),t.attributes.URI&&(h.uri=t.attributes.URI),t.attributes["INSTREAM-ID"]&&(h.instreamId=t.attributes["INSTREAM-ID"]),t.attributes.CHARACTERISTICS&&(h.characteristics=t.attributes.CHARACTERISTICS),t.attributes.FORCED&&(h.forced=/yes/i.test(t.attributes.FORCED)),e[t.attributes.NAME]=h}else this.trigger("warn",{message:"ignoring incomplete or missing media group"})},discontinuity:function(){c+=1,a.discontinuity=!0,this.manifest.discontinuityStarts.push(o.length)},"program-date-time":function(){void 0===this.manifest.dateTimeString&&(this.manifest.dateTimeString=t.dateTimeString,this.manifest.dateTimeObject=t.dateTimeObject),a.dateTimeString=t.dateTimeString,a.dateTimeObject=t.dateTimeObject},targetduration:function(){!isFinite(t.duration)||t.duration<0?this.trigger("warn",{message:"ignoring invalid target duration: "+t.duration}):this.manifest.targetDuration=t.duration},totalduration:function(){!isFinite(t.duration)||t.duration<0?this.trigger("warn",{message:"ignoring invalid total duration: "+t.duration}):this.manifest.totalDuration=t.duration},start:function(){t.attributes&&!isNaN(t.attributes["TIME-OFFSET"])?this.manifest.start={timeOffset:t.attributes["TIME-OFFSET"],precise:t.attributes.PRECISE}:this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"})},"cue-out":function(){a.cueOut=t.data},"cue-out-cont":function(){a.cueOutCont=t.data},"cue-in":function(){a.cueIn=t.data}}[t.tagType]||s).call(r)},uri:function(){a.uri=t.uri,o.push(a),this.manifest.targetDuration&&!("duration"in a)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),a.duration=this.manifest.targetDuration),i&&(a.key=i),a.timeline=c,n&&(a.map=n),a={}},comment:function(){},custom:function(){t.segment?(a.custom=a.custom||{},a.custom[t.customType]=t.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[t.customType]=t.data)}})[t.type].call(r)})),e}Bt(e,t);var n=e.prototype;return n.push=function(t){this.lineStream.push(t)},n.end=function(){this.lineStream.push("\n")},n.addParser=function(t){this.parseStream.addParser(t)},n.addTagMapper=function(t){this.parseStream.addTagMapper(t)},e}(ao),go=s((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,i=/^application\/dash\+xml/i;e.simpleTypeFromSourceType=function(t){return n.test(t)?"hls":i.test(t)?"dash":"application/vnd.videojs.vhs+json"===t?"vhs-json":null}}));a(go);var mo=go.simpleTypeFromSourceType,vo=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,yo=new RegExp("[\\-\\.0-9"+vo.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),_o=new RegExp("^"+vo.source+yo.source+"*(?::"+vo.source+yo.source+"*)?$");function bo(){}function To(t,e){return e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber,e}function So(t,e,n,i,r,o){for(var a,s=++e,u=0;;){var l=t.charAt(s);switch(l){case"=":if(1===u)a=t.slice(e,s),u=3;else{if(2!==u)throw new Error("attribute equal must after attrName");u=3}break;case"'":case'"':if(3===u||1===u){if(1===u&&(o.warning('attribute value must after "="'),a=t.slice(e,s)),e=s+1,!((s=t.indexOf(l,e))>0))throw new Error("attribute value no end '"+l+"' match");c=t.slice(e,s).replace(/&#?\w+;/g,r),n.add(a,c,e-1),u=5}else{if(4!=u)throw new Error('attribute value must after "="');c=t.slice(e,s).replace(/&#?\w+;/g,r),n.add(a,c,e),o.warning('attribute "'+a+'" missed start quot('+l+")!!"),e=s+1,u=5}break;case"/":switch(u){case 0:n.setTagName(t.slice(e,s));case 5:case 6:case 7:u=7,n.closed=!0;case 4:case 1:case 2:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return o.error("unexpected end of input"),0==u&&n.setTagName(t.slice(e,s)),s;case">":switch(u){case 0:n.setTagName(t.slice(e,s));case 5:case 6:case 7:break;case 4:case 1:"/"===(c=t.slice(e,s)).slice(-1)&&(n.closed=!0,c=c.slice(0,-1));case 2:2===u&&(c=a),4==u?(o.warning('attribute "'+c+'" missed quot(")!!'),n.add(a,c.replace(/&#?\w+;/g,r),e)):("http://www.w3.org/1999/xhtml"===i[""]&&c.match(/^(?:disabled|checked|selected)$/i)||o.warning('attribute "'+c+'" missed value!! "'+c+'" instead!!'),n.add(c,c,e));break;case 3:throw new Error("attribute value missed!!")}return s;case"":l=" ";default:if(l<=" ")switch(u){case 0:n.setTagName(t.slice(e,s)),u=6;break;case 1:a=t.slice(e,s),u=2;break;case 4:var c=t.slice(e,s).replace(/&#?\w+;/g,r);o.warning('attribute "'+c+'" missed quot(")!!'),n.add(a,c,e);case 5:u=6}else switch(u){case 2:n.tagName,"http://www.w3.org/1999/xhtml"===i[""]&&a.match(/^(?:disabled|checked|selected)$/i)||o.warning('attribute "'+a+'" missed value!! "'+a+'" instead2!!'),n.add(a,a,e),e=s,u=1;break;case 5:o.warning('attribute space is required"'+a+'"!!');case 6:u=1,e=s;break;case 3:u=4,e=s;break;case 7:throw new Error("elements closed character '/' and '>' must be connected to")}}s++}}function wo(t,e,n){for(var i=t.tagName,r=null,o=t.length;o--;){var a=t[o],s=a.qName,u=a.value;if((h=s.indexOf(":"))>0)var l=a.prefix=s.slice(0,h),c=s.slice(h+1),d="xmlns"===l&&c;else c=s,l=null,d="xmlns"===s&&"";a.localName=c,!1!==d&&(null==r&&(r={},Oo(n,n={})),n[d]=r[d]=u,a.uri="http://www.w3.org/2000/xmlns/",e.startPrefixMapping(d,u))}for(o=t.length;o--;)(l=(a=t[o]).prefix)&&("xml"===l&&(a.uri="http://www.w3.org/XML/1998/namespace"),"xmlns"!==l&&(a.uri=n[l||""]));var h;(h=i.indexOf(":"))>0?(l=t.prefix=i.slice(0,h),c=t.localName=i.slice(h+1)):(l=null,c=t.localName=i);var f=t.uri=n[l||""];if(e.startElement(f,c,i,t),!t.closed)return t.currentNSMap=n,t.localNSMap=r,!0;if(e.endElement(f,c,i),r)for(l in r)e.endPrefixMapping(l)}function Eo(t,e,n,i,r){if(/^(?:script|textarea)$/i.test(n)){var o=t.indexOf("</"+n+">",e),a=t.substring(e+1,o);if(/[&<]/.test(a))return/^script$/i.test(n)?(r.characters(a,0,a.length),o):(a=a.replace(/&#?\w+;/g,i),r.characters(a,0,a.length),o)}return e+1}function Co(t,e,n,i){var r=i[n];return null==r&&((r=t.lastIndexOf("</"+n+">"))<e&&(r=t.lastIndexOf("</"+n)),i[n]=r),r<e}function Oo(t,e){for(var n in t)e[n]=t[n]}function Ao(t,e,n,i){switch(t.charAt(e+2)){case"-":return"-"===t.charAt(e+3)?(r=t.indexOf("--\x3e",e+4))>e?(n.comment(t,e+4,r-e-4),r+3):(i.error("Unclosed comment"),-1):-1;default:if("CDATA["==t.substr(e+3,6)){var r=t.indexOf("]]>",e+9);return n.startCDATA(),n.characters(t,e+9,r-e-9),n.endCDATA(),r+3}var o=function(t,e){var n,i=[],r=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(r.lastIndex=e,r.exec(t);n=r.exec(t);)if(i.push(n),n[1])return i}(t,e),a=o.length;if(a>1&&/!doctype/i.test(o[0][0])){var s=o[1][0],u=a>3&&/^public$/i.test(o[2][0])&&o[3][0],l=a>4&&o[4][0],c=o[a-1];return n.startDTD(s,u&&u.replace(/^(['"])(.*?)\1$/,"$2"),l&&l.replace(/^(['"])(.*?)\1$/,"$2")),n.endDTD(),c.index+c[0].length}}return-1}function Po(t,e,n){var i=t.indexOf("?>",e);if(i){var r=t.substring(e,i).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return r?(r[0].length,n.processingInstruction(r[1],r[2]),i+2):-1}return-1}function Io(t){}function xo(t,e){return t.__proto__=e,t}bo.prototype={parse:function(t,e,n){var i=this.domBuilder;i.startDocument(),Oo(e,e={}),function(t,e,n,i,r){function o(t){var e=t.slice(1,-1);return e in n?n[e]:"#"===e.charAt(0)?function(t){if(t>65535){var e=55296+((t-=65536)>>10),n=56320+(1023&t);return String.fromCharCode(e,n)}return String.fromCharCode(t)}(parseInt(e.substr(1).replace("x","0x"))):(r.error("entity not found:"+t),t)}function a(e){if(e>p){var n=t.substring(p,e).replace(/&#?\w+;/g,o);d&&s(p),i.characters(n,0,e-p),p=e}}function s(e,n){for(;e>=l&&(n=c.exec(t));)u=n.index,l=u+n[0].length,d.lineNumber++;d.columnNumber=e-u+1}for(var u=0,l=0,c=/.*(?:\r\n?|\n)|.*$/g,d=i.locator,h=[{currentNSMap:e}],f={},p=0;;){try{var g=t.indexOf("<",p);if(g<0){if(!t.substr(p).match(/^\s*$/)){var m=i.doc,v=m.createTextNode(t.substr(p));m.appendChild(v),i.currentElement=v}return}switch(g>p&&a(g),t.charAt(g+1)){case"/":var y=t.indexOf(">",g+3),_=t.substring(g+2,y),b=h.pop();y<0?(_=t.substring(g+2).replace(/[\s<].*/,""),r.error("end tag name: "+_+" is not complete:"+b.tagName),y=g+1+_.length):_.match(/\s</)&&(_=_.replace(/[\s<].*/,""),r.error("end tag name: "+_+" maybe not complete"),y=g+1+_.length);var T=b.localNSMap,S=b.tagName==_;if(S||b.tagName&&b.tagName.toLowerCase()==_.toLowerCase()){if(i.endElement(b.uri,b.localName,_),T)for(var w in T)i.endPrefixMapping(w);S||r.fatalError("end tag name: "+_+" is not match the current start tagName:"+b.tagName)}else h.push(b);y++;break;case"?":d&&s(g),y=Po(t,g,i);break;case"!":d&&s(g),y=Ao(t,g,i,r);break;default:d&&s(g);var E=new Io,C=h[h.length-1].currentNSMap,O=(y=So(t,g,E,C,o,r),E.length);if(!E.closed&&Co(t,y,E.tagName,f)&&(E.closed=!0,n.nbsp||r.warning("unclosed xml attribute")),d&&O){for(var A=To(d,{}),P=0;P<O;P++){var I=E[P];s(I.offset),I.locator=To(d,{})}i.locator=A,wo(E,i,C)&&h.push(E),i.locator=d}else wo(E,i,C)&&h.push(E);"http://www.w3.org/1999/xhtml"!==E.uri||E.closed?y++:y=Eo(t,y,E.tagName,o,i)}}catch(t){r.error("element parse error: "+t),y=-1}y>p?p=y:a(Math.max(g,p)+1)}}(t,e,n,i,this.errorHandler),i.endDocument()}},Io.prototype={setTagName:function(t){if(!_o.test(t))throw new Error("invalid tagName:"+t);this.tagName=t},add:function(t,e,n){if(!_o.test(t))throw new Error("invalid attribute:"+t);this[this.length++]={qName:t,value:e,offset:n}},length:0,getLocalName:function(t){return this[t].localName},getLocator:function(t){return this[t].locator},getQName:function(t){return this[t].qName},getURI:function(t){return this[t].uri},getValue:function(t){return this[t].value}},xo({},xo.prototype)instanceof xo||(xo=function(t,e){function n(){}for(e in n.prototype=e,n=new n,t)n[e]=t[e];return n});var Mo={XMLReader:bo};function ko(t,e){for(var n in t)e[n]=t[n]}function Do(t,e){var n=t.prototype;if(Object.create){var i=Object.create(e.prototype);n.__proto__=i}if(!(n instanceof e)){var r=function(){};r.prototype=e.prototype,ko(n,r=new r),t.prototype=n=r}n.constructor!=t&&("function"!=typeof t&&console.error("unknow Class:"+t),n.constructor=t)}var Ro={},No=Ro.ELEMENT_NODE=1,Lo=Ro.ATTRIBUTE_NODE=2,Fo=Ro.TEXT_NODE=3,Vo=Ro.CDATA_SECTION_NODE=4,jo=Ro.ENTITY_REFERENCE_NODE=5,Uo=Ro.ENTITY_NODE=6,Bo=Ro.PROCESSING_INSTRUCTION_NODE=7,Ho=Ro.COMMENT_NODE=8,Go=Ro.DOCUMENT_NODE=9,Wo=Ro.DOCUMENT_TYPE_NODE=10,zo=Ro.DOCUMENT_FRAGMENT_NODE=11,$o=Ro.NOTATION_NODE=12,Yo={},qo={},Xo=(Yo.INDEX_SIZE_ERR=(qo[1]="Index size error",1),Yo.DOMSTRING_SIZE_ERR=(qo[2]="DOMString size error",2),Yo.HIERARCHY_REQUEST_ERR=(qo[3]="Hierarchy request error",3)),Ko=(Yo.WRONG_DOCUMENT_ERR=(qo[4]="Wrong document",4),Yo.INVALID_CHARACTER_ERR=(qo[5]="Invalid character",5),Yo.NO_DATA_ALLOWED_ERR=(qo[6]="No data allowed",6),Yo.NO_MODIFICATION_ALLOWED_ERR=(qo[7]="No modification allowed",7),Yo.NOT_FOUND_ERR=(qo[8]="Not found",8)),Zo=(Yo.NOT_SUPPORTED_ERR=(qo[9]="Not supported",9),Yo.INUSE_ATTRIBUTE_ERR=(qo[10]="Attribute in use",10));function Jo(t,e){if(e instanceof Error)var n=e;else n=this,Error.call(this,qo[t]),this.message=qo[t],Error.captureStackTrace&&Error.captureStackTrace(this,Jo);return n.code=t,e&&(this.message=this.message+": "+e),n}function Qo(){}function ta(t,e){this._node=t,this._refresh=e,ea(this)}function ea(t){var e=t._node._inc||t._node.ownerDocument._inc;if(t._inc!=e){var n=t._refresh(t._node);Ma(t,"length",n.length),ko(n,t),t._inc=e}}function na(){}function ia(t,e){for(var n=t.length;n--;)if(t[n]===e)return n}function ra(t,e,n,i){if(i?e[ia(e,i)]=n:e[e.length++]=n,t){n.ownerElement=t;var r=t.ownerDocument;r&&(i&&da(r,t,i),function(t,e,n){t&&t._inc++,"http://www.w3.org/2000/xmlns/"==n.namespaceURI&&(e._nsMap[n.prefix?n.localName:""]=n.value)}(r,t,n))}}function oa(t,e,n){var i=ia(e,n);if(!(i>=0))throw Jo(Ko,new Error(t.tagName+"@"+n));for(var r=e.length-1;i<r;)e[i]=e[++i];if(e.length=r,t){var o=t.ownerDocument;o&&(da(o,t,n),n.ownerElement=null)}}function aa(t){if(this._features={},t)for(var e in t)this._features=t[e]}function sa(){}function ua(t){return("<"==t?"&lt;":">"==t&&"&gt;")||"&"==t&&"&amp;"||'"'==t&&"&quot;"||"&#"+t.charCodeAt()+";"}function la(t,e){if(e(t))return!0;if(t=t.firstChild)do{if(la(t,e))return!0}while(t=t.nextSibling)}function ca(){}function da(t,e,n,i){t&&t._inc++,"http://www.w3.org/2000/xmlns/"==n.namespaceURI&&delete e._nsMap[n.prefix?n.localName:""]}function ha(t,e,n){if(t&&t._inc){t._inc++;var i=e.childNodes;if(n)i[i.length++]=n;else{for(var r=e.firstChild,o=0;r;)i[o++]=r,r=r.nextSibling;i.length=o}}}function fa(t,e){var n=e.previousSibling,i=e.nextSibling;return n?n.nextSibling=i:t.firstChild=i,i?i.previousSibling=n:t.lastChild=n,ha(t.ownerDocument,t),e}function pa(t,e,n){var i=e.parentNode;if(i&&i.removeChild(e),e.nodeType===zo){var r=e.firstChild;if(null==r)return e;var o=e.lastChild}else r=o=e;var a=n?n.previousSibling:t.lastChild;r.previousSibling=a,o.nextSibling=n,a?a.nextSibling=r:t.firstChild=r,null==n?t.lastChild=o:n.previousSibling=o;do{r.parentNode=t}while(r!==o&&(r=r.nextSibling));return ha(t.ownerDocument||t,t),e.nodeType==zo&&(e.firstChild=e.lastChild=null),e}function ga(){this._nsMap={}}function ma(){}function va(){}function ya(){}function _a(){}function ba(){}function Ta(){}function Sa(){}function wa(){}function Ea(){}function Ca(){}function Oa(){}function Aa(){}function Pa(t,e){var n=[],i=9==this.nodeType?this.documentElement:this,r=i.prefix,o=i.namespaceURI;if(o&&null==r&&null==(r=i.lookupPrefix(o)))var a=[{namespace:o,prefix:null}];return xa(this,n,t,e,a),n.join("")}function Ia(t,e,n){var i=t.prefix||"",r=t.namespaceURI;if(!i&&!r)return!1;if("xml"===i&&"http://www.w3.org/XML/1998/namespace"===r||"http://www.w3.org/2000/xmlns/"==r)return!1;for(var o=n.length;o--;){var a=n[o];if(a.prefix==i)return a.namespace!=r}return!0}function xa(t,e,n,i,r){if(i){if(!(t=i(t)))return;if("string"==typeof t)return void e.push(t)}switch(t.nodeType){case No:r||(r=[]),r.length;var o=t.attributes,a=o.length,s=t.firstChild,u=t.tagName;n="http://www.w3.org/1999/xhtml"===t.namespaceURI||n,e.push("<",u);for(var l=0;l<a;l++)"xmlns"==(c=o.item(l)).prefix?r.push({prefix:c.localName,namespace:c.value}):"xmlns"==c.nodeName&&r.push({prefix:"",namespace:c.value});for(l=0;l<a;l++){var c;if(Ia(c=o.item(l),0,r)){var d=c.prefix||"",h=c.namespaceURI,f=d?" xmlns:"+d:" xmlns";e.push(f,'="',h,'"'),r.push({prefix:d,namespace:h})}xa(c,e,n,i,r)}if(Ia(t,0,r)&&(d=t.prefix||"",h=t.namespaceURI,f=d?" xmlns:"+d:" xmlns",e.push(f,'="',h,'"'),r.push({prefix:d,namespace:h})),s||n&&!/^(?:meta|link|img|br|hr|input)$/i.test(u)){if(e.push(">"),n&&/^script$/i.test(u))for(;s;)s.data?e.push(s.data):xa(s,e,n,i,r),s=s.nextSibling;else for(;s;)xa(s,e,n,i,r),s=s.nextSibling;e.push("</",u,">")}else e.push("/>");return;case Go:case zo:for(s=t.firstChild;s;)xa(s,e,n,i,r),s=s.nextSibling;return;case Lo:return e.push(" ",t.name,'="',t.value.replace(/[<&"]/g,ua),'"');case Fo:return e.push(t.data.replace(/[<&]/g,ua));case Vo:return e.push("<![CDATA[",t.data,"]]>");case Ho:return e.push("\x3c!--",t.data,"--\x3e");case Wo:var p=t.publicId,g=t.systemId;if(e.push("<!DOCTYPE ",t.name),p)e.push(' PUBLIC "',p),g&&"."!=g&&e.push('" "',g),e.push('">');else if(g&&"."!=g)e.push(' SYSTEM "',g,'">');else{var m=t.internalSubset;m&&e.push(" [",m,"]"),e.push(">")}return;case Bo:return e.push("<?",t.target," ",t.data,"?>");case jo:return e.push("&",t.nodeName,";");default:e.push("??",t.nodeName)}}function Ma(t,e,n){t[e]=n}Yo.INVALID_STATE_ERR=(qo[11]="Invalid state",11),Yo.SYNTAX_ERR=(qo[12]="Syntax error",12),Yo.INVALID_MODIFICATION_ERR=(qo[13]="Invalid modification",13),Yo.NAMESPACE_ERR=(qo[14]="Invalid namespace",14),Yo.INVALID_ACCESS_ERR=(qo[15]="Invalid access",15),Jo.prototype=Error.prototype,ko(Yo,Jo),Qo.prototype={length:0,item:function(t){return this[t]||null},toString:function(t,e){for(var n=[],i=0;i<this.length;i++)xa(this[i],n,t,e);return n.join("")}},ta.prototype.item=function(t){return ea(this),this[t]},Do(ta,Qo),na.prototype={length:0,item:Qo.prototype.item,getNamedItem:function(t){for(var e=this.length;e--;){var n=this[e];if(n.nodeName==t)return n}},setNamedItem:function(t){var e=t.ownerElement;if(e&&e!=this._ownerElement)throw new Jo(Zo);var n=this.getNamedItem(t.nodeName);return ra(this._ownerElement,this,t,n),n},setNamedItemNS:function(t){var e,n=t.ownerElement;if(n&&n!=this._ownerElement)throw new Jo(Zo);return e=this.getNamedItemNS(t.namespaceURI,t.localName),ra(this._ownerElement,this,t,e),e},removeNamedItem:function(t){var e=this.getNamedItem(t);return oa(this._ownerElement,this,e),e},removeNamedItemNS:function(t,e){var n=this.getNamedItemNS(t,e);return oa(this._ownerElement,this,n),n},getNamedItemNS:function(t,e){for(var n=this.length;n--;){var i=this[n];if(i.localName==e&&i.namespaceURI==t)return i}return null}},aa.prototype={hasFeature:function(t,e){var n=this._features[t.toLowerCase()];return!(!n||e&&!(e in n))},createDocument:function(t,e,n){var i=new ca;if(i.implementation=this,i.childNodes=new Qo,i.doctype=n,n&&i.appendChild(n),e){var r=i.createElementNS(t,e);i.appendChild(r)}return i},createDocumentType:function(t,e,n){var i=new Ta;return i.name=t,i.nodeName=t,i.publicId=e,i.systemId=n,i}},sa.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(t,e){return pa(this,t,e)},replaceChild:function(t,e){this.insertBefore(t,e),e&&this.removeChild(e)},removeChild:function(t){return fa(this,t)},appendChild:function(t){return this.insertBefore(t,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(t){return function t(e,n,i){var r=new n.constructor;for(var o in n){var a=n[o];"object"!=typeof a&&a!=r[o]&&(r[o]=a)}switch(n.childNodes&&(r.childNodes=new Qo),r.ownerDocument=e,r.nodeType){case No:var s=n.attributes,u=r.attributes=new na,l=s.length;u._ownerElement=r;for(var c=0;c<l;c++)r.setAttributeNode(t(e,s.item(c),!0));break;case Lo:i=!0}if(i)for(var d=n.firstChild;d;)r.appendChild(t(e,d,i)),d=d.nextSibling;return r}(this.ownerDocument||this,this,t)},normalize:function(){for(var t=this.firstChild;t;){var e=t.nextSibling;e&&e.nodeType==Fo&&t.nodeType==Fo?(this.removeChild(e),t.appendData(e.data)):(t.normalize(),t=e)}},isSupported:function(t,e){return this.ownerDocument.implementation.hasFeature(t,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(t){for(var e=this;e;){var n=e._nsMap;if(n)for(var i in n)if(n[i]==t)return i;e=e.nodeType==Lo?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(t){for(var e=this;e;){var n=e._nsMap;if(n&&t in n)return n[t];e=e.nodeType==Lo?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(t){return null==this.lookupPrefix(t)}},ko(Ro,sa),ko(Ro,sa.prototype),ca.prototype={nodeName:"#document",nodeType:Go,doctype:null,documentElement:null,_inc:1,insertBefore:function(t,e){if(t.nodeType==zo){for(var n=t.firstChild;n;){var i=n.nextSibling;this.insertBefore(n,e),n=i}return t}return null==this.documentElement&&t.nodeType==No&&(this.documentElement=t),pa(this,t,e),t.ownerDocument=this,t},removeChild:function(t){return this.documentElement==t&&(this.documentElement=null),fa(this,t)},importNode:function(t,e){return function t(e,n,i){var r;switch(n.nodeType){case No:(r=n.cloneNode(!1)).ownerDocument=e;case zo:break;case Lo:i=!0}if(r||(r=n.cloneNode(!1)),r.ownerDocument=e,r.parentNode=null,i)for(var o=n.firstChild;o;)r.appendChild(t(e,o,i)),o=o.nextSibling;return r}(this,t,e)},getElementById:function(t){var e=null;return la(this.documentElement,(function(n){if(n.nodeType==No&&n.getAttribute("id")==t)return e=n,!0})),e},createElement:function(t){var e=new ga;return e.ownerDocument=this,e.nodeName=t,e.tagName=t,e.childNodes=new Qo,(e.attributes=new na)._ownerElement=e,e},createDocumentFragment:function(){var t=new Ca;return t.ownerDocument=this,t.childNodes=new Qo,t},createTextNode:function(t){var e=new ya;return e.ownerDocument=this,e.appendData(t),e},createComment:function(t){var e=new _a;return e.ownerDocument=this,e.appendData(t),e},createCDATASection:function(t){var e=new ba;return e.ownerDocument=this,e.appendData(t),e},createProcessingInstruction:function(t,e){var n=new Oa;return n.ownerDocument=this,n.tagName=n.target=t,n.nodeValue=n.data=e,n},createAttribute:function(t){var e=new ma;return e.ownerDocument=this,e.name=t,e.nodeName=t,e.localName=t,e.specified=!0,e},createEntityReference:function(t){var e=new Ea;return e.ownerDocument=this,e.nodeName=t,e},createElementNS:function(t,e){var n=new ga,i=e.split(":"),r=n.attributes=new na;return n.childNodes=new Qo,n.ownerDocument=this,n.nodeName=e,n.tagName=e,n.namespaceURI=t,2==i.length?(n.prefix=i[0],n.localName=i[1]):n.localName=e,r._ownerElement=n,n},createAttributeNS:function(t,e){var n=new ma,i=e.split(":");return n.ownerDocument=this,n.nodeName=e,n.name=e,n.namespaceURI=t,n.specified=!0,2==i.length?(n.prefix=i[0],n.localName=i[1]):n.localName=e,n}},Do(ca,sa),ga.prototype={nodeType:No,hasAttribute:function(t){return null!=this.getAttributeNode(t)},getAttribute:function(t){var e=this.getAttributeNode(t);return e&&e.value||""},getAttributeNode:function(t){return this.attributes.getNamedItem(t)},setAttribute:function(t,e){var n=this.ownerDocument.createAttribute(t);n.value=n.nodeValue=""+e,this.setAttributeNode(n)},removeAttribute:function(t){var e=this.getAttributeNode(t);e&&this.removeAttributeNode(e)},appendChild:function(t){return t.nodeType===zo?this.insertBefore(t,null):function(t,e){var n=e.parentNode;if(n){var i=t.lastChild;n.removeChild(e),i=t.lastChild}return i=t.lastChild,e.parentNode=t,e.previousSibling=i,e.nextSibling=null,i?i.nextSibling=e:t.firstChild=e,t.lastChild=e,ha(t.ownerDocument,t,e),e}(this,t)},setAttributeNode:function(t){return this.attributes.setNamedItem(t)},setAttributeNodeNS:function(t){return this.attributes.setNamedItemNS(t)},removeAttributeNode:function(t){return this.attributes.removeNamedItem(t.nodeName)},removeAttributeNS:function(t,e){var n=this.getAttributeNodeNS(t,e);n&&this.removeAttributeNode(n)},hasAttributeNS:function(t,e){return null!=this.getAttributeNodeNS(t,e)},getAttributeNS:function(t,e){var n=this.getAttributeNodeNS(t,e);return n&&n.value||""},setAttributeNS:function(t,e,n){var i=this.ownerDocument.createAttributeNS(t,e);i.value=i.nodeValue=""+n,this.setAttributeNode(i)},getAttributeNodeNS:function(t,e){return this.attributes.getNamedItemNS(t,e)},getElementsByTagName:function(t){return new ta(this,(function(e){var n=[];return la(e,(function(i){i===e||i.nodeType!=No||"*"!==t&&i.tagName!=t||n.push(i)})),n}))},getElementsByTagNameNS:function(t,e){return new ta(this,(function(n){var i=[];return la(n,(function(r){r===n||r.nodeType!==No||"*"!==t&&r.namespaceURI!==t||"*"!==e&&r.localName!=e||i.push(r)})),i}))}},ca.prototype.getElementsByTagName=ga.prototype.getElementsByTagName,ca.prototype.getElementsByTagNameNS=ga.prototype.getElementsByTagNameNS,Do(ga,sa),ma.prototype.nodeType=Lo,Do(ma,sa),va.prototype={data:"",substringData:function(t,e){return this.data.substring(t,t+e)},appendData:function(t){t=this.data+t,this.nodeValue=this.data=t,this.length=t.length},insertData:function(t,e){this.replaceData(t,0,e)},appendChild:function(t){throw new Error(qo[Xo])},deleteData:function(t,e){this.replaceData(t,e,"")},replaceData:function(t,e,n){n=this.data.substring(0,t)+n+this.data.substring(t+e),this.nodeValue=this.data=n,this.length=n.length}},Do(va,sa),ya.prototype={nodeName:"#text",nodeType:Fo,splitText:function(t){var e=this.data,n=e.substring(t);e=e.substring(0,t),this.data=this.nodeValue=e,this.length=e.length;var i=this.ownerDocument.createTextNode(n);return this.parentNode&&this.parentNode.insertBefore(i,this.nextSibling),i}},Do(ya,va),_a.prototype={nodeName:"#comment",nodeType:Ho},Do(_a,va),ba.prototype={nodeName:"#cdata-section",nodeType:Vo},Do(ba,va),Ta.prototype.nodeType=Wo,Do(Ta,sa),Sa.prototype.nodeType=$o,Do(Sa,sa),wa.prototype.nodeType=Uo,Do(wa,sa),Ea.prototype.nodeType=jo,Do(Ea,sa),Ca.prototype.nodeName="#document-fragment",Ca.prototype.nodeType=zo,Do(Ca,sa),Oa.prototype.nodeType=Bo,Do(Oa,sa),Aa.prototype.serializeToString=function(t,e,n){return Pa.call(t,e,n)},sa.prototype.toString=Pa;try{Object.defineProperty&&(Object.defineProperty(ta.prototype,"length",{get:function(){return ea(this),this.$$length}}),Object.defineProperty(sa.prototype,"textContent",{get:function(){return function t(e){switch(e.nodeType){case No:case zo:var n=[];for(e=e.firstChild;e;)7!==e.nodeType&&8!==e.nodeType&&n.push(t(e)),e=e.nextSibling;return n.join("");default:return e.nodeValue}}(this)},set:function(t){switch(this.nodeType){case No:case zo:for(;this.firstChild;)this.removeChild(this.firstChild);(t||String(t))&&this.appendChild(this.ownerDocument.createTextNode(t));break;default:this.data=t,this.value=t,this.nodeValue=t}}}),Ma=function(t,e,n){t["$$"+e]=n})}catch(t){}var ka={DOMImplementation:aa,XMLSerializer:Aa},Da=s((function(t,e){function n(t){this.options=t||{locator:{}}}function i(){this.cdata=!1}function r(t,e){e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber}function o(t){if(t)return"\n@"+(t.systemId||"")+"#[line:"+t.lineNumber+",col:"+t.columnNumber+"]"}function a(t,e,n){return"string"==typeof t?t.substr(e,n):t.length>=e+n||e?new java.lang.String(t,e,n)+"":t}function s(t,e){t.currentElement?t.currentElement.appendChild(e):t.doc.appendChild(e)}n.prototype.parseFromString=function(t,e){var n=this.options,r=new u,a=n.domBuilder||new i,s=n.errorHandler,l=n.locator,c=n.xmlns||{},d={lt:"<",gt:">",amp:"&",quot:'"',apos:"'"};return l&&a.setDocumentLocator(l),r.errorHandler=function(t,e,n){if(!t){if(e instanceof i)return e;t=e}var r={},a=t instanceof Function;function s(e){var i=t[e];!i&&a&&(i=2==t.length?function(n){t(e,n)}:t),r[e]=i&&function(t){i("[xmldom "+e+"]\t"+t+o(n))}||function(){}}return n=n||{},s("warning"),s("error"),s("fatalError"),r}(s,a,l),r.domBuilder=n.domBuilder||a,/\/x?html?$/.test(e)&&(d.nbsp=" ",d.copy="©",c[""]="http://www.w3.org/1999/xhtml"),c.xml=c.xml||"http://www.w3.org/XML/1998/namespace",t?r.parse(t,c,d):r.errorHandler.error("invalid doc source"),a.doc},i.prototype={startDocument:function(){this.doc=(new l).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(t,e,n,i){var o=this.doc,a=o.createElementNS(t,n||e),u=i.length;s(this,a),this.currentElement=a,this.locator&&r(this.locator,a);for(var l=0;l<u;l++){t=i.getURI(l);var c=i.getValue(l),d=(n=i.getQName(l),o.createAttributeNS(t,n));this.locator&&r(i.getLocator(l),d),d.value=d.nodeValue=c,a.setAttributeNode(d)}},endElement:function(t,e,n){var i=this.currentElement;i.tagName,this.currentElement=i.parentNode},startPrefixMapping:function(t,e){},endPrefixMapping:function(t){},processingInstruction:function(t,e){var n=this.doc.createProcessingInstruction(t,e);this.locator&&r(this.locator,n),s(this,n)},ignorableWhitespace:function(t,e,n){},characters:function(t,e,n){if(t=a.apply(this,arguments)){if(this.cdata)var i=this.doc.createCDATASection(t);else i=this.doc.createTextNode(t);this.currentElement?this.currentElement.appendChild(i):/^\s*$/.test(t)&&this.doc.appendChild(i),this.locator&&r(this.locator,i)}},skippedEntity:function(t){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(t){(this.locator=t)&&(t.lineNumber=0)},comment:function(t,e,n){t=a.apply(this,arguments);var i=this.doc.createComment(t);this.locator&&r(this.locator,i),s(this,i)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(t,e,n){var i=this.doc.implementation;if(i&&i.createDocumentType){var o=i.createDocumentType(t,e,n);this.locator&&r(this.locator,o),s(this,o)}},warning:function(t){console.warn("[xmldom warning]\t"+t,o(this.locator))},error:function(t){console.error("[xmldom error]\t"+t,o(this.locator))},fatalError:function(t){throw console.error("[xmldom fatalError]\t"+t,o(this.locator)),t}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,(function(t){i.prototype[t]=function(){return null}}));var u=Mo.XMLReader,l=e.DOMImplementation=ka.DOMImplementation;e.XMLSerializer=ka.XMLSerializer,e.DOMParser=n})),Ra=(Da.DOMImplementation,Da.XMLSerializer,Da.DOMParser),Na=function(t){return!!t&&"object"==typeof t},La=function t(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return n.reduce((function(e,n){return Object.keys(n).forEach((function(i){Array.isArray(e[i])&&Array.isArray(n[i])?e[i]=e[i].concat(n[i]):Na(e[i])&&Na(n[i])?e[i]=t(e[i],n[i]):e[i]=n[i]})),e}),{})},Fa=function(t){return t.reduce((function(t,e){return t.concat(e)}),[])},Va=function(t){if(!t.length)return[];for(var e=[],n=0;n<t.length;n++)e.push(t[n]);return e},ja="INVALID_NUMBER_OF_PERIOD",Ua="DASH_EMPTY_MANIFEST",Ba="DASH_INVALID_XML",Ha="NO_BASE_URL",Ga="SEGMENT_TIME_UNSPECIFIED",Wa="UNSUPPORTED_UTC_TIMING_SCHEME",za=function(t){var e=t.baseUrl,n=void 0===e?"":e,i=t.source,r=void 0===i?"":i,o=t.range,a=void 0===o?"":o,s=t.indexRange,u=void 0===s?"":s,l={uri:r,resolvedUri:oo(n||"",r)};if(a||u){var c=(a||u).split("-"),d=parseInt(c[0],10),h=parseInt(c[1],10);l.byterange={length:h-d+1,offset:d}}return l},$a={static:function(t){var e=t.duration,n=t.timescale,i=void 0===n?1:n,r=t.sourceDuration;return{start:0,end:Math.ceil(r/(e/i))}},dynamic:function(t){var e=t.NOW,n=t.clientOffset,i=t.availabilityStartTime,r=t.timescale,o=void 0===r?1:r,a=t.duration,s=t.start,u=void 0===s?0:s,l=t.minimumUpdatePeriod,c=void 0===l?0:l,d=t.timeShiftBufferDepth,h=void 0===d?1/0:d,f=(e+n)/1e3,p=i+u,g=f+c-p,m=Math.ceil(g*o/a),v=Math.floor((f-p-h)*o/a),y=Math.floor((f-p)*o/a);return{start:Math.max(0,v),end:Math.min(m,y)}}},Ya=function(t){var e=t.type,n=void 0===e?"static":e,i=t.duration,r=t.timescale,o=void 0===r?1:r,a=t.sourceDuration,s=$a[n](t),u=function(t,e){for(var n=[],i=t;i<e;i++)n.push(i);return n}(s.start,s.end).map(function(t){return function(e,n){var i=t.duration,r=t.timescale,o=void 0===r?1:r,a=t.periodIndex,s=t.startNumber;return{number:(void 0===s?1:s)+e,duration:i/o,timeline:a,time:n*i}}}(t));if("static"===n){var l=u.length-1;u[l].duration=a-i/o*l}return u},qa=function(t){var e=t.baseUrl,n=t.initialization,i=void 0===n?{}:n,r=t.sourceDuration,o=t.indexRange,a=void 0===o?"":o,s=t.duration;if(!e)throw new Error(Ha);var u=za({baseUrl:e,source:i.sourceURL,range:i.range}),l=za({baseUrl:e,source:e,indexRange:a});if(l.map=u,s){var c=Ya(t);c.length&&(l.duration=c[0].duration,l.timeline=c[0].timeline)}else r&&(l.duration=r,l.timeline=0);return l.number=0,[l]},Xa=function(t,e,n){for(var i=t.sidx.map?t.sidx.map:null,r=t.sidx.duration,o=t.timeline||0,a=t.sidx.byterange,s=a.offset+a.length,u=e.timescale,l=e.references.filter((function(t){return 1!==t.referenceType})),c=[],d=s+e.firstOffset,h=0;h<l.length;h++){var f=e.references[h],p=f.referencedSize,g=f.subsegmentDuration,m=qa({baseUrl:n,timescale:u,timeline:o,periodIndex:o,duration:g,sourceDuration:r,indexRange:d+"-"+(d+p-1)})[0];i&&(m.map=i),c.push(m),d+=p}return t.segments=c,t},Ka=function(t){var e;return(e=t.reduce((function(t,e){var n,i=e.attributes.id+(e.attributes.lang||"");return t[i]?(e.segments[0]&&(e.segments[0].discontinuity=!0),(n=t[i].segments).push.apply(n,e.segments),e.attributes.contentProtection&&(t[i].attributes.contentProtection=e.attributes.contentProtection)):t[i]=e,t}),{}),Object.keys(e).map((function(t){return e[t]}))).map((function(t){var e,n;return t.discontinuityStarts=(e=t.segments,n="discontinuity",e.reduce((function(t,e,i){return e[n]&&t.push(i),t}),[])),t}))},Za=function(t,e){if(void 0===e&&(e={}),!Object.keys(e).length)return t;for(var n in t){var i=t[n];if(i.sidx){var r=i.sidx.uri+"-"+(a=i.sidx.byterange,s=void 0,s=a.offset+a.length-1,a.offset+"-"+s),o=e[r]&&e[r].sidx;i.sidx&&o&&Xa(i,o,i.sidx.resolvedUri)}}var a,s;return t},Ja=function(t){var e,n=t.attributes,i=t.segments,r=t.sidx,o={attributes:(e={NAME:n.id,BANDWIDTH:n.bandwidth,CODECS:n.codecs},e["PROGRAM-ID"]=1,e),uri:"",endList:"static"===(n.type||"static"),timeline:n.periodIndex,resolvedUri:"",targetDuration:n.duration,segments:i,mediaSequence:i.length?i[0].number:1};return n.contentProtection&&(o.contentProtection=n.contentProtection),r&&(o.sidx=r),o},Qa=function(t){var e,n=t.attributes,i=t.segments;void 0===i&&(i=[{uri:n.baseUrl,timeline:n.periodIndex,resolvedUri:n.baseUrl||"",duration:n.sourceDuration,number:0}],n.duration=n.sourceDuration);var r=((e={NAME:n.id,BANDWIDTH:n.bandwidth})["PROGRAM-ID"]=1,e);return n.codecs&&(r.CODECS=n.codecs),{attributes:r,uri:"",endList:"static"===(n.type||"static"),timeline:n.periodIndex,resolvedUri:n.baseUrl||"",targetDuration:n.duration,segments:i,mediaSequence:i.length?i[0].number:1}},ts=function(t){var e,n=t.attributes,i=t.segments,r=t.sidx,o={attributes:(e={NAME:n.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:n.width,height:n.height},CODECS:n.codecs,BANDWIDTH:n.bandwidth},e["PROGRAM-ID"]=1,e),uri:"",endList:"static"===(n.type||"static"),timeline:n.periodIndex,resolvedUri:"",targetDuration:n.duration,segments:i,mediaSequence:i.length?i[0].number:1};return n.contentProtection&&(o.contentProtection=n.contentProtection),r&&(o.sidx=r),o},es=function(t,e,n){var i;if(void 0===n&&(n={}),!t.length)return{};var r=t[0].attributes,o=r.sourceDuration,a=r.type,s=void 0===a?"static":a,u=r.suggestedPresentationDelay,l=r.minimumUpdatePeriod,c=Ka(t.filter((function(t){var e=t.attributes;return"video/mp4"===e.mimeType||"video"===e.contentType}))).map(ts),d=Ka(t.filter((function(t){var e=t.attributes;return"audio/mp4"===e.mimeType||"audio"===e.contentType}))),h=t.filter((function(t){var e=t.attributes;return"text/vtt"===e.mimeType||"text"===e.contentType})),f={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:(i={AUDIO:{},VIDEO:{}},i["CLOSED-CAPTIONS"]={},i.SUBTITLES={},i),uri:"",duration:o,playlists:Za(c,n)};return l>=0&&(f.minimumUpdatePeriod=1e3*l),e&&(f.locations=e),"dynamic"===s&&(f.suggestedPresentationDelay=u),d.length&&(f.mediaGroups.AUDIO.audio=function(t,e){var n;void 0===e&&(e={});var i=t.reduce((function(t,i){var r=i.attributes.role&&i.attributes.role.value||"",o=i.attributes.lang||"",a="main";if(o){var s=r?" ("+r+")":"";a=""+i.attributes.lang+s}return t[a]&&t[a].playlists[0].attributes.BANDWIDTH>i.attributes.bandwidth||(t[a]={language:o,autoselect:!0,default:"main"===r,playlists:Za([Ja(i)],e),uri:""},void 0===n&&"main"===r&&((n=i).default=!0)),t}),{});return n||(i[Object.keys(i)[0]].default=!0),i}(d,n)),h.length&&(f.mediaGroups.SUBTITLES.subs=function(t,e){return void 0===e&&(e={}),t.reduce((function(t,n){var i=n.attributes.lang||"text";return t[i]||(t[i]={language:i,default:!1,autoselect:!1,playlists:Za([Qa(n)],e),uri:""}),t}),{})}(h,n)),f},ns=function(t,e,n){var i=t.NOW,r=t.clientOffset,o=t.availabilityStartTime,a=t.timescale,s=void 0===a?1:a,u=t.start,l=void 0===u?0:u,c=t.minimumUpdatePeriod,d=(i+r)/1e3+(void 0===c?0:c)-(o+l);return Math.ceil((d*s-e)/n)},is=function(t,e){for(var n=t.type,i=void 0===n?"static":n,r=t.minimumUpdatePeriod,o=void 0===r?0:r,a=t.media,s=void 0===a?"":a,u=t.sourceDuration,l=t.timescale,c=void 0===l?1:l,d=t.startNumber,h=void 0===d?1:d,f=t.periodIndex,p=[],g=-1,m=0;m<e.length;m++){var v=e[m],y=v.d,_=v.r||0,b=v.t||0;g<0&&(g=b),b&&b>g&&(g=b);var T=void 0;if(_<0){var S=m+1;T=S===e.length?"dynamic"===i&&o>0&&s.indexOf("$Number$")>0?ns(t,g,y):(u*c-g)/y:(e[S].t-g)/y}else T=_+1;for(var w=h+p.length+T,E=h+p.length;E<w;)p.push({number:E,duration:y/c,time:g,timeline:f}),g+=y,E++}return p},rs=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,os=function(t,e){return t.replace(rs,function(t){return function(e,n,i,r){if("$$"===e)return"$";if(void 0===t[n])return e;var o=""+t[n];return"RepresentationID"===n?o:(r=i?parseInt(r,10):1,o.length>=r?o:""+new Array(r-o.length+1).join("0")+o)}}(e))},as=function(t,e){var n={RepresentationID:t.id,Bandwidth:t.bandwidth||0},i=t.initialization,r=void 0===i?{sourceURL:"",range:""}:i,o=za({baseUrl:t.baseUrl,source:os(r.sourceURL,n),range:r.range});return function(t,e){return t.duration||e?t.duration?Ya(t):is(t,e):[{number:t.startNumber||1,duration:t.sourceDuration,time:0,timeline:t.periodIndex}]}(t,e).map((function(e){n.Number=e.number,n.Time=e.time;var i=os(t.media||"",n);return{uri:i,timeline:e.timeline,duration:e.duration,resolvedUri:oo(t.baseUrl||"",i),map:o,number:e.number}}))},ss=function(t,e){var n=t.duration,i=t.segmentUrls,r=void 0===i?[]:i;if(!n&&!e||n&&e)throw new Error(Ga);var o,a=r.map((function(e){return function(t,e){var n=t.baseUrl,i=t.initialization,r=void 0===i?{}:i,o=za({baseUrl:n,source:r.sourceURL,range:r.range}),a=za({baseUrl:n,source:e.media,range:e.mediaRange});return a.map=o,a}(t,e)}));return n&&(o=Ya(t)),e&&(o=is(t,e)),o.map((function(t,e){if(a[e]){var n=a[e];return n.timeline=t.timeline,n.duration=t.duration,n.number=t.number,n}})).filter((function(t){return t}))},us=function(t){var e,n,i=t.attributes,r=t.segmentInfo;r.template?(n=as,e=La(i,r.template)):r.base?(n=qa,e=La(i,r.base)):r.list&&(n=ss,e=La(i,r.list));var o={attributes:i};if(!n)return o;var a=n(e,r.timeline);if(e.duration){var s=e,u=s.duration,l=s.timescale,c=void 0===l?1:l;e.duration=u/c}else a.length?e.duration=a.reduce((function(t,e){return Math.max(t,Math.ceil(e.duration))}),0):e.duration=0;return o.attributes=e,o.segments=a,r.base&&e.indexRange&&(o.sidx=a[0],o.segments=[]),o},ls=function(t,e){return Va(t.childNodes).filter((function(t){return t.tagName===e}))},cs=function(t){return t.textContent.trim()},ds=function(t){var e=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(t);if(!e)return 0;var n=e.slice(1),i=n[0],r=n[1],o=n[2],a=n[3],s=n[4],u=n[5];return 31536e3*parseFloat(i||0)+2592e3*parseFloat(r||0)+86400*parseFloat(o||0)+3600*parseFloat(a||0)+60*parseFloat(s||0)+parseFloat(u||0)},hs={mediaPresentationDuration:function(t){return ds(t)},availabilityStartTime:function(t){return/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(e=t)&&(e+="Z"),Date.parse(e)/1e3;var e},minimumUpdatePeriod:function(t){return ds(t)},suggestedPresentationDelay:function(t){return ds(t)},type:function(t){return t},timeShiftBufferDepth:function(t){return ds(t)},start:function(t){return ds(t)},width:function(t){return parseInt(t,10)},height:function(t){return parseInt(t,10)},bandwidth:function(t){return parseInt(t,10)},startNumber:function(t){return parseInt(t,10)},timescale:function(t){return parseInt(t,10)},duration:function(t){var e=parseInt(t,10);return isNaN(e)?ds(t):e},d:function(t){return parseInt(t,10)},t:function(t){return parseInt(t,10)},r:function(t){return parseInt(t,10)},DEFAULT:function(t){return t}},fs=function(t){return t&&t.attributes?Va(t.attributes).reduce((function(t,e){var n=hs[e.name]||hs.DEFAULT;return t[e.name]=n(e.value),t}),{}):{}},ps={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},gs=function(t,e){return e.length?Fa(t.map((function(t){return e.map((function(e){return oo(t,cs(e))}))}))):t},ms=function(t){var e=ls(t,"SegmentTemplate")[0],n=ls(t,"SegmentList")[0],i=n&&ls(n,"SegmentURL").map((function(t){return La({tag:"SegmentURL"},fs(t))})),r=ls(t,"SegmentBase")[0],o=n||e,a=o&&ls(o,"SegmentTimeline")[0],s=n||r||e,u=s&&ls(s,"Initialization")[0],l=e&&fs(e);l&&u?l.initialization=u&&fs(u):l&&l.initialization&&(l.initialization={sourceURL:l.initialization});var c={template:l,timeline:a&&ls(a,"S").map((function(t){return fs(t)})),list:n&&La(fs(n),{segmentUrls:i,initialization:fs(u)}),base:r&&La(fs(r),{initialization:fs(u)})};return Object.keys(c).forEach((function(t){c[t]||delete c[t]})),c},vs=function(t,e,n){return function(i){var r=fs(i),o=gs(e,ls(i,"BaseURL")),a=ls(i,"Role")[0],s={role:fs(a)},u=La(t,r,s),l=ls(i,"ContentProtection").reduce((function(t,e){var n=fs(e),i=ps[n.schemeIdUri];if(i){t[i]={attributes:n};var r=ls(e,"cenc:pssh")[0];if(r){var o=cs(r),a=o&&lo(o);t[i].pssh=a}}return t}),{});Object.keys(l).length&&(u=La(u,{contentProtection:l}));var c=ms(i),d=ls(i,"Representation"),h=La(n,c);return Fa(d.map(function(t,e,n){return function(i){var r=ls(i,"BaseURL"),o=gs(e,r),a=La(t,fs(i)),s=ms(i);return o.map((function(t){return{segmentInfo:La(n,s),attributes:La(a,{baseUrl:t})}}))}}(u,o,h)))}},ys=function(e,n){return function(i,r){var o=gs(n,ls(i,"BaseURL")),a=fs(i),s=parseInt(a.id,10),u=t.isNaN(s)?r:s,l=La(e,{periodIndex:u}),c=ls(i,"AdaptationSet"),d=ms(i);return Fa(c.map(vs(l,o,d)))}},_s=function(t){if(""===t)throw new Error(Ua);var e=(new Ra).parseFromString(t,"application/xml"),n=e&&"MPD"===e.documentElement.tagName?e.documentElement:null;if(!n||n&&n.getElementsByTagName("parsererror").length>0)throw new Error(Ba);return n},bs=function(t,e){void 0===e&&(e={});var n=function(t,e){void 0===e&&(e={});var n=e,i=n.manifestUri,r=void 0===i?"":i,o=n.NOW,a=void 0===o?Date.now():o,s=n.clientOffset,u=void 0===s?0:s,l=ls(t,"Period");if(!l.length)throw new Error(ja);var c=ls(t,"Location"),d=fs(t),h=gs([r],ls(t,"BaseURL"));return d.sourceDuration=d.mediaPresentationDuration||0,d.NOW=a,d.clientOffset=u,c.length&&(d.locations=c.map(cs)),{locations:d.locations,representationInfo:Fa(l.map(ys(d,h)))}}(_s(t),e),i=n.representationInfo.map(us);return es(i,n.locations,e.sidxMapping)},Ts=function(t){return function(t){var e=ls(t,"UTCTiming")[0];if(!e)return null;var n=fs(e);switch(n.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":n.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":n.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":n.method="DIRECT",n.value=Date.parse(n.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error(Wa)}return n}(_s(t))},Ss=function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),i={version:t[0],flags:new Uint8Array(t.subarray(1,4)),references:[],referenceId:n.getUint32(4),timescale:n.getUint32(8),earliestPresentationTime:n.getUint32(12),firstOffset:n.getUint32(16)},r=n.getUint16(22);for(e=24;r;e+=12,r--)i.references.push({referenceType:(128&t[e])>>>7,referencedSize:2147483647&n.getUint32(e),subsegmentDuration:n.getUint32(e+4),startsWithSap:!!(128&t[e+8]),sapType:(112&t[e+8])>>>4,sapDeltaTime:268435455&n.getUint32(e+8)});return i},ws=s((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){return t instanceof Uint8Array?t:new Uint8Array(t&&t.buffer||t,t&&t.byteOffset||0,t&&t.byteLength||0)},i=function(t){if(!t)return"";t=Array.prototype.slice.call(t);var e=String.fromCharCode.apply(null,n(t));try{return decodeURIComponent(escape(e))}catch(t){}return e},r=function(t,e){void 0===e&&(e=0);var i=(t=n(t))[e+6]<<21|t[e+7]<<14|t[e+8]<<7|t[e+9];return(16&t[e+5])>>4?i+20:i+10},o=function t(e,o){return void 0===o&&(o=0),(e=n(e)).length-o<10||"ID3"!==i(e.subarray(o,o+3))?o:t(e,o+=r(e,o))},a={aac:function(t){var e=o(t);return t.length>=e+2&&255==(255&t[e])&&224==(224&t[e+1])&&16==(22&t[e+1])},mp3:function(t){var e=o(t);return t.length>=e+2&&255==(255&t[e])&&224==(224&t[e+1])&&2==(6&t[e+1])},webm:function(t){return t.length>=4&&26==(255&t[0])&&69==(255&t[1])&&223==(255&t[2])&&163==(255&t[3])},mp4:function(t){return t.length>=8&&/^(f|s)typ$/.test(i(t.subarray(4,8)))&&!/^ftyp3g$/.test(i(t.subarray(4,10)))},"3gp":function(t){return t.length>=10&&/^ftyp3g$/.test(i(t.subarray(4,10)))},ts:function(t){if(t.length<189&&t.length>=1)return 71===t[0];for(var e=0;e+188<t.length&&e<188;){if(71===t[e]&&71===t[e+188])return!0;e+=1}return!1},flac:function(t){return t.length>=4&&/^fLaC$/.test(i(t.subarray(0,4)))},ogg:function(t){return t.length>=4&&/^OggS$/.test(i(t.subarray(0,4)))}},s=Object.keys(a).filter((function(t){return"ts"!==t})).concat("ts");s.forEach((function(t){var e=a[t];a[t]=function(t){return e(n(t))}})),e.detectContainerForBytes=function(t){t=n(t);for(var e=0;e<s.length;e++){var i=s[e];if(a[i](t))return i}return""},e.getId3Offset=o,e.id3Size=r,e.isLikely=a,e.isLikelyFmp4MediaSegment=function(t){t=n(t);for(var e=0;e<t.length;){var r=(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0;if("moof"===i(t.subarray(e+4,e+8)))return!0;0===r||r+e>t.length?e=t.length:e+=r}return!1}}));a(ws);var Es=ws.detectContainerForBytes,Cs=ws.getId3Offset,Os=(ws.id3Size,ws.isLikely,ws.isLikelyFmp4MediaSegment),As=s((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){return t instanceof Uint8Array?t:new Uint8Array(t&&t.buffer||t,t&&t.byteOffset||0,t&&t.byteLength||0)};e.bytesToString=function(t){if(!t)return"";t=Array.prototype.slice.call(t);var e=String.fromCharCode.apply(null,n(t));try{return decodeURIComponent(escape(e))}catch(t){}return e},e.concatTypedArrays=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];var r=e.reduce((function(t,e){return t+=e&&(e.byteLength||e.length)||0}),0),o=new Uint8Array(r),a=0;return e.forEach((function(t){t=n(t),o.set(t,a),a+=t.byteLength})),o},e.isTypedArray=function(t){return ArrayBuffer.isView(t)},e.stringToBytes=function(t,e){return void 0===e&&(e=!1),"string"!=typeof t&&t&&"function"==typeof t.toString&&(t=t.toString()),"string"!=typeof t?[]:(e||(t=unescape(encodeURIComponent(t))),t.split("").map((function(t){return 255&t.charCodeAt(0)})))},e.toUint8=n}));a(As),As.bytesToString;var Ps=As.concatTypedArrays,Is=(As.isTypedArray,As.stringToBytes),xs=As.toUint8,Ms=27,ks=15,Ds=21,Rs=function(){this.init=function(){var t={};this.on=function(e,n){t[e]||(t[e]=[]),t[e]=t[e].concat(n)},this.off=function(e,n){var i;return!!t[e]&&(i=t[e].indexOf(n),t[e]=t[e].slice(),t[e].splice(i,1),i>-1)},this.trigger=function(e){var n,i,r,o;if(n=t[e])if(2===arguments.length)for(r=n.length,i=0;i<r;++i)n[i].call(this,arguments[1]);else{for(o=[],i=arguments.length,i=1;i<arguments.length;++i)o.push(arguments[i]);for(r=n.length,i=0;i<r;++i)n[i].apply(this,o)}},this.dispose=function(){t={}}}};Rs.prototype.pipe=function(t){return this.on("data",(function(e){t.push(e)})),this.on("done",(function(e){t.flush(e)})),this.on("partialdone",(function(e){t.partialFlush(e)})),this.on("endedtimeline",(function(e){t.endTimeline(e)})),this.on("reset",(function(e){t.reset(e)})),t},Rs.prototype.push=function(t){this.trigger("data",t)},Rs.prototype.flush=function(t){this.trigger("done",t)},Rs.prototype.partialFlush=function(t){this.trigger("partialdone",t)},Rs.prototype.endTimeline=function(t){this.trigger("endedtimeline",t)},Rs.prototype.reset=function(t){this.trigger("reset",t)};var Ns=function(t,e){var n=1;for(t>e&&(n=-1);Math.abs(e-t)>4294967296;)t+=8589934592*n;return t},Ls=function t(e){var n,i;t.prototype.init.call(this),this.type_=e||"shared",this.push=function(t){"shared"!==this.type_&&t.type!==this.type_||(void 0===i&&(i=t.dts),t.dts=Ns(t.dts,i),t.pts=Ns(t.pts,i),n=t.dts,this.trigger("data",t))},this.flush=function(){i=n,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){i=void 0,n=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};Ls.prototype=new Rs;var Fs=function(t){var e=31&t[1];return e<<=8,e|=t[2]},Vs=function(t){return!!(64&t[1])},js=function(t){var e=0;return(48&t[3])>>>4>1&&(e+=t[4]+1),e},Us=function(t){switch(t){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},Bs={parseType:function(t,e){var n=Fs(t);return 0===n?"pat":n===e?"pmt":e?"pes":null},parsePat:function(t){var e=Vs(t),n=4+js(t);return e&&(n+=t[n]+1),(31&t[n+10])<<8|t[n+11]},parsePmt:function(t){var e={},n=Vs(t),i=4+js(t);if(n&&(i+=t[i]+1),1&t[i+5]){var r;r=3+((15&t[i+1])<<8|t[i+2])-4;for(var o=12+((15&t[i+10])<<8|t[i+11]);o<r;){var a=i+o;e[(31&t[a+1])<<8|t[a+2]]=t[a],o+=5+((15&t[a+3])<<8|t[a+4])}return e}},parsePayloadUnitStartIndicator:Vs,parsePesType:function(t,e){switch(e[Fs(t)]){case Ms:return"video";case ks:return"audio";case Ds:return"timed-metadata";default:return null}},parsePesTime:function(t){if(!Vs(t))return null;var e=4+js(t);if(e>=t.byteLength)return null;var n,i=null;return 192&(n=t[e+7])&&((i={}).pts=(14&t[e+9])<<27|(255&t[e+10])<<20|(254&t[e+11])<<12|(255&t[e+12])<<5|(254&t[e+13])>>>3,i.pts*=4,i.pts+=(6&t[e+13])>>>1,i.dts=i.pts,64&n&&(i.dts=(14&t[e+14])<<27|(255&t[e+15])<<20|(254&t[e+16])<<12|(255&t[e+17])<<5|(254&t[e+18])>>>3,i.dts*=4,i.dts+=(6&t[e+18])>>>1)),i},videoPacketContainsKeyFrame:function(t){for(var e=4+js(t),n=t.subarray(e),i=0,r=0,o=!1;r<n.byteLength-3;r++)if(1===n[r+2]){i=r+5;break}for(;i<n.byteLength;)switch(n[i]){case 0:if(0!==n[i-1]){i+=2;break}if(0!==n[i-2]){i++;break}r+3!==i-2&&"slice_layer_without_partitioning_rbsp_idr"===Us(31&n[r+3])&&(o=!0);do{i++}while(1!==n[i]&&i<n.length);r=i-2,i+=3;break;case 1:if(0!==n[i-1]||0!==n[i-2]){i+=3;break}"slice_layer_without_partitioning_rbsp_idr"===Us(31&n[r+3])&&(o=!0),r=i-2,i+=3;break;default:i+=3}return n=n.subarray(r),i-=r,r=0,n&&n.byteLength>3&&"slice_layer_without_partitioning_rbsp_idr"===Us(31&n[r+3])&&(o=!0),o}},Hs=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],Gs=function(t,e){var n=t[e+6]<<21|t[e+7]<<14|t[e+8]<<7|t[e+9];return n=n>=0?n:0,(16&t[e+5])>>4?n+20:n+10},Ws=function(t){return t[0]<<21|t[1]<<14|t[2]<<7|t[3]},zs={isLikelyAacData:function(t){var e=function t(e,n){return e.length-n<10||e[n]!=="I".charCodeAt(0)||e[n+1]!=="D".charCodeAt(0)||e[n+2]!=="3".charCodeAt(0)?n:t(e,n+=Gs(e,n))}(t,0);return t.length>=e+2&&255==(255&t[e])&&240==(240&t[e+1])&&16==(22&t[e+1])},parseId3TagSize:Gs,parseAdtsSize:function(t,e){var n=(224&t[e+5])>>5,i=t[e+4]<<3;return 6144&t[e+3]|i|n},parseType:function(t,e){return t[e]==="I".charCodeAt(0)&&t[e+1]==="D".charCodeAt(0)&&t[e+2]==="3".charCodeAt(0)?"timed-metadata":!0&t[e]&&240==(240&t[e+1])?"audio":null},parseSampleRate:function(t){for(var e=0;e+5<t.length;){if(255===t[e]&&240==(246&t[e+1]))return Hs[(60&t[e+2])>>>2];e++}return null},parseAacTimestamp:function(t){var e,n,i;e=10,64&t[5]&&(e+=4,e+=Ws(t.subarray(10,14)));do{if((n=Ws(t.subarray(e+4,e+8)))<1)return null;if("PRIV"===String.fromCharCode(t[e],t[e+1],t[e+2],t[e+3])){i=t.subarray(e+10,e+n+10);for(var r=0;r<i.byteLength;r++)if(0===i[r]){if("com.apple.streaming.transportStreamTimestamp"===unescape(function(t,e,n){var i,r="";for(i=e;i<n;i++)r+="%"+("00"+t[i].toString(16)).slice(-2);return r}(i,0,r))){var o=i.subarray(r+1),a=(1&o[3])<<30|o[4]<<22|o[5]<<14|o[6]<<6|o[7]>>>2;return a*=4,a+=3&o[7]}break}}e+=10,e+=n}while(e<t.byteLength);return null}},$s=9e4,Ys=(function(t){return 9e4*t},function(t,e){return t*e},function(t){return t/9e4},function(t,e){return t/e},$s),qs=Ns,Xs={};Xs.ts=Bs,Xs.aac=zs;var Ks,Zs=$s,Js=function(t,e,n){for(var i,r,o,a,s=0,u=188,l=!1;u<=t.byteLength;)if(71!==t[s]||71!==t[u]&&u!==t.byteLength)s++,u++;else{switch(i=t.subarray(s,u),Xs.ts.parseType(i,e.pid)){case"pes":r=Xs.ts.parsePesType(i,e.table),o=Xs.ts.parsePayloadUnitStartIndicator(i),"audio"===r&&o&&(a=Xs.ts.parsePesTime(i))&&(a.type="audio",n.audio.push(a),l=!0)}if(l)break;s+=188,u+=188}for(s=(u=t.byteLength)-188,l=!1;s>=0;)if(71!==t[s]||71!==t[u]&&u!==t.byteLength)s--,u--;else{switch(i=t.subarray(s,u),Xs.ts.parseType(i,e.pid)){case"pes":r=Xs.ts.parsePesType(i,e.table),o=Xs.ts.parsePayloadUnitStartIndicator(i),"audio"===r&&o&&(a=Xs.ts.parsePesTime(i))&&(a.type="audio",n.audio.push(a),l=!0)}if(l)break;s-=188,u-=188}},Qs=function(t,e,n){for(var i,r,o,a,s,u,l,c=0,d=188,h=!1,f={data:[],size:0};d<t.byteLength;)if(71!==t[c]||71!==t[d])c++,d++;else{switch(i=t.subarray(c,d),Xs.ts.parseType(i,e.pid)){case"pes":if(r=Xs.ts.parsePesType(i,e.table),o=Xs.ts.parsePayloadUnitStartIndicator(i),"video"===r&&(o&&!h&&(a=Xs.ts.parsePesTime(i))&&(a.type="video",n.video.push(a),h=!0),!n.firstKeyFrame)){if(o&&0!==f.size){for(s=new Uint8Array(f.size),u=0;f.data.length;)l=f.data.shift(),s.set(l,u),u+=l.byteLength;if(Xs.ts.videoPacketContainsKeyFrame(s)){var p=Xs.ts.parsePesTime(s);p?(n.firstKeyFrame=p,n.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}f.size=0}f.data.push(i),f.size+=i.byteLength}}if(h&&n.firstKeyFrame)break;c+=188,d+=188}for(c=(d=t.byteLength)-188,h=!1;c>=0;)if(71!==t[c]||71!==t[d])c--,d--;else{switch(i=t.subarray(c,d),Xs.ts.parseType(i,e.pid)){case"pes":r=Xs.ts.parsePesType(i,e.table),o=Xs.ts.parsePayloadUnitStartIndicator(i),"video"===r&&o&&(a=Xs.ts.parsePesTime(i))&&(a.type="video",n.video.push(a),h=!0)}if(h)break;c-=188,d-=188}},tu=function(t){var e={pid:null,table:null},n={};for(var i in function(t,e){for(var n,i=0,r=188;r<t.byteLength;)if(71!==t[i]||71!==t[r])i++,r++;else{switch(n=t.subarray(i,r),Xs.ts.parseType(n,e.pid)){case"pat":e.pid||(e.pid=Xs.ts.parsePat(n));break;case"pmt":e.table||(e.table=Xs.ts.parsePmt(n))}if(e.pid&&e.table)return;i+=188,r+=188}}(t,e),e.table)if(e.table.hasOwnProperty(i))switch(e.table[i]){case Ms:n.video=[],Qs(t,e,n),0===n.video.length&&delete n.video;break;case ks:n.audio=[],Js(t,e,n),0===n.audio.length&&delete n.audio}return n},eu=function(t,e){var n;return(n=Xs.aac.isLikelyAacData(t)?function(t){for(var e,n=!1,i=0,r=null,o=null,a=0,s=0;t.length-s>=3;){switch(Xs.aac.parseType(t,s)){case"timed-metadata":if(t.length-s<10){n=!0;break}if((a=Xs.aac.parseId3TagSize(t,s))>t.length){n=!0;break}null===o&&(e=t.subarray(s,s+a),o=Xs.aac.parseAacTimestamp(e)),s+=a;break;case"audio":if(t.length-s<7){n=!0;break}if((a=Xs.aac.parseAdtsSize(t,s))>t.length){n=!0;break}null===r&&(e=t.subarray(s,s+a),r=Xs.aac.parseSampleRate(e)),i++,s+=a;break;default:s++}if(n)return null}if(null===r||null===o)return null;var u=Zs/r;return{audio:[{type:"audio",dts:o,pts:o},{type:"audio",dts:o+1024*i*u,pts:o+1024*i*u}]}}(t):tu(t))&&(n.audio||n.video)?(function(t,e){if(t.audio&&t.audio.length){var n=e;void 0===n&&(n=t.audio[0].dts),t.audio.forEach((function(t){t.dts=qs(t.dts,n),t.pts=qs(t.pts,n),t.dtsTime=t.dts/Zs,t.ptsTime=t.pts/Zs}))}if(t.video&&t.video.length){var i=e;if(void 0===i&&(i=t.video[0].dts),t.video.forEach((function(t){t.dts=qs(t.dts,i),t.pts=qs(t.pts,i),t.dtsTime=t.dts/Zs,t.ptsTime=t.pts/Zs})),t.firstKeyFrame){var r=t.firstKeyFrame;r.dts=qs(r.dts,i),r.pts=qs(r.pts,i),r.dtsTime=r.dts/Zs,r.ptsTime=r.dts/Zs}}}(n,e),n):null},nu=function(t){return t>>>0},iu=function(t){return("00"+t.toString(16)).slice(-2)},ru=function(t){var e="";return e+=String.fromCharCode(t[0]),e+=String.fromCharCode(t[1]),e+=String.fromCharCode(t[2]),e+=String.fromCharCode(t[3])},ou=nu,au=function t(e,n){var i,r,o,a,s,u=[];if(!n.length)return null;for(i=0;i<e.byteLength;)r=ou(e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3]),o=ru(e.subarray(i+4,i+8)),a=r>1?i+r:e.byteLength,o===n[0]&&(1===n.length?u.push(e.subarray(i+8,a)):(s=t(e.subarray(i+8,a),n.slice(1))).length&&(u=u.concat(s))),i=a;return u},su=nu,uu=iu,lu=function(t,e){var n,i,r;return n=au(e,["moof","traf"]),i=[].concat.apply([],n.map((function(e){return au(e,["tfhd"]).map((function(n){var i,r;return i=su(n[4]<<24|n[5]<<16|n[6]<<8|n[7]),r=t[i]||9e4,(au(e,["tfdt"]).map((function(t){var e,n;return e=t[0],n=su(t[4]<<24|t[5]<<16|t[6]<<8|t[7]),1===e&&(n*=Math.pow(2,32),n+=su(t[8]<<24|t[9]<<16|t[10]<<8|t[11])),n}))[0]||1/0)/r}))}))),r=Math.min.apply(null,i),isFinite(r)?r:0},cu=function(t){var e=au(t,["moov","trak"]),n=[];return e.forEach((function(t){var e,i,r={},o=au(t,["tkhd"])[0];o&&(i=(e=new DataView(o.buffer,o.byteOffset,o.byteLength)).getUint8(0),r.id=0===i?e.getUint32(12):e.getUint32(20));var a=au(t,["mdia","hdlr"])[0];if(a){var s=ru(a.subarray(8,12));r.type="vide"===s?"video":"soun"===s?"audio":s}var u=au(t,["mdia","minf","stbl","stsd"])[0];if(u){var l=u.subarray(8);r.codec=ru(l.subarray(4,8));var c,d=au(l,[r.codec])[0];d&&(/^[a-z]vc[1-9]$/i.test(r.codec)?(c=d.subarray(78),"avcC"===ru(c.subarray(4,8))&&c.length>11?(r.codec+=".",r.codec+=uu(c[9]),r.codec+=uu(c[10]),r.codec+=uu(c[11])):r.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(r.codec)&&(c=d.subarray(28),"esds"===ru(c.subarray(4,8))&&c.length>20&&0!==c[19]?(r.codec+="."+uu(c[19]),r.codec+="."+uu(c[20]>>>2&63).replace(/^0/,"")):r.codec="mp4a.40.2"))}var h=au(t,["mdia","mdhd"])[0];h&&(r.timescale=Ks(h)),n.push(r)})),n},du=(Ks=function(t){var e=0===t[0]?12:20;return su(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])},s((function(e,n){function i(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var r=i(t),o={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/},a=function(t){return t?t.replace(/avc1\.(\d+)\.(\d+)/i,(function(t,e,n){return"avc1."+("00"+Number(e).toString(16)).slice(-2)+"00"+("00"+Number(n).toString(16)).slice(-2)})):t},s=function(t){return t.map(a)},u=function(t){void 0===t&&(t="");var e=t.split(","),n={};return e.forEach((function(t){t=t.trim(),["video","audio"].forEach((function(e){var i=o[e].exec(t.toLowerCase());if(i&&!(i.length<=1)){var r=t.substring(0,i[1].length),a=t.replace(r,"");n[e]={type:r,details:a}}}))})),n},l=function(t){return void 0===t&&(t=""),o.audio.test(t.trim().toLowerCase())},c=function(t){if(t&&"string"==typeof t){var e=t.toLowerCase().split(",").map((function(t){return a(t.trim())})),n="video";1===e.length&&l(e[0])&&(n="audio");var i="mp4";return e.every((function(t){return o.mp4.test(t)}))?i="mp4":e.every((function(t){return o.webm.test(t)}))?i="webm":e.every((function(t){return o.ogg.test(t)}))&&(i="ogg"),n+"/"+i+';codecs="'+t+'"'}};n.DEFAULT_AUDIO_CODEC="mp4a.40.2",n.DEFAULT_VIDEO_CODEC="avc1.4d400d",n.browserSupportsCodec=function(t){return void 0===t&&(t=""),r.default.MediaSource&&r.default.MediaSource.isTypeSupported&&r.default.MediaSource.isTypeSupported(c(t))||!1},n.codecsFromDefault=function(t,e){if(!t.mediaGroups.AUDIO||!e)return null;var n=t.mediaGroups.AUDIO[e];if(!n)return null;for(var i in n){var r=n[i];if(r.default&&r.playlists)return u(r.playlists[0].attributes.CODECS)}return null},n.getMimeForCodec=c,n.isAudioCodec=l,n.isVideoCodec=function(t){return void 0===t&&(t=""),o.video.test(t.trim().toLowerCase())},n.mapLegacyAvcCodecs=function(t){return t.replace(/avc1\.(\d+)\.(\d+)/i,(function(t){return s([t])[0]}))},n.muxerSupportsCodec=function(t){return void 0===t&&(t=""),t.toLowerCase().split(",").every((function(t){return t=t.trim(),o.muxerVideo.test(t)||o.muxerAudio.test(t)}))},n.parseCodecs=u,n.translateLegacyCodec=a,n.translateLegacyCodecs=s})));a(du);var hu,fu=du.DEFAULT_AUDIO_CODEC,pu=du.DEFAULT_VIDEO_CODEC,gu=du.browserSupportsCodec,mu=du.codecsFromDefault,vu=du.getMimeForCodec,yu=du.isAudioCodec,_u=du.isVideoCodec,bu=(du.mapLegacyAvcCodecs,du.muxerSupportsCodec),Tu=du.parseCodecs,Su=du.translateLegacyCodec,wu=(du.translateLegacyCodecs,oo),Eu=function(t,e,n){return t&&n&&n.responseURL&&e!==n.responseURL?n.responseURL:e},Cu=Qr.log,Ou=function(t,e){return t+"-"+e},Au=function(t){var e=t.manifestString,n=t.customTagParsers,i=void 0===n?[]:n,r=t.customTagMappers,o=void 0===r?[]:r,a=new po;return i.forEach((function(t){return a.addParser(t)})),o.forEach((function(t){return a.addTagMapper(t)})),a.push(e),a.end(),a.manifest},Pu=function(t,e){["AUDIO","SUBTITLES"].forEach((function(n){for(var i in t.mediaGroups[n])for(var r in t.mediaGroups[n][i]){var o=t.mediaGroups[n][i][r];e(o,n,i,r)}}))},Iu=function(t){var e=t.playlist,n=t.uri,i=t.id;e.id=i,n&&(e.uri=n),e.attributes=e.attributes||{}},xu=function(t,e){t.uri=e;for(var n=0;n<t.playlists.length;n++)if(!t.playlists[n].uri){var i="placeholder-uri-"+n;t.playlists[n].uri=i}Pu(t,(function(e,n,i,r){if(e.playlists&&e.playlists.length&&!e.playlists[0].uri){var o="placeholder-uri-"+n+"-"+i+"-"+r,a=Ou(0,o);e.playlists[0].uri=o,e.playlists[0].id=a,t.playlists[a]=e.playlists[0],t.playlists[o]=e.playlists[0]}})),function(t){for(var e=t.playlists.length;e--;){var n=t.playlists[e];Iu({playlist:n,id:Ou(e,n.uri)}),n.resolvedUri=wu(t.uri,n.uri),t.playlists[n.id]=n,t.playlists[n.uri]=n,n.attributes.BANDWIDTH||Cu.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}}(t),function(t){Pu(t,(function(e){e.uri&&(e.resolvedUri=wu(t.uri,e.uri))}))}(t)},Mu=Qr.mergeOptions,ku=Qr.EventTarget,Du=function(t,e){t.resolvedUri||(t.resolvedUri=wu(e,t.uri)),t.key&&!t.key.resolvedUri&&(t.key.resolvedUri=wu(e,t.key.uri)),t.map&&!t.map.resolvedUri&&(t.map.resolvedUri=wu(e,t.map.uri))},Ru=function(t,e){var n=Mu(t,{}),i=n.playlists[e.id];if(!i)return null;if(i.segments&&e.segments&&i.segments.length===e.segments.length&&i.endList===e.endList&&i.mediaSequence===e.mediaSequence)return null;var r=Mu(i,e);i.segments&&(r.segments=function(t,e,n){var i=e.slice();n=n||0;for(var r=Math.min(t.length,e.length+n),o=n;o<r;o++)i[o-n]=Mu(t[o],i[o-n]);return i}(i.segments,e.segments,e.mediaSequence-i.mediaSequence)),r.segments.forEach((function(t){Du(t,r.resolvedUri)}));for(var o=0;o<n.playlists.length;o++)n.playlists[o].id===e.id&&(n.playlists[o]=r);return n.playlists[e.id]=r,n.playlists[e.uri]=r,n},Nu=function(t,e){var n=t.segments[t.segments.length-1];return e&&n&&n.duration?1e3*n.duration:500*(t.targetDuration||10)},Lu=function(e){function n(t,n,i){var r;if(void 0===i&&(i={}),r=e.call(this)||this,!t)throw new Error("A non-empty playlist URL or object is required");var o=i,a=o.withCredentials,s=void 0!==a&&a,u=o.handleManifestRedirects,l=void 0!==u&&u;r.src=t,r.vhs_=n,r.withCredentials=s,r.handleManifestRedirects=l;var c=n.options_;return r.customTagParsers=c&&c.customTagParsers||[],r.customTagMappers=c&&c.customTagMappers||[],r.state="HAVE_NOTHING",r.on("mediaupdatetimeout",(function(){"HAVE_METADATA"===r.state&&(r.state="HAVE_CURRENT_METADATA",r.request=r.vhs_.xhr({uri:wu(r.master.uri,r.media().uri),withCredentials:r.withCredentials},(function(t,e){if(r.request)return t?r.playlistRequestError(r.request,r.media(),"HAVE_METADATA"):void r.haveMetadata({playlistString:r.request.responseText,url:r.media().uri,id:r.media().id})})))})),r}Bt(n,e);var i=n.prototype;return i.playlistRequestError=function(t,e,n){var i=e.uri,r=e.id;this.request=null,n&&(this.state=n),this.error={playlist:this.master.playlists[r],status:t.status,message:"HLS playlist request error at URL: "+i+".",responseText:t.responseText,code:t.status>=500?4:2},this.trigger("error")},i.haveMetadata=function(e){var n=this,i=e.playlistString,r=e.playlistObject,o=e.url,a=e.id;this.request=null,this.state="HAVE_METADATA";var s=r||Au({manifestString:i,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers});Iu({playlist:s,uri:o,id:a});var u=Ru(this.master,s);this.targetDuration=s.targetDuration,u?(this.master=u,this.media_=this.master.playlists[a]):this.trigger("playlistunchanged"),this.media().endList||(t.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=t.setTimeout((function(){n.trigger("mediaupdatetimeout")}),Nu(this.media(),!!u))),this.trigger("loadedplaylist")},i.dispose=function(){this.trigger("dispose"),this.stopRequest(),t.clearTimeout(this.mediaUpdateTimeout),t.clearTimeout(this.finalRenditionTimeout),this.off()},i.stopRequest=function(){if(this.request){var t=this.request;this.request=null,t.onreadystatechange=null,t.abort()}},i.media=function(e,n){var i=this;if(!e)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);if("string"==typeof e){if(!this.master.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.master.playlists[e]}if(t.clearTimeout(this.finalRenditionTimeout),n){var r=e.targetDuration/2*1e3||5e3;this.finalRenditionTimeout=t.setTimeout(this.media.bind(this,e,!1),r)}else{var o=this.state,a=!this.media_||e.id!==this.media_.id;if(this.master.playlists[e.id].endList||e.endList&&e.segments.length)return this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=e,void(a&&(this.trigger("mediachanging"),"HAVE_MASTER"===o?this.trigger("loadedmetadata"):this.trigger("mediachange")));if(a){if(this.state="SWITCHING_MEDIA",this.request){if(e.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.request=this.vhs_.xhr({uri:e.resolvedUri,withCredentials:this.withCredentials},(function(t,n){if(i.request){if(e.resolvedUri=Eu(i.handleManifestRedirects,e.resolvedUri,n),t)return i.playlistRequestError(i.request,e,o);i.haveMetadata({playlistString:n.responseText,url:e.uri,id:e.id}),"HAVE_MASTER"===o?i.trigger("loadedmetadata"):i.trigger("mediachange")}}))}}},i.pause=function(){this.stopRequest(),t.clearTimeout(this.mediaUpdateTimeout),"HAVE_NOTHING"===this.state&&(this.started=!1),"SWITCHING_MEDIA"===this.state?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MASTER":"HAVE_CURRENT_METADATA"===this.state&&(this.state="HAVE_METADATA")},i.load=function(e){var n=this;t.clearTimeout(this.mediaUpdateTimeout);var i=this.media();if(e){var r=i?i.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=t.setTimeout((function(){return n.load()}),r)}else this.started?i&&!i.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist"):this.start()},i.start=function(){var e=this;if(this.started=!0,"object"==typeof this.src)return this.src.uri||(this.src.uri=t.location.href),this.src.resolvedUri=this.src.uri,void setTimeout((function(){e.setupInitialPlaylist(e.src)}),0);this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials},(function(t,n){if(e.request){if(e.request=null,t)return e.error={status:n.status,message:"HLS playlist request error at URL: "+e.src+".",responseText:n.responseText,code:2},"HAVE_NOTHING"===e.state&&(e.started=!1),e.trigger("error");e.src=Eu(e.handleManifestRedirects,e.src,n);var i=Au({manifestString:n.responseText,customTagParsers:e.customTagParsers,customTagMappers:e.customTagMappers});e.setupInitialPlaylist(i)}}))},i.srcUri=function(){return"string"==typeof this.src?this.src:this.src.uri},i.setupInitialPlaylist=function(e){if(this.state="HAVE_MASTER",e.playlists)return this.master=e,xu(this.master,this.srcUri()),e.playlists.forEach((function(t){t.segments&&t.segments.forEach((function(e){Du(e,t.resolvedUri)}))})),this.trigger("loadedplaylist"),void(this.request||this.media(this.master.playlists[0]));var n=this.srcUri()||t.location.href;this.master=function(e,n){var i=Ou(0,n),r={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:t.location.href,resolvedUri:t.location.href,playlists:[{uri:n,id:i,resolvedUri:n,attributes:{}}]};return r.playlists[i]=r.playlists[0],r.playlists[n]=r.playlists[0],r}(0,n),this.haveMetadata({playlistObject:e,url:n,id:this.master.playlists[0].id}),this.trigger("loadedmetadata")},n}(ku),Fu=function(t,e){var n,i=[];if(t&&t.length)for(n=0;n<t.length;n++)e(t.start(n),t.end(n))&&i.push([t.start(n),t.end(n)]);return Qr.createTimeRanges(i)},Vu=function(t,e){return Fu(t,(function(t,n){return t-.1<=e&&n+.1>=e}))},ju=function(t,e){return Fu(t,(function(t){return t-1/30>=e}))},Uu=function(t){var e=[];if(!t||!t.length)return"";for(var n=0;n<t.length;n++)e.push(t.start(n)+" => "+t.end(n));return e.join(", ")},Bu=function(t){for(var e=[],n=0;n<t.length;n++)e.push({start:t.start(n),end:t.end(n)});return e},Hu=Qr.createTimeRange,Gu=function(t,e,n){if(void 0===e&&(e=t.mediaSequence+t.segments.length),e<t.mediaSequence)return 0;var i=function(t,e){var n=0,i=e-t.mediaSequence,r=t.segments[i];if(r){if(void 0!==r.start)return{result:r.start,precise:!0};if(void 0!==r.end)return{result:r.end-r.duration,precise:!0}}for(;i--;){if(void 0!==(r=t.segments[i]).end)return{result:n+r.end,precise:!0};if(n+=r.duration,void 0!==r.start)return{result:n+r.start,precise:!0}}return{result:n,precise:!1}}(t,e);if(i.precise)return i.result;var r=function(t,e){for(var n,i=0,r=e-t.mediaSequence;r<t.segments.length;r++){if(void 0!==(n=t.segments[r]).start)return{result:n.start-i,precise:!0};if(i+=n.duration,void 0!==n.end)return{result:n.end-i,precise:!0}}return{result:-1,precise:!1}}(t,e);return r.precise?r.result:i.result+n},Wu=function(e,n,i){if(!e)return 0;if("number"!=typeof i&&(i=0),void 0===n){if(e.totalDuration)return e.totalDuration;if(!e.endList)return t.Infinity}return Gu(e,n,i)},zu=function(t,e,n){var i=0;if(e>n){var r=[n,e];e=r[0],n=r[1]}if(e<0){for(var o=e;o<Math.min(0,n);o++)i+=t.targetDuration;e=0}for(var a=e;a<n;a++)i+=t.segments[a].duration;return i},$u=function(t,e){if(!t.segments.length)return 0;var n=t.segments.length,i=t.segments[n-1].duration||t.targetDuration,r="number"==typeof e?e:i+2*t.targetDuration;if(0===r)return n;for(var o=0;n--&&!((o+=t.segments[n].duration)>=r););return Math.max(0,n)},Yu=function(t,e,n,i){if(!t||!t.segments)return null;if(t.endList)return Wu(t);if(null===e)return null;e=e||0;var r=n?$u(t,i):t.segments.length;return Gu(t,t.mediaSequence+r,e)},qu=function(t){return t.excludeUntil&&t.excludeUntil>Date.now()},Xu=function(t){return t.excludeUntil&&t.excludeUntil===1/0},Ku=function(t){var e=qu(t);return!t.disabled&&!e},Zu=function(t,e){return e.attributes&&e.attributes[t]},Ju=function(t,e){if(1===t.playlists.length)return!0;var n=e.attributes.BANDWIDTH||Number.MAX_VALUE;return 0===t.playlists.filter((function(t){return!!Ku(t)&&(t.attributes.BANDWIDTH||0)<n})).length},Qu={duration:Wu,seekable:function(t,e,n){var i=e||0,r=Yu(t,e,!0,n);return null===r?Hu():Hu(i,r)},safeLiveIndex:$u,getMediaInfoForTime:function(t,e,n,i){var r,o=t.segments.length,a=e-i;if(a<0){if(n>0)for(r=n-1;r>=0;r--)if((a+=t.segments[r].duration+1/30)>0)return{mediaIndex:r,startTime:i-zu(t,n,r)};return{mediaIndex:0,startTime:e}}if(n<0){for(r=n;r<0;r++)if((a-=t.targetDuration)<0)return{mediaIndex:0,startTime:e};n=0}for(r=n;r<o;r++)if((a-=t.segments[r].duration+1/30)<0)return{mediaIndex:r,startTime:i+zu(t,n,r)};return{mediaIndex:o-1,startTime:e}},isEnabled:Ku,isDisabled:function(t){return t.disabled},isBlacklisted:qu,isIncompatible:Xu,playlistEnd:Yu,isAes:function(t){for(var e=0;e<t.segments.length;e++)if(t.segments[e].key)return!0;return!1},hasAttribute:Zu,estimateSegmentRequestTime:function(t,e,n,i){return void 0===i&&(i=0),Zu("BANDWIDTH",n)?(t*n.attributes.BANDWIDTH-8*i)/e:NaN},isLowestEnabledRendition:Ju},tl=Qr.xhr,el=Qr.mergeOptions,nl=function(t,e,n,i){var r="arraybuffer"===t.responseType?t.response:t.responseText;!e&&r&&(t.responseTime=Date.now(),t.roundTripTime=t.responseTime-t.requestTime,t.bytesReceived=r.byteLength||r.length,t.bandwidth||(t.bandwidth=Math.floor(t.bytesReceived/t.roundTripTime*8*1e3))),n.headers&&(t.responseHeaders=n.headers),e&&"ETIMEDOUT"===e.code&&(t.timedout=!0),e||t.aborted||200===n.statusCode||206===n.statusCode||0===n.statusCode||(e=new Error("XHR Failed with a response of: "+(t&&(r||t.responseText)))),i(e,t)},il=function(){return function t(e,n){e=el({timeout:45e3},e);var i=t.beforeRequest||Qr.Vhs.xhr.beforeRequest;if(i&&"function"==typeof i){var r=i(e);r&&(e=r)}var o=tl(e,(function(t,e){return nl(o,t,e,n)})),a=o.abort;return o.abort=function(){return o.aborted=!0,a.apply(o,arguments)},o.uri=e.uri,o.requestTime=Date.now(),o}},rl=function(t){var e,n,i={};return t.byterange&&(i.Range=(e=t.byterange,n=e.offset+e.length-1,"bytes="+e.offset+"-"+n)),i},ol=function(t,e){return t.start(e)+"-"+t.end(e)},al=function(t,e){var n=t.toString(16);return"00".substring(0,2-n.length)+n+(e%2?" ":"")},sl=function(t){return t>=32&&t<126?String.fromCharCode(t):"."},ul=function(t){var e={};return Object.keys(t).forEach((function(n){var i=t[n];ArrayBuffer.isView(i)?e[n]={bytes:i.buffer,byteOffset:i.byteOffset,byteLength:i.byteLength}:e[n]=i})),e},ll=function(t){var e=t.byterange||{length:1/0,offset:0};return[e.length,e.offset,t.resolvedUri].join(",")},cl=function(t){return t.resolvedUri},dl=function(t){for(var e=Array.prototype.slice.call(t),n="",i=0;i<e.length/16;i++)n+=e.slice(16*i,16*i+16).map(al).join("")+" "+e.slice(16*i,16*i+16).map(sl).join("")+"\n";return n},hl=Object.freeze({__proto__:null,createTransferableMessage:ul,initSegmentId:ll,segmentKeyId:cl,hexDump:dl,tagDump:function(t){var e=t.bytes;return dl(e)},textRanges:function(t){var e,n="";for(e=0;e<t.length;e++)n+=ol(t,e)+" ";return n}}),fl=function(t){var e=t.playlist,n=t.time,i=void 0===n?void 0:n,r=t.callback;if(!r)throw new Error("getProgramTime: callback must be provided");if(!e||void 0===i)return r({message:"getProgramTime: playlist and time must be provided"});var o=function(t,e){if(!e||!e.segments||0===e.segments.length)return null;for(var n,i=0,r=0;r<e.segments.length&&!(t<=(i=(n=e.segments[r]).videoTimingInfo?n.videoTimingInfo.transmuxedPresentationEnd:i+n.duration));r++);var o=e.segments[e.segments.length-1];if(o.videoTimingInfo&&o.videoTimingInfo.transmuxedPresentationEnd<t)return null;if(t>i){if(t>i+.25*o.duration)return null;n=o}return{segment:n,estimatedStart:n.videoTimingInfo?n.videoTimingInfo.transmuxedPresentationStart:i-n.duration,type:n.videoTimingInfo?"accurate":"estimate"}}(i,e);if(!o)return r({message:"valid programTime was not found"});if("estimate"===o.type)return r({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:o.estimatedStart});var a={mediaSeconds:i},s=function(t,e){if(!e.dateTimeObject)return null;var n=e.videoTimingInfo.transmuxerPrependedSeconds,i=t-(e.videoTimingInfo.transmuxedPresentationStart+n);return new Date(e.dateTimeObject.getTime()+1e3*i)}(i,o.segment);return s&&(a.programDateTime=s.toISOString()),r(null,a)},pl=function t(e){var n=e.programTime,i=e.playlist,r=e.retryCount,o=void 0===r?2:r,a=e.seekTo,s=e.pauseAfterSeek,u=void 0===s||s,l=e.tech,c=e.callback;if(!c)throw new Error("seekToProgramTime: callback must be provided");if(void 0===n||!i||!a)return c({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!i.endList&&!l.hasStarted_)return c({message:"player must be playing a live stream to start buffering"});if(!function(t){if(!t.segments||0===t.segments.length)return!1;for(var e=0;e<t.segments.length;e++)if(!t.segments[e].dateTimeObject)return!1;return!0}(i))return c({message:"programDateTime tags must be provided in the manifest "+i.resolvedUri});var d=function(t,e){var n;try{n=new Date(t)}catch(t){return null}if(!e||!e.segments||0===e.segments.length)return null;var i=e.segments[0];if(n<i.dateTimeObject)return null;for(var r=0;r<e.segments.length-1&&(i=e.segments[r],!(n<e.segments[r+1].dateTimeObject));r++);var o,a=e.segments[e.segments.length-1],s=a.dateTimeObject,u=a.videoTimingInfo?(o=a.videoTimingInfo).transmuxedPresentationEnd-o.transmuxedPresentationStart-o.transmuxerPrependedSeconds:a.duration+.25*a.duration;return n>new Date(s.getTime()+1e3*u)?null:(n>s&&(i=a),{segment:i,estimatedStart:i.videoTimingInfo?i.videoTimingInfo.transmuxedPresentationStart:Qu.duration(e,e.mediaSequence+e.segments.indexOf(i)),type:i.videoTimingInfo?"accurate":"estimate"})}(n,i);if(!d)return c({message:n+" was not found in the stream"});var h=d.segment,f=function(t,e){var n,i;try{n=new Date(t),i=new Date(e)}catch(t){}var r=n.getTime();return(i.getTime()-r)/1e3}(h.dateTimeObject,n);if("estimate"===d.type)return 0===o?c({message:n+" is not buffered yet. Try again"}):(a(d.estimatedStart+f),void l.one("seeked",(function(){t({programTime:n,playlist:i,retryCount:o-1,seekTo:a,pauseAfterSeek:u,tech:l,callback:c})})));var p=h.start+f;l.one("seeked",(function(){return c(null,l.currentTime())})),u&&l.pause(),a(p)},gl=function(t,e){if(4===t.readyState)return e()},ml=Qr.EventTarget,vl=Qr.mergeOptions,yl=function(t){var e=t.masterXml,n=t.srcUrl,i=t.clientOffset,r=t.sidxMapping,o=bs(e,{manifestUri:n,clientOffset:i,sidxMapping:r});return xu(o,n),o},_l=function(t,e){for(var n=!0,i=vl(t,{duration:e.duration,minimumUpdatePeriod:e.minimumUpdatePeriod}),r=0;r<e.playlists.length;r++){var o=Ru(i,e.playlists[r]);o&&(i=o,n=!1)}return Pu(e,(function(t,e,r,o){if(t.playlists&&t.playlists.length){var a=t.playlists[0].id,s=Ru(i,t.playlists[0]);s&&((i=s).mediaGroups[e][r][o].playlists[0]=i.playlists[a],n=!1)}})),e.minimumUpdatePeriod!==t.minimumUpdatePeriod&&(n=!1),n?null:i},bl=function(t){var e=t.byterange.offset+t.byterange.length-1;return t.uri+"-"+t.byterange.offset+"-"+e},Tl=function(t,e){var n,i,r={};for(var o in t){var a=t[o].sidx;if(a){var s=bl(a);if(!e[s])break;var u=e[s].sidxInfo;n=u,i=a,(Boolean(!n.map&&!i.map)||Boolean(n.map&&i.map&&n.map.byterange.offset===i.map.byterange.offset&&n.map.byterange.length===i.map.byterange.length))&&n.uri===i.uri&&n.byterange.offset===i.byterange.offset&&n.byterange.length===i.byterange.length&&(r[s]=e[s])}}return r},Sl=function(t,e,n,i,r,o){var a={uri:Eu(r.handleManifestRedirects,e.resolvedUri),byterange:e.byterange,playlist:n},s=Qr.mergeOptions(a,{responseType:"arraybuffer",headers:rl(a)});return function(t,e,n){var i,r=[],o=!1,a=function(t,e,i,r){return e.abort(),o=!0,n(t,e,i,r)},s=function(t,e){if(!o){if(t)return a(t,e,"",r);var n=e.responseText.substring(r&&r.byteLength||0,e.responseText.length);if(r=Ps(r,Is(n,!0)),i=i||Cs(r),r.length<10||i&&r.length<i+2)return gl(e,(function(){return a(t,e,"",r)}));var s=Es(r);return"ts"===s&&r.length<188||!s&&r.length<376?gl(e,(function(){return a(t,e,"",r)})):a(null,e,s,r)}},u=e({uri:t,beforeSend:function(t){t.overrideMimeType("text/plain; charset=x-user-defined"),t.addEventListener("progress",(function(e){return e.total,e.loaded,nl(t,null,{statusCode:t.status},s)}))}},(function(t,e){return nl(u,t,e,s)}));return u}(a.uri,i,(function(e,r,u,l){if(e)return o(e,r);if(!u||"mp4"!==u)return o({status:r.status,message:"Unsupported "+(u||"unknown")+" container type for sidx segment at URL: "+a.uri,response:"",playlist:n,internal:!0,blacklistDuration:1/0,code:2},r);var c=a.byterange,d=c.offset,h=c.length;if(l.length>=h+d)return o(e,{response:l.subarray(d,d+h),status:r.status,uri:r.uri});t.request=i(s,o)}))},wl=function(e){function n(t,n,i,r){var o;void 0===i&&(i={}),o=e.call(this)||this;var a=i,s=a.withCredentials,u=void 0!==s&&s,l=a.handleManifestRedirects,c=void 0!==l&&l;if(o.vhs_=n,o.withCredentials=u,o.handleManifestRedirects=c,!t)throw new Error("A non-empty playlist URL or object is required");return o.on("minimumUpdatePeriod",(function(){o.refreshXml_()})),o.on("mediaupdatetimeout",(function(){o.refreshMedia_(o.media().id)})),o.state="HAVE_NOTHING",o.loadedPlaylists_={},"string"==typeof t?(o.srcUrl=t,o.sidxMapping_={},jt(o)):(o.setupChildLoader(r,t),o)}Bt(n,e);var i=n.prototype;return i.setupChildLoader=function(t,e){this.masterPlaylistLoader_=t,this.childPlaylist_=e},i.dispose=function(){this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},t.clearTimeout(this.minimumUpdatePeriodTimeout_),t.clearTimeout(this.mediaRequest_),t.clearTimeout(this.mediaUpdateTimeout),this.off()},i.hasPendingRequest=function(){return this.request||this.mediaRequest_},i.stopRequest=function(){if(this.request){var t=this.request;this.request=null,t.onreadystatechange=null,t.abort()}},i.sidxRequestFinished_=function(t,e,n,i){var r=this;return function(o,a){if(r.request){if(r.request=null,o)return r.error="object"==typeof o?o:{status:a.status,message:"DASH playlist request error at URL: "+t.uri,response:a.response,code:2},n&&(r.state=n),void r.trigger("error");var s=xs(a.response),u=Ss(s.subarray(8));return i(e,u)}}},i.media=function(e){var n=this;if(!e)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);var i=this.state;if("string"==typeof e){if(!this.master.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.master.playlists[e]}var r=!this.media_||e.id!==this.media_.id;if(r&&this.loadedPlaylists_[e.id]&&this.loadedPlaylists_[e.id].endList)return this.state="HAVE_METADATA",this.media_=e,void(r&&(this.trigger("mediachanging"),this.trigger("mediachange")));if(r)if(this.media_&&this.trigger("mediachanging"),e.sidx){var o,a;this.masterPlaylistLoader_?(o=this.masterPlaylistLoader_.master,a=this.masterPlaylistLoader_.sidxMapping_):(o=this.master,a=this.sidxMapping_);var s=bl(e.sidx);a[s]={sidxInfo:e.sidx},this.request=Sl(this,e.sidx,e,this.vhs_.xhr,{handleManifestRedirects:this.handleManifestRedirects},this.sidxRequestFinished_(e,o,i,(function(t,r){if(!t||!r)throw new Error("failed to request sidx");a[s].sidx=r,n.haveMetadata({startingState:i,playlist:t.playlists[e.id]})})))}else this.mediaRequest_=t.setTimeout(this.haveMetadata.bind(this,{startingState:i,playlist:e}),0)},i.haveMetadata=function(t){var e=t.startingState,n=t.playlist;this.state="HAVE_METADATA",this.loadedPlaylists_[n.id]=n,this.mediaRequest_=null,this.refreshMedia_(n.id),"HAVE_MASTER"===e?this.trigger("loadedmetadata"):this.trigger("mediachange")},i.pause=function(){this.stopRequest(),t.clearTimeout(this.mediaUpdateTimeout),t.clearTimeout(this.minimumUpdatePeriodTimeout_),"HAVE_NOTHING"===this.state&&(this.started=!1)},i.load=function(e){var n=this;t.clearTimeout(this.mediaUpdateTimeout),t.clearTimeout(this.minimumUpdatePeriodTimeout_);var i=this.media();if(e){var r=i?i.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=t.setTimeout((function(){return n.load()}),r)}else this.started?i&&!i.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist"):this.start()},i.start=function(){var e=this;this.started=!0,this.masterPlaylistLoader_?this.mediaRequest_=t.setTimeout(this.haveMaster_.bind(this),0):this.request=this.vhs_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},(function(t,n){if(e.request){if(e.request=null,t)return e.error={status:n.status,message:"DASH playlist request error at URL: "+e.srcUrl,responseText:n.responseText,code:2},"HAVE_NOTHING"===e.state&&(e.started=!1),e.trigger("error");e.masterXml_=n.responseText,n.responseHeaders&&n.responseHeaders.date?e.masterLoaded_=Date.parse(n.responseHeaders.date):e.masterLoaded_=Date.now(),e.srcUrl=Eu(e.handleManifestRedirects,e.srcUrl,n),e.syncClientServerClock_(e.onClientServerClockSync_.bind(e))}}))},i.syncClientServerClock_=function(t){var e=this,n=Ts(this.masterXml_);return null===n?(this.clientOffset_=this.masterLoaded_-Date.now(),t()):"DIRECT"===n.method?(this.clientOffset_=n.value-Date.now(),t()):void(this.request=this.vhs_.xhr({uri:wu(this.srcUrl,n.value),method:n.method,withCredentials:this.withCredentials},(function(i,r){if(e.request){if(i)return e.clientOffset_=e.masterLoaded_-Date.now(),t();var o;o="HEAD"===n.method?r.responseHeaders&&r.responseHeaders.date?Date.parse(r.responseHeaders.date):e.masterLoaded_:Date.parse(r.responseText),e.clientOffset_=o-Date.now(),t()}})))},i.haveMaster_=function(){this.state="HAVE_MASTER",this.mediaRequest_=null,this.masterPlaylistLoader_?this.media_||this.media(this.childPlaylist_):(this.updateMainManifest_(yl({masterXml:this.masterXml_,srcUrl:this.srcUrl,clientOffset:this.clientOffset_,sidxMapping:this.sidxMapping_})),this.trigger("loadedplaylist"))},i.updateMinimumUpdatePeriodTimeout_=function(){var e=this;t.clearTimeout(this.minimumUpdatePeriodTimeout_);var n=function(n){e.minimumUpdatePeriodTimeout_=t.setTimeout((function(){e.trigger("minimumUpdatePeriod")}),n)},i=this.master&&this.master.minimumUpdatePeriod;i>0?n(i):0===i&&(this.media()?n(1e3*this.media().targetDuration):this.one("loadedplaylist",(function(){n(1e3*e.media().targetDuration)})))},i.onClientServerClockSync_=function(){this.haveMaster_(),this.hasPendingRequest()||this.media_||this.media(this.master.playlists[0]),this.updateMinimumUpdatePeriodTimeout_()},i.updateMainManifest_=function(t){if(this.master=t,this.master.locations&&this.master.locations.length){var e=this.master.locations[0];e!==this.srcUrl&&(this.srcUrl=e)}},i.refreshXml_=function(){var t=this;this.request=this.vhs_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},(function(e,n){if(t.request){if(t.request=null,e)return t.error={status:n.status,message:"DASH playlist request error at URL: "+t.srcUrl,responseText:n.responseText,code:2},"HAVE_NOTHING"===t.state&&(t.started=!1),t.trigger("error");t.masterXml_=n.responseText,t.sidxMapping_=function(t,e,n,i){var r=bs(t,{manifestUri:e,clientOffset:n}),o=Tl(r.playlists,i);return Pu(r,(function(t,e,n,r){if(t.playlists&&t.playlists.length){var a=t.playlists;o=vl(o,Tl(a,i))}})),o}(t.masterXml_,t.srcUrl,t.clientOffset_,t.sidxMapping_);var i=yl({masterXml:t.masterXml_,srcUrl:t.srcUrl,clientOffset:t.clientOffset_,sidxMapping:t.sidxMapping_}),r=_l(t.master,i),o=t.media().sidx;if(r)if(o){var a=bl(o);if(!t.sidxMapping_[a]){var s=t.media();t.request=Sl(t,s.sidx,s,t.vhs_.xhr,{handleManifestRedirects:t.handleManifestRedirects},t.sidxRequestFinished_(s,i,t.state,(function(e,n){if(!e||!n)throw new Error("failed to request sidx on minimumUpdatePeriod");t.sidxMapping_[a].sidx=n,t.updateMinimumUpdatePeriodTimeout_(),t.refreshMedia_(t.media().id)})))}}else t.updateMainManifest_(r),t.media_&&(t.media_=t.master.playlists[t.media_.id]);t.updateMinimumUpdatePeriodTimeout_()}}))},i.refreshMedia_=function(e){var n,i,r=this;if(!e)throw new Error("refreshMedia_ must take a media id");this.masterPlaylistLoader_?(n=this.masterPlaylistLoader_.master,i=yl({masterXml:this.masterPlaylistLoader_.masterXml_,srcUrl:this.masterPlaylistLoader_.srcUrl,clientOffset:this.masterPlaylistLoader_.clientOffset_,sidxMapping:this.masterPlaylistLoader_.sidxMapping_})):(n=this.master,i=yl({masterXml:this.masterXml_,srcUrl:this.srcUrl,clientOffset:this.clientOffset_,sidxMapping:this.sidxMapping_}));var o=_l(n,i);o?(this.masterPlaylistLoader_?this.masterPlaylistLoader_.master=o:this.master=o,this.media_=o.playlists[e]):(this.media_=n.playlists[e],this.trigger("playlistunchanged")),this.media().endList||(this.mediaUpdateTimeout=t.setTimeout((function(){r.trigger("mediaupdatetimeout")}),Nu(this.media(),!!o))),this.trigger("loadedplaylist")},n}(ml),El={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,BUFFER_LOW_WATER_LINE_RATE:1},Cl=function(t){for(var e=new Uint8Array(new ArrayBuffer(t.length)),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e.buffer},Ol=[],Al=function(t){var e=t.transmuxer,n=t.bytes,i=t.audioAppendStart,r=t.gopsToAlignWith,o=t.isPartial,a=t.remux,s=t.onData,u=t.onTrackInfo,l=t.onAudioTimingInfo,c=t.onVideoTimingInfo,d=t.onVideoSegmentTimingInfo,h=t.onId3,f=t.onCaptions,p=t.onDone,g={isPartial:o,buffer:[]};if(e.onmessage=function(t){hu&&("data"===t.data.action&&function(t,e,n){var i=t.data.segment,r=i.type,o=i.initSegment,a=i.captions,s=i.captionStreams,u=i.metadata,l=i.videoFrameDtsTime,c=i.videoFramePtsTime;e.buffer.push({captions:a,captionStreams:s,metadata:u});var d=t.data.segment.boxes||{data:t.data.segment.data},h={type:r,data:new Uint8Array(d.data,d.data.byteOffset,d.data.byteLength),initSegment:new Uint8Array(o.data,o.byteOffset,o.byteLength)};void 0!==l&&(h.videoFrameDtsTime=l),void 0!==c&&(h.videoFramePtsTime=c),n(h)}(t,g,s),"trackinfo"===t.data.action&&u(t.data.trackInfo),"gopInfo"===t.data.action&&function(t,e){e.gopInfo=t.data.gopInfo}(t,g),"audioTimingInfo"===t.data.action&&l(t.data.audioTimingInfo),"videoTimingInfo"===t.data.action&&c(t.data.videoTimingInfo),"videoSegmentTimingInfo"===t.data.action&&d(t.data.videoSegmentTimingInfo),"id3Frame"===t.data.action&&h([t.data.id3Frame],t.data.id3Frame.dispatchType),"caption"===t.data.action&&f(t.data.caption),"transmuxed"===t.data.type&&(e.onmessage=null,function(t){var e=t.transmuxedData,n=t.callback;e.buffer=[],n(e)}({transmuxedData:g,callback:p}),Pl()))},i&&e.postMessage({action:"setAudioAppendStart",appendStart:i}),Array.isArray(r)&&e.postMessage({action:"alignGopsWith",gopsToAlignWith:r}),void 0!==a&&e.postMessage({action:"setRemux",remux:a}),n.byteLength){var m=n instanceof ArrayBuffer?n:n.buffer,v=n instanceof ArrayBuffer?0:n.byteOffset;e.postMessage({action:"push",data:m,byteOffset:v,byteLength:n.byteLength},[m])}e.postMessage({action:o?"partialFlush":"flush"})},Pl=function(){hu=null,Ol.length&&("function"==typeof(hu=Ol.shift())?hu():Al(hu))},Il=function(t,e){t.postMessage({action:e}),Pl()},xl=function(t,e){if(!hu)return hu=t,void Il(e,t);Ol.push(Il.bind(null,e,t))},Ml=function(t){if(!hu)return hu=t,void Al(t);Ol.push(t)},kl=function(t){xl("reset",t)},Dl=function(){hu=null,Ol.length=0},Rl=function(t){xl("endTimeline",t)},Nl=2,Ll=-101,Fl=-102,Vl=function(t){t.forEach((function(t){t.abort()}))},jl=function(t,e){return e.timedout?{status:e.status,message:"HLS request timed-out at URL: "+e.uri,code:Ll,xhr:e}:e.aborted?{status:e.status,message:"HLS request aborted at URL: "+e.uri,code:Fl,xhr:e}:t?{status:e.status,message:"HLS request errored at URL: "+e.uri,code:Nl,xhr:e}:null},Ul=function(t){var e=t.segment,n=t.bytes,i=t.isPartial,r=t.trackInfoFn,o=t.timingInfoFn,a=t.videoSegmentTimingInfoFn,s=t.id3Fn,u=t.captionsFn,l=t.dataFn,c=t.doneFn,d=e.map&&e.map.tracks||{},h=Boolean(d.audio&&d.video),f=o.bind(null,e,"audio","start"),p=o.bind(null,e,"audio","end"),g=o.bind(null,e,"video","start"),m=o.bind(null,e,"video","end");if(!i&&!e.lastReachedChar){var v=function(t,e){var n=eu(t,e*Ys);if(!n)return null;var i={hasVideo:n.video&&2===n.video.length||!1,hasAudio:n.audio&&2===n.audio.length||!1};return i.hasVideo&&(i.videoStart=n.video[0].ptsTime),i.hasAudio&&(i.audioStart=n.audio[0].ptsTime),i}(n,e.baseStartTime);v&&(r(e,{hasAudio:v.hasAudio,hasVideo:v.hasVideo,isMuxed:h}),r=null,v.hasAudio&&!h&&f(v.audioStart),v.hasVideo&&g(v.videoStart),f=null,g=null)}Ml({bytes:n,transmuxer:e.transmuxer,audioAppendStart:e.audioAppendStart,gopsToAlignWith:e.gopsToAlignWith,isPartial:i,remux:h,onData:function(t){t.type="combined"===t.type?"video":t.type,l(e,t)},onTrackInfo:function(t){r&&(h&&(t.isMuxed=!0),r(e,t))},onAudioTimingInfo:function(t){f&&void 0!==t.start&&(f(t.start),f=null),p&&void 0!==t.end&&p(t.end)},onVideoTimingInfo:function(t){g&&void 0!==t.start&&(g(t.start),g=null),m&&void 0!==t.end&&m(t.end)},onVideoSegmentTimingInfo:function(t){a(t)},onId3:function(t,n){s(e,t,n)},onCaptions:function(t){u(e,[t])},onDone:function(t){c&&!i&&(t.type="combined"===t.type?"video":t.type,c(null,e,t))}})},Bl=function(t){var e=t.segment,n=t.bytes,i=t.isPartial,r=t.trackInfoFn,o=t.timingInfoFn,a=t.videoSegmentTimingInfoFn,s=t.id3Fn,u=t.captionsFn,l=t.dataFn,c=t.doneFn,d=new Uint8Array(n);if(Os(d)){e.isFmp4=!0;var h=e.map.tracks,f={isFmp4:!0,hasVideo:!!h.video,hasAudio:!!h.audio};h.audio&&h.audio.codec&&"enca"!==h.audio.codec&&(f.audioCodec=h.audio.codec),h.video&&h.video.codec&&"encv"!==h.video.codec&&(f.videoCodec=h.video.codec),h.video&&h.audio&&(f.isMuxed=!0),r(e,f);var p=lu(e.map.timescales,d);f.hasAudio&&!f.isMuxed&&o(e,"audio","start",p),f.hasVideo&&o(e,"video","start",p);var g=function(t){l(e,{data:n,type:f.hasAudio&&!f.isMuxed?"audio":"video"}),t&&t.length&&u(e,t),c(null,e,{})};if(!h.video||!n.byteLength||!e.transmuxer)return void g();var m=n instanceof ArrayBuffer?n:n.buffer,v=n instanceof ArrayBuffer?0:n.byteOffset;return e.transmuxer.addEventListener("message",(function t(i){if("mp4Captions"===i.data.action){e.transmuxer.removeEventListener("message",t);var r=i.data.data;e.bytes=n=new Uint8Array(r,r.byteOffset||0,r.byteLength),g(i.data.captions)}})),void e.transmuxer.postMessage({action:"pushMp4Captions",timescales:e.map.timescales,trackIds:[h.video.id],data:m,byteOffset:v,byteLength:n.byteLength},[m])}if(e.transmuxer){if(void 0===e.container&&(e.container=Es(d)),"ts"!==e.container&&"aac"!==e.container)return r(e,{hasAudio:!1,hasVideo:!1}),void c(null,e,{});Ul({segment:e,bytes:n,isPartial:i,trackInfoFn:r,timingInfoFn:o,videoSegmentTimingInfoFn:a,id3Fn:s,captionsFn:u,dataFn:l,doneFn:c})}else c(null,e,{})},Hl=function(t){var e=t.activeXhrs,n=t.decryptionWorker,i=t.trackInfoFn,r=t.timingInfoFn,o=t.videoSegmentTimingInfoFn,a=t.id3Fn,s=t.captionsFn,u=t.dataFn,l=t.doneFn,c=0,d=!1;return function(t,h){if(!d){if(t)return d=!0,Vl(e),l(t,h);if((c+=1)===e.length){if(h.endOfAllRequests=Date.now(),h.encryptedBytes)return function(t){var e,n=t.decryptionWorker,i=t.segment,r=t.trackInfoFn,o=t.timingInfoFn,a=t.videoSegmentTimingInfoFn,s=t.id3Fn,u=t.captionsFn,l=t.dataFn,c=t.doneFn;n.addEventListener("message",(function t(e){if(e.data.source===i.requestId){n.removeEventListener("message",t);var d=e.data.decrypted;i.bytes=new Uint8Array(d.bytes,d.byteOffset,d.byteLength),Bl({segment:i,bytes:i.bytes,isPartial:!1,trackInfoFn:r,timingInfoFn:o,videoSegmentTimingInfoFn:a,id3Fn:s,captionsFn:u,dataFn:l,doneFn:c})}})),e=i.key.bytes.slice?i.key.bytes.slice():new Uint32Array(Array.prototype.slice.call(i.key.bytes)),n.postMessage(ul({source:i.requestId,encrypted:i.encryptedBytes,key:e,iv:i.key.iv}),[i.encryptedBytes.buffer,e.buffer])}({decryptionWorker:n,segment:h,trackInfoFn:i,timingInfoFn:r,videoSegmentTimingInfoFn:o,id3Fn:a,captionsFn:s,dataFn:u,doneFn:l});Bl({segment:h,bytes:h.bytes,isPartial:!1,trackInfoFn:i,timingInfoFn:r,videoSegmentTimingInfoFn:o,id3Fn:a,captionsFn:s,dataFn:u,doneFn:l})}}}},Gl=function(t){var e=t.segment,n=t.progressFn,i=t.trackInfoFn,r=t.timingInfoFn,o=t.videoSegmentTimingInfoFn,a=t.id3Fn,s=t.captionsFn,u=t.dataFn,l=t.handlePartialData;return function(t){var c=t.target;if(!c.aborted){if(l&&!e.key&&c.responseText&&c.responseText.length>=8){var d=Cl(c.responseText.substring(e.lastReachedChar||0));!e.lastReachedChar&&Os(new Uint8Array(d))||(e.lastReachedChar=c.responseText.length,Bl({segment:e,bytes:d,isPartial:!0,trackInfoFn:i,timingInfoFn:r,videoSegmentTimingInfoFn:o,id3Fn:a,captionsFn:s,dataFn:u}))}return e.stats=Qr.mergeOptions(e.stats,function(t){var e=t.target,n={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-e.requestTime||0};return n.bytesReceived=t.loaded,n.bandwidth=Math.floor(n.bytesReceived/n.roundTripTime*8*1e3),n}(t)),!e.stats.firstBytesReceivedAt&&e.stats.bytesReceived&&(e.stats.firstBytesReceivedAt=Date.now()),n(t,e)}}},Wl=function(t){var e=t.xhr,n=t.xhrOptions,i=t.decryptionWorker,r=t.segment,o=t.abortFn,a=t.progressFn,s=t.trackInfoFn,u=t.timingInfoFn,l=t.videoSegmentTimingInfoFn,c=t.id3Fn,d=t.captionsFn,h=t.dataFn,f=t.doneFn,p=t.handlePartialData,g=[],m=Hl({activeXhrs:g,decryptionWorker:i,trackInfoFn:s,timingInfoFn:u,videoSegmentTimingInfoFn:l,id3Fn:c,captionsFn:d,dataFn:h,doneFn:f});if(r.key&&!r.key.bytes){var v=e(Qr.mergeOptions(n,{uri:r.key.resolvedUri,responseType:"arraybuffer"}),function(t,e){return function(n,i){var r=i.response,o=jl(n,i);if(o)return e(o,t);if(16!==r.byteLength)return e({status:i.status,message:"Invalid HLS key at URL: "+i.uri,code:Nl,xhr:i},t);var a=new DataView(r);return t.key.bytes=new Uint32Array([a.getUint32(0),a.getUint32(4),a.getUint32(8),a.getUint32(12)]),e(null,t)}}(r,m));g.push(v)}if(r.map&&!r.map.bytes){var y=e(Qr.mergeOptions(n,{uri:r.map.resolvedUri,responseType:"arraybuffer",headers:rl(r.map)}),function(t){var e=t.segment,n=t.finishProcessingFn;return function(t,i){var r=i.response,o=jl(t,i);if(o)return n(o,e);if(0===r.byteLength)return n({status:i.status,message:"Empty HLS segment content at URL: "+i.uri,code:Nl,xhr:i},e);e.map.bytes=new Uint8Array(i.response);var a=Es(e.map.bytes);return"mp4"!==a?n({status:i.status,message:"Found unsupported "+(a||"unknown")+" container for initialization segment at URL: "+i.uri,code:Nl,internal:!0,xhr:i},e):(cu(e.map.bytes).forEach((function(t){e.map.tracks=e.map.tracks||{},e.map.tracks[t.type]||(e.map.tracks[t.type]=t,t.id&&t.timescale&&(e.map.timescales=e.map.timescales||{},e.map.timescales[t.id]=t.timescale))})),n(null,e))}}({segment:r,finishProcessingFn:m}));g.push(y)}var _=Qr.mergeOptions(n,{uri:r.resolvedUri,responseType:"arraybuffer",headers:rl(r)});p&&(_.responseType="text",_.beforeSend=function(t){t.overrideMimeType("text/plain; charset=x-user-defined")});var b=e(_,function(t){var e=t.segment,n=t.finishProcessingFn,i=t.responseType;return function(t,r){var o=r.response,a=jl(t,r);if(a)return n(a,e);var s="arraybuffer"!==i&&r.responseText?Cl(r.responseText.substring(e.lastReachedChar||0)):r.response;return 0===o.byteLength?n({status:r.status,message:"Empty HLS segment content at URL: "+r.uri,code:Nl,xhr:r},e):(e.stats=function(t){return{bandwidth:t.bandwidth,bytesReceived:t.bytesReceived||0,roundTripTime:t.roundTripTime||0}}(r),e.key?e.encryptedBytes=new Uint8Array(s):e.bytes=new Uint8Array(s),n(null,e))}}({segment:r,finishProcessingFn:m,responseType:_.responseType}));b.addEventListener("progress",Gl({segment:r,progressFn:a,trackInfoFn:s,timingInfoFn:u,videoSegmentTimingInfoFn:l,id3Fn:c,captionsFn:d,dataFn:h,handlePartialData:p})),g.push(b);var T={};return g.forEach((function(t){t.addEventListener("loadend",function(t){var e=t.loadendState,n=t.abortFn;return function(t){t.target.aborted&&n&&!e.calledAbortFn&&(n(),e.calledAbortFn=!0)}}({loadendState:T,abortFn:o}))})),function(){return Vl(g)}},zl="undefined"!=typeof window?window:{},$l="undefined"==typeof Symbol?"__target":Symbol(),Yl=zl.BlobBuilder||zl.WebKitBlobBuilder||zl.MozBlobBuilder||zl.MSBlobBuilder,ql=zl.URL||zl.webkitURL||ql&&ql.msURL,Xl=zl.Worker;function Kl(t,e){return function(n){var i=this;if(!e)return new Xl(t);if(Xl&&!n){var r=tc(e.toString().replace(/^function.+?{/,"").slice(0,-1));return this[$l]=new Xl(r),function(t,e){if(t&&e){var n=t.terminate;t.objURL=e,t.terminate=function(){t.objURL&&ql.revokeObjectURL(t.objURL),n.call(t)}}}(this[$l],r),this[$l]}var o={postMessage:function(t){i.onmessage&&setTimeout((function(){i.onmessage({data:t,target:o})}))}};e.call(o),this.postMessage=function(t){setTimeout((function(){o.onmessage({data:t,target:i})}))},this.isThisThread=!0}}if(Xl){var Zl,Jl=tc("self.onmessage = function () {}"),Ql=new Uint8Array(1);try{(Zl=new Xl(Jl)).postMessage(Ql,[Ql.buffer])}catch(t){Xl=null}finally{ql.revokeObjectURL(Jl),Zl&&Zl.terminate()}}function tc(t){try{return ql.createObjectURL(new Blob([t],{type:"application/javascript"}))}catch(n){var e=new Yl;return e.append(t),ql.createObjectURL(e.getBlob(type))}}var ec=new Kl("./transmuxer-worker.worker.js",(function(t,e){var n=this;
/*! @name @videojs/http-streaming @version 2.2.4 @license Apache-2.0 */!function(){var t=function(){this.init=function(){var t={};this.on=function(e,n){t[e]||(t[e]=[]),t[e]=t[e].concat(n)},this.off=function(e,n){var i;return!!t[e]&&(i=t[e].indexOf(n),t[e]=t[e].slice(),t[e].splice(i,1),i>-1)},this.trigger=function(e){var n,i,r,o;if(n=t[e])if(2===arguments.length)for(r=n.length,i=0;i<r;++i)n[i].call(this,arguments[1]);else{for(o=[],i=arguments.length,i=1;i<arguments.length;++i)o.push(arguments[i]);for(r=n.length,i=0;i<r;++i)n[i].apply(this,o)}},this.dispose=function(){t={}}}};t.prototype.pipe=function(t){return this.on("data",(function(e){t.push(e)})),this.on("done",(function(e){t.flush(e)})),this.on("partialdone",(function(e){t.partialFlush(e)})),this.on("endedtimeline",(function(e){t.endTimeline(e)})),this.on("reset",(function(e){t.reset(e)})),t},t.prototype.push=function(t){this.trigger("data",t)},t.prototype.flush=function(t){this.trigger("done",t)},t.prototype.partialFlush=function(t){this.trigger("partialdone",t)},t.prototype.endTimeline=function(t){this.trigger("endedtimeline",t)},t.prototype.reset=function(t){this.trigger("reset",t)};var e,i,r,o,a,s,u,l,c,d,h,f,p,g,m,v,y,_,b,T,S,w,E,C,O,A,P,I,x,M,k,D,R,N,L,F,V,j,U,B,H=t,G=Math.pow(2,32)-1;!function(){var t;if(w={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!=typeof Uint8Array){for(t in w)w.hasOwnProperty(t)&&(w[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);E=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),O=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),C=new Uint8Array([0,0,0,1]),A=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),P=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),I={video:A,audio:P},k=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),M=new Uint8Array([0,0,0,0,0,0,0,0]),D=new Uint8Array([0,0,0,0,0,0,0,0]),R=D,N=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),L=D,x=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}}(),e=function(t){var e,n,i=[],r=0;for(e=1;e<arguments.length;e++)i.push(arguments[e]);for(e=i.length;e--;)r+=i[e].byteLength;for(n=new Uint8Array(r+8),new DataView(n.buffer,n.byteOffset,n.byteLength).setUint32(0,n.byteLength),n.set(t,4),e=0,r=8;e<i.length;e++)n.set(i[e],r),r+=i[e].byteLength;return n},i=function(){return e(w.dinf,e(w.dref,k))},r=function(t){return e(w.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,t.audioobjecttype<<3|t.samplingfrequencyindex>>>1,t.samplingfrequencyindex<<7|t.channelcount<<3,6,1,2]))},m=function(t){return e(w.hdlr,I[t])},g=function(t){var n=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,t.duration>>>24&255,t.duration>>>16&255,t.duration>>>8&255,255&t.duration,85,196,0,0]);return t.samplerate&&(n[12]=t.samplerate>>>24&255,n[13]=t.samplerate>>>16&255,n[14]=t.samplerate>>>8&255,n[15]=255&t.samplerate),e(w.mdhd,n)},p=function(t){return e(w.mdia,g(t),m(t.type),s(t))},a=function(t){return e(w.mfhd,new Uint8Array([0,0,0,0,(4278190080&t)>>24,(16711680&t)>>16,(65280&t)>>8,255&t]))},s=function(t){return e(w.minf,"video"===t.type?e(w.vmhd,x):e(w.smhd,M),i(),y(t))},u=function(t,n){for(var i=[],r=n.length;r--;)i[r]=b(n[r]);return e.apply(null,[w.moof,a(t)].concat(i))},l=function(t){for(var n=t.length,i=[];n--;)i[n]=h(t[n]);return e.apply(null,[w.moov,d(4294967295)].concat(i).concat(c(t)))},c=function(t){for(var n=t.length,i=[];n--;)i[n]=T(t[n]);return e.apply(null,[w.mvex].concat(i))},d=function(t){var n=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&t)>>24,(16711680&t)>>16,(65280&t)>>8,255&t,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return e(w.mvhd,n)},v=function(t){var n,i,r=t.samples||[],o=new Uint8Array(4+r.length);for(i=0;i<r.length;i++)n=r[i].flags,o[i+4]=n.dependsOn<<4|n.isDependedOn<<2|n.hasRedundancy;return e(w.sdtp,o)},y=function(t){return e(w.stbl,_(t),e(w.stts,L),e(w.stsc,R),e(w.stsz,N),e(w.stco,D))},_=function(t){return e(w.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),"video"===t.type?F(t):V(t))},F=function(t){var n,i,r=t.sps||[],o=t.pps||[],a=[],s=[];for(n=0;n<r.length;n++)a.push((65280&r[n].byteLength)>>>8),a.push(255&r[n].byteLength),a=a.concat(Array.prototype.slice.call(r[n]));for(n=0;n<o.length;n++)s.push((65280&o[n].byteLength)>>>8),s.push(255&o[n].byteLength),s=s.concat(Array.prototype.slice.call(o[n]));if(i=[w.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&t.width)>>8,255&t.width,(65280&t.height)>>8,255&t.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),e(w.avcC,new Uint8Array([1,t.profileIdc,t.profileCompatibility,t.levelIdc,255].concat([r.length],a,[o.length],s))),e(w.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],t.sarRatio){var u=t.sarRatio[0],l=t.sarRatio[1];i.push(e(w.pasp,new Uint8Array([(4278190080&u)>>24,(16711680&u)>>16,(65280&u)>>8,255&u,(4278190080&l)>>24,(16711680&l)>>16,(65280&l)>>8,255&l])))}return e.apply(null,i)},V=function(t){return e(w.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&t.channelcount)>>8,255&t.channelcount,(65280&t.samplesize)>>8,255&t.samplesize,0,0,0,0,(65280&t.samplerate)>>8,255&t.samplerate,0,0]),r(t))},f=function(t){var n=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&t.id)>>24,(16711680&t.id)>>16,(65280&t.id)>>8,255&t.id,0,0,0,0,(4278190080&t.duration)>>24,(16711680&t.duration)>>16,(65280&t.duration)>>8,255&t.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&t.width)>>8,255&t.width,0,0,(65280&t.height)>>8,255&t.height,0,0]);return e(w.tkhd,n)},b=function(t){var n,i,r,o,a,s;return n=e(w.tfhd,new Uint8Array([0,0,0,58,(4278190080&t.id)>>24,(16711680&t.id)>>16,(65280&t.id)>>8,255&t.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),a=Math.floor(t.baseMediaDecodeTime/(G+1)),s=Math.floor(t.baseMediaDecodeTime%(G+1)),i=e(w.tfdt,new Uint8Array([1,0,0,0,a>>>24&255,a>>>16&255,a>>>8&255,255&a,s>>>24&255,s>>>16&255,s>>>8&255,255&s])),"audio"===t.type?(r=S(t,92),e(w.traf,n,i,r)):(o=v(t),r=S(t,o.length+92),e(w.traf,n,i,r,o))},h=function(t){return t.duration=t.duration||4294967295,e(w.trak,f(t),p(t))},T=function(t){var n=new Uint8Array([0,0,0,0,(4278190080&t.id)>>24,(16711680&t.id)>>16,(65280&t.id)>>8,255&t.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==t.type&&(n[n.length-1]=0),e(w.trex,n)},B=function(t,e){var n=0,i=0,r=0,o=0;return t.length&&(void 0!==t[0].duration&&(n=1),void 0!==t[0].size&&(i=2),void 0!==t[0].flags&&(r=4),void 0!==t[0].compositionTimeOffset&&(o=8)),[0,0,n|i|r|o,1,(4278190080&t.length)>>>24,(16711680&t.length)>>>16,(65280&t.length)>>>8,255&t.length,(4278190080&e)>>>24,(16711680&e)>>>16,(65280&e)>>>8,255&e]},U=function(t,n){var i,r,o,a,s,u;for(n+=20+16*(a=t.samples||[]).length,o=B(a,n),(r=new Uint8Array(o.length+16*a.length)).set(o),i=o.length,u=0;u<a.length;u++)s=a[u],r[i++]=(4278190080&s.duration)>>>24,r[i++]=(16711680&s.duration)>>>16,r[i++]=(65280&s.duration)>>>8,r[i++]=255&s.duration,r[i++]=(4278190080&s.size)>>>24,r[i++]=(16711680&s.size)>>>16,r[i++]=(65280&s.size)>>>8,r[i++]=255&s.size,r[i++]=s.flags.isLeading<<2|s.flags.dependsOn,r[i++]=s.flags.isDependedOn<<6|s.flags.hasRedundancy<<4|s.flags.paddingValue<<1|s.flags.isNonSyncSample,r[i++]=61440&s.flags.degradationPriority,r[i++]=15&s.flags.degradationPriority,r[i++]=(4278190080&s.compositionTimeOffset)>>>24,r[i++]=(16711680&s.compositionTimeOffset)>>>16,r[i++]=(65280&s.compositionTimeOffset)>>>8,r[i++]=255&s.compositionTimeOffset;return e(w.trun,r)},j=function(t,n){var i,r,o,a,s,u;for(n+=20+8*(a=t.samples||[]).length,o=B(a,n),(i=new Uint8Array(o.length+8*a.length)).set(o),r=o.length,u=0;u<a.length;u++)s=a[u],i[r++]=(4278190080&s.duration)>>>24,i[r++]=(16711680&s.duration)>>>16,i[r++]=(65280&s.duration)>>>8,i[r++]=255&s.duration,i[r++]=(4278190080&s.size)>>>24,i[r++]=(16711680&s.size)>>>16,i[r++]=(65280&s.size)>>>8,i[r++]=255&s.size;return e(w.trun,i)},S=function(t,e){return"audio"===t.type?j(t,e):U(t,e)},o=function(){return e(w.ftyp,E,C,E,O)};var W,z,$,Y,q,X,K,Z,J=function(t){return e(w.mdat,t)},Q=u,tt=function(t){var e,n=o(),i=l(t);return(e=new Uint8Array(n.byteLength+i.byteLength)).set(n),e.set(i,n.byteLength),e},et=function(t,e){var n={size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}};return n.dataOffset=e,n.compositionTimeOffset=t.pts-t.dts,n.duration=t.duration,n.size=4*t.length,n.size+=t.byteLength,t.keyFrame&&(n.flags.dependsOn=2,n.flags.isNonSyncSample=0),n},nt=function(t){var e,n,i=[],r=[];for(r.byteLength=0,r.nalCount=0,r.duration=0,i.byteLength=0,e=0;e<t.length;e++)"access_unit_delimiter_rbsp"===(n=t[e]).nalUnitType?(i.length&&(i.duration=n.dts-i.dts,r.byteLength+=i.byteLength,r.nalCount+=i.length,r.duration+=i.duration,r.push(i)),(i=[n]).byteLength=n.data.byteLength,i.pts=n.pts,i.dts=n.dts):("slice_layer_without_partitioning_rbsp_idr"===n.nalUnitType&&(i.keyFrame=!0),i.duration=n.dts-i.dts,i.byteLength+=n.data.byteLength,i.push(n));return r.length&&(!i.duration||i.duration<=0)&&(i.duration=r[r.length-1].duration),r.byteLength+=i.byteLength,r.nalCount+=i.length,r.duration+=i.duration,r.push(i),r},it=function(t){var e,n,i=[],r=[];for(i.byteLength=0,i.nalCount=0,i.duration=0,i.pts=t[0].pts,i.dts=t[0].dts,r.byteLength=0,r.nalCount=0,r.duration=0,r.pts=t[0].pts,r.dts=t[0].dts,e=0;e<t.length;e++)(n=t[e]).keyFrame?(i.length&&(r.push(i),r.byteLength+=i.byteLength,r.nalCount+=i.nalCount,r.duration+=i.duration),(i=[n]).nalCount=n.length,i.byteLength=n.byteLength,i.pts=n.pts,i.dts=n.dts,i.duration=n.duration):(i.duration+=n.duration,i.nalCount+=n.length,i.byteLength+=n.byteLength,i.push(n));return r.length&&i.duration<=0&&(i.duration=r[r.length-1].duration),r.byteLength+=i.byteLength,r.nalCount+=i.nalCount,r.duration+=i.duration,r.push(i),r},rt=function(t){var e;return!t[0][0].keyFrame&&t.length>1&&(e=t.shift(),t.byteLength-=e.byteLength,t.nalCount-=e.nalCount,t[0][0].dts=e.dts,t[0][0].pts=e.pts,t[0][0].duration+=e.duration),t},ot=function(t,e){var n,i,r,o,a,s=e||0,u=[];for(n=0;n<t.length;n++)for(o=t[n],i=0;i<o.length;i++)a=o[i],s+=(r=et(a,s)).size,u.push(r);return u},at=function(t){var e,n,i,r,o,a,s=0,u=t.byteLength,l=t.nalCount,c=new Uint8Array(u+4*l),d=new DataView(c.buffer);for(e=0;e<t.length;e++)for(r=t[e],n=0;n<r.length;n++)for(o=r[n],i=0;i<o.length;i++)a=o[i],d.setUint32(s,a.data.byteLength),s+=4,c.set(a.data,s),s+=a.data.byteLength;return c},st=function(t,e){var n,i=[];return n=et(t,e||0),i.push(n),i},ut=function(t){var e,n,i=0,r=t.byteLength,o=t.length,a=new Uint8Array(r+4*o),s=new DataView(a.buffer);for(e=0;e<t.length;e++)n=t[e],s.setUint32(i,n.data.byteLength),i+=4,a.set(n.data,i),i+=n.data.byteLength;return a},lt=[33,16,5,32,164,27],ct=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],dt=function(t){for(var e=[];t--;)e.push(0);return e},ht=function(){if(!W){var t={96e3:[lt,[227,64],dt(154),[56]],88200:[lt,[231],dt(170),[56]],64e3:[lt,[248,192],dt(240),[56]],48e3:[lt,[255,192],dt(268),[55,148,128],dt(54),[112]],44100:[lt,[255,192],dt(268),[55,163,128],dt(84),[112]],32e3:[lt,[255,192],dt(268),[55,234],dt(226),[112]],24e3:[lt,[255,192],dt(268),[55,255,128],dt(268),[111,112],dt(126),[224]],16e3:[lt,[255,192],dt(268),[55,255,128],dt(268),[111,255],dt(269),[223,108],dt(195),[1,192]],12e3:[ct,dt(268),[3,127,248],dt(268),[6,255,240],dt(268),[13,255,224],dt(268),[27,253,128],dt(259),[56]],11025:[ct,dt(268),[3,127,248],dt(268),[6,255,240],dt(268),[13,255,224],dt(268),[27,255,192],dt(268),[55,175,128],dt(108),[112]],8e3:[ct,dt(268),[3,121,16],dt(47),[7]]};e=t,W=Object.keys(e).reduce((function(t,n){return t[n]=new Uint8Array(e[n].reduce((function(t,e){return t.concat(e)}),[])),t}),{})}var e;return W};X=function(t,e){return z(q(t,e))},K=function(t,e){return $(Y(t),e)},Z=function(t,e,n){return Y(n?t:t-e)};var ft=9e4,pt=($=function(t,e){return t*e},Y=function(t){return t/9e4}),gt=(q=function(t,e){return t/e},X),mt=K,vt=Z,yt=z=function(t){return 9e4*t},_t=pt,bt=function(t,e,n,i){var r,o,a,s,u,l=0,c=0,d=0;if(e.length&&(r=gt(t.baseMediaDecodeTime,t.samplerate),o=Math.ceil(ft/(t.samplerate/1024)),n&&i&&(l=r-Math.max(n,i),d=(c=Math.floor(l/o))*o),!(c<1||d>ft/2))){for((a=ht()[t.samplerate])||(a=e[0].data),s=0;s<c;s++)u=e[0],e.splice(0,0,{data:a,dts:u.dts-o,pts:u.pts-o});t.baseMediaDecodeTime-=Math.floor(mt(d,t.samplerate))}},Tt=function(t,e,n){return e.minSegmentDts>=n?t:(e.minSegmentDts=1/0,t.filter((function(t){return t.dts>=n&&(e.minSegmentDts=Math.min(e.minSegmentDts,t.dts),e.minSegmentPts=e.minSegmentDts,!0)})))},St=function(t){var e,n,i=[];for(e=0;e<t.length;e++)n=t[e],i.push({size:n.data.byteLength,duration:1024});return i},wt=function(t){var e,n,i=0,r=new Uint8Array(function(t){var e,n=0;for(e=0;e<t.length;e++)n+=t[e].data.byteLength;return n}(t));for(e=0;e<t.length;e++)n=t[e],r.set(n.data,i),i+=n.data.byteLength;return r},Et=ft,Ct=function(t){delete t.minSegmentDts,delete t.maxSegmentDts,delete t.minSegmentPts,delete t.maxSegmentPts},Ot=function(t,e){var n,i=t.minSegmentDts;return e||(i-=t.timelineStartInfo.dts),n=t.timelineStartInfo.baseMediaDecodeTime,n+=i,n=Math.max(0,n),"audio"===t.type&&(n*=t.samplerate/Et,n=Math.floor(n)),n},At=function(t,e){"number"==typeof e.pts&&(void 0===t.timelineStartInfo.pts&&(t.timelineStartInfo.pts=e.pts),void 0===t.minSegmentPts?t.minSegmentPts=e.pts:t.minSegmentPts=Math.min(t.minSegmentPts,e.pts),void 0===t.maxSegmentPts?t.maxSegmentPts=e.pts:t.maxSegmentPts=Math.max(t.maxSegmentPts,e.pts)),"number"==typeof e.dts&&(void 0===t.timelineStartInfo.dts&&(t.timelineStartInfo.dts=e.dts),void 0===t.minSegmentDts?t.minSegmentDts=e.dts:t.minSegmentDts=Math.min(t.minSegmentDts,e.dts),void 0===t.maxSegmentDts?t.maxSegmentDts=e.dts:t.maxSegmentDts=Math.max(t.maxSegmentDts,e.dts))},Pt=function(t){for(var e=0,n={payloadType:-1,payloadSize:0},i=0,r=0;e<t.byteLength&&128!==t[e];){for(;255===t[e];)i+=255,e++;for(i+=t[e++];255===t[e];)r+=255,e++;if(r+=t[e++],!n.payload&&4===i){if("GA94"===String.fromCharCode(t[e+3],t[e+4],t[e+5],t[e+6])){n.payloadType=i,n.payloadSize=r,n.payload=t.subarray(e,e+r);break}n.payload=void 0}e+=r,i=0,r=0}return n},It=function(t){return 181!==t.payload[0]||49!=(t.payload[1]<<8|t.payload[2])||"GA94"!==String.fromCharCode(t.payload[3],t.payload[4],t.payload[5],t.payload[6])||3!==t.payload[7]?null:t.payload.subarray(8,t.payload.length-1)},xt=function(t,e){var n,i,r,o,a=[];if(!(64&e[0]))return a;for(i=31&e[0],n=0;n<i;n++)o={type:3&e[2+(r=3*n)],pts:t},4&e[r+2]&&(o.ccData=e[r+3]<<8|e[r+4],a.push(o));return a},Mt=function(t){for(var e,n,i=t.byteLength,r=[],o=1;o<i-2;)0===t[o]&&0===t[o+1]&&3===t[o+2]?(r.push(o+2),o+=2):o++;if(0===r.length)return t;e=i-r.length,n=new Uint8Array(e);var a=0;for(o=0;o<e;a++,o++)a===r[0]&&(a++,r.shift()),n[o]=t[a];return n},kt=4,Dt=function t(){t.prototype.init.call(this),this.captionPackets_=[],this.ccStreams_=[new Vt(0,0),new Vt(0,1),new Vt(1,0),new Vt(1,1)],this.reset(),this.ccStreams_.forEach((function(t){t.on("data",this.trigger.bind(this,"data")),t.on("partialdone",this.trigger.bind(this,"partialdone")),t.on("done",this.trigger.bind(this,"done"))}),this)};(Dt.prototype=new H).push=function(t){var e,n,i;if("sei_rbsp"===t.nalUnitType&&(e=Pt(t.escapedRBSP)).payloadType===kt&&(n=It(e)))if(t.dts<this.latestDts_)this.ignoreNextEqualDts_=!0;else{if(t.dts===this.latestDts_&&this.ignoreNextEqualDts_)return this.numSameDts_--,void(this.numSameDts_||(this.ignoreNextEqualDts_=!1));i=xt(t.pts,n),this.captionPackets_=this.captionPackets_.concat(i),this.latestDts_!==t.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=t.dts}},Dt.prototype.flushCCStreams=function(t){this.ccStreams_.forEach((function(e){return"flush"===t?e.flush():e.partialFlush()}),this)},Dt.prototype.flushStream=function(t){this.captionPackets_.length?(this.captionPackets_.forEach((function(t,e){t.presortIndex=e})),this.captionPackets_.sort((function(t,e){return t.pts===e.pts?t.presortIndex-e.presortIndex:t.pts-e.pts})),this.captionPackets_.forEach((function(t){t.type<2&&this.dispatchCea608Packet(t)}),this),this.captionPackets_.length=0,this.flushCCStreams(t)):this.flushCCStreams(t)},Dt.prototype.flush=function(){return this.flushStream("flush")},Dt.prototype.partialFlush=function(){return this.flushStream("partialFlush")},Dt.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach((function(t){t.reset()}))},Dt.prototype.dispatchCea608Packet=function(t){this.setsTextOrXDSActive(t)?this.activeCea608Channel_[t.type]=null:this.setsChannel1Active(t)?this.activeCea608Channel_[t.type]=0:this.setsChannel2Active(t)&&(this.activeCea608Channel_[t.type]=1),null!==this.activeCea608Channel_[t.type]&&this.ccStreams_[(t.type<<1)+this.activeCea608Channel_[t.type]].push(t)},Dt.prototype.setsChannel1Active=function(t){return 4096==(30720&t.ccData)},Dt.prototype.setsChannel2Active=function(t){return 6144==(30720&t.ccData)},Dt.prototype.setsTextOrXDSActive=function(t){return 256==(28928&t.ccData)||4138==(30974&t.ccData)||6186==(30974&t.ccData)};var Rt={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},Nt=function(t){return null===t?"":(t=Rt[t]||t,String.fromCharCode(t))},Lt=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],Ft=function(){for(var t=[],e=15;e--;)t.push("");return t},Vt=function t(e,n){t.prototype.init.call(this),this.field_=e||0,this.dataChannel_=n||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(t){var e,n,i,r,o;if((e=32639&t.ccData)!==this.lastControlCode_){if(4096==(61440&e)?this.lastControlCode_=e:e!==this.PADDING_&&(this.lastControlCode_=null),i=e>>>8,r=255&e,e!==this.PADDING_)if(e===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(e===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(t.pts),this.flushDisplayed(t.pts),n=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=n,this.startPts_=t.pts;else if(e===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(t.pts);else if(e===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(t.pts);else if(e===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(t.pts);else if(e===this.CARRIAGE_RETURN_)this.clearFormatting(t.pts),this.flushDisplayed(t.pts),this.shiftRowsUp_(),this.startPts_=t.pts;else if(e===this.BACKSPACE_)"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(e===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(t.pts),this.displayed_=Ft();else if(e===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=Ft();else if(e===this.RESUME_DIRECT_CAPTIONING_)"paintOn"!==this.mode_&&(this.flushDisplayed(t.pts),this.displayed_=Ft()),this.mode_="paintOn",this.startPts_=t.pts;else if(this.isSpecialCharacter(i,r))o=Nt((i=(3&i)<<8)|r),this[this.mode_](t.pts,o),this.column_++;else if(this.isExtCharacter(i,r))"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),o=Nt((i=(3&i)<<8)|r),this[this.mode_](t.pts,o),this.column_++;else if(this.isMidRowCode(i,r))this.clearFormatting(t.pts),this[this.mode_](t.pts," "),this.column_++,14==(14&r)&&this.addFormatting(t.pts,["i"]),1==(1&r)&&this.addFormatting(t.pts,["u"]);else if(this.isOffsetControlCode(i,r))this.column_+=3&r;else if(this.isPAC(i,r)){var a=Lt.indexOf(7968&e);"rollUp"===this.mode_&&(a-this.rollUpRows_+1<0&&(a=this.rollUpRows_-1),this.setRollUp(t.pts,a)),a!==this.row_&&(this.clearFormatting(t.pts),this.row_=a),1&r&&-1===this.formatting_.indexOf("u")&&this.addFormatting(t.pts,["u"]),16==(16&e)&&(this.column_=4*((14&e)>>1)),this.isColorPAC(r)&&14==(14&r)&&this.addFormatting(t.pts,["i"])}else this.isNormalChar(i)&&(0===r&&(r=null),o=Nt(i),o+=Nt(r),this[this.mode_](t.pts,o),this.column_+=o.length)}else this.lastControlCode_=null}};Vt.prototype=new H,Vt.prototype.flushDisplayed=function(t){var e=this.displayed_.map((function(t){try{return t.trim()}catch(t){return console.error("Skipping malformed caption."),""}})).join("\n").replace(/^\n+|\n+$/g,"");e.length&&this.trigger("data",{startPts:this.startPts_,endPts:t,text:e,stream:this.name_})},Vt.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=Ft(),this.nonDisplayed_=Ft(),this.lastControlCode_=null,this.column_=0,this.row_=14,this.rollUpRows_=2,this.formatting_=[]},Vt.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},Vt.prototype.isSpecialCharacter=function(t,e){return t===this.EXT_&&e>=48&&e<=63},Vt.prototype.isExtCharacter=function(t,e){return(t===this.EXT_+1||t===this.EXT_+2)&&e>=32&&e<=63},Vt.prototype.isMidRowCode=function(t,e){return t===this.EXT_&&e>=32&&e<=47},Vt.prototype.isOffsetControlCode=function(t,e){return t===this.OFFSET_&&e>=33&&e<=35},Vt.prototype.isPAC=function(t,e){return t>=this.BASE_&&t<this.BASE_+8&&e>=64&&e<=127},Vt.prototype.isColorPAC=function(t){return t>=64&&t<=79||t>=96&&t<=127},Vt.prototype.isNormalChar=function(t){return t>=32&&t<=127},Vt.prototype.setRollUp=function(t,e){if("rollUp"!==this.mode_&&(this.row_=14,this.mode_="rollUp",this.flushDisplayed(t),this.nonDisplayed_=Ft(),this.displayed_=Ft()),void 0!==e&&e!==this.row_)for(var n=0;n<this.rollUpRows_;n++)this.displayed_[e-n]=this.displayed_[this.row_-n],this.displayed_[this.row_-n]="";void 0===e&&(e=this.row_),this.topRow_=e-this.rollUpRows_+1},Vt.prototype.addFormatting=function(t,e){this.formatting_=this.formatting_.concat(e);var n=e.reduce((function(t,e){return t+"<"+e+">"}),"");this[this.mode_](t,n)},Vt.prototype.clearFormatting=function(t){if(this.formatting_.length){var e=this.formatting_.reverse().reduce((function(t,e){return t+"</"+e+">"}),"");this.formatting_=[],this[this.mode_](t,e)}},Vt.prototype.popOn=function(t,e){var n=this.nonDisplayed_[this.row_];n+=e,this.nonDisplayed_[this.row_]=n},Vt.prototype.rollUp=function(t,e){var n=this.displayed_[this.row_];n+=e,this.displayed_[this.row_]=n},Vt.prototype.shiftRowsUp_=function(){var t;for(t=0;t<this.topRow_;t++)this.displayed_[t]="";for(t=this.row_+1;t<15;t++)this.displayed_[t]="";for(t=this.topRow_;t<this.row_;t++)this.displayed_[t]=this.displayed_[t+1];this.displayed_[this.row_]=""},Vt.prototype.paintOn=function(t,e){var n=this.displayed_[this.row_];n+=e,this.displayed_[this.row_]=n};var jt={CaptionStream:Dt,Cea608Stream:Vt},Ut={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},Bt=function(t,e){var n=1;for(t>e&&(n=-1);Math.abs(e-t)>4294967296;)t+=8589934592*n;return t},Ht=function t(e){var n,i;t.prototype.init.call(this),this.type_=e||"shared",this.push=function(t){"shared"!==this.type_&&t.type!==this.type_||(void 0===i&&(i=t.dts),t.dts=Bt(t.dts,i),t.pts=Bt(t.pts,i),n=t.dts,this.trigger("data",t))},this.flush=function(){i=n,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){i=void 0,n=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};Ht.prototype=new H;var Gt,Wt=Ht,zt=function(t,e,n){var i,r="";for(i=e;i<n;i++)r+="%"+("00"+t[i].toString(16)).slice(-2);return r},$t=function(t,e,n){return decodeURIComponent(zt(t,e,n))},Yt=function(t){return t[0]<<21|t[1]<<14|t[2]<<7|t[3]},qt={TXXX:function(t){var e;if(3===t.data[0]){for(e=1;e<t.data.length;e++)if(0===t.data[e]){t.description=$t(t.data,1,e),t.value=$t(t.data,e+1,t.data.length).replace(/\0*$/,"");break}t.data=t.value}},WXXX:function(t){var e;if(3===t.data[0])for(e=1;e<t.data.length;e++)if(0===t.data[e]){t.description=$t(t.data,1,e),t.url=$t(t.data,e+1,t.data.length);break}},PRIV:function(t){var e,n;for(e=0;e<t.data.length;e++)if(0===t.data[e]){t.owner=(n=t.data,unescape(zt(n,0,e)));break}t.privateData=t.data.subarray(e+1),t.data=t.privateData}};(Gt=function(t){var e,n={debug:!(!t||!t.debug),descriptor:t&&t.descriptor},i=0,r=[],o=0;if(Gt.prototype.init.call(this),this.dispatchType=Ut.METADATA_STREAM_TYPE.toString(16),n.descriptor)for(e=0;e<n.descriptor.length;e++)this.dispatchType+=("00"+n.descriptor[e].toString(16)).slice(-2);this.push=function(t){var e,a,s,u,l;if("timed-metadata"===t.type)if(t.dataAlignmentIndicator&&(o=0,r.length=0),0===r.length&&(t.data.length<10||t.data[0]!=="I".charCodeAt(0)||t.data[1]!=="D".charCodeAt(0)||t.data[2]!=="3".charCodeAt(0)))n.debug&&console.log("Skipping unrecognized metadata packet");else if(r.push(t),o+=t.data.byteLength,1===r.length&&(i=Yt(t.data.subarray(6,10)),i+=10),!(o<i)){for(e={data:new Uint8Array(i),frames:[],pts:r[0].pts,dts:r[0].dts},l=0;l<i;)e.data.set(r[0].data.subarray(0,i-l),l),l+=r[0].data.byteLength,o-=r[0].data.byteLength,r.shift();a=10,64&e.data[5]&&(a+=4,a+=Yt(e.data.subarray(10,14)),i-=Yt(e.data.subarray(16,20)));do{if((s=Yt(e.data.subarray(a+4,a+8)))<1)return console.log("Malformed ID3 frame encountered. Skipping metadata parsing.");if((u={id:String.fromCharCode(e.data[a],e.data[a+1],e.data[a+2],e.data[a+3]),data:e.data.subarray(a+10,a+s+10)}).key=u.id,qt[u.id]&&(qt[u.id](u),"com.apple.streaming.transportStreamTimestamp"===u.owner)){var c=u.data,d=(1&c[3])<<30|c[4]<<22|c[5]<<14|c[6]<<6|c[7]>>>2;d*=4,d+=3&c[7],u.timeStamp=d,void 0===e.pts&&void 0===e.dts&&(e.pts=u.timeStamp,e.dts=u.timeStamp),this.trigger("timestamp",u)}e.frames.push(u),a+=10,a+=s}while(a<i);this.trigger("data",e)}}}).prototype=new H;var Xt,Kt,Zt,Jt=Gt,Qt=Wt;(Xt=function(){var t=new Uint8Array(188),e=0;Xt.prototype.init.call(this),this.push=function(n){var i,r=0,o=188;for(e?((i=new Uint8Array(n.byteLength+e)).set(t.subarray(0,e)),i.set(n,e),e=0):i=n;o<i.byteLength;)71!==i[r]||71!==i[o]?(r++,o++):(this.trigger("data",i.subarray(r,o)),r+=188,o+=188);r<i.byteLength&&(t.set(i.subarray(r),0),e=i.byteLength-r)},this.flush=function(){188===e&&71===t[0]&&(this.trigger("data",t),e=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){e=0,this.trigger("reset")}}).prototype=new H,(Kt=function(){var t,e,n,i;Kt.prototype.init.call(this),i=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,t=function(t,i){var r=0;i.payloadUnitStartIndicator&&(r+=t[r]+1),"pat"===i.type?e(t.subarray(r),i):n(t.subarray(r),i)},e=function(t,e){e.section_number=t[7],e.last_section_number=t[8],i.pmtPid=(31&t[10])<<8|t[11],e.pmtPid=i.pmtPid},n=function(t,e){var n,r;if(1&t[5]){for(i.programMapTable={video:null,audio:null,"timed-metadata":{}},n=3+((15&t[1])<<8|t[2])-4,r=12+((15&t[10])<<8|t[11]);r<n;){var o=t[r],a=(31&t[r+1])<<8|t[r+2];o===Ut.H264_STREAM_TYPE&&null===i.programMapTable.video?i.programMapTable.video=a:o===Ut.ADTS_STREAM_TYPE&&null===i.programMapTable.audio?i.programMapTable.audio=a:o===Ut.METADATA_STREAM_TYPE&&(i.programMapTable["timed-metadata"][a]=o),r+=5+((15&t[r+3])<<8|t[r+4])}e.programMapTable=i.programMapTable}},this.push=function(e){var n={},i=4;if(n.payloadUnitStartIndicator=!!(64&e[1]),n.pid=31&e[1],n.pid<<=8,n.pid|=e[2],(48&e[3])>>>4>1&&(i+=e[i]+1),0===n.pid)n.type="pat",t(e.subarray(i),n),this.trigger("data",n);else if(n.pid===this.pmtPid)for(n.type="pmt",t(e.subarray(i),n),this.trigger("data",n);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else void 0===this.programMapTable?this.packetsWaitingForPmt.push([e,i,n]):this.processPes_(e,i,n)},this.processPes_=function(t,e,n){n.pid===this.programMapTable.video?n.streamType=Ut.H264_STREAM_TYPE:n.pid===this.programMapTable.audio?n.streamType=Ut.ADTS_STREAM_TYPE:n.streamType=this.programMapTable["timed-metadata"][n.pid],n.type="pes",n.data=t.subarray(e),this.trigger("data",n)}}).prototype=new H,Kt.STREAM_TYPES={h264:27,adts:15},(Zt=function(){var t,e=this,n={data:[],size:0},i={data:[],size:0},r={data:[],size:0},o=function(t,n,i){var r,o,a=new Uint8Array(t.size),s={type:n},u=0,l=0;if(t.data.length&&!(t.size<9)){for(s.trackId=t.data[0].pid,u=0;u<t.data.length;u++)o=t.data[u],a.set(o.data,l),l+=o.data.byteLength;var c,d,h;c=a,(d=s).packetLength=6+(c[4]<<8|c[5]),d.dataAlignmentIndicator=0!=(4&c[6]),192&(h=c[7])&&(d.pts=(14&c[9])<<27|(255&c[10])<<20|(254&c[11])<<12|(255&c[12])<<5|(254&c[13])>>>3,d.pts*=4,d.pts+=(6&c[13])>>>1,d.dts=d.pts,64&h&&(d.dts=(14&c[14])<<27|(255&c[15])<<20|(254&c[16])<<12|(255&c[17])<<5|(254&c[18])>>>3,d.dts*=4,d.dts+=(6&c[18])>>>1)),d.data=c.subarray(9+c[8]),r="video"===n||s.packetLength<=t.size,(i||r)&&(t.size=0,t.data.length=0),r&&e.trigger("data",s)}};Zt.prototype.init.call(this),this.push=function(a){({pat:function(){},pes:function(){var t,e;switch(a.streamType){case Ut.H264_STREAM_TYPE:t=n,e="video";break;case Ut.ADTS_STREAM_TYPE:t=i,e="audio";break;case Ut.METADATA_STREAM_TYPE:t=r,e="timed-metadata";break;default:return}a.payloadUnitStartIndicator&&o(t,e,!0),t.data.push(a),t.size+=a.data.byteLength},pmt:function(){var n={type:"metadata",tracks:[]};null!==(t=a.programMapTable).video&&n.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+t.video,codec:"avc",type:"video"}),null!==t.audio&&n.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+t.audio,codec:"adts",type:"audio"}),e.trigger("data",n)}})[a.type]()},this.reset=function(){n.size=0,n.data.length=0,i.size=0,i.data.length=0,this.trigger("reset")},this.flushStreams_=function(){o(n,"video"),o(i,"audio"),o(r,"timed-metadata")},this.flush=function(){this.flushStreams_(),this.trigger("done")}}).prototype=new H;var te={PAT_PID:0,MP2T_PACKET_LENGTH:188,TransportPacketStream:Xt,TransportParseStream:Kt,ElementaryStream:Zt,TimestampRolloverStream:Qt,CaptionStream:jt.CaptionStream,Cea608Stream:jt.Cea608Stream,MetadataStream:Jt};for(var ee in Ut)Ut.hasOwnProperty(ee)&&(te[ee]=Ut[ee]);var ne,ie=te,re=ft,oe=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];(ne=function(t){var e,n=0;ne.prototype.init.call(this),this.push=function(i){var r,o,a,s,u,l,c=0;if(t||(n=0),"audio"===i.type)for(e?(s=e,(e=new Uint8Array(s.byteLength+i.data.byteLength)).set(s),e.set(i.data,s.byteLength)):e=i.data;c+5<e.length;)if(255===e[c]&&240==(246&e[c+1])){if(o=2*(1&~e[c+1]),r=(3&e[c+3])<<11|e[c+4]<<3|(224&e[c+5])>>5,l=(u=1024*(1+(3&e[c+6])))*re/oe[(60&e[c+2])>>>2],a=c+r,e.byteLength<a)return;if(this.trigger("data",{pts:i.pts+n*l,dts:i.dts+n*l,sampleCount:u,audioobjecttype:1+(e[c+2]>>>6&3),channelcount:(1&e[c+2])<<2|(192&e[c+3])>>>6,samplerate:oe[(60&e[c+2])>>>2],samplingfrequencyindex:(60&e[c+2])>>>2,samplesize:16,data:e.subarray(c+7+o,a)}),n++,e.byteLength===a)return void(e=void 0);e=e.subarray(a)}else c++},this.flush=function(){n=0,this.trigger("done")},this.reset=function(){e=void 0,this.trigger("reset")},this.endTimeline=function(){e=void 0,this.trigger("endedtimeline")}}).prototype=new H;var ae,se,ue,le=ne,ce=function(t){var e=t.byteLength,n=0,i=0;this.length=function(){return 8*e},this.bitsAvailable=function(){return 8*e+i},this.loadWord=function(){var r=t.byteLength-e,o=new Uint8Array(4),a=Math.min(4,e);if(0===a)throw new Error("no bytes available");o.set(t.subarray(r,r+a)),n=new DataView(o.buffer).getUint32(0),i=8*a,e-=a},this.skipBits=function(t){var r;i>t?(n<<=t,i-=t):(t-=i,t-=8*(r=Math.floor(t/8)),e-=r,this.loadWord(),n<<=t,i-=t)},this.readBits=function(t){var r=Math.min(i,t),o=n>>>32-r;return(i-=r)>0?n<<=r:e>0&&this.loadWord(),(r=t-r)>0?o<<r|this.readBits(r):o},this.skipLeadingZeros=function(){var t;for(t=0;t<i;++t)if(0!=(n&2147483648>>>t))return n<<=t,i-=t,t;return this.loadWord(),t+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var t=this.skipLeadingZeros();return this.readBits(t+1)-1},this.readExpGolomb=function(){var t=this.readUnsignedExpGolomb();return 1&t?1+t>>>1:-1*(t>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};(se=function(){var t,e,n=0;se.prototype.init.call(this),this.push=function(i){var r;e?((r=new Uint8Array(e.byteLength+i.data.byteLength)).set(e),r.set(i.data,e.byteLength),e=r):e=i.data;for(var o=e.byteLength;n<o-3;n++)if(1===e[n+2]){t=n+5;break}for(;t<o;)switch(e[t]){case 0:if(0!==e[t-1]){t+=2;break}if(0!==e[t-2]){t++;break}n+3!==t-2&&this.trigger("data",e.subarray(n+3,t-2));do{t++}while(1!==e[t]&&t<o);n=t-2,t+=3;break;case 1:if(0!==e[t-1]||0!==e[t-2]){t+=3;break}this.trigger("data",e.subarray(n+3,t-2)),n=t-2,t+=3;break;default:t+=3}e=e.subarray(n),t-=n,n=0},this.reset=function(){e=null,n=0,this.trigger("reset")},this.flush=function(){e&&e.byteLength>3&&this.trigger("data",e.subarray(n+3)),e=null,n=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}}).prototype=new H,ue={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},(ae=function(){var t,e,n,i,r,o,a,s=new se;ae.prototype.init.call(this),t=this,this.push=function(t){"video"===t.type&&(e=t.trackId,n=t.pts,i=t.dts,s.push(t))},s.on("data",(function(a){var s={trackId:e,pts:n,dts:i,data:a};switch(31&a[0]){case 5:s.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:s.nalUnitType="sei_rbsp",s.escapedRBSP=r(a.subarray(1));break;case 7:s.nalUnitType="seq_parameter_set_rbsp",s.escapedRBSP=r(a.subarray(1)),s.config=o(s.escapedRBSP);break;case 8:s.nalUnitType="pic_parameter_set_rbsp";break;case 9:s.nalUnitType="access_unit_delimiter_rbsp"}t.trigger("data",s)})),s.on("done",(function(){t.trigger("done")})),s.on("partialdone",(function(){t.trigger("partialdone")})),s.on("reset",(function(){t.trigger("reset")})),s.on("endedtimeline",(function(){t.trigger("endedtimeline")})),this.flush=function(){s.flush()},this.partialFlush=function(){s.partialFlush()},this.reset=function(){s.reset()},this.endTimeline=function(){s.endTimeline()},a=function(t,e){var n,i=8,r=8;for(n=0;n<t;n++)0!==r&&(r=(i+e.readExpGolomb()+256)%256),i=0===r?i:r},r=function(t){for(var e,n,i=t.byteLength,r=[],o=1;o<i-2;)0===t[o]&&0===t[o+1]&&3===t[o+2]?(r.push(o+2),o+=2):o++;if(0===r.length)return t;e=i-r.length,n=new Uint8Array(e);var a=0;for(o=0;o<e;a++,o++)a===r[0]&&(a++,r.shift()),n[o]=t[a];return n},o=function(t){var e,n,i,r,o,s,u,l,c,d,h,f,p,g=0,m=0,v=0,y=0,_=1;if(n=(e=new ce(t)).readUnsignedByte(),r=e.readUnsignedByte(),i=e.readUnsignedByte(),e.skipUnsignedExpGolomb(),ue[n]&&(3===(o=e.readUnsignedExpGolomb())&&e.skipBits(1),e.skipUnsignedExpGolomb(),e.skipUnsignedExpGolomb(),e.skipBits(1),e.readBoolean()))for(h=3!==o?8:12,p=0;p<h;p++)e.readBoolean()&&a(p<6?16:64,e);if(e.skipUnsignedExpGolomb(),0===(s=e.readUnsignedExpGolomb()))e.readUnsignedExpGolomb();else if(1===s)for(e.skipBits(1),e.skipExpGolomb(),e.skipExpGolomb(),u=e.readUnsignedExpGolomb(),p=0;p<u;p++)e.skipExpGolomb();if(e.skipUnsignedExpGolomb(),e.skipBits(1),l=e.readUnsignedExpGolomb(),c=e.readUnsignedExpGolomb(),0===(d=e.readBits(1))&&e.skipBits(1),e.skipBits(1),e.readBoolean()&&(g=e.readUnsignedExpGolomb(),m=e.readUnsignedExpGolomb(),v=e.readUnsignedExpGolomb(),y=e.readUnsignedExpGolomb()),e.readBoolean()&&e.readBoolean()){switch(e.readUnsignedByte()){case 1:f=[1,1];break;case 2:f=[12,11];break;case 3:f=[10,11];break;case 4:f=[16,11];break;case 5:f=[40,33];break;case 6:f=[24,11];break;case 7:f=[20,11];break;case 8:f=[32,11];break;case 9:f=[80,33];break;case 10:f=[18,11];break;case 11:f=[15,11];break;case 12:f=[64,33];break;case 13:f=[160,99];break;case 14:f=[4,3];break;case 15:f=[3,2];break;case 16:f=[2,1];break;case 255:f=[e.readUnsignedByte()<<8|e.readUnsignedByte(),e.readUnsignedByte()<<8|e.readUnsignedByte()]}f&&(_=f[0]/f[1])}return{profileIdc:n,levelIdc:i,profileCompatibility:r,width:Math.ceil((16*(l+1)-2*g-2*m)*_),height:(2-d)*(c+1)*16-2*v-2*y,sarRatio:f}}}).prototype=new H;var de,he={H264Stream:ae,NalByteStream:se},fe=function(t,e){var n=t[e+6]<<21|t[e+7]<<14|t[e+8]<<7|t[e+9];return n=n>=0?n:0,(16&t[e+5])>>4?n+20:n+10},pe=function(t){var e=function t(e,n){return e.length-n<10||e[n]!=="I".charCodeAt(0)||e[n+1]!=="D".charCodeAt(0)||e[n+2]!=="3".charCodeAt(0)?n:t(e,n+=fe(e,n))}(t,0);return t.length>=e+2&&255==(255&t[e])&&240==(240&t[e+1])&&16==(22&t[e+1])},ge=fe,me=function(t,e){var n=(224&t[e+5])>>5,i=t[e+4]<<3;return 6144&t[e+3]|i|n};(de=function(){var t=new Uint8Array,e=0;de.prototype.init.call(this),this.setTimestamp=function(t){e=t},this.push=function(n){var i,r,o,a,s=0,u=0;for(t.length?(a=t.length,(t=new Uint8Array(n.byteLength+a)).set(t.subarray(0,a)),t.set(n,a)):t=n;t.length-u>=3;)if(t[u]!=="I".charCodeAt(0)||t[u+1]!=="D".charCodeAt(0)||t[u+2]!=="3".charCodeAt(0))if(255!=(255&t[u])||240!=(240&t[u+1]))u++;else{if(t.length-u<7)break;if(u+(s=me(t,u))>t.length)break;o={type:"audio",data:t.subarray(u,u+s),pts:e,dts:e},this.trigger("data",o),u+=s}else{if(t.length-u<10)break;if(u+(s=ge(t,u))>t.length)break;r={type:"timed-metadata",data:t.subarray(u,u+s)},this.trigger("data",r),u+=s}i=t.length-u,t=i>0?t.subarray(u):new Uint8Array},this.reset=function(){t=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){t=new Uint8Array,this.trigger("endedtimeline")}}).prototype=new H;var ve,ye,_e,be,Te=de,Se=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],we=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],Ee=he.H264Stream,Ce=pe,Oe=ft,Ae=function(t,e){var n;if(t.length!==e.length)return!1;for(n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0},Pe=function(t,e,n,i,r,o){return{start:{dts:t,pts:t+(n-e)},end:{dts:t+(i-e),pts:t+(r-n)},prependedContentDuration:o,baseMediaDecodeTime:t}};(ye=function(t,e){var n=[],i=0,r=0,o=0,a=1/0;e=e||{},ye.prototype.init.call(this),this.push=function(e){At(t,e),t&&Se.forEach((function(n){t[n]=e[n]})),n.push(e)},this.setEarliestDts=function(t){r=t},this.setVideoBaseMediaDecodeTime=function(t){a=t},this.setAudioAppendStart=function(t){o=t},this.flush=function(){var s,u,l,c,d;0!==n.length?(s=Tt(n,t,r),t.baseMediaDecodeTime=Ot(t,e.keepOriginalTimestamps),bt(t,s,o,a),t.samples=St(s),l=J(wt(s)),n=[],u=Q(i,[t]),c=new Uint8Array(u.byteLength+l.byteLength),i++,c.set(u),c.set(l,u.byteLength),Ct(t),d=Math.ceil(1024*Oe/t.samplerate),s.length&&this.trigger("timingInfo",{start:s[0].pts,end:s[0].pts+s.length*d}),this.trigger("data",{track:t,boxes:c}),this.trigger("done","AudioSegmentStream")):this.trigger("done","AudioSegmentStream")},this.reset=function(){Ct(t),n=[],this.trigger("reset")}}).prototype=new H,(ve=function(t,e){var n,i,r=0,o=[],a=[];e=e||{},ve.prototype.init.call(this),delete t.minPTS,this.gopCache_=[],this.push=function(e){At(t,e),"seq_parameter_set_rbsp"!==e.nalUnitType||n||(n=e.config,t.sps=[e.data],we.forEach((function(e){t[e]=n[e]}),this)),"pic_parameter_set_rbsp"!==e.nalUnitType||i||(i=e.data,t.pps=[e.data]),o.push(e)},this.flush=function(){for(var n,i,s,u,l,c,d,h,f=0;o.length&&"access_unit_delimiter_rbsp"!==o[0].nalUnitType;)o.shift();if(0===o.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if(n=nt(o),(s=it(n))[0][0].keyFrame||((i=this.getGopForFusion_(o[0],t))?(f=i.duration,s.unshift(i),s.byteLength+=i.byteLength,s.nalCount+=i.nalCount,s.pts=i.pts,s.dts=i.dts,s.duration+=i.duration):s=rt(s)),a.length){var p;if(!(p=e.alignGopsAtEnd?this.alignGopsAtEnd_(s):this.alignGopsAtStart_(s)))return this.gopCache_.unshift({gop:s.pop(),pps:t.pps,sps:t.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),o=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");Ct(t),s=p}At(t,s),t.samples=ot(s),l=J(at(s)),t.baseMediaDecodeTime=Ot(t,e.keepOriginalTimestamps),this.trigger("processedGopsInfo",s.map((function(t){return{pts:t.pts,dts:t.dts,byteLength:t.byteLength}}))),d=s[0],h=s[s.length-1],this.trigger("segmentTimingInfo",Pe(t.baseMediaDecodeTime,d.dts,d.pts,h.dts+h.duration,h.pts+h.duration,f)),this.trigger("timingInfo",{start:s[0].pts,end:s[s.length-1].pts+s[s.length-1].duration}),this.gopCache_.unshift({gop:s.pop(),pps:t.pps,sps:t.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),o=[],this.trigger("baseMediaDecodeTime",t.baseMediaDecodeTime),this.trigger("timelineStartInfo",t.timelineStartInfo),u=Q(r,[t]),c=new Uint8Array(u.byteLength+l.byteLength),r++,c.set(u),c.set(l,u.byteLength),this.trigger("data",{track:t,boxes:c}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),o=[],this.gopCache_.length=0,a.length=0,this.trigger("reset")},this.resetStream_=function(){Ct(t),n=void 0,i=void 0},this.getGopForFusion_=function(e){var n,i,r,o,a,s=1/0;for(a=0;a<this.gopCache_.length;a++)r=(o=this.gopCache_[a]).gop,t.pps&&Ae(t.pps[0],o.pps[0])&&t.sps&&Ae(t.sps[0],o.sps[0])&&(r.dts<t.timelineStartInfo.dts||(n=e.dts-r.dts-r.duration)>=-1e4&&n<=45e3&&(!i||s>n)&&(i=o,s=n));return i?i.gop:null},this.alignGopsAtStart_=function(t){var e,n,i,r,o,s,u,l;for(o=t.byteLength,s=t.nalCount,u=t.duration,e=n=0;e<a.length&&n<t.length&&(i=a[e],r=t[n],i.pts!==r.pts);)r.pts>i.pts?e++:(n++,o-=r.byteLength,s-=r.nalCount,u-=r.duration);return 0===n?t:n===t.length?null:((l=t.slice(n)).byteLength=o,l.duration=u,l.nalCount=s,l.pts=l[0].pts,l.dts=l[0].dts,l)},this.alignGopsAtEnd_=function(t){var e,n,i,r,o,s,u;for(e=a.length-1,n=t.length-1,o=null,s=!1;e>=0&&n>=0;){if(i=a[e],r=t[n],i.pts===r.pts){s=!0;break}i.pts>r.pts?e--:(e===a.length-1&&(o=n),n--)}if(!s&&null===o)return null;if(0===(u=s?n:o))return t;var l=t.slice(u),c=l.reduce((function(t,e){return t.byteLength+=e.byteLength,t.duration+=e.duration,t.nalCount+=e.nalCount,t}),{byteLength:0,duration:0,nalCount:0});return l.byteLength=c.byteLength,l.duration=c.duration,l.nalCount=c.nalCount,l.pts=l[0].pts,l.dts=l[0].dts,l},this.alignGopsWith=function(t){a=t}}).prototype=new H,(be=function(t,e){this.numberOfTracks=0,this.metadataStream=e,void 0!==(t=t||{}).remux?this.remuxTracks=!!t.remux:this.remuxTracks=!0,"boolean"==typeof t.keepOriginalTimestamps?this.keepOriginalTimestamps=t.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,be.prototype.init.call(this),this.push=function(t){return t.text?this.pendingCaptions.push(t):t.frames?this.pendingMetadata.push(t):(this.pendingTracks.push(t.track),this.pendingBytes+=t.boxes.byteLength,"video"===t.track.type&&(this.videoTrack=t.track,this.pendingBoxes.push(t.boxes)),void("audio"===t.track.type&&(this.audioTrack=t.track,this.pendingBoxes.unshift(t.boxes))))}}).prototype=new H,be.prototype.flush=function(t){var e,n,i,r,o=0,a={captions:[],captionStreams:{},metadata:[],info:{}},s=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==t&&"AudioSegmentStream"!==t)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return this.emittedTracks++,void(this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}if(this.videoTrack?(s=this.videoTrack.timelineStartInfo.pts,we.forEach((function(t){a.info[t]=this.videoTrack[t]}),this)):this.audioTrack&&(s=this.audioTrack.timelineStartInfo.pts,Se.forEach((function(t){a.info[t]=this.audioTrack[t]}),this)),this.videoTrack||this.audioTrack){for(1===this.pendingTracks.length?a.type=this.pendingTracks[0].type:a.type="combined",this.emittedTracks+=this.pendingTracks.length,i=tt(this.pendingTracks),a.initSegment=new Uint8Array(i.byteLength),a.initSegment.set(i),a.data=new Uint8Array(this.pendingBytes),r=0;r<this.pendingBoxes.length;r++)a.data.set(this.pendingBoxes[r],o),o+=this.pendingBoxes[r].byteLength;for(r=0;r<this.pendingCaptions.length;r++)(e=this.pendingCaptions[r]).startTime=vt(e.startPts,s,this.keepOriginalTimestamps),e.endTime=vt(e.endPts,s,this.keepOriginalTimestamps),a.captionStreams[e.stream]=!0,a.captions.push(e);for(r=0;r<this.pendingMetadata.length;r++)(n=this.pendingMetadata[r]).cueTime=vt(n.pts,s,this.keepOriginalTimestamps),a.metadata.push(n);for(a.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",a),r=0;r<a.captions.length;r++)e=a.captions[r],this.trigger("caption",e);for(r=0;r<a.metadata.length;r++)n=a.metadata[r],this.trigger("id3Frame",n)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},be.prototype.setRemux=function(t){this.remuxTracks=t},(_e=function(t){var e,n,i=this,r=!0;_e.prototype.init.call(this),t=t||{},this.baseMediaDecodeTime=t.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var r={};this.transmuxPipeline_=r,r.type="aac",r.metadataStream=new ie.MetadataStream,r.aacStream=new Te,r.audioTimestampRolloverStream=new ie.TimestampRolloverStream("audio"),r.timedMetadataTimestampRolloverStream=new ie.TimestampRolloverStream("timed-metadata"),r.adtsStream=new le,r.coalesceStream=new be(t,r.metadataStream),r.headOfPipeline=r.aacStream,r.aacStream.pipe(r.audioTimestampRolloverStream).pipe(r.adtsStream),r.aacStream.pipe(r.timedMetadataTimestampRolloverStream).pipe(r.metadataStream).pipe(r.coalesceStream),r.metadataStream.on("timestamp",(function(t){r.aacStream.setTimestamp(t.timeStamp)})),r.aacStream.on("data",(function(o){"timed-metadata"!==o.type&&"audio"!==o.type||r.audioSegmentStream||(n=n||{timelineStartInfo:{baseMediaDecodeTime:i.baseMediaDecodeTime},codec:"adts",type:"audio"},r.coalesceStream.numberOfTracks++,r.audioSegmentStream=new ye(n,t),r.audioSegmentStream.on("timingInfo",i.trigger.bind(i,"audioTimingInfo")),r.adtsStream.pipe(r.audioSegmentStream).pipe(r.coalesceStream),i.trigger("trackinfo",{hasAudio:!!n,hasVideo:!!e}))})),r.coalesceStream.on("data",this.trigger.bind(this,"data")),r.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setupTsPipeline=function(){var r={};this.transmuxPipeline_=r,r.type="ts",r.metadataStream=new ie.MetadataStream,r.packetStream=new ie.TransportPacketStream,r.parseStream=new ie.TransportParseStream,r.elementaryStream=new ie.ElementaryStream,r.timestampRolloverStream=new ie.TimestampRolloverStream,r.adtsStream=new le,r.h264Stream=new Ee,r.captionStream=new ie.CaptionStream,r.coalesceStream=new be(t,r.metadataStream),r.headOfPipeline=r.packetStream,r.packetStream.pipe(r.parseStream).pipe(r.elementaryStream).pipe(r.timestampRolloverStream),r.timestampRolloverStream.pipe(r.h264Stream),r.timestampRolloverStream.pipe(r.adtsStream),r.timestampRolloverStream.pipe(r.metadataStream).pipe(r.coalesceStream),r.h264Stream.pipe(r.captionStream).pipe(r.coalesceStream),r.elementaryStream.on("data",(function(o){var a;if("metadata"===o.type){for(a=o.tracks.length;a--;)e||"video"!==o.tracks[a].type?n||"audio"!==o.tracks[a].type||((n=o.tracks[a]).timelineStartInfo.baseMediaDecodeTime=i.baseMediaDecodeTime):(e=o.tracks[a]).timelineStartInfo.baseMediaDecodeTime=i.baseMediaDecodeTime;e&&!r.videoSegmentStream&&(r.coalesceStream.numberOfTracks++,r.videoSegmentStream=new ve(e,t),r.videoSegmentStream.on("timelineStartInfo",(function(e){n&&!t.keepOriginalTimestamps&&(n.timelineStartInfo=e,r.audioSegmentStream.setEarliestDts(e.dts-i.baseMediaDecodeTime))})),r.videoSegmentStream.on("processedGopsInfo",i.trigger.bind(i,"gopInfo")),r.videoSegmentStream.on("segmentTimingInfo",i.trigger.bind(i,"videoSegmentTimingInfo")),r.videoSegmentStream.on("baseMediaDecodeTime",(function(t){n&&r.audioSegmentStream.setVideoBaseMediaDecodeTime(t)})),r.videoSegmentStream.on("timingInfo",i.trigger.bind(i,"videoTimingInfo")),r.h264Stream.pipe(r.videoSegmentStream).pipe(r.coalesceStream)),n&&!r.audioSegmentStream&&(r.coalesceStream.numberOfTracks++,r.audioSegmentStream=new ye(n,t),r.audioSegmentStream.on("timingInfo",i.trigger.bind(i,"audioTimingInfo")),r.adtsStream.pipe(r.audioSegmentStream).pipe(r.coalesceStream)),i.trigger("trackinfo",{hasAudio:!!n,hasVideo:!!e})}})),r.coalesceStream.on("data",this.trigger.bind(this,"data")),r.coalesceStream.on("id3Frame",(function(t){t.dispatchType=r.metadataStream.dispatchType,i.trigger("id3Frame",t)})),r.coalesceStream.on("caption",this.trigger.bind(this,"caption")),r.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setBaseMediaDecodeTime=function(i){var r=this.transmuxPipeline_;t.keepOriginalTimestamps||(this.baseMediaDecodeTime=i),n&&(n.timelineStartInfo.dts=void 0,n.timelineStartInfo.pts=void 0,Ct(n),r.audioTimestampRolloverStream&&r.audioTimestampRolloverStream.discontinuity()),e&&(r.videoSegmentStream&&(r.videoSegmentStream.gopCache_=[]),e.timelineStartInfo.dts=void 0,e.timelineStartInfo.pts=void 0,Ct(e),r.captionStream.reset()),r.timestampRolloverStream&&r.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(t){n&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(t)},this.setRemux=function(e){var n=this.transmuxPipeline_;t.remux=e,n&&n.coalesceStream&&n.coalesceStream.setRemux(e)},this.alignGopsWith=function(t){e&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(t)},this.push=function(t){if(r){var e=Ce(t);e&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():e||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline(),r=!1}this.transmuxPipeline_.headOfPipeline.push(t)},this.flush=function(){r=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}}).prototype=new H;var Ie={Transmuxer:_e,VideoSegmentStream:ve,AudioSegmentStream:ye,AUDIO_PROPERTIES:Se,VIDEO_PROPERTIES:we,generateVideoSegmentTimingInfo:Pe}.Transmuxer,xe={Adts:le,h264:he},Me=ft,ke=function t(e,n){var i=[],r=0,o=0,a=0,s=1/0,u=null,l=null;n=n||{},t.prototype.init.call(this),this.push=function(t){At(e,t),e&&Se.forEach((function(n){e[n]=t[n]})),i.push(t)},this.setEarliestDts=function(t){o=t},this.setVideoBaseMediaDecodeTime=function(t){s=t},this.setAudioAppendStart=function(t){a=t},this.processFrames_=function(){var t,c,d,h,f;0!==i.length&&0!==(t=Tt(i,e,o)).length&&(e.baseMediaDecodeTime=Ot(e,n.keepOriginalTimestamps),bt(e,t,a,s),e.samples=St(t),d=J(wt(t)),i=[],c=Q(r,[e]),r++,e.initSegment=tt([e]),(h=new Uint8Array(c.byteLength+d.byteLength)).set(c),h.set(d,c.byteLength),Ct(e),null===u&&(l=u=t[0].pts),l+=t.length*(1024*Me/e.samplerate),f={start:u},this.trigger("timingInfo",f),this.trigger("data",{track:e,boxes:h}))},this.flush=function(){this.processFrames_(),this.trigger("timingInfo",{start:u,end:l}),this.resetTiming_(),this.trigger("done","AudioSegmentStream")},this.partialFlush=function(){this.processFrames_(),this.trigger("partialdone","AudioSegmentStream")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline","AudioSegmentStream")},this.resetTiming_=function(){Ct(e),u=null,l=null},this.reset=function(){this.resetTiming_(),i=[],this.trigger("reset")}};ke.prototype=new H;var De=ke,Re=function t(e,n){var i,r,o,a=0,s=[],u=[],l=null,c=null,d=!0;n=n||{},t.prototype.init.call(this),this.push=function(t){At(e,t),void 0===e.timelineStartInfo.dts&&(e.timelineStartInfo.dts=t.dts),"seq_parameter_set_rbsp"!==t.nalUnitType||i||(i=t.config,e.sps=[t.data],we.forEach((function(t){e[t]=i[t]}),this)),"pic_parameter_set_rbsp"!==t.nalUnitType||r||(r=t.data,e.pps=[t.data]),s.push(t)},this.processNals_=function(t){var i;for(s=u.concat(s);s.length&&"access_unit_delimiter_rbsp"!==s[0].nalUnitType;)s.shift();if(0!==s.length){var r=nt(s);if(r.length)if(u=r[r.length-1],t&&(r.pop(),r.duration-=u.duration,r.nalCount-=u.length,r.byteLength-=u.byteLength),r.length){if(this.trigger("timelineStartInfo",e.timelineStartInfo),d){if(!(o=it(r))[0][0].keyFrame){if(!(o=rt(o))[0][0].keyFrame)return s=[].concat.apply([],r).concat(u),void(u=[]);(r=[].concat.apply([],o)).duration=o.duration}d=!1}for(null===l&&(l=r[0].pts,c=l),c+=r.duration,this.trigger("timingInfo",{start:l,end:c}),i=0;i<r.length;i++){var h=r[i];e.samples=st(h);var f=J(ut(h));Ct(e),At(e,h),e.baseMediaDecodeTime=Ot(e,n.keepOriginalTimestamps);var p=Q(a,[e]);a++,e.initSegment=tt([e]);var g=new Uint8Array(p.byteLength+f.byteLength);g.set(p),g.set(f,p.byteLength),this.trigger("data",{track:e,boxes:g,sequence:a,videoFrameDts:h.dts,videoFramePts:h.pts})}s=[]}else s=[]}},this.resetTimingAndConfig_=function(){i=void 0,r=void 0,l=null,c=null},this.partialFlush=function(){this.processNals_(!0),this.trigger("partialdone","VideoSegmentStream")},this.flush=function(){this.processNals_(!1),this.resetTimingAndConfig_(),this.trigger("done","VideoSegmentStream")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline","VideoSegmentStream")},this.reset=function(){this.resetTimingAndConfig_(),u=[],s=[],d=!0,this.trigger("reset")}};Re.prototype=new H;var Ne=Re,Le=pe,Fe=function(t){return t.prototype=new H,t.prototype.init.call(t),t},Ve=function(t,e){t.on("data",e.trigger.bind(e,"data")),t.on("done",e.trigger.bind(e,"done")),t.on("partialdone",e.trigger.bind(e,"partialdone")),t.on("endedtimeline",e.trigger.bind(e,"endedtimeline")),t.on("audioTimingInfo",e.trigger.bind(e,"audioTimingInfo")),t.on("videoTimingInfo",e.trigger.bind(e,"videoTimingInfo")),t.on("trackinfo",e.trigger.bind(e,"trackinfo")),t.on("id3Frame",(function(n){n.dispatchType=t.metadataStream.dispatchType,n.cueTime=pt(n.pts),e.trigger("id3Frame",n)})),t.on("caption",(function(t){e.trigger("caption",t)}))},je=function t(e){var n=null,i=!0;e=e||{},t.prototype.init.call(this),e.baseMediaDecodeTime=e.baseMediaDecodeTime||0,this.push=function(t){if(i){var r=Le(t);!r||n&&"aac"===n.type?r||n&&"ts"===n.type||(n=function(t){var e={type:"ts",tracks:{audio:null,video:null},packet:new ie.TransportPacketStream,parse:new ie.TransportParseStream,elementary:new ie.ElementaryStream,timestampRollover:new ie.TimestampRolloverStream,adts:new xe.Adts,h264:new xe.h264.H264Stream,captionStream:new ie.CaptionStream,metadataStream:new ie.MetadataStream};return e.headOfPipeline=e.packet,e.packet.pipe(e.parse).pipe(e.elementary).pipe(e.timestampRollover),e.timestampRollover.pipe(e.h264),e.h264.pipe(e.captionStream),e.timestampRollover.pipe(e.metadataStream),e.timestampRollover.pipe(e.adts),e.elementary.on("data",(function(n){if("metadata"===n.type){for(var i=0;i<n.tracks.length;i++)e.tracks[n.tracks[i].type]||(e.tracks[n.tracks[i].type]=n.tracks[i],e.tracks[n.tracks[i].type].timelineStartInfo.baseMediaDecodeTime=t.baseMediaDecodeTime);e.tracks.video&&!e.videoSegmentStream&&(e.videoSegmentStream=new Ne(e.tracks.video,t),e.videoSegmentStream.on("timelineStartInfo",(function(n){e.tracks.audio&&!t.keepOriginalTimestamps&&e.audioSegmentStream.setEarliestDts(n.dts-t.baseMediaDecodeTime)})),e.videoSegmentStream.on("timingInfo",e.trigger.bind(e,"videoTimingInfo")),e.videoSegmentStream.on("data",(function(t){e.trigger("data",{type:"video",data:t})})),e.videoSegmentStream.on("done",e.trigger.bind(e,"done")),e.videoSegmentStream.on("partialdone",e.trigger.bind(e,"partialdone")),e.videoSegmentStream.on("endedtimeline",e.trigger.bind(e,"endedtimeline")),e.h264.pipe(e.videoSegmentStream)),e.tracks.audio&&!e.audioSegmentStream&&(e.audioSegmentStream=new De(e.tracks.audio,t),e.audioSegmentStream.on("data",(function(t){e.trigger("data",{type:"audio",data:t})})),e.audioSegmentStream.on("done",e.trigger.bind(e,"done")),e.audioSegmentStream.on("partialdone",e.trigger.bind(e,"partialdone")),e.audioSegmentStream.on("endedtimeline",e.trigger.bind(e,"endedtimeline")),e.audioSegmentStream.on("timingInfo",e.trigger.bind(e,"audioTimingInfo")),e.adts.pipe(e.audioSegmentStream)),e.trigger("trackinfo",{hasAudio:!!e.tracks.audio,hasVideo:!!e.tracks.video})}})),e.captionStream.on("data",(function(n){var i;i=e.tracks.video&&e.tracks.video.timelineStartInfo.pts||0,n.startTime=vt(n.startPts,i,t.keepOriginalTimestamps),n.endTime=vt(n.endPts,i,t.keepOriginalTimestamps),e.trigger("caption",n)})),(e=Fe(e)).metadataStream.on("data",e.trigger.bind(e,"id3Frame")),e}(e),Ve(n,this)):(n=function(t){var e={type:"aac",tracks:{audio:null},metadataStream:new ie.MetadataStream,aacStream:new Te,audioRollover:new ie.TimestampRolloverStream("audio"),timedMetadataRollover:new ie.TimestampRolloverStream("timed-metadata"),adtsStream:new le(!0)};return e.headOfPipeline=e.aacStream,e.aacStream.pipe(e.audioRollover).pipe(e.adtsStream),e.aacStream.pipe(e.timedMetadataRollover).pipe(e.metadataStream),e.metadataStream.on("timestamp",(function(t){e.aacStream.setTimestamp(t.timeStamp)})),e.aacStream.on("data",(function(n){"timed-metadata"!==n.type&&"audio"!==n.type||e.audioSegmentStream||(e.tracks.audio=e.tracks.audio||{timelineStartInfo:{baseMediaDecodeTime:t.baseMediaDecodeTime},codec:"adts",type:"audio"},e.audioSegmentStream=new De(e.tracks.audio,t),e.audioSegmentStream.on("data",(function(t){e.trigger("data",{type:"audio",data:t})})),e.audioSegmentStream.on("partialdone",e.trigger.bind(e,"partialdone")),e.audioSegmentStream.on("done",e.trigger.bind(e,"done")),e.audioSegmentStream.on("endedtimeline",e.trigger.bind(e,"endedtimeline")),e.audioSegmentStream.on("timingInfo",e.trigger.bind(e,"audioTimingInfo")),e.adtsStream.pipe(e.audioSegmentStream),e.trigger("trackinfo",{hasAudio:!!e.tracks.audio,hasVideo:!!e.tracks.video}))})),(e=Fe(e)).metadataStream.on("data",e.trigger.bind(e,"id3Frame")),e}(e),Ve(n,this)),i=!1}n.headOfPipeline.push(t)},this.flush=function(){n&&(i=!0,n.headOfPipeline.flush())},this.partialFlush=function(){n&&n.headOfPipeline.partialFlush()},this.endTimeline=function(){n&&n.headOfPipeline.endTimeline()},this.reset=function(){n&&n.headOfPipeline.reset()},this.setBaseMediaDecodeTime=function(t){e.keepOriginalTimestamps||(e.baseMediaDecodeTime=t),n&&(n.tracks.audio&&(n.tracks.audio.timelineStartInfo.dts=void 0,n.tracks.audio.timelineStartInfo.pts=void 0,Ct(n.tracks.audio),n.audioRollover&&n.audioRollover.discontinuity()),n.tracks.video&&(n.videoSegmentStream&&(n.videoSegmentStream.gopCache_=[]),n.tracks.video.timelineStartInfo.dts=void 0,n.tracks.video.timelineStartInfo.pts=void 0,Ct(n.tracks.video)),n.timestampRollover&&n.timestampRollover.discontinuity())},this.setRemux=function(t){e.remux=t,n&&n.coalesceStream&&n.coalesceStream.setRemux(t)},this.setAudioAppendStart=function(t){n&&n.tracks.audio&&n.audioSegmentStream&&n.audioSegmentStream.setAudioAppendStart(t)},this.alignGopsWith=function(t){}};je.prototype=new H;var Ue=je,Be=function(t){return t>>>0},He=function(t){var e="";return e+=String.fromCharCode(t[0]),e+=String.fromCharCode(t[1]),e+=String.fromCharCode(t[2]),e+=String.fromCharCode(t[3])},Ge=Be,We=function t(e,n){var i,r,o,a,s,u=[];if(!n.length)return null;for(i=0;i<e.byteLength;)r=Ge(e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3]),o=He(e.subarray(i+4,i+8)),a=r>1?i+r:e.byteLength,o===n[0]&&(1===n.length?u.push(e.subarray(i+8,a)):(s=t(e.subarray(i+8,a),n.slice(1))).length&&(u=u.concat(s))),i=a;return u},ze=Be,$e=function(t){var e={version:t[0],flags:new Uint8Array(t.subarray(1,4)),baseMediaDecodeTime:ze(t[4]<<24|t[5]<<16|t[6]<<8|t[7])};return 1===e.version&&(e.baseMediaDecodeTime*=Math.pow(2,32),e.baseMediaDecodeTime+=ze(t[8]<<24|t[9]<<16|t[10]<<8|t[11])),e},Ye=function(t){return{isLeading:(12&t[0])>>>2,dependsOn:3&t[0],isDependedOn:(192&t[1])>>>6,hasRedundancy:(48&t[1])>>>4,paddingValue:(14&t[1])>>>1,isNonSyncSample:1&t[1],degradationPriority:t[2]<<8|t[3]}},qe=function(t){var e,n={version:t[0],flags:new Uint8Array(t.subarray(1,4)),samples:[]},i=new DataView(t.buffer,t.byteOffset,t.byteLength),r=1&n.flags[2],o=4&n.flags[2],a=1&n.flags[1],s=2&n.flags[1],u=4&n.flags[1],l=8&n.flags[1],c=i.getUint32(4),d=8;for(r&&(n.dataOffset=i.getInt32(d),d+=4),o&&c&&(e={flags:Ye(t.subarray(d,d+4))},d+=4,a&&(e.duration=i.getUint32(d),d+=4),s&&(e.size=i.getUint32(d),d+=4),l&&(1===n.version?e.compositionTimeOffset=i.getInt32(d):e.compositionTimeOffset=i.getUint32(d),d+=4),n.samples.push(e),c--);c--;)e={},a&&(e.duration=i.getUint32(d),d+=4),s&&(e.size=i.getUint32(d),d+=4),u&&(e.flags=Ye(t.subarray(d,d+4)),d+=4),l&&(1===n.version?e.compositionTimeOffset=i.getInt32(d):e.compositionTimeOffset=i.getUint32(d),d+=4),n.samples.push(e);return n},Xe=function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),i={version:t[0],flags:new Uint8Array(t.subarray(1,4)),trackId:n.getUint32(4)},r=1&i.flags[2],o=2&i.flags[2],a=8&i.flags[2],s=16&i.flags[2],u=32&i.flags[2],l=65536&i.flags[0],c=131072&i.flags[0];return e=8,r&&(e+=4,i.baseDataOffset=n.getUint32(12),e+=4),o&&(i.sampleDescriptionIndex=n.getUint32(e),e+=4),a&&(i.defaultSampleDuration=n.getUint32(e),e+=4),s&&(i.defaultSampleSize=n.getUint32(e),e+=4),u&&(i.defaultSampleFlags=n.getUint32(e)),l&&(i.durationIsEmpty=!0),!r&&c&&(i.baseDataOffsetIsMoof=!0),i},Ke=Mt,Ze=jt.CaptionStream,Je=function(t,e){for(var n=t,i=0;i<e.length;i++){var r=e[i];if(n<r.size)return r;n-=r.size}return null},Qe=function(t,e){var n=We(t,["moof","traf"]),i=We(t,["mdat"]),r={},o=[];return i.forEach((function(t,e){var i=n[e];o.push({mdat:t,traf:i})})),o.forEach((function(t){var n,i=t.mdat,o=t.traf,a=We(o,["tfhd"]),s=Xe(a[0]),u=s.trackId,l=We(o,["tfdt"]),c=l.length>0?$e(l[0]).baseMediaDecodeTime:0,d=We(o,["trun"]);e===u&&d.length>0&&(n=function(t,e,n){var i,r,o,a,s=new DataView(t.buffer,t.byteOffset,t.byteLength),u=[];for(r=0;r+4<t.length;r+=o)if(o=s.getUint32(r),r+=4,!(o<=0))switch(31&t[r]){case 6:var l=t.subarray(r+1,r+1+o),c=Je(r,e);if(i={nalUnitType:"sei_rbsp",size:o,data:l,escapedRBSP:Ke(l),trackId:n},c)i.pts=c.pts,i.dts=c.dts,a=c;else{if(!a){console.log("We've encountered a nal unit without data. See mux.js#233.");break}i.pts=a.pts,i.dts=a.dts}u.push(i)}return u}(i,function(t,e,n){var i=e,r=n.defaultSampleDuration||0,o=n.defaultSampleSize||0,a=n.trackId,s=[];return t.forEach((function(t){var e=qe(t).samples;e.forEach((function(t){void 0===t.duration&&(t.duration=r),void 0===t.size&&(t.size=o),t.trackId=a,t.dts=i,void 0===t.compositionTimeOffset&&(t.compositionTimeOffset=0),t.pts=i+t.compositionTimeOffset,i+=t.duration})),s=s.concat(e)})),s}(d,c,s),u),r[u]||(r[u]=[]),r[u]=r[u].concat(n))})),r},tn=function(){var t,e,n,i,r,o,a=!1;this.isInitialized=function(){return a},this.init=function(e){t=new Ze,a=!0,o=!!e&&e.isPartial,t.on("data",(function(t){t.startTime=t.startPts/i,t.endTime=t.endPts/i,r.captions.push(t),r.captionStreams[t.stream]=!0}))},this.isNewInit=function(t,e){return!(t&&0===t.length||e&&"object"==typeof e&&0===Object.keys(e).length||n===t[0]&&i===e[n])},this.parse=function(t,o,a){var s;if(!this.isInitialized())return null;if(!o||!a)return null;if(this.isNewInit(o,a))n=o[0],i=a[n];else if(null===n||!i)return e.push(t),null;for(;e.length>0;){var u=e.shift();this.parse(u,o,a)}return null!==(s=function(t,e,n){return null===e?null:{seiNals:Qe(t,e)[e],timescale:n}}(t,n,i))&&s.seiNals?(this.pushNals(s.seiNals),this.flushStream(),r):null},this.pushNals=function(e){if(!this.isInitialized()||!e||0===e.length)return null;e.forEach((function(e){t.push(e)}))},this.flushStream=function(){if(!this.isInitialized())return null;o?t.partialFlush():t.flush()},this.clearParsedCaptions=function(){r.captions=[],r.captionStreams={}},this.resetCaptionStream=function(){if(!this.isInitialized())return null;t.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){e=[],n=null,i=null,r?this.clearParsedCaptions():r={captions:[],captionStreams:{}},this.resetCaptionStream()},this.reset()},en=function(t){return"AudioSegmentStream"===t?"audio":"VideoSegmentStream"===t?"video":""},nn=function(){function t(t,e){this.options=e||{},this.self=t,this.init()}var e=t.prototype;return e.init=function(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=this.options.handlePartialData?new Ue(this.options):new Ie(this.options),this.options.handlePartialData?function(t,e){e.on("data",(function(e){var n={data:e.data.track.initSegment.buffer,byteOffset:e.data.track.initSegment.byteOffset,byteLength:e.data.track.initSegment.byteLength},i={boxes:{data:e.data.boxes.buffer,byteOffset:e.data.boxes.byteOffset,byteLength:e.data.boxes.byteLength},initSegment:n,type:e.type,sequence:e.data.sequence};void 0!==e.data.videoFrameDts&&(i.videoFrameDtsTime=_t(e.data.videoFrameDts)),void 0!==e.data.videoFramePts&&(i.videoFramePtsTime=_t(e.data.videoFramePts)),t.postMessage({action:"data",segment:i},[i.boxes.data,i.initSegment.data])})),e.on("id3Frame",(function(e){t.postMessage({action:"id3Frame",id3Frame:e})})),e.on("caption",(function(e){t.postMessage({action:"caption",caption:e})})),e.on("done",(function(e){t.postMessage({action:"done",type:en(e)})})),e.on("partialdone",(function(e){t.postMessage({action:"partialdone",type:en(e)})})),e.on("endedsegment",(function(e){t.postMessage({action:"endedSegment",type:en(e)})})),e.on("trackinfo",(function(e){t.postMessage({action:"trackinfo",trackInfo:e})})),e.on("audioTimingInfo",(function(e){if(null!==e.start){var n={start:_t(e.start)};e.end&&(n.end=_t(e.end)),t.postMessage({action:"audioTimingInfo",audioTimingInfo:n})}else t.postMessage({action:"audioTimingInfo",audioTimingInfo:e})})),e.on("videoTimingInfo",(function(e){var n={start:_t(e.start)};e.end&&(n.end=_t(e.end)),t.postMessage({action:"videoTimingInfo",videoTimingInfo:n})}))}(this.self,this.transmuxer):function(t,e){e.on("data",(function(e){var n=e.initSegment;e.initSegment={data:n.buffer,byteOffset:n.byteOffset,byteLength:n.byteLength};var i=e.data;e.data=i.buffer,t.postMessage({action:"data",segment:e,byteOffset:i.byteOffset,byteLength:i.byteLength},[e.data])})),e.on("done",(function(e){t.postMessage({action:"done"})})),e.on("gopInfo",(function(e){t.postMessage({action:"gopInfo",gopInfo:e})})),e.on("videoSegmentTimingInfo",(function(e){var n={start:{decode:_t(e.start.dts),presentation:_t(e.start.pts)},end:{decode:_t(e.end.dts),presentation:_t(e.end.pts)},baseMediaDecodeTime:_t(e.baseMediaDecodeTime)};e.prependedContentDuration&&(n.prependedContentDuration=_t(e.prependedContentDuration)),t.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:n})})),e.on("id3Frame",(function(e){t.postMessage({action:"id3Frame",id3Frame:e})})),e.on("caption",(function(e){t.postMessage({action:"caption",caption:e})})),e.on("trackinfo",(function(e){t.postMessage({action:"trackinfo",trackInfo:e})})),e.on("audioTimingInfo",(function(e){t.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:_t(e.start),end:_t(e.end)}})})),e.on("videoTimingInfo",(function(e){t.postMessage({action:"videoTimingInfo",videoTimingInfo:{start:_t(e.start),end:_t(e.end)}})}))}(this.self,this.transmuxer)},e.pushMp4Captions=function(t){this.captionParser||(this.captionParser=new tn,this.captionParser.init());var e=new Uint8Array(t.data,t.byteOffset,t.byteLength),n=this.captionParser.parse(e,t.trackIds,t.timescales);this.self.postMessage({action:"mp4Captions",captions:n&&n.captions||[],data:e.buffer},[e.buffer])},e.clearAllMp4Captions=function(){this.captionParser&&this.captionParser.clearAllCaptions()},e.clearParsedMp4Captions=function(){this.captionParser&&this.captionParser.clearParsedCaptions()},e.push=function(t){var e=new Uint8Array(t.data,t.byteOffset,t.byteLength);this.transmuxer.push(e)},e.reset=function(){this.transmuxer.reset()},e.setTimestampOffset=function(t){var e=t.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(yt(e)))},e.setAudioAppendStart=function(t){this.transmuxer.setAudioAppendStart(Math.ceil(yt(t.appendStart)))},e.setRemux=function(t){this.transmuxer.setRemux(t.remux)},e.flush=function(t){this.transmuxer.flush(),n.postMessage({action:"done",type:"transmuxed"})},e.partialFlush=function(t){this.transmuxer.partialFlush(),n.postMessage({action:"partialdone",type:"transmuxed"})},e.endTimeline=function(){this.transmuxer.endTimeline(),n.postMessage({action:"endedtimeline",type:"transmuxed"})},e.alignGopsWith=function(t){this.transmuxer.alignGopsWith(t.gopsToAlignWith.slice())},t}();new function(t){t.onmessage=function(e){"init"===e.data.action&&e.data.options?this.messageHandlers=new nn(t,e.data.options):(this.messageHandlers||(this.messageHandlers=new nn(t)),e.data&&e.data.action&&"init"!==e.data.action&&this.messageHandlers[e.data.action]&&this.messageHandlers[e.data.action](e.data))}}(n)}()})),nc=function(t,e){var n=e.attributes||{};return t&&t.mediaGroups&&t.mediaGroups.AUDIO&&n.AUDIO&&t.mediaGroups.AUDIO[n.AUDIO]},ic=function(t,e){var n=e.attributes||{},i=function(t){var e=t.attributes||{};if(e.CODECS)return Tu(e.CODECS)}(e)||{};if(nc(t,e)&&!i.audio&&!function(t,e){if(!nc(t,e))return!0;var n=e.attributes||{},i=t.mediaGroups.AUDIO[n.AUDIO];for(var r in i)if(!i[r].uri&&!i[r].playlists)return!0;return!1}(t,e)){var r=mu(t,n.AUDIO);r&&(i.audio=r.audio)}var o={};return i.video&&(o.video=Su(""+i.video.type+i.video.details)),i.audio&&(o.audio=Su(""+i.audio.type+i.audio.details)),o},rc=function(t){return Qr.log.debug?Qr.log.debug.bind(Qr,"VHS:",t+" >"):function(){}},oc=rc("PlaylistSelector"),ac=function(t){if(t&&t.playlist){var e=t.playlist;return JSON.stringify({id:e.id,bandwidth:t.bandwidth,width:t.width,height:t.height,codecs:e.attributes&&e.attributes.CODECS||""})}},sc=function(e,n){if(!e)return"";var i=t.getComputedStyle(e);return i?i[n]:""},uc=function(t,e){var n=t.slice();t.sort((function(t,i){var r=e(t,i);return 0===r?n.indexOf(t)-n.indexOf(i):r}))},lc=function(e,n){var i,r;return e.attributes.BANDWIDTH&&(i=e.attributes.BANDWIDTH),i=i||t.Number.MAX_VALUE,n.attributes.BANDWIDTH&&(r=n.attributes.BANDWIDTH),i-(r=r||t.Number.MAX_VALUE)},cc=function(e){var n=e.inbandTextTracks,i=e.metadataArray,r=e.timestampOffset,o=e.videoDuration;if(i){var a=t.WebKitDataCue||t.VTTCue,s=n.metadataTrack_;if(s&&(i.forEach((function(e){var n=e.cueTime+r;!("number"!=typeof n||t.isNaN(n)||n<0)&&n<1/0&&e.frames.forEach((function(t){var e=new a(n,n,t.value||t.url||t.data||"");e.frame=t,e.value=t,function(t){Object.defineProperties(t.frame,{id:{get:function(){return Qr.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),t.value.key}},value:{get:function(){return Qr.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),t.value.data}},privateData:{get:function(){return Qr.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),t.value.data}}})}(e),s.addCue(e)}))})),s.cues&&s.cues.length)){for(var u=s.cues,l=[],c=0;c<u.length;c++)u[c]&&l.push(u[c]);var d=l.reduce((function(t,e){var n=t[e.startTime]||[];return n.push(e),t[e.startTime]=n,t}),{}),h=Object.keys(d).sort((function(t,e){return Number(t)-Number(e)}));h.forEach((function(t,e){var n=d[t],i=Number(h[e+1])||o;n.forEach((function(t){t.endTime=i}))}))}}},dc=function(t,e,n){var i,r;if(n&&n.cues)for(i=n.cues.length;i--;)(r=n.cues[i]).startTime>=t&&r.endTime<=e&&n.removeCue(r)},hc=function(t){return"number"==typeof t&&isFinite(t)},fc=function(t){return t+"TimingInfo"},pc=function(t){var e=t.segmentTimeline,n=t.currentTimeline,i=t.startOfSegment,r=t.buffered;return t.overrideCheck||e!==n?r.length?r.end(r.length-1):i:null},gc=function(t){var e=t.timelineChangeController,n=t.currentTimeline,i=t.segmentTimeline,r=t.loaderType,o=t.audioDisabled;if(n===i)return!1;if("audio"===r){var a=e.lastTimelineChange({type:"main"});return!a||a.to!==i}if("main"===r&&o){var s=e.pendingTimelineChange({type:"audio"});return!s||s.to!==i}return!1},mc=function(e){function n(t,n){var i;if(i=e.call(this)||this,!t)throw new TypeError("Initialization settings are required");if("function"!=typeof t.currentTime)throw new TypeError("No currentTime getter specified");if(!t.mediaSource)throw new TypeError("No MediaSource specified");return i.bandwidth=t.bandwidth,i.throughput={rate:0,count:0},i.roundTrip=NaN,i.resetStats_(),i.mediaIndex=null,i.hasPlayed_=t.hasPlayed,i.currentTime_=t.currentTime,i.seekable_=t.seekable,i.seeking_=t.seeking,i.duration_=t.duration,i.mediaSource_=t.mediaSource,i.vhs_=t.vhs,i.loaderType_=t.loaderType,i.currentMediaInfo_=void 0,i.startingMediaInfo_=void 0,i.segmentMetadataTrack_=t.segmentMetadataTrack,i.goalBufferLength_=t.goalBufferLength,i.sourceType_=t.sourceType,i.sourceUpdater_=t.sourceUpdater,i.inbandTextTracks_=t.inbandTextTracks,i.state_="INIT",i.handlePartialData_=t.handlePartialData,i.timelineChangeController_=t.timelineChangeController,i.shouldSaveSegmentTimingInfo_=!0,i.checkBufferTimeout_=null,i.error_=void 0,i.currentTimeline_=-1,i.pendingSegment_=null,i.xhrOptions_=null,i.pendingSegments_=[],i.audioDisabled_=!1,i.isPendingTimestampOffset_=!1,i.gopBuffer_=[],i.timeMapping_=0,i.safeAppend_=Qr.browser.IE_VERSION>=11,i.appendInitSegment_={audio:!0,video:!0},i.playlistOfLastInitSegment_={audio:null,video:null},i.callQueue_=[],i.loadQueue_=[],i.metadataQueue_={id3:[],caption:[]},i.activeInitSegmentId_=null,i.initSegments_={},i.cacheEncryptionKeys_=t.cacheEncryptionKeys,i.keyCache_={},i.decrypter_=t.decrypter,i.syncController_=t.syncController,i.syncPoint_={segmentIndex:0,time:0},i.transmuxer_=i.createTransmuxer_(),i.triggerSyncInfoUpdate_=function(){return i.trigger("syncinfoupdate")},i.syncController_.on("syncinfoupdate",i.triggerSyncInfoUpdate_),i.mediaSource_.addEventListener("sourceopen",(function(){i.isEndOfStream_()||(i.ended_=!1)})),i.fetchAtBuffer_=!1,i.logger_=rc("SegmentLoader["+i.loaderType_+"]"),Object.defineProperty(jt(i),"state",{get:function(){return this.state_},set:function(t){t!==this.state_&&(this.logger_(this.state_+" -> "+t),this.state_=t,this.trigger("statechange"))}}),i.sourceUpdater_.on("ready",(function(){i.hasEnoughInfoToAppend_()&&i.processCallQueue_()})),"main"===i.loaderType_&&i.timelineChangeController_.on("pendingtimelinechange",(function(){i.hasEnoughInfoToAppend_()&&i.processCallQueue_()})),"audio"===i.loaderType_&&i.timelineChangeController_.on("timelinechange",(function(){i.hasEnoughInfoToLoad_()&&i.processLoadQueue_(),i.hasEnoughInfoToAppend_()&&i.processCallQueue_()})),i}Bt(n,e);var i=n.prototype;return i.createTransmuxer_=function(){var t=new ec;return t.postMessage({action:"init",options:{remux:!1,alignGopsAtEnd:this.safeAppend_,keepOriginalTimestamps:!0,handlePartialData:this.handlePartialData_}}),t},i.resetStats_=function(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0},i.dispose=function(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.transmuxer_&&(this.transmuxer_.terminate(),Dl()),this.resetStats_(),this.checkBufferTimeout_&&t.clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()},i.setAudio=function(t){this.audioDisabled_=!t,t?this.appendInitSegment_.audio=!0:this.sourceUpdater_.removeAudio(0,this.duration_())},i.abort=function(){"WAITING"===this.state?(this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()):this.pendingSegment_&&(this.pendingSegment_=null)},i.abort_=function(){this.pendingSegment_&&this.pendingSegment_.abortRequests&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_)},i.checkForAbort_=function(t){return"APPENDING"!==this.state||this.pendingSegment_?!this.pendingSegment_||this.pendingSegment_.requestId!==t:(this.state="READY",!0)},i.error=function(t){return void 0!==t&&(this.logger_("error occurred:",t),this.error_=t),this.pendingSegment_=null,this.error_},i.endOfStream=function(){this.ended_=!0,this.transmuxer_&&kl(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger("ended")},i.buffered_=function(){if(!this.sourceUpdater_||!this.startingMediaInfo_)return Qr.createTimeRanges();if("main"===this.loaderType_){var t=this.startingMediaInfo_,e=t.hasAudio,n=t.hasVideo,i=t.isMuxed;if(n&&e&&!this.audioDisabled_&&!i)return this.sourceUpdater_.buffered();if(n)return this.sourceUpdater_.videoBuffered()}return this.sourceUpdater_.audioBuffered()},i.initSegmentForMap=function(t,e){if(void 0===e&&(e=!1),!t)return null;var n=ll(t),i=this.initSegments_[n];return e&&!i&&t.bytes&&(this.initSegments_[n]=i={resolvedUri:t.resolvedUri,byterange:t.byterange,bytes:t.bytes,tracks:t.tracks,timescales:t.timescales}),i||t},i.segmentKey=function(t,e){if(void 0===e&&(e=!1),!t)return null;var n=cl(t),i=this.keyCache_[n];this.cacheEncryptionKeys_&&e&&!i&&t.bytes&&(this.keyCache_[n]=i={resolvedUri:t.resolvedUri,bytes:t.bytes});var r={resolvedUri:(i||t).resolvedUri};return i&&(r.bytes=i.bytes),r},i.couldBeginLoading_=function(){return this.playlist_&&!this.paused()},i.load=function(){if(this.monitorBuffer_(),this.playlist_){if(this.syncController_.setDateTimeMapping(this.playlist_),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||"READY"!==this.state&&"INIT"!==this.state||(this.state="READY")}},i.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},i.playlist=function(t,e){if(void 0===e&&(e={}),t){var n=this.playlist_,i=this.pendingSegment_;this.playlist_=t,this.xhrOptions_=e,"INIT"===this.state&&(t.syncInfo={mediaSequence:t.mediaSequence,time:0});var r=null;if(n&&(n.id?r=n.id:n.uri&&(r=n.uri)),this.logger_("playlist update ["+r+" => "+(t.id||t.uri)+"]"),this.trigger("syncinfoupdate"),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();if(!n||n.uri!==t.uri)return(null!==this.mediaIndex||this.handlePartialData_)&&this.resyncLoader(),this.currentMediaInfo_=void 0,void this.trigger("playlistupdate");var o=t.mediaSequence-n.mediaSequence;this.logger_("live window shift ["+o+"]"),null!==this.mediaIndex&&(this.mediaIndex-=o),i&&(i.mediaIndex-=o,i.mediaIndex>=0&&(i.segment=t.segments[i.mediaIndex])),this.syncController_.saveExpiredSegmentInfo(n,t)}},i.pause=function(){this.checkBufferTimeout_&&(t.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)},i.paused=function(){return null===this.checkBufferTimeout_},i.resetEverything=function(t){this.ended_=!1,this.appendInitSegment_={audio:!0,video:!0},this.resetLoader(),this.remove(0,1/0,t),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"})},i.resetLoader=function(){this.fetchAtBuffer_=!1,this.resyncLoader()},i.resyncLoader=function(){this.transmuxer_&&kl(this.transmuxer_),this.mediaIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})},i.remove=function(t,e,n){if(void 0===n&&(n=function(){}),e===1/0&&(e=this.duration_()),this.sourceUpdater_&&this.currentMediaInfo_){var i=1,r=function(){0==--i&&n()};for(var o in this.audioDisabled_||(i++,this.sourceUpdater_.removeAudio(t,e,r)),"main"===this.loaderType_&&this.currentMediaInfo_&&this.currentMediaInfo_.hasVideo&&(this.gopBuffer_=function(t,e,n,i){for(var r=Math.ceil((e-i)*Ys),o=Math.ceil((n-i)*Ys),a=t.slice(),s=t.length;s--&&!(t[s].pts<=o););if(-1===s)return a;for(var u=s+1;u--&&!(t[u].pts<=r););return u=Math.max(u,0),a.splice(u,s-u+1),a}(this.gopBuffer_,t,e,this.timeMapping_),i++,this.sourceUpdater_.removeVideo(t,e,r)),this.inbandTextTracks_)dc(t,e,this.inbandTextTracks_[o]);dc(t,e,this.segmentMetadataTrack_),r()}},i.monitorBuffer_=function(){this.checkBufferTimeout_&&t.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=t.setTimeout(this.monitorBufferTick_.bind(this),1)},i.monitorBufferTick_=function(){"READY"===this.state&&this.fillBuffer_(),this.checkBufferTimeout_&&t.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=t.setTimeout(this.monitorBufferTick_.bind(this),500)},i.fillBuffer_=function(){if(!this.sourceUpdater_.updating()){this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var t=this.buffered_(),e=this.checkBuffer_(t,this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);e&&(e.timestampOffset=pc({segmentTimeline:e.timeline,currentTimeline:this.currentTimeline_,startOfSegment:e.startOfSegment,buffered:t,overrideCheck:this.isPendingTimestampOffset_}),this.isPendingTimestampOffset_=!1,"number"==typeof e.timestampOffset&&this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline}),this.loadSegment_(e))}},i.isEndOfStream_=function(t,e){if(void 0===t&&(t=this.mediaIndex),void 0===e&&(e=this.playlist_),!e||!this.mediaSource_)return!1;var n=t+1===e.segments.length;return e.endList&&"open"===this.mediaSource_.readyState&&n},i.checkBuffer_=function(t,e,n,i,r,o){var a=0;t.length&&(a=t.end(t.length-1));var s=Math.max(0,a-r);if(!e.segments.length)return null;if(s>=this.goalBufferLength_())return null;if(!i&&s>=1)return null;var u,l=null,c=!1;if(null===o)l=this.getSyncSegmentCandidate_(e),c=!0;else if(null!==n){var d=e.segments[n];u=d&&d.end?d.end:a,l=n+1}else if(this.fetchAtBuffer_){var h=Qu.getMediaInfoForTime(e,a,o.segmentIndex,o.time);l=h.mediaIndex,u=h.startTime}else{var f=Qu.getMediaInfoForTime(e,r,o.segmentIndex,o.time);l=f.mediaIndex,u=f.startTime}var p=this.generateSegmentInfo_(e,l,u,c);return!p||this.mediaSource_&&this.playlist_&&p.mediaIndex===this.playlist_.segments.length-1&&"ended"===this.mediaSource_.readyState&&!this.seeking_()?void 0:(this.logger_("checkBuffer_ returning "+p.uri,{segmentInfo:p,playlist:e,currentMediaIndex:n,nextMediaIndex:l,startOfSegment:u,isSyncRequest:c}),p)},i.getSyncSegmentCandidate_=function(t){var e=this;if(-1===this.currentTimeline_)return 0;var n=t.segments.map((function(t,e){return{timeline:t.timeline,segmentIndex:e}})).filter((function(t){return t.timeline===e.currentTimeline_}));return n.length?n[Math.min(n.length-1,1)].segmentIndex:Math.max(t.segments.length-1,0)},i.generateSegmentInfo_=function(t,e,n,i){if(e<0||e>=t.segments.length)return null;var r,o,a=t.segments[e],s=this.sourceUpdater_.audioBuffered(),u=this.sourceUpdater_.videoBuffered();return s.length&&(r=s.end(s.length-1)-this.sourceUpdater_.audioTimestampOffset()),u.length&&(o=function(t,e,n){if(null==e||!t.length)return[];var i,r=Math.ceil((e-n+3)*Ys);for(i=0;i<t.length&&!(t[i].pts>r);i++);return t.slice(i)}(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),{requestId:"segment-loader-"+Math.random(),uri:a.resolvedUri,mediaIndex:e,isSyncRequest:i,startOfSegment:n,playlist:t,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:a.timeline,duration:a.duration,segment:a,byteLength:0,transmuxer:this.transmuxer_,audioAppendStart:r,gopsToAlignWith:o}},i.abortRequestEarly_=function(t){if(this.vhs_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH)return!1;if(Date.now()-(t.firstBytesReceivedAt||Date.now())<1e3)return!1;var e=this.currentTime_(),n=t.bandwidth,i=this.pendingSegment_.duration,r=Qu.estimateSegmentRequestTime(i,n,this.playlist_,t.bytesReceived),o=function(t,e,n){return void 0===n&&(n=1),((t.length?t.end(t.length-1):0)-e)/n}(this.buffered_(),e,this.vhs_.tech_.playbackRate())-1;if(r<=o)return!1;var a=function(t){var e=t.master,n=t.currentTime,i=t.bandwidth,r=t.duration,o=t.segmentDuration,a=t.timeUntilRebuffer,s=t.currentTimeline,u=t.syncController,l=e.playlists.filter((function(t){return!Qu.isIncompatible(t)})),c=l.filter(Qu.isEnabled);c.length||(c=l.filter((function(t){return!Qu.isDisabled(t)})));var d=c.filter(Qu.hasAttribute.bind(null,"BANDWIDTH")).map((function(t){var e=u.getSyncPoint(t,r,s,n)?1:2;return{playlist:t,rebufferingImpact:Qu.estimateSegmentRequestTime(o,i,t)*e-a}})),h=d.filter((function(t){return t.rebufferingImpact<=0}));return uc(h,(function(t,e){return lc(e.playlist,t.playlist)})),h.length?h[0]:(uc(d,(function(t,e){return t.rebufferingImpact-e.rebufferingImpact})),d[0]||null)}({master:this.vhs_.playlists.master,currentTime:e,bandwidth:n,duration:this.duration_(),segmentDuration:i,timeUntilRebuffer:o,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(a){var s=r-o-a.rebufferingImpact,u=.5;return o<=1/30&&(u=1),!(!a.playlist||a.playlist.uri===this.playlist_.uri||s<u)&&(this.bandwidth=a.playlist.attributes.BANDWIDTH*El.BANDWIDTH_VARIANCE+1,this.abort(),this.trigger("earlyabort"),!0)}},i.handleAbort_=function(){this.mediaRequestsAborted+=1},i.handleProgress_=function(t,e){this.checkForAbort_(e.requestId)||this.abortRequestEarly_(e.stats)||this.trigger("progress")},i.handleTrackInfo_=function(t,e){this.checkForAbort_(t.requestId)||this.abortRequestEarly_(t.stats)||this.checkForIllegalMediaSwitch(e)||(e=e||{},function(t,e){if(!t&&!e||!t&&e||t&&!e)return!1;if(t===e)return!0;var n=Object.keys(t).sort(),i=Object.keys(e).sort();if(n.length!==i.length)return!1;for(var r=0;r<n.length;r++){var o=n[r];if(o!==i[r])return!1;if(t[o]!==e[o])return!1}return!0}(this.currentMediaInfo_,e)||(this.appendInitSegment_={audio:!0,video:!0},this.startingMediaInfo_=e,this.currentMediaInfo_=e,this.logger_("trackinfo update",e),this.trigger("trackinfo")),this.checkForAbort_(t.requestId)||this.abortRequestEarly_(t.stats)||(this.pendingSegment_.trackInfo=e,this.hasEnoughInfoToAppend_()&&this.processCallQueue_()))},i.handleTimingInfo_=function(t,e,n,i){if(!this.checkForAbort_(t.requestId)&&!this.abortRequestEarly_(t.stats)){var r=this.pendingSegment_,o=fc(e);r[o]=r[o]||{},r[o][n]=i,this.logger_("timinginfo: "+e+" - "+n+" - "+i),this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}},i.handleCaptions_=function(e,n){var i=this;if(!this.checkForAbort_(e.requestId)&&!this.abortRequestEarly_(e.stats))if(0!==n.length)if(this.pendingSegment_.hasAppendedData_){var r=null===this.sourceUpdater_.videoTimestampOffset()?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),o={};n.forEach((function(t){o[t.stream]=o[t.stream]||{startTime:1/0,captions:[],endTime:0};var e=o[t.stream];e.startTime=Math.min(e.startTime,t.startTime+r),e.endTime=Math.max(e.endTime,t.endTime+r),e.captions.push(t)})),Object.keys(o).forEach((function(e){var n=o[e],a=n.startTime,s=n.endTime,u=n.captions,l=i.inbandTextTracks_;i.logger_("adding cues from "+a+" -> "+s+" for "+e),function(t,e,n){if(!t[n]){e.trigger({type:"usage",name:"vhs-608"}),e.trigger({type:"usage",name:"hls-608"});var i=e.textTracks().getTrackById(n);t[n]=i||e.addRemoteTextTrack({kind:"captions",id:n,label:n},!1).track}}(l,i.vhs_.tech_,e),dc(a,s,l[e]),function(e){var n=e.inbandTextTracks,i=e.captionArray,r=e.timestampOffset;if(i){var o=t.WebKitDataCue||t.VTTCue;i.forEach((function(t){var e=t.stream;n[e].addCue(new o(t.startTime+r,t.endTime+r,t.text))}))}}({captionArray:u,inbandTextTracks:l,timestampOffset:r})})),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}else this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,e,n));else this.logger_("SegmentLoader received no captions from a caption event")},i.handleId3_=function(t,e,n){if(!this.checkForAbort_(t.requestId)&&!this.abortRequestEarly_(t.stats))if(this.pendingSegment_.hasAppendedData_){var i=null===this.sourceUpdater_.videoTimestampOffset()?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset();!function(t,e,n){t.metadataTrack_||(t.metadataTrack_=n.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,t.metadataTrack_.inBandMetadataTrackDispatchType=e)}(this.inbandTextTracks_,n,this.vhs_.tech_),cc({inbandTextTracks:this.inbandTextTracks_,metadataArray:e,timestampOffset:i,videoDuration:this.duration_()})}else this.metadataQueue_.id3.push(this.handleId3_.bind(this,t,e,n))},i.processMetadataQueue_=function(){this.metadataQueue_.id3.forEach((function(t){return t()})),this.metadataQueue_.caption.forEach((function(t){return t()})),this.metadataQueue_.id3=[],this.metadataQueue_.caption=[]},i.processCallQueue_=function(){var t=this.callQueue_;this.callQueue_=[],t.forEach((function(t){return t()}))},i.processLoadQueue_=function(){var t=this.loadQueue_;this.loadQueue_=[],t.forEach((function(t){return t()}))},i.hasEnoughInfoToLoad_=function(){if("audio"!==this.loaderType_)return!0;var t=this.pendingSegment_;return!(!t||this.currentMediaInfo_&&gc({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:t.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))},i.hasEnoughInfoToAppend_=function(){if(!this.sourceUpdater_.ready())return!1;var t=this.pendingSegment_;if(!t||!t.trackInfo)return!1;if(!this.handlePartialData_){var e=this.currentMediaInfo_,n=e.hasAudio,i=e.hasVideo,r=e.isMuxed;if(i&&!t.videoTimingInfo)return!1;if(n&&!this.audioDisabled_&&!r&&!t.audioTimingInfo)return!1}return!gc({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:t.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_})},i.handleData_=function(t,e){if(!this.checkForAbort_(t.requestId)&&!this.abortRequestEarly_(t.stats))if(!this.callQueue_.length&&this.hasEnoughInfoToAppend_()){var n=this.pendingSegment_;if(this.setTimeMapping_(n.timeline),this.updateMediaSecondsLoaded_(n.segment),"closed"!==this.mediaSource_.readyState){if(t.map&&(t.map=this.initSegmentForMap(t.map,!0),n.segment.map=t.map),t.key&&this.segmentKey(t.key,!0),n.isFmp4=t.isFmp4,n.timingInfo=n.timingInfo||{},n.isFmp4)this.trigger("fmp4"),n.timingInfo.start=n[fc(e.type)].start;else{var i,r="main"===this.loaderType_&&this.currentMediaInfo_.hasVideo;r&&(i=this.handlePartialData_?e.videoFramePtsTime:n.videoTimingInfo.start),n.timingInfo.start=this.trueSegmentStart_({currentStart:n.timingInfo.start,playlist:n.playlist,mediaIndex:n.mediaIndex,currentVideoTimestampOffset:this.sourceUpdater_.videoTimestampOffset(),useVideoTimingInfo:r,firstVideoFrameTimeForData:i,videoTimingInfo:n.videoTimingInfo,audioTimingInfo:n.audioTimingInfo})}this.updateAppendInitSegmentStatus(n,e.type),this.updateSourceBufferTimestampOffset_(n),n.hasAppendedData_=!0,this.processMetadataQueue_(),this.appendData_(n,e)}}else this.callQueue_.push(this.handleData_.bind(this,t,e))},i.updateAppendInitSegmentStatus=function(t,e){"main"!==this.loaderType_||"number"!=typeof t.timestampOffset||t.changedTimestampOffset||(this.appendInitSegment_={audio:!0,video:!0}),this.playlistOfLastInitSegment_[e]!==t.playlist&&(this.appendInitSegment_[e]=!0)},i.getInitSegmentAndUpdateState_=function(t){var e=t.type,n=t.initSegment,i=t.map,r=t.playlist;if(i){var o=ll(i);if(this.activeInitSegmentId_===o)return null;n=this.initSegmentForMap(i,!0).bytes,this.activeInitSegmentId_=o}return n&&this.appendInitSegment_[e]?(this.playlistOfLastInitSegment_[e]=r,this.appendInitSegment_[e]=!!i,this.activeInitSegmentId_=null,n):null},i.appendToSourceBuffer_=function(t){var e=this,n=t.segmentInfo,i=t.type,r=t.initSegment,o=t.data,a=[o],s=o.byteLength;r&&(a.unshift(r),s+=r.byteLength);var u,l,c,d=(c=0,(u={bytes:s,segments:a}).bytes&&(l=new Uint8Array(u.bytes),u.segments.forEach((function(t){l.set(t,c),c+=t.byteLength}))),l);this.sourceUpdater_.appendBuffer({segmentInfo:n,type:i,bytes:d},(function(t){t&&(e.error(i+" append of "+d.length+"b failed for segment #"+n.mediaIndex+" in playlist "+n.playlist.id),e.trigger("appenderror"))}))},i.handleVideoSegmentTimingInfo_=function(t,e){if(this.pendingSegment_&&t===this.pendingSegment_.requestId){var n=this.pendingSegment_.segment;n.videoTimingInfo||(n.videoTimingInfo={}),n.videoTimingInfo.transmuxerPrependedSeconds=e.prependedContentDuration||0,n.videoTimingInfo.transmuxedPresentationStart=e.start.presentation,n.videoTimingInfo.transmuxedPresentationEnd=e.end.presentation,n.videoTimingInfo.baseMediaDecodeTime=e.baseMediaDecodeTime}},i.appendData_=function(t,e){var n=e.type,i=e.data;if(i&&i.byteLength&&("audio"!==n||!this.audioDisabled_)){var r=this.getInitSegmentAndUpdateState_({type:n,initSegment:e.initSegment,playlist:t.playlist,map:t.isFmp4?t.segment.map:null});this.appendToSourceBuffer_({segmentInfo:t,type:n,initSegment:r,data:i})}},i.loadSegment_=function(t){var e=this;this.state="WAITING",this.pendingSegment_=t,this.trimBackBuffer_(t),"number"==typeof t.timestampOffset&&this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.hasEnoughInfoToLoad_()?this.updateTransmuxerAndRequestSegment_(t):this.loadQueue_.push((function(){var n=e.buffered_();"number"==typeof t.timestampOffset&&(t.timestampOffset=pc({segmentTimeline:t.timeline,currentTimeline:e.currentTimeline_,startOfSegment:t.startOfSegment,buffered:n,overrideCheck:!0})),delete t.audioAppendStart;var i=e.sourceUpdater_.audioBuffered();i.length&&(t.audioAppendStart=i.end(i.length-1)-e.sourceUpdater_.audioTimestampOffset()),e.updateTransmuxerAndRequestSegment_(t)}))},i.updateTransmuxerAndRequestSegment_=function(t){this.shouldUpdateTransmuxerTimestampOffset_(t.timestampOffset)&&(this.gopBuffer_.length=0,t.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({action:"reset"}),this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:t.timestampOffset}));var e=this.createSimplifiedSegmentObj_(t);t.abortRequests=Wl({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:e,handlePartialData:this.handlePartialData_,abortFn:this.handleAbort_.bind(this),progressFn:this.handleProgress_.bind(this),trackInfoFn:this.handleTrackInfo_.bind(this),timingInfoFn:this.handleTimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleVideoSegmentTimingInfo_.bind(this,t.requestId),captionsFn:this.handleCaptions_.bind(this),id3Fn:this.handleId3_.bind(this),dataFn:this.handleData_.bind(this),doneFn:this.segmentRequestFinished_.bind(this)})},i.trimBackBuffer_=function(t){var e=function(t,e,n){var i=e-El.BACK_BUFFER_LENGTH;t.length&&(i=Math.max(i,t.start(0)));var r=e-n;return Math.min(r,i)}(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);e>0&&this.remove(0,e)},i.createSimplifiedSegmentObj_=function(t){var e=t.segment,n={resolvedUri:e.resolvedUri,byterange:e.byterange,requestId:t.requestId,transmuxer:t.transmuxer,audioAppendStart:t.audioAppendStart,gopsToAlignWith:t.gopsToAlignWith},i=t.playlist.segments[t.mediaIndex];if(i&&i.end&&i.timeline===e.timeline&&(n.baseStartTime=i.end+t.timestampOffset),e.key){var r=e.key.iv||new Uint32Array([0,0,0,t.mediaIndex+t.playlist.mediaSequence]);n.key=this.segmentKey(e.key),n.key.iv=r}return e.map&&(n.map=this.initSegmentForMap(e.map)),n},i.saveTransferStats_=function(t){this.mediaRequests+=1,t&&(this.mediaBytesTransferred+=t.bytesReceived,this.mediaTransferDuration+=t.roundTripTime)},i.saveBandwidthRelatedStats_=function(t){this.bandwidth=t.bandwidth,this.roundTrip=t.roundTripTime,this.pendingSegment_.byteLength=t.bytesReceived},i.handleTimeout_=function(){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate")},i.segmentRequestFinished_=function(t,e,n){if(this.callQueue_.length)this.callQueue_.push(this.segmentRequestFinished_.bind(this,t,e,n));else if(this.saveTransferStats_(e.stats),this.pendingSegment_&&e.requestId===this.pendingSegment_.requestId){if(t){if(this.pendingSegment_=null,this.state="READY",t.code===Fl)return;return this.pause(),t.code===Ll?void this.handleTimeout_():(this.mediaRequestsErrored+=1,this.error(t),void this.trigger("error"))}this.saveBandwidthRelatedStats_(e.stats);var i=this.pendingSegment_;i.endOfAllRequests=e.endOfAllRequests,n.gopInfo&&(this.gopBuffer_=function(t,e,n){if(!e.length)return t;if(n)return e.slice();for(var i=e[0].pts,r=0;r<t.length&&!(t[r].pts>=i);r++);return t.slice(0,r).concat(e)}(this.gopBuffer_,n.gopInfo,this.safeAppend_)),this.state="APPENDING";var r=this.isEndOfStream_(i.mediaIndex,i.playlist),o=null!==this.mediaIndex,a=i.timeline!==this.currentTimeline_&&i.timeline>0;!i.isFmp4&&(r||o&&a)&&Rl(this.transmuxer_),this.trigger("appending"),this.waitForAppendsToComplete_(i)}},i.setTimeMapping_=function(t){var e=this.syncController_.mappingForTimeline(t);null!==e&&(this.timeMapping_=e)},i.updateMediaSecondsLoaded_=function(t){"number"==typeof t.start&&"number"==typeof t.end?this.mediaSecondsLoaded+=t.end-t.start:this.mediaSecondsLoaded+=t.duration},i.shouldUpdateTransmuxerTimestampOffset_=function(t){return null!==t&&("main"===this.loaderType_&&t!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&t!==this.sourceUpdater_.audioTimestampOffset())},i.trueSegmentStart_=function(t){var e=t.currentStart,n=t.playlist,i=t.mediaIndex,r=t.firstVideoFrameTimeForData,o=t.currentVideoTimestampOffset,a=t.useVideoTimingInfo,s=t.videoTimingInfo,u=t.audioTimingInfo;if(void 0!==e)return e;if(!a)return u.start;var l=n.segments[i-1];return 0!==i&&l&&void 0!==l.start&&l.end===r+o?s.start:r},i.waitForAppendsToComplete_=function(t){if(!this.currentMediaInfo_)return this.error({message:"No starting media returned, likely due to an unsupported media format.",blacklistDuration:1/0}),void this.trigger("error");var e=this.currentMediaInfo_,n=e.hasAudio,i=e.hasVideo,r=e.isMuxed,o="main"===this.loaderType_&&i,a=!this.audioDisabled_&&n&&!r;if(t.waitingOnAppends=0,!t.hasAppendedData_)return t.timingInfo||"number"!=typeof t.timestampOffset||(this.isPendingTimestampOffset_=!0),t.timingInfo={start:0},t.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(t),this.processMetadataQueue_()),void this.checkAppendsDone_(t);o&&t.waitingOnAppends++,a&&t.waitingOnAppends++,o&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,t)),a&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,t))},i.checkAppendsDone_=function(t){this.checkForAbort_(t.requestId)||(t.waitingOnAppends--,0===t.waitingOnAppends&&this.handleAppendsDone_())},i.checkForIllegalMediaSwitch=function(t){var e=function(t,e,n){return"main"===t&&e&&n?n.hasAudio||n.hasVideo?e.hasVideo&&!n.hasVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!e.hasVideo&&n.hasVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null:"Neither audio nor video found in segment.":null}(this.loaderType_,this.currentMediaInfo_,t);return!!e&&(this.error({message:e,blacklistDuration:1/0}),this.trigger("error"),!0)},i.updateSourceBufferTimestampOffset_=function(t){if(null!==t.timestampOffset&&"number"==typeof t.timingInfo.start&&!t.changedTimestampOffset&&"main"===this.loaderType_){var e=!1;t.timestampOffset-=t.timingInfo.start,t.changedTimestampOffset=!0,t.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(t.timestampOffset),e=!0),t.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(t.timestampOffset),e=!0),e&&this.trigger("timestampoffset")}},i.updateTimingInfoEnd_=function(t){t.timingInfo=t.timingInfo||{};var e="main"===this.loaderType_&&this.currentMediaInfo_.hasVideo&&t.videoTimingInfo?t.videoTimingInfo:t.audioTimingInfo;e&&(t.timingInfo.end="number"==typeof e.end?e.end:e.start+t.duration)},i.handleAppendsDone_=function(){if(this.pendingSegment_&&this.trigger("appendsdone"),!this.pendingSegment_)return this.state="READY",void(this.paused()||this.monitorBuffer_());var t=this.pendingSegment_;if(this.updateTimingInfoEnd_(t),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:t,shouldSaveTimelineMapping:"main"===this.loaderType_}),this.logger_(function(t){var e=t.segment,n=e.start,i=e.end,r=t.playlist,o=r.mediaSequence,a=r.id,s=r.segments,u=void 0===s?[]:s,l=t.mediaIndex,c=t.timeline;return["appending ["+l+"] of ["+o+", "+(o+u.length)+"] from playlist ["+a+"]","["+n+" => "+i+"] in timeline ["+c+"]"].join(" ")}(t)),this.recordThroughput_(t),this.pendingSegment_=null,this.state="READY",t.isSyncRequest)this.trigger("syncinfoupdate");else{this.addSegmentMetadataCue_(t),this.fetchAtBuffer_=!0,this.currentTimeline_!==t.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:t.timeline}),"main"!==this.loaderType_||this.audioDisabled_||this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:t.timeline})),this.currentTimeline_=t.timeline,this.trigger("syncinfoupdate");var e=t.segment;e.end&&this.currentTime_()-e.end>3*t.playlist.targetDuration?this.resetEverything():(null!==this.mediaIndex&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=t.mediaIndex,this.isEndOfStream_(t.mediaIndex,t.playlist)&&this.endOfStream(),this.trigger("appended"),this.paused()||this.monitorBuffer_())}},i.recordThroughput_=function(t){var e=this.throughput.rate,n=Date.now()-t.endOfAllRequests+1,i=Math.floor(t.byteLength/n*8*1e3);this.throughput.rate+=(i-e)/++this.throughput.count},i.addSegmentMetadataCue_=function(e){if(this.segmentMetadataTrack_){var n=e.segment,i=n.start,r=n.end;if(hc(i)&&hc(r)){dc(i,r,this.segmentMetadataTrack_);var o=t.WebKitDataCue||t.VTTCue,a={custom:n.custom,dateTimeObject:n.dateTimeObject,dateTimeString:n.dateTimeString,bandwidth:e.playlist.attributes.BANDWIDTH,resolution:e.playlist.attributes.RESOLUTION,codecs:e.playlist.attributes.CODECS,byteLength:e.byteLength,uri:e.uri,timeline:e.timeline,playlist:e.playlist.id,start:i,end:r},s=new o(i,r,JSON.stringify(a));s.value=a,this.segmentMetadataTrack_.addCue(s)}}},n}(Qr.EventTarget);function vc(){}var yc,_c=function(t){return"string"!=typeof t?t:t.replace(/./,(function(t){return t.toUpperCase()}))},bc=["video","audio"],Tc=function(t,e){var n=e[t+"Buffer"];return n&&n.updating||e.queuePending[t]},Sc=function t(e,n){if(0!==n.queue.length){var i=0,r=n.queue[i];if("mediaSource"!==r.type){if("mediaSource"!==e&&n.started_&&"closed"!==n.mediaSource.readyState&&!Tc(e,n)){if(r.type!==e){if(null===(i=function(t,e){for(var n=0;n<e.length;n++){var i=e[n];if("mediaSource"===i.type)return null;if(i.type===t)return n}return null}(e,n.queue)))return;r=n.queue[i]}n.queue.splice(i,1),r.action(e,n),r.doneFn?n.queuePending[e]=r:t(e,n)}}else n.updating()||"closed"===n.mediaSource.readyState||(n.queue.shift(),r.action(n),r.doneFn&&r.doneFn(),t("audio",n),t("video",n))}},wc=function(t,e){var n=e[t+"Buffer"],i=_c(t);n&&(n.removeEventListener("updateend",e["on"+i+"UpdateEnd_"]),n.removeEventListener("error",e["on"+i+"Error_"]),e.codecs[t]=null,e[t+"Buffer"]=null)},Ec=function(t,e){return t&&e&&-1!==Array.prototype.indexOf.call(t.sourceBuffers,e)},Cc=function(t,e){return function(n,i){var r=i[n+"Buffer"];Ec(i.mediaSource,r)&&(i.logger_("Appending segment "+e.mediaIndex+"'s "+t.length+" bytes to "+n+"Buffer"),r.appendBuffer(t))}},Oc=function(t,e){return function(n,i){var r=i[n+"Buffer"];Ec(i.mediaSource,r)&&(i.logger_("Removing "+t+" to "+e+" from "+n+"Buffer"),r.remove(t,e))}},Ac=function(t){return function(e,n){var i=n[e+"Buffer"];Ec(n.mediaSource,i)&&(n.logger_("Setting "+e+"timestampOffset to "+t),i.timestampOffset=t)}},Pc=function(t){return function(e,n){t()}},Ic=function(t){return function(e){if("open"===e.mediaSource.readyState){e.logger_("Calling mediaSource endOfStream("+(t||"")+")");try{e.mediaSource.endOfStream(t)}catch(t){Qr.log.warn("Failed to call media source endOfStream",t)}}}},xc=function(t){return function(e){e.logger_("Setting mediaSource duration to "+t);try{e.mediaSource.duration=t}catch(t){Qr.log.warn("Failed to set media source duration",t)}}},Mc=function(){return function(t,e){if("open"===e.mediaSource.readyState){var n=e[t+"Buffer"];if(Ec(e.mediaSource,n)){e.logger_("calling abort on "+t+"Buffer");try{n.abort()}catch(e){Qr.log.warn("Failed to abort on "+t+"Buffer",e)}}}}},kc=function(t,e){return function(n){var i=_c(t),r=vu(e);n.logger_("Adding "+t+"Buffer with codec "+e+" to mediaSource");var o=n.mediaSource.addSourceBuffer(r);o.addEventListener("updateend",n["on"+i+"UpdateEnd_"]),o.addEventListener("error",n["on"+i+"Error_"]),n.codecs[t]=e,n[t+"Buffer"]=o}},Dc=function(t){return function(e){var n=e[t+"Buffer"];if(wc(t,e),Ec(e.mediaSource,n)){e.logger_("Removing "+t+"Buffer with codec "+e.codecs[t]+" from mediaSource");try{e.mediaSource.removeSourceBuffer(n)}catch(e){Qr.log.warn("Failed to removeSourceBuffer "+t+"Buffer",e)}}}},Rc=function(t){return function(e,n){var i=n[e+"Buffer"],r=vu(t);Ec(n.mediaSource,i)&&n.codecs[e]!==t&&(n.logger_("changing "+e+"Buffer codec from "+n.codecs[e]+" to "+t),i.changeType(r),n.codecs[e]=t)}},Nc=function(t){var e=t.type,n=t.sourceUpdater,i=t.action,r=t.doneFn,o=t.name;n.queue.push({type:e,action:i,doneFn:r,name:o}),Sc(e,n)},Lc=function(t,e){return function(n){if(e.queuePending[t]){var i=e.queuePending[t].doneFn;e.queuePending[t]=null,i&&i(e[t+"Error_"])}Sc(t,e)}},Fc=function(e){function n(t){var n;return(n=e.call(this)||this).mediaSource=t,n.sourceopenListener_=function(){return Sc("mediaSource",jt(n))},n.mediaSource.addEventListener("sourceopen",n.sourceopenListener_),n.logger_=rc("SourceUpdater"),n.audioTimestampOffset_=0,n.videoTimestampOffset_=0,n.queue=[],n.queuePending={audio:null,video:null},n.delayedAudioAppendQueue_=[],n.videoAppendQueued_=!1,n.codecs={},n.onVideoUpdateEnd_=Lc("video",jt(n)),n.onAudioUpdateEnd_=Lc("audio",jt(n)),n.onVideoError_=function(t){n.videoError_=t},n.onAudioError_=function(t){n.audioError_=t},n.started_=!1,n}Bt(n,e);var i=n.prototype;return i.ready=function(){return this.started_},i.createSourceBuffers=function(t){this.ready()||(this.addOrChangeSourceBuffers(t),this.started_=!0,this.trigger("ready"))},i.addSourceBuffer=function(t,e){Nc({type:"mediaSource",sourceUpdater:this,action:kc(t,e),name:"addSourceBuffer"})},i.abort=function(t){Nc({type:t,sourceUpdater:this,action:Mc(t),name:"abort"})},i.removeSourceBuffer=function(t){this.canRemoveSourceBuffer()?Nc({type:"mediaSource",sourceUpdater:this,action:Dc(t),name:"removeSourceBuffer"}):Qr.log.error("removeSourceBuffer is not supported!")},i.canRemoveSourceBuffer=function(){return!Qr.browser.IE_VERSION&&t.MediaSource&&t.MediaSource.prototype&&"function"==typeof t.MediaSource.prototype.removeSourceBuffer},n.canChangeType=function(){return t.SourceBuffer&&t.SourceBuffer.prototype&&"function"==typeof t.SourceBuffer.prototype.changeType},i.canChangeType=function(){return this.constructor.canChangeType()},i.changeType=function(t,e){this.canChangeType()?Nc({type:t,sourceUpdater:this,action:Rc(e),name:"changeType"}):Qr.log.error("changeType is not supported!")},i.addOrChangeSourceBuffers=function(t){var e=this;if(!t||"object"!=typeof t||0===Object.keys(t).length)throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");Object.keys(t).forEach((function(n){var i=t[n];if(!e.ready())return e.addSourceBuffer(n,i);e.canChangeType()&&e.changeType(n,i)}))},i.appendBuffer=function(t,e){var n=this,i=t.segmentInfo,r=t.type,o=t.bytes;if(this.processedAppend_=!0,"audio"===r&&this.videoBuffer&&!this.videoAppendQueued_)return this.delayedAudioAppendQueue_.push([t,e]),void this.logger_("delayed audio append of "+o.length+" until video append");if(Nc({type:r,sourceUpdater:this,action:Cc(o,i||{mediaIndex:-1}),doneFn:e,name:"appendBuffer"}),"video"===r){if(this.videoAppendQueued_=!0,!this.delayedAudioAppendQueue_.length)return;var a=this.delayedAudioAppendQueue_.slice();this.logger_("queuing delayed audio "+a.length+" appendBuffers"),this.delayedAudioAppendQueue_.length=0,a.forEach((function(t){n.appendBuffer.apply(n,t)}))}},i.audioBuffered=function(){return Ec(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered?this.audioBuffer.buffered:Qr.createTimeRange()},i.videoBuffered=function(){return Ec(this.mediaSource,this.videoBuffer)&&this.videoBuffer.buffered?this.videoBuffer.buffered:Qr.createTimeRange()},i.buffered=function(){var t=Ec(this.mediaSource,this.videoBuffer)?this.videoBuffer:null,e=Ec(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;return e&&!t?this.audioBuffered():t&&!e?this.videoBuffered():function(t,e){var n=null,i=null,r=0,o=[],a=[];if(!(t&&t.length&&e&&e.length))return Qr.createTimeRange();for(var s=t.length;s--;)o.push({time:t.start(s),type:"start"}),o.push({time:t.end(s),type:"end"});for(s=e.length;s--;)o.push({time:e.start(s),type:"start"}),o.push({time:e.end(s),type:"end"});for(o.sort((function(t,e){return t.time-e.time})),s=0;s<o.length;s++)"start"===o[s].type?2==++r&&(n=o[s].time):"end"===o[s].type&&1==--r&&(i=o[s].time),null!==n&&null!==i&&(a.push([n,i]),n=null,i=null);return Qr.createTimeRanges(a)}(this.audioBuffered(),this.videoBuffered())},i.setDuration=function(t,e){void 0===e&&(e=vc),Nc({type:"mediaSource",sourceUpdater:this,action:xc(t),name:"duration",doneFn:e})},i.endOfStream=function(t,e){void 0===t&&(t=null),void 0===e&&(e=vc),"string"!=typeof t&&(t=void 0),Nc({type:"mediaSource",sourceUpdater:this,action:Ic(t),name:"endOfStream",doneFn:e})},i.removeAudio=function(t,e,n){void 0===n&&(n=vc),this.audioBuffered().length&&0!==this.audioBuffered().end(0)?Nc({type:"audio",sourceUpdater:this,action:Oc(t,e),doneFn:n,name:"remove"}):n()},i.removeVideo=function(t,e,n){void 0===n&&(n=vc),this.videoBuffered().length&&0!==this.videoBuffered().end(0)?Nc({type:"video",sourceUpdater:this,action:Oc(t,e),doneFn:n,name:"remove"}):n()},i.updating=function(){return!(!Tc("audio",this)&&!Tc("video",this))},i.audioTimestampOffset=function(t){return void 0!==t&&this.audioBuffer&&this.audioTimestampOffset_!==t&&(Nc({type:"audio",sourceUpdater:this,action:Ac(t),name:"timestampOffset"}),this.audioTimestampOffset_=t),this.audioTimestampOffset_},i.videoTimestampOffset=function(t){return void 0!==t&&this.videoBuffer&&this.videoTimestampOffset!==t&&(Nc({type:"video",sourceUpdater:this,action:Ac(t),name:"timestampOffset"}),this.videoTimestampOffset_=t),this.videoTimestampOffset_},i.audioQueueCallback=function(t){this.audioBuffer&&Nc({type:"audio",sourceUpdater:this,action:Pc(t),name:"callback"})},i.videoQueueCallback=function(t){this.videoBuffer&&Nc({type:"video",sourceUpdater:this,action:Pc(t),name:"callback"})},i.dispose=function(){var t=this;this.trigger("dispose"),bc.forEach((function(e){t.abort(e),t.canRemoveSourceBuffer()?t.removeSourceBuffer(e):t[e+"QueueCallback"]((function(){return wc(e,t)}))})),this.videoAppendQueued_=!1,this.delayedAudioAppendQueue_.length=0,this.sourceopenListener_&&this.mediaSource.removeEventListener("sourceopen",this.sourceopenListener_),this.off()},n}(Qr.EventTarget),Vc=function(t){return decodeURIComponent(escape(String.fromCharCode.apply(null,t)))},jc=new Uint8Array("\n\n".split("").map((function(t){return t.charCodeAt(0)}))),Uc=function(e){function n(t,n){var i;return void 0===n&&(n={}),(i=e.call(this,t,n)||this).handlePartialData_=!1,i.mediaSource_=null,i.subtitlesTrack_=null,i.loaderType_="subtitle",i.featuresNativeTextTracks_=t.featuresNativeTextTracks,i.shouldSaveSegmentTimingInfo_=!1,i}Bt(n,e);var i=n.prototype;return i.createTransmuxer_=function(){return null},i.buffered_=function(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues.length)return Qr.createTimeRanges();var t=this.subtitlesTrack_.cues,e=t[0].startTime,n=t[t.length-1].startTime;return Qr.createTimeRanges([[e,n]])},i.initSegmentForMap=function(t,e){if(void 0===e&&(e=!1),!t)return null;var n=ll(t),i=this.initSegments_[n];if(e&&!i&&t.bytes){var r=jc.byteLength+t.bytes.byteLength,o=new Uint8Array(r);o.set(t.bytes),o.set(jc,t.bytes.byteLength),this.initSegments_[n]=i={resolvedUri:t.resolvedUri,byterange:t.byterange,bytes:o}}return i||t},i.couldBeginLoading_=function(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()},i.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},i.track=function(t){return void 0===t||(this.subtitlesTrack_=t,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_()),this.subtitlesTrack_},i.remove=function(t,e){dc(t,e,this.subtitlesTrack_)},i.fillBuffer_=function(){var t=this;this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var e=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);if(e=this.skipEmptySegments_(e)){if(null===this.syncController_.timestampOffsetForTimeline(e.timeline))return this.syncController_.one("timestampoffset",(function(){t.state="READY",t.paused()||t.monitorBuffer_()})),void(this.state="WAITING_ON_TIMELINE");this.loadSegment_(e)}},i.skipEmptySegments_=function(t){for(;t&&t.segment.empty;)t=this.generateSegmentInfo_(t.playlist,t.mediaIndex+1,t.startOfSegment+t.duration,t.isSyncRequest);return t},i.stopForError=function(t){this.error(t),this.state="READY",this.pause(),this.trigger("error")},i.segmentRequestFinished_=function(e,n,i){var r=this;if(this.subtitlesTrack_){if(this.saveTransferStats_(n.stats),!this.pendingSegment_)return this.state="READY",void(this.mediaRequestsAborted+=1);if(e)return e.code===Ll&&this.handleTimeout_(),e.code===Fl?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,void this.stopForError(e);this.saveBandwidthRelatedStats_(n.stats),this.state="APPENDING",this.trigger("appending");var o=this.pendingSegment_,a=o.segment;if(a.map&&(a.map.bytes=n.map.bytes),o.bytes=n.bytes,"function"!=typeof t.WebVTT&&this.subtitlesTrack_&&this.subtitlesTrack_.tech_){var s,u=function(){r.subtitlesTrack_.tech_.off("vttjsloaded",s),r.stopForError({message:"Error loading vtt.js"})};return s=function(){r.subtitlesTrack_.tech_.off("vttjserror",u),r.segmentRequestFinished_(e,n,i)},this.state="WAITING_ON_VTTJS",this.subtitlesTrack_.tech_.one("vttjsloaded",s),void this.subtitlesTrack_.tech_.one("vttjserror",u)}a.requested=!0;try{this.parseVTTCues_(o)}catch(t){return void this.stopForError({message:t.message})}if(this.updateTimeMapping_(o,this.syncController_.timelines[o.timeline],this.playlist_),o.cues.length?o.timingInfo={start:o.cues[0].startTime,end:o.cues[o.cues.length-1].endTime}:o.timingInfo={start:o.startOfSegment,end:o.startOfSegment+o.duration},o.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");o.byteLength=o.bytes.byteLength,this.mediaSecondsLoaded+=a.duration,o.cues.forEach((function(e){r.remove(e.startTime,e.endTime),r.subtitlesTrack_.addCue(r.featuresNativeTextTracks_?new t.VTTCue(e.startTime,e.endTime,e.text):e)})),this.handleAppendsDone_()}else this.state="READY"},i.handleData_=function(){},i.updateTimingInfoEnd_=function(){},i.parseVTTCues_=function(e){var n,i=!1;"function"==typeof t.TextDecoder?n=new t.TextDecoder("utf8"):(n=t.WebVTT.StringDecoder(),i=!0);var r=new t.WebVTT.Parser(t,t.vttjs,n);if(e.cues=[],e.timestampmap={MPEGTS:0,LOCAL:0},r.oncue=e.cues.push.bind(e.cues),r.ontimestampmap=function(t){e.timestampmap=t},r.onparsingerror=function(t){Qr.log.warn("Error encountered when parsing cues: "+t.message)},e.segment.map){var o=e.segment.map.bytes;i&&(o=Vc(o)),r.parse(o)}var a=e.bytes;i&&(a=Vc(a)),r.parse(a),r.flush()},i.updateTimeMapping_=function(t,e,n){var i=t.segment;if(e)if(t.cues.length){var r=t.timestampmap,o=r.MPEGTS/Ys-r.LOCAL+e.mapping;if(t.cues.forEach((function(t){t.startTime+=o,t.endTime+=o})),!n.syncInfo){var a=t.cues[0].startTime,s=t.cues[t.cues.length-1].startTime;n.syncInfo={mediaSequence:n.mediaSequence+t.mediaIndex,time:Math.min(a,s-i.duration)}}}else i.empty=!0},n}(mc),Bc=function(t,e){for(var n=t.cues,i=0;i<n.length;i++){var r=n[i];if(e>=r.adStartTime&&e<=r.adEndTime)return r}return null},Hc=[{name:"VOD",run:function(t,e,n,i,r){return n!==1/0?{time:0,segmentIndex:0}:null}},{name:"ProgramDateTime",run:function(t,e,n,i,r){if(!t.datetimeToDisplayTime)return null;var o=e.segments||[],a=null,s=null;r=r||0;for(var u=0;u<o.length;u++){var l=o[u];if(l.dateTimeObject){var c=l.dateTimeObject.getTime()/1e3+t.datetimeToDisplayTime,d=Math.abs(r-c);if(null!==s&&(0===d||s<d))break;s=d,a={time:c,segmentIndex:u}}}return a}},{name:"Segment",run:function(t,e,n,i,r){var o=e.segments||[],a=null,s=null;r=r||0;for(var u=0;u<o.length;u++){var l=o[u];if(l.timeline===i&&void 0!==l.start){var c=Math.abs(r-l.start);if(null!==s&&s<c)break;(!a||null===s||s>=c)&&(s=c,a={time:l.start,segmentIndex:u})}}return a}},{name:"Discontinuity",run:function(t,e,n,i,r){var o=null;if(r=r||0,e.discontinuityStarts&&e.discontinuityStarts.length)for(var a=null,s=0;s<e.discontinuityStarts.length;s++){var u=e.discontinuityStarts[s],l=e.discontinuitySequence+s+1,c=t.discontinuities[l];if(c){var d=Math.abs(r-c.time);if(null!==a&&a<d)break;(!o||null===a||a>=d)&&(a=d,o={time:c.time,segmentIndex:u})}}return o}},{name:"Playlist",run:function(t,e,n,i,r){return e.syncInfo?{time:e.syncInfo.time,segmentIndex:e.syncInfo.mediaSequence-e.mediaSequence}:null}}],Gc=function(t){function e(e){var n;return(n=t.call(this)||this).timelines=[],n.discontinuities=[],n.datetimeToDisplayTime=null,n.logger_=rc("SyncController"),n}Bt(e,t);var n=e.prototype;return n.getSyncPoint=function(t,e,n,i){var r=this.runStrategies_(t,e,n,i);return r.length?this.selectSyncPoint_(r,{key:"time",value:i}):null},n.getExpiredTime=function(t,e){if(!t||!t.segments)return null;var n=this.runStrategies_(t,e,t.discontinuitySequence,0);if(!n.length)return null;var i=this.selectSyncPoint_(n,{key:"segmentIndex",value:0});return i.segmentIndex>0&&(i.time*=-1),Math.abs(i.time+zu(t,i.segmentIndex,0))},n.runStrategies_=function(t,e,n,i){for(var r=[],o=0;o<Hc.length;o++){var a=Hc[o],s=a.run(this,t,e,n,i);s&&(s.strategy=a.name,r.push({strategy:a.name,syncPoint:s}))}return r},n.selectSyncPoint_=function(t,e){for(var n=t[0].syncPoint,i=Math.abs(t[0].syncPoint[e.key]-e.value),r=t[0].strategy,o=1;o<t.length;o++){var a=Math.abs(t[o].syncPoint[e.key]-e.value);a<i&&(i=a,n=t[o].syncPoint,r=t[o].strategy)}return this.logger_("syncPoint for ["+e.key+": "+e.value+"] chosen with strategy ["+r+"]: [time:"+n.time+", segmentIndex:"+n.segmentIndex+"]"),n},n.saveExpiredSegmentInfo=function(t,e){for(var n=e.mediaSequence-t.mediaSequence-1;n>=0;n--){var i=t.segments[n];if(i&&void 0!==i.start){e.syncInfo={mediaSequence:t.mediaSequence+n,time:i.start},this.logger_("playlist refresh sync: [time:"+e.syncInfo.time+", mediaSequence: "+e.syncInfo.mediaSequence+"]"),this.trigger("syncinfoupdate");break}}},n.setDateTimeMapping=function(t){if(!this.datetimeToDisplayTime&&t.segments&&t.segments.length&&t.segments[0].dateTimeObject){var e=t.segments[0].dateTimeObject.getTime()/1e3;this.datetimeToDisplayTime=-e}},n.saveSegmentTimingInfo=function(t){var e=t.segmentInfo,n=t.shouldSaveTimelineMapping;this.calculateSegmentTimeMapping_(e,e.timingInfo,n)&&(this.saveDiscontinuitySyncInfo_(e),e.playlist.syncInfo||(e.playlist.syncInfo={mediaSequence:e.playlist.mediaSequence+e.mediaIndex,time:e.segment.start}))},n.timestampOffsetForTimeline=function(t){return void 0===this.timelines[t]?null:this.timelines[t].time},n.mappingForTimeline=function(t){return void 0===this.timelines[t]?null:this.timelines[t].mapping},n.calculateSegmentTimeMapping_=function(t,e,n){var i=t.segment,r=this.timelines[t.timeline];if(null!==t.timestampOffset)r={time:t.startOfSegment,mapping:t.startOfSegment-e.start},n&&(this.timelines[t.timeline]=r,this.trigger("timestampoffset"),this.logger_("time mapping for timeline "+t.timeline+": [time: "+r.time+"] [mapping: "+r.mapping+"]")),i.start=t.startOfSegment,i.end=e.end+r.mapping;else{if(!r)return!1;i.start=e.start+r.mapping,i.end=e.end+r.mapping}return!0},n.saveDiscontinuitySyncInfo_=function(t){var e=t.playlist,n=t.segment;if(n.discontinuity)this.discontinuities[n.timeline]={time:n.start,accuracy:0};else if(e.discontinuityStarts&&e.discontinuityStarts.length)for(var i=0;i<e.discontinuityStarts.length;i++){var r=e.discontinuityStarts[i],o=e.discontinuitySequence+i+1,a=r-t.mediaIndex,s=Math.abs(a);if(!this.discontinuities[o]||this.discontinuities[o].accuracy>s){var u=void 0;u=a<0?n.start-zu(e,t.mediaIndex,r):n.end+zu(e,t.mediaIndex+1,r),this.discontinuities[o]={time:u,accuracy:s}}}},n.dispose=function(){this.trigger("dispose"),this.off()},e}(Qr.EventTarget),Wc=function(t){function e(){var e;return(e=t.call(this)||this).pendingTimelineChanges_={},e.lastTimelineChanges_={},e}Bt(e,t);var n=e.prototype;return n.clearPendingTimelineChange=function(t){this.pendingTimelineChanges_[t]=null,this.trigger("pendingtimelinechange")},n.pendingTimelineChange=function(t){var e=t.type,n=t.from,i=t.to;return"number"==typeof n&&"number"==typeof i&&(this.pendingTimelineChanges_[e]={type:e,from:n,to:i},this.trigger("pendingtimelinechange")),this.pendingTimelineChanges_[e]},n.lastTimelineChange=function(t){var e=t.type,n=t.from,i=t.to;return"number"==typeof n&&"number"==typeof i&&(this.lastTimelineChanges_[e]={type:e,from:n,to:i},delete this.pendingTimelineChanges_[e],this.trigger("timelinechange")),this.lastTimelineChanges_[e]},n.dispose=function(){this.trigger("dispose"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()},e}(Qr.EventTarget),zc=new Kl("./decrypter-worker.worker.js",(function(t,e){var n=this;
/*! @name @videojs/http-streaming @version 2.2.4 @license Apache-2.0 */!function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var e=function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e},i=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e},r=function(){function t(){this.listeners={}}var e=t.prototype;return e.on=function(t,e){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(e)},e.off=function(t,e){if(!this.listeners[t])return!1;var n=this.listeners[t].indexOf(e);return this.listeners[t]=this.listeners[t].slice(0),this.listeners[t].splice(n,1),n>-1},e.trigger=function(t){var e=this.listeners[t];if(e)if(2===arguments.length)for(var n=e.length,i=0;i<n;++i)e[i].call(this,arguments[1]);else for(var r=Array.prototype.slice.call(arguments,1),o=e.length,a=0;a<o;++a)e[a].apply(this,r)},e.dispose=function(){this.listeners={}},e.pipe=function(t){this.on("data",(function(e){t.push(e)}))},t}(),o=null,a=function(){function t(t){var e,n,i;o||(o=function(){var t,e,n,i,r,o,a,s,u=[[[],[],[],[],[]],[[],[],[],[],[]]],l=u[0],c=u[1],d=l[4],h=c[4],f=[],p=[];for(t=0;t<256;t++)p[(f[t]=t<<1^283*(t>>7))^t]=t;for(e=n=0;!d[e];e^=i||1,n=p[n]||1)for(o=(o=n^n<<1^n<<2^n<<3^n<<4)>>8^255&o^99,d[e]=o,h[o]=e,s=16843009*f[r=f[i=f[e]]]^65537*r^257*i^16843008*e,a=257*f[o]^16843008*o,t=0;t<4;t++)l[t][e]=a=a<<24^a>>>8,c[t][o]=s=s<<24^s>>>8;for(t=0;t<5;t++)l[t]=l[t].slice(0),c[t]=c[t].slice(0);return u}()),this._tables=[[o[0][0].slice(),o[0][1].slice(),o[0][2].slice(),o[0][3].slice(),o[0][4].slice()],[o[1][0].slice(),o[1][1].slice(),o[1][2].slice(),o[1][3].slice(),o[1][4].slice()]];var r=this._tables[0][4],a=this._tables[1],s=t.length,u=1;if(4!==s&&6!==s&&8!==s)throw new Error("Invalid aes key size");var l=t.slice(0),c=[];for(this._key=[l,c],e=s;e<4*s+28;e++)i=l[e-1],(e%s==0||8===s&&e%s==4)&&(i=r[i>>>24]<<24^r[i>>16&255]<<16^r[i>>8&255]<<8^r[255&i],e%s==0&&(i=i<<8^i>>>24^u<<24,u=u<<1^283*(u>>7))),l[e]=l[e-s]^i;for(n=0;e;n++,e--)i=l[3&n?e:e-4],c[n]=e<=4||n<4?i:a[0][r[i>>>24]]^a[1][r[i>>16&255]]^a[2][r[i>>8&255]]^a[3][r[255&i]]}return t.prototype.decrypt=function(t,e,n,i,r,o){var a,s,u,l,c=this._key[1],d=t^c[0],h=i^c[1],f=n^c[2],p=e^c[3],g=c.length/4-2,m=4,v=this._tables[1],y=v[0],_=v[1],b=v[2],T=v[3],S=v[4];for(l=0;l<g;l++)a=y[d>>>24]^_[h>>16&255]^b[f>>8&255]^T[255&p]^c[m],s=y[h>>>24]^_[f>>16&255]^b[p>>8&255]^T[255&d]^c[m+1],u=y[f>>>24]^_[p>>16&255]^b[d>>8&255]^T[255&h]^c[m+2],p=y[p>>>24]^_[d>>16&255]^b[h>>8&255]^T[255&f]^c[m+3],m+=4,d=a,h=s,f=u;for(l=0;l<4;l++)r[(3&-l)+o]=S[d>>>24]<<24^S[h>>16&255]<<16^S[f>>8&255]<<8^S[255&p]^c[m++],a=d,d=h,h=f,f=p,p=a},t}(),s=function(t){function e(){var e;return(e=t.call(this,r)||this).jobs=[],e.delay=1,e.timeout_=null,e}i(e,t);var n=e.prototype;return n.processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},n.push=function(t){this.jobs.push(t),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},e}(r),u=function(t){return t<<24|(65280&t)<<8|(16711680&t)>>8|t>>>24},l=function(){function t(e,n,i,r){var o=t.STEP,a=new Int32Array(e.buffer),l=new Uint8Array(e.byteLength),c=0;for(this.asyncStream_=new s,this.asyncStream_.push(this.decryptChunk_(a.subarray(c,c+o),n,i,l)),c=o;c<a.length;c+=o)i=new Uint32Array([u(a[c-4]),u(a[c-3]),u(a[c-2]),u(a[c-1])]),this.asyncStream_.push(this.decryptChunk_(a.subarray(c,c+o),n,i,l));this.asyncStream_.push((function(){
/*! @name pkcs7 @version 1.0.4 @license Apache-2.0 */
var t;
/*! @name aes-decrypter @version 3.1.0 @license Apache-2.0 */r(null,(t=l).subarray(0,t.byteLength-t[t.byteLength-1]))}))}return t.prototype.decryptChunk_=function(t,e,n,i){return function(){var r=function(t,e,n){var i,r,o,s,l,c,d,h,f,p=new Int32Array(t.buffer,t.byteOffset,t.byteLength>>2),g=new a(Array.prototype.slice.call(e)),m=new Uint8Array(t.byteLength),v=new Int32Array(m.buffer);for(i=n[0],r=n[1],o=n[2],s=n[3],f=0;f<p.length;f+=4)l=u(p[f]),c=u(p[f+1]),d=u(p[f+2]),h=u(p[f+3]),g.decrypt(l,c,d,h,v,f),v[f]=u(v[f]^i),v[f+1]=u(v[f+1]^r),v[f+2]=u(v[f+2]^o),v[f+3]=u(v[f+3]^s),i=l,r=c,o=d,s=h;return m}(t,e,n);i.set(r,t.byteOffset)}},e(t,null,[{key:"STEP",get:function(){return 32e3}}]),t}();new function(t){t.onmessage=function(e){var n=e.data,i=new Uint8Array(n.encrypted.bytes,n.encrypted.byteOffset,n.encrypted.byteLength),r=new Uint32Array(n.key.bytes,n.key.byteOffset,n.key.byteLength/4),o=new Uint32Array(n.iv.bytes,n.iv.byteOffset,n.iv.byteLength/4);new l(i,r,o,(function(e,i){var r,o;t.postMessage((r={source:n.source,decrypted:i},o={},Object.keys(r).forEach((function(t){var e=r[t];ArrayBuffer.isView(e)?o[t]={bytes:e.buffer,byteOffset:e.byteOffset,byteLength:e.byteLength}:o[t]=e})),o),[i.buffer])}))}}(n)}()})),$c=function(t){var e=t.default?"main":"alternative";return t.characteristics&&t.characteristics.indexOf("public.accessibility.describes-video")>=0&&(e="main-desc"),e},Yc=function(t,e){t.abort(),t.pause(),e&&e.activePlaylistLoader&&(e.activePlaylistLoader.pause(),e.activePlaylistLoader=null)},qc=function(t,e){e.activePlaylistLoader=t,t.load()},Xc={AUDIO:function(t,e){return function(){var n=e.segmentLoaders[t],i=e.mediaTypes[t],r=e.blacklistCurrentPlaylist;Yc(n,i);var o=i.activeTrack(),a=i.activeGroup(),s=(a.filter((function(t){return t.default}))[0]||a[0]).id,u=i.tracks[s];if(o!==u){for(var l in Qr.log.warn("Problem encountered loading the alternate audio track.Switching back to default."),i.tracks)i.tracks[l].enabled=i.tracks[l]===u;i.onTrackChanged()}else r({message:"Problem encountered loading the default audio track."})}},SUBTITLES:function(t,e){return function(){var n=e.segmentLoaders[t],i=e.mediaTypes[t];Qr.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),Yc(n,i);var r=i.activeTrack();r&&(r.mode="disabled"),i.onTrackChanged()}}},Kc={AUDIO:function(t,e,n){if(e){var i=n.tech,r=n.requestOptions,o=n.segmentLoaders[t];e.on("loadedmetadata",(function(){var t=e.media();o.playlist(t,r),(!i.paused()||t.endList&&"none"!==i.preload())&&o.load()})),e.on("loadedplaylist",(function(){o.playlist(e.media(),r),i.paused()||o.load()})),e.on("error",Xc[t](t,n))}},SUBTITLES:function(t,e,n){var i=n.tech,r=n.requestOptions,o=n.segmentLoaders[t],a=n.mediaTypes[t];e.on("loadedmetadata",(function(){var t=e.media();o.playlist(t,r),o.track(a.activeTrack()),(!i.paused()||t.endList&&"none"!==i.preload())&&o.load()})),e.on("loadedplaylist",(function(){o.playlist(e.media(),r),i.paused()||o.load()})),e.on("error",Xc[t](t,n))}},Zc={AUDIO:function(t,e){var n=e.vhs,i=e.sourceType,r=e.segmentLoaders[t],o=e.requestOptions,a=e.master,s=a.mediaGroups,u=a.playlists,l=e.mediaTypes[t],c=l.groups,d=l.tracks,h=e.masterPlaylistLoader;s[t]&&0!==Object.keys(s[t]).length||(s[t]={main:{default:{default:!0}}});var f=function(r){c[r]||(c[r]=[]);var a=u.filter((function(e){return e.attributes[t]===r})),l=function(u){var l=s[t][r][u];a.filter((function(t){return t.resolvedUri===l.resolvedUri})).length&&delete l.resolvedUri;var f=void 0;if(f="vhs-json"===i&&l.playlists?new Lu(l.playlists[0],n,o):l.resolvedUri?new Lu(l.resolvedUri,n,o):l.playlists&&"dash"===i?new wl(l.playlists[0],n,o,h):null,l=Qr.mergeOptions({id:u,playlistLoader:f},l),Kc[t](t,l.playlistLoader,e),c[r].push(l),void 0===d[u]){var p=new Qr.AudioTrack({id:u,kind:$c(l),enabled:!1,language:l.language,default:l.default,label:u});d[u]=p}};for(var f in s[t][r])l(f)};for(var p in s[t])f(p);r.on("error",Xc[t](t,e))},SUBTITLES:function(t,e){var n=e.tech,i=e.vhs,r=e.sourceType,o=e.segmentLoaders[t],a=e.requestOptions,s=e.master.mediaGroups,u=e.mediaTypes[t],l=u.groups,c=u.tracks,d=e.masterPlaylistLoader;for(var h in s[t])for(var f in l[h]||(l[h]=[]),s[t][h])if(!s[t][h][f].forced){var p=s[t][h][f],g=void 0;if("hls"===r?g=new Lu(p.resolvedUri,i,a):"dash"===r?g=new wl(p.playlists[0],i,a,d):"vhs-json"===r&&(g=new Lu(p.playlists?p.playlists[0]:p.resolvedUri,i,a)),p=Qr.mergeOptions({id:f,playlistLoader:g},p),Kc[t](t,p.playlistLoader,e),l[h].push(p),void 0===c[f]){var m=n.addRemoteTextTrack({id:f,kind:"subtitles",default:p.default&&p.autoselect,language:p.language,label:f},!1).track;c[f]=m}}o.on("error",Xc[t](t,e))},"CLOSED-CAPTIONS":function(t,e){var n=e.tech,i=e.master.mediaGroups,r=e.mediaTypes[t],o=r.groups,a=r.tracks;for(var s in i[t])for(var u in o[s]||(o[s]=[]),i[t][s]){var l=i[t][s][u];if(l.instreamId.match(/CC\d/)&&(o[s].push(Qr.mergeOptions({id:u},l)),void 0===a[u])){var c=n.addRemoteTextTrack({id:l.instreamId,kind:"captions",default:l.default&&l.autoselect,language:l.language,label:u},!1).track;a[u]=c}}}},Jc={AUDIO:function(t,e){return function(){var n=e.mediaTypes[t].tracks;for(var i in n)if(n[i].enabled)return n[i];return null}},SUBTITLES:function(t,e){return function(){var n=e.mediaTypes[t].tracks;for(var i in n)if("showing"===n[i].mode||"hidden"===n[i].mode)return n[i];return null}}},Qc=function(t){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach((function(e){Zc[e](e,t)}));var e=t.mediaTypes,n=t.masterPlaylistLoader,i=t.tech,r=t.vhs;["AUDIO","SUBTITLES"].forEach((function(n){e[n].activeGroup=function(t,e){return function(n){var i=e.masterPlaylistLoader,r=e.mediaTypes[t].groups,o=i.media();if(!o)return null;var a=null;return o.attributes[t]&&(a=r[o.attributes[t]]),a=a||r.main,void 0===n?a:null===n?null:a.filter((function(t){return t.id===n.id}))[0]||null}}(n,t),e[n].activeTrack=Jc[n](n,t),e[n].onGroupChanged=function(t,e){return function(){var n=e.segmentLoaders,i=n[t],r=n.main,o=e.mediaTypes[t],a=o.activeTrack(),s=o.activeGroup(a),u=o.activePlaylistLoader;Yc(i,o),s&&(s.playlistLoader?(i.resyncLoader(),qc(s.playlistLoader,o)):u&&r.resetEverything())}}(n,t),e[n].onGroupChanging=function(t,e){return function(){var n=e.segmentLoaders[t];n.abort(),n.pause()}}(n,t),e[n].onTrackChanged=function(t,e){return function(){var n=e.segmentLoaders,i=n[t],r=n.main,o=e.mediaTypes[t],a=o.activeTrack(),s=o.activeGroup(a),u=o.activePlaylistLoader;if(Yc(i,o),s){if("AUDIO"===t){if(!s.playlistLoader)return r.setAudio(!0),void r.resetEverything();i.setAudio(!0),r.setAudio(!1)}u!==s.playlistLoader?(i.track&&i.track(a),i.resetEverything(),qc(s.playlistLoader,o)):qc(s.playlistLoader,o)}}}(n,t)}));var o=e.AUDIO.activeGroup();if(o){var a=(o.filter((function(t){return t.default}))[0]||o[0]).id;e.AUDIO.tracks[a].enabled=!0,e.AUDIO.onTrackChanged()}n.on("mediachange",(function(){["AUDIO","SUBTITLES"].forEach((function(t){return e[t].onGroupChanged()}))})),n.on("mediachanging",(function(){["AUDIO","SUBTITLES"].forEach((function(t){return e[t].onGroupChanging()}))}));var s=function(){e.AUDIO.onTrackChanged(),i.trigger({type:"usage",name:"vhs-audio-change"}),i.trigger({type:"usage",name:"hls-audio-change"})};for(var u in i.audioTracks().addEventListener("change",s),i.remoteTextTracks().addEventListener("change",e.SUBTITLES.onTrackChanged),r.on("dispose",(function(){i.audioTracks().removeEventListener("change",s),i.remoteTextTracks().removeEventListener("change",e.SUBTITLES.onTrackChanged)})),i.clearTracks("audio"),e.AUDIO.tracks)i.audioTracks().addTrack(e.AUDIO.tracks[u])},td=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred"],ed=function(t){return this.audioSegmentLoader_[t]+this.mainSegmentLoader_[t]},nd=function(e){function n(n){var i;i=e.call(this)||this;var r=n.src,o=n.handleManifestRedirects,a=n.withCredentials,s=n.tech,u=n.bandwidth,l=n.externVhs,c=n.useCueTags,d=n.blacklistDuration,h=n.enableLowInitialPlaylist,f=n.sourceType,p=n.cacheEncryptionKeys,g=n.handlePartialData;if(!r)throw new Error("A non-empty playlist URL or JSON manifest string is required");yc=l,i.withCredentials=a,i.tech_=s,i.vhs_=s.vhs,i.sourceType_=f,i.useCueTags_=c,i.blacklistDuration=d,i.enableLowInitialPlaylist=h,i.useCueTags_&&(i.cueTagsTrack_=i.tech_.addTextTrack("metadata","ad-cues"),i.cueTagsTrack_.inBandMetadataTrackDispatchType=""),i.requestOptions_={withCredentials:a,handleManifestRedirects:o,timeout:null},i.on("error",i.pauseLoading),i.mediaTypes_=function(){var t={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach((function(e){t[e]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:vc,activeTrack:vc,onGroupChanged:vc,onTrackChanged:vc}})),t}(),i.mediaSource=new t.MediaSource,i.handleDurationChange_=i.handleDurationChange_.bind(jt(i)),i.handleSourceOpen_=i.handleSourceOpen_.bind(jt(i)),i.handleSourceEnded_=i.handleSourceEnded_.bind(jt(i)),i.mediaSource.addEventListener("durationchange",i.handleDurationChange_),i.mediaSource.addEventListener("sourceopen",i.handleSourceOpen_),i.mediaSource.addEventListener("sourceended",i.handleSourceEnded_),i.seekable_=Qr.createTimeRanges(),i.hasPlayed_=!1,i.syncController_=new Gc(n),i.segmentMetadataTrack_=s.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,i.decrypter_=new zc,i.sourceUpdater_=new Fc(i.mediaSource),i.inbandTextTracks_={},i.timelineChangeController_=new Wc;var m={vhs:i.vhs_,mediaSource:i.mediaSource,currentTime:i.tech_.currentTime.bind(i.tech_),seekable:function(){return i.seekable()},seeking:function(){return i.tech_.seeking()},duration:function(){return i.duration()},hasPlayed:function(){return i.hasPlayed_},goalBufferLength:function(){return i.goalBufferLength()},bandwidth:u,syncController:i.syncController_,decrypter:i.decrypter_,sourceType:i.sourceType_,inbandTextTracks:i.inbandTextTracks_,cacheEncryptionKeys:p,handlePartialData:g,sourceUpdater:i.sourceUpdater_,timelineChangeController:i.timelineChangeController_};return i.masterPlaylistLoader_="dash"===i.sourceType_?new wl(r,i.vhs_,i.requestOptions_):new Lu(r,i.vhs_,i.requestOptions_),i.setupMasterPlaylistLoaderListeners_(),i.mainSegmentLoader_=new mc(Qr.mergeOptions(m,{segmentMetadataTrack:i.segmentMetadataTrack_,loaderType:"main"}),n),i.audioSegmentLoader_=new mc(Qr.mergeOptions(m,{loaderType:"audio"}),n),i.subtitleSegmentLoader_=new Uc(Qr.mergeOptions(m,{loaderType:"vtt",featuresNativeTextTracks:i.tech_.featuresNativeTextTracks}),n),i.setupSegmentLoaderListeners_(),td.forEach((function(t){i[t+"_"]=ed.bind(jt(i),t)})),i.logger_=rc("MPC"),i.triggeredFmp4Usage=!1,i.masterPlaylistLoader_.load(),i}Bt(n,e);var i=n.prototype;return i.setupMasterPlaylistLoaderListeners_=function(){var t=this;this.masterPlaylistLoader_.on("loadedmetadata",(function(){var e=t.masterPlaylistLoader_.media(),n=1.5*e.targetDuration*1e3;Ju(t.masterPlaylistLoader_.master,t.masterPlaylistLoader_.media())?t.requestOptions_.timeout=0:t.requestOptions_.timeout=n,e.endList&&"none"!==t.tech_.preload()&&(t.mainSegmentLoader_.playlist(e,t.requestOptions_),t.mainSegmentLoader_.load()),Qc({sourceType:t.sourceType_,segmentLoaders:{AUDIO:t.audioSegmentLoader_,SUBTITLES:t.subtitleSegmentLoader_,main:t.mainSegmentLoader_},tech:t.tech_,requestOptions:t.requestOptions_,masterPlaylistLoader:t.masterPlaylistLoader_,vhs:t.vhs_,master:t.master(),mediaTypes:t.mediaTypes_,blacklistCurrentPlaylist:t.blacklistCurrentPlaylist.bind(t)}),t.triggerPresenceUsage_(t.master(),e),t.setupFirstPlay(),!t.mediaTypes_.AUDIO.activePlaylistLoader||t.mediaTypes_.AUDIO.activePlaylistLoader.media()?t.trigger("selectedinitialmedia"):t.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",(function(){t.trigger("selectedinitialmedia")}))})),this.masterPlaylistLoader_.on("loadedplaylist",(function(){var e=t.masterPlaylistLoader_.media();if(!e){var n;if(t.excludeUnsupportedVariants_(),t.enableLowInitialPlaylist&&(n=t.selectInitialPlaylist()),n||(n=t.selectPlaylist()),t.initialMedia_=n,t.masterPlaylistLoader_.media(t.initialMedia_),"vhs-json"!==t.sourceType_||!t.initialMedia_.segments)return;e=t.initialMedia_}t.handleUpdatedMediaPlaylist(e)})),this.masterPlaylistLoader_.on("error",(function(){t.blacklistCurrentPlaylist(t.masterPlaylistLoader_.error)})),this.masterPlaylistLoader_.on("mediachanging",(function(){t.mainSegmentLoader_.abort(),t.mainSegmentLoader_.pause()})),this.masterPlaylistLoader_.on("mediachange",(function(){var e=t.masterPlaylistLoader_.media(),n=1.5*e.targetDuration*1e3;Ju(t.masterPlaylistLoader_.master,t.masterPlaylistLoader_.media())?t.requestOptions_.timeout=0:t.requestOptions_.timeout=n,t.mainSegmentLoader_.playlist(e,t.requestOptions_),t.mainSegmentLoader_.load(),t.tech_.trigger({type:"mediachange",bubbles:!0})})),this.masterPlaylistLoader_.on("playlistunchanged",(function(){var e=t.masterPlaylistLoader_.media();t.stuckAtPlaylistEnd_(e)&&(t.blacklistCurrentPlaylist({message:"Playlist no longer updating."}),t.tech_.trigger("playliststuck"))})),this.masterPlaylistLoader_.on("renditiondisabled",(function(){t.tech_.trigger({type:"usage",name:"vhs-rendition-disabled"}),t.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})})),this.masterPlaylistLoader_.on("renditionenabled",(function(){t.tech_.trigger({type:"usage",name:"vhs-rendition-enabled"}),t.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})}))},i.handleUpdatedMediaPlaylist=function(t){this.useCueTags_&&this.updateAdCues_(t),this.mainSegmentLoader_.playlist(t,this.requestOptions_),this.updateDuration(!t.endList),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioSegmentLoader_&&this.audioSegmentLoader_.load())},i.triggerPresenceUsage_=function(t,e){var n=t.mediaGroups||{},i=!0,r=Object.keys(n.AUDIO);for(var o in n.AUDIO)for(var a in n.AUDIO[o])n.AUDIO[o][a].uri||(i=!1);i&&(this.tech_.trigger({type:"usage",name:"vhs-demuxed"}),this.tech_.trigger({type:"usage",name:"hls-demuxed"})),Object.keys(n.SUBTITLES).length&&(this.tech_.trigger({type:"usage",name:"vhs-webvtt"}),this.tech_.trigger({type:"usage",name:"hls-webvtt"})),yc.Playlist.isAes(e)&&(this.tech_.trigger({type:"usage",name:"vhs-aes"}),this.tech_.trigger({type:"usage",name:"hls-aes"})),r.length&&Object.keys(n.AUDIO[r[0]]).length>1&&(this.tech_.trigger({type:"usage",name:"vhs-alternate-audio"}),this.tech_.trigger({type:"usage",name:"hls-alternate-audio"})),this.useCueTags_&&(this.tech_.trigger({type:"usage",name:"vhs-playlist-cue-tags"}),this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"}))},i.setupSegmentLoaderListeners_=function(){var t=this;this.mainSegmentLoader_.on("bandwidthupdate",(function(){var e=t.selectPlaylist(),n=t.masterPlaylistLoader_.media(),i=t.tech_.buffered();(function(t){var e=t.currentPlaylist,n=t.nextPlaylist,i=t.forwardBuffer,r=t.bufferLowWaterLine,o=t.duration;return t.log,n?!e.endList||o<El.MAX_BUFFER_LOW_WATER_LINE||n.attributes.BANDWIDTH<e.attributes.BANDWIDTH||i>=r:(Qr.log.warn("We received no playlist to switch to. Please check your stream."),!1)})({currentPlaylist:n,nextPlaylist:e,forwardBuffer:i.length?i.end(i.length-1)-t.tech_.currentTime():0,bufferLowWaterLine:t.bufferLowWaterLine(),duration:t.duration(),log:t.logger_})&&t.masterPlaylistLoader_.media(e),t.tech_.trigger("bandwidthupdate")})),this.mainSegmentLoader_.on("progress",(function(){t.trigger("progress")})),this.mainSegmentLoader_.on("error",(function(){t.blacklistCurrentPlaylist(t.mainSegmentLoader_.error())})),this.mainSegmentLoader_.on("appenderror",(function(){t.error=t.mainSegmentLoader_.error_,t.trigger("error")})),this.mainSegmentLoader_.on("syncinfoupdate",(function(){t.onSyncInfoUpdate_()})),this.mainSegmentLoader_.on("timestampoffset",(function(){t.tech_.trigger({type:"usage",name:"vhs-timestamp-offset"}),t.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})})),this.audioSegmentLoader_.on("syncinfoupdate",(function(){t.onSyncInfoUpdate_()})),this.audioSegmentLoader_.on("appenderror",(function(){t.error=t.audioSegmentLoader_.error_,t.trigger("error")})),this.mainSegmentLoader_.on("ended",(function(){t.logger_("main segment loader ended"),t.onEndOfStream()})),this.mainSegmentLoader_.on("earlyabort",(function(){t.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},120)}));var e=function(){if(!t.sourceUpdater_.ready())return t.tryToCreateSourceBuffers_();var e=t.getCodecsOrExclude_();e&&t.sourceUpdater_.addOrChangeSourceBuffers(e)};this.mainSegmentLoader_.on("trackinfo",e),this.audioSegmentLoader_.on("trackinfo",e),this.mainSegmentLoader_.on("fmp4",(function(){t.triggeredFmp4Usage||(t.tech_.trigger({type:"usage",name:"vhs-fmp4"}),t.tech_.trigger({type:"usage",name:"hls-fmp4"}),t.triggeredFmp4Usage=!0)})),this.audioSegmentLoader_.on("fmp4",(function(){t.triggeredFmp4Usage||(t.tech_.trigger({type:"usage",name:"vhs-fmp4"}),t.tech_.trigger({type:"usage",name:"hls-fmp4"}),t.triggeredFmp4Usage=!0)})),this.audioSegmentLoader_.on("ended",(function(){t.logger_("audioSegmentLoader ended"),t.onEndOfStream()}))},i.mediaSecondsLoaded_=function(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)},i.load=function(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()},i.smoothQualityChange_=function(t){void 0===t&&(t=this.selectPlaylist()),t!==this.masterPlaylistLoader_.media()&&(this.masterPlaylistLoader_.media(t),this.mainSegmentLoader_.resetLoader())},i.fastQualityChange_=function(t){var e=this;void 0===t&&(t=this.selectPlaylist()),t!==this.masterPlaylistLoader_.media()&&(this.masterPlaylistLoader_.media(t),this.mainSegmentLoader_.resetEverything((function(){Qr.browser.IE_VERSION||Qr.browser.IS_EDGE?e.tech_.setCurrentTime(e.tech_.currentTime()+.04):e.tech_.setCurrentTime(e.tech_.currentTime())})))},i.play=function(){if(!this.setupFirstPlay()){this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();var t=this.tech_.seekable();return this.tech_.duration()===1/0&&this.tech_.currentTime()<t.start(0)?this.tech_.setCurrentTime(t.end(t.length-1)):void 0}},i.setupFirstPlay=function(){var t=this,e=this.masterPlaylistLoader_.media();if(!e||this.tech_.paused()||this.hasPlayed_)return!1;if(!e.endList){var n=this.seekable();if(!n.length)return!1;if(Qr.browser.IE_VERSION&&0===this.tech_.readyState())return this.tech_.one("loadedmetadata",(function(){t.trigger("firstplay"),t.tech_.setCurrentTime(n.end(0)),t.hasPlayed_=!0})),!1;this.trigger("firstplay"),this.tech_.setCurrentTime(n.end(0))}return this.hasPlayed_=!0,this.load(),!0},i.handleSourceOpen_=function(){if(this.tryToCreateSourceBuffers_(),this.tech_.autoplay()){var t=this.tech_.play();void 0!==t&&"function"==typeof t.then&&t.then(null,(function(t){}))}this.trigger("sourceopen")},i.handleSourceEnded_=function(){if(this.inbandTextTracks_.metadataTrack_){var t=this.inbandTextTracks_.metadataTrack_.cues;if(t&&t.length){var e=this.duration();t[t.length-1].endTime=isNaN(e)||Math.abs(e)===1/0?Number.MAX_VALUE:e}}},i.handleDurationChange_=function(){this.tech_.trigger("durationchange")},i.onEndOfStream=function(){var t=this.mainSegmentLoader_.ended_;this.mediaTypes_.AUDIO.activePlaylistLoader&&(t=!this.mainSegmentLoader_.currentMediaInfo_||this.mainSegmentLoader_.currentMediaInfo_.hasVideo?t&&this.audioSegmentLoader_.ended_:this.audioSegmentLoader_.ended_),t&&this.sourceUpdater_.endOfStream()},i.stuckAtPlaylistEnd_=function(t){if(!this.seekable().length)return!1;var e=this.syncController_.getExpiredTime(t,this.duration());if(null===e)return!1;var n=yc.Playlist.playlistEnd(t,e),i=this.tech_.currentTime(),r=this.tech_.buffered();if(!r.length)return n-i<=.1;var o=r.end(r.length-1);return o-i<=.1&&n-o<=.1},i.blacklistCurrentPlaylist=function(t,e){void 0===t&&(t={});var n=t.playlist||this.masterPlaylistLoader_.media();if(e=e||t.blacklistDuration||this.blacklistDuration,!n)return this.error=t,void("open"!==this.mediaSource.readyState?this.trigger("error"):this.sourceUpdater_.endOfStream("network"));var i=this.masterPlaylistLoader_.master.playlists,r=i.filter(Ku),o=1===r.length&&r[0]===n;if(1===i.length&&e!==1/0)return Qr.log.warn("Problem encountered with playlist "+n.id+". Trying again since it is the only playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(o);if(o){var a=!1;i.forEach((function(t){if(t!==n){var e=t.excludeUntil;void 0!==e&&e!==1/0&&(a=!0,delete t.excludeUntil)}})),a&&(Qr.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))}n.excludeUntil=Date.now()+1e3*e,this.tech_.trigger("blacklistplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-blacklisted"}),this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"});var s=this.selectPlaylist();if(!s)return this.error="Playback cannot continue. No available working or supported playlists.",void this.trigger("error");var u=t.internal?this.logger_:Qr.log.warn,l=t.message?" "+t.message:"";return u((t.internal?"Internal problem":"Problem")+" encountered with playlist "+n.id+"."+l+" Switching to playlist "+s.id+"."),s.attributes.AUDIO!==n.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),s.attributes.SUBTITLES!==n.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]),this.masterPlaylistLoader_.media(s,o)},i.pauseLoading=function(){this.delegateLoaders_("all",["abort","pause"])},i.delegateLoaders_=function(t,e){var n=this,i=[],r="all"===t;(r||"main"===t)&&i.push(this.masterPlaylistLoader_);var o=[];(r||"audio"===t)&&o.push("AUDIO"),(r||"subtitle"===t)&&(o.push("CLOSED-CAPTIONS"),o.push("SUBTITLES")),o.forEach((function(t){var e=n.mediaTypes_[t]&&n.mediaTypes_[t].activePlaylistLoader;e&&i.push(e)})),["main","audio","subtitle"].forEach((function(e){var r=n[e+"SegmentLoader_"];!r||t!==e&&"all"!==t||i.push(r)})),i.forEach((function(t){return e.forEach((function(e){"function"==typeof t[e]&&t[e]()}))}))},i.setCurrentTime=function(t){var e=Vu(this.tech_.buffered(),t);return this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media()&&this.masterPlaylistLoader_.media().segments?e&&e.length?t:(this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),void this.load()):0},i.duration=function(){if(!this.masterPlaylistLoader_)return 0;var t=this.masterPlaylistLoader_.media();return t?t.endList?this.mediaSource?this.mediaSource.duration:yc.Playlist.duration(t):1/0:0},i.seekable=function(){return this.seekable_},i.onSyncInfoUpdate_=function(){var t;if(this.masterPlaylistLoader_){var e=this.masterPlaylistLoader_.media();if(e){var n=this.syncController_.getExpiredTime(e,this.duration());if(null!==n){var i=this.masterPlaylistLoader_.master.suggestedPresentationDelay,r=yc.Playlist.seekable(e,n,i);if(0!==r.length){if(this.mediaTypes_.AUDIO.activePlaylistLoader){if(e=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),null===(n=this.syncController_.getExpiredTime(e,this.duration())))return;if(0===(t=yc.Playlist.seekable(e,n,i)).length)return}var o,a;this.seekable_&&this.seekable_.length&&(o=this.seekable_.end(0),a=this.seekable_.start(0)),t?t.start(0)>r.end(0)||r.start(0)>t.end(0)?this.seekable_=r:this.seekable_=Qr.createTimeRanges([[t.start(0)>r.start(0)?t.start(0):r.start(0),t.end(0)<r.end(0)?t.end(0):r.end(0)]]):this.seekable_=r,this.seekable_&&this.seekable_.length&&this.seekable_.end(0)===o&&this.seekable_.start(0)===a||(this.logger_("seekable updated ["+Uu(this.seekable_)+"]"),this.tech_.trigger("seekablechanged"))}}}}},i.updateDuration=function(t){if(this.updateDuration_&&(this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.updateDuration_=null),"open"!==this.mediaSource.readyState)return this.updateDuration_=this.updateDuration.bind(this,t),void this.mediaSource.addEventListener("sourceopen",this.updateDuration_);if(t){var e=this.seekable();if(!e.length)return;(isNaN(this.mediaSource.duration)||this.mediaSource.duration<e.end(e.length-1))&&this.sourceUpdater_.setDuration(e.end(e.length-1))}else{var n=this.tech_.buffered(),i=yc.Playlist.duration(this.masterPlaylistLoader_.media());n.length>0&&(i=Math.max(i,n.end(n.length-1))),this.mediaSource.duration!==i&&this.sourceUpdater_.setDuration(i)}},i.dispose=function(){var t=this;this.trigger("dispose"),this.decrypter_.terminate(),this.masterPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),["AUDIO","SUBTITLES"].forEach((function(e){var n=t.mediaTypes_[e].groups;for(var i in n)n[i].forEach((function(t){t.playlistLoader&&t.playlistLoader.dispose()}))})),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.sourceUpdater_.dispose(),this.timelineChangeController_.dispose(),this.updateDuration_&&this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.mediaSource.removeEventListener("durationchange",this.handleDurationChange_),this.mediaSource.removeEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.removeEventListener("sourceended",this.handleSourceEnded_),this.off()},i.master=function(){return this.masterPlaylistLoader_.master},i.media=function(){return this.masterPlaylistLoader_.media()||this.initialMedia_},i.areMediaTypesKnown_=function(){var t=!!this.mediaTypes_.AUDIO.activePlaylistLoader;return!(!this.mainSegmentLoader_.currentMediaInfo_||t&&!this.audioSegmentLoader_.currentMediaInfo_)},i.getCodecsOrExclude_=function(){var t=this,e={main:this.mainSegmentLoader_.currentMediaInfo_||{},audio:this.audioSegmentLoader_.currentMediaInfo_||{}};e.video=e.main;var n=ic(this.master(),this.media()),i={},r=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(e.main.hasVideo&&(i.video=n.video||e.main.videoCodec||pu),e.main.isMuxed&&(i.video+=","+(n.audio||e.main.audioCodec||fu)),(e.main.hasAudio&&!e.main.isMuxed||e.audio.hasAudio||r)&&(i.audio=n.audio||e.main.audioCodec||e.audio.audioCodec||fu,e.audio.isFmp4=e.main.hasAudio&&!e.main.isMuxed?e.main.isFmp4:e.audio.isFmp4),i.audio||i.video){var o,a={};if(["video","audio"].forEach((function(t){if(i.hasOwnProperty(t)&&(r=e[t].isFmp4,s=i[t],!(r?gu(s):bu(s)))){var n=e[t].isFmp4?"browser":"muxer";a[n]=a[n]||[],a[n].push(i[t]),"audio"===t&&(o=n)}var r,s})),r&&o&&this.media().attributes.AUDIO){var s=this.media().attributes.AUDIO;this.master().playlists.forEach((function(e){(e.attributes&&e.attributes.AUDIO)===s&&e!==t.media()&&(e.excludeUntil=1/0)})),this.logger_("excluding audio group "+s+" as "+o+' does not support codec(s): "'+i.audio+'"')}if(!Object.keys(a).length){if(this.sourceUpdater_.ready()&&!this.sourceUpdater_.canChangeType()){var u=[];if(["video","audio"].forEach((function(e){var n=(Tu(t.sourceUpdater_.codecs[e]||"")[e]||{}).type,r=(Tu(i[e]||"")[e]||{}).type;n&&r&&n.toLowerCase()!==r.toLowerCase()&&u.push('"'+t.sourceUpdater_.codecs[e]+'" -> "'+i[e]+'"')})),u.length)return void this.blacklistCurrentPlaylist({playlist:this.media(),message:"Codec switching not supported: "+u.join(", ")+".",blacklistDuration:1/0,internal:!0})}return i}var l=Object.keys(a).reduce((function(t,e){return t&&(t+=", "),t+=e+' does not support codec(s): "'+a[e].join(",")+'"'}),"")+".";this.blacklistCurrentPlaylist({playlist:this.media(),internal:!0,message:l,blacklistDuration:1/0})}else this.blacklistCurrentPlaylist({playlist:this.media(),message:"Could not determine codecs for playlist.",blacklistDuration:1/0})},i.tryToCreateSourceBuffers_=function(){if("open"===this.mediaSource.readyState&&!this.sourceUpdater_.ready()&&this.areMediaTypesKnown_()){var t=this.getCodecsOrExclude_();if(t){this.sourceUpdater_.createSourceBuffers(t);var e=[t.video,t.audio].filter(Boolean).join(",");this.excludeIncompatibleVariants_(e)}}},i.excludeUnsupportedVariants_=function(){var t=this;this.master().playlists.forEach((function(e){var n=ic(t.master,e);!n.audio||bu(n.audio)||gu(n.audio)||(e.excludeUntil=1/0),!n.video||bu(n.video)||gu(n.video)||(e.excludeUntil=1/0)}))},i.excludeIncompatibleVariants_=function(t){var e=this,n=Tu(t),i=Object.keys(n).length;this.master().playlists.forEach((function(t){if(t.excludeUntil!==1/0){var r={},o=2,a=[],s=ic(e.masterPlaylistLoader_.master,t);if(s.audio||s.video){var u=[s.video,s.audio].filter(Boolean).join(",");r=Tu(u),o=Object.keys(r).length}o!==i&&(a.push('codec count "'+o+'" !== "'+i+'"'),t.excludeUntil=1/0),e.sourceUpdater_.canChangeType()||(r.video&&n.video&&r.video.type.toLowerCase()!==n.video.type.toLowerCase()&&(a.push('video codec "'+r.video.type+'" !== "'+n.video.type+'"'),t.excludeUntil=1/0),r.audio&&n.audio&&r.audio.type.toLowerCase()!==n.audio.type.toLowerCase()&&(t.excludeUntil=1/0,a.push('audio codec "'+r.audio.type+'" !== "'+n.audio.type+'"'))),a.length&&e.logger_("blacklisting "+t.id+": "+a.join(" && "))}}))},i.updateAdCues_=function(e){var n=0,i=this.seekable();i.length&&(n=i.start(0)),function(e,n,i){if(void 0===i&&(i=0),e.segments)for(var r,o=i,a=0;a<e.segments.length;a++){var s=e.segments[a];if(r||(r=Bc(n,o+s.duration/2)),r){if("cueIn"in s){r.endTime=o,r.adEndTime=o,o+=s.duration,r=null;continue}if(o<r.endTime){o+=s.duration;continue}r.endTime+=s.duration}else if("cueOut"in s&&((r=new t.VTTCue(o,o+s.duration,s.cueOut)).adStartTime=o,r.adEndTime=o+parseFloat(s.cueOut),n.addCue(r)),"cueOutCont"in s){var u=s.cueOutCont.split("/").map(parseFloat),l=u[0],c=u[1];(r=new t.VTTCue(o,o+s.duration,"")).adStartTime=o-l,r.adEndTime=r.adStartTime+c,n.addCue(r)}o+=s.duration}}(e,this.cueTagsTrack_,n)},i.goalBufferLength=function(){var t=this.tech_.currentTime(),e=El.GOAL_BUFFER_LENGTH,n=El.GOAL_BUFFER_LENGTH_RATE,i=Math.max(e,El.MAX_GOAL_BUFFER_LENGTH);return Math.min(e+t*n,i)},i.bufferLowWaterLine=function(){var t=this.tech_.currentTime(),e=El.BUFFER_LOW_WATER_LINE,n=El.BUFFER_LOW_WATER_LINE_RATE,i=Math.max(e,El.MAX_BUFFER_LOW_WATER_LINE);return Math.min(e+t*n,i)},n}(Qr.EventTarget),id=function(t,e,n){var i,r,o,a=t.masterPlaylistController_,s=a[(t.options_.smoothQualityChange?"smooth":"fast")+"QualityChange_"].bind(a);if(e.attributes.RESOLUTION){var u=e.attributes.RESOLUTION;this.width=u.width,this.height=u.height}this.bandwidth=e.attributes.BANDWIDTH,this.codecs=ic(a.master(),e),this.playlist=e,this.id=n,this.enabled=(i=t.playlists,r=e.id,o=s,function(t){var e=i.master.playlists[r],n=Xu(e),a=Ku(e);return void 0===t?a:(t?delete e.disabled:e.disabled=!0,t===a||n||(o(),t?i.trigger("renditionenabled"):i.trigger("renditiondisabled")),t)})},rd=["seeking","seeked","pause","playing","error"],od=function(){function e(e){var n=this;this.masterPlaylistController_=e.masterPlaylistController,this.tech_=e.tech,this.seekable=e.seekable,this.allowSeeksWithinUnsafeLiveWindow=e.allowSeeksWithinUnsafeLiveWindow,this.media=e.media,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.timer_=null,this.checkCurrentTimeTimeout_=null,this.logger_=rc("PlaybackWatcher"),this.logger_("initialize");var i=function(){return n.monitorCurrentTime_()},r=function(){return n.techWaiting_()},o=function(){return n.cancelTimer_()},a=function(){return n.fixesBadSeeks_()},s=this.masterPlaylistController_,u=["main","subtitle","audio"],l={};u.forEach((function(t){l[t]={reset:function(){return n.resetSegmentDownloads_(t)},updateend:function(){return n.checkSegmentDownloads_(t)}},s[t+"SegmentLoader_"].on("appendsdone",l[t].updateend),s[t+"SegmentLoader_"].on("playlistupdate",l[t].reset),n.tech_.on(["seeked","seeking"],l[t].reset)})),this.tech_.on("seekablechanged",a),this.tech_.on("waiting",r),this.tech_.on(rd,o),this.tech_.on("canplay",i),this.dispose=function(){n.logger_("dispose"),n.tech_.off("seekablechanged",a),n.tech_.off("waiting",r),n.tech_.off(rd,o),n.tech_.off("canplay",i),u.forEach((function(t){s[t+"SegmentLoader_"].off("appendsdone",l[t].updateend),s[t+"SegmentLoader_"].off("playlistupdate",l[t].reset),n.tech_.off(["seeked","seeking"],l[t].reset)})),n.checkCurrentTimeTimeout_&&t.clearTimeout(n.checkCurrentTimeTimeout_),n.cancelTimer_()}}var n=e.prototype;return n.monitorCurrentTime_=function(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&t.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=t.setTimeout(this.monitorCurrentTime_.bind(this),250)},n.resetSegmentDownloads_=function(t){var e=this.masterPlaylistController_[t+"SegmentLoader_"];this[t+"StalledDownloads_"]>0&&this.logger_("resetting possible stalled download count for "+t+" loader"),this[t+"StalledDownloads_"]=0,this[t+"Buffered_"]=e.buffered_()},n.checkSegmentDownloads_=function(t){var e=this.masterPlaylistController_,n=e[t+"SegmentLoader_"],i=n.buffered_(),r=function(t,e){if(t===e)return!1;if(!t&&e||!e&&t)return!0;if(t.length!==e.length)return!0;for(var n=0;n<t.length;n++)if(t.start(n)!==e.start(n)||t.end(n)!==e.end(n))return!0;return!1}(this[t+"Buffered_"],i);this[t+"Buffered_"]=i,r?this.resetSegmentDownloads_(t):(this[t+"StalledDownloads_"]++,this.logger_("found #"+this[t+"StalledDownloads_"]+" "+t+" appends that did not increase buffer (possible stalled download)",{playlistId:n.playlist_&&n.playlist_.id,buffered:Bu(i)}),this[t+"StalledDownloads_"]<10||(this.logger_(t+" loader stalled download exclusion"),this.resetSegmentDownloads_(t),this.tech_.trigger({type:"usage",name:"vhs-"+t+"-download-exclusion"}),"subtitle"!==t&&e.blacklistCurrentPlaylist({message:"Excessive "+t+" segment downloading detected."},1/0)))},n.checkCurrentTime_=function(){if(this.tech_.seeking()&&this.fixesBadSeeks_())return this.consecutiveUpdates=0,void(this.lastRecordedTime=this.tech_.currentTime());if(!this.tech_.paused()&&!this.tech_.seeking()){var t=this.tech_.currentTime(),e=this.tech_.buffered();if(this.lastRecordedTime===t&&(!e.length||t+.1>=e.end(e.length-1)))return this.techWaiting_();this.consecutiveUpdates>=5&&t===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):t===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=t)}},n.cancelTimer_=function(){this.consecutiveUpdates=0,this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_)),this.timer_=null},n.fixesBadSeeks_=function(){if(!this.tech_.seeking())return!1;var t,e=this.seekable(),n=this.tech_.currentTime();if(this.afterSeekableWindow_(e,n,this.media(),this.allowSeeksWithinUnsafeLiveWindow)&&(t=e.end(e.length-1)),this.beforeSeekableWindow_(e,n)){var i=e.start(0);t=i+(i===e.end(0)?0:.1)}if(void 0!==t)return this.logger_("Trying to seek outside of seekable at time "+n+" with seekable range "+Uu(e)+". Seeking to "+t+"."),this.tech_.setCurrentTime(t),!0;var r=this.tech_.buffered();return!!function(t){var e=t.buffered,n=t.targetDuration,i=t.currentTime;return!(!e.length||e.end(0)-e.start(0)<2*n||i>e.start(0)||!(e.start(0)-i<n))}({buffered:r,targetDuration:this.media().targetDuration,currentTime:n})&&(t=r.start(0)+.1,this.logger_("Buffered region starts ("+r.start(0)+")  just beyond seek point ("+n+"). Seeking to "+t+"."),this.tech_.setCurrentTime(t),!0)},n.waiting_=function(){if(!this.techWaiting_()){var t=this.tech_.currentTime(),e=this.tech_.buffered(),n=Vu(e,t);return n.length&&t+3<=n.end(0)?(this.cancelTimer_(),this.tech_.setCurrentTime(t),this.logger_("Stopped at "+t+" while inside a buffered region ["+n.start(0)+" -> "+n.end(0)+"]. Attempting to resume playback by seeking to the current time."),this.tech_.trigger({type:"usage",name:"vhs-unknown-waiting"}),void this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"})):void 0}},n.techWaiting_=function(){var t=this.seekable(),e=this.tech_.currentTime();if(this.tech_.seeking()&&this.fixesBadSeeks_())return!0;if(this.tech_.seeking()||null!==this.timer_)return!0;if(this.beforeSeekableWindow_(t,e)){var n=t.end(t.length-1);return this.logger_("Fell out of live window at time "+e+". Seeking to live point (seekable end) "+n),this.cancelTimer_(),this.tech_.setCurrentTime(n),this.tech_.trigger({type:"usage",name:"vhs-live-resync"}),this.tech_.trigger({type:"usage",name:"hls-live-resync"}),!0}var i=this.tech_.vhs.masterPlaylistController_.sourceUpdater_,r=this.tech_.buffered();if(this.videoUnderflow_({audioBuffered:i.audioBuffered(),videoBuffered:i.videoBuffered(),currentTime:e}))return this.cancelTimer_(),this.tech_.setCurrentTime(e),this.tech_.trigger({type:"usage",name:"vhs-video-underflow"}),this.tech_.trigger({type:"usage",name:"hls-video-underflow"}),!0;var o=ju(r,e);if(o.length>0){var a=o.start(0)-e;return this.logger_("Stopped at "+e+", setting timer for "+a+", seeking to "+o.start(0)),this.cancelTimer_(),this.timer_=setTimeout(this.skipTheGap_.bind(this),1e3*a,e),!0}return!1},n.afterSeekableWindow_=function(t,e,n,i){if(void 0===i&&(i=!1),!t.length)return!1;var r=t.end(t.length-1)+.1;return!n.endList&&i&&(r=t.end(t.length-1)+3*n.targetDuration),e>r},n.beforeSeekableWindow_=function(t,e){return!!(t.length&&t.start(0)>0&&e<t.start(0)-.1)},n.videoUnderflow_=function(t){var e=t.videoBuffered,n=t.audioBuffered,i=t.currentTime;if(e){var r;if(e.length&&n.length){var o=Vu(e,i-3),a=Vu(e,i),s=Vu(n,i);s.length&&!a.length&&o.length&&(r={start:o.end(0),end:s.end(0)})}else ju(e,i).length||(r=this.gapFromVideoUnderflow_(e,i));return!!r&&(this.logger_("Encountered a gap in video from "+r.start+" to "+r.end+". Seeking to current time "+i),!0)}},n.skipTheGap_=function(t){var e=this.tech_.buffered(),n=this.tech_.currentTime(),i=ju(e,n);this.cancelTimer_(),0!==i.length&&n===t&&(this.logger_("skipTheGap_:","currentTime:",n,"scheduled currentTime:",t,"nextRange start:",i.start(0)),this.tech_.setCurrentTime(i.start(0)+1/30),this.tech_.trigger({type:"usage",name:"vhs-gap-skip"}),this.tech_.trigger({type:"usage",name:"hls-gap-skip"}))},n.gapFromVideoUnderflow_=function(t,e){for(var n=function(t){if(t.length<2)return Qr.createTimeRanges();for(var e=[],n=1;n<t.length;n++){var i=t.end(n-1),r=t.start(n);e.push([i,r])}return Qr.createTimeRanges(e)}(t),i=0;i<n.length;i++){var r=n.start(i),o=n.end(i);if(e-r<4&&e-r>2)return{start:r,end:o}}return null},e}(),ad={errorInterval:30,getSource:function(t){return t(this.tech({IWillNotUseThisInPlugins:!0}).currentSource_||this.currentSource())}},sd=function(t){!function t(e,n){var i=0,r=0,o=Qr.mergeOptions(ad,n);e.ready((function(){e.trigger({type:"usage",name:"vhs-error-reload-initialized"}),e.trigger({type:"usage",name:"hls-error-reload-initialized"})}));var a=function(){r&&e.currentTime(r)},s=function(t){null!=t&&(r=e.duration()!==1/0&&e.currentTime()||0,e.one("loadedmetadata",a),e.src(t),e.trigger({type:"usage",name:"vhs-error-reload"}),e.trigger({type:"usage",name:"hls-error-reload"}),e.play())},u=function(){return Date.now()-i<1e3*o.errorInterval?(e.trigger({type:"usage",name:"vhs-error-reload-canceled"}),void e.trigger({type:"usage",name:"hls-error-reload-canceled"})):o.getSource&&"function"==typeof o.getSource?(i=Date.now(),o.getSource.call(e,s)):void Qr.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!")},l=function t(){e.off("loadedmetadata",a),e.off("error",u),e.off("dispose",t)};e.on("error",u),e.on("dispose",l),e.reloadSourceOnError=function(n){l(),t(e,n)}}(this,t)},ud={PlaylistLoader:Lu,Playlist:Qu,utils:hl,STANDARD_PLAYLIST_SELECTOR:function(){var e=this.useDevicePixelRatio&&t.devicePixelRatio||1;return function(e,n,i,r,o){var a={bandwidth:n,width:i,height:r,limitRenditionByPlayerDimensions:o},s=e.playlists.map((function(e){var n=e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width,i=e.attributes.RESOLUTION&&e.attributes.RESOLUTION.height;return{bandwidth:e.attributes.BANDWIDTH||t.Number.MAX_VALUE,width:n,height:i,playlist:e}}));uc(s,(function(t,e){return t.bandwidth-e.bandwidth}));var u=(s=s.filter((function(t){return!Qu.isIncompatible(t.playlist)}))).filter((function(t){return Qu.isEnabled(t.playlist)}));u.length||(u=s.filter((function(t){return!Qu.isDisabled(t.playlist)})));var l=u.filter((function(t){return t.bandwidth*El.BANDWIDTH_VARIANCE<n})),c=l[l.length-1],d=l.filter((function(t){return t.bandwidth===c.bandwidth}))[0];if(!1===o){var h=d||u[0]||s[0];if(h&&h.playlist){var f="sortedPlaylistReps";return d&&(f="bandwidthBestRep"),u[0]&&(f="enabledPlaylistReps"),oc("choosing "+ac(h)+" using "+f+" with options",a),h.playlist}return oc("could not choose a playlist with options",a),null}var p=l.filter((function(t){return t.width&&t.height}));uc(p,(function(t,e){return t.width-e.width}));var g=p.filter((function(t){return t.width===i&&t.height===r}));c=g[g.length-1];var m,v,y,_=g.filter((function(t){return t.bandwidth===c.bandwidth}))[0];_||(v=(m=p.filter((function(t){return t.width>i||t.height>r}))).filter((function(t){return t.width===m[0].width&&t.height===m[0].height})),c=v[v.length-1],y=v.filter((function(t){return t.bandwidth===c.bandwidth}))[0]);var b=y||_||d||u[0]||s[0];if(b&&b.playlist){var T="sortedPlaylistReps";return y?T="resolutionPlusOneRep":_?T="resolutionBestRep":d?T="bandwidthBestRep":u[0]&&(T="enabledPlaylistReps"),oc("choosing "+ac(b)+" using "+T+" with options",a),b.playlist}return oc("could not choose a playlist with options",a),null}(this.playlists.master,this.systemBandwidth,parseInt(sc(this.tech_.el(),"width"),10)*e,parseInt(sc(this.tech_.el(),"height"),10)*e,this.limitRenditionByPlayerDimensions)},INITIAL_PLAYLIST_SELECTOR:function(){var t=this,e=this.playlists.master.playlists.filter(Qu.isEnabled);return uc(e,(function(t,e){return lc(t,e)})),e.filter((function(e){return!!ic(t.playlists.master,e).video}))[0]||null},comparePlaylistBandwidth:lc,comparePlaylistResolution:function(e,n){var i,r;return e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(i=e.attributes.RESOLUTION.width),i=i||t.Number.MAX_VALUE,n.attributes.RESOLUTION&&n.attributes.RESOLUTION.width&&(r=n.attributes.RESOLUTION.width),i===(r=r||t.Number.MAX_VALUE)&&e.attributes.BANDWIDTH&&n.attributes.BANDWIDTH?e.attributes.BANDWIDTH-n.attributes.BANDWIDTH:i-r},xhr:il()};["GOAL_BUFFER_LENGTH","MAX_GOAL_BUFFER_LENGTH","BACK_BUFFER_LENGTH","GOAL_BUFFER_LENGTH_RATE","BUFFER_LOW_WATER_LINE","MAX_BUFFER_LOW_WATER_LINE","BUFFER_LOW_WATER_LINE_RATE","BANDWIDTH_VARIANCE"].forEach((function(t){Object.defineProperty(ud,t,{get:function(){return Qr.log.warn("using Vhs."+t+" is UNSAFE be sure you know what you are doing"),El[t]},set:function(e){Qr.log.warn("using Vhs."+t+" is UNSAFE be sure you know what you are doing"),"number"!=typeof e||e<0?Qr.log.warn("value of Vhs."+t+" must be greater than or equal to 0"):El[t]=e}})}));var ld=function(t,e){for(var n=e.media(),i=-1,r=0;r<t.length;r++)if(t[r].id===n.id){i=r;break}t.selectedIndex_=i,t.trigger({selectedIndex:i,type:"change"})};ud.canPlaySource=function(){return Qr.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var cd=function(t){var e=t.player,n=t.sourceKeySystems,i=t.media,r=t.audioMedia,o=t.mainPlaylists,a=function(t,e,n){if(!t)return t;var i={video:e&&e.attributes&&e.attributes.CODECS,audio:n&&n.attributes&&n.attributes.CODECS};!i.audio&&i.video&&i.video.split(",").length>1&&i.video.split(",").forEach((function(t){t=t.trim(),yu(t)?i.audio=t:_u(t)&&(i.video=t)}));var r=i.video?'video/mp4;codecs="'+i.video+'"':null,o=i.audio?'audio/mp4;codecs="'+i.audio+'"':null,a={};for(var s in t)a[s]={audioContentType:o,videoContentType:r},e.contentProtection&&e.contentProtection[s]&&e.contentProtection[s].pssh&&(a[s].pssh=e.contentProtection[s].pssh),"string"==typeof t[s]&&(a[s].url=t[s]);return Qr.mergeOptions(t,a)}(n,i,r);a&&(e.currentSource().keySystems=a,!a||e.eme?11!==Qr.browser.IE_VERSION&&e.eme.initializeMediaKeys&&function(t,e){return t.reduce((function(t,n){if(!n.contentProtection)return t;var i=e.reduce((function(t,e){var i=n.contentProtection[e];return i&&i.pssh&&(t[e]={pssh:i.pssh}),t}),{});return Object.keys(i).length&&t.push(i),t}),[])}(r?o.concat([r]):o,Object.keys(n)).forEach((function(t){e.eme.initializeMediaKeys({keySystems:t})})):Qr.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"))},dd=function(){if(!t.localStorage)return null;var e=t.localStorage.getItem("videojs-vhs");if(!e)return null;try{return JSON.parse(e)}catch(t){return null}};ud.supportsNativeHls=function(){if(!n||!n.createElement)return!1;var t=n.createElement("video");return!!Qr.getTech("Html5").isSupported()&&["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some((function(e){return/maybe|probably/i.test(t.canPlayType(e))}))}(),ud.supportsNativeDash=!!(n&&n.createElement&&Qr.getTech("Html5").isSupported())&&/maybe|probably/i.test(n.createElement("video").canPlayType("application/dash+xml")),ud.supportsTypeNatively=function(t){return"hls"===t?ud.supportsNativeHls:"dash"===t&&ud.supportsNativeDash},ud.isSupported=function(){return Qr.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var hd=function(e){function i(t,i,r){var o;if(o=e.call(this,i,Qr.mergeOptions(r.hls,r.vhs))||this,r.hls&&Object.keys(r.hls).length&&Qr.log.warn("Using hls options is deprecated. Use vhs instead."),i.options_&&i.options_.playerId){var a=Qr(i.options_.playerId);a.hasOwnProperty("hls")||Object.defineProperty(a,"hls",{get:function(){return Qr.log.warn("player.hls is deprecated. Use player.tech().vhs instead."),i.trigger({type:"usage",name:"hls-player-access"}),jt(o)},configurable:!0}),a.hasOwnProperty("vhs")||Object.defineProperty(a,"vhs",{get:function(){return Qr.log.warn("player.vhs is deprecated. Use player.tech().vhs instead."),i.trigger({type:"usage",name:"vhs-player-access"}),jt(o)},configurable:!0}),a.hasOwnProperty("dash")||Object.defineProperty(a,"dash",{get:function(){return Qr.log.warn("player.dash is deprecated. Use player.tech().vhs instead."),jt(o)},configurable:!0}),o.player_=a}if(o.tech_=i,o.source_=t,o.stats={},o.ignoreNextSeekingEvent_=!1,o.setOptions_(),o.options_.overrideNative&&i.overrideNativeAudioTracks&&i.overrideNativeVideoTracks)i.overrideNativeAudioTracks(!0),i.overrideNativeVideoTracks(!0);else if(o.options_.overrideNative&&(i.featuresNativeVideoTracks||i.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");return o.on(n,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],(function(t){var e=n.fullscreenElement||n.webkitFullscreenElement||n.mozFullScreenElement||n.msFullscreenElement;e&&e.contains(o.tech_.el())&&o.masterPlaylistController_.smoothQualityChange_()})),o.on(o.tech_,"seeking",(function(){this.ignoreNextSeekingEvent_?this.ignoreNextSeekingEvent_=!1:this.setCurrentTime(this.tech_.currentTime())})),o.on(o.tech_,"error",(function(){this.tech_.error()&&this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()})),o.on(o.tech_,"play",o.play),o}Bt(i,e);var r=i.prototype;return r.setOptions_=function(){var t=this;if(this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.handleManifestRedirects=!1!==this.options_.handleManifestRedirects,this.options_.limitRenditionByPlayerDimensions=!1!==this.options_.limitRenditionByPlayerDimensions,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.smoothQualityChange=this.options_.smoothQualityChange||!1,this.options_.useBandwidthFromLocalStorage=void 0!==this.source_.useBandwidthFromLocalStorage?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,this.options_.handlePartialData=this.options_.handlePartialData||!1,"number"!=typeof this.options_.blacklistDuration&&(this.options_.blacklistDuration=300),"number"!=typeof this.options_.bandwidth&&this.options_.useBandwidthFromLocalStorage){var e=dd();e&&e.bandwidth&&(this.options_.bandwidth=e.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-bandwidth-from-local-storage"})),e&&e.throughput&&(this.options_.throughput=e.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-throughput-from-local-storage"}))}"number"!=typeof this.options_.bandwidth&&(this.options_.bandwidth=El.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===El.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","limitRenditionByPlayerDimensions","bandwidth","smoothQualityChange","customTagParsers","customTagMappers","handleManifestRedirects","cacheEncryptionKeys","handlePartialData"].forEach((function(e){void 0!==t.source_[e]&&(t.options_[e]=t.source_[e])})),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio},r.src=function(e,n){var i,r=this;e&&(this.setOptions_(),this.options_.src=0===(i=this.source_.src).toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")?JSON.parse(i.substring(i.indexOf(",")+1)):i,this.options_.tech=this.tech_,this.options_.externVhs=ud,this.options_.sourceType=mo(n),this.options_.seekTo=function(t){r.tech_.setCurrentTime(t)},this.masterPlaylistController_=new nd(this.options_),this.playbackWatcher_=new od(Qr.mergeOptions(this.options_,{seekable:function(){return r.seekable()},media:function(){return r.masterPlaylistController_.media()},masterPlaylistController:this.masterPlaylistController_})),this.masterPlaylistController_.on("error",(function(){var t=Qr.players[r.tech_.options_.playerId],e=r.masterPlaylistController_.error;"object"!=typeof e||e.code?"string"==typeof e&&(e={message:e,code:3}):e.code=3,t.error(e)})),this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):ud.STANDARD_PLAYLIST_SELECTOR.bind(this),this.masterPlaylistController_.selectInitialPlaylist=ud.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},set:function(t){this.masterPlaylistController_.selectPlaylist=t.bind(this)}},throughput:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function(t){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=t,this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.bandwidth},set:function(t){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=t,this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function(){var t,e=1/(this.bandwidth||1);return t=this.throughput>0?1/this.throughput:0,Math.floor(1/(e+t))},set:function(){Qr.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:function(){return r.bandwidth||0},enumerable:!0},mediaRequests:{get:function(){return r.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return r.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return r.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function(){return r.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return r.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return r.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return r.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0},buffered:{get:function(){return Bu(r.tech_.buffered())},enumerable:!0},currentTime:{get:function(){return r.tech_.currentTime()},enumerable:!0},currentSource:{get:function(){return r.tech_.currentSource_},enumerable:!0},currentTech:{get:function(){return r.tech_.name_},enumerable:!0},duration:{get:function(){return r.tech_.duration()},enumerable:!0},master:{get:function(){return r.playlists.master},enumerable:!0},playerDimensions:{get:function(){return r.tech_.currentDimensions()},enumerable:!0},seekable:{get:function(){return Bu(r.tech_.seekable())},enumerable:!0},timestamp:{get:function(){return Date.now()},enumerable:!0},videoPlaybackQuality:{get:function(){return r.tech_.getVideoPlaybackQuality()},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.tech_.on("bandwidthupdate",(function(){r.options_.useBandwidthFromLocalStorage&&function(e){if(!t.localStorage)return!1;var n=dd();n=n?Qr.mergeOptions(n,e):e;try{t.localStorage.setItem("videojs-vhs",JSON.stringify(n))}catch(t){return!1}}({bandwidth:r.bandwidth,throughput:Math.round(r.throughput)})})),this.masterPlaylistController_.on("selectedinitialmedia",(function(){var t,e;e=(t=r).playlists,t.representations=function(){return e&&e.master&&e.master.playlists?e.master.playlists.filter((function(t){return!Xu(t)})).map((function(e,n){return new id(t,e,e.id)})):[]}})),this.masterPlaylistController_.sourceUpdater_.on("ready",(function(){var t=r.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader;cd({player:r.player_,sourceKeySystems:r.source_.keySystems,media:r.playlists.media(),audioMedia:t&&t.media(),mainPlaylists:r.playlists.master.playlists})})),this.on(this.masterPlaylistController_,"progress",(function(){this.tech_.trigger("progress")})),this.on(this.masterPlaylistController_,"firstplay",(function(){this.ignoreNextSeekingEvent_=!0})),this.setupQualityLevels_(),this.tech_.el()&&(this.mediaSourceUrl_=t.URL.createObjectURL(this.masterPlaylistController_.mediaSource),this.tech_.src(this.mediaSourceUrl_)))},r.setupQualityLevels_=function(){var t=this,e=Qr.players[this.tech_.options_.playerId];e&&e.qualityLevels&&!this.qualityLevels_&&(this.qualityLevels_=e.qualityLevels(),this.masterPlaylistController_.on("selectedinitialmedia",(function(){var e,n;e=t.qualityLevels_,(n=t).representations().forEach((function(t){e.addQualityLevel(t)})),ld(e,n.playlists)})),this.playlists.on("mediachange",(function(){ld(t.qualityLevels_,t.playlists)})))},i.version=function(){return{"@videojs/http-streaming":"2.2.4","mux.js":"5.6.7","mpd-parser":"0.14.0","m3u8-parser":"4.5.0","aes-decrypter":"3.1.0"}},r.version=function(){return this.constructor.version()},r.canChangeType=function(){return Fc.canChangeType()},r.play=function(){this.masterPlaylistController_.play()},r.setCurrentTime=function(t){this.masterPlaylistController_.setCurrentTime(t)},r.duration=function(){return this.masterPlaylistController_.duration()},r.seekable=function(){return this.masterPlaylistController_.seekable()},r.dispose=function(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.masterPlaylistController_&&this.masterPlaylistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.player_&&(delete this.player_.vhs,delete this.player_.dash,delete this.player_.hls),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.tech_&&delete this.tech_.hls,this.mediaSourceUrl_&&t.URL.revokeObjectURL&&(t.URL.revokeObjectURL(this.mediaSourceUrl_),this.mediaSourceUrl_=null),e.prototype.dispose.call(this)},r.convertToProgramTime=function(t,e){return fl({playlist:this.masterPlaylistController_.media(),time:t,callback:e})},r.seekToProgramTime=function(t,e,n,i){return void 0===n&&(n=!0),void 0===i&&(i=2),pl({programTime:t,playlist:this.masterPlaylistController_.media(),retryCount:i,pauseAfterSeek:n,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:e})},i}(Qr.getComponent("Component")),fd={name:"videojs-http-streaming",VERSION:"2.2.4",canHandleSource:function(t,e){void 0===e&&(e={});var n=Qr.mergeOptions(Qr.options,e);return fd.canPlayType(t.type,n)},handleSource:function(t,e,n){void 0===n&&(n={});var i=Qr.mergeOptions(Qr.options,n);return e.vhs=new hd(t,e,i),Qr.hasOwnProperty("hls")||Object.defineProperty(e,"hls",{get:function(){return Qr.log.warn("player.tech().hls is deprecated. Use player.tech().vhs instead."),e.vhs},configurable:!0}),e.vhs.xhr=il(),e.vhs.src(t.src,t.type),e.vhs},canPlayType:function(t,e){void 0===e&&(e={});var n=Qr.mergeOptions(Qr.options,e).vhs.overrideNative,i=void 0===n?!Qr.browser.IS_ANY_SAFARI:n,r=mo(t);return!r||ud.supportsTypeNatively(r)&&!i?"":"maybe"}};return gu("avc1.4d400d,mp4a.40.2")&&Qr.getTech("Html5").registerSourceHandler(fd,0),Qr.VhsHandler=hd,Object.defineProperty(Qr,"HlsHandler",{get:function(){return Qr.log.warn("videojs.HlsHandler is deprecated. Use videojs.VhsHandler instead."),hd},configurable:!0}),Qr.VhsSourceHandler=fd,Object.defineProperty(Qr,"HlsSourceHandler",{get:function(){return Qr.log.warn("videojs.HlsSourceHandler is deprecated. Use videojs.VhsSourceHandler instead."),fd},configurable:!0}),Qr.Vhs=ud,Object.defineProperty(Qr,"Hls",{get:function(){return Qr.log.warn("videojs.Hls is deprecated. Use videojs.Vhs instead."),ud},configurable:!0}),Qr.use||(Qr.registerComponent("Hls",ud),Qr.registerComponent("Vhs",ud)),Qr.options.vhs=Qr.options.vhs||{},Qr.options.hls=Qr.options.hls||{},Qr.registerPlugin?Qr.registerPlugin("reloadSourceOnError",sd):Qr.plugin("reloadSourceOnError",sd),Qr}(window,document)}).call(this,n(299).Buffer)},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},a=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},s=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(a(arguments[e]));return t},u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.BackboneShim=void 0;var l=u(n(3));e.BackboneShim=function(t){return function(e){return t&&Object.keys(t).forEach((function(n){e.prototype[n]=t[n]})),function(n){function i(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];var a,u=this;return t.defaults&&(e.prototype instanceof l.default.View&&(a=o(o(o({},t.defaults),t),i[0]),i[0]=a),e.prototype instanceof l.default.Model&&(a=o(o(o({},t.defaults),t),i[1]),i[1]=a)),u=n.apply(this,s(i))||this,t.defaults&&a&&(u.options=o(o({},a),u.options)),u}return r(i,n),i}(e)}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(3)),o=i(n(0)),a={getExtentsFromDimensions:function(t,e,n,i,r,o){var a=this.getExtentsPointsFromDimensions(t,e,n,i,r,o);return{x1:Math.round(Math.min(a[0].x,a[1].x,a[2].x,a[3].x)),y1:Math.round(Math.min(a[0].y,a[1].y,a[2].y,a[3].y)),x2:Math.round(Math.max(a[0].x,a[1].x,a[2].x,a[3].x)),y2:Math.round(Math.max(a[0].y,a[1].y,a[2].y,a[3].y))}},getExtentsPointsFromDimensions:function(t,e,n,i,r,o){if(t-=o,e-=o,n+=2*o,i+=2*o,0!==r){var a=t+n/2,s=e+i/2;return[Math.rotateCoord(t,e,a,s,r),Math.rotateCoord(t+n,e,a,s,r),Math.rotateCoord(t+n,e+i,a,s,r),Math.rotateCoord(t,e+i,a,s,r)]}return[new window.CerosMath.Point(t,e),new window.CerosMath.Point(t+n,e),new window.CerosMath.Point(t+n,e+i),new window.CerosMath.Point(t,e+i)]},getExtentsFromObjectExtentsInsideSmartGroup:function(t,e){var n=e.transformPointFromIsolationModeToRotatedPageCoordinateSpace(new window.CerosMath.Point(t.x1,t.y1)),i=e.transformPointFromIsolationModeToRotatedPageCoordinateSpace(new window.CerosMath.Point(t.x2,t.y2));return{x1:n.x,y1:n.y,xMidpoint:0,yMidpoint:0,x2:i.x,y2:i.y}},getBoundingExtentsFromObjectExtentsInsideSmartgroup:function(t,e){var n=e.transformPointFromIsolationModeToRotatedPageCoordinateSpace(new window.CerosMath.Point(t.x1,t.y1)),i=e.transformPointFromIsolationModeToRotatedPageCoordinateSpace(new window.CerosMath.Point(t.x2,t.y2)),r=Math.min(n.x,i.x),o=Math.max(n.x,i.x),a=Math.min(n.y,i.y),s=Math.max(n.y,i.y);return{x1:r,y1:a,xMidpoint:o-(o-r)/2,yMidpoint:s-(s-a)/2,x2:o,y2:s}},createExtentsFromCoordinates:function(t,e,n,i){return{x1:t,y1:e,xMidpoint:t+(n-t)/2,yMidpoint:e+(i-e)/2,x2:n,y2:i}},createExtentsFromSelectedComponentCollection:function(t){var e=t.getLeftmostX(!0),n=t.getTopmostY(!0),i=t.getRightmostX(!0),r=t.getBottommostY(!0);return this.createExtentsFromCoordinates(e,n,i,r)},getSmallestContainingRectangle:function(){var t,e,n,i,a;return o.default.each(arguments,(function(s){a=s instanceof r.default.Model&&o.default.isFunction(s.getExtents)?s.getExtents():s,void 0===t?(t=a.x1,e=a.y1,n=a.x2,i=a.y2):(t=Math.min(t,a.x1),e=Math.min(e,a.y1),n=Math.max(n,a.x2),i=Math.max(i,a.y2))})),0===arguments.length&&(t=0,e=0,n=0,i=0),{x1:t,y1:e,x2:n,y2:i}},getSmallestContainingRectangleInPageCoords:function(){var t,e,n,i,r;return o.default.each(arguments,(function(o){r=o.getExtentsInPageCoords(),void 0===t?(t=r.x1,e=r.y1,n=r.x2,i=r.y2):(t=Math.min(t,r.x1),e=Math.min(e,r.y1),n=Math.max(n,r.x2),i=Math.max(i,r.y2))})),0===arguments.length&&(t=0,e=0,n=0,i=0),{x1:t,y1:e,x2:n,y2:i}},createHoverArea:function(t,e,n){var i,r,o,a,s=[],u=n?1:0;return i=t.y1<e.y1?t:e,s.push({x:i.x1,y:i.y1}),s.push({x:i.x2+u,y:i.y1}),(a=t.x2>e.x2?t:e)!==i&&s.push({x:a.x2+u,y:a.y1}),s.push({x:a.x2+u,y:a.y2+u}),(r=t.y2>e.y2?t:e)!==a&&s.push({x:r.x2+u,y:r.y2+u}),s.push({x:r.x1,y:r.y2+u}),(o=t.x1<e.x1?t:e)!==r&&s.push({x:o.x1,y:o.y2+u}),o!==i&&s.push({x:o.x1,y:o.y1}),s}};e.default=a},function(t,e,n){"use strict";var i=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},r=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(i(arguments[e]));return t},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.CssUtils=void 0;var a,s,u=o(n(0)),l=o(n(4)),c=n(85);!function(t){t.scale="scale",t.skew="skew",t.rotate="rotate",t.matrix="matrix",t.translate3d="translate3d",t.translateX="translateX",t.translateY="translateY",t.translateZ="translateZ"}(a||(a={})),function(t){t.matrix3d="matrix3d",t.translate="translate",t.scale3d="scale3d",t.scaleX="scaleX",t.scaleY="scaleY",t.scaleZ="scaleZ",t.rotate3d="rotate3d",t.rotateX="rotateX",t.rotateY="rotateY",t.rotateZ="rotateZ",t.skewX="skewX",t.skewY="skewY",t.perspective="perspective",t.none="none",t.initial="initial",t.inherit="inherit"}(s||(s={}));var d=function(){function t(){}return t.setTransformToElement=function(t,e){if(t&&t.length){var n=t[0].style.transform;t.css("transform",this.setTransformProperty(n,e))}},t.setTransformProperty=function(e,n){e&&"none"!==e||(e="");var i=[s.matrix3d,s.translate,s.scale3d,s.scaleX,s.scaleY,s.scaleZ,s.rotate3d,s.rotateX,s.rotateY,s.rotateZ,s.skewX,s.skewY,s.perspective].map((function(n){return t.getUnsupportedString(e,n)})).filter((function(t){return!!t})),o=[a.translateX,a.translateY,a.translateZ].map((function(i){var r=t.getValueFromProperty(e,i),o=n[i];return void 0!==o?t.buildProperty(i,o):t.buildProperty(i,r)})),u=t.getScale(e),l=t.getSkew(e),c=t.getValueFromProperty(e,a.rotate),d=t.getTranslate(e),h=t.getMatrix(e);return r([void 0!==n.scale?t.buildScaleTransform(n.scale):t.buildScaleTransform(u),void 0!==n.skew?t.buildSkewTransform(n.skew):t.buildSkewTransform(l),void 0!==n.rotate?t.buildRotationTransform(n.rotate):t.buildRotationTransform(c),void 0!==n.translate3d?t.buildTranslateTransform(n.translate3d):t.buildTranslateTransform(d),void 0!==n.matrix?t.buildMatrixTransform(n.matrix):t.buildMatrixTransform(h)],o,i).filter((function(t){return!!t})).join(" ")},t.setShadowToElement=function(e,n,i){var r=t.convertShadowObjectToCssFilter(e,n);i.css("-webkit-filter",r),i.css("filter",r)},t.convertShadowObjectToCssFilter=function(t,e){var n="";if(u.default.isEmpty(t))return n;var i={x:t.x||0,y:t.y||0};if(e&&0!==e){e=Math.toRad(e);var r=i.x*Math.cos(e)+i.y*Math.sin(e),o=-1*i.x*Math.sin(e)+i.y*Math.cos(e);i.x=r,i.y=o}n+="drop-shadow(",n+=Math.round(i.x)+"px",n+=" "+Math.round(i.y)+"px";var a=l.default.webkit?4:2;return n+=t.blur?" "+Math.round(t.blur/a)+"px":" 0",n+=" "+t.color,n+=")"},t.getValueFromProperty=function(e,n){var i=new RegExp(n+"\\(.*?\\)","g"),r=e.match(i);if(!r)return null;var o=r[0].match(t.transformValueRegEx);return o?Number.parseFloat(o[0]):null},t.getUnsupportedString=function(t,e){var n=new RegExp(e+"\\(.*?\\)","g"),i=t.match(n);return i?i[0]:null},t.getScale=function(t){return this.getXYAll(a.scale,t)},t.getSkew=function(t){return this.getXYAll(a.skew,t)},t.getXYAll=function(e,n){var i=new RegExp(e+"\\(.*?\\)","g"),r=n.match(i);if(!r)return null;var o=r[0].match(t.transformValueRegEx);return o&&2===o.length?{x:Number.parseFloat(o[0]),y:Number.parseFloat(o[1])}:o&&1===o.length?{all:Number.parseFloat(o[0])}:null},t.getTranslate=function(e){var n=new RegExp(a.translate3d+"\\(.*?\\)","g"),i=e.match(n);if(!i)return null;var r=i[0].match(t.transformValueRegEx);return r&&3===r.length?{x:Number.parseFloat(r[0]),y:Number.parseFloat(r[1]),z:Number.parseFloat(r[2])}:null},t.getMatrix=function(e){var n=new RegExp(a.matrix+"\\(.*?\\)","g"),i=e.match(n);if(!i)return null;var r=i[0].match(t.transformValueRegEx);return r&&6===r.length?{scaleX:Number.parseFloat(r[0]),skewY:Number.parseFloat(r[1]),skewX:Number.parseFloat(r[2]),scaleY:Number.parseFloat(r[3]),translateX:Number.parseFloat(r[4]),translateY:Number.parseFloat(r[5])}:null},t.buildProperty=function(t,e){return e||0===e?t+"("+e+")":""},t.buildScaleTransform=function(t){return t?t.all?a.scale+"("+t.all+")":a.scale+"("+t.x+", "+t.y+")":""},t.buildSkewTransform=function(t){return t?t.all?a.skew+"("+t.all+"deg)":a.skew+"("+t.x+"deg, "+t.y+"deg)":""},t.buildTranslateTransform=function(t){return t?a.translate3d+"("+t.x+", "+t.y+", "+t.z+")":""},t.buildMatrixTransform=function(t){if(t instanceof Array){if(6!==t.length)return"";t={scaleX:t[0],skewY:t[1],skewX:t[2],scaleY:t[3],translateX:t[4],translateY:t[5]}}return t?a.matrix+"("+t.scaleX+", "+t.skewY+", "+t.skewX+", "+t.scaleY+", "+t.translateX+", "+t.translateY+")":""},t.buildRotationTransform=function(t){return t||0===t?a.rotate+"("+t+"deg)":""},t.computeEffect=function(e,n){var i=e[c.ImageEffects.BRIGHTNESS.NAME],r=e[c.ImageEffects.CONTRAST.NAME],o=e[c.ImageEffects.HUEROTATE.NAME],a=e[c.ImageEffects.SATURATE.NAME],s=e[c.ImageEffects.SEPIA.NAME],l=e[c.ImageEffects.INVERT.NAME],d="",h="",f="";(n||!u.default.isNil(i)&&i!==c.ImageEffects.defaultValueOf(c.ImageEffects.BRIGHTNESS.NAME))&&(i+=100,d=t.createImageEffectCssString(c.ImageEffects.BRIGHTNESS,i)),(n||!u.default.isNil(r)&&r!==c.ImageEffects.defaultValueOf(c.ImageEffects.CONTRAST.NAME))&&(r+=100,h=this.createImageEffectCssString(c.ImageEffects.CONTRAST,r)),(n||!u.default.isNil(a)&&a!==c.ImageEffects.defaultValueOf(c.ImageEffects.SATURATE.NAME))&&(0===(a+=100)&&(a=1),f=this.createImageEffectCssString(c.ImageEffects.SATURATE,a));var p={};return p[c.ImageEffects.BRIGHTNESS.NAME]=d,p[c.ImageEffects.CONTRAST.NAME]=h,p[c.ImageEffects.SATURATE.NAME]=f,p[c.ImageEffects.HUEROTATE.NAME]=this.createEffectStringIfPresent(o,c.ImageEffects.HUEROTATE,n),p[c.ImageEffects.SEPIA.NAME]=this.createEffectStringIfPresent(s,c.ImageEffects.SEPIA,n),p[c.ImageEffects.INVERT.NAME]=this.createEffectStringIfPresent(l,c.ImageEffects.INVERT,n),c.ImageEffects.computeBrowserImageFilter(p)},t.createEffectStringIfPresent=function(e,n,i){return i||!u.default.isNil(e)&&e!==c.ImageEffects.defaultValueOf(n.NAME)?t.createImageEffectCssString(n,e):""},t.createImageEffectCssString=function(t,e){return t.NAME+"("+e+t.UNIT+")"},t.getCurrentEffects=function(e){var n={},i=e.css("filter");if(i){var r=i.match(/brightness\((.*?)\)/);n[c.ImageEffects.BRIGHTNESS.NAME]=t.formatEffect(c.ImageEffects.BRIGHTNESS,r);var o=i.match(/contrast\((.*?)\)/);n[c.ImageEffects.CONTRAST.NAME]=t.formatEffect(c.ImageEffects.CONTRAST,o);var a=i.match(/hue-rotate\((.*?)\)/);n[c.ImageEffects.HUEROTATE.NAME]=t.formatEffect(c.ImageEffects.HUEROTATE,a);var s=i.match(/saturate\((.*?)\)/);n[c.ImageEffects.SATURATE.NAME]=t.formatEffect(c.ImageEffects.SATURATE,s);var u=i.match(/sepia\((.*?)\)/);n[c.ImageEffects.SEPIA.NAME]=t.formatEffect(c.ImageEffects.SEPIA,u);var l=i.match(/invert\((.*?)\)/);n[c.ImageEffects.INVERT.NAME]=t.formatEffect(c.ImageEffects.INVERT,l)}return n},t.formatEffect=function(t,e){return e?"hue-rotate"===t.NAME?parseFloat(e[1]):100*parseFloat(e[1])+t.MIN:t.DEFAULT},t.transformValueRegEx=/(-?\d+\.?\d*)/g,t}();e.CssUtils=d},function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.ObjectStateInvoker=void 0;var r=function(){function t(){}return t.invokeObjectState=function(t,e,n,i){void 0===i&&(i={});var r=e.hasChangesComparedTo(n);t.applyTransition(e.config.transition,e.getChangedPropertiesToTransition(r)),i.position||!r.position&&!r.border||t._applyPosition(e.config.x,e.config.y,e.config.border),!i.dimensions&&r.dimension&&t._applyDimensions(e.config.width,e.config.height),r.opacity&&t._applyOpacity(e.config.opacity),r.rotation&&t._applyRotation(e.config.rotation),r.border&&t._applyBorder(e.config.border),i.shadow||!r.shadow&&!r.rotation||t._applyShadow(e.config.shadow,e.config.rotation),!i.background&&r.background&&t._applyBackground(e.config.background,e.config.transition)},t.invokeAbstractImageObjectState=function(e,n,i,r){var o=n.hasChangesComparedTo(i);(o.effects||o.shadow)&&e._applyImageEffects(n.config.effects,n.config.shadow,!0),o.flip&&e._applyImageFlip({flipHorizontal:n.config.flipHorizontal,flipVertical:n.config.flipVertical}),o.blendingMode&&e._applyBlendingMode(n.config.blendingMode),(r?t.invokeScaleableObjectState:t.invokeObjectState)(e,n,i,{border:!0,shadow:!0})},t.invokeTextObjectState=function(e,n,i){var r=n.hasChangesComparedTo(i);if(!e.isParagraphMode())return r.font&&e.setFontColor(n.config.defaultSpan),void t.invokeObjectState(e,n,i);r.font&&(e.setDefaultTextStyle(n.config.defaultSpan),e.applyDefaultFont(n.config.defaultSpan),e.applyLineHeight(n.config.leading,n.config.defaultSpan)),r.justify&&e.applyJustification(n.config.justify),r.lineHeight&&!r.font&&e.applyLineHeight(n.config.leading),t.invokeObjectState(e,n,i)},t.invokeScaleableObjectState=function(e,n,r,o){void 0===o&&(o={});var a=n.hasChangesComparedTo(r);a.dimension&&e.applyScale(n.config.width,n.config.height,n.config.x,n.config.y),a.position&&!a.dimension&&e.applyPositionToScaledObject(n.config.x,n.config.y,n.config.width,n.config.height),t.invokeObjectState(e,n,r,i(i({},o),{position:!0,dimensions:!0}))},t.invokeSVGShapeObjectState=function(e,n,i,r){void 0===r&&(r={});var o=n.hasChangesComparedTo(i);r.shadow=!0,(o.shadow||o.rotation)&&e._applyShadow(n.config.shadow,n.config.rotation),o.stroke&&(e._applyBorder({width:n.config.lineWidth,color:n.config.color}),r.border=!0),o.linePosition&&e.applyPoints([{x:n.config.x,y:n.config.y},{x:n.config.x2,y:n.config.y2}],n.config.transition),o.path&&e.applyPath(n.config.path,n.config.isClosedPath,n.config.transition),t.invokeObjectState(e,n,i,r)},t}();e.ObjectStateInvoker=r},function(t,e,n){"use strict";var i,r=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},o=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(r(arguments[e]));return t},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.VIEW_DEFAULTS=e.TEXT_PLUS_MODEL_DEFAULTS=e.MODEL_DEFAULTS=e.TextRenderMode=e.properties=e.MAX_TITLE_LENGTH=e.HTML_TAG_OPTIONS=e.COLUMN_OVERRUN_PADDING_PERCENTAGE=e.DEFAULT_HTML_TAG_NAME=e.DEFAULT_HTML_TAG=void 0;var s=a(n(0));e.DEFAULT_HTML_TAG="p",e.DEFAULT_HTML_TAG_NAME="Paragraph",e.COLUMN_OVERRUN_PADDING_PERCENTAGE=2;var u,l=s.default.range(1,7).map((function(t){return{tag:"h"+t,title:"Header "+t+" <h"+t+">"}}));e.HTML_TAG_OPTIONS=o(l,[{tag:e.DEFAULT_HTML_TAG,title:e.DEFAULT_HTML_TAG_NAME+" <"+e.DEFAULT_HTML_TAG+">"}]),e.MAX_TITLE_LENGTH=40,function(t){t.TITLE="title",t.TEXT_CONTENT="textContent",t.TEXT_SPANS="textSpans",t.DEFAULT_SPAN="defaultSpan",t.INDENT="indent",t.VARIANT_GUID="variantGuid",t.VARIANT_NAME="variantName",t.FAMILY_GUID="familyGuid",t.UNDERLINE="underline",t.FONT_COLOR="fontColor",t.FONT_SIZE="fontSize",t.LETTER_SPACING="letterSpacing",t.LEADING="leading",t.TEXT_SHADOW="textShadow",t.AUTO_LEADING="autoLeading",t.JUSTIFY="justify",t.TEXT_TRANSFORM="textTransform",t.COLUMNS="columns",t.COLUMN_GAP="columnGap",t.PADDING_TOP="paddingTop",t.PADDING_RIGHT="paddingRight",t.PADDING_BOTTOM="paddingBottom",t.PADDING_LEFT="paddingLeft",t.SHOW_OVERFLOW="showOverflow",t.SYNCED="synced",t.HTML_TAG="htmlTag",t.HIDDEN_FROM_SCREEN_READERS="hiddenFromScreenReaders",t.HYPERLINK="hyperlink"}(u=e.properties||(e.properties={})),function(t){t.PARAGRAPH="paragraph",t.LINE="line",t.CHAR="char"}(e.TextRenderMode||(e.TextRenderMode={})),e.MODEL_DEFAULTS=((i={})[u.HTML_TAG]=e.DEFAULT_HTML_TAG,i[u.TITLE]="Text",i[u.TEXT_CONTENT]="",i[u.TEXT_SPANS]=[],i[u.DEFAULT_SPAN]=void 0,i[u.INDENT]=0,i[u.JUSTIFY]="left",i[u.COLUMNS]=1,i[u.COLUMN_GAP]=0,i[u.LEADING]=38,i[u.TEXT_SHADOW]={},i[u.AUTO_LEADING]=!0,i[u.TEXT_TRANSFORM]="none",i[u.PADDING_TOP]=0,i[u.PADDING_BOTTOM]=0,i[u.PADDING_RIGHT]=0,i[u.PADDING_LEFT]=0,i[u.SHOW_OVERFLOW]=!0,i[u.SYNCED]=!1,i),e.TEXT_PLUS_MODEL_DEFAULTS=s.default.pick(e.MODEL_DEFAULTS,[u.LEADING,u.PADDING_TOP,u.PADDING_BOTTOM,u.PADDING_RIGHT,u.SYNCED,u.PADDING_LEFT,u.TITLE,u.TEXT_CONTENT,u.TEXT_SPANS,u.AUTO_LEADING,u.DEFAULT_SPAN]),e.VIEW_DEFAULTS={MIN_FONT_SIZE:1,MAX_FONT_SIZE:1e3,MIN_LEADING:0,MAX_LEADING:2e3,MIN_COLUMN_GAP:0,MAX_COLUMN_GAP:100,MIN_PADDING:0,MAX_PADDING:100}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1)),o=i(n(0)),a=i(n(2)),s=i(n(55)),u=i(n(221)),l=i(n(222)),c=i(n(74)),d=i(n(223)),h=i(n(59));var f=new Set;function p(t,e,n){if(l.default.has(e))return l.default.get(e);o.default.isArray(t)||(t=[t]),o.default.isArray(e)||(e=[e]);var i={families:t,urls:e};o.default.isUndefined(n)||(i.testStrings={},o.default.isObject(n)?o.default.each(t,(function(t){o.default.isUndefined(n[t])||(i.testStrings[t]=n[t])})):o.default.each(t,(function(t){i.testStrings[t]=n})));return l.default.add(e,(function(){var e=[],n={};return o.default.each(t,(function(t){var i=new r.default.Deferred;e.push(i),n[t]=i})),d.default.load({custom:i,async:!0,fontactive:function(t){n[t].resolve()},fontinactive:function(t){n[t].reject()}}),r.default.when.apply(r.default,e).promise()}))}e.default={get:function(t){return l.default.get(t)},addRasterImage:function(t,e,n){var i=function(t,e,n){o.default.isNull(e)&&(e="full");var i=t+"|"+e;h.default.isValidCropObject(n)&&(i+="|"+h.default.createCropDimensionsString(n));return i}(t,e,n);return l.default.add(i,(function(){return s.default.getOrCreateRasterImageResource(t,e,n)}))},addVectorImage:function(t,e){return l.default.add(t,(function(){return f.has(t)?e=!0:f.add(t),new c.default(t,void 0,e,void 0,!0).getPromise()}))},addCss:function(t){return l.default.has(t)?l.default.get(t):l.default.add(t,(function(){return new u.default(t).deferred.promise()}))},addGoogleWebFont:function(t){return a.default.googleFontUrl?function(t){return p(t=t.split(":")[0],a.default.googleFontUrl+"/"+t+".css",void 0)}(t):l.default.has(t)?l.default.get(t):l.default.add(t,(function(){var e=new r.default.Deferred;return d.default.load({google:{families:[t]},async:!0,fontactive:function(){e.resolve()},fontinactive:function(){e.reject()}}),e.promise()}))},addCustomWebFont:p,has:function(t){return l.default.has(t)},cancelPending:function(){return l.default.cancelPending()},pause:l.default.pause,resume:l.default.resume,onPriorityQueueCompletion:l.default.onPriorityQueueCompletion,onAllResourcesLoaded:l.default.onAllResourcesLoaded}},function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return r(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s,u=a(n(0)),l=a(n(3)),c=a(n(1)),d=a(n(6)),h=a(n(2)),f=o(n(17)),p=a(n(19)),g={tablet:{height:4,width:3},mobile:{height:16,width:9}},m={tablet:{height:1.2,width:1.11},mobile:{height:1.2,width:1.11},desktop:{height:1,width:1}},v={tablet:110,mobile:90,desktop:70},y={tablet:50,mobile:50,desktop:0},_=["desktop","tablet","mobile"],b={CHANGE_PREVIEWER_FRAME_SIZE:"changePreviewerFrameSize",UPDATE_URL:"updateUrl",RELOAD_TRIGGERED:"reloadTriggered"};e.default=u.default.extend({},l.default.Events,{fullScreenMode:!1,previewerFrameSize:"desktop",triggerReload:function(){s.trigger("reload"),this.trigger(b.RELOAD_TRIGGERED)},setPreviewerFrameSize:function(t){this.previewerFrameSize=t,this.triggerFrameSizeUrlUpdate(t),this.trigger(this.EVENTS.CHANGE_PREVIEWER_FRAME_SIZE,{variant:t})},getPreviewerFrameSize:function(){return this.previewerFrameSize},setDocVersion:function(t){s=t},isDocVersionSet:function(){return!u.default.isUndefined(s)},doesVariantExist:function(t){return u.default.includes(u.default.keys(s.get("overrides")),t)||"desktop"===t},hasVariants:function(){return h.default.allowAdaptiveLayouts&&this.getNumberOfExistingVariants()>0},getNumberOfExistingVariants:function(){return u.default.keys(s.get("overrides")).length},getExistingVariants:function(){return u.default.keys(s.get("overrides"))},getLayoutSettings:function(){return s.get("layoutSettings")},isViewportWidthDetection:function(){return"viewport-width"===this.getLayoutSettings().layoutPrimarySetting},getExperienceContainerDimensions:function(t){var e=this.fullScreenMode;if(h.default.previewMode&&h.default.allowAdaptiveLayouts&&!e){var n=this.getPreviewerFrameSize(),i=t.height()-(v[n]+y[n]),r=Math.max(i/m[n].height,300),o="desktop"===n?t.width():r*(g[n].width/g[n].height);return{width:f.toNextMultiple(o,2),height:f.toNextMultiple(r,2)}}return{width:t.width(),height:t.height()}},getExperienceContainerWidth:function(t){return this.getExperienceContainerDimensions(t).width},getExperienceContainerHeight:function(t){return this.getExperienceContainerDimensions(t).height},detectPreviewerFrameSizeFromUrl:function(){if(h.default.previewMode&&h.default.allowAdaptiveLayouts){var t=this.getPreviewerFrameSize(),e=this.getFrameSizeFromUrl();d.default.debug("Previewer frame size based on URL: "+e),this.isValidFrameSize(e)?e!==t&&this.setPreviewerFrameSize(e):(d.default.debug("Frame size from URL is invalid, updating URL to default frame size"),this.triggerFrameSizeUrlUpdate("desktop"))}},triggerFrameSizeUrlUpdate:function(t){this.trigger(this.EVENTS.UPDATE_URL,t)},getFrameSizeFromUrl:function(){return this.hasFrameSizeOnUrl()?p.default.parseLayoutFromLocation():"desktop"},getLayoutFromQueryParam:function(){return p.default.getLayoutFromQueryParam()},hasFrameSizeOnUrl:function(){return!!p.default.parseLayoutFromLocation()},isValidVariantName:function(t){return u.default.includes(_,t)},isValidFrameSize:function(t){return this.isValidVariantName(t)},getLeftRightBorderWidth:function(t,e,n){return(n||this.getExperienceContainerDimensions(t).width)*(m[e].width-1)/2},getTopBottomBorderWidth:function(t,e,n){return(n||this.getExperienceContainerDimensions(t).height)*(m[e].height-1)/2},setFullScreenMode:function(t){this.fullScreenMode=t;var e=c.default(".adaptive-layouts-frame");this.fullScreenMode?(c.default(".previewer-selection-header").hide(),e.addClass("-full-screen-mode"),e.css({width:c.default(window).width(),height:c.default(window).height()}),c.default(window).trigger("resize")):(c.default(".previewer-selection-header").show(),e.removeClass("-full-screen-mode"),c.default(window).trigger("resize"))},VALID_VARIANT_NAMES:_,PREVIEWER_TOP_PADDING_BY_VARIANT:v,PREVIEWER_FRAME_PROPORTION_FACTORS_BY_VARIANT:m,EVENTS:b})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1)),o=i(n(8));e.default={getExperienceTitle:function(){return window.document.title},getOpenGraphTitle:function(){return window.cerosContext.docVersion.ogTitle},getOpenGraphDescription:function(){return window.cerosContext.docVersion.ogDescription},getTwitterTitle:function(){return window.cerosContext.docVersion.twitterTitle},urlForTwitter:function(t){var e={text:this.getTwitterTitle()||this.getExperienceTitle(),url:t};return o.default.appendQueryParams("https://twitter.com/share",e)},urlForLinkedIn:function(t){var e={url:t,mini:"true",title:this.getOpenGraphTitle()||this.getExperienceTitle()};return o.default.appendQueryParams("https://www.linkedin.com/shareArticle",e)},urlForPinterest:function(t,e){var n={url:t,media:e},i=this.getOpenGraphDescription()||this.getOpenGraphTitle()||this.getExperienceTitle();return i&&(n.description=i),o.default.appendQueryParams("https://pinterest.com/pin/create/button/",n)},urlForFacebook:function(t){var e={u:t};return o.default.appendQueryParams("https://www.facebook.com/sharer.php",e)},urlForEmail:function(t){var e={subject:this.getExperienceTitle(),body:"I thought you might like this. Here's a link to it on the web: "+t};return o.default.appendQueryParams("mailto:",e)},shareOnTwitter:function(t){window.open(this.urlForTwitter(t),"_blank","width=450,height=300")},shareOnLinkedIn:function(t){window.open(this.urlForLinkedIn(t),"_blank","width=520,height=570")},shareOnPinterest:function(t,e){window.open(this.urlForPinterest(t,e),"_blank","width=810,height=530")},shareOnFacebook:function(t){window.open(this.urlForFacebook(t),"_blank","width=450,height=300")},shareViaEmail:function(t){var e=document.createElement("a");e.href=this.urlForEmail(t),r.default("body").append(e),e.click(),r.default(e).remove()}}},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.BaseVisibilityInteraction=void 0;var o=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.layerTargets=e.layerTargets,i}return r(e,t),e.prototype.getModuleAction=function(){return this.pageView.module.publishedEvents.PAGE_ACTION_LAYER_VISIBILITY},e.prototype.getHoverTargets=function(){return this.layerTargets},e}(n(26).BaseInteraction);e.BaseVisibilityInteraction=o},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(1)),a=i(n(3)),s=i(n(98)),u=i(n(8));e.default=a.default.Model.extend({idAttribute:"slug",restBaseUrl:"/rest",etag:null,subRequestsPending:0,defaults:{},dateFields:[],parse:function(t,e){if(e&&!r.default.isUndefined(e.xhr)){var n=e.xhr.getResponseHeader("ETag");r.default.isString(n)&&n.length>0&&(this.etag=n)}return r.default.each(this.dateFields,(function(e){r.default.has(t,e)&&(t[e]=new s.default(t[e]))})),a.default.Model.prototype.parse.call(this,t,e)},save:function(t,e,n){var i;if(i=r.default.isObject(t)||r.default.isEmpty(t)?e||{}:n||{},!r.default.isUndefined(i.enforcePersistence)&&i.enforcePersistence){var s=i.persistenceErrorTrigger||"error:pre-condition-failed",u=i.error||o.default.noop;i.error=r.default.bind((function(t,e){412==e.status?t.trigger(s,t,e):u(t,e)}),this),r.default.isString(this.etag)&&(r.default.isObject(i.headers)||(i.headers={}),i.headers["If-Match"]=this.etag)}return r.default.isObject(t)||r.default.isEmpty(t)?e=i:n=i,a.default.Model.prototype.save.call(this,t,e,n)},getFieldValidationErrors:function(){return this.validationError},updateAndPersistFields:function(t,e){return(e=e||{}).patch=!0,this.save(t,e)},sync:function(t,e,n){return"patch"===t&&(t="update"),a.default.Model.prototype.sync.call(this,t,e,n)},url:function(t){return(t&&t.core?"":this.restBaseUrl)+this.replaceUrlContextVariables(a.default.Model.prototype.url.call(this))},replaceUrlContextVariables:function(t){return u.default.replaceUrlContextVariables(t)}})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(401)),o=i(n(30)),a=i(n(4)),s={CANVAS_BACKGROUND_TAB_HEIGHT:20,CANVAS_BACKGROUND_TAB_WIDTH:50,CANVAS_BACKGROUND_TAB_INACTIVE_COLOR:r.default.COLORS.ASH,CANVAS_BACKGROUND_TAB_ACTIVE_COLOR:r.default.COLORS.CEROS_BLUE,CANVAS_BACKGROUND_TAB_FONT_COLOR:"#9ca2a3",CANVAS_BACKGROUND_TAB_FONT:"11px Montserrat",RULER_SIZE:16,RULER_INCREMENT:10,RULER_MOUSE_THRESHOLD:3,RULER_FG_COLOR:r.default.COLORS.ASH,RULER_BG_COLOR:r.default.COLORS.PEBBLE,RULER_ALPHA:1,RULER_FONT:"10px Helvetica",RULER_FONT_SIZE:10,RULER_RESET_ICON_COLOR:r.default.COLORS.PEWTER,RULER_RESET_ICON_DASH:[1,1],RULER_ORIGIN_DASH:[3,3],RULER_ORIGIN_COLOR_1:"black",RULER_ORIGIN_COLOR_2:"white",RULER_HORIZONTAL_LABEL_OFFSET:2,RULER_VERTICAL_LABEL_OFFSET:3,RULER_NUMBER_LABEL_OFFSET:2,GUIDE_COLOR:r.default.COLORS.MAGENTA,GUIDE_HOVER_COLOR:r.default.COLORS.PINK,GUIDE_COLOR_DEL:r.default.COLORS.RED,GUIDE_LABEL_SIZE:12,GUIDE_LABEL_FONT:"10px Helvetica",GUIDE_LABEL_PADDING:2,GUIDE_LABEL_WEBKIT_OFFSET:a.default.webkit?-2:0,GUIDE_LABEL_RULER_OFFSET:3,GUIDE_LABEL_COLOR:"black",GUIDE_LABEL_TEXT_COLOR:"white",GUIDE_VERTICAL_DIRECTION:"vertical",GUIDE_HORIZONTAL_DIRECTION:"horizontal",GUIDE_HIT_THRESHOLD:10,GUIDE_SELECT_OPACITY:.3,GUIDE_INDICATOR_WIDTH:95,GUIDE_INDICATOR_HEIGHT:25,GUIDE_INDICATOR_COLOR:r.default.COLORS.PEBBLE,GUIDE_INDICATOR_FONT:"11px Montserrat",GUIDE_INDICATOR_FONT_COLOR:r.default.COLORS.WHITE,GUIDE_INPUT_BOX_EXTRA_WIDTH:12,GUIDE_INPUT_BOX_MIN_CHARS:3,GUIDE_INPUT_BOX_MAX_CHARS:5,GUIDE_INPUT_BOX_Y_MARGIN:-5,GUIDE_INPUT_BOX_HEIGHT:25,GUIDES_INPUT_BOUNDARY:5e4,GUIDES_INPUT_WRAPPER:"guide-input-wrapper",GUIDES_MOVE_CURSOR_DELAY:100,GUIDES_INPUT_SCROLL_DEBOUNCE_DELAY:500,CANVAS_LAYOUTS_COLUMN_GUTTER:20,CANVAS_LAYOUTS_ROW_GUTTER:20,SNAP_THRESHOLD:8,SMARTGUIDE_COLOR:r.default.COLORS.MAGENTA,SMARTGUIDE_WIDTH:1,SMARTGUIDE_AXIS_X:"x",SMARTGUIDE_AXIS_Y:"y",DISTANCE_GUIDE_BRACKET_LENGTH:10,DISTANCE_GUIDE_LABEL_FONT_SIZE:11,DISTANCE_GUIDE_TEXT_OFFSET:4,DISTANCE_GUIDE_TEXT_UNIT:"px",DISTANCE_GUIDE_FONT_FAMILY:"Montserrat",DISTANCE_GUIDE_VERTICAL_TEXT_ALIGNMENT:"right",DISTANCE_GUIDE_HORIZONTAL_TEXT_ALIGNMENT:"center",DISTANCE_GUIDE_TEXT_BASELINE:"middle",MASK_ITEM_DEFAULT_FILL_COLOR:"#D1D1D1",COMPONENT_FOCUS_COLOR:"rgb(0,170,210)",ISOLATION_MODE_COMPONENT_FOCUS_COLOR:r.default.COLORS.ALIEN,COMPONENT_FOCUS_DASH:[2,2],COMPONENT_FOCUS_ALPHA:.7,COMPONENT_FOCUS_LINE_WIDTH:1,COMPONENT_SELECTION_LINE_WIDTH:1,GROUP_SELECTION_COLOR:"rgb(0,170,210)",ISOLATION_MODE_GROUP_SELECTION_COLOR:r.default.COLORS.ALIEN,GUIDE_SELECTION_COLOR:r.default.COLORS.CEROS_BLUE,GROUP_SELECTION_ALPHA:.5,GROUP_SELECTION_DASH:[3,3],GENERATE_THUMBNAIL_DEBOUNCE:1e3,PIXEL_GRID_THRESHOLD:10,BROWSER_IDLE_FPS:1,BLUE_FILL_PATTERN_COLOR:[153,186,209,128],ALIEN_FILL_PATTERN_COLOR:[0,255,180,128],GREY_FILL_PATTERN_COLOR:[200,200,200,128],FILL_PATTERN_SIZE:5,KEYPRESS_TIMEOUT:200,DROPDOWN_OPTION_DIVIDER:"────────────────────",RUBBER_BAND_DASH:[3,3],RUBBER_BAND_ALPHA:.75,RUBBER_BAND_COLOR:"black",RUBBER_BAND_LINE_WIDTH:1,TEXT_EDITOR_NOCURSOR_COLOR:"rgb(0,170,210)",TEXT_EDITOR_NOCURSOR_LINE_WIDTH:1,TEXT_EDITOR_SELECTION_HIGHLIGHT_COLOR:"rgb(182,214,253)",TEXT_EDITOR_CURSOR_BLINK_SPEED:500,TEXT_EDITOR_CURSOR_RESUME_BLINK_DELAY:250,TEXT_EDITOR_CURSOR_COLOR:"#747474",TEXT_EDITOR_GUIDES_COLOR:"rgb(182,229,237)",ISOLATION_MODE_TEXT_EDITOR_NOCURSOR_COLOR:r.default.COLORS.ALIEN,ISOLATION_MODE_TEXT_EDITOR_GUIDES_COLOR:r.default.COLORS.ALIEN,ISOLATION_MODE_TEXT_EDITOR_SELECTION_HIGHLIGHT_COLOR:r.default.COLORS.ALIEN,MODE_SELECT:"select",MODE_GUIDE_SELECT:"guide-select",MODE_PAN:"pan",MODE_PAN_IN_GUIDE_SELECT:"pan-in-guide-select",MODE_RESIZE:"resize",MODE_ROTATE:"rotate",MODE_MOVE:"move",MODE_WAIT_MOVE:"wait-move",MODE_LINE:"line",MODE_SHAPE:"shape",MODE_CUSTOM_SHAPE:"custom-shape",MODE_HTML:"html",MODE_HOTSPOT:"hotspot",MODE_HOTSPOT_PATH:"hotspot-path",MODE_TEXT:"text",MODE_SCRANCHOR:"anchor",MODE_CANVAS_ADJUSTMENT:"canvas-adjustment",MODE_ICONS:"icons",MODE_COLOR_SELECT:"color-select",MODE_VGUIDE_MOVE:"vguide-move",MODE_HGUIDE_MOVE:"hguide-move",MODE_RULERS_MOVE:"rulers-move",MODE_TEXT_PLUS:"text-plus",AUTOPAN_ZONE:50,AUTOPAN_RATE:14,MOVE_TIMEOUT_MS:75,PAN_RATE:10,PAN_TO_EDGE_PADDING:10,PAN_TO_SELECTION_ZOOM_BUFFER:100,PAN_TO_SELECTION_EDGE_PADDING:100,FOLD_COLOR:r.default.COLORS.DUSTY_GRAY,FOLD_DASH:[3,3],FOLD_LABEL_FONT:"10px Helvetica",FOLD_LABEL:"   FOLD   ",HOVER_ZONE_COLOR:r.default.COLORS.CEROS_BLUE,HOVER_ZONE_OPACITY:.2,HOVER_ZONE_LINE_DASH:[4,4],DEFAULT_CANVAS_FILL_COLOR:"#FFFFFF",DEFAULT_FILL_COLOR:"#D1D1D1",DEFAULT_BORDER_COLOR:"#838383",DEFAULT_SHADOW_COLOR:"rgba(0, 0, 0, 0.5)",SCRANCHOR_BAR_COLOR:r.default.COLORS.CEROS_BLUE,SCRANCHOR_DRAG_BAR_WIDTH:2,SCRANCHOR_REST_BAR_WIDTH:1,SCRANCHOR_REST_BAR_DASH:[2],SCRANCHOR_MARKER_BG_COLOR:r.default.COLORS.LAVA_STONE,SCRANCHOR_MARKER_HIGHLIGHT_COLOR:r.default.COLORS.WHITE,SCRANCHOR_MARKER_BORDER_COLOR:r.default.COLORS.CEROS_BLUE,SCRANCHOR_MARKER_HEIGHT:17,SCRANCHOR_MARKER_TAPER:7,SCRANCHOR_MARKER_FONT_SIZE:10,SCRANCHOR_MARKER_TEXT_POSITION:10,SCRANCHOR_MARKER_TYPEFACE:"Helvetica",SCRANCHOR_MARKER_TEXT_COLOR:r.default.COLORS.CEROS_BLUE,SCRANCHOR_ANCHOR_ICON_FONT:"10px CerosIcons-Regular",SCRANCHOR_ANCHOR_ICON_GLYPH:"",SCRANCHOR_ANCHOR_ICON_RIGHT_PADDING:1,SCRANCHOR_DRAG_MARGIN:60,SCRANCHOR_LINE_GRAB_MARGIN:2,SCRANCHOR_RULER_SHADING_COLOR:o.default.fromHex(r.default.COLORS.CEROS_BLUE).set({a:.2}).toString(),SCRANCHOR_TOOLTIP_HEIGHT:12,SCRANCHOR_TOOLTIP_PADDING:4,SCRANCHOR_TOOLTIP_BG_COLOR:"#000000",SCRANCHOR_TOOLTIP_TYPEFACE:"Helvetica",SCRANCHOR_TOOLTIP_FONT_SIZE:9,SCRANCHOR_TOOLTIP_POSITION_COLOR:r.default.COLORS.WHITE,CANVAS_ADJUSTMENT_BAR_COLOR:r.default.COLORS.ALIEN,CANVAS_ADJUSTMENT_INVALID_COLOR:"#9CA2A3",CANVAS_ADJUSTMENT_DRAG_BAR_WIDTH:2,CANVAS_ADJUSTMENT_REST_BAR_WIDTH:1,CANVAS_ADJUSTMENT_REST_BAR_DASH:[2],CANVAS_ADJUSTMENT_AREA_ALPHA:.75,CANVAS_ADJUSTMENT_MARKER_LINE_WIDTH:3,CANVAS_ADJUSTMENT_MARKER_COLOR:r.default.COLORS.ALIEN,CANVAS_ADJUSTMENT_LINE_DASH:[4,4],CANVAS_ADJUSTMENT_TOOLTIP_TEXT_PADDING:2,CANVAS_ADJUSTMENT_TOOLTIP_COLOR:"black",CANVAS_ADJUSTMENT_TOOLTIP_WEBKIT_OFFSET:a.default.webkit?-2:0,CANVAS_ADJUSTMENT_TOOLTIP_SIZE:12,CANVAS_ADJUSTMENT_TOOLTIP_TEXT_COLOR:"white",CANVAS_ADJUSTMENT_INVALID_FILL_PATTERN_COLOR:[156,162,163,128],SMARTGROUPS_BREADCRUMB_HEIGHT:25,SMARTGROUPS_BREADCRUMB_FOREGROUND_COLOR:r.default.COLORS.ALIEN,SMARTGROUPS_BREADCRUMB_BACKGROUND_COLOR:r.default.COLORS.CASTLE_ROCK,SMARTGROUPS_BREADCRUMB_SEPARATOR_COLOR:r.default.COLORS.PEBBLE,SMARTGROUPS_BREADCRUMB_SEPARATOR_WIDTH:3,SMARTGROUPS_BREADCRUMB_FONT:"11px Montserrat",SMARTGROUPS_BREADCRUMB_PADDING:20,SMARTGROUPS_BREADCRUMB_STUDIO_TEXT:"Studio",ISOLATION_MODE_PROGRESS_BAR_FG_COLOR:r.default.COLORS.ALIEN,ISOLATION_MODE_PROGRESS_BAR_PROCESSING_FG_COLOR:r.default.COLORS.ALIEN,ISOLATION_MODE_PROGRESS_BAR_PROCESSING_BG_COLOR:r.default.COLORS.DUSTY_GRAY,LINE_COLOR:"rgb(0,170,210)",ISOLATION_MODE_LINE_COLOR:r.default.COLORS.ALIEN,PINNED_GROUP_BOTTOM_OFFSET:10,PINNED_ANCHOR_SIZE:20,DEFAULT_ICON_SVG_FILL_COLOR:"#D1D1D1",EMBEDDED_OBJECT_PADDING:10,EMBEDDED_OBJECT_FILL_COLOR:"#9CA2A3",EMBEDDED_OBJECT_FILL_ALPHA:1,EMBEDDED_OBJECT_OUTLINE_ALPHA:.75,EMBEDDED_OBJECT_OUTLINE_OFFSET:.5,EMBEDDED_OBJECT_STROKE_STYLE:"rgb(128,128,128)",EMBEDDED_OBJECT_LINE_WIDTH:1.0001,EMBEDDED_OBJECT_ICON_SIDE_LENGTH:45,EMBEDDED_OBJECT_FONT_SIZE_AND_FAMILY:"11px Montserrat",EMBEDDED_OBJECT_FONT_FILL_COLOR:"#FFFFFF",EMBEDDED_OBJECT_LABEL_X_ADJUSTMENT:-35,EMBEDDED_OBJECT_LABEL_Y_ADJUSTMENT:75,EMBEDDED_OBJECT_LINE_DASH_STYLE:[4,4],IMAGE_CROPPING_MASK_COLOR:"rgba(226, 227, 228, 0.6)",IMAGE_CROPPING_HANDLE_COLOR:"rgb(0,0,0)",ISOLATION_MODE_IMAGE_CROPPING_HANDLE_COLOR:r.default.COLORS.ALIEN,IMAGE_CROPPING_HANDLE_THICKNESS:5,IMAGE_CROPPING_HANDLE_THICKNESS_SMALL:3,IMAGE_CROPPING_HANDLE_LENGTH:8,IMAGE_CROPPING_SMALL_SELECTION_THRESHOLD:18,INTEGRATION_FORM_FILL_COLOR:"rgba(156, 162, 163, 0.75)",INTEGRATION_FORM_LINE_HEIGHT:20,PROGRESS_BAR_HEIGHT:6,CUSTOM_PATH_MOUSE_DISTANCE_TO_EDGE_THRESHOLD:10,CUSTOM_PATH_ENDPOINT_POINT_SIZE:8,CUSTOM_PATH_CONTROL_POINT_SIZE:5,CUSTOM_PATH_CONTROL_HANDLE_WIDTH:1,CUSTOM_PATH_ANCHOR_POINT_MOUSEOVER_TOLERANCE:15,CUSTOM_PATH_INACTIVE_ANCHOR_POINT_FILL_STYLE:"rgb(255, 255, 255)",CUSTOM_PATH_DEFAULT_DISTANCE_FOR_NEW_CONTROL_POINT:50,HOTSPOT_PATH_WITH_INTERACTIONS_STROKE_STYLE:"rgb(69,151,209)",HOTSPOT_PATH_WITHOUT_INTERACTIONS_STROKE_STYLE:"rgb(128,128,128)",HOTSPOT_PATH_GLOBAL_ALPHA:.75,TEXT_OVER_COMPONENT_DEFAULT_TEXT_SIZE:12,TEXT_OVER_COMPONENT_BACKGROUND_COLOR:"#192024",TEXT_OVER_COMPONENT_DEFAULT_TEXT_COLOR:"white",LOADING_TRANSITION_DEFAULT_TEXT:"Loading Media",LOADING_TRANSITION_DEFAULT_OPACITY:1,LOADING_TRANSITION_DEFAULT_REVERSE:!1,LOADING_TRANSITION_OPACITY_INCREMENT:.0025,LOADING_TRANSITION_DEFAULT_SHOULD_RENDER:!0,LOADING_TRANSITION_DEFAULT_SHOULD_ANIMATE:!1,LOADING_TRANSITION_WAIT_FRAMES:50,DOUBLE_CLICK_WAIT_TIME_MS:300,DOUBLE_CLICK_DETAIL:2,VERIFICATION_THAT_COPY_WAS_FROM_CEROS:"[CEROS OBJECT]",OBJECT_STATES_DEFAULT:"default",OBJECT_STATES_HOVER:"hover",OBJECT_STATES_CLICK:"click",OBJECT_STATES_COMPONENT_AFFORDANCE_OFFSET:7,DEFAULT_PAGE_NAME:"Untitled Page"};s.PAGE_TOP_OFFSET=20+s.CANVAS_BACKGROUND_TAB_HEIGHT+20,s.RULER_MAJOR=10*s.RULER_INCREMENT,s.RULER_MINOR=5*s.RULER_INCREMENT,s.AUTOPAN_MODES=[s.MODE_SELECT,s.MODE_RESIZE,s.MODE_MOVE,s.MODE_LINE,s.MODE_SHAPE,s.MODE_HTML,s.MODE_HOTSPOT,s.MODE_TEXT,s.MODE_SCRANCHOR],s.HANDLES={NORTH:"n",NORTH_WEST:"nw",NORTH_EAST:"ne",WEST:"w",EAST:"e",SOUTH:"s",SOUTH_WEST:"sw",SOUTH_EAST:"se"},s.LINE_HANDLES={ONE:1,TWO:2},s.RESIZE_MODE={BOTH:0,HORIZONTAL:1,VERTICAL:2},s.ROTATION_HANDLES=[s.HANDLES.NORTH_WEST,s.HANDLES.NORTH_EAST,s.HANDLES.SOUTH_WEST,s.HANDLES.SOUTH_EAST],e.default=s},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.FontFamily=void 0;var r=i(n(0)),o=n(143),a=n(21),s=function(){function t(t){void 0===t&&(t={}),this.api=t.api,this.family=t.family,this.guid=t.guid,this.crossAccount=!!t.crossAccount,this.category=t.category,this.version=t.version,this.lastModified=t.lastModified,this.files=t.files,this.variants=[]}return t.prototype.isBuiltIn=function(){return this.api===a.FontConstants.BUILTIN_API_ID},t.prototype.isUploaded=function(){return this.api===a.FontConstants.UPLOADED_API_ID},t.prototype.isCrossAccount=function(){return this.crossAccount},t.prototype.getFamilyName=function(){return this.family},t.prototype.getVariants=function(){return this.variants},t.prototype.addVariant=function(t,e){var n=new o.FontVariant(t,r.default.extend({},e||{},{fontFamily:this}));return this.updateVariant(n),n},t.prototype.updateVariant=function(t){var e=r.default.findIndex(this.variants,(function(e){return t.getGuid()===e.getGuid()}));-1===e?this.variants.push(t):this.variants[e]=t},t.prototype.getVariantsCount=function(){return this.variants.length},t.prototype.getVariantNames=function(){return r.default.map(this.variants,(function(t){return t.getName()}))},t.prototype.getCssFamilyName=function(){return this.isUploaded()&&this.variants.length>0?this.variants[0].getCssFamilyName():this.getFamilyName()},t.prototype.getGuid=function(){return this.guid},t.prototype.getVariant=function(t){return r.default.find(this.variants,(function(e){return e.getGuid()===t}))},t.prototype.getVariantByName=function(t){return r.default.find(this.variants,(function(e){return e.getName()===t.toString()}))},t.prototype.getWebFontStylesLoaded=function(){return r.default.every(this.variants,"webFontStylesLoaded")},t.prototype.setAllWebFontStylesLoaded=function(){r.default.each(this.variants,(function(t){t.setWebFontStylesLoaded()}))},t.prototype.sortVariantsByName=function(){this.variants=r.default.sortBy(this.variants,["name"])},t.prototype.findVariantByWeightAndStyle=function(t,e){return r.default.find(this.variants,(function(n){return n.getFontWeight()===t&&n.getFontStyle()===e}))},t.prototype.findBestMatchVariant=function(t){var e=this.getVariantByName(t.getName());if(!e){var n=t.getFontWeight(),i=t.getFontStyle();null!=n&&i&&(e=this.findVariantByWeightAndStyle(n,i))}return e||(e=this.findVariantByWeightAndStyle(a.FontConstants.DEFAULT_FONT_WEIGHT,a.FontConstants.DEFAULT_FONT_STYLE)),e||(e=this.variants[0]),e},t}();e.FontFamily=s},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.FontCollection=void 0;var r=i(n(0)),o=n(45),a=function(){function t(t){this.fontFamilies=[],this.fontFamiliesByFamilyGuid={},this.fontFamiliesByVariantGuid={},this.fontFamiliesByApi={},t&&this.add(t)}return t.prototype.add=function(e){var n=this;if(e instanceof t)r.default.each(e.fontFamilies,(function(t){t instanceof o.FontFamily&&n.addFontFamily(t)}));else if(e instanceof Array)r.default.each(e,(function(t){t instanceof o.FontFamily&&n.addFontFamily(t)}));else{if(!(e instanceof o.FontFamily))throw new Error("Attempt to add an object to a FontCollection that is not a FontFamily.");this.addFontFamily(e)}},t.prototype.addFontFamily=function(t){var e=this;if(!(t instanceof o.FontFamily))throw new Error("Attempt to add an object to a FontCollection that is not a FontFamily.");var n=t.getGuid();if(!n)throw new Error("GUID is not defined for FontFamily");var i=this.fontFamiliesByFamilyGuid[n];if(i)r.default.each(t.getVariants(),(function(t){i.updateVariant(t);var n=t.getGuid();n&&(e.fontFamiliesByVariantGuid[n]=i)}));else{var a=t.api;if(!a)throw new Error("API is not defined for FontFamily");this.fontFamilies.push(t),this.fontFamiliesByFamilyGuid[n]=t,this.fontFamiliesByApi[a]||(this.fontFamiliesByApi[a]=[]),this.fontFamiliesByApi[a].push(t),r.default.each(t.getVariants(),(function(n){var i=n.getGuid();i&&(e.fontFamiliesByVariantGuid[i]=t)}))}},t.prototype.getTotalCount=function(){return this.fontFamilies.length},t.prototype.getTotalCountByApi=function(t){return this.fontFamiliesByApi[t]?this.fontFamiliesByApi[t].length:0},t.prototype.removeFontFamily=function(t){var e=t;if(t instanceof o.FontFamily){var n=t.getGuid();n&&(e=n)}if("string"==typeof e)return this.removeFontFamilyByFamilyGuid(e)},t.prototype.removeFontFamilyByFamilyGuid=function(t){var e=this,n=this.getFontFamilyByFamilyGuid(t);if(n)return this.fontFamilies=r.default.reject(this.fontFamilies,(function(e){return e.getGuid()===t})),delete this.fontFamiliesByFamilyGuid[t],r.default.each(n.getVariants(),(function(t){var n=t.getGuid();n&&delete e.fontFamiliesByVariantGuid[n]})),n},t.prototype.getFontFamilies=function(){return this.fontFamilies},t.prototype.getFontFamilyGuids=function(){return r.default.keys(this.fontFamiliesByFamilyGuid)},t.prototype.hasFontFamily=function(t){return!!this.getFontFamilyByFamilyGuid(t)},t.prototype.getFontFamiliesByAPI=function(t){return this.fontFamiliesByApi[t]||[]},t.prototype.getFontFamiliesByAPIMap=function(){return this.fontFamiliesByApi},t.prototype.getFontFamilyByFamilyGuid=function(t){return this.fontFamiliesByFamilyGuid[t]},t.prototype.getFontFamilyByVariantGuid=function(t){return this.fontFamiliesByVariantGuid[t]},t.prototype.getFontVariantByVariantGuid=function(t){var e=this.getFontFamilyByVariantGuid(t);return e&&e.getVariant(t)||null},t.prototype.getFontFamiliesByVariantGuids=function(e){var n=this,i=new t;return r.default.each(e,(function(t){var e=n.getFontFamilyByVariantGuid(t);e&&i.add(e)})),i},t.prototype.getSlice=function(e,n){return new t(this.fontFamilies.slice(e,n))},t.prototype.multiFilter=function(t){r.default.each(t,r.default.bind(this.filter,this))},t.prototype.setAllWebFontStylesLoaded=function(){r.default.each(this.fontFamilies,(function(t){t.setAllWebFontStylesLoaded()}))},t.prototype.filter=function(e){var n=new t;r.default.each(this.fontFamilies,r.default.bind((function(t){if("boolean"==typeof e.propertyValue){!!t[e.propertyName]===e.propertyValue&&n.addFontFamily(t)}else{var i=t[e.propertyName].toLowerCase(),r=e.propertyValue.toLowerCase();(e.exactMatch&&i===r||!e.exactMatch&&i.indexOf(r)>=0)&&n.addFontFamily(t)}}),this)),this.resetToCollection(n)},t.prototype.sort=function(t,e){var n=this;this.fontFamilies=r.default.sortBy(this.fontFamilies,(function(e){return e[t]})),r.default.each(this.fontFamiliesByApi,(function(e,i){n.fontFamiliesByApi[i]=r.default.sortBy(e,(function(e){return e[t]}))})),e&&this.fontFamilies.reverse()},t.prototype.resetToCollection=function(t){this.fontFamilies=t.fontFamilies,this.fontFamiliesByFamilyGuid=t.fontFamiliesByFamilyGuid,this.fontFamiliesByVariantGuid=t.fontFamiliesByVariantGuid,this.fontFamiliesByApi=t.fontFamiliesByApi},t}();e.FontCollection=a},function(t,e,n){"use strict";
/**
 * what-input - A global utility for tracking the current input method (mouse, keyboard or touch).
 * @version v5.2.6
 * @link https://github.com/ten1seven/what-input
 * @license MIT
 */t.exports=function(){return n={},t.m=e=[function(t,e){t.exports=function(){if("undefined"==typeof document||"undefined"==typeof window)return{ask:function(){return"initial"},element:function(){return null},ignoreKeys:function(){},specificKeys:function(){},registerOnChange:function(){},unRegisterOnChange:function(){}};var t=document.documentElement,e=null,n="initial",i=n,r=Date.now(),o="false",a=["button","input","select","textarea"],s=[],u=[16,17,18,91,93],l=[],c={keydown:"keyboard",keyup:"keyboard",mousedown:"mouse",mousemove:"mouse",MSPointerDown:"pointer",MSPointerMove:"pointer",pointerdown:"pointer",pointermove:"pointer",touchstart:"touch",touchend:"touch"},d=!1,h={x:null,y:null},f={2:"touch",3:"touch",4:"mouse"},p=!1;try{var g=Object.defineProperty({},"passive",{get:function(){p=!0}});window.addEventListener("test",null,g)}catch(g){}var m=function(){if(o=!(t.getAttribute("data-whatpersist")||"false"===document.body.getAttribute("data-whatpersist")))try{window.sessionStorage.getItem("what-input")&&(n=window.sessionStorage.getItem("what-input")),window.sessionStorage.getItem("what-intent")&&(i=window.sessionStorage.getItem("what-intent"))}catch(t){}y("input"),y("intent")},v=function(t){var e=t.which,r=c[t.type];"pointer"===r&&(r=w(t));var o=!l.length&&-1===u.indexOf(e),s=l.length&&-1!==l.indexOf(e),d="keyboard"===r&&e&&(o||s)||"mouse"===r||"touch"===r;if(E(r)&&(d=!1),d&&n!==r&&(S("input",n=r),y("input")),d&&i!==r){var h=document.activeElement;h&&h.nodeName&&(-1===a.indexOf(h.nodeName.toLowerCase())||"button"===h.nodeName.toLowerCase()&&!P(h,"form"))&&(S("intent",i=r),y("intent"))}},y=function(e){t.setAttribute("data-what"+e,"input"===e?n:i),O(e)},_=function(t){var e=c[t.type];"pointer"===e&&(e=w(t)),A(t),(!d&&!E(e)||d&&"wheel"===t.type||"mousewheel"===t.type||"DOMMouseScroll"===t.type)&&i!==e&&(S("intent",i=e),y("intent"))},b=function(n){n.target.nodeName?(e=n.target.nodeName.toLowerCase(),t.setAttribute("data-whatelement",e),n.target.classList&&n.target.classList.length&&t.setAttribute("data-whatclasses",n.target.classList.toString().replace(" ",","))):T()},T=function(){e=null,t.removeAttribute("data-whatelement"),t.removeAttribute("data-whatclasses")},S=function(t,e){if(o)try{window.sessionStorage.setItem("what-"+t,e)}catch(t){}},w=function(t){return"number"==typeof t.pointerType?f[t.pointerType]:"pen"===t.pointerType?"touch":t.pointerType},E=function(t){var e=Date.now(),i="mouse"===t&&"touch"===n&&e-r<200;return r=e,i},C=function(){return"onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll"},O=function(t){for(var e=0,r=s.length;e<r;e++)s[e].type===t&&s[e].fn.call(void 0,"input"===t?n:i)},A=function(t){h.x!==t.screenX||h.y!==t.screenY?(d=!1,h.x=t.screenX,h.y=t.screenY):d=!0},P=function(t,e){var n=window.Element.prototype;if(n.matches||(n.matches=n.msMatchesSelector||n.webkitMatchesSelector),n.closest)return t.closest(e);do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null};return"addEventListener"in window&&Array.prototype.indexOf&&(c[C()]="mouse",function(){var t=!!p&&{passive:!0};document.addEventListener("DOMContentLoaded",m),window.PointerEvent?(window.addEventListener("pointerdown",v),window.addEventListener("pointermove",_)):window.MSPointerEvent?(window.addEventListener("MSPointerDown",v),window.addEventListener("MSPointerMove",_)):(window.addEventListener("mousedown",v),window.addEventListener("mousemove",_),"ontouchstart"in window&&(window.addEventListener("touchstart",v,t),window.addEventListener("touchend",v))),window.addEventListener(C(),_,t),window.addEventListener("keydown",v),window.addEventListener("keyup",v),window.addEventListener("focusin",b),window.addEventListener("focusout",T)}()),{ask:function(t){return"intent"===t?i:n},element:function(){return e},ignoreKeys:function(t){u=t},specificKeys:function(t){l=t},registerOnChange:function(t,e){s.push({fn:t,type:e||"input"})},unRegisterOnChange:function(t){var e=function(t){for(var e=0,n=s.length;e<n;e++)if(s[e].fn===t)return e}(t);!e&&0!==e||s.splice(e,1)},clearStorage:function(){window.sessionStorage.clear()}}}()}],t.c=n,t.p="",t(0);function t(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var e,n}()},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=a(n(0)),u=a(n(116)),l=a(n(108)),c=["player","previewer"],d=function(t){function e(e){var n=t.call(this,e)||this;return n.eventHandlerMap={},n.scrollProxyHandle=l.default,n}return r(e,t),e.prototype.sendEvent=function(t,e){this.isEnabled()&&this.eventHandlerMap[t]&&this.eventHandlerMap[t].call(this,e)},e.prototype.invokeOnParentPage=function(t){var e;t=s.default.isArray(t)?t:[t];var n=s.default.map(t,(function(t){return t.toJSON()}));null===(e=this.scrollProxyHandle)||void 0===e||e.invokeGlobalFunctions(n)},e.prototype.registerEventHandler=function(t,e){var n,i;if(this.containsAppName(t))this.eventHandlerMap[t]=e;else try{for(var r=o(c),a=r.next();!a.done;a=r.next()){var s=a.value;this.eventHandlerMap[s+"."+t]=e}}catch(t){n={error:t}}finally{try{a&&!a.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},e.prototype.containsAppName=function(t){var e=t.split(".");return s.default.includes(c,e[0])},e}(u.default);e.default=d},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.BlendingModes=e.BlendingModeDisplayName=e.BlendingModeName=void 0;var r,o,a=i(n(0));!function(t){t.NORMAL="normal",t.MULTIPLY="multiply",t.SCREEN="screen",t.OVERLAY="overlay",t.DARKEN="darken",t.LIGHTEN="lighten",t.COLOR_DODGE="color-dodge",t.COLOR_BURN="color-burn",t.HARD_LIGHT="hard-light",t.SOFT_LIGHT="soft-light",t.DIFFERENCE="difference",t.EXCLUSION="exclusion",t.HUE="hue",t.SATURATION="saturation",t.COLOR="color",t.LUMINOSITY="luminosity"}(r=e.BlendingModeName||(e.BlendingModeName={})),function(t){t.NORMAL="Normal",t.MULTIPLY="Multiply",t.SCREEN="Screen",t.OVERLAY="Overlay",t.DARKEN="Darken",t.LIGHTEN="Lighten",t.COLOR_DODGE="Color Dodge",t.COLOR_BURN="Color Burn",t.HARD_LIGHT="Hard Light",t.SOFT_LIGHT="Soft Light",t.DIFFERENCE="Difference",t.EXCLUSION="Exclusion",t.HUE="Hue",t.SATURATION="Saturation",t.COLOR="Color",t.LUMINOSITY="Luminosity"}(o=e.BlendingModeDisplayName||(e.BlendingModeDisplayName={}));var s,u=["image/jpeg","image/jpg","image/png","image/gif"],l=["jpeg","jpg","png","gif"];!function(t){t.PREVIOUS="previous",t.NEXT="next"}(s||(s={}));var c=function(){function t(){}return t.getBlendingModeChoices=function(){return[this.NORMAL,this.DARKEN,this.MULTIPLY,this.COLOR_BURN,this.LIGHTEN,this.SCREEN,this.COLOR_DODGE,this.OVERLAY,this.SOFT_LIGHT,this.HARD_LIGHT,this.DIFFERENCE,this.EXCLUSION]},t.getGroupedBlendingModeChoices=function(){return[[this.NORMAL],[this.DARKEN,this.MULTIPLY,this.COLOR_BURN],[this.LIGHTEN,this.SCREEN,this.COLOR_DODGE],[this.OVERLAY,this.SOFT_LIGHT,this.HARD_LIGHT],[this.DIFFERENCE,this.EXCLUSION]]},t.getDefault=function(){return this.NORMAL.value},t.isDefaultBlendingMode=function(t){return this.getDefault()===t},t.getAdjacentMode=function(t,e){var n=this.getBlendingModeChoices(),i=a.default.findIndex(n,{value:t}),r=0===i,o=i===n.length-1,u=-1===i;return e===s.PREVIOUS?u||r?null:n[i-1].value:u||o?null:n[i+1].value},t.getPreviousMode=function(t){return this.getAdjacentMode(t,s.PREVIOUS)},t.getNextMode=function(t){return this.getAdjacentMode(t,s.NEXT)},t.getTotalModes=function(){return this.getBlendingModeChoices().length},t.isSupportedImageType=function(t,e){if("string"==typeof t)return u.indexOf(t.toLowerCase())>-1;var n=e.split("."),i=n[n.length-1].toLowerCase();return l.indexOf(i)>-1},t.NORMAL={value:r.NORMAL,title:o.NORMAL},t.MULTIPLY={value:r.MULTIPLY,title:o.MULTIPLY},t.SCREEN={value:r.SCREEN,title:o.SCREEN},t.OVERLAY={value:r.OVERLAY,title:o.OVERLAY},t.DARKEN={value:r.DARKEN,title:o.DARKEN},t.LIGHTEN={value:r.LIGHTEN,title:o.LIGHTEN},t.COLOR_DODGE={value:r.COLOR_DODGE,title:o.COLOR_DODGE},t.COLOR_BURN={value:r.COLOR_BURN,title:o.COLOR_BURN},t.HARD_LIGHT={value:r.HARD_LIGHT,title:o.HARD_LIGHT},t.SOFT_LIGHT={value:r.SOFT_LIGHT,title:o.SOFT_LIGHT},t.DIFFERENCE={value:r.DIFFERENCE,title:o.DIFFERENCE},t.EXCLUSION={value:r.EXCLUSION,title:o.EXCLUSION},t.HUE={value:r.HUE,title:o.HUE},t.SATURATION={value:r.SATURATION,title:o.SATURATION},t.COLOR={value:r.COLOR,title:o.COLOR},t.LUMINOSITY={value:r.LUMINOSITY,title:o.LUMINOSITY},t}();e.BlendingModes=c},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.CustomPathSVGUtil=void 0;var r=i(n(0)),o=function(){function t(){}return t.generateCurveCoords=function(t,e){void 0===e&&(e=!0);for(var n=t,i=this.moveToStartingPoint(n[0]),r=1;r<n.length;r++)i+=this.generateCurveSection(n[r-1],n[r]);return e&&(i+=this.generateCurveSection(n[n.length-1],n[0]),i+=this.closePath()),i},t.generateCurveCoordFromPathSegList=function(t){for(var e=t,n=this.moveToStartingPoint(e.getItem(0)),i=!1,r=1;r<e.numberOfItems;r++){var o=e.getItem(r);"C"===o.pathSegTypeAsLetter&&(n+=this.generateCurveSectionFromPathItem(o)),"z"===o.pathSegTypeAsLetter&&(i=!0)}return i&&(n+=this.closePath()),n},t.moveToStartingPoint=function(t){return"M "+t.x+" "+t.y+" "},t.generateCurveSection=function(t,e){return"C "+(r.default.isUndefined(t.cx2)?t.x:t.cx2)+" "+(r.default.isUndefined(t.cy2)?t.y:t.cy2)+", "+(r.default.isUndefined(e.cx1)?e.x:e.cx1)+" "+(r.default.isUndefined(e.cy1)?e.y:e.cy1)+", "+e.x+" "+e.y+" "},t.generateCurveSectionFromPathItem=function(t){return"C "+t.x1+" "+t.y1+", "+t.x2+" "+t.y2+", "+t.x+" "+t.y+" "},t.closePath=function(){return" Z"},t}();e.CustomPathSVGUtil=o},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.SocialMediaInteraction=void 0;var a=n(65),s=o(n(0)),u=o(n(19)),l=o(n(8)),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.getModuleAction=function(){return this.pageView.module.publishedEvents.PAGE_ACTION_SHARE_PAGE},e.prototype.urlForCurrentPage=function(){var t=s.default.get(this.pageView,"model.pageIndex",0)+1,e=l.default.removeEmbedParams(u.default.buildUri("page_number",t));return window.location.protocol+"//"+window.location.host+e},e.prototype.isValid=function(){return"submit"!==this.trigger&&t.prototype.isValid.call(this)},e}(a.BaseURLInteraction);e.SocialMediaInteraction=c},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(3)),a=i(n(44)),s=i(n(416)),u=i(n(9)),l=i(n(142)),c={CHANGE:"change",CHANGE_SELECTED:"change:selected",CHANGE_VISIBLE:"change:visible",CHANGE_LOCKED:"change:locked",CHANGE_EDITABLE:"change:editable",CHANGE_TITLE:"change:title",SELECT_ITEM:"selectItem",REFRESH_WARNINGS:"refresh:warnings",OPENED:"opened",SAVE:"save"};e.default=o.default.Model.extend({defaults:u.default.AbstractPageSubModel.defaults,view:null,includeInLayerPanel:!0,inSmartgroup:!1,selectedState:a.default.OBJECT_STATES_DEFAULT,constructor:function(t,e){(e=e||{}).inSmartgroup&&(this.inSmartgroup=!0),o.default.Model.prototype.constructor.call(this,t,e)},initialize:function(t,e){this.selected=!1,this.options=e||{},this.modelChanges=null,this.saveHandler=null,this.oldVersion={},this.changedIPAttributes={},r.default.each(r.default.keys(t),r.default.bind((function(e){this.oldVersion[e]=t[e]}),this)),this.on("change",this.handleModelChange,this),this.on("remove",this.onRemove,this)},handleModelChange:function(t,e){if(!(e&&e.remote||this!==t)){var n=t.changedAttributes(null,{nonVariant:!0}),i=t.getPendingChanges();e&&e.doNotBuffer&&i.setDoNotBuffer(),i.add(n)}},buildOverridesWithEmptySyncedProperties:function(){throw"Models with Synced Attributes should implement this method"},getView:function(){return this.view},setView:function(t){this.view=t},getParent:function(){return this.parent},hasParent:function(){return!!this.parent},hasGroupParent:function(){return this.hasParent()&&this.getParent().isGroup()},isIncludedInLayerPanel:function(){return this.includeInLayerPanel},isLockable:function(){return!0},getAllParents:function(){for(var t=[],e=this;e.hasParent();){var n=e.getParent();t.push(n),e=n}return r.default.reverse(t)},getSelfAndAllParents:function(){return this.getAllParents().concat(this)},getAllGroupParents:function(){for(var t=[],e=this;e.hasParent();){var n=e.getParent();n.isGroup()&&t.push(n),e=n}return r.default.reverse(t)},getClosestParentFolder:function(){for(var t=this;t.hasParent();){var e=t.getParent();if(e.isFolder())return e;t=e}return null},getClosestParentGroup:function(){for(var t=this;t.hasParent();){var e=t.getParent();if(e.isGroup())return e;t=e}return null},openClosestParentGroup:function(){var t=this.getClosestParentGroup();t&&t.open()},getId:function(){return this.id},save:function(){var t=this.flushPendingChanges();if(0!==t.total())if(r.default.isFunction(this.saveHandler)){this.saveHandler(this,t);var e=t.getChanges();this.trigger(c.SAVE,this,e)}else{var n=new Error("no save handler registered!");n.stack&&console.warn(n.stack)}},onSave:function(t,e){this.on(c.SAVE,t,e)},offSave:function(t,e){this.off(c.SAVE,t,e)},onRemove:function(t,e,n){!n.moving&&this.view&&(this.stopListening(),this.view.close(),this.view=null)},destroy:function(t){if(r.default.isFunction(this.destroyHandler))this.destroyHandler(this,t),this.trigger("destroy",this,t);else{var e=new Error("no destroy handler registered!");console.warn(e.stack)}},getPendingChanges:function(){return null===this.modelChanges&&(this.modelChanges=new s.default(this)),this.modelChanges},clearPendingChanges:function(){return this.modelChanges=null,this},flushPendingChanges:function(){var t=this.getPendingChanges();return this.clearPendingChanges(),t},registerSaveHandler:function(t,e){this.saveHandler=r.default.isFunction(t)?r.default.bind(t,e||this):null},removeSaveHandler:function(){this.registerSaveHandler(null)},registerDestroyHandler:function(t,e){this.destroyHandler=r.default.isFunction(t)?r.default.bind(t,e||this):null},validate:function(t){if(r.default.isUndefined(t.id))return"invalid id"},isCopiable:function(){return!0},isSelected:function(){return this.selected},isLocked:function(){return this.get("locked")},isVisible:function(){return this.get("visible")},isEditableComponent:function(){return!1},isEditable:function(){return this.get("editable")},setVisible:function(t,e){return this.set("visible",t,e),this.trigger(c.CHANGE_VISIBLE),this},setLocked:function(t,e){return this.set("locked",t,e),this.trigger(c.CHANGE_LOCKED),this},setEditable:function(t){return this.set("editable",t),this},deselect:function(t){return this.selected?(this.selected=!1,t&&!0===t.silent||this.trigger(c.CHANGE_SELECTED),this):this},setSelectedObjectState:function(t){this.selectedState=t,this.trigger("change-selected-state"),this.isGroup()||this.isSmartgroup()||this.isFolder()?this.getCollection().each((function(e){e.isBaseMaskObject()&&(e.view.forceRedraw=!0),e.setSelectedObjectState(t)})):this.isBaseMaskObject()&&this.forceRedraw(),this.view&&this.view.broadcast.trigger("designer:change-selected-state")},select:function(t){var e=t&&t.forceReselect;return this.selected&&!e?this:(this.selected=!0,this.trigger(c.SELECT_ITEM,this,t),t&&!0===t.silent||this.trigger(c.CHANGE_SELECTED,t),this)},isShapeComponent:function(){return!1},isAnyShapeComponent:function(){return this.isShapeComponent()||this.isCustomShapeComponent()},isFolder:function(){return!1},isImageModel:function(){return!1},isVideoModel:function(){return!1},isMediaModel:function(){return this.isVideoModel()||this.isImageModel()},isGroup:function(){return!1},isMaskGroup:function(){return!1},isInMaskGroup:function(){var t=this.getParent();return!!t&&"mask-group"===t.get("type")},isInAlphaMaskGroup:function(){var t=this.getParent();return!!t&&t.isMaskGroup()&&t.isAlphaMask()},isBaseMaskObject:function(){return!1},isMask:function(){return!1},getValidClickInteractions:function(){return{}},getValidHoverInteractions:function(){return[]},getValidViewInteractions:function(){return[]},isFolderOrGroup:function(){return this.isGroup()||this.isFolder()},isSmartgroup:function(){return!1},isObject:function(){return!1},isSyncedObject:function(){return this.inSmartgroup},isForSyncedObject:function(t){return!(!t||!t.syncedObject)||this.isSyncedObject()},hasInteractions:function(){return!1},hasInteractionsBesidesChangeState:function(){return!1},isInteractable:function(){return!this.isMask()},hasChildren:function(){return!1},hasSelectedChild:function(){return!1},isResizable:function(){return!0},isDeletable:function(){return!0},isGroupable:function(){return!0},isMoveable:function(){return!0},isUserSelectable:function(){return!0},getChildren:function(){return[]},getAllDescendants:function(){return[]},getPathPart:function(){return""},getCollection:function(){return null},changedInspectorPanelAttributes:function(){return this.changedIPAttributes},getDisplayLabel:function(){return this.type?this.type:"Object"},isCustomShapeComponent:function(){return!1},getSyncedProperties:function(){return l.default.get(o.default.Model.prototype.get.call(this,"type"))},isUploading:function(){return!1},isSyncedTextComponent:function(){return!1},isTextComponent:function(){return!1},isTextPlusComponent:function(){return!1},isImageComponent:function(){return!1},getSupported:function(){return u.default.AbstractPageSubModel.supported},supportsProperty:function(t){return-1!==this.getSupported().indexOf(t)},isCanvasBackgroundModel:function(){return!1},supportsObjectStates:function(){return!!this.objectStatesEnabled},canCopyPasteAnimations:function(){return!(this.isGroup()&&this.hasActiveBlendingMode())&&!this.isFolder()&&!this.isSmartgroup()},hasActiveBlendingMode:function(){return!1},getExistingObjectStates:function(){return[]}},{EVENTS:c})},function(t,e,n){"use strict";var i,r;
/*!
 * JavaScript Cookie v2.2.1
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */!function(o){if(void 0===(r="function"==typeof(i=o)?i.call(e,n,e,t):i)||(t.exports=r),!0,t.exports=o(),!!0){var a=window.Cookies,s=window.Cookies=o();s.noConflict=function(){return window.Cookies=a,s}}}((function(){function t(){for(var t=0,e={};t<arguments.length;t++){var n=arguments[t];for(var i in n)e[i]=n[i]}return e}function e(t){return t.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(i){function r(){}function o(e,n,o){if("undefined"!=typeof document){"number"==typeof(o=t({path:"/"},r.defaults,o)).expires&&(o.expires=new Date(1*new Date+864e5*o.expires)),o.expires=o.expires?o.expires.toUTCString():"";try{var a=JSON.stringify(n);/^[\{\[]/.test(a)&&(n=a)}catch(t){}n=i.write?i.write(n,e):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var u in o)o[u]&&(s+="; "+u,!0!==o[u]&&(s+="="+o[u].split(";")[0]));return document.cookie=e+"="+n+s}}function a(t,n){if("undefined"!=typeof document){for(var r={},o=document.cookie?document.cookie.split("; "):[],a=0;a<o.length;a++){var s=o[a].split("="),u=s.slice(1).join("=");n||'"'!==u.charAt(0)||(u=u.slice(1,-1));try{var l=e(s[0]);if(u=(i.read||i)(u,l)||e(u),n)try{u=JSON.parse(u)}catch(t){}if(r[l]=u,t===l)break}catch(t){}}return t?r[t]:r}}return r.set=o,r.get=function(t){return a(t,!1)},r.getJSON=function(t){return a(t,!0)},r.remove=function(e,n){o(e,"",t(n,{expires:-1}))},r.defaults={},r.withConverter=n,r}((function(){}))}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={setDimensions:function(t,e){window.cerosScreenDimensions={width:t,height:e}},getDimensions:function(){return window.cerosScreenDimensions}};window.cerosScreenDimensions||i.setDimensions(window.screen.width,window.screen.height),e.default=i},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(1)),a=i(n(4)),s=i(n(2)),u=i(n(218)),l=i(n(8)),c=i(n(56)),d=i(n(57)),h=i(n(58)),f=i(n(73)),p=i(n(219)),g=i(n(74)),m=i(n(59)),v=new p.default,y=new c.default,_={getOrCreateRasterImageResource:function(t,e,n){var i=o.default.Deferred();return h.default.getOriginalDimensions(t).then((function(r){if(!r)return window.console.warn("No info was found for image: "+t),void i.resolve(null);m.default.isValidCropObject(n)?r=m.default.createOriginalDimensionsFromCropDimensions(r,n):n=null;var o=_.getRasterImage(t,n),a=_.isUriForGif(t),s=_.calculateVariantDimensions(r,e,a);o?o.getPromise().then((function(){_.shouldRequestHigherResolution(r.width,o.getWidth(),s)?i.resolve(_.createRasterImageResource(t,s,n)):i.resolve(o)})).fail(i.reject):i.resolve(_.createRasterImageResource(t,s,n))})),i.promise().then((function(t){return t?t.getPromise():null}))},getOrCreateRasterImageResourceSync:function(t,e){var n=v.get(t),i=_.isUriForGif(t),r=d.default.getOriginalDimensions(t);if(!r)return n&&(!n.ready()||n.getWidth()>=e)?n:_.createRasterImageResource(t,e);var o=_.calculateVariantDimensions(r,e,i);return n?n.ready()&&_.shouldRequestHigherResolution(r.width,n.getWidth(),o)?_.createRasterImageResource(t,o):n:_.createRasterImageResource(t,o)},getRasterImage:function(t,e){var n=v.createCacheKey(t,e);return v.get(n)},getOrCreateVectorImageResourceFactory:function(t,e,n,i,r){return r?this.createVectorImageResourceFactory(t,e,n,i,!0):y.has(t)?y.get(t):this.createVectorImageResourceFactory(t,e,n,i,!1)},createVectorImageResourceFactory:function(t,e,n,i,r){var o=_.createImageProxyUri(t),a=new g.default(o,e,n,i);return r&&y.has(t)||y.put(t,a),a},getVectorImageResourceFactory:function(t){return y.get(t)},createRasterImageResource:function(t,e,n){var i=_.createImageResourceUrl(t,e,n),r=new f.default(i),o=v.createCacheKey(t,n);return v.put(o,r),r},calculateOptimizedGifWidth:function(t,e){return t<=e/8?e/8:t<=e/4?e/4:t<=e/2?e/2:e},calculateOptimizedNonGifWidth:function(t,e){if(t>e)return e;var n=.05*Math.ceil(t/e/.05);return e*(n=Math.max(n,.05))},calculateVariantDimensions:function(t,e,n){if(s.default.isExported||(n?e=this.calculateOptimizedGifWidth(e,t.width):a.default.desktop()&&(e=this.calculateOptimizedNonGifWidth(e,t.width))),e>=t.width)return null;var i=Math.round(e),r=this._calculateMinimumValidWidth(t);return Math.max(r,i)},_calculateMinimumValidWidth:function(t){return t.height>=t.width?1:Math.ceil(t.width/t.height)},isUriForGif:function(t){return"gif"===t.substr(-"gif".length)},shouldRequestHigherResolution:function(t,e,n){return r.default.isNull(n)||n>=t?e<t:(n-e)/e>=.25},primeCachesWithOriginalImageResource:function(t,e){r.default.isNull(e)||(v.put(t,e),d.default.putImageResource(t,e))},primeCacheWithImageInfo:function(t,e,n,i){d.default.putImageInfo(t,e,n,i)},primeCacheWithVectorImageResourceFactory:function(t,e){y.put(t,e)},loadImageInfoForPage:function(t){return h.default.loadImagesForUri(t)},loadImageInfoForDocVersion:function(t){return h.default.loadImagesForRestUri(t)},createImageUri:function(t,e){return"/v1/account/"+s.default.accountSlug+"/"+t+"/"+e},createImageResourceUrl:function(t,e,n){return s.default.isStudio?_.createImageProxyUri(t,e,n):s.default.isExported?_.createExportUrl(t,e):_.createMediaUrl(t,e,n)},createImageProxyUri:function(t,e,n){t+="/proxy";var i={};return r.default.isNumber(e)&&(i.width=e),r.default.isObject(n)&&(i.crop=m.default.createCropDimensionsString(n)),l.default.appendQueryParams(t,i,!0)},createMediaUrl:function(t,e,n){var i=d.default.get(t),o=r.default.get(i,"url");if(!r.default.isString(o))return"";var a={imageOpt:1};return r.default.isNumber(e)&&(a.fit="bounds",a.width=e),r.default.isObject(n)&&(a.crop=m.default.createCropDimensionsString(n)),o=l.default.appendQueryParams(o,a,!0),l.default.replaceProtocolIfHttpsRequest(o)},createExportUrl:function(t,e){var n=d.default.get(t),i=r.default.get(n,"thumbnails");if(!r.default.isObject(i))return"";var o=u.default.getComponentImageThumbnail(i,e);return r.default.get(o,"url","")},getRasterImageResourceCache:function(){return v},getVectorImageResourceFactoryCache:function(){return y}};e.default=_},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0));function o(){this.cache={}}r.default.extend(o.prototype,{get:function(t){return r.default.get(this.cache,t,null)},put:function(t,e){this.cache[t]=e},has:function(t){return r.default.has(this.cache,t)},purgeAll:function(){this.cache={}}}),e.default=o},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=new(i(n(56)).default),a=function(t,e,n,i){return{id:t,url:e,original:{width:n,height:i}}},s={get:function(t){return o.get(t)},getOriginalWidth:function(t){var e=s.get(t);return r.default.get(e,["original","width"],null)},getOriginalDimensions:function(t){var e=s.get(t),n=r.default.get(e,["original","width"],null),i=r.default.get(e,["original","height"],null);return n&&i?{width:n,height:i}:null},put:function(t,e){o.put(t,e)},putMediaArray:function(t){r.default.each(r.default.keyBy(t,"id"),(function(t,e){o.put(e,t)}))},putImageResource:function(t,e){e.ready()?s.putImageInfo(t,e.getSrc(),e.getWidth(),e.getHeight()):window.console.warn("Tried to put image info into cache from an image resource that was not ready")},putImageInfo:function(t,e,n,i){var r=a(t,e,n,i);return o.put(t,r),r},putVideoInfo:function(t,e,n,i,r){var s=a(t,e,n,i);return s.posterFrameUri=r,o.put(t,s),s},purgeAll:function(){o.purgeAll()},has:function(t){return o.has(t)}};e.default=s},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1)),o=i(n(0)),a=i(n(2)),s=i(n(57)),u=[],l={loadImagesForUri:function(t){return l.loadImagesForRestUri("/rest"+t)},loadImagesForRestUri:function(t){return l.loadMediaForRestUri(t,!0)},loadMediaForUri:function(t,e){return l.loadMediaForRestUri("/rest"+t,e)},loadMediaForRestUri:function(t,e){var n=t+"/media";e&&(n+="?imagesOnly=true");var i=r.default.ajax({url:n,type:"GET",dataType:"json"}).then((function(t){s.default.putMediaArray(t)})).fail((function(e,n,i){window.console.warn("Unable to load image info for uri: "+t+" due to error: "+i)}));return u.push(i),i},loadMedia:function(t){return r.default.ajax({url:"/rest"+t+"/metadata",type:"GET",dataType:"json"}).then((function(e){if(o.default.isObject(e)){var n=o.default.get(e,"url",null),i=o.default.get(e,["meta","width"],null),r=o.default.get(e,["meta","height"],null),a=o.default.get(e,"posterFrameUri",null);return a?s.default.putVideoInfo(t,n,i,r,a):s.default.putImageInfo(t,n,i,r)}window.console.warn("Unexpected image metadata format")})).fail((function(){window.console.warn("Unable to load info for image: "+t)}))},getMediaInfo:function(t){var e=r.default.Deferred();return t?s.default.has(t)||!a.default.isStudio&&!a.default.editMode?(e.resolve(s.default.get(t)),e.promise()):(r.default.when.apply(r.default,u).always((function(){s.default.has(t)?e.resolve(s.default.get(t)):l.loadMedia(t).always((function(){e.resolve(s.default.get(t))}))})),e.promise()):(e.resolve(),e.promise())},getOriginalWidth:function(t){return l.getMediaInfo(t).then((function(t){return o.default.get(t,["original","width"],null)}))},getOriginalDimensions:function(t){return l.getMediaInfo(t).then((function(t){var e=o.default.get(t,["original","width"]),n=o.default.get(t,["original","height"]);return e&&n?{width:e,height:n}:null}))}};e.default=l},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=["width","height","x","y"],a={isValidCropObject:function(t){if(!r.default.isObject(t))return!1;var e=r.default.keys(t);return 0===r.default.xor(e,o).length},createCropDimensionsString:function(t){return a.isValidCropObject(t)?[t.width,t.height,"x"+t.x,"y"+t.y].join(","):""},createOriginalDimensionsFromCropDimensions:function(t,e){return{width:Math.clamp(e.width,1,t.width),height:Math.clamp(e.height,1,t.height)}}};e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={NIL:0,ESC:27,SHIFT:16,CTRL:17,LEFT_CMD:91,RIGHT_CMD:93,CMD_FIREFOX:224,ALT:18,RETURN:13,ENTER:13,BACKSPACE:8,DELETE:46,SPACE:32,TAB:9,HOME:36,END:35,RIGHT_ARROW:39,LEFT_ARROW:37,UP_ARROW:38,DOWN_ARROW:40,EQUALS_FF:61,EQUALS_WEBKIT:187,MINUS_FF:173,MINUS_WEBKIT:189,ZERO:48,ONE:49,SEMICOLON:186,SEMICOLON_FIREFOX:59,BRACKET_OPEN:219,BRACKET_CLOSE:221,SINGLE_QUOTE:222,A:65,C:67,D:68,E:69,G:71,H:72,I:73,J:74,K:75,L:76,M:77,P:80,R:82,V:86,X:88,Y:89,Z:90,COMMA:188,PERIOD:190}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(25)),a=i(n(2)),s=i(n(481)),u=i(n(483)),l=i(n(486)),c=i(n(30));t=new o.default.Module({id:"splashScreen",description:"Loading experience including spinner animation",version:"1.0",publishedEvents:{EMBED_WARNING_DISMISSED:"embed_warning_dismissed"},delegate:{loadingViews:[],showLoading:function(t,e){var n,i={theme:r.default.isUndefined(a.default.themeObj)?{}:a.default.themeObj},o=r.default.extend({startImmediately:!0,whiteLabeling:!0,showPreviewLabel:!1,showEditorLabel:!1,overlayed:!0},i,e),u=(n=o.theme,c.default.getMostContrasting(n.backgroundColor,n.menuFgColor,n.menuBgColor).toHex()),l=o.theme.backgroundColor;o.overlayed&&(u=o.theme.menuFgColor,l=o.theme.menuBgColor);var d=new s.default({autoContrastForegroundColor:u,foregroundColor:o.theme.menuFgColor,backgroundColor:l,previewLabelBackgroundColor:o.theme.menuBgColor,whiteLabeling:o.whiteLabeling,showPreviewLabel:o.showPreviewLabel,showEditorLabel:o.showEditorLabel,overlayed:o.overlayed});return this.loadingViews.push(d),t.prepend(d.$el),d.render(),o.startImmediately&&d.start(),{destroy:function(){d.destroy()},start:function(){d.start()},stop:function(){d.stop()}}},scale:function(){r.default.each(this.loadingViews,(function(t,e){t.scale()}))},showUnavailableScreen:function(t,e){var n=new u.default;t.append(n.$el)},showDeletedPageWarning:function(e){var n=new l.default({module:t});n.render(),e.append(n.$el)},hideEmbeddedPreviewerWarning:function(t){t.find(".embedded-previewer-warning").hide()}}});e.default=t},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.AnalyticsLocalStorage=void 0;var r=i(n(114)),o=i(n(8)),a=n(236).storageFactory((function(){return window.localStorage})),s=function(){function t(){}return t.setUserConsent=function(t,e){var n=this.generateUserConsentKey(e);a.setItem(n,t.toString())},t.getUserConsent=function(t){var e=this.generateUserConsentKey(t);switch(a.getItem(e)){case"true":return!0;case"false":return!1;default:return null}},t.deleteUserConsent=function(t){var e=this.generateUserConsentKey(t);a.removeItem(e)},t.setExperienceTracker=function(t,e){var n=this.generateExperienceTrackerKey(e);a.setItem(n,JSON.stringify(t))},t.getExperienceTracker=function(t){var e=r.default.getExperienceTrackingCookieData();if((null==e?void 0:e.initial_referrer)||(null==e?void 0:e.initial_referring_domain)){this.setExperienceTracker(e,t);var n=o.default.getRootDomain();r.default.deleteExperienceTrackingCookie(t,n)}var i=this.generateExperienceTrackerKey(t),s=a.getItem(i);return s?JSON.parse(s):null},t.deleteExperienceTracker=function(t){var e=o.default.getRootDomain();r.default.deleteExperienceTrackingCookie(t,e);var n=this.generateExperienceTrackerKey(t);a.removeItem(n)},t.setDomainTracker=function(t,e){var n=this.generateDomainTrackerKey(e);a.setItem(n,JSON.stringify(t))},t.getDomainTracker=function(t){var e=r.default.getDomainTrackingCookieData();if(null==e?void 0:e.user_token){this.setDomainTracker(e,t);var n=o.default.getRootDomain();r.default.deleteDomainTrackingCookie(t,n)}var i=this.generateDomainTrackerKey(t),s=a.getItem(i);return s?JSON.parse(s):null},t.deleteDomainTracker=function(t){var e=o.default.getRootDomain();r.default.deleteDomainTrackingCookie(t,e),r.default.deleteDomainTrackingCookie("/",e);var n=this.generateDomainTrackerKey(t);a.removeItem(n)},t.generateUserConsentKey=function(t){return""+this.USER_CONSENT_KEY_PREFIX+t},t.generateExperienceTrackerKey=function(t){return""+this.EXPERIENCE_TRACKER_KEY_PREFIX+t},t.generateDomainTrackerKey=function(t){return""+this.DOMAIN_TRACKER_KEY_PREFIX+t},t.USER_CONSENT_KEY_PREFIX="user_consent",t.EXPERIENCE_TRACKER_KEY_PREFIX="experience_tracker",t.DOMAIN_TRACKER_KEY_PREFIX="domain_tracker",t}();e.AnalyticsLocalStorage=s},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=function(){function t(t,e){this.functionPath=t,this.args=r.default.isArray(e)?e:[e]}return t.prototype.invoke=function(){var t=window,e=r.default.get(window,this.functionPath),n=this.functionPath.split(".").slice(0,-1).join(".");if(n&&(t=r.default.get(t,n)),t&&e&&"function"==typeof e)return e.apply(t,this.args)},t.prototype.toJSON=function(){return{functionPath:this.functionPath,args:this.args}},t.prototype.toString=function(){return JSON.stringify(this.toJSON())},t}();e.default=o},function(t,e,n){"use strict";var i=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.moduleOptions=void 0;var o=r(n(1)),a=r(n(0)),s=r(n(6)),u=r(n(25)),l=r(n(2)),c=r(n(255)),d=r(n(41)),h=r(n(4)),f=r(n(19)),p=n(12),g=r(n(122)),m=r(n(83)),v=r(n(373)),y=r(n(28)),_=r(n(8)),b=r(n(10)),T=n(13),S=n(86),w="top",E="bottom",C="scranchor",O="component",A=null,P=null,I=null,x=null,M=null,k=null,D=null,R={id:"viewport",description:"",version:"1.0",dependencies:{page:"1.0"},firstPageShown:new o.default.Deferred,publishedEvents:{LONGPRESS:"viewport.longpress",SCALE:"viewport.scale",PAGE_CHANGE:"viewport.page_change",PAGE_CHANGING:"viewport.page_changing",PAGE_BATCH_LOAD_START:"viewport.page_batch_load_start",PAGE_UPDATE:"viewport.page_update",PAGE_ENABLED_CHANGE:"viewport.page_enabled_change",CURRENT_PAGE_DELETED:"viewport.current_page_deleted",TIMED_LIGHTBOX:"viewport.timed.lightbox",TIMED_PRODUCT_PANEL:"viewport.timed.product_panel",TIMED_SHOPPING_CART:"viewport.timed.shopping_cart"},delegate:{init:function(t,e){I=t,D=e.performanceTracker;var n=this.createScaleContextOptions(I,e);P=new v.default(n);var i=this.createViewportViewOptions(I,P,e);(A=new c.default(i)).preloadMedia();var r=new g.default(I.getEnabledPageIndexes(),I.isCarousel()),o=f.default.parsePageFromLocation();M=I.getPageInfoByNumberOrSlug(o).number;var a=I.getNearestEnabledPage(M);M===a||l.default.previewMode||(s.default.info("Requesting disabled page",M),M=a),k=r.getPageIndexesToLoad(M-1),this.registerEvents()},createScaleContextOptions:function(e,n){return a.default.extend({module:t,marginTopCallback:function(){return 0},documentVersion:e},n||{})},createViewportViewOptions:function(e,n,i){return a.default.extend({module:t,documentVersion:e,scaleContext:n},i||{})},triggerExperienceLevelInteractions:function(e){e.get("interactions")&&a.default.each(e.get("interactions"),(function(e){switch(e.action){case"lightbox":setTimeout((function(){t.trigger(t.publishedEvents.TIMED_LIGHTBOX,e)}),1e3*e.delay);break;case"product":setTimeout((function(){t.trigger(t.publishedEvents.TIMED_PRODUCT_PANEL,e)}),1e3*e.delay);break;case"shopping-cart":setTimeout((function(){t.trigger(t.publishedEvents.TIMED_SHOPPING_CART,e)}),1e3*e.delay)}}))},registerEvents:function(){y.default.on("sdk.experience.page.goto",a.default.bind((function(t){this.jumpToPage(t.pageNum,!0)}),this)),y.default.on("sdk.experience.page.next",a.default.bind((function(t){this.nextPage()}),this)),y.default.on("sdk.experience.page.previous",a.default.bind((function(t){this.previousPage()}),this)),y.default.on("sdk.component.video.start",a.default.bind((function(t){this.startVideo(t.componentId)}),this)),y.default.on("sdk.component.video.stop",a.default.bind((function(t){this.stopVideo(t.componentId)}),this)),y.default.on("sdk.component.text.settext",a.default.bind((function(t){this.setComponentText(t.componentId,t.textContent)}),this)),y.default.on("sdk.component.image.seturl",a.default.bind((function(t){this.setImageUrl(t.componentId,t.url,t.useNewImageSize)}),this)),y.default.on("sdk.component.image.reset",a.default.bind((function(t){this.resetImage(t.componentId)}),this)),y.default.on("sdk.component.click",a.default.bind((function(t){this.clickComponent(t.componentId)}),this)),y.default.on("sdk.component.show",a.default.bind((function(t){this.showComponent(t.componentId)}),this)),y.default.on("sdk.component.hide",a.default.bind((function(t){this.hideComponent(t.componentId)}),this)),y.default.on("sdk.layer.show",a.default.bind((function(t){this.showLayer(t.layerId)}),this)),y.default.on("sdk.layer.hide",a.default.bind((function(t){this.hideLayer(t.layerId)}),this)),y.default.on("sdk.page.animations.start",a.default.bind((function(t){this.startPageAnimations(t.pageSlug)}),this)),y.default.on("sdk.page.animations.pause",a.default.bind((function(t){this.pausePageAnimations(t.pageSlug)}),this)),y.default.on("sdk.page.disable",a.default.bind((function(t){this.disablePage(t.pageNum)}),this)),y.default.on("sdk.page.enable",a.default.bind((function(t){this.enablePage(t.pageNum)}),this))},createPageViews:function(){var t=[];m.default.on(m.default.publishedEvents.PAGE_RELOAD,(function(){A.scale()})),(x=I.editorPagesManifest).each(a.default.bind((function(e,n){var i=this.createSinglePageView(e,n);t.push(i)}),this)),this.pageViews=t},createSinglePageView:function(t,e){var n=I.getPages()[e],i=m.default.createPageView(n,{physicalPageNumber:e,enableLoadingThumbnail:!1,enableLoadingSpinner:!0,thumbnail:t.get("thumbnail"),documentVersion:I,scaleContext:P,isRequestedPage:e===M-1});return l.default.previewMode&&n.on("remote",function(){e===A.getCurrentPage().getPageIndex()&&A.mainContentLink.render()}.bind(this)),i},getPageViews:function(){return this.pageViews},scale:function(){A.scalePageComponents()},preloadPageMedia:function(){var t=a.default.map(I.getPages(),(function(t){return P.getPageScaleContext(t)}));I.shouldLazyLoad()?(a.default.each(k,a.default.bind((function(e,n){var i=I.getPages()[e];0===n?D.mark(D.MARKS.PLAYER.HIGH_PRIORITY_IMAGES_START_LOADING):1===n&&D.mark(D.MARKS.PLAYER.LOW_PRIORITY_IMAGES_START_LOADING),s.default.debug("Lazy preloading media for page: "+(e+1));var r=0===n;i.lazyPreloadAllMedia(t[e],r)}),this)),1===k.length&&D.mark(D.MARKS.PLAYER.LOW_PRIORITY_IMAGES_START_LOADING),a.default.each(I.getPages(),(function(e,n){a.default.includes(k,n)||(s.default.debug("Lazy preloading media for page: "+(n+1)),e.lazyPreloadAllMedia(t[n],!1))}))):(D.mark(D.MARKS.PLAYER.HIGH_PRIORITY_IMAGES_START_LOADING),a.default.each(k,a.default.bind((function(e,n){var i=I.getPages()[e],r=t[e];s.default.debug("Preloading visible media for page: "+(e+1)),i.preloadVisibleMedia(r,!0)}),this)),D.mark(D.MARKS.PLAYER.LOW_PRIORITY_IMAGES_START_LOADING),a.default.each(I.getPages(),(function(e,n){a.default.includes(k,n)||(s.default.debug("Preloading visible media for page: "+(n+1)),e.preloadVisibleMedia(t[n],!1))})),a.default.each(I.getPages(),(function(e,n){s.default.debug("Preloading hidden media for page: "+(n+1)),e.preloadHiddenMedia(t[n])})))},renderPages:function(){this.createPageViews(),A.reset(this.pageViews,M),this.preRenderPages(),s.default.debug("Setting up the lazy preRender Defer"),a.default.defer(a.default.bind(t.startLazyPrerender,this));var e=A.showPage(M);return e.done(t.firstPageShown.resolve),e},activateFirstPage:function(){A.getBackgroundImagePromise().done(a.default.bind(A.showBackground,A));var e=A.getCurrentPage();if(A.activatePage(e),t.triggerExperienceLevelInteractions(I),window.location.hash)e.triggerScrollTo(window.location.hash);else if(!l.default.isEmbedded&&h.default.isWindows()){var n="page-"+this.getCurrentPageNumber()+"-top";e.focusArbiter.moveFocusToElement(n)}},preRenderPages:function(){D.mark(D.MARKS.PLAYER.BEGIN_PRERENDERING_PAGES);var t=this.pageViews;t=I.shouldLazyLoad()?[this.pageViews[k[0]]]:a.default.map(k,a.default.bind((function(t){return this.pageViews[t]}),this));var e=[];a.default.each(t,a.default.bind((function(t){t.prerender(),e.push(t.getPrerenderDeferred())}),this)),o.default.when.apply(o.default,e).done(a.default.bind((function(){D.mark(D.MARKS.PLAYER.ALL_PAGES_PRERENDERED)}),this))},isFirstPageReadyToShow:function(){return"resolved"===t.firstPageShown.state()},getFirstPageReadyPromise:function(){return t.firstPageShown},nextPage:function(){A&&A.nextPage()},previousPage:function(){A&&A.previousPage()},jumpToPage:function(t,e){A&&A.jumpToPage(t,e)},show:function(){A&&A.show()},hide:function(){A&&A.hide()},el:function(){return A?A.$el:null},getCurrentPageHeight:function(){if(A){var t=A.getCurrentPage();if(t)return t.getPageHeight()}return null},getCurrentPageSlug:function(){return A?A.currentPageSlug:null},getCurrentPageNumber:function(){return A?A.currentPage:null},getTotalPagesNumber:function(){return x.length},getPageNameBySlug:function(t){return A?A.getPageNameBySlug(t):null},isLastPage:function(t){var e=x.length,n=x.at(e-1);return a.default.last(n.uri.split("/"))===t},isFirstPage:function(t){var e=x.at(0);return a.default.last(e.uri.split("/"))===t},scrollTo:function(t,e){var n=A.getCurrentPage(),i=this.getScrollPositionForInteraction(t,e),r=l.default.shouldReduceMotion?0:300;return b.default.hasFeature(T.FeatureFlagName.ACCESSIBILITY)&&t===w?e=p.VIEWPORT_TOP_ID:t!==w&&t!==E||(e="page-"+(n.model.pageIndex+1)+"-"+t),n.$pageContainer.animate({scrollTop:i},r,"easeOutCubic",(function(){n.focusArbiter.moveFocusToElement(e)})),{scrollPosition:i,pageHeight:n.model.getPageHeight(I),visibleHeight:n.$pageContainer.height()}},getScrollPositionForInteraction:function(t,e){switch(t){case w:return 0;case E:return A.getCurrentPage().model.getPageHeight(I);case C:var n=A.getCurrentPage().model.getScranchorsForCurrentVariant();return n&&a.default.has(n,e)?n[e]:(s.default.warn("Could not find scranchor for id: "+e),null);case O:var i=A.getCurrentPage().model,r=i.findLayerById(e);return r?"folder"!==r.type||(r=i.constructor.findTopmostFolderContent(r))?r.parentSmartgroup?r.y+r.parentSmartgroup.options.y:r.absoluteY:(s.default.warn("Attempted to scroll to empty folder component: "+e),null):(s.default.warn("Could not find component to scroll to: "+e),null);default:return s.default.warn("Scroll interaction target type is invalid: "+t),null}},shareCurrentPageOnSocial:function(t,e){if(l.default.previewMode)alert("Pages can not be shared as a preview.  Social sharing will be enabled in the published experience.");else if(A){var n=f.default.buildUriForPageNumber(A.currentPage),i=A.getCurrentPage().getThumbnail();this.shareOnSocial(t,window.location.protocol+"//"+window.location.host+n,i)}},shareOnSocial:function(t,e,n){e=_.default.removeEmbedParams(e);var i=a.default.isEmpty(l.default.openGraphUrl)?e:l.default.openGraphUrl;switch(t){case"share-twitter":d.default.shareOnTwitter(i);break;case"share-linkedin":d.default.shareOnLinkedIn(i);break;case"share-pinterest":d.default.shareOnPinterest(i,n);break;case"share-facebook":d.default.shareOnFacebook(e);break;case"share-email":d.default.shareViaEmail(e)}},addClickShield:function(){A&&A.addClickShield()},removeClickShield:function(){A&&A.removeClickShield()},disableGestures:function(){a.default.isFunction(A.disableGestures)&&A.disableGestures()},enableGestures:function(){a.default.isFunction(A.enableGestures)&&A.enableGestures()},getExperienceWidth:function(){return A.getExperienceWidth()},getExperienceHeight:function(){return A.getExperienceHeight()},startVideo:function(t){var e=A.getCurrentPage().model.getAllSmartgroupInstanceComponentIds(t),n=[t].concat(e);a.default.each(n,(function(t){var e=A.getCurrentPage().findVideo(t);e&&e.play()}))},stopVideo:function(t){var e=A.getCurrentPage().model.getAllSmartgroupInstanceComponentIds(t),n=[t].concat(e);a.default.each(n,(function(t){var e=A.getCurrentPage().findVideo(t);e&&e.manuallyPause()}))},setComponentText:function(t,e){var n=A.getCurrentPage().model.getAllSmartgroupInstanceComponentIds(t),i=[t].concat(n);a.default.each(i,(function(t){var n=A.getCurrentPage().findChildView(t);n&&"text"===n.type&&n.setTextFromSDK(a.default.isNil(e)?"":String(e))}))},setImageUrl:function(t,e,n){var i=A.getCurrentPage().model.getAllSmartgroupInstanceComponentIds(t),r=[t].concat(i);a.default.each(r,(function(t){var i=A.getCurrentPage().findChildView(t);if(i&&"image"===i.type)if(i.srcOverride=e,i.dimensionsOverride=n,n){var r=new Image;r.onload=function(){var t=i.$innerElement.attr("style"),e=i.$innerElement.attr("alt");i.$innerElement.remove();var n=o.default(r);n.attr("style",t).attr("alt",e),i.$innerElement=o.default(n),i.$el.append(i.$innerElement)},r.src=e}else i.$innerElement.attr("src",e)}))},resetImage:function(t){var e=A.getCurrentPage().model.getAllSmartgroupInstanceComponentIds(t),n=[t].concat(e);a.default.each(n,(function(t){var e=A.getCurrentPage().findChildView(t);e&&"image"===e.type&&(e.srcOverride=null,e.dimensionsOverride=null,e.render())}))},showLayer:function(t){var e=A.getCurrentPage().model.getAllSmartgroupInstanceLayerIds(t),n=[t].concat(e);A.getCurrentPage().invokeShowAction(n)},hideLayer:function(t){var e=A.getCurrentPage(),n=e.model.getAllSmartgroupInstanceLayerIds(t),i=[t].concat(n);e.invokeHideAction(i)},clickComponent:function(t){var e=A.getCurrentPage(),n=e.model.getAllSmartgroupInstanceComponentIds(t),i=[t].concat(n);a.default.each(i,(function(t){var n=e.findChildView(t);n&&n.simulateClick()}))},showComponent:function(t){var e=A.getCurrentPage().model.getAllSmartgroupInstanceComponentIds(t),n=[t].concat(e);a.default.each(n,(function(t){var e=A.getCurrentPage().findChildView(t);e&&(e.reset(),e._applyVisibility(!0),e.activateAndRunEntryAnimations())}))},hideComponent:function(t){var e=A.getCurrentPage().model.getAllSmartgroupInstanceComponentIds(t),n=[t].concat(e);a.default.each(n,(function(t){var e=A.getCurrentPage().findChildView(t);e&&e._applyVisibility(!1)}))},startPageAnimations:function(t){var e=A.getCurrentPage();e.model.get("slug")===t&&(e.reset(),e.activateAndRunEntryAnimationsForAllVisible())},pausePageAnimations:function(t){var e=A.getCurrentPage();e.model.get("slug")===t&&e.pauseAnimations()},toggleReducedMotion:function(){l.default.shouldReduceMotion=!l.default.shouldReduceMotion,o.default("#main").toggleClass("ceros-no-animate");var t=A.getCurrentPage();this.toggleAutoPlayVideos(t.childViews),l.default.shouldReduceMotion||t.restartRepeatEntryAnimationsForAllVisibleOrViewed()},disablePage:function(t){A.disablePage(t)},enablePage:function(t){A.enablePage(t)},isLayerVisible:function(t){return a.default.some(this.pageViews,(function(e){return e.isChildVisible(t)}))},handleAutoVideoToggle:function(t){!t.options.videoAutoPlay||!t.options.videoLoop&&t.videoHandle.ended()||(l.default.shouldReduceMotion?t.autoPause():!t.wasInsideVisibleBoundaries||!t.isAutoPaused&&t.playedOnce||t.play())},toggleAutoPlayVideos:function(t){var e,n;try{for(var r=i(t),o=r.next();!o.done;o=r.next()){var a=o.value;a instanceof S.VideoComponentView?this.handleAutoVideoToggle(a):a.childViews&&this.toggleAutoPlayVideos(a.childViews)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}}},startLazyPrerender:function(){s.default.debug("Lazy prerender process starting...");var t=Date.now(),e=[],n=this.getPageViews();a.default.each(k,(function(t){e.push(n[t])})),a.default.each(n,(function(t,n){a.default.includes(k,n)||e.push(t)}));var i=o.default.Deferred().resolve();return a.default.each(e,(function(t){t.isPrerendered()||(i=i.then(a.default.bind(t.startLazyPrerender,t)))})),i.then((function(){s.default.debug("Lazy prerender process complete. Total elapsed time: "+(Date.now()-t)+" ms")})),i.promise()},currentPageNumber:function(){return A.currentPage||1}};e.moduleOptions=R;t=new u.default.Module(R);e.default=t},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.BaseURLInteraction=void 0;var s=a(n(0)),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),Object.defineProperty(e.prototype,"domTagOverride",{get:function(){if("click"===this.trigger&&this.isValid()){var t=s.default.escape(this.constructUrl());return t?{tagName:"a",priority:2,attributes:o(o({},this.customAttributes()),{href:t})}:{tagName:"button",priority:1,attributes:this.customAttributes()}}},enumerable:!1,configurable:!0}),e.prototype.customAttributes=function(){return{}},e}(n(26).BaseInteraction);e.BaseURLInteraction=u},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=n(5);e.default={isHoverInteractionShowingLayers:function(t){return"hover"===t.trigger&&r.default.includes([o.ActionTypes.showAndStayVisibleCanvasTargets,o.ActionTypes.showCanvasTargetsOnHover],t.action)},isShowLayersOnHoverInteraction:function(t){return t.action===o.ActionTypes.showCanvasTargetsOnHover},isShowLayersInteraction:function(t){return r.default.includes([o.ActionTypes.showCanvasTargets,o.ActionTypes.showCanvasTargetsOnHover],t.action)},isHideLayersInteraction:function(t){return t.action===o.ActionTypes.hideCanvasTargets},isTemporaryHoverInteractionShowingOrHidingLayers:function(t){return"hover"===t.trigger&&r.default.includes([o.ActionTypes.showCanvasTargetsOnHover,o.ActionTypes.hideCanvasTargets],t.action)},shouldDrawHoverArea:function(t){return t.action===o.ActionTypes.showCanvasTargetsOnHover&&t.createHoverArea},hasCustomFiringHoverAction:function(t){return"hover"===t.trigger&&r.default.includes([o.ActionTypes.showAndStayVisibleCanvasTargets,o.ActionTypes.showCanvasTargetsOnHover,o.ActionTypes.showCanvasTargets,o.ActionTypes.hideCanvasTargets],t.action)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isValidSelector=e.escapeComponentId=void 0;e.escapeComponentId=function(t){return void 0===t&&(t=""),t.replace(/([^\\])\|/g,"$1\\|")};e.isValidSelector=function(t){return void 0===t&&(t=""),-1===t.indexOf("=")}},function(t,e,n){"use strict";var i;(function(r){var o,a,s=Math.round,u={},l=t.exports,c=/^\/?Date\((\-?\d+)/i,d=/(\-)?(\d*)?\.?(\d+)\:(\d+)\:(\d+)\.?(\d{3})?/,h=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|SS?S?|X|zz?|ZZ?|.)/g,f=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,p=/\d\d?/,g=/\d{1,3}/,m=/\d{3}/,v=/\d{1,4}/,y=/[+\-]?\d{1,6}/,_=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,b=/Z|[\+\-]\d\d:?\d\d/i,T=/T/i,S=/[\+\-]?\d+(\.\d{1,3})?/,w=/^\s*\d{4}-\d\d-\d\d((T| )(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?/,E=[["HH:mm:ss.S",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],C=/([\+\-]|\d\d)/gi,O="Date|Hours|Minutes|Seconds|Milliseconds".split("|"),A={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},P={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",w:"week",M:"month",y:"year"},I={},x="DDD w W M D d".split(" "),M="M D H h m s w W".split(" "),k={M:function(){return this.month()+1},MMM:function(t){return this.lang().monthsShort(this,t)},MMMM:function(t){return this.lang().months(this,t)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(t){return this.lang().weekdaysMin(this,t)},ddd:function(t){return this.lang().weekdaysShort(this,t)},dddd:function(t){return this.lang().weekdays(this,t)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return U(this.year()%100,2)},YYYY:function(){return U(this.year(),4)},YYYYY:function(){return U(this.year(),5)},gg:function(){return U(this.weekYear()%100,2)},gggg:function(){return this.weekYear()},ggggg:function(){return U(this.weekYear(),5)},GG:function(){return U(this.isoWeekYear()%100,2)},GGGG:function(){return this.isoWeekYear()},GGGGG:function(){return U(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return~~(this.milliseconds()/100)},SS:function(){return U(~~(this.milliseconds()/10),2)},SSS:function(){return U(this.milliseconds(),3)},Z:function(){var t=-this.zone(),e="+";return t<0&&(t=-t,e="-"),e+U(~~(t/60),2)+":"+U(~~t%60,2)},ZZ:function(){var t=-this.zone(),e="+";return t<0&&(t=-t,e="-"),e+U(~~(10*t/6),4)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()}};function D(t,e){return function(n){return U(t.call(this,n),e)}}function R(t,e){return function(n){return this.lang().ordinal(t.call(this,n),e)}}for(;x.length;)a=x.pop(),k[a+"o"]=R(k[a],a);for(;M.length;)a=M.pop(),k[a+a]=D(k[a],2);function N(){}function L(t){V(this,t)}function F(t){var e=t.years||t.year||t.y||0,n=t.months||t.month||t.M||0,i=t.weeks||t.week||t.w||0,r=t.days||t.day||t.d||0,o=t.hours||t.hour||t.h||0,a=t.minutes||t.minute||t.m||0,s=t.seconds||t.second||t.s||0,u=t.milliseconds||t.millisecond||t.ms||0;this._input=t,this._milliseconds=u+1e3*s+6e4*a+36e5*o,this._days=r+7*i,this._months=n+12*e,this._data={},this._bubble()}function V(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function j(t){return t<0?Math.ceil(t):Math.floor(t)}function U(t,e){for(var n=t+"";n.length<e;)n="0"+n;return n}function B(t,e,n,i){var r,a,s=e._milliseconds,u=e._days,l=e._months;s&&t._d.setTime(+t._d+s*n),(u||l)&&(r=t.minute(),a=t.hour()),u&&t.date(t.date()+u*n),l&&t.month(t.month()+l*n),s&&!i&&o.updateOffset(t),(u||l)&&(t.minute(r),t.hour(a))}function H(t){return"[object Array]"===Object.prototype.toString.call(t)}function G(t,e){var n,i=Math.min(t.length,e.length),r=Math.abs(t.length-e.length),o=0;for(n=0;n<i;n++)~~t[n]!=~~e[n]&&o++;return o+r}function W(t){return t?P[t]||t.toLowerCase().replace(/(.)s$/,"$1"):t}function z(t){if(!t)return o.fn._lang;if(!u[t]&&l)try{n(290)("./"+t)}catch(t){return o.fn._lang}return u[t]}function $(t,e){var n=5;function i(e){return t.lang().longDateFormat(e)||e}for(;n--&&f.test(e);)e=e.replace(f,i);return I[e]||(I[e]=function(t){var e,n,i,r=t.match(h);for(e=0,n=r.length;e<n;e++)k[r[e]]?r[e]=k[r[e]]:r[e]=(i=r[e]).match(/\[.*\]/)?i.replace(/^\[|\]$/g,""):i.replace(/\\/g,"");return function(i){var o="";for(e=0;e<n;e++)o+=r[e]instanceof Function?r[e].call(i,t):r[e];return o}}(e)),I[e](t)}function Y(t,e){switch(t){case"DDDD":return m;case"YYYY":return v;case"YYYYY":return y;case"S":case"SS":case"SSS":case"DDD":return g;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return _;case"a":case"A":return z(e._l)._meridiemParse;case"X":return S;case"Z":case"ZZ":return b;case"T":return T;case"MM":case"DD":case"YY":case"HH":case"hh":case"mm":case"ss":case"M":case"D":case"d":case"H":case"h":case"m":case"s":return p;default:return new RegExp(t.replace("\\",""))}}function q(t){var e=((b.exec(t)||[])[0]+"").match(C)||["-",0,0],n=60*e[1]+~~e[2];return"+"===e[0]?-n:n}function X(t,e,n){var i,r=n._a;switch(t){case"M":case"MM":r[1]=null==e?0:~~e-1;break;case"MMM":case"MMMM":null!=(i=z(n._l).monthsParse(e))?r[1]=i:n._isValid=!1;break;case"D":case"DD":case"DDD":case"DDDD":null!=e&&(r[2]=~~e);break;case"YY":r[0]=~~e+(~~e>68?1900:2e3);break;case"YYYY":case"YYYYY":r[0]=~~e;break;case"a":case"A":n._isPm=z(n._l).isPM(e);break;case"H":case"HH":case"h":case"hh":r[3]=~~e;break;case"m":case"mm":r[4]=~~e;break;case"s":case"ss":r[5]=~~e;break;case"S":case"SS":case"SSS":r[6]=~~(1e3*("0."+e));break;case"X":n._d=new Date(1e3*parseFloat(e));break;case"Z":case"ZZ":n._useUTC=!0,n._tzm=q(e)}null==e&&(n._isValid=!1)}function K(t){var e,n,i=[];if(!t._d){for(e=0;e<7;e++)t._a[e]=i[e]=null==t._a[e]?2===e?1:0:t._a[e];i[3]+=~~((t._tzm||0)/60),i[4]+=~~((t._tzm||0)%60),n=new Date(0),t._useUTC?(n.setUTCFullYear(i[0],i[1],i[2]),n.setUTCHours(i[3],i[4],i[5],i[6])):(n.setFullYear(i[0],i[1],i[2]),n.setHours(i[3],i[4],i[5],i[6])),t._d=n}}function Z(t){var e,n,i=t._f.match(h),r=t._i;for(t._a=[],e=0;e<i.length;e++)(n=(Y(i[e],t).exec(r)||[])[0])&&(r=r.slice(r.indexOf(n)+n.length)),k[i[e]]&&X(i[e],n,t);r&&(t._il=r),t._isPm&&t._a[3]<12&&(t._a[3]+=12),!1===t._isPm&&12===t._a[3]&&(t._a[3]=0),K(t)}function J(t){var e=t._i,n=c.exec(e);e===r?t._d=new Date:n?t._d=new Date(+n[1]):"string"==typeof e?function(t){var e,n=t._i,i=w.exec(n);if(i){for(t._f="YYYY-MM-DD"+(i[2]||" "),e=0;e<4;e++)if(E[e][1].exec(n)){t._f+=E[e][0];break}b.exec(n)&&(t._f+=" Z"),Z(t)}else t._d=new Date(n)}(t):H(e)?(t._a=e.slice(0),K(t)):t._d=e instanceof Date?new Date(+e):new Date(e)}function Q(t,e,n,i,r){return r.relativeTime(e||1,!!n,t,i)}function tt(t,e,n){var i,r=n-e,a=n-t.day();return a>r&&(a-=7),a<r-7&&(a+=7),i=o(t).add("d",a),{week:Math.ceil(i.dayOfYear()/7),year:i.year()}}function et(t){var e=t._i,n=t._f;return null===e||""===e?null:("string"==typeof e&&(t._i=e=z().preparse(e)),o.isMoment(e)?(t=V({},e))._d=new Date(+e._d):n?H(n)?function(t){var e,n,i,r,o,a=99;for(r=0;r<t._f.length;r++)(e=V({},t))._f=t._f[r],Z(e),n=new L(e),o=G(e._a,n.toArray()),n._il&&(o+=n._il.length),o<a&&(a=o,i=n);V(t,i)}(t):Z(t):J(t),new L(t))}function nt(t,e){o.fn[t]=o.fn[t+"s"]=function(t){var n=this._isUTC?"UTC":"";return null!=t?(this._d["set"+n+e](t),o.updateOffset(this),this):this._d["get"+n+e]()}}for(k.DDDD=D(k.DDD,3),N.prototype={set:function(t){var e,n;for(n in t)"function"==typeof(e=t[n])?this[n]=e:this["_"+n]=e},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(t){return this._months[t.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(t){return this._monthsShort[t.month()]},monthsParse:function(t){var e,n,i;for(this._monthsParse||(this._monthsParse=[]),e=0;e<12;e++)if(this._monthsParse[e]||(n=o([2e3,e]),i="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[e]=new RegExp(i.replace(".",""),"i")),this._monthsParse[e].test(t))return e},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(t){return this._weekdays[t.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(t){return this._weekdaysShort[t.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(t){return this._weekdaysMin[t.day()]},weekdaysParse:function(t){var e,n,i;for(this._weekdaysParse||(this._weekdaysParse=[]),e=0;e<7;e++)if(this._weekdaysParse[e]||(n=o([2e3,1]).day(e),i="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[e]=new RegExp(i.replace(".",""),"i")),this._weekdaysParse[e].test(t))return e},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(t){var e=this._longDateFormat[t];return!e&&this._longDateFormat[t.toUpperCase()]&&(e=this._longDateFormat[t.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,(function(t){return t.slice(1)})),this._longDateFormat[t]=e),e},isPM:function(t){return"p"===(t+"").toLowerCase()[0]},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(t,e){var n=this._calendar[t];return"function"==typeof n?n.apply(e):n},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(t,e,n,i){var r=this._relativeTime[n];return"function"==typeof r?r(t,e,n,i):r.replace(/%d/i,t)},pastFuture:function(t,e){var n=this._relativeTime[t>0?"future":"past"];return"function"==typeof n?n(e):n.replace(/%s/i,e)},ordinal:function(t){return this._ordinal.replace("%d",t)},_ordinal:"%d",preparse:function(t){return t},postformat:function(t){return t},week:function(t){return tt(t,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6}},(o=function(t,e,n){return et({_i:t,_f:e,_l:n,_isUTC:!1})}).utc=function(t,e,n){return et({_useUTC:!0,_isUTC:!0,_l:n,_i:t,_f:e})},o.unix=function(t){return o(1e3*t)},o.duration=function(t,e){var n,i,r=o.isDuration(t),a="number"==typeof t,s=r?t._input:a?{}:t,u=d.exec(t);return a?e?s[e]=t:s.milliseconds=t:u&&(n="-"===u[1]?-1:1,s={y:0,d:~~u[2]*n,h:~~u[3]*n,m:~~u[4]*n,s:~~u[5]*n,ms:~~u[6]*n}),i=new F(s),r&&t.hasOwnProperty("_lang")&&(i._lang=t._lang),i},o.version="2.1.0",o.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",o.updateOffset=function(){},o.lang=function(t,e){if(!t)return o.fn._lang._abbr;e?function(t,e){e.abbr=t,u[t]||(u[t]=new N),u[t].set(e),u[t]}(t,e):u[t]||z(t),o.duration.fn._lang=o.fn._lang=z(t)},o.langData=function(t){return t&&t._lang&&t._lang._abbr&&(t=t._lang._abbr),z(t)},o.isMoment=function(t){return t instanceof L},o.isDuration=function(t){return t instanceof F},o.fn=L.prototype={clone:function(){return o(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){return $(o(this).utc(),"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var t=this;return[t.year(),t.month(),t.date(),t.hours(),t.minutes(),t.seconds(),t.milliseconds()]},isValid:function(){return null==this._isValid&&(this._a?this._isValid=!G(this._a,(this._isUTC?o.utc(this._a):o(this._a)).toArray()):this._isValid=!isNaN(this._d.getTime())),!!this._isValid},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(t){var e=$(this,t||o.defaultFormat);return this.lang().postformat(e)},add:function(t,e){return B(this,"string"==typeof t?o.duration(+e,t):o.duration(t,e),1),this},subtract:function(t,e){return B(this,"string"==typeof t?o.duration(+e,t):o.duration(t,e),-1),this},diff:function(t,e,n){var i,r,a=this._isUTC?o(t).zone(this._offset||0):o(t).local(),s=6e4*(this.zone()-a.zone());return"year"===(e=W(e))||"month"===e?(i=432e5*(this.daysInMonth()+a.daysInMonth()),r=12*(this.year()-a.year())+(this.month()-a.month()),r+=(this-o(this).startOf("month")-(a-o(a).startOf("month")))/i,r-=6e4*(this.zone()-o(this).startOf("month").zone()-(a.zone()-o(a).startOf("month").zone()))/i,"year"===e&&(r/=12)):(i=this-a,r="second"===e?i/1e3:"minute"===e?i/6e4:"hour"===e?i/36e5:"day"===e?(i-s)/864e5:"week"===e?(i-s)/6048e5:i),n?r:j(r)},from:function(t,e){return o.duration(this.diff(t)).lang(this.lang()._abbr).humanize(!e)},fromNow:function(t){return this.from(o(),t)},calendar:function(){var t=this.diff(o().startOf("day"),"days",!0),e=t<-6?"sameElse":t<-1?"lastWeek":t<0?"lastDay":t<1?"sameDay":t<2?"nextDay":t<7?"nextWeek":"sameElse";return this.format(this.lang().calendar(e,this))},isLeapYear:function(){var t=this.year();return t%4==0&&t%100!=0||t%400==0},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(t){var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?"string"==typeof t&&"number"!=typeof(t=this.lang().weekdaysParse(t))?this:this.add({d:t-e}):e},month:function(t){var e,n=this._isUTC?"UTC":"";return null!=t?("string"==typeof t&&"number"!=typeof(t=this.lang().monthsParse(t))||(e=this.date(),this.date(1),this._d["set"+n+"Month"](t),this.date(Math.min(e,this.daysInMonth())),o.updateOffset(this)),this):this._d["get"+n+"Month"]()},startOf:function(t){switch(t=W(t)){case"year":this.month(0);case"month":this.date(1);case"week":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),this},endOf:function(t){return this.startOf(t).add(t,1).subtract("ms",1)},isAfter:function(t,e){return e=void 0!==e?e:"millisecond",+this.clone().startOf(e)>+o(t).startOf(e)},isBefore:function(t,e){return e=void 0!==e?e:"millisecond",+this.clone().startOf(e)<+o(t).startOf(e)},isSame:function(t,e){return e=void 0!==e?e:"millisecond",+this.clone().startOf(e)==+o(t).startOf(e)},min:function(t){return(t=o.apply(null,arguments))<this?this:t},max:function(t){return(t=o.apply(null,arguments))>this?this:t},zone:function(t){var e=this._offset||0;return null==t?this._isUTC?e:this._d.getTimezoneOffset():("string"==typeof t&&(t=q(t)),Math.abs(t)<16&&(t*=60),this._offset=t,this._isUTC=!0,e!==t&&B(this,o.duration(e-t,"m"),1,!0),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},daysInMonth:function(){return o.utc([this.year(),this.month()+1,0]).date()},dayOfYear:function(t){var e=s((o(this).startOf("day")-o(this).startOf("year"))/864e5)+1;return null==t?e:this.add("d",t-e)},weekYear:function(t){var e=tt(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==t?e:this.add("y",t-e)},isoWeekYear:function(t){var e=tt(this,1,4).year;return null==t?e:this.add("y",t-e)},week:function(t){var e=this.lang().week(this);return null==t?e:this.add("d",7*(t-e))},isoWeek:function(t){var e=tt(this,1,4).week;return null==t?e:this.add("d",7*(t-e))},weekday:function(t){var e=(this._d.getDay()+7-this.lang()._week.dow)%7;return null==t?e:this.add("d",t-e)},isoWeekday:function(t){return null==t?this.day()||7:this.day(this.day()%7?t:t-7)},lang:function(t){return t===r?this._lang:(this._lang=z(t),this)}},a=0;a<O.length;a++)nt(O[a].toLowerCase().replace(/s$/,""),O[a]);function it(t){o.duration.fn[t]=function(){return this._data[t]}}function rt(t,e){o.duration.fn["as"+t]=function(){return+this/e}}for(a in nt("year","FullYear"),o.fn.days=o.fn.day,o.fn.months=o.fn.month,o.fn.weeks=o.fn.week,o.fn.isoWeeks=o.fn.isoWeek,o.fn.toJSON=o.fn.toISOString,o.duration.fn=F.prototype={_bubble:function(){var t,e,n,i,r=this._milliseconds,o=this._days,a=this._months,s=this._data;s.milliseconds=r%1e3,t=j(r/1e3),s.seconds=t%60,e=j(t/60),s.minutes=e%60,n=j(e/60),s.hours=n%24,o+=j(n/24),s.days=o%30,a+=j(o/30),s.months=a%12,i=j(a/12),s.years=i},weeks:function(){return j(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*~~(this._months/12)},humanize:function(t){var e,n,i,r,o,a,u,l,c,d=+this,h=(e=d,n=!t,i=this.lang(),r=s(Math.abs(e)/1e3),o=s(r/60),a=s(o/60),u=s(a/24),l=s(u/365),(c=r<45&&["s",r]||1===o&&["m"]||o<45&&["mm",o]||1===a&&["h"]||a<22&&["hh",a]||1===u&&["d"]||u<=25&&["dd",u]||u<=45&&["M"]||u<345&&["MM",s(u/30)]||1===l&&["y"]||["yy",l])[2]=n,c[3]=e>0,c[4]=i,Q.apply({},c));return t&&(h=this.lang().pastFuture(d,h)),this.lang().postformat(h)},add:function(t,e){var n=o.duration(t,e);return this._milliseconds+=n._milliseconds,this._days+=n._days,this._months+=n._months,this._bubble(),this},subtract:function(t,e){var n=o.duration(t,e);return this._milliseconds-=n._milliseconds,this._days-=n._days,this._months-=n._months,this._bubble(),this},get:function(t){return this[(t=W(t)).toLowerCase()+"s"]()},as:function(t){return this["as"+(t=W(t)).charAt(0).toUpperCase()+t.slice(1)+"s"]()},lang:o.fn.lang},A)A.hasOwnProperty(a)&&(rt(a,A[a]),it(a.toLowerCase()));rt("Weeks",6048e5),o.duration.fn.asMonths=function(){return(+this-31536e6*this.years())/2592e6+12*this.years()},o.lang("en",{ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),l&&(t.exports=o),"undefined"==typeof ender&&(this.moment=o),(i=function(){return o}.apply(e,[]))===r||(t.exports=i)}).call(this)},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},u=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&o(e,t,n);return a(e,t),e},l=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractCustomPathComponentView=void 0;var c=l(n(14)),d=l(n(314)),h=u(n(17)),f=n(20),p=n(88),g=n(34),m=n(37),v=l(n(31)),y=l(n(30)),_=n(141),b=l(n(47)),T=l(n(4)),S=function(t){function e(e){var n=t.call(this,e)||this;return n.hasRenderedGradient=!1,n.options=e,n}return r(e,t),e.prototype.callObjectStateInvoker=function(t,e){m.ObjectStateInvoker.invokeScaleableObjectState(this,t,e)},e.prototype._applyRotation=function(e){this.isMaskImage()||t.prototype._applyRotation.call(this,e)},e.prototype._applyBorder=function(t){void 0===t&&(t=this.options.border||{}),this.getShapeElement().css("stroke",t.color||""),this.getShapeElement().css("stroke-width",t.width||0),this.getShapeElement().css("miter-limit",10)},e.prototype.applyMaskProperties=function(){var t,e=this.$el,n=this.options.background;if((null==n?void 0:n.color)&&e.css("background",n.color),(null==n?void 0:n.gradient)&&(null===(t=null==n?void 0:n.gradient)||void 0===t?void 0:t.stops)){var i=n.gradient.angle;e.css("backgroundImage","linear-gradient("+i+"deg,"+y.default.buildStops(n.gradient.stops)+")")}},e.prototype._applyBackground=function(t,e){void 0===t&&(t=this.options.background||{}),void 0===e&&(e=this.options.transition);var n=this.getStopElements(),i=0;this.isMaskImage()&&this.applyMaskProperties(),t.color&&n.css("stop-color",t.color),t.gradient&&(n.first().css("stop-color",t.gradient.stops[0].color),n.last().css("stop-color",t.gradient.stops[1].color),i=t.gradient.angle||0),t.color||t.gradient||n.css("stop-color","transparent"),p.AnimateSVGUtil.renderGradientAnimation(this.getSVGElement(),this.getGradientElement(),i,this.hasRenderedGradient?e:null),this.hasRenderedGradient=!0},e.prototype._applyShadow=function(t,e){return void 0===t&&(t=this.options.shadow),void 0===e&&(e=this.options.rotation),this.applyDropShadow(t,e)},e.prototype._applyOpacity=function(t){void 0===t&&(t=this.getOpacity()),this.$el.css("opacity",t)},e.prototype.getHoverTarget=function(){return this.getPointerEventsTarget()},e.prototype.render=function(){var e=this,n=this.options.width,i=this.options.height,r=this.id+"-"+this.type+"-svg",o=this.id+"-"+this.type+"-svg",a=r+"-gradient",s=a+"-stop0",u=a+"-stop1",l=r+"-custom-path-shadow-filter",h="url(#"+a+")",f=this.calculateTransform(),p=this.renderShape({fill:h,shadow:"",transform:f}),g=c.default.render(d.default,{svgName:r,componentId:o,gradientName:a,gradientStop0Name:s,gradientStop1Name:u,width:n,height:i,subview:p,fill:h,shadowName:l});if(this.isMaskImage()){var m=v.default.encodedSvgStringAsBase64(g);this.renderAsMask(m)}else this.$el.empty().html(g);t.prototype.render.call(this),this.options.ariaLabel||this.hasClickInteraction()||this.hasHoverInteraction()||this.$el.attr("aria-hidden","true"),this.isMaskImage()||this.createAnimationWithTransition(this.getSVGElement(),{placeholder:"0"},{placeholder:"0"},{duration:0,easing:_.Easing.linear,delay:0});var y=this.getShapeElement();return this.shouldTriggerClickOnKeyDown()&&(y.addClass("focusable outline-hidden"),this.hasAccessibilityFeature&&y.attr("role","button")),y.on("focus",(function(){y.addClass("outline-hidden"),"keyboard"===b.default.ask()&&(T.default.isDesktopSafari()&&e.$el.css("outline","auto"),y.removeClass("outline-hidden"))})),y.on("blur",(function(){T.default.isDesktopSafari()&&e.$el.css("outline",""),y.addClass("outline-hidden")})),this},e.prototype.renderAsMask=function(t){var e={"-webkit-mask-image":t,"mask-image":t,"-webkit-mask-repeat":"no-repeat","-webkit-mask-position":"0px 0px"};this.$el.css(e)},e.prototype.isMaskImage=function(){var t;return!(!this.options.maskInfo||!(null===(t=this.options.maskInfo)||void 0===t?void 0:t.maskedObjectId))},e.prototype.calculateTransform=function(){if(this.isMaskImage()){this._configureAllWidthAllHeight();var t=this.options,e=t.x,n=t.y,i=t.rotation,r=t.allWidth,o=t.allHeight;if(void 0!==o&&void 0!==r)return"rotate("+i+", "+r/2+", "+o/2+") translate("+e+", "+n+")"}return null},e.prototype.getStop=function(t,e){if(t&&t.gradient&&t.gradient.stops)return t.gradient.stops.find((function(t){return t.stop===e}))},e.prototype.gradientExists=function(t){return!!t&&!!t.gradient},e.prototype.shadowFilterExists=function(t){return t&&void 0!==t.x&&void 0!==t.y&&void 0!==t.color&&void 0!==t.blur},e.prototype._applyPosition=function(e,n){if(void 0===e&&(e=this.options.x),void 0===n&&(n=this.options.y),this.isMaskImage())t.prototype._applyPosition.call(this,0,0);else{var i=this.getApplyPositionTarget();i.css("left",e+"px"),i.css("top",n+"px")}},e.prototype._applyDimensions=function(e,n){this.isMaskImage()?t.prototype._applyDimensions.call(this,this.options.allWidth,this.options.allHeight):t.prototype._applyDimensions.call(this,e,n)},e.prototype.getStopElements=function(){return this.$el.find("stop")},e.prototype.applyTransitionToTarget=function(e,n){t.prototype.applyTransitionToTarget.call(this,e,n),this.getShapeElement().css("transition",e),this.getShapeElement().css("transition-property",n||"none"),this.getSVGElement().css("transition",e),this.getSVGElement().css("transition-property",n||"none"),this.getStopElements().css("transition",e),this.getStopElements().css("transition-property",n||"none")},e.prototype.getSVGElement=function(){return this.$el.find(".custom-path-component")},e.prototype.getApplyShadowTarget=function(){return this.isMaskImage()&&this.parentViews.length>0?this.parentViews[0].$el:this.getSVGElement()},e.prototype.getGradientElement=function(){return this.$el.find("linearGradient")},e.prototype.shouldTriggerClickOnKeyDown=function(){return this.hasClickInteraction()&&!this.isMaskImage()},e.prototype.applyTabindex=function(){this.hasClickInteraction()&&!this.isMaskImage()?this.getShapeElement().attr("tabindex",0):this.hasClickInteraction()||this.getPointerEventsTarget().attr("tabindex",-1),this.hasAccessibilityFeature&&this.shouldTriggerClickOnKeyDown()&&this.getSVGElement().removeAttr("aria-hidden"),t.prototype.applyTabindex.call(this)},e.prototype.getPointerEventsTarget=function(){return this.isMaskImage()?this.$el:this.getShapeElement()},e.prototype.applyTagOverride=function(){this.isMaskImage()&&t.prototype.applyTagOverride.call(this)},e.prototype.getShadowParams=function(t,e,n,i){void 0===e&&(e=this.options.width),void 0===n&&(n=this.options.height),void 0===i&&(i=this.options.rotation),i=i||0;var r=h.maintainOffsetWhenRotated(i,{x:t.x||0,y:t.y||0}),o=r.x||0,a=r.y||0,s=(t.blur||0)/2,u=t.color||"",l=2*s,c=100*Math.abs(o/e)*-1-20-l,d=100*Math.abs(a/n)*-1-20-l;return{shadowX:o,shadowY:a,shadowBlur:s,shadowColor:u,filterX:c,filterY:d,filterWidth:2*Math.abs(c)+100,filterHeight:2*Math.abs(d)+100}},e.prototype.createAnimationWithTransition=function(t,e,n,i){if(i){var r={};Object.keys(e).forEach((function(t){r[t]={from:n[t],to:e[t]}}));var o=p.AnimateSVGUtil.animatePointsForMultiple(r),a=p.AnimateSVGUtil.getSplineStringFromEasing(i.easing),s=Object.keys(o).map((function(t){return p.AnimateSVGUtil.createAnimationElement(t,!1,o[t],a)}));t.find("animate").remove(),p.AnimateSVGUtil.startNewAnimations(this.getSVGElement(),t,s,i)}else Object.keys(e).forEach((function(n){t.attr(n,e[n])}))},e.prototype.applyPoints=function(t,e){},e.prototype.applyPath=function(t,e,n){void 0===t&&(t=this.options.path)},e=s([g.BackboneShim({className:"custom-path-container shape"})],e)}(f.AbstractComponentView);e.AbstractCustomPathComponentView=S},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.FontUtil=void 0;var r=i(n(0)),o=i(n(1)),a=n(21),s=function(){function t(){}return t.loadMetrics=function(t){return o.default.ajax({url:"/rest/v1/font/font-metrics",dataType:"json",data:{variantGuids:t}})},t.buildGoogleVariantDisplayName=function(t,e){var n={100:"Thin",200:"Extra-Light",300:"Light",400:"Normal",500:"Medium",600:"Semi-Bold",700:"Bold",800:"Extra-Bold",900:"Ultra-Bold"}[t];return"normal"!==e&&(n+=" "+e),n},t.parseGoogleVariantName=function(t){var e,n;if("regular"===(t=t.toLowerCase()))e=400,n="normal";else if("italic"===t)e=400,n="italic";else if("oblique"===t)e=400,n="oblique";else{var i=t.match(/(\d+)(italic|regular|oblique)?/i);if(!i||3!==i.length)throw"Could not parse google variant: "+t;e=parseInt(i[1],10),n=i[2]&&"regular"!==i[2]?i[2]:"normal"}return{fontWeight:e,fontStyle:n,variantName:this.buildGoogleVariantDisplayName(e,n)}},t.buildGoogleVariantName=function(t,e){var n=null;return 400===t?n="italic"===e?"italic":"oblique"===e?"oblique":"regular":(n=""+t,"italic"===e?n+="Italic":"oblique"===e&&(n+="Oblique")),n},t.getFontAPI=function(t){return r.default.startsWith(t,a.FontConstants.GOOGLE_API_ID)?a.FontConstants.GOOGLE_API_ID:t.startsWith(a.FontConstants.FONT_PLUS_UPLOADED_API_ID)?a.FontConstants.FONT_PLUS_UPLOADED_API_ID:r.default.startsWith(t,a.FontConstants.UPLOADED_API_ID)?a.FontConstants.UPLOADED_API_ID:r.default.startsWith(t,a.FontConstants.BUILTIN_API_ID)?a.FontConstants.BUILTIN_API_ID:""},t}();e.FontUtil=s},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractCustomPathHoverAreaComponentView=void 0;var o=function(t){function e(e){var n=t.call(this,e)||this;return n.options=e,n}return r(e,t),e.prototype.render=function(){t.prototype.render.call(this);var e=this.renderShapeHoverArea();e.setAttributeNS(null,"fill","none");var n=document.createElementNS("http://www.w3.org/2000/svg","svg");return n.setAttributeNS(null,"overflow","visible"),n.append(e),n.style.width="100%",n.style.height="100%",n.style.display="block",this.$el.append(n),this.renderStroke(),this},e.prototype.renderBorder=function(){},e.prototype.renderStroke=function(){var t=this.options.component.options.border;this.getHoverAreaTarget().css("stroke","transparent"),this.getHoverAreaTarget().css("stroke-width",t.width||0),this.getHoverAreaTarget().css("miter-limit",10)},e.prototype.getHoverAreaTarget=function(){return this.$el.find("svg >")},e}(n(150).HoverAreaComponentView);e.AbstractCustomPathHoverAreaComponentView=o},function(t,e,n){"use strict";var i=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},r=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(i(arguments[e]));return t},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ObjectStateManager=void 0;var a=o(n(44)),s=o(n(24)),u=function(){function t(){this.collection=null,this.isInInteractionPreviewMode=!1}return t.getInstance=function(){return t.instance=t.instance||new t,t.instance},t.setSelectedComponentCollection=function(e){t.getInstance().collection=e},t.setInteractionPreviewMode=function(e){t.getInstance().isInInteractionPreviewMode=e},t.getInteractionPreviewMode=function(){return!(!t.instance||!t.instance.collection)&&t.instance.isInInteractionPreviewMode},t.getSelectedState=function(){var e=t.getCollection();return e&&e.models.length>0?e.models[0].selectedState:a.default.OBJECT_STATES_DEFAULT},t.getSelectedStateName=function(){return t.getStateName(t.getSelectedState())},t.selectionHasGroupWithMixedStates=function(){var e=t.getCollection();return!!e&&e.hasGroupWithMixedStates()},t.getCollection=function(){return t.instance&&t.instance.collection?t.instance.collection:null},t.isDefaultState=function(t){return t===a.default.OBJECT_STATES_DEFAULT},t.isNonDefaultState=function(t){return!!t&&t!==a.default.OBJECT_STATES_DEFAULT},t.isInteractionState=function(t){return t===a.default.OBJECT_STATES_CLICK||t===a.default.OBJECT_STATES_HOVER},t.isUserDefinedState=function(e){return t.isNonDefaultState(e)&&!t.isInteractionState(e)},t.isDefaultStateSelected=function(){return t.isDefaultState(t.getSelectedState())},t.isNonDefaultStateSelected=function(){return t.isNonDefaultState(t.getSelectedState())},t.isInteractionStateSelected=function(){return t.isInteractionState(t.getSelectedState())},t.isUserDefinedStateSelected=function(){return t.isUserDefinedState(t.getSelectedState())},t.selectionSupportsObjectStates=function(){var e=t.getCollection();return!!e&&e.supportsObjectStates()},t.targetSupportsPreviewOnlyMode=function(t){return t.isGroup()||t.isSmartgroup()||t.isMaskGroup()},t.selectionSupportsPreviewOnlyMode=function(){if(this.getInteractionPreviewMode())return!0;var e=t.getCollection();return!!e&&(!!e.onlyOneComponentSelected()&&t.targetSupportsPreviewOnlyMode(e.models[0]))},t.targetSupportsLinkInteraction=function(t){return t.isGroup()},t.selectionSupportsLinkInteraction=function(){var e=t.getCollection();return!!e&&(!!e.onlyOneComponentSelected()&&t.targetSupportsLinkInteraction(e.models[0]))},t.getChangedAttributes=function(e){return e&&e.states&&t.isNonDefaultStateSelected()?e.states[t.getSelectedState()]:e},t.getStates=function(e){return r(t.getDefaultState(),t.getInteractionStates(e),t.getUserDefinedStates(e))},t.getDefaultState=function(){return[{title:"Default",value:a.default.OBJECT_STATES_DEFAULT}]},t.getInteractionStates=function(e){if(null===e)return[];var n=e||t.getCollection(),i=n?n.getExistingObjectStates():[],o=[{title:"Click",value:a.default.OBJECT_STATES_CLICK,stateExists:-1!==i.indexOf(a.default.OBJECT_STATES_CLICK),hasActiveProperties:!!n&&n.hasActiveStateProperties(a.default.OBJECT_STATES_CLICK)}];return"desktop"===s.default.getCurrentVariant()&&(o=r([{title:"Hover",value:a.default.OBJECT_STATES_HOVER,stateExists:-1!==i.indexOf(a.default.OBJECT_STATES_HOVER),hasActiveProperties:!!n&&n.hasActiveStateProperties(a.default.OBJECT_STATES_HOVER)}],o)),o},t.hasActiveStateProperties=function(e,n,i){var r=e||t.getCollection();return!!r&&r.hasActiveStateProperties(i,n)},t.getUserDefinedStates=function(e){if(null===e)return[];var n,i=t.getCollection();if(e&&(e.isFolderOrGroup()||e.isSmartgroup())){var r=e.getCollection().models;return t.getUserDefinedStatesForCollection(r)}if(e)n=e;else{if(!i||!i.isSingleComponentThatSupportsObjectStates()){if(i&&1===i.length&&(i.models[0].isGroup()||i.models[0].isSmartgroup())){r=i.models[0].getCollection().models;return t.getUserDefinedStatesForCollection(r)}return i&&i.length?t.getUserDefinedStatesForCollection():[]}n=i.models[0]}return n.getUserDefinedStates().map((function(t){return{title:t.title,value:t.id,hasActiveProperties:n.hasActiveStateProperties(t.id),stateExistsForAllSelections:!0}}))},t.getUserDefinedStatesForCollection=function(e){if(!e){var n=t.getCollection();if(!n)return[];e=n.models}if(!e.length)return[];var i=e.filter((function(t){return t.supportsObjectStates()||t.isMaskGroup()})).map(t.getUserDefinedStates);if(!i.length)return[];var o=[];return i.forEach((function(t){o.push.apply(o,r(t.filter((function(t){return!o.find((function(e){return e.title===t.title}))}))))})),o.map((function(t){return{title:t.title,value:t.value,hasActiveProperties:e.some((function(e){return e.hasActiveStateProperties(t.value)})),stateExistsForAllSelections:e.every((function(e){return e.stateExists(t.value)}))}})).sort((function(t,e){return t.title>e.title?1:t.title<e.title?-1:0}))},t.createUserDefinedState=function(){var e=t.getCollection();return e&&this.selectionSupportsObjectStates()?e.addUserDefinedState():null},t.getStateName=function(e){var n=t.getUserDefinedStates();switch(e){case a.default.OBJECT_STATES_DEFAULT:return"Default";case a.default.OBJECT_STATES_HOVER:return"Hover";case a.default.OBJECT_STATES_CLICK:return"Click";default:var i=n.filter((function(t){return t.value===e}))[0];return i?i.title:""}},t}();e.ObjectStateManager=u},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(106)),a=function(t,e){var n=this;o.default.call(this,e),this.url=t;var i=!0;return e&&e.makeCORSCompatible&&this.image.setAttribute("crossOrigin","anonymous"),this.image.onload=r.default.bind((function(){this.resourceReady.resolve(this)}),this),this.image.onerror=r.default.bind((function(){i?(!function(){try{var t=new URL(n.url);"0"!==t.searchParams.get("imageOpt")?(t.searchParams.set("imageOpt","0"),n.url=t.toString(),n.image.src=n.url):n.resourceReady.reject()}catch(t){n.resourceReady.reject()}}(),i=!1):this.resourceReady.reject()}),this),this.image.src=t,this};(a.prototype=Object.create(o.default.prototype)).constructor=a,e.default=a},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1)),o=i(n(0)),a=i(n(220)),s=i(n(27)),u=i(n(56)),l=i(n(107)),c=function(t,e,n,i,a){void 0===i&&(i=l.default.randomId()),void 0===a&&(a=!1),this.url=t,this.isPlayerOrPreviewer=a,this.shouldRenameCssClassesAndIds=n,this.queue=e,this.vectorImageResourceCache=new u.default,this.objectUrlPromiseCache=new u.default,this.xmlString=null,this.resourceReady=r.default.Deferred(),this.originalAspectRatio=null,this.loadImageXML(t).done(o.default.bind((function(t){this.xmlString=n&&!a?s.default.renameCssClassesAndIds(t,i):t,this.resourceReady.resolve(this)}),this)).fail(o.default.bind((function(){this.resourceReady.reject()}),this))};o.default.extend(c.prototype,{vectorImageResourceCache:null,objectUrlPromiseCache:null,getSrc:function(){return this.getOrCreateImageResource().getSrc()},getPromise:function(){return this.resourceReady.promise()},getOrCreateImageResource:function(t){var e=this.getCacheKey(t);if(this.imageResourceCacheHas(e))return this.getFromImageResourceCache(e);var n=this.createObjectURL(t),i=new a.default(n);return this.putInImageResourceCache(e,i),i},getImageResource:function(t){var e=this.getCacheKey(t);return this.getFromImageResourceCache(e)},imageResourceCacheHas:function(t){return this.vectorImageResourceCache.has(t)},getFromImageResourceCache:function(t){return this.vectorImageResourceCache.get(t)},putInImageResourceCache:function(t,e){this.vectorImageResourceCache.put(t,e)},objectUrlPromiseCacheHas:function(t){return this.objectUrlPromiseCache.has(t)},getFromObjectUrlPromiseCache:function(t){return this.objectUrlPromiseCache.get(t)},putInObjectUrlPromiseCache:function(t,e){this.objectUrlPromiseCache.put(t,e)},getCacheKey:function(t){return o.default.has(t,"gradient")?"gradient|"+o.default.get(t,"gradient.angle",null)+"|"+o.default.get(t,"gradient.stops[0].color",null)+"|"+o.default.get(t,"gradient.stops[1].color",null)+"|"+o.default.get(t,"backgroundHasBeenSet",null):"solid|"+o.default.get(t,"color",null)+"|"+o.default.get(t,"backgroundHasBeenSet",!1)},createObjectURL:function(t){var e=this.getCacheKey(t);if(this.objectUrlPromiseCacheHas(e))return this.getFromObjectUrlPromiseCache(e);var n=r.default.Deferred();return this.resourceReady.done(o.default.bind((function(){var e=this.createXMLDoc(t);if(e){var i=s.default.createObjectURL(e);n.resolve(i)}else n.reject()}),this)),this.resourceReady.fail(n.reject),this.putInObjectUrlPromiseCache(e,n),n},createBlob:function(t){var e=r.default.Deferred();return this.resourceReady.done(o.default.bind((function(){var n=this.createXMLDoc(t);if(n){var i=s.default.createBlob(n);e.resolve(i)}else e.reject()}),this)),this.resourceReady.fail(e.reject),e},createImageElement:function(t,e){return this.createObjectURL(t).then((function(t){return s.default.createImageElement(t,e)}))},createXMLDoc:function(t,e,n){var i,o=l.default.randomId();this.shouldRenameCssClassesAndIds&&this.isPlayerOrPreviewer&&(this.xmlString=s.default.renameCssClassesAndIds(this.xmlString,o));try{i=r.default.parseXML(this.xmlString)}catch(t){}if(!i||!r.default.isXMLDoc(i))return null;s.default.handleTitle(i,e,n);var a="CerosGradient_"+o,u={angle:0,stops:[{color:"#d1d1d1"},{color:"#d1d1d1"}]};t&&(t.color?(u=s.default.colorToGradient(t.color),s.default.updateSVGColorStyle(i,"url(#"+a+")")):t.gradient?(u=t.gradient,s.default.updateSVGColorStyle(i,"url(#"+a+")")):t.backgroundHasBeenSet&&s.default.updateSVGColorStyle(i,"rgba(0,0,0,0)")),s.default.addLinearGradient(i,a,u),s.default.removeIllegalNodes(i);var c=s.default.getImageAspectRatio(i);return this.originalAspectRatio=c,c&&c.width>0&&c.height>0&&s.default.setViewportDimensions(i,c.width,c.height),i},getOriginalAspectRatio:function(){return this.originalAspectRatio},loadImageXML:function(t){var e=r.default.Deferred();if(s.default.isDataURL(t))if(s.default.isVectorDataURL(t)){var n=s.default.convertToXMLString(t);e.resolve(n)}else e.reject();else this.queue?this.queue.add(t,e):s.default.fetchSvg(t,e);return e},getVectorImageResourceCache:function(){return this.vectorImageResourceCache},getObjectUrlPromiseCache:function(){return this.objectUrlPromiseCache}}),e.default=c},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1)),o=i(n(0)),a=i(n(2)),s=i(n(109)),u=!1,l={initialize:function(){!function(){if(!1!==u)return u;if("undefined"==typeof sharejs)throw Error("Unable to connect to ShareJS Server");(u=new sharejs.Connection(a.default.shareJsServer,a.default.sharejsAccessPolicy)).on("error",o.default.bind(l._showErrorInternal,l)),r.default(window).on("unload",(function(){u&&u.disconnect()}))}()},getConnection:function(){return u},_showErrorInternal:function(t){if("Unknown session ID"===t)return!1;var e="There was a problem connecting to the server.";return t&&(e=t).match(/\bOp apply failed/gi)&&(e="Your changes were unable to be saved."),this.showError(e)},showError:function(t){return this.readOnlyConnectionLimitExceededError||window.onerror(t,null,null),u&&(u.disconnect(),u=!1),!0},listenForReadOnlyConnectionLimitError:function(t){t.on("shout",o.default.bind((function(t){if(t){try{t=JSON.parse(t)}catch(t){return}"READONLY_CONNECTION_LIMIT_EXCEEDED"===t.name&&(this.readOnlyConnectionLimitExceededError=!0,s.default.show503())}}),this))}};e.default=l},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(25)),o=i(n(2)),a=i(n(248));t=new r.default.Module({id:"branding",version:"1.0",brandingView:null,publishedEvents:{BRANDING_CEROS_BRANDING_CLICK:"branding.ceros_branding.click"},delegate:{load:function(e){var n=o.default.themeObj.menuFgColor,i=o.default.themeObj.menuBgColor;return this.brandingView=new a.default({module:t,menuBackgroundColor:i,menuForegroundColor:n,menuHoverOpacity:o.default.themeObj.menuHoverOpacity,whiteLabeling:o.default.whiteLabeling}),this},shouldShow:function(){return!o.default.whiteLabeling},el:function(){return this.brandingView.$el},show:function(){this.brandingView&&this.brandingView.show()},getBrandingUrl:function(){return this.brandingView.poweredByUrl}}});e.default=t},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(25)),a=i(n(2)),s=i(n(4)),u=i(n(30)),l=i(n(250));t=new o.default.Module({id:"chrome",description:"Provides a menu bar user interface for the web player",version:"2.0",chromeView:null,publishedEvents:{CHROME_SHARE:"chrome.share",CHROME_SHARE_PAGE:"chrome.share.page",CHROME_SHOPPING_CART:"chrome.shopping_cart",CHROME_TITLE_CLICK:"chrome.title.click"},delegate:{load:function(e){var n={theme:r.default.isUndefined(a.default.themeObj)?{}:a.default.themeObj};this.options=r.default.extend({},n,e);var i=this.options.theme.menuFgColor,o=this.options.theme.menuBgColor,s=u.default.fromHex(i);return s.a=.1,this.chromeView=new l.default({module:t,menuBackgroundColor:o,menuBorderColor:s,menuForegroundColor:i,menuHoverOpacity:this.options.theme.menuHoverOpacity,allowCommerceIntegration:a.default.allowCommerceIntegration,commerceSettings:a.default.commerceSettings,showChromeMenu:this.options.theme.menuEnabled}),this},shouldShow:function(){return!a.default.isEmbedded&&a.default.themeObj.menuEnabled},initiallyHidden:function(){return s.default.mobile()},getHeight:function(){return this.chromeView.getHeight()},el:function(){return this.chromeView.$el},show:function(t){this.chromeView&&this.chromeView.show(t)},hide:function(t){this.chromeView&&this.chromeView.hide(t)},toggle:function(){this.chromeView&&this.chromeView.toggle()},setTitle:function(t){this.chromeView.setTitle(t)},setMenuLinkHrefs:function(t){this.chromeView.setMenuLinkHrefs(t)}}});e.default=t},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(25)),o=i(n(252));t=new r.default.Module({id:"Error",description:"Provides an error display module",version:"1.0",publishedEvents:{},dependencies:{},delegate:{load:function(t){this.errorView=new o.default({title:t.title,message:t.message,imageCssClass:t.imageCssClass})},el:function(){return this.errorView.$el}}});e.default=t},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(25)),a=i(n(2)),s=i(n(30)),u=i(n(29)),l=i(n(254));t=new o.default.Module({id:"flippers",description:"Provides left/right (previous/next) arrows for navigation between pages",version:"1.0",flippersView:null,publishedEvents:{NEXT_PAGE:"flippers.next_page",PREVIOUS_PAGE:"flippers.previous_page"},dependencies:{viewport:"1.0"},delegate:{load:function(e){var n={theme:r.default.isUndefined(a.default.themeObj)?{}:a.default.themeObj};this.options=r.default.extend({},n,e);var i=this.options.theme.menuFgColor,o=this.options.theme.menuBgColor,u=s.default.fromHex(i);u.a=.1,this.flippersView=new l.default({arrowsEnabled:this.options.theme.arrowsEnabled,menuBackgroundColor:o,menuBorderColor:u,menuForegroundColor:i,menuHoverOpacity:this.options.theme.menuHoverOpacity,module:t}),this.registerEvents()},el:function(){if(this.flippersView)return this.flippersView.$el;throw new Error("FlippersView is missing")},show:function(){if(!this.flippersView)throw new Error("FlippersView is missing");this.flippersView.show()},hide:function(){if(!this.flippersView)throw new Error("FlippersView is missing");this.flippersView.hide()},updateScale:function(t){if(!this.flippersView)throw new Error("FlippersView is missing");this.flippersView.scale(t)},determineFlipperState:function(t,e,n){var i=!n||t,r=!n||e;this.updateFlippers(i,r)},updateFlippers:function(t,e){if(!this.flippersView)throw new Error("FlippersView is missing");t?this.flippersView.disablePrevious():this.flippersView.enablePrevious(),e?this.flippersView.disableNext():this.flippersView.enableNext()},updateFlipperHrefs:function(){this.flippersView.replaceHrefs()},registerEvents:function(){u.default.getInstance().on("change",r.default.bind((function(){this.flippersView.scale(null)}),this))}}});e.default=t},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.JsTsViewGlue=void 0;var r=i(n(0)),o=i(n(3));e.JsTsViewGlue=o.default.View.extend({constructor:function(t){this.options=t||{},this.subViews=[],o.default.View.call(this,t)},broadcast:r.default.clone(o.default.Events)})},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ZOOM_LEVELS=e.DEFAULT_ZOOM_LEVEL_INDEX=void 0;var a=o(n(260));e.DEFAULT_ZOOM_LEVEL_INDEX=0,e.ZOOM_LEVELS=[1,1.1,1.25,1.5,1.75,2,2.5,3,4];var s=function(t){function n(){var n=t.call(this)||this;return n.currentZoomLevelPosition=e.DEFAULT_ZOOM_LEVEL_INDEX,n}return r(n,t),n.getInstance=function(){return n.instance||(n.instance=new n),n.instance},n.prototype.hasZoom=function(){return this.currentZoomLevelPosition!==e.DEFAULT_ZOOM_LEVEL_INDEX},n.prototype.canIncrementZoom=function(){return this.currentZoomLevelPosition!==e.ZOOM_LEVELS.length-1},n.prototype.canDecrementZoom=function(){return this.hasZoom()},n.prototype.getCurrentZoom=function(){return e.ZOOM_LEVELS[this.currentZoomLevelPosition]},n.prototype.resetZoom=function(){this.adjustZoom(e.ZOOM_LEVELS[e.DEFAULT_ZOOM_LEVEL_INDEX])},n.prototype.incrementZoom=function(){var t=this.currentZoomLevelPosition+1;t<e.ZOOM_LEVELS.length&&this.adjustZoom(e.ZOOM_LEVELS[t])},n.prototype.decrementZoom=function(){var t=this.currentZoomLevelPosition-1;t>=e.DEFAULT_ZOOM_LEVEL_INDEX&&this.adjustZoom(e.ZOOM_LEVELS[t])},n.prototype.adjustZoom=function(t){var n=e.ZOOM_LEVELS.indexOf(t);n!=this.currentZoomLevelPosition&&(this.currentZoomLevelPosition=n,this.trigger("zoom",t))},n}(a.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={SCALE_EXPERIENCE_TYPE:{SCALE_TO_FOLD:"scale_to_fold",FULL_WIDTH:"full_width",NO_SCALING:"no_scaling"}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(25)),a=i(n(2)),s=n(263);t=new o.default.Module({id:"page",description:"",version:"1.0",dependencies:{splashScreen:"1.0"},publishedEvents:{PAGE_COMPONENT_INTERACTION:"page.component.interaction",PAGE_COMPONENT_HOVER_INTERACTION:"page.component.hover.interaction",PAGE_COMPONENT_CLICKED:"page.component.clicked",PAGE_COMPONENT_FORM_SUBMITTED:"page.component.form_submitted",PAGE_PRELOAD_READY:"page.preload_ready",PAGE_ACTIVATED:"page.activated",PAGE_SCROLL:"page.scroll",PAGE_ACTION_SCROLL_TO:"page.action.scroll_to",PAGE_ACTION_TOGGLE_REDUCED_MOTION:"page.action.toggle_reduced_motion",PAGE_ACTION_GO_TO_PREV_PAGE:"page.action.go_to_prev_page",PAGE_ACTION_GO_TO_NEXT_PAGE:"page.action.go_to_next_page",PAGE_ACTION_GO_TO_PAGE:"page.action.go_to_page",PAGE_ACTION_ENABLE_DISABLE_PAGES:"page.action.enable_disable_pages",PAGE_ACTION_GO_TO_URL:"page.action.go_to_url",PAGE_ACTION_OPEN_LIGHTBOX:"page.action.open_lightbox",PAGE_ACTION_OPEN_PRODUCT_PANEL:"page.action.open_product_panel",PAGE_ACTION_OPEN_SHOPPING_CART:"page.action.open_shopping_cart",PAGE_ACTION_LAYER_VISIBILITY:"page.action.layer_visibility",PAGE_ACTION_INVOKE_ANIMATION:"page.action.invoke.animation",PAGE_ACTION_PLAY_AUDIO:"page.action.play_audio",PAGE_ACTION_SHARE_PAGE:"page.action.share.page",PAGE_ACTION_CHANGE_STATE:"page.component.change_state",PAGE_VIDEO_PLAY:"page.video.play",PAGE_VIDEO_PROGRESS_TIME:"page.video.progress_time",PAGE_VIDEO_PROGRESS_PERCENT:"page.video.progress_percent",PAGE_RELOAD:"page.reload",PAGE_COMPONENT_ANIMATION_START:"page.component.animation.start",PAGE_COMPONENT_ANIMATION_END:"page.component.animation.end",TIMED_INTERACTION:"page.component.timed.interaction",PAGE_ACTION_BRING_TO_FRONT:"page.action.bring_to_front"},INTERACTION_TRIGGERS:{CLICK:"click",MOUSEDOWN:"mouseDown",MOUSEUP:"mouseUp",HOVER:"hover",VIEW:"view",SUBMIT:"submit"},delegate:{createPageView:function(e,n){var i={theme:r.default.isUndefined(a.default.themeObj)?{}:a.default.themeObj};return n=r.default.extend({enableLoadingThumbnail:!1,enableLoadingSpinner:!1,allowCommerceIntegration:a.default.allowCommerceIntegration},i,n||{}),new s.PageView(r.default.extend(n,{module:t,model:e}))}}});e.default=t},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.WebkitUtils=void 0;var r=n(36),o=i(n(4)),a=function(){function t(){}return t.hardwareAccelerateTransform=function(t){var e={translate3d:{x:0,y:0,z:0}};if("string"==typeof t)return r.CssUtils.setTransformProperty(t,e);r.CssUtils.setTransformToElement(t,e)},t.requiresHardwareAccelerateTransform=function(t,e){return o.default.isDesktopSafari()||o.default.isIos()&&(t||e)},t}();e.WebkitUtils=a},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ImageEffects=e.EffectName=void 0;var r,o=i(n(0));!function(t){t.CONTRAST="contrast",t.BRIGHTNESS="brightness",t.HUEROTATE="hue-rotate",t.SATURATE="saturate",t.SEPIA="sepia",t.INVERT="invert"}(r=e.EffectName||(e.EffectName={}));var a=function(){function t(){}return t.defaultValueOf=function(e){switch(e){case t.BRIGHTNESS.NAME:return t.BRIGHTNESS.DEFAULT;case t.CONTRAST.NAME:return t.CONTRAST.DEFAULT;case t.HUEROTATE.NAME:return t.HUEROTATE.DEFAULT;case t.SATURATE.NAME:return t.SATURATE.DEFAULT;case t.SEPIA.NAME:return t.SEPIA.DEFAULT;case t.INVERT.NAME:return t.INVERT.DEFAULT;default:return null}},t.getEffectsApplicationOrder=function(){return[this.BRIGHTNESS.NAME,this.CONTRAST.NAME,this.HUEROTATE.NAME,this.SATURATE.NAME,this.SEPIA.NAME,this.INVERT.NAME]},t.computeBrowserImageFilter=function(t){return this.getEffectsApplicationOrder().map((function(e){return t[e]})).join(" ").trim()},t.isDefaultEffects=function(t){return o.default.isEqual(this.getDefaults(),t)},t.getDefaults=function(){var t={};return t[this.BRIGHTNESS.NAME]=this.BRIGHTNESS.DEFAULT,t[this.CONTRAST.NAME]=this.CONTRAST.DEFAULT,t[this.HUEROTATE.NAME]=this.HUEROTATE.DEFAULT,t[this.SATURATE.NAME]=this.SATURATE.DEFAULT,t[this.SEPIA.NAME]=this.SEPIA.DEFAULT,t[this.INVERT.NAME]=this.INVERT.DEFAULT,t},t.BRIGHTNESS={NAME:r.BRIGHTNESS,MIN:-100,MAX:100,DEFAULT:0,UNIT:"%"},t.CONTRAST={NAME:r.CONTRAST,MIN:-100,MAX:100,DEFAULT:0,UNIT:"%"},t.HUEROTATE={NAME:r.HUEROTATE,MIN:-180,MAX:180,DEFAULT:0,UNIT:"deg"},t.SATURATE={NAME:r.SATURATE,MIN:-100,MAX:100,DEFAULT:0,UNIT:"%"},t.SEPIA={NAME:r.SEPIA,MIN:0,MAX:100,DEFAULT:0,UNIT:"%"},t.INVERT={NAME:r.INVERT,MIN:0,MAX:100,DEFAULT:0,UNIT:"%"},t}();e.ImageEffects=a},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},a=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},s=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{u(i.next(t))}catch(t){o(t)}}function s(t){try{u(i.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((i=i.apply(t,e||[])).next())}))},u=this&&this.__generator||function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},l=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.VideoComponentView=void 0;var c=l(n(0)),d=l(n(1)),h=l(n(6)),f=l(n(2)),p=l(n(4)),g=n(20),m=l(n(135)),v=l(n(295)),y=l(n(297)),_=l(n(8)),b=n(298),T=n(34),S=n(310),w=l(n(15)),E=f.default.mediaDomainMap?c.default.invert(f.default.mediaDomainMap):null,C=[10,20,30,40,50,60,70,80,90,100],O=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isVideoReady=!1,e.playedOnce=!1,e.isAutoPaused=!1,e.isManuallyPaused=!1,e.isRewound=!1,e.hasManualPauseDetectionBeenBound=!1,e.isMobile=!1,e}var n;return r(e,t),n=e,e.prototype.initialize=function(e){var n;t.prototype.initialize.call(this,e),this.areMediaPropertiesSet()&&(this.videoSlug=null===(n=this.options.video)||void 0===n?void 0:n.substr(this.options.video.lastIndexOf("/")+1),this.isVideoReady=!1,this.posterLoader=this.options.posterLoader,this.tapToPlay=void 0===this.options.tapToPlay||this.options.tapToPlay,this.muted=void 0!==this.options.muted&&this.options.muted,this.initializePoster(),f.default.previewMode&&(this.mediaLoadingScreen=new m.default({height:this.options.height,isImage:!1}),this.$el.append(this.mediaLoadingScreen.$el)),this.posterLoader&&(this.posterLoader.onImageLoaded(this.attachMedia,this),f.default.previewMode&&this.posterLoader.onImageLoaded(this.hideMediaLoadingScreen,this)))},e.prototype.hideMediaLoadingScreen=function(){this.mediaLoadingScreen.close()},e.prototype.onActivationStart=function(){var t;null===(t=this.videoTracker)||void 0===t||t.enableTracking()},e.prototype.areMediaPropertiesSet=function(){return!(!this.options.video||!this.options.poster)},e.prototype.attachMedia=function(){return s(this,void 0,Promise,(function(){var t,e,n=this;return u(this,(function(i){return t=new d.default.Deferred,this.areMediaPropertiesSet()&&(e=this.getPosterFrameResource())?e.loadNow().done((function(e){var i;n.$poster.attr("src",e.getSrc()),null===(i=n.videoHandle)||void 0===i||i.poster(e.getSrc()),t.resolve()})):t.resolve(),[2,t]}))}))},e.prototype.getPosterFrameResource=function(){var t=null;return this.posterLoader&&((t=this.posterLoader.getCurrentResource())||h.default.warn("Poster image should have been added to resource loader during preload")),t},e.prototype.doTriggerOnScroll=function(){return!0},e.prototype.getPosterFrameSrc=function(){return this.posterLoader?this.posterLoader.getCurrentUrl():""},e.prototype.initializePoster=function(){this.$poster=d.default("<img>",{width:"100%",height:"100%",position:"absolute",top:0,left:0,alt:""}),this.$el.append(this.$poster)},e.prototype.onActivationEnd=function(){this.hidePosterAndShowVideo(),this.bindVideoElementPauseAndPlayForManualPauseDetection(),!this.canAutoplay()||this.isManuallyPaused||f.default.shouldReduceMotion||(this.play(),this.videoHandle.autoplay(!0))},e.prototype.onExitStart=function(){this.hideVideoAndShowPoster(),this.autoPause(),this.rewindEndedAutoplayingVideo()},e.prototype.getVideoFormats=function(){return[{format:"hls-playlist",type:"vnd.apple.mpegurl"},{format:"original",type:"mp4"},{format:"h264-high",type:"mp4"},{format:"h264-low",type:"mp4"}]},e.prototype.getResolvedVideoUrlForFormat=function(t){var e=this.options.videoMedia,n=null;if(e){var i=e.encodings;if(!i[t])return null;n=i[t],E&&(n=_.default.makeUrlAbsolute(n),n=_.default.replaceProtocolIfHttpsRequest(n),n=this.switchAmazonDomainInUrl(n))}return void 0===n&&(h.default.warn("Resolved video not found!",n),n=this.options.video+"/redirect/"+t),n},e.prototype.switchAmazonDomainInUrl=function(t){var e=t.match(/https?:\/\/(([a-z0-9-]*)\.[^\/]*)/i);if(e){var n=e[1],i=e[2];c.default.has(E,i)&&(t=t.replace(n,E[i]))}return t},e.prototype.setVideoSources=function(){var t=this;this.getVideoFormats().forEach((function(e){var n=t.getResolvedVideoUrlForFormat(e.format);if(n){var i="video/"+e.type;"hls-playlist"!==e.format&&"dash-playlist"!==e.format||(i="application/"+e.type),t.$vid.append(d.default("<source>",{src:n,type:i}))}}))},e.prototype.isLoopForever=function(){return this.options.videoAutoPlay&&this.options.videoLoop},e.prototype.isShowControls=function(){return!this.options.videoAutoPlay||!this.options.videoHideControls},e.prototype.hideVideo=function(){this.videoHandle&&this.videoHandle.hide()},e.prototype.showVideo=function(){this.videoHandle&&this.videoHandle.show()},e.prototype.hideVideoAndShowPoster=function(){var t;this.videoHandle&&!this.getCurrentTime()&&(this.isVideoReady&&this.hideVideo(),null===(t=this.$poster)||void 0===t||t.show())},e.prototype.hidePosterAndShowVideo=function(){var t;null===(t=this.$poster)||void 0===t||t.hide(),this.isVideoReady&&this.showVideo()},e.prototype.isPlaying=function(){return!!this.videoHandle&&!this.isVideoHandleEnded()&&!this.isVideoHandlePaused()&&this.getCurrentTime()>0},e.prototype.isEnded=function(){return!!this.isVideoReady&&this.isVideoHandleEnded()},e.prototype.setCurrentTime=function(t){this.isVideoReady&&this.videoHandle.currentTime(t)},e.prototype.getCurrentTime=function(){return this.isVideoReady?this.videoHandle.currentTime():0},e.prototype.reset=function(){t.prototype.reset.call(this),this.pauseAnyVideoAndRewindAutoPlayingVideo(),this.isRewound&&this.options.videoAutoPlay&&(this.isManuallyPaused=!1)},e.prototype.whenLeavingVisibleBoundaries=function(){void 0===this.isPinned&&(this.isPinned=this.options.fixedPosition||!(!this.options.parentSmartGroup||!this.options.parentSmartGroup.fixedPosition),!this.isPinned&&this.parentViews&&(this.isPinned=this.parentViews.some((function(t){return t.options.fixedPosition})))),this.isPinned||(t.prototype.whenLeavingVisibleBoundaries.call(this),this.disableVideoTrackingAndAutoPlayingVideo())},e.prototype.disableVideoTrackingAndAutoPlayingVideo=function(){this.disableVideoTracking(),this.options.videoAutoPlay&&this.pauseAnyVideoAndRewindAutoPlayingVideo()},e.prototype.disableVideoTracking=function(){this.videoTracker&&this.videoTracker.disableTracking()},e.prototype.pauseAnyVideoAndRewindAutoPlayingVideo=function(){this.autoPause(),this.rewindEndedAutoplayingVideo()},e.prototype.rewindEndedAutoplayingVideo=function(){this.options.videoAutoPlay&&this.isEnded()&&(this.setCurrentTime(0),this.isRewound=!0)},e.prototype.loadAndShowVideo=function(){this.isVideoReady?this.hidePosterAndShowVideo():((p.default.isIos()||"none"===this.videoHandle.preload())&&(this.isVideoReady=!0),this.bindVideoElementPauseAndPlayForManualPauseDetection())},e.prototype.play=function(){var t=this;this.loadAndShowVideo(),this.videoTracker&&this.videoTracker.enableTracking(),this.isVideoReady?this.videoHandle.play():this.on(n.EVENTS.VIDEO_READY,(function(){t.isVideoReady=!0,t.videoHandle.play()})),this.isRewound=!1},e.prototype.autoPause=function(){this.isVideoReady&&!this.isPaused()&&(this.videoTracker&&this.videoTracker.disableTracking(),this.isAutoPaused=!0,this.videoHandle.pause())},e.prototype.getElementWidth=function(){return this.options.width},e.prototype.getElementHeight=function(){return this.options.height},e.prototype.render=function(){return t.prototype.render.call(this),this.isMobile=["mobile","tablet"].includes(w.default.getVariant())||p.default.mobile(),this.buildVideoElement(),this},e.prototype.buildVideoElement=function(){var t="none";this.initiallyVisible&&this.areAllParentsInitiallyVisible()&&this.options.pageView.isTop()&&(t="auto");var e={id:"vid-"+this.id,width:"100%",height:"100%",poster:this.getPosterFrameSrc(),preload:t,"webkit-playsinline":!0,playsinline:!0,type:"application/x-mpegURL"};this.muted&&(e.muted=!0),this.isLoopForever()&&(e.loop=!0),this.$vid=d.default("<video>",e),this.$vid.addClass("video-js vjs-default-skin vjs-big-play-centered vjs-show-big-play-button-on-pause vjs-ceros-theme"),this.isMobile&&this.$vid.addClass("video-mobile"),this.$vid.prop({controls:this.isShowControls(),muted:this.muted}),this.canAutoplay()&&this.$vid.addClass("hide-big-play-button"),this.options.closedCaptionsUrl&&(this.$vid.addClass("video-has-captions"),this.$vid.append('<track  \n            kind="captions"\n            label="Video Captions" \n            src="'+this.options.closedCaptionsUrl+'" />')),this.$poster&&(this.$poster.after(this.$vid),this.$poster.css("display","none")),this.initializeVideoJS();var n=new v.default(this.videoHandle),i=c.default.get(this.options,"videoMedia.duration");this.videoTracker=new y.default(n,i),this.configureVideoTrackerEvents(),this.configureVideoReadyEvents(),this.updateVideoJSAccessibilityFeatures()},e.prototype.applyChanges=function(e){var n;null===(n=this.videoHandle)||void 0===n||n.dispose(),this.hasManualPauseDetectionBeenBound=!1,t.prototype.applyChanges.call(this,e)},e.prototype.manuallyPause=function(){this.isVideoReady&&!this.isPaused()&&(this.videoTracker&&this.videoTracker.disableTracking(),this.isAutoPaused=!1,this.videoHandle.pause())},e.prototype.isPaused=function(){return this.videoHandle.paused()},e.prototype.configureVideoTrackerEvents=function(){var t=this;this.videoTracker.on(this.videoTracker.EVENTS.PLAY,(function(e){e=t.addCommonVideoEventData(e),t.triggerEvent(t.getModule().publishedEvents.PAGE_VIDEO_PLAY,e)})),this.options.videoLoop||(this.videoTracker.on(this.videoTracker.EVENTS.PROGRESS_TIME,(function(e){e=t.addCommonVideoEventData(e),t.triggerEvent(t.getModule().publishedEvents.PAGE_VIDEO_PROGRESS_TIME,e)})),this.videoTracker.on(this.videoTracker.EVENTS.PROGRESS_PERCENT,(function(e){C.includes(e.progressPercent)&&(e=t.addCommonVideoEventData(e),t.triggerEvent(t.getModule().publishedEvents.PAGE_VIDEO_PROGRESS_PERCENT,e))})))},e.prototype.addCommonVideoEventData=function(t){return o(o({},t),{componentName:this.options.title,sdkTags:this.options.sdkTags,sdkPayload:this.options.sdkPayload})},e.prototype.bindVideoElementPauseAndPlayForManualPauseDetection=function(){var t=this;!this.hasManualPauseDetectionBeenBound&&this.videoHandle&&(this.videoHandle.on("pause",(function(){t.onVideoPause()})),this.videoHandle.on("play",(function(){t.playedOnce=!0,t.onVideoPlay()})),this.hasManualPauseDetectionBeenBound=!0)},e.prototype.onVideoPause=function(){this.isManuallyPaused=!this.isAutoPaused},e.prototype.onVideoPlay=function(){this.isManuallyPaused=!1,this.isAutoPaused=!1},e.prototype.triggerEvent=function(t,e){var n=o({componentSlug:this.options.id,videoSlug:this.videoSlug,pageSlug:this.options.pageView.model.get("slug")},e);this.getModule().trigger(t,n)},e.prototype.canAutoplay=function(){return!!this.options.videoAutoPlay&&(!this.tapToPlay||this.playedOnce)},e.prototype._applyRotation=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype._applyBackground=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype._applyBorder=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype._configureAction=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype.setAriaRole=function(){this.hasAccessibilityFeature&&this.options.ariaLabel?(this.$el.attr("role","region"),this.$el.attr("tabIndex","-1")):(this.$el.removeAttr("role"),this.$el.removeAttr("tabIndex"))},e.prototype.updateVideoJSAccessibilityFeatures=function(){this.hasAccessibilityFeature&&(this.videoHandle.removeAttribute("aria-label"),this.videoHandle.removeAttribute("role"),this.videoHandle.removeAttribute("tabIndex"))},e.prototype.initializeVideoJS=function(){var t=this;this.setVideoSources();var e=this.options.pageView,n={aspectRatio:Math.floor(this.options.width)+":"+Math.floor(this.options.height),fluid:!0,getExperienceScale:function(){var t=e.getScaleContext().ratio,n=e.scaleContext.useZoom(t);return{scale:t,zoomScale:n?t:1,transformScale:n?1:t}}},i={mobile:!0,nativeTextTracks:p.default.isIphone()&&!!this.options.closedCaptionsUrl};if(this.isMobile&&this.isShowControls()){this.videoHandle=b.Video(this.$vid.get(0),n,i,(function(){p.default.isIphone()&&t.options.closedCaptionsUrl&&(d.default("track",t.$vid)[0].track.mode="disabled"),t.isVideoReady=!0;var e=new S.BigPauseButton(t.videoHandle,{clickHandler:function(){t.isAutoPaused=!1,t.videoHandle.pause()}});t.$(".vjs-big-play-button").after(e.el()),t.reorderVideoControls(),t.applyInverseScalingToVideoControls()}))}else this.videoHandle=b.Video(this.$vid.get(0),n)},e.prototype.configureVideoReadyEvents=function(){var t=this;this.$vid.on("progress load canplaythrough",(function(){t.getVideoHandleReadyState()>1&&(t.isVideoReady=!0,t.canAutoplay()&&t.hidePosterAndShowVideo(),t.trigger(n.EVENTS.VIDEO_READY),t.$vid.off("progress load canplaythrough"))}))},e.prototype.getVideoHandleReadyState=function(){return this.videoHandle.readyState()},e.prototype.isVideoHandlePaused=function(){return this.videoHandle.paused()},e.prototype.isVideoHandleEnded=function(){return this.videoHandle.ended()},e.prototype.reorderVideoControls=function(){var t=d.default('<div class="video-time-wrapper"></div>');this.$(".vjs-volume-panel").after(t),this.$(".vjs-control-bar > .vjs-time-control").appendTo(t);var e=d.default('<div class="video-left-wrapper"></div>');e.appendTo(this.$(".vjs-control-bar")),this.$(".vjs-volume-panel, .video-time-wrapper").appendTo(e);var n=d.default('<div class="video-right-wrapper"></div>');n.appendTo(this.$(".vjs-control-bar")),this.$(".vjs-fullscreen-control, .vjs-subs-caps-button").appendTo(n)},e.prototype.applyInverseScalingToVideoControls=function(){var t=this.options.pageView.getScaleContext().ratio;this.$(".video-left-wrapper, .video-right-wrapper").css("transform","scale("+1/t+")"),this.$(".vjs-control-bar").css("height",55/t+"px"),this.$(".vjs-progress-control").css({top:8/t,height:3/t})},e.EVENTS={VIDEO_READY:"video_ready"},e=n=a([T.BackboneShim({type:"video",tagName:"div",className:null,defaults:{tapToPlay:!0,muted:!1,$vid:null}})],e)}(g.AbstractComponentView);e.VideoComponentView=O},function(t,e,n){"use strict";function i(t){if(null===t)return{top:0,left:0};var e=0,n=0;do{e+=t.offsetLeft,n+=t.offsetTop,t=t.offsetParent}while(t);return{top:n,left:e}}Object.defineProperty(e,"__esModule",{value:!0}),e.getPointerPosition=e.findPosition=e.getBoundingClientRect=e.getOffsetPosition=void 0,e.getOffsetPosition=i,e.getBoundingClientRect=function(t,e){void 0===e&&(e=1);var n=t.getBoundingClientRect();return{top:n.top*e,left:n.left*e,width:n.width*e,height:n.height*e}},e.findPosition=function(t,e){void 0===e&&(e=1);var n=i(t),r=n.top,o=n.left;return{left:Math.round(r)*e,top:Math.round(o)*e}},e.getPointerPosition=function(t,e,n){void 0===n&&(n=1);var i={x:0,y:0},r=t.getBoundingClientRect(),o=r.top,a=r.left,s=r.width,u=r.height,l=e.pageY/n,c=e.pageX/n;return e.changedTouches&&(c=e.changedTouches[0].pageX,l=e.changedTouches[0].pageY),i.y=Math.max(0,Math.min(1,(o-l+u)/u)),i.x=Math.max(0,Math.min(1,(c-a)/s)),i}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AnimateSVGUtil=void 0;var i=n(141),r=function(){function t(){}return t.getSplineStringFromEasing=function(t,e){return this.getSplineFromEasing(t,e).map((function(t){return t.join(" ")})).join(";")},t.getSplineFromEasing=function(t,e){var n=this.getBezierPointsForEasing(t);if(!e)return[n];switch(t){case i.Easing.easeInOut:return[[.21,0,.355,.25],[.645,.75,.79,1]];case i.Easing.ease:return[[.125,.05,.1875,.3],[.4375,.775,.625,1]];case i.Easing.easeIn:case i.Easing.easeOut:case i.Easing.linear:default:return[[0,0,n[0],n[1]],[n[2],n[3],1,1]]}},t.getBezierPointsForEasing=function(t){switch(t){case i.Easing.ease:return[.25,.1,.25,1];case i.Easing.easeIn:return[.42,0,1,1];case i.Easing.easeOut:return[0,0,.58,1];case i.Easing.easeInOut:return[.42,0,.58,1];case i.Easing.linear:default:return[0,0,1,1]}},t.animateGradientRotation=function(e,n){var i=t.getRotateKeyframes(e,n).map((function(e){return t.getGradientXYFromAngle(e)}));return{x1:i.map((function(t){return t.x1+"%"})).join(";"),y1:i.map((function(t){return t.y1+"%"})).join(";"),x2:i.map((function(t){return t.x2+"%"})).join(";"),y2:i.map((function(t){return t.y2+"%"})).join(";")}},t.animatePointsForMultiple=function(t){var e=this,n={};return Object.keys(t).forEach((function(i){n[i]=e.animatePointsForSingle([t[i].from,t[i].to])})),n},t.animatePointsForSingle=function(t){return t.join(";")},t.getRotateKeyframes=function(t,e){return e%=360,[t%=360,Math.abs(t-e)>180?(t+(e+360))/2%360:(t+e)/2,e]},t.getGradientXYFromAngle=function(t){var e=t*(Math.PI/180);return{x1:Math.round(50+50*Math.sin(e+Math.PI)),x2:Math.round(50+50*Math.sin(e)),y1:Math.round(50+50*Math.cos(e)),y2:Math.round(50+50*Math.cos(e+Math.PI))}},t.getAngleFromGradientXY=function(t,e,n,i){var r=n-t,o=i-e;return(Math.atan2(o,r)+Math.PI/2)*(180/Math.PI)},t.createAnimationElement=function(t,e,n,i){var r=e?"0;0.5;1":"0;1",o=document.createElementNS("http://www.w3.org/2000/svg","animate");return o.setAttributeNS(null,"attributeName",t),o.setAttributeNS(null,"fill","freeze"),o.setAttributeNS(null,"keyTimes",r),o.setAttributeNS(null,"calcMode","spline"),o.setAttributeNS(null,"values",n),o.setAttributeNS(null,"keySplines",i),o},t.renderGradientAnimation=function(e,n,i,r){if(r){var o=n[0],a=o.x1,s=o.x2,u=o.y1,l=o.y2,c=t.getAngleFromGradientXY(a.animVal.valueInSpecifiedUnits,u.animVal.valueInSpecifiedUnits,s.animVal.valueInSpecifiedUnits,l.animVal.valueInSpecifiedUnits),d=t.animateGradientRotation(c,i),h=t.getSplineStringFromEasing(r.easing,!0),f=Object.keys(d).map((function(e){return t.createAnimationElement(e,!0,d[e],h)}));t.startNewAnimations(e,n,f,r)}else{var p=t.getGradientXYFromAngle(i);n.attr("x1",p.x1+"%").attr("y1",p.y1+"%").attr("x2",p.x2+"%").attr("y2",p.y2+"%")}},t.startNewAnimations=function(t,e,n,i){var r=t&&t.length&&t[0].getCurrentTime?t[0].getCurrentTime():0;n.forEach((function(n){var o,a,s='[attributeName="'+n.getAttribute("attributeName")+'"]',u=e.find(s).last(),l=(i.delay||0)+r;n.setAttributeNS(null,"begin",l+"s");var c=i.duration||0,d=0;if(u){var h=(null===(o=u.attr("begin"))||void 0===o?void 0:o.replace("s",""))||"",f=(null===(a=u.attr("dur"))||void 0===a?void 0:a.replace("s",""))||"",p=(Number.parseFloat(h)||0)+(Number.parseFloat(f)||0)-r;p>0&&(d=p)}c-=d,n.setAttributeNS(null,"dur",c+"s"),e.find(s).remove(),t.find('[attributeName="placeholder"]').remove(),e.append(n)}))},t}();e.AnimateSVGUtil=r},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(6)),a=i(n(15)),s=i(n(142));e.default={reconcileComponentForCurrentVariant:function(t){var e=a.default.getVariant();return this.reconcileComponentForVariant(e,t)},reconcileComponentForVariant:function(t,e){if("desktop"===t)return e;var n=r.default.isObject(e.overrides)&&r.default.isObject(e.overrides[t]),i=!n&&r.default.isObject(e.parentSmartGroup),a="desktop"!==t&&!i;if(n){var u=e.synced?r.default.omit(e.overrides[t],s.default.get(e.type)):e.overrides[t];r.default.extend(e,u)}else a&&o.default.warn("PlayerVariantUtil::reconcileComponentForVariant provided with component missing overrides definition",{variantName:t,componentType:e.type,componentId:e.id});return e}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(6)),o=i(n(0)),a=i(n(1)),s=i(n(2)),u=n(21),l=n(45),c=n(143),d=function(t,e,n,i){var a=t.find(".marker");if(0!==a.length)if(0!==a.position().top){var s=a.position().top+a.height(),u=n/e.unitsPerEm,l=Math.round(u*e.ascent-s),c=t.attr("data-baseline");if(o.default.isUndefined(c)||o.default.isUndefined(l)||parseInt(c,10)!==l)return t.attr("data-baseline",l),void o.default.defer((function(){d(t,e,n,i)}));i.resolve(l)}else o.default.defer((function(){d(t,e,n,i)}));else r.default.info("could not find img baseline marker!")},h=function(t){return'"'+t.replace('"','\\"')+'"'};e.default={resolveFont:function(t){var e=s.default.fontManifest[t];if(e||(e=s.default.fontManifest[u.FontConstants.DEFAULT_FONT_VARIANT_GUID])&&r.default.warn("Could not find font in the font manifest. Using default variant.",{variantGuid:t,defaultVariantGuid:u.FontConstants.DEFAULT_FONT_VARIANT_GUID}),e){var n=new l.FontFamily({family:e.familyName,guid:e.familyGuid,crossAccount:e.crossAccount,api:e.api});return new c.FontVariant(e.variantName,{fontFamily:n,familyName:e.familyName,fontWeight:e.fontWeight,fontStyle:e.fontStyle,guid:e.variantGuid,cssFamilyName:e.cssFamilyName,cssUrl:e.cssFileURL,unitsPerEm:e.unitsPerEm,ascent:e.ascent})}throw new Error("Could not find desired font "+t+" or default font "+u.FontConstants.DEFAULT_FONT_VARIANT_GUID+" in the font manifest.")},measureFontBaselineOffset:function(t,e,n){var i=new a.default.Deferred;if(e<=1)return i.resolve(0),i.promise();var r=a.default('<div><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAMAAAAoyzS7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAZQTFRF////AAAAVcLTfgAAAAxJREFUeNpiYAAIMAAAAgABT21Z4QAAAABJRU5ErkJggg==" style="position:relative;vertical-align:baseline;" class="marker"/><span>Mq</span></div>').css({width:"auto",height:"auto",lineHeight:n+"px",position:"absolute",top:0,left:0,fontSize:e+"px",fontFamily:h(t.getCssFamilyName()),fontWeight:t.getFontWeight(),fontStyle:t.getFontStyle(),opacity:0}).attr("data-baseline",null);return a.default("body").append(r),d(r,t,e,i),i.done((function(){r.remove()})),i.promise()},formatFamilyNameForCSS:h}},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.BasePageURLInteraction=void 0;var a=n(65),s=o(n(19)),u=o(n(2)),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.constructUrl=function(){if(!u.default.isEmbedded){var t=s.default.parseLayoutFromLocation(),e=this.pageView.documentVersion.getNearestEnabledPage(Math.max(1,this.getTargetPageNumber()));return s.default.buildUri("page_number",e,t)}},e}(a.BaseURLInteraction);e.BasePageURLInteraction=l},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.BaseLayerVisibilityInteraction=void 0;var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.isValid=function(){return!!this.layerTargets&&t.prototype.isValid.call(this)},e}(n(42).BaseVisibilityInteraction);e.BaseLayerVisibilityInteraction=o},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractView=void 0;var a=o(n(0)),s=o(n(3)),u=function(t){function e(e){return void 0===e&&(e={}),t.call(this,e)||this}return r(e,t),e.prototype.initialize=function(t){t&&t.preventAutoBind||(this._bindModel(),this._bindCollection())},e.prototype.onClose=function(){},e.prototype.beforeClose=function(){},e.prototype.close=function(){this.beforeClose(),this.closeAllSubViews(),this.remove(),this.stopListening(),this._unbindCollection(),this.onClose(),this.trigger("close"),this.unbind()},e.prototype.registerSubView=function(t,e){return void 0===this.subViews&&(this.subViews=[]),-1===this.subViews.indexOf(t)&&(t.parentView=this,a.default.isNumber(e)?this.subViews.splice(e,0,t):this.subViews.push(t)),t},e.prototype.unregisterSubView=function(t){this.subViews=a.default.reject(this.subViews,(function(e){return e===t}))},e.prototype.closeAndCleanUpSubView=function(t){this.stopListening(t),this.unregisterSubView(t),t.close()},e.prototype.closeAllSubViews=function(){if(this.subViews)for(var t=void 0;t=this.subViews.pop();)t.close()},e.prototype.getSubViews=function(){return this.subViews||[]},e.prototype.getAllSubViews=function(){var t=[];return a.default.each(this.subViews,(function(e){t.push(e),t=t.concat(e.getAllSubViews())})),t},e.prototype.forSomeSubView=function(t){return a.default.some(this.subViews,(function(e){return t(e)||e.forSomeSubView(t)}))},e.prototype.renderSubViews=function(){a.default.each(this.getSubViews(),(function(t){t.render()}))},e.prototype.setModel=function(t,e){this._unbindModel(),this.model=t,e||this._bindModel()},e.prototype.bindModelEvents=function(){this.model.bind("change",this._change,this),this.model.bind("sync",this._sync,this),this.model.bind("destroy",this._destroy,this),this.model.bind("invalid",this._invalid,this)},e.prototype._bindModel=function(){this.model&&(this.bindModelEvents(),this.render())},e.prototype._unbindModel=function(){this.model&&(this.model.unbind("change",this._change,this),this.model.unbind("sync",this._sync,this),this.model.unbind("destroy",this._destroy,this),this.model.unbind("invalid",this._invalid,this))},e.prototype.setCollection=function(t,e){void 0===e&&(e=!1),this._unbindCollection(),this.collection=t,e||this._bindCollection()},e.prototype.bindCollectionEvents=function(){this.collection.bind("add",this._add,this),this.collection.bind("remove",this._remove,this),this.collection.bind("reset",this._reset,this)},e.prototype._bindCollection=function(){this.collection&&(this._unbindCollection(),this.bindCollectionEvents(),this.render())},e.prototype._unbindCollection=function(){this.collection&&(this.collection.unbind("add",this._add,this),this.collection.unbind("remove",this._remove,this),this.collection.unbind("reset",this._reset,this))},e.prototype._bindEventHandler=function(t,e,n){a.default.isFunction(n)?this.listenTo(t,e,n.bind(this)):this.listenTo(t,e,this[n].bind(this))},e.prototype._change=function(){this.render()},e.prototype._sync=function(){this.render()},e.prototype._destroy=function(){this.render()},e.prototype._invalid=function(){this.render()},e.prototype._add=function(){this.render()},e.prototype._remove=function(){this.render()},e.prototype._reset=function(){this.render()},e.prototype.height=function(){return this.$el.outerHeight()},e.prototype.show=function(){this.$el.show()},e.prototype.hide=function(){this.$el.hide()},e.prototype.registerRadioHandler=function(t){s.default.Syphon.InputWriters.register("radio",t)},e.prototype.registerCheckboxHandler=function(t){s.default.Syphon.InputWriters.register("checkbox",t)},e.prototype.customRadioHandler=function(t,e){"1"===e?e=!0:"0"===e&&(e=!1);var n=parseInt(t.val());(e&&1===n||!e&&0===n)&&t.prop("checked",!0).trigger("change")},e.prototype.customCheckboxHandler=function(t,e){t.prop("checked",e).trigger("change")},e}(n(80).JsTsViewGlue);e.AbstractView=u,e.default=u},function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return r(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.PAGE_MODES=void 0;var s=a(n(25)),u=a(n(4)),l=a(n(19)),c=a(n(0)),d=a(n(1)),h=a(n(28)),f=o(n(67));e.PAGE_MODES={NUMBER:"page_number",SLUG:"page_slug"};t=new s.default.Module({id:"url-navigation",description:"",version:"1.0",publishedEvents:{POPSTATE:"url-navigation.popstate"},handledEvents:{},dependencies:{},PAGE_MODES:e.PAGE_MODES,delegate:{buildHistoryState:function(e,n,i,r,o){var a={mode:e,pageNumber:null,pageSlug:null,layoutSlug:i,title:r,hash:o};return e===t.PAGE_MODES.NUMBER?a.pageNumber=n:a.pageSlug=n,a},getCurrentHistoryState:function(){var e=t.getWindowContext();if(e.history&&e.history.state&&e.history.state.mode)return e.history.state;var n=l.default.parsePageFromLocation(),i=c.default.isString(n)?t.PAGE_MODES.SLUG:t.PAGE_MODES.NUMBER,r=l.default.parseLayoutFromLocation(),o=e.document.title,a=e.location.hash;return t.buildHistoryState(i,n,r,o,a)},navigateTo:function(e,n,i,r){var o=t.getWindowContext(),a=f.escapeComponentId(o.location.hash).replace(/\/$/,""),s=f.isValidSelector(a);a=a&&s&&d.default(a).parents(".page-viewport").hasClass("top")?o.location.hash:void 0;var h=l.default.buildUri(e,n,i,a);if(h){r||(r=o.document.title);var p=s?o.location.href:t.getUrlWithoutHash();if(c.default.endsWith(p,h)&&null!==o.history.state)document.title=r;else{if(u.default.html5()&&o.history&&o.history.pushState){var g=t.buildHistoryState(e,n,i,r,a);s||!o.location.hash||c.default.endsWith(h,o.location.hash)||(h+=o.location.hash),o.history.pushState(g,r,h)}document.title=r}}},navigateToPageNumber:function(e,n){var i=t.getCurrentHistoryState().layoutSlug;t.navigateTo(t.PAGE_MODES.NUMBER,e,i,n)},navigateToLayout:function(e){var n=t.getCurrentHistoryState(),i=n.mode,r=i===t.PAGE_MODES.NUMBER?n.pageNumber:n.pageSlug,o=n.title;t.navigateTo(i,r,e,o)},navigateToPageSlug:function(e,n){var i=t.getCurrentHistoryState().layoutSlug;t.navigateTo(t.PAGE_MODES.SLUG,e,i,n)},bindPopstate:c.default.once((function(){t.getWindowContext().onpopstate=function(e){e.state&&e.state.mode&&h.default.trigger(t.publishedEvents.POPSTATE,e.state)}})),getWindowContext:function(){return window},getUrlWithoutHash:function(){var e=t.getWindowContext();return e.location.href.replace(e.location.hash,"")}}});e.default=t},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(25)),a=i(n(2)),s=i(n(4)),u=i(n(29)),l=i(n(375)),c=i(n(8));t=new o.default.Module({id:"lightbox",description:"",version:"1.0",dependencies:{},lightboxView:null,delegate:{load:function(){return this.lightboxView=new l.default({module:t}),this.registerEvents(),this},showLightbox:function(t,e,n,i){var o=r.default.isUndefined(a.default.themeObj)?{}:a.default.themeObj,s=r.default.extend({},this.getBrowserUrlParams(),this.getDefaultUrlParams());this.lightboxView.openLightbox({url:c.default.appendQueryParams(t,s),width:e,height:n,showCloseButton:i,closeButtonBgColor:o.menuBgColor,closeButtonFgColor:o.menuFgColor})},showProduct:function(t){if(!r.default.isEmpty(t)){var e=this.getUrlForProduct(t);r.default.isEmpty(e)||this.lightboxView.openLightbox({url:e,width:a.default.commerceSettings.panelWidth,height:a.default.commerceSettings.panelHeight})}},getUrlForProduct:function(t){var e=a.default.allowCommerceIntegration?a.default.commerceSettings.productUrl:"";if(r.default.isUndefined(e)||r.default.isEmpty(e)||-1===e.indexOf("{id}"))return"";var n=!1;-1!==e.indexOf("?")&&e.indexOf("?")<e.indexOf("{id}")&&(n=!0);var i,o=null,s=t.lastIndexOf("?");s>0&&(o=c.default.getUrlParams(t.substring(s)),t=t.substring(0,s)),i=n?encodeURIComponent(t):t.replace(/[^\/]+/gi,(function(t,e){return encodeURIComponent(t)})),e=e.replace("{id}",i);var u=r.default.extend({},this.getBrowserUrlParams(),o,this.getDefaultUrlParams());return e=c.default.appendQueryParams(e,u)},showShoppingCart:function(){var t=this.getUrlForShoppingCart();r.default.isEmpty(t)||this.lightboxView.openLightbox({url:t,showCloseButton:!0,width:a.default.commerceSettings.panelWidth,height:a.default.commerceSettings.panelHeight})},getUrlForShoppingCart:function(){var t=a.default.allowCommerceIntegration?a.default.commerceSettings.shoppingCartUrl:"";return r.default.isUndefined(t)||r.default.isEmpty(t)?"":c.default.appendQueryParams(t,this.getDefaultUrlParams())},getDefaultUrlParams:function(){return{ceros_device_pixel_ratio:s.default.pixelRatio(),ceros_account_slug:a.default.accountSlug,ceros_app_slug:a.default.appSlug,ceros_issue_slug:a.default.issue.slug,ceros_device_type:s.default.deviceType(),ceros_player_type:s.default.playerType()}},getBrowserUrlParams:function(){var t=c.default.removeEmbedParams(this.getWindowUrl());return c.default.getUrlParams(t)},show:function(){this.lightboxView.show()},hide:function(){this.lightboxView.hide()},deactivate:function(){this.lightboxView.deactivate()},el:function(){return this.lightboxView.$el},iframe:function(){return this.lightboxView.$("iframe")[0]},getWindowUrl:function(){return window.location.href},registerEvents:function(){u.default.getInstance().on("change",this.lightboxView.setSizeAndPosition,this.lightboxView)}}});e.default=t},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={};e.default=function(t,e){var n;void 0===t&&(t="");var r=function(t,e){return e<(t=parseInt(t,10).toString(16)).length?t.slice(t.length-e):e>t.length?new Array(e-t.length+1).join("0")+t:t};return i.uniqidSeed||(i.uniqidSeed=Math.floor(123456789*Math.random())),i.uniqidSeed++,n=t,n+=r(parseInt((new Date).getTime()/1e3,10),8),n+=r(i.uniqidSeed,5),e&&(n+=(10*Math.random()).toFixed(8).toString()),n}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(1)),a=i(n(68)),s=i(n(43)),u=i(n(159)),l=i(n(98)),c=i(n(99)),d={},h="commerceIntegration",f="eloquaIntegration",p="marketoIntegration",g="chartblocksIntegration",m="googleTagManagerIntegration",v="hubspotIntegration",y="embeddedPlayerSdk",_="whiteLabeling",b="analyticsTracking",T="issueExport",S="concurrentLogins",w="adaptiveLayouts";e.default=s.default.extend({urlRoot:"/{api-version}/accounts",defaults:{organizationId:""},dateFields:["startDate","endDate","gracePeriodEndDate"],accountManager:null,supportsFeature:function(t){return!0===this.get(t)},hasCommerceIntegration:function(){return this.supportsFeature(h)},hasEloquaIntegration:function(){return this.supportsFeature(f)},hasMarketoIntegration:function(){return this.supportsFeature(p)},hasChartblocksIntegration:function(){return this.supportsFeature(g)},hasGoogleTagManagerIntegration:function(){return this.supportsFeature(m)},hasHubspotIntegration:function(){return this.supportsFeature(v)},hasEmbeddedPlayerSdk:function(){return this.supportsFeature(y)},hasWhiteLabeling:function(){return this.supportsFeature(_)},hasAnalyticsTracking:function(){return this.supportsFeature(b)},hasIssueExport:function(){return this.supportsFeature(T)},hasConcurrentLogins:function(){return this.supportsFeature(S)},hasAdaptiveLayouts:function(){return this.supportsFeature(w)},isUnlimitedUsers:function(){return 0===this.get("usersLimit")},isUnlimitedOpens:function(){return 0===this.get("opensPerMonth")},isUnlimitedPageViews:function(){return 0===this.get("pageViewsPerMonth")},isLimitedOnPageViews:function(){return"page-views"===this.getPricingPlanLimit()},isLimitedOnOpens:function(){return"opens"===this.getPricingPlanLimit()},getPricingPlanLimit:function(){return this.get("pricingPlanLimit")},getTrialDaysLeft:function(){var t=a.default().startOf("day"),e=a.default(this.get("endDate")).endOf("day"),n=Math.ceil(e.diff(t,"days",!0));return Math.clamp(n,0,n)},isTrialExpired:function(){return this.get("trial")&&0===this.getTrialDaysLeft()},isPublishingDisabled:function(){return this.get("disablePublishing")},getAccountManager:function(){return this.accountManager},setAccountManager:function(t){this.accountManager=t},getAccountManagerName:function(){var t=this.getAccountManager(),e="";return t&&(e=t.get("title")),e},parse:function(t){return t.accountManager&&r.default.isObject(t.accountManager)&&(this.accountManager=new u.default(t.accountManager)),t.contractStartDate&&(t.contractStartDate=new l.default(t.contractStartDate)),t.contractEndDate&&(t.contractEndDate=new l.default(t.contractEndDate)),t.initialSubscriptionContractStartDate&&(t.initialSubscriptionContractStartDate=new l.default(t.initialSubscriptionContractStartDate)),s.default.prototype.parse.call(this,t)},checkAvailability:function(){var t=o.default.Deferred(),e=this.get("slug");return r.default.has(d,e)?t.resolve(d[e]).promise():(o.default.ajax({url:this.url()+"/slug",type:"GET",processData:!1,success:function(n,i){d[e]=!1,t.resolve(!1)},error:function(n,i,r){404==n.status?(d[e]=!0,t.resolve(!0)):t.reject(n,i,r)}}),t.promise())},validateAccount:function(t,e){var n=[],i={title:"Account Name",slug:"Account URL",startDate:"Start Date",endDate:"End Date for Admin Access",gracePeriodEndDate:"End Date for Published Content",accountManagerMemberId:"Account Manager"};return e||(i.memberEmail="Owner Email",i.memberTitle="Owner Name"),r.default.each(t,(function(e,o){if(!i[o]||null!==e&&""!==e)if("memberEmail"===o){/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)||n.push(new c.default(o,"Not a valid email address"))}else"startDate"===o||"endDate"===o||"gracePeriodEndDate"===o?a.default(e).isValid()||n.push(new c.default(o,"Not a valid date")):"contractStartDate"===o||"contractEndDate"===o||"initialSubscriptionContractStartDate"===o?e&&""!==e&&(a.default(e).isValid()||n.push(new c.default(o,"Not a valid date"))):"publishedExperienceLimit"!==o&&"publishedExperienceOpensThreshold"!==o&&"currentArr"!==o||""===e||r.default.isInteger(r.default.toNumber(e))||n.push(new c.default(o,"Not a valid number"));else n.push(new c.default(o,"Required"));t.gracePeriodEndDate&&t.endDate&&a.default(t.gracePeriodEndDate).unix()<a.default(t.endDate).unix()&&n.push(new c.default("gracePeriodEndDate","Must be later than admin access end date"))})),n},resetDatesToMidnight:function(){var t=this.setDateToMidnight(this.get("startDate")),e=this.setDateToMidnight(this.get("endDate")),n=this.setDateToMidnight(this.get("contractStartDate")),i=this.setDateToMidnight(this.get("contractEndDate")),r=this.setDateToMidnight(this.get("initialSubscriptionContractStartDate")),o=this.setDateToMidnight(this.get("gracePeriodEndDate"));this.set("startDate",t),this.set("endDate",e),this.set("contractStartDate",n),this.set("contractEndDate",i),this.set("initialSubscriptionContractStartDate",r),this.set("gracePeriodEndDate",o)},setDateToMidnight:function(t){return t?l.default(t).startOf("day"):null}})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(68)),a={toString:function(){return this.isValid()?this.format("D MMMM, YYYY"):""}};e.default=function(t){var e=o.default.apply(this,arguments);return e&&r.default.extend(e,a)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){this.getField=function(){return t},this.getMessage=function(){return e}}},function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.supported=e.defaults=void 0;var s=a(n(16));e.defaults=i(i({},s.defaults),{title:"External Form",x:100,y:100,width:400,height:100,formId:"",formName:""}),e.supported=["width","x","y","fixedPosition","interactions","formId","formName","sdkTags","sdkPayload"]},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.InteractionModel=void 0;var s=a(n(0)),u=a(n(3)),l=n(425),c=n(168),d=n(170),h=n(171),f=n(172),p=n(173),g=n(174),m=n(22),v=n(175),y=n(176),_=n(182),b=n(183),T=n(184),S=n(185),w=n(177),E=n(178),C=n(179),O=n(181),A=n(186),P=n(187),I=n(188),x=n(195),M=n(189),k=n(190),D=n(191),R=n(192),N=n(193),L=n(194),F=n(102),V=n(34),j=n(169),U=n(196),B=n(197),H=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.defaults={delay:0,repeat:!0},e.saveHandler=function(){},e.destroyHandler=function(){},e}var n;return r(e,t),n=e,e.prototype.initialize=function(e,n){if(e=e||{},!(n=n||{}).collection)throw new Error("Must instantiate interaction model with collection");this.createSubModelForData(e),t.prototype.initialize.call(this,{trigger:e.trigger},n)},e.prototype.unload=function(){this.destroyActionModel()},e.prototype.createSubModelForData=function(t){var e=t.action,n=s.default.clone(t);delete n.trigger,delete n.action,delete n.delay,delete n.repeat,this.createActionModel(e,n)},e.prototype.setFromObject=function(t){if(s.default.isEqual(t,this.toJSON()))return this;this.createSubModelForData(t);var e=this.get("trigger"),n=this.getDelay(),i=this.getRepeat();return this.set({trigger:t.trigger,delay:t.delay,repeat:t.repeat}),e===t.trigger&&n===t.delay&&i===t.repeat&&this.trigger("change",this),this},e.prototype.clear=function(e){return this.destroyActionModel(),t.prototype.clear.call(this,e)},e.prototype.toJSON=function(){return this.isHoverInteraction()?s.default.extend({trigger:n.TRIGGER_TYPES.HOVER},this.actionModel?this.actionModel.toJSON():{}):this.isClickInteraction()?s.default.extend({trigger:n.TRIGGER_TYPES.CLICK},this.actionModel?this.actionModel.toJSON():{}):this.isSubmitInteraction()?s.default.extend({trigger:n.TRIGGER_TYPES.SUBMIT},this.actionModel?this.actionModel.toJSON():{}):this.isOnViewInteraction()?s.default.extend({trigger:n.TRIGGER_TYPES.ONVIEW,delay:this.getDelay(),repeat:this.getRepeat()},this.actionModel?this.actionModel.toJSON():{}):{}},e.prototype.propagateChangeEvent=function(){this.trigger("change",this)},e.prototype.createActionModel=function(t,e){this.destroyActionModel(),t&&(this.actionModel=l.ActionModelFactory.createModelForActionType(t,e,{parentInteraction:this}),this.actionModel.on("change",this.propagateChangeEvent,this))},e.prototype.destroyActionModel=function(){this.actionModel&&(this.actionModel.off("change",this.propagateChangeEvent,this),this.actionModel=null)},e.prototype.setSaveHandler=function(t,e){e&&(t=s.default.bind(t,e)),this.saveHandler=t},e.prototype.setDestroyHandler=function(t,e){e&&(t=s.default.bind(t,e)),this.destroyHandler=t},e.prototype.save=function(){if(!s.default.isFunction(this.saveHandler))throw new Error("Trying to save InteractionModel but a save handler was never set");if(!this.isValid())throw new Error("Trying to save an invalid InteractionModel");this.saveHandler(this),this.trigger("save",this)},e.prototype.destroy=function(){if(!s.default.isFunction(this.destroyHandler))throw new Error("Trying to destroy InteractionModel but a destroy handler was never set");this.destroyHandler(this),this.trigger("destroy",this)},e.prototype.getTrigger=function(){return this.get("trigger")},e.prototype.isClickInteraction=function(){return this.get("trigger")===n.TRIGGER_TYPES.CLICK},e.prototype.isHoverInteraction=function(){return this.get("trigger")===n.TRIGGER_TYPES.HOVER},e.prototype.isOnViewInteraction=function(){return this.get("trigger")===n.TRIGGER_TYPES.ONVIEW},e.prototype.isSubmitInteraction=function(){return this.get("trigger")===n.TRIGGER_TYPES.SUBMIT},e.prototype.setTrigger=function(t){if(this.getTrigger()!==t){if(!s.default.includes(n.TRIGGER_TYPES,t))throw new Error("Can't set trigger value of ["+t+"]");this.set("trigger",t)}},e.prototype.setHover=function(){this.setTrigger(n.TRIGGER_TYPES.HOVER)},e.prototype.setOnView=function(){this.setTrigger(n.TRIGGER_TYPES.ONVIEW)},e.prototype.setClick=function(){this.setTrigger(n.TRIGGER_TYPES.CLICK)},e.prototype.setSubmit=function(){this.setTrigger(n.TRIGGER_TYPES.SUBMIT)},e.prototype.clearTrigger=function(){this.set("trigger",null)},e.prototype.setDelay=function(t){this.set("delay",t)},e.prototype.getDelay=function(){var t=this.get("delay");return s.default.isUndefined(t)&&(t=this.defaults.delay),t},e.prototype.setRepeat=function(t){this.set("repeat",t)},e.prototype.getRepeat=function(){var t=this.get("repeat");return s.default.isUndefined(t)&&(t=this.defaults.repeat),t},e.prototype.setActionType=function(t){this.actionModel&&this.actionModel.getActionType()===t||(this.createActionModel(t),this.trigger("change",this),this.trigger("change:action",this))},e.prototype.getAction=function(){return this.actionModel},e.prototype.getActionType=function(){return this.actionModel?this.actionModel.getActionType():null},e.prototype.isScrollToInteraction=function(){return this.actionModel instanceof c.ScrollToActionModel},e.prototype.isScrollToObjectInteraction=function(){return this.actionModel instanceof j.ScrollToObjectActionModel},e.prototype.isNextPageInteraction=function(){return this.actionModel instanceof d.NextPageActionModel},e.prototype.isPrevPageInteraction=function(){return this.actionModel instanceof h.PrevPageActionModel},e.prototype.isGotoPageInteraction=function(){return this.actionModel instanceof f.GotoPageActionModel},e.prototype.isEnableDisablePageInteraction=function(){return this.actionModel instanceof p.EnableDisablePageActionModel},e.prototype.isUrlInteraction=function(){return this.actionModel instanceof g.UrlActionModel},e.prototype.isCanvasTargetsInteraction=function(){return this.actionModel instanceof m.AbstractCanvasTargetsActionModel},e.prototype.isShowCanvasTargetsInteraction=function(){return this.actionModel instanceof v.ShowCanvasTargetsActionModel},e.prototype.isShowCanvasTargetsOnHoverInteraction=function(){return this.actionModel instanceof y.ShowCanvasTargetsOnHoverActionModel},e.prototype.isHideCanvasTargetsInteraction=function(){return this.actionModel instanceof _.HideCanvasTargetsActionModel},e.prototype.isToggleCanvasTargetsInteraction=function(){return this.actionModel instanceof b.ToggleCanvasTargetsActionModel},e.prototype.isShowAndStayVisibleCanvasTargetsInteraction=function(){return this.actionModel instanceof S.ShowAndStayVisibleCanvasTargetsActionModel},e.prototype.isHideAndStayHiddenCanvasTargetsInteraction=function(){return this.actionModel instanceof T.HideAndStayHiddenCanvasTargetsActionModel},e.prototype.isShowOnlyInteraction=function(){return this.actionModel instanceof w.ShowOnlyActionModel},e.prototype.isHideOnlyInteraction=function(){return this.actionModel instanceof E.HideOnlyActionModel},e.prototype.isCycleNextInteraction=function(){return this.actionModel instanceof C.CycleNextActionModel},e.prototype.isCyclePreviousInteraction=function(){return this.actionModel instanceof O.CyclePreviousActionModel},e.prototype.isLightboxInteraction=function(){return this.actionModel instanceof A.LightboxActionModel},e.prototype.isProductInteraction=function(){return this.actionModel instanceof P.ProductActionModel},e.prototype.isShoppingCartInteraction=function(){return this.actionModel instanceof I.ShoppingCartActionModel},e.prototype.isFullscreenInteraction=function(){return this.actionModel instanceof x.FullscreenActionModel},e.prototype.isEmailInteraction=function(){return this.actionModel instanceof M.EmailActionModel},e.prototype.isFacebookInteraction=function(){return this.actionModel instanceof k.FacebookActionModel},e.prototype.isTwitterInteraction=function(){return this.actionModel instanceof D.TwitterActionModel},e.prototype.isPinterestInteraction=function(){return this.actionModel instanceof R.PinterestActionModel},e.prototype.isLinkedInInteraction=function(){return this.actionModel instanceof N.LinkedInActionModel},e.prototype.isBringToFrontInteraction=function(){return this.actionModel instanceof U.BringToFrontActionModel},e.prototype.isResetPositionsInteraction=function(){return this.actionModel instanceof B.ResetPositionsActionModel},e.prototype.isChangeStateInteraction=function(){return this.actionModel instanceof L.ChangeStateActionModel},e.prototype.isPageNumberAwareInteraction=function(){return this.actionModel instanceof F.PageNumberAwareAction},e.prototype.isValid=function(){return!!s.default.includes(n.TRIGGER_TYPES,this.get("trigger"))&&(!!this.actionModel&&this.actionModel.isValid())},e.prototype.isRepeatable=function(){return this.isOnViewInteraction()&&(this.isCanvasTargetsInteraction()&&!this.isCycleNextInteraction()&&!this.isCyclePreviousInteraction()||this.isBringToFrontInteraction())},e.prototype.getValidFullHierarchyTargets=function(){return this.collection.getAncestorFullHierarchyCollection()},e.prototype.getValidScranchorTargets=function(){return this.collection.getAncestorScranchorCollection()},e.prototype.getValidPageTargets=function(){return this.collection.getAncestorPageCollection()},e.TRIGGER_TYPES={CLICK:"click",HOVER:"hover",ONVIEW:"view",SUBMIT:"submit"},e=n=o([V.BackboneShim({defaults:{delay:0,repeat:!0}})],e)}(u.default.Model);e.InteractionModel=H},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.PageNumberAwareAction=void 0;var o=n(11),a=n(426),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.getValidPageTargets=function(){return this.parentInteraction.getValidPageTargets()},e.prototype._calculateUpdatedPageNumberOnMove=function(t,e,n){return a.PageTargetInteractionUtils.calculateUpdatedPageNumberOnMove(t,e,n)},e}(o.AbstractActionModel);e.PageNumberAwareAction=s},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(1)),a=i(n(55)),s=i(n(18)),u=i(n(31)),l=i(n(27));e.default=s.default.extend({firstRender:!0,zoom:1,shouldUpdateFromZoomChange:!1,forceCreateNewVectorImageResourceFactory:!1,initialize:function(t,e){s.default.prototype.initialize.call(this,t,e),this.isVectorBased()&&(this.forceCreateNewVectorImageResourceFactory=!this.hasCurrentConvertedVectorImageUri()),this.updateRenderedImage=r.default.debounce(r.default.bind(this.updateRenderedImageNow,this),500)},getImageUri:function(){throw"getImageUri is abstract"},getImageResourceToRender:function(){var t=this.getImageUri();if(!t)return null;if(this.firstRender){var e=!1;return this.isVectorBased()&&(e=!this.hasCurrentConvertedVectorImageUri()),this.updateRenderedImageNow(e),this.firstRender=!1,null}return this.shouldUpdateFromZoomChange&&(this.updateRenderedImage(),this.shouldUpdateFromZoomChange=!1),this.isVectorBased()?this.getVectorImageResourceToRender():a.default.getRasterImage(t,this.get("crop"))},getVectorImageResourceToRender:function(){var t=a.default.getVectorImageResourceFactory(this.getConvertedVectorImageUri());return t||(t=a.default.getVectorImageResourceFactory(this.getImageUri()))?t.getImageResource(this.getStyleForVectorImageResourceFactory()):null},getVectorImageResourceFactoryIfExists:function(){var t=a.default.getVectorImageResourceFactory(this.getConvertedVectorImageUri());if(t)return t;var e=a.default.getVectorImageResourceFactory(this.getImageUri());return e||void 0},hasRendered:function(){return!this.firstRender},setZoom:function(t){t>this.zoom&&!this.isVectorBased()&&(this.shouldUpdateFromZoomChange=!0),this.zoom=t},getZoom:function(){return this.zoom},updateRenderedImageNow:function(t){if(!this.getImageUri())return o.default.Deferred().resolve(null).promise();if(this.isVectorBased()){var e=this.updateRenderedVectorImage(t);return t&&this.saveConvertedVectorImage(e),e}return this.updateRenderedRasterImage()},saveConvertedVectorImage:function(t){var e=this;this.wasConvertedThisLoad||(this.wasConvertedThisLoad=!0,t.then((function(t){var n;null===(n=e.options.page)||void 0===n||n.getSvgReupload().uploadFile(t,e)})))},hasCurrentConvertedVectorImageUri:function(){return l.default.hasCurrentConvertedVectorImageUri(this.get("convertedVectorImageVersion"),this.get("convertedVectorImage"))},getConvertedVectorImageUri:function(){return this.get("convertedVectorImage")},setConvertedVectorImageUri:function(t){this.set("convertedVectorImageVersion",l.default.VECTOR_IMAGE_CONVERSION_VERSION),this.set("convertedVectorImage",t),this.save()},updateRenderedVectorImage:function(t){var e,n=this.getImageUri(),i=null===(e=this.options.page)||void 0===e?void 0:e.getSvgLoadQueue(),r=a.default.getOrCreateVectorImageResourceFactory(n,i,t,this.get("id"),this.forceCreateNewVectorImageResourceFactory);return this.forceCreateNewVectorImageResourceFactory=!1,r.getOrCreateImageResource(this.getStyleForVectorImageResourceFactory()).getPromise()},updateRenderedRasterImage:function(){var t=this.getImageUri(),e=this.get("width")*this.zoom,n=u.default.calculateWidthForDevicePixelRatio(e);return a.default.getOrCreateRasterImageResource(t,n,this.get("crop"))},forceRedraw:function(){this.trigger("forceRedraw")},getStyleForVectorImageResourceFactory:function(){var t=r.default.cloneDeep(this.get("background"));return t.backgroundHasBeenSet=this.get("backgroundHasBeenSet"),t},setMediaUploadPromise:function(t){this.uploadPromise=t},isUploading:function(){return this.uploadPromise&&"pending"===this.uploadPromise.state()},cancelUpload:function(t){this.uploadPromise.reject(t)}},{constrainInitialGettyMediaSize:function(t,e,n){var i=.7*n,r=i/(t/e);return{width:Math.round(i),height:Math.round(r)}}})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractFontAPI=void 0;var r=i(n(0)),o=i(n(1)),a=n(46),s=n(70),u=function(){function t(){}return t.prototype.execute=function(t){var e=this,n=o.default.Deferred();return this.fontCollection?n.resolve(this.filterFontsInMemory(t)):o.default.getJSON(this.FONT_URL).then((function(i){e.fontCollection=new a.FontCollection(e.parseResults(i)),n.resolve(e.filterFontsInMemory(t))})),n.promise()},t.prototype.filterFontsInMemory=function(t){var e=new a.FontCollection(this.fontCollection);return e.multiFilter(t.filters),e},t.prototype.loadFamiliesByFamilyGuids=function(t,e){var n=this,i=new a.FontCollection;return r.default.each(t,(function(t){if(n.belongsToAPI(t)){var e=n.fontCollection.getFontFamilyByFamilyGuid(t);e&&i.add(e)}})),o.default.Deferred().resolve(i).promise()},t.prototype.loadFamiliesByVariantGuids=function(t,e){var n=this,i=new a.FontCollection;return r.default.each(t,(function(t){if(n.belongsToAPI(t)){var e=n.fontCollection.getFontFamilyByVariantGuid(t);e&&i.add(e)}})),o.default.Deferred().resolve(i).promise()},t.prototype.belongsToAPI=function(t){return s.FontUtil.getFontAPI(t)===this.ID},t.prototype.updateMetrics=function(t){return o.default.Deferred().resolve()},t}();e.AbstractFontAPI=u},function(t,e,n){"use strict";(function(){window.Modernizr=function(t,e,n){var i,r,o={},a=e.documentElement,s="modernizr",u=e.createElement(s),l=u.style,c=" -webkit- -moz- -o- -ms- ".split(" "),d={},h=[],f=h.slice,p=function(t,n,i,r){var o,u,l,c,d=e.createElement("div"),h=e.body,f=h||e.createElement("body");if(parseInt(i,10))for(;i--;)(l=e.createElement("div")).id=r?r[i]:s+(i+1),d.appendChild(l);return o=["&#173;",'<style id="s',s,'">',t,"</style>"].join(""),d.id=s,(h?d:f).innerHTML+=o,f.appendChild(d),h||(f.style.background="",f.style.overflow="hidden",c=a.style.overflow,a.style.overflow="hidden",a.appendChild(f)),u=n(d,t),h?d.parentNode.removeChild(d):(f.parentNode.removeChild(f),a.style.overflow=c),!!u},g={}.hasOwnProperty;function m(t){l.cssText=t}function v(t,e){return typeof t===e}for(var y in r=v(g,"undefined")||v(g.call,"undefined")?function(t,e){return e in t&&v(t.constructor.prototype[e],"undefined")}:function(t,e){return g.call(t,e)},Function.prototype.bind||(Function.prototype.bind=function(t){var e=this;if("function"!=typeof e)throw new TypeError;var n=f.call(arguments,1),i=function(){if(this instanceof i){var r=function(){};r.prototype=e.prototype;var o=new r,a=e.apply(o,n.concat(f.call(arguments)));return Object(a)===a?a:o}return e.apply(t,n.concat(f.call(arguments)))};return i}),d.canvas=function(){var t=e.createElement("canvas");return!(!t.getContext||!t.getContext("2d"))},d.touch=function(){var n;return"ontouchstart"in t||t.DocumentTouch&&e instanceof DocumentTouch?n=!0:p(["@media (",c.join("touch-enabled),("),s,")","{#modernizr{top:9px;position:absolute}}"].join(""),(function(t){n=9===t.offsetTop})),n},d.video=function(){var t=e.createElement("video"),n=!1;try{(n=!!t.canPlayType)&&((n=new Boolean(n)).ogg=t.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),n.h264=t.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),n.webm=t.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""))}catch(t){}return n},d)r(d,y)&&(i=y.toLowerCase(),o[i]=d[y](),h.push((o[i]?"":"no-")+i));return o.addTest=function(t,e){if("object"==typeof t)for(var i in t)r(t,i)&&o.addTest(i,t[i]);else{if(t=t.toLowerCase(),o[t]!==n)return o;e="function"==typeof e?e():e,"undefined"!=typeof enableClasses&&enableClasses&&(a.className+=" "+(e?"":"no-")+t),o[t]=e}return o},m(""),u=null,function(t,e){var n,i,r=t.html5||{},o=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,a=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,s=0,u={};function l(){var t=f.elements;return"string"==typeof t?t.split(" "):t}function c(t){var e=u[t._html5shiv];return e||(e={},s++,t._html5shiv=s,u[s]=e),e}function d(t,n,r){return n||(n=e),i?n.createElement(t):(r||(r=c(n)),(s=r.cache[t]?r.cache[t].cloneNode():a.test(t)?(r.cache[t]=r.createElem(t)).cloneNode():r.createElem(t)).canHaveChildren&&!o.test(t)?r.frag.appendChild(s):s);var s}function h(t){t||(t=e);var r=c(t);return!f.shivCSS||n||r.hasCSS||(r.hasCSS=!!function(t,e){var n=t.createElement("p"),i=t.getElementsByTagName("head")[0]||t.documentElement;return n.innerHTML="x<style>"+e+"</style>",i.insertBefore(n.lastChild,i.firstChild)}(t,"article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}mark{background:#FF0;color:#000}")),i||function(t,e){e.cache||(e.cache={},e.createElem=t.createElement,e.createFrag=t.createDocumentFragment,e.frag=e.createFrag()),t.createElement=function(n){return f.shivMethods?d(n,t,e):e.createElem(n)},t.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+l().join().replace(/\w+/g,(function(t){return e.createElem(t),e.frag.createElement(t),'c("'+t+'")'}))+");return n}")(f,e.frag)}(t,r),t}!function(){try{var t=e.createElement("a");t.innerHTML="<xyz></xyz>",n="hidden"in t,i=1==t.childNodes.length||function(){e.createElement("a");var t=e.createDocumentFragment();return void 0===t.cloneNode||void 0===t.createDocumentFragment||void 0===t.createElement}()}catch(t){n=!0,i=!0}}();var f={elements:r.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:!1!==r.shivCSS,supportsUnknownElements:i,shivMethods:!1!==r.shivMethods,type:"default",shivDocument:h,createElement:d,createDocumentFragment:function(t,n){if(t||(t=e),i)return t.createDocumentFragment();for(var r=(n=n||c(t)).frag.cloneNode(),o=0,a=l(),s=a.length;o<s;o++)r.createElement(a[o]);return r}};t.html5=f,h(e)}(this,e),o._version="2.6.2",o._prefixes=c,o.testStyles=p,o}.call(window,this,this.document),t.exports=window.Modernizr}).call(window)},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1)),o=function(t){this.resourceReady=r.default.Deferred(),this.image=new Image,this.data=this.image,t&&t.useCorsAnonymous&&(this.image.crossOrigin="Anonymous")};o.prototype={onload:function(){return this.resourceReady.done.apply(this.resourceReady,arguments),this.resourceReady},onerror:function(){return this.resourceReady.fail.apply(this.resourceReady,arguments),this.resourceReady},ready:function(){return"resolved"===this.resourceReady.state()},getPromise:function(){return this.resourceReady.promise()},getImage:function(){return this.image},getWidth:function(){return this.image.width},getHeight:function(){return this.image.height},remove:function(){delete this.image},getSrc:function(){return this.image.src}},e.default=o},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(1)),a={textareaFitContent:function(t,e){e=e||{};var n=function(){t.height(0);var n=t.prop("scrollHeight")+2;e.min&&(n=Math.max(e.min,n)),e.max&&(n=Math.min(e.max,n)),t.height(n).toggle().toggle()};(t=o.default(t)).on("input",n),r.default.defer(n)},selectAllOrDragTextInInput:function(t){var e=function(){this.select()};o.default(t.target).one("mouseup",e),setTimeout((function(){o.default(t.target).off("mouseup",e)}),500)},randomId:function(){return"id"+Math.random().toString(16).substr(2,9)}};e.default=a},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(1)),a=i(n(3)),s=i(n(29)),u=i(n(54)),l="ceros-embedded-viewport:",c={PING:"ping",READY:"ready",POSITION:"position",SCROLL_TO:"scroll-to",UPDATE_POSITION:"update-position",GOTO_URL:"goto-url",VARIANT_DETECTION:"variant-detection",GLOBAL_FUNCTION_INVOKE:"global-function"},d=r.default.extend({EVENTS:c},a.default.Events),h=function(t){var e=null;try{e=JSON.parse(t.originalEvent.data)}catch(t){}if(e&&e.event&&e.event.substr(0,l.length)===l)switch(e.event.substr(l.length)){case c.PING:g();break;case c.POSITION:!function(t){t.screenWidth&&t.screenHeight&&u.default.setDimensions(t.screenWidth,t.screenHeight),s.default.getInstance().setPositionData(t),d.trigger(c.UPDATE_POSITION,t)}(e)}},f=function(t,e){var n=JSON.stringify(r.default.extend({event:l+t},e));window.parent.postMessage(n,"*")},p=null,g=function(){f(c.READY,{issueSlug:p})};d=r.default.extend(d,{init:function(t){p=t,g(),o.default(window).on("message",h)},announceScrollTo:function(t){f(c.SCROLL_TO,t)},announceGotoUrl:function(t,e){f(c.GOTO_URL,{url:t,urlOpenInNewWindow:e})},invokeGlobalFunctions:function(t){f(c.GLOBAL_FUNCTION_INVOKE,{globalFunctions:t})},announceVariantDetection:function(t){!function(t){f(c.VARIANT_DETECTION,{variant:t})}(t)}}),e.default=d},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(6)),o=i(n(0)),a=i(n(1)),s=i(n(4)),u=i(n(2)),l=i(n(3)),c=i(n(40)),d=i(n(226)),h=i(n(228)),f=i(n(61)),p=i(n(77)),g=i(n(76)),m=i(n(79)),v=i(n(64)),y=i(n(95)),_=i(n(78)),b=null,T=o.default.extend({},l.default.Events,{publishedEvents:{PLAYER_DOCUMENT_SHOWN:"player.document.shown"},setupInitialDom:function(){var t=a.default("html");s.default.mobile()?t.addClass("mobile"):t.addClass("desktop"),t.addClass(s.default.renderingEngine()),t.addClass(s.default.orientation()),s.default.retina()&&t.addClass("retina"),a.default(window).on(s.default.supportsOrientationChange()?"orientationchange":"resize",o.default.debounce(o.default.bind((function(){t.removeClass("portrait landscape"),t.addClass(s.default.orientation())}),this),100)),this.appendAccessibilityStyleOverrides();var e=a.default("body"),n=a.default("#main");p.default.shouldShow()&&n.append('<div id="chrome"></div>'),n.append('<div id="viewport"></div>'),n.append('<div id="flippers"></div>'),e.append('<div id="lightbox"></div>')},appendAccessibilityStyleOverrides:function(){u.default.shouldReduceMotion&&a.default("#main").addClass("ceros-no-animate")},attachModuleViews:function(t){a.default("#viewport").replaceWith(this.getViewportModule().el()),a.default("#flippers").replaceWith(this.getFlippersModule().el()),a.default("#lightbox").replaceWith(y.default.el()),a.default("#main").append(g.default.el()),u.default.isEmbedded||(a.default("#chrome").replaceWith(p.default.el()),p.default.setTitle(t.get("title")))},setupAdaptiveLayoutsPreviewerSelectionView:function(){this.isUsingNativeTouchDevice()||this.initPreviewerSelectionView()},setupAdaptiveLayoutsPreviewerFrameView:function(){this.previewerFrame=this.initPreviewerFrameView()},setupAdaptiveLayoutsPreviewerTouchDeviceView:function(){this.isUsingNativeTouchDevice()&&!c.default.fullScreenMode&&c.default.setFullScreenMode(!0)},isUsingNativeTouchDevice:function(){return s.default.deviceType()!==s.default.DEVICE_TYPE_DESKTOP},showPreviewerFadingMessage:function(){var t=this.isUsingNativeTouchDevice();u.default.previewMode&&u.default.allowAdaptiveLayouts&&!t&&this.previewerFrame.showFadingHelpMessage()},initPreviewerSelectionView:function(){return new d.default({el:".previewer-selection-header"})},initPreviewerFrameView:function(){return new h.default({el:".adaptive-layouts-frame"})},showDocument:function(){p.default.shouldShow()&&(p.default.show(),p.default.initiallyHidden()&&p.default.hide()),g.default.shouldShow()&&g.default.show(),a.default("#main").addClass("document"),this.getViewportModule().show(),this.getFlippersModule().show(),this.hideLoadingExperience(),this.trigger(this.publishedEvents.PLAYER_DOCUMENT_SHOWN)},getViewportModule:function(){return v.default},getFlippersModule:function(){return m.default},showLoadingExperience:function(){b=f.default.showLoading(a.default("#main"),{whiteLabeling:u.default.whiteLabeling,showPreviewLabel:u.default.previewMode&&!u.default.editMode,showEditorLabel:u.default.editMode,overlayed:!1})},hideLoadingExperience:function(){b?b.destroy():r.default.warn("Showing document but never showed the loading experience")},show404:function(){this.showError({title:"Sorry, page not found",message:"Please check the url and<br/>try again"})},show503:function(){this.showError({title:"Previewer for this experience is currently unavailable due to an excessive number of requests",message:"Please try again later",imageCssClass:"error503"})},showError:function(t){this.hideLoadingExperience(),_.default.load(t),a.default("html").css({height:"100%"}),a.default("body").empty().css({display:"block",height:"100%"}).append(_.default.el())}});e.default=T},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(4)),o=i(n(60)),a={isMetaKeyPressed:function(t){return r.default.isMac()?t.metaKey:t.ctrlKey},isAltKeyPressed:function(t){return t.altKey||t.which===o.default.ALT&&"keydown"===t.type},isCtrlKeyPressed:function(t){return t.ctrlKey},isCtrlOnWindowsOrAltOnMacsPressed:function(t){return r.default.isWindows()?t.ctrlKey:this.isAltKeyPressed(t)},isSemicolonKeyPressed:function(t){var e=r.default.mozilla?o.default.SEMICOLON_FIREFOX:o.default.SEMICOLON;return t.which===e},isMacCtrlKeyPressed:function(t){return!!r.default.isMac()&&t.ctrlKey},isDeleteKeyPressed:function(t){return t.which===o.default.DELETE},isBackspaceKeyPressed:function(t){return t.which===o.default.BACKSPACE},isEscKeyPressed:function(t){return t.which===o.default.ESC},isEnterKeyPressed:function(t){return t.which===o.default.ENTER},isArrowKey:function(t){return t==o.default.RIGHT_ARROW||t==o.default.LEFT_ARROW||t==o.default.UP_ARROW||t==o.default.DOWN_ARROW},isShiftKeyPressed:function(t){return t.shiftKey||t.which===o.default.SHIFT},isAKeyPressed:function(t){return t.which===o.default.A},isEKeyPressed:function(t){return t.which===o.default.E},isGKeyPressed:function(t){return t.which===o.default.G},isRKeyPressed:function(t){return t.which===o.default.R},isOptionRPressed:function(t){return a.isAltKeyPressed(t)&&a.isRKeyPressed(t)},isCommandZPressed:function(t){return a.isMetaKeyPressed(t)&&t.which===o.default.Z},isUndoCombinationPressed:function(t){return a.isCommandZPressed(t)&&!t.shiftKey},isCommandYPressed:function(t){return a.isMetaKeyPressed(t)&&t.which===o.default.Y},isCommandShiftQuotePressed:function(t){return a.isMetaKeyPressed(t)&&a.isShiftKeyPressed(t)&&t.which===o.default.SINGLE_QUOTE},isAltLPressed:function(t){return a.isAltKeyPressed(t)&&t.which===o.default.L},isCommandShiftZPressed:function(t){return a.isCommandZPressed(t)&&t.shiftKey},isRedoCombinationPressed:function(t){return a.isCommandYPressed(t)||a.isCommandShiftZPressed(t)},isHKeyPressed:function(t){return t.which===o.default.H},isPKeyPressed:function(t){return t.which===o.default.P},isInputNavigation:function(t){return-1!==[o.default.DELETE,o.default.BACKSPACE,o.default.TAB,o.default.ESCAPE,o.default.ENTER,o.default.SHIFT,o.default.CTRL,o.default.LEFT_CMD].indexOf(t.which)||-1!==[o.default.A,o.default.C,o.default.R,o.default.X,o.default.Z].indexOf(t.which)&&this.isMetaKeyPressed(t)||-1!==[o.default.HOME,o.default.END,o.default.LEFT_ARROW,o.default.RIGHT_ARROW].indexOf(t.which)},isZoomCommand:function(t){return this.isMetaKeyPressed(t)&&(t.which===o.default.EQUALS_WEBKIT||t.which===o.default.EQUALS_FF||t.which===o.default.MINUS_WEBKIT||t.which===o.default.MINUS_FF||t.which===o.default.ONE||t.which===o.default.ZERO)},isInteger:function(t){return t.keyCode>=48&&t.keyCode<=57||t.keyCode>=96&&t.keyCode<=105},isLetter:function(t){return t.keyCode>=65&&t.keyCode<=90},isSpace:function(t){return t.which===o.default.SPACE},isCharOrNumber:function(t){return a.isInteger(t)||a.isLetter(t)||a.isSpace(t)}};e.default=a},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r,o,a=i(n(0)),s=i(n(25)),u=i(n(230));t=new s.default.Module({id:"analytics",description:"Provides an interface for tracking statistics on the analytics service.",version:"1.0",delegate:(r={},o=a.default.functionsIn(u.default),a.default.each(o,(function(t){"_"!=t.substr(0,1)&&(r[t]=a.default.bind(u.default[t],u.default))})),r)});e.default=t},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1)),o=i(n(0)),a=i(n(2)),s=i(n(113)),u=i(n(4)),l=i(n(8)),c=i(n(233)),d=i(n(234)),h=i(n(114)),f=i(n(116)),p=n(62),g=n(237),m=["player.page.dwell","player.video.progress_percent","player.video.progress_time","player.performance.marker","previewer.performance.marker","studio.performance.marker","admin.performance.marker"],v=function(t){f.default.call(this,t),this.options=t||{},this.hasUserConsentForAnalytics=t.hasUserConsentForAnalytics||!1,this.domain=l.default.getRootDomain(),this.path=l.default.getExperiencePath(),this.cerosUserCookiePath="/",this.environmentData=new c.default,this.hasUserConsentForAnalytics?this.applyUserConsentGranted():this.applyUserConsentDenied(),this.userEmail=null,this.fullName=null,this.userSlug=null,this.clientVersion=10,this.userToken=null,this.defaultAttributes={timezone:this.getTimezoneOffset(),user_agent:navigator.userAgent,visit_slug:s.default.generate()},this.eventQueue=new d.default,this.eventQueue.on(this.eventQueue.EVENTS.AGGREGATE_EVENT,o.default.bind((function(t){this.trackEvents(t,!1)}),this))};(v.prototype=Object.create(f.default.prototype)).constructor=v,o.default.extend(v.prototype,{applyUserConsentGranted:function(){if(this.hasUserConsentForAnalytics=!0,this.isPlayerOrPreviewer()){var t=this.getDomainTrackingData();this.setDomainTracker(t),this.setInitialReferrerInExperienceTracker()}},applyUserConsentDenied:function(){this.hasUserConsentForAnalytics=!1,this.isPlayerOrPreviewer()&&(this.userToken=null,p.AnalyticsLocalStorage.deleteDomainTracker(this.path),p.AnalyticsLocalStorage.deleteExperienceTracker(this.path))},setUser:function(t,e,n){if(!this.isPlayerOrPreviewer()){this.userEmail=t,this.fullName=e,this.userSlug=n;var i=g.StringUtils.getEmailDomain(t);i?this.setCerosUserCookie({emailDomain:i}):this.deleteCerosUserCookie()}},setInitialReferrerInExperienceTracker:function(){if(this.isPlayerOrPreviewer()&&this.options.trackInitialReferrer){var t=p.AnalyticsLocalStorage.getExperienceTracker(this.path);if(o.default.isUndefined(null==t?void 0:t.initial_referrer)||o.default.isUndefined(null==t?void 0:t.initial_referring_domain)){var e=this.environmentData.getData();t={initial_referrer:e.referrer||null,initial_referring_domain:e.referring_domain||null},this.setExperienceTracker(t)}}},encodeData:function(t){return encodeURIComponent(btoa(unescape(encodeURIComponent(JSON.stringify(t)))))},getEvent:function(t,e){var n=o.default.extend({},{event_slug:s.default.generate()},e||{},{event_name:t,client_timestamp:(new Date).getTime()});return n=o.default.omitBy(n,o.default.isNull)},track:function(t,e){var n=this.getEvent(t,e);return o.default.includes(m,n.event_name)?(this.eventQueue.addEvent(n),r.default.Deferred().resolve()):this.trackEvents([n],!0)},trackEvents:function(t,e){if(!this.isEnabled())return r.default.Deferred().resolve();if(!a.default.analyticsUrl)return r.default.Deferred().resolve();if(!t||0===t.length)return r.default.Deferred().resolve();var n=this.getDomainTrackingData();this.isPlayerOrPreviewer()&&this.setDomainTracker(n);var i=this.getCommonProps(n),o=this.getExtendedCommonProps();e&&(t=t.concat(this.eventQueue.popEvents()));var s={common:i,extended_common:o,events:t},u=a.default.analyticsUrl+"?data="+this.encodeData(s);return this._sendTrackingRequest(u,0)},getDomainTrackingData:function(){return{user_token:this.getUserToken()}},getCommonProps:function(t){var e={account_slug:a.default.accountSlug,client_version:this.clientVersion,user_token:t.user_token,visit_slug:this.defaultAttributes.visit_slug};return this.isPlayerOrPreviewer()&&(e=o.default.extend(e,{user_consent:this.hasUserConsentForAnalytics})),o.default.omitBy(e,o.default.isNull)},getExtendedCommonProps:function(){var t=this.environmentData.getData();if(this.options.envPropertyList&&(t=o.default.pick(t,this.options.envPropertyList)),this.isPlayerOrPreviewer()){var e=p.AnalyticsLocalStorage.getExperienceTracker(this.path);t=o.default.extend(t,{timezone:this.defaultAttributes.timezone,user_agent:this.defaultAttributes.user_agent,initial_referrer:null==e?void 0:e.initial_referrer,initial_referring_domain:null==e?void 0:e.initial_referring_domain})}else t=o.default.extend(t,{timezone:this.defaultAttributes.timezone,user_agent:this.defaultAttributes.user_agent,email:this.userEmail,full_name:this.fullName});return o.default.omitBy(t,o.default.isNull)},_handleTrackingError:function(t,e,n,i){var r=this;i<3?setTimeout((function(){r._sendTrackingRequest(n,i)}),3e3):3!==i||window.sentRollbarForAnalyticsRetryFail||(window.Rollbar&&window.Rollbar.error("One or more analytics events are failing due to HTTP or connection errors.",{errorThrown:e,errorCode:t.status,url:n}),window.sentRollbarForAnalyticsRetryFail=!0)},_sendTrackingRequest:function(t,e){var n=this,i=new r.default.Deferred;if(u.default.isIE9OrEarlier()&&"http:"===location.protocol){var o=new Image;o.crossOrigin="Anonymous",o.src=t+"&_="+Math.random(),o.onload=function(){i.resolve()},o.onerror=function(){i.resolve()}}else r.default.ajax({url:t,type:"GET",cache:!1,crossDomain:!0}).done((function(){i.resolve()})).fail((function(r,o,a){n._handleTrackingError(r,a,t,++e),i.resolve()}));return i},getTimezoneOffset:function(){var t=(new Date).getTimezoneOffset()/60;return Math.abs(t)>15?null:t},getUserToken:function(){if(this.userToken)return this.userToken;var t=null;if(this.isPlayerOrPreviewer()){var e=p.AnalyticsLocalStorage.getDomainTracker(this.path);t=e?e.user_token:null}return t||(t=this.generateUserToken()),this.userToken=t,this.userToken},generateUserToken:function(){return s.default.generate()},setDomainTracker:function(t){this.isEnabled()&&this.hasUserConsentForAnalytics&&p.AnalyticsLocalStorage.setDomainTracker(t,this.path)},setExperienceTracker:function(t){this.isEnabled()&&this.hasUserConsentForAnalytics&&p.AnalyticsLocalStorage.setExperienceTracker(t,this.path)},setCerosUserCookie:function(t){h.default.setCerosUserCookie(t,this.cerosUserCookiePath,this.domain)},deleteCerosUserCookie:function(){h.default.deleteCerosUserCookie(this.cerosUserCookiePath,this.domain)},updateScale:function(t){this.environmentData.updateScale(t)},isPlayerOrPreviewer:function(){return!a.default.isAdmin&&!a.default.isStudio}}),e.default=v},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=navigator.userAgent;e.default={generate:(i=function(){for(var t=1*new Date,e=0;t==1*new Date;)e++;return t.toString(16)+e.toString(16)},function(){var t=(screen.height*screen.width).toString(16);return i()+"-"+Math.random().toString(16).replace(".","")+"-"+function(t){var e,n,i=r,o=[],a=0;function s(t,e){var n,i=0;for(n=0;n<e.length;n++)i|=o[n]<<8*n;return t^i}for(e=0;e<i.length;e++)n=i.charCodeAt(e),o.unshift(255&n),o.length>=4&&(a=s(a,o),o=[]);return o.length>0&&(a=s(a,o)),a.toString(16)}()+"-"+t+"-"+i()})}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(53)),o=n(235),a=n(115);e.default={setUserConsentCookie:function(t,e,n){this.setCookie(o.CookieName.USER_CONSENT,t,e,n,!1)},setExperienceTrackingCookie:function(t,e,n){this.setCookie(o.CookieName.CEROS_EXPERIENCE_TRACKING,t,e,n,!1)},setDomainTrackingCookie:function(t,e,n){this.setCookie(o.CookieName.CEROS_DOMAIN_TRACKING,t,e,n,!1)},setCerosUserCookie:function(t,e,n){this.setCookie(o.CookieName.CEROS_USER,t,e,n,!0)},getUserConsentCookie:function(){return this.getCookieData(o.CookieName.USER_CONSENT)},getExperienceTrackingCookieData:function(){return this.getCookieData(o.CookieName.CEROS_EXPERIENCE_TRACKING)},getDomainTrackingCookieData:function(){return this.getCookieData(o.CookieName.CEROS_DOMAIN_TRACKING)},getCerosUserCookie:function(){return this.getCookieData(o.CookieName.CEROS_USER)},deleteUserConsentCookie:function(t,e){this.deleteCookie(o.CookieName.USER_CONSENT,t,e)},deleteExperienceTrackingCookie:function(t,e){this.deleteCookie(o.CookieName.CEROS_EXPERIENCE_TRACKING,t,e)},deleteDomainTrackingCookie:function(t,e){this.deleteCookie(o.CookieName.CEROS_DOMAIN_TRACKING,t,e)},deleteCerosUserCookie:function(t,e){this.deleteCookie(o.CookieName.CEROS_USER,t,e)},getCookieData:function(t){var e=r.default.get(t);if(e){var n=decodeURIComponent(e);try{return JSON.parse(n)}catch(e){this.parseError(t,e)}}return{}},setCookie:function(t,e,n,i,o){e=encodeURIComponent(JSON.stringify(e)),o=!!a.DataUtils.isNullOrUndefined(o)||o,r.default.set(t,e,{expires:365,path:n||"/",domain:i||"",samesite:"lax",secure:o})},deleteCookie:function(t,e,n){r.default.remove(t,{path:e||"/",domain:n||""})},parseError:function(t,e){var n=(new Date).getTime();n-(this.lastParseError||0)>36e5&&(window.Rollbar.error("Unable to parse "+t+" cookie data, the content was malformed. Exception was: "+e),this.lastParseError=n)}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.DataUtils=void 0;var r=i(n(0)),o=function(){function t(){}return t.isNullOrUndefined=function(t){return r.default.isNull(t)||r.default.isUndefined(t)},t.keysToSnakeCase=function(e){var n=r.default.cloneDeep(e);return n=r.default.mapKeys(n,(function(t,e){return r.default.snakeCase(e)})),r.default.mapValues(n,(function(e){return r.default.isPlainObject(e)?t.keysToSnakeCase(e):r.default.isArray(e)?r.default.map(e,t.keysToSnakeCase):e}))},t.getPropName=function(t,e){return e(Object.keys(t).reduce((function(t,e){var n=e;return t[n]=n,t}),{}))},t}();e.DataUtils=o},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1)),o=function(){function t(t){this.options=t||{},this.enabled=!!t.enabled}return t.prototype.isEnabled=function(){return this.enabled},t.prototype.applyUserConsentGranted=function(){},t.prototype.applyUserConsentDenied=function(){},t.prototype.sendEvent=function(t,e){return r.default.Deferred().resolve()},t.prototype.updateScale=function(t){},t}();e.default=o},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(3)),a=function(){this.startTime=null};a.prototype=r.default.extend(a.prototype,o.default.Events,{EVENTS:{PERFORMANCE_MARK:"performance_mark"},MARKS:{PLAYER:{RUN_START:"run-start",DOM_READY:"dom-ready",SPINNER_SHOWN:"spinner-shown",DOC_VERSION_LOADED:"doc-version-loaded",SPINNER_HIDDEN:"spinner-hidden",HIGH_PRIORITY_IMAGES_START_LOADING:"high-priority-images-start-loading",LOW_PRIORITY_IMAGES_START_LOADING:"low-priority-images-start-loading",BEGIN_PRERENDERING_PAGES:"begin-prerendering-pages",ALL_PAGES_PRERENDERED:"all-pages-prerendered",PRIORITY_QUEUE_EMPTIED:"priority-queue-emptied",ALL_RESOURCES_LOADED:"all-resources-loaded"},STUDIO:{SHAREJS_CONNECTION_INITIALIZED:"sharejs-connection-initialized",ALL_DATA_LOADED:"all-data-loaded",ALL_PAGES_LOADED:"all-pages-loaded",USER_LOADED:"user-loaded",THUMBNAIL_POLICY_LOADED:"thumbnail-policy-loaded"}},optionalProperties:{},setOptionalProperties:function(t){return this.optionalProperties=t,this},_getDateNow:function(){return new Date(Date.now())},startTracking:function(t){this.startTime=t||this._getDateNow().getTime();var e=r.default.extend({},this.optionalProperties,{performance_marker_name:"start-tracking",performance_marker_time:0});this.trigger(this.EVENTS.PERFORMANCE_MARK,e)},mark:function(t){if(null===this.startTime)return!1;var e=this._getDateNow().getTime()-this.startTime;if(e<0||e>18e5)return!1;var n=r.default.extend({},this.optionalProperties,{performance_marker_name:t,performance_marker_time:e});return this.trigger(this.EVENTS.PERFORMANCE_MARK,n),!0}}),e.default=a},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(3)),a=function(){this.lastUserActivityTime=null,this.timerId=null,this.paused=!1,this.pageActivated=!1,document.addEventListener&&document.addEventListener("visibilitychange",r.default.bind((function(){"hidden"===document.visibilityState?this.pause():"visible"===document.visibilityState&&this.registerUserActivity()}),this))};a.prototype=r.default.extend({},o.default.Events,{EVENTS:{USER_ACTIVITY_PING:"user-activity-ping"},PAGE_PING_INTERVAL_MILLIS:5e3,USER_INACTIVITY_TIMEOUT_MILLIS:3e4,pause:function(){this.isRunning()&&(this.logDebug("Pausing page ping timer"),clearTimeout(this.timerId),this.timerId=null,this.paused=!0)},registerUserActivity:function(){this.pageActivated&&(this.lastUserActivityTime=new Date,this.paused=!1,this.isRunning()||this.startTimer())},registerUserActivityIfNotPaused:function(){this.paused||this.registerUserActivity()},startTimer:function(){this.logDebug("Starting page ping timer");var t=r.default.bind((function(){this.timerId=setTimeout(r.default.bind((function(){this.trigger(this.EVENTS.USER_ACTIVITY_PING,this.getDwellTimeEventData()),this.setPostEventFireData(),this.shouldStartPagePingEventTimer()?t():(this.logDebug("Stopping page pings. User is not active."),this.timerId=null)}),this),this.PAGE_PING_INTERVAL_MILLIS),this.timerStartTime=Date.now()}),this);t()},getDwellTimeEventData:function(){return{dwellTime:this.PAGE_PING_INTERVAL_MILLIS/1e3}},setPostEventFireData:function(){},shouldStartPagePingEventTimer:function(){return this.isUserActive()},isUserActive:function(){return new Date-this.lastUserActivityTime<this.USER_INACTIVITY_TIMEOUT_MILLIS},isRunning:function(){return null!==this.timerId},logDebug:function(t){console.debug(t)}}),e.default=a},function(t,e,n){"use strict";var i;
/*! Hammer.JS - v2.0.8 - 2016-04-23
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */!function(r,o,a,s){var u,l=["","webkit","Moz","MS","ms","o"],c=o.createElement("div"),d=Math.round,h=Math.abs,f=Date.now;function p(t,e,n){return setTimeout(T(t,n),e)}function g(t,e,n){return!!Array.isArray(t)&&(m(t,n[e],n),!0)}function m(t,e,n){var i;if(t)if(t.forEach)t.forEach(e,n);else if(void 0!==t.length)for(i=0;i<t.length;)e.call(n,t[i],i,t),i++;else for(i in t)t.hasOwnProperty(i)&&e.call(n,t[i],i,t)}function v(t,e,n){var i="DEPRECATED METHOD: "+e+"\n"+n+" AT \n";return function(){var e=new Error("get-stack-trace"),n=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=r.console&&(r.console.warn||r.console.log);return o&&o.call(r.console,i,n),t.apply(this,arguments)}}u="function"!=typeof Object.assign?function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var i=arguments[n];if(null!=i)for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])}return e}:Object.assign;var y=v((function(t,e,n){for(var i=Object.keys(e),r=0;r<i.length;)(!n||n&&void 0===t[i[r]])&&(t[i[r]]=e[i[r]]),r++;return t}),"extend","Use `assign`."),_=v((function(t,e){return y(t,e,!0)}),"merge","Use `assign`.");function b(t,e,n){var i,r=e.prototype;(i=t.prototype=Object.create(r)).constructor=t,i._super=r,n&&u(i,n)}function T(t,e){return function(){return t.apply(e,arguments)}}function S(t,e){return"function"==typeof t?t.apply(e&&e[0]||void 0,e):t}function w(t,e){return void 0===t?e:t}function E(t,e,n){m(P(e),(function(e){t.addEventListener(e,n,!1)}))}function C(t,e,n){m(P(e),(function(e){t.removeEventListener(e,n,!1)}))}function O(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function A(t,e){return t.indexOf(e)>-1}function P(t){return t.trim().split(/\s+/g)}function I(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var i=0;i<t.length;){if(n&&t[i][n]==e||!n&&t[i]===e)return i;i++}return-1}function x(t){return Array.prototype.slice.call(t,0)}function M(t,e,n){for(var i=[],r=[],o=0;o<t.length;){var a=e?t[o][e]:t[o];I(r,a)<0&&i.push(t[o]),r[o]=a,o++}return n&&(i=e?i.sort((function(t,n){return t[e]>n[e]})):i.sort()),i}function k(t,e){for(var n,i,r=e[0].toUpperCase()+e.slice(1),o=0;o<l.length;){if((i=(n=l[o])?n+r:e)in t)return i;o++}}var D=1;function R(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||r}var N="ontouchstart"in r,L=void 0!==k(r,"PointerEvent"),F=N&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),V=["x","y"],j=["clientX","clientY"];function U(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){S(t.options.enable,[t])&&n.handler(e)},this.init()}function B(t,e,n){var i=n.pointers.length,r=n.changedPointers.length,o=1&e&&i-r==0,a=12&e&&i-r==0;n.isFirst=!!o,n.isFinal=!!a,o&&(t.session={}),n.eventType=e,function(t,e){var n=t.session,i=e.pointers,r=i.length;n.firstInput||(n.firstInput=H(e));r>1&&!n.firstMultiple?n.firstMultiple=H(e):1===r&&(n.firstMultiple=!1);var o=n.firstInput,a=n.firstMultiple,s=a?a.center:o.center,u=e.center=G(i);e.timeStamp=f(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=Y(s,u),e.distance=$(s,u),function(t,e){var n=e.center,i=t.offsetDelta||{},r=t.prevDelta||{},o=t.prevInput||{};1!==e.eventType&&4!==o.eventType||(r=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},i=t.offsetDelta={x:n.x,y:n.y});e.deltaX=r.x+(n.x-i.x),e.deltaY=r.y+(n.y-i.y)}(n,e),e.offsetDirection=z(e.deltaX,e.deltaY);var l=W(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=l.x,e.overallVelocityY=l.y,e.overallVelocity=h(l.x)>h(l.y)?l.x:l.y,e.scale=a?(c=a.pointers,d=i,$(d[0],d[1],j)/$(c[0],c[1],j)):1,e.rotation=a?function(t,e){return Y(e[1],e[0],j)+Y(t[1],t[0],j)}(a.pointers,i):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,function(t,e){var n,i,r,o,a=t.lastInterval||e,s=e.timeStamp-a.timeStamp;if(8!=e.eventType&&(s>25||void 0===a.velocity)){var u=e.deltaX-a.deltaX,l=e.deltaY-a.deltaY,c=W(s,u,l);i=c.x,r=c.y,n=h(c.x)>h(c.y)?c.x:c.y,o=z(u,l),t.lastInterval=e}else n=a.velocity,i=a.velocityX,r=a.velocityY,o=a.direction;e.velocity=n,e.velocityX=i,e.velocityY=r,e.direction=o}(n,e);var c,d;var p=t.element;O(e.srcEvent.target,p)&&(p=e.srcEvent.target);e.target=p}(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function H(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:d(t.pointers[n].clientX),clientY:d(t.pointers[n].clientY)},n++;return{timeStamp:f(),pointers:e,center:G(e),deltaX:t.deltaX,deltaY:t.deltaY}}function G(t){var e=t.length;if(1===e)return{x:d(t[0].clientX),y:d(t[0].clientY)};for(var n=0,i=0,r=0;r<e;)n+=t[r].clientX,i+=t[r].clientY,r++;return{x:d(n/e),y:d(i/e)}}function W(t,e,n){return{x:e/t||0,y:n/t||0}}function z(t,e){return t===e?1:h(t)>=h(e)?t<0?2:4:e<0?8:16}function $(t,e,n){n||(n=V);var i=e[n[0]]-t[n[0]],r=e[n[1]]-t[n[1]];return Math.sqrt(i*i+r*r)}function Y(t,e,n){n||(n=V);var i=e[n[0]]-t[n[0]],r=e[n[1]]-t[n[1]];return 180*Math.atan2(r,i)/Math.PI}U.prototype={handler:function(){},init:function(){this.evEl&&E(this.element,this.evEl,this.domHandler),this.evTarget&&E(this.target,this.evTarget,this.domHandler),this.evWin&&E(R(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&C(this.element,this.evEl,this.domHandler),this.evTarget&&C(this.target,this.evTarget,this.domHandler),this.evWin&&C(R(this.element),this.evWin,this.domHandler)}};var q={mousedown:1,mousemove:2,mouseup:4};function X(){this.evEl="mousedown",this.evWin="mousemove mouseup",this.pressed=!1,U.apply(this,arguments)}b(X,U,{handler:function(t){var e=q[t.type];1&e&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=4),this.pressed&&(4&e&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var K={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},Z={2:"touch",3:"pen",4:"mouse",5:"kinect"},J="pointerdown",Q="pointermove pointerup pointercancel";function tt(){this.evEl=J,this.evWin=Q,U.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}r.MSPointerEvent&&!r.PointerEvent&&(J="MSPointerDown",Q="MSPointerMove MSPointerUp MSPointerCancel"),b(tt,U,{handler:function(t){var e=this.store,n=!1,i=t.type.toLowerCase().replace("ms",""),r=K[i],o=Z[t.pointerType]||t.pointerType,a="touch"==o,s=I(e,t.pointerId,"pointerId");1&r&&(0===t.button||a)?s<0&&(e.push(t),s=e.length-1):12&r&&(n=!0),s<0||(e[s]=t,this.callback(this.manager,r,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),n&&e.splice(s,1))}});var et={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function nt(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,U.apply(this,arguments)}function it(t,e){var n=x(t.touches),i=x(t.changedTouches);return 12&e&&(n=M(n.concat(i),"identifier",!0)),[n,i]}b(nt,U,{handler:function(t){var e=et[t.type];if(1===e&&(this.started=!0),this.started){var n=it.call(this,t,e);12&e&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}}});var rt={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function ot(){this.evTarget="touchstart touchmove touchend touchcancel",this.targetIds={},U.apply(this,arguments)}function at(t,e){var n=x(t.touches),i=this.targetIds;if(3&e&&1===n.length)return i[n[0].identifier]=!0,[n,n];var r,o,a=x(t.changedTouches),s=[],u=this.target;if(o=n.filter((function(t){return O(t.target,u)})),1===e)for(r=0;r<o.length;)i[o[r].identifier]=!0,r++;for(r=0;r<a.length;)i[a[r].identifier]&&s.push(a[r]),12&e&&delete i[a[r].identifier],r++;return s.length?[M(o.concat(s),"identifier",!0),s]:void 0}b(ot,U,{handler:function(t){var e=rt[t.type],n=at.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}});function st(){U.apply(this,arguments);var t=T(this.handler,this);this.touch=new ot(this.manager,t),this.mouse=new X(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function ut(t,e){1&t?(this.primaryTouch=e.changedPointers[0].identifier,lt.call(this,e)):12&t&&lt.call(this,e)}function lt(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY};this.lastTouches.push(n);var i=this.lastTouches;setTimeout((function(){var t=i.indexOf(n);t>-1&&i.splice(t,1)}),2500)}}function ct(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var r=this.lastTouches[i],o=Math.abs(e-r.x),a=Math.abs(n-r.y);if(o<=25&&a<=25)return!0}return!1}b(st,U,{handler:function(t,e,n){var i="touch"==n.pointerType,r="mouse"==n.pointerType;if(!(r&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(i)ut.call(this,e,n);else if(r&&ct.call(this,n))return;this.callback(t,e,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var dt=k(c.style,"touchAction"),ht=void 0!==dt,ft=function(){if(!ht)return!1;var t={},e=r.CSS&&r.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){t[n]=!e||r.CSS.supports("touch-action",n)})),t}();function pt(t,e){this.manager=t,this.set(e)}pt.prototype={set:function(t){"compute"==t&&(t=this.compute()),ht&&this.manager.element.style&&ft[t]&&(this.manager.element.style[dt]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return m(this.manager.recognizers,(function(e){S(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))})),function(t){if(A(t,"none"))return"none";var e=A(t,"pan-x"),n=A(t,"pan-y");if(e&&n)return"none";if(e||n)return e?"pan-x":"pan-y";if(A(t,"manipulation"))return"manipulation";return"auto"}(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var i=this.actions,r=A(i,"none")&&!ft.none,o=A(i,"pan-y")&&!ft["pan-y"],a=A(i,"pan-x")&&!ft["pan-x"];if(r){var s=1===t.pointers.length,u=t.distance<2,l=t.deltaTime<250;if(s&&u&&l)return}if(!a||!o)return r||o&&6&n||a&&24&n?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};function gt(t){this.options=u({},this.defaults,t||{}),this.id=D++,this.manager=null,this.options.enable=w(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function mt(t){return 16&t?"cancel":8&t?"end":4&t?"move":2&t?"start":""}function vt(t){return 16==t?"down":8==t?"up":2==t?"left":4==t?"right":""}function yt(t,e){var n=e.manager;return n?n.get(t):t}function _t(){gt.apply(this,arguments)}function bt(){_t.apply(this,arguments),this.pX=null,this.pY=null}function Tt(){_t.apply(this,arguments)}function St(){gt.apply(this,arguments),this._timer=null,this._input=null}function wt(){_t.apply(this,arguments)}function Et(){_t.apply(this,arguments)}function Ct(){gt.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Ot(t,e){return(e=e||{}).recognizers=w(e.recognizers,Ot.defaults.preset),new At(t,e)}gt.prototype={defaults:{},set:function(t){return u(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(g(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=yt(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return g(t,"dropRecognizeWith",this)||(t=yt(t,this),delete this.simultaneous[t.id]),this},requireFailure:function(t){if(g(t,"requireFailure",this))return this;var e=this.requireFail;return-1===I(e,t=yt(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(g(t,"dropRequireFailure",this))return this;t=yt(t,this);var e=I(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){var e=this,n=this.state;function i(n){e.manager.emit(n,t)}n<8&&i(e.options.event+mt(n)),i(e.options.event),t.additionalEvent&&i(t.additionalEvent),n>=8&&i(e.options.event+mt(n))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(33&this.requireFail[t].state))return!1;t++}return!0},recognize:function(t){var e=u({},t);if(!S(this.options.enable,[this,e]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(e),30&this.state&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},b(_t,gt,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,i=6&e,r=this.attrTest(t);return i&&(8&n||!r)?16|e:i||r?4&n?8|e:2&e?4|e:2:32}}),b(bt,_t,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var t=this.options.direction,e=[];return 6&t&&e.push("pan-y"),24&t&&e.push("pan-x"),e},directionTest:function(t){var e=this.options,n=!0,i=t.distance,r=t.direction,o=t.deltaX,a=t.deltaY;return r&e.direction||(6&e.direction?(r=0===o?1:o<0?2:4,n=o!=this.pX,i=Math.abs(t.deltaX)):(r=0===a?1:a<0?8:16,n=a!=this.pY,i=Math.abs(t.deltaY))),t.direction=r,n&&i>e.threshold&&r&e.direction},attrTest:function(t){return _t.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=vt(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),b(Tt,_t,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||2&this.state)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),b(St,gt,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,r=t.deltaTime>e.time;if(this._input=t,!i||!n||12&t.eventType&&!r)this.reset();else if(1&t.eventType)this.reset(),this._timer=p((function(){this.state=8,this.tryEmit()}),e.time,this);else if(4&t.eventType)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){8===this.state&&(t&&4&t.eventType?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=f(),this.manager.emit(this.options.event,this._input)))}}),b(wt,_t,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||2&this.state)}}),b(Et,_t,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return bt.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return 30&n?e=t.overallVelocity:6&n?e=t.overallVelocityX:24&n&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&h(e)>this.options.velocity&&4&t.eventType},emit:function(t){var e=vt(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),b(Ct,gt,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return["manipulation"]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,r=t.deltaTime<e.time;if(this.reset(),1&t.eventType&&0===this.count)return this.failTimeout();if(i&&r&&n){if(4!=t.eventType)return this.failTimeout();var o=!this.pTime||t.timeStamp-this.pTime<e.interval,a=!this.pCenter||$(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,a&&o?this.count+=1:this.count=1,this._input=t,0===this.count%e.taps)return this.hasRequireFailures()?(this._timer=p((function(){this.state=8,this.tryEmit()}),e.interval,this),2):8}return 32},failTimeout:function(){return this._timer=p((function(){this.state=32}),this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Ot.VERSION="2.0.8",Ot.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[wt,{enable:!1}],[Tt,{enable:!1},["rotate"]],[Et,{direction:6}],[bt,{direction:6},["swipe"]],[Ct],[Ct,{event:"doubletap",taps:2},["tap"]],[St]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function At(t,e){var n;this.options=u({},Ot.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((n=this).options.inputClass||(L?tt:F?ot:N?st:X))(n,B),this.touchAction=new pt(this,this.options.touchAction),Pt(this,!0),m(this.options.recognizers,(function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])}),this)}function Pt(t,e){var n,i=t.element;i.style&&(m(t.options.cssProps,(function(r,o){n=k(i.style,o),e?(t.oldCssProps[n]=i.style[n],i.style[n]=r):i.style[n]=t.oldCssProps[n]||""})),e||(t.oldCssProps={}))}At.prototype={set:function(t){return u(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){var n;this.touchAction.preventDefaults(t);var i=this.recognizers,r=e.curRecognizer;(!r||r&&8&r.state)&&(r=e.curRecognizer=null);for(var o=0;o<i.length;)n=i[o],2===e.stopped||r&&n!=r&&!n.canRecognizeWith(r)?n.reset():n.recognize(t),!r&&14&n.state&&(r=e.curRecognizer=n),o++}},get:function(t){if(t instanceof gt)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(g(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(g(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,n=I(e,t);-1!==n&&(e.splice(n,1),this.touchAction.update())}return this},on:function(t,e){if(void 0!==t&&void 0!==e){var n=this.handlers;return m(P(t),(function(t){n[t]=n[t]||[],n[t].push(e)})),this}},off:function(t,e){if(void 0!==t){var n=this.handlers;return m(P(t),(function(t){e?n[t]&&n[t].splice(I(n[t],e),1):delete n[t]})),this}},emit:function(t,e){this.options.domEvents&&function(t,e){var n=o.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var i=0;i<n.length;)n[i](e),i++}},destroy:function(){this.element&&Pt(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},u(Ot,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:At,Input:U,TouchAction:pt,TouchInput:ot,MouseInput:X,PointerEventInput:tt,TouchMouseInput:st,SingleTouchInput:nt,Recognizer:gt,AttrRecognizer:_t,Tap:Ct,Pan:bt,Swipe:Et,Pinch:Tt,Rotate:wt,Press:St,on:E,off:C,each:m,merge:_,extend:y,assign:u,inherit:b,bindFn:T,prefixed:k}),(void 0!==r?r:"undefined"!=typeof self?self:{}).Hammer=Ot,void 0===(i=function(){return Ot}.call(e,n,e,t))||(t.exports=i)}(window,document)},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o={mergeDelegates:function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];if(r.default.isObject(n))for(var i in n)r.default.isFunction(n[i])?t[i]=r.default.bind(n[i],t):t[i]=n[i]}}};e.default=o},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=null;e.default={getScrollbarWidth:function(){if(!r.default.isNull(o))return o;var t=document.createElement("div");t.style.visibility="hidden",t.style.width="100px",document.body.appendChild(t);var e=t.offsetWidth;t.style.overflow="scroll";var n=document.createElement("div");n.style.width="100%",t.appendChild(n);var i=n.offsetWidth;return t.parentNode.removeChild(t),o=e-i}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=function(t,e){this.lookBehind=1,this.lookAhead=1,this.isCircular=e,this.pageIndexes=t.sort((function(t,e){return t-e}))};o.prototype={getPageIndexesToLoad:function(t){var e,n=null,i=!1;r.default.each(this.pageIndexes,r.default.bind((function(e,r){return e===t?(n=r,i=!0,!1):e>t?(n=r,!1):void 0}),this)),i?e=this.pageIndexes:(e=this.pageIndexes.slice(),null===n&&(n=e.length),e.splice(n,0,t));var o,a=[],s=n;for(o=0;o<this.lookBehind;o++){if(-1===--s){if(!this.isCircular)break;s=e.length-1}a.push(e[s])}var u=[];for(s=n,o=0;o<this.lookAhead;o++){if(++s===e.length){if(!this.isCircular)break;s=0}u.push(e[s])}return this.combinePageIndexArrays(e[n],a,u)},combinePageIndexArrays:function(t,e,n){for(var i=[t],o=0;o<n.length||o<e.length;)o<n.length&&i.push(n[o]),o<e.length&&i.push(e[o]),o++;return r.default.uniq(i)}},e.default=o},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},a=this&&this.__rest||function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollToObjectInteraction=void 0;var u=n(124),l=s(n(0)),c=s(n(10)),d=n(13),h=function(t){function e(e,n){var i=e.layerTargets,r=a(e,["layerTargets"]),s=l.default.get(i,0);return t.call(this,o(o({},r),{scrollTargetType:"component",scrollTargetScranchor:s}),n)||this}return r(e,t),e.prototype.isValid=function(){if(!c.default.hasFeature(d.FeatureFlagName.ACCESSIBILITY)||!this.scrollTargetScranchor)return!1;var t=this.pageView.model.findLayerById(this.scrollTargetScranchor);return Boolean(t&&!t.fixedPosition)},e.prototype.customAttributes=function(){if(this.isValid()){var t=this.pageView.model.findLayerById(this.scrollTargetScranchor);if("folder"===t.type){var e=this.pageView.model.constructor.findTopmostFolderContent(t);if(e)return{"aria-flowto":e.id}}}return{}},e.prototype.toJSON=function(){var e=t.prototype.toJSON.call(this);return e.layerTargets=e.scrollTargetScranchor?[e.scrollTargetScranchor]:[],delete e.scrollTargetScranchor,delete e.scrollTargetType,e},e}(u.ScrollToInteraction);e.ScrollToObjectInteraction=h},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollToInteraction=void 0;var a=o(n(0)),s=n(65),u=n(12),l=o(n(2)),c=o(n(10)),d=n(13),h=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.scrollTargetType=e.scrollTargetType||"",i.scrollTargetScranchor=e.scrollTargetScranchor,i}return r(e,t),e.prototype.constructUrl=function(){var t=c.default.hasFeature(d.FeatureFlagName.ACCESSIBILITY);if(!l.default.isEmbedded)return t&&"top"===this.scrollTargetType?"#"+u.VIEWPORT_TOP_ID:"top"===this.scrollTargetType||"bottom"===this.scrollTargetType?"#page-"+(this.pageView.model.pageIndex+1)+"-"+this.scrollTargetType:"#"+(this.scrollTargetScranchor||"")},e.prototype.getModuleAction=function(){return this.pageView.module.publishedEvents.PAGE_ACTION_SCROLL_TO},e.prototype.isValid=function(){switch(this.scrollTargetType){case"top":case"bottom":return!0;case"scranchor":return!!this.scrollTargetScranchor&&!a.default.isEmpty(this.scrollTargetScranchor);default:return!1}},e}(s.BaseURLInteraction);e.ScrollToInteraction=h},function(t,e,n){"use strict";var i=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a};Object.defineProperty(e,"__esModule",{value:!0}),e.ColorUtils=void 0;var r=function(){function t(){}return t.intToHex=function(t){return("0"+t.toString(16)).slice(-2)},t.fixRange=function(t){return Math.min(Math.max(Math.ceil(t),0),255)},t.isRgb=function(t){return!!t.match(/^rgb/)},t.rgb=function(t){var e=i(t.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/)||[],4),n=e[1],r=e[2],o=e[3];return{r:Number(n),g:Number(r),b:Number(o)}},t.hexToRgb=function(t){var e=i(/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t)||[],4),n=e[1],r=e[2],o=e[3];return{r:parseInt(n,16),g:parseInt(r,16),b:parseInt(o,16)}},t.lightenDarkenColor=function(t,e){var n=this.colorToRGB(t),i=n.r,r=n.g,o=n.b;return"#"+this.intToHex(this.fixRange(i+e))+this.intToHex(this.fixRange(r+e))+this.intToHex(this.fixRange(o+e))},t.hsp=function(t){var e=this.isRgb(t)?this.rgb(t):this.hexToRgb(t),n=e.r,i=e.g,r=e.b;return Math.sqrt(n*n*.299+i*i*.587+r*r*.114)},t.colorToRGB=function(t){return this.isRgb(t)?this.rgb(t):this.hexToRgb(t)},t.isDark=function(t){return this.hsp(t)<=127.5},t.isLight=function(t){return this.hsp(t)>127.5},t.lighten=function(t,e){return this.lightenDarkenColor(t,e/100*255)},t.darken=function(t,e){return this.lightenDarkenColor(t,e/100*255*-1)},t}();e.ColorUtils=r},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractPageChildView=void 0;var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.isComponent=function(){return this._isComponent},e}(o(n(268)).default);e.AbstractPageChildView=a},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(6)),o=i(n(1)),a=i(n(0)),s=i(n(3)),u=i(n(272)),l=i(n(120)),c=i(n(273)),d=n(84),h=i(n(274)),f="undefined"!=typeof WebKitAnimationEvent?"webkitAnimationEnd":"undefined"!=typeof AnimationEvent?"animationend":null,p="undefined"!=typeof WebKitAnimationEvent?"webkitAnimationStart":"undefined"!=typeof AnimationEvent?"animationstart":null,g=function(t){var e=o.default.extend({$el:null,name:"unknown"},t||{});this.$el=e.$el,this.name=e.name,this.compiled=!1,this.tweens=[],this.eventState={},this.runClass=null,this.pauseClass=null,this.initialState={},this.finalState={},this.loop=!1,this.useSrOnlyClassInsteadDisplayChange=!1,this.requiresHardwareAcceleration=e.requiresHardwareAcceleration};g.EASING={EASE:"ease",EASE_IN:"ease-in",EASE_OUT:"ease-out",EASE_IN_OUT:"ease-in-out",LINEAR:"linear"},g.RUNNING_STATE="running",g.COMPLETE_STATE="complete",g.START_EVENT="start",g.PAUSE_EVENT="pause",g.RESUME_EVENT="resume",g.END_EVENT="end",l.default.mergeDelegates(g,c.default),a.default.extend(g.prototype,s.default.Events,{add:function(t){return this.compiled?(r.default.warn("Animation already compiled!"),this):(this.tweens.push(t),this)},compile:function(){if(this.compiled)return this;if(a.default.isEmpty(this.tweens))return this;var t=u.default.generate(this.tweens);return this.runClass=t.runClass,this.pauseClass=t.pauseClass,this._buildRestingStates(),this.compiled=!0,this},precompile:function(t){if(a.default.isUndefined(t)||(this.$el=t),!a.default.isNull(this.$el)){var e={};a.default.each(["opacity","left","top","transform"],a.default.bind((function(t){e[t]=this.$el.css(t)}),this)),e["transform-origin"]=this.$el.get(0).style.transformOrigin,this.initialState=e}},_buildRestingStates:function(){a.default.each(this.tweens,a.default.bind((function(t){this.initialState[t.property]=t.frames["0%"],this.finalState[t.property]=t.frames["100%"]}),this)),a.default.has(this.finalState,"transform")&&this.requiresHardwareAcceleration&&(this.finalState.transform=d.WebkitUtils.hardwareAccelerateTransform(this.finalState.transform))},resetToInitialState:function(){a.default.isNull(this.$el)||this.$el.css(this.initialState)},setToFinalState:function(){a.default.isNull(this.$el)||this.$el.css(this.finalState)},isRunning:function(){return!a.default.isNull(this.$el)&&this.$el.hasClass(this.runClass)},isPaused:function(){return!a.default.isNull(this.$el)&&this.$el.hasClass(this.pauseClass)},play:function(t){if(this.compile(),a.default.isUndefined(t)||(this.$el=t),!a.default.isNull(this.$el))return u.default.flush(),this.eventState={},this.$el.bind(f,a.default.bind((function(t){t.originalEvent.target===this.$el[0]&&(this.eventState[t.originalEvent.animationName]=!1),a.default.every(a.default.values(this.eventState),(function(t){return!t}))&&this.finish()}),this)),this.$el.bind(p,a.default.bind((function(t){t.originalEvent.target===this.$el[0]&&(this.eventState[t.originalEvent.animationName]=!0)}),this)),this.$el[0].offsetWidth,"none"===this.$el.css("display")&&this.$el.show(),this.$el.addClass(this.runClass),this.trigger(g.START_EVENT),this},pause:function(){this.compiled&&!a.default.isNull(this.$el)&&this.isRunning()&&!this.isPaused()&&(this.$el.addClass(this.pauseClass),this.trigger(g.PAUSE_EVENT))},resume:function(){this.compiled&&!a.default.isNull(this.$el)&&this.isPaused()&&(this.$el.removeClass(this.pauseClass),this.trigger(g.RESUME_EVENT))},finish:function(){this.$el.css(this.finalState),"0"===this.$el.css("opacity")&&(this.useSrOnlyClassInsteadDisplayChange?this.$el.addClass("sr-only"):this.$el.hide()),this.cleanup(),this.trigger(g.END_EVENT)},cleanup:function(){this.compiled&&!a.default.isNull(this.$el)&&this.$el.off(f).off(p).removeClass(this.runClass).removeClass(this.pauseClass)},isInProgress:function(){return this.$el.hasClass(this.runClass)},isEntryAnimation:function(){return h.default.isEntryAnimation(this.name)},setLoop:function(t){this.loop=t},isLooping:function(){return this.loop},keepVisibleForScreenReaders:function(){this.useSrOnlyClassInsteadDisplayChange=!0},restoreHideBehavior:function(){this.useSrOnlyClassInsteadDisplayChange=!1}}),e.default=g},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VisibleBoundaries=void 0;var i=function(){function t(t,e,n,i){this.hasXBoundaries=!1,this.topY=t,this.bottomY=e,null!=n&&null!=i&&(this.hasXBoundaries=!0,this.leftX=n,this.rightX=i)}return t.prototype.getEntryAnimationVisibleBoundaries=function(e,n){var i=this.topY,r=this.bottomY,o=this.leftX,a=this.rightX;return i>0&&(i+=50),r<e&&(r-=50),this.hasXBoundaries&&(o>0&&(o+=50),a<n&&(a-=50)),new t(i,r,o,a)},t}();e.VisibleBoundaries=i},function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return r(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.FocusArbiter=void 0;var s=a(n(1)),u=a(n(47)),l=o(n(67)),c=n(12),d=function(){function t(t){this.pageView=t}return t.prototype.searchFoldersForTarget=function(t){var e=this.pageView.model.findLayerById(t);if(e&&"folder"===e.type){var n=this.pageView.model.constructor.findTopmostFolderContent(e);if(n)return this.pageView.$pageContainer.find("#"+l.escapeComponentId(n.id))}return s.default()},t.prepareTargetOutlineForFocus=function(e){return("keyboard"!==u.default.ask()||!e.is("button, a")&&isNaN(Number(e.attr("tabindex"))))&&(e.addClass(t.HIDDEN_OUTLINE_CLASS_NAME),e.off("blur.outline").on("blur.outline",(function(){e.off("blur.outline"),e.removeClass(t.HIDDEN_OUTLINE_CLASS_NAME)}))),e},t.prototype.prepareTargetOpacityForFocus=function(e){if("none"===e.css("display")){var n=e.attr("aria-hidden");e.off("blur.opacity").on("blur.opacity",(function(){e.off("blur.opacity"),e.removeClass(t.FAKELY_HIDDEN_COMPONENT_CLASS_NAME),n?e.attr("aria-hidden",n):e.removeAttr("aria-hidden")})).addClass(t.FAKELY_HIDDEN_COMPONENT_CLASS_NAME).attr("aria-hidden","true")}return e},t.prototype.prepareTargetTabIndexForFocus=function(t){var e=t.attr("tabindex");return e&&"0"!==e?t:t.attr("tabindex",-1).off("blur.tabindex").on("blur.tabindex",(function(){t.off("blur.tabindex"),e?t.attr("tabindex",e):t.removeAttr("tabindex")}))},t.prototype.moveFocusToElement=function(e){if(e){var n,i="#"+l.escapeComponentId(e);(n=i==="#"+c.VIEWPORT_TOP_ID?s.default(i):this.pageView.$pageContainer.find(i)).length||(n=this.searchFoldersForTarget(e)),n.length&&(n=this.prepareTargetOpacityForFocus(n),n=t.prepareTargetOutlineForFocus(n),(n=this.prepareTargetTabIndexForFocus(n)).get(0).focus({preventScroll:!0}))}},t.HIDDEN_OUTLINE_CLASS_NAME="outline-hidden",t.FAKELY_HIDDEN_COMPONENT_CLASS_NAME="fakely-hidden",t}();e.FocusArbiter=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ObjectState=void 0;var i=function(){function t(t){this.state=t.state,this.config=t}return t.prototype.hasTransitionChange=function(){return void 0!==this.config.transition},t.prototype.hasPositionChange=function(){return void 0!==this.config.deltaX&&0!==this.config.deltaX||void 0!==this.config.deltaY&&0!==this.config.deltaY},t.prototype.hasDimensionsChange=function(){return void 0!==this.config.width||void 0!==this.config.height},t.prototype.hasOpacityChange=function(){return void 0!==this.config.opacity},t.prototype.hasRotationChange=function(){return void 0!==this.config.rotation},t.prototype.hasBorderChange=function(){return void 0!==this.config.border},t.prototype.hasShadowChange=function(){return void 0!==this.config.shadow},t.prototype.hasBackgroundChange=function(){return void 0!==this.config.background},t.prototype.hasEffectsChange=function(){return void 0!==this.config.effects},t.prototype.hasFlipChange=function(){return void 0!==this.config.flipHorizontal||void 0!==this.config.flipVertical},t.prototype.hasBlendingModeChange=function(){return void 0!==this.config.blendingMode},t.prototype.hasFontChange=function(){return void 0!==this.config.defaultSpan},t.prototype.hasJustificationChange=function(){return void 0!==this.config.justify},t.prototype.hasStrokeChange=function(){return void 0!==this.config.lineWidth||void 0!==this.config.color},t.prototype.hasLinePositionChange=function(){return(this.hasPositionChange()||void 0!==this.config.deltaX2&&0!==this.config.deltaX2||void 0!==this.config.deltaY2&&0!==this.config.deltaY2)&&(this.config.deltaX!==this.config.deltaX2||this.config.deltaY!==this.config.deltaY2)},t.prototype.hasLineHeightChange=function(){return void 0!==this.config.leading},t.prototype.hasPathChange=function(){return void 0!==this.config.path},t.prototype.hasChangesComparedTo=function(e){return{transition:this.compareProperty(t.prototype.hasTransitionChange,e),position:this.compareProperty(t.prototype.hasPositionChange,e),dimension:this.compareProperty(t.prototype.hasDimensionsChange,e),opacity:this.compareProperty(t.prototype.hasOpacityChange,e),rotation:this.compareProperty(t.prototype.hasRotationChange,e),border:this.compareProperty(t.prototype.hasBorderChange,e),shadow:this.compareProperty(t.prototype.hasShadowChange,e),background:this.compareProperty(t.prototype.hasBackgroundChange,e),effects:this.compareProperty(t.prototype.hasEffectsChange,e),flip:this.compareProperty(t.prototype.hasFlipChange,e),blendingMode:this.compareProperty(t.prototype.hasBlendingModeChange,e),font:this.compareProperty(t.prototype.hasFontChange,e),justify:this.compareProperty(t.prototype.hasJustificationChange,e),stroke:this.compareProperty(t.prototype.hasStrokeChange,e),linePosition:this.compareProperty(t.prototype.hasLinePositionChange,e),lineHeight:this.compareProperty(t.prototype.hasLineHeightChange,e),path:this.compareProperty(t.prototype.hasPathChange,e)}},t.prototype.compareProperty=function(t,e){return t.call(this)||!!e&&t.call(e)},t.prototype.getChangedPropertiesToTransition=function(t){var e=[];return t.background&&e.push("stop-color","background-color","background-image"),t.border&&e.push("border-width","border-color","border-style","border-radius","border"),t.dimension&&e.push("width","height","transform"),(t.effects||t.shadow)&&e.push("filter","-webkit-filter"),(t.flip||t.rotation)&&e.push("transform"),t.font&&e.push("color","font-weight","font-style","font-size"),t.justify&&e.push("text-align"),t.opacity&&e.push("opacity"),(t.position||t.border)&&e.push("left","top"),t.shadow&&e.push("box-shadow"),t.stroke&&e.push("stroke","stroke-width"),t.lineHeight&&e.push("line-height"),(t.path||t.linePosition)&&e.push("d"),e.join(", ")},t}();e.ObjectState=i},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=n(20);e.default=o.AbstractComponentView.extend({type:"form-component",onAttach:function(){o.AbstractComponentView.prototype.onAttach.call(this),this.renderForm()},applyChanges:function(t){o.AbstractComponentView.prototype.applyChanges.call(this,t),this.renderForm()},getContainerDivId:function(){return"form-component-"+this.options.id.replace("|","_")},getContainerClassName:function(){return"form-component-"+(this.options.originalObjectId||this.options.id)},renderForm:function(){throw new Error("renderForm not implemented.")},handleSubmit:function(t){throw new Error("handleSubmit not implemented.")},triggerSubmitInteractions:function(t,e){var n=this.getModule(),i=this.getValidInteractionsByTrigger(n.INTERACTION_TRIGGERS.SUBMIT);n.trigger(n.publishedEvents.PAGE_COMPONENT_FORM_SUBMITTED,this.addComponentAndClickDataToEvent({formOrigin:t,formOriginAccountId:e,formOriginFormId:this.options.formId,formOriginFormName:this.options.formName,interactionTriggered:!r.default.isEmpty(i)})),r.default.isEmpty(i)||r.default.each(i,r.default.bind((function(t){"url"===t.action||"page-goto"===t.action||"page-next"===t.action||"page-prev"===t.action||"scroll-to"===t.action?r.default.defer(r.default.bind((function(){this._triggerClickAction(null,t)}),this)):this._triggerClickAction(null,t)}),this))},_applyBorder:function(){},_applyBackground:function(){},_applyShadow:function(){},_applyOpacity:function(){}})},function(t,e,n){},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(6)),o=i(n(1)),a=i(n(0)),s=n(134),u=i(n(10)),l=n(13),c=n(293),d=n(36);e.default=s.AbstractImageComponentView.extend({type:"image",image:null,srcOverride:null,canvasImage:null,dimensionsOverride:!1,initialize:function(){this.imageReadyPromises={},s.AbstractImageComponentView.prototype.initialize.call(this)},_applyShadow:function(t,e){t=a.default.isNil(t)?this.options.shadow:t,e=a.default.isNil(e)?this.options.rotation:e,this.applyDropShadow(t,e)},getApplyBorderTarget:function(){return this.$innerElement},attachMedia:function(){if(this.srcOverride)return this.attachImageSrc(this.srcOverride);if(!this.imageLoader)return this.attachImageSrc("");var t=this.imageLoader.getCurrentResource();return t?t.loadNow().then(a.default.bind((function(t){return this.attachImageSrc(t.getSrc())}),this)):(r.default.warn("Image should have been added to resource loader during preload"),o.default.Deferred().resolve(null).promise())},attachImageSrc:function(t){var e=this.imageReadyPromises[t];return e?(this.setSrc(t,e),e.promise()):(e=this.imageReadyPromises[t]=o.default.Deferred(),this.$innerElement.on("load",a.default.bind((function(){this.addAltText(this.$innerElement),e.resolve()}),this)),this.$innerElement.on("error",a.default.bind((function(){this.addAltText(this.$innerElement)}),this)),this.setSrc(t,e),e.promise())},shouldRenderMaskOnCanvas:function(){return 0!==this.options.rotation||1!==this.options.opacity||this.isFlipped()},setSrc:function(t,e){var n=this;this.isMaskImage()?this.shouldRenderMaskOnCanvas()?this.getAlphaMaskCanvas().renderAndReturnMask(t,this.options).then((function(t){n.applyAsMask(t,e)})):this.applyAsMask(t,e):this.$innerElement.attr("src",t)},getAlphaMaskCanvas:function(){return this.canvasImage||(this.canvasImage=new c.AlphaMaskCanvasImage),this.canvasImage},applyAsMask:function(t,e){var n="url("+t+")",i=this.options,r=i.allHeight,o={"-webkit-mask-image":n,"mask-image":n,"-webkit-mask-repeat":"no-repeat","-webkit-mask-size":i.allWidth+"px "+r+"px"};this.$el.css(o),this._applyPosition(),this._applyDimensions(),e.resolve()},_applyBackground:function(t){},addAltText:function(t){var e=this.options.altText;e||(e=u.default.hasFeature(l.FeatureFlagName.ACCESSIBILITY)?"":void 0),t.attr("alt",e)},applyTransitionToTarget:function(t,e){var n=this.getApplyShadowTarget();n.css("transition",t),n.css("transition-property",e||"none"),this.$el.css("transition",t),this.$el.css("transition-property",e||"none"),this.$innerElement.css("transition",t),this.$innerElement.css("transition-property",e||"none"),s.AbstractImageComponentView.prototype.applyTransitionToTarget.call(this,t,e)},_applyRotation:function(t){this.isMaskImage()||((t=a.default.isNil(t)?this.options.rotation:t)||0===t)&&d.CssUtils.setTransformToElement(this.$el,{rotate:t})}})},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractImageComponentView=void 0;var a=o(n(0)),s=o(n(1)),u=o(n(4)),l=n(20),c=n(36),d=o(n(2)),h=o(n(135)),f=n(84),p=n(37),g=function(t){function e(e){var n=t.call(this,e)||this;return n.effects=e.effects,n.shadow=e.shadow,n.imageLoader=e.imageLoader,n.blendingMode=e.blendingMode,n.dimensionsOverride=!1,n.initialEffectsApplied=!1,n.$innerElement=null,n}return r(e,t),e.prototype.initialize=function(){t.prototype.initialize.call(this,this.options),d.default.previewMode&&(this.mediaLoadingScreen=new h.default({height:this.options.height,isImage:!0}),this.$el.append(this.mediaLoadingScreen.$el))},e.prototype.isBaseMaskObject=function(){var t;return!(!this.options.maskInfo||!(null===(t=this.options.maskInfo)||void 0===t?void 0:t.isBaseMaskObject))},e.prototype.isMaskImage=function(){var t;return!(!this.options.maskInfo||!(null===(t=this.options.maskInfo)||void 0===t?void 0:t.maskedObjectId))},e.prototype.isInMask=function(){return!!this.options.maskInfo},e.prototype.render=function(){if(a.default.isNull(this.$innerElement)&&(this.$innerElement=s.default("<img/>"),this.$innerElement.css("display","block"),this.hasShadow(this.options.shadow)?u.default.isIos()&&this.options.shadow.blur&&c.CssUtils.setTransformToElement(this.$innerElement,{translateZ:0}):(u.default.isDesktopSafari()&&f.WebkitUtils.hardwareAccelerateTransform(this.$innerElement),u.default.isIos()&&this.options.fixedPosition&&f.WebkitUtils.hardwareAccelerateTransform(this.$innerElement)),this.isMaskImage()||this.$el.append(this.$innerElement)),this.dimensionsOverride||this.setDimensionsAsAttributes(this.$innerElement,this.options.width,this.options.height),this.isFlipped()&&this._applyImageFlip({flipHorizontal:this.options.flipHorizontal,flipVertical:this.options.flipVertical}),this.isMaskImage()&&(this.options.allWidth=void 0,this.options.allHeight=void 0,this._configureAllWidthAllHeight()),t.prototype.render.call(this),this.imageLoader&&(this.imageLoader.onLowResImageLoaded(this.attachMedia,this),this.imageLoader.onImageLoaded(this.attachMedia,this),d.default.previewMode&&(this.imageLoader.onLowResImageLoaded(this.hideMediaLoadingScreen,this),this.imageLoader.onImageLoaded(this.hideMediaLoadingScreen,this))),!a.default.isNil(this.effects)){var e=!a.default.isEqual(this.effects,this.options.effects);e&&(this.effects=this.options.effects),this._applyImageEffects(this.effects,this.shadow,e)}return a.default.isNil(this.blendingMode)||this._applyBlendingMode(this.blendingMode),this},e.prototype.callObjectStateInvoker=function(t,e){p.ObjectStateInvoker.invokeAbstractImageObjectState(this,t,e)},e.prototype.hideMediaLoadingScreen=function(){this.mediaLoadingScreen.close()},e.prototype._applyImageEffects=function(t,e,n){var i=this;e||(e=this.shadow);var r=c.CssUtils.convertShadowObjectToCssFilter(e,0);t=a.default.isNil(t)?this.effects:t;var o=this.getApplyShadowTarget(),s=o.css("filter"),u="";if(s&&!u){var l=s.match(/drop-shadow\(.*\)/g);l&&(u=l[0])}if(!a.default.isNil(t)){var d=c.CssUtils.computeEffect(t,n);this.applyDefaultEffects(o,u,n,this.initialEffectsApplied),a.default.defer((function(){return i.setFilter(o,d,r)}))}},e.prototype.applyDefaultEffects=function(t,e,n,i){if(n&&!i){var r=c.CssUtils.getCurrentEffects(t),o=c.CssUtils.computeEffect(r,!0);this.setFilter(t,o,e),this.initialEffectsApplied=!0}},e.prototype.setFilter=function(t,e,n){t.css("filter",e+" "+n),t.css("-webkit-filter",e+" "+n)},e.prototype._applyImageFlip=function(t){a.default.isEmpty(t)&&(t={});var e=(a.default.isNil(t.flipHorizontal)?this.options.flipHorizontal:t.flipHorizontal)?-1:1,n=(a.default.isNil(t.flipVertical)?this.options.flipVertical:t.flipVertical)?-1:1;this.isMaskImage()||c.CssUtils.setTransformToElement(this.$innerElement,{scale:{x:e,y:n}})},e.prototype._applyBlendingMode=function(t){if(t=a.default.isNil(t)?this.blendingMode:t,this.isBaseMaskObject()){var e=this.getMaskGroup();if(e.length>0&&e[0].isAlphaMask())e[0].getMaskView().$el.css("mix-blend-mode",t);else this.$innerElement.parent().css("mix-blend-mode",t)}else this.$innerElement.parent().css("mix-blend-mode",t)},e.prototype.hasBlendingMode=function(){return!a.default.isNil(this.blendingMode)},e.prototype._applyDimensions=function(e,n){this.isMaskImage()?t.prototype._applyDimensions.call(this,this.options.allWidth,this.options.allHeight):t.prototype._applyDimensions.call(this,e,n)},e.prototype._applyPosition=function(e,n,i){this.isMaskImage()?t.prototype._applyPosition.call(this,0,0):t.prototype._applyPosition.call(this,e,n,i)},e.prototype.getApplyDimensionsTarget=function(){return this.isMaskImage()?this.$el:this.$innerElement},e.prototype.getApplyShadowTarget=function(){return this.$innerElement},e.prototype.getHoverTarget=function(){return this.isInMask()?this.getMaskGroup()[0].$el:this.$innerElement},e.prototype.getMaskGroup=function(){var t;return this.parentViews.length>0&&(null===(t=this.parentViews[0].parentViews)||void 0===t?void 0:t.length)>0?this.parentViews[0].parentViews:this.parentViews},e.prototype.getAnimateElements=function(t){return t.find("animate, animateTransform")},e.prototype.getSvgChildren=function(){var t;return null===(t=this.$innerElement)||void 0===t?void 0:t.find("path, polygon, circle, rect, ellipse")},e.prototype.isEditable=function(){return!0},e.prototype.addPointerEvents=function(){var t;this.usesHoverAreaForInteractions()?null===(t=this.hoverArea)||void 0===t||t.activate():this.isBaseMaskObject()||this.getPointerEventsTarget().css("pointer-events","auto")},e}(l.AbstractComponentView);e.AbstractImageComponentView=g},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(14)),o=i(n(23)),a=i(n(292));e.default=o.default.extend({className:"media-loading",initialize:function(t){this.isImage=t.isImage,this.parentHeight=t.height,this.render()},render:function(){this.$el.html(r.default.render(a.default,{isImage:this.isImage})),this.setIconSize(),this.setSpinnerSize()},setIconSize:function(){var t=Math.floor(.2*this.parentHeight);this.$el.find(".media-loading__media-type-icon").css("font-size",t+"px")},setSpinnerSize:function(){var t=Math.floor(.08*this.parentHeight);this.$el.find(".media-loading__spinner").css({height:t+"px",width:t+"px"})}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={NO_AUTOPLAY_FALLBACK_OPTIONS:{TAP_TO_PLAY:"tap-to-play",SHOW_THUMBNAIL_IMAGE:"show-thumbnail-image"},MUTED_AUTOPLAY_FALLBACK_OPTIONS:{PLAY_MUTED_VIDEO:"play-muted-video",TAP_TO_PLAY:"tap-to-play",SHOW_THUMBNAIL_IMAGE:"show-thumbnail-image"}}},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractTransformableGroupView=void 0;var a=function(t){function e(e){return t.call(this,e)||this}return r(e,t),e.prototype._applyRotation=function(e){this.childrenUseBlendingModes()||t.prototype._applyRotation.call(this,e)},e.prototype.getCurrentHighestZIndex=function(){var e,n=null===(e=this.childViews)||void 0===e?void 0:e.reduce((function(t,e){return t.getCurrentHighestZIndex()>e.getCurrentHighestZIndex()?t:e})),i=t.prototype.getCurrentHighestZIndex.call(this),r=(null==n?void 0:n.getCurrentHighestZIndex())||-1;return i>r?i:r},e.prototype.isUsingHoverAreaForMouseOut=function(){return!1},e}(o(n(313)).default);e.AbstractTransformableGroupView=a},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1)),o=i(n(0)),a=i(n(2)),s=n(137);e.default=s.AbstractTransformableGroupView.extend({initialize:function(){s.AbstractTransformableGroupView.prototype.initialize.call(this),this.$el.addClass("group"),this.childViews={}},render:function(){s.AbstractTransformableGroupView.prototype.render.call(this),this.renderSROnlyText()},renderSROnlyText:function(){if(this.hasAccessibilityFeature){if(a.default.previewMode){var t=this.$el.children(":first");t.hasClass("group-sr-only-text")&&t.remove()}if(this.options.screenReaderOnlyText){var e=r.default("<p>").addClass("sr-only group-sr-only-text").text(this.options.screenReaderOnlyText);this.$el.prepend(e)}}},addParentView:function(t){s.AbstractTransformableGroupView.prototype.addParentView.call(this,t),o.default.each(this.childViews,(function(e){e.addParentView(t)}))},areAllParentsVisible:function(){return o.default.every(this.parentViews,(function(t){return t.visible}))},prepareGroupForBlendingModes:function(){var t,e=this.$el.css("left"),n=this.$el.css("top"),i=this.options.width,o=this.options.height,a=this;(t=this.hasClickInteraction()?r.default('<button class="wrapper-for-blending-modes" data-for="'+this.id+'"></button>'):r.default('<div class="wrapper-for-blending-modes" data-for="'+this.id+'"></div>')).css("position","absolute"),t.css("left",e),t.css("top",n),this.hasClickInteraction()&&(t.on("focus",(function(){var t=r.default('[data-for="'+a.id+'"]');t.css("width",i+"px"),t.css("height",o+"px")})),t.on("blur",(function(){var t=r.default('[data-for="'+a.id+'"]');t.css("width","1px"),t.css("height","1px")})),t.on("click",(function(t){t.originalEvent.target===t.currentTarget&&a.$el.click()}))),this.$el.wrapAll(t),this.$el.css("display","contents")}})},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),u=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&a(e,t,n);return s(e,t),e},l=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},c=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(l(arguments[e]));return t},d=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.CustomShapeComponentView=void 0;var h=d(n(14)),f=d(n(140)),p=n(69),g=n(50),m=d(n(4)),v=u(n(17)),y=n(88),_=n(37),b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="custom-shape",e.maxPoints=0,e.currentPath="",e}return r(e,t),e.prototype.renderShape=function(t){var e,n,i,r=this;if(void 0===t&&(t={}),this.options.path){var a=this.options.path.length,s=(null===(e=this.options.states)||void 0===e?void 0:e.length)?this.options.states.reduce((function(t,e){var n,i;return((null===(n=t.config.path)||void 0===n?void 0:n.length)||0)>((null===(i=e.config.path)||void 0===i?void 0:i.length)||0)?t:e})):void 0;this.maxPoints=Math.max(a,(null===(n=null==s?void 0:s.config.path)||void 0===n?void 0:n.length)||0),this.options.path=this.forcePathToUseMaxPoints(this.options.path,this.options.isClosedPath),null===(i=this.options.states)||void 0===i||i.forEach((function(t){t.config.path&&(t.config.path=r.forcePathToUseMaxPoints(t.config.path,t.config.isClosedPath))}))}var u=g.CustomPathSVGUtil.generateCurveCoords(this.options.path,this.options.isClosedPath);return this.currentPath=u,h.default.render(f.default,o({path:u},t))},e.prototype.renderShapeHoverArea=function(){var t=g.CustomPathSVGUtil.generateCurveCoords(this.options.path,this.options.isClosedPath),e=document.createElementNS("http://www.w3.org/2000/svg","polygon");return e.setAttributeNS(null,"path",t),e},e.prototype.getShapeElement=function(){return this.$el.find("path")},e.prototype.applyPath=function(t,e,n){void 0===t&&(t=this.options.path),void 0===e&&(e=this.options.isClosedPath),void 0===n&&(n=this.options.transition);var i=g.CustomPathSVGUtil.generateCurveCoords(t,e);if(m.default.isBrowserChrome()||m.default.edge)this.getShapeElement().css("d","path('"+i+"')");else{if(n){var r=this.getShapeElement(),o=r[0].animatedPathSegList;o&&(this.currentPath=g.CustomPathSVGUtil.generateCurveCoordFromPathSegList(o));var a=y.AnimateSVGUtil.animatePointsForSingle([this.currentPath,i]),s=y.AnimateSVGUtil.createAnimationElement("d",!1,a,y.AnimateSVGUtil.getSplineStringFromEasing(n.easing));y.AnimateSVGUtil.startNewAnimations(this.getSVGElement(),r,[s],n)}else this.getShapeElement().attr("d",i);this.currentPath=i}},e.prototype.forcePathToUseMaxPoints=function(t,e){var n=this.maxPoints-t.length;if(0===n)return t;for(var i=c(t),r=t.length,o=n/r%1,a=Math.floor(n/r),s=function(t){var n=t===i.length,r=n&&e,o=i[t-1],a=n?r?i[0]:o:i[t],s=v.splitBezierCurveAtPoint(o,a,.5),u=[s.left,s.center];n||u.push(s.right),i.splice.apply(i,c([t-1,n?3:2],u)),r&&i.splice(0,1,s.right)},u=0,l=0,d=1;d<=r;d++){if((l+=o)>=.5)s(u+d),u++,l--;for(var h=0;h<a;h++){s(u+d),u++}if(d===r&&u<n)s(u+d),u++}return i},e.prototype.callObjectStateInvoker=function(t,e){_.ObjectStateInvoker.invokeSVGShapeObjectState(this,t,e)},e}(p.AbstractCustomPathComponentView);e.CustomShapeComponentView=b},function(t,e,n){"use strict";n.r(e),e.default='<path\n  d="{{path}}"\n  fill="{{fill}}"\n  stroke-linecap="butt"\n  stroke-linejoin="miter"\n  pointer-events="auto"\n  filter="{{shadow}}"\n  transform="{{transform}}"\n  >\n  </path>\n'},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Easing=void 0,function(t){t.ease="ease",t.linear="linear",t.easeIn="ease-in",t.easeOut="ease-out",t.easeInOut="ease-in-out"}(e.Easing||(e.Easing={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.get=void 0;var i={"text-component":["title","textContent"]};e.get=function(t){return i[t]||[]},e.default={get:e.get}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.FontVariant=void 0;var r=i(n(1)),o=n(21),a=function(){function t(t,e){void 0===e&&(e={}),this.name=t,this.fontFamily=e.fontFamily,this.familyName=e.familyName,this.fontWeight=e.fontWeight,this.fontStyle=e.fontStyle,this.guid=e.guid,this.metrics=e.metrics,this.webFontStylesLoaded=!!e.webFontStylesLoaded,this.metricsUrl=e.metricsUrl,this.cssFamilyName=e.cssFamilyName||e.familyName,this.crossAccount=!!e.crossAccount,this.cssUrl=e.cssUrl,this.unitsPerEm=e.unitsPerEm,this.ascent=e.ascent}return t.prototype.getFontFamily=function(){return this.fontFamily},t.prototype.getName=function(){return this.name},t.prototype.getCssFamilyName=function(){return this.cssFamilyName},t.prototype.getFontStyle=function(){return this.fontStyle},t.prototype.getFontWeight=function(){return this.fontWeight},t.prototype.getGuid=function(){return this.guid},t.prototype.isItalic=function(){return this.fontStyle===o.FontConstants.FONT_STYLE_ITALIC},t.prototype.isUploaded=function(){var t;return!!(null===(t=this.fontFamily)||void 0===t?void 0:t.isUploaded())},t.prototype.isBuiltIn=function(){var t;return!!(null===(t=this.fontFamily)||void 0===t?void 0:t.isBuiltIn())},t.prototype.getMetricsUrl=function(){var t=this;return this.metricsUrl?r.default.Deferred().resolve(this.metricsUrl):r.default.ajax({url:"/rest/v1/font/font-metrics",dataType:"json",data:{variantGuids:[this.guid]}}).then((function(e){return t.metricsUrl=e[0].metricsFileURL,t.metricsUrl}))},t.prototype.getMetrics=function(){var t,e=this;return this.metrics?r.default.Deferred().resolve(this.metrics):this.metricsLoadingDeferred?this.metricsLoadingDeferred.promise():(this.metricsLoadingDeferred=new r.default.Deferred,this.getMetricsUrl().then((function(t){r.default.ajax({url:t,dataType:"json",cache:!0}).done((function(t){var n;e.metrics=t,null===(n=e.metricsLoadingDeferred)||void 0===n||n.resolve(t)})).fail((function(t){var n;null===(n=e.metricsLoadingDeferred)||void 0===n||n.reject(t)}))})),(null===(t=this.metricsLoadingDeferred)||void 0===t?void 0:t.promise())||r.default.Deferred().resolve())},t.prototype.setWebFontStylesLoaded=function(){this.webFontStylesLoaded=!0},t}();e.FontVariant=a},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(3)),a=i(n(6)),s=i(n(39)),u=i(n(90)),l=n(70),c=function(t){if(this.variants=[],t.defaultSpan){var e=this.getVariant(t.defaultSpan);this.variants.push(e)}r.default.each(t.textSpans,r.default.bind((function(e){var n=r.default.extend({},t.defaultSpan,e),i=this.getVariant(n);this.variants.push(i)}),this)),r.default.each(t.states,r.default.bind((function(e){if(e.defaultSpan){var n=r.default.extend({},t.defaultSpan,e.defaultSpan),i=this.getVariant(n);this.variants.push(i)}}),this)),this.variants=r.default.uniq(this.variants),this.resources=null};r.default.extend(c.prototype,o.default.Events,{getVariant:function(t){return u.default.resolveFont(t.variantGuid)},getAllVariants:function(){return this.variants},load:function(){null===this.resources&&(this.resources={},r.default.each(this.variants,r.default.bind((function(t){if(t.isBuiltIn())this.trigger("variant-loaded",t);else if(t.isUploaded()){var e=s.default.addCustomWebFont(t.getCssFamilyName(),t.cssUrl,void 0);e.getPromise().done(r.default.bind((function(){this.trigger("variant-loaded",t)}),this)),e.getPromise().fail(r.default.bind((function(){this.trigger("variant-failed",t)}),this)),this.resources[t.guid]=e}else{var n=t.getFontFamily().getFamilyName()+":"+l.FontUtil.buildGoogleVariantName(t.getFontWeight(),t.getFontStyle()),i=s.default.addGoogleWebFont(n);i.getPromise().done(r.default.bind((function(){this.trigger("variant-loaded",t)}),this)),i.getPromise().fail(r.default.bind((function(){this.trigger("variant-failed",t)}),this)),this.resources[t.guid]=i}}),this)))},loadNow:function(){this.load(),r.default.each(this.resources,(function(t){t.loadNow()}))},onVariantLoaded:function(t,e){r.default.each(this.getAllLoadedVariants(),(function(n){t.call(e,n)})),this.on("variant-loaded",t,e)},onLoadFail:function(t,e){this.hasFailedVariant()&&t.call(e),this.on("variant-failed",t,e)},getAllLoadedVariants:function(){return null===this.resources?(a.default.warn("Variants were never loaded"),[]):r.default.filter(this.variants,r.default.bind((function(t){return!!t.isBuiltIn()||r.default.has(this.resources,t.guid)&&"resolved"===this.resources[t.guid].getPromise().state()}),this))},hasFailedVariant:function(){return null===this.resources?(a.default.warn("Variants were never loaded"),!1):r.default.some(this.variants,r.default.bind((function(t){return!t.isBuiltIn()&&(r.default.has(this.resources,t.guid)&&"rejected"===this.resources[t.guid].getPromise().state())}),this))}}),e.default=c},function(t,e,n){"use strict";var i=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.InteractionFactory=void 0;var r=n(0),o=n(328),a=n(329),s=n(330),u=n(331),l=n(332),c=n(333),d=n(334),h=n(335),f=n(124),p=n(336),g=n(337),m=n(338),v=n(339),y=n(340),_=n(341),b=n(342),T=n(343),S=n(344),w=n(345),E=n(346),C=n(347),O=n(348),A=n(123),P=n(349),I=n(350),x=n(351),M=n(5),k=n(353),D=n(354),R=function(){function t(){}return t.constructorFor=function(t){switch(t){case M.ActionTypes.nextPage:return a.NextPageInteraction;case M.ActionTypes.prevPage:return p.PreviousPageInteraction;case M.ActionTypes.gotoPage:return h.GoToPageInteraction;case M.ActionTypes.url:return o.GoToURLInteraction;case M.ActionTypes.scrollTo:return f.ScrollToInteraction;case M.ActionTypes.scrollToObject:return A.ScrollToObjectInteraction;case M.ActionTypes.changeState:return x.ChangeStateInteraction;case M.ActionTypes.showOnly:return T.ShowComponentInteraction;case M.ActionTypes.hideOnly:return b.HideComponentInteraction;case M.ActionTypes.toggleCanvasTargets:return m.ToggleLayersInteraction;case M.ActionTypes.enableDisablePage:return S.PageVisibilityInteraction;case M.ActionTypes.lightbox:return w.LightboxVisibilityInteraction;case M.ActionTypes.product:return E.ProductPanelVisibilityInteraction;case M.ActionTypes.shoppingCart:return C.ShoppingCartVisibilityInteraction;case M.ActionTypes.fullscreen:return O.FullScreenInteraction;case M.ActionTypes.showCanvasTargetsOnHover:case M.ActionTypes.showCanvasTargets:case M.ActionTypes.showAndStayVisibleCanvasTargets:return _.ShowLayersInteraction;case M.ActionTypes.hideCanvasTargets:case M.ActionTypes.hideAndStayHiddenCanvasTargets:return g.HideLayersInteraction;case M.ActionTypes.cycleNext:return y.CycleNextInteraction;case M.ActionTypes.cyclePrevious:return v.CyclePreviousInteraction;case M.ActionTypes.email:return u.ShareEmailInteraction;case M.ActionTypes.facebook:return l.ShareFacebookInteraction;case M.ActionTypes.twitter:return d.ShareTwitterInteraction;case M.ActionTypes.pinterest:return c.SharePinterestInteraction;case M.ActionTypes.linkedin:return s.ShareLinkedInInteraction;case M.ActionTypes.toggleReducedMotion:return P.ToggleReducedMotionInteraction;case M.ActionTypes.bringToFront:return I.BringToFrontInteraction;case M.ActionTypes.resetPositions:return D.ResetPositionsInteraction;default:return k.InvalidInteraction}},t.initializeInteractions=function(e,n,o){var a,s,u=[];if(!r.get(e,"length"))return u;var l=e.some((function(t){return"click"===t.trigger&&"bring-to-front"===t.action})),c=e.some((function(t){return"click"===t.trigger&&"change-state"===t.action}));try{for(var d=i(e),h=d.next();!h.done;h=d.next()){var f=h.value;if(f.trigger&&f.action){f.hasSiblingThatIsABringToFrontClickInteraction=l,f.hasSiblingThatIsAChangeStateClickInteraction=c;var p=new(t.constructorFor(f.action))(f,n);p.setOptionalParameters(o),u.push(p)}}}catch(t){a={error:t}}finally{try{h&&!h.done&&(s=d.return)&&s.call(d)}finally{if(a)throw a.error}}return u},t}();e.InteractionFactory=R},function(t,e,n){"use strict";var i,r;Object.defineProperty(e,"__esModule",{value:!0}),e.labelsForBringToFrontReverseOptions=e.BringToFrontReverseOption=void 0,function(t){t.unhover="on-unhover",t.resetOthers="reset-others",t.resetPositionsAndStates="reset-positions-and-states",t.resetPositions="reset-positions"}(r=e.BringToFrontReverseOption||(e.BringToFrontReverseOption={})),e.labelsForBringToFrontReverseOptions=((i={})[r.unhover]="On unhover",i[r.resetOthers]="Reset Others",i[r.resetPositionsAndStates]="Object Positions & States",i[r.resetPositions]="Object Positions Only",i)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineLinkType=void 0;n(38);!function(t){t.URL="url",t.PAGE="page",t.POSITION="position",t.OBJECT="object"}(e.InlineLinkType||(e.InlineLinkType={}))},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=function(){function t(t,e){this.parentItem=t,this.model=e,this.childViews=[],this.view=null}return t.prototype.isScranchor=function(){return"scranchor"===this.model.type},t.prototype.isSmartgroupLayer=function(){return this.model&&!r.default.isUndefined(this.model.smartgroupId)},t.prototype.isFolder=function(){return this.model&&"folder"===this.model.type},t.prototype.isGroup=function(){return this.model&&"group"===this.model.type||this.isMaskGroup()},t.prototype.isMaskGroup=function(){return this.model&&"mask-group"===this.model.type},t.prototype.findParentSmartgroupOrGroupModel=function(){for(var t=null,e=this;null!==e;){if(e.isSmartgroupLayer()||e.isGroup()){t=e.model;break}e=e.parentItem}return t},t.prototype.setView=function(t){this.view=t,this.parentItem.childViews.push(t)},t}();e.default=o},function(t,e,n){"use strict";var i=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0});var r=new Map;e.default={find:function(t,e){return r.has(t)||function(t){r.set(t,new Map);var e=function(n){var o,a;try{for(var s=i(n),u=s.next();!u.done;u=s.next()){var l=u.value;r.get(t).set(l.id,l),l.childViews&&e(l.childViews)}}catch(t){o={error:t}}finally{try{u&&!u.done&&(a=s.return)&&a.call(s)}finally{if(o)throw o.error}}};e(t)}(t),r.get(t).get(e)||null},reset:function(){r.clear()}}},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.HoverAreaComponentView=void 0;var s=n(34),u=a(n(93)),l=n(36),c=function(t){function e(e){var n=t.call(this,e)||this;return n.options=e,n.id="hover-area-"+n.options.component.id,n.disabled=!1,n}return r(e,t),e.prototype.render=function(){return t.prototype.render.call(this),this.$el.attr("id",this.id),this.$el.css("pointer-events","none"),this.$el.css("position","absolute"),void 0!==this.options.component.zIndex&&this.setZIndex(this.options.component.zIndex+1),this.setWidthAndHeight(),this.updatePosition(),this.updateRotation(),this.renderBorder(),this},e.prototype.renderBorder=function(){var t=this.options.component.options.border;t&&(t.width&&(this.$el.css("borderWidth",t.width+"px"),this.$el.css("borderStyle","solid"),this.$el.css("borderColor","transparent")),this.$el.css("borderRadius",this.options.component.getBorderRadius(t)))},e.prototype.setInitialZIndex=function(t){this.setZIndex(t),this.zIndex=t,this.currentZIndex=t},e.prototype.setZIndex=function(t){this.$el.css("z-index",t),this.currentZIndex=t},e.prototype.setWidthAndHeight=function(){this.$el.css("width",this.options.component.options.width),this.$el.css("height",this.options.component.options.height)},e.prototype.updatePosition=function(){this.$el.css("left",this.options.component.options.x+"px"),this.$el.css("top",this.options.component.options.y+"px")},e.prototype.updateRotation=function(){this.options.component.options.rotation&&l.CssUtils.setTransformToElement(this.$el,{rotate:this.options.component.options.rotation})},e.prototype.isDisabled=function(){return this.disabled},e.prototype.disableHoverArea=function(t){this.disabled=!0,this.deactivate(),t._configureInteractions()},e.prototype.enableHoverArea=function(t){this.activate(),this.disabled=!1,t._configureInteractions()},e.prototype.activate=function(){this.getHoverAreaTarget().css("pointer-events","all")},e.prototype.deactivate=function(){this.getHoverAreaTarget().css("pointer-events","none")},e.prototype.isHovered=function(t){var e=this.getHoverAreaTarget()[0];return!!((null==e?void 0:e.matches(":hover"))||t&&t.target&&t.target===e)},e.prototype.getHoverAreaTarget=function(){return this.$el},e=o([s.BackboneShim({className:"hover-area"})],e)}(u.default);e.HoverAreaComponentView=c},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1)),o=i(n(0)),a=i(n(6)),s=i(n(25)),u=i(n(2)),l=i(n(28)),c=i(n(19)),d=i(n(152)),h=i(n(15)),f=i(n(89)),p=i(n(8)),g=n(62),m=["sdk.experience.analytics.get.user.consent","sdk.experience.analytics.user.consent.granted","sdk.experience.analytics.user.consent.denied","sdk.experience.container.ready","sdk.experience.container.scrolled","sdk.experience.container.resized","sdk.experience.page.goto","sdk.experience.page.next","sdk.experience.page.previous","sdk.component.video.start","sdk.component.video.stop","sdk.component.text.settext","sdk.component.image.seturl","sdk.component.image.reset","sdk.component.click","sdk.component.show","sdk.component.hide","sdk.layer.show","sdk.layer.hide","sdk.page.animations.start","sdk.page.animations.pause","sdk.page.disable","sdk.page.enable","sdk.context.get.value"],v=function(t,e){e=JSON.stringify(e),t.postMessage(e,"*")},y=function(t,e){var n={name:"ceros.sdk.player:"+t,version:"1.1.0",params:e};u.default.isEmbedded&&v(parent,n),v(window,n)},_=function(t){if(t=t.originalEvent,o.default.isString(t.data)&&-1!==t.data.indexOf("ceros.sdk.player:")){var e,n,i={};try{i=JSON.parse(t.data)}catch(t){return void a.default.debug("Error processing message: "+t)}if(i.name){if(i.name=(e=i.name,n=new RegExp("^ceros.sdk.player:"),e.replace(n,"")),-1===m.indexOf(i.name))return void a.default.debug("Received message that is not an SDK event: "+i.name);l.default.trigger(i.name,i.params)}}},b=function(){var t={},e=function(e,n,i){i&&!o.default.isEmpty(i)&&o.default.each(i,(function(i){t[i]||(t[i]={pages:[],syncedObjects:[],smartgroups:[],layers:[],components:[]}),t[i][e].push(n)}))};this.addPageTags=function(t,n){e("pages",t,n)},this.addSyncedObjectTags=function(t,n){e("syncedObjects",t,n),e("smartgroups",t,n)},this.addLayerTags=function(t,n){e("layers",t,n)},this.addComponentTags=function(t,n){e("components",t,n)},this.getTags=function(){return t}};t=new s.default.Module({id:"sdk-backend",description:"The API for the player SDK.",version:"1.0",delegate:{experienceID:null,initialize:function(t,e,n){if(o.default.isUndefined(window.postMessage))a.default.warn("This browser does not support inter-frame communication.");else{a.default.debug("Embedded Player SDK listening for inter-frame messages."),r.default(window).on("message",_);var i=this.buildExperienceData(t,e,n);this.experienceID=t.get("slug"),this.registerEvents(),y("ready",i)}},buildExperienceData:function(t,e,n){var i=new b,r=this.buildPages(e,i),o=this.buildSyncedObjects(e.get("smartgroups"),i),a={experienceId:t.get("slug"),experienceAlias:u.default.issueAliasSlug,experienceTitle:t.get("title"),currentPageNumber:e.getPageInfoByNumberOrSlug(c.default.parsePageFromLocation()).number,documentVersion:u.default.docVersion,allPageData:r,allSyncedObjectData:o,allSmartgroupData:o,tags:i.getTags(),userToken:n};return a.documentVersion.viewportWidth=e.get("viewportWidth"),a.documentVersion.viewportHeight=e.get("viewportHeight"),a},buildSyncedObjects:function(t,e){var n=[],i=this;return o.default.each(t,o.default.bind((function(t){var r=[];t.layerHierarchies&&(r=i.buildLayers(t.layerHierarchies.desktop,e,void 0,t.layerDictionary,t)),n.push({id:t.id,payload:t.sdkPayload,tags:t.sdkTags,layers:r})}),this)),n},buildPages:function(t,e){var n=[];return o.default.each(t.getPages(),o.default.bind((function(i,r){var o=[];i.get("layerHierarchies")&&(o=this.buildLayers(i.get("layerHierarchies")[h.default.getVariant()],e,i.getSlug(),i.get("layerDictionary"))),n.push({pageSlug:i.getSlug(),pageNumber:i.getPageIndex()+1,payload:i.getSdkPayload(),tags:i.getSdkTags(),layers:o,width:i.getPageWidth(t),height:i.getPageHeight(t),enabled:!i.getDisabled()}),e.addPageTags(i.getSlug(),i.getSdkTags())}),this)),n},buildLayers:function(t,e,n,i,r){var s=[],u=this;return t&&o.default.each(t,(function(t){var l=function t(s){var l=s.items,c=o.default.cloneDeep(i[s.id]);if(c){if(r&&(c.parentSmartGroup=r),f.default.reconcileComponentForCurrentVariant(c),c.items=l,delete c.parentSmartGroup,c.smartgroupId)return e.addSyncedObjectTags(c.id,c.sdkTags),{id:c.id,syncedObjectId:c.smartgroupId,smartgroupId:c.smartgroupId,tags:c.sdkTags,payload:c.sdkPayload,pageSlug:n,objects:[]};if("folder"===c.type||"group"===c.type){e.addLayerTags(c.id,c.sdkTags);var d=[];return o.default.each(c.items,(function(e){var n=t(e);n&&d.push(n)})),{id:c.id,payload:c.sdkPayload,items:d,tags:c.sdkTags,pageSlug:n,type:c.type}}return u.buildComponent(c,e,n)}a.default.warn("SDKLayersCollection: Layer from hierarchy not found in dictionary",{hierarchyLayer:s})}(t);l&&s.push(l)})),s},buildComponent:function(t,e,n){var i,r=t.id;switch(e.addComponentTags(t.id,t.sdkTags),e.addLayerTags(t.id,t.sdkTags),t.type){case"hotspot-component":i="hotspot";break;case"image-component":i="image";break;case"line-component":i="line";break;case"shape-component":i="shape";break;case"text-component":i="text";break;case"video-widget":i="video"}var o={id:r,type:i,payload:t.sdkPayload,tags:t.sdkTags,x:t.x,y:t.y,width:t.width,height:t.height,pageSlug:n};return"text"===i&&(o.textContent=t.textContent),"image"===i&&t.imageLoader&&(o.fullResolutionUrl=t.imageLoader.getFullResolutionUrl(),o.url=t.imageLoader.getCurrentUrl()),o},registerEvents:function(){l.default.on("page.action.share.page",o.default.bind((function(t){this.announceSocialShare(t.componentSlug,t.action)}),this)),l.default.on("page.component.clicked",o.default.bind((function(t){this.announceComponentClick(t.componentSlug)}),this)),l.default.on("page.component.animation.start",o.default.bind((function(t){this.announceAnimationStarted(t)}),this)),l.default.on("page.component.animation.end",o.default.bind((function(t){this.announceAnimationEnded(t)}),this)),l.default.on("sdk.context.get.value",o.default.bind((function(t){this.getContextValue(t.name)}),this)),l.default.on("sdk.experience.analytics.get.user.consent",o.default.bind((function(){this.getUserConsentForAnalytics()}),this))},announcePageChanged:function(t){y("page.changed",{pageNum:t,experienceId:this.experienceID})},announcePageChanging:function(t){y("page.changing",{pageNum:t,experienceId:this.experienceID})},announceSocialShare:function(t,e){t=d.default.extractObjectIdFromSmartgroupInstanceId(t),y("social.share",{componentId:t,shareType:e,experienceId:this.experienceID})},announceComponentClick:function(t){t=d.default.extractObjectIdFromSmartgroupInstanceId(t),y("component.clicked",{componentId:t,experienceId:this.experienceID})},announceLayersShown:function(t){t=o.default.map(t,d.default.extractObjectIdFromSmartgroupInstanceId),o.default.each(t,o.default.bind((function(t){y("layer.shown",{layerId:t,experienceId:this.experienceID})}),this))},announceLayersHidden:function(t){t=o.default.map(t,d.default.extractObjectIdFromSmartgroupInstanceId),o.default.each(t,o.default.bind((function(t){y("layer.hidden",{layerId:t,experienceId:this.experienceID})}),this))},announceVideoPlayed:function(t){t=d.default.extractObjectIdFromSmartgroupInstanceId(t),y("video.played",{componentId:t,experienceId:this.experienceID})},announceAnimationStarted:function(t){t=d.default.extractObjectIdFromSmartgroupInstanceId(t),y("animation.started",{componentId:t,experienceId:this.experienceID})},announceAnimationEnded:function(t){t=d.default.extractObjectIdFromSmartgroupInstanceId(t),y("animation.ended",{componentId:t,experienceId:this.experienceID})},getContextValue:function(t){var e=u.default?o.default.get(u.default,t):"";y("context.value.response",{variableName:t,variableValue:e})},getUserConsentForAnalytics:function(){var t=p.default.getExperiencePath(),e=g.AnalyticsLocalStorage.getUserConsent(t);y("user.consent",{consent:e,experienceId:this.experienceID})},announceScrollTo:function(t){y("scroll.to",{scrollPosition:t.scrollPosition,pageHeight:t.pageHeight,experienceId:this.experienceID,innerHeight:window.innerHeight})},announceTimedInteraction:function(t){y("timed.interaction.fired",t)},getNewTagMap:function(){return new b}}});e.default=t},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1)),o=i(n(0)),a=i(n(3)),s=i(n(2)),u=i(n(6)),l=i(n(75)),c=i(n(377)),d=i(n(144)),h=i(n(154)),f=i(n(155)),p=i(n(380)),g=i(n(57)),m=i(n(58)),v=i(n(15)),y=i(n(89)),_=n(381),b=n(475),T=n(13),S=i(n(10)),w=i(n(2)),E=i(n(477)),C=i(n(479)),O=i(n(480)),A=i(n(24)),P={},I=a.default.Model.extend({idAttribute:"slug",urlRoot:"/{api-version}/account/{scope}/pages",defaults:{sdkTags:[],sdkPayload:""},initialize:function(t,e){a.default.Model.prototype.initialize.call(this,t,e),this.documentVersion=e.documentVersion,this.pageIndex=e.pageIndex,this.layerOpBuilder=null,this.layerDocPersister=null,this.layerDictionaryAndHierarchyService=null},fetch:function(t){if(t=t||{},s.default.previewMode)return this._fetchFromShareJS();this._finishLoading();var e=new r.default.Deferred;return e.resolve(),e.promise()},getSlug:function(){return this.get("slug")},getSdkTags:function(){return this.get("sdkTags")},getSdkPayload:function(){return this.get("sdkPayload")},getDisabled:function(){return this.get("disabled")},getPageWidth:function(t){if(o.default.isUndefined(t))throw new Error("Document Version Model is required.");return t.getExperienceWidth()},getPageHeight:function(t){if(o.default.isUndefined(t))throw new Error("Document Version Model is required.");var e=this.getOverHeight(),n=t.getExperienceHeight();return e>n?e:n},getOverHeight:function(){return this.getOverrideablePropertyForCurrentVariant("overHeight")},_fetchFromShareJS:function(){var t=new r.default.Deferred;l.default.getConnection().openExisting(this._getDocumentName(),o.default.bind((function(e,n){if(e)throw u.default.error(e),t.reject(e),Error(e);S.default.hasFeature(T.FeatureFlagName.EDIT_IN_PREVIEW)&&(this.layerOpBuilder=new _.EditorLayerOpBuilder(n),this.layerDocPersister=new b.EditorLayerDocPersister(n,this.layerOpBuilder),this.layerDictionaryAndHierarchyService=new E.default({layerDictionary:new C.default({doc:n}),layerHierarchies:new O.default({doc:n}),layerSaveHandler:function(){},layerOpBuilder:this.layerOpBuilder}),A.default.setDocumentVersion({doc:n})),n.on("remoteop",o.default.bind((function(t){this._processRemoteOps(n,t)}),this)),l.default.listenForReadOnlyConnectionLimitError(n),this.setDocSnapshotAndReconciledLayers(n.snapshot),this.documentVersion.on("resolveMedia",o.default.bind(this.refetchMedia,this,n)),t.resolve()}),this));var e=this._loadResolvedMedia();return r.default.when(t,e).done(o.default.bind((function(){this._finishLoading()}),this))},reconcileLayers:function(t,e){var n=this,i=[],r=v.default.getVariant();return o.default.reduce(t,(function(t,i){var a=o.default.cloneDeep(e[i.id]);return a&&(y.default.reconcileComponentForVariant(r,a),i.items&&i.items.length>0&&(a.items=n.reconcileLayers(i.items,e)),t.push(a)),t}),i),n.setReconciledVariant(r),i},getScranchorsForCurrentVariant:function(){var t=v.default.getVariant(),e=this.get("scranchors");"desktop"!==t&&(e=this.get("overrides")[t].scranchors||e);return e},setReconciledVariant:function(t){this.reconciledVariant=t},getReconciledVariant:function(){return this.reconciledVariant},_finishLoading:function(){if(!this.get("layers")){var t=this.get("layerHierarchies")[v.default.getVariant()],e=this.get("layerDictionary"),n=this.reconcileLayers(t,e);this.set("layers",n)}this.documentVersion.on("reload",this.resolveSmartgroupsAndMedia,this),this.resolveSmartgroupsAndMedia(),this.trigger("loaded")},_loadResolvedMedia:function(){return m.default.loadMediaForUri(this.getUri())},resolveSmartgroupsAndMedia:function(t){var e=this,n=t||e.get("layers")||[];o.default.each(n,(function(t){return t.smartgroupId?e.resolveSmartgroupReference(t):t.items&&t.items.length>0?e.resolveSmartgroupsAndMedia(t.items):e.resolveObjectMedia(t),t})),e.mediaPreloader=new p.default(e.documentVersion,e.get("layers"))},refetchMedia:function(t){this._loadResolvedMedia().done(o.default.bind((function(e){g.default.putMediaArray(e),this.setDocSnapshotAndReconciledLayers(t.snapshot),this.set("media",e),this.resolveSmartgroupsAndMedia(),this.trigger("reload")}),this))},resolveSmartgroupReference:function(t){var e=this,n=this.documentVersion.getSmartgroupDefinition(t.smartgroupId);n?t.layers=o.default.map(n.layerHierarchies.desktop,o.default.bind((function(i){return i=function i(a){var s=n.layerDictionary[a.id];return(a=r.default.extend(!0,{},s,a)).id=I.buildSmartgroupInstanceObjectId(t.id,a.id),a.parentSmartGroup=t,"folder"===a.type?a.items=o.default.map(a.items,i):e.resolveObjectInSmartgroup(a,t.id),a}(i)}),this)):u.default.warn("Smartgroup "+t.smartgroupId+" could not be resolved")},resolveObjectInSmartgroup:function(t,e){t.originalObjectId=t.id,t.interactions&&o.default.each(t.interactions,o.default.bind((function(t){t.layerTargets&&(t.layerTargets=o.default.map(t.layerTargets,o.default.bind((function(t){return I.buildSmartgroupInstanceObjectId(e,t)}),this)))}),this)),this.resolveObjectMedia(t)},resolveObjectMedia:function(t){var e=null;switch(t.type){case"image-component":if(e=g.default.get(t.convertedVectorImage||t.image),w.default.previewMode&&t.convertedVectorImage&&!e){var n=g.default.get(t.image);n&&(e=n)}e&&(t.imageLoader=c.default.create(t,e));break;case"video-widget":if((e=g.default.get(t.poster))&&(t.posterLoader=c.default.create(t,e)),t.videoMedia=g.default.get(t.video),t.closedCaption){var i=g.default.get(t.closedCaption);i&&(t.closedCaptionsUrl=i.url)}break;case"text-component":t.fontLoader=new d.default(t),t.textMode=this.documentVersion.getTextMode()}},lazyPreloadAllMedia:function(t,e){this.mediaPreloader.lazyPreloadAllMedia(t,e)},preloadVisibleMedia:function(t,e){this.mediaPreloader.preloadVisibleMedia(t,e)},preloadImages:function(t){this.mediaPreloader.preloadImages(t)},preloadHiddenMedia:function(t){this.mediaPreloader.preloadHiddenMedia(t)},getlazyLoadingVerticalBreakpoint:function(){return this.mediaPreloader.getlazyLoadingVerticalBreakpoint()},_processRemoteOps:function(t,e){for(var n={},i=!1,r=!1,a=0;a<e.length;a++){var s=e[a];if(f.default.isLayerHierarchiesMoveOrDelete(s))r=!0;else if(!f.default.isLayerDictionaryDelete(s)&&!f.default.isBlacklistedPagePropertyForPreviewOps(s)){var u=f.default.getComponentFromOp(t,s);if(u&&delete P[u.id],f.default.isMediaReloadRequiredForComponent(s,u)){i=!0;break}!u||f.default.isPageReloadRequiredForComponent(s,u)?r=!0:n[u.id]=JSON.parse(JSON.stringify(u))}}i?this.refetchMedia(t):r?this.triggerPageReload(t):o.default.each(n,o.default.bind((function(t,e){this.trigger("remote",{id:e,options:t})}),this))},setDocSnapshotAndReconciledLayers:function(t){var e=JSON.parse(JSON.stringify(t));this.set(e,{silent:!0});var n=this.reconcileLayers(o.default.cloneDeep(e.layerHierarchies[v.default.getVariant()]),e.layerDictionary);this.set("layers",n)},triggerPageReload:function(t){this.setDocSnapshotAndReconciledLayers(t.snapshot),this.resolveSmartgroupsAndMedia(),this.trigger("reload")},_getDocumentName:function(){return this.getUri().replace(/\//g,"_")},getPageIndex:function(){return this.pageIndex},getAllSmartgroupInstanceLayerIds:function(t,e){return this.getAllSmartgroupInstanceComponentIds(t,e)},getAllSmartgroupInstanceComponentIds:function(t,e){var n=e||this.get("layerDictionary"),i=o.default.filter(n,"smartgroupId");return o.default.reduce(i,o.default.bind((function(e,n){var i=this.getSmartgroupLayerDictionary(n.smartgroupId);return o.default.some(i,(function(e){return e.id===t}))&&e.push(I.buildSmartgroupInstanceObjectId(n.id,t)),e}),this),[])},getSmartgroupLayerDictionary:function(t){return o.default.get(this.documentVersion.getSmartgroupDefinition(t),"layerDictionary")},getUri:function(){return a.default.Model.prototype.url.call(this).replace(/\{api-version\}/,s.default.apiVersion).replace(/\{scope\}/,s.default.accountSlug)},updateLayerDictionaryFromRemoteChange:function(t){var e=this.get("layerDictionary");e[t.id]=o.default.cloneDeep(t.options),this.set("layerDictionary",e)},findLayerById:function(t){if(!t)return null;if(!P.hasOwnProperty(t)){var e=function(n){for(var i=0;i<o.default.get(n,"length");++i){if(n[i].id===t)return n[i];if(n[i].items||n[i].layers){var r=n[i].items||n[i].layers,a=e(r);if(a)return a}}return null};P[t]=e(this.get("layers"))}return P[t]}},{layerIsComponentWithId:function(t,e){return"folder"===e.type?o.default.some(e.items,o.default.partial(I.layerIsComponentWithId,t)):e.id===t},buildSmartgroupInstanceObjectId:function(t,e){return t+"|"+e},extractObjectIdFromSmartgroupInstanceId:function(t){var e=t.indexOf("|");return-1!==e&&(t=t.substr(e+1)),t},findTopmostFolderContent:function(t){for(var e=null,n=0;n<o.default.get(t,"items.length",0);++n){var i=t.items[n];"folder"===i.type&&(i=I.findTopmostFolderContent(i)),e?i.y===e.y?e=i.y<e.y?i:e:i.y<e.y&&(e=i):e=i}return e}});o.default.extend(I.prototype,h.default),e.default=I},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(3)),a=i(n(6)),s=function(t,e){this.componentWidth=t.width,this.componentHeight=t.height,this.componentId=t.id,this.currentResource=null,this.url=e.url};r.default.extend(s.prototype,o.default.Events,{IMAGE_LOADED_EVENT:"image-loaded",LOW_RES_IMAGE_LOADED_EVENT:"low-res-image-loaded",url:null,loadLowRes:function(t){throw"implement loadLowRes in subclasses"},load:function(t){throw"implement load in subclasses"},getCurrentUrl:function(){throw"implement getCurrentUrl in subclasses"},loadNow:function(t){this.load(t),this.currentResource&&this.currentResource.loadNow()},loadLowResNow:function(t){this.loadLowRes(t),this.currentResource&&this.currentResource.loadNow()},onImageLoaded:function(t,e){this.currentResource?("resolved"===this.currentResource.getPromise().state()&&t.call(e),this.bind(this.IMAGE_LOADED_EVENT,t,e)):a.default.warn("No resource was ever loaded",{componentId:this.componentId})},onLowResImageLoaded:function(t,e){this.currentResource?("resolved"===this.currentResource.getPromise().state()&&t.call(e),this.bind(this.LOW_RES_IMAGE_LOADED_EVENT,t,e)):a.default.warn("No resource was ever loaded",{componentId:this.componentId})},getFullResolutionUrl:function(){return this.url},getCurrentResource:function(){return this.currentResource}}),e.default=s},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(15));e.default={getOverrideablePropertyForCurrentVariant:function(t){var e=o.default.getVariant();if("desktop"===e)return this.get(t);var n=this.get("overrides");return r.default.get(n,[e,t])}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(15)),a=i(n(156)),s=i(n(2)),u=["image","background","backgroundHasBeenSet","crop"],l=["video","poster"],c=["guides","autosnap","name","thumbnailUrl"];e.default={isMediaReloadRequiredForComponent:function(t,e){if(e)if(this.isComponentCreation(t)){var n=this.getLayerTypeFromLayer(e);if(r.default.includes(["smartgroup_definition","folder","group"],n)||this.isMediaComponentWithMediaPropertiesSet(e))return!0}else if(this.isComponentUpdate(t)){return this.someOpPropertySuchThat(t,r.default.bind((function(t){return this.isMediaProperty(e,t)||"visible"===t}),this))}return!1},isMediaReloadRequiredForOp:function(t,e){var n=this.getComponentFromOp(t,e);return this.isMediaReloadRequiredForComponent(e,n)},someOpPropertySuchThat:function(t,e){var n=o.default.getVariant();if("desktop"===n)return e(this.getPropertyNameFromPath(t.p));var i=this.getPropertyNamesFromOverridesOp(t,n);return r.default.some(i,e)},isPageReloadRequiredForComponent:function(t,e){if(e){if(this.isInvalidGlyphMetricsOp(t,e))return!1;if(this.isComponentCreation(t))return!0;if(this.isComponentUpdate(t)){var n=!1;return r.default.includes(t.p,"interactions")&&r.default.each(t.oi,(function(t){!t||"view"!==t.trigger||"cycle-previous"!==t.action&&"cycle-next"!==t.action||(n=!0)})),this.someOpPropertySuchThat(t,(function(t){"video-widget"===e.type&&r.default.includes(["height","width"],t)||"smartgroup"===e.type&&r.default.includes(["x","y","height","width"],t)||"opacity"===t||"mask-group"===e.type||"blendingMode"===t||"fixedPosition"===t?n=!0:"image-component"!==e.type||!r.default.get(e,"maskInfo.maskedObjectId")||"flipHorizontal"!==t&&"flipVertical"!==t?("editable"===t||s.default.editMode&&"text-component"===e.type&&"textSpans"===t)&&(n=!0):n=!0})),n}throw"Wrong Op Type passed"}return!0},isInvalidGlyphMetricsOp:function(t,e){return"text-component"===e.type&&r.default.has(t,"oi")&&!r.default.has(t,"od")&&r.default.includes(t.p,"glyphMetrics")},isComponentCreation:function(t){return!!r.default.isArray(t.p)&&(2===t.p.length&&"layerDictionary"===t.p[0]&&!r.default.isUndefined(t.oi)&&r.default.isUndefined(t.od))},isLayerHierarchiesChange:function(t){return"layerHierarchies"===t.p[0]},isLayerHierarchiesMoveOrDelete:function(t){return"layerHierarchies"===t.p[0]&&!r.default.isUndefined(t.ld)},isLayerDictionaryDelete:function(t){return!a.default.isUpdateForLazyAddedField(t)&&("layerDictionary"===t.p[0]&&!r.default.isUndefined(t.od)&&r.default.isUndefined(t.oi))},isComponentUpdate:function(t){return!!r.default.isArray(t.p)&&(!!a.default.isUpdateForLazyAddedField(t)||!(2!==t.p.length&&3!==t.p.length||"layerDictionary"!==t.p[0]||r.default.isUndefined(t.oi)||r.default.isUndefined(t.od)))},getPropertyNameFromPath:function(t){var e;return t.length>2&&r.default.isString(r.default.last(t))&&(e=r.default.last(t)),e},getPropertyNamesFromOverridesOp:function(t,e){if(r.default.isUndefined(t.oi)||r.default.isUndefined(t.od))throw"Cannot get properties changed without old and new objects";var n=t.oi[e],i=t.od[e],o=r.default.union(r.default.keys(n),r.default.keys(i));return r.default.filter(o,(function(t){return!r.default.isEqual(n[t],i[t])}))},getComponentFromOp:function(t,e){if(!("layerDictionary"!==e.p[0]||r.default.isUndefined(e.oi)&&r.default.isUndefined(e.od))){var n=r.default.slice(e.p,0,2).join(".");return r.default.at(t.snapshot,n)[0]}return null},getLayerTypeFromLayer:function(t){return t.type?t.type:void 0!==t.layers?"smartgroup_definition":void 0},isMediaProperty:function(t,e){return!!t&&("image-component"===t.type?r.default.includes(u,e):"video-widget"===t.type&&r.default.includes(l,e))},isMediaComponentWithMediaPropertiesSet:function(t){return t&&("image-component"===t.type&&t.image||"video-widget"===t.type&&t.video&&t.poster)},isBlacklistedPagePropertyForPreviewOps:function(t){return!("layerDictionary"===t.p[0]||!r.default.includes(c,t.p[0]))}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=n(85),a=n(49),s={crop:null,flipHorizontal:!1,flipVertical:!1,effects:o.ImageEffects.getDefaults(),blendingMode:a.BlendingModes.getDefault()};e.default={isLazyAddedField:function(t){var e=this.getOpFieldName(t);return e&&s.hasOwnProperty(e)},isUpdateForLazyAddedField:function(t){return(!r.default.isUndefined(t.oi)||!r.default.isUndefined(t.od))&&this.isLazyAddedField(t)},normalizeIfLazyAddedField:function(t){if(this.isUpdateForLazyAddedField(t)){var e=this.getOpFieldName(t),n=s[e];t.od&&!t.oi?t.oi=n:t.oi&&!t.od&&(t.od=n)}},getOpFieldName:function(t){return r.default.get(t.p,t.p.length-1)}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1)),o=i(n(0)),a=i(n(96)),s=i(n(24)),u=i(n(156)),l=[],c=null;function d(){if(l.length>0){var t=l.shift(),e=o.default.map(t.ops,(function(e){return e.batchId=t.batchId,e}));t.doc.submitOp(e,(function(){t.promise.resolve()})),clearTimeout(c),c=null,l.length>0&&(c=o.default.defer(d))}}e.default={submitOpsInBatches:function(t,e){var n=a.default(),i=o.default.chunk(e,100),s=[];return o.default.each(i,(function(e){var i=r.default.Deferred();s.push(i),l.push({batchId:n,doc:t,ops:e,promise:i})})),t.emit("batch:start",n),null===c&&d(),r.default.when.apply(r.default,s).done((function(){t.emit("batch:done",n)})).fail((function(){t.emit("batch:fail",n)})),s},isDocVersionVariantCreateOp:function(t,e){return!(!e.isDocumentModel()||1!==t.p.length||"overrides"!==t.p[0])&&o.default.keys(t.oi).length>o.default.keys(t.od).length},isDocVersionVariantDeleteOp:function(t,e){return!(!e.isDocumentModel()||1!==t.p.length||"overrides"!==t.p[0])&&o.default.keys(t.oi).length<o.default.keys(t.od).length},isPageVariantCreateOp:function(t,e){return!e.isDocumentModel()&&1===t.p.length&&"overrides"===t.p[0]&&o.default.keys(t.oi).length>o.default.keys(t.od).length},isPageVariantDeleteOp:function(t,e){return!e.isDocumentModel()&&1===t.p.length&&"overrides"===t.p[0]&&o.default.keys(t.oi).length<o.default.keys(t.od).length},getCreatedVariantName:function(t){return o.default.difference(o.default.keys(t.oi),o.default.keys(t.od))[0]},getDeletedVariantName:function(t){return o.default.difference(o.default.keys(t.od),o.default.keys(t.oi))[0]},getPropertyBeingUpdatedInAPageDocOp:function(t){return this.isOpUpdatingOverrides(t)&&1!==t.p.length?t.p[2]:t.p[0]},isOpUpdatingOverrides:function(t){return"overrides"===t.p[0]},isOpForDifferentLayout:function(t,e){return!!s.default.adaptiveLayoutsEnabled()&&(this.isOpUpdatingOverrides(t)&&t.p.length>1?t.p[1]!==e:"desktop"!==e)},isLayerDictionaryInsertionOrDeletionOp:function(t){return!u.default.isUpdateForLazyAddedField(t)&&(t.p.indexOf("layerDictionary")>-1&&(o.default.isUndefined(t.od)||o.default.isUndefined(t.oi)))},isLayerHierarchyOpForDifferentLayout:function(t,e){return 0===t.p.indexOf("layerHierarchies")&&t.p[1]!==e},isLayerDictionaryOpForDifferentLayout:function(t,e){return 0===t.p.indexOf("layerDictionary")&&this.getChangedVariant(t)!==e},getChangedVariant:function(t){var e="desktop";if(!s.default.adaptiveLayoutsEnabled())return e;if(0===t.p.indexOf("layerDictionary")){var n=t.p.indexOf("overrides");if(-1===n)return e;-1!==n&&t.p.length>n+1?e=t.p[n+1]:this.isLayerDictionaryInsertionOrDeletionOp(t)?(t.oi&&(e=o.default.keys(t.oi)[0]),t.od&&(e=o.default.keys(t.od)[0])):t.p.length===n+1&&o.default.each(t.oi,(function(n,i){if(t.od&&!o.default.isEqual(n,t.od[i]))return e=i,!1}))}else 0===t.p.indexOf("layerHierarchies")&&(e=t.p[1]);return e},isLayerDictionaryWholeObjectChangeOp:function(t){return 0===t.p.indexOf("layerDictionary")&&2===t.p.length||2===t.p.indexOf("layerDictionary")&&4===t.p.length},isDocVersionPageCreateOrDeleteOp:function(t){return!!t&&(2===t.p.length&&"editorPagesManifest"===t.p[0]&&o.default.isNumber(t.p[1])&&(!o.default.isUndefined(t.li)||!o.default.isUndefined(t.ld)))},isSyncedPropertyChangeFromList:function(t,e){return!!t&&(0===t.p.indexOf("layerDictionary")&&3===t.p.length&&e.indexOf(t.p[2])>-1||void 0)},setOpValues:function(t,e,n){var i=e.element[e.key];o.default.isArray(e.element)?(t.li=n,o.default.isUndefined(i)||(t.ld=i)):o.default.isObject(e.element)&&(t.oi=n,o.default.isUndefined(i)||(t.od=i))},opPathStartsWith:function(t,e){var n=t.join("/")+"/",i=e.join("/")+"/";return 0===n.indexOf(i)}}},function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return r(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=a(n(1)),u=a(n(0)),l=a(n(3)),c=a(n(97)),d=a(n(384)),h=a(n(2)),f=a(n(161)),p=o(n(388)),g={slug:null,account:null,userAccounts:null,accountsFeatureFlagsCollection:null,getActiveAccountSlug:function(){var t=this.getActiveAccount();return!!t&&t.get("slug")},getActiveAccount:function(){var t=h.default.accountSlug;return this.getUserAccounts().get(t)},setActiveAccountSlug:function(t,e){var n=this,i=new s.default.Deferred;return i.fail(u.default.bind((function(){e&&"function"==typeof e.error&&e.error.call(this)}),this)),t?(this.addToAccountIfSuperUserFirstAccess(t).then((function(){var e=f.default.getCurrentUser();e.get("lastAccessedAccountSlug")!=t&&e.updateAndPersistFields({lastAccessedAccountSlug:t},{silent:!0}),h.default.absorb({accountSlug:t})})).then((function(){return d.default.getInstanceForAccount(n.getActiveAccountSlug()).fetch()})).then((function(){var r=n.getUserAccounts().get(t);n.trigger("currentaccount:switched",r,n),p.setActiveOrganizationFromAccount(r.get("organizationId")).then(i.resolve).fail(i.reject).always((function(){e&&"function"==typeof e.success&&e.success.call(n,r)}))})).fail(i.reject),i):(i.reject(),i)},isActiveAccountTemplateManager:function(){var t=p.getActiveOrganization(),e=this.getActiveAccount();return!!t&&!!e&&parseInt(t.get("templateManagerAcctId"),10)===parseInt(e.get("id"),10)},addToAccountIfSuperUserFirstAccess:function(t){var e=new s.default.Deferred,n=f.default.getCurrentUser();if(this.getUserAccounts().get(t))e.resolve();else if(n.get("isSuperuser")){var i=new c.default({slug:t});i.fetch().done((function(){f.default.inviteMemberToAccount(n,i,!1).done((function(){n.fetch().done(e.resolve).fail(e.reject)})).fail(e.reject)})).fail((function(){e.reject()}))}else e.reject();return e.promise()},getUserAccounts:function(){return f.default.getCurrentUser().getAccounts()},currentUserHasAccount:function(t){return!!f.default.getCurrentUser().get("isSuperuser")||this.getUserAccounts().get(t)},getFirstAccountSlug:function(){var t=this.getUserAccounts();return t.length>0&&t.first().get("slug")},getFallbackAccountSlug:function(t){if(!t)return!1;var e=f.default.getCurrentUser().get("lastAccessedAccountSlug");if(!u.default.isUndefined(e)&&t!=e&&this.currentUserHasAccount(e))return e;var n=this.getFirstAccountSlug();return!(!n||t==n)&&n},navigateAccount:function(t,e){"/"!=t.charAt(0)&&(t="/"+t),l.default.history.navigate("/account/"+this.getActiveAccountSlug()+t,e)}};u.default.extend(g,l.default.Events),e.default=g},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(43)),a=i(n(383));e.default=o.default.extend({urlRoot:"/{api-version}/members",defaults:{title:null,contactInformation:null,ghosting:!1},save:function(t,e,n){return!1},getAccountMemberUri:function(){return this.replaceUrlContextVariables("/{api-version}/account/{account-slug}/account-members/"+this.id)},getAccountMember:function(t){return this.accountMember?this.accountMember:this.fetchAccountMember(t)},fetchAccountMember:function(t){var e=new a.default({slug:this.id});return e.on("change",r.default.bind((function(t){this.accountMember=t}),this)),t&&"function"==typeof t&&e.on("change",t),e.fetch(),e}})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1)),o=i(n(0)),a=i(n(3)),s=i(n(8));e.default=a.default.Collection.extend({serverPageLength:100,serverPageMax:10,resolveKeys:"",allowPagination:!0,totalRecords:!1,constructor:function(){a.default.Collection.apply(this,arguments),this.urlParams=[]},initialize:function(){this._loadedPages=[]},clearCachedPages:function(){this._loadedPages=[]},hasEverBeenFetched:function(){},fetch:function(t){if(t||(t={}),!this.allowPagination)return this._fetchInternal(t);var e=t.silent,n=t.start||1,i=t.stop||this.serverPageLength*this.serverPageMax,a=void 0===t.resetAfterModelsResolve||t.resetAfterModelsResolve;this.totalRecords&&i>this.totalRecords&&(i=this.totalRecords);var s=this,u=this._getNeededPages(n,i);t.silent=!0,t.page=u.shift();var l=t.success,c=t.error,d=[],h=new r.default.Deferred;return t.success=function(e,r){r&&i>r.totalCount&&(i=r.totalCount,u=s._getNeededPages(n,i));var l=u.length;u.length>0&&(t.page=u.shift(),s._fetchInternal(t)),0===l&&(a&&o.default.each(s.models,(function(t){t.subRequestsPending>0&&(d.push(t.id),t.on("change",(function(){0===t.subRequestsPending&&(d.splice(d.indexOf(t.id),1),0===d.length&&h.resolve(e,r))})))})),0===d.length&&h.resolve(e,r))},t.error=function(t,n){404!=n.status||e?h.reject(t,n):h.resolve(t,n)},this._fetchInternal(t),h.done((function(t,n){l&&l(t,n),e||t.trigger("reset")})).fail((function(t,e){c&&c(t,e)})).promise()},_fetchInternal:function(t){t||(t={}),this.resolveKeys&&this.addUrlParam("resolve_keys",this.resolveKeys);var e=t.silent,n=1;if(t.page&&(n=t.page),-1!==r.default.inArray(n,this._loadedPages)&&!t.forceReload)return o.default.isFunction(t.success)&&t.success(this,null),(new r.default.Deferred).resolve(this,null).promise();1!=n&&this.allowPagination&&(t.remove=!1),t.at=n*this.serverPageLength-this.serverPageLength;var i=this,s=!1;t.success&&(s=t.success),t.silent=!0,t.success=function(t,r){i.totalRecords=r.totalCount,i._loadedPages.push(n),s&&s(t,r),e||t.trigger("reset")};var u=!1;t.error&&(u=t.error),t.error=function(t,n){404==n.status&&(u&&u(t,n),e||t.trigger("reset"))};var l=this.allowPagination?"/page/"+n:"";return t.url=this.url()+l+"?"+this.getUrlParamsAsString(),a.default.Collection.prototype.fetch.call(this,t)},_getNeededPages:function(t,e){for(var n=Math.floor(t/this.serverPageLength),i=[];n*this.serverPageLength<e;)i.push(n+1),n++;var o=this._loadedPages;return r.default.grep(i,(function(t){return r.default.inArray(t,o)<0}))},url:function(){var t=o.default.result(this,"restUrl")||this;return s.default.replaceUrlContextVariables(t)},parse:function(t){return void 0!==t&&void 0!==t.resources&&t.resources},addUrlParam:function(t,e){this.urlParams[t]=e},getUrlParamsAsString:function(){var t=[];return o.default.forIn(this.urlParams,(function(e,n){t.push(n+"="+e)})),t.join("&")}})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1)),o=i(n(0)),a=i(n(3)),s=i(n(386)),u={currentUser:null,getCurrentUserSlug:function(){return this.currentUser?this.currentUser.get("slug"):null},getCurrentUser:function(){return this.currentUser},fetchCurrentUser:function(){var t=new s.default,e=new r.default.Deferred;return t.fetch().done(o.default.bind((function(){this.currentUser=t,e.resolve(this.currentUser)}),this)).fail(e.reject),e},signin:function(t){this._post(o.default.extend(t,{url:"/rest/v1/process/signin",eventName:"currentuser:signin"}))},checkPasswordResetToken:function(t){return r.default.ajax({url:"/rest/v1/process/reset-password",type:"GET",data:{token:t}})},checkConfirmMemberToken:function(t){return r.default.ajax({url:"/rest/v1/process/confirm-member",data:{token:t},type:"GET",dataType:"json"})},sendPasswordResetEmail:function(t){return r.default.ajax({url:"/rest/v1/process/send-password-reset",type:"POST",data:JSON.stringify({email:t}),processData:!1,contentType:"application/json"})},resetPassword:function(t){this._post(o.default.extend(t,{url:"/rest/v1/process/reset-password",eventName:"currentuser:resetpassword"}))},confirmMember:function(t){this._post(o.default.extend(t,{url:"/rest/v1/process/confirm-member"}))},getAuthUser:function(t){return r.default.ajax({url:"/rest/v1/process/get-auth-user",type:"GET",data:{token:t}})},linkUser:function(t){this._post(o.default.extend(t,{url:"/rest/v1/process/link-user"}))},inviteMemberToAccount:function(t,e,n){return n=!1===n?0:1,r.default.ajax({url:"/rest/v1/account/"+e.get("slug")+"/invite-member",type:"POST",data:JSON.stringify({email:t.get("email"),title:t.get("title"),sendInvitationEmail:n})})},_post:function(t){r.default.ajax({url:t.url,type:"POST",data:JSON.stringify(t.data),processData:!1,contentType:"application/json",success:o.default.bind((function(e,n,i){t.eventName&&this.trigger(t.eventName,"UserManager"),t.success&&"function"==typeof t.success&&t.success(e,n,i)}),this),error:function(e,n,i){t.error&&"function"==typeof t.error&&t.error(e,n,i)}})}};o.default.extend(u,a.default.Events),e.default=u},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(395)),a=i(n(2)),s=i(n(9)),u=i(n(18)),l=["viewportHeight","viewportWidth","scaleExperienceType"],c=["pageHeight","overHeight"];e.default=u.default.extend({defaults:s.default.CanvasBackgroundModel.defaults,initialize:function(){u.default.prototype.initialize.apply(this,arguments)},set:function(t,e,n){var i={};"object"==typeof t?(i=t,n=e):i[t]=e,this.changedIPAttributes={};var o=r.default.keys(i),a=r.default.difference(o,l.concat(c)),s=r.default.intersection(o,l),d=r.default.pick(i,a);u.default.prototype.set.apply(this,[d,n]);var h=i.overHeight||i.pageHeight||i.height;if(h&&this.setPageOverheight(h),this.documentVersion){var f=r.default.pick(i,s);this.documentVersion.set(f,n)}return o.length>0&&this.notifyChange(i,n),this},get:function(t){switch(t){case"width":case"viewportWidth":return this.documentVersion?this.documentVersion.getExperienceWidth():u.default.prototype.get.apply(this,arguments);case"viewportHeight":return this.documentVersion?this.documentVersion.getExperienceHeight():u.default.prototype.get.apply(this,arguments);case"scaleExperienceType":return this.documentVersion?this.documentVersion.getScaleExperienceType():u.default.prototype.get.apply(this,arguments);case"height":case"pageHeight":return this.page&&this.documentVersion?this.page.getPageHeight(this.documentVersion):u.default.prototype.get.apply(this,arguments);default:return u.default.prototype.get.apply(this,arguments)}},isIncludedInLayerPanel:function(){return!0},setPageOverheight:function(t){this.page&&(this.page.setOverHeight(t),o.default.trackOverHeight({experience_title:a.default.experienceName}))},notifyChange:function(t,e){e=e||{},t=r.default.pick(t,l.concat(c));var n=r.default.keys(t);this.changedIPAttributes=t,n&&n.length>0&&t&&(r.default.each(n,r.default.bind((function(n){this.trigger("change:"+n,this,t[n],e)}),this)),this.trigger("change",this,e))},setPage:function(t){this.page||(this.page=t,this.documentVersion=this.page.documentVersion,this.page.setCanvasBackgroundModel(this),this.page.on("change",r.default.bind(this.onPageChange,this)),this.documentVersion.on("change",r.default.bind(this.onDocumentVersionChange,this)))},onPageChange:function(t,e){var n=r.default.pick(t.changedAttributes(),c);n.overHeight&&(n.pageHeight=n.overHeight,delete n.overHeight),this.notifyChange(n,e)},onDocumentVersionChange:function(t,e){var n=r.default.pick(t.changedAttributes(),l);this.notifyChange(n,e)},setFromCanvasBackgroundModel:function(t){var e=this.getSupported(),n={};r.default.each(e,(function(e){n[e]=t.get(e)})),this.set(n),this.save()},getSupported:function(){return s.default.CanvasBackgroundModel.supported},getDisplayLabel:function(){return"Canvas Settings"},isResizable:function(){return!1},isDeletable:function(){return!1},isCopiable:function(){return!1},isGroupable:function(){return!1},isMoveable:function(){return!1},isUserSelectable:function(){return!1},isFocusable:function(){return!1},isLockable:function(){return!1},isVisible:function(){return!0},setVisible:function(){return this},isInteractable:function(){return!1},highlight:function(){return this.rubberBandHighlighted=!1,this},isCanvasBackgroundModel:function(){return!0}})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.objectStateSupportedProperties=e.supported=e.defaults=void 0;var r=i(n(0)),o=i(n(44));e.defaults={type:null,title:"Object",x:0,y:0,width:100,height:100,fixedPosition:!1,preserveAspectRatio:!1,opacity:1,rotation:0,visible:!0,locked:!1,editable:!1,background:{},backgroundHasBeenSet:!1,border:{},animations:[],exitAnimations:[],interactions:[],shadow:{},animationsRepeatAll:!1,animationsReplayOnScroll:!1,sdkTags:[],sdkPayload:"",showHoverCursor:!1,overrides:{},states:{},selectedState:o.default.OBJECT_STATES_DEFAULT,userDefinedStates:[],transition:null},e.supported=r.default.union(r.default.difference(Object.keys(e.defaults),["type","id","visible","locked"]),["corner-radius"]),e.objectStateSupportedProperties=["x","y","width","height","rotation","opacity","preserveAspectRatio","transition"]},function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},u=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(s(arguments[e]));return t},l=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.objectStateSupportedProperties=e.objectStateSupportedPropertiesForMaskGroupShape=e.supportedMaskGroupSquareShape=e.supportedMaskGroupShape=e.supported=e.supportedSquare=e.defaults=void 0;var c=l(n(0)),d=a(n(16)),h=n(12);e.defaults=i(i(i({},d.defaults),h.MODEL_DEFAULTS),{title:"Shape",shape:null,pathData:null}),e.supportedSquare=c.default.union(Object.keys(e.defaults),d.supported),e.supported=c.default.without(e.supportedSquare,"corner-radius"),e.supportedMaskGroupShape=c.default.without(u(e.supported,["mustHaveFill"]),"animations","animationsRepeatAll","animationsReplayOnScroll","border","interactions","shadow","states","selectedState","userDefinedStates","exitAnimations"),e.supportedMaskGroupSquareShape=c.default.without(u(e.supportedSquare,["mustHaveFill","singleCornerRadius","noStroke"]),"animations","animationsRepeatAll","animationsReplayOnScroll","interactions","shadow","states","selectedState","userDefinedStates","exitAnimations"),e.objectStateSupportedPropertiesForMaskGroupShape=[],e.objectStateSupportedProperties=c.default.union(d.objectStateSupportedProperties,["border","background","shadow"])},function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.objectStateSupportedProperties=e.supported=e.variantDefaults=e.defaults=void 0;var u=s(n(0)),l=a(n(16)),c=n(38),d=n(21);e.defaults=i(i({},l.defaults),c.TEXT_PLUS_MODEL_DEFAULTS),e.variantDefaults={defaultSpan:{fontColor:"rgb(0,0,0)",fontSize:24,variantGuid:d.FontConstants.DEFAULT_FONT_VARIANT_GUID,underline:!1,letterSpacing:0}},e.supported=u.default.difference(u.default.union(Object.keys(e.defaults),l.supported,["autoLeading","textData","defaultSpan","synced","paddingTop","paddingRight","paddingBottom","paddingLeft","leading"]),["background","border","corner-radius","shadow"]),e.objectStateSupportedProperties=u.default.union(l.objectStateSupportedProperties,["defaultSpan","justify","leading"])},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1)),o=i(n(0)),a=i(n(52)),s=i(n(24)),u=i(n(417)),l=i(n(9)),c=i(n(418)),d=a.default.extend({defaults:l.default.AbstractPageObjectModel.defaults,variantDefaults:null,objectStatesEnabled:!1,constructor:function(t,e){t=t||{},this.setParentModel(a.default),a.default.prototype.constructor.call(this,t,e)},initialize:function(t,e){this.bindVariantAttributeChangeEvents(),a.default.prototype.initialize.call(this,t,e)},getSupported:function(){return l.default.AbstractPageObjectModel.supported},getObjectStateSupportedProperties:function(){return l.default.AbstractPageObjectModel.objectStateSupportedProperties},isResizable:function(){return!0},mustBeConstrained:function(){return!1},isConstrained:function(){return this.mustBeConstrained()||this.get("preserveAspectRatio")},isObject:function(){return!0},hasInteractions:function(){var t=this.get("interactions");return o.default.isArray(t)&&t.length>0},hasInteractionsBesidesChangeState:function(){var t=this.get("interactions").filter((function(t){return"change-state"!==t.action}));return o.default.isArray(t)&&t.length>0},updateInteractionPageNumbersOnAdd:function(t){this.forEachVariantInteractions((function(e){e.updateInteractionPageNumbersOnAdd(t)}))},updateInteractionPageNumbersOnMove:function(t,e){this.forEachVariantInteractions((function(n){n.updateInteractionPageNumbersOnMove(t,e)}))},updateInteractionPageNumbersOnDelete:function(t){this.forEachVariantInteractions((function(e){e.updateInteractionPageNumbersOnDelete(t)}))},supportsObjectStates:function(){return this.objectStatesEnabled},supportsObjectStatesForProperty:function(t){return this.getObjectStateSupportedProperties().indexOf(t)>-1},forEachVariantInteractions:function(t){this.forAttributeOnEachVariant("interactions",o.default.bind((function(e,n){var i=this._buildInteractionCollectionThatWillUpdateOnChanges(e,{variant:n});t(i,n)}),this))},removeReferencesToDescendant:function(t){if(this.hasInteractions()){var e=[];o.default.each(this.get("interactions"),(function(n){var i=r.default.extend(!0,{},n);i.layerTargets?(i.layerTargets=o.default.difference(i.layerTargets,t),i.layerTargets.length>0&&e.push(i)):e.push(i)})),this.set({interactions:e})}},reconcileJSONForCurrentVariant:function(t){var e=a.default.prototype.toJSON.call(this);return e=s.default.reconcileJSONForCurrentVariant(e,this),!0===t&&(e=u.default.cloneDeep(e)),e},forAttributeOnEachVariant:function(t,e){var n={desktop:this.get(t,{variant:"desktop"})};o.default.each(s.default.getExistingVariants(),o.default.bind((function(e){n[e]=this.get(t,{variant:e,doNotFallbackToDesktop:!0})}),this)),o.default.each(n,(function(t,n){o.default.isUndefined(t)||e(t,n)}))}});o.default.extend(d.prototype,c.default),e.default=d},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o={buildPropertyObject:function(t,e){var n;return r.default.isObject(t)||((n={})[t]=e,t=n),t}};e.default=o},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollToActionModel=void 0;var s=a(n(0)),u=n(11),l=n(7),c=n(5),d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.SCROLL_TARGET_TYPES={TOP:"top",BOTTOM:"bottom",SCRANCHOR:"scranchor"},e}return r(e,t),e.prototype.getValidScranchorTargets=function(){return this.parentInteraction.getValidScranchorTargets()},e.prototype.isValid=function(){return!!s.default.includes(this.SCROLL_TARGET_TYPES,this.get("scrollTargetType"))&&!(this.isScrollToScranchor()&&!this.getScranchorModel())},e.prototype.isScrollToTop=function(){return this.get("scrollTargetType")===this.SCROLL_TARGET_TYPES.TOP},e.prototype.isScrollToBottom=function(){return this.get("scrollTargetType")===this.SCROLL_TARGET_TYPES.BOTTOM},e.prototype.isScrollToScranchor=function(){return this.get("scrollTargetType")===this.SCROLL_TARGET_TYPES.SCRANCHOR},e.prototype.getScranchorId=function(){return this.isScrollToScranchor()?this.get("scrollTargetScranchor"):null},e.prototype.getScranchorModel=function(){var t=null,e=this.getScranchorId();return e&&(t=this.getValidScranchorTargets().get(e)),t},e.prototype.getScranchorIndex=function(){return this.getValidScranchorTargets().indexOf(this.getScranchorModel())},e.prototype.setScrollToTop=function(){this.set({scrollTargetType:this.SCROLL_TARGET_TYPES.TOP})},e.prototype.setScrollToBottom=function(){this.set({scrollTargetType:this.SCROLL_TARGET_TYPES.BOTTOM})},e.prototype.setScrollToScranchor=function(t){this.set({scrollTargetType:this.SCROLL_TARGET_TYPES.SCRANCHOR,scrollTargetScranchor:t})},e=o([l.ActionModelOptions({actionType:c.ActionTypes.scrollTo,defaults:{scrollTargetType:null,scrollTargetScranchor:null}})],e)}(u.AbstractActionModel);e.ScrollToActionModel=d},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollToObjectActionModel=void 0;var s=n(22),u=a(n(10)),l=n(13),c=n(7),d=n(5),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.isValid=function(){return u.default.hasFeature(l.FeatureFlagName.ACCESSIBILITY)&&t.prototype.isValid.call(this)},e=o([c.ActionModelOptions({actionType:d.ActionTypes.scrollToObject,defaults:{supportsMultipleTargets:!1}})],e)}(s.AbstractCanvasTargetsActionModel);e.ScrollToObjectActionModel=h},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0}),e.NextPageActionModel=void 0;var a=n(11),s=n(7),u=n(5),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e=o([s.ActionModelOptions({actionType:u.ActionTypes.nextPage})],e)}(a.AbstractActionModel);e.NextPageActionModel=l},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0}),e.PrevPageActionModel=void 0;var a=n(11),s=n(7),u=n(5),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e=o([s.ActionModelOptions({actionType:u.ActionTypes.prevPage})],e)}(a.AbstractActionModel);e.PrevPageActionModel=l},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.GotoPageActionModel=void 0;var s=a(n(0)),u=n(102),l=n(7),c=n(5),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.isValid=function(){return this.isPageTargetValid()},e.prototype.isPageTargetValid=function(){var t=this.get("pageTarget");return!!t&&(!!s.default.isNumber(t)&&(!(t<1)&&!(t>this.getValidPageTargets().length)))},e.prototype.getGotoPageNum=function(){return this.get("pageTarget")},e.prototype.getDeletedGotoPageNum=function(){return this.get("deletedPageTarget")},e.prototype.setGotoPage=function(t){this.set("pageTarget",t),this.unset("deletedPageTarget")},e.prototype.setDeletedGotoPage=function(t){this.set("deletedPageTarget",t)},e.prototype.handlePageAdd=function(t){var e=this.getGotoPageNum();e>=t&&this.setGotoPage(e+1)},e.prototype.handlePageMove=function(t,e){var n=this.getGotoPageNum(),i=this._calculateUpdatedPageNumberOnMove(n,t,e);n!==i&&this.setGotoPage(i)},e.prototype.handlePageDelete=function(t){var e=this.getGotoPageNum();e===t?(this.setGotoPage(null),this.setDeletedGotoPage(e)):e>t&&this.setGotoPage(e-1)},e=o([l.ActionModelOptions({actionType:c.ActionTypes.gotoPage,defaults:{pageTarget:null}})],e)}(u.PageNumberAwareAction);e.GotoPageActionModel=d},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.EnableDisablePageActionModel=void 0;var s=a(n(0)),u=n(102),l=n(7),c=n(5),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.serializePageTargets=function(t){var e=s.default(t).keys().map((function(t){return parseInt(t,10)})).sort((function(t,e){return t-e})).value(),n=s.default.reduce(e,(function(t,e){return t.length&&s.default.last(s.default.last(t))===e-1||t.push([]),s.default.last(t).push(e),t}),[]);return s.default.map(n,(function(t){switch(t.length){case 1:return t[0];case 2:return t[0]+", "+t[1];default:return t[0]+"-"+s.default.last(t)}})).join(", ")},e.prototype.parsePageTargets=function(t,e){var n=this,i={},r=!1;return s.default.isNil(t)||""===(t=t.replace(/\s/g,""))?[]:(s.default.each(t.split(","),s.default.bind((function(t){var o=t.split("-");switch(o.length){case 1:var a=parseInt(t,10);a&&n.isPageInRange(a)?i[a]=e:r=!0;break;case 2:var u=parseInt(o[0],10),l=parseInt(o[1],10);u&&l&&n.isPageInRange(u)&&n.isPageInRange(l)?s.default.each(s.default.range(u,l+1),(function(t){i[t]=e})):r=!0;break;default:r=!0}}),this)),r?null:i)},e.prototype.isPageInRange=function(t){return s.default.inRange(t,1,this.parentInteraction.getValidPageTargets().length+1)},e.prototype.isValid=function(){return this.arePageTargetsValid()},e.prototype.arePageTargetsValid=function(){var t=this;return!s.default.isEmpty(this.get("pageTargets"))&&s.default.every(this.get("pageTargets"),s.default.bind((function(e,n){return t.isPageInRange(n)}),this))},e.prototype.getEnablePageTargetsOnly=function(){return s.default.pickBy(this.get("pageTargets"))},e.prototype.getDisablePageTargetsOnly=function(){return s.default.pickBy(this.get("pageTargets"),(function(t){return!t}))},e.prototype.hasEnablePageTargets=function(){return!s.default.isEmpty(this.getEnablePageTargetsOnly())},e.prototype.hasDisablePageTargets=function(){return!s.default.isEmpty(this.getDisablePageTargetsOnly())},e.prototype.getEnablePageTargetsAsString=function(){return this.serializePageTargets(this.getEnablePageTargetsOnly())},e.prototype.getDisablePageTargetsAsString=function(){return this.serializePageTargets(this.getDisablePageTargetsOnly())},e.prototype.setEnablePageTargetsFromString=function(t){var e=this.parsePageTargets(t,!0);e&&this.set("pageTargets",s.default.extend(this.getDisablePageTargetsOnly(),e))},e.prototype.setDisablePageTargetsFromString=function(t){var e=this.parsePageTargets(t,!1);e&&this.set("pageTargets",s.default.extend(this.getEnablePageTargetsOnly(),e))},e.prototype.handlePageMove=function(t,e){var n=this,i=this.get("pageTargets"),r={},o=!1;s.default.each(i,s.default.bind((function(i,a){var u=s.default.toNumber(a),l=n._calculateUpdatedPageNumberOnMove(u,t,e);r[l]=i,o=o||u!==l}),this)),o&&this.set("pageTargets",r)},e.prototype.handlePageAdd=function(t){var e=this.get("pageTargets"),n={},i=!1;s.default.each(e,(function(e,r){var o=s.default.toNumber(r);o>=t?(n[o+1]=e,i=!0):n[o]=e})),i&&this.set("pageTargets",n)},e.prototype.handlePageDelete=function(t){var e=this.get("pageTargets"),n={},i=!1;s.default.each(e,(function(e,r){var o=s.default.toNumber(r);o>t?(n[o-1]=e,i=!0):o<t?n[o]=e:i=!0})),i&&this.set("pageTargets",n)},e=o([l.ActionModelOptions({actionType:c.ActionTypes.enableDisablePage,defaults:{pageTargets:{}}})],e)}(u.PageNumberAwareAction);e.EnableDisablePageActionModel=d},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.UrlActionModel=void 0;var s=a(n(0)),u=n(11),l=n(7),c=n(5),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.isValid=function(){return!(!this.has("url")||s.default.isEmpty(this.get("url")))&&!!s.default.isBoolean(this.get("urlOpenInNewWindow"))},e.prototype.filterUrl=function(t){var e=0===t.trim().toLowerCase().indexOf("javascript:");return-1===t.indexOf(":")||e?"http://"+t:t},e.prototype.getUrl=function(){return this.get("url")},e.prototype.setUrl=function(t){this.set("url",t)},e.prototype.getUrlOpenInNewWindow=function(){return this.get("urlOpenInNewWindow")},e.prototype.setUrlOpenInNewWindow=function(t){this.set("urlOpenInNewWindow",t)},e=o([l.ActionModelOptions({actionType:c.ActionTypes.url,defaults:{url:null,urlOpenInNewWindow:!1}})],e)}(u.AbstractActionModel);e.UrlActionModel=d},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0}),e.ShowCanvasTargetsActionModel=void 0;var a=n(22),s=n(7),u=n(5),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e=o([s.ActionModelOptions({actionType:u.ActionTypes.showCanvasTargets})],e)}(a.AbstractCanvasTargetsActionModel);e.ShowCanvasTargetsActionModel=l},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0}),e.ShowCanvasTargetsOnHoverActionModel=void 0;var a=n(22),s=n(7),u=n(5),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.getCreateHoverArea=function(){return this.get("createHoverArea")},e.prototype.setCreateHoverArea=function(t){this.set("createHoverArea",t)},e=o([s.ActionModelOptions({actionType:u.ActionTypes.showCanvasTargetsOnHover,defaults:{createHoverArea:!1,supportsMultipleTargets:!0}})],e)}(a.AbstractCanvasTargetsActionModel);e.ShowCanvasTargetsOnHoverActionModel=l},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0}),e.ShowOnlyActionModel=void 0;var a=n(22),s=n(7),u=n(5),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e=o([s.ActionModelOptions({actionType:u.ActionTypes.showOnly})],e)}(a.AbstractCanvasTargetsActionModel);e.ShowOnlyActionModel=l},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0}),e.HideOnlyActionModel=void 0;var a=n(22),s=n(7),u=n(5),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e=o([s.ActionModelOptions({actionType:u.ActionTypes.hideOnly})],e)}(a.AbstractCanvasTargetsActionModel);e.HideOnlyActionModel=l},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0}),e.CycleNextActionModel=void 0;var a=n(180),s=n(7),u=n(5),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.getDefaultDelay=function(){return 2},e=o([s.ActionModelOptions({actionType:u.ActionTypes.cycleNext})],e)}(a.AbstractContainerTargetsActionModel);e.CycleNextActionModel=l},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractContainerTargetsActionModel=void 0;var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.isCanvasTargetTypeValid=function(e){return t.prototype.isCanvasTargetTypeValid.call(this,e)&&(e.isGroup()||e.isFolder())},e}(n(22).AbstractCanvasTargetsActionModel);e.AbstractContainerTargetsActionModel=o},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0}),e.CyclePreviousActionModel=void 0;var a=n(180),s=n(7),u=n(5),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.getDefaultDelay=function(){return 2},e=o([s.ActionModelOptions({actionType:u.ActionTypes.cyclePrevious})],e)}(a.AbstractContainerTargetsActionModel);e.CyclePreviousActionModel=l},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0}),e.HideCanvasTargetsActionModel=void 0;var a=n(22),s=n(7),u=n(5),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e=o([s.ActionModelOptions({actionType:u.ActionTypes.hideCanvasTargets})],e)}(a.AbstractCanvasTargetsActionModel);e.HideCanvasTargetsActionModel=l},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0}),e.ToggleCanvasTargetsActionModel=void 0;var a=n(22),s=n(7),u=n(5),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e=o([s.ActionModelOptions({actionType:u.ActionTypes.toggleCanvasTargets})],e)}(a.AbstractCanvasTargetsActionModel);e.ToggleCanvasTargetsActionModel=l},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0}),e.HideAndStayHiddenCanvasTargetsActionModel=void 0;var a=n(22),s=n(7),u=n(5),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.getResetWhenScrolledOffscreen=function(){return this.get("resetWhenScrolledOffscreen")},e.prototype.setResetWhenScrolledOffscreen=function(t){this.set("resetWhenScrolledOffscreen",t)},e=o([s.ActionModelOptions({actionType:u.ActionTypes.hideAndStayHiddenCanvasTargets,defaults:{resetWhenScrolledOffscreen:!1,supportsMultipleTargets:!0}})],e)}(a.AbstractCanvasTargetsActionModel);e.HideAndStayHiddenCanvasTargetsActionModel=l},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0}),e.ShowAndStayVisibleCanvasTargetsActionModel=void 0;var a=n(7),s=n(5),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.getResetWhenScrolledOffscreen=function(){return this.get("resetWhenScrolledOffscreen")},e.prototype.setResetWhenScrolledOffscreen=function(t){this.set("resetWhenScrolledOffscreen",t)},e=o([a.ActionModelOptions({actionType:s.ActionTypes.showAndStayVisibleCanvasTargets,defaults:{resetWhenScrolledOffscreen:!1,supportsMultipleTargets:!0}})],e)}(n(22).AbstractCanvasTargetsActionModel);e.ShowAndStayVisibleCanvasTargetsActionModel=u},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.LightboxActionModel=void 0;var s=a(n(0)),u=n(11),l=n(7),c=n(5),d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.LIGHTBOX_MAX_DIMENSION=2e3,e}return r(e,t),e.prototype.isValid=function(){return!(!this.has("lightboxUrl")||s.default.isEmpty(this.get("lightboxUrl")))&&(!!this.isLightboxDimensionValid(this.get("lightboxHeight"))&&!!this.isLightboxDimensionValid(this.get("lightboxWidth")))},e.prototype.isLightboxDimensionValid=function(t){return!!t&&t>0&&t<=this.LIGHTBOX_MAX_DIMENSION},e.prototype.filterLightboxUrl=function(t){if(-1!==t.indexOf(".")){var e=t.trim().toLowerCase();if(0!==e.indexOf("http://")&&0!==e.indexOf("https://")&&0!==e.indexOf("//"))return"http://"+t}return t},e.prototype.getLightboxUrl=function(){return this.get("lightboxUrl")},e.prototype.getLightboxWidth=function(){return this.get("lightboxWidth")},e.prototype.getLightboxHeight=function(){return this.get("lightboxHeight")},e.prototype.getLightboxHasCloseButton=function(){return this.get("lightboxHasCloseButton")},e.prototype.setLightboxUrl=function(t){this.set("lightboxUrl",t)},e.prototype.setLightboxHeight=function(t){if(!this.isLightboxDimensionValid(t))throw new Error("Lightbox height is invalid "+t);this.set("lightboxHeight",t)},e.prototype.setLightboxWidth=function(t){if(!this.isLightboxDimensionValid(t))throw new Error("Lightbox width is invalid "+t);this.set("lightboxWidth",t)},e.prototype.setLightboxHasCloseButton=function(t){this.set("lightboxHasCloseButton",t)},e=o([l.ActionModelOptions({actionType:c.ActionTypes.lightbox,defaults:{lightboxUrl:null,lightboxWidth:720,lightboxHeight:576,lightboxHasCloseButton:!0}})],e)}(u.AbstractActionModel);e.LightboxActionModel=d},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ProductActionModel=void 0;var s=a(n(0)),u=n(11),l=n(7),c=n(5),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.isValid=function(){return this.has("productPanelId")&&!s.default.isEmpty(this.get("productPanelId"))},e.prototype.getProductPanelId=function(){return this.get("productPanelId")},e.prototype.setProductPanelId=function(t){this.set("productPanelId",t)},e=o([l.ActionModelOptions({actionType:c.ActionTypes.product,defaults:{productPanelId:null}})],e)}(u.AbstractActionModel);e.ProductActionModel=d},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0}),e.ShoppingCartActionModel=void 0;var a=n(11),s=n(7),u=n(5),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e=o([s.ActionModelOptions({actionType:u.ActionTypes.shoppingCart})],e)}(a.AbstractActionModel);e.ShoppingCartActionModel=l},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0}),e.EmailActionModel=void 0;var a=n(11),s=n(7),u=n(5),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e=o([s.ActionModelOptions({actionType:u.ActionTypes.email})],e)}(a.AbstractActionModel);e.EmailActionModel=l},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0}),e.FacebookActionModel=void 0;var a=n(11),s=n(7),u=n(5),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e=o([s.ActionModelOptions({actionType:u.ActionTypes.facebook})],e)}(a.AbstractActionModel);e.FacebookActionModel=l},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0}),e.TwitterActionModel=void 0;var a=n(11),s=n(7),u=n(5),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e=o([s.ActionModelOptions({actionType:u.ActionTypes.twitter})],e)}(a.AbstractActionModel);e.TwitterActionModel=l},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0}),e.PinterestActionModel=void 0;var a=n(11),s=n(7),u=n(5),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e=o([s.ActionModelOptions({actionType:u.ActionTypes.pinterest})],e)}(a.AbstractActionModel);e.PinterestActionModel=l},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0}),e.LinkedInActionModel=void 0;var a=n(11),s=n(7),u=n(5),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e=o([s.ActionModelOptions({actionType:u.ActionTypes.linkedin})],e)}(a.AbstractActionModel);e.LinkedInActionModel=l},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0}),e.ChangeStateActionModel=void 0;var a=n(22),s=n(72),u=n(7),l=n(5),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.isCanvasTargetTypeValid=function(e){return!!s.ObjectStateManager.targetSupportsPreviewOnlyMode(e)||(!!e.isFolder()||!!e.supportsObjectStates()&&t.prototype.isCanvasTargetTypeValid.call(this,e))},e.prototype.getStateDisplayName=function(){var t=this.getState(),e=this.getCanvasTargetModels()[0],n=s.ObjectStateManager.getStates(e).find((function(e){return e.value===t}));return n?n.title:""},e.prototype.getState=function(){return this.get("state")},e.prototype.setState=function(t){this.set("state",t)},e.prototype.getLockState=function(){return this.get("lockState")},e.prototype.setLockState=function(t){this.set("lockState",t)},e.prototype.getDisableHoverArea=function(){return this.get("disableHoverArea")||!1},e.prototype.setDisableHoverArea=function(t){this.set("disableHoverArea",t)},e.prototype.getTrigger=function(){return this.parentInteraction.getTrigger()},e.prototype.shouldHaveDisableHoverArea=function(){return"click"===this.getTrigger()},e.prototype.shouldHaveLockState=function(){return"view"!==this.getTrigger()&&"default"!==this.getState()},e=o([u.ActionModelOptions({actionType:l.ActionTypes.changeState,defaults:{state:"default",layerTargets:null,autogenerated:!1,supportsMultipleTargets:!0,lockState:!0}})],e)}(a.AbstractCanvasTargetsActionModel);e.ChangeStateActionModel=c},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0}),e.FullscreenActionModel=void 0;var a=n(11),s=n(7),u=n(5),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e=o([s.ActionModelOptions({actionType:u.ActionTypes.fullscreen})],e)}(a.AbstractActionModel);e.FullscreenActionModel=l},function(t,e,n){"use strict";var i,r,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.BringToFrontActionModel=void 0;var u=n(11),l=n(7),c=n(5),d=n(146),h=s(n(10)),f=n(13),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.isValid=function(){return h.default.hasFeature(f.FeatureFlagName.POSITION_INTERACTIONS)&&t.prototype.isValid.call(this)},e.prototype.getReverseOption=function(t){return this.get(t)},e.prototype.setReverseOption=function(t,e){this.set(t,e)},e.prototype.shouldUseClickOptions=function(){return"click"===this.parentInteraction.getTrigger()},e=a([l.ActionModelOptions({actionType:c.ActionTypes.bringToFront,defaults:(r={},r[d.BringToFrontReverseOption.unhover]=!0,r[d.BringToFrontReverseOption.resetOthers]=!1,r)})],e)}(u.AbstractActionModel);e.BringToFrontActionModel=p},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ResetPositionsActionModel=void 0;var s=n(5),u=n(7),l=n(22),c=a(n(10)),d=n(13),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.isValid=function(){return c.default.hasFeature(d.FeatureFlagName.POSITION_INTERACTIONS)&&t.prototype.isValid.call(this)},e.prototype.getResetObjectStates=function(){return this.get("resetObjectStates")},e.prototype.setResetObjectStates=function(t){this.set("resetObjectStates",t)},e=o([u.ActionModelOptions({actionType:s.ActionTypes.resetPositions,defaults:{resetObjectStates:!1,supportsMultipleTargets:!0}})],e)}(l.AbstractCanvasTargetsActionModel);e.ResetPositionsActionModel=h},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1)),o=i(n(0)),a=i(n(2)),s=i(n(429)),u=i(n(430)),l=i(n(199)),c=i(n(432)),d=!1,h="Unknown session ID",f="Op apply failed",p="Request failed",g="General network error",m="stopped",v="connect failed",y=function(){l.default.setOffline(),d&&(d.disconnect(),d=!1)},_={},b={},T=0,S=function(){var t=T++;return b[t]=l.default.push({label:"ShareJSConnection::sentOps"}),t},w=function(t){b[t].resolve(),delete b[t]},E=function(t,e){var n=!1;return o.default.isArray(_[t])&&(n=o.default.some(_[t],(function(t){return e.match(t)}))),n},C={fatalErrorOccurred:!1,initialize:function(){!function(){if(d)return d;if("undefined"==typeof sharejs)throw Error("Unable to connect to ShareJS Server");(d=new sharejs.Connection(a.default.shareJsServer,a.default.sharejsAccessPolicy)).on("error",C.showError),d.on(v,(function(){C.showError(v)})),d.on(m,(function(){C.showError(m)})),s.default.canBypassErrorDialogs()||u.default.registerObserver((function(){y()})),r.default(window).on("unload",(function(){y()}));var t=sharejs.Doc.prototype.flush;sharejs.Doc.prototype.flush=function(){var e=this.name,n=this.pendingOp,i=!!d&&o.default.some(n,(function(t){var n=t.p.join(".");return!E(e,n)}));if(i){var r=S();this.pendingCallbacks.push((function(t,e){w(r)}))}return t.apply(this,arguments)}}()},getConnection:function(){return d},addToStatusBlacklist:function(t,e){o.default.isEmpty(_[t])&&(_[t]=[]),_[t].push(e)},showError:function(t){var e="",n=null;if(t&&("string"==typeof t?e=t:"string"==typeof t.message&&(e=t.message,n=t)),e){if(e===h)return!1;if(-1!==e.indexOf(f)||o.default.includes([p,g,m,v],e))return c.default.getInstance().show(),!0}return window.onerror(e,null,null,null,n),y(),this.fatalErrorOccurred=!0,!0},handleError:function(t,e){throw t.metadata=o.default.extend({},t.metadata,e),C.showError(t),t},wrapCallback:function(t,e){return t?function(){try{return t.apply(this,arguments)}catch(t){C.handleError(t,o.default.extend({},e,{callerArgs:Array.prototype.slice.call(arguments)}))}}:t},addDocListener:function(t,e,n){var i={snapshot:t.snapshot,docName:t.name,event:e},r=this.wrapCallback(n,i);t.on(e,r)}};e.default=C},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(1)),a=i(n(3)),s=function(t){this.options=r.default.extend({debug:!1,history:100},t||{}),this.queue=[],this.isOnline=!0},u="pending";s.prototype=r.default.extend(a.default.Events,{push:function(t){if(!this.isOnline)throw new Error("Queue is Offline");var e=new o.default.Deferred,n={_c:t,_d:e,_t:new Date};return this.options.debug&&(console.debug("COMMAND PUSHED: "+t.label),e.done((function(){console.debug("COMMAND DONE: "+t.label)})),e.fail((function(){console.debug("COMMAND FAILED: "+t.label)}))),this.queue.push(n),this.trigger("add",{command:t,promise:e.promise()}),e.always(r.default.bind((function(){this.fireEvents()}),this)),e},fireEvents:function(){this.isOnline&&(this.trigger("complete"),this.isEmpty()&&this.trigger("empty"),this.purge())},isEmpty:function(){return r.default.every(this.queue,(function(t){return t._d.state()!==u}))},getPendingCount:function(){return r.default.reduce(this.queue,(function(t,e){return t+(e._d.state()===u?1:0)}),0)},getCompleteCount:function(){return this.queue.length-this.getPendingCount()},setOffline:function(){this.trigger("offline"),this.isOnline=!1},purge:function(){if(null!==this.options.history&&!(this.queue.length<=this.options.history))for(var t=this.queue.length-this.options.history,e=0;t-- >0;)"resolved"===this.queue[e]._d.state()&&this.queue.splice(e,1),e++},_dump:function(){r.default.each(this.queue,(function(t,e){console.debug(e+".  "+t._d.state()+"  "+JSON.stringify(t._c)+"  "+t._t)}))}}),e.default=new s({debug:!1})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0));e.default={getValidValueForOptions:function(t,e,n){var i=e;if(n){if(n.shouldAdjustValue)if(n.decimalPlaces){var o=Math.pow(10,n.decimalPlaces);i=Math.round(o*(t+e))/o}else i=t+e;!r.default.isNil(n.minValue)&&i<n.minValue&&(i=n.minValue),!r.default.isNil(n.maxValue)&&i>n.maxValue&&(i=n.maxValue)}return i},getValidOpacityValueForOptions:function(t,e,n){return this.getValidValueForOptions(t*n.maxValue,e,n)/n.maxValue},isValidEmail:function(t){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(9)),o=i(n(18)),a=n(101);e.default=o.default.extend({defaults:r.default.AbstractFormModel.defaults,getSupported:function(){return r.default.AbstractFormModel.supported},getSupportedInteractionTriggers:function(){return[a.InteractionModel.TRIGGER_TYPES.SUBMIT]},getDisplayLabel:function(){return"External Form"}})},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},u=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&o(e,t,n);return a(e,t),e},l=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractCustomPathModel=void 0;var c=l(n(0)),d=u(n(17)),h=l(n(44)),f=l(n(18)),p=l(n(9)),g=n(450),m=n(34),v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isDrawingALineFromEndpoint=!0,e.MINIMUM_WIDTH=1,e.MINIMUM_HEIGHT=1,e}var n;return r(e,t),n=e,e.prototype.addEdgePointAsPathPoint=function(t){if(null===t)return 0;var e=this.get("path").slice(),n=t.index;return e.splice(n,0,g.CustomPathUtils.convertEdgePointToPath(t)),this.set({path:e}),n},e.prototype.initialize=function(e,n){t.prototype.initialize.call(this,e,n)},e.prototype.isResizable=function(){return!0},e.prototype.mustBeConstrained=function(){return!0},e.prototype.findClosestEndpoint=function(t){for(var e=Number.MAX_VALUE,n=0,i=this.get("path"),r=0;r<i.length;r++){var o=d.distance(i[r],t);o<e&&(n=r,e=o)}return n},e.prototype.addPoint=function(t){var e,n=this.get("path").slice(),i={x:Math.round(t.x),y:Math.round(t.y)};return this.isDrawingALineFromEndpoint?(n.push(i),e=n.length-1):(n.unshift(i),e=0),this.set({path:n}),e},e.prototype.addPointToPath=function(t,e){return t.push({x:e.x,y:e.y}),t},e.prototype.updateControlPointsForNewEndpoint=function(t){var e=this.get("path").slice(),n=this.getPreviewSegmentStartingPointIndex(e),i=e[n].x,r=e[n].y,o=t.x-i,a=t.y-r;e[n]=this.getUpdatedControlPointForNewEndpoint(e[n],i,r,o,a),this.set({path:e})},e.prototype.getUpdatedControlPointForNewEndpoint=function(t,e,n,i,r){return this.isDrawingALineFromEndpoint?(t.cx1=e-i,t.cy1=n-r,t.cx2=e+i,t.cy2=n+r):(t.cx1=e+i,t.cy1=n+r,t.cx2=e-i,t.cy2=n-r),t},e.prototype.getPreviewSegmentStartingPointIndex=function(t){return this.isDrawingALineFromEndpoint?t.length-1:0},e.prototype.getPreviewSegmentEndingPointIndex=function(t){return this.isDrawingALineFromEndpoint?0:t.length-1},e.prototype.moveEndpoint=function(t){var e=t.getWhichPoint(),n=t.getEndPoint().x-t.getStartPoint().x,i=t.getEndPoint().y-t.getStartPoint().y,r=t.getPath(),o=c.default.cloneDeep(r);o[e].x=Math.round(r[e].x+n),o[e].y=Math.round(r[e].y+i),g.CustomPathUtils.hasControlPoints(r[e])&&(o[e].cx1=Math.round((r[e].cx1||0)+n),o[e].cy1=Math.round((r[e].cy1||0)+i),o[e].cx2=Math.round((r[e].cx2||0)+n),o[e].cy2=Math.round((r[e].cy2||0)+i)),this.set({path:o})},e.prototype.moveControlPoint=function(t){var e=t.getEndPoint().x-t.getStartPoint().x,n=t.getEndPoint().y-t.getStartPoint().y,i=t.getWhichPoint(),r=t.getWhichControlPoint(),o="cx"+r,a="cy"+r,s=t.getPath(),u=c.default.cloneDeep(s);if(g.CustomPathUtils.hasControlPoints(s[i])){var l=s[i][o]||0,h=s[i][a]||0;if(u[i][o]=Math.round(l+e),u[i][a]=Math.round(h+n),t.shouldMoveBothControlPoints()){var f={x1:s[i].x,y1:s[i].y,x2:s[i][o]||0,y2:s[i][a]||0},p=d.lineLength(f),m={x1:u[i].x,y1:u[i].y,x2:u[i][o]||0,y2:u[i][a]||0},v=d.lineLength(m),y=Math.angleBetweenLines(f,m),_=1==r?2:1,b="cx"+_,T="cy"+_,S=Math.rotateCoord(s[i][b]||0,s[i][T]||0,s[i].x,s[i].y,-1*y);u[i][b]=S.x,u[i][T]=S.y;var w={x1:u[i].x,y1:u[i].y,x2:u[i][b]||0,y2:u[i][T]||0},E=d.lineLength(w),C=v-p;u[i][b]=Math.round(u[i][b]||+C*(u[i][b]||0-s[i].x)/E),u[i][T]=Math.round(u[i][T]||+C*(u[i][T]||0-s[i].y)/E)}}this.set({path:u})},e.prototype.removeSelectedEndpoint=function(t,e){var n=this.get("path").slice();return n.length-1<=1?(e.removeLayers([this]),!1):(n.splice(t,1),this.set({path:n}),this.calculateAndSaveExtents(),!0)},e.prototype.toggleControlPointsForEndpoint=function(t){var e=this.get("path").slice(),n=(e=c.default.cloneDeep(e))[t];g.CustomPathUtils.hasControlPoints(e[t])?(n.oldCx1=n.cx1,n.oldCx2=n.cx2,n.oldCy1=n.cy1,n.oldCy2=n.cy2,delete n.cx1,delete n.cx2,delete n.cy1,delete n.cy2):n.oldCx1?(n.cx1=n.oldCx1,n.cx2=n.oldCx2,n.cy1=n.oldCy1,n.cy2=n.oldCy2):(n.cx1=n.x-h.default.CUSTOM_PATH_DEFAULT_DISTANCE_FOR_NEW_CONTROL_POINT,n.cx2=n.x+h.default.CUSTOM_PATH_DEFAULT_DISTANCE_FOR_NEW_CONTROL_POINT,n.cy1=n.y-h.default.CUSTOM_PATH_DEFAULT_DISTANCE_FOR_NEW_CONTROL_POINT,n.cy2=n.y+h.default.CUSTOM_PATH_DEFAULT_DISTANCE_FOR_NEW_CONTROL_POINT),this.set({path:e})},e.prototype.calculateAndSaveExtents=function(t){void 0===t&&(t=c.default.cloneDeep(this.get("path"))),this.updateExtents(this.get("x"),this.get("y"),t),this.save()},e.prototype.updateExtents=function(t,e,i,r){var o=n.calculateExtents(t,e,i),a={x:o.x,y:o.y,width:o.width,height:o.height,path:o.path};this.set(a,{silent:r})},e.prototype.transformPositionFromPageCoordinateSpaceMaintainingPositionAndOrientation=function(t){var e=this,n=this.getTopLeft(),i=this.transformPointFromRotatedPageCoordinateSpace(n,t);this.get("path").forEach((function(r){var o=e.transformPointFromRotatedPageCoordinateSpace(d.Point.sum(n,new d.Point(r.x,r.y)),t);if(r.x=o.x-i.x,r.y=o.y-i.y,!c.default.isUndefined(r.cx1)&&!c.default.isUndefined(r.cy1)){var a=d.Point.sum(n,new d.Point(r.cx1,r.cy1)),s=e.transformPointFromRotatedPageCoordinateSpace(a,t);r.cx1=s.x-i.x,r.cy1=s.y-i.y}if(!c.default.isUndefined(r.cx2)&&!c.default.isUndefined(r.cy2)){var u=d.Point.sum(n,new d.Point(r.cx2,r.cy2)),l=e.transformPointFromRotatedPageCoordinateSpace(u,t);r.cx2=l.x-i.x,r.cy2=l.y-i.y}}));this.updateExtents(i.x,i.y,this.get("path"),!0)},e.prototype.toPageCoordinateSpaceJsonMaintainingPositionAndOrientation=function(){var t=this.getAllParents(),e=this.reconcileJSONForCurrentVariant(!0),i=this.transformPointToRotatedPageCoordinateSpace(this.getTopLeft(),t);e.x=i.x,e.y=i.y;for(var r=e.path,o=0;o<r.length;o++){var a=r[o],s=this.transformPointToRotatedPageCoordinateSpace(d.Point.sum(this.getTopLeft(),new d.Point(a.x,a.y)),t);if(a.x=s.x-i.x,a.y=s.y-i.y,!c.default.isUndefined(a.cx1)&&!c.default.isUndefined(a.cy1)){var u=this.transformPointToRotatedPageCoordinateSpace(d.Point.sum(this.getTopLeft(),new d.Point(a.cx1,a.cy1)),t);a.cx1=u.x-i.x,a.cy1=u.y-i.y}if(!c.default.isUndefined(a.cx2)&&!c.default.isUndefined(a.cy2)){var l=this.transformPointToRotatedPageCoordinateSpace(d.Point.sum(this.getTopLeft(),new d.Point(a.cx2,a.cy2)),t);a.cx2=l.x-i.x,a.cy2=l.y-i.y}}var h=n.calculateExtents(e.x,e.y,r);return e.x=h.x,e.y=h.y,e.width=h.width,e.height=h.height,e.path=h.path,e},e.prototype.roundTransformableAttributes=function(){f.default.prototype.roundTransformableAttributes.call(this);var t=[];this.get("path").forEach((function(e){t.push(c.default.mapValues(e,Math.round))})),this.set("path",t)},e.prototype.resizeAttributes=function(t,e){e=e||t;var n=c.default.cloneDeep(this.get("path"));n.forEach((function(n){n.x=n.x*t,n.y=n.y*e,g.CustomPathUtils.hasControlPoints(n)&&(n.cx1=n.cx1*t,n.cy1=n.cy1*e,n.cx2=n.cx2*t,n.cy2=n.cy2*e)})),this.set("path",n)},e.calculateExtents=function(t,e,n){for(var i=g.CustomPathUtils.calculateBoundingBox(t,e,n),r=-1*Math.round(i.minX-t),o=-1*Math.round(i.minY-e),a=c.default.cloneDeep(n),s=0;s<a.length;s++)a[s].x+=r,a[s].y+=o,c.default.isUndefined(a[s].cx1)||(a[s].cx1=(a[s].cx1||0)+r),c.default.isUndefined(a[s].cy1)||(a[s].cy1=(a[s].cy1||0)+o),c.default.isUndefined(a[s].cx2)||(a[s].cx2=(a[s].cx2||0)+r),c.default.isUndefined(a[s].cy2)||(a[s].cy2=(a[s].cy2||0)+o);return{x:Math.round(i.minX),y:Math.round(i.minY),width:Math.round(i.maxX-i.minX),height:Math.round(i.maxY-i.minY),path:a}},e.prototype.setWidthWhileMaintainingCanvasLeft=function(t,e,n){var i=this.get("width"),r=t*(this.get("height")/i);this.setDimensionsWhileMaintainingCanvasTopLeft(t,r,n)},e.prototype.setHeightWhileMaintainingCanvasTop=function(t,e,n){var i=t*(this.get("width")/this.get("height"));this.setDimensionsWhileMaintainingCanvasTopLeft(i,t,n)},e.prototype.setDimensionsWhileMaintainingCanvasTopLeft=function(e,n,i){e>this.MINIMUM_WIDTH&&n>this.MINIMUM_HEIGHT&&(this.resizeAttributes(e/this.get("width"),n/this.get("height")),t.prototype.setDimensionsWhileMaintainingCanvasTopLeft.call(this,Math.round(e),Math.round(n),i),this.updateExtents(this.get("x"),this.get("y"),this.get("path")))},e.prototype.getObjectStateSupportedProperties=function(){return p.default.CustomShapeModel.objectStateSupportedProperties},e=n=s([m.BackboneShim({objectStatesEnabled:!0})],e)}(f.default);e.AbstractCustomPathModel=v},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.UploadedFontAPI=void 0;var a=o(n(0)),s=o(n(1)),u=o(n(2)),l=n(45),c=n(46),d=n(104),h=n(21),f=o(n(8)),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ID=h.FontConstants.UPLOADED_API_ID,e.FONTLOADER_KEY="custom",e.FONT_URL="/rest/v1/account/"+u.default.accountSlug+"/font-upload",e}return r(e,t),e.prototype.parseResults=function(t){return this.createFontCollection(t)},e.prototype.buildWebLoaderObjectForFamilies=function(t){var e=this,n=[],i="",r=[];return a.default.each(t.getFontFamilies(),(function(t,o){t.api===e.ID&&(""!==i&&(i+=","),i+=t.getGuid(),a.default.each(t.variants,(function(t){t.cssFamilyName&&n.push(t.cssFamilyName)})),(o+1)%20==0&&(r.push(f.default.appendQueryParams(e.FONT_URL+"/css",{family:i})),i=""))})),i&&r.push(f.default.appendQueryParams(this.FONT_URL+"/css",{family:i})),{families:n,urls:r}},e.prototype.loadFamiliesByFamilyGuids=function(t,e){var n,i=this,r=new c.FontCollection;return 0===(n=e?t:a.default.filter(t,(function(t){var e=i.fontCollection.getFontFamilyByFamilyGuid(t);return!e||(r.add(e),!1)}))).length?s.default.Deferred().resolve(r):s.default.post(this.FONT_URL,{familyGuids:n}).then((function(t){var e=i.createFontCollection(t);return i.fontCollection.add(e),r.add(e),r}))},e.prototype.loadFamiliesByVariantGuids=function(t,e){var n,i=this,r=new c.FontCollection;return 0===(n=e?t:a.default.filter(t,(function(t){var e=i.fontCollection.getFontFamilyByVariantGuid(t);return!e||(r.add(e),!1)}))).length?s.default.Deferred().resolve(r):s.default.post(this.FONT_URL,{variantGuids:n}).then((function(t){var e=i.createFontCollection(t);return i.fontCollection.add(e),r.add(e),r}))},e.prototype.createFontCollection=function(t){var e=this,n=new c.FontCollection;return a.default.each(t,(function(t){var i=n.getFontFamilyByFamilyGuid(t.guid);i||(i=e.createFamily(t.familyName,t.guid,t.crossAccount)),a.default.each(t.variants,(function(t){e.addVariant(i,t)})),i.sortVariantsByName(),n.addFontFamily(i)})),n},e.prototype.createFamily=function(t,e,n){return new l.FontFamily({api:this.ID,family:t,category:this.ID,guid:e,crossAccount:n})},e.prototype.addVariant=function(t,e){return t.addVariant(e.variantName,{familyName:t.family,fontWeight:h.FontConstants.DEFAULT_FONT_WEIGHT,fontStyle:h.FontConstants.DEFAULT_FONT_STYLE,guid:e.guid,metricsUrl:e.metricsFileURL,cssFamilyName:e.cssFamilyName})},e}(d.AbstractFontAPI);e.UploadedFontAPI=p},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1));n(205),n(105),n(206),n(210),n(211),n(214),n(215);var o=i(n(216));n(492),r.default((function(){o.default.run()}))},function(t,e,n){"use strict";(function(t){Math.toRad=function(t){return t*(Math.PI/180)},Math.toDeg=function(t){return t*(180/Math.PI)},Math.format=function(t,e){return Math.round(t*Math.pow(10,e))/Math.pow(10,e)},Math.dot=function(t,e,n,i){return t*n+e*i},Math.hit=function(t,e,n,i,r,o,a){return a?t>=n-r/2&&t<=n-r/2+r&&e>=i-o/2&&e<=i-o/2+o:t>=n&&t<=n+r&&e>=i&&e<=i+o},Math.boxhit=function(t,e,n,i,r,o,a,s){return!(t+n<r)&&(!(t>r+a)&&(!(e+i<o)&&!(e>o+s)))},Math.clamp=function(t,e,n){return t<e?e:t>n?n:t},Math.rotateCoord=function(t,e,n,i,r){3===arguments.length&&(t=arguments[0].getX(),e=arguments[0].getY(),n=arguments[1].getX(),i=arguments[1].getY(),r=arguments[2]);var o=t-n,a=e-i;return t=Math.cos(r)*o+Math.sin(r)*a,e=-Math.sin(r)*o+Math.cos(r)*a,t+=n,e+=i,new window.CerosMath.Point(t,e)},Math.oneRotatedBoxHit=function(t,e,n,i,r,o,a,s,u){var l=t+n/2,c=e+i/2;r*=-1;var d=Math.rotateCoord(t,e,l,c,r),h=d.x,f=d.y,p=(d=Math.rotateCoord(t+n,e,l,c,r)).x,g=d.y,m=(d=Math.rotateCoord(t,e+i,l,c,r)).x,v=d.y,y=(d=Math.rotateCoord(t+n,e+i,l,c,r)).x,_=d.y,b=o,T=o+s,S=a,w=a+u;if(h<b&&p<b&&m<b&&y<b)return!1;if(h>T&&p>T&&m>T&&y>T)return!1;if(f<S&&g<S&&v<S&&_<S)return!1;if(f>w&&g>w&&v>w&&_>w)return!1;var E=-1*(g-f),C=p-h,O=Math.dot(E,C,b-h,S-f),A=Math.dot(E,C,T-h,S-f),P=Math.dot(E,C,b-h,w-f),I=Math.dot(E,C,T-h,w-f);return!(O<=0&&A<=0&&P<=0&&I<=0)&&(E=-1*(_-g),C=y-p,O=Math.dot(E,C,b-p,S-g),A=Math.dot(E,C,T-p,S-g),P=Math.dot(E,C,b-p,w-g),I=Math.dot(E,C,T-p,w-g),!(O<=0&&A<=0&&P<=0&&I<=0)&&(E=-1*(v-_),C=m-y,O=Math.dot(E,C,b-y,S-_),A=Math.dot(E,C,T-y,S-_),P=Math.dot(E,C,b-y,w-_),I=Math.dot(E,C,T-y,w-_),!(O<=0&&A<=0&&P<=0&&I<=0)&&(E=-1*(f-v),C=h-m,O=Math.dot(E,C,b-m,S-v),A=Math.dot(E,C,T-m,S-v),P=Math.dot(E,C,b-m,w-v),I=Math.dot(E,C,T-m,w-v),!(O<=0&&A<=0&&P<=0&&I<=0))))},Math.angleBetweenLines=function(t,e){var n={x:t.x2-t.x1,y:t.y2-t.y1},i={x:e.x2-e.x1,y:e.y2-e.y1},r=Math.dot(n.x,n.y,i.x,i.y),o=n.x*i.y-n.y*i.x;return Math.atan2(o,r)},t.Math=Math}).call(this,n(33))},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0));n(208),n(209),function(){for(var t=0,e=["ms","moz","webkit","o"],n=0;n<e.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[e[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[n]+"CancelAnimationFrame"]||window[e[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e,n){var i=(new Date).getTime(),r=Math.max(0,16-(i-t)),o=window.setTimeout((function(){e(i+r)}),r);return t=i+r,o}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}(),"undefined"==typeof console&&(window.console={log:function(){},warn:function(){},error:function(){},info:function(){},debug:function(){}}),Math.toRad=function(t){return t*(Math.PI/180)},Math.toDeg=function(t){return t*(180/Math.PI)},Math.format=function(t,e){return Math.round(t*Math.pow(10,e))/Math.pow(10,e)},Math.hit=function(t,e,n,i,r,o,a){return a?t>=n-r/2&&t<=n-r/2+r&&e>=i-o/2&&e<=i-o/2+o:t>=n&&t<=n+r&&e>=i&&e<=i+o},Math.boxhit=function(t,e,n,i,r,o,a,s){return(t>=r&&t<=r+a||t+n>=r&&t+n<=r+a)&&(e>=o&&e<=o+s||e+i>=o&&e+i<=o+s)},Math.clamp=function(t,e,n){return t<e?e:t>n?n:t},Math.rotateCoord=function(t,e,n,i,r){var o=t-n,a=e-i;return t=Math.cos(r)*o+Math.sin(r)*a,e=-Math.sin(r)*o+Math.cos(r)*a,{x:t+=n,y:e+=i}},Math.pointInPoly=function(t,e,n){var i,r,o=!1,a=t.length;for(i=0,r=a-1;i<a;r=i++)t[i].y>n!=t[r].y>n&&e<(t[r].x-t[i].x)*(n-t[i].y)/(t[r].y-t[i].y)+t[i].x&&(o=!o);return o},Object.create||(Object.create=function(t,e){if("object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object prototype may only be an Object: "+t);if(null===t)throw new Error("This browser's implementation of Object.create is a shim and doesn't support 'null' as the first argument.");if(void 0!==e)throw new Error("This browser's implementation of Object.create is a shim and doesn't support a second argument.");function n(){}return n.prototype=t,new n}),!r.default.omitBy&&r.default.omit&&(r.default.omitBy=r.default.omit)},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";
/*!
 * jQuery-ajaxTransport-XDomainRequest - v1.0.4 - 2015-03-05
 * https://github.com/MoonScript/jQuery-ajaxTransport-XDomainRequest
 * Copyright (c) 2015 Jason Moon (@JSONMOON)
 * Licensed MIT (/blob/master/LICENSE.txt)
 */var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1)),o=!0;if(!r.default.support.cors&&r.default.ajaxTransport&&window.XDomainRequest||(o=!1),o){var a=/^(https?:)?\/\//i,s=/^get|post$/i,u=new RegExp("^(//|"+location.protocol+")","i");r.default.ajaxTransport("* text html xml json",(function(t,e,n){if(t.crossDomain&&t.async&&s.test(t.type)&&a.test(t.url)&&u.test(t.url)){var i=null;return{send:function(n,o){var a="",s=(e.dataType||"").toLowerCase();i=new XDomainRequest,/^\d+$/.test(e.timeout)&&(i.timeout=e.timeout),i.ontimeout=function(){o(500,"timeout")},i.onload=function(){var t="Content-Length: "+i.responseText.length+"\r\nContent-Type: "+i.contentType,e={code:200,message:"success"},n={text:i.responseText};try{if("html"===s||/text\/html/i.test(i.contentType))n.html=i.responseText;else if("json"===s||"text"!==s&&/\/json/i.test(i.contentType))try{n.json=JSON.parse(i.responseText)}catch(t){e.code=500,e.message="parseerror"}else if("xml"===s||"text"!==s&&/\/xml/i.test(i.contentType)){var r=new ActiveXObject("Microsoft.XMLDOM");r.async=!1;try{r.loadXML(i.responseText)}catch(t){r=void 0}if(!r||!r.documentElement||r.getElementsByTagName("parsererror").length)throw e.code=500,e.message="parseerror","Invalid XML: "+i.responseText;n.xml=r}}catch(t){throw t}finally{o(e.code,e.message,n,t)}},i.onprogress=function(){},i.onerror=function(){o(500,"error",{text:i.responseText})},e.data&&(a="string"===r.default.type(e.data)?e.data:r.default.param(e.data)),i.open(t.type,t.url),i.send(a)},abort:function(){i&&i.abort()}}}}))}e.default=r.default},function(t,e,n){"use strict";var i,r;r=e,void 0===(i=function(){!function(t){if(t.atob)try{t.atob(" ")}catch(e){t.atob=function(t){var e=function(e){return t(String(e).replace(/[\t\n\f\r ]+/g,""))};return e.original=t,e}(t.atob)}else{var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/;t.btoa=function(t){for(var n,i,r,o,a="",s=0,u=(t=String(t)).length%3;s<t.length;){if((i=t.charCodeAt(s++))>255||(r=t.charCodeAt(s++))>255||(o=t.charCodeAt(s++))>255)throw new TypeError("Failed to execute 'btoa' on 'Window': The string to be encoded contains characters outside of the Latin1 range.");a+=e.charAt((n=i<<16|r<<8|o)>>18&63)+e.charAt(n>>12&63)+e.charAt(n>>6&63)+e.charAt(63&n)}return u?a.slice(0,u-3)+"===".substring(u):a},t.atob=function(t){if(t=String(t).replace(/[\t\n\f\r ]+/g,""),!n.test(t))throw new TypeError("Failed to execute 'atob' on 'Window': The string to be decoded is not correctly encoded.");t+="==".slice(2-(3&t.length));for(var i,r,o,a="",s=0;s<t.length;)i=e.indexOf(t.charAt(s++))<<18|e.indexOf(t.charAt(s++))<<12|(r=e.indexOf(t.charAt(s++)))<<6|(o=e.indexOf(t.charAt(s++))),a+=64===r?String.fromCharCode(i>>16&255):64===o?String.fromCharCode(i>>16&255,i>>8&255):String.fromCharCode(i>>16&255,i>>8&255,255&i);return a}}}(r)}.apply(e,[]))||(t.exports=i)},function(t,e,n){"use strict";var i,r;i=[n(1)],void 0===(r=function(t){return function(t){void 0!==t.easing&&(t.easing.jswing=t.easing.swing);var e=Math.pow,n=Math.sqrt,i=Math.sin,r=Math.cos,o=Math.PI,a=1.70158,s=1.525*a,u=2*o/3,l=2*o/4.5;function c(t){var e=7.5625,n=2.75;return t<1/n?e*t*t:t<2/n?e*(t-=1.5/n)*t+.75:t<2.5/n?e*(t-=2.25/n)*t+.9375:e*(t-=2.625/n)*t+.984375}t.extend(t.easing,{def:"easeOutQuad",swing:function(e){return t.easing[t.easing.def](e)},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return 1-(1-t)*(1-t)},easeInOutQuad:function(t){return t<.5?2*t*t:1-e(-2*t+2,2)/2},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return 1-e(1-t,3)},easeInOutCubic:function(t){return t<.5?4*t*t*t:1-e(-2*t+2,3)/2},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1-e(1-t,4)},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-e(-2*t+2,4)/2},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1-e(1-t,5)},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1-e(-2*t+2,5)/2},easeInSine:function(t){return 1-r(t*o/2)},easeOutSine:function(t){return i(t*o/2)},easeInOutSine:function(t){return-(r(o*t)-1)/2},easeInExpo:function(t){return 0===t?0:e(2,10*t-10)},easeOutExpo:function(t){return 1===t?1:1-e(2,-10*t)},easeInOutExpo:function(t){return 0===t?0:1===t?1:t<.5?e(2,20*t-10)/2:(2-e(2,-20*t+10))/2},easeInCirc:function(t){return 1-n(1-e(t,2))},easeOutCirc:function(t){return n(1-e(t-1,2))},easeInOutCirc:function(t){return t<.5?(1-n(1-e(2*t,2)))/2:(n(1-e(-2*t+2,2))+1)/2},easeInElastic:function(t){return 0===t?0:1===t?1:-e(2,10*t-10)*i((10*t-10.75)*u)},easeOutElastic:function(t){return 0===t?0:1===t?1:e(2,-10*t)*i((10*t-.75)*u)+1},easeInOutElastic:function(t){return 0===t?0:1===t?1:t<.5?-e(2,20*t-10)*i((20*t-11.125)*l)/2:e(2,-20*t+10)*i((20*t-11.125)*l)/2+1},easeInBack:function(t){return 2.70158*t*t*t-a*t*t},easeOutBack:function(t){return 1+2.70158*e(t-1,3)+a*e(t-1,2)},easeInOutBack:function(t){return t<.5?e(2*t,2)*(7.189819*t-s)/2:(e(2*t-2,2)*((s+1)*(2*t-2)+s)+2)/2},easeInBounce:function(t){return 1-c(1-t)},easeOutBounce:c,easeInOutBounce:function(t){return t<.5?(1-c(1-2*t))/2:(1+c(2*t-1))/2}})}(t)}.apply(e,i))||(t.exports=r)},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1)),o=i(n(0)),a=i(n(4)),s="backgroundImage",u=document.createElement("div"),l=u.style,c=/^(.*?)(:?linear-gradient)(\()([0-9]+)deg,([^,]+) ([0-9]+)%,([^,]+) ([0-9]+)%(\))(.*?)$/i;if(l.cssText="background-image: linear-gradient(red, blue);",r.default.support.linearGradient=!!/(^|\s)linear-gradient/.test(l.backgroundImage)&&"linear-gradient",u=l=null,!r.default.support.linearGradient){r.default.cssNumber[s]=!0;r.default.cssHooks[s]={set:function(t,e){var n=c.exec(e);if(o.default.isEmpty(n))t.style[s]=e;else{n[0];var i=n[4],r=n[5],u=n[6],l=n[7],d=n[8];t.style[s]=function(t,e,n,i,r,o,s){var u="";return a.default.webkit?u="-webkit-":a.default.mozilla&&(u="-moz-"),u+("linear-gradient("+(n=90-parseInt(n,10))+"deg,"+i+" "+r+"%,"+o+" "+s+"%)")}(0,0,i,r,u,l,d)}}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=(i=navigator.userAgent||navigator.vendor||window.opera,/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(i)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(i.substr(0,4)));e.default={isMobile:r}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o="Microsoft Edge",a="mozilla",s="webkit",u="trident",l={browser:function(t){var e,n={name:"unknown",version:"unknown",engine:null,isMsie:function(){return"MSIE"===this.name},isEdge:function(){return o===this.name},msieVersion:function(){return!!this.isMsie()&&Math.floor(this.version)},isWebkit:function(){return s===this.engine},isMozilla:function(){return a===this.engine},isTrident:function(){return u===this.engine}};return(e=t.match(/(PhantomJS)\/([0-9.]*)/))||(e=t.match(/(jsdom)\/([0-9.]*)/))?(n.name=e[1],n.version=e[2],n.engine=s):(e=t.match(/(Edg)\/([0-9.]*)/))?(n.name=o,n.version=e[2],n.engine=s):(e=t.match(/(Firefox)\/([0-9.]*)/))?(n.name=e[1],n.version=e[2],n.engine=a):(e=t.match(/(Chrome|CriOS)\/([0-9.]*)/))?(n.name=e[1],n.version=e[2],n.engine=s):/Safari/.test(t)?(e=t.match(/(Version)\/([0-9.]*)/))&&(n.name=(/Mobile/.test(t)?"Mobile ":"")+"Safari",n.version=e[2],n.engine=s):(e=t.match(/(Silk)\/([0-9.]*)/))?(n.name=e[1],n.version=e[2],n.engine=s):(e=t.match(/(MSIE) ([0-9]+)/))&&(n.name=e[1],n.version=e[2],n.engine=u),r.default.isNull(n.engine)&&t.match(/(webkit)[ \/]([\w.]+)/i)&&(n.engine=s),n}};e.default=l},function(t,e,n){(function(t){!function(e){"use strict";!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){n(1),n(61),n(62),n(63),n(64),n(65),n(66),n(67),n(68),n(69),n(70),n(71),n(72),n(73),n(74),n(75),n(78),n(81),n(83),n(85),n(86),n(87),n(88),n(90),n(91),n(93),n(101),n(102),n(103),n(104),n(112),n(113),n(115),n(116),n(117),n(119),n(120),n(121),n(122),n(123),n(124),n(126),n(127),n(128),n(129),n(135),n(136),n(138),n(139),n(140),n(144),n(145),n(147),n(148),n(150),n(151),n(152),n(153),n(154),n(161),n(163),n(164),n(165),n(167),n(168),n(170),n(171),n(173),n(174),n(175),n(176),n(177),n(178),n(179),n(180),n(181),n(182),n(183),n(186),n(187),n(189),n(191),n(192),n(193),n(194),n(195),n(197),n(199),n(201),n(202),n(204),n(205),n(207),n(208),n(209),n(210),n(212),n(213),n(214),n(215),n(216),n(217),n(218),n(220),n(221),n(222),n(223),n(224),n(225),n(226),n(227),n(228),n(229),n(231),n(232),n(233),n(234),n(243),n(244),n(245),n(246),n(247),n(248),n(249),n(250),n(251),n(252),n(253),n(254),n(255),n(256),n(257),n(258),n(261),n(263),n(264),n(265),n(266),n(268),n(271),n(272),n(273),n(274),n(278),n(279),n(281),n(282),n(283),n(284),n(285),n(286),n(287),n(288),n(290),n(291),n(292),n(295),n(296),n(297),n(298),n(299),n(300),n(301),n(302),n(303),n(304),n(305),n(306),n(307),n(313),n(314),n(315),n(316),n(317),n(318),n(319),n(320),n(321),n(322),n(323),n(324),n(325),n(326),n(327),n(328),n(329),n(330),n(331),n(332),n(333),n(334),n(335),n(336),n(337),n(338),n(339),n(340),n(341),n(342),n(343),n(344),n(345),n(346),n(348),n(349),n(350),n(351),n(352),n(353),n(355),n(357),n(358),n(360),n(361),n(362),n(364),n(365),n(366),n(367),n(368),n(369),n(370),n(371),n(373),n(374),n(375),n(376),n(378),n(379),n(380),n(381),n(382),n(383),n(384),n(385),n(386),n(387),n(388),n(389),n(390),n(392),n(395),n(396),n(397),n(398),n(400),n(401),n(403),n(404),n(405),n(406),n(407),n(408),n(410),n(411),n(412),n(413),n(415),n(416),n(417),n(418),n(419),n(421),n(422),n(423),n(424),n(425),n(426),n(427),n(428),n(429),n(430),n(431),n(432),n(433),n(434),n(435),n(437),n(438),n(439),n(440),n(441),n(442),n(443),n(444),n(445),n(447),n(448),n(449),n(451),n(452),n(453),n(454),n(455),n(456),n(457),n(458),n(459),n(460),n(461),n(462),n(463),n(464),n(465),n(466),n(467),n(468),n(469),n(470),n(471),n(472),n(473),n(474),n(475),n(476),n(477),n(478),n(479),n(480),n(481),n(482),n(484),n(485),n(486),n(487),n(488),n(492),t.exports=n(491)},function(t,e,n){var i=n(2),r=n(3),o=n(23),a=n(5),s=n(45),u=n(6),l=n(15),c=n(46),d=n(14),h=n(20),f=n(47),p=n(9),g=n(13),m=n(8),v=n(48),y=n(50),_=n(36),b=n(52),T=n(43),S=n(4),w=n(19),E=n(7),C=n(18),O=n(21),A=n(22),P=n(29),I=n(31),x=n(30),M=n(53),k=n(54),D=n(55),R=n(56),N=n(27),L=n(57).forEach,F=P("hidden"),V=M("toPrimitive"),j=N.set,U=N.getterFor("Symbol"),B=Object.prototype,H=r.Symbol,G=r.JSON,W=G&&G.stringify,z=S.f,$=w.f,Y=b.f,q=E.f,X=A("symbols"),K=A("op-symbols"),Z=A("string-to-symbol-registry"),J=A("symbol-to-string-registry"),Q=A("wks"),tt=r.QObject,et=!tt||!tt.prototype||!tt.prototype.findChild,nt=a&&u((function(){return 7!=v($({},"a",{get:function(){return $(this,"a",{value:7}).a}})).a}))?function(t,e,n){var i=z(B,e);i&&delete B[e],$(t,e,n),i&&t!==B&&$(B,e,i)}:$,it=function(t,e){var n=X[t]=v(H.prototype);return j(n,{type:"Symbol",tag:t,description:e}),a||(n.description=e),n},rt=s&&"symbol"==typeof H.iterator?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof H},ot=function(t,e,n){t===B&&ot(K,e,n),h(t);var i=g(e,!0);return h(n),l(X,i)?(n.enumerable?(l(t,F)&&t[F][i]&&(t[F][i]=!1),n=v(n,{enumerable:m(0,!1)})):(l(t,F)||$(t,F,m(1,{})),t[F][i]=!0),nt(t,i,n)):$(t,i,n)},at=function(t,e){h(t);var n=p(e),i=y(n).concat(ct(n));return L(i,(function(e){a&&!st.call(n,e)||ot(t,e,n[e])})),t},st=function(t){var e=g(t,!0),n=q.call(this,e);return!(this===B&&l(X,e)&&!l(K,e))&&(!(n||!l(this,e)||!l(X,e)||l(this,F)&&this[F][e])||n)},ut=function(t,e){var n=p(t),i=g(e,!0);if(n!==B||!l(X,i)||l(K,i)){var r=z(n,i);return!r||!l(X,i)||l(n,F)&&n[F][i]||(r.enumerable=!0),r}},lt=function(t){var e=Y(p(t)),n=[];return L(e,(function(t){l(X,t)||l(I,t)||n.push(t)})),n},ct=function(t){var e=t===B,n=Y(e?K:p(t)),i=[];return L(n,(function(t){!l(X,t)||e&&!l(B,t)||i.push(X[t])})),i};s||(O((H=function(){if(this instanceof H)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=x(t),n=function(t){this===B&&n.call(K,t),l(this,F)&&l(this[F],e)&&(this[F][e]=!1),nt(this,e,m(1,t))};return a&&et&&nt(B,e,{configurable:!0,set:n}),it(e,t)}).prototype,"toString",(function(){return U(this).tag})),E.f=st,w.f=ot,S.f=ut,_.f=b.f=lt,T.f=ct,a&&($(H.prototype,"description",{configurable:!0,get:function(){return U(this).description}}),o||O(B,"propertyIsEnumerable",st,{unsafe:!0})),k.f=function(t){return it(M(t),t)}),i({global:!0,wrap:!0,forced:!s,sham:!s},{Symbol:H}),L(y(Q),(function(t){D(t)})),i({target:"Symbol",stat:!0,forced:!s},{for:function(t){var e=String(t);if(l(Z,e))return Z[e];var n=H(e);return Z[e]=n,J[n]=e,n},keyFor:function(t){if(!rt(t))throw TypeError(t+" is not a symbol");if(l(J,t))return J[t]},useSetter:function(){et=!0},useSimple:function(){et=!1}}),i({target:"Object",stat:!0,forced:!s,sham:!a},{create:function(t,e){return void 0===e?v(t):at(v(t),e)},defineProperty:ot,defineProperties:at,getOwnPropertyDescriptor:ut}),i({target:"Object",stat:!0,forced:!s},{getOwnPropertyNames:lt,getOwnPropertySymbols:ct}),i({target:"Object",stat:!0,forced:u((function(){T.f(1)}))},{getOwnPropertySymbols:function(t){return T.f(f(t))}}),G&&i({target:"JSON",stat:!0,forced:!s||u((function(){var t=H();return"[null]"!=W([t])||"{}"!=W({a:t})||"{}"!=W(Object(t))}))},{stringify:function(t){for(var e,n,i=[t],r=1;arguments.length>r;)i.push(arguments[r++]);if(n=e=i[1],(d(e)||void 0!==t)&&!rt(t))return c(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!rt(e))return e}),i[1]=e,W.apply(G,i)}}),H.prototype[V]||C(H.prototype,V,H.prototype.valueOf),R(H,"Symbol"),I[F]=!0},function(t,e,n){var i=n(3),r=n(4).f,o=n(18),a=n(21),s=n(25),u=n(32),l=n(44);t.exports=function(t,e){var n,c,d,h,f,p=t.target,g=t.global,m=t.stat;if(n=g?i:m?i[p]||s(p,{}):(i[p]||{}).prototype)for(c in e){if(h=e[c],d=t.noTargetGet?(f=r(n,c))&&f.value:n[c],!l(g?c:p+(m?".":"#")+c,t.forced)&&void 0!==d){if(typeof h==typeof d)continue;u(h,d)}(t.sham||d&&d.sham)&&o(h,"sham",!0),a(n,c,h,t)}}},function(e,n){var i=function(t){return t&&t.Math==Math&&t};e.exports=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof t&&t)||Function("return this")()},function(t,e,n){var i=n(5),r=n(7),o=n(8),a=n(9),s=n(13),u=n(15),l=n(16),c=Object.getOwnPropertyDescriptor;e.f=i?c:function(t,e){if(t=a(t),e=s(e,!0),l)try{return c(t,e)}catch(t){}if(u(t,e))return o(!r.f.call(t,e),t[e])}},function(t,e,n){var i=n(6);t.exports=!i((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var i={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,o=r&&!i.call({1:2},1);e.f=o?function(t){var e=r(this,t);return!!e&&e.enumerable}:i},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var i=n(10),r=n(12);t.exports=function(t){return i(r(t))}},function(t,e,n){var i=n(6),r=n(11),o="".split;t.exports=i((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==r(t)?o.call(t,""):Object(t)}:Object},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},function(t,e,n){var i=n(14);t.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var i=n(5),r=n(6),o=n(17);t.exports=!i&&!r((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},function(t,e,n){var i=n(3),r=n(14),o=i.document,a=r(o)&&r(o.createElement);t.exports=function(t){return a?o.createElement(t):{}}},function(t,e,n){var i=n(5),r=n(19),o=n(8);t.exports=i?function(t,e,n){return r.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var i=n(5),r=n(16),o=n(20),a=n(13),s=Object.defineProperty;e.f=i?s:function(t,e,n){if(o(t),e=a(e,!0),o(n),r)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var i=n(14);t.exports=function(t){if(!i(t))throw TypeError(String(t)+" is not an object");return t}},function(t,e,n){var i=n(3),r=n(22),o=n(18),a=n(15),s=n(25),u=n(26),l=n(27),c=l.get,d=l.enforce,h=String(u).split("toString");r("inspectSource",(function(t){return u.call(t)})),(t.exports=function(t,e,n,r){var u=!!r&&!!r.unsafe,l=!!r&&!!r.enumerable,c=!!r&&!!r.noTargetGet;"function"==typeof n&&("string"!=typeof e||a(n,"name")||o(n,"name",e),d(n).source=h.join("string"==typeof e?e:"")),t!==i?(u?!c&&t[e]&&(l=!0):delete t[e],l?t[e]=n:o(t,e,n)):l?t[e]=n:s(e,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&c(this).source||u.call(this)}))},function(t,e,n){var i=n(23),r=n(24);(t.exports=function(t,e){return r[t]||(r[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.3.3",mode:i?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(t,e){t.exports=!1},function(t,e,n){var i=n(3),r=n(25),o=i["__core-js_shared__"]||r("__core-js_shared__",{});t.exports=o},function(t,e,n){var i=n(3),r=n(18);t.exports=function(t,e){try{r(i,t,e)}catch(n){i[t]=e}return e}},function(t,e,n){var i=n(22);t.exports=i("native-function-to-string",Function.toString)},function(t,e,n){var i,r,o,a=n(28),s=n(3),u=n(14),l=n(18),c=n(15),d=n(29),h=n(31),f=s.WeakMap;if(a){var p=new f,g=p.get,m=p.has,v=p.set;i=function(t,e){return v.call(p,t,e),e},r=function(t){return g.call(p,t)||{}},o=function(t){return m.call(p,t)}}else{var y=d("state");h[y]=!0,i=function(t,e){return l(t,y,e),e},r=function(t){return c(t,y)?t[y]:{}},o=function(t){return c(t,y)}}t.exports={set:i,get:r,has:o,enforce:function(t){return o(t)?r(t):i(t,{})},getterFor:function(t){return function(e){var n;if(!u(e)||(n=r(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}}},function(t,e,n){var i=n(3),r=n(26),o=i.WeakMap;t.exports="function"==typeof o&&/native code/.test(r.call(o))},function(t,e,n){var i=n(22),r=n(30),o=i("keys");t.exports=function(t){return o[t]||(o[t]=r(t))}},function(t,e){var n=0,i=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++n+i).toString(36)}},function(t,e){t.exports={}},function(t,e,n){var i=n(15),r=n(33),o=n(4),a=n(19);t.exports=function(t,e){for(var n=r(e),s=a.f,u=o.f,l=0;l<n.length;l++){var c=n[l];i(t,c)||s(t,c,u(e,c))}}},function(t,e,n){var i=n(34),r=n(36),o=n(43),a=n(20);t.exports=i("Reflect","ownKeys")||function(t){var e=r.f(a(t)),n=o.f;return n?e.concat(n(t)):e}},function(t,e,n){var i=n(35),r=n(3),o=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?o(i[t])||o(r[t]):i[t]&&i[t][e]||r[t]&&r[t][e]}},function(t,e,n){t.exports=n(3)},function(t,e,n){var i=n(37),r=n(42).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,r)}},function(t,e,n){var i=n(15),r=n(9),o=n(38).indexOf,a=n(31);t.exports=function(t,e){var n,s=r(t),u=0,l=[];for(n in s)!i(a,n)&&i(s,n)&&l.push(n);for(;e.length>u;)i(s,n=e[u++])&&(~o(l,n)||l.push(n));return l}},function(t,e,n){var i=n(9),r=n(39),o=n(41),a=function(t){return function(e,n,a){var s,u=i(e),l=r(u.length),c=o(a,l);if(t&&n!=n){for(;l>c;)if((s=u[c++])!=s)return!0}else for(;l>c;c++)if((t||c in u)&&u[c]===n)return t||c||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},function(t,e,n){var i=n(40),r=Math.min;t.exports=function(t){return t>0?r(i(t),9007199254740991):0}},function(t,e){var n=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?i:n)(t)}},function(t,e,n){var i=n(40),r=Math.max,o=Math.min;t.exports=function(t,e){var n=i(t);return n<0?r(n+e,0):o(n,e)}},function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var i=n(6),r=/#|\.prototype\./,o=function(t,e){var n=s[a(t)];return n==l||n!=u&&("function"==typeof e?i(e):!!e)},a=o.normalize=function(t){return String(t).replace(r,".").toLowerCase()},s=o.data={},u=o.NATIVE="N",l=o.POLYFILL="P";t.exports=o},function(t,e,n){var i=n(6);t.exports=!!Object.getOwnPropertySymbols&&!i((function(){return!String(Symbol())}))},function(t,e,n){var i=n(11);t.exports=Array.isArray||function(t){return"Array"==i(t)}},function(t,e,n){var i=n(12);t.exports=function(t){return Object(i(t))}},function(t,e,n){var i=n(20),r=n(49),o=n(42),a=n(31),s=n(51),u=n(17),l=n(29)("IE_PROTO"),c=function(){},d=function(){var t,e=u("iframe"),n=o.length;for(e.style.display="none",s.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),d=t.F;n--;)delete d.prototype[o[n]];return d()};t.exports=Object.create||function(t,e){var n;return null!==t?(c.prototype=i(t),n=new c,c.prototype=null,n[l]=t):n=d(),void 0===e?n:r(n,e)},a[l]=!0},function(t,e,n){var i=n(5),r=n(19),o=n(20),a=n(50);t.exports=i?Object.defineProperties:function(t,e){o(t);for(var n,i=a(e),s=i.length,u=0;s>u;)r.f(t,n=i[u++],e[n]);return t}},function(t,e,n){var i=n(37),r=n(42);t.exports=Object.keys||function(t){return i(t,r)}},function(t,e,n){var i=n(34);t.exports=i("document","documentElement")},function(t,e,n){var i=n(9),r=n(36).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"[object Window]"==o.call(t)?function(t){try{return r(t)}catch(t){return a.slice()}}(t):r(i(t))}},function(t,e,n){var i=n(3),r=n(22),o=n(30),a=n(45),s=i.Symbol,u=r("wks");t.exports=function(t){return u[t]||(u[t]=a&&s[t]||(a?s:o)("Symbol."+t))}},function(t,e,n){e.f=n(53)},function(t,e,n){var i=n(35),r=n(15),o=n(54),a=n(19).f;t.exports=function(t){var e=i.Symbol||(i.Symbol={});r(e,t)||a(e,t,{value:o.f(t)})}},function(t,e,n){var i=n(19).f,r=n(15),o=n(53)("toStringTag");t.exports=function(t,e,n){t&&!r(t=n?t:t.prototype,o)&&i(t,o,{configurable:!0,value:e})}},function(t,e,n){var i=n(58),r=n(10),o=n(47),a=n(39),s=n(60),u=[].push,l=function(t){var e=1==t,n=2==t,l=3==t,c=4==t,d=6==t,h=5==t||d;return function(f,p,g,m){for(var v,y,_=o(f),b=r(_),T=i(p,g,3),S=a(b.length),w=0,E=m||s,C=e?E(f,S):n?E(f,0):void 0;S>w;w++)if((h||w in b)&&(y=T(v=b[w],w,_),t))if(e)C[w]=y;else if(y)switch(t){case 3:return!0;case 5:return v;case 6:return w;case 2:u.call(C,v)}else if(c)return!1;return d?-1:l||c?c:C}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6)}},function(t,e,n){var i=n(59);t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},function(t,e,n){var i=n(14),r=n(46),o=n(53)("species");t.exports=function(t,e){var n;return r(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!r(n.prototype)?i(n)&&null===(n=n[o])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)}},function(t,e,n){var i=n(2),r=n(5),o=n(3),a=n(15),s=n(14),u=n(19).f,l=n(32),c=o.Symbol;if(r&&"function"==typeof c&&(!("description"in c.prototype)||void 0!==c().description)){var d={},h=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof h?new c(t):void 0===t?c():c(t);return""===t&&(d[e]=!0),e};l(h,c);var f=h.prototype=c.prototype;f.constructor=h;var p=f.toString,g="Symbol(test)"==String(c("test")),m=/^Symbol\((.*)\)[^)]+$/;u(f,"description",{configurable:!0,get:function(){var t=s(this)?this.valueOf():this,e=p.call(t);if(a(d,t))return"";var n=g?e.slice(7,-1):e.replace(m,"$1");return""===n?void 0:n}}),i({global:!0,forced:!0},{Symbol:h})}},function(t,e,n){n(55)("asyncIterator")},function(t,e,n){n(55)("hasInstance")},function(t,e,n){n(55)("isConcatSpreadable")},function(t,e,n){n(55)("iterator")},function(t,e,n){n(55)("match")},function(t,e,n){n(55)("matchAll")},function(t,e,n){n(55)("replace")},function(t,e,n){n(55)("search")},function(t,e,n){n(55)("species")},function(t,e,n){n(55)("split")},function(t,e,n){n(55)("toPrimitive")},function(t,e,n){n(55)("toStringTag")},function(t,e,n){n(55)("unscopables")},function(t,e,n){var i=n(2),r=n(6),o=n(46),a=n(14),s=n(47),u=n(39),l=n(76),c=n(60),d=n(77),h=n(53)("isConcatSpreadable"),f=!r((function(){var t=[];return t[h]=!1,t.concat()[0]!==t})),p=d("concat"),g=function(t){if(!a(t))return!1;var e=t[h];return void 0!==e?!!e:o(t)};i({target:"Array",proto:!0,forced:!f||!p},{concat:function(t){var e,n,i,r,o,a=s(this),d=c(a,0),h=0;for(e=-1,i=arguments.length;e<i;e++)if(g(o=-1===e?a:arguments[e])){if(h+(r=u(o.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<r;n++,h++)n in o&&l(d,h,o[n])}else{if(h>=9007199254740991)throw TypeError("Maximum allowed index exceeded");l(d,h++,o)}return d.length=h,d}})},function(t,e,n){var i=n(13),r=n(19),o=n(8);t.exports=function(t,e,n){var a=i(e);a in t?r.f(t,a,o(0,n)):t[a]=n}},function(){}