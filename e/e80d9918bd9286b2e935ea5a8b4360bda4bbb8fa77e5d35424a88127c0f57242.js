/**
 * UAParser.js v0.7.17
 * Lightweight JavaScript-based User-Agent string parser
 * https://github.com/faisalman/ua-parser-js
 *
 * Copyright Â© 2012-2016 Faisal Salman <fyzlman@gmail.com>
 * Dual licensed under GPLv2 & MIT
 */

/* axios v0.19.0 | (c) 2019 by Matt Zabriskie */

/*!
	 * Determine if an object is a Buffer
	 *
	 * @author   Feross Aboukhadijeh <https://feross.org>
	 * @license  MIT
	 */

/* ! DOMPurify | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.0.8/LICENSE */


function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach(function(t){_defineProperty(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,s=!1,a=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){s=!0,a=e}finally{try{r||null==i.return||i.return()}finally{if(s)throw a}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach(function(t){_defineProperty(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach(function(t){_defineProperty(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach(function(t){_defineProperty(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach(function(t){_defineProperty(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _extends(){return _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_extends.apply(this,arguments)}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,s=!1,a=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){s=!0,a=e}finally{try{r||null==i.return||i.return()}finally{if(s)throw a}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _extends(){return _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_extends.apply(this,arguments)}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _extends(){return _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_extends.apply(this,arguments)}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _extends(){return _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_extends.apply(this,arguments)}function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach(function(t){_defineProperty(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _extends(){return _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_extends.apply(this,arguments)}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function _extends(){return _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_extends.apply(this,arguments)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _extends(){return _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_extends.apply(this,arguments)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function _toArray(e){return _arrayWithHoles(e)||_iterableToArray(e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _extends(){return _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_extends.apply(this,arguments)}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach(function(t){_defineProperty(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach(function(t){_defineProperty(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function _extends(){return _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_extends.apply(this,arguments)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _extends(){return _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_extends.apply(this,arguments)}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach(function(t){_defineProperty(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach(function(t){_defineProperty(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}define("constants/actionTypes",[],function(){"use strict";return{RESET:"RESET",BATCH_ACTIONS:"BATCH_ACTIONS",REHYDRATE:"REHYDRATE",SET_DEVICE_ID:"SET_DEVICE_ID",SET_ANALYTICS_SESSION_ID:"SET_ANALYTICS_SESSION_ID",SET_ANON_USER_ID:"SET_ANON_USER_ID",SET_CLIENT_CONFIG:"SET_CLIENT_CONFIG",SET_ACTIVE_ISSUE_ID:"SET_ACTIVE_ISSUE_ID",SET_INTERNAL_ISSUE_ID:"SET_INTERNAL_ISSUE_ID",UPDATE_ACTIVE_VIEW:"UPDATE_ACTIVE_VIEW",UPDATE_REPLY_TEXT:"UPDATE_REPLY_TEXT",APPEND_MESSAGES:"APPEND_MESSAGES",PREPEND_MESSAGES:"PREPEND_MESSAGES",REMOVE_MESSAGE:"REMOVE_MESSAGE",TOGGLE_CONVERSATIONS_LOADER:"TOGGLE_CONVERSATIONS_LOADER",SET_ALL_MESSAGES_ARE_LOADED:"SET_ALL_MESSAGES_ARE_LOADED",ATTACHMENT_UPLOAD_FAILED:"ATTACHMENT_UPLOAD_FAILED",SET_ACTIVE_ISSUE_MSG_CURSOR:"SET_ACTIVE_ISSUE_MSG_CURSOR",SET_ACTIVE_FAQ:"SET_ACTIVE_FAQ",SET_CHAT_VIEW_FOOTER:"SET_CHAT_VIEW_FOOTER",DISABLE_REPLY_BOX:"DISABLE_REPLY_BOX",ENABLE_REPLY_BOX:"ENABLE_REPLY_BOX",TOGGLE_SYSTEM_TYPING:"TOGGLE_SYSTEM_TYPING",TOGGLE_AGENT_TYPING:"TOGGLE_AGENT_TYPING",TOGGLE_MINIMIZED:"TOGGLE_MINIMIZED",UPDATE_UNREAD_MESSAGES_DATA:"UPDATE_UNREAD_MESSAGES_DATA",
PAGE_VISIBILITY_CHANGE:"PAGE_VISIBILITY_CHANGE",UPDATE_POLLING_DATA:"UPDATE_POLLING_DATA",MARK_MESSAGES_SEEN_XHR_REQUEST:"MARK_MESSAGES_SEEN_XHR_REQUEST",MARK_MESSAGES_SEEN_XHR_SUCCESS:"MARK_MESSAGES_SEEN_XHR_SUCCESS",MARK_MESSAGES_SEEN_XHR_END:"MARK_MESSAGES_SEEN_XHR_END",UPDATE_ISSUE_STATE:"UDPATE_ISSUE_STATE",UPDATE_ISSUE_TYPE:"UPDATE_ISSUE_TYPE",UPDATE_CSAT_RATING:"UPDATE_CSAT_RATING",UPDATE_CSAT_REVIEW:"UPDATE_CSAT_REVIEW",RESET_CSAT:"RESET_CSAT",SET_INITIAL_USER_MESSAGE:"SET_INITIAL_USER_MESSAGE",INITIAL_USER_MESSAGE_API_TRIGGERED:"INITIAL_USER_MESSAGE_API_TRIGGERED",SET_CONVERSATION_ENDED:"SET_CONVERSATION_ENDED",SET_USER_VIEWING_PAST_MESSAGES:"SET_USER_VIEWING_PAST_MESSAGES",SET_USER_IS_REDACTED:"SET_USER_IS_REDACTED",SET_CIF:"SET_CIF",SET_METADATA:"SET_METADATA",SET_TAGS:"SET_TAGS",REPLACE_CIF:"REPLACE_CIF",SET_BUSINESS_HOURS_CONTACT_FORM_DETAILS:"SET_BUSINESS_HOURS_CONTACT_FORM_DETAILS",SET_LOADING_MORE_MSGS_FAILED:"SET_LOADING_MORE_MSGS_FAILED",SET_BUSINESS_HOURS_FORM_SUBMITTED:"SET_BUSINESS_HOURS_FORM_SUBMITTED",ENABLE_BUSINESS_HOURS_CONTACT_FORM:"ENABLE_BUSINESS_HOURS_CONTACT_FORM",DISABLE_BUSINESS_HOURS_CONTACT_FORM:"DISABLE_BUSINESS_HOURS_CONTACT_FORM",SET_PARENT_PAGE_INFO:"SET_PARENT_PAGE_INFO",ADD_BUSINESS_HOURS_ATTACHMENTS:"ADD_BUSINESS_HOURS_ATTACHMENTS",REMOVE_BUSINESS_HOURS_ATTACHMENT:"REMOVE_BUSINESS_HOURS_ATTACHMENT",SET_BUSINESS_HOURS_ATTACHMENT_ERROR:"SET_BUSINESS_HOURS_ATTACHMENT_ERROR",SET_GREETING_MESSAGE:"SET_GREETING_MESSAGE",SET_LANGUAGE:"SET_LANGUAGE",SET_PROACTIVE_CHAT_RULES:"SET_PROACTIVE_CHAT_RULES",SET_SUGGESTED_FAQ_READ_TRACKED:"SET_SUGGESTED_FAQ_READ_TRACKED",UPDATE_READ_FAQ_LIST:"UPDATE_READ_FAQ_LIST",SET_FOOTER_ACTIVE:"SET_FOOTER_ACTIVE",SET_FOOTER_INACTIVE:"SET_FOOTER_INACTIVE",SET_RESOLUTION_QUESTION_COMPLETED:"SET_RESOLUTION_QUESTION_COMPLETED",SET_RESOLUTION_BUTTON_IS_DISABLED:"SET_RESOLUTION_BUTTON_IS_DISABLED",SET_CSAT_COMPLETED:"SET_CSAT_COMPLETED",SET_CSAT_SUBMITTED:"SET_CSAT_SUBMITTED",SET_USER_SELECTED_OPTION:"SET_USER_SELECTED_OPTION",UPDATE_USER_INPUT_DATA:"UPDATE_USER_INPUT_DATA",RESET_USER_INPUT_DATA:"RESET_USER_INPUT_DATA",ADD_ERROR:"ADD_ERROR",REMOVE_ERROR:"REMOVE_ERROR",RESET_ERRORS:"RESET_ERRORS",SET_ISSUE_CURSOR:"SET_ISSUE_CURSOR",SET_FULL_PRIVACY:"SET_FULL_PRIVACY",SET_APP_RESET_TRIGGER:"SET_APP_RESET_TRIGGER",TOGGLE_CHAT_VIEW_LOADING:"TOGGLE_CHAT_VIEW_LOADING",TOGGLE_ONLINE_STATUS:"TOGGLE_ONLINE_STATUS",SET_POLLER_FAILURE_COUNT:"SET_POLLER_FAILURE_COUNT",TOGGLE_FAQ_LOADING:"TOGGLE_FAQ_LOADING",SET_FAQ_ERROR_MESSAGE:"SET_FAQ_ERROR_MESSAGE",SET_CSAT_SAVE_IN_PROGRESS:"SET_CSAT_SAVE_IN_PROGRESS",SET_CHAT_VIEW_ERROR:"SET_CHAT_VIEW_ERROR",SET_BOT_STEP_IN_PROGRESS:"SET_BOT_STEP_IN_PROGRESS",SAVE_BOT_STEP_MESSAGE:"SAVE_BOT_STEP_MESSAGE",SET_WIDGET_SHOULD_AUTO_OPEN:"SET_WIDGET_SHOULD_AUTO_OPEN",SET_RE_ENGAGEMENT_ID:"SET_RE_ENGAGEMENT_ID",SET_WINDOW_IS_FOCUSED:"SET_WINDOW_IS_FOCUSED",UPDATE_LIST_PICKER_NAVIGATION_STATE:"UPDATE_LIST_PICKER_NAVIGATION_STATE",UPDATE_INTENTS_NAVIGATION_STATE:"UPDATE_INTENTS_NAVIGATION_STATE",SET_LOCAL_GREETING_MESSAGE_ID:"SET_LOCAL_GREETING_MESSAGE_ID",SET_KEYBOARD_INTERACTION_IS_ACTIVE:"SET_KEYBOARD_INTERACTION_IS_ACTIVE",NEW_CONVERSATION_STARTED:"NEW_CONVERSATION_STARTED",INTENTS_TREE_REQUEST:"INTENTS_TREE_REQUEST",INTENTS_TREE_SUCCESS:"INTENTS_TREE_SUCCESS",INTENTS_TREE_FAILURE:"INTENTS_TREE_FAILURE",INTENTS_MODEL_SUCCESS:"INTENTS_MODEL_SUCCESS",SMART_INTENT_SELECTION:"SMART_INTENT_SELECTION",SMART_INTENT_DESELECTION:"SMART_INTENT_DESELECTION",SMART_INTENT_SEARCH_INTENT:"SMART_INTENT_SEARCH_INTENT",STOP_INTENTS_SEARCH:"STOP_INTENTS_SEARCH",UPDATE_AVATAR_LAST_UPDATED_TS:"UPDATE_AVATAR_LAST_UPDATED_TS",GET_CONVERSATION_HISTORY_SUCCESS:"GET_CONVERSATION_HISTORY_SUCCESS",GET_CONVERSATION_UPDATES_SUCCESS:"GET_CONVERSATION_UPDATES_SUCCESS",CLEAR_CHAT_VIEW_ERRORS:"CLEAR_CHAT_VIEW_ERRORS",CREATE_PREISSUE_REQUEST:"CREATE_PREISSUE_REQUEST",CREATE_PREISSUE_SUCCESS:"CREATE_PREISSUE_SUCCESS",CREATE_PREISSUE_FAILURE:"CREATE_PREISSUE_FAILURE",USER_REPLY_REQUEST:"USER_REPLY_REQUEST",USER_REPLY_SUCCESS:"USER_REPLY_SUCCESS",USER_REPLY_FAILURE:"USER_REPLY_FAILURE",BOT_START:"BOT_START",BOT_END:"BOT_END",BOT_MESSAGE_WITH_NO_USER_INPUT:"BOT_MESSAGE_WITH_NO_USER_INPUT",BOT_MESSAGE_WITH_USER_INPUT:"BOT_MESSAGE_WITH_USER_INPUT",PARENT_PAGE_IS_VISIBLE:"PARENT_PAGE_IS_VISIBLE",SET_LITE_SDK_CONFIG:"SET_LITE_SDK_CONFIG",FETCH_CONFIG_SUCCESS:"FETCH_CONFIG_SUCCESS",PUSH_TOKEN_SYNC_SUCCESS:"PUSH_TOKEN_SYNC_SUCCESS",XHR_ENDED_DUE_TO_NETWORK_DISCONNECT:"XHR_ENDED_DUE_TO_NETWORK_DISCONNECT",DEVICE_ONLINE_SUCCESS:"DEVICE_ONLINE_SUCCESS",POLLER_FAILURE:"POLLER_FAILURE",ATTACHMENT_UPLOAD_REQUEST:"ATTACHMENT_UPLOAD_REQUEST",ATTACHMENT_UPLOAD_END:"ATTACHMENT_UPLOAD_END",WS_CONFIG_SUCCESS:"WS_CONFIG_SUCCESS",ISSUE_INACTIVE:"ISSUE_INACTIVE",TOGGLE_EMOJI_WIDGET_STATE:"TOGGLE_EMOJI_WIDGET_STATE",SELECT_EMOJI:"SELECT_EMOJI",ISSUE_CREATED_AFTER_PRE_ISSUE:"ISSUE_CREATED_AFTER_PRE_ISSUE",FIRST_POLLER_CALL_SUCCESS:"FIRST_POLLER_CALL_SUCCESS",ENQUEUE_POLLER_DEPENDENT_ANALYTIC_EVENTS:"ENQUEUE_POLLER_DEPENDENT_ANALYTIC_EVENTS",ANALYTIC_EVENTS_QUEUE_CLEARED:"ANALYTIC_EVENTS_QUEUE_CLEARED",STAR_RATING_UPDATE_WHEN_CONTEXT_IS_FEEDBACK_BOTS:"STAR_RATING_UPDATE_WHEN_CONTEXT_IS_FEEDBACK_BOTS",USER_INTERRUPT_FEEDBACK_BOT:"USER_INTERRUPT_FEEDBACK_BOT",CSAT_SUBMIT_SUCCESS_WHEN_FEEDBACK_BOTS:"CSAT_SUBMIT_SUCCESS_WHEN_FEEDBACK_BOTS",CHAT_END:"CHAT_END",SET_CONVERSATION_METADATA:"SET_CONVERSATION_METADATA",EMPTY_FAST_POLLING_LIMIT_REACHED:"EMPTY_FAST_POLLING_LIMIT_REACHED",FAST_POLLER_FAILURE_LIMIT_REACHED:"FAST_POLLER_FAILURE_LIMIT_REACHED",ALL_PREVIOUS_ISSUES_ARE_FULL_PRIVACY:"ALL_PREVIOUS_ISSUES_ARE_FULL_PRIVACY",FOUND_LATEST_BOT_ATTACHMENT_MESSAGE:"FOUND_LATEST_BOT_ATTACHMENT_MESSAGE",ATTACHMENT_UPLOAD_IN_PROGRESS:"ATTACHMENT_UPLOAD_IN_PROGRESS",DATE_SEPARATOR_IS_FROM_START_NEW_CONVERSATION:"DATE_SEPARATOR_IS_FROM_START_NEW_CONVERSATION",RESOLUTION_QUESTION_ACCEPT_REQUEST:"RESOLUTION_QUESTION_ACCEPT_REQUEST",RESOLUTION_QUESTION_ACCEPT_SUCCESS:"RESOLUTION_QUESTION_ACCEPT_SUCCESS",RESOLUTION_QUESTION_ACCEPT_END:"RESOLUTION_QUESTION_ACCEPT_END",RESOLUTION_QUESTION_REJECT_REQUEST:"RESOLUTION_QUESTION_REJECT_REQUEST",RESOLUTION_QUESTION_REJECT_SUCCESS:"RESOLUTION_QUESTION_REJECT_SUCCESS",RESOLUTION_QUESTION_REJECT_END:"RESOLUTION_QUESTION_REJECT_END"}}),define("constants/errors",[],function(){"use strict";return{FILE_UPLOAD_ERRORS:{SIZE_EXCEEDED:1,RETRY:2,FAILURE:3,ABORTED:4,INVALID_TYPE:5},RESPONSE_STATUS_CODE:{PLAN_LIMIT_REACHED:403,PRE_ISSUE_EXISTS:204,UNSUPPORTED_MEDIA_TYPE:415,GATEWAY_TIMEOUT:504},TYPE:{NO_AUTH_TOKEN:"NO_AUTH_TOKEN",INVALID_AUTH_TOKEN:"INVALID_AUTH_TOKEN",PRE_ISSUE_FAILURE:"PRE_ISSUE_FAILURE",PRE_ISSUE_TIME_OUT:"PRE_ISSUE_TIME_OUT",USER_IS_REDACTED:"USER_IS_REDACTED"},FAILURE_REASON:{ISSUES_HARD_LIMIT_REACHED:"issues_hard_limit_reached"},USER_AUTH_STATUS:{AUTH_NOT_REQUIRED:"0",AUTH_SUCCESS:"1",MISSING_USER_AUTH_TOKEN:"2",INVALID_USER_AUTH_TOKEN:"3",ANONYMOUS_USER:"4"},USER_AUTH_STATUS_FAILURE_MESSAGES_MAP:{2:"missing user auth token",3:"invalid user auth token"}}}),define("constants/localization",[],function(){"use strict";return{UI_STRING_KEYS:{resolution_accept:"resolutionQuestionAccept",resolution_reject:"resolutionQuestionReject",back:"faqViewHeader","appearance.widget_title":"chatViewHeader",faq_article:"faqArticle",resolution_question:"chatViewConversationResolutionQuestion",new_conversation:"chatViewStartNewConversation",issue_rejection_question:"chatViewIssueRejectionQuestion",greeting:"greetingMsg",end_conversation:"conversationEndNote",conversation_closed:"conversationClosed",close_conversation_btn:"closeConversationBtn",reply_btn_placeholder:"replyBtnPlaceholder","csat_bot.req_msg":"csatBotRequestMsg",csat_bot_response_msg:"csatBotResponseMsg",csat_bot_form_submit_btn:"csatBotFormSubmitBtn",csat_bot_review_placeholder:"csatBotReviewPlaceholder",csat_view_header:"csatViewHeader",loading_messages:"pastConversationsLoadingText",branding:"branding",atch_screenshot_msg:"attachScreenshotMsg",atch_upload_status:"attachmentUploadingStatus",atch_retry_error:"attachmentRetryError",atch_filesize_error:"attachmentFileSizeError",atch_file_type_error:"attachmentFileTypeError",atch_default_error:"attachmentDefaultError",business_hours_name_label:"businessHoursNameLabel",business_hours_name_placeholder:"businessHoursNamePlaceholder",business_hours_email_label:"businessHoursEmailLabel",business_hours_email_placeholder:"businessHoursEmailPlaceholder",business_hours_msg_label:"businessHoursMessageLabel",business_hours_msg_placeholder:"businessHoursMessagePlaceholder",business_hours_submit_btn:"businessHoursSubmitBtn",business_hours_thanks_msg:"businessHoursThankYouMessage","business_hours.offline_title":"businessHoursViewHeader",business_hours_contact_form_msg:"businessHoursContactFormMessage","business_hours.offline_message":"businessHoursOfflineMessage",dnd_info_text:"dndInfoText",business_hours_atch_size_msg:"businessHoursAttachmentsSizeExceedMsg",business_hours_atch_limit_msg:"businessHoursAttachmentsLimitExceedMsg",email_error:"emailValidationError",retry_button:"retryBtn",network_error:"networkError",reload_page:"userRedactionMessage",message_deleted:"messageDeleted",conversation_deleted:"conversationRedactedMsg",conversations_deleted:"conversationsRedactedMsg",internet_error:"noInternetConnection",connecting_text:"connectingText",system_error:"unknownErrorReconnecting",search_placeholder:"searchPlaceholder",no_search_results:"noSearchResultsText",nbh_remove_attachment_vo:"ariaLabelsRemoveAttachment",nbh_attachment_vo:"ariaLabelAddedAttachmentPrefix",nbh_attach_files_vo:"ariaLabelAttachFiles",back_button_vo:"ariaLabelFaqViewHeader",loading_vo:"ariaLabelLoading",support_message_name_time_vo:"ariaLabelSupportMsgAgentName",support_message_time_vo:"ariaLabelSupportMsgMissingAgentName",user_message_time_vo:"ariaLabelUserMessage",user_attachment_uploading_vo:"ariaLabelAttachmentUploading",open_attachment_vo:"ariaLabelOpenFile",reply_send_button_vo:"ariaLabelSendMessage",jump_latest_message_vo:"ariaLabelJumpToLatestBtn",support_typing_vo:"ariaLabelTypingIndicator",clear_search_vo:"ariaLabelClearSearchInput",list_picker_search_list_vo:"ariaLabelSearchList",collapse_search_vo:"ariaLabelCloseSearch",open_chat_vo:"ariaLabelOpenChat",close_chat_vo:"ariaLabelCloseChat",launcher_badge_count_vo:"ariaLabelLauncherBtnBadge",si_prompt_title:"intentsTitle",si_typing_hint:"intentsReplyBoxPlaceholder",si_typing_hint_eis:"intentsReplyBoxPlaceholderEis",si_search_title:"intentsSearchTitle",si_empty_search_title:"intentsEmptySearchTitle",si_empty_search_desc:"intentsEmptySearchDesc",si_empty_search_desc_eis:"intentsEmptySearchDescEis","avatar.system_nickname":"systemNickname",single_message_notification:"singleMessageNotfication",multiple_messages_notification:"multipleMessageNotification",business_hours_received_msg:"businessHoursReceivedMsg",business_hours_leave_us_msg:"businessHoursLeaveUsMsg",hated_it:"csatOneStarRating",disliked_it:"csatTwoStarRating",its_ok:"csatThreeStarRating",liked_it:"csatFourStarRating",loved_it:"csatFiveStarRating",plan_limit_heading:"planLimitHeading",plan_limit_description:"planLimitDescription",user_auth_failure_message_title:"userAuthFailureMessageTitle",user_auth_failure_message_subtitle:"userAuthFailureMessageSubtitle",app_error_message_title:"appErrorMessageTitle",app_error_message_subtitle:"appErrorMessageSubtitle"}}}),define("utils/color",[],function(){"use strict";var e=/^#[0-9a-f]{3}(?:[0-9a-f]{3})?$/i,t=function(t){return e.test(t)},n=function(e){return 4!==e.length?e:"#".concat(e.slice(1,e.length).split("").map(function(e){return e+e}).join(""))},r=function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}};return{isHexColor:t,convertThreeToSixCharHexColorCode:n,isColorLight:function(e){var t,s,a;return e.match(/^rgb/)?(e=e.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/),t=e[1],s=e[2],a=e[3]):(e=n(e),e=r(e),t=e.r,s=e.g,a=e.b),Math.sqrt(t*t*.299+s*s*.587+a*a*.114)>206}}}),define("helpers/ui",["utils/color"],function(e){"use strict";return{shadeColor:function(e,t){e=e.slice(1),3===e.length&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]);var n=parseInt(e,16),r=t<0?0:255,s=t<0?-1*t:t,a=n>>16,o=n>>8&255,i=255&n;return"#"+(16777216+65536*(Math.round((r-a)*s)+a)+256*(Math.round((r-o)*s)+o)+(Math.round((r-i)*s)+i)).toString(16).slice(1)},getComplementaryColor:function(t,n,r){return e.isColorLight(t)?r:n}}}),define("gunpowder/utils/object",[],function(){"use strict";var e=function(e){return"[object Object]"===Object.prototype.toString.call(e)},t=function(e,t,n){var r;return n=n||{},r=n.only?n.only:Object.keys(t),r.forEach(function(r){if(n.skip&&-1!==n.skip.indexOf(r))return null;t.hasOwnProperty(r)&&(e[r]=t[r])}),e},n=function(e,t,n){var r,s=e;for(r=0;r<n.length;r++){if(r===n.length-1){s[n[r]]=t;break}s.hasOwnProperty(n[r])&&s[n[r]]instanceof Object||(s[n[r]]={}),s=s[n[r]]}return s=t,e},r=function(e,t){var n,r=e;for(n=0;n<t.length;n++){if(!(r instanceof Object&&r.hasOwnProperty(t[n])))return null;r=r[t[n]]}return r},s=function(e,t){var n;for(n in e)e.hasOwnProperty(n)&&t(n,e[n])},a=/\-|\_/g;return{isObject:e,shallowMerge:t,setIn:n,getIn:r,forEachKey:s,sortedForEachKey:function(e,t,n){if(!t)return void s(e,n);for(var r=Object.keys(e).sort(function(e,n){return e[t]-n[t]}),a=0;a<r.length;a++)n(r[a],e[r[a]])},walk:function t(n,r,a){var o={};return Array.isArray(n)?o=n.map(function(e){return t(e,r,a)}):e(n)?(s(n,function(e,n){o[e]=t(n,r,a)}),n.hasOwnProperty(r)&&(o=a(o))):o=n,o},toCamelCaseKeys:function t(n){var r={};return s(n,function(n,s){var o,i=n;-1===n.indexOf("_")&&-1===n.indexOf("-")||(o=n.split(a),i=o.slice(1).reduce(function(e,t){return e+t.charAt(0).toUpperCase()+t.slice(1)},o[0])),r[i]=e(s)?t(s):s}),r},shallowClone:function(e){return t({},e)},getAllValues:function(e){return"function"==typeof Object.values?Object.values(e):Object.keys(e).map(function(t){return e[t]})}}}),define("utils/dataType",[],function(){"use strict";return{isObject:function(e){return"object"===_typeof(e)&&!Array.isArray(e)&&null!==e}}}),define("constants/colorConfig",["helpers/ui"],function(e){"use strict";var t={LIGHT_5:{opacity:.05,hexValue:"0d"},LIGHT_10:{opacity:.1,hexValue:"1a"},LIGHT_20:{opacity:.2,hexValue:"33"},LIGHT_50:{opacity:.5,hexValue:"80"},LIGHT_60:{opacity:.6,hexValue:"99"},LIGHT_70:{opacity:.7,hexValue:"b3"},LIGHT_85:{opacity:.85,hexValue:"d9"},LIGHT_75:{opacity:.75,hexValue:"bf"},DARK_20:{opacity:-.2}},n={PRIMARY_COLOR:"#453FB9",SECONDARY_COLOR:"#E94B4B",SECONDARY_TEXT_COLOR:"#FFFFFF",BACKGROUND_COLOR:"#F0F2F4",CONTENT_COLOR:"#111827",ALTERNATE_BACKGROUND_COLOR:"#E8ECEF",FOREGROUND_COLOR:"#FFFFFF",CSAT_ACCENT_COLOR:"#F2B230",HIGHLIGHT:"rgba(0, 103, 244, .4)",ACTION_COLOR:"#453FB9"};n.GRADIENT_PRIMARY_COLOR=n.PRIMARY_COLOR+t.LIGHT_75.hexValue,n.CONTENT_COLOR_OPACITY_5=n.CONTENT_COLOR+t.LIGHT_5.hexValue,n.CONTENT_COLOR_OPACITY_10=n.CONTENT_COLOR+t.LIGHT_10.hexValue,n.CONTENT_COLOR_OPACITY_20=n.CONTENT_COLOR+t.LIGHT_20.hexValue,n.CONTENT_COLOR_OPACITY_50=n.CONTENT_COLOR+t.LIGHT_50.hexValue,n.CONTENT_COLOR_OPACITY_70=n.CONTENT_COLOR+t.LIGHT_70.hexValue,n.CONTENT_COLOR_OPACITY_85=n.CONTENT_COLOR+t.LIGHT_85.hexValue,n.PRIMARY_COLOR_OPACITY_5=n.PRIMARY_COLOR+t.LIGHT_5.hexValue,n.PRIMARY_COLOR_OPACITY_10=n.PRIMARY_COLOR+t.LIGHT_10.hexValue,n.PRIMARY_COLOR_OPACITY_20=n.PRIMARY_COLOR+t.LIGHT_20.hexValue,n.PRIMARY_COLOR_OPACITY_50=n.PRIMARY_COLOR+t.LIGHT_50.hexValue,n.ACTION_COLOR_OPACITY_5=n.ACTION_COLOR+t.LIGHT_5.hexValue,n.ACTION_COLOR_OPACITY_10=n.ACTION_COLOR+t.LIGHT_10.hexValue,n.ACTION_COLOR_OPACITY_20=n.ACTION_COLOR+t.LIGHT_20.hexValue,n.ACTION_COLOR_OPACITY_50=n.ACTION_COLOR+t.LIGHT_50.hexValue,n.BACKGROUND_COLOR_OPACITY_85=n.BACKGROUND_COLOR+t.LIGHT_85.hexValue,n.PRIMARY_COLOR_DARK=e.shadeColor(n.PRIMARY_COLOR,t.DARK_20.opacity),n.PRIMARY_COLOR_LIGHT=e.shadeColor(n.PRIMARY_COLOR,t.LIGHT_20.opacity);var r=n.FOREGROUND_COLOR+t.LIGHT_70.hexValue;return n.PRIMARY_TEXT_COLOR_OPACITY_70=e.getComplementaryColor(n.PRIMARY_COLOR,r,n.CONTENT_COLOR_OPACITY_70),n.PRIMARY_TEXT_COLOR=e.getComplementaryColor(n.PRIMARY_COLOR,n.FOREGROUND_COLOR,n.CONTENT_COLOR),n.ACTION_TEXT_COLOR=e.getComplementaryColor(n.ACTION_COLOR,n.FOREGROUND_COLOR,n.CONTENT_COLOR),{DEFAULT_COLOR_CONFIG:{primaryColor:{key:"primaryColor",cssVarName:"--hs-primary-color",value:n.PRIMARY_COLOR},primaryTextColor:{key:"primaryTextColor",cssVarName:"--hs-primary-text-color",value:n.PRIMARY_TEXT_COLOR},primaryTextColorOpacity70:{key:"primaryTextColorOpacity70",cssVarName:"--hs-primary-text-color-opacity-70",value:n.PRIMARY_TEXT_COLOR_OPACITY_70},gradientPrimaryColor:{key:"gradientPrimaryColor",cssVarName:"--hs-gradient-primary-color",value:n.GRADIENT_PRIMARY_COLOR},secondaryColor:{key:"secondaryColor",cssVarName:"--hs-secondary-color",value:n.SECONDARY_COLOR},secondaryTextColor:{key:"secondaryTextColor",cssVarName:"--hs-secondary-text-color",value:n.SECONDARY_TEXT_COLOR},backgroundColor:{key:"backgroundColor",cssVarName:"--hs-background-color",value:n.BACKGROUND_COLOR},contentColor:{key:"contentColor",cssVarName:"--hs-content-color",value:n.CONTENT_COLOR},contentColorOpacity5:{key:"contentColorOpacity5",cssVarName:"--hs-content-color-opacity-5",value:n.CONTENT_COLOR_OPACITY_5},contentColorOpacity10:{key:"contentColorOpacity10",cssVarName:"--hs-content-color-opacity-10",value:n.CONTENT_COLOR_OPACITY_10},contentColorOpacity20:{key:"contentColorOpacity20",cssVarName:"--hs-content-color-opacity-20",value:n.CONTENT_COLOR_OPACITY_20},contentColorOpacity50:{key:"contentColorOpacity50",cssVarName:"--hs-content-color-opacity-50",value:n.CONTENT_COLOR_OPACITY_50},contentColorOpacity60:{key:"contentColorOpacity60",cssVarName:"--hs-content-color-opacity-60",value:n.CONTENT_COLOR_OPACITY_60},contentColorOpacity70:{key:"contentColorOpacity70",cssVarName:"--hs-content-color-opacity-70",value:n.CONTENT_COLOR_OPACITY_70},contentColorOpacity85:{key:"contentColorOpacity85",cssVarName:"--hs-content-color-opacity-85",value:n.CONTENT_COLOR_OPACITY_85},primaryColorOpacity5:{key:"primaryColorOpacity5",cssVarName:"--hs-primary-color-opacity-5",value:n.PRIMARY_COLOR_OPACITY_5},primaryColorOpacity10:{key:"primaryColorOpacity10",cssVarName:"--hs-primary-color-opacity-10",value:n.PRIMARY_COLOR_OPACITY_10},primaryColorOpacity20:{key:"primaryColorOpacity20",cssVarName:"--hs-primary-color-opacity-20",value:n.PRIMARY_COLOR_OPACITY_20},primaryColorOpacity50:{key:"primaryColorOpacity50",cssVarName:"--hs-primary-color-opacity-50",value:n.PRIMARY_COLOR_OPACITY_50},actionColor:{key:"actionColor",cssVarName:"--hs-action-color",value:n.ACTION_COLOR},actionColorOpacity5:{key:"actionColorOpacity5",cssVarName:"--hs-action-color-opacity-5",value:n.ACTION_COLOR_OPACITY_5},actionColorOpacity10:{key:"actionColorOpacity10",cssVarName:"--hs-action-color-opacity-10",value:n.ACTION_COLOR_OPACITY_10},actionColorOpacity20:{key:"actionColorOpacity20",cssVarName:"--hs-action-color-opacity-20",value:n.ACTION_COLOR_OPACITY_20},actionColorOpacity50:{key:"actionColorOpacity50",cssVarName:"--hs-action-color-opacity-50",value:n.ACTION_COLOR_OPACITY_50},actionColorDark:{key:"actionColorDark",cssVarName:"--hs-action-dark",value:n.ACTION_COLOR_DARK},actionColorLight:{key:"actionColorLight",cssVarName:"--hs-action-light",value:n.ACTION_COLOR_LIGHT},actionTextColor:{key:"actionTextColor",cssVarName:"--hs-action-text-color",value:n.ACTION_TEXT_COLOR},backgroundColorOpacity85:{key:"backgroundColorOpacity85",cssVarName:"--hs-background-color-opacity-85",value:n.BACKGROUND_COLOR_OPACITY_85},primaryColorDark:{key:"primaryColorDark",cssVarName:"--hs-primary-dark",value:n.PRIMARY_COLOR_DARK},primaryColorLight:{key:"primaryColorLight",cssVarName:"--hs-primary-light",value:n.PRIMARY_COLOR_LIGHT},alternateBgColor:{key:"alternateBgColor",cssVarName:"--hs-alternate-background-color",value:n.ALTERNATE_BACKGROUND_COLOR},foregroundColor:{key:"foregroundColor",cssVarName:"--hs-foreground-color",value:n.FOREGROUND_COLOR},csatAccentColor:{key:"csatAccentColor",cssVarName:"--hs-csat-accent-color",value:n.CSAT_ACCENT_COLOR},focusRingColor:{key:"focusRingColor",cssVarName:"--hs-focus-ring-color",value:n.HIGHLIGHT}},COLORS:n,SHADES:t}}),define("reducers/ui",["constants/actionTypes","constants/errors","constants/localization","helpers/ui","gunpowder/utils/object","utils/dataType","utils/color","constants/colorConfig"],function(e,t,n,r,s,a,o,i){"use strict";var c=React.addons.update,u=o.isHexColor,l=i.SHADES,p=i.DEFAULT_COLOR_CONFIG,d=i.COLORS,_={text:{chatViewHeader:"Chat with us",faqArticle:"Article",chatViewConversationResolutionQuestion:"Did we answer all your questions?",chatViewStartNewConversation:"Start new conversation",chatViewIssueRejectionQuestion:"What else can we help you with?",greetingMsg:"Hi, how can we help you?",resolutionQuestionAccept:"Yes",resolutionQuestionReject:"No",conversationClosed:"Conversation closed.",faqViewHeader:"Back",closeConversationBtn:"Close",replyBtnPlaceholder:"Write your message",csatBotRequestMsg:"Do you have a moment to rate your experience?",csatBotResponseMsg:"Thanks for your feedback!",csatBotFormSubmitBtn:"Submit Feedback",csatBotReviewPlaceholder:"Leave us additional feedback",csatViewHeader:"Chat with us",branding:"Powered by Helpshift",attachScreenshotMsg:"Attach Screenshot",attachmentUploadingStatus:"Uploading..",attachmentRetryError:"Error. Click to retry.",attachmentFileSizeError:"Attachment exceeds limit of 25MB",attachmentFileTypeError:"Error, file type not supported",attachmentDefaultError:"Error. Failed to upload attachment.",businessHoursNameLabel:"Name",businessHoursEmailLabel:"Email",businessHoursMessageLabel:"Message",businessHoursNamePlaceholder:"Enter your name",businessHoursEmailPlaceholder:"john@example.com",businessHoursMessagePlaceholder:"Write your message",businessHoursSubmitBtn:"Submit",businessHoursThankYouMessage:"Thanks for reaching out. We will get back to you soon.",businessHoursViewHeader:"",businessHoursContactFormMessage:"",businessHoursOfflineMessage:"",dndInfoText:"Add files or drag here",businessHoursAttachmentsSizeExceedMsg:"Total size of attachments exceed 25MB",businessHoursAttachmentsLimitExceedMsg:"Attachment exceeds maximum limit of 5",businessHoursReceivedMsg:"We have received your message",businessHoursLeaveUsMsg:"Leave us a message",emailValidationError:"Enter a valid email address",numberValidationError:"Enter a valid number",dateValidationError:"Enter a valid date in DD/MM/YYYY format",retryBtn:"RETRY",noInternetConnection:"No internet connection",userRedactionMessage:"Something went wrong. Please refresh",unknownErrorReconnecting:"Something went wrong. Reconnecting...",networkError:"Network Error",connectingText:"Connecting...",conversationRedactedMsg:"Conversation Redacted",conversationsRedactedMsg:"Conversations Redacted",pastConversationsLoadingText:"Loading Messages...",messageDeleted:"Message Deleted",loadMoreMessagesFailedText:"Couldn't Load Messages.",clickToRetryText:"Click to Retry",unsupportedDateInputPlaceholder:"DD/MM/YYYY",userAuthFailureMessageTitle:"Authentication Failed",userAuthFailureMessageSubtitle:"Please try again later",appErrorMessageTitle:"Something went wrong",appErrorMessageSubtitle:"Please try reloading",searchPlaceholder:"Search",noSearchResultsText:"No results found",ariaLabelsRemoveAttachment:"Remove attachment",ariaLabelAddedAttachmentPrefix:"Attachment, {{file_name}}",ariaLabelAttachFiles:"Attach Files",ariaLabelFaqViewHeader:"Go back to conversation",ariaLabelLoading:"Loading...",ariaLabelSupportMsgAgentName:"Message from Support, {{message}}, Sent by {{agent_name}} at {{time_and_date}}",ariaLabelSupportMsgMissingAgentName:"Message from Support, {{message}}, Sent at {{time_and_date}}",ariaLabelUserMessage:"Your message, {{message}}, Sent at {{time_and_date}}",ariaLabelAttachmentUploading:"Your attachment, Uploading",ariaLabelOpenFile:"Open file, {{file_name}}",ariaLabelSendMessage:"Send message",ariaLabelJumpToLatestBtn:"Jump to latest message",ariaLabelTypingIndicator:"Support is typing",ariaLabelClearSearchInput:"Clear text",ariaLabelSearchList:"Search list",ariaLabelCloseSearch:"Close Search",ariaLabelOptionsList:"Options List",ariaLabelOpenChat:"Open Chat",ariaLabelCloseChat:"Close chat",ariaLabelLauncherBtnBadge:"{{num}} new messages from Support",ariaLabelEmojiMenu:"Emoji menu",intentsTitle:"Select your problem",intentsReplyBoxPlaceholder:"Or enter your message",intentsReplyBoxPlaceholderEis:"Search for your problem",intentsSearchTitle:"Select from matching problems",intentsEmptySearchTitle:"No matching problems",intentsEmptySearchDesc:"Send your message to start the conversation",intentsEmptySearchDescEis:"Sorry, we couldn't find what you are looking for",systemNickname:"Support",singleMessageNotfication:"New message from Support",multipleMessageNotification:"{{d}} new messages from Support",csatOneStarRating:"Hated it",csatTwoStarRating:"Disliked it",csatThreeStarRating:"It was okay",csatFourStarRating:"Liked it",csatFiveStarRating:"Loved it",planLimitHeading:"Sorry!",planLimitDescription:"We are currently unavailable",giveFeedback:"Give feedback"},colorConfig:p},E=function(e){var t=e.translations,r=n.UI_STRING_KEYS,a={greetingMsg:{$set:e.greeting},chatViewHeader:{$set:e.appearance.widget_title},csatViewHeader:{$set:e.appearance.widget_title},chatViewConversationResolutionQuestion:{$set:e.resolution_question}},o=e.business_hours_enabled,i=e.personalised_conversation_enabled;if(e.csat_bot&&(a.csatBotRequestMsg={$set:e.csat_bot.req_msg}),o){var c=e.business_hours;a.businessHoursViewHeader={$set:c.offline_title},a.businessHoursContactFormMessage={$set:null===e||void 0===e?void 0:e.translations["business_hours.cf_message"]},a.businessHoursOfflineMessage={$set:c.offline_message}}return i&&(a.systemNickname={$set:e.avatar.system_nickname}),s.forEachKey(t,function(e,t){var n=r[e];a[n]={$set:t}}),a},f=function(e){var t={};return u(e.primary_color)&&(t.primaryColor={value:{$set:e.primary_color}},t.gradientPrimaryColor={value:{$set:e.primary_color+l.LIGHT_75.hexValue}},t.primaryColorOpacity5={value:{$set:e.primary_color+l.LIGHT_5.hexValue}},t.primaryColorOpacity10={value:{$set:e.primary_color+l.LIGHT_10.hexValue}},t.primaryColorOpacity20={value:{$set:e.primary_color+l.LIGHT_20.hexValue}},t.primaryColorOpacity50={value:{$set:e.primary_color+l.LIGHT_50.hexValue}},t.primaryColorDark={value:{$set:r.shadeColor(e.primary_color,l.DARK_20.opacity)}},t.primaryColorLight={value:{$set:r.shadeColor(e.primary_color,l.LIGHT_20.opacity)}}),u(e.action_color)&&(t.actionColor={value:{$set:e.action_color}},t.actionColorOpacity5={value:{$set:e.action_color+l.LIGHT_5.hexValue}},t.actionColorOpacity10={value:{$set:e.action_color+l.LIGHT_10.hexValue}},t.actionColorOpacity20={value:{$set:e.action_color+l.LIGHT_20.hexValue}},t.actionColorOpacity50={value:{$set:e.action_color+l.LIGHT_50.hexValue}},t.actionColorDark={value:{$set:r.shadeColor(e.action_color,l.DARK_20.opacity)}},t.actionColorLight={value:{$set:r.shadeColor(e.action_color,l.LIGHT_20.opacity)}},u(e.content_color)&&(t.actionTextColor={value:{$set:r.getComplementaryColor(e.action_color,d.FOREGROUND_COLOR,e.content_color)}})),u(e.background_color)&&(t.backgroundColorOpacity85={value:{$set:e.background_color+l.LIGHT_85.hexValue}}),u(e.background_color)&&(t.backgroundColor={value:{$set:e.background_color}}),u(e.content_color)&&(t.contentColor={value:{$set:e.content_color}},t.contentColorOpacity5={value:{$set:e.content_color+l.LIGHT_5.hexValue}},t.contentColorOpacity10={value:{$set:e.content_color+l.LIGHT_10.hexValue}},t.contentColorOpacity20={value:{$set:e.content_color+l.LIGHT_20.hexValue}},t.contentColorOpacity50={value:{$set:e.content_color+l.LIGHT_50.hexValue}},t.contentColorOpacity60={value:{$set:e.content_color+l.LIGHT_60.hexValue}},t.contentColorOpacity70={value:{$set:e.content_color+l.LIGHT_70.hexValue}},t.contentColorOpacity85={value:{$set:e.content_color+l.LIGHT_85.hexValue}}),u(e.content_color)&&u(e.primary_color)&&(t.primaryTextColor={value:{$set:r.getComplementaryColor(e.primary_color,d.FOREGROUND_COLOR,e.content_color)}},t.primaryTextColorOpacity70={value:{$set:r.getComplementaryColor(e.primary_color,d.FOREGROUND_COLOR+l.LIGHT_70.hexValue,e.content_color+l.LIGHT_70.hexValue)}}),u(e.alt_background_color)&&(t.alternateBgColor={value:{$set:e.alt_background_color}}),u(e.foreground_color)&&(t.foregroundColor={value:{$set:e.foreground_color}}),t};return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case e.FETCH_CONFIG_SUCCESS:var r=n.config,s=f(r.appearance.colors);return c(t,{text:E(r),colorConfig:s});case e.SET_GREETING_MESSAGE:return c(t,{text:{greetingMsg:{$set:n.message}}});default:return t}}}),define("constants/activeView",[],function(){"use strict";return{CHAT:"CHAT",FAQ:"FAQ",CSAT:"CSAT",BUSINESS_HOURS:"BUSINESS_HOURS",PLAN_LIMIT:"PLAN_LIMIT",USER_AUTH_FAILURE:"USER_AUTH_FAILURE"}}),define("constants/appState",[],function(){"use strict";return{WEB_CHAT_VERSION:"3.28.0",ISSUE_STATE:{NA:"na",ACTIVE:"active",RESOLVED:"resolved",REJECTED:"rejected",CLOSED:"closed"},PRE_ISSUE_RESET_TIMEOUT:864e5,ANON_USER_RESET_TIMEOUT:6048e5,TRIGGER:{RESET:"RESET"},ISSUE_TYPE:{INITIAL:"initial",ISSUE:"issue",PRE_ISSUE:"preissue"},ISSUE_STATE_RESET:"Rejected",XHR_ISSUE_STATE:{PRE_ISSUE:{RESOLVED:"resolved",REJECTED:"rejected",ISSUE_CREATED:"issue-created"},ISSUE:{RESOLVED:"resolved",REJECTED:"rejected"}},APP_RESET_TRIGGER:{INITIAL:"INITIAL",UPDATE_HELPSHIFT_CONFIG_API:"UPDATE_HELPSHIFT_CONFIG_API",PRE_ISSUE_RESET:"PRE_ISSUE_RESET",NEW_CONV_VIA_INITIAL_USER_MESSAGE_API:"NEW_CONV_VIA_INITIAL_USER_MESSAGE_API"},ALLOWED_EMPTY_POLLER_COUNT:5,LITE_SDK_OS:{IOS:"ios",ANDROID:"android"},KEYS_WHICH_TRIGGER_CONFIG_REFETCH:["domain","language","userAuthToken","fullPrivacy"],KEYS_WHICH_TRIGGER_CONFIG_REFETCH_MAP:{domain:"domain",language:"developerSetLanguage",userAuthToken:"userAuthToken",fullPrivacy:"fullPrivacyEnabled"},HS_PLANS:{PLAN_ONE:"1"}}}),define("gunpowder/utils/array",[],function(){"use strict";var e,t,n,r,s,a,o,i,c,u;e=Array.prototype.find?Array.prototype.find:function(e){var t,n;for(n=this.length,t=0;t<n;t++)if(e(this[t],t))return this[t]},i=Array.prototype.findIndex?Array.prototype.findIndex:function(e){var t,n;for(n=this.length,t=0;t<n;t++)if(e(this[t],t))return t;return-1},a=Array.prototype.includes?Array.prototype.includes:function(e,t){return this.indexOf(e,t)>-1},t=function(t,n,r){return r?e.call(t,n.bind(r)):e.call(t,n)},o=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return a.call(e,t,n)},n=function(e,n,r){return t(e,function(e){return e[r]===n})},c=function(e,t,n){return n?i.call(e,t.bind(n)):i.call(e,t)},u=function(e,t,n){return c(e,function(e){return e[n]===t})},r=function(e,t){var n=[],r=[];return e.forEach(function(e){e.hasOwnProperty(t)&&-1!==n.indexOf(e[t])||(r.push(e),n.push(e[t]))}),r},s=function(e,t){var n=[];return e.forEach(function(e,r){"function"==typeof t?n.push(e,t(r)):n.push(e,t)}),n.slice(0,-1)};var l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=[];if(0!==n){n=(t-e)/Math.abs(t-e)*Math.abs(n);for(var s=e;t-e>=0&&s<=t||e-t>=0&&s>=t;)r.push(s),s+=n}return r},p=function(e){return e.filter(function(t,n){return e.indexOf(t)===n})};return{find:t,findObjectByKey:n,findIndex:c,findIndexByKey:u,uniqBy:r,intersperse:s,range:l,dedupe:p,includes:o,groupBy:function(e,t){return Array.isArray(e)&&"string"==typeof t?p(e.map(function(e){return e[t]})).map(function(n){return e.filter(function(e){return e[t]===n})}):[]}}}),define("reducers/appState",["constants/actionTypes","constants/activeView","constants/appState","gunpowder/utils/array","gunpowder/utils/object","constants/errors"],function(e,t,n,r,s,a){"use strict"
;var o=React.addons.update,i=n.ISSUE_STATE,c=n.ISSUE_TYPE,u=n.APP_RESET_TRIGGER,l=n.HS_PLANS,p=a.RESPONSE_STATUS_CODE,d=a.FAILURE_REASON,_=a.USER_AUTH_STATUS,E=_.MISSING_USER_AUTH_TOKEN,f=_.INVALID_USER_AUTH_TOKEN,T=function(e){var t=e.widgetOptions,n=e.screenSize,r=n.width;return n.height<420||r<552||!(!t||!t.fullScreen)},h={wcEnabled:!1,minimized:!0,activeView:t.CHAT,platformId:"",domain:"",developerSetLanguage:"",deviceId:"",anonUserIdentifier:"",userId:"",userName:"",userEmail:"",userAuthToken:"",phoneNumber:"",issueExists:!1,issueType:c.INITIAL,issueState:i.NA,activeIssueId:"",internalIssueId:"",appResetTrigger:u.INITIAL,featuresEnabled:{greeting:!0,csatBot:!1,agentNickname:!1,resolutionQuestion:!0,conversationHistory:!0,userAttachments:!0,branding:!0,intents:!1,personalisedConversationIsEnabled:!1,audioNotifications:!1,authorPresenceDetectionIsEnabled:!1,feedbackBot:!1},intentsTreeSla:0,intentsModelSla:0,browserIsMobile:!1,fastPollingIsEnabled:!1,tags:[],cif:{},metadata:{},parentPageInfo:{},sdkConfigOptions:{fullScreen:!1,showLauncher:!0,initialUserMessage:"",developerSetInitialUserMessage:""},conversationStarted:!1,proactiveChatRules:[],analytics:{sessionId:"",suggestedFaqReadTracked:!1},footerIsActive:!1,postChatFeatures:{resolutionQuestionCompleted:!1,csatCompleted:!1},fullPrivacyEnabled:!1,online:!0,widgetShouldAutoOpen:!1,reEngagementId:"",windowIsFocused:!1,keyboardInteractionIsActive:!1,avatar:{showMessageFeedAvatar:!1,agentAvatarIsPersonalised:!0,botAvatarIsPersonalised:!0,agentDefaultAvatarUrl:"",botDefaultAvatarUrl:"",avatarUrlTemplate:""},showHeaderAvatar:!1,appAvatarUrl:"",expiryTimestamps:{resolutionQuestion:0,csatBot:0},parentPageIsVisible:!0,liteSdkConfig:{},pfiValue:0,maxDebugLogs:0,maxBreadcrumbs:0,lastConfigFetchTs:0,respectPfi:!0,isPushTokenSynced:!1,issueExistsDataIsStaleInLocalStorage:!1,wsConfig:{},hsSessionId:"",subscribedToLiveUpdates:!1,issueCreatedAnalyticEventToBeFiredAfterPreIssueSuccess:!1,releaseTag:""},g=function(e){return r.dedupe(e.reduce(function(e,t){return[].concat(_toConsumableArray(e),_toConsumableArray(t))},[]))},m=function(e,t){var n={};return e&&(n.resolutionQuestion={$set:e}),t&&(n.csatBot={$set:t}),n};return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case e.REHYDRATE:var a={widgetShouldAutoOpen:{$set:!!r.data.widgetShouldAutoOpen}};return a.analytics={},!1===r.data.respectPfi?a.respectPfi={$set:!1}:a.respectPfi={$set:!0},(r.data.pfiValue||0===r.data.pfiValue)&&(a.pfiValue={$set:r.data.pfiValue}),r.data.lastConfigFetchTs&&(a.lastConfigFetchTs={$set:r.data.lastConfigFetchTs}),r.data.issueExistsDataIsStaleInLocalStorage&&(a.issueExistsDataIsStaleInLocalStorage={$set:r.data.issueExistsDataIsStaleInLocalStorage}),r.data.suggestedFaqReadTracked&&(a.analytics.suggestedFaqReadTracked={$set:r.data.suggestedFaqReadTracked}),r.data.wsConfig&&(a.wsConfig={$set:r.data.wsConfig}),r.data.releaseTag&&(a.releaseTag={$set:r.data.releaseTag}),o(n,a);case e.FETCH_CONFIG_SUCCESS:var _=r.config,S=_.si.enabled,I=_.personalised_conversation_enabled,y=!_.hasOwnProperty("greeting_enabled")||_.greeting_enabled,R=g(_.wa),v={wcEnabled:{$set:_.wm_widget_enabled},featuresEnabled:{greeting:{$set:y},resolutionQuestion:{$set:_.resolution_question_enabled},conversationHistory:{$set:_.conversation_history_enabled},userAttachments:{$set:_.allow_user_attachments},csatBot:{$set:_.csat_bot_enabled},agentNickname:{$set:_.agent_nickname_enabled},branding:{$set:!_.disable_helpshift_branding},audioNotifications:{$set:_.audio_notifications_enabled},intents:{$set:S},personalisedConversationIsEnabled:{$set:I},authorPresenceDetectionIsEnabled:{$set:_.author_presence_detection_enabled}},issueExists:{$set:_.issue_exists},attachmentsWhitelist:{$set:R},showHeaderAvatar:{$set:_.appearance.show_header_avatar},appAvatarUrl:{$set:_.appearance.app_avatar},browserIsMobile:{$set:r.browserIsMobile},maxDebugLogs:{$set:_.dbgl},maxBreadcrumbs:{$set:_.bcl}};if(_.plan_type===l.PLAN_ONE){var C;_.issue_limit_reached&&(v.activeView={$set:t.PLAN_LIMIT}),(null===n||void 0===n?void 0:null===(C=n.sdkConfigOptions)||void 0===C?void 0:C.developerSetInitialUserMessage)||(v.sdkConfigOptions={developerSetInitialUserMessage:{$set:r.giveFeedbackText}})}return I&&(v.avatar={$set:{showMessageFeedAvatar:_.avatar.show_feed_avatar,agentAvatarIsPersonalised:_.avatar.show_agent_personalised_avatar,botAvatarIsPersonalised:_.avatar.show_bot_personalised_avatar,agentDefaultAvatarUrl:_.avatar.agent_default_avatar,botDefaultAvatarUrl:_.avatar.bot_default_avatar,avatarUrlTemplate:_.avatar.avatar_template_url}}),S&&(v.intentsModelSla={$set:_.si.model_sla},v.intentsTreeSla={$set:_.si.tree_sla}),_.fast_polling_enabled&&(v.fastPollingIsEnabled={$set:!0}),_.user_auth_status!==E&&_.user_auth_status!==f||(v.activeView={$set:t.USER_AUTH_FAILURE}),o(n,v);case e.SET_APP_RESET_TRIGGER:return o(n,{appResetTrigger:{$set:r.value}});case e.SET_LANGUAGE:return o(n,{developerSetLanguage:{$set:r.language}});case e.SET_DEVICE_ID:return o(n,{deviceId:{$set:r.id}});case e.SET_ANALYTICS_SESSION_ID:return o(n,{analytics:{sessionId:{$set:r.id}}});case e.SET_ANON_USER_ID:return o(n,{anonUserIdentifier:{$set:r.id}});case e.SET_CONVERSATION_METADATA:return o(n,{liteSdkConfig:{conversationMetadataReceived:{$set:!0},dbgl:{$set:r.dbgl},bcl:{$set:r.bcl}}});case e.SET_WIDGET_SHOULD_AUTO_OPEN:return o(n,{widgetShouldAutoOpen:{$set:r.widgetShouldAutoOpen}});case e.SET_RE_ENGAGEMENT_ID:return o(n,{reEngagementId:{$set:r.id}});case e.SET_WINDOW_IS_FOCUSED:return o(n,{windowIsFocused:{$set:r.windowIsFocused}});case e.SET_CLIENT_CONFIG:var b=r.config,A=b.platformId,P=b.language,O=b.domain,N=b.userId,F=b.phoneNumber,w=b.userName,L=b.userEmail,M=b.userAuthToken,D=b.tags,k=b.fullPrivacy,U=b.initialUserMessage,H=b.widgetOptions,V=void 0===H?{}:H,x=b.__internal__,B=void 0===x?{}:x,G=b.customMetadata,j=null===U||void 0===U?void 0:U.trim(),W=T({screenSize:{width:n.parentPageInfo.width,height:n.parentPageInfo.height},widgetOptions:V}),q=n.sdkConfigOptions.showLauncher;V.hasOwnProperty("showLauncher")&&(q=V.showLauncher);var K={platformId:{$set:A||""},developerSetLanguage:{$set:P||""},domain:{$set:O||""},userId:{$set:N||""},phoneNumber:{$set:F||""},userName:{$set:w||""},userEmail:{$set:L||""},userAuthToken:{$set:M||""},tags:{$set:D||[]},fullPrivacyEnabled:{$set:k||!1},sdkConfigOptions:{fullScreen:{$set:W},showLauncher:{$set:q}},internalHsConfigData:{$set:B}};return j&&(K.sdkConfigOptions.developerSetInitialUserMessage={$set:j}),s.isObject(G)&&(K.metadata={$set:G}),o(n,K);case e.NEW_CONVERSATION_STARTED:return o(n,{conversationStarted:{$set:!0},activeIssueId:{$set:""},internalIssueId:{$set:""},issueState:{$set:i.NA},issueType:{$set:c.INITIAL},appResetTrigger:{$set:u.INITIAL},postChatFeatures:{resolutionQuestionCompleted:{$set:!1},csatCompleted:{$set:!1}}});case e.CREATE_PREISSUE_SUCCESS:var Y=r.activeIssueId,$=r.internalIssueId,z=r.issueType,X={conversationStarted:{$set:!0},activeIssueId:{$set:Y},internalIssueId:{$set:$},issueState:{$set:i.ACTIVE},issueType:{$set:z},issueCreatedAnalyticEventToBeFiredAfterPreIssueSuccess:{$set:!0},liteSdkConfig:{conversationMetadataReceived:{$set:!1},dbgl:{$set:[]},bcl:{$set:[]}}};return n.sdkConfigOptions.developerSetInitialUserMessage||(X.sdkConfigOptions={},X.sdkConfigOptions.initialUserMessage={$set:""}),o(n,X);case e.ISSUE_CREATED_AFTER_PRE_ISSUE:return o(n,{issueCreatedAnalyticEventToBeFiredAfterPreIssueSuccess:{$set:!1}});case e.SET_ACTIVE_ISSUE_ID:return o(n,{conversationStarted:{$set:!0},activeIssueId:{$set:r.id}});case e.SET_INTERNAL_ISSUE_ID:return o(n,{internalIssueId:{$set:r.id}});case e.UPDATE_ACTIVE_VIEW:return r.view!==n.activeView?o(n,{activeView:{$set:r.view}}):n;case e.TOGGLE_MINIMIZED:return o(n,{minimized:{$set:r.minimized}});case e.UPDATE_ISSUE_TYPE:return o(n,{issueType:{$set:r.issueType}});case e.UPDATE_ISSUE_STATE:return o(n,{issueState:{$set:r.state}});case e.INITIAL_USER_MESSAGE_API_TRIGGERED:return o(n,{sdkConfigOptions:{developerSetInitialUserMessage:{$set:r.message.trim()}}});case e.SET_INITIAL_USER_MESSAGE:return o(n,{sdkConfigOptions:{initialUserMessage:{$set:r.message}}});case e.SET_CONVERSATION_ENDED:return o(n,{conversationStarted:{$set:!1},postChatFeatures:{resolutionQuestionCompleted:{$set:!1},csatCompleted:{$set:!1}}});case e.SET_CIF:return o(n,{cif:{$merge:r.cif}});case e.SET_METADATA:return o(n,{metadata:{$merge:r.metadata}});case e.REPLACE_CIF:return o(n,{cif:{$set:r.cif}});case e.SET_PARENT_PAGE_INFO:return o(n,{parentPageInfo:{$set:r.parentPageInfo}});case e.SET_PROACTIVE_CHAT_RULES:return o(n,{proactiveChatRules:{$set:r.proactiveChatRules}});case e.SET_TAGS:return o(n,{tags:{$set:r.tags}});case e.SET_SUGGESTED_FAQ_READ_TRACKED:return o(n,{analytics:{suggestedFaqReadTracked:{$set:r.isTracked}}});case e.SET_FOOTER_ACTIVE:return o(n,{footerIsActive:{$set:!0}});case e.SET_CHAT_VIEW_FOOTER:case e.SET_FOOTER_INACTIVE:return o(n,{footerIsActive:{$set:!1}});case e.SET_RESOLUTION_QUESTION_COMPLETED:return o(n,{postChatFeatures:{resolutionQuestionCompleted:{$set:r.completed}}});case e.RESOLUTION_QUESTION_ACCEPT_SUCCESS:case e.RESOLUTION_QUESTION_REJECT_SUCCESS:return o(n,{postChatFeatures:{resolutionQuestionCompleted:{$set:r.payload.resolutionQuestionCompleted}}});case e.SET_CSAT_COMPLETED:return o(n,{postChatFeatures:{csatCompleted:{$set:!0}}});case e.RESET:return o(h,{cif:{$set:n.cif},metadata:{$set:n.metadata},appResetTrigger:{$set:n.appResetTrigger},minimized:{$set:n.minimized},sdkConfigOptions:{initialUserMessage:{$set:n.sdkConfigOptions.initialUserMessage},developerSetInitialUserMessage:{$set:n.sdkConfigOptions.developerSetInitialUserMessage}}});case e.SET_FULL_PRIVACY:return o(n,{fullPrivacyEnabled:{$set:r.enabled}});case e.TOGGLE_ONLINE_STATUS:return o(n,{online:{$set:r.online}});case e.SET_KEYBOARD_INTERACTION_IS_ACTIVE:return o(n,{keyboardInteractionIsActive:{$set:r.active}});case e.GET_CONVERSATION_HISTORY_SUCCESS:var Q=r.payload,Z=Q.resolutionQuestionExpiryTimestamp,J=Q.csatBotExpiryTimestamp,ee=Q.feedbackBotIsEnabled;return o(n,{expiryTimestamps:m(Z,J),featuresEnabled:{feedbackBot:{$set:!!ee}}});case e.GET_CONVERSATION_UPDATES_SUCCESS:var te=r.payload,ne=te.resolutionQuestionExpiryTimestamp,re=te.csatBotExpiryTimestamp,se=te.hsSessionId,ae=te.feedbackBotIsEnabled,oe={expiryTimestamps:m(ne,re),featuresEnabled:{feedbackBot:{$set:!!ae}}};return se&&(oe.hsSessionId={$set:se}),o(n,oe);case e.USER_REPLY_REQUEST:var ie={footerIsActive:{$set:!1}};return r.reEngagementId&&(ie.reEngagementId={$set:""}),o(n,ie);case e.PARENT_PAGE_IS_VISIBLE:return o(n,{parentPageIsVisible:{$set:r.parentPageIsVisible}});case e.SET_LITE_SDK_CONFIG:return o(n,{liteSdkConfig:{os:{$set:r.data.os},metaData:{$set:r.data.metaData},pushToken:{$set:r.data.pushToken},analyticsData:{$set:r.data.analyticsData},launchedFromHelpcenter:{$set:r.data.launchedFromHelpcenter}}});case e.PUSH_TOKEN_SYNC_SUCCESS:return o(n,{isPushTokenSynced:{$set:r.payload}});case e.WS_CONFIG_SUCCESS:return o(n,{wsConfig:{$set:r.payload},subscribedToLiveUpdates:{$set:!0}});case e.ISSUE_INACTIVE:return o(n,{subscribedToLiveUpdates:{$set:!1}});case e.CHAT_END:return o(n,{issueState:{$set:i.CLOSED},liteSdkConfig:{conversationMetadataReceived:{$set:!1},dbgl:{$set:[]},bcl:{$set:[]}}});case e.CREATE_PREISSUE_FAILURE:var ce=r.error;if(ce.statusCode!==p.PLAN_LIMIT_REACHED)return n;if(ce.context)try{var ue,le=JSON.parse(ce.context.responseText);if((null===le||void 0===le?void 0:null===(ue=le.data)||void 0===ue?void 0:ue.reason)===d.ISSUES_HARD_LIMIT_REACHED)return o(n,{activeView:{$set:t.PLAN_LIMIT}})}catch(e){}return n;default:return n}}}),define("constants/chatView",[],function(){"use strict";var e={REPLY:"REPLY",FAQ_SUGGESTIONS_FEEDBACK:"FAQ_SUGGESTIONS_FEEDBACK",CSAT:"CSAT",CONVERSATION_RESOLUTION_QUESTION:"CONVERSATION_RESOLUTION_QUESTION",START_NEW_CONVERSATION:"START_NEW_CONVERSATION",SOLUTION_REJECTED:"SOLUTION_REJECTED",NONE:"NONE"},t={DEFAULT_INPUT:"DEFAULT_INPUT",PLAIN_TEXT:"PLAIN_TEXT",EMAIL:"EMAIL",NUMERIC:"NUMERIC",DATE:"DATE",PILL_SELECT:"PILL_SELECT",LIST_PICKER:"LIST_PICKER",CSAT:"CSAT",BOT_ATTACHMENT:"BOT_ATTACHMENT"},n={EMAIL:"email",NUMERIC:"number",DATE:"date",PLAIN_TEXT:"text"},r={FORWARD:"forward",BACKWARD:"backward"},s={PILLS:"option_pills",LIST_PICKER:"list_picker"};return{ACTIVE_FOOTER:e,AGRESSIVE_POLLING_TIMEOUT:3e3,MESSAGES_FORCE_POLLING_TIMEOUT:6500,USER_INPUT_TYPES:t,HTML_INPUT_TYPES:n,CURSOR_TYPES:r,MAX_POLLER_FAILURES_ALLOWED:2,USER_REDACTION_ERR_MSG:"User Not Found",USER_REDACTION_ERR_STATUS_CODE:404,ISSUE_REOPEN_ERR_STATUS_CODE:410,PICKER_INPUT_THRESHOLD:5,OPTIONS_INPUT_TYPES:s,PICKER_MIN_HEIGHT:112,INTENTS_SEARCH_DEBOUNCE_THRESHOLD:500,INTENTS_MINIMUM_CHAR_FOR_SEARCH:4,MAX_LEAF_NODE_INTENT_RESULTS:5,MAX_PARENT_INTENT_RESULTS:2,INTENTS_SEARCH_ALGO:{SUBSTRING:"substring",ML:"ml"},POLLING_STRATEGY_TYPES:{AGGRESSIVE:"aggressive",CONSERVATIVE:"conservative",V_AGGRESSIVE:"v_aggressive"},CONSERVATIVE_POLLING_BASE_MULTIPLIER:5e3,CONSERVATIVE_POLLING_INTERVAL:{MINIMUM:0,MAXIMUM:6e4},V_AGGRESSIVE_POLLING_INTERVALS:[400,800,1200,1600,2e3,2400,3e3],FAST_POLLING_MAX_FAILURES:3}}),define("constants/message",[],function(){"use strict";var e={TEXT:"Text",REQUEST_SCREENSHOT:"Request Screen shot",SCREENSHOT_SENT:"Screenshot",FAQ:"Faq",CSAT:"Csat",END_CHAT:"EndChat",ATTACHMENT:"Attachment",ACCEPTED:"Confirmation Accepted",REJECTED:"Confirmation Rejected",CHAT_SEPARATOR:"ChatSeparator",CONVERSATION_REDACTED:"Conversation Redacted",TEXT_MSG_WITH_TEXT_INPUT:"Text Message with Text Input",TEXT_MSG_WITH_EMAIL_INPUT:"Text Message with Email Input",TEXT_MSG_WITH_NUMERIC_INPUT:"Text Message with Numeric Input",TEXT_MSG_WITH_DATE_TIME_INPUT:"Text Message with Datetime Input",TEXT_MSG_WITH_OPTION_INPUT:"Text Message with Option Input",TEXT_MSG_WITH_ACTIONS:"Text Message with Actions",TEXT_RESOLUTION_MSG_WITH_OPTION_INPUT:"Text Resolution Message with Option Input",TEXT_CSAT_MSG_WITH_OPTION_INPUT:"Text CSAT Message with Option Input",TEXT_MESSAGE_WITH_FILE_INPUT:"Text Message with File Input",FAQ_LIST_WITH_OPTION_INPUT:"FAQ List with Options Input",EMPTY_MSG_WITH_TEXT_INPUT:"Empty Message with Text Input",INTENTS_WITH_OPTION_INPUT:"Intents with Option Input",RESP_TEXT_MSG_WITH_TEXT_INPUT:"Text Input Response",RESP_TEXT_MSG_WITH_EMAIL_INPUT:"Email Input Response",RESP_TEXT_MSG_WITH_NUMERIC_INPUT:"Numeric Input Response",RESP_TEXT_MSG_WITH_DATE_TIME_INPUT:"Datetime Input Response",RESP_TEXT_MSG_WITH_OPTION_INPUT:"Option Input Response",RESP_TEXT_RESOLUTION_MSG_WITH_OPTION_INPUT:"Resolution Message Option Input Response",RESP_TEXT_CSAT_MSG_WITH_OPTION_INPUT:"CSAT Message Option Input Response",RESP_TEXT_MSG_WITH_FILE_INPUT:"File Input Response",RESP_FAQ_LIST_WITH_OPTION_INPUT:"FAQ Options Response",RESP_EMPTY_MSG_WITH_TEXT_INPUT:"Empty Response",RESP_INTENTS_WITH_OPTION_INPUT:"Intents Option Input Response",BOT_STARTED:"Bot Started",BOT_ENDED:"Bot Ended",BOT_CANCELLED:"Bot Cancelled",SIS:"Smart Intent"};return{TYPE:e,ORIGIN:{ADMIN:"admin"},ROLE:{CHAT_BOTS:"chatbot"},STATE:{READ:"read"},BODY:{SOLUTION_ACCEPTED:"Accepted the solution",SOLUTION_REJECTED:"Did not accept the solution",UNSUPPORTED_INPUT:"Unsupported bot input",INTERRUPTED_BY_USER:"chatbot interrupted by user"},RENDERABLE_MESSAGE_TYPES:[e.TEXT,e.REQUEST_SCREENSHOT,e.SCREENSHOT_SENT,e.END_CHAT,e.ATTACHMENT,e.CHAT_SEPARATOR,e.CONVERSATION_REDACTED,e.TEXT_MSG_WITH_TEXT_INPUT,e.TEXT_MSG_WITH_EMAIL_INPUT,e.TEXT_MSG_WITH_NUMERIC_INPUT,e.TEXT_MSG_WITH_DATE_TIME_INPUT,e.TEXT_MSG_WITH_OPTION_INPUT,e.INTENTS_WITH_OPTION_INPUT,e.TEXT_MSG_WITH_ACTIONS,e.TEXT_RESOLUTION_MSG_WITH_OPTION_INPUT,e.FAQ_LIST_WITH_OPTION_INPUT,e.RESP_TEXT_MSG_WITH_TEXT_INPUT,e.RESP_TEXT_MSG_WITH_EMAIL_INPUT,e.RESP_TEXT_MSG_WITH_NUMERIC_INPUT,e.RESP_TEXT_MSG_WITH_DATE_TIME_INPUT,e.RESP_TEXT_MSG_WITH_OPTION_INPUT,e.RESP_TEXT_RESOLUTION_MSG_WITH_OPTION_INPUT,e.RESP_FAQ_LIST_WITH_OPTION_INPUT,e.RESP_EMPTY_MSG_WITH_TEXT_INPUT,e.RESP_TEXT_CSAT_MSG_WITH_OPTION_INPUT,e.SIS,e.TEXT_MESSAGE_WITH_FILE_INPUT,e.RESP_TEXT_MSG_WITH_FILE_INPUT,e.RESP_INTENTS_WITH_OPTION_INPUT],TEXT_INPUT_MESSAGE_TYPES:[e.RESP_EMPTY_MSG_WITH_TEXT_INPUT,e.RESP_TEXT_MSG_WITH_TEXT_INPUT,e.RESP_TEXT_MSG_WITH_EMAIL_INPUT,e.RESP_TEXT_MSG_WITH_NUMERIC_INPUT,e.RESP_TEXT_MSG_WITH_DATE_TIME_INPUT,e.RESP_TEXT_MSG_WITH_OPTION_INPUT,e.RESP_FAQ_LIST_WITH_OPTION_INPUT,e.RESP_INTENTS_WITH_OPTION_INPUT,e.TEXT],MESSAGE_ADD_EVENT_TYPES:{TEXT:"text",ATTACHMENT:"attachment"},BOT_STEP_MESSAGES:[e.TEXT_MSG_WITH_TEXT_INPUT,e.TEXT_MSG_WITH_EMAIL_INPUT,e.TEXT_MSG_WITH_NUMERIC_INPUT,e.TEXT_MSG_WITH_DATE_TIME_INPUT,e.TEXT_MSG_WITH_OPTION_INPUT,e.TEXT_MSG_WITH_ACTIONS,e.TEXT_RESOLUTION_MSG_WITH_OPTION_INPUT,e.TEXT_CSAT_MSG_WITH_OPTION_INPUT,e.FAQ_LIST_WITH_OPTION_INPUT,e.EMPTY_MSG_WITH_TEXT_INPUT,e.RESP_TEXT_MSG_WITH_TEXT_INPUT,e.RESP_TEXT_MSG_WITH_EMAIL_INPUT,e.RESP_TEXT_MSG_WITH_NUMERIC_INPUT,e.RESP_TEXT_MSG_WITH_DATE_TIME_INPUT,e.RESP_TEXT_MSG_WITH_OPTION_INPUT,e.RESP_FAQ_LIST_WITH_OPTION_INPUT,e.RESP_EMPTY_MSG_WITH_TEXT_INPUT,e.RESP_TEXT_CSAT_MSG_WITH_OPTION_INPUT,e.TEXT_MESSAGE_WITH_FILE_INPUT,e.RESP_TEXT_MSG_WITH_FILE_INPUT,e.INTENTS_WITH_OPTION_INPUT,e.RESP_INTENTS_WITH_OPTION_INPUT],BOT_CANCEL_REASON:{UNSUPPORTED_INPUT:"unsupported_bot_input",INTERRUPTED_BY_USER:"chatbot_interrupted_by_user"},FAQ_SUGGESTION_SOURCES:{ANSWER_BOT:"ab-ai",CUSTOM_BOT:"cb-ai"},MESSAGE_ROLES:{SYSTEM_MSG:"s",AGENT_MSG:"a",BOT_MSG:"b"},ACTION_TYPES:{LINK:"link",CALL:"call"},BOT_STEP_USER_INPUT_MESSAGE_TYPES:[e.TEXT_MSG_WITH_EMAIL_INPUT,e.TEXT_MSG_WITH_NUMERIC_INPUT,e.TEXT_MSG_WITH_TEXT_INPUT,e.TEXT_MSG_WITH_DATE_TIME_INPUT,e.TEXT_MSG_WITH_OPTION_INPUT,e.TEXT_MSG_WITH_ACTIONS,e.TEXT_RESOLUTION_MSG_WITH_OPTION_INPUT,e.TEXT_CSAT_MSG_WITH_OPTION_INPUT,e.FAQ_LIST_WITH_OPTION_INPUT,e.TEXT_MESSAGE_WITH_FILE_INPUT,e.INTENTS_WITH_OPTION_INPUT]}}),define("helpers/intentModelSearch",["gunpowder/utils/object"],function(e){"use strict";var t=function(e){var t=e.reduce(function(e,t){return Math.max(e,t)});e=e.map(function(e){return Math.exp(e-t)});var n=e.reduce(function(e,t){return e+t},0);return e.map(function(e){return e/n})},n=function(e,t){return t.map(function(t,n){return{intentId:t,probability:e[n]}}).sort(function(e,t){return t.probability-e.probability})},r=function(e,n){var r=e.vocabulary,s=e.weights,a=s.wordIntentProbabilities,o=s.intentsBaseProbabilities,i=n.reduce(function(e,t){var n=r.indexOf(t);return-1===n?e:e.map(function(e,t){return e+a[n][t]})},o);return t(i)},s=function(e,t,n){var r=t.confidenceThreshold,s=t.maxCombinedConfidence;if(e[0].probability<r)return 0;for(var a=0,o=0;o<e.length&&a<s;)a+=e[o].probability,o++;return Math.min(o,n)},a=function(e,t){var n="\\"+t.join("|\\"),r=new RegExp(n,"gm");return e.split(r)},o=function(t,n){var r={},s=n.intentsMap,a=n.maxNumberOfParentIntents;return t.forEach(function(e){var t=e.intentId,n=e.probability,a=s[t].parentId;r[a]||(r[a]={intentId:a,probability:0,children:[]});var o=r[a];o.probability+=o.probability+n,o.children.push(e)}),e.getAllValues(r).sort(function(e,t){return t.probability-e.probability}).splice(0,a).reduce(function(e,t){return[].concat(_toConsumableArray(e),_toConsumableArray(t.children))},[])};return{match:function(e){var t=e.model,i=e.query,c=e.maxNumberOfLeafIntents,u=e.tokenDelimiters,l=a(i.toLowerCase(),u),p=r(t,l),d=n(p,t.intentIds),_=s(d,t.parameters,c);return _>0?{searchResults:d.splice(0,_),searchLevel:2}:{searchResults:o(d,e),searchLevel:1}}}}),define("helpers/intent",["helpers/intentModelSearch","gunpowder/utils/object","constants/chatView"],function(e,t,n){"use strict";var r=n.MAX_LEAF_NODE_INTENT_RESULTS,s=n.MAX_PARENT_INTENT_RESULTS;return{substringSearch:function(e,n){var a=[],o=[],i=[];return n=n.trim().toLowerCase(),t.forEachKey(e,function(e,t){-1!==t.label.toLowerCase().indexOf(n)&&(t.children&&t.children.length?o.push(e):a.push(e))}),a.length?i=a.slice(0,r):o.length&&(i=o.slice(0,s).reduce(function(t,n){return t.concat(e[n].children.slice(0,r))},[])),{searchResults:i.map(function(e){return{intentId:e,probability:null}}),searchLevel:2}},modelSearch:function(t){var n=t.model,a=t.intentsMap,o=t.query,i=t.tokenDelimiters;return e.match({model:n,intentsMap:a,query:o,tokenDelimiters:i,maxNumberOfLeafIntents:r,maxNumberOfParentIntents:s})}}}),define("utils/browser",[],function(){"use strict";var e=/Macintosh/i,t=e.test(navigator.userAgent),n=t&&"ontouchend"in document,r=function(){return/Android|BlackBerry|iPhone|iPad|iPod|Opera Mini|IEMobile|WPDesktop|XBLWP7/i.test(navigator.userAgent)||n},s=function(){var e=window.navigator;return e.languages&&e.languages[0]||e.language||e.userLanguage},a=function(){return navigator&&/bot|googlebot|crawler|spider|robot|crawling/i.test(navigator.userAgent)},o=function(){return void 0!==window.ontouchstart};return{isMobile:r,isPlatformIos:function(){return(t||/iPad|iPhone|iPod/.test(navigator.userAgent)||n)&&!window.MSStream},isBrowserSafari:function(){return!!navigator.userAgent.match(/Version\/[\d\.]+.*Safari/)},getLanguage:s,isBot:a,areTouchEventsSupported:o,getIosVersion:function(){try{return navigator.userAgent.match(/OS [\d_]+/i)[0].substr(3).split("_").map(function(e){return parseInt(e,10)})[0]}catch(e){return 13}},isCssVarSupported:function(){var e,t;return!!(null===(e=window)||void 0===e?void 0:null===(t=e.CSS)||void 0===t?void 0:t.supports("color","var(--fake-var)"))}}}),define("helpers/polling",["constants/message","constants/chatView"],function(e,t){"use strict";var n=e.BOT_STEP_USER_INPUT_MESSAGE_TYPES,r=e.TYPE,s=t.CONSERVATIVE_POLLING_INTERVAL,a=t.V_AGGRESSIVE_POLLING_INTERVALS,o=t.AGRESSIVE_POLLING_TIMEOUT,i=t.POLLING_STRATEGY_TYPES,c=function(e){if(!e||!e.length)return!1;var t=e[e.length-1];return n.includes(t.type)};return{areNewBotMessagesExpected:function(e){var t=-1,n=-1,s=e.length-1;if(c(e))return!1;for(;s>=0&&-1===t&&-1===n;){var a=e[s];a.type===r.BOT_ENDED?t=s:a.type===r.BOT_STARTED&&(n=s),s--}return!(t>-1)&&n>-1},isBotStepInputExpected:c,getPollingInterval:function(e){switch(e){case i.AGGRESSIVE:return o;case i.CONSERVATIVE:return s.MINIMUM;case i.V_AGGRESSIVE:return a[0]}}}}),define("reducers/chatView",["constants/appState","constants/chatView","constants/actionTypes","constants/message","gunpowder/utils/object","gunpowder/utils/array","helpers/intent","utils/browser","constants/errors","helpers/polling"],function(e,t,n,r,s,a,o,i,c,u){"use strict";var l,p=React.addons.update,d=e.ISSUE_TYPE,_=e.ISSUE_STATE,E=t.ACTIVE_FOOTER,f=t.USER_INPUT_TYPES,T=t.CURSOR_TYPES,h=t.INTENTS_MINIMUM_CHAR_FOR_SEARCH,g=t.INTENTS_SEARCH_ALGO,m=t.POLLING_STRATEGY_TYPES,S=t.AGRESSIVE_POLLING_TIMEOUT,I=t.USER_REDACTION_ERR_MSG,y=t.USER_REDACTION_ERR_STATUS_CODE,R=r.TYPE,v=i.isMobile(),C=c.TYPE,b={type:"",title:"",subtitle:"",cta:""},A=(l={},_defineProperty(l,T.FORWARD,{value:"",meta:{issueType:"",issueId:""}}),_defineProperty(l,T.BACKWARD,{value:"",meta:{issueType:"",issueId:"",preIssueId:""}}),l),P=function(){return{value:"",defaultInputValue:"",type:f.DEFAULT_INPUT,disabled:!1,required:!0,options:null,selectedOption:null,label:"",skipLabel:"",skipped:!1,newConversationStarted:!1,placeholder:"",errorMsg:""}},O=function(e,t){var n=e.map(function(e){return e.id});return t.filter(function(e){return-1===n.indexOf(e.id)})},N=function(e,t){var n=t.filter(function(e){return e.redacted}),r=n.map(function(e){return e.id});return e.map(function(e){var t=r.indexOf(e.id);return-1===t?e:n[t]})},F=function(e){return e.userInput.type===f.DEFAULT_INPUT},w=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r={},a=[];return t.forEach(function(t){var o,i=t.id,c=t.children;c&&c.length&&(o=e(c,i)),r[i]={id:i,label:t.label,parentId:n,showByDefault:t.show_by_default},o&&(r[i].children=o.ids,s.shallowMerge(r,o.intentsMap)),a.push(i)}),{intentsMap:r,ids:a}},L=function(){return{id:"",version:0,updatedAt:0,lastFetchTime:0,intentsMap:{},topLevelIntentsOrder:[]}},M={userInput:P(),activeFooter:E.REPLY,activeIssueMsgCursor:null,systemTyping:!1,agentTyping:!1,unreadIssues:{},unreadMessageIds:[],markMessageAsSeenXhrIsInProgress:!1,loadingMoreMsgsHasFailed:!1,botState:{botStepInProgress:!1,botStepMessage:null},messageList:[],messageCursor:A,intents:{loading:!1,enforceIntentSelection:!1,tree:L(),model:null,selectedIntentIds:[],isSearching:!1,searchAlgo:"",searchLevel:0,searchResultIntents:[]},userIsViewingPastMessages:!1,userIsRedacted:!1,requiredMessagesHaveLoaded:!1,pastConversationsLoading:!1,issueCursor:0,pollerFailureCount:0,isCsatSubmitted:!1,readFaqList:[],loading:!1,error:b,localGreetingMessageId:"",avatarLastUpdatedTs:{},pollingStrategy:m.AGGRESSIVE,pollingInterval:S,xhrEndedDueToNetworkDisconnect:!1,userReplyXhrInProgress:!1,attachmentUploadIsInProgress:{},rating:0,csatSurveyEventIsTriggered:!1,review:"",csatSaveInProgress:!1,emojiWidgetIsOpened:!1,firstPollerCallHasSucceeded:!1,analyticsEventsQueue:[],latestBotAttachmentMessageId:null,uploadProgress:null,dateSeparatorIsFromStartNewConversation:!1,resolutionButtonIsDisabled:!1},D=function(e,t){return a.findIndexByKey(e,t,"id")};return function(){var e,t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,a=arguments.length>1?arguments[1]:void 0,i=null;switch(a.type){case n.REHYDRATE:var c={};return a.data.readFaqList&&(c.readFaqList={$set:a.data.readFaqList}),p(r,c);case n.NEW_CONVERSATION_STARTED:var l=a.conversationHistoryIsEnabled,T=P(),k={activeFooter:{$set:E.REPLY},userInput:{$merge:T},pollerFailureCount:{$set:0},isCsatSubmitted:{$set:!1},rating:{$set:0},review:{$set:""},csatSaveInProgress:{$set:!1}};return l||(k.messageList={$set:[]},k.unreadIssues={$set:{}},k.unreadMessageIds={$set:[]},k.messageCursor={$set:A},k.issueCursor={$set:0},k.activeIssueMsgCursor={$set:null}),p(r,k);case n.CREATE_PREISSUE_REQUEST:return p(r,{userInput:{disabled:{$set:!0}},systemTyping:{$set:!0}});case n.CREATE_PREISSUE_SUCCESS:var U=a.issueType===d.PRE_ISSUE,H=F(r)?"":r.userInput.defaultInputValue;return p(r,{userInput:{value:{$set:""},defaultInputValue:{$set:H},disabled:{$set:U},errorMsg:{$set:""}},intents:{selectedIntentIds:{$set:[]},isSearching:{$set:!1},searchAlgo:{$set:""},searchResultIntents:{$set:[]}},systemTyping:{$set:!1},error:{$set:b}});case n.CREATE_PREISSUE_FAILURE:var V=a.error;return p(r,{userInput:{disabled:{$set:!1}},systemTyping:{$set:!1},error:{$set:V},loading:{$set:!1}});case n.USER_REPLY_REQUEST:var x=a.issueType,B=a.botStepInProgress,G=a.renderSystemTyping,j=a.fastPollingIsEnabled,W=x===d.ISSUE,q=x===d.PRE_ISSUE,K=(q||W&&B)&&G,Y=!v,$={userInput:{disabled:{$set:Y}},systemTyping:{$set:K},userReplyXhrInProgress:{$set:!0}};if(j&&B){var z=m.V_AGGRESSIVE;$.pollingStrategy={$set:z},$.pollingInterval={$set:u.getPollingInterval(z)}}return p(r,$);case n.USER_REPLY_SUCCESS:var X=a.messages,Q=a.issueType,Z=a.botStepInProgress,J=a.messageType,ee=N(r.messageList,X),te=O(r.messageList,X),ne=ee.concat(te),re=Q===d.ISSUE&&!Z,se=F(r)?"":r.userInput.defaultInputValue,ae={userInput:{disabled:{$set:!re},value:{$set:""},defaultInputValue:{$set:se},errorMsg:{$set:""}},messageList:{$set:ne},userReplyXhrInProgress:{$set:!1}};return J===R.RESP_FAQ_LIST_WITH_OPTION_INPUT&&(ae.readFaqList={$set:[]}),p(r,ae);case n.USER_REPLY_FAILURE:return p(r,{userInput:{disabled:{$set:!1}},systemTyping:{$set:!1},userReplyXhrInProgress:{$set:!1}});case n.SMART_INTENT_SEARCH_INTENT:var oe=a.searchText,ie=r.intents,ce=ie.tree.intentsMap,ue=ie.model,le=ie.tokenDelimiters,pe={};if(oe.trim().length<h)pe.isSearching={$set:!1},pe.searchResultIntents={$set:[]};else if(ue){var de=o.modelSearch({model:ue,intentsMap:ce,query:oe,tokenDelimiters:le});pe.isSearching={$set:!0},pe.searchResultIntents={$set:de.searchResults},pe.searchLevel={$set:de.searchLevel},pe.searchAlgo={$set:g.ML}}else{var _e=o.substringSearch(ce,oe);pe.isSearching={$set:!0},pe.searchResultIntents={$set:_e.searchResults},pe.searchLevel={$set:_e.searchLevel},pe.searchAlgo={$set:g.SUBSTRING}}return p(r,{intents:pe});case n.UPDATE_REPLY_TEXT:return p(r,{userInput:{value:{$set:a.value},defaultInputValue:{$set:F(r)?a.value:r.userInput.defaultInputValue},errorMsg:{$set:""}}});case n.SET_ACTIVE_ISSUE_MSG_CURSOR:var Ee=a.msgCursor,fe=Ee.cursorTs,Te=Ee.issueType,he=Ee.issueId,ge=Ee.preIssueId,me=Ee.cursorType;return p(r,{messageCursor:_defineProperty({},me,{value:{$set:fe},meta:{issueType:{$set:Te},issueId:{$set:he},preIssueId:{$set:ge}}})});case n.SET_CHAT_VIEW_FOOTER:var Se={};return a.footer===E.REPLY&&r.activeFooter!==E.REPLY&&(Se=P()),p(r,{activeFooter:{$set:a.footer},userInput:{$merge:Se}});case n.RESOLUTION_QUESTION_ACCEPT_REQUEST:case n.RESOLUTION_QUESTION_ACCEPT_END:case n.RESOLUTION_QUESTION_REJECT_REQUEST:case n.RESOLUTION_QUESTION_REJECT_END:return p(r,{resolutionButtonIsDisabled:{$set:a.payload.resolutionButtonIsDisabled}});case n.RESOLUTION_QUESTION_ACCEPT_SUCCESS:case n.RESOLUTION_QUESTION_REJECT_SUCCESS:var Ie=a.payload,ye=Ie.activeFooter,Re=Ie.resolutionButtonIsDisabled,ve={resolutionButtonIsDisabled:{$set:Re}};return ye&&(ve.activeFooter={$set:ye}),p(r,ve);case n.DISABLE_REPLY_BOX:return p(r,{userInput:{disabled:{$set:!0}}});case n.ENABLE_REPLY_BOX:return p(r,{userInput:{disabled:{$set:!1}}});case n.TOGGLE_SYSTEM_TYPING:return p(r,{systemTyping:{$set:a.typing}});case n.TOGGLE_CONVERSATIONS_LOADER:return p(r,{pastConversationsLoading:{$set:a.loading}});case n.TOGGLE_AGENT_TYPING:return p(r,{agentTyping:{$set:a.typing}});case n.UPDATE_UNREAD_MESSAGES_DATA:return p(r,{unreadIssues:{$merge:a.issues},unreadMessageIds:{$push:a.messageIds}});case n.PAGE_VISIBILITY_CHANGE:var Ce=a.data,be=Ce.parentPageIsVisible,Ae=Ce.pollingStrategy,Pe=Ce.widgetIsMinimized;return!Pe&&be||Ae===m.CONSERVATIVE?be&&!Pe&&Ae!==m.AGGRESSIVE?p(r,{pollingStrategy:{$set:m.AGGRESSIVE},pollingInterval:{$set:S}}):p(r,{pollingStrategy:{$set:r.pollingStrategy},pollingInterval:{$set:r.pollingInterval}}):p(r,{pollingStrategy:{$set:m.CONSERVATIVE},pollingInterval:{$set:0}});case n.UPDATE_POLLING_DATA:return p(r,{pollingStrategy:{$set:a.pollingStrategy},pollingInterval:{$set:a.pollingInterval}});case n.MARK_MESSAGES_SEEN_XHR_REQUEST:return p(r,{markMessageAsSeenXhrIsInProgress:{$set:!0}});case n.MARK_MESSAGES_SEEN_XHR_SUCCESS:return p(r,{unreadIssues:{$set:{}},unreadMessageIds:{$set:[]}});case n.MARK_MESSAGES_SEEN_XHR_END:return p(r,{markMessageAsSeenXhrIsInProgress:{$set:!1}});case n.UPDATE_READ_FAQ_LIST:return p(r,{readFaqList:{$push:[a.faqId]}});case n.SET_LOADING_MORE_MSGS_FAILED:return p(r,{loadingMoreMsgsHasFailed:{$set:a.loadingMoreMsgsHasFailed}});case n.SET_USER_IS_REDACTED:return p(r,{userIsRedacted:{$set:a.userIsRedacted}});case n.RESET_USER_INPUT_DATA:var Oe=s.shallowMerge(P(),{value:r.userInput.defaultInputValue});return p(r,{userInput:{$set:Oe}});case n.UPDATE_USER_INPUT_DATA:return p(r,{userInput:{$merge:a.input}});case n.SET_USER_SELECTED_OPTION:return p(r,{userInput:{selectedOption:{$set:a.option}}});case n.SET_USER_VIEWING_PAST_MESSAGES:return p(r,{userIsViewingPastMessages:{$set:a.isViewing}});case n.APPEND_MESSAGES:var Ne=N(r.messageList,a.messages),Fe=O(r.messageList,a.messages),we=Ne.concat(Fe),Le={messageList:{$set:we}};if(a.responseType===R.RESP_FAQ_LIST_WITH_OPTION_INPUT&&(Le.readFaqList={$set:[]}),a.fastPollingIsEnabled){var Me=u.areNewBotMessagesExpected(we),De=Me?m.V_AGGRESSIVE:m.AGGRESSIVE;Le.pollingStrategy={$set:De},Le.pollingInterval={$set:u.getPollingInterval(De)}}return p(r,Le);case n.UPDATE_AVATAR_LAST_UPDATED_TS:return p(r,{avatarLastUpdatedTs:{$set:_objectSpread({},r.avatarLastUpdatedTs,{},a.avatarsTs)}});case n.PREPEND_MESSAGES:var ke=O(r.messageList,a.messages),Ue=ke.concat(r.messageList);return p(r,{messageList:{$set:Ue}});case n.REMOVE_MESSAGE:return i=D(r.messageList,a.messageId),i>-1?p(r,{messageList:{$splice:[[i,1]]}}):r;case n.ATTACHMENT_UPLOAD_FAILED:var He,Ve,xe={},Be={};return(null===(He=a.payload)||void 0===He?void 0:He.messageType)!==R.RESP_TEXT_MSG_WITH_FILE_INPUT&&(null===(Ve=a.payload)||void 0===Ve?void 0:Ve.messageType)!==R.SCREENSHOT_SENT||(i=D(r.messageList,a.payload.referringMessageId),Be=_defineProperty({},i,{
responseReceived:{$set:!1}}),xe.uploadProgress={$set:null}),i=D(r.messageList,a.payload.messageId),xe.messageList=_objectSpread(_defineProperty({},i,{states:{uploadInProgress:{$set:!1},error:{$set:!0},errorCode:{$set:a.payload.errorCode}}}),Be),p(r,xe);case n.SET_ISSUE_CURSOR:return p(r,{issueCursor:{$set:a.cursor}});case n.SET_CSAT_SUBMITTED:return p(r,{isCsatSubmitted:{$set:a.submitted}});case n.SET_POLLER_FAILURE_COUNT:return p(r,{pollerFailureCount:{$set:a.count}});case n.TOGGLE_CHAT_VIEW_LOADING:return p(r,{loading:{$set:a.loading}});case n.SET_CHAT_VIEW_ERROR:return p(r,{error:{$set:a.error}});case n.SET_BOT_STEP_IN_PROGRESS:return p(r,{botState:{botStepInProgress:{$set:a.inProgress}}});case n.SAVE_BOT_STEP_MESSAGE:return p(r,{botState:{botStepMessage:{$set:a.message}}});case n.INTENTS_TREE_REQUEST:return p(r,{intents:{loading:{$set:!0}}});case n.INTENTS_TREE_SUCCESS:var Ge=a.response,je=a.fetchTime,We=w(Ge.tree),qe=We.intentsMap,Ke=We.ids;return p(r,{intents:{loading:{$set:!1},enforceIntentSelection:{$set:Ge.eis},tokenDelimiters:{$set:Ge.token_delimiters},tree:{id:{$set:Ge.id},version:{$set:Ge.version},updatedAt:{$set:Ge.updated_at},lastFetchTime:{$set:je},intentsMap:{$set:qe},topLevelIntentsOrder:{$set:Ke}}}});case n.INTENTS_TREE_FAILURE:var Ye={intents:{loading:{$set:!1},tree:{$set:L()}}};return Ye.intents.tree={lastFetchTime:{$set:a.fetchTime}},p(r,Ye);case n.INTENTS_MODEL_SUCCESS:var $e=a.response;return p(r,{intents:{model:{$set:{version:$e.version,intentIds:$e.intent_ids,vocabulary:$e.vocabulary,weights:{wordIntentProbabilities:$e.weights.word_label_probabilities,intentsBaseProbabilities:$e.weights.label_base_probabilities},parameters:{confidenceThreshold:$e.parameters.confidence_threshold,maxCombinedConfidence:$e.parameters.max_combined_confidence}}}}});case n.SMART_INTENT_SELECTION:var ze,Xe=r.intents,Qe=Xe.tree.intentsMap,Ze=Xe.isSearching,Je=a.intent.id;if(Ze){for(var et=Qe[Je],tt=[];et.parentId;)tt.push(et.id),et=Qe[et.parentId];tt.push(et.id),ze={$set:tt.reverse()}}else ze={$push:[Je]};return p(r,{intents:{selectedIntentIds:ze}});case n.STOP_INTENTS_SEARCH:return p(r,{intents:{isSearching:{$set:!1},searchResultIntents:{$set:[]},searchAlgo:{$set:""}}});case n.SMART_INTENT_DESELECTION:return p(r,{intents:{selectedIntentIds:{$splice:[[r.intents.selectedIntentIds.length-1,1]]}}});case n.BOT_START:return p(r,{userInput:{disabled:{$set:!0}},systemTyping:{$set:!0}});case n.BOT_END:var nt=a.nextMessageIsBotStep,rt=a.issueIsResolved,st=s.shallowMerge(P(),{value:r.userInput.defaultInputValue,disabled:!(!nt&&!rt)}),at=r.activeFooter;return at===E.NONE&&(at=E.REPLY),p(r,{userInput:{$set:st},systemTyping:{$set:!(!nt||rt)},activeFooter:{$set:at}});case n.BOT_MESSAGE_WITH_NO_USER_INPUT:if(a.issueType===d.ISSUE){var ot=s.shallowMerge(P(),{value:r.userInput.defaultInputValue,disabled:!1});return p(r,{userInput:{$set:ot},systemTyping:{$set:!1}})}return p(r,{userInput:{disabled:{$set:!0}},systemTyping:{$set:!0}});case n.BOT_MESSAGE_WITH_USER_INPUT:var it=a.userInput,ct=s.shallowMerge(P(),it);if(ct.defaultInputValue=r.userInput.defaultInputValue,ct.disabled=!1,it.type===f.DATE&&v){var ut=new Date;ct.value=ut.toISOString().slice(0,10)}var lt=it.type===f.CSAT?E.CSAT:E.REPLY;return p(r,{userInput:{$set:ct},activeFooter:{$set:lt},systemTyping:{$set:!1}});case n.SET_LOCAL_GREETING_MESSAGE_ID:return p(r,{localGreetingMessageId:{$set:a.id}});case n.CLEAR_CHAT_VIEW_ERRORS:return p(r,{error:{$set:b}});case n.RESET:return M;case n.XHR_ENDED_DUE_TO_NETWORK_DISCONNECT:return p(r,{xhrEndedDueToNetworkDisconnect:{$set:!0}});case n.DEVICE_ONLINE_SUCCESS:return p(r,{userInput:{disabled:{$set:!1}},systemTyping:{$set:!1},userReplyXhrInProgress:{$set:!1}});case n.POLLER_FAILURE:var pt=a.payload,dt=pt.response,_t=pt.statusCode,Et=pt.uiErrorText,ft={};return dt.msg===I&&_t===y&&(ft={userIsRedacted:{$set:!0},error:{type:{$set:C.USER_IS_REDACTED},cta:{$set:Et.retryBtn}}}),p(r,ft);case n.MESSAGE_ATTACHMENT_UPLOAD_STARTED:return a.payload.messageType===R.RESP_TEXT_MSG_WITH_FILE_INPUT||a.payload.messageType===R.SCREENSHOT_SENT?(i=D(r.messageList,a.payload.referringMessageId),p(r,{messageList:_defineProperty({},i,{responseReceived:{$set:!0}})})):r;case n.ATTACHMENT_UPLOAD_REQUEST:case n.ATTACHMENT_UPLOAD_END:var Tt={};if((null===(e=a.payload)||void 0===e?void 0:e.messageType)===R.RESP_TEXT_MSG_WITH_FILE_INPUT||(null===(t=a.payload)||void 0===t?void 0:t.messageType)===R.SCREENSHOT_SENT){var ht;i=D(r.messageList,null===(ht=a.payload)||void 0===ht?void 0:ht.referringMessageId),Tt={messageList:_defineProperty({},i,{responseReceived:{$set:!0}})}}return Tt=_objectSpread({attachmentUploadIsInProgress:_defineProperty({},a.payload.attachmentMsgId,{$set:a.payload.uploadIsInProgress}),uploadProgress:{$set:a.payload.uploadProgress}},Tt),p(r,Tt);case n.UPDATE_CSAT_RATING:return p(r,{rating:{$set:a.rating},csatSurveyEventIsTriggered:{$set:a.csatSurveyEventIsTriggered}});case n.UPDATE_CSAT_REVIEW:return p(r,{review:{$set:a.review}});case n.SET_CSAT_SAVE_IN_PROGRESS:return p(r,{csatSaveInProgress:{$set:a.progress}});case n.RESET_CSAT:return p(r,{rating:{$set:0},review:{$set:""},csatSurveyEventIsTriggered:{$set:!1}});case n.TOGGLE_EMOJI_WIDGET_STATE:return p(r,{emojiWidgetIsOpened:{$set:!r.emojiWidgetIsOpened}});case n.SELECT_EMOJI:return p(r,{userInput:{value:{$set:a.payload.value},emojiWidgetIsOpened:{$set:!r.emojiWidgetIsOpened}}});case n.FIRST_POLLER_CALL_SUCCESS:return p(r,{firstPollerCallHasSucceeded:{$set:!0},requiredMessagesHaveLoaded:{$set:a.payload.requiredMessagesHaveLoaded}});case n.ENQUEUE_POLLER_DEPENDENT_ANALYTIC_EVENTS:return p(r,{analyticsEventsQueue:{$push:[a.payload.event]}});case n.ANALYTIC_EVENTS_QUEUE_CLEARED:return p(r,{analyticsEventsQueue:{$set:[]}});case n.STAR_RATING_UPDATE_WHEN_CONTEXT_IS_FEEDBACK_BOTS:return p(r,{userInput:{selectedOption:{$set:r.userInput.ratings[a.payload.value-1]}},rating:{$set:a.payload.value},csatSurveyEventIsTriggered:{$set:!0}});case n.USER_INTERRUPT_FEEDBACK_BOT:var gt=s.shallowMerge(P(),{newConversationStarted:!0});return p(r,{userInput:{$merge:gt},userReplyXhrInProgress:{$set:!1},botState:{botStepInProgress:{$set:!1},botStepMessage:{$set:null}}});case n.CSAT_SUBMIT_SUCCESS_WHEN_FEEDBACK_BOTS:var mt=a.payload.issueState===_.CLOSED?E.START_NEW_CONVERSATION:E.NONE;return p(r,{activeFooter:{$set:mt},userInput:{$set:P()},rating:{$set:0}});case n.CHAT_END:return p(r,{activeFooter:{$set:E.START_NEW_CONVERSATION}});case n.GET_CONVERSATION_HISTORY_SUCCESS:return p(r,{requiredMessagesHaveLoaded:{$set:a.payload.requiredMessagesHaveLoaded}});case n.EMPTY_FAST_POLLING_LIMIT_REACHED:return r.pollingStrategy!==m.AGGRESSIVE?p(r,{pollingStrategy:{$set:m.AGGRESSIVE},pollingInterval:{$set:S}}):r;case n.FAST_POLLER_FAILURE_LIMIT_REACHED:return r.PollingStrategy!==m.AGGRESSIVE?p(r,{pollingStrategy:{$set:m.AGGRESSIVE},pollingInterval:{$set:S}}):r;case n.DATE_SEPARATOR_IS_FROM_START_NEW_CONVERSATION:return p(r,{dateSeparatorIsFromStartNewConversation:{$set:!0}});case n.ALL_PREVIOUS_ISSUES_ARE_FULL_PRIVACY:return p(r,{firstPollerCallHasSucceeded:{$set:!0}});case n.FOUND_LATEST_BOT_ATTACHMENT_MESSAGE:return p(r,{latestBotAttachmentMessageId:{$set:a.payload.id}});case n.ATTACHMENT_UPLOAD_IN_PROGRESS:return p(r,{uploadProgress:{$set:a.payload.progress}});default:return r}}}),define("reducers/faqView",["constants/actionTypes"],function(e){"use strict";var t=React.addons.update,n={activeFaq:null,loading:!1,errorMsg:""};return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n,s=arguments.length>1?arguments[1]:void 0;switch(s.type){case e.RESET:return n;case e.SET_ACTIVE_FAQ:return t(r,{activeFaq:{$set:s.faq}});case e.TOGGLE_FAQ_LOADING:return t(r,{loading:{$set:s.loading}});case e.SET_FAQ_ERROR_MESSAGE:return t(r,{errorMsg:{$set:s.errorMsg}});default:return r}}}),define("constants/businessHoursView",[],function(){"use strict";return{CONTACT_FORM_FIELDS:{NAME:"name",EMAIL:"email",MESSAGE:"message"},OFFLINE_BEHAVIOUR:{CONTACT_FORM:"contact_form",OFFLINE_MESSAGE:"offline_message",HIDE_WIDGET:"hide_widget"}}}),define("constants/attachments",[],function(){"use strict";var e={ADD:"ADD",REMOVE:"REMOVE"},t={BYTES:"Bytes",KB:"KB",MB:"MB",GB:"GB"};return{MAX_ATTACHMENT_LIMIT:5,ATTACHMENT_OPERATIONS:e,MAX_FILE_SIZE:25,UNITS:t,UNITS_LIST:[t.BYTES,t.KB,t.MB,t.GB],MAX_CHAR_LIMIT:22,MAX_EXTENSION_LIMIT:5,ELLIPSIS_LENGTH:3,BUSINESS_HOURS_ALLOWED_REMOVE_COUNT:1,ALLOW_ALL_ATTACHMENT_WHITELIST:"*/*",MAX_FILE_SIZE_FOR_BOT_ATTACHMENTS:20}}),define("helpers/attachments",["constants/attachments","gunpowder/utils/array","constants/message","utils/browser"],function(e,t,n,r){"use strict";var s=e.MAX_ATTACHMENT_LIMIT,a=e.ATTACHMENT_OPERATIONS,o=e.MAX_FILE_SIZE,i=e.MAX_FILE_SIZE_FOR_BOT_ATTACHMENTS,c=e.UNITS,u=e.UNITS_LIST,l=e.MAX_CHAR_LIMIT,p=e.MAX_EXTENSION_LIMIT,d=e.ELLIPSIS_LENGTH,_=e.ALLOW_ALL_ATTACHMENT_WHITELIST,E=n.TYPE,f=r.isMobile(),T=function(e){if(e<1024)return{size:e,unit:c.BYTES};var t=parseInt(Math.floor(Math.log(e)/Math.log(1024)),10);return{size:Math.round(e/Math.pow(1024,t),2),unit:u[t]}};return{humanizeFileSize:function(e){var t=T(e);return"".concat(t.size," ").concat(t.unit)},isAttachmentsNumberValid:function(e,t,n){return n===a.ADD?e+t<=s:e-t<=s},isAttachmentsSizeValid:function(e,t){var n=T(e),r=u.indexOf(c.MB),s=u.indexOf(n.unit)>r,a=o;return t&&t===E.RESP_TEXT_MSG_WITH_FILE_INPUT&&(a=i),!(n.unit===c.MB&&n.size>=a||s)},isAttachmentWhitelisted:function(e,n){return!(e&&!t.includes(n,_))||t.includes(n,e)},getFormattedFileName:function(e){if(e.length<=l)return e;var t=e.split("."),n=t.length>1?t[t.length-1]:"",r=n.length;r>p&&(n=n.slice(r-p,r));var s=l-d-n.length;return"".concat(e.slice(0,s),"...").concat(n)},isImageAttachment:function(e){return!!e&&e.indexOf("image/")>-1},shouldShowUploadProgress:function(e){var t=e.online,n=e.attachmentUploadIsInProgress,r=e.messageId,s=e.attachmentUploadProgress;return t&&n&&n[r]&&s&&!isNaN(s)&&100!==s},resolveAttachmentFileSizeErrorMessage:function(e,t){if(t!==E.RESP_TEXT_MSG_WITH_FILE_INPUT)return e;var n=e.replace(/\D/g,"");return n?e.replace(n,parseInt(i,10)):e},shouldAcceptAttributeBeEmpty:function(e){return f&&r.isPlatformIos()&&t.includes(e,_)}}}),define("gunpowder/utils/uuid",[],function(){"use strict";return function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}}),define("reducers/businessHoursView",["constants/actionTypes","constants/businessHoursView","constants/attachments","helpers/attachments","gunpowder/utils/uuid","constants/errors"],function(e,t,n,r,s,a){"use strict";var o=React.addons.update,i=t.CONTACT_FORM_FIELDS,c=i.NAME,u=i.EMAIL,l=i.MESSAGE,p=n.ATTACHMENT_OPERATIONS,d=n.BUSINESS_HOURS_ALLOWED_REMOVE_COUNT,_=a.RESPONSE_STATUS_CODE,E={businessHoursEnabled:!1,inBusinessHours:!0,offlineBehaviour:"",contactFormDisabled:!1,contactFormSubmitted:!1,submitInProgress:!1,contactFormDetails:{name:{enabled:!0,value:{name:c,value:"",validations:["required"]}},email:{enabled:!0,value:{name:u,value:"",validations:["required","email"]}},message:{enabled:!0,value:{name:l,value:"",validations:["required"]}},attachmentsMeta:{featureIsEnabled:!1,limitHasExceeded:!1,sizeHasExceeded:!1,attachmentsAreInvalid:!1},attachments:[]}},f=function(e,t){for(var n=[],a=0;a<e.length;a++){var o=e[a],i=s(),c=r.isAttachmentWhitelisted(o.type,t);n.push({id:i,name:o.name,size:o.size,file:o,attachmentHasError:!c,status:c?null:_.UNSUPPORTED_MEDIA_TYPE})}return n},T=function(e,t){return e.filter(function(e){return e.id!==t})},h=function(e){var t=0;return e.forEach(function(e){t+=e.size}),r.isAttachmentsSizeValid(t)};return function(){var t,n,s,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,i=arguments.length>1?arguments[1]:void 0;switch(i.type){case e.FETCH_CONFIG_SUCCESS:var c=i.config,u=c.business_hours_enabled,l=c.in_business_hours,_={businessHoursEnabled:{$set:u},inBusinessHours:{$set:l}};if(u){var g=i.config.business_hours,m=g.offline_behavior,S=g.cf_fields,I=g.attachments_enabled;_.offlineBehaviour={$set:m},_.contactFormDetails={name:{enabled:{$set:S.name}},email:{enabled:{$set:S.email}},message:{enabled:{$set:S.message}},attachmentsMeta:{featureIsEnabled:{$set:I}}}}return o(a,_);case e.SET_BUSINESS_HOURS_CONTACT_FORM_DETAILS:var y={};return i.hasOwnProperty("value")&&(y.value={$set:i.value}),i.hasOwnProperty("errorMsg")&&(y.errorMsg={$set:i.errorMsg}),o(a,{contactFormDetails:_defineProperty({},i.field,{value:y})});case e.ENABLE_BUSINESS_HOURS_CONTACT_FORM:return o(a,{submitInProgress:{$set:!1},contactFormDisabled:{$set:!1}});case e.DISABLE_BUSINESS_HOURS_CONTACT_FORM:return o(a,{submitInProgress:{$set:!0},contactFormDisabled:{$set:!0}});case e.SET_BUSINESS_HOURS_FORM_SUBMITTED:return o(a,{contactFormSubmitted:{$set:!0}});case e.ADD_BUSINESS_HOURS_ATTACHMENTS:var R=f(i.files,i.attachmentsWhitelist);s=R.some(function(e){return e.attachmentHasError}),t=!r.isAttachmentsNumberValid(a.contactFormDetails.attachments.length,R.length,p.ADD);var v=R.concat(a.contactFormDetails.attachments);return n=!h(v),o(a,{contactFormDisabled:{$set:t||n||s},contactFormDetails:{attachments:{$push:R},attachmentsMeta:{limitHasExceeded:{$set:t},sizeHasExceeded:{$set:n}}}});case e.REMOVE_BUSINESS_HOURS_ATTACHMENT:var C=T(a.contactFormDetails.attachments,i.attachmentId);return t=!r.isAttachmentsNumberValid(a.contactFormDetails.attachments.length,d,p.REMOVE),n=!h(C),s=C.some(function(e){return e.attachmentHasError}),o(a,{contactFormDisabled:{$set:t||n||s},contactFormDetails:{attachments:{$set:C},attachmentsMeta:{limitHasExceeded:{$set:t},sizeHasExceeded:{$set:n}}}});case e.SET_BUSINESS_HOURS_ATTACHMENT_ERROR:return o(a,{contactFormDetails:{attachments:_defineProperty({},i.attachmentIndex,{attachmentHasError:{$set:!0},$merge:{status:i.status}})}});case e.RESET:return E;default:return a}}}),define("reducers/errors",["constants/actionTypes","gunpowder/utils/array"],function(e,t){"use strict";var n=React.addons.update,r=[];return function(){var s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case e.ADD_ERROR:return a.errorObj?n(s,{$push:[a.errorObj]}):s;case e.REMOVE_ERROR:var o=t.findIndexByKey(s,a.errorObj.type,"type");return-1===o?s:n(s,{$splice:[[o,1]]});case e.RESET_ERRORS:return r;default:return s}}}),define("reducers/root",["reducers/ui","reducers/appState","reducers/chatView","reducers/faqView","reducers/businessHoursView","reducers/errors","constants/actionTypes"],function(e,t,n,r,s,a,o){"use strict";return function(e){return function t(n,r){switch(r.type){case o.BATCH_ACTIONS:return r.actions.reduce(t,n);default:return e(n,r)}}}(Redux.combineReducers({appState:t,ui:e,chatView:n,faqView:r,businessHoursViewState:s,errors:a}))}),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("reduxThunk",[],t):"object"==typeof exports?exports.ReduxThunk=t():e.ReduxThunk=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var s=n[r]={exports:{},id:r,loaded:!1};return e[r].call(s.exports,s,s.exports,t),s.loaded=!0,s.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){e.exports=n(1)},function(e,t){"use strict";function n(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(s){return"function"==typeof s?s(n,r,e):t(s)}}}}t.__esModule=!0;var r=n();r.withExtraArgument=n,t.default=r}])}),define("gunpowder/utils/throttle",[],function(){"use strict";return function(e,t,n){var r,s,a,o=null,i=0;n||(n={});var c=function(){i=!1===n.leading?0:Date.now(),o=null,a=e.apply(r,s),o||(r=s=null)};return function(){var u=Date.now();i||!1!==n.leading||(i=u);var l=t-(u-i);return r=this,s=arguments,l<=0||l>t?(o&&(clearTimeout(o),o=null),i=u,a=e.apply(r,s),o||(r=s=null)):o||!1===n.trailing||(o=setTimeout(c,l)),a}}}),define("gunpowder/utils/localStorage",["gunpowder/utils/object"],function(e){"use strict";var t={storage:{},setItem:function(e,t){this.storage[e]=t},getItem:function(e){return this.storage[e]},removeItem:function(e){this.storage[e]&&delete this.storage[e]}},n=function(){var e;try{e=!!window.localStorage,window.localStorage.setItem("dummy-data","dummy-value"),window.localStorage.getItem("dummy-data")&&window.localStorage.removeItem("dummy-data")}catch(t){e=!1}return e},r=n()?window.localStorage:t,s=function(t,n,s,a){(e.isObject(n)||Array.isArray(n))&&(n=JSON.stringify(n));try{if(r.setItem(t,n),s){var o;"number"==typeof s?(o=new Date,o.setDate(o.getDate()+s)):o=s,r.setItem(t+"_expiry",o.getTime())}}catch(e){c(e)&&"function"==typeof a&&a()}},a=function(e){r.removeItem(e),r.removeItem(e+"_expiry")},o=function(e,t){var n=r.getItem(e);if(null===n||!t)return n;try{return JSON.parse(n)}catch(e){return null}},i=function(){var e="_expiry".length;l(function(t){Date.now()>1*r.getItem(t)&&a(t.slice(0,-e))})},c=function(e){var t=!1;if(e&&e.code)switch(e.code){case 22:t=!0;break;case 1014:"NS_ERROR_DOM_QUOTA_REACHED"===e.name&&(t=!0)}return t},u=function(e){for(var t=r.length-1;t>=0;--t)e(r.key(t))},l=function(e){var t="_expiry".length;u(function(n){"_expiry"===n.slice(-t)&&e(n)})};return{setItem:s,getItem:o,removeItem:a,removeExpiredItems:i,forEachKey:u,isLocalStorageSupported:n}}),define("gunpowder/utils/pubsub",[],function(){"use strict";var e={},t=function(t,r,s){e[t]||(e[t]=[]);var a=Date.now();return e[t].push({token:a,handler:r.bind(s)}),{token:a,detach:function(){n(t,a)}}},n=function(t,n){var r,s,a=e[t];if(a)for(s=a.length,r=0;r<s;r++)if(a[r].token===n)return a.splice(r,1),0===a.length&&delete e[t],!0;return!1};return{on:t,detach:n,detachAll:function(t){e[t]&&delete e[t]},fire:function(t,n){var r=e[t];return!(!r||!r.length||(r.forEach(function(e){e.handler(n,e.token)}),0))}}}),define("helpers/localStorage",["gunpowder/utils/localStorage","gunpowder/utils/object","gunpowder/utils/pubsub"],function(e,t,n){"use strict";var r={USER_ID:"ui",DEVICE_ID:"di",ANALYTICS_SESSION_ID:"asi",ANON_USER_ID:"aui",LAST_ACTIVITY_TIME:"lat",SITE_ACTIVITY_START_TIME:"sast",PROACTIVE_CHAT_HAS_TRIGGERED:"pcht",SUGGESTED_FAQ_READ_TRACKED:"sfrt",READ_FAQ_LIST:"rfl",LS_MIGRATED:"lm",RE_ENGAGEMENT_REDIRECTED:"redirected",RE_ENGAGEMENT_DATA:"red",RE_ENGAGEMENT_ID:"rid",WIDGET_SHOULD_AUTO_OPEN:"wsao",PFI_VALUE:"pfi",CONFIG:"config",RESPECT_PFI:"rf",WS_CONFIG:"wsc",RELEASE_TAG:"rt"},s=["SITE_ACTIVITY_START_TIME","PROACTIVE_CHAT_HAS_TRIGGERED"],a=["USER_ID","ANON_USER_ID","DEVICE_ID","ANALYTICS_SESSION_ID","WS_CONFIG","CONFIG","PFI_VALUE","RELEASE_TAG"],o={SET:"set",REMOVE:"remove"},i=function(e,t){return!(-1!==a.indexOf(e)||!t.resetProactiveChat&&-1!==s.indexOf(e))},c=function(){var s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=[];t.forEachKey(r,function(t){i(t,s)&&(a.push(r[t]),e.removeItem(r[t]))}),n.fire("LS_UPDATE",{type:o.REMOVE,data:{data:a}})};return{LS_KEYS:r,LS_UPDATE_TYPES:o,set:function(t,r,s){t&&(e.setItem(t,r,null,s),n.fire("LS_UPDATE",{type:o.SET,data:_defineProperty({},t,r)}))},get:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t)return e.getItem(t,n)},remove:function(t){t&&(e.removeItem(t),n.fire("LS_UPDATE",{type:o.REMOVE,data:{data:[t]}}))},reset:c}}),define("extras/lsMiddleware",["constants/actionTypes","constants/message","gunpowder/utils/throttle","helpers/localStorage","gunpowder/utils/object"],function(e,t,n,r,s){"use strict";var a=t.TYPE,o=r.LS_KEYS,i=function(){r.set(o.LAST_ACTIVITY_TIME,Date.now())},c=n(i,2e4,{leading:!1}),u=function(e){r.remove(o.CONFIG),r.set(o.CONFIG,_defineProperty({},e.uniqueUserIdentifier,{config:e.config,lastConfigFetchTs:e.currentTime,issueExistsDataIsStaleInLocalStorage:!1,currentHelpshiftConfigWhichTriggerConfigRefetch:e.currentHelpshiftConfigWhichTriggerConfigRefetch}))},l=function(e){var t=r.get(o.CONFIG,!0);return t?t[e.uniqueUserIdentifier]={config:e.config,lastConfigFetchTs:e.currentTime,issueExistsDataIsStaleInLocalStorage:!1,currentHelpshiftConfigWhichTriggerConfigRefetch:e.currentHelpshiftConfigWhichTriggerConfigRefetch}:t=_defineProperty({},e.uniqueUserIdentifier,{config:e.config,lastConfigFetchTs:e.currentTime,issueExistsDataIsStaleInLocalStorage:!1,currentHelpshiftConfigWhichTriggerConfigRefetch:e.currentHelpshiftConfigWhichTriggerConfigRefetch}),t},p=function(t,n){var i=t.getState();switch(n.type){case e.SET_CLIENT_CONFIG:r.set(o.USER_ID,n.config.userId);break;case e.APPEND_MESSAGES:var p=n.messages.some(function(e){return e.isCustomerMsg}),d=i.appState.conversationStarted;p&&d&&c(),n.responseType===a.RESP_FAQ_LIST_WITH_OPTION_INPUT&&r.set(o.READ_FAQ_LIST,i.chatView.readFaqList);break;case e.CREATE_PREISSUE_SUCCESS:c();var _=n.userIdentifier,E=n.issueExists;if(!E){var f=r.get(o.CONFIG,!0);f&&(f[_].issueExistsDataIsStaleInLocalStorage=!E,r.set(o.CONFIG,f))}break;case e.SET_PROACTIVE_CHAT_RULES:r.get(o.SITE_ACTIVITY_START_TIME)||r.set(o.SITE_ACTIVITY_START_TIME,Date.now());break;case e.SET_SUGGESTED_FAQ_READ_TRACKED:r.set(o.SUGGESTED_FAQ_READ_TRACKED,n.isTracked);break;case e.UPDATE_READ_FAQ_LIST:r.set(o.READ_FAQ_LIST,i.chatView.readFaqList);break;case e.SET_DEVICE_ID:r.get(o.DEVICE_ID)||r.set(o.DEVICE_ID,n.id);break;case e.SET_ANALYTICS_SESSION_ID:r.set(o.ANALYTICS_SESSION_ID,n.id);break;case e.SET_RE_ENGAGEMENT_ID:r.set(o.RE_ENGAGEMENT_ID,n.id);break;case e.USER_REPLY_REQUEST:n.reEngagementId&&r.remove(o.RE_ENGAGEMENT_ID);break;case e.SET_WIDGET_SHOULD_AUTO_OPEN:r.set(o.WIDGET_SHOULD_AUTO_OPEN,n.widgetShouldAutoOpen);break;case e.SET_LITE_SDK_CONFIG:s.forEachKey(n.data.localStorageData,function(e){r.set(e,n.data.localStorageData[e])});break;case e.FETCH_CONFIG_SUCCESS:if(n.updateLs){var T=l(n),h=u.bind(null,n);n.config.config_fetch_interval?r.set(o.PFI_VALUE,n.config.config_fetch_interval):r.set(o.PFI_VALUE,0),r.set(o.CONFIG,T,h)}break;case e.WS_CONFIG_SUCCESS:r.set(o.WS_CONFIG,btoa(JSON.stringify(n.payload)))}};return function(t){return function(n){return function(r){n(r),r.type===e.BATCH_ACTIONS?r.actions.forEach(function(e){p(t,e)}):p(t,r)}}}}),define("store",["reducers/root","reduxThunk","extras/lsMiddleware"],function(e,t,n){"use strict";var r=Redux;return(0,r.createStore)(e,(0,r.applyMiddleware)(t.default,n))}),define("constants/eventTypes",[],function(){"use strict";return{SDK_JS_LOADED:"sdk-js-loaded",SDK_CONFIG_LOADED:"sdk-config-loaded",SDK_TOGGLE_MESSENGER:"sdk-toggle-messenger",SDK_RESET:"sdk-reset",SDK_UPDATE_UNREAD_COUNT:"sdk-update-unread-count",SDK_EVENT_CHAT_END:"sdk-event-chat-end",SDK_EVENT_CONVERSATION_START:"sdk-event-conversation-start",SDK_EVENT_CONVERSATION_END:"sdk-event-conversation-end",SDK_EVENT_CONVERSATION_REOPENED:"sdk-event-conversation-reopened",SDK_EVENT_CONVERSATION_RESOLVED:"sdk-event-conversation-resolved",SDK_EVENT_CONVERSATION_REJECTED:"sdk-event-conversation-rejected",SDK_EVENT_MESSAGE_ADD:"sdk-event-message-add",SDK_EVENT_CSAT_SUBMIT:"sdk-event-csat-submit",SDK_EVENT_CONVERSATION_STATUS:"sdk-event-conversation-status",SDK_USER_CHANGED_VIA_RE_ENGAGEMENT:"sdk-user-changed-via-re-engagement",SDK_FOCUS_LAUNCHER:"sdk-focus-launcher",SDK_EVENT_SET_LOCAL_STORAGE_DATA:"sdk-event-set-local-storage-data",SDK_EVENT_SET_EXTERNAL_STORAGE_DATA:"sdk-event-set-external-storage-data",SDK_EVENT_SEND_GENERIC_SDK_DATA:"sdk-event-send-generic-sdk-data",SDK_EVENT_SEND_POLLING_STATUS:"sdk-event-send-polling-status",SDK_EVENT_SEND_FAQ_VIEW_STATUS:"sdk-event-send-faq-view-status",SDK_EVENT_REMOVE_LOCAL_STORAGE_DATA:"sdk-event-remove-local-storage-data",SDK_EVENT_UI_CONFIG_CHANGE:"sdk-event-ui-config-change",SDK_EVENT_PUSH_TOKEN_SYNC:"sdk-event-push-token-sync",SDK_EVENT_USER_AUTH_FAILURE:"sdk-event-user-auth-failure",SDK_EVENT_REMOVE_ANONYMOUS_USER:"sdk-event-remove-anonymous-user",SDK_EVENT_SEND_ISSUE_EXISTS_FLAG:"sdk-event-send-issue-exists-flag",SDK_EVENT_REQUEST_CONVERSTATION_METADATA:"sdk-event-request-conversation-metadata",SDK_EVENT_SDKX_MIGRATION_LOG_SYNCED:"sdk-event-sdkx-migration-log-synced",CMD_FOCUS_WEBCHAT:"cmd-focus-webchat",CMD_MESSENGER_TOGGLED:"cmd-messenger-toggled",CMD_SET_CONFIG:"cmd-set-config",CMD_SET_INITIAL_USER_MESSAGE:"cmd-set-initial-user-message",CMD_SET_GREETING_MESSAGE:"cmd-set-greeting-message",CMD_SET_LANGUAGE:"cmd-set-language",CMD_SET_CIF:"cmd-set-cif",CMD_SET_METADATA:"cmd-set-metadata",CMD_REPLACE_CIF:"cmd-replace-cif",CMD_SET_EXEC_PROACTIVE_CHAT_RULES:"cmd-set-execute-proactive-chat-rules",CMD_SET_FULL_PRIVACY:"cmd-set-full-privacy",CMD_UPDATE_HELPSHIFT_CONFIG:"cmd-update-helpshift-config",CMD_SET_PARENT_PAGE_VISIBILITY:"cmd-set-parent-page-visibility",CMD_SET_DISABLE_PFI:"cmd-set-disable-pfi",CMD_SET_ENABLE_PFI:"cmd-set-enable-pfi",CMD_TOGGLE_POLLER_STATUS:"cmd-toggle-poller-status",CMD_TOGGLE_AUTHOR_PRESENCE_STATUS:"cmd-toggle-author-presence-status",CMD_BACK_BTN_PRESS:"cmd-back-btn-press",CMD_SYNC_CONV_METADATA:"cmd-sync-conv-metadata",CMD_SEND_SDKX_MIGRATION_LOG:"cmd-send-sdkx-migration-log",CMD_UPDATE_RELEASE_TAG_AND_TRACK_FIRST_LOAD_TIME:"cmd-update-release-tag-and-track-load-time"}}),define("constants/analytics",[],function(){"use strict";var e={WIDGET_LOAD:"WIDGET_LOAD",WIDGET_OPEN:"WIDGET_OPEN",SUGGESTED_FAQ_READ:"SUGGESTED_FAQ_READ",ISSUE_CREATED:"ISSUE_CREATED",CSAT:"CSAT",CSAT_REQUESTED:"CSAT_REQUESTED",CSAT_TAKING_SURVEY:"CSAT_TAKING_SURVEY",CSAT_SURVEY_SUBMITTED:"SURVEY_SUBMITTED",SMART_INTENT_SELECTION:"SMART_INTENT_SELECTION",SMART_INTENT_DESELECTION:"SMART_INTENT_DESELECTION",SMART_INTENT_SEARCH_INTENT:"SMART_INTENT_SEARCH_INTENT",INTENT_TREE_SHOWN:"INTENT_TREE_SHOWN",ADD_MESSAGE:"ADD_MESSAGE",ACTION_CARD_CLICKED:"ACTION_CARD_CLICKED",TIMER_EXPIRED:"TIMER_EXPIRED",ISSUE_RESOLUTION:"ISSUE_RESOLUTION",ISSUE_RESOLUTION_ACCEPTED:"ISSUE_RESOLUTION_ACCEPTED",ISSUE_RESOLUTION_REJECTED:"ISSUE_RESOLUTION_REJECTED",HS_LINK_VIA_CHAT:"HS_LINK_VIA_CHAT",FAQ_SUGGESTION:"FAQ_SUGGESTION"};return{EVENT:e,PAYLOAD_EVENT:{ID:"id",TIMESTAMP:"timestamp",LANGUAGE:"ln",DEV_SET_LANGUAGE:"dln",WIDGET_LOAD:"a",WIDGET_OPEN_WITH_ISSUE:"c",WIDGET_OPEN_WITHOUT_ISSUE:"i",ISSUE_CREATED:"p",SUGGESTED_FAQ_READ:"absfr",CSAT_REQUESTED:"cbr",CSAT_TAKING_SURVEY:"sr",CSAT_SURVEY_SUBMITTED:"cbc",SMART_INTENT_SELECTION:"sis",SMART_INTENT_DESELECTION:"sid",SMART_INTENT_SEARCH_INTENT:"sisr",INTENT_TREE_SHOWN:"its",ADD_MESSAGE:"m",ACTION_CARD_CLICKED:"acl",TIMER_EXPIRED:"te",ISSUE_RESOLUTION_ACCEPTED:"y",ISSUE_RESOLUTION_REJECTED:"n",HS_LINK_VIA_CHAT:"ml",FAQ_SUGGESTION:"f"},TRIGGER:{API:"API"},PAYLOAD_SOURCE:{API:"js",USER:"u"},BATCH_EVENTS_TIMEOUT:3e3,EXPIRY_EVENT:{RESOLUTION_QUESTION:"reopen",CSAT_BOT:"csat"},EVENTS_DEPENDENT_ON_FIRST_POLLER_CALL:[e.WIDGET_OPEN]}}),define("constants/routes",[],function(){"use strict";var e="".concat("https://api.helpshift.com","/websdk/"),t=function(t){return"".concat(e).concat(t,"/config")},n=function(t){return"".concat(e).concat(t,"/issues")},r=function(t,n,r){return"".concat(e).concat(t,"/").concat(r,"/").concat(n,"/messages")},s=function(t){return"".concat(e).concat(t,"/conversations/updates")},a=function(t){return"".concat(e).concat(t,"/conversations/notification")},o=function(t){return"".concat(e).concat(t,"/conversations/history")};return{getWmConfig:t,getFaq:function(t,n){return"".concat(e).concat(t,"/faqs/").concat(n)},postPreIssue:function(t){return"".concat(e).concat(t,"/preissues")},putResetPreIssue:function(t,n){return"".concat(e).concat(t,"/preissues/").concat(n)},postCSAT:function(t,n){return"".concat(e).concat(t,"/issues/").concat(n,"/csat")},putMessages:function(t,n,r){return"".concat(e).concat(t,"/").concat(r,"/").concat(n,"/messages")},getWsConfig:function(t){return"".concat(e).concat(t,"/ws-config")},webSocket:function(e){var t=e.domain,n=e.platformId,r=e.endpoint,s=e.token,a=e.hsSessionId,o="".concat(r,"/subscribe/websocket/?origin_v3=").concat(s,"&")+"platform_id=".concat(n,"&domain=").concat(t);return a&&(o=o.concat("&hs_session_id=".concat(a))),o},postAnalyticsEvent:function(){}