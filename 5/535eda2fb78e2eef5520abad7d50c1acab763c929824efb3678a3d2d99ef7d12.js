/*! For license information please see adsPrebid.js.LICENSE.txt */
!function(){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}!function(){var t,n={145:function(e,t,n){"use strict";n.d(t,{Th:function(){return u},_U:function(){return p},Pd:function(){return l}});var r=n(879),i=n(853),o={},a=["adloox","criteo","outstream","adagio","browsi","brandmetrics","justtag"];function s(e,t,n){if(t&&e){if((0,r.q9)(a,t))return o[e]?(n&&"function"==typeof n&&(o[e].loaded?n():o[e].callbacks.push(n)),o[e].tag):(o[e]={loaded:!1,tag:null,callbacks:[]},n&&"function"==typeof n&&o[e].callbacks.push(n),(0,i.logWarn)("module ".concat(t," is loading external JavaScript")),function(t,n){var r=document.createElement("script");return r.type="text/javascript",r.async=!0,o[e].tag=r,r.readyState?r.onreadystatechange=function(){"loaded"!==r.readyState&&"complete"!==r.readyState||(r.onreadystatechange=null,n())}:r.onload=function(){n()},r.src=t,(0,i.insertElement)(r),r}(e,(function(){o[e].loaded=!0;try{for(var t=0;t<o[e].callbacks.length;t++)o[e].callbacks[t]()}catch(e){(0,i.logError)("Error executing callback","adloader.js:loadExternalScript",e)}})));(0,i.logError)("".concat(t," not whitelisted for loading external JavaScript"))}else(0,i.logError)("cannot load external script without url and moduleCode")}var d=n(265),c="outstream";function u(e){var t=this,n=e.url,r=e.config,o=e.id,a=e.callback,d=e.loaded,u=e.adUnitCode;this.url=n,this.config=r,this.handlers={},this.id=o,this.loaded=d,this.cmd=[],this.push=function(e){"function"==typeof e?t.loaded?e.call():t.cmd.push(e):(0,i.logError)("Commands given to Renderer.push must be wrapped in a function")},this.callback=a||function(){t.loaded=!0,t.process()},this.render=function(){var e=this,t=arguments,r=function(){e._render?e._render.apply(e,t):(0,i.logWarn)("No render function was provided, please use .setRender on the renderer")};f(u)?((0,i.logWarn)("External Js not loaded by Renderer since renderer url and callback is already defined on adUnit ".concat(u)),r()):(this.cmd.unshift(r),s(n,c,this.callback))}.bind(this)}function l(e){return!(!e||!e.url)}function p(e,t){e.render(t)}function f(e){var t=pbjs.adUnits,n=(0,r.sE)(t,(function(t){return t.code===e}));if(!n)return!1;var i=(0,d.Z)(n,"renderer"),o=!!(i&&i.url&&i.render),a=(0,d.Z)(n,"mediaTypes.video.renderer"),s=!!(a&&a.url&&a.render);return!!(o&&!0!==i.backupOnly||s&&!0!==a.backupOnly)}u.install=function(e){return new u({url:e.url,config:e.config,id:e.id,callback:e.callback,loaded:e.loaded,adUnitCode:e.adUnitCode})},u.prototype.getConfig=function(){return this.config},u.prototype.setRender=function(e){this._render=e},u.prototype.setEventHandlers=function(e){this.handlers=e},u.prototype.handleVideoEvent=function(e){var t=e.id,n=e.eventName;"function"==typeof this.handlers[n]&&this.handlers[n](),(0,i.logMessage)("Prebid Renderer event for id ".concat(t," type ").concat(n))},u.prototype.process=function(){for(;this.cmd.length>0;)try{this.cmd.shift().call()}catch(e){(0,i.logError)("Error processing Renderer command: ",e)}}},263:function(e,t,n){"use strict";n.d(t,{f:function(){return a}});var r=n(265),i={};function o(e,t,n){var r=function(e,t){var n=i[e]=i[e]||{bidders:{}};return t?n.bidders[t]=n.bidders[t]||{}:n}(e,n);return r[t]=(r[t]||0)+1,r[t]}var a={incrementRequestsCounter:function(e){return o(e,"requestsCounter")},incrementBidderRequestsCounter:function(e,t){return o(e,"requestsCounter",t)},incrementBidderWinsCounter:function(e,t){return o(e,"winsCounter",t)},getRequestsCounter:function(e){return(0,r.Z)(i,"".concat(e,".requestsCounter"))||0},getBidderRequestsCounter:function(e,t){return(0,r.Z)(i,"".concat(e,".bidders.").concat(t,".requestsCounter"))||0},getBidderWinsCounter:function(e,t){return(0,r.Z)(i,"".concat(e,".bidders.").concat(t,".winsCounter"))||0}}},602:function(t,n,r){"use strict";r.d(n,{ZP:function(){return ie},rp:function(){return $},nX:function(){return Q}});var i=r(853),o=r(265),a=r(269),s=r(17),d=r(125),c=r(755),u=r(962),l=r(494),p=r(879),f=r(263),g=r(661);function m(t){return(m="function"==typeof Symbol&&"symbol"==e(Symbol.iterator)?function(t){return e(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":e(t)})(t)}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=I(e);if(t){var i=I(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){if(t&&("object"===m(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e,t,n){return t&&E(e.prototype,t),n&&E(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function T(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function C(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,O(e,t,"get"))}function A(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,O(e,t,"set"),n),n}function O(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var x=new WeakMap,_=new WeakMap,k=new WeakMap,j=new WeakMap,P=new WeakMap,D=function(){function e(){var t,n;w(this,e),T(this,x,{writable:!0,value:void 0}),T(this,_,{writable:!0,value:void 0}),T(this,k,{writable:!0,value:void 0}),T(this,j,{writable:!0,value:void 0}),T(this,P,{writable:!0,value:void 0}),n=void 0,(t="generatedTime")in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n,this.reset()}return S(e,[{key:"reset",value:function(){var e=this;A(this,k,new Promise((function(t){A(e,j,(function(n){A(e,P,!0),A(e,_,n),t(n)}))}))),A(this,x,!1),A(this,_,null),A(this,P,!1),this.generatedTime=null}},{key:"enable",value:function(){A(this,x,!0)}},{key:"enabled",get:function(){return C(this,x)}},{key:"ready",get:function(){return C(this,P)}},{key:"promise",get:function(){return C(this,x)||C(this,j).call(this,null),C(this,k)}},{key:"setConsentData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,i.timestamp)();this.generatedTime=t,C(this,j).call(this,e)}},{key:"getConsentData",value:function(){return C(this,_)}}]),e}(),R=function(e){v(n,e);var t=y(n);function n(){return w(this,n),t.apply(this,arguments)}return S(n,[{key:"getConsentMeta",value:function(){var e=this.getConsentData();if(e&&this.generatedTime)return{usp:e,generatedAt:this.generatedTime}}}]),n}(D),U=function(e){v(n,e);var t=y(n);function n(){return w(this,n),t.apply(this,arguments)}return S(n,[{key:"getConsentMeta",value:function(){var e=this.getConsentData();if(e&&e.vendorData&&this.generatedTime)return{gdprApplies:e.gdprApplies,consentStringSize:(0,i.isStr)(e.vendorData.tcString)?e.vendorData.tcString.length:0,generatedAt:this.generatedTime,apiVersion:e.apiVersion}}}]),n}(D);function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){M(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z(){return(z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Z="client",W="server",F=r(644),G=r(319),L={},K=L.bidderRegistry={},X=L.aliasRegistry={},V=[];u.vc.getConfig("s2sConfig",(function(e){e&&e.s2sConfig&&(V=(0,i.isArray)(e.s2sConfig)?e.s2sConfig:[e.s2sConfig])}));var Y={},H=(0,l.z3)("sync",(function(e){var t=e.bidderCode,n=e.auctionId,r=e.bidderRequestId,a=e.adUnits,s=e.src;return a.reduce((function(e,a){return e.push(a.bids.filter((function(e){return e.bidder===t})).reduce((function(e,t){var d=null==(t=z({},t,(0,i.getDefinedParams)(a,["nativeParams","ortb2Imp","mediaType","renderer","storedAuctionResponse"]))).mediaTypes?a.mediaTypes:t.mediaTypes;return(0,i.isValidMediaTypes)(d)?t=z({},t,{mediaTypes:d}):(0,i.logError)("mediaTypes is not correctly configured for adunit ".concat(a.code)),e.push(z({},t,{adUnitCode:a.code,transactionId:a.transactionId,sizes:(0,o.Z)(d,"banner.sizes")||(0,o.Z)(d,"video.playerSize")||[],bidId:t.bid_id||(0,i.getUniqueIdentifierStr)(),bidderRequestId:r,auctionId:n,src:s,bidRequestsCount:f.f.getRequestsCounter(a.code),bidderRequestsCount:f.f.getBidderRequestsCounter(a.code,t.bidder),bidderWinsCount:f.f.getBidderWinsCounter(a.code,t.bidder)})),e}),[])),e}),[]).reduce(i.flatten,[]).filter((function(e){return""!==e}))}),"getBids"),J=(0,l.z3)("sync",(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.getS2SBidders,i=void 0===r?te:r;if(null==t)return e;var o=i(t);return e.filter((function(e){return o.has(e.bidder)}))}),"filterBidsForAdUnit"),$=new U,Q=new R,ee=(0,l.z3)("sync",(function(e,t){return(0,a.UB)(e,t)}),"setupAdUnitMediaTypes");function te(e){(0,i.isArray)(e)||(e=[e]);var t=new Set([null]);return e.filter((function(e){return e&&e.enabled})).flatMap((function(e){return e.bidders})).forEach((function(e){return t.add(e)})),t}var ne=(0,l.z3)("sync",(function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=r.getS2SBidders,a=void 0===o?te:o,s=a(t);return(0,i.getBidderCodes)(e).reduce((function(e,t){return e[s.has(t)?W:Z].push(t),e}),(M(n={},Z,[]),M(n,W,[]),n))}),"partitionBidders");function re(e,t,n){try{var r=K[e].getSpec();r&&r[t]&&"function"==typeof r[t]&&((0,i.logInfo)("Invoking ".concat(e,".").concat(t)),u.vc.runWithBidder(e,i.bind.call(r[t],r,n)))}catch(n){(0,i.logWarn)("Error calling ".concat(t," of ").concat(e))}}L.makeBidRequests=(0,l.z3)("sync",(function(e,t,n,r,o){G.emit(F.EVENTS.BEFORE_REQUEST_BIDS,e),(0,s.Fb)(e),e=ee(e,o);var a=ne(e,V),d=a.client,c=a.server;u.vc.getConfig("bidderSequence")===u.FD&&(d=(0,i.shuffle)(d));var l=(0,g.n)(),f=[];V.forEach((function(r){if(r&&r.enabled){var o=function(e,t){var n=(0,i.deepClone)(e);return n.forEach((function(e){e.bids=J(e.bids,t).map((function(e){return e.bid_id=(0,i.getUniqueIdentifierStr)(),e}))})),n.filter((function(e){return 0!==e.bids.length}))}(e,r),a=(0,i.generateUUID)();c.forEach((function(e){var s=(0,i.getUniqueIdentifierStr)(),d={bidderCode:e,auctionId:n,bidderRequestId:s,uniquePbsTid:a,bids:H({bidderCode:e,auctionId:n,bidderRequestId:s,adUnits:(0,i.deepClone)(o),src:F.S2S.SRC}),auctionStart:t,timeout:r.timeout,src:F.S2S.SRC,refererInfo:l};0!==d.bids.length&&f.push(d)})),o.forEach((function(e){var t=e.bids.filter((function(e){return(0,p.sE)(f,(function(t){return(0,p.sE)(t.bids,(function(t){return t.bidId===e.bid_id}))}))}));e.bids=t})),f.forEach((function(e){void 0===e.adUnitsS2SCopy&&(e.adUnitsS2SCopy=o.filter((function(e){return e.bids.length>0})))}))}}));var m=function(e){var t=(0,i.deepClone)(e);return t.forEach((function(e){e.bids=J(e.bids,null)})),t.filter((function(e){return 0!==e.bids.length}))}(e);return d.forEach((function(e){var a=(0,i.getUniqueIdentifierStr)(),s={bidderCode:e,auctionId:n,bidderRequestId:a,bids:H({bidderCode:e,auctionId:n,bidderRequestId:a,adUnits:(0,i.deepClone)(m),labels:o,src:"client"}),auctionStart:t,timeout:r,refererInfo:l},d=K[e];d||(0,i.logError)("Trying to make a request for bidder that does not exist: ".concat(e)),d&&s.bids&&0!==s.bids.length&&f.push(s)})),$.getConsentData()&&f.forEach((function(e){e.gdprConsent=$.getConsentData()})),Q.getConsentData()&&f.forEach((function(e){e.uspConsent=Q.getConsentData()})),f}),"makeBidRequests"),L.callBids=function(e,t,n,r,o,a,s){if(t.length){var d=(2,function(e){if(Array.isArray(e))return e}(v=t.reduce((function(e,t){return e[Number(void 0!==t.src&&t.src===F.S2S.SRC)].push(t),e}),[[],[]]))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),2!==o.length);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(v)||function(e,t){if(e){if("string"==typeof e)return q(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?q(e,2):void 0}}(v)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=d[0],p=d[1],f=[];p.forEach((function(e){for(var t=-1,n=0;n<f.length;++n)if(e.uniquePbsTid===f[n].uniquePbsTid){t=n;break}t<=-1&&f.push(e)}));var g=0,m=(0,i.generateUUID)();V.forEach((function(e){if(e&&f[g]&&te(e).has(f[g].bidderCode)){var t=(0,c.O)(a,o?{request:o.request.bind(null,"s2s"),done:o.done}:void 0),s=e.bidders,d=K[e.adapter],u=f[g].uniquePbsTid,l=f[g].adUnitsS2SCopy,v=p.filter((function(e){return e.uniquePbsTid===u}));if(d){var b={tid:m,ad_units:l,s2sConfig:e};if(b.ad_units.length){var y=v.map((function(e){return e.start=(0,i.timestamp)(),r.bind(e)})),h=(0,i.getBidderCodes)(b.ad_units).filter((function(e){return s.includes(e)}));(0,i.logMessage)("CALLING S2S HEADER BIDDERS ==== ".concat(h.length>0?h.join(", "):'No bidder specified, using "ortb2Imp" definition(s) only')),v.forEach((function(e){G.emit(F.EVENTS.BID_REQUESTED,N(N({},e),{},{tid:m}))})),d.callBids(b,p,n,(function(){return y.forEach((function(e){return e()}))}),t)}}else(0,i.logError)("missing "+e.adapter);g++}})),l.forEach((function(e){e.start=(0,i.timestamp)();var t=K[e.bidderCode];u.vc.runWithBidder(e.bidderCode,(function(){(0,i.logMessage)("CALLING BIDDER"),G.emit(F.EVENTS.BID_REQUESTED,e)}));var d=(0,c.O)(a,o?{request:o.request.bind(null,e.bidderCode),done:o.done}:void 0),l=r.bind(e);try{u.vc.runWithBidder(e.bidderCode,i.bind.call(t.callBids,t,e,n,l,d,s,u.vc.callbackWithBidder(e.bidderCode)))}catch(t){(0,i.logError)("".concat(e.bidderCode," Bid Adapter emitted an uncaught error when parsing their bidRequest"),{e:t,bidRequest:e}),l()}}))}else(0,i.logWarn)("callBids executed with no bidRequests.  Were they filtered by labels or sizing?");var v},L.videoAdapters=[],L.registerBidAdapter=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.supportedMediaTypes,o=void 0===r?[]:r;e&&t?"function"==typeof e.callBids?(K[t]=e,(0,p.q9)(o,"video")&&L.videoAdapters.push(t),(0,p.q9)(o,"native")&&s.Sg.push(t)):(0,i.logError)("Bidder adaptor error for bidder code: "+t+"bidder must implement a callBids() function"):(0,i.logError)("bidAdapter or bidderCode not specified")},L.aliasBidAdapter=function(e,t,n){if(void 0===K[t]){var r=K[e];if(void 0===r){var o=[];V.forEach((function(n){if(n.bidders&&n.bidders.length){var r=n&&n.bidders;n&&(0,p.q9)(r,t)?X[t]=e:o.push(e)}})),o.forEach((function(e){(0,i.logError)('bidderCode "'+e+'" is not an existing bidder.',"adapterManager.aliasBidAdapter")}))}else try{var a,c=function(e){var t=[];return(0,p.q9)(L.videoAdapters,e)&&t.push("video"),(0,p.q9)(s.Sg,e)&&t.push("native"),t}(e);if(r.constructor.prototype!=Object.prototype)(a=new r.constructor).setBidderCode(t);else{var u=r.getSpec(),l=n&&n.gvlid,f=n&&n.skipPbsAliasing;a=(0,d.PZ)(z({},u,{code:t,gvlid:l,skipPbsAliasing:f})),X[t]=e}L.registerBidAdapter(a,t,{supportedMediaTypes:c})}catch(t){(0,i.logError)(e+" bidder does not currently support aliasing.","adapterManager.aliasBidAdapter")}}else(0,i.logMessage)('alias name "'+t+'" has been already specified.')},L.registerAnalyticsAdapter=function(e){var t=e.adapter,n=e.code,r=e.gvlid;t&&n?"function"==typeof t.enableAnalytics?(t.code=n,Y[n]={adapter:t,gvlid:r}):(0,i.logError)('Prebid Error: Analytics adaptor error for analytics "'.concat(n,'"\n        analytics adapter must implement an enableAnalytics() function')):(0,i.logError)("Prebid Error: analyticsAdapter or analyticsCode not specified")},L.enableAnalytics=function(e){(0,i.isArray)(e)||(e=[e]),(0,i._each)(e,(function(e){var t=Y[e.provider];t&&t.adapter?t.adapter.enableAnalytics(e):(0,i.logError)("Prebid Error: no analytics adapter found in registry for '".concat(e.provider,"'."))}))},L.getBidAdapter=function(e){return K[e]},L.getAnalyticsAdapter=function(e){return Y[e]},L.callTimedOutBidders=function(e,t,n){t=t.map((function(t){return t.params=(0,i.getUserConfiguredParams)(e,t.adUnitCode,t.bidder),t.timeout=n,t})),t=(0,i.groupBy)(t,"bidder"),Object.keys(t).forEach((function(e){re(e,"onTimeout",t[e])}))},L.callBidWonBidder=function(e,t,n){t.params=(0,i.getUserConfiguredParams)(n,t.adUnitCode,t.bidder),f.f.incrementBidderWinsCounter(t.adUnitCode,t.bidder),re(e,"onBidWon",t)},L.callSetTargetingBidder=function(e,t){re(e,"onSetTargeting",t)},L.callBidViewableBidder=function(e,t){re(e,"onBidViewable",t)},L.callBidderError=function(e,t,n){re(e,"onBidderError",{error:t,bidderRequest:n})};var ie=L},125:function(t,n,r){"use strict";function i(e){var t=e;return{callBids:function(){},setBidderCode:function(e){t=e},getBidderCode:function(){return t}}}r.d(n,{Q1:function(){return j},PZ:function(){return x},dX:function(){return O}});var o=r(602),a=r(962),s=r(477),d=r(112),c=r(17),u=r(929),l=r(644),p=r(319),f=r(879),g=r(755),m=r(853),v=r(265),b=r(3),y=r(494),h=r(849),I=r(766);function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?E(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(t){return(S="function"==typeof Symbol&&"symbol"==e(Symbol.iterator)?function(t){return e(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":e(t)})(t)}function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var C=(0,h.eA)("bidderFactory"),A=["cpm","ttl","creativeId","netRevenue","currency"];function O(e){var t=Array.isArray(e.supportedMediaTypes)?{supportedMediaTypes:e.supportedMediaTypes}:void 0;function n(e){var n=x(e);o.ZP.registerBidAdapter(n,e.code,t)}n(e),Array.isArray(e.aliases)&&e.aliases.forEach((function(t){var r,i,a=t;(0,m.isPlainObject)(t)&&(a=t.code,r=t.gvlid,i=t.skipPbsAliasing),o.ZP.aliasRegistry[a]=e.code,n(T({},e,{code:a,gvlid:r,skipPbsAliasing:i}))}))}function x(e){return T(new i(e.code),{getSpec:function(){return Object.freeze(e)},registerSyncs:t,callBids:function(r,i,d,g,v,b){if(Array.isArray(r.bids)){var y={},h=[],w=r.bids.filter(n);if(0!==w.length){var E={};w.forEach((function(e){E[e.bidId]=e,e.adUnitCode||(e.adUnitCode=e.placementCode)})),_(e,w,r,g,b,{onRequest:function(e){return p.emit(l.EVENTS.BEFORE_BIDDER_HTTP,r,e)},onResponse:function(t){v(e.code),h.push(t)},onError:function(t,n){v(e.code),o.ZP.callBidderError(e.code,n,r),p.emit(l.EVENTS.BIDDER_ERROR,{error:n,bidderRequest:r}),(0,m.logError)("Server call for ".concat(e.code," failed: ").concat(t," ").concat(n.status,". Continuing without bids."))},onBid:function(t){var n=E[t.requestId];if(n){t.originalCpm=t.cpm,t.originalCurrency=t.currency,t.meta=t.meta||T({},t[n.bidder]);var r=T((0,s.m)(l.STATUS.GOOD,n),t);!function(e,t){y[e]=!0,function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).index,r=void 0===n?I.K.index:n;function i(){var e=Object.keys(t);return A.every((function(n){return(0,f.q9)(e,n)&&!(0,f.q9)([void 0,null],t[n])}))}function o(e){return"Invalid bid from ".concat(t.bidderCode,". Ignoring bid: ").concat(e)}return e?t?i()?"native"!==t.mediaType||(0,c.r4)(t,{index:r})?"video"!==t.mediaType||(0,u.Dn)(t,{index:r})?!("banner"===t.mediaType&&!P(e,t,{index:r})&&((0,m.logError)(o("Banner bids require a width and height")),1)):((0,m.logError)(o("Video bid does not have required vastUrl or renderer property")),!1):((0,m.logError)(o("Native bid missing some required properties.")),!1):((0,m.logError)(o("Bidder ".concat(t.bidderCode," is missing required params. Check http://prebid.org/dev-docs/bidder-adapter-1.html for list of params."))),!1):((0,m.logWarn)("Some adapter tried to add an undefined bid for ".concat(e,".")),!1):((0,m.logWarn)("No adUnitCode was supplied to addBidResponse."),!1)}(e,t)&&i(e,t)}(n.adUnitCode,r)}else(0,m.logWarn)("Bidder ".concat(e.code," made bid for unknown request ID: ").concat(t.requestId,". Ignoring."))},onCompletion:S})}else S()}function S(){d(),a.vc.runWithBidder(e.code,(function(){p.emit(l.EVENTS.BIDDER_DONE,r),t(h,r.gdprConsent,r.uspConsent)}))}}});function t(t,n,r){k(e,t,n,r)}function n(t){return!!e.isBidRequestValid(t)||((0,m.logWarn)("Invalid bid sent to bidder ".concat(e.code,": ").concat(JSON.stringify(t))),!1)}}var _=(0,y.z3)("sync",(function(e,t,n,r,i,o){var a=o.onRequest,s=o.onResponse,d=o.onError,c=o.onBid,u=o.onCompletion,l=e.buildRequests(t,n);if(l&&0!==l.length){Array.isArray(l)||(l=[l]);var p=(0,m.delayExecution)(u,l.length);l.forEach((function(t){var n,o=i((function(n,r){try{n=JSON.parse(n)}catch(e){}var i;n={body:n,headers:{get:r.getResponseHeader.bind(r)}},s(n);try{i=e.interpretResponse(n,t)}catch(t){return(0,m.logError)("Bidder ".concat(e.code," failed to interpret the server's response. Continuing without bids"),null,t),void p()}i&&((0,m.isArray)(i)?i.forEach(c):c(i)),p()})),u=i((function(e,t){d(e,t),p()}));switch(a(t),t.method){case"GET":r("".concat(t.url).concat((n=t.data)?"?".concat("object"===S(n)?(0,m.parseQueryStringParameters)(n):n):""),{success:o,error:u},void 0,T({method:"GET",withCredentials:!0},t.options));break;case"POST":r(t.url,{success:o,error:u},"string"==typeof t.data?t.data:JSON.stringify(t.data),T({method:"POST",contentType:"text/plain",withCredentials:!0},t.options));break;default:(0,m.logWarn)("Skipping invalid request from ".concat(e.code,". Request type ").concat(t.type," must be GET or POST")),p()}}))}else u()}),"processBidderRequests"),k=(0,y.z3)("async",(function(e,t,n,r){var i=a.vc.getConfig("userSync.aliasSyncEnabled");if(e.getUserSyncs&&(i||!o.ZP.aliasRegistry[e.code])){var s=a.vc.getConfig("userSync.filterSettings"),c=e.getUserSyncs({iframeEnabled:!(!s||!s.iframe&&!s.all),pixelEnabled:!(!s||!s.image&&!s.all)},t,n,r);c&&(Array.isArray(c)||(c=[c]),c.forEach((function(t){d.k_.registerSync(t.type,e.code,t.url)})))}}),"registerSyncs");function j(e,t){var n=o.ZP.getBidAdapter(e);if(n.getSpec().getMappingFileInfo){var r=n.getSpec().getMappingFileInfo(),i=r.localStorageKey?r.localStorageKey:n.getBidderCode(),a=C.getDataFromLocalStorage(i);if(a){try{a=JSON.parse(a)}catch(t){(0,m.logError)("Failed to parse ".concat(e," mapping data stored in local storage"))}return a.mapping[t]?a.mapping[t]:null}}}function P(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.index,i=void 0===r?I.K.index:r;if((t.width||0===parseInt(t.width,10))&&(t.height||0===parseInt(t.height,10)))return t.width=parseInt(t.width,10),t.height=parseInt(t.height,10),!0;var o=i.getBidRequest(t),a=i.getMediaTypes(t),s=o&&o.sizes||a&&a.banner&&a.banner.sizes,d=(0,m.parseSizesInput)(s);if(1===d.length){var c=d[0].split("x"),u=w(c,2),l=u[0],p=u[1];return t.width=parseInt(l,10),t.height=parseInt(p,10),!0}return!1}(0,y.v5)("checkAdUnitSetup").before((function(e,t){if(!a.vc.getConfig("adpod.brandCategoryExclusion"))return e.call(this,t);t.filter((function(e){return(0,v.Z)(e,"mediaTypes.video.context")===b.Oh})).map((function(e){return e.bids.map((function(e){return e.bidder}))})).reduce(m.flatten,[]).filter(m.uniques).forEach((function(e){var t=o.ZP.getBidAdapter(e);if(t.getSpec().getMappingFileInfo){var n=t.getSpec().getMappingFileInfo(),r=n.refreshInDays?n.refreshInDays:1,i=n.localStorageKey?n.localStorageKey:t.getSpec().code,a=C.getDataFromLocalStorage(i);try{(!(a=a?JSON.parse(a):void 0)||(0,m.timestamp)()>a.lastUpdated+24*r*60*60*1e3)&&(0,g.h)(n.url,{success:function(t){try{t=JSON.parse(t);var n={lastUpdated:(0,m.timestamp)(),mapping:t.mapping};C.setDataInLocalStorage(i,JSON.stringify(n))}catch(t){(0,m.logError)("Failed to parse ".concat(e," bidder translation mapping file"))}},error:function(){(0,m.logError)("Failed to load ".concat(e," bidder translation file"))}})}catch(t){(0,m.logError)("Failed to parse ".concat(e," bidder translation mapping file"))}}})),e.call(this,t)}))},755:function(t,n,r){"use strict";r.d(n,{O:function(){return c},h:function(){return d}});var i=r(962),o=r(853);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function s(t){return(s="function"==typeof Symbol&&"symbol"==e(Symbol.iterator)?function(t){return e(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":e(t)})(t)}var d=c();function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.request,r=t.done;return function(t,d,c){var u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};try{var l,p=u.method||(c?"POST":"GET"),f=document.createElement("a");f.href=t;var g="object"===s(d)&&null!==d?d:{success:function(){(0,o.logMessage)("xhr success")},error:function(e){(0,o.logError)("xhr error",null,e)}};if("function"==typeof d&&(g.success=d),(l=new window.XMLHttpRequest).onreadystatechange=function(){if(4===l.readyState){"function"==typeof r&&r(f.origin);var e=l.status;e>=200&&e<300||304===e?g.success(l.responseText,l):g.error(l.statusText,l)}},i.vc.getConfig("disableAjaxTimeout")||(l.ontimeout=function(){(0,o.logError)("  xhr timeout after ",l.timeout,"ms")}),"GET"===p&&c){var m=(0,o.parseUrl)(t,u);a(m.search,c),t=(0,o.buildUrl)(m)}l.open(p,t,!0),i.vc.getConfig("disableAjaxTimeout")||(l.timeout=e),u.withCredentials&&(l.withCredentials=!0),(0,o._each)(u.customHeaders,(function(e,t){l.setRequestHeader(t,e)})),u.preflight&&l.setRequestHeader("X-Requested-With","XMLHttpRequest"),l.setRequestHeader("Content-Type",u.contentType||"text/plain"),"function"==typeof n&&n(f.origin),"POST"===p&&c?l.send(c):l.send()}catch(e){(0,o.logError)("xhr construction",e),"object"===s(d)&&null!==d&&d.error(e)}}}},964:function(t,n,r){"use strict";r.d(n,{mv:function(){return A},Yt:function(){return j},e0:function(){return P},LX:function(){return Z},vO:function(){return k}});var i=r(853),o=r(265),a=r(553),s=r(17),d=r(755),c=r(962),u=r(766);function l(e,t){var n=t?"<![CDATA[".concat(t,"]]>"):"";return'<VAST version="3.0">\n    <Ad>\n      <Wrapper>\n        <AdSystem>prebid.org wrapper</AdSystem>\n        <VASTAdTagURI><![CDATA['.concat(e,"]]></VASTAdTagURI>\n        <Impression>").concat(n,"</Impression>\n        <Creatives></Creatives>\n      </Wrapper>\n    </Ad>\n  </VAST>")}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.index,r=void 0===n?u.K.index:n,i=e.vastXml?e.vastXml:l(e.vastUrl,e.vastImpUrl),o=r.getAuction(e),a={type:"xml",value:i,ttlseconds:Number(e.ttl)};return c.vc.getConfig("cache.vasttrack")&&(a.bidder=e.bidder,a.bidid=e.requestId,a.aid=e.auctionId),null!=o&&(a.timestamp=o.getAuctionStart()),"string"==typeof e.customCacheKey&&""!==e.customCacheKey&&(a.key=e.customCacheKey),a}var f=r(145),g=r(112),m=r(494),v=r(879),b=r(929),y=r(3),h=r(624);function I(t){return(I="function"==typeof Symbol&&"symbol"==e(Symbol.iterator)?function(t){return e(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":e(t)})(t)}function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var E=g.k_.syncUsers,S=r(602).ZP,T=r(319),C=r(644),A="completed";T.on(C.EVENTS.BID_ADJUSTMENT,(function(e){!function(e){var t=e.bidderCode,n=e.cpm,r=h.S.get(t||null,"bidCpmAdjustment");if(r&&"function"==typeof r)try{n=r(e.cpm,w({},e))}catch(e){(0,i.logError)("Error during bid adjustment","bidmanager.js",e)}n>=0&&(e.cpm=n)}(e)}));var O={},x={},_=[];function k(e){var t,n,r,o,a=e.adUnits,s=e.adUnitCodes,d=e.callback,l=e.cbTimeout,p=e.labels,f=e.auctionId,g=a,m=p,b=s,y=[],h=[],I=[],w=f||(0,i.generateUUID)(),k=d,R=l,N=[],M=new Set;function z(){return{auctionId:w,timestamp:t,auctionEnd:n,auctionStatus:r,adUnits:g,adUnitCodes:b,labels:m,bidderRequests:y,noBids:I,bidsReceived:h,winningBids:N,timeout:R}}function Z(e,t){if(t&&clearTimeout(o),void 0===n){var s=[];e&&((0,i.logMessage)("Auction ".concat(w," timedOut")),d=M,(s=y.map((function(e){return(e.bids||[]).filter((function(e){return!d.has(e.bidder)}))})).reduce(i.flatten,[]).map((function(e){return{bidId:e.bidId,bidder:e.bidder,adUnitCode:e.adUnitCode,auctionId:e.auctionId}}))).length&&T.emit(C.EVENTS.BID_TIMEOUT,s)),r=A,n=Date.now(),T.emit(C.EVENTS.AUCTION_END,z()),D(g,(function(){try{if(null!=k){var t=b,n=h.filter(i.bind.call(i.adUnitsFilter,this,t)).reduce(F,{});k.apply(pbjs,[n,e,w]),k=null}}catch(e){(0,i.logError)("Error executing bidsBackHandler",null,e)}finally{s.length&&S.callTimedOutBidders(a,s,R);var r=c.vc.getConfig("userSync")||{};r.enableOverride||E(r.syncDelay)}}))}var d}function W(){c.vc.resetBidder(),(0,i.logInfo)("Bids Received for Auction with id: ".concat(w),h),r=A,Z(!1,!0)}function G(e){M.add(e)}function L(e){var t=this;e.forEach((function(e){var t;t=e,y=y.concat(t)}));var n={},a={bidRequests:e,run:function(){var a,l;a=Z.bind(null,!0),l=setTimeout(a,R),o=l,r="inProgress",T.emit(C.EVENTS.AUCTION_INIT,z());var p=function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).index,r=void 0===n?u.K.index:n,o=0,a=!1,s=new Set,d={},l={};function p(e,t){null==l[e]&&(l[e]=Promise.resolve()),l[e]=l[e].then((function(){return Promise.resolve(t).catch((function(){}))}))}function f(e,n){var r=e.timeout;(null==r||r>t.getTimeout())&&(r=t.getTimeout());var i=t.getAuctionStart()+r-Date.now(),o=l[e.bidderRequestId],a=l[""];(null!=o||null!=a)&&i>0?Promise.race([new Promise((function(e){return setTimeout(e,i)})),Promise.resolve(a).then((function(){return o}))]).then(n):n()}function g(){o--,a&&0===o&&e()}function m(e,n){d[n.requestId]=!0,o++;var r=q({adUnitCode:e,bid:n,auctionId:t.getAuctionId()});"video"===r.mediaType?B(t,r,g):(U(t,r),g())}function b(){var n=t.getBidRequests(),r=c.vc.getConfig("auctionOptions");if(s.add(this),r&&!(0,i.isEmpty)(r)){var u=r.secondaryBidders;u&&!n.every((function(e){return(0,v.q9)(u,e.bidderCode)}))&&(n=n.filter((function(e){return!(0,v.q9)(u,e.bidderCode)})))}a=n.every((function(e){return s.has(e)})),this.bids.forEach((function(e){d[e.bidId]||(t.addNoBid(e),T.emit(C.EVENTS.NO_BID,e))})),a&&0===o&&e()}return{addBidResponse:function(e,t){var n=r.getBidderRequest(t);p(n&&n.bidderRequestId||"",j.call({dispatch:m},e,t))},adapterDone:function(){f(this,b.bind(this))}}}(W,t);S.callBids(g,e,p.addBidResponse,p.adapterDone,{request:function(e,t){d(O,t),d(n,e),x[e]||(x[e]={SRA:!0,origin:t}),n[e]>1&&(x[e].SRA=!1)},done:function(e){O[e]--,_[0]&&s(_[0])&&_.shift()}},R,G)}};function s(e){var t=!0,n=c.vc.getConfig("maxRequestsPerOrigin")||4;return e.bidRequests.some((function(e){var r=1,i=void 0!==e.src&&e.src===C.S2S.SRC?"s2s":e.bidderCode;return x[i]&&(!1===x[i].SRA&&(r=Math.min(e.bids.length,n)),O[x[i].origin]+r>n&&(t=!1)),!t})),t&&e.run(),t}function d(e,t){void 0===e[t]?e[t]=1:e[t]++}s(a)||((0,i.logWarn)("queueing auction due to limited endpoint capacity"),_.push(a))}return{addBidReceived:function(e){h=h.concat(e)},addNoBid:function(e){I=I.concat(e)},executeCallback:Z,callBids:function(){r="started",t=Date.now();var e=S.makeBidRequests(g,t,w,R,m);(0,i.logInfo)("Bids Requested for Auction with id: ".concat(w),e),e.length<1?((0,i.logWarn)("No valid bid requests returned for auction"),W()):P.call({dispatch:L,context:this},e)},addWinningBid:function(e){N=N.concat(e),S.callBidWonBidder(e.bidder,e,a)},setBidTargeting:function(e){S.callSetTargetingBidder(e.bidder,e)},getWinningBids:function(){return N},getAuctionStart:function(){return t},getTimeout:function(){return R},getAuctionId:function(){return w},getAuctionStatus:function(){return r},getAdUnits:function(){return g},getAdUnitCodes:function(){return b},getBidRequests:function(){return y},getBidsReceived:function(){return h},getNoBids:function(){return I}}}var j=(0,m.z3)("sync",(function(e,t){this.dispatch.call(null,e,t)}),"addBidResponse"),P=(0,m.z3)("sync",(function(e){this.dispatch.call(this.context,e)}),"addBidderRequests"),D=(0,m.z3)("async",(function(e,t){t&&t()}),"bidsBackCallback");function R(e,t){t.timeToRespond>e.getTimeout()+c.vc.getConfig("timeoutBuffer")&&e.executeCallback(!0)}function U(e,t){var n,r,i;n=t,i=!0===h.S.get(n.bidderCode,"allowZeroCpmBids")?n.cpm>=0:n.cpm>0,n.bidderCode&&(i||n.dealId)&&(r=function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).index,r=void 0===n?u.K.index:n;if(!t)return{};var i=r.getBidRequest(t),o={},a=Z(t.mediaType,e);return W(o,a,t,i),e&&h.S.getOwn(e,C.JSON_MAPPING.ADSERVER_TARGETING)&&(W(o,h.S.ownSettingsFor(e),t,i),t.sendStandardTargeting=h.S.get(e,"sendStandardTargeting")),t.native&&(o=w({},o,(0,s.Ur)(t))),o}(n.bidderCode,n)),n.adserverTargeting=w(n.adserverTargeting||{},r),T.emit(C.EVENTS.BID_RESPONSE,t),e.addBidReceived(t),R(e,t)}function B(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=r.index,s=void 0===a?u.K.index:a,d=!0,l=(0,o.Z)(s.getMediaTypes({requestId:t.originalRequestId||t.requestId,transactionId:t.transactionId}),"video"),p=l&&(0,o.Z)(l,"context");c.vc.getConfig("cache.url")&&p!==b.gZ&&(!t.videoCacheKey||c.vc.getConfig("cache.ignoreBidderCacheKey")?(d=!1,N(e,t,n,l)):t.vastUrl||((0,i.logError)("videoCacheKey specified but not required vastUrl for video bid"),d=!1)),d&&(U(e,t),n())}var N=(0,m.z3)("async",(function(e,t,n,r){var o,a;o=function(r,o){var a;r?((0,i.logWarn)("Failed to save to the video cache: ".concat(r,". Video bid must be discarded.")),R(e,t)):""===o[0].uuid?((0,i.logWarn)("Supplied video cache key was already in use by Prebid Cache; caching attempt was rejected. Video bid must be discarded."),R(e,t)):(t.videoCacheKey=o[0].uuid,t.vastUrl||(t.vastUrl=(a=t.videoCacheKey,"".concat(c.vc.getConfig("cache.url"),"?uuid=").concat(a))),U(e,t),n())},a={puts:[t].map(p)},(0,d.h)(c.vc.getConfig("cache.url"),function(e){return{success:function(t){var n;try{n=JSON.parse(t).responses}catch(t){return void e(t,[])}n?e(null,n):e(new Error("The cache server didn't respond with a responses property."),[])},error:function(t,n){e(new Error("Error storing video ad in the cache: ".concat(t,": ").concat(JSON.stringify(n))),[])}}}(o),JSON.stringify(a),{contentType:"text/plain",withCredentials:!0})}),"callPrebidCache");function q(e){var t=e.adUnitCode,n=e.bid,r=e.auctionId,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=o.index,d=void 0===s?u.K.index:s,l=d.getBidderRequest(n),p=l&&l.start||n.requestTimestamp,g=w({},n,{auctionId:r,responseTimestamp:(0,i.timestamp)(),requestTimestamp:p,cpm:parseFloat(n.cpm)||0,bidder:n.bidderCode,adUnitCode:t});g.timeToRespond=g.responseTimestamp-g.requestTimestamp,T.emit(C.EVENTS.BID_ADJUSTMENT,g);var m=d.getAdUnit(g).renderer,v=g.mediaType,b=d.getMediaTypes(g),y=b&&b[v],h=y&&y.renderer,E=null;h&&h.url&&h.render&&(!0!==h.backupOnly||!n.renderer)?E=h:m&&m.url&&m.render&&(!0!==m.backupOnly||!n.renderer)&&(E=m),E&&(g.renderer=f.Th.install({url:E.url}),g.renderer.setRender(E.render));var S=M(n.mediaType,b,c.vc.getConfig("mediaTypePriceGranularity")),A=(0,a.D)(g.cpm,"object"===I(S)?S:c.vc.getConfig("customPriceBucket"),c.vc.getConfig("currency.granularityMultiplier"));return g.pbLg=A.low,g.pbMg=A.med,g.pbHg=A.high,g.pbAg=A.auto,g.pbDg=A.dense,g.pbCg=A.custom,g}function M(e,t,n){if(e&&n){if(e===y.pX){var r=(0,o.Z)(t,"".concat(y.pX,".context"),"instream");if(n["".concat(y.pX,"-").concat(r)])return n["".concat(y.pX,"-").concat(r)]}return n[e]}}function z(e,t){return{key:e,val:"function"==typeof t?function(e,n){return t(e,n)}:function(e){return(0,i.getValue)(e,t)}}}function Z(e,t){var n=C.TARGETING_KEYS,r=w({},h.S.settingsFor(null));if(r[C.JSON_MAPPING.ADSERVER_TARGETING]||(r[C.JSON_MAPPING.ADSERVER_TARGETING]=function(){var e=C.TARGETING_KEYS;return[z(e.BIDDER,"bidderCode"),z(e.AD_ID,"adId"),z(e.PRICE_BUCKET,(function(e){var t=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).index,n=void 0===t?u.K.index:t,r=M(e.mediaType,n.getMediaTypes(e),c.vc.getConfig("mediaTypePriceGranularity"));return"string"==typeof e.mediaType&&r?"string"==typeof r?r:"custom":c.vc.getConfig("priceGranularity")}(e);return t===C.GRANULARITY_OPTIONS.AUTO?e.pbAg:t===C.GRANULARITY_OPTIONS.DENSE?e.pbDg:t===C.GRANULARITY_OPTIONS.LOW?e.pbLg:t===C.GRANULARITY_OPTIONS.MEDIUM?e.pbMg:t===C.GRANULARITY_OPTIONS.HIGH?e.pbHg:t===C.GRANULARITY_OPTIONS.CUSTOM?e.pbCg:void 0})),z(e.SIZE,"size"),z(e.DEAL,"dealId"),z(e.SOURCE,"source"),z(e.FORMAT,"mediaType"),z(e.ADOMAIN,(function(e){return e.meta&&e.meta.advertiserDomains&&e.meta.advertiserDomains.length>0?e.meta.advertiserDomains[0]:""}))]}()),"video"===e){var a=r[C.JSON_MAPPING.ADSERVER_TARGETING].slice();if(r[C.JSON_MAPPING.ADSERVER_TARGETING]=a,[n.UUID,n.CACHE_ID].forEach((function(e){void 0===(0,v.sE)(a,(function(t){return t.key===e}))&&a.push(z(e,"videoCacheKey"))})),c.vc.getConfig("cache.url")&&(!t||!1!==h.S.get(t,"sendStandardTargeting"))){var s=(0,i.parseUrl)(c.vc.getConfig("cache.url"));void 0===(0,v.sE)(a,(function(e){return e.key===n.CACHE_HOST}))&&a.push(z(n.CACHE_HOST,(function(e){return(0,o.Z)(e,"adserverTargeting.".concat(n.CACHE_HOST))?e.adserverTargeting[n.CACHE_HOST]:s.hostname})))}}return r}function W(e,t,n,r){var o=t[C.JSON_MAPPING.ADSERVER_TARGETING];return n.size=n.getSize(),(0,i._each)(o,(function(o){var a=o.key,s=o.val;if(e[a]&&(0,i.logWarn)("The key: "+a+" is being overwritten"),(0,i.isFn)(s))try{s=s(n,r)}catch(e){(0,i.logError)("bidmanager","ERROR",e)}(void 0===t.suppressEmptyKeys||!0!==t.suppressEmptyKeys)&&a!==C.TARGETING_KEYS.DEAL||!(0,i.isEmptyStr)(s)&&null!=s?e[a]=s:(0,i.logInfo)("suppressing empty key '"+a+"' from adserver targeting")})),e}function F(e,t){return e[t.adUnitCode]||(e[t.adUnitCode]={bids:[]}),e[t.adUnitCode].bids.push(t),e}},766:function(e,t,n){"use strict";n.d(t,{K:function(){return c}});var r=n(853),i=n(964),o=n(879);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function s(e){a(this,{getAuction:function(t){var n=t.auctionId;if(null!=n)return e().find((function(e){return e.getAuctionId()===n}))},getAdUnit:function(t){var n=t.transactionId;if(null!=n)return e().flatMap((function(e){return e.getAdUnits()})).find((function(e){return e.transactionId===n}))},getMediaTypes:function(e){var t=e.transactionId,n=e.requestId;if(null!=n){var r=this.getBidRequest({requestId:n});if(null!=r&&(null==t||r.transactionId===t))return r.mediaTypes}else if(null!=t){var i=this.getAdUnit({transactionId:t});if(null!=i)return i.mediaTypes}},getBidderRequest:function(t){var n=t.requestId,r=t.bidderRequestId;if(null!=n||null!=r){var i=e().flatMap((function(e){return e.getBidRequests()}));return null!=r&&(i=i.filter((function(e){return e.bidderRequestId===r}))),null==n?i[0]:i.find((function(e){return e.bids&&null!=e.bids.find((function(e){return e.bidId===n}))}))}},getBidRequest:function(t){var n=t.requestId;if(null!=n)return e().flatMap((function(e){return e.getBidRequests()})).flatMap((function(e){return e.bids})).find((function(e){return e&&e.bidId===n}))}})}var d=n(644),c=function(){var e=[],t={addWinningBid:function(t){var n=(0,o.sE)(e,(function(e){return e.getAuctionId()===t.auctionId}));n?(t.status=d.BID_STATUS.RENDERED,n.addWinningBid(t)):(0,r.logWarn)("Auction not found when adding winning bid")},getAllWinningBids:function(){return e.map((function(e){return e.getWinningBids()})).reduce(r.flatten,[])},getBidsRequested:function(){return e.map((function(e){return e.getBidRequests()})).reduce(r.flatten,[])},getNoBids:function(){return e.map((function(e){return e.getNoBids()})).reduce(r.flatten,[])},getBidsReceived:function(){return e.map((function(e){if(e.getAuctionStatus()===i.mv)return e.getBidsReceived()})).reduce(r.flatten,[]).filter((function(e){return e}))},getAllBidsForAdUnitCode:function(t){return e.map((function(e){return e.getBidsReceived()})).reduce(r.flatten,[]).filter((function(e){return e&&e.adUnitCode===t}))},getAdUnits:function(){return e.map((function(e){return e.getAdUnits()})).reduce(r.flatten,[])},getAdUnitCodes:function(){return e.map((function(e){return e.getAdUnitCodes()})).reduce(r.flatten,[]).filter(r.uniques)},createAuction:function(t){var n=t.adUnits,r=t.adUnitCodes,o=t.callback,a=t.cbTimeout,s=t.labels,d=t.auctionId,c=(0,i.vO)({adUnits:n,adUnitCodes:r,callback:o,cbTimeout:a,labels:s,auctionId:d});return function(t){e.push(t)}(c),c},findBidByAdId:function(t){return(0,o.sE)(e.map((function(e){return e.getBidsReceived()})).reduce(r.flatten,[]),(function(e){return e.adId===t}))},getStandardBidderAdServerTargeting:function(){return(0,i.LX)()[d.JSON_MAPPING.ADSERVER_TARGETING]},setStatusForBids:function(n,r){var i=t.findBidByAdId(n);if(i&&(i.status=r),i&&r===d.BID_STATUS.BID_TARGETING_SET){var a=(0,o.sE)(e,(function(e){return e.getAuctionId()===i.auctionId}));a&&a.setBidTargeting(i)}},getLastAuctionId:function(){return e.length&&e[e.length-1].getAuctionId()},clearAllAuctions:function(){e.length=0}};return t.index=new s((function(){return e})),t}()},624:function(e,t,n){"use strict";n.d(t,{S:function(){return u}});var r=n(265),i=n(853),o=n(528);function a(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}var s=n(644),d=new WeakSet;function c(e){return null==e?this.defaultScope:e}var u=new(function(){function e(t,n){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(this,r=d),r.add(this),this.getSettings=t,this.defaultScope=n}var t,n;return t=e,(n=[{key:"get",value:function(e,t){var n=this.getOwn(e,t);return void 0===n&&(n=this.getOwn(null,t)),n}},{key:"getOwn",value:function(e,t){return e=a(this,d,c).call(this,e),(0,r.Z)(this.getSettings(),"".concat(e,".").concat(t))}},{key:"getScopes",value:function(){var e=this;return Object.keys(this.getSettings()).filter((function(t){return t!==e.defaultScope}))}},{key:"settingsFor",value:function(e){return(0,i.mergeDeep)({},this.ownSettingsFor(null),this.ownSettingsFor(e))}},{key:"ownSettingsFor",value:function(e){return e=a(this,d,c).call(this,e),this.getSettings()[e]||{}}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}())((function(){return(0,o.R)().bidderSettings||{}}),s.JSON_MAPPING.BD_SETTING_STANDARD)},477:function(e,t,n){"use strict";n.d(t,{m:function(){return o}});var r=n(853);function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.src,i=void 0===n?"client":n,o=t.bidder,a=void 0===o?"":o,s=t.bidId,d=t.transactionId,c=t.auctionId,u=i,l=e||0;function p(){switch(l){case 0:return"Pending";case 1:return"Bid available";case 2:return"Bid returned empty or error response";case 3:return"Bid timed out"}}this.bidderCode=a,this.width=0,this.height=0,this.statusMessage=p(),this.adId=(0,r.getUniqueIdentifierStr)(),this.requestId=s,this.transactionId=d,this.auctionId=c,this.mediaType="banner",this.source=u,this.getStatusCode=function(){return l},this.getSize=function(){return this.width+"x"+this.height},this.getIdentifiers=function(){return{src:this.source,bidder:this.bidderCode,bidId:this.requestId,transactionId:this.transactionId,auctionId:this.auctionId}}}function o(e,t){return new i(e,t)}},962:function(t,n,r){"use strict";r.d(n,{FD:function(){return v},vc:function(){return I}});var i=r(553),o=r(879),a=r(853),s=r(265),d=["fpd"];function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(t){return(l="function"==typeof Symbol&&"symbol"==e(Symbol.iterator)?function(t){return e(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":e(t)})(t)}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var f=r(644),g="TRUE"===(0,a.getParameterByName)(f.DEBUG_MODE).toUpperCase(),m=window.location.origin,v="random",b={};b[v]=!0,b.fixed=!0;var y=v,h={LOW:"low",MEDIUM:"medium",HIGH:"high",AUTO:"auto",DENSE:"dense",CUSTOM:"custom"},I=function(){var e,t,n,r=[],f=null;function v(){e={};var r={_debug:g,get debug(){return this._debug},set debug(e){this._debug=e},_bidderTimeout:3e3,get bidderTimeout(){return this._bidderTimeout},set bidderTimeout(e){this._bidderTimeout=e},_publisherDomain:m,get publisherDomain(){return this._publisherDomain},set publisherDomain(e){this._publisherDomain=e},_priceGranularity:h.MEDIUM,set priceGranularity(e){d(e)&&("string"==typeof e?this._priceGranularity=s(e)?e:h.MEDIUM:(0,a.isPlainObject)(e)&&(this._customPriceBucket=e,this._priceGranularity=h.CUSTOM,(0,a.logMessage)("Using custom price granularity")))},get priceGranularity(){return this._priceGranularity},_customPriceBucket:{},get customPriceBucket(){return this._customPriceBucket},_mediaTypePriceGranularity:{},get mediaTypePriceGranularity(){return this._mediaTypePriceGranularity},set mediaTypePriceGranularity(e){var t=this;this._mediaTypePriceGranularity=Object.keys(e).reduce((function(n,r){return d(e[r])?"string"==typeof e?n[r]=s(e[r])?e[r]:t._priceGranularity:(0,a.isPlainObject)(e)&&(n[r]=e[r],(0,a.logMessage)("Using custom price granularity for ".concat(r))):(0,a.logWarn)("Invalid price granularity for media type: ".concat(r)),n}),{})},_sendAllBids:!0,get enableSendAllBids(){return this._sendAllBids},set enableSendAllBids(e){this._sendAllBids=e},_useBidCache:!1,get useBidCache(){return this._useBidCache},set useBidCache(e){this._useBidCache=e},_deviceAccess:!0,get deviceAccess(){return this._deviceAccess},set deviceAccess(e){this._deviceAccess=e},_bidderSequence:y,get bidderSequence(){return this._bidderSequence},set bidderSequence(e){b[e]?this._bidderSequence=e:(0,a.logWarn)("Invalid order: ".concat(e,". Bidder Sequence was not set."))},_timeoutBuffer:400,get timeoutBuffer(){return this._timeoutBuffer},set timeoutBuffer(e){this._timeoutBuffer=e},_disableAjaxTimeout:!1,get disableAjaxTimeout(){return this._disableAjaxTimeout},set disableAjaxTimeout(e){this._disableAjaxTimeout=e},_maxNestedIframes:10,get maxNestedIframes(){return this._maxNestedIframes},set maxNestedIframes(e){this._maxNestedIframes=e},_auctionOptions:{},get auctionOptions(){return this._auctionOptions},set auctionOptions(e){(function(e){if(!(0,a.isPlainObject)(e))return(0,a.logWarn)("Auction Options must be an object"),!1;for(var t=0,n=Object.keys(e);t<n.length;t++){var r=n[t];if("secondaryBidders"!==r&&"suppressStaleRender"!==r)return(0,a.logWarn)("Auction Options given an incorrect param: ".concat(r)),!1;if("secondaryBidders"===r){if(!(0,a.isArray)(e[r]))return(0,a.logWarn)("Auction Options ".concat(r," must be of type Array")),!1;if(!e[r].every(a.isStr))return(0,a.logWarn)("Auction Options ".concat(r," must be only string")),!1}else if("suppressStaleRender"===r&&!(0,a.isBoolean)(e[r]))return(0,a.logWarn)("Auction Options ".concat(r," must be of type boolean")),!1}return!0})(e)&&(this._auctionOptions=e)}};function s(e){return(0,o.sE)(Object.keys(h),(function(t){return e===h[t]}))}function d(e){if(!e)return(0,a.logError)("Prebid Error: no value passed to `setPriceGranularity()`"),!1;if("string"==typeof e)s(e)||(0,a.logWarn)("Prebid Warning: setPriceGranularity was called with invalid setting, using `medium` as default.");else if((0,a.isPlainObject)(e)&&!(0,i.t)(e))return(0,a.logError)("Invalid custom price value passed to `setPriceGranularity()`"),!1;return!0}t&&C(Object.keys(t).reduce((function(e,n){return t[n]!==r[n]&&(e[n]=r[n]||{}),e}),{})),t=r,n={}}function I(){if(f&&n&&(0,a.isPlainObject)(n[f])){var e=n[f],r=new Set(Object.keys(t).concat(Object.keys(e)));return(0,o.Oc)(r).reduce((function(n,r){return void 0===e[r]?n[r]=t[r]:void 0===t[r]?n[r]=e[r]:(0,a.isPlainObject)(e[r])?n[r]=(0,a.mergeDeep)({},t[r],e[r]):n[r]=e[r],n}),{})}return p({},t)}function w(e){var t={};return Object.keys(e).forEach((function(n){var r="context"===n?"site":n;t[r]="site"===r||"user"===r?Object.keys(e[n]).reduce((function(t,r){return"data"===r?(0,a.mergeDeep)(t,{ext:{data:e[n][r]}}):(0,a.mergeDeep)(t,u({},r,e[n][r])),t}),{}):e[n]})),t}function E(e){var t={};return Object.keys(e).filter((function(e){return"context"===e})).forEach((function(n){Object.keys(e[n]).forEach((function(r){"data"===r?(0,a.mergeDeep)(t,{ext:{data:e[n][r]}}):"object"!==l(e[n][r])||Array.isArray(e[n][r])?(0,a.mergeDeep)(t,{ext:{data:u({},r.toLowerCase(),e[n][r])}}):Object.keys(e[n][r]).forEach((function(i){(0,a.mergeDeep)(t,{ext:{data:u({},r.toLowerCase(),u({},i.toLowerCase(),e[n][r][i]))}})}))}))})),t}function S(n){if((0,a.isPlainObject)(n)){var r=Object.keys(n),i={};r.forEach((function(r){var o="fpd"===r?"ortb2":r,s="fpd"===r?w(n[r]):n[r];(0,a.isPlainObject)(e[o])&&(0,a.isPlainObject)(s)&&(s=p({},e[o],s)),i[o]=t[o]=s})),C(i)}else(0,a.logError)("setConfig options must be an object")}function T(e,t){var n=t;if("string"!=typeof e&&(n=e,e="*"),"function"==typeof n){var i={topic:e,callback:n};return r.push(i),function(){r.splice(r.indexOf(i),1)}}(0,a.logError)("listener must be a function")}function C(e){var t=Object.keys(e);r.filter((function(e){return(0,o.q9)(t,e.topic)})).forEach((function(t){t.callback(u({},t.topic,e[t.topic]))})),r.filter((function(e){return"*"===e.topic})).forEach((function(t){return t.callback(e)}))}function A(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{r(e),e.bidders.forEach((function(r){n[r]||(n[r]={}),Object.keys(e.config).forEach((function(i){var o="fpd"===i?"ortb2":i,s="fpd"===i?w(e.config[i]):e.config[i];if((0,a.isPlainObject)(s)){var d=t?a.mergeDeep:Object.assign;n[r][o]=d({},n[r][o]||{},s)}else n[r][o]=s}))}))}catch(e){(0,a.logError)(e)}function r(e){if(!(0,a.isPlainObject)(e))throw"setBidderConfig bidder options must be an object";if(!Array.isArray(e.bidders)||!e.bidders.length)throw"setBidderConfig bidder options must contain a bidders list with at least 1 bidder";if(!(0,a.isPlainObject)(e.config))throw"setBidderConfig bidder options must contain a config object"}}function O(e,t){f=e;try{return t()}finally{x()}}function x(){f=null}return v(),{getCurrentBidder:function(){return f},resetBidder:x,getConfig:function(){if(arguments.length<=1&&"function"!=typeof(arguments.length<=0?void 0:arguments[0])){var e=arguments.length<=0?void 0:arguments[0];return e?(0,s.Z)(I(),e):I()}return T.apply(void 0,arguments)},readConfig:function(){if(arguments.length<=1&&"function"!=typeof(arguments.length<=0?void 0:arguments[0])){var e=arguments.length<=0?void 0:arguments[0],t=(0,a.deepClone)(I());return e?(0,s.Z)(t,e):t}return T.apply(void 0,arguments)},setConfig:S,mergeConfig:function(e){if((0,a.isPlainObject)(e)){var t=Object.keys(e).reduce((function(t,n){var r=I()[n]||{};return t[n]=(0,a.mergeDeep)(r,e[n]),t}),{});return S(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t)),t}(0,a.logError)("mergeConfig input must be an object")},setDefaults:function(n){(0,a.isPlainObject)(e)?(p(e,n),p(t,n)):(0,a.logError)("defaults must be an object")},resetConfig:v,runWithBidder:O,callbackWithBidder:function(e){return function(t){return function(){if("function"==typeof t){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return O(e,a.bind.call.apply(a.bind,[t,this].concat(r)))}(0,a.logWarn)("config.callbackWithBidder callback is not a function")}}},setBidderConfig:A,getBidderConfig:function(){return n},mergeBidderConfig:function(e){return A(e,!0)},convertAdUnitFpd:function(e){var t=[];return e.forEach((function(e){var n;e.fpd?(e.ortb2Imp?(0,a.mergeDeep)(e.ortb2Imp,E(e.fpd)):e.ortb2Imp=E(e.fpd),t.push(((n=e).fpd,function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(n,d)))):t.push(e)})),t},getLegacyFpd:function(e){if("object"===l(e)){var t={};return Object.keys(e).forEach((function(n){var r="site"===n?"context":n;t[r]="context"===r||"user"===r?Object.keys(e[n]).filter((function(e){return"data"!==e})).reduce((function(t,r){return"ext"===r?(0,a.mergeDeep)(t,e[n][r]):(0,a.mergeDeep)(t,u({},r,e[n][r])),t}),{}):e[n]})),t}},getLegacyImpFpd:function(e){if("object"===l(e)){var t={};return(0,s.Z)(e,"ext.data")&&Object.keys(e.ext.data).forEach((function(n){"pbadslot"===n?(0,a.mergeDeep)(t,{context:{pbAdSlot:e.ext.data[n]}}):"adserver"===n?(0,a.mergeDeep)(t,{context:{adServer:e.ext.data[n]}}):(0,a.mergeDeep)(t,{context:{data:u({},n,e.ext.data[n])}})})),t}}}}()},553:function(e,t,n){"use strict";n.d(t,{D:function(){return u},t:function(){return p}});var r=n(879),i=n(853),o={buckets:[{max:5,increment:.5}]},a={buckets:[{max:20,increment:.1}]},s={buckets:[{max:20,increment:.01}]},d={buckets:[{max:3,increment:.01},{max:8,increment:.05},{max:20,increment:.5}]},c={buckets:[{max:5,increment:.05},{max:10,increment:.1},{max:20,increment:.5}]};function u(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=parseFloat(e);return isNaN(r)&&(r=""),{low:""===r?"":l(e,o,n),med:""===r?"":l(e,a,n),high:""===r?"":l(e,s,n),auto:""===r?"":l(e,c,n),dense:""===r?"":l(e,d,n),custom:""===r?"":l(e,t,n)}}function l(e,t,n){var i="";if(!p(t))return i;var o=t.buckets.reduce((function(e,t){return e.max>t.max?e:t}),{max:0}),a=0,s=(0,r.sE)(t.buckets,(function(t){if(e>o.max*n){var r=t.precision;void 0===r&&(r=2),i=(t.max*n).toFixed(r)}else{if(e<=t.max*n&&e>=a*n)return t.min=a,t;a=t.max}}));return s&&(i=function(e,t,n){var r=void 0!==t.precision?t.precision:2,i=t.increment*n,o=t.min*n,a=Math.pow(10,r+2),s=(e*a-o*a)/(i*a),d=Math.floor(s)*i+o;return(d=Number(d.toFixed(10))).toFixed(r)}(e,s,n)),i}function p(e){if((0,i.isEmpty)(e)||!e.buckets||!Array.isArray(e.buckets))return!1;var t=!0;return e.buckets.forEach((function(e){e.max&&e.increment||(t=!1)})),t}},319:function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.r(t),n.d(t,{emit:function(){return v},get:function(){return g},getEvents:function(){return m},off:function(){return f},on:function(){return p}});var i=n(853),o=n(644),a=Array.prototype.slice,s=Array.prototype.push,d=i._map(o.EVENTS,(function(e){return e})),c=o.EVENT_ID_PATHS,u=[],l=function(){var e={},t={};function n(t,n){i.logMessage("Emitting event for: "+t);var r=n[0]||{},o=r[c[t]],a=e[t]||{que:[]},d=i._map(a,(function(e,t){return t})),l=[];u.push({eventType:t,args:r,id:o,elapsedTime:i.getPerformanceNow()}),o&&i.contains(d,o)&&s.apply(l,a[o].que),s.apply(l,a.que),i._each(l,(function(e){if(e)try{e.apply(null,n)}catch(e){i.logError("Error executing handler:","events.js",e)}}))}return t.on=function(t,n,r){if(function(e){return i.contains(d,e)}(t)){var o=e[t]||{que:[]};r?(o[r]=o[r]||{que:[]},o[r].que.push(n)):o.que.push(n),e[t]=o}else i.logError("Wrong event name : "+t+" Valid event names :"+d)},t.emit=function(e){var t=a.call(arguments,1);n(e,t)},t.off=function(t,n,r){var o=e[t];i.isEmpty(o)||i.isEmpty(o.que)&&i.isEmpty(o[r])||r&&(i.isEmpty(o[r])||i.isEmpty(o[r].que))||(r?i._each(o[r].que,(function(e){var t=o[r].que;e===n&&t.splice(t.indexOf(e),1)})):i._each(o.que,(function(e){var t=o.que;e===n&&t.splice(t.indexOf(e),1)})),e[t]=o)},t.get=function(){return e},t.getEvents=function(){var e=[];return i._each(u,(function(t){var n=r({},t);e.push(n)})),e},t}(),p=l.on,f=l.off,g=l.get,m=l.getEvents,v=l.emit},494:function(e,t,n){"use strict";n.d(t,{Bx:function(){return l},bA:function(){return u},v5:function(){return d},z3:function(){return s}});var r=n(432),i=n.n(r);function o(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var s=i()({ready:i().SYNC|i().ASYNC|i().QUEUE}),d=s.get,c={};function u(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.postInstallAllowed,i=void 0!==r&&r;s("async",(function(n){n.forEach((function(e){return t.apply(void 0,o(e))})),i&&(c[e]=t)}),e)([])}function l(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=c[e];if(i)return i.apply(void 0,n);d(e).before((function(e,t){t.push(n),e(t)}))}},3:function(e,t,n){"use strict";n.d(t,{B5:function(){return r},Mk:function(){return o},Oh:function(){return a},pX:function(){return i}});var r="native",i="video",o="banner",a="adpod"},17:function(t,n,r){"use strict";r.d(n,{Fb:function(){return v},JL:function(){return w},Sg:function(){return f},Ur:function(){return h},e6:function(){return y},eK:function(){return I},r4:function(){return b},xc:function(){return g}});var i=r(265),o=r(853),a=r(879),s=r(766);function d(t){return(d="function"==typeof Symbol&&"symbol"==e(Symbol.iterator)?function(t){return e(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":e(t)})(t)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=r(644),f=[],g=Object.keys(p.NATIVE_KEYS).map((function(e){return p.NATIVE_KEYS[e]})),m={image:{image:{required:!0},title:{required:!0},sponsoredBy:{required:!0},clickUrl:{required:!0},body:{required:!1},icon:{required:!1}}};function v(e){e.forEach((function(e){var t,n,r=e.nativeParams||(0,i.Z)(e,"mediaTypes.native");r&&(e.nativeParams=(t=r)&&t.type&&((n=t.type)&&(0,a.q9)(Object.keys(m),n)||((0,o.logError)("".concat(n," nativeParam is not supported")),0))?m[t.type]:t)}))}function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.index,r=void 0===n?s.K.index:n;if(!(0,i.Z)(e,"native.clickUrl"))return!1;var o=r.getAdUnit(e).nativeParams;if(!o)return!0;var d=Object.keys(o).filter((function(e){return o[e].required})),c=Object.keys(e.native).filter((function(t){return e.native[t]}));return d.every((function(e){return(0,a.q9)(c,e)}))}function y(e,t){var n;return"click"===e.action?n=t.native&&t.native.clickTrackers:(n=t.native&&t.native.impressionTrackers,t.native&&t.native.javascriptTrackers&&(0,o.insertHtmlIntoIframe)(t.native.javascriptTrackers)),(n||[]).forEach(o.triggerPixel),e.action}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.index,r=void 0===n?s.K.index:n,o={},a=r.getAdUnit(e);(0,i.Z)(a,"nativeParams.rendererUrl")?e.native.rendererUrl=E(a.nativeParams.rendererUrl):(0,i.Z)(a,"nativeParams.adTemplate")&&(e.native.adTemplate=E(a.nativeParams.adTemplate));var d=!1!==(0,i.Z)(a,"nativeParams.sendTargetingKeys"),c=S(a),l=u(u({},e.native),e.native.ext);return delete l.ext,Object.keys(l).forEach((function(t){var n=c[t],r=E(e.native[t])||E((0,i.Z)(e,"native.ext.".concat(t)));if("adTemplate"!==t&&n&&r){var s=(0,i.Z)(a,"nativeParams.".concat(t,".sendId"));"boolean"!=typeof s&&(s=(0,i.Z)(a,"nativeParams.ext.".concat(t,".sendId"))),s&&(r="".concat(n,":").concat(e.adId));var u=(0,i.Z)(a,"nativeParams.".concat(t,".sendTargetingKeys"));"boolean"!=typeof u&&(u=(0,i.Z)(a,"nativeParams.ext.".concat(t,".sendTargetingKeys"))),("boolean"==typeof u?u:d)&&(o[n]=r)}})),o}function I(e,t){var n={message:"assetResponse",adId:e.adId,assets:[]};return t.native.hasOwnProperty("adTemplate")&&(n.adTemplate=E(t.native.adTemplate)),t.native.hasOwnProperty("rendererUrl")&&(n.rendererUrl=E(t.native.rendererUrl)),e.assets.forEach((function(e){var r=(0,o.getKeyByValue)(p.NATIVE_KEYS,e),i=E(t.native[r]);n.assets.push({key:r,value:i})})),n}function w(e,t){var n={message:"assetResponse",adId:e.adId,assets:[]};return Object.keys(t.native).forEach((function(e,r){if("adTemplate"===e&&t.native[e])n.adTemplate=E(t.native[e]);else if("rendererUrl"===e&&t.native[e])n.rendererUrl=E(t.native[e]);else if("ext"===e)Object.keys(t.native[e]).forEach((function(r){if(t.native[e][r]){var i=E(t.native[e][r]);n.assets.push({key:r,value:i})}}));else if(t.native[e]&&p.NATIVE_KEYS.hasOwnProperty(e)){var i=E(t.native[e]);n.assets.push({key:e,value:i})}})),n}function E(e){return"object"===d(e)&&e.url?e.url:e}function S(e){var t={};return(0,i.Z)(e,"nativeParams.ext")&&Object.keys(e.nativeParams.ext).forEach((function(e){t[e]="hb_native_".concat(e)})),u(u({},p.NATIVE_KEYS),t)}},879:function(e,t,n){"use strict";function r(e,t,n){return e&&e.includes(t,n)||!1}function i(){return Array.from.apply(Array,arguments)}function o(e,t,n){return e&&e.find(t,n)}n.d(t,{Oc:function(){return i},q9:function(){return r},sE:function(){return o}})},528:function(e,t,n){"use strict";function r(){return window.pbjs}n.d(t,{R:function(){return r}}),window.pbjs=window.pbjs||{},window.pbjs.cmd=window.pbjs.cmd||[],window.pbjs.que=window.pbjs.que||[],window._pbjsGlobals=window._pbjsGlobals||[],window._pbjsGlobals.push("pbjs")},661:function(e,t,n){"use strict";n.d(t,{n:function(){return o}});var r=n(962),i=n(853),o=function(e){function t(e){var t=r.vc.getConfig("pageUrl");if(t)return t;try{var n=e.querySelector("link[rel='canonical']");if(null!==n)return n.href}catch(e){}return null}return function(){var n,o,a,s=[],d=function(e){try{if(!e.location.ancestorOrigins)return;return e.location.ancestorOrigins}catch(e){}}(e),c=r.vc.getConfig("maxNestedIframes"),u=!1,l=0,p=!1,f=!1;do{var g=n,m=f,v=void 0,b=!1,y=null;f=!1,n=n?n.parent:e;try{v=n.location.href||null}catch(e){b=!0}if(b)if(m){var h=g.context;try{o=y=h.sourceUrl,p=!0,n===e.top&&(u=!0),h.canonicalUrl&&(a=h.canonicalUrl)}catch(e){}}else{(0,i.logWarn)("Trying to access cross domain iframe. Continuing without referrer and location");try{var I=g.document.referrer;I&&(y=I,n===e.top&&(u=!0))}catch(e){}!y&&d&&d[l-1]&&(y=d[l-1]),y&&!p&&(o=y)}else{if(v&&(o=y=v,p=!1,n===e.top)){u=!0;var w=t(n.document);w&&(a=w)}n.context&&n.context.sourceUrl&&(f=!0)}s.push(y),l++}while(n!==e.top&&l<c);return s.reverse(),{referer:o||null,reachedTop:u,isAmp:p,numIframes:l-1,stack:s,canonicalUrl:a||null}}}(window)},269:function(t,n,r){"use strict";r.d(n,{UB:function(){return g},lO:function(){return l}});var i=r(962),o=r(853),a=r(265),s=r(879);function d(t){return(d="function"==typeof Symbol&&"symbol"==e(Symbol.iterator)?function(t){return e(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":e(t)})(t)}var c=[];function u(e,t){return e.labelAll?{labelAll:!0,labels:e.labelAll,activeLabels:t}:{labelAll:!1,labels:e.labelAny,activeLabels:t}}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c,n=f(t);return!n.shouldFilter||!!n.sizesSupported[e]}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.labels,n=void 0===t?[]:t,r=e.labelAll,i=void 0!==r&&r,d=e.activeLabels,u=void 0===d?[]:d,l=arguments.length>1?arguments[1]:void 0,p=arguments.length>2?arguments[2]:void 0,g=arguments.length>3&&void 0!==arguments[3]?arguments[3]:c,m=f(g);l=(0,o.isPlainObject)(l)?(0,o.deepClone)(l):p?{banner:{sizes:p}}:{};var v=(0,a.Z)(l,"banner.sizes");m.shouldFilter&&v&&(l.banner.sizes=v.filter((function(e){return m.sizesSupported[e]})));var b=Object.keys(l),y={active:b.every((function(e){return"banner"!==e}))||b.some((function(e){return"banner"===e}))&&(0,a.Z)(l,"banner.sizes.length")>0&&(0===n.length||!i&&(n.some((function(e){return m.labels[e]}))||n.some((function(e){return(0,s.q9)(u,e)})))||i&&n.reduce((function(e,t){return e?m.labels[t]||(0,s.q9)(u,t):e}),!0)),mediaTypes:l};return v&&v.length!==l.banner.sizes.length&&(y.filterResults={before:v,after:l.banner.sizes}),y}function f(e){return e.reduce((function(e,t){if("object"===d(t)&&"string"==typeof t.mediaQuery&&t.mediaQuery.length>0){var n=!1;try{n=(0,o.getWindowTop)().matchMedia(t.mediaQuery).matches}catch(e){(0,o.logWarn)("Unfriendly iFrame blocks sizeConfig from being correctly evaluated"),n=matchMedia(t.mediaQuery).matches}n&&(Array.isArray(t.sizesSupported)&&(e.shouldFilter=!0),["labels","sizesSupported"].forEach((function(n){return(t[n]||[]).forEach((function(t){return e[n][t]=!0}))})))}else(0,o.logWarn)('sizeConfig rule missing required property "mediaQuery"');return e}),{labels:{},sizesSupported:{},shouldFilter:!1})}function g(e,t){return e.reduce((function(e,n){var r=p(u(n,t),n.mediaTypes,n.sizes),i=r.active,a=r.mediaTypes,s=r.filterResults;return i?(s&&(0,o.logInfo)('Size mapping filtered adUnit "'.concat(n.code,'" banner sizes from '),s.before,"to ",s.after),n.mediaTypes=a,n.bids=n.bids.reduce((function(e,r){var i=p(u(r,t),n.mediaTypes),a=i.active,s=i.mediaTypes,d=i.filterResults;return a?(d&&((0,o.logInfo)('Size mapping filtered adUnit "'.concat(n.code,'" bidder "').concat(r.bidder,'" banner sizes from '),d.before,"to ",d.after),r.mediaTypes=s),e.push(r)):(0,o.logInfo)('Size mapping deactivated adUnit "'.concat(n.code,'" bidder "').concat(r.bidder,'"')),e}),[]),e.push(n)):(0,o.logInfo)('Size mapping disabled adUnit "'.concat(n.code,'"')),e}),[])}i.vc.getConfig("sizeConfig",(function(e){return function(e){c=e}(e.sizeConfig)}))},849:function(e,t,n){"use strict";n.d(t,{Ld:function(){return d},S6:function(){return u},df:function(){return p},eA:function(){return l}});var r=n(494),i=n(853),o=n(879),a=n(624),s=["core","prebid-module"],d=[];function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.gvlid,n=e.moduleName,r=e.bidderCode,c=e.moduleType,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},p=l.bidderSettings,f=void 0===p?a.S:p;function g(){if(null==r)return!1;var e=f.get(r,"storageAllowed");return null!=e&&!e}function m(e){return(0,o.q9)(s,c)?e({valid:!0}):g()?((0,i.logInfo)("bidderSettings denied access to device storage for bidder '".concat(r,"'")),e({valid:!1})):(u(t,r||n,{hasEnforcementHook:!1},(function(t){if(t&&t.hasEnforcementHook)a=e(t);else{var n={hasEnforcementHook:!1,valid:(0,i.hasDeviceAccess)()};a=e(n)}})),a);var a}var v=function(e,t,n,r,i,o){var a=function(o){if(o&&o.valid){var a=i&&""!==i?" ;domain=".concat(encodeURIComponent(i)):"",s=n&&""!==n?" ;expires=".concat(n):"",d=null!=r&&"none"==r.toLowerCase()?"; Secure":"";document.cookie="".concat(e,"=").concat(encodeURIComponent(t)).concat(s,"; path=/").concat(a).concat(r?"; SameSite=".concat(r):"").concat(d)}};if(!o||"function"!=typeof o)return m(a);d.push((function(){var e=m(a);o(e)}))},b=function(e,t){var n=function(t){if(t&&t.valid){var n=window.document.cookie.match("(^|;)\\s*"+e+"\\s*=\\s*([^;]*)\\s*(;|$)");return n?decodeURIComponent(n[2]):null}return null};if(!t||"function"!=typeof t)return m(n);d.push((function(){var e=m(n);t(e)}))},y=function(e){var t=function(e){if(e&&e.valid)try{return localStorage.setItem("prebid.cookieTest","1"),"1"===localStorage.getItem("prebid.cookieTest")}catch(e){}finally{try{localStorage.removeItem("prebid.cookieTest")}catch(e){}}return!1};if(!e||"function"!=typeof e)return m(t);d.push((function(){var n=m(t);e(n)}))},h=function(e){var t=function(e){return!(!e||!e.valid||!(0,i.checkCookieSupport)()&&(window.document.cookie="prebid.cookieTest",-1===window.document.cookie.indexOf("prebid.cookieTest")))};if(!e||"function"!=typeof e)return m(t);d.push((function(){var n=m(t);e(n)}))},I=function(e,t,n){var r=function(n){n&&n.valid&&S()&&window.localStorage.setItem(e,t)};if(!n||"function"!=typeof n)return m(r);d.push((function(){var e=m(r);n(e)}))},w=function(e,t){var n=function(t){return t&&t.valid&&S()?window.localStorage.getItem(e):null};if(!t||"function"!=typeof t)return m(n);d.push((function(){var e=m(n);t(e)}))},E=function(e,t){var n=function(t){t&&t.valid&&S()&&window.localStorage.removeItem(e)};if(!t||"function"!=typeof t)return m(n);d.push((function(){var e=m(n);t(e)}))},S=function(e){var t=function(e){if(e&&e.valid)try{return!!window.localStorage}catch(e){(0,i.logError)("Local storage api disabled")}return!1};if(!e||"function"!=typeof e)return m(t);d.push((function(){var n=m(t);e(n)}))},T=function(e,t){var n=function(t){if(t&&t.valid){var n=[];if((0,i.hasDeviceAccess)())for(var r=document.cookie.split(";");r.length;){var o=r.pop(),a=o.indexOf("=");a=a<0?o.length:a,decodeURIComponent(o.slice(0,a).replace(/^\s+/,"")).indexOf(e)>=0&&n.push(decodeURIComponent(o.slice(a+1)))}return n}};if(!t||"function"!=typeof t)return m(n);d.push((function(){var e=m(n);t(e)}))};return{setCookie:v,getCookie:b,localStorageIsEnabled:y,cookiesAreEnabled:h,setDataInLocalStorage:I,getDataFromLocalStorage:w,removeDataFromLocalStorage:E,hasLocalStorage:S,findSimilarCookies:T}}var u=(0,r.z3)("async",(function(e,t,n,r){r(n)}),"validateStorageEnforcement");function l(e){return c({moduleName:e,moduleType:"core"})}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.gvlid,n=e.moduleName,r=e.bidderCode;if(arguments.length>1||arguments.length>0&&!(0,i.isPlainObject)(arguments[0]))throw new Error("Invalid invocation for getStorageManager");return c({gvlid:t,moduleName:n,bidderCode:r})}},112:function(e,t,n){"use strict";n.d(t,{k_:function(){return p}});var r=n(853),i=n(962),o=n(879),a=n(849);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}i.vc.setDefaults({userSync:(0,r.deepClone)({syncEnabled:!0,filterSettings:{image:{bidders:"*",filter:"include"}},syncsPerBidder:5,syncDelay:3e3,auctionDelay:0})});var u=(0,a.eA)("usersync"),l=!(0,r.isSafariBrowser)()&&u.cookiesAreEnabled(),p=function(e){var t={},n={image:[],iframe:[]},a=new Set,d={},u={image:!0,iframe:!1},l=e.config;function p(){if(l.syncEnabled&&e.browserSupportsCookies){try{u.iframe&&f(n.iframe,(function(e){var t=s(e,2),i=t[0],o=t[1];(0,r.logMessage)("Invoking iframe user sync for bidder: ".concat(i)),(0,r.insertUserSyncIframe)(o),function(e,t){e.image=e.image.filter((function(e){return e[0]!==t}))}(n,i)})),u.image&&f(n.image,(function(e){var t=s(e,2),n=t[0],i=t[1];(0,r.logMessage)("Invoking image pixel user sync for bidder: ".concat(n)),(0,r.triggerPixel)(i)}))}catch(e){return(0,r.logError)("Error firing user syncs",e)}n={image:[],iframe:[]}}}function f(e,t){(0,r.shuffle)(e).forEach((function(e){t(e),a.add(e[0])}))}return i.vc.getConfig("userSync",(function(e){if(e.userSync){var t=e.userSync.filterSettings;(0,r.isPlainObject)(t)&&(t.image||t.all||(e.userSync.filterSettings.image={bidders:"*",filter:"include"}))}l=c(l,e.userSync)})),t.registerSync=function(e,i,o){return a.has(i)?(0,r.logMessage)('already fired syncs for "'.concat(i,'", ignoring registerSync call')):l.syncEnabled&&(0,r.isArray)(n[e])?i?0!==l.syncsPerBidder&&Number(d[i])>=l.syncsPerBidder?(0,r.logWarn)('Number of user syncs exceeded for "'.concat(i,'"')):t.canBidderRegisterSync(e,i)?(n[e].push([i,o]),void(d=function(e,t){return e[t]?e[t]+=1:e[t]=1,e}(d,i))):(0,r.logWarn)('Bidder "'.concat(i,'" not permitted to register their "').concat(e,'" userSync pixels.')):(0,r.logWarn)("Bidder is required for registering sync"):(0,r.logWarn)('User sync type "'.concat(e,'" not supported'))},t.syncUsers=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(e)return setTimeout(p,Number(e));p()},t.triggerUserSyncs=function(){l.enableOverride&&t.syncUsers()},t.canBidderRegisterSync=function(e,t){return!l.filterSettings||!function(e,t){var n=l.filterSettings;if(function(e,t){if(e.all&&e[t])return(0,r.logWarn)('Detected presence of the "filterSettings.all" and "filterSettings.'.concat(t,'" in userSync config.  You cannot mix "all" with "iframe/image" configs; they are mutually exclusive.')),!1;var n=e.all?e.all:e[t],i=e.all?"all":t;if(!n)return!1;var o=n.filter,a=n.bidders;return o&&"include"!==o&&"exclude"!==o?((0,r.logWarn)('UserSync "filterSettings.'.concat(i,".filter\" setting '").concat(o,"' is not a valid option; use either 'include' or 'exclude'.")),!1):!!("*"===a||Array.isArray(a)&&a.length>0&&a.every((function(e){return(0,r.isStr)(e)&&"*"!==e})))||((0,r.logWarn)('Detected an invalid setup in userSync "filterSettings.'.concat(i,".bidders\"; use either '*' (to represent all bidders) or an array of bidders.")),!1)}(n,e)){u[e]=!0;var i=n.all?n.all:n[e],a="*"===i.bidders?[t]:i.bidders;return{include:function(e,t){return!(0,o.q9)(e,t)},exclude:function(e,t){return(0,o.q9)(e,t)}}[i.filter||"include"](a,t)}return!u[e]}(e,t)},t}({config:i.vc.getConfig("userSync"),browserSupportsCookies:l})},853:function(t,n,r){"use strict";r.r(n),r.d(n,{_each:function(){return le},_map:function(){return fe},adUnitsFilter:function(){return qe},bind:function(){return k},buildUrl:function(){return wt},callBurl:function(){return ye},checkCookieSupport:function(){return Xe},chunk:function(){return gt},cleanObj:function(){return dt},compareOn:function(){return bt},contains:function(){return pe},convertCamelToUnderscore:function(){return st},convertTypes:function(){return lt},createInvisibleIframe:function(){return ee},createTrackPixelHtml:function(){return we},createTrackPixelIframeHtml:function(){return Ee},cyrb53Hash:function(){return Tt},debugTurnedOn:function(){return Q},deepAccess:function(){return d.Z},deepClone:function(){return Me},deepEqual:function(){return Et},deepSetValue:function(){return c.Z},delayExecution:function(){return Ve},fill:function(){return ft},flatten:function(){return Ce},formatQS:function(){return ht},generateUUID:function(){return D},getAdUnitSizes:function(){return q},getBidIdParameter:function(){return R},getBidRequest:function(){return Ae},getBidderCodes:function(){return ke},getDNT:function(){return et},getDefinedParams:function(){return He},getGptSlotInfoForAdUnitCode:function(){return it},getHighestCpm:function(){return De},getKeyByValue:function(){return _e},getKeys:function(){return Oe},getLatestHighestCpmBid:function(){return Ue},getMaxValueFromArray:function(){return vt},getMinValueFromArray:function(){return mt},getOldestHighestCpmBid:function(){return Re},getOrigin:function(){return Qe},getParameterByName:function(){return te},getPerformanceNow:function(){return Le},getPrebidInternal:function(){return O},getUniqueIdentifierStr:function(){return P},getUserConfiguredParams:function(){return $e},getValue:function(){return xe},getValueString:function(){return Se},getWindowLocation:function(){return L},getWindowSelf:function(){return G},getWindowTop:function(){return F},groupBy:function(){return Ye},hasConsoleLogger:function(){return $},hasDeviceAccess:function(){return Ke},hasOwn:function(){return ge},inIframe:function(){return ze},insertElement:function(){return me},insertHtmlIntoIframe:function(){return he},insertUserSyncIframe:function(){return Ie},internal:function(){return C},isA:function(){return ne},isAdUnitCodeMatchingSlot:function(){return nt},isApnGetTagDefined:function(){return Pe},isArray:function(){return oe},isArrayOfNums:function(){return pt},isBoolean:function(){return de},isEmpty:function(){return ce},isEmptyStr:function(){return ue},isFn:function(){return re},isGptPubadsDefined:function(){return je},isInteger:function(){return at},isNumber:function(){return ae},isPlainObject:function(){return se},isSafariBrowser:function(){return Ze},isSlotMatchingAdUnitCode:function(){return rt},isStr:function(){return ie},isValidMediaTypes:function(){return Je},logError:function(){return Y},logInfo:function(){return X},logMessage:function(){return K},logWarn:function(){return V},mergeDeep:function(){return St},parseGPTSingleSizeArray:function(){return z},parseGPTSingleSizeArrayToRtbSize:function(){return Z},parseQS:function(){return yt},parseQueryStringParameters:function(){return B},parseSizesInput:function(){return M},parseUrl:function(){return It},pick:function(){return ct},prefixLog:function(){return H},replaceAuctionPrice:function(){return We},replaceClickThrough:function(){return Fe},shuffle:function(){return Ne},timestamp:function(){return Ge},transformAdServerTargetingObj:function(){return N},transformBidderParamKeywords:function(){return ut},triggerPixel:function(){return be},tryAppendQueryString:function(){return U},uniques:function(){return Te},unsupportedBidderMessage:function(){return ot},waitForElementToLoad:function(){return ve}});var i=r(962),o=r(79),a=r.n(o),s=r(879),d=r(265),c=r(806);function u(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||l(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function m(t){return(m="function"==typeof Symbol&&"symbol"==e(Symbol.iterator)?function(t){return e(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":e(t)})(t)}var v,b=r(644),y=Object.prototype.toString,h=Boolean(window.console),I=Boolean(h&&window.console.log),w=Boolean(h&&window.console.info),E=Boolean(h&&window.console.warn),S=Boolean(h&&window.console.error),T=function(){return null==v&&(v=r(319)),v.emit.apply(v,arguments)},C={checkCookieSupport:Xe,createTrackPixelIframeHtml:Ee,getWindowSelf:G,getWindowTop:F,getWindowLocation:L,insertUserSyncIframe:Ie,insertElement:me,isFn:re,triggerPixel:be,logError:Y,logWarn:V,logMessage:K,logInfo:X,parseQS:yt,formatQS:ht,deepEqual:Et},A={};function O(){return A}var x,_={},k=function(e,t){return t}.bind(null,1,_)()===_?Function.prototype.bind:function(e){var t=this,n=Array.prototype.slice.call(arguments,1);return function(){return t.apply(e,n.concat(Array.prototype.slice.call(arguments)))}},j=(x=0,function(){return++x});function P(){return j()+Math.random().toString(16).substr(2)}function D(e){return e?(e^(window&&window.crypto&&window.crypto.getRandomValues?crypto.getRandomValues(new Uint8Array(1))[0]%16:16*Math.random())>>e/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,D)}function R(e,t){return t&&t[e]?t[e]:""}function U(e,t,n){return n?e+t+"="+encodeURIComponent(n)+"&":e}function B(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t+=n+"="+encodeURIComponent(e[n])+"&");return t.replace(/&$/,"")}function N(e){return e&&Object.getOwnPropertyNames(e).length>0?Oe(e).map((function(t){return"".concat(t,"=").concat(encodeURIComponent(xe(e,t)))})).join("&"):""}function q(e){if(e){var t=[];if(e.mediaTypes&&e.mediaTypes.banner&&Array.isArray(e.mediaTypes.banner.sizes)){var n=e.mediaTypes.banner.sizes;Array.isArray(n[0])?t=n:t.push(n)}else Array.isArray(e.sizes)&&(Array.isArray(e.sizes[0])?t=e.sizes:t.push(e.sizes));return t}}function M(e){var t=[];if("string"==typeof e){var n=e.split(","),r=/^(\d)+x(\d)+$/i;if(n)for(var i in n)ge(n,i)&&n[i].match(r)&&t.push(n[i])}else if("object"===m(e)){var o=e.length;if(o>0)if(2===o&&"number"==typeof e[0]&&"number"==typeof e[1])t.push(z(e));else for(var a=0;a<o;a++)t.push(z(e[a]))}return t}function z(e){if(W(e))return e[0]+"x"+e[1]}function Z(e){if(W(e))return{w:e[0],h:e[1]}}function W(e){return oe(e)&&2===e.length&&!isNaN(e[0])&&!isNaN(e[1])}function F(){return window.top}function G(){return window.self}function L(){return window.location}function K(){Q()&&I&&console.log.apply(console,J(arguments,"MESSAGE:"))}function X(){Q()&&w&&console.info.apply(console,J(arguments,"INFO:"))}function V(){Q()&&E&&console.warn.apply(console,J(arguments,"WARNING:")),T(b.EVENTS.AUCTION_DEBUG,{type:"WARNING",arguments:arguments})}function Y(){Q()&&S&&console.error.apply(console,J(arguments,"ERROR:")),T(b.EVENTS.AUCTION_DEBUG,{type:"ERROR",arguments:arguments})}function H(e){function t(t){return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];t.apply(void 0,[e].concat(r))}}return{logError:t(Y),logWarn:t(V),logMessage:t(K),logInfo:t(X)}}function J(e,t){e=[].slice.call(e);var n=i.vc.getCurrentBidder();return t&&e.unshift(t),n&&e.unshift(r("#aaa")),e.unshift(r("#3b88c3")),e.unshift("%cPrebid"+(n?"%c".concat(n):"")),e;function r(e){return"display: inline-block; color: #fff; background: ".concat(e,"; padding: 1px 4px; border-radius: 3px;")}}function $(){return I}function Q(){return!!i.vc.getConfig("debug")}function ee(){var e=document.createElement("iframe");return e.id=P(),e.height=0,e.width=0,e.border="0px",e.hspace="0",e.vspace="0",e.marginWidth="0",e.marginHeight="0",e.style.border="0",e.scrolling="no",e.frameBorder="0",e.src="about:blank",e.style.display="none",e}function te(e){return yt(L().search)[e]||""}function ne(e,t){return y.call(e)==="[object "+t+"]"}function re(e){return ne(e,"Function")}function ie(e){return ne(e,"String")}function oe(e){return ne(e,"Array")}function ae(e){return ne(e,"Number")}function se(e){return ne(e,"Object")}function de(e){return ne(e,"Boolean")}function ce(e){if(!e)return!0;if(oe(e)||ie(e))return!(e.length>0);for(var t in e)if(hasOwnProperty.call(e,t))return!1;return!0}function ue(e){return ie(e)&&(!e||0===e.length)}function le(e,t){if(!ce(e)){if(re(e.forEach))return e.forEach(t,this);var n=0,r=e.length;if(r>0)for(;n<r;n++)t(e[n],n,e);else for(n in e)hasOwnProperty.call(e,n)&&t.call(this,e[n],n)}}function pe(e,t){if(ce(e))return!1;if(re(e.indexOf))return-1!==e.indexOf(t);for(var n=e.length;n--;)if(e[n]===t)return!0;return!1}function fe(e,t){if(ce(e))return[];if(re(e.map))return e.map(t);var n=[];return le(e,(function(r,i){n.push(t(r,i,e))})),n}function ge(e,t){return e.hasOwnProperty?e.hasOwnProperty(t):void 0!==e[t]&&e.constructor.prototype[t]!==e[t]}function me(e,t,n,r){var i;t=t||document,i=n?t.getElementsByTagName(n):t.getElementsByTagName("head");try{if((i=i.length?i:t.getElementsByTagName("body")).length){i=i[0];var o=r?null:i.firstChild;return i.insertBefore(e,o)}}catch(e){}}function ve(e,t){var n=null;return new Promise((function(r){var i=function t(){e.removeEventListener("load",t),e.removeEventListener("error",t),null!=n&&window.clearTimeout(n),r()};e.addEventListener("load",i),e.addEventListener("error",i),null!=t&&(n=window.setTimeout(i,t))}))}function be(e,t,n){var r=new Image;t&&C.isFn(t)&&ve(r,n).then(t),r.src=e}function ye(e){var t=e.source,n=e.burl;t===b.S2S.SRC&&n&&C.triggerPixel(n)}function he(e){if(e){var t=document.createElement("iframe");t.id=P(),t.width=0,t.height=0,t.hspace="0",t.vspace="0",t.marginWidth="0",t.marginHeight="0",t.style.display="none",t.style.height="0px",t.style.width="0px",t.scrolling="no",t.frameBorder="0",t.allowtransparency="true",C.insertElement(t,document,"body"),t.contentWindow.document.open(),t.contentWindow.document.write(e),t.contentWindow.document.close()}}function Ie(e,t,n){var r=C.createTrackPixelIframeHtml(e,!1,"allow-scripts allow-same-origin"),i=document.createElement("div");i.innerHTML=r;var o=i.firstChild;t&&C.isFn(t)&&ve(o,n).then(t),C.insertElement(o,document,"html",!0)}function we(e){return e?'<div style="position:absolute;left:0px;top:0px;visibility:hidden;"><img src="'+encodeURI(e)+'"></div>':""}function Ee(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return e?(t&&(e=encodeURI(e)),n&&(n='sandbox="'.concat(n,'"')),"<iframe ".concat(n,' id="').concat(P(),'"\n      frameborder="0"\n      allowtransparency="true"\n      marginheight="0" marginwidth="0"\n      width="0" hspace="0" vspace="0" height="0"\n      style="height:0px;width:0px;display:none;"\n      scrolling="no"\n      src="').concat(e,'">\n    </iframe>')):""}function Se(e,t,n){return null==t?n:ie(t)?t:ae(t)?t.toString():void C.logWarn("Unsuported type for param: "+e+" required type: String")}function Te(e,t,n){return n.indexOf(e)===t}function Ce(e,t){return e.concat(t)}function Ae(e,t){var n;if(e)return t.some((function(t){var r=(0,s.sE)(t.bids,(function(t){return["bidId","adId","bid_id"].some((function(n){return t[n]===e}))}));return r&&(n=r),r})),n}function Oe(e){return Object.keys(e)}function xe(e,t){return e[t]}function _e(e,t){for(var n in e)if(e.hasOwnProperty(n)&&e[n]===t)return n}function ke(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pbjs.adUnits;return e.map((function(e){return e.bids.map((function(e){return e.bidder})).reduce(Ce,[])})).reduce(Ce,[]).filter(Te)}function je(){if(window.googletag&&re(window.googletag.pubads)&&re(window.googletag.pubads().getSlots))return!0}function Pe(){if(window.apntag&&re(window.apntag.getTag))return!0}var De=Be("timeToRespond",(function(e,t){return e>t})),Re=Be("responseTimestamp",(function(e,t){return e>t})),Ue=Be("responseTimestamp",(function(e,t){return e<t}));function Be(e,t){return function(n,r){return n.cpm===r.cpm?t(n[e],r[e])?r:n:n.cpm<r.cpm?r:n}}function Ne(e){for(var t=e.length;t>0;){var n=Math.floor(Math.random()*t),r=e[--t];e[t]=e[n],e[n]=r}return e}function qe(e,t){return(0,s.q9)(e,t&&t.adUnitCode)}function Me(e){return a()(e)}function ze(){try{return C.getWindowSelf()!==C.getWindowTop()}catch(e){return!0}}function Ze(){return/^((?!chrome|android|crios|fxios).)*safari/i.test(navigator.userAgent)}function We(e,t){if(e)return e.replace(/\$\{AUCTION_PRICE\}/g,t)}function Fe(e,t){if(e&&t&&"string"==typeof t)return e.replace(/\${CLICKTHROUGH}/g,t)}function Ge(){return(new Date).getTime()}function Le(){return window.performance&&window.performance.now&&window.performance.now()||0}function Ke(){return!1!==i.vc.getConfig("deviceAccess")}function Xe(){if(window.navigator.cookieEnabled||document.cookie.length)return!0}function Ve(e,t){if(t<1)throw new Error("numRequiredCalls must be a positive number. Got ".concat(t));var n=0;return function(){++n===t&&e.apply(this,arguments)}}function Ye(e,t){return e.reduce((function(e,n){return(e[n[t]]=e[n[t]]||[]).push(n),e}),{})}function He(e,t){return t.filter((function(t){return e[t]})).reduce((function(t,n){return g(t,f({},n,e[n]))}),{})}function Je(e){var t=["banner","native","video"];return!!Object.keys(e).every((function(e){return(0,s.q9)(t,e)}))&&(!e.video||!e.video.context||(0,s.q9)(["instream","outstream","adpod"],e.video.context))}function $e(e,t,n){return e.filter((function(e){return e.code===t})).map((function(e){return e.bids})).reduce(Ce,[]).filter((function(e){return e.bidder===n})).map((function(e){return e.params||{}}))}function Qe(){return window.location.origin?window.location.origin:window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")}function et(){return"1"===navigator.doNotTrack||"1"===window.doNotTrack||"1"===navigator.msDoNotTrack||"yes"===navigator.doNotTrack}var tt=function(e,t){return e.getAdUnitPath()===t||e.getSlotElementId()===t};function nt(e){return function(t){return tt(e,t)}}function rt(e){return function(t){return tt(t,e)}}function it(e){var t;return je()&&(t=(0,s.sE)(window.googletag.pubads().getSlots(),rt(e))),t?{gptSlot:t.getAdUnitPath(),divId:t.getSlotElementId()}:{}}function ot(e,t){var n=Object.keys(e.mediaTypes||{banner:"banner"}).join(", ");return"\n    ".concat(e.code," is a ").concat(n," ad unit\n    containing bidders that don't support ").concat(n,": ").concat(t,".\n    This bidder won't fetch demand.\n  ")}function at(e){return Number.isInteger?Number.isInteger(e):"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}function st(e){return e.replace(/(?:^|\.?)([A-Z])/g,(function(e,t){return"_"+t.toLowerCase()})).replace(/^_/,"")}function dt(e){return Object.keys(e).reduce((function(t,n){return void 0!==e[n]&&(t[n]=e[n]),t}),{})}function ct(e,t){return"object"!==m(e)?{}:t.reduce((function(n,r,i){if("function"==typeof r)return n;var o=r,a=r.match(/^(.+?)\sas\s(.+?)$/i);a&&(r=a[1],o=a[2]);var s=e[r];return"function"==typeof t[i+1]&&(s=t[i+1](s,n)),void 0!==s&&(n[o]=s),n}),{})}function ut(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"keywords",n=[];return le(e,(function(e,r){if(oe(e)){var i=[];le(e,(function(e){((e=Se(t+"."+r,e))||""===e)&&i.push(e)})),e=i}else{if(!ie(e=Se(t+"."+r,e)))return;e=[e]}n.push({key:r,value:e})})),n}function lt(e,t){return Object.keys(e).forEach((function(n){var r,i;t[n]&&(re(e[n])?t[n]=e[n](t[n]):t[n]=(r=e[n],i=t[n],"string"===r?i&&i.toString():"number"===r?Number(i):i),isNaN(t[n])&&delete t.key)})),t}function pt(e,t){return oe(e)&&(!t||e.length===t)&&e.every((function(e){return at(e)}))}function ft(e,t){for(var n=[],r=0;r<t;r++){var i=se(e)?Me(e):e;n.push(i)}return n}function gt(e,t){for(var n=[],r=0;r<Math.ceil(e.length/t);r++){var i=r*t,o=i+t;n.push(e.slice(i,o))}return n}function mt(e){return Math.min.apply(Math,u(e))}function vt(e){return Math.max.apply(Math,u(e))}function bt(e){return function(t,n){return t[e]<n[e]?1:t[e]>n[e]?-1:0}}function yt(e){return e?e.replace(/^\?/,"").split("&").reduce((function(e,t){var n,r=(2,function(e){if(Array.isArray(e))return e}(n=t.split("="))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),2!==o.length);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(n)||l(n,2)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=r[0],o=r[1];return/\[\]$/.test(i)?(e[i=i.replace("[]","")]=e[i]||[],e[i].push(o)):e[i]=o||"",e}),{}):{}}function ht(e){return Object.keys(e).map((function(t){return Array.isArray(e[t])?e[t].map((function(e){return"".concat(t,"[]=").concat(e)})).join("&"):"".concat(t,"=").concat(e[t])})).join("&")}function It(e,t){var n=document.createElement("a");t&&"noDecodeWholeURL"in t&&t.noDecodeWholeURL?n.href=e:n.href=decodeURIComponent(e);var r=t&&"decodeSearchAsString"in t&&t.decodeSearchAsString;return{href:n.href,protocol:(n.protocol||"").replace(/:$/,""),hostname:n.hostname,port:+n.port,pathname:n.pathname.replace(/^(?!\/)/,"/"),search:r?n.search:C.parseQS(n.search||""),hash:(n.hash||"").replace(/^#/,""),host:n.host||window.location.host}}function wt(e){return(e.protocol||"http")+"://"+(e.host||e.hostname+(e.port?":".concat(e.port):""))+(e.pathname||"")+(e.search?"?".concat(C.formatQS(e.search||"")):"")+(e.hash?"#".concat(e.hash):"")}function Et(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.checkTypes,i=void 0!==r&&r;if(e===t)return!0;if("object"!==m(e)||null===e||"object"!==m(t)||null===t||i&&e.constructor!==t.constructor)return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var o in e){if(!t.hasOwnProperty(o))return!1;if(!Et(e[o],t[o],{checkTypes:i}))return!1}return!0}function St(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(!n.length)return e;var i=n.shift();if(se(e)&&se(i)){var o=function(t){se(i[t])?(e[t]||g(e,f({},t,{})),St(e[t],i[t])):oe(i[t])?e[t]?oe(e[t])&&i[t].forEach((function(n){for(var r=1,i=0;i<e[t].length;i++)if(Et(e[t][i],n)){r=0;break}r&&e[t].push(n)})):g(e,f({},t,u(i[t]))):g(e,f({},t,i[t]))};for(var a in i)o(a)}return St.apply(void 0,[e].concat(n))}function Tt(e){for(var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=function(e,t){if(re(Math.imul))return Math.imul(e,t);var n=(4194303&e)*(t|=0);return 4290772992&e&&(n+=(4290772992&e)*t|0),0|n},i=3735928559^n,o=1103547991^n,a=0;a<e.length;a++)i=r(i^(t=e.charCodeAt(a)),2654435761),o=r(o^t,1597334677);return i=r(i^i>>>16,2246822507)^r(o^o>>>13,3266489909),(4294967296*(2097151&(o=r(o^o>>>16,2246822507)^r(i^i>>>13,3266489909)))+(i>>>0)).toString()}},929:function(e,t,n){"use strict";n.d(t,{Dn:function(){return u},LD:function(){return c},gZ:function(){return d}});var r=n(265),i=n(853),o=n(962),a=n(494),s=n(766),d="outstream",c="instream";function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.index,i=void 0===n?s.K.index:n,o=(0,r.Z)(i.getMediaTypes(e),"video"),a=o&&(0,r.Z)(o,"context"),d=i.getAdUnit(e);return l(e,d,o,a)}var l=(0,a.z3)("sync",(function(e,t,n,r){return n&&r!==d?o.vc.getConfig("cache.url")||!e.vastXml||e.vastUrl?!(!e.vastUrl&&!e.vastXml):((0,i.logError)('\n        This bid contains only vastXml and will not work when a prebid cache url is not specified.\n        Try enabling prebid cache with pbjs.setConfig({ cache: {url: "..."} });\n      '),!1):r!==d||!!(e.renderer||t&&t.renderer||n.renderer)}),"checkVideoBidSetup")},265:function(e,t,n){"use strict";function r(e,t,n,r,i){for(t=t.split?t.split("."):t,r=0;r<t.length;r++)e=e?e[t[r]]:i;return e===i?n:e}n.d(t,{Z:function(){return r}})},806:function(e,t,n){"use strict";function r(e,t,n){t.split&&(t=t.split("."));for(var r,i=0,o=t.length,a=e;i<o;++i)r=a[t[i]],a=a[t[i]]=i===o-1?n:null!=r?r:!~t[i+1].indexOf(".")&&+t[i+1]>-1?[]:{}}n.d(t,{Z:function(){return r}})},432:function(t){s.SYNC=1,s.ASYNC=2,s.QUEUE=4;var n=Object.freeze({useProxy:!0,ready:0}),r=new WeakMap,i="2,1,0"===[1].reduce((function(e,t,n){return[e,t,n]}),2).toString()?Array.prototype.reduce:function(e,t){var n,r=Object(this),i=r.length>>>0,o=0;if(t)n=t;else{for(;o<i&&!(o in r);)o++;n=r[o++]}for(;o<i;)o in r&&(n=e(n,r[o],o,r)),o++;return n};function o(e,t){return Array.prototype.slice.call(e,t)}var a=Object.assign||function(e){return i.call(o(arguments,1),(function(e,t){return t&&Object.keys(t).forEach((function(n){e[n]=t[n]})),e}),e)};function s(t){var d,c={},u=[];function l(t,n){return"function"==typeof t?m.call(null,"sync",t,n):"string"==typeof t&&"function"==typeof n?m.apply(null,arguments):"object"==e(t)?p.apply(null,arguments):void 0}function p(e,t,n){var r=!0;void 0===t&&(t=Object.getOwnPropertyNames(e),r=!1);var i={},o=["constructor"];do{(t=t.filter((function(t){return!("function"!=typeof e[t]||-1!==o.indexOf(t)||t.match(/^_/))}))).forEach((function(t){var r=t.split(":"),o=r[0],a=r[1]||"sync";if(!i[o]){var s=e[o];i[o]=e[o]=m(a,s,n?[n,o]:void 0)}})),e=Object.getPrototypeOf(e)}while(r&&e);return i}function f(e){var t=Array.isArray(e)?e:e.split(".");return i.call(t,(function(n,r,i){var o=n[r],a=!1;return o||(i===t.length-1?(d||u.push((function(){a||console.warn("fun-hooks: referenced '"+e+"' but it was never created")})),n[r]=g((function(e){n[r]=e,a=!0}))):n[r]={})}),c)}function g(t){var n=[],i=[],o=function(){},s={before:function(e,t){return c.call(this,n,"before",e,t)},after:function(e,t){return c.call(this,i,"after",e,t)},getHooks:function(t){var r=n.concat(i);"object"==e(t)&&(r=r.filter((function(e){return Object.keys(t).every((function(n){return e[n]===t[n]}))})));try{a(r,{remove:function(){return r.forEach((function(e){e.remove()})),this}})}catch(t){console.error("error adding `remove` to array, did you modify Array.prototype?")}return r},removeAll:function(){return this.getHooks().remove()}},d={install:function(e,r,a){this.type=e,o=a,a(n,i),t&&t(r)}};return r.set(s.after,d),s;function c(e,t,r,a){var s={hook:r,type:t,priority:a||10,remove:function(){var t=e.indexOf(s);-1!==t&&(e.splice(t,1),o(n,i))}};return e.push(s),e.sort((function(e,t){return t.priority-e.priority})),o(n,i),this}}function m(e,n,i){var c=n.after&&r.get(n.after);if(c){if(c.type!==e)throw"fun-hooks: recreated hookable with different type";return n}var l,p,m=i?f(i):g(),v={get:function(e,t){return m[t]||Reflect.get.apply(Reflect,arguments)}};return d||u.push(b),t.useProxy&&"function"==typeof Proxy&&Proxy.revocable?p=new Proxy(n,v):a(p=function(){return v.apply?v.apply(n,this,o(arguments)):n.apply(this,arguments)},m),r.get(p.after).install(e,p,(function(t,n){var r,i=[];function a(e){i.push(e.hook)}t.length||n.length?(t.forEach(a),r=i.push(void 0)-1,n.forEach(a),l=function(t,n,a){var s,d=0,c="async"===e&&"function"==typeof a[a.length-1]&&a.pop();function u(t){"sync"===e?s=t:c&&c.apply(null,arguments)}function l(t){if(i[d]){var r=o(arguments);return l.bail=u,r.unshift(l),i[d++].apply(n,r)}"sync"===e?s=t:c&&c.apply(null,arguments)}return i[r]=function(){var r=o(arguments,1);"async"===e&&c&&(delete l.bail,r.push(l));var i=t.apply(n,r);"sync"===e&&l(i)},l.apply(null,a),s}):l=void 0,b()})),p;function b(){!d&&("sync"!==e||t.ready&s.SYNC)&&("async"!==e||t.ready&s.ASYNC)?"sync"!==e&&t.ready&s.QUEUE?v.apply=function(){var e=arguments;u.push((function(){p.apply(e[1],e[2])}))}:v.apply=function(){throw"fun-hooks: hooked function not ready"}:v.apply=l}}return(t=a({},n,t)).ready?l.ready=function(){d=!0,function(e){for(var t;t=e.shift();)t()}(u)}:d=!0,l.get=f,l}t.exports=s},79:function(t){t.exports=function t(n){var r=Array.isArray(n)?[]:{};for(var i in n){var o=n[i];r[i]=o&&"object"==e(o)?t(o):o}return r}},644:function(e){"use strict";e.exports=JSON.parse('{"JSON_MAPPING":{"PL_CODE":"code","PL_SIZE":"sizes","PL_BIDS":"bids","BD_BIDDER":"bidder","BD_ID":"paramsd","BD_PL_ID":"placementId","ADSERVER_TARGETING":"adserverTargeting","BD_SETTING_STANDARD":"standard"},"DEBUG_MODE":"pbjs_debug","STATUS":{"GOOD":1,"NO_BID":2},"CB":{"TYPE":{"ALL_BIDS_BACK":"allRequestedBidsBack","AD_UNIT_BIDS_BACK":"adUnitBidsBack","BID_WON":"bidWon","REQUEST_BIDS":"requestBids"}},"EVENTS":{"AUCTION_INIT":"auctionInit","AUCTION_END":"auctionEnd","BID_ADJUSTMENT":"bidAdjustment","BID_TIMEOUT":"bidTimeout","BID_REQUESTED":"bidRequested","BID_RESPONSE":"bidResponse","NO_BID":"noBid","BID_WON":"bidWon","BIDDER_DONE":"bidderDone","BIDDER_ERROR":"bidderError","SET_TARGETING":"setTargeting","BEFORE_REQUEST_BIDS":"beforeRequestBids","BEFORE_BIDDER_HTTP":"beforeBidderHttp","REQUEST_BIDS":"requestBids","ADD_AD_UNITS":"addAdUnits","AD_RENDER_FAILED":"adRenderFailed","AD_RENDER_SUCCEEDED":"adRenderSucceeded","TCF2_ENFORCEMENT":"tcf2Enforcement","AUCTION_DEBUG":"auctionDebug","BID_VIEWABLE":"bidViewable","STALE_RENDER":"staleRender","BILLABLE_EVENT":"billableEvent"},"AD_RENDER_FAILED_REASON":{"PREVENT_WRITING_ON_MAIN_DOCUMENT":"preventWritingOnMainDocument","NO_AD":"noAd","EXCEPTION":"exception","CANNOT_FIND_AD":"cannotFindAd","MISSING_DOC_OR_ADID":"missingDocOrAdid"},"EVENT_ID_PATHS":{"bidWon":"adUnitCode"},"GRANULARITY_OPTIONS":{"LOW":"low","MEDIUM":"medium","HIGH":"high","AUTO":"auto","DENSE":"dense","CUSTOM":"custom"},"TARGETING_KEYS":{"BIDDER":"hb_bidder","AD_ID":"hb_adid","PRICE_BUCKET":"hb_pb","SIZE":"hb_size","DEAL":"hb_deal","SOURCE":"hb_source","FORMAT":"hb_format","UUID":"hb_uuid","CACHE_ID":"hb_cache_id","CACHE_HOST":"hb_cache_host","ADOMAIN":"hb_adomain"},"DEFAULT_TARGETING_KEYS":{"BIDDER":"hb_bidder","AD_ID":"hb_adid","PRICE_BUCKET":"hb_pb","SIZE":"hb_size","DEAL":"hb_deal","FORMAT":"hb_format","UUID":"hb_uuid","CACHE_HOST":"hb_cache_host"},"NATIVE_KEYS":{"title":"hb_native_title","body":"hb_native_body","body2":"hb_native_body2","privacyLink":"hb_native_privacy","privacyIcon":"hb_native_privicon","sponsoredBy":"hb_native_brand","image":"hb_native_image","icon":"hb_native_icon","clickUrl":"hb_native_linkurl","displayUrl":"hb_native_displayurl","cta":"hb_native_cta","rating":"hb_native_rating","address":"hb_native_address","downloads":"hb_native_downloads","likes":"hb_native_likes","phone":"hb_native_phone","price":"hb_native_price","salePrice":"hb_native_saleprice","rendererUrl":"hb_renderer_url","adTemplate":"hb_adTemplate"},"S2S":{"SRC":"s2s","DEFAULT_ENDPOINT":"https://prebid.adnxs.com/pbs/v1/openrtb2/auction","SYNCED_BIDDERS_KEY":"pbjsSyncs"},"BID_STATUS":{"BID_TARGETING_SET":"targetingSet","RENDERED":"rendered","BID_REJECTED":"bidRejected"}}')}},r={};function i(e){var t=r[e];if(void 0!==t)return t.exports;var o=r[e]={exports:{}};return n[e](o,o.exports,i),o.exports}i.m=n,t=[],i.O=function(e,n,r,o){if(!n){var a=1/0;for(u=0;u<t.length;u++){n=t[u][0],r=t[u][1],o=t[u][2];for(var s=!0,d=0;d<n.length;d++)(!1&o||a>=o)&&Object.keys(i.O).every((function(e){return i.O[e](n[d])}))?n.splice(d--,1):(s=!1,o<a&&(a=o));if(s){t.splice(u--,1);var c=r();void 0!==c&&(e=c)}}return e}o=o||0;for(var u=t.length;u>0&&t[u-1][2]>o;u--)t[u]=t[u-1];t[u]=[n,r,o]},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,{a:t}),t},i.d=function(e,t){for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){var e={602:0};i.O.j=function(t){return 0===e[t]};var t=function(t,n){var r,o,a=n[0],s=n[1],d=n[2],c=0;if(a.some((function(t){return 0!==e[t]}))){for(r in s)i.o(s,r)&&(i.m[r]=s[r]);if(d)var u=d(i)}for(t&&t(n);c<a.length;c++)o=a[c],i.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return i.O(u)},n=self.pbjsChunk=self.pbjsChunk||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var o={};!function(){"use strict";var e=i(528),t=i(853),n=i(265),r=i(319),o=i(17),a=i(644),s=i(766),d=i(879),c=i(145),u=i(962),l=a.EVENTS,p=l.AD_RENDER_FAILED,f=l.AD_RENDER_SUCCEEDED;function g(e){var n=e.reason,i=e.message,o=e.bid,a=e.id,s={reason:n,message:i};o&&(s.bid=o),a&&(s.adId=a),(0,t.logError)(i),r.emit(p,s)}function m(e){var t=e.doc,n=e.bid,i=e.id,o={doc:t};n&&(o.bid=n),i&&(o.adId=i),r.emit(f,o)}var v=a.EVENTS.BID_WON,b=a.EVENTS.STALE_RENDER,y={"Prebid Request":function(e,i,o){if(null!=o){if(o.status!==a.BID_STATUS.RENDERED||((0,t.logWarn)("Ad id ".concat(o.adId," has been rendered before")),r.emit(b,o),!(0,n.Z)(u.vc.getConfig("auctionOptions"),"suppressStaleRender"))){try{!function(e,n){var r=e.adId,i=e.ad,o=e.adUrl,a=e.width,s=e.height,d=e.renderer,u=e.cpm,l=e.originalCpm;(0,c.Pd)(d)?(0,c._U)(d,e):r&&(I(e),n({message:"Prebid Response",ad:(0,t.replaceAuctionPrice)(i,l||u),adUrl:(0,t.replaceAuctionPrice)(o,l||u),adId:r,width:a,height:s}))}(o,e)}catch(e){return void g({reason:a.AD_RENDER_FAILED_REASON.EXCEPTION,message:e.message,id:i.adId,bid:o})}s.K.addWinningBid(o),r.emit(v,o)}}else g({reason:a.AD_RENDER_FAILED_REASON.CANNOT_FIND_AD,message:"Cannot find ad '".concat(i.adId,"' for cross-origin render request"),id:i.adId})},"Prebid Native":function(e,n,i){if(null!=i)switch(n.action){case"assetRequest":e((0,o.eK)(n,i));break;case"allAssetRequest":e((0,o.JL)(n,i));break;case"resizeNativeHeight":i.height=n.height,i.width=n.width,I(i);break;default:if("click"===(0,o.e6)(n,i))return;s.K.addWinningBid(i),r.emit(v,i)}else(0,t.logError)("Cannot find ad '".concat(n.adId,"' for x-origin event request"))},"Prebid Event":function(e,n,r){if(null!=r)if(r.status===a.BID_STATUS.RENDERED)switch(n.event){case a.EVENTS.AD_RENDER_FAILED:g({bid:r,id:n.adId,reason:n.info.reason,message:n.info.message});break;case a.EVENTS.AD_RENDER_SUCCEEDED:m({doc:null,bid:r,id:n.adId});break;default:(0,t.logError)("Received x-origin event request for unsupported event: '".concat(n.event,"' (adId: '").concat(n.adId,"')"))}else(0,t.logWarn)("Received x-origin event request without corresponding render request for ad '".concat(n.adId,"'"));else(0,t.logError)("Cannot find ad '".concat(n.adId,"' for x-origin event request"))}};function h(e){var n=e.message?"message":"data",r={};try{r=JSON.parse(e[n])}catch(e){return}if(r&&r.adId&&r.message){var i=(0,d.sE)(s.K.getBidsReceived(),(function(e){return e.adId===r.adId}));y.hasOwnProperty(r.message)&&y[r.message](function(e){return null==e.origin&&0===e.ports.length?function(){var e="Cannot post message to a frame with null origin. Please update creatives to use MessageChannel, see https://github.com/prebid/Prebid.js/issues/7870";throw(0,t.logError)(e),new Error(e)}:e.ports.length>0?function(t){e.ports[0].postMessage(JSON.stringify(t))}:function(t){e.source.postMessage(JSON.stringify(t),e.origin)}}(e),r,i)}}function I(e){var n=e.adId,r=e.adUnitCode,i=e.width,o=e.height;["div","iframe"].forEach((function(e){var a=function(e){var i=function(e,n){return(0,t.isGptPubadsDefined)()?function(e){var t=(0,d.sE)(window.googletag.pubads().getSlots(),(function(t){return(0,d.sE)(t.getTargetingKeys(),(function(n){return(0,d.q9)(t.getTargeting(n),e)}))}));return t?t.getSlotElementId():null}(e):(0,t.isApnGetTagDefined)()?function(e){var t=window.apntag.getTag(e);return t&&t.targetId}(n):n}(n,r),o=document.getElementById(i);return o&&o.querySelector(e)}(e+':not([style*="display: none"])');if(a){var s=a.style;s.width=i+"px",s.height=o+"px"}else(0,t.logWarn)("Unable to locate matching page element for adUnitCode ".concat(r,".  Can't resize it to ad's dimensions.  Please review setup."))}))}var w=i(112),E=i(269),S=i(3),T=i(494),C=i(624);function A(){return(A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e){return function(e){if(Array.isArray(e))return _(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var k=i(644),j=[],P="targetingControls.allowTargetingKeys",D="targetingControls.addTargetingKeys",R='Only one of "'.concat(P,'" or "').concat(D,'" can be set'),U=Object.keys(k.TARGETING_KEYS).map((function(e){return k.TARGETING_KEYS[e]})),B=function(e){return e.responseTimestamp+1e3*e.ttl-1e3>(0,t.timestamp)()},N=function(e){return e&&(e.status&&!(0,d.q9)([k.BID_STATUS.RENDERED],e.status)||!e.status)},q=(0,T.z3)("sync",(function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!i){var o=[],a=u.vc.getConfig("sendBidsControl.dealPrioritization"),s=(0,t.groupBy)(e,"adUnitCode");return Object.keys(s).forEach((function(e){var i=[],d=(0,t.groupBy)(s[e],"bidderCode");Object.keys(d).forEach((function(e){return i.push(d[e].reduce(n))})),r>0?(i=a?i.sort(M(!0)):i.sort((function(e,t){return t.cpm-e.cpm})),o.push.apply(o,x(i.slice(0,r)))):o.push.apply(o,x(i))})),o}return e}));function M(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,n){return void 0!==t.adserverTargeting.hb_deal&&void 0===n.adserverTargeting.hb_deal?-1:void 0===t.adserverTargeting.hb_deal&&void 0!==n.adserverTargeting.hb_deal?1:e?n.cpm-t.cpm:n.adserverTargeting.hb_pb-t.adserverTargeting.hb_pb}}var z,Z,W=function(e){var r={},i={};function a(e,n){return e.adserverTargeting&&n&&((0,t.isArray)(n)&&(0,d.q9)(n,e.adUnitCode)||"string"==typeof n&&e.adUnitCode===n)}function s(e,n){if(!0===u.vc.getConfig("targetingControls.alwaysIncludeDeals")){var r=U.concat(o.xc);return q(n,t.getHighestCpm).map((function(t){if(t.dealId&&a(t,e))return O({},t.adUnitCode,T(t,r.filter((function(e){return void 0!==t.adserverTargeting[e]}))))})).filter((function(e){return e}))}return[]}function c(e,n){var r=A({},k.TARGETING_KEYS,k.NATIVE_KEYS),i=Object.keys(r),o={};(0,t.logInfo)("allowTargetingKeys - allowed keys [ ".concat(n.map((function(e){return r[e]})).join(", ")," ]")),e.map((function(e){var t=Object.keys(e)[0],a=e[t].filter((function(e){var t=Object.keys(e)[0],a=0===i.filter((function(e){return 0===t.indexOf(r[e])})).length||(0,d.sE)(n,(function(e){var n=r[e];return 0===t.indexOf(n)}));return o[t]=!a,a}));e[t]=a}));var a=Object.keys(o).filter((function(e){return o[e]}));return(0,t.logInfo)("allowTargetingKeys - removed keys [ ".concat(a.join(", ")," ]")),e.filter((function(e){return e[Object.keys(e)[0]].length>0}))}function l(e,n){var r=(0,t.deepClone)(e);return Object.keys(r).map((function(e){return{adUnitCode:e,adserverTargeting:r[e]}})).sort(M()).reduce((function(e,i,o,a){var s,d=(s=i.adserverTargeting,Object.keys(s).reduce((function(e,t){return e+"".concat(t,"%3d").concat(encodeURIComponent(s[t]),"%26")}),""));o+1===a.length&&(d=d.slice(0,-3));var c=i.adUnitCode,u=d.length;return u<=n?(n-=u,(0,t.logInfo)("AdUnit '".concat(c,"' auction keys comprised of ").concat(u," characters.  Deducted from running threshold; new limit is ").concat(n),r[c]),e[c]=r[c]):(0,t.logWarn)("The following keys for adUnitCode '".concat(c,"' exceeded the current limit of the 'auctionKeyMaxChars' setting.\nThe key-set size was ").concat(u,", the current allotted amount was ").concat(n,".\n"),r[c]),o+1===a.length&&0===Object.keys(e).length&&(0,t.logError)("No auction targeting keys were permitted due to the setting in setConfig(targetingControls.auctionKeyMaxChars).  Please review setup and consider adjusting."),e}),{})}function p(e){return e.map((function(e){return O({},Object.keys(e)[0],e[Object.keys(e)[0]].map((function(e){return O({},Object.keys(e)[0],e[Object.keys(e)[0]].join(","))})).reduce((function(e,t){return A(t,e)}),{}))})).reduce((function(e,t){var n=Object.keys(t)[0];return e[n]=A({},e[n],t[n]),e}),{})}function f(n){return"string"==typeof n?[n]:(0,t.isArray)(n)?n:e.getAdUnitCodes()||[]}function g(){var r=e.getBidsReceived();if(u.vc.getConfig("useBidCache")){var o=u.vc.getConfig("bidCacheFilterFunction");"function"==typeof o&&(r=r.filter((function(e){return i[e.adUnitCode]===e.auctionId||!!o(e)})))}else r=r.filter((function(e){return i[e.adUnitCode]===e.auctionId}));return r=r.filter((function(e){return(0,n.Z)(e,"video.context")!==S.Oh})).filter((function(e){return"banner"!==e.mediaType||(0,E.lO)([e.width,e.height])})).filter(N).filter(B),q(r,t.getOldestHighestCpmBid)}function m(e,t){var n=r.getWinningBids(e,t),i=v();return n=n.map((function(e){return O({},e.adUnitCode,Object.keys(e.adserverTargeting).filter((function(t){return void 0===e.sendStandardTargeting||e.sendStandardTargeting||-1===i.indexOf(t)})).reduce((function(t,n){var r=[e.adserverTargeting[n]],i=O({},n.substring(0,20),r);if(n===k.TARGETING_KEYS.DEAL){var o=O({},"".concat(n,"_").concat(e.bidderCode).substring(0,20),r);return[].concat(x(t),[i,o])}return[].concat(x(t),[i])}),[]))}))}function v(){return e.getStandardBidderAdServerTargeting().map((function(e){return e.key})).concat(U).filter(t.uniques)}function b(e,n,r,i){return Object.keys(n.adserverTargeting).filter(y()).forEach((function(r){e.length&&e.filter(function(e){return function(t){return t.adUnitCode===n.adUnitCode&&t.adserverTargeting[e]}}(r)).forEach(function(e){return function(r){(0,t.isArray)(r.adserverTargeting[e])||(r.adserverTargeting[e]=[r.adserverTargeting[e]]),r.adserverTargeting[e]=r.adserverTargeting[e].concat(n.adserverTargeting[e]).filter(t.uniques),delete n.adserverTargeting[e]}}(r))})),e.push(n),e}function y(){var e=v().concat(o.xc);return function(t){return-1===e.indexOf(t)}}function h(e){return O({},e.adUnitCode,Object.keys(e.adserverTargeting).filter(y()).map((function(t){return O({},t.substring(0,20),[e.adserverTargeting[t]])})))}function I(e,t){return t.filter((function(t){return(0,d.q9)(e,t.adUnitCode)})).map((function(e){return A({},e)})).reduce(b,[]).map(h).filter((function(e){return e}))}function w(e,n){var r=U.concat(o.xc),i=u.vc.getConfig("sendBidsControl.bidLimit"),s=q(n,t.getHighestCpm,i),d=u.vc.getConfig("targetingControls.allowSendAllBidsTargetingKeys"),c=d?d.map((function(e){return k.TARGETING_KEYS[e]})):r;return s.map((function(t){if(a(t,e))return O({},t.adUnitCode,T(t,r.filter((function(e){return void 0!==t.adserverTargeting[e]&&-1!==c.indexOf(e)}))))})).filter((function(e){return e}))}function T(e,t){return t.map((function(t){return O({},"".concat(t,"_").concat(e.bidderCode).substring(0,20),[e.adserverTargeting[t]])}))}function _(r){function i(e){return(0,n.Z)(e,k.JSON_MAPPING.ADSERVER_TARGETING)}return e.getAdUnits().filter((function(e){return(0,d.q9)(r,e.code)&&i(e)})).map((function(e){return O({},e.code,function(e){var n=i(e);return Object.keys(n).map((function(e){return(0,t.isStr)(n[e])&&(n[e]=n[e].split(",").map((function(e){return e.trim()}))),(0,t.isArray)(n[e])||(n[e]=[n[e]]),O({},e,n[e])}))}(e))}))}return r.setLatestAuctionForAdUnit=function(e,t){i[e]=t},r.resetPresetTargeting=function(n,r){if((0,t.isGptPubadsDefined)()){var i=f(n),o=e.getAdUnits().filter((function(e){return(0,d.q9)(i,e.code)})),a=j.reduce((function(e,t){return e[t]=null,e}),{});window.googletag.pubads().getSlots().forEach((function(e){var n=(0,t.isFn)(r)&&r(e);o.forEach((function(r){(r.code===e.getAdUnitPath()||r.code===e.getSlotElementId()||(0,t.isFn)(n)&&n(r.code))&&e.updateTargetingFromMap(a)}))}))}},r.resetPresetTargetingAST=function(e){f(e).forEach((function(e){var t=window.apntag.getTag(e);if(t&&t.keywords){var n=Object.keys(t.keywords),r={};n.forEach((function(e){(0,d.q9)(j,e.toLowerCase())||(r[e]=t.keywords[e])})),window.apntag.modifyTag(e,{keywords:r})}}))},r.getAllTargeting=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g(),r=f(e),i=m(r,n).concat(I(r,n)).concat(u.vc.getConfig("enableSendAllBids")?w(r,n):s(r,n)).concat(_(r));i.map((function(e){Object.keys(e).map((function(t){e[t].map((function(e){-1===j.indexOf(Object.keys(e)[0])&&(j=Object.keys(e).concat(j))}))}))}));var o=Object.keys(A({},k.DEFAULT_TARGETING_KEYS,k.NATIVE_KEYS)),a=u.vc.getConfig(P),d=u.vc.getConfig(D);if(null!=d&&null!=a)throw new Error(R);a=null!=d?o.concat(d):a||o,Array.isArray(a)&&a.length>0&&(i=c(i,a)),i=p(i);var v=u.vc.getConfig("targetingControls.auctionKeyMaxChars");return v&&((0,t.logInfo)("Detected 'targetingControls.auctionKeyMaxChars' was active for this auction; set with a limit of ".concat(v," characters.  Running checks on auction keys...")),i=l(i,v)),r.forEach((function(e){i[e]||(i[e]={})})),i},u.vc.getConfig("targetingControls",(function(e){null!=(0,n.Z)(e,P)&&null!=(0,n.Z)(e,D)&&(0,t.logError)(R)})),r.setTargetingForGPT=function(e,n){window.googletag.pubads().getSlots().forEach((function(r){Object.keys(e).filter(n?n(r):(0,t.isAdUnitCodeMatchingSlot)(r)).forEach((function(n){Object.keys(e[n]).forEach((function(t){var r=e[n][t];"string"==typeof r&&-1!==r.indexOf(",")&&(r=r.split(",")),e[n][t]=r})),(0,t.logMessage)("Attempting to set targeting-map for slot: ".concat(r.getSlotElementId()," with targeting-map:"),e[n]),r.updateTargetingFromMap(e[n])}))}))},r.getWinningBids=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g(),r=f(e);return n.filter((function(e){return(0,d.q9)(r,e.adUnitCode)})).filter((function(e){return!0===C.S.get(e.bidderCode,"allowZeroCpmBids")?e.cpm>=0:e.cpm>0})).map((function(e){return e.adUnitCode})).filter(t.uniques).map((function(e){return n.filter((function(t){return t.adUnitCode===e?t:null})).reduce(t.getHighestCpm)}))},r.setTargetingForAst=function(e){var n=r.getAllTargeting(e);try{r.resetPresetTargetingAST(e)}catch(e){(0,t.logError)("unable to reset targeting for AST"+e)}Object.keys(n).forEach((function(e){return Object.keys(n[e]).forEach((function(r){if((0,t.logMessage)("Attempting to set targeting for targetId: ".concat(e," key: ").concat(r," value: ").concat(n[e][r])),(0,t.isStr)(n[e][r])||(0,t.isArray)(n[e][r])){var i={};r.search(/pt[0-9]/)<0?i[r.toUpperCase()]=n[e][r]:i[r]=n[e][r],window.apntag.setKeywords(e,i,{overrideKeyValue:!0})}}))}))},r.isApntagDefined=function(){if(window.apntag&&(0,t.isFn)(window.apntag.setKeywords))return!0},r}(s.K),F=i(964),G=(0,t.prefixLog)("DEBUG:"),L=G.logWarn,K=G.logMessage,X="pbjs:debugging",V=[function(e){H(),function(e){z=ne.bind(e),F.Yt.before(z,5),Z=re.bind(e),F.e0.before(Z,5)}(e)}],Y=[H];function H(){F.Yt.getHooks({hook:z}).remove(),F.e0.getHooks({hook:Z}).remove()}function J(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];u.vc.setConfig({debug:!0}),V.forEach((function(t){return t(e)})),K("bidder overrides enabled".concat(t?" from session":""))}function $(){Y.forEach((function(e){return e()})),K("bidder overrides disabled")}function Q(e,t,n){return!(!e.bidder||e.bidder===t)||!(!e.adUnitCode||e.adUnitCode===n)}function ee(e,t){return Array.isArray(e)&&-1===e.indexOf(t)}function te(e,t,n){return Object.keys(e).filter((function(e){return-1===["adUnitCode","bidder"].indexOf(e)})).reduce((function(t,r){return K("bidder overrides changed '".concat(t.adUnitCode,"/").concat(t.bidderCode,"' ").concat(n,".").concat(r," from '").concat(t[r],".js' to '").concat(e[r],"'")),t[r]=e[r],t.isDebug=!0,t}),t)}function ne(e,t,n){var r=this;ee(r.bidders,n.bidderCode)?L("bidder '".concat(n.bidderCode,"' excluded from auction by bidder overrides")):(Array.isArray(r.bids)&&r.bids.forEach((function(e){Q(e,n.bidderCode,t)||te(e,n,"bidder")})),e(t,n))}function re(e,t){var n=this,r=t.filter((function(e){return!ee(n.bidders,e.bidderCode)||(L("bidRequest '".concat(e.bidderCode,"' excluded from auction by bidder overrides")),!1)}));Array.isArray(n.bidRequests)&&r.forEach((function(e){n.bidRequests.forEach((function(t){e.bids.forEach((function(n){Q(t,e.bidderCode,n.adUnitCode)||te(t,n,"bidRequest")}))}))})),e(r)}var ie=(0,T.z3)("sync",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.sessionStorage,r=void 0===n?window.sessionStorage:n;if(e.enabled)try{r.setItem(X,JSON.stringify(e))}catch(e){}else try{r.removeItem(X)}catch(e){}}));u.vc.getConfig("debugging",(function(e){return function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).sessionStorage,n=void 0===t?window.sessionStorage:t;ie(e,{sessionStorage:n}),e.enabled?J(e):$()}(e.debugging)}));var oe=i(263),ae=i(477),se=i(849),de=i(602);function ce(e){return function(e){if(Array.isArray(e))return ue(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ue(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ue(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function le(){return(le=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var pe=(0,e.R)(),fe=i(644),ge=i(602).ZP,me=i(319),ve=w.k_.triggerUserSyncs,be=fe.EVENTS,ye=be.ADD_AD_UNITS,he=be.BID_WON,Ie=be.REQUEST_BIDS,we=be.SET_TARGETING,Ee=be.STALE_RENDER,Se=fe.AD_RENDER_FAILED_REASON,Te=Se.PREVENT_WRITING_ON_MAIN_DOCUMENT,Ce=Se.NO_AD,Ae=Se.EXCEPTION,Oe=Se.CANNOT_FIND_AD,xe=Se.MISSING_DOC_OR_ADID,_e={bidWon:function(e){var n=s.K.getBidsRequested().map((function(e){return e.bids.map((function(e){return e.adUnitCode}))})).reduce(t.flatten).filter(t.uniques);if((0,t.contains)(n,e))return!0;(0,t.logError)('The "'+e+'" placement is not defined.')}};function ke(e,t,n){e.defaultView&&e.defaultView.frameElement&&(e.defaultView.frameElement.width=t,e.defaultView.frameElement.height=n)}function je(e,n){var r=[];return(0,t.isArray)(e)&&(n?e.length===n:e.length>0)&&(e.every((function(e){return(0,t.isArrayOfNums)(e,2)}))?r=e:(0,t.isArrayOfNums)(e,2)&&r.push(e)),r}function Pe(e,r){var i=(0,n.Z)(e,"mediaTypes.".concat(r,".pos"));if(!(0,t.isNumber)(i)||isNaN(i)||!isFinite(i)){var o="Value of property 'pos' on ad unit ".concat(e.code," should be of type: Number");(0,t.logWarn)(o),me.emit(fe.EVENTS.AUCTION_DEBUG,{type:"WARNING",arguments:o}),delete e.mediaTypes[r].pos}return e}!function(e){var t;try{e=e||window.sessionStorage,t=JSON.parse(e.getItem(X))}catch(e){}t&&J(t,!0)}(),pe.bidderSettings=pe.bidderSettings||{},pe.libLoaded=!0,pe.version="v6.18.0",(0,t.logInfo)("Prebid.js v6.18.0 loaded"),pe.installedModules=pe.installedModules||[],pe.adUnits=pe.adUnits||[],pe.triggerUserSyncs=ve;var De=(0,T.z3)("sync",(function(e){var n=[];return e.forEach((function(e){if(null!=(e=function(e){var n=function(t){return"adUnit.code '".concat(e.code,"' ").concat(t)},r=e.mediaTypes,i=e.bids;return null==i||(0,t.isArray)(i)?null==i&&null==e.ortb2Imp?((0,t.logError)(n("has no 'adUnit.bids' and no 'adUnit.ortb2Imp'. Removing adUnit from auction")),null):r&&0!==Object.keys(r).length?(null==e.ortb2Imp||null!=i&&0!==i.length||(e.bids=[{bidder:null}],(0,t.logMessage)(n("defines 'adUnit.ortb2Imp' with no 'adUnit.bids'; it will be seen only by S2S adapters"))),e):((0,t.logError)(n("does not define a 'mediaTypes' object.  This is a required field for the auction, so this adUnit has been removed.")),null):((0,t.logError)(n("defines 'adUnit.bids' that is not an array. Removing adUnit from auction")),null)}(e))){var r,i,o,a=e.mediaTypes;a.banner&&(r=function(e){var n=(0,t.deepClone)(e),r=n.mediaTypes.banner,i=je(r.sizes);return i.length>0?(r.sizes=i,n.sizes=i):((0,t.logError)("Detected a mediaTypes.banner object without a proper sizes field.  Please ensure the sizes are listed like: [[300, 250], ...].  Removing invalid mediaTypes.banner object from request."),delete n.mediaTypes.banner),n}(e),a.banner.hasOwnProperty("pos")&&(r=Pe(r,"banner"))),a.video&&(i=function(e){var n=(0,t.deepClone)(e),r=n.mediaTypes.video;if(r.playerSize){var i="number"==typeof r.playerSize[0]?2:1,o=je(r.playerSize,i);o.length>0?(2===i&&(0,t.logInfo)("Transforming video.playerSize from [640,480] to [[640,480]] so it's in the proper format."),r.playerSize=o,n.sizes=o):((0,t.logError)("Detected incorrect configuration of mediaTypes.video.playerSize.  Please specify only one set of dimensions in a format like: [[640, 480]]. Removing invalid mediaTypes.video.playerSize property from request."),delete n.mediaTypes.video.playerSize)}return n}(r||e),a.video.hasOwnProperty("pos")&&(i=Pe(i,"video"))),a.native&&(o=function(e){var n=(0,t.deepClone)(e),r=n.mediaTypes.native;return r.image&&r.image.sizes&&!Array.isArray(r.image.sizes)&&((0,t.logError)("Please use an array of sizes for native.image.sizes field.  Removing invalid mediaTypes.native.image.sizes property from request."),delete n.mediaTypes.native.image.sizes),r.image&&r.image.aspect_ratios&&!Array.isArray(r.image.aspect_ratios)&&((0,t.logError)("Please use an array of sizes for native.image.aspect_ratios field.  Removing invalid mediaTypes.native.image.aspect_ratios property from request."),delete n.mediaTypes.native.image.aspect_ratios),r.icon&&r.icon.sizes&&!Array.isArray(r.icon.sizes)&&((0,t.logError)("Please use an array of sizes for native.icon.sizes field.  Removing invalid mediaTypes.native.icon.sizes property from request."),delete n.mediaTypes.native.icon.sizes),n}(i||r||e));var s=le({},r,i,o);n.push(s)}})),n}),"checkAdUnitSetup");function Re(e){var n=s.K[e]().filter(t.bind.call(t.adUnitsFilter,this,s.K.getAdUnitCodes())),r=s.K.getLastAuctionId();return n.map((function(e){return e.adUnitCode})).filter(t.uniques).map((function(e){return n.filter((function(t){return t.auctionId===r&&t.adUnitCode===e}))})).filter((function(e){return e&&e[0]&&e[0].adUnitCode})).map((function(e){return t={},r={bids:e},(n=e[0].adUnitCode)in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t;var t,n,r})).reduce((function(e,t){return le(e,t)}),{})}function Ue(e,n,r){var i=n.querySelector(r);e.parentNode&&e.parentNode===i||(0,t.insertElement)(e,n,r)}pe.getAdserverTargetingForAdUnitCodeStr=function(e){if((0,t.logInfo)("Invoking pbjs.getAdserverTargetingForAdUnitCodeStr",arguments),e){var n=pe.getAdserverTargetingForAdUnitCode(e);return(0,t.transformAdServerTargetingObj)(n)}(0,t.logMessage)("Need to call getAdserverTargetingForAdUnitCodeStr with adunitCode")},pe.getHighestUnusedBidResponseForAdUnitCode=function(e){if(e){var n=s.K.getAllBidsForAdUnitCode(e).filter(N).filter(B);return n.length?n.reduce(t.getHighestCpm):{}}(0,t.logMessage)("Need to call getHighestUnusedBidResponseForAdUnitCode with adunitCode")},pe.getAdserverTargetingForAdUnitCode=function(e){return pe.getAdserverTargeting(e)[e]},pe.getAdserverTargeting=function(e){return(0,t.logInfo)("Invoking pbjs.getAdserverTargeting",arguments),W.getAllTargeting(e)},pe.getConsentMetadata=function(){return(0,t.logInfo)("Invoking pbjs.getConsentMetadata"),{gdpr:de.rp.getConsentMeta(),usp:de.nX.getConsentMeta(),coppa:!!u.vc.getConfig("coppa")}},pe.getNoBids=function(){return(0,t.logInfo)("Invoking pbjs.getNoBids",arguments),Re("getNoBids")},pe.getNoBidsForAdUnitCode=function(e){return{bids:s.K.getNoBids().filter((function(t){return t.adUnitCode===e}))}},pe.getBidResponses=function(){return(0,t.logInfo)("Invoking pbjs.getBidResponses",arguments),Re("getBidsReceived")},pe.getBidResponsesForAdUnitCode=function(e){return{bids:s.K.getBidsReceived().filter((function(t){return t.adUnitCode===e}))}},pe.setTargetingForGPTAsync=function(e,n){if((0,t.logInfo)("Invoking pbjs.setTargetingForGPTAsync",arguments),(0,t.isGptPubadsDefined)()){var r=W.getAllTargeting(e);W.resetPresetTargeting(e,n),W.setTargetingForGPT(r,n),Object.keys(r).forEach((function(e){Object.keys(r[e]).forEach((function(t){"hb_adid"===t&&s.K.setStatusForBids(r[e][t],fe.BID_STATUS.BID_TARGETING_SET)}))})),me.emit(we,r)}else(0,t.logError)("window.googletag is not defined on the page")},pe.setTargetingForAst=function(e){(0,t.logInfo)("Invoking pbjs.setTargetingForAn",arguments),W.isApntagDefined()?(W.setTargetingForAst(e),me.emit(we,W.getAllTargeting())):(0,t.logError)("window.apntag is not defined on the page")},pe.renderAd=(0,T.z3)("async",(function(e,r,i){if((0,t.logInfo)("Invoking pbjs.renderAd",arguments),(0,t.logMessage)("Calling renderAd with adId :"+r),e&&r)try{var o=s.K.findBidByAdId(r);if(o){var a=!0;if(o&&o.status===fe.BID_STATUS.RENDERED&&((0,t.logWarn)("Ad id ".concat(o.adId," has been rendered before")),me.emit(Ee,o),(0,n.Z)(u.vc.getConfig("auctionOptions"),"suppressStaleRender")&&(a=!1)),a){if(o.ad=(0,t.replaceAuctionPrice)(o.ad,o.originalCpm||o.cpm),o.adUrl=(0,t.replaceAuctionPrice)(o.adUrl,o.originalCpm||o.cpm),i&&i.clickThrough){var d=i.clickThrough;o.ad=(0,t.replaceClickThrough)(o.ad,d),o.adUrl=(0,t.replaceClickThrough)(o.adUrl,d)}s.K.addWinningBid(o),me.emit(he,o);var l=o.height,p=o.width,f=o.ad,v=o.mediaType,b=o.adUrl,y=o.renderer,h=document.createComment("Creative ".concat(o.creativeId," served by ").concat(o.bidder," Prebid.js Header Bidding"));if((0,t.insertElement)(h,e,"html"),(0,c.Pd)(y))(0,c._U)(y,o),Ue(h,e,"html"),m({doc:e,bid:o,id:r});else if(e===document&&!(0,t.inIframe)()||"video"===v){var I="Error trying to write ad. Ad render call ad id ".concat(r," was prevented from writing to the main document.");g({reason:Te,message:I,bid:o,id:r})}else if(f)e.write(f),e.close(),ke(e,p,l),Ue(h,e,"html"),(0,t.callBurl)(o),m({doc:e,bid:o,id:r});else if(b){var w=(0,t.createInvisibleIframe)();w.height=l,w.width=p,w.style.display="inline",w.style.overflow="hidden",w.src=b,(0,t.insertElement)(w,e,"body"),ke(e,p,l),Ue(h,e,"html"),(0,t.callBurl)(o),m({doc:e,bid:o,id:r})}else{var E="Error trying to write ad. No ad for bid response id: ".concat(r);g({reason:Ce,message:E,bid:o,id:r})}}}else{var S="Error trying to write ad. Cannot find ad by given id : ".concat(r);g({reason:Oe,message:S,id:r})}}catch(e){var T="Error trying to write ad Id :".concat(r," to the page:").concat(e.message);g({reason:Ae,message:T,id:r})}else{var C="Error trying to write ad Id :".concat(r," to the page. Missing document or adId");g({reason:xe,message:C,id:r})}})),pe.removeAdUnit=function(e){(0,t.logInfo)("Invoking pbjs.removeAdUnit",arguments),e?((0,t.isArray)(e)?e:[e]).forEach((function(e){for(var t=pe.adUnits.length-1;t>=0;t--)pe.adUnits[t].code===e&&pe.adUnits.splice(t,1)})):pe.adUnits=[]},pe.requestBids=(0,T.z3)("async",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.bidsBackHandler,r=e.timeout,i=e.adUnits,o=e.adUnitCodes,a=e.labels,c=e.auctionId;me.emit(Ie);var l=r||u.vc.getConfig("bidderTimeout");i=i&&u.vc.convertAdUnitFpd((0,t.isArray)(i)?i:[i])||pe.adUnits,(0,t.logInfo)("Invoking pbjs.requestBids",arguments);var p=[],f=[];if(u.vc.getConfig("s2sConfig",(function(e){e&&e.s2sConfig&&(p=Array.isArray(e.s2sConfig)?e.s2sConfig:[e.s2sConfig])})),p.forEach((function(e){f.push.apply(f,ce(e.bidders))})),i=De(i),o&&o.length?i=i.filter((function(e){return(0,d.q9)(o,e.code)})):o=i&&i.map((function(e){return e.code})),i.forEach((function(e){var n=Object.keys(e.mediaTypes||{banner:"banner"}),r=e.bids.map((function(e){return e.bidder})),i=ge.bidderRegistry,o=f?r.filter((function(e){return!(0,d.q9)(f,e)})):r;e.transactionId=(0,t.generateUUID)(),o.forEach((function(r){var o=i[r],a=o&&o.getSpec&&o.getSpec(),s=a&&a.supportedMediaTypes||["banner"];n.some((function(e){return(0,d.q9)(s,e)}))?oe.f.incrementBidderRequestsCounter(e.code,r):((0,t.logWarn)((0,t.unsupportedBidderMessage)(e,r)),e.bids=e.bids.filter((function(e){return e.bidder!==r})))})),oe.f.incrementRequestsCounter(e.code)})),i&&0!==i.length){var g=s.K.createAuction({adUnits:i,adUnitCodes:o,callback:n,cbTimeout:l,labels:a,auctionId:c}),m=i.length;m>15&&(0,t.logInfo)("Current auction ".concat(g.getAuctionId()," contains ").concat(m," adUnits."),i),o.forEach((function(e){return W.setLatestAuctionForAdUnit(e,g.getAuctionId())})),g.callBids()}else if((0,t.logMessage)("No adUnits configured. No bids requested."),"function"==typeof n)try{n()}catch(e){(0,t.logError)("Error executing bidsBackHandler",null,e)}})),pe.requestBids.before((function(e,t){function n(e){for(var t;t=e.shift();)t()}n(se.Ld),n(Be),e.call(this,t)}),49),pe.addAdUnits=function(e){(0,t.logInfo)("Invoking pbjs.addAdUnits",arguments),pe.adUnits.push.apply(pe.adUnits,u.vc.convertAdUnitFpd((0,t.isArray)(e)?e:[e])),me.emit(ye)},pe.onEvent=function(e,n,r){(0,t.logInfo)("Invoking pbjs.onEvent",arguments),(0,t.isFn)(n)?!r||_e[e].call(null,r)?me.on(e,n,r):(0,t.logError)('The id provided is not valid for event "'+e+'" and no handler was set.'):(0,t.logError)('The event handler provided is not a function and was not set on event "'+e+'".')},pe.offEvent=function(e,n,r){(0,t.logInfo)("Invoking pbjs.offEvent",arguments),r&&!_e[e].call(null,r)||me.off(e,n,r)},pe.getEvents=function(){return(0,t.logInfo)("Invoking pbjs.getEvents"),me.getEvents()},pe.registerBidAdapter=function(e,n){(0,t.logInfo)("Invoking pbjs.registerBidAdapter",arguments);try{ge.registerBidAdapter(e(),n)}catch(e){(0,t.logError)("Error registering bidder adapter : "+e.message)}},pe.registerAnalyticsAdapter=function(e){(0,t.logInfo)("Invoking pbjs.registerAnalyticsAdapter",arguments);try{ge.registerAnalyticsAdapter(e)}catch(e){(0,t.logError)("Error registering analytics adapter : "+e.message)}},pe.createBid=function(e){return(0,t.logInfo)("Invoking pbjs.createBid",arguments),(0,ae.m)(e)};var Be=[],Ne=(0,T.z3)("async",(function(e){e&&!(0,t.isEmpty)(e)?((0,t.logInfo)("Invoking pbjs.enableAnalytics for: ",e),ge.enableAnalytics(e)):(0,t.logError)("pbjs.enableAnalytics should be called with option {}")}),"enableAnalyticsCb");function qe(e){e.forEach((function(e){if(void 0===e.called)try{e.call(),e.called=!0}catch(e){(0,t.logError)("Error processing command :","prebid.js",e)}}))}pe.enableAnalytics=function(e){Be.push(Ne.bind(this,e))},pe.aliasBidder=function(e,n,r){(0,t.logInfo)("Invoking pbjs.aliasBidder",arguments),e&&n?ge.aliasBidAdapter(e,n,r):(0,t.logError)("bidderCode and alias must be passed as arguments","pbjs.aliasBidder")},pe.getAllWinningBids=function(){return s.K.getAllWinningBids()},pe.getAllPrebidWinningBids=function(){return s.K.getBidsReceived().filter((function(e){return e.status===fe.BID_STATUS.BID_TARGETING_SET}))},pe.getHighestCpmBids=function(e){return W.getWinningBids(e)},pe.markWinningBidAsUsed=function(e){var n=[];e.adUnitCode&&e.adId?n=s.K.getBidsReceived().filter((function(t){return t.adId===e.adId&&t.adUnitCode===e.adUnitCode})):e.adUnitCode?n=W.getWinningBids(e.adUnitCode):e.adId?n=s.K.getBidsReceived().filter((function(t){return t.adId===e.adId})):(0,t.logWarn)("Improper use of markWinningBidAsUsed. It needs an adUnitCode or an adId to function."),n.length>0&&(n[0].status=fe.BID_STATUS.RENDERED)},pe.getConfig=u.vc.getConfig,pe.readConfig=u.vc.readConfig,pe.mergeConfig=u.vc.mergeConfig,pe.mergeBidderConfig=u.vc.mergeBidderConfig,pe.setConfig=u.vc.setConfig,pe.setBidderConfig=u.vc.setBidderConfig,pe.que.push((function(){window.addEventListener("message",h,!1)})),pe.cmd.push=function(e){if("function"==typeof e)try{e.call()}catch(e){(0,t.logError)("Error processing command :",e.message,e.stack)}else(0,t.logError)("Commands written into pbjs.cmd.push must be wrapped in a function")},pe.que.push=pe.cmd.push,pe.processQueue=function(){T.z3.ready(),qe(pe.que),qe(pe.cmd)}}(),o=i.O(o)}(),(self.pbjsChunk=self.pbjsChunk||[]).push([[864],{231:function(t,n,r){var i=r(853),o=r(265),a=r(145),s=r(962),d=r(125),c=r(3),u=r(766),l=r(879),p=r(929),f=r(849),g=r(624);function m(t){return(m="function"==typeof Symbol&&"symbol"==e(Symbol.iterator)?function(t){return e(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":e(t)})(t)}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function b(e){return function(e){if(Array.isArray(e))return y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var h="appnexus",I=["id","minduration","maxduration","skippable","playback_method","frameworks","context","skipoffset"],w=["minduration","maxduration","skip","skipafter","playbackmethod","api"],E=["age","externalUid","segments","gender","dnt","language"],S=["geo","device_id"],T=["enabled","dongle","member_id","debug_timeout"],C={playback_method:{unknown:0,auto_play_sound_on:1,auto_play_sound_off:2,click_to_play:3,mouse_over:4,auto_play_sound_unknown:5},context:{unknown:0,pre_roll:1,mid_roll:2,post_roll:3,outstream:4,"in-banner":5}},A={body:"description",body2:"desc2",cta:"ctatext",image:{serverName:"main_image",requiredParams:{required:!0}},icon:{serverName:"icon",requiredParams:{required:!0}},sponsoredBy:"sponsored_by",privacyLink:"privacy_link",salePrice:"saleprice",displayUrl:"displayurl"},O=/\/\/cdn\.adnxs\.com\/v|\/\/cdn\.adnxs\-simple\.com\/v/,x=(0,f.df)({gvlid:32,bidderCode:h}),_={code:h,gvlid:32,aliases:[{code:"appnexusAst",gvlid:32},{code:"brealtime"},{code:"emxdigital",gvlid:183},{code:"pagescience"},{code:"defymedia"},{code:"gourmetads"},{code:"matomy"},{code:"featureforward"},{code:"oftmedia"},{code:"districtm",gvlid:144},{code:"adasta"},{code:"beintoo",gvlid:618}],supportedMediaTypes:[c.Mk,c.pX,c.B5],isBidRequestValid:function(e){return!!(e.params.placementId||e.params.member&&e.params.invCode)},buildRequests:function(e,t){var n=e.map(R),r=(0,l.sE)(e,B),a={};!0===s.vc.getConfig("coppa")&&(a={coppa:!0}),r&&Object.keys(r.params.user).filter((function(e){return(0,l.q9)(E,e)})).forEach((function(e){var t=(0,i.convertCamelToUnderscore)(e);if("segments"===e&&(0,i.isArray)(r.params.user[e])){var n=[];r.params.user[e].forEach((function(e){(0,i.isNumber)(e)?n.push({id:e}):(0,i.isPlainObject)(e)&&n.push(e)})),a[t]=n}else"segments"!==e&&(a[t]=r.params.user[e])}));var d,c=(0,l.sE)(e,q);c&&c.params&&c.params.app&&(d={},Object.keys(c.params.app).filter((function(e){return(0,l.q9)(S,e)})).forEach((function(e){return d[e]=c.params.app[e]})));var u,p=(0,l.sE)(e,M);p&&p.params&&c.params.app&&c.params.app.id&&(u={appid:p.params.app.id});var f={},g={},m=x.getCookie("apn_prebid_debug")||null;if(m)try{f=JSON.parse(m)}catch(e){(0,i.logError)("AppNexus Debug Auction Cookie Error:\n\n"+e)}else{var v=(0,l.sE)(e,z);v&&v.debug&&(f=v.debug)}f&&f.enabled&&Object.keys(f).filter((function(e){return(0,l.q9)(T,e)})).forEach((function(e){g[e]=f[e]}));var y=(0,l.sE)(e,N),h=y?parseInt(y.params.member,10):0,I=e[0].schain,w=(0,l.sE)(e,W),C={tags:b(n),user:a,sdk:{source:"pbjs",version:"6.18.0"},schain:I};w&&(C.iab_support={omidpn:"Appnexus",omidpv:"6.18.0"}),h>0&&(C.member_id=h),c&&(C.device=d),p&&(C.app=u);var A=s.vc.getConfig("appnexusAuctionKeywords");if((0,i.isPlainObject)(A)){var O=(0,i.transformBidderParamKeywords)(A);O.length>0&&O.forEach(j),C.keywords=O}if(s.vc.getConfig("adpod.brandCategoryExclusion")&&(C.brand_category_uniqueness=!0),g.enabled&&(C.debug=g,(0,i.logInfo)("AppNexus Debug Auction Settings:\n\n"+JSON.stringify(g,null,4))),t&&t.gdprConsent&&(C.gdpr_consent={consent_string:t.gdprConsent.consentString,consent_required:t.gdprConsent.gdprApplies},t.gdprConsent.addtlConsent&&-1!==t.gdprConsent.addtlConsent.indexOf("~"))){var _=t.gdprConsent.addtlConsent,k=_.substring(_.indexOf("~")+1);C.gdpr_consent.addtl_consent=k.split(".").map((function(e){return parseInt(e,10)}))}if(t&&t.uspConsent&&(C.us_privacy=t.uspConsent),t&&t.refererInfo){var P={rd_ref:encodeURIComponent(t.refererInfo.referer),rd_top:t.refererInfo.reachedTop,rd_ifs:t.refererInfo.numIframes,rd_stk:t.refererInfo.stack.map((function(e){return encodeURIComponent(e)})).join(",")};C.referrer_detection=P}if((0,l.sE)(e,Z)&&e.filter(Z).forEach((function(e){var t=function(e,t){var n=t.mediaTypes.video,r=n.durationRangeSec,o=n.requireExactDuration,a=function(e){var t=e.adPodDurationSec,n=e.durationRangeSec,r=e.requireExactDuration,o=(0,i.getMinValueFromArray)(n),a=Math.floor(t/o);return r?Math.max(a,n.length):a}(t.mediaTypes.video),s=(0,i.getMaxValueFromArray)(r),d=e.filter((function(e){return e.uuid===t.bidId})),c=i.fill.apply(void 0,b(d).concat([a]));if(o){var u=Math.ceil(a/r.length),l=(0,i.chunk)(c,u);r.forEach((function(e,t){l[t].map((function(t){F(t,"minduration",e),F(t,"maxduration",e)}))}))}else c.map((function(e){return F(e,"maxduration",s)}));return c}(n,e),r=C.tags.filter((function(t){return t.uuid!==e.bidId}));C.tags=[].concat(b(r),b(t))})),e[0].userId){var U=[];K(U,(0,o.Z)(e[0],"userId.flocId.id"),"chrome.com",null),K(U,(0,o.Z)(e[0],"userId.criteoId"),"criteo.com",null),K(U,(0,o.Z)(e[0],"userId.netId"),"netid.de",null),K(U,(0,o.Z)(e[0],"userId.idl_env"),"liveramp.com",null),K(U,(0,o.Z)(e[0],"userId.tdid"),"adserver.org","TDID"),K(U,(0,o.Z)(e[0],"userId.uid2.id"),"uidapi.com","UID2"),e[0].userId.pubProvidedId&&e[0].userId.pubProvidedId.forEach((function(e){e.uids.forEach((function(t){U.push({source:e.source,id:t.id})}))})),U.length&&(C.eids=U)}return n[0].publisher_id&&(C.publisher_id=n[0].publisher_id),function(e,t){var n=[],r={withCredentials:!0},o="https://ib.adnxs.com/ut/v3/prebid";if(D(t)||(o="https://ib.adnxs-simple.com/ut/v3/prebid"),"TRUE"!==(0,i.getParameterByName)("apn_test").toUpperCase()&&!0!==s.vc.getConfig("apn_test")||(r.customHeaders={"X-Is-Test":1}),e.tags.length>15){var a=(0,i.deepClone)(e);(0,i.chunk)(e.tags,15).forEach((function(e){a.tags=e;var i=JSON.stringify(a);n.push({method:"POST",url:o,data:i,bidderRequest:t,options:r})}))}else{var d=JSON.stringify(e);n={method:"POST",url:o,data:d,bidderRequest:t,options:r}}return n}(C,t)},interpretResponse:function(e,t){var n=this,r=t.bidderRequest;e=e.body;var s=[];if(!e||e.error){var u="in response for ".concat(r.bidderCode," adapter");return e&&e.error&&(u+=": ".concat(e.error)),(0,i.logError)(u),s}if(e.tags&&e.tags.forEach((function(e){var t,u=(t=e)&&t.ads&&t.ads.length&&(0,l.sE)(t.ads,(function(e){return e.rtb}));if(u&&(!0===g.S.get(r.bidderCode,"allowZeroCpmBids")?u.cpm>=0:u.cpm>0)&&(0,l.q9)(n.supportedMediaTypes,u.ad_type)){var f=function(e,t,n){var r=(0,i.getBidRequest)(e.uuid,[n]),s={requestId:e.uuid,cpm:t.cpm,creativeId:t.creative_id,dealId:t.deal_id,currency:"USD",netRevenue:!0,ttl:300,adUnitCode:r.adUnitCode,appnexus:{buyerMemberId:t.buyer_member_id,dealPriority:t.deal_priority,dealCode:t.deal_code}};if(t.adomain&&(s.meta=v({},s.meta,{advertiserDomains:[]})),t.advertiser_id&&(s.meta=v({},s.meta,{advertiserId:t.advertiser_id})),t.buyer_member_id&&(s.meta=v({},s.meta,{dchain:function(e){return{ver:"1.0",complete:0,nodes:[{bsid:e.buyer_member_id.toString()}]}}(t)})),t.brand_id&&(s.meta=v({},s.meta,{brandId:t.brand_id})),t.rtb.video)switch(v(s,{width:t.rtb.video.player_width,height:t.rtb.video.player_height,vastImpUrl:t.notify_url,ttl:3600}),(0,o.Z)(r,"mediaTypes.video.context")){case c.Oh:var u=(0,d.Q1)(r.bidder,t.brand_category_id);s.meta=v({},s.meta,{primaryCatId:u});var f=t.deal_priority;s.video={context:c.Oh,durationSeconds:Math.floor(t.rtb.video.duration_ms/1e3),dealTier:f},s.vastUrl=t.rtb.video.asset_url;break;case p.gZ:if(s.adResponse=e,s.adResponse.ad=s.adResponse.ads[0],s.adResponse.ad.video=s.adResponse.ad.rtb.video,s.vastXml=t.rtb.video.content,t.renderer_url){var g=(0,l.sE)(n.bids,(function(t){return t.bidId===e.uuid})),m=(0,o.Z)(g,"renderer.options");s.renderer=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=a.Th.install({id:t.renderer_id,url:t.renderer_url,config:n,loaded:!1,adUnitCode:e});try{r.setRender(G)}catch(e){(0,i.logWarn)("Prebid Error calling setRender on renderer",e)}return r.setEventHandlers({impression:function(){return(0,i.logMessage)("AppNexus outstream video impression event")},loaded:function(){return(0,i.logMessage)("AppNexus outstream video loaded event")},ended:function(){(0,i.logMessage)("AppNexus outstream renderer video event"),document.querySelector("#".concat(e)).style.display="none"}}),r}(s.adUnitCode,t,m)}break;case p.LD:s.vastUrl=t.notify_url+"&redir="+encodeURIComponent(t.rtb.video.asset_url)}else if(t.rtb[c.B5]){var b=t.rtb[c.B5],y=t.viewability.config.replace("src=","data-src="),h=b.javascript_trackers;null==h?h=y:(0,i.isStr)(h)?h=[h,y]:h.push(y),s[c.B5]={title:b.title,body:b.desc,body2:b.desc2,cta:b.ctatext,rating:b.rating,sponsoredBy:b.sponsored,privacyLink:b.privacy_link,address:b.address,downloads:b.downloads,likes:b.likes,phone:b.phone,price:b.price,salePrice:b.saleprice,clickUrl:b.link.url,displayUrl:b.displayurl,clickTrackers:b.link.click_trackers,impressionTrackers:b.impression_trackers,javascriptTrackers:h},b.main_img&&(s.native.image={url:b.main_img.url,height:b.main_img.height,width:b.main_img.width}),b.icon&&(s.native.icon={url:b.icon.url,height:b.icon.height,width:b.icon.width})}else{v(s,{width:t.rtb.banner.width,height:t.rtb.banner.height,ad:t.rtb.banner.content});try{if(t.rtb.trackers)for(var I=0;I<t.rtb.trackers[0].impression_urls.length;I++){var w=t.rtb.trackers[0].impression_urls[I],E=(0,i.createTrackPixelHtml)(w);s.ad+=E}}catch(e){(0,i.logError)("Error appending tracking pixel",e)}}return s}(e,u,r);f.mediaType=function(e){var t=e.ad_type;return t===c.pX?c.pX:t===c.B5?c.B5:c.Mk}(u),s.push(f)}})),e.debug&&e.debug.debug_info){var f="AppNexus Debug Auction for Prebid\n\n"+e.debug.debug_info;f=f.replace(/(<td>|<th>)/gm,"\t").replace(/(<\/td>|<\/th>)/gm,"\n").replace(/^<br>/gm,"").replace(/(<br>\n|<br>)/gm,"\n").replace(/<h1>(.*)<\/h1>/gm,"\n\n===== $1 =====\n\n").replace(/<h[2-6]>(.*)<\/h[2-6]>/gm,"\n\n*** $1 ***\n\n").replace(/(<([^>]+)>)/gim,""),(0,i.logMessage)("https://console.appnexus.com/docs/understanding-the-debug-auction"),(0,i.logMessage)(f)}return s},getMappingFileInfo:function(){return{url:"https://acdn.adnxs-simple.com/prebid/appnexus-mapping/mappings.json",refreshInDays:2}},getUserSyncs:function(e,t,n){if(e.iframeEnabled&&D({gdprConsent:n}))return[{type:"iframe",url:"https://acdn.adnxs.com/dmp/async_usersync.html"}]},transformBidParams:function(e,t){var n=i.transformBidderParamKeywords;if(!0===t){var r=s.vc.getConfig("s2sConfig"),a=(0,o.Z)(r,"endpoint.p1Consent");a&&a.match("/openrtb2/prebid")&&(n=X)}return e=(0,i.convertTypes)({member:"string",invCode:"string",placementId:"number",keywords:n,publisherId:"number"},e),t&&(e.use_pmt_rule="boolean"==typeof e.usePaymentRule&&e.usePaymentRule,e.usePaymentRule&&delete e.usePaymentRule,k(e.keywords)&&e.keywords.forEach(j),Object.keys(e).forEach((function(t){var n=(0,i.convertCamelToUnderscore)(t);n!==t&&(e[n]=e[t],delete e[t])}))),e},onBidWon:function(e){e.native&&function(e){var t=function(e){var t;if((0,i.isStr)(e)&&P(e))t=e;else if((0,i.isArray)(e))for(var n=0;n<e.length;n++){var r=e[n];P(r)&&(t=r)}return t}(e.native.javascriptTrackers);if(t)for(var n="pbjs_adid="+e.adId+";pbjs_auc="+e.adUnitCode,r=function(e){var t=e.indexOf('src="')+5,n=e.indexOf('"',t);return e.substring(t,n)}(t),o=r.replace("dom_id=%native_dom_id%",n),a=document.getElementsByTagName("iframe"),s=!1,d=0;d<a.length&&!s;d++){var c=a[d];try{var u=c.contentDocument||c.contentWindow.document;if(u)for(var l=u.getElementsByTagName("script"),p=0;p<l.length&&!s;p++){var f=l[p];f.getAttribute("data-src")==r&&(f.setAttribute("src",o),f.setAttribute("data-src",""),f.removeAttribute&&f.removeAttribute("data-src"),s=!0)}}catch(e){if(!(e instanceof DOMException&&"SecurityError"===e.name))throw e}}}(e)}};function k(e){return!!((0,i.isArray)(e)&&e.length>0)}function j(e){k(e.value)&&""===e.value[0]&&delete e.value}function P(e){var t=e.match(O),n=null!=t&&t.length>=1,r=e.match("trk.js"),i=null!=r&&r.length>=1;return e.startsWith("<script")&&i&&n}function D(e){var t=!0;return e&&e.gdprConsent&&e.gdprConsent.gdprApplies&&2===e.gdprConsent.apiVersion&&(t=!(!0!==(0,o.Z)(e.gdprConsent,"vendorData.purpose.consents.1"))),t}function R(e){var t={};t.sizes=U(e.sizes),t.primary_size=t.sizes[0],t.ad_types=[],t.uuid=e.bidId,e.params.placementId?t.id=parseInt(e.params.placementId,10):t.code=e.params.invCode,t.allow_smaller_sizes=e.params.allowSmallerSizes||!1,t.use_pmt_rule=e.params.usePaymentRule||!1,t.prebid=!0,t.disable_psa=!0;var n=function(e){if(!(0,i.isFn)(e.getFloor))return e.params.reserve?e.params.reserve:null;var t=e.getFloor({currency:"USD",mediaType:"*",size:"*"});return(0,i.isPlainObject)(t)&&!isNaN(t.floor)&&"USD"===t.currency?t.floor:null}(e);if(n&&(t.reserve=n),e.params.position&&(t.position={above:1,below:2}[e.params.position]||0),e.params.trafficSourceCode&&(t.traffic_source_code=e.params.trafficSourceCode),e.params.privateSizes&&(t.private_sizes=U(e.params.privateSizes)),e.params.supplyType&&(t.supply_type=e.params.supplyType),e.params.pubClick&&(t.pubclick=e.params.pubClick),e.params.extInvCode&&(t.ext_inv_code=e.params.extInvCode),e.params.publisherId&&(t.publisher_id=parseInt(e.params.publisherId,10)),e.params.externalImpId&&(t.external_imp_id=e.params.externalImpId),!(0,i.isEmpty)(e.params.keywords)){var r=(0,i.transformBidderParamKeywords)(e.params.keywords);r.length>0&&r.forEach(j),t.keywords=r}var a,s,d=(0,o.Z)(e,"ortb2Imp.ext.data.pbadslot");if(d&&(t.gpid=d),(e.mediaType===c.B5||(0,o.Z)(e,"mediaTypes.".concat(c.B5)))&&(t.ad_types.push(c.B5),0===t.sizes.length&&(t.sizes=U([1,1])),e.nativeParams)){var p=(a=e.nativeParams,s={},Object.keys(a).forEach((function(e){var t=A[e]&&A[e].serverName||A[e]||e,n=A[e]&&A[e].requiredParams;if(s[t]=v({},n,a[e]),(t===A.image.serverName||t===A.icon.serverName)&&s[t].sizes){var r=s[t].sizes;((0,i.isArrayOfNums)(r)||(0,i.isArray)(r)&&r.length>0&&r.every((function(e){return(0,i.isArrayOfNums)(e)})))&&(s[t].sizes=U(s[t].sizes))}t===A.privacyLink&&(s.privacy_supported=!0)})),s);t[c.B5]={layouts:[p]}}var f=(0,o.Z)(e,"mediaTypes.".concat(c.pX)),g=(0,o.Z)(e,"mediaTypes.video.context");t.hb_source=f&&"adpod"===g?7:1,(e.mediaType===c.pX||f)&&t.ad_types.push(c.pX),(e.mediaType===c.pX||f&&"outstream"!==g)&&(t.require_asset_url=!0),e.params.video&&(t.video={},Object.keys(e.params.video).filter((function(e){return(0,l.q9)(I,e)})).forEach((function(n){switch(n){case"context":case"playback_method":var r=e.params.video[n];r=(0,i.isArray)(r)?r[0]:r,t.video[n]=C[n][r];break;case"frameworks":break;default:t.video[n]=e.params.video[n]}})),e.params.video.frameworks&&(0,i.isArray)(e.params.video.frameworks)&&(t.video_frameworks=e.params.video.frameworks)),f&&(t.video=t.video||{},Object.keys(f).filter((function(e){return(0,l.q9)(w,e)})).forEach((function(e){switch(e){case"minduration":case"maxduration":"number"!=typeof t.video[e]&&(t.video[e]=f[e]);break;case"skip":"boolean"!=typeof t.video.skippable&&(t.video.skippable=1===f[e]);break;case"skipafter":"number"!=typeof t.video.skipoffset&&(t.video.skippoffset=f[e]);break;case"playbackmethod":if("number"!=typeof t.video.playback_method){var n=f[e];(n=(0,i.isArray)(n)?n[0]:n)>=1&&n<=4&&(t.video.playback_method=n)}break;case"api":if(!t.video_frameworks&&(0,i.isArray)(f[e])){var r=f[e].map((function(e){var t=4===e?5:5===e?4:e;if(t>=1&&t<=5)return t})).filter((function(e){return e}));t.video_frameworks=r}}}))),e.renderer&&(t.video=v({},t.video,{custom_renderer_present:!0})),e.params.frameworks&&(0,i.isArray)(e.params.frameworks)&&(t.banner_frameworks=e.params.frameworks);var m=(0,l.sE)(u.K.getAdUnits(),(function(t){return e.transactionId===t.transactionId}));return m&&m.mediaTypes&&m.mediaTypes.banner&&t.ad_types.push(c.Mk),0===t.ad_types.length&&delete t.ad_types,t}function U(e){var t=[],n={};if((0,i.isArray)(e)&&2===e.length&&!(0,i.isArray)(e[0]))n.width=parseInt(e[0],10),n.height=parseInt(e[1],10),t.push(n);else if("object"===m(e))for(var r=0;r<e.length;r++){var o=e[r];(n={}).width=parseInt(o[0],10),n.height=parseInt(o[1],10),t.push(n)}return t}function B(e){return!!e.params.user}function N(e){return!!parseInt(e.params.member,10)}function q(e){if(e.params)return!!e.params.app}function M(e){return e.params&&e.params.app?!!e.params.app.id:!!e.params.app}function z(e){return!!e.debug}function Z(e){return e.mediaTypes&&e.mediaTypes.video&&e.mediaTypes.video.context===c.Oh}function W(e){var t=!1,n=e.params,r=e.params.video;return n.frameworks&&(0,i.isArray)(n.frameworks)&&(t=(0,l.q9)(e.params.frameworks,6)),!t&&r&&r.frameworks&&(0,i.isArray)(r.frameworks)&&(t=(0,l.q9)(e.params.video.frameworks,6)),t}function F(e,t,n){(0,i.isEmpty)(e.video)&&(e.video={}),e.video[t]=n}function G(e){var t,n;t=e.adUnitCode,(n=document.getElementById(t).querySelectorAll("div[id^='google_ads']"))[0]&&n[0].style.setProperty("display","none"),function(e){try{var t=document.getElementById(e).querySelectorAll("script[id^='sas_script']");t[0].nextSibling&&"iframe"===t[0].nextSibling.localName&&t[0].nextSibling.style.setProperty("display","none")}catch(e){}}(e.adUnitCode),e.renderer.push((function(){window.ANOutstreamVideo.renderAd({tagId:e.adResponse.tag_id,sizes:[e.getSize().split("x")],targetId:e.adUnitCode,uuid:e.adResponse.uuid,adResponse:e.adResponse,rendererOptions:e.renderer.getConfig()},L.bind(null,e))}))}function L(e,t,n){e.renderer.handleVideoEvent({id:t,eventName:n})}function K(e,t,n,r){return t&&(r?e.push({source:n,id:t,rti_partner:r}):e.push({source:n,id:t})),e}function X(e){var t="";return Object.keys(e).forEach((function(n){(0,i.isStr)(e[n])?""!==e[n]?t+="".concat(n,"=").concat(e[n],","):t+="".concat(n,","):(0,i.isArray)(e[n])&&(""===e[n][0]?t+="".concat(n,","):e[n].forEach((function(e){t+="".concat(n,"=").concat(e,",")})))})),t=t.substring(0,t.length-1)}(0,d.dX)(_),window.pbjs.installedModules.push("appnexusBidAdapter")}},function(e){e(e.s=231)}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[266],{654:function(t,n,r){var i=r(853),o=r(962),a=r(602),s=r(879);function d(t){return(d="function"==typeof Symbol&&"symbol"==e(Symbol.iterator)?function(t){return e(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":e(t)})(t)}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u,l,p,f,g,m={value:!0,definedInConfig:!1},v=0,b=!1,y={iab:function(e,t,n){function r(r,o){(0,i.logInfo)("Received a response from CMP",r),o?!1!==r.gdprApplies&&"tcloaded"!==r.eventStatus&&"useractioncomplete"!==r.eventStatus||e(r,n):t("CMP unable to register callback function.  Please check CMP setup.",n)}var o=function(){var t={};function r(){t.getConsentData&&t.getVendorConsents&&((0,i.logInfo)("Received all requested responses from CMP",t),e(t,n))}return{consentDataCallback:function(e){t.getConsentData=e,r()},vendorConsentsCallback:function(e){t.getVendorConsents=e,r()}}}(),a={},d=function(){for(var e,t,n=window;!e;){try{if("function"==typeof n.__tcfapi||"function"==typeof n.__cmp){"function"==typeof n.__tcfapi?(v=2,t=n.__tcfapi):(v=1,t=n.__cmp),e=n;break}}catch(e){}try{if(n.frames.__tcfapiLocator){v=2,e=n;break}}catch(e){}try{if(n.frames.__cmpLocator){v=1,e=n;break}}catch(e){}if(n===window.top)break;n=n.parent}return{cmpFrame:e,cmpFunction:t}}(),u=d.cmpFrame,l=d.cmpFunction;if(!u)return t("CMP not found.",n);function p(e,t){var r=n.adUnits,o=1,a=1;if(Array.isArray(r)&&r.length>0){var s=(0,i.getAdUnitSizes)(r[0]);o=s[0][0],a=s[0][1]}window.$sf.ext.register(o,a,(function(n,r){if("cmpReturn"===n){var i="getConsentData"===e?r.vendorConsentData:r.vendorConsents;t(i)}})),window.$sf.ext.cmp(e)}function f(e,t,n){var r=2===v?"__tcfapi":"__cmp",i="".concat(r,"Call");function o(e){var t="".concat(r,"Return"),n="string"==typeof e.data&&(0,s.q9)(e.data,t)?JSON.parse(e.data):e.data;if(n[t]&&n[t].callId){var i=n[t];void 0!==a[i.callId]&&a[i.callId](i.returnValue,i.success)}}2===v?(window[r]=function(e,n,r,o){var s=Math.random()+"",d=c({},i,{command:e,version:n,parameter:o,callId:s});a[s]=r,t.postMessage(d,"*")},window.addEventListener("message",o,!1),window[r](e,v,n)):(window[r]=function(e,n,r){var o=Math.random()+"",s=c({},i,{command:e,parameter:n,callId:o});a[o]=r,t.postMessage(s,"*")},window.addEventListener("message",o,!1),window[r](e,void 0,n))}(0,i.isFn)(l)?((0,i.logInfo)("Detected CMP API is directly accessible, calling it now..."),1===v?(l("getConsentData",null,o.consentDataCallback),l("getVendorConsents",null,o.vendorConsentsCallback)):2===v&&l("addEventListener",v,r)):1===v&&window.$sf&&window.$sf.ext&&"function"==typeof window.$sf.ext.cmp?((0,i.logInfo)("Detected Prebid.js is encased in a SafeFrame and CMP is registered, calling it now..."),p("getConsentData",o.consentDataCallback),p("getVendorConsents",o.vendorConsentsCallback)):((0,i.logInfo)("Detected CMP is outside the current iframe where Prebid.js is located, calling it now..."),1===v?(f("getConsentData",u,o.consentDataCallback),f("getVendorConsents",u,o.vendorConsentsCallback)):2===v&&f("addEventListener",u,r))},static:function(e,t,n){e(f,n)}};function h(e,t){var n={context:this,args:[t],nextFn:e,adUnits:t.adUnits||pbjs.adUnits,bidsBackHandler:t.bidsBackHandler,haveExited:!1,timer:null};return g?((0,i.logInfo)("User consent information already known.  Pulling internally stored information..."),T(null,n)):(0,s.q9)(Object.keys(y),u)?(y[u].call(this,I,E,n),void(n.haveExited||(0===l?I(void 0,n):n.timer=setTimeout(w.bind(null,n),l)))):((0,i.logWarn)("CMP framework (".concat(u,") is not a supported framework.  Aborting consentManagement module and resuming auction.")),a.rp.setConsentData(null),n.nextFn.apply(n.context,n.args))}function I(e,t){"static"===u&&2==(v=e.getConsentData?1:e.getTCData?2:0)&&(e=e.getTCData);var n=1===v?function(e){var t=e&&e.getConsentData&&e.getConsentData.gdprApplies;return!("boolean"==typeof t&&(!0!==t||(0,i.isStr)(e.getConsentData.consentData)&&(0,i.isPlainObject)(e.getVendorConsents)&&Object.keys(e.getVendorConsents).length>1))}:2===v?function(){var t=e&&"boolean"==typeof e.gdprApplies?e.gdprApplies:p,n=e&&e.tcString;return!("boolean"==typeof t&&(!0!==t||(0,i.isStr)(n)))}:null;m.definedInConfig&&2===v?(0,i.logWarn)("'allowAuctionWithoutConsent' ignored for TCF 2"):m.definedInConfig||1!==v||(0,i.logInfo)("'allowAuctionWithoutConsent' using system default: (".concat(!0,").")),(0,i.isFn)(n)?n(e)?E("CMP returned unexpected value during lookup process.",t,e):(clearTimeout(t.timer),S(e),T(null,t)):E("Unable to derive CMP version to process data.  Consent object does not conform to TCF v1 or v2 specs.",t,e)}function w(e){2===v?((0,i.logWarn)("No response from CMP, continuing auction..."),S(void 0),T(null,e)):E("CMP workflow exceeded timeout threshold.",e)}function E(e,t,n){clearTimeout(t.timer),m.value&&1===v&&S(void 0),T(e,t,n)}function S(e){1===v?g={consentString:e?e.getConsentData.consentData:void 0,vendorData:e?e.getVendorConsents:void 0,gdprApplies:e?e.getConsentData.gdprApplies:p}:(g={consentString:e?e.tcString:void 0,vendorData:e||void 0,gdprApplies:e&&"boolean"==typeof e.gdprApplies?e.gdprApplies:p},e&&e.addtlConsent&&(0,i.isStr)(e.addtlConsent)&&(g.addtlConsent=e.addtlConsent)),g.apiVersion=v,a.rp.setConsentData(g)}function T(e,t,n){if(!1===t.haveExited){t.haveExited=!0;var r=t.context,o=t.args,s=t.nextFn;e?m.value&&1===v?((0,i.logWarn)(e+" 'allowAuctionWithoutConsent' activated.",n),s.apply(r,o)):((0,i.logError)(e+" Canceling auction as per consentManagement config.",n),a.rp.setConsentData(null),"function"==typeof t.bidsBackHandler?t.bidsBackHandler():(0,i.logError)("Error executing bidsBackHandler")):s.apply(r,o)}}o.vc.getConfig("consentManagement",(function(e){return function(e){(e=e&&(e.gdpr||e.usp?e.gdpr:e))&&"object"===d(e)?((0,i.isStr)(e.cmpApi)?u=e.cmpApi:(u="iab",(0,i.logInfo)("consentManagement config did not specify cmp.  Using system default setting (".concat("iab",")."))),(0,i.isNumber)(e.timeout)?l=e.timeout:(l=1e4,(0,i.logInfo)("consentManagement config did not specify timeout.  Using system default setting (".concat(1e4,")."))),"boolean"==typeof e.allowAuctionWithoutConsent&&(m.value=e.allowAuctionWithoutConsent,m.definedInConfig=!0),p=!0===e.defaultGdprScope,(0,i.logInfo)("consentManagement module has been activated..."),a.rp.enable(),"static"===u&&((0,i.isPlainObject)(e.consentData)?(f=e.consentData,l=0):(0,i.logError)("consentManagement config with cmpApi: 'static' did not specify consentData. No consents will be available to adapters.")),b||pbjs.requestBids.before(h,50),b=!0):(0,i.logWarn)("consentManagement config not defined, exiting consent manager")}(e.consentManagement)})),window.pbjs.installedModules.push("consentManagement")}},function(e){e(e.s=654)}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[160],{366:function(t,n,r){var i=r(853),o=r(962),a=r(602);function s(t){return(s="function"==typeof Symbol&&"symbol"==e(Symbol.iterator)?function(t){return e(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":e(t)})(t)}var d,c,u,l,p=!1,f={iab:function(e,t,n){var r,o=(r={},{consentDataCallback:function(i,o){o&&i.uspString&&(r.usPrivacy=i.uspString),r.usPrivacy?e(r,n):t("Unable to get USP consent string.",n)}}),a={},s=function(){for(var e,t,n=window;!e;){try{if("function"==typeof n.__uspapi){t=n.__uspapi,e=n;break}}catch(e){}try{if(n.frames.__uspapiLocator){e=n;break}}catch(e){}if(n===window.top)break;n=n.parent}return{uspapiFrame:e,uspapiFunction:t}}(),d=s.uspapiFrame,c=s.uspapiFunction;if(!d)return t("USP CMP not found.",n);(0,i.isFn)(c)?((0,i.logInfo)("Detected USP CMP is directly accessible, calling it now..."),c("getUSPData",1,o.consentDataCallback)):((0,i.logInfo)("Detected USP CMP is outside the current iframe where Prebid.js is located, calling it now..."),function(e,t,n){window.__uspapi=function(e,n,r){var i=Math.random()+"",o={__uspapiCall:{command:e,version:n,callId:i}};a[i]=r,t.postMessage(o,"*")},window.addEventListener("message",(function(e){var t=e&&e.data&&e.data.__uspapiReturn;t&&t.callId&&void 0!==a[t.callId]&&(a[t.callId](t.returnValue,t.success),delete a[t.callId])}),!1),window.__uspapi("getUSPData",1,n)}(0,d,o.consentDataCallback))},static:function(e,t,n){e(u,n)}};function g(e,t){var n={context:this,args:[t],nextFn:e,adUnits:t.adUnits||pbjs.adUnits,bidsBackHandler:t.bidsBackHandler,haveExited:!1,timer:null};if(!f[d])return(0,i.logWarn)("USP framework (".concat(d,") is not a supported framework. Aborting consentManagement module and resuming auction.")),a.nX.setConsentData(null),n.nextFn.apply(n.context,n.args);f[d].call(this,m,b,n),n.haveExited||(0===c?m(void 0,n):n.timer=setTimeout(v.bind(null,n),c))}function m(e,t){e&&e.usPrivacy?(clearTimeout(t.timer),function(e){e&&e.usPrivacy&&(l=e.usPrivacy,a.nX.setConsentData(l))}(e),y(null,t)):b("USPAPI returned unexpected value during lookup process.",t,e)}function v(e){b("USPAPI workflow exceeded timeout threshold.",e)}function b(e,t,n){clearTimeout(t.timer),y(e,t,n)}function y(e,t,n){if(!1===t.haveExited){t.haveExited=!0;var r=t.context,o=t.args,s=t.nextFn;e&&((0,i.logWarn)(e+" Resuming auction without consent data as per consentManagement config.",n),a.nX.setConsentData(null)),s.apply(r,o)}}o.vc.getConfig("consentManagement",(function(e){return function(e){(e=e&&e.usp)&&"object"===s(e)?((0,i.isStr)(e.cmpApi)?d=e.cmpApi:(d="iab",(0,i.logInfo)("consentManagement.usp config did not specify cmpApi. Using system default setting (".concat("iab",")."))),(0,i.isNumber)(e.timeout)?c=e.timeout:(c=50,(0,i.logInfo)("consentManagement.usp config did not specify timeout. Using system default setting (".concat(50,")."))),(0,i.logInfo)("USPAPI consentManagement module has been activated..."),a.nX.enable(),"static"===d&&((0,i.isPlainObject)(e.consentData)&&(0,i.isPlainObject)(e.consentData.getUSPData)?(e.consentData.getUSPData.uspString&&(u={usPrivacy:e.consentData.getUSPData.uspString}),c=0):(0,i.logError)("consentManagement config with cmpApi: 'static' did not specify consentData. No consents will be available to adapters.")),p||pbjs.requestBids.before(g,50),p=!0):(0,i.logWarn)("consentManagement.usp config not defined, exiting usp consent manager")}(e.consentManagement)})),window.pbjs.installedModules.push("consentManagementUsp")}},function(e){e(e.s=366)}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[296],{652:function(e,t,n){var r=n(853),i=n(265),o=n(962),a=n(494),s=n(879),d=void 0,c={},u=!1,l=function(e){var t=c.customGptSlotMatching;if((0,r.isGptPubadsDefined)()){var n=e.reduce((function(e,t){return e[t.code]=t,e}),{});window.googletag.pubads().getSlots().forEach((function(e){var i=(0,s.sE)(Object.keys(n),t?t(e):(0,r.isAdUnitCodeMatchingSlot)(e));if(i){var o=n[i];o.ortb2Imp=o.ortb2Imp||{},o.ortb2Imp.ext=o.ortb2Imp.ext||{},o.ortb2Imp.ext.data=o.ortb2Imp.ext.data||{};var a=o.ortb2Imp.ext.data;a.adserver=a.adserver||{},a.adserver.name="gam",a.adserver.adslot=p(e.getAdUnitPath())}}))}},p=function(e){return(o.vc.getConfig("gptPreAuction")||{}).mcmEnabled?e.replace(/(^\/\d*),\d*\//,"$1/"):e},f=function(e,t){var n=e.ortb2Imp.ext.data;if(n.pbadslot)return n.pbadslot;if((0,r.isGptPubadsDefined)()){var i=window.googletag.pubads().getSlots().filter((function(e){return e.getAdUnitPath()===t}));if(0!==i.length)return 1===i.length?t:"".concat(t,"#").concat(e.code)}},g=function(e){var t=e.ortb2Imp.ext.data,n=c.customPbAdSlot;if(!t.pbadslot)if(n)t.pbadslot=n(e.code,(0,i.Z)(t,"adserver.adslot"));else{try{var r=document.getElementById(e.code);if(r.dataset.adslotid)return void(t.pbadslot=r.dataset.adslotid)}catch(e){}if(!(0,i.Z)(t,"adserver.adslot"))return t.pbadslot=e.code,!0;t.pbadslot=t.adserver.adslot}},m=function(e,t){l(t);var n=c,r=n.useDefaultPreAuction,o=n.customPreAuction;t.forEach((function(e){e.ortb2Imp=e.ortb2Imp||{},e.ortb2Imp.ext=e.ortb2Imp.ext||{},e.ortb2Imp.ext.data=e.ortb2Imp.ext.data||{};var t=e.ortb2Imp.ext;if(o||r){var n,a=(0,i.Z)(t,"data.adserver.adslot");o?n=o(e,a):r&&(n=f(e,a)),n&&(t.gpid=t.data.pbadslot=n)}else{var s=g(e);t.gpid||s||(t.gpid=t.data.pbadslot)}}));for(var a=arguments.length,s=new Array(a>2?a-2:0),u=2;u<a;u++)s[u-2]=arguments[u];return e.call.apply(e,[d,t].concat(s))},v=function(e){(c=(0,r.pick)(e,["enabled",function(e){return!1!==e},"customGptSlotMatching",function(e){return"function"==typeof e&&e},"customPbAdSlot",function(e){return"function"==typeof e&&e},"customPreAuction",function(e){return"function"==typeof e&&e},"useDefaultPreAuction",function(e){return!0===e}])).enabled?u||((0,a.v5)("makeBidRequests").before(m),u=!0):((0,r.logInfo)("".concat("GPT Pre-Auction",": Turning off module")),c={},(0,a.v5)("makeBidRequests").getHooks({hook:m}).remove(),u=!1)};o.vc.getConfig("gptPreAuction",(function(e){return v(e.gptPreAuction)})),v({}),window.pbjs.installedModules.push("gptPreAuction")}},function(e){e(e.s=652)}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[155],{189:function(t,n,r){var i=r(265),o=r(853),a=r(806),s=r(3),d=r(962),c=r(644),u=r(849),l=r(319),p=r(879),f=r(125),g=r(929),m=r(145);function v(e){return function(e){if(Array.isArray(e))return S(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||E(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(t){return(b="function"==typeof Symbol&&"symbol"==e(Symbol.iterator)?function(t){return e(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":e(t)})(t)}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){I(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=E(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function E(e,t){if(e){if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(e,t):void 0}}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var T="ix",C="roundel",A=[s.Mk,s.pX],O=8e3,x={JPY:1},_={SITE:["id","name","domain","cat","sectioncat","pagecat","page","ref","search","mobile","privacypolicy","publisher","content","keywords","ext"],USER:["id","buyeruid","yob","gender","keywords","customdata","geo","data","ext"]},k={"liveramp.com":"idl","netid.de":"NETID","neustar.biz":"fabrickId","zeotap.com":"zeotapIdPlus","uidapi.com":"UID2","adserver.org":"TDID","id5-sync.com":"","crwdcntrl.net":"","epsilon.com":"","audigent.com":"","pubcid.org":"","trustpid.com":""},j=["britepoolid","lipbid","criteoId","merkleId","parrableId","connectid","tapadId","quantcastId","flocId","pubProvidedId"],P=["mimes","minduration","maxduration"],D=["mimes","minduration","maxduration","protocols","protocol","startdelay","placement","linearity","skip","skipmin","skipafter","sequence","battr","maxextended","minbitrate","maxbitrate","boxingallowed","playbackmethod","playbackend","delivery","pos","companionad","api","companiontype","ext","playerSize","w","h"],R="ixdiag",U=!1,B=(0,u.df)({gvlid:10,bidderCode:T});function N(e){var t={};return t.id=e.bidId,t.ext={},t.ext.siteID=e.params.siteId.toString(),!e.params.hasOwnProperty("id")||"string"!=typeof e.params.id&&"number"!=typeof e.params.id||(t.ext.sid=String(e.params.id)),t}function q(e,t,n){var r=null,i=null;if(e.params.bidFloor&&e.params.bidFloorCur&&(r={floor:e.params.bidFloor,currency:e.params.bidFloorCur}),(0,o.isFn)(e.getFloor)){var a="*",s="*";if(n&&(0,o.contains)(A,n)){var d=t[n];a=n,s=[d.w,d.h]}try{i=e.getFloor({mediaType:a,size:s})}catch(e){(0,o.logWarn)("priceFloors module call getFloor failed, error : ",e)}}i?(t.bidfloor=i.floor,t.bidfloorcur=i.currency,t.ext.fl="p"):r&&(t.bidfloor=r.floor,t.bidfloorcur=r.currency,t.ext.fl="x")}function M(e,t,n){var r={},a=!(!(0,i.Z)(e,"exp")||!(0,o.isInteger)(e.exp)),d=(0,i.Z)(e,"dealid")||(0,i.Z)(e,"ext.dealid");return x.hasOwnProperty(t)?r.cpm=e.price/x[t]:r.cpm=e.price/100,r.requestId=e.impid,d&&(r.dealId=d),r.netRevenue=!0,r.currency=t,r.creativeId=e.hasOwnProperty("crid")?e.crid:"-",2==e.mtype?r.vastXml=e.adm:e.ext&&e.ext.vasturl&&(r.vastUrl=e.ext.vasturl),e.ext&&e.ext.vasturl||2==e.mtype?(r.width=n.video.w,r.height=n.video.h,r.mediaType=s.pX,r.mediaTypes=n.mediaTypes,r.ttl=a?e.exp:3600):(r.ad=e.adm,r.width=e.w,r.height=e.h,r.mediaType=s.Mk,r.ttl=a?e.exp:300),r.meta={},r.meta.networkId=(0,i.Z)(e,"ext.dspid"),r.meta.brandId=(0,i.Z)(e,"ext.advbrandid"),r.meta.brandName=(0,i.Z)(e,"ext.advbrand"),e.adomain&&e.adomain.length>0&&(r.meta.advertiserDomains=e.adomain),r}function z(e){return Array.isArray(e)&&2===e.length&&(0,o.isInteger)(e[0])&&(0,o.isInteger)(e[1])}function Z(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(z(e))return e[0]===t[0]&&e[1]===t[1];for(var n=0;n<e.length;n++)if(e[n][0]===t[0]&&e[n][1]===t[1])return!0;return!1}function W(e,t){var n=[];e||(0,o.logWarn)("IX Bid Adapter: mediaTypes.video is the preferred location for video params in ad unit");var r,i=w(P);try{for(i.s();!(r=i.n()).done;){var a=r.value,s=e&&e.hasOwnProperty(a),d=t&&t.hasOwnProperty(a);s||d||n.push("IX Bid Adapter: ".concat(a," is not included in either the adunit or params level"))}}catch(e){i.e(e)}finally{i.f()}var c=e&&e.hasOwnProperty("protocol"),u=e&&e.hasOwnProperty("protocols"),l=t&&t.hasOwnProperty("protocol"),p=t&&t.hasOwnProperty("protocols");return c||u||l||p||n.push("IX Bid Adapter: protocol/protcols is not included in either the adunit or params level"),n}function F(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return z(e)?e:!!z(e[0])&&e[0]}function G(e,t,n){if(e)return h(h({},(0,p.sE)(n,(function(t){return t.bidId===e}))),(0,p.sE)(t,(function(t){return t.id===e})))}function L(e,t,n,r){var c="https://htlb.casalemedia.com/cygnus",u=function(e,t){var n=[],r={};if((0,o.isArray)(e)){var a,s=w(e);try{for(s.s();!(a=s.n()).done;){var d=a.value;k.hasOwnProperty(d.source)&&(0,i.Z)(d,"uids.0")&&(r[d.source]=!0,""!=k[d.source]&&(d.uids[0].ext={rtiPartner:k[d.source]}),delete d.uids[0].atype,n.push(d))}}catch(e){s.e(e)}finally{s.f()}}if(t&&t.id&&t.version){var c={source:"chrome.com",uids:[{id:t.id,ext:{rtiPartner:"flocId",ver:t.version}}]};n.push(c),r["chrome.com"]=!0}return{toSend:n,seenSources:r}}((0,i.Z)(e,"0.userIdAsEids"),(0,i.Z)(e,"0.userId.flocId")),l=u.toSend,p=function(){var e=d.vc.getConfig("pageUrl");try{return new URL(e).href}catch(t){return void(0,o.logWarn)("IX Bid Adapter: invalid pageUrl config property value set: ".concat(e))}}()||(0,i.Z)(t,"refererInfo.referer");if(window.headertag&&"function"==typeof window.headertag.getIdentityInfo){var f=window.headertag.getIdentityInfo();if(f&&"object"===b(f))for(var g in f)if(f.hasOwnProperty(g)){var m=f[g];!m.responsePending&&m.data&&"object"===b(m.data)&&Object.keys(m.data).length&&!u.seenSources[m.data.source]&&l.push(m.data)}}if(t&&t.bidderCode===C&&!u.seenSources["liveramp.com"])return[];var y={};y.id=e[0].bidderRequestId.toString(),y.site={},y.ext={},y.ext.source="prebid",y.ext.ixdiag={},y.ext.ixdiag.msd=0,y.ext.ixdiag.msi=0,y.imp=[],y.at=1;var I=function(e){for(var t=e.map((function(e){return e.transactionId})).filter((function(e,t,n){return n.indexOf(e)===t})),n={mfu:0,bu:0,iu:0,nu:0,ou:0,allu:0,ren:!1,version:"6.18.0",userIds:K(e[0])},r=function(r){if(a=e.filter((function(e){return e.transactionId===t[r]}))[0],(0,i.Z)(a,"mediaTypes")){if(Object.keys(a.mediaTypes).length>1&&n.mfu++,(0,i.Z)(a,"mediaTypes.native")&&n.nu++,(0,i.Z)(a,"mediaTypes.banner")&&n.bu++,"outstream"===(0,i.Z)(a,"mediaTypes.video.context")){n.ou++;var o="object"===b((0,i.Z)(a,"renderer")||(0,i.Z)(a,"mediaTypes.video.renderer"));n.ren=n.ren&&o?(0,i.Z)(n,"ren"):o}"instream"===(0,i.Z)(a,"mediaTypes.video.context")&&n.iu++,n.allu++}},o=0;o<t.length;o++){var a;r(o)}return n}(e);for(var E in I)y.ext.ixdiag[E]=I[E];var S=function(){if(B.localStorageIsEnabled()){var e,t={};try{e=JSON.parse(B.getDataFromLocalStorage(R)||"{}")}catch(e){return(0,o.logError)("ix can not read ixdiag from localStorage."),null}return Object.keys(e).forEach((function(n){Object.keys(e[n]).forEach((function(r){"number"==typeof e[n][r]&&(t[r]=t[r]?t[r]+e[n][r]:e[n][r])}))})),t}}();if((0,o.isEmpty)(S)||(y.ext.ixdiag.err=S),e[0].schain&&(y.source={ext:{schain:e[0].schain}}),l.length>0&&(y.user={},y.user.eids=l),document.referrer&&""!==document.referrer&&(y.site.ref=document.referrer),t){if(t.gdprConsent){var A=t.gdprConsent;A.hasOwnProperty("gdprApplies")&&(y.regs={ext:{gdpr:A.gdprApplies?1:0}}),A.hasOwnProperty("consentString")&&(y.user=y.user||{},y.user.ext={consent:A.consentString||""},A.hasOwnProperty("addtlConsent")&&A.addtlConsent&&(y.user.ext.consented_providers_settings={consented_providers:A.addtlConsent}))}t.uspConsent&&(0,a.Z)(y,"regs.ext.us_privacy",t.uspConsent),p&&(y.site.page=p)}d.vc.getConfig("coppa")&&(0,a.Z)(y,"regs.coppa",1);var x={};x.s=e[0].params.siteId,x.v=r,x.ac="j",x.sd=1,8.1===r&&(x.nf=1);var j=t&&t.bidderCode||"ix",P=d.vc.getConfig(j),D=[],U=0,N=Object.keys(n),q="".concat(c).concat((0,o.parseQueryStringParameters)(h(h({},x),{},{r:JSON.stringify(y)}))).length;if(q>O)return(0,o.logError)("IX Bid Adapter: Base request size has exceeded maximum request size.",{bidder:T,code:7}),D;var M=q,z=0,Z=!1;if(P){if("object"===b(P.firstPartyData)){var W=P.firstPartyData,F="?";for(var G in W)W.hasOwnProperty(G)&&(F+="".concat(encodeURIComponent(G),"=").concat(encodeURIComponent(W[G]),"&"));F=F.slice(0,-1),(z=encodeURIComponent(F).length)<O?("page"in y.site?y.site.page+=F:y.site.page=F,M+=z):(0,o.logError)("IX Bid Adapter: IX config FPD request size has exceeded maximum request size.",{bidder:T,code:6})}"number"==typeof P.timeout&&(x.t=P.timeout),"boolean"==typeof P.detectMissingSizes?y.ext.ixdiag.dms=P.detectMissingSizes:y.ext.ixdiag.dms=!0}for(var L=function(t){if(M>=O||D.length>=4)return"break";for(var r=n[N[t]],i=r.missingCount,u=void 0===i?0:i,l=r.missingImps,p=void 0===l?[]:l,f=r.ixImps,g=!1,m=O-M,b={ixImps:void 0===f?[]:f,missingBannerImpressions:p},I=Object.keys(b).map((function(e){return b[e]})).filter((function(e){return Array.isArray(e)})).reduce((function(e,t){return e.concat.apply(e,v(t))}),[]),w=encodeURIComponent(JSON.stringify({impressionObjects:I})).length;I.length&&w>m;)g=!0,I.pop(),w=encodeURIComponent(JSON.stringify({impressionObjects:I})).length;var E=n[N[t]].gpid,S=n[N[t]].dfp_ad_unit_code;if(I.length&&s.Mk in I[0]){var C=I[0],A={id:C.id,banner:{topframe:C.banner.topframe,format:I.map((function(e){var t=e.banner;return{w:t.w,h:t.h,ext:e.ext}}))}};(S||E)&&(A.ext={},A.ext.dfp_ad_unit_code=S,A.ext.gpid=E),"bidfloor"in I[0]&&(A.bidfloor=I[0].bidfloor),"bidfloorcur"in I[0]&&(A.bidfloorcur=I[0].bidfloorcur),y.imp.push(A),y.ext.ixdiag.msd+=u,y.ext.ixdiag.msi+=p.length}else{var k;I.forEach((function(e){return(0,a.Z)(e,"ext.gpid",E)})),(k=y.imp).push.apply(k,v(I))}M+=w;var j=d.vc.getConfig("ortb2")||{};if(!(0,o.isEmpty)(j)&&!Z){y.ext.ixdiag.fpd=!0;var P=h({},j.site||j.context);Object.keys(P).forEach((function(e){-1===_.SITE.indexOf(e)&&delete P[e]}));var R=h({},j.user);Object.keys(R).forEach((function(e){-1===_.USER.indexOf(e)&&delete R[e]}));var B=(0,o.deepClone)(y);if(B.site=(0,o.mergeDeep)({},B.site,P),B.user=(0,o.mergeDeep)({},B.user,R),"".concat(c).concat((0,o.parseQueryStringParameters)(h(h({},x),{},{r:JSON.stringify(B)}))).length<O){y.site=(0,o.mergeDeep)({},y.site,P),y.user=(0,o.mergeDeep)({},y.user,R),Z=!0;var z=encodeURIComponent(JSON.stringify(h(h({},P),R))).length;M+=z}else(0,o.logError)("IX Bid Adapter: FPD request size has exceeded maximum request size.",{bidder:T,code:8})}var W=t===N.length-1;if(g||W){var F=(0,o.deepClone)(x);W&&!U||(y.ext.ixdiag.sn=U,F.sn=U),U++,F.r=JSON.stringify(y),D.push({method:"GET",url:c,data:F,validBidRequests:e}),M=q,y.imp=[],y.ext.ixdiag.msd=0,y.ext.ixdiag.msi=0,Z=!1}},X=0;X<N.length&&"break"!==L(X);X++);return D}function K(e){var t=e.userId||{};return j.filter((function(e){return t[e]}))}function X(e,t){if(t)for(var n=0;n<e.length;n++){var r=e[n];if(t[0]===r[0]&&t[1]===r[1]){e.splice(n,1);break}}}function V(e,t){var n=function(e){var t=N(e),n=(0,i.Z)(e,"mediaTypes.video"),r=(0,i.Z)(e,"params.video");if(W(n,r).length)return{};for(var a in t.video=r?(0,o.deepClone)(e.params.video):{},n)-1===D.indexOf(a)||t.video.hasOwnProperty(a)||(t.video[a]=n[a]);if(t.video.minduration>t.video.maxduration)return(0,o.logError)("IX Bid Adapter: video minduration [".concat(t.video.minduration,"] cannot be greater than video maxduration [").concat(t.video.maxduration,"]"),{bidder:T,code:9}),{};var d=r&&r.context||n&&n.context;if(d&&!t.video.hasOwnProperty("placement")&&(d===g.LD?t.video.placement=1:d===g.gZ?t.video.placement=4:(0,o.logWarn)("IX Bid Adapter: Video context '".concat(d,"' is not supported"))),!t.video.w||!t.video.h){var c=F((0,i.Z)(t,"video.playerSize"))||F((0,i.Z)(e,"params.size"));if(!c)return(0,o.logWarn)("IX Bid Adapter: Video size is missing in [mediaTypes.video] missing"),{};t.video.w=c[0],t.video.h=c[1],(0,i.Z)(t,"ext.sid")||(t.ext.sid=(0,o.parseGPTSingleSizeArray)(c))}return q(e,t,s.pX),t}(e);0!=Object.keys(n).length&&(t[e.transactionId]={},t[e.transactionId].ixImps=[],t[e.transactionId].ixImps.push(n),t[e.transactionId].gpid=(0,i.Z)(e,"ortb2Imp.ext.gpid"))}function Y(e,t,n){var r=h(h({},{detectMissingSizes:!0}),d.vc.getConfig("ix")),a=function(e){var t=N(e);t.banner={};var n=(0,i.Z)(e,"params.size");return n&&(t.banner.w=n[0],t.banner.h=n[1],(0,i.Z)(t,"ext.sid")||(t.ext.sid=(0,o.parseGPTSingleSizeArray)(n))),t.banner.topframe=(0,o.inIframe)()?0:1,q(e,t,s.Mk),t}(e),c=Z((0,i.Z)(e,"mediaTypes.banner.sizes"),(0,i.Z)(e,"params.size"));n.hasOwnProperty(e.transactionId)||(n[e.transactionId]={}),n[e.transactionId].gpid=(0,i.Z)(e,"ortb2Imp.ext.gpid"),n[e.transactionId].dfp_ad_unit_code=(0,i.Z)(e,"ortb2Imp.ext.data.adserver.adslot"),c&&(n[e.transactionId].hasOwnProperty("ixImps")||(n[e.transactionId].ixImps=[]),n[e.transactionId].ixImps.push(a)),r.hasOwnProperty("detectMissingSizes")&&r.detectMissingSizes&&function(e,t,n){var r=e.transactionId;if(t.hasOwnProperty(r)){var a=[];t[r].hasOwnProperty("missingSizes")&&(a=t[r].missingSizes),X(a,e.params.size),t[r].missingSizes=a}else if((0,i.Z)(e,"mediaTypes.banner.sizes")){var s=(0,o.deepClone)(e.mediaTypes.banner.sizes);X(s,e.params.size);var d={missingSizes:s,impression:n};t[r]=d}}(e,t,a)}function H(e,t,n){var r=(0,o.deepClone)(t);return r.ext.sid=(0,o.parseGPTSingleSizeArray)(n),r.banner.w=n[0],r.banner.h=n[1],q(e,r,s.Mk),r}function J(e){if("ERROR"===e.type&&e.arguments&&e.arguments[1]&&e.arguments[1].bidder===T){var t={hasEnforcementHook:!1,valid:(0,o.hasDeviceAccess)()};(0,u.S6)(10,T,t,(function(t){t.valid&&function(e){if(B.localStorageIsEnabled()){var t;try{t=JSON.parse(B.getDataFromLocalStorage(R)||"{}")}catch(e){(0,o.logWarn)("ix can not read ixdiag from localStorage.")}var n=new Date;if(Object.keys(t).map((function(e){var r=new Date(e);r.setDate(r.getDate()+7)-n<0&&delete t[e]})),"ERROR"===e.type&&e.arguments&&e.arguments[1]&&e.arguments[1].bidder===T){var r=n.toISOString().slice(0,10),i=e.arguments[1].code;i&&(t[r]=t[r]||{},Number(t[r][i])||(t[r][i]=0),t[r][i]++)}B.setDataInLocalStorage(R,JSON.stringify(t))}}(e)}))}}function $(e){e.renderer.push((function(){var t={width:e.width,height:e.height,timeout:3e3};e.vastXml?window.IXOutstreamPlayer(e.vastXml,e.adUnitCode,t):window.IXOutstreamPlayer(e.vastUrl,e.adUnitCode,t)}))}function Q(e){var t=m.Th.install({id:e,url:"https://js-sec.indexww.com/htv/video-player.js",loaded:!1});try{t.setRender($)}catch(e){(0,o.logWarn)("Prebid Error calling setRender on renderer",e)}return t}var ee={code:T,gvlid:10,aliases:[{code:C,gvlid:10,skipPbsAliasing:!1}],supportedMediaTypes:A,isBidRequestValid:function(e){U||(l.on(c.EVENTS.AUCTION_DEBUG,J),l.on(c.EVENTS.AD_RENDER_FAILED,J),U=!0);var t,n,r=(0,i.Z)(e,"params.video"),a=(0,i.Z)(e,"params.size"),s=(0,i.Z)(e,"mediaTypes.banner.sizes"),d=(0,i.Z)(e,"mediaTypes.video"),u=(0,i.Z)(e,"mediaTypes.video.playerSize"),p=e.params.hasOwnProperty("bidFloor"),f=e.params.hasOwnProperty("bidFloorCur");if(e.hasOwnProperty("mediaType")&&!(0,o.contains)(A,e.mediaType))return(0,o.logWarn)("IX Bid Adapter: media type is not supported."),!1;if((0,i.Z)(e,"mediaTypes.banner")&&!s)return!1;if(a){var g=F(a);if(!g)return(0,o.logError)("IX Bid Adapter: size has invalid format.",{bidder:T,code:1}),!1;if(!Z(e.sizes,g)&&!Z(u,g)&&!Z(s,g))return(0,o.logError)("IX Bid Adapter: bid size is not included in ad unit sizes or player size.",{bidder:T,code:2}),!1}if("string"!=typeof e.params.siteId&&"number"!=typeof e.params.siteId)return(0,o.logError)("IX Bid Adapter: siteId must be string or number type.",{bidder:T,code:4}),!1;if("string"!=typeof e.params.siteId&&isNaN(Number(e.params.siteId)))return(0,o.logError)("IX Bid Adapter: siteId must valid value",{bidder:T,code:4}),!1;if((p||f)&&!(p&&f&&(t=e.params.bidFloor,n=e.params.bidFloorCur,Boolean("number"==typeof t&&"string"==typeof n&&n.match(/^[A-Z]{3}$/)))))return(0,o.logError)("IX Bid Adapter: bidFloor / bidFloorCur parameter has invalid format.",{bidder:T,code:5}),!1;if(d&&r){var m=W(d,r);if(m.length)return m.forEach((function(e){(0,o.logError)(e,{bidder:T,code:3})})),!1}return!0},buildRequests:function(e,t){var n=[],r={},o={},a={},d={};for(var c in e.forEach((function(e){var t=Object.keys((0,i.Z)(e,"mediaTypes",{}));switch(function(e){return(0,i.Z)(e,"params.video")&&(0,i.Z)(e,"mediaTypes.video")?s.pX:s.Mk}(e)){case s.Mk:Y(e,d,r);break;case s.pX:V(e,o)}(0,p.q9)(t,s.Mk)&&(0,p.q9)(t,s.pX)&&(a[e.transactionId]=e)})),Object.keys(a).forEach((function(e){var t=a[e];r[e]||Y(t,d,r),o[e]||V(t,o)})),d)if(d.hasOwnProperty(c)){var u=d[c].missingSizes;r.hasOwnProperty(c)||(r[c]={}),r[c].hasOwnProperty("missingImps")||(r[c].missingImps=[],r[c].missingCount=0);for(var l=d[c].impression,f=0;f<u.length;f++){var g=H(e[0],l,u[f]);r[c].missingImps.push(g),r[c].missingCount++}}return Object.keys(r).length>0&&n.push.apply(n,v(L(e,t,r,7.2))),Object.keys(o).length>0&&n.push.apply(n,v(L(e,t,o,8.1))),n},interpretResponse:function(e,t){var n=[],r=null;if(!e.hasOwnProperty("body")||!e.body.hasOwnProperty("seatbid"))return n;for(var a=e.body,s=a.seatbid,d=0;d<s.length;d++)if(s[d].hasOwnProperty("bid")){for(var c=s[d].bid,u=JSON.parse(t.data.r),l=0;l<c.length;l++){var p=G(c[l].impid,u.imp,t.validBidRequests);r=M(c[l],a.cur,p),(0,i.Z)(r,"mediaTypes.video.renderer")||"outstream"!==(0,i.Z)(r,"mediaTypes.video.context")||(r.renderer=Q(c[l].bidId)),n.push(r)}if((0,i.Z)(u,"ext.ixdiag.err")&&B.localStorageIsEnabled())try{B.removeDataFromLocalStorage(R)}catch(e){(0,o.logError)("ix can not clear ixdiag from localStorage.")}}return n},transformBidParams:function(e,t){return(0,o.convertTypes)({siteID:"number"},e)},getUserSyncs:function(e,t){return e.iframeEnabled?[{type:"iframe",url:"https://js-sec.indexww.com/um/ixmatch.html"}]:[]}};(0,f.dX)(ee),window.pbjs.installedModules.push("ixBidAdapter")}},function(e){e(e.s=189)}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[769],{414:function(e,t,n){var r=n(853),i=n(265),o=n(125),a=n(962),s=n(3),d=n(661),c=n(145);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var l="medianet",p=(0,d.n)(),f={};function g(){try{return window.top.document.referrer}catch(e){return document.referrer}}function m(e,t){var n,i,o=function(e,t){try{var n=(0,r.getWindowTop)().document.querySelector(e);if(null!==n&&n[t])return n[t]}catch(e){}}(e,t);return o&&(n=o,(i=(0,r.getWindowTop)().document.createElement("a")).href=n,i.href)}function v(e,t){return e.filter((function(e){return e.type===t}))}function b(e){return{w:parseInt(e[0],10),h:parseInt(e[1],10)}}function y(e,t){var n=(0,i.Z)(e,"params"),o=(0,i.Z)(t,"gdprConsent"),s=(0,i.Z)(t,"uspConsent"),d=(0,i.Z)(e,"userId"),c=(0,i.Z)(e,"schain")||{},l=C.getWindowSize(),p=!(!o||!o.gdprApplies),f=!!s,g=!!a.vc.getConfig("coppa");return u({},{customer_id:n.cid},{prebid_version:pbjs.version},{gdpr_applies:p},p&&{gdpr_consent_string:o.consentString||""},{usp_applies:f},f&&{usp_consent_string:s||""},{coppa_applies:g},-1!==l.w&&-1!==l.h&&{screen:l},d&&{user_id:d},pbjs.medianetGlobals.analyticsEnabled&&{analytics:!0},!(0,r.isEmpty)(c)&&{schain:c})}function h(e,t,n,r){var i=e.getFloor({currency:"USD",mediaType:t,size:n});n.length>1&&(i.size=n),i.mediaType=t,r.push(i)}function I(e){return e.reduce((function(e,t){return t.h*t.w<e.h*e.w?t:e}))}function w(e,t){var n,r,i,o,a=t.w*t.h,s=C.getWindowSize(),d={x:e.x+t.w,y:e.y+t.h};return 0===a||-1===s.w||-1===s.h?0:(n=e,r=d,i={x:0,y:0},o={x:s.w,y:s.h},(n.x>o.x||r.x<i.x||n.y>o.y||r.y<i.y?0:(Math.min(r.x,o.x)-Math.max(n.x,i.x))*(Math.min(r.y,o.y)-Math.max(n.y,i.y)))/a)}function E(e,t){t=(0,r.isArray)(t)&&t||[];var n={logid:"kfk",evtid:"projectevents",project:"prebid"};return n.acid=(0,i.Z)(t,"0.auctionId")||"",n.cid=pbjs.medianetGlobals.cid||"",n.crid=t.map((function(e){return(0,i.Z)(e,"params.0.crid")||e.adUnitCode})).join("|"),n.adunit_count=t.length||0,n.dn=f.urlData.domain||"",n.requrl=f.urlData.page||"",n.istop=f.urlData.isTop||"",n.event=e.name||"",n.value=e.value||"",n.rd=e.related_data||"",n}function S(e,t){var n={protocol:"https",hostname:"qsearch-a.akamaihd.net/log",search:E(e,t)};(0,r.triggerPixel)((0,r.buildUrl)(n))}function T(e){var t,n=(0,i.Z)(e,"context")||"",o=(0,i.Z)(e,"vto");"outstream"==n&&o&&(e.renderer=((t=c.Th.install({url:"https://prebid.media.net/video/bundle.js"})).setRender((function(e){window.mnet.queue.push((function(){var t={width:e.width,height:e.height,vastTimeout:e.vto,maxAllowedVastTagRedirects:e.mavtr,allowVpaid:e.avp,autoPlay:e.ap,preload:e.pl,mute:e.mt},n=e.dfp_id,i=(0,r.getGptSlotInfoForAdUnitCode)(n).divId||n;window.mnet.mediaNetoutstreamPlayer(e,i,t)}))})),t))}window.mnet=window.mnet||{},window.mnet.queue=window.mnet.queue||[],f.urlData={domain:(0,r.parseUrl)(p.referer).hostname,page:p.referer,isTop:p.reachedTop},pbjs.medianetGlobals=pbjs.medianetGlobals||{};var C={code:l,gvlid:142,supportedMediaTypes:[s.Mk,s.B5,s.pX],isBidRequestValid:function(e){return e.params?e.params.cid&&(0,r.isStr)(e.params.cid)&&!(0,r.isEmptyStr)(e.params.cid)?(u(pbjs.medianetGlobals,!pbjs.medianetGlobals.cid&&{cid:e.params.cid}),!0):((0,r.logError)("".concat(l," : cid should be a string")),!1):((0,r.logError)("".concat(l," : Missing bid parameters")),!1)},buildRequests:function(e,t){var n,o=function(e,t){return{site:(n=e[0].params.site,u({domain:(n=n||{}).domain||f.urlData.domain,page:n.page||f.urlData.page,ref:n.ref||g(),isTop:n.isTop||f.urlData.isTop},function(){if(f.pageMeta)return f.pageMeta;var e=m('link[rel="canonical"]',"href"),t=m('meta[property="og:url"]',"content"),n=m('meta[name="twitter:url"]',"content");return f.pageMeta=u({},e&&{canonical_url:e},t&&{og_url:t},n&&{twitter_url:n}),f.pageMeta}())),ext:y(e[0],t),id:e[0].auctionId,imp:e.map((function(e){return function(e){var t={id:e.bidId,ext:{dfp_id:e.adUnitCode,display_count:e.bidRequestsCount},all:e.params};e.ortb2Imp&&(t.ortb2Imp=e.ortb2Imp);var n,o=(0,i.Z)(e,"mediaTypes.banner.sizes")||[],a=(0,i.Z)(e,"mediaTypes.video")||{},d=u({},(0,i.Z)(e,"params.video")||{},a);if((0,r.isEmpty)(d)||(t.video=d),o.length>0&&(t.banner=(n=o,(0,r.isArray)(n)&&2===n.length&&!(0,r.isArray)(n[0])?[b(n)]:n.map((function(e){return b(e)})))),e.nativeParams)try{t.native=JSON.stringify(e.nativeParams)}catch(e){(0,r.logError)("".concat(l," : Incorrect JSON : bidRequest.nativeParams"))}e.params.crid&&(t.tagid=e.params.crid.toString());var c=parseFloat(e.params.bidfloor||e.params.bidFloor);c&&(t.bidfloor=c);var p=function(e){var t=document.getElementById(e);if(!t&&-1!==e.indexOf("/")){var n=(0,r.getGptSlotInfoForAdUnitCode)(e).divId;(0,r.isStr)(n)&&(t=document.getElementById(n))}if(t&&t.getBoundingClientRect){var i=t.getBoundingClientRect(),o={};return o.top_left={y:i.top,x:i.left},o.bottom_right={y:i.bottom,x:i.right},o}return null}(e.adUnitCode);if(p&&t.banner&&0!==t.banner.length){var f=function(e){return{top_left:{x:e.top_left.x+window.pageXOffset,y:e.top_left.y+window.pageYOffset},bottom_right:{x:e.bottom_right.x+window.pageXOffset,y:e.bottom_right.y+window.pageYOffset}}}(p);t.ext.coordinates=f,t.ext.viewability=w(p.top_left,I(t.banner)),w(f.top_left,I(t.banner))>.5?t.ext.visibility=1:t.ext.visibility=2}else t.ext.visibility=0;var g=function(e){var t=[];return"function"==typeof e.getFloor&&[s.Mk,s.pX,s.B5].forEach((function(n){e.mediaTypes.hasOwnProperty(n)&&(n==s.Mk?e.mediaTypes.banner.sizes.forEach((function(r){h(e,n,r,t)})):h(e,n,"*",t))})),t}(e);return g&&g.length>0&&(t.bidfloors=g),t}(e)})),tmax:t.timeout||a.vc.getConfig("bidderTimeout")};var n}(e,t);return{method:"POST",url:(n=o.ext.customer_id,"https://prebid.media.net/rtb/prebid?cid="+encodeURIComponent(n)),data:JSON.stringify(o)}},interpretResponse:function(e,t){var n=[];if(!e||!e.body)return(0,r.logInfo)("".concat(l," : response is empty")),n;var i=e.body.bidList;return(0,r.isArray)(i)&&0!==i.length?((n=i.filter((function(e){return function(e){return!1===e.no_bid&&parseFloat(e.cpm)>0}(e)}))).forEach(T),n):((0,r.logInfo)("".concat(l," : no bids")),n)},getUserSyncs:function(e,t){var n,i=(n=t,!(0,r.isEmpty)(n)&&n[0].body&&n[0].body.ext&&(0,r.isArray)(n[0].body.ext.csUrl)?n[0].body.ext.csUrl:[]);return e.iframeEnabled?v(i,"iframe"):e.pixelEnabled?v(i,"image"):void 0},onTimeout:function(e){try{S({name:"client_timeout",value:e.length,related_data:e[0].timeout||a.vc.getConfig("bidderTimeout")},e)}catch(e){}},onBidWon:function(e){try{S({name:"client_bid_won",value:e.cpm},[e])}catch(e){}},clearMnData:function(){f={}},getWindowSize:function(){return{w:window.screen.width||-1,h:window.screen.height||-1}}};(0,o.dX)(C),window.pbjs.installedModules.push("medianetBidAdapter")}},function(e){e(e.s=414)}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[488],{728:function(e,t,n){var r=n(853),i=n(494),o=n(528),a=n(879);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c="medianetrtd";function u(e){window.mnjs.que.push(e)}function l(e,t){return e=e||(0,o.R)().adUnits||[],t&&t.length&&(e=e.filter((function(e){return(0,a.q9)(t,e.code)}))),e}window.mnjs=window.mnjs||{},window.mnjs.que=window.mnjs.que||[];var p={name:"medianet",init:function(e){var t=e.params&&e.params.cid;return t&&(0,r.isStr)(t)&&!(0,r.isEmptyStr)(t)?(function(e){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src=function(e,t){return"https://warp.media.net/js/tags/prebidrtdclient.js?cid=".concat(e,"&dn=").concat(t)}(e,window.location.hostname),(0,r.insertElement)(t,window.document,"head")}(t),u((function(){return window.mnjs.setData({module:"iref",name:"initIRefresh",data:{config:e,prebidGlobal:(0,o.R)()}},c)})),!0):((0,r.logError)("".concat(c,": cid should be a string")),!1)},getBidRequestData:function(e,t,n,i){u((function(){var o=l(e.adUnits,e.adUnitCodes),a=window.mnjs.onPrebidRequestBid({requestBidsProps:e,config:n,userConsent:i});a?a.onComplete((function(){return t()}),(function(e,n){o.forEach((function(t){t.ortb2Imp=t.ortb2Imp||{},(0,r.mergeDeep)(t.ortb2Imp,n[t.code]),(0,r.mergeDeep)(t,e[t.code])})),t()})):t()}))},onAuctionInitEvent:function(e){u((function(){return window.mnjs.setData({module:"iref",name:"auctionInit",data:{auction:e}},c)}))},getTargetingData:function(e){var t=l(void 0,e),n={};window.mnjs.loaded&&(0,r.isFn)(window.mnjs.getTargetingData)&&(n=window.mnjs.getTargetingData(e,t,c)||{});var i={};return e.forEach((function(e){i[e]=i[e]||{},n[e]=n[e]||{},i[e]=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}(d({},"mnadc",e),n[e])})),i}};(0,i.Bx)("realTimeData",p),window.pbjs.installedModules.push("medianetRtdProvider")}},function(e){e(e.s=728)}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[620],{965:function(){}