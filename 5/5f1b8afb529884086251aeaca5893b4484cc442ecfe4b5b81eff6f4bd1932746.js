"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[561],{37707:function(t,e,n){n.d(e,{Z:function(){return r},v:function(){return o}});var r=function(t){return t.replace(/(<([^>]+)>)/gi,"")},o=function(t){return t.split("\n\n").map((function(t){return"<p>".concat(t,"</p>")})).join("")}},96018:function(t,e,n){n.d(e,{Z:function(){return T}});var r=n(1717),o=n(6952),i=n(88742),c=n.n(i),a=n(60042),u=n.n(a),s=n(27378),d=n(78392),f=n(36077),l=n(5273),p=n(2251),v=n(1305),m=n(37182),g=n(62882),h=n(35294),O=n.n(h),b=n(4550),y=n(34356),j=function(){}(),E=n(24246);function P(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}var T=function(t){var e=t.poll,n=t.className,i=(0,s.useState)(null),a=i[0],h=i[1],y=(0,s.useState)(e),T=y[0],N=y[1],S=T.title,U=T.objectId,w=T.id,I=T.options,_=T.generatedAt,L=T.modifiedAt,A=0;I.forEach((function(t){A+=t.votes})),(0,d.Z)((function(){var t,e=null===(t=(0,m.Vy)(g.dm.POLL_ANSWERS,[]))||void 0===t?void 0:t.find((function(t){return t.includes("".concat(U,":"))}));e&&h(parseInt(e.split(":")[1],10)),(new Date).getTime()-new Date(_).getTime()>6e4?(new Date).getTime()-new Date(L).getTime()<1728e5&&(0,o.Z)(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=N,t.next=3,j({pollId:U,latest:!0});case 3:t.t1=t.sent,(0,t.t0)(t.t1);case 5:case"end":return t.stop()}}),t)})))():e&&(0,o.Z)(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=N,t.next=3,j({pollId:U,latest:!0});case 3:t.t1=t.sent,(0,t.t0)(t.t1);case 5:case"end":return t.stop()}}),t)})))()}));var D=function(t){if(a)return null;var e="".concat(b.Z.global.submitBaseUrl,"/ci/content/submit/poll/poll_v2.json?object_id=").concat(U,"&content_id=").concat(w,"&vote=1&poll_id=").concat(t.id,"&mode=POSITIVE");O()(e,{timeout:3e3}).then((function(t){return t.json()})).then((function(e){(0,m.eW)(g.dm.POLL_ANSWERS,"".concat(U,":").concat(t.id)),h(t.id),N((function(t){var n=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?P(Object(n),!0).forEach((function(e){(0,r.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t),o={};return n.options.forEach((function(t){o[t.id]=t})),e.vote.forEach((function(t){o[t.optionId]&&(o[t.optionId].votes=t.count)})),n}))}))};return(0,E.jsxs)("div",{className:u()("ds-bg-fill-content-alternate ds-p-3",n),children:[(0,E.jsxs)("div",{className:"ds-flex ds-items-center ds-justify-between",children:[(0,E.jsxs)("div",{className:"ds-flex",children:[(0,E.jsx)(f.ZP,{name:p.v.POLL_OUTLINE,size:f.XR.SM}),(0,E.jsx)(l.ZP,{variant:l.Fu.TITLE_SUBTLE_M,className:"ds-ml-1",children:S})]}),(0,E.jsxs)(l.ZP,{variant:l.Fu.COMPACT_XS,className:"ds-text-typo-paragraph-light",children:[A>=1e3?(A/1e3).toFixed(1):A," votes"]})]}),(0,E.jsx)("div",{className:u()("ds-grid ds-gap-1 ds-mt-4 ds-grid-cols-1",I.length>3?"lg:ds-grid-cols-1":"lg:ds-grid-cols-3"),children:I.map((function(t,e){var n=A>0?Math.round((0,v.Ux)(t.votes,A)):0;return(0,E.jsxs)("div",{className:u()("ds-bg-ui-fill ds-border ds-border-line ds-rounded-lg ds-p-2 ds-relative ds-flex ds-justify-between ds-items-center",{"ds-cursor-pointer":!a}),onClick:function(){return D(t)},children:[(0,E.jsx)("div",{className:"ds-bg-raw-blue20 ds-absolute ds-left-0 ds-top-0 ds-h-full ds-rounded-lg ds-transition-all",style:{width:a?"".concat(n,"%"):0}}),(0,E.jsx)(l.ZP,{element:"div",variant:l.Fu.COMPACT_XS_MEDIUM,children:t.title}),a?(0,E.jsxs)(l.ZP,{element:"div",variant:l.Fu.COMPACT_XS_MEDIUM,children:[a===t.id?"You & ":""," ",n,"%"]}):null]},e)}))})]})}},22e3:function(t,e,n){n.d(e,{Kv:function(){return f},aH:function(){return l},vl:function(){return m},$i:function(){return g},RW:function(){return h},EL:function(){return b},Tj:function(){return y},uZ:function(){return j}});var r=n(1717),o=n(27693),i=n.n(o),c=n(18708),a=n(2251),u=n(37707);function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){(0,r.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var f=function(){},l=function(){},p=function(t){return 1===t?"min":"mins"},v=function(t){return 1===t?"hr":"hrs"},m=function(){},g=function(){},h=function(){},O=[{unicode:"U+1F44F",skintone:c.sU.SKIN_TONE_NEUTRAL},{unicode:"U+2764",skintone:c.sU.SKIN_TONE_NEUTRAL},{unicode:"U+1F525",skintone:c.sU.SKIN_TONE_NEUTRAL},{unicode:"U+1F62D",skintone:c.sU.SKIN_TONE_NEUTRAL}],b=function(){},y=function(){},j=function(){}},25867:function(t,e,n){var r=n(1717),o=n(31750),i=(n(27378),n(50348)),c=n(7839),a=n(62882),u=n(27693),s=n.n(u),d=n(29198),f=n(44087),l=n(10626),p=n(32490),v=n(60042),m=n.n(v),g=n(18708),h=n(24246),O=["video","size","variant","contentType","action","override","hide","className","modal","imgVariant","imgSize","onClick","mediaInfo","autoplay"];function b(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?b(Object(n),!0).forEach((function(e){(0,r.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var j=function(t){return t.toLowerCase().replace(/[^a-z0-9]/gi," ").trim().replace(/\s+/gi,"-")};e.Z=function(){}