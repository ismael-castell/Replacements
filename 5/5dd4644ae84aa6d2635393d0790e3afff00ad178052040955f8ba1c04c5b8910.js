function _typeof(a){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function a(b){return typeof b}:function a(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(a)}!function(a,b,c,d){"use strict";function e(a,b,c){return setTimeout(j(a,c),b)}function f(a,b,c){return!!Array.isArray(a)&&(g(a,c[b],c),!0)}function g(a,b,c){var e;if(a)if(a.forEach)a.forEach(b,c);else if(a.length!==d)for(e=0;e<a.length;)b.call(c,a[e],e,a),e++;else for(e in a)a.hasOwnProperty(e)&&b.call(c,a[e],e,a)}function h(b,c,d){var e="DEPRECATED METHOD: "+c+"\n"+d+" AT \n";return function(){var c=new Error("get-stack-trace"),d=c&&c.stack?c.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",f=a.console&&(a.console.warn||a.console.log);return f&&f.call(a.console,e,d),b.apply(this,arguments)}}function i(a,b,c){var d,e=b.prototype;d=a.prototype=Object.create(e),d.constructor=a,d._super=e,c&&ka(d,c)}function j(a,b){return function c(){return a.apply(b,arguments)}}function k(a,b){return _typeof(a)===na?a.apply(b?b[0]||d:d,b):a}function l(a,b){return a===d?b:a}function m(a,b,c){g(q(b),function(b){a.addEventListener(b,c,!1)})}function n(a,b,c){g(q(b),function(b){a.removeEventListener(b,c,!1)})}function o(a,b){for(;a;){if(a==b)return!0;a=a.parentNode}return!1}function p(a,b){return a.indexOf(b)>-1}function q(a){return a.trim().split(/\s+/g)}function r(a,b,c){if(a.indexOf&&!c)return a.indexOf(b);for(var d=0;d<a.length;){if(c&&a[d][c]==b||!c&&a[d]===b)return d;d++}return-1}function s(a){return Array.prototype.slice.call(a,0)}function t(a,b,c){for(var d=[],e=[],f=0;f<a.length;){var g=b?a[f][b]:a[f];r(e,g)<0&&d.push(a[f]),e[f]=g,f++}return c&&(d=b?d.sort(function a(c,d){return c[b]>d[b]}):d.sort()),d}function u(a,b){for(var c,e,f=b[0].toUpperCase()+b.slice(1),g=0;g<la.length;){if(c=la[g],(e=c?c+f:b)in a)return e;g++}return d}function v(){return ta++}function w(b){var c=b.ownerDocument||b;return c.defaultView||c.parentWindow||a}function x(a,b){var c=this;this.manager=a,this.callback=b,this.element=a.element,this.target=a.options.inputTarget,this.domHandler=function(b){k(a.options.enable,[a])&&c.handler(b)},this.init()}function y(a){var b=a.options.inputClass;return new(b||(wa?M:xa?P:va?R:L))(a,z)}function z(a,b,c){var d=c.pointers.length,e=c.changedPointers.length,f=b&za&&d-e==0,g=b&(Ba|Ca)&&d-e==0;c.isFirst=!!f,c.isFinal=!!g,f&&(a.session={}),c.eventType=b,A(a,c),a.emit("hammer.input",c),a.recognize(c),a.session.prevInput=c}function A(a,b){var c=a.session,d=b.pointers,e=d.length;c.firstInput||(c.firstInput=D(b)),e>1&&!c.firstMultiple?c.firstMultiple=D(b):1===e&&(c.firstMultiple=!1);var f=c.firstInput,g=c.firstMultiple,h=g?g.center:f.center,i=b.center=E(d);b.timeStamp=qa(),b.deltaTime=b.timeStamp-f.timeStamp,b.angle=I(h,i),b.distance=H(h,i),B(c,b),b.offsetDirection=G(b.deltaX,b.deltaY);var j=F(b.deltaTime,b.deltaX,b.deltaY);b.overallVelocityX=j.x,b.overallVelocityY=j.y,b.overallVelocity=pa(j.x)>pa(j.y)?j.x:j.y,b.scale=g?K(g.pointers,d):1,b.rotation=g?J(g.pointers,d):0,b.maxPointers=c.prevInput?b.pointers.length>c.prevInput.maxPointers?b.pointers.length:c.prevInput.maxPointers:b.pointers.length,C(c,b);var k=a.element;o(b.srcEvent.target,k)&&(k=b.srcEvent.target),b.target=k}function B(a,b){var c=b.center,d=a.offsetDelta||{},e=a.prevDelta||{},f=a.prevInput||{};b.eventType!==za&&f.eventType!==Ba||(e=a.prevDelta={x:f.deltaX||0,y:f.deltaY||0},d=a.offsetDelta={x:c.x,y:c.y}),b.deltaX=e.x+(c.x-d.x),b.deltaY=e.y+(c.y-d.y)}function C(a,b){var c,e,f,g,h=a.lastInterval||b,i=b.timeStamp-h.timeStamp;if(b.eventType!=Ca&&(i>ya||h.velocity===d)){var j=b.deltaX-h.deltaX,k=b.deltaY-h.deltaY,l=F(i,j,k);e=l.x,f=l.y,c=pa(l.x)>pa(l.y)?l.x:l.y,g=G(j,k),a.lastInterval=b}else c=h.velocity,e=h.velocityX,f=h.velocityY,g=h.direction;b.velocity=c,b.velocityX=e,b.velocityY=f,b.direction=g}function D(a){for(var b=[],c=0;c<a.pointers.length;)b[c]={clientX:oa(a.pointers[c].clientX),clientY:oa(a.pointers[c].clientY)},c++;return{timeStamp:qa(),pointers:b,center:E(b),deltaX:a.deltaX,deltaY:a.deltaY}}function E(a){var b=a.length;if(1===b)return{x:oa(a[0].clientX),y:oa(a[0].clientY)};for(var c=0,d=0,e=0;e<b;)c+=a[e].clientX,d+=a[e].clientY,e++;return{x:oa(c/b),y:oa(d/b)}}function F(a,b,c){return{x:b/a||0,y:c/a||0}}function G(a,b){return a===b?Da:pa(a)>=pa(b)?a<0?Ea:Fa:b<0?Ga:Ha}function H(a,b,c){c||(c=La);var d=b[c[0]]-a[c[0]],e=b[c[1]]-a[c[1]];return Math.sqrt(d*d+e*e)}function I(a,b,c){c||(c=La);var d=b[c[0]]-a[c[0]],e=b[c[1]]-a[c[1]];return 180*Math.atan2(e,d)/Math.PI}function J(a,b){return I(b[1],b[0],Ma)+I(a[1],a[0],Ma)}function K(a,b){return H(b[0],b[1],Ma)/H(a[0],a[1],Ma)}function L(){this.evEl=Oa,this.evWin=Pa,this.pressed=!1,x.apply(this,arguments)}function M(){this.evEl=Sa,this.evWin=Ta,x.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function N(){this.evTarget=Va,this.evWin=Wa,this.started=!1,x.apply(this,arguments)}function O(a,b){var c=s(a.touches),d=s(a.changedTouches);return b&(Ba|Ca)&&(c=t(c.concat(d),"identifier",!0)),[c,d]}function P(){this.evTarget=Ya,this.targetIds={},x.apply(this,arguments)}function Q(a,b){var c=s(a.touches),d=this.targetIds;if(b&(za|Aa)&&1===c.length)return d[c[0].identifier]=!0,[c,c];var e,f,g=s(a.changedTouches),h=[],i=this.target;if(f=c.filter(function(a){return o(a.target,i)}),b===za)for(e=0;e<f.length;)d[f[e].identifier]=!0,e++;for(e=0;e<g.length;)d[g[e].identifier]&&h.push(g[e]),b&(Ba|Ca)&&delete d[g[e].identifier],e++;return h.length?[t(f.concat(h),"identifier",!0),h]:void 0}function R(){x.apply(this,arguments);var a=j(this.handler,this);this.touch=new P(this.manager,a),this.mouse=new L(this.manager,a),this.primaryTouch=null,this.lastTouches=[]}function S(a,b){a&za?(this.primaryTouch=b.changedPointers[0].identifier,T.call(this,b)):a&(Ba|Ca)&&T.call(this,b)}function T(a){var b=a.changedPointers[0];if(b.identifier===this.primaryTouch){var c={x:b.clientX,y:b.clientY};this.lastTouches.push(c);var d=this.lastTouches,e=function a(){var b=d.indexOf(c);b>-1&&d.splice(b,1)};setTimeout(e,Za)}}function U(a){for(var b=a.srcEvent.clientX,c=a.srcEvent.clientY,d=0;d<this.lastTouches.length;d++){var e=this.lastTouches[d],f=Math.abs(b-e.x),g=Math.abs(c-e.y);if(f<=$a&&g<=$a)return!0}return!1}function V(a,b){this.manager=a,this.set(b)}function W(a){if(p(a,db))return db;var b=p(a,eb),c=p(a,fb);return b&&c?db:b||c?b?eb:fb:p(a,cb)?cb:bb}function X(a){this.options=ka({},this.defaults,a||{}),this.id=v(),this.manager=null,this.options.enable=l(this.options.enable,!0),this.state=ib,this.simultaneous={},this.requireFail=[]}function Y(a){return a&nb?"cancel":a&lb?"end":a&kb?"move":a&jb?"start":""}function Z(a){return a==Ha?"down":a==Ga?"up":a==Ea?"left":a==Fa?"right":""}function $(a,b){var c=b.manager;return c?c.get(a):a}function _(){X.apply(this,arguments)}function aa(){_.apply(this,arguments),this.pX=null,this.pY=null}function ba(){_.apply(this,arguments)}function ca(){X.apply(this,arguments),this._timer=null,this._input=null}function da(){_.apply(this,arguments)}function ea(){_.apply(this,arguments)}function fa(){X.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function ga(a,b){return b=b||{},b.recognizers=l(b.recognizers,ga.defaults.preset),new ha(a,b)}function ha(a,b){this.options=ka({},ga.defaults,b||{}),this.options.inputTarget=this.options.inputTarget||a,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=a,this.input=y(this),this.touchAction=new V(this,this.options.touchAction),ia(this,!0),g(this.options.recognizers,function(a){var b=this.add(new a[0](a[1]));a[2]&&b.recognizeWith(a[2]),a[3]&&b.requireFailure(a[3])},this)}function ia(a,b){var c=a.element;if(c.style){var d;g(a.options.cssProps,function(e,f){d=u(c.style,f),b?(a.oldCssProps[d]=c.style[d],c.style[d]=e):c.style[d]=a.oldCssProps[d]||""}),b||(a.oldCssProps={})}}function ja(a,c){var d=b.createEvent("Event");d.initEvent(a,!0,!0),d.gesture=c,c.target.dispatchEvent(d)}var ka,la=["","webkit","Moz","MS","ms","o"],ma=b.createElement("div"),na="function",oa=Math.round,pa=Math.abs,qa=Date.now;ka="function"!=typeof Object.assign?function a(b){if(b===d||null===b)throw new TypeError("Cannot convert undefined or null to object");for(var c=Object(b),e=1;e<arguments.length;e++){var f=arguments[e];if(f!==d&&null!==f)for(var g in f)f.hasOwnProperty(g)&&(c[g]=f[g])}return c}:Object.assign;var ra=h(function a(b,c,e){for(var f=Object.keys(c),g=0;g<f.length;)(!e||e&&b[f[g]]===d)&&(b[f[g]]=c[f[g]]),g++;return b},"extend","Use `assign`."),sa=h(function a(b,c){return ra(b,c,!0)},"merge","Use `assign`."),ta=1,ua=/mobile|tablet|ip(ad|hone|od)|android/i,va="ontouchstart"in a,wa=u(a,"PointerEvent")!==d,xa=va&&ua.test(navigator.userAgent),ya=25,za=1,Aa=2,Ba=4,Ca=8,Da=1,Ea=2,Fa=4,Ga=8,Ha=16,Ia=Ea|Fa,Ja=Ga|Ha,Ka=Ia|Ja,La=["x","y"],Ma=["clientX","clientY"];x.prototype={handler:function a(){},init:function a(){this.evEl&&m(this.element,this.evEl,this.domHandler),this.evTarget&&m(this.target,this.evTarget,this.domHandler),this.evWin&&m(w(this.element),this.evWin,this.domHandler)},destroy:function a(){this.evEl&&n(this.element,this.evEl,this.domHandler),this.evTarget&&n(this.target,this.evTarget,this.domHandler),this.evWin&&n(w(this.element),this.evWin,this.domHandler)}};var Na={mousedown:za,mousemove:Aa,mouseup:Ba},Oa="mousedown",Pa="mousemove mouseup";i(L,x,{handler:function a(b){var c=Na[b.type];c&za&&0===b.button&&(this.pressed=!0),c&Aa&&1!==b.which&&(c=Ba),this.pressed&&(c&Ba&&(this.pressed=!1),this.callback(this.manager,c,{pointers:[b],changedPointers:[b],pointerType:"mouse",srcEvent:b}))}});var Qa={pointerdown:za,pointermove:Aa,pointerup:Ba,pointercancel:Ca,pointerout:Ca},Ra={2:"touch",3:"pen",4:"mouse",5:"kinect"},Sa="pointerdown",Ta="pointermove pointerup pointercancel";a.MSPointerEvent&&!a.PointerEvent&&(Sa="MSPointerDown",Ta="MSPointerMove MSPointerUp MSPointerCancel"),i(M,x,{handler:function a(b){var c=this.store,d=!1,e=b.type.toLowerCase().replace("ms",""),f=Qa[e],g=Ra[b.pointerType]||b.pointerType,h="touch"==g,i=r(c,b.pointerId,"pointerId");f&za&&(0===b.button||h)?i<0&&(c.push(b),i=c.length-1):f&(Ba|Ca)&&(d=!0),i<0||(c[i]=b,this.callback(this.manager,f,{pointers:c,changedPointers:[b],pointerType:g,srcEvent:b}),d&&c.splice(i,1))}});var Ua={touchstart:za,touchmove:Aa,touchend:Ba,touchcancel:Ca},Va="touchstart",Wa="touchstart touchmove touchend touchcancel";i(N,x,{handler:function a(b){var c=Ua[b.type];if(c===za&&(this.started=!0),this.started){var d=O.call(this,b,c);c&(Ba|Ca)&&d[0].length-d[1].length==0&&(this.started=!1),this.callback(this.manager,c,{pointers:d[0],changedPointers:d[1],pointerType:"touch",srcEvent:b})}}});var Xa={touchstart:za,touchmove:Aa,touchend:Ba,touchcancel:Ca},Ya="touchstart touchmove touchend touchcancel";i(P,x,{handler:function a(b){var c=Xa[b.type],d=Q.call(this,b,c);d&&this.callback(this.manager,c,{pointers:d[0],changedPointers:d[1],pointerType:"touch",srcEvent:b})}});var Za=2500,$a=25;i(R,x,{handler:function a(b,c,d){var e="touch"==d.pointerType,f="mouse"==d.pointerType;if(!(f&&d.sourceCapabilities&&d.sourceCapabilities.firesTouchEvents)){if(e)S.call(this,c,d);else if(f&&U.call(this,d))return;this.callback(b,c,d)}},destroy:function a(){this.touch.destroy(),this.mouse.destroy()}});var _a=u(ma.style,"touchAction"),ab=_a!==d,bb="auto",cb="manipulation",db="none",eb="pan-x",fb="pan-y",gb=function hb(){if(!ab)return!1;var b={},c=a.CSS&&a.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(d){b[d]=!c||a.CSS.supports("touch-action",d)}),b}();V.prototype={set:function a(b){"compute"==b&&(b=this.compute()),ab&&this.manager.element.style&&gb[b]&&(this.manager.element.style[_a]=b),this.actions=b.toLowerCase().trim()},update:function a(){this.set(this.manager.options.touchAction)},compute:function a(){var b=[];return g(this.manager.recognizers,function(a){k(a.options.enable,[a])&&(b=b.concat(a.getTouchAction()))}),W(b.join(" "))},preventDefaults:function a(b){var c=b.srcEvent,d=b.offsetDirection;if(this.manager.session.prevented)return void c.preventDefault();var e=this.actions,f=p(e,db)&&!gb[db],g=p(e,fb)&&!gb[fb],h=p(e,eb)&&!gb[eb];if(f){var i=1===b.pointers.length,j=b.distance<2,k=b.deltaTime<250;if(i&&j&&k)return}return h&&g?void 0:f||g&&d&Ia||h&&d&Ja?this.preventSrc(c):void 0},preventSrc:function a(b){this.manager.session.prevented=!0,b.preventDefault()}};var ib=1,jb=2,kb=4,lb=8,mb=lb,nb=16;X.prototype={defaults:{},set:function a(b){return ka(this.options,b),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function a(b){if(f(b,"recognizeWith",this))return this;var c=this.simultaneous;return b=$(b,this),c[b.id]||(c[b.id]=b,b.recognizeWith(this)),this},dropRecognizeWith:function a(b){return f(b,"dropRecognizeWith",this)?this:(b=$(b,this),delete this.simultaneous[b.id],this)},requireFailure:function a(b){if(f(b,"requireFailure",this))return this;var c=this.requireFail;return b=$(b,this),-1===r(c,b)&&(c.push(b),b.requireFailure(this)),this},dropRequireFailure:function a(b){if(f(b,"dropRequireFailure",this))return this;b=$(b,this);var c=r(this.requireFail,b);return c>-1&&this.requireFail.splice(c,1),this},hasRequireFailures:function a(){return this.requireFail.length>0},canRecognizeWith:function a(b){return!!this.simultaneous[b.id]},emit:function a(b){function a(a){c.manager.emit(a,b)}var c=this,d=this.state;d<lb&&a(c.options.event+Y(d)),a(c.options.event),b.additionalEvent&&a(b.additionalEvent),d>=lb&&a(c.options.event+Y(d))},tryEmit:function a(b){if(this.canEmit())return this.emit(b);this.state=32},canEmit:function a(){for(var b=0;b<this.requireFail.length;){if(!(this.requireFail[b].state&(32|ib)))return!1;b++}return!0},recognize:function a(b){var c=ka({},b);if(!k(this.options.enable,[this,c]))return this.reset(),void(this.state=32);this.state&(mb|nb|32)&&(this.state=ib),this.state=this.process(c),this.state&(jb|kb|lb|nb)&&this.tryEmit(c)},process:function a(b){},getTouchAction:function a(){},reset:function a(){}},i(_,X,{defaults:{pointers:1},attrTest:function a(b){var c=this.options.pointers;return 0===c||b.pointers.length===c},process:function a(b){var c=this.state,d=b.eventType,e=c&(jb|kb),f=this.attrTest(b);return e&&(d&Ca||!f)?c|nb:e||f?d&Ba?c|lb:c&jb?c|kb:jb:32}}),i(aa,_,{defaults:{event:"pan",threshold:10,pointers:1,direction:Ka},getTouchAction:function a(){var b=this.options.direction,c=[];return b&Ia&&c.push(fb),b&Ja&&c.push(eb),c},directionTest:function a(b){var c=this.options,d=!0,e=b.distance,f=b.direction,g=b.deltaX,h=b.deltaY;return f&c.direction||(c.direction&Ia?(f=0===g?Da:g<0?Ea:Fa,d=g!=this.pX,e=Math.abs(b.deltaX)):(f=0===h?Da:h<0?Ga:Ha,d=h!=this.pY,e=Math.abs(b.deltaY))),b.direction=f,d&&e>c.threshold&&f&c.direction},attrTest:function a(b){return _.prototype.attrTest.call(this,b)&&(this.state&jb||!(this.state&jb)&&this.directionTest(b))},emit:function a(b){this.pX=b.deltaX,this.pY=b.deltaY;var c=Z(b.direction);c&&(b.additionalEvent=this.options.event+c),this._super.emit.call(this,b)}}),i(ba,_,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function a(){return[db]},attrTest:function a(b){return this._super.attrTest.call(this,b)&&(Math.abs(b.scale-1)>this.options.threshold||this.state&jb)},emit:function a(b){if(1!==b.scale){var c=b.scale<1?"in":"out";b.additionalEvent=this.options.event+c}this._super.emit.call(this,b)}}),i(ca,X,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function a(){return[bb]},process:function a(b){var c=this.options,d=b.pointers.length===c.pointers,f=b.distance<c.threshold,g=b.deltaTime>c.time;if(this._input=b,!f||!d||b.eventType&(Ba|Ca)&&!g)this.reset();else if(b.eventType&za)this.reset(),this._timer=e(function(){this.state=mb,this.tryEmit()},c.time,this);else if(b.eventType&Ba)return mb;return 32},reset:function a(){clearTimeout(this._timer)},emit:function a(b){this.state===mb&&(b&&b.eventType&Ba?this.manager.emit(this.options.event+"up",b):(this._input.timeStamp=qa(),this.manager.emit(this.options.event,this._input)))}}),i(da,_,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function a(){return[db]},attrTest:function a(b){return this._super.attrTest.call(this,b)&&(Math.abs(b.rotation)>this.options.threshold||this.state&jb)}}),i(ea,_,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Ia|Ja,pointers:1},getTouchAction:function a(){return aa.prototype.getTouchAction.call(this)},attrTest:function a(b){var c,d=this.options.direction;return d&(Ia|Ja)?c=b.overallVelocity:d&Ia?c=b.overallVelocityX:d&Ja&&(c=b.overallVelocityY),this._super.attrTest.call(this,b)&&d&b.offsetDirection&&b.distance>this.options.threshold&&b.maxPointers==this.options.pointers&&pa(c)>this.options.velocity&&b.eventType&Ba},emit:function a(b){var c=Z(b.offsetDirection);c&&this.manager.emit(this.options.event+c,b),this.manager.emit(this.options.event,b)}}),i(fa,X,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function a(){return[cb]},process:function a(b){var c=this.options,d=b.pointers.length===c.pointers,f=b.distance<c.threshold,g=b.deltaTime<c.time;if(this.reset(),b.eventType&za&&0===this.count)return this.failTimeout();if(f&&g&&d){if(b.eventType!=Ba)return this.failTimeout();var h=!this.pTime||b.timeStamp-this.pTime<c.interval,i=!this.pCenter||H(this.pCenter,b.center)<c.posThreshold;this.pTime=b.timeStamp,this.pCenter=b.center,i&&h?this.count+=1:this.count=1,this._input=b;if(0===this.count%c.taps)return this.hasRequireFailures()?(this._timer=e(function(){this.state=mb,this.tryEmit()},c.interval,this),jb):mb}return 32},failTimeout:function a(){return this._timer=e(function(){this.state=32},this.options.interval,this),32},reset:function a(){clearTimeout(this._timer)},emit:function a(){this.state==mb&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),ga.VERSION="2.0.8",ga.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[da,{enable:!1}],[ba,{enable:!1},["rotate"]],[ea,{direction:Ia}],[aa,{direction:Ia},["swipe"]],[fa],[fa,{event:"doubletap",taps:2},["tap"]],[ca]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};ha.prototype={set:function a(b){return ka(this.options,b),b.touchAction&&this.touchAction.update(),b.inputTarget&&(this.input.destroy(),this.input.target=b.inputTarget,this.input.init()),this},stop:function a(b){this.session.stopped=b?2:1},recognize:function a(b){var c=this.session;if(!c.stopped){this.touchAction.preventDefaults(b);var d,e=this.recognizers,f=c.curRecognizer;(!f||f&&f.state&mb)&&(f=c.curRecognizer=null);for(var g=0;g<e.length;)d=e[g],2===c.stopped||f&&d!=f&&!d.canRecognizeWith(f)?d.reset():d.recognize(b),!f&&d.state&(jb|kb|lb)&&(f=c.curRecognizer=d),g++}},get:function a(b){if(b instanceof X)return b;for(var c=this.recognizers,d=0;d<c.length;d++)if(c[d].options.event==b)return c[d];return null},add:function a(b){if(f(b,"add",this))return this;var c=this.get(b.options.event);return c&&this.remove(c),this.recognizers.push(b),b.manager=this,this.touchAction.update(),b},remove:function a(b){if(f(b,"remove",this))return this;if(b=this.get(b)){var c=this.recognizers,d=r(c,b);-1!==d&&(c.splice(d,1),this.touchAction.update())}return this},on:function a(b,c){if(b!==d&&c!==d){var e=this.handlers;return g(q(b),function(a){e[a]=e[a]||[],e[a].push(c)}),this}},off:function a(b,c){if(b!==d){var e=this.handlers;return g(q(b),function(a){c?e[a]&&e[a].splice(r(e[a],c),1):delete e[a]}),this}},emit:function a(b,c){this.options.domEvents&&ja(b,c);var d=this.handlers[b]&&this.handlers[b].slice();if(d&&d.length){c.type=b,c.preventDefault=function(){c.srcEvent.preventDefault()};for(var e=0;e<d.length;)d[e](c),e++}},destroy:function a(){this.element&&ia(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},ka(ga,{INPUT_START:za,INPUT_MOVE:Aa,INPUT_END:Ba,INPUT_CANCEL:Ca,STATE_POSSIBLE:ib,STATE_BEGAN:jb,STATE_CHANGED:kb,STATE_ENDED:lb,STATE_RECOGNIZED:mb,STATE_CANCELLED:nb,STATE_FAILED:32,DIRECTION_NONE:Da,DIRECTION_LEFT:Ea,DIRECTION_RIGHT:Fa,DIRECTION_UP:Ga,DIRECTION_DOWN:Ha,DIRECTION_HORIZONTAL:Ia,DIRECTION_VERTICAL:Ja,DIRECTION_ALL:Ka,Manager:ha,Input:x,TouchAction:V,TouchInput:P,MouseInput:L,PointerEventInput:M,TouchMouseInput:R,SingleTouchInput:N,Recognizer:X,AttrRecognizer:_,Tap:fa,Pan:aa,Swipe:ea,Pinch:ba,Rotate:da,Press:ca,on:m,off:n,each:g,merge:sa,extend:ra,assign:ka,inherit:i,bindFn:j,prefixed:u}),(void 0!==a?a:"undefined"!=typeof self?self:{}).Hammer=ga,"function"==typeof define&&define.amd?define(function(){return ga}):"undefined"!=typeof module&&module.exports?module.exports=ga:a.Hammer=ga}(window,document),function(a){"function"==typeof define&&define.amd?define(["jquery","hammerjs"],a):"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?a(require("jquery"),require("hammerjs")):a($jq,Hammer)}(function(a,b){function c(c,d){var e=a(c);e.data("hammer")||e.data("hammer",new b(e[0],d))}a.fn.hammer=function(a){return this.each(function(){c(this,a)})},b.Manager.prototype.emit=function(b){return function(c,d){b.call(this,c,d),a(this.element).trigger({type:c,gesture:d})}}(b.Manager.prototype.emit)}),function(a,b){"use strict";var c;if("object"==("undefined"==typeof exports?"undefined":_typeof(exports))){try{c=require("moment")}catch(a){}module.exports=b(c)}else"function"==typeof define&&define.amd?define(function(a){try{c=a("moment")}catch(a){}return b(c)}):a.Pikaday=b(a.moment)}(this,function(a){"use strict";var b="function"==typeof a,c=!!window.addEventListener,d=window.document,e=window.setTimeout,f=function a(b,d,e,f){c?b.addEventListener(d,e,!!f):b.attachEvent("on"+d,e)},g=function a(b,d,e,f){c?b.removeEventListener(d,e,!!f):b.detachEvent("on"+d,e)},h=function a(b,c,e){var f;d.createEvent?(f=d.createEvent("HTMLEvents"),f.initEvent(c,!0,!1),f=t(f,e),b.dispatchEvent(f)):d.createEventObject&&(f=d.createEventObject(),f=t(f,e),b.fireEvent("on"+c,f))},i=function a(b){return b.trim?b.trim():b.replace(/^\s+|\s+$/g,"")},j=function a(b,c){return-1!==(" "+b.className+" ").indexOf(" "+c+" ")},k=function a(b,c){j(b,c)||(b.className=""===b.className?c:b.className+" "+c)},l=function a(b,c){b.className=i((" "+b.className+" ").replace(" "+c+" "," "))},m=function a(b){return/Array/.test(Object.prototype.toString.call(b))},n=function a(b){return/Date/.test(Object.prototype.toString.call(b))&&!isNaN(b.getTime())},o=function a(b){var c=b.getDay();return 0===c||6===c},p=function a(b){return b%4==0&&b%100!=0||b%400==0},q=function a(b,c){return[31,p(b)?29:28,31,30,31,30,31,31,30,31,30,31][c]},r=function a(b){n(b)&&b.setHours(0,0,0,0)},s=function a(b,c){return b.getTime()===c.getTime()},t=function a(b,c,d){var e,f;for(e in c)f=void 0!==b[e],f&&"object"==_typeof(c[e])&&null!==c[e]&&void 0===c[e].nodeName?n(c[e])?d&&(b[e]=new Date(c[e].getTime())):m(c[e])?d&&(b[e]=c[e].slice(0)):b[e]=a({},c[e],d):(d||!f)&&(b[e]=c[e]);return b},u=function a(b){return b.month<0&&(b.year-=Math.ceil(Math.abs(b.month)/12),b.month+=12),b.month>11&&(b.year+=Math.floor(Math.abs(b.month)/12),b.month-=12),b},v={field:null,bound:void 0,position:"bottom left",reposition:!0,format:"YYYY-MM-DD",defaultDate:null,setDefaultDate:!1,firstDay:0,formatStrict:!1,minDate:null,maxDate:null,yearRange:10,showWeekNumber:!1,minYear:0,maxYear:9999,minMonth:void 0,maxMonth:void 0,startRange:null,endRange:null,isRTL:!1,yearSuffix:"",showMonthAfterYear:!1,showDaysInNextAndPreviousMonths:!1,numberOfMonths:1,mainCalendar:"left",container:void 0,i18n:{previousMonth:"Previous Month",nextMonth:"Next Month",months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},theme:null,onSelect:null,onOpen:null,onClose:null,onDraw:null},w=function a(b,c,d){for(c+=b.firstDay;c>=7;)c-=7;return d?b.i18n.weekdaysShort[c]:b.i18n.weekdays[c]},x=function a(b){var c=[],d="false";if(b.isEmpty){if(!b.showDaysInNextAndPreviousMonths)return'<td class="is-empty"></td>';c.push("is-outside-current-month")}return b.isDisabled&&c.push("is-disabled"),b.isToday&&c.push("is-today"),b.isSelected&&(c.push("is-selected"),d="true"),b.isInRange&&c.push("is-inrange"),b.isStartRange&&c.push("is-startrange"),b.isEndRange&&c.push("is-endrange"),'<td data-day="'+b.day+'" class="'+c.join(" ")+'" aria-selected="'+d+'"><button class="pika-button pika-day" type="button" data-pika-year="'+b.year+'" data-pika-month="'+b.month+'" data-pika-day="'+b.day+'">'+b.day+"</button></td>"},y=function a(b,c,d){var e=new Date(d,0,1);return'<td class="pika-week">'+Math.ceil(((new Date(d,c,b)-e)/864e5+e.getDay()+1)/7)+"</td>"},z=function a(b,c){return"<tr>"+(c?b.reverse():b).join("")+"</tr>"},A=function a(b){return"<tbody>"+b.join("")+"</tbody>"},B=function a(b){var c,d=[];for(b.showWeekNumber&&d.push("<th></th>"),c=0;7>c;c++)d.push('<th scope="col"><abbr title="'+w(b,c)+'">'+w(b,c,!0)+"</abbr></th>");return"<thead><tr>"+(b.isRTL?d.reverse():d).join("")+"</tr></thead>"},C=function a(b,c,d,e,f,g){var h,i,j,k,l,n=b._o,o=d===n.minYear,p=d===n.maxYear,q='<div id="'+g+'" class="pika-title" role="heading" aria-live="assertive">',r=!0,s=!0;for(j=[],h=0;12>h;h++)j.push('<option value="'+(d===f?h-c:12+h-c)+'"'+(h===e?' selected="selected"':"")+(o&&h<n.minMonth||p&&h>n.maxMonth?'disabled="disabled"':"")+">"+n.i18n.months[h]+"</option>");for(k='<div class="pika-label">'+n.i18n.months[e]+'<select class="pika-select pika-select-month" tabindex="-1">'+j.join("")+"</select></div>",m(n.yearRange)?(h=n.yearRange[0],i=n.yearRange[1]+1):(h=d-n.yearRange,i=1+d+n.yearRange),j=[];i>h&&h<=n.maxYear;h++)h<n.minYear||j.push('<option value="'+h+'"'+(h===d?' selected="selected"':"")+">"+h+"</option>");return l='<div class="pika-label">'+d+n.yearSuffix+'<select class="pika-select pika-select-year" tabindex="-1">'+j.join("")+"</select></div>",q+=n.showMonthAfterYear?l+k:k+l,!o||0!==e&&n.minMonth<e||(r=!1),!p||11!==e&&n.maxMonth>e||(s=!1),0===c&&(q+='<button class="pika-prev'+(r?"":" is-disabled")+'" type="button">'+n.i18n.previousMonth+"</button>"),c===b._o.numberOfMonths-1&&(q+='<button class="pika-next'+(s?"":" is-disabled")+'" type="button">'+n.i18n.nextMonth+"</button>"),q+="</div>"},D=function a(b,c,d){return'<table cellpadding="0" cellspacing="0" class="pika-table" role="grid" aria-labelledby="'+d+'">'+B(b)+A(c)+"</table>"},E=function g(h){var i=this,k=i.config(h);i._onMouseDown=function(a){if(i._v){a=a||window.event;var b=a.target||a.srcElement;if(b)if(j(b,"is-disabled")||(!j(b,"pika-button")||j(b,"is-empty")||j(b.parentNode,"is-disabled")?j(b,"pika-prev")?i.prevMonth():j(b,"pika-next")&&i.nextMonth():(i.setDate(new Date(b.getAttribute("data-pika-year"),b.getAttribute("data-pika-month"),b.getAttribute("data-pika-day"))),k.bound&&e(function(){i.hide(),k.field&&k.field.blur()},100))),j(b,"pika-select"))i._c=!0;else{if(!a.preventDefault)return a.returnValue=!1,!1;a.preventDefault()}}},i._onChange=function(a){a=a||window.event;var b=a.target||a.srcElement;b&&(j(b,"pika-select-month")?i.gotoMonth(b.value):j(b,"pika-select-year")&&i.gotoYear(b.value))},i._onKeyChange=function(a){if(a=a||window.event,i.isVisible())switch(a.keyCode){case 13:case 27:k.field.blur();break;case 37:a.preventDefault(),i.adjustDate("subtract",1);break;case 38:i.adjustDate("subtract",7);break;case 39:i.adjustDate("add",1);break;case 40:i.adjustDate("add",7)}},i._onInputChange=function(c){var d;c.firedBy!==i&&(b?(d=a(k.field.value,k.format,k.formatStrict),d=d&&d.isValid()?d.toDate():null):d=new Date(Date.parse(k.field.value)),n(d)&&i.setDate(d),i._v||i.show())},i._onInputFocus=function(){i.show()},i._onInputClick=function(){i.show()},i._onInputBlur=function(){var a=d.activeElement;do{if(j(a,"pika-single"))return}while(a=a.parentNode);i._c||(i._b=e(function(){i.hide()},50)),i._c=!1},i._onClick=function(a){a=a||window.event;var b=a.target||a.srcElement,d=b;if(b){!c&&j(b,"pika-select")&&(b.onchange||(b.setAttribute("onchange","return;"),f(b,"change",i._onChange)));do{if(j(d,"pika-single")||d===k.trigger)return}while(d=d.parentNode);i._v&&b!==k.trigger&&d!==k.trigger&&i.hide()}},i.el=d.createElement("div"),i.el.className="pika-single"+(k.isRTL?" is-rtl":"")+(k.theme?" "+k.theme:""),f(i.el,"mousedown",i._onMouseDown,!0),f(i.el,"touchend",i._onMouseDown,!0),f(i.el,"change",i._onChange),f(d,"keydown",i._onKeyChange),k.field&&(k.container?k.container.appendChild(i.el):k.bound?d.body.appendChild(i.el):k.field.parentNode.insertBefore(i.el,k.field.nextSibling),f(k.field,"change",i._onInputChange),k.defaultDate||(k.defaultDate=b&&k.field.value?a(k.field.value,k.format).toDate():new Date(Date.parse(k.field.value)),k.setDefaultDate=!0));var l=k.defaultDate;n(l)?k.setDefaultDate?i.setDate(l,!0):i.gotoDate(l):i.gotoDate(new Date),k.bound?(this.hide(),i.el.className+=" is-bound",f(k.trigger,"click",i._onInputClick),f(k.trigger,"focus",i._onInputFocus),f(k.trigger,"blur",i._onInputBlur)):this.show()};return E.prototype={config:function a(b){this._o||(this._o=t({},v,!0));var c=t(this._o,b,!0);c.isRTL=!!c.isRTL,c.field=c.field&&c.field.nodeName?c.field:null,c.theme="string"==typeof c.theme&&c.theme?c.theme:null,c.bound=!!(void 0!==c.bound?c.field&&c.bound:c.field),c.trigger=c.trigger&&c.trigger.nodeName?c.trigger:c.field,c.disableWeekends=!!c.disableWeekends,c.disableDayFn="function"==typeof c.disableDayFn?c.disableDayFn:null;var d=parseInt(c.numberOfMonths,10)||1;if(c.numberOfMonths=d>4?4:d,n(c.minDate)||(c.minDate=!1),n(c.maxDate)||(c.maxDate=!1),c.minDate&&c.maxDate&&c.maxDate<c.minDate&&(c.maxDate=c.minDate=!1),c.minDate&&this.setMinDate(c.minDate),c.maxDate&&this.setMaxDate(c.maxDate),m(c.yearRange)){var e=(new Date).getFullYear()-10;c.yearRange[0]=parseInt(c.yearRange[0],10)||e,c.yearRange[1]=parseInt(c.yearRange[1],10)||e}else c.yearRange=Math.abs(parseInt(c.yearRange,10))||v.yearRange,c.yearRange>100&&(c.yearRange=100);return c},toString:function c(d){return n(this._d)?b?a(this._d).format(d||this._o.format):this._d.toDateString():""},getMoment:function c(){return b?a(this._d):null},setMoment:function c(d,e){b&&a.isMoment(d)&&this.setDate(d.toDate(),e)},getDate:function a(){return n(this._d)?new Date(this._d.getTime()):new Date},setDate:function a(b,c){if(!b)return this._d=null,this._o.field&&(this._o.field.value="",h(this._o.field,"change",{firedBy:this})),this.draw();if("string"==typeof b&&(b=new Date(Date.parse(b))),n(b)){var d=this._o.minDate,e=this._o.maxDate;n(d)&&d>b?b=d:n(e)&&b>e&&(b=e),this._d=new Date(b.getTime()),r(this._d),this.gotoDate(this._d),this._o.field&&(this._o.field.value=""+this,h(this._o.field,"change",{firedBy:this})),c||"function"!=typeof this._o.onSelect||this._o.onSelect.call(this,this.getDate())}},gotoDate:function a(b){var c=!0;if(n(b)){if(this.calendars){var d=new Date(this.calendars[0].year,this.calendars[0].month,1),e=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1),f=b.getTime();e.setMonth(e.getMonth()+1),e.setDate(e.getDate()-1),c=f<d.getTime()||e.getTime()<f}c&&(this.calendars=[{month:b.getMonth(),year:b.getFullYear()}],"right"===this._o.mainCalendar&&(this.calendars[0].month+=1-this._o.numberOfMonths)),this.adjustCalendars()}},adjustDate:function c(d,e){var f,g=this.getDate(),h=24*parseInt(e)*60*60*1e3;"add"===d?f=new Date(g.valueOf()+h):"subtract"===d&&(f=new Date(g.valueOf()-h)),b&&("add"===d?f=a(g).add(e,"days").toDate():"subtract"===d&&(f=a(g).subtract(e,"days").toDate())),this.setDate(f)},adjustCalendars:function a(){this.calendars[0]=u(this.calendars[0]);for(var b=1;b<this._o.numberOfMonths;b++)this.calendars[b]=u({month:this.calendars[0].month+b,year:this.calendars[0].year});this.draw()},
gotoToday:function a(){this.gotoDate(new Date)},gotoMonth:function a(b){isNaN(b)||(this.calendars[0].month=parseInt(b,10),this.adjustCalendars())},nextMonth:function a(){this.calendars[0].month++,this.adjustCalendars()},prevMonth:function a(){this.calendars[0].month--,this.adjustCalendars()},gotoYear:function a(b){isNaN(b)||(this.calendars[0].year=parseInt(b,10),this.adjustCalendars())},setMinDate:function a(b){b instanceof Date?(r(b),this._o.minDate=b,this._o.minYear=b.getFullYear(),this._o.minMonth=b.getMonth()):(this._o.minDate=v.minDate,this._o.minYear=v.minYear,this._o.minMonth=v.minMonth,this._o.startRange=v.startRange),this.draw()},setMaxDate:function a(b){b instanceof Date?(r(b),this._o.maxDate=b,this._o.maxYear=b.getFullYear(),this._o.maxMonth=b.getMonth()):(this._o.maxDate=v.maxDate,this._o.maxYear=v.maxYear,this._o.maxMonth=v.maxMonth,this._o.endRange=v.endRange),this.draw()},setStartRange:function a(b){this._o.startRange=b},setEndRange:function a(b){this._o.endRange=b},draw:function a(b){if(this._v||b){var c,d=this._o,f=d.minYear,g=d.maxYear,h=d.minMonth,i=d.maxMonth,j="";this._y>f||(this._y=f,!isNaN(h)&&this._m<h&&(this._m=h)),this._y<g||(this._y=g,!isNaN(i)&&this._m>i&&(this._m=i)),c="pika-title-"+Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,2);for(var k=0;k<d.numberOfMonths;k++)j+='<div class="pika-lendar">'+C(this,k,this.calendars[k].year,this.calendars[k].month,this.calendars[0].year,c)+this.render(this.calendars[k].year,this.calendars[k].month,c)+"</div>";this.el.innerHTML=j,d.bound&&"hidden"!==d.field.type&&e(function(){d.trigger.focus()},1),"function"==typeof this._o.onDraw&&this._o.onDraw(this),d.bound&&d.field.setAttribute("aria-label","Use the arrow keys to pick a date")}},adjustPosition:function a(){var b,c,e,f,g,h,i,j,k,l;if(!this._o.container){if(this.el.style.position="absolute",b=this._o.trigger,c=b,e=this.el.offsetWidth,f=this.el.offsetHeight,g=window.innerWidth||d.documentElement.clientWidth,h=window.innerHeight||d.documentElement.clientHeight,i=window.pageYOffset||d.body.scrollTop||d.documentElement.scrollTop,"function"==typeof b.getBoundingClientRect)l=b.getBoundingClientRect(),j=l.left+window.pageXOffset,k=l.bottom+window.pageYOffset;else for(j=c.offsetLeft,k=c.offsetTop+c.offsetHeight;c=c.offsetParent;)j+=c.offsetLeft,k+=c.offsetTop;(this._o.reposition&&j+e>g||this._o.position.indexOf("right")>-1&&j-e+b.offsetWidth>0)&&(j=j-e+b.offsetWidth),(this._o.reposition&&k+f>h+i||this._o.position.indexOf("top")>-1&&k-f-b.offsetHeight>0)&&(k=k-f-b.offsetHeight),this.el.style.left=j+"px",this.el.style.top=k+"px"}},render:function a(b,c,d){var e=this._o,f=new Date,g=q(b,c),h=new Date(b,c,1).getDay(),i=[],j=[];r(f),e.firstDay>0&&0>(h-=e.firstDay)&&(h+=7);for(var k=0===c?11:c-1,l=11===c?0:c+1,m=0===c?b-1:b,p=11===c?b+1:b,t=q(m,k),u=g+h,v=u;v>7;)v-=7;u+=7-v;for(var w=0,A=0;u>w;w++){var B=new Date(b,c,w-h+1),C=!!n(this._d)&&s(B,this._d),E=s(B,f),F=h>w||w>=g+h,G=w-h+1,H=c,I=b,J=e.startRange&&s(e.startRange,B),K=e.endRange&&s(e.endRange,B),L=e.startRange&&e.endRange&&e.startRange<B&&B<e.endRange,M=e.minDate&&B<e.minDate||e.maxDate&&B>e.maxDate||e.disableWeekends&&o(B)||e.disableDayFn&&e.disableDayFn(B);F&&(h>w?(G=t+G,H=k,I=m):(G-=g,H=l,I=p));var N={day:G,month:H,year:I,isSelected:C,isToday:E,isDisabled:M,isEmpty:F,isStartRange:J,isEndRange:K,isInRange:L,showDaysInNextAndPreviousMonths:e.showDaysInNextAndPreviousMonths};j.push(x(N)),7==++A&&(e.showWeekNumber&&j.unshift(y(w-h,c,b)),i.push(z(j,e.isRTL)),j=[],A=0)}return D(e,i,d)},isVisible:function a(){return this._v},show:function a(){this.isVisible()||(l(this.el,"is-hidden"),this._v=!0,this.draw(),this._o.bound&&(f(d,"click",this._onClick),this.adjustPosition()),"function"==typeof this._o.onOpen&&this._o.onOpen.call(this))},hide:function a(){var b=this._v;!1!==b&&(this._o.bound&&g(d,"click",this._onClick),this.el.style.position="static",this.el.style.left="auto",this.el.style.top="auto",k(this.el,"is-hidden"),this._v=!1,void 0!==b&&"function"==typeof this._o.onClose&&this._o.onClose.call(this))},destroy:function a(){this.hide(),g(this.el,"mousedown",this._onMouseDown,!0),g(this.el,"touchend",this._onMouseDown,!0),g(this.el,"change",this._onChange),this._o.field&&(g(this._o.field,"change",this._onInputChange),this._o.bound&&(g(this._o.trigger,"click",this._onInputClick),g(this._o.trigger,"focus",this._onInputFocus),g(this._o.trigger,"blur",this._onInputBlur))),this.el.parentNode&&this.el.parentNode.removeChild(this.el)}},E}),function(){$jq.fn.extend({enter:function a(b){return this.on("keydown",function(a){"Enter"===a.key&&(b.call(this),a.preventDefault())}),this},space:function a(b){return this.on("keydown",function(a){" "!==a.key&&"Spacebar"!==a.key||(b.call(this),a.preventDefault())}),this},enterSpace:function a(b){return this.on("keydown",function(a){"Enter"!==a.key&&" "!==a.key&&"Spacebar"!==a.key||(b.call(this),a.preventDefault())}),this},escape:function a(b){return this.on("keydown",function(a){"Escape"!==a.key&&"Esc"!==a.key||(b.call(this),a.preventDefault())}),this}})}();var Bose=Bose||{};Bose.Popup=function(){function a(){$jq(document).on("click",B.popupLink,d)}function b(a){if(0===a.indexOf("/"))return!0;var b=$jq(".bose-navBar__logo").attr("href");return 0===a.indexOf(b)}function c(a){var c=a;return b(a)&&-1===a.indexOf(".overlays")&&a.indexOf(".html")>-1&&(c=a.replace(".html",".overlays.html")),c}function d(){var a=$jq(this),b=$jq(B.buyLink),c=$jq(B.zoomContainer),d={};a.hasClass("bose-buttonLink--buy")&&(d.isBuyButton=!0),a.hasClass("bose-popupLink--fullWidth")&&(d.wrapCss="bose-popupInner--fullWidth"),a.hasClass("bose-popupLink--productDrawer")&&(a.hasClass("bose-popupLink--fullWidth")?d.wrapCss="bose-popupInner--fullWidth bose-popupInner--productDrawer":d.wrapCss="bose-popupInner--productDrawer",d.addExtraLogicProductDrawer=!0),d.onClose=function(){Bose.ButtonLink.removeProgressBar(a),Bose.ButtonLink.removeProgressBar(b),c.remove()},e(a.attr("data-popup-link"),d,void 0,function(){Bose.ButtonLink.removeProgressBar(a)})}function e(a,b,d,e){var g=c(a),h=b&&b.urlParameters?b.urlParameters:{},i=!(!b||!b.addExtraLogicProductDrawer)&&b.addExtraLogicProductDrawer;Bose.IconLoader.showIconLoaderPageOverlay(),$jq.ajax({type:"GET",url:g,data:h,success:function c(e){var g=$jq(e);Bose.IconLoader.removeIconLoaderPageOverlay(),i&&g.find(".bose-productDrawer").addClass("-inOverlay"),f(g,b),A(a),"function"==typeof d&&d()},error:function a(){Bose.IconLoader.removeIconLoaderPageOverlay(),"function"==typeof e&&e()}})}function f(a,b){var c=F++,d=a;E[c]=$jq.extend(D,b),E[c].cloneContent&&(d=d.clone(!0,!0));var e=h(d,c);if(void 0!==Bose.DataCapture&&Bose.DataCapture.isOpen()&&Bose.DataCapture.disable(),i(e,b),x(),b.isBuyButton){var f=e.find(B.ecommerce2ImageSlider);e.find(B.productPagePromotion).addClass("bose-promotion__onProductPage--hide"),e.find(B.overlayPromotion).addClass("bose-promotion__onOverlay--show"),e.find(B.container).addClass("bose-popup__container--ecommercePopup"),$jq(B.ecommercePopup).addClass("bose-popup__container--ecommerceBuyPopup"),$jq(B.inner).addClass("bose-popupBuyInner"),$jq(B.close).hide(),e.find(B.inner).removeClass("bose-popupInner--storeSelector js-storeSelector-popup"),e.find(B.eCommercectaArea).addClass("bose-ecommerceArea__ctaArea--onOverlay"),e.find(B.sliderNav).addClass("bose-sliderNavOnOverlay"),e.find(B.boseCta).addClass("bose-cta--onOverlay"),f.length?(Bose.productImageSlider2.init(),Bose.EcommerceArea2.init()):Bose.productImageSlider.init(),g(),Bose.PaypalBanner.init(),Bose.SocialMedia.init(),Bose.OnlineResellers.init(),Bose.ProductATP.init(),e.find(B.resellerButton).click(function(){Bose.WhereToBuy.loadResellers($jq(this))}),e.find(B.loadResellersFromHatch).click(function(){Bose.WhereToBuy.loadResellers($jq(this),"iceleads")})}else $jq(B.buyClose+","+B.buyCloseText+","+B.buyCloseMargin).hide();return q(),c}function g(){var a=$jq(B.productRatings).data("ratingsurl"),b=$jq(B.seeReview);b.length?b.attr("href",a):$jq(B.productRatingsContainer).attr("href",a)}function h(a,b){var c=E[b],d=$jq("<div/>",{class:"bose-popup",attr:{role:"dialog"},data:{"popup-id":b}}),e=$jq("<div/>",{class:"bose-popup__container"}),f=$jq("<div/>",{class:"bose-popupInner "+c.wrapCss}),g=$jq("<button/>",{class:"bose-popupClose",on:{click:m}}),h=$jq("<div/>",{class:"bose-popupBuyClose",on:{click:n}}),i=$jq("<div/>",{class:"bose-popupBuyCloseText",on:{click:n},attr:{tabIndex:0,id:"backButton",role:"button"}}),j=$jq("<div/>",{class:"bose-popupBuyCloseMargin"}),k={closeLabel:Bose.Translation.getSiteTranslation("Close")};return d.append(e),e.append(f),f.append("<a href='#' class='bose-popup__hiddenField' id='buyBtnHiddenDiv' role='button'></a>"),f.append(h),f.append(i),f.append(j),g.append(nano('<span class="bose-screenReaderText">{closeLabel}</span>',k)),void 0!==Bose.Translation&&i.html(Bose.Translation.getSiteTranslation("Back").toUpperCase()),c.showClose&&f.append(g),f.append(a),d.attr("aria-describedby",c.describedBy||"dialog"),d.attr("aria-labelledby",c.labelledBy||""),d}function i(a,b){var c=Gridle.isActive("small")?750:1e3,d=b.isBuyButton,e=b.isStoreSelector;$jq("body").append(a),d?a.css({left:1.4*screen.width,opacity:1}).animate({left:"0"},c,"linear",function(){Bose.Utils.initElements(a),$jq(window).trigger("resize"),$jq(document).trigger("shown.popup"),l(),$jq(document).on("keyup",j)}):a.animate({opacity:1},c,function(){e||Bose.Utils.initElements(a),$jq(window).trigger("resize"),$jq(document).trigger("shown.popup").escape(k),$jq(B.buyCloseText).remove(),$jq(B.close).enter(k).focus()})}function j(a){var b=$jq(".bose-popupBuyCloseText").closest(B.popup);27===a.keyCode&&p(b),13===a.keyCode&&document.activeElement.classList.contains("bose-popupBuyCloseText")&&p(b)}function k(){$jq(B.close).length>0&&$jq(B.close).trigger("click")}function l(){var a=$jq(".bose-popupBuyInner").find("a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]").filter(":visible"),b=a.first(),c=a.last();b.focus(),c.on("keydown",function(a){9!==a.which||a.shiftKey||(a.preventDefault(),b.focus())}),b.on("keydown",function(a){9===a.which&&a.shiftKey&&(a.preventDefault(),c.focus())})}function m(){o($jq(this).closest(B.popup))}function n(){var a=$jq(this).closest(B.popup),b=window.location.href.split("#")[0];window.history.replaceState({},document.title,b),p(a)}function o(a){var b=t(a);void 0!==b&&(void 0!==Bose.DataCapture&&Bose.DataCapture.enable(),E[w(b)].onClose(),y(),b.stop().animate({opacity:0},750,function(){$jq(this).remove()}))}function p(a){var b=t(a),c=1e3;Gridle.isActive("small")&&(c=750),void 0!==b&&(void 0!==Bose.DataCapture&&Bose.DataCapture.enable(),E[w(b)].onClose(),y(),b.css({left:"0px"}).animate({opacity:1,left:screen.width},c,function(){$jq(this).remove()}))}function q(){$jq(B.ecommercePopup).hammer().off("swiperight"),(Gridle.isActive("small")||Gridle.isActive("medium"))&&$jq(B.ecommercePopup).hammer().on("swiperight",r)}function r(a){var b=$jq(this).closest(B.popup);$jq(a.gesture.target).hasClass("bose-zoom")||p(b)}function s(){$jq(B.popup).each(function(){o($jq(this))})}function t(a){var b;if("number"!=typeof a){if(a instanceof $jq){if(a.hasClass(C.popup))return a;if(b=a.closest(B.popup),b.length)return b}}else if(b=$jq(B.popup).filter(function(){return $jq(this).data("popup-id")===a}),b.length)return b}function u(a){t(a).find(B.container).prepend(Bose.IconLoader.getTemplate())}function v(a){t(a).find(Bose.IconLoader.selectors.overlay).remove()}function w(a){return a.data("popup-id")}function x(){$jq("html").addClass(C.popupHTML)}function y(){$jq(B.container).length<2&&$jq("html").removeClass(C.popupHTML)}function z(){return $jq(B.popup).length}function A(a){var b;a.match("^/content/")||(b=a.toLowerCase().indexOf("/buy/")>=0?a.split("/buy")[0]+".html":a.split("/_jcr_content")[0]+".html",$jq(B.ratingsContainer).attr("href",b+"#ProductTabs_tab999"))}var B={popup:".bose-popup",container:".bose-popup__container",inner:".bose-popupInner",popupLink:".bose-popupLink",close:".bose-popupClose",buyClose:".bose-popupBuyClose",buyCloseText:".bose-popupBuyCloseText",buyCloseMargin:".bose-popupBuyCloseMargin",ratingsContainer:".js-bose-productRatings__container",eCommercectaArea:".bose-ecommerceArea__ctaArea",productPagePromotion:".bose-promotion__onProductPage",overlayPromotion:".bose-promotion__onOverlay",resellerButton:".js-cta__resellerOverlayButton",loadResellersFromHatch:".js-cta__resellerOverlayButton_activeHatch",sliderNav:".slider-nav",boseCta:".bose-cta",ecommercePopup:".bose-popup__container--ecommercePopup",storeSelectorPopup:".js-storeSelector-popup",buyLink:".bose-buttonLink--inProgress",zoomContainer:".zoomContainer",ecommerce2ImageSlider:".bose-productImageSlider2",productRatings:".bose-productRatings",seeReview:".bose-seeReviews",productRatingsContainer:".bose-productRatings__container"},C={popup:"bose-popup",popupHTML:"bose-popupHTML",buyButton:"bose-popup__container--ecommercePopup"},D={wrapCss:"",onClose:function a(){},showClose:!0,cloneContent:!0},E={},F=0;return{init:a,display:f,displayAjax:e,getPopup:t,close:o,closeBuy:p,closeAll:s,closeBuyOverlayOnSwipe:r,isOpen:z,showLoadingIcon:u,hideLoadingIcon:v,_selectors:B}}(),appear=function(){"use strict";function a(){var a=window.scrollY||window.pageYOffset;null!=c&&(e.velocity=a-c,e.delta=e.velocity>=0?e.velocity:-1*e.velocity),c=a,d&&clearTimeout(d),d=setTimeout(function(){c=null},30)}function b(a,b){var c=a.getBoundingClientRect();return c.top+c.height>=0&&c.left+c.width>=0&&c.bottom-c.height<=(window.innerHeight||document.documentElement.clientHeight)+b&&c.right-c.width<=(window.innerWidth||document.documentElement.clientWidth)+b}var c=null,d=0,e={};return addEventListener("scroll",a,!1),function(a){return function(a){function c(a,b){return function(){var c=this,d=arguments;clearTimeout(l),l=setTimeout(function(){a.apply(c,d)},b)}}function d(){e.delta<t.delta.speed&&(m||(m=!0,i(),setTimeout(function(){m=!1},t.delta.timeout))),c(function(){i()},t.debounce)()}function f(){i(),addEventListener("scroll",d,!1),addEventListener("resize",d,!1)}function g(){p=[],l&&clearTimeout(l),h()}function h(){removeEventListener("scroll",d,!1),removeEventListener("resize",d,!1)}function i(){n||(p.forEach(function(a,c){a&&b(a,t.bounds)?q[c]&&(q[c]=!1,r++,t.appear&&t.appear(a),t.disappear||t.reappear||(p[c]=null)):(!1===q[c]&&(t.disappear&&t.disappear(a),s++,t.reappear||(p[c]=null)),q[c]=!0)}),t.reappear||t.appear&&(!t.appear||r!==k)||t.disappear&&(!t.disappear||s!==k)||(n=!0,h(),t.done&&t.done()))}function j(){if(!o){o=!0,t.init&&t.init();var a;if(a="function"==typeof t.elements?t.elements():t.elements){k=a.length;for(var b=0;b<k;b+=1)p.push(a[b]),q.push(!0);f()}}}var k,l,m,n,o=!1,p=[],q=[],r=0,s=0,t={};return function(a){a=a||{},t={init:a.init,elements:a.elements,appear:a.appear,disappear:a.disappear,done:a.done,reappear:a.reappear,bounds:a.bounds||0,debounce:a.debounce||50,delta:{speed:a.deltaSpeed||50,timeout:a.deltaTimeout||500}},addEventListener("DOMContentLoaded",j,!1);var b=!1;Function("/*@cc_on return document.documentMode===10@*/")()&&(b=!0);var c="complete"===document.readyState||"loaded"===document.readyState;return b?c&&j():(c||"interactive"===document.readyState)&&j(),{trigger:function a(){i()},pause:function a(){h()},resume:function a(){f()},destroy:function a(){g()}}}}()(a)}}();var Bose=Bose||{};Bose.ErrorHandler=Bose.ErrorHandler||{},Bose.ErrorHandler=function(){function a(){$jq(document).off("ajaxComplete ajaxError online offline").on("ajaxComplete",b).on("ajaxError",c).on("online offline",g)}function b(a,b,c){var f=e(b)?"xhrError":"xhrSuccess",g="xhrError"===f?d(b):b.responseText,h="POST"===c.method||"PUT"===c.method||"DELETE"===c.method;"xhrSuccess"===f&&h&&$jq.event.trigger({type:"errorInFields",message:"Error(s) in post data :"+g,time:new Date})}function c(a,b,c){var e="timeout"===b.statusText?"xhrTimeout":"xhrHTTPError",f="xhrTimeout"===e?"Request timed out":d(b),g="Oops! Something went wrong.",j="",k="";null!==c.targetSpace&&(i(c.targetSpace),Bose.IconLoader.removeIconLoaderPageOverlay(),$jq(c.targetSpace).attr("data-error-message")&&(g=$jq(c.targetSpace).attr("data-error-message")),500===b.status&&(j="Click here to retry.",$jq(c.targetSpace).attr("data-error-retry-message")&&(j=$jq(c.targetSpace).attr("data-error-retry-message"))),"body"===c.targetSpace&&(k="bose-errorMessage--page",Bose.Utils.toggleBodyScrolling(!1)),h({message:g,eventMessage:f,retryMessage:j,targetSelector:c.targetSpace,classes:k}))}function d(a){return f(a)+" - "+a.statusText}function e(a){var b=f(a);return!(b>=200&&(b<300||304===b))}function f(a){return a.status||0}function g(a){var b=navigator.onLine?"online":"offline";$jq.event.trigger({type:"Browser"+b,message:"Browser is "+b.toUpperCase(),time:new Date,event:a})}function h(a){var b=j({message:a.message,retryMessage:a.retryMessage,eventMessage:a.eventMessage,classes:a.classes,template:m}),c=$jq(a.targetSelector).find(".bose-errorMessage");c.length>0&&c.remove(),$jq(a.targetSelector).addClass(l.messageWrapper),$jq(a.targetSelector).append(b)}function i(a){a?($jq(a+" "+k.messageWrapper).removeClass(l.messageWrapper),$jq(a+" "+k.message).remove()):($jq(k.messageWrapper).removeClass(l.messageWrapper),$jq(k.message).remove()),Bose.Utils.toggleBodyScrolling(!0)}function j(a){var b=nano(a.template,a),c=$jq(b),d=a.message;return void 0!==d&&0!==d.length||c.find(".bose-errorMessage__text").remove(),c}var k={message:".bose-errorMessage",messageWrapper:".bose-errorMessage--wrapper"},l={messageWrapper:"bose-errorMessage--wrapper"},m='<div class="bose-errorMessage {classes}" role="alert"><i class="bose-errorMessage__icon"></i><span class="bose-errorMessage__text">{message}</span> &nbsp;<a class="bose-errorMessage__retry-text" role="button" title="Click here to retry">{retryMessage}</a></div>';return{selectors:k,classes:l,init:a,showError:h,hideError:i}}();var Bose=Bose||{};Bose.ajax=Bose.ajax||{},Bose.ajax=function(){function a(){}function b(a){var b=e.headers||{},c=f.headers||{};b.csrfToken=a,e.headers=b,c.csrfToken=a,f.headers=c}function c(a){return $jq.extend({},e,a)}function d(a,b,d){var e=c(a);return $jq.support.cors=!0,$jq.ajax(e).done(function(a){b&&"function"==typeof b&&b(a)}).fail(function(a){f=this,401===a.status&&gigya.accounts.getAccountInfo({callback:function a(b){0===b.errorCode&&(Bose.UserData.init(b),$jq.ajax(f))}})}).always(function(){d&&"function"==typeof d&&d()}),0}var e={async:!0,cache:!1,contentType:"application/json",crossDomain:!0,loaderText:"",data:{},type:"GET",showLoading:!0,targetSpace:null,url:"",xhrFields:{withCredentials:!0}},f={};return{init:a,fetch:d,setCSRFToken:b}}(),$jq(window).load(function(){$jq(document).trigger("window.load")});var Bose=Bose||{};Bose.WebStorage=Bose.WebStorage||{},Bose.WebStorage=function(){"use strict";function a(a,b,c){switch(c||f.storageType){case"sessionStorage":Modernizr.sessionstorage?sessionStorage.setItem(a,b):e(c);break;case"localStorage":Modernizr.localstorage?localStorage.setItem(a,b):e(c)}}function b(a,b){var c="";switch(b||f.storageType){case"sessionStorage":Modernizr.sessionstorage&&(c=sessionStorage.getItem(a));break;case"localStorage":Modernizr.localstorage&&(c=localStorage.getItem(a))}return c}function c(a,b){if(void 0===a)d(b);else switch(b||f.storageType){case"sessionStorage":Modernizr.sessionstorage&&sessionStorage.removeItem(a);break;case"localStorage":Modernizr.localstorage&&localStorage.removeItem(a)}}function d(a){switch(a||f.storageType){case"sessionStorage":Modernizr.sessionstorage&&sessionStorage.clear();break;case"localStorage":Modernizr.localstorage&&localStorage.clear()}}function e(a){Bose.DTM.track(a+"NotSupportedOnBrowser")}var f={storageType:"localStorage"};return{storeData:a,getData:b,clearData:c,_defaults:f}}();var Bose=Bose||{};Bose.DTM=function(){"use strict";function a(){b()}function b(){var a,b,c=Bose.WebStorage.getData("analyticsBuffer","sessionStorage"),d=Bose.DataLayer.Data.Order||{},e=[];if(c){if(a=JSON.parse(c),b=void 0===a.eventData.variantCode?null:a.eventData.variantCode.toString(),Bose.DataLayer.setWebStorageVariable("event",a.event),!$jq.isEmptyObject(d))for(var f=0;f<d.details.length;f++)if(d.details[f].variantCode===b){e.push(d.details[f]);break}Bose.DataLayer.setVariable("Order","deltaDetails",e),$jq(document).trigger("cartItemAdded");for(var g in a.eventData)a.eventData.hasOwnProperty(g)&&Bose.DataLayer.setWebStorageVariable(g,a.eventData[g]);a.trackRule&&ia(a.event),Bose.WebStorage.clearData("analyticsBuffer","sessionStorage"),Bose.WebStorage.clearData("deltaDetails","sessionStorage")}}function c(a,b){switch(b.closest("form").data(ra.event)){case"contactus_contactusdetails":d();break;default:e(b.closest(".bose-cta"))}}function d(){var a=$jq(".messageTopic option:selected");ha("contact_us_submitted",{messageTopicValue:a.val(),messageTopicText:a.text()},!0)}function e(a){if(a.length){var b=a.data("orderable");if(void 0!==b&&b){ga("cart_add",{categoryCode:a.data("categoryCode"),variantCode:a.data("variantCode"),variantSku:a.data("variantSku")})}}}function f(){ia("storelocator_location_search")}function g(){ia("storelocator_store_click")}function h(){ia("variant_changed")}function i(){ia("resellerOverlayOpened")}function j(a,b){Bose.DataLayer.setProductVariable("resellerName",b),ia("resellerLinkClicked")}function k(a,b){Bose.DataLayer.setProductVariable("resellerName",b),ia("resellerDirectLinkClicked")}function l(){ia("crossSellView")}function m(){ia("crossSellAdd")}function n(){ia("B2BAssetDownload")}function o(){ia("B2BOrderUploadTemplateDownload")}function p(){ia("myAccountSignInEntry")}function q(){ia("myAccountSignInSucceeded")}function r(){ia("B2BLogInSucceeded")}function s(){Bose.DataLayer.setPageVariable("B2BCheckoutSuccess","checkout|success"),ia("B2BCheckoutSucceeded")}function t(){ia("myAccountSignOut")}function u(){ia("myAccountPasswordResetEntry")}function v(){ia("myAccountRegistrationEntry")}function w(){ia("myAccountSuccessfulPasswordReset")}function x(){ia("myAccountSuccessfulAccountCreation")}function y(){ia("myAccountOrderHistoryTotalOrders")}function z(){ia("myAccountDefaultPageTrack")}function A(){ia("warrantyPage")}function B(){ia("findProductReferencesWithMissingPrices")}function C(){ia("issueCategoryChosen")}function D(){ia("myProductsQuickLinkClick")}function E(){ia("myProductsFormValidationError")}function F(){ia("myProductsFormSubmissionError")}function G(){ia("myProductsError")}function H(){ia("myProductsAddProductCTAInteraction")}function I(){ia("myProductsFindProductCTAInteraction")}function J(){ia("myProductsAddProductSuccess")}function K(){ia("myProductsSuccessfulSearchSubmit")}function L(){ia("myAccountDashboardProducts")}function M(){ia("myAccountCtaActions")}function N(){ia("findMySerialNumber")}function O(){ia("trackMyAccountEditProfileSuccess")}function P(){ia("viewTroubleShootingArticle")}function Q(){ia("tsArticleCustomerRanking")}function R(){ia("snOverlayError")}function S(){ia("productResultsSuccessfulSN")}function T(a,b){ia(b)}function U(a,b){Bose.DataLayer.setError(b),ia("form_validation_error")}function V(){ia("form_b2b_login_error")}function W(a,b){Bose.DataLayer.setVariable("Error","orderUploadError",b),ia("form_b2b_order_upload_error")}function X(a,b){Bose.DataLayer.setVariable("Error","B2BAddToCartError",b),ia("form_b2b_add_to_cart_error")}function Y(a,b){Bose.DataLayer.setPageVariable("B2BAddToCartSuccess",b),ia("form_b2b_add_to_cart_success")}function Z(a,b){Bose.DataLayer.setPageVariable("B2BRemoveFromCartSuccess",b),ia("form_b2b_remove_from_cart_success")}function $(a,b){Bose.DataLayer.setPageVariable("B2BDeleteCartSuccess",b),ia("form_b2b_delete_cart_success")}function _(a,b){Bose.DataLayer.setPageVariable("B2BChangeInCartQuantitySuccess",b),ia("form_b2b_change_in_cart_quantity_success")}function aa(){ia("form_b2b_checkout_error")}function ba(a,b){setTimeout(function(){Bose.DataLayer.setError(b),ia("form_b2b_servicerequest_error")},0)}function ca(a,b){Bose.DataLayer.setVariable("Error","serialLookupError",b),ia("form_b2b_seriallookup_error")}function da(a,b,c,d){var e=b?"articleYes":"articleNo",f=c?"Submitted":"",g=d?"Comment":"No";Bose.DataLayer.setArticleVariable("helpfulResult",g),ia(e+f)}function ea(a,b,c){Bose.DataLayer.Data.ProductRegistration={details:c,country:b},ia("productRegistration_register")}function fa(a,b){"step_productRegistrationConfirmation"===b&&ia("productRegistration_success")}function ga(a,b){b.newCart=!1,"cart_add"===a&&void 0===Cookies.get("HybrisCart")&&(b.newCart=!0),ha(a,b,!0)}function ha(a,b,c){var d=c||!1,e={event:a,eventData:b,trackRule:d};Bose.WebStorage.storeData("analyticsBuffer",JSON.stringify(e),"sessionStorage")}function ia(a){if("undefined"==typeof _satellite||void 0===a)return!1;var b=a;if(a instanceof $jq){if(void 0!==a.data(ra.skipEvent))return!1;b=a.data(ra.event)}return void 0!==b&&null!==b&&(_satellite.track(b),!0)}function ja(){if("undefined"==typeof _satellite)return"";var a=_satellite.getVisitorId();return a?a.getMarketingCloudVisitorID():""}function ka(){ia("cart_modalDisplayed")}function la(){ia("cart_payPalExpress_clicked")}function ma(){ia("checkout_klarna_customer_rejected")}function na(a,b){Bose.DataLayer.setSection("Order",b),ia("cart_remove")}function oa(a,b){Bose.DataLayer.setSection("Order",b),ia("cart_add")}function pa(){ia("trackSwitchAccount")}function qa(a,b,c,d){var e={trackName:b,totalDuration:c,currentDuration:d};Bose.DataLayer.setDrowsyPlayerVariable("DrowsyPlayer",e),ia("audio_track_change")}var ra={event:"dtmEvent",skipEvent:"dtmSkip"};return function sa(){$jq(document).on("forms.actualSubmit",c),$jq(document).on("product.trackVariantChanged",h),$jq(document).on("trackResellerOverlay",i),$jq(document).on("trackResellerLink",j),$jq(document).on("trackResellerDirectLink",k),$jq(document).on("trackCrossSellView",l),$jq(document).on("trackCrossSellAdd",m),$jq(document).on("trackB2BDownloadAssets",n),$jq(document).on("trackB2BDownloadOrderUploadTemplateClick",o),$jq(document).on("forms.trackFormLoaded",T),$jq(document).on("forms.validationError",U),$jq(document).on("forms.B2BCheckoutErrorTrack",aa),$jq(document).on("forms.B2BSerialLookupErrorTrack",ca),$jq(document).on("forms.B2BServiceRequestError",ba),$jq(document).on("forms.B2BloginErrorTrack",V),$jq(document).on("forms.B2BOrderUploadErrorTrack",W),$jq(document).on("forms.B2BAddToCartErrorTrack",X),$jq(document).on("forms.B2BAddToCartSuccessTrack",Y),$jq(document).on("forms.B2BRemoveFromCartSuccessTrack",Z),$jq(document).on("forms.B2BDeleteCartSuccessTrack",$),$jq(document).on("forms.B2BChangeInCartQuantitySuccessTrack",_),$jq(document).on("productRegistration.submitRegistration",ea),$jq(document).on("formFlowStepOpened",fa),$jq(document).on("storeLocator.location",f),$jq(document).on("storeLocator.storeClick",g),$jq(document).on("formYesNoClick",da),$jq(document).on("cart.modalDisplayed",ka),$jq(document).on("cart.productRemoved",na),$jq(document).on("cart.productAdded",oa),$jq(document).on("trackSignInView",p),$jq(document).on("trackSignInSuccess",q),$jq(document).on("trackB2BLoginSuccess",r),$jq(document).on("trackB2BCheckoutSuccess",s),$jq(document).on("trackSignOut",t),$jq(document).on("trackPasswordEntry",u),$jq(document).on("trackRegistrationEntry",v),$jq(document).on("trackSuccessfulPasswordReset",w),$jq(document).on("trackSuccessfulAccountCreation",x),$jq(document).on("trackOrderHistoryTotalOrders",y),$jq(document).on("trackUserStatus",z),$jq(document).on("trackTroubleShootingArticles",P),$jq(document).on("trackTroubleShootingArticleCustomerResponse",Q),$jq(document).on("trackWarrantyOfferPage",A),$jq(document).on("trackProductReferencesWithMissingPrices",B),$jq(document).on("trackProductIssueList",C),$jq(document).on("trackSerialNumber",R),$jq(document).on("trackProductIssue",S),$jq(document).on("trackFindMySerialNumber",N),$jq(document).on("trackQuickLinkClick",D),$jq(document).on("trackFormValidationError",E),$jq(document).on("trackFormSubmissionError",F),$jq(document).on("trackMyProductsError",G),$jq(document).on("trackAddProductCTAInteraction",H),$jq(document).on("trackFindProductCTAInteraction",I),$jq(document).on("trackAddProductSuccess",J),$jq(document).on("trackSuccessfulSearchSubmit",K),$jq(document).on("myAccountDashboardProducts",L),$jq(document).on("audioPlayer.TrackChange",qa),$jq(document).on("trackMyAccountCtaActions",M),$jq(document).on("trackSwitchAccount",pa),$jq(document).on("trackMyAccountEditProfileSuccess",O).on("trackPayPalExpress",la).on("trackKlarnaCustomerRejection",ma)}(),{init:a,track:ia,getVisitorID:ja}}();var Bose=Bose||{};Bose.VariantChangeListener=function(){function a(){$jq(document).on("variantChanged",b)}function b(a,b,e){c($jq(a.target.activeElement).closest(d.container).find(d.variantElements),e)}function c(a,b){a.each(function(a,c){var d=$jq(c);Bose.Utils.stringArrayContains(d.data("variant-codes"),", ",b)?d.addClass(e.variantSelected):d.removeClass(e.variantSelected)})}var d={container:".js-variantChangeContainer",variantElements:".js-variantChangeListener__option"},e={variantSelected:"bose-variantChangeListener__option--selected"};return{init:a,_selectors:d,_classes:e}}();var Bose=Bose||{};Bose.BrightcovePlayer=function(){function a(){b(),"undefined"==typeof videojs&&(s=setInterval(b,100),w.push(s))}function b(){"undefined"!=typeof videojs&&(d(),c(),e(),f(),$jq(document).on("window.load",p),w.forEach(clearInterval))}function c(){var a,b,c,d,e=Bose.Utils.getURLHashParam(v.videoId);e&&(a=Bose.Utils.getURLHashParam(v.autoPlayMode),Bose.Utils.scrollToAnchor(e,null,!0),b=$jq(t.videoPlayerContainer).find("video"),b.each(function(){c=$jq(this),d=c.attr("id"),videojs(d).ready(function(){String(c.data("videoId"))===e&&"yes"===a.toLowerCase()&&j(this,!0)}),n(c,!0)}))}function d(){if(Gridle.isActive("large")){$jq(t.player).each(function(){var a=$jq(this),b=a.find("video"),c=b.attr("id");void 0!==c&&videojs(c).ready(function(){var b=this;a.hasClass(u.backgroundPlayer)&&(k(b,!0),i(b,!0),setTimeout(function(){m(b)}))})})}}function e(){$jq(t.player).each(function(){var a=$jq(this),b=a.find("video"),c=b.attr("id");void 0!==c&&videojs(c).ready(function(){var c=this;if(a.hasClass(u.posterImgOnSmall))return void(Gridle.isActive("small")&&(b.attr("muted",""),i(c,!0),l(c,!1),a.find(".vjs-big-play-button").css("display","none"),a.find(".vjs-poster").css("display","block"),a.find(".vjs-tech").css("display","none"),a.find(".vjs-control-bar").css("display","none"),h(b,c)));a.hasClass(u.loopedPlayer)&&k(c,!0),a.hasClass(u.showPlayerControls)||(l(c,!1),a.find(".vjs-control-bar").first().css("display","none")),a.hasClass(u.scrollToViewPlayer)&&(i(c,!0),g(b,c)),Gridle.on("update",function(){a.hasClass(u.scrollToViewPlayer)&&(i(c,!0),g(b,c))}),n(b,!0)})})}function f(){var a,b,c=$jq(t.videoPlayerContainer),d=c.find(t.playlistItems);d.click(function(){b=$jq(this),a=b.closest(c).find(".vjs-big-play-button"),a.focus()})}function g(a,b){(Gridle.isActive("small")||Gridle.isActive("medium"))&&a.attr("muted",""),a.waypoint({handler:function a(c){"down"===c?(j(b,!0),m(b)):"up"===c&&(j(b,!1),o(b))},offset:"80%"}),a.waypoint({handler:function a(c){"down"===c?(j(b,!1),o(b)):"up"===c&&(j(b,!0),m(b))},offset:a.height()>$jq(window).height()?"-60%":"-20%"})}function h(a,b){var c;b.off(),c=b.getChild("posterImage"),c.off()}function i(a,b){a.muted(b)}function j(a,b){a.autoplay(b)}function k(a,b){a.loop(b)}function l(a,b){a.controls(b)}function m(a){a.play()}function n(a,b){a.attr("playsinline",b)}function o(a){a.pause()}function p(){var a=$jq(t.videoPlayerContainer).find("video");"en"!==Bose.DataLayer.Data.Page.language&&a.each(q)}function q(){var a=$jq(this);videojs(a.attr("id")).ready(r)}function r(){var a,b,c=this.playlist(),d=$jq("#"+this.id_).closest(t.videoPlayerContainer).find(t.playlistItems),e=Bose.DataLayer.Data.Page.language;c.forEach(function(c){void 0!==(a=c.customFields[e])&&d.each(function(d,e){b=$jq(e).find(t.playlistDescription),
b.text()===c.description&&b.text(a)})})}var s,t={player:".bose-brightcovePlayer",videoPlayerContainer:".brightcove-container",playlistItems:".vjs-playlist-item",playlistDescription:".vjs-playlist-description"},u={loopedPlayer:"js-bose-brightcovePlayer--loopvideo",showPlayerControls:"js-bose-brightcovePlayer--showplayercontrols",backgroundPlayer:"bose-brightcovePlayer--background",scrollToViewPlayer:"js-bose-brightcovePlayer--scrollToView",posterImgOnSmall:"js-bose-brightcovePlayer--posterImgOnSmall"},v={videoId:"videoId",autoPlayMode:"autoPlay"},w=[];return{init:a,muteVideo:i,autoplayVideo:j,loopVideo:k,controlVideo:l,playVideo:m,addPlaysinline:n,pauseVideo:o,hashParams:v,_classes:u}}();var Bose=Bose||{};Bose.Story=function(){function a(){var a=$jq(g.dynamicStoryBlock);$jq(g.videoStoryBlock).each(function(){var a=$jq(this);"Media"===a.data("backgroundType")&&b(a),Gridle.isActive("large")||c(a)}),a.each(function(){d($jq(this))})}function b(a){var b=a.find("video");"undefined"!=typeof videojs&&videojs(b.attr("id")).ready(function(){Bose.BrightcovePlayer.muteVideo(this,!0),Bose.BrightcovePlayer.autoplayVideo(this,!0),Bose.BrightcovePlayer.loopVideo(this,!0),Bose.BrightcovePlayer.addPlaysinline(b,!0)})}function c(a){var b=a.find(".bose-brightcovePlayer--background .vjs-poster"),c=a.find(".bose-brightcovePlayer--background .video-js .vjs-tech"),d=a.data("videoFocal");b.addClass(d),c.addClass(d)}function d(a){e(a),$jq(document).on("alertBarOpen",function(b){e(a),b.preventDefault()}),$jq(document).on("alertBarClosed",function(b){e(a),b.preventDefault()}),Gridle.on("update",function(){e(a)})}function e(a){f(a,!1),a.children(g.dynamicStoryBlockLayer).each(function(){f($jq(this),!0)})}function f(a,b){var c=a.height(),d=a.data("initialHeight"),e=$jq(g.headerContainer),f=e.innerHeight();a.css("height",""),c=a.height(),d&&!Gridle.isActive("small")?a.css("height","calc("+d+" - "+f+"px)"):b||a.height(c-f),b&&a.css("min-height","calc("+d+" - "+f+"px)")}var g={dynamicStoryBlock:".js-storyBlock__dynamicHeight",dynamicStoryBlockLayer:".bose-storyBlock__layer.bose-storyBlock__backgroundContainer",headerContainer:".bose-headercontainer",videoStoryBlock:".js-storyBlock__video"};return{init:a}}();var Bose=Bose||{};Bose.ExpandableContentContainer=function(){function a(a){b=$jq(a),b.hasClass(d.expandableContentContainerOpen)&&(b.find(c.expandableTitle).eq(0).addClass(d.expandableTitleActive),b.find(c.expandableContent).eq(0).addClass(d.expandableContentActive),b.find(c.expandableIcon).eq(0).addClass(d.expandableIconActive))}var b,c={expandableTitle:".bose-expandableContent__title",expandableContent:".bose-expandableContent__content",expandableIcon:".bose-expandableContent__icon"},d={expandableContentContainerOpen:"bose-expandableContentContainer--open",expandableTitleActive:"bose-expandableContent__title--active",expandableContentActive:"bose-expandableContent__content--active",expandableIconActive:"bose-expandableContent__icon--active"};return{init:a}}();var Bose=Bose||{};Bose.IconLoader=function(){function a(a,b){var c=$jq(".bose-iconLoader"+Bose.Utils.sanitizeSelector(a)),d=c.find(".bose-iconLoader__text");void 0!==b&&b.length?(d.text(b),d.show()):d.hide(),c.show()}function b(a){$jq(".bose-iconLoader"+Bose.Utils.sanitizeSelector(a)).hide()}function c(a,b,c){var e,f;c?(e=d(a,!1),f=Bose.Utils.sanitizeSelector(c),$jq(f).addClass(g.overlayWrapper)):(e=d(a,!0),f="body"),b?setTimeout(function(){Bose.Utils.toggleBodyScrolling(!1),$jq(f).append(e)},5):(Bose.Utils.toggleBodyScrolling(!0),$jq(f).append(e))}function d(a,b,c){var d={msg:a,clazz:(c||"")+(b?" bose-iconLoaderOverlay--page":"")},e=nano('<div class="bose-iconLoaderOverlay js-iconLoaderOverlay {clazz}"><div class="bose-iconLoaderOverlay__background"></div><div class="bose-iconLoaderOverlay__iconContainer"><div class="bose-iconLoaderOverlay__icon bose-iconLoader bose-iconLoader--newBrand"></div><p class="bose-iconLoaderOverlay__text">{msg}</p><div></div>',d),f=$jq(e);return void 0!==a&&0!==a.length||f.find(".bose-iconLoaderOverlay__text").remove(),f}function e(a){var b,c;a?(b=Bose.Utils.sanitizeSelector(a),$jq(b).removeClass(g.overlayWrapper),c=Bose.Utils.sanitizeSelector(a)+" "+f.overlay,$jq(c).remove()):($jq(f.overlayWrapper).removeClass(g.overlayWrapper),$jq(f.overlay).remove()),Bose.Utils.toggleBodyScrolling(!0)}var f={overlay:".js-iconLoaderOverlay",overlayWrapper:".bose-iconLoaderOverlay--wrapper"},g={overlayWrapper:"bose-iconLoaderOverlay--wrapper"};return{selectors:f,getTemplate:d,show:a,hide:b,showIconLoaderPageOverlay:c,removeIconLoaderPageOverlay:e}}();var Bose=Bose||{};Bose.Tabs=function(){function a(){E=$jq(B.tabBar).outerHeight()+$jq(B.stickyMsg).outerHeight()||0,u=$jq(B.tabBar),v=$jq(B.tabListItem),w=$jq(B.tabSection),x=$jq(B.tabSectionImage),y=w.first(),z=$jq(B.footer),Bose.Utils.isAuthorMode()||(b(),c(),e(),g())}function b(){$jq(document).on("click",B.tabListLink,q).on("click",B.tabMenuLink,q).on("click",B.tabMenuContainer,o).on("keydown",B.tabMenuContainer,n).on("keydown",B.tabMenuLink,p).on("socialImages.initialized",e).on("window.load",d),$jq(window).on("resize",d),x.on("load",d)}function c(){x.addClass("lazypreload")}function d(){clearTimeout(A),A=setTimeout(function(){$jq.waypoints("refresh")},D)}function e(){f(),u.waypoint("sticky",{handler:h}),y.waypoint({handler:i,offset:E}),w.waypoint({handler:j,offset:E}),w.waypoint({handler:k,offset:function a(){return E-this.offsetHeight}}),z.waypoint({handler:m,offset:u.outerHeight()})}function f(){u.waypoint("unsticky"),u.waypoint("destroy"),y.waypoint("destroy"),w.waypoint("destroy"),z.waypoint("destroy")}function g(){var a=Bose.Utils.getURLHashParam(Bose.BrightcovePlayer.hashParams.videoId),b=Bose.Utils.getURLHashParam(Bose.BazaarVoice.hashParams.submit),c=0,d=window.location.hash;!d||a||b||(d.indexOf("ProductTabs_")>-1&&(c=E),Bose.Utils.scrollToAnchor(d,null,!0,c))}function h(){$jq(B.stickyMsg).slideToggle(500,function(){d()})}function i(a){var b=$jq("#PrimaryCta_tab");"down"===a?b.css("visibility","visible"):"up"===a&&b.css("visibility","hidden")}function j(a){"down"===a&&l($jq(this))}function k(a){"up"===a&&l($jq(this))}function l(a){var b=$jq(B.tabListItem+"#"+a.data("id"));v.removeClass(C.tabActive),b.addClass(C.tabActive)}function m(a){var b=z.offset().top||0;"down"===a?u.css({position:"absolute",top:b-u.outerHeight()}):"up"===a&&u.attr("style","")}function n(a){["Enter","Escape","Spacebar"," "].indexOf(a.key)>-1&&(o(),a.preventDefault())}function o(){var a=$jq(B.tabMenuContainer),b=$jq(B.tabMenu);F?(a.attr("aria-expanded","false"),b.removeClass("-show"),F=!1):(a.attr("aria-expanded","true"),b.addClass("-show"),b.find(B.tabMenuLink).first().focus(),F=!0)}function p(a){var b=$jq(B.tabMenuContainer),c=$jq(B.tabMenuLink).first().get(0),d=$jq(B.tabMenuLink).last().get(0),e=document.activeElement,f=$jq(this);["Enter","Escape","Spacebar"," "].indexOf(a.key)>-1&&(o(),"Enter"===a.key?f.click():(b.focus(),a.stopPropagation())),"ArrowDown"===a.key&&e!==d&&$jq(e).parent().next().find(B.tabMenuLink).focus(),"ArrowUp"===a.key&&e!==c&&$jq(e).parent().prev().find(B.tabMenuLink).focus(),["ArrowUp","ArrowDown","Spacebar"," "].indexOf(a.key)>-1&&a.preventDefault()}function q(){var a=$jq(this),b=a.data("anchorName")||"";t(b),r(b)}function r(a){var b,c,d,e;"EcommerceArea"===a?e=$jq(".js-cta__primary:visible"):(b=$jq(B.tabSection+'[data-id="'+a+'"]'),c=w.index(b),d=w.slice(c),d.each(function(){var a=$jq(this).find(":tabbable");if(a.length)return e=a.first(),!1})),$jq(document).one("keydown",function(){}